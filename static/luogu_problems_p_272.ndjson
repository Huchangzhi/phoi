{"pid": "P6503", "type": "P", "difficulty": 4, "samples": [["3\n1\n2\n3", "4"], ["4\n7\n5\n7\n5", "12"], ["4\n3\n1\n7\n2", "31"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2010", "单调队列", "O2优化", "栈", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] DIFERENCIJA", "background": "", "description": "给出一个长度为 $n$ 的序列 $a_i$，求出下列式子的值：\n\n$$\\sum_{i=1}^{n} \\sum_{j=i}^{n} (\\max_{i\\le k\\le j} a_k-\\min_{i\\le k\\le j} a_k)$$\n\n\n\n即定义一个子序列的权值为序列内最大值与最小值的差。求出所有连续子序列的权值和。\n\n", "inputFormat": "输入第一行一个整数 $n$，表示序列的长度。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，描述这个序列。", "outputFormat": "输出一行一个整数，表示式子的答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 3\\times 10^5$，$1\\le a_i\\le 10^8$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T5 DIFERENCIJA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] DIFERENCIJA", "background": "", "description": "给出一个长度为 $n$ 的序列 $a_i$，求出下列式子的值：\n\n$$\\sum_{i=1}^{n} \\sum_{j=i}^{n} (\\max_{i\\le k\\le j} a_k-\\min_{i\\le k\\le j} a_k)$$\n\n\n\n即定义一个子序列的权值为序列内最大值与最小值的差。求出所有连续子序列的权值和。\n\n", "inputFormat": "输入第一行一个整数 $n$，表示序列的长度。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，描述这个序列。", "outputFormat": "输出一行一个整数，表示式子的答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 3\\times 10^5$，$1\\le a_i\\le 10^8$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T5 DIFERENCIJA***。", "locale": "zh-CN"}}}
{"pid": "P6504", "type": "P", "difficulty": 0, "samples": [["3 3\naaa\naaa\naaa\n4\n2 0\n2 2\n0 2\n0 0", "4"], ["3 3\naaa\naba\naaa\n4\n2 0\n2 2\n0 2\n0 0", "0"], ["5 4\nxyyx\nxyyy\nxxyy\nxxxx\nxxxx\n8\n1 3\n1 2\n0 2\n0 0\n2 0\n2 1\n3 1\n3 3", "2"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] MONO", "background": null, "description": "给定一个 $r\\times c$ 的由小写字母组成的矩阵。每一个方格内有一个字母。其中：\n\n- 左上角的坐标为 $(0,0)$；\n- 右上角的坐标为 $(c,0)$；\n- 左下角的坐标为 $(0,r)$；\n- 右下角的坐标为 $(c,r)$。\n\n**注意这里的坐标是点，而字母放置在方格内。**\n\n给定一个顶点在一些方格的顶点上的多边形，且每条边平行于矩阵的边。请你求出，这个多边形经过上、下、左、右的平移，最多存在多少种情况，使得其内部的字母全部相等？", "inputFormat": "输入第一行两个整数 $r,c$，为矩形的长和宽。\n\n接下来的 $r$ 行，每行 $c$ 个字母，描述这个矩阵。\n\n接下来一行一个整数 $V$，为多边形的顶点数。\n\n接下来的 $V$ 行，每行两个整数 $x,y$，表示这个多边形一个顶点的坐标。顶点坐标按顺时针顺序给出。", "outputFormat": "输出一行一个整数，表示通过平移可以得到的内部字母全部相等的多边形数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $r,c,V\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $V\\le 20$；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 500$，$4\\le V\\le 500$，$0\\le x\\le c$，$0\\le y\\le r$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T6 MONO***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] MONO", "background": null, "description": "给定一个 $r\\times c$ 的由小写字母组成的矩阵。每一个方格内有一个字母。其中：\n\n- 左上角的坐标为 $(0,0)$；\n- 右上角的坐标为 $(c,0)$；\n- 左下角的坐标为 $(0,r)$；\n- 右下角的坐标为 $(c,r)$。\n\n**注意这里的坐标是点，而字母放置在方格内。**\n\n给定一个顶点在一些方格的顶点上的多边形，且每条边平行于矩阵的边。请你求出，这个多边形经过上、下、左、右的平移，最多存在多少种情况，使得其内部的字母全部相等？", "inputFormat": "输入第一行两个整数 $r,c$，为矩形的长和宽。\n\n接下来的 $r$ 行，每行 $c$ 个字母，描述这个矩阵。\n\n接下来一行一个整数 $V$，为多边形的顶点数。\n\n接下来的 $V$ 行，每行两个整数 $x,y$，表示这个多边形一个顶点的坐标。顶点坐标按顺时针顺序给出。", "outputFormat": "输出一行一个整数，表示通过平移可以得到的内部字母全部相等的多边形数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $r,c,V\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $V\\le 20$；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 500$，$4\\le V\\le 500$，$0\\le x\\le c$，$0\\le y\\le r$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T6 MONO***。", "locale": "zh-CN"}}}
{"pid": "P6505", "type": "P", "difficulty": 7, "samples": [["100 100 4\n10 10\n10 90\n90 10\n90 90\n", "56.5685424949\n"], ["3000 3000 4\n1200 85\n63 2500\n2700 2650\n2990 100\n", "1601.8805541731\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "Special Judge", "凸包", "线段相交"], "title": "Run Away", "background": "", "description": "平面直角坐标系内有一个矩形，左下角坐标为 $(0, 0)$，右上角为 $(w, h)$，边平行于坐标轴。\n\n矩形内有 $n$ 个已知点，第 $i$ 个点坐标为 $(x_i, y_i)$。\n\n请找到矩形内一点，使得这个点到最近的已知点距离最远。输出这个距离的值即可。", "inputFormat": "第一行输入三个整数 $w, h, n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示最近距离的最大值。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$ 内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n所求点坐标为 $(50, 50)$，到已知最近点的距离为 $40 \\sqrt{2} \\approx 56.568542494923802$。\n\n---\n\n#### 数据范围\n\n- 对于 $50\\%$ 的数据，$n \\le 50$。\n- 对于 $100\\%$ 的数据，$1 \\le w, h \\le 10\\ 000$，$3 \\le n \\le 1000$，$0 \\le x_i \\le w$，$0 \\le y_i \\le h$。\n\n输入数据中可能有重点。\n\n---\n\n来源：IOI 2006 国家集训队论文「王栋 —— 浅析平面 voronoi 图的构造及应用」。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Run Away", "background": "", "description": "平面直角坐标系内有一个矩形，左下角坐标为 $(0, 0)$，右上角为 $(w, h)$，边平行于坐标轴。\n\n矩形内有 $n$ 个已知点，第 $i$ 个点坐标为 $(x_i, y_i)$。\n\n请找到矩形内一点，使得这个点到最近的已知点距离最远。输出这个距离的值即可。", "inputFormat": "第一行输入三个整数 $w, h, n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示最近距离的最大值。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$ 内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n所求点坐标为 $(50, 50)$，到已知最近点的距离为 $40 \\sqrt{2} \\approx 56.568542494923802$。\n\n---\n\n#### 数据范围\n\n- 对于 $50\\%$ 的数据，$n \\le 50$。\n- 对于 $100\\%$ 的数据，$1 \\le w, h \\le 10\\ 000$，$3 \\le n \\le 1000$，$0 \\le x_i \\le w$，$0 \\le y_i \\le h$。\n\n输入数据中可能有重点。\n\n---\n\n来源：IOI 2006 国家集训队论文「王栋 —— 浅析平面 voronoi 图的构造及应用」。", "locale": "zh-CN"}}}
{"pid": "P6507", "type": "P", "difficulty": 3, "samples": [["6\n1\n2\n3\n4\n5\n6", "12"], ["8\n2\n3\n4\n3\n1\n6\n1\n4", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "O2优化", "COCI（克罗地亚）"], "title": "[CRCI2007-2008] NIKOLA", "background": "", "description": "有一行 $n$ 个格子，编号为 $1\\sim n$，Nikola 从 $1$ 号格子出发，想要前往 $n$ 号格子。\n\n他的行程包含若干次跳跃，第一次只能跳到 $2$ 号格子，接下来的跳跃必须满足以下条件：\n\n- 如果他向 $n$ 号格子的方向跳跃，那么每次必须比前一次多跳一个距离的格子；\n\n- 如果他向 $1$ 号格子的方向跳跃，那么每次必须与上一次的跳跃距离完全相同。\n\n例如，在第一次跳跃之后（位于 $2$ 号格），Nikola 可以选择跳到 $4$ 或者 $1$。\n\n每进入一个格子，Nikola 都要支付相应的入场费。第 $i$ 个格子需要付费 $a_i$。他希望在能到达 $n$ 号格的前提下尽可能少的花钱。你需要求出这个最小值。", "inputFormat": "输入第一行一个整数 $n$，表示格子的数量。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，依次表示 $1\\sim n$ 号格子的入场费。", "outputFormat": "输出一行一个整数，表示最小的花费。\n\n**注意：刚开始所在的 $1$ 号格子不计费，但多次经过同一个格子需要计费。**", "hint": "#### 样例 1 解释\n\n在第一个样例中，Nikola 的路线为 $1-2-1-3-6$。共花费 $2+1+3+6=12$ 。\n\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 1000$，$1\\le a_i\\le 500$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T2 NIKOLA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2007-2008] NIKOLA", "background": "", "description": "有一行 $n$ 个格子，编号为 $1\\sim n$，Nikola 从 $1$ 号格子出发，想要前往 $n$ 号格子。\n\n他的行程包含若干次跳跃，第一次只能跳到 $2$ 号格子，接下来的跳跃必须满足以下条件：\n\n- 如果他向 $n$ 号格子的方向跳跃，那么每次必须比前一次多跳一个距离的格子；\n\n- 如果他向 $1$ 号格子的方向跳跃，那么每次必须与上一次的跳跃距离完全相同。\n\n例如，在第一次跳跃之后（位于 $2$ 号格），Nikola 可以选择跳到 $4$ 或者 $1$。\n\n每进入一个格子，Nikola 都要支付相应的入场费。第 $i$ 个格子需要付费 $a_i$。他希望在能到达 $n$ 号格的前提下尽可能少的花钱。你需要求出这个最小值。", "inputFormat": "输入第一行一个整数 $n$，表示格子的数量。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，依次表示 $1\\sim n$ 号格子的入场费。", "outputFormat": "输出一行一个整数，表示最小的花费。\n\n**注意：刚开始所在的 $1$ 号格子不计费，但多次经过同一个格子需要计费。**", "hint": "#### 样例 1 解释\n\n在第一个样例中，Nikola 的路线为 $1-2-1-3-6$。共花费 $2+1+3+6=12$ 。\n\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 1000$，$1\\le a_i\\le 500$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T2 NIKOLA***。", "locale": "zh-CN"}}}
{"pid": "P6508", "type": "P", "difficulty": 3, "samples": [["2 100\n10 8 10 10 13 11\n12 20 6 10 17 24\n", "5"], ["3 65\n10 5 7 10 13 14\n10 5 8 11 14 15\n10 5 9 12 15 16", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "二分", "O2优化", "COCI（克罗地亚）"], "title": "[CRCI2007-2008] KUHAR", "background": "", "description": "做某种菜需要 $n$ 种食材，对于第 $i$ 种食材，做一道该菜品需要 $a_i$ 份该食材，目前厨房已经有 $b_i$ 份该食材。对于每种食材都可以去超市再买一些，超市里有**大包**和**小包**两种类型，第 $i$ 种食材的小包每包有 $sm_i$ 份该食材，价格为每包 $pm_i$ 元，大包有 $sv_i$ 份该食材，价格为每包 $pv_i$ 元。对于每种食材，你都可以买任意多包（可以不买）的大包与小包。\n\n你手里有 $m$ 元钱，现在请求出用你手中的钱，最多能做出几道该菜品。", "inputFormat": "输入的第一行有两个整数，分别表示食材数 $n$ 和你的钱数 $m$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行六个整数，第 $(i + 1)$ 行的整数分别为 $a_i, b_i, sm_i, pm_i, sv_i, pv_i$，其含义见【题目描述】。", "outputFormat": "输出一行一个整数，表示你最多能做出几道该菜品。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 10^5$。\n- $10 \\leq a_i \\leq 100$，$1 \\leq b_i \\leq 100$。\n- $1 \\leq sm_i \\lt sv_i \\leq 100$，$1 \\leq pm_i \\lt pv_i \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T3 KUHAR***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2007-2008] KUHAR", "background": "", "description": "做某种菜需要 $n$ 种食材，对于第 $i$ 种食材，做一道该菜品需要 $a_i$ 份该食材，目前厨房已经有 $b_i$ 份该食材。对于每种食材都可以去超市再买一些，超市里有**大包**和**小包**两种类型，第 $i$ 种食材的小包每包有 $sm_i$ 份该食材，价格为每包 $pm_i$ 元，大包有 $sv_i$ 份该食材，价格为每包 $pv_i$ 元。对于每种食材，你都可以买任意多包（可以不买）的大包与小包。\n\n你手里有 $m$ 元钱，现在请求出用你手中的钱，最多能做出几道该菜品。", "inputFormat": "输入的第一行有两个整数，分别表示食材数 $n$ 和你的钱数 $m$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行六个整数，第 $(i + 1)$ 行的整数分别为 $a_i, b_i, sm_i, pm_i, sv_i, pv_i$，其含义见【题目描述】。", "outputFormat": "输出一行一个整数，表示你最多能做出几道该菜品。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 10^5$。\n- $10 \\leq a_i \\leq 100$，$1 \\leq b_i \\leq 100$。\n- $1 \\leq sm_i \\lt sv_i \\leq 100$，$1 \\leq pm_i \\lt pv_i \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T3 KUHAR***。", "locale": "zh-CN"}}}
{"pid": "P6509", "type": "P", "difficulty": 4, "samples": [["143175=120\n", "14+31+75=120"], ["5025=30\n", "5+025=30"], ["999899=125\n", "9+9+9+89+9=125"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2008", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI2007-2008] JEDNAKOST", "background": "", "description": "给定一个形如 `A=B` 的字符串，其中 $A$ 和 $B$ 都是不含前导零的正整数。请给 $A$ 的一些相邻数位之间加上加号，要求添加的加号数量最少，使得等式成立。\n\n在 $A$ 加上加号后，每个加数允许有多个前导 $0$。包括 $0$ 在内。也即允许形如 $000 \\ldots$ 的数作为加数。\n\n数据保证有解。", "inputFormat": "输入只有一行一个形如 `A=B` 字符串，表示给定的等式。", "outputFormat": "**本题存在 Special Judge**。\n\n输出一行一个字符串，表示加上加号以后的成立的等式。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq A \\lt 10^{1000}$，$1 \\leq B \\leq 5 \\times 10^3$，$A \\neq B$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T4 JEDNAKOST***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI2007-2008] JEDNAKOST", "background": "", "description": "给定一个形如 `A=B` 的字符串，其中 $A$ 和 $B$ 都是不含前导零的正整数。请给 $A$ 的一些相邻数位之间加上加号，要求添加的加号数量最少，使得等式成立。\n\n在 $A$ 加上加号后，每个加数允许有多个前导 $0$。包括 $0$ 在内。也即允许形如 $000 \\ldots$ 的数作为加数。\n\n数据保证有解。", "inputFormat": "输入只有一行一个形如 `A=B` 字符串，表示给定的等式。", "outputFormat": "**本题存在 Special Judge**。\n\n输出一行一个字符串，表示加上加号以后的成立的等式。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq A \\lt 10^{1000}$，$1 \\leq B \\leq 5 \\times 10^3$，$A \\neq B$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T4 JEDNAKOST***。", "locale": "zh-CN"}}}
{"pid": "P6510", "type": "P", "difficulty": 4, "samples": [["5\n1\n2\n3\n4\n1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["单调队列", "NOI 导刊", "O2优化", "分治", "栈"], "title": "奶牛排队", "background": "", "description": "奶牛在熊大妈的带领下排成了一条直队。\n\n显然，不同的奶牛身高不一定相同……\n\n现在，奶牛们想知道，如果找出一些连续的奶牛，要求最左边的奶牛 $A$ 是最矮的，最右边的 $B$ 是最高的，且 $B$ 高于 $A$ 奶牛。中间如果存在奶牛，则身高不能和 $A,B$ 奶牛相同。问这样的奶牛最多会有多少头？\n\n从左到右给出奶牛的身高，请告诉它们符合条件的最多的奶牛数（答案可能是 $0,2$，但不会是 $1$）。", "inputFormat": "第一行一个正整数 $N$，表示奶牛的头数。\n\n接下来 $N$ 行，每行一个正整数，从上到下表示从左到右奶牛的身高 $h_i$。\n", "outputFormat": "一行一个整数，表示最多奶牛数。", "hint": "#### 样例解释\n\n取第 $1$ 头到第 $4$ 头奶牛，满足条件且为最多。\n\n#### 数据范围\n\n对于全部的数据，满足 $2 \\le N \\le 10^5$，$1 \\le h_i <2^{31}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "奶牛排队", "background": "", "description": "奶牛在熊大妈的带领下排成了一条直队。\n\n显然，不同的奶牛身高不一定相同……\n\n现在，奶牛们想知道，如果找出一些连续的奶牛，要求最左边的奶牛 $A$ 是最矮的，最右边的 $B$ 是最高的，且 $B$ 高于 $A$ 奶牛。中间如果存在奶牛，则身高不能和 $A,B$ 奶牛相同。问这样的奶牛最多会有多少头？\n\n从左到右给出奶牛的身高，请告诉它们符合条件的最多的奶牛数（答案可能是 $0,2$，但不会是 $1$）。", "inputFormat": "第一行一个正整数 $N$，表示奶牛的头数。\n\n接下来 $N$ 行，每行一个正整数，从上到下表示从左到右奶牛的身高 $h_i$。\n", "outputFormat": "一行一个整数，表示最多奶牛数。", "hint": "#### 样例解释\n\n取第 $1$ 头到第 $4$ 头奶牛，满足条件且为最多。\n\n#### 数据范围\n\n对于全部的数据，满足 $2 \\le N \\le 10^5$，$1 \\le h_i <2^{31}$。", "locale": "zh-CN"}}}
{"pid": "P6511", "type": "P", "difficulty": 3, "samples": [["2\n2 2\n2 1\n", "1\n0"], ["1\n6 2\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "[QkOI#R1] Quark and Equations", "background": "", "description": "给定 $n,m$，求有几组正整数对 $(i,j)$ 满足下列方程组：\n\n$$\n\\begin{cases}\n   i+j=n \\\\\n   \\lfloor\\frac{i}{j}\\rfloor+\\lceil\\frac{j}{i}\\rceil=m\n\\end{cases}\n$$\n\n上式中，$\\lfloor x\\rfloor$ 表示对 $x$ 向下取整，$\\lceil x\\rceil$ 表示对 $x$ 向上取整。", "inputFormat": "**本题单个数据点含多组数据。**\n\n第一行一个整数 $T$ 表示这个数据点有几组数据。\n\n接下来 $T$ 行每行两个整数 $n,m$ ，含义如题面所述。", "outputFormat": "你的输出应有 $T$ 行。\n\n对于每一组数据，输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n当 $n=m=2$ 时，只有 $(1,1)$ 满足条件。  \n当 $n=2,m=1$ 时，无解。  \n当 $n=6,m=2$ 时，只有 $(2,4),(3,3)$ 满足条件。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$T,n,m\\le 500$。\n- Subtask 2（40 pts）：$T,n,m\\le 5000$。\n- Subtask 3（5 pts）：$m=1$。\n- Subtask 4（5 pts）：$m>n$。\n- Subtask 5（5 pts）：$m\\in[n-1,n]$。\n- Subtask 6（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10^5$，$1\\le n,m\\le 10^{7}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[QkOI#R1] Quark and Equations", "background": "", "description": "给定 $n,m$，求有几组正整数对 $(i,j)$ 满足下列方程组：\n\n$$\n\\begin{cases}\n   i+j=n \\\\\n   \\lfloor\\frac{i}{j}\\rfloor+\\lceil\\frac{j}{i}\\rceil=m\n\\end{cases}\n$$\n\n上式中，$\\lfloor x\\rfloor$ 表示对 $x$ 向下取整，$\\lceil x\\rceil$ 表示对 $x$ 向上取整。", "inputFormat": "**本题单个数据点含多组数据。**\n\n第一行一个整数 $T$ 表示这个数据点有几组数据。\n\n接下来 $T$ 行每行两个整数 $n,m$ ，含义如题面所述。", "outputFormat": "你的输出应有 $T$ 行。\n\n对于每一组数据，输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n当 $n=m=2$ 时，只有 $(1,1)$ 满足条件。  \n当 $n=2,m=1$ 时，无解。  \n当 $n=6,m=2$ 时，只有 $(2,4),(3,3)$ 满足条件。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$T,n,m\\le 500$。\n- Subtask 2（40 pts）：$T,n,m\\le 5000$。\n- Subtask 3（5 pts）：$m=1$。\n- Subtask 4（5 pts）：$m>n$。\n- Subtask 5（5 pts）：$m\\in[n-1,n]$。\n- Subtask 6（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10^5$，$1\\le n,m\\le 10^{7}$。", "locale": "zh-CN"}}}
{"pid": "P6512", "type": "P", "difficulty": 4, "samples": [["2 1 5\n1 2 2\n1 2\n2 2\n3 2\n5 1\n7 2\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "最短路"], "title": "[QkOI#R1] Quark and Flying Pigs", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的边带权简单连通无向图，在 $0$ 时刻你在点 $1$ 上。\n\n假设当前是 $t$ 时刻，你在点 $v$ 上，你可以选择两种操作：\n\n- 仍停留在点 $v$ 上，操作后到 $t+1$ 时刻。\n- 选择一条边 $(a,b,w)$ 满足 $a=v$ 或 $b=v$，则你到这条边连接的另一个点上，操作后到 $t+w$ 时刻。\n\n有 $k$ 条信息，每一条信息形如 $(t_i,v_i)$ 表示在 $t_i$ 时刻，点 $v_i$ 上会出现一只飞猪，其编号为 $i$，若该时刻你在 $v_i$ 上，则你捕获到了 $i$ 号飞猪。\n\n现在你需要求出你能捕获到的飞猪数量的最大值。\n\n", "inputFormat": "第一行为三个正整数 $n,m,k$。\n\n接下来 $m$ 行每行三个正整数 $a_i,b_i,w_i$。\n\n接下来 $k$ 行每行两个正整数 $t_i,v_i$。", "outputFormat": "一行一个整数，为你能捕获到的飞猪数量的最大值。", "hint": "### 样例解释\n\n最优方案如下：\n\n$0$ 时刻，选择移动到节点 $2$，时间来到 $2$ 时刻。  \n$2$ 时刻，捕获到第 $2$ 只飞猪，选择停留在节点 $2$，时间来到 $3$ 时刻。  \n$3$ 时刻，捕获到第 $3$ 只飞猪，选择移动到节点 $1$，时间来到 $5$ 时刻。  \n$5$ 时刻，捕获到第 $4$ 只飞猪，选择移动到节点 $2$，时间来到 $7$ 时刻。  \n$7$ 时刻，捕获到第 $5$ 只飞猪。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$n,m,k\\le 7$。  \n对于 $100\\%$ 的数据，$2\\le n\\le 200$，$1\\le m\\le \\frac{n(n-1)}{2}$，$1\\le k\\le 5000$，$1\\le a_i,b_i,v_i\\le n$，$1\\le w_i\\le 1000$，$1\\le t_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Flying Pigs", "background": "", "description": "You are given a simple, connected, undirected weighted graph with $n$ vertices and $m$ edges. At time $0$, you are at vertex $1$.\n\nSuppose the current time is $t$ and you are at vertex $v$. You may choose one of the following operations:\n\n- Stay at vertex $v$. After the operation, the time becomes $t+1$.\n- Choose an edge $(a,b,w)$ such that $a=v$ or $b=v$. Then you move to the other endpoint of this edge. After the operation, the time becomes $t+w$.\n\nThere are $k$ pieces of information. Each piece is of the form $(t_i,v_i)$, meaning that at time $t_i$, a flying pig with ID $i$ will appear at vertex $v_i$. If you are at $v_i$ at that time, then you capture flying pig $i$.\n\nNow you need to find the maximum number of flying pigs you can capture.", "inputFormat": "The first line contains three positive integers $n,m,k$.\n\nThe next $m$ lines each contain three positive integers $a_i,b_i,w_i$.\n\nThe next $k$ lines each contain two positive integers $t_i,v_i$.", "outputFormat": "Output one integer in a single line: the maximum number of flying pigs you can capture.", "hint": "### Sample Explanation\n\nThe optimal plan is as follows:\n\nAt time $0$, choose to move to node $2$, and the time becomes $2$.  \nAt time $2$, capture the $2$-nd flying pig, choose to stay at node $2$, and the time becomes $3$.  \nAt time $3$, capture the $3$-rd flying pig, choose to move to node $1$, and the time becomes $5$.  \nAt time $5$, capture the $4$-th flying pig, choose to move to node $2$, and the time becomes $7$.  \nAt time $7$, capture the $5$-th flying pig.\n\n### Constraints\n\nFor $20\\%$ of the testdata, $n,m,k\\le 7$.  \nFor $100\\%$ of the testdata, $2\\le n\\le 200$, $1\\le m\\le \\frac{n(n-1)}{2}$, $1\\le k\\le 5000$, $1\\le a_i,b_i,v_i\\le n$, $1\\le w_i\\le 1000$, $1\\le t_i\\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Flying Pigs", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的边带权简单连通无向图，在 $0$ 时刻你在点 $1$ 上。\n\n假设当前是 $t$ 时刻，你在点 $v$ 上，你可以选择两种操作：\n\n- 仍停留在点 $v$ 上，操作后到 $t+1$ 时刻。\n- 选择一条边 $(a,b,w)$ 满足 $a=v$ 或 $b=v$，则你到这条边连接的另一个点上，操作后到 $t+w$ 时刻。\n\n有 $k$ 条信息，每一条信息形如 $(t_i,v_i)$ 表示在 $t_i$ 时刻，点 $v_i$ 上会出现一只飞猪，其编号为 $i$，若该时刻你在 $v_i$ 上，则你捕获到了 $i$ 号飞猪。\n\n现在你需要求出你能捕获到的飞猪数量的最大值。\n\n", "inputFormat": "第一行为三个正整数 $n,m,k$。\n\n接下来 $m$ 行每行三个正整数 $a_i,b_i,w_i$。\n\n接下来 $k$ 行每行两个正整数 $t_i,v_i$。", "outputFormat": "一行一个整数，为你能捕获到的飞猪数量的最大值。", "hint": "### 样例解释\n\n最优方案如下：\n\n$0$ 时刻，选择移动到节点 $2$，时间来到 $2$ 时刻。  \n$2$ 时刻，捕获到第 $2$ 只飞猪，选择停留在节点 $2$，时间来到 $3$ 时刻。  \n$3$ 时刻，捕获到第 $3$ 只飞猪，选择移动到节点 $1$，时间来到 $5$ 时刻。  \n$5$ 时刻，捕获到第 $4$ 只飞猪，选择移动到节点 $2$，时间来到 $7$ 时刻。  \n$7$ 时刻，捕获到第 $5$ 只飞猪。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$n,m,k\\le 7$。  \n对于 $100\\%$ 的数据，$2\\le n\\le 200$，$1\\le m\\le \\frac{n(n-1)}{2}$，$1\\le k\\le 5000$，$1\\le a_i,b_i,v_i\\le n$，$1\\le w_i\\le 1000$，$1\\le t_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6513", "type": "P", "difficulty": 5, "samples": [["7\n1 1 1 1 1 1 1\n1 2\n1 3\n2 5\n3 4\n3 7\n4 6", "8"], ["5\n-6 3 -1 -7 -2\n1 2\n1 3\n3 4\n5 1", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "树形 DP"], "title": "[QkOI#R1] Quark and Tree", "background": "", "description": "给定一棵包含 $n$ 个节点的树，每个节点上有一个点权，点的编号为 $1\\sim n$，请加一条不存在于给定的树中的边（且不能为自环），使加边后得到的基环树上所有点的深度与该点点权乘积之和最大。\n\n我们认为基环树上的点的深度指该节点到环上的最短距离，特别地，环上的节点深度为 $0$。\n\n形式化地，你需要添加一条不存在于给定的树中的边（且不能为自环），并最大化：\n\n$$\\sum_{i=1}^nw_i\\times dep_i$$\n\n其中 $w_i$ 为节点 $i$ 的权值，$dep_i$ 为节点 $i$ 在基环树中的深度。", "inputFormat": "第一行包含一个整数 $n$，表示树中点的个数。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数表示节点 $i$ 的点权 $w_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，表示 $a_i$ 和 $b_i$ 在树中有一条边连接。", "outputFormat": "输出包含一行一个整数，表示加边后生成的基环树中，各个节点的深度与其点权乘积之和的最大值。", "hint": "### 样例解释\n\n样例 1 给出的树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zl7p4xcu.png)\n\n可以添加边 $(1,5)$，则新生成的基环树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p1p9jlbx.png)\n\n各节点深度见下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/90ygpc3c.png)\n\n\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n对于所有数据，$3 \\le n \\le 10^6$，$-10^3 \\le w_i \\le 10^3$，$1 \\le a_i,b_i \\le n$。\n\n+ 子任务 $1$（$10$ 分）：$n \\le 200$。\n+ 子任务 $2$（$20$ 分）：$n \\le 10^3$。\n+ 子任务 $3$（$40$ 分）：$w_i \\ge 0$。\n+ 子任务 $4$（$30$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[QkOI#R1] Quark and Tree", "background": "", "description": "给定一棵包含 $n$ 个节点的树，每个节点上有一个点权，点的编号为 $1\\sim n$，请加一条不存在于给定的树中的边（且不能为自环），使加边后得到的基环树上所有点的深度与该点点权乘积之和最大。\n\n我们认为基环树上的点的深度指该节点到环上的最短距离，特别地，环上的节点深度为 $0$。\n\n形式化地，你需要添加一条不存在于给定的树中的边（且不能为自环），并最大化：\n\n$$\\sum_{i=1}^nw_i\\times dep_i$$\n\n其中 $w_i$ 为节点 $i$ 的权值，$dep_i$ 为节点 $i$ 在基环树中的深度。", "inputFormat": "第一行包含一个整数 $n$，表示树中点的个数。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数表示节点 $i$ 的点权 $w_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，表示 $a_i$ 和 $b_i$ 在树中有一条边连接。", "outputFormat": "输出包含一行一个整数，表示加边后生成的基环树中，各个节点的深度与其点权乘积之和的最大值。", "hint": "### 样例解释\n\n样例 1 给出的树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zl7p4xcu.png)\n\n可以添加边 $(1,5)$，则新生成的基环树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p1p9jlbx.png)\n\n各节点深度见下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/90ygpc3c.png)\n\n\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n对于所有数据，$3 \\le n \\le 10^6$，$-10^3 \\le w_i \\le 10^3$，$1 \\le a_i,b_i \\le n$。\n\n+ 子任务 $1$（$10$ 分）：$n \\le 200$。\n+ 子任务 $2$（$20$ 分）：$n \\le 10^3$。\n+ 子任务 $3$（$40$ 分）：$w_i \\ge 0$。\n+ 子任务 $4$（$30$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6514", "type": "P", "difficulty": 5, "samples": [["5 3\n1 1 3\n1 1 5\n2 1 4\n", "1"], ["8 8\n2 8 8\n1 3 8\n2 5 8\n1 1 8\n1 1 1\n2 3 5\n2 1 7\n1 2 7", "0\n1\n2\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 2000, 2000, 2000, 2000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["树状数组", "cdq 分治", "树套树", "K-D Tree"], "title": "[QkOI#R1] Quark and Strings", "background": "", "description": "你需要维护一个字符串序列 $\\{S_n\\}$，其中有 $n$ 个字符串，初始全为空。接下来有 $q$ 次操作，支持两种操作，下面设当前为第 $i$ 次操作，且本题中字符集为 $[1,q]\\cap \\N_+$：\n\n- `1 l r`，表示在所有编号在 $[l,r]$ 内的字符串末尾添加字符 $i$，这里 $i$ 是一个 $[1,q]$ 范围内的整数。\n- `2 l r`，表示询问所有编号在 $[l,r]$ 内的字符串的最长公共子序列长度。当 $l=r$ 时，我们认为其最长公共子序列长度即为该字符串的长度。", "inputFormat": "第一行两个正整数 $n,q$。\n\n接下来 $q$ 行每行三个正整数形如 `1 l r` 或 `2 l r`。", "outputFormat": "对于每次操作 $2$，输出一行非负整数作为你的答案。", "hint": "### 样例解释\n\n对于第一组样例：  \n第一次操作后，序列为 $\\{[1],[1],[1],[],[]\\}$。  \n第二次操作后，序列为 $\\{[1,2],[1,2],[1,2],[2],[2]\\}$。  \n第三次操作，容易发现询问的最长公共子序列为 $[2]$，长度为 $1$。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n,q\\le 500$。\n- Subtask 2（20 pts）：$n,q\\le 1000$。\n- Subtask 3（15 pts）：$n\\le 1000$，操作 $1$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 4（15 pts）：$n\\le 1000$，操作 $2$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 5（40 pts）：无特殊限制，时限 $3000$ms。\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^5$，除了特殊标明的 Subtask，其它 Subtask 时限均为 $1000$ms。", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Strings", "background": "", "description": "You need to maintain a sequence of strings $\\{S_n\\}$, where there are $n$ strings, all initially empty. Then there are $q$ operations, and two types of operations are supported. Let the current operation be the $i$-th one. The character set in this problem is $[1,q]\\cap \\N_+$:\n\n- `1 l r` means appending the character $i$ to the end of every string whose index is in $[l,r]$. Here $i$ is an integer in the range $[1,q]$.\n- `2 l r` means querying the length of the longest common subsequence of all strings whose indices are in $[l,r]$. When $l=r$, we consider the longest common subsequence length to be the length of that string.", "inputFormat": "The first line contains two positive integers $n,q$.\n\nThe next $q$ lines each contain three positive integers in the form `1 l r` or `2 l r`.", "outputFormat": "For each operation $2$, output one line with a non-negative integer as your answer.", "hint": "### Sample Explanation\n\nFor the first sample:  \nAfter the first operation, the sequence is $\\{[1],[1],[1],[],[]\\}$.  \nAfter the second operation, the sequence is $\\{[1,2],[1,2],[1,2],[2],[2]\\}$.  \nFor the third operation, it is easy to see that the longest common subsequence queried is $[2]$, with length $1$.\n\n---\n\n### Constraints\n\n**This problem uses bundled testdata.**\n\n- Subtask 1 (10 pts): $n,q\\le 500$.\n- Subtask 2 (20 pts): $n,q\\le 1000$.\n- Subtask 3 (15 pts): $n\\le 1000$, operation $1$ occurs no more than $500$ times, time limit $2000$ms.\n- Subtask 4 (15 pts): $n\\le 1000$, operation $2$ occurs no more than $500$ times, time limit $2000$ms.\n- Subtask 5 (40 pts): no special restrictions, time limit $3000$ms.\n\nFor $100\\%$ of the data, $1\\le n,q\\le 10^5$. Except for the specially marked Subtasks, the time limit for the other Subtasks is $1000$ms.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Strings", "background": "", "description": "你需要维护一个字符串序列 $\\{S_n\\}$，其中有 $n$ 个字符串，初始全为空。接下来有 $q$ 次操作，支持两种操作，下面设当前为第 $i$ 次操作，且本题中字符集为 $[1,q]\\cap \\N_+$：\n\n- `1 l r`，表示在所有编号在 $[l,r]$ 内的字符串末尾添加字符 $i$，这里 $i$ 是一个 $[1,q]$ 范围内的整数。\n- `2 l r`，表示询问所有编号在 $[l,r]$ 内的字符串的最长公共子序列长度。当 $l=r$ 时，我们认为其最长公共子序列长度即为该字符串的长度。", "inputFormat": "第一行两个正整数 $n,q$。\n\n接下来 $q$ 行每行三个正整数形如 `1 l r` 或 `2 l r`。", "outputFormat": "对于每次操作 $2$，输出一行非负整数作为你的答案。", "hint": "### 样例解释\n\n对于第一组样例：  \n第一次操作后，序列为 $\\{[1],[1],[1],[],[]\\}$。  \n第二次操作后，序列为 $\\{[1,2],[1,2],[1,2],[2],[2]\\}$。  \n第三次操作，容易发现询问的最长公共子序列为 $[2]$，长度为 $1$。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n,q\\le 500$。\n- Subtask 2（20 pts）：$n,q\\le 1000$。\n- Subtask 3（15 pts）：$n\\le 1000$，操作 $1$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 4（15 pts）：$n\\le 1000$，操作 $2$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 5（40 pts）：无特殊限制，时限 $3000$ms。\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^5$，除了特殊标明的 Subtask，其它 Subtask 时限均为 $1000$ms。", "locale": "zh-CN"}}}
{"pid": "P6515", "type": "P", "difficulty": 7, "samples": [["4 9 5\n1 7\n1 4\n6 5\n4 2", "23"], ["3 500 3\n4 6\n3 5\n8 1", "1000"], ["2 1 1000\n1 500\n2 800", "500"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "[QkOI#R1] Quark and Game", "background": "", "description": "给定 $n$ 个二元组 $(a_i,b_i)$，当 $b_i\\le 0$ 时该二元组不再可以被操作。你可以执行两个操作：\n\n1. 对于**所有**可以被操作的二元组，执行 $b_i\\gets b_i-a_i$，即令 $b_i$ 的值减少 $a_i$，花费 $p$。\n\n2. 对于**所有**可以被操作的二元组，执行 $\\operatorname{Swap}(a_i,b_i)$，其中 $\\operatorname{Swap}(x,y)$ 表示交换 $x,y$ 的值，花费 $q$。\n\n现在，你要用最少的花费，使得所有二元组都不可以被操作.", "inputFormat": "第一行有三个正整数 $n,p,q$。\n\n接下来 $n$ 行每行有两个正整数 $a_i,b_i$ 表示第 $i$ 个二元组 $(a_i,b_i)$。", "outputFormat": "输出一行一个整数，表示你所求得的最小花费。", "hint": "### 样例解释\n\n对于第一个样例，我们可以先后进行 $1$ 次操作 1，$1$ 次操作 2，$1$ 次操作 1，最小花费为 $9 + 5 + 9 = 23$。  \n对于第二个样例，我们可以进行 $2$ 次操作 1，最小花费为 $500 \\times 2 = 1000$。  \n对于第三个样例，我们可以进行 $500$ 次操作 1，最小花费为 $1 \\times 500 = 500$。\n\n---\n\n### 数据范围\n\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n\\le 100$，$a_i,b_i\\le 20$。\n- Subtask 2（20 pts）：$n\\le 1000$，$a_i,b_i\\le 1000$。\n- Subtask 3（17 pts）：$p=1$，$q=10^7$。\n- Subtask 4（53 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le p,q\\le 10^7$，$1\\le a_i,b_i\\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Game", "background": "", "description": "Given $n$ pairs $(a_i,b_i)$. When $b_i \\le 0$, this pair can no longer be operated on. You can perform two operations:\n\n1. For **all** operable pairs, do $b_i \\gets b_i - a_i$, i.e., decrease $b_i$ by $a_i$, with cost $p$.\n\n2. For **all** operable pairs, do $\\operatorname{Swap}(a_i,b_i)$, where $\\operatorname{Swap}(x,y)$ means swapping the values of $x$ and $y$, with cost $q$.\n\nNow, you need to spend the minimum total cost to make all pairs non-operable.", "inputFormat": "The first line contains three positive integers $n,p,q$.\n\nThe next $n$ lines each contain two positive integers $a_i,b_i$, representing the $i$-th pair $(a_i,b_i)$.", "outputFormat": "Output one integer in one line, representing the minimum total cost.", "hint": "### Sample Explanation\n\nFor the first sample, we can perform operation 1 once, operation 2 once, and operation 1 once in this order. The minimum cost is $9 + 5 + 9 = 23$.  \nFor the second sample, we can perform operation 1 twice. The minimum cost is $500 \\times 2 = 1000$.  \nFor the third sample, we can perform operation 1 $500$ times. The minimum cost is $1 \\times 500 = 500$.\n\n---\n\n### Constraints\n\n**This problem uses bundled testdata.**\n\n- Subtask 1 (10 pts): $n \\le 100$, $a_i,b_i \\le 20$.\n- Subtask 2 (20 pts): $n \\le 1000$, $a_i,b_i \\le 1000$.\n- Subtask 3 (17 pts): $p = 1$, $q = 10^7$.\n- Subtask 4 (53 pts): no special constraints.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 10^5$, $1 \\le p,q \\le 10^7$, $1 \\le a_i,b_i \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Game", "background": "", "description": "给定 $n$ 个二元组 $(a_i,b_i)$，当 $b_i\\le 0$ 时该二元组不再可以被操作。你可以执行两个操作：\n\n1. 对于**所有**可以被操作的二元组，执行 $b_i\\gets b_i-a_i$，即令 $b_i$ 的值减少 $a_i$，花费 $p$。\n\n2. 对于**所有**可以被操作的二元组，执行 $\\operatorname{Swap}(a_i,b_i)$，其中 $\\operatorname{Swap}(x,y)$ 表示交换 $x,y$ 的值，花费 $q$。\n\n现在，你要用最少的花费，使得所有二元组都不可以被操作.", "inputFormat": "第一行有三个正整数 $n,p,q$。\n\n接下来 $n$ 行每行有两个正整数 $a_i,b_i$ 表示第 $i$ 个二元组 $(a_i,b_i)$。", "outputFormat": "输出一行一个整数，表示你所求得的最小花费。", "hint": "### 样例解释\n\n对于第一个样例，我们可以先后进行 $1$ 次操作 1，$1$ 次操作 2，$1$ 次操作 1，最小花费为 $9 + 5 + 9 = 23$。  \n对于第二个样例，我们可以进行 $2$ 次操作 1，最小花费为 $500 \\times 2 = 1000$。  \n对于第三个样例，我们可以进行 $500$ 次操作 1，最小花费为 $1 \\times 500 = 500$。\n\n---\n\n### 数据范围\n\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n\\le 100$，$a_i,b_i\\le 20$。\n- Subtask 2（20 pts）：$n\\le 1000$，$a_i,b_i\\le 1000$。\n- Subtask 3（17 pts）：$p=1$，$q=10^7$。\n- Subtask 4（53 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le p,q\\le 10^7$，$1\\le a_i,b_i\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6516", "type": "P", "difficulty": 7, "samples": [["4 3\n0 1 1 2", "2"], ["5 5\n0 1 1 2 2\n", "12"], ["8 12\n0 2 2 2 2 1 1 1", "128601"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 3000, 1000, 1000, 3000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["O2优化"], "title": "[QkOI#R1] Quark and Graph", "background": "SPFA 被卡时在做什么？有没有空？可以来计数吗？", "description": "现有一张边权全为 $1$ 的有标号简单无向连通图，其包含 $n$ 个节点和 $m$ 条边，已知该图上点 $1$ 到所有点的最短路长，求这张图有多少种形态。\n\n特别地，我们认为点 $1$ 到点 $1$ 的最短路为 $0$。\n\n两个图的形态不同当且仅当存在至少一条边 $(u,v)$ 在一张图中出现且在另一张图中没出现。\n\n**由于 little_sun 太巨了，所以数据保证至少存在一张满足条件的图。**\n\n答案对 $998244353$ 取模。", "inputFormat": "第一行两个正整数 $n,m$ —— $n$ 表示图的节点数，$m$ 表示图的边数。\n\n第二行 $n$ 个非负整数 $d_1,d_2,\\cdots,d_n$ 表示点 $1$ 到其它点的最短路。", "outputFormat": "输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n对于第一个样例，有 $\\{(1,2),(1,3),(2,4)\\}$ 和 $\\{(1,2),(1,3),(3,4)\\}$ 两种形态。\n\n对于第二个样例，我想到了一个绝妙的解释，可惜这里空白太小，写不下。\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts），满足 $n\\le 7$，$m\\le 14$，时限 1s；\n- Subtask 2（20 pts），满足 $n\\le 50$，$m\\le 600$，时限 1s；\n- Subtask 3（20 pts），满足 $n\\le 1000$，$m\\le 5000$，时限 1s；\n- Subtask 4（50 pts），无特殊限制，时限 3s。\n\n对于 $100\\%$ 的数据，满足 $n\\le 10^5$，$m\\le 2\\times 10^5$。设 $t_i=\\sum_j[d_j=i]$，还应满足 $\\sum_{i}t_it_{i-1}\\le 2\\times 10^5$。\n\n**本题强制开启 O2 优化。**", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Graph", "background": "What do you do when SPFA gets hacked by testdata? Are you free? Can you come and count?", "description": "You are given a labeled, simple, undirected, connected graph where all edge weights are $1$. It has $n$ vertices and $m$ edges. You are also given the shortest path distances from vertex $1$ to every vertex. Find how many different graphs (forms) satisfy these conditions.\n\nIn particular, we define the shortest distance from vertex $1$ to vertex $1$ as $0$.\n\nTwo graphs are considered different if and only if there exists at least one edge $(u,v)$ that appears in one graph but does not appear in the other.\n\n**Since little_sun is extremely strong, the testdata guarantees that there is at least one graph that satisfies the conditions.**\n\nOutput the answer modulo $998244353$.", "inputFormat": "The first line contains two positive integers $n,m$, where $n$ is the number of vertices and $m$ is the number of edges.\n\nThe second line contains $n$ non-negative integers $d_1,d_2,\\cdots,d_n$, representing the shortest path distance from vertex $1$ to each vertex.", "outputFormat": "Output one line with one integer, the answer.", "hint": "### Sample Explanation\n\nFor the first sample, there are two forms: $\\{(1,2),(1,3),(2,4)\\}$ and $\\{(1,2),(1,3),(3,4)\\}$.\n\nFor the second sample, I came up with a wonderful explanation, but unfortunately this blank space is too small to write it down.\n\n### Constraints\n\n**This problem uses bundled tests.**\n\n- Subtask 1 (10 pts): $n\\le 7$, $m\\le 14$, time limit 1s.\n- Subtask 2 (20 pts): $n\\le 50$, $m\\le 600$, time limit 1s.\n- Subtask 3 (20 pts): $n\\le 1000$, $m\\le 5000$, time limit 1s.\n- Subtask 4 (50 pts): no special constraints, time limit 3s.\n\nFor $100\\%$ of the data: $n\\le 10^5$, $m\\le 2\\times 10^5$. Let $t_i=\\sum_j[d_j=i]$. It is also required that $\\sum_{i}t_it_{i-1}\\le 2\\times 10^5$.\n\n**This problem forces O2 optimization to be enabled.**\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Graph", "background": "SPFA 被卡时在做什么？有没有空？可以来计数吗？", "description": "现有一张边权全为 $1$ 的有标号简单无向连通图，其包含 $n$ 个节点和 $m$ 条边，已知该图上点 $1$ 到所有点的最短路长，求这张图有多少种形态。\n\n特别地，我们认为点 $1$ 到点 $1$ 的最短路为 $0$。\n\n两个图的形态不同当且仅当存在至少一条边 $(u,v)$ 在一张图中出现且在另一张图中没出现。\n\n**由于 little_sun 太巨了，所以数据保证至少存在一张满足条件的图。**\n\n答案对 $998244353$ 取模。", "inputFormat": "第一行两个正整数 $n,m$ —— $n$ 表示图的节点数，$m$ 表示图的边数。\n\n第二行 $n$ 个非负整数 $d_1,d_2,\\cdots,d_n$ 表示点 $1$ 到其它点的最短路。", "outputFormat": "输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n对于第一个样例，有 $\\{(1,2),(1,3),(2,4)\\}$ 和 $\\{(1,2),(1,3),(3,4)\\}$ 两种形态。\n\n对于第二个样例，我想到了一个绝妙的解释，可惜这里空白太小，写不下。\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts），满足 $n\\le 7$，$m\\le 14$，时限 1s；\n- Subtask 2（20 pts），满足 $n\\le 50$，$m\\le 600$，时限 1s；\n- Subtask 3（20 pts），满足 $n\\le 1000$，$m\\le 5000$，时限 1s；\n- Subtask 4（50 pts），无特殊限制，时限 3s。\n\n对于 $100\\%$ 的数据，满足 $n\\le 10^5$，$m\\le 2\\times 10^5$。设 $t_i=\\sum_j[d_j=i]$，还应满足 $\\sum_{i}t_it_{i-1}\\le 2\\times 10^5$。\n\n**本题强制开启 O2 优化。**", "locale": "zh-CN"}}}
{"pid": "P6517", "type": "P", "difficulty": 6, "samples": [["3 4\n2 3 2 0\n3 4 3 0\n2 3 3 1", "............\n.OXXOXXO....\n.X..X..X....\n.X..X..X....\n.OXXOXXO....\n.X..X..X....\n.X..X..X....\n.OXXOXXOXXO.\n............"], ["1 2\n2 1", "Impossible!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "网络流", "Special Judge", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] alliances (day1)", "background": "", "description": "在一个幻想世界里，有块矩形岛屿。这座岛屿被划分成了 $R$ 行 $C$ 列的方格。\n\n有些方格无人居住，而有些方格被以下某一种生物占据：精灵，人类，矮人或者霍比特人。占据同一格子的生物在这一格子组成了一个村庄。\n\n为了防止恶魔的袭击，他们需要结成联盟。定义**每个村庄相邻四个方向（上下左右）的村庄**为这个村庄的邻居。\n\n每种生物分别要满足以下条件：\n\n- 精灵：只需要与一个邻居结盟；\n- 人类：需要与两个邻居结盟，且这两个邻居不能在上下或者左右方向；\n- 矮人：需要与三个邻居结盟；\n- 霍比特：需要与四个邻居结盟（即所有邻居）。\n\n你的任务是确定岛上的所有村庄是否都能与相应数量的邻居结盟（即可能会出现一些邻居并没有结盟）。如果能，则输出联盟的结构。否则输出 `Impossible!`。\n\n**注意：结盟的关系是双向的。**", "inputFormat": "输入第一行两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个 $0\\sim 4$ 之间的数字，描述岛屿的人口分布状态。\n\n- 0：此地无村庄；\n- 1：此地为精灵村庄；\n- 2：此地为人类村庄；\n- 3：此地为矮人村庄；\n- 4：此地为霍比特村庄。\n\n**可以注意的技巧：输入的数字对应该地所需的联盟数量。**", "outputFormat": "如果无法全部结盟则输出 `Impossible!`。\n\n否则，输出以下格式的地图：\n\n每块地都作为一个 $3\\times 3$ 的矩阵输出。如果该地无人居住，则输出全部输出为 `.`。如果该地有村庄，则在中心输出一个 `O`。如果这个村庄与一些村庄结盟，那么在 `O` 上下左右四个方格输出 `X` 来表示结盟。\n\n\n对于每种生物，所有可能的输出格式如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdtqt6i9.png)\n\n(elves 表示精灵，humans 表示人类，dwarves 表示矮人，hobbits 表示霍比特人）\n\n**如果有多种方案，输出其中任意一种，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n- 对于 $55\\%$ 的数据，保证 $\\min(r,c)\\le 10$；\n- 对于另 $15\\%$ 的数据，保证 $r\\times c\\le 20$；\n- 对于另 $10\\%$ 的数据，保证地图中只有无人区和人类；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 70$。\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T1 alliances](https://people.ksp.sk/~misof/ceoi2010/all-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] alliances (day1)", "background": "", "description": "在一个幻想世界里，有块矩形岛屿。这座岛屿被划分成了 $R$ 行 $C$ 列的方格。\n\n有些方格无人居住，而有些方格被以下某一种生物占据：精灵，人类，矮人或者霍比特人。占据同一格子的生物在这一格子组成了一个村庄。\n\n为了防止恶魔的袭击，他们需要结成联盟。定义**每个村庄相邻四个方向（上下左右）的村庄**为这个村庄的邻居。\n\n每种生物分别要满足以下条件：\n\n- 精灵：只需要与一个邻居结盟；\n- 人类：需要与两个邻居结盟，且这两个邻居不能在上下或者左右方向；\n- 矮人：需要与三个邻居结盟；\n- 霍比特：需要与四个邻居结盟（即所有邻居）。\n\n你的任务是确定岛上的所有村庄是否都能与相应数量的邻居结盟（即可能会出现一些邻居并没有结盟）。如果能，则输出联盟的结构。否则输出 `Impossible!`。\n\n**注意：结盟的关系是双向的。**", "inputFormat": "输入第一行两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个 $0\\sim 4$ 之间的数字，描述岛屿的人口分布状态。\n\n- 0：此地无村庄；\n- 1：此地为精灵村庄；\n- 2：此地为人类村庄；\n- 3：此地为矮人村庄；\n- 4：此地为霍比特村庄。\n\n**可以注意的技巧：输入的数字对应该地所需的联盟数量。**", "outputFormat": "如果无法全部结盟则输出 `Impossible!`。\n\n否则，输出以下格式的地图：\n\n每块地都作为一个 $3\\times 3$ 的矩阵输出。如果该地无人居住，则输出全部输出为 `.`。如果该地有村庄，则在中心输出一个 `O`。如果这个村庄与一些村庄结盟，那么在 `O` 上下左右四个方格输出 `X` 来表示结盟。\n\n\n对于每种生物，所有可能的输出格式如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdtqt6i9.png)\n\n(elves 表示精灵，humans 表示人类，dwarves 表示矮人，hobbits 表示霍比特人）\n\n**如果有多种方案，输出其中任意一种，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n- 对于 $55\\%$ 的数据，保证 $\\min(r,c)\\le 10$；\n- 对于另 $15\\%$ 的数据，保证 $r\\times c\\le 20$；\n- 对于另 $10\\%$ 的数据，保证地图中只有无人区和人类；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 70$。\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T1 alliances](https://people.ksp.sk/~misof/ceoi2010/all-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6518", "type": "P", "difficulty": 5, "samples": [["3 5\n. . 3 . 5\n. . . 5 .\n. . . . 7", "1 2 3 4 5\n2 3 4 5 6\n3 4 5 6 7"], ["1 6\n4 . . 0 . ", "4 8/3 4/3 0 -4/3 -8/3"], ["1 4\n1 2 . 2", "No solution."], ["3 3\n1 . .\n. 2 .\n. . 3", "1 2 3\n1 2 3\n1 2 3"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2010", "Special Judge", "CEOI（中欧）", "构造"], "title": "[CEOI 2010] arithmetic (day1)", "background": "", "description": "给定一个 $R\\times C$ 的矩阵，有些格子已经填有了数字；而有些格子为空，用 `.` 表示。\n\n你需要找到一种填数的方案，使得每行每列的数字依次排列构成的数列为等差数列。", "inputFormat": "输入第一行两个整数 $R,C$，表示矩阵的长和宽。\n\n接下来的 $R$ 行，每行 $C$ 个数字或者字符：`.` 或者一个数字。\n\n", "outputFormat": "输出共 $R$ 行，每行 $C$ 个整数或者分数，表示完善后的矩阵。\n\n分数的格式为 `N/D` ，其中 $N,D$ 为整数且互质，如果 $D=1$ 则省略。\n\n如果答案不存在，输出 `No solution.`\n\n输出中的所有数都不超过 $20$ 位。\n\n**注意：数据保证输入一定是整数，但输出可能为实数，需要用分数表示。可能有多种方案，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n我们可以先把第二行第五列的 $6$ 填入，然后再填写第一行、第二行，最后填写第一列、第四列。\n\n#### 样例 4 提示\n\n输出为多种可能的解决方案中的一种。\n\n#### 【数据规模与约定】\n\n**本题使用捆绑测试。**\n\n数据共分为以下 $10$ 个子任务，每个子任务 $10$ 分。\n\n|子任务编号|限制|\n|:-:|:-:|\n|$1$|数字已经全部填好|\n|$2$|$R=1$ 或 $C=1$| \n|$3$|$R=C=2$| \n|$4$|保证方案唯一且可使用样例 $1$ 的解决方法| \n|$5$|保证方案唯一且答案中仅包含整数| \n|$6$|保证方案唯一| \n|$7$|每组数据仅可能有唯一的只包含整数的解决方案或者无解|}\n|$8$|每组数据仅有唯一的解决方案或者无解|\n|$9$|无特殊限制|\n|$10$|无特殊限制|\n\n- 在子任务 $1\\sim 9$ 中，保证 $1\\le R,C\\le 6$。\n- 对于全部的测试点，保证 $1 \\leq R, C \\leq 50$，矩阵中给出的所有数字在 $-100\\sim 100$ 之间。\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T2 arithmetic](https://people.ksp.sk/~misof/ceoi2010/ari-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\nSPJ 由 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供，特别鸣谢。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] arithmetic (day1)", "background": "", "description": "给定一个 $R\\times C$ 的矩阵，有些格子已经填有了数字；而有些格子为空，用 `.` 表示。\n\n你需要找到一种填数的方案，使得每行每列的数字依次排列构成的数列为等差数列。", "inputFormat": "输入第一行两个整数 $R,C$，表示矩阵的长和宽。\n\n接下来的 $R$ 行，每行 $C$ 个数字或者字符：`.` 或者一个数字。\n\n", "outputFormat": "输出共 $R$ 行，每行 $C$ 个整数或者分数，表示完善后的矩阵。\n\n分数的格式为 `N/D` ，其中 $N,D$ 为整数且互质，如果 $D=1$ 则省略。\n\n如果答案不存在，输出 `No solution.`\n\n输出中的所有数都不超过 $20$ 位。\n\n**注意：数据保证输入一定是整数，但输出可能为实数，需要用分数表示。可能有多种方案，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n我们可以先把第二行第五列的 $6$ 填入，然后再填写第一行、第二行，最后填写第一列、第四列。\n\n#### 样例 4 提示\n\n输出为多种可能的解决方案中的一种。\n\n#### 【数据规模与约定】\n\n**本题使用捆绑测试。**\n\n数据共分为以下 $10$ 个子任务，每个子任务 $10$ 分。\n\n|子任务编号|限制|\n|:-:|:-:|\n|$1$|数字已经全部填好|\n|$2$|$R=1$ 或 $C=1$| \n|$3$|$R=C=2$| \n|$4$|保证方案唯一且可使用样例 $1$ 的解决方法| \n|$5$|保证方案唯一且答案中仅包含整数| \n|$6$|保证方案唯一| \n|$7$|每组数据仅可能有唯一的只包含整数的解决方案或者无解|}\n|$8$|每组数据仅有唯一的解决方案或者无解|\n|$9$|无特殊限制|\n|$10$|无特殊限制|\n\n- 在子任务 $1\\sim 9$ 中，保证 $1\\le R,C\\le 6$。\n- 对于全部的测试点，保证 $1 \\leq R, C \\leq 50$，矩阵中给出的所有数字在 $-100\\sim 100$ 之间。\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T2 arithmetic](https://people.ksp.sk/~misof/ceoi2010/ari-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\nSPJ 由 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供，特别鸣谢。\n\n", "locale": "zh-CN"}}}
{"pid": "P6519", "type": "P", "difficulty": 6, "samples": [["2\n2 1\n1 2\n1\n2 2", "1"], ["2\n3 2\n1 1\n2\n3 2\n1 1", "0"]], "limits": {"time": [700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] bodyguards (day1)", "background": "", "description": "在一个矩阵中，需要在一些行和列上安排目标数量的保镖。每个位置可以放置一名保镖。你需要求出能否安排出一种方案，使得一些行、列上恰好有目标数量的保镖？", "inputFormat": "输入第一行一个整数 $R$，表示共有 $R$ 条行上的约束。\n\n接下来的 $R$ 行，每行两个整数 $a,b$，表示有 $b$ 行需要恰好包含 $a$ 名保镖。\n\n接下来的一行一个整数 $C$，表示共有 $C$ 条列上的约束。\n\n接下来的 $C$ 行，每行两个整数 $x,y$，表示有 $y$ 列需要恰好包含 $x$ 名保镖。  ", "outputFormat": "输出一行一个数字。如果存在这样的方案，输出 `1`；否则输出 `0`。", "hint": "#### 样例 1 解释\n\n有一行需要包含两名保镖，两行需要包含一名保镖；两列需要包含两名保镖，一种方案如下：\n\n```\nXX\nX.\n.X\n```\n\n其中 `X` 表示保镖，`.` 表示空位。\n\n#### 样例 2 解释\n\n有两行必须全部是保镖，但是有一列却要仅有一名保镖，无法实现，故无解。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $R,C\\le 2000$，最多有 $10^6$ 名保镖；\n- 对于 $100\\%$ 的数据，保证保镖总数最多为 $10^{18}$，所有数字均为不超过 $10^9$ 的正整数，$1\\le R,C\\le 2\\times 10^5$。\n\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T3 bodyguards](https://people.ksp.sk/~misof/ceoi2010/bod-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] bodyguards (day1)", "background": "", "description": "在一个矩阵中，需要在一些行和列上安排目标数量的保镖。每个位置可以放置一名保镖。你需要求出能否安排出一种方案，使得一些行、列上恰好有目标数量的保镖？", "inputFormat": "输入第一行一个整数 $R$，表示共有 $R$ 条行上的约束。\n\n接下来的 $R$ 行，每行两个整数 $a,b$，表示有 $b$ 行需要恰好包含 $a$ 名保镖。\n\n接下来的一行一个整数 $C$，表示共有 $C$ 条列上的约束。\n\n接下来的 $C$ 行，每行两个整数 $x,y$，表示有 $y$ 列需要恰好包含 $x$ 名保镖。  ", "outputFormat": "输出一行一个数字。如果存在这样的方案，输出 `1`；否则输出 `0`。", "hint": "#### 样例 1 解释\n\n有一行需要包含两名保镖，两行需要包含一名保镖；两列需要包含两名保镖，一种方案如下：\n\n```\nXX\nX.\n.X\n```\n\n其中 `X` 表示保镖，`.` 表示空位。\n\n#### 样例 2 解释\n\n有两行必须全部是保镖，但是有一列却要仅有一名保镖，无法实现，故无解。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $R,C\\le 2000$，最多有 $10^6$ 名保镖；\n- 对于 $100\\%$ 的数据，保证保镖总数最多为 $10^{18}$，所有数字均为不超过 $10^9$ 的正整数，$1\\le R,C\\le 2\\times 10^5$。\n\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T3 bodyguards](https://people.ksp.sk/~misof/ceoi2010/bod-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6520", "type": "P", "difficulty": 6, "samples": [["6 4 3\n- 0\n+ 8\n+ 9\n+ 13\n- 19\n- 24", "5 4"], ["3 10 10\n+ 1\n+ 2\n+ 47", "infinity"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "线段树", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] mp3player (day2)", "background": "", "description": "有一个 MP3 播放器，这个播放器如果连续 $t$ 秒没有任何操作就会自动休眠。在休眠期间，任何按键都不会起到按键本身的作用，而只会终止休眠。\n\n例如，假设 $t=5$ 且播放器当前处于锁定状态。然后进行如下 $4$ 步操作：\n\n- 按下 `A`，停顿 $3$ 秒；\n- 按下 `B`，停顿 $5$ 秒；\n- 按下 `C`，停顿 $6$ 秒；\n- 按下 `D`。\n\n这些操作过后，实际执行的只有 `B` `C`。注意，在按 `C` 和按 `D` 之间播放器已经休眠了。\n\n这个 MP3 还有两个音量控制键 `+` `-`，分别为将音量调高一个单位或降低一个单位。音量只能为介于 $0\\sim V_{\\max}$ 之间的整数，即如果音量为 $0$ 时按 `-` 或音量为 $V_{\\max}$ 时按 `+`，音量均不发生改变。\n\n刚开始你并不知道 $t$ 的值，便想通过实验来得出。\n\n播放器刚开始是休眠的。你会从某一个音量 $V_1$ 开始，经过 $n$ 次操作得到音量 $V_2$，操作的具体步骤已经给出，每次操作形如 `+/-` $C_i$，表示在距离实验开始 $C_i$ 秒时按下 `+` 或 `-`。\n\n不幸的是，你也不知道 $V_1$ 的值，现在，你需要找出符合实验操作的 $t$ 的最大值，并输出相应的 $V_1$ 。\n\n", "inputFormat": "输入第一行三个整数 $n,V_{\\max},V_2$。\n\n接下来的 $n$ 行，每行为一个字符 $x_i$ 和一个整数 $C_i$（有空格隔开）。$x_i$ 为 `+` 或 `-`，表示调高音量或者降低音量。\n\n$C_i$ 表示距离实验开始 $C_i$ 秒后进行该操作，保证 $C_i$ 在输入中严格递增。", "outputFormat": "输出一行两个整数，为 $t,V_1$ 的值。\n\n如果有多种可能的方案，输出 $t$ 的最大的那一组；如果 $t$ 最大时同样有多种方案，输出 $V_1$ 最大的一组。\n\n如果 $t$ 可以任意大，则输出 `infinity`。\n\n请注意，不存在无解的情况。因为有一个方案：$t=0$ 一定存在。在这种情况下所有的按键都无法发挥作用，所以 $V_1=V_2$。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n当 $t=5$ 时，按键的情况为；`解锁,解锁,+,+,解锁,-`。\n\n此时对于 $V_1\\in \\{2,3,4\\}$，可以得到 $V_2=3$。但是要输出最大的 $V_1$。\n\n当 $t\\geq 6$ 时，最后两个按键都会发挥正常的作用，也就是连续下调两个音量。此时结果无法为 $V_2=3$，故 $t_{\\max}=5$。 \n\n#### 样例 2 解释\n\n当 $V_1=10$ 时，任意的 $t$ 都能满足条件。\n\n#### 【数据规模与约定】\n\n- 对于 $40\\%$ 的数据，保证 $n\\le 4000$；\n- 对于 $70\\%$ 的数据，保证 $n\\times V_{\\max}\\le 4\\times 10^5$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^5$，$2\\le V_{\\max}\\le 5000$，$0<C_i<2\\times 10^9$，$0\\le V_2\\le V_{\\max}$，$x_i\\in\\{\\texttt{+}, \\texttt{-}\n\\}$。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T1 mp3player](https://people.ksp.sk/~misof/ceoi2010/mp3-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] mp3player (day2)", "background": "", "description": "有一个 MP3 播放器，这个播放器如果连续 $t$ 秒没有任何操作就会自动休眠。在休眠期间，任何按键都不会起到按键本身的作用，而只会终止休眠。\n\n例如，假设 $t=5$ 且播放器当前处于锁定状态。然后进行如下 $4$ 步操作：\n\n- 按下 `A`，停顿 $3$ 秒；\n- 按下 `B`，停顿 $5$ 秒；\n- 按下 `C`，停顿 $6$ 秒；\n- 按下 `D`。\n\n这些操作过后，实际执行的只有 `B` `C`。注意，在按 `C` 和按 `D` 之间播放器已经休眠了。\n\n这个 MP3 还有两个音量控制键 `+` `-`，分别为将音量调高一个单位或降低一个单位。音量只能为介于 $0\\sim V_{\\max}$ 之间的整数，即如果音量为 $0$ 时按 `-` 或音量为 $V_{\\max}$ 时按 `+`，音量均不发生改变。\n\n刚开始你并不知道 $t$ 的值，便想通过实验来得出。\n\n播放器刚开始是休眠的。你会从某一个音量 $V_1$ 开始，经过 $n$ 次操作得到音量 $V_2$，操作的具体步骤已经给出，每次操作形如 `+/-` $C_i$，表示在距离实验开始 $C_i$ 秒时按下 `+` 或 `-`。\n\n不幸的是，你也不知道 $V_1$ 的值，现在，你需要找出符合实验操作的 $t$ 的最大值，并输出相应的 $V_1$ 。\n\n", "inputFormat": "输入第一行三个整数 $n,V_{\\max},V_2$。\n\n接下来的 $n$ 行，每行为一个字符 $x_i$ 和一个整数 $C_i$（有空格隔开）。$x_i$ 为 `+` 或 `-`，表示调高音量或者降低音量。\n\n$C_i$ 表示距离实验开始 $C_i$ 秒后进行该操作，保证 $C_i$ 在输入中严格递增。", "outputFormat": "输出一行两个整数，为 $t,V_1$ 的值。\n\n如果有多种可能的方案，输出 $t$ 的最大的那一组；如果 $t$ 最大时同样有多种方案，输出 $V_1$ 最大的一组。\n\n如果 $t$ 可以任意大，则输出 `infinity`。\n\n请注意，不存在无解的情况。因为有一个方案：$t=0$ 一定存在。在这种情况下所有的按键都无法发挥作用，所以 $V_1=V_2$。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n当 $t=5$ 时，按键的情况为；`解锁,解锁,+,+,解锁,-`。\n\n此时对于 $V_1\\in \\{2,3,4\\}$，可以得到 $V_2=3$。但是要输出最大的 $V_1$。\n\n当 $t\\geq 6$ 时，最后两个按键都会发挥正常的作用，也就是连续下调两个音量。此时结果无法为 $V_2=3$，故 $t_{\\max}=5$。 \n\n#### 样例 2 解释\n\n当 $V_1=10$ 时，任意的 $t$ 都能满足条件。\n\n#### 【数据规模与约定】\n\n- 对于 $40\\%$ 的数据，保证 $n\\le 4000$；\n- 对于 $70\\%$ 的数据，保证 $n\\times V_{\\max}\\le 4\\times 10^5$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^5$，$2\\le V_{\\max}\\le 5000$，$0<C_i<2\\times 10^9$，$0\\le V_2\\le V_{\\max}$，$x_i\\in\\{\\texttt{+}, \\texttt{-}\n\\}$。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T1 mp3player](https://people.ksp.sk/~misof/ceoi2010/mp3-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6521", "type": "P", "difficulty": 5, "samples": [["4 1\n0000\na010\n0202\na0e2", "0"], ["4 2\n0000\na010\n0202\na0e2", "3"]], "limits": {"time": [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "CEOI（中欧）", "排列组合", "容斥原理"], "title": "[CEOI 2010] pin (day2)", "background": "", "description": "给定 $n$ 个长度为 $4$ 的字符串，你需要找出有多少对字符串满足**恰好** $D$ 个对应位置的字符不同。\n\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n接下来的 $n$ 行，每行一个长度为 $4$ 的字符串。", "outputFormat": "输出一行一个整数，表示满足条件的字符串的对数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n任意两个字符串都有多于一个位置不相同。\n\n#### 样例 2 解释\n\n共有三对字符串：`0000,a010` `a010,a0e2` `0000,0202`。\n\n#### 【数据规模与约定】\n\n- 对于 $15\\%$ 的数据，保证 $n\\le 2000$；\n- 对于 $30\\%$ 的数据，保证 $D=1$；\n- 对于 $60\\%$ 的数据，保证 $D\\le 2$；\n- 对于 $75\\%$ 的数据，保证字符串中只包含小写字母 $a\\sim f$ 以及数字。因此可以视为 $16$ 进制数；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 5\\times 10^4$，$1\\le D\\le 4$，所有输入的字符串没有重复，串中的字符仅可能为 $a\\sim z$ 或者数字字符。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T2 pin](https://people.ksp.sk/~misof/ceoi2010/pin-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] pin (day2)", "background": "", "description": "给定 $n$ 个长度为 $4$ 的字符串，你需要找出有多少对字符串满足**恰好** $D$ 个对应位置的字符不同。\n\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n接下来的 $n$ 行，每行一个长度为 $4$ 的字符串。", "outputFormat": "输出一行一个整数，表示满足条件的字符串的对数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n任意两个字符串都有多于一个位置不相同。\n\n#### 样例 2 解释\n\n共有三对字符串：`0000,a010` `a010,a0e2` `0000,0202`。\n\n#### 【数据规模与约定】\n\n- 对于 $15\\%$ 的数据，保证 $n\\le 2000$；\n- 对于 $30\\%$ 的数据，保证 $D=1$；\n- 对于 $60\\%$ 的数据，保证 $D\\le 2$；\n- 对于 $75\\%$ 的数据，保证字符串中只包含小写字母 $a\\sim f$ 以及数字。因此可以视为 $16$ 进制数；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 5\\times 10^4$，$1\\le D\\le 4$，所有输入的字符串没有重复，串中的字符仅可能为 $a\\sim z$ 或者数字字符。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T2 pin](https://people.ksp.sk/~misof/ceoi2010/pin-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6522", "type": "P", "difficulty": 4, "samples": [["4 1\n1 2 3 100", "4"], ["6 9\n10 20 20 10 10 20", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] tower (day2)", "background": "古巴比伦人决定建造一座塔。", "description": "这座塔共有 $n$ 层，每层由一个边长为 $a_i$ 的立方体石块构成。一个石块 $i$ 能够直接放在石块 $j$ 上当且仅当 $a_i  \\leq a_j+D$，其中 $D$ 为一个给定的常数。\n\n你需要求出如果使用全部的石块，有多少种不同的搭建方案。输出答案 $\\bmod\\ 10^9+9$ 的结果。\n\n**注意：即使两个石块的边长相同，也看做不同的石块。**\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n第二行 $n$ 个整数 $a_1,\\dots,a_n$，表示每个立方体石块的边长。 ", "outputFormat": "输出一行一个整数，表示方案总数 $\\bmod\\ 10^9+9$ 的结果。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n首先把边长为 $100$ 的石块放在底部，其余的石块可以任意顺序放置，除了以下两种情况：`2,1,3` `1,3,2`。\n\n#### 样例 2 解释\n\n首先不允许在 $10$ 上面放 $20$。\n\n所以就把 $20$ 一堆放在底下，$10$ 一堆放在上面。\n\n即 $(3!)\\times (3!)=36$。\n\n#### 【数据规模与约定】\n\n- 对于 $10\\%$ 的数据，保证 $n\\le 10$；\n- 对于 $30\\%$ 的数据，保证方案数不超过 $10^6$；\n- 对于 $45\\%$ 的数据，保证 $n\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $n\\le 70$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 6.2\\times 10^5$，输入中所有数字为不超过 $10^9$ 的正整数。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T3 tower](https://people.ksp.sk/~misof/ceoi2010/tow-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] tower (day2)", "background": "古巴比伦人决定建造一座塔。", "description": "这座塔共有 $n$ 层，每层由一个边长为 $a_i$ 的立方体石块构成。一个石块 $i$ 能够直接放在石块 $j$ 上当且仅当 $a_i  \\leq a_j+D$，其中 $D$ 为一个给定的常数。\n\n你需要求出如果使用全部的石块，有多少种不同的搭建方案。输出答案 $\\bmod\\ 10^9+9$ 的结果。\n\n**注意：即使两个石块的边长相同，也看做不同的石块。**\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n第二行 $n$ 个整数 $a_1,\\dots,a_n$，表示每个立方体石块的边长。 ", "outputFormat": "输出一行一个整数，表示方案总数 $\\bmod\\ 10^9+9$ 的结果。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n首先把边长为 $100$ 的石块放在底部，其余的石块可以任意顺序放置，除了以下两种情况：`2,1,3` `1,3,2`。\n\n#### 样例 2 解释\n\n首先不允许在 $10$ 上面放 $20$。\n\n所以就把 $20$ 一堆放在底下，$10$ 一堆放在上面。\n\n即 $(3!)\\times (3!)=36$。\n\n#### 【数据规模与约定】\n\n- 对于 $10\\%$ 的数据，保证 $n\\le 10$；\n- 对于 $30\\%$ 的数据，保证方案数不超过 $10^6$；\n- 对于 $45\\%$ 的数据，保证 $n\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $n\\le 70$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 6.2\\times 10^5$，输入中所有数字为不超过 $10^9$ 的正整数。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T3 tower](https://people.ksp.sk/~misof/ceoi2010/tow-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6523", "type": "P", "difficulty": 4, "samples": [["2\n4 233\n55 35 77\n4 5\n55 35 77 ", "11 5 7 11 \n-1"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["数学", "递推", "Special Judge", "最大公约数 gcd", "构造"], "title": "「Wdoi-1」加密通信", "background": "自月战之后，八云紫在槐安通道中设立了一重结界，使得从地面传向月都的信息全部会被拦截和破译。  \n\n为了维持正常的通讯，八意永琳同月兔们研究出了一种全新的加密方式。", "description": "首先，八意永琳会写出需要被加密的明文 $A$ ，此段明文由 $n-1$ 个正整数构成。\n\n之后，她会构造出一个由 $n$ 个**质数**构成的密文 $B$，满足对  $\\forall  i \\in [1,n),B_i \\times B_{i + 1} = A_i$。\n\n为了提高信息的利用率，八意永琳规定 $B$ 中出现的所有质数的值必须在 $[1,M]$ 范围内。", "inputFormat": "第一行一个整数 $T$ , 表示需要被加密的明文的组数。\n\n对于每组明文：\n\n第一行两个整数 $n,M$ ，代表明文的长度$+1$，也即所求密文的长度和可出现质数的最大值。\n\n接下来一行 $n - 1$ 个由空格隔开的正整数，代表明文 $A$。", "outputFormat": "对于每组明文，均输出一行：\n\n- 若有解，输出**任意一组**合法密文 $B$ 即可，密文中的 $n$ 个质数以空格隔开。\n\n- 若无解，输出 `-1`。", "hint": "#### 数据规模\n\n- 对于 $20\\%$ 的数据，$n \\le 5,M \\le 10$。\n\n- 对于 $40\\%$ 的数据，$A_i \\le 10 ^ {12}$。\n\n- 对于 $70\\%$ 的数据， $A_i \\neq A_{i + 1}$。\n\n- 对于$100\\%$的数据，$3 \\le n \\le 10 ^ 5$，$1 \\le A_i,M \\le 10 ^ {18}$，$1 \\le T \\le 5$。\n\n- 以上几档部分分呈**包含关系**，$100\\%$ 包含 $70\\%$，$70\\%$ 包含 $40\\%\\ \\ldots\\ldots$以此类推。\n\n#### 数据保证：\n\n- 若不考虑 $b_i$ 在 $[1,M]$ 范围内的条件，必然有至少一组合法解。\n\n- 有至少一对 $(i,j)$，使得 $A_i \\neq A_j$。\n\n#### 后置资料\n\n**本段资料与答题相关性不大**。\n\n[百度百科 - 质数](https://baike.baidu.com/item/%E8%B4%A8%E6%95%B0/263515?fr=aladdin)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」加密通信", "background": "自月战之后，八云紫在槐安通道中设立了一重结界，使得从地面传向月都的信息全部会被拦截和破译。  \n\n为了维持正常的通讯，八意永琳同月兔们研究出了一种全新的加密方式。", "description": "首先，八意永琳会写出需要被加密的明文 $A$ ，此段明文由 $n-1$ 个正整数构成。\n\n之后，她会构造出一个由 $n$ 个**质数**构成的密文 $B$，满足对  $\\forall  i \\in [1,n),B_i \\times B_{i + 1} = A_i$。\n\n为了提高信息的利用率，八意永琳规定 $B$ 中出现的所有质数的值必须在 $[1,M]$ 范围内。", "inputFormat": "第一行一个整数 $T$ , 表示需要被加密的明文的组数。\n\n对于每组明文：\n\n第一行两个整数 $n,M$ ，代表明文的长度$+1$，也即所求密文的长度和可出现质数的最大值。\n\n接下来一行 $n - 1$ 个由空格隔开的正整数，代表明文 $A$。", "outputFormat": "对于每组明文，均输出一行：\n\n- 若有解，输出**任意一组**合法密文 $B$ 即可，密文中的 $n$ 个质数以空格隔开。\n\n- 若无解，输出 `-1`。", "hint": "#### 数据规模\n\n- 对于 $20\\%$ 的数据，$n \\le 5,M \\le 10$。\n\n- 对于 $40\\%$ 的数据，$A_i \\le 10 ^ {12}$。\n\n- 对于 $70\\%$ 的数据， $A_i \\neq A_{i + 1}$。\n\n- 对于$100\\%$的数据，$3 \\le n \\le 10 ^ 5$，$1 \\le A_i,M \\le 10 ^ {18}$，$1 \\le T \\le 5$。\n\n- 以上几档部分分呈**包含关系**，$100\\%$ 包含 $70\\%$，$70\\%$ 包含 $40\\%\\ \\ldots\\ldots$以此类推。\n\n#### 数据保证：\n\n- 若不考虑 $b_i$ 在 $[1,M]$ 范围内的条件，必然有至少一组合法解。\n\n- 有至少一对 $(i,j)$，使得 $A_i \\neq A_j$。\n\n#### 后置资料\n\n**本段资料与答题相关性不大**。\n\n[百度百科 - 质数](https://baike.baidu.com/item/%E8%B4%A8%E6%95%B0/263515?fr=aladdin)", "locale": "zh-CN"}}}
