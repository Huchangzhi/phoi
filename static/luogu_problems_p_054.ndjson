{"pid": "P2085", "type": "P", "difficulty": 3, "samples": [["3 10\n4 5 3\n3 4 5\n1 7 1\n", "9 12 12 19 25 29 31 44 45 54"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "堆", "排序", "优先队列"], "title": "最小函数值", "background": null, "description": "有 $n$ 个函数，分别为 $F_1,F_2,\\dots,F_n$。定义 $F_i(x)=A_ix^2+B_ix+C_i(x\\in\\mathbb N*)$。给定这些 $A_i$、$B_i$ 和 $C_i$，请求出所有函数的所有函数值中最小的 $m$ 个（如有重复的要输出多个）。", "inputFormat": "第一行输入两个正整数 $n$ 和 $m$。  \n\n以下 $n$ 行每行三个正整数，其中第 $i$ 行的三个数分别为 $A_i$、$B_i$ 和 $C_i$。", "outputFormat": "输出将这 $n$ 个函数所有可以生成的函数值排序后的前 $m$ 个元素。这 $m$ 个数应该输出到一行，用空格隔开。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n,m\\le10000$，$1 \\leq A_i\\le10$,\n$0 \\leq B_i\\le100$,\n$0 \\leq C_i\\le10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Minimum Function Values", "background": "", "description": "There are $n$ functions, denoted $F_1, F_2, \\dots, F_n$. Define $F_i(x) = A_i x^2 + B_i x + C_i$ for $x \\in \\mathbb{N}^*$. Given these $A_i$, $B_i$, and $C_i$, find the smallest $m$ values among all function values of all functions (if there are duplicates, output them multiple times).", "inputFormat": "The first line contains two positive integers $n$ and $m$.\n\nEach of the following $n$ lines contains three integers; on the $i$-th line they are $A_i$, $B_i$, and $C_i$.", "outputFormat": "Output the first $m$ elements of the sorted sequence of all function values generated by the $n$ functions. Print these $m$ numbers on one line, separated by spaces.", "hint": "Constraints\n\nFor all test points, it is guaranteed that $1 \\leq n, m \\leq 10000$, $1 \\leq A_i \\leq 10$, $0 \\leq B_i \\leq 100$, $0 \\leq C_i \\leq 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最小函数值", "background": null, "description": "有 $n$ 个函数，分别为 $F_1,F_2,\\dots,F_n$。定义 $F_i(x)=A_ix^2+B_ix+C_i(x\\in\\mathbb N*)$。给定这些 $A_i$、$B_i$ 和 $C_i$，请求出所有函数的所有函数值中最小的 $m$ 个（如有重复的要输出多个）。", "inputFormat": "第一行输入两个正整数 $n$ 和 $m$。  \n\n以下 $n$ 行每行三个正整数，其中第 $i$ 行的三个数分别为 $A_i$、$B_i$ 和 $C_i$。", "outputFormat": "输出将这 $n$ 个函数所有可以生成的函数值排序后的前 $m$ 个元素。这 $m$ 个数应该输出到一行，用空格隔开。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n,m\\le10000$，$1 \\leq A_i\\le10$,\n$0 \\leq B_i\\le100$,\n$0 \\leq C_i\\le10^4$。", "locale": "zh-CN"}}}
{"pid": "P2086", "type": "P", "difficulty": 7, "samples": [["2 2\n1 1\n4\n6 12\n18 24\n0 0 0 1 0\n1 1 1 1 2 6\n1 2 1 2 2 6\n0 0 0 1 1", "6\n6"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2012", "线段树", "NOI", "最大公约数 gcd"], "title": "[NOI2012] 魔幻棋盘", "background": "", "description": "将要读二年级的小 Q 买了一款新型益智玩具——魔幻棋盘，它是一个 $N$ 行 $M$ 列的网格棋盘，每个格子中均有一个正整数。棋盘守护者在棋盘的第 $X$ 行第 $Y$ 列（行与列均从 $1$ 开始编号）并且始终不会移动。棋盘守护者会进行两种操作：\n\n* （a）询问：他会以自己所在位置为基础，向四周随机扩展出一块大小不定的矩形区域，向你询问这一区域内所有数的最大公约数是多少。\n* （b）修改：他会随意挑选棋盘上的一块矩形区域，将这一区域内的所有数同时加上一个给定的整数。\n\n游戏说明书上附有这样一句话“聪明的小朋友，当你连续答对 $19930324$ 次询问后会得到一个惊喜噢！”。小 Q 十分想得到这个惊喜，于是每天都在玩这个玩具。但由于他粗心大意，经常算错数，难以达到这个目标。于是他来向你寻求帮助，希望你帮他写一个程序来回答棋盘守护者的询问，并保证 $100\\%$ 的正确率。\n\n为了简化问题，你的程序只需要完成棋盘守护者的 $T$ 次操作，并且问题保证任何时刻棋盘上的数字均为不超过 $2^{62} - 1$ 的正整数。\n", "inputFormat": "第一行为两个正整数 $N,M$，表示棋盘的大小。\n\n第二行为两个正整数 $X,Y$，表示棋盘守护者的位置。\n\n第三行仅有一个正整数 $T$，表示棋盘守护者将进行 $T$ 次操作。\n\n接下来 $N$ 行，每行有 $M$ 个正整数，用来描述初始时棋盘上每个位置的数。\n\n接下来 $T$ 行，按操作的时间顺序给出 $T$ 次操作。每行描述一次操作，以一个数字 $0$ 或 $1$ 开头：\n\n* 若以数字 $0$ 开头，表示此操作为询问，随后会有四个非负整数 $x_1,y_1,x_2,y_2$，表示询问的区域是以棋盘守护者的位置为基础向上扩展\n $x_1$ 行，向下扩展 $x_2$ 行，向左扩展 $y_1$ 列，向右扩展 $y_2$ 列得到的矩形区域（详见样例）。 \n* 若以数字 $1$ 开头，表示此操作为修改，随后会有四个正整数 $x_1,y_1,x_2,y_2$ 和一个整数 $c$，表示修改区域的上、下边界分别为第 $x_1,x_2$ 行，左、右边界分别为第 $y_1,y_2$ 列（详见样例），在此矩形区域内的所有数统一加上 $c$（注意 $c$ 可能为负数）。\n", "outputFormat": "对于每次询问操作，每行输出一个数，表示该区域内所有数的最大公约数。\n", "hint": " ![](https://cdn.luogu.com.cn/upload/pic/2594.png) \n\n对于第一、第四次操作（查询操作）后，加粗部分表示查询区域。\n\n对于第二、第三次操作（修改操作）后，加粗部分表示修改区域。\n\n测试数据分为 A、B、C 三类：\n\nA 类数据占 $20\\%$，满足 $N \\leq 100$，$M \\leq 100$，$T \\leq 2\\times 10^4$。\n\nB 类数据占 $40\\%$，满足 $N = 1$，$M \\leq 5\\times 10^5$，$T \\leq 10^5$。\n\nC 类数据占 $40\\%$，满足 $N \\times M \\leq 5\\times 10^5$，$T \\leq 10^5$。\n\n在每类数据中，均有 $50\\%$ 的数据满足每次修改操作仅含一个格子（即 $x_1 = x_2$，$y_1 = y_2$）。\n\n输入数据保证满足题目描述中的所有性质。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2012] Magic Chessboard", "background": "", "description": "Little Q, who is about to enter second grade, bought a new type of puzzle toy — the Magic Chessboard. It is a grid board with $N$ rows and $M$ columns, and each cell contains a positive integer. The board guardian stands at the $X$-th row and the $Y$-th column (rows and columns are numbered starting from $1$) and will never move. The board guardian performs two types of operations:\n\n- (a) Query: Based on his position, he expands in the four directions to form a rectangle of arbitrary size and asks you for the greatest common divisor of all numbers in this region.\n- (b) Modify: He arbitrarily selects a rectangular region on the board and adds a given integer to all numbers in this region.\n\nThe game manual includes this sentence: “Smart kids, when you answer $19930324$ consecutive queries correctly, you will get a surprise!” Little Q really wants this surprise, so he plays this toy every day. However, because he is careless, he often makes mistakes and cannot reach this goal. He now seeks your help, hoping you can write a program to answer the guardian’s queries with $100\\%$ accuracy.\n\nTo simplify the problem, your program only needs to process $T$ operations from the board guardian, and it is guaranteed that at any time all numbers on the board are positive integers not exceeding $2^{62} - 1$.", "inputFormat": "The first line contains two positive integers $N, M$, representing the size of the board.\n\nThe second line contains two positive integers $X, Y$, representing the position of the board guardian.\n\nThe third line contains a single positive integer $T$, representing that the board guardian will perform $T$ operations.\n\nThe next $N$ lines each contain $M$ positive integers, describing the initial numbers at each position on the board.\n\nThe next $T$ lines, in chronological order, describe the $T$ operations. Each line starts with a digit $0$ or $1$:\n\n- If it starts with $0$, the operation is a query, followed by four non-negative integers $x_1, y_1, x_2, y_2$. The queried rectangle is obtained by expanding, based on the guardian’s position, $x_1$ rows upward, $x_2$ rows downward, $y_1$ columns to the left, and $y_2$ columns to the right (see the sample).\n- If it starts with $1$, the operation is a modification, followed by four positive integers $x_1, y_1, x_2, y_2$ and an integer $c$. The upper and lower boundaries of the modified region are rows $x_1$ and $x_2$, and the left and right boundaries are columns $y_1$ and $y_2$ (see the sample). All numbers in this rectangle are increased by $c$ (note that $c$ may be negative).", "outputFormat": "For each query operation, output one number per line, which is the greatest common divisor of all numbers in the specified region.", "hint": "![](https://cdn.luogu.com.cn/upload/pic/2594.png)\n\nAfter the first and fourth operations (queries), the boldfaced part indicates the query region.\n\nAfter the second and third operations (modifications), the boldfaced part indicates the modification region.\n\nThe testdata is divided into three categories A, B, and C:\n\n- Category A accounts for $20\\%$, satisfying $N \\leq 100$, $M \\leq 100$, $T \\leq 2\\times 10^4$.\n- Category B accounts for $40\\%$, satisfying $N = 1$, $M \\leq 5\\times 10^5$, $T \\leq 10^5$.\n- Category C accounts for $40\\%$, satisfying $N \\times M \\leq 5\\times 10^5$, $T \\leq 10^5$.\n\nIn each category, $50\\%$ of the testdata satisfies that each modification affects only one cell (i.e., $x_1 = x_2$, $y_1 = y_2$).\n\nThe input data is guaranteed to satisfy all properties described in the statement.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2012] 魔幻棋盘", "background": "", "description": "将要读二年级的小 Q 买了一款新型益智玩具——魔幻棋盘，它是一个 $N$ 行 $M$ 列的网格棋盘，每个格子中均有一个正整数。棋盘守护者在棋盘的第 $X$ 行第 $Y$ 列（行与列均从 $1$ 开始编号）并且始终不会移动。棋盘守护者会进行两种操作：\n\n* （a）询问：他会以自己所在位置为基础，向四周随机扩展出一块大小不定的矩形区域，向你询问这一区域内所有数的最大公约数是多少。\n* （b）修改：他会随意挑选棋盘上的一块矩形区域，将这一区域内的所有数同时加上一个给定的整数。\n\n游戏说明书上附有这样一句话“聪明的小朋友，当你连续答对 $19930324$ 次询问后会得到一个惊喜噢！”。小 Q 十分想得到这个惊喜，于是每天都在玩这个玩具。但由于他粗心大意，经常算错数，难以达到这个目标。于是他来向你寻求帮助，希望你帮他写一个程序来回答棋盘守护者的询问，并保证 $100\\%$ 的正确率。\n\n为了简化问题，你的程序只需要完成棋盘守护者的 $T$ 次操作，并且问题保证任何时刻棋盘上的数字均为不超过 $2^{62} - 1$ 的正整数。\n", "inputFormat": "第一行为两个正整数 $N,M$，表示棋盘的大小。\n\n第二行为两个正整数 $X,Y$，表示棋盘守护者的位置。\n\n第三行仅有一个正整数 $T$，表示棋盘守护者将进行 $T$ 次操作。\n\n接下来 $N$ 行，每行有 $M$ 个正整数，用来描述初始时棋盘上每个位置的数。\n\n接下来 $T$ 行，按操作的时间顺序给出 $T$ 次操作。每行描述一次操作，以一个数字 $0$ 或 $1$ 开头：\n\n* 若以数字 $0$ 开头，表示此操作为询问，随后会有四个非负整数 $x_1,y_1,x_2,y_2$，表示询问的区域是以棋盘守护者的位置为基础向上扩展\n $x_1$ 行，向下扩展 $x_2$ 行，向左扩展 $y_1$ 列，向右扩展 $y_2$ 列得到的矩形区域（详见样例）。 \n* 若以数字 $1$ 开头，表示此操作为修改，随后会有四个正整数 $x_1,y_1,x_2,y_2$ 和一个整数 $c$，表示修改区域的上、下边界分别为第 $x_1,x_2$ 行，左、右边界分别为第 $y_1,y_2$ 列（详见样例），在此矩形区域内的所有数统一加上 $c$（注意 $c$ 可能为负数）。\n", "outputFormat": "对于每次询问操作，每行输出一个数，表示该区域内所有数的最大公约数。\n", "hint": " ![](https://cdn.luogu.com.cn/upload/pic/2594.png) \n\n对于第一、第四次操作（查询操作）后，加粗部分表示查询区域。\n\n对于第二、第三次操作（修改操作）后，加粗部分表示修改区域。\n\n测试数据分为 A、B、C 三类：\n\nA 类数据占 $20\\%$，满足 $N \\leq 100$，$M \\leq 100$，$T \\leq 2\\times 10^4$。\n\nB 类数据占 $40\\%$，满足 $N = 1$，$M \\leq 5\\times 10^5$，$T \\leq 10^5$。\n\nC 类数据占 $40\\%$，满足 $N \\times M \\leq 5\\times 10^5$，$T \\leq 10^5$。\n\n在每类数据中，均有 $50\\%$ 的数据满足每次修改操作仅含一个格子（即 $x_1 = x_2$，$y_1 = y_2$）。\n\n输入数据保证满足题目描述中的所有性质。\n", "locale": "zh-CN"}}}
{"pid": "P2087", "type": "P", "difficulty": 6, "samples": [["3 5 7\r\nC 1 2\r\nC 2 2\r\nW 1 2\r\nC 3 2\r\nW 1 2\r\nC 3 3\r\nW 1 3", "3\r\n3\r\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树", "平衡树"], "title": "GTY的人类基因组计划2", "background": "GTY 决心改变人类基因！！", "description": "GTY 召唤了 $n$ 个人来做实验，GTY 家的房子很大，有 $m$ 个房间一开始所有人都在 $1$ 号房间里，GTY 会命令某人去某个房间等待做实验，或者命令一段区间的房间开始实验，实验会获得一些实验信息点数，点数为房间里的人数，如果一个房间里的一群人已经做过实验了那么这些人将不会增加实验信息点数（不会增加是针对这一群人的，不是对这群人中的每个人，即 $1,2,3$ 做了实验，$1,2$ 再做实验还会增加 $2$ 点实验点数）。\n", "inputFormat": "第一行两个整数 $n,m,q (n,m,q \\leq 10^5)$ 表示人数，房间数和操作数\n\n接下来 $q$ 行每行一个操作 `C i j` 表示让第 $i$ 个人去房间 $j$，`W l r` 表示让区间 $[l,r]$ 的房间做实验。\n", "outputFormat": "对于每一个 $W$ 操作，输出一个数，表示此次操作所获得的实验点数。\n", "hint": "善用 STL。\n", "locale": "zh-CN", "translations": {"en": {"title": "GTY's Human Genome Project 2", "background": "GTY is determined to alter human genes!!", "description": "GTY summoned $n$ people for experiments. GTY's house is very large, with $m$ rooms. At the beginning, everyone is in room $1$. GTY will either command someone to go wait in a certain room, or command a segment of rooms to start an experiment. An experiment yields some experimental information points, equal to the number of people in the room. If a specific group of people in a room has already done an experiment together, then that exact group will not add experimental information points again. This “no increase” applies to that group as a whole, not to each individual; that is, if $1,2,3$ have done an experiment together, then $1,2$ doing an experiment together again will still add $2$ points.", "inputFormat": "The first line contains two integers $n,m,q (n,m,q \\leq 10^5)$, denoting the number of people, the number of rooms, and the number of operations.\n\nThen follow $q$ lines, each describing one operation: `C i j` means send person $i$ to room $j$; `W l r` means make all rooms in the interval $[l,r]$ conduct the experiment.", "outputFormat": "For each `W` operation, output one number, the points obtained by that operation.", "hint": "Make good use of STL.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "GTY的人类基因组计划2", "background": "GTY 决心改变人类基因！！", "description": "GTY 召唤了 $n$ 个人来做实验，GTY 家的房子很大，有 $m$ 个房间一开始所有人都在 $1$ 号房间里，GTY 会命令某人去某个房间等待做实验，或者命令一段区间的房间开始实验，实验会获得一些实验信息点数，点数为房间里的人数，如果一个房间里的一群人已经做过实验了那么这些人将不会增加实验信息点数（不会增加是针对这一群人的，不是对这群人中的每个人，即 $1,2,3$ 做了实验，$1,2$ 再做实验还会增加 $2$ 点实验点数）。\n", "inputFormat": "第一行两个整数 $n,m,q (n,m,q \\leq 10^5)$ 表示人数，房间数和操作数\n\n接下来 $q$ 行每行一个操作 `C i j` 表示让第 $i$ 个人去房间 $j$，`W l r` 表示让区间 $[l,r]$ 的房间做实验。\n", "outputFormat": "对于每一个 $W$ 操作，输出一个数，表示此次操作所获得的实验点数。\n", "hint": "善用 STL。\n", "locale": "zh-CN"}}}
{"pid": "P2088", "type": "P", "difficulty": 4, "samples": [["2 7\n1\n2\n3\n1\n3\n1\n3\n", "1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "果汁店的难题", "background": null, "description": "炎热的夏天，来上一杯现榨的冰爽果汁想想都是一件惬意的事情！话说小王就看准了这一商机，在学校附近开了这么一家果汁店，但是最近他碰到了一个不大不小的难题：小王的果汁店里准备了 $K$ 台榨汁机，当然每台榨汁机只能榨一种果汁，在某个时段内，一个客人点了某种果汁，如果恰好有某台果汁机榨过这种果汁，那么就直接给客人用这台果汁机接着榨就可以了，但是如果点的是一种新的果汁就需要找一台干净的果汁机来用，问题就出在这，如果这时候还有空的果汁机还好，如果没有的话小王就需要将某台刚才用过的拿去清洗，清洗的话呢就得浪费很多的时间和很多的水，小王是个很有经济头脑的人，他想知道在排队客人需求已知的情况下最少需要清洗多少次果汁机？假定开始时所有果汁机都是干净的，为了方便描述，我们将果汁编号为 $1$（橙汁），$2$（苹果汁），$3$（葡萄汁）......\n\n[友情提示：本店不售卖混合果汁]", "inputFormat": "每组测试数据第一行包括两个整数 $K,N$，其中，$K$ 表示小王准备了 $K$ 台干净的榨汁机，$N$ 表示排队等待的有 $N$ 个客人，接下来 $N$ 行，每行一个整数表示一个客人点的果汁种类 $X_i$。", "outputFormat": "输出在当前的请求序列下，小王最少需要清洗果汁机的次数。", "hint": "$1\\le K\\le 10$，$1\\le N\\le 100$。\n\n$1\\le x_i\\le 100$。", "locale": "zh-CN", "translations": {"en": {"title": "The Juice Shop's Dilemma", "background": "", "description": "On a hot summer day, having a freshly squeezed, ice-cold juice is a delightful treat. Seeing this business opportunity, Xiao Wang opened a juice shop near the school. However, he recently ran into a not-so-small, not-so-big problem: Xiao Wang prepared $K$ juicers in his shop, and each juicer can only squeeze one kind of juice. Over a period of time, when a customer orders a certain type of juice, if there happens to be a juicer that has already been used for that juice, then he can directly use that juicer again for the customer. But if the ordered juice is a new type, he needs to find a clean juicer to use. Here comes the issue: if there are still unused clean juicers, that’s fine; otherwise, Xiao Wang needs to take one that was used earlier and wash it. Washing takes a lot of time and water. Being economically minded, Xiao Wang wants to know, given the known sequence of customer orders, what is the minimal number of times the juicers must be washed? Assume that all juicers are clean at the start. For convenience, we number the juices as $1$ (orange), $2$ (apple), $3$ (grape), and so on.\n\n[Friendly reminder: This shop does not sell mixed juice.]", "inputFormat": "For each test case, the first line contains two integers $K, N$, where $K$ is the number of clean juicers Xiao Wang has prepared, and $N$ is the number of customers waiting in line. The next $N$ lines each contain one integer, representing the type of juice ordered by a customer, denoted as $X_i$.", "outputFormat": "Output the minimal number of times the juicers must be washed for the given request sequence.", "hint": "$1 \\le K \\le 10$, $1 \\le N \\le 100$.\n\n$1 \\le X_i \\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "果汁店的难题", "background": null, "description": "炎热的夏天，来上一杯现榨的冰爽果汁想想都是一件惬意的事情！话说小王就看准了这一商机，在学校附近开了这么一家果汁店，但是最近他碰到了一个不大不小的难题：小王的果汁店里准备了 $K$ 台榨汁机，当然每台榨汁机只能榨一种果汁，在某个时段内，一个客人点了某种果汁，如果恰好有某台果汁机榨过这种果汁，那么就直接给客人用这台果汁机接着榨就可以了，但是如果点的是一种新的果汁就需要找一台干净的果汁机来用，问题就出在这，如果这时候还有空的果汁机还好，如果没有的话小王就需要将某台刚才用过的拿去清洗，清洗的话呢就得浪费很多的时间和很多的水，小王是个很有经济头脑的人，他想知道在排队客人需求已知的情况下最少需要清洗多少次果汁机？假定开始时所有果汁机都是干净的，为了方便描述，我们将果汁编号为 $1$（橙汁），$2$（苹果汁），$3$（葡萄汁）......\n\n[友情提示：本店不售卖混合果汁]", "inputFormat": "每组测试数据第一行包括两个整数 $K,N$，其中，$K$ 表示小王准备了 $K$ 台干净的榨汁机，$N$ 表示排队等待的有 $N$ 个客人，接下来 $N$ 行，每行一个整数表示一个客人点的果汁种类 $X_i$。", "outputFormat": "输出在当前的请求序列下，小王最少需要清洗果汁机的次数。", "hint": "$1\\le K\\le 10$，$1\\le N\\le 100$。\n\n$1\\le x_i\\le 100$。", "locale": "zh-CN"}}}
{"pid": "P2089", "type": "P", "difficulty": 2, "samples": [["11", "10\n1 1 1 1 1 1 1 1 1 2 \n1 1 1 1 1 1 1 1 2 1 \n1 1 1 1 1 1 1 2 1 1 \n1 1 1 1 1 1 2 1 1 1 \n1 1 1 1 1 2 1 1 1 1 \n1 1 1 1 2 1 1 1 1 1 \n1 1 1 2 1 1 1 1 1 1 \n1 1 2 1 1 1 1 1 1 1 \n1 2 1 1 1 1 1 1 1 1 \n2 1 1 1 1 1 1 1 1 1 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "递归", "洛谷原创", "枚举"], "title": "烤鸡", "background": "猪猪 Hanke 得到了一只鸡。\n", "description": "猪猪 Hanke 特别喜欢吃烤鸡（本是同畜牲，相煎何太急！）Hanke 吃鸡很特别，为什么特别呢？因为他有 $10$ 种配料（芥末、孜然等），每种配料可以放 $1$ 到 $3$ 克，任意烤鸡的美味程度为所有配料质量之和。\n\n现在， Hanke 想要知道，如果给你一个美味程度 $n$ ，请输出这 $10$ 种配料的所有搭配方案。", "inputFormat": "一个正整数 $n$，表示美味程度。", "outputFormat": "第一行，方案总数。\n\n第二行至结束，$10$ 个数，表示每种配料所放的质量，按字典序排列。\n\n如果没有符合要求的方法，就只要在第一行输出一个 $0$。", "hint": "对于 $100\\%$ 的数据，$n \\leq 10000$。", "locale": "zh-CN", "translations": {"en": {"title": "Roast Chicken", "background": "Piggy Hanke got a chicken.", "description": "Piggy Hanke especially likes eating roast chicken (we are both livestock—why cook each other so ruthlessly!). Hanke eats chicken in a special way. Why special? Because he has $10$ seasonings (mustard, cumin, etc.), and for each seasoning he can use $1$ to $3$ grams. The deliciousness of any roast chicken equals the sum of the masses of all seasonings.\n\nNow Hanke wants to know: given a deliciousness $n$, please output all combinations of these $10$ seasonings.", "inputFormat": "A positive integer $n$, representing the deliciousness.", "outputFormat": "- On the first line, output the total number of solutions.\n- From the second line to the end, output $10$ numbers per line, representing the mass used for each seasoning, in lexicographical order.\n- If there is no valid method, output only a single $0$ on the first line.", "hint": "For $100\\%$ of the testdata, $n \\leq 5000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "烤鸡", "background": "猪猪 Hanke 得到了一只鸡。\n", "description": "猪猪 Hanke 特别喜欢吃烤鸡（本是同畜牲，相煎何太急！）Hanke 吃鸡很特别，为什么特别呢？因为他有 $10$ 种配料（芥末、孜然等），每种配料可以放 $1$ 到 $3$ 克，任意烤鸡的美味程度为所有配料质量之和。\n\n现在， Hanke 想要知道，如果给你一个美味程度 $n$ ，请输出这 $10$ 种配料的所有搭配方案。", "inputFormat": "一个正整数 $n$，表示美味程度。", "outputFormat": "第一行，方案总数。\n\n第二行至结束，$10$ 个数，表示每种配料所放的质量，按字典序排列。\n\n如果没有符合要求的方法，就只要在第一行输出一个 $0$。", "hint": "对于 $100\\%$ 的数据，$n \\leq 10000$。", "locale": "zh-CN"}}}
{"pid": "P2090", "type": "P", "difficulty": 3, "samples": [["5", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "数字对", "background": null, "description": "对于一个数字对 $(a,b)$，我们可以通过一次操作将其变为新数字对 $(a+b,b)$ 或 $(a,a+b)$。\n\n给定一正整数 $n$，问最少需要多少次操作可将数字对 $(1,1)$ 变为一个数字对，该数字对至少有一个数字为 $n$。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一个整数表示答案。", "hint": "样例解释：\n\n$$(1,1)  \\to  (1,2)  \\to  (3,2)  \\to  (5,2)$$\n\n\n---\n\n\n对于 $30\\%$ 的数据，$1 \\le n \\le 1000$。\n\n对于 $60\\%$ 的数据，$1 \\le n \\le 20000$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Number Pair", "background": "", "description": "For a number pair $(a, b)$, in one operation we can transform it into $(a+b, b)$ or $(a, a+b)$.\n\nGiven a positive integer $n$, find the minimum number of operations to transform the pair $(1, 1)$ into a pair in which at least one number is $n$.", "inputFormat": "One line containing a positive integer $n$.", "outputFormat": "One integer representing the answer.", "hint": "Sample explanation:\n\n$$(1,1)  \\to  (1,2)  \\to  (3,2)  \\to  (5,2)$$\n\nFor $30\\%$ of the testdata, $1 \\le n \\le 1000$.\n\nFor $60\\%$ of the testdata, $1 \\le n \\le 20000$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数字对", "background": null, "description": "对于一个数字对 $(a,b)$，我们可以通过一次操作将其变为新数字对 $(a+b,b)$ 或 $(a,a+b)$。\n\n给定一正整数 $n$，问最少需要多少次操作可将数字对 $(1,1)$ 变为一个数字对，该数字对至少有一个数字为 $n$。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一个整数表示答案。", "hint": "样例解释：\n\n$$(1,1)  \\to  (1,2)  \\to  (3,2)  \\to  (5,2)$$\n\n\n---\n\n\n对于 $30\\%$ 的数据，$1 \\le n \\le 1000$。\n\n对于 $60\\%$ 的数据，$1 \\le n \\le 20000$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P2091", "type": "P", "difficulty": 5, "samples": [["3\n1 3 2\n2 2 3\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "排序", "background": "", "description": "小 A 有 $n$ 个物件排成一排，每个物件有它的体积 $V$ 和质量 $M$。$n$ 个物件的体积在 $1 \\sim n$ 内，且各不相同，但质量可能相同。\n\n现在，小 A 需要把 $n$ 个物件按体积从小到大重新排列。他的排序方式是：每次交换两个物件。这样会他会消耗的体力值为两个物件的质量和。\n\n小 A 想知道，为了将物件排序，他消耗的最少体力值是多少？", "inputFormat": "第一行，一个正整数 $n$，表示物件的数量。\n\n第二行 $n$ 个正整数，第 $i$ 个数表示从左到右第 $i$ 个物品的体积。\n\n第三行 $n$ 个正整数，第 $i$ 个数表示从左到右第 $i$ 个物品的质量。", "outputFormat": "一个数，表示小 A 消耗的最小体力值。\n", "hint": "| 测试点 | $n$ | $m$ |\n| :----------: | :----------: | :----------: |\n| $1\\sim 2$ | $n=2000$ | $m=1$ |\n| $3$ | $n=2000$ | $m \\leq 10$ |\n| $4$ | $n=2000$ | $m \\leq 10000000$ |\n| $5\\sim 7$ | $n=200000$ | $m=1$ |\n| $8$ | $n=200000$ | $m \\leq 10$ |\n| $9\\sim 10$ | $n=200000$ | $m \\leq 10000000$ |", "locale": "zh-CN", "translations": {"en": {"title": "Sorting", "background": "", "description": "Little A has $n$ objects arranged in a row, each with volume $V$ and mass $M$. The volumes of the $n$ objects are within $1 \\sim n$ and are all distinct, but the masses may be the same.\n\nNow Little A needs to reorder the $n$ objects in increasing order of volume. His sorting method is: each operation swaps two objects. Each swap costs the sum of the masses of the two objects.\n\nLittle A wants to know the minimum total energy he must spend to sort the objects.", "inputFormat": "The first line contains a positive integer $n$, the number of objects.\n\nThe second line contains $n$ positive integers; the $i$-th number is the volume of the $i$-th object from left to right.\n\nThe third line contains $n$ positive integers; the $i$-th number is the mass of the $i$-th object from left to right.", "outputFormat": "Output a single integer, the minimum total energy Little A will spend.", "hint": "| Test Point | $n$ | $m$ |\n| :----------: | :----------: | :----------: |\n| $1 \\sim 2$ | $n = 2000$ | $m = 1$ |\n| $3$ | $n = 2000$ | $m \\leq 10$ |\n| $4$ | $n = 2000$ | $m \\leq 10000000$ |\n| $5 \\sim 7$ | $n = 200000$ | $m = 1$ |\n| $8$ | $n = 200000$ | $m \\leq 10$ |\n| $9 \\sim 10$ | $n = 200000$ | $m \\leq 10000000$ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "排序", "background": "", "description": "小 A 有 $n$ 个物件排成一排，每个物件有它的体积 $V$ 和质量 $M$。$n$ 个物件的体积在 $1 \\sim n$ 内，且各不相同，但质量可能相同。\n\n现在，小 A 需要把 $n$ 个物件按体积从小到大重新排列。他的排序方式是：每次交换两个物件。这样会他会消耗的体力值为两个物件的质量和。\n\n小 A 想知道，为了将物件排序，他消耗的最少体力值是多少？", "inputFormat": "第一行，一个正整数 $n$，表示物件的数量。\n\n第二行 $n$ 个正整数，第 $i$ 个数表示从左到右第 $i$ 个物品的体积。\n\n第三行 $n$ 个正整数，第 $i$ 个数表示从左到右第 $i$ 个物品的质量。", "outputFormat": "一个数，表示小 A 消耗的最小体力值。\n", "hint": "| 测试点 | $n$ | $m$ |\n| :----------: | :----------: | :----------: |\n| $1\\sim 2$ | $n=2000$ | $m=1$ |\n| $3$ | $n=2000$ | $m \\leq 10$ |\n| $4$ | $n=2000$ | $m \\leq 10000000$ |\n| $5\\sim 7$ | $n=200000$ | $m=1$ |\n| $8$ | $n=200000$ | $m \\leq 10$ |\n| $9\\sim 10$ | $n=200000$ | $m \\leq 10000000$ |", "locale": "zh-CN"}}}
{"pid": "P2092", "type": "P", "difficulty": 4, "samples": [["6\n", "2\n"], ["30\n", "1\n6\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["素数判断,质数,筛法"], "title": "数字游戏", "background": "", "description": "KC 邀请他的两个小弟 K 和 C 玩起了数字游戏。游戏是 K 和 C 轮流操作进行的，K 为先手。KC 会先给定一个数字 $Q$，每次操作玩家必须写出当前数字的一个因数来代替当前数字，但是这个因数不能是 $1$ 和它本身。例如当前数字为 $6$，那么可以用 $2, 3$ 来代替，但是 $1$ 和 $6$ 就不行。现在规定第一个没有数字可以写出的玩家为胜者。K 在已知 $Q$ 的情况，想知道自己作为先手能不能胜利，若能胜利，那么第一次写出的可以制胜的最小数字是多少呢？整个游戏过程我们认为 K 和C用的都是最优策略。", "inputFormat": "仅一行，一个正整数 $Q$。", "outputFormat": "第一行是 $1$ 或 $2$，$1$ 表示 K 能胜利，$2$ 表示 C 能胜利。\n\n若 K 能胜利，则在第二行输出第一次写出的可以制胜的最小数字。\n\n若是第一次就无法写出数字，则认为第一次写出的可以制胜的最小数字为 $0$。", "hint": "对于 $30 \\%$ 的数据，$Q \\le 50$；  \n对于 $100 \\%$ 的数据，$2 \\le Q \\le {10}^{13}$。", "locale": "zh-CN", "translations": {"en": {"title": "Number Game", "background": "", "description": "KC invited his two underlings, K and C, to play a number game. The game is played by K and C taking turns, with K moving first. KC will first specify a number $Q$. On each move, the player must write a divisor of the current number to replace the current number, but this divisor cannot be $1$ or the number itself. For example, if the current number is $6$, then $2$ and $3$ can be used to replace it, but $1$ and $6$ cannot. The player who first has no number to write is the winner. Given $Q$, K wants to know whether he, as the first player, can win. If he can win, what is the smallest first number he can write that guarantees victory? Assume both K and C play optimally.", "inputFormat": "A single line with a positive integer $Q$.", "outputFormat": "The first line is $1$ or $2$. $1$ means K can win, and $2$ means C can win.\n\nIf K can win, then output on the second line the smallest first number he can write that guarantees victory.\n\nIf there is no number that can be written on the first move, then the smallest winning first number is considered to be $0$.", "hint": "For 30% of the testdata, $Q \\le 50$.\nFor 100% of the testdata, $2 \\le Q \\le 10^{13}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数字游戏", "background": "", "description": "KC 邀请他的两个小弟 K 和 C 玩起了数字游戏。游戏是 K 和 C 轮流操作进行的，K 为先手。KC 会先给定一个数字 $Q$，每次操作玩家必须写出当前数字的一个因数来代替当前数字，但是这个因数不能是 $1$ 和它本身。例如当前数字为 $6$，那么可以用 $2, 3$ 来代替，但是 $1$ 和 $6$ 就不行。现在规定第一个没有数字可以写出的玩家为胜者。K 在已知 $Q$ 的情况，想知道自己作为先手能不能胜利，若能胜利，那么第一次写出的可以制胜的最小数字是多少呢？整个游戏过程我们认为 K 和C用的都是最优策略。", "inputFormat": "仅一行，一个正整数 $Q$。", "outputFormat": "第一行是 $1$ 或 $2$，$1$ 表示 K 能胜利，$2$ 表示 C 能胜利。\n\n若 K 能胜利，则在第二行输出第一次写出的可以制胜的最小数字。\n\n若是第一次就无法写出数字，则认为第一次写出的可以制胜的最小数字为 $0$。", "hint": "对于 $30 \\%$ 的数据，$Q \\le 50$；  \n对于 $100 \\%$ 的数据，$2 \\le Q \\le {10}^{13}$。", "locale": "zh-CN"}}}
{"pid": "P2093", "type": "P", "difficulty": 6, "samples": [["3\n0 0\n0 1\n0 2\n3\n1 1 2\n0 0 3\n0 1 1", "3\n1\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["集训队互测", "K-D Tree"], "title": "[国家集训队] JZPFAR", "background": "原《零件分组》见 P1233。\n", "description": "平面上有 $n$ 个点。现在有 $m$ 次询问，每次给定一个点 $(px, py)$ 和一个整数 $k$，输出 $n$ 个点中离 $(px, py)$ 的距离第 $k$ 大的点的标号。如果有两个(或多个)点距离 $(px, py)$ 相同，那么认为标号较小的点距离较大。\n", "inputFormat": "第一行，一个整数 $n$，表示点的个数。\n\n下面 $n$ 行，每行两个整数 $x_i,y_i$，表示 $n$ 个点的坐标。点的标号按照输入顺序，分别为 $1\\ldots n$。\n\n下面一行，一个整数 $m$，表示询问个数。\n\n下面 $m$ 行，每行三个整数 $px_i,py_i,k_i$，表示一个询问。", "outputFormat": "$m$ 行，每行一个整数，表示相应的询问的答案。", "hint": "#### 数据规模与约定\n\n- $50\\%$ 的数据中，$n$ 个点的坐标在某范围内随机分布。\n- $100\\%$ 的数据中，$1\\le n\\le 10^5$，$1\\le m\\le 10^4$，$1\\le k\\le 20$，$-10^9\\le x_i,y_i,px_i,py_i\\le 10^9$，$n$ 个点中任意两点坐标不同，$m$ 个询问的点的坐标在某范围内随机分布。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] JZPFAR", "background": "For the original \"Parts Grouping\", see P1233.", "description": "There are $n$ points on the plane. There are $m$ queries. In each query, given a point $(px, py)$ and an integer $k$, output the index of the $k$-th farthest point from $(px, py)$ among the $n$ points. If two (or more) points have the same distance to $(px, py)$, then the point with the smaller index is considered farther.", "inputFormat": "The first line contains an integer $n$, the number of points.\nThe next $n$ lines each contain two integers $x_i, y_i$, the coordinates of the $n$ points. The indices of the points follow the input order and are $1\\ldots n$.\nThe next line contains an integer $m$, the number of queries.\nThe next $m$ lines each contain three integers $px_i, py_i, k_i$, describing a query.", "outputFormat": "Output $m$ lines. Each line contains one integer, the answer to the corresponding query.", "hint": "- Constraints and Notes.\n  - In $50\\%$ of the testdata, the coordinates of the $n$ points are randomly distributed within some range.\n  - In $100\\%$ of the testdata, $1\\le n\\le 10^5$, $1\\le m\\le 10^4$, $1\\le k\\le 20$, $-10^9\\le x_i, y_i, px_i, py_i\\le 10^9$. Any two points among the $n$ points have different coordinates. The coordinates of the query points in the $m$ queries are randomly distributed within some range.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] JZPFAR", "background": "原《零件分组》见 P1233。\n", "description": "平面上有 $n$ 个点。现在有 $m$ 次询问，每次给定一个点 $(px, py)$ 和一个整数 $k$，输出 $n$ 个点中离 $(px, py)$ 的距离第 $k$ 大的点的标号。如果有两个(或多个)点距离 $(px, py)$ 相同，那么认为标号较小的点距离较大。\n", "inputFormat": "第一行，一个整数 $n$，表示点的个数。\n\n下面 $n$ 行，每行两个整数 $x_i,y_i$，表示 $n$ 个点的坐标。点的标号按照输入顺序，分别为 $1\\ldots n$。\n\n下面一行，一个整数 $m$，表示询问个数。\n\n下面 $m$ 行，每行三个整数 $px_i,py_i,k_i$，表示一个询问。", "outputFormat": "$m$ 行，每行一个整数，表示相应的询问的答案。", "hint": "#### 数据规模与约定\n\n- $50\\%$ 的数据中，$n$ 个点的坐标在某范围内随机分布。\n- $100\\%$ 的数据中，$1\\le n\\le 10^5$，$1\\le m\\le 10^4$，$1\\le k\\le 20$，$-10^9\\le x_i,y_i,px_i,py_i\\le 10^9$，$n$ 个点中任意两点坐标不同，$m$ 个询问的点的坐标在某范围内随机分布。", "locale": "zh-CN"}}}
{"pid": "P2094", "type": "P", "difficulty": 0, "samples": [["5 2\n1 2 3 4 5", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "排序"], "title": "运输", "background": "", "description": "现在已知 $N$ 件商品，和搬运它们其中每一件的费用。现在搬家公司老板 Mr.sb 决定让我们每次任意选取 $2$ 件商品。然后这 $2$ 件商品只算一件商品的费用。但是这个商品的搬运费用是将选出的 $2$ 个商品的费用之和除以 $k$ 的运算结果。如此反复。直到只收一件商品的钱。这个就是商店要付的费用。掌柜的想尽可能的少付钱，以便将更多的钱捐给希望工程。所以请你帮他计算一下最少只用付多少钱。\n", "inputFormat": "第一行两个整数 $n,k$。\n\n第二行 $n$ 个整数 $w_1,w_2,\\ldots,w_n$，表示每一件物品搬运费。\n", "outputFormat": "一行一个整数表示最少付多少钱。\n", "hint": "$n,k,w_i$ 均为非负数。\n\n$n,k\\le 10^4$。\n\n---\n\n$\\text{upd 2022.7.24}$：新增加一组 Hack 数据。题目是否存在该数据范围下的正确解法有争议。", "locale": "zh-CN", "translations": {"en": {"title": "Transportation", "background": "", "description": "There are $N$ goods, and the handling fee for each of them is known. The moving company boss, Mr. sb, decides that each time we can arbitrarily pick $2$ goods. Then these $2$ goods count as only one item’s fee, where the new item’s handling fee is the result of dividing the sum of the two selected items’ fees by $k$. Repeat this process until only one item’s fee remains. This final amount is what the shop has to pay. The shopkeeper wants to pay as little as possible so that more money can be donated to Project Hope (Xiwang Gongcheng). Please help compute the minimum amount that needs to be paid.", "inputFormat": "The first line contains two integers $n, k$.\n\nThe second line contains $n$ integers $w_1, w_2, \\ldots, w_n$, representing the handling fee of each item.", "outputFormat": "Output a single integer, the minimum amount that needs to be paid.", "hint": "$n, k, w_i$ are all non-negative.\n\n$n, k \\le 10^4$.\n\n---\n\n$\\text{upd 2022.7.24}$: Added one set of Hack testdata. Whether there exists a correct solution within this constraint range is controversial.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "运输", "background": "", "description": "现在已知 $N$ 件商品，和搬运它们其中每一件的费用。现在搬家公司老板 Mr.sb 决定让我们每次任意选取 $2$ 件商品。然后这 $2$ 件商品只算一件商品的费用。但是这个商品的搬运费用是将选出的 $2$ 个商品的费用之和除以 $k$ 的运算结果。如此反复。直到只收一件商品的钱。这个就是商店要付的费用。掌柜的想尽可能的少付钱，以便将更多的钱捐给希望工程。所以请你帮他计算一下最少只用付多少钱。\n", "inputFormat": "第一行两个整数 $n,k$。\n\n第二行 $n$ 个整数 $w_1,w_2,\\ldots,w_n$，表示每一件物品搬运费。\n", "outputFormat": "一行一个整数表示最少付多少钱。\n", "hint": "$n,k,w_i$ 均为非负数。\n\n$n,k\\le 10^4$。\n\n---\n\n$\\text{upd 2022.7.24}$：新增加一组 Hack 数据。题目是否存在该数据范围下的正确解法有争议。", "locale": "zh-CN"}}}
{"pid": "P2095", "type": "P", "difficulty": 2, "samples": [["6 6 3\n3 3 2\n15 1\n15 2\n10 2\n15 2\n10 2\n5 3", "60"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "贪心", "排序"], "title": "营养膳食", "background": "", "description": "Mr.L 正在完成自己的增肥计划。\n\n为了增肥，Mr.L 希望吃到更多的脂肪。然而也不能只吃高脂肪食品，那样的话就会导致缺少其他营养。\n\nMr.L 通过研究发现：真正的营养膳食规定某类食品不宜一次性吃超过若干份。比如就一顿饭来说，肉类不宜吃超过 $1$ 份，鱼类不宜吃超过 $1$ 份，蛋类不宜吃超过 $1$ 份，蔬菜类不宜吃超过 $2$ 份。\n\nMr.L 想要在营养膳食的情况下吃到更多的脂肪，当然 Mr.L 的食量也是有限的。\n", "inputFormat": "第一行包含三个正整数 $n,m$ 和 $k$。表示 Mr.L 每顿饭最多可以吃 $m$ 份食品，同时有 $n$ 种食品供 Mr.L 选择，而这 $n$ 种食品分为 $k$ 类。\n\n第二行包含 $k$ 个不超过 $10$ 的正整数，表示可以吃 $1$ 到 $k$ 类食品的最大份数。\n\n接下来 $n$ 行每行包括 $2$ 个正整数，分别表示该食品的脂肪指数 $a_i$ 和所属的类别 $b_i$。\n", "outputFormat": "包括一个数字即 Mr.L 可以吃到的最大脂肪指数和。\n", "hint": "对于 $100\\%$ 的数据，$1\\leq n\\leq 200$，$1\\leq m\\leq 100$，$1\\leq k\\leq 100$，$1\\leq a_i\\leq 100$，$1\\leq b_i\\leq k$。", "locale": "zh-CN", "translations": {"en": {"title": "Nutritional Diet", "background": "", "description": "Mr. L is working on his weight gain plan.\n\nTo gain weight, Mr. L wants to eat more fat. However, he cannot eat only high-fat foods, otherwise he would lack other nutrients.\n\nThrough research, Mr. L found that a truly balanced diet sets an upper limit on the number of servings of each category in a single meal. For example, for one meal: at most $1$ serving of meat, at most $1$ serving of fish, at most $1$ serving of eggs, and at most $2$ servings of vegetables.\n\nMr. L wants to maximize fat intake while following a nutritional diet, and of course his capacity is limited.", "inputFormat": "The first line contains three positive integers $n$, $m$ and $k$. Here, $m$ is the maximum number of servings Mr. L can eat in one meal; there are $n$ foods to choose from, and these $n$ foods fall into $k$ categories.\n\nThe second line contains $k$ positive integers, each not exceeding $10$, where the $i$-th number gives the maximum number of servings allowed for category $i$ in a single meal, for categories $1$ through $k$.\n\nEach of the next $n$ lines contains $2$ positive integers: the fat index $a_i$ of that food and its category $b_i$.", "outputFormat": "Output a single integer: the maximum possible total fat index that Mr. L can eat.", "hint": "For $100\\%$ of the testdata, $1 \\leq n \\leq 200$, $1 \\leq m \\leq 100$, $1 \\leq k \\leq 100$, $1 \\leq a_i \\leq 100$, $1 \\leq b_i \\leq k$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "营养膳食", "background": "", "description": "Mr.L 正在完成自己的增肥计划。\n\n为了增肥，Mr.L 希望吃到更多的脂肪。然而也不能只吃高脂肪食品，那样的话就会导致缺少其他营养。\n\nMr.L 通过研究发现：真正的营养膳食规定某类食品不宜一次性吃超过若干份。比如就一顿饭来说，肉类不宜吃超过 $1$ 份，鱼类不宜吃超过 $1$ 份，蛋类不宜吃超过 $1$ 份，蔬菜类不宜吃超过 $2$ 份。\n\nMr.L 想要在营养膳食的情况下吃到更多的脂肪，当然 Mr.L 的食量也是有限的。\n", "inputFormat": "第一行包含三个正整数 $n,m$ 和 $k$。表示 Mr.L 每顿饭最多可以吃 $m$ 份食品，同时有 $n$ 种食品供 Mr.L 选择，而这 $n$ 种食品分为 $k$ 类。\n\n第二行包含 $k$ 个不超过 $10$ 的正整数，表示可以吃 $1$ 到 $k$ 类食品的最大份数。\n\n接下来 $n$ 行每行包括 $2$ 个正整数，分别表示该食品的脂肪指数 $a_i$ 和所属的类别 $b_i$。\n", "outputFormat": "包括一个数字即 Mr.L 可以吃到的最大脂肪指数和。\n", "hint": "对于 $100\\%$ 的数据，$1\\leq n\\leq 200$，$1\\leq m\\leq 100$，$1\\leq k\\leq 100$，$1\\leq a_i\\leq 100$，$1\\leq b_i\\leq k$。", "locale": "zh-CN"}}}
{"pid": "P2096", "type": "P", "difficulty": 3, "samples": [["3 5 \n-50 -47 36 -30 -23 \n17 -19 -34 -13 -8 \n-42 -3 -43 34 -45 \n", "84"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心"], "title": "最佳旅游线路", "background": null, "description": "某旅游区的街道成网格状。其中东西向的街道都是旅游街，南北向的街道都是林阴道。\n\n由于游客众多，旅游街被规定为单行道，游客在旅游街上只能从西向东走，在林阴道上则既可从南向北走，也可以从北向南走。\n\n阿龙想到这个旅游街游玩，他的好友阿福给了他一些建议，用分值表示所有旅游街相邻两个路口之间的街道值得游览的程度，分值是从 $-100$ 到 $100$ 的整数，所有林阴道不打分。所有分值不可能全是负分。\n\n如图（**格子代表旅游街，竖线代表林阴道**）：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1235.png) \n\n阿龙想知道，如果他从任意一个旅游街开始游览，再在任意一个旅游街结束游览，那么他经过的所有旅游街对的分值之和最大能是多少？", "inputFormat": "输入文件的第一行是两个整数 $m$ 和 $n$，之间用一个空格隔开，$m$ 表示有 $m$ 条旅游街（$1 \\le m \\le 100$），$n$ 表示有 $(n+1)$ 条林阴道（$1 \\le n \\le 20001$）。接下来的 $m$ 行依次给出了由北向南每条旅游街的分值信息。每行有 $n$ 个整数，依次表示了自西向东旅游街每一小段的分值。同一行相邻两个数之间用一个空格隔开。", "outputFormat": "输出文件只有一行，是一个整数，表示你的程序找到的最佳游览线路的总分值。", "hint": "样例解释：\n\n如图，阿龙从 $17$ 处开始游览，到 $34$ 处结束，答案为 $17-3+36+34=84$：\n\n```plain\n -50       -47   +->[ 36]--+   -30       -23\n                 |         |\n                 |         |\n[ 17]--+   -19   |   -34   |   -13       - 8\n       |         |         |\n       |         |         |\n -42   +->[- 3]--+   -43   +->[ 34]      -45\n```", "locale": "zh-CN", "translations": {"en": {"title": "Best Tourist Route", "background": "", "description": "The streets in a tourist area form a grid. All east–west streets are tourist streets, and all north–south streets are boulevards.\n\nBecause there are many visitors, tourist streets are one-way: on a tourist street you can only move from west to east. On boulevards, you can move either from south to north or from north to south.\n\nA Long (pinyin) plans to visit this area. His friend A Fu (pinyin) gave him advice by assigning a score to each segment between two adjacent intersections on every tourist street, indicating how worthwhile it is to visit. Each score is an integer from $-100$ to $100$. Boulevards are not scored. It is guaranteed that not all scores are negative.\n\nAs shown in the figure (grid cells are tourist streets, vertical lines are boulevards):\n\n ![](https://cdn.luogu.com.cn/upload/pic/1235.png) \n\nA Long wants to know: if he starts on any tourist street and ends on any tourist street, what is the maximum possible sum of scores of all tourist street segments he traverses?", "inputFormat": "The first line contains two integers $m$ and $n$, separated by a space. Here $m$ means there are $m$ tourist streets ($1 \\le m \\le 100$), and $n$ means there are $(n+1)$ boulevards ($1 \\le n \\le 20001$). The next $m$ lines give the score information for each tourist street from north to south. Each line contains $n$ integers, representing the scores of the segments along the tourist street from west to east. Adjacent numbers in the same line are separated by a single space.", "outputFormat": "Output a single integer on one line: the total score of the best route found by your program.", "hint": "Sample explanation:\n\nAs shown, A Long starts at $17$ and ends at $34$, so the answer is $17-3+36+34=84$:\n\n```plain\n -50       -47   +->[ 36]--+   -30       -23\n                 |         |\n                 |         |\n[ 17]--+   -19   |   -34   |   -13       - 8\n       |         |         |\n       |         |         |\n -42   +->[- 3]--+   -43   +->[ 34]      -45\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最佳旅游线路", "background": null, "description": "某旅游区的街道成网格状。其中东西向的街道都是旅游街，南北向的街道都是林阴道。\n\n由于游客众多，旅游街被规定为单行道，游客在旅游街上只能从西向东走，在林阴道上则既可从南向北走，也可以从北向南走。\n\n阿龙想到这个旅游街游玩，他的好友阿福给了他一些建议，用分值表示所有旅游街相邻两个路口之间的街道值得游览的程度，分值是从 $-100$ 到 $100$ 的整数，所有林阴道不打分。所有分值不可能全是负分。\n\n如图（**格子代表旅游街，竖线代表林阴道**）：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1235.png) \n\n阿龙想知道，如果他从任意一个旅游街开始游览，再在任意一个旅游街结束游览，那么他经过的所有旅游街对的分值之和最大能是多少？", "inputFormat": "输入文件的第一行是两个整数 $m$ 和 $n$，之间用一个空格隔开，$m$ 表示有 $m$ 条旅游街（$1 \\le m \\le 100$），$n$ 表示有 $(n+1)$ 条林阴道（$1 \\le n \\le 20001$）。接下来的 $m$ 行依次给出了由北向南每条旅游街的分值信息。每行有 $n$ 个整数，依次表示了自西向东旅游街每一小段的分值。同一行相邻两个数之间用一个空格隔开。", "outputFormat": "输出文件只有一行，是一个整数，表示你的程序找到的最佳游览线路的总分值。", "hint": "样例解释：\n\n如图，阿龙从 $17$ 处开始游览，到 $34$ 处结束，答案为 $17-3+36+34=84$：\n\n```plain\n -50       -47   +->[ 36]--+   -30       -23\n                 |         |\n                 |         |\n[ 17]--+   -19   |   -34   |   -13       - 8\n       |         |         |\n       |         |         |\n -42   +->[- 3]--+   -43   +->[ 34]      -45\n```", "locale": "zh-CN"}}}
{"pid": "P2097", "type": "P", "difficulty": 2, "samples": [["4 5\n1 2\n1 3\n2 3\n2 1\n3 4", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "并查集", "广度优先搜索 BFS", "深度优先搜索 DFS"], "title": "资料分发 1", "background": null, "description": "有一些电脑，一部分电脑有双向数据线连接。\n\n如果一个电脑得到数据，它可以传送到的电脑都可以得到数据。\n\n现在，你有这个数据，问你至少将其输入几台电脑，才能使所有电脑得到数据。", "inputFormat": "第一行两个整数 $n,m$。$n$ 是点数，$m$ 是边数。\n\n接下来 $m$ 行，每行 $2$ 个整数 $p,q$，表示 $p$ 到 $q$ 有一条双向数据线。", "outputFormat": "一个整数，表示至少输入的电脑数量。", "hint": "对于 $30\\%$ 的数据，$n \\le 100$，$m \\le 1000$。\n\n对于 $60\\%$ 的数据，$n \\le 2000$。\n\n对于 $100\\%$ 的数据，$0 \\le n \\le 10^5$，$0 \\le m \\le 2 \\times 10^5$，$1 \\le p,q \\le n$。\n\n数据可能存在重边自环。", "locale": "zh-CN", "translations": {"en": {"title": "Data Distribution 1", "background": "", "description": "There are several computers, and some pairs are connected by bidirectional data lines. If a computer receives the data, then every computer that is reachable from it via the data lines will also receive the data. Now you have the data. What is the minimum number of computers into which you must input the data so that all computers receive it?", "inputFormat": "The first line contains two integers $n, m$. Here $n$ is the number of vertices, and $m$ is the number of edges.\nThe next $m$ lines each contain two integers $p, q$, indicating that there is a bidirectional data line between $p$ and $q$.", "outputFormat": "Output one integer, the minimum number of computers into which you must input the data.", "hint": "- For $30\\%$ of the testdata, $n \\le 100$, $m \\le 1000$.\n- For $60\\%$ of the testdata, $n \\le 2000$.\n- For $100\\%$ of the testdata, $0 \\le n \\le 10^5$, $0 \\le m \\le 2 \\times 10^5$, $1 \\le p, q \\le n$.\n\nThe graph may contain multiple edges and self-loops.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "资料分发 1", "background": null, "description": "有一些电脑，一部分电脑有双向数据线连接。\n\n如果一个电脑得到数据，它可以传送到的电脑都可以得到数据。\n\n现在，你有这个数据，问你至少将其输入几台电脑，才能使所有电脑得到数据。", "inputFormat": "第一行两个整数 $n,m$。$n$ 是点数，$m$ 是边数。\n\n接下来 $m$ 行，每行 $2$ 个整数 $p,q$，表示 $p$ 到 $q$ 有一条双向数据线。", "outputFormat": "一个整数，表示至少输入的电脑数量。", "hint": "对于 $30\\%$ 的数据，$n \\le 100$，$m \\le 1000$。\n\n对于 $60\\%$ 的数据，$n \\le 2000$。\n\n对于 $100\\%$ 的数据，$0 \\le n \\le 10^5$，$0 \\le m \\le 2 \\times 10^5$，$1 \\le p,q \\le n$。\n\n数据可能存在重边自环。", "locale": "zh-CN"}}}
{"pid": "P2098", "type": "P", "difficulty": 4, "samples": [["10 10 3\n1 2 2 6 6 7 8 9 14 17\n1 3 8 10 10 16 16 18 19 19", "382"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2016", "USACO", "动态规划优化", "前缀和"], "title": "[USACO16DEC] Team Building P", "background": "", "description": "Every year, Farmer John brings his $N$ cows to compete for \"best in show\" at the state fair. His arch-rival, Farmer Paul, brings his $M$ cows to compete as well ($1 \\leq N \\leq 1000, 1 \\leq M \\leq 1000$).\n\nEach of the $N + M$ cows at the event receive an individual integer score. However, the final competition this year will be determined based on teams of $K$ cows ($1 \\leq K \\leq 10$), as follows: Farmer John and Farmer Paul both select teams of $K$ of their respective cows to compete. The cows on these two teams are then paired off: the highest-scoring cow on FJ's team is paired with the highest-scoring cow on FP's team, the second-highest-scoring cow on FJ's team is paired with the second-highest-scoring cow on FP's team, and so on. FJ wins if in each of these pairs, his cow has the higher score.\n\nPlease help FJ count the number of different ways he and FP can choose their teams such that FJ will win the contest. That is, each distinct pair (set of $K$ cows for FJ, set of $K$ cows for FP) where FJ wins should be counted. Print your answer modulo 1,000,000,009.\n", "inputFormat": "The first line of input contains $N$, $M$, and $K$. The value of $K$ will be no larger than $N$ or $M$.\n\nThe next line contains the $N$ scores of FJ's cows.\n\nThe final line contains the $M$ scores of FP's cows.\n", "outputFormat": "Print the number of ways FJ and FP can pick teams such that FJ wins, modulo 1,000,000,009.\n", "hint": "", "locale": "en", "translations": {"en": {"title": "[USACO16DEC] Team Building P", "background": "", "description": "Every year, Farmer John brings his $N$ cows to compete for \"best in show\" at the state fair. His arch-rival, Farmer Paul, brings his $M$ cows to compete as well ($1 \\leq N \\leq 1000, 1 \\leq M \\leq 1000$).\n\nEach of the $N + M$ cows at the event receive an individual integer score. However, the final competition this year will be determined based on teams of $K$ cows ($1 \\leq K \\leq 10$), as follows: Farmer John and Farmer Paul both select teams of $K$ of their respective cows to compete. The cows on these two teams are then paired off: the highest-scoring cow on FJ's team is paired with the highest-scoring cow on FP's team, the second-highest-scoring cow on FJ's team is paired with the second-highest-scoring cow on FP's team, and so on. FJ wins if in each of these pairs, his cow has the higher score.\n\nPlease help FJ count the number of different ways he and FP can choose their teams such that FJ will win the contest. That is, each distinct pair (set of $K$ cows for FJ, set of $K$ cows for FP) where FJ wins should be counted. Print your answer modulo 1,000,000,009.\n", "inputFormat": "The first line of input contains $N$, $M$, and $K$. The value of $K$ will be no larger than $N$ or $M$.\n\nThe next line contains the $N$ scores of FJ's cows.\n\nThe final line contains the $M$ scores of FP's cows.\n", "outputFormat": "Print the number of ways FJ and FP can pick teams such that FJ wins, modulo 1,000,000,009.\n", "hint": "", "locale": "en"}, "zh-CN": {"title": "[USACO16DEC] Team Building P", "background": null, "description": "每年，Farmer John 都会带着他的 $N$ 头奶牛参加州展览会的“最佳展示”比赛。他的劲敌 Farmer Paul 也会带着他的 $M$ 头奶牛参加比赛（$1 \\leq N \\leq 1000, 1 \\leq M \\leq 1000$）。\n\n参加比赛的 $N + M$ 头奶牛每头都会获得一个单独的整数得分。然而，今年的最终比赛将由 $K$ 头奶牛组成的团队决定（$1 \\leq K \\leq 10$），规则如下：\n\nFarmer John 和 Farmer Paul 各自选择 $K$ 头奶牛组成团队进行比赛。这两个团队的奶牛将按得分高低配对：\n\nFJ 团队中得分最高的奶牛与 FP 团队中得分最高的奶牛配对，FJ 团队中得分第二高的奶牛与 FP 团队中得分第二高的奶牛配对，依此类推。如果在每一对中，FJ 的奶牛得分都更高，那么 FJ 获胜。\n\n请帮助 FJ 计算他和 FP 可以选择团队的不同方式的数量，使得 FJ 能够赢得比赛。也就是说，每个不同的（FJ 的 $K$ 头奶牛集合，FP 的 $K$ 头奶牛集合）对，只要 FJ 获胜，都应被计入。输出结果对 $1\\,000\\,000\\,009$ 取模。", "inputFormat": "输入的第一行包含 $N$、$M$ 和 $K$。$K$ 的值不会超过 $N$ 或 $M$。\n\n第二行包含 FJ 的 $N$ 头奶牛的得分。\n\n第三行包含 FP 的 $M$ 头奶牛的得分。", "outputFormat": "输出 FJ 和 FP 可以选择团队的方式数量，使得 FJ 获胜，结果对 $1\\,000\\,000\\,009$ 取模。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2099", "type": "P", "difficulty": 7, "samples": [["5 5\n..##.\n#...#\n#OOO#\n#..O#\n.###.", "1\n2 1 2 2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2007", "NOI", "提交答案", "Special Judge", "O2优化"], "title": "[NOI2007] 调兵遣将", "background": "", "description": "我军截获的情报显示，敌军正在集结兵力试图向我军重要的军械研究所发起进攻。由于我军正处于多线作战的状态，无法抽调大批兵力前去支援，指挥部决定通过有效的战前部署来提高胜率，减少伤亡和损失。\n\n该军械研究所的平面图可以看作是一个 $N\\times M$ 的矩阵，每个 $1\\times 1$ 的格子都表示一个区域，每个区域只与它上下左右的四个区域相邻。每个区域的用途可分为以下3 种之一：\n\n1. 该区域被用于军事研究（用字母 `O` 表示）；\n2. 该区域内驻扎有一个机械化中队（用 `#` 表示）；\n3. 该区域是空地（用 `.` 表示）。\n\n由于空间有限，任一个 $1\\times 1$ 的格子内都无法驻扎两队以上的机械化中队（包括两队），否则会大大降低战斗时的机动性。\n\n遗憾的是，由于战前估计不足，我军的防御部署显得十分分散，这很容易让敌军所擅长的偷袭战术得逞。为了确保万无一失，我军决定利用为数不多的防御部队以最少的移动步骤将所有重要研究区域都包围起来。所谓的“包围”即从该矩阵边界侵入的敌军找不到任意一条路，使得他们不遭受任何机械化中队的反抗就能到达某研究区域。\n\n由于军队内部的传令权限的限制，每个单位时间指挥部只能向所有中队中的一个中队下达指令（朝上 / 下 / 左 / 右移动 $1$ 格）。由于时间紧迫，指挥部希望能够尽快完成部署，这个任务就交给你来完成。\n\n注意：在部署的过程中军队可以进入研究区域，而在最终的部署结果中军队不可以在研究区域中。另外，在任何时刻，两个军队都不可以在同一个方格中。", "inputFormat": "**该题为提交答案型题目。**\n\n对于每个数据：\n\n第一行 $2$ 个整数 $N,M$。\n\n接下来 $N$ 行，每行包括 $M$ 个字符（均为 `.`、`O`、`#` 之一）。", "outputFormat": "每个输出文件的第一行，包括你的答案所花费的时间 $T$。\n\n接下来 $T$ 行，按顺序输出每条命令，每行包括 $4$ 个整数 $x_1, y_1, x_2, y_2$，表示将位于 $(x_1,y_1)$ 的部队移向 $(x_2,y_2)$。", "hint": "如果选手的输出方案不合法（方案执行过程中出现军队重叠，军队移出矩形边界，最终方案有军队和研究所在同一区域，军队没有包围研究所等），则得零分。\n\n否则设选手输出的方案耗时为 $ans$，则得分按如下计算：\n\n$$\nscore=\n\\begin{cases}\n\\ 10&ans \\leq A_i\\\\\n\\ 1+\\left\\lfloor\\dfrac{ans-B_i}{A_i-B_i}\\right\\rfloor \\times 9&A_i<ans \\leq B_i\\\\\n\\ 1&B_i<ans\\\\\n\\end{cases}\n$$  \n\n对于每个数据，都有两个评分参数 $A_i$ 与 $B_i$，其中保证 $A_i<B_i$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2007] Deploying Troops", "background": "# Description\n\nOur intercepted intelligence shows that the enemy is massing forces to attack our important ordnance research institute. Since our army is engaged on multiple fronts and cannot spare large forces for reinforcement, headquarters has decided to improve the odds of victory and reduce casualties and losses through effective pre-battle deployment.\n\nThe floor plan of the research institute can be viewed as an $N \\times M$ matrix. Each $1 \\times 1$ cell represents a region, and each region is adjacent only to its four neighbors: up, down, left, and right. Each region falls into one of the following three categories:\n\n1. The region is used for military research (denoted by the letter `O`).\n2. A mechanized squad is stationed in the region (denoted by `#`).\n3. The region is empty ground (denoted by `.`).\n\nDue to limited space, no more than one mechanized squad can be stationed in any $1 \\times 1$ cell; having two or more squads in the same cell would severely reduce mobility in battle.\n\nUnfortunately, due to inadequate prewar estimates, our defensive deployment is very scattered, which makes it easy for the enemy to capitalize on its specialty in surprise attacks. To ensure absolute security, we decide to use our limited defensive units to surround all important research regions with the minimum number of movement steps. “Surround” means that enemies infiltrating from the boundary of the matrix cannot find any path to reach any research region without encountering resistance from a mechanized squad.\n\nDue to internal message-relay authority constraints, in each unit of time, headquarters can issue orders to only one squad among all squads (move 1 cell up, down, left, or right). Because time is short, headquarters hopes to complete the deployment as quickly as possible, and this task is assigned to you.\n\nNote: During deployment, squads may enter research regions, but in the final deployment, squads may not be in research regions. Also, at any time, two squads may not occupy the same cell.", "description": "", "inputFormat": "", "outputFormat": "The first line of each output file contains the time $T$ your solution takes.\n\nThen output $T$ lines. In order, output each command. Each line contains $4$ integers $x_1, y_1, x_2, y_2$, indicating moving the squad located at $(x_1, y_1)$ to $(x_2, y_2)$.", "hint": "If the contestant’s output plan is invalid (overlapping squads during execution, squads moving out of the rectangular boundary, squads occupying research regions in the final plan, research regions not surrounded, etc.), the score is zero.\n\nOtherwise, let the time spent by the contestant’s plan be $ans$, and the score is computed as follows:\n\n$$\nscore=\n\\begin{cases}\n\\ 10&ans \\leq A_i\\\\\n\\ 1+\\left\\lfloor\\dfrac{ans-B_i}{A_i-B_i}\\right\\rfloor \\times 9&A_i<ans \\leq B_i\\\\\n\\ 1&B_i<ans\\\\\n\\end{cases}\n$$  \n\nFor each dataset, there are two scoring parameters $A_i$ and $B_i$, with $A_i < B_i$ guaranteed.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2007] 调兵遣将", "background": "", "description": "我军截获的情报显示，敌军正在集结兵力试图向我军重要的军械研究所发起进攻。由于我军正处于多线作战的状态，无法抽调大批兵力前去支援，指挥部决定通过有效的战前部署来提高胜率，减少伤亡和损失。\n\n该军械研究所的平面图可以看作是一个 $N\\times M$ 的矩阵，每个 $1\\times 1$ 的格子都表示一个区域，每个区域只与它上下左右的四个区域相邻。每个区域的用途可分为以下3 种之一：\n\n1. 该区域被用于军事研究（用字母 `O` 表示）；\n2. 该区域内驻扎有一个机械化中队（用 `#` 表示）；\n3. 该区域是空地（用 `.` 表示）。\n\n由于空间有限，任一个 $1\\times 1$ 的格子内都无法驻扎两队以上的机械化中队（包括两队），否则会大大降低战斗时的机动性。\n\n遗憾的是，由于战前估计不足，我军的防御部署显得十分分散，这很容易让敌军所擅长的偷袭战术得逞。为了确保万无一失，我军决定利用为数不多的防御部队以最少的移动步骤将所有重要研究区域都包围起来。所谓的“包围”即从该矩阵边界侵入的敌军找不到任意一条路，使得他们不遭受任何机械化中队的反抗就能到达某研究区域。\n\n由于军队内部的传令权限的限制，每个单位时间指挥部只能向所有中队中的一个中队下达指令（朝上 / 下 / 左 / 右移动 $1$ 格）。由于时间紧迫，指挥部希望能够尽快完成部署，这个任务就交给你来完成。\n\n注意：在部署的过程中军队可以进入研究区域，而在最终的部署结果中军队不可以在研究区域中。另外，在任何时刻，两个军队都不可以在同一个方格中。", "inputFormat": "**该题为提交答案型题目。**\n\n对于每个数据：\n\n第一行 $2$ 个整数 $N,M$。\n\n接下来 $N$ 行，每行包括 $M$ 个字符（均为 `.`、`O`、`#` 之一）。", "outputFormat": "每个输出文件的第一行，包括你的答案所花费的时间 $T$。\n\n接下来 $T$ 行，按顺序输出每条命令，每行包括 $4$ 个整数 $x_1, y_1, x_2, y_2$，表示将位于 $(x_1,y_1)$ 的部队移向 $(x_2,y_2)$。", "hint": "如果选手的输出方案不合法（方案执行过程中出现军队重叠，军队移出矩形边界，最终方案有军队和研究所在同一区域，军队没有包围研究所等），则得零分。\n\n否则设选手输出的方案耗时为 $ans$，则得分按如下计算：\n\n$$\nscore=\n\\begin{cases}\n\\ 10&ans \\leq A_i\\\\\n\\ 1+\\left\\lfloor\\dfrac{ans-B_i}{A_i-B_i}\\right\\rfloor \\times 9&A_i<ans \\leq B_i\\\\\n\\ 1&B_i<ans\\\\\n\\end{cases}\n$$  \n\n对于每个数据，都有两个评分参数 $A_i$ 与 $B_i$，其中保证 $A_i<B_i$。", "locale": "zh-CN"}}}
{"pid": "P2100", "type": "P", "difficulty": 5, "samples": [["3", "3"], ["987", "223731"]], "limits": {"time": [400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "高精度", "矩阵运算"], "title": "凌乱的地下室", "background": null, "description": "小 Z 家的地下室里并排放 $n$ 个小方块（小 Z 是一位 MC 狂热爱好者，喜欢用小方块装饰他家的地下室），并且每个方块都不一样（小 Z 喜欢各不相同的东西），比如有草方块、大理石、黑曜石等。\n\n小 Z 喜欢以一种特殊的顺序摆放这些小方块，比如：草方块、大理石、黑曜石。一天，小 D 帮助小 Z 整理地下室，可是智商捉急的小 D 将所有小方块搬出来后忘记了它们原来的具体位置。凭着模糊的印象，小 D 可能把原来放在第 $i$ 个位置上的小方块放到第 $i-1,i,i+1$ 个位置中的任意一个上（当然，第 $1$ 个不可能放到第 $0$ 个位置上，第 $n$ 个不可能放到第 $n+1$ 个位置上），比如（对应上面那个例子）：大理石、草方块、黑曜石。\n\n小 Z 是一个心胸宽广的人，他希望计算一下小 D 一共会有几种可能的摆放结果，并不追究小 D 的责任（追究了只会更乱……）。由于他自己的智商也比较捉急，所以如果答案很大的话他只想看到最后的 $8$ 位（前导零就不要给他看了）。\n\n\n\n---\n\n\n求满足 $|p_i-i| \\le 1$ 的 $1 \\sim n$ 的排列 $\\{p_n\\}$ 的个数，答案对 $10^8$ 取模。", "inputFormat": "一行，一个正整数 $n$，代表小 Z 家的地下室一共有 $n$ 个小方块。", "outputFormat": "一行，一个正整数，表示小 D 一共有几种可能的摆放结果，只输出后 $8$ 位，前导零不输出。", "hint": "【样例解释 $1$】\n\n接着题目中的例子，一共有 $3$ 种：（草方块，大理石，黑曜石）、（大理石，草方块，黑曜石）、（草方块，黑曜石，大理石）。\n\n\n【数据规模】\n\n对于 $30\\%$ 的数据，$n \\le 10^6$。\n\n对于 $50\\%$ 的数据，$n \\le 10^{16}$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^{1000}$。", "locale": "zh-CN", "translations": {"en": {"title": "Messy Basement", "background": "", "description": "In Xiao Z’s basement, there are $n$ small blocks placed side by side (Xiao Z is a hardcore MC fan who likes decorating his basement with small blocks), and each block is different (Xiao Z likes things to be unique), such as grass block, marble, obsidian, etc.\n\nXiao Z likes to arrange these small blocks in a special order, for example: grass block, marble, obsidian. One day, Xiao D helped Xiao Z tidy up the basement, but the not-so-bright Xiao D forgot the exact positions after moving all the blocks out. With only a vague memory, Xiao D might place the block originally at position $i$ to any of positions $i-1$, $i$, or $i+1$ (of course, the $1$st cannot be placed at position $0$, and the $n$th cannot be placed at position $n+1$), for example (corresponding to the example above): marble, grass block, obsidian.\n\nXiao Z is a generous person. He wants to compute how many possible final arrangements Xiao D could make, and he will not hold Xiao D responsible. Since he is also not very bright, if the answer is large, he only wants to see the last $8$ digits (do not show leading zeros).\n\n---\n\nCount the number of permutations $\\{p_n\\}$ of $1 \\sim n$ that satisfy $|p_i-i| \\le 1$, and take the answer modulo $10^8$.", "inputFormat": "One line, a positive integer $n$, meaning there are $n$ small blocks in Xiao Z’s basement.", "outputFormat": "One line, a positive integer, the number of possible final arrangements Xiao D could make. Output only the last $8$ digits, and do not output leading zeros.", "hint": "[Sample Explanation 1]\n\nContinuing the example in the statement, there are $3$ possibilities: (grass block, marble, obsidian), (marble, grass block, obsidian), (grass block, obsidian, marble).\n\n[Constraints]\n\nFor $30\\%$ of the testdata, $n \\le 10^6$.\n\nFor $50\\%$ of the testdata, $n \\le 10^{16}$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 10^{1000}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "凌乱的地下室", "background": null, "description": "小 Z 家的地下室里并排放 $n$ 个小方块（小 Z 是一位 MC 狂热爱好者，喜欢用小方块装饰他家的地下室），并且每个方块都不一样（小 Z 喜欢各不相同的东西），比如有草方块、大理石、黑曜石等。\n\n小 Z 喜欢以一种特殊的顺序摆放这些小方块，比如：草方块、大理石、黑曜石。一天，小 D 帮助小 Z 整理地下室，可是智商捉急的小 D 将所有小方块搬出来后忘记了它们原来的具体位置。凭着模糊的印象，小 D 可能把原来放在第 $i$ 个位置上的小方块放到第 $i-1,i,i+1$ 个位置中的任意一个上（当然，第 $1$ 个不可能放到第 $0$ 个位置上，第 $n$ 个不可能放到第 $n+1$ 个位置上），比如（对应上面那个例子）：大理石、草方块、黑曜石。\n\n小 Z 是一个心胸宽广的人，他希望计算一下小 D 一共会有几种可能的摆放结果，并不追究小 D 的责任（追究了只会更乱……）。由于他自己的智商也比较捉急，所以如果答案很大的话他只想看到最后的 $8$ 位（前导零就不要给他看了）。\n\n\n\n---\n\n\n求满足 $|p_i-i| \\le 1$ 的 $1 \\sim n$ 的排列 $\\{p_n\\}$ 的个数，答案对 $10^8$ 取模。", "inputFormat": "一行，一个正整数 $n$，代表小 Z 家的地下室一共有 $n$ 个小方块。", "outputFormat": "一行，一个正整数，表示小 D 一共有几种可能的摆放结果，只输出后 $8$ 位，前导零不输出。", "hint": "【样例解释 $1$】\n\n接着题目中的例子，一共有 $3$ 种：（草方块，大理石，黑曜石）、（大理石，草方块，黑曜石）、（草方块，黑曜石，大理石）。\n\n\n【数据规模】\n\n对于 $30\\%$ 的数据，$n \\le 10^6$。\n\n对于 $50\\%$ 的数据，$n \\le 10^{16}$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^{1000}$。", "locale": "zh-CN"}}}
{"pid": "P2101", "type": "P", "difficulty": 5, "samples": [["5\n2 2 1 2 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "分治"], "title": "命运石之门的选择", "background": "", "description": "在某一条不知名世界线的冈伦今天突然接到了一条dmail，上面说世界线将会发生巨大变动，未来的他无论如何都无法扭转这种变动回到原来的世界线。而世界线变动的原因是现在的他不久后错过了与助手的约会。他约好要和助手去约会，但是在去约会之前，由于一直拖欠房租，房东大叔要求他帮忙完成一幅画的上色，然而他没有以最快的速度完成这个任务，导致他错过了与助手的约会，从而导致世界线的剧变。现在到了拯救世界的时候，由于冈伦并不擅长画画，于是他找到了同样不擅长画画的你来帮他解决这个问题（这是命运石之门的选择）。不管怎样现在拯救世界的重任交到了你的手上，而你虽然不擅长画画，但是你可以使用编程来帮助你解决这个问题。\n\n一幅画由 $N$ 个宽度为 $1$ 高度为 $H_i$ 的矩形组成，矩形并排排列，相邻的矩形间没有空隙，初始情况下每个矩形都是没有颜色的。你有一个宽度为 $1$ 的刷子，可以竖直或水平的刷，每次使用刷子，刷子都必须保证一直全部处于矩形中，即不能刷到矩形以外的地方去，当然每次刷的时候也不能拐弯。每刷一次，要花费 $1$ 的时间，这和刷的长度无关，比如你可以从最左边刷到最右边（当然是不经过矩形以外的部分），这也只花费 $1$ 的时间。你的目的是将全部的矩形都涂满颜色。请你计算并输出这个最短的时间。", "inputFormat": "第 $1$ 行：一个正整数 $N$，表示矩形的个数。\n\n接下来 $N$ 个正整数 $H_i$，表示第 $i$ 个矩形的高度。", "outputFormat": "一个整数，表示最少花费的时间。\n", "hint": "对于 $30\\%$ 数据，$N\\leq20, H_i\\leq100$\n\n对于 $60\\%$ 数据，$N\\leq100, H_i\\leq1000$\n\n对于 $100\\%$ 数据，$N\\le5000, H_i\\leq10^9$", "locale": "zh-CN", "translations": {"en": {"title": "The Choice of Steins;Gate", "background": "", "description": "On an unknown world line, Okabe Rintaro suddenly receives a dmail saying that a huge shift in the world line will occur, and his future self will not be able to reverse the change to return to the original world line no matter what. The reason for the shift is that his present self will soon miss a date with his assistant. He had planned a date with the assistant, but before going, because he had been delaying his rent, the landlord uncle asked him to help color a painting. However, he did not finish this task in the fastest way, which caused him to miss the date with the assistant, leading to a drastic change in the world line. Now it is time to save the world. Since Okabe is not good at drawing, he found you—who is also not good at drawing—to help him solve this problem (this is the choice of Steins;Gate). Anyway, the task of saving the world is now in your hands, and although you are not good at drawing, you can use programming to help solve this problem.\n\nA painting consists of $N$ rectangles, each with width $1$ and height $H_i$. The rectangles are arranged side by side with no gaps between adjacent rectangles. Initially, each rectangle is uncolored. You have a brush of width $1$ that can paint vertically or horizontally. Each time you use the brush, it must always remain entirely within the rectangles; that is, it cannot go outside the rectangles, and of course it cannot make turns while painting. Each brush stroke costs time $1$, which is independent of the length painted. For example, you can paint from the far left to the far right (as long as you do not go beyond the rectangles), and it still costs time $1$. Your goal is to fully color all rectangles. Please compute and output the minimum time required.", "inputFormat": "Line $1$: A positive integer $N$, the number of rectangles.\n\nLine $2$: $N$ positive integers $H_i$, where $H_i$ is the height of the $i$-th rectangle.", "outputFormat": "A single integer, the minimum time required.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, $N \\le 20$, $H_i \\le 100$.\n- For $60\\%$ of the testdata, $N \\le 100$, $H_i \\le 1000$.\n- For $100\\%$ of the testdata, $N \\le 5000$, $H_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "命运石之门的选择", "background": "", "description": "在某一条不知名世界线的冈伦今天突然接到了一条dmail，上面说世界线将会发生巨大变动，未来的他无论如何都无法扭转这种变动回到原来的世界线。而世界线变动的原因是现在的他不久后错过了与助手的约会。他约好要和助手去约会，但是在去约会之前，由于一直拖欠房租，房东大叔要求他帮忙完成一幅画的上色，然而他没有以最快的速度完成这个任务，导致他错过了与助手的约会，从而导致世界线的剧变。现在到了拯救世界的时候，由于冈伦并不擅长画画，于是他找到了同样不擅长画画的你来帮他解决这个问题（这是命运石之门的选择）。不管怎样现在拯救世界的重任交到了你的手上，而你虽然不擅长画画，但是你可以使用编程来帮助你解决这个问题。\n\n一幅画由 $N$ 个宽度为 $1$ 高度为 $H_i$ 的矩形组成，矩形并排排列，相邻的矩形间没有空隙，初始情况下每个矩形都是没有颜色的。你有一个宽度为 $1$ 的刷子，可以竖直或水平的刷，每次使用刷子，刷子都必须保证一直全部处于矩形中，即不能刷到矩形以外的地方去，当然每次刷的时候也不能拐弯。每刷一次，要花费 $1$ 的时间，这和刷的长度无关，比如你可以从最左边刷到最右边（当然是不经过矩形以外的部分），这也只花费 $1$ 的时间。你的目的是将全部的矩形都涂满颜色。请你计算并输出这个最短的时间。", "inputFormat": "第 $1$ 行：一个正整数 $N$，表示矩形的个数。\n\n接下来 $N$ 个正整数 $H_i$，表示第 $i$ 个矩形的高度。", "outputFormat": "一个整数，表示最少花费的时间。\n", "hint": "对于 $30\\%$ 数据，$N\\leq20, H_i\\leq100$\n\n对于 $60\\%$ 数据，$N\\leq100, H_i\\leq1000$\n\n对于 $100\\%$ 数据，$N\\le5000, H_i\\leq10^9$", "locale": "zh-CN"}}}
{"pid": "P2102", "type": "P", "difficulty": 5, "samples": [["4 3", "AAA\nAAA\nAAA\nBCB"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "贪心"], "title": "地砖铺设", "background": "", "description": "在游戏厅大赚了一笔的小 Z 终于赢到了他想要的家具。乘此机会，他想把自己的房间好好整理一下。\n\n在百货公司，可以买到各种各样正方形的地砖，为了美观起见，小 Z 不希望同样颜色的正方形地砖相邻。所以他找到了小 C 来帮忙解决这件事情。\n\n小 C 很快解决了这个任务。然而，出于某种强迫症，她希望在地上按照长宽划分成网格后，逐行逐列每一块的颜色组成的序列的字典序最小。她希望你帮忙验证一下她的方案。\n", "inputFormat": "第一行，包含两个整数 $N$ 和 $M$，表示房间的长和宽。", "outputFormat": "$N$ 行，每行 $M$ 列，表示地砖铺设的方案，需要这个方案是字典序最小的合法方案。（可以认为，输出的方案去掉回车后形成的字符串字典序最小）\n", "hint": "对于 $50\\%$ 的数据，保证 $N,M \\leq 5$。\n\n对于 $100\\%$ 的数据，保证 $1 \\leq N,M \\leq 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Floor Tiling", "background": "", "description": "After making a big profit at the arcade, Xiao Z finally won the furniture he wanted. Taking this opportunity, he wants to tidy up his room.\n\nAt the department store, you can buy square floor tiles in various colors. For the sake of aesthetics, Xiao Z does not want square tiles of the same color to be adjacent. So he asked Xiao C to help solve this.\n\nXiao C quickly solved the task. However, due to a kind of OCD, she wants the sequence of colors of all cells, when the floor is divided into a grid by length and width and read row by row and column by column, to be lexicographically smallest. She hopes you can help verify her plan.", "inputFormat": "The first line contains two integers $N$ and $M$, representing the length and the width of the room.", "outputFormat": "Output $N$ lines, each with $M$ columns, representing a tiling plan. The plan must be the lexicographically smallest among all valid plans. (You may regard that the concatenated string formed by removing newlines from the output plan is lexicographically smallest.)", "hint": "Constraints:\n- For $50\\%$ of the testdata, it is guaranteed that $N, M \\leq 5$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\leq N, M \\leq 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "地砖铺设", "background": "", "description": "在游戏厅大赚了一笔的小 Z 终于赢到了他想要的家具。乘此机会，他想把自己的房间好好整理一下。\n\n在百货公司，可以买到各种各样正方形的地砖，为了美观起见，小 Z 不希望同样颜色的正方形地砖相邻。所以他找到了小 C 来帮忙解决这件事情。\n\n小 C 很快解决了这个任务。然而，出于某种强迫症，她希望在地上按照长宽划分成网格后，逐行逐列每一块的颜色组成的序列的字典序最小。她希望你帮忙验证一下她的方案。\n", "inputFormat": "第一行，包含两个整数 $N$ 和 $M$，表示房间的长和宽。", "outputFormat": "$N$ 行，每行 $M$ 列，表示地砖铺设的方案，需要这个方案是字典序最小的合法方案。（可以认为，输出的方案去掉回车后形成的字符串字典序最小）\n", "hint": "对于 $50\\%$ 的数据，保证 $N,M \\leq 5$。\n\n对于 $100\\%$ 的数据，保证 $1 \\leq N,M \\leq 100$。\n", "locale": "zh-CN"}}}
{"pid": "P2103", "type": "P", "difficulty": 5, "samples": [["5 6\n1 2 1\n2 3 1\n3 4 1\n4 1 1\n2 4 2\n4 5 4", "1 4 1 2 1 5 6 1 2 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "O2优化"], "title": "道路值守", "background": null, "description": "Z-Kingdom 有着四通八达的现代化交通。时值独立庆典之际，随着来自周边国家旅客的日益增多，犯罪行为也悄无声息开始滋长起来。\n\n特别任务支援科的警察们从总部收到了关于调查伪装在游客中的犯罪分子的请求。通过调查，他们得到了一张地图，记载了 Z-Kingdom 内每一条道路的长度。\n\n显然，为了减少犯罪行为被发现的可能性，犯罪分子总是会选择最短的路径来行动。为了方便安排人手和推测犯罪分子采取的路线，他们希望得知任意两个地点之间，有多少条犯罪分子可能会选择的道路。", "inputFormat": "第一行，包含两个整数 $N,M$，表示 Z-Kingdom 内的地点数和道路数。\n\n接下来 $M$ 行，每行包含三个整数 $x,y,z$，表示道路连接的两个不同地点的标号，以及道路的长度。道路是双向的。\n\n两个不同地点之间不会有超过一条道路。", "outputFormat": "输出一行，包含 $\\dfrac{N(N-1)}{2}$ 个整数  $C_{1,2},C_{1,3},\\cdots,C_{1,N},C_{2,3},C_{2,4},\\cdots,C_{2,N},\\cdots,C_{N-1,N}$。\n\n其中 $C_{x, y}$ 表示 x 号地点到 y 号地点之间有多少条犯罪分子可能会选择的道路。", "hint": "【数据规模】\n\n- 对于 $30\\%$ 的数据，保证 $N \\le 50$；\n- 对于 $60\\%$ 的数据，保证 $N \\le 100$；\n- 对于 $100\\%$ 的数据，保证 $N \\le 500$。", "locale": "zh-CN", "translations": {"en": {"title": "Road Patrol", "background": "", "description": "Z-Kingdom has a well-connected modern transportation network. During the independence celebration, as the number of visitors from neighboring countries increases, criminal activities have quietly begun to rise.\n\nThe police officers of the Special Task Support Division received a request from headquarters to investigate criminals disguised as tourists. Through their investigation, they obtained a map recording the length of every road in Z-Kingdom.\n\nClearly, to reduce the chances of being discovered, criminals will always choose the shortest route for their movements. To better allocate manpower and predict the routes criminals might take, they want to know, for any two locations, how many routes the criminals might choose, i.e., how many shortest paths there are between them.", "inputFormat": "The first line contains two integers $N, M$, representing the number of locations and the number of roads in Z-Kingdom.\n\nThe next $M$ lines, each containing three integers $x, y, z$, represent a bidirectional road connecting two different locations $x$ and $y$ with length $z$.\n\nThere is at most one road between any two different locations.", "outputFormat": "Output one line containing $\\dfrac{N(N-1)}{2}$ integers: $C_{1,2}, C_{1,3}, \\cdots, C_{1,N}, C_{2,3}, C_{2,4}, \\cdots, C_{2,N}, \\cdots, C_{N-1,N}$, separated by spaces.\n\nHere $C_{x, y}$ denotes the number of shortest paths from location $x$ to location $y$.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, $N \\le 50$.\n- For $60\\%$ of the testdata, $N \\le 100$.\n- For $100\\%$ of the testdata, $N \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "道路值守", "background": null, "description": "Z-Kingdom 有着四通八达的现代化交通。时值独立庆典之际，随着来自周边国家旅客的日益增多，犯罪行为也悄无声息开始滋长起来。\n\n特别任务支援科的警察们从总部收到了关于调查伪装在游客中的犯罪分子的请求。通过调查，他们得到了一张地图，记载了 Z-Kingdom 内每一条道路的长度。\n\n显然，为了减少犯罪行为被发现的可能性，犯罪分子总是会选择最短的路径来行动。为了方便安排人手和推测犯罪分子采取的路线，他们希望得知任意两个地点之间，有多少条犯罪分子可能会选择的道路。", "inputFormat": "第一行，包含两个整数 $N,M$，表示 Z-Kingdom 内的地点数和道路数。\n\n接下来 $M$ 行，每行包含三个整数 $x,y,z$，表示道路连接的两个不同地点的标号，以及道路的长度。道路是双向的。\n\n两个不同地点之间不会有超过一条道路。", "outputFormat": "输出一行，包含 $\\dfrac{N(N-1)}{2}$ 个整数  $C_{1,2},C_{1,3},\\cdots,C_{1,N},C_{2,3},C_{2,4},\\cdots,C_{2,N},\\cdots,C_{N-1,N}$。\n\n其中 $C_{x, y}$ 表示 x 号地点到 y 号地点之间有多少条犯罪分子可能会选择的道路。", "hint": "【数据规模】\n\n- 对于 $30\\%$ 的数据，保证 $N \\le 50$；\n- 对于 $60\\%$ 的数据，保证 $N \\le 100$；\n- 对于 $100\\%$ 的数据，保证 $N \\le 500$。", "locale": "zh-CN"}}}
{"pid": "P2104", "type": "P", "difficulty": 3, "samples": [["4 10\n1101\n*/-*-*-/*/", "10110"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "离线处理"], "title": "二进制", "background": "", "description": "小 Z 最近学会了二进制数，他觉得太小的二进制数太没意思，于是他想对一个巨大二进制数做以下 $4$ 种基础运算：\n\n运算 $1$：将整个二进制数加 $1$。\n\n运算 $2$：将整个二进制数减 $1$。\n\n运算 $3$：将整个二进制数乘 $2$。\n\n运算 $4$：将整个二进制数整除 $2$。\n\n小 Z 很想知道运算后的结果，他只好向你求助。\n\n（Ps：为了简化问题，数据保证 `+`，`-` 操作不会导致最高位的进位与退位）", "inputFormat": "第一行两个正整数 $n,m$，表示原二进制数的长度以及运算数。\n\n接下来一行 $n$ 个字符，分别为 `0` 或 `1` 表示这个二进制数。\n\n第三行 $m$ 个字符，分别为 `+`，`-`，`*`，`/`，对应运算 $1,2,3,4$。", "outputFormat": "一行若干个字符，表示经过运算后的二进制数。\n", "hint": "\n对于 $30\\%$ 的数据，$1 \\leq n,m \\leq 1000$。\n\n对于 $60\\%$ 的数据，$1 \\leq n,m \\leq 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 5 \\times 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Binary", "background": "", "description": "Xiao Z recently learned about binary numbers. He thinks very small binary numbers are boring, so he wants to perform the following $4$ basic operations on a huge binary number:\n\nOperation $1$: Add $1$ to the entire binary number.\n\nOperation $2$: Subtract $1$ from the entire binary number.\n\nOperation $3$: Multiply the entire binary number by $2$.\n\nOperation $4$: Integer divide the entire binary number by $2$.\n\nXiao Z really wants to know the result after the operations, so he asks you for help.\n\n(P.S.: To simplify the problem, the testdata guarantees that the `+` and `-` operations will not cause a carry-out or a borrow at the most significant bit.)", "inputFormat": "The first line contains two positive integers $n, m$, representing the length of the original binary number and the number of operations.\n\nThe second line contains $n$ characters, each being `0` or `1`, representing this binary number.\n\nThe third line contains $m$ characters, each being one of `+`, `-`, `*`, `/`, corresponding to operations $1, 2, 3, 4$.", "outputFormat": "Output one line with some characters, representing the binary number after performing the operations.", "hint": "Constraints:\n\nFor $30\\%$ of the testdata, $1 \\leq n, m \\leq 1000$.\n\nFor $60\\%$ of the testdata, $1 \\leq n, m \\leq 10^5$.\n\nFor $100\\%$ of the testdata, $1 \\leq n, m \\leq 5 \\times 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "二进制", "background": "", "description": "小 Z 最近学会了二进制数，他觉得太小的二进制数太没意思，于是他想对一个巨大二进制数做以下 $4$ 种基础运算：\n\n运算 $1$：将整个二进制数加 $1$。\n\n运算 $2$：将整个二进制数减 $1$。\n\n运算 $3$：将整个二进制数乘 $2$。\n\n运算 $4$：将整个二进制数整除 $2$。\n\n小 Z 很想知道运算后的结果，他只好向你求助。\n\n（Ps：为了简化问题，数据保证 `+`，`-` 操作不会导致最高位的进位与退位）", "inputFormat": "第一行两个正整数 $n,m$，表示原二进制数的长度以及运算数。\n\n接下来一行 $n$ 个字符，分别为 `0` 或 `1` 表示这个二进制数。\n\n第三行 $m$ 个字符，分别为 `+`，`-`，`*`，`/`，对应运算 $1,2,3,4$。", "outputFormat": "一行若干个字符，表示经过运算后的二进制数。\n", "hint": "\n对于 $30\\%$ 的数据，$1 \\leq n,m \\leq 1000$。\n\n对于 $60\\%$ 的数据，$1 \\leq n,m \\leq 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 5 \\times 10^6$。", "locale": "zh-CN"}}}
