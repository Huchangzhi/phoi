{"pid": "P5692", "type": "P", "difficulty": 7, "samples": [["6 5\n1 1 4 5 1 4\n1 1 3 1 7\n2 1 4 7 7\n1 1 5 7 3\n2 2 6 1 3\n2 3 3 3 3\n", "0\n3\n-1\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "洛谷原创", "O2优化", "分块"], "title": "[MtOI2019] 手牵手走向明天", "background": "2019 年 5 月 17 日，Ynoi2018 Day 2 的题目上传至洛谷公共题库。\n\n2019 年 5 月 19 日，mrsrz 想出了[[Ynoi2018]天降之物](https://www.luogu.com.cn/problem/P5397)的序列分块做法，并尝试 AC 该题。\n\n2019 年 5 月 21 日，在 lxl 略微放宽时限，加上各种玄学优化下，mrsrz 通过了此题（现在时限改回来了所以没希望了）。\n\n过了若干日，mrsrz 发现该序列分块做法可以支持区间查询，和 lxl 讨论后，发现也可以做到区间修改。\n\n2019 年 10 月，mrsrz 找到 disangan233 并告诉了他这个题。disangan233 收下了这个题并打算作为 MtOI2019 Extra Round 的 F 题。\n\n2019 年 11 月 1 日，mrsrz 发现某个地方的某个比赛的某个题和该题有类似的地方。观察题解后发现了几乎一样的做法。然后这个原来的 F 题没了。\n\n2019 年 11 月 2 日，MtOI2019 Extra Round 顺利进行。\n\n2019 年 11 月 30 日，mrsrz 想起了这道题，决定将这道饱经风霜的题贡献至公共题库中。希望这道题，能对大家有所帮助。\n\nby mrsrz\n\n2019 年 11 月 30 日\n\n### Update：\n\n2019 年 12 月 2 日，经 disangan233 同意，本题仍使用原来的题面。\n\n2021 年 8 月 13 日，更新了 std，现在 std 的空间复杂度为 $O(n+m)$。\n\n---\n\n「俺、セツナは、お前を永遠に愛することちか！」  \n「我，Setsuna，发誓将会永远爱着你！」\n\n「私の、あなたを永遠に愛することちかう！」  \n「我也是，发誓会永远爱着你！」\n\n「歴史がかでもまた得た、ウェディングドレスてあみあをそ！」   \n「要是我们在其他的历史中再次相遇，那就披上婚纱再来一次吧！」\n\n![rinne.png](https://i.loli.net/2019/10/03/oR4tNIQ6rBMe8GU.png)", "description": "Rinne 给了你一个数列 $a_1,a_2,\\dots,a_n$，你需要依次执行 $m$ 个操作。\n\n操作共有两种：\n\n1. 给定 $l,r,x,y$，将 $a_l,a_{l+1},a_{l+2},\\dots,a_r$ 中等于 $x$ 的数全部改成 $y$。\n\n2. 给定 $l,r,x,y$，找到 $i,j$ 满足 $i,j\\in[l,r]$ 且 $a_i=x,a_j=y$，并要求 $|i-j|$ 最小。求这个最小值。无解输出 $-1$。", "inputFormat": "第一行两个正整数 $n,m$，表示序列长度和操作个数。\n\n第二行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n接下来 $m$ 行，每行五个正整数 $op,l,r,x,y$。若 $op=1$，表示修改操作。若 $op=2$，表示询问操作。$l,r,x,y$ 对应的含义见题目描述。", "outputFormat": "对每个 $op=2$ 的操作，输出一行一个整数表示答案。", "hint": "对于 $100\\%$ 的数据，$1\\leq n,m,a_i,x,y\\leq 10^5$，$1\\leq l\\leq r\\leq n$。\n\n本题共有 $6$ 个子任务，每个子任务的限制如下：\n\n子任务 $1$（$1$ 分）：保证对于任意操作，$l=1,r=n$。\n\n子任务 $2$（$5$ 分）：$n,m\\leq 50$。\n\n子任务 $3$（$18$ 分）：$n,m\\leq 2000$。\n\n子任务 $4$（$7$ 分）：保证 $a_i,x,y\\in\\{1,2\\}$。\n\n子任务 $5$（$29$ 分）：保证当 $op=2$ 时，$x=y$。\n\n子任务 $6$（$40$ 分）：没有特殊限制。\n\n**时间限制**：$1.5\\rm s$\n\n**空间限制**：$512\\rm MB$\n\nIdea：nzhtl1477，mrsrz\n\nSolution：mrsrz，nzhtl1477\n\nCode：mrsrz\n\nData：mrsrz\n\nBackground：disangan233，mrsrz", "locale": "zh-CN", "translations": {"en": {"title": "[MtOI2019] Holding Hands Towards Tomorrow.", "background": "On May 17, 2019, the problems of Ynoi2018 Day 2 were uploaded to the public problemset on Luogu.\n\nOn May 19, 2019, mrsrz came up with a sequence block-decomposition approach for [[Ynoi2018]天降之物](https://www.luogu.com.cn/problem/P5397) and tried to get AC on that problem.\n\nOn May 21, 2019, with lxl slightly relaxing the time limit and with various “mysterious” optimizations, mrsrz passed the problem (the time limit has now been changed back, so there is no hope anymore).\n\nAfter a few days, mrsrz found that this block-decomposition approach could support range queries. After discussing with lxl, they found that it could also handle range modifications.\n\nIn October 2019, mrsrz found disangan233 and told him about this problem. disangan233 accepted it and planned to use it as problem F of MtOI2019 Extra Round.\n\nOn November 1, 2019, mrsrz found that a certain problem from a certain contest had something similar to this one. After reading the editorial, he found an almost identical approach. Then the original problem F was gone.\n\nOn November 2, 2019, MtOI2019 Extra Round was held successfully.\n\nOn November 30, 2019, mrsrz remembered this problem and decided to contribute this weather-beaten problem to the public problemset. He hopes this problem can be helpful to everyone.\n\nby mrsrz\n\nNovember 30, 2019\n\n### Update:\n\nOn December 2, 2019, with disangan233’s consent, this problem still uses the original statement.\n\nOn August 13, 2021, the std was updated, and now the space complexity of std is $O(n+m)$.\n\n---\n\n「俺、セツナは、お前を永遠に愛することちか！」  \n「Me, Setsuna, swear that I will love you forever!」\n\n「私の、あなたを永遠に愛することちかう！」  \n「Me too, I swear I will love you forever!」\n\n「歴史がかでもまた得た、ウェディングドレスてあみあをそ！」   \n「If we meet again in another history, then put on a wedding dress and do it once more!」\n\n![rinne.png](https://i.loli.net/2019/10/03/oR4tNIQ6rBMe8GU.png)", "description": "Rinne gives you a sequence $a_1,a_2,\\dots,a_n$. You need to perform $m$ operations in order.\n\nThere are two types of operations:\n\n1. Given $l,r,x,y$, change all numbers equal to $x$ among $a_l,a_{l+1},a_{l+2},\\dots,a_r$ into $y$.\n\n2. Given $l,r,x,y$, find $i,j$ such that $i,j\\in[l,r]$ and $a_i=x,a_j=y$, and require $|i-j|$ to be minimized. Output this minimum value. If there is no solution, output $-1$.", "inputFormat": "The first line contains two positive integers $n,m$, representing the sequence length and the number of operations.\n\nThe second line contains $n$ positive integers $a_1,a_2,\\dots,a_n$.\n\nThe next $m$ lines each contain five positive integers $op,l,r,x,y$. If $op=1$, it is a modification operation. If $op=2$, it is a query operation. The meanings of $l,r,x,y$ are as described in the statement.", "outputFormat": "For each operation with $op=2$, output one line with one integer, representing the answer.", "hint": "For $100\\%$ of the testdata, $1\\leq n,m,a_i,x,y\\leq 10^5$, $1\\leq l\\leq r\\leq n$.\n\nThis problem has $6$ subtasks, with the following limits:\n\nSubtask $1$ ($1$ point): Guaranteed that for any operation, $l=1,r=n$.\n\nSubtask $2$ ($5$ points): $n,m\\leq 50$.\n\nSubtask $3$ ($18$ points): $n,m\\leq 2000$.\n\nSubtask $4$ ($7$ points): Guaranteed that $a_i,x,y\\in\\{1,2\\}$.\n\nSubtask $5$ ($29$ points): Guaranteed that when $op=2$, $x=y$.\n\nSubtask $6$ ($40$ points): No special restrictions.\n\n**Time limit**: $1.5\\rm s$\n\n**Memory limit**: $512\\rm MB$\n\nIdea: nzhtl1477, mrsrz.\n\nSolution: mrsrz, nzhtl1477.\n\nCode: mrsrz.\n\nData: mrsrz.\n\nBackground: disangan233, mrsrz.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[MtOI2019] 手牵手走向明天", "background": "2019 年 5 月 17 日，Ynoi2018 Day 2 的题目上传至洛谷公共题库。\n\n2019 年 5 月 19 日，mrsrz 想出了[[Ynoi2018]天降之物](https://www.luogu.com.cn/problem/P5397)的序列分块做法，并尝试 AC 该题。\n\n2019 年 5 月 21 日，在 lxl 略微放宽时限，加上各种玄学优化下，mrsrz 通过了此题（现在时限改回来了所以没希望了）。\n\n过了若干日，mrsrz 发现该序列分块做法可以支持区间查询，和 lxl 讨论后，发现也可以做到区间修改。\n\n2019 年 10 月，mrsrz 找到 disangan233 并告诉了他这个题。disangan233 收下了这个题并打算作为 MtOI2019 Extra Round 的 F 题。\n\n2019 年 11 月 1 日，mrsrz 发现某个地方的某个比赛的某个题和该题有类似的地方。观察题解后发现了几乎一样的做法。然后这个原来的 F 题没了。\n\n2019 年 11 月 2 日，MtOI2019 Extra Round 顺利进行。\n\n2019 年 11 月 30 日，mrsrz 想起了这道题，决定将这道饱经风霜的题贡献至公共题库中。希望这道题，能对大家有所帮助。\n\nby mrsrz\n\n2019 年 11 月 30 日\n\n### Update：\n\n2019 年 12 月 2 日，经 disangan233 同意，本题仍使用原来的题面。\n\n2021 年 8 月 13 日，更新了 std，现在 std 的空间复杂度为 $O(n+m)$。\n\n---\n\n「俺、セツナは、お前を永遠に愛することちか！」  \n「我，Setsuna，发誓将会永远爱着你！」\n\n「私の、あなたを永遠に愛することちかう！」  \n「我也是，发誓会永远爱着你！」\n\n「歴史がかでもまた得た、ウェディングドレスてあみあをそ！」   \n「要是我们在其他的历史中再次相遇，那就披上婚纱再来一次吧！」\n\n![rinne.png](https://i.loli.net/2019/10/03/oR4tNIQ6rBMe8GU.png)", "description": "Rinne 给了你一个数列 $a_1,a_2,\\dots,a_n$，你需要依次执行 $m$ 个操作。\n\n操作共有两种：\n\n1. 给定 $l,r,x,y$，将 $a_l,a_{l+1},a_{l+2},\\dots,a_r$ 中等于 $x$ 的数全部改成 $y$。\n\n2. 给定 $l,r,x,y$，找到 $i,j$ 满足 $i,j\\in[l,r]$ 且 $a_i=x,a_j=y$，并要求 $|i-j|$ 最小。求这个最小值。无解输出 $-1$。", "inputFormat": "第一行两个正整数 $n,m$，表示序列长度和操作个数。\n\n第二行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n接下来 $m$ 行，每行五个正整数 $op,l,r,x,y$。若 $op=1$，表示修改操作。若 $op=2$，表示询问操作。$l,r,x,y$ 对应的含义见题目描述。", "outputFormat": "对每个 $op=2$ 的操作，输出一行一个整数表示答案。", "hint": "对于 $100\\%$ 的数据，$1\\leq n,m,a_i,x,y\\leq 10^5$，$1\\leq l\\leq r\\leq n$。\n\n本题共有 $6$ 个子任务，每个子任务的限制如下：\n\n子任务 $1$（$1$ 分）：保证对于任意操作，$l=1,r=n$。\n\n子任务 $2$（$5$ 分）：$n,m\\leq 50$。\n\n子任务 $3$（$18$ 分）：$n,m\\leq 2000$。\n\n子任务 $4$（$7$ 分）：保证 $a_i,x,y\\in\\{1,2\\}$。\n\n子任务 $5$（$29$ 分）：保证当 $op=2$ 时，$x=y$。\n\n子任务 $6$（$40$ 分）：没有特殊限制。\n\n**时间限制**：$1.5\\rm s$\n\n**空间限制**：$512\\rm MB$\n\nIdea：nzhtl1477，mrsrz\n\nSolution：mrsrz，nzhtl1477\n\nCode：mrsrz\n\nData：mrsrz\n\nBackground：disangan233，mrsrz", "locale": "zh-CN"}}}
{"pid": "P5693", "type": "P", "difficulty": 7, "samples": [["5 5\n-2 -3 -3 -3 -3\n2 1 5\n1 2 4 4\n2 1 5\n1 2 3 1\n2 3 3", "0\n3\n2"]], "limits": {"time": [1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["线段树", "O2优化"], "title": "EI 的第六分块", "background": "他说他解决了经典根号复杂度问题，怕引起轰动所以撤回了.jpg  \n\n不过 [EntropyIncreaser](https://www.luogu.com.cn/user/21423) 确实得到了此题更优的做法。", "description": "给定一个整数序列 $a$，支持两种操作：  \n\n- `1 l r x` 表示给区间 $[l,r]$ 中每个数加上 $x$  \n- `2 l r` 表示查询区间 $[l,r]$ 的最大子段和（可以为空）", "inputFormat": "第一行两个正整数 $n,q$，表示序列长度和操作个数。  \n接下来一行 $n$ 个整数，表示初始的序列 $a$。  \n接着有 $q$ 行，每行若干个整数，表示一次操作。", "outputFormat": "对于每个 $2$ 操作，输出一行一个整数表示答案。", "hint": "【数据范围】  \n对于 $20\\%$ 的数据，$1\\le n,q \\le 1000$；  \n对于 $60\\%$ 的数据，$1\\le n,q \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le n,q \\le 4\\times 10^5$，$|a_i| \\le 10^9$，$1 \\le x \\le 10^6$。\n\nIdea：nzhtl1477   \nSolution：EntropyIncreaser  \nCode：EntropyIncreaser   \nData：NaCly_Fish\n\n### 请注意常数优化。", "locale": "zh-CN", "translations": {"en": {"title": "The Sixth Block Decomposition of EI", "background": "He said he solved the classic square-root complexity problem, but he withdrew it because he was afraid of causing a sensation .jpg.\n\nHowever, [EntropyIncreaser](https://www.luogu.com.cn/user/21423) did obtain a better solution for this problem.", "description": "Given an integer sequence $a$, support two operations:\n\n- `1 l r x` means adding $x$ to every number in the interval $[l,r]$.\n- `2 l r` means querying the maximum subarray sum of the interval $[l,r]$ (it may be empty).", "inputFormat": "The first line contains two positive integers $n,q$, representing the length of the sequence and the number of operations.\nThe next line contains $n$ integers, representing the initial sequence $a$.\nThen there are $q$ lines, each containing several integers, representing one operation.", "outputFormat": "For each operation of type `2`, output one line with one integer representing the answer.", "hint": "Constraints  \nFor $20\\%$ of the testdata, $1\\le n,q \\le 1000$.\nFor $60\\%$ of the testdata, $1\\le n,q \\le 10^5$.\nFor $100\\%$ of the testdata, $1\\le n,q \\le 4\\times 10^5$, $|a_i| \\le 10^9$, $1 \\le x \\le 10^6$.\n\nIdea: nzhtl1477.\nSolution: EntropyIncreaser.\nCode: EntropyIncreaser.\nData: NaCly_Fish.\n\n### Please pay attention to constant-factor optimization.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "EI 的第六分块", "background": "他说他解决了经典根号复杂度问题，怕引起轰动所以撤回了.jpg  \n\n不过 [EntropyIncreaser](https://www.luogu.com.cn/user/21423) 确实得到了此题更优的做法。", "description": "给定一个整数序列 $a$，支持两种操作：  \n\n- `1 l r x` 表示给区间 $[l,r]$ 中每个数加上 $x$  \n- `2 l r` 表示查询区间 $[l,r]$ 的最大子段和（可以为空）", "inputFormat": "第一行两个正整数 $n,q$，表示序列长度和操作个数。  \n接下来一行 $n$ 个整数，表示初始的序列 $a$。  \n接着有 $q$ 行，每行若干个整数，表示一次操作。", "outputFormat": "对于每个 $2$ 操作，输出一行一个整数表示答案。", "hint": "【数据范围】  \n对于 $20\\%$ 的数据，$1\\le n,q \\le 1000$；  \n对于 $60\\%$ 的数据，$1\\le n,q \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le n,q \\le 4\\times 10^5$，$|a_i| \\le 10^9$，$1 \\le x \\le 10^6$。\n\nIdea：nzhtl1477   \nSolution：EntropyIncreaser  \nCode：EntropyIncreaser   \nData：NaCly_Fish\n\n### 请注意常数优化。", "locale": "zh-CN"}}}
{"pid": "P5694", "type": "P", "difficulty": 5, "samples": [["1 1 1 2", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "2001", "NOI"], "title": "[NOI2001] 陨石的秘密", "background": "", "description": "公元11380年，一颗巨大的陨石坠落在南极。于是，灾难降临了，地球上出现了一系列反常的现象。当人们焦急万分的时候，一支中国科学家组成的南极考察队赶到了出事地点。经过一番侦察，科学家们发现陨石上刻有若干行密文，每一行都包含5个整数：\n\n```\n1 1 1 1 6\n0 0 6 3 57\n8 0 11 3 2845\n```\n\n著名的科学家 SS 发现，这些密文实际上是一种复杂运算的结果。为了便于大家理解这种运算，他定义了一种 SS 表达式：\n\n1. SS 表达式是仅由 `{`, `}`, `[`, `]`, `(`, `)` 组成的字符串。\n2. 一个空串是 SS 表达式。\n3. 如果 $ A $ 是SS表达式，且 $ A $ 中不含字符 `{`, `}`, `[`, `]`，则 $ (A) $ 是SS表达式。\n4. 如果 $ A $ 是 SS 表达式，且 $ A $ 中不含字符 `{`, `}`，则 $ [A] $ 是 SS 表达式。\n5. 如果 $ A $ 是 SS 表达式，则 $ \\{A\\} $ 是 SS 表达式。\n6. 如果 $ A $ 和 $ B $ 都是 SS 表达式，则 $ AB $ 也是 SS 表达式。\n\n一个 SS 表达式 $ E $ 的深度 $ D(E) $定义如下：\n\n$$\n\\scriptstyle{\nD(E) =\n\\begin{cases}\n \\scriptstyle{0}, & \\scriptstyle{\\text{如果 } E \\text{ 是空串}} \\\\\n \\scriptstyle{D(A) + 1}, &  \\scriptstyle{\\text{如果 } E = (A) \\text{ 或者 } E = [A] \\text{ 或者 } E = \\{A\\}, \\text{ 其中 } A \\text{ 是 SS 表达式}} \\\\\n \\scriptstyle{\\max(D(A), D(B))}, &  \\scriptstyle{\\text{ 如果 } E = AB, \\text{其中 } A, B \\text{ 是 SS 表达式}}\n\\end{cases}\n}\n$$\n\n例如 `(){()}[]` 的深度为 $ 2 $。\n\n密文中的复杂运算是这样进行的：\n\n设密文中每行前 $ 4 $ 个数依次为 $ L_1, L_2, L_3, D $，求出所有深度为 $ D $，含有 $ L_1 $ 对 `{}`，$ L_2 $ 对 `[]`，$ L_3 $ 对 `()` 的 SS 串的个数，并用这个数对当前的年份 $ 11380 $ 求余数，这个余数就是密文中每行的第 $ 5 $ 个数，我们称之为“神秘数”。\n\n密文中某些行的第五个数已经模糊不清，而这些数字正是揭开陨石秘密的钥匙。现在科学家们聘请你来计算这个神秘数。\n", "inputFormat": "共一行，$ 4 $ 个整数 $ L_1, L_2, L_3, D $。相邻两个数之间用一个空格分隔。", "outputFormat": "共一行，包含一个整数，即神秘数。", "hint": "$ 0 \\le L_1, L_2, L_3 \\le 10$，$0 \\le D \\le 30 $。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2001] The Secret of the Meteorite", "background": "", "description": "In the year 11380 AD, a huge meteorite fell in Antarctica. Then disaster struck, and a series of abnormal phenomena appeared on Earth. When people were extremely anxious, a Chinese scientific expedition to Antarctica arrived at the scene. After some investigation, the scientists found several lines of ciphertext carved on the meteorite, and each line contains 5 integers:\n\n```\n1 1 1 1 6\n0 0 6 3 57\n8 0 11 3 2845\n```\n\nThe famous scientist SS discovered that these ciphertexts are actually the results of a complex operation. To make this operation easier to understand, he defined an SS expression:\n\n1. An SS expression is a string consisting only of `{`, `}`, `[`, `]`, `(`, `)`.\n2. The empty string is an SS expression.\n3. If $ A $ is an SS expression and $ A $ does not contain the characters `{`, `}`, `[`, `]`, then $ (A) $ is an SS expression.\n4. If $ A $ is an SS expression and $ A $ does not contain the characters `{`, `}`, then $ [A] $ is an SS expression.\n5. If $ A $ is an SS expression, then $ \\{A\\} $ is an SS expression.\n6. If $ A $ and $ B $ are both SS expressions, then $ AB $ is also an SS expression.\n\nThe depth $ D(E) $ of an SS expression $ E $ is defined as follows:\n\n$$\n\\scriptstyle{\nD(E) =\n\\begin{cases}\n \\scriptstyle{0}, & \\scriptstyle{\\text{if } E \\text{ is the empty string}} \\\\\n \\scriptstyle{D(A) + 1}, &  \\scriptstyle{\\text{if } E = (A) \\text{ or } E = [A] \\text{ or } E = \\{A\\}, \\text{ where } A \\text{ is an SS expression}} \\\\\n \\scriptstyle{\\max(D(A), D(B))}, &  \\scriptstyle{\\text{if } E = AB, \\text{ where } A, B \\text{ are SS expressions}}\n\\end{cases}\n}\n$$\n\nFor example, the depth of `(){()}[]` is $ 2 $.\n\nThe complex operation in the ciphertext is performed as follows:\n\nLet the first $ 4 $ numbers in each line of the ciphertext be $ L_1, L_2, L_3, D $ in order. Compute the number of all SS strings with depth $ D $, containing $ L_1 $ pairs of `{}`, $ L_2 $ pairs of `[]`, and $ L_3 $ pairs of `()`; then take this number modulo the current year $ 11380 $. This remainder is the $ 5 $-th number in that line of the ciphertext, and we call it the “mysterious number”.\n\nThe fifth number in some lines of the ciphertext has become blurry, and these numbers are the key to uncovering the meteorite’s secret. Now the scientists hire you to compute this mysterious number.", "inputFormat": "One line with $ 4 $ integers $ L_1, L_2, L_3, D $. Adjacent numbers are separated by a single space.", "outputFormat": "One line containing one integer, the mysterious number.", "hint": "$ 0 \\le L_1, L_2, L_3 \\le 10$，$0 \\le D \\le 30 $。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2001] 陨石的秘密", "background": "", "description": "公元11380年，一颗巨大的陨石坠落在南极。于是，灾难降临了，地球上出现了一系列反常的现象。当人们焦急万分的时候，一支中国科学家组成的南极考察队赶到了出事地点。经过一番侦察，科学家们发现陨石上刻有若干行密文，每一行都包含5个整数：\n\n```\n1 1 1 1 6\n0 0 6 3 57\n8 0 11 3 2845\n```\n\n著名的科学家 SS 发现，这些密文实际上是一种复杂运算的结果。为了便于大家理解这种运算，他定义了一种 SS 表达式：\n\n1. SS 表达式是仅由 `{`, `}`, `[`, `]`, `(`, `)` 组成的字符串。\n2. 一个空串是 SS 表达式。\n3. 如果 $ A $ 是SS表达式，且 $ A $ 中不含字符 `{`, `}`, `[`, `]`，则 $ (A) $ 是SS表达式。\n4. 如果 $ A $ 是 SS 表达式，且 $ A $ 中不含字符 `{`, `}`，则 $ [A] $ 是 SS 表达式。\n5. 如果 $ A $ 是 SS 表达式，则 $ \\{A\\} $ 是 SS 表达式。\n6. 如果 $ A $ 和 $ B $ 都是 SS 表达式，则 $ AB $ 也是 SS 表达式。\n\n一个 SS 表达式 $ E $ 的深度 $ D(E) $定义如下：\n\n$$\n\\scriptstyle{\nD(E) =\n\\begin{cases}\n \\scriptstyle{0}, & \\scriptstyle{\\text{如果 } E \\text{ 是空串}} \\\\\n \\scriptstyle{D(A) + 1}, &  \\scriptstyle{\\text{如果 } E = (A) \\text{ 或者 } E = [A] \\text{ 或者 } E = \\{A\\}, \\text{ 其中 } A \\text{ 是 SS 表达式}} \\\\\n \\scriptstyle{\\max(D(A), D(B))}, &  \\scriptstyle{\\text{ 如果 } E = AB, \\text{其中 } A, B \\text{ 是 SS 表达式}}\n\\end{cases}\n}\n$$\n\n例如 `(){()}[]` 的深度为 $ 2 $。\n\n密文中的复杂运算是这样进行的：\n\n设密文中每行前 $ 4 $ 个数依次为 $ L_1, L_2, L_3, D $，求出所有深度为 $ D $，含有 $ L_1 $ 对 `{}`，$ L_2 $ 对 `[]`，$ L_3 $ 对 `()` 的 SS 串的个数，并用这个数对当前的年份 $ 11380 $ 求余数，这个余数就是密文中每行的第 $ 5 $ 个数，我们称之为“神秘数”。\n\n密文中某些行的第五个数已经模糊不清，而这些数字正是揭开陨石秘密的钥匙。现在科学家们聘请你来计算这个神秘数。\n", "inputFormat": "共一行，$ 4 $ 个整数 $ L_1, L_2, L_3, D $。相邻两个数之间用一个空格分隔。", "outputFormat": "共一行，包含一个整数，即神秘数。", "hint": "$ 0 \\le L_1, L_2, L_3 \\le 10$，$0 \\le D \\le 30 $。", "locale": "zh-CN"}}}
{"pid": "P5695", "type": "P", "difficulty": 3, "samples": [["1", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["数学", "2001", "NOI"], "title": "[NOI2001] 反正切函数的应用", "background": "反正切函数可展开成无穷级数，有如下公式\n\n$$ \\arctan(x) = \\sum_{n = 0}^\\infty \\frac{(-1) ^ n x ^ {2n + 1}}{2n + 1} ( 0 \\le x \\le 1 ) \\tag{1} $$\n\n使用反正切函数计算 是一种常用的方法。例如，最简单的计算 的方法：\n\n$$\n\\begin{aligned}\n\\pi & = 4 \\arctan(1) \\\\\n    & = 4(1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\frac{1}{9} - \\frac{1}{11} + \\dots)\n\\end{aligned}\n\\tag{2}\n$$\n\n然而，这种方法的效率很低，但我们可以根据角度和的正切函数公式：\n\n$$ \\tan(\\alpha + \\beta) = \\frac{\\tan(\\alpha) + \\tan(\\beta)}{1 - \\tan(\\alpha) \\tan(\\beta)} \\tag{3} $$\n\n通过简单的变换得到：\n\n$$ \\arctan(p) + \\arctan(q) = \\arctan(\\frac{p + q}{1 - p q}) \\tag{4} $$\n\n利用这个公式，令 $ p = \\frac{1}{2}, q = \\frac{1}{3} $，则 $ \\frac{p + q}{1 - p q} = 1 $，有\n\n$$ \\arctan(\\frac{1}{2}) + \\arctan(\\frac{1}{3}) = \\arctan(\\frac{\\frac{1}{2} + \\frac{1}{3}}{1 - \\frac{1}{2} \\cdot \\frac{1}{3}}) = \\arctan(1) $$", "description": "我们将公式 $ 4 $ 写成如下形式\n\n$$ \\arctan(\\frac{1}{a}) = \\arctan(\\frac{1}{b}) + \\arctan(\\frac{1}{c}) $$\n\n其中 $ a, b, c \\in \\mathbb{N^+} $。\n\n我们的问题是：对于每一个给定的 $a$，求 $ b + c $ 的值。我们保证对于任意的 $ a $ 都存在整数解。如果有多个解，要求你给出 $ b + c $ 最小的解。\n", "inputFormat": "输入文件中只有一个正整数 $ a $。", "outputFormat": "输出文件中只有一个整数，为 $ b + c $ 的值。", "hint": "$1 \\le a \\le 6\\times 10^4 $。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2001] Application of the Arctangent Function", "background": "The arctangent function can be expanded into an infinite series, with the following formula:\n\n$$ \\arctan(x) = \\sum_{n = 0}^\\infty \\frac{(-1) ^ n x ^ {2n + 1}}{2n + 1} ( 0 \\le x \\le 1 ) \\tag{1} $$\n\nUsing the arctangent function to compute $\\pi$ is a common method. For example, the simplest way to compute $\\pi$ is:\n\n$$\n\\begin{aligned}\n\\pi & = 4 \\arctan(1) \\\\\n    & = 4(1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\frac{1}{9} - \\frac{1}{11} + \\dots)\n\\end{aligned}\n\\tag{2}\n$$\n\nHowever, this method is very inefficient. But we can use the tangent addition formula:\n\n$$ \\tan(\\alpha + \\beta) = \\frac{\\tan(\\alpha) + \\tan(\\beta)}{1 - \\tan(\\alpha) \\tan(\\beta)} \\tag{3} $$\n\nAfter a simple transformation, we get:\n\n$$ \\arctan(p) + \\arctan(q) = \\arctan(\\frac{p + q}{1 - p q}) \\tag{4} $$\n\nUsing this formula, let $ p = \\frac{1}{2}, q = \\frac{1}{3} $. Then $ \\frac{p + q}{1 - p q} = 1 $, so we have:\n\n$$ \\arctan(\\frac{1}{2}) + \\arctan(\\frac{1}{3}) = \\arctan(\\frac{\\frac{1}{2} + \\frac{1}{3}}{1 - \\frac{1}{2} \\cdot \\frac{1}{3}}) = \\arctan(1) $$", "description": "We rewrite formula $ 4 $ in the following form:\n\n$$ \\arctan(\\frac{1}{a}) = \\arctan(\\frac{1}{b}) + \\arctan(\\frac{1}{c}) $$\n\nwhere $ a, b, c \\in \\mathbb{N^+} $.\n\nOur task is: for each given $a$, find the value of $ b + c $. We guarantee that for any $ a $ there is an integer solution. If there are multiple solutions, you must output the one with the smallest $ b + c $.", "inputFormat": "The input file contains only one positive integer $ a $.", "outputFormat": "The output file contains only one integer, which is the value of $ b + c $.", "hint": "$1 \\le a \\le 6\\times 10^4 $。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2001] 反正切函数的应用", "background": "反正切函数可展开成无穷级数，有如下公式\n\n$$ \\arctan(x) = \\sum_{n = 0}^\\infty \\frac{(-1) ^ n x ^ {2n + 1}}{2n + 1} ( 0 \\le x \\le 1 ) \\tag{1} $$\n\n使用反正切函数计算 是一种常用的方法。例如，最简单的计算 的方法：\n\n$$\n\\begin{aligned}\n\\pi & = 4 \\arctan(1) \\\\\n    & = 4(1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\frac{1}{9} - \\frac{1}{11} + \\dots)\n\\end{aligned}\n\\tag{2}\n$$\n\n然而，这种方法的效率很低，但我们可以根据角度和的正切函数公式：\n\n$$ \\tan(\\alpha + \\beta) = \\frac{\\tan(\\alpha) + \\tan(\\beta)}{1 - \\tan(\\alpha) \\tan(\\beta)} \\tag{3} $$\n\n通过简单的变换得到：\n\n$$ \\arctan(p) + \\arctan(q) = \\arctan(\\frac{p + q}{1 - p q}) \\tag{4} $$\n\n利用这个公式，令 $ p = \\frac{1}{2}, q = \\frac{1}{3} $，则 $ \\frac{p + q}{1 - p q} = 1 $，有\n\n$$ \\arctan(\\frac{1}{2}) + \\arctan(\\frac{1}{3}) = \\arctan(\\frac{\\frac{1}{2} + \\frac{1}{3}}{1 - \\frac{1}{2} \\cdot \\frac{1}{3}}) = \\arctan(1) $$", "description": "我们将公式 $ 4 $ 写成如下形式\n\n$$ \\arctan(\\frac{1}{a}) = \\arctan(\\frac{1}{b}) + \\arctan(\\frac{1}{c}) $$\n\n其中 $ a, b, c \\in \\mathbb{N^+} $。\n\n我们的问题是：对于每一个给定的 $a$，求 $ b + c $ 的值。我们保证对于任意的 $ a $ 都存在整数解。如果有多个解，要求你给出 $ b + c $ 最小的解。\n", "inputFormat": "输入文件中只有一个正整数 $ a $。", "outputFormat": "输出文件中只有一个整数，为 $ b + c $ 的值。", "hint": "$1 \\le a \\le 6\\times 10^4 $。", "locale": "zh-CN"}}}
{"pid": "P5696", "type": "P", "difficulty": 5, "samples": [["4\n0 0\n0 1\n1 1\n1 0\n8\n0 0 \n3 0\n4 3\n2 2\n3 4\n4 4\n4 5\n0 5\n0\n", "Room #1:\nSurveillance is possible.\n\nRoom #2:\nSurveillance is impossible.\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [51200, 51200, 51200, 51200, 51200, 51200, 51200, 51200, 51200, 51200]}, "tags": ["计算几何", "1998", "半平面交", "CTSC/CTS"], "title": "[CTSC1998] 监视摄像机", "background": "CTSC1998 D1T2\n\n一个著名的仓库管理公司 SERKOI 请你的公司为其安装一套闭路监视系统。\n\n由于 SERKOI 财力有限,每个房间只能安装一台摄像机作监视用，不过它的镜头可以向**任意方向**旋转。", "description": "我们的问题是确定摄像机的位置，以确保房间的每一个角落都能被它监视到。\n\n例如，图一和图二是某两个房间的示意图，每个房间用一个封闭的多边形表示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/arcbvz22.png)\n\n图中的每条边表示一面墙。\n\n对于图一所示的房间，我们将摄像机安置在标黑点的位置就能满足要求；\n\n而对于图二所示的房间，无论将摄像机安置在哪里都无法使其满足要求。\n \n写一个程序，对于给定的房间示意图，判断是否有可能在这个房间中的某一位置安置**一台**摄像机，使其能监视到这个房间的**任何一个**角落。", "inputFormat": "输入文件包含一个或多个房间示意图的描述信息。\n\n每个描述信息的第一行是一一个正整数 $n$，表示该房间的示意图为一个 $n$ 边形。\n\n以下 $n$ 行每行包括用空格符隔开的两个整数 $x,y$，依次为这个 $n$ 边形的按顺时针方向排列的 $n$ 个顶点在直角坐标系中的横纵坐标。\n\n$n=0$ 表示输入文件结束。", "outputFormat": "对于每个房间，首先输出一行该房间的编号信息 `Room #k:`，$k$ 按照输入次序从 $1$ 开始计数。\n\n下一行是判断结果，如果摄像机在房间中某处安置能满足条件，输出 `Surveillance is possible.`，否则输出 `Surveillance is impossible.`\n\n每两个房间的输出结果之间用一个空行隔开。", "hint": "【数据范围】\n\n$4 \\leq n \\leq 100$，$-10000 \\leq x,y \\leq 10000$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTSC1998] Surveillance Cameras", "background": "CTSC1998 D1T2.\n\nA famous warehouse management company, SERKOI, asks your company to install a CCTV surveillance system for it.\n\nBecause SERKOI has limited funds, each room can only have one camera for surveillance, but its lens can rotate in **any direction**.", "description": "Our task is to determine the camera position so that every corner of the room can be monitored by it.\n\nFor example, Figure 1 and Figure 2 are sketches of two rooms. Each room is represented by a closed polygon.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/arcbvz22.png)\n\nEach edge in the figure represents a wall.\n\nFor the room in Figure 1, placing the camera at the black point meets the requirement.\n\nFor the room in Figure 2, no matter where the camera is placed, the requirement cannot be met.\n\nWrite a program that, given a room sketch, determines whether it is possible to place **one** camera somewhere inside the room so that it can monitor **any** corner of the room.", "inputFormat": "The input contains one or more room descriptions.\n\nThe first line of each description is a positive integer $n$, indicating that the room sketch is an $n$-gon.\n\nThe next $n$ lines each contain two integers $x, y$ separated by spaces, which are the coordinates of the $n$ vertices of the polygon in the Cartesian coordinate system, listed in clockwise order.\n\n$n = 0$ indicates the end of input.", "outputFormat": "For each room, first output one line with the room index in the format `Room #k:`, where $k$ starts from $1$ in the input order.\n\nThe next line is the result. If placing a camera somewhere in the room can satisfy the condition, output `Surveillance is possible.`; otherwise output `Surveillance is impossible.`\n\nPrint a blank line between the outputs of every two rooms.", "hint": "Constraints\n\n$4 \\leq n \\leq 100$，$-10000 \\leq x, y \\leq 10000$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CTSC1998] 监视摄像机", "background": "CTSC1998 D1T2\n\n一个著名的仓库管理公司 SERKOI 请你的公司为其安装一套闭路监视系统。\n\n由于 SERKOI 财力有限,每个房间只能安装一台摄像机作监视用，不过它的镜头可以向**任意方向**旋转。", "description": "我们的问题是确定摄像机的位置，以确保房间的每一个角落都能被它监视到。\n\n例如，图一和图二是某两个房间的示意图，每个房间用一个封闭的多边形表示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/arcbvz22.png)\n\n图中的每条边表示一面墙。\n\n对于图一所示的房间，我们将摄像机安置在标黑点的位置就能满足要求；\n\n而对于图二所示的房间，无论将摄像机安置在哪里都无法使其满足要求。\n \n写一个程序，对于给定的房间示意图，判断是否有可能在这个房间中的某一位置安置**一台**摄像机，使其能监视到这个房间的**任何一个**角落。", "inputFormat": "输入文件包含一个或多个房间示意图的描述信息。\n\n每个描述信息的第一行是一一个正整数 $n$，表示该房间的示意图为一个 $n$ 边形。\n\n以下 $n$ 行每行包括用空格符隔开的两个整数 $x,y$，依次为这个 $n$ 边形的按顺时针方向排列的 $n$ 个顶点在直角坐标系中的横纵坐标。\n\n$n=0$ 表示输入文件结束。", "outputFormat": "对于每个房间，首先输出一行该房间的编号信息 `Room #k:`，$k$ 按照输入次序从 $1$ 开始计数。\n\n下一行是判断结果，如果摄像机在房间中某处安置能满足条件，输出 `Surveillance is possible.`，否则输出 `Surveillance is impossible.`\n\n每两个房间的输出结果之间用一个空行隔开。", "hint": "【数据范围】\n\n$4 \\leq n \\leq 100$，$-10000 \\leq x,y \\leq 10000$。", "locale": "zh-CN"}}}
{"pid": "P5697", "type": "P", "difficulty": 3, "samples": [["36", "8\n6 7 8 10 11 13 18 35"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2018", "CEOI（中欧）"], "title": "[CEOI 2018] toy", "background": "", "description": "Johnny 喜欢收藏玩具。他收藏的玩具有很多不同的种类，每种玩具有很多个，而种类相同的两个玩具是无法区分的。\n\nEmma 问 Johnny 他有几个玩具。然而 Johnny 并不愿意回答这个问题。\n\n他告诉 Emma，如果他从所有玩具中选择一些不同的玩具，他可以玩 $n$ 天。换言之，这 $n$ 天中任意两天选择的玩具，存在一种玩具选择的数量不同。同时，选择的玩具集合是空集也是允许的。\n\nEmma 并不想亲自计算这个答案，因此她把这个问题交给了你。你需要告诉她 Johnny 拥有的玩具的所有可能数量。\n", "inputFormat": "输入仅包含一个整数 $n$。", "outputFormat": "第一行输出一个整数 $r$，表示共有 $r$ 种 Johnny 拥有的玩具数量。\n\n接下来一行，输出 $r$ 个递增的整数，代表 Johnny 一种可能拥有的玩具的数量。", "hint": "对于 $100\\%$ 的数据， $1\\le n\\le 10^9$。\n\n-----\n\n**题目翻译By @StudyFather。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] toy", "background": "", "description": "Johnny 喜欢收藏玩具。他收藏的玩具有很多不同的种类，每种玩具有很多个，而种类相同的两个玩具是无法区分的。\n\nEmma 问 Johnny 他有几个玩具。然而 Johnny 并不愿意回答这个问题。\n\n他告诉 Emma，如果他从所有玩具中选择一些不同的玩具，他可以玩 $n$ 天。换言之，这 $n$ 天中任意两天选择的玩具，存在一种玩具选择的数量不同。同时，选择的玩具集合是空集也是允许的。\n\nEmma 并不想亲自计算这个答案，因此她把这个问题交给了你。你需要告诉她 Johnny 拥有的玩具的所有可能数量。\n", "inputFormat": "输入仅包含一个整数 $n$。", "outputFormat": "第一行输出一个整数 $r$，表示共有 $r$ 种 Johnny 拥有的玩具数量。\n\n接下来一行，输出 $r$ 个递增的整数，代表 Johnny 一种可能拥有的玩具的数量。", "hint": "对于 $100\\%$ 的数据， $1\\le n\\le 10^9$。\n\n-----\n\n**题目翻译By @StudyFather。**", "locale": "zh-CN"}}}
{"pid": "P5698", "type": "P", "difficulty": 6, "samples": [["begin loop n loop 3 loop n\nop 20\nend end end\nloop n op 3 break end\nloop n loop n\nop 1\nbreak\nend end\nend\n", "60n^2+n+3"], ["begin\nop n\nloop 3\nop n\nbreak\nend\nloop n\nloop n\nop 1\ncontinue\nop n\nend\nend\nend ", "n^2+2n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "1998", "栈", "CTSC/CTS"], "title": "[CTSC1998] 算法复杂度", "background": "CTSC1998 D1T3\n\n我们在编程时，最关心的一个问题就是算法的时间复杂度。但是分析一个程序的复杂度是一项很困难的工作，在程序的码风不是很好的情况下更是如此。\n\n所以，专门研究算法的 SERKOI 小组决定开发出一个分析程序时间复杂度的软件。由于这是一个全新的领域，所以 SERKOI 小组决定先从简单情况入手进行分析。", "description": "为了简化问题,程序只包含循环和顺序结构,程序的结构定义如下：\n\n$\\texttt{begin <statement> end}$ \n\n一个语句块的结构是**递归定义**的，如下所示：\n\n$\\texttt{loop x <statement> end}$\n\n或者 $\\texttt{op <statement>}$ \n\n或者为 $\\texttt{break <statement>}$ \n\n或者为 $\\texttt{continue <statement>}$ \n\n语句块可以为空。\n\n注意：\n\n1. 一个程序都是以 $\\texttt{begin}$ 开始，以相应的 $\\texttt{end}$ 结束；\n\n2. $\\texttt{loop x <statement> end}$ 表示其中的语句重复执行 $x$ 次；\n\n3. $\\texttt{op x}$ 表示执行 $x$ 个单位操作；\n\n4. 上面两点中的 $x$ 可以是一个正整数或 $n$；\n\n5. $\\texttt{break}$ 语句的作用是跳出这一层循环, $\\texttt{continue}$ 语句的作用是跳过这一层循\n环的其它语句，直接进入下一次循环。如果它（$\\texttt{break}$ 或 $\\texttt{continue}$）不在任何一层循环中，**请忽略它们**。\n\n你需要写一个程序，用来求出题目描述的程序的时间复杂度，并以多项式的形式输出。\n\n注意，该多项式是关于 $n$ 的多项式，而且，**常数项和系数不能省略**。\n\n数据保证能求出该程序的时间复杂度。", "inputFormat": "输入中包含一个完整的程序，\n每两条语句之间至少用一个空格或换行符隔开。\n", "outputFormat": "将计算出的时间复杂度多项式按**降幂排列**输出。", "hint": "循环的嵌套最多不超过 $20$ 层。\n\n保证最终时间复杂度多项式每项的系数不超过 ${10}^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTSC1998] Algorithm Complexity.", "background": "CTSC1998 D1T3.\n\nWhen we do programming, the issue we care about most is the time complexity of an algorithm. However, analyzing the complexity of a program is very difficult, and it becomes even harder when the program is not well written.\n\nSo, the SERKOI group, which specializes in studying algorithms, decided to develop software to analyze the time complexity of a program. Since this is a brand-new field, the SERKOI group decided to start with simple cases first.", "description": "To simplify the problem, the program contains only loops and sequential structures. The program structure is defined as follows:\n\n$\\texttt{begin <statement> end}$\n\nThe structure of a statement block is **recursively defined** as follows:\n\n$\\texttt{loop x <statement> end}$\n\nor $\\texttt{op <statement>}$\n\nor $\\texttt{break <statement>}$\n\nor $\\texttt{continue <statement>}$\n\nA statement block can be empty.\n\nNotes:\n\n1. A program starts with $\\texttt{begin}$ and ends with the corresponding $\\texttt{end}$.\n\n2. $\\texttt{loop x <statement> end}$ means the statements inside are executed repeatedly $x$ times.\n\n3. $\\texttt{op x}$ means performing $x$ unit operations.\n\n4. In the above two points, $x$ can be a positive integer or $n$.\n\n5. The $\\texttt{break}$ statement exits the current loop level, and the $\\texttt{continue}$ statement skips the remaining statements in the current loop level and directly enters the next iteration. If it ($\\texttt{break}$ or $\\texttt{continue}$) is not inside any loop, **please ignore them**.\n\nYou need to write a program to compute the time complexity of the program described above, and output it in polynomial form.\n\nNote that this polynomial is a polynomial in $n$, and **the constant term and coefficients cannot be omitted**.\n\nThe testdata guarantees that the time complexity of the program can be determined.", "inputFormat": "The input contains a complete program.  \nBetween every two statements, there is at least one space or newline character.", "outputFormat": "Output the computed time complexity polynomial in **descending order of degree**.", "hint": "The loop nesting depth is at most $20$ levels.\n\nIt is guaranteed that the coefficient of each term in the final time complexity polynomial does not exceed ${10}^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CTSC1998] 算法复杂度", "background": "CTSC1998 D1T3\n\n我们在编程时，最关心的一个问题就是算法的时间复杂度。但是分析一个程序的复杂度是一项很困难的工作，在程序的码风不是很好的情况下更是如此。\n\n所以，专门研究算法的 SERKOI 小组决定开发出一个分析程序时间复杂度的软件。由于这是一个全新的领域，所以 SERKOI 小组决定先从简单情况入手进行分析。", "description": "为了简化问题,程序只包含循环和顺序结构,程序的结构定义如下：\n\n$\\texttt{begin <statement> end}$ \n\n一个语句块的结构是**递归定义**的，如下所示：\n\n$\\texttt{loop x <statement> end}$\n\n或者 $\\texttt{op <statement>}$ \n\n或者为 $\\texttt{break <statement>}$ \n\n或者为 $\\texttt{continue <statement>}$ \n\n语句块可以为空。\n\n注意：\n\n1. 一个程序都是以 $\\texttt{begin}$ 开始，以相应的 $\\texttt{end}$ 结束；\n\n2. $\\texttt{loop x <statement> end}$ 表示其中的语句重复执行 $x$ 次；\n\n3. $\\texttt{op x}$ 表示执行 $x$ 个单位操作；\n\n4. 上面两点中的 $x$ 可以是一个正整数或 $n$；\n\n5. $\\texttt{break}$ 语句的作用是跳出这一层循环, $\\texttt{continue}$ 语句的作用是跳过这一层循\n环的其它语句，直接进入下一次循环。如果它（$\\texttt{break}$ 或 $\\texttt{continue}$）不在任何一层循环中，**请忽略它们**。\n\n你需要写一个程序，用来求出题目描述的程序的时间复杂度，并以多项式的形式输出。\n\n注意，该多项式是关于 $n$ 的多项式，而且，**常数项和系数不能省略**。\n\n数据保证能求出该程序的时间复杂度。", "inputFormat": "输入中包含一个完整的程序，\n每两条语句之间至少用一个空格或换行符隔开。\n", "outputFormat": "将计算出的时间复杂度多项式按**降幂排列**输出。", "hint": "循环的嵌套最多不超过 $20$ 层。\n\n保证最终时间复杂度多项式每项的系数不超过 ${10}^9$。", "locale": "zh-CN"}}}
{"pid": "P5699", "type": "P", "difficulty": 7, "samples": [["4\n0.00 0.70 0.60 0.80\n0.30 0.00 0.60 0.40\n0.40 0.40 0.00 0.70\n0.20 0.60 0.30 0.00\n1\n2\n3", "1\n4\n2\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2008", "NOI", "提交答案", "Special Judge"], "title": "[NOI2008] 赛程安排", "background": "", "description": "随着奥运的来临，同学们对体育的热情日益高涨。在 NOI2008 来临之际，学校正在策划组织一场乒乓球赛。小 Z 作为一名狂热的乒乓球爱好者，这正是他大展身手的好机会，于是他摩拳擦掌，积极报名参赛。\n\n本次乒乓球赛采取淘汰赛制，获胜者晋级。恰好有 $n$($n$ 是 $2$ 的整数次幂，不妨设 $n = 2^k$)个同学报名参加，因此第一轮后就会有 $2^{k-1}$ 个同学惨遭淘汰，另外 $2^{k-1}$ 个同学晋级下一轮；第二轮后有 $2^{k-2}$ 名同学晋级下一轮，… 依次类推，直到 $k$ 轮后决出冠亚军：具体的，每个人都有一个 $1\\sim n$ 的初始编号，其中小 Z 编号为 $1$，所有同学的编号都不同，他们将被分配到 $n$ 个位置中，然后按照类似下图的赛程进行比赛：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0n4eu0pc.png)\n\n上图：$n=8$ 时比赛的赛程表\n\n为了吸引更多的同学参加比赛，本次比赛的奖金非常丰厚。在第 $i$ 轮被淘汰的选手将得到奖金 $a_i$ 元，而冠军将获得最高奖金 $a_{k+1}$ 元。显然奖金应满足 $a_1<a_2<\\cdots<a_{k+1}$。\n\n在正式比赛前的热身赛中，小 Z 连连败北。经过认真分析之后，他发现主要的失败原因不是他的球技问题，而是赢他的这几个同学在球风上刚好对他构成相克的关系，所以一经交手，他自然败阵。小 Z 思索：如果在正式比赛中能够避开这几位同学，该有多好啊!\n\n假设已知选手两两之间交手的胜率，即选手 $A$ 战胜选手 $B$ 的概率为 $P_{A,B}$ (保证 $P_{A,B}+P_{B,A}=1$)。于是小 Z 希望能够通过确定比赛的对阵形势（重新给每个选手安排位置），从而能够使得他获得尽可能多的奖金。你能帮助小 Z 安排一个方案，使得他这场比赛期望获得的奖金最高么？", "inputFormat": "这是一道提交答案型试题，所有的输入文件 `match*.in` 已在附加文件中。\n\n输入文件 `match*.in` 第一行包含一个正整数 $n$，表示参赛的总人数，数据保证存在非负整数 $k$，满足 $2^k=n$。\n\n接下来 $n$ 行，每行有 $n$ 个 $0$ 到 $1$ 间的实数 $P_{i,j}$，表示编号为 $i$ 的选手战胜编号为 $j$ 的选手的概率，每个实数精确到小数点后两位。特别注意 $P_{i,i}=0.00$。\n\n接下来 $k+1$ 行，每行一个整数分别为晋级各轮不同的奖金，第 $i$ 行的数为 $a_i$。", "outputFormat": "输出文件 `match*.out` 包括 $n$ 行，第 $i$ 行的数表示位于第 $i$ 个位置的同学的编号，要求小 Z 的编号一定位于第 $1$ 个位置。", "hint": "#### 样例解释\n\n第一轮比赛过后，编号为 $1$ 的选手(小 Z)晋级的概率为 $80\\%$，编号为 $2$ 的选手晋级的概率为 $60\\%$，编号为 $3$ 的选手晋级的概率为 $40\\%$，编号为 $4$ 的选手晋级的概率为 $20\\%$。\n\n第二轮（决赛），编号为 $1$ 的选手（小 Z）前两轮均获胜的概率为 $80\\%\\times (60\\%\\times 70\\%+40\\%\\times 60\\%)=52.8\\%$，因此，小 Z 在第一轮失败的概率 $P_1=1-0.8=0.2$，第一轮胜出但第二轮败北的概率 $P_2=0.8-0.528=0.272$，获得冠军的概率 $P_3=0.528$。\n\n从而，期望奖金为 $0.2\\times 1+(0.8-0.528)\\times 2+0.528\\times 3=2.328$。\n\n#### 如何测试你的输出\n\n我们提供 `checker` 来测试你的输出文件是否可接受。\n\n调用这个程序后，`checker` 将根据你得到的输出文件给出测试的结果，其中包括：\n- 非法退出：未知错误；\n- `Format error`：输出文件格式错误；\n- `Not a permutation`：输出文件不是一个 $1\\sim n$ 的排列；\n- `OK.Your answer is xxx`：输出文件可以被接受，`xxx`为对应的期望奖金。\n\n#### 评分方法\n\n每个测试点单独评分。\n\n对于每一个测试点，如果你的输出文件不合法，如文件格式错误、输出解不符合要求等，该测试点得 $0$ 分。否则如果你的输出的期望奖金为 $\\text{your\\_ans}$，参考期望奖金为 $\\text{our\\_ans}$，我们还设有一个用于评分的参数 $d$，你在该测试点中的得分如下：\n\n- 如果 $\\text{your\\_ans}>\\text{our\\_ans}$，得 $12$ 分。\n- 如果 $\\text{your\\_ans}<\\text{our\\_ans}\\times d$，得 $1$ 分。\n- 否则得分为：\n  $$\n  \\left\\lfloor\\frac{\\text{your\\_ans}-\\text{our\\_ans}\\times d}{\\text{our\\_ans}-\\text{our\\_ans}\\times d}\\times 8\\right\\rfloor+2\n  $$\n\n#### 特别提示\n\n请妥善保存输入文件 `*.in` 和你的输出 `*.out`，及时备份，以免误删。\n\n#### 附加文件\n\nchecker 需要自行编译后使用。\n\n请前往 [Github](https://github.com/MikeMirzayanov/testlib) 下载 testlib.h 的最新源代码。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2008] Tournament Schedule", "background": "", "description": "With the Olympics approaching, students are becoming more and more enthusiastic about sports. As NOI2008 is coming, the school is planning to hold a table tennis tournament. Student Z, a hardcore table tennis fan, sees this as a great chance to show his skills, so he eagerly signs up.\n\nThis table tennis tournament uses a single-elimination format: winners advance. There are exactly $n$ students signed up ($n$ is an integer power of $2$, so we may assume $n = 2^k$). Therefore, after the first round, $2^{k-1}$ students will be eliminated and the other $2^{k-1}$ students will advance to the next round; after the second round, $2^{k-2}$ students advance to the next round, and so on, until after $k$ rounds the champion and runner-up are decided. Specifically, everyone has an initial ID from $1\\sim n$. Student Z has ID $1$. All students have distinct IDs. They will be assigned to $n$ positions, and then play according to a bracket like the one below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0n4eu0pc.png)\n\nThe figure above shows the bracket when $n=8$.\n\nTo attract more students to participate, the prizes are very generous. A player eliminated in round $i$ will receive $a_i$ yuan, and the champion will receive the highest prize $a_{k+1}$ yuan. Clearly, the prizes satisfy $a_1<a_2<\\cdots<a_{k+1}$.\n\nIn the warm-up matches before the official tournament, Student Z keeps losing. After careful analysis, he realizes the main reason is not his technique, but that the few students who beat him have playing styles that counter his. Once they face each other, he naturally loses. Student Z thinks: if only he could avoid these players in the official tournament!\n\nAssume we know the win probabilities between every pair of players: the probability that player $A$ defeats player $B$ is $P_{A,B}$ (guaranteed that $P_{A,B}+P_{B,A}=1$). Student Z hopes to determine the matchups (reassign positions for all players) so that he can obtain as much prize money as possible in expectation. Can you help Student Z find an arrangement that maximizes his expected prize?", "inputFormat": "This is an output-only problem. All input files `match*.in` are provided in the additional files.\n\nThe first line of `match*.in` contains a positive integer $n$, the total number of participants. The data guarantees that there exists a non-negative integer $k$ such that $2^k=n$.\n\nNext come $n$ lines, each containing $n$ real numbers between $0$ and $1$, $P_{i,j}$, meaning the probability that player with ID $i$ defeats player with ID $j$. Each real number is given to two digits after the decimal point. Note in particular that $P_{i,i}=0.00$.\n\nNext come $k+1$ lines, each containing one integer, giving the prizes for different rounds of advancement. The value on line $i$ is $a_i$.", "outputFormat": "The output file `match*.out` contains $n$ lines. The number on line $i$ is the ID of the student placed at position $i$. Student Z’s ID must be placed at position $1$.", "hint": "#### Sample Explanation\n\nAfter the first round, the probability that the player with ID $1$ (Student Z) advances is $80\\%$, the probability that the player with ID $2$ advances is $60\\%$, the probability that the player with ID $3$ advances is $40\\%$, and the probability that the player with ID $4$ advances is $20\\%$.\n\nIn the second round (the final), the probability that player $1$ (Student Z) wins both rounds is $80\\%\\times (60\\%\\times 70\\%+40\\%\\times 60\\%)=52.8\\%$. Therefore, the probability that Student Z loses in the first round is $P_1=1-0.8=0.2$, the probability that he wins the first round but loses in the second round is $P_2=0.8-0.528=0.272$, and the probability that he becomes the champion is $P_3=0.528$.\n\nThus, the expected prize is $0.2\\times 1+(0.8-0.528)\\times 2+0.528\\times 3=2.328$.\n\n#### How to Test Your Output\n\nWe provide `checker` to test whether your output file is acceptable.\n\nAfter calling this program, `checker` will give the result based on your output file, including:\n- Abnormal termination: unknown error.\n- `Format error`: output file format error.\n- `Not a permutation`: the output file is not a permutation of $1\\sim n$.\n- `OK.Your answer is xxx`: the output file is accepted, and `xxx` is the corresponding expected prize.\n\n#### Scoring Method\n\nEach test point is scored independently.\n\nFor each test point, if your output file is invalid (such as wrong format, or the output does not meet the requirements), you get $0$ points for that test point. Otherwise, let your expected prize be $\\text{your\\_ans}$, and the reference expected prize be $\\text{our\\_ans}$. We also have a scoring parameter $d$. Your score for that test point is as follows:\n\n- If $\\text{your\\_ans}>\\text{our\\_ans}$, you get $12$ points.\n- If $\\text{your\\_ans}<\\text{our\\_ans}\\times d$, you get $1$ point.\n- Otherwise, the score is:\n  $$\n  \\left\\lfloor\\frac{\\text{your\\_ans}-\\text{our\\_ans}\\times d}{\\text{our\\_ans}-\\text{our\\_ans}\\times d}\\times 8\\right\\rfloor+2\n  $$\n\n#### Special Note\n\nPlease keep the input files `*.in` and your outputs `*.out` properly, and back them up in time to avoid accidental deletion.\n\n#### Additional Files\n\nYou need to compile and use `checker` by yourself.\n\nPlease go to [Github](https://github.com/MikeMirzayanov/testlib) to download the latest source code of `testlib.h`.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2008] 赛程安排", "background": "", "description": "随着奥运的来临，同学们对体育的热情日益高涨。在 NOI2008 来临之际，学校正在策划组织一场乒乓球赛。小 Z 作为一名狂热的乒乓球爱好者，这正是他大展身手的好机会，于是他摩拳擦掌，积极报名参赛。\n\n本次乒乓球赛采取淘汰赛制，获胜者晋级。恰好有 $n$($n$ 是 $2$ 的整数次幂，不妨设 $n = 2^k$)个同学报名参加，因此第一轮后就会有 $2^{k-1}$ 个同学惨遭淘汰，另外 $2^{k-1}$ 个同学晋级下一轮；第二轮后有 $2^{k-2}$ 名同学晋级下一轮，… 依次类推，直到 $k$ 轮后决出冠亚军：具体的，每个人都有一个 $1\\sim n$ 的初始编号，其中小 Z 编号为 $1$，所有同学的编号都不同，他们将被分配到 $n$ 个位置中，然后按照类似下图的赛程进行比赛：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0n4eu0pc.png)\n\n上图：$n=8$ 时比赛的赛程表\n\n为了吸引更多的同学参加比赛，本次比赛的奖金非常丰厚。在第 $i$ 轮被淘汰的选手将得到奖金 $a_i$ 元，而冠军将获得最高奖金 $a_{k+1}$ 元。显然奖金应满足 $a_1<a_2<\\cdots<a_{k+1}$。\n\n在正式比赛前的热身赛中，小 Z 连连败北。经过认真分析之后，他发现主要的失败原因不是他的球技问题，而是赢他的这几个同学在球风上刚好对他构成相克的关系，所以一经交手，他自然败阵。小 Z 思索：如果在正式比赛中能够避开这几位同学，该有多好啊!\n\n假设已知选手两两之间交手的胜率，即选手 $A$ 战胜选手 $B$ 的概率为 $P_{A,B}$ (保证 $P_{A,B}+P_{B,A}=1$)。于是小 Z 希望能够通过确定比赛的对阵形势（重新给每个选手安排位置），从而能够使得他获得尽可能多的奖金。你能帮助小 Z 安排一个方案，使得他这场比赛期望获得的奖金最高么？", "inputFormat": "这是一道提交答案型试题，所有的输入文件 `match*.in` 已在附加文件中。\n\n输入文件 `match*.in` 第一行包含一个正整数 $n$，表示参赛的总人数，数据保证存在非负整数 $k$，满足 $2^k=n$。\n\n接下来 $n$ 行，每行有 $n$ 个 $0$ 到 $1$ 间的实数 $P_{i,j}$，表示编号为 $i$ 的选手战胜编号为 $j$ 的选手的概率，每个实数精确到小数点后两位。特别注意 $P_{i,i}=0.00$。\n\n接下来 $k+1$ 行，每行一个整数分别为晋级各轮不同的奖金，第 $i$ 行的数为 $a_i$。", "outputFormat": "输出文件 `match*.out` 包括 $n$ 行，第 $i$ 行的数表示位于第 $i$ 个位置的同学的编号，要求小 Z 的编号一定位于第 $1$ 个位置。", "hint": "#### 样例解释\n\n第一轮比赛过后，编号为 $1$ 的选手(小 Z)晋级的概率为 $80\\%$，编号为 $2$ 的选手晋级的概率为 $60\\%$，编号为 $3$ 的选手晋级的概率为 $40\\%$，编号为 $4$ 的选手晋级的概率为 $20\\%$。\n\n第二轮（决赛），编号为 $1$ 的选手（小 Z）前两轮均获胜的概率为 $80\\%\\times (60\\%\\times 70\\%+40\\%\\times 60\\%)=52.8\\%$，因此，小 Z 在第一轮失败的概率 $P_1=1-0.8=0.2$，第一轮胜出但第二轮败北的概率 $P_2=0.8-0.528=0.272$，获得冠军的概率 $P_3=0.528$。\n\n从而，期望奖金为 $0.2\\times 1+(0.8-0.528)\\times 2+0.528\\times 3=2.328$。\n\n#### 如何测试你的输出\n\n我们提供 `checker` 来测试你的输出文件是否可接受。\n\n调用这个程序后，`checker` 将根据你得到的输出文件给出测试的结果，其中包括：\n- 非法退出：未知错误；\n- `Format error`：输出文件格式错误；\n- `Not a permutation`：输出文件不是一个 $1\\sim n$ 的排列；\n- `OK.Your answer is xxx`：输出文件可以被接受，`xxx`为对应的期望奖金。\n\n#### 评分方法\n\n每个测试点单独评分。\n\n对于每一个测试点，如果你的输出文件不合法，如文件格式错误、输出解不符合要求等，该测试点得 $0$ 分。否则如果你的输出的期望奖金为 $\\text{your\\_ans}$，参考期望奖金为 $\\text{our\\_ans}$，我们还设有一个用于评分的参数 $d$，你在该测试点中的得分如下：\n\n- 如果 $\\text{your\\_ans}>\\text{our\\_ans}$，得 $12$ 分。\n- 如果 $\\text{your\\_ans}<\\text{our\\_ans}\\times d$，得 $1$ 分。\n- 否则得分为：\n  $$\n  \\left\\lfloor\\frac{\\text{your\\_ans}-\\text{our\\_ans}\\times d}{\\text{our\\_ans}-\\text{our\\_ans}\\times d}\\times 8\\right\\rfloor+2\n  $$\n\n#### 特别提示\n\n请妥善保存输入文件 `*.in` 和你的输出 `*.out`，及时备份，以免误删。\n\n#### 附加文件\n\nchecker 需要自行编译后使用。\n\n请前往 [Github](https://github.com/MikeMirzayanov/testlib) 下载 testlib.h 的最新源代码。", "locale": "zh-CN"}}}
{"pid": "P5700", "type": "P", "difficulty": 5, "samples": [["2 \n10 10\n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1\n1 1 1 9 8 7 6 5 4 1\n1 1 9 8 7 6 5 4 1 1\n1 1 8 7 6 5 4 1 1 1\n1 1 7 6 5 4 1 1 1 1\n1 1 6 5 4 1 1 1 1 1\n1 1 5 4 1 1 1 1 1 1\n1 1 4 1 1 1 1 1 1 1\n1 1 1 1 1 1 1 1 1 1\n3 3 0 0 0 0 0 0\n8 8 0 0 0 0 0 0", "44\n0 3 3 6 5 3 1 2 4\n3 3 2 3 1 5 6 2 4\n5 4 2 2 4 5 6 1 3\n6 5 2 1 3 5 6 4 2\n10 6 2 4 2 5 6 3 1\n13 7 2 3 1 5 6 2 4\n15 8 2 2 4 5 6 1 3\n16 9 2 1 3 5 6 4 2\n20 10 2 4 2 5 6 3 1\n26 10 3 6 5 4 2 3 1\n28 10 4 2 4 6 5 3 1\n29 9 4 1 3 6 5 2 4\n34 9 5 5 6 1 3 2 4\n38 8 5 4 2 1 3 5 6\n41 8 6 3 1 4 2 5 6\n43 8 7 2 4 3 1 5 6\n44 8 8 1 3 2 4 5 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "图论", "1998", "Special Judge", "枚举", "最短路", "CTSC/CTS"], "title": "[CTSC1998] 罗杰游戏", "background": "CTSC1998 D2T1\n", "description": "罗杰游戏由一张棋盘和罗杰构成。棋盘由很多个小格组成，每个小格上刻有一个数字。其为 $-1$ 或 $0$ 至 $255$ 之间的一个数。罗杰是一个立方体，有六个面，每个面上分别有一个 $1$ 至 $6$ 之间的数字。\n\n我们开始时把罗杰放在棋盘中的一个小格上，然后让其向前、后、左、右四个方向**翻滚**至邻近小格中。\n\n游戏要求经过若干次翻滚后，让罗杰到达指定小格。\n\n**罗杰不得进入标有 $-1$ 的小格，否则游戏结束**。\n\n罗杰每进入一个小格后，将其顶面的数字同该小格的数字相乘，所得结果累加即得到罗杰的旅行费用。\n\n开始时我们能看到罗杰的某些面上的数字，也可以指定当罗杰最终到达目的格时某些面上应出现的数字。对于**不确定的数字**，我们可以在**合法的基础上任意指定**。\n\n**任务一**\n\n罗杰只能向前或向右翻滚。\n\n**任务二**\n\n罗杰可以自由活动。", "inputFormat": "输入文件的第一行是数字 $1$ 或 $2$ 。表示是任务一还是任务二。\n\n文件的第二行是两个整数 $M$ 和 $N$ ，给出了棋盘的列数和行数。\n\n接下来的 $N$ 行每行表示棋盘的一行，有 $M$ 个数，依次给出了该行上每列的数。\n\n其后的两行分别给出了罗杰的出发点信息和到达点信息。\n\n每行开始的两个正整数给出了该格子的列号和行号。\n\n接下来的六个数字分别表示了罗杰的顶，底，前、后、左、右各面的数字。 $0$ 表示可以任意指定。\n\n", "outputFormat": "输出文件的第一行给出罗杰的最小旅行费用。\n\n如果罗杰不可能按要求到达目的地，则输出 $-1$ 。\n\n否则其后每行给出罗杰的旅行情况：\n\n从出发格到目的格，每行表示了罗杰的一个位置，\n\n依次给出罗杰的当前旅行费用、所在格的列编号、行编号，以及罗杰6个面上的数字。\n\n注意这时你的程序必须给出罗杰的完整信息，即各面上的数字不能为 $0$。", "hint": "【数据范围】\n\n$M \\le 40$ , $N \\le 40$  。", "locale": "zh-CN", "translations": {"en": {"title": "[CTSC1998] Roger Game", "background": "CTSC1998 D2T1.", "description": "The Roger Game consists of a board and Roger. The board is made up of many small cells, and each cell has a number engraved on it. This number is either $-1$ or an integer between $0$ and $255$. Roger is a cube with six faces, and each face has a number from $1$ to $6$.\n\nAt the beginning, we place Roger on a cell on the board, and then let it **roll** forward, backward, left, or right into an adjacent cell.\n\nThe game requires that after several rolls, Roger reaches a specified target cell.\n\n**Roger must not enter a cell marked $-1$, otherwise the game ends.**\n\nEach time Roger enters a cell, multiply the number on its top face by the number in that cell, and add the result to the total. This total is Roger's travel cost.\n\nAt the start, we can see the numbers on some faces of Roger. We may also specify that when Roger finally reaches the target cell, some faces should show certain numbers. For **unspecified numbers**, we may **assign them arbitrarily as long as it is valid**.\n\n**Task 1**\n\nRoger can only roll forward or to the right.\n\n**Task 2**\n\nRoger can move freely.", "inputFormat": "The first line of the input file is the number $1$ or $2$, indicating Task 1 or Task 2.\n\nThe second line contains two integers $M$ and $N$, giving the number of columns and the number of rows of the board.\n\nThe next $N$ lines each describe one row of the board, containing $M$ numbers, giving the numbers of the cells in that row from left to right.\n\nThe following two lines give the information for Roger's start cell and target cell, respectively.\n\nEach line begins with two positive integers giving the column index and row index of that cell.\n\nThe next six numbers represent the numbers on Roger's top, bottom, front, back, left, and right faces. A $0$ means it can be assigned arbitrarily.", "outputFormat": "The first line of the output file should give Roger's minimum travel cost.\n\nIf it is impossible for Roger to reach the target as required, output $-1$.\n\nOtherwise, output the travel process, one line per position from the start cell to the target cell.\n\nEach line should contain, in order: the current total travel cost, the column index, the row index, and the numbers on Roger's 6 faces.\n\nNote that your program must output Roger's complete information at this time, i.e. none of the face numbers may be $0$.", "hint": "【Constraints】\n\n$M \\le 40$ , $N \\le 40$ 。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CTSC1998] 罗杰游戏", "background": "CTSC1998 D2T1\n", "description": "罗杰游戏由一张棋盘和罗杰构成。棋盘由很多个小格组成，每个小格上刻有一个数字。其为 $-1$ 或 $0$ 至 $255$ 之间的一个数。罗杰是一个立方体，有六个面，每个面上分别有一个 $1$ 至 $6$ 之间的数字。\n\n我们开始时把罗杰放在棋盘中的一个小格上，然后让其向前、后、左、右四个方向**翻滚**至邻近小格中。\n\n游戏要求经过若干次翻滚后，让罗杰到达指定小格。\n\n**罗杰不得进入标有 $-1$ 的小格，否则游戏结束**。\n\n罗杰每进入一个小格后，将其顶面的数字同该小格的数字相乘，所得结果累加即得到罗杰的旅行费用。\n\n开始时我们能看到罗杰的某些面上的数字，也可以指定当罗杰最终到达目的格时某些面上应出现的数字。对于**不确定的数字**，我们可以在**合法的基础上任意指定**。\n\n**任务一**\n\n罗杰只能向前或向右翻滚。\n\n**任务二**\n\n罗杰可以自由活动。", "inputFormat": "输入文件的第一行是数字 $1$ 或 $2$ 。表示是任务一还是任务二。\n\n文件的第二行是两个整数 $M$ 和 $N$ ，给出了棋盘的列数和行数。\n\n接下来的 $N$ 行每行表示棋盘的一行，有 $M$ 个数，依次给出了该行上每列的数。\n\n其后的两行分别给出了罗杰的出发点信息和到达点信息。\n\n每行开始的两个正整数给出了该格子的列号和行号。\n\n接下来的六个数字分别表示了罗杰的顶，底，前、后、左、右各面的数字。 $0$ 表示可以任意指定。\n\n", "outputFormat": "输出文件的第一行给出罗杰的最小旅行费用。\n\n如果罗杰不可能按要求到达目的地，则输出 $-1$ 。\n\n否则其后每行给出罗杰的旅行情况：\n\n从出发格到目的格，每行表示了罗杰的一个位置，\n\n依次给出罗杰的当前旅行费用、所在格的列编号、行编号，以及罗杰6个面上的数字。\n\n注意这时你的程序必须给出罗杰的完整信息，即各面上的数字不能为 $0$。", "hint": "【数据范围】\n\n$M \\le 40$ , $N \\le 40$  。", "locale": "zh-CN"}}}
{"pid": "P5701", "type": "P", "difficulty": 5, "samples": [["2 \n3\n2 3 4", "0\n8\n2 7\n3 6\n4 8\n5 1\n6 5\n7 4\n8 3\n9 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["1998", "CTSC/CTS"], "title": "[CTSC1998] 站牌位置", "background": "CTSC1998 D2T2\n", "description": "某城市市区规划成网格状，市区由 $n+1$ 条南北走向和 $n+1$ 条东西走向的干道将其平均分为 $n^2$ 个区域， $(n+1)^2$ 个叉路口。区域及叉路口均**由上至下，由左至右**编号。\n\n现在要在城市中划分出若干区域作为游览胜地，每一个游览胜地将会有且仅有一路公共汽车围绕它的四周运行，这路公共汽车将仅在该区域四周的四个叉路口设立四个公共汽车车站。相邻的两个区域（两个区域相邻当且仅当它们有一段公共的公路）将会共用两个公共汽车车站。\n\n政府为每一个公共汽车车站设立一个站牌，站牌号用自然数 $1$ , $2$ ...表示且互不相同，可没想到站牌号的设置令政府大伤脑筋。原来，该城市有三个公交公司，他们有各自的规定，即：\n\n1. 甲公司的一路公共汽车绕某一个区域运行的四个站，应该满足下面条件：从某一个站出发，**顺时针方向**经过的三个站牌牌号**单调递减**，最后回到原来的那个站。\n\n2. 乙公司的一路公共汽车绕某一个区域运行的四个站，应该满足下面条件：从某一个站出发，**逆时针方向**经过的三个站牌牌号**单调递减**，最后回到原来的那个站。\n\n3. 丙公司的一路公共汽车绕某个区域运行的四个站，应该满足下面条件：从某一个站出发，顺时针方向经过的三个站应是站牌号依次**先减少，再增加，再减少，最后再增加**，然后回到原来的那个站。\n\n为公平起见，政府希望找出一个安排站牌的方法，对这 $n$ 个区域所涉及的所有的 $K$ 个站分配站牌。使三个公司能在游览胜地中开辟尽量一样多的公共汽车路线。请你编程解决上述问题。\n\n设三个公司可开辟的公共汽车路线数分别为 $X$ , $Y$ , $Z$ ,\n\n**你应使$S=(X-Y)^2+(Y-Z)^2+(Z-X)^2$最小**。", "inputFormat": "输入文件的第一行为 $n$，第二行为 $m$，表示有 $m$ 个区域为游览胜地，第三行的 $m$ 个数分别为这 $m$ 个区域的编号，相邻的两数之间用一个空格隔开。", "outputFormat": "输出文件的第一行为你所找到的 $S$ 值，第二行为 $K$ ，以下的 $K$ 行每行各有两个数，第一个数为叉路口号，第二个数为你安排该叉路口的公共汽车站牌号（站牌号应为由 $1$ 到 $K$ 的自然数，且各不相同），这 $K$ 行应按叉路口号从小到大输出。", "hint": "【数据范围】\n\n$1 \\leq n \\leq 7$", "locale": "zh-CN", "translations": {"en": {"title": "[CTSC1998] Bus Stop Sign Positions.", "background": "CTSC1998 D2T2.", "description": "A certain city downtown is planned as a grid. The downtown area is evenly divided by $n+1$ north-south main roads and $n+1$ east-west main roads into $n^2$ blocks and $(n+1)^2$ intersections. Both blocks and intersections are numbered **from top to bottom, and from left to right**.\n\nNow, several blocks are chosen as sightseeing areas. For each sightseeing area, there will be exactly one bus route that runs around its four sides, and this bus will set up four bus stops only at the four intersections surrounding that block. Two adjacent blocks (two blocks are adjacent if and only if they share a segment of road) will share two bus stops.\n\nThe government sets up a stop sign for each bus stop. Stop sign numbers are distinct natural numbers $1, 2, \\ldots$. However, assigning these numbers becomes a headache. This is because there are three bus companies in the city, each with its own rule:\n\n1. For Company A, the four stops around a block must satisfy: starting from some stop, the three stop sign numbers encountered **clockwise** are **strictly decreasing**, and then it returns to the original stop.\n\n2. For Company B, the four stops around a block must satisfy: starting from some stop, the three stop sign numbers encountered **counterclockwise** are **strictly decreasing**, and then it returns to the original stop.\n\n3. For Company C, the four stops around a block must satisfy: starting from some stop, going clockwise, the stop sign numbers should **decrease, then increase, then decrease, then increase**, and then it returns to the original stop.\n\nTo be fair, the government wants to find a way to assign stop sign numbers to all $K$ bus stops involved in these $m$ sightseeing blocks, so that the three companies can open as close as possible to the same number of bus routes among the sightseeing areas. Please write a program to solve this problem.\n\nLet the numbers of bus routes that the three companies can open be $X$, $Y$, and $Z$, respectively.\n\nYou should make $S=(X-Y)^2+(Y-Z)^2+(Z-X)^2$ as small as possible.", "inputFormat": "The first line contains $n$.  \nThe second line contains $m$, meaning there are $m$ blocks that are sightseeing areas.  \nThe third line contains $m$ integers, which are the indices of these $m$ blocks, separated by one space.", "outputFormat": "The first line contains the value of $S$ you found.  \nThe second line contains $K$.  \nIn the next $K$ lines, each line contains two integers: the first is an intersection index, and the second is the stop sign number you assign to the bus stop at this intersection (the stop sign numbers should be distinct natural numbers from $1$ to $K$). These $K$ lines should be output in increasing order of the intersection index.", "hint": "Constraints\n\n$1 \\leq n \\leq 7$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CTSC1998] 站牌位置", "background": "CTSC1998 D2T2\n", "description": "某城市市区规划成网格状，市区由 $n+1$ 条南北走向和 $n+1$ 条东西走向的干道将其平均分为 $n^2$ 个区域， $(n+1)^2$ 个叉路口。区域及叉路口均**由上至下，由左至右**编号。\n\n现在要在城市中划分出若干区域作为游览胜地，每一个游览胜地将会有且仅有一路公共汽车围绕它的四周运行，这路公共汽车将仅在该区域四周的四个叉路口设立四个公共汽车车站。相邻的两个区域（两个区域相邻当且仅当它们有一段公共的公路）将会共用两个公共汽车车站。\n\n政府为每一个公共汽车车站设立一个站牌，站牌号用自然数 $1$ , $2$ ...表示且互不相同，可没想到站牌号的设置令政府大伤脑筋。原来，该城市有三个公交公司，他们有各自的规定，即：\n\n1. 甲公司的一路公共汽车绕某一个区域运行的四个站，应该满足下面条件：从某一个站出发，**顺时针方向**经过的三个站牌牌号**单调递减**，最后回到原来的那个站。\n\n2. 乙公司的一路公共汽车绕某一个区域运行的四个站，应该满足下面条件：从某一个站出发，**逆时针方向**经过的三个站牌牌号**单调递减**，最后回到原来的那个站。\n\n3. 丙公司的一路公共汽车绕某个区域运行的四个站，应该满足下面条件：从某一个站出发，顺时针方向经过的三个站应是站牌号依次**先减少，再增加，再减少，最后再增加**，然后回到原来的那个站。\n\n为公平起见，政府希望找出一个安排站牌的方法，对这 $n$ 个区域所涉及的所有的 $K$ 个站分配站牌。使三个公司能在游览胜地中开辟尽量一样多的公共汽车路线。请你编程解决上述问题。\n\n设三个公司可开辟的公共汽车路线数分别为 $X$ , $Y$ , $Z$ ,\n\n**你应使$S=(X-Y)^2+(Y-Z)^2+(Z-X)^2$最小**。", "inputFormat": "输入文件的第一行为 $n$，第二行为 $m$，表示有 $m$ 个区域为游览胜地，第三行的 $m$ 个数分别为这 $m$ 个区域的编号，相邻的两数之间用一个空格隔开。", "outputFormat": "输出文件的第一行为你所找到的 $S$ 值，第二行为 $K$ ，以下的 $K$ 行每行各有两个数，第一个数为叉路口号，第二个数为你安排该叉路口的公共汽车站牌号（站牌号应为由 $1$ 到 $K$ 的自然数，且各不相同），这 $K$ 行应按叉路口号从小到大输出。", "hint": "【数据范围】\n\n$1 \\leq n \\leq 7$", "locale": "zh-CN"}}}
{"pid": "P5702", "type": "P", "difficulty": 7, "samples": [["5\n998007 998244353 3\n19260817 998244353 3\n274829164 998244353 3\n792846153 998244353 3\n1924762 899678209 7", "429767635\n632288905\n445668022\n128133635\n3097708"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "倍增", "O2优化", "快速傅里叶变换 FFT"], "title": "调和级数求和", "background": "", "description": "给定 $n,p$，求：\n\n$$\\sum_{i=1}^n \\frac 1i $$\n\n对 $p$ 取模的值。\n\n如果你不知道怎么对分数取模，可以看[这题](https://www.luogu.com.cn/problem/P2613)。  \n保证答案在模 $p$ 意义下存在。\n\n为了方便你的计算，这里将给出 $p$ 的最小原根 $g$。", "inputFormat": "输入第一行一个正整数 $T$，表示数据组数。  \n接下来 $T$ 行，每行三个正整数 $n,p,g$。", "outputFormat": "输出 $T$ 行，每行一个整数表示答案。", "hint": "【数据范围】  \n对于 $30\\%$ 的数据，$1\\le n \\le 10^6$；  \n对于 $100\\%$ 的数据，$1 \\le n < p < 2^{30}$，$1\\le T \\le 20$。  \n保证 $p$ 为质数，且 $p-1$ 可以被 $2^{19}$ 整除。\n\n注：时限为 std 的三倍，如果过不去请确认时间复杂度正确，并优化常数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "调和级数求和", "background": "", "description": "给定 $n,p$，求：\n\n$$\\sum_{i=1}^n \\frac 1i $$\n\n对 $p$ 取模的值。\n\n如果你不知道怎么对分数取模，可以看[这题](https://www.luogu.com.cn/problem/P2613)。  \n保证答案在模 $p$ 意义下存在。\n\n为了方便你的计算，这里将给出 $p$ 的最小原根 $g$。", "inputFormat": "输入第一行一个正整数 $T$，表示数据组数。  \n接下来 $T$ 行，每行三个正整数 $n,p,g$。", "outputFormat": "输出 $T$ 行，每行一个整数表示答案。", "hint": "【数据范围】  \n对于 $30\\%$ 的数据，$1\\le n \\le 10^6$；  \n对于 $100\\%$ 的数据，$1 \\le n < p < 2^{30}$，$1\\le T \\le 20$。  \n保证 $p$ 为质数，且 $p-1$ 可以被 $2^{19}$ 整除。\n\n注：时限为 std 的三倍，如果过不去请确认时间复杂度正确，并优化常数。", "locale": "zh-CN"}}}
{"pid": "P5703", "type": "P", "difficulty": 1, "samples": [["5 3\n", "15\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["顺序结构"], "title": "【深基2.例5】苹果采购", "background": "", "description": "现在需要采购一些苹果，每名同学都可以分到固定数量的苹果，并且已经知道了同学的数量，请问需要采购多少个苹果？", "inputFormat": "输入两个不超过 $10^9$ 正整数，分别表示每人分到的数量和同学的人数。", "outputFormat": "一个整数，表示答案。保证输入和答案都在 int 范围内的非负整数。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[Shenji 2.Example 5] Apple Purchase", "background": "", "description": "Now you need to purchase some apples. Each student can receive a fixed number of apples, and the number of students is already known. How many apples do you need to purchase?", "inputFormat": "Input two positive integers not exceeding $10^9$, representing the number each person receives and the number of students.", "outputFormat": "Output one integer, representing the answer. It is guaranteed that both the input and the answer are non-negative integers within the int range.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.例5】苹果采购", "background": "", "description": "现在需要采购一些苹果，每名同学都可以分到固定数量的苹果，并且已经知道了同学的数量，请问需要采购多少个苹果？", "inputFormat": "输入两个不超过 $10^9$ 正整数，分别表示每人分到的数量和同学的人数。", "outputFormat": "一个整数，表示答案。保证输入和答案都在 int 范围内的非负整数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P5704", "type": "P", "difficulty": 1, "samples": [["q", "Q"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["顺序结构"], "title": "【深基2.例6】字母转换", "background": "", "description": "输入一个小写字母，输出其对应的大写字母。例如输入 q[回车] 时，会输出 Q。", "inputFormat": "", "outputFormat": "", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[Deep Basic 2.Example 6] Letter Conversion", "background": "", "description": "Input a lowercase letter and output its corresponding uppercase letter. For example, if the input is q [Enter], the output will be Q.", "inputFormat": "", "outputFormat": "", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.例6】字母转换", "background": "", "description": "输入一个小写字母，输出其对应的大写字母。例如输入 q[回车] 时，会输出 Q。", "inputFormat": "", "outputFormat": "", "hint": "", "locale": "zh-CN"}}}
{"pid": "P5705", "type": "P", "difficulty": 1, "samples": [["123.4", "4.321"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["顺序结构"], "title": "【深基2.例7】数字反转", "background": "", "description": "输入一个不小于 $100$ 且小于 $1000$，同时包括小数点后一位的一个浮点数，例如 $123.4$ ，要求把这个数字翻转过来，变成 $4.321$ 并输出。", "inputFormat": "一行一个浮点数", "outputFormat": "一行一个浮点数", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[Deep Basics 2.Example 7] Number Reversal", "background": "", "description": "Input a floating-point number that is not less than $100$ and less than $1000$, and has exactly one digit after the decimal point, such as $123.4$. Reverse this number to get $4.321$ and output it.", "inputFormat": "One line with one floating-point number.", "outputFormat": "One line with one floating-point number.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.例7】数字反转", "background": "", "description": "输入一个不小于 $100$ 且小于 $1000$，同时包括小数点后一位的一个浮点数，例如 $123.4$ ，要求把这个数字翻转过来，变成 $4.321$ 并输出。", "inputFormat": "一行一个浮点数", "outputFormat": "一行一个浮点数", "hint": "", "locale": "zh-CN"}}}
{"pid": "P5706", "type": "P", "difficulty": 1, "samples": [["500.0 3", "166.667\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["顺序结构"], "title": "【深基2.例8】再分肥宅水", "background": "", "description": "现在有 $t$ 毫升肥宅快乐水，要均分给 $n$ 名同学。每名同学需要 $2$ 个杯子。现在想知道每名同学可以获得多少毫升饮料（严格精确到小数点后 $3$ 位），以及一共需要多少个杯子。\n\n", "inputFormat": "输入一个实数 $t$ 和一个正整数 $n$，使用空格隔开。", "outputFormat": "输出两行。\n\n第一行输出一个三位小数，表示可以获得多少毫升饮料。第二行输出一个正整数，表示一共需要多少个杯子。", "hint": "对于所有数据，$0\\leq t\\leq 10000$ 且小数点后不超过 $3$ 位，$1\\leq n\\leq 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[Shenji 2.Example 8] Re-divide Soda", "background": "", "description": "Now there are $t$ milliliters of soda, which will be divided equally among $n$ students. Each student needs $2$ cups. Now you want to know how many milliliters of drink each student can get (accurate strictly to $3$ digits after the decimal point), and how many cups are needed in total.", "inputFormat": "Input a real number $t$ and a positive integer $n$, separated by a space.", "outputFormat": "Output two lines.\n\nOn the first line, output a number with three digits after the decimal point, representing how many milliliters of drink each student can get. On the second line, output a positive integer, representing how many cups are needed in total.", "hint": "For all data, $0\\leq t\\leq 10000$ and there are no more than $3$ digits after the decimal point, $1\\leq n\\leq 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.例8】再分肥宅水", "background": "", "description": "现在有 $t$ 毫升肥宅快乐水，要均分给 $n$ 名同学。每名同学需要 $2$ 个杯子。现在想知道每名同学可以获得多少毫升饮料（严格精确到小数点后 $3$ 位），以及一共需要多少个杯子。\n\n", "inputFormat": "输入一个实数 $t$ 和一个正整数 $n$，使用空格隔开。", "outputFormat": "输出两行。\n\n第一行输出一个三位小数，表示可以获得多少毫升饮料。第二行输出一个正整数，表示一共需要多少个杯子。", "hint": "对于所有数据，$0\\leq t\\leq 10000$ 且小数点后不超过 $3$ 位，$1\\leq n\\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P5707", "type": "P", "difficulty": 2, "samples": [["100 99", "07:48"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "【深基2.例12】上学迟到", "background": "", "description": "学校和 yyy 的家之间的距离为 $s$ 米，而 yyy 以 $v$ 米每分钟的速度匀速走向学校。\n\n在上学的路上，yyy 还要额外花费 $10$ 分钟的时间进行垃圾分类。\n\n学校要求必须在上午 $\\textrm{8:00}$  到达，请计算在不迟到的前提下，yyy 最晚能什么时候出门。\n\n由于路途遥远，yyy 可能不得不提前一点出发，但是提前的时间不会超过一天。", "inputFormat": "一行两个正整数 $s,v$，分别代表路程和速度。", "outputFormat": "输出一个 $24$ 小时制下的时间，代表 yyy 最晚的出发时间。\n\n输出格式为 $\\texttt{HH:MM}$，分别代表该时间的时和分。必须输出两位，不足前面补 $0$。", "hint": "对于 $100\\%$ 的数据，$1 \\le s,v \\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[Shen Ji 2. Example 12] Late for School", "background": "", "description": "The distance between the school and yyy's home is $s$ meters, and yyy walks to school at a constant speed of $v$ meters per minute.\n\nOn the way to school, yyy also needs an extra $10$ minutes to do garbage sorting.\n\nThe school requires that yyy must arrive by $\\textrm{8:00}$ a.m. Please calculate the latest time yyy can leave home without being late.\n\nBecause the trip is long, yyy may have to leave a bit earlier, but the time left earlier will not exceed one day.", "inputFormat": "One line with two positive integers $s, v$, representing the distance and the speed.", "outputFormat": "Output a time in 24-hour format, representing the latest departure time for yyy.\n\nThe output format is $\\texttt{HH:MM}$, which represents the hour and minute. You must output two digits for each; if not enough, pad with $0$ in front.", "hint": "For $100\\%$ of the testdata, $1 \\le s, v \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.例12】上学迟到", "background": "", "description": "学校和 yyy 的家之间的距离为 $s$ 米，而 yyy 以 $v$ 米每分钟的速度匀速走向学校。\n\n在上学的路上，yyy 还要额外花费 $10$ 分钟的时间进行垃圾分类。\n\n学校要求必须在上午 $\\textrm{8:00}$  到达，请计算在不迟到的前提下，yyy 最晚能什么时候出门。\n\n由于路途遥远，yyy 可能不得不提前一点出发，但是提前的时间不会超过一天。", "inputFormat": "一行两个正整数 $s,v$，分别代表路程和速度。", "outputFormat": "输出一个 $24$ 小时制下的时间，代表 yyy 最晚的出发时间。\n\n输出格式为 $\\texttt{HH:MM}$，分别代表该时间的时和分。必须输出两位，不足前面补 $0$。", "hint": "对于 $100\\%$ 的数据，$1 \\le s,v \\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P5708", "type": "P", "difficulty": 1, "samples": [["3 4 5", "6.0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "顺序结构"], "title": "【深基2.习2】三角形面积", "background": "", "description": "一个三角形的三边长分别是 $a$、$b$、$c$，那么它的面积为 $\\sqrt{p(p-a)(p-b)(p-c)}$，其中 $p=\\frac{1}{2}(a+b+c)$。输入这三个数字，计算三角形的面积，四舍五入精确到 $1$ 位小数。\n", "inputFormat": "第一行输入三个实数 $a,b,c$，以空格隔开。", "outputFormat": "输出一个实数，表示三角形面积。精确到小数点后 $1$ 位。", "hint": "数据保证能构成三角形，$0\\leq a,b,c\\leq 1000$，每个边长输入时不超过 $2$ 位小数。", "locale": "zh-CN", "translations": {"en": {"title": "[Shenji 2. Exercise 2] Triangle Area", "background": "", "description": "The lengths of the three sides of a triangle are $a$, $b$, and $c$. Its area is $\\sqrt{p(p-a)(p-b)(p-c)}$, where $p=\\frac{1}{2}(a+b+c)$. Given these three numbers, compute the area of the triangle and round it to $1$ decimal place.", "inputFormat": "The first line contains three real numbers $a$, $b$, and $c$, separated by spaces.", "outputFormat": "Output one real number representing the area of the triangle, accurate to $1$ digit after the decimal point.", "hint": "Constraints: The testdata guarantees that a triangle can be formed. $0\\leq a,b,c\\leq 1000$. Each side length has at most $2$ digits after the decimal point in the input.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.习2】三角形面积", "background": "", "description": "一个三角形的三边长分别是 $a$、$b$、$c$，那么它的面积为 $\\sqrt{p(p-a)(p-b)(p-c)}$，其中 $p=\\frac{1}{2}(a+b+c)$。输入这三个数字，计算三角形的面积，四舍五入精确到 $1$ 位小数。\n", "inputFormat": "第一行输入三个实数 $a,b,c$，以空格隔开。", "outputFormat": "输出一个实数，表示三角形面积。精确到小数点后 $1$ 位。", "hint": "数据保证能构成三角形，$0\\leq a,b,c\\leq 1000$，每个边长输入时不超过 $2$ 位小数。", "locale": "zh-CN"}}}
{"pid": "P5709", "type": "P", "difficulty": 1, "samples": [["50 10 200", "30"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "【深基2.习6】Apples Prologue / 苹果和虫子", "background": "", "description": "小 B 喜欢吃苹果。她现在有 $m$（$1 \\le m \\le 100$）个苹果，吃完一个苹果需要花费 $t$（$0 \\le t \\le 100$）分钟，吃完一个后立刻开始吃下一个。现在时间过去了 $s$（$1 \\le s \\le 10000$）分钟，请问她还有几个完整的苹果？", "inputFormat": "输入三个**非负整数**表示 $m, t, s$。", "outputFormat": "输出一个整数表示答案。\n\n", "hint": "如果你出现了 RE，不如检查一下被零除？", "locale": "zh-CN", "translations": {"en": {"title": "[Shenji 2.Exercise 6] Apples Prologue / Apples and Worms.", "background": "", "description": "Little B likes eating apples. She now has $m$ ($1 \\le m \\le 100$) apples. It takes $t$ ($0 \\le t \\le 100$) minutes to finish one apple, and after finishing one, she immediately starts eating the next one. Now $s$ ($1 \\le s \\le 10000$) minutes have passed. How many whole apples does she have left?", "inputFormat": "Input three **non-negative integers** representing $m, t, s$.", "outputFormat": "Output one integer representing the answer.", "hint": "If you get RE, you might want to check whether you are dividing by zero.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基2.习6】Apples Prologue / 苹果和虫子", "background": "", "description": "小 B 喜欢吃苹果。她现在有 $m$（$1 \\le m \\le 100$）个苹果，吃完一个苹果需要花费 $t$（$0 \\le t \\le 100$）分钟，吃完一个后立刻开始吃下一个。现在时间过去了 $s$（$1 \\le s \\le 10000$）分钟，请问她还有几个完整的苹果？", "inputFormat": "输入三个**非负整数**表示 $m, t, s$。", "outputFormat": "输出一个整数表示答案。\n\n", "hint": "如果你出现了 RE，不如检查一下被零除？", "locale": "zh-CN"}}}
{"pid": "P5710", "type": "P", "difficulty": 1, "samples": [["12", "1 1 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "【深基3.例2】数的性质", "background": "", "description": "一些整数可能拥有以下的性质：\n\n- 性质 1：是偶数；\n- 性质 2：大于 $4$ 且不大于 $12$。\n\n小 A 喜欢这两个性质同时成立的整数；Uim 喜欢这至少符合其中一种性质的整数；小 B 喜欢刚好有符合其中一个性质的整数；正妹喜欢不符合这两个性质的整数。现在给出一个整数 $x$，请问他们是否喜欢这个整数？", "inputFormat": "输入一个整数 $x(0\\le x \\le 1000)$", "outputFormat": "输出这 $4$ 个人是否喜欢这个数字，如果喜欢则输出 `1`，否则输出 `0`，用空格分隔。输出顺序为：小 A、Uim、小 B、正妹。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[Shenji 3. Example 2] Properties of Numbers", "background": "", "description": "Some integers may have the following properties:\n\n- Property 1: It is an even number.\n- Property 2: It is greater than $4$ and not greater than $12$.\n\nXiao A likes integers that satisfy both properties at the same time. Uim likes integers that satisfy at least one of these properties. Xiao B likes integers that satisfy exactly one of these properties. Zhengmei likes integers that satisfy neither of these properties. Now given an integer $x$, determine whether each of them likes this integer.", "inputFormat": "Input an integer $x(0 \\le x \\le 1000)$.", "outputFormat": "Output whether these $4$ people like this number. Output `1` if they like it, otherwise output `0`, separated by spaces. The output order is: Xiao A, Uim, Xiao B, Zhengmei.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基3.例2】数的性质", "background": "", "description": "一些整数可能拥有以下的性质：\n\n- 性质 1：是偶数；\n- 性质 2：大于 $4$ 且不大于 $12$。\n\n小 A 喜欢这两个性质同时成立的整数；Uim 喜欢这至少符合其中一种性质的整数；小 B 喜欢刚好有符合其中一个性质的整数；正妹喜欢不符合这两个性质的整数。现在给出一个整数 $x$，请问他们是否喜欢这个整数？", "inputFormat": "输入一个整数 $x(0\\le x \\le 1000)$", "outputFormat": "输出这 $4$ 个人是否喜欢这个数字，如果喜欢则输出 `1`，否则输出 `0`，用空格分隔。输出顺序为：小 A、Uim、小 B、正妹。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P5711", "type": "P", "difficulty": 1, "samples": [["1926", "0"], ["1900", "0"], ["2000", "1"], ["1996", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "【深基3.例3】闰年判断", "background": "", "description": "输入一个年份，判断这一年是否是闰年，如果是输出 $1$，否则输出 $0$。\n\n$1582$ 年以来，闰年的定义：\n\n普通闰年：公历年份是 $4$ 的倍数，且不是 $100$ 的倍数的，为闰年（如 $2004$ 年、$2020$ 年等就是闰年）。\n\n世纪闰年：公历年份是整百数的，必须是 $400$ 的倍数才是闰年（如 $1900$ 年不是闰年，$2000$ 年是闰年）。", "inputFormat": "输入一个正整数 $n$，表示年份。", "outputFormat": "输出一行。如果输入的年份是闰年则输出 $1$，否则输出 $0$。", "hint": "数据保证，$1582 \\leq n \\leq 2020$ 且年份为自然数。", "locale": "zh-CN", "translations": {"en": {"title": "[Shenji 3.Example 3] Leap Year Check", "background": "", "description": "Input a year and determine whether it is a leap year. If it is, output $1$; otherwise, output $0$.\n\nSince year $1582$, the definition of a leap year is:\n\nCommon leap year: A Gregorian year that is a multiple of $4$ and not a multiple of $100$ is a leap year (for example, years $2004$ and $2020$ are leap years).\n\nCentury leap year: If a Gregorian year is a whole hundred, it must also be a multiple of $400$ to be a leap year (for example, year $1900$ is not a leap year, and year $2000$ is a leap year).", "inputFormat": "Input a positive integer $n$, representing the year.", "outputFormat": "Output one line. If the input year is a leap year, output $1$; otherwise, output $0$.", "hint": "The testdata guarantees that $1582 \\leq n \\leq 2020$, and the year is a natural number.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基3.例3】闰年判断", "background": "", "description": "输入一个年份，判断这一年是否是闰年，如果是输出 $1$，否则输出 $0$。\n\n$1582$ 年以来，闰年的定义：\n\n普通闰年：公历年份是 $4$ 的倍数，且不是 $100$ 的倍数的，为闰年（如 $2004$ 年、$2020$ 年等就是闰年）。\n\n世纪闰年：公历年份是整百数的，必须是 $400$ 的倍数才是闰年（如 $1900$ 年不是闰年，$2000$ 年是闰年）。", "inputFormat": "输入一个正整数 $n$，表示年份。", "outputFormat": "输出一行。如果输入的年份是闰年则输出 $1$，否则输出 $0$。", "hint": "数据保证，$1582 \\leq n \\leq 2020$ 且年份为自然数。", "locale": "zh-CN"}}}
