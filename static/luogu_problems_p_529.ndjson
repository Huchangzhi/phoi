{"pid": "P11739", "type": "P", "difficulty": 7, "samples": [["5 3\n5 5 4 5 5\n3 0 3 2 3", "295164 295326"], ["10 5\n13 11 17 7 9 2 11 11 10 12\n7 9 4 15 18 4 9 7 4 2", "75340090 59089865"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2015", "集训队互测", "多项式"], "title": "[集训队互测 2015] 普罗达科特", "background": "", "description": "令 $N = \\prod_{i = 1}^{n} p_i^{a_i}$，$M = \\prod_{i = 1}^{n} p_i^{b_i}$，其中 $p_i$ 是两两不同的素数。\n\n求将 $N$ 表示成 $k$ 个正整数的乘积的方案数，也就是 $N = \\prod_{i = 1}^k x_i$ 的解的个数，答案对 $10^9 + 21$ 取模。\n\n对于子问题 $1$，要求对于所有整数 $i$ 满足 $1 \\leq i < k$，都有 $x_i < x_{i + 1}$。\n\n对于子问题 $2$，要求对于所有整数 $i$ 满足 $1 \\leq i < k$，都有 $x_i \\leq x_{i + 1}$。\n\n对于两个子问题都要求对于所有整数 $i$ 满足 $1 \\leq i \\leq k$ 都有 $x_i \\nmid M$，即 $x_i$ 不是 $M$ 的约数。", "inputFormat": "第一行两个正整数 $n, k$。\n\n接下来一行 $n$ 个非负整数，第 $i$ 个整数表示 $a_i$。\n\n接下来一行 $n$ 个非负整数，第 $i$ 个整数表示 $b_i$。\n\n输入中没有给出 $p_1, \\dots, p_n$，显然 $p_i$ 的取值并不影响答案。", "outputFormat": "一行两个整数，分别表示子问题 1 和 2 的答案。", "hint": "| 测试点编号 |      $n$      |      $a_i$      |      $b_i$      |      $k$      |\n|:--------:|:------------:|:------------:|:------------:|:------------:|\n|     1    |  $\\leq 5$   |  $\\leq 5$   |  $\\leq 5$   |  $\\leq 3$   |\n|     2    |  $\\leq 10$  |  $\\leq 20$  |  $\\leq 20$  |  $\\leq 5$   |\n|     3    |  $= 1$   |  $\\leq 10^{18}$  |  $\\leq 10^{18}$  |  $\\leq 25$  |\n|     4    |  $\\leq 50$  |  $\\leq 10^3$  |  $= 0$  |  $\\leq 20$  |\n|     5    |  $\\leq 50$  |  $\\leq 10^{18}$  |        $= 0$    |  $\\leq 25$  |\n|     6    |  $\\leq 50$  |  $\\leq 10^3$  |  $\\leq 10^3$  |  $\\leq 10$  |\n|     7    |  $\\leq 50$  | $\\leq 10^{18}$  |  $\\leq 10^{18}$  |  $\\leq 10$  |\n|     8    |  $\\leq 50$ | $\\leq 10^{18}$ | $\\leq 10^{18}$ |  $\\leq 15$  |\n|     9    |  $\\leq 50$ | $\\leq 10^{18}$ | $\\leq 10^{18}$ |  $\\leq 20$  |\n|    10    |  $\\leq 50$ | $\\leq 10^{18}$ | $\\leq 10^{18}$ |  $\\leq 25$  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[集训队互测 2015] 普罗达科特", "background": "", "description": "令 $N = \\prod_{i = 1}^{n} p_i^{a_i}$，$M = \\prod_{i = 1}^{n} p_i^{b_i}$，其中 $p_i$ 是两两不同的素数。\n\n求将 $N$ 表示成 $k$ 个正整数的乘积的方案数，也就是 $N = \\prod_{i = 1}^k x_i$ 的解的个数，答案对 $10^9 + 21$ 取模。\n\n对于子问题 $1$，要求对于所有整数 $i$ 满足 $1 \\leq i < k$，都有 $x_i < x_{i + 1}$。\n\n对于子问题 $2$，要求对于所有整数 $i$ 满足 $1 \\leq i < k$，都有 $x_i \\leq x_{i + 1}$。\n\n对于两个子问题都要求对于所有整数 $i$ 满足 $1 \\leq i \\leq k$ 都有 $x_i \\nmid M$，即 $x_i$ 不是 $M$ 的约数。", "inputFormat": "第一行两个正整数 $n, k$。\n\n接下来一行 $n$ 个非负整数，第 $i$ 个整数表示 $a_i$。\n\n接下来一行 $n$ 个非负整数，第 $i$ 个整数表示 $b_i$。\n\n输入中没有给出 $p_1, \\dots, p_n$，显然 $p_i$ 的取值并不影响答案。", "outputFormat": "一行两个整数，分别表示子问题 1 和 2 的答案。", "hint": "| 测试点编号 |      $n$      |      $a_i$      |      $b_i$      |      $k$      |\n|:--------:|:------------:|:------------:|:------------:|:------------:|\n|     1    |  $\\leq 5$   |  $\\leq 5$   |  $\\leq 5$   |  $\\leq 3$   |\n|     2    |  $\\leq 10$  |  $\\leq 20$  |  $\\leq 20$  |  $\\leq 5$   |\n|     3    |  $= 1$   |  $\\leq 10^{18}$  |  $\\leq 10^{18}$  |  $\\leq 25$  |\n|     4    |  $\\leq 50$  |  $\\leq 10^3$  |  $= 0$  |  $\\leq 20$  |\n|     5    |  $\\leq 50$  |  $\\leq 10^{18}$  |        $= 0$    |  $\\leq 25$  |\n|     6    |  $\\leq 50$  |  $\\leq 10^3$  |  $\\leq 10^3$  |  $\\leq 10$  |\n|     7    |  $\\leq 50$  | $\\leq 10^{18}$  |  $\\leq 10^{18}$  |  $\\leq 10$  |\n|     8    |  $\\leq 50$ | $\\leq 10^{18}$ | $\\leq 10^{18}$ |  $\\leq 15$  |\n|     9    |  $\\leq 50$ | $\\leq 10^{18}$ | $\\leq 10^{18}$ |  $\\leq 20$  |\n|    10    |  $\\leq 50$ | $\\leq 10^{18}$ | $\\leq 10^{18}$ |  $\\leq 25$  |", "locale": "zh-CN"}}}
{"pid": "P11740", "type": "P", "difficulty": 7, "samples": [["3 3 0\n5 0 1 1 1 2\n1 1\n2 1 1\n4\n0 1 1\n3 0 1 1 1\n2 2 1\n1 1 2 0 0 1", "3 0 1\n3"], ["3 3 1\n5 0 1 1 1 2\n1 1\n2 1 1\n4\n0 1 1\n3 0 1 1 1\n3 3 0\n0 0 3 1 1 0", "3 0 1\n3"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "集训队互测"], "title": "[集训队互测 2015] ydc 的字符串", "background": "", "description": "ydc 很喜欢字符串，他有特别的视角看待字符串。\n\n字符串是由字符组成的。字符一共 $m$ 种，分别编号为 $0, \\dots, m-1$。\n\n对于整数 $l, r$，如果两个字符串 $s, t$ 满足在 $s$ 最前面加一个编号在区间 $[l, r]$ 以内的字符后两串相等，那么就称 $s$ 能通过 $[l, r]$ 与 $t$ 相等。\n\nydc 将给你 $n$ 个字符串，编号为 $1, \\dots, n$，并要求进行 $q$ 次操作，每次操作形如以下四种之一：\n\n* 操作 0：在第 $x$ 个字符串后面加上一个字符 $c$。保证 $1 \\leq x \\leq n$，$0 \\leq c < m$。\n* 操作 1：询问当前第 $x$ 个字符串中有多少个子串满足在第 $k$ 个操作过后的第 $y$ 个字符串能通过 $[l, r]$ 与该子串相等。$k$ 是小于当前操作编号的非负整数，$k = 0$ 表示在所有操作之前。保证 $1 \\leq x, y \\leq n$，$0 \\leq l \\leq r < m$。\n* 操作 2：将第 $x$ 个字符串改成第 $y$ 个字符串。保证 $1 \\leq x, y \\leq n$。\n* 操作 3：给你一个字符串 $s$，对于这 $n$ 个串中的每个串询问有多少个子串满足 $s$ 能通过 $[l, r]$ 与该子串相等，$0 \\leq l \\leq r < m$。\n\n另外，输入文件可能被加密来强制你在线进行操作。", "inputFormat": "第一行三个整数数，$n,m,\\mathrm{ty}$，分别表示字符串个数，字符集大小，以及是否数据是否被加密。如果数据被加密，则 $\\mathrm{ty}$ 的值为 $1$，否则为 $0$。\n\n如果数据被加密，令 $\\mathrm{lastans}$ 为当前操作之前最后一个输出的数（如果此前没有输出则 $\\mathrm{lastans} = 0$）。那么当前操作中读入的所有数均被加密成了原数异或 $\\mathrm{lastans}$。\n\n字符串将按照如下格式给出：第一个数为一个正整数 $l$ 表示字符串的长度，后面跟着 $l$ 个整数，两两之间用空格隔开，表示每个位置上的字符编号。\n\n接下来 $n$ 行，第 $i$ 行将给出第 $i$ 个字符串。\n\n再读入一个正整数 $q$，即操作数。\n\n接着 $q$ 行，每行为一个操作的信息。每行第一个数为操作的类型编号。\n\n- 如果是操作 $0$，那么接着两个整数 $x, c$。\n- 如果是操作 $1$，那么接着五个整数 $x,y,k,l,r$。\n- 如果是操作 $2$，那么接着两个整数 $x,y$。\n- 如果是操作 $3$，那么接着两个整数 $l,r$ 和一个字符串 $s$。", "outputFormat": "按照输入顺序回答询问。\n\n对于每个操作 $1$，输出一行一个整数表示答案。\n\n对于每个操作 $3$，输出一行 $n$ 个整数分别表示每个字符串中满足条件的子串个数。", "hint": "### 数据范围\n\n对于所有数据，$2 \\leq n \\leq 5$，$1 \\leq m \\leq 10^5$，$1 \\leq q \\leq 2 \\times 10^5$。初始 $n$ 个串的总长度不超过 $2 \\times 10^5+20$。操作 $3$ 中读入的串总长度不超过 $10^6$。\n\n保证数据合法。保证存在一个长度不超过 $4 \\times 10^5$ 的字符串使得任意时刻那 $n$ 个串均是它的子串。\n\n- 对于前 $30\\%$ 的数据，保证 $q \\leq 1000$，初始 $n$ 个串的总长度不超过 $1000+20$，操作 3 中读入的串总长度不超过 $10^4$。\n- 对于前 $60\\%$ 的数据，保证所有的 $l=0$，$r=m-1$。\n- 对于前 $80\\%$ 的数据，保证数据没有被加密。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[集训队互测 2015] ydc 的字符串", "background": "", "description": "ydc 很喜欢字符串，他有特别的视角看待字符串。\n\n字符串是由字符组成的。字符一共 $m$ 种，分别编号为 $0, \\dots, m-1$。\n\n对于整数 $l, r$，如果两个字符串 $s, t$ 满足在 $s$ 最前面加一个编号在区间 $[l, r]$ 以内的字符后两串相等，那么就称 $s$ 能通过 $[l, r]$ 与 $t$ 相等。\n\nydc 将给你 $n$ 个字符串，编号为 $1, \\dots, n$，并要求进行 $q$ 次操作，每次操作形如以下四种之一：\n\n* 操作 0：在第 $x$ 个字符串后面加上一个字符 $c$。保证 $1 \\leq x \\leq n$，$0 \\leq c < m$。\n* 操作 1：询问当前第 $x$ 个字符串中有多少个子串满足在第 $k$ 个操作过后的第 $y$ 个字符串能通过 $[l, r]$ 与该子串相等。$k$ 是小于当前操作编号的非负整数，$k = 0$ 表示在所有操作之前。保证 $1 \\leq x, y \\leq n$，$0 \\leq l \\leq r < m$。\n* 操作 2：将第 $x$ 个字符串改成第 $y$ 个字符串。保证 $1 \\leq x, y \\leq n$。\n* 操作 3：给你一个字符串 $s$，对于这 $n$ 个串中的每个串询问有多少个子串满足 $s$ 能通过 $[l, r]$ 与该子串相等，$0 \\leq l \\leq r < m$。\n\n另外，输入文件可能被加密来强制你在线进行操作。", "inputFormat": "第一行三个整数数，$n,m,\\mathrm{ty}$，分别表示字符串个数，字符集大小，以及是否数据是否被加密。如果数据被加密，则 $\\mathrm{ty}$ 的值为 $1$，否则为 $0$。\n\n如果数据被加密，令 $\\mathrm{lastans}$ 为当前操作之前最后一个输出的数（如果此前没有输出则 $\\mathrm{lastans} = 0$）。那么当前操作中读入的所有数均被加密成了原数异或 $\\mathrm{lastans}$。\n\n字符串将按照如下格式给出：第一个数为一个正整数 $l$ 表示字符串的长度，后面跟着 $l$ 个整数，两两之间用空格隔开，表示每个位置上的字符编号。\n\n接下来 $n$ 行，第 $i$ 行将给出第 $i$ 个字符串。\n\n再读入一个正整数 $q$，即操作数。\n\n接着 $q$ 行，每行为一个操作的信息。每行第一个数为操作的类型编号。\n\n- 如果是操作 $0$，那么接着两个整数 $x, c$。\n- 如果是操作 $1$，那么接着五个整数 $x,y,k,l,r$。\n- 如果是操作 $2$，那么接着两个整数 $x,y$。\n- 如果是操作 $3$，那么接着两个整数 $l,r$ 和一个字符串 $s$。", "outputFormat": "按照输入顺序回答询问。\n\n对于每个操作 $1$，输出一行一个整数表示答案。\n\n对于每个操作 $3$，输出一行 $n$ 个整数分别表示每个字符串中满足条件的子串个数。", "hint": "### 数据范围\n\n对于所有数据，$2 \\leq n \\leq 5$，$1 \\leq m \\leq 10^5$，$1 \\leq q \\leq 2 \\times 10^5$。初始 $n$ 个串的总长度不超过 $2 \\times 10^5+20$。操作 $3$ 中读入的串总长度不超过 $10^6$。\n\n保证数据合法。保证存在一个长度不超过 $4 \\times 10^5$ 的字符串使得任意时刻那 $n$ 个串均是它的子串。\n\n- 对于前 $30\\%$ 的数据，保证 $q \\leq 1000$，初始 $n$ 个串的总长度不超过 $1000+20$，操作 3 中读入的串总长度不超过 $10^4$。\n- 对于前 $60\\%$ 的数据，保证所有的 $l=0$，$r=m-1$。\n- 对于前 $80\\%$ 的数据，保证数据没有被加密。", "locale": "zh-CN"}}}
{"pid": "P11742", "type": "P", "difficulty": 2, "samples": [["2", "2\n0\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Dynamic Mex Problem", "background": "你对 $\\text{min}\\times \\text{mex}$ 问题颇有研究！", "description": "小 A 给你了一个数字 $n$，要求你求解 $\\text{mex}$ 问题！你当然对 $\\text{min}\\times \\text{mex}$ 问题颇有研究，决定来秒掉这道题！\n\n\n\n定义集合 $S(A)$，$A$ 是一个序列，当且仅当以数字 $x$ 作为最小值的 $A$ 的子区间的个数为奇数时，$x$ 属于集合 $S(A)$。你需要对于每一个 $i=0,1,2,\\dots,n$ 分别求出 $\\text{mex}\\{S(a)\\}=i$ 的序列 $a$ 的数量，其中序列 $a$ 是 $0$ 到 $n-1$ 的任意一个排列。\n\n答案可能较大，请对 $10^9+7$ 取模。\n\n\n---\n\n$\\text{mex}$ 函数定义：设 $S$ 是一个非负整数集合，则 $\\text{mex}(S)$ 定义为不在集合 $S$ 中的最小非负整数。用数学符号表示为：$\\operatorname{mex}(S)=\\min\\{x\\in\\mathbb{N}:x\\notin S\\}$。\n", "inputFormat": "输入一行整数 $n$，代表排列数组 $a$ 的长度。", "outputFormat": "输出 $n+1$ 行，每行一个整数，意义如题面所述。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n可以得到，$S([1,0])=S([0,1])=\\{1\\}$。\n\n* 当 $i=0$ 时，$\\text{mex}\\{S(a)\\}=0$ 的序列 $a$ 有两种，分别是 $[0,1]$ 和 $[1,0]$。\n* 当 $i=1$ 时，$\\text{mex}\\{S(a)\\}=1$ 的序列 $a$ 不存在。\n* 当 $i=2$ 时，$\\text{mex}\\{S(a)\\}=2$ 的序列 $a$ 不存在。\n\n\n\n---\n\n**【数据规模与约定】**\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。请注意使用较快的输出方式。\n\n\n\n* Subtask 1（30 pts）：$n\\leq 10$。\n* Subtask 2（20 pts）：$n\\leq 100$。\n* Subtask 3（20 pts）：$n\\leq 1000$。\n* Subtask 4（30 pts）：$n\\leq 5\\times 10^6$。\n\n对于所有测试点满足 $1\\leq n\\leq 5\\times  10^6$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Dynamic Mex Problem", "background": "你对 $\\text{min}\\times \\text{mex}$ 问题颇有研究！", "description": "小 A 给你了一个数字 $n$，要求你求解 $\\text{mex}$ 问题！你当然对 $\\text{min}\\times \\text{mex}$ 问题颇有研究，决定来秒掉这道题！\n\n\n\n定义集合 $S(A)$，$A$ 是一个序列，当且仅当以数字 $x$ 作为最小值的 $A$ 的子区间的个数为奇数时，$x$ 属于集合 $S(A)$。你需要对于每一个 $i=0,1,2,\\dots,n$ 分别求出 $\\text{mex}\\{S(a)\\}=i$ 的序列 $a$ 的数量，其中序列 $a$ 是 $0$ 到 $n-1$ 的任意一个排列。\n\n答案可能较大，请对 $10^9+7$ 取模。\n\n\n---\n\n$\\text{mex}$ 函数定义：设 $S$ 是一个非负整数集合，则 $\\text{mex}(S)$ 定义为不在集合 $S$ 中的最小非负整数。用数学符号表示为：$\\operatorname{mex}(S)=\\min\\{x\\in\\mathbb{N}:x\\notin S\\}$。\n", "inputFormat": "输入一行整数 $n$，代表排列数组 $a$ 的长度。", "outputFormat": "输出 $n+1$ 行，每行一个整数，意义如题面所述。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n可以得到，$S([1,0])=S([0,1])=\\{1\\}$。\n\n* 当 $i=0$ 时，$\\text{mex}\\{S(a)\\}=0$ 的序列 $a$ 有两种，分别是 $[0,1]$ 和 $[1,0]$。\n* 当 $i=1$ 时，$\\text{mex}\\{S(a)\\}=1$ 的序列 $a$ 不存在。\n* 当 $i=2$ 时，$\\text{mex}\\{S(a)\\}=2$ 的序列 $a$ 不存在。\n\n\n\n---\n\n**【数据规模与约定】**\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。请注意使用较快的输出方式。\n\n\n\n* Subtask 1（30 pts）：$n\\leq 10$。\n* Subtask 2（20 pts）：$n\\leq 100$。\n* Subtask 3（20 pts）：$n\\leq 1000$。\n* Subtask 4（30 pts）：$n\\leq 5\\times 10^6$。\n\n对于所有测试点满足 $1\\leq n\\leq 5\\times  10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P11743", "type": "P", "difficulty": 4, "samples": [["10 1\n1 1 5 -4 -7 4 -8 0 -3 2 ", "10"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "贪心", "O2优化", "前缀和"], "title": "Dynamic Array Problem", "background": "", "description": "你有一个序列长度为 $n$ 的序列 $a$！初始时序列只有两端有隔板，其他位置没有。\n\n你可以插入任意多个隔板，隔板不重合，且隔板不起到分割序列的作用。插入后，选择至多 $k$ 对 **可以不相邻** 的隔板，将他们之间的序列元素翻转。它们之间的隔板的位置不受影响，只改变元素位置，要求一个元素至多被翻转一次。\n\n如果两个隔板相邻且他们之间的元素下标是 $l$ 到 $r$，则会对总贡献产生的权值为：$\\sum\\limits_{i=l}^{r} a_i \\times (i - l + 1)$。求操作后的总贡献的最大值。\n", "inputFormat": "第一行两个整数 $n$ 和 $k$。\n\n第二行 $n$ 个整数表示最开始的序列 $a$。\n", "outputFormat": "输出一行整数，代表操作后总贡献的最大值。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n序列初始两端各有一个隔板。在序列第 $2$ 个位置，第 $7$ 个位置，第 $8$ 个位置后添加隔板。并将第 $1$ 个位置到第 $7$ 位置中间的元素翻转。最后得到的序列权值为 $10$。可以证明不存在比这更大的权值。\n\n**【样例解释 $\\mathbf 2$】**\n\n本题提供大样例，该数据满足 `Subtask 3` 的限制。具体求解不做解释。\n\n---\n\n**【数据规模与约定】**\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。\n\n\n* Subtask 1（15 pts）：$n\\leq 20$。\n* Subtask 2（45 pts）：$n\\leq 100$。\n* Subtask 3（40 pts）：$n\\leq 550$。\n\n对于所有测试点满足 $1\\leq n \\leq 550$，$1\\leq k \\leq n$，$-10^9 \\leq a_i \\leq 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Dynamic Array Problem", "background": "", "description": "你有一个序列长度为 $n$ 的序列 $a$！初始时序列只有两端有隔板，其他位置没有。\n\n你可以插入任意多个隔板，隔板不重合，且隔板不起到分割序列的作用。插入后，选择至多 $k$ 对 **可以不相邻** 的隔板，将他们之间的序列元素翻转。它们之间的隔板的位置不受影响，只改变元素位置，要求一个元素至多被翻转一次。\n\n如果两个隔板相邻且他们之间的元素下标是 $l$ 到 $r$，则会对总贡献产生的权值为：$\\sum\\limits_{i=l}^{r} a_i \\times (i - l + 1)$。求操作后的总贡献的最大值。\n", "inputFormat": "第一行两个整数 $n$ 和 $k$。\n\n第二行 $n$ 个整数表示最开始的序列 $a$。\n", "outputFormat": "输出一行整数，代表操作后总贡献的最大值。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n序列初始两端各有一个隔板。在序列第 $2$ 个位置，第 $7$ 个位置，第 $8$ 个位置后添加隔板。并将第 $1$ 个位置到第 $7$ 位置中间的元素翻转。最后得到的序列权值为 $10$。可以证明不存在比这更大的权值。\n\n**【样例解释 $\\mathbf 2$】**\n\n本题提供大样例，该数据满足 `Subtask 3` 的限制。具体求解不做解释。\n\n---\n\n**【数据规模与约定】**\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。\n\n\n* Subtask 1（15 pts）：$n\\leq 20$。\n* Subtask 2（45 pts）：$n\\leq 100$。\n* Subtask 3（40 pts）：$n\\leq 550$。\n\n对于所有测试点满足 $1\\leq n \\leq 550$，$1\\leq k \\leq n$，$-10^9 \\leq a_i \\leq 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P11744", "type": "P", "difficulty": 5, "samples": [["3 3\n2 1\n3 1\n3 9 0\n5 5 0\n7 6 7\n3 2 4 2\n2 1 8 1\n3 1 4 1", "7"], ["4 5\n2 1\n3 1\n4 3\n1 8 5\n7 8 6\n1 9 2\n1 8 0\n1 4 8 1\n3 2 7 2\n3 4 3 1\n2 3 9 2\n2 4 7 1", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Dynamic TSP Problem", "background": "", "description": "A 国有 $n$ 个城市被 $n-1$ 条道路连接！这 $n$ 座城市从 $1$ 至 $n$ 编号，其中第 $i$ 座城市有三个值 $A_i$、$B_i$ 以及 $C_i$ 分别表示该城市的繁荣度、利润额和销售额。\n\n你作为一个流浪商人，想要进行环游 A 国的 $m$ 次旅行。第 $i$ 次旅行可以描述为：以 $X$ 元的资金从城市 $S_i$ 以最短距离走到城市 $T_i$，且最终资本需要大于等于 $Y_i$，还有一个参数 $K_i$。你一路破产，一路贸易，一路生花。\n* 一路破产：你需要最开始携带 $X$ 元的资金，从城市 $S_i$ 开始出发。\n* 一路贸易：**你在途经的所有城市都需要进行贸易，包括出发城市和结束城市。** 假设你刚来到城市 $i$ 拥有资金 $w$ 元，若资本 $w$ 不小于该城市的繁荣度 $A_i$，那么你可以在此获利 $B_i$。否则你会消耗 $C_i$ 元的资金。路途中资金可以小于 $0$。\n* 一路生花：抵达城市 $T_i$ 并在城市 $T_i$ 完成贸易后，你希望最后至少有 $Y_i$ 元的资金，且在路途中至少完成 $K_i$ 次获利（即至少有 $K_i$ 个城市满足当前资本不小于该城市的繁荣度 $A_i$）。$Y_i$ 可以小于 $X$，因为你深知破产无关紧要，绕远的路，总有风景。\n\n你需计算 $X$ 的最小值，使得每次旅行都以 $X$ 元资金出发，且最后都至少有 $Y_i$ 元的剩余且获利至少 $K_i$ 次。保证 $K_i$ 小于等于路径长度。\n\n", "inputFormat": "第一行两个整数 $n,m$，分别表示城市数量和旅行次数。\n\n第二行至第 $n$ 行，每行两个整数 $u,v$，表示 A 国的道路。\n\n接下来有 $n$ 行，每行有三个整数 $A_i,B_i,C_i$，表示第 $i$ 个城市的繁荣度、利润额和销售额。\n\n接下来有 $m$ 行，每行有三个整数 $S_i,T_i,Y_i,K_i$，表示第 $i$ 次旅行从 $S_i$ 出发，$T_i$ 结束，且要求最终资金需要大于等于 $Y_i$，获利次数大于等于 $K_i$。\n\n", "outputFormat": "输出一行一个整数 $X$ 表示最小的初始资金。", "hint": "\n\n**【数据规模与约定】**\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。\n\n\n* Subtask 1（10 pts）：$n\\leq 100$，$m\\leq 100$。\n* Subtask 2（25 pts）：$n\\leq 500$，$m\\leq 3000$。\n* Subtask 3（10 pts）：$A_i=B_i$，$C_i=0$。\n* Subtask 4（10 pts）：$B_i=0$。\n* Subtask 5（10 pts）：$C_i=0$。\n* Subtask 6（10 pts）：A 国的道路是一条链。\n* Subtask 7（25 pts）：$n\\leq 500$，$m\\leq 2\\times 10^5$。\n\n对于所有测试点满足 $n\\leq 500$，$m\\leq 2\\times 10^5$，$0\\leq A_i,B_i,C_i\\leq 2\\times 10^{14}$，$S_i\\not= T_i$，$1\\leq K_i\\leq n$，$1\\leq Y_i\\leq 10^{17}$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Dynamic TSP Problem", "background": "", "description": "A 国有 $n$ 个城市被 $n-1$ 条道路连接！这 $n$ 座城市从 $1$ 至 $n$ 编号，其中第 $i$ 座城市有三个值 $A_i$、$B_i$ 以及 $C_i$ 分别表示该城市的繁荣度、利润额和销售额。\n\n你作为一个流浪商人，想要进行环游 A 国的 $m$ 次旅行。第 $i$ 次旅行可以描述为：以 $X$ 元的资金从城市 $S_i$ 以最短距离走到城市 $T_i$，且最终资本需要大于等于 $Y_i$，还有一个参数 $K_i$。你一路破产，一路贸易，一路生花。\n* 一路破产：你需要最开始携带 $X$ 元的资金，从城市 $S_i$ 开始出发。\n* 一路贸易：**你在途经的所有城市都需要进行贸易，包括出发城市和结束城市。** 假设你刚来到城市 $i$ 拥有资金 $w$ 元，若资本 $w$ 不小于该城市的繁荣度 $A_i$，那么你可以在此获利 $B_i$。否则你会消耗 $C_i$ 元的资金。路途中资金可以小于 $0$。\n* 一路生花：抵达城市 $T_i$ 并在城市 $T_i$ 完成贸易后，你希望最后至少有 $Y_i$ 元的资金，且在路途中至少完成 $K_i$ 次获利（即至少有 $K_i$ 个城市满足当前资本不小于该城市的繁荣度 $A_i$）。$Y_i$ 可以小于 $X$，因为你深知破产无关紧要，绕远的路，总有风景。\n\n你需计算 $X$ 的最小值，使得每次旅行都以 $X$ 元资金出发，且最后都至少有 $Y_i$ 元的剩余且获利至少 $K_i$ 次。保证 $K_i$ 小于等于路径长度。\n\n", "inputFormat": "第一行两个整数 $n,m$，分别表示城市数量和旅行次数。\n\n第二行至第 $n$ 行，每行两个整数 $u,v$，表示 A 国的道路。\n\n接下来有 $n$ 行，每行有三个整数 $A_i,B_i,C_i$，表示第 $i$ 个城市的繁荣度、利润额和销售额。\n\n接下来有 $m$ 行，每行有三个整数 $S_i,T_i,Y_i,K_i$，表示第 $i$ 次旅行从 $S_i$ 出发，$T_i$ 结束，且要求最终资金需要大于等于 $Y_i$，获利次数大于等于 $K_i$。\n\n", "outputFormat": "输出一行一个整数 $X$ 表示最小的初始资金。", "hint": "\n\n**【数据规模与约定】**\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。\n\n\n* Subtask 1（10 pts）：$n\\leq 100$，$m\\leq 100$。\n* Subtask 2（25 pts）：$n\\leq 500$，$m\\leq 3000$。\n* Subtask 3（10 pts）：$A_i=B_i$，$C_i=0$。\n* Subtask 4（10 pts）：$B_i=0$。\n* Subtask 5（10 pts）：$C_i=0$。\n* Subtask 6（10 pts）：A 国的道路是一条链。\n* Subtask 7（25 pts）：$n\\leq 500$，$m\\leq 2\\times 10^5$。\n\n对于所有测试点满足 $n\\leq 500$，$m\\leq 2\\times 10^5$，$0\\leq A_i,B_i,C_i\\leq 2\\times 10^{14}$，$S_i\\not= T_i$，$1\\leq K_i\\leq n$，$1\\leq Y_i\\leq 10^{17}$。\n", "locale": "zh-CN"}}}
{"pid": "P11745", "type": "P", "difficulty": 6, "samples": [["5 3 2 999 1\n5", "6"], ["6 3 2 998 1\n5", "3"], ["1000000 10000 1 998244353 4\n1000000", "306558155574"], ["1000000 10000 2 998244353 5\n1000000", "39831215473"], ["1000000 100000 100 1231 8\n1000000", "170979323511"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360, 143360]}, "tags": ["O2优化"], "title": "Dynamic K-th Problem", "background": "> 萤火穿过风 融化成飞光 就在你眼眸盛放", "description": "小 D 发现了一群萤虫，萤群中有 $n$ 个萤虫且按照顺序排成一行并将其从 $1$ 从 $n$ 编号。小 D 非常厉害，他一眼就看出这 $n$ 个萤虫的光度，且这些萤虫的亮度值是 $1\\sim n$ 的一个排列。小 D 想找一些萤虫，让它们共同编织出如梦似幻的璀璨光幕，具体的，他需要一个 **萤虫区间**。\n\n小 D 对 **萤虫区间** 定义苛刻：至少得有 $k$ 个萤虫且这些萤虫编号连续。\n\n小 D 十分欣赏萤虫的光芒，他定义编号从 $L$ 到 $R$ 的萤虫区间的总体光度值为这些萤虫的光度值中的第 $m$ 大数。小 D 给定了 $Q$ 个指标，每个指标给定一个数 $x$，寻找一个 **萤虫区间** 使得这个区间的总体光度值大于等于 $x$。当然，这种区间是很多的，你需要帮小 D 数有多少这样的区间。\n", "inputFormat": "第一行五个整数 $n,k,m,B,cas$，其中 $B$ 是给定常数，$cas$ 是当前数据点所属的 Subtask 编号。\n\n第二行空格隔开的 $n$ 个数字 $a_i$，表示 $n$ 个萤虫的光度值。用给定代码生成。\n\n第三行一个整数 $Q$，表示给定指标个数。  \n\n第四行空格隔开的 $Q$ 个数字，表示每次询问的指标 $x$，用给定代码生成。\n\n**本题输入量较大，输入数据可以用以下代码生成：**[在此可查看完整代码](https://www.luogu.com.cn/paste/izknxvwf)。\n\n```cpp\n// 请注意避免整形溢出 \n#define int long long\nconst int N = 1e6 + 5, INF = 2147483647;\nint n, k, m, B, Q, x, a[N], cas;\n// myrand 为数据生成器 \nstruct myrand {\n\tint A, B, P, x;\n\tmyrand(int A, int B, int P, int x) {\n\t\tthis->A = A; this->B = B; this->P = P; this->x = x;\n\t} int next() { return x = (A * x + B) % P; }\n};\nint read_x(int x) { // 不同数据下的 x 不同\n\tif (cas == 7) x = x % 2;\n\telse x = x % (n + 1);\n\treturn x;\n}\nsigned main() {\n\tcin >> n >> k >> m >> B >> cas >> Q;\t\n\t// B 是生成数据是给定常数。在此初始化数据生成器 myrand 参数 \n\tmyrand rnd(16807, B, INF, 0);\n\t// 伪随机生成 a 序列 \n\tfor (int i = 1; i <= n; i++) a[i] = i;\n\tfor (int i = 1; i <= n; i++) {\n\t\tint l = rnd.next() % n + 1, r = rnd.next() % n + 1;\n\t\tswap(a[l], a[r]);\n\t}\n\t// 生成查询指标 \n\tfor (int i = 1; i <= Q; i++) x = read_x(rnd.next());\n}\n```\n\n你只需要以上述代码为准，进行输入即可。具体操作解释请参见样例解释。**本题解法和数据的生成方式无关**。", "outputFormat": "对于每一个询问指标，都需要求出对应萤虫区间个数。\n\n为了避免输出过多，请输出 $Q$ 次查询中萤虫区间个数的 **异或和**。具体操作解释请参见样例解释。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n萤虫从 $1$ 到 $n$ 的光度值为：$5,4,2,3,1$。总共有 $6$ 个萤虫区间，要求区间第 $2$ 大值，分别是：\n* 编号 $1$ 至 $3$ 构成的萤虫为 $[5,4,2]$，总体光度值为 $4$。\n* 编号 $2$ 至 $4$ 构成的萤虫为 $[4,2,3]$，总体光度值为 $3$。\n* 编号 $3$ 至 $5$ 构成的萤虫为 $[2,3,1]$，总体光度值为 $2$。\n* 编号 $1$ 至 $4$ 构成的萤虫为 $[5,4,2,3]$，总体光度值为 $4$。\n* 编号 $2$ 至 $5$ 构成的萤虫为 $[4,2,3,1]$，总体光度值为 $3$。\n* 编号 $1$ 至 $5$ 构成的萤虫为 $[5,4,2,3,1]$，总体光度值为 $4$。\n\n共有 $5$ 次询问，询问指标分别是 $2,2,2,0,2$，则答案分别是：$6,6,6,6,6$。则总异或值为 $6$。\n\n**【样例解释 $\\mathbf 2$】**\n\n萤虫从 $1$ 到 $n$ 的光度值为：$3,1,4,2,5,6$。\n\n共有 $5$ 次询问，询问指标分别是 $1,5,1,4,6$，答案分别是：$10,4,10,7,0$。则总异或值为 $3$。\n\n**【样例解释 $\\mathbf 3$】** 该数据满足 `Subtask 4` 的限制。具体求解不做解释。请注意整形溢出相关问题。\n\n**【样例解释 $\\mathbf 4$】** 该数据满足 `Subtask 5` 的限制。具体求解不做解释。\n\n**【样例解释 $\\mathbf 5$】** 该数据满足 `Subtask 8` 的限制。具体求解不做解释。\n\n\n---\n\n\n**【数据规模与约定】**\n\n\n**本题开启子任务捆绑测试**。本题输入输出量一点不大，但请注意优化常数。本题自动开启 O2 优化。\n\n\n\n* Subtask 1（10 pts）：$m\\leq n\\leq 100$，$Q\\leq 100$。\n* Subtask 2（10 pts）：$m\\leq n\\leq 1000$，$Q\\leq 100$。\n* Subtask 3（18 pts）：$n\\leq 10^5$，$m\\leq 100$。\n* Subtask 4（9 pts）：$n\\leq 10^6$，$m=1$。\n* Subtask 5（9 pts）：$n\\leq 10^6$，$m=2$。\n* Subtask 6（15 pts）：$n\\leq 10^6$，$k=m\\leq 100$。\n* Subtask 7（7 pts）：$n\\leq 10^6$，$m\\leq 100$，$0\\leq x\\leq 1$。\n* Subtask 8（22 pts）：$n\\leq 10^6$，$m\\leq 100$。\n\n对于所有测试点满足 $1\\leq m\\leq k\\leq n\\leq 10^6$，$m\\leq \\min\\{1000,n\\}$，$1\\leq a_i\\leq n$，$1\\leq Q\\leq 10^6$，$1\\leq B\\leq 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Dynamic K-th Problem", "background": "> 萤火穿过风 融化成飞光 就在你眼眸盛放", "description": "小 D 发现了一群萤虫，萤群中有 $n$ 个萤虫且按照顺序排成一行并将其从 $1$ 从 $n$ 编号。小 D 非常厉害，他一眼就看出这 $n$ 个萤虫的光度，且这些萤虫的亮度值是 $1\\sim n$ 的一个排列。小 D 想找一些萤虫，让它们共同编织出如梦似幻的璀璨光幕，具体的，他需要一个 **萤虫区间**。\n\n小 D 对 **萤虫区间** 定义苛刻：至少得有 $k$ 个萤虫且这些萤虫编号连续。\n\n小 D 十分欣赏萤虫的光芒，他定义编号从 $L$ 到 $R$ 的萤虫区间的总体光度值为这些萤虫的光度值中的第 $m$ 大数。小 D 给定了 $Q$ 个指标，每个指标给定一个数 $x$，寻找一个 **萤虫区间** 使得这个区间的总体光度值大于等于 $x$。当然，这种区间是很多的，你需要帮小 D 数有多少这样的区间。\n", "inputFormat": "第一行五个整数 $n,k,m,B,cas$，其中 $B$ 是给定常数，$cas$ 是当前数据点所属的 Subtask 编号。\n\n第二行空格隔开的 $n$ 个数字 $a_i$，表示 $n$ 个萤虫的光度值。用给定代码生成。\n\n第三行一个整数 $Q$，表示给定指标个数。  \n\n第四行空格隔开的 $Q$ 个数字，表示每次询问的指标 $x$，用给定代码生成。\n\n**本题输入量较大，输入数据可以用以下代码生成：**[在此可查看完整代码](https://www.luogu.com.cn/paste/izknxvwf)。\n\n```cpp\n// 请注意避免整形溢出 \n#define int long long\nconst int N = 1e6 + 5, INF = 2147483647;\nint n, k, m, B, Q, x, a[N], cas;\n// myrand 为数据生成器 \nstruct myrand {\n\tint A, B, P, x;\n\tmyrand(int A, int B, int P, int x) {\n\t\tthis->A = A; this->B = B; this->P = P; this->x = x;\n\t} int next() { return x = (A * x + B) % P; }\n};\nint read_x(int x) { // 不同数据下的 x 不同\n\tif (cas == 7) x = x % 2;\n\telse x = x % (n + 1);\n\treturn x;\n}\nsigned main() {\n\tcin >> n >> k >> m >> B >> cas >> Q;\t\n\t// B 是生成数据是给定常数。在此初始化数据生成器 myrand 参数 \n\tmyrand rnd(16807, B, INF, 0);\n\t// 伪随机生成 a 序列 \n\tfor (int i = 1; i <= n; i++) a[i] = i;\n\tfor (int i = 1; i <= n; i++) {\n\t\tint l = rnd.next() % n + 1, r = rnd.next() % n + 1;\n\t\tswap(a[l], a[r]);\n\t}\n\t// 生成查询指标 \n\tfor (int i = 1; i <= Q; i++) x = read_x(rnd.next());\n}\n```\n\n你只需要以上述代码为准，进行输入即可。具体操作解释请参见样例解释。**本题解法和数据的生成方式无关**。", "outputFormat": "对于每一个询问指标，都需要求出对应萤虫区间个数。\n\n为了避免输出过多，请输出 $Q$ 次查询中萤虫区间个数的 **异或和**。具体操作解释请参见样例解释。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n萤虫从 $1$ 到 $n$ 的光度值为：$5,4,2,3,1$。总共有 $6$ 个萤虫区间，要求区间第 $2$ 大值，分别是：\n* 编号 $1$ 至 $3$ 构成的萤虫为 $[5,4,2]$，总体光度值为 $4$。\n* 编号 $2$ 至 $4$ 构成的萤虫为 $[4,2,3]$，总体光度值为 $3$。\n* 编号 $3$ 至 $5$ 构成的萤虫为 $[2,3,1]$，总体光度值为 $2$。\n* 编号 $1$ 至 $4$ 构成的萤虫为 $[5,4,2,3]$，总体光度值为 $4$。\n* 编号 $2$ 至 $5$ 构成的萤虫为 $[4,2,3,1]$，总体光度值为 $3$。\n* 编号 $1$ 至 $5$ 构成的萤虫为 $[5,4,2,3,1]$，总体光度值为 $4$。\n\n共有 $5$ 次询问，询问指标分别是 $2,2,2,0,2$，则答案分别是：$6,6,6,6,6$。则总异或值为 $6$。\n\n**【样例解释 $\\mathbf 2$】**\n\n萤虫从 $1$ 到 $n$ 的光度值为：$3,1,4,2,5,6$。\n\n共有 $5$ 次询问，询问指标分别是 $1,5,1,4,6$，答案分别是：$10,4,10,7,0$。则总异或值为 $3$。\n\n**【样例解释 $\\mathbf 3$】** 该数据满足 `Subtask 4` 的限制。具体求解不做解释。请注意整形溢出相关问题。\n\n**【样例解释 $\\mathbf 4$】** 该数据满足 `Subtask 5` 的限制。具体求解不做解释。\n\n**【样例解释 $\\mathbf 5$】** 该数据满足 `Subtask 8` 的限制。具体求解不做解释。\n\n\n---\n\n\n**【数据规模与约定】**\n\n\n**本题开启子任务捆绑测试**。本题输入输出量一点不大，但请注意优化常数。本题自动开启 O2 优化。\n\n\n\n* Subtask 1（10 pts）：$m\\leq n\\leq 100$，$Q\\leq 100$。\n* Subtask 2（10 pts）：$m\\leq n\\leq 1000$，$Q\\leq 100$。\n* Subtask 3（18 pts）：$n\\leq 10^5$，$m\\leq 100$。\n* Subtask 4（9 pts）：$n\\leq 10^6$，$m=1$。\n* Subtask 5（9 pts）：$n\\leq 10^6$，$m=2$。\n* Subtask 6（15 pts）：$n\\leq 10^6$，$k=m\\leq 100$。\n* Subtask 7（7 pts）：$n\\leq 10^6$，$m\\leq 100$，$0\\leq x\\leq 1$。\n* Subtask 8（22 pts）：$n\\leq 10^6$，$m\\leq 100$。\n\n对于所有测试点满足 $1\\leq m\\leq k\\leq n\\leq 10^6$，$m\\leq \\min\\{1000,n\\}$，$1\\leq a_i\\leq n$，$1\\leq Q\\leq 10^6$，$1\\leq B\\leq 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P11746", "type": "P", "difficulty": 6, "samples": [["5\n2 2\n2 3\n2 5\n4 3\n4 5", "0\n32\n512\n2240\n608864"], ["4\n1000 999\n1000000 999999\n999999 1000000\n677777 66778\n", "163503730\n154415889\n154415889\n127032970"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Dynamic Color Problem", "background": "", "description": "你在和 AI 下『连子棋』！你们有黑白两个颜色的棋子。\n\n这盘棋的规则是：双方轮流下棋，棋子放满整个棋盘后，再来统计分数。如果每有一整行或一整列颜色 **不完全相同**，那么你就获得 $1$ 分。如果每有一整行或一整列颜色 **完全相同**，那么 AI 就获得 $1$ 分。当你的分数为奇数且 AI 的分数为偶数时，那么你就胜利了！否则，AI 胜利。\n\n你和 AI 对弈了 $T$ 局，第 $i$ 局的棋盘大小为 $n\\times m $。双方每一回合都可以选择下黑或者下白，下棋的位置不能和之前重复。那么请计算棋盘最终形态的方案数使得你能获胜。\n\n两种下棋方式不同，当且仅当最终棋盘的形态不同，即棋盘上存在一个位置，使得两种棋盘在此位置的颜色不同。答案可能很大，请对 $998244353$ 取模。\n", "inputFormat": "第一行一个整数 $T$，代表你和 AI 对弈的局数。\n\n接下来有 $T$ 行，每行两个整数 $n,m$，表示棋盘的大小为 $n\\times m$。", "outputFormat": "输出 $T$ 行整数，第 $i$ 行整数表示第 $i$ 局你获胜的方案数。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n对于第 $2$ 局棋盘大小 $2\\times 3$ 有下列两种棋盘形式（总共 $32$ 种棋盘形式，不一一列出）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3dt0b498.png)\n\n上面两种情况，你获得 $3$ 分，AI 获得 $2$ 分，故你获胜。\n\n---\n\n**【数据规模与约定】**\n\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。\n* Subtask 1（15 pts）：$2\\leq n,m\\leq 4$。\n* Subtask 2（15 pts）：$2\\leq n,m\\leq 6$。\n* Subtask 3（8 pts）：$2\\leq n,m\\leq 20$。\n* Subtask 4（8 pts）：$2\\leq n,m\\leq 100$。\n* Subtask 5（10 pts）：$2\\leq n,m\\leq 1000$。\n* Subtask 6（44 pts）：$2\\leq n,m\\leq 10^6$。\n\n\n对于所有测试点满足 $1\\leq T\\leq 5$，$2\\leq n,m\\leq 10^6$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Dynamic Color Problem", "background": "", "description": "你在和 AI 下『连子棋』！你们有黑白两个颜色的棋子。\n\n这盘棋的规则是：双方轮流下棋，棋子放满整个棋盘后，再来统计分数。如果每有一整行或一整列颜色 **不完全相同**，那么你就获得 $1$ 分。如果每有一整行或一整列颜色 **完全相同**，那么 AI 就获得 $1$ 分。当你的分数为奇数且 AI 的分数为偶数时，那么你就胜利了！否则，AI 胜利。\n\n你和 AI 对弈了 $T$ 局，第 $i$ 局的棋盘大小为 $n\\times m $。双方每一回合都可以选择下黑或者下白，下棋的位置不能和之前重复。那么请计算棋盘最终形态的方案数使得你能获胜。\n\n两种下棋方式不同，当且仅当最终棋盘的形态不同，即棋盘上存在一个位置，使得两种棋盘在此位置的颜色不同。答案可能很大，请对 $998244353$ 取模。\n", "inputFormat": "第一行一个整数 $T$，代表你和 AI 对弈的局数。\n\n接下来有 $T$ 行，每行两个整数 $n,m$，表示棋盘的大小为 $n\\times m$。", "outputFormat": "输出 $T$ 行整数，第 $i$ 行整数表示第 $i$ 局你获胜的方案数。", "hint": "**【样例解释 $\\mathbf 1$】**\n\n对于第 $2$ 局棋盘大小 $2\\times 3$ 有下列两种棋盘形式（总共 $32$ 种棋盘形式，不一一列出）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3dt0b498.png)\n\n上面两种情况，你获得 $3$ 分，AI 获得 $2$ 分，故你获胜。\n\n---\n\n**【数据规模与约定】**\n\n\n**本题开启子任务捆绑测试**。本题自动开启 O2 优化。\n* Subtask 1（15 pts）：$2\\leq n,m\\leq 4$。\n* Subtask 2（15 pts）：$2\\leq n,m\\leq 6$。\n* Subtask 3（8 pts）：$2\\leq n,m\\leq 20$。\n* Subtask 4（8 pts）：$2\\leq n,m\\leq 100$。\n* Subtask 5（10 pts）：$2\\leq n,m\\leq 1000$。\n* Subtask 6（44 pts）：$2\\leq n,m\\leq 10^6$。\n\n\n对于所有测试点满足 $1\\leq T\\leq 5$，$2\\leq n,m\\leq 10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P11747", "type": "P", "difficulty": 2, "samples": [["2\n1 2310\n2 6", "4\n128"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "贪心", "O2优化", "素数判断,质数,筛法"], "title": "「TPOI-1A」鞋子特大号", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/71n3gd2r.png)\n\nYou may click here to read English statement.\n\n> 我戴着圆顶礼帽 鞋子特大号\n>\n> 我手拿拐杖留着胡子 大家好\n>\n> 别什么你都想要快乐却找不到\n>\n> 幽默是挫折中优雅的礼貌\n>\n> ——周杰伦《[鞋子特大号](https://www.bilibili.com/video/BV1Wt4y1P74C)》", "description": "给定一个数 $x$，你可以对其进行以下操作若干次，直到无法再操作：\n\n- 选择一个数 $y$ 满足 $1 \\le y < x$ 且 $\\gcd(x,y) \\not = 1$，并将 $x$ 变为 $\\gcd(x,y)$。\n\n现在有以下两种询问共 $T$ 个：\n\n- `1 x`：给定 $x$，求 $x$ 最多能进行几次操作；\n\n- `2 q`：给定 $q$，求出一个**最小的** $x$，使得 $x$ 最多能进行恰好 $q$ 次操作。\n", "inputFormat": "第一行，一个整数 $T$，表示询问个数。\n\n接下来 $T$ 行，每行一次询问，保证格式一定为 `1 x` 或 `2 q`。", "outputFormat": "共 $T$ 行，每行一个整数，表示询问的答案。", "hint": "【样例 #1 解释】\n\n对于 `1 2310`，以下是其中一种操作方式：\n\n- 选择 $y=1890$，则此时 $x=\\gcd(2310,1890)=210$；\n- 选择 $y=84$，则此时 $x=\\gcd(210,84)=42$；\n- 选择 $y=18$，则此时 $x=\\gcd(42,18)=6$；\n- 选择 $y=2$，则此时 $x=\\gcd(6,2)=2$。\n\n此时无法再操作，所以结果为 $4$。\n\n可以证明不存在一种方法可以操作超过 $4$ 次。\n\n---\n\n对于 `2 6`，可以证明，无法找出一个比 $128$ 小的数，使得其可以进行 $6$ 次操作。\n\n【数据范围】\n\n**本题采用捆绑测试。你只有通过一个子任务内的所有测试点，该子任务才会得分。**\n\n|$\\text{Subtask}$|特殊性质|分值|\n|:-:|:-:|:-:|\n|$0$|样例|$0$|\n|$1$|$T \\le 2,2 \\le x \\le 100,q \\le 5$|$40$|\n|$2$|$T \\le 10^5,x \\le 10^3,q \\le 25$|$30$|\n|$3$|无特殊性质|$30$|\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10^5$，$1 \\le x \\le 10^6$，$1 \\le q \\le 62$。", "locale": "zh-CN", "translations": {"en": {"title": "「TPOI-1A」Oversized Shoes", "background": "Here's a Chinese song:\n\n> 我戴着圆顶礼帽 鞋子特大号  \n> 我手拿拐杖留着胡子 大家好  \n> 别什么你都想要快乐却找不到  \n> 幽默是挫折中优雅的礼貌  \n> ——周杰伦《[鞋子特大号](https://www.bilibili.com/video/BV1Wt4y1P74C)》", "description": "Given a number $x$, you can perform the following operations multiple times until no longer possible:  \n- Choose a number $y$ satisfying $1 \\le y < x$ and $\\gcd(x, y) \\neq 1$, then replace $x$ with $\\gcd(x, y)$.  \n\nThere are $T$ queries of two types:  \n- `1 x`: Given $x$, find the maximum number of operations that can be performed on $x$;  \n- `2 q`: Given $q$, find the **smallest** $x$ such that the maximum number of operations on $x$ is exactly $q$.  ", "inputFormat": "The first line contains an integer $T$, the number of queries.  \n\nEach of the next $T$ lines contains a query in the format `1 x` or `2 q`.  ", "outputFormat": "For each query, output one integer as the answer.  ", "hint": "**Explanation for Sample #1**  \n\nFor `1 2310`, one possible operation sequence is:  \n- Choose $y = 1890$, then $x = \\gcd(2310, 1890) = 210$;  \n- Choose $y = 84$, then $x = \\gcd(210, 84) = 42$;  \n- Choose $y = 18$, then $x = \\gcd(42, 18) = 6$;  \n- Choose $y = 2$, then $x = \\gcd(6, 2) = 2$.  \n\nNo further operations can be performed, so the result is $4$.  \n\nIt can be proven that no method allows more than $4$ operations.  \n\n---  \n\nFor `2 6`, it can be proven that no number smaller than $128$ can perform exactly $6$ operations.  \n\n**Constraints**  \n\n**This problem uses bundled tests. You must pass all test cases in a subtask to receive points.**  \n\n| Subtask | Special Constraints | Points |  \n|:-:|:-:|:-:|  \n| 0 | Sample | 0 |  \n| 1 | $T \\le 2$, $2 \\le x \\le 100$, $q \\le 5$ | 40 |  \n| 2 | $T \\le 10^5$, $x \\le 10^3$, $q \\le 25$ | 30 |  \n| 3 | No special constraints | 30 |  \n\nFor $100\\%$ data: $1 \\le T \\le 10^5$, $1 \\le x \\le 10^6$, $1 \\le q \\le 62$.  \n\nTranslated by DeepSeek R1  ", "locale": "en"}, "zh-CN": {"title": "「TPOI-1A」鞋子特大号", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/71n3gd2r.png)\n\nYou may click here to read English statement.\n\n> 我戴着圆顶礼帽 鞋子特大号\n>\n> 我手拿拐杖留着胡子 大家好\n>\n> 别什么你都想要快乐却找不到\n>\n> 幽默是挫折中优雅的礼貌\n>\n> ——周杰伦《[鞋子特大号](https://www.bilibili.com/video/BV1Wt4y1P74C)》", "description": "给定一个数 $x$，你可以对其进行以下操作若干次，直到无法再操作：\n\n- 选择一个数 $y$ 满足 $1 \\le y < x$ 且 $\\gcd(x,y) \\not = 1$，并将 $x$ 变为 $\\gcd(x,y)$。\n\n现在有以下两种询问共 $T$ 个：\n\n- `1 x`：给定 $x$，求 $x$ 最多能进行几次操作；\n\n- `2 q`：给定 $q$，求出一个**最小的** $x$，使得 $x$ 最多能进行恰好 $q$ 次操作。\n", "inputFormat": "第一行，一个整数 $T$，表示询问个数。\n\n接下来 $T$ 行，每行一次询问，保证格式一定为 `1 x` 或 `2 q`。", "outputFormat": "共 $T$ 行，每行一个整数，表示询问的答案。", "hint": "【样例 #1 解释】\n\n对于 `1 2310`，以下是其中一种操作方式：\n\n- 选择 $y=1890$，则此时 $x=\\gcd(2310,1890)=210$；\n- 选择 $y=84$，则此时 $x=\\gcd(210,84)=42$；\n- 选择 $y=18$，则此时 $x=\\gcd(42,18)=6$；\n- 选择 $y=2$，则此时 $x=\\gcd(6,2)=2$。\n\n此时无法再操作，所以结果为 $4$。\n\n可以证明不存在一种方法可以操作超过 $4$ 次。\n\n---\n\n对于 `2 6`，可以证明，无法找出一个比 $128$ 小的数，使得其可以进行 $6$ 次操作。\n\n【数据范围】\n\n**本题采用捆绑测试。你只有通过一个子任务内的所有测试点，该子任务才会得分。**\n\n|$\\text{Subtask}$|特殊性质|分值|\n|:-:|:-:|:-:|\n|$0$|样例|$0$|\n|$1$|$T \\le 2,2 \\le x \\le 100,q \\le 5$|$40$|\n|$2$|$T \\le 10^5,x \\le 10^3,q \\le 25$|$30$|\n|$3$|无特殊性质|$30$|\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10^5$，$1 \\le x \\le 10^6$，$1 \\le q \\le 62$。", "locale": "zh-CN"}}}
{"pid": "P11748", "type": "P", "difficulty": 4, "samples": [["1\n4 5", "23"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "O2优化"], "title": "「TPOI-1B」ASPAP", "background": "", "description": "你有 $n!$ 个长度为 $n$ 的排列，它们已经按照字典序排好了顺序。\n\n请你在字典序顺序中前 $S$ 个排列里寻找一个排列 $p$，使得 $\\displaystyle\\sum_{i=1}^n\\sum_{j=1}^{i}p_j$ 最大。你只需要输出这个最大值即可。\n\n由于答案可能很大，请输出答案对 $998244353$ 取模的结果。\n", "inputFormat": "第一行，一个整数 $T$。\n\n接下来 $T$ 行，每行两个整数 $n,S$。", "outputFormat": "共 $T$ 行，每行一个整数，表示最大的 $\\displaystyle\\sum_{i=1}^n\\sum_{j=1}^{i}p_j$，对 $998244353$ 取模。", "hint": "【样例 #1 解释】\n\n长度为 $4$ 的排列的前五个分别为：\n\n$1,2,3,4 \\to 1+(1+2)+(1+2+3)+(1+2+3+4)=20$\n\n$1,2,4,3 \\to 1+(1+2)+(1+2+4)+(1+2+4+3)=21$\n\n$1,3,2,4 \\to 1+(1+3)+(1+3+2)+(1+3+2+4)=21$\n\n$1,3,4,2 \\to 1+(1+3)+(1+3+4)+(1+3+4+2)=23$\n\n$1,4,2,3 \\to 1+(1+4)+(1+4+2)+(1+4+2+3)=23$\n\n最大值为 $23$。\n\n【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$10$|$n\\le8$|\n|$2$|$10$|$T\\le20,n\\le16$|\n|$3$|$25$|$T\\le10^4$|\n|$4$|$5$|$S=n!$|\n|$5$|$50$|无特殊性质|\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10^5, 1 \\le n \\le 10^9, 1 \\le S \\le \\min(n!,10^{18})$。", "locale": "zh-CN", "translations": {"en": {"title": "「TPOI-1B」ASPAP", "background": "", "description": "You have $n!$ permutations of length $n$ sorted in lexicographical order.  \n\nAmong the first $S$ permutations in this order, find a permutation $p$ that maximizes $\\displaystyle\\sum_{i=1}^n\\sum_{j=1}^{i}p_j$. Output this maximum value modulo $998244353$.  ", "inputFormat": "The first line contains an integer $T$.  \n\nEach of the next $T$ lines contains two integers $n$ and $S$.  ", "outputFormat": "For each query, output one integer representing the maximum value modulo $998244353$.  ", "hint": "**Explanation for Sample #1**  \n\nThe first five permutations of length $4$ are:  \n- $1, 2, 3, 4 \\to 1 + (1+2) + (1+2+3) + (1+2+3+4) = 20$  \n- $1, 2, 4, 3 \\to 1 + (1+2) + (1+2+4) + (1+2+4+3) = 21$  \n- $1, 3, 2, 4 \\to 1 + (1+3) + (1+3+2) + (1+3+2+4) = 21$  \n- $1, 3, 4, 2 \\to 1 + (1+3) + (1+3+4) + (1+3+4+2) = 23$  \n- $1, 4, 2, 3 \\to 1 + (1+4) + (1+4+2) + (1+4+2+3) = 23$  \n\nThe maximum value is $23$.  \n\n**Constraints**  \n\nThis problem uses bundled tests. You must pass all test cases in a subtask to receive points.\n\n| Subtask | Points | Special Constraints |  \n|:-:|:-:|:-:|  \n| 1 | 10 | $n \\le 8$ |  \n| 2 | 10 | $T \\le 20$, $n \\le 16$ |  \n| 3 | 25 | $T \\le 10^4$ |  \n| 4 | 5 | $S = n!$ |  \n| 5 | 50 | No special constraints |  \n\nFor $100\\%$ data: $1 \\le T \\le 10^5$, $1 \\le n \\le 10^9$, $1 \\le S \\le \\min(n!,\\ 10^{18})$.  \n\nTranslated by DeepSeek R1  ", "locale": "en"}, "zh-CN": {"title": "「TPOI-1B」ASPAP", "background": "", "description": "你有 $n!$ 个长度为 $n$ 的排列，它们已经按照字典序排好了顺序。\n\n请你在字典序顺序中前 $S$ 个排列里寻找一个排列 $p$，使得 $\\displaystyle\\sum_{i=1}^n\\sum_{j=1}^{i}p_j$ 最大。你只需要输出这个最大值即可。\n\n由于答案可能很大，请输出答案对 $998244353$ 取模的结果。\n", "inputFormat": "第一行，一个整数 $T$。\n\n接下来 $T$ 行，每行两个整数 $n,S$。", "outputFormat": "共 $T$ 行，每行一个整数，表示最大的 $\\displaystyle\\sum_{i=1}^n\\sum_{j=1}^{i}p_j$，对 $998244353$ 取模。", "hint": "【样例 #1 解释】\n\n长度为 $4$ 的排列的前五个分别为：\n\n$1,2,3,4 \\to 1+(1+2)+(1+2+3)+(1+2+3+4)=20$\n\n$1,2,4,3 \\to 1+(1+2)+(1+2+4)+(1+2+4+3)=21$\n\n$1,3,2,4 \\to 1+(1+3)+(1+3+2)+(1+3+2+4)=21$\n\n$1,3,4,2 \\to 1+(1+3)+(1+3+4)+(1+3+4+2)=23$\n\n$1,4,2,3 \\to 1+(1+4)+(1+4+2)+(1+4+2+3)=23$\n\n最大值为 $23$。\n\n【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$10$|$n\\le8$|\n|$2$|$10$|$T\\le20,n\\le16$|\n|$3$|$25$|$T\\le10^4$|\n|$4$|$5$|$S=n!$|\n|$5$|$50$|无特殊性质|\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10^5, 1 \\le n \\le 10^9, 1 \\le S \\le \\min(n!,10^{18})$。", "locale": "zh-CN"}}}
{"pid": "P11749", "type": "P", "difficulty": 5, "samples": [["3\n4 2\nabab\n1 1\na\n30 1\nabaababaababaababaababaababaab\n", "20\n1\n128"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "Manacher 算法"], "title": "「TPOI-1C」Standard Problem.", "background": "", "description": "你是某知名 CP 网站的比赛审核员，经常收到一些 standard 的投稿。\n\n你已经使用了太多次「quite standard」和「somewhat standard」作为回复了，因此这次你决定换一些。\n\n首先你写下了你对这道题的评价 $s$，这里 $s$ 是一个仅包含英文小写字母的字符串。为了让投稿者知道自己的题目有多 standard，你又将这个字符串 $s$ 粘贴了 $k-1$ 次。最终，你的评价形成了一个字符串 $t = s^k$。\n\n投稿者定义一个回复的 _怪异度_ 是这个字符串里的回文子串数量。请你求出你写下的回复 $t$ 的怪异度。由于这个值可能很大，你只需要输出它对 $998244353$ 取模的结果。\n\n**形式化的**，给定字符串 $s$ 和整数 $k$，求 $s^k$（字符串 $s$ 拼接 $k$ 次）有多少回文子串（位置不同即算作不同），模 $998244353$。", "inputFormat": "**本题含有多组输入数据**。\n\n第一行一个整数 $t(1 \\le t \\le 10^4)$ 表示数据组数。\n\n对于每组数据，第一行两个整数 $n,k(1 \\le n \\le 3 \\cdot 10^6,1 \\le k \\le 10^9)$ 表示字符串长度和拼接次数。\n\n第二行一个长度为 $n$ 的只包含小写字母的字符串 $s$。\n\n保证单组数据内 $\\sum n \\le 3 \\cdot 10^6$。", "outputFormat": "对于每组数据，输出一个整数表示答案对 $998244353$ 取模的结果。", "hint": "### 样例解释\n\n对于第一组数据，$t = s^2 = \\texttt{abababab}$，共有 $20$ 个回文子串。\n\n对于第三组数据，输入的字符串是 $(\\texttt{abaab})^6$。\n\n### 数据范围\n\n子任务 $1$ 为样例，不计分。\n\n| 子任务 | 分数 | $n \\le$ | $k \\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $2$ | $5$ | $2$ | $10^9$ |\n| $3$ | $30$ | $3 \\cdot 10^6$ | $3 \\cdot 10^6$ |\n| $4$ | $30$ | $2000$ | $10^9$ |\n| $5$ | $35$ | $3 \\cdot 10^6$ | $10^9$ |\n\n- 子任务 $3$ 保证 $\\sum k \\le 3 \\cdot 10^6$。\n- 子任务 $4$ 保证 $\\sum n^2 \\le 2.5 \\cdot 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "「TPOI-1C」Standard Problem.", "background": "", "description": "As a contest reviewer for a well-known CP platform, you often receive standard problem submissions.  \n\nHaving overused replies like \"quite standard\" and \"somewhat standard\", you decide to try something new.  \n\nFirst, you write your review $s$ (a lowercase English string). To emphasize how standard the problem is, you concatenate $s$ $k-1$ times to form the final reply $t = s^k$.  \n\nThe submitter defines the _weirdness_ of a reply as the number of palindromic substrings in it. Your task is to compute the weirdness of $t$ modulo $998244353$.  \n\n**Formally**, given string $s$ and integer $k$, find the number of distinct palindromic substrings (counted by position) in $s^k$ (the concatenation of $k$ copies of $s$), modulo $998244353$.  ", "inputFormat": "**This problem contains multiple test cases**.  \n\nThe first line contains an integer $t$ $(1 \\le t \\le 10^4)$ indicating the number of test cases.  \n\nFor each test case:  \n- The first line contains two integers $n, k$ $(1 \\le n \\le 3 \\times 10^6,\\ 1 \\le k \\le 10^9)$ representing the string length and concatenation count.  \n- The second line contains a lowercase English string $s$ of length $n$.  \n\nThe sum of $n$ across all test cases in a single input does not exceed $3 \\times 10^6$.  ", "outputFormat": "For each test case, output one integer representing the answer modulo $998244353$.  ", "hint": "For the first sample input, $t = s^2 = \\texttt{abababab}$ contains 20 palindromic substrings.  \n\nFor the third sample input, the resulting string is $(\\texttt{abaab})^6$.  \n\n### Constraints\n\nThis problem uses bundled tests. You must pass all test cases in a subtask to receive points.\n\nSubtask 1 contains samples and is worth 0 points.  \n\n| Subtask | Points | $n \\le$ | $k \\le$ |  \n| :-----: | :----: | :-----------: | :-----------: |  \n| 2 | 5 | 2 | $10^9$ |  \n| 3 | 30 | $3 \\times 10^6$ | $3 \\times 10^6$ |  \n| 4 | 30 | 2000 | $10^9$ |  \n| 5 | 35 | $3 \\times 10^6$ | $10^9$ |  \n\n- Subtask 3 guarantees $\\sum k \\le 3 \\times 10^6$.  \n- Subtask 4 guarantees $\\sum n^2 \\le 2.5 \\times 10^7$.  \n\nTranslated by DeepSeek R1  ", "locale": "en"}, "zh-CN": {"title": "「TPOI-1C」Standard Problem.", "background": "", "description": "你是某知名 CP 网站的比赛审核员，经常收到一些 standard 的投稿。\n\n你已经使用了太多次「quite standard」和「somewhat standard」作为回复了，因此这次你决定换一些。\n\n首先你写下了你对这道题的评价 $s$，这里 $s$ 是一个仅包含英文小写字母的字符串。为了让投稿者知道自己的题目有多 standard，你又将这个字符串 $s$ 粘贴了 $k-1$ 次。最终，你的评价形成了一个字符串 $t = s^k$。\n\n投稿者定义一个回复的 _怪异度_ 是这个字符串里的回文子串数量。请你求出你写下的回复 $t$ 的怪异度。由于这个值可能很大，你只需要输出它对 $998244353$ 取模的结果。\n\n**形式化的**，给定字符串 $s$ 和整数 $k$，求 $s^k$（字符串 $s$ 拼接 $k$ 次）有多少回文子串（位置不同即算作不同），模 $998244353$。", "inputFormat": "**本题含有多组输入数据**。\n\n第一行一个整数 $t(1 \\le t \\le 10^4)$ 表示数据组数。\n\n对于每组数据，第一行两个整数 $n,k(1 \\le n \\le 3 \\cdot 10^6,1 \\le k \\le 10^9)$ 表示字符串长度和拼接次数。\n\n第二行一个长度为 $n$ 的只包含小写字母的字符串 $s$。\n\n保证单组数据内 $\\sum n \\le 3 \\cdot 10^6$。", "outputFormat": "对于每组数据，输出一个整数表示答案对 $998244353$ 取模的结果。", "hint": "### 样例解释\n\n对于第一组数据，$t = s^2 = \\texttt{abababab}$，共有 $20$ 个回文子串。\n\n对于第三组数据，输入的字符串是 $(\\texttt{abaab})^6$。\n\n### 数据范围\n\n子任务 $1$ 为样例，不计分。\n\n| 子任务 | 分数 | $n \\le$ | $k \\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $2$ | $5$ | $2$ | $10^9$ |\n| $3$ | $30$ | $3 \\cdot 10^6$ | $3 \\cdot 10^6$ |\n| $4$ | $30$ | $2000$ | $10^9$ |\n| $5$ | $35$ | $3 \\cdot 10^6$ | $10^9$ |\n\n- 子任务 $3$ 保证 $\\sum k \\le 3 \\cdot 10^6$。\n- 子任务 $4$ 保证 $\\sum n^2 \\le 2.5 \\cdot 10^7$。", "locale": "zh-CN"}}}
{"pid": "P11750", "type": "P", "difficulty": 6, "samples": [["1 1 1\n1\n1 1\n1 1 1\n", "1\n"], ["10 6 8\n1 1 2 1 3 2 1 3 2 3\n1 5\n2 7\n3 6\n4 5\n7 10\n5 9\n1 3 3\n2 4 1\n5 6 1\n2 2 2\n4 6 3\n2 5 2\n1 3 1\n3 5 4\n", "1\n3\n1\n2\n2\n2\n3\n0\n"], ["15 15 15\n11 14 1 5 5 5 5 4 10 2 5 1 4 5 4\n10 14\n2 7\n7 12\n6 10\n4 5\n5 11\n3 15\n3 7\n3 8\n1 6\n8 11\n14 14\n5 8\n8 12\n4 5\n8 15 2\n12 13 5\n8 12 5\n7 12 11\n7 12 10\n2 11 11\n10 10 10\n5 13 11\n11 14 11\n2 4 4\n13 14 1\n4 8 11\n7 12 5\n3 5 11\n10 15 11\n", "1\n3\n4\n1\n1\n1\n0\n1\n0\n1\n1\n0\n6\n0\n1\n"], ["20 20 20\n12 1 20 1 1 11 11 1 11 12 11 17 12 1 11 12 20 12 17 17\n4 7\n6 7\n10 20\n17 19\n2 4\n6 6\n17 19\n10 12\n14 15\n12 13\n7 19\n8 16\n8 11\n4 6\n16 18\n3 8\n16 20\n4 5\n7 10\n6 19\n6 8 20\n2 6 12\n1 3 17\n4 5 12\n13 14 12\n2 8 11\n7 11 12\n3 4 20\n12 15 20\n19 19 1\n4 4 1\n1 8 1\n7 15 20\n2 8 17\n8 16 12\n4 12 1\n12 17 1\n4 9 11\n2 7 1\n1 15 17\n", "1\n4\n3\n1\n1\n2\n4\n1\n1\n1\n0\n2\n1\n3\n4\n2\n3\n1\n2\n3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["O2优化", "分块", "ST 表"], "title": "「TPOI-1D」谢谢您。", "background": "> もしも もう一度 あなたに会えるなら\n>\n> 如果 能够再次与您相遇\n>\n> たった一言伝えたい ありがとう ありがとう\n>\n> 我只想告诉您一句话 谢谢您 谢谢您\n>\n> —— KOKIA「[ありがとう…](https://www.bilibili.com/video/BV12W421X7MQ/)」 ", "description": "Misaka Mikoto 给你一个长度为 $n$ 的序列 $[a_1, \\dots, a_n]$ 和 $m$ 个区间 $[l_1,r_1], \\dots, [l_m,r_m]$。\n\nMisaka Mikoto 有 $q$ 次询问 $L, R, k$，对于每一次询问，请你求出：\n\n$$\\max_{i=L}^R \\sum_{j=l_i}^{r_i} [a_j = k]$$", "inputFormat": "第一行包含三个正整数 $n, m, q$。\n\n接下来一行，$n$ 个正整数 $a_1, \\ldots, a_n$。\n\n接下来 $m$ 行，第 $i$ 行包含两个正整数 $l_i, r_i$。\n\n接下来 $q$ 行，每行有三个正整数 $L, R, k$，依次表示每次询问。", "outputFormat": "输出共 $q$ 行。第 $i$ 行一个整数，表示第 $i$ 次询问的答案。", "hint": "**本题采用捆绑测试。**\n\n- Subtask 1（5 分）：$n,m,q\\le 500$。\n- Subtask 2（5 分）：$n,m,q\\le 5000$。\n- Subtask 3（5 分）：序列 $a$ 中至多有 $100$ 种元素。\n- Subtask 4（5 分）：序列 $a$ 中每种元素至多出现 $10$ 次。\n- Subtask 5（20 分）：$n,m,q\\le 5\\times 10^4$。\n- Subtask 6（20 分）：$n,m,q\\le 10^5$。\n- Subtask 7（40 分）：无特殊限制。\n\n对于 $100\\%$ 数据，$1\\le n,m,q\\le 2\\times 10^5$，$1\\le a_i,k\\le n$，$1\\le l_i\\le r_i\\le n$，$1\\le L\\le R\\le m$。", "locale": "zh-CN", "translations": {"en": {"title": "「TPOI-1D」Thank You", "background": "> もしも もう一度 あなたに会えるなら  \n> If I could meet you once more  \n> たった一言伝えたい ありがとう ありがとう  \n> I just want to say one thing: thank you, thank you  \n> —— KOKIA「[ありがとう…](https://www.bilibili.com/video/BV12W421X7MQ/)」", "description": "Misaka Mikoto gives you a sequence $[a_1, \\dots, a_n]$ of length $n$ and $m$ intervals $[l_1, r_1], \\dots, [l_m, r_m]$.  \n\nThere are $q$ queries in the form $L, R, k$. For each query, compute:  \n$$\\max_{i=L}^R \\sum_{j=l_i}^{r_i} [a_j = k]$$  \n", "inputFormat": "The first line contains three positive integers $n, m, q$.  \n\nThe second line contains $n$ positive integers $a_1, \\ldots, a_n$.  \n\nThe next $m$ lines each contain two positive integers $l_i, r_i$.  \n\nThe next $q$ lines each contain three positive integers $L, R, k$, representing the queries.  ", "outputFormat": "Output $q$ lines. The $i$-th line should contain the answer to the $i$-th query.  ", "hint": "**This problem uses bundled tests.**  \n\n- Subtask 1 (5 points): $n, m, q \\le 500$.  \n- Subtask 2 (5 points): $n, m, q \\le 5000$.  \n- Subtask 3 (5 points): At most 100 distinct elements in sequence $a$.  \n- Subtask 4 (5 points): Each element in $a$ appears at most 10 times.  \n- Subtask 5 (20 points): $n, m, q \\le 5 \\times 10^4$.  \n- Subtask 6 (20 points): $n, m, q \\le 10^5$.  \n- Subtask 7 (40 points): No additional constraints.  \n\nFor $100\\%$ data: $1 \\le n, m, q \\le 2 \\times 10^5$, $1 \\le a_i, k \\le n$, $1 \\le l_i \\le r_i \\le n$, $1 \\le L \\le R \\le m$.  \n\nTranslated by DeepSeek R1  ", "locale": "en"}, "zh-CN": {"title": "「TPOI-1D」谢谢您。", "background": "> もしも もう一度 あなたに会えるなら\n>\n> 如果 能够再次与您相遇\n>\n> たった一言伝えたい ありがとう ありがとう\n>\n> 我只想告诉您一句话 谢谢您 谢谢您\n>\n> —— KOKIA「[ありがとう…](https://www.bilibili.com/video/BV12W421X7MQ/)」 ", "description": "Misaka Mikoto 给你一个长度为 $n$ 的序列 $[a_1, \\dots, a_n]$ 和 $m$ 个区间 $[l_1,r_1], \\dots, [l_m,r_m]$。\n\nMisaka Mikoto 有 $q$ 次询问 $L, R, k$，对于每一次询问，请你求出：\n\n$$\\max_{i=L}^R \\sum_{j=l_i}^{r_i} [a_j = k]$$", "inputFormat": "第一行包含三个正整数 $n, m, q$。\n\n接下来一行，$n$ 个正整数 $a_1, \\ldots, a_n$。\n\n接下来 $m$ 行，第 $i$ 行包含两个正整数 $l_i, r_i$。\n\n接下来 $q$ 行，每行有三个正整数 $L, R, k$，依次表示每次询问。", "outputFormat": "输出共 $q$ 行。第 $i$ 行一个整数，表示第 $i$ 次询问的答案。", "hint": "**本题采用捆绑测试。**\n\n- Subtask 1（5 分）：$n,m,q\\le 500$。\n- Subtask 2（5 分）：$n,m,q\\le 5000$。\n- Subtask 3（5 分）：序列 $a$ 中至多有 $100$ 种元素。\n- Subtask 4（5 分）：序列 $a$ 中每种元素至多出现 $10$ 次。\n- Subtask 5（20 分）：$n,m,q\\le 5\\times 10^4$。\n- Subtask 6（20 分）：$n,m,q\\le 10^5$。\n- Subtask 7（40 分）：无特殊限制。\n\n对于 $100\\%$ 数据，$1\\le n,m,q\\le 2\\times 10^5$，$1\\le a_i,k\\le n$，$1\\le l_i\\le r_i\\le n$，$1\\le L\\le R\\le m$。", "locale": "zh-CN"}}}
{"pid": "P11751", "type": "P", "difficulty": 1, "samples": [["32\n\\../.\\../\\../.\\../.\\../.\\../\\../\n.\\/...\\/..\\/...\\/...\\/...\\/..\\/.", "vwvvw"], ["27\n\\../\\../.\\../\\../.\\../.\\../\n.\\/..\\/...\\/..\\/...\\/...\\/.", "wwvv"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #5] 呜哇 / Wow", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T1。$\\texttt{1s,0.5G}$。满分为 $50$。\n", "description": "\n有一种加密信息的方式，把每个小写字母替换成两行若干列的字符矩阵。\n\n例如，字母 $\\texttt{v}$ 被加密成 \n\n$$\\begin{aligned}&\\texttt{\\char092../}\\\\&\\texttt{.\\char092/.}\\end{aligned}$$\n\n而字母 $\\texttt{w}$ 被加密成\n\n\n$$\\begin{aligned}&\\texttt{\\char092../\\char092../}\\\\&\\texttt{.\\char092/..\\char092/}\\end{aligned}$$\n\n相邻两个字母间会**用恰好一列空列隔开**。这里，空列指的是只包含点（$\\texttt{.}$）的一列。\n\n已知字符串 $s$ 中只包含字母 $\\texttt{v},\\texttt{w}$。给定 $s$ 加密后的字符矩阵，请你还原出 $s$。", "inputFormat": "\n\n第一行，一个正整数 $n$，表示加密后字符矩阵的列数。\n\n两行，每行长度为 $n$ 的两个字符串，表示加密后的结果。\n\n相邻两个字母间会**用恰好一列空列隔开**。这里，空列指的是只包含点（$\\texttt{.}$）的一列。", "outputFormat": "输出一行一个字符串表示答案。\n", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^3$。\n\n| 子任务编号 | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  A   |   $ 21 $   |  \n| $ 2 $    |  B  |  $ 13 $   |  \n| $ 3 $   |    | $16$ |\n\n- 特殊性质 A：还原后的字符串只含**一个**字母。\n- 特殊性质 B：还原后的字符串只含**一种**字母。\n", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2024/2025 #5] Wow", "background": "", "description": "While Mr. Malnar was traveling by bus to Graz, he noticed that other passengers were looking at his phone and reading the messages he was sending to Patrik. Mr. Malnar decided to put an end to this. Therefore, together with Patrik, he developed a new way of encrypting their messages, which they call the VolksWagen cipher.\n\nThe received message can be imagined as a table of characters with $2$ rows and $n$ columns. Each letter spans all $2$ rows and several columns, and they are separated by spaces. The appearance of letters in the message can be seen in the sample test cases.\n\nThe letter $\\texttt{v}$ is represented as follows:\n\n$$\\begin{aligned}&\\texttt{\\char092../}\\\\&\\texttt{.\\char092/.}\\end{aligned}$$\n\n\nThe letter $\\texttt{w}$ is represented as follows:\n\n$$\\begin{aligned}&\\texttt{\\char092../\\char092../}\\\\&\\texttt{.\\char092/..\\char092/}\\end{aligned}$$\n\nFrom now on, Patrik and Mr. Malnar will communicate exclusively using the letters $\\texttt{v}$ and $\\texttt{w}$. However, Mr. Malnar is having trouble reading these messages. He has asked you to help him decipher the message he received. Of course, he has not revealed to you how to decrypt their cipher.", "inputFormat": "The first line contains a positive integer $N$ ($1 ≤ N ≤ 1000$), the number of columns in the message.\n\nIn the next $2$ rows, there are $N$ characters each, representing one row of the message. It is guaranteed that empty columns will be exactly between two different letters, and there will be exactly one empty column between two letters. (An empty column is considered to be one that contains only the character ’$\\texttt{.}$’.)", "outputFormat": "In a single line, print the letters that appear in the message in order.", "hint": "| Subtask | Points | Constraints |\n| :--: | :--: | :--: |\n| $1$ | $21$ | The message consists of a single letter. |\n| $2$ | $13$ | All letters in the message will be the same. |\n| $3$ | $16$ | No additional constraints |", "locale": "en"}, "zh-CN": {"title": "[COCI 2024/2025 #5] 呜哇 / Wow", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T1。$\\texttt{1s,0.5G}$。满分为 $50$。\n", "description": "\n有一种加密信息的方式，把每个小写字母替换成两行若干列的字符矩阵。\n\n例如，字母 $\\texttt{v}$ 被加密成 \n\n$$\\begin{aligned}&\\texttt{\\char092../}\\\\&\\texttt{.\\char092/.}\\end{aligned}$$\n\n而字母 $\\texttt{w}$ 被加密成\n\n\n$$\\begin{aligned}&\\texttt{\\char092../\\char092../}\\\\&\\texttt{.\\char092/..\\char092/}\\end{aligned}$$\n\n相邻两个字母间会**用恰好一列空列隔开**。这里，空列指的是只包含点（$\\texttt{.}$）的一列。\n\n已知字符串 $s$ 中只包含字母 $\\texttt{v},\\texttt{w}$。给定 $s$ 加密后的字符矩阵，请你还原出 $s$。", "inputFormat": "\n\n第一行，一个正整数 $n$，表示加密后字符矩阵的列数。\n\n两行，每行长度为 $n$ 的两个字符串，表示加密后的结果。\n\n相邻两个字母间会**用恰好一列空列隔开**。这里，空列指的是只包含点（$\\texttt{.}$）的一列。", "outputFormat": "输出一行一个字符串表示答案。\n", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^3$。\n\n| 子任务编号 | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  A   |   $ 21 $   |  \n| $ 2 $    |  B  |  $ 13 $   |  \n| $ 3 $   |    | $16$ |\n\n- 特殊性质 A：还原后的字符串只含**一个**字母。\n- 特殊性质 B：还原后的字符串只含**一种**字母。\n", "locale": "zh-CN"}}}
{"pid": "P11752", "type": "P", "difficulty": 3, "samples": [["3 3\n...\n...\n..#", "36"], ["4 4\n....\n.#..\n#...\n#.#.", "76"], ["5 5\n.....\n#..#.\n..#.#\n.....\n..#..", "154"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #5] 挂画 / Zid", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T2。$\\texttt{1s,0.5G}$。满分为 $70$。\n", "description": "\n有一面 $n$ 行 $m$ 列的矩形墙，被划分为 $n\\times m$ 个区域。墙上有些区域有钉子，用 $\\texttt{\\#}$ 表示；其他的区域没有钉子，用 $\\texttt{.}$。\n\n现在要在墙上挂画。我们说一种挂画方式是合法的，当且仅当：\n\n- 画占据墙上的一个矩形区域；\n- 画占据的区域中**至多一个**区域存在钉子。\n\n求出有多少种合法的挂画方式。", "inputFormat": "\n第一行，两个正整数 $n,m$。\n\n接下来 $n$ 行，第 $i$ 行一个字符串 $c$，$c_{i,j}$ 表示墙上第 $i$ 行第 $j$ 列的区域的状态。", "outputFormat": "输出一行一个正整数表示答案。\n", "hint": "\n#### 样例解释\n\n- 样例 $1$ 解释：随便怎么放都是合法的。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 500$。\n\n| 子任务编号 |  $n,m\\le$ | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  $10$  |   $ 17 $   |  \n| $ 2 $    |  $100$  |  $ 21 $   |  \n| $ 3 $   |  $500$  | $32$ |\n", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2024/2025 #5] Zid", "background": "", "description": "Mr. Malnar wants to put up a picture of himself on the wall. The wall can be\nrepresented as a matrix with $n$ rows and $m$ columns. Since he has placed his\npicture on the wall many times before, some positions still have nails embedded\nin them. Such positions are marked with the symbol \"$\\texttt{\\#}$\", while empty spots are\nmarked with the symbol \"$\\texttt{.}$\".\n\nThe picture has a rectangular shape with arbitrary dimensions and is placed on\nthe wall in a way that it covers a rectangular area. The picture can be placed on\nthe wall if it covers at most one position that contains a nail.\n\nHelp Mr. Malnar calculate the number of ways he can place his picture on the wall.", "inputFormat": "  The first line of input contains $n$ and $m$ ($1 ≤ n,m ≤ 500$), the dimensions of the wall.\n  \nIn each of the next $n$ lines, there are $m$ characters $c_{ij}$ , describing the wall. Each character will be either\n\"$\\texttt{.}$\" or \"$\\texttt{\\#}$\" (without quotes).", "outputFormat": "In a single line of output, print the number of possible ways to place the picture on the wall.", "hint": "**Clarification of the first example:**\n\nEach placement of the picture is valid as long as it covers at most one nail.\n\n\n**Clarification of the second example:**\n\nThe picture cannot be placed in a way that it covers positions $(3, 1)$ and $(4, 1)$ simultaneously.\n\n### Scoring\n\n| Subtask | Points | Constraints |\n| :--: | :--: | :--: |\n| $1$ | $17$ | $n,m ≤ 10$ |\n| $2$ | $21$ | $n,m ≤ 100$ |\n| $3$ | $32$ | No additional constraints. |", "locale": "en"}, "zh-CN": {"title": "[COCI 2024/2025 #5] 挂画 / Zid", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T2。$\\texttt{1s,0.5G}$。满分为 $70$。\n", "description": "\n有一面 $n$ 行 $m$ 列的矩形墙，被划分为 $n\\times m$ 个区域。墙上有些区域有钉子，用 $\\texttt{\\#}$ 表示；其他的区域没有钉子，用 $\\texttt{.}$。\n\n现在要在墙上挂画。我们说一种挂画方式是合法的，当且仅当：\n\n- 画占据墙上的一个矩形区域；\n- 画占据的区域中**至多一个**区域存在钉子。\n\n求出有多少种合法的挂画方式。", "inputFormat": "\n第一行，两个正整数 $n,m$。\n\n接下来 $n$ 行，第 $i$ 行一个字符串 $c$，$c_{i,j}$ 表示墙上第 $i$ 行第 $j$ 列的区域的状态。", "outputFormat": "输出一行一个正整数表示答案。\n", "hint": "\n#### 样例解释\n\n- 样例 $1$ 解释：随便怎么放都是合法的。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 500$。\n\n| 子任务编号 |  $n,m\\le$ | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  $10$  |   $ 17 $   |  \n| $ 2 $    |  $100$  |  $ 21 $   |  \n| $ 3 $   |  $500$  | $32$ |\n", "locale": "zh-CN"}}}
{"pid": "P11753", "type": "P", "difficulty": 4, "samples": [["6\n3 6 6 6 1 3", "4 3 3 3 6 1"], ["5\n10 2 10 15 5", "1 3 1 1 3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #5] 塔楼 / Tornjevi", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T3。$\\texttt{2s,0.5G}$。满分为 $90$。\n", "description": "\n给定正整数序列 $h_1,\\ldots,h_n$。\n\n对于区间 $[l,r]$，我们称 $i$（$l\\le i\\le r$）关于 $[l,r]$ 是**好的**，当且仅当：$h_i=\\gcd(h_l,h_{l+1},\\ldots,h_r)$。\n\n对于 $i$，定义 $f(i)$ 表示：所有 $i$ 关于 $[l,r]$ 是好的区间中，$r-l+1$ 的最大值。\n\n对于 $i=1,2,\\ldots,n$，求出 $f(i)$。", "inputFormat": "\n第一行，正整数 $n$。\n\n第二行，$n$ 个正整数 $h_1,h_2,\\ldots,h_n$。", "outputFormat": "输出 $n$ 个正整数 $f(1),f(2),\\ldots,f(n)$。\n", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n,h_i\\le 10^6$。\n\n| 子任务编号 |  $n\\le$ | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |\n| $ 1 $    |  $100$  |   | $ 7 $   |  \n| $ 2 $    |  $5\\times 10^3$  |  | $ 11 $   |  \n| $ 3 $    |  $5\\times 10^4$  |  | $ 17 $   |  \n| $ 4 $    | $10^6$  |  A | $ 29 $   |  \n| $ 5 $   |  $10^6$  | | $26$ |\n\n特殊性质 A：$h_i\\le 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "", "background": "", "description": "On a certain street, there are $ n $ towers, numbered consecutively from $1$ to $n$. Each\ntower has its own height $h_i$, expressed in meters.\n\nFor a **consecutive subsequence** of towers numbered $l, l + 1, \\ldots, r$, we say that the tower with number $i$ ($l ≤ i ≤ r$) is good in that subsequence if it holds that $h_i = \\gcd (h_l, h_{l+1}, \\ldots , h_r)$, where $\\gcd (a_1, a_2, \\ldots , a_k)$ denotes the greatest common\ndivisor of the set of positive integers $a_1, a_2, \\ldots , a_k$.\n\nYour task is to determine, for each $i = 1, 2, \\ldots , n$, the size of the largest consecutive\nsubsequence in which the tower with number $i$ is good, where the size of a consecutive subsequence is\ndefined as the number of towers in that subsequence.", "inputFormat": "In the first line, there is an integer $n$ ($1 ≤ n ≤ 10^6$), the number of towers.\n\nIn the second line, there are $n$ integers, in order, $h_1, h_2, \\ldots, h_n$ ($1 ≤ h_i ≤ 10^6$).", "outputFormat": "In a single line, print the answer to the above-mentioned question for each $i = 1, 2, \\ldots , n$, in order.", "hint": "**Clarification of the first example:**\n\nIn the first four towers, tower number $1$ is good. Towers with\nnumbers $2, 3$, and $4$ are good in the subsequence they form themselves. Tower $5$ will be good in any\narbitrary subsequence that contains it, so the answer will be 6 (the entire sequence).\n\n### Scoring\n\n| Subtask | Points | Constraints |\n| :-: | :-: | :-: |\n| $1$ | $7 $ |$n ≤ 100 $|\n| $2$ | $11$ |$ n ≤ 5000 $|\n| $3$ | $17$ |$ n ≤ 50000 $|\n| $4$ | $29$ |$ h_i ≤ 100 $|\n| $5$ | $26$ |No additional constraints. |", "locale": "en"}, "zh-CN": {"title": "[COCI 2024/2025 #5] 塔楼 / Tornjevi", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T3。$\\texttt{2s,0.5G}$。满分为 $90$。\n", "description": "\n给定正整数序列 $h_1,\\ldots,h_n$。\n\n对于区间 $[l,r]$，我们称 $i$（$l\\le i\\le r$）关于 $[l,r]$ 是**好的**，当且仅当：$h_i=\\gcd(h_l,h_{l+1},\\ldots,h_r)$。\n\n对于 $i$，定义 $f(i)$ 表示：所有 $i$ 关于 $[l,r]$ 是好的区间中，$r-l+1$ 的最大值。\n\n对于 $i=1,2,\\ldots,n$，求出 $f(i)$。", "inputFormat": "\n第一行，正整数 $n$。\n\n第二行，$n$ 个正整数 $h_1,h_2,\\ldots,h_n$。", "outputFormat": "输出 $n$ 个正整数 $f(1),f(2),\\ldots,f(n)$。\n", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n,h_i\\le 10^6$。\n\n| 子任务编号 |  $n\\le$ | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |\n| $ 1 $    |  $100$  |   | $ 7 $   |  \n| $ 2 $    |  $5\\times 10^3$  |  | $ 11 $   |  \n| $ 3 $    |  $5\\times 10^4$  |  | $ 17 $   |  \n| $ 4 $    | $10^6$  |  A | $ 29 $   |  \n| $ 5 $   |  $10^6$  | | $26$ |\n\n特殊性质 A：$h_i\\le 100$。\n", "locale": "zh-CN"}}}
{"pid": "P11754", "type": "P", "difficulty": 5, "samples": [["1 2\n1 1\n1 1", "1\n3"], ["3 2\n2 2\n1 3", "9\n3"], ["57 2\n13 39\n6 42", "130653412\n804077942"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2025", "COCI（克罗地亚）", "Ad-hoc"], "title": "[COCI 2024/2025 #5] 绘图 / Crtež", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T4。$\\texttt{2s,0.5G}$。满分为 $120$。\n\n赛时公告：$a_i$ 初值为 $0$。", "description": "\n\n考虑一个长度为 $n$ 的整数序列 $a_1,\\ldots,a_n$，初始时 $a_i\\in \\{-1,0\\}$。\n\n你可以按照如下的步骤操作任意多次（包括零次）：\n\n\n- 令这是第 $x$ 次操作。首先选择 $i$ 满足 $1\\le i\\le n$，且 $a_i=0$。（如果不存在，则无法继续操作）\n- 从如下的操作中二选一：\n    - 令 $a_i\\gets -1$，然后终止本次操作。\n    - 令 $a_i\\gets x$。重复执行以下操作，直到 $i=1$ 或 $a_{i-1}\\neq 0$：\n      - 令 $i\\gets i-1$，然后令 $a_{i}\\gets x$。\n\n操作完后会得到若干个结果序列 $a$。\n\n我们称两个序列 $a,b$ **等价**，当且仅当，能够重标号 $a$ 序列中 $>0$ 的元素，使得重标号后这两个序列相等。\n\n例如，$[1,1,-1,5,1,0]$ 和 $[2,2,-1,6,2,0]$ 等价。\n\n更为精确地说，如果能构造一个**双射** $f: \\{-1,0,\\ldots\\}\\to \\{-1,0,\\ldots\\}$，满足：\n\n- $f(-1)=-1$，$f(0)=0$；\n- 对于 $i\\gt 0$，$f(i)\\gt 0$；\n- $[f(a_1),f(a_2),\\ldots,f(a_n)]=[b_1,b_2,\\ldots,b_n]$。\n\n那我们就说，$a$ 和 $b$ 等价。\n\n---\n\n现在有 $q$ 个操作。每个操作给定 $l,r$，将 $a_l,a_{l+1},\\ldots,a_r$ 中的 $0$ **同时**替换成 $-1$，$-1$ **同时**替换成 $0$。\n\n每次操作后，求出以当前的 $a$ 序列为起始序列，操作得到的互不等价的结果序列的数量模 $(10^9+7)$ 后的结果。\n\n**没有进行任何操作之前，$a_i=0$。**", "inputFormat": "\n第一行，正整数 $n,q$。\n\n接下来 $q$ 行，每行两个正整数 $l,r$，描述一次操作。", "outputFormat": "输出 $q$ 行，第 $i$ 行一个非负整数，表示第 $i$ 次操作得到的互不等价的序列数量模 $(10^9+7)$ 后的结果。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：\n\n第一次操作后，$a=[-1]$。无法操作。互不等价的序列只有 $[-1]$。\n\n第二次操作后，$a=[0]$。互不等价的序列有 $[0],[1],[-1]$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n- $1\\le n\\le 10^{18}$；\n- $1\\le q\\le 10^5$；\n- $1\\le l\\le r\\le n$。\n\n| 子任务编号 |  $n\\le$ | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |\n| $ 1 $    |  $ 10^3$  | A  | $ 20 $   |  \n| $ 2 $    |  $10^6$  |  | $ 55 $   |  \n| $ 3 $    |  $10^{18}$  |  | $ 45 $   |  \n\n特殊性质 A：$q\\le  10^3$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2024/2025 #5] Crtež", "background": "", "description": "A game is given on a sequence of length $N$, initially filled with zeros. During the\ngame, we color positions in the sequence using a series of operations, and we can\nstop coloring after any operation.\n\nThe $X$-th coloring operation is described by the following procedure:\n\n- We select a position containing $0$.\n- We decide whether to:\n  - Paint the selected position with $−1$.\n  - Paint the selected position with color $X$ and continue painting adjacent\npositions to the left with color $X$. We stop painting when we encounter\na position with a value less than $0$ (which we do not paint) or when we\ngo out of the sequence bounds.\n\nTwo games are considered equivalent if, in their final sequences, we can rename the colors greater than $0$,\ni.e., if there is a bijective mapping such that:\n\n- Colors after mapping remain greater than $0$.\n- Each color receives exactly one new label.\n- After mapping, both sequences are identical.\n\nAn example of equivalent games is:\n- $[1, 1,−1, 2,−1, 3, 0]$\n- $[3, 3,−1, 1,−1, 2, 0]$\n\n\nbecause there is a mapping of colors (color $1$ to color $3$, color $2$ to color $1$, color $3$ to color $2$) such that all\nthe above conditions are satisfied.\n\nThere are $Q$ updates given, where for each update, we swap all $0$s with $−1$s and all $−1$s with $0$s in the\ninterval $[L,R]$ in the sequence.\n\nAfter each update, print the number $K$, the number of different games that can be played with an arbitrary\n  number of operations such that no two games are equivalent. Since $K$ is very large, print the result\nmodulo $10^9 + 7$.", "inputFormat": "In the first line, there are $2$ natural numbers $N, Q$ ($1 ≤ N ≤ 10^{18}, 1 ≤ Q ≤ 10^5$), representing the number\nof fields in the sequence and the number of updates.\n\nIn the following $Q$ lines, there are two natural numbers, $L$ and $R$ ($1 ≤ L,R ≤ N$), indicating the positions\nthat describe the update from the problem statement.", "outputFormat": "In the $i$-th of the following $Q$ lines, print the remainder of the division of the number $K$ by $10^9 + 7$ after\neach update.", "hint": "**Clarification of the first example:**\n\nAfter the first update, the sequence is equal to $[−1]$. We cannot\nperform any operations on it, so the maximum number of games we can play is $1$. \n\nAfter the second\nupdate, the sequence is equal to $[0]$. From the sequence $[0]$, using the operations described in the problem\nstatement, we can create the sequences $[0]$, $[1]$, and $[−1]$. We observe that no pair of these sequences is\nequivalent, so the maximum number of games we can play is $3$.\n\n### Scoring\n\n| Subtask | Points | Constraints |\n| :-: | :-: | :-: |\n| $1$ | $20$ | $N,Q ≤ 1000$ |\n| $2$ | $55$ | $N ≤ 10^6$ |\n| $3$ | $45$ | No additional constraints. |", "locale": "en"}, "zh-CN": {"title": "[COCI 2024/2025 #5] 绘图 / Crtež", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T4。$\\texttt{2s,0.5G}$。满分为 $120$。\n\n赛时公告：$a_i$ 初值为 $0$。", "description": "\n\n考虑一个长度为 $n$ 的整数序列 $a_1,\\ldots,a_n$，初始时 $a_i\\in \\{-1,0\\}$。\n\n你可以按照如下的步骤操作任意多次（包括零次）：\n\n\n- 令这是第 $x$ 次操作。首先选择 $i$ 满足 $1\\le i\\le n$，且 $a_i=0$。（如果不存在，则无法继续操作）\n- 从如下的操作中二选一：\n    - 令 $a_i\\gets -1$，然后终止本次操作。\n    - 令 $a_i\\gets x$。重复执行以下操作，直到 $i=1$ 或 $a_{i-1}\\neq 0$：\n      - 令 $i\\gets i-1$，然后令 $a_{i}\\gets x$。\n\n操作完后会得到若干个结果序列 $a$。\n\n我们称两个序列 $a,b$ **等价**，当且仅当，能够重标号 $a$ 序列中 $>0$ 的元素，使得重标号后这两个序列相等。\n\n例如，$[1,1,-1,5,1,0]$ 和 $[2,2,-1,6,2,0]$ 等价。\n\n更为精确地说，如果能构造一个**双射** $f: \\{-1,0,\\ldots\\}\\to \\{-1,0,\\ldots\\}$，满足：\n\n- $f(-1)=-1$，$f(0)=0$；\n- 对于 $i\\gt 0$，$f(i)\\gt 0$；\n- $[f(a_1),f(a_2),\\ldots,f(a_n)]=[b_1,b_2,\\ldots,b_n]$。\n\n那我们就说，$a$ 和 $b$ 等价。\n\n---\n\n现在有 $q$ 个操作。每个操作给定 $l,r$，将 $a_l,a_{l+1},\\ldots,a_r$ 中的 $0$ **同时**替换成 $-1$，$-1$ **同时**替换成 $0$。\n\n每次操作后，求出以当前的 $a$ 序列为起始序列，操作得到的互不等价的结果序列的数量模 $(10^9+7)$ 后的结果。\n\n**没有进行任何操作之前，$a_i=0$。**", "inputFormat": "\n第一行，正整数 $n,q$。\n\n接下来 $q$ 行，每行两个正整数 $l,r$，描述一次操作。", "outputFormat": "输出 $q$ 行，第 $i$ 行一个非负整数，表示第 $i$ 次操作得到的互不等价的序列数量模 $(10^9+7)$ 后的结果。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：\n\n第一次操作后，$a=[-1]$。无法操作。互不等价的序列只有 $[-1]$。\n\n第二次操作后，$a=[0]$。互不等价的序列有 $[0],[1],[-1]$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n- $1\\le n\\le 10^{18}$；\n- $1\\le q\\le 10^5$；\n- $1\\le l\\le r\\le n$。\n\n| 子任务编号 |  $n\\le$ | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |\n| $ 1 $    |  $ 10^3$  | A  | $ 20 $   |  \n| $ 2 $    |  $10^6$  |  | $ 55 $   |  \n| $ 3 $    |  $10^{18}$  |  | $ 45 $   |  \n\n特殊性质 A：$q\\le  10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P11755", "type": "P", "difficulty": 5, "samples": [["6 2\n1 2\n2 3\n2 4\n1 5\n4 6\n5 2\n6 1", "2 0 2 1 2"], ["5 4\n1 2\n2 3\n3 4\n4 5\n5 5\n4 3\n2 1\n2 4", "3 4 4 0"], ["5 4\n3 5\n2 3\n4 3\n5 1\n4 1\n5 5\n4 2\n1 5", "1 3 3 4"]], "limits": {"time": [3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #5] 树树 2 / Stablo II", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T5。$\\texttt{3.5s,0.5G}$。满分为 $120$。\n", "description": "\n给定 $n$ 个节点的树，初始时所有边边权为 $0$。\n\n$q$ 次操作，第 $i$ 次操作将 $u,v$ 最短路径上的边权**覆盖**为 $i$。\n\n最终输出每条边的边权。\n", "inputFormat": "\n第一行，正整数 $n,q$。\n\n接下来 $(n-1)$ 行，每行两个正整数 $u_i,v_i$，描述第 $i$ 条树边 $(u_i,v_i)$。\n\n接下来 $q$ 行，每行两个正整数 $u,v$，描述一次操作。", "outputFormat": "\n一行 $(n-1)$ 个非负整数，第 $i$ 个整数描述第 $i$ 条树边的边权。", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n- $2\\le n\\le 10^6$；\n- $1\\le q\\le 10^6$；\n- $1\\le u,v\\le n$。\n\n| 子任务编号 |  $n\\le$ | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |\n| $ 1 $    |  $10^6$  | A  | $ 15 $   |  \n| $ 2 $    |  $2\\times 10^3$  | B | $ 15 $   |  \n| $ 3 $    |  $10^5$  |  | $ 45 $   |  \n| $ 4 $    |  $10^6$  |  | $ 45 $   |  \n\n- 特殊性质 A：$u_i=i,v_i=i+1$。\n- 特殊性质 B：$q\\le 2\\times 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2024/2025 #5] Stablo II", "background": "", "description": "Patrik received a tree with $n$ vertices. He decided to paint the edges of that tree\nusing $k$ different colors.\n\nInitially, all edges of the tree are painted with color $0$. He will use the colors in\norder from the first to the $k$-th, where he will use the $i$-th color to paint all the\nedges on the shortest path from the $x_i$-th to the $y_i$-th node. If an edge on that\npath is already painted, the new color will overwrite the old one.\n\nHelp Patrik determine the final color of each edge.", "inputFormat": "In the first line of input, there are numbers $n$ and $k$ ($2 ≤ n ≤ 10^6, 1 ≤ k ≤ 10^6$), representing the number\nof vertices in the tree and the number of colors.\n\nIn the next $n − 1$ lines, there are numbers $u_i$ and $v_i$ ($1 ≤ u_i, v_i ≤ n$) — the $i$-th edge connects the vertices\n$u_i$ and $v_i$. It is guaranteed that the edges form a tree.\n\nIn the following $k$ lines, there are numbers $x_i$ and $y_i$ ($1 ≤ x_i, y_i ≤ n$), representing the nodes between\nwhich Patrik paints the edges.", "outputFormat": "In a single line, print the final color of each edge in the order they were given in the input.", "hint": "**Clarification of the first example:**\n\nWith the first color, he painted edges $1$ and $4$, and then with the second color, he painted edges $1, 3$, and $5$.\n\n### Scoring\n| Subtask | Points | Constraints |\n| :-: | :-: | :-: |\n| $1$ | $15$ | $u_i = i, v_i = i + 1$ for all $1\\le i\\le n-1$ |\n| $2$ | $15$ | $n, k ≤ 2000$ |\n| $3$ | $45$ | $n ≤ 10^5$ |\n| $4$ | $45$ | No additional constraints. |", "locale": "en"}, "zh-CN": {"title": "[COCI 2024/2025 #5] 树树 2 / Stablo II", "background": "译自 [COCI 2024/2025 #5](https://hsin.hr/coci/) T5。$\\texttt{3.5s,0.5G}$。满分为 $120$。\n", "description": "\n给定 $n$ 个节点的树，初始时所有边边权为 $0$。\n\n$q$ 次操作，第 $i$ 次操作将 $u,v$ 最短路径上的边权**覆盖**为 $i$。\n\n最终输出每条边的边权。\n", "inputFormat": "\n第一行，正整数 $n,q$。\n\n接下来 $(n-1)$ 行，每行两个正整数 $u_i,v_i$，描述第 $i$ 条树边 $(u_i,v_i)$。\n\n接下来 $q$ 行，每行两个正整数 $u,v$，描述一次操作。", "outputFormat": "\n一行 $(n-1)$ 个非负整数，第 $i$ 个整数描述第 $i$ 条树边的边权。", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n- $2\\le n\\le 10^6$；\n- $1\\le q\\le 10^6$；\n- $1\\le u,v\\le n$。\n\n| 子任务编号 |  $n\\le$ | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |\n| $ 1 $    |  $10^6$  | A  | $ 15 $   |  \n| $ 2 $    |  $2\\times 10^3$  | B | $ 15 $   |  \n| $ 3 $    |  $10^5$  |  | $ 45 $   |  \n| $ 4 $    |  $10^6$  |  | $ 45 $   |  \n\n- 特殊性质 A：$u_i=i,v_i=i+1$。\n- 特殊性质 B：$q\\le 2\\times 10^3$。", "locale": "zh-CN"}}}
{"pid": "P11756", "type": "P", "difficulty": 0, "samples": [["9 7\n5\n3 3 2\n7 2 1\n6 3 2\n5 4 1\n1 4 1", "21 42\n12 30\n15 15\n6 9\n9 12"], ["4 4\n3\n2 2 2\n1 2 1\n3 2 1", "8 8\n4 4\n4 4"], ["9 7\n10\n6 1 2\n2 6 2\n8 5 2\n5 2 2\n4 3 1\n1 2 1\n7 6 1\n3 4 1\n1 4 1\n7 2 1", "21 42\n14 28\n7 14\n7 21\n9 12\n4 10\n2 12\n3 9\n4 6\n4 8"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "COTS（克罗地亚）"], "title": "[COTS 2014] 土地划分 / KRAVE", "background": "", "description": "Mirko 有一块草地，宽 $A$ 米，高 $B$ 米，边和坐标轴平行，草地的左下角位于 $(0,0)$ 处，右上边缘位于 $(A,B)$ 处。\n\nMirko 决定在他的草地上建造水平和垂直围栏。按如下方式执行此作：首先，选择一个点 $(X,Y)$，到目前为止没有栅栏通过该点，并决定新栅栏是水平的还是垂直的。之后，他沿所选方向建造一个栅栏，直到他遇到另一个栅栏并将它们连接在那里，然后再进行下一次操作。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u5jg5xmm.png)\n\n这是关于样例 $1$ 建造过程的解释。\n\n通过栅栏的划分后，田地会被划分成若干个矩形，对于每个矩形而言，矩形边缘有栅栏，里面没有栅栏。具体的，每次划分会把一个矩形划分为两个新的矩形。\n\n现在有若干对建造栅栏步骤的描述，你要按升序输出新产生的两个矩形的面积。", "inputFormat": "第一行有两个整数 $A,B$，表示草地的宽和高。\n\n第二行一个整数 $N$，表示建造栅栏的步骤数。\n\n接下来 $N$ 行，每行三个整数 $X,Y,D$，表示从 $(X,Y)$ 开始，若 $D=1$ 建造一个水平栅栏，若 $D=2$ 建造竖直栅栏。\n\n保证在那一刻前，没有栅栏经过 $(X,Y)$。", "outputFormat": "$N$ 行，每行两个升序整数表示新产生的矩形面积。", "hint": "- Subtask $1$（$10$ pts）: $N \\le 10^3$。\n\n- Subtask $2$（$30$ pts）：不会出现垂直建造和竖直建造穿插进行的情况。\n\n- Subtask $3$（$60$ pts）：$1\\le N \\le 10^5,2\\le A,B\\le10^5,0<X<A,0<Y<B,D \\in\\{1,2\\}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2014] 土地划分 / KRAVE", "background": "", "description": "Mirko 有一块草地，宽 $A$ 米，高 $B$ 米，边和坐标轴平行，草地的左下角位于 $(0,0)$ 处，右上边缘位于 $(A,B)$ 处。\n\nMirko 决定在他的草地上建造水平和垂直围栏。按如下方式执行此作：首先，选择一个点 $(X,Y)$，到目前为止没有栅栏通过该点，并决定新栅栏是水平的还是垂直的。之后，他沿所选方向建造一个栅栏，直到他遇到另一个栅栏并将它们连接在那里，然后再进行下一次操作。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u5jg5xmm.png)\n\n这是关于样例 $1$ 建造过程的解释。\n\n通过栅栏的划分后，田地会被划分成若干个矩形，对于每个矩形而言，矩形边缘有栅栏，里面没有栅栏。具体的，每次划分会把一个矩形划分为两个新的矩形。\n\n现在有若干对建造栅栏步骤的描述，你要按升序输出新产生的两个矩形的面积。", "inputFormat": "第一行有两个整数 $A,B$，表示草地的宽和高。\n\n第二行一个整数 $N$，表示建造栅栏的步骤数。\n\n接下来 $N$ 行，每行三个整数 $X,Y,D$，表示从 $(X,Y)$ 开始，若 $D=1$ 建造一个水平栅栏，若 $D=2$ 建造竖直栅栏。\n\n保证在那一刻前，没有栅栏经过 $(X,Y)$。", "outputFormat": "$N$ 行，每行两个升序整数表示新产生的矩形面积。", "hint": "- Subtask $1$（$10$ pts）: $N \\le 10^3$。\n\n- Subtask $2$（$30$ pts）：不会出现垂直建造和竖直建造穿插进行的情况。\n\n- Subtask $3$（$60$ pts）：$1\\le N \\le 10^5,2\\le A,B\\le10^5,0<X<A,0<Y<B,D \\in\\{1,2\\}$。", "locale": "zh-CN"}}}
{"pid": "P11757", "type": "P", "difficulty": 6, "samples": [["6 4\n10 4\n9\nd 6 7 2 1\nu 1 2\nu 3 2\nd 10 2 1 2\nu 3 4\nd 12 7 2 4\nu 5 3\nu 4 5\nu 1 5", "4.000000\n5.000000\n7.000000\n8.605551\n5.385165\n7.605551"], ["1 1\n3 8\n10\nd 8 2 1 2\nu 2 1\nd 2 9 1 3\nu 1 4\nd 4 7 3 4\nu 4 3\nd 6 1 5 4\nu 6 5\nd 0 0 4 6\nu 7 3", "7.280110\n8.062258\n9.219544\n6.324555\n18.439089"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "Special Judge", "COTS（克罗地亚）"], "title": "[COTS 2014]  城市建设 / GRAD", "background": "", "description": "你有一些城市，城市之间用双向道路连接，道路不会重叠（这里的重叠指的不是交叉，指的是两段道路的交也是一个长度不为 $0$ 的线段）。我们在二维坐标系上用点来表示这些城市。\n\n道路网络一开始只有两座城市以及连接他们的双向道路组成，连接两座城市的道路是几何上连接这两个结点的直线，其长度就是这两个结点的欧几里得距离。\n\n你需要模拟整个城市网络的建立过程，支持两种操作：\n\n- `d X Y A B`，在坐标 $(X,Y)$ 上新增一座城市（保证该点原来没有城市），并建立该城市到标号为 $A$ 和 $B$ 的双向道路。**而这两个现有城市 $A,B$ 本身必须已经由一条道路直接相连。**\n\n- `u A B`，查询 $A$ 到 $B$ 的最短路。\n\n城市 $1,2$ 在输入中固定，此后每增加一个城市，就赋予下一个自然数作为其标号。", "inputFormat": "第一行两个整数，表示城市 $1$ 的坐标。\n\n第二行两个整数，表示城市 $2$ 的坐标。\n\n第三行一个整数 $N$，表示操作数量。\n\n以下 $N$ 行，每行是两种操作的其中一个。", "outputFormat": "对于所有 `u` 操作，你需要输出一个实数，表两个城市之间的最短路。（误差在 $0.1$ 内是允许的）。", "hint": "\n\n- Subtask $1$（$21$ pts）：满足 $N\\le 10^3$。\n\n- Subtask $2$（$24$ pts）：所有类型为 `u` 的命令中的城市 A 相同。\n\n- Subtask $3$（$55$ pts）：$1\\le N\\le 10^5,0\\le X_1,X_2,Y_1,Y_2\\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2014]  城市建设 / GRAD", "background": "", "description": "你有一些城市，城市之间用双向道路连接，道路不会重叠（这里的重叠指的不是交叉，指的是两段道路的交也是一个长度不为 $0$ 的线段）。我们在二维坐标系上用点来表示这些城市。\n\n道路网络一开始只有两座城市以及连接他们的双向道路组成，连接两座城市的道路是几何上连接这两个结点的直线，其长度就是这两个结点的欧几里得距离。\n\n你需要模拟整个城市网络的建立过程，支持两种操作：\n\n- `d X Y A B`，在坐标 $(X,Y)$ 上新增一座城市（保证该点原来没有城市），并建立该城市到标号为 $A$ 和 $B$ 的双向道路。**而这两个现有城市 $A,B$ 本身必须已经由一条道路直接相连。**\n\n- `u A B`，查询 $A$ 到 $B$ 的最短路。\n\n城市 $1,2$ 在输入中固定，此后每增加一个城市，就赋予下一个自然数作为其标号。", "inputFormat": "第一行两个整数，表示城市 $1$ 的坐标。\n\n第二行两个整数，表示城市 $2$ 的坐标。\n\n第三行一个整数 $N$，表示操作数量。\n\n以下 $N$ 行，每行是两种操作的其中一个。", "outputFormat": "对于所有 `u` 操作，你需要输出一个实数，表两个城市之间的最短路。（误差在 $0.1$ 内是允许的）。", "hint": "\n\n- Subtask $1$（$21$ pts）：满足 $N\\le 10^3$。\n\n- Subtask $2$（$24$ pts）：所有类型为 `u` 的命令中的城市 A 相同。\n\n- Subtask $3$（$55$ pts）：$1\\le N\\le 10^5,0\\le X_1,X_2,Y_1,Y_2\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P11758", "type": "P", "difficulty": 0, "samples": [["2\n5\n1 1\n2 3\n5 10\n4 6\n7 12", "5\n1 3 "], ["2\n10\n3 6\n1 4\n4 1\n4 7\n4 10\n3 8\n3 10\n6 7\n5 1\n2 10", "5\n1 3 "], ["1\n10\n3 10\n6 1\n5 7\n0 4\n2 7\n2 0\n9 2\n4 1\n3 6\n1 4", "10\n3\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "Special Judge", "COTS（克罗地亚）"], "title": "[COTS 2014]  餐厅建设 / KOSTA", "background": "", "description": "烧烤大师 Kosta 在曼哈顿开了 $N$ 家餐厅，按照 $1$ 到 $N$ 的数字进行标记，每个餐厅的位置都可以按照坐标轴上的点进行表示，比如餐厅 $A$ 标记为 $(X_A,Y_A)$。同时两个餐厅 $A,B$ 的距离为$|X_A-X_B|+|Y_A-Y_B|$。\n\nKosta 计划最多购买**两台**用于自动制作汉堡的现代化机器。每台机器都将安装在现有的餐厅中，对于所有其他餐厅，汉堡都是从安装机器的最近餐厅送来的。\n\n我们定义 $D_C$ 表示从餐厅 $C$ 到安装机器的餐厅的最小距离。Kosta 希望 $D_C$ 的最大值最小。\n\n编写一个程序，根据餐厅的位置和 Kosta 将购买的机器数量（一台或两台），计算 $D_C$ 的最低可能值。此外，你应确定机器的最佳位置。如果 Kosta 购买了两台机器，可以在同一家餐厅安装两台机器。", "inputFormat": "第一行为一个整数 $K(1\\le K\\le 2)$，表示购买机器的数量。\n\n第二行为一个整数 $N$，表示餐厅的数量。在接下来的 $N$ 行中，每行给出 $(X_K,Y_K)$ 表示餐厅坐标 $(0\\le X_K,Y_K \\le 10^6)$，餐厅的坐标互不相同。", "outputFormat": "在第一行中，一个整数 $D$。\n\n在第二行中，输出 $K$ 个自然数，表示要装电器的餐厅。\n\n注意：解决方案不必是唯一的。", "hint": "若 $D$ 正确，但是第二行答案错误，你可以获得 $60 \\%$ 的分数。\n\n- Subtask $1$（$4$ pts）： $K=1,1\\le N\\le 1000$。\n- Subtask $2$（$16$ pts）：$K=1,1000< N\\le 200000$。\n- Subtask $3$（$4$ pts）： $K=2,3\\le N\\le 100$。\n- Subtask $4$（$24$ pts）：$K=2,100\\le N\\le 3000$。\n- Subtask $5$（$52$ pts）：$K=2,3000< N\\le 50000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2014]  餐厅建设 / KOSTA", "background": "", "description": "烧烤大师 Kosta 在曼哈顿开了 $N$ 家餐厅，按照 $1$ 到 $N$ 的数字进行标记，每个餐厅的位置都可以按照坐标轴上的点进行表示，比如餐厅 $A$ 标记为 $(X_A,Y_A)$。同时两个餐厅 $A,B$ 的距离为$|X_A-X_B|+|Y_A-Y_B|$。\n\nKosta 计划最多购买**两台**用于自动制作汉堡的现代化机器。每台机器都将安装在现有的餐厅中，对于所有其他餐厅，汉堡都是从安装机器的最近餐厅送来的。\n\n我们定义 $D_C$ 表示从餐厅 $C$ 到安装机器的餐厅的最小距离。Kosta 希望 $D_C$ 的最大值最小。\n\n编写一个程序，根据餐厅的位置和 Kosta 将购买的机器数量（一台或两台），计算 $D_C$ 的最低可能值。此外，你应确定机器的最佳位置。如果 Kosta 购买了两台机器，可以在同一家餐厅安装两台机器。", "inputFormat": "第一行为一个整数 $K(1\\le K\\le 2)$，表示购买机器的数量。\n\n第二行为一个整数 $N$，表示餐厅的数量。在接下来的 $N$ 行中，每行给出 $(X_K,Y_K)$ 表示餐厅坐标 $(0\\le X_K,Y_K \\le 10^6)$，餐厅的坐标互不相同。", "outputFormat": "在第一行中，一个整数 $D$。\n\n在第二行中，输出 $K$ 个自然数，表示要装电器的餐厅。\n\n注意：解决方案不必是唯一的。", "hint": "若 $D$ 正确，但是第二行答案错误，你可以获得 $60 \\%$ 的分数。\n\n- Subtask $1$（$4$ pts）： $K=1,1\\le N\\le 1000$。\n- Subtask $2$（$16$ pts）：$K=1,1000< N\\le 200000$。\n- Subtask $3$（$4$ pts）： $K=2,3\\le N\\le 100$。\n- Subtask $4$（$24$ pts）：$K=2,100\\le N\\le 3000$。\n- Subtask $5$（$52$ pts）：$K=2,3000< N\\le 50000$。", "locale": "zh-CN"}}}
{"pid": "P11759", "type": "P", "difficulty": 6, "samples": [["4\nA\nC\nG\nT", "1000\n0100\n0010\n0001"], ["4\nAA\nTAT\nC\nCGTAC", "1100\n1100\n0011\n0011"], ["4\nAAA\nCCC\nTATA\nCACA", "1111\n1111\n1111\n1111\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "COTS（克罗地亚）"], "title": "[COTS 2014] 基因转换 / GTA", "background": "", "description": "化学家 Dubravka 在她的实验室研究 DNA 分子。每个 DNA 分子由一系列字符表示，其中每个单独的字符都来自集合 $\\{ \\texttt{A,C,G,T} \\}$。比如，$\\texttt{A}$，$\\texttt{ATG}$ 和 $\\texttt{GTA}$ 是代表不同 DNA 分子的字符串。\n\nDubravka 可以在 DNA 分子的任何部分进行以下变化：\n\n- $\\texttt{A} \\leftrightarrow \\texttt{TC}$，也就是说，$\\texttt{A}$ 和 $\\texttt{TC}$ 是可以互相转化的。\n- $\\texttt{C} \\leftrightarrow \\texttt{AG}$。\n- $\\texttt{G} \\leftrightarrow \\texttt{CT}$。\n- $\\texttt{T} \\leftrightarrow \\texttt{GA}$。\n\nDubravka 经常通过连续应用这些变化来使得一个分子变为另一个分子。例如：\n\n$$\\texttt{AA} \\rightarrow \\texttt{TCA} \\rightarrow \\texttt{TAGA} \\rightarrow \\texttt{TAT}$$\n\nDubravka 目前的实验室里有 $N$ 个分子。编写一个程序，确定每对给定分子是否有可能通过应用这些变化从第一个分子获得第二个分子。", "inputFormat": "第一行是自然数 $N (2\\le N\\le 100)$，即分子数。分子从 $1$ 到 $N$ 编号。\n\n在接下来的 $N$ 行中，每行给出一个字符串，其中每个字符都是大写字母 $\\texttt{A},\\texttt{C},\\texttt{G},\\texttt{T}$ 中的一个。每个字符串由最少 $1$ 个字符和最多 $50000$ 个字符组成。", "outputFormat": "输出 $N$ 行，在每一行中，打印一个恰好包含 $N$ 个字符的字符串。如果可以从分子 $i$ 获得分子 $j$，则第 $i$ 行中的第 $j$ 个符号应输出 $1$，否则输出 $0$。", "hint": "以下每点都描述了一个值为 $10$ 分的测试数据：\n\n- $N\\le 5$，每个字符串不超过 $4$ 个字符。\n- 每个分子恰好包含 $2$ 个字符。\n- 每个分子恰好包含 $3$ 个字符。\n- 每个分子恰好包含 $4$ 个字符。\n- 每个分子恰好包含 $5$ 个字符。\n- 每个分子恰好包含 $6$ 个字符。\n\n对于剩下 $40 \\%$ 数据，没有特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2014] 基因转换 / GTA", "background": "", "description": "化学家 Dubravka 在她的实验室研究 DNA 分子。每个 DNA 分子由一系列字符表示，其中每个单独的字符都来自集合 $\\{ \\texttt{A,C,G,T} \\}$。比如，$\\texttt{A}$，$\\texttt{ATG}$ 和 $\\texttt{GTA}$ 是代表不同 DNA 分子的字符串。\n\nDubravka 可以在 DNA 分子的任何部分进行以下变化：\n\n- $\\texttt{A} \\leftrightarrow \\texttt{TC}$，也就是说，$\\texttt{A}$ 和 $\\texttt{TC}$ 是可以互相转化的。\n- $\\texttt{C} \\leftrightarrow \\texttt{AG}$。\n- $\\texttt{G} \\leftrightarrow \\texttt{CT}$。\n- $\\texttt{T} \\leftrightarrow \\texttt{GA}$。\n\nDubravka 经常通过连续应用这些变化来使得一个分子变为另一个分子。例如：\n\n$$\\texttt{AA} \\rightarrow \\texttt{TCA} \\rightarrow \\texttt{TAGA} \\rightarrow \\texttt{TAT}$$\n\nDubravka 目前的实验室里有 $N$ 个分子。编写一个程序，确定每对给定分子是否有可能通过应用这些变化从第一个分子获得第二个分子。", "inputFormat": "第一行是自然数 $N (2\\le N\\le 100)$，即分子数。分子从 $1$ 到 $N$ 编号。\n\n在接下来的 $N$ 行中，每行给出一个字符串，其中每个字符都是大写字母 $\\texttt{A},\\texttt{C},\\texttt{G},\\texttt{T}$ 中的一个。每个字符串由最少 $1$ 个字符和最多 $50000$ 个字符组成。", "outputFormat": "输出 $N$ 行，在每一行中，打印一个恰好包含 $N$ 个字符的字符串。如果可以从分子 $i$ 获得分子 $j$，则第 $i$ 行中的第 $j$ 个符号应输出 $1$，否则输出 $0$。", "hint": "以下每点都描述了一个值为 $10$ 分的测试数据：\n\n- $N\\le 5$，每个字符串不超过 $4$ 个字符。\n- 每个分子恰好包含 $2$ 个字符。\n- 每个分子恰好包含 $3$ 个字符。\n- 每个分子恰好包含 $4$ 个字符。\n- 每个分子恰好包含 $5$ 个字符。\n- 每个分子恰好包含 $6$ 个字符。\n\n对于剩下 $40 \\%$ 数据，没有特殊限制。", "locale": "zh-CN"}}}
