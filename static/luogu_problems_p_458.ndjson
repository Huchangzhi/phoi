{"pid": "P10288", "type": "P", "difficulty": 3, "samples": [["2\n5\n7 4 6 1 1\n2\n1 2 3\n1 5 1\n5\n1 2 3 4 5\n2\n5 5 3\n1 4 3", "0\n2\n0\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["二分", "离散化", "GESP"], "title": "[GESP样题 八级] 区间", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1108>", "description": "小杨有一个长度为 $n$ 的正整数序列 $A$。\n\n小杨有 $q$ 次询问。第 $i$ 次（$1\\le i\\le q$）询问时，小杨会给出 $l_i,r_i,x_i$，请你求出 $x_i$ 在 $A_{l_i}, A_{l_i+1}, \\dots A_{r_i}$ 中出现的次数。", "inputFormat": "第一行包含一个正整数 $T$，表示数据组数。\n\n对于每组数据：第一行包含一个正整数 $n$，表示序列 $A$ 的长度。  \n第二行包含 $n$ 个正整数 $A_1,A_2,\\dots,A_n$，表示序列 $A$。  \n第三行包含一个正整数 $q$，表示询问次数。接下来 $q$ 行，每行三个正整数 $l_i,r_i,x_i$，表示一组询问。", "outputFormat": "对于每组数据，输出 $q$ 行。第 $i$ 行（$1\\le i\\le q$）输出一个非负整数，表示第 $i$ 次询问的答案。", "hint": "|子任务|分值|$n$|$q$|$\\max A_i$|\n|-|-|-|-|-|\n|$1$|$30$|$\\le 100$|$\\le 100$|$\\le 10$|\n|$2$|$30$|$\\le 10^5$|$\\le 10^5$|$\\le 10^5$|\n|$3$|$40$|$\\le 10^5$|$\\le 10^5$|$\\le 10^9$|\n\n对于全部数据，保证有 $1 \\leq T\\le 5$，$1 \\le n,q\\le 10^5$，$1 \\le A_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP样题 八级] 区间", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1108>", "description": "小杨有一个长度为 $n$ 的正整数序列 $A$。\n\n小杨有 $q$ 次询问。第 $i$ 次（$1\\le i\\le q$）询问时，小杨会给出 $l_i,r_i,x_i$，请你求出 $x_i$ 在 $A_{l_i}, A_{l_i+1}, \\dots A_{r_i}$ 中出现的次数。", "inputFormat": "第一行包含一个正整数 $T$，表示数据组数。\n\n对于每组数据：第一行包含一个正整数 $n$，表示序列 $A$ 的长度。  \n第二行包含 $n$ 个正整数 $A_1,A_2,\\dots,A_n$，表示序列 $A$。  \n第三行包含一个正整数 $q$，表示询问次数。接下来 $q$ 行，每行三个正整数 $l_i,r_i,x_i$，表示一组询问。", "outputFormat": "对于每组数据，输出 $q$ 行。第 $i$ 行（$1\\le i\\le q$）输出一个非负整数，表示第 $i$ 次询问的答案。", "hint": "|子任务|分值|$n$|$q$|$\\max A_i$|\n|-|-|-|-|-|\n|$1$|$30$|$\\le 100$|$\\le 100$|$\\le 10$|\n|$2$|$30$|$\\le 10^5$|$\\le 10^5$|$\\le 10^5$|\n|$3$|$40$|$\\le 10^5$|$\\le 10^5$|$\\le 10^9$|\n\n对于全部数据，保证有 $1 \\leq T\\le 5$，$1 \\le n,q\\le 10^5$，$1 \\le A_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10289", "type": "P", "difficulty": 4, "samples": [["7 2 1\n5 7\n3 6\n2 3\n1 5\n5 4\n1 2\n7 4\n3 7\n", "4"], ["5 0 3\n2 3\n5 1\n5 2\n1 4\n4 5\n1 4\n4 3\n", "2\n1\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["广度优先搜索 BFS", "最短路", "最近公共祖先 LCA", "GESP"], "title": "[GESP样题 八级] 小杨的旅游", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1108>", "description": "小杨准备前往 B 国旅游。\n\nB 国有 $n$ 座城市，这 $n$ 座城市依次以 $1$ 至 $n$ 编号。城市之间由 $n-1$ 条双向道路连接，任意两座城市之间均可达（即任意两座城市之间存在可达的路径）。\n\n小杨可以通过双向道路在城市之间移动，通过一条双向道路需要 $1$ 单位时间。\n\nB 国城市中有 $k$ 座城市设有传送门。设有传送门的城市的编号依次为 $b_1,b_2, \\cdots ,b_k$。小杨可以从任意一座设有传送门的城市花费 $0$ 单位时间前往另一座设有传送门的城市。\n\n注：如果两座设有传送门的城市之间存在双向道路，那么小杨可以选择通过双向道路移动，也可以选择通过传送门传送。\n\n小杨计划在 B 国旅游 $q$ 次。第 $i$ 次旅游（$1 \\le i \\le q$），⼩杨计划从编号为 $u_i$ 的城市前往编号为 $v_i$ 的城市，小杨希望你能求出所需要的最短时间。", "inputFormat": "第一行包含三个正整数 $n,k,q$，分别表示 B 国的城市数量，设有传送门的城市数量，以及小杨计划在 B 国旅游的次数。  \n接下来 $n-1$ 行，每行包含两个正整数 $x_i, y_i$，表示一条双向道路连接的两座城市的编号。  \n第 $n + 1$ 行包含 $k$ 个正整数，表示设有传送门的城市的编号。  \n接下来 $q$ 行，每行包含两个正整数 $u_i,v_i$，表示小杨第 $i$ 次旅游行程的起点城市编号与终点城市编号。", "outputFormat": "输出共 $q$ 行。第 $i$ 行（$1 \\leq i \\leq q$）输出一个非负整数，表示小杨计划第 $i$ 次旅游从编号为 $u_i$ 的城市前往编号为 $v_i$ 的城市所需要的最短时间。", "hint": "| 子任务 | 分值 | $n \\leq $ | $ k \\leq $ | $q \\leq $ |\n|:-: | :-: | :-: | :-: | :-:|\n| $1$ | $30$ | $500$ | $500$ | $1$ |\n| $2$ | $30$ | $2 \\times 10^5$ | $0$ | $2 \\times 10^5$ |\n| $3$ | $40$ | $2 \\times 10^5$ | $2 \\times 10^5$ | $2 \\times 10^5$ |\n\n对全部的测试数据，$1 \\leq n \\leq 2 \\times 10^5$，$0 \\leq k \\leq n$，$1 \\leq x_i, y_i, u_i, v_i \\leq n$，$u_i \\neq v_i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP样题 八级] 小杨的旅游", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1108>", "description": "小杨准备前往 B 国旅游。\n\nB 国有 $n$ 座城市，这 $n$ 座城市依次以 $1$ 至 $n$ 编号。城市之间由 $n-1$ 条双向道路连接，任意两座城市之间均可达（即任意两座城市之间存在可达的路径）。\n\n小杨可以通过双向道路在城市之间移动，通过一条双向道路需要 $1$ 单位时间。\n\nB 国城市中有 $k$ 座城市设有传送门。设有传送门的城市的编号依次为 $b_1,b_2, \\cdots ,b_k$。小杨可以从任意一座设有传送门的城市花费 $0$ 单位时间前往另一座设有传送门的城市。\n\n注：如果两座设有传送门的城市之间存在双向道路，那么小杨可以选择通过双向道路移动，也可以选择通过传送门传送。\n\n小杨计划在 B 国旅游 $q$ 次。第 $i$ 次旅游（$1 \\le i \\le q$），⼩杨计划从编号为 $u_i$ 的城市前往编号为 $v_i$ 的城市，小杨希望你能求出所需要的最短时间。", "inputFormat": "第一行包含三个正整数 $n,k,q$，分别表示 B 国的城市数量，设有传送门的城市数量，以及小杨计划在 B 国旅游的次数。  \n接下来 $n-1$ 行，每行包含两个正整数 $x_i, y_i$，表示一条双向道路连接的两座城市的编号。  \n第 $n + 1$ 行包含 $k$ 个正整数，表示设有传送门的城市的编号。  \n接下来 $q$ 行，每行包含两个正整数 $u_i,v_i$，表示小杨第 $i$ 次旅游行程的起点城市编号与终点城市编号。", "outputFormat": "输出共 $q$ 行。第 $i$ 行（$1 \\leq i \\leq q$）输出一个非负整数，表示小杨计划第 $i$ 次旅游从编号为 $u_i$ 的城市前往编号为 $v_i$ 的城市所需要的最短时间。", "hint": "| 子任务 | 分值 | $n \\leq $ | $ k \\leq $ | $q \\leq $ |\n|:-: | :-: | :-: | :-: | :-:|\n| $1$ | $30$ | $500$ | $500$ | $1$ |\n| $2$ | $30$ | $2 \\times 10^5$ | $0$ | $2 \\times 10^5$ |\n| $3$ | $40$ | $2 \\times 10^5$ | $2 \\times 10^5$ | $2 \\times 10^5$ |\n\n对全部的测试数据，$1 \\leq n \\leq 2 \\times 10^5$，$0 \\leq k \\leq n$，$1 \\leq x_i, y_i, u_i, v_i \\leq n$，$u_i \\neq v_i$。", "locale": "zh-CN"}}}
{"pid": "P10290", "type": "P", "difficulty": 1, "samples": [["0\n2\n4\n", "28\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 J1] Conveyor Belt Sushi", "background": "", "description": "小镇里新开了一家传送带寿司店。一盘盘寿司在高高架起的传送带上旋转，顾客可以直接通过取走盘子来选择吃什么。\n\n每一个红色盘子的寿司需要 $3$ 美元，每一个绿色盘子的寿司需要 $4$ 美元，每一个蓝色盘子的寿司需要 $5$ 美元。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yy1kg2a9.png)\n\n你的任务是根据顾客选择的每种颜色的盘子数量，确定一顿饭的价钱。", "inputFormat": "输入的第一行包含一个非负整数 $R$ 表示顾客选择的红色盘子数量。第二行包含一个非负整数 $G$ 表示顾客选择的绿色盘子数量。第三行包含一个非负整数 $B$ 表示顾客选择的蓝色盘子数量。\n", "outputFormat": "输出一个非负整数 $C$ 表示这顿饭花费的美元。\n", "hint": "**【样例 1 解释】**\n\n这个顾客选择了 $0$ 个红色盘子，$2$ 个绿色盘子，$4$ 个蓝色盘子。所以这顿饭的价钱为 $0 \\times 3 + 2 \\times 4 + 4 \\times 5 = 28$ 美元。\n\n**【数据范围】**\n\n对于所有数据，保证 $0\\leq R,G,B\\leq 500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 J1] Conveyor Belt Sushi", "background": "", "description": "小镇里新开了一家传送带寿司店。一盘盘寿司在高高架起的传送带上旋转，顾客可以直接通过取走盘子来选择吃什么。\n\n每一个红色盘子的寿司需要 $3$ 美元，每一个绿色盘子的寿司需要 $4$ 美元，每一个蓝色盘子的寿司需要 $5$ 美元。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yy1kg2a9.png)\n\n你的任务是根据顾客选择的每种颜色的盘子数量，确定一顿饭的价钱。", "inputFormat": "输入的第一行包含一个非负整数 $R$ 表示顾客选择的红色盘子数量。第二行包含一个非负整数 $G$ 表示顾客选择的绿色盘子数量。第三行包含一个非负整数 $B$ 表示顾客选择的蓝色盘子数量。\n", "outputFormat": "输出一个非负整数 $C$ 表示这顿饭花费的美元。\n", "hint": "**【样例 1 解释】**\n\n这个顾客选择了 $0$ 个红色盘子，$2$ 个绿色盘子，$4$ 个蓝色盘子。所以这顿饭的价钱为 $0 \\times 3 + 2 \\times 4 + 4 \\times 5 = 28$ 美元。\n\n**【数据范围】**\n\n对于所有数据，保证 $0\\leq R,G,B\\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P10291", "type": "P", "difficulty": 1, "samples": [["5\n3\n2\n9\n20\n22\n14", "19"], ["10\n10\n3\n5\n13", "10"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 J2] Dusa And The Yobis", "background": "", "description": "Dusa 吃 Yobi，但是只吃大小在某个范围里的 Yobi。\n\n如果 Dusa 遇到了一个大小比它小的 Yobi，它会吃掉这个 Yobi 并把它的大小吞并。（即令自己的大小加上这个 Yobi 的大小。）\n\n例如，如果 Dusa 的大小是 $10$，并且遇到了一个大小是 $6$ 的 Yobi，Dusa 会吃掉这个 Yobi 并且大小变大为 $10 + 6 = 16$。\n\n如果 Dusa 遇到了一个和它一样大或者甚至比它更大的 Yobi，Dusa 会选择逃跑并且不吃掉 Yobi。\n\nDusa 现在遇到了一列 Yobi 并且按照顺序遇到它们。保证 Dusa 必定会遇到一个 Yobi 导致它逃跑。你需要确定 Dusa 逃跑时的大小。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oq4z4sne.png)", "inputFormat": "输入的第一行包含一个正整数 $D$ 表示 Dusa 的初始大小。\n\n剩下的每一行包含一个正整数按顺序表示遇到的 Yobi 的大小。", "outputFormat": "输出一个正整数 $R$ 表示 Dusa 逃跑时的大小。\n", "hint": "**【样例 1 解释】**\n\nDusa 可以吃掉大小为 $3$ 的 Yobi 并使得 Dusa 的大小变为 $8$。Dusa 可以吃掉大小为 $2$ 的 Yobi 并使得 Dusa 的大小变为 $10$。Dusa 可以吃掉大小为 $9$ 的 Yobi 并使得 Dusa 的大小变为 $19$。大小为 $20$ 的 Yobi 导致了 Dusa 逃跑。\n\n**【样例 2 解释】**\n\n大小为 $10$ 的 Yobi 导致了 Dusa 逃跑，它的大小没有改变。\n\n**【数据范围】**\n\n对于所有数据，保证输入的所有数不超过 $5 \\times 10^5$，输入的总行数不超过 $2 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 J2] Dusa And The Yobis", "background": "", "description": "Dusa 吃 Yobi，但是只吃大小在某个范围里的 Yobi。\n\n如果 Dusa 遇到了一个大小比它小的 Yobi，它会吃掉这个 Yobi 并把它的大小吞并。（即令自己的大小加上这个 Yobi 的大小。）\n\n例如，如果 Dusa 的大小是 $10$，并且遇到了一个大小是 $6$ 的 Yobi，Dusa 会吃掉这个 Yobi 并且大小变大为 $10 + 6 = 16$。\n\n如果 Dusa 遇到了一个和它一样大或者甚至比它更大的 Yobi，Dusa 会选择逃跑并且不吃掉 Yobi。\n\nDusa 现在遇到了一列 Yobi 并且按照顺序遇到它们。保证 Dusa 必定会遇到一个 Yobi 导致它逃跑。你需要确定 Dusa 逃跑时的大小。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oq4z4sne.png)", "inputFormat": "输入的第一行包含一个正整数 $D$ 表示 Dusa 的初始大小。\n\n剩下的每一行包含一个正整数按顺序表示遇到的 Yobi 的大小。", "outputFormat": "输出一个正整数 $R$ 表示 Dusa 逃跑时的大小。\n", "hint": "**【样例 1 解释】**\n\nDusa 可以吃掉大小为 $3$ 的 Yobi 并使得 Dusa 的大小变为 $8$。Dusa 可以吃掉大小为 $2$ 的 Yobi 并使得 Dusa 的大小变为 $10$。Dusa 可以吃掉大小为 $9$ 的 Yobi 并使得 Dusa 的大小变为 $19$。大小为 $20$ 的 Yobi 导致了 Dusa 逃跑。\n\n**【样例 2 解释】**\n\n大小为 $10$ 的 Yobi 导致了 Dusa 逃跑，它的大小没有改变。\n\n**【数据范围】**\n\n对于所有数据，保证输入的所有数不超过 $5 \\times 10^5$，输入的总行数不超过 $2 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10292", "type": "P", "difficulty": 1, "samples": [["4\n70\n62\n58\n73", "62 1"], ["8\n75\n70\n60\n70\n70\n60\n75\n70", "60 2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 J3] Bronze Count", "background": "", "description": "一次比赛结束后，您可能迫切地想知道有多少参赛者获得了铜牌？\n\n金牌会授予所有获得最高分的参赛者。银牌会授予获得第二高分的所有参赛者。铜牌会授予获得第三高分的所有参赛者。\n\n给定一份参赛选手的成绩列表，请求出获得铜牌所需的分数以及有多少人正好得到这一分数。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l5gzr1cf.png)", "inputFormat": "输入的第一行包含一个正整数 $N$ 表示参赛者的数量。\n\n接下来 $N$ 行包含一个整数表示一个参赛者的分数。\n\n保证每个分数都在 $0$ 到 $75$ 之间（包含）并且至少存在三个不同的分数。", "outputFormat": "输出一个非负整数 $S$ 和一个正整数 $P$ 用空格隔开。其中 $S$ 是得到铜牌所需要的分数，$P$ 是正好得到这个分数的参赛者数量。", "hint": "**【样例 1 解释】**\n\n得到铜牌需要 $62$ 分并且有一个参赛者正好得到这一分数。\n\n**【样例 2 解释】**\n\n得到铜牌需要 $60$ 分并且有两个参赛者正好得到这一分数。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq N\\leq 2.5\\times 10^5$，分数 $s$ 满足 $0\\leq s\\leq 75$，至少存在三个不同的分数。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | 范围 |\n| :-: | :- | :-: |\n| $6$ | 分数互不相同并且参赛者数量很少。 | $N \\leq 50$ |\n| $7$ | 分数可能存在相同并且参赛者数量很少。 | $N \\leq 50$ |\n| $2$ | 分数可能存在相同并且参赛者数量可以很大。 | $N \\leq 2.5 \\times 10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 J3] Bronze Count", "background": "", "description": "一次比赛结束后，您可能迫切地想知道有多少参赛者获得了铜牌？\n\n金牌会授予所有获得最高分的参赛者。银牌会授予获得第二高分的所有参赛者。铜牌会授予获得第三高分的所有参赛者。\n\n给定一份参赛选手的成绩列表，请求出获得铜牌所需的分数以及有多少人正好得到这一分数。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l5gzr1cf.png)", "inputFormat": "输入的第一行包含一个正整数 $N$ 表示参赛者的数量。\n\n接下来 $N$ 行包含一个整数表示一个参赛者的分数。\n\n保证每个分数都在 $0$ 到 $75$ 之间（包含）并且至少存在三个不同的分数。", "outputFormat": "输出一个非负整数 $S$ 和一个正整数 $P$ 用空格隔开。其中 $S$ 是得到铜牌所需要的分数，$P$ 是正好得到这个分数的参赛者数量。", "hint": "**【样例 1 解释】**\n\n得到铜牌需要 $62$ 分并且有一个参赛者正好得到这一分数。\n\n**【样例 2 解释】**\n\n得到铜牌需要 $60$ 分并且有两个参赛者正好得到这一分数。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq N\\leq 2.5\\times 10^5$，分数 $s$ 满足 $0\\leq s\\leq 75$，至少存在三个不同的分数。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | 范围 |\n| :-: | :- | :-: |\n| $6$ | 分数互不相同并且参赛者数量很少。 | $N \\leq 50$ |\n| $7$ | 分数可能存在相同并且参赛者数量很少。 | $N \\leq 50$ |\n| $2$ | 分数可能存在相同并且参赛者数量可以很大。 | $N \\leq 2.5 \\times 10^5$ |", "locale": "zh-CN"}}}
{"pid": "P10293", "type": "P", "difficulty": 2, "samples": [["forloops\nfxrlxxps", "o x\n-"], ["forloops\nfxrlxxp", "o x\ns"], ["forloops\nfrlpz", "s z\no"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 J4] Troublesome Keys", "background": "", "description": "Alex 的键盘很奇怪。有两个字母按键出现了问题：\n\n- 键盘上有一个按键，每次按下它的时候总是显示另一个错误的字母。Alex 把这个按键称为愚蠢的按键。奇怪的是，Alex 从来没有尝试过输入这个错误的字母。\n- 键盘上还有一个按键，按下它的时候则不会显示任何内容。Alex 把这个按键称为安静的按键。\n\nAlex 至少按下了一次愚蠢的按键，但不一定按下了安静的按键。\n\n你需要确定出现问题的按键和按下它时显示的错误的字母。幸运的是，这是可能的，因为 Alex 从来没有在按下愚蠢的按键之后立即按下安静的按键，也没有再按下安静的按键之后立即按下愚蠢的按键。", "inputFormat": "输入共两行。输入的第一行包含 Alex 按下的 $N$ 个按键。第二行包含屏幕上显示的字母。\n", "outputFormat": "\n输出共两行。\n\n第一行输出用空格分开的两个字母表示愚蠢的按键和按下时显示的错误字母。\n\n第二行输出一个字符，如果安静的按键被按下，输出安静的按键，否则输出一个短横线（`-`）。\n", "hint": "**【样例 1 解释】**\n\n与愚蠢的按键对应的字母是 `o`，每次按下会显示错误的字母 `x`。安静的按键没有被按下过。\n\n**【样例 2 解释】**\n\n与愚蠢的按键对应的字母是 `o`，每次按下会显示错误的字母 `x`。没有显示的安静的按键对应的字母是 `s`。\n\n**【样例 3 解释】**\n\n与愚蠢的按键对应的字母是 `s`，每次按下会显示错误的字母 `z`。没有显示的安静的按键对应的字母是 `o`。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证输入中每行都只包含小写字母，$1\\leq N\\leq 5\\times 10^5$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | 范围 |\n| :-: | :- | :-: |\n| $3$ | 安静的按键没有被按下过，按键次数很少。 | $N \\leq 50$ |\n| $3$ | 按下的第一个有问题的按键是愚蠢的按键，按键次数很少。 | $N \\leq 50$ |\n| $5$ | 按下的第一个有问题的按键可能是愚蠢的按键或者安静的按键，按键次数很少。 | $N \\leq 50$ |\n| $4$ | 按下的第一个有问题的按键可能是愚蠢的按键或者安静的按键，按键次数可能很多。 | $N \\leq 5 \\times 10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 J4] Troublesome Keys", "background": "", "description": "Alex 的键盘很奇怪。有两个字母按键出现了问题：\n\n- 键盘上有一个按键，每次按下它的时候总是显示另一个错误的字母。Alex 把这个按键称为愚蠢的按键。奇怪的是，Alex 从来没有尝试过输入这个错误的字母。\n- 键盘上还有一个按键，按下它的时候则不会显示任何内容。Alex 把这个按键称为安静的按键。\n\nAlex 至少按下了一次愚蠢的按键，但不一定按下了安静的按键。\n\n你需要确定出现问题的按键和按下它时显示的错误的字母。幸运的是，这是可能的，因为 Alex 从来没有在按下愚蠢的按键之后立即按下安静的按键，也没有再按下安静的按键之后立即按下愚蠢的按键。", "inputFormat": "输入共两行。输入的第一行包含 Alex 按下的 $N$ 个按键。第二行包含屏幕上显示的字母。\n", "outputFormat": "\n输出共两行。\n\n第一行输出用空格分开的两个字母表示愚蠢的按键和按下时显示的错误字母。\n\n第二行输出一个字符，如果安静的按键被按下，输出安静的按键，否则输出一个短横线（`-`）。\n", "hint": "**【样例 1 解释】**\n\n与愚蠢的按键对应的字母是 `o`，每次按下会显示错误的字母 `x`。安静的按键没有被按下过。\n\n**【样例 2 解释】**\n\n与愚蠢的按键对应的字母是 `o`，每次按下会显示错误的字母 `x`。没有显示的安静的按键对应的字母是 `s`。\n\n**【样例 3 解释】**\n\n与愚蠢的按键对应的字母是 `s`，每次按下会显示错误的字母 `z`。没有显示的安静的按键对应的字母是 `o`。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证输入中每行都只包含小写字母，$1\\leq N\\leq 5\\times 10^5$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | 范围 |\n| :-: | :- | :-: |\n| $3$ | 安静的按键没有被按下过，按键次数很少。 | $N \\leq 50$ |\n| $3$ | 按下的第一个有问题的按键是愚蠢的按键，按键次数很少。 | $N \\leq 50$ |\n| $5$ | 按下的第一个有问题的按键可能是愚蠢的按键或者安静的按键，按键次数很少。 | $N \\leq 50$ |\n| $4$ | 按下的第一个有问题的按键可能是愚蠢的按键或者安静的按键，按键次数可能很多。 | $N \\leq 5 \\times 10^5$ |", "locale": "zh-CN"}}}
{"pid": "P10294", "type": "P", "difficulty": 2, "samples": [["6\n6\n**LMLS\nS*LMMS\nS*SMSM\n******\nLLM*MS\nSSL*SS\n5\n1\n", "37\n"], ["6\n6\n**LMLS\nS*LMMS\nS*SMSM\n***SLL\nLLM*MS\nSSL*SS\n2\n4\n", "88\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2024", "CCC（加拿大）", "广度优先搜索 BFS", "深度优先搜索 DFS"], "title": "[CCC 2024 J5] Harvest Waterloo", "background": "", "description": "有一款新出现的广受欢迎的收割模拟游戏叫做 Harvest Waterloo。游戏在一块矩形南瓜地上进行，南瓜地里有成捆的干草和不同大小的南瓜。游戏开始时，一个农民在其中一个南瓜的位置上。\n\n农民通过在整片土地上向左、向右、向上或向下移动来收割南瓜。农民不能斜着移动，不能穿过干草，也不能离开田地。\n\n你的工作是确定农民收获的南瓜的总价值。其中一个小南瓜值 $1$ 美元，一个中等大小的南瓜值 $5$ 美元，而一个大南瓜值 $10$ 美元。", "inputFormat": "输入的第一行是一个整数 $R > 0$ 表示南瓜地的行数。\n\n第二行是一个整数 $C > 0$ 表示南瓜地的列数。\n\n接下来 $R$ 行描述了整个南瓜地。每行包含 $C$ 个字符并且每个字符要么表示一个南瓜，要么表示干草：`S` 表示小南瓜，`M` 表示中等大小的南瓜，`L` 表示一个大南瓜，`*` 表示干草。\n\n下一行包含一个整数 $A$ 满足 $0 \\leq A < R$，最后一行是一个整数 $B$ 满足 $0 \\leq B < C$。表示农民一开始在第 $A$ 行第 $B$ 列的位置。南瓜地的左上角称为第 $0$ 行第 $0$ 列。", "outputFormat": "输出一个整数 $V$ 表示农民能够收割的南瓜的总价值。\n", "hint": "**【样例 1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sppn2crp.png)\n\n农民在第 $5$ 行第 $1$ 列开始可以收割 $6$ 个南瓜。可以收割到 $2$ 个小南瓜，$1$ 个中等大小的南瓜和 $3$ 个大南瓜。收割的南瓜的总价值是 $2 \\times 1 + 1 \\times 5 + 3 \\times 10 = 37$。\n\n**【样例 2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dni4nwdv.png)\n\n农民在第 $2$ 行第 $4$ 列开始可以收割 $19$ 个南瓜。可以收割到 $8$ 个小南瓜，$6$ 个中等大小的南瓜和 $5$ 个大南瓜。收割的南瓜的总价值是 $8 \\times 1 + 6 \\times 5 + 5 \\times 10 = 88$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq R,C\\leq 10^5$，$1\\leq R\\times C\\leq 10^5$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | 范围 |\n| :-: | :- | :-: |\n| $1$ | 南瓜地很小并且不存在干草。 | $R \\times C \\leq 100$ |\n| $4$ | 南瓜地很小并且干草把南瓜地分割为一些矩形区域。 | $R \\times C \\leq 100$ |\n| $5$ | 南瓜地很小并且干草可以在任意位置。 | $R \\times C \\leq 100$ |\n| $5$ | 南瓜地可能很大并且干草可以在任意位置。 | $R \\times C \\leq 10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 J5] Harvest Waterloo", "background": "", "description": "有一款新出现的广受欢迎的收割模拟游戏叫做 Harvest Waterloo。游戏在一块矩形南瓜地上进行，南瓜地里有成捆的干草和不同大小的南瓜。游戏开始时，一个农民在其中一个南瓜的位置上。\n\n农民通过在整片土地上向左、向右、向上或向下移动来收割南瓜。农民不能斜着移动，不能穿过干草，也不能离开田地。\n\n你的工作是确定农民收获的南瓜的总价值。其中一个小南瓜值 $1$ 美元，一个中等大小的南瓜值 $5$ 美元，而一个大南瓜值 $10$ 美元。", "inputFormat": "输入的第一行是一个整数 $R > 0$ 表示南瓜地的行数。\n\n第二行是一个整数 $C > 0$ 表示南瓜地的列数。\n\n接下来 $R$ 行描述了整个南瓜地。每行包含 $C$ 个字符并且每个字符要么表示一个南瓜，要么表示干草：`S` 表示小南瓜，`M` 表示中等大小的南瓜，`L` 表示一个大南瓜，`*` 表示干草。\n\n下一行包含一个整数 $A$ 满足 $0 \\leq A < R$，最后一行是一个整数 $B$ 满足 $0 \\leq B < C$。表示农民一开始在第 $A$ 行第 $B$ 列的位置。南瓜地的左上角称为第 $0$ 行第 $0$ 列。", "outputFormat": "输出一个整数 $V$ 表示农民能够收割的南瓜的总价值。\n", "hint": "**【样例 1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sppn2crp.png)\n\n农民在第 $5$ 行第 $1$ 列开始可以收割 $6$ 个南瓜。可以收割到 $2$ 个小南瓜，$1$ 个中等大小的南瓜和 $3$ 个大南瓜。收割的南瓜的总价值是 $2 \\times 1 + 1 \\times 5 + 3 \\times 10 = 37$。\n\n**【样例 2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dni4nwdv.png)\n\n农民在第 $2$ 行第 $4$ 列开始可以收割 $19$ 个南瓜。可以收割到 $8$ 个小南瓜，$6$ 个中等大小的南瓜和 $5$ 个大南瓜。收割的南瓜的总价值是 $8 \\times 1 + 6 \\times 5 + 5 \\times 10 = 88$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq R,C\\leq 10^5$，$1\\leq R\\times C\\leq 10^5$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | 范围 |\n| :-: | :- | :-: |\n| $1$ | 南瓜地很小并且不存在干草。 | $R \\times C \\leq 100$ |\n| $4$ | 南瓜地很小并且干草把南瓜地分割为一些矩形区域。 | $R \\times C \\leq 100$ |\n| $5$ | 南瓜地很小并且干草可以在任意位置。 | $R \\times C \\leq 100$ |\n| $5$ | 南瓜地可能很大并且干草可以在任意位置。 | $R \\times C \\leq 10^5$ |", "locale": "zh-CN"}}}
{"pid": "P10295", "type": "P", "difficulty": 1, "samples": [["4\n0\n1\n0\n1\n", "4\n"], ["4\n1\n0\n0\n1\n", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 S1] Hat Circle", "background": "", "description": "在最近的一次聚会上，$N$ 个人围坐在一张圆桌旁，其中 $N$ 是偶数。座椅按顺时针方向编号为 $1\\sim N$。每个人都戴着一顶写有数字的帽子。具体来说，座位 $i$ 上的人戴着一个写有数字 $H_i$ 的帽子。\n\n每个人都看着圆圈中与自己正对面的人。\n\n请你求出看到戴着与自己相同号码的帽子的人的数量。", "inputFormat": "输入的第一行包含一个正偶数 $N$ 表示聚会的人数。\n\n接下来 $N$ 行分别包含一个非负整数 $H_i$，表示第 $i$ 个人的帽子上写的数字。", "outputFormat": "输出一个整数，表示看到戴着与自己相同号码的帽子的人的数量。\n", "hint": "**【样例 1 解释】**\n\n桌子周围的四个座位排布如下图所示。圆圈里的数字表示这个人的帽子上写的数字，圆圈旁边的数字表示这个人的编号。注意每个人看到的数都与自己的帽子上的数相等。坐在位置 $1$ 和 $3$ 上的人都看到了数字 $0$，坐在位置 $2$ 和 $4$ 上的人都看到了数字 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vvym8vb6.png)\n\n**【样例 2 解释】**\n\n桌子周围的四个座位排布如下图所示。圆圈里的数字表示这个人的帽子上写的数字，圆圈旁边的数字表示这个人的编号。注意每个人看到的数都不与自己的帽子上的数相等。坐在位置 $1$ 和 $4$ 上的人都看到了数字 $0$，坐在位置 $2$ 和 $3$ 上的人都看到了数字 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dc5ar3s0.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq N\\leq 10^6$，$0\\leq H_i\\leq 2\\times 10^6$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | $N$ 的范围 | $H_i$ 的范围 |\n| :-: | :- | :-: | :-: |\n| $2$ | 人数很少；只有两种可能的帽子上的数 | $N \\leq 4$ | $H_i \\leq 1$ |\n| $1$ | 只有一种可能的帽子上的数 | $N \\leq 100$ | $H_i = 1$ |\n| $2$ | 坐在奇数位置上的人的帽子上数为 $1$，坐在偶数位置上的人的帽子上数为 $0$ | $N \\leq 100$ | $H_i \\leq 1$ |\n| $5$ | 中等多少的人数 | $N \\leq 2 \\times 10^3$ | $H_i \\leq 4 \\times 10^3$ |\n| $5$ | 很多人和可能的帽子上的数 | $N \\leq 10^6$ | $H_i \\leq 2 \\times 10^6$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 S1] Hat Circle", "background": "", "description": "在最近的一次聚会上，$N$ 个人围坐在一张圆桌旁，其中 $N$ 是偶数。座椅按顺时针方向编号为 $1\\sim N$。每个人都戴着一顶写有数字的帽子。具体来说，座位 $i$ 上的人戴着一个写有数字 $H_i$ 的帽子。\n\n每个人都看着圆圈中与自己正对面的人。\n\n请你求出看到戴着与自己相同号码的帽子的人的数量。", "inputFormat": "输入的第一行包含一个正偶数 $N$ 表示聚会的人数。\n\n接下来 $N$ 行分别包含一个非负整数 $H_i$，表示第 $i$ 个人的帽子上写的数字。", "outputFormat": "输出一个整数，表示看到戴着与自己相同号码的帽子的人的数量。\n", "hint": "**【样例 1 解释】**\n\n桌子周围的四个座位排布如下图所示。圆圈里的数字表示这个人的帽子上写的数字，圆圈旁边的数字表示这个人的编号。注意每个人看到的数都与自己的帽子上的数相等。坐在位置 $1$ 和 $3$ 上的人都看到了数字 $0$，坐在位置 $2$ 和 $4$ 上的人都看到了数字 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vvym8vb6.png)\n\n**【样例 2 解释】**\n\n桌子周围的四个座位排布如下图所示。圆圈里的数字表示这个人的帽子上写的数字，圆圈旁边的数字表示这个人的编号。注意每个人看到的数都不与自己的帽子上的数相等。坐在位置 $1$ 和 $4$ 上的人都看到了数字 $0$，坐在位置 $2$ 和 $3$ 上的人都看到了数字 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dc5ar3s0.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq N\\leq 10^6$，$0\\leq H_i\\leq 2\\times 10^6$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 描述 | $N$ 的范围 | $H_i$ 的范围 |\n| :-: | :- | :-: | :-: |\n| $2$ | 人数很少；只有两种可能的帽子上的数 | $N \\leq 4$ | $H_i \\leq 1$ |\n| $1$ | 只有一种可能的帽子上的数 | $N \\leq 100$ | $H_i = 1$ |\n| $2$ | 坐在奇数位置上的人的帽子上数为 $1$，坐在偶数位置上的人的帽子上数为 $0$ | $N \\leq 100$ | $H_i \\leq 1$ |\n| $5$ | 中等多少的人数 | $N \\leq 2 \\times 10^3$ | $H_i \\leq 4 \\times 10^3$ |\n| $5$ | 很多人和可能的帽子上的数 | $N \\leq 10^6$ | $H_i \\leq 2 \\times 10^6$ |", "locale": "zh-CN"}}}
{"pid": "P10296", "type": "P", "difficulty": 1, "samples": [["3 4\nabcb\nbcbb\nbabc\n", "T\nF\nT\n"], ["2 3\nabc\nbcb\n", "F\nT\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 S2] Heavy-Light Composition", "background": "", "description": "在一个只包含小写字母的字符串中，称一个字母是重的当且仅当它在字符串中出现了超过一次，否则称它是轻的。\n\n给定一些字符串，对于每个字符串，请判断其中重的字母和轻的字母是否满足交替出现。（即要么每个奇数位的字母都是重的，每个偶数位的字母都是轻的，要么每个奇数位的字母都是轻的，每个偶数位的字母都是重的。）", "inputFormat": "输入的第一行包含两个正整数 $T$ 和 $N$ 表示字符串数量和每个字符串的长度。\n\n接下来 $T$ 行每行包含一个长度为 $N$ 的小写字母组成的字符串。\n", "outputFormat": "输出 $T$ 行，每行包含一个字符 `T` 或者 `F`。如果第 $i$ 个输入的字符串的轻的字母和重的字母交替出现，在第 $i$ 行输出 `T`，否则在第 $i$ 行输出 `F`。\n", "hint": "**【样例 1 解释】**\n\n第一个字符串由轻字母、重字母、轻字母、重字母组成。\n\n第二个字符串以两个连续的重字母结尾。\n\n第三个字符串由重字母、轻字母、重字母、轻字母组成。\n\n**【样例 2 解释】**\n\n第一个字符串全部是轻字母。\n\n第二个字符串由重字母、轻字母、重字母组成。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证字符串中只包含小写字母，$2\\leq T\\leq 10^4$，$2\\leq N\\leq 100$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | $T$ 的范围 | $N$ 的范围 | 其他限制 |\n| :-: | :-: | :-: | :- |\n| $5$ | $2 \\leq T \\leq 4$ | $2 \\leq N \\leq 4$ | 字符串只包含 `a` 和 `b` |\n| $5$ | $2 \\leq T \\leq 10$ | $2 \\leq N \\leq 30$ | 无 |\n| $2$ | $2 \\leq T \\leq 100$ | $2 \\leq N \\leq 100$ | 只有字母 `a` 是重的；其他字母是轻的 |\n| $3$ | $2 \\leq T \\leq 10^4$ | $2 \\leq N \\leq 100$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 S2] Heavy-Light Composition", "background": "", "description": "在一个只包含小写字母的字符串中，称一个字母是重的当且仅当它在字符串中出现了超过一次，否则称它是轻的。\n\n给定一些字符串，对于每个字符串，请判断其中重的字母和轻的字母是否满足交替出现。（即要么每个奇数位的字母都是重的，每个偶数位的字母都是轻的，要么每个奇数位的字母都是轻的，每个偶数位的字母都是重的。）", "inputFormat": "输入的第一行包含两个正整数 $T$ 和 $N$ 表示字符串数量和每个字符串的长度。\n\n接下来 $T$ 行每行包含一个长度为 $N$ 的小写字母组成的字符串。\n", "outputFormat": "输出 $T$ 行，每行包含一个字符 `T` 或者 `F`。如果第 $i$ 个输入的字符串的轻的字母和重的字母交替出现，在第 $i$ 行输出 `T`，否则在第 $i$ 行输出 `F`。\n", "hint": "**【样例 1 解释】**\n\n第一个字符串由轻字母、重字母、轻字母、重字母组成。\n\n第二个字符串以两个连续的重字母结尾。\n\n第三个字符串由重字母、轻字母、重字母、轻字母组成。\n\n**【样例 2 解释】**\n\n第一个字符串全部是轻字母。\n\n第二个字符串由重字母、轻字母、重字母组成。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证字符串中只包含小写字母，$2\\leq T\\leq 10^4$，$2\\leq N\\leq 100$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | $T$ 的范围 | $N$ 的范围 | 其他限制 |\n| :-: | :-: | :-: | :- |\n| $5$ | $2 \\leq T \\leq 4$ | $2 \\leq N \\leq 4$ | 字符串只包含 `a` 和 `b` |\n| $5$ | $2 \\leq T \\leq 10$ | $2 \\leq N \\leq 30$ | 无 |\n| $2$ | $2 \\leq T \\leq 100$ | $2 \\leq N \\leq 100$ | 只有字母 `a` 是重的；其他字母是轻的 |\n| $3$ | $2 \\leq T \\leq 10^4$ | $2 \\leq N \\leq 100$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P10297", "type": "P", "difficulty": 5, "samples": [["3\n3 1 2\n3 1 1\n", "YES\n1\nR 1 2\n"], ["4\n1 2 4 3\n1 4 2 3\n", "NO\n"], ["4\n2 1 4 3\n2 1 4 3\n", "YES\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "CCC（加拿大）", "构造"], "title": "[CCC 2024 S3] Swipe", "background": "", "description": "\nSwipe 是一款新的手机游戏，最近大受欢迎。在 Swipe 游戏的每一个关卡中，您都会得到两个长度为 $N$ 的数列 $A$ 和 $B$。Swipe 游戏的每个关卡的目标是把数组 $A$ 变成数组 $B$。\n\n现在有两种可以对 $A$ 进行的滑动操作。\n\n- 向右滑动：选择一个区间 $[l, r]$，对任意 $l \\leq i \\leq r$ 令 $A_i = A_l$。\n- 向左滑动：选择一个区间 $[l, r]$，对任意 $l \\leq i \\leq r$ 令 $A_i = A_r$。\n\n例如，一开始 $A = [0, 1, 2, 3, 4, 5]$，如果我们对区间 $[2, 4]$ 做向右滑动的操作，序列变为 $[0, 1, 2, 2, 2, 5]$。如果我们对区间 $[3, 5]$ 做向左滑动的操作，序列变为 $[0, 1, 2, 5, 5, 5]$。注意序列从 $0$ 开始编号。\n\n不幸的是，游戏存在一些问题，可能会包含无法通过的关卡。请问是否可以将数组 $A$ 转换为数组 $B$。如果可以，请给出任意一种将数组 $A$ 转换为数组 $B$ 的滑动操作方案。\n", "inputFormat": "\n输入的第一行包含一个正整数 $N$ 表示两个数列的长度。\n\n第二行包含 $N$ 个空格隔开的 $A$ 中的整数。\n\n第三行包含 $N$ 个空格隔开的 $B$ 中的整数。\n", "outputFormat": "如果存在一种操作方案可以把 $A$ 变为 $B$，在第一行输出 `YES`，否则输出 `NO`。\n\n如果在第一行输出了 `YES`，则下一行包含一个非负整数 $K$（$K \\leq N$）表示滑动次数。\n\n接下来 $K$ 行每行包含三个空格隔开的数 $D_j,l_j$ 和 $r_j$。$D_j$ 是 `R` 或者 `L` 表示第 $j$ 次操作是向右滑动还是向左滑动。\n\n$l_j$ 和 $r_j$ 表示这次滑动操作的左端和右端，必须满足 $0 \\leq l_j \\leq r_j < N$。\n", "hint": "**本题采用捆绑测试。**\n\n对于所有数据，保证 $1 \\leq N \\leq 3 \\times 10^5$，$1 \\leq A_i, B_i \\leq 3 \\times 10^5$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | $N$ 的范围 | $A_i$ 和 $B_i$ 的范围 |\n| :-: | :-: | :-: |\n| $2$ | $N = 2$ | $1 \\leq A_i, B_i \\leq 3$ |\n| $4$ | $1 \\leq N \\leq 8$ | $1 \\leq A_i, B_i \\leq 8$ |\n| $4$ | $1 \\leq N \\leq 500$ | $1 \\leq A_i, B_i \\leq 3000$ |\n| $5$ | $1 \\leq N \\leq 3 \\times 10^5$ | $1 \\leq A_i, B_i \\leq 3 \\times 10^5$ |\n\n注意对于一个分值为 $M$ 的子任务，如果只答对了第一行的内容，你可以得到 $\\left\\lfloor\\dfrac M2\\right\\rfloor$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 S3] Swipe", "background": "", "description": "\nSwipe 是一款新的手机游戏，最近大受欢迎。在 Swipe 游戏的每一个关卡中，您都会得到两个长度为 $N$ 的数列 $A$ 和 $B$。Swipe 游戏的每个关卡的目标是把数组 $A$ 变成数组 $B$。\n\n现在有两种可以对 $A$ 进行的滑动操作。\n\n- 向右滑动：选择一个区间 $[l, r]$，对任意 $l \\leq i \\leq r$ 令 $A_i = A_l$。\n- 向左滑动：选择一个区间 $[l, r]$，对任意 $l \\leq i \\leq r$ 令 $A_i = A_r$。\n\n例如，一开始 $A = [0, 1, 2, 3, 4, 5]$，如果我们对区间 $[2, 4]$ 做向右滑动的操作，序列变为 $[0, 1, 2, 2, 2, 5]$。如果我们对区间 $[3, 5]$ 做向左滑动的操作，序列变为 $[0, 1, 2, 5, 5, 5]$。注意序列从 $0$ 开始编号。\n\n不幸的是，游戏存在一些问题，可能会包含无法通过的关卡。请问是否可以将数组 $A$ 转换为数组 $B$。如果可以，请给出任意一种将数组 $A$ 转换为数组 $B$ 的滑动操作方案。\n", "inputFormat": "\n输入的第一行包含一个正整数 $N$ 表示两个数列的长度。\n\n第二行包含 $N$ 个空格隔开的 $A$ 中的整数。\n\n第三行包含 $N$ 个空格隔开的 $B$ 中的整数。\n", "outputFormat": "如果存在一种操作方案可以把 $A$ 变为 $B$，在第一行输出 `YES`，否则输出 `NO`。\n\n如果在第一行输出了 `YES`，则下一行包含一个非负整数 $K$（$K \\leq N$）表示滑动次数。\n\n接下来 $K$ 行每行包含三个空格隔开的数 $D_j,l_j$ 和 $r_j$。$D_j$ 是 `R` 或者 `L` 表示第 $j$ 次操作是向右滑动还是向左滑动。\n\n$l_j$ 和 $r_j$ 表示这次滑动操作的左端和右端，必须满足 $0 \\leq l_j \\leq r_j < N$。\n", "hint": "**本题采用捆绑测试。**\n\n对于所有数据，保证 $1 \\leq N \\leq 3 \\times 10^5$，$1 \\leq A_i, B_i \\leq 3 \\times 10^5$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | $N$ 的范围 | $A_i$ 和 $B_i$ 的范围 |\n| :-: | :-: | :-: |\n| $2$ | $N = 2$ | $1 \\leq A_i, B_i \\leq 3$ |\n| $4$ | $1 \\leq N \\leq 8$ | $1 \\leq A_i, B_i \\leq 8$ |\n| $4$ | $1 \\leq N \\leq 500$ | $1 \\leq A_i, B_i \\leq 3000$ |\n| $5$ | $1 \\leq N \\leq 3 \\times 10^5$ | $1 \\leq A_i, B_i \\leq 3 \\times 10^5$ |\n\n注意对于一个分值为 $M$ 的子任务，如果只答对了第一行的内容，你可以得到 $\\left\\lfloor\\dfrac M2\\right\\rfloor$ 分。", "locale": "zh-CN"}}}
{"pid": "P10298", "type": "P", "difficulty": 4, "samples": [["5 7\n1 2\n2 4\n5 2\n4 5\n4 3\n1 3\n1 4\n", "BRGBBGG\n"], ["4 2\n1 2\n3 4\n", "BB\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "2024", "Special Judge", "CCC（加拿大）", "生成树", "构造"], "title": "[CCC 2024 S4] Painting Roads", "background": "", "description": "Kitchener 市的市长 Alanna 成功地改进了该市的道路规划。然而，来自 RedBlue 市的一位售货员仍然抱怨道路的颜色不够丰富。Alanna 的下一个任务就是粉刷一些道路。\n\nKitchener 市的道路规划可以表示为 $N$ 个十字路口和 $M$ 条道路，第 $i$ 条道路连接第 $u_i$ 个十字路口和第 $v_i$ 个十字路口。一开始所有道路都是灰色的。Alanna 想要把一些道路染成红色或者蓝色，满足以下条件：\n\n- 对于每一条灰色道路，假设其连接十字路口 $u_i$ 和十字路口 $v_i$，一定存在一条从十字路口 $u_i$ 到十字路口 $v_i$ 的路径，满足路径上的道路颜色红色和蓝色交替出现，任何道路都不是灰色的。\n\n为了降低城市的支出，Alanna 希望尽可能少地对道路进行染色。请帮助 Alanna 设计一个符合要求的染色方案。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $M$（$1\\leq N, M \\leq 2 \\times 10^5$）。\n\n接下来 $M$ 行中的第 $i$ 行包含两个整数 $u_i$ 和 $v_i$ 表示存在一条连接十字路口 $u_i$ 和十字路口 $v_i$ 的道路（$1 \\leq u_i, v_i \\leq N$，$u_i \\neq v_i$）。\n\n任意两个十字路口之间至多存在一条道路。", "outputFormat": "输出一个长度为 $M$ 的字符串，表示染色的方案。第 $i$ 个字符表示第 $i$ 条道路的颜色，`R` 表示红色，`B` 表示蓝色，`G` 表示灰色（未染色）。\n\n注意你必须在满足条件的情况下最小化染色的道路数目。如果存在多个这样的染色方案，输出任意一个。", "hint": "**【样例 1 解释】**\n\n十字路口以及有效的道路的示意图如下所示，该方案最小化了染色道路的数量。请注意，每条道路上的颜色显示为 R（红色）、B（蓝色）或 G（灰色）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vwughkb3.png)\n\n所有为染色的道路都满足条件：\n\n- 第二条路标记为 $G_2$ 连接了十字路口 $2$ 和 $4$，路径 $2, 1, 4$ 上的道路被染上红色、蓝色。\n- 第三条路标记为 $G_3$ 连接了十字路口 $5$ 和 $2$，路径 $5, 4, 1, 2$ 上的道路被染上红色、蓝色、红色。\n- 第五条路标记为 $G_5$ 连接了十字路口 $4$ 和 $3$，路径 $4, 1, 3$ 上的道路被染上蓝色、红色。\n\n**【样例 2 解释】**\n\n请注意 Kitchener 的道路可能不是连通的。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq N, M \\leq 2 \\times 10^5$，$1 \\leq u_i, v_i \\leq N$，$u_i \\neq v_i$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 附加条件 |\n| :-: | :- |\n| $2$ | 对任意 $1 \\leq i < N$ 存在一条连接 $i$ 和 $i + 1$ 的道路（还可能存在其他道路） |\n| $3$ | 图连通并且 $N = M$ |\n| $3$ | 任何道路都不同时属于至少两个简单环（见下文定义） |\n| $7$ | 无 |\n\n定义：若用 $u \\leftrightarrow v$ 表示一条连接 $u$ 和 $v$ 的道路，则称 $k \\geq 3$ 且所有 $w_i$ 互不相同是序列 $w_1 \\leftrightarrow w_2 \\leftrightarrow \\cdots \\leftrightarrow w_k \\leftrightarrow w_1$ 为简单环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 S4] Painting Roads", "background": "", "description": "Kitchener 市的市长 Alanna 成功地改进了该市的道路规划。然而，来自 RedBlue 市的一位售货员仍然抱怨道路的颜色不够丰富。Alanna 的下一个任务就是粉刷一些道路。\n\nKitchener 市的道路规划可以表示为 $N$ 个十字路口和 $M$ 条道路，第 $i$ 条道路连接第 $u_i$ 个十字路口和第 $v_i$ 个十字路口。一开始所有道路都是灰色的。Alanna 想要把一些道路染成红色或者蓝色，满足以下条件：\n\n- 对于每一条灰色道路，假设其连接十字路口 $u_i$ 和十字路口 $v_i$，一定存在一条从十字路口 $u_i$ 到十字路口 $v_i$ 的路径，满足路径上的道路颜色红色和蓝色交替出现，任何道路都不是灰色的。\n\n为了降低城市的支出，Alanna 希望尽可能少地对道路进行染色。请帮助 Alanna 设计一个符合要求的染色方案。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $M$（$1\\leq N, M \\leq 2 \\times 10^5$）。\n\n接下来 $M$ 行中的第 $i$ 行包含两个整数 $u_i$ 和 $v_i$ 表示存在一条连接十字路口 $u_i$ 和十字路口 $v_i$ 的道路（$1 \\leq u_i, v_i \\leq N$，$u_i \\neq v_i$）。\n\n任意两个十字路口之间至多存在一条道路。", "outputFormat": "输出一个长度为 $M$ 的字符串，表示染色的方案。第 $i$ 个字符表示第 $i$ 条道路的颜色，`R` 表示红色，`B` 表示蓝色，`G` 表示灰色（未染色）。\n\n注意你必须在满足条件的情况下最小化染色的道路数目。如果存在多个这样的染色方案，输出任意一个。", "hint": "**【样例 1 解释】**\n\n十字路口以及有效的道路的示意图如下所示，该方案最小化了染色道路的数量。请注意，每条道路上的颜色显示为 R（红色）、B（蓝色）或 G（灰色）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vwughkb3.png)\n\n所有为染色的道路都满足条件：\n\n- 第二条路标记为 $G_2$ 连接了十字路口 $2$ 和 $4$，路径 $2, 1, 4$ 上的道路被染上红色、蓝色。\n- 第三条路标记为 $G_3$ 连接了十字路口 $5$ 和 $2$，路径 $5, 4, 1, 2$ 上的道路被染上红色、蓝色、红色。\n- 第五条路标记为 $G_5$ 连接了十字路口 $4$ 和 $3$，路径 $4, 1, 3$ 上的道路被染上蓝色、红色。\n\n**【样例 2 解释】**\n\n请注意 Kitchener 的道路可能不是连通的。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1\\leq N, M \\leq 2 \\times 10^5$，$1 \\leq u_i, v_i \\leq N$，$u_i \\neq v_i$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | 附加条件 |\n| :-: | :- |\n| $2$ | 对任意 $1 \\leq i < N$ 存在一条连接 $i$ 和 $i + 1$ 的道路（还可能存在其他道路） |\n| $3$ | 图连通并且 $N = M$ |\n| $3$ | 任何道路都不同时属于至少两个简单环（见下文定义） |\n| $7$ | 无 |\n\n定义：若用 $u \\leftrightarrow v$ 表示一条连接 $u$ 和 $v$ 的道路，则称 $k \\geq 3$ 且所有 $w_i$ 互不相同是序列 $w_1 \\leftrightarrow w_2 \\leftrightarrow \\cdots \\leftrightarrow w_k \\leftrightarrow w_1$ 为简单环。", "locale": "zh-CN"}}}
{"pid": "P10299", "type": "P", "difficulty": 6, "samples": [["2\n5 4\n6 5\n", "2\n"], ["5\n1 0 1 2 0\n0 2 0 3 1\n", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "CCC（加拿大）"], "title": "[CCC 2024 S5] Chocolate Bar Partition", "background": "", "description": "Maxwell 有一块巧克力想和他的朋友们分享。巧克力可以看作 $2\\times N$ 个小方块组成的，每个小方块的美味度可以表示为 $2 \\times N$ 的整数数组 $T_{i,j}$。Maxwell 想把整个巧克力分成若干个连通块，每个连通块的巧克力小方格的平均美味程度都是一样的。Maxwell 想知道根据如上所述，他可以将巧克力棒分成的最大连通块数量是多少。\n\n如果可以通过向上、向下、向左或向右移动的方式访问到每个小方块，则该部分被视为一个连通块。", "inputFormat": "输入的第一行包含一个正整数 $N$ 表示巧克力的长度。\n\n第二行包含 $N$ 个空格隔开的整数，第 $j$ 个整数表示巧克力的第一行第 $j$ 个小方块的美味度 $T_{1,j}$。\n\n类似地，第三行包含 $N$ 个空格隔开的整数，第 $j$ 个整数表示巧克力的第二行第 $j$ 个小方块的美味度 $T_{2,j}$。", "outputFormat": "输出一个整数，表示 Maxwell 最多能把巧克力切分出的连通块数。\n", "hint": "\n**【样例 1 解释】**\n\n把巧克力分割成 $2$ 块是最优的，一种方案是把右下角的一个小方块作为一个连通块，其余三个小方块作为第二个连通块，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2yga1u9u.png)\n\n每一个连通块的平均美味度都为 $5$。\n\n**【样例 2 解释】**\n\n一种获得平均分割巧克力的方案如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hty1ata8.png)\n\n注意每一块的平均美味度都为 $1$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1 \\leq N \\leq 2 \\times 10^5$，$0 \\leq T_{i,j} \\leq 10^8$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | $N$ 的范围 | $T_{i,j}$ 的范围 |\n| :-: | :-: | :-: |\n| $2$ | $N = 2$ | $0 \\leq T_{i,j} \\leq 5$ |\n| $2$ | $1 \\leq N \\leq 8$ | $0 \\leq T_{i,j} \\leq 20$ |\n| $1$ | $1 \\leq N \\leq 20$ | $0 \\leq T_{i,j} \\leq 20$ |\n| $2$ | $1 \\leq N \\leq 100$ | $0 \\leq T_{i,j} \\leq 20$ |\n| $2$ | $1 \\leq N \\leq 1000$ | $0 \\leq T_{i,j} \\leq 100$ |\n| $3$ | $1 \\leq N \\leq 2000$ | $0 \\leq T_{i,j} \\leq 10^5$ |\n| $3$ | $1 \\leq N \\leq 2 \\times 10^5$ | $0 \\leq T_{i,j} \\leq 10^8$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2024 S5] Chocolate Bar Partition", "background": "", "description": "Maxwell 有一块巧克力想和他的朋友们分享。巧克力可以看作 $2\\times N$ 个小方块组成的，每个小方块的美味度可以表示为 $2 \\times N$ 的整数数组 $T_{i,j}$。Maxwell 想把整个巧克力分成若干个连通块，每个连通块的巧克力小方格的平均美味程度都是一样的。Maxwell 想知道根据如上所述，他可以将巧克力棒分成的最大连通块数量是多少。\n\n如果可以通过向上、向下、向左或向右移动的方式访问到每个小方块，则该部分被视为一个连通块。", "inputFormat": "输入的第一行包含一个正整数 $N$ 表示巧克力的长度。\n\n第二行包含 $N$ 个空格隔开的整数，第 $j$ 个整数表示巧克力的第一行第 $j$ 个小方块的美味度 $T_{1,j}$。\n\n类似地，第三行包含 $N$ 个空格隔开的整数，第 $j$ 个整数表示巧克力的第二行第 $j$ 个小方块的美味度 $T_{2,j}$。", "outputFormat": "输出一个整数，表示 Maxwell 最多能把巧克力切分出的连通块数。\n", "hint": "\n**【样例 1 解释】**\n\n把巧克力分割成 $2$ 块是最优的，一种方案是把右下角的一个小方块作为一个连通块，其余三个小方块作为第二个连通块，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2yga1u9u.png)\n\n每一个连通块的平均美味度都为 $5$。\n\n**【样例 2 解释】**\n\n一种获得平均分割巧克力的方案如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hty1ata8.png)\n\n注意每一块的平均美味度都为 $1$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据，保证 $1 \\leq N \\leq 2 \\times 10^5$，$0 \\leq T_{i,j} \\leq 10^8$。\n\n下面的表格显示了 $15$ 分的分配方案：\n\n| 分值 | $N$ 的范围 | $T_{i,j}$ 的范围 |\n| :-: | :-: | :-: |\n| $2$ | $N = 2$ | $0 \\leq T_{i,j} \\leq 5$ |\n| $2$ | $1 \\leq N \\leq 8$ | $0 \\leq T_{i,j} \\leq 20$ |\n| $1$ | $1 \\leq N \\leq 20$ | $0 \\leq T_{i,j} \\leq 20$ |\n| $2$ | $1 \\leq N \\leq 100$ | $0 \\leq T_{i,j} \\leq 20$ |\n| $2$ | $1 \\leq N \\leq 1000$ | $0 \\leq T_{i,j} \\leq 100$ |\n| $3$ | $1 \\leq N \\leq 2000$ | $0 \\leq T_{i,j} \\leq 10^5$ |\n| $3$ | $1 \\leq N \\leq 2 \\times 10^5$ | $0 \\leq T_{i,j} \\leq 10^8$ |\n", "locale": "zh-CN"}}}
{"pid": "P10300", "type": "P", "difficulty": 4, "samples": [["5 10 3\n1 7 2 5\n2 1 4 10\n3 2 6 3\n1 8 1 4\n2 7 3 5\n4 7 8\n2 2 6\n9 10 6\n9 3 4\n8 1 6\n10 6 10\n4 9 2\n4 1 10\n7 7 8\n10 3 2\n", "7 3 5\n7 3 5\n9 10 6\n7 3 5\n7 3 5\n10 6 10\n7 3 5\n7 3 5\n7 3 5\n7 3 5\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "THUWC"], "title": "[THUWC 2020] 工资分配", "background": "", "description": "月末，一家公司的老板给公司内的 $k$ 个员工（他们被编号为 $1\\sim k$）准备了一份工资的分配方案。这份方案可以用一个长度为 $k$ 的序列 $a$ 表示，其中 $a_i$ 表示第 $i$ 个人的工资。现在，这份分配方案放在办公室的桌上，无人看管。\n\n一些员工决定通过替换的方式替换掉这份工资分配方案，来使得自己获得更多的工资。于是，一些员工自己准备了一个自行伪造、不会被老板察觉的分配方案 $b$（也是一个长度为 $k$ 的序列），并选择在一个时刻潜入办公室。他会偷看**当前**放在办公桌上的分配方案 $a^{'}$，如果该员工编号为 $i$ 且 $b_i > a^{'}_ i$，他就会把**整个分配方案**替换成 $b$。为了保证替换成功，一个员工可能会在多个时刻潜入办公室，并且可能会伪造不同的分配方案。但同一时刻最多有一个员工潜入办公室。\n\n假设一天总共有 $n$ 个时刻有员工潜入，我们将这些时刻按时间顺序从 $1$ 到 $n$ 编号。现在，你知道了在每个时刻 $t$，潜入办公室的员工 $p_t$ 和他在 $t$ 时刻伪造的分配方案 $b_t$。现在给出 $q$ 个询问，每次询问会给出一个老板的初始分配方案，请你计算出最后放在桌面上的分配方案。", "inputFormat": "第一行三个整数 $n$、$q$、$k$，表示时刻的个数、询问的个数和员工的个数；\n\n接下来 $n$ 行，每行 $k+1$ 个整数 $p_t, b_{t,1},\\cdots, b_{t_k}$，表示 $t$ 时刻潜入的员工和他准备的分配方案；\n\n接下来 $q$ 行，每行 $k$ 个整数 $a_1, \\cdots, a_k$，表示老板的初始分配方案。", "outputFormat": "输出 $q$ 行，每行 $k$ 个整数，表示最后的方案。", "hint": "**【子任务】**\n\n存在 20% 的数据，$n,q\\le 1,000$\n\n存在另外 10% 的数据，$k=1$；\n\n对于所有的数据，$n,q\\le 10^5, k\\le 20$。\n\n**【提示】**\n\n本题输入、输出规模较大，建议使用 `scanf/printf` 进行输入输出。如果使用 `cin/cout`，建议在 `main` 函数开头加上 `std::ios::sync_with_stdio(0); std::cin.tie(0); std::cout.tie(0);`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUWC 2020] 工资分配", "background": "", "description": "月末，一家公司的老板给公司内的 $k$ 个员工（他们被编号为 $1\\sim k$）准备了一份工资的分配方案。这份方案可以用一个长度为 $k$ 的序列 $a$ 表示，其中 $a_i$ 表示第 $i$ 个人的工资。现在，这份分配方案放在办公室的桌上，无人看管。\n\n一些员工决定通过替换的方式替换掉这份工资分配方案，来使得自己获得更多的工资。于是，一些员工自己准备了一个自行伪造、不会被老板察觉的分配方案 $b$（也是一个长度为 $k$ 的序列），并选择在一个时刻潜入办公室。他会偷看**当前**放在办公桌上的分配方案 $a^{'}$，如果该员工编号为 $i$ 且 $b_i > a^{'}_ i$，他就会把**整个分配方案**替换成 $b$。为了保证替换成功，一个员工可能会在多个时刻潜入办公室，并且可能会伪造不同的分配方案。但同一时刻最多有一个员工潜入办公室。\n\n假设一天总共有 $n$ 个时刻有员工潜入，我们将这些时刻按时间顺序从 $1$ 到 $n$ 编号。现在，你知道了在每个时刻 $t$，潜入办公室的员工 $p_t$ 和他在 $t$ 时刻伪造的分配方案 $b_t$。现在给出 $q$ 个询问，每次询问会给出一个老板的初始分配方案，请你计算出最后放在桌面上的分配方案。", "inputFormat": "第一行三个整数 $n$、$q$、$k$，表示时刻的个数、询问的个数和员工的个数；\n\n接下来 $n$ 行，每行 $k+1$ 个整数 $p_t, b_{t,1},\\cdots, b_{t_k}$，表示 $t$ 时刻潜入的员工和他准备的分配方案；\n\n接下来 $q$ 行，每行 $k$ 个整数 $a_1, \\cdots, a_k$，表示老板的初始分配方案。", "outputFormat": "输出 $q$ 行，每行 $k$ 个整数，表示最后的方案。", "hint": "**【子任务】**\n\n存在 20% 的数据，$n,q\\le 1,000$\n\n存在另外 10% 的数据，$k=1$；\n\n对于所有的数据，$n,q\\le 10^5, k\\le 20$。\n\n**【提示】**\n\n本题输入、输出规模较大，建议使用 `scanf/printf` 进行输入输出。如果使用 `cin/cout`，建议在 `main` 函数开头加上 `std::ios::sync_with_stdio(0); std::cin.tie(0); std::cout.tie(0);`。", "locale": "zh-CN"}}}
{"pid": "P10301", "type": "P", "difficulty": 7, "samples": [["7 8\n3 1 3\n1 2 5\n2 3 2\n6 3 1\n5 2 2\n4 2 1\n7 5 3\n2 2 2\n3\n7 7\n6 2\n6 2\n", "1\n1\n6\n"], ["见附件中的 2.in。", "见附件中的 2.ans。"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "THUWC"], "title": "[THUWC 2020] Yazid 的棋", "background": "", "description": "给定一张包含 $n$ 个点、$m$ 条边的有向图，点标号从 $1$ 至 $n$，边标号从 $1$ 至 $m$。\n\n这张图的主人 Yazid 将先后执行 $Q$ 次操作，每个操作的形式为：在一个节点 $x$ 放置一个棋子，并设定一个整数 $s$，同时该棋子不停地沿着**编号最小**的出边移动，其中当第 $i$ 条边被经过 $w_i$ 次后就会立刻从图中被删除。棋子会不停移动直到**无出边可走**或**棋子已移动了 $s$ 步**。对于最终棋子停留的节点，我们把它叫做这次操作的**终点**。做完这些后，Yazid 会将该棋子移出游戏。\n\n你需要预测 Yazid 每次操作的终点编号。\n\n需要注意的是，所有操作都是有后效性的。也就是说，在前 $Q-1$ 步操作时**消失的边**、**经过的次数**都**不会**在第 $Q$ 次操作时被重置，即下一步操作在上一步操作基础上进行。", "inputFormat": "第一行两个用空格隔开的整数 $n,m$。\n\n接下来 $m$ 行描述有向图。这部分中第 $i$ 行（$1\\leq i\\leq m$）包含三个用空格隔开的整数 $u_i,v_i,w_i$，描述一条 $u_i$ 到 $v_i$ 的经过 $w_i$ 次会被删除的有向边。\n\n* 这里保证 $1\\leq u_i,v_i\\leq n$，$w_i\\leq 10^{18}$。\n\n接下来一行一个整数 $Q$。\n\n接下来 $Q$ 行依次描述各操作，每行两个用空格隔开的整数 $x,s$，描述一个操作。\n\n* 这里保证 $1\\leq x\\leq n$，$1\\leq s\\leq 10^{9}$。", "outputFormat": "输出 $Q$ 行，每行一个整数，依次输出各操作的终点。其中第 $i$ 行输出的是第 $i$ 个操作的终点。", "hint": "**【样例解释 #1】**\n\n第一次操作，棋子的移动步骤如下：\n\n1. 在 $7$ 号节点放置一个棋子。\n2. $7$ 号节点编号最小的出边是第 $7$ 条边，棋子通过该边移动到 $5$ 号节点。\n3. $5$ 号节点编号最小的出边是第 $5$ 条边，棋子通过该边移动到 $2$ 号节点。\n4. $2$ 号节点编号最小的出边是第 $3$ 条边，棋子通过该边移动到 $3$ 号节点。\n5. $3$ 号节点编号最小的出边是第 $1$ 条边，棋子通过该边移动到 $1$ 号节点。\n6. $1$ 号节点编号最小的出边是第 $2$ 条边，棋子通过该边移动到 $2$ 号节点。\n7. $2$ 号节点编号最小的出边是第 $3$ 条边，棋子通过该边移动到 $3$ 号节点。此时，第 $3$ 条边已被经过了 $2$ 次，被从图中删去。\n8. $3$ 号节点编号最小的出边是第 $1$ 条边，棋子通过该边移动到 $1$ 号节点。\n9. 棋子停留在 $1$ 号节点，故 $1$ 号节点就是此次操作的终点。\n\n第二次操作，棋子的移动步骤如下：\n\n1. 在 $6$ 号节点放置一个棋子。\n2. $6$ 号节点编号最小的出边是第 $4$ 条边，棋子通过该边移动到 $3$ 号节点。此时，第 $4$ 条边已被经过了 $1$ 次，被从图中删去。\n3. $3$ 号节点编号最小的出边是第 $1$ 条边，棋子通过该边移动到 $1$ 号节点。此时，第 $1$ 条边已被经过了 $1$ 次，被从图中删去。\n4. 棋子已移动了 $7$ 步，故停留在 $1$ 号节点，$1$ 号节点是此次操作的终点。\n\n第三次操作，棋子的移动步骤如下：\n\n1. 在 $6$ 号节点放置一个棋子。\n2. $6$ 号节点已没有出边，故棋子只能停留在 $6$ 号节点，故 $6$ 号节点是此次操作的终点。\n\n**【子任务】**\n\n本题有多个子任务，每个子任务可能包含多个测试点，只有通过了一个子任务中的所有测试点才能得到该子任务的分数。\n\n每个子任务的测试点满足一些特殊的限制，具体如下表：\n\n \n\t\n\n|子任务编号|$n \\le$|$m \\le$|$Q \\le$|$s \\le$|$w \\le$|性质|分值|\n|----|----|----|----|----|----|----|----|\n|1|$10^5$|$1.5 \\times 10^5$|$5000$|$5000$|$10^{18}$|$0$|8|\n|2|$10^5$|$1.5 \\times 10^5$|$5000$|$10^9$|$5000$|$0$|8|\n|3|$10^5$|$1.5 \\times 10^5$|$10^5$|$10^9$|$10^{18}$|$1$|8|\n|4|$10^5$|$1.5 \\times 10^5$|$10^5$|$10^9$|$10^{18}$|$2$|$12$|\n|5|$10^5$|$n - 1$|$10^5$|$10^9$|$10^{18}$|$3$|13|\n|6|$10^5$|$n$|$10^5$|$10^9$|$10^{18}$|$4$|15|\n|7|$10^5$|$n + 50$|$10^5$|$10^9$|$10^{18}$|$5$|8|\n|8|$10^5$|$1.5 \\times 10^5$|$10^5$|$10^9$|$10^{18}$|$0$|28|\n \n\n对于所有测试点，保证 $1 \\leq n\\leq 10^5$，$1 \\leq m\\leq 1.5\\times 10^5$，$1 \\leq Q \\leq 10^5$，$1 \\leq s \\leq 10^9$，$1 \\leq w_i \\leq 10^{18}$。\n\n- 性质 0：无特殊性质；\n- 性质 1：图为随机生成，每条边 $(u, v)$ 出现的概率为 $1 / n^2$；\n- 性质 2：保证 $w_i = 10^{18}$；\n- 性质 3：保证图构成了一棵有根树。\n- 性质 4：保证图构成了一棵环套树。\n- 性质 5：保证前 $n$ 条边构成了一棵环套树。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUWC 2020] Yazid 的棋", "background": "", "description": "给定一张包含 $n$ 个点、$m$ 条边的有向图，点标号从 $1$ 至 $n$，边标号从 $1$ 至 $m$。\n\n这张图的主人 Yazid 将先后执行 $Q$ 次操作，每个操作的形式为：在一个节点 $x$ 放置一个棋子，并设定一个整数 $s$，同时该棋子不停地沿着**编号最小**的出边移动，其中当第 $i$ 条边被经过 $w_i$ 次后就会立刻从图中被删除。棋子会不停移动直到**无出边可走**或**棋子已移动了 $s$ 步**。对于最终棋子停留的节点，我们把它叫做这次操作的**终点**。做完这些后，Yazid 会将该棋子移出游戏。\n\n你需要预测 Yazid 每次操作的终点编号。\n\n需要注意的是，所有操作都是有后效性的。也就是说，在前 $Q-1$ 步操作时**消失的边**、**经过的次数**都**不会**在第 $Q$ 次操作时被重置，即下一步操作在上一步操作基础上进行。", "inputFormat": "第一行两个用空格隔开的整数 $n,m$。\n\n接下来 $m$ 行描述有向图。这部分中第 $i$ 行（$1\\leq i\\leq m$）包含三个用空格隔开的整数 $u_i,v_i,w_i$，描述一条 $u_i$ 到 $v_i$ 的经过 $w_i$ 次会被删除的有向边。\n\n* 这里保证 $1\\leq u_i,v_i\\leq n$，$w_i\\leq 10^{18}$。\n\n接下来一行一个整数 $Q$。\n\n接下来 $Q$ 行依次描述各操作，每行两个用空格隔开的整数 $x,s$，描述一个操作。\n\n* 这里保证 $1\\leq x\\leq n$，$1\\leq s\\leq 10^{9}$。", "outputFormat": "输出 $Q$ 行，每行一个整数，依次输出各操作的终点。其中第 $i$ 行输出的是第 $i$ 个操作的终点。", "hint": "**【样例解释 #1】**\n\n第一次操作，棋子的移动步骤如下：\n\n1. 在 $7$ 号节点放置一个棋子。\n2. $7$ 号节点编号最小的出边是第 $7$ 条边，棋子通过该边移动到 $5$ 号节点。\n3. $5$ 号节点编号最小的出边是第 $5$ 条边，棋子通过该边移动到 $2$ 号节点。\n4. $2$ 号节点编号最小的出边是第 $3$ 条边，棋子通过该边移动到 $3$ 号节点。\n5. $3$ 号节点编号最小的出边是第 $1$ 条边，棋子通过该边移动到 $1$ 号节点。\n6. $1$ 号节点编号最小的出边是第 $2$ 条边，棋子通过该边移动到 $2$ 号节点。\n7. $2$ 号节点编号最小的出边是第 $3$ 条边，棋子通过该边移动到 $3$ 号节点。此时，第 $3$ 条边已被经过了 $2$ 次，被从图中删去。\n8. $3$ 号节点编号最小的出边是第 $1$ 条边，棋子通过该边移动到 $1$ 号节点。\n9. 棋子停留在 $1$ 号节点，故 $1$ 号节点就是此次操作的终点。\n\n第二次操作，棋子的移动步骤如下：\n\n1. 在 $6$ 号节点放置一个棋子。\n2. $6$ 号节点编号最小的出边是第 $4$ 条边，棋子通过该边移动到 $3$ 号节点。此时，第 $4$ 条边已被经过了 $1$ 次，被从图中删去。\n3. $3$ 号节点编号最小的出边是第 $1$ 条边，棋子通过该边移动到 $1$ 号节点。此时，第 $1$ 条边已被经过了 $1$ 次，被从图中删去。\n4. 棋子已移动了 $7$ 步，故停留在 $1$ 号节点，$1$ 号节点是此次操作的终点。\n\n第三次操作，棋子的移动步骤如下：\n\n1. 在 $6$ 号节点放置一个棋子。\n2. $6$ 号节点已没有出边，故棋子只能停留在 $6$ 号节点，故 $6$ 号节点是此次操作的终点。\n\n**【子任务】**\n\n本题有多个子任务，每个子任务可能包含多个测试点，只有通过了一个子任务中的所有测试点才能得到该子任务的分数。\n\n每个子任务的测试点满足一些特殊的限制，具体如下表：\n\n \n\t\n\n|子任务编号|$n \\le$|$m \\le$|$Q \\le$|$s \\le$|$w \\le$|性质|分值|\n|----|----|----|----|----|----|----|----|\n|1|$10^5$|$1.5 \\times 10^5$|$5000$|$5000$|$10^{18}$|$0$|8|\n|2|$10^5$|$1.5 \\times 10^5$|$5000$|$10^9$|$5000$|$0$|8|\n|3|$10^5$|$1.5 \\times 10^5$|$10^5$|$10^9$|$10^{18}$|$1$|8|\n|4|$10^5$|$1.5 \\times 10^5$|$10^5$|$10^9$|$10^{18}$|$2$|$12$|\n|5|$10^5$|$n - 1$|$10^5$|$10^9$|$10^{18}$|$3$|13|\n|6|$10^5$|$n$|$10^5$|$10^9$|$10^{18}$|$4$|15|\n|7|$10^5$|$n + 50$|$10^5$|$10^9$|$10^{18}$|$5$|8|\n|8|$10^5$|$1.5 \\times 10^5$|$10^5$|$10^9$|$10^{18}$|$0$|28|\n \n\n对于所有测试点，保证 $1 \\leq n\\leq 10^5$，$1 \\leq m\\leq 1.5\\times 10^5$，$1 \\leq Q \\leq 10^5$，$1 \\leq s \\leq 10^9$，$1 \\leq w_i \\leq 10^{18}$。\n\n- 性质 0：无特殊性质；\n- 性质 1：图为随机生成，每条边 $(u, v)$ 出现的概率为 $1 / n^2$；\n- 性质 2：保证 $w_i = 10^{18}$；\n- 性质 3：保证图构成了一棵有根树。\n- 性质 4：保证图构成了一棵环套树。\n- 性质 5：保证前 $n$ 条边构成了一棵环套树。", "locale": "zh-CN"}}}
{"pid": "P10302", "type": "P", "difficulty": 7, "samples": [["10 9 2\n1 1 1 2 3 4 1 1 1\n1 3\n2 4\n3 5\n4 6\n5 7\n6 8\n7 9\n8 10\n5 5\n", "1\n1\n2\n3\n3\n3\n2\n1\n1\n"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "THUWC"], "title": "[THUWC 2020] 某科学的动态仙人掌", "background": "", "description": "题目名是吸引你点进来的。\n\n给一棵边权为 $1$ 的树和一个常数 $X$，节点用 $1$ 到 $n$ 的整数表示。\n\n定义 $dist(a,b)$ 为节点 $a,b$ 在树上的距离，即 $a$ 到 $b$ 的简单路径上的边权和，特别地，$dist(a,a) = 0$。  \n\n每次查询的时候给出一个区间 $[l,r]$，查询有多少个 $X$-块，定义如下：  \n\n对任意两个节点 $a,b$，定义 $a,b$ 是 $X$-连通的，当且仅当存在一个长为 $t$ 的节点序列 $\\{v_i\\}$，其中 $t$ 可以是任意正整数，满足：  \n\n1. $v_1=a$；  \n2. $v_t=b$；  \n3. 对任意 $1\\le i\\le t-1$，$dist(v_i,v_{i+1})\\le X$； \n4. 对任意 $1\\le i\\le t$，$l\\le v_i\\le r$。  \n\n定义“$X$-块”为一个点集 $S$，满足：  \n\n1. 对任意 $a$ 属于 $S$，$b$ 属于 $S$ 的补集且 $l\\le b \\le r$，$a,b$ 不是 X-连通的；\n2. 对任意 $a,b$ 属于 $S$，$a$ 和 $b$ 是 X-连通的；\n3. 对任意 $a$ 属于 $S$，有 $l\\le a \\le r$。", "inputFormat": "第一行三个整数 $n$，$m$，$X$ 依次表示树的节点个数，询问次数，还有常数 $X$；\n\n第二行共 $n-1$ 个整数 $p_2\\;p_3\\;\\dots\\;p_n$，表示对于 $2 \\le i\\le n$ 的整数 $i$，$i$ 和 $p_i$ 之间有一条无向边；\n\n保证输入的数据构成一棵树；\n\n之后 $m$ 行，每行两个整数 $l\\;\\;r$，表示这次询问的区间是 $[l,r]$，保证 $l \\le r$；\n\n保证 $1 \\le n\\le 3\\cdot 10^5$，$1 \\le m\\le 6\\cdot 10^5$。", "outputFormat": "共 $m$ 行，依次回答各组询问：每行输出一行一个整数表示这组询问的答案。", "hint": "本题有多个子任务，每个子任务可能包含多个测试点，只有通过了一个子任务中的所有测试点才能得到该子任务的分数。\n\n每个子任务的测试点满足一些特殊的限制，具体如下表：\n\n|子任务|分数|$n$|$m$|$X$|性质 1|性质 2|\n|:----:|:----:|:----:|:----:|:----:|:----:|:----:|\n|$1$|$4$|$100$|$100$|$10$|否|否|\n|$2$|$4$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$299999$|否|否|\n|$3$|$16$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$299900$|否|否|\n|$4$|$4$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$1$|否|否|\n|$5$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$2$|否|否|\n|$6$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$3$|否|否|\n|$7$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$4$|否|否|\n|$8$|$8$|$1\\times 10 ^ 5$|$1\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|是|否|\n|$9$|$4$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|是|否|\n|$10$|$8$|$3\\times 10 ^ 5$|$3\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|是|\n|$11$|$4$|$3\\times 10 ^ 5$|$3\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|是|是|\n|$12$|$8$|$1\\times 10 ^ 5$|$2\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|否|\n|$13$|$8$|$2\\times 10 ^ 5$|$4\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|否|\n|$14$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|否|\n \n\n其中，性质 1、性质 2 的含义如下：\n\n性质 1：存在一个点 $w$ 使得 $dist(1,w)=n-1$；\n\n性质 2：$n=m$，且第 $i$ 次询问为 $l=1,\\;r=i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUWC 2020] 某科学的动态仙人掌", "background": "", "description": "题目名是吸引你点进来的。\n\n给一棵边权为 $1$ 的树和一个常数 $X$，节点用 $1$ 到 $n$ 的整数表示。\n\n定义 $dist(a,b)$ 为节点 $a,b$ 在树上的距离，即 $a$ 到 $b$ 的简单路径上的边权和，特别地，$dist(a,a) = 0$。  \n\n每次查询的时候给出一个区间 $[l,r]$，查询有多少个 $X$-块，定义如下：  \n\n对任意两个节点 $a,b$，定义 $a,b$ 是 $X$-连通的，当且仅当存在一个长为 $t$ 的节点序列 $\\{v_i\\}$，其中 $t$ 可以是任意正整数，满足：  \n\n1. $v_1=a$；  \n2. $v_t=b$；  \n3. 对任意 $1\\le i\\le t-1$，$dist(v_i,v_{i+1})\\le X$； \n4. 对任意 $1\\le i\\le t$，$l\\le v_i\\le r$。  \n\n定义“$X$-块”为一个点集 $S$，满足：  \n\n1. 对任意 $a$ 属于 $S$，$b$ 属于 $S$ 的补集且 $l\\le b \\le r$，$a,b$ 不是 X-连通的；\n2. 对任意 $a,b$ 属于 $S$，$a$ 和 $b$ 是 X-连通的；\n3. 对任意 $a$ 属于 $S$，有 $l\\le a \\le r$。", "inputFormat": "第一行三个整数 $n$，$m$，$X$ 依次表示树的节点个数，询问次数，还有常数 $X$；\n\n第二行共 $n-1$ 个整数 $p_2\\;p_3\\;\\dots\\;p_n$，表示对于 $2 \\le i\\le n$ 的整数 $i$，$i$ 和 $p_i$ 之间有一条无向边；\n\n保证输入的数据构成一棵树；\n\n之后 $m$ 行，每行两个整数 $l\\;\\;r$，表示这次询问的区间是 $[l,r]$，保证 $l \\le r$；\n\n保证 $1 \\le n\\le 3\\cdot 10^5$，$1 \\le m\\le 6\\cdot 10^5$。", "outputFormat": "共 $m$ 行，依次回答各组询问：每行输出一行一个整数表示这组询问的答案。", "hint": "本题有多个子任务，每个子任务可能包含多个测试点，只有通过了一个子任务中的所有测试点才能得到该子任务的分数。\n\n每个子任务的测试点满足一些特殊的限制，具体如下表：\n\n|子任务|分数|$n$|$m$|$X$|性质 1|性质 2|\n|:----:|:----:|:----:|:----:|:----:|:----:|:----:|\n|$1$|$4$|$100$|$100$|$10$|否|否|\n|$2$|$4$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$299999$|否|否|\n|$3$|$16$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$299900$|否|否|\n|$4$|$4$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$1$|否|否|\n|$5$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$2$|否|否|\n|$6$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$3$|否|否|\n|$7$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$4$|否|否|\n|$8$|$8$|$1\\times 10 ^ 5$|$1\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|是|否|\n|$9$|$4$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|是|否|\n|$10$|$8$|$3\\times 10 ^ 5$|$3\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|是|\n|$11$|$4$|$3\\times 10 ^ 5$|$3\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|是|是|\n|$12$|$8$|$1\\times 10 ^ 5$|$2\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|否|\n|$13$|$8$|$2\\times 10 ^ 5$|$4\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|否|\n|$14$|$8$|$3\\times 10 ^ 5$|$6\\times 10 ^ 5$|$\\le 3\\times 10 ^ 5$|否|否|\n \n\n其中，性质 1、性质 2 的含义如下：\n\n性质 1：存在一个点 $w$ 使得 $dist(1,w)=n-1$；\n\n性质 2：$n=m$，且第 $i$ 次询问为 $l=1,\\;r=i$。", "locale": "zh-CN"}}}
{"pid": "P10303", "type": "P", "difficulty": 6, "samples": [["2 3\n0 1 1\n0 2 0\n", "8\n"], ["1 -2\n8 -4 1\n", "25\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "THUWC"], "title": "[THUWC 2020] 报告顺序", "background": "", "description": "Yazid 今天要听 $n$ 个人做报告，方便起见，我们把这些人从 $1$ 至 $n$ 编号。\n\nYazid 有一个兴奋度，初始为 $s$，这个值会随着报告的进行而改变。\n\n第 $i$ 个人（$1\\leq i\\leq n$）的报告可以用三个数 $a_i,b_i,c_i$ 来描述，这表示假设听他的报告前，Yazid 的兴奋度为 $x$，那么听完他的报告后，Yazid 的兴奋度将会变成 $a\\lvert x\\rvert+bx+c$。\n\nYazid 还要参加期末考试，因此他希望听完报告后尽可能兴奋。因此，你的任务是帮助 Yazid 安排确定所有人的报告顺序，使得 Yazid 在所有人报告完后兴奋度最大。", "inputFormat": "第一行两个用空格隔开的整数 $n,s$。\n\n接下来 $n$ 行描述 $n$ 个人的报告。这部分的第 $i$ 行为三个空格隔开的整数 $a_i,b_i,c_i$。", "outputFormat": "输出一行一个整数，表示听完所有人的报告后，Yazid 最大的兴奋度。", "hint": "**【样例解释 #1】**\n\n如果 Yazid 先听第一个人的报告，再听第二个人的报告，那么最后的兴奋度是 $(3+1)\\times2=8$；\n\n如果 Yazid 先听第二个人的报告，再听第一个人的报告，那么最后的兴奋度是 $(3\\times 2)+1=7$。\n\n所以最大的兴奋度为 $8$。\n\n**【样例解释 #2】**\n\n只有一场报告，Yazid 初始兴奋度为 $-2$，那么听完报告之后的兴奋度为 $8\\times \\lvert -2 \\rvert+(-4)\\times (-2)+1=25$。\n\n**【子任务】**\n\n子任务 1（13 分）：$n \\le 10$；\n\n子任务 2（19 分）：$c_i = 0$；\n\n子任务 3（23 分）：$a_i=0$；\n\n子任务 4（45 分）：无特殊限制。\n\n对于所有测试点，保证 $n\\leq 15$，保证 $a,b,c,s$ 的绝对值均**不超过** $15$。\n\n**【提示】**\n\n在数据规模限制下，答案将不超过 $128$ 位有符号整数的范围，因此你可以尝试使用 `__int128` 来帮助实现你的算法。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUWC 2020] 报告顺序", "background": "", "description": "Yazid 今天要听 $n$ 个人做报告，方便起见，我们把这些人从 $1$ 至 $n$ 编号。\n\nYazid 有一个兴奋度，初始为 $s$，这个值会随着报告的进行而改变。\n\n第 $i$ 个人（$1\\leq i\\leq n$）的报告可以用三个数 $a_i,b_i,c_i$ 来描述，这表示假设听他的报告前，Yazid 的兴奋度为 $x$，那么听完他的报告后，Yazid 的兴奋度将会变成 $a\\lvert x\\rvert+bx+c$。\n\nYazid 还要参加期末考试，因此他希望听完报告后尽可能兴奋。因此，你的任务是帮助 Yazid 安排确定所有人的报告顺序，使得 Yazid 在所有人报告完后兴奋度最大。", "inputFormat": "第一行两个用空格隔开的整数 $n,s$。\n\n接下来 $n$ 行描述 $n$ 个人的报告。这部分的第 $i$ 行为三个空格隔开的整数 $a_i,b_i,c_i$。", "outputFormat": "输出一行一个整数，表示听完所有人的报告后，Yazid 最大的兴奋度。", "hint": "**【样例解释 #1】**\n\n如果 Yazid 先听第一个人的报告，再听第二个人的报告，那么最后的兴奋度是 $(3+1)\\times2=8$；\n\n如果 Yazid 先听第二个人的报告，再听第一个人的报告，那么最后的兴奋度是 $(3\\times 2)+1=7$。\n\n所以最大的兴奋度为 $8$。\n\n**【样例解释 #2】**\n\n只有一场报告，Yazid 初始兴奋度为 $-2$，那么听完报告之后的兴奋度为 $8\\times \\lvert -2 \\rvert+(-4)\\times (-2)+1=25$。\n\n**【子任务】**\n\n子任务 1（13 分）：$n \\le 10$；\n\n子任务 2（19 分）：$c_i = 0$；\n\n子任务 3（23 分）：$a_i=0$；\n\n子任务 4（45 分）：无特殊限制。\n\n对于所有测试点，保证 $n\\leq 15$，保证 $a,b,c,s$ 的绝对值均**不超过** $15$。\n\n**【提示】**\n\n在数据规模限制下，答案将不超过 $128$ 位有符号整数的范围，因此你可以尝试使用 `__int128` 来帮助实现你的算法。", "locale": "zh-CN"}}}
{"pid": "P10304", "type": "P", "difficulty": 6, "samples": [["3 3 2\n1 2\n2 3\n1 3\n1 2\n1 3\n", "1\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "THUWC"], "title": "[THUWC 2020] 道路修建", "background": "", "description": "$A$ 国是一个古老的国家。这个国家分布着 $n$ 个城市，城市由 $1 \\sim n$ 编号。其中，$1$ 号城市是这个国家的首都，也是国家里唯一有港口的城市。进口的货物从首都的港口运入，再运送向其它城市。\n\n为了方便进口货物的运送，$A$ 国国王打算修建若干条单向道路专门用于运送货物。很快，$A$ 国的大臣们给出了一个道路修建方案：这个方案由 $m$ 条单向道路组成，通过这些道路可以从 $1$ 号城市到达国家内的其它任意一个城市。非常特殊的是，这 $m$ 条道路构成的道路网络不存在环。\n\n由于财政状况不允许，$A$ 国国王打算从 $m$ 条道路中先选择 $n-1$ 条进行修建，以保证基本的货物运输能力。他使用了一种类似于深度优先搜索的方法确定出优先修建的 $n-1$ 条道路：\n\n首先，令集合 $S$ 为仅包含 $1$ 号城市的集合，并设置当前城市 $u$ 为 $1$ 号城市。\n\n然后，选择一条以当前城市 $u$ 为出发点、一个不在集合 $S$ 内的城市 $v$ 为终点的道路，将该道路标记为优先修建的道路，将城市 $v$ 加入 $S$ 集合，并将城市 $v$ 的父亲设置为当前城市 $u$。\n\n最后，将当前城市 $u$ 修改为城市 $v$。如果城市 $v$ 的选择有多个，则选择城市编号最小的一个；如果没有可以选择的城市 $v$，则将当前城市 $u$ 修改为 $u$ 的父亲。\n\n重复上述操作，直到所有城市被加入 $S$ 集合时停止。\n\n可以发现，上述步骤恰好可以选出被优先修建的 $n - 1$ 条道路，并且这些优先修建的道路可以构成一个以首都为根的树型结构。我们称这些被优先修建的道路为树上道路。\n\n随着经济的发展，$A$ 国逐渐完成了 $m$ 条道路构成的道路网。但其中，树上道路由于修建年代较早，时常需要进行维护。$A$ 国的大臣们提出了 $q$ 个可能的维护计划，每个修建计划需要同时维护城市 $a$ 与城市 $b$ 之间的所有树上道路，并且保证城市 $a$ 是城市 $b$ 在树上的祖先。这样的维护计划会对城市 $b$ 为根的子树产生很大的影响，$A$ 国国王希望你帮忙评估每个可能的维护计划——计算在城市 $a$ 与城市 $b$ 之间的所有树上道路不能使用时，从首都出发，有多少个在以城市 $b$ 为根的子树内的城市将不能到达？", "inputFormat": "第一行三个整数 $n,m,q$，分别表示 $A$ 国的城市数量、道路修建方案的道路数量、维护计划的数量。\n\n接下来 $m$ 行，每行两个整数 $x, y$，表示修建方案中一条从$x$到$y$的单向道路。\n\n接下来 $q$ 行，每行两个整数 $a,b$，表示一个维护计划。\n\n输入数据保证：\n\n1. 给定的道路修建方案保证从首都出发能到达 $A$ 国的每个城市，并且该方案中不存在环。\n2. 任意两个城市之间的道路至多出现一条，每条道路两端的城市编号不同。\n3. 每个维护计划中的城市 $a$ 保证是城市 $b$ 在树上道路构成的树结构中的某个祖先。", "outputFormat": "输出 $q$ 行，每行一个整数，表示在每个维护计划下，从首都出发，有多少个在以城市 $b$ 为根的子树内的城市将不能到达。", "hint": "**【子任务】**\n\n|子任务编号|分值|特殊限制|\n|:----:|:----:|:----:|\n|$1$|$20$|$n,q\\leq 1000$，$m\\leq 1500$|\n|$2$|$23$|保证维护计划的城市 $a$ 是城市 $b$ 的父亲|\n|$3$|$11$|$m=n$|\n|$4$|$19$|保证维护计划满足 $a=1$|\n|$5$|$27$|无|\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,q \\leq 10 ^ 5$，$1\\leq m \\leq 1.5 \\times 10 ^ 5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUWC 2020] 道路修建", "background": "", "description": "$A$ 国是一个古老的国家。这个国家分布着 $n$ 个城市，城市由 $1 \\sim n$ 编号。其中，$1$ 号城市是这个国家的首都，也是国家里唯一有港口的城市。进口的货物从首都的港口运入，再运送向其它城市。\n\n为了方便进口货物的运送，$A$ 国国王打算修建若干条单向道路专门用于运送货物。很快，$A$ 国的大臣们给出了一个道路修建方案：这个方案由 $m$ 条单向道路组成，通过这些道路可以从 $1$ 号城市到达国家内的其它任意一个城市。非常特殊的是，这 $m$ 条道路构成的道路网络不存在环。\n\n由于财政状况不允许，$A$ 国国王打算从 $m$ 条道路中先选择 $n-1$ 条进行修建，以保证基本的货物运输能力。他使用了一种类似于深度优先搜索的方法确定出优先修建的 $n-1$ 条道路：\n\n首先，令集合 $S$ 为仅包含 $1$ 号城市的集合，并设置当前城市 $u$ 为 $1$ 号城市。\n\n然后，选择一条以当前城市 $u$ 为出发点、一个不在集合 $S$ 内的城市 $v$ 为终点的道路，将该道路标记为优先修建的道路，将城市 $v$ 加入 $S$ 集合，并将城市 $v$ 的父亲设置为当前城市 $u$。\n\n最后，将当前城市 $u$ 修改为城市 $v$。如果城市 $v$ 的选择有多个，则选择城市编号最小的一个；如果没有可以选择的城市 $v$，则将当前城市 $u$ 修改为 $u$ 的父亲。\n\n重复上述操作，直到所有城市被加入 $S$ 集合时停止。\n\n可以发现，上述步骤恰好可以选出被优先修建的 $n - 1$ 条道路，并且这些优先修建的道路可以构成一个以首都为根的树型结构。我们称这些被优先修建的道路为树上道路。\n\n随着经济的发展，$A$ 国逐渐完成了 $m$ 条道路构成的道路网。但其中，树上道路由于修建年代较早，时常需要进行维护。$A$ 国的大臣们提出了 $q$ 个可能的维护计划，每个修建计划需要同时维护城市 $a$ 与城市 $b$ 之间的所有树上道路，并且保证城市 $a$ 是城市 $b$ 在树上的祖先。这样的维护计划会对城市 $b$ 为根的子树产生很大的影响，$A$ 国国王希望你帮忙评估每个可能的维护计划——计算在城市 $a$ 与城市 $b$ 之间的所有树上道路不能使用时，从首都出发，有多少个在以城市 $b$ 为根的子树内的城市将不能到达？", "inputFormat": "第一行三个整数 $n,m,q$，分别表示 $A$ 国的城市数量、道路修建方案的道路数量、维护计划的数量。\n\n接下来 $m$ 行，每行两个整数 $x, y$，表示修建方案中一条从$x$到$y$的单向道路。\n\n接下来 $q$ 行，每行两个整数 $a,b$，表示一个维护计划。\n\n输入数据保证：\n\n1. 给定的道路修建方案保证从首都出发能到达 $A$ 国的每个城市，并且该方案中不存在环。\n2. 任意两个城市之间的道路至多出现一条，每条道路两端的城市编号不同。\n3. 每个维护计划中的城市 $a$ 保证是城市 $b$ 在树上道路构成的树结构中的某个祖先。", "outputFormat": "输出 $q$ 行，每行一个整数，表示在每个维护计划下，从首都出发，有多少个在以城市 $b$ 为根的子树内的城市将不能到达。", "hint": "**【子任务】**\n\n|子任务编号|分值|特殊限制|\n|:----:|:----:|:----:|\n|$1$|$20$|$n,q\\leq 1000$，$m\\leq 1500$|\n|$2$|$23$|保证维护计划的城市 $a$ 是城市 $b$ 的父亲|\n|$3$|$11$|$m=n$|\n|$4$|$19$|保证维护计划满足 $a=1$|\n|$5$|$27$|无|\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,q \\leq 10 ^ 5$，$1\\leq m \\leq 1.5 \\times 10 ^ 5$。", "locale": "zh-CN"}}}
{"pid": "P10305", "type": "P", "difficulty": 7, "samples": [["4 4\n1 3 2 4\n1 2\n2 3\n3 4\n1 1 1\n1 2 1\n1 3 1\n1 4 1\n", "1\n2\n0\n4\n"], ["见附件中的 2.in。", "见附件中的 2.ans。"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "THUWC"], "title": "[THUWC 2020] 序排泡冒", "background": "> You are given a peach tree $T$. \n>\n> You don't need to think of the peach.\n>\n> Because I'm going to talk about the tree.", "description": "**冒泡排序算法**是一种广为人知的排序算法，其思路在于不断地交换相邻且逆序的两个元素，由于总的逆序对个数不断减少，冒泡排序算法一定可以终止。给 $a[0], a[1], \\dots, a[n-1]$ **从小到大排序**的冒泡排序算法可以用下面的伪代码描述。\n\n```cpp\nfor (int i = 1; i <= k; i++)\n    for (int j = 0; j < n-1; j++)\n        if (a[j] > a[j+1]) {\n            tmp = a[j];\n            a[j] = a[j+1];\n            a[j+1] = tmp;\n        }\n```\n\n其中 $k$ 称为冒泡排序进行的轮数，当 $k$ 取 $n$ 时，便可以保证序列被从小到大排序。\n\n**序排泡冒算法**是一种鲜为人知的序排算法，其作用是给定一个长度为 $n$ 的序列 $a$ 和参数 $k$，输出所有可能的序列 $b$，满足其经过 $k$ 轮冒泡排序之后成为序列 $a$。\n\n给定一棵树 $T$，结点用 $1,2, \\dots, n$ 编号。每一个结点 $u$ 有一个点权 $p(u)$，保证 $p(1), p(2), \\dots, p(n)$ 构成了 $\\{1,2,\\dots,n\\}$ 的一个排列。换言之，满足\n\n1. 对于 $u\\ne v$，均有 $p(u)\\ne p(v)$；\n2. 对于任意的 $i\\in \\{1, 2, \\dots, n\\}$，均存在一个 $u$ 满足 $p(u)=i$。\n\n对于这棵树，我们将进行 $m$ 次询问，每次询问给出两个结点 $u, v$ 和一个参数 $k$。用 $t_1, t_2, \\dots, t_l$ 表示从 $u$ 到 $v$ 的唯一简单路径上**依次经过的所有结点的点权**组成的序列，可以看出 $t_1$ 就是 $p(u)$，$t_l$ 就是 $p(v)$，你需要计算序列 $t$ 和参数 $k$ 进行序排泡冒后，输出的排列序列个数。换言之，求有多少个序列满足其**经过 $k$ 轮冒泡排序后得到序列 $t$**。\n\n由于答案很大，你只需要输出其对 $998,244,353$ 取模的结果（也就是说，输出答案除以 $998,244,353$ 的余数）。", "inputFormat": "第一行包含两个用空格分隔的自然数 $n, m$，表示结点个数和询问个数。\n\n接下来的一行包含 $n$ 用空格分隔的整数 $p(1), p(2), \\dots, p(n)$，表示每个点的点权。\n\n接下来 $n-1$ 行每行包含两个数 $x_i, y_i$，表示树上存在一条连接 $x_i$ 和 $y_i$ 上的边。输入的数据保证所有的边构成一棵树。\n\n接下来 $m$ 行每行包含一个询问 $u_i, v_i, k_i$，其意义在题目描述中已经说明。", "outputFormat": "输出包含 $m$ 行，第 $i$ 行包含一个整数，表示第 $i$ 个询问的答案对 $998,244,353$ 取模的结果。", "hint": "**【样例解释 #1】**\n\n在这组样例中，树构成了一个长度为 $4$ 的链。\n\n1. 对于第一次询问，经过的结点序列为 $[1]$，点权序列为 $[1]$，序排泡冒输出 $\\{[1]\\}$。\n2. 对于第二次询问，经过的结点序列为 $[1,2]$，点权序列为 $[1,3]$，序排泡冒输出 $\\{[1,3], [3,1]\\}$。\n3. 对于第三次询问，经过的结点序列为 $[1,2,3]$，点权序列为 $[1,3,2]$，序排泡冒输出 $\\{\\}$。\n4. 对于第四次询问，经过的结点序列为 $[1,2,3,4]$，点权序列为 $[1,3,2,4]$，序排泡冒输出 $\\{[1,3,4,2], [3,1,4,2], [1,4,3,2], [4,1,3,2]\\}$。\n\n**【子任务】**\n\n|Subtask|$n$|$m$|$k$|Type|Score|\n|:--:|:--:|:--:|:--:|:--:|:--:|\n|$1$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$= 0$|$3$|$1$|\n|$2$|$\\le 10$|$\\le 1$|$\\le n$|$1$|$4$|\n|$3$|$\\le 10$|$\\le 5 \\times 10^{5}$|$\\le n$|$3$|$3$|\n|$4$|$\\le 10^{3}$|$\\le 10^{3}$|$\\le n$|$1$|$10$|\n|$5$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$\\le n$|$1$|$12$|\n|$6$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$\\le n$|$2$|$13$|\n|$7$|$\\le 10^{3}$|$\\le 10^{3}$|$\\le n$|$3$|$5$|\n|$8$|$\\le 10^{5}$|$\\le 10^{5}$|$\\le n$|$3$|$25$|\n|$9$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$\\le n$|$3$|$27$|\n \n\n**对于所有数据，**$1\\le n,m\\le 5\\times 10^5, 0\\le k\\le n$。\n\n**数据类型含义：**\n\n- $\\mathrm{Type}=1$：树构成一条链，即 $x_i = i,y_i=i+1$，并且所有的询问都满足 $u_1=1, v_i=n$。\n- $\\mathrm{Type}=2$：树构成一条链，即 $x_i = i,y_i=i+1$，并且所有的询问都满足 $u_i < v_i$。\n- $\\mathrm{Type} = 3$：无特殊限制。\n\n**【提示】**\n\n> Don't be afraid of the pain in climbing.\n>\n> Your tough journey is just beginning.\n>\n> But the fruit you will gain is not only peaches.\n>\n> Keep counting on the tree! Young gentlemen and ladies.\n>\n> Hope in your heart will lead you to the destiny.", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUWC 2020] 序排泡冒", "background": "> You are given a peach tree $T$. \n>\n> You don't need to think of the peach.\n>\n> Because I'm going to talk about the tree.", "description": "**冒泡排序算法**是一种广为人知的排序算法，其思路在于不断地交换相邻且逆序的两个元素，由于总的逆序对个数不断减少，冒泡排序算法一定可以终止。给 $a[0], a[1], \\dots, a[n-1]$ **从小到大排序**的冒泡排序算法可以用下面的伪代码描述。\n\n```cpp\nfor (int i = 1; i <= k; i++)\n    for (int j = 0; j < n-1; j++)\n        if (a[j] > a[j+1]) {\n            tmp = a[j];\n            a[j] = a[j+1];\n            a[j+1] = tmp;\n        }\n```\n\n其中 $k$ 称为冒泡排序进行的轮数，当 $k$ 取 $n$ 时，便可以保证序列被从小到大排序。\n\n**序排泡冒算法**是一种鲜为人知的序排算法，其作用是给定一个长度为 $n$ 的序列 $a$ 和参数 $k$，输出所有可能的序列 $b$，满足其经过 $k$ 轮冒泡排序之后成为序列 $a$。\n\n给定一棵树 $T$，结点用 $1,2, \\dots, n$ 编号。每一个结点 $u$ 有一个点权 $p(u)$，保证 $p(1), p(2), \\dots, p(n)$ 构成了 $\\{1,2,\\dots,n\\}$ 的一个排列。换言之，满足\n\n1. 对于 $u\\ne v$，均有 $p(u)\\ne p(v)$；\n2. 对于任意的 $i\\in \\{1, 2, \\dots, n\\}$，均存在一个 $u$ 满足 $p(u)=i$。\n\n对于这棵树，我们将进行 $m$ 次询问，每次询问给出两个结点 $u, v$ 和一个参数 $k$。用 $t_1, t_2, \\dots, t_l$ 表示从 $u$ 到 $v$ 的唯一简单路径上**依次经过的所有结点的点权**组成的序列，可以看出 $t_1$ 就是 $p(u)$，$t_l$ 就是 $p(v)$，你需要计算序列 $t$ 和参数 $k$ 进行序排泡冒后，输出的排列序列个数。换言之，求有多少个序列满足其**经过 $k$ 轮冒泡排序后得到序列 $t$**。\n\n由于答案很大，你只需要输出其对 $998,244,353$ 取模的结果（也就是说，输出答案除以 $998,244,353$ 的余数）。", "inputFormat": "第一行包含两个用空格分隔的自然数 $n, m$，表示结点个数和询问个数。\n\n接下来的一行包含 $n$ 用空格分隔的整数 $p(1), p(2), \\dots, p(n)$，表示每个点的点权。\n\n接下来 $n-1$ 行每行包含两个数 $x_i, y_i$，表示树上存在一条连接 $x_i$ 和 $y_i$ 上的边。输入的数据保证所有的边构成一棵树。\n\n接下来 $m$ 行每行包含一个询问 $u_i, v_i, k_i$，其意义在题目描述中已经说明。", "outputFormat": "输出包含 $m$ 行，第 $i$ 行包含一个整数，表示第 $i$ 个询问的答案对 $998,244,353$ 取模的结果。", "hint": "**【样例解释 #1】**\n\n在这组样例中，树构成了一个长度为 $4$ 的链。\n\n1. 对于第一次询问，经过的结点序列为 $[1]$，点权序列为 $[1]$，序排泡冒输出 $\\{[1]\\}$。\n2. 对于第二次询问，经过的结点序列为 $[1,2]$，点权序列为 $[1,3]$，序排泡冒输出 $\\{[1,3], [3,1]\\}$。\n3. 对于第三次询问，经过的结点序列为 $[1,2,3]$，点权序列为 $[1,3,2]$，序排泡冒输出 $\\{\\}$。\n4. 对于第四次询问，经过的结点序列为 $[1,2,3,4]$，点权序列为 $[1,3,2,4]$，序排泡冒输出 $\\{[1,3,4,2], [3,1,4,2], [1,4,3,2], [4,1,3,2]\\}$。\n\n**【子任务】**\n\n|Subtask|$n$|$m$|$k$|Type|Score|\n|:--:|:--:|:--:|:--:|:--:|:--:|\n|$1$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$= 0$|$3$|$1$|\n|$2$|$\\le 10$|$\\le 1$|$\\le n$|$1$|$4$|\n|$3$|$\\le 10$|$\\le 5 \\times 10^{5}$|$\\le n$|$3$|$3$|\n|$4$|$\\le 10^{3}$|$\\le 10^{3}$|$\\le n$|$1$|$10$|\n|$5$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$\\le n$|$1$|$12$|\n|$6$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$\\le n$|$2$|$13$|\n|$7$|$\\le 10^{3}$|$\\le 10^{3}$|$\\le n$|$3$|$5$|\n|$8$|$\\le 10^{5}$|$\\le 10^{5}$|$\\le n$|$3$|$25$|\n|$9$|$\\le 5 \\times 10^{5}$|$\\le 5 \\times 10^{5}$|$\\le n$|$3$|$27$|\n \n\n**对于所有数据，**$1\\le n,m\\le 5\\times 10^5, 0\\le k\\le n$。\n\n**数据类型含义：**\n\n- $\\mathrm{Type}=1$：树构成一条链，即 $x_i = i,y_i=i+1$，并且所有的询问都满足 $u_1=1, v_i=n$。\n- $\\mathrm{Type}=2$：树构成一条链，即 $x_i = i,y_i=i+1$，并且所有的询问都满足 $u_i < v_i$。\n- $\\mathrm{Type} = 3$：无特殊限制。\n\n**【提示】**\n\n> Don't be afraid of the pain in climbing.\n>\n> Your tough journey is just beginning.\n>\n> But the fruit you will gain is not only peaches.\n>\n> Keep counting on the tree! Young gentlemen and ladies.\n>\n> Hope in your heart will lead you to the destiny.", "locale": "zh-CN"}}}
{"pid": "P10306", "type": "P", "difficulty": 2, "samples": [["3\n1\n2\n4", "3\n0 5\n2 0 -2 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "Special Judge", "O2优化", "构造", "洛谷月赛"], "title": "「Cfz Round 2」How to Prove", "background": "", "description": "给定一个正整数 $n$。\n\n我们定义，对于一个集合 $S$，$\\Omega(S)$ 为集合 $S$ 的所有的 **非空子集的元素和** 所组成的集合。\n\n形式化地，$\\Omega(S)=\\{x\\mid x=\\sum\\limits_{i\\in T}i,T\\subseteq S,T\\neq \\varnothing\\}$。\n\n例如，当 $S=\\{2,0,-3,5\\}$ 时，$\\Omega(S)=\\{-3,-1,0,2,4,5,7\\}$。\n\n你需要构造一个大小为 $n$ 的集合 $S$，满足：\n\n- 集合 $S$ 中的所有元素均为不大于 $10^9$ 且不小于 $-10^9$ 的整数；\n- $|\\Omega(S)|$ 最小，即 $\\Omega(S)$ 所包含的元素个数最少。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据，输入一行一个正整数 $n$。", "outputFormat": "对于每组测试数据，输出一行 $n$ 个整数，表示你构造的集合 $S$ 中的所有元素。\n\n**所有满足要求的输出均可通过。**", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组数据，$S=\\{3\\}$，$\\Omega(S)=\\{3\\}$。当然，$\\{0\\}$、$\\{-2\\}$ 等也为满足条件的集合 $S$。\n\n对于第 $2$ 组数据，$S=\\{0,5\\}$，$\\Omega(S)=\\{0,5\\}$。\n\n对于第 $3$ 组数据，$S=\\{2,0,-2,4\\}$，$\\Omega(S)=\\{-2,0,2,4,6\\}$。\n\n可以证明以上构造均满足条件。\n\n#### 「数据范围」\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有数据，$1 \\le T \\le 100$，$1 \\le n \\le 10^6$，$\\sum n \\le 10^6$。\n\n**只有你通过本题的所有测试点，你才能获得本题的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 2」How to Prove", "background": "", "description": "给定一个正整数 $n$。\n\n我们定义，对于一个集合 $S$，$\\Omega(S)$ 为集合 $S$ 的所有的 **非空子集的元素和** 所组成的集合。\n\n形式化地，$\\Omega(S)=\\{x\\mid x=\\sum\\limits_{i\\in T}i,T\\subseteq S,T\\neq \\varnothing\\}$。\n\n例如，当 $S=\\{2,0,-3,5\\}$ 时，$\\Omega(S)=\\{-3,-1,0,2,4,5,7\\}$。\n\n你需要构造一个大小为 $n$ 的集合 $S$，满足：\n\n- 集合 $S$ 中的所有元素均为不大于 $10^9$ 且不小于 $-10^9$ 的整数；\n- $|\\Omega(S)|$ 最小，即 $\\Omega(S)$ 所包含的元素个数最少。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据，输入一行一个正整数 $n$。", "outputFormat": "对于每组测试数据，输出一行 $n$ 个整数，表示你构造的集合 $S$ 中的所有元素。\n\n**所有满足要求的输出均可通过。**", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组数据，$S=\\{3\\}$，$\\Omega(S)=\\{3\\}$。当然，$\\{0\\}$、$\\{-2\\}$ 等也为满足条件的集合 $S$。\n\n对于第 $2$ 组数据，$S=\\{0,5\\}$，$\\Omega(S)=\\{0,5\\}$。\n\n对于第 $3$ 组数据，$S=\\{2,0,-2,4\\}$，$\\Omega(S)=\\{-2,0,2,4,6\\}$。\n\n可以证明以上构造均满足条件。\n\n#### 「数据范围」\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有数据，$1 \\le T \\le 100$，$1 \\le n \\le 10^6$，$\\sum n \\le 10^6$。\n\n**只有你通过本题的所有测试点，你才能获得本题的分数。**", "locale": "zh-CN"}}}
{"pid": "P10307", "type": "P", "difficulty": 3, "samples": [["5\n2\n0 1 2\n3\n1 3 3 1\n4\n2 2 5 4 2\n5\n7 0 3 4 0 1\n6\n5 2 1 8 6 0 9", "10\n1\n100\n11\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "位运算", "洛谷月赛"], "title": "「Cfz Round 2」Binary", "background": "", "description": "给定 $n + 1$ 个整数 $a_0\\dots a_n$。\n\n对于整数 $u$，设它在二进制下为 $1$ 的位分别为 $k_1, k_2\\dots k_m$，那么它的权值 $f(u) = a_{k_1} \\oplus a_{k_2} \\oplus \\dots \\oplus a_{k_m}$。此处的二进制位的编号从右到左，依次为 $0,1,2\\dots$。其中 $\\oplus$ 表示 [按位异或](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677?fromModule=search-result_lemma-recommend) 符号。\n\n你想要知道有多少个 $0 \\leq u \\leq 2^n - 1$ 使得 $f(u) = f(u + 1)$。为了方便，请你用 **二进制形式** 输出答案（不取模）。\n\n请注意：输出不能包含前导 $0$，除非答案为 $0$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行输入一个正整数 $n$。\n- 第二行输入 $n + 1$ 个整数 $a_0 \\dots a_n$。", "outputFormat": "对于每组数据，输出一行一个二进制整数，表示答案。\n\n再次提示：输出不能包含前导 $0$，除非答案为 $0$。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组数据，\n\n- $(0)_{10} = (0)_{2}$，所以 $f(0) = 0$；\n- $(1)_{10} = (1)_{2}$，所以 $f(1) = a_0 = 0$；\n- $(2)_{10} = (10)_{2}$，所以 $f(2) = a_1 = 1$；\n- $(3)_{10} = (11)_{2}$，所以 $f(3) = a_0 \\oplus a_1 = 0 \\oplus 1 = 1$；\n- $(4)_{10} = (100)_{2}$，所以 $f(4) = a_2 = 2$。\n\n这其中有 $f(0) = f(1)$，$f(2) = f(3)$，所以输出 $(2)_{10} = (10)_{2}$。\n\n#### 「数据范围」\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有数据，$1 \\leq T \\leq 10^3$，$1 \\leq n \\leq 2\\times 10^5$，$\\sum n \\leq 6\\times 10^5$，$0 \\leq a_i \\leq 2^{30} - 1$。\n\n**只有你通过本题的所有测试点，你才能获得本题的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 2」Binary", "background": "", "description": "给定 $n + 1$ 个整数 $a_0\\dots a_n$。\n\n对于整数 $u$，设它在二进制下为 $1$ 的位分别为 $k_1, k_2\\dots k_m$，那么它的权值 $f(u) = a_{k_1} \\oplus a_{k_2} \\oplus \\dots \\oplus a_{k_m}$。此处的二进制位的编号从右到左，依次为 $0,1,2\\dots$。其中 $\\oplus$ 表示 [按位异或](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677?fromModule=search-result_lemma-recommend) 符号。\n\n你想要知道有多少个 $0 \\leq u \\leq 2^n - 1$ 使得 $f(u) = f(u + 1)$。为了方便，请你用 **二进制形式** 输出答案（不取模）。\n\n请注意：输出不能包含前导 $0$，除非答案为 $0$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行输入一个正整数 $n$。\n- 第二行输入 $n + 1$ 个整数 $a_0 \\dots a_n$。", "outputFormat": "对于每组数据，输出一行一个二进制整数，表示答案。\n\n再次提示：输出不能包含前导 $0$，除非答案为 $0$。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组数据，\n\n- $(0)_{10} = (0)_{2}$，所以 $f(0) = 0$；\n- $(1)_{10} = (1)_{2}$，所以 $f(1) = a_0 = 0$；\n- $(2)_{10} = (10)_{2}$，所以 $f(2) = a_1 = 1$；\n- $(3)_{10} = (11)_{2}$，所以 $f(3) = a_0 \\oplus a_1 = 0 \\oplus 1 = 1$；\n- $(4)_{10} = (100)_{2}$，所以 $f(4) = a_2 = 2$。\n\n这其中有 $f(0) = f(1)$，$f(2) = f(3)$，所以输出 $(2)_{10} = (10)_{2}$。\n\n#### 「数据范围」\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有数据，$1 \\leq T \\leq 10^3$，$1 \\leq n \\leq 2\\times 10^5$，$\\sum n \\leq 6\\times 10^5$，$0 \\leq a_i \\leq 2^{30} - 1$。\n\n**只有你通过本题的所有测试点，你才能获得本题的分数。**", "locale": "zh-CN"}}}
