{"pid": "P10695", "type": "P", "difficulty": 5, "samples": [["10 5\n1 2 5 6 8\n", "2\n"], ["3 3\n1 2 3\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "陕西", "Ad-hoc", "省赛/邀请赛"], "title": "[SNCPC2024] 商路", "background": "", "description": "一个圆周被 $K$ 个点等分，这些点按照顺时针编号为 $1, 2, \\cdots, K$。其中点 $a_1, a_2, \\cdots, a_n$ 分别建造有一座市场 $M_1, M_2, \\cdots, M_n$。\n\n一条从市场 $i$ 出发，目标是市场 $j$ 的商路是有向线段 $M_i M_j$ ($i \\neq j$) 且必须满足以下条件：\n\n- 市场 $j$ 必须是距离市场 $i$ 最远的市场（如果有多个距离相同的最远的市场,那么任意一个均可）。\n    \n- 商路线段 $M_i M_j$ 不能与其他商路线段在起点或者终点以外的地方相交或重合。\n\n最多可以存在多少条商路？", "inputFormat": "第一行包含两个整数 $K, n$ ($3 \\leq K \\leq 10^9, 3\\leq n \\leq \\min(K,10^5) $)，由空格隔开，表示有 $n$ 个市场分布在圆周的 $K$ 等分点上。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\cdots, a_n$ ($1\\leq a_1 < a_2 < \\cdots < a_{n-1} < a_n \\leq K$)，为建有市场的点的编号。", "outputFormat": "输出一个整数表示最多可以存在的商路的数量。\n", "hint": "\n\n对于第一个样例，其中两种可能的答案如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ql7evd73.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ya5u7z3o.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 商路", "background": "", "description": "一个圆周被 $K$ 个点等分，这些点按照顺时针编号为 $1, 2, \\cdots, K$。其中点 $a_1, a_2, \\cdots, a_n$ 分别建造有一座市场 $M_1, M_2, \\cdots, M_n$。\n\n一条从市场 $i$ 出发，目标是市场 $j$ 的商路是有向线段 $M_i M_j$ ($i \\neq j$) 且必须满足以下条件：\n\n- 市场 $j$ 必须是距离市场 $i$ 最远的市场（如果有多个距离相同的最远的市场,那么任意一个均可）。\n    \n- 商路线段 $M_i M_j$ 不能与其他商路线段在起点或者终点以外的地方相交或重合。\n\n最多可以存在多少条商路？", "inputFormat": "第一行包含两个整数 $K, n$ ($3 \\leq K \\leq 10^9, 3\\leq n \\leq \\min(K,10^5) $)，由空格隔开，表示有 $n$ 个市场分布在圆周的 $K$ 等分点上。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\cdots, a_n$ ($1\\leq a_1 < a_2 < \\cdots < a_{n-1} < a_n \\leq K$)，为建有市场的点的编号。", "outputFormat": "输出一个整数表示最多可以存在的商路的数量。\n", "hint": "\n\n对于第一个样例，其中两种可能的答案如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ql7evd73.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ya5u7z3o.png)", "locale": "zh-CN"}}}
{"pid": "P10696", "type": "P", "difficulty": 1, "samples": [["2\n3\n10 4 15\n4\n10 10 5 4\n", "15\n10\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "陕西", "省赛/邀请赛"], "title": "[SNCPC2024] 写都写了，交一发吧", "background": "", "description": "MCPlayer542 正在做一道题。\n\n由于题目太难，他不能直接写出正解，而是写出了 $n$ 份不同的代码，其中第 $i$ 份代码可以获得 $g_i$ 的分数。\n\n时间紧迫，MCPlayer542 打算直接胡乱把代码交上去了。然而这时候他发现：由于这场比赛的特殊规则，他必须提交两次代码，且他得到的总分将会是两次提交得分的按位与运算结果。和你正在参加的比赛类似，两次不同提交的代码可以是同一份，也可以不同。\n\n形式化地，如果他分别在两次提交中提交了第 $i$ 和第 $j$ 份代码，则得分为 $g_i \\& g_j$，其中 $\\&$ 表示按位与运算。\n\n他想知道他能得到的最高分是多少。", "inputFormat": "输入包含多组测试数据，数据的第一行包含一个整数 $t$ ($1\\le t\\le 2\\times 10^5$)，表示数据组数。\n\n每组数据的第一行包含一个整数 $n$ ($1\\le n \\le 2\\times 10^5$)，表示代码份数。\n\n随后一行输入 $n$ 个整数 $g_1,\\ g_2,\\ \\ldots,\\ g_n$ ($0 \\le g_i<2^{30}$)，用单个空格分隔，含义见题目描述。\n\n数据保证所有 $n$ 之和不超过 $2\\times 10^5$。", "outputFormat": "对每组数据输出一行一个整数，即答案。", "hint": "\n\n对于第一组数据，只需将第三份代码提交两次即可。\n\n对于第二组数据，提交前两份代码即可。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 写都写了，交一发吧", "background": "", "description": "MCPlayer542 正在做一道题。\n\n由于题目太难，他不能直接写出正解，而是写出了 $n$ 份不同的代码，其中第 $i$ 份代码可以获得 $g_i$ 的分数。\n\n时间紧迫，MCPlayer542 打算直接胡乱把代码交上去了。然而这时候他发现：由于这场比赛的特殊规则，他必须提交两次代码，且他得到的总分将会是两次提交得分的按位与运算结果。和你正在参加的比赛类似，两次不同提交的代码可以是同一份，也可以不同。\n\n形式化地，如果他分别在两次提交中提交了第 $i$ 和第 $j$ 份代码，则得分为 $g_i \\& g_j$，其中 $\\&$ 表示按位与运算。\n\n他想知道他能得到的最高分是多少。", "inputFormat": "输入包含多组测试数据，数据的第一行包含一个整数 $t$ ($1\\le t\\le 2\\times 10^5$)，表示数据组数。\n\n每组数据的第一行包含一个整数 $n$ ($1\\le n \\le 2\\times 10^5$)，表示代码份数。\n\n随后一行输入 $n$ 个整数 $g_1,\\ g_2,\\ \\ldots,\\ g_n$ ($0 \\le g_i<2^{30}$)，用单个空格分隔，含义见题目描述。\n\n数据保证所有 $n$ 之和不超过 $2\\times 10^5$。", "outputFormat": "对每组数据输出一行一个整数，即答案。", "hint": "\n\n对于第一组数据，只需将第三份代码提交两次即可。\n\n对于第二组数据，提交前两份代码即可。\n", "locale": "zh-CN"}}}
{"pid": "P10697", "type": "P", "difficulty": 3, "samples": [["5\n9 4\n99 7\n12345678 9\n9475632111234123 8\n998244353114514 7\n", "9\n81\n6053445\n1758041005111510\n205404686678741\n"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "数位 DP", "陕西", "进制", "省赛/邀请赛"], "title": "[SNCPC2024] 消失的数字", "background": "", "description": "uuku 正在学习数位 DP！\n\n但某一天，他发现 $1,2,\\ldots,9$ 这九个数字中的 $x$ 消失了，也就是说所有包含 $x$ 这个数字的数都消失了。\n\n这让他非常惊慌，因为这对统计数的个数有很大的影响。\n\n现在，他希望你能帮助他求出这种情况下数 $n$ 在未消失的自然数中从小到大排在第几位。", "inputFormat": "本题有多组测试数据，输入第一行为一个整数 $T$（$1 \\leq T \\leq 10^5$），表示测试数据的组数。\n\n对于每组测试数据：\n\n共一行两个整数 $n, x$ ($0 \\leq n \\leq 10^{18},1 \\leq x \\leq 9$)，由空格隔开，含义如题目描述所述。\n\n数据保证 $n$ 中不包含数字 $x$。", "outputFormat": "对于每组测试数据：输出一行一个整数，表示数 $n$ 的排名。\n", "hint": "\n\n对于样例的第一组数据，自然数列变为 $0,1,2,3,5,6,7,8,9$, 其中数 $9$ 是第 $9$ 个。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 消失的数字", "background": "", "description": "uuku 正在学习数位 DP！\n\n但某一天，他发现 $1,2,\\ldots,9$ 这九个数字中的 $x$ 消失了，也就是说所有包含 $x$ 这个数字的数都消失了。\n\n这让他非常惊慌，因为这对统计数的个数有很大的影响。\n\n现在，他希望你能帮助他求出这种情况下数 $n$ 在未消失的自然数中从小到大排在第几位。", "inputFormat": "本题有多组测试数据，输入第一行为一个整数 $T$（$1 \\leq T \\leq 10^5$），表示测试数据的组数。\n\n对于每组测试数据：\n\n共一行两个整数 $n, x$ ($0 \\leq n \\leq 10^{18},1 \\leq x \\leq 9$)，由空格隔开，含义如题目描述所述。\n\n数据保证 $n$ 中不包含数字 $x$。", "outputFormat": "对于每组测试数据：输出一行一个整数，表示数 $n$ 的排名。\n", "hint": "\n\n对于样例的第一组数据，自然数列变为 $0,1,2,3,5,6,7,8,9$, 其中数 $9$ 是第 $9$ 个。", "locale": "zh-CN"}}}
{"pid": "P10698", "type": "P", "difficulty": 7, "samples": [["7 12 3\n1 2\n1 3\n3 2\n3 4\n2 4\n1 5\n5 6\n3 6\n1 7\n5 7\n6 7\n4 7\n", "2 1 2 1 2 3 \n"], ["5 8 50\n1 2\n1 2\n1 2\n3 2\n2 4\n2 4\n2 4\n2 4\n", "3 0 3 0 \n"]], "limits": {"time": [15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "LGV 引理", "O2优化", "陕西", "容斥原理", "线性基", "省赛/邀请赛"], "title": "[SNCPC2024] 最大流", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的有向无环图，图中每条边的容量为 $1$。对点 $1$ 以外的每个点 $i$，设从点 $1$ 到点 $i$ 的最大流为 $f_i$，试求出 $\\min\\{f_i,\\ k\\}$。\n\n在边容量为 $1$ 的图上，一个从点 $1$ 到点 $i$ 的流即为一条从点 $1$ 到点 $i$ 的路径。如果从点 $1$ 到点 $i$ 最多能同时有 $f_i$ 个不交的流（即没有一条边同时属于两个流），则我们认为点 $1$ 到点 $i$ 的最大流是 $f_i$。", "inputFormat": "输入第一行为三个整数 $n, m, k$ ($2 \\leq n \\leq 10^5, 1 \\leq m \\leq 2 \\times 10^5, 1 \\leq k \\leq 50$)，由空格隔开，为图的点数，边数和参数。\n\n接下来 $m$ 行，每行两个整数 $x_i,y_i$ ($1 \\leq x_i, y_i \\leq n, x_i \\neq y_i$)，由空格隔开，描述一条有向边。\n\n图中保证没有自环，但是可能存在重边，保证给出的是一个有向无环图。\n", "outputFormat": "输出仅一行 $n-1$ 个整数，由空格隔开。对于第 $i$ 个整数，如果从结点 $1$ 到结点 $i+1$ 的最大流不超过 $k$，则为最大流的值，否则为 $k$。\n", "hint": "\n\n第一个样例所述图如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5sl6gmj6.png)\n\n\n我们可以找到 $4$ 条从点 $1$ 到点 $7$ 的不相交路径：\n\n$\\text{1->7}$\n\n$\\text{1->5->7}$\n\n$\\text{1->3->6->7}$\n\n$\\text{1->2->4->7}$\n\n我们无法找到更多条从点 $1$ 到点 $7$ 的不相交路径：\n\n\n所以点 $1$ 到点 $7$ 的最大流为 $f_7=4$，但是因为 $k=3$，所以答案的第六个整数为 $3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 最大流", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的有向无环图，图中每条边的容量为 $1$。对点 $1$ 以外的每个点 $i$，设从点 $1$ 到点 $i$ 的最大流为 $f_i$，试求出 $\\min\\{f_i,\\ k\\}$。\n\n在边容量为 $1$ 的图上，一个从点 $1$ 到点 $i$ 的流即为一条从点 $1$ 到点 $i$ 的路径。如果从点 $1$ 到点 $i$ 最多能同时有 $f_i$ 个不交的流（即没有一条边同时属于两个流），则我们认为点 $1$ 到点 $i$ 的最大流是 $f_i$。", "inputFormat": "输入第一行为三个整数 $n, m, k$ ($2 \\leq n \\leq 10^5, 1 \\leq m \\leq 2 \\times 10^5, 1 \\leq k \\leq 50$)，由空格隔开，为图的点数，边数和参数。\n\n接下来 $m$ 行，每行两个整数 $x_i,y_i$ ($1 \\leq x_i, y_i \\leq n, x_i \\neq y_i$)，由空格隔开，描述一条有向边。\n\n图中保证没有自环，但是可能存在重边，保证给出的是一个有向无环图。\n", "outputFormat": "输出仅一行 $n-1$ 个整数，由空格隔开。对于第 $i$ 个整数，如果从结点 $1$ 到结点 $i+1$ 的最大流不超过 $k$，则为最大流的值，否则为 $k$。\n", "hint": "\n\n第一个样例所述图如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5sl6gmj6.png)\n\n\n我们可以找到 $4$ 条从点 $1$ 到点 $7$ 的不相交路径：\n\n$\\text{1->7}$\n\n$\\text{1->5->7}$\n\n$\\text{1->3->6->7}$\n\n$\\text{1->2->4->7}$\n\n我们无法找到更多条从点 $1$ 到点 $7$ 的不相交路径：\n\n\n所以点 $1$ 到点 $7$ 的最大流为 $f_7=4$，但是因为 $k=3$，所以答案的第六个整数为 $3$。", "locale": "zh-CN"}}}
{"pid": "P10699", "type": "P", "difficulty": 6, "samples": [["2\n3 1\n\n3\n\n9\n\n9\n\n\n3 2\n\n4\n\n4\n\n4\n\n\n", "\n\n1\n\n2\n\n3\n\n100\n3 9 27\n\n1\n\n7\n\n49\n\n49\n0 0 0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "交互题", "Special Judge", "O2优化", "陕西", "中国剩余定理 CRT", "省赛/邀请赛"], "title": "[SNCPC2024] 猜质数 I", "background": "", "description": "**这是一道交互题。**\n\nMCPlayer542 手上有一个神秘的**奇质数** $p$，但他并不想让你知道这个数是多少。\n\n他打算用一个函数 $f(x)$ 来加密他的数，其值为 $x$ 在十进制下的各位数字之和，例如 $f(5)=5$，$f(542)=5+4+2=11$，$f(1024)=1+0+2+4=7$。\n\n**然而考虑到你太聪明，他想了想，决定把加密函数改成：**\n$$g(x)=f(f(f(f(f(f(f(f(f(f(x))))))))))$$\n**即连续应用 $10$ 次 $f(x)$，并把手上的 $p$ 换成了 $q=p^k$。** \n\n现在他准备给你 $n$ 个整数 $g(q^{a_1}),\\ g(q^{a_2}),\\ \\ldots,\\ g(q^{a_n})$，并希望你能告诉他\n$$q^{a_1}\\bmod (m\\cdot a_1),\\ q^{a_2}\\bmod (m\\cdot a_2),\\ \\ldots,\\ q^{a_n}\\bmod (m\\cdot a_n)$$\n分别是多少。**他觉得你肯定猜不到，所以决定让你自己选择 $m$ 和 $a_1,\\ a_2,\\ \\ldots,\\ a_n$**。你能完成这个任务吗？\n\n**注意：$m$ 的范围有特殊限制。**\n", "inputFormat": "输入包含多组测试数据。数据的第一行包含一个整数 $t$ ($1\\le t\\le 500$)，表示数据组数。每组数据的交互流程在下文中描述。\n\n在每组数据中，输入的第一行包含两个整数 $n$ 和 $k$ ($1\\le n\\le 50, \\ 1\\le k\\le 10^9$)，用单个空格分隔，含义见题目描述。\n\n接下来每次交互，输出一行一个整数 $a_i$ ($1\\le a_i\\le 10^{18},a_i$ **互不相同**)，表示要询问的 $q$ 的幂次。\n\n给出一个询问后，你应该读入一个整数，即 $g(q^{a_i})$。\n\n你需要在进行完 $n$ 轮交互之后输出一行一个整数 $m$ ($m\\ge 35,1\\le m\\cdot a_i\\le 10^{18}$)，再输出一行 $n$ 个数，即 $q^{a_1}\\bmod (m\\cdot a_1), \\ q^{a_2}\\bmod (m\\cdot a_2), \\ \\ldots, \\ q^{a_n}\\bmod (m\\cdot a_n)$，用单个空格分隔，表示答案。\n\n**你必须进行恰好 $n$ 轮交互，随后输出答案并结束程序，否则你可能得到无法预测的结果。**\n\n注意在你的程序每轮输出结束时（即，每一次交互输出 $a_i$ 时和最后输出 $m$ 与答案时）需要输出回车并刷新输出缓冲区，否则你将会得到 $\\text{Idleness Limit Exceeded}$。\n\n- C 的 $\\text{fflush(stdout)}$；\n- C++ 的 $\\text{cout.flush()}$；\n- Java 的 $\\text{System.out.flush()}$；\n- Python 的 $\\text{stdout.flush()}$；\n\n来刷新输出缓冲区。\n\n**保证在每组数据中的奇质数** $p$ ($2<p\\le 10^{18}$) **都是在交互前确定的，即不会随着你的输入而变化。**\n\n如果你最后输出的答案正确，你会得到 $\\text{Accepted}$；\n\n如果你输出的 $m$ 或 $a_i$ 不符合题目范围要求，或最后输出的答案不正确，你会得到 $\\text{Wrong Answer}$。\n\n此外，其他的评测结果仍会在评测过程中根据通常情况返回。", "outputFormat": "", "hint": "\n\n在第一组数据中，MCPlayer542 手上的奇质数 $p=3$，因此有 $q=p^k=3$。\n\n我们选择数组 $a=\\{1,\\ 2,\\ 3\\}$，依次得到 $g(3^1)=3, \\ g(3^2)=9, \\ g(3^3)=9$。\n\n随后我们猜到 $p=3$，选择 $m=100$，因此输出 $3^1\\bmod (100\\times 1)=3, \\ 3^2\\bmod (100\\times 2)=9, \\ 3^3\\bmod (100\\times 3)=27$。\n\n在第二组数据中，MCPlayer542 手上的奇质数 $p=7$，因此有 $q=p^k=49$。\n\n我们选择数组 $a=\\{1,\\ 7,\\ 49\\}$，依次得到 $g(49^1)=4,\\ g(49^7)=4,\\ g(49^{49})=4$。\n\n随后我们**敏锐地发现** $p=7$，选择 $m=49$，因此输出 $49^1\\bmod (49\\times 1)=0, \\ 49^7\\bmod (49\\times 7)=0, \\ 49^{49}\\bmod (49\\times 49)=0$。\n\n注：第二组数据中的“**敏锐地发现**”仅作为交互流程的示意，并不保证上述交互可以确定 $p=7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 猜质数 I", "background": "", "description": "**这是一道交互题。**\n\nMCPlayer542 手上有一个神秘的**奇质数** $p$，但他并不想让你知道这个数是多少。\n\n他打算用一个函数 $f(x)$ 来加密他的数，其值为 $x$ 在十进制下的各位数字之和，例如 $f(5)=5$，$f(542)=5+4+2=11$，$f(1024)=1+0+2+4=7$。\n\n**然而考虑到你太聪明，他想了想，决定把加密函数改成：**\n$$g(x)=f(f(f(f(f(f(f(f(f(f(x))))))))))$$\n**即连续应用 $10$ 次 $f(x)$，并把手上的 $p$ 换成了 $q=p^k$。** \n\n现在他准备给你 $n$ 个整数 $g(q^{a_1}),\\ g(q^{a_2}),\\ \\ldots,\\ g(q^{a_n})$，并希望你能告诉他\n$$q^{a_1}\\bmod (m\\cdot a_1),\\ q^{a_2}\\bmod (m\\cdot a_2),\\ \\ldots,\\ q^{a_n}\\bmod (m\\cdot a_n)$$\n分别是多少。**他觉得你肯定猜不到，所以决定让你自己选择 $m$ 和 $a_1,\\ a_2,\\ \\ldots,\\ a_n$**。你能完成这个任务吗？\n\n**注意：$m$ 的范围有特殊限制。**\n", "inputFormat": "输入包含多组测试数据。数据的第一行包含一个整数 $t$ ($1\\le t\\le 500$)，表示数据组数。每组数据的交互流程在下文中描述。\n\n在每组数据中，输入的第一行包含两个整数 $n$ 和 $k$ ($1\\le n\\le 50, \\ 1\\le k\\le 10^9$)，用单个空格分隔，含义见题目描述。\n\n接下来每次交互，输出一行一个整数 $a_i$ ($1\\le a_i\\le 10^{18},a_i$ **互不相同**)，表示要询问的 $q$ 的幂次。\n\n给出一个询问后，你应该读入一个整数，即 $g(q^{a_i})$。\n\n你需要在进行完 $n$ 轮交互之后输出一行一个整数 $m$ ($m\\ge 35,1\\le m\\cdot a_i\\le 10^{18}$)，再输出一行 $n$ 个数，即 $q^{a_1}\\bmod (m\\cdot a_1), \\ q^{a_2}\\bmod (m\\cdot a_2), \\ \\ldots, \\ q^{a_n}\\bmod (m\\cdot a_n)$，用单个空格分隔，表示答案。\n\n**你必须进行恰好 $n$ 轮交互，随后输出答案并结束程序，否则你可能得到无法预测的结果。**\n\n注意在你的程序每轮输出结束时（即，每一次交互输出 $a_i$ 时和最后输出 $m$ 与答案时）需要输出回车并刷新输出缓冲区，否则你将会得到 $\\text{Idleness Limit Exceeded}$。\n\n- C 的 $\\text{fflush(stdout)}$；\n- C++ 的 $\\text{cout.flush()}$；\n- Java 的 $\\text{System.out.flush()}$；\n- Python 的 $\\text{stdout.flush()}$；\n\n来刷新输出缓冲区。\n\n**保证在每组数据中的奇质数** $p$ ($2<p\\le 10^{18}$) **都是在交互前确定的，即不会随着你的输入而变化。**\n\n如果你最后输出的答案正确，你会得到 $\\text{Accepted}$；\n\n如果你输出的 $m$ 或 $a_i$ 不符合题目范围要求，或最后输出的答案不正确，你会得到 $\\text{Wrong Answer}$。\n\n此外，其他的评测结果仍会在评测过程中根据通常情况返回。", "outputFormat": "", "hint": "\n\n在第一组数据中，MCPlayer542 手上的奇质数 $p=3$，因此有 $q=p^k=3$。\n\n我们选择数组 $a=\\{1,\\ 2,\\ 3\\}$，依次得到 $g(3^1)=3, \\ g(3^2)=9, \\ g(3^3)=9$。\n\n随后我们猜到 $p=3$，选择 $m=100$，因此输出 $3^1\\bmod (100\\times 1)=3, \\ 3^2\\bmod (100\\times 2)=9, \\ 3^3\\bmod (100\\times 3)=27$。\n\n在第二组数据中，MCPlayer542 手上的奇质数 $p=7$，因此有 $q=p^k=49$。\n\n我们选择数组 $a=\\{1,\\ 7,\\ 49\\}$，依次得到 $g(49^1)=4,\\ g(49^7)=4,\\ g(49^{49})=4$。\n\n随后我们**敏锐地发现** $p=7$，选择 $m=49$，因此输出 $49^1\\bmod (49\\times 1)=0, \\ 49^7\\bmod (49\\times 7)=0, \\ 49^{49}\\bmod (49\\times 49)=0$。\n\n注：第二组数据中的“**敏锐地发现**”仅作为交互流程的示意，并不保证上述交互可以确定 $p=7$。", "locale": "zh-CN"}}}
{"pid": "P10700", "type": "P", "difficulty": 6, "samples": [["10 7\n10 9 2 1 5 3 10 10 1 8\n14 4\n17 5\n13 10\n16 1\n12 4\n16 6\n16 3\n", "55 6\n60 6\n-68 10\n-58 6\n41 6\n20 6\n79 6\n"], ["6 8\n3 7 7 10 8 9\n21 1\n20 4\n21 3\n21 5\n21 1\n21 2\n21 2\n21 5\n", "170 3\n-100 4\n70 3\n-27 6\n170 3\n140 3\n140 3\n-27 6\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "陕西", "省赛/邀请赛"], "title": "[SNCPC2024] 猜质数 II", "background": "", "description": "为了悄悄准备一个神秘的质数，MCPlayer542 伤透了脑筋。\n\n随后他发明了一种~~聪明~~愚蠢的办法，并起名为“质数分”。\n\n他准备了 $n$ 个不同的数 $a_1,\\ a_2,\\ \\ldots,\\ a_n$ 作为测试点，并定义“质数分” $score(x,l,r)$ 如下：\n\n$$score(x,l,r)=\\sum_{i=l}^r{f(x,a_i)}$$\n其中\n$$f(x,y)=\\left\\{\\begin{array}{rcl}u-y, & x=1 \\\\ u, & 1<x\\le y,\\ \\gcd(x,y)=1 \\\\ -x\\cdot y, & x\\neq 1,\\ \\gcd(x,y)=x \\\\ 0, & \\text{otherwise} \\end{array}\\right.$$\n\n可见质数的“质数分”通常会比较高~~但还是没什么卵用~~。\n\n于是 MCPlayer542 急了，现在他只想暴力乱测，并得到一个得分和 $\\sum_{i=1}^{10^6}{score(i,l,r)}$。他打算测试 $q$ 次，每次测试给定 $u$ 和 $l$，其中 $u$ 为函数 $f(x,y)$ 的参数。\n\n对于每次询问，他想知道所能得到的最大得分和以及能得到这个最大得分和的最小 $r$ 是多少。", "inputFormat": "输入数据的第一行包含两个整数 $n,\\ q$ ($1\\le n,\\ q\\le 5\\times 10^5$)，用单个空格分隔。\n\n第二行包含 $n$ 个整数 $a_1,\\ a_2,\\ \\ldots,\\ a_n$ ($1\\le a_i\\le 10^6$)，用单个空格分隔，表示测试点的数据。\n\n接下来 $q$ 行，每行两个整数 $u_i,\\ l_i$ ($1\\le u_i \\le 1.8\\times 10^7,\\ 1\\le l_i\\le n$)，用单个空格分隔，表示一次询问。", "outputFormat": "对每个询问输出一行两个数，即对应询问的最大得分和以及能获得该得分的最小 $r_i$ ($l_i\\le r_i\\le n$)，用单个空格分隔。", "hint": "\n\n在样例 1 的第一个询问中，$u_1=14,\\ l_1=4$。若我们选择 $r_1=6$，则最后的得分和为 $\\sum_{i=1}^{10^6}{score(i,4,6)}$。其中：\n- $score(1,4,6)=13+9+11=33$；\n- $score(2,4,6)=0+14+14=28$；\n- $score(3,4,6)=0+14-9=5$；\n- $score(4,4,6)=0+14+0=14$；\n- $score(5,4,6)=0-25+0=-25$；\n- $i$ 取其他值时均有 $score(i,4,6)=0+0+0=0$。\n\n故 $r_1=6$ 时得分和为 $33+28+5+14-25=55$。\n\n可以证明在 $r_1$ 取其他值时无法得到更大的得分和，故答案为 $55$，且能达成的最小 $r_1$ 为 $6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 猜质数 II", "background": "", "description": "为了悄悄准备一个神秘的质数，MCPlayer542 伤透了脑筋。\n\n随后他发明了一种~~聪明~~愚蠢的办法，并起名为“质数分”。\n\n他准备了 $n$ 个不同的数 $a_1,\\ a_2,\\ \\ldots,\\ a_n$ 作为测试点，并定义“质数分” $score(x,l,r)$ 如下：\n\n$$score(x,l,r)=\\sum_{i=l}^r{f(x,a_i)}$$\n其中\n$$f(x,y)=\\left\\{\\begin{array}{rcl}u-y, & x=1 \\\\ u, & 1<x\\le y,\\ \\gcd(x,y)=1 \\\\ -x\\cdot y, & x\\neq 1,\\ \\gcd(x,y)=x \\\\ 0, & \\text{otherwise} \\end{array}\\right.$$\n\n可见质数的“质数分”通常会比较高~~但还是没什么卵用~~。\n\n于是 MCPlayer542 急了，现在他只想暴力乱测，并得到一个得分和 $\\sum_{i=1}^{10^6}{score(i,l,r)}$。他打算测试 $q$ 次，每次测试给定 $u$ 和 $l$，其中 $u$ 为函数 $f(x,y)$ 的参数。\n\n对于每次询问，他想知道所能得到的最大得分和以及能得到这个最大得分和的最小 $r$ 是多少。", "inputFormat": "输入数据的第一行包含两个整数 $n,\\ q$ ($1\\le n,\\ q\\le 5\\times 10^5$)，用单个空格分隔。\n\n第二行包含 $n$ 个整数 $a_1,\\ a_2,\\ \\ldots,\\ a_n$ ($1\\le a_i\\le 10^6$)，用单个空格分隔，表示测试点的数据。\n\n接下来 $q$ 行，每行两个整数 $u_i,\\ l_i$ ($1\\le u_i \\le 1.8\\times 10^7,\\ 1\\le l_i\\le n$)，用单个空格分隔，表示一次询问。", "outputFormat": "对每个询问输出一行两个数，即对应询问的最大得分和以及能获得该得分的最小 $r_i$ ($l_i\\le r_i\\le n$)，用单个空格分隔。", "hint": "\n\n在样例 1 的第一个询问中，$u_1=14,\\ l_1=4$。若我们选择 $r_1=6$，则最后的得分和为 $\\sum_{i=1}^{10^6}{score(i,4,6)}$。其中：\n- $score(1,4,6)=13+9+11=33$；\n- $score(2,4,6)=0+14+14=28$；\n- $score(3,4,6)=0+14-9=5$；\n- $score(4,4,6)=0+14+0=14$；\n- $score(5,4,6)=0-25+0=-25$；\n- $i$ 取其他值时均有 $score(i,4,6)=0+0+0=0$。\n\n故 $r_1=6$ 时得分和为 $33+28+5+14-25=55$。\n\n可以证明在 $r_1$ 取其他值时无法得到更大的得分和，故答案为 $55$，且能达成的最小 $r_1$ 为 $6$。", "locale": "zh-CN"}}}
{"pid": "P10701", "type": "P", "difficulty": 5, "samples": [["2 3 2\n1 1 6\n2 2 7\n3 1 8\n", "6\n"], ["114514 6 1919810\n1 1 1\n1 1 9\n1 4 1\n1 5 9\n1 1 8\n1 4 10\n", "0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "陕西", "省赛/邀请赛"], "title": "[SNCPC2024] 致命公司", "background": "", "description": "Shirost 最近沉迷于一款名为《致命公司》的游戏。\n\n在游戏中，玩家将作为“公司”的合同工，从废弃的工业星球收集废料。在探索的过程中，Shirost 将遇到一个名为弹簧头的怪物，弹簧头会在无人注视它时快速移动，但在被注视时则会保持不动。一旦接近，弹簧头就会立刻杀死 Shirost。\n\n现在 Shirost 站在 $n$ 个无限长的通道的交汇点，他知道有 $m$ 个弹簧头，分别会在 $t_i$ 时刻出现在 $x_i$ 号通道距离他 $y_i$ 米远处。\n\n对于每个时刻 $j$，以下三个事件将会依次发生：\n\n1. 在该时刻开始时，满足 $t_i = j$ 的弹簧头会出现在  $x_i$ 号通道距离 Shirost $y_i$ 米远处。\n\n2. Shirost 选择凝视任意一个通道。\n\n3. 该通道内的所有弹簧头无法移动，而其他通道中**已经出现**的弹簧头会向他移动 $k$ 米，如果某个弹簧头到达他所在位置，则他将在时刻 $j$ 死亡。\n\nShirost 想知道他最晚可以活到哪个时刻。换句话说，如果 Shirost 最晚在时刻 $j$ 死亡，那么你需要输出 $j-1$。如果他不会死亡，则输出 $-1$。", "inputFormat": "输入第一行为三个整数 $n,m,k$ ($1 \\leq n \\leq 5 \\times 10^5, 1 \\leq m \\leq 5 \\times 10^5, 1 \\leq k \\leq 10^{18}$)，由空格隔开，为无限长通道的个数，弹簧头的个数，弹簧头每时刻移动的距离。\n\n接下来 $m$ 行，每行三个整数 $t_i,x_i,y_i$ ($1 \\leq t_i \\leq 10^{18}, 1 \\leq x_i \\leq n, 1 \\leq y_i \\leq 10^{18}$)，由空格隔开，描述弹簧头出现的时刻，出现的通道编号，距离 Shirost 有多远。\n", "outputFormat": "输出仅一行一个整数，表示 Shirost 最晚可以活到哪个时刻。如果他不会死亡，则输出 $-1$。", "hint": "\n\nShirost 可以按如下所述行动：\n| 时刻 | 凝视的通道 | 弹簧头 $1$ 距离 | 弹簧头 $2$ 距离 |  弹簧头 $3$ 距离 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| 1 | 1 | 6 |  |  |\n| 2 | 1 | 6 | 5 |  |\n| 3 | 2 | 4 | 5 | 6 |\n| 4 | 1 | 4 | 3 | 6 |\n| 5 | 2 | 2 | 3 | 4 |\n| 6 | 1 | 2 | 1 | 4 |\n\n在第 $7$ 时刻，无论看哪个通道，Shirost 都会在该时刻内被弹簧头杀死。所以答案是 $6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 致命公司", "background": "", "description": "Shirost 最近沉迷于一款名为《致命公司》的游戏。\n\n在游戏中，玩家将作为“公司”的合同工，从废弃的工业星球收集废料。在探索的过程中，Shirost 将遇到一个名为弹簧头的怪物，弹簧头会在无人注视它时快速移动，但在被注视时则会保持不动。一旦接近，弹簧头就会立刻杀死 Shirost。\n\n现在 Shirost 站在 $n$ 个无限长的通道的交汇点，他知道有 $m$ 个弹簧头，分别会在 $t_i$ 时刻出现在 $x_i$ 号通道距离他 $y_i$ 米远处。\n\n对于每个时刻 $j$，以下三个事件将会依次发生：\n\n1. 在该时刻开始时，满足 $t_i = j$ 的弹簧头会出现在  $x_i$ 号通道距离 Shirost $y_i$ 米远处。\n\n2. Shirost 选择凝视任意一个通道。\n\n3. 该通道内的所有弹簧头无法移动，而其他通道中**已经出现**的弹簧头会向他移动 $k$ 米，如果某个弹簧头到达他所在位置，则他将在时刻 $j$ 死亡。\n\nShirost 想知道他最晚可以活到哪个时刻。换句话说，如果 Shirost 最晚在时刻 $j$ 死亡，那么你需要输出 $j-1$。如果他不会死亡，则输出 $-1$。", "inputFormat": "输入第一行为三个整数 $n,m,k$ ($1 \\leq n \\leq 5 \\times 10^5, 1 \\leq m \\leq 5 \\times 10^5, 1 \\leq k \\leq 10^{18}$)，由空格隔开，为无限长通道的个数，弹簧头的个数，弹簧头每时刻移动的距离。\n\n接下来 $m$ 行，每行三个整数 $t_i,x_i,y_i$ ($1 \\leq t_i \\leq 10^{18}, 1 \\leq x_i \\leq n, 1 \\leq y_i \\leq 10^{18}$)，由空格隔开，描述弹簧头出现的时刻，出现的通道编号，距离 Shirost 有多远。\n", "outputFormat": "输出仅一行一个整数，表示 Shirost 最晚可以活到哪个时刻。如果他不会死亡，则输出 $-1$。", "hint": "\n\nShirost 可以按如下所述行动：\n| 时刻 | 凝视的通道 | 弹簧头 $1$ 距离 | 弹簧头 $2$ 距离 |  弹簧头 $3$ 距离 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| 1 | 1 | 6 |  |  |\n| 2 | 1 | 6 | 5 |  |\n| 3 | 2 | 4 | 5 | 6 |\n| 4 | 1 | 4 | 3 | 6 |\n| 5 | 2 | 2 | 3 | 4 |\n| 6 | 1 | 2 | 1 | 4 |\n\n在第 $7$ 时刻，无论看哪个通道，Shirost 都会在该时刻内被弹簧头杀死。所以答案是 $6$。", "locale": "zh-CN"}}}
{"pid": "P10702", "type": "P", "difficulty": 3, "samples": [["3\n9\n5\n10\n", "2\n2\n3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "数论", "O2优化", "陕西", "进制", "省赛/邀请赛"], "title": "[SNCPC2024] 下棋", "background": "", "description": "LNC 喜欢所有 $k$ 进制下所有数位的乘积为自身因子的数。他称之为 LNC 数。例如：\n\n当 $k = 10$ 时，$y = (36)_{10}$ 是 LNC 数，因为 $(3 \\times 6) \\mid 36$。\n\n当 $k = 4$ 时，$y = (12)_4$ 是 LNC 数，因为转换成十进制后 $(12)_4 = (6)_{10}$，而 $(1 \\times 2) \\mid 6$。\n\n当 $k = 2$ 时，$y = (1101)_2$ 不是 LNC 数，因为转换成十进制后 $(1101)_2 = (13)_{10}$，而 $0$ 不是 $13$ 的因子。\n\nLNC 在和 LJJ 玩一个游戏，LJJ 给出 $x$ 枚棋子，然后 LNC 选定一个整数 $k$ ($k \\geq 2$)。随后他们交替取走若干枚棋子，要求取走的棋子数量是 $k$ 进制意义下的 LNC 数。LNC 先手，先取完的获胜。两个人都绝顶聪明，故都会选择最优的策略。\n\nLJJ 觉得这个游戏很不公平，他们一共玩了 $T$ 局游戏，对于每局游戏他给出的 $x$，他希望知道最小的 $k$ 使得 LNC 先手必胜。", "inputFormat": "输入第一行一个正整数 $T$ ($1 \\le T \\le 1 \\times 10^2$)，表示数据组数。\n\n接下来 $T$ 行每行一个正整数 $x$ ($3 \\le x \\le 10^{18}$)，表示 LJJ 给出的数 $x$。", "outputFormat": "输出 $T$ 行每行一个正整数 $k$，表示每个询问的最小的 $k$，使 LNC 先手必胜。", "hint": "\n\n当 $x=5$ 的时候，LNC 可以选择 $k=2$。$x=(5)_{10}=(101)_2$。\n\nLNC 先手拿掉 $(11)_2$，此时 $x=(10)_2$，LJJ 只能拿走 $(1)_2$，LNC 拿走最后的 $(1)_2$ 获胜。\n\n又因为 $k=2$ 已经不能再小了，所以最终答案为 $k=2$。 ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 下棋", "background": "", "description": "LNC 喜欢所有 $k$ 进制下所有数位的乘积为自身因子的数。他称之为 LNC 数。例如：\n\n当 $k = 10$ 时，$y = (36)_{10}$ 是 LNC 数，因为 $(3 \\times 6) \\mid 36$。\n\n当 $k = 4$ 时，$y = (12)_4$ 是 LNC 数，因为转换成十进制后 $(12)_4 = (6)_{10}$，而 $(1 \\times 2) \\mid 6$。\n\n当 $k = 2$ 时，$y = (1101)_2$ 不是 LNC 数，因为转换成十进制后 $(1101)_2 = (13)_{10}$，而 $0$ 不是 $13$ 的因子。\n\nLNC 在和 LJJ 玩一个游戏，LJJ 给出 $x$ 枚棋子，然后 LNC 选定一个整数 $k$ ($k \\geq 2$)。随后他们交替取走若干枚棋子，要求取走的棋子数量是 $k$ 进制意义下的 LNC 数。LNC 先手，先取完的获胜。两个人都绝顶聪明，故都会选择最优的策略。\n\nLJJ 觉得这个游戏很不公平，他们一共玩了 $T$ 局游戏，对于每局游戏他给出的 $x$，他希望知道最小的 $k$ 使得 LNC 先手必胜。", "inputFormat": "输入第一行一个正整数 $T$ ($1 \\le T \\le 1 \\times 10^2$)，表示数据组数。\n\n接下来 $T$ 行每行一个正整数 $x$ ($3 \\le x \\le 10^{18}$)，表示 LJJ 给出的数 $x$。", "outputFormat": "输出 $T$ 行每行一个正整数 $k$，表示每个询问的最小的 $k$，使 LNC 先手必胜。", "hint": "\n\n当 $x=5$ 的时候，LNC 可以选择 $k=2$。$x=(5)_{10}=(101)_2$。\n\nLNC 先手拿掉 $(11)_2$，此时 $x=(10)_2$，LJJ 只能拿走 $(1)_2$，LNC 拿走最后的 $(1)_2$ 获胜。\n\n又因为 $k=2$ 已经不能再小了，所以最终答案为 $k=2$。 ", "locale": "zh-CN"}}}
{"pid": "P10703", "type": "P", "difficulty": 2, "samples": [["5\n1 1\n2 1\n3 2\n5 5\n5 5\n", "7.5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2024", "Special Judge", "O2优化", "陕西", "省赛/邀请赛"], "title": "[SNCPC2024] 窗花", "background": "", "description": "有一扇 $100 \\text{cm} \\times 100 \\text{cm}$ 的窗户和 $n$ 个对角线长为 $2 \\text{cm}$ 的正方形窗花。建立坐标系，以窗户左下角的坐标为原点 $(0,0)$，右上角坐标为 $(100,100)$，第 $i$ 个窗花中心被贴在非边缘的整坐标点 $(x_i,y_i)$ ($1 \\leq x_i,y_i \\leq 99$) 上，窗花的对角线与坐标轴平行。\n\n问窗户有多大的面积被至少一片窗花覆盖。", "inputFormat": "第一行一个整数 $n$ ($1 \\leq n \\leq 10000$)。\n\n\n接下来 $n$ 行，每行两个整数 $x_i,y_i$ ($1 \\leq x_i,y_i \\leq 99$)，含义如上所述。", "outputFormat": "输出仅一行一个实数，为被至少一片窗花覆盖的面积。\n\n你的答案被认为正确当且仅当其相对误差或绝对误差不超过 $10^{−4}$。形式化地说，假设你的答案是 $a$，标准答案是 $b$。你的答案被认为正确当且仅当 $\\frac{|a−b|}{\\max (1,|b|)} \\leq 10^{−4}$。\n", "hint": "\n\n对于第一个样例的解释如图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wzkohjei.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 窗花", "background": "", "description": "有一扇 $100 \\text{cm} \\times 100 \\text{cm}$ 的窗户和 $n$ 个对角线长为 $2 \\text{cm}$ 的正方形窗花。建立坐标系，以窗户左下角的坐标为原点 $(0,0)$，右上角坐标为 $(100,100)$，第 $i$ 个窗花中心被贴在非边缘的整坐标点 $(x_i,y_i)$ ($1 \\leq x_i,y_i \\leq 99$) 上，窗花的对角线与坐标轴平行。\n\n问窗户有多大的面积被至少一片窗花覆盖。", "inputFormat": "第一行一个整数 $n$ ($1 \\leq n \\leq 10000$)。\n\n\n接下来 $n$ 行，每行两个整数 $x_i,y_i$ ($1 \\leq x_i,y_i \\leq 99$)，含义如上所述。", "outputFormat": "输出仅一行一个实数，为被至少一片窗花覆盖的面积。\n\n你的答案被认为正确当且仅当其相对误差或绝对误差不超过 $10^{−4}$。形式化地说，假设你的答案是 $a$，标准答案是 $b$。你的答案被认为正确当且仅当 $\\frac{|a−b|}{\\max (1,|b|)} \\leq 10^{−4}$。\n", "hint": "\n\n对于第一个样例的解释如图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wzkohjei.png)", "locale": "zh-CN"}}}
{"pid": "P10704", "type": "P", "difficulty": 5, "samples": [["5 30\n2 2 8 4 2 ", "88"], ["10 5035239199\n4853 53137 86933 4465 13588 11899 49877 16317 43326 52183 ", "2715"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "整除分块"], "title": "救赎（Redemption）", "background": ">$$主啊，$$\n>\n>$$这个人也是我们要拯救的吗\\dots$$\n>\n>$$愿我的弹雨能熄灭你们的痛苦\\dots$$\n>\n>$$如果您见到一位散发着不祥气息的天使，$$\n>\n>$$请替我转告她：$$\n>\n>$$我从来没有忘记过她\\dots$$", "description": "给出 $n,m$ 和 $n$ 个整数 $a_i$（$1\\le i\\le n$）。\n\n求：\n\n$$ \\sum\\limits_{i=1}^{n} \\sum\\limits_{j=1}^{n}\\left \\lfloor \\frac{m}{a_ia_j}  \\right \\rfloor$$\n\n输出答案对 $998244353$ 取模的结果。", "inputFormat": "第一行两个整数表示 $n,m$。\n\n第二行 $n$ 个整数表示 $a_1,a_2\\dots a_n$。", "outputFormat": "一行一个整数表示答案对 $998244353$ 取模后的结果。", "hint": "#### 【样例解释】\n\n样例一中的贡献如下：\n\n$(a_1,a_1):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor =7$。\n\n$(a_1,a_2),(a_2,a_1):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor \\times 2=14$。\n\n$(a_1,a_3),(a_3,a_1):\\left \\lfloor \\frac{30}{2\\times 8} \\right \\rfloor \\times 2=2$。\n\n$(a_1,a_4),(a_4,a_1):\\left \\lfloor \\frac{30}{2\\times 4} \\right \\rfloor \\times 2=6$。\n\n$(a_1,a_5),(a_5,a_1):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor \\times 2=14$。\n\n$(a_2,a_2):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor =7$。\n\n$(a_2,a_3),(a_3,a_2):\\left \\lfloor \\frac{30}{2\\times 8} \\right \\rfloor \\times 2=2$。\n\n$(a_2,a_4),(a_4,a_2):\\left \\lfloor \\frac{30}{2\\times 4} \\right \\rfloor \\times 2=6$。\n\n$(a_2,a_5),(a_5,a_2):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor \\times 2=14$。\n\n$(a_3,a_5),(a_5,a_3):\\left \\lfloor \\frac{30}{2\\times 8} \\right \\rfloor \\times 2=2$。\n\n$(a_4,a_4):\\left \\lfloor \\frac{30}{4\\times 4} \\right \\rfloor=1$。\n\n$(a_4,a_5),(a_5,a_4):\\left \\lfloor \\frac{30}{2\\times 4} \\right \\rfloor \\times 2=6$。\n\n$(a_5,a_5):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor=7$。\n\n$7+14+2+6+14+7+2+6+14+2+1+6+7=88$。\n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | $m$ | $a_i$ | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | $\\le 10^2$ | $\\le 10^{6}$ | $\\le 10^5$ | $10$ | $-$ |\n| $1$ | $\\le 10^4$ | $\\le 10^{10}$ | $\\le 10^9$ | $10$ | $-$ |\n| $2$ | $\\le 10^6$ | $\\le 10^{10}$ | $\\le 10^4$ | $10$ | $-$ |\n| $3$ | $\\le 10^6$ | $\\le 10^8$ | $\\le 10^9$ | $20$ | $-$ |\n| $4$ | $\\le 10^6$ | $\\le 10^{10}$ | $\\le 10^9$ | $20$ | $A$ |\n| $5$ | $\\le 10^6$ | $\\le 10^{10}$ | $\\le 10^9$ | $30$ | $-$ |\n\n特殊性质 $A$：$\\sum\\limits_{i=1}^{n}a_i\\le10^7$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le10^6$，$1\\le a_i\\le 10^9$，$\\sum\\limits_{i=1}^{n}a_i\\le10^9$，$1\\le m \\le10^{10}$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "救赎（Redemption）", "background": ">$$主啊，$$\n>\n>$$这个人也是我们要拯救的吗\\dots$$\n>\n>$$愿我的弹雨能熄灭你们的痛苦\\dots$$\n>\n>$$如果您见到一位散发着不祥气息的天使，$$\n>\n>$$请替我转告她：$$\n>\n>$$我从来没有忘记过她\\dots$$", "description": "给出 $n,m$ 和 $n$ 个整数 $a_i$（$1\\le i\\le n$）。\n\n求：\n\n$$ \\sum\\limits_{i=1}^{n} \\sum\\limits_{j=1}^{n}\\left \\lfloor \\frac{m}{a_ia_j}  \\right \\rfloor$$\n\n输出答案对 $998244353$ 取模的结果。", "inputFormat": "第一行两个整数表示 $n,m$。\n\n第二行 $n$ 个整数表示 $a_1,a_2\\dots a_n$。", "outputFormat": "一行一个整数表示答案对 $998244353$ 取模后的结果。", "hint": "#### 【样例解释】\n\n样例一中的贡献如下：\n\n$(a_1,a_1):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor =7$。\n\n$(a_1,a_2),(a_2,a_1):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor \\times 2=14$。\n\n$(a_1,a_3),(a_3,a_1):\\left \\lfloor \\frac{30}{2\\times 8} \\right \\rfloor \\times 2=2$。\n\n$(a_1,a_4),(a_4,a_1):\\left \\lfloor \\frac{30}{2\\times 4} \\right \\rfloor \\times 2=6$。\n\n$(a_1,a_5),(a_5,a_1):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor \\times 2=14$。\n\n$(a_2,a_2):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor =7$。\n\n$(a_2,a_3),(a_3,a_2):\\left \\lfloor \\frac{30}{2\\times 8} \\right \\rfloor \\times 2=2$。\n\n$(a_2,a_4),(a_4,a_2):\\left \\lfloor \\frac{30}{2\\times 4} \\right \\rfloor \\times 2=6$。\n\n$(a_2,a_5),(a_5,a_2):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor \\times 2=14$。\n\n$(a_3,a_5),(a_5,a_3):\\left \\lfloor \\frac{30}{2\\times 8} \\right \\rfloor \\times 2=2$。\n\n$(a_4,a_4):\\left \\lfloor \\frac{30}{4\\times 4} \\right \\rfloor=1$。\n\n$(a_4,a_5),(a_5,a_4):\\left \\lfloor \\frac{30}{2\\times 4} \\right \\rfloor \\times 2=6$。\n\n$(a_5,a_5):\\left \\lfloor \\frac{30}{2\\times 2} \\right \\rfloor=7$。\n\n$7+14+2+6+14+7+2+6+14+2+1+6+7=88$。\n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | $m$ | $a_i$ | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | $\\le 10^2$ | $\\le 10^{6}$ | $\\le 10^5$ | $10$ | $-$ |\n| $1$ | $\\le 10^4$ | $\\le 10^{10}$ | $\\le 10^9$ | $10$ | $-$ |\n| $2$ | $\\le 10^6$ | $\\le 10^{10}$ | $\\le 10^4$ | $10$ | $-$ |\n| $3$ | $\\le 10^6$ | $\\le 10^8$ | $\\le 10^9$ | $20$ | $-$ |\n| $4$ | $\\le 10^6$ | $\\le 10^{10}$ | $\\le 10^9$ | $20$ | $A$ |\n| $5$ | $\\le 10^6$ | $\\le 10^{10}$ | $\\le 10^9$ | $30$ | $-$ |\n\n特殊性质 $A$：$\\sum\\limits_{i=1}^{n}a_i\\le10^7$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le10^6$，$1\\le a_i\\le 10^9$，$\\sum\\limits_{i=1}^{n}a_i\\le10^9$，$1\\le m \\le10^{10}$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN"}}}
{"pid": "P10705", "type": "P", "difficulty": 5, "samples": [["6\n9 1 2 4 7 10 \n8 10 5 1 1 7 ", "3\n9"], ["10\n6 13 27 31 34 59 64 66 71 95 \n4 4 10 22 26 28 46 55 62 68 ", "5\n91"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": [], "title": "孤独（Solitude）", "background": ">$$行走的岁月静好，$$\n> \n>$$苍青的天空古老。$$\n>\n>$$轻轻唱起，$$\n>\n>$$那只风鸟。$$\n>\n>$$你却不见了。$$\n", "description": "给出 $n$ 和 $n$ 个整数 $a_i$（$1\\le i\\le n$），$n$ 个整数 $b_i$（$1\\le i\\le n$）。\n\n现在对于一个长为 $n$ 的序列 $S$ 有以下规定：\n\n- $S_i=a_i$ 或 $b_i$。\n\n- 对于所有的 $S_i$（$1\\le i\\le n$），若 $S_i>S_{i-1}$ 且 $S_i>S_{i+1}$ 那么称 $S_i$ 为**峰**，特别地 $S_0=S_{n+1}=0$。\n\n**现求：最大峰数以及取到最大峰数时的最大极差。**\n\n**极差：一个序列中最大值和最小值的差。**\n\n**updated：$S_0$ 和 $S_{n+1}$ 不参与极差运算。**", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数，表示 $a_1,a_2\\dots a_n$。\n\n第三行 $n$ 个整数，表示 $b_1,b_2\\dots b_n$。", "outputFormat": "输出共两行。\n\n第一行一个整数表示**最大峰数**。\n\n第二行一个整数表示**取到最大峰数时的最大极差**。", "hint": "#### 【样例解释】\n\n样例一中 $S$ 序列的一种合法方案为 $9,1,2,4,1,10$。\n\n其中 $S_1,S_4,S_6$ 为**峰**，最大值为 $10-1=9$。 \n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $\\le 20$ | $-$ | $10$ |\n| $1$ | $\\le 2000$ | $-$ | $10$ |\n| $2$ | $\\le 10^5$ | $A$ | $10$ |\n| $3$ | $\\le 10^5$ | $B$ | $10$ |\n| $4$ | $\\le 10^5$ | $C$ | $10$ |\n| $5$ | $\\le 5\\times10^5$ | $-$ | $50$ |\n\n特殊性质 $A$：$\\forall 1< i\\le n$，$\\text{max}(a_{i-1},b_{i-1})\\le \\text{min}(a_i,b_i)$。\n\n特殊性质 $B$：$\\forall 1< i\\le n$，$\\text{min}(a_i,b_i)\\le\\text{max}(a_{i-1},b_{i-1})\\le\\text{max}(a_i,b_i)$。\n\n特殊性质 $C$：$\\forall 1\\le i\\le n$，$a_i=k$，$k$ 是一个正整数。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times10^5$，$1\\le a_i,b_i\\le 10^9$，保证 $a_i\\ne b_i$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "孤独（Solitude）", "background": ">$$行走的岁月静好，$$\n> \n>$$苍青的天空古老。$$\n>\n>$$轻轻唱起，$$\n>\n>$$那只风鸟。$$\n>\n>$$你却不见了。$$\n", "description": "给出 $n$ 和 $n$ 个整数 $a_i$（$1\\le i\\le n$），$n$ 个整数 $b_i$（$1\\le i\\le n$）。\n\n现在对于一个长为 $n$ 的序列 $S$ 有以下规定：\n\n- $S_i=a_i$ 或 $b_i$。\n\n- 对于所有的 $S_i$（$1\\le i\\le n$），若 $S_i>S_{i-1}$ 且 $S_i>S_{i+1}$ 那么称 $S_i$ 为**峰**，特别地 $S_0=S_{n+1}=0$。\n\n**现求：最大峰数以及取到最大峰数时的最大极差。**\n\n**极差：一个序列中最大值和最小值的差。**\n\n**updated：$S_0$ 和 $S_{n+1}$ 不参与极差运算。**", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数，表示 $a_1,a_2\\dots a_n$。\n\n第三行 $n$ 个整数，表示 $b_1,b_2\\dots b_n$。", "outputFormat": "输出共两行。\n\n第一行一个整数表示**最大峰数**。\n\n第二行一个整数表示**取到最大峰数时的最大极差**。", "hint": "#### 【样例解释】\n\n样例一中 $S$ 序列的一种合法方案为 $9,1,2,4,1,10$。\n\n其中 $S_1,S_4,S_6$ 为**峰**，最大值为 $10-1=9$。 \n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $\\le 20$ | $-$ | $10$ |\n| $1$ | $\\le 2000$ | $-$ | $10$ |\n| $2$ | $\\le 10^5$ | $A$ | $10$ |\n| $3$ | $\\le 10^5$ | $B$ | $10$ |\n| $4$ | $\\le 10^5$ | $C$ | $10$ |\n| $5$ | $\\le 5\\times10^5$ | $-$ | $50$ |\n\n特殊性质 $A$：$\\forall 1< i\\le n$，$\\text{max}(a_{i-1},b_{i-1})\\le \\text{min}(a_i,b_i)$。\n\n特殊性质 $B$：$\\forall 1< i\\le n$，$\\text{min}(a_i,b_i)\\le\\text{max}(a_{i-1},b_{i-1})\\le\\text{max}(a_i,b_i)$。\n\n特殊性质 $C$：$\\forall 1\\le i\\le n$，$a_i=k$，$k$ 是一个正整数。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times10^5$，$1\\le a_i,b_i\\le 10^9$，保证 $a_i\\ne b_i$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN"}}}
{"pid": "P10706", "type": "P", "difficulty": 6, "samples": [["8\n3 7 2 2 2 3 72 24 \n1 2\n1 3\n1 4\n4 5\n2 6\n5 7\n4 8\n", "785\n0\n0\n1972\n144\n0\n0\n0"], ["15\n73 83 31 9514 1189 43 79 2 2 1798 5063 2 5 2573 53 \n1 2\n2 3\n1 4\n4 5\n1 6\n3 7\n5 8\n5 9\n6 10\n7 11\n10 12\n9 13\n7 14\n13 15\n", "23952214\n633788\n79763\n38056\n4\n0\n13027099\n0\n0\n3596\n0\n0\n0\n0\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": [], "title": "悲哀（Sorrow）", "background": ">$$你是天使，$$\n>\n>$$于光与圣歌中降临。$$\n>\n>$$我是恶魔，$$\n>\n>$$从血与污泥中爬出。$$\n>\n>$$我想拥抱你，$$\n>\n>$$但是害怕血，$$\n>\n>$$染红你洁白的羽翼。$$", "description": "给出一棵有 $n$ 个节点且以 $1$ 为根节点的树，每个节点有两个权值 $a_i,b_i$（$1\\le i\\le n$）。$a_i$ 已经给出，$b_i$ 初始为 $0$。\n\n现在对于每一对节点 $(u,v)$（$1\\le u<v\\le n$），设 $x=\\operatorname{LCA}(u,v)$，如果 $\\gcd(a_u,a_v)>1$ 那么 $b_x\\gets b_x+a_u\\times a_v$，否则不做任何操作。\n\n对于每个 $1\\le i\\le n$ 求出 $b_i\\bmod998244353$。", "inputFormat": "第一行一个整数 $n$，表示有 $n$ 个节点。\n\n第二行 $n$ 个正整数，表示 $a_1,a_2\\dots a_n$。\n\n接下来 $n-1$ 行，每行两个正整数 $u,v$，表示节点 $u$ 和节点 $v$ 之间有一条边。", "outputFormat": "输出共 $n$ 行，每行一个整数。\n\n第 $i$ 行表示 $b_i$ 对 $998244353$ 取模后的结果。", "hint": "#### 【样例解释】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bti6350r.png)\n\n建出的树如图。\n\n有以下贡献：\n\n- 对 $1$ 号节点：\n\n$(3,4)$ 贡献 $4$。\n\n$(3,5)$ 贡献 $4$。\n\n$(3,7)$ 贡献 $144$。\n\n$(3,8)$ 贡献 $48$。\n\n$(1,6)$ 贡献 $9$。\n\n$(1,7)$ 贡献 $216$。\n\n$(1,8)$ 贡献 $72$。\n\n$(6,7)$ 贡献 $216$。\n\n$(6,8)$ 贡献 $72$。\n\n总共 $785$。\n\n- 对 $4$ 号节点：\n\n$(4,5)$ 贡献 $4$。\n\n$(4,7)$ 贡献 $144$。\n\n$(4,8)$ 贡献 $48$。\n\n$(5,8)$ 贡献 $48$。\n\n$(7,8)$ 贡献 $1728$。\n\n总共 $1972$。\n\n- 对 $5$ 号节点：\n\n$(5,7)$ 贡献 $144$。\n\n总共 $144$。\n\n其他节点显然都为 $0$。\n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | $a_i$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | $100$ | $\\le 1000$ | $-$ | $5$ |\n| $1$ | $2000$ | $\\le 10^5$ | $-$ | $10$ |\n| $2$ | $10^5$ | $\\le 5 \\times 10^5$ | $A$ | $25$ |\n| $3$ | $2 \\times  10^5$ | $\\le 5 \\times 10^5$ | $B$ | $30$ |\n| $4$ | $2 \\times  10^5$ | $\\le 5 \\times 10^5$ | $-$ | $30$ |\n\n特殊性质 $A$：保证所有的 $a_i$ 随机生成。\n\n特殊性质 $B$：保证树的形态是一棵完全二叉树。\n\n对于 $100\\%$ 的数据，$1\\le n\\le2\\times10^5$，$1\\le a_i\\le5\\times10^5$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "悲哀（Sorrow）", "background": ">$$你是天使，$$\n>\n>$$于光与圣歌中降临。$$\n>\n>$$我是恶魔，$$\n>\n>$$从血与污泥中爬出。$$\n>\n>$$我想拥抱你，$$\n>\n>$$但是害怕血，$$\n>\n>$$染红你洁白的羽翼。$$", "description": "给出一棵有 $n$ 个节点且以 $1$ 为根节点的树，每个节点有两个权值 $a_i,b_i$（$1\\le i\\le n$）。$a_i$ 已经给出，$b_i$ 初始为 $0$。\n\n现在对于每一对节点 $(u,v)$（$1\\le u<v\\le n$），设 $x=\\operatorname{LCA}(u,v)$，如果 $\\gcd(a_u,a_v)>1$ 那么 $b_x\\gets b_x+a_u\\times a_v$，否则不做任何操作。\n\n对于每个 $1\\le i\\le n$ 求出 $b_i\\bmod998244353$。", "inputFormat": "第一行一个整数 $n$，表示有 $n$ 个节点。\n\n第二行 $n$ 个正整数，表示 $a_1,a_2\\dots a_n$。\n\n接下来 $n-1$ 行，每行两个正整数 $u,v$，表示节点 $u$ 和节点 $v$ 之间有一条边。", "outputFormat": "输出共 $n$ 行，每行一个整数。\n\n第 $i$ 行表示 $b_i$ 对 $998244353$ 取模后的结果。", "hint": "#### 【样例解释】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bti6350r.png)\n\n建出的树如图。\n\n有以下贡献：\n\n- 对 $1$ 号节点：\n\n$(3,4)$ 贡献 $4$。\n\n$(3,5)$ 贡献 $4$。\n\n$(3,7)$ 贡献 $144$。\n\n$(3,8)$ 贡献 $48$。\n\n$(1,6)$ 贡献 $9$。\n\n$(1,7)$ 贡献 $216$。\n\n$(1,8)$ 贡献 $72$。\n\n$(6,7)$ 贡献 $216$。\n\n$(6,8)$ 贡献 $72$。\n\n总共 $785$。\n\n- 对 $4$ 号节点：\n\n$(4,5)$ 贡献 $4$。\n\n$(4,7)$ 贡献 $144$。\n\n$(4,8)$ 贡献 $48$。\n\n$(5,8)$ 贡献 $48$。\n\n$(7,8)$ 贡献 $1728$。\n\n总共 $1972$。\n\n- 对 $5$ 号节点：\n\n$(5,7)$ 贡献 $144$。\n\n总共 $144$。\n\n其他节点显然都为 $0$。\n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | $a_i$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | $100$ | $\\le 1000$ | $-$ | $5$ |\n| $1$ | $2000$ | $\\le 10^5$ | $-$ | $10$ |\n| $2$ | $10^5$ | $\\le 5 \\times 10^5$ | $A$ | $25$ |\n| $3$ | $2 \\times  10^5$ | $\\le 5 \\times 10^5$ | $B$ | $30$ |\n| $4$ | $2 \\times  10^5$ | $\\le 5 \\times 10^5$ | $-$ | $30$ |\n\n特殊性质 $A$：保证所有的 $a_i$ 随机生成。\n\n特殊性质 $B$：保证树的形态是一棵完全二叉树。\n\n对于 $100\\%$ 的数据，$1\\le n\\le2\\times10^5$，$1\\le a_i\\le5\\times10^5$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN"}}}
{"pid": "P10707", "type": "P", "difficulty": 6, "samples": [["3 5", "13"], ["12 7", "48643"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": [], "title": "永恒（Eternity）", "background": ">$$行走人间的，$$\n>\n>$$不一定是天使。$$\n>\n>$$带来灾厄的，$$\n>\n>$$不一定是恶魔。$$\n>\n>$$恶魔的眼泪被天使珍藏 ， $$\n>\n>$$天使的纯净由恶魔守护。$$\n>\n>$$或许，$$\n>\n>$$这是最好的结局。$$", "description": "一些前置定义：\n\n- 可重集中的元素必须是非负整数。\n\n- 可重集的大小为可重集中元素的个数。\n\n- 对于一个大小为 $x$ 的可重集，设其中的元素为 $a_1,a_2\\dots a_x$，那么这个可重集的**权值**就为 $a_1\\oplus a_2\\oplus \\dots \\oplus a_x$，即可重集中所有元素的**异或和**。\n\n现在给出 $n,m$。\n\n问有多少不同的大小为 $n$ 的可重集 $S$ 满足：\n\n$$\\max\\limits_{T \\subseteq  S,T\\ne \\emptyset}{Q_T}=m$$\n\n其中 $Q_T$ 为可重集 $T$ 的**权值**。\n\n**注意：根据可重集的性质，数字相同但数字顺序不同的可重集算同一种可重集，即 $\\left \\{ 1,2,3 \\right \\} $ 与 $\\left \\{ 3,2,1 \\right \\} $ 算同一种可重集。**\n\n求出不同可重集的个数 $\\bmod\\ 998244353$ 的结果。\n\n可以证明这样的可重集个数是有限的。", "inputFormat": "第一行两个整数，分别表示 $n$ 和 $m$。", "outputFormat": "一行一个整数，表示答案对 $998244353$ 取模后的结果。", "hint": "#### 【样例解释】\n\n样例一中 $13$ 种方案分别为：\n\n$$(0,0,5)$$，$$(0,1,4)$$，$$(0,1,5)$$，$$(0,4,5)$$，$$(0,5,5)$$，$$(1,1,4)$$，$$(1,1,5)$$，$$(1,4,4)$$，$$(1,4,5)$$，$$(1,5,5)$$，$$(4,4,5)$$，$$(4,5,5)$$，$$(5,5,5)$$。\n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | $m$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: | :-----: |\n| $0$ | $\\le 10$ | $\\le 10$ | $-$ | $10$ |\n| $1$ | $\\le 10^5$ | $<2^{60}$ | $A$ | $20$ |\n| $2$ | $\\le 2000$ | $\\le 2000$ | $-$ | $10$ |\n| $3$ | $\\le 10^5$ | $<2^{60}$ | $-$ | $60$ | \n\n特殊性质 $A$： $\\operatorname{popcount}(m)\\le 5\\ $，$\\operatorname{popcount}(m)$ 表示 $m$ 的二进制表示中 $1$ 的个数。\n\n对于 $100\\%$ 的数据保证 $1\\le n\\le 10^5$，$0\\le m<2^{60}$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "永恒（Eternity）", "background": ">$$行走人间的，$$\n>\n>$$不一定是天使。$$\n>\n>$$带来灾厄的，$$\n>\n>$$不一定是恶魔。$$\n>\n>$$恶魔的眼泪被天使珍藏 ， $$\n>\n>$$天使的纯净由恶魔守护。$$\n>\n>$$或许，$$\n>\n>$$这是最好的结局。$$", "description": "一些前置定义：\n\n- 可重集中的元素必须是非负整数。\n\n- 可重集的大小为可重集中元素的个数。\n\n- 对于一个大小为 $x$ 的可重集，设其中的元素为 $a_1,a_2\\dots a_x$，那么这个可重集的**权值**就为 $a_1\\oplus a_2\\oplus \\dots \\oplus a_x$，即可重集中所有元素的**异或和**。\n\n现在给出 $n,m$。\n\n问有多少不同的大小为 $n$ 的可重集 $S$ 满足：\n\n$$\\max\\limits_{T \\subseteq  S,T\\ne \\emptyset}{Q_T}=m$$\n\n其中 $Q_T$ 为可重集 $T$ 的**权值**。\n\n**注意：根据可重集的性质，数字相同但数字顺序不同的可重集算同一种可重集，即 $\\left \\{ 1,2,3 \\right \\} $ 与 $\\left \\{ 3,2,1 \\right \\} $ 算同一种可重集。**\n\n求出不同可重集的个数 $\\bmod\\ 998244353$ 的结果。\n\n可以证明这样的可重集个数是有限的。", "inputFormat": "第一行两个整数，分别表示 $n$ 和 $m$。", "outputFormat": "一行一个整数，表示答案对 $998244353$ 取模后的结果。", "hint": "#### 【样例解释】\n\n样例一中 $13$ 种方案分别为：\n\n$$(0,0,5)$$，$$(0,1,4)$$，$$(0,1,5)$$，$$(0,4,5)$$，$$(0,5,5)$$，$$(1,1,4)$$，$$(1,1,5)$$，$$(1,4,4)$$，$$(1,4,5)$$，$$(1,5,5)$$，$$(4,4,5)$$，$$(4,5,5)$$，$$(5,5,5)$$。\n\n#### 【数据范围】\n\n| subtask 编号 | $n$ | $m$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: | :-----: |\n| $0$ | $\\le 10$ | $\\le 10$ | $-$ | $10$ |\n| $1$ | $\\le 10^5$ | $<2^{60}$ | $A$ | $20$ |\n| $2$ | $\\le 2000$ | $\\le 2000$ | $-$ | $10$ |\n| $3$ | $\\le 10^5$ | $<2^{60}$ | $-$ | $60$ | \n\n特殊性质 $A$： $\\operatorname{popcount}(m)\\le 5\\ $，$\\operatorname{popcount}(m)$ 表示 $m$ 的二进制表示中 $1$ 的个数。\n\n对于 $100\\%$ 的数据保证 $1\\le n\\le 10^5$，$0\\le m<2^{60}$。\n\n**特别提醒：本题使用 subtask 捆绑测试，只有通过一个子任务的全部测试点才能获得此子任务的分数。**", "locale": "zh-CN"}}}
{"pid": "P10708", "type": "P", "difficulty": 1, "samples": [["3 4 9\n2 3 2\n", "25"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["模拟", "2024", "枚举", "NOISG（新加坡）"], "title": "[NOISG 2024 Prelim] Tourist", "background": "翻译自 [NOI SG 2024 Prelim A.Tourist](https://github.com/noisg/noi-2024-prelim)。", "description": "你是一名游客，你想要在 $n$ 天内游览一座城市。\n\n你已经为自己安排好了行程。第 $i$ 天你需要乘坐 $a_i$ 次火车。\n\n你了解到有以下两种火车票：\n\n- 单程票：花费 $x$ 元购买一张单程票，可以乘坐 $1$ 次火车。\n\n- 单日票：花费 $y$ 元购买一张单日票，可以在一天中不限次数地乘坐任意次火车。\n\n请你求出购买火车票需要的最小花费。", "inputFormat": "第一行，三个整数 $n,x,y$；\n\n第二行 $n$ 个整数，第 $i$ 个整数表示 $a_i$。", "outputFormat": "一行一个整数表示最小花费。", "hint": "### 【样例 #1 解释】\n\n你的行程有 $3$ 天，一张单程票 $4$ 元，一张单日票 $9$ 元。\n\n在第一天，购买 $2$ 张单程票，花费 $8$ 元。\n\n在第二天，购买 $1$ 张单日票，花费 $9$ 元。\n\n在第三天，购买 $2$ 张单程票，花费 $8$ 元。\n\n最小花费为 $8+9+8=25$ 元。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$100$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n,x \\le 1000,1 \\le y \\le 10^6,1 \\le a_i \\le 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2024 Prelim] Tourist", "background": "翻译自 [NOI SG 2024 Prelim A.Tourist](https://github.com/noisg/noi-2024-prelim)。", "description": "你是一名游客，你想要在 $n$ 天内游览一座城市。\n\n你已经为自己安排好了行程。第 $i$ 天你需要乘坐 $a_i$ 次火车。\n\n你了解到有以下两种火车票：\n\n- 单程票：花费 $x$ 元购买一张单程票，可以乘坐 $1$ 次火车。\n\n- 单日票：花费 $y$ 元购买一张单日票，可以在一天中不限次数地乘坐任意次火车。\n\n请你求出购买火车票需要的最小花费。", "inputFormat": "第一行，三个整数 $n,x,y$；\n\n第二行 $n$ 个整数，第 $i$ 个整数表示 $a_i$。", "outputFormat": "一行一个整数表示最小花费。", "hint": "### 【样例 #1 解释】\n\n你的行程有 $3$ 天，一张单程票 $4$ 元，一张单日票 $9$ 元。\n\n在第一天，购买 $2$ 张单程票，花费 $8$ 元。\n\n在第二天，购买 $1$ 张单日票，花费 $9$ 元。\n\n在第三天，购买 $2$ 张单程票，花费 $8$ 元。\n\n最小花费为 $8+9+8=25$ 元。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$100$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n,x \\le 1000,1 \\le y \\le 10^6,1 \\le a_i \\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P10709", "type": "P", "difficulty": 2, "samples": [["5\n3 2 -1 4 5", "12"], ["1\n10", "10"], ["6\n1 -3 2 10 -4 9", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "贪心", "2024", "排序", "NOISG（新加坡）"], "title": "[NOISG 2024 Prelim] Party", "background": "翻译自 [NOI SG 2024 Prelim B.Party](https://github.com/noisg/noi-2024-prelim)。", "description": "James 有 $n$ 个朋友，他想选择其中的 $0$ 个或者更多朋友来参加他的聚会。第 $i$ 个朋友如果参加了他的聚会，会产生 $a_i$ 点快乐值。注意：有些朋友并不想参加聚会，所以他们的 $a_i$ 会是负的。\n\n然而，他家只有一排 $n$ 个座位，而且因为社交距离，两个人不能坐在相邻的座位上。现在 James 想知道，如果他按照最优方案邀请朋友，这些朋友的快乐值的和最大为多少。", "inputFormat": "第一行，一个整数 $n$。\n\n第二行 $n$ 个整数，表示 $a$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 【样例 #1 解释】\n\nJames 可以邀请第 $1,4,5$ 位朋友。\n\n\n### 【样例 #2 解释】\n\nJames 可以邀请唯一一位朋友。\n\n\n### 【样例 #3 解释】\n\nJames 可以邀请第 $3,4,6$ 位朋友。\n\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$49$|$n\\le 3$|\n|$2$|$38$|$n\\le 1000$|\n|$3$|$13$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times 10^5,-10^9 \\le a_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2024 Prelim] Party", "background": "翻译自 [NOI SG 2024 Prelim B.Party](https://github.com/noisg/noi-2024-prelim)。", "description": "James 有 $n$ 个朋友，他想选择其中的 $0$ 个或者更多朋友来参加他的聚会。第 $i$ 个朋友如果参加了他的聚会，会产生 $a_i$ 点快乐值。注意：有些朋友并不想参加聚会，所以他们的 $a_i$ 会是负的。\n\n然而，他家只有一排 $n$ 个座位，而且因为社交距离，两个人不能坐在相邻的座位上。现在 James 想知道，如果他按照最优方案邀请朋友，这些朋友的快乐值的和最大为多少。", "inputFormat": "第一行，一个整数 $n$。\n\n第二行 $n$ 个整数，表示 $a$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 【样例 #1 解释】\n\nJames 可以邀请第 $1,4,5$ 位朋友。\n\n\n### 【样例 #2 解释】\n\nJames 可以邀请唯一一位朋友。\n\n\n### 【样例 #3 解释】\n\nJames 可以邀请第 $3,4,6$ 位朋友。\n\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$49$|$n\\le 3$|\n|$2$|$38$|$n\\le 1000$|\n|$3$|$13$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times 10^5,-10^9 \\le a_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10710", "type": "P", "difficulty": 3, "samples": [["2 3\n2 1 8\n5 4 7\n", "1"], ["3 3\n3 1 4\n2 7 18\n9 8 10", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "双指针 two-pointer", "NOISG（新加坡）"], "title": "[NOISG 2024 Prelim] School Photo", "background": "翻译自 [NOI SG 2024 Prelim C.School Photo](https://github.com/noisg/noi-2024-prelim)。", "description": "Zane 是 NOI 学校的校长。NOI 学校有 $n$ 个班，每个班有 $s$ 名同学。第 $i$ 个班中的第 $j$ 名同学的身高是 $a_{i,j}$。\n\n现在 Zane 想从每个班上选出一名同学拍照，使得这 $n$ 名同学中最高的同学和最低的同学的身高差最小。\n\n请你输出这个最小值。", "inputFormat": "第一行，两个整数 $n,s$；\n\n接下来 $n$ 行，每行 $s$ 个整数，表示 $a$。", "outputFormat": "一行一个整数表示答案。", "hint": "### 【样例 #2 解释】\n\n选择 $a_{1,3},a_{2,2},a_{3,2}$，答案为 $8-4=4$。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$11$|$n=2$|\n|$2$|$22$|$n,s\\le100$|\n|$3$|$9$|$n,s\\le250$|\n|$4$|$33$|$n,s\\le500$|\n|$5$|$25$|无|\n\n对于 $100\\%$ 的数据，$1\\le n,s \\le 1000,1\\le a_{i,j} \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2024 Prelim] School Photo", "background": "翻译自 [NOI SG 2024 Prelim C.School Photo](https://github.com/noisg/noi-2024-prelim)。", "description": "Zane 是 NOI 学校的校长。NOI 学校有 $n$ 个班，每个班有 $s$ 名同学。第 $i$ 个班中的第 $j$ 名同学的身高是 $a_{i,j}$。\n\n现在 Zane 想从每个班上选出一名同学拍照，使得这 $n$ 名同学中最高的同学和最低的同学的身高差最小。\n\n请你输出这个最小值。", "inputFormat": "第一行，两个整数 $n,s$；\n\n接下来 $n$ 行，每行 $s$ 个整数，表示 $a$。", "outputFormat": "一行一个整数表示答案。", "hint": "### 【样例 #2 解释】\n\n选择 $a_{1,3},a_{2,2},a_{3,2}$，答案为 $8-4=4$。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$11$|$n=2$|\n|$2$|$22$|$n,s\\le100$|\n|$3$|$9$|$n,s\\le250$|\n|$4$|$33$|$n,s\\le500$|\n|$5$|$25$|无|\n\n对于 $100\\%$ 的数据，$1\\le n,s \\le 1000,1\\le a_{i,j} \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10711", "type": "P", "difficulty": 5, "samples": [["7\n1 2 0\n1 6 0\n1 6 1\n3 5\n2 2\n1 3 0\n3 123456789012", "2\n1 2\n3 3\n2\n3 3\n4 3"], ["5\n1 1 0\n1 1 0\n1 1 0\n3 2\n1 1 0", "2\n1 1\n2 1\n"], ["4\n1 19 1\n3 10\n3 10\n3 10\n", "1\n1 10\n1\n1 9\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["线段树", "2024", "NOISG（新加坡）"], "title": "[NOISG 2024 Prelim] Amusement Park", "background": "翻译自 [NOI SG 2024 Prelim D.Amusement Park](https://github.com/noisg/noi-2024-prelim)。", "description": "有一家游乐园，在大门处有一项观光车服务。很显然，一辆观光车只能承载有限的人数，那么如果一个团队来到大门时，发现观光车不够坐时，他们需要决定是否愿意分开。有些团队愿意，有些不愿意。\n\n为了解决这个复杂的问题，公园的管理者蜗牛 Stuart 想请你帮忙写一个程序，支持以下三种操作：\n\n- `join`：一个新的团队进入了队列。我们用两个整数 $s,w$ 描述此次操作：$s$ 表示该团队的总人数；如果 $w=1$，那么这个团队愿意在乘坐观光车时分开；如果 $w=0$，表示他们不愿意分开。假设这次操作是所有操作中第 $i$ 次 `join` 操作，则该团队的编号为 $i$。\n\n- `leave`：给定 $i$，编号为 $i$ 的团队从队伍中离开。\n\n- `board`：给定 $b$，表示新开来一辆能坐 $b$ 人的观光车。从队头开始，如果到一个团队时，观光车可以承载所有人，那么所有人上车；否则如果该团队愿意分开，那么部分人上车；否则该团队留在原位置，在下一个团队重复该过程，直到观光车坐满，或没有人愿意上车。", "inputFormat": "第一行，一个整数 $q$；\n\n接下来 $q$ 行，每行一次操作，分为以下三种：\n\n- `1 s w`：描述一次 `join` 操作；\n\n- `2 i`：描述一次 `leave` 操作；\n\n- `3 b`：描述一次 `board` 操作。", "outputFormat": "对于 `join` 和 `leave` 操作，你不需要输出任何内容。\n\n对于每一次 `board` 操作，设有 $k$ 个团队有至少一个人上了观光车，你需要输出 $k+1$ 行：\n\n- 第一行一个整数 $k$。\n\n- 接下来 $k$ 行，每行两个整数，第一个表示团队编号，第二个表示该团队上观光车的人数。**注意：团队编号应从小到大输出。**（如果 $k=0$，忽略此部分。）", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$12$|$q\\le1000$|\n|$2$|$7$|$s=1,w=0$，没有 `leave` 操作|\n|$3$|$20$|$s\\le10,w=0$，没有 `leave` 操作|\n|$4$|$16$|$s\\le10$，没有 `leave` 操作|\n|$5$|$10$|$s\\le10$|\n|$6$|$35$|无特殊性质|\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le q \\le 200000$\n\n- 对于所有 `join` 操作，$1 \\le s \\le 200000,0 \\le w \\le 1$。\n\n- 对于所有 `leave` 操作，保证所有 $i$ 在操作时都在队列中。\n\n- 对于所有 `board` 操作，$1 \\le b \\le 10^{12}$。\n\n- 至少有一次 `board` 操作。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2024 Prelim] Amusement Park", "background": "翻译自 [NOI SG 2024 Prelim D.Amusement Park](https://github.com/noisg/noi-2024-prelim)。", "description": "有一家游乐园，在大门处有一项观光车服务。很显然，一辆观光车只能承载有限的人数，那么如果一个团队来到大门时，发现观光车不够坐时，他们需要决定是否愿意分开。有些团队愿意，有些不愿意。\n\n为了解决这个复杂的问题，公园的管理者蜗牛 Stuart 想请你帮忙写一个程序，支持以下三种操作：\n\n- `join`：一个新的团队进入了队列。我们用两个整数 $s,w$ 描述此次操作：$s$ 表示该团队的总人数；如果 $w=1$，那么这个团队愿意在乘坐观光车时分开；如果 $w=0$，表示他们不愿意分开。假设这次操作是所有操作中第 $i$ 次 `join` 操作，则该团队的编号为 $i$。\n\n- `leave`：给定 $i$，编号为 $i$ 的团队从队伍中离开。\n\n- `board`：给定 $b$，表示新开来一辆能坐 $b$ 人的观光车。从队头开始，如果到一个团队时，观光车可以承载所有人，那么所有人上车；否则如果该团队愿意分开，那么部分人上车；否则该团队留在原位置，在下一个团队重复该过程，直到观光车坐满，或没有人愿意上车。", "inputFormat": "第一行，一个整数 $q$；\n\n接下来 $q$ 行，每行一次操作，分为以下三种：\n\n- `1 s w`：描述一次 `join` 操作；\n\n- `2 i`：描述一次 `leave` 操作；\n\n- `3 b`：描述一次 `board` 操作。", "outputFormat": "对于 `join` 和 `leave` 操作，你不需要输出任何内容。\n\n对于每一次 `board` 操作，设有 $k$ 个团队有至少一个人上了观光车，你需要输出 $k+1$ 行：\n\n- 第一行一个整数 $k$。\n\n- 接下来 $k$ 行，每行两个整数，第一个表示团队编号，第二个表示该团队上观光车的人数。**注意：团队编号应从小到大输出。**（如果 $k=0$，忽略此部分。）", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$12$|$q\\le1000$|\n|$2$|$7$|$s=1,w=0$，没有 `leave` 操作|\n|$3$|$20$|$s\\le10,w=0$，没有 `leave` 操作|\n|$4$|$16$|$s\\le10$，没有 `leave` 操作|\n|$5$|$10$|$s\\le10$|\n|$6$|$35$|无特殊性质|\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le q \\le 200000$\n\n- 对于所有 `join` 操作，$1 \\le s \\le 200000,0 \\le w \\le 1$。\n\n- 对于所有 `leave` 操作，保证所有 $i$ 在操作时都在队列中。\n\n- 对于所有 `board` 操作，$1 \\le b \\le 10^{12}$。\n\n- 至少有一次 `board` 操作。", "locale": "zh-CN"}}}
{"pid": "P10712", "type": "P", "difficulty": 5, "samples": [["3 2\n12 14 4\n9 5 8\n", "7\n4 5 14 12 9 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "贪心", "2024", "Special Judge", "NOISG（新加坡）"], "title": "[NOISG 2024 Prelim] Explosives", "background": "翻译自 [NOI SG 2024 Prelim E.Explosives](https://github.com/noisg/noi-2024-prelim)。", "description": "你是一名运送炸弹的卡车司机。\n\n有 $n$ 座工厂（生产炸弹）和 $n$ 座矿井（需要炸弹）排列在一条直线上。第 $i$ 座工厂的坐标为 $a_i$，第 $j$ 座矿井的坐标为 $b_j$。并且，所有 $a_i$ 和 $b_j$ 都均不相等。\n\n你今天需要在每一座工厂各领取一个炸弹，并将每一个炸弹送到某一个矿井中。初始时，你的坐标为 $0$。为了完成此任务，你可以进行以下两种操作：\n\n- `pickup(x)`：从你当前的位置驾驶卡车到坐落在 $x$ 的工厂。执行这次操作需要同时满足以下两个条件：\n\n\t- 有一个 $i$，满足 $x=a_i$。\n    \n   - 你的卡车最多装了 $c-1$ 个炸弹。\n   \n- `offload(x)`：从你当前的位置驾驶卡车到坐落在 $x$ 的矿井。执行这次操作需要同时满足以下两个条件：\n\n\t- 有一个 $j$，满足 $x=b_j$。\n    \n   - 你的卡车最少装了 $1$ 个炸弹。\n   \n由于炸弹十分危险，所以在你的卡车上需要一名安全员。如果你从点 $x$ 到点 $y$，且车上装有炸弹，那么你需要付给安全员 $|x-y|$ 元。如果车上没有炸药，则你不需要支付任何费用。\n\n请求出在花费最小的情况下的操作序列。", "inputFormat": "第一行，两个整数 $n,c$；\n\n第二行，一行 $n$ 个整数，表示 $a$。\n\n第三行，一行 $n$ 个整数，表示 $b$。", "outputFormat": "第一行，一个整数表示最小花费。\n\n第二行，输出 $2n$ 个整数，表示你访问的工厂和矿井坐标，按照访问顺序输出。\n\n例如你执行了四次操作：`pickup(3)`，`offload(5)`，`pickup(6)`，`offload(2)`，则你应该输出 `3 5 6 2`。", "hint": "### 【样例 #1 解释】\n\n按照顺序访问工厂 $3$，矿井 $2$，工厂 $2$，工厂 $1$，矿井 $1$，矿井 $3$，即可得到最小值 $7$。\n\n以此样例为例，如果你只输出正确的最小代价 $7$，你将可以得到该测试点 $50\\%$ 的分数。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$16$|$c=1$|\n|$2$|$22$|$a_i\\le 5000,b_i>5000$|\n|$3$|$62$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n,c \\le 1000,1 \\le a_i,b_i \\le 10000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2024 Prelim] Explosives", "background": "翻译自 [NOI SG 2024 Prelim E.Explosives](https://github.com/noisg/noi-2024-prelim)。", "description": "你是一名运送炸弹的卡车司机。\n\n有 $n$ 座工厂（生产炸弹）和 $n$ 座矿井（需要炸弹）排列在一条直线上。第 $i$ 座工厂的坐标为 $a_i$，第 $j$ 座矿井的坐标为 $b_j$。并且，所有 $a_i$ 和 $b_j$ 都均不相等。\n\n你今天需要在每一座工厂各领取一个炸弹，并将每一个炸弹送到某一个矿井中。初始时，你的坐标为 $0$。为了完成此任务，你可以进行以下两种操作：\n\n- `pickup(x)`：从你当前的位置驾驶卡车到坐落在 $x$ 的工厂。执行这次操作需要同时满足以下两个条件：\n\n\t- 有一个 $i$，满足 $x=a_i$。\n    \n   - 你的卡车最多装了 $c-1$ 个炸弹。\n   \n- `offload(x)`：从你当前的位置驾驶卡车到坐落在 $x$ 的矿井。执行这次操作需要同时满足以下两个条件：\n\n\t- 有一个 $j$，满足 $x=b_j$。\n    \n   - 你的卡车最少装了 $1$ 个炸弹。\n   \n由于炸弹十分危险，所以在你的卡车上需要一名安全员。如果你从点 $x$ 到点 $y$，且车上装有炸弹，那么你需要付给安全员 $|x-y|$ 元。如果车上没有炸药，则你不需要支付任何费用。\n\n请求出在花费最小的情况下的操作序列。", "inputFormat": "第一行，两个整数 $n,c$；\n\n第二行，一行 $n$ 个整数，表示 $a$。\n\n第三行，一行 $n$ 个整数，表示 $b$。", "outputFormat": "第一行，一个整数表示最小花费。\n\n第二行，输出 $2n$ 个整数，表示你访问的工厂和矿井坐标，按照访问顺序输出。\n\n例如你执行了四次操作：`pickup(3)`，`offload(5)`，`pickup(6)`，`offload(2)`，则你应该输出 `3 5 6 2`。", "hint": "### 【样例 #1 解释】\n\n按照顺序访问工厂 $3$，矿井 $2$，工厂 $2$，工厂 $1$，矿井 $1$，矿井 $3$，即可得到最小值 $7$。\n\n以此样例为例，如果你只输出正确的最小代价 $7$，你将可以得到该测试点 $50\\%$ 的分数。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$16$|$c=1$|\n|$2$|$22$|$a_i\\le 5000,b_i>5000$|\n|$3$|$62$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n,c \\le 1000,1 \\le a_i,b_i \\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P10713", "type": "P", "difficulty": 2, "samples": [["3\n8 7\n999999 1000000\n3 3", "2\n2\n3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "分类讨论", "梦熊比赛"], "title": "【MX-X1-T1】「KDOI-05」简单的无限网格问题", "background": "原题链接：<https://oier.team/problems/X1A>。", "description": "小 X 正在参加 KDOI 机器人锦标赛。\n\n比赛场地是一个**无限大**的网格，小 X 的机器人初始时位于 $(1,1)$，他需要进行若干次操作，使得机器人移动到 $(n,m)$（$n,m\\ge 2$）。\n\n第 $i$ 次操作时，小 X 可以指定上、下、左、右中的一个方向和一个正整数 $x_i$，然后让机器人向该方向移动 $x_i$ 步。\n\n不幸的是，小 X 的机器人出现了一些 bug，因此，他的操作必须满足一些限制，否则机器人就会立即爆炸：\n\n+ 对于第 $i$ 次操作，若 $i$ 是奇数，则 $x_i$ 也是奇数；若 $i$ 是偶数，则 $x_i$ 也是偶数。\n\n请帮助小 X 计算出使他的机器人到达 $(n,m)$ 的最小操作次数。", "inputFormat": "**本题包含多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据，输入包含一行两个正整数 $n,m$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示答案。可以证明，小 X 的机器人一定能在有限步内到达 $(n,m)$。", "hint": "**【样例解释】**\n\n对于第一组数据，可以按如下方式移动：\n\n$$(1,1)\\to(8,1)\\to(8,7)$$\n\n总共需要 $2$ 次操作。可以证明没有比这更优的操作方案。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n,m\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1$ | $30$ | $10$ | 无 |\n| $2$ | $30$ | $10^9$ | $n,m$ 奇偶性相同 |\n| $3$ | $40$ | $10^9$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq T\\leq10^5$，$2\\leq n,m\\leq10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X1-T1】「KDOI-05」简单的无限网格问题", "background": "原题链接：<https://oier.team/problems/X1A>。", "description": "小 X 正在参加 KDOI 机器人锦标赛。\n\n比赛场地是一个**无限大**的网格，小 X 的机器人初始时位于 $(1,1)$，他需要进行若干次操作，使得机器人移动到 $(n,m)$（$n,m\\ge 2$）。\n\n第 $i$ 次操作时，小 X 可以指定上、下、左、右中的一个方向和一个正整数 $x_i$，然后让机器人向该方向移动 $x_i$ 步。\n\n不幸的是，小 X 的机器人出现了一些 bug，因此，他的操作必须满足一些限制，否则机器人就会立即爆炸：\n\n+ 对于第 $i$ 次操作，若 $i$ 是奇数，则 $x_i$ 也是奇数；若 $i$ 是偶数，则 $x_i$ 也是偶数。\n\n请帮助小 X 计算出使他的机器人到达 $(n,m)$ 的最小操作次数。", "inputFormat": "**本题包含多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据，输入包含一行两个正整数 $n,m$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示答案。可以证明，小 X 的机器人一定能在有限步内到达 $(n,m)$。", "hint": "**【样例解释】**\n\n对于第一组数据，可以按如下方式移动：\n\n$$(1,1)\\to(8,1)\\to(8,7)$$\n\n总共需要 $2$ 次操作。可以证明没有比这更优的操作方案。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n,m\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1$ | $30$ | $10$ | 无 |\n| $2$ | $30$ | $10^9$ | $n,m$ 奇偶性相同 |\n| $3$ | $40$ | $10^9$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq T\\leq10^5$，$2\\leq n,m\\leq10^9$。", "locale": "zh-CN"}}}
{"pid": "P10714", "type": "P", "difficulty": 3, "samples": [["3 3 4\n2 2\n1 1\n1 2\n1 3\n3 1\n", "11"], ["5 8 9\n2 7\n1 7\n2 2\n4 7\n4 5\n4 7\n2 8\n5 2\n1 7\n1 7", "153"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "O2优化", "分类讨论", "梦熊比赛"], "title": "【MX-X1-T2】「KDOI-05」简单的有限网格问题", "background": "原题链接：<https://oier.team/problems/X1B>。", "description": "小 S 在玩一款小游戏。游戏中会有一个 $n\\times m$ 的棋盘，其中 $k$ 个位置上有星星。初始有一个捕捉器，在 $(x,y)$ 位置。每次操作，你可以将捕捉器移动到同行或同列的某个位置，使得新位置与原位置不同且必须保证新位置 $(x',y')$ 满足 $1\\leq x'\\leq n$，$1\\leq y'\\leq m$。**捕捉器会捕捉 $(x,y)$ 到 $(x',y')$ 路径上所有的星星**。一个星星被捕捉后将会消失。\n\n游戏的目标是在恰好两步内获得尽可能多的星星，然而小 S 不会玩，于是每次就会随意挑选一个可以移动到的新位置进行移动。对于 $(n+m-2)^2$ 种小 S 的不同移动方案，求捕捉到的星星数量之和，答案对 $10^9+7$ 取模。", "inputFormat": "第一行三个正整数 $n,m,k$，表示棋盘大小与星星个数。\n\n第二行两个正整数 $x,y$，表示捕捉器初始位置。\n\n接下来 $k$ 行，每行两个正整数，表示每颗星星所在的位置 $(p,q)$。每个位置上可以有多颗星星。", "outputFormat": "一行，一个非负整数，表示对于 $(n+m-2)^2$ 种小 S 的不同移动方案，他能捕捉到的星星数量之和，对 $10^9+7$ 取模。", "hint": "**【样例解释 \\#1】**\n\n网格图中，一种合法的移动捕捉器的方案是：\n\n$$(2,2)\\to(1,2)\\to(1,3)$$\n\n在该方案中，可以捕捉到位置在 $(1,2)$ 和 $(1,3)$ 的各 $1$ 颗星星。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n\\leq$ | $m\\leq$ |\n|:--:|:--:|:--:|:--:|\n| $1$ | $5$ | $50$ | $50$ |\n| $2$ | $10$ | $1000$ | $1000$ |\n| $3$ | $20$ | $10^5$ | $10^5$ |\n| $4$ | $25$ | $10^5$ | $10^9$ |\n| $5$ | $25$ | $10^9$ | $10^9$ |\n| $6$ | $15$ | $10^{18}$ | $10^{18}$ |\n\n对于 $100\\%$ 的数据，$1\\leq k\\leq10^5$，$1\\leq n,m\\leq10^{18}$，$1\\leq x,p\\leq n$，$1\\leq y,q\\leq m$，$(x,y)\\neq(p,q)$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X1-T2】「KDOI-05」简单的有限网格问题", "background": "原题链接：<https://oier.team/problems/X1B>。", "description": "小 S 在玩一款小游戏。游戏中会有一个 $n\\times m$ 的棋盘，其中 $k$ 个位置上有星星。初始有一个捕捉器，在 $(x,y)$ 位置。每次操作，你可以将捕捉器移动到同行或同列的某个位置，使得新位置与原位置不同且必须保证新位置 $(x',y')$ 满足 $1\\leq x'\\leq n$，$1\\leq y'\\leq m$。**捕捉器会捕捉 $(x,y)$ 到 $(x',y')$ 路径上所有的星星**。一个星星被捕捉后将会消失。\n\n游戏的目标是在恰好两步内获得尽可能多的星星，然而小 S 不会玩，于是每次就会随意挑选一个可以移动到的新位置进行移动。对于 $(n+m-2)^2$ 种小 S 的不同移动方案，求捕捉到的星星数量之和，答案对 $10^9+7$ 取模。", "inputFormat": "第一行三个正整数 $n,m,k$，表示棋盘大小与星星个数。\n\n第二行两个正整数 $x,y$，表示捕捉器初始位置。\n\n接下来 $k$ 行，每行两个正整数，表示每颗星星所在的位置 $(p,q)$。每个位置上可以有多颗星星。", "outputFormat": "一行，一个非负整数，表示对于 $(n+m-2)^2$ 种小 S 的不同移动方案，他能捕捉到的星星数量之和，对 $10^9+7$ 取模。", "hint": "**【样例解释 \\#1】**\n\n网格图中，一种合法的移动捕捉器的方案是：\n\n$$(2,2)\\to(1,2)\\to(1,3)$$\n\n在该方案中，可以捕捉到位置在 $(1,2)$ 和 $(1,3)$ 的各 $1$ 颗星星。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n\\leq$ | $m\\leq$ |\n|:--:|:--:|:--:|:--:|\n| $1$ | $5$ | $50$ | $50$ |\n| $2$ | $10$ | $1000$ | $1000$ |\n| $3$ | $20$ | $10^5$ | $10^5$ |\n| $4$ | $25$ | $10^5$ | $10^9$ |\n| $5$ | $25$ | $10^9$ | $10^9$ |\n| $6$ | $15$ | $10^{18}$ | $10^{18}$ |\n\n对于 $100\\%$ 的数据，$1\\leq k\\leq10^5$，$1\\leq n,m\\leq10^{18}$，$1\\leq x,p\\leq n$，$1\\leq y,q\\leq m$，$(x,y)\\neq(p,q)$。", "locale": "zh-CN"}}}
