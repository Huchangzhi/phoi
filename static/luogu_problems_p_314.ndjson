{"pid": "P7357", "type": "P", "difficulty": 6, "samples": [["8 3\n4 2 3 4 2 1 4 3\n1 2\n1 3\n2 4\n2 5\n3 6\n6 7\n6 8\n2 4 8\n1 3 \n2 2 3", "3\n4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["树形数据结构", "二分", "O2优化", "可持久化线段树", "可持久化"], "title": "「PMOI-1」中位数", "background": null, "description": "给定一棵以 $1$ 为根的包含 $n$ 个节点的**有根树**。第 $i$ 个节点有点权 $a_i$。\n\n定义函数 $f(u,v)$ 表示从 $u$ 到 $v$ 经过的所有节点的点权的**可重集**的中位数。\n\n请注意，**本题中的中位数的定义与数学中的定义略有不同**：这里一个长度为 $t$ 的序列的中位数定义为这个序列第 $\\left\\lceil\\frac{t+1}2\\right\\rceil$ 小的数。\n\n定义函数 $\\text{cover}(x_1,y_1,x_2,y_2)$ 表示从 $x_1$ 到 $y_1$ 的路径是否完全覆盖了从 $x_2$ 到 $y_2$ 的路径。如果完全覆盖，则 $\\text{cover}(x_1,y_1,x_2,y_2)=1$，否则 $\\text{cover}(x_1,y_1,x_2,y_2)=0$。\n\n你需要依次处理 $q$ 次操作，按照以下格式给出：\n\n`1 u`：表示一次操作，需要你将点 $u$ 的点权对 $1$ **异或**；\n\n`2 u v`：表示一次询问，需要你求出 $\\max\\limits_{1\\le i\\le n,1\\le j\\le n}\\{\\text{cover}(i,j,u,v)f(i,j)\\}$。\n\n对于第二类操作，保证每次询问均满足 $u$ 不是 $v$ 的祖先且 $v$ 不是 $u$ 的祖先，且 $u \\neq v$。\n\n你需要对于每个第二类操作，输出对应的值。", "inputFormat": "第一行两个正数 $n$ 和 $q$，分别表示树的节点数与询问次数。\n\n第二行 $n$ 个整数，第 $i$ 个数表示第 $i$ 个节点的点权 $a_i$。\n\n下面 $n-1$ 行，每行两个整数 $x,y$，描述一条连接 $x$ 与 $y$ 的边。\n\n下面 $q$ 行，每行先输入一个整数 $opt$，表示本次是是操作还是询问。若 $opt=1$，则这是一次操作，且接下来会输入一个整数 $u$；若 $opt=2$，则这是一次询问，且接下来会输入两个整数 $u,v$。其具体意义见【题目描述】。", "outputFormat": "对于每次询问输出一行，即对应询问的答案。", "hint": "【样例解释】\n\n第一次是询问。显然，只有 $(i=4,j=8)$ 满足 $\\text{cover}(i,j,u,v)=1$。此时 $f(i,j)=3$。\n\n第二次是操作。将 $3$ 号节点的点权改为了 $2$。\n\n第三次是询问。当 $i=4,j=3$ 时，$\\text{cover}(i,j,u,v)=1$ 且 $f(i,j)=4$。不难发现，对于其他所有满足 $\\text{cover}(i,j,u,v)=1$ 的节点对 $(i,j)$，均没有 $f(i,j)>4$。\n\n【数据范围】\n- Subtask 1（8 pts）：$n,q\\le50$；\n- Subtask 2（12 pts）：$n,q\\le2\\times10^3$；\n- Subtask 3（16 pts）：$n,q\\le4\\times10^4$；\n- Subtask 4（10 pts）：保证树的形态随机生成；\n- Subtask 5（12 pts）：保证没有 $1$ 操作；\n- Subtask 6（12 pts）：保证每次询问的 $u,v$ 都是叶子节点；\n- Subtask 7（30 pts）：无特殊限制。\n\nSubtask 4 的随机方式为：随机生成一个的排列 $p$，对于 $i\\in[2,n]$，$p_i$ 向 $p_1,p_2,...,p_{i-1}$ 中等概率随机的一个点连边。\n\n对于 $100\\%$ 的数据满足，$1\\le n,q,a_i \\le 10^5$，保证每次询问均满足 $u$ 不是 $v$ 的祖先且 $v$ 不是 $u$ 的祖先，且 $u \\neq v$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PMOI-1」中位数", "background": null, "description": "给定一棵以 $1$ 为根的包含 $n$ 个节点的**有根树**。第 $i$ 个节点有点权 $a_i$。\n\n定义函数 $f(u,v)$ 表示从 $u$ 到 $v$ 经过的所有节点的点权的**可重集**的中位数。\n\n请注意，**本题中的中位数的定义与数学中的定义略有不同**：这里一个长度为 $t$ 的序列的中位数定义为这个序列第 $\\left\\lceil\\frac{t+1}2\\right\\rceil$ 小的数。\n\n定义函数 $\\text{cover}(x_1,y_1,x_2,y_2)$ 表示从 $x_1$ 到 $y_1$ 的路径是否完全覆盖了从 $x_2$ 到 $y_2$ 的路径。如果完全覆盖，则 $\\text{cover}(x_1,y_1,x_2,y_2)=1$，否则 $\\text{cover}(x_1,y_1,x_2,y_2)=0$。\n\n你需要依次处理 $q$ 次操作，按照以下格式给出：\n\n`1 u`：表示一次操作，需要你将点 $u$ 的点权对 $1$ **异或**；\n\n`2 u v`：表示一次询问，需要你求出 $\\max\\limits_{1\\le i\\le n,1\\le j\\le n}\\{\\text{cover}(i,j,u,v)f(i,j)\\}$。\n\n对于第二类操作，保证每次询问均满足 $u$ 不是 $v$ 的祖先且 $v$ 不是 $u$ 的祖先，且 $u \\neq v$。\n\n你需要对于每个第二类操作，输出对应的值。", "inputFormat": "第一行两个正数 $n$ 和 $q$，分别表示树的节点数与询问次数。\n\n第二行 $n$ 个整数，第 $i$ 个数表示第 $i$ 个节点的点权 $a_i$。\n\n下面 $n-1$ 行，每行两个整数 $x,y$，描述一条连接 $x$ 与 $y$ 的边。\n\n下面 $q$ 行，每行先输入一个整数 $opt$，表示本次是是操作还是询问。若 $opt=1$，则这是一次操作，且接下来会输入一个整数 $u$；若 $opt=2$，则这是一次询问，且接下来会输入两个整数 $u,v$。其具体意义见【题目描述】。", "outputFormat": "对于每次询问输出一行，即对应询问的答案。", "hint": "【样例解释】\n\n第一次是询问。显然，只有 $(i=4,j=8)$ 满足 $\\text{cover}(i,j,u,v)=1$。此时 $f(i,j)=3$。\n\n第二次是操作。将 $3$ 号节点的点权改为了 $2$。\n\n第三次是询问。当 $i=4,j=3$ 时，$\\text{cover}(i,j,u,v)=1$ 且 $f(i,j)=4$。不难发现，对于其他所有满足 $\\text{cover}(i,j,u,v)=1$ 的节点对 $(i,j)$，均没有 $f(i,j)>4$。\n\n【数据范围】\n- Subtask 1（8 pts）：$n,q\\le50$；\n- Subtask 2（12 pts）：$n,q\\le2\\times10^3$；\n- Subtask 3（16 pts）：$n,q\\le4\\times10^4$；\n- Subtask 4（10 pts）：保证树的形态随机生成；\n- Subtask 5（12 pts）：保证没有 $1$ 操作；\n- Subtask 6（12 pts）：保证每次询问的 $u,v$ 都是叶子节点；\n- Subtask 7（30 pts）：无特殊限制。\n\nSubtask 4 的随机方式为：随机生成一个的排列 $p$，对于 $i\\in[2,n]$，$p_i$ 向 $p_1,p_2,...,p_{i-1}$ 中等概率随机的一个点连边。\n\n对于 $100\\%$ 的数据满足，$1\\le n,q,a_i \\le 10^5$，保证每次询问均满足 $u$ 不是 $v$ 的祖先且 $v$ 不是 $u$ 的祖先，且 $u \\neq v$。", "locale": "zh-CN"}}}
{"pid": "P7358", "type": "P", "difficulty": 5, "samples": [["4 2\n3 1 1 4 \n3 5 2 1 ", "570934265"], ["3 1\n1 1 1\n1 1 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "数学", "矩阵加速"], "title": "「JZOI-1」窗花", "background": "小蔡和小僖在比赛剪窗花。", "description": "小蔡和小僖的制作水平都很高，换句话讲，他们都能制作出好看度为 $1\\dots n$ 的窗花，但是两个人的熟练度不一样，小蔡的熟练度可以用一个数组 $a_{1\\dots n}$ 组成，换句话讲，他剪出一个好看度为 $k(1\\le k\\le n)$ 的窗花的概率为 $\\frac{a_k}{\\sum_{i=1}^na_i}$。同理，小僖的熟练度可以用数组 $b_{1\\dots n}$ 组成，他剪出一个好看度为 $k(1\\le k\\le n)$ 的窗花的概率为 $\\frac{b_k}{\\sum_{i=1}^nb_i}$。\n\n现在两个人正在比赛剪窗花，如果某个人剪出的窗花的好看度比另一个人的大，那么这个人取胜，如果比另一个人的小，那么这个人失败，如果一样，则为平局。\n\n现在，小蔡用一个计数器记录他的情况，如果他赢了，那么计数器 $+1$，如果他输了，那么计数器 $-1$，如果平了，那么不加不减。但由于计数器不支持负数，所以如果结果 $\\le0$ 那么会自动变成 $0$，如果计数器显示的数 $=m$，那么比赛结束。\n\n作为新时代的大神，小蔡花了 $10^{-6}$ 秒就算出来了比赛结束所经过的期望局数，但他想让你帮忙检验一下……", "inputFormat": "第一行输入两个整数 $ n, m $，详细见题目。  \n第二行输入 $ n $ 个整数 $ a_i $，表示第一个人的熟练度。  \n第三行输入 $ n $ 个整数 $ b_i $，表示第二个人的熟练度。", "outputFormat": "一个整数，表示答案对 $ 10^9 + 7 $ 取模之后的结果。", "hint": "对于 $ 30\\% $ 的数据点，$ 1 \\leq m \\leq 100 $。\n\n对于 $ 60\\% $ 的数据点，$ 1 \\leq m \\leq 10^{6} $。\n\n对于 $ 90\\% $ 的数据点，$ 1 \\leq m \\leq 10^{18} $。\n\n对于 $ 100\\% $ 的数据点，$ 2 \\leq n \\leq 10^6 $，$ 1 \\leq m \\leq 10^{1000} $，$ 1 \\leq a_i \\leq 10^9 $。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JZOI-1」窗花", "background": "小蔡和小僖在比赛剪窗花。", "description": "小蔡和小僖的制作水平都很高，换句话讲，他们都能制作出好看度为 $1\\dots n$ 的窗花，但是两个人的熟练度不一样，小蔡的熟练度可以用一个数组 $a_{1\\dots n}$ 组成，换句话讲，他剪出一个好看度为 $k(1\\le k\\le n)$ 的窗花的概率为 $\\frac{a_k}{\\sum_{i=1}^na_i}$。同理，小僖的熟练度可以用数组 $b_{1\\dots n}$ 组成，他剪出一个好看度为 $k(1\\le k\\le n)$ 的窗花的概率为 $\\frac{b_k}{\\sum_{i=1}^nb_i}$。\n\n现在两个人正在比赛剪窗花，如果某个人剪出的窗花的好看度比另一个人的大，那么这个人取胜，如果比另一个人的小，那么这个人失败，如果一样，则为平局。\n\n现在，小蔡用一个计数器记录他的情况，如果他赢了，那么计数器 $+1$，如果他输了，那么计数器 $-1$，如果平了，那么不加不减。但由于计数器不支持负数，所以如果结果 $\\le0$ 那么会自动变成 $0$，如果计数器显示的数 $=m$，那么比赛结束。\n\n作为新时代的大神，小蔡花了 $10^{-6}$ 秒就算出来了比赛结束所经过的期望局数，但他想让你帮忙检验一下……", "inputFormat": "第一行输入两个整数 $ n, m $，详细见题目。  \n第二行输入 $ n $ 个整数 $ a_i $，表示第一个人的熟练度。  \n第三行输入 $ n $ 个整数 $ b_i $，表示第二个人的熟练度。", "outputFormat": "一个整数，表示答案对 $ 10^9 + 7 $ 取模之后的结果。", "hint": "对于 $ 30\\% $ 的数据点，$ 1 \\leq m \\leq 100 $。\n\n对于 $ 60\\% $ 的数据点，$ 1 \\leq m \\leq 10^{6} $。\n\n对于 $ 90\\% $ 的数据点，$ 1 \\leq m \\leq 10^{18} $。\n\n对于 $ 100\\% $ 的数据点，$ 2 \\leq n \\leq 10^6 $，$ 1 \\leq m \\leq 10^{1000} $，$ 1 \\leq a_i \\leq 10^9 $。", "locale": "zh-CN"}}}
{"pid": "P7359", "type": "P", "difficulty": 6, "samples": [["3 2 2\n1 2 2 1 0\n1 3 3 2 1\n2 3\n1 2", "4\n2"], ["4 1 1\n1 2 100 99 1\n2 3 100 99 0\n3 4 100 99 1\n1 4", "104"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600]}, "tags": ["矩阵加速", "树形 DP"], "title": "「JZOI-1」旅行", "background": "新年快到了，小僖要做一个长远的旅行，至于从哪里开始，到哪里，他还没有想好。", "description": "这次旅行是在一个由 $N$ 个城市和 $(N-1)$ 条双向道路组成的一个国家中，其中保证任意两个城市可以互达。\n\n为了美化环境，所有道路都是沿河修建的，这意味着小僖可以自己制造一艘船，然后划船通过这条路，所以小僖每走一条边都可以从陆上走过去，也可以划船通过。\n\n当然，因为顺流和逆流的原因，所以有一个参数 $z_i$，换句话讲，如果从陆上走过这条边所花费的时间为 $a_i$，那么顺流而下划船所花费的时间为 $a_i-z_i$ (保证结果大于 $0$)，逆流而上花费的时间为 $a_i+z_i$。不过，造船需要 $L$ 的时间，且人一旦上了岸，就必须放弃这条船只。\n\n现在小僖想你帮忙算一下从 $u$ 走到 $v$ 的最短时间。\n\n注意：一条船可以连续走多段水路（只要你不下船）", "inputFormat": "第一行三个数，$N,L,T$。\n\n接下来 $(N-1)$ 行，每行五个数，$x_i,y_i,a_i,z_i,type_i$，其中 $type_i=1$ 表示水从 $x_i$ 流向 $y_i$，$type_i=0$ 表示水从 $y_i$ 流向 $x_i$。\n\n接下来 $T$ 行，每行两个数 $u_i,v_i$，表示每个计划的起点和终点。", "outputFormat": "$T$ 行，每行一个数，表示每一个询问的答案。", "hint": "### 样例1解释\n图长这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2sp03gic.png)\n\n对于第一组询问，也就是从 $2$ 到 $3$，我们可以在 $2$ 号节点造船，花费 $2$ 的时间，然后从节点 $2$ 顺流而下到 $1$，花费 $2-1=1$，在顺流而下到 $3$，花费 $3-2=1$，所以总花费为 $2+1+1=4$。\n## 数据范围\n对于 $10\\%$ 的数据，$N,T\\leq10^3$。\n\n对于另外 $10\\%$ 的数据，树的形态随机。\n\n对于另外 $20\\%$ 的数据，所有的 $u$ 或所有的 $v$ 都相等。\n\n最后一个测试点给出了一条链。\n\n对于 $100\\%$ 的数据，$N,T\\leq2\\times10^5$，且 $0\n<a_i,L\\leq10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JZOI-1」旅行", "background": "新年快到了，小僖要做一个长远的旅行，至于从哪里开始，到哪里，他还没有想好。", "description": "这次旅行是在一个由 $N$ 个城市和 $(N-1)$ 条双向道路组成的一个国家中，其中保证任意两个城市可以互达。\n\n为了美化环境，所有道路都是沿河修建的，这意味着小僖可以自己制造一艘船，然后划船通过这条路，所以小僖每走一条边都可以从陆上走过去，也可以划船通过。\n\n当然，因为顺流和逆流的原因，所以有一个参数 $z_i$，换句话讲，如果从陆上走过这条边所花费的时间为 $a_i$，那么顺流而下划船所花费的时间为 $a_i-z_i$ (保证结果大于 $0$)，逆流而上花费的时间为 $a_i+z_i$。不过，造船需要 $L$ 的时间，且人一旦上了岸，就必须放弃这条船只。\n\n现在小僖想你帮忙算一下从 $u$ 走到 $v$ 的最短时间。\n\n注意：一条船可以连续走多段水路（只要你不下船）", "inputFormat": "第一行三个数，$N,L,T$。\n\n接下来 $(N-1)$ 行，每行五个数，$x_i,y_i,a_i,z_i,type_i$，其中 $type_i=1$ 表示水从 $x_i$ 流向 $y_i$，$type_i=0$ 表示水从 $y_i$ 流向 $x_i$。\n\n接下来 $T$ 行，每行两个数 $u_i,v_i$，表示每个计划的起点和终点。", "outputFormat": "$T$ 行，每行一个数，表示每一个询问的答案。", "hint": "### 样例1解释\n图长这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2sp03gic.png)\n\n对于第一组询问，也就是从 $2$ 到 $3$，我们可以在 $2$ 号节点造船，花费 $2$ 的时间，然后从节点 $2$ 顺流而下到 $1$，花费 $2-1=1$，在顺流而下到 $3$，花费 $3-2=1$，所以总花费为 $2+1+1=4$。\n## 数据范围\n对于 $10\\%$ 的数据，$N,T\\leq10^3$。\n\n对于另外 $10\\%$ 的数据，树的形态随机。\n\n对于另外 $20\\%$ 的数据，所有的 $u$ 或所有的 $v$ 都相等。\n\n最后一个测试点给出了一条链。\n\n对于 $100\\%$ 的数据，$N,T\\leq2\\times10^5$，且 $0\n<a_i,L\\leq10^5$。", "locale": "zh-CN"}}}
{"pid": "P7360", "type": "P", "difficulty": 6, "samples": [["2\n2 2\n3 2", "8\n7776"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["素数判断,质数,筛法", "最大公约数 gcd", "莫比乌斯反演", "二项式定理", "容斥原理"], "title": "「JZOI-1」红包", "background": "新年到了，小僖收到了叔叔寄给他的红包，这个红包里面有很多很多的钱。", "description": "小僖收到的红包总额是这样的：\n\n所有 $K$ 元组满足每个元素都是正整数且 $\\le N$，总额就是这些 $K$ 元组的最小公倍数的乘积。\n\n但由于叔叔并没有那么多的钱，所以结果还要对 $998244353$ 取模。\n\n小僖花了 $10^{-16}$ 秒就算了出来，但他想验证一下是否正确，于是找上了你（别问我为什么他不直接拆开红包看）。\n\n换句话讲，题目只需要你求：\n$$\\prod_{i_1=1}^N\\prod_{i_2=1}^N...\\prod_{i_K=1}^N{\\rm lcm}(i_1,i_2...i_K)\\mod 998244353$$\n保证 $K>1$，其中，${\\rm lcm}(i_1,i_2...i_K)$，表示 $i_1,i_2...i_K$ 的最小公倍数。", "inputFormat": "**本题有多组数据**。\n\n第一行一个数：$T$，表示数据组数。\n\n接下来 $T$ 行，每行两个数，$N,K$，表示每组询问。", "outputFormat": "$T$ 行，每行一个数，表示答案，记得对 $998244353$ 取模。", "hint": "对于样例的第一组数据，题目要求求出 ${\\rm lcm}(1,1)\\times {\\rm lcm}(1,2)\\times {\\rm lcm}(2,1)\\times {\\rm lcm}(2,2)$。\n\n显然，除了 ${\\rm lcm}(1,1)=1$ 以外其它的结果都为 $2$，所以答案为 $1\\times2\\times2\\times2=8$。\n\n| 数据编号 | $N\\le$ | $K\\leq$ | $T=$ |\n| :-----------: | ----------- | ----------- | ----------- |\n| **0** |$10$|$5$|$10$|\n| **1** | $10^6$ |$2$|$10^3$|\n| **2** | $10^6$ |$3$|$10^3$|\n| **3** | $100$ |$10^{18}$|$100$|\n| **4** | $10^5$ |$100$|$10^3$|\n| **5** | $10^5$ |$3\\times10^8$|$1$|\n| **6** | $10^5$ |$10^{100}$| $10$ |\n| **7** |$10^6$|$10^{18}$|$10^3$|\n| **8** |$10^6$|$10^{100}$|$10^3$|\n| **9** |$10^6$|$10^{100}$|$10^3$|\n\n**出题人：你真以为有这么多钱，哈哈，里面装的全是津巴布韦币哦！**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JZOI-1」红包", "background": "新年到了，小僖收到了叔叔寄给他的红包，这个红包里面有很多很多的钱。", "description": "小僖收到的红包总额是这样的：\n\n所有 $K$ 元组满足每个元素都是正整数且 $\\le N$，总额就是这些 $K$ 元组的最小公倍数的乘积。\n\n但由于叔叔并没有那么多的钱，所以结果还要对 $998244353$ 取模。\n\n小僖花了 $10^{-16}$ 秒就算了出来，但他想验证一下是否正确，于是找上了你（别问我为什么他不直接拆开红包看）。\n\n换句话讲，题目只需要你求：\n$$\\prod_{i_1=1}^N\\prod_{i_2=1}^N...\\prod_{i_K=1}^N{\\rm lcm}(i_1,i_2...i_K)\\mod 998244353$$\n保证 $K>1$，其中，${\\rm lcm}(i_1,i_2...i_K)$，表示 $i_1,i_2...i_K$ 的最小公倍数。", "inputFormat": "**本题有多组数据**。\n\n第一行一个数：$T$，表示数据组数。\n\n接下来 $T$ 行，每行两个数，$N,K$，表示每组询问。", "outputFormat": "$T$ 行，每行一个数，表示答案，记得对 $998244353$ 取模。", "hint": "对于样例的第一组数据，题目要求求出 ${\\rm lcm}(1,1)\\times {\\rm lcm}(1,2)\\times {\\rm lcm}(2,1)\\times {\\rm lcm}(2,2)$。\n\n显然，除了 ${\\rm lcm}(1,1)=1$ 以外其它的结果都为 $2$，所以答案为 $1\\times2\\times2\\times2=8$。\n\n| 数据编号 | $N\\le$ | $K\\leq$ | $T=$ |\n| :-----------: | ----------- | ----------- | ----------- |\n| **0** |$10$|$5$|$10$|\n| **1** | $10^6$ |$2$|$10^3$|\n| **2** | $10^6$ |$3$|$10^3$|\n| **3** | $100$ |$10^{18}$|$100$|\n| **4** | $10^5$ |$100$|$10^3$|\n| **5** | $10^5$ |$3\\times10^8$|$1$|\n| **6** | $10^5$ |$10^{100}$| $10$ |\n| **7** |$10^6$|$10^{18}$|$10^3$|\n| **8** |$10^6$|$10^{100}$|$10^3$|\n| **9** |$10^6$|$10^{100}$|$10^3$|\n\n**出题人：你真以为有这么多钱，哈哈，里面装的全是津巴布韦币哦！**", "locale": "zh-CN"}}}
{"pid": "P7361", "type": "P", "difficulty": 7, "samples": [["10 5\ncdabababdc\n3 7\n2 8\n5 10\n6 10\n1 4\n", "3\n4\n2\n1\n0\n"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600]}, "tags": ["后缀自动机 SAM", "后缀数组 SA"], "title": "「JZOI-1」拜神", "background": "新年快到了，小僖和爸爸妈妈上山拜神，祈求新一年的好气运。", "description": "小僖要拜的神一共有 $n$ 个，小僖对每个神的信仰可以用一个小写字母表示，信仰排在一起形成了一个从标号 $1$ 开始的字符串 $s$。 \n\n小僖需要祈祷词来拜神，定义一段祈祷词为一个长度大于零的 $s$ 的连续子串，祈祷词的长度为这个子串的长度。由于拜神只需要小僖有着一定的认真度，所以一种祈祷词只要出现两次就可以被称之为有效的。\n\n**注意：只要子串出现的位置开头不同，中间有重复部分也没有问题**。 \n\n但是由于还有爸爸妈妈的存在，小僖的祈祷词有时会被干扰而打断，所以只有区间 $[l,r]$ 的字符串（即 $s[l\\dots r]$）有效。为了未雨绸缪，小僖将会对可能的情况进行精心准备。  \n\n他会给出 $q$ 次询问，每次询问将给定 $l,r$，询问区间 $[l,r]$ 的最长的有效祈祷词的长度。", "inputFormat": "第一行输入两个正整数 $n,q$。  \n第二行输入一个由小写字符构成的字符串 $s$。  \n接下来有 $q$ 行，每行输入两个数 $l,r$。", "outputFormat": "输出 $q$ 行，每行输出一个非负整数，代表最长的有效祈祷词的长度，若无有效祈祷词，则输出 $0$。", "hint": "#### 样例解释：  \n对于第一次询问：区间内的字符串为 $\\texttt{ababa}$，其中子串 $\\texttt{aba}$ 出现了两次，长度为 $3$ 。  \n对于第二次询问：区间内的字符串为 $\\texttt{dababab}$，其中子串 $\\texttt{abab}$ 出现了两次，长度为 $4$ 。  \n对于第三次询问：区间内的字符串为 $\\texttt{ababdc}$，其中子串 $\\texttt{ab}$ 出现了两次，长度为 $2$ 。  \n对于第四次询问：区间内的字符串为 $\\texttt{babdc}$，其中子串 $\\texttt{b}$ 出现了两次，长度为 $1$ 。  \n对于第五次询问：区间内的字符串为 $\\texttt{cdab}$，无出现至少两次的子串，答案为 $0$ 。  \n\n#### 数据范围：    \n对于 $5\\%$ 的数据，$n,q\\le50$。  \n对于 $15\\%$ 的数据，$n,q\\le200$。  \n对于 $30\\%$ 的数据，$n,q\\le2\\times10^3$。  \n对于 $40\\%$ 的数据，$n,q\\le5\\times10^3$。  \n对于 $65\\%$ 的数据，$n,q\\le2\\times 10^4$。  \n对于另外 $5\\%$ 的数据，满足所有的字符都相等。  \n对于 $100\\%$ 的数据，$1 \\le n\\le5\\times10^4$，$1 \\le q \\le 10^5$。  ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JZOI-1」拜神", "background": "新年快到了，小僖和爸爸妈妈上山拜神，祈求新一年的好气运。", "description": "小僖要拜的神一共有 $n$ 个，小僖对每个神的信仰可以用一个小写字母表示，信仰排在一起形成了一个从标号 $1$ 开始的字符串 $s$。 \n\n小僖需要祈祷词来拜神，定义一段祈祷词为一个长度大于零的 $s$ 的连续子串，祈祷词的长度为这个子串的长度。由于拜神只需要小僖有着一定的认真度，所以一种祈祷词只要出现两次就可以被称之为有效的。\n\n**注意：只要子串出现的位置开头不同，中间有重复部分也没有问题**。 \n\n但是由于还有爸爸妈妈的存在，小僖的祈祷词有时会被干扰而打断，所以只有区间 $[l,r]$ 的字符串（即 $s[l\\dots r]$）有效。为了未雨绸缪，小僖将会对可能的情况进行精心准备。  \n\n他会给出 $q$ 次询问，每次询问将给定 $l,r$，询问区间 $[l,r]$ 的最长的有效祈祷词的长度。", "inputFormat": "第一行输入两个正整数 $n,q$。  \n第二行输入一个由小写字符构成的字符串 $s$。  \n接下来有 $q$ 行，每行输入两个数 $l,r$。", "outputFormat": "输出 $q$ 行，每行输出一个非负整数，代表最长的有效祈祷词的长度，若无有效祈祷词，则输出 $0$。", "hint": "#### 样例解释：  \n对于第一次询问：区间内的字符串为 $\\texttt{ababa}$，其中子串 $\\texttt{aba}$ 出现了两次，长度为 $3$ 。  \n对于第二次询问：区间内的字符串为 $\\texttt{dababab}$，其中子串 $\\texttt{abab}$ 出现了两次，长度为 $4$ 。  \n对于第三次询问：区间内的字符串为 $\\texttt{ababdc}$，其中子串 $\\texttt{ab}$ 出现了两次，长度为 $2$ 。  \n对于第四次询问：区间内的字符串为 $\\texttt{babdc}$，其中子串 $\\texttt{b}$ 出现了两次，长度为 $1$ 。  \n对于第五次询问：区间内的字符串为 $\\texttt{cdab}$，无出现至少两次的子串，答案为 $0$ 。  \n\n#### 数据范围：    \n对于 $5\\%$ 的数据，$n,q\\le50$。  \n对于 $15\\%$ 的数据，$n,q\\le200$。  \n对于 $30\\%$ 的数据，$n,q\\le2\\times10^3$。  \n对于 $40\\%$ 的数据，$n,q\\le5\\times10^3$。  \n对于 $65\\%$ 的数据，$n,q\\le2\\times 10^4$。  \n对于另外 $5\\%$ 的数据，满足所有的字符都相等。  \n对于 $100\\%$ 的数据，$1 \\le n\\le5\\times10^4$，$1 \\le q \\le 10^5$。  ", "locale": "zh-CN"}}}
{"pid": "P7362", "type": "P", "difficulty": 6, "samples": [["5 1\n3 2 8 4 1", "3\n1 2\n4 3\n5 4"], ["5 2\n4 4 2 0 1", "3\n3 2\n4 3\n5 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2020] XOR Sort (Day2)", "background": "", "description": "给定一个长为 $N$ 的序列 $A_i$，你可以进行如下操作：\n\n> 选定一个位置 $i$，将 $A_i$ 修改为 $A_i \\oplus A_{i+1}$ 或 $A_i \\oplus A_{i-1}$。\n\n你想知道，需要用多少次操作才能把 $A_i$ 变为：\n\n- $S=1$，严格单调递增序列，即 $A_i<A_{i+1}$。\n- $S=2$，非严格单调递增序列，即 $A_i \\le A_{i+1}$。", "inputFormat": "第一行两个整数 $N,S$，代表序列长度以及测试点类型。  \n第二行 $N$ 个整数 $A_i$ 代表这个序列。", "outputFormat": "第一行一个整数 $K$ 代表操作次数，你不需要使得 $K$ 最小，你只需要满足 $0 \\le  K \\le 4 \\times 10^4$。         \n接下来 $K$ 行每行两个整数 $i,j$ 代表要把 $A_i$ 修改为 $A_i \\oplus A_j$，其中 $j=i+1$ 或 $i-1$。", "hint": "#### 样例 1 解释\n\n$$[3, 2, 8, 4, 1] \\to  [\\mathbf 1, 2, 8, 4, 1] \\to [1, 2, 8, \\mathbf{12}, 1] \\to [1, 2, 8, 12, \\mathbf{ 13}]$$\n\n#### 样例 2 解释\n\n$$[4, 4, 2, 0, 1] \\to [4, 4, \\mathbf6, 0, 1] \\to [4, 4, 6, \\mathbf6, 1] \\to [4, 4, 6, 6, \\mathbf7]$$\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（25 pts）：$2 \\le N \\le 150$，$S=1$，$A_i$ 互不相同。\n- Subtask 2（35 pts）：$2 \\le N \\le 200$，$S=1$，$A_i$ 互不相同。\n- Subtask 3（40 pts）：$2 \\le N \\le 1000$，$S=2$。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le S \\le 2$。\n- $2 \\le N \\le 1000$。\n- $0 \\le A_i<2^{20}$。\n\n**本题使用 Special Judge。**\n\n#### 说明\n\n翻译自 [eJOI 2020 Day2 A XOR Sort](https://ejoi2020.ge/static/assets/Day2/Problems/XorSort.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2020] XOR Sort (Day2)", "background": "", "description": "给定一个长为 $N$ 的序列 $A_i$，你可以进行如下操作：\n\n> 选定一个位置 $i$，将 $A_i$ 修改为 $A_i \\oplus A_{i+1}$ 或 $A_i \\oplus A_{i-1}$。\n\n你想知道，需要用多少次操作才能把 $A_i$ 变为：\n\n- $S=1$，严格单调递增序列，即 $A_i<A_{i+1}$。\n- $S=2$，非严格单调递增序列，即 $A_i \\le A_{i+1}$。", "inputFormat": "第一行两个整数 $N,S$，代表序列长度以及测试点类型。  \n第二行 $N$ 个整数 $A_i$ 代表这个序列。", "outputFormat": "第一行一个整数 $K$ 代表操作次数，你不需要使得 $K$ 最小，你只需要满足 $0 \\le  K \\le 4 \\times 10^4$。         \n接下来 $K$ 行每行两个整数 $i,j$ 代表要把 $A_i$ 修改为 $A_i \\oplus A_j$，其中 $j=i+1$ 或 $i-1$。", "hint": "#### 样例 1 解释\n\n$$[3, 2, 8, 4, 1] \\to  [\\mathbf 1, 2, 8, 4, 1] \\to [1, 2, 8, \\mathbf{12}, 1] \\to [1, 2, 8, 12, \\mathbf{ 13}]$$\n\n#### 样例 2 解释\n\n$$[4, 4, 2, 0, 1] \\to [4, 4, \\mathbf6, 0, 1] \\to [4, 4, 6, \\mathbf6, 1] \\to [4, 4, 6, 6, \\mathbf7]$$\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（25 pts）：$2 \\le N \\le 150$，$S=1$，$A_i$ 互不相同。\n- Subtask 2（35 pts）：$2 \\le N \\le 200$，$S=1$，$A_i$ 互不相同。\n- Subtask 3（40 pts）：$2 \\le N \\le 1000$，$S=2$。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le S \\le 2$。\n- $2 \\le N \\le 1000$。\n- $0 \\le A_i<2^{20}$。\n\n**本题使用 Special Judge。**\n\n#### 说明\n\n翻译自 [eJOI 2020 Day2 A XOR Sort](https://ejoi2020.ge/static/assets/Day2/Problems/XorSort.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7363", "type": "P", "difficulty": 6, "samples": [["3 3\n000\n111\n011\n110\n1010\n1000\n1001", "-5"], ["5 5\n00100\n10100\n11010\n00100\n01000\n11100\n011111\n001011\n101011\n110111\n100111", "6"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2020", "eJOI（欧洲）"], "title": "[eJOI 2020] Dots and Boxes (Day2)", "background": "小 T 和小 A 在玩一种点格游戏。", "description": "首先，小 T 拿出了一张拥有 $(N+1) \\times (M+1)$ 个格点的方格纸（这些格子从上到下，从左到右可以编号为第 $1 \\sim N+1$ 行第 $1 \\sim M+1$ 列的格点），每个格点向上下左右的那个格点（如果那个方向有格点的话）连边，不难发现，会形成一个 $N \\times M$ 的方格矩阵。但是小 T 拿出的是没有连边的格点方格纸，小 T 和小 A 的目标就是在格点之间连线。\n\n游戏规则是这样的，每一轮玩家可以在两个格点之间连线，如果连完线能连好一个格子，那么这个格子就属于这个玩家了。然后玩家可以继续连线，直到连完线不能获得格子为止，就换到下一个玩家。当所有玩家都不能连线时，游戏结束。\n\n比如下面这张图即为当 $N=2,M=3$ 时两位玩家可能的连线结果：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sngf2kqv.png)\n\n其中虚线为这一轮玩家连的线。\n\n小 A 和小 T 已经玩了许久了，你发现他们现在的方格纸满足每一个格子周围的四条边都有 **$0$ 条或 $2$ 条未被连线**，比如下面这张图就满足要求，上面这张图除了第一幅图也都满足要求：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gzoveutp.png)\n\n并且刚好轮到小 A 了。\n\n定义小 A 和小 T 的分数 $S_A,S_T$ 为玩家从现在开始得到的分数，那么整个游戏的分数即为 $S_A-S_T$，小 A 要让整个游戏的分数变得越大越好，小 T 则反之，他们都会按照他们的目标做最优策略。\n\n你要求出他们做最优策略下得到的分数。", "inputFormat": "第一行两个整数 $N,M$ 代表方格纸的大小。\n\n接下来 $N+1$ 行每行 $M$ 个 **不用空格隔开的** 整数，包含 $0$ 和 $1$，第 $i$ 行第 $j$ 个数为 $0$ 就代表第 $i$ 行第 $j$ 列的格点与第 $i$ 行第 $j+1$ 列的格点之间没有连线，$1$ 则反之。\n\n接下来 $N$ 行每行 $M+1$ 个 **不用空格隔开的** 整数，包含 $0$ 和 $1$，第 $i$ 行第 $j$ 个数 $0$ 就代表第 $i$ 行第 $j$ 列的格点与第 $i+1$ 行第 $j$ 列的格点之间没有连线，$1$ 则反之。", "outputFormat": "", "hint": "#### 样例 1 解释\n\n下图为其中一种连线方式，红色为小 A 的操作，蓝色为小 T 的操作：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cu0mah7j.png)\n\n#### 样例 2 解释\n\n这个样例为题目描述中的第二个图片。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：给出的输入只包含一个连通块。\n- Subtask 2（20 pts）：$N \\times M \\le 12$。\n- Subtask 3（20 pts）：给出的输入只包含两个连通块。\n- Subtask 4（20 pts）：$N,M \\le 7$。\n- Subtask 5（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$3 \\le N, M \\le 20$，**每一个格子周围的四条边都有 $0$ 条或 $2$ 条未被连线**。\n\n其中一个连通块定义为已连上的边与方格纸的边缘围起来的块，比如说下面这个图有 $5$ 个连通块：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6g0pk8w2.png)\n\n注意已被玩家占有的方格不属于任意一个连通块。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day2 C Dots and Boxes](https://ejoi2020.ge/static/assets/Day2/Problems/Game.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2020] Dots and Boxes (Day2)", "background": "小 T 和小 A 在玩一种点格游戏。", "description": "首先，小 T 拿出了一张拥有 $(N+1) \\times (M+1)$ 个格点的方格纸（这些格子从上到下，从左到右可以编号为第 $1 \\sim N+1$ 行第 $1 \\sim M+1$ 列的格点），每个格点向上下左右的那个格点（如果那个方向有格点的话）连边，不难发现，会形成一个 $N \\times M$ 的方格矩阵。但是小 T 拿出的是没有连边的格点方格纸，小 T 和小 A 的目标就是在格点之间连线。\n\n游戏规则是这样的，每一轮玩家可以在两个格点之间连线，如果连完线能连好一个格子，那么这个格子就属于这个玩家了。然后玩家可以继续连线，直到连完线不能获得格子为止，就换到下一个玩家。当所有玩家都不能连线时，游戏结束。\n\n比如下面这张图即为当 $N=2,M=3$ 时两位玩家可能的连线结果：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sngf2kqv.png)\n\n其中虚线为这一轮玩家连的线。\n\n小 A 和小 T 已经玩了许久了，你发现他们现在的方格纸满足每一个格子周围的四条边都有 **$0$ 条或 $2$ 条未被连线**，比如下面这张图就满足要求，上面这张图除了第一幅图也都满足要求：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gzoveutp.png)\n\n并且刚好轮到小 A 了。\n\n定义小 A 和小 T 的分数 $S_A,S_T$ 为玩家从现在开始得到的分数，那么整个游戏的分数即为 $S_A-S_T$，小 A 要让整个游戏的分数变得越大越好，小 T 则反之，他们都会按照他们的目标做最优策略。\n\n你要求出他们做最优策略下得到的分数。", "inputFormat": "第一行两个整数 $N,M$ 代表方格纸的大小。\n\n接下来 $N+1$ 行每行 $M$ 个 **不用空格隔开的** 整数，包含 $0$ 和 $1$，第 $i$ 行第 $j$ 个数为 $0$ 就代表第 $i$ 行第 $j$ 列的格点与第 $i$ 行第 $j+1$ 列的格点之间没有连线，$1$ 则反之。\n\n接下来 $N$ 行每行 $M+1$ 个 **不用空格隔开的** 整数，包含 $0$ 和 $1$，第 $i$ 行第 $j$ 个数 $0$ 就代表第 $i$ 行第 $j$ 列的格点与第 $i+1$ 行第 $j$ 列的格点之间没有连线，$1$ 则反之。", "outputFormat": "", "hint": "#### 样例 1 解释\n\n下图为其中一种连线方式，红色为小 A 的操作，蓝色为小 T 的操作：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cu0mah7j.png)\n\n#### 样例 2 解释\n\n这个样例为题目描述中的第二个图片。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：给出的输入只包含一个连通块。\n- Subtask 2（20 pts）：$N \\times M \\le 12$。\n- Subtask 3（20 pts）：给出的输入只包含两个连通块。\n- Subtask 4（20 pts）：$N,M \\le 7$。\n- Subtask 5（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$3 \\le N, M \\le 20$，**每一个格子周围的四条边都有 $0$ 条或 $2$ 条未被连线**。\n\n其中一个连通块定义为已连上的边与方格纸的边缘围起来的块，比如说下面这个图有 $5$ 个连通块：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6g0pk8w2.png)\n\n注意已被玩家占有的方格不属于任意一个连通块。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day2 C Dots and Boxes](https://ejoi2020.ge/static/assets/Day2/Problems/Game.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7364", "type": "P", "difficulty": 7, "samples": [["没有输入。", "答案的前八行：\n1\n2\n7\n41\n376\n5177\n103237\n2922446"]], "limits": {"time": [2000], "memory": [524288]}, "tags": ["O2优化", "生成函数", "快速傅里叶变换 FFT", "快速数论变换 NTT"], "title": "有标号二分图计数", "background": "", "description": "求 $n$ 个点的有标号二分图数目。对每个 $1\\le n\\le 10^5$ 求出答案。\n\n对 $998244353$ 取模。", "inputFormat": "没有输入。", "outputFormat": "共 $10^5$ 行，第 $i$ 行是 $i$ 个点的有标号二分图数目对 $998244353$ 取模后的值。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "有标号二分图计数", "background": "", "description": "求 $n$ 个点的有标号二分图数目。对每个 $1\\le n\\le 10^5$ 求出答案。\n\n对 $998244353$ 取模。", "inputFormat": "没有输入。", "outputFormat": "共 $10^5$ 行，第 $i$ 行是 $i$ 个点的有标号二分图数目对 $998244353$ 取模后的值。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P7365", "type": "P", "difficulty": 4, "samples": [["6 8\n1 1 1 1 1 0 0 1\n1 0 0 0 0 1 1 1\n1 0 0 0 0 0 1 1\n1 0 1 0 1 0 1 0\n1 0 0 0 0 0 0 1\n1 1 0 0 0 1 0 1", "15"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2002", "CTSC/CTS"], "title": "[CTSC2002] 颁奖典礼", "background": "IOI2002 的颁奖典礼将在 YONG-IN Hall 隆重举行。人们在经历了充满梦幻的世界杯之后变得更加富于情趣。为了使颁奖典礼更具魅力，有人建议在 YONG-IN Hall 中搭建一个 $\\text{I}$ 字型的颁奖台，以此代表信息学 Informatics。\n\n考虑到比赛的赞助商们可能要在 YONG-IN Hall 中摆设了许多展示台，他们可能不愿意移动展示台的位置。你作为 IOI2002 的金牌得主自然地成为了他们求助的对象。\n\n", "description": "YONG-IN Hall 是一个矩形的网格区域。每个赞助商的展示台都占据了若干个单位网格。$\\text{I}$ 型颁奖台将正向搭建，且平行于 YONG-IN Hall 的边缘。$\\text{I}$ 型颁奖台是由三个矩形相接叠成的，其中上方和下方的矩形的两侧必须都超出中间的矩形，否则将被误解成 $\\text{T, L, J}$ 等字母。例如：  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/lxije1kr.png)\n\n这是两个合法的 $\\text{I}$ 型颁奖台，而以下三种情况均不合法： \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4sekuxrx.png)\n\n希望你编程寻找面积最大的 $\\text{I}$ 型颁奖台，使其不覆盖任何展示台。", "inputFormat": "第一行包含两个正整数 $n,\\,m$，分别表示 YONG-IN Hall 的矩形网格区域的行数和列数。\n\n以下 $n$ 行每行包含 $m$ 个数字 $p_{i,\\,j}$，每个数字描述一个单位网格，$1$ 表示该单位网格存在展示台，$0$ 表示该单位网格不存在展示台。", "outputFormat": "仅包含一个正整数，表示最大的 $\\text{I}$ 型颁奖台的面积。如果不存在合法的 $\\text{I}$ 型颁奖台，则输出 $0$。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n,\\,m \\leq 200$，$p_{i,\\,j} \\in \\{0,\\,1\\}$。\n\n样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9zaz0leo.png)\n\n可选出的最大 $\\text{I}$ 型颁奖台面积为 $15$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CTSC2002] 颁奖典礼", "background": "IOI2002 的颁奖典礼将在 YONG-IN Hall 隆重举行。人们在经历了充满梦幻的世界杯之后变得更加富于情趣。为了使颁奖典礼更具魅力，有人建议在 YONG-IN Hall 中搭建一个 $\\text{I}$ 字型的颁奖台，以此代表信息学 Informatics。\n\n考虑到比赛的赞助商们可能要在 YONG-IN Hall 中摆设了许多展示台，他们可能不愿意移动展示台的位置。你作为 IOI2002 的金牌得主自然地成为了他们求助的对象。\n\n", "description": "YONG-IN Hall 是一个矩形的网格区域。每个赞助商的展示台都占据了若干个单位网格。$\\text{I}$ 型颁奖台将正向搭建，且平行于 YONG-IN Hall 的边缘。$\\text{I}$ 型颁奖台是由三个矩形相接叠成的，其中上方和下方的矩形的两侧必须都超出中间的矩形，否则将被误解成 $\\text{T, L, J}$ 等字母。例如：  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/lxije1kr.png)\n\n这是两个合法的 $\\text{I}$ 型颁奖台，而以下三种情况均不合法： \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4sekuxrx.png)\n\n希望你编程寻找面积最大的 $\\text{I}$ 型颁奖台，使其不覆盖任何展示台。", "inputFormat": "第一行包含两个正整数 $n,\\,m$，分别表示 YONG-IN Hall 的矩形网格区域的行数和列数。\n\n以下 $n$ 行每行包含 $m$ 个数字 $p_{i,\\,j}$，每个数字描述一个单位网格，$1$ 表示该单位网格存在展示台，$0$ 表示该单位网格不存在展示台。", "outputFormat": "仅包含一个正整数，表示最大的 $\\text{I}$ 型颁奖台的面积。如果不存在合法的 $\\text{I}$ 型颁奖台，则输出 $0$。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n,\\,m \\leq 200$，$p_{i,\\,j} \\in \\{0,\\,1\\}$。\n\n样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9zaz0leo.png)\n\n可选出的最大 $\\text{I}$ 型颁奖台面积为 $15$。", "locale": "zh-CN"}}}
{"pid": "P7366", "type": "P", "difficulty": 5, "samples": [["4 9 3", "12"], ["10 15 6", "84"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "CTSC/CTS"], "title": "[CTSC2002] 月亮森林", "background": "一天早晨，一个小女孩在森林里玩耍时看到一颗神奇的种子，光芒四射，还散发着一股淡淡的清香。女孩很喜欢这\n颗种子，便把它捧在手里带回了家。 \n\n那天晚上，女孩做了一个梦，梦到一个面目慈祥的白胡子老爷爷。老爷爷对她说，她手里的种子来自一棵月亮之树，原本只有在月亮上才能见到它，但是机缘巧合，种子悄悄的落在了地球上，无法再回到月亮上了。\n\n老爷爷发现女孩儿很喜欢这颗种子，就问她是否愿意借助自己的勤劳和智慧，用这颗小小的种子种出一片茂密的月亮森林，让月亮树在地球上有一个温暖的新家。女孩兴奋地点点头，忙问老爷爷具体应该怎么做。 ", "description": "\n老人解释说，这颗种子非同寻常，种下去的第二天上午就会长成一棵高度为 $1$（一个单位）的小树苗。\n\n月亮树的生命力极强，以后还会每天上午长高一个单位。由于月亮树不同于地球上的生物，女孩必须使用一种特殊的肥料才能对它施肥，而这种肥料老爷爷每天会送给女孩儿一个单位。每天晚上，她必须给一棵树或者下午刚种下去的种子施肥，但不能多施肥，也不能不施肥。被施肥的树或者种子在第二天上午将比一般情况下多长高一个单位，即两个单位。\n\n月亮树在成长的过程中有两个称为 “收获点” 的特殊高度，分别为 $\\text{HP1}$ 和 $\\text{HP2}$。当月亮之树的高度第一次达到或者超过 $\\text{HP1}$ 的那天中午，树上就会结出一个果实。同样，当高度第一次达到或者超过 $\\text{HP2}$ 的那天中午，树上也会结出一个果实。\n\n果实里面有一颗种子, 和女孩当初捡到的一模一样。每天下午，女孩都可以选择一些种子种下去，当然也可以不种。当女孩种了恰好 $M$ 棵树，且它们的高度都相同时，这些树才能真正的适应地球的环境，永远的活下去。\n\n醒来后的那天下午，女孩儿就按照老爷爷的吩咐把种子种下去了。她把完成老爷爷交付给她的任务作为一生中最大的心愿，日复一日，年复一年辛勤的劳动着。她每天傍晚一坐在门槛上望着远方，眼前就会浮现出一片美丽而宽广的月亮森林。她坚信自己一定能成功，需要再长的时间也不怕。但是这一天何时才会来到呢？", "inputFormat": "三个整数 $\\text{HP1,\\,HP2},\\,M$，代表两个收获点的高度和所需月亮树的棵数。", "outputFormat": "仅包含一个整数 $T$，即最少需要的天数。", "hint": "对于 $100\\%$ 的数据，$2 \\leq \\text{HP1,\\,HP2} \\leq 20$，$2 \\leq M \\leq 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CTSC2002] 月亮森林", "background": "一天早晨，一个小女孩在森林里玩耍时看到一颗神奇的种子，光芒四射，还散发着一股淡淡的清香。女孩很喜欢这\n颗种子，便把它捧在手里带回了家。 \n\n那天晚上，女孩做了一个梦，梦到一个面目慈祥的白胡子老爷爷。老爷爷对她说，她手里的种子来自一棵月亮之树，原本只有在月亮上才能见到它，但是机缘巧合，种子悄悄的落在了地球上，无法再回到月亮上了。\n\n老爷爷发现女孩儿很喜欢这颗种子，就问她是否愿意借助自己的勤劳和智慧，用这颗小小的种子种出一片茂密的月亮森林，让月亮树在地球上有一个温暖的新家。女孩兴奋地点点头，忙问老爷爷具体应该怎么做。 ", "description": "\n老人解释说，这颗种子非同寻常，种下去的第二天上午就会长成一棵高度为 $1$（一个单位）的小树苗。\n\n月亮树的生命力极强，以后还会每天上午长高一个单位。由于月亮树不同于地球上的生物，女孩必须使用一种特殊的肥料才能对它施肥，而这种肥料老爷爷每天会送给女孩儿一个单位。每天晚上，她必须给一棵树或者下午刚种下去的种子施肥，但不能多施肥，也不能不施肥。被施肥的树或者种子在第二天上午将比一般情况下多长高一个单位，即两个单位。\n\n月亮树在成长的过程中有两个称为 “收获点” 的特殊高度，分别为 $\\text{HP1}$ 和 $\\text{HP2}$。当月亮之树的高度第一次达到或者超过 $\\text{HP1}$ 的那天中午，树上就会结出一个果实。同样，当高度第一次达到或者超过 $\\text{HP2}$ 的那天中午，树上也会结出一个果实。\n\n果实里面有一颗种子, 和女孩当初捡到的一模一样。每天下午，女孩都可以选择一些种子种下去，当然也可以不种。当女孩种了恰好 $M$ 棵树，且它们的高度都相同时，这些树才能真正的适应地球的环境，永远的活下去。\n\n醒来后的那天下午，女孩儿就按照老爷爷的吩咐把种子种下去了。她把完成老爷爷交付给她的任务作为一生中最大的心愿，日复一日，年复一年辛勤的劳动着。她每天傍晚一坐在门槛上望着远方，眼前就会浮现出一片美丽而宽广的月亮森林。她坚信自己一定能成功，需要再长的时间也不怕。但是这一天何时才会来到呢？", "inputFormat": "三个整数 $\\text{HP1,\\,HP2},\\,M$，代表两个收获点的高度和所需月亮树的棵数。", "outputFormat": "仅包含一个整数 $T$，即最少需要的天数。", "hint": "对于 $100\\%$ 的数据，$2 \\leq \\text{HP1,\\,HP2} \\leq 20$，$2 \\leq M \\leq 100$。", "locale": "zh-CN"}}}
{"pid": "P7367", "type": "P", "difficulty": 0, "samples": [["3\n-1 -1 1 -1 1 1\n1 1 2 1 2 2", "7\nLLURURD"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "Special Judge", "CTSC/CTS"], "title": "[CTSC2002] 丹奇方块【征集 SPJ】", "background": "佳佳最近被一个叫做“丹奇方块”的游戏吸引住了，但是却因为游戏太难而迟迟无法通关。", "description": "游戏在一个没有边界的棋盘上进行，中心 $(0,\\,0)$ 处有一块黑色的障碍物，不远处坐标值为奇数的 $N$ 个不同的格子中各有一个灰色方块。\n\n游戏的任务是把所有灰色方块全部粘起来组成一个给定的形状，如图一所示。该形状可以出现在棋盘上的任何位置，但不能旋转或者对称。图二描述了一个合法的初始状态，其中在坐标 $(-1,\\,-1),\\,(1,\\,-1),\\,(1,\\,1)$ 处各有一个灰色方块。\n\n游戏者每次可以用上（`U`）下（`D`）左（`L`）右（`R`）四种移动指令之一让所有的灰色方块同时往一个指定的方向移动一格。如果其中一个方块前方有障碍物，只有该方块便不能移动，其他方块仍然照常移动。例如，从图二的状态使用了指令 `LLUR` 后将形成图三所示的布局。一旦出现图三这样有两个或多个方块相邻的情况，这些相邻的方块会立刻粘在一起形成一块无法分离的整体，使得在今后的移动中，只要其中任意一个方块运动前方有障碍，即使其他方块并未被挡住，这个整体也无法移动。这样，在图三的状态使用指令 `URD` 后形成图四。由于图四中的灰色方块正好组成了该形状，游戏胜利结束。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sogsabll.png)\n\n这个游戏看起来简单，但方块数目多，目标形状又很复杂的时候游戏者往往需要很多步才能完成。佳佳希望找到一个不超过 $2000$ 步的解决方案，你能帮帮他吗？", "inputFormat": "第一行包含一个整数 $N$，即方块个数。\n\n第二行包含 $N$ 个整数对 $x_i,\\,y_i$ 其中第 $i$ 个整数对代表第 $i$ 个方块的初始位置。位置按照从上到下（即 $x$ 递增）从左到右（即 $y$ 递增）的顺序排列。\n\n第三行包含 $N$ 个整数对 $P_{x_i},\\,P_{y_i}$，代表目标形状中各小方块的相对位置。目标方块保证是一个连在一起的整体，且数据总是有解的。", "outputFormat": "第一行为需要的步数 $S$，第二行为所求移动序列。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$3 \\leq N \\leq 20$，$-9 \\leq x_i,\\,y_i \\leq 9$ 且 $x_i,\\,y_i$ 为奇数，$1 \\leq P_{x_i},\\,P_{y_i} \\leq N$。\n\n#### 样例解释\n\n参考输入格式，本题中 `D` 方向为 $x$ 轴正方向，`R` 方向为 $y$ 轴正方向。因此样例解释可参考题目描述第三段。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CTSC2002] 丹奇方块【征集 SPJ】", "background": "佳佳最近被一个叫做“丹奇方块”的游戏吸引住了，但是却因为游戏太难而迟迟无法通关。", "description": "游戏在一个没有边界的棋盘上进行，中心 $(0,\\,0)$ 处有一块黑色的障碍物，不远处坐标值为奇数的 $N$ 个不同的格子中各有一个灰色方块。\n\n游戏的任务是把所有灰色方块全部粘起来组成一个给定的形状，如图一所示。该形状可以出现在棋盘上的任何位置，但不能旋转或者对称。图二描述了一个合法的初始状态，其中在坐标 $(-1,\\,-1),\\,(1,\\,-1),\\,(1,\\,1)$ 处各有一个灰色方块。\n\n游戏者每次可以用上（`U`）下（`D`）左（`L`）右（`R`）四种移动指令之一让所有的灰色方块同时往一个指定的方向移动一格。如果其中一个方块前方有障碍物，只有该方块便不能移动，其他方块仍然照常移动。例如，从图二的状态使用了指令 `LLUR` 后将形成图三所示的布局。一旦出现图三这样有两个或多个方块相邻的情况，这些相邻的方块会立刻粘在一起形成一块无法分离的整体，使得在今后的移动中，只要其中任意一个方块运动前方有障碍，即使其他方块并未被挡住，这个整体也无法移动。这样，在图三的状态使用指令 `URD` 后形成图四。由于图四中的灰色方块正好组成了该形状，游戏胜利结束。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sogsabll.png)\n\n这个游戏看起来简单，但方块数目多，目标形状又很复杂的时候游戏者往往需要很多步才能完成。佳佳希望找到一个不超过 $2000$ 步的解决方案，你能帮帮他吗？", "inputFormat": "第一行包含一个整数 $N$，即方块个数。\n\n第二行包含 $N$ 个整数对 $x_i,\\,y_i$ 其中第 $i$ 个整数对代表第 $i$ 个方块的初始位置。位置按照从上到下（即 $x$ 递增）从左到右（即 $y$ 递增）的顺序排列。\n\n第三行包含 $N$ 个整数对 $P_{x_i},\\,P_{y_i}$，代表目标形状中各小方块的相对位置。目标方块保证是一个连在一起的整体，且数据总是有解的。", "outputFormat": "第一行为需要的步数 $S$，第二行为所求移动序列。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$3 \\leq N \\leq 20$，$-9 \\leq x_i,\\,y_i \\leq 9$ 且 $x_i,\\,y_i$ 为奇数，$1 \\leq P_{x_i},\\,P_{y_i} \\leq N$。\n\n#### 样例解释\n\n参考输入格式，本题中 `D` 方向为 $x$ 轴正方向，`R` 方向为 $y$ 轴正方向。因此样例解释可参考题目描述第三段。", "locale": "zh-CN"}}}
{"pid": "P7368", "type": "P", "difficulty": 5, "samples": [["3 4\n1 1\n1 3\n2 2\n3 2\n\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2005", "USACO", "网络流", "二分图"], "title": "[USACO05NOV] Asteroids G", "background": "", "description": "贝茜想在 $N\\times N$ 的网格中驾驶她的宇宙飞船。网格中有 $K$ 个小行星。要使驾驶过程愉快，就必须把这些小行星全部消除。\n\n贝茜有一个武器，可以以一个单位代价消除一行或一列的全部小行星。贝茜想问你，要把所有小行星都消除的最小代价是多少。", "inputFormat": "第一行两个整数 $N,K$。\n\n接下来 $K$ 行，每行输入 $x_i,y_i$，表示第 $i$ 个小行星在网格的坐标。", "outputFormat": "一行一个整数，表示把所有小行星消除的最小代价。", "hint": "#### 样例解释：\n\n样例的图为（`X` 为小行星）：\n\n```text\nX.X\n.X.\n.X.\n```\n\n贝茜可以分别消除第一行和第二列的小行星。\n\n---\n\n#### 数据范围：\n\n对于 $100\\%$ 的数据，$1 \\leq N \\leq 500$，$1 \\leq K \\leq N \\times N$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO05NOV] Asteroids G", "background": "", "description": "贝茜想在 $N\\times N$ 的网格中驾驶她的宇宙飞船。网格中有 $K$ 个小行星。要使驾驶过程愉快，就必须把这些小行星全部消除。\n\n贝茜有一个武器，可以以一个单位代价消除一行或一列的全部小行星。贝茜想问你，要把所有小行星都消除的最小代价是多少。", "inputFormat": "第一行两个整数 $N,K$。\n\n接下来 $K$ 行，每行输入 $x_i,y_i$，表示第 $i$ 个小行星在网格的坐标。", "outputFormat": "一行一个整数，表示把所有小行星消除的最小代价。", "hint": "#### 样例解释：\n\n样例的图为（`X` 为小行星）：\n\n```text\nX.X\n.X.\n.X.\n```\n\n贝茜可以分别消除第一行和第二列的小行星。\n\n---\n\n#### 数据范围：\n\n对于 $100\\%$ 的数据，$1 \\leq N \\leq 500$，$1 \\leq K \\leq N \\times N$。", "locale": "zh-CN"}}}
{"pid": "P7369", "type": "P", "difficulty": 1, "samples": [["A\n3\nB A\nC B\nD A", "C\n3"], ["N\n5\nD A\nN B\nB A\nC D\nF A", "N\n1"], ["X\n4\nA X\nB X\nX A\nD A", "X\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #4] Elder", "background": "", "description": "Nikola 在一周内看完八部哈利波特电影之后，体会到了老魔杖的威力之大。如果老魔杖目前效忠于巫师 A，而巫师 A 被巫师 B 击败，则老魔杖会开始效忠于巫师 B。\n\n现在若干位巫师将进行 $N$ 次决斗。已知老魔杖最初效忠的巫师和 $N$ 次决斗的结果，求：\n\n1. 在 $N$ 次决斗之后，老魔杖效忠的对象。\n2. 老魔杖曾经效忠于几位巫师？", "inputFormat": "第一行输入一个大写字母，表示老魔杖最初效忠的巫师。\n\n第二行输入整数 $N$，表示决斗的次数。\n\n接下来的 $N$ 行中的第 $i$ 行，输入两个用空格分开的大写字母 $Z_1$ 和 $Z_2$，表示第 $i$ 次决斗，巫师 $Z_1$ 击败了巫师 $Z_2$。", "outputFormat": "第一行输出一个大写字母，表示问题 1 的答案。\n\n第二行输出一个整数，表示问题 2 的答案。", "hint": "#### 样例 1 解释\n\n老魔杖最初效忠于巫师 A。第一次决斗之后，老魔杖开始效忠于 B。第二次决斗之后，老魔杖开始效忠于 C。此后的第三次对老魔杖的效忠对象无影响。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 100$。\n\n#### 评分方式\n\n每组数据第一行计 $2$ 分，第二行计 $3$ 分，每组数据共 $5$ 分。如果只想获得其中一行的分数，也请在另一行随意输出一个数，否则将无法正常评判。\n\n评分所需要借助的 Special Judge 详见附件。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $50$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T1 Elder_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #4] Elder", "background": "", "description": "Nikola 在一周内看完八部哈利波特电影之后，体会到了老魔杖的威力之大。如果老魔杖目前效忠于巫师 A，而巫师 A 被巫师 B 击败，则老魔杖会开始效忠于巫师 B。\n\n现在若干位巫师将进行 $N$ 次决斗。已知老魔杖最初效忠的巫师和 $N$ 次决斗的结果，求：\n\n1. 在 $N$ 次决斗之后，老魔杖效忠的对象。\n2. 老魔杖曾经效忠于几位巫师？", "inputFormat": "第一行输入一个大写字母，表示老魔杖最初效忠的巫师。\n\n第二行输入整数 $N$，表示决斗的次数。\n\n接下来的 $N$ 行中的第 $i$ 行，输入两个用空格分开的大写字母 $Z_1$ 和 $Z_2$，表示第 $i$ 次决斗，巫师 $Z_1$ 击败了巫师 $Z_2$。", "outputFormat": "第一行输出一个大写字母，表示问题 1 的答案。\n\n第二行输出一个整数，表示问题 2 的答案。", "hint": "#### 样例 1 解释\n\n老魔杖最初效忠于巫师 A。第一次决斗之后，老魔杖开始效忠于 B。第二次决斗之后，老魔杖开始效忠于 C。此后的第三次对老魔杖的效忠对象无影响。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 100$。\n\n#### 评分方式\n\n每组数据第一行计 $2$ 分，第二行计 $3$ 分，每组数据共 $5$ 分。如果只想获得其中一行的分数，也请在另一行随意输出一个数，否则将无法正常评判。\n\n评分所需要借助的 Special Judge 详见附件。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $50$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T1 Elder_。**", "locale": "zh-CN"}}}
{"pid": "P7370", "type": "P", "difficulty": 3, "samples": [["3 2\n2 3\n3 1", "011"], ["2 2\n2 1\n1 2", "11"], ["5 5\n3 1\n2 1\n4 3\n4 5\n2 5", "01110"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #4] Wand", "background": "Kile 看到了 Nikola 的题目之后有了灵感，便创作出了自己的版本。", "description": "$N$ 位分别用 $1,2,\\cdots,N$ 表示的巫师将参与 $M$ 次决斗。\n\n现有一个魔杖。如果魔杖目前归属于巫师 A，而巫师 A 被巫师 B 击败，则魔杖将归属于巫师 B。魔杖最初归属于巫师 $1$。\n\nKile 想知道，在只调整决斗的顺序的条件之下，魔杖最终可能会归属于谁。", "inputFormat": "第一行输入正整数 $N,M$。\n\n接下来的 $M$ 行输入正整数 $X_i,Y_i$，表示巫师 $X_i$ 将击败巫师 $Y_i$。", "outputFormat": "输出 $N$ 个字符，其中若魔杖最终可能归属于巫师 $k$，则在第 $k$ 个字符处输出 $1$，否则在此处输出 $0$。", "hint": "#### 样例 1 解释\n\n如果巫师 $1,3$ 先进行决斗，然后轮到巫师 $2,3$，魔杖将最终归属于巫师 $2$。\n\n如果巫师 $2,3$ 先进行决斗，然后轮到巫师 $1,3$，魔杖将最终归属于巫师 $3$。\n\n#### 数据规模与约定\n\n对于 $20\\%$ 的数据，$1 \\le N,M \\le 10$。\n\n对于 $100\\%$ 的数据，$1 \\le N,M \\le 10^5$，$1 \\le X_i,Y_i \\le N$，$X_i \\neq Y_i$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T2 Wand_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #4] Wand", "background": "Kile 看到了 Nikola 的题目之后有了灵感，便创作出了自己的版本。", "description": "$N$ 位分别用 $1,2,\\cdots,N$ 表示的巫师将参与 $M$ 次决斗。\n\n现有一个魔杖。如果魔杖目前归属于巫师 A，而巫师 A 被巫师 B 击败，则魔杖将归属于巫师 B。魔杖最初归属于巫师 $1$。\n\nKile 想知道，在只调整决斗的顺序的条件之下，魔杖最终可能会归属于谁。", "inputFormat": "第一行输入正整数 $N,M$。\n\n接下来的 $M$ 行输入正整数 $X_i,Y_i$，表示巫师 $X_i$ 将击败巫师 $Y_i$。", "outputFormat": "输出 $N$ 个字符，其中若魔杖最终可能归属于巫师 $k$，则在第 $k$ 个字符处输出 $1$，否则在此处输出 $0$。", "hint": "#### 样例 1 解释\n\n如果巫师 $1,3$ 先进行决斗，然后轮到巫师 $2,3$，魔杖将最终归属于巫师 $2$。\n\n如果巫师 $2,3$ 先进行决斗，然后轮到巫师 $1,3$，魔杖将最终归属于巫师 $3$。\n\n#### 数据规模与约定\n\n对于 $20\\%$ 的数据，$1 \\le N,M \\le 10$。\n\n对于 $100\\%$ 的数据，$1 \\le N,M \\le 10^5$，$1 \\le X_i,Y_i \\le N$，$X_i \\neq Y_i$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T2 Wand_。**", "locale": "zh-CN"}}}
{"pid": "P7371", "type": "P", "difficulty": 4, "samples": [["4 3\n2 3\n2 2\n1 4\n3 2", "20"], ["3 3\n1 1\n3 3\n2 2", "18"], ["4 1\n6 4\n4 5\n19 1\n3 6", "18"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2018", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #4] Kisik", "background": "", "description": "CAIN 组织决定建立为 $K$ 个家庭在火星上一个新的小镇，因此将建立 $K$ 幢楼房，每家一幢。对于每个家庭，CAIN 提供了 $N$ 种不同的楼房设计可供选择。\n\n楼房都互相紧挨着，以便让它们底部在同一直线上。在建设之后，城市需要进行充气，并让其保存在一个玻璃墙内。玻璃墙只能围住一片矩形区域，因此充气的范围也是一个矩形区域。\n\n求出所需最少的充气量。", "inputFormat": "第一行输入整数 $N,K$。\n\n接下来的 $N$ 行，每行输入整数 $W_i,H_i$，表示第 $i$ 幢楼房的宽度和高度。保证无重复的 $(W_i,H_i)$。", "outputFormat": "输出所需最少的充气量。", "hint": "#### 样例 1 解释\n\n该方案只需 $20$ 个单位的充气量，为最少充气量：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g4z8niml.png)\n\n#### 数据规模与约定\n\n对于 $40$ 分的数据，$N \\le 1000$。\n\n对于 $100\\%$ 的数据，$1 \\le K \\le N \\le 10^6$，$1 \\le W_i,H_i \\le 10^6$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $90$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T3 Kisik_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #4] Kisik", "background": "", "description": "CAIN 组织决定建立为 $K$ 个家庭在火星上一个新的小镇，因此将建立 $K$ 幢楼房，每家一幢。对于每个家庭，CAIN 提供了 $N$ 种不同的楼房设计可供选择。\n\n楼房都互相紧挨着，以便让它们底部在同一直线上。在建设之后，城市需要进行充气，并让其保存在一个玻璃墙内。玻璃墙只能围住一片矩形区域，因此充气的范围也是一个矩形区域。\n\n求出所需最少的充气量。", "inputFormat": "第一行输入整数 $N,K$。\n\n接下来的 $N$ 行，每行输入整数 $W_i,H_i$，表示第 $i$ 幢楼房的宽度和高度。保证无重复的 $(W_i,H_i)$。", "outputFormat": "输出所需最少的充气量。", "hint": "#### 样例 1 解释\n\n该方案只需 $20$ 个单位的充气量，为最少充气量：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g4z8niml.png)\n\n#### 数据规模与约定\n\n对于 $40$ 分的数据，$N \\le 1000$。\n\n对于 $100\\%$ 的数据，$1 \\le K \\le N \\le 10^6$，$1 \\le W_i,H_i \\le 10^6$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $90$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T3 Kisik_。**", "locale": "zh-CN"}}}
{"pid": "P7372", "type": "P", "difficulty": 7, "samples": [["2 3 2", "5\nR 1 1\nR 1 1\nT 1 1\nT 1 1\nT 1 1"], ["3 3 12", "3\nR 1 1\nT 2 2\nT 2 1"], ["5 4 116", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #4] Slagalica", "background": "", "description": "Jurica 创造了一个谜图游戏，它是一个 $N$ 行 $M$ 列的平行四边形，由若干个结点组成。\n\n谜图中，行从 $1$ 到 $N$，顺序为从下到上；列从 $1$ 到 $M$，顺序为从左到右。每个结点用 $(x,y)$ 表示，其中 $x,y$ 分别为行和列。每个结点有一个在 $[1,N \\times M]$ 内的唯一的整数权值。\n\n当谜图的第 $i$ 行从左到右的结点的权值分别为 $M(i-1)+1 \\sim Mi$ 时，谜图就被认为是解开了。\n\n当 $N=3,M=4$ 时，谜图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9u5ys36s.png)\n\n谜图中可以进行两种操作：\n\n1. 选取单位大小的菱形，其中包含结点 $(x,y),(x+1,y),(x+1,y+1),(x,y+1)$，并将其顺时针旋转。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3xeumpya.png)\n\n2. 选取单位大小的等边三角形，其中包含结点 $(x,y),(x+1,y),(x,y+1)$，并将其顺时针旋转。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jntexc3i.png)\n\nJurica 进行了若干次操作，将其称为一个大操作。并将该大操作（即一系列操作）重复进行了若干次，竟然将谜图解开了。\n\n给定谜图的规模和大操作重复次数 $K$，判断是否有一种大操作，从解开的谜题开始，使得在 $K$ 次重复该大操作之后，首次再回到解开的状态。如果能解开，请输出组成大操作的操作。", "inputFormat": "输入整数 $N,M,K$。", "outputFormat": "如果没有符合题意的大操作，则输出 `-1`。\n\n否则，输出任意一种符合题意的大操作，Special Judge 见附件。\n\n若有符合题意的大操作，则在第一行输出大操作的操作次数 $B$，并在接下来的 $B$ 行以下方格式输出：\n\n- $\\texttt{R x y}$，表示调用操作 1；\n- $\\texttt{T x y}$，表示调用操作 2；\n\n其中输出的 $x,y$ 为对应操作选定的坐标 $(x,y)$。\n\n输出必须满足 $1 \\le B \\le 5 \\times 10^5$，$1 \\le X \\lt N$，$1 \\le y \\lt M$。", "hint": "#### 数据规模与约定\n\n对于 $40\\%$ 的数据，$N,M \\le 3$，$K \\le 20$。\n\n对于 $100\\%$ 的数据，$2 \\le N,M \\le 100$，$2 \\le K \\le 10^{12}$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T4 Slagalica_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #4] Slagalica", "background": "", "description": "Jurica 创造了一个谜图游戏，它是一个 $N$ 行 $M$ 列的平行四边形，由若干个结点组成。\n\n谜图中，行从 $1$ 到 $N$，顺序为从下到上；列从 $1$ 到 $M$，顺序为从左到右。每个结点用 $(x,y)$ 表示，其中 $x,y$ 分别为行和列。每个结点有一个在 $[1,N \\times M]$ 内的唯一的整数权值。\n\n当谜图的第 $i$ 行从左到右的结点的权值分别为 $M(i-1)+1 \\sim Mi$ 时，谜图就被认为是解开了。\n\n当 $N=3,M=4$ 时，谜图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9u5ys36s.png)\n\n谜图中可以进行两种操作：\n\n1. 选取单位大小的菱形，其中包含结点 $(x,y),(x+1,y),(x+1,y+1),(x,y+1)$，并将其顺时针旋转。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3xeumpya.png)\n\n2. 选取单位大小的等边三角形，其中包含结点 $(x,y),(x+1,y),(x,y+1)$，并将其顺时针旋转。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jntexc3i.png)\n\nJurica 进行了若干次操作，将其称为一个大操作。并将该大操作（即一系列操作）重复进行了若干次，竟然将谜图解开了。\n\n给定谜图的规模和大操作重复次数 $K$，判断是否有一种大操作，从解开的谜题开始，使得在 $K$ 次重复该大操作之后，首次再回到解开的状态。如果能解开，请输出组成大操作的操作。", "inputFormat": "输入整数 $N,M,K$。", "outputFormat": "如果没有符合题意的大操作，则输出 `-1`。\n\n否则，输出任意一种符合题意的大操作，Special Judge 见附件。\n\n若有符合题意的大操作，则在第一行输出大操作的操作次数 $B$，并在接下来的 $B$ 行以下方格式输出：\n\n- $\\texttt{R x y}$，表示调用操作 1；\n- $\\texttt{T x y}$，表示调用操作 2；\n\n其中输出的 $x,y$ 为对应操作选定的坐标 $(x,y)$。\n\n输出必须满足 $1 \\le B \\le 5 \\times 10^5$，$1 \\le X \\lt N$，$1 \\le y \\lt M$。", "hint": "#### 数据规模与约定\n\n对于 $40\\%$ 的数据，$N,M \\le 3$，$K \\le 20$。\n\n对于 $100\\%$ 的数据，$2 \\le N,M \\le 100$，$2 \\le K \\le 10^{12}$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #4](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)  _T4 Slagalica_。**", "locale": "zh-CN"}}}
{"pid": "P7374", "type": "P", "difficulty": 2, "samples": [["8\n00:00:01,600 --> 00:00:04,200\nWe thought you was...\n\n9\n00:00:05,900 --> 00:00:07,999\na toad.\n#\n300", "8\n00:00:01,900 --> 00:00:04,500\nWe thought you was...\n\n9\n00:00:06,200 --> 00:00:08,299\na toad.\n#"], ["624\n00:43:30,566 --> 00:43:32,108\nHowdy do, ladies?\n\n625\n00:43:32,276 --> 00:43:33,943\nName of Pete.\n\n626\n00:43:47,124 --> 00:43:48,082\nAin't you gonna\nintroduce us, Pete?\n#\n-500", "624\n00:43:30,066 --> 00:43:31,608\nHowdy do, ladies?\n\n625\n00:43:31,776 --> 00:43:33,443\nName of Pete.\n\n626\n00:43:46,624 --> 00:43:47,582\nAin't you gonna\nintroduce us, Pete?\n#"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #5] Titlovi", "background": "", "description": "现有一个 `.SRT` 类型的文件，其由若干段字幕组成，用来再观看时载入。每段字幕又由三部分组成：\n\n- 第一行：该字幕的编号\n- 第二行字幕开始播放时间 --> 字幕结束播放时间\n- 接下来的若干行：字幕内容\n\n下面是一段字幕的例子：\n\n```plain\n1\n00:00:01,600 --> 00:00:04,200\nGood day!\n\n2\n00:00:05,900 --> 00:00:07,999\nGood day to you too!\nHere you go!\n\n3\n00:00:10,000 --> 00:00:14,000\nMay I please have ten garlic sausages?\n```\n\n时间均以 `HH:MM:SS,TTT` 格式给出，分别表示小时、分钟、秒和毫秒。规定 $1$ 秒 $=1000$ 毫秒。 \n\n有时观看时会出现时间上的差异，因此在载入字幕时需要将所有字幕调快 / 调慢一个特定的时间，并输出调整后的 `.SRT` 文件。", "inputFormat": "输入不超过 $100$ 行，表示 `.SRT` 类型文件的内容。\n\n每一段字幕的第一行，输入字幕编号。对于字幕编号，若第一段的编号为 $X$，则第 $i$ 段的必定为 $X+i-1$。\n\n每一段字幕之间用一个空行隔开。字幕内容包含英文字母、空格和字符 `,.?!.` 等。\n\n最后一段字幕的最后一行之后的一行，将包含一个字符 `#`，表示字幕部分结束。\n\n接下来的一行 / 输入的最后一行，输入整数 $T$，表示需要调整的时间。如果 $T \\ge 0$，则表示要将字幕时间向后调整 $T$ 毫秒。否则，表示要将字幕时间向前调整 $-T$ 毫秒。", "outputFormat": "输出调整时间后的 `.SRT` 文件。", "hint": "#### 数据规模与规定\n\n对于 $100\\%$ 的数据，$-10^4 \\le T \\le 10^4$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $50$。**\n\n注：经测试，官方输入文件中可能含有 `\\r` 等 Windows 下产生的字符。请大家在处理的过程中留意！\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T1 Titlovi_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #5] Titlovi", "background": "", "description": "现有一个 `.SRT` 类型的文件，其由若干段字幕组成，用来再观看时载入。每段字幕又由三部分组成：\n\n- 第一行：该字幕的编号\n- 第二行字幕开始播放时间 --> 字幕结束播放时间\n- 接下来的若干行：字幕内容\n\n下面是一段字幕的例子：\n\n```plain\n1\n00:00:01,600 --> 00:00:04,200\nGood day!\n\n2\n00:00:05,900 --> 00:00:07,999\nGood day to you too!\nHere you go!\n\n3\n00:00:10,000 --> 00:00:14,000\nMay I please have ten garlic sausages?\n```\n\n时间均以 `HH:MM:SS,TTT` 格式给出，分别表示小时、分钟、秒和毫秒。规定 $1$ 秒 $=1000$ 毫秒。 \n\n有时观看时会出现时间上的差异，因此在载入字幕时需要将所有字幕调快 / 调慢一个特定的时间，并输出调整后的 `.SRT` 文件。", "inputFormat": "输入不超过 $100$ 行，表示 `.SRT` 类型文件的内容。\n\n每一段字幕的第一行，输入字幕编号。对于字幕编号，若第一段的编号为 $X$，则第 $i$ 段的必定为 $X+i-1$。\n\n每一段字幕之间用一个空行隔开。字幕内容包含英文字母、空格和字符 `,.?!.` 等。\n\n最后一段字幕的最后一行之后的一行，将包含一个字符 `#`，表示字幕部分结束。\n\n接下来的一行 / 输入的最后一行，输入整数 $T$，表示需要调整的时间。如果 $T \\ge 0$，则表示要将字幕时间向后调整 $T$ 毫秒。否则，表示要将字幕时间向前调整 $-T$ 毫秒。", "outputFormat": "输出调整时间后的 `.SRT` 文件。", "hint": "#### 数据规模与规定\n\n对于 $100\\%$ 的数据，$-10^4 \\le T \\le 10^4$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $50$。**\n\n注：经测试，官方输入文件中可能含有 `\\r` 等 Windows 下产生的字符。请大家在处理的过程中留意！\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T1 Titlovi_。**", "locale": "zh-CN"}}}
{"pid": "P7375", "type": "P", "difficulty": 3, "samples": [["1\n1\n2", "1"], ["2\n0 0\n1 1", "2"], ["2\n1 2\n5 5", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #5] Jarvis", "background": "", "description": "Ivan 拥有 $N$ 架无人机，每架无人机均有一个出厂属性值和一个出战需求属性值。他可以选定一个整数 $X$（$X$ 不一定为正整数），将所有无人机在出厂属性值的基础上加上 $X$。\n\n求能够出战（即属性值与出战需求属性值相等）的无人机的最大数量。", "inputFormat": "第一行输入整数 $N$，表示无人机的数量。\n\n第二行输入 $N$ 个整数 $A_i$，表示无人机的出厂属性值。\n\n第三行输入 $N$ 个整数 $B_i$，表示无人机的出战需求属性值。", "outputFormat": "输出能够出战的无人机的最大数量。", "hint": "#### 样例 3 解释\n\n若选定 $X=3$，则属性值分别变为 $1+3=4$ 和 $2+3=5$，则只有第二架可以出战。若 $X=4$，则属性值分别 $5$ 和 $6$，则只有第一架可以出战。可以证明，没有能够使得两架都能出战的整数 $X$。\n\n#### 数据规模与规定\n\n对于 $40\\%$ 的数据，$-10 \\le A_i,B_i \\le 10$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$-10^6 \\le A_i,B_i \\le 10^6$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T2 Jarvis_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #5] Jarvis", "background": "", "description": "Ivan 拥有 $N$ 架无人机，每架无人机均有一个出厂属性值和一个出战需求属性值。他可以选定一个整数 $X$（$X$ 不一定为正整数），将所有无人机在出厂属性值的基础上加上 $X$。\n\n求能够出战（即属性值与出战需求属性值相等）的无人机的最大数量。", "inputFormat": "第一行输入整数 $N$，表示无人机的数量。\n\n第二行输入 $N$ 个整数 $A_i$，表示无人机的出厂属性值。\n\n第三行输入 $N$ 个整数 $B_i$，表示无人机的出战需求属性值。", "outputFormat": "输出能够出战的无人机的最大数量。", "hint": "#### 样例 3 解释\n\n若选定 $X=3$，则属性值分别变为 $1+3=4$ 和 $2+3=5$，则只有第二架可以出战。若 $X=4$，则属性值分别 $5$ 和 $6$，则只有第一架可以出战。可以证明，没有能够使得两架都能出战的整数 $X$。\n\n#### 数据规模与规定\n\n对于 $40\\%$ 的数据，$-10 \\le A_i,B_i \\le 10$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$-10^6 \\le A_i,B_i \\le 10^6$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T2 Jarvis_。**", "locale": "zh-CN"}}}
{"pid": "P7376", "type": "P", "difficulty": 3, "samples": [["4 2\nabcd\nacbd\nenaa\nmoze", "DA"], ["2 2\naa\naa", "DA"], ["3 2\nnec\nuuc\niti", "NE"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #5] Ispit", "background": null, "description": "给定一个 $N$ 行 $N$ 列由小写字母组成的矩阵和整数 $K$。是否有连续的 $K$ 列，使得这 $K$ 列中每一行在行内进行重组（即只能交换同行的字母）后，能够使原矩阵有两行完全相同？", "inputFormat": "第一行输入整数 $N,K$。\n\n接下来的 $N$ 行，每行输入 $N$ 个字符，表示原来的字母矩阵。", "outputFormat": "如果有符合题意的方案，则输出 `DA`，否则输出 `NE`。", "hint": "#### 样例 1 解释\n\n选定第 $2,3$ 列，并将第 $2,3,4$ 行中的这两列的字母进行交换，得到新矩阵：\n\n```plain\nabcd\nabcd\neana\nmzoe\n```\n\n这时，第 $1,2$ 行完全相同，因此满足题意。\n\n#### 数据规模与约定\n\n对于所有数据，输入的矩阵保证由小写字母组成。\n\n对于 $30\\%$ 的数据，$N \\le 10$。\n\n对于另外 $40\\%$ 的数据，$N \\le 200$。\n\n对于 $100\\%$ 的数据，$2 \\le K \\le N \\le 500$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $90$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T3 Ispit_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #5] Ispit", "background": null, "description": "给定一个 $N$ 行 $N$ 列由小写字母组成的矩阵和整数 $K$。是否有连续的 $K$ 列，使得这 $K$ 列中每一行在行内进行重组（即只能交换同行的字母）后，能够使原矩阵有两行完全相同？", "inputFormat": "第一行输入整数 $N,K$。\n\n接下来的 $N$ 行，每行输入 $N$ 个字符，表示原来的字母矩阵。", "outputFormat": "如果有符合题意的方案，则输出 `DA`，否则输出 `NE`。", "hint": "#### 样例 1 解释\n\n选定第 $2,3$ 列，并将第 $2,3,4$ 行中的这两列的字母进行交换，得到新矩阵：\n\n```plain\nabcd\nabcd\neana\nmzoe\n```\n\n这时，第 $1,2$ 行完全相同，因此满足题意。\n\n#### 数据规模与约定\n\n对于所有数据，输入的矩阵保证由小写字母组成。\n\n对于 $30\\%$ 的数据，$N \\le 10$。\n\n对于另外 $40\\%$ 的数据，$N \\le 200$。\n\n对于 $100\\%$ 的数据，$2 \\le K \\le N \\le 500$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $90$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T3 Ispit_。**", "locale": "zh-CN"}}}
{"pid": "P7377", "type": "P", "difficulty": 5, "samples": [["3 3\n??b\nc??\nc?c", "2"], ["4 6\nab??c?\n??kll?\na?k??c\n?bcd??", "3"], ["5 2\n??\nb?\nc?\n?g\ncg", "8"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "COCI（克罗地亚）"], "title": "[COCI 2018/2019 #5] Parametriziran", "background": "", "description": "我们规定一个包含小写字母和问号的字符串为一个**参数化单词**。例如，`a??cd`，`bcd`，`??` 都属于参数化单词。\n\n如果两个参数化单词中，可以用特定的小写字母将其中的问号进行替换，并最终使得两个单词完全相同，那么原来的两个参数化单词就被称为是相似的。例如，`a???` 和 `?b?a` 都可以替换为 `abba`，因此 `a???` 和 `?b?a` 是相似的。\n\n给定 $N$ 个长度为 $M$ 的参数化单词，求有多少对相似的参数化单词。", "inputFormat": "第一行输入整数 $N,M$。\n\n接下来的 $N$ 行，每行输入一个长度为 $M$ 的参数化单词。", "outputFormat": "输出相似的参数化单词的对数。", "hint": "#### 样例 1 解释\n\n`??b` 和 `c??` 是相似的，而 `c??` 和 `c?c` 也是相似的。因此共有 $2$ 对相似的参数化单词。\n\n#### 数据规模与约定\n\n对于 $30\\%$ 的数据，$M \\le 2$。\n\n对于另外 $30\\%$ 的数据，$M \\le 4$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 5 \\times 10^4$，$1 \\le M \\le 6$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T4 Parametriziran_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2018/2019 #5] Parametriziran", "background": "", "description": "我们规定一个包含小写字母和问号的字符串为一个**参数化单词**。例如，`a??cd`，`bcd`，`??` 都属于参数化单词。\n\n如果两个参数化单词中，可以用特定的小写字母将其中的问号进行替换，并最终使得两个单词完全相同，那么原来的两个参数化单词就被称为是相似的。例如，`a???` 和 `?b?a` 都可以替换为 `abba`，因此 `a???` 和 `?b?a` 是相似的。\n\n给定 $N$ 个长度为 $M$ 的参数化单词，求有多少对相似的参数化单词。", "inputFormat": "第一行输入整数 $N,M$。\n\n接下来的 $N$ 行，每行输入一个长度为 $M$ 的参数化单词。", "outputFormat": "输出相似的参数化单词的对数。", "hint": "#### 样例 1 解释\n\n`??b` 和 `c??` 是相似的，而 `c??` 和 `c?c` 也是相似的。因此共有 $2$ 对相似的参数化单词。\n\n#### 数据规模与约定\n\n对于 $30\\%$ 的数据，$M \\le 2$。\n\n对于另外 $30\\%$ 的数据，$M \\le 4$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 5 \\times 10^4$，$1 \\le M \\le 6$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2018-2019](https://hsin.hr/coci/archive/2018_2019/) [CONTEST #5](https://hsin.hr/coci/archive/2018_2019/contest5_tasks.pdf)  _T4 Parametriziran_。**", "locale": "zh-CN"}}}
