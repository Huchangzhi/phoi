{"pid": "P6219", "type": "P", "difficulty": 7, "samples": [["0", "6 6\n1 4\n1 5\n4 3\n5 3\n3 2\n2 6"], ["1", "1 0"], ["2", "6 8\n1 2\n1 3\n1 4\n1 5\n5 4\n2 6\n3 6\n4 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2019", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #6] Konstrukcija", "background": "题目翻译来自 [LOJ3268](https://loj.ac/problem/3268)。", "description": "**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T3.** ***[Konstrukcija](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\n\n令 $G$ 为一个有向无环图。若 $G$ 的不同顶点 $c_1,c_2,c_3,\\ldots c_n$ 满足有一条从 $c_1$ 到 $c_2$ 的路径，有一条从 $c_2$ 到 $c_3$ 的路径，……还有一条从 $c_{n-1}$ 到 $c_n$ 的路径，则称数组 $C = (c_1,c_2,c_3,\\ldots c_n)$ 为一个从 $c_1$ 开始，在 $c_n$ 结束的有序数组。  \n注意对于 $C$ 中任意的两个相邻的元素 $c_i,c_{i+1}$ 不必有直接连接的边，只需要有一条路径即可。\n\n同时，我们定义有序数组 $C = (c_1,c_2,c_3,\\ldots c_n)$ 的长度 $\\mathrm{len}(C) = n$。因此，一个有序数组的长度即为其中包含的顶点个数。  \n注意可以存在一个长度为 $1$，从同一个点开始并结束的有序数组。\n\n并且，我们再定义有序数组 $C = (c_1,c_2,c_3,\\ldots c_n)$ 的符号 $\\mathrm{sgn}(C) = (-1)^{\\mathrm{len}(C)+1}$。  \n对于 $G$ 中的顶点 $x,y$，我们用 $S_{x,y}$ 表示所有从 $x$ 开始并在 $y$ 结束的有序数组的集合。\n\n最后，我们定义顶点 $x,y$ 之间的矛盾值为 $\\mathrm{tns}(x,y) = \\sum\\limits_{C \\in S_{x,y}} \\mathrm{sgn}(C)$。  \n也就是说，顶点 $x,y$ 之间的矛盾值等于所有从 $x$ 开始并在 $y$ 结束的有序数组的符号之和。\n\n给定一个整数 $K$，你需要构造一个最多 $1000$ 个点，$1000$ 条边的有向无环图满足 $\\mathrm{tns}(1,N) = K$，其中 $N$ 为顶点个数。  \n顶点以正整数 $1\\ldots N$ 编号。", "inputFormat": "第一行，一个整数 $K$。", "outputFormat": "第一行，两个整数 $N,M$ 表示你构造出的有向无环图的点数与边数。  \n以下 $M$ 行中，第 $i$ 行包含两个不同的整数 $X_i,Y_i$，表示第 $i$ 条边从 $X_i$ 连向 $Y_i$。每条边应最多出现一次。  \n并且，你的方案需要满足任意两点的矛盾值的绝对值不超过 $2^{80}$。  \n若有多解，随意输出一解即可。", "hint": "### 样例 1 解释\n构造出的图包含 $6$ 个顶点。从 $1$ 开始在 $6$ 结束的有序数组有：\n\n- $(1, 6)$；\n- $(1, 4, 6)$；\n- $(1, 5, 6)$；\n- $(1, 3, 6)$；\n- $(1, 2, 6)$；\n- $(1, 4, 3, 6)$；\n- $(1, 4, 2, 6)$；\n- $(1, 5, 3, 6)$；\n- $(1, 5, 2, 6)$；\n- $(1, 3, 2, 6)$；\n- $(1, 4, 3, 2, 6)$；\n- $(1, 5, 3, 2, 6)$。\n  \n它们的长度分别为 $1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4$，  \n所以它们的符号分别为 $-1, 1, 1, 1, 1,-1,-1,-1,-1,-1, 1, 1$。  \n因此，$1$ 和 $6$ 的矛盾值为 $-1 + 1 + 1 + 1 + 1 - 1 - 1 - 1 - 1 - 1 + 1 + 1 = 0$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5k7lbjtc.png)\n\n-----\n\n### 数据范围：\n\n\n对于 $100\\%$ 的数据，$|K| \\le 10^{18}$。  \n各子任务限制见下表：\n\n|子任务|分值|限制|\n|:-:|:-:|:-:|\n|$0$|$0$|为样例|\n|$1$|$13$|$1 \\le K < 500$|\n|$2$|$13$|$-300 < K \\le 1$|\n|$3$|$18$|$\\lvert K\\rvert < 10000$|\n|$4$|$56$|-|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #6] Konstrukcija", "background": "题目翻译来自 [LOJ3268](https://loj.ac/problem/3268)。", "description": "**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T3.** ***[Konstrukcija](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\n\n令 $G$ 为一个有向无环图。若 $G$ 的不同顶点 $c_1,c_2,c_3,\\ldots c_n$ 满足有一条从 $c_1$ 到 $c_2$ 的路径，有一条从 $c_2$ 到 $c_3$ 的路径，……还有一条从 $c_{n-1}$ 到 $c_n$ 的路径，则称数组 $C = (c_1,c_2,c_3,\\ldots c_n)$ 为一个从 $c_1$ 开始，在 $c_n$ 结束的有序数组。  \n注意对于 $C$ 中任意的两个相邻的元素 $c_i,c_{i+1}$ 不必有直接连接的边，只需要有一条路径即可。\n\n同时，我们定义有序数组 $C = (c_1,c_2,c_3,\\ldots c_n)$ 的长度 $\\mathrm{len}(C) = n$。因此，一个有序数组的长度即为其中包含的顶点个数。  \n注意可以存在一个长度为 $1$，从同一个点开始并结束的有序数组。\n\n并且，我们再定义有序数组 $C = (c_1,c_2,c_3,\\ldots c_n)$ 的符号 $\\mathrm{sgn}(C) = (-1)^{\\mathrm{len}(C)+1}$。  \n对于 $G$ 中的顶点 $x,y$，我们用 $S_{x,y}$ 表示所有从 $x$ 开始并在 $y$ 结束的有序数组的集合。\n\n最后，我们定义顶点 $x,y$ 之间的矛盾值为 $\\mathrm{tns}(x,y) = \\sum\\limits_{C \\in S_{x,y}} \\mathrm{sgn}(C)$。  \n也就是说，顶点 $x,y$ 之间的矛盾值等于所有从 $x$ 开始并在 $y$ 结束的有序数组的符号之和。\n\n给定一个整数 $K$，你需要构造一个最多 $1000$ 个点，$1000$ 条边的有向无环图满足 $\\mathrm{tns}(1,N) = K$，其中 $N$ 为顶点个数。  \n顶点以正整数 $1\\ldots N$ 编号。", "inputFormat": "第一行，一个整数 $K$。", "outputFormat": "第一行，两个整数 $N,M$ 表示你构造出的有向无环图的点数与边数。  \n以下 $M$ 行中，第 $i$ 行包含两个不同的整数 $X_i,Y_i$，表示第 $i$ 条边从 $X_i$ 连向 $Y_i$。每条边应最多出现一次。  \n并且，你的方案需要满足任意两点的矛盾值的绝对值不超过 $2^{80}$。  \n若有多解，随意输出一解即可。", "hint": "### 样例 1 解释\n构造出的图包含 $6$ 个顶点。从 $1$ 开始在 $6$ 结束的有序数组有：\n\n- $(1, 6)$；\n- $(1, 4, 6)$；\n- $(1, 5, 6)$；\n- $(1, 3, 6)$；\n- $(1, 2, 6)$；\n- $(1, 4, 3, 6)$；\n- $(1, 4, 2, 6)$；\n- $(1, 5, 3, 6)$；\n- $(1, 5, 2, 6)$；\n- $(1, 3, 2, 6)$；\n- $(1, 4, 3, 2, 6)$；\n- $(1, 5, 3, 2, 6)$。\n  \n它们的长度分别为 $1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4$，  \n所以它们的符号分别为 $-1, 1, 1, 1, 1,-1,-1,-1,-1,-1, 1, 1$。  \n因此，$1$ 和 $6$ 的矛盾值为 $-1 + 1 + 1 + 1 + 1 - 1 - 1 - 1 - 1 - 1 + 1 + 1 = 0$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5k7lbjtc.png)\n\n-----\n\n### 数据范围：\n\n\n对于 $100\\%$ 的数据，$|K| \\le 10^{18}$。  \n各子任务限制见下表：\n\n|子任务|分值|限制|\n|:-:|:-:|:-:|\n|$0$|$0$|为样例|\n|$1$|$13$|$1 \\le K < 500$|\n|$2$|$13$|$-300 < K \\le 1$|\n|$3$|$18$|$\\lvert K\\rvert < 10000$|\n|$4$|$56$|-|", "locale": "zh-CN"}}}
{"pid": "P6220", "type": "P", "difficulty": 6, "samples": [["4 5\n11111\n10000\n10000\n10000", "3\n2 1 DESNO\n3 1 DESNO\n4 1 DESNO"], ["6 4\n1111\n1011\n1000\n1011\n1010\n1000", "4\n1 2 DOLJE\n4 4 DOLJE\n5 3 DOLJE\n3 1 DESNO"], ["9 8\n11111111\n10000000\n10001000\n10010001\n11100001\n10100110\n10001000\n10100001\n10010001", "14\n5 2 DOLJE\n5 8 DOLJE\n8 3 DOLJE\n2 1 DESNO\n3 1 DESNO\n3 5 DESNO\n4 1 DESNO\n4 4 DESNO\n5 3 DESNO\n6 3 DESNO\n7 1 DESNO\n7 5 DESNO\n8 3 DESNO\n9 4 DESNO"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2019", "网络流", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #6] Skandi", "background": "题目翻译来自 [LOJ3269](https://loj.ac/problem/3269) 。\n\n\n**由于洛谷评测机原因，数据有删改。**", "description": "**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T4.** ***[Skandi](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\n\nDragica 不仅是当地的一个半专业保龄球队的队长，还是一位充满激情的厨师。除此之外，他还是克罗地亚数一数二的填字游戏（crossword）玩家。填字游戏是一个在 $N\\times M$ 的网格上游玩的游戏。在游戏开始前，部分格子已经填上了字母，作为至多两题的起点，而玩家需要根据给出的提示以水平向右或竖直向下的方向在剩下的格子填上答案。在这里，一题的答案定义为从该题起点沿提示指定方向直至网格边界或另一题起点之前的部分。如果一题的起点右边一格是空的，则该题在水平方向上存在一题；类似的，如果一题的下面一格是空的，则该题在竖直方向上存在一题。\n\nDragica 当然知道答案啦，但他有点鸽，想让你帮他找出完成某个填字游戏最少回答的题目数。", "inputFormat": "第一行两个空格分隔的整数 $N,~M$，含意见题目描述。\n\n接下来 $N$ 行每行 $M$ 个字符 `0` 或 `1`，其中 `0` 表示这是个待填充答案的空格，而 `1` 表示该格已填有字符，是至多两题的起点。保证输入存在至少一个 `0` ，且第一行和第一列均为 `1`。", "outputFormat": "第一行输出完成该次填字游戏的最小答案数 $X$。\n\n接下来 $X$ 行每行以 `r c dir` 的格式回答一个问题，其中 `r` 表示题目的行号，`c` 表示题目的列号，`dir` 为 `DESNO` （克罗地亚语中的右）和 `DOLJE` （克罗地亚语中的下）之一，表示 Dragica 回答问题的方向。\n\n如果有多解，输出任意一个。", "hint": "#### 样例 $3$ 解释：\n下图展示了样例中的填词游戏，其中黑色的格子表示开始时已经填了字符的格子，在图下方所示的表中你可以看到给出的横着填和竖着填的提示。注意，已经填了字符的格子可以是零题、一题（例如第 $8$ 和 $13$ 题）或两题（例如第 $10$ 和 $12$）题的起点。要解出它，你至少需要知道 $14$ 题的答案，试试看看你会吗？~~（疑问语气）~~\n\n*译者注：以下图片经过高清重制。中文的 crossword 没啥意义，就不翻译了。*\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d7w61uk7.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4spl87ov.png)\n\n-----\n\n\n#### 数据范围：\n\n对于 $100\\%$ 的数据，有 $2\\le N,~M\\le 500$。\n\n各子任务限制见下表：\n\n|子任务|分值|特殊限制|\n|:-:|:-:|:-:|\n|1|16|至多 $9$ 个格子开始前填了字符|\n|2|30|$N\\le 500,~M\\le 10$|\n|3|54|无特殊限制|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #6] Skandi", "background": "题目翻译来自 [LOJ3269](https://loj.ac/problem/3269) 。\n\n\n**由于洛谷评测机原因，数据有删改。**", "description": "**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T4.** ***[Skandi](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\n\nDragica 不仅是当地的一个半专业保龄球队的队长，还是一位充满激情的厨师。除此之外，他还是克罗地亚数一数二的填字游戏（crossword）玩家。填字游戏是一个在 $N\\times M$ 的网格上游玩的游戏。在游戏开始前，部分格子已经填上了字母，作为至多两题的起点，而玩家需要根据给出的提示以水平向右或竖直向下的方向在剩下的格子填上答案。在这里，一题的答案定义为从该题起点沿提示指定方向直至网格边界或另一题起点之前的部分。如果一题的起点右边一格是空的，则该题在水平方向上存在一题；类似的，如果一题的下面一格是空的，则该题在竖直方向上存在一题。\n\nDragica 当然知道答案啦，但他有点鸽，想让你帮他找出完成某个填字游戏最少回答的题目数。", "inputFormat": "第一行两个空格分隔的整数 $N,~M$，含意见题目描述。\n\n接下来 $N$ 行每行 $M$ 个字符 `0` 或 `1`，其中 `0` 表示这是个待填充答案的空格，而 `1` 表示该格已填有字符，是至多两题的起点。保证输入存在至少一个 `0` ，且第一行和第一列均为 `1`。", "outputFormat": "第一行输出完成该次填字游戏的最小答案数 $X$。\n\n接下来 $X$ 行每行以 `r c dir` 的格式回答一个问题，其中 `r` 表示题目的行号，`c` 表示题目的列号，`dir` 为 `DESNO` （克罗地亚语中的右）和 `DOLJE` （克罗地亚语中的下）之一，表示 Dragica 回答问题的方向。\n\n如果有多解，输出任意一个。", "hint": "#### 样例 $3$ 解释：\n下图展示了样例中的填词游戏，其中黑色的格子表示开始时已经填了字符的格子，在图下方所示的表中你可以看到给出的横着填和竖着填的提示。注意，已经填了字符的格子可以是零题、一题（例如第 $8$ 和 $13$ 题）或两题（例如第 $10$ 和 $12$）题的起点。要解出它，你至少需要知道 $14$ 题的答案，试试看看你会吗？~~（疑问语气）~~\n\n*译者注：以下图片经过高清重制。中文的 crossword 没啥意义，就不翻译了。*\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d7w61uk7.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4spl87ov.png)\n\n-----\n\n\n#### 数据范围：\n\n对于 $100\\%$ 的数据，有 $2\\le N,~M\\le 500$。\n\n各子任务限制见下表：\n\n|子任务|分值|特殊限制|\n|:-:|:-:|:-:|\n|1|16|至多 $9$ 个格子开始前填了字符|\n|2|30|$N\\le 500,~M\\le 10$|\n|3|54|无特殊限制|", "locale": "zh-CN"}}}
{"pid": "P6221", "type": "P", "difficulty": 4, "samples": [["3 2\na b\nab bd\nabc abd", "5"], ["3 3\na b c\naa ab ac\naaa aab aca", "6"], ["3 1\na\nbc\ndef", "0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2019", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #6] Trener", "background": "题目翻译来自 [LOJ3270](https://loj.ac/problem/3270)。", "description": "**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T5.** ***[Trener](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\n\n我们已经知道了学生们喜欢睡觉。Patrik 是这一记录的保持者。在最后一个梦中，他发现自己成为了他最喜欢的球队的队长。\n\n为了参加一场比赛，他把自己的所有球员分为 $N$ 组，每组 $K$ 名球员，对于第 $i$ 组的球员，他们的姓氏长度都为 $i$。\n\n现在，他要开始规划上场的球员组合了。一个组合有 $N$ 名球员，并且组委会对上场的球队还有有以下要求：\n\n- 所有球员的姓氏长度必须不同。\n\n- 所有球员的姓氏必须为其他姓氏比他长一个字符的球员的连续子序列。\n\nPatrik 想知道，自己最多能把这些球员分为多少支可以上场的队伍。答案对 $10^9+7$ 取模。", "inputFormat": "输入第一行为两个整数 $N,K$。\n\n接下来的 $N$ 行，每行 $K$ 个字符串，为球员的姓氏，保证第 $i$ 行的字符串长度为 $i$。", "outputFormat": "输出一行一个整数为最多分出的队伍支数，答案对 $10^9+7$ 取模。", "hint": "#### 样例 $1$ 说明：\n可以分为如下队伍：\n\n`(a, ab, abc), (a, ab,abd), (b, ab, abc), (b, ab, abd), (b, bd, abd)`。\n\n----\n\n#### 数据范围：\n\n对于 $100\\%$ 的数据，$1\\le N\\le 50$，$1\\leq K\\leq 1500$。\n\n|任务编号|特殊限制|分值|\n|:-:|:-:|:-:|\n|$0$|为样例|$0$|\n|$1$|$N=5,K=10$|$20$|\n|$2$|$N=50,K=100$|$30$|\n|$3$|无特殊限制。|$50$|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #6] Trener", "background": "题目翻译来自 [LOJ3270](https://loj.ac/problem/3270)。", "description": "**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T5.** ***[Trener](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\n\n我们已经知道了学生们喜欢睡觉。Patrik 是这一记录的保持者。在最后一个梦中，他发现自己成为了他最喜欢的球队的队长。\n\n为了参加一场比赛，他把自己的所有球员分为 $N$ 组，每组 $K$ 名球员，对于第 $i$ 组的球员，他们的姓氏长度都为 $i$。\n\n现在，他要开始规划上场的球员组合了。一个组合有 $N$ 名球员，并且组委会对上场的球队还有有以下要求：\n\n- 所有球员的姓氏长度必须不同。\n\n- 所有球员的姓氏必须为其他姓氏比他长一个字符的球员的连续子序列。\n\nPatrik 想知道，自己最多能把这些球员分为多少支可以上场的队伍。答案对 $10^9+7$ 取模。", "inputFormat": "输入第一行为两个整数 $N,K$。\n\n接下来的 $N$ 行，每行 $K$ 个字符串，为球员的姓氏，保证第 $i$ 行的字符串长度为 $i$。", "outputFormat": "输出一行一个整数为最多分出的队伍支数，答案对 $10^9+7$ 取模。", "hint": "#### 样例 $1$ 说明：\n可以分为如下队伍：\n\n`(a, ab, abc), (a, ab,abd), (b, ab, abc), (b, ab, abd), (b, bd, abd)`。\n\n----\n\n#### 数据范围：\n\n对于 $100\\%$ 的数据，$1\\le N\\le 50$，$1\\leq K\\leq 1500$。\n\n|任务编号|特殊限制|分值|\n|:-:|:-:|:-:|\n|$0$|为样例|$0$|\n|$1$|$N=5,K=10$|$20$|\n|$2$|$N=50,K=100$|$30$|\n|$3$|无特殊限制。|$50$|", "locale": "zh-CN"}}}
{"pid": "P6222", "type": "P", "difficulty": 6, "samples": [["4 1919 5\n1\n14\n51\n4\n", "32\n1012884514\n62017882\n105160\n"]], "limits": {"time": [500, 500, 500, 500, 1500], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "O2优化", "莫比乌斯反演"], "title": "「P6156 简单题」加强版", "background": "[原题链接](https://www.luogu.com.cn/problem/P6156)\n\n此题在原题基础上，加上了多测，更改了模数，同时为了彻底卡掉非线性预处理，开大了数据范围。\n\n可能有点卡常。", "description": "$T$ 组询问。一开始给定一个常数 $K$。每次询问单独给定 $n$。请你求出：\n\n$$\\sum_{i=1}^{n}\\sum_{j=1}^{n} (i+j)^K \\gcd(i,j) \\mu^2(\\gcd(i,j)) \\pmod {2^{32}}$$", "inputFormat": "第一行三个正整数 $T,N,K$，分别表示询问组数、询问的 $N$ 的最大值、以及给定的常量。\n\n接下来 $T$ 行，每行一个正整数表示这组询问的 $n$ 是多少。", "outputFormat": "$T$ 行，每行一个非负整数，表示询问当前给定的 $n$，题面的式子计算出的结果是多少。", "hint": "一共有 $5$ 组测试点。第 $i$ 组测试点满足：$N=10^{i+2}$。\n\n对于所有测试点，满足：$T = 10^4$，$1 \\leq K < 2^{31}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「P6156 简单题」加强版", "background": "[原题链接](https://www.luogu.com.cn/problem/P6156)\n\n此题在原题基础上，加上了多测，更改了模数，同时为了彻底卡掉非线性预处理，开大了数据范围。\n\n可能有点卡常。", "description": "$T$ 组询问。一开始给定一个常数 $K$。每次询问单独给定 $n$。请你求出：\n\n$$\\sum_{i=1}^{n}\\sum_{j=1}^{n} (i+j)^K \\gcd(i,j) \\mu^2(\\gcd(i,j)) \\pmod {2^{32}}$$", "inputFormat": "第一行三个正整数 $T,N,K$，分别表示询问组数、询问的 $N$ 的最大值、以及给定的常量。\n\n接下来 $T$ 行，每行一个正整数表示这组询问的 $n$ 是多少。", "outputFormat": "$T$ 行，每行一个非负整数，表示询问当前给定的 $n$，题面的式子计算出的结果是多少。", "hint": "一共有 $5$ 组测试点。第 $i$ 组测试点满足：$N=10^{i+2}$。\n\n对于所有测试点，满足：$T = 10^4$，$1 \\leq K < 2^{31}$。", "locale": "zh-CN"}}}
{"pid": "P6223", "type": "P", "difficulty": 5, "samples": [["6\n15\n10 20 18 16 6 16\n1 4\n4 5\n4 6\n6 2\n5 3\n", "5\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[CHCI 2009 Final Exam #1] PODJELA", "background": null, "description": "有 $n$ 个农民，他们住在 $n$ 个不同的村子里，这 $n$ 个村子形成一棵树，每个农民初始时有 $x$ 元钱。\n\n每一次操作，一个农民可以从它自己的钱中，取出任意数量的钱，交给某个相邻村子的农民。\n\n对于每个农民给定一个值 $v_i$，求最少需要多少次操作，使得每个农民最终拿到的钱 $\\ge$ 给定的值。", "inputFormat": "第一行包含一个整数 $n$，即农民数。\n\n第二行包含一个整数 $x$，即每个农民初始时拥有的钱数。\n\n第三行包含 $n$ 个整数，第 $i$ 个数表示 $v_i$。\n\n接下来 $n-1$ 行每行包含两个整数，表示树上的一条边。", "outputFormat": "输出一行一个整数，即最少需要的操作次数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 2000$，$0\\le x\\le 10000$，$\\sum\\limits_{i=1}^n v_i\\le n\\times x$。\n\n#### 说明\n\n翻译自 [Croatian Highschool Competitions In Informatics 2009 Final Exam #1 T2 PODJELA](https://hsin.hr/2009/final/first_day/tasks.pdf)。", "locale": "zh-CN", "translations": {"en": {"title": "[CHCI 2009 Final Exam #1] PODJELA", "background": "", "description": "There are $n$ farmers living in $n$ different villages. These $n$ villages form a tree. Initially, each farmer has $x$ dollars.\n\nIn one operation, a farmer may take any amount of money from their own money and give it to a farmer in an adjacent village.\n\nFor each farmer, a value $v_i$ is given. Find the minimum number of operations needed so that in the end every farmer has money $\\ge$ the given value.", "inputFormat": "The first line contains an integer $n$, the number of farmers.\n\nThe second line contains an integer $x$, the amount of money each farmer initially has.\n\nThe third line contains $n$ integers, where the $i$-th number is $v_i$.\n\nThe next $n - 1$ lines each contain two integers, representing an edge of the tree.", "outputFormat": "Output one line with one integer, the minimum number of operations required.", "hint": "#### Constraints\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 2000$, $0 \\le x \\le 10000$, $\\sum\\limits_{i=1}^n v_i \\le n \\times x$.\n\n#### Notes\n\nTranslated from [Croatian Highschool Competitions In Informatics 2009 Final Exam #1 T2 PODJELA](https://hsin.hr/2009/final/first_day/tasks.pdf)。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CHCI 2009 Final Exam #1] PODJELA", "background": null, "description": "有 $n$ 个农民，他们住在 $n$ 个不同的村子里，这 $n$ 个村子形成一棵树，每个农民初始时有 $x$ 元钱。\n\n每一次操作，一个农民可以从它自己的钱中，取出任意数量的钱，交给某个相邻村子的农民。\n\n对于每个农民给定一个值 $v_i$，求最少需要多少次操作，使得每个农民最终拿到的钱 $\\ge$ 给定的值。", "inputFormat": "第一行包含一个整数 $n$，即农民数。\n\n第二行包含一个整数 $x$，即每个农民初始时拥有的钱数。\n\n第三行包含 $n$ 个整数，第 $i$ 个数表示 $v_i$。\n\n接下来 $n-1$ 行每行包含两个整数，表示树上的一条边。", "outputFormat": "输出一行一个整数，即最少需要的操作次数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 2000$，$0\\le x\\le 10000$，$\\sum\\limits_{i=1}^n v_i\\le n\\times x$。\n\n#### 说明\n\n翻译自 [Croatian Highschool Competitions In Informatics 2009 Final Exam #1 T2 PODJELA](https://hsin.hr/2009/final/first_day/tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6224", "type": "P", "difficulty": 6, "samples": [["3\n7 5\n6 2\n3 1\n5\n1 6 1\n1 5 5\n2 7 1\n0 3 2\n1 1 0", "1\n2\n4\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "树状数组", "北京", "cdq 分治", "K-D Tree"], "title": "[BJWC2014] 数据", "background": "", "description": "为了写论文，```Alex``` 经常要整理大量的数据。这一次，```Alex``` 面临一个严峻的考验：他需要实现一个数据结构来维护一个点集。\n\n现在，二维平面上有 $N$ 个点。\n\n```Alex``` 需要实现以下三种操作：\n\n1. 在点集里添加一个点；\n\n2. 给出一个点，查询它到点集里所有点的曼哈顿距离的最小值；\n\n3. 给出一个点，查询它到点集里所有点的曼哈顿距离的最大值。\n\n两个点的曼哈顿距离定义为它们的横坐标差的绝对值与纵坐标差的绝对值的和。\n\n这么困难的问题，```Alex``` 当然不会做，只好再次请你帮忙了。", "inputFormat": "第一行包含一个整数 $N$，表示点集最初的点数。\n\n接下来 $N$ 行，每行两个整数，依次表示每个点的横坐标和纵坐标。\n\n第 $N+2$ 行包含一个整数 $Q$，表示询问的数目。\n\n接下来 $Q$ 行，每行三个整数，依次表示询问的类型，点的横坐标和纵坐标。$0$ 类型表示添加一个点，$1$ 类型表示查询到该点的曼哈顿距离的最小值，$2$ 类型表示查询最大值。", "outputFormat": "输出若干行，依次表示每个查询操作的答案。", "hint": "对于前 $20 \\%$ 的数据：$1\\le N , Q\\le 10^3$\n\n对于前 $100 \\%$ 的数据： $1\\le N , Q \\le 10^5$；\n\n点的坐标是不超过 $10^9$ 的非负整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BJWC2014] 数据", "background": "", "description": "为了写论文，```Alex``` 经常要整理大量的数据。这一次，```Alex``` 面临一个严峻的考验：他需要实现一个数据结构来维护一个点集。\n\n现在，二维平面上有 $N$ 个点。\n\n```Alex``` 需要实现以下三种操作：\n\n1. 在点集里添加一个点；\n\n2. 给出一个点，查询它到点集里所有点的曼哈顿距离的最小值；\n\n3. 给出一个点，查询它到点集里所有点的曼哈顿距离的最大值。\n\n两个点的曼哈顿距离定义为它们的横坐标差的绝对值与纵坐标差的绝对值的和。\n\n这么困难的问题，```Alex``` 当然不会做，只好再次请你帮忙了。", "inputFormat": "第一行包含一个整数 $N$，表示点集最初的点数。\n\n接下来 $N$ 行，每行两个整数，依次表示每个点的横坐标和纵坐标。\n\n第 $N+2$ 行包含一个整数 $Q$，表示询问的数目。\n\n接下来 $Q$ 行，每行三个整数，依次表示询问的类型，点的横坐标和纵坐标。$0$ 类型表示添加一个点，$1$ 类型表示查询到该点的曼哈顿距离的最小值，$2$ 类型表示查询最大值。", "outputFormat": "输出若干行，依次表示每个查询操作的答案。", "hint": "对于前 $20 \\%$ 的数据：$1\\le N , Q\\le 10^3$\n\n对于前 $100 \\%$ 的数据： $1\\le N , Q \\le 10^5$；\n\n点的坐标是不超过 $10^9$ 的非负整数。", "locale": "zh-CN"}}}
{"pid": "P6225", "type": "P", "difficulty": 4, "samples": [["3 3\n1 2 3\n2 1 3\n1 1 3\n2 1 3", "2\n0"], ["5 6\n1 2 3 4 5\n2 1 3\n1 1 3\n2 1 5\n2 4 4\n1 1 1\n2 4 4", "2\n5\n4\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2019", "树状数组", "eJOI（欧洲）", "位运算"], "title": "[eJOI 2019] 异或橙子", "background": "", "description": "Janez 喜欢橙子！他制造了一个橙子扫描仪，但是这个扫描仪对于扫描的每个橙子的图像只能输出一个  $32$ 位整数。\n\n他一共扫描了 $n$ 个橙子，但有时他也会重新扫描一个橙子，导致这个橙子的 $32$ 位整数发生更新。\n\nJanez 想要分析这些橙子，他觉得异或操作非常有趣，他每次选取一个区间从 $l$  至 $u$，他想要得到这个区间内所有子区间的异或和的异或和。\n\n例如 $l=2,u=4$ 的情况，记橙子序列 $A$ 中第 $i$ 个橙子的整数是 $a_i$，那么他要求的就是：\n\n$$a_2 \\oplus a_3 \\oplus a_4 \\oplus (a_2\\oplus a_3)\\oplus(a_3\\oplus a_4)\\oplus(a_2\\oplus a_3 \\oplus a_4)$$\n\n-------------------------------------\n\n注：式子中的 $\\oplus$ 代表按位异或运算。异或的运算规则如下。\n\n对于两个数的第 $i$ 位，记为 $x,y$，那么：\n\n|$x$|$y$|$x\\oplus y$|\n| :-----------: | :-----------: | :-----------: |\n|$0$|$1$|$1$|\n|$1$|$0$|$1$|\n|$0$|$0$|$0$|\n|$1$|$1$|$0$|\n\n例：$13\\oplus 23=26$\n\n|$13=$|$0\\cdots 001101$|\n| --------: | :------: |\n|$23=$|$0\\cdots 010111$|\n|$13\\oplus 23=$|$0\\cdots 011010$|", "inputFormat": "第一行输入两个正整数 $n,q$，表示橙子数量和操作次数。\n\n接下来一行 $n$ 个非负整数，表示每个橙子扫描得到的数值 ，从 $1$ 开始编号。\n\n接下来 $q$ 行，每行三个数：\n\n- 如果第一个数是 $1$，接下来输入一个正整数 $i$ 与非负整数 $j$，表示将第 $i$ 个橙子的扫描值 $a_i$ 修改为 $j$。\n\n- 如果第一个数是 $2$，接下来输入两个正整数 $u,l$ 表示询问这个区间的答案。", "outputFormat": "对于每组询问，输出一行一个非负整数，表示所求的总异或和。", "hint": "#### 输入输出样例 1 解释\n\n- 最初，$A=[1,2,3]$，询问结果为 $1\\oplus 2\\oplus 3\\oplus(1\\oplus 2)\\oplus (2\\oplus 3)\\oplus(1\\oplus 2\\oplus 3)=2$\n\n- 修改后，第一个位置被修改为 $3$ ，询问的结果是 $3\\oplus 2\\oplus 3\\oplus(3\\oplus 2)\\oplus (2\\oplus 3)\\oplus(3\\oplus 2\\oplus 3)=0$。\n\n----------------------------\n\n#### 数据规模与约定：\n\n**本题采用多测试点捆绑测试，共有 5 个子任务**。\n\n- Subtask 1(12 points)：$1\\le n,q\\le 10^2$，无特殊限制\n- Subtask 2(18 points)：$1\\le n,q\\le 5\\times 10^2$，且没有修改操作。\n- Subtask 3(25 points)：$1\\le n,q\\le 5\\times 10^3$，无特殊限制\n- Subtask 4(20 points)：$1\\le n,q\\le 2\\times 10^5$，且没有修改操作。\n- Subtask 5(25 points)：$1\\le n,q\\le 2\\times 10^5$，无特殊限制\n\n对于所有数据，$0\\le a_i\\le 10^9,1\\le n,q\\le 2\\times 10^5$\n\n--------------------------\n\n#### 说明\n\n原题来自：[eJOI2019](http://ejoi2019.si/) Problem A. [XORanges](https://www.ejoi2019.si/static/media/uploads/tasks/xoranges-isc(1).pdf)\n\n题面&数据来自：[LibreOJ](https://loj.ac/problem/3195)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2019] 异或橙子", "background": "", "description": "Janez 喜欢橙子！他制造了一个橙子扫描仪，但是这个扫描仪对于扫描的每个橙子的图像只能输出一个  $32$ 位整数。\n\n他一共扫描了 $n$ 个橙子，但有时他也会重新扫描一个橙子，导致这个橙子的 $32$ 位整数发生更新。\n\nJanez 想要分析这些橙子，他觉得异或操作非常有趣，他每次选取一个区间从 $l$  至 $u$，他想要得到这个区间内所有子区间的异或和的异或和。\n\n例如 $l=2,u=4$ 的情况，记橙子序列 $A$ 中第 $i$ 个橙子的整数是 $a_i$，那么他要求的就是：\n\n$$a_2 \\oplus a_3 \\oplus a_4 \\oplus (a_2\\oplus a_3)\\oplus(a_3\\oplus a_4)\\oplus(a_2\\oplus a_3 \\oplus a_4)$$\n\n-------------------------------------\n\n注：式子中的 $\\oplus$ 代表按位异或运算。异或的运算规则如下。\n\n对于两个数的第 $i$ 位，记为 $x,y$，那么：\n\n|$x$|$y$|$x\\oplus y$|\n| :-----------: | :-----------: | :-----------: |\n|$0$|$1$|$1$|\n|$1$|$0$|$1$|\n|$0$|$0$|$0$|\n|$1$|$1$|$0$|\n\n例：$13\\oplus 23=26$\n\n|$13=$|$0\\cdots 001101$|\n| --------: | :------: |\n|$23=$|$0\\cdots 010111$|\n|$13\\oplus 23=$|$0\\cdots 011010$|", "inputFormat": "第一行输入两个正整数 $n,q$，表示橙子数量和操作次数。\n\n接下来一行 $n$ 个非负整数，表示每个橙子扫描得到的数值 ，从 $1$ 开始编号。\n\n接下来 $q$ 行，每行三个数：\n\n- 如果第一个数是 $1$，接下来输入一个正整数 $i$ 与非负整数 $j$，表示将第 $i$ 个橙子的扫描值 $a_i$ 修改为 $j$。\n\n- 如果第一个数是 $2$，接下来输入两个正整数 $u,l$ 表示询问这个区间的答案。", "outputFormat": "对于每组询问，输出一行一个非负整数，表示所求的总异或和。", "hint": "#### 输入输出样例 1 解释\n\n- 最初，$A=[1,2,3]$，询问结果为 $1\\oplus 2\\oplus 3\\oplus(1\\oplus 2)\\oplus (2\\oplus 3)\\oplus(1\\oplus 2\\oplus 3)=2$\n\n- 修改后，第一个位置被修改为 $3$ ，询问的结果是 $3\\oplus 2\\oplus 3\\oplus(3\\oplus 2)\\oplus (2\\oplus 3)\\oplus(3\\oplus 2\\oplus 3)=0$。\n\n----------------------------\n\n#### 数据规模与约定：\n\n**本题采用多测试点捆绑测试，共有 5 个子任务**。\n\n- Subtask 1(12 points)：$1\\le n,q\\le 10^2$，无特殊限制\n- Subtask 2(18 points)：$1\\le n,q\\le 5\\times 10^2$，且没有修改操作。\n- Subtask 3(25 points)：$1\\le n,q\\le 5\\times 10^3$，无特殊限制\n- Subtask 4(20 points)：$1\\le n,q\\le 2\\times 10^5$，且没有修改操作。\n- Subtask 5(25 points)：$1\\le n,q\\le 2\\times 10^5$，无特殊限制\n\n对于所有数据，$0\\le a_i\\le 10^9,1\\le n,q\\le 2\\times 10^5$\n\n--------------------------\n\n#### 说明\n\n原题来自：[eJOI2019](http://ejoi2019.si/) Problem A. [XORanges](https://www.ejoi2019.si/static/media/uploads/tasks/xoranges-isc(1).pdf)\n\n题面&数据来自：[LibreOJ](https://loj.ac/problem/3195)", "locale": "zh-CN"}}}
{"pid": "P6226", "type": "P", "difficulty": 5, "samples": [["5 9 7\n...##....\n..#.##..#\n..#....##\n.##...#..\n....#....\nWS?EE??", "22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2019", "BalticOI（波罗的海）", "bitset"], "title": "[BalticOI 2019] 潜艇 / Nautilus", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day1 T2.** ***[Nautilus](http://boi2019.eio.ee/wp-content/uploads/2019/04/nautilus.en_.pdf)***", "description": "有一艘潜艇正在海洋中秘密航行。\n\n海洋是一个 $R \\times C$ 的网格，其中 `#` 代表岛屿，`.` 代表水域，潜艇只能在水域中航行。\n\n每分钟，潜艇会发出一个无线电信号，代表潜艇要航行的方向。方向由如下字母表示：北（N），东（E），南（S），西（W）。\n\n现在监听者已经架设了一台拦截潜艇信号的雷达。在最近的 $M$ 分钟，雷达收集到了 $M$ 个信号，由一个长度为 $M$ 的字符串表示，例如 `WS?EE??`。收集到的信号有些无法解码，用 `?` 表示。\n\n监听者并不知道潜艇最初的位置，但想要借助地图计算出潜艇的当前位置。请你帮助监听者计算出潜艇当前可能的位置共有几种。", "inputFormat": "输入第一行包含三个整数 $R,C,M$。\n\n接下来 $R$ 行，每行 $C$ 个字符，描述海域地图。\n\n最后一行是一个长度为 $M$ 的字符串，代表了监听者监听到的信号。保证字符串中只含有 `N`，`E`，`S`，`W`，`?` 这几种字符。", "outputFormat": "输出一个整数：潜艇当前可能的位置有几种。", "hint": "各子任务的分值与数据规模如下：\n\n- 子任务 1（29 分）：$1 \\leq R,C,M \\leq 100$，监听到的信号中没有 `?`。\n- 子任务 2（37 分）：$1 \\leq R,C,M \\leq 100$。\n- 子任务 3（34 分）：$1 \\leq R,C \\leq 500$，$1 \\leq M \\leq 5000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2019] 潜艇 / Nautilus", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day1 T2.** ***[Nautilus](http://boi2019.eio.ee/wp-content/uploads/2019/04/nautilus.en_.pdf)***", "description": "有一艘潜艇正在海洋中秘密航行。\n\n海洋是一个 $R \\times C$ 的网格，其中 `#` 代表岛屿，`.` 代表水域，潜艇只能在水域中航行。\n\n每分钟，潜艇会发出一个无线电信号，代表潜艇要航行的方向。方向由如下字母表示：北（N），东（E），南（S），西（W）。\n\n现在监听者已经架设了一台拦截潜艇信号的雷达。在最近的 $M$ 分钟，雷达收集到了 $M$ 个信号，由一个长度为 $M$ 的字符串表示，例如 `WS?EE??`。收集到的信号有些无法解码，用 `?` 表示。\n\n监听者并不知道潜艇最初的位置，但想要借助地图计算出潜艇的当前位置。请你帮助监听者计算出潜艇当前可能的位置共有几种。", "inputFormat": "输入第一行包含三个整数 $R,C,M$。\n\n接下来 $R$ 行，每行 $C$ 个字符，描述海域地图。\n\n最后一行是一个长度为 $M$ 的字符串，代表了监听者监听到的信号。保证字符串中只含有 `N`，`E`，`S`，`W`，`?` 这几种字符。", "outputFormat": "输出一个整数：潜艇当前可能的位置有几种。", "hint": "各子任务的分值与数据规模如下：\n\n- 子任务 1（29 分）：$1 \\leq R,C,M \\leq 100$，监听到的信号中没有 `?`。\n- 子任务 2（37 分）：$1 \\leq R,C,M \\leq 100$。\n- 子任务 3（34 分）：$1 \\leq R,C \\leq 500$，$1 \\leq M \\leq 5000$。", "locale": "zh-CN"}}}
{"pid": "P6227", "type": "P", "difficulty": 5, "samples": [["5 2 3 1\n1 2 3\n1 3 2\n3 4 1\n3 5 2\n2\n4\n2 2\n2 5\n4 5", "escaped\n3\noo"], ["10 2 5 4\n7 2 3\n4 8 3\n9 10 1\n6 7 3\n9 2 3\n10 1 2\n8 2 2\n5 2 1\n3 8 2\n8\n7\n2 1\n1 5\n8 4\n6 2\n7 7", "8\nescaped\nescaped\nescaped\n0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2019", "BalticOI（波罗的海）"], "title": "[BalticOI 2019] 山谷 (Day1)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day1 T3.** ***[Alpine valley](http://boi2019.eio.ee/wp-content/uploads/2019/04/valley.en_.pdf)***", "description": "在阿尔卑斯山谷中，有 $N$ 个村庄，编号为 $1 \\ldots N$，这些村庄通过 $N-1$ 条边连接起来，形成了一个树型结构。\n\n虽然任意两个村庄间都能相互抵达，但路途花费的时间可能令人难以接受，尤其是当你想要购买一些生活必需品的时候——因为所有村庄中，只有其中 $S$ 个村庄有商店。\n\n今年冬天，由于大雪的原因，情况变得更糟。因此，你需要到达 $E$ 号村庄——那里有连接山区和外界的唯一通道，亦或是在山谷中的商店里购买足够接下来几个月生活的物资。今天早上，你在收音机里听到了所有道路中有一条道路无法通行的消息，但是你并不知道具体是哪一条道路。\n\n你现在想知道你和你的朋友是否可以离开山谷，如果不能离开，则需要知道你们离最近商店的距离。由于你还不知道哪条道路无法通行，并且你的朋友们居住在不同的村庄，因此你需要回答 $Q$ 组询问，每组询问给出一条被封锁的道路和你朋友所在村庄的位置。", "inputFormat": "输入第一行包含四个整数 $N,S,Q,E$。其中 $N$ 代表村庄数目，$S$ 代表有商店的村庄的数目，$Q$ 代表你需要回答的询问数，$E$ 代表连接山区和外界的村庄的编号。\n\n接下来 $N-1$ 行，每行包含三个整数 $A,B,W$，代表村庄 $A$ 与村庄 $B$ 之间有一条长度为 $W$ 的道路。\n\n接下来 $S$ 行，每行包含一个整数 $C$，代表 $C$ 号村庄有一个商店。数据保证同一个村庄最多只有一个商店。\n\n最后 $Q$ 行，每行两个整数 $I,R$，询问当 $I$ 号道路（按输入顺序编号）无法通行时，从 $R$ 号村庄出发能否离开山谷，如果不能，则询问其离最近商店的距离。", "outputFormat": "输出包含 $Q$ 行，第 $i$ 行输出第 $i$ 组询问的答案。更具体地说，如果能离开山谷，输出 `escaped`；如果不能离开山谷的话，输出 $R$ 号村庄离最近商店的距离；如果既不能离开山谷，也不能到达任意一个商店的话，输出 `oo`。", "hint": "### 样例解释 1\n\n本样例对应下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v6u2t5hk.png)\n\n在该图（以及接下来一张图）中，用灰色标记的点为商店所在点，图上的边按照「编号 / 长度」的顺序进行标注。\n\n### 样例解释 2\n\n本样例对应下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sdxj2iz6.png)\n\n### 子任务\n\n对于所有数据，均满足：$1 \\leq S,E,A,B,C,I,R \\leq N$，且 $1 \\leq W \\leq 10^9$。\n\n各子任务的分值与数据规模如下：\n\n- 子任务 1（9 分）：$1 \\leq N \\leq 100,1 \\leq Q \\leq 10000$，且所有道路均满足 $|A-B|=1$。\n- 子任务 2（27 分）：$1 \\leq N \\leq 1000,1 \\leq Q \\leq 1000$。\n- 子任务 3（23 分）：$1 \\leq N \\leq 10^5,1 \\leq Q \\leq 10^5$，且 $S=N$。\n- 子任务 4（41 分）：$1 \\leq N \\leq 10^5,1 \\leq Q \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2019] 山谷 (Day1)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day1 T3.** ***[Alpine valley](http://boi2019.eio.ee/wp-content/uploads/2019/04/valley.en_.pdf)***", "description": "在阿尔卑斯山谷中，有 $N$ 个村庄，编号为 $1 \\ldots N$，这些村庄通过 $N-1$ 条边连接起来，形成了一个树型结构。\n\n虽然任意两个村庄间都能相互抵达，但路途花费的时间可能令人难以接受，尤其是当你想要购买一些生活必需品的时候——因为所有村庄中，只有其中 $S$ 个村庄有商店。\n\n今年冬天，由于大雪的原因，情况变得更糟。因此，你需要到达 $E$ 号村庄——那里有连接山区和外界的唯一通道，亦或是在山谷中的商店里购买足够接下来几个月生活的物资。今天早上，你在收音机里听到了所有道路中有一条道路无法通行的消息，但是你并不知道具体是哪一条道路。\n\n你现在想知道你和你的朋友是否可以离开山谷，如果不能离开，则需要知道你们离最近商店的距离。由于你还不知道哪条道路无法通行，并且你的朋友们居住在不同的村庄，因此你需要回答 $Q$ 组询问，每组询问给出一条被封锁的道路和你朋友所在村庄的位置。", "inputFormat": "输入第一行包含四个整数 $N,S,Q,E$。其中 $N$ 代表村庄数目，$S$ 代表有商店的村庄的数目，$Q$ 代表你需要回答的询问数，$E$ 代表连接山区和外界的村庄的编号。\n\n接下来 $N-1$ 行，每行包含三个整数 $A,B,W$，代表村庄 $A$ 与村庄 $B$ 之间有一条长度为 $W$ 的道路。\n\n接下来 $S$ 行，每行包含一个整数 $C$，代表 $C$ 号村庄有一个商店。数据保证同一个村庄最多只有一个商店。\n\n最后 $Q$ 行，每行两个整数 $I,R$，询问当 $I$ 号道路（按输入顺序编号）无法通行时，从 $R$ 号村庄出发能否离开山谷，如果不能，则询问其离最近商店的距离。", "outputFormat": "输出包含 $Q$ 行，第 $i$ 行输出第 $i$ 组询问的答案。更具体地说，如果能离开山谷，输出 `escaped`；如果不能离开山谷的话，输出 $R$ 号村庄离最近商店的距离；如果既不能离开山谷，也不能到达任意一个商店的话，输出 `oo`。", "hint": "### 样例解释 1\n\n本样例对应下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v6u2t5hk.png)\n\n在该图（以及接下来一张图）中，用灰色标记的点为商店所在点，图上的边按照「编号 / 长度」的顺序进行标注。\n\n### 样例解释 2\n\n本样例对应下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sdxj2iz6.png)\n\n### 子任务\n\n对于所有数据，均满足：$1 \\leq S,E,A,B,C,I,R \\leq N$，且 $1 \\leq W \\leq 10^9$。\n\n各子任务的分值与数据规模如下：\n\n- 子任务 1（9 分）：$1 \\leq N \\leq 100,1 \\leq Q \\leq 10000$，且所有道路均满足 $|A-B|=1$。\n- 子任务 2（27 分）：$1 \\leq N \\leq 1000,1 \\leq Q \\leq 1000$。\n- 子任务 3（23 分）：$1 \\leq N \\leq 10^5,1 \\leq Q \\leq 10^5$，且 $S=N$。\n- 子任务 4（41 分）：$1 \\leq N \\leq 10^5,1 \\leq Q \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6228", "type": "P", "difficulty": 5, "samples": [["1 2 2\n5\n3 4", "2"], ["1 1 2\n5\n5", "Impossible"], ["3 3 3\n3 3 2\n3 3 3", "Impossible"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2019", "BalticOI（波罗的海）"], "title": "[BalticOI 2019] 汤姆的餐厅 (Day2)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day2 T1.** ***[Tom's Kitchen](http://boi2019.eio.ee/wp-content/uploads/2019/05/kitchen.en_.pdf)***", "description": "*Tom's Kitchen* 是一家非常受欢迎的餐厅，其受欢迎的原因之一是每份菜都由至少 $ K $ 名厨师进行准备。今天有 $ N $ 份菜需要准备，第 $ i $ 份菜的准备时间是 $ A_i $ 小时。\n\nTom 可以雇佣 $ M $ 名厨师，厨师 $ j $ 最多可以工作 $ B_j $ 小时。此外，即使厨师 $ j $ 的工作时间不到 $ B_j $ 小时，他也会得到工作 $ B_j $ 小时的报酬。一名厨师可以花不同的时间准备不同的菜，但是每一道菜都需要由至少 $ K $ 名厨师准备，并且他们花的时间总和恰好为 $ A_i $。当一名厨师准备菜品时，他总会花正整数小时。\n\nTom 需要一套最优的雇佣厨师方案，以使得厨师不工作就获得报酬的小时数（即所有雇佣厨师的总工作时间上限与准备所有菜的总时间之差）尽可能小。", "inputFormat": "第一行包含三个正整数：$ N,M,K $。\n\n第二行包含 $ N $ 个整数 $ A_i $，第三行包含 $ M $ 个整数 $ B_j $。", "outputFormat": "如果不存在一套方案可以完成所有菜的准备工作，输出 `Impossible`。否则输出一个整数，代表厨师不工作就获得报酬的小时数的最小值。", "hint": "### 样例解释 1\n\nTom 需要雇佣这两位厨师来完成所有菜的准备工作。准备所有菜的时间为 $ 5 $ 小时，但 Tom 需要支付 $ 3+4=7 $ 小时的费用，即厨师不工作就能得到 $ 2 $ 小时的工资。\n\n### 样例解释 2\n\n准备一份菜需要至少两位厨师，但只能雇佣一位厨师，因此不能完成准备工作。\n\n### 样例解释 3\n\n第三份菜无法由三位厨师来准备，因为准备第三份菜的时间只有 $ 2 $ 小时（这意味着如果由三名厨师准备第三份菜的话，至少有一位厨师的准备时间是 $ 0 $ 小时，而这是不符合题目要求的）。\n\n### 子任务\n\n各子任务的分值与数据规模如下：\n\n- 子任务 1（9 分）：$ 1 \\leq N,K \\leq 300, 1 \\leq M \\leq 2, 1 \\leq A_i,B_j \\leq 300 $；\n- 子任务 2（22 分）：$ 1 \\leq N,K \\leq 300, 1 \\leq M \\leq 15, 1 \\leq A_i,B_j \\leq 300 $；\n- 子任务 3（20 分）：$ 1 \\leq N,M,A_i,B_j \\leq 300, K=1 $；\n- 子任务 4（21 分）：$ 1 \\leq N,M,K,A_i,B_j \\leq 40 $；\n- 子任务 5（28 分）：$ 1 \\leq N,M,K,A_i,B_j \\leq 300 $。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2019] 汤姆的餐厅 (Day2)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day2 T1.** ***[Tom's Kitchen](http://boi2019.eio.ee/wp-content/uploads/2019/05/kitchen.en_.pdf)***", "description": "*Tom's Kitchen* 是一家非常受欢迎的餐厅，其受欢迎的原因之一是每份菜都由至少 $ K $ 名厨师进行准备。今天有 $ N $ 份菜需要准备，第 $ i $ 份菜的准备时间是 $ A_i $ 小时。\n\nTom 可以雇佣 $ M $ 名厨师，厨师 $ j $ 最多可以工作 $ B_j $ 小时。此外，即使厨师 $ j $ 的工作时间不到 $ B_j $ 小时，他也会得到工作 $ B_j $ 小时的报酬。一名厨师可以花不同的时间准备不同的菜，但是每一道菜都需要由至少 $ K $ 名厨师准备，并且他们花的时间总和恰好为 $ A_i $。当一名厨师准备菜品时，他总会花正整数小时。\n\nTom 需要一套最优的雇佣厨师方案，以使得厨师不工作就获得报酬的小时数（即所有雇佣厨师的总工作时间上限与准备所有菜的总时间之差）尽可能小。", "inputFormat": "第一行包含三个正整数：$ N,M,K $。\n\n第二行包含 $ N $ 个整数 $ A_i $，第三行包含 $ M $ 个整数 $ B_j $。", "outputFormat": "如果不存在一套方案可以完成所有菜的准备工作，输出 `Impossible`。否则输出一个整数，代表厨师不工作就获得报酬的小时数的最小值。", "hint": "### 样例解释 1\n\nTom 需要雇佣这两位厨师来完成所有菜的准备工作。准备所有菜的时间为 $ 5 $ 小时，但 Tom 需要支付 $ 3+4=7 $ 小时的费用，即厨师不工作就能得到 $ 2 $ 小时的工资。\n\n### 样例解释 2\n\n准备一份菜需要至少两位厨师，但只能雇佣一位厨师，因此不能完成准备工作。\n\n### 样例解释 3\n\n第三份菜无法由三位厨师来准备，因为准备第三份菜的时间只有 $ 2 $ 小时（这意味着如果由三名厨师准备第三份菜的话，至少有一位厨师的准备时间是 $ 0 $ 小时，而这是不符合题目要求的）。\n\n### 子任务\n\n各子任务的分值与数据规模如下：\n\n- 子任务 1（9 分）：$ 1 \\leq N,K \\leq 300, 1 \\leq M \\leq 2, 1 \\leq A_i,B_j \\leq 300 $；\n- 子任务 2（22 分）：$ 1 \\leq N,K \\leq 300, 1 \\leq M \\leq 15, 1 \\leq A_i,B_j \\leq 300 $；\n- 子任务 3（20 分）：$ 1 \\leq N,M,A_i,B_j \\leq 300, K=1 $；\n- 子任务 4（21 分）：$ 1 \\leq N,M,K,A_i,B_j \\leq 40 $；\n- 子任务 5（28 分）：$ 1 \\leq N,M,K,A_i,B_j \\leq 300 $。", "locale": "zh-CN"}}}
{"pid": "P6229", "type": "P", "difficulty": 5, "samples": [["zxyabcd\nyxbadctz", "4\n3 2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 3072, 3072, 3072, 3072, 3072, 3072, 3072, 3072, 3072]}, "tags": ["2019", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2019] 项链 (Day2)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day2 T2.** ***[Necklace](http://boi2019.eio.ee/wp-content/uploads/2019/05/necklace.en_.pdf)***", "description": "Jill 和 Jane 是姐妹，去年圣诞节他们每个人都得到了一串彩色珠子。我们可以将每种颜色描述为小写英文字母（$\\texttt{a}\\ldots \\texttt{z}$），并将每串珠子描述为一个单词。\n\n女孩们想从他们的珠子中创造项链。他们可以从自己的那串珠子的两端移除一些珠子（可能为零），然后连接剩余部分的两端，将其变成项链。生成的项链可以旋转和翻转。\n\n姐妹们希望他们的项链看起来完全一样，并且尽可能长。她们项链可以达到的最大长度是多少？", "inputFormat": "输入包含两行，每行一个字符串，分别描述了 Jill 和 Jane 的一串彩珠。", "outputFormat": "输出第一行应该包含一个正整数，代表项链的长度。测试数据保证存在长度为正整数的项链。\n\n第二行包含两个正整数，分别代表 Jill 和 Jane 得到的项链在原来彩珠串中的起始位置，如果有多种合法方案，任意输出一种即可。每一串彩珠从左到右从 $ 0 $ 开始编号。", "hint": "### 样例解释\n\n我们对两串彩珠进行如下处理：\n\n`zxyabcd` $ \\to $ `---abcd`  \n`yxbadctz` $ \\to $ `--badc--`\n\n最终得到的两串项链 `abcd` 和 `badc` 经过翻转和旋转后是等价的。\n\n### 评分标准\n\n如果你的程序得到的项链合法（即两条项链等价），且长度与可能的最长项链长度相等，你将得到该测试点全部的分数。\n\n如果你的程序得到的项链合法，且长度达到了最长项链长度的一半，你将得到该测试点 $ 20\\% $ 的分数。\n\n**请注意，你在一个子任务上的得分，等于你在该子任务所有测试点的最低得分。**\n\n### 子任务\n\n设输入中每个字符串的长度上限为 $ N $ 。\n\n- 子任务 1（25 分）：$ N = 100 $；\n- 子任务 2（20 分）：$ N = 400 $；\n- 子任务 3（40 分）：$ N = 3000 $；\n- 子任务 4（15 分）：$ N = 3000 $，**内存限制为 3 MB**。\n\n前三个子任务内存限制均为 1GB。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2019] 项链 (Day2)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day2 T2.** ***[Necklace](http://boi2019.eio.ee/wp-content/uploads/2019/05/necklace.en_.pdf)***", "description": "Jill 和 Jane 是姐妹，去年圣诞节他们每个人都得到了一串彩色珠子。我们可以将每种颜色描述为小写英文字母（$\\texttt{a}\\ldots \\texttt{z}$），并将每串珠子描述为一个单词。\n\n女孩们想从他们的珠子中创造项链。他们可以从自己的那串珠子的两端移除一些珠子（可能为零），然后连接剩余部分的两端，将其变成项链。生成的项链可以旋转和翻转。\n\n姐妹们希望他们的项链看起来完全一样，并且尽可能长。她们项链可以达到的最大长度是多少？", "inputFormat": "输入包含两行，每行一个字符串，分别描述了 Jill 和 Jane 的一串彩珠。", "outputFormat": "输出第一行应该包含一个正整数，代表项链的长度。测试数据保证存在长度为正整数的项链。\n\n第二行包含两个正整数，分别代表 Jill 和 Jane 得到的项链在原来彩珠串中的起始位置，如果有多种合法方案，任意输出一种即可。每一串彩珠从左到右从 $ 0 $ 开始编号。", "hint": "### 样例解释\n\n我们对两串彩珠进行如下处理：\n\n`zxyabcd` $ \\to $ `---abcd`  \n`yxbadctz` $ \\to $ `--badc--`\n\n最终得到的两串项链 `abcd` 和 `badc` 经过翻转和旋转后是等价的。\n\n### 评分标准\n\n如果你的程序得到的项链合法（即两条项链等价），且长度与可能的最长项链长度相等，你将得到该测试点全部的分数。\n\n如果你的程序得到的项链合法，且长度达到了最长项链长度的一半，你将得到该测试点 $ 20\\% $ 的分数。\n\n**请注意，你在一个子任务上的得分，等于你在该子任务所有测试点的最低得分。**\n\n### 子任务\n\n设输入中每个字符串的长度上限为 $ N $ 。\n\n- 子任务 1（25 分）：$ N = 100 $；\n- 子任务 2（20 分）：$ N = 400 $；\n- 子任务 3（40 分）：$ N = 3000 $；\n- 子任务 4（15 分）：$ N = 3000 $，**内存限制为 3 MB**。\n\n前三个子任务内存限制均为 1GB。", "locale": "zh-CN"}}}
{"pid": "P6230", "type": "P", "difficulty": 5, "samples": [["5 4 4\n7 0 4 9\n3 0 8 4\n1 1 3 7\n5 1 3 4\n4 2 2 9", "24"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2019", "BalticOI（波罗的海）"], "title": "[BalticOI 2019] 奥运会 (Day2)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day2 T3.** ***[Olympiads](http://boi2019.eio.ee/wp-content/uploads/2019/05/olymp.en_.pdf)***", "description": "两个相邻的城市每年都会派出一个 $ K $ 人的代表队参加 $ K $ 场比赛。每一位参赛者都参加所有 $ K $ 场比赛，单场比赛中代表队的得分是该比赛中代表队单名参赛者的最高分，而代表队的总得分是各场比赛代表队的得分之和。\n\n举个 $ K = 3 $ 的例子：\n\n|              | 比赛 1 | 比赛 2 | 比赛 3 |\n| :----------: | :---: | :---: | :---: |\n|   参赛者 1    |   4   |   5   |   3   |\n|   参赛者 2    |   7   |   3   |   6   |\n|   参赛者 3    |   3   |   4   |   5   |\n| **团队得分** |   7   |   5   |   6   |\n\n该队在这三场比赛的总得分为 $ 7+5+6=18 $。\n\n两个城市之间已经不仅仅开始争论哪个城市有最好的代表队，而且争论哪个城市有第 $ C $ 好的代表队。其中 $ C=1 $ 代表最好（即团队总分最高）的代表队，$ C=2 $ 代表第二好的代表队，以此类推。\n\n你的任务是为其中一个城市找到他们城市中第 $ C $ 好的代表队。两个代表队是不同的，当且仅当两个代表队中至少有一名成员不同。", "inputFormat": "输入第一行包含三个整数 $ N,K,C $，其中 $ N $ 代表该城市的候选队员人数，$ K $ 代表一个代表队的人数，$ C $ 代表你要求出的是第 $ C $ 好的代表队。\n\n接下来 $ N $ 行，每行包含 $ K $ 个整数，其中第 $ i $ 行第 $ j $ 个数代表队员 $ i $ 在第 $ j $ 场比赛上的得分。\n\n数据保证：$ K \\leq N $ ，可能的代表队组成方案数不少于 $ C $，每名队员的得分不超过 $ 10^6 $。", "outputFormat": "输出包含一个整数，即该城市第 $ C $ 好的代表队的得分。", "hint": "各子任务的数据规模如下：\n\n- 子任务 1（13 分）：$ 1 \\leq N \\leq 500, 1 \\leq K \\leq 2, 1 \\leq C \\leq 2000 $；\n- 子任务 2（31 分）：$ 1 \\leq N \\leq 40, 1 \\leq K \\leq 6, 1 \\leq C \\leq 2000 $；\n- 子任务 3（24 分）：$ 1 \\leq N \\leq 500, 1 \\leq K \\leq 6, 1 \\leq C \\leq 2000 $ ，且所有得分均不超过 $ 10 $；\n- 子任务 4（32 分）：$ 1 \\leq N \\leq 500, 1 \\leq K \\leq 6, 1 \\leq C \\leq 2000 $；", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2019] 奥运会 (Day2)", "background": "**译自 [BalticOI 2019](http://boi2019.eio.ee/tasks/) Day2 T3.** ***[Olympiads](http://boi2019.eio.ee/wp-content/uploads/2019/05/olymp.en_.pdf)***", "description": "两个相邻的城市每年都会派出一个 $ K $ 人的代表队参加 $ K $ 场比赛。每一位参赛者都参加所有 $ K $ 场比赛，单场比赛中代表队的得分是该比赛中代表队单名参赛者的最高分，而代表队的总得分是各场比赛代表队的得分之和。\n\n举个 $ K = 3 $ 的例子：\n\n|              | 比赛 1 | 比赛 2 | 比赛 3 |\n| :----------: | :---: | :---: | :---: |\n|   参赛者 1    |   4   |   5   |   3   |\n|   参赛者 2    |   7   |   3   |   6   |\n|   参赛者 3    |   3   |   4   |   5   |\n| **团队得分** |   7   |   5   |   6   |\n\n该队在这三场比赛的总得分为 $ 7+5+6=18 $。\n\n两个城市之间已经不仅仅开始争论哪个城市有最好的代表队，而且争论哪个城市有第 $ C $ 好的代表队。其中 $ C=1 $ 代表最好（即团队总分最高）的代表队，$ C=2 $ 代表第二好的代表队，以此类推。\n\n你的任务是为其中一个城市找到他们城市中第 $ C $ 好的代表队。两个代表队是不同的，当且仅当两个代表队中至少有一名成员不同。", "inputFormat": "输入第一行包含三个整数 $ N,K,C $，其中 $ N $ 代表该城市的候选队员人数，$ K $ 代表一个代表队的人数，$ C $ 代表你要求出的是第 $ C $ 好的代表队。\n\n接下来 $ N $ 行，每行包含 $ K $ 个整数，其中第 $ i $ 行第 $ j $ 个数代表队员 $ i $ 在第 $ j $ 场比赛上的得分。\n\n数据保证：$ K \\leq N $ ，可能的代表队组成方案数不少于 $ C $，每名队员的得分不超过 $ 10^6 $。", "outputFormat": "输出包含一个整数，即该城市第 $ C $ 好的代表队的得分。", "hint": "各子任务的数据规模如下：\n\n- 子任务 1（13 分）：$ 1 \\leq N \\leq 500, 1 \\leq K \\leq 2, 1 \\leq C \\leq 2000 $；\n- 子任务 2（31 分）：$ 1 \\leq N \\leq 40, 1 \\leq K \\leq 6, 1 \\leq C \\leq 2000 $；\n- 子任务 3（24 分）：$ 1 \\leq N \\leq 500, 1 \\leq K \\leq 6, 1 \\leq C \\leq 2000 $ ，且所有得分均不超过 $ 10 $；\n- 子任务 4（32 分）：$ 1 \\leq N \\leq 500, 1 \\leq K \\leq 6, 1 \\leq C \\leq 2000 $；", "locale": "zh-CN"}}}
{"pid": "P6231", "type": "P", "difficulty": 6, "samples": [["6 10\nadd 1 2 1\nadd 2 1 1\nadd 3 2 1\nadd 4 5 2\nreach 4 6\ndest 1 5\ndel 5 6\nadd 1 4 2\ndest 2 3\ndest 3 2", "OK\nERROR\nOK\nOK\nNO\nERROR\nERROR\nOK\n3 1\n5 6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2013", "各省省选", "平衡树", "江苏", "O2优化"], "title": "[JSOI2013] 公交系统", "background": "几年前南京因为修地铁的缘故，很多公交车线路都被迫改变了。\n\nJYY 为此很苦恼：试想一下，当你坐上一辆公交车，却发现这辆公交车驶向了与你记忆完全不同的方向。\n\n于是 JYY 打算开发一套可以利用手机进行实时更新的公交信息应用， 所有安装了这款应用的手机都可以向数据库发送最新的公交线路更改情况，同时也可以通过应用向数据库查询自己所需要的信息。", "description": "南京一共有 $n$ 个公交站点，分别从 $1$ 到 $n$ 编号。两个不同的站点 $x$ 和 $y$ 之间可能会有公交车直接运营（不经过别的站点直接从 $x$ 开到 $y$） ，我们将这种关系看作一条无向边（公交线路显然是双向的，我们既可以从 $x$ 坐公交车到 $y$，也可以从 $y$ 坐车到 $x$）。\n\n任意时刻任何公交站点都至多只会连有 $2$ 条边，并且所有这些边是不会形成\n环的（公交车很少会出现环线，所以这些公交线路应该形成一些不相交的链，链\n的两端分别对应两个终点站）。\n\nJYY 的 IOS 应用按照时间顺序一共收到了 $q$ 条交互信息，每一条交互信息\n都是下列五种信息之一：\n\n- `add x y z`，表示当前时刻，站点 $x$ 到站点 $y$ 之间有新增了一班公交车直接运营，并且在当前路况下，公交车所需要的运营时间为 $z$。\n- `del x y`，表示由于某种原因，原本在站点 $x$ 和站点 $y$ 之间直接运营的公交车停运了。\n- `change x y z`，表示由于路况情况改变，站点 $x$ 到站点 $y$ 之间直接运营的公交车当前的运营时间为 $z$。\n- `reach x y`，表示某个用户询问从站点 $x$ 坐车能不能坐到站点 $y$。\n- `dest x y`，表示某个用户从站点 $x$ 上车，坐上了当前正开往站点 $y$ 的公交车。该用户想知道，他到达 $y$ 后继续乘坐可乘坐的线路(已经乘坐过的线路不能重复乘坐)，最终能够到达的终点站是哪一站？从站点 $x$ 开始需要多久才能\n开到终点站？\n\n**在收到第一条信息之前，没有任何公交车在运营**。\n\n由于用户难免会提交错误的信息，所以 JYY 希望他的软件对于错误的信息也\n要能够做出合理的反应：\n\n- 对于 `add` 信息，如果加入边 $(x,y)$ 之后，任何站点连接的边数均不超过 $2$ 并且图中没有环，JYY 则认为这个信息是正确的，并根据这个信息更新\n数据库中的公交线路数据，否则JYY会无视这个错误信息。\n- 对于 `del` 和 `change` 信息，如果站点 $x$ 和站点 $y$ 之间有公交车直接运营， JYY 则认为这条信息是正确的，并更新数据库，否则 JYY 则会无视这个错误\n信息。\n- 对于 `dest` 信息，如果站点 $x$ 不能到达站点 $y$，JYY 也会认为这一条询问信\n息是错误的。\n\nJYY 希望你能够帮助他完成这一个公交信息应用。", "inputFormat": "输入数据的第一行包含两个整数，分别代表站点数 $n$ 和交互信息条数 $q$。\n\n接下来 $q$ 行，每行对应一个 JYY 需要处理的信息，其格式见【题目描述】。\n", "outputFormat": "输出 $q$ 行，每行都对应一个输入文件中的信息，具体内容如下：\n\n- 如果输入的信息是错误的，输出 `ERROR`。\n- 对于一个正确的 `add`，`del`，`change` 信息，输出 `OK`。\n- 对于一个正确的 `dest` 信息，输出一行两个整数，分别为终点站的编号和开到终点站所需要的时间.\n- 对于 `reach` 信息，如果用户询问的两个公交站点相互可达，输出 `YES`，否则输出 `NO`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证：\n\n- $2 \\leq n \\leq 10^5$，$2 \\leq q \\leq2×10^5$。\n- $1 \\leq x, y \\leq n$，$x \\neq y$，$1\\leq z \\leq10^4$。\n\n---\n\n#### 提示\n\n请注意数据读入对程序效率造成的影响。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2013] Bus System.", "background": "A few years ago, because Nanjing was building the subway, many bus routes had to be changed.\n\nJYY was very troubled by this. Imagine getting on a bus, only to find that it is heading in a completely different direction from what you remember.\n\nSo JYY plans to develop a bus information app that can be updated in real time using mobile phones. All phones with this app installed can send the latest bus route changes to the database, and can also query the database through the app for the information they need.", "description": "There are $n$ bus stops in Nanjing, numbered from $1$ to $n$. Between two different stops $x$ and $y$, there may be a bus that operates directly (going from $x$ to $y$ without passing any other stops). We treat this relationship as an undirected edge (bus routes are obviously bidirectional: we can go from $x$ to $y$, and also from $y$ to $x$).\n\nAt any time, each bus stop is connected to at most $2$ edges, and all these edges will not form cycles (bus circular lines are rare, so these bus routes should form several disjoint chains, and the two ends of each chain correspond to two terminal stops).\n\nJYY's iOS app receives a total of $q$ interaction messages in time order. Each message is one of the following five types:\n\n- `add x y z`: At the current time, a new bus starts operating directly between stop $x$ and stop $y$, and under current traffic conditions, the travel time is $z$.\n- `del x y`: For some reason, the bus that originally operated directly between stop $x$ and stop $y$ has stopped service.\n- `change x y z`: Due to changes in traffic conditions, the current travel time of the bus operating directly between stop $x$ and stop $y$ is $z$.\n- `reach x y`: A user asks whether they can travel from stop $x$ to stop $y$ by bus.\n- `dest x y`: A user gets on at stop $x$ and takes the bus that is currently heading to stop $y$. The user wants to know: after arriving at $y$, if they continue to take available routes (a route that has been taken cannot be taken again), which terminal stop can they finally reach? How long does it take from stop $x$ to reach that terminal stop?\n\n**Before the first message is received, there are no buses in service**.\n\nSince users may submit incorrect information, JYY wants his software to respond reasonably to incorrect messages as well:\n\n- For an `add` message, if after adding edge $(x, y)$, the degree of every stop is at most $2$ and there is no cycle in the graph, then JYY considers this message correct and updates the bus route data in the database according to it. Otherwise, JYY will ignore this incorrect message.\n- For `del` and `change` messages, if there is a bus operating directly between stop $x$ and stop $y$, then JYY considers the message correct and updates the database. Otherwise, JYY will ignore this incorrect message.\n- For a `dest` message, if stop $x$ cannot reach stop $y$, then JYY also considers this query message incorrect.\n\nJYY hopes you can help him complete this bus information app.", "inputFormat": "The first line of the input contains two integers, representing the number of stops $n$ and the number of interaction messages $q$.\n\nThe next $q$ lines each contain one message that JYY needs to process. The format is described in the Description section.", "outputFormat": "Output $q$ lines. Each line corresponds to one message in the input file. The required output is as follows:\n\n- If the input message is incorrect, output `ERROR`.\n- For a correct `add`, `del`, or `change` message, output `OK`.\n- For a correct `dest` message, output one line with two integers: the terminal stop number and the time needed to reach the terminal stop.\n- For a `reach` message, if the two queried bus stops are mutually reachable, output `YES`, otherwise output `NO`.", "hint": "#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that:\n\n- $2 \\leq n \\leq 10^5$, $2 \\leq q \\leq 2 \\times 10^5$.\n- $1 \\leq x, y \\leq n$, $x \\neq y$, $1 \\leq z \\leq 10^4$.\n\n---\n\n#### Hint\n\nPlease pay attention to the impact of input reading on program efficiency.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2013] 公交系统", "background": "几年前南京因为修地铁的缘故，很多公交车线路都被迫改变了。\n\nJYY 为此很苦恼：试想一下，当你坐上一辆公交车，却发现这辆公交车驶向了与你记忆完全不同的方向。\n\n于是 JYY 打算开发一套可以利用手机进行实时更新的公交信息应用， 所有安装了这款应用的手机都可以向数据库发送最新的公交线路更改情况，同时也可以通过应用向数据库查询自己所需要的信息。", "description": "南京一共有 $n$ 个公交站点，分别从 $1$ 到 $n$ 编号。两个不同的站点 $x$ 和 $y$ 之间可能会有公交车直接运营（不经过别的站点直接从 $x$ 开到 $y$） ，我们将这种关系看作一条无向边（公交线路显然是双向的，我们既可以从 $x$ 坐公交车到 $y$，也可以从 $y$ 坐车到 $x$）。\n\n任意时刻任何公交站点都至多只会连有 $2$ 条边，并且所有这些边是不会形成\n环的（公交车很少会出现环线，所以这些公交线路应该形成一些不相交的链，链\n的两端分别对应两个终点站）。\n\nJYY 的 IOS 应用按照时间顺序一共收到了 $q$ 条交互信息，每一条交互信息\n都是下列五种信息之一：\n\n- `add x y z`，表示当前时刻，站点 $x$ 到站点 $y$ 之间有新增了一班公交车直接运营，并且在当前路况下，公交车所需要的运营时间为 $z$。\n- `del x y`，表示由于某种原因，原本在站点 $x$ 和站点 $y$ 之间直接运营的公交车停运了。\n- `change x y z`，表示由于路况情况改变，站点 $x$ 到站点 $y$ 之间直接运营的公交车当前的运营时间为 $z$。\n- `reach x y`，表示某个用户询问从站点 $x$ 坐车能不能坐到站点 $y$。\n- `dest x y`，表示某个用户从站点 $x$ 上车，坐上了当前正开往站点 $y$ 的公交车。该用户想知道，他到达 $y$ 后继续乘坐可乘坐的线路(已经乘坐过的线路不能重复乘坐)，最终能够到达的终点站是哪一站？从站点 $x$ 开始需要多久才能\n开到终点站？\n\n**在收到第一条信息之前，没有任何公交车在运营**。\n\n由于用户难免会提交错误的信息，所以 JYY 希望他的软件对于错误的信息也\n要能够做出合理的反应：\n\n- 对于 `add` 信息，如果加入边 $(x,y)$ 之后，任何站点连接的边数均不超过 $2$ 并且图中没有环，JYY 则认为这个信息是正确的，并根据这个信息更新\n数据库中的公交线路数据，否则JYY会无视这个错误信息。\n- 对于 `del` 和 `change` 信息，如果站点 $x$ 和站点 $y$ 之间有公交车直接运营， JYY 则认为这条信息是正确的，并更新数据库，否则 JYY 则会无视这个错误\n信息。\n- 对于 `dest` 信息，如果站点 $x$ 不能到达站点 $y$，JYY 也会认为这一条询问信\n息是错误的。\n\nJYY 希望你能够帮助他完成这一个公交信息应用。", "inputFormat": "输入数据的第一行包含两个整数，分别代表站点数 $n$ 和交互信息条数 $q$。\n\n接下来 $q$ 行，每行对应一个 JYY 需要处理的信息，其格式见【题目描述】。\n", "outputFormat": "输出 $q$ 行，每行都对应一个输入文件中的信息，具体内容如下：\n\n- 如果输入的信息是错误的，输出 `ERROR`。\n- 对于一个正确的 `add`，`del`，`change` 信息，输出 `OK`。\n- 对于一个正确的 `dest` 信息，输出一行两个整数，分别为终点站的编号和开到终点站所需要的时间.\n- 对于 `reach` 信息，如果用户询问的两个公交站点相互可达，输出 `YES`，否则输出 `NO`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证：\n\n- $2 \\leq n \\leq 10^5$，$2 \\leq q \\leq2×10^5$。\n- $1 \\leq x, y \\leq n$，$x \\neq y$，$1\\leq z \\leq10^4$。\n\n---\n\n#### 提示\n\n请注意数据读入对程序效率造成的影响。", "locale": "zh-CN"}}}
{"pid": "P6232", "type": "P", "difficulty": 5, "samples": [["3 2", "5"], ["5 10", "19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400]}, "tags": ["2019", "eJOI（欧洲）"], "title": "[eJOI 2019] 挂架", "background": "", "description": "一个挂架由 $n$ 层的连接杆组成。第 $i$ 层（$i\\in [0,n-1]$）有 $2^i$ 根连接杆。第 $0$ 层的连接杆的中点被固定在墙上。在其他层，第 $j$ 个（$j\\in[1,2^i]$）连接杆的中点被上一层的第 $\\left\\lceil{\\dfrac{j}{2}}\\right\\rceil$ 个连接杆所固定。如果 $j$ 是奇数，那就是被上一个连接杆所的左端点固定的，如果是偶数，那就是右端点。在最底层，每一个连接杆的左右端点都有一个用来挂衣服的挂钩。一个挂钩可以挂至多一件衣服。\n\n举个例子，当 $n=3$ 时，这个挂架长这样：\n\n![e.g.](https://cdn.luogu.com.cn/upload/image_hosting/1gjqwegx.png)\n\nMojca 想要把她的所有衣服挂到这个挂架上。每一件衣服恰好重一个单位。以免破坏挂架脆弱的结构，她必须按照某种特定的规则（或顺序）依次挂衣服：\n\n- 当挂好一件衣服后，对于每一个连接杆，假设它左端点下方的总重为 $w_l$，右端点为 $w_r$，那么必须确保 $w_l-w_r \\in {0,1}$。 **注意，不可以为** $-1$ 。\n\n连接杆和挂钩很轻，重量可忽略不计。\n\nMojca 听说你很强，所以来寻求你的帮助。给定两个整数 $n,k$ ，请确定第 $k$ 个衣服应该挂在哪个挂钩上。", "inputFormat": "输入仅一行，两个正整数 $n,k$。", "outputFormat": "输出包含一行，共一个整数，表示第 $k$ 个衣服应该挂的挂钩的编号，**并对** $(10^9+7)$ **取模，挂钩的编号不等同于连接杆的编号。**", "hint": "#### 【样例输入输出解释】\n\n**样例 1 解释**\n\n- 挂钩的使用顺序应为：$1,5,3,7,2,6,4,8$，那么第二件衣服就应该挂在第 $5$ 个挂钩上。\n\n**样例 2 解释**\n\n- 这里，挂钩是使用顺序为：$1,\t17,9,\t25,5,\t21,13,29,3,19,\\text{etc.}$\n\n---\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共有 3 个子任务**。\n\n- Subtask 1（20 points）：$n \\leq 10$。\n- Subtask 2（20 points）：$n \\leq 20$。\n- Subtask 3（60 points）：无特殊限制。\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^6$，$1 \\leq k \\leq \\min(2^n, 10^{18})$。\n\n---\n\n#### 【说明】\n\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem B. [Hanging Rack](https://www.ejoi2019.si/static/media/uploads/tasks/rack-isc(1).pdf)\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)（感觉 [LOJ 的翻译](https://loj.ac/problem/3196) 被过于简化容易导致歧义，所以供题者自行翻译了一遍）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2019] 挂架", "background": "", "description": "一个挂架由 $n$ 层的连接杆组成。第 $i$ 层（$i\\in [0,n-1]$）有 $2^i$ 根连接杆。第 $0$ 层的连接杆的中点被固定在墙上。在其他层，第 $j$ 个（$j\\in[1,2^i]$）连接杆的中点被上一层的第 $\\left\\lceil{\\dfrac{j}{2}}\\right\\rceil$ 个连接杆所固定。如果 $j$ 是奇数，那就是被上一个连接杆所的左端点固定的，如果是偶数，那就是右端点。在最底层，每一个连接杆的左右端点都有一个用来挂衣服的挂钩。一个挂钩可以挂至多一件衣服。\n\n举个例子，当 $n=3$ 时，这个挂架长这样：\n\n![e.g.](https://cdn.luogu.com.cn/upload/image_hosting/1gjqwegx.png)\n\nMojca 想要把她的所有衣服挂到这个挂架上。每一件衣服恰好重一个单位。以免破坏挂架脆弱的结构，她必须按照某种特定的规则（或顺序）依次挂衣服：\n\n- 当挂好一件衣服后，对于每一个连接杆，假设它左端点下方的总重为 $w_l$，右端点为 $w_r$，那么必须确保 $w_l-w_r \\in {0,1}$。 **注意，不可以为** $-1$ 。\n\n连接杆和挂钩很轻，重量可忽略不计。\n\nMojca 听说你很强，所以来寻求你的帮助。给定两个整数 $n,k$ ，请确定第 $k$ 个衣服应该挂在哪个挂钩上。", "inputFormat": "输入仅一行，两个正整数 $n,k$。", "outputFormat": "输出包含一行，共一个整数，表示第 $k$ 个衣服应该挂的挂钩的编号，**并对** $(10^9+7)$ **取模，挂钩的编号不等同于连接杆的编号。**", "hint": "#### 【样例输入输出解释】\n\n**样例 1 解释**\n\n- 挂钩的使用顺序应为：$1,5,3,7,2,6,4,8$，那么第二件衣服就应该挂在第 $5$ 个挂钩上。\n\n**样例 2 解释**\n\n- 这里，挂钩是使用顺序为：$1,\t17,9,\t25,5,\t21,13,29,3,19,\\text{etc.}$\n\n---\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共有 3 个子任务**。\n\n- Subtask 1（20 points）：$n \\leq 10$。\n- Subtask 2（20 points）：$n \\leq 20$。\n- Subtask 3（60 points）：无特殊限制。\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^6$，$1 \\leq k \\leq \\min(2^n, 10^{18})$。\n\n---\n\n#### 【说明】\n\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem B. [Hanging Rack](https://www.ejoi2019.si/static/media/uploads/tasks/rack-isc(1).pdf)\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)（感觉 [LOJ 的翻译](https://loj.ac/problem/3196) 被过于简化容易导致歧义，所以供题者自行翻译了一遍）", "locale": "zh-CN"}}}
{"pid": "P6233", "type": "P", "difficulty": 5, "samples": [["3 3\nEES\nSSW\nESX", "3"], ["3 3\nEES\nSSW\nEEX", "0"], ["3 4\nEXES\nWSNS\nXNNX", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400]}, "tags": ["2019", "eJOI（欧洲）", "最短路"], "title": "[eJOI 2019] Awesome Arrowland Adventure", "background": "", "description": "你现在在一个大小为 $m$ 行（行编号从 $0$ 开始，从上往下一直到 $m-1$） $n$ （列编号从 $0$ 开始，从左往右一直到 $n-1$）列的矩阵中。你的初始位置为 $(0,0)$。（$(r,c)$ 表示矩阵中第 $r$ 行，第 $c$ 列的位置）\n\n你需要走到位置 $(m-1,n-1)$ 处。这个矩阵非常神奇——在矩阵的某些格子上有一个箭头。 箭头只可能有四种方向：北（向上），东（向右），南（向下），西（向左）。箭头分布在整个矩阵之上，形成了箭头矩阵。\n\n当你在某一个位置时，假如这个位置不在矩形（左上角 $(0,0)$，右下角 $(m-1,n-1)$）范围内或这个位置没有箭头，那么你会一直停留于此，永远无法到达终点。如果此处有箭头，那么你将会向这个箭头的方向走一格。\n\n但显然，你不一定能够在初始的箭头矩阵上找到一条从 $(0,0)$ 到 $(m-1,n-1)$ 的路径。为了找到这样一条路径，你可以一次将箭头矩阵中某一个箭头 ***顺时针*** 旋转 $90$ 度。通过几次的旋转，你可能会找到一条路径。\n\n请你判断是否可以通过旋转来得到一条从 $(0,0)$ 到 $(m-1,n-1)$ 的路径，如果有，求出最小需要的旋转次数。", "inputFormat": "第一行：两个整数 $m,n$ ，表示矩阵的大小；\n\n接下来 $m$ 行，每行一个长度为 $n$ 的字符串，表示箭头矩阵中这一行的箭头的信息。字符串只可能包含 $5$ 种字符：`W`，`E`，`N`，`S`，`X`。它们分别表示：西，东，北，南，没有箭头。", "outputFormat": "如果没有可以找到路径的旋转方案，输出 ```-1```；\n\n如果有，输出一个整数表示需要旋转的最少次数。", "hint": "#### 样例解释\n\n【样例 1 解释】\n- 一个可行的解是，将位置 $(1,2)$ 的 ```W``` 旋转 $3$ 次变成 ```S```。\n\n【样例 2 解释】\n- 不需要任何旋转就可以。\n\n【样例 3 解释】\n- 在 $(0,0)$ 处旋转 $1$ 次，在 $(1,0)$ 处旋转 $2$ 次，在 $(2,1)$ 处旋转 $1$ 次。\n\n---\n#### 数据规模与约定\n\n**本题采用多测试点捆绑测试，共有 $5$ 个子任务**。\n\n- Subtask 1（10 points）：$m=1$，且输入的字符矩阵只包含 ```E``` 或 ```X```。\n- Subtask 2（12 points）：$m=1$。\n- Subtask 3（12 points）：$n=m=3$。\n- Subtask 4（16 points）：$m=2$。\n- Subtask 5（50 points）：无特殊限制。\n\n对于 全部的测试点，保证 $1\\le m,n\\le 500$。\n\n---\n\n#### 说明\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem F [Awesome Arrowland Adventure](https://www.ejoi2019.si/static/media/uploads/tasks/adventure-isc(1).pdf)\n\n题面翻译：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)（如果觉得这个翻译令人谔谔，欢迎提供新翻译）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2019] Awesome Arrowland Adventure", "background": "", "description": "你现在在一个大小为 $m$ 行（行编号从 $0$ 开始，从上往下一直到 $m-1$） $n$ （列编号从 $0$ 开始，从左往右一直到 $n-1$）列的矩阵中。你的初始位置为 $(0,0)$。（$(r,c)$ 表示矩阵中第 $r$ 行，第 $c$ 列的位置）\n\n你需要走到位置 $(m-1,n-1)$ 处。这个矩阵非常神奇——在矩阵的某些格子上有一个箭头。 箭头只可能有四种方向：北（向上），东（向右），南（向下），西（向左）。箭头分布在整个矩阵之上，形成了箭头矩阵。\n\n当你在某一个位置时，假如这个位置不在矩形（左上角 $(0,0)$，右下角 $(m-1,n-1)$）范围内或这个位置没有箭头，那么你会一直停留于此，永远无法到达终点。如果此处有箭头，那么你将会向这个箭头的方向走一格。\n\n但显然，你不一定能够在初始的箭头矩阵上找到一条从 $(0,0)$ 到 $(m-1,n-1)$ 的路径。为了找到这样一条路径，你可以一次将箭头矩阵中某一个箭头 ***顺时针*** 旋转 $90$ 度。通过几次的旋转，你可能会找到一条路径。\n\n请你判断是否可以通过旋转来得到一条从 $(0,0)$ 到 $(m-1,n-1)$ 的路径，如果有，求出最小需要的旋转次数。", "inputFormat": "第一行：两个整数 $m,n$ ，表示矩阵的大小；\n\n接下来 $m$ 行，每行一个长度为 $n$ 的字符串，表示箭头矩阵中这一行的箭头的信息。字符串只可能包含 $5$ 种字符：`W`，`E`，`N`，`S`，`X`。它们分别表示：西，东，北，南，没有箭头。", "outputFormat": "如果没有可以找到路径的旋转方案，输出 ```-1```；\n\n如果有，输出一个整数表示需要旋转的最少次数。", "hint": "#### 样例解释\n\n【样例 1 解释】\n- 一个可行的解是，将位置 $(1,2)$ 的 ```W``` 旋转 $3$ 次变成 ```S```。\n\n【样例 2 解释】\n- 不需要任何旋转就可以。\n\n【样例 3 解释】\n- 在 $(0,0)$ 处旋转 $1$ 次，在 $(1,0)$ 处旋转 $2$ 次，在 $(2,1)$ 处旋转 $1$ 次。\n\n---\n#### 数据规模与约定\n\n**本题采用多测试点捆绑测试，共有 $5$ 个子任务**。\n\n- Subtask 1（10 points）：$m=1$，且输入的字符矩阵只包含 ```E``` 或 ```X```。\n- Subtask 2（12 points）：$m=1$。\n- Subtask 3（12 points）：$n=m=3$。\n- Subtask 4（16 points）：$m=2$。\n- Subtask 5（50 points）：无特殊限制。\n\n对于 全部的测试点，保证 $1\\le m,n\\le 500$。\n\n---\n\n#### 说明\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem F [Awesome Arrowland Adventure](https://www.ejoi2019.si/static/media/uploads/tasks/adventure-isc(1).pdf)\n\n题面翻译：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)（如果觉得这个翻译令人谔谔，欢迎提供新翻译）", "locale": "zh-CN"}}}
{"pid": "P6234", "type": "P", "difficulty": 6, "samples": [["5 6\n7 3 8 1 0 9\n4 6 2 5 8 3\n1 9 7 3 9 5\n2 6 8 4 5 7\n3 8 2 7 3 6\n3\n1 1\n2 2\n3 4", "67"], ["5 6\n7 3 8 1 0 9\n4 6 2 5 8 3\n1 9 7 3 9 5\n2 6 8 4 5 7\n3 8 2 7 3 6\n3\n1 1\n2 2\n3 3", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400]}, "tags": ["2019", "并查集", "eJOI（欧洲）", "图论建模", "基环树", "分类讨论"], "title": "[eJOI 2019] T形覆盖", "background": null, "description": "如果你玩过俄罗斯方块，应该见过如下图形：\n\n![sqr](https://cdn.luogu.com.cn/upload/image_hosting/tt5awyg3.png)\n\n我们称它为一个 ***T 形四格拼板***。其 **中心** 被标记为 $\\times$。\n\nManca 画了一个 $n$ 行 $m$ 列的长方形网格。行从 $0$ 至 $m-1$ 编号，列从 $0$ 至 $n-1$ 编号。她将网格中的一些格子标记为 ***特殊格子***。然后，她想要她的朋友 Nika 帮助她将 T 形四格拼板按找如下规则摆放：\n\n- 特殊格子的数量与 T 形四格拼板的数量相同，每个 T 形四格拼板的中心在网格上的位置必须是特殊格子。\n- T 形四格拼板之间不能有重叠部分。\n- 所有拼板的部分均在网格内。\n\n注意，T 形四格拼板有四种摆放方式：$\\bot \\top \\vdash \\dashv$。\n\n如果方案不存在，输出 `No`，否则请找出一种方案使得被拼板覆盖的数总和最大，求出这个最大值。", "inputFormat": "第一行两个整数 $m,n$ 分别表示行数和列数。\n\n接下来 $m$ 行，每行 $n$ 个整数，第 $i$ 行第 $j$ 个数（从 $0$ 开始编号）表示方格中第 $i$ 行第 $j$ 列的数 $a_{i,j}$。\n\n接下来一行，一个整数 $k$，表示特殊格子的数量。\n\n接下来 $k$ 行，每行两个整数 $r_i,c_i$，表示第 $i$ 个被标记的特殊格子的位置。", "outputFormat": "如果有方案，输出可能的被覆盖的格子内数总和的最大值，否则输出 `No`。", "hint": "#### 输入输出样例 1 解释\n\n其中一种最优的方案如下：\n\n- $(1,1)$ 位置的摆放方式为 $\\dashv$。\n- $(2,2)$ 位置的摆放方式为 $\\vdash$。\n- $(3,4)$ 位置的摆放方式为 $\\bot$。\n\n--------------------------\n\n#### 数据规模与约定\n\n**本题采用多测试点捆绑测试，共有 7 个子任务。**\n\n- Subtask 1（5 points）：$k\\le 10^3$，保证对于所有 $i\\ne j$，$\\max(|r_i-r_j|,|c_i-c_j|)>2$。\n- Subtask 2（10 points）：$k\\le 10^3$，保证对于所有 $i\\ne j$，若 $\\max(|r_i-r_j|,|c_i-c_j|)\\le 2$，则 $(r_i,c_i)$ 与 $(r_j,c_j)$ 有邻边。\n- Subtask 3（10 points）：$k\\le 10^3$，保证对于所有 $i\\ne j$，$\\max(|r_i-r_j|,|c_i-c_j|)\\ne 2$。\n- Subtask 4（10 points）：所有特殊格子在同一行。\n- Subtask 5（15 points）：$k\\le 10$。\n- Subtask 6（20 points）：$k\\le 10^3$\n- Subtask 7（30 points）：无其他限制。\n\n对于所有数据，满足：$1\\le k\\le nm\\le 10^6,a_{ij}\\in[0,10^3],r_i\\in[0,m),c_i\\in[0,n)$。\n\n---------------------------\n\n#### 说明\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem C. [T - Covering](https://www.ejoi2019.si/static/media/uploads/tasks/covering-isc(1).pdf)。\n\n翻译来自：[LibreOJ](https://loj.ac/problem/3197)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2019] T形覆盖", "background": null, "description": "如果你玩过俄罗斯方块，应该见过如下图形：\n\n![sqr](https://cdn.luogu.com.cn/upload/image_hosting/tt5awyg3.png)\n\n我们称它为一个 ***T 形四格拼板***。其 **中心** 被标记为 $\\times$。\n\nManca 画了一个 $n$ 行 $m$ 列的长方形网格。行从 $0$ 至 $m-1$ 编号，列从 $0$ 至 $n-1$ 编号。她将网格中的一些格子标记为 ***特殊格子***。然后，她想要她的朋友 Nika 帮助她将 T 形四格拼板按找如下规则摆放：\n\n- 特殊格子的数量与 T 形四格拼板的数量相同，每个 T 形四格拼板的中心在网格上的位置必须是特殊格子。\n- T 形四格拼板之间不能有重叠部分。\n- 所有拼板的部分均在网格内。\n\n注意，T 形四格拼板有四种摆放方式：$\\bot \\top \\vdash \\dashv$。\n\n如果方案不存在，输出 `No`，否则请找出一种方案使得被拼板覆盖的数总和最大，求出这个最大值。", "inputFormat": "第一行两个整数 $m,n$ 分别表示行数和列数。\n\n接下来 $m$ 行，每行 $n$ 个整数，第 $i$ 行第 $j$ 个数（从 $0$ 开始编号）表示方格中第 $i$ 行第 $j$ 列的数 $a_{i,j}$。\n\n接下来一行，一个整数 $k$，表示特殊格子的数量。\n\n接下来 $k$ 行，每行两个整数 $r_i,c_i$，表示第 $i$ 个被标记的特殊格子的位置。", "outputFormat": "如果有方案，输出可能的被覆盖的格子内数总和的最大值，否则输出 `No`。", "hint": "#### 输入输出样例 1 解释\n\n其中一种最优的方案如下：\n\n- $(1,1)$ 位置的摆放方式为 $\\dashv$。\n- $(2,2)$ 位置的摆放方式为 $\\vdash$。\n- $(3,4)$ 位置的摆放方式为 $\\bot$。\n\n--------------------------\n\n#### 数据规模与约定\n\n**本题采用多测试点捆绑测试，共有 7 个子任务。**\n\n- Subtask 1（5 points）：$k\\le 10^3$，保证对于所有 $i\\ne j$，$\\max(|r_i-r_j|,|c_i-c_j|)>2$。\n- Subtask 2（10 points）：$k\\le 10^3$，保证对于所有 $i\\ne j$，若 $\\max(|r_i-r_j|,|c_i-c_j|)\\le 2$，则 $(r_i,c_i)$ 与 $(r_j,c_j)$ 有邻边。\n- Subtask 3（10 points）：$k\\le 10^3$，保证对于所有 $i\\ne j$，$\\max(|r_i-r_j|,|c_i-c_j|)\\ne 2$。\n- Subtask 4（10 points）：所有特殊格子在同一行。\n- Subtask 5（15 points）：$k\\le 10$。\n- Subtask 6（20 points）：$k\\le 10^3$\n- Subtask 7（30 points）：无其他限制。\n\n对于所有数据，满足：$1\\le k\\le nm\\le 10^6,a_{ij}\\in[0,10^3],r_i\\in[0,m),c_i\\in[0,n)$。\n\n---------------------------\n\n#### 说明\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem C. [T - Covering](https://www.ejoi2019.si/static/media/uploads/tasks/covering-isc(1).pdf)。\n\n翻译来自：[LibreOJ](https://loj.ac/problem/3197)。", "locale": "zh-CN"}}}
{"pid": "P6235", "type": "P", "difficulty": 6, "samples": [["2 2\n1 3 1\n1 3 1", "4"], ["4 3\n2 3 9 3 4 3\n2 3 3 1 2 4", "14"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400, 102400]}, "tags": ["动态规划 DP", "2019", "eJOI（欧洲）"], "title": "[eJOI 2019] 矩形染色", "background": "**警告：滥用本题评测将被封号**", "description": "Srečko 想给一个 $m$ 行（从 $0$ 至 $m-1$ 编号） $n$ 列（从 $0$ 至 $n-1$ 编号）的的矩形网格的每一个格子染上色。一开始，整个矩形都是白色的。每一步，他都会选择一条对角线，并给这条对角线上的所有格子染上色。每个对角线染色都需要一定的费用（忽略长度），这就导致某些对角线的染色费用有高于其他某些对角线。\n\n你需要写一个程序，读入各个对角线的染色费用，求出将所有格子染上色的最小总费用。\n\n**注意，同一个格子被重复多次地染色是被允许的。**\n\n------------------------------------\n\n一个 $m$ 行 $n$ 列的矩形网格共有 $2n+2m-2$。\n\n例：当 $m=4,n=3$ 时，共有 $12$ 条对角线：\n\n![e.g.](https://cdn.luogu.com.cn/upload/image_hosting/j74h8wgo.png)", "inputFormat": "输入共 $3$ 行。\n\n第一行：两个整数 $n,m$；\n\n第二行：共 $m+n-1$ 个整数，描述所有 $\\searrow$ 方向的对角线。第 $1$ 个整数表示 $(0,n-1)$ 这个单个的格子，第 $2$ 个整数表示 $(0,n-2),(1,n-1)$ 两个格子，以此类推。\n\n第三行：共 $m+n-1$ 个整数，描述所有 $\\nearrow$ 方向的对角线。第 $1$ 个整数表示 $(0,0)$ 这个单个的格子，第 $2$ 个整数表示 $(0,1),(1,0)$ 两个格子，以此类推。", "outputFormat": "一个整数表示答案。", "hint": "#### 【输入输出样例解释】\n\n**样例 1 解释**\n\n- 在这个情况中，如下的方案可以得到最小花费：\n\n![sample1](https://cdn.luogu.com.cn/upload/image_hosting/m2meji32.png)\n\n总花费 $=1+1+1+1=4$。\n\n**样例 2 解释**\n\n- 对于这个情况，如下的方案可以使花费最小化：\n\n![sample2](https://cdn.luogu.com.cn/upload/image_hosting/4xp4192w.png)\n\n总花费 $=3+2+3+3+1+2=14$。\n\n-------------------------\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共有 7 个子任务**。\n\n- Subtask 1（10 points）：$n,m\\le 4$\n- Subtask 2（10 points）：$m,n\\le 10$\n- Subtask 3（10 points）：$m,n\\le 20$\n- Subtask 4（20 points）：$m,n\\le 2\\times 10^3$\n- Subtask 5（10 points）：$m=1,n\\le 2\\times 10^5$\n- Subtask 6（20 points）：$m=n\\le 2\\times 10^5$\n- Subtask 7（20 points）：无其他限制。\n\n对于所有数据，保证 $1\\le m,n\\le 2\\times 10^5$，每条对角线的染色费用 $\\in [1,10^9]$\n\n-----------------------\n\n#### 【说明】\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem E. [Colouring\ta\trectangle](https://www.ejoi2019.si/static/media/uploads/tasks/colouring-isc.pdf)。\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2019] 矩形染色", "background": "**警告：滥用本题评测将被封号**", "description": "Srečko 想给一个 $m$ 行（从 $0$ 至 $m-1$ 编号） $n$ 列（从 $0$ 至 $n-1$ 编号）的的矩形网格的每一个格子染上色。一开始，整个矩形都是白色的。每一步，他都会选择一条对角线，并给这条对角线上的所有格子染上色。每个对角线染色都需要一定的费用（忽略长度），这就导致某些对角线的染色费用有高于其他某些对角线。\n\n你需要写一个程序，读入各个对角线的染色费用，求出将所有格子染上色的最小总费用。\n\n**注意，同一个格子被重复多次地染色是被允许的。**\n\n------------------------------------\n\n一个 $m$ 行 $n$ 列的矩形网格共有 $2n+2m-2$。\n\n例：当 $m=4,n=3$ 时，共有 $12$ 条对角线：\n\n![e.g.](https://cdn.luogu.com.cn/upload/image_hosting/j74h8wgo.png)", "inputFormat": "输入共 $3$ 行。\n\n第一行：两个整数 $n,m$；\n\n第二行：共 $m+n-1$ 个整数，描述所有 $\\searrow$ 方向的对角线。第 $1$ 个整数表示 $(0,n-1)$ 这个单个的格子，第 $2$ 个整数表示 $(0,n-2),(1,n-1)$ 两个格子，以此类推。\n\n第三行：共 $m+n-1$ 个整数，描述所有 $\\nearrow$ 方向的对角线。第 $1$ 个整数表示 $(0,0)$ 这个单个的格子，第 $2$ 个整数表示 $(0,1),(1,0)$ 两个格子，以此类推。", "outputFormat": "一个整数表示答案。", "hint": "#### 【输入输出样例解释】\n\n**样例 1 解释**\n\n- 在这个情况中，如下的方案可以得到最小花费：\n\n![sample1](https://cdn.luogu.com.cn/upload/image_hosting/m2meji32.png)\n\n总花费 $=1+1+1+1=4$。\n\n**样例 2 解释**\n\n- 对于这个情况，如下的方案可以使花费最小化：\n\n![sample2](https://cdn.luogu.com.cn/upload/image_hosting/4xp4192w.png)\n\n总花费 $=3+2+3+3+1+2=14$。\n\n-------------------------\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共有 7 个子任务**。\n\n- Subtask 1（10 points）：$n,m\\le 4$\n- Subtask 2（10 points）：$m,n\\le 10$\n- Subtask 3（10 points）：$m,n\\le 20$\n- Subtask 4（20 points）：$m,n\\le 2\\times 10^3$\n- Subtask 5（10 points）：$m=1,n\\le 2\\times 10^5$\n- Subtask 6（20 points）：$m=n\\le 2\\times 10^5$\n- Subtask 7（20 points）：无其他限制。\n\n对于所有数据，保证 $1\\le m,n\\le 2\\times 10^5$，每条对角线的染色费用 $\\in [1,10^9]$\n\n-----------------------\n\n#### 【说明】\n\n原题来自：[eJOI2019](https://www.ejoi2019.si) Problem E. [Colouring\ta\trectangle](https://www.ejoi2019.si/static/media/uploads/tasks/colouring-isc.pdf)。\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)。", "locale": "zh-CN"}}}
{"pid": "P6236", "type": "P", "difficulty": 2, "samples": [["10 4\n4\n5\n2\n3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #1] LJUTNJA", "background": "", "description": "幼儿园的小孩们收到了一个有 $m$ 颗糖果的大包裹，现在要把这些糖果分给 $n$ 个小孩。\n\n每一个小孩都给出了一个期望的糖果数，如果没有达到他的期望值 $a_i$，小孩就会生气。每差一个糖果，小孩的生气指数就会增加，可以认为他生气的程度等于他少得到的糖果数的平方。\n\n比如，Mirko 想要得到 $32$ 个糖果，但是只得到了 $29$ 个。他少了 $3$ 个，所以他的生气指数是 $9$。不幸的是，糖果数不足以满足所有小孩的期望。所以我们应该采取最优的分配方法，使得最后小孩们的生气指数的和最小。", "inputFormat": "输入数据共 $n+1$ 行。\n\n第一行两个整数 $m,n$。\n \n接下来 $n$ 行，每行一个整数，第 $i+1$ 行的整数表示第 $i$ 个小朋友期望值 $a_i$。", "outputFormat": "输出数据共一行。\n\n一行一个整数，表示最小的总生气指数。", "hint": "#### 样例输入输出 1 解释\n\n共 $10$ 颗糖果，共 $4$ 人，给每一个同学他所需要的糖果数减 $1$，也就是依次给 $3,4,1,2$ 颗，这样的话每人少一颗，每人的生气指数就是 $1^2=1$，$4$ 个人就是 $1 \\times 4=4$，答案 $4$ 是最优方案。\n\n---\n\n#### 数据规模与约定\n\n- 对于 $40 \\%$ 的数据，保证 $n \\leq 5000$，$m \\leq 30$，结果不超过 $5 \\times 10^8$。\n- 对于 $100 \\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$1 \\leq m \\leq 2 \\times {10}^9$，结果不超过 $2^{64}-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #1] LJUTNJA", "background": "", "description": "幼儿园的小孩们收到了一个有 $m$ 颗糖果的大包裹，现在要把这些糖果分给 $n$ 个小孩。\n\n每一个小孩都给出了一个期望的糖果数，如果没有达到他的期望值 $a_i$，小孩就会生气。每差一个糖果，小孩的生气指数就会增加，可以认为他生气的程度等于他少得到的糖果数的平方。\n\n比如，Mirko 想要得到 $32$ 个糖果，但是只得到了 $29$ 个。他少了 $3$ 个，所以他的生气指数是 $9$。不幸的是，糖果数不足以满足所有小孩的期望。所以我们应该采取最优的分配方法，使得最后小孩们的生气指数的和最小。", "inputFormat": "输入数据共 $n+1$ 行。\n\n第一行两个整数 $m,n$。\n \n接下来 $n$ 行，每行一个整数，第 $i+1$ 行的整数表示第 $i$ 个小朋友期望值 $a_i$。", "outputFormat": "输出数据共一行。\n\n一行一个整数，表示最小的总生气指数。", "hint": "#### 样例输入输出 1 解释\n\n共 $10$ 颗糖果，共 $4$ 人，给每一个同学他所需要的糖果数减 $1$，也就是依次给 $3,4,1,2$ 颗，这样的话每人少一颗，每人的生气指数就是 $1^2=1$，$4$ 个人就是 $1 \\times 4=4$，答案 $4$ 是最优方案。\n\n---\n\n#### 数据规模与约定\n\n- 对于 $40 \\%$ 的数据，保证 $n \\leq 5000$，$m \\leq 30$，结果不超过 $5 \\times 10^8$。\n- 对于 $100 \\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$1 \\leq m \\leq 2 \\times {10}^9$，结果不超过 $2^{64}-1$。", "locale": "zh-CN"}}}
{"pid": "P6237", "type": "P", "difficulty": 6, "samples": [["11\n7 6\n4 4\n3 2\n1 3\n9 9\n13 4\n8 1\n6 4\n9 5\n8 3\n11 5", "3\n3 4 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "CEOI（中欧）"], "title": "[CEOI 2012] Printed Circuit Board", "background": "", "description": "给出一个 $n$ 个顶点的简单多边形，对于每个顶点，假如它和原点连成的线段只在这个顶点处和多边形相交，就称为满足要求的顶点。你的任务是输出所有满足要求的顶点编号。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/beasw2yx.png)\n\n", "inputFormat": "第一行一个正整数 $n$。\n\n下面 $n$ 行每行两个不超过 $10^6$ 的正整数，依次表示每个顶点的坐标。顶点按照输入顺序用正整数 $1,2,...,n$ 编号，并且顶点保证按照顺时针或逆时针顺序给出。", "outputFormat": "第一行一个正整数 $m$，表示满足要求的顶点个数。 \n\n第二行 $m$ 个正整数，按照升序给出满足要求的顶点编号。", "hint": "对于 $100\\%$ 的数据，满足 $1 \\le n \\le 2 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2012] Printed Circuit Board", "background": "", "description": "给出一个 $n$ 个顶点的简单多边形，对于每个顶点，假如它和原点连成的线段只在这个顶点处和多边形相交，就称为满足要求的顶点。你的任务是输出所有满足要求的顶点编号。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/beasw2yx.png)\n\n", "inputFormat": "第一行一个正整数 $n$。\n\n下面 $n$ 行每行两个不超过 $10^6$ 的正整数，依次表示每个顶点的坐标。顶点按照输入顺序用正整数 $1,2,...,n$ 编号，并且顶点保证按照顺时针或逆时针顺序给出。", "outputFormat": "第一行一个正整数 $m$，表示满足要求的顶点个数。 \n\n第二行 $m$ 个正整数，按照升序给出满足要求的顶点编号。", "hint": "对于 $100\\%$ 的数据，满足 $1 \\le n \\le 2 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6238", "type": "P", "difficulty": 5, "samples": [["8 7 5\n1 2\n1 3\n1 6\n3 4\n2 5\n7 8\n8 7\n1 2 3 7 8 ", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 3000, 1000, 3000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "各省省选", "江苏"], "title": "[JSOI2011] 序的计数", "background": "", "description": "给定无向图 $G=\\{V,E\\}$，其中 $n=|V|,m=|E|$，$n$ 个点从 $1$ 到 $n$ 依次编号。\n\n现在要求利用 DFS 即深度优先搜索。容易知道，利用 DFS 进行遍历的同时，我们可以将遍历到的点按照遍历的先后顺序记录下来，这样会得到一个点的序列，即一个 $1$ 到 $n$ 的排列。我们称这个排列为一个可能的 DFS 序。\n\n显然不是所有 $1$ 到 $n$ 的排列都可能是 DFS 序的。现在这个 DFS 的过程进行到了一半，且恰好遍历了 $k$ 个不同的点 $\\{u_1,u_2,...,u_k\\}$，那么显然，这个进行到一半的 DFS 过程所对应的 DFS 序应该是这 $k$ 个数的一个排列。\n\n现在请求出，当前这 $k$ 个遍历点能对应多少个不同的长度为 $k$ 的 DFS 序呢?", "inputFormat": "输入文件第一行包含用空格隔开的三个整数，分别为 $n,m$ 和 $k$；\n\n接下来 $m$ 行，每行包含两个用一个空格隔开的正整数 $u$ 和 $v$，表示图 $G$ 存在边 $(u,v)$。\n\n最后一行包含 $k$ 个用空格隔开的正整数，描述当前已经遍历过的 $k$ 个点，其中第 $i$ 个数为 $u_i$。数据保证这 $k$ 个数一定按照从小到大的顺序给出。", "outputFormat": "输出一行一个数，表示可能的 DFS 序的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 100$，$1 \\le m \\le 5 \\times 10^3$，$1 \\le k \\le 18$，$1 \\le u_i \\le n$，$1 \\leq u, v \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2011] 序的计数", "background": "", "description": "给定无向图 $G=\\{V,E\\}$，其中 $n=|V|,m=|E|$，$n$ 个点从 $1$ 到 $n$ 依次编号。\n\n现在要求利用 DFS 即深度优先搜索。容易知道，利用 DFS 进行遍历的同时，我们可以将遍历到的点按照遍历的先后顺序记录下来，这样会得到一个点的序列，即一个 $1$ 到 $n$ 的排列。我们称这个排列为一个可能的 DFS 序。\n\n显然不是所有 $1$ 到 $n$ 的排列都可能是 DFS 序的。现在这个 DFS 的过程进行到了一半，且恰好遍历了 $k$ 个不同的点 $\\{u_1,u_2,...,u_k\\}$，那么显然，这个进行到一半的 DFS 过程所对应的 DFS 序应该是这 $k$ 个数的一个排列。\n\n现在请求出，当前这 $k$ 个遍历点能对应多少个不同的长度为 $k$ 的 DFS 序呢?", "inputFormat": "输入文件第一行包含用空格隔开的三个整数，分别为 $n,m$ 和 $k$；\n\n接下来 $m$ 行，每行包含两个用一个空格隔开的正整数 $u$ 和 $v$，表示图 $G$ 存在边 $(u,v)$。\n\n最后一行包含 $k$ 个用空格隔开的正整数，描述当前已经遍历过的 $k$ 个点，其中第 $i$ 个数为 $u_i$。数据保证这 $k$ 个数一定按照从小到大的顺序给出。", "outputFormat": "输出一行一个数，表示可能的 DFS 序的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 100$，$1 \\le m \\le 5 \\times 10^3$，$1 \\le k \\le 18$，$1 \\le u_i \\le n$，$1 \\leq u, v \\leq n$。", "locale": "zh-CN"}}}
