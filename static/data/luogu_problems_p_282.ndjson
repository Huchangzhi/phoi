{"pid": "P6709", "type": "P", "difficulty": 4, "samples": [["BABCBCACCA", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "CCC（加拿大）"], "title": "[CCC 2020]  Swapping Seats", "background": "", "description": "有 $N$ 个人坐在一张**圆**桌旁。\n\n共有三个派别，每一个人属于一个派别。\n\n现在，您想使属于同一派别的人坐到一起。\n\n您可以每次将两个人交换位置，输出最小的交换次数。", "inputFormat": "仅一行一个长度为 $N$ 的字符串 $s$，为顺时针所有人的派别。\n\n如果 $s_i$ 为 `A`，则说明第 $i$ 个人为第一个派别的，以此类推。", "outputFormat": "仅一行一个整数，表示最小的交换次数。", "hint": "#### 样例解释\n$\\texttt{BABCBCACCA}\\to\\texttt{AABCBCBCCA}\\to\\texttt{AABBBCCCCA}$。\n\n#### 子任务\n**本题采用捆绑测试，且本题的 Subtask 分数有微调。**\n- Subtask 1（$26$ 分）：$s_i\\in\\{$`A`$,$`B`$\\}$ 且 $N\\le 5\\times 10^3$。\n- Subtask 2（$27$ 分）：$s_i\\in\\{$`A`$,$`B`$\\}$。\n- Subtask 3（$27$ 分）：$N\\le 5\\times 10^3$。\n- Subtask 4（$20$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $s_i\\in\\{$`A`$,$`B`$,$`C`$\\}$，$1\\le N\\le 10^6$。\n\n#### 说明\n本题译自 [Canadian Computing Competition](https://cemc.uwaterloo.ca/resources/past-contests?contest_category=29) [2020 Senior](https://cemc.uwaterloo.ca/sites/default/files/documents/2020/seniorEF.pdf) T4 Swapping Seats。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2020]  Swapping Seats", "background": "", "description": "有 $N$ 个人坐在一张**圆**桌旁。\n\n共有三个派别，每一个人属于一个派别。\n\n现在，您想使属于同一派别的人坐到一起。\n\n您可以每次将两个人交换位置，输出最小的交换次数。", "inputFormat": "仅一行一个长度为 $N$ 的字符串 $s$，为顺时针所有人的派别。\n\n如果 $s_i$ 为 `A`，则说明第 $i$ 个人为第一个派别的，以此类推。", "outputFormat": "仅一行一个整数，表示最小的交换次数。", "hint": "#### 样例解释\n$\\texttt{BABCBCACCA}\\to\\texttt{AABCBCBCCA}\\to\\texttt{AABBBCCCCA}$。\n\n#### 子任务\n**本题采用捆绑测试，且本题的 Subtask 分数有微调。**\n- Subtask 1（$26$ 分）：$s_i\\in\\{$`A`$,$`B`$\\}$ 且 $N\\le 5\\times 10^3$。\n- Subtask 2（$27$ 分）：$s_i\\in\\{$`A`$,$`B`$\\}$。\n- Subtask 3（$27$ 分）：$N\\le 5\\times 10^3$。\n- Subtask 4（$20$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $s_i\\in\\{$`A`$,$`B`$,$`C`$\\}$，$1\\le N\\le 10^6$。\n\n#### 说明\n本题译自 [Canadian Computing Competition](https://cemc.uwaterloo.ca/resources/past-contests?contest_category=29) [2020 Senior](https://cemc.uwaterloo.ca/sites/default/files/documents/2020/seniorEF.pdf) T4 Swapping Seats。", "locale": "zh-CN"}}}
{"pid": "P6710", "type": "P", "difficulty": 4, "samples": [["1 1 1 1\na** ", "105"], ["1 1 1 1\nb*i ", "0"], ["1 2 1 2\nancient ", "1"], ["4 4 4 4\nman****ipt ", "261870"], ["2 2 2 2\n*boi* ", "546"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2005", "枚举", "BalticOI（波罗的海）"], "title": "[BalticOI 2005] Ancient Manuscript (Day2)", "background": null, "description": "给定 Baltic 字符串的定义为：\n\n- 全部为小写字母；\n- 最多只能有 $V_C$ 个连续的元音；\n- 最多只能有 $C_C$ 个连续的辅音；\n- 最多只能有 $V_E$ 个连续的元音相等；\n- 最多只能有 $C_E$ 个连续的辅音相等。\n\n`aeiou` 为元音，除了这五个字母之外的 21 个字母为辅音。\n\n现在给定一个字符串，一些字符为小写字母一些字符为 `*`，您可以把 `*` 替换成任意一个小写字母。\n\n求通过替换能使得这个字符串得到的不同的 Baltic 字符串的种类数。", "inputFormat": "第一行四个整数 $V_E,V_C,C_E,C_C$，具体含义见题面描述。\n\n第二行一个字符串，具体含义见题目描述。", "outputFormat": "一行一个整数代表通过替换能使得这个字符串得到的不同的 Baltic 字符串的种类数。\n\n保证答案在 $64$ 位有符号整数范围内。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le V_E \\le V_C \\le 4$，$1 \\le C_E \\le C_C \\le 4$，$1 \\le$ 字符串的长度 $\\le 15$。\n\n#### 说明\n\n翻译自 [BalticOI 2005 Day2 A Ancient Manuscript](https://boi.cses.fi/files/boi2005_day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2005] Ancient Manuscript (Day2)", "background": null, "description": "给定 Baltic 字符串的定义为：\n\n- 全部为小写字母；\n- 最多只能有 $V_C$ 个连续的元音；\n- 最多只能有 $C_C$ 个连续的辅音；\n- 最多只能有 $V_E$ 个连续的元音相等；\n- 最多只能有 $C_E$ 个连续的辅音相等。\n\n`aeiou` 为元音，除了这五个字母之外的 21 个字母为辅音。\n\n现在给定一个字符串，一些字符为小写字母一些字符为 `*`，您可以把 `*` 替换成任意一个小写字母。\n\n求通过替换能使得这个字符串得到的不同的 Baltic 字符串的种类数。", "inputFormat": "第一行四个整数 $V_E,V_C,C_E,C_C$，具体含义见题面描述。\n\n第二行一个字符串，具体含义见题目描述。", "outputFormat": "一行一个整数代表通过替换能使得这个字符串得到的不同的 Baltic 字符串的种类数。\n\n保证答案在 $64$ 位有符号整数范围内。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le V_E \\le V_C \\le 4$，$1 \\le C_E \\le C_C \\le 4$，$1 \\le$ 字符串的长度 $\\le 15$。\n\n#### 说明\n\n翻译自 [BalticOI 2005 Day2 A Ancient Manuscript](https://boi.cses.fi/files/boi2005_day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6711", "type": "P", "difficulty": 5, "samples": [["4\n7\n4\n5\n4 ", "0.5 2.5\n7.5 2.5\n4.5 6.5\n0.5 6.5 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "2005", "二分", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2005] Polygon (Day2)", "background": null, "description": "给定一个凸包的每条边的长度，求这个凸包。", "inputFormat": "第一行一个整数 $N$ 代表点数。\n\n接下来 $N$ 行，每行一个整数 $a_i$ 代表一条边的长度，其中 $a_i\\ (i<n)$ 代表第 $i$ 个点与第 $i+1$ 个点之间的边的长度，$a_i\\ (i=n)$ 代表第 $n$ 个点与第 $1$ 个点之间的边的长度。", "outputFormat": "$N$ 行每行两个实数 $x_i,y_i$ 代表一个点的坐标。（需要满足 $|x_i|,|y_i| \\le 10^7$）\n\n如果有多组解任意输出一组即可。\n\n如果无解输出 `NO SOLUTION`。\n\n#### 在洛谷上评测的要求\n\n**注意请按照逆时针输出输出凸包上的点。**\n\n虽然原题说顺时针或逆时针顺序输出皆可，但是在本题中**请严格按照逆时针方向输出**。\n\n不一定必须按照编号的顺序输出，比如说点 $P_1\\to P_2 \\to P_3$ 是逆时针顺序，那么按照 $P_2 \\to P_3 \\to P_1$ 也可。", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7bbhlpom.png)\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$3 \\le N \\le 1000$，$1 \\le a_i \\le 10^4$。\n\n**本题使用 Special Judge。**\n\n感谢 spj 作者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n#### 说明\n\n翻译自 [BalticOI 2005 Day2 C Polygon](https://boi.cses.fi/files/boi2005_day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2005] Polygon (Day2)", "background": null, "description": "给定一个凸包的每条边的长度，求这个凸包。", "inputFormat": "第一行一个整数 $N$ 代表点数。\n\n接下来 $N$ 行，每行一个整数 $a_i$ 代表一条边的长度，其中 $a_i\\ (i<n)$ 代表第 $i$ 个点与第 $i+1$ 个点之间的边的长度，$a_i\\ (i=n)$ 代表第 $n$ 个点与第 $1$ 个点之间的边的长度。", "outputFormat": "$N$ 行每行两个实数 $x_i,y_i$ 代表一个点的坐标。（需要满足 $|x_i|,|y_i| \\le 10^7$）\n\n如果有多组解任意输出一组即可。\n\n如果无解输出 `NO SOLUTION`。\n\n#### 在洛谷上评测的要求\n\n**注意请按照逆时针输出输出凸包上的点。**\n\n虽然原题说顺时针或逆时针顺序输出皆可，但是在本题中**请严格按照逆时针方向输出**。\n\n不一定必须按照编号的顺序输出，比如说点 $P_1\\to P_2 \\to P_3$ 是逆时针顺序，那么按照 $P_2 \\to P_3 \\to P_1$ 也可。", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7bbhlpom.png)\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$3 \\le N \\le 1000$，$1 \\le a_i \\le 10^4$。\n\n**本题使用 Special Judge。**\n\n感谢 spj 作者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n#### 说明\n\n翻译自 [BalticOI 2005 Day2 C Polygon](https://boi.cses.fi/files/boi2005_day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6712", "type": "P", "difficulty": 7, "samples": [["2 3 3\n1\n10\n100\n1000\n998244245\n100000\n1000000\n10000000\n0 1\n0 1\n1 233", "2\n2202003\n444957911"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2019", "THUPC"], "title": "[THUPC 2019] 摆家具", "background": "", "description": "你有 $k$ 件不同的家具，需要摆放在 $n$ 个不同的房间中。假设每个房间足够大，并且只考虑每件家具处于哪个房间（而不考虑房间内部如何摆放），那么总共有 $n^k$ 种不同的摆放方式（注意，不是 $k^n$）。\n\n摆放家具也算一门学问了，至少不太好乱摆的吧？对于每种摆放方式，我们可以给这种方式打分。例如，某个方案把餐桌放到了卫生间，或是一个卧室放了两张床而另一个卧室没有床，就会获得比较低的分数。由于这个分数关于每件家具、每个房间不是独立的，我们会输入所有 $n^k$ 种摆放方式的分数。\n\n你现在心血来潮，想换一换房间的布局。给出一种初始时的摆放方式，你会重复 $T$ 次下述操作：每次，你会任选一件家具，然后将这件家具移动到任意一个其他房间中。每一轮有 $k(n-1)$ 种决策（选择家具的方案数乘以选择另一个房间的方案数），所以总共有 $k^T(n-1)^T$ 种决策。你需要计算这每一种决策后的摆放方式的得分之和。\n\n不仅如此，我们会给出 $q$ 次询问，每次输入初始时的摆放方式与 $T$，你需要**在线地**回答 $k^T(n-1)^T$ 种决策后的得分之和（取模）。详见输入与输出格式。\n\n我们如下定义一种摆放方式的编号：\n\n我们将家具用 0 到 $k-1$ 的不同整数编号，房间用 $0$ 到 $n-1$ 的不同整数编号。设在某种摆放方式下，第 $i$ 号家具被放在了 $p_i$ 号房间中，则定义这种摆放方式的编号为 $\\sum_{i=0}^{k-1} p_i n^i$。可以发现，所有的 $n^k$ 种摆放方式的编号恰好是 $0$ 到 $n^k -1$ 的不同整数。\n\n另外，设 $P=998244353$。", "inputFormat": "第一行输入三个正整数 $n, k, q$。\n\n接下来 $n^k$ 行，每行输入一个小于 $P$ 的正整数，依次表示编号为 $0, 1, \\dots, n^k - 1$ 的摆放方式的得分。\n\n接下来 $q$ 行，每行输入两个非负整数。设某行的输入为 $a, b$（保证 $0 \\leq a < n^k, 0 \\leq b < P$），则此次询问的初始摆放方式的编号为 $a$，而 $T=b \\cdot r \\bmod P$，其中 $r$ 是你上一个输出的数（对于第一次询问为 $1$）。\n\n同一行内输入的相邻两个数之间以一个空格隔开。\n\n保证 $n \\geq 2$，$k \\geq 1$；$n^k \\leq 10^6$；$q \\leq 5 \\times 10^5$", "outputFormat": "对于每次询问输出一行，包含一个非负整数，表示该询问的得分之和对 $P$ 取模的结果。", "hint": "#### 样例解释\n第一次询问中，初始摆放方式的编号为 $0$，$T=1$。\n\n初始时，$0$ 号家具放在 $0$ 号房间，$1$ 号家具放在 $0$ 号房间，$2$ 号家具放在 $0$ 号房间。经过 $1$ 次操作后，可能的情况有：\n\n* 将 $0$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $1$，得分为 $10$；\n* 将 $1$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $2$，得分为 $100$；\n* 将 $2$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $4$，得分为 $998244245$。\n\n所以，所有情况的总得分为 $998244355$，对 $P$ 取模后为 $2$。\n\n第二次询问中，初始摆放方式的编号为 $0$，$T=2$。\n\n初始时，$0$ 号家具放在 $0$ 号房间，$1$ 号家具放在 $0$ 号房间，$2$ 号家具放在 $0$ 号房间。经过 $2$ 次操作后，可能的情况有：\n\n* 将 $0$ 号家具移动到 $1$ 号房间，然后将 $0$ 号家具移动到 $0$ 号房间，此后的摆放方式编号为 $0$，得分为 $1$；\n* 将 $0$ 号家具移动到 $1$ 号房间，然后将 $1$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $3$，得分为 $1000$；\n* 将 $0$ 号家具移动到 $1$ 号房间，然后将 $2$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $5$，得分为 $100000$；\n* 将 $1$ 号家具移动到 $1$ 号房间，然后将 $0$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $3$，得分为 $1000$；\n* 将 $1$ 号家具移动到 $1$ 号房间，然后将 $1$ 号家具移动到 $0$ 号房间，此后的摆放方式编号为 $0$，得分为 $1$；\n* 将 $1$ 号家具移动到 $1$ 号房间，然后将 $2$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $6$，得分为 $1000000$；\n* 将 $2$ 号家具移动到 $1$ 号房间，然后将 $0$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $5$，得分为 $100000$；\n* 将 $2$ 号家具移动到 $1$ 号房间，然后将 $1$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $6$，得分为 $1000000$；\n* 将 $2$ 号家具移动到 $1$ 号房间，然后将 $2$ 号家具移动到 $0$ 号房间，此后的摆放方式编号为 $0$，得分为 $1$。\n\n所以，所有情况的总得分为 $2202003$，对 $P$ 取模后为 $2202003$。\n\n第三次询问中，初始摆放方式的编号为 $1$，$T=513066699$。初始时，$0$ 号家具放在 $1$ 号房间，$1$ 号家具放在 $0$ 号房间，$2$ 号家具放在 $0$ 号房间。\n\n……（省略至少 $3^{513066699}$ 行）\n\n#### 版权信息\n来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2019。\n\n题解等资源可在 https://github.com/wangyurzee7/THUPC2019 查看。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUPC 2019] 摆家具", "background": "", "description": "你有 $k$ 件不同的家具，需要摆放在 $n$ 个不同的房间中。假设每个房间足够大，并且只考虑每件家具处于哪个房间（而不考虑房间内部如何摆放），那么总共有 $n^k$ 种不同的摆放方式（注意，不是 $k^n$）。\n\n摆放家具也算一门学问了，至少不太好乱摆的吧？对于每种摆放方式，我们可以给这种方式打分。例如，某个方案把餐桌放到了卫生间，或是一个卧室放了两张床而另一个卧室没有床，就会获得比较低的分数。由于这个分数关于每件家具、每个房间不是独立的，我们会输入所有 $n^k$ 种摆放方式的分数。\n\n你现在心血来潮，想换一换房间的布局。给出一种初始时的摆放方式，你会重复 $T$ 次下述操作：每次，你会任选一件家具，然后将这件家具移动到任意一个其他房间中。每一轮有 $k(n-1)$ 种决策（选择家具的方案数乘以选择另一个房间的方案数），所以总共有 $k^T(n-1)^T$ 种决策。你需要计算这每一种决策后的摆放方式的得分之和。\n\n不仅如此，我们会给出 $q$ 次询问，每次输入初始时的摆放方式与 $T$，你需要**在线地**回答 $k^T(n-1)^T$ 种决策后的得分之和（取模）。详见输入与输出格式。\n\n我们如下定义一种摆放方式的编号：\n\n我们将家具用 0 到 $k-1$ 的不同整数编号，房间用 $0$ 到 $n-1$ 的不同整数编号。设在某种摆放方式下，第 $i$ 号家具被放在了 $p_i$ 号房间中，则定义这种摆放方式的编号为 $\\sum_{i=0}^{k-1} p_i n^i$。可以发现，所有的 $n^k$ 种摆放方式的编号恰好是 $0$ 到 $n^k -1$ 的不同整数。\n\n另外，设 $P=998244353$。", "inputFormat": "第一行输入三个正整数 $n, k, q$。\n\n接下来 $n^k$ 行，每行输入一个小于 $P$ 的正整数，依次表示编号为 $0, 1, \\dots, n^k - 1$ 的摆放方式的得分。\n\n接下来 $q$ 行，每行输入两个非负整数。设某行的输入为 $a, b$（保证 $0 \\leq a < n^k, 0 \\leq b < P$），则此次询问的初始摆放方式的编号为 $a$，而 $T=b \\cdot r \\bmod P$，其中 $r$ 是你上一个输出的数（对于第一次询问为 $1$）。\n\n同一行内输入的相邻两个数之间以一个空格隔开。\n\n保证 $n \\geq 2$，$k \\geq 1$；$n^k \\leq 10^6$；$q \\leq 5 \\times 10^5$", "outputFormat": "对于每次询问输出一行，包含一个非负整数，表示该询问的得分之和对 $P$ 取模的结果。", "hint": "#### 样例解释\n第一次询问中，初始摆放方式的编号为 $0$，$T=1$。\n\n初始时，$0$ 号家具放在 $0$ 号房间，$1$ 号家具放在 $0$ 号房间，$2$ 号家具放在 $0$ 号房间。经过 $1$ 次操作后，可能的情况有：\n\n* 将 $0$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $1$，得分为 $10$；\n* 将 $1$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $2$，得分为 $100$；\n* 将 $2$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $4$，得分为 $998244245$。\n\n所以，所有情况的总得分为 $998244355$，对 $P$ 取模后为 $2$。\n\n第二次询问中，初始摆放方式的编号为 $0$，$T=2$。\n\n初始时，$0$ 号家具放在 $0$ 号房间，$1$ 号家具放在 $0$ 号房间，$2$ 号家具放在 $0$ 号房间。经过 $2$ 次操作后，可能的情况有：\n\n* 将 $0$ 号家具移动到 $1$ 号房间，然后将 $0$ 号家具移动到 $0$ 号房间，此后的摆放方式编号为 $0$，得分为 $1$；\n* 将 $0$ 号家具移动到 $1$ 号房间，然后将 $1$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $3$，得分为 $1000$；\n* 将 $0$ 号家具移动到 $1$ 号房间，然后将 $2$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $5$，得分为 $100000$；\n* 将 $1$ 号家具移动到 $1$ 号房间，然后将 $0$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $3$，得分为 $1000$；\n* 将 $1$ 号家具移动到 $1$ 号房间，然后将 $1$ 号家具移动到 $0$ 号房间，此后的摆放方式编号为 $0$，得分为 $1$；\n* 将 $1$ 号家具移动到 $1$ 号房间，然后将 $2$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $6$，得分为 $1000000$；\n* 将 $2$ 号家具移动到 $1$ 号房间，然后将 $0$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $5$，得分为 $100000$；\n* 将 $2$ 号家具移动到 $1$ 号房间，然后将 $1$ 号家具移动到 $1$ 号房间，此后的摆放方式编号为 $6$，得分为 $1000000$；\n* 将 $2$ 号家具移动到 $1$ 号房间，然后将 $2$ 号家具移动到 $0$ 号房间，此后的摆放方式编号为 $0$，得分为 $1$。\n\n所以，所有情况的总得分为 $2202003$，对 $P$ 取模后为 $2202003$。\n\n第三次询问中，初始摆放方式的编号为 $1$，$T=513066699$。初始时，$0$ 号家具放在 $1$ 号房间，$1$ 号家具放在 $0$ 号房间，$2$ 号家具放在 $0$ 号房间。\n\n……（省略至少 $3^{513066699}$ 行）\n\n#### 版权信息\n来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2019。\n\n题解等资源可在 https://github.com/wangyurzee7/THUPC2019 查看。", "locale": "zh-CN"}}}
{"pid": "P6713", "type": "P", "difficulty": 3, "samples": [["1\nW\n2\nW\n3", "0"], ["4\nWLLW\n1 2 3 4\nLWWL\n6 5 3 2", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "CCO（加拿大）"], "title": "[CCO 2018] Geese vs. Hawks", "background": "本题题面来自 [LOJ](https://loj.ac/p/3514)。", "description": "Troy 和 JP 是冰球迷。这个赛季每个冰球队会进行 $N$ 场比赛。每场比赛在两个队之间进行，得分更高者胜。并且不会出现平局的情况。\n\nTroy 最喜欢的队伍是滑铁卢野鹅队，他记录了这个队每场比赛的结果。比赛结果记作一个字符串 $S$。如果野鹅队赢下了第 $i$ 场比赛，则 $S_i=\\texttt{W}$，否则 $S_i=\\texttt{L}$。他同时记下了在第 $i$ 场比赛，他们获得了 $A_i$ 分。\n\nJP 最喜欢的队伍是劳里埃金鹰队，他也记录了这个队每场比赛的结果。比赛结果记作一个字符串 $T$。如果金鹰队赢下了第 $j$ 场比赛，则 $T_j=\\texttt{W}$，否则 $T_j=\\texttt{L}$。他同时记下了在第 $j$ 场比赛，他们获得了 $B_j$ 分。\n\nTroy 和 JP 均按顺序记录了他们喜欢的队伍每场比赛的结果和分数。\n\n一次同城德比是指一场滑铁卢野鹅对劳里埃金鹰的比赛（因为两队主场均在滑铁卢）。因为 Tory 和 JP 都没有记录他们最喜欢的球队在比赛中的对手，所以他们不能确定有没有同城德比，也确定不了哪些场比赛是同城德比。他们想知道，根据他们记录的信息推算，在所有同城德比中，两队取得分数总和的最大值是多少。", "inputFormat": "第一行包含一个整数 $N$。\n\n第二行包含一个长为 $N$ 的字符串 $S$，保证字符串 $S$ 中只包含 $\\texttt{W}$ 和 $\\texttt{L}$。\n\n第三行包含 $N$ 个整数 $A_1,\\ldots ,A_N$。\n\n第四行包含一个长为 $N$ 的字符串 $T$，保证字符串 $T$ 中只包含 $\\texttt{W}$ 和 $\\texttt{L}$。\n\n第五行包含 $N$ 个整数 $B_1,\\ldots ,B_N$。", "outputFormat": "输出一行一个整数，表示在所有同城德比中，两队取得分数总和的最大值。", "hint": "#### 样例解释\n#### 样例 1 解释\n因为两队都赢了比赛，因此不会出现同城德比。\n#### 样例 2 解释\n两队各自进行的第四场比赛可能是同城德比，野鹅队得 $4$ 分，金鹰队得 $2$ 分。野鹅队进行的第三场比赛和金鹰队进行的第二场比赛可能是同城德比，金鹰队得 $5$ 分，野鹅队得 $3$ 分。两队得分总和为 $4 + 2 + 5 + 3 = 14$，并且是得分总和最大的情况。\n\n注意野鹅队的第一场比赛赢了，并且得了 $1$ 分，这场比赛不可能是对金鹰的，因为金鹰队没有得 $0$ 分的比赛。同时，金鹰队的第一场比赛也不可能是同城德比，因为金鹰队第一场比赛输了，并且得了 $6$ 分，野鹅队没有打出过获得至少 $7$ 分的比赛。\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^3$，$1\\le A_i,B_i\\le 10^6$，$S_i,T_i\\in\\{$`W`，`L`$\\}$。\n- Subtask 1（$40$ 分）：保证 $N\\le 10$。\n- Subtask 2（$60$ 分）：无特殊限制。\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2018/) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day1.pdf) T1 Geese vs. Hawks。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2018] Geese vs. Hawks", "background": "本题题面来自 [LOJ](https://loj.ac/p/3514)。", "description": "Troy 和 JP 是冰球迷。这个赛季每个冰球队会进行 $N$ 场比赛。每场比赛在两个队之间进行，得分更高者胜。并且不会出现平局的情况。\n\nTroy 最喜欢的队伍是滑铁卢野鹅队，他记录了这个队每场比赛的结果。比赛结果记作一个字符串 $S$。如果野鹅队赢下了第 $i$ 场比赛，则 $S_i=\\texttt{W}$，否则 $S_i=\\texttt{L}$。他同时记下了在第 $i$ 场比赛，他们获得了 $A_i$ 分。\n\nJP 最喜欢的队伍是劳里埃金鹰队，他也记录了这个队每场比赛的结果。比赛结果记作一个字符串 $T$。如果金鹰队赢下了第 $j$ 场比赛，则 $T_j=\\texttt{W}$，否则 $T_j=\\texttt{L}$。他同时记下了在第 $j$ 场比赛，他们获得了 $B_j$ 分。\n\nTroy 和 JP 均按顺序记录了他们喜欢的队伍每场比赛的结果和分数。\n\n一次同城德比是指一场滑铁卢野鹅对劳里埃金鹰的比赛（因为两队主场均在滑铁卢）。因为 Tory 和 JP 都没有记录他们最喜欢的球队在比赛中的对手，所以他们不能确定有没有同城德比，也确定不了哪些场比赛是同城德比。他们想知道，根据他们记录的信息推算，在所有同城德比中，两队取得分数总和的最大值是多少。", "inputFormat": "第一行包含一个整数 $N$。\n\n第二行包含一个长为 $N$ 的字符串 $S$，保证字符串 $S$ 中只包含 $\\texttt{W}$ 和 $\\texttt{L}$。\n\n第三行包含 $N$ 个整数 $A_1,\\ldots ,A_N$。\n\n第四行包含一个长为 $N$ 的字符串 $T$，保证字符串 $T$ 中只包含 $\\texttt{W}$ 和 $\\texttt{L}$。\n\n第五行包含 $N$ 个整数 $B_1,\\ldots ,B_N$。", "outputFormat": "输出一行一个整数，表示在所有同城德比中，两队取得分数总和的最大值。", "hint": "#### 样例解释\n#### 样例 1 解释\n因为两队都赢了比赛，因此不会出现同城德比。\n#### 样例 2 解释\n两队各自进行的第四场比赛可能是同城德比，野鹅队得 $4$ 分，金鹰队得 $2$ 分。野鹅队进行的第三场比赛和金鹰队进行的第二场比赛可能是同城德比，金鹰队得 $5$ 分，野鹅队得 $3$ 分。两队得分总和为 $4 + 2 + 5 + 3 = 14$，并且是得分总和最大的情况。\n\n注意野鹅队的第一场比赛赢了，并且得了 $1$ 分，这场比赛不可能是对金鹰的，因为金鹰队没有得 $0$ 分的比赛。同时，金鹰队的第一场比赛也不可能是同城德比，因为金鹰队第一场比赛输了，并且得了 $6$ 分，野鹅队没有打出过获得至少 $7$ 分的比赛。\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^3$，$1\\le A_i,B_i\\le 10^6$，$S_i,T_i\\in\\{$`W`，`L`$\\}$。\n- Subtask 1（$40$ 分）：保证 $N\\le 10$。\n- Subtask 2（$60$ 分）：无特殊限制。\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2018/) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day1.pdf) T1 Geese vs. Hawks。", "locale": "zh-CN"}}}
{"pid": "P6714", "type": "P", "difficulty": 5, "samples": [["", "5\n1 2 3 4\n10 9 8\n7 6\n5\n"]], "limits": {"time": [1000], "memory": [131072]}, "tags": ["2018", "提交答案", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2018] Wrong Answer", "background": null, "description": "在一场比赛中，您遇到了一道题：\n> 有一个含 $N$ 个点的完全图，边有边权，您可以操作两个人从第一个点去遍历每个点，仅能从编号较小的点到达编号较大的点，求最小的边权和。\n\n您一看，这不是宝宝题吗，于是您秒了它。\n\n但是，此时一名选手的 Python 提交记录吸引了您的注意：\n```python\ndef Solve(N, A):\n    # A[i][j] is cost of moving from level i to level j\n    # N is the number of levels\n    x, y, sx, sy = 1, 1, 0, 0 # Initialize x and y to 1, sx and sy to 0\n    for i in range(2, N + 1): # loop from 2 to N\n        if sx + A[x][i] < sy + A[y][i]:\n            sx += A[x][i]\n            x = i\n        else:\n            sy += A[y][i]\n            y = i\n    return sx + sy\n```\n您一眼就看出了这是个错解，于是您决定 Hack 它。", "inputFormat": "无需输入。", "outputFormat": "第一行为一个整数 $N$。\n\n接下来 $N-1$ 行，第 $i$ 行有 $N-i$ 个数，分别为 $A_{i,i+1},A_{i,i+2}\\ldots A_{i,n}$，$A_{i,j}$ 表示 $i$ 到 $j$ 的边权。", "hint": "#### SPJ 计分标准\n您需要保证 $2\\le N\\le 100$，$1\\le A_{i,j}\\le 100$，否则，不得分。\n\n您需要保证输出格式正确，否则，您不得分。\n\n如果这份错误代码返回 $X$，而正解是 $Y$，则您将会得到 $\\lceil\\min(25,\\frac{X}{4\\times Y})\\rceil$ 的分数。\n\n译者提醒：为方便计分，SPJ 计分请使用 $100$ 分作为满分。\n\n#### 样例解释\n标解为一个人去第二个点，另一个人去剩下的点，边权和为 $1+2+7+5=15$，而错误代码所返回 $18$，所以可得 $\\lceil \\frac{18}{4\\times 15}\\rceil=1$ 分。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day1.pdf) T2 Wrong Answer。\n\n感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的 SPJ。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2018] Wrong Answer", "background": null, "description": "在一场比赛中，您遇到了一道题：\n> 有一个含 $N$ 个点的完全图，边有边权，您可以操作两个人从第一个点去遍历每个点，仅能从编号较小的点到达编号较大的点，求最小的边权和。\n\n您一看，这不是宝宝题吗，于是您秒了它。\n\n但是，此时一名选手的 Python 提交记录吸引了您的注意：\n```python\ndef Solve(N, A):\n    # A[i][j] is cost of moving from level i to level j\n    # N is the number of levels\n    x, y, sx, sy = 1, 1, 0, 0 # Initialize x and y to 1, sx and sy to 0\n    for i in range(2, N + 1): # loop from 2 to N\n        if sx + A[x][i] < sy + A[y][i]:\n            sx += A[x][i]\n            x = i\n        else:\n            sy += A[y][i]\n            y = i\n    return sx + sy\n```\n您一眼就看出了这是个错解，于是您决定 Hack 它。", "inputFormat": "无需输入。", "outputFormat": "第一行为一个整数 $N$。\n\n接下来 $N-1$ 行，第 $i$ 行有 $N-i$ 个数，分别为 $A_{i,i+1},A_{i,i+2}\\ldots A_{i,n}$，$A_{i,j}$ 表示 $i$ 到 $j$ 的边权。", "hint": "#### SPJ 计分标准\n您需要保证 $2\\le N\\le 100$，$1\\le A_{i,j}\\le 100$，否则，不得分。\n\n您需要保证输出格式正确，否则，您不得分。\n\n如果这份错误代码返回 $X$，而正解是 $Y$，则您将会得到 $\\lceil\\min(25,\\frac{X}{4\\times Y})\\rceil$ 的分数。\n\n译者提醒：为方便计分，SPJ 计分请使用 $100$ 分作为满分。\n\n#### 样例解释\n标解为一个人去第二个点，另一个人去剩下的点，边权和为 $1+2+7+5=15$，而错误代码所返回 $18$，所以可得 $\\lceil \\frac{18}{4\\times 15}\\rceil=1$ 分。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day1.pdf) T2 Wrong Answer。\n\n感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的 SPJ。", "locale": "zh-CN"}}}
{"pid": "P6715", "type": "P", "difficulty": 7, "samples": [["2\n20\n5 5", "19"], ["2\n20\n5 20", "24\n"], ["7\n7\n2 8\n6 6\n1 1\n2 4\n2 8\n7 8\n", "23"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "CCO（加拿大）"], "title": "[CCO 2018] Fun Palace", "background": "", "description": "有一个含 $N$ 个点的链，每个点有一个权值。\n\n对于任何 $1\\le i\\le N-1$，都有一条边连接 $(i,i+1)$。\n\n您可以在链中的任意一些节点放置一些生物。\n\n对于第 $i$ 条边，若点 $i$ 至少有 $a_i$ 个生物或点 $i+1$ 至少有 $b_i$ 生物，则该边可以打开。\n\n链是有出口的，如果在 $1$ 号点有 $e$ 个生物，则出口会被打开。\n\n您要确定，至多放置多少个生物，可以使得生物不会打开出口。\n\n**打开了不一定能走过去。**", "inputFormat": "第一行为一个整数 $N$。\n\n第二行为一个整数 $e$。\n\n接下来 $N-1$ 行，一行两个数 $a_i,b_i$。", "outputFormat": "仅一行一个数，表示至多放置多少个生物，可以使得生物不会逃出出口。", "hint": "#### 样例解释\n#### 样例 1 解释\n如果超过 $19$ 个生物，出口就会被打开。\n#### 样例 2 解释\n假设我们放 $24$ 个生物在 $2$ 号点，有 $4$ 个生物就会去到 $1$ 号点，但仍然无法打开出口。\n#### 样例 3 解释\n$9$ 个生物放在 $2$ 号点，$14$ 个生物放在 $7$ 号点。\n\n#### 数据范围及限制\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| 1 | $12$ | $1\\le e\\le 200$，$a_i=b_i=1$ |\n| 2 | $20$ | $1\\le e,a_i,b_i\\le 2$ |\n| 3 | $48$ | $1\\le N,e,a_i,b_i\\le 200$ |\n| 4 | $20$ | 无 |\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^3$，$1\\le e,a_i,b_i\\le 10^4$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day1.pdf) T3 Fun Palace。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2018] Fun Palace", "background": "", "description": "有一个含 $N$ 个点的链，每个点有一个权值。\n\n对于任何 $1\\le i\\le N-1$，都有一条边连接 $(i,i+1)$。\n\n您可以在链中的任意一些节点放置一些生物。\n\n对于第 $i$ 条边，若点 $i$ 至少有 $a_i$ 个生物或点 $i+1$ 至少有 $b_i$ 生物，则该边可以打开。\n\n链是有出口的，如果在 $1$ 号点有 $e$ 个生物，则出口会被打开。\n\n您要确定，至多放置多少个生物，可以使得生物不会打开出口。\n\n**打开了不一定能走过去。**", "inputFormat": "第一行为一个整数 $N$。\n\n第二行为一个整数 $e$。\n\n接下来 $N-1$ 行，一行两个数 $a_i,b_i$。", "outputFormat": "仅一行一个数，表示至多放置多少个生物，可以使得生物不会逃出出口。", "hint": "#### 样例解释\n#### 样例 1 解释\n如果超过 $19$ 个生物，出口就会被打开。\n#### 样例 2 解释\n假设我们放 $24$ 个生物在 $2$ 号点，有 $4$ 个生物就会去到 $1$ 号点，但仍然无法打开出口。\n#### 样例 3 解释\n$9$ 个生物放在 $2$ 号点，$14$ 个生物放在 $7$ 号点。\n\n#### 数据范围及限制\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| 1 | $12$ | $1\\le e\\le 200$，$a_i=b_i=1$ |\n| 2 | $20$ | $1\\le e,a_i,b_i\\le 2$ |\n| 3 | $48$ | $1\\le N,e,a_i,b_i\\le 200$ |\n| 4 | $20$ | 无 |\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^3$，$1\\le e,a_i,b_i\\le 10^4$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day1.pdf) T3 Fun Palace。", "locale": "zh-CN"}}}
{"pid": "P6716", "type": "P", "difficulty": 5, "samples": [["1 10 90 3\n1 2\n1 4\n1 10\n", ""], ["5 4 170 4\n2 3\n2 3\n4 3\n5 1\n", ""]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "二分", "交互题", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2018] Gradient Descent", "background": "**本题为交互题。**", "description": "Troy 要和您一起玩游戏，他的游戏要用一个 $R \\times C$ 的棋盘。\n\n现在给定 $N$ 个棋子（从 $1$ 编号到 $N$），第 $i$ 个棋子放置在 $(X_i,Y_i)$ 处，**同一格可能有多个棋子**。\n\nTroy 可以在一秒内将一个棋子移动到与其垂直或水平相邻的格子中，格子的分数就被 Troy 定义为将这 $N$ 个棋子挪到这个格子的秒数的最小值，您要做的就是找棋盘中格子里的分数的最小值。\n\nTroy 不会告诉您 $N$ 的值和每个棋子的位置，但是您可以问 Troy 最多 $K$ 个问题：格子 $(p,q)$ 的分数。\n\n#### 交互策略\n\n**本题为交互题。**\n\n首先，读入三个整数 $R,C,K$ 代表整个棋盘的大小，和您最多能问多少个问题。\n\n读入完这一行后，您的程序将会对提出关于 $(p,q)$ 的分数的问题（格式为 `? p q`），然后您就会得到一个整数 $s$ 带包这个格子的分数。\n\n一旦您的程序确定了棋盘中的格子的分数的最小值，那么就会输出 `! Z` 并终止程序，$Z$ 就代表最终结果。\n\n在输出每一行后，都应刷新缓冲区：\n\n- C/C++：`fflush(stdout)` or `cout << endl `\n- Java：`System.out.flush() `\n- Pascal：`flush(output)`\n\n如果您输出的格式有误，或者提出的问题超过了 $K$ 个，您的答案就是错误的。", "inputFormat": "None", "outputFormat": "None", "hint": "#### 样例说明\n\n对于样例 $1$\n\n|请求|回答|\n|:-:|:-:|\n||`1 10 90`|\n|`? 1 3`|`9`|\n|`? 1 7`|`11`|\n|`? 1 4`|`8`|\n|`! 8`||\n\n棋子的位置应该在 $(1,2)$，$(1,4)$ 和 $(1,10)$，所以我们得到的所有棋盘上的分数的最小值为 $8$（格子 $(1,4)$ 的分数）。\n\n对于样例 $2$\n\n|请求|回答|\n|:-:|:-:|\n||`5 4 170`|\n|`? 2 4`|`11`|\n|`? 1 4`|`15`|\n|`? 3 3`|`7`|\n|`! 7`||\n\n棋子的位置应该在 $(2,3)$，$(2,3)$，$(4,3)$，$(5,1)$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le R,C \\le 10^7$，$1 \\le K \\le 170$，$1 \\le p\\le R$，$1 \\le q \\le C$，$0 \\le s \\le 2 \\times 10^9$，$1 \\le N \\le 100$，$1 \\le X_i \\le R$，$1 \\le Y_i \\le C$。           \n对于 $20\\%$ 的数据，$R=1$，$C \\le 90$，$K=90$。     \n对于另外 $20\\%$ 的数据，$R=1$，$K=90$。        \n对于另外 $20\\%$ 的数据，$K = 170$。       \n对于另外 $20\\%$ 的数据，$K = 100$。          \n对于另外 $20\\%$ 的数据，$K=75$。\n\nspj 和交互库见附加文件。\n\n#### 说明\n\n翻译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) Day 2 [A Gradient Descent](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day2.pdf)。\n\nspj 作者：@[FZzzz](https://www.luogu.com.cn/user/174045)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2018] Gradient Descent", "background": "**本题为交互题。**", "description": "Troy 要和您一起玩游戏，他的游戏要用一个 $R \\times C$ 的棋盘。\n\n现在给定 $N$ 个棋子（从 $1$ 编号到 $N$），第 $i$ 个棋子放置在 $(X_i,Y_i)$ 处，**同一格可能有多个棋子**。\n\nTroy 可以在一秒内将一个棋子移动到与其垂直或水平相邻的格子中，格子的分数就被 Troy 定义为将这 $N$ 个棋子挪到这个格子的秒数的最小值，您要做的就是找棋盘中格子里的分数的最小值。\n\nTroy 不会告诉您 $N$ 的值和每个棋子的位置，但是您可以问 Troy 最多 $K$ 个问题：格子 $(p,q)$ 的分数。\n\n#### 交互策略\n\n**本题为交互题。**\n\n首先，读入三个整数 $R,C,K$ 代表整个棋盘的大小，和您最多能问多少个问题。\n\n读入完这一行后，您的程序将会对提出关于 $(p,q)$ 的分数的问题（格式为 `? p q`），然后您就会得到一个整数 $s$ 带包这个格子的分数。\n\n一旦您的程序确定了棋盘中的格子的分数的最小值，那么就会输出 `! Z` 并终止程序，$Z$ 就代表最终结果。\n\n在输出每一行后，都应刷新缓冲区：\n\n- C/C++：`fflush(stdout)` or `cout << endl `\n- Java：`System.out.flush() `\n- Pascal：`flush(output)`\n\n如果您输出的格式有误，或者提出的问题超过了 $K$ 个，您的答案就是错误的。", "inputFormat": "None", "outputFormat": "None", "hint": "#### 样例说明\n\n对于样例 $1$\n\n|请求|回答|\n|:-:|:-:|\n||`1 10 90`|\n|`? 1 3`|`9`|\n|`? 1 7`|`11`|\n|`? 1 4`|`8`|\n|`! 8`||\n\n棋子的位置应该在 $(1,2)$，$(1,4)$ 和 $(1,10)$，所以我们得到的所有棋盘上的分数的最小值为 $8$（格子 $(1,4)$ 的分数）。\n\n对于样例 $2$\n\n|请求|回答|\n|:-:|:-:|\n||`5 4 170`|\n|`? 2 4`|`11`|\n|`? 1 4`|`15`|\n|`? 3 3`|`7`|\n|`! 7`||\n\n棋子的位置应该在 $(2,3)$，$(2,3)$，$(4,3)$，$(5,1)$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le R,C \\le 10^7$，$1 \\le K \\le 170$，$1 \\le p\\le R$，$1 \\le q \\le C$，$0 \\le s \\le 2 \\times 10^9$，$1 \\le N \\le 100$，$1 \\le X_i \\le R$，$1 \\le Y_i \\le C$。           \n对于 $20\\%$ 的数据，$R=1$，$C \\le 90$，$K=90$。     \n对于另外 $20\\%$ 的数据，$R=1$，$K=90$。        \n对于另外 $20\\%$ 的数据，$K = 170$。       \n对于另外 $20\\%$ 的数据，$K = 100$。          \n对于另外 $20\\%$ 的数据，$K=75$。\n\nspj 和交互库见附加文件。\n\n#### 说明\n\n翻译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) Day 2 [A Gradient Descent](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day2.pdf)。\n\nspj 作者：@[FZzzz](https://www.luogu.com.cn/user/174045)。", "locale": "zh-CN"}}}
{"pid": "P6717", "type": "P", "difficulty": 6, "samples": [["4 3 1\n6 1 2 4\n1 3", "8\n6"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2018", "CCO（加拿大）"], "title": "[CCO 2018] Boring Lectures", "background": "", "description": "有一个长为 $N$ 的数列，第 $i$ 个数为 $a_i$。\n\n有 $Q$ 次修改，第 $j$ 次会将第 $i_j$ 个数改成 $x_j$。\n\n您需要求出在最初和每次修改之后连续的的 $K$ 个元素中，最大值与次大值的和最大是多少。", "inputFormat": "第一行三个整数 $N,K,Q$ 见题目描述。        \n第二行 $N$ 个整数 $a_i$ 为这个序列。    \n接下来 $Q$ 行每行两个整数 $i_j,x_j$ 代表一次更改。", "outputFormat": "$Q+1$ 行第 $j$ 行代表第 $j-1$ 次修改后得到的答案，第一行就代表未修改前得到的答案。", "hint": "#### 样例说明\n\n对于样例 $1$\n\n- 还未修改时，我们选定 $[1,3]$，得到的和为 $6+2=8$\n- 进行第一次修改时，我们选定 $[2,4]$，得到的和为 $2+4=6$\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2 \\le N \\le 10^6$，$2 \\le K \\le N$，$0 \\le Q \\le 10^5$，$0 \\le a_i \\le 10^9$，$1 \\le i_j \\le N$，$0 \\le x_j \\le 10^9$。           \n对于 $20\\%$ 的数据，$Q=0$。             \n对于另外 $40\\%$ 的数据，$N \\le 10^4$。\n\n#### 说明\n\n翻译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) Day 2 [B Boring Lectures](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2018] Boring Lectures", "background": "", "description": "有一个长为 $N$ 的数列，第 $i$ 个数为 $a_i$。\n\n有 $Q$ 次修改，第 $j$ 次会将第 $i_j$ 个数改成 $x_j$。\n\n您需要求出在最初和每次修改之后连续的的 $K$ 个元素中，最大值与次大值的和最大是多少。", "inputFormat": "第一行三个整数 $N,K,Q$ 见题目描述。        \n第二行 $N$ 个整数 $a_i$ 为这个序列。    \n接下来 $Q$ 行每行两个整数 $i_j,x_j$ 代表一次更改。", "outputFormat": "$Q+1$ 行第 $j$ 行代表第 $j-1$ 次修改后得到的答案，第一行就代表未修改前得到的答案。", "hint": "#### 样例说明\n\n对于样例 $1$\n\n- 还未修改时，我们选定 $[1,3]$，得到的和为 $6+2=8$\n- 进行第一次修改时，我们选定 $[2,4]$，得到的和为 $2+4=6$\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2 \\le N \\le 10^6$，$2 \\le K \\le N$，$0 \\le Q \\le 10^5$，$0 \\le a_i \\le 10^9$，$1 \\le i_j \\le N$，$0 \\le x_j \\le 10^9$。           \n对于 $20\\%$ 的数据，$Q=0$。             \n对于另外 $40\\%$ 的数据，$N \\le 10^4$。\n\n#### 说明\n\n翻译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) Day 2 [B Boring Lectures](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6718", "type": "P", "difficulty": 6, "samples": [["6\n1 3 5 6 4 2\n1 2 3 4 5 6", "4\n2 3\n3 6\n2 5\n4 5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2018] Flop Sorting", "background": "", "description": "Robert 创建了一道线段树题，题目是：\n\n给定长为 $N$ 的排列 $a_i$，我们规定一个翻牌操作为将一个区间的最小值与最大值交换。现在给定您 $Q$ 个翻牌操作，每次对 $[l,r]$ 执行翻牌操作，求进行 $Q$ 次翻牌操作后的最终序列。\n\n搞好了题目描述，接下来要搞数据了。\n\n现在给定了 $N$，初始序列 $a_i$ 和最终序列，求中间要进行的翻牌操作。", "inputFormat": "第一行一个整数代表序列长度 $N$。         \n第二行 $N$ 个整数代表初始序列 $a_i$。    \n第三行 $N$ 个整数代表最终序列。", "outputFormat": "首先第一行一个整数 $Q$ 代表要进行的翻牌操作的次数。    \n接下来 $Q$ 行每行两个整数 $l,r$ 代表对 $[l,r]$ 进行翻牌操作。", "hint": "#### 样例说明\n\n对于样例 $1$，执行的 $4$ 次翻牌操作为：\n\n- 对 $[2,3]$ 进行翻牌操作，交换 $3$ 和 $5$\n- 对 $[3,6]$ 进行翻牌操作，交换 $6$ 和 $2$\n- 对 $[2,5]$ 进行翻牌操作，交换 $5$ 和 $2$\n- 对 $[4,5]$ 进行翻牌操作，交换 $5$ 和 $4$\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le a_i \\le N \\le 4096$，$1 \\le Q \\le 3 \\times 10^5$，$1 \\le l\\le r \\le N$。      \n对于其中 $20\\%$ 的数据，$N \\le 100$。          \n对于另外 $40\\%$ 的数据，$N \\le 2048$。\n\n#### 说明\n\n翻译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) Day 2 [C Flop Shorting](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2018] Flop Sorting", "background": "", "description": "Robert 创建了一道线段树题，题目是：\n\n给定长为 $N$ 的排列 $a_i$，我们规定一个翻牌操作为将一个区间的最小值与最大值交换。现在给定您 $Q$ 个翻牌操作，每次对 $[l,r]$ 执行翻牌操作，求进行 $Q$ 次翻牌操作后的最终序列。\n\n搞好了题目描述，接下来要搞数据了。\n\n现在给定了 $N$，初始序列 $a_i$ 和最终序列，求中间要进行的翻牌操作。", "inputFormat": "第一行一个整数代表序列长度 $N$。         \n第二行 $N$ 个整数代表初始序列 $a_i$。    \n第三行 $N$ 个整数代表最终序列。", "outputFormat": "首先第一行一个整数 $Q$ 代表要进行的翻牌操作的次数。    \n接下来 $Q$ 行每行两个整数 $l,r$ 代表对 $[l,r]$ 进行翻牌操作。", "hint": "#### 样例说明\n\n对于样例 $1$，执行的 $4$ 次翻牌操作为：\n\n- 对 $[2,3]$ 进行翻牌操作，交换 $3$ 和 $5$\n- 对 $[3,6]$ 进行翻牌操作，交换 $6$ 和 $2$\n- 对 $[2,5]$ 进行翻牌操作，交换 $5$ 和 $2$\n- 对 $[4,5]$ 进行翻牌操作，交换 $5$ 和 $4$\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le a_i \\le N \\le 4096$，$1 \\le Q \\le 3 \\times 10^5$，$1 \\le l\\le r \\le N$。      \n对于其中 $20\\%$ 的数据，$N \\le 100$。          \n对于另外 $40\\%$ 的数据，$N \\le 2048$。\n\n#### 说明\n\n翻译自 [Canadian Computing Olympiad 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) Day 2 [C Flop Shorting](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%202/day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6719", "type": "P", "difficulty": 6, "samples": [["4\n0 0\n1 0\n1 1\n0 1\n", "0.293 "], ["4\n0 0\n3 0\n3 1\n0 1\n", "0.500"], ["6\n0 0\n8 0\n8 6\n4 8\n2 8\n0 4\n", "2.189"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2011", "Special Judge", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2011] 2circles", "background": "", "description": "在平面直角坐标系上有一个含 $N$ 个点的凸多边形，现在想在里面放入两个半径为 $R$ 的圆，使两个圆不重合，求 $R$ 的最大值。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来 $N$ 行，一行两个整数 $x_i,y_i$，表示该多边形第 $i$ 个点的坐标。 ", "outputFormat": "仅一个实数 $R$。", "hint": "#### 样例 1 解释\n将两个圆心放在该正方形的对角线上的时候，半径最长，如图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xd9hqgbp.png)\n\n半径为 $\\frac{\\sqrt{2}}{2\\times (1+\\sqrt{2})}\\approx 0.293$。\n#### SPJ 计分标准\n若您的答案与标准答案误差不超过 $0.001$，您就会 AC。\n#### 数据范围及限制\n- 对于 $10\\%$ 的数据，保证 $N=3$。\n- 对于 $40\\%$ 的数据，保证 $N\\le 250$。\n- 对于 $100\\%$ 的数据，保证 $3\\le N\\le 5\\times 10^4$，$-10^7\\le x_i,y_i\\le 10^7$，这些点按逆时针方向给出。\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 1](http://www.boi2011.ro/boi2011/?pagina=probleme) [T1 2circles](http://www.boi2011.ro/resurse/tasks/2circles.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2011] 2circles", "background": "", "description": "在平面直角坐标系上有一个含 $N$ 个点的凸多边形，现在想在里面放入两个半径为 $R$ 的圆，使两个圆不重合，求 $R$ 的最大值。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来 $N$ 行，一行两个整数 $x_i,y_i$，表示该多边形第 $i$ 个点的坐标。 ", "outputFormat": "仅一个实数 $R$。", "hint": "#### 样例 1 解释\n将两个圆心放在该正方形的对角线上的时候，半径最长，如图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xd9hqgbp.png)\n\n半径为 $\\frac{\\sqrt{2}}{2\\times (1+\\sqrt{2})}\\approx 0.293$。\n#### SPJ 计分标准\n若您的答案与标准答案误差不超过 $0.001$，您就会 AC。\n#### 数据范围及限制\n- 对于 $10\\%$ 的数据，保证 $N=3$。\n- 对于 $40\\%$ 的数据，保证 $N\\le 250$。\n- 对于 $100\\%$ 的数据，保证 $3\\le N\\le 5\\times 10^4$，$-10^7\\le x_i,y_i\\le 10^7$，这些点按逆时针方向给出。\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 1](http://www.boi2011.ro/boi2011/?pagina=probleme) [T1 2circles](http://www.boi2011.ro/resurse/tasks/2circles.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6720", "type": "P", "difficulty": 0, "samples": [], "limits": {"time": [100, 100, 100, 100, 100, 100, 100, 100, 100, 100], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2011", "交互题", "Special Judge", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2011] decrypt", "background": "这是一道 **IO 交互题**。", "description": "我们随机了三个数 $R_0,R_1,R_2$，并按以下规则生成了整个 $R$ 序列：\n\n$$R_n=R_{n-2}\\oplus R_{n-1}$$\n\n其中 $\\oplus$ 为异或运算。\n\n此外我们有一个函数 $M$，其是一个双射，即我们保证对于 $x\\not=y$，$M(x)\\not=M(y)$。\n\n您的目标是，经过多次询问后，确定 $R_0,R_1,R_2,M(0),M(1),\\ldots,M(255)$。\n\n#### 交互方式\n你的程序应从标准输入中读入，向标准输出中输出。\n\n您可以向标准输出中输出一个整数 $A$，如果这是您的第 $N$ 次询问，您将会读入：\n\n$$M(A\\oplus R_{N-1})$$\n\n如果您已经得到了所有答案，请输出一行字符串 `SOLUTION`，然后输出 $259$ 行，分别是 $R_0,R_1,R_2,M(0),M(1),\\ldots,M(255)$。\n\n**记得在输出每一行后清空缓冲区！**", "inputFormat": "", "outputFormat": "", "hint": "#### 样例\n（因为样例组不好表示所以放到这里）\n\n我们人为规定 $R_0=0,R_1=1,R_2=3,M(i)=(i+1)\\bmod 256$。\n\n可得 $R_3=1$。\n\n| 输出 | 输入 | 解释 |\n| :-: | :-: | :-: |\n| $10$ | $11$ | $M(10\\oplus 0)=M(10)=11$ |\n| $10$ | $12$ | $M(10\\oplus 1)=M(11)=12$ |\n| $11$ | $9$ | $M(11\\oplus 3)=M(8)=9$ |\n| $12$ | $14$ | $M(12\\oplus 1)=M(13)=14$ |\n| … |  | 省略了一部分输出 |\n| ``SOLUTION`` |  | 省略了一部分输出 |\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证输入的数、输出的数、$R$ 数组、$M(x)$ 中的 $x$ 与 $M(x)$ 均 $\\ge 0$ 且 $\\le 255$。\n\n#### 计分策略\n如果您输出的数并不在上述范围内，您保龄。\n\n您的询问次数需要少于 $320$，否则，您保龄。\n\n#### 提示\n清空缓冲区的方法：\n\nC：\n\n```c\nprintf(\"%d\\n\", q);\nfflush(stdout); \n```\n\nC++：\n```cpp\ncout<<q<< '\\n';\ncout.flush();\n```\n\nPascal：\n```pascal\nwriteln(q);\nflush(output);\n```\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 1](http://www.boi2011.ro/boi2011/?pagina=probleme) [T2 decrypt](http://www.boi2011.ro/resurse/tasks/decrypt.pdf)。\n\n感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的交互库。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2011] decrypt", "background": "这是一道 **IO 交互题**。", "description": "我们随机了三个数 $R_0,R_1,R_2$，并按以下规则生成了整个 $R$ 序列：\n\n$$R_n=R_{n-2}\\oplus R_{n-1}$$\n\n其中 $\\oplus$ 为异或运算。\n\n此外我们有一个函数 $M$，其是一个双射，即我们保证对于 $x\\not=y$，$M(x)\\not=M(y)$。\n\n您的目标是，经过多次询问后，确定 $R_0,R_1,R_2,M(0),M(1),\\ldots,M(255)$。\n\n#### 交互方式\n你的程序应从标准输入中读入，向标准输出中输出。\n\n您可以向标准输出中输出一个整数 $A$，如果这是您的第 $N$ 次询问，您将会读入：\n\n$$M(A\\oplus R_{N-1})$$\n\n如果您已经得到了所有答案，请输出一行字符串 `SOLUTION`，然后输出 $259$ 行，分别是 $R_0,R_1,R_2,M(0),M(1),\\ldots,M(255)$。\n\n**记得在输出每一行后清空缓冲区！**", "inputFormat": "", "outputFormat": "", "hint": "#### 样例\n（因为样例组不好表示所以放到这里）\n\n我们人为规定 $R_0=0,R_1=1,R_2=3,M(i)=(i+1)\\bmod 256$。\n\n可得 $R_3=1$。\n\n| 输出 | 输入 | 解释 |\n| :-: | :-: | :-: |\n| $10$ | $11$ | $M(10\\oplus 0)=M(10)=11$ |\n| $10$ | $12$ | $M(10\\oplus 1)=M(11)=12$ |\n| $11$ | $9$ | $M(11\\oplus 3)=M(8)=9$ |\n| $12$ | $14$ | $M(12\\oplus 1)=M(13)=14$ |\n| … |  | 省略了一部分输出 |\n| ``SOLUTION`` |  | 省略了一部分输出 |\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证输入的数、输出的数、$R$ 数组、$M(x)$ 中的 $x$ 与 $M(x)$ 均 $\\ge 0$ 且 $\\le 255$。\n\n#### 计分策略\n如果您输出的数并不在上述范围内，您保龄。\n\n您的询问次数需要少于 $320$，否则，您保龄。\n\n#### 提示\n清空缓冲区的方法：\n\nC：\n\n```c\nprintf(\"%d\\n\", q);\nfflush(stdout); \n```\n\nC++：\n```cpp\ncout<<q<< '\\n';\ncout.flush();\n```\n\nPascal：\n```pascal\nwriteln(q);\nflush(output);\n```\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 1](http://www.boi2011.ro/boi2011/?pagina=probleme) [T2 decrypt](http://www.boi2011.ro/resurse/tasks/decrypt.pdf)。\n\n感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的交互库。", "locale": "zh-CN"}}}
{"pid": "P6721", "type": "P", "difficulty": 4, "samples": [["5\n1 3 3 4 5\n", "1 9 3 2 4 8 7 5 6"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2011", "Special Judge", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2011] medians", "background": "", "description": "设 $A$ 为 $1,2,3,\\ldots,2\\times N-1$ 的任意一种排列。\n\n我们定义 $A$ 的前缀中位数为一个长度为 $N$ 的数列 $B$，$B_i$ 为 $A_1,A_2,\\ldots,A_{2\\times i-1}$ 的中位数。\n\n我们将会给出 $B$ 数列，请构造一个数列 $A$，使得其前缀中位数为 $B$。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来一行 $N$ 个整数，表示数列 $B$。", "outputFormat": "仅一行 $2\\times N+1$ 个整数，表示您构造的数列 $A$。\n\n数据一定有解，您只需要输出其中一种。", "hint": "#### 数据范围及限制\n- 对于 $60\\%$ 的数据，保证 $N\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^5$，$1\\le A_i,B_i\\le 2\\times N-1$，数据一定有解。\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 1](http://www.boi2011.ro/boi2011/?pagina=probleme) [T3 medians](http://www.boi2011.ro/resurse/tasks/medians.pdf)。\n\n感谢 @[using](https://www.luogu.com.cn/user/193198) 提供的 SPJ。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2011] medians", "background": "", "description": "设 $A$ 为 $1,2,3,\\ldots,2\\times N-1$ 的任意一种排列。\n\n我们定义 $A$ 的前缀中位数为一个长度为 $N$ 的数列 $B$，$B_i$ 为 $A_1,A_2,\\ldots,A_{2\\times i-1}$ 的中位数。\n\n我们将会给出 $B$ 数列，请构造一个数列 $A$，使得其前缀中位数为 $B$。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来一行 $N$ 个整数，表示数列 $B$。", "outputFormat": "仅一行 $2\\times N+1$ 个整数，表示您构造的数列 $A$。\n\n数据一定有解，您只需要输出其中一种。", "hint": "#### 数据范围及限制\n- 对于 $60\\%$ 的数据，保证 $N\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^5$，$1\\le A_i,B_i\\le 2\\times N-1$，数据一定有解。\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 1](http://www.boi2011.ro/boi2011/?pagina=probleme) [T3 medians](http://www.boi2011.ro/resurse/tasks/medians.pdf)。\n\n感谢 @[using](https://www.luogu.com.cn/user/193198) 提供的 SPJ。", "locale": "zh-CN"}}}
{"pid": "P6722", "type": "P", "difficulty": 4, "samples": [["5\n5 2\n1 2 1\n2 3 1\n3 4 1\n4 5 1\n5 3\n1 2 1\n2 3 1\n3 4 1\n4 5 1\n5 8\n1 3 3\n1 2 1\n2 4 6\n2 5 2\n5 2\n1 3 3\n1 2 1\n2 4 6\n2 5 2\n7 4\n1 2 3\n1 3 3\n2 5 3\n2 6 3\n3 7 3\n2 4 2", "Baka Chino\nYes\nYes\nBaka Chino\nBaka Chino"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "搜索", "图论", "二分图", "树的直径"], "title": "「MCOI-01」Village 村庄", "background": "今天，珂爱善良的0x3喵酱骑着一匹小马来到了一个村庄。\n\n“诶，这个村庄的布局 ……”   \n“好像之前我玩 Ciste 的地方啊 qwq”\n\n0x3喵酱有一个地图，地图有着这个村庄的信息。\n\n然后0x3喵酱要通过这张地图来判断 Ciste 有解无解啦 ~\n\n注：Ciste 是《请问您今天要来点兔子吗》中的一种藏宝图游戏", "description": "村庄被简化为一个 $n$ 个节点（编号为 $1$ 到 $n$）和 $n-1$ 条边构成的无向连通图。\n\n0x3喵酱认为这个无向图里的信息跟满足以下条件的新图有关：\n\n- 新图的点集与原图相同\n- 在新图中 $u,v$ 之间有无向边 是 在原图中 $dis(u,v) \\ge k$ 的**充分必要条件** （$k$ 为给定常量，$dis(u,v)$ 表示编号为 $u$ 的点到编号为 $v$ 的点最短路的长度）\n\n0x3喵酱还认为这个\"新图\"如果为二分图，则 Ciste \"有解\"，如果\"新图\"不是二分图这个 Ciste \"无解\"。（如果您不知道二分图请翻到提示）\n\n那么0x3喵酱想请您判断一下这个 Ciste 是否\"有解\"。", "inputFormat": "第一行包含一个正整数 $ T $，表示有 $ T $ 组数据。  \n对于每组数据第一行包含两个正整数 $ n,k $。接下来 $ n-1 $ 行，每行包含三个正整数 $ x,y,v $ 表示编号为 $ x $ 的点到编号为 $ y $ 的点有一条边权为 $ v $  的无向边。  \n输入数据保证合法。\n", "outputFormat": "对于每一组数据包含一行，如果“有解”输出 `Yes`，否则输出 `Baka Chino`。", "hint": "#### 样例解析\n\n对于样例中的 **第一组** 数据：\n\n原图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9f9zh4b2.png)\n新图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dg4es91e.png)\n\n新图不为二分图，故输出 `Baka Chino`。\n\n对于 **第三组** 数据：\n\n原图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mku4v6uo.png)\n\n新图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/15o3x3zz.png)\n\n新图为二分图，故输出 `Yes`。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n- Subtask 1（16 pts）$\\ $ ：$n \\le 10$。\n- Subtask 2（24 pts）$\\ $ ：$n \\le 100$。\n- Subtask 3（8 pts）$\\ $ ：$n \\le 1000$。\n- Subtask 4（28 pts）：图退化成一条链。\n- Subtask 5（24 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$n \\le 10^5$，$T \\le 10$，$v \\le 1000$，$k \\le 1000000$。\n\n本题数据使用 [CYaRon](https://www.luogu.org/discuss/show?postid=11410) 生成。\n\n#### 提示\n\n\n**二分图** 又称作二部图，是图论中的一种特殊模型。设 $G=(V,E)$ 是一个无向图，如果顶点 $V$ 可分割为两个互不相交的子集 $(A,B)$，并且图中的每条边 $(i,j)$ 所关联的两个顶点 $i$ 和 $j$ 分别属于这两个不同的顶点集 $(i \\in A,j \\in B)$，则称图 $G$ 为一个二分图。（摘自[百度百科](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E5%9B%BE/9089095?fr=aladdin)）\n\n#### 说明\n\nMinecraft OI Round 1 A\n\n- Idea：0x3喵酱\n- Solution/Std：0x3喵酱\n- Data：0x3喵酱\n- Tester：tarjin", "locale": "zh-CN", "translations": {"en": {"title": "\"MCOI-01\" Village", "background": "Today, the kind and lovely 0x3 Miaojang rode a little pony to a village.\n\n“Eh, the layout of this village...”\n“Feels like the place where I played Ciste before, qwq.”\n\n0x3 Miaojang has a map that contains information about this village.\n\nThen 0x3 Miaojang wants to use this map to determine whether Ciste has a solution or not.\n\nNote: Ciste is a treasure-map game in *Is the Order a Rabbit?*.", "description": "The village is simplified into an undirected connected graph with $n$ nodes (numbered from $1$ to $n$) and $n-1$ edges.\n\n0x3 Miaojang thinks the information in this undirected graph is related to a new graph that satisfies the following conditions:\n\n- The vertex set of the new graph is the same as that of the original graph.\n- In the new graph, there is an undirected edge between $u$ and $v$ if and only if $dis(u,v) \\ge k$ in the original graph ($k$ is a given constant, and $dis(u,v)$ is the length of the shortest path from node $u$ to node $v$).\n\n0x3 Miaojang also believes that if this \"new graph\" is a bipartite graph, then Ciste \"has a solution\"; if this \"new graph\" is not a bipartite graph, then this Ciste \"has no solution\". (If you do not know what a bipartite graph is, please see the Hint.)\n\nSo 0x3 Miaojang would like you to determine whether this Ciste \"has a solution\".", "inputFormat": "The first line contains a positive integer $T$, meaning there are $T$ test cases.  \nFor each test case, the first line contains two positive integers $n,k$. Then follow $n-1$ lines, each containing three positive integers $x,y,v$, meaning there is an undirected edge of weight $v$ between node $x$ and node $y$.  \nThe input is guaranteed to be valid.", "outputFormat": "For each test case, output one line: if it \"has a solution\", output `Yes`, otherwise output `Baka Chino`.", "hint": "#### Sample Explanation\n\nFor the **first** test case in the samples:\n\nOriginal graph:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9f9zh4b2.png)\nNew graph:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dg4es91e.png)\n\nThe new graph is not bipartite, so output `Baka Chino`.\n\nFor the **third** test case in the samples:\n\nOriginal graph:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mku4v6uo.png)\n\nNew graph:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/15o3x3zz.png)\n\nThe new graph is bipartite, so output `Yes`.\n\n#### Constraints\n\n**This problem uses bundled testdata**.\n\n- Subtask 1 (16 pts): $n \\le 10$.\n- Subtask 2 (24 pts): $n \\le 100$.\n- Subtask 3 (8 pts): $n \\le 1000$.\n- Subtask 4 (28 pts): the graph degenerates into a chain.\n- Subtask 5 (24 pts): no special restrictions.\n\nFor $100\\%$ of the testdata, $n \\le 10^5$, $T \\le 10$, $v \\le 1000$, $k \\le 1000000$.\n\nThe testdata of this problem is generated using [CYaRon](https://www.luogu.org/discuss/show?postid=11410).\n\n#### Hint\n\nA **bipartite graph** (also called a bipartite graph / \"erbufen tu\") is a special model in graph theory. Let $G=(V,E)$ be an undirected graph. If the vertex set $V$ can be divided into two disjoint subsets $(A,B)$, and every edge $(i,j)$ in the graph connects two vertices $i$ and $j$ that belong to these two different sets respectively $(i \\in A,j \\in B)$, then the graph $G$ is called a bipartite graph. (Quoted from [Baidu Baike](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E5%9B%BE/9089095?fr=aladdin).)\n\n#### Notes\n\nMinecraft OI Round 1 A\n\n- Idea: 0x3 Miaojang.\n- Solution/Std: 0x3 Miaojang.\n- Data: 0x3 Miaojang.\n- Tester: tarjin.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「MCOI-01」Village 村庄", "background": "今天，珂爱善良的0x3喵酱骑着一匹小马来到了一个村庄。\n\n“诶，这个村庄的布局 ……”   \n“好像之前我玩 Ciste 的地方啊 qwq”\n\n0x3喵酱有一个地图，地图有着这个村庄的信息。\n\n然后0x3喵酱要通过这张地图来判断 Ciste 有解无解啦 ~\n\n注：Ciste 是《请问您今天要来点兔子吗》中的一种藏宝图游戏", "description": "村庄被简化为一个 $n$ 个节点（编号为 $1$ 到 $n$）和 $n-1$ 条边构成的无向连通图。\n\n0x3喵酱认为这个无向图里的信息跟满足以下条件的新图有关：\n\n- 新图的点集与原图相同\n- 在新图中 $u,v$ 之间有无向边 是 在原图中 $dis(u,v) \\ge k$ 的**充分必要条件** （$k$ 为给定常量，$dis(u,v)$ 表示编号为 $u$ 的点到编号为 $v$ 的点最短路的长度）\n\n0x3喵酱还认为这个\"新图\"如果为二分图，则 Ciste \"有解\"，如果\"新图\"不是二分图这个 Ciste \"无解\"。（如果您不知道二分图请翻到提示）\n\n那么0x3喵酱想请您判断一下这个 Ciste 是否\"有解\"。", "inputFormat": "第一行包含一个正整数 $ T $，表示有 $ T $ 组数据。  \n对于每组数据第一行包含两个正整数 $ n,k $。接下来 $ n-1 $ 行，每行包含三个正整数 $ x,y,v $ 表示编号为 $ x $ 的点到编号为 $ y $ 的点有一条边权为 $ v $  的无向边。  \n输入数据保证合法。\n", "outputFormat": "对于每一组数据包含一行，如果“有解”输出 `Yes`，否则输出 `Baka Chino`。", "hint": "#### 样例解析\n\n对于样例中的 **第一组** 数据：\n\n原图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9f9zh4b2.png)\n新图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dg4es91e.png)\n\n新图不为二分图，故输出 `Baka Chino`。\n\n对于 **第三组** 数据：\n\n原图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mku4v6uo.png)\n\n新图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/15o3x3zz.png)\n\n新图为二分图，故输出 `Yes`。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n- Subtask 1（16 pts）$\\ $ ：$n \\le 10$。\n- Subtask 2（24 pts）$\\ $ ：$n \\le 100$。\n- Subtask 3（8 pts）$\\ $ ：$n \\le 1000$。\n- Subtask 4（28 pts）：图退化成一条链。\n- Subtask 5（24 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$n \\le 10^5$，$T \\le 10$，$v \\le 1000$，$k \\le 1000000$。\n\n本题数据使用 [CYaRon](https://www.luogu.org/discuss/show?postid=11410) 生成。\n\n#### 提示\n\n\n**二分图** 又称作二部图，是图论中的一种特殊模型。设 $G=(V,E)$ 是一个无向图，如果顶点 $V$ 可分割为两个互不相交的子集 $(A,B)$，并且图中的每条边 $(i,j)$ 所关联的两个顶点 $i$ 和 $j$ 分别属于这两个不同的顶点集 $(i \\in A,j \\in B)$，则称图 $G$ 为一个二分图。（摘自[百度百科](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E5%9B%BE/9089095?fr=aladdin)）\n\n#### 说明\n\nMinecraft OI Round 1 A\n\n- Idea：0x3喵酱\n- Solution/Std：0x3喵酱\n- Data：0x3喵酱\n- Tester：tarjin", "locale": "zh-CN"}}}
{"pid": "P6723", "type": "P", "difficulty": 1, "samples": [["1\n100\n4", "4\n40"], ["100\n500\n12", "129\n480"], ["1\n10000\n1", "1\n10000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #5] ZAMKA", "background": "", "description": "给定三个整数 $L,D,X$，你需要找到两个整数 $N,M$，使得：\n\n- $N$ 为满足条件的最小整数，$L\\le N\\le D$ 且 $N$ 的各位数字之和为 $X$；\n- $M$ 为满足条件的最大整数，$L\\le M\\le D$ 且 $M$ 的各位数字之和为 $X$。\n\n保证 $N,M$ 一定存在。", "inputFormat": "输入共三行。\n\n第一行一个整数 $L$，第二行一个整数 $D$，第三行一个整数 $X$。", "outputFormat": "输出共两行。\n\n第一行为一个整数 $N$，第二行为一个整数 $M$。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le L\\le D\\le 10^4$，$1\\le X\\le 36$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T1 ZAMKA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #5] ZAMKA", "background": "", "description": "给定三个整数 $L,D,X$，你需要找到两个整数 $N,M$，使得：\n\n- $N$ 为满足条件的最小整数，$L\\le N\\le D$ 且 $N$ 的各位数字之和为 $X$；\n- $M$ 为满足条件的最大整数，$L\\le M\\le D$ 且 $M$ 的各位数字之和为 $X$。\n\n保证 $N,M$ 一定存在。", "inputFormat": "输入共三行。\n\n第一行一个整数 $L$，第二行一个整数 $D$，第三行一个整数 $X$。", "outputFormat": "输出共两行。\n\n第一行为一个整数 $N$，第二行为一个整数 $M$。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le L\\le D\\le 10^4$，$1\\le X\\le 36$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T1 ZAMKA***。", "locale": "zh-CN"}}}
{"pid": "P6724", "type": "P", "difficulty": 2, "samples": [["aaaa", "a"], ["ab ", "-1"], ["bbabab", "bba"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #5] MULTIGRAM", "background": "", "description": "定义由多个相同的单词首尾相连组成的字符串为复词，定义组成这个字符串的单词为词根。你需要判断它是否为复词。如果是，你需要找到其中第一个出现的词根。如果有多种可能的词根，请输出长度最短的。不是复词则输出 `-1`。\n\n**注意：如果两个字符串经过字母顺序的改变后能够完全相同，则认作同一个单词。**", "inputFormat": "输入一行一个由小写字母组成的字符串。", "outputFormat": "如果给定的字符串不是复词，则输出 `-1`。\n\n否则输出第一个出现的长度最短的词根。", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n注意到 `aa` 也是第一个出现的词根，但 `a` 是最短的。\n\n##### 样例 $2$\n\n这个字符串仅由单词 `ab` 构成，不是复词。\n\n##### 样例 $3$\n\n字符串由两个相同的单词 `bba` 和`bab` 组成，第一个出现的为 `bba`。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，字符串的长度不超过 $10^5$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T2 MULTIGRAM***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #5] MULTIGRAM", "background": "", "description": "定义由多个相同的单词首尾相连组成的字符串为复词，定义组成这个字符串的单词为词根。你需要判断它是否为复词。如果是，你需要找到其中第一个出现的词根。如果有多种可能的词根，请输出长度最短的。不是复词则输出 `-1`。\n\n**注意：如果两个字符串经过字母顺序的改变后能够完全相同，则认作同一个单词。**", "inputFormat": "输入一行一个由小写字母组成的字符串。", "outputFormat": "如果给定的字符串不是复词，则输出 `-1`。\n\n否则输出第一个出现的长度最短的词根。", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n注意到 `aa` 也是第一个出现的词根，但 `a` 是最短的。\n\n##### 样例 $2$\n\n这个字符串仅由单词 `ab` 构成，不是复词。\n\n##### 样例 $3$\n\n字符串由两个相同的单词 `bba` 和`bab` 组成，第一个出现的为 `bba`。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，字符串的长度不超过 $10^5$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T2 MULTIGRAM***。", "locale": "zh-CN"}}}
{"pid": "P6725", "type": "P", "difficulty": 3, "samples": [["5 3\n2 4 2 3 4", "39"], ["5 1\n1 0 1 1 1", "4"], ["5 2\n3 3 4 0 0", "31"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #5] PERICA", "background": "", "description": "给定一个长度为 $N$ 的序列 $a_1,a_2,\\dots,a_N$。\n\n请你求出所有 $K$ 个数的组合中最大数之和 $\\bmod\\ 10^9+7$ 的结果。", "inputFormat": "输入第一行两个整数 $N,K$。\n\n第二行一个长度为 $N$ 的序列 $a_1,a_2,\\dots, a_N$。", "outputFormat": "输出一行一个整数，为所有 $K$ 个数的组合中最大数之和 $\\bmod\\ 10^9+7$ 的结果。", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n所有的 $K$ 个数的组合为：$[2, 4, 2], [2, 4, 3], [2, 4, 4], [2, 2, 3], [2, 2, 4], [2, 3,\n4], [4, 2, 3], [4, 2, 4], [4, 3, 4], [2, 3, 4]$。\n\n#### 数据规模与约定\n\n对于 $40\\%$ 的数据，$N\\le 10^3$；  \n对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，$1\\le K\\le 50$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T3 PERICA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #5] PERICA", "background": "", "description": "给定一个长度为 $N$ 的序列 $a_1,a_2,\\dots,a_N$。\n\n请你求出所有 $K$ 个数的组合中最大数之和 $\\bmod\\ 10^9+7$ 的结果。", "inputFormat": "输入第一行两个整数 $N,K$。\n\n第二行一个长度为 $N$ 的序列 $a_1,a_2,\\dots, a_N$。", "outputFormat": "输出一行一个整数，为所有 $K$ 个数的组合中最大数之和 $\\bmod\\ 10^9+7$ 的结果。", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n所有的 $K$ 个数的组合为：$[2, 4, 2], [2, 4, 3], [2, 4, 4], [2, 2, 3], [2, 2, 4], [2, 3,\n4], [4, 2, 3], [4, 2, 4], [4, 3, 4], [2, 3, 4]$。\n\n#### 数据规模与约定\n\n对于 $40\\%$ 的数据，$N\\le 10^3$；  \n对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，$1\\le K\\le 50$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T3 PERICA***。", "locale": "zh-CN"}}}
{"pid": "P6726", "type": "P", "difficulty": 3, "samples": [["3 1", "3 1 2"], ["4 1", "4 3 1 2"], ["8 17", "6 2 3 1 8 4 5 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #5] POPLAVA", "background": "", "description": "有一个由 $N$ 列组成的柱状图，从左至右的柱子高度分别为 $h_1,h_2,\\dots,h_N$。\n\n现在你需要向其中储水，柱状图的容量定义为使得水的结构“稳定”时最多所能储水的量。即水在重力作用下不会流动。下图为一个稳定的例子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7tnaf06j.png)\n\n具体来说，我们设从左至右每一列上水的高度为 $v_1,v_2,\\dots,v_N$。记 $s_i=h_i+v_i$ ，当满足下列条件时为稳定状态：\n\n- 对于任意的 $i\\geq2$，当$v_i>0$ 时，有$s_i\\le s_{i-1}$；\n\n- 对于任意的 $i\\le N-1$，当$v_i>0$ 时，有$s_i\\le s_{i+1}$；\n\n- $v_1=v_N=0$。\n\n现在你需要选择一个 $1\\sim N$ 的排列作为柱子 $h_1,h_2,\\dots,h_N$ 的高度，使得柱状图的容量为 $X$。如果不存在，则输出 `-1`。如果有多种方案，输出任意一种即可。\n\n", "inputFormat": "输入一行两个整数 $N,X$。", "outputFormat": "如果方案不存在，输出 `-1`；\n\n否则输出一行 $N$个整数，为 $h_1,h_2,\\dots,h_N$。**输出任意一种方案即可，本题使用 SPJ。**", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n$v_1=0,v_2=1,v_3=0$。\n\n##### 样例 $2$\n\n$v_1=0,v_2=0,v_3=1,v_4=0$。\n\n##### 样例 $3$\n\n此样例与题图所对应。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^6$，$1\\le X\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T4 POPLAVA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #5] POPLAVA", "background": "", "description": "有一个由 $N$ 列组成的柱状图，从左至右的柱子高度分别为 $h_1,h_2,\\dots,h_N$。\n\n现在你需要向其中储水，柱状图的容量定义为使得水的结构“稳定”时最多所能储水的量。即水在重力作用下不会流动。下图为一个稳定的例子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7tnaf06j.png)\n\n具体来说，我们设从左至右每一列上水的高度为 $v_1,v_2,\\dots,v_N$。记 $s_i=h_i+v_i$ ，当满足下列条件时为稳定状态：\n\n- 对于任意的 $i\\geq2$，当$v_i>0$ 时，有$s_i\\le s_{i-1}$；\n\n- 对于任意的 $i\\le N-1$，当$v_i>0$ 时，有$s_i\\le s_{i+1}$；\n\n- $v_1=v_N=0$。\n\n现在你需要选择一个 $1\\sim N$ 的排列作为柱子 $h_1,h_2,\\dots,h_N$ 的高度，使得柱状图的容量为 $X$。如果不存在，则输出 `-1`。如果有多种方案，输出任意一种即可。\n\n", "inputFormat": "输入一行两个整数 $N,X$。", "outputFormat": "如果方案不存在，输出 `-1`；\n\n否则输出一行 $N$个整数，为 $h_1,h_2,\\dots,h_N$。**输出任意一种方案即可，本题使用 SPJ。**", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n$v_1=0,v_2=1,v_3=0$。\n\n##### 样例 $2$\n\n$v_1=0,v_2=0,v_3=1,v_4=0$。\n\n##### 样例 $3$\n\n此样例与题图所对应。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^6$，$1\\le X\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T4 POPLAVA***。", "locale": "zh-CN"}}}
{"pid": "P6727", "type": "P", "difficulty": 6, "samples": [["3 3\naaa\nabc\naba\na*a\naaa*\n*aaa", "2\n1\n1"], ["5 3\needecc\nebdecb\neaba\nebcddc\neb\ne*\n*dca\ne*c", "5\n0\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2015", "O2优化", "哈希 hashing", "扫描线", "字典树 Trie", "AC 自动机", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #5] OOP", "background": null, "description": "给定 $N$ 个单词和 $Q$ 个模板，一个模板由一个 `*` 和一些小写字母组成。一个模板覆盖了一个单词当且仅当将 `*` 替换为某个字符串（**可以为空**）后，模板和单词能够完全重合。对于每个模板，求出它能够覆盖多少个单词。", "inputFormat": "输入第一行两个整数 $N,Q$。\n\n接下来的 $N$ 行，每行一个小写字母组成的单词。\n\n接下来的 $Q$ 行，每行一个模板。\n\n以上读入的字符总数少于 $3\\times 10^6$。", "outputFormat": "输出共 $Q$ 行。表示每个模板能够覆盖的单词的个数。", "hint": "#### 数据规模与约定\n对于 $40\\%$ 的数据，$1\\le N,Q\\le 10^3$；  \n对于 $100\\%$ 的数据，$1\\le N,Q\\le 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T5 OOP***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #5] OOP", "background": null, "description": "给定 $N$ 个单词和 $Q$ 个模板，一个模板由一个 `*` 和一些小写字母组成。一个模板覆盖了一个单词当且仅当将 `*` 替换为某个字符串（**可以为空**）后，模板和单词能够完全重合。对于每个模板，求出它能够覆盖多少个单词。", "inputFormat": "输入第一行两个整数 $N,Q$。\n\n接下来的 $N$ 行，每行一个小写字母组成的单词。\n\n接下来的 $Q$ 行，每行一个模板。\n\n以上读入的字符总数少于 $3\\times 10^6$。", "outputFormat": "输出共 $Q$ 行。表示每个模板能够覆盖的单词的个数。", "hint": "#### 数据规模与约定\n对于 $40\\%$ 的数据，$1\\le N,Q\\le 10^3$；  \n对于 $100\\%$ 的数据，$1\\le N,Q\\le 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T5 OOP***。", "locale": "zh-CN"}}}
{"pid": "P6728", "type": "P", "difficulty": 6, "samples": [["2 3 1 5\n1 2", "1\n3\n2"], ["3 4 2 3\n1 3 1", "1\n1\n0\n2"], ["5 6 23 1000\n1 2 4 2 3", "1\n25\n25\n577\n274\n578"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["字符串", "2015", "倍增", "有限状态自动机", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #5] PODNIZOVI", "background": "", "description": "给定一个长度为 $N$ 的数组 $a_1,a_2,\\dots,a_N$。令 $s_1,s_2,\\dots,s_q$ 为这个数组所有的非空子序列，且 $q=2^n-1$。\n\n关于字典序：如果两个数组 $A$ 和 $B$ 的第一个不相同的位置为 $i$，且 $A_i<B_i$；或 $A$ 是 $B$ 的严格前缀（即不能相等），则 $A$ 的字典序小于 $B$。\n\n我们将由 $v_1,v_2,\\dots,v_p$ 组成的数组的 hash 值定义为：\n\n$$h(s)=(v_1\\times B^{p-1}+v_2\\times B^{p-2}+\\dots +v_{p-1}\\times B+v_p) \\bmod M$$\n\n其中 $B,M$ 是给定的整数。\n\n对于给定的整数 $K$，求 $h(s_1),h(s_2),\\dots,h(s_K)$ 的值。", "inputFormat": "第一行四个整数 $N,K,B,M$。\n\n第二行 $N$ 个整数 $a_1,a_2,\\dots,a_N$。\n\n", "outputFormat": "输出共 $K$ 行，第 $i$ 行为 $h(s_i)$ 的值。", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n$s_1 = [1], s_2 = [1, 2], s_3 = [2]$。\n\n$h(s_1) = 1 \\bmod 5 = 1, h(s_2) =(1 + 2) \\bmod 5 = 3, h(s_3) = 2 \\bmod 5 = 2$。\n\n##### 样例 $2$\n\n$s_1 = [1], s_2 = [1], s_3 = [1, 1], s_4 = [1, 3]$。\n\n$h(s1) = 1 \\bmod 3 = 1,h(s_2) = 1 \\bmod 3 = 1, h(s_3) = (1 \\times 2 + 1) \\bmod 3 = 0, h(s_4) = (1 \\times 2 + 3) \\bmod 3 = 2$。\n\n\n\n#### 数据规模与约定\n对于 $60\\%$ 的数据，$1\\le a_i\\le 30$；  \n对于 $100\\%$ 的数据，$1\\le N,K,a_i\\le 10^5$，$1\\le B,M\\le 10^6$，$K\\le 2^N-1$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T6 PODNIZOVI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #5] PODNIZOVI", "background": "", "description": "给定一个长度为 $N$ 的数组 $a_1,a_2,\\dots,a_N$。令 $s_1,s_2,\\dots,s_q$ 为这个数组所有的非空子序列，且 $q=2^n-1$。\n\n关于字典序：如果两个数组 $A$ 和 $B$ 的第一个不相同的位置为 $i$，且 $A_i<B_i$；或 $A$ 是 $B$ 的严格前缀（即不能相等），则 $A$ 的字典序小于 $B$。\n\n我们将由 $v_1,v_2,\\dots,v_p$ 组成的数组的 hash 值定义为：\n\n$$h(s)=(v_1\\times B^{p-1}+v_2\\times B^{p-2}+\\dots +v_{p-1}\\times B+v_p) \\bmod M$$\n\n其中 $B,M$ 是给定的整数。\n\n对于给定的整数 $K$，求 $h(s_1),h(s_2),\\dots,h(s_K)$ 的值。", "inputFormat": "第一行四个整数 $N,K,B,M$。\n\n第二行 $N$ 个整数 $a_1,a_2,\\dots,a_N$。\n\n", "outputFormat": "输出共 $K$ 行，第 $i$ 行为 $h(s_i)$ 的值。", "hint": "#### 样例解释\n\n##### 样例 $1$\n\n$s_1 = [1], s_2 = [1, 2], s_3 = [2]$。\n\n$h(s_1) = 1 \\bmod 5 = 1, h(s_2) =(1 + 2) \\bmod 5 = 3, h(s_3) = 2 \\bmod 5 = 2$。\n\n##### 样例 $2$\n\n$s_1 = [1], s_2 = [1], s_3 = [1, 1], s_4 = [1, 3]$。\n\n$h(s1) = 1 \\bmod 3 = 1,h(s_2) = 1 \\bmod 3 = 1, h(s_3) = (1 \\times 2 + 1) \\bmod 3 = 0, h(s_4) = (1 \\times 2 + 3) \\bmod 3 = 2$。\n\n\n\n#### 数据规模与约定\n对于 $60\\%$ 的数据，$1\\le a_i\\le 30$；  \n对于 $100\\%$ 的数据，$1\\le N,K,a_i\\le 10^5$，$1\\le B,M\\le 10^6$，$K\\le 2^N-1$。\n\n#### 说明\n\n**题目译自 [COCI2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #5](https://hsin.hr/coci/archive/2015_2016/contest5_tasks.pdf) *T6 PODNIZOVI***。", "locale": "zh-CN"}}}
