{"pid": "P11183", "type": "P", "difficulty": 6, "samples": [["3 3 2\n1 1\n2 2\n5 1", "3"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "ROIR（俄罗斯）"], "title": "[ROIR 2018] 大数据处理 (Day2)", "background": "", "description": "**译自 ROI 2018 Regional. Day2 T4.** ***[Обработка больших данных](http://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-regional-2018-day2.pdf)***\n\n某实验室正在研发一种能处理大规模数据的新型超级计算机。\n\n这台超算的内存包含 $2^k$ 个存储单元，依次编号为 $0\\ldots 2^k-1.$ 用内存段 $[L,R]$ 表示编号 $≥L$ 且 $≤R$ 的所有存储单元，该内存段的长度为 $R-L+1.$\n\n定义：如果内存段 $[L,R]$ 的长度是 $2$ 的整数次幂（不妨假设是 $2^i$），且 $L$ 是 $2^i$ 的整数倍，那么这个内存段是「正确的内存段」。\n\n若 $k=3,$ 则正确的内存段为 $[0,7],$ $[0,3],$ $[4,7],$ $[0,1],$ $[2,3],$ $[4,5],$ $[6,7],$ $[0,0],$ $[1,1],$ $[2,2],$ $[3,3],$ $[4,4],$ $[5,5],$ $[6,6]$ 和 $[7,7].$\n\n现在，每个存储单元所存储的值均为 0. 你需要给每个存储单元赋值。简单起见，我们用游程编码的形式给出每个单元上的值。开头的 $c_1$ 个单元中存储的值为 $v_1,$ 接下来 $c_2$ 个单元中存储的的值为 $v_2,$ 以此类推，最后的 $c_n$ 个单元中存储的值为 $c_n,$ $1≤v_i≤m.$\n\n举个例子，如果 $k = 3,$ $n = 3,$ $m = 2,$ $c = \\{1,$ $2,$ $5\\},$ $v = \\{1,$ $2,$ $1\\},$ 那么内存将被赋值为 $[1,$ $2,$ $2,$ $1,$ $1,$ $1,$ $1,$ $1].$\n\n你只有一种方法给单元赋值：$\\mathtt{STORE}([l,r],x).$ 该函数表示将内存段 $[l,r]$ 中所有单元全部赋值为 $x.$ 注意，$[l,r]$ 必须是合法的内存段。\n\n试求至少需要多少次操作才能达成要求。", "inputFormat": "第一行三个整数 $k,n,m$。  \n接下来的 $n$ 行，每行两个整数 $c_i,v_i$。", "outputFormat": "输出一行一个整数，表示至少的次数。", "hint": "### 样例解释\n\n目标：$[1, 2, 2, 1, 1, 1, 1, 1]$\n- $\\mathtt{STORE}([0, 7], 1),$ 得到 $[1, 1, 1, 1, 1, 1, 1, 1];$\n- $\\mathtt{STORE}([1, 1], 2),$ 得到 $[1, 2, 1, 1, 1, 1, 1, 1];$\n- $\\mathtt{STORE}([2, 2], 2),$ 得到 $[1, 2, 2, 1, 1, 1, 1, 1].$\n\n### 数据范围\n\n$0 ≤ k ≤ 30,$ $1 ≤ n ≤ 10^5,$ $1 ≤ m ≤ 10^9.$\n\n|子任务编号|分值|$k\\le $|$k\\le$|$m\\le$|\n|:-:|:-:|:-:|:-:|:-:|\n|1|15|$3$|$8$|&nbsp;$8$&nbsp;|\n|2|&nbsp;15&nbsp;|$19$| |$10$|\n|3|15| | |$10$|\n|4|10| | |$50$|\n|5|15|$19$| | |\n|6|30| | | |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2018] 大数据处理 (Day2)", "background": "", "description": "**译自 ROI 2018 Regional. Day2 T4.** ***[Обработка больших данных](http://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-regional-2018-day2.pdf)***\n\n某实验室正在研发一种能处理大规模数据的新型超级计算机。\n\n这台超算的内存包含 $2^k$ 个存储单元，依次编号为 $0\\ldots 2^k-1.$ 用内存段 $[L,R]$ 表示编号 $≥L$ 且 $≤R$ 的所有存储单元，该内存段的长度为 $R-L+1.$\n\n定义：如果内存段 $[L,R]$ 的长度是 $2$ 的整数次幂（不妨假设是 $2^i$），且 $L$ 是 $2^i$ 的整数倍，那么这个内存段是「正确的内存段」。\n\n若 $k=3,$ 则正确的内存段为 $[0,7],$ $[0,3],$ $[4,7],$ $[0,1],$ $[2,3],$ $[4,5],$ $[6,7],$ $[0,0],$ $[1,1],$ $[2,2],$ $[3,3],$ $[4,4],$ $[5,5],$ $[6,6]$ 和 $[7,7].$\n\n现在，每个存储单元所存储的值均为 0. 你需要给每个存储单元赋值。简单起见，我们用游程编码的形式给出每个单元上的值。开头的 $c_1$ 个单元中存储的值为 $v_1,$ 接下来 $c_2$ 个单元中存储的的值为 $v_2,$ 以此类推，最后的 $c_n$ 个单元中存储的值为 $c_n,$ $1≤v_i≤m.$\n\n举个例子，如果 $k = 3,$ $n = 3,$ $m = 2,$ $c = \\{1,$ $2,$ $5\\},$ $v = \\{1,$ $2,$ $1\\},$ 那么内存将被赋值为 $[1,$ $2,$ $2,$ $1,$ $1,$ $1,$ $1,$ $1].$\n\n你只有一种方法给单元赋值：$\\mathtt{STORE}([l,r],x).$ 该函数表示将内存段 $[l,r]$ 中所有单元全部赋值为 $x.$ 注意，$[l,r]$ 必须是合法的内存段。\n\n试求至少需要多少次操作才能达成要求。", "inputFormat": "第一行三个整数 $k,n,m$。  \n接下来的 $n$ 行，每行两个整数 $c_i,v_i$。", "outputFormat": "输出一行一个整数，表示至少的次数。", "hint": "### 样例解释\n\n目标：$[1, 2, 2, 1, 1, 1, 1, 1]$\n- $\\mathtt{STORE}([0, 7], 1),$ 得到 $[1, 1, 1, 1, 1, 1, 1, 1];$\n- $\\mathtt{STORE}([1, 1], 2),$ 得到 $[1, 2, 1, 1, 1, 1, 1, 1];$\n- $\\mathtt{STORE}([2, 2], 2),$ 得到 $[1, 2, 2, 1, 1, 1, 1, 1].$\n\n### 数据范围\n\n$0 ≤ k ≤ 30,$ $1 ≤ n ≤ 10^5,$ $1 ≤ m ≤ 10^9.$\n\n|子任务编号|分值|$k\\le $|$k\\le$|$m\\le$|\n|:-:|:-:|:-:|:-:|:-:|\n|1|15|$3$|$8$|&nbsp;$8$&nbsp;|\n|2|&nbsp;15&nbsp;|$19$| |$10$|\n|3|15| | |$10$|\n|4|10| | |$50$|\n|5|15|$19$| | |\n|6|30| | | |", "locale": "zh-CN"}}}
{"pid": "P11184", "type": "P", "difficulty": 2, "samples": [["2\n10 2\n1 0\n", "2\n1\n"], ["参见 division/division2.in", "参见 division/division2.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "洛谷原创", "洛谷月赛"], "title": "带余除法", "background": "**注意：提交至洛谷时，请使用标准输入输出，而非文件输入输出。**\n\n**NOTICE: When submitting your code on Luogu site, please use standard IO instead of file IO.**\n\n[点我（或在本题底部）下载中文试题 PDF。](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/asjh3my3?contestId=200686)\n\n[Click here (or at the bottom  of this page) to download the English version of statements (PDF).](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/lkux3617?contestId=200686)\n\n**注意：本次比赛所有题目的大样例均为 Linux 换行符格式，在 Windows 系统内可能无法正常显示换行。**\n", "description": "我们已经学过带余除法。对于两个正整数 $n,q$，如果 $n$ 除以 $q$ 的商为 $k$，余数为 $r$，我们可以写出带余除法算式 $n\\div q = k \\cdots\\cdots r$，或被记为 $n\\div q = k (\\text{r. } r)$。本题中，为了简化，哪怕 $r=0$，我们也要写出这个余数。\n\n现在有一个带余除法，然而你只知道被除数 $n​$ 和商 $k​$，而并不知道除数 $q​$ 和余数 $r​$。你想知道余数有多少种可能。", "inputFormat": "**本题有多组测试数据**。输入的第一行有一个正整数 $T$，表示数据组数。\n\n之后 $T$ 行，每行有一个正整数 $n$ 和自然数 $k$，分别表示带余除法的被除数和商。", "outputFormat": "对于每组测试数据，输出一行一个自然数，表示余数的不同可能性数量。", "hint": "【样例 1 解释】\n\n对于第一组数据，被除数为 $10$，商为 $2$。\n\n- 如果除数是 $1,2,3$，那么商分别是 $k=10,5,3$，不符合题意。\n- 如果除数是 $4$，那么商为 $2$，余数为 $r=2$。\n- 如果除数是 $5$，那么商为 $2$，余数为 $r=0$。\n- 如果除数是 $6,7,8,9,10$，那么商都是 $1$，不符合题意。\n- 如果除数 $>10$，那么商为 $0$，不符合题意。\n\n对于第二组数据，被除数为 $1$，商为 $0$。\n\n只要除数 $q>1$，那么 $1\\div q = 0 \\cdots\\cdots 1$ 一定是正确的带余除法算式。余数只有 $1$ 这一种可能。\n\n【数据范围】\n\n对于前 $30\\%$ 的数据，保证 $1\\le n\\le 1000$，$0\\le k\\le 1000$。\n\n另有 $20\\%$ 的数据，保证 $k\\le 10^5$。\n\n另有 $20\\%$ 的数据，保证 $k\\ge 10^9$。\n\n对于全体数据，保证 $1\\le T\\le 10$，$1\\le n\\le 10^{14}$，$0\\le k\\le 10^{14}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "带余除法", "background": "**注意：提交至洛谷时，请使用标准输入输出，而非文件输入输出。**\n\n**NOTICE: When submitting your code on Luogu site, please use standard IO instead of file IO.**\n\n[点我（或在本题底部）下载中文试题 PDF。](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/asjh3my3?contestId=200686)\n\n[Click here (or at the bottom  of this page) to download the English version of statements (PDF).](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/lkux3617?contestId=200686)\n\n**注意：本次比赛所有题目的大样例均为 Linux 换行符格式，在 Windows 系统内可能无法正常显示换行。**\n", "description": "我们已经学过带余除法。对于两个正整数 $n,q$，如果 $n$ 除以 $q$ 的商为 $k$，余数为 $r$，我们可以写出带余除法算式 $n\\div q = k \\cdots\\cdots r$，或被记为 $n\\div q = k (\\text{r. } r)$。本题中，为了简化，哪怕 $r=0$，我们也要写出这个余数。\n\n现在有一个带余除法，然而你只知道被除数 $n​$ 和商 $k​$，而并不知道除数 $q​$ 和余数 $r​$。你想知道余数有多少种可能。", "inputFormat": "**本题有多组测试数据**。输入的第一行有一个正整数 $T$，表示数据组数。\n\n之后 $T$ 行，每行有一个正整数 $n$ 和自然数 $k$，分别表示带余除法的被除数和商。", "outputFormat": "对于每组测试数据，输出一行一个自然数，表示余数的不同可能性数量。", "hint": "【样例 1 解释】\n\n对于第一组数据，被除数为 $10$，商为 $2$。\n\n- 如果除数是 $1,2,3$，那么商分别是 $k=10,5,3$，不符合题意。\n- 如果除数是 $4$，那么商为 $2$，余数为 $r=2$。\n- 如果除数是 $5$，那么商为 $2$，余数为 $r=0$。\n- 如果除数是 $6,7,8,9,10$，那么商都是 $1$，不符合题意。\n- 如果除数 $>10$，那么商为 $0$，不符合题意。\n\n对于第二组数据，被除数为 $1$，商为 $0$。\n\n只要除数 $q>1$，那么 $1\\div q = 0 \\cdots\\cdots 1$ 一定是正确的带余除法算式。余数只有 $1$ 这一种可能。\n\n【数据范围】\n\n对于前 $30\\%$ 的数据，保证 $1\\le n\\le 1000$，$0\\le k\\le 1000$。\n\n另有 $20\\%$ 的数据，保证 $k\\le 10^5$。\n\n另有 $20\\%$ 的数据，保证 $k\\ge 10^9$。\n\n对于全体数据，保证 $1\\le T\\le 10$，$1\\le n\\le 10^{14}$，$0\\le k\\le 10^{14}$。", "locale": "zh-CN"}}}
{"pid": "P11185", "type": "P", "difficulty": 2, "samples": [["4\n8 5 0\n4 5 3\n4 1 2\n2 1 1\n", "1\n1\n2\n3\n"], ["参见 medal/medal2.in", "参见 medal/medal2.ans"], ["参见 medal/medal3.in", "参见 medal/medal3.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "洛谷月赛"], "title": "奖牌排序", "background": "", "description": "有 $n$ 个小朋友参加了若干场比赛，其中第 $i$ 个小朋友获得了 $g_i$ 枚金牌、$s_i$ 枚银牌和 $b_i$ 枚铜牌。老师希望**每个小朋友**制作一张**所有小朋友**的排行榜。\n\n然而小朋友们为了让自己的排名尽量靠前，自然是可以动一些小心思的，体现在排序标准上——每个小朋友可以选择按照金牌数从大到小排序，也可以选择按照银牌数从大到小排序，也可以选择按照铜牌数从大到小排序。在小朋友自制的排行榜里，如果自己和别的小朋友并列，那么他可以把自己写在最前面。\n\n给出每个小朋友获得的金牌数、银牌数和铜牌数，请对于每个小朋友 $i$，计算他在他自己的排行榜里最好能排第几名。", "inputFormat": "输入的第一行有一个正整数 $n$，表示小朋友的个数。\n\n之后 $n$ 行，每行有三个自然数 $g_i,s_i,b_i$ 表示一个小朋友的金牌、银牌和铜牌数量。", "outputFormat": "输出 $n$ 行，每行一个正整数，其中第 $i$ 行的正整数表示第 $i$ 个小朋友的最好排名。", "hint": "【样例 1 解释】\n\n下面给出一种可能得情况，其中加粗的一列表示这个小朋友的排序依据。\n\n第一个小朋友制作的排行榜如下：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$1$|$\\bf{8}$|$5$|$0$|\n|$2$|$\\bf 4$|$5$|$3$|\n|$3$|$\\bf 4$|$1$|$2$|\n|$4$|$\\bf 2$|$1$|$1$|\n\n第二个小朋友制作的排行榜如下：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$2$|$4$|$\\bf 5$|$3$|\n|$1$|$8$|$\\bf 5$|$0$|\n|$3$|$4$|$\\bf 1$|$2$|\n|$4$|$2$|$\\bf 1$|$1$|\n\n第三个小朋友的排行榜如下（按照金牌排序，也可以获得第二名）：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$2$|$4$|$5$|$\\bf 3$|\n|$3$|$4$|$1$|$\\bf 2$|\n|$4$|$2$|$1$|$\\bf 1$|\n|$1$|$8$|$5$|$\\bf 0$|\n\n第四个小朋友的排行榜如下：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$2$|$4$|$\\bf 5$|$3$|\n|$1$|$8$|$\\bf 5$|$0$|\n|$4$|$2$|$\\bf 1$|$1$|\n|$3$|$4$|$\\bf 1$|$2$|\n\n【样例 2 解释】\n\n该样例符合测试点 $8$ 的性质。\n\n【样例 3 解释】\n\n该样例符合测试点 $10$ 的性质。\n\n【数据范围】\n\n对于全体数据，保证 $1\\le n\\le 2\\times 10^5$，且 $0\\le g_i,s_i,b_i\\le 10^9$。\n\n|测试点编号|$n\\le$|特殊性质|\n|:-:|:-:|:-:|\n|$1\\sim 2$|$3$||\n|$3\\sim 4$|$100$||\n|$5\\sim 7$|$1000$|A|\n|$8\\sim 9$|$1000$||\n|$10\\sim 12$|$2\\times 10^5$|A|\n|$13\\sim 15$|$2\\times 10^5$|B|\n|$16\\sim 20$|$2\\times 10^5$||\n\n- 特殊性质 A：$g_i$ 互不相同，$s_i$ 互不相同，$b_i$ 互不相同。\n- 特殊性质 B：$1\\le g_i,s_i,b_i\\le 2\\times 10^5$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "奖牌排序", "background": "", "description": "有 $n$ 个小朋友参加了若干场比赛，其中第 $i$ 个小朋友获得了 $g_i$ 枚金牌、$s_i$ 枚银牌和 $b_i$ 枚铜牌。老师希望**每个小朋友**制作一张**所有小朋友**的排行榜。\n\n然而小朋友们为了让自己的排名尽量靠前，自然是可以动一些小心思的，体现在排序标准上——每个小朋友可以选择按照金牌数从大到小排序，也可以选择按照银牌数从大到小排序，也可以选择按照铜牌数从大到小排序。在小朋友自制的排行榜里，如果自己和别的小朋友并列，那么他可以把自己写在最前面。\n\n给出每个小朋友获得的金牌数、银牌数和铜牌数，请对于每个小朋友 $i$，计算他在他自己的排行榜里最好能排第几名。", "inputFormat": "输入的第一行有一个正整数 $n$，表示小朋友的个数。\n\n之后 $n$ 行，每行有三个自然数 $g_i,s_i,b_i$ 表示一个小朋友的金牌、银牌和铜牌数量。", "outputFormat": "输出 $n$ 行，每行一个正整数，其中第 $i$ 行的正整数表示第 $i$ 个小朋友的最好排名。", "hint": "【样例 1 解释】\n\n下面给出一种可能得情况，其中加粗的一列表示这个小朋友的排序依据。\n\n第一个小朋友制作的排行榜如下：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$1$|$\\bf{8}$|$5$|$0$|\n|$2$|$\\bf 4$|$5$|$3$|\n|$3$|$\\bf 4$|$1$|$2$|\n|$4$|$\\bf 2$|$1$|$1$|\n\n第二个小朋友制作的排行榜如下：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$2$|$4$|$\\bf 5$|$3$|\n|$1$|$8$|$\\bf 5$|$0$|\n|$3$|$4$|$\\bf 1$|$2$|\n|$4$|$2$|$\\bf 1$|$1$|\n\n第三个小朋友的排行榜如下（按照金牌排序，也可以获得第二名）：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$2$|$4$|$5$|$\\bf 3$|\n|$3$|$4$|$1$|$\\bf 2$|\n|$4$|$2$|$1$|$\\bf 1$|\n|$1$|$8$|$5$|$\\bf 0$|\n\n第四个小朋友的排行榜如下：\n\n|小朋友编号|金牌数|银牌数|铜牌数|\n|:-:|:-:|:-:|:-:|\n|$2$|$4$|$\\bf 5$|$3$|\n|$1$|$8$|$\\bf 5$|$0$|\n|$4$|$2$|$\\bf 1$|$1$|\n|$3$|$4$|$\\bf 1$|$2$|\n\n【样例 2 解释】\n\n该样例符合测试点 $8$ 的性质。\n\n【样例 3 解释】\n\n该样例符合测试点 $10$ 的性质。\n\n【数据范围】\n\n对于全体数据，保证 $1\\le n\\le 2\\times 10^5$，且 $0\\le g_i,s_i,b_i\\le 10^9$。\n\n|测试点编号|$n\\le$|特殊性质|\n|:-:|:-:|:-:|\n|$1\\sim 2$|$3$||\n|$3\\sim 4$|$100$||\n|$5\\sim 7$|$1000$|A|\n|$8\\sim 9$|$1000$||\n|$10\\sim 12$|$2\\times 10^5$|A|\n|$13\\sim 15$|$2\\times 10^5$|B|\n|$16\\sim 20$|$2\\times 10^5$||\n\n- 特殊性质 A：$g_i$ 互不相同，$s_i$ 互不相同，$b_i$ 互不相同。\n- 特殊性质 B：$1\\le g_i,s_i,b_i\\le 2\\times 10^5$。\n", "locale": "zh-CN"}}}
{"pid": "P11186", "type": "P", "difficulty": 4, "samples": [["20 5\nx>12?x<15?4:10:x<12?14:7\n15\n12\n14\n7\n1000000", "10\n7\n4\n14\n10\n"], ["参见 expr/expr2.in", "参见 expr/expr2.ans"], ["参见 expr/expr3.in", "参见 expr/expr3.ans"], ["参见 expr/expr4.in", "参见 expr/expr4.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "树形数据结构", "二分", "递归", "洛谷原创", "洛谷月赛"], "title": "三目运算", "background": "", "description": "三目运算是一种比较特殊的运算，功能类似于 `if` 语句，其语法格式如下：\n\n`条件?数值1:数值2`，三目运算得到的结果也是数值。当条件成立时得到的结果是数值 1，不成立时得到的结果为数值 2。\n\n例如，`x>5?8:6` 就是一种三目运算表达式（也是分段常数表达式，见下文）。当 $x=7$ 时，该表达式的结果为 $8$，而 $x=3$ 时，该表达式的结果为 $6$。\n\n---\n\n本题中，称满足下列条件中**至少一条**的字符串 $S$ 是**分段常数表达式**：\n\n- 十进制正整数 $a$，如 `243`，是分段常数表达式。\n- 如果 $a$ 为一个十进制正整数，$p,q$ 为两个分段常数表达式，则 $\\texttt{x>}a\\texttt{?}p\\texttt{:}q$ 是分段常数表达式。\n- 如果 $a$ 为一个十进制正整数，$p,q$ 为两个分段常数表达式，则 $\\texttt{x<}a\\texttt{?}p\\texttt{:}q$ 是分段常数表达式。\n\n（后两条条件中， $x>a$ 和 $x<a$ 是条件，$p,q$ 为数值，该表达式是三目运算表达式。）\n\n例如，`x>154?220:x<37?16:10` 是一个分段常数表达式，因为 `220` 和 `x<37?16:10` 都是分段常数表达式，从而整个表达式由第 2 条规则也是分段常数表达式。\n\n---\n\n给出一个分段常数表达式 $S$，保证出现的正整数均不超过 $m$。\n\nyummy 有 $q$ 个询问，每次给出一个自然数 $x$ 的值，希望你求出分段常数表达式的值。", "inputFormat": "输入的第一行有两个正整数 $m,q$，分别表示表达式出现数字的最大可能值和询问个数。\n\n第二行有一个字符串 $S$，表示这个分段常数表达式。\n\n之后有 $q$ 行，每行有一个自然数 $x$，表示一次询问。", "outputFormat": "对于每个询问输出一行一个正整数，表示表达式的结果。", "hint": "【样例 1 解释】\n\n如果我们进行适当的换行和缩进可以得到：\n\n```cpp\nx>12?    //如果 x>12\n  x<15?  //那么判断 x<15 是否成立\n    4    //如果是则得到 4\n    :10  //如果不是则得到 10\n  :x<12? //否则（如果 x<=12) 判断 x<12 是否成立\n    14   //如果是则返回 14\n    :7   //如果不是则返回 7\n```\n\n按照这个思路模拟即可得到样例输出。\n\n【样例 2 解释】\n\n该样例满足测试点 $6$ 的性质。\n\n【样例 3 解释】\n\n该样例满足测试点 $10$ 的性质。\n\n【样例 4 解释】\n\n该样例满足测试点 $19$ 的性质。\n\n【数据范围】\n\n设 $n$ 为 $S$ 中三目运算符的个数。（选手可以通过 $n$ 来估计 $S$ 的串长。）\n\n对于全体数据，保证 $0\\le n\\le 10^5$，$1\\le m\\le 10^5$，$1\\le q\\le 10^5​$，$1\\le x\\le 10^9$，且 $S$ 是分段常数表达式。\n\n| 测试点编号  | $n\\le$ | $m\\le$ | $q\\le$ |\n|:-:|:-:|:-:|:-:|\n| $1$         | $0$    | $10^5$ | $10$   |\n| $2$         | $1$   | $10^5$ | $10$   |\n| $3\\sim 5$   | $100$ | $9$    | $10$   |\n| $6\\sim 9$   | $100$ | $10^5$ | $10$   |\n| $10\\sim 12$ | $10^5$ | $9$    | $10$   |\n| $13\\sim 16$ | $10^5$ | $10^5$ | $10$   |\n| $17\\sim 18$ | $10^5$ | $9$    | $10^5$ |\n| $19\\sim 25$ | $10^5$ | $10^5$ | $10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "三目运算", "background": "", "description": "三目运算是一种比较特殊的运算，功能类似于 `if` 语句，其语法格式如下：\n\n`条件?数值1:数值2`，三目运算得到的结果也是数值。当条件成立时得到的结果是数值 1，不成立时得到的结果为数值 2。\n\n例如，`x>5?8:6` 就是一种三目运算表达式（也是分段常数表达式，见下文）。当 $x=7$ 时，该表达式的结果为 $8$，而 $x=3$ 时，该表达式的结果为 $6$。\n\n---\n\n本题中，称满足下列条件中**至少一条**的字符串 $S$ 是**分段常数表达式**：\n\n- 十进制正整数 $a$，如 `243`，是分段常数表达式。\n- 如果 $a$ 为一个十进制正整数，$p,q$ 为两个分段常数表达式，则 $\\texttt{x>}a\\texttt{?}p\\texttt{:}q$ 是分段常数表达式。\n- 如果 $a$ 为一个十进制正整数，$p,q$ 为两个分段常数表达式，则 $\\texttt{x<}a\\texttt{?}p\\texttt{:}q$ 是分段常数表达式。\n\n（后两条条件中， $x>a$ 和 $x<a$ 是条件，$p,q$ 为数值，该表达式是三目运算表达式。）\n\n例如，`x>154?220:x<37?16:10` 是一个分段常数表达式，因为 `220` 和 `x<37?16:10` 都是分段常数表达式，从而整个表达式由第 2 条规则也是分段常数表达式。\n\n---\n\n给出一个分段常数表达式 $S$，保证出现的正整数均不超过 $m$。\n\nyummy 有 $q$ 个询问，每次给出一个自然数 $x$ 的值，希望你求出分段常数表达式的值。", "inputFormat": "输入的第一行有两个正整数 $m,q$，分别表示表达式出现数字的最大可能值和询问个数。\n\n第二行有一个字符串 $S$，表示这个分段常数表达式。\n\n之后有 $q$ 行，每行有一个自然数 $x$，表示一次询问。", "outputFormat": "对于每个询问输出一行一个正整数，表示表达式的结果。", "hint": "【样例 1 解释】\n\n如果我们进行适当的换行和缩进可以得到：\n\n```cpp\nx>12?    //如果 x>12\n  x<15?  //那么判断 x<15 是否成立\n    4    //如果是则得到 4\n    :10  //如果不是则得到 10\n  :x<12? //否则（如果 x<=12) 判断 x<12 是否成立\n    14   //如果是则返回 14\n    :7   //如果不是则返回 7\n```\n\n按照这个思路模拟即可得到样例输出。\n\n【样例 2 解释】\n\n该样例满足测试点 $6$ 的性质。\n\n【样例 3 解释】\n\n该样例满足测试点 $10$ 的性质。\n\n【样例 4 解释】\n\n该样例满足测试点 $19$ 的性质。\n\n【数据范围】\n\n设 $n$ 为 $S$ 中三目运算符的个数。（选手可以通过 $n$ 来估计 $S$ 的串长。）\n\n对于全体数据，保证 $0\\le n\\le 10^5$，$1\\le m\\le 10^5$，$1\\le q\\le 10^5​$，$1\\le x\\le 10^9$，且 $S$ 是分段常数表达式。\n\n| 测试点编号  | $n\\le$ | $m\\le$ | $q\\le$ |\n|:-:|:-:|:-:|:-:|\n| $1$         | $0$    | $10^5$ | $10$   |\n| $2$         | $1$   | $10^5$ | $10$   |\n| $3\\sim 5$   | $100$ | $9$    | $10$   |\n| $6\\sim 9$   | $100$ | $10^5$ | $10$   |\n| $10\\sim 12$ | $10^5$ | $9$    | $10$   |\n| $13\\sim 16$ | $10^5$ | $10^5$ | $10$   |\n| $17\\sim 18$ | $10^5$ | $9$    | $10^5$ |\n| $19\\sim 25$ | $10^5$ | $10^5$ | $10^5$ |", "locale": "zh-CN"}}}
{"pid": "P11187", "type": "P", "difficulty": 4, "samples": [["8\n1 2 2 2 2 1 2 2\n", "4\n"], ["11\n1 1 4 1 1 2 1000 2 5 5 4\n", "6\n"], ["参见 pairing3.in", "参见 pairing3.out"], ["参见 pairing4.in", "参见 pairing4.out"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "洛谷月赛"], "title": "配对序列", "background": "", "description": "一个序列 $s_1,\\ldots s_{2k}$ 是**配对的**，当且仅当：\n\n- 对于任意 $1\\le i \\le k$，$s_{2i}=s_{2i-1}$。\n- 对于任意 $1\\le i<k$，$s_{2i}\\ne s_{2i+1}$。\n\n注意，配对的序列长度必然为偶数。\n\n例如，$3,3,5,5,2,2$ 是配对的，而 $2,2,2,2,5,5$（$s_2=s_3$ 不满足第二条要求）或者 $1,2,3,3,1,1$（$s_1\\ne s_2$ 不满足第一条要求）都不是配对的。\n\n给出一个数列 $a_1,\\ldots, a_n$，求所有配对的子序列长度的最大值。", "inputFormat": "输入的第一行有一个正整数 $n$，表示序列的长度。\n\n第二行有 $n$ 个正整数 $a_1,\\ldots,a_n$，表示这个序列。", "outputFormat": "输出一行一个自然数，表示最长的配对子序列长度。特别地，如果不存在非空的配对子序列，那么输出 $0$。", "hint": "【样例 1 解释】\n\n取 $1,1,2,2$ 这个子序列即可。\n\n【样例 2 解释】\n\n取 $1,1,2,2,5,5$ 这个配对子序列即可。\n\n【样例 3 解释】\n\n该样例符合测试点 $3$ 的限制。\n\n【样例 4 解释】\n\n该样例符合测试点 $12$ 的限制。\n\n【数据范围】\n\n对于全体数据，保证 $2\\le n\\le 5\\times 10^5$，$1\\le a_i\\le 5\\times 10^5$。\n\n|测试点编号|$n\\le$|$a_i\\le$|特殊性质|\n|:-:|:-:|:-:|:-:|\n|$1\\sim 2$|$18$|$5\\times 10^5$||\n|$3\\sim 5$|$500$|$500$||\n|$6\\sim 7$|$5000$|$5000$||\n|$8\\sim 9$|$5000$|$5\\times 10^5$||\n|$10$|$5\\times 10^5$|$5\\times 10^5$|每个数最多出现 $1$ 次|\n|$11$|$5\\times 10^5$|$5\\times 10^5$|$a_i\\le a_{i+1}$ 恒成立|\n|$12\\sim 14$|$5\\times 10^5$|$5\\times 10^5$|每个数最多出现 $2$ 次|\n|$15\\sim 20$|$5\\times 10^5$|$5\\times 10^5$||", "locale": "zh-CN", "translations": {"zh-CN": {"title": "配对序列", "background": "", "description": "一个序列 $s_1,\\ldots s_{2k}$ 是**配对的**，当且仅当：\n\n- 对于任意 $1\\le i \\le k$，$s_{2i}=s_{2i-1}$。\n- 对于任意 $1\\le i<k$，$s_{2i}\\ne s_{2i+1}$。\n\n注意，配对的序列长度必然为偶数。\n\n例如，$3,3,5,5,2,2$ 是配对的，而 $2,2,2,2,5,5$（$s_2=s_3$ 不满足第二条要求）或者 $1,2,3,3,1,1$（$s_1\\ne s_2$ 不满足第一条要求）都不是配对的。\n\n给出一个数列 $a_1,\\ldots, a_n$，求所有配对的子序列长度的最大值。", "inputFormat": "输入的第一行有一个正整数 $n$，表示序列的长度。\n\n第二行有 $n$ 个正整数 $a_1,\\ldots,a_n$，表示这个序列。", "outputFormat": "输出一行一个自然数，表示最长的配对子序列长度。特别地，如果不存在非空的配对子序列，那么输出 $0$。", "hint": "【样例 1 解释】\n\n取 $1,1,2,2$ 这个子序列即可。\n\n【样例 2 解释】\n\n取 $1,1,2,2,5,5$ 这个配对子序列即可。\n\n【样例 3 解释】\n\n该样例符合测试点 $3$ 的限制。\n\n【样例 4 解释】\n\n该样例符合测试点 $12$ 的限制。\n\n【数据范围】\n\n对于全体数据，保证 $2\\le n\\le 5\\times 10^5$，$1\\le a_i\\le 5\\times 10^5$。\n\n|测试点编号|$n\\le$|$a_i\\le$|特殊性质|\n|:-:|:-:|:-:|:-:|\n|$1\\sim 2$|$18$|$5\\times 10^5$||\n|$3\\sim 5$|$500$|$500$||\n|$6\\sim 7$|$5000$|$5000$||\n|$8\\sim 9$|$5000$|$5\\times 10^5$||\n|$10$|$5\\times 10^5$|$5\\times 10^5$|每个数最多出现 $1$ 次|\n|$11$|$5\\times 10^5$|$5\\times 10^5$|$a_i\\le a_{i+1}$ 恒成立|\n|$12\\sim 14$|$5\\times 10^5$|$5\\times 10^5$|每个数最多出现 $2$ 次|\n|$15\\sim 20$|$5\\times 10^5$|$5\\times 10^5$||", "locale": "zh-CN"}}}
{"pid": "P11188", "type": "P", "difficulty": 4, "samples": [["0\n3\n123\n10 10 10 10 10 10 10 10 10 \n1121\n2 1 2 2 2 2 2 2 2\n987654321\n1 2 3 4 5 6 7 8 9\n", "21\n6\n45\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「KDOI-10」商店砍价", "background": "您可以点击 [这里](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/3jbtilzv) 下载本场比赛的选手文件。\n\n密码：`rAnHoUyaSuoBaoMimaNijuEdefAngsHa2)2$1)0(2@0!`\n\n**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "有一个正整数 $n$，保证其只由数字 $1\\sim 9$ 构成。\n\n你可以做任意多次如下操作：\n\n- 选择 $n$ 的一个数位 $x$，花费 $v_x$ 的代价删除它，注意，此时 $n$ 的数位个数会减少 $1$，$n$ 的值也会发生相应的变化；\n- 或者，花费 $n$ 的代价把剩余的所有数位删除。\n\n求把整个数删除的最小代价。", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。** \n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含一个正整数 $t$，表示测试数据组数。\n\n对于每组测试数据：\n\n- 第一行一个正整数 $n$，表示这个数的初始值。\n- 第二行九个正整数 $v_1,v_2,\\dots,v_9$，表示删除每个数位的代价。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据：\n\n- 输出一行一个正整数，表示最小代价。", "hint": "**【样例 1 解释】**\n\n对于第一组测试数据，最优操作方案如下：\n\n- 删除数位 $2$，代价为 $10$，此时 $n$ 变为 $13$；\n- 删除数位 $3$，代价为 $10$，此时 $n$ 变为 $1$；\n- 删除 $n$ 的剩余所有数位，代价为 $1$。\n\n总代价为 $10+10+1=21$，可以证明，这是代价的最小值。\n\n对于第二组测试数据，一种最优操作方案如下：\n\n- 删除第一个数位 $1$，代价为 $2$，此时 $n$ 变为 $121$；\n- 删除最后一个数位 $1$，代价为 $2$，此时 $n$ 变为 $12$；\n- 删除数位 $2$，代价为 $1$，此时 $n$ 变为 $1$；\n- 删除 $n$ 的剩余所有数位，代价为 $1$。\n\n总代价为 $2+2+1+1=6$。\n\n**【样例 2】**\n\n见选手目录下的 `bargain/bargain2.in` 与 `bargain/bargain2.ans`。\n\n这个样例满足测试点 $3\\sim 6$ 的约束条件。\n\n**【样例 3】**\n\n见选手目录下的 `bargain/bargain3.in` 与 `bargain/bargain3.ans`。\n\n这个样例满足测试点 $11$ 的约束条件。\n\n**【样例 4】**\n\n见选手目录下的 `bargain/bargain4.in` 与 `bargain/bargain4.ans`。\n\n这个样例满足测试点 $17,18$ 的约束条件。\n\n**【样例 5】**\n\n见选手目录下的 `bargain/bargain5.in` 与 `bargain/bargain5.ans`。\n\n这个样例满足测试点 $23\\sim 25$ 的约束条件。\n\n***\n\n**【数据范围】**\n\n对于全部的测试数据，保证：\n\n- $1\\le t\\le 10$；\n- $1\\le n< 10^{10^5}$；\n- 对于任意 $1\\le i\\le 9$，$1\\le v_i\\le 10^5$；\n- $n$ 由数字 $1\\sim 9$ 构成。\n\n|   测试点    |   $n<$    | $v_i\\le$ |        特殊性质        |\n| :---------: | :---------: | :------: | :--------------------: |\n|     $1$     |    $100$     |  $10^5$  |           无           |\n|     $2$     |    $10^3$    |  $10^5$  |           无           |\n|  $3\\sim 6$  |  $10^{18}$  |  $10^5$  |           无           |\n| $7\\sim 9$  |  $10^{40}$  |  $10^5$  |           无           |\n|    $10$    | $10^{10^5}$ |  $10^5$  | $n$ 由至多一种数字构成 |\n|    $11$     | $10^{10^5}$ |  $10^5$  | $n$ 由至多两种数字构成 |\n| $12,13$ | $10^{10^5}$ |  $10^5$  | $n$ 由至多三种数字构成 |\n| $14\\sim 16$ | $10^{10^3}$ | $10^5$ | $v_1=v_2=v_3=\\dots =v_9$ |\n| $17,18$ | $10^{10^5}$ | $10^5$ | $v_1=v_2=v_3=\\dots =v_9$ |\n| $19,20$ | $10^{100}$ | $100$ | 无 |\n| $21,22$ | $10^{10^3}$ | $10^3$ | 无 |\n| $23\\sim 25$ | $10^{10^5}$ | $10^5$ | 无 |", "locale": "zh-CN", "translations": {"en": {"title": "「KDOI-10」Bargain", "background": "You can click [here](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/5fzhd8sk) to download all tasks and examples of the contest.\n\nPassword: `rAnHoUyaSuoBaoMimaNijuEdefAngsHa2)2$1)0(2@0!`\n\n|Input|Output|Time Limit|Memory Limit|\n|:--:|:--:|:--:|:--:|\n|standard input|standard output|1.0 s|512 MiB|\n\nThis problem has $25$ tests. The full score is $100$ points, and $4$ points per test.", "description": "There is an integer $n$ consisting only of digits $1\\sim 9$.\n\nYou can do an arbitrary number of operations on $n$ (possibly zero):\n\n- Choose a digit of $n$ and delete it. Suppose the digit is $x$, this operation will cost $v_x$. Note that after this operation, the length of $n$ decreases by $1$, and the value of $n$ also changes;\n- Delete all the remaining digits of $n$. This operation will cost $n$.\n\nFind the minimum cost to delete all digits of $n$.", "inputFormat": "**Each test contains multiple test cases.**\n\nThe first line of the input contains a single integer $c$ — the id of the test. $c=0$ represents that this is a sample test.\n\nThe second line contains a single integer $t$ — the number of test cases.\n\nFor each test case:\n\n- The first line contains a single integer $n$ — the initial value of the integer.\n- The second line contains nine integers $v_1,v_2,\\ldots,v_9$ — the cost of deleting each digit.", "outputFormat": "For each test case:\n\n- Print a single integer in the only line of the output — the minimum cost.", "hint": "**Sample 1 Explanation**\n\nIn the first test case, the optimal operations are:\n\n- Delete digit $2$ with a cost of $10$. After that, $n$ becomes $13$;\n- Delete digit $3$ with a cost of $10$. After that, $n$ becomes $1$;\n- Delete all the remaining digits of $n$ with a cost of $1$.\n\nThe total cost is $10+10+1=21$. It can be shown that this is the minimum cost.\n\nIn the second test case, the optimal operations are:\n\n- Delete the first digit $1$ with a cost of $2$. After that, $n$ becomes $121$;\n- Delete the last digit $1$ with a cost of $2$. After that, $n$ becomes $12$;\n- Delete digit $2$ with a cost of $1$. After that, $n$ becomes $1$;\n- Delete all the remaining digits of $n$ with a cost of $1$.\n\nThe total cost is $2+2+1+1=6$.\n\n**Sample 2**\n\nSee `bargain/bargain2.in` and `bargain/bargain2.ans` in the attachments.\n\nThis sample satisfies the constraints of test $3\\sim 6$.\n\n**Sample 3**\n\nSee `bargain/bargain3.in` and `bargain/bargain3.ans` in the attachments.\n\nThis sample satisfies the constraints of test $11$.\n\n\n**Sample 4**\n\nSee `bargain/bargain4.in` and `bargain/bargain4.ans` in the attachments.\n\nThis sample satisfies the constraints of test $17,18$.\n\n\n**Sample 5**\n\nSee `bargain/bargain5.in` and `bargain/bargain5.ans` in the attachments.\n\nThis sample satisfies the constraints of test $23\\sim 25$.\n\n***\n\n**Constraints**\n\nFor all the tests, it is guaranteed that:\n\n- $1\\le t\\le 10$;\n- $1\\le n< 10^{10^5}$;\n- For each $1\\le i\\le 9$，$1\\le v_i\\le 10^5$;\n- $n$ consists only of digits $1\\sim 9$.\n\n|   Test Id    |   $n<$    | $v_i\\le$ |        Special Properties        |\n| :---------: | :---------: | :------: | :--------------------: |\n|     $1$     |    $100$     |  $10^5$  |           -           |\n|     $2$     |    $10^3$    |  $10^5$  |           -           |\n|  $3\\sim 6$  |  $10^{18}$  |  $10^5$  |           -           |\n| $7\\sim 9$  |  $10^{40}$  |  $10^5$  |           -           |\n|    $10$    | $10^{10^5}$ |  $10^5$  | $n$ consists of only one type of digits. |\n|    $11$     | $10^{10^5}$ |  $10^5$  | $n$ consists of at most two types of digits. |\n| $12,13$ | $10^{10^5}$ |  $10^5$  | $n$ consists of at most three types of digits. |\n| $14\\sim 16$ | $10^{10^3}$ | $10^5$ | $v_1=v_2=v_3=\\dots =v_9$ |\n| $17,18$ | $10^{10^5}$ | $10^5$ | $v_1=v_2=v_3=\\dots =v_9$ |\n| $19,20$ | $10^{100}$ | $100$ | - |\n| $21,22$ | $10^{10^3}$ | $10^3$ | - |\n| $23\\sim 25$ | $10^{10^5}$ | $10^5$ | - |", "locale": "en"}, "zh-CN": {"title": "「KDOI-10」商店砍价", "background": "您可以点击 [这里](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/3jbtilzv) 下载本场比赛的选手文件。\n\n密码：`rAnHoUyaSuoBaoMimaNijuEdefAngsHa2)2$1)0(2@0!`\n\n**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "有一个正整数 $n$，保证其只由数字 $1\\sim 9$ 构成。\n\n你可以做任意多次如下操作：\n\n- 选择 $n$ 的一个数位 $x$，花费 $v_x$ 的代价删除它，注意，此时 $n$ 的数位个数会减少 $1$，$n$ 的值也会发生相应的变化；\n- 或者，花费 $n$ 的代价把剩余的所有数位删除。\n\n求把整个数删除的最小代价。", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。** \n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含一个正整数 $t$，表示测试数据组数。\n\n对于每组测试数据：\n\n- 第一行一个正整数 $n$，表示这个数的初始值。\n- 第二行九个正整数 $v_1,v_2,\\dots,v_9$，表示删除每个数位的代价。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据：\n\n- 输出一行一个正整数，表示最小代价。", "hint": "**【样例 1 解释】**\n\n对于第一组测试数据，最优操作方案如下：\n\n- 删除数位 $2$，代价为 $10$，此时 $n$ 变为 $13$；\n- 删除数位 $3$，代价为 $10$，此时 $n$ 变为 $1$；\n- 删除 $n$ 的剩余所有数位，代价为 $1$。\n\n总代价为 $10+10+1=21$，可以证明，这是代价的最小值。\n\n对于第二组测试数据，一种最优操作方案如下：\n\n- 删除第一个数位 $1$，代价为 $2$，此时 $n$ 变为 $121$；\n- 删除最后一个数位 $1$，代价为 $2$，此时 $n$ 变为 $12$；\n- 删除数位 $2$，代价为 $1$，此时 $n$ 变为 $1$；\n- 删除 $n$ 的剩余所有数位，代价为 $1$。\n\n总代价为 $2+2+1+1=6$。\n\n**【样例 2】**\n\n见选手目录下的 `bargain/bargain2.in` 与 `bargain/bargain2.ans`。\n\n这个样例满足测试点 $3\\sim 6$ 的约束条件。\n\n**【样例 3】**\n\n见选手目录下的 `bargain/bargain3.in` 与 `bargain/bargain3.ans`。\n\n这个样例满足测试点 $11$ 的约束条件。\n\n**【样例 4】**\n\n见选手目录下的 `bargain/bargain4.in` 与 `bargain/bargain4.ans`。\n\n这个样例满足测试点 $17,18$ 的约束条件。\n\n**【样例 5】**\n\n见选手目录下的 `bargain/bargain5.in` 与 `bargain/bargain5.ans`。\n\n这个样例满足测试点 $23\\sim 25$ 的约束条件。\n\n***\n\n**【数据范围】**\n\n对于全部的测试数据，保证：\n\n- $1\\le t\\le 10$；\n- $1\\le n< 10^{10^5}$；\n- 对于任意 $1\\le i\\le 9$，$1\\le v_i\\le 10^5$；\n- $n$ 由数字 $1\\sim 9$ 构成。\n\n|   测试点    |   $n<$    | $v_i\\le$ |        特殊性质        |\n| :---------: | :---------: | :------: | :--------------------: |\n|     $1$     |    $100$     |  $10^5$  |           无           |\n|     $2$     |    $10^3$    |  $10^5$  |           无           |\n|  $3\\sim 6$  |  $10^{18}$  |  $10^5$  |           无           |\n| $7\\sim 9$  |  $10^{40}$  |  $10^5$  |           无           |\n|    $10$    | $10^{10^5}$ |  $10^5$  | $n$ 由至多一种数字构成 |\n|    $11$     | $10^{10^5}$ |  $10^5$  | $n$ 由至多两种数字构成 |\n| $12,13$ | $10^{10^5}$ |  $10^5$  | $n$ 由至多三种数字构成 |\n| $14\\sim 16$ | $10^{10^3}$ | $10^5$ | $v_1=v_2=v_3=\\dots =v_9$ |\n| $17,18$ | $10^{10^5}$ | $10^5$ | $v_1=v_2=v_3=\\dots =v_9$ |\n| $19,20$ | $10^{100}$ | $100$ | 无 |\n| $21,22$ | $10^{10^3}$ | $10^3$ | 无 |\n| $23\\sim 25$ | $10^{10^5}$ | $10^5$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11189", "type": "P", "difficulty": 6, "samples": [["0\n5\n5\n1 1 2 3\n6 5 2 2 1\n5\n1 1 2 2\n6 5 1 2 1\n5\n1 1 2 2\n4 -1 5 -2 -2\n5\n1 1 2 2\n6 -4 8 -3 -3\n5\n1 1 2 2\n-1 -1 -1 -4 -1", "Shuiniao\nHuoyu\nShuiniao\nShuiniao\nHuoyu"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "二分", "2024", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「KDOI-10」水杯降温", "background": "**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "小 S 有一棵包含 $n$ 个节点的有根树，且根为节点 $1$。节点 $i$ $(1\\le i\\le n)$ 上放置了一个初始水温为 $a_i$ 的水杯。\n\n在不知道水温的情况下拿起水杯喝水并被烫了 inf 次的小 S 决定将这些水杯的水温全部变为 $0$ 后再喝它们。\n\n现在，小 S 可以分别进行以下两种操作任意次：\n\n* 使用一个在节点 $i$ 的加热装置。这会使以 $i$ 为根的子树内所有水杯里的水温均增加 $1$；\n* 或者，从某个**叶子**节点 $i$ 向根方向吹一阵风。这会使 $i$ 到根所有水杯里的水温均减少 $1$。\n\n请你帮小 S 判断：能否将所有节点上的水杯的水温都变为 $0$。\n\n", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。** \n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含一个正整数 $t$，表示测试数据组数。\n\n对于每组测试数据：\n\n- 第一行包含一个正整数 $n$，表示节点数量。\n- 第二行 $n-1$ 个正整数 $f_2,\\dots,f_n$，$f_i$ 表示 $i$ 节点的父亲节点编号。保证 $f_i<i$。\n- 第三行 $n$ 个整数 $a_i$，表示初始水温。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据：\n\n- 如果可以将水温变为 $0$，输出一行一个字符串 `Huoyu`；\n- 如果无法将水温变为 $0$，输出一行一个字符串 `Shuiniao`。", "hint": "**【样例 1 解释】**\n\n记 $A_u$ 表示在节点 $u$ 使用加热装置的操作，$B_u$ 表示从节点 $u$ 吹一阵风的操作，$(S)^k$ 表示将操作序列 $S$ 重复 $k$ 次。\n\n- 对于第一、三、四组测试数据，可以证明，小 S 无法将所有水杯的水温都变为 $0$；\n- 对于第二组测试数据，一种可能的操作序列为：$B_3(A_4)^2(B_4)^4B_5$；\n- 对于第五组测试数据，一种可能的操作序列为：$(A_4)^3A_1$。\n\n**【样例 2】**\n\n见选手目录下的 `water/water2.in` 与 `water/water2.ans`。\n\n这个样例满足测试点 $3$ 的约束条件。\n\n**【样例 3】**\n\n见选手目录下的 `water/water3.in` 与 `water/water3.ans`。\n\n这个样例满足测试点 $7,8$ 的约束条件。\n\n**【样例 4】**\n\n见选手目录下的 `water/water4.in` 与 `water/water4.ans`。\n\n这个样例满足测试点 $12$ 的约束条件。\n\n**【样例 5】**\n\n见选手目录下的 `water/water5.in` 与 `water/water5.ans`。\n\n这个样例满足测试点 $13,14$ 的约束条件。\n\n**【样例 6】**\n\n见选手目录下的 `water/water6.in` 与 `water/water6.ans`。\n\n这个样例满足测试点 $15\\sim 17$ 的约束条件。\n\n**【样例 7】**\n\n见选手目录下的 `water/water7.in` 与 `water/water7.ans`。\n\n这个样例满足测试点 $18\\sim 21$ 的约束条件。\n\n\n***\n\n**【数据范围】**\n\n记 $\\sum n$ 为单个测试点内所有测试数据中 $n$ 的和。\n\n对于全部的测试数据，保证：\n\n- $1\\leq t\\leq 1\\,000$；\n- $2\\leq n\\leq 10^5$，$\\sum n\\le 10^6$；\n- 对于任意 $2\\le i\\le n$，$1\\le f_i<i$；\n- 对于任意 $1\\le i\\le n$，$-10^{12}\\leq a_i\\leq10^{12}$。\n\n| 测试点 | $n\\leq$ | $\\sum n\\le $ | $\\lvert a_i\\rvert\\leq$ | 特殊性质 |\n| :----: | :-----: | :----------: | :--------------------: | :------: |\n| $1$ | $5$ | $50$ | $5$ | 无 |\n| $2$ | $5$ | $200$ | $5$ | 无 |\n| $3$ | $5$ | $5\\,000$ | $5$ | 无 |\n| $4,5$ | $50$ | $500$ | $50$ | 无 |\n| $6$ | $50$ | $500$ | $10^{8}$ | 无 |\n| $7,8$ | $200$ | $2\\,000$ | $200$ | 无 |\n| $9$ | $200$ | $2\\,000$ | $10^{8}$ | 无 |\n| $10,11$ | $1\\,000$ | $10^4$ | $1\\,000$ | 无|\n| $12$ | $1\\,000$ | $10^4$ | $10^{8}$ | 无 |\n| $13,14$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | A |\n| $15\\sim 17$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | B |\n| $18\\sim 21$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | C |\n| $22,23$ | $3\\times 10^4$ | $10^5$ | $10^{8}$ | 无 |\n| $24,25$ | $10^5$ | $10^6$ | $10^{12}$ | 无 |\n\n- 特殊性质 A：对于任意 $2\\le i\\le n$，$f_i=i-1$；\n- 特殊性质 B：对于任意 $1\\le i\\le n$，$a_i\\le \\left(\\sum_{f_j=i}a_j\\right)+5$，其中设 $f_1=0$；\n- 特殊性质 C：树的深度不超过 $2$，其中深度指所有节点到根的边数中的最大值。\n\n***\n\n**【提示】**\n\n本题输入输出量较大，请使用适当的 I/O 方式。", "locale": "zh-CN", "translations": {"en": {"title": "「KDOI-10」Water", "background": "|Input|Output|Time Limit|Memory Limit|\n|:--:|:--:|:--:|:--:|\n|standard input|standard output|2.0 s|512 MiB|\n\nThis problem has $25$ tests. The full score is $100$ points, and $4$ points per test.", "description": "Little S has a tree with $n$ vertices, rooted at vertex $1$. On vertex $i$ $(1\\le i\\le n)$, there is a water cup with an initial temperature of $a_i$.\n\nLittle S, who picked up a water cup and drank water without knowing the temperature and was scalded many times, decided to change all the temperatures of the water in the cups to $0$.\n\nNow, Little S can do the following two types of operations an arbitrary number of times (possibly zero):\n\n- Use a heater at vertex $i$. This will make the temperature of the water cups on all vertices in subtree $i$ increase by $1$;\n- Or, blow a gust of wind from a **leaf** $i$. This will make the temperature of the water cups on the route between $1$ and $i$ decrease by $1$.\n\nHelp Little S determine whether he can make the temperature of all the water cups become $0$.", "inputFormat": "**Each test contains multiple test cases.**\n\nThe first line of the input contains a single integer $c$ — the id of the test. $c=0$ represents that this is a sample test.\n\nThe second line contains a single integer $t$ — the number of test cases.\n\nFor each test case:\n\n- The first line contains a single integer $n$ — the number of vertices.\n- The second line contains $n-1$ integers $f_2,f_3,\\dots,f_n$, in which $f_i$ is the parent vertex of vertex $i$. It is guaranteed that $f_i<i$.\n- The third line contains $n$ integers $a_i$ — the initial temperature of the water cup on vertex $i$.", "outputFormat": "For each test case:\n\n- If it is possible to make the temperature of all the water cups $0$, print one line, a string `Huoyu`;\n- If it is impossible to do so, print one line, a string `Shuiniao`.", "hint": "**Sample 1 Explanation**\n\nLet $A_u$ be a heating operation on vertex $u$, $B_u$ be a wind operation from vertex $u$ and $(S)^k$ be repeating the operations in $S$ for $k$ times.\n\n- In the first, third and fourth test case, it can be proven that Little S can't make the temperature of all the water cups $0$;\n- In the second test case, a possible operation sequence is $B_3(A_4)^3(B_4)^5B_5$;\n- For the fifth test case, a possible operation sequence is $(A_4)^3A_1$.\n\n**Sample 2**\n\nSee `water/water2.in` and `water/water2.ans` in the attachments.\n\nThis sample satisfies the constraints of test $3$.\n\n**Sample 3**\n\nSee `water/water3.in` and `water/water3.ans` in the attachments.\n\nThis sample satisfies the constraints of test $7,8$.\n\n\n**Sample 4**\n\nSee `water/water4.in` and `water/water4.ans` in the attachments.\n\nThis sample satisfies the constraints of test $12$.\n\n\n**Sample 5**\n\nSee `water/water5.in` and `water/water5.ans` in the attachments.\n\nThis sample satisfies the constraints of test $13,14$.\n\n**Sample 6**\n\nSee `water/water6.in` and `water/water6.ans` in the attachments.\n\nThis sample satisfies the constraints of test $15\\sim 17$.\n\n**Sample 7**\n\nSee `water/water7.in` and `water/water7.ans` in the attachments.\n\nThis sample satisfies the constraints of test $18\\sim 21$.\n\n***\n\n**Constraints**\n\nLet $\\sum n$ be the sum of $n$ over all test cases in a single test.\n\nFor all the tests, it is guaranteed that:\n\n- $1\\leq t\\leq 1\\,000$;\n- $2\\leq n\\leq 10^5$, $\\sum n\\le 10^6$;\n- For each $2\\le i\\le n$, $1\\le f_i<i$;\n- For each $1\\le i\\le n$, $-10^{12}\\leq a_i\\leq10^{12}$.\n\n| Test Id | $n\\leq$ | $\\sum n\\le $ | $\\lvert a_i\\rvert\\leq$ | Special Properties |\n| :----: | :-----: | :----------: | :--------------------: | :------: |\n| $1$ | $5$ | $50$ | $5$ | - |\n| $2$ | $5$ | $200$ | $5$ | - |\n| $3$ | $5$ | $5\\,000$ | $5$ | - |\n| $4,5$ | $50$ | $500$ | $50$ | - |\n| $6$ | $50$ | $500$ | $10^{8}$ | - |\n| $7,8$ | $200$ | $2\\,000$ | $200$ | - |\n| $9$ | $200$ | $2\\,000$ | $10^{8}$ | - |\n| $10,11$ | $1\\,000$ | $10^4$ | $1\\,000$ | - |\n| $12$ | $1\\,000$ | $10^4$ | $10^{8}$ | - |\n| $13,14$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | A |\n| $15\\sim 17$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | B |\n| $18\\sim 21$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | C |\n| $22,23$ | $3\\times 10^4$ | $10^5$ | $10^{8}$ | - |\n| $24,25$ | $10^5$ | $10^6$ | $10^{12}$ | - |\n\n- Property A: For each $2\\le i\\le n$, $f_i=i-1$;\n- Property B: For each $1\\le i\\le n$, $a_i\\le \\left(\\sum_{f_j=i}a_j\\right)+5$, where $f_1=0$;\n- Property C: The depth of the tree does not exceed $2$, where the depth of the tree denotes the maximum number of edges in the simple path from a node to the root.\n\n***\n\n**Hints**\n\nThe input and output files are huge in this problem, please use fast I/O methods.\n", "locale": "en"}, "zh-CN": {"title": "「KDOI-10」水杯降温", "background": "**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "小 S 有一棵包含 $n$ 个节点的有根树，且根为节点 $1$。节点 $i$ $(1\\le i\\le n)$ 上放置了一个初始水温为 $a_i$ 的水杯。\n\n在不知道水温的情况下拿起水杯喝水并被烫了 inf 次的小 S 决定将这些水杯的水温全部变为 $0$ 后再喝它们。\n\n现在，小 S 可以分别进行以下两种操作任意次：\n\n* 使用一个在节点 $i$ 的加热装置。这会使以 $i$ 为根的子树内所有水杯里的水温均增加 $1$；\n* 或者，从某个**叶子**节点 $i$ 向根方向吹一阵风。这会使 $i$ 到根所有水杯里的水温均减少 $1$。\n\n请你帮小 S 判断：能否将所有节点上的水杯的水温都变为 $0$。\n\n", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。** \n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含一个正整数 $t$，表示测试数据组数。\n\n对于每组测试数据：\n\n- 第一行包含一个正整数 $n$，表示节点数量。\n- 第二行 $n-1$ 个正整数 $f_2,\\dots,f_n$，$f_i$ 表示 $i$ 节点的父亲节点编号。保证 $f_i<i$。\n- 第三行 $n$ 个整数 $a_i$，表示初始水温。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据：\n\n- 如果可以将水温变为 $0$，输出一行一个字符串 `Huoyu`；\n- 如果无法将水温变为 $0$，输出一行一个字符串 `Shuiniao`。", "hint": "**【样例 1 解释】**\n\n记 $A_u$ 表示在节点 $u$ 使用加热装置的操作，$B_u$ 表示从节点 $u$ 吹一阵风的操作，$(S)^k$ 表示将操作序列 $S$ 重复 $k$ 次。\n\n- 对于第一、三、四组测试数据，可以证明，小 S 无法将所有水杯的水温都变为 $0$；\n- 对于第二组测试数据，一种可能的操作序列为：$B_3(A_4)^2(B_4)^4B_5$；\n- 对于第五组测试数据，一种可能的操作序列为：$(A_4)^3A_1$。\n\n**【样例 2】**\n\n见选手目录下的 `water/water2.in` 与 `water/water2.ans`。\n\n这个样例满足测试点 $3$ 的约束条件。\n\n**【样例 3】**\n\n见选手目录下的 `water/water3.in` 与 `water/water3.ans`。\n\n这个样例满足测试点 $7,8$ 的约束条件。\n\n**【样例 4】**\n\n见选手目录下的 `water/water4.in` 与 `water/water4.ans`。\n\n这个样例满足测试点 $12$ 的约束条件。\n\n**【样例 5】**\n\n见选手目录下的 `water/water5.in` 与 `water/water5.ans`。\n\n这个样例满足测试点 $13,14$ 的约束条件。\n\n**【样例 6】**\n\n见选手目录下的 `water/water6.in` 与 `water/water6.ans`。\n\n这个样例满足测试点 $15\\sim 17$ 的约束条件。\n\n**【样例 7】**\n\n见选手目录下的 `water/water7.in` 与 `water/water7.ans`。\n\n这个样例满足测试点 $18\\sim 21$ 的约束条件。\n\n\n***\n\n**【数据范围】**\n\n记 $\\sum n$ 为单个测试点内所有测试数据中 $n$ 的和。\n\n对于全部的测试数据，保证：\n\n- $1\\leq t\\leq 1\\,000$；\n- $2\\leq n\\leq 10^5$，$\\sum n\\le 10^6$；\n- 对于任意 $2\\le i\\le n$，$1\\le f_i<i$；\n- 对于任意 $1\\le i\\le n$，$-10^{12}\\leq a_i\\leq10^{12}$。\n\n| 测试点 | $n\\leq$ | $\\sum n\\le $ | $\\lvert a_i\\rvert\\leq$ | 特殊性质 |\n| :----: | :-----: | :----------: | :--------------------: | :------: |\n| $1$ | $5$ | $50$ | $5$ | 无 |\n| $2$ | $5$ | $200$ | $5$ | 无 |\n| $3$ | $5$ | $5\\,000$ | $5$ | 无 |\n| $4,5$ | $50$ | $500$ | $50$ | 无 |\n| $6$ | $50$ | $500$ | $10^{8}$ | 无 |\n| $7,8$ | $200$ | $2\\,000$ | $200$ | 无 |\n| $9$ | $200$ | $2\\,000$ | $10^{8}$ | 无 |\n| $10,11$ | $1\\,000$ | $10^4$ | $1\\,000$ | 无|\n| $12$ | $1\\,000$ | $10^4$ | $10^{8}$ | 无 |\n| $13,14$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | A |\n| $15\\sim 17$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | B |\n| $18\\sim 21$ | $10^5$ | $3\\times 10^5$ | $10^{12}$ | C |\n| $22,23$ | $3\\times 10^4$ | $10^5$ | $10^{8}$ | 无 |\n| $24,25$ | $10^5$ | $10^6$ | $10^{12}$ | 无 |\n\n- 特殊性质 A：对于任意 $2\\le i\\le n$，$f_i=i-1$；\n- 特殊性质 B：对于任意 $1\\le i\\le n$，$a_i\\le \\left(\\sum_{f_j=i}a_j\\right)+5$，其中设 $f_1=0$；\n- 特殊性质 C：树的深度不超过 $2$，其中深度指所有节点到根的边数中的最大值。\n\n***\n\n**【提示】**\n\n本题输入输出量较大，请使用适当的 I/O 方式。", "locale": "zh-CN"}}}
{"pid": "P11190", "type": "P", "difficulty": 5, "samples": [["0\n4\n4\nkdoi\n7\nccccccc\n7\nsszcdjr\n7\nabacaca", "Huoyu\n2\n2 1 2\n2 3 4\nShuiniao\nHuoyu\n3\n3 1 2 3\n2 4 5\n2 6 7\nHuoyu\n3\n2 1 4\n3 2 3 5\n2 6 7\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "贪心", "2024", "洛谷原创", "Special Judge", "O2优化", "随机化", "构造", "洛谷月赛"], "title": "「KDOI-10」反回文串", "background": "**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "我们称一个长度为 $m$ 的字符串 $r$ 是回文的，当且仅当 $r_i=r_{m+1-i}$ 对所有 $1\\le i\\le m$ 均成立。\n\n给定一个长度为 $n$ 的字符串 $s$，你需要把 $s$ 分成若干个非空子序列，使得每一个子序列都**不是**回文的，并最大化划分成的子序列数。\n\n形式化地说，你需要给出一组序列 $(a_1,a_2,\\ldots,a_k)$，满足：\n\n- 对于任意 $1\\le i\\le k$，记 $l_i$ 为 $a_i$ 的长度，则 $l_i\\ge 1$，且 $1\\le a_{i,1}<a_{i,2}<\\cdots<a_{i,l_i}\\le n$；\n- 对于任意 $1\\le i\\le n$，恰好存在一个二元组 $(p,q)$，使得 $a_{p,q}=i$；\n- 对于任意 $1\\le i\\le k$，记字符串 $t=s_{a_{i,1}}s_{a_{i,2}}\\ldots s_{a_{i,l_i}}$，则 $t$ 不是回文的。\n\n在此基础上，你需要最大化 $k$ 的值；或者判断不存在一种合法的方案。\n\n特别地，如果 $k$ 的值不是最大的，你也可能获得一定的部分分。\n", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。** \n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含一个正整数 $q$，表示测试数据组数。\n\n对于每组测试数据：\n\n- 第一行包含一个正整数 $n$，表示字符串 $s$ 的长度；\n- 第二行包含一个长度为 $n$ 的字符串 $s$。保证 $s$ 中仅包含小写英文字母。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据：\n\n- 如果不存在一种合法的方案，输出一行一个字符串 `Shuiniao`；\n- 否则，你需要：\n  - 在第一行输出一个字符串 `Huoyu`；\n  - 第二行输出一个正整数 $k$ $(1\\le k\\le n)$，表示你划分成的子序列个数；\n  - 接下来 $k$ 行，对于第 $i$ 行 $(1\\le i\\le k)$：\n    - 首先输出一个正整数 $l_i$ $(1\\le l_i\\le n)$，表示第 $i$ 个子序列的长度；\n    - 接下来输出 $l_i$ 个正整数 $a_{i,1},a_{i,2},\\ldots, a_{i,l_i}$ $(1\\le a_{i,j}\\le n)$，表示第 $i$ 个子序列。\n\n请注意，你的输出需要满足题目描述中所有的限制，否则，你将会得到 $0$ 分。", "hint": "**【样例 1 解释】**\n\n对于第一组测试数据，显然输出构成一个合法的子序列划分，并且\n\n- 对于第一个子序列，$t=\\tt{kd}$ 不是回文的；\n- 对于第二个子序列，$t=\\tt{oi}$ 不是回文的。\n\n故这是一组合法的输出。可以证明，对于这组测试数据，$2$ 是 $k$ 的最大可能值。\n\n对于第二组数据，它的任意一个子序列都是回文的， 故显然不存在合法的划分方案。\n\n**【样例 2】**\n\n见选手目录下的 `anti/anti2.in` 与 `anti/anti2.ans`。\n\n这个样例共有 $10$ 组数据，均满足 $n=1\\,000$。其中第 $1\\sim 3$ 组数据满足特殊性质 A，第 $4\\sim 6$ 组数据满足特殊性质 B。\n\n***\n\n**【评分方式】**\n\n本题共有 $20$ 个测试点，每个测试点满分 $5$ 分。\n\n本题采用自定义校验器（special judge）评测。每组测试数据可能有多组解，你只需要给出**任意**一组。\n\n在每个测试点中，你的得分是在所有测试数据上得分的最小值。对于每组测试数据：\n\n- 如果你错误地判断了是否有解或者给出了一组不合法的序列，你将会获得 $0$ 分；\n- 如果你正确判断了是否有解，并在有解时给出了一组合法的序列：\n  - 如果 $k$ 的值不是最大的，你将会获得 $2$ 分；\n  - 如果 $k$ 的值是最大的，你将会获得 $5$ 分。\n  \n***\n\n**【数据范围】**\n\n对于全部的测试数据，保证：\n\n- $1\\le q\\le 10$；\n- $1\\le n\\le 10^5$；\n- $s$ 中仅包含小写英文字母。\n\n|测试点|$n\\le$|特殊性质|\n|:--:|:--:|:--:|\n|$1,2$|$5$|无|\n|$3\\sim 5$|$18$|无|\n|$6\\sim 8$|$1\\,000$|B|\n|$9\\sim 11$|$1\\,000$|无|\n|$12\\sim 14$|$10^5$|A|\n|$15\\sim 17$|$10^5$|B|\n|$18\\sim 20$|$10^5$|无|\n\n- 特殊性质 A：保证 $n$ 是偶数，且 $s$ 中每个字符的出现次数都不超过 $\\frac{n}{2}$；\n- 特殊性质 B：保证 $s$ 中仅有 `a` 和 `b`。\n\n***\n\n**【如何使用校验器】**\n\n为了方便选手测试，在附件的 `anti` 目录下我们下发了 `checker.cpp` 文件作为样例校验器，选手可以编译该程序，并使用它校验自己的输出文件的结果是否**合法**。但请注意它与最终评测时所使用的校验器并不完全一致。你也不需要关心其代码的具体内容。\n\n编译命令为：\n\n```sh\ng++ -o checker -std=c++14 -O2 checker.cpp\n```\n\n`checker` 的使用方式为：\n\n```sh\nchecker <input-file> <output-file>\n```\n\n其中，参数 ` <input-file>` 与 `<output-file>` 依次表示输入文件与你的输出文件。\n\n若你的输出中的数字大小范围不合法，则校验器会给出相应提示并立即退出。否则，校验器输出以下内容：\n\n- 在第 $i$ 行 $(1\\le i\\le q)$ 中，输出第 $i$ 组测试数据的详细提示信息；\n- 在第 $(q+1)$ 行，输出这个测试点的总结信息。\n\n例如，对于样例 1 的输入与输出，校验器将会向屏幕打印如下内容：\n\n```plain\nTest case 1: OK. Participant's answer is YES (Huoyu), and k=2.\nTest case 2: OK. Participant's answer is NO (Shuiniao).\nTest case 3: OK. Participant's answer is YES (Huoyu), and k=3.\nTest case 4: OK. Participant's answer is YES (Huoyu), and k=3.\nok 4 / 4 test cases passed. (4 test cases)\n```\n\n若将输出改为如下：\n\n```plain\nHuoyu\n2\n2 1 2\n2 3 4\nHuoyu\n1\n7 1 2 3 4 5 6 7\nHuoyu\n3\n3 1 2 3\n2 4 5\n2 6 7\nHuoyu\n3\n2 1 4\n3 2 3 5\n2 6 7\n```\n\n则会向屏幕打印如下内容：\n\n```plain\nTest case 1: OK. Participant's answer is YES (Huoyu), and k=2.\nTest case 2: Wrong answer. The string t obtained in the subsequence a[1] is palindrome.\nTest case 3: OK. Participant's answer is YES (Huoyu), and k=3.\nTest case 4: OK. Participant's answer is YES (Huoyu), and k=3.\nwrong answer 3 / 4 test cases passed.\n```\n\n**请注意：** 样例校验器只会检查你的输出是否合法，而**不会**：\n\n- 检查有解性是否判断正确；\n- 检查 $k$ 是否被最大化。\n\n例如，将样例 1 的输出改为如下：\n\n```plain\nShuiniao\nShuiniao\nShuiniao\nShuiniao\n```\n\n此时，样例校验器仍会返回 `ok` 的检查结果。\n", "locale": "zh-CN", "translations": {"en": {"title": "「KDOI-10」Anti-palindrome", "background": "|Input|Output|Time Limit|Memory Limit|\n|:--:|:--:|:--:|:--:|\n|standard input|standard output|1.0 s|512 MiB|\n\nThis problem has $20$ tests. The full score is $100$ points, and $5$ points per test.", "description": "We call a string $r$ with length $m$ *palindrome* if and only if for each $1\\le i\\le m$, $r_i=r_{m+1-i}$ holds.\n\nGiven a string $s$ of length $n$, you have to divide $s$ into several non-empty subsequences such that each of these subsequences is **not** palindrome, and maximize the number of subsequences.\n\nFormally, you have to find a group of sequences $(a_1,a_2,\\dots a_k)$ such that:\n\n- For each $1\\le i\\le k$, let $l_i$ be the length of $a_i$, then $l_i\\ge 1$ and $1\\leq a_{i,1}< a_{i,2}<\\dots<a_{i,l_i}\\leq n$;\n- For each $1\\le i\\le n$, there is exactly one integer pair $(p,q)$ such that $a_{p,q}=i$;\n- For each $1\\le i\\le k$, let string $t:=s_{a_{i,1}}s_{a_{i,2}}\\dots s_{a_{i,l_i}}$, then $t$ is not palindrome.\n\nYou have to maximize $k$, or determine there is no solution.\n\nSpecially, if your $k$ is not maximized, you may still get partial scores.", "inputFormat": "**Each test contains multiple test cases.**\n\nThe first line of the input contains a single integer $c$ — the id of the test. $c=0$ represents that this is a sample test.\n\nThe second line contains a single integer $q$ — the number of test cases.\n\nFor each test case:\n\n- The first line contains a single integer $n$ — the length of the string $s$.\n- The second line contains a string $s$ length $n$. It is guaranteed that $s$ only contains lowercase English letters.", "outputFormat": "For each test case:\n\n- If there is no valid solution, print single string `Shuiniao` on the only line of output.\n- Otherwise, you have to:\n  - Print a sinle string `Huoyu` on the first line;\n  - Print an integer $k$ $(1\\le k\\le n)$ — the number of subsequences such that the string $s$ is divided into;\n  - For the $i$-th line of the next $k$ lines $(1\\le i\\le k)$:\n    - First, output an integer $l_i$ $(1\\le l_i\\le n)$ — the length of the $i$-th subsequence;\n    - Next, output $l_i$ integers $a_{i,1},a_{i,2},\\ldots, a_{i,l_i}$ $(1\\le a_{i,j}\\le n)$ — the $i$-th subsequence.\n\nNote that your output should satisfy all the constraints above, otherwise, you will get $0$ points in corresponding tests.", "hint": "**Sample 1 Explanation**\n\nIn the first test case, it is obvious that the output satisfies the constraints. And:\n\n- For the first subsequence, $t=\\tt{kd}$ which is not palindrome.\n- For the second subsequence, $t=\\tt{oi}$ which is not palindrome.\n\nAs a result, this is a valid output. It can be proven that for this test case, the maximum possible value of $k$ is $2$.\n\nIn the second test case, all of subsequences of $s$ are palindrome, so it is obvious that there is no solution.\n\n**Sample 2**\n\nSee `anti/anti2.in` and `anti/anti2.ans` in the attachments.\n\nThis sample has $10$ test cases, all satisfying $n=1\\,000$. Among them, the first to third test cases satisfy property A and the fourth to sixth test cases satisfy property B.\n\n***\n\n**Scoring**\n\nThis problem has $20$ tests and each worth $5$ points.\n\nThis problem is judged using ___Special Judge___. Each test case might have multiple solutions and you only need to output one of them.\n\nIn each test, your score is the minimum number of points you receive in each test case. For each test case:\n\n- If you incorrectly judged whether there is a solution or print an invalid solution, no points will be given.\n- If you correctly judged whether there is a valid solution and print a valid solution:\n  - If $k$ is not maximized, $2$ points will be given.\n  - If $k$ is maximized, $5$ points will be given.\n  \n***\n\n**Constraints**\n\nFor all the tests, it is guaranteed that:\n\n- $1\\le q\\le 10$;\n- $1\\le n\\le 10^5$;\n- $s$ only contains lowercase English letters.\n\n|Test Id|$n\\le$|Special Properties|\n|:--:|:--:|:--:|\n|$1,2$|$5$|-|\n|$3\\sim 5$|$18$|-|\n|$6\\sim 8$|$1\\,000$|B|\n|$9\\sim 11$|$1\\,000$|-|\n|$12\\sim 14$|$10^5$|A|\n|$15\\sim 17$|$10^5$|B|\n|$18\\sim 20$|$10^5$|-|\n\n- Property A: It is guaranteed that $n$ is even and each type of letter in $s$ appears no more than $\\frac{n}{2}$ times.\n- Property B: It is guaranteed that $s$ only consists of `a` or `b`.\n\n***\n\n**How to Use the Checker**\n\nTo help participants test their program, in the `anti` directory in the attachments, `checker.cpp` is provided. Participants can compile their codes and check whether the output is **valid** with it. Note that it is not exactly the same as the checker in final testing. You needn't care its content.\n\nThe compile commands are:\n\n```sh\ng++ −o checker -std=c++14 -O2 checker.cpp\n```\n\nYou can use `checker.cpp` like this:\n\n```sh\nchecker <input-file> <output-file>\n```\n\nParameters ` <input-file>` and `<output-file>` are respectively the input file and your output file.\n\nIf your output is out of range, the checker will report it and exit immediately. Otherwise, the checker will do the following things:\n\n- In the $i$-th line $(1\\le i\\le q)$, output the detail of the $i$-th test case.\n- In the $(q+1)$-th line, output the summary of this test.\n\nAs an example, for the input and output of the first sample, the checker will output the following things to the screen: \n\n```plain\nTest case 1: OK. Participant's answer is YES (Huoyu), and k=2.\nTest case 2: OK. Participant's answer is NO (Shuiniao).\nTest case 3: OK. Participant's answer is YES (Huoyu), and k=3.\nTest case 4: OK. Participant's answer is YES (Huoyu), and k=3.\nok 4 / 4 test cases passed. (4 test cases)\n```\n\nIf the output file is changed to this:\n\n```plain\nHuoyu\n2\n2 1 2\n2 3 4\nHuoyu\n1\n7 1 2 3 4 5 6 7\nHuoyu\n3\n3 1 2 3\n2 4 5\n2 6 7\nHuoyu\n3\n2 1 4\n3 2 3 5\n2 6 7\n```\n\nThen the checker will output the following things to the screen:  \n\n```plain\nTest case 1: OK. Participant's answer is YES (Huoyu), and k=2.\nTest case 2: Wrong answer. The string t obtained in the subsequence a[1] is palindrome.\nTest case 3: OK. Participant's answer is YES (Huoyu), and k=3.\nTest case 4: OK. Participant's answer is YES (Huoyu), and k=3.\nwrong answer 3 / 4 test cases passed.\n```\n\n**Note that** `checker.cpp` will only check whether your output is valid, and **will not**:\n\n* Check whether you correctly judge if there's a valid solution.\n* Check whether $k$ is maximized.\n\nAs an example, if the output file of sample $1$ is changed to this:\n\n```plain\nShuiniao\nShuiniao\nShuiniao\nShuiniao\n```\n\n`checker.cpp` will still report `ok` as a result.\n", "locale": "en"}, "zh-CN": {"title": "「KDOI-10」反回文串", "background": "**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "我们称一个长度为 $m$ 的字符串 $r$ 是回文的，当且仅当 $r_i=r_{m+1-i}$ 对所有 $1\\le i\\le m$ 均成立。\n\n给定一个长度为 $n$ 的字符串 $s$，你需要把 $s$ 分成若干个非空子序列，使得每一个子序列都**不是**回文的，并最大化划分成的子序列数。\n\n形式化地说，你需要给出一组序列 $(a_1,a_2,\\ldots,a_k)$，满足：\n\n- 对于任意 $1\\le i\\le k$，记 $l_i$ 为 $a_i$ 的长度，则 $l_i\\ge 1$，且 $1\\le a_{i,1}<a_{i,2}<\\cdots<a_{i,l_i}\\le n$；\n- 对于任意 $1\\le i\\le n$，恰好存在一个二元组 $(p,q)$，使得 $a_{p,q}=i$；\n- 对于任意 $1\\le i\\le k$，记字符串 $t=s_{a_{i,1}}s_{a_{i,2}}\\ldots s_{a_{i,l_i}}$，则 $t$ 不是回文的。\n\n在此基础上，你需要最大化 $k$ 的值；或者判断不存在一种合法的方案。\n\n特别地，如果 $k$ 的值不是最大的，你也可能获得一定的部分分。\n", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。** \n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含一个正整数 $q$，表示测试数据组数。\n\n对于每组测试数据：\n\n- 第一行包含一个正整数 $n$，表示字符串 $s$ 的长度；\n- 第二行包含一个长度为 $n$ 的字符串 $s$。保证 $s$ 中仅包含小写英文字母。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据：\n\n- 如果不存在一种合法的方案，输出一行一个字符串 `Shuiniao`；\n- 否则，你需要：\n  - 在第一行输出一个字符串 `Huoyu`；\n  - 第二行输出一个正整数 $k$ $(1\\le k\\le n)$，表示你划分成的子序列个数；\n  - 接下来 $k$ 行，对于第 $i$ 行 $(1\\le i\\le k)$：\n    - 首先输出一个正整数 $l_i$ $(1\\le l_i\\le n)$，表示第 $i$ 个子序列的长度；\n    - 接下来输出 $l_i$ 个正整数 $a_{i,1},a_{i,2},\\ldots, a_{i,l_i}$ $(1\\le a_{i,j}\\le n)$，表示第 $i$ 个子序列。\n\n请注意，你的输出需要满足题目描述中所有的限制，否则，你将会得到 $0$ 分。", "hint": "**【样例 1 解释】**\n\n对于第一组测试数据，显然输出构成一个合法的子序列划分，并且\n\n- 对于第一个子序列，$t=\\tt{kd}$ 不是回文的；\n- 对于第二个子序列，$t=\\tt{oi}$ 不是回文的。\n\n故这是一组合法的输出。可以证明，对于这组测试数据，$2$ 是 $k$ 的最大可能值。\n\n对于第二组数据，它的任意一个子序列都是回文的， 故显然不存在合法的划分方案。\n\n**【样例 2】**\n\n见选手目录下的 `anti/anti2.in` 与 `anti/anti2.ans`。\n\n这个样例共有 $10$ 组数据，均满足 $n=1\\,000$。其中第 $1\\sim 3$ 组数据满足特殊性质 A，第 $4\\sim 6$ 组数据满足特殊性质 B。\n\n***\n\n**【评分方式】**\n\n本题共有 $20$ 个测试点，每个测试点满分 $5$ 分。\n\n本题采用自定义校验器（special judge）评测。每组测试数据可能有多组解，你只需要给出**任意**一组。\n\n在每个测试点中，你的得分是在所有测试数据上得分的最小值。对于每组测试数据：\n\n- 如果你错误地判断了是否有解或者给出了一组不合法的序列，你将会获得 $0$ 分；\n- 如果你正确判断了是否有解，并在有解时给出了一组合法的序列：\n  - 如果 $k$ 的值不是最大的，你将会获得 $2$ 分；\n  - 如果 $k$ 的值是最大的，你将会获得 $5$ 分。\n  \n***\n\n**【数据范围】**\n\n对于全部的测试数据，保证：\n\n- $1\\le q\\le 10$；\n- $1\\le n\\le 10^5$；\n- $s$ 中仅包含小写英文字母。\n\n|测试点|$n\\le$|特殊性质|\n|:--:|:--:|:--:|\n|$1,2$|$5$|无|\n|$3\\sim 5$|$18$|无|\n|$6\\sim 8$|$1\\,000$|B|\n|$9\\sim 11$|$1\\,000$|无|\n|$12\\sim 14$|$10^5$|A|\n|$15\\sim 17$|$10^5$|B|\n|$18\\sim 20$|$10^5$|无|\n\n- 特殊性质 A：保证 $n$ 是偶数，且 $s$ 中每个字符的出现次数都不超过 $\\frac{n}{2}$；\n- 特殊性质 B：保证 $s$ 中仅有 `a` 和 `b`。\n\n***\n\n**【如何使用校验器】**\n\n为了方便选手测试，在附件的 `anti` 目录下我们下发了 `checker.cpp` 文件作为样例校验器，选手可以编译该程序，并使用它校验自己的输出文件的结果是否**合法**。但请注意它与最终评测时所使用的校验器并不完全一致。你也不需要关心其代码的具体内容。\n\n编译命令为：\n\n```sh\ng++ -o checker -std=c++14 -O2 checker.cpp\n```\n\n`checker` 的使用方式为：\n\n```sh\nchecker <input-file> <output-file>\n```\n\n其中，参数 ` <input-file>` 与 `<output-file>` 依次表示输入文件与你的输出文件。\n\n若你的输出中的数字大小范围不合法，则校验器会给出相应提示并立即退出。否则，校验器输出以下内容：\n\n- 在第 $i$ 行 $(1\\le i\\le q)$ 中，输出第 $i$ 组测试数据的详细提示信息；\n- 在第 $(q+1)$ 行，输出这个测试点的总结信息。\n\n例如，对于样例 1 的输入与输出，校验器将会向屏幕打印如下内容：\n\n```plain\nTest case 1: OK. Participant's answer is YES (Huoyu), and k=2.\nTest case 2: OK. Participant's answer is NO (Shuiniao).\nTest case 3: OK. Participant's answer is YES (Huoyu), and k=3.\nTest case 4: OK. Participant's answer is YES (Huoyu), and k=3.\nok 4 / 4 test cases passed. (4 test cases)\n```\n\n若将输出改为如下：\n\n```plain\nHuoyu\n2\n2 1 2\n2 3 4\nHuoyu\n1\n7 1 2 3 4 5 6 7\nHuoyu\n3\n3 1 2 3\n2 4 5\n2 6 7\nHuoyu\n3\n2 1 4\n3 2 3 5\n2 6 7\n```\n\n则会向屏幕打印如下内容：\n\n```plain\nTest case 1: OK. Participant's answer is YES (Huoyu), and k=2.\nTest case 2: Wrong answer. The string t obtained in the subsequence a[1] is palindrome.\nTest case 3: OK. Participant's answer is YES (Huoyu), and k=3.\nTest case 4: OK. Participant's answer is YES (Huoyu), and k=3.\nwrong answer 3 / 4 test cases passed.\n```\n\n**请注意：** 样例校验器只会检查你的输出是否合法，而**不会**：\n\n- 检查有解性是否判断正确；\n- 检查 $k$ 是否被最大化。\n\n例如，将样例 1 的输出改为如下：\n\n```plain\nShuiniao\nShuiniao\nShuiniao\nShuiniao\n```\n\n此时，样例校验器仍会返回 `ok` 的检查结果。\n", "locale": "zh-CN"}}}
{"pid": "P11191", "type": "P", "difficulty": 6, "samples": [["0\n5 5 5 4\n2 1\n3 1\n5 1\n4 2\n4 3\n2 4 4 3 5\n1 2\n1 5\n3 5\n2 3\n", "2\n0\n2\n4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2024", "洛谷原创", "O2优化", "扫描线", "洛谷月赛", "根号分治"], "title": "「KDOI-10」超级演出", "background": "**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "巡准备了一场超级演出。舞台和候场室可以看作一个包含 $n$ 个点 $m$ 条边的有向图，并且这个图当中没有环，也就是说，这是一张有向无环图（DAG）。\n\n舞台为 $1$ 号节点，**保证所有节点均有到达节点 $\\bm 1$ 的路径**。其余的节点均为候场室，每个候场室恰有一个剧团进行等待。\n\n巡可以对一个候场室 $u$ 发布出场命令：\n\n- 如果这个候场室的剧团还没有出场，并且存在一条 $u\\to 1$ 的路径上没有其余候场的剧团。那么这个剧团就会沿着这条路径到达舞台进行演出，随后退场。注意：**一个剧团退场后不会重新回到候场室。**\n- 否则，这个命令被认为是无效的。\n\n巡有一个命令序列 $a_1,a_2,\\dots,a_k$ 和 $q$ 次询问，每次给出一个区间 $[l,r]$。巡想要知道如果依次对候场室 $a_l,a_{l+1},\\dots,a_r$ 发布出场命令后，候场室还会剩下多少剧团等待演出。\n\n注意：每次询问相互独立，也就是说，每次询问之前，每个候场室都恰有一个剧团进行等待。\n", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含四个正整数 $n,m,k,q$，表示图的点数，边数，序列长度，和询问次数。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示一条从 $u$ 到 $v$ 的有向边。保证无自环，无重边。\n\n接下来的一行，$k$ 个正整数 $a_1,a_2,\\dots,a_k$。\n\n接下来 $q$ 行，每行两个正整数 $l,r$，表示一次询问的区间。", "outputFormat": "输出到标准输出。\n\n$q$ 行，每行一个非负整数，表示一次询问的答案。", "hint": "**【样例 1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2a4qed7w.png)\n\n如图：\n\n- 当询问 $l=1,r=2$ 时：\n\t- 发布出场命令 $a_1=2$。$2$ 沿着 $2\\to 1$ 出场。\n   - 发布出场命令 $a_2=4$。$4$ 沿着 $4\\to 2\\to 1$ 出场。\n   \n   此时余下 $3,5$ 两个剧团，输出 $2$。\n   \n- 当询问 $l=2,r=3$ 时：\n\t- 发布出场命令 $a_2=4$。找不到 $4\\to 1$ 的且路上没有别的剧团的路线，该指令被认为无效。\n   - 发布出场命令 $a_3=4$。找不到 $4\\to 1$ 的且路上没有别的剧团的路线，该指令被认为无效。\n   \n   此时余下 $2,3,4,5$ 四个剧团，输出 $4$。\n  \n**【样例 2】**\n\n见选手目录下的 `show/show2.in` 与 `show/show2.ans`。\n\n这个样例满足测试点 $1,2$ 的限制条件。\n\n**【样例 3】**\n\n见选手目录下的 `show/show3.in` 与 `show/show3.ans`。\n\n这个样例满足测试点 $5\\sim 8$ 的限制条件。\n\n**【样例 4】**\n\n见选手目录下的 `show/show4.in` 与 `show/show4.ans`。\n\n这个样例满足测试点 $9\\sim 11$ 的限制条件。\n\n**【样例 5】**\n\n见选手目录下的 `show/show5.in` 与 `show/show5.ans`。\n\n这个样例满足测试点 $12,13$ 的限制条件。\n\n\n**【样例 6】**\n\n见选手目录下的 `show/show6.in` 与 `show/show6.ans`。\n\n这个样例满足测试点 $18,19$ 的限制条件。\n\n***\n\n**【数据范围】**\n\n对于全部的测试数据，保证：\n\n- $1\\leq n,k,q\\leq2\\times10^5$；\n- $1\\leq m\\leq4\\times10^5$；\n- $1\\leq v<u\\leq n$，且不存在两组相同的 $(u,v)$；\n- 对于任意 $1\\le i\\le k$，$2\\leq a_i\\leq n$；\n- 对于每组询问，$1\\leq l\\leq r\\leq k$；\n- 输入构成一张有向无环图，且所有节点均存在到达节点 $1$ 的路径。\n\n| 测试点 | $n,k,q\\leq$ | $m\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1,2$ | $300$ | $600$ | 无 |\n| $3,4$ | $2\\,000$ | $4\\,000$ | A |\n| $5\\sim 8$ | $2\\,000$ | $4\\,000$ | 无 |\n| $9\\sim 11$ | $2\\times10^5$ | $4\\times10^5$ | A |\n| $12,13$ | $2\\times10^5$ | $4\\times10^5$ | BC |\n| $14,15$ | $2\\times10^5$ | $4\\times10^5$ | C |\n| $16,17$ | $2\\times10^5$ | $4\\times10^5$ | BD |\n| $18,19$ | $2\\times10^5$ | $4\\times10^5$ | D |\n| $20\\sim 22$ | $2\\times10^5$ | $4\\times10^5$ | B |\n| $23\\sim 25$ | $2\\times10^5$ | $4\\times10^5$ | 无 |\n\n- 特殊性质 A：图退化为一棵内向树，也就是说，除节点 $1$ 外，每个点恰有一条出边，节点 $1$ 没有出边；\n- 特殊性质 B：保证对于每组询问，$r=k$；\n- 特殊性质 C：保证对于任意 $1\\leq i< j\\leq k$，$a_i\\neq a_j$；\n- 特殊性质 D：保证每个点的入度和出度均不超过 $30$。", "locale": "zh-CN", "translations": {"en": {"title": "「KDOI-10」Super Show", "background": "|Input|Output|Time Limit|Memory Limit|\n|:--:|:--:|:--:|:--:|\n|standard input|standard output|1.0 s|512 MiB|\n\nThis problem has $25$ tests. The full score is $100$ points, and $4$ points per test.", "description": "Meguru has prepared a super show!\n\nThe stage and the waiting rooms can be seen as a directed acyclic graph (DAG) consisting of $n$ vertices and $m$ edges.\n\nThe stage is at vertex $1$, and the rest vertices are all waiting rooms. It is guaranteed that each vertex has at least one path to vertex $1$. For each waiting room, there is a troupe in it initially.\n\nMeguru can send an *enter* command to a waiting room $u$:\n\n- If the troupe in this room has not come to the stage yet, and there exists a path from $u$ to $1$ such that there are no troupe waiting for entrance, then the troupe in waiting room $u$ will come to the stage and subsequently exit. Note that a troupe will **not** return to the waiting room after the exit.\n- Otherwise, this command is considered as *inoperative*.\n\nMeguru has a command sequence $a_1,a_2,\\ldots, a_k$ and $q$ queries. In each query, an interval $[l,r]$ is given, and Meguru asks you that, if she sends the enter command to waiting room $a_l,a_{l+1},\\ldots,a_r$ successively, how many troupes are still in the waiting room.\n\nNote that each query is **independent**, i.e., before each query, there is a troupe in each waiting room.", "inputFormat": "The first line of the input contains a single integer $c$ — the id of the test. $c=0$ represents that this is a sample test.\n\nThe second line contains four integers $n$, $m$, $k$, and $q$ — the number of vertices, the number of edges, the length of the command sequence, and the number of queries.\n\nThen $m$ lines follow, each containing two integer $u$ and $v$ — there is an edge connecting $u$ and $v$. It is guaranteed that there are no self-loops or multiple-edges.\n\nThe next line contains $k$ integers $a_1,a_2,\\ldots, a_k$ — the command sequence.\n\nThen $q$ lines follow, each containing two integers $l$ and $r$ — the interval in the query.\n\n", "outputFormat": "Print $q$ lines, each line containing a single integer — the answer to the query.", "hint": "**Sample 1 Explanation**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2a4qed7w.png)\n\n- In the query $l=1$, $r=2$:\n\t- For the command $a_1=2$, $2$ comes to the stage by $2\\to 1$;\n   - For the command $a_2=4$, $4$ comes to the stage by $4\\to 2\\to 1$.\n   \n   Troupes $3,5$ are left, so output $2$.\n   \n- In the query $l=2$, $r=3$:\n\t- For the command $a_2=4$, there does not exist a valid path, so this command is inoperative.\n   - For the command $a_3=4$, there does not exist a valid path, so this command is inoperative.\n   \n   Troupes $2,3,4,5$ are left, so output $4$.\n\n**Sample 2**\n\nSee `show/show2.in` and `show/show2.ans` in the attachments.\n\nThis sample satisfies the constraints of test $1,2$.\n\n**Sample 3**\n\nSee `show/show3.in` and `show/show3.ans` in the attachments.\n\nThis sample satisfies the constraints of test $5\\sim 8$.\n\n**Sample 4**\n\nSee `show/show4.in` and `show/show4.ans` in the attachments.\n\nThis sample satisfies the constraints of test $9\\sim 11$.\n\n**Sample 5**\n\nSee `show/show5.in` and `show/show5.ans` in the attachments.\n\nThis sample satisfies the constraints of test $12,13$.\n\n**Sample 6**\n\nSee `show/show6.in` and `show/show6.ans` in the attachments.\n\nThis sample satisfies the constraints of test $18,19$.\n\n***\n\n**Constraints**\n\nFor all the tests, it is guaranteed that:\n\n- $1\\leq n,k,q\\leq2\\times10^5$;\n- $1\\leq m\\leq4\\times10^5$;\n- $1\\leq v<u\\leq n$, and all $(u,v)$-s are distinct;\n- For each $1\\le i\\le k$, $2\\leq a_i\\leq n$;\n- For each query, $1\\leq l\\leq r\\leq k$;\n- The input forms a DAG, and each vertex has at least one path to vertex $1$.\n\n| Test Id | $n,k,q\\leq$ | $m\\leq$ | Special Properties |\n|:--:|:--:|:--:|:--:|\n| $1,2$ | $300$ | $600$ | - |\n| $3,4$ | $2\\,000$ | $4\\,000$ | A |\n| $5\\sim 8$ | $2\\,000$ | $4\\,000$ | - |\n| $9\\sim 11$ | $2\\times10^5$ | $4\\times10^5$ | A |\n| $12,13$ | $2\\times10^5$ | $4\\times10^5$ | BC |\n| $14,15$ | $2\\times10^5$ | $4\\times10^5$ | C |\n| $16,17$ | $2\\times10^5$ | $4\\times10^5$ | BD |\n| $18,19$ | $2\\times10^5$ | $4\\times10^5$ | D |\n| $20\\sim 22$ | $2\\times10^5$ | $4\\times10^5$ | B |\n| $23\\sim 25$ | $2\\times10^5$ | $4\\times10^5$ | - |\n\n- Property A: The graph is degenerated into an inward-directed tree, i.e. each vertex except vertex $1$ has out-degree $1$;\n- Property B: For each query, $r=k$;\n- Property C: For each $1\\leq i< j\\leq k$, $a_i\\neq a_j$;\n- Property D: The in-degree and out-degree of each vertex does not exceed $30$, respectively.", "locale": "en"}, "zh-CN": {"title": "「KDOI-10」超级演出", "background": "**本场比赛所有题目从标准输入读入数据，输出到标准输出。**", "description": "巡准备了一场超级演出。舞台和候场室可以看作一个包含 $n$ 个点 $m$ 条边的有向图，并且这个图当中没有环，也就是说，这是一张有向无环图（DAG）。\n\n舞台为 $1$ 号节点，**保证所有节点均有到达节点 $\\bm 1$ 的路径**。其余的节点均为候场室，每个候场室恰有一个剧团进行等待。\n\n巡可以对一个候场室 $u$ 发布出场命令：\n\n- 如果这个候场室的剧团还没有出场，并且存在一条 $u\\to 1$ 的路径上没有其余候场的剧团。那么这个剧团就会沿着这条路径到达舞台进行演出，随后退场。注意：**一个剧团退场后不会重新回到候场室。**\n- 否则，这个命令被认为是无效的。\n\n巡有一个命令序列 $a_1,a_2,\\dots,a_k$ 和 $q$ 次询问，每次给出一个区间 $[l,r]$。巡想要知道如果依次对候场室 $a_l,a_{l+1},\\dots,a_r$ 发布出场命令后，候场室还会剩下多少剧团等待演出。\n\n注意：每次询问相互独立，也就是说，每次询问之前，每个候场室都恰有一个剧团进行等待。\n", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $c$，表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行包含四个正整数 $n,m,k,q$，表示图的点数，边数，序列长度，和询问次数。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示一条从 $u$ 到 $v$ 的有向边。保证无自环，无重边。\n\n接下来的一行，$k$ 个正整数 $a_1,a_2,\\dots,a_k$。\n\n接下来 $q$ 行，每行两个正整数 $l,r$，表示一次询问的区间。", "outputFormat": "输出到标准输出。\n\n$q$ 行，每行一个非负整数，表示一次询问的答案。", "hint": "**【样例 1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2a4qed7w.png)\n\n如图：\n\n- 当询问 $l=1,r=2$ 时：\n\t- 发布出场命令 $a_1=2$。$2$ 沿着 $2\\to 1$ 出场。\n   - 发布出场命令 $a_2=4$。$4$ 沿着 $4\\to 2\\to 1$ 出场。\n   \n   此时余下 $3,5$ 两个剧团，输出 $2$。\n   \n- 当询问 $l=2,r=3$ 时：\n\t- 发布出场命令 $a_2=4$。找不到 $4\\to 1$ 的且路上没有别的剧团的路线，该指令被认为无效。\n   - 发布出场命令 $a_3=4$。找不到 $4\\to 1$ 的且路上没有别的剧团的路线，该指令被认为无效。\n   \n   此时余下 $2,3,4,5$ 四个剧团，输出 $4$。\n  \n**【样例 2】**\n\n见选手目录下的 `show/show2.in` 与 `show/show2.ans`。\n\n这个样例满足测试点 $1,2$ 的限制条件。\n\n**【样例 3】**\n\n见选手目录下的 `show/show3.in` 与 `show/show3.ans`。\n\n这个样例满足测试点 $5\\sim 8$ 的限制条件。\n\n**【样例 4】**\n\n见选手目录下的 `show/show4.in` 与 `show/show4.ans`。\n\n这个样例满足测试点 $9\\sim 11$ 的限制条件。\n\n**【样例 5】**\n\n见选手目录下的 `show/show5.in` 与 `show/show5.ans`。\n\n这个样例满足测试点 $12,13$ 的限制条件。\n\n\n**【样例 6】**\n\n见选手目录下的 `show/show6.in` 与 `show/show6.ans`。\n\n这个样例满足测试点 $18,19$ 的限制条件。\n\n***\n\n**【数据范围】**\n\n对于全部的测试数据，保证：\n\n- $1\\leq n,k,q\\leq2\\times10^5$；\n- $1\\leq m\\leq4\\times10^5$；\n- $1\\leq v<u\\leq n$，且不存在两组相同的 $(u,v)$；\n- 对于任意 $1\\le i\\le k$，$2\\leq a_i\\leq n$；\n- 对于每组询问，$1\\leq l\\leq r\\leq k$；\n- 输入构成一张有向无环图，且所有节点均存在到达节点 $1$ 的路径。\n\n| 测试点 | $n,k,q\\leq$ | $m\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1,2$ | $300$ | $600$ | 无 |\n| $3,4$ | $2\\,000$ | $4\\,000$ | A |\n| $5\\sim 8$ | $2\\,000$ | $4\\,000$ | 无 |\n| $9\\sim 11$ | $2\\times10^5$ | $4\\times10^5$ | A |\n| $12,13$ | $2\\times10^5$ | $4\\times10^5$ | BC |\n| $14,15$ | $2\\times10^5$ | $4\\times10^5$ | C |\n| $16,17$ | $2\\times10^5$ | $4\\times10^5$ | BD |\n| $18,19$ | $2\\times10^5$ | $4\\times10^5$ | D |\n| $20\\sim 22$ | $2\\times10^5$ | $4\\times10^5$ | B |\n| $23\\sim 25$ | $2\\times10^5$ | $4\\times10^5$ | 无 |\n\n- 特殊性质 A：图退化为一棵内向树，也就是说，除节点 $1$ 外，每个点恰有一条出边，节点 $1$ 没有出边；\n- 特殊性质 B：保证对于每组询问，$r=k$；\n- 特殊性质 C：保证对于任意 $1\\leq i< j\\leq k$，$a_i\\neq a_j$；\n- 特殊性质 D：保证每个点的入度和出度均不超过 $30$。", "locale": "zh-CN"}}}
{"pid": "P11192", "type": "P", "difficulty": 7, "samples": [["4", "6\n0 1 2 4 8 15"]], "limits": {"time": [10000, 10000, 10000, 10000, 10000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2021", "提交答案", "Special Judge", "O2优化", "群论", "线性代数", "位运算", "构造", "COTS（克罗地亚）"], "title": "[COTS 2021] 菜 Jelo", "background": "译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T1。$\\texttt{1s,0.5G}$。\n\n由于本题特殊的 SPJ，将本题的 TL 和 ML 分别改为 $\\texttt{10s,2G}$。但是对于选手程序，本题的时空限制和原题相同。\n\n如果使用压缩包上传答案：将文件分别命名为 $\\texttt{jelo-1.out}\\sim \\texttt{jelo-5.out}$。", "description": "给定正偶数 $N$。构造一个最大的集合 $S\\subseteq \\{0,1,\\cdots,2^{N}-1\\}$，使得 $\\left|\\bigcup_{i,j\\in S,i\\lt j} \\{i\\oplus j\\}\\right|={|S|\\choose 2}$ 。换言之，在 $S$ 中任意选定 $(a,b),(c,d)$（$a,b,c,d\\in S$，$a\\lt b$，$c\\lt d$，$(a,b)\\neq (c,d)$），都有 $a\\oplus b\\neq c\\oplus d$ 成立。\n\n其中 $\\oplus$ 表示按位异或运算。", "inputFormat": "一行一个正整数 $N$。", "outputFormat": "第一行一个整数 $|S|$。\n\n接下来 $|S|$ 个数描述 $S$。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 30$。\n\n本题共有 $5$ 个测试点，每个测试点有三个评分参数 $t_1,t_2,t_3$，记 $t=|S|$，则得分计算方式为：\n\n$$\\mathrm{score}(t)=\n\\begin{cases}\n2.4\\cdot \\frac{t}{t_1} & t\\in [0,t_1) \\\\\n2.4+3.6\\cdot \\frac{t-t_1}{t_2-t_1} & t\\in [t_1,t_2) \\\\\n6+12\\cdot \\frac{t-t_2}{t_3-t_2} & t\\in [t_2,t_3) \\\\\n20 & t\\in [t_3,2^N] \\\\\n\\end{cases}$$\n\n| 测试点编号 | $N=$ | $t_1=$   | $t_2=$   | $t_3=$    | 得分 |  \n| :--: | :--: | :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 18 $    | $ 267 $   | $ 283 $   | $ 512 $    | $ 20 $   |  \n| $ 2 $    | $ 20 $    | $ 444 $   | $ 462 $   | $ 1024 $   | $ 20 $   |  \n| $ 3 $    | $ 26 $    | $ 2019 $  | $ 2040 $  | $ 8192 $   | $ 20 $   |  \n| $ 4 $    | $ 28 $    | $ 3295 $  | $ 3327 $  | $ 16384 $  | $ 20 $   |  \n| $ 5 $    | $ 30 $    | $ 5377 $  | $ 5430 $  | $ 32768 $  | $ 20 $   |\n\n【提示】请注意代码长度限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2021] 菜 Jelo", "background": "译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T1。$\\texttt{1s,0.5G}$。\n\n由于本题特殊的 SPJ，将本题的 TL 和 ML 分别改为 $\\texttt{10s,2G}$。但是对于选手程序，本题的时空限制和原题相同。\n\n如果使用压缩包上传答案：将文件分别命名为 $\\texttt{jelo-1.out}\\sim \\texttt{jelo-5.out}$。", "description": "给定正偶数 $N$。构造一个最大的集合 $S\\subseteq \\{0,1,\\cdots,2^{N}-1\\}$，使得 $\\left|\\bigcup_{i,j\\in S,i\\lt j} \\{i\\oplus j\\}\\right|={|S|\\choose 2}$ 。换言之，在 $S$ 中任意选定 $(a,b),(c,d)$（$a,b,c,d\\in S$，$a\\lt b$，$c\\lt d$，$(a,b)\\neq (c,d)$），都有 $a\\oplus b\\neq c\\oplus d$ 成立。\n\n其中 $\\oplus$ 表示按位异或运算。", "inputFormat": "一行一个正整数 $N$。", "outputFormat": "第一行一个整数 $|S|$。\n\n接下来 $|S|$ 个数描述 $S$。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 30$。\n\n本题共有 $5$ 个测试点，每个测试点有三个评分参数 $t_1,t_2,t_3$，记 $t=|S|$，则得分计算方式为：\n\n$$\\mathrm{score}(t)=\n\\begin{cases}\n2.4\\cdot \\frac{t}{t_1} & t\\in [0,t_1) \\\\\n2.4+3.6\\cdot \\frac{t-t_1}{t_2-t_1} & t\\in [t_1,t_2) \\\\\n6+12\\cdot \\frac{t-t_2}{t_3-t_2} & t\\in [t_2,t_3) \\\\\n20 & t\\in [t_3,2^N] \\\\\n\\end{cases}$$\n\n| 测试点编号 | $N=$ | $t_1=$   | $t_2=$   | $t_3=$    | 得分 |  \n| :--: | :--: | :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 18 $    | $ 267 $   | $ 283 $   | $ 512 $    | $ 20 $   |  \n| $ 2 $    | $ 20 $    | $ 444 $   | $ 462 $   | $ 1024 $   | $ 20 $   |  \n| $ 3 $    | $ 26 $    | $ 2019 $  | $ 2040 $  | $ 8192 $   | $ 20 $   |  \n| $ 4 $    | $ 28 $    | $ 3295 $  | $ 3327 $  | $ 16384 $  | $ 20 $   |  \n| $ 5 $    | $ 30 $    | $ 5377 $  | $ 5430 $  | $ 32768 $  | $ 20 $   |\n\n【提示】请注意代码长度限制。", "locale": "zh-CN"}}}
{"pid": "P11193", "type": "P", "difficulty": 5, "samples": [["5 125\n\n1\n\n1\n\n0\n\n0", "\n? 1 2 3\n\n? 0 4 1\n\n? 2 5 4\n\n? 0 1 5\n\n! 0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2021", "交互题", "Special Judge", "O2优化", "COTS（克罗地亚）"], "title": "[COTS 2021] 虫 Kukac", "background": "\n译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T2。$\\texttt{3s,0.5G}$。\n\n众所周知，昆虫只对顺逆时针方向有感觉。\n\n如果怀疑 SPJ 有误，请联系搬题人。[SPJ 代码](https://www.luogu.com.cn/paste/94gufjh7)。", "description": "\n**这是一道交互题。**\n\n二维平面上有一个 $N$ 个点的多边形 $P$。注意 $P$ **不一定**是凸的（它可以是凹包）。我们将多边形上的点**依次**编号为 $1\\sim N$。\n\n此外，还有一个额外的点 $0$。试通过交互来确定它是否在 $P$ 内部。\n\n**保证多边形的线段不交。保证这 $(N+1)$ 个点两两不同。保证无三点共线。**\n\n定义：$A,B,C$ **逆时针排列**当且仅当从 $A$ 看向 $B$ 时，$C$ 在直线 $AB$ 左侧。如左图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g40wcp0e.png)\n\n【实现细节】\n\n交互开始前，需要读入一行两个整数 $N,Q$，表示多边形点数，和允许的最大询问数。\n\n接下来，你的程序通过标准输入输出流与交互库交互。以下是允许的询问：\n\n- $\\texttt{? a b c}$：询问点 $a,b,c$ 是否逆时针排列。必须保证 $a,b,c$ 两两不同，且 $0\\le a,b,c\\le N$。\n\n    如果 $a,b,c$ 逆时针排列，回答为 $1$；否则回答为 $0$。\n\n确定答案后，按照以下格式回答：\n\n- $\\texttt{! x}$：如果 $x=1$，则代表 $0$ 号点在多边形内部；$x=0$ 代表 $0$ 号点不在多边形内部。\n\n每次输出后，别忘了刷新缓冲区。如：`std::cout.flush()`。\n", "inputFormat": "见【实现细节】。", "outputFormat": "见【实现细节】。", "hint": "\n#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4en0fhqq.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $3\\le N\\le 500$。\n\n再次提醒，**多边形不一定是凸的**。保证多边形的线段不交。保证这 $(N+1)$ 个点两两不同。保证无三点共线。\n\n\n| 子任务编号 | $N\\le $ | $Q=$   |  特殊性质   | 得分 |  \n| :--: | :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 50 $    | $ N^3 $   | 有  | $ 5 $   |  \n| $ 2 $    | $ 50 $    | $ N^3 $   | 无 | $ 25 $   |  \n| $ 3 $    | $ 500 $    | $ N^2 $  | 无  | $ 15 $   |  \n| $ 4 $    | $ 500 $    | $ 4N $  | 无 | $ 25 $   |  \n| $ 5 $    | $ 500 $    | $ 2N $  | 无   | $ 30 $   |\n\n特殊性质：$P$ 是凸的。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2021] 虫 Kukac", "background": "\n译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T2。$\\texttt{3s,0.5G}$。\n\n众所周知，昆虫只对顺逆时针方向有感觉。\n\n如果怀疑 SPJ 有误，请联系搬题人。[SPJ 代码](https://www.luogu.com.cn/paste/94gufjh7)。", "description": "\n**这是一道交互题。**\n\n二维平面上有一个 $N$ 个点的多边形 $P$。注意 $P$ **不一定**是凸的（它可以是凹包）。我们将多边形上的点**依次**编号为 $1\\sim N$。\n\n此外，还有一个额外的点 $0$。试通过交互来确定它是否在 $P$ 内部。\n\n**保证多边形的线段不交。保证这 $(N+1)$ 个点两两不同。保证无三点共线。**\n\n定义：$A,B,C$ **逆时针排列**当且仅当从 $A$ 看向 $B$ 时，$C$ 在直线 $AB$ 左侧。如左图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g40wcp0e.png)\n\n【实现细节】\n\n交互开始前，需要读入一行两个整数 $N,Q$，表示多边形点数，和允许的最大询问数。\n\n接下来，你的程序通过标准输入输出流与交互库交互。以下是允许的询问：\n\n- $\\texttt{? a b c}$：询问点 $a,b,c$ 是否逆时针排列。必须保证 $a,b,c$ 两两不同，且 $0\\le a,b,c\\le N$。\n\n    如果 $a,b,c$ 逆时针排列，回答为 $1$；否则回答为 $0$。\n\n确定答案后，按照以下格式回答：\n\n- $\\texttt{! x}$：如果 $x=1$，则代表 $0$ 号点在多边形内部；$x=0$ 代表 $0$ 号点不在多边形内部。\n\n每次输出后，别忘了刷新缓冲区。如：`std::cout.flush()`。\n", "inputFormat": "见【实现细节】。", "outputFormat": "见【实现细节】。", "hint": "\n#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4en0fhqq.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $3\\le N\\le 500$。\n\n再次提醒，**多边形不一定是凸的**。保证多边形的线段不交。保证这 $(N+1)$ 个点两两不同。保证无三点共线。\n\n\n| 子任务编号 | $N\\le $ | $Q=$   |  特殊性质   | 得分 |  \n| :--: | :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 50 $    | $ N^3 $   | 有  | $ 5 $   |  \n| $ 2 $    | $ 50 $    | $ N^3 $   | 无 | $ 25 $   |  \n| $ 3 $    | $ 500 $    | $ N^2 $  | 无  | $ 15 $   |  \n| $ 4 $    | $ 500 $    | $ 4N $  | 无 | $ 25 $   |  \n| $ 5 $    | $ 500 $    | $ 2N $  | 无   | $ 30 $   |\n\n特殊性质：$P$ 是凸的。", "locale": "zh-CN"}}}
{"pid": "P11194", "type": "P", "difficulty": 6, "samples": [["3 2\n1 1 2\n1 2\n2 3", "DA\n2 3"], ["4 3\n1 2 2 3\n1 2\n2 3\n3 4", "NE"], ["8 3\n1 2 1 2 2 1 3 3\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n7 8", "DA\n1 2 8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "Special Judge", "O2优化", "构造", "COTS（克罗地亚）"], "title": "[COTS 2021] 县 Županije", "background": "\n译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T3。$\\texttt{2s,0.5G}$。\n\n2025/07/06：加入两组 Hack 数据并进行了重测（贡献者 @[konyakest](https://www.luogu.com.cn/user/482660)），Hack 数据位于 Subtask 0。", "description": "\n\n给定 $N$ 个点的树。已经将这 $N$ 个点划分成了 $K$ 个县。\n\n现在你要为每个县确定一个**县城**。设第 $i$ 个点属于的县为 $B_i$，每个县的县城为 $A_1,A_2,\\cdots,A_K$（必须两两不同），则下列关系式必须满足：\n\n- $\\forall 1\\le i\\le N$，$\\displaystyle \\operatorname{dist}(i,A_{B_i})\\lt \\min_{j=1,j\\neq B_i}^K \\operatorname{dist}(i,A_j)$。\n\n其中，$\\mathrm{dist}(a,b)$ 定义为 $a,b$ 之间简单路径的边数。\n\n也就是说，每个县中的点到它所属的县城距离必须**严格小于**到其它县城的距离。\n\n判断这是否是可以达成的。如果可以的话，需要给出一组符合条件的方案。", "inputFormat": "\n第一行，两个正整数 $N,K$。\n\n第二行，$N$ 个整数 $B_1,B_2,\\cdots,B_N$。\n\n接下来 $(N-1)$ 行，每行两个正整数 $u,v$，描述一条树边 $(u,v)$。", "outputFormat": "\n如果可行的话，第一行输出 `DA`（克罗地亚语「是」）；第二行 $K$ 个整数，第 $i$ 个整数表示第 $i$ 个县的县城。\n\n否则输出 `NE`（克罗地亚语「否」）。", "hint": "\n\n#### 样例解释\n\n下图是样例 $3$ 的解释。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l3nlu402.png)\n\n#### 数据范围\n\n【评分方式】如果你回答对了第一问，可以获得 $40\\%$ 的分数。但是需要保证输出格式正确，即，如果只打算回答第一问，也要在第二行输出 $K$ 个不同的 $\\in [1,N]$ 的整数。\n\n对于 $100\\%$ 的数据，保证 $1\\le B_i\\le K\\le N\\le 2\\times 10^5$，给出的是一棵树。\n\n| 子任务编号 | $N\\le $ |   特殊性质   | 得分 |  \n| :--: | :--: | :--: |  :--: |  \n| $ 1 $    | $ 20 $    |  无  | $ 10 $   |  \n| $ 2 $    | $ 2\\, 000 $    |  无 | $ 25 $   |  \n| $ 3 $    | $ 2\\times 10^5 $    | 有  | $ 30 $   |  \n| $ 4 $    | $ 2\\times 10^5 $    | 无 | $ 35 $   |  \n\n特殊性质：每个点的度数为 $1$ 或 $3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2021] 县 Županije", "background": "\n译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D1T3。$\\texttt{2s,0.5G}$。\n\n2025/07/06：加入两组 Hack 数据并进行了重测（贡献者 @[konyakest](https://www.luogu.com.cn/user/482660)），Hack 数据位于 Subtask 0。", "description": "\n\n给定 $N$ 个点的树。已经将这 $N$ 个点划分成了 $K$ 个县。\n\n现在你要为每个县确定一个**县城**。设第 $i$ 个点属于的县为 $B_i$，每个县的县城为 $A_1,A_2,\\cdots,A_K$（必须两两不同），则下列关系式必须满足：\n\n- $\\forall 1\\le i\\le N$，$\\displaystyle \\operatorname{dist}(i,A_{B_i})\\lt \\min_{j=1,j\\neq B_i}^K \\operatorname{dist}(i,A_j)$。\n\n其中，$\\mathrm{dist}(a,b)$ 定义为 $a,b$ 之间简单路径的边数。\n\n也就是说，每个县中的点到它所属的县城距离必须**严格小于**到其它县城的距离。\n\n判断这是否是可以达成的。如果可以的话，需要给出一组符合条件的方案。", "inputFormat": "\n第一行，两个正整数 $N,K$。\n\n第二行，$N$ 个整数 $B_1,B_2,\\cdots,B_N$。\n\n接下来 $(N-1)$ 行，每行两个正整数 $u,v$，描述一条树边 $(u,v)$。", "outputFormat": "\n如果可行的话，第一行输出 `DA`（克罗地亚语「是」）；第二行 $K$ 个整数，第 $i$ 个整数表示第 $i$ 个县的县城。\n\n否则输出 `NE`（克罗地亚语「否」）。", "hint": "\n\n#### 样例解释\n\n下图是样例 $3$ 的解释。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l3nlu402.png)\n\n#### 数据范围\n\n【评分方式】如果你回答对了第一问，可以获得 $40\\%$ 的分数。但是需要保证输出格式正确，即，如果只打算回答第一问，也要在第二行输出 $K$ 个不同的 $\\in [1,N]$ 的整数。\n\n对于 $100\\%$ 的数据，保证 $1\\le B_i\\le K\\le N\\le 2\\times 10^5$，给出的是一棵树。\n\n| 子任务编号 | $N\\le $ |   特殊性质   | 得分 |  \n| :--: | :--: | :--: |  :--: |  \n| $ 1 $    | $ 20 $    |  无  | $ 10 $   |  \n| $ 2 $    | $ 2\\, 000 $    |  无 | $ 25 $   |  \n| $ 3 $    | $ 2\\times 10^5 $    | 有  | $ 30 $   |  \n| $ 4 $    | $ 2\\times 10^5 $    | 无 | $ 35 $   |  \n\n特殊性质：每个点的度数为 $1$ 或 $3$。", "locale": "zh-CN"}}}
{"pid": "P11195", "type": "P", "difficulty": 6, "samples": [["3\n1 2 3\n1 2\n1 3\n3\n1\n2\n3", "0\n1\n0"], ["7\n45 13 19 3 81 27 77\n1 2\n1 3\n1 4\n3 5\n3 6\n4 7\n3\n5\n6\n7", "0\n1\n1"], ["8\n23 4 9 7 11 4 1 18\n2 1\n3 2\n4 2\n5 2\n6 3\n7 4\n8 1\n3\n2\n3\n7", "1\n2\n3"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000]}, "tags": ["2021", "O2优化", "COTS（克罗地亚）"], "title": "[COTS 2021] 疫苗接种 Cijepise", "background": "译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D2T1。$\\texttt{5s,1G}$。", "description": "\n给定以 $1$ 为根的有 $N$ 个节点的有根树，记 $i$ 号点的点权为 $a_i$。\n\n定义一次操作为：\n\n- 初始化 $u$ 为树根。\n\t1. 设 $u$ 儿子中点权最大的点为 $v$（若有多个，则**等概率随机选取一个**）。令 $a_u\\gets a_v$，$a_v\\gets 0$。\n\t2. 若 $v$ 为叶子，则删去 $v$，终止这个过程。否则令 $u\\gets v$，回到 1。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u6c8gliu.png)\n\n\n定义 $f(v)$ 为：**在最坏情况下**，欲让 $a_v$ 尽可能快地（也就是使用尽量少的操作次数）出现在树根上，至少需要更改多少个点的点权（可以不更改）。\n\n换句话说，我们定义在最坏情况下，$v$ 需要操作 $k$ 次到达树根。显然树的形态固定时，不同的点权会使得 $k$ 取不同的值，且 $k$ 存在一个下界。你需要修改若干个点的点权，使得 $k$ 取到下界，并最小化修改的数量。\n\n点权可以被改为 $[0,2\\times 10^9]$ 内的任意整数。\n\n\n$Q$ 次询问给定 $v$，回答 $f(v)$。", "inputFormat": "\n第一行，一个正整数 $N$。\n\n第二行，$N$ 个正整数 $a_i$。\n\n接下来 $(N-1)$ 行，每行两个正整数 $u,v$，描述一条树边 $(u,v)$。\n\n接下来一行，一个正整数 $Q$。\n\n接下来 $Q$ 行，每行一个正整数 $v$，表示询问 $f(v)$。\n", "outputFormat": "\n输出 $Q$ 行，表示每个询问的答案。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le Q\\le N\\le 1\\times 10^5$，$1\\le a_i\\le 10^9$，$1\\le v\\le N$，给出的是一棵树。\n\n| 子任务编号 | $N\\le $ |  特殊性质   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 12 $    |  无  | $ 10 $   |  \n| $ 2 $    | $ 300 $   |  无 | $ 11 $   |  \n| $ 3 $    | $ 3\\,000 $ | 有  | $ 12 $   |  \n| $ 4 $    | $ 3\\,000 $  |  无 | $ 13 $   |  \n| $ 5 $    | $ 100\\,000 $  |   有 | $ 20 $   |  \n| $ 6 $    | $ 100\\,000 $  |   无 | $ 34 $   |  \n\n特殊性质：$Q\\le 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2021] 疫苗接种 Cijepise", "background": "译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D2T1。$\\texttt{5s,1G}$。", "description": "\n给定以 $1$ 为根的有 $N$ 个节点的有根树，记 $i$ 号点的点权为 $a_i$。\n\n定义一次操作为：\n\n- 初始化 $u$ 为树根。\n\t1. 设 $u$ 儿子中点权最大的点为 $v$（若有多个，则**等概率随机选取一个**）。令 $a_u\\gets a_v$，$a_v\\gets 0$。\n\t2. 若 $v$ 为叶子，则删去 $v$，终止这个过程。否则令 $u\\gets v$，回到 1。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u6c8gliu.png)\n\n\n定义 $f(v)$ 为：**在最坏情况下**，欲让 $a_v$ 尽可能快地（也就是使用尽量少的操作次数）出现在树根上，至少需要更改多少个点的点权（可以不更改）。\n\n换句话说，我们定义在最坏情况下，$v$ 需要操作 $k$ 次到达树根。显然树的形态固定时，不同的点权会使得 $k$ 取不同的值，且 $k$ 存在一个下界。你需要修改若干个点的点权，使得 $k$ 取到下界，并最小化修改的数量。\n\n点权可以被改为 $[0,2\\times 10^9]$ 内的任意整数。\n\n\n$Q$ 次询问给定 $v$，回答 $f(v)$。", "inputFormat": "\n第一行，一个正整数 $N$。\n\n第二行，$N$ 个正整数 $a_i$。\n\n接下来 $(N-1)$ 行，每行两个正整数 $u,v$，描述一条树边 $(u,v)$。\n\n接下来一行，一个正整数 $Q$。\n\n接下来 $Q$ 行，每行一个正整数 $v$，表示询问 $f(v)$。\n", "outputFormat": "\n输出 $Q$ 行，表示每个询问的答案。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le Q\\le N\\le 1\\times 10^5$，$1\\le a_i\\le 10^9$，$1\\le v\\le N$，给出的是一棵树。\n\n| 子任务编号 | $N\\le $ |  特殊性质   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 12 $    |  无  | $ 10 $   |  \n| $ 2 $    | $ 300 $   |  无 | $ 11 $   |  \n| $ 3 $    | $ 3\\,000 $ | 有  | $ 12 $   |  \n| $ 4 $    | $ 3\\,000 $  |  无 | $ 13 $   |  \n| $ 5 $    | $ 100\\,000 $  |   有 | $ 20 $   |  \n| $ 6 $    | $ 100\\,000 $  |   无 | $ 34 $   |  \n\n特殊性质：$Q\\le 1$。", "locale": "zh-CN"}}}
{"pid": "P11197", "type": "P", "difficulty": 6, "samples": [["3\n2 3 1\n1 2 3\n1 2 3\n2 3 1", "1"], ["4\n3 1 2 4\n4 3 2 1\n1 2 3 4\n1 2 4 3", "0"], ["5\n1 3 2 4 5\n4 3 5 2 1\n4 3 1 2 5\n1 2 4 3 5", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["树状数组", "2021", "cdq 分治", "O2优化", "COTS（克罗地亚）"], "title": "[COTS 2021] 赛狗游戏 Tiket", "background": "Rebirth.\n\n译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D2T3。$\\texttt{1s,0.5G}$。\n", "description": "有三个人在观看赛狗游戏。\n\n三个人都猜测了狗冲过终点的顺序，即 $P_i$ 表示第 $i$ 只冲过终点的狗的编号。我们假设没有平局。\n\n有 $N$ 条狗，因此 $P_i$ 构成一个 $1\\sim N$ 的排列。不妨记第 $j$ 个人猜测的排列为 $P(j)$。\n\n此外，最终狗冲过终点的顺序构成排列 $T$。\n\n计算满足以下条件的数对 $(a,b)$ 的数量：\n\n- 在 $T$ 中，$a$ 在 $b$ 前面；\n- $\\forall 1\\le j\\le 3$，要么 $a$ 在所有的 $P(j)$ 中都在 $b$ 前面，要么 $b$ 在所有的 $P(j)$ 中都在 $a$ 前面。\n", "inputFormat": "第一行，一个正整数 $N$。\n\n第二行，$N$ 个正整数描述 $T$。\n\n接下来三行，第 $j$ 行 $N$ 个正整数，描述 $P(j)$。", "outputFormat": "输出一行一个整数，即答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：只有 $(2,3)$ 满足条件。\n\n\n#### 数据范围\n\n\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le N\\le 5\\times 10^5$；\n- $\\forall 1\\le j\\le 3$，$P(j)$ 构成一个 $1\\sim N$ 的排列。\n- $T$ 构成一个 $1\\sim N$ 的排列。\n\n\n| 子任务编号 | $N\\le $ |  特殊性质   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 5\\, 000 $    |  无  | $ 7 $   |  \n| $ 2 $    | $ 5\\times 10^5 $   |  有 | $ 8 $   |  \n| $ 3 $    | $ 5\\times 10^4$ | 无  | $ 29 $   |  \n| $ 4 $    | $ 5\\times 10^5 $  |  无 | $ 56 $   |  \n\n特殊性质：$P(1)=P(2)$。也就是说前两个人猜的排列是一样的。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2021] 赛狗游戏 Tiket", "background": "Rebirth.\n\n译自 [Izborne Pripreme 2021 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2021/) D2T3。$\\texttt{1s,0.5G}$。\n", "description": "有三个人在观看赛狗游戏。\n\n三个人都猜测了狗冲过终点的顺序，即 $P_i$ 表示第 $i$ 只冲过终点的狗的编号。我们假设没有平局。\n\n有 $N$ 条狗，因此 $P_i$ 构成一个 $1\\sim N$ 的排列。不妨记第 $j$ 个人猜测的排列为 $P(j)$。\n\n此外，最终狗冲过终点的顺序构成排列 $T$。\n\n计算满足以下条件的数对 $(a,b)$ 的数量：\n\n- 在 $T$ 中，$a$ 在 $b$ 前面；\n- $\\forall 1\\le j\\le 3$，要么 $a$ 在所有的 $P(j)$ 中都在 $b$ 前面，要么 $b$ 在所有的 $P(j)$ 中都在 $a$ 前面。\n", "inputFormat": "第一行，一个正整数 $N$。\n\n第二行，$N$ 个正整数描述 $T$。\n\n接下来三行，第 $j$ 行 $N$ 个正整数，描述 $P(j)$。", "outputFormat": "输出一行一个整数，即答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：只有 $(2,3)$ 满足条件。\n\n\n#### 数据范围\n\n\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le N\\le 5\\times 10^5$；\n- $\\forall 1\\le j\\le 3$，$P(j)$ 构成一个 $1\\sim N$ 的排列。\n- $T$ 构成一个 $1\\sim N$ 的排列。\n\n\n| 子任务编号 | $N\\le $ |  特殊性质   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 5\\, 000 $    |  无  | $ 7 $   |  \n| $ 2 $    | $ 5\\times 10^5 $   |  有 | $ 8 $   |  \n| $ 3 $    | $ 5\\times 10^4$ | 无  | $ 29 $   |  \n| $ 4 $    | $ 5\\times 10^5 $  |  无 | $ 56 $   |  \n\n特殊性质：$P(1)=P(2)$。也就是说前两个人猜的排列是一样的。", "locale": "zh-CN"}}}
{"pid": "P11198", "type": "P", "difficulty": 1, "samples": [["5\noxooo", "Yes"], ["5\nxooxo", "No"], ["1\no", "No"], ["10\noooooooooo", "Yes"], ["20\nxooxxoooxoxooxooxoox", "Yes"], ["20\nxooxxxooxoxooxooxoox", "No"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["模拟", "2024", "O2优化", "JOI（日本）"], "title": "[JOIG 2024] 三連続 / Three Consecutive", "background": "", "description": "给定长度为 $N$ 的字符串 $S$，$S$ 中的每个字符都是 `o` 或 `x`。\n\n判断 $S$ 中是否包含**连续**的 $3$ 个 `o`。", "inputFormat": "第一行输入一个整数 $N$。\n\n第二行输入一个字符串 $S$。", "outputFormat": "输出一行一个字符串 `Yes` 或 `No`：如果是 `Yes` 表示 $S$ 中存在连续的 $3$ 个 `o`，反之亦然。", "hint": "#### 【样例解释 #1】\n\n$S$ 中第 $3\\sim 5$ 个字符是连续的 $3$ 个 `o`。\n\n该样例满足子任务 $1,2$ 的限制。\n\n#### 【样例解释 #2】\n\n$S$ 中不存在连续的 $3$ 个 `o`。\n\n该样例满足子任务 $1,2$ 的限制。\n\n#### 【样例解释 #3】\n\n$S$ 中不存在连续的 $3$ 个 `o`。\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【样例解释 #4】\n\n$S$ 中第 $1\\sim 3$ 个字符是连续的 $3$ 个 `o`。\n\n注意，$3$ 个连续的 `o` 旁边可能有其他的 `o`。\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【样例解释 #5】\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【样例解释 #6】\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 10^5$；\n- $S$ 是长度为 $N$ 且仅包含小写字符 `o` 和 `x` 的字符串。\n\n#### 【子任务】\n\n1. （$40$ 分）$N=5$；\n2. （$60$ 分）无附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIG 2024] 三連続 / Three Consecutive", "background": "", "description": "给定长度为 $N$ 的字符串 $S$，$S$ 中的每个字符都是 `o` 或 `x`。\n\n判断 $S$ 中是否包含**连续**的 $3$ 个 `o`。", "inputFormat": "第一行输入一个整数 $N$。\n\n第二行输入一个字符串 $S$。", "outputFormat": "输出一行一个字符串 `Yes` 或 `No`：如果是 `Yes` 表示 $S$ 中存在连续的 $3$ 个 `o`，反之亦然。", "hint": "#### 【样例解释 #1】\n\n$S$ 中第 $3\\sim 5$ 个字符是连续的 $3$ 个 `o`。\n\n该样例满足子任务 $1,2$ 的限制。\n\n#### 【样例解释 #2】\n\n$S$ 中不存在连续的 $3$ 个 `o`。\n\n该样例满足子任务 $1,2$ 的限制。\n\n#### 【样例解释 #3】\n\n$S$ 中不存在连续的 $3$ 个 `o`。\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【样例解释 #4】\n\n$S$ 中第 $1\\sim 3$ 个字符是连续的 $3$ 个 `o`。\n\n注意，$3$ 个连续的 `o` 旁边可能有其他的 `o`。\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【样例解释 #5】\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【样例解释 #6】\n\n该样例满足子任务 $2$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 10^5$；\n- $S$ 是长度为 $N$ 且仅包含小写字符 `o` 和 `x` 的字符串。\n\n#### 【子任务】\n\n1. （$40$ 分）$N=5$；\n2. （$60$ 分）无附加限制。", "locale": "zh-CN"}}}
{"pid": "P11199", "type": "P", "difficulty": 1, "samples": [["1 5\n2 7", "Yes"], ["3 0\n10 10 10 11 10 10", "No"], ["6 4\n22 15 32 36 16 30 42 30 39 23 17 18", "Yes"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "2024", "O2优化", "排序", "JOI（日本）"], "title": "[JOIG 2024] ダンス / Dance", "background": "", "description": "一所中学的一个班级有 $2N$ 名学生，第 $i(1\\le i\\le 2N)$ 名学生的身高是 $A_i$。\n\n在即将开始的体育课上，学生们将两两配对，形成 $N$ 组进行舞蹈。\n\n要跳出优美的舞蹈，每一对舞伴之间的身高差必须小于或等于 $D$。\n\n给定每个学生的身高，确定能否跳出优美的舞蹈。", "inputFormat": "第一行输入两个整数 $N,D$。\n\n第二行输入 $2N$ 个整数 $A_1,A_2,\\ldots,A_{2N}$。", "outputFormat": "输出一行一个字符串，如果可以跳出优美的舞蹈输出 `Yes`，否则输出 `No`。", "hint": "#### 【样例解释 #1】\n\n只有一种配对方案，满足 $|2-7|\\le 5$，符合条件。\n\n该样例满足子任务 $1,3$ 的限制。\n\n#### 【样例解释 #2】\n\n无论如何都没法进行配对，使得任意一对舞伴的身高差 $\\le 0$。\n\n该样例满足子任务 $2,3$ 的限制。\n\n#### 【样例解释 #3】\n\n考虑如下配对方案：\n\n- 身高 $39$ 的学生和身高 $42$ 的学生配对；\n- 身高 $22$ 的学生和身高 $23$ 的学生配对；\n- 身高 $16$ 的学生和身高 $17$ 的学生配对；\n- 身高 $32$ 的学生和身高 $36$ 的学生配对；\n- 身高 $15$ 的学生和身高 $18$ 的学生配对；\n- 身高 $30$ 的学生和身高 $30$ 的学生配对。\n\n符合条件。\n\n该样例满足子任务 $3$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 100$；\n- $0\\le D\\le 100$；\n- $1\\le A_i\\le 100(1\\le i\\le 2N)$。\n\n#### 【子任务】\n\n1. （$20$ 分）$N=1$；\n2. （$40$ 分）$D=0$；\n3. （$40$ 分）无附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIG 2024] ダンス / Dance", "background": "", "description": "一所中学的一个班级有 $2N$ 名学生，第 $i(1\\le i\\le 2N)$ 名学生的身高是 $A_i$。\n\n在即将开始的体育课上，学生们将两两配对，形成 $N$ 组进行舞蹈。\n\n要跳出优美的舞蹈，每一对舞伴之间的身高差必须小于或等于 $D$。\n\n给定每个学生的身高，确定能否跳出优美的舞蹈。", "inputFormat": "第一行输入两个整数 $N,D$。\n\n第二行输入 $2N$ 个整数 $A_1,A_2,\\ldots,A_{2N}$。", "outputFormat": "输出一行一个字符串，如果可以跳出优美的舞蹈输出 `Yes`，否则输出 `No`。", "hint": "#### 【样例解释 #1】\n\n只有一种配对方案，满足 $|2-7|\\le 5$，符合条件。\n\n该样例满足子任务 $1,3$ 的限制。\n\n#### 【样例解释 #2】\n\n无论如何都没法进行配对，使得任意一对舞伴的身高差 $\\le 0$。\n\n该样例满足子任务 $2,3$ 的限制。\n\n#### 【样例解释 #3】\n\n考虑如下配对方案：\n\n- 身高 $39$ 的学生和身高 $42$ 的学生配对；\n- 身高 $22$ 的学生和身高 $23$ 的学生配对；\n- 身高 $16$ 的学生和身高 $17$ 的学生配对；\n- 身高 $32$ 的学生和身高 $36$ 的学生配对；\n- 身高 $15$ 的学生和身高 $18$ 的学生配对；\n- 身高 $30$ 的学生和身高 $30$ 的学生配对。\n\n符合条件。\n\n该样例满足子任务 $3$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 100$；\n- $0\\le D\\le 100$；\n- $1\\le A_i\\le 100(1\\le i\\le 2N)$。\n\n#### 【子任务】\n\n1. （$20$ 分）$N=1$；\n2. （$40$ 分）$D=0$；\n3. （$40$ 分）无附加限制。", "locale": "zh-CN"}}}
{"pid": "P11200", "type": "P", "difficulty": 2, "samples": [["3\n2 5\n1 1\n1 2", "3\n4\n3"], ["5\n1 1\n2 4\n2 14\n3 10\n2 2", "1\n3\n4\n4\n1"], ["3\n1 1\n2 1\n1 1", "0\n0\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2024", "O2优化", "JOI（日本）"], "title": "[JOIG 2024] 座席 2 / Seats 2", "background": "", "description": "今年，JOI 国将主办 IOI（国际信息学奥林匹克竞赛）。届时将有 $N$ 名选手参赛，编号从 $1$ 到 $N$。\n\n每位选手的国籍由一个介于 $1$ 和 $10^9$ 之间的整数表示：选手 $i(1\\le i\\le N)$ 来自国家 $C_i$。保证 $N$ 个选手的国籍**不完全相同**（即存在 $i\\ne j(1\\le i,j\\le N)$ 使得 $C_i\\ne C_j$）。\n\n选手的座位排成一条直线，选手 $i(1\\le i\\le N)$ 的座位在 $X_i$ 处。选手 $i(1\\le i\\le N)$ 和选手 $j(1\\le j\\le N)$ 之间的**座位距离**为 $|X_i-X_j|$。\n\n每个选手都想知道在与其他选手交流时，与离自己最近的异国选手的座位距离。\n\n给定每个选手的国籍和座位位置，请为每个选手 $i(1\\le i\\le N)$ 求出与其来自不同国家的选手中，座位离选手 $i$ 最近的选手与 $i$ 的座位距离。", "inputFormat": "第一行输入一个整数 $N$。\n\n接下来 $N$ 行，每行输入两个整数 $C_i,X_i$。", "outputFormat": "输出 $N$ 行，第 $i$ 行输出一个整数，表示座位离选手 $i$ 最近的选手与 $i$ 的座位距离。", "hint": "#### 【样例解释 #1】\n\n- 选手 $1$ 来自国家 $2$，选手 $2, 3$ 和他 / 她来自不同国家。在这些选手中，与选手 $1$ 座位距离最小的是选手 $3$，座位距离为 $3$。因此，答案为 $3$；\n- 选手 $2$ 来自国家 $1$，选手 $1$ 是唯一和他 / 她来自不同国家的选手。选手 $2$ 和选手 $1$ 之间的座位距离为 $4$；\n- 选手 $3$ 来自国家 $1$，选手 $1$ 是唯一和他 / 她来自不同国家的选手。选手 $3$ 和选手 $1$ 之间的座位距离为 $3$。\n\n该样例满足子任务 $1,2,3$ 的限制。\n\n#### 【样例解释 #2】\n\n该样例满足子任务 $1,2,3$ 的限制。\n\n#### 【样例解释 #3】\n\n该样例满足子任务 $1,2,3$ 的限制。\n\n#### 【数据范围】\n\n- $2\\le N \\le 3\\times 10^5$；\n- $1\\le C_i\\le 10^9(1\\le i\\le N)$ 且 $C_i$ 不完全相同；\n- $1\\le X_i\\le 10^9(1\\le i\\le N)$。\n\n#### 【子任务】\n\n1. （$20$ 分）$N\\le 1000$；\n2. （$40$ 分）$C_i\\le 10(1\\le i\\le N)$；\n3. （$40$ 分）无附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIG 2024] 座席 2 / Seats 2", "background": "", "description": "今年，JOI 国将主办 IOI（国际信息学奥林匹克竞赛）。届时将有 $N$ 名选手参赛，编号从 $1$ 到 $N$。\n\n每位选手的国籍由一个介于 $1$ 和 $10^9$ 之间的整数表示：选手 $i(1\\le i\\le N)$ 来自国家 $C_i$。保证 $N$ 个选手的国籍**不完全相同**（即存在 $i\\ne j(1\\le i,j\\le N)$ 使得 $C_i\\ne C_j$）。\n\n选手的座位排成一条直线，选手 $i(1\\le i\\le N)$ 的座位在 $X_i$ 处。选手 $i(1\\le i\\le N)$ 和选手 $j(1\\le j\\le N)$ 之间的**座位距离**为 $|X_i-X_j|$。\n\n每个选手都想知道在与其他选手交流时，与离自己最近的异国选手的座位距离。\n\n给定每个选手的国籍和座位位置，请为每个选手 $i(1\\le i\\le N)$ 求出与其来自不同国家的选手中，座位离选手 $i$ 最近的选手与 $i$ 的座位距离。", "inputFormat": "第一行输入一个整数 $N$。\n\n接下来 $N$ 行，每行输入两个整数 $C_i,X_i$。", "outputFormat": "输出 $N$ 行，第 $i$ 行输出一个整数，表示座位离选手 $i$ 最近的选手与 $i$ 的座位距离。", "hint": "#### 【样例解释 #1】\n\n- 选手 $1$ 来自国家 $2$，选手 $2, 3$ 和他 / 她来自不同国家。在这些选手中，与选手 $1$ 座位距离最小的是选手 $3$，座位距离为 $3$。因此，答案为 $3$；\n- 选手 $2$ 来自国家 $1$，选手 $1$ 是唯一和他 / 她来自不同国家的选手。选手 $2$ 和选手 $1$ 之间的座位距离为 $4$；\n- 选手 $3$ 来自国家 $1$，选手 $1$ 是唯一和他 / 她来自不同国家的选手。选手 $3$ 和选手 $1$ 之间的座位距离为 $3$。\n\n该样例满足子任务 $1,2,3$ 的限制。\n\n#### 【样例解释 #2】\n\n该样例满足子任务 $1,2,3$ 的限制。\n\n#### 【样例解释 #3】\n\n该样例满足子任务 $1,2,3$ 的限制。\n\n#### 【数据范围】\n\n- $2\\le N \\le 3\\times 10^5$；\n- $1\\le C_i\\le 10^9(1\\le i\\le N)$ 且 $C_i$ 不完全相同；\n- $1\\le X_i\\le 10^9(1\\le i\\le N)$。\n\n#### 【子任务】\n\n1. （$20$ 分）$N\\le 1000$；\n2. （$40$ 分）$C_i\\le 10(1\\le i\\le N)$；\n3. （$40$ 分）无附加限制。", "locale": "zh-CN"}}}
{"pid": "P11201", "type": "P", "difficulty": 3, "samples": [["3\n97 79 7\n20 2 21", "20"], ["4\n8 97 996 9995\n1 2 3 4\n", "46"], ["1\n500000000\n500000000", "10"], ["7\n436981378 523812834 456708479 413571178 506402783 598271009 523936624\n401203104 501634329 506090236 527167431 485527116 439442403 568364549", "463"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["二分", "2024", "O2优化", "JOI（日本）"], "title": "[JOIG 2024] たくさんの数字 / Many Digits", "background": "", "description": "JOI 高中的 Aoi 决定在 $N\\times N$ 的表格中写下 $N^2$ 个非负整数。具体地，给定两个长度为 $N$ 的序列 $A,B$，她会在第 $i$ 行第 $j$ 列的格子上写下 $A_i+B_j$。\n\nAoi 想知道写出这些数需要多少个字符。也就是说，你需要求出写出的 $N^2$ 个整数在十进制下的位数的和。", "inputFormat": "第一行输入一个整数 $N$。\n\n第二行输入 $N$ 个整数 $A_1,A_2,\\ldots,A_N$。\n\n第三行输入 $N$ 个整数 $B_1,B_2,\\ldots,B_N$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 【样例解释 #1】\n\n|$+$|$\\textbf{20}$|$\\textbf{2}$|$\\textbf{21}$|\n|:-:|:-:|:-:|:-:|\n|$\\textbf{97}$|$117$|$99$|$118$|\n|$\\textbf{79}$|$99$|$81$|$100$|\n|$\\textbf{7}$|$27$|$9$|$28$|\n\n未加粗字体为 Aoi 填写的内容。\n\n例如，第 $1$ 行第 $1$ 列的方格中的整数为 $A_1 + B_1 = 97 + 20 = 117$，位数为 $3$。第 $3$ 行第 $2$ 列的方格中的整数为 $A_3 + B_2 = 7 + 2 = 9$，位数为 $1$。\n\n$9$ 个数的位数分别为 $3, 2, 3, 2, 2, 3, 2, 1, 2$，故位数之和为 $3 + 2 + 3 + 2 + 2 + 3 + 2 + 1 + 2 = 20$。\n\n该样例满足子任务 $2,3,8$ 的限制。\n\n#### 【样例解释 #2】\n\n|$+$|$\\textbf{1}$|$\\textbf{2}$|$\\textbf{3}$|$\\textbf{4}$|\n|:-:|:-:|:-:|:-:|:-:|\n|$\\textbf{8}$|$9$|$10$|$11$|$12$|\n|$\\textbf{97}$|$98$|$99$|$100$|$101$|\n|$\\textbf{996}$|$997$|$998$|$999$|$1000$|\n|$\\textbf{9995}$|$9996$|$9997$|$9998$|$9999$|\n\n未加粗字体为 Aoi 填写的内容。\n\n例如，第 $2$ 行第 $3$ 列的方格中的整数为 $A_2 + B_3 = 97 + 3 = 100$，位数为 $3$。第 $4$ 行第 $2$ 列的方格中的整数为 $A_4 + B_2 = 9995 + 2 = 9997$，位数为 $4$。\n\n可以得出答案为 $46$。\n\n该样例满足子任务 $2,6,7,8$ 的限制。\n\n#### 【样例解释 #3】\n\n方格中仅有一个整数 $10^9$，位数为 $10$，故位数之和为 $10$。\n\n该样例满足子任务 $1,2,4,5,8$ 的限制。\n\n#### 【样例解释 #4】\n\n该样例满足子任务 $2,5,8$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 1.5\\times 10^5$；\n- $1\\le A_i\\le 999,999,999(1\\le i\\le N)$；\n- $1\\le B_j\\le 999,999,999(1\\le j\\le N)$。\n\n#### 【子任务】\n\n1. （$5$ 分）$N=1$；\n2. （$11$ 分）$N\\le 2000$；\n3. （$15$ 分）$A_i\\le 2000(1\\le i\\le N)$，$B_j\\le 2000(1\\le j\\le N)$；\n4. （$8$ 分）$10^8\\le A_i\\le 5\\times 10^8(1\\le i\\le N)$，$10^8\\le B_j\\le 5\\times 10^8(1\\le j\\le N)$；\n5. （$22$ 分）$10^8\\le A_i(1\\le i\\le N)$，$10^8\\le B_j(1\\le j\\le N)$；\n6. （$12$ 分）$A_i\\le 1.5\\times 10^5(1\\le i\\le N)$，$B_j = j(1\\le j\\le N)$；\n7. （$13$ 分）$B_j=j(1\\le j\\le N)$；\n8. （$14$ 分）无附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIG 2024] たくさんの数字 / Many Digits", "background": "", "description": "JOI 高中的 Aoi 决定在 $N\\times N$ 的表格中写下 $N^2$ 个非负整数。具体地，给定两个长度为 $N$ 的序列 $A,B$，她会在第 $i$ 行第 $j$ 列的格子上写下 $A_i+B_j$。\n\nAoi 想知道写出这些数需要多少个字符。也就是说，你需要求出写出的 $N^2$ 个整数在十进制下的位数的和。", "inputFormat": "第一行输入一个整数 $N$。\n\n第二行输入 $N$ 个整数 $A_1,A_2,\\ldots,A_N$。\n\n第三行输入 $N$ 个整数 $B_1,B_2,\\ldots,B_N$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 【样例解释 #1】\n\n|$+$|$\\textbf{20}$|$\\textbf{2}$|$\\textbf{21}$|\n|:-:|:-:|:-:|:-:|\n|$\\textbf{97}$|$117$|$99$|$118$|\n|$\\textbf{79}$|$99$|$81$|$100$|\n|$\\textbf{7}$|$27$|$9$|$28$|\n\n未加粗字体为 Aoi 填写的内容。\n\n例如，第 $1$ 行第 $1$ 列的方格中的整数为 $A_1 + B_1 = 97 + 20 = 117$，位数为 $3$。第 $3$ 行第 $2$ 列的方格中的整数为 $A_3 + B_2 = 7 + 2 = 9$，位数为 $1$。\n\n$9$ 个数的位数分别为 $3, 2, 3, 2, 2, 3, 2, 1, 2$，故位数之和为 $3 + 2 + 3 + 2 + 2 + 3 + 2 + 1 + 2 = 20$。\n\n该样例满足子任务 $2,3,8$ 的限制。\n\n#### 【样例解释 #2】\n\n|$+$|$\\textbf{1}$|$\\textbf{2}$|$\\textbf{3}$|$\\textbf{4}$|\n|:-:|:-:|:-:|:-:|:-:|\n|$\\textbf{8}$|$9$|$10$|$11$|$12$|\n|$\\textbf{97}$|$98$|$99$|$100$|$101$|\n|$\\textbf{996}$|$997$|$998$|$999$|$1000$|\n|$\\textbf{9995}$|$9996$|$9997$|$9998$|$9999$|\n\n未加粗字体为 Aoi 填写的内容。\n\n例如，第 $2$ 行第 $3$ 列的方格中的整数为 $A_2 + B_3 = 97 + 3 = 100$，位数为 $3$。第 $4$ 行第 $2$ 列的方格中的整数为 $A_4 + B_2 = 9995 + 2 = 9997$，位数为 $4$。\n\n可以得出答案为 $46$。\n\n该样例满足子任务 $2,6,7,8$ 的限制。\n\n#### 【样例解释 #3】\n\n方格中仅有一个整数 $10^9$，位数为 $10$，故位数之和为 $10$。\n\n该样例满足子任务 $1,2,4,5,8$ 的限制。\n\n#### 【样例解释 #4】\n\n该样例满足子任务 $2,5,8$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 1.5\\times 10^5$；\n- $1\\le A_i\\le 999,999,999(1\\le i\\le N)$；\n- $1\\le B_j\\le 999,999,999(1\\le j\\le N)$。\n\n#### 【子任务】\n\n1. （$5$ 分）$N=1$；\n2. （$11$ 分）$N\\le 2000$；\n3. （$15$ 分）$A_i\\le 2000(1\\le i\\le N)$，$B_j\\le 2000(1\\le j\\le N)$；\n4. （$8$ 分）$10^8\\le A_i\\le 5\\times 10^8(1\\le i\\le N)$，$10^8\\le B_j\\le 5\\times 10^8(1\\le j\\le N)$；\n5. （$22$ 分）$10^8\\le A_i(1\\le i\\le N)$，$10^8\\le B_j(1\\le j\\le N)$；\n6. （$12$ 分）$A_i\\le 1.5\\times 10^5(1\\le i\\le N)$，$B_j = j(1\\le j\\le N)$；\n7. （$13$ 分）$B_j=j(1\\le j\\le N)$；\n8. （$14$ 分）无附加限制。", "locale": "zh-CN"}}}
{"pid": "P11202", "type": "P", "difficulty": 5, "samples": [["10 10 0\nhottokeiki\nhottokeiki", "10"], ["10 10 1\nhottokeiki\nhottokeiki", "11"], ["10 10 3\nhottokeiki\nhottokeiki", "15"], ["6 9 0\nJouhou\nOrinpikku", "14"], ["9 7 1\nCoMMiTTee\nTeRRaCe", "15"], ["6 8 2\nJOIIOI\nJOIGEGOI", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2024", "O2优化", "广度优先搜索 BFS", "JOI（日本）"], "title": "[JOIG 2024] 名前 / Name", "background": "", "description": "JOI 君和 IOI 君决定养一只狗。经过讨论，他们决定给狗取一个满足以下所有条件的名字：\n\n1. 名字必须仅包含大写字母和小写字母；\n2. JOI 君最喜欢的字符串是长度为 $N$ 的字符串 $S$，名字必须包含 $S$ 作为子序列；\n3. IOI 君最喜欢的字符串是长度为 $M$ 的字符串 $T$，名字必须包含 $T$ 作为子序列；\n4. 名字中任意两个相同的字符之间必须间隔至少 $K$ 个其他字符。\n\n以上的所有条件**区分大小写**，例如，我们将 `A` 和 `a` 视为不同的字符。\n\n一个字符串的子序列定义为删除其中若干个字符（可以为 $0$ 个）形成的字符串。例如该字符串为 `algorithm`，那么 `ai` 和 `lgtm` 是它的子序列，而 `joi` 和 `logarithm` 不是。\n\n由于他们都认为名称越短越好，所以他们决定选用满足上述四个条件的且最短的名字。\n\n给定字符串 $S,T$ 和整数 $K$，请你求出满足条件的名字的最短长度。", "inputFormat": "第一行输入三个整数 $N,M,K$。\n\n第二行输入一个字符串 $S$。\n\n第三行输入一个字符串 $T$。", "outputFormat": "输出一行一个整数表示最小长度。", "hint": "#### 【样例解释 #1】\n\n字符串 `hottokeiki` 满足条件。可以证明，不存在长度更小的字符串满足条件，故答案为 $10$。\n\n该样例满足子任务 $1,3,4,7,8$ 的限制。\n\n#### 【样例解释 #2】\n\n相较于上一个样例，仅有 $K$ 的值发生变化。\n\n在该样例中，上一个样例的输出 `hottokeiki` 不满足第四个条件（任意两个相同的字符之间必须间隔至少 $K$ 个其他字符），因为两个 `t` 中没有其他字符。\n\n而字符串 `hotNtokeiki` 满足条件，可以证明，不存在长度更小的字符串满足条件，故答案为 $11$。\n\n该样例满足子任务 $2,3,5,6,7,8$ 的限制。\n\n#### 【样例解释 #3】\n\n相较于前两个样例，仅有 $K$ 的值发生变化。\n\n在该样例中，上一个样例的输出 `hotNtokeiki` 不满足第四个条件（任意两个相同的字符之间必须间隔至少 $K$ 个其他字符），因为两个 `t` 之间仅有 $1$ 个字符，两个 `k` 之间仅有 $2$ 个字符，两个 `i` 之间仅有 $1$ 个字符。\n\n而字符串 `hotarutokeiyuki` 满足条件，可以证明，不存在长度更小的字符串满足条件，故答案为 $15$。\n\n该样例满足子任务 $3,8$ 的限制。\n\n#### 【样例解释 #4】\n\n字符串 `OJouhorinpikku` 满足条件。可以证明，不存在长度更小的字符串满足条件，故答案为 $14$。\n\n请注意上面的条件区分大小写，因此诸如 `jouhorinpikku`（长度为 $13$）这样的字符串**不**符合条件。\n\n该样例满足子任务 $4,7,8$ 的限制。\n\n#### 【样例解释 #5】\n\n字符串 `CoMaMiTeRTeRaCe` 是长度最小且满足条件的字符串，故答案为 $15$。\n\n该样例满足子任务 $5,6,7,8$ 的限制。\n\n#### 【样例解释 #6】\n\n字符串 `JOIGEIGOI` 是长度最小且满足条件的字符串，故答案为 $9$。\n\n该样例满足子任务 $7,8$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N,M\\le 500$；\n- $0\\le K\\le 3$；\n- $S,T$ 中仅包含大写字母和小写字母。\n\n#### 【子任务】\n\n1. （$2$ 分）$S=T$，$K=0$；\n2. （$7$ 分）$S=T$，$K=1$；\n3. （$16$ 分）$S=T$；\n4. （$17$ 分）$K=0$；\n5. （$13$ 分）$K=1$，$N,M\\le 25$；\n6. （$15$ 分）$K=1$；\n7. （$20$ 分）$K\\le 2$；\n8. （$10$ 分）无附加条件。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIG 2024] 名前 / Name", "background": "", "description": "JOI 君和 IOI 君决定养一只狗。经过讨论，他们决定给狗取一个满足以下所有条件的名字：\n\n1. 名字必须仅包含大写字母和小写字母；\n2. JOI 君最喜欢的字符串是长度为 $N$ 的字符串 $S$，名字必须包含 $S$ 作为子序列；\n3. IOI 君最喜欢的字符串是长度为 $M$ 的字符串 $T$，名字必须包含 $T$ 作为子序列；\n4. 名字中任意两个相同的字符之间必须间隔至少 $K$ 个其他字符。\n\n以上的所有条件**区分大小写**，例如，我们将 `A` 和 `a` 视为不同的字符。\n\n一个字符串的子序列定义为删除其中若干个字符（可以为 $0$ 个）形成的字符串。例如该字符串为 `algorithm`，那么 `ai` 和 `lgtm` 是它的子序列，而 `joi` 和 `logarithm` 不是。\n\n由于他们都认为名称越短越好，所以他们决定选用满足上述四个条件的且最短的名字。\n\n给定字符串 $S,T$ 和整数 $K$，请你求出满足条件的名字的最短长度。", "inputFormat": "第一行输入三个整数 $N,M,K$。\n\n第二行输入一个字符串 $S$。\n\n第三行输入一个字符串 $T$。", "outputFormat": "输出一行一个整数表示最小长度。", "hint": "#### 【样例解释 #1】\n\n字符串 `hottokeiki` 满足条件。可以证明，不存在长度更小的字符串满足条件，故答案为 $10$。\n\n该样例满足子任务 $1,3,4,7,8$ 的限制。\n\n#### 【样例解释 #2】\n\n相较于上一个样例，仅有 $K$ 的值发生变化。\n\n在该样例中，上一个样例的输出 `hottokeiki` 不满足第四个条件（任意两个相同的字符之间必须间隔至少 $K$ 个其他字符），因为两个 `t` 中没有其他字符。\n\n而字符串 `hotNtokeiki` 满足条件，可以证明，不存在长度更小的字符串满足条件，故答案为 $11$。\n\n该样例满足子任务 $2,3,5,6,7,8$ 的限制。\n\n#### 【样例解释 #3】\n\n相较于前两个样例，仅有 $K$ 的值发生变化。\n\n在该样例中，上一个样例的输出 `hotNtokeiki` 不满足第四个条件（任意两个相同的字符之间必须间隔至少 $K$ 个其他字符），因为两个 `t` 之间仅有 $1$ 个字符，两个 `k` 之间仅有 $2$ 个字符，两个 `i` 之间仅有 $1$ 个字符。\n\n而字符串 `hotarutokeiyuki` 满足条件，可以证明，不存在长度更小的字符串满足条件，故答案为 $15$。\n\n该样例满足子任务 $3,8$ 的限制。\n\n#### 【样例解释 #4】\n\n字符串 `OJouhorinpikku` 满足条件。可以证明，不存在长度更小的字符串满足条件，故答案为 $14$。\n\n请注意上面的条件区分大小写，因此诸如 `jouhorinpikku`（长度为 $13$）这样的字符串**不**符合条件。\n\n该样例满足子任务 $4,7,8$ 的限制。\n\n#### 【样例解释 #5】\n\n字符串 `CoMaMiTeRTeRaCe` 是长度最小且满足条件的字符串，故答案为 $15$。\n\n该样例满足子任务 $5,6,7,8$ 的限制。\n\n#### 【样例解释 #6】\n\n字符串 `JOIGEIGOI` 是长度最小且满足条件的字符串，故答案为 $9$。\n\n该样例满足子任务 $7,8$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N,M\\le 500$；\n- $0\\le K\\le 3$；\n- $S,T$ 中仅包含大写字母和小写字母。\n\n#### 【子任务】\n\n1. （$2$ 分）$S=T$，$K=0$；\n2. （$7$ 分）$S=T$，$K=1$；\n3. （$16$ 分）$S=T$；\n4. （$17$ 分）$K=0$；\n5. （$13$ 分）$K=1$，$N,M\\le 25$；\n6. （$15$ 分）$K=1$；\n7. （$20$ 分）$K\\le 2$；\n8. （$10$ 分）无附加条件。", "locale": "zh-CN"}}}
{"pid": "P11203", "type": "P", "difficulty": 6, "samples": [["4\n10 40\n20 80\n45 60\n70 95\n1\n1 15", "3"], ["8\n0 30\n0 90\n0 80\n0 60\n0 20\n0 40\n0 70\n0 50\n3\n1 30\n1 40\n4 50", "7\n1\n5"], ["5\n0 10\n0 10\n0 10\n0 10\n0 10\n4\n1 9\n1 10\n1 11\n1 1000000000", "5\n5\n1\n1"], ["7\n38 61\n13 27\n10 54\n22 56\n49 75\n27 47\n70 99\n1\n3 10", "6"], ["10\n10 20\n11 21\n13 23\n16 26\n20 30\n25 35\n31 41\n38 48\n46 56\n80 90\n4\n1 3\n1 6\n1 8\n1 10", "8\n5\n3\n1"], ["7\n10 54\n38 61\n13 27\n22 56\n49 75\n27 47\n70 99\n5\n1 3\n1 6\n1 9\n1 12\n1 15", "7\n6\n6\n6\n4"], ["7\n38 61\n13 27\n10 54\n22 56\n49 75\n27 47\n70 99\n5\n1 10\n2 10\n3 10\n4 10\n5 10", "4\n6\n6\n5\n2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["线段树", "倍增", "树状数组", "2024", "O2优化", "JOI（日本）"], "title": "[JOIG 2024] 感染シミュレーション / Infection Simulation", "background": "", "description": "昨天，$N$ 位顾客光顾了 EGOI 自助餐厅。顾客编号从 $1$ 到 $N$，顾客 $i(1\\le i\\le N)$ 到达时间为 $L_i$，离开时间为 $R_i$。今天，我们发现有一位顾客来店时感染了目前在 JOI 国流行的新型传染病 X。\n\n传染病 X 的**传染性**用整数 $x$ 表示。具体来说，对于 $1\\le i\\le N$，当顾客 $i$ 与一个或多个感染者同时进入餐厅的累计总时间至少达到 $x$ 时，顾客 $i$ 就会成为新感染者。\n\n现在，由于 JOI 国采取了严格的感染控制措施，因此必须确定感染者人数。然而，问题在于调查组并不知道哪些人感染了传染病，而代表传染性的整数 $x$ 的值也是未知数。\n\n因此，EGOI 自助餐厅经理理惠决定对于 $Q$ 种情况，分别求出最终会有多少顾客被感染。在第 $j(1\\le j\\le Q)$ 种情况下，最初只有顾客 $P_j$ 受到感染，传染性为 $X_j$。\n\n根据到店顾客的信息，求出每种情况下最终的感染人数。注意，即使受感染的人数是在他们离开餐厅时被感染的，也应包括在内。此外，还假定一旦顾客感染了传染病 X，他就不能再被感染。", "inputFormat": "第一行输入一个整数 $N$。\n\n接下来 $N$ 行，每行两个整数 $L_i,R_i$。\n\n接下来一行输入一个整数 $Q$。\n\n接下来 $Q$ 行，每行两个整数 $P_i,X_i$。", "outputFormat": "输出 $Q$ 行，第 $j(1\\le j\\le Q)$ 行一个整数表示第 $j$ 种情况下的最终感染人数。", "hint": "#### 【样例解释 #1】\n\n在第 $1$ 个询问中，初始的感染者是顾客 $1$，传染性为 $15$，因此感染的传播方式如下\n\n- 在时间 $10$，顾客 $1$ 到达餐厅；\n- 在时间 $20$，顾客 $2$ 到达餐厅；\n- 在时间 $35$，顾客 $2$ 与顾客 $1$ 同时出现在餐厅累计时间为 $15$，顾客 $2$ 被感染；\n- 在时间 $40$，顾客 $1$ 离开餐厅；\n- 在时间 $45$，顾客 $3$ 到达餐厅；\n- 在时间 $60$，顾客 $3$ 与顾客 $2$ 同时出现在餐厅累计时间为 $15$，顾客 $3$ 被感染；与此同时，顾客 $3$ 离开餐厅；\n- 在时间 $70$，顾客 $4$ 到达餐厅；\n- 在时间 $80$，顾客 $2$ 离开餐厅；\n- 在时间 $95$，顾客 $4$ 与顾客 $2$ 同时出现在餐厅累计时间为 $10$，因此顾客 $4$ 未感染；与此同时，顾客 $4$ 离开餐厅。\n\n最终顾客 $1,2,3$ 被感染，共 $3$ 人，故第 $1$ 个询问答案为 $3$。\n\n该样例满足子任务 $4,5,6,8,9,10$ 的限制。\n\n#### 【样例解释 #2】\n\n- 在第 $1$ 个询问中，$7$ 个顾客 $1,2,3,4,6,7,8$ 最终被感染，答案为 $7$。\n- 在第 $2$ 个询问中，$1$ 个顾客 $1$ 最终被感染，答案为 $1$。\n- 在第 $3$ 个询问中，$5$ 个顾客 $2,3,4,7,8$ 最终被感染，答案为 $5$。\n\n该样例满足子任务 $2,3,4,5,6,10$ 的限制。\n\n#### 【样例解释 #3】\n\n该样例满足子任务 $1,2,3,5,6,8,10$ 的限制。\n\n#### 【样例解释 #4】\n\n该样例满足子任务 $4,5,6,9,10$ 的限制。\n\n#### 【样例解释 #5】\n\n该样例满足子任务 $4,5,6,7,8,9,10$ 的限制。\n\n#### 【样例解释 #6】\n\n该样例满足子任务 $4,5,6,7,8,10$ 的限制。\n\n#### 【样例解释 #7】\n\n该样例满足子任务 $4,5,6,7,9,10$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 10^5$；\n- $0\\le L_i<R_i\\le 10^9(1\\le i\\le N)$；\n- $1\\le Q\\le 10^5$；\n- $1\\le P_j\\le N(1\\le j\\le Q)$；\n- $1\\le X_j\\le 10^9(1\\le j\\le Q)$。\n\n#### 【子任务】\n\n1. （$2$ 分）$L_i=0(1\\le i\\le N)$，$R_i=10(1\\le i\\le N)$，$Q\\le 5$；\n2. （$3$ 分）$L_i=0(1\\le i\\le N)$，$Q\\le 5$；\n3. （$6$ 分）$L_i=0(1\\le i\\le N)$；\n4. （$10$ 分）$N\\le 500$，$Q\\le 5$，$R_i\\le 500(1\\le i\\le N)$，$X_j\\le 500(1\\le j\\le Q)$；\n5. （$11$ 分）$N\\le 500$，$Q\\le 5$；\n6. （$16$ 分）$Q\\le 5$；\n7. （$13$ 分）$P_j=1(1\\le j\\le Q)$，$L_1<L_2<\\cdots<L_N$，$R_1<R_2<\\cdots<R_N$；\n8. （$14$ 分）$P_j=1(1\\le j\\le Q)$；\n9. （$15$ 分）$R_i-L_i(1\\le i\\le N)$ 的最小值大于或等于 $X_j(1\\le j\\le Q)$ 的最大值；\n10. （$10$ 分）无附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIG 2024] 感染シミュレーション / Infection Simulation", "background": "", "description": "昨天，$N$ 位顾客光顾了 EGOI 自助餐厅。顾客编号从 $1$ 到 $N$，顾客 $i(1\\le i\\le N)$ 到达时间为 $L_i$，离开时间为 $R_i$。今天，我们发现有一位顾客来店时感染了目前在 JOI 国流行的新型传染病 X。\n\n传染病 X 的**传染性**用整数 $x$ 表示。具体来说，对于 $1\\le i\\le N$，当顾客 $i$ 与一个或多个感染者同时进入餐厅的累计总时间至少达到 $x$ 时，顾客 $i$ 就会成为新感染者。\n\n现在，由于 JOI 国采取了严格的感染控制措施，因此必须确定感染者人数。然而，问题在于调查组并不知道哪些人感染了传染病，而代表传染性的整数 $x$ 的值也是未知数。\n\n因此，EGOI 自助餐厅经理理惠决定对于 $Q$ 种情况，分别求出最终会有多少顾客被感染。在第 $j(1\\le j\\le Q)$ 种情况下，最初只有顾客 $P_j$ 受到感染，传染性为 $X_j$。\n\n根据到店顾客的信息，求出每种情况下最终的感染人数。注意，即使受感染的人数是在他们离开餐厅时被感染的，也应包括在内。此外，还假定一旦顾客感染了传染病 X，他就不能再被感染。", "inputFormat": "第一行输入一个整数 $N$。\n\n接下来 $N$ 行，每行两个整数 $L_i,R_i$。\n\n接下来一行输入一个整数 $Q$。\n\n接下来 $Q$ 行，每行两个整数 $P_i,X_i$。", "outputFormat": "输出 $Q$ 行，第 $j(1\\le j\\le Q)$ 行一个整数表示第 $j$ 种情况下的最终感染人数。", "hint": "#### 【样例解释 #1】\n\n在第 $1$ 个询问中，初始的感染者是顾客 $1$，传染性为 $15$，因此感染的传播方式如下\n\n- 在时间 $10$，顾客 $1$ 到达餐厅；\n- 在时间 $20$，顾客 $2$ 到达餐厅；\n- 在时间 $35$，顾客 $2$ 与顾客 $1$ 同时出现在餐厅累计时间为 $15$，顾客 $2$ 被感染；\n- 在时间 $40$，顾客 $1$ 离开餐厅；\n- 在时间 $45$，顾客 $3$ 到达餐厅；\n- 在时间 $60$，顾客 $3$ 与顾客 $2$ 同时出现在餐厅累计时间为 $15$，顾客 $3$ 被感染；与此同时，顾客 $3$ 离开餐厅；\n- 在时间 $70$，顾客 $4$ 到达餐厅；\n- 在时间 $80$，顾客 $2$ 离开餐厅；\n- 在时间 $95$，顾客 $4$ 与顾客 $2$ 同时出现在餐厅累计时间为 $10$，因此顾客 $4$ 未感染；与此同时，顾客 $4$ 离开餐厅。\n\n最终顾客 $1,2,3$ 被感染，共 $3$ 人，故第 $1$ 个询问答案为 $3$。\n\n该样例满足子任务 $4,5,6,8,9,10$ 的限制。\n\n#### 【样例解释 #2】\n\n- 在第 $1$ 个询问中，$7$ 个顾客 $1,2,3,4,6,7,8$ 最终被感染，答案为 $7$。\n- 在第 $2$ 个询问中，$1$ 个顾客 $1$ 最终被感染，答案为 $1$。\n- 在第 $3$ 个询问中，$5$ 个顾客 $2,3,4,7,8$ 最终被感染，答案为 $5$。\n\n该样例满足子任务 $2,3,4,5,6,10$ 的限制。\n\n#### 【样例解释 #3】\n\n该样例满足子任务 $1,2,3,5,6,8,10$ 的限制。\n\n#### 【样例解释 #4】\n\n该样例满足子任务 $4,5,6,9,10$ 的限制。\n\n#### 【样例解释 #5】\n\n该样例满足子任务 $4,5,6,7,8,9,10$ 的限制。\n\n#### 【样例解释 #6】\n\n该样例满足子任务 $4,5,6,7,8,10$ 的限制。\n\n#### 【样例解释 #7】\n\n该样例满足子任务 $4,5,6,7,9,10$ 的限制。\n\n#### 【数据范围】\n\n- $1\\le N\\le 10^5$；\n- $0\\le L_i<R_i\\le 10^9(1\\le i\\le N)$；\n- $1\\le Q\\le 10^5$；\n- $1\\le P_j\\le N(1\\le j\\le Q)$；\n- $1\\le X_j\\le 10^9(1\\le j\\le Q)$。\n\n#### 【子任务】\n\n1. （$2$ 分）$L_i=0(1\\le i\\le N)$，$R_i=10(1\\le i\\le N)$，$Q\\le 5$；\n2. （$3$ 分）$L_i=0(1\\le i\\le N)$，$Q\\le 5$；\n3. （$6$ 分）$L_i=0(1\\le i\\le N)$；\n4. （$10$ 分）$N\\le 500$，$Q\\le 5$，$R_i\\le 500(1\\le i\\le N)$，$X_j\\le 500(1\\le j\\le Q)$；\n5. （$11$ 分）$N\\le 500$，$Q\\le 5$；\n6. （$16$ 分）$Q\\le 5$；\n7. （$13$ 分）$P_j=1(1\\le j\\le Q)$，$L_1<L_2<\\cdots<L_N$，$R_1<R_2<\\cdots<R_N$；\n8. （$14$ 分）$P_j=1(1\\le j\\le Q)$；\n9. （$15$ 分）$R_i-L_i(1\\le i\\le N)$ 的最小值大于或等于 $X_j(1\\le j\\le Q)$ 的最大值；\n10. （$10$ 分）无附加限制。", "locale": "zh-CN"}}}
