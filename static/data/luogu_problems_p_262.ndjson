{"pid": "P6300", "type": "P", "difficulty": 6, "samples": [["7 10\n1 1 2 4 7 8 9\n", "2 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "枚举", "快速傅里叶变换 FFT", "快速数论变换 NTT"], "title": "悔改", "background": "", "description": "Daniel13265 有一些同样长的小木棍，他把这些木棍随意砍成两段，使得每段的长都不超过 $m$。\n\n现在他想把小木棍拼接成原来的样子，但是却遗失了部分小木棍，而且忘记了自己开始时有多少根木棍和它们的长度。所以他打算把剩下的小木棍拼接出尽可能多的相同长度的木棍。\n\n给出每段小木棍的长度，求出从剩下的木棍中最多能够拼接出的相同长度的木棍的个数与能拼接出来相同长度的木棍个数最多时木棍的最小可能长度。\n", "inputFormat": "输入共 $2$ 行。\n  \n第一行包含两个正整数 $n,m$，分别表示剩余木棍个数与剩余木棍的最大可能长度。  \n第二行共 $n$ 个用单个空格隔开的正整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个木棍的长度。", "outputFormat": "输出一行两个整数，分别表示从剩下的木棍中最多能够拼接出的相同长度的木棍的个数与能拼接出来相同长度的木棍个数最多时木棍的最小可能长度。", "hint": "### 样例解释\n\n如果要拼接出尽量多的长度为 $11$ 的木棍，可以将长度为 $2$ 和 $9$ 的木棍拼接在一起，将长度为 $4$ 和 $7$ 的木棍拼接在一起。然而如果将长度为 $1$ 和 $8$ 的木棍拼接在一起，将长度为 $2$ 和 $7$ 的木棍拼接在一起，可以拼接出 $2$ 根长度为 $9$ 的木棍。  \n\n可以发现能拼接出来相同长度的木棍个数的最大值就是 $2$，此时木棍的长度可能为 $9,10$ 或 $11$，其中最小的为 $9$。\n\n\n### 数据范围\n\n**本题采用捆绑测试。你每通过一个子任务的所有数据点，就能得到该子任务的全部分数。**\n\n| 子任务编号 | $n\\le$ | $m\\le$ | 分值 |\n|:-:|:-:|:-:|:-:|\n| $1$ | $10$ | $10^5$ | $5$ |\n| $2$ | $10^3$ | $10^3$ | $10$ |\n| $3$ | $10^3$ | $10^5$ | $10$ |\n| $4$ | $10^5$ | $10$ | $5$ |\n| $5$ | $10^5$ | $10^3$ | $10$ |\n| $6$ | $10^5$ | $10^5$ | $60$ |\n\n对于 $100\\%$ 的数据，满足 $2\\le n,m\\le10^5,1\\le a_i\\le m$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "悔改", "background": "", "description": "Daniel13265 有一些同样长的小木棍，他把这些木棍随意砍成两段，使得每段的长都不超过 $m$。\n\n现在他想把小木棍拼接成原来的样子，但是却遗失了部分小木棍，而且忘记了自己开始时有多少根木棍和它们的长度。所以他打算把剩下的小木棍拼接出尽可能多的相同长度的木棍。\n\n给出每段小木棍的长度，求出从剩下的木棍中最多能够拼接出的相同长度的木棍的个数与能拼接出来相同长度的木棍个数最多时木棍的最小可能长度。\n", "inputFormat": "输入共 $2$ 行。\n  \n第一行包含两个正整数 $n,m$，分别表示剩余木棍个数与剩余木棍的最大可能长度。  \n第二行共 $n$ 个用单个空格隔开的正整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个木棍的长度。", "outputFormat": "输出一行两个整数，分别表示从剩下的木棍中最多能够拼接出的相同长度的木棍的个数与能拼接出来相同长度的木棍个数最多时木棍的最小可能长度。", "hint": "### 样例解释\n\n如果要拼接出尽量多的长度为 $11$ 的木棍，可以将长度为 $2$ 和 $9$ 的木棍拼接在一起，将长度为 $4$ 和 $7$ 的木棍拼接在一起。然而如果将长度为 $1$ 和 $8$ 的木棍拼接在一起，将长度为 $2$ 和 $7$ 的木棍拼接在一起，可以拼接出 $2$ 根长度为 $9$ 的木棍。  \n\n可以发现能拼接出来相同长度的木棍个数的最大值就是 $2$，此时木棍的长度可能为 $9,10$ 或 $11$，其中最小的为 $9$。\n\n\n### 数据范围\n\n**本题采用捆绑测试。你每通过一个子任务的所有数据点，就能得到该子任务的全部分数。**\n\n| 子任务编号 | $n\\le$ | $m\\le$ | 分值 |\n|:-:|:-:|:-:|:-:|\n| $1$ | $10$ | $10^5$ | $5$ |\n| $2$ | $10^3$ | $10^3$ | $10$ |\n| $3$ | $10^3$ | $10^5$ | $10$ |\n| $4$ | $10^5$ | $10$ | $5$ |\n| $5$ | $10^5$ | $10^3$ | $10$ |\n| $6$ | $10^5$ | $10^5$ | $60$ |\n\n对于 $100\\%$ 的数据，满足 $2\\le n,m\\le10^5,1\\le a_i\\le m$。", "locale": "zh-CN"}}}
{"pid": "P6301", "type": "P", "difficulty": 5, "samples": [["4 13\n1 0\n1 1\n1 3\n1 3\n3\n7 0\n7 2\n8 3\n4\n2 0\n4\n6 2\n5\n", "8\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["树形数据结构", "2020", "O2优化"], "title": "集合", "background": "", "description": "你需要**在线**维护一个自然数的排序集 $S$ 并支持以下操作：\n\n1. 给一个数 $x$，若 $x$ 不在集合 $S$ 中则将 $x$ 添加到集合 $S$ 中；\n2. 给一个数 $x$，若 $x$ 已在集合 $S$ 中则将 $x$ 从集合 $S$ 中删除。\n\n为了证明你维护了 $S$，你需要在操作过程中回答以下询问：\n\n3. 求集合 $S$ 中最小元素的值，若 $S=\\varnothing$ 则返回 `-1`；\n4. 求集合 $S$ 中最大元素的值，若 $S=\\varnothing$ 则返回 `-1`；\n5. 求集合 $S$ 中元素的数量；\n6. 给一个数 $x$，判断 $x$ 是否在集合内，若在则返回 `1` ，若不在则返回 `0` ；\n7. 给一个数 $x$，求集合 $T=S\\cap[0^-,x)$ 中最大元素的值，若 $T=\\varnothing$ 则返回 `-1`；\n8. 给一个数 $x$，求集合 $T=S\\cap[x,n)$ 中最小元素的值，若 $T=\\varnothing$ 则返回 `-1`。\n\n为了证明你**在线地**维护了 $S$，对于所有在第一次询问后的操作 $1,2$ 与询问 $6,7,8$，实际操作和询问的参数 $x$ 为输入中给出的操作和询问的参数 $x'$ 与上一次询问的返回结果 $\\text{last}$ 之和。即 $x=x'+\\text{last}$。\n\n保证 $0\\le x<n$ 。\n\n初始时 $S=\\varnothing$。", "inputFormat": "输入共 $(m+1)$ 行，其中 $m$ 的意义见下。\n\n第一行两个正整数 $n,m$，其中 $n$ 表示操作与询问的参数 $x$ 的上界，$m$ 表示操作与询问个数的总和。  \n接下来 $m$ 行，每行一个或两个自然数，表示一次操作或者询问。保证每一行为如下八种形式之一：\n1. `1 x'`，表示执行操作 $1$；\n2. `2 x'`，表示执行操作 $2$；\n3. `3`，表示回答询问 $3$；\n4. `4`，表示回答询问 $4$；\n5. `5`，表示回答询问 $5$；\n6. `6 x'`，表示回答询问 $6$；\n7. `7 x'`，表示回答询问 $7$；\n8. `8 x'`，表示回答询问 $8$。", "outputFormat": "为避免输出过多，你只需要输出一行一个整数，表示所有询问的返回结果之和。", "hint": "### 样例解释\n\n实际上执行的操作与回答的询问如下：\n\n```plain\n1 0\n1 1\n1 3\n1 3\n3\t\t->  0\n7 0\t\t-> -1\n7 1\t\t->  0\n8 3\t\t->  3\n4\t\t->  3\n2 3\n4\t\t->  1\n6 3\t\t->  0\n5\t\t->  2\n```\n\n因此输出为 $0+(-1)+0+3+3+1+0+2=8$。\n\n### 数据范围\n\n| 测试点编号 |    $n=$     |    $m=$   | 分值  |\n|:--------------:|:------------:|:-----------:|:-------:|\n|      $1$       | $2^{20}$ | $2^{14}$ |  $5$  |\n|      $2$       | $2^{25}$ | $2^{17}$ |  $5$  |\n|      $3$       | $2^{30}$ | $2^{20}$ | $10$ |\n|      $4$       | $2^{30}$ | $2^{22}$ | $15$ |\n|      $5$       | $2^{30}$ | $2^{22}$ | $15$ |\n|      $6$       | $2^{30}$ | $2^{23}$ | $25$ |\n|      $7$       | $2^{30}$ | $2^{23}$ | $25$ |\n\n对于 $100\\%$ 的数据，满足 $2^{20}\\le n\\le2^{30},2^{14}\\le m\\le 2^{23},0\\le x<n$。\n\n### 提示\n\n**本题输入量较大，建议使用较快的读入方式。**\n\n$0^-$ 表示略小于 $0$ 的一个值，$[0^-,x)$ 可以保证第 $7$ 个操作的 $T$ 恒有意义。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "集合", "background": "", "description": "你需要**在线**维护一个自然数的排序集 $S$ 并支持以下操作：\n\n1. 给一个数 $x$，若 $x$ 不在集合 $S$ 中则将 $x$ 添加到集合 $S$ 中；\n2. 给一个数 $x$，若 $x$ 已在集合 $S$ 中则将 $x$ 从集合 $S$ 中删除。\n\n为了证明你维护了 $S$，你需要在操作过程中回答以下询问：\n\n3. 求集合 $S$ 中最小元素的值，若 $S=\\varnothing$ 则返回 `-1`；\n4. 求集合 $S$ 中最大元素的值，若 $S=\\varnothing$ 则返回 `-1`；\n5. 求集合 $S$ 中元素的数量；\n6. 给一个数 $x$，判断 $x$ 是否在集合内，若在则返回 `1` ，若不在则返回 `0` ；\n7. 给一个数 $x$，求集合 $T=S\\cap[0^-,x)$ 中最大元素的值，若 $T=\\varnothing$ 则返回 `-1`；\n8. 给一个数 $x$，求集合 $T=S\\cap[x,n)$ 中最小元素的值，若 $T=\\varnothing$ 则返回 `-1`。\n\n为了证明你**在线地**维护了 $S$，对于所有在第一次询问后的操作 $1,2$ 与询问 $6,7,8$，实际操作和询问的参数 $x$ 为输入中给出的操作和询问的参数 $x'$ 与上一次询问的返回结果 $\\text{last}$ 之和。即 $x=x'+\\text{last}$。\n\n保证 $0\\le x<n$ 。\n\n初始时 $S=\\varnothing$。", "inputFormat": "输入共 $(m+1)$ 行，其中 $m$ 的意义见下。\n\n第一行两个正整数 $n,m$，其中 $n$ 表示操作与询问的参数 $x$ 的上界，$m$ 表示操作与询问个数的总和。  \n接下来 $m$ 行，每行一个或两个自然数，表示一次操作或者询问。保证每一行为如下八种形式之一：\n1. `1 x'`，表示执行操作 $1$；\n2. `2 x'`，表示执行操作 $2$；\n3. `3`，表示回答询问 $3$；\n4. `4`，表示回答询问 $4$；\n5. `5`，表示回答询问 $5$；\n6. `6 x'`，表示回答询问 $6$；\n7. `7 x'`，表示回答询问 $7$；\n8. `8 x'`，表示回答询问 $8$。", "outputFormat": "为避免输出过多，你只需要输出一行一个整数，表示所有询问的返回结果之和。", "hint": "### 样例解释\n\n实际上执行的操作与回答的询问如下：\n\n```plain\n1 0\n1 1\n1 3\n1 3\n3\t\t->  0\n7 0\t\t-> -1\n7 1\t\t->  0\n8 3\t\t->  3\n4\t\t->  3\n2 3\n4\t\t->  1\n6 3\t\t->  0\n5\t\t->  2\n```\n\n因此输出为 $0+(-1)+0+3+3+1+0+2=8$。\n\n### 数据范围\n\n| 测试点编号 |    $n=$     |    $m=$   | 分值  |\n|:--------------:|:------------:|:-----------:|:-------:|\n|      $1$       | $2^{20}$ | $2^{14}$ |  $5$  |\n|      $2$       | $2^{25}$ | $2^{17}$ |  $5$  |\n|      $3$       | $2^{30}$ | $2^{20}$ | $10$ |\n|      $4$       | $2^{30}$ | $2^{22}$ | $15$ |\n|      $5$       | $2^{30}$ | $2^{22}$ | $15$ |\n|      $6$       | $2^{30}$ | $2^{23}$ | $25$ |\n|      $7$       | $2^{30}$ | $2^{23}$ | $25$ |\n\n对于 $100\\%$ 的数据，满足 $2^{20}\\le n\\le2^{30},2^{14}\\le m\\le 2^{23},0\\le x<n$。\n\n### 提示\n\n**本题输入量较大，建议使用较快的读入方式。**\n\n$0^-$ 表示略小于 $0$ 的一个值，$[0^-,x)$ 可以保证第 $7$ 个操作的 $T$ 恒有意义。", "locale": "zh-CN"}}}
{"pid": "P6302", "type": "P", "difficulty": 6, "samples": [["3 4 1 5 10\n1 2 3 4\n1 2 5 7\n1 2 6 8\n2 3 9 10", "94"], ["4 3 1 2 3\n1 2 2 3\n2 3 5 7\n3 4 7 9", "34"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2019", "NOI", "O2优化", "斜率优化"], "title": "[NOI2019] 回家路线 加强版", "background": "本题是 NOI 2019 回家路线的加强版，除数据范围外均与原题相同。", "description": "猫国的铁路系统中有 $n$ 个站点，从 $1 - n$ 编号。小猫准备从 $1$ 号站点出发，乘坐列车回到猫窝所在的 $n$ 号站点。它查询了能够乘坐的列车，这些列车共 $m$ 班，从 $1 - m$ 编号。小猫将在 $0$ 时刻到达 $1$ 号站点。对于 $i$ 号列车，它将在时刻 $p_i$ 从站点 $x_i$ 出发，在时刻 $q_i$ 直达站点 $y_i$，小猫只能在时刻 $p_i$ 上 $i$ 号列车，也只能在时刻 $q_i$ 下 $i$ 号列车。小猫可以通过多次换乘到达 $n$ 号站点。一次换乘是指对于两班列车，假设分别为 $u$ 号与 $v$ 号列车，若 $y_u = x_v$ 并且 $q_u \\leq p_v$，那么小猫可以乘坐完 $u$ 号列车后在 $y_u$ 号站点等待 $p_v - q_u$ 个时刻，并在时刻 $p_v$ 乘坐 $v$ 号列车。\n\n小猫只想回到猫窝并且减少途中的麻烦，对此它用烦躁值来衡量。\n\n - 小猫在站点等待时将增加烦躁值，对于一次 $t (t \\geq 0)$ 个时刻的等待，烦躁值将增加 $At^2 + Bt + C$，其中 $A, B,C$ 是给定的常数。注意：小猫登上第一班列车前，即从 $0$ 时刻起停留在 $1$ 号站点的那些时刻也算作一次等待。\n\n - 若小猫最终在时刻 $z$ 到达 $n$ 号站点，则烦躁值将再增加 $z$。\n\n形式化地说，若小猫共乘坐了 $k$ 班列车，依次乘坐的列车编号可用序列 $s_1, s_2, \\cdots , s_k$ 表示。该方案被称作一条可行的回家路线，当且仅当它满足下列两个条件：\n\n - $x_{s1} = 1,y_{sk} = n$\n\n - 对于所有 $j (1 \\leq j < k)$，满足 $y_{sj} = x_{s_{j+1}}$ 且 $q_{sj}\\leq p_{s_{j+1}}$ \n\n对于该回家路线，小猫得到的烦躁值将为：\n\n$$q_{s_k}+(A\\times p_{s_1}^2+B\\times p_{s_1}+C)+\\sum_{j=1}^{k-1}(A(p_{s_{j+1}}-q_{s_j})^2+B(p_{s_{j+1}}-q_{s_j})+C)$$\n\n小猫想让自己的烦躁值尽量小，请你帮它求出所有可行的回家路线中，能得到的最小的烦躁值。题目保证至少存在一条可行的回家路线。", "inputFormat": "第一行五个整数 $n, m, A, B,C$，变量意义见题目描述。\n\n接下来 $m$ 行，第 $i$ 行四个整数 $x_i, y_i, p_i, q_i$，分别表示 $i$ 号列车的出发站、到达站、出发时刻与到达时刻。", "outputFormat": "输出仅一行一个整数，表示所求的答案。", "hint": "对于所有的测试点，保证 $2\\le n\\le 10^5$，$1\\le m\\le  10^6$，$0\\le \nA\\le 10$，$0\\le B,C\\le 10^7$，$1\\le x_i,y_i\\le n$，$x_i\\neq y_i$，$0\\le p_i<q_i\\le 4\\times 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI2019] 回家路线 加强版", "background": "本题是 NOI 2019 回家路线的加强版，除数据范围外均与原题相同。", "description": "猫国的铁路系统中有 $n$ 个站点，从 $1 - n$ 编号。小猫准备从 $1$ 号站点出发，乘坐列车回到猫窝所在的 $n$ 号站点。它查询了能够乘坐的列车，这些列车共 $m$ 班，从 $1 - m$ 编号。小猫将在 $0$ 时刻到达 $1$ 号站点。对于 $i$ 号列车，它将在时刻 $p_i$ 从站点 $x_i$ 出发，在时刻 $q_i$ 直达站点 $y_i$，小猫只能在时刻 $p_i$ 上 $i$ 号列车，也只能在时刻 $q_i$ 下 $i$ 号列车。小猫可以通过多次换乘到达 $n$ 号站点。一次换乘是指对于两班列车，假设分别为 $u$ 号与 $v$ 号列车，若 $y_u = x_v$ 并且 $q_u \\leq p_v$，那么小猫可以乘坐完 $u$ 号列车后在 $y_u$ 号站点等待 $p_v - q_u$ 个时刻，并在时刻 $p_v$ 乘坐 $v$ 号列车。\n\n小猫只想回到猫窝并且减少途中的麻烦，对此它用烦躁值来衡量。\n\n - 小猫在站点等待时将增加烦躁值，对于一次 $t (t \\geq 0)$ 个时刻的等待，烦躁值将增加 $At^2 + Bt + C$，其中 $A, B,C$ 是给定的常数。注意：小猫登上第一班列车前，即从 $0$ 时刻起停留在 $1$ 号站点的那些时刻也算作一次等待。\n\n - 若小猫最终在时刻 $z$ 到达 $n$ 号站点，则烦躁值将再增加 $z$。\n\n形式化地说，若小猫共乘坐了 $k$ 班列车，依次乘坐的列车编号可用序列 $s_1, s_2, \\cdots , s_k$ 表示。该方案被称作一条可行的回家路线，当且仅当它满足下列两个条件：\n\n - $x_{s1} = 1,y_{sk} = n$\n\n - 对于所有 $j (1 \\leq j < k)$，满足 $y_{sj} = x_{s_{j+1}}$ 且 $q_{sj}\\leq p_{s_{j+1}}$ \n\n对于该回家路线，小猫得到的烦躁值将为：\n\n$$q_{s_k}+(A\\times p_{s_1}^2+B\\times p_{s_1}+C)+\\sum_{j=1}^{k-1}(A(p_{s_{j+1}}-q_{s_j})^2+B(p_{s_{j+1}}-q_{s_j})+C)$$\n\n小猫想让自己的烦躁值尽量小，请你帮它求出所有可行的回家路线中，能得到的最小的烦躁值。题目保证至少存在一条可行的回家路线。", "inputFormat": "第一行五个整数 $n, m, A, B,C$，变量意义见题目描述。\n\n接下来 $m$ 行，第 $i$ 行四个整数 $x_i, y_i, p_i, q_i$，分别表示 $i$ 号列车的出发站、到达站、出发时刻与到达时刻。", "outputFormat": "输出仅一行一个整数，表示所求的答案。", "hint": "对于所有的测试点，保证 $2\\le n\\le 10^5$，$1\\le m\\le  10^6$，$0\\le \nA\\le 10$，$0\\le B,C\\le 10^7$，$1\\le x_i,y_i\\le n$，$x_i\\neq y_i$，$0\\le p_i<q_i\\le 4\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P6303", "type": "P", "difficulty": 6, "samples": [["bab\nbb", "2\n1 0\n1 3"], ["bbbb\naaa", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2018", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2018] AB 串", "background": "**题目译自 [eJOI2018](http://ejoi2018.org/) Problem C.** ***AB-Strings***", "description": "你有两个字符串 $s,t$，它们其中仅包含字母 `a` 和 `b`。你可以多次进行如下操作：选出一个 $s$ 的前缀和一个 $t$ 的前缀并交换它们。（注意，这个前缀既**可以为空**也可以为整个串）\n\n你的任务是找出一个操作序列使得进行这些操作后，一个字符串只包含字符 `a`，而另一个只包含字符 `b`。\n\n你应该尽可能的进行最少的操作次数，但非最优解仍可能得到一部分分数，详情见“数据范围与提示”一栏。", "inputFormat": "输入两行为两个字符串 $s,t$。", "outputFormat": "输出第一行为一个整数 $n$（$0\\leq n\\leq 5\\times 10^5$），表示操作总数。\n\n接下来的 $n$ 行，每行包含两个整数 $a_i,b_i$，分别为 $s,t$ 在这次交换中的前缀长度。\n\n如果有多种可能的方案，则可以输出任意一种。", "hint": "#### 样例 $1$ 解释：\n在这个样例中，首先把第一个串 $1$ 个长度的前缀与第二个串 $0$ 个长度的前缀交换，即将 `b` 插入第二个串开头。这时两个串变成了 `ab` 和 `bbb`。接下来把第一个串 $1$ 个长度的前缀与第二个串 $3$ 个长度的前缀交换，即交换 `a` 和 `bbb`，此时两个串变成了 `bbbb` 和 `a` ，达成目标。\n\n#### 样例 $2$ 解释：\n\n已经是最终要求的状态了。\n\n------\n\n#### 计分策略\n\n设 $n$ 为你给出的操作数量，$m$ 为标准答案，**本题使用 SPJ**。\n\n- 如果所有任务中 $n=m$，那么将得到 $100\\%$ 的分数。\n\n- 如果所有任务中 $n\\leq m+2$，那么将得到 $70\\%$ 的分数。（四舍五入到最接近的整数）\n\n- 如果所有任务中 $n\\leq 2m+2$，那么将得到 $50\\%$ 的分数。（四舍五入到最接近的整数）\n\n- 如果所有任务中 $n\\leq 5\\times 10^5$，那么将得到 $30\\%$ 的分数。（四舍五入到最接近的整数）\n\n- 如果至少一个任务中 $n > 5\\times 10^5$，那么将得到 $0\\%$ 的分数。\n\n----\n\n\n\n对于 $100\\%$ 的数据，保证 $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 2\\times 10^5$，$\\lvert s\\rvert,\\lvert t\\rvert$ 分别代表 $s,t$ 的长度，且保证至少有一个串中包含至少一个字符 `a`，至少一个串中包含至少一个字符 `b`。\n\n#### 数据限制\n\n|子任务编号|分数|限制|\n|:-:|:-:|:-:|\n|$1$|$5$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 6$，这两个字符串中共含有一个字符 `a`|\n|$2$|$10$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 6$ |\n|$3$|$20$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 50$ |\n|$4$|$20$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 250$ |\n|$5$|$20$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 2\\times 10^3$ |\n|$6$|$25$|无特殊限制|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2018] AB 串", "background": "**题目译自 [eJOI2018](http://ejoi2018.org/) Problem C.** ***AB-Strings***", "description": "你有两个字符串 $s,t$，它们其中仅包含字母 `a` 和 `b`。你可以多次进行如下操作：选出一个 $s$ 的前缀和一个 $t$ 的前缀并交换它们。（注意，这个前缀既**可以为空**也可以为整个串）\n\n你的任务是找出一个操作序列使得进行这些操作后，一个字符串只包含字符 `a`，而另一个只包含字符 `b`。\n\n你应该尽可能的进行最少的操作次数，但非最优解仍可能得到一部分分数，详情见“数据范围与提示”一栏。", "inputFormat": "输入两行为两个字符串 $s,t$。", "outputFormat": "输出第一行为一个整数 $n$（$0\\leq n\\leq 5\\times 10^5$），表示操作总数。\n\n接下来的 $n$ 行，每行包含两个整数 $a_i,b_i$，分别为 $s,t$ 在这次交换中的前缀长度。\n\n如果有多种可能的方案，则可以输出任意一种。", "hint": "#### 样例 $1$ 解释：\n在这个样例中，首先把第一个串 $1$ 个长度的前缀与第二个串 $0$ 个长度的前缀交换，即将 `b` 插入第二个串开头。这时两个串变成了 `ab` 和 `bbb`。接下来把第一个串 $1$ 个长度的前缀与第二个串 $3$ 个长度的前缀交换，即交换 `a` 和 `bbb`，此时两个串变成了 `bbbb` 和 `a` ，达成目标。\n\n#### 样例 $2$ 解释：\n\n已经是最终要求的状态了。\n\n------\n\n#### 计分策略\n\n设 $n$ 为你给出的操作数量，$m$ 为标准答案，**本题使用 SPJ**。\n\n- 如果所有任务中 $n=m$，那么将得到 $100\\%$ 的分数。\n\n- 如果所有任务中 $n\\leq m+2$，那么将得到 $70\\%$ 的分数。（四舍五入到最接近的整数）\n\n- 如果所有任务中 $n\\leq 2m+2$，那么将得到 $50\\%$ 的分数。（四舍五入到最接近的整数）\n\n- 如果所有任务中 $n\\leq 5\\times 10^5$，那么将得到 $30\\%$ 的分数。（四舍五入到最接近的整数）\n\n- 如果至少一个任务中 $n > 5\\times 10^5$，那么将得到 $0\\%$ 的分数。\n\n----\n\n\n\n对于 $100\\%$ 的数据，保证 $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 2\\times 10^5$，$\\lvert s\\rvert,\\lvert t\\rvert$ 分别代表 $s,t$ 的长度，且保证至少有一个串中包含至少一个字符 `a`，至少一个串中包含至少一个字符 `b`。\n\n#### 数据限制\n\n|子任务编号|分数|限制|\n|:-:|:-:|:-:|\n|$1$|$5$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 6$，这两个字符串中共含有一个字符 `a`|\n|$2$|$10$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 6$ |\n|$3$|$20$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 50$ |\n|$4$|$20$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 250$ |\n|$5$|$20$| $1\\leq \\lvert s\\rvert,\\lvert t\\rvert \\leq 2\\times 10^3$ |\n|$6$|$25$|无特殊限制|", "locale": "zh-CN"}}}
{"pid": "P6304", "type": "P", "difficulty": 4, "samples": [["5\n1 1 1 1 1", "1 2 2"], ["3\n1 2 3", "0 2"], ["5\n1 2 3 2 2", "0 1 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2018", "eJOI（欧洲）"], "title": "[eJOI 2018] 山", "background": "", "description": "Innopolis 城里有 $n$ 座山，第 $i$ 座的高度为 $a_i$。\n\n美观起见，当一座山比它两边的山（如果存在）**严格** 地高时，才能在这座山上建房子。\n\n有一台挖掘机，每小时可以将任意一座山的高度降低 $1$，同一时间挖掘机只能在一座山上工作。山的高度可以被降为 $0$ 或负数。\n\n请求出当 $1\\leq k\\leq \\lceil\\frac{n}{2}\\rceil$ 时，建造 $k$ 座房子（即至少使得 $k$ 座山满足上面的要求）时，挖掘机至少需要工作几小时。", "inputFormat": "第一行，一个整数 $n$。\n\n第二行，$n$ 个整数 $a_{1\\cdots n}$，表示数列 $\\{a_i\\}$。", "outputFormat": "一行，$\\lceil\\frac{n}{2}\\rceil$ 个整数，第 $i$ 个整数表示 $k=i$ 时的答案。", "hint": "【样例一解释】\n\n将山 $2$ 的高度降低 $1$，山的高度变为 $1,0,1,1,1$，此时山 $1$ 满足条件。\n\n再将山 $4$ 的高度降低 $1$，山的高度变为 $1,0,1,0,1$，此时山 $1,3,5$ 满足条件。\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 5\\times 10^3$，$1\\leq a_i\\leq 10^5$。\n\n| 子任务编号 | 分数 | 限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $0$ | 样例 |\n| $2$ | $7$ | $n=3,a_i\\leq 100$ |\n| $3$ | $15$ | $n\\leq 10,a_i\\leq 100$ |\n| $4$ | $13$ | $n\\leq 100,a_i\\leq 100$ |\n| $5$ | $18$ | $n\\leq 100,a_i\\leq 2\\times 10^3$ |\n| $6$ | $22$ | $n\\leq 500$ |\n| $7$ | $25$ | 无特殊限制 |\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem A「Hills」\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2813)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2018] 山", "background": "", "description": "Innopolis 城里有 $n$ 座山，第 $i$ 座的高度为 $a_i$。\n\n美观起见，当一座山比它两边的山（如果存在）**严格** 地高时，才能在这座山上建房子。\n\n有一台挖掘机，每小时可以将任意一座山的高度降低 $1$，同一时间挖掘机只能在一座山上工作。山的高度可以被降为 $0$ 或负数。\n\n请求出当 $1\\leq k\\leq \\lceil\\frac{n}{2}\\rceil$ 时，建造 $k$ 座房子（即至少使得 $k$ 座山满足上面的要求）时，挖掘机至少需要工作几小时。", "inputFormat": "第一行，一个整数 $n$。\n\n第二行，$n$ 个整数 $a_{1\\cdots n}$，表示数列 $\\{a_i\\}$。", "outputFormat": "一行，$\\lceil\\frac{n}{2}\\rceil$ 个整数，第 $i$ 个整数表示 $k=i$ 时的答案。", "hint": "【样例一解释】\n\n将山 $2$ 的高度降低 $1$，山的高度变为 $1,0,1,1,1$，此时山 $1$ 满足条件。\n\n再将山 $4$ 的高度降低 $1$，山的高度变为 $1,0,1,0,1$，此时山 $1,3,5$ 满足条件。\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 5\\times 10^3$，$1\\leq a_i\\leq 10^5$。\n\n| 子任务编号 | 分数 | 限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $0$ | 样例 |\n| $2$ | $7$ | $n=3,a_i\\leq 100$ |\n| $3$ | $15$ | $n\\leq 10,a_i\\leq 100$ |\n| $4$ | $13$ | $n\\leq 100,a_i\\leq 100$ |\n| $5$ | $18$ | $n\\leq 100,a_i\\leq 2\\times 10^3$ |\n| $6$ | $22$ | $n\\leq 500$ |\n| $7$ | $25$ | 无特殊限制 |\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem A「Hills」\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2813)", "locale": "zh-CN"}}}
{"pid": "P6305", "type": "P", "difficulty": 7, "samples": [["5 5\n3 2 3 1 1", "1\n5\n1 4 2 3 5"], ["4 3\n2 1 4 3", "-1"], ["2 0\n2 2", "0"], ["6 9\n6 5 4 3 2 1", "2\n6\n1 6 2 5 3 4\n3\n3 2 1"], ["6 8\n6 5 4 3 2 1", "3\n2\n3 4\n4\n1 6 2 5\n2\n2 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2018] 循环排序", "background": "", "description": "给定一个长为 $n$ 的数列 $\\{a_i\\}$ ，你可以多次进行如下操作：\n\n选定 $k$ 个不同的下标 $i_1,i_2\\cdots,i_k$（其中 $1\\leq i_j\\leq n$），然后将 $a_{i_1}$ 移动到下标 $i_2$ 处，将 $a_{i_2}$ 移动到下标 $i_3$ 处，……，将 $a_{i_{k-1}}$ 移动到下标 $i_k$ 处，将 $a_{i_k}$ 移动到下标 $i_1$ 处。\n\n换言之，你可以按照如下的顺序轮换元素：$i_1\\rightarrow i_2\\rightarrow\\cdots\\rightarrow i_{k}\\rightarrow i_1$。\n\n例如：$n=4,\\{a_i\\}=\\{10,20,30,40\\},i_1=2,i_2=3,i_3=4$ ，则操作完成后的 $a$ 数列变为 $\\{10,40,20,30\\}$。\n\n你的任务是用操作次数最少的方法将整个数列排序成不降的。注意，所有操作中选定下标的个数总和不得超过 $s$ 。如果不存在这样的方法（无解），输出 `-1`。", "inputFormat": "第一行，两个整数，$n$ 和 $s$。\n\n第二行，$n$ 个整数 $a_{1\\cdots n}$，表示数列 $\\{a_i\\}$。", "outputFormat": "如果无解，仅输出 `-1`。\n\n否则，第一行输出一个整数  $q$（可以为 $0$ ，参见样例 3 ），表示最少需要进行的操作次数。\n\n接下来 $2\\times q$ 行描述每次操作。\n\n对于每次操作，先输出一个整数 $k$ 表示此操作选定的下标数量，然后在下一行中输出 $k$ 个整数 $i_{1\\cdots k}$。\n\n在操作次数 $q$ 最少的情况下，你可以输出任意一种可行方案。", "hint": "【样例一解释】\n\n你可以用两次操作 $1\\rightarrow 4\\rightarrow 1$ 和 $2\\rightarrow 3\\rightarrow 5\\rightarrow 2$ 排序数组，但这样会 WA，因为你的任务是最小化 $q$ ，而最优解的 $q=1$。\n\n一种可行的方法是 $1\\rightarrow 4\\rightarrow 2\\rightarrow 3\\rightarrow 5\\rightarrow 1$，即样例输出。\n\n【样例二解释】\n\n所有操作中选定下标的个数总和的最小值为 $4$（一种可行的方法是 $1\\rightarrow 2\\rightarrow 1$ 和 $3\\rightarrow 4\\rightarrow 3$），因此无解。\n\n【样例三解释】\n\n数组已经有序，因此不需要进行操作。\n\n补充说明：样例 4 和 5 满足子任务 6 和 7 的限制。\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 2\\times 10^5$，$0\\leq s\\leq 2\\times 10^5$，$1\\leq a_i\\leq 10^9$。\n\n| 子任务编号 | 分数 | 限制 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $0$ | 样例 |\n| $2$ | $5$ | $n,s\\leq 2 且 1\\leq a_i\\leq 2$ |\n| $3$ | $5$ | $n\\leq 5$ |\n| $4$ | $5$ | $1\\leq a_i\\leq 2$ |\n| $5$ | $10$ | $a 是个排列，s=2\\times n$ |\n| $6$ | $10$ | $a 是个排列，n\\leq 10^3$ |\n| $7$ | $15$ | $a 是个排列$ |\n| $8$ | $15$ | $s=2\\times n$ |\n| $9$ | $15$ | $n\\leq 10^3$ |\n| $10$ | $20$ | 无特殊限制 |\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem F「Cycle Sort」\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2818)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2018] 循环排序", "background": "", "description": "给定一个长为 $n$ 的数列 $\\{a_i\\}$ ，你可以多次进行如下操作：\n\n选定 $k$ 个不同的下标 $i_1,i_2\\cdots,i_k$（其中 $1\\leq i_j\\leq n$），然后将 $a_{i_1}$ 移动到下标 $i_2$ 处，将 $a_{i_2}$ 移动到下标 $i_3$ 处，……，将 $a_{i_{k-1}}$ 移动到下标 $i_k$ 处，将 $a_{i_k}$ 移动到下标 $i_1$ 处。\n\n换言之，你可以按照如下的顺序轮换元素：$i_1\\rightarrow i_2\\rightarrow\\cdots\\rightarrow i_{k}\\rightarrow i_1$。\n\n例如：$n=4,\\{a_i\\}=\\{10,20,30,40\\},i_1=2,i_2=3,i_3=4$ ，则操作完成后的 $a$ 数列变为 $\\{10,40,20,30\\}$。\n\n你的任务是用操作次数最少的方法将整个数列排序成不降的。注意，所有操作中选定下标的个数总和不得超过 $s$ 。如果不存在这样的方法（无解），输出 `-1`。", "inputFormat": "第一行，两个整数，$n$ 和 $s$。\n\n第二行，$n$ 个整数 $a_{1\\cdots n}$，表示数列 $\\{a_i\\}$。", "outputFormat": "如果无解，仅输出 `-1`。\n\n否则，第一行输出一个整数  $q$（可以为 $0$ ，参见样例 3 ），表示最少需要进行的操作次数。\n\n接下来 $2\\times q$ 行描述每次操作。\n\n对于每次操作，先输出一个整数 $k$ 表示此操作选定的下标数量，然后在下一行中输出 $k$ 个整数 $i_{1\\cdots k}$。\n\n在操作次数 $q$ 最少的情况下，你可以输出任意一种可行方案。", "hint": "【样例一解释】\n\n你可以用两次操作 $1\\rightarrow 4\\rightarrow 1$ 和 $2\\rightarrow 3\\rightarrow 5\\rightarrow 2$ 排序数组，但这样会 WA，因为你的任务是最小化 $q$ ，而最优解的 $q=1$。\n\n一种可行的方法是 $1\\rightarrow 4\\rightarrow 2\\rightarrow 3\\rightarrow 5\\rightarrow 1$，即样例输出。\n\n【样例二解释】\n\n所有操作中选定下标的个数总和的最小值为 $4$（一种可行的方法是 $1\\rightarrow 2\\rightarrow 1$ 和 $3\\rightarrow 4\\rightarrow 3$），因此无解。\n\n【样例三解释】\n\n数组已经有序，因此不需要进行操作。\n\n补充说明：样例 4 和 5 满足子任务 6 和 7 的限制。\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 2\\times 10^5$，$0\\leq s\\leq 2\\times 10^5$，$1\\leq a_i\\leq 10^9$。\n\n| 子任务编号 | 分数 | 限制 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $0$ | 样例 |\n| $2$ | $5$ | $n,s\\leq 2 且 1\\leq a_i\\leq 2$ |\n| $3$ | $5$ | $n\\leq 5$ |\n| $4$ | $5$ | $1\\leq a_i\\leq 2$ |\n| $5$ | $10$ | $a 是个排列，s=2\\times n$ |\n| $6$ | $10$ | $a 是个排列，n\\leq 10^3$ |\n| $7$ | $15$ | $a 是个排列$ |\n| $8$ | $15$ | $s=2\\times n$ |\n| $9$ | $15$ | $n\\leq 10^3$ |\n| $10$ | $20$ | 无特殊限制 |\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem F「Cycle Sort」\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2818)", "locale": "zh-CN"}}}
{"pid": "P6306", "type": "P", "difficulty": 4, "samples": [["10 3\n1 1 2 2 3 5 3 2 1 3", "5"], ["13 4\n1 1 4 5 1 4 1 4 4 5 5 5 1", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192]}, "tags": ["2020", "哈希 hashing", "进制"], "title": "「Wdsr-1」小铃的书", "background": "本居小铃在人间之里经营着一家名为“铃奈庵”的书店。店里井井有条地堆放着很多很多书。  \n\n一天，魔理沙来铃奈庵借书，搞得店里十分混乱，魔理沙随身携带的魔导书与铃奈庵的书籍全都混在了一起。", "description": "小铃一共有 $n-1$ 本书，每本书有一个编号 $a_i$，两本书属于同一种类当且仅当两本书的编号相同。  \n\n由于小铃平时将这些书整理得井井有条，因此在小铃的 $n-1$ 本书中，每个种类的书的数量都恰好是 $k$ 的倍数，其中 $k$ 是一给出的常数。\n \n现在，魔理沙的一本编号未知的魔导书与小铃的 $n-1$ 本书混在了一起，而魔理沙只有知道魔导书的编号才能将其找回。  \n\n由于书的数量实在太多，魔理沙找到了你来帮忙，希望聪明的你能帮她求出混入的魔导书的编号。\n\n**注意：魔理沙的魔导书可能与小铃的某本书有着相同的编号。**", "inputFormat": "第一行是两个整数 $n,k$，含义与题目描述一致。\n\n保证 $n\\equiv 1 \\pmod k$ 。\n\n第二行共 $n$ 个整数，表示混在一起的 $n$ 本书的编号 $a_i$ 。", "outputFormat": "共一行一个整数，表示魔理沙的魔导书的编号。", "hint": "#### 样例说明\n\n样例 $1$ 中，小铃的书的编号为 $1,2,3$，分别有 $3$ 本。因此魔导书的编号为 $5$。\n\n样例 $2$ 中，小铃的书的编号为 $1,4,5$，分别有 $4$ 本。因此魔导书的编号为 $1$。\n\n------------------------\n\n#### 数据范围及约定\n\n**本题采取捆绑测试。**\n\n$$\n\\def\\arraystretch{1.5}\n\\def\\cuteran{https://www.luogu.com.cn/paste/iyzwht7l}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{Subtask} & \\bm{n\\le} & \\textbf{分值} \\cr\\hline\n1 & 10^5 & 50 \\cr\\hline\n2 & 10^6 & 25 \\cr\\hline\n3 & 10^7 & 25 \\cr\\hline\n\\end{array}\n$$\n\n对于全部数据，保证 $1 \\le n \\le 10^7$  ，$2 \\le k \\le 10^3$  ，$1 \\le a_i \\le 10^{18}$。保证数据合法，即有且只有一本混入的魔导书。   \n\n-----------------\n\n#### 提示\n\n**请注意时空限制。**\n\n**使用 $\\texttt{cin}$ / $\\texttt{cout}$ 可能超时，这里给出一个快速读入模板：**\n\n```cpp\nlong long qread(){\n    long long w=1,c,ret;\n    while((c=getchar())> '9'||c< '0')\n    w=(c=='-'?-1:1); ret=c-'0';\n    while((c=getchar())>='0'&&c<='9')\n    ret=ret*10+c-'0';\n    return ret*w;\n}\n```\n\n**或者使用这份模板：**\n\n```cpp\ntypedef long long LL;\n#define gc pa==pb&&(pb=(pa=buf)+fread(buf,1,100000,stdin),pa==pb)?EOF:*pa++\nstatic char buf[100000],*pa(buf),*pb(buf);\ninline LL readint() {\n\tLL x=0;char c=gc;\n\twhile(c<'0'||c>'9')c=gc;\n\tfor(;c>='0'&&c<='9';c=gc)x=x*10+(c&15);\n\treturn x;\n}\n```\n\n**其中，在开启 O2 开关的前提下，前者在极限数据下的读入要 $500\\texttt{ms}$，而后者需要 $300\\texttt{ms}$。也就是说，你的程序至少有 $500\\sim 700\\texttt{ms}$ 的时间执行主要算法。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-1」小铃的书", "background": "本居小铃在人间之里经营着一家名为“铃奈庵”的书店。店里井井有条地堆放着很多很多书。  \n\n一天，魔理沙来铃奈庵借书，搞得店里十分混乱，魔理沙随身携带的魔导书与铃奈庵的书籍全都混在了一起。", "description": "小铃一共有 $n-1$ 本书，每本书有一个编号 $a_i$，两本书属于同一种类当且仅当两本书的编号相同。  \n\n由于小铃平时将这些书整理得井井有条，因此在小铃的 $n-1$ 本书中，每个种类的书的数量都恰好是 $k$ 的倍数，其中 $k$ 是一给出的常数。\n \n现在，魔理沙的一本编号未知的魔导书与小铃的 $n-1$ 本书混在了一起，而魔理沙只有知道魔导书的编号才能将其找回。  \n\n由于书的数量实在太多，魔理沙找到了你来帮忙，希望聪明的你能帮她求出混入的魔导书的编号。\n\n**注意：魔理沙的魔导书可能与小铃的某本书有着相同的编号。**", "inputFormat": "第一行是两个整数 $n,k$，含义与题目描述一致。\n\n保证 $n\\equiv 1 \\pmod k$ 。\n\n第二行共 $n$ 个整数，表示混在一起的 $n$ 本书的编号 $a_i$ 。", "outputFormat": "共一行一个整数，表示魔理沙的魔导书的编号。", "hint": "#### 样例说明\n\n样例 $1$ 中，小铃的书的编号为 $1,2,3$，分别有 $3$ 本。因此魔导书的编号为 $5$。\n\n样例 $2$ 中，小铃的书的编号为 $1,4,5$，分别有 $4$ 本。因此魔导书的编号为 $1$。\n\n------------------------\n\n#### 数据范围及约定\n\n**本题采取捆绑测试。**\n\n$$\n\\def\\arraystretch{1.5}\n\\def\\cuteran{https://www.luogu.com.cn/paste/iyzwht7l}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{Subtask} & \\bm{n\\le} & \\textbf{分值} \\cr\\hline\n1 & 10^5 & 50 \\cr\\hline\n2 & 10^6 & 25 \\cr\\hline\n3 & 10^7 & 25 \\cr\\hline\n\\end{array}\n$$\n\n对于全部数据，保证 $1 \\le n \\le 10^7$  ，$2 \\le k \\le 10^3$  ，$1 \\le a_i \\le 10^{18}$。保证数据合法，即有且只有一本混入的魔导书。   \n\n-----------------\n\n#### 提示\n\n**请注意时空限制。**\n\n**使用 $\\texttt{cin}$ / $\\texttt{cout}$ 可能超时，这里给出一个快速读入模板：**\n\n```cpp\nlong long qread(){\n    long long w=1,c,ret;\n    while((c=getchar())> '9'||c< '0')\n    w=(c=='-'?-1:1); ret=c-'0';\n    while((c=getchar())>='0'&&c<='9')\n    ret=ret*10+c-'0';\n    return ret*w;\n}\n```\n\n**或者使用这份模板：**\n\n```cpp\ntypedef long long LL;\n#define gc pa==pb&&(pb=(pa=buf)+fread(buf,1,100000,stdin),pa==pb)?EOF:*pa++\nstatic char buf[100000],*pa(buf),*pb(buf);\ninline LL readint() {\n\tLL x=0;char c=gc;\n\twhile(c<'0'||c>'9')c=gc;\n\tfor(;c>='0'&&c<='9';c=gc)x=x*10+(c&15);\n\treturn x;\n}\n```\n\n**其中，在开启 O2 开关的前提下，前者在极限数据下的读入要 $500\\texttt{ms}$，而后者需要 $300\\texttt{ms}$。也就是说，你的程序至少有 $500\\sim 700\\texttt{ms}$ 的时间执行主要算法。**", "locale": "zh-CN"}}}
{"pid": "P6307", "type": "P", "difficulty": 5, "samples": [["100", "2.0003x10^-2"], ["114", "1.7546x10^-2"], ["223", "8.9689x10^-3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "「Wdsr-1」贤者之石", "background": "帕秋莉·诺蕾姬是一位擅长魔法的魔女，而炼制贤者之石便是她的日常任务。", "description": "帕秋莉摆出了一个边长为 $k-1$（$k$ 个点）的正三角形点阵，每个点上**可以且只能**放一颗元素石。  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h84oo82e.png)\n\n在魔界中，正三角形被认为是最美丽而稳定的图形，因此当且仅当放在点阵中的**三颗元素石构成一个正三角形**时，元素石能够被合成为一颗贤者之石。 \n\n帕秋莉规定，假设她在边长为 $k-1$ 的点阵中**随机**选取三个点放置元素石，那么三颗元素石能够合成贤者之石的概率称为 $P_k$ 。（$P_1=0, P_2=1$）  \n\n现在，为了能够难倒智慧的你，帕秋莉想要你求出\n$$\\sum_{k=m}^{+\\infty}P_k$$ \n的值，其中 $m$ 是给定的整数。", "inputFormat": "一行一个整数 $m$。", "outputFormat": "一行一个小数，表示所求的答案。\n\n**你需要保留 $5$ 位有效数字，并且使用科学记数法。**\n\n举例说明：\n\n假设答案为 ``0.0123``，则你需要输出 ``1.2300x10^-2``。\n\n假设答案为 ``1.2345``，则你需要输出 ``1.2345x10^0``。\n", "hint": "#### 数据范围\n\n$$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|}\\hline\nSubtasks & \\textbf{编号} & m \\\\ \\hline\n1 & [1,15] & \\le 100\\\\\\hline\n2 & [16,35] & \\le 500\\\\\\hline\n3 & [36,40] & \\le 10^3\\\\\\hline\n4 & [41,45] & \\le 10^4\\\\\\hline\n5 & [46,50] & \\le 65535\\\\\\hline\n\\end{array}$$\n\n其中，$[l,r]$ 表示编号为 $l,l+1,\\cdots,r-1,r$ 的测试点。\n\n- 此外，保证 $m\\ge 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-1」贤者之石", "background": "帕秋莉·诺蕾姬是一位擅长魔法的魔女，而炼制贤者之石便是她的日常任务。", "description": "帕秋莉摆出了一个边长为 $k-1$（$k$ 个点）的正三角形点阵，每个点上**可以且只能**放一颗元素石。  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h84oo82e.png)\n\n在魔界中，正三角形被认为是最美丽而稳定的图形，因此当且仅当放在点阵中的**三颗元素石构成一个正三角形**时，元素石能够被合成为一颗贤者之石。 \n\n帕秋莉规定，假设她在边长为 $k-1$ 的点阵中**随机**选取三个点放置元素石，那么三颗元素石能够合成贤者之石的概率称为 $P_k$ 。（$P_1=0, P_2=1$）  \n\n现在，为了能够难倒智慧的你，帕秋莉想要你求出\n$$\\sum_{k=m}^{+\\infty}P_k$$ \n的值，其中 $m$ 是给定的整数。", "inputFormat": "一行一个整数 $m$。", "outputFormat": "一行一个小数，表示所求的答案。\n\n**你需要保留 $5$ 位有效数字，并且使用科学记数法。**\n\n举例说明：\n\n假设答案为 ``0.0123``，则你需要输出 ``1.2300x10^-2``。\n\n假设答案为 ``1.2345``，则你需要输出 ``1.2345x10^0``。\n", "hint": "#### 数据范围\n\n$$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|}\\hline\nSubtasks & \\textbf{编号} & m \\\\ \\hline\n1 & [1,15] & \\le 100\\\\\\hline\n2 & [16,35] & \\le 500\\\\\\hline\n3 & [36,40] & \\le 10^3\\\\\\hline\n4 & [41,45] & \\le 10^4\\\\\\hline\n5 & [46,50] & \\le 65535\\\\\\hline\n\\end{array}$$\n\n其中，$[l,r]$ 表示编号为 $l,l+1,\\cdots,r-1,r$ 的测试点。\n\n- 此外，保证 $m\\ge 1$。", "locale": "zh-CN"}}}
{"pid": "P6308", "type": "P", "difficulty": 5, "samples": [["10 0 5 233\n", "6942214367\n"], ["1000 9 500 6666\n", "7636746723064426256"]], "limits": {"time": [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "O2优化", "组合数学", "差分"], "title": "「Wdsr-1」笨蛋结构", "background": "众所周知，琪露诺是笨蛋。", "description": "琪露诺希望维护一个长度为 $n$ 的整数序列 $a$，初始值都为 $0$。\n\n现在琪露诺想要进行 $q$ 次操作，每次选择序列中的一段区间 $[s,s+l-1]$ 并给出两个数字 $w,k$，使对所有的 $i \\in [1,l]$，$a_{s+i-1}$ 加上 $w\\times i^k$ 。  \n\n琪露诺不希望 $k$ 很大，因此她给出了一个整数 $m$，满足 $0\\le k\\le m$。\n\n为了不让头脑简单的琪露诺感到困惑，你只需要输出 依次进行完所有操作后，序列中的每个数字对 $2^{64}$ 取模（即 $\\text{unsigned long long}$ 自然溢出）后的结果即可。\n\n为了帮助你更好的理解题意，这里给出一段伪代码：\n\n$$\\def\\b#1{\\textbf{ #1 }}\\def\\t#1{\\text{ #1 }}\\def\\s{\\quad}\n\\def\\l{\\underline{\\kern{300pt}}\\cr[-10pt]}\n\\def\\r{\\overline{\\underline{\\kern{300pt}}}}\n\\begin{aligned}\n&\\r\\cr&\\b{Algorithm:}\\t{An easy structure}\\cr[-13pt]&\\l\\cr\n&\\begin{aligned}\n    \\t{1.}&\\b{input}n,m,q \\cr\n    \\t{2.}&\\b{for}i=1\\b{to} q \\b{do} \\cr\n    \\t{3.}&\\s\\b{input} s,l,w,k \\cr\n    \\t{4.}&\\s\\b{for} j=1 \\b{to} l \\b{do}\\cr\n    \\t{5.}&\\s\\s a[s+j-1] \\gets a[s+j-1]+w\\times \\t{pow}(j,k) \\cr\n    \\t{6.}&\\s\\b{end}\\cr\n    \\t{7.}&\\b{end}\\cr\n    \\t{8.}&\\b{for} i=1 \\b{to} n \\b{do}\\cr\n    \\t{9.}&\\s\\b{output} a[i]\\cr\n    \\t{10.}&\\b{end}\\cr\n    \\end{aligned}\\cr[-12pt]\n&\\r\\end{aligned}\n%Made by @离散小波变换° .\n%You can find his contributions by searching \"JoesSR\".\n$$\n其中 $\\rm pow(a,b)$ 的含义为 $a^b$。 ", "inputFormat": "请调用下方代码的 `input(n,m,q,S,L,W,K)` 来输入 $n,m,q,s_i,l_i,w_i,k_i$。下标**从一开始**。  \n\n其中 $s,l,w,k$ 的含义与题目描述保持一致。", "outputFormat": "请调用下方代码的 `output(n,R)` 进行输出。其中 $R_i$ 为所有操作结束后的数列，下标**从一开始**。", "hint": "#### 样例一说明\n\n生成的数据为：\n```plain\n10 0 5\n7 1 1558211206 0\n1 3 401324017 0\n4 5 235225636 0\n6 4 2137131141 0\n1 2 3791175968 0\n```\n它的结果是：\n```plain\n4192499985 4192499985 401324017 235225636 235225636 2372356777 3930567983 2372356777 2137131141 0\n```\n\n---\n\n#### 数据生成&数据输出\n\n```cpp\ntypedef unsigned long long u64;\ntypedef unsigned int       u32;\nu32 MT[624],idx;\nvoid _init(u32 seed){\n    MT[0]=seed; idx=0; for(int i=1;i<624;++i) \n    MT[i]=(0x6c078965*(MT[i-1]^((MT[i-1])>>30)+i));\n}\nvoid _gene(){\n    for(int i=0;i<624;++i){\n        int x=MT[i]&0x80000000+(MT[(i+1)%624]&0x7fffffff);\n        MT[i]=MT[(i+397)%624]^(x>>1);\n        if(x&2)MT[i]^=0x9908b0df;\n    }\n}\nu32  _calc(){\n    if(!idx) _gene(); int x=MT[idx];\n    x^=x>>11,x^=(x<<7)&(0x9d2c5680);\n    x^=(x<<15)&0xefc60000,x^=x>>18;\n    idx=(idx+1)%624; return x;\n}\nu64 _get(){u64 ret=_calc()*_calc(); return ret;}\nu64 _get(u64 _l,u64 _r){return _get()%(_r-_l+1ull)+_l;}\nvoid input(int &_n,int &_m,int &_q,int *_S,int *_L,u64 *_W,int *_K){\n    u32 seed; scanf(\"%d%d%d%u\",&_n,&_m,&_q,&seed); _init(seed); int i=1;\n    if(_n>100) for(;i<=_q/4;++i){\n        int _a=_get(1,_n-100),_b=_get(_a+_m,_a+_m+1),_l=_b-_a+1,_k=_get(0,_m);\n        u64 _w=_get(); _S[i]=_a,_L[i]=_l,_W[i]=_w,_K[i]=_k;\n    }\n    if(_n>100) for(;i<=_q/2;++i){\n        int _a=_get(1,100),_b=_get(_n-100,_n),_l=_b-_a+1,_k=_get(0,_m);\n        u64 _w=_get(); _S[i]=_a,_L[i]=_l,_W[i]=_w,_K[i]=_k;\n    }\n    for(;i<=_q;++i){\n        int _a=_get(1,_n),_b=_get(1,_n); if(_a>_b) swap(_a,_b);\n        int _l=_b-_a+1,_k=_get(0,_m); u64 _w=_get();\n        _S[i]=_a,_L[i]=_l,_W[i]=_w,_K[i]=_k;\n    }\n}\nvoid output(int n,u64 *R){\n    u64 ret=n^_get(); for(int i=1;i<=n;i++) ret^=_get()+R[i];\n    printf(\"%llu\\n\",ret);\n}\n```\n其中，调用 `input()` 读入数据；调用 `output()` 输出数据。\n\n**请勿在任何时候调用除了`input`和`output`外的函数，且这两个函数只能调用一次**。\n\n--- \n\n#### 数据范围 \n\n共 $20$ 个测试点，满足如下条件：\n\n$$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|}\\hline\n\\textbf{编号} & n & m & q \\\\ \\hline\n[1,3] & \\le 3\\times 10^3 & =9 & \\le 3\\times 10^3 \\\\\\hline\n[4,5] & \\le 3\\times 10^5 & =0 & \\le 3\\times 10^5 \\\\\\hline\n[6,9] & \\le 3\\times 10^5 & =1 & \\le 3\\times 10^5 \\\\\\hline\n[10,13] & \\le 3\\times 10^5 & =2 & \\le 3\\times 10^5 \\\\\\hline\n[14,16] & \\le 3\\times 10^5 & =9 & \\le 3\\times 10^5 \\\\\\hline\n[17,20] & \\le 5\\times 10^5 & =9 & \\le 1\\times 10^6 \\\\\\hline\n\\end{array}$$\n\n其中，$[l,r]$ 表示编号为 $l,l+1,\\cdots,r-1,r$ 的测试点。\n\n对于 $100\\%$ 的数据，满足 $1\\le l_i \\le l_i+s_i-1 \\le n,0\\le k_i\\le m,0 \\le w\\le 2^{64}-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-1」笨蛋结构", "background": "众所周知，琪露诺是笨蛋。", "description": "琪露诺希望维护一个长度为 $n$ 的整数序列 $a$，初始值都为 $0$。\n\n现在琪露诺想要进行 $q$ 次操作，每次选择序列中的一段区间 $[s,s+l-1]$ 并给出两个数字 $w,k$，使对所有的 $i \\in [1,l]$，$a_{s+i-1}$ 加上 $w\\times i^k$ 。  \n\n琪露诺不希望 $k$ 很大，因此她给出了一个整数 $m$，满足 $0\\le k\\le m$。\n\n为了不让头脑简单的琪露诺感到困惑，你只需要输出 依次进行完所有操作后，序列中的每个数字对 $2^{64}$ 取模（即 $\\text{unsigned long long}$ 自然溢出）后的结果即可。\n\n为了帮助你更好的理解题意，这里给出一段伪代码：\n\n$$\\def\\b#1{\\textbf{ #1 }}\\def\\t#1{\\text{ #1 }}\\def\\s{\\quad}\n\\def\\l{\\underline{\\kern{300pt}}\\cr[-10pt]}\n\\def\\r{\\overline{\\underline{\\kern{300pt}}}}\n\\begin{aligned}\n&\\r\\cr&\\b{Algorithm:}\\t{An easy structure}\\cr[-13pt]&\\l\\cr\n&\\begin{aligned}\n    \\t{1.}&\\b{input}n,m,q \\cr\n    \\t{2.}&\\b{for}i=1\\b{to} q \\b{do} \\cr\n    \\t{3.}&\\s\\b{input} s,l,w,k \\cr\n    \\t{4.}&\\s\\b{for} j=1 \\b{to} l \\b{do}\\cr\n    \\t{5.}&\\s\\s a[s+j-1] \\gets a[s+j-1]+w\\times \\t{pow}(j,k) \\cr\n    \\t{6.}&\\s\\b{end}\\cr\n    \\t{7.}&\\b{end}\\cr\n    \\t{8.}&\\b{for} i=1 \\b{to} n \\b{do}\\cr\n    \\t{9.}&\\s\\b{output} a[i]\\cr\n    \\t{10.}&\\b{end}\\cr\n    \\end{aligned}\\cr[-12pt]\n&\\r\\end{aligned}\n%Made by @离散小波变换° .\n%You can find his contributions by searching \"JoesSR\".\n$$\n其中 $\\rm pow(a,b)$ 的含义为 $a^b$。 ", "inputFormat": "请调用下方代码的 `input(n,m,q,S,L,W,K)` 来输入 $n,m,q,s_i,l_i,w_i,k_i$。下标**从一开始**。  \n\n其中 $s,l,w,k$ 的含义与题目描述保持一致。", "outputFormat": "请调用下方代码的 `output(n,R)` 进行输出。其中 $R_i$ 为所有操作结束后的数列，下标**从一开始**。", "hint": "#### 样例一说明\n\n生成的数据为：\n```plain\n10 0 5\n7 1 1558211206 0\n1 3 401324017 0\n4 5 235225636 0\n6 4 2137131141 0\n1 2 3791175968 0\n```\n它的结果是：\n```plain\n4192499985 4192499985 401324017 235225636 235225636 2372356777 3930567983 2372356777 2137131141 0\n```\n\n---\n\n#### 数据生成&数据输出\n\n```cpp\ntypedef unsigned long long u64;\ntypedef unsigned int       u32;\nu32 MT[624],idx;\nvoid _init(u32 seed){\n    MT[0]=seed; idx=0; for(int i=1;i<624;++i) \n    MT[i]=(0x6c078965*(MT[i-1]^((MT[i-1])>>30)+i));\n}\nvoid _gene(){\n    for(int i=0;i<624;++i){\n        int x=MT[i]&0x80000000+(MT[(i+1)%624]&0x7fffffff);\n        MT[i]=MT[(i+397)%624]^(x>>1);\n        if(x&2)MT[i]^=0x9908b0df;\n    }\n}\nu32  _calc(){\n    if(!idx) _gene(); int x=MT[idx];\n    x^=x>>11,x^=(x<<7)&(0x9d2c5680);\n    x^=(x<<15)&0xefc60000,x^=x>>18;\n    idx=(idx+1)%624; return x;\n}\nu64 _get(){u64 ret=_calc()*_calc(); return ret;}\nu64 _get(u64 _l,u64 _r){return _get()%(_r-_l+1ull)+_l;}\nvoid input(int &_n,int &_m,int &_q,int *_S,int *_L,u64 *_W,int *_K){\n    u32 seed; scanf(\"%d%d%d%u\",&_n,&_m,&_q,&seed); _init(seed); int i=1;\n    if(_n>100) for(;i<=_q/4;++i){\n        int _a=_get(1,_n-100),_b=_get(_a+_m,_a+_m+1),_l=_b-_a+1,_k=_get(0,_m);\n        u64 _w=_get(); _S[i]=_a,_L[i]=_l,_W[i]=_w,_K[i]=_k;\n    }\n    if(_n>100) for(;i<=_q/2;++i){\n        int _a=_get(1,100),_b=_get(_n-100,_n),_l=_b-_a+1,_k=_get(0,_m);\n        u64 _w=_get(); _S[i]=_a,_L[i]=_l,_W[i]=_w,_K[i]=_k;\n    }\n    for(;i<=_q;++i){\n        int _a=_get(1,_n),_b=_get(1,_n); if(_a>_b) swap(_a,_b);\n        int _l=_b-_a+1,_k=_get(0,_m); u64 _w=_get();\n        _S[i]=_a,_L[i]=_l,_W[i]=_w,_K[i]=_k;\n    }\n}\nvoid output(int n,u64 *R){\n    u64 ret=n^_get(); for(int i=1;i<=n;i++) ret^=_get()+R[i];\n    printf(\"%llu\\n\",ret);\n}\n```\n其中，调用 `input()` 读入数据；调用 `output()` 输出数据。\n\n**请勿在任何时候调用除了`input`和`output`外的函数，且这两个函数只能调用一次**。\n\n--- \n\n#### 数据范围 \n\n共 $20$ 个测试点，满足如下条件：\n\n$$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|}\\hline\n\\textbf{编号} & n & m & q \\\\ \\hline\n[1,3] & \\le 3\\times 10^3 & =9 & \\le 3\\times 10^3 \\\\\\hline\n[4,5] & \\le 3\\times 10^5 & =0 & \\le 3\\times 10^5 \\\\\\hline\n[6,9] & \\le 3\\times 10^5 & =1 & \\le 3\\times 10^5 \\\\\\hline\n[10,13] & \\le 3\\times 10^5 & =2 & \\le 3\\times 10^5 \\\\\\hline\n[14,16] & \\le 3\\times 10^5 & =9 & \\le 3\\times 10^5 \\\\\\hline\n[17,20] & \\le 5\\times 10^5 & =9 & \\le 1\\times 10^6 \\\\\\hline\n\\end{array}$$\n\n其中，$[l,r]$ 表示编号为 $l,l+1,\\cdots,r-1,r$ 的测试点。\n\n对于 $100\\%$ 的数据，满足 $1\\le l_i \\le l_i+s_i-1 \\le n,0\\le k_i\\le m,0 \\le w\\le 2^{64}-1$。", "locale": "zh-CN"}}}
{"pid": "P6309", "type": "P", "difficulty": 5, "samples": [["10 10\n-2 -3 -7 2 -6 7 -3 -5 4 -7 \n0 2 2 0 4 6 2 4 3 3 \n1 4 7\n1 -5 7\n1 -1 8\n2 8 9 2\n2 7 -3 5\n2 7 4 3\n2 2 -1 7\n1 -9 -7\n2 2 3 1\n1 -1 0\n", "9\n82\n9\n0\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树"], "title": "「Wdsr-1」人间之里", "background": "- 这里是幻想乡中最多人类居住的地方。因为有许多妖怪也会光临的店，所以会有各种妖怪到访，不过都是些安份的妖怪，这是一个和平的地方（×1稗田家所在地，毫无疑问也在人类村落。\n\n- 人类必要的生活用品，都能在这里买到。也有一些专门退治妖怪的人住在这，所以这里的生活是较安全的。\n\n- 要说人类村落为什么没有被袭击，那就是妖怪的贤者在背后保护（×2幻想乡的人类灭绝的话，妖怪们也不好过。）。不外出的话，就不会遇上大难。\n\n- 若外出途中遇到比自己强的妖怪（×3高概率的对方比自己强。），就恭恭敬敬地打招呼吧。 还有令人意外的是，有很多店会开到深夜，夜晚会变成妖怪专用店。妖怪多在夜晚活动，店也在那段时间兴旺。可以说妖怪才是很好的客人。\n\n- 特别是卖酒的店，妖怪和人类同乐已成了日常一景。\n\n$$\\tag*{——摘自《东方求闻史纪》}$$", "description": "虽然人间之里可以说是全幻想乡对于人类最安全的地方，但是异变发生时，还是可能会出现意外，所以要建立避难所。\n\n人间之里可以抽象为一条坐标轴，其上有 $n$ 个点上建有房屋。这些房屋的坐标分别为 $x_1,x_2,...,x_n$，且在第 $i$ 座房屋中居住着 $v_i$ 位居民。\n\n每次发生异变时，会有一段**坐标连续**的房屋受到影响，而此时便需要在某一坐标处建立避难所。一个避难所的\"不便程度\"为受影响的房屋中的**每一个居民**与避难所的距离之和。  \n\n（举例来说，假设只有房屋 $i$ 受到了影响，则在 $z$ 处建立避难所的\"不便程度\"为 $v_i*|x_i-z|$ ） \n\n当然，坐落在幻想乡中人间之里的不可能一成不变，所以房屋的位置和居民的数量都可能会发生变化。\n\n具体来说，你需要处理 $m$ 次询问或修改，每一次输入的格式如下：\n\n- `1 l r`，表示询问 当**坐标**位于 $[l,r]$ 范围内的房屋受到异变影响时，在所有建立避难所的方案中，最小的\"不便程度\"是多少。\n\n- `2 a b c`，表示将第 $a$ 座房屋的坐标修改为 $b$，其中居住的村民的数量变为 $c$ 。 \n\n**注意：**\n- 在 $1$ 操作中的\"受到异变影响\"均为假设，所以对之后的查询不产生作用。\n\n- 在 $2$ 操作中发生变化的是第 $a$ 座房屋而不是坐标为 $a$ 的房屋。", "inputFormat": "第一行两个整数，$n,m$。\n\n第二行 $n$ 个整数，$x_i$。\n\n第三行 $n$ 个整数，$v_i$。\n\n接下来 $m$ 行，每行描述一个操作。", "outputFormat": "对于每个 `1 l r` 操作，输出建立避难所的最小\"不便程度\"。", "hint": "**【样例解释】**\n\n对于第一个询问，共有两座房屋受到影响，一处位于 $x=4$ 处，有 $3$ 位村民，一处位于 $x=7$ 处，有 $6$ 位村民。\n\n避难所选在 $x=7$ 处时，\"不便程度\"为：\n\n$$\\left\\vert 7 - 4 \\right\\vert \\times 3 + \\left\\vert 7 - 7 \\right\\vert \\times 6 = 9$$\n\n可以证明 $9$ 是所有建立避难所的方案中\"不便程度\"的最小值。\n\n--------------------\n\n**【数据范围】**\n\n- 对于 $100\\%$ 的数据：\n    \n    $1 \\le n,m \\le 3 \\times 10 ^ 5$。\n\n    $1 \\le a \\le n$，$-10 ^ 9 \\le l \\le r  \\le 10 ^ 9$，$-10 ^ 9 \\le x_i,b \\le 10 ^ 9$，$0 \\le  v_i,c \\le 10 ^ 3$。\n\n- **详细的数据范围：**\n\n    设 $mx$ 为所有输入的整数绝对值的最大值。\n\n    测试点编号 | $n,m \\le$  | $mx \\le$ | 分值\n    :-: | :-: | :-: | :-:\n    $1$ | $100$ | $100$ | $10$\n    $2$ | $8 \\times 10 ^ 3$ | $8 \\times 10 ^ 3$ | $15$\n    $3$ | $8 \\times 10 ^ 3$ | $10 ^ 9$ | $5$\n    $4$ | $10 ^ 5$ | $10 ^ 5$ | $30$\n    $5$ | $10 ^ 5$ | $10 ^ 9$ | $10$\n    $6$ | $3 \\times 10 ^ 5$ | $10 ^ 9$ | $30$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-1」人间之里", "background": "- 这里是幻想乡中最多人类居住的地方。因为有许多妖怪也会光临的店，所以会有各种妖怪到访，不过都是些安份的妖怪，这是一个和平的地方（×1稗田家所在地，毫无疑问也在人类村落。\n\n- 人类必要的生活用品，都能在这里买到。也有一些专门退治妖怪的人住在这，所以这里的生活是较安全的。\n\n- 要说人类村落为什么没有被袭击，那就是妖怪的贤者在背后保护（×2幻想乡的人类灭绝的话，妖怪们也不好过。）。不外出的话，就不会遇上大难。\n\n- 若外出途中遇到比自己强的妖怪（×3高概率的对方比自己强。），就恭恭敬敬地打招呼吧。 还有令人意外的是，有很多店会开到深夜，夜晚会变成妖怪专用店。妖怪多在夜晚活动，店也在那段时间兴旺。可以说妖怪才是很好的客人。\n\n- 特别是卖酒的店，妖怪和人类同乐已成了日常一景。\n\n$$\\tag*{——摘自《东方求闻史纪》}$$", "description": "虽然人间之里可以说是全幻想乡对于人类最安全的地方，但是异变发生时，还是可能会出现意外，所以要建立避难所。\n\n人间之里可以抽象为一条坐标轴，其上有 $n$ 个点上建有房屋。这些房屋的坐标分别为 $x_1,x_2,...,x_n$，且在第 $i$ 座房屋中居住着 $v_i$ 位居民。\n\n每次发生异变时，会有一段**坐标连续**的房屋受到影响，而此时便需要在某一坐标处建立避难所。一个避难所的\"不便程度\"为受影响的房屋中的**每一个居民**与避难所的距离之和。  \n\n（举例来说，假设只有房屋 $i$ 受到了影响，则在 $z$ 处建立避难所的\"不便程度\"为 $v_i*|x_i-z|$ ） \n\n当然，坐落在幻想乡中人间之里的不可能一成不变，所以房屋的位置和居民的数量都可能会发生变化。\n\n具体来说，你需要处理 $m$ 次询问或修改，每一次输入的格式如下：\n\n- `1 l r`，表示询问 当**坐标**位于 $[l,r]$ 范围内的房屋受到异变影响时，在所有建立避难所的方案中，最小的\"不便程度\"是多少。\n\n- `2 a b c`，表示将第 $a$ 座房屋的坐标修改为 $b$，其中居住的村民的数量变为 $c$ 。 \n\n**注意：**\n- 在 $1$ 操作中的\"受到异变影响\"均为假设，所以对之后的查询不产生作用。\n\n- 在 $2$ 操作中发生变化的是第 $a$ 座房屋而不是坐标为 $a$ 的房屋。", "inputFormat": "第一行两个整数，$n,m$。\n\n第二行 $n$ 个整数，$x_i$。\n\n第三行 $n$ 个整数，$v_i$。\n\n接下来 $m$ 行，每行描述一个操作。", "outputFormat": "对于每个 `1 l r` 操作，输出建立避难所的最小\"不便程度\"。", "hint": "**【样例解释】**\n\n对于第一个询问，共有两座房屋受到影响，一处位于 $x=4$ 处，有 $3$ 位村民，一处位于 $x=7$ 处，有 $6$ 位村民。\n\n避难所选在 $x=7$ 处时，\"不便程度\"为：\n\n$$\\left\\vert 7 - 4 \\right\\vert \\times 3 + \\left\\vert 7 - 7 \\right\\vert \\times 6 = 9$$\n\n可以证明 $9$ 是所有建立避难所的方案中\"不便程度\"的最小值。\n\n--------------------\n\n**【数据范围】**\n\n- 对于 $100\\%$ 的数据：\n    \n    $1 \\le n,m \\le 3 \\times 10 ^ 5$。\n\n    $1 \\le a \\le n$，$-10 ^ 9 \\le l \\le r  \\le 10 ^ 9$，$-10 ^ 9 \\le x_i,b \\le 10 ^ 9$，$0 \\le  v_i,c \\le 10 ^ 3$。\n\n- **详细的数据范围：**\n\n    设 $mx$ 为所有输入的整数绝对值的最大值。\n\n    测试点编号 | $n,m \\le$  | $mx \\le$ | 分值\n    :-: | :-: | :-: | :-:\n    $1$ | $100$ | $100$ | $10$\n    $2$ | $8 \\times 10 ^ 3$ | $8 \\times 10 ^ 3$ | $15$\n    $3$ | $8 \\times 10 ^ 3$ | $10 ^ 9$ | $5$\n    $4$ | $10 ^ 5$ | $10 ^ 5$ | $30$\n    $5$ | $10 ^ 5$ | $10 ^ 9$ | $10$\n    $6$ | $3 \\times 10 ^ 5$ | $10 ^ 9$ | $30$", "locale": "zh-CN"}}}
{"pid": "P6310", "type": "P", "difficulty": 5, "samples": [["4 4\n1 2 2\n1 3 3\n2 4 1\n3 4 4\n2 1 3 2", "1 1 1 -1 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020"], "title": "「Wdsr-1」仓库建设", "background": "有一天，人间之里出现了饥荒。", "description": "因为幻想乡倡导“幻想乡命运共同体”意识，河童们决定帮助人类修建一些粮仓防止饥荒再次发生。\n\n人间之里有 $n$ 座城市和 $m$ 条双向道路，第 $i$ 条道路连接 $u_i，v_i$ 两座城市，长度为 $w_i$ 个单位。\n\n由于每座城市的科技水平不同，从不同城市出发的运粮车的储油量不同。第 $i$ 座城市的运粮车的储油量只能支持运粮车行驶 $x_i$ 个单位。当然，城市与城市之间是友好的，无论到达哪个城市，热心的当地民众都会给运粮车**加满油**。\n\n河童科技高度发达，所以仓库容纳的粮食可以视作无限。只有粮仓能发出运粮车。\n\n现在要选择一些城市建设仓库，使得每一个城市都可以从粮仓中得到粮食。为了节约资源，河童希望仓库的数量最小。\n\n但妖怪有时会占据一个城市，所以需要算出在任意一个城市不能建设粮仓时需要的最小粮仓数。", "inputFormat": "第一行两个整数 $n，m$，意义如题面所述。\n\n接下来 $m$ 行每行 3 个整数 $u_i，v_i，w_i$，意义如题面所述。\n\n接下来一行 $n$ 个整数 $x_i$，意义如题面所述。", "outputFormat": "输出一行 $n+1$ 个整数。  \n\n第一个整数表示最少需要多少粮仓；接下来 $n$ 个整数，第 $i$ 个整数表示 $i$ 号城市不能建粮仓所需的最小的粮仓数。\n\n**如果第 $i$ 个城市不能建粮仓时，其他城市建粮仓不能到达这个城市，则输出**` -1`。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/jg6fg91l.png)\n\n这是样例画出来的图，显然在 3 号城市建立粮仓就可以解决问题，当 3 号城市不能建粮仓时，其他的城市无论怎么建粮仓，粮食也运不到 3 号城市，输出 ```-1```。\n\n---\n\n#### 数据范围\n\n对于 $25\\%$ 的数据，保证 $1\\le n，m\\le 10 ^ 3$。  \n\n对于另外 $25\\%$ 的数据，保证 $m=n-1$。  \n\n对于 $100\\%$ 的数据，保证 $1\\le n，m \\le 3\\times 10^5，1\\le u_i，v_i\\le n，1\\le w_i，x_i\\le 10^6$，保证图联通。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-1」仓库建设", "background": "有一天，人间之里出现了饥荒。", "description": "因为幻想乡倡导“幻想乡命运共同体”意识，河童们决定帮助人类修建一些粮仓防止饥荒再次发生。\n\n人间之里有 $n$ 座城市和 $m$ 条双向道路，第 $i$ 条道路连接 $u_i，v_i$ 两座城市，长度为 $w_i$ 个单位。\n\n由于每座城市的科技水平不同，从不同城市出发的运粮车的储油量不同。第 $i$ 座城市的运粮车的储油量只能支持运粮车行驶 $x_i$ 个单位。当然，城市与城市之间是友好的，无论到达哪个城市，热心的当地民众都会给运粮车**加满油**。\n\n河童科技高度发达，所以仓库容纳的粮食可以视作无限。只有粮仓能发出运粮车。\n\n现在要选择一些城市建设仓库，使得每一个城市都可以从粮仓中得到粮食。为了节约资源，河童希望仓库的数量最小。\n\n但妖怪有时会占据一个城市，所以需要算出在任意一个城市不能建设粮仓时需要的最小粮仓数。", "inputFormat": "第一行两个整数 $n，m$，意义如题面所述。\n\n接下来 $m$ 行每行 3 个整数 $u_i，v_i，w_i$，意义如题面所述。\n\n接下来一行 $n$ 个整数 $x_i$，意义如题面所述。", "outputFormat": "输出一行 $n+1$ 个整数。  \n\n第一个整数表示最少需要多少粮仓；接下来 $n$ 个整数，第 $i$ 个整数表示 $i$ 号城市不能建粮仓所需的最小的粮仓数。\n\n**如果第 $i$ 个城市不能建粮仓时，其他城市建粮仓不能到达这个城市，则输出**` -1`。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/jg6fg91l.png)\n\n这是样例画出来的图，显然在 3 号城市建立粮仓就可以解决问题，当 3 号城市不能建粮仓时，其他的城市无论怎么建粮仓，粮食也运不到 3 号城市，输出 ```-1```。\n\n---\n\n#### 数据范围\n\n对于 $25\\%$ 的数据，保证 $1\\le n，m\\le 10 ^ 3$。  \n\n对于另外 $25\\%$ 的数据，保证 $m=n-1$。  \n\n对于 $100\\%$ 的数据，保证 $1\\le n，m \\le 3\\times 10^5，1\\le u_i，v_i\\le n，1\\le w_i，x_i\\le 10^6$，保证图联通。", "locale": "zh-CN"}}}
{"pid": "P6312", "type": "P", "difficulty": 3, "samples": [["5\nkajak", "TAK"], ["0\nkanu", "NIE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096]}, "tags": ["2018", "PA（波兰）"], "title": "[PA 2018] Palindrom", "background": "", "description": "**译自 [PA 2018](https://sio2.mimuw.edu.pl/c/pa-2018-1/dashboard/)  Runda 3 [Palindrom](https://sio2.mimuw.edu.pl/c/pa-2018-1/p/pal/)**\n\n**请特别注意本题的内存限制。**\n\n给出一个字符串，请你判断其是否为回文串。\n\n回文串是指从左往右读与从右往左读完全相同。", "inputFormat": "第一行一个整数 $n$。在有些数据中它代表了字符串的长度，有些数据中 $n=0$ （即不告诉你长度）。\n\n第二行一个字符串，即需要判断的串。", "outputFormat": "如果是回文串，则输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据范围\n\n**本题采用捆绑测试**\n\n对于 $100\\%$ 的数据，保证字符串长度不超过 $2\\times 10^7$。\n\n您可以假设在任何测试数据中都有 $n>0$ 或者 $n=0$。\n\n感谢 @[Infinite_Eternity](/user/897776) 提供的测试数据！\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2018] Palindrom", "background": "", "description": "**译自 [PA 2018](https://sio2.mimuw.edu.pl/c/pa-2018-1/dashboard/)  Runda 3 [Palindrom](https://sio2.mimuw.edu.pl/c/pa-2018-1/p/pal/)**\n\n**请特别注意本题的内存限制。**\n\n给出一个字符串，请你判断其是否为回文串。\n\n回文串是指从左往右读与从右往左读完全相同。", "inputFormat": "第一行一个整数 $n$。在有些数据中它代表了字符串的长度，有些数据中 $n=0$ （即不告诉你长度）。\n\n第二行一个字符串，即需要判断的串。", "outputFormat": "如果是回文串，则输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据范围\n\n**本题采用捆绑测试**\n\n对于 $100\\%$ 的数据，保证字符串长度不超过 $2\\times 10^7$。\n\n您可以假设在任何测试数据中都有 $n>0$ 或者 $n=0$。\n\n感谢 @[Infinite_Eternity](/user/897776) 提供的测试数据！\n", "locale": "zh-CN"}}}
{"pid": "P6313", "type": "P", "difficulty": 7, "samples": [["2 1\n3 1 1\n6 1 1", "YES\n1 1\n1 4"], ["3 1\n13 2 2\n7 3 1\n19 3 4", "YES\n1 10\n1 1\n1 2"], ["7 2\n15 1 1\n14 1 1\n18 1 1\n21 1 1\n9 4 6\n22 2 5\n5 4 3", "YES\n2 13\n1 1\n1 16\n1 19\n1 2\n2 16\n2 1"], ["3 1\n7 3 1\n13 2 3\n19 3 4", "NO"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2018] 护照", "background": null, "description": "Gleb 是来自 Innopolis 的著名编程老师，他计划接下来参加 $n$ 场编程训练营。每场训练营会在不同的国家举办。他要申请每个国家的签证。\n\n对于第 $i$ 场训练营，Gleb 知道出发日期 $s_i$，持续时长 $len_i$，和在该国申请签证需要的时间 $t_i$。Gleb 有 $P$ 本有效的护照并且他需要决定用哪本护照来申请签证。\n\n第 $i$ 场训练营 Gleb 将在第 $s_i$ 天早上出发，在第 $s_i+len_i-1$ 天傍晚返回。\n\n如果要在第 $d$ 天申请签证，Gleb 当天中午必须在 Innopolis。这意味着 Gleb 在参加训练营期间不能申请签证，包括第一天和最后一天。如果一场训练营结束后紧接着 Gleb 要去参加第二场训练营，他也无法在此期间申请签证。Gleb 最早可以申请签证的时间是第 $1$ 天。\n\n在第 $d$ 天申请完第 $i$ 个国家的签证后，Gleb 会在第 $d+t_i$ 天中午获得该国的护照（即使当天 Gleb 不在 Innopolis）。\n\n如果第 $s_i$ 天早上 Gleb 没有相应国家的护照，他就无法参加第 $i$ 场训练营。**注意，当时护照不能在办理签证的使馆里面。**\n\n请你帮助 Gleb 找到一种申请签证的方案，使他可以顺利参加所有的训练营。", "inputFormat": "输入第一行两个整数 $n,P$，分别表示训练营的个数和 Gleb 拥有的护照的个数。\n\n接下来 $n$ 行，每行三个整数 $s_i,len_i,t_i$，表示第 $i$ 场训练营的开始时间，持续时长和对应国家办理签证所需时间。\n\n保证每场都不相交。", "outputFormat": "**本题存在 Special Judge**。\n\n如果没有方案使得 Gleb 参加所有训练营，只用输出 `NO`。\n\n否则，第一行输出 `YES`。\n\n接下来输出 $n$ 行，每行两个整数分别表示对于每个训练营 Gleb 申请该国签证所用的护照的编号和他申请签证的日期。\n\n输出顺序需要与输入顺序一致。日期从 $1$ 开始编号，护照编号 $1\\cdots P$。", "hint": "#### 【样例解释】\n\n#### 样例一解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2degmc3.png)\n\n每个单元格代表一天。矩形代表某一次训练营，从某一天早上开始，在某一天晚上结束。带角的矩形某一次申请签证的过程，从某一天中午开始，在某一天中午结束。一场训练营与他对应的申请签证的过程颜色相同。\n\n#### 样例二解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8rql971w.png)\n\n#### 样例三解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ek61oh53.png)\n\n上面代表第一个护照，下面代表第二个护照。\n\n---\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共 9 个子任务**。\n\n- Subtask 1（5 pts）：$n\\leq 2$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 2（8 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 3（7 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等；\n- Subtask 4（12 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$，$P=1$；\n- Subtask 5（13 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$；\n- Subtask 6（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$，$P=1$；\n- Subtask 7（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$；\n- Subtask 8（15 pts）：$n\\leq 20$；\n- Subtask 9（10 pts）：无特殊限制。\n\n对于全部的测试点，保证 $1\\leq n\\leq 22$，$1\\leq P\\leq 2$，$1\\leq s_i,len_i,t_i\\leq 10^9$。\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem B「Passports」。\n\n说明：翻译自翻。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2018] 护照", "background": null, "description": "Gleb 是来自 Innopolis 的著名编程老师，他计划接下来参加 $n$ 场编程训练营。每场训练营会在不同的国家举办。他要申请每个国家的签证。\n\n对于第 $i$ 场训练营，Gleb 知道出发日期 $s_i$，持续时长 $len_i$，和在该国申请签证需要的时间 $t_i$。Gleb 有 $P$ 本有效的护照并且他需要决定用哪本护照来申请签证。\n\n第 $i$ 场训练营 Gleb 将在第 $s_i$ 天早上出发，在第 $s_i+len_i-1$ 天傍晚返回。\n\n如果要在第 $d$ 天申请签证，Gleb 当天中午必须在 Innopolis。这意味着 Gleb 在参加训练营期间不能申请签证，包括第一天和最后一天。如果一场训练营结束后紧接着 Gleb 要去参加第二场训练营，他也无法在此期间申请签证。Gleb 最早可以申请签证的时间是第 $1$ 天。\n\n在第 $d$ 天申请完第 $i$ 个国家的签证后，Gleb 会在第 $d+t_i$ 天中午获得该国的护照（即使当天 Gleb 不在 Innopolis）。\n\n如果第 $s_i$ 天早上 Gleb 没有相应国家的护照，他就无法参加第 $i$ 场训练营。**注意，当时护照不能在办理签证的使馆里面。**\n\n请你帮助 Gleb 找到一种申请签证的方案，使他可以顺利参加所有的训练营。", "inputFormat": "输入第一行两个整数 $n,P$，分别表示训练营的个数和 Gleb 拥有的护照的个数。\n\n接下来 $n$ 行，每行三个整数 $s_i,len_i,t_i$，表示第 $i$ 场训练营的开始时间，持续时长和对应国家办理签证所需时间。\n\n保证每场都不相交。", "outputFormat": "**本题存在 Special Judge**。\n\n如果没有方案使得 Gleb 参加所有训练营，只用输出 `NO`。\n\n否则，第一行输出 `YES`。\n\n接下来输出 $n$ 行，每行两个整数分别表示对于每个训练营 Gleb 申请该国签证所用的护照的编号和他申请签证的日期。\n\n输出顺序需要与输入顺序一致。日期从 $1$ 开始编号，护照编号 $1\\cdots P$。", "hint": "#### 【样例解释】\n\n#### 样例一解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2degmc3.png)\n\n每个单元格代表一天。矩形代表某一次训练营，从某一天早上开始，在某一天晚上结束。带角的矩形某一次申请签证的过程，从某一天中午开始，在某一天中午结束。一场训练营与他对应的申请签证的过程颜色相同。\n\n#### 样例二解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8rql971w.png)\n\n#### 样例三解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ek61oh53.png)\n\n上面代表第一个护照，下面代表第二个护照。\n\n---\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共 9 个子任务**。\n\n- Subtask 1（5 pts）：$n\\leq 2$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 2（8 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 3（7 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等；\n- Subtask 4（12 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$，$P=1$；\n- Subtask 5（13 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$；\n- Subtask 6（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$，$P=1$；\n- Subtask 7（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$；\n- Subtask 8（15 pts）：$n\\leq 20$；\n- Subtask 9（10 pts）：无特殊限制。\n\n对于全部的测试点，保证 $1\\leq n\\leq 22$，$1\\leq P\\leq 2$，$1\\leq s_i,len_i,t_i\\leq 10^9$。\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem B「Passports」。\n\n说明：翻译自翻。", "locale": "zh-CN"}}}
{"pid": "P6314", "type": "P", "difficulty": 2, "samples": [["7\n8\n10\n13\n15\n19\n20\n23\n25 ", "7\n8\n10\n13\n19\n20\n23 "], ["8\n6\n5\n1\n37\n30\n28\n22\n36 ", "8\n6\n5\n1\n30\n28\n22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] PATULJCI", "background": "", "description": "白雪公主原本有 $7$ 个小矮人，但某天她遇到了 $9$ 个小矮人。\n\n这九个小矮人都自称是白雪公主 $7$ 个小矮人中的一个。他们每人戴着一顶帽子，每个帽子上面写着 $[1,99]$ 这个区间内的一个数字。\n\n白雪公主知道，她的 $7$ 个小矮人的帽子数字之和是 $100$。\n\n她想请你确定，哪 $7$ 个小矮人是她自己的。", "inputFormat": "输入共 $9$ 行，每行一个数描述这个小矮人的帽子上的数字。", "outputFormat": "输出共 $7$ 行，每行为一个符合要求的小矮人的帽子的数字。按照输入的顺序给出答案。", "hint": "#### 数据规模与约定\n\n输入数据均为小于 $100$ 的正整数，且保证有且仅有一组解。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T1 PATULJCI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] PATULJCI", "background": "", "description": "白雪公主原本有 $7$ 个小矮人，但某天她遇到了 $9$ 个小矮人。\n\n这九个小矮人都自称是白雪公主 $7$ 个小矮人中的一个。他们每人戴着一顶帽子，每个帽子上面写着 $[1,99]$ 这个区间内的一个数字。\n\n白雪公主知道，她的 $7$ 个小矮人的帽子数字之和是 $100$。\n\n她想请你确定，哪 $7$ 个小矮人是她自己的。", "inputFormat": "输入共 $9$ 行，每行一个数描述这个小矮人的帽子上的数字。", "outputFormat": "输出共 $7$ 行，每行为一个符合要求的小矮人的帽子的数字。按照输入的顺序给出答案。", "hint": "#### 数据规模与约定\n\n输入数据均为小于 $100$ 的正整数，且保证有且仅有一组解。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T1 PATULJCI***", "locale": "zh-CN"}}}
{"pid": "P6315", "type": "P", "difficulty": 2, "samples": [["ABCD\nEFGH\nIJKL\nM.NO ", "2"], [".BCD\nEAGH\nIJFL\nMNOK ", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] NPUZZLE", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/tiliraoh.png)\n\n给定一个 $4\\times 4$ 的方格棋盘，里面有 $A\\sim O$ 这 $15$ 个字母，还有一个 `.` （表示空位），字母的标准位置如图所示。\n\n现在有一个被打乱的棋盘，你需要计算出所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "inputFormat": "输入共 $4$ 行，每行 $4$ 个字符描述了这个棋盘。", "outputFormat": "输出一行一个整数，为所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T2 NPUZZLE***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] NPUZZLE", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/tiliraoh.png)\n\n给定一个 $4\\times 4$ 的方格棋盘，里面有 $A\\sim O$ 这 $15$ 个字母，还有一个 `.` （表示空位），字母的标准位置如图所示。\n\n现在有一个被打乱的棋盘，你需要计算出所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "inputFormat": "输入共 $4$ 行，每行 $4$ 个字符描述了这个棋盘。", "outputFormat": "输出一行一个整数，为所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T2 NPUZZLE***", "locale": "zh-CN"}}}
{"pid": "P6316", "type": "P", "difficulty": 3, "samples": [["4\n...D\n..C.\n.B..\nA... ", "4"], ["5\n..T..\nA....\n.FE.R\n....X\nS.... ", "3"], ["10\n....AB....\n..C....D..\n.E......F.\n...G..H...\nI........J\nK........L\n...M..N...\n.O......P.\n..Q....R..\n....ST....", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] TROJKE", "background": "", "description": "给定一个 $n\\times n$ 的方格纸，每个格子可能有一个大写字母，也可能为空。不会有同一个字母在方格纸中出现两次。\n\n你在一条线上找到三个字母，使得这条线穿过三个字母所在的格子的中心。\n\n请你求出方格纸上还有多少条这样的线。", "inputFormat": "输入第一行为一个整数 $n$，表示方格纸的边长。\n\n接下来的 $n$ 行，每行 $n$ 个字符，每个字符可能为一个大写字母或 `.`（空）。", "outputFormat": "输出一行一个整数，表示方格纸上这种线的数量。", "hint": "#### 样例 1 解释\n\n注意在第一个样例中，任意三个字母都处在同一条线上，这时的答案相当于 $C^{3}_{4}=4$。\n\n----\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 100$，不会有同一个字母在方格纸中出现两次。\n\n---\n\n#### 说明\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T3 TROJKE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] TROJKE", "background": "", "description": "给定一个 $n\\times n$ 的方格纸，每个格子可能有一个大写字母，也可能为空。不会有同一个字母在方格纸中出现两次。\n\n你在一条线上找到三个字母，使得这条线穿过三个字母所在的格子的中心。\n\n请你求出方格纸上还有多少条这样的线。", "inputFormat": "输入第一行为一个整数 $n$，表示方格纸的边长。\n\n接下来的 $n$ 行，每行 $n$ 个字符，每个字符可能为一个大写字母或 `.`（空）。", "outputFormat": "输出一行一个整数，表示方格纸上这种线的数量。", "hint": "#### 样例 1 解释\n\n注意在第一个样例中，任意三个字母都处在同一条线上，这时的答案相当于 $C^{3}_{4}=4$。\n\n----\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 100$，不会有同一个字母在方格纸中出现两次。\n\n---\n\n#### 说明\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T3 TROJKE***。", "locale": "zh-CN"}}}
{"pid": "P6317", "type": "P", "difficulty": 3, "samples": [["5\n1 1\n1 2\n1 3\n1 4\n1 5 ", "10\n1 D\n2 D\n3 D\n4 D\n1 D\n2 D\n3 D\n1 D\n2 D\n1 D"], ["5\n2 3\n3 2\n3 3\n3 4\n4 3 ", "8\n1 R\n1 R\n2 U\n2 U\n4 D\n4 D\n5 L\n5 L"], ["6\n1 1\n1 2\n2 1\n5 6\n6 5\n6 6", "8\n2 R\n2 D\n3 D\n3 R\n4 U\n4 L\n5 L\n5 U "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["数学", "贪心", "2006", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3]  TENKICI", "background": "", "description": "在一个 $n\\times n$ 的棋盘上，有 $n$ 辆坦克，每辆坦克可以攻击到自己所在的行和列上的所有格子。\n\n刚开始一个孩子正在畅快淋漓地玩着这局自己心目中的“二战”，但是他的母亲突然就叫他吃饭了。\n\n他十分不舍，并打算对这些坦克进行若干次移动，每次向上、下、左、右任意方向移动一辆坦克一个格子的距离。\n\n他现在想请你解决，最少需要多少次才能使得这 $n$ 个坦克互相无法攻击到？当然，为了不动脑子并快点去吃饭，你还需给出对应的方案之一。", "inputFormat": "输入第一行一个整数 $n$，表示棋盘的边长以及坦克的数量。\n\n接下来的 $n$ 行，每行两个整数 $r,c$，表示母亲叫他吃饭时这辆坦克所处的位置为第 $r$ 行第 $c$ 列。\n\n行和列分别从上到下，从左到右，用 $1\\sim n$ 标号。在任意时刻任何两辆坦克都不能处于相同的位置。\n\n", "outputFormat": "输出第一行为一个整数 $k$，表示最少的移动次数。\n\n接下来的 $k$ 行，每行先输出一个整数，表示此次将要移动的坦克；再输出一个字符，为`L`（左），`R`（右），`U`（上），`D`（下）之一，表示移动的方向。\n\n**正确的移动序列可能不唯一，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$，$1\\le r,c\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T4 TENKICI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3]  TENKICI", "background": "", "description": "在一个 $n\\times n$ 的棋盘上，有 $n$ 辆坦克，每辆坦克可以攻击到自己所在的行和列上的所有格子。\n\n刚开始一个孩子正在畅快淋漓地玩着这局自己心目中的“二战”，但是他的母亲突然就叫他吃饭了。\n\n他十分不舍，并打算对这些坦克进行若干次移动，每次向上、下、左、右任意方向移动一辆坦克一个格子的距离。\n\n他现在想请你解决，最少需要多少次才能使得这 $n$ 个坦克互相无法攻击到？当然，为了不动脑子并快点去吃饭，你还需给出对应的方案之一。", "inputFormat": "输入第一行一个整数 $n$，表示棋盘的边长以及坦克的数量。\n\n接下来的 $n$ 行，每行两个整数 $r,c$，表示母亲叫他吃饭时这辆坦克所处的位置为第 $r$ 行第 $c$ 列。\n\n行和列分别从上到下，从左到右，用 $1\\sim n$ 标号。在任意时刻任何两辆坦克都不能处于相同的位置。\n\n", "outputFormat": "输出第一行为一个整数 $k$，表示最少的移动次数。\n\n接下来的 $k$ 行，每行先输出一个整数，表示此次将要移动的坦克；再输出一个字符，为`L`（左），`R`（右），`U`（上），`D`（下）之一，表示移动的方向。\n\n**正确的移动序列可能不唯一，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$，$1\\le r,c\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T4 TENKICI***", "locale": "zh-CN"}}}
{"pid": "P6319", "type": "P", "difficulty": 5, "samples": [["2 1\nA 2 1 ", "1\nA 1 2 "], ["4 3\nB 1 2\nA 4 3\nB 1 4 ", "2\nA 1 2\nB 4 3 "], ["6 5\nA 1 4\nB 2 5\nB 4 2\nB 6 3\nA 3 5 ", "3\nA 4 5\nB 6 5\nA 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2006", "树状数组", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] LISTA", "background": "Mirko 收到了一份礼物——一个崭新的双向链表！", "description": "这个长度为 $n$ 的链表包含 $1\\sim n$ 这 $n$ 个节点，从左到右排列。\n\n可以对这个链表执行两种操作：\n\n- `A x y`：把 $x$ 节点放到 $y$ 节点前。\n\n- `B x y`：把 $x$ 节点放到 $y$ 节点后。\n\n#### 例如：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2es5c1p0.png)\n\n这是一个有 $6$ 个节点的链表的初始状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uv7dpgu2.png)\n\n这是进行操作 `A 1 4` 后的链表状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4j3104vm.png)\n\n这是再进行操作 `B 3 5` 后的链表状态。\n\nMirko 把这个链表玩了几个小时。每进行一次操作，他都会在纸上记录下来。\n\n当他兴致已尽，打算把链表恢复时，他惊讶地发现自己不知道最快的恢复方法，因为他只知道这些节点的结束位置。\n\n请你运用 `A` `B` 两个操作，找出操作数最少的恢复方案并输出每一次的操作。", "inputFormat": "输入第一行为两个整数 $n,k$，表示链表的节点个数和 Mirko 的操作次数。\n\n接下来的 $k$ 行，每行描述一个 Mirko 在纸上记录下来的操作，格式如题目描述所示。", "outputFormat": "输出第一行为一个整数 $K$，表示最少的恢复方案。\n\n接下来的 $K$ 行，每行描述一个恢复时的操作，格式与输入相同。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2\\le n\\le 5\\times 10^5$，$0\\le k\\le 1\\times 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T6 BICIKLI***\n\n感谢 @[andyli](https://www.luogu.com.cn/user/84282) 提供SPJ。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] LISTA", "background": "Mirko 收到了一份礼物——一个崭新的双向链表！", "description": "这个长度为 $n$ 的链表包含 $1\\sim n$ 这 $n$ 个节点，从左到右排列。\n\n可以对这个链表执行两种操作：\n\n- `A x y`：把 $x$ 节点放到 $y$ 节点前。\n\n- `B x y`：把 $x$ 节点放到 $y$ 节点后。\n\n#### 例如：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2es5c1p0.png)\n\n这是一个有 $6$ 个节点的链表的初始状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uv7dpgu2.png)\n\n这是进行操作 `A 1 4` 后的链表状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4j3104vm.png)\n\n这是再进行操作 `B 3 5` 后的链表状态。\n\nMirko 把这个链表玩了几个小时。每进行一次操作，他都会在纸上记录下来。\n\n当他兴致已尽，打算把链表恢复时，他惊讶地发现自己不知道最快的恢复方法，因为他只知道这些节点的结束位置。\n\n请你运用 `A` `B` 两个操作，找出操作数最少的恢复方案并输出每一次的操作。", "inputFormat": "输入第一行为两个整数 $n,k$，表示链表的节点个数和 Mirko 的操作次数。\n\n接下来的 $k$ 行，每行描述一个 Mirko 在纸上记录下来的操作，格式如题目描述所示。", "outputFormat": "输出第一行为一个整数 $K$，表示最少的恢复方案。\n\n接下来的 $K$ 行，每行描述一个恢复时的操作，格式与输入相同。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2\\le n\\le 5\\times 10^5$，$0\\le k\\le 1\\times 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T6 BICIKLI***\n\n感谢 @[andyli](https://www.luogu.com.cn/user/84282) 提供SPJ。", "locale": "zh-CN"}}}
{"pid": "P6320", "type": "P", "difficulty": 1, "samples": [["5 3 4\n3\n4\n5\n6\n7 ", "DA\nDA\nDA\nNE\nNE "], ["2 12 17\n21\n20 ", "NE\nDA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4] SIBICE", "background": "年轻的 Mirko 把火柴扔的到处都是。他的母亲希望他将火柴放入盒子中。", "description": "Mirko 现在要放置 $n$ 根火柴，他有一个 $w\\times h$ 的矩形盒子。\n\n他现在想请你进行判断这 $n$ 根火柴每一个是否能够放入这个盒子。\n\n我们可以把盒子看成一个平面，只需要判断火柴是否能够在这个平面内放下即可。", "inputFormat": "输入第一行为三个整数 $n,w,h$。\n\n接下来的 $n$ 行，每行一个 $[1,1000]$ 区间内的整数，表示一根火柴的长度。", "outputFormat": "输出共 $n$ 行，对于每根火柴，输出 `DA` 表示能放下，否则输出 `NE` 表示放不下。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 50$，$1\\le w,h\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T1 SIBICE***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4] SIBICE", "background": "年轻的 Mirko 把火柴扔的到处都是。他的母亲希望他将火柴放入盒子中。", "description": "Mirko 现在要放置 $n$ 根火柴，他有一个 $w\\times h$ 的矩形盒子。\n\n他现在想请你进行判断这 $n$ 根火柴每一个是否能够放入这个盒子。\n\n我们可以把盒子看成一个平面，只需要判断火柴是否能够在这个平面内放下即可。", "inputFormat": "输入第一行为三个整数 $n,w,h$。\n\n接下来的 $n$ 行，每行一个 $[1,1000]$ 区间内的整数，表示一根火柴的长度。", "outputFormat": "输出共 $n$ 行，对于每根火柴，输出 `DA` 表示能放下，否则输出 `NE` 表示放不下。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 50$，$1\\le w,h\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T1 SIBICE***", "locale": "zh-CN"}}}
{"pid": "P6321", "type": "P", "difficulty": 1, "samples": [["3 3 1 2\n.x.\nx.x\n.x. ", "..xx..\nxx..xx\n..xx.. "], ["3 3 2 1\n.x.\nx.x\n.x.", ".x.\n.x.\nx.x\nx.x\n.x.\n.x."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4]  SKENER", "background": "Mirko 在拿放大镜看杂志。", "description": "他正在看一面 $r$ 行 $c$ 列的杂志。放大镜有两个参数 $zr,zc$，表示把每个字符都转换成一个 $zr$ 行 $zc$ 列的矩阵。\n\n给出原始杂志，请你帮他找出杂志在放大镜下的影像。", "inputFormat": "输入第一行四个整数 $r,c,zr,zc$。\n\n接下来的 $r$ 行，每行 $c$ 个字符。字符可能为数字，字母或 `.`。", "outputFormat": "输出一个 $r\\times zr$ 行，$c\\times zc$ 列的矩阵，表示放大镜下的影像。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 50$，$1\\le zr,zc\\le 5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T2 SKENER***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4]  SKENER", "background": "Mirko 在拿放大镜看杂志。", "description": "他正在看一面 $r$ 行 $c$ 列的杂志。放大镜有两个参数 $zr,zc$，表示把每个字符都转换成一个 $zr$ 行 $zc$ 列的矩阵。\n\n给出原始杂志，请你帮他找出杂志在放大镜下的影像。", "inputFormat": "输入第一行四个整数 $r,c,zr,zc$。\n\n接下来的 $r$ 行，每行 $c$ 个字符。字符可能为数字，字母或 `.`。", "outputFormat": "输出一个 $r\\times zr$ 行，$c\\times zc$ 列的矩阵，表示放大镜下的影像。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 50$，$1\\le zr,zc\\le 5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T2 SKENER***", "locale": "zh-CN"}}}
