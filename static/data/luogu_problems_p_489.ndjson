{"pid": "P10917", "type": "P", "difficulty": 5, "samples": [["0\n3 4\n.#..\n..#.\n....\n3 4 1 2 \n2 4\n1 4\n2 1", "3 -1 2 1\n2 3 -1 1\n3 2 1 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "广度优先搜索 BFS"], "title": "电王的传送迷宫", "background": "电王天天玩传送门。", "description": "给出一个大小为 $n\\times m$ 的二维网格图。\n\n网格上的 `.` 是可以通行的路径，`#` 是不能通行的障碍。\n\n你每次可以走到一个与当前位置四连通的且不超过边界的点。\n\n严格来说，若你当前在点 $(x,y)$，你可以走到 $(x-1,y),(x+1,y),(x,y-1),(x,y+1)$ 中的一个，并且保证在任意时刻你的坐标 $(x,y)$ 应该满足 $1\\le x\\le n,1\\le y\\le m$。\n\n我们从起点 $(sx,sy)$ 出发，你希望知道到达任意一个位置至少要走几步。\n\n但这太简单了，于是精通传送门的电王在这个网格图上建造了 $p$ 个传送门，它们的坐标分别为 $(a_1,b_1),(a_2,b_2),...,(a_p,b_p)$。\n\n而电王也设计了 $q$ 个终点，它们的坐标分别为 $(c_1,d_1),(c_2,d_2),...,(c_q,d_q)$。\n\n假如你使用了 $i$ 次传送门，当你到达任意一个传送门，你可以选择直接传送到点 $(c_{i+1},d_{i+1})$。而第 $q$ 次传送后，所有的传送门都会失效。\n\n**所以，传送到的位置只与你传送的次数有关，而与你到达了哪个传送门没有任何关系，我们可以认为所有传送门都是等价的。**\n\n**保证 $p$ 个传送门和 $q$ 个终点的位置都不是障碍。**\n\n保证对于任意输入给出的坐标对应的位置上都是可以通行的路径，且这些坐标一定两两不同。\n\n但电王有的时候并不想知道到去往任意点最少要移动几步，可能他只想知道到一个终点 $(tx,ty)$ 的最少移动步数，我们会在输入格式中了解这个测试点电王的喜好（保证 $tx,ty$ 不是一个障碍）。", "inputFormat": "第一行输入一个正整数 $opt$。\n\n第二行两个正整数 $n,m$，表示网格图的大小。\n\n然后的 $n$ 行，每行 $m$ 个字符，用来描述这个网格的形态。\n\n下一行若干个正整数，前四个数分别表示 $sx,sy,p,q$，若 $opt=1$，我们还会额外输入两个数 $tx,ty$，表示电王只想知道从起点到 $(tx,ty)$ 的最少移动步数。\n\n接下来 $p$ 行，每行两个正整数，分别表示 $a_i,b_i$ 的值。\n\n最后 $q$ 行，每行两个正整数，分别表示 $c_i,d_i$ 的值。", "outputFormat": "若 $opt=0$，输出一个 $n\\times m$ 的数组矩阵。第 $i$ 行 $j$ 列的数表示从起点 $(sx,sy)$ 到达 $(i,j)$ 最少移动几步，如果不可能到达或者这个地方是一个障碍，输出 `-1`。\n\n否则输出一个数，表示从起点 $(sx,sy)$ 到达 $tx,ty$ 最少移动几步，如果不可能到达输出 `-1`。\n\n**注意：使用传送门改变位置的操作，不算入移动的步数。**", "hint": "样例解释：\n\n我们以从起点 $(3,4)$ 去往 $(1,1)$ 为例：首先 $(3,4)\\to(2,4)$，然后使用传送门，第一次传送到 $(1,4)$。然后 $(1,4)\\to (2,4)$，第二次使用传送门，到达点 $(2,1)$，最后 $(2,1)\\to(1,1)$，我们使用了两次传送门，行走了 $3$ 步，所以这个路径方案的移动次数是 $3$，可以证明不存在比这更优的方案了。\n\n**本题采用捆绑测试**。\n\n| $\\text{Subtask}$ | 分数 | $n,m,p,q$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $p=q=0$ | 无特殊限制 |\n| $2$ | $20$ | $p=1$ | 无特殊限制 |\n| $3$ | $20$ | $1\\le n,m,p,q\\le 500$ | 无特殊限制 |\n| $4$ | $20$ | 无特殊限制 | $A$ |\n| $5$ | $10$ | 无特殊限制 | $B$ |\n| $6$ | $20$ | 无特殊限制 | 无特殊限制 |\n\n$A$：保证 $opt=1$。\n\n$B$：保证网格中不存在不可通行的障碍 `#`。\n\n对于所有数据，满足 $1\\le n,m\\le 1000,0\\le p,q\\le n\\times m,0 \\leq opt \\leq 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "电王的传送迷宫", "background": "电王天天玩传送门。", "description": "给出一个大小为 $n\\times m$ 的二维网格图。\n\n网格上的 `.` 是可以通行的路径，`#` 是不能通行的障碍。\n\n你每次可以走到一个与当前位置四连通的且不超过边界的点。\n\n严格来说，若你当前在点 $(x,y)$，你可以走到 $(x-1,y),(x+1,y),(x,y-1),(x,y+1)$ 中的一个，并且保证在任意时刻你的坐标 $(x,y)$ 应该满足 $1\\le x\\le n,1\\le y\\le m$。\n\n我们从起点 $(sx,sy)$ 出发，你希望知道到达任意一个位置至少要走几步。\n\n但这太简单了，于是精通传送门的电王在这个网格图上建造了 $p$ 个传送门，它们的坐标分别为 $(a_1,b_1),(a_2,b_2),...,(a_p,b_p)$。\n\n而电王也设计了 $q$ 个终点，它们的坐标分别为 $(c_1,d_1),(c_2,d_2),...,(c_q,d_q)$。\n\n假如你使用了 $i$ 次传送门，当你到达任意一个传送门，你可以选择直接传送到点 $(c_{i+1},d_{i+1})$。而第 $q$ 次传送后，所有的传送门都会失效。\n\n**所以，传送到的位置只与你传送的次数有关，而与你到达了哪个传送门没有任何关系，我们可以认为所有传送门都是等价的。**\n\n**保证 $p$ 个传送门和 $q$ 个终点的位置都不是障碍。**\n\n保证对于任意输入给出的坐标对应的位置上都是可以通行的路径，且这些坐标一定两两不同。\n\n但电王有的时候并不想知道到去往任意点最少要移动几步，可能他只想知道到一个终点 $(tx,ty)$ 的最少移动步数，我们会在输入格式中了解这个测试点电王的喜好（保证 $tx,ty$ 不是一个障碍）。", "inputFormat": "第一行输入一个正整数 $opt$。\n\n第二行两个正整数 $n,m$，表示网格图的大小。\n\n然后的 $n$ 行，每行 $m$ 个字符，用来描述这个网格的形态。\n\n下一行若干个正整数，前四个数分别表示 $sx,sy,p,q$，若 $opt=1$，我们还会额外输入两个数 $tx,ty$，表示电王只想知道从起点到 $(tx,ty)$ 的最少移动步数。\n\n接下来 $p$ 行，每行两个正整数，分别表示 $a_i,b_i$ 的值。\n\n最后 $q$ 行，每行两个正整数，分别表示 $c_i,d_i$ 的值。", "outputFormat": "若 $opt=0$，输出一个 $n\\times m$ 的数组矩阵。第 $i$ 行 $j$ 列的数表示从起点 $(sx,sy)$ 到达 $(i,j)$ 最少移动几步，如果不可能到达或者这个地方是一个障碍，输出 `-1`。\n\n否则输出一个数，表示从起点 $(sx,sy)$ 到达 $tx,ty$ 最少移动几步，如果不可能到达输出 `-1`。\n\n**注意：使用传送门改变位置的操作，不算入移动的步数。**", "hint": "样例解释：\n\n我们以从起点 $(3,4)$ 去往 $(1,1)$ 为例：首先 $(3,4)\\to(2,4)$，然后使用传送门，第一次传送到 $(1,4)$。然后 $(1,4)\\to (2,4)$，第二次使用传送门，到达点 $(2,1)$，最后 $(2,1)\\to(1,1)$，我们使用了两次传送门，行走了 $3$ 步，所以这个路径方案的移动次数是 $3$，可以证明不存在比这更优的方案了。\n\n**本题采用捆绑测试**。\n\n| $\\text{Subtask}$ | 分数 | $n,m,p,q$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $p=q=0$ | 无特殊限制 |\n| $2$ | $20$ | $p=1$ | 无特殊限制 |\n| $3$ | $20$ | $1\\le n,m,p,q\\le 500$ | 无特殊限制 |\n| $4$ | $20$ | 无特殊限制 | $A$ |\n| $5$ | $10$ | 无特殊限制 | $B$ |\n| $6$ | $20$ | 无特殊限制 | 无特殊限制 |\n\n$A$：保证 $opt=1$。\n\n$B$：保证网格中不存在不可通行的障碍 `#`。\n\n对于所有数据，满足 $1\\le n,m\\le 1000,0\\le p,q\\le n\\times m,0 \\leq opt \\leq 1$。", "locale": "zh-CN"}}}
{"pid": "P10918", "type": "P", "difficulty": 6, "samples": [["3 6\n1 1\n2 2\n3 1", "4"], ["6 12\n12 3\n3 1\n2 1\n6 2\n4 2\n1 2", "8"], ["11 60\n4 1\n15 10\n3 1\n20 3\n2 2\n30 2\n6 4\n10 5\n5 3\n60 5\n12 14", "23"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "小分图最大匹配", "background": "", "description": "给你一个二分图，有一些个左部点。还有 $m$ 个右部点，编号为 $0$ 到 $m-1$。\n\n对于每个左部点 $i$，有一个连边参数 $a_i$，表示其向所有满足 $\\exist x\\in \\mathbb{N}, a_ix\\equiv j \\pmod m$ 的 $j$ 连接了一条边。\n\n现在给出两个长度为 $n$ 的数组 $a_i,c_i$，表示存在 $c_i$ 个左部点的连边参数为 $a_i$，换句话说，这个图总共有 $\\sum\\limits_{i=1}^n c_i$ 个左部点，使用这样的方式来快速读入左部点的连边参数。\n\n保证 $a_i$ 两两不同。\n\n求这张二分图的最大匹配。\n", "inputFormat": "第一行两个整数 $n$ 和 $m$。\n\n接下来 $n$ 行，每行两个正整数，第 $i$ 行的两个数分别表示 $a_i$ 和 $c_i$ 的值。 ", "outputFormat": "一行一个整数，表示答案。", "hint": "**本题采用捆绑测试**。\n\n| Subtask | $n\\le$ | $m\\le$ | 特殊性质 | 分数 |\n| :-: | :--------: | :-: | :-: | :-: |\n| 0 | $10^3$ | $10^3$ | 无 | 10 |\n| 1 | $1$ | $10^{12}$ | 无 | 10 |\n| 2 | $2 \\times 10^3$ | $2\\times 10^7$ | 有 | 20 |\n| 3 | $2 \\times 10^3$ | $2\\times 10^7$ | 无 | 20 |\n| 4 | $2 \\times 10^3$ | $10^{12}$ | 有 | 20 |\n| 5 | $7 \\times 10^3$ | $10^{12}$ | 无 | 20 |\n\n对于所有数据，保证 $1\\le n \\le 7\\times10^3, 1\\le m \\le 10^{12},1\\le a_i \\le m,0\\le c_i \\le 10^{12}$\n\n特殊性质 : 保证 $\\mu(m)\\not=0$。\n\n其中 $\\mu$ 指莫比乌斯函数，定义为\n\n$$\n\\mu(n)=\\left\\{\\begin{array}{ll}\n1 & n=1 \\\\\n0 & n \\text { 含有平方因子 } \\\\\n(-1)^{k} & k \\text { 为 } n \\text { 的本质不同质因子个数 }\n\\end{array}\\right.\n$$\n\n对于所有数据，保证 $a_i$ 互不相同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "小分图最大匹配", "background": "", "description": "给你一个二分图，有一些个左部点。还有 $m$ 个右部点，编号为 $0$ 到 $m-1$。\n\n对于每个左部点 $i$，有一个连边参数 $a_i$，表示其向所有满足 $\\exist x\\in \\mathbb{N}, a_ix\\equiv j \\pmod m$ 的 $j$ 连接了一条边。\n\n现在给出两个长度为 $n$ 的数组 $a_i,c_i$，表示存在 $c_i$ 个左部点的连边参数为 $a_i$，换句话说，这个图总共有 $\\sum\\limits_{i=1}^n c_i$ 个左部点，使用这样的方式来快速读入左部点的连边参数。\n\n保证 $a_i$ 两两不同。\n\n求这张二分图的最大匹配。\n", "inputFormat": "第一行两个整数 $n$ 和 $m$。\n\n接下来 $n$ 行，每行两个正整数，第 $i$ 行的两个数分别表示 $a_i$ 和 $c_i$ 的值。 ", "outputFormat": "一行一个整数，表示答案。", "hint": "**本题采用捆绑测试**。\n\n| Subtask | $n\\le$ | $m\\le$ | 特殊性质 | 分数 |\n| :-: | :--------: | :-: | :-: | :-: |\n| 0 | $10^3$ | $10^3$ | 无 | 10 |\n| 1 | $1$ | $10^{12}$ | 无 | 10 |\n| 2 | $2 \\times 10^3$ | $2\\times 10^7$ | 有 | 20 |\n| 3 | $2 \\times 10^3$ | $2\\times 10^7$ | 无 | 20 |\n| 4 | $2 \\times 10^3$ | $10^{12}$ | 有 | 20 |\n| 5 | $7 \\times 10^3$ | $10^{12}$ | 无 | 20 |\n\n对于所有数据，保证 $1\\le n \\le 7\\times10^3, 1\\le m \\le 10^{12},1\\le a_i \\le m,0\\le c_i \\le 10^{12}$\n\n特殊性质 : 保证 $\\mu(m)\\not=0$。\n\n其中 $\\mu$ 指莫比乌斯函数，定义为\n\n$$\n\\mu(n)=\\left\\{\\begin{array}{ll}\n1 & n=1 \\\\\n0 & n \\text { 含有平方因子 } \\\\\n(-1)^{k} & k \\text { 为 } n \\text { 的本质不同质因子个数 }\n\\end{array}\\right.\n$$\n\n对于所有数据，保证 $a_i$ 互不相同。", "locale": "zh-CN"}}}
{"pid": "P10919", "type": "P", "difficulty": 6, "samples": [["10 3 \n1 2 3 5 4 10 8 6 7 9\n1 2 8\n6 10 3\n", "1 3 2"], ["20 5\n12 13 14 15 16 17 18 19 20 22 21 30 29 28 27 26 23 24 25 1\n1 20 2 5 3 \n10 12 11 9 13 \n", "1 2 3 4 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "二分图", "树链剖分", "笛卡尔树"], "title": "运输规划", "background": "你需要规划卡车的运输方案，为了让您更好地解决问题，**请仔细阅读题面。**", "description": "有 $n$ 个城市，对于任意 $1 < i \\leq n$ 满足第 $i$ 个城市与第 $i-1$ 个城市间有一条双向的道路，每个城市有一个对卡车高度的限制 $h_i$，代表只有高度小于等于 $h_i$ 的卡车可以从这个城市经过，现在有 $m$ 个城市 $S_{1},S_{2},...,S_{m}$ 各有**恰好**一个运输任务，任务要求**编号为 $i$ 且高度为 $h_{S_{i}}$ 的**卡车从城市 $S_{i}$ 出发**到达**任意一个有机场的城市，而有 $m$ 个城市有机场，分别为 $T_{1},T_{2},...,T_{m}$，对于一个合法的运输方案而言，需要保证每个卡车都到达一个机场且每个机场**恰好**有一辆卡车**抵达**。一个机场**可以**同时被多辆卡车**经过**。请注意，如果你无法经过某个城市，那么你也无法抵达这个城市。\n\n记 $c_i$ 表示抵达位于城市 $T_i$ 的机场的的**卡车编号**，令数组 $F = \\{c_1,c_2,...,c_m\\}$，请你最小化 $F$ 的字典序并输出 $F$。\n\n我们定义两个长度为 $len$ 的数组 $A,B$ 满足 $A$ 的字典序小于 $B$ 当且仅当存在 $0 \\leq i < len$ 满足对于任意 $1 \\leq j \\leq i$ 满足 $A_j = B_j$ 且 $A_{i+1} < B_{i+1}$。\n\n数据保证有解，保证**所有 $h_i$ 互不相同**，所有 $T_i$ 互不相同，所有 $S_i$ 互不相同。但是**可能会**存在 $i,j$ 满足 $S_i = T_j$。\n", "inputFormat": "第一行两个数 $n,m$。\n\n接下来一行 $n$ 个数表示 $h_1,h_2,...,h_n$。\n\n再接下来一行 $m$ 个数表示 $S_{1},S_{2},...,S_{m}$。\n\n再接下来一行 $m$ 个数表示 $T_{1},T_{2},...,T_{m}$。\n\n", "outputFormat": "输出一行 $m$ 个数表示 $F$。", "hint": "**本题采用捆绑测试**。\n\n| 子任务编号 | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $n,m \\leq 50$ | $10$ |\n| $2$ | 对于任意 $1 < i \\leq n$ 满足 $h_i < h_{i-1}$ | $25$ |\n| $3$ | $n,m \\leq 10^3$ | $25$ |\n| $4$ | 无特殊性质 | $40$ |\n\n对于 $100\\%$ 的数据保证 $1 \\leq m \\leq n \\leq 2 \\times 10^5,0 < h_i \\leq 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "运输规划", "background": "你需要规划卡车的运输方案，为了让您更好地解决问题，**请仔细阅读题面。**", "description": "有 $n$ 个城市，对于任意 $1 < i \\leq n$ 满足第 $i$ 个城市与第 $i-1$ 个城市间有一条双向的道路，每个城市有一个对卡车高度的限制 $h_i$，代表只有高度小于等于 $h_i$ 的卡车可以从这个城市经过，现在有 $m$ 个城市 $S_{1},S_{2},...,S_{m}$ 各有**恰好**一个运输任务，任务要求**编号为 $i$ 且高度为 $h_{S_{i}}$ 的**卡车从城市 $S_{i}$ 出发**到达**任意一个有机场的城市，而有 $m$ 个城市有机场，分别为 $T_{1},T_{2},...,T_{m}$，对于一个合法的运输方案而言，需要保证每个卡车都到达一个机场且每个机场**恰好**有一辆卡车**抵达**。一个机场**可以**同时被多辆卡车**经过**。请注意，如果你无法经过某个城市，那么你也无法抵达这个城市。\n\n记 $c_i$ 表示抵达位于城市 $T_i$ 的机场的的**卡车编号**，令数组 $F = \\{c_1,c_2,...,c_m\\}$，请你最小化 $F$ 的字典序并输出 $F$。\n\n我们定义两个长度为 $len$ 的数组 $A,B$ 满足 $A$ 的字典序小于 $B$ 当且仅当存在 $0 \\leq i < len$ 满足对于任意 $1 \\leq j \\leq i$ 满足 $A_j = B_j$ 且 $A_{i+1} < B_{i+1}$。\n\n数据保证有解，保证**所有 $h_i$ 互不相同**，所有 $T_i$ 互不相同，所有 $S_i$ 互不相同。但是**可能会**存在 $i,j$ 满足 $S_i = T_j$。\n", "inputFormat": "第一行两个数 $n,m$。\n\n接下来一行 $n$ 个数表示 $h_1,h_2,...,h_n$。\n\n再接下来一行 $m$ 个数表示 $S_{1},S_{2},...,S_{m}$。\n\n再接下来一行 $m$ 个数表示 $T_{1},T_{2},...,T_{m}$。\n\n", "outputFormat": "输出一行 $m$ 个数表示 $F$。", "hint": "**本题采用捆绑测试**。\n\n| 子任务编号 | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $n,m \\leq 50$ | $10$ |\n| $2$ | 对于任意 $1 < i \\leq n$ 满足 $h_i < h_{i-1}$ | $25$ |\n| $3$ | $n,m \\leq 10^3$ | $25$ |\n| $4$ | 无特殊性质 | $40$ |\n\n对于 $100\\%$ 的数据保证 $1 \\leq m \\leq n \\leq 2 \\times 10^5,0 < h_i \\leq 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P10920", "type": "P", "difficulty": 6, "samples": [["2\n10\n0110011010\n6\n01?0?0", "4\n3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "宇宙射线", "background": "感谢 @[jason_sun](https://www.luogu.com.cn/user/399762) 加强数据。\n\n宇宙射线天天乱改东西/fn。", "description": "有一个长度为 $n$ 的二进制串 $s$，你需要找到一个最长的长度为偶数的子串，使得它的前半部分和后半部分完全相同。\n\n但是因为宇宙射线攻击了这个串，有一些位置的值变得未知了。\n\n你可以把未知的值视为 $0$ 和 $1$ 的任意一个数，求出在这种情况下这个最长子串的长度。\n\n本题有多组测试。", "inputFormat": "第一行一个正整数 $t$，表示测试组数。\n\n接下来 $2t$ 行，每两行表示一组测试数据，每组测试数据第一行一个正整数 $n$，表示字符串的长度，接下来一行一个长度为 $n$ 的字符串 $s$。", "outputFormat": "$t$ 行，每行一个非负整数，表示第 $i$ 组测试的答案，由于这个串长一定是偶数，所以你只用输出它的长度除以 $2$ 的结果。", "hint": "**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | 分数 | $n,t$ | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $10$ | $n\\le 10,t=500$ | 无特殊限制 |\n| $2$ | $10$ | $n\\le1000,t=1$ | 无特殊限制 |\n| $3$ | $10$ | $n\\le 1000,t=1000$ | $A$ |\n| $4$ | $10$ | $n\\le 1000,t=1000$ | 无特殊限制 |\n| $5$ | $10$ | $n\\le 10^4,t=10$ | 无特殊限制 |\n| $6$ | $10$ | $n\\le 10^4,t=50$ | 无特殊限制 |\n| $7$ | $20$ | $n\\le 5\\times 10^4,t=2$ | 无特殊限制 |\n| $8$ | $15$ | $n\\le 10^5,t=1$ | 无特殊限制 |\n| $9$ | $5$ | $n\\le 10^5,t=5$ | 无特殊限制 |\n\n$A$：保证 $s$ 中不存在字符 `?`。\n\n保证字符串只由 `0,1,?` 三种字符组成，$1\\le n\\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "宇宙射线", "background": "感谢 @[jason_sun](https://www.luogu.com.cn/user/399762) 加强数据。\n\n宇宙射线天天乱改东西/fn。", "description": "有一个长度为 $n$ 的二进制串 $s$，你需要找到一个最长的长度为偶数的子串，使得它的前半部分和后半部分完全相同。\n\n但是因为宇宙射线攻击了这个串，有一些位置的值变得未知了。\n\n你可以把未知的值视为 $0$ 和 $1$ 的任意一个数，求出在这种情况下这个最长子串的长度。\n\n本题有多组测试。", "inputFormat": "第一行一个正整数 $t$，表示测试组数。\n\n接下来 $2t$ 行，每两行表示一组测试数据，每组测试数据第一行一个正整数 $n$，表示字符串的长度，接下来一行一个长度为 $n$ 的字符串 $s$。", "outputFormat": "$t$ 行，每行一个非负整数，表示第 $i$ 组测试的答案，由于这个串长一定是偶数，所以你只用输出它的长度除以 $2$ 的结果。", "hint": "**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | 分数 | $n,t$ | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $10$ | $n\\le 10,t=500$ | 无特殊限制 |\n| $2$ | $10$ | $n\\le1000,t=1$ | 无特殊限制 |\n| $3$ | $10$ | $n\\le 1000,t=1000$ | $A$ |\n| $4$ | $10$ | $n\\le 1000,t=1000$ | 无特殊限制 |\n| $5$ | $10$ | $n\\le 10^4,t=10$ | 无特殊限制 |\n| $6$ | $10$ | $n\\le 10^4,t=50$ | 无特殊限制 |\n| $7$ | $20$ | $n\\le 5\\times 10^4,t=2$ | 无特殊限制 |\n| $8$ | $15$ | $n\\le 10^5,t=1$ | 无特殊限制 |\n| $9$ | $5$ | $n\\le 10^5,t=5$ | 无特殊限制 |\n\n$A$：保证 $s$ 中不存在字符 `?`。\n\n保证字符串只由 `0,1,?` 三种字符组成，$1\\le n\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10921", "type": "P", "difficulty": 3, "samples": [["2\n3\n1 2\n2 3\n7\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7", "1 2 3\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Happybob's Puzzle (UBC001A)", "background": "", "description": "给定一棵有 $n$ 个点的树，每条边的长度都是 $1$，你需要构造一个 $1\\sim n$ 的排列 $p$，满足以下条件：\n\n- 对于每个满足 $1\\le i<n$ 的整数 $i$，点 $p_i$ 到点 $p_{i+1}$ 的简单路径长度为奇数。\n\n如果有解，请输出字典序最小的排列 $p$；否则，输出 $-1$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个正整数 $t$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行，一个正整数 $n$。\n\n接下来的 $n-1$ 行，每行两个正整数 $u,v$，表示点 $u,v$ 之间有一条边。", "outputFormat": "$t$ 行，每行 $n$ 个正整数或一个整数 $-1$，表示该组测试数据的答案。", "hint": "**数据范围**\n\n对于所有数据，都有 $1\\le t,n,\\sum n\\le 10^5$，保证有 $1 \\leq u, v \\leq n$ 且 $u \\neq v$。保证输入构成一棵树。其中 $\\sum n$ 表示所有测试数据的 $n$ 的总和。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Happybob's Puzzle (UBC001A)", "background": "", "description": "给定一棵有 $n$ 个点的树，每条边的长度都是 $1$，你需要构造一个 $1\\sim n$ 的排列 $p$，满足以下条件：\n\n- 对于每个满足 $1\\le i<n$ 的整数 $i$，点 $p_i$ 到点 $p_{i+1}$ 的简单路径长度为奇数。\n\n如果有解，请输出字典序最小的排列 $p$；否则，输出 $-1$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个正整数 $t$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行，一个正整数 $n$。\n\n接下来的 $n-1$ 行，每行两个正整数 $u,v$，表示点 $u,v$ 之间有一条边。", "outputFormat": "$t$ 行，每行 $n$ 个正整数或一个整数 $-1$，表示该组测试数据的答案。", "hint": "**数据范围**\n\n对于所有数据，都有 $1\\le t,n,\\sum n\\le 10^5$，保证有 $1 \\leq u, v \\leq n$ 且 $u \\neq v$。保证输入构成一棵树。其中 $\\sum n$ 表示所有测试数据的 $n$ 的总和。", "locale": "zh-CN"}}}
{"pid": "P10922", "type": "P", "difficulty": 3, "samples": [["2\n3\n1 2 3\n4\n114 514 1919 810", "3\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "O2优化", "排序"], "title": "Happybob's Numbers (UBC001B)", "background": "", "description": "happybob 在地上有 $n$ 个数，第 $i$ 个记为 $a_i$。happybob 正在研究如何将这些数全部删除。在他开始进行所有操作以前，他有一次按任意顺序摆放这些数的机会。他接下来要按照如下方式进行删数：\n\n- happybob 有一个删数下标 $h$（初始时 $h=1$），他会设立一个新变量 $H$，其值为 $a_h$ ，然后对于每一个满足 $h\\le i<k$ 的正整数 $i$ 都执行 $a_i\\gets a_{i+1}$（这里 $k$ 是当前地上剩余的数的个数）并删除数 $a_k$，在这之后他会把 $h$ 赋值为 $H$。\n\n- **如果在任何一次操作过后，$h$ 严格大于当前地上剩余的数的个数，那么他将不能再删除任何数。**\n\n当然以他的这种删数方式不一定可以删完所有数，所以他现在想问你：他最多能删除多少个数？", "inputFormat": "第一行，一个正整数 $t$，表示测试数据组数。\n\n对于每组数据：\n\n第一行，一个正整数 $n$，表示 $a$ 的大小；\n\n第二行，$n$ 个正整数表示 $a$ 中的元素。\n", "outputFormat": "$t$ 行，每行一个正整数，表示该组测试数据对应的答案。\n", "hint": "#### 样例解释\n\n对于第一个数据点，happybob 可以把 $a$ 数组排序为 $[2, 3, 1]$。以下是删数过程：\n\n| 操作次数 | $h$（操作完成后） | 地上的数（操作完成后） |\n| -- | -- | -- |\n| 初始 | $1$ | $[2, 3, 1]$ |\n| $1$ | $2$ | $[3, 1]$ |\n| $2$ | $1$ | $[3]$ |\n| $3$ | $3$ | $[]$ |\n\n地上没有数了，也就是一共删除了 $3$ 个数。\n\n对于第二个数据点，可以证明，无论怎么排序 $a$，都只能删除一个数。\n\n#### 数据范围\n\n**本题有多组测试数据。**\n\n对于 $100\\%$ 的数据，保证 $1 \\le t,n,\\sum n\\le 5 \\times 10^5$，$1\\le a_i\\le 10^9$。其中 $\\sum n$ 表示所有测试数据中 $n$ 的和。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Happybob's Numbers (UBC001B)", "background": "", "description": "happybob 在地上有 $n$ 个数，第 $i$ 个记为 $a_i$。happybob 正在研究如何将这些数全部删除。在他开始进行所有操作以前，他有一次按任意顺序摆放这些数的机会。他接下来要按照如下方式进行删数：\n\n- happybob 有一个删数下标 $h$（初始时 $h=1$），他会设立一个新变量 $H$，其值为 $a_h$ ，然后对于每一个满足 $h\\le i<k$ 的正整数 $i$ 都执行 $a_i\\gets a_{i+1}$（这里 $k$ 是当前地上剩余的数的个数）并删除数 $a_k$，在这之后他会把 $h$ 赋值为 $H$。\n\n- **如果在任何一次操作过后，$h$ 严格大于当前地上剩余的数的个数，那么他将不能再删除任何数。**\n\n当然以他的这种删数方式不一定可以删完所有数，所以他现在想问你：他最多能删除多少个数？", "inputFormat": "第一行，一个正整数 $t$，表示测试数据组数。\n\n对于每组数据：\n\n第一行，一个正整数 $n$，表示 $a$ 的大小；\n\n第二行，$n$ 个正整数表示 $a$ 中的元素。\n", "outputFormat": "$t$ 行，每行一个正整数，表示该组测试数据对应的答案。\n", "hint": "#### 样例解释\n\n对于第一个数据点，happybob 可以把 $a$ 数组排序为 $[2, 3, 1]$。以下是删数过程：\n\n| 操作次数 | $h$（操作完成后） | 地上的数（操作完成后） |\n| -- | -- | -- |\n| 初始 | $1$ | $[2, 3, 1]$ |\n| $1$ | $2$ | $[3, 1]$ |\n| $2$ | $1$ | $[3]$ |\n| $3$ | $3$ | $[]$ |\n\n地上没有数了，也就是一共删除了 $3$ 个数。\n\n对于第二个数据点，可以证明，无论怎么排序 $a$，都只能删除一个数。\n\n#### 数据范围\n\n**本题有多组测试数据。**\n\n对于 $100\\%$ 的数据，保证 $1 \\le t,n,\\sum n\\le 5 \\times 10^5$，$1\\le a_i\\le 10^9$。其中 $\\sum n$ 表示所有测试数据中 $n$ 的和。", "locale": "zh-CN"}}}
{"pid": "P10923", "type": "P", "difficulty": 4, "samples": [["3\n1 1 3 3\n011\n011\n000", "2"], ["3\n1 1 3 3\n011\n111\n110", "inf"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Happybob's Pencil Case (UBC001C)", "background": "注：本题无 typo。", "description": "假设教室是一个 $n \\times n$ 的 `01` 矩阵，`0` 表示空，`1` 表示有课桌（障碍）。\n\n现在 Cuazyoxi 拿着 Happybob's Pencil Case 在 $(x_1, y_1)$ 处，Happybob 在 $(x_2, y_2)$ 处。\n\n我们定义一次移动为往当前格子的上下左右一格移动。形式化地，假设当前一人（Cuazyoxi 或 Happybob）在 $(x, y)$ 处，如果 $(x + 1, y), (x, y + 1), (x - 1, y), (x, y - 1)$ 当中的某一个存在且不是障碍，则他可以移动到那一格。\n\n每秒，Cuazyoxi 先移动一次或不动，然后 Happybob 移动一次或两次或者不动，每次移动后他们都知道对方的位置。\n\n双方都很聪明。Cuazyoxi 想要让 Happybob 抓到他的时间尽量久，而 Happybob 想要尽早抓到 Cuazyoxi。\n\n问：Cuazyoxi 还能躲避 Happybob 多少秒（Happybob 至少要多少秒后才能和 Cuazyoxi 达到同一个格子）？\n", "inputFormat": "第一行，一个正整数 $n$，表示教室大小。\n\n第二行，四个正整数 $x_1,y_1,x_2,y_2$，表示 Cuazyoxi 与 Happybob 的起点。\n\n接下来 $n$ 行，每行一个长度为 $n$ 的字符串 $S$，这 $n$ 行的字符串构成一个 `01` 矩阵。\n", "outputFormat": "如果 Cuazyoxi 迟早会被抓到，输出他被抓到的时间，否则输出 `inf`。", "hint": "**样例说明**\n\n对于样例 $1$，Cuazyoxi 的最优策略显然是呆在原地不动，$2$ 秒后 Happybob 可以抓到他。\n\n对于样例 $2$，无论如何 Happybob 都抓不到 Cuazyoxi。\n\n**数据范围**\n\n$2\\le n\\le 10$ 且 $1 \\le x_1, x_2, y_1, y_2 \\le n$。保证 $(x_1,y_1),(x_2,y_2)$ 上的数字是 `0` 且 $x_1\\ne x_2$ 或 $y_1\\ne y_2$。保证输入的 $n$ 个字符串长度都是 $n$ 且只含字符 `0` 与 `1`（可能只含 `1` 或只含 `0`）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Happybob's Pencil Case (UBC001C)", "background": "注：本题无 typo。", "description": "假设教室是一个 $n \\times n$ 的 `01` 矩阵，`0` 表示空，`1` 表示有课桌（障碍）。\n\n现在 Cuazyoxi 拿着 Happybob's Pencil Case 在 $(x_1, y_1)$ 处，Happybob 在 $(x_2, y_2)$ 处。\n\n我们定义一次移动为往当前格子的上下左右一格移动。形式化地，假设当前一人（Cuazyoxi 或 Happybob）在 $(x, y)$ 处，如果 $(x + 1, y), (x, y + 1), (x - 1, y), (x, y - 1)$ 当中的某一个存在且不是障碍，则他可以移动到那一格。\n\n每秒，Cuazyoxi 先移动一次或不动，然后 Happybob 移动一次或两次或者不动，每次移动后他们都知道对方的位置。\n\n双方都很聪明。Cuazyoxi 想要让 Happybob 抓到他的时间尽量久，而 Happybob 想要尽早抓到 Cuazyoxi。\n\n问：Cuazyoxi 还能躲避 Happybob 多少秒（Happybob 至少要多少秒后才能和 Cuazyoxi 达到同一个格子）？\n", "inputFormat": "第一行，一个正整数 $n$，表示教室大小。\n\n第二行，四个正整数 $x_1,y_1,x_2,y_2$，表示 Cuazyoxi 与 Happybob 的起点。\n\n接下来 $n$ 行，每行一个长度为 $n$ 的字符串 $S$，这 $n$ 行的字符串构成一个 `01` 矩阵。\n", "outputFormat": "如果 Cuazyoxi 迟早会被抓到，输出他被抓到的时间，否则输出 `inf`。", "hint": "**样例说明**\n\n对于样例 $1$，Cuazyoxi 的最优策略显然是呆在原地不动，$2$ 秒后 Happybob 可以抓到他。\n\n对于样例 $2$，无论如何 Happybob 都抓不到 Cuazyoxi。\n\n**数据范围**\n\n$2\\le n\\le 10$ 且 $1 \\le x_1, x_2, y_1, y_2 \\le n$。保证 $(x_1,y_1),(x_2,y_2)$ 上的数字是 `0` 且 $x_1\\ne x_2$ 或 $y_1\\ne y_2$。保证输入的 $n$ 个字符串长度都是 $n$ 且只含字符 `0` 与 `1`（可能只含 `1` 或只含 `0`）。", "locale": "zh-CN"}}}
{"pid": "P10924", "type": "P", "difficulty": 4, "samples": [["2 10\n29 5\n7 2\n1 2 3\n2 1 3\n3\n1 1 1\n1 2 1\n2 1 1\n2 2 1\n3\n2 1 2\n3", "3\n-1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "堆", "O2优化"], "title": "Happybob's Game (UBC001D)", "background": "", "description": "**注：本题中所有 $i,j$ 均默认 $1\\le i,j\\le n$ 且 $i\\not = j$。**\n\nHappybob 的游戏角色正在进行战争。\n\n他有 $n$ 个部队，每个部队有 $a_i$ 个人，并且有消耗值 $m_i$，表示每过 $1$ 分钟第 $i$ 个部队的人会变成 $⌊\\frac{a_i}{m_i}⌋$，一旦其中一支部队人数变成 $0$，Happybob 就失败了。设一开始为第 $0$ 分钟，定义存活时间为 Happybob 的其中一支部队人数变成 $0$ 的上一分钟。**可参考样例解释。**\n\n但是 Happybob 不甘就这样就被消灭，他想到了好办法：他可以在**任意不是整数分钟**的时间将一个部队的人调一部分到另一个部队。形式化来说，取两支军队 $a_i, a_j$ 以及一个调换人数 $x$ 满足 $1\\le x\\le a_i$，使 $a_i,a_j$ 分别变成 $a_i-x,a_j+x$。注意，在两个整数分钟间，他可以调换任意多次。\n\nHappybob 发现，这样可以有效地提升部队存活时间。现在你作为 Happybob 最信任的参谋长，你可以帮他调兵遣将。\n\n接下来给你 $q$ 次操作，每次操作是以下操作中的一个：\n\n- 操作 $1$，形如 `1 i x`，表示 Happybob 的第 $i$ 支部队的人数 $a_i$ 变成了 $x$ （$1\\le x\\le 10^9$）。\n- 操作 $2$，形如 `2 i x`，表示 Happybob 的第 $i$ 支部队的消耗值 $m_i$ 变成了 $x$（$1\\le x\\le 10^6$）。\n- 操作 $3$，形如 `3`，表示让你输出 Happybob 理论上通过上述调兵遣将法最久的存活时间。注意，此操作**不会**改变 $a_i$ 或 $m_i$ 的值。\n", "inputFormat": "第一行，两个正整数 $n,q$。\n\n接下来两行，每行 $n$ 个正整数，分别表示 $a$ 数组与 $m$ 数组。\n\n接下来 $q$ 行，每行都是上述三种操作之一。\n", "outputFormat": "假设共有 $opt$ 次操作 $3$，那么你的答案应该有 $opt$ 行，每行表示当前状态下 Happybob 的最长可能存活时间。如果 Happybob 的军队可以无限地活下去，输出 `-1`。\n", "hint": "### 样例说明\n\n对于第一个操作 $3$，Happybob 可以这样调动军队：\n\n| 时刻（分） | 第一支军队人数 | 第二支军队人数 |\n| :----------: | :----------: | :----------: |\n| $0$ | $29$ | $3$ |\n| $0.5$ | $10$ | $22$ |\n| $1$ | $3$ | $11$ |\n| $1.5$ | $6$ | $8$ |\n| $2$ | $2$ | $4$ |\n| $2.5$ | $3$ | $3$ |\n| $3$ | $1$ | $1$ |\n| $3.5$ | $1$ | $1$ |\n| $4$ | $0$ | $0$ |\n\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\le n \\le 5\\times 10^6$，$1\\le q \\le 10^5$。保证对于所有 $a_i,m_i$，$1\\le a_i\\le 10^9$，$1\\le m_i\\le 10^6$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Happybob's Game (UBC001D)", "background": "", "description": "**注：本题中所有 $i,j$ 均默认 $1\\le i,j\\le n$ 且 $i\\not = j$。**\n\nHappybob 的游戏角色正在进行战争。\n\n他有 $n$ 个部队，每个部队有 $a_i$ 个人，并且有消耗值 $m_i$，表示每过 $1$ 分钟第 $i$ 个部队的人会变成 $⌊\\frac{a_i}{m_i}⌋$，一旦其中一支部队人数变成 $0$，Happybob 就失败了。设一开始为第 $0$ 分钟，定义存活时间为 Happybob 的其中一支部队人数变成 $0$ 的上一分钟。**可参考样例解释。**\n\n但是 Happybob 不甘就这样就被消灭，他想到了好办法：他可以在**任意不是整数分钟**的时间将一个部队的人调一部分到另一个部队。形式化来说，取两支军队 $a_i, a_j$ 以及一个调换人数 $x$ 满足 $1\\le x\\le a_i$，使 $a_i,a_j$ 分别变成 $a_i-x,a_j+x$。注意，在两个整数分钟间，他可以调换任意多次。\n\nHappybob 发现，这样可以有效地提升部队存活时间。现在你作为 Happybob 最信任的参谋长，你可以帮他调兵遣将。\n\n接下来给你 $q$ 次操作，每次操作是以下操作中的一个：\n\n- 操作 $1$，形如 `1 i x`，表示 Happybob 的第 $i$ 支部队的人数 $a_i$ 变成了 $x$ （$1\\le x\\le 10^9$）。\n- 操作 $2$，形如 `2 i x`，表示 Happybob 的第 $i$ 支部队的消耗值 $m_i$ 变成了 $x$（$1\\le x\\le 10^6$）。\n- 操作 $3$，形如 `3`，表示让你输出 Happybob 理论上通过上述调兵遣将法最久的存活时间。注意，此操作**不会**改变 $a_i$ 或 $m_i$ 的值。\n", "inputFormat": "第一行，两个正整数 $n,q$。\n\n接下来两行，每行 $n$ 个正整数，分别表示 $a$ 数组与 $m$ 数组。\n\n接下来 $q$ 行，每行都是上述三种操作之一。\n", "outputFormat": "假设共有 $opt$ 次操作 $3$，那么你的答案应该有 $opt$ 行，每行表示当前状态下 Happybob 的最长可能存活时间。如果 Happybob 的军队可以无限地活下去，输出 `-1`。\n", "hint": "### 样例说明\n\n对于第一个操作 $3$，Happybob 可以这样调动军队：\n\n| 时刻（分） | 第一支军队人数 | 第二支军队人数 |\n| :----------: | :----------: | :----------: |\n| $0$ | $29$ | $3$ |\n| $0.5$ | $10$ | $22$ |\n| $1$ | $3$ | $11$ |\n| $1.5$ | $6$ | $8$ |\n| $2$ | $2$ | $4$ |\n| $2.5$ | $3$ | $3$ |\n| $3$ | $1$ | $1$ |\n| $3.5$ | $1$ | $1$ |\n| $4$ | $0$ | $0$ |\n\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\le n \\le 5\\times 10^6$，$1\\le q \\le 10^5$。保证对于所有 $a_i,m_i$，$1\\le a_i\\le 10^9$，$1\\le m_i\\le 10^6$。\n\n", "locale": "zh-CN"}}}
{"pid": "P10925", "type": "P", "difficulty": 4, "samples": [["3\n5 1\n6 2\n8 2", "9\n20\n32"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Happybob's Pancake (UBC001E)", "background": "", "description": "Happybob 想做一块煎饼，他决定在一个 $n$ 行 $n$ 列的斜正方形的锅里做一个煎饼，所以煎饼的大小不能超过斜正方形的大小。\n\n由于原料有限，因此 Happybob 的煎饼必须是 $m$ 个长方形覆盖而成的。\n\nHappybob 想知道，他能制作出的最大的煎饼的面积是多少。\n\n---\n\n**形式化题意：**\n\n用 $m$ 个长方形覆盖大小为 $n$ 的斜正方形，最多覆盖多少个格子？\n\n**斜正方形和覆盖的定义见说明/提示**。\n", "inputFormat": "第一行，一个整数 $T$，表示询问数。\n\n接下来 $T$ 行，每行两个整数 $n,m$，表示一次询问。\n", "outputFormat": "$T$ 行，每一行表示一个询问的答案。\n", "hint": "### 样例说明\n\n三次询问的方案是：\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/m8uup5uc.png)\n\n![4](https://cdn.luogu.com.cn/upload/image_hosting/70a01fpj.png)\n\n![5](https://cdn.luogu.com.cn/upload/image_hosting/lypuap4t.png)\n\n（方案不唯一）\n\n### 数据范围\n\n$1\\le T\\le 50$，$1\\le n\\le 2\\times 10^9$，$1\\le m\\le\\lceil\\dfrac{n}{2}\\rceil$。\n\n---\n\n### 形式化定义\n\n**斜正方形的定义：**\n\n更形式化地，建立直角坐标系，定义一个大小为 $n$ 的**斜正方形**的**中心**为原点。\n\n若 $n$ 为奇数，则该**斜正方形**可以描述为所有以 $\\big\\{(x, y) \\big | |x| + |y| \\le \\lfloor \\frac{n}{2} \\rfloor \\text{ and } x, y \\in \\Z\\big\\}$ 中的点为**正方形**中心的边长为 $1$ 的**正方形格子**组成的组合图形。\n\n若 $n$ 为偶数，则该**斜正方形**可以描述为所有以 $\\big\\{(x, y) \\big | |x| + |y| \\le \\frac{n}{2} \\text{ and } (x + \\frac{1}{2}), (y + \\frac{1}{2}) \\in \\Z\\big\\}$ 中的点为**正方形**中心的边长为 $1$ 的**正方形格子**组成的组合图形。\n\n一个 $n=5$ 的斜正方形（淡蓝色为格子中心）：\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/b633qef0.png)\n\n一个 $n=6$ 的斜正方形（淡蓝色为格子中心）：\n\n![2](https://cdn.luogu.com.cn/upload/image_hosting/bzq2por3.png)\n\n**覆盖方法的定义：**\n\n定义一个长方形 $R$ 覆盖该**斜正方形**，当且仅当 $R$ 为由若干**格子**组成的长方形。\n\n下面是一个覆盖斜正方形的长方形：\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/7d0jsymo.png)\n\n下面则**不是**覆盖斜正方形的长方形：\n\n![4](https://cdn.luogu.com.cn/upload/image_hosting/2e2374s3.png)\n\n![5](https://cdn.luogu.com.cn/upload/image_hosting/5j8wnvgb.png)\n\n![6](https://cdn.luogu.com.cn/upload/image_hosting/rrxxe2ps.png)\n\n定义一个**格子**被覆盖，当且仅当选择的 $m$ 个覆盖**斜正方形**的长方形中有至少一个完全包含该格子。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Happybob's Pancake (UBC001E)", "background": "", "description": "Happybob 想做一块煎饼，他决定在一个 $n$ 行 $n$ 列的斜正方形的锅里做一个煎饼，所以煎饼的大小不能超过斜正方形的大小。\n\n由于原料有限，因此 Happybob 的煎饼必须是 $m$ 个长方形覆盖而成的。\n\nHappybob 想知道，他能制作出的最大的煎饼的面积是多少。\n\n---\n\n**形式化题意：**\n\n用 $m$ 个长方形覆盖大小为 $n$ 的斜正方形，最多覆盖多少个格子？\n\n**斜正方形和覆盖的定义见说明/提示**。\n", "inputFormat": "第一行，一个整数 $T$，表示询问数。\n\n接下来 $T$ 行，每行两个整数 $n,m$，表示一次询问。\n", "outputFormat": "$T$ 行，每一行表示一个询问的答案。\n", "hint": "### 样例说明\n\n三次询问的方案是：\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/m8uup5uc.png)\n\n![4](https://cdn.luogu.com.cn/upload/image_hosting/70a01fpj.png)\n\n![5](https://cdn.luogu.com.cn/upload/image_hosting/lypuap4t.png)\n\n（方案不唯一）\n\n### 数据范围\n\n$1\\le T\\le 50$，$1\\le n\\le 2\\times 10^9$，$1\\le m\\le\\lceil\\dfrac{n}{2}\\rceil$。\n\n---\n\n### 形式化定义\n\n**斜正方形的定义：**\n\n更形式化地，建立直角坐标系，定义一个大小为 $n$ 的**斜正方形**的**中心**为原点。\n\n若 $n$ 为奇数，则该**斜正方形**可以描述为所有以 $\\big\\{(x, y) \\big | |x| + |y| \\le \\lfloor \\frac{n}{2} \\rfloor \\text{ and } x, y \\in \\Z\\big\\}$ 中的点为**正方形**中心的边长为 $1$ 的**正方形格子**组成的组合图形。\n\n若 $n$ 为偶数，则该**斜正方形**可以描述为所有以 $\\big\\{(x, y) \\big | |x| + |y| \\le \\frac{n}{2} \\text{ and } (x + \\frac{1}{2}), (y + \\frac{1}{2}) \\in \\Z\\big\\}$ 中的点为**正方形**中心的边长为 $1$ 的**正方形格子**组成的组合图形。\n\n一个 $n=5$ 的斜正方形（淡蓝色为格子中心）：\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/b633qef0.png)\n\n一个 $n=6$ 的斜正方形（淡蓝色为格子中心）：\n\n![2](https://cdn.luogu.com.cn/upload/image_hosting/bzq2por3.png)\n\n**覆盖方法的定义：**\n\n定义一个长方形 $R$ 覆盖该**斜正方形**，当且仅当 $R$ 为由若干**格子**组成的长方形。\n\n下面是一个覆盖斜正方形的长方形：\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/7d0jsymo.png)\n\n下面则**不是**覆盖斜正方形的长方形：\n\n![4](https://cdn.luogu.com.cn/upload/image_hosting/2e2374s3.png)\n\n![5](https://cdn.luogu.com.cn/upload/image_hosting/5j8wnvgb.png)\n\n![6](https://cdn.luogu.com.cn/upload/image_hosting/rrxxe2ps.png)\n\n定义一个**格子**被覆盖，当且仅当选择的 $m$ 个覆盖**斜正方形**的长方形中有至少一个完全包含该格子。\n", "locale": "zh-CN"}}}
{"pid": "P10926", "type": "P", "difficulty": 7, "samples": [["3 10 6\n0 1 0 1 0 1 0 0\nBDBDBDDBBD\n1 0 1 5\n1 0 8 10\n1 0 6 8\n2 2 4\n2 3 4\n3 1 3", "7\n8\n0\n1\n0\n2"]], "limits": {"time": [1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["O2优化"], "title": "Happybob's Magic (UBC001F)", "background": "", "description": "Happybob 正在游戏里研究一排灯，总共 $2^n$ 个，编号为 $0\\sim 2^n-1$。Happybob 有两个技能。\n\n一技能（按下 `B` 释放）释放一次，所有的灯亮变成灭，灭变成亮。\n\n二技能（按下 `D` 释放）就厉害了，每释放一次，假设释放前的所有亮着的灯的编号组成的集合是 $X$，那么对于 $X$ 的**所有 $2^{|X|}$ 个子集（包含空集）** $Y$，Happybob 会把第 $\\bigoplus(Y)$ 盏灯点亮。这里的 $|X|$ 表示 $X$ 集合的大小，$\\bigoplus(Y)$ 表示将集合 $Y$ 的所有元素进行二进制按位异或得到的结果。特别地，$\\bigoplus(\\varnothing) = 0$。\n\n现在有一个 `B`，`D` 构成的施法序列 $S(|S|=m)$（意义如上），一个灯的初始状态序列（第 $0$ 个版本）$a_0,a_1,\\cdots,a_{2^n-1}$，以及一个变量 $vid=0$。Happybob 有 $q$ 次询问，每次询问可能是：\n\n1. `1 v l r`：将 $vid$ 加 $1$，对第 $v$ 个版本依次执行 $S_l$ 到 $S_r$ 的施法操作，将结果存入第 $vid$ 个版本中，并问第 $vid$ 个版本中有多少盏灯是亮的。\n2. `2 v k`：问第 $v$ 个版本的第 $k$ 盏灯是不是亮的。是输出 $1$，否则输出 $0$。\n3. `3 v k`：设第 $v$ 个版本是从第 $v'$ 个版本执行了 $t$ 次施法操作变过来的，问有多少次施法操作之后，第 $k$ 盏灯是亮的（原来是亮的不算）。\n\n对于第三种询问，这里的 $v'$ 和 $t$ 具体定义如下：假设进行某一次第一种询问后 $vid = v$，则 $v'$ 等于那一次询问给定的 $v$，$t$ 即那一次询问给定的操作序列 $S_{l\\cdots r}$ 的长度。\n\n保证 $0\\le v\\le vid$（如果是第一个操作，则是加 $1$ 前的 $vid$；如果是第三个操作，还保证 $v>0$）。", "inputFormat": "第 $1$ 行，$3$ 个整数 $n,m,q$；\n\n第 $2$ 行，$2^n$ 个整数 $a_0,a_1,\\cdots,a_{2^n-1}$；\n\n第 $3$ 行，$1$ 个字符串 $S$（下标从 $1$ 开始），对于每个满足 $1\\le i\\le m$ 的整数 $i$，如果 $S_i$ 是 `B`，那么表示 Happybob 释放了一次一技能，否则他释放了一次二技能；\n\n接下来 $q$ 行，每行 $3$ 个或 $4$ 个非负整数，表示一个询问。", "outputFormat": "$q$ 行，第 $i$ 行一个整数，表示第 $i$ 个询问的结果。", "hint": "### 样例说明\n\n| 版本编号 | 灯的状态 |\n| --- | --- | \n| $0$ | $01010100$ | \n| $1$ | $01111111$ | \n| $2$ | $11111111$ |\n| $3$ | $00000000$ |\n\n对于最后一次询问，每次施法操作后的状态如下：\n\n| 操作 | 灯的状态 |\n| --- | --- | \n| 初始值 | $01010100$ | \n| `B` | $10101011$ | \n| `BD` | $111\\red11111$ | \n| `BDB` | $00000000$ |\n| `BDBD` | $10000000$ |\n| `BDBDB` | $011\\red11111$ |\n\n第 $3$ 盏灯亮了 $2$ 次。\n\n### 数据范围\n\n对于 $100\\%$ 的数据， $1\\le n\\le 18$，$1\\le q\\le 2\\times 10^5$，$a_i\\in\\{0, 1\\}$，$1\\le l\\le r\\le m\\le 2\\times 10^5$，$0\\le k<2^n$。保证 $S$ 中只含字符 `B` 与 `D`（可能不含 `B` 或不含 `D`），且 $S$ 的长度为 $m$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Happybob's Magic (UBC001F)", "background": "", "description": "Happybob 正在游戏里研究一排灯，总共 $2^n$ 个，编号为 $0\\sim 2^n-1$。Happybob 有两个技能。\n\n一技能（按下 `B` 释放）释放一次，所有的灯亮变成灭，灭变成亮。\n\n二技能（按下 `D` 释放）就厉害了，每释放一次，假设释放前的所有亮着的灯的编号组成的集合是 $X$，那么对于 $X$ 的**所有 $2^{|X|}$ 个子集（包含空集）** $Y$，Happybob 会把第 $\\bigoplus(Y)$ 盏灯点亮。这里的 $|X|$ 表示 $X$ 集合的大小，$\\bigoplus(Y)$ 表示将集合 $Y$ 的所有元素进行二进制按位异或得到的结果。特别地，$\\bigoplus(\\varnothing) = 0$。\n\n现在有一个 `B`，`D` 构成的施法序列 $S(|S|=m)$（意义如上），一个灯的初始状态序列（第 $0$ 个版本）$a_0,a_1,\\cdots,a_{2^n-1}$，以及一个变量 $vid=0$。Happybob 有 $q$ 次询问，每次询问可能是：\n\n1. `1 v l r`：将 $vid$ 加 $1$，对第 $v$ 个版本依次执行 $S_l$ 到 $S_r$ 的施法操作，将结果存入第 $vid$ 个版本中，并问第 $vid$ 个版本中有多少盏灯是亮的。\n2. `2 v k`：问第 $v$ 个版本的第 $k$ 盏灯是不是亮的。是输出 $1$，否则输出 $0$。\n3. `3 v k`：设第 $v$ 个版本是从第 $v'$ 个版本执行了 $t$ 次施法操作变过来的，问有多少次施法操作之后，第 $k$ 盏灯是亮的（原来是亮的不算）。\n\n对于第三种询问，这里的 $v'$ 和 $t$ 具体定义如下：假设进行某一次第一种询问后 $vid = v$，则 $v'$ 等于那一次询问给定的 $v$，$t$ 即那一次询问给定的操作序列 $S_{l\\cdots r}$ 的长度。\n\n保证 $0\\le v\\le vid$（如果是第一个操作，则是加 $1$ 前的 $vid$；如果是第三个操作，还保证 $v>0$）。", "inputFormat": "第 $1$ 行，$3$ 个整数 $n,m,q$；\n\n第 $2$ 行，$2^n$ 个整数 $a_0,a_1,\\cdots,a_{2^n-1}$；\n\n第 $3$ 行，$1$ 个字符串 $S$（下标从 $1$ 开始），对于每个满足 $1\\le i\\le m$ 的整数 $i$，如果 $S_i$ 是 `B`，那么表示 Happybob 释放了一次一技能，否则他释放了一次二技能；\n\n接下来 $q$ 行，每行 $3$ 个或 $4$ 个非负整数，表示一个询问。", "outputFormat": "$q$ 行，第 $i$ 行一个整数，表示第 $i$ 个询问的结果。", "hint": "### 样例说明\n\n| 版本编号 | 灯的状态 |\n| --- | --- | \n| $0$ | $01010100$ | \n| $1$ | $01111111$ | \n| $2$ | $11111111$ |\n| $3$ | $00000000$ |\n\n对于最后一次询问，每次施法操作后的状态如下：\n\n| 操作 | 灯的状态 |\n| --- | --- | \n| 初始值 | $01010100$ | \n| `B` | $10101011$ | \n| `BD` | $111\\red11111$ | \n| `BDB` | $00000000$ |\n| `BDBD` | $10000000$ |\n| `BDBDB` | $011\\red11111$ |\n\n第 $3$ 盏灯亮了 $2$ 次。\n\n### 数据范围\n\n对于 $100\\%$ 的数据， $1\\le n\\le 18$，$1\\le q\\le 2\\times 10^5$，$a_i\\in\\{0, 1\\}$，$1\\le l\\le r\\le m\\le 2\\times 10^5$，$0\\le k<2^n$。保证 $S$ 中只含字符 `B` 与 `D`（可能不含 `B` 或不含 `D`），且 $S$ 的长度为 $m$。", "locale": "zh-CN"}}}
{"pid": "P10927", "type": "P", "difficulty": 5, "samples": [["5 7\n1 4 1\n1 3 300\n3 1 10\n1 2 16\n2 3 100\n2 5 15\n5 3 20", "1 3 5 2\n"], ["4 3\n1 2 10\n1 3 20\n1 4 30", "No solution."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge"], "title": "Sightseeing trip", "background": "", "description": "There is a travel agency in Adelton town on Zanzibar island. It has decided to offer its clients, besides many other attractions, sightseeing the town. To earn as much as possible from this attraction, the agency has accepted a shrewd decision: it is necessary to find the shortest route which begins and ends at the same place.  Your task is to write a program which finds such a route.\n\nIn the town there are $N$ crossing points numbered from $1$ to $N$ and $M$ two-way roads numbered from $1$ to $M$.  Two crossing points can be connected by multipleroads, but no road connects a crossing point with itself.  Each sightseeingroute is a sequence of road numbers $y_1$, ..., $y_k$, $k>2$. The road $y_i(1\\le i\\le k-1)$ connects crossing points $x_i$ and $x_{i+1}$, the road $y_k$ connectscrossing points $x_k$ and $x_1$. All the numbers $x_1$,...,$x_k$ should be different.The length of the sightseeing route is the sum of the lengths of all roads onthe sightseeing route, i.e. $L(y_1)+L(y_2)+$...$+L(y_k)$ where $L(y_i)$ is thelength of the road $y_i (1\\le i\\le k)$.  Your program has to find such a sightseeingroute, the length of which is minimal, or to specify that it is not possible, because there is no sightseeing route in the town.\n", "inputFormat": "The first line of input file TRIP. IN contains two positive integers: the number of crossing points $N \\le 100$ and the number of roads $M\\le 10000$. Each of the next $M$ lines describes one road. It contains 3 positive integers: the number of its first crossing point, the number of the second one, and the length of the road (a positive integer less than $500$).", "outputFormat": "There is only one line in output file TRIP.OUT. It contains either a string 'No solution.' in case there isn't any sightseeing route, or it contains the numbers of all crossing points on the shortest sightseeing route in the order how to pass them (i.e. the numbers $x_1$ to $x_k$ from our definition of a sightseeing route), separated by single spaces. If there are multiple sightseeing routes of the minimal length, you can output any one of them.", "hint": "", "locale": "en", "translations": {"en": {"title": "Sightseeing trip", "background": "", "description": "There is a travel agency in Adelton town on Zanzibar island. It has decided to offer its clients, besides many other attractions, sightseeing the town. To earn as much as possible from this attraction, the agency has accepted a shrewd decision: it is necessary to find the shortest route which begins and ends at the same place.  Your task is to write a program which finds such a route.\n\nIn the town there are $N$ crossing points numbered from $1$ to $N$ and $M$ two-way roads numbered from $1$ to $M$.  Two crossing points can be connected by multipleroads, but no road connects a crossing point with itself.  Each sightseeingroute is a sequence of road numbers $y_1$, ..., $y_k$, $k>2$. The road $y_i(1\\le i\\le k-1)$ connects crossing points $x_i$ and $x_{i+1}$, the road $y_k$ connectscrossing points $x_k$ and $x_1$. All the numbers $x_1$,...,$x_k$ should be different.The length of the sightseeing route is the sum of the lengths of all roads onthe sightseeing route, i.e. $L(y_1)+L(y_2)+$...$+L(y_k)$ where $L(y_i)$ is thelength of the road $y_i (1\\le i\\le k)$.  Your program has to find such a sightseeingroute, the length of which is minimal, or to specify that it is not possible, because there is no sightseeing route in the town.\n", "inputFormat": "The first line of input file TRIP. IN contains two positive integers: the number of crossing points $N \\le 100$ and the number of roads $M\\le 10000$. Each of the next $M$ lines describes one road. It contains 3 positive integers: the number of its first crossing point, the number of the second one, and the length of the road (a positive integer less than $500$).", "outputFormat": "There is only one line in output file TRIP.OUT. It contains either a string 'No solution.' in case there isn't any sightseeing route, or it contains the numbers of all crossing points on the shortest sightseeing route in the order how to pass them (i.e. the numbers $x_1$ to $x_k$ from our definition of a sightseeing route), separated by single spaces. If there are multiple sightseeing routes of the minimal length, you can output any one of them.", "hint": "", "locale": "en"}, "zh-CN": {"title": "Sightseeing trip", "background": "", "description": "在桑给巴尔岛的阿德尔顿镇，有一家旅行社。除了许多其他景点外，这家旅行社决定为其客户提供该镇的观光旅游。为了从这个项目中获得尽可能多的收益，旅行社做出了一个精明的决定：需要找到一条始于同一地点并结束于同一地点的最短路线。你的任务是编写一个程序来找到这样的一条路线。\n\n在该镇有 $N$ 个编号为 1 到 $N$ 的交叉点，以及 $M$ 条编号为 1 到 $M$ 的双向道路。两个交叉点可以通过多条道路连接，但没有道路连接同一个交叉点。每条观光路线是由道路编号 $y_1$, ..., $y_k$ 组成的序列，其中 $k > 2$。道路 $y_i (1 \\le i \\le k-1)$ 连接交叉点 $x_i$ 和 $x_{i+1}$，道路 $y_k$ 连接交叉点 $x_k$ 和 $x_1$。所有的交叉点编号 $x_1$, ..., $x_k$ 应该是不同的。观光路线的长度是该路线所有道路长度的总和，即 $L(y_1)+L(y_2)+...+L(y_k)$，其中 $L(y_i)$ 是道路 $y_i (1 \\le i \\le k)$ 的长度。你的程序需要找到这样一条观光路线，使其长度最小，或者指明不可能找到这样的路线，因为该镇中没有任何观光路线。", "inputFormat": "输入第一行包含两个正整数：交叉点的数量 $N \\le 100$ 和道路的数量 $M \\le 10000$。接下来的 $M$ 行每行描述一条道路。每行包含三个正整数：第一个交叉点的编号，第二个交叉点的编号，以及道路的长度（小于 500 的正整数）。", "outputFormat": "输出只有一行。如果没有任何观光路线，则输出字符串 “No solution.”；否则，输出最短观光路线中所有交叉点的编号，按通过的顺序排列（即从定义中的 $x_1$ 到 $x_k$），编号之间用单个空格分隔。如果有多个长度相同的观光路线，可以输出其中任意一条。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10928", "type": "P", "difficulty": 4, "samples": [["2\n3\n1 2 2\n1 3 3\n4\n1 2 3\n2 3 4\n3 4 5 ", "4\n17"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "并查集", "生成树"], "title": "走廊泼水节", "background": "", "description": "给定一棵 $N$ 个节点的树，要求增加若干条边，把这棵树扩充为完全图，并满足图的唯一最小生成树仍然是这棵树。\n\n求增加的边的权值总和最小是多少。\n\n**注意：** 树中的所有边权均为整数，且新加的所有边权也必须为整数。", "inputFormat": "第一行包含整数 $t$，表示共有 $t$ 组测试数据。\n\n对于每组测试数据，第一行包含整数 $N$。\n\n接下来 $N-1$ 行，每行三个整数 $X,Y,Z$，表示 $X$ 节点与 $Y$ 节点之间存在一条边，长度为 $Z$。", "outputFormat": "每组数据输出一个整数，表示权值总和最小值。\n\n每个结果占一行。", "hint": "数据保证，$1\\leq t\\leq 10$，$1 \\le N \\le 6000$，$1 \\le Z \\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "走廊泼水节", "background": "", "description": "给定一棵 $N$ 个节点的树，要求增加若干条边，把这棵树扩充为完全图，并满足图的唯一最小生成树仍然是这棵树。\n\n求增加的边的权值总和最小是多少。\n\n**注意：** 树中的所有边权均为整数，且新加的所有边权也必须为整数。", "inputFormat": "第一行包含整数 $t$，表示共有 $t$ 组测试数据。\n\n对于每组测试数据，第一行包含整数 $N$。\n\n接下来 $N-1$ 行，每行三个整数 $X,Y,Z$，表示 $X$ 节点与 $Y$ 节点之间存在一条边，长度为 $Z$。", "outputFormat": "每组数据输出一个整数，表示权值总和最小值。\n\n每个结果占一行。", "hint": "数据保证，$1\\leq t\\leq 10$，$1 \\le N \\le 6000$，$1 \\le Z \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P10929", "type": "P", "difficulty": 4, "samples": [["3 3\n1 2 2\n1 3 1\n2 3 1", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "最短路"], "title": "黑暗城堡", "background": "", "description": "在顺利攻破 Lord lsp 的防线之后，lqr 一行人来到了 Lord lsp 的城堡下方。\n\nLord lsp 黑化之后虽然拥有了强大的超能力，能够用意念力制造建筑物，但是智商水平却没怎么增加。\n\n现在 lqr 已经搞清楚黑暗城堡有 $N$ 个房间，$M$ 条可以制造的双向通道，以及每条通道的长度。\n\nlqr 深知 Lord lsp 的想法，为了避免每次都要琢磨两个房间之间的最短路径，Lord lsp 一定会把城堡修建成树形的。\n\n但是，为了尽量提高自己的移动效率，Lord lsp 一定会使得城堡满足下面的条件：\n\n设 $D[i]$ 为如果所有的通道都被修建，第 $i$ 号房间与第 $1$ 号房间的最短路径长度；而 $S[i]$ 为实际修建的树形城堡中第 $i$ 号房间与第 $1$ 号房间的路径长度；要求对于所有整数 $i$，有 $S[i]=D[i]$ 成立。\n\n为了打败 Lord lsp，lqr 想知道有多少种不同的城堡修建方案。\n\n保证至少存在一种可行的城堡修建方案。\n\n你需要输出答案对 $2^{31}–1$ 取模之后的结果。", "inputFormat": "第一行有两个整数 $N$ 和 $M$。\n\n之后 $M$ 行，每行三个整数 $X，Y$ 和 $L$，表示可以修建 $X$ 和 $Y$ 之间的一条长度为 $L$ 的通道。", "outputFormat": "一个整数，表示答案对 $2^{31}–1$ 取模之后的结果。\n", "hint": "数据保证，$2 \\le N \\le 1000$，$N-1 \\le M \\le N(N-1)/2$，$1 \\le L \\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "黑暗城堡", "background": "", "description": "在顺利攻破 Lord lsp 的防线之后，lqr 一行人来到了 Lord lsp 的城堡下方。\n\nLord lsp 黑化之后虽然拥有了强大的超能力，能够用意念力制造建筑物，但是智商水平却没怎么增加。\n\n现在 lqr 已经搞清楚黑暗城堡有 $N$ 个房间，$M$ 条可以制造的双向通道，以及每条通道的长度。\n\nlqr 深知 Lord lsp 的想法，为了避免每次都要琢磨两个房间之间的最短路径，Lord lsp 一定会把城堡修建成树形的。\n\n但是，为了尽量提高自己的移动效率，Lord lsp 一定会使得城堡满足下面的条件：\n\n设 $D[i]$ 为如果所有的通道都被修建，第 $i$ 号房间与第 $1$ 号房间的最短路径长度；而 $S[i]$ 为实际修建的树形城堡中第 $i$ 号房间与第 $1$ 号房间的路径长度；要求对于所有整数 $i$，有 $S[i]=D[i]$ 成立。\n\n为了打败 Lord lsp，lqr 想知道有多少种不同的城堡修建方案。\n\n保证至少存在一种可行的城堡修建方案。\n\n你需要输出答案对 $2^{31}–1$ 取模之后的结果。", "inputFormat": "第一行有两个整数 $N$ 和 $M$。\n\n之后 $M$ 行，每行三个整数 $X，Y$ 和 $L$，表示可以修建 $X$ 和 $Y$ 之间的一条长度为 $L$ 的通道。", "outputFormat": "一个整数，表示答案对 $2^{31}–1$ 取模之后的结果。\n", "hint": "数据保证，$2 \\le N \\le 1000$，$N-1 \\le M \\le N(N-1)/2$，$1 \\le L \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P10930", "type": "P", "difficulty": 6, "samples": [["6\n1 2 1\n1 3 5\n4 1 7\n4 5 3\n6 4 2\n10\n+ 3\n+ 1\n?\n+ 6\n?\n+ 5\n?\n- 6\n- 3\n?", "5\n14\n17\n10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["最近公共祖先 LCA"], "title": "异象石", "background": "", "description": "Adera 是 Microsoft 应用商店中的一款解谜游戏。\n\n异象石是进入 Adera 中异时空的引导物，在 Adera 的异时空中有一张地图。\n\n这张地图上有 $N$ 个点，有 $N-1$ 条双向边把它们连通起来。\n\n起初地图上没有任何异象石，在接下来的 $M$ 个时刻中，每个时刻会发生以下三种类型的事件之一：\n\n  1. 地图的某个点上出现了异象石（已经出现的不会再次出现）；\n  2. 地图某个点上的异象石被摧毁（不会摧毁没有异象石的点）；\n  3. 向玩家询问使所有异象石所在的点连通的边集的总长度最小是多少。\n\n请你作为玩家回答这些问题。", "inputFormat": "第一行有一个整数 $N$，表示点的个数。\n\n接下来 $N-1$ 行每行三个整数 $x,y,z$，表示点 $x$ 和 $y$ 之间有一条长度为 $z$ 的双向边。\n\n第 $N+1$ 行有一个正整数 $M$。\n\n接下来 $M$ 行每行是一个事件，事件是以下三种格式之一：\n\n  * `+ x` 表示点 $x$ 上出现了异象石\n  * `- x` 表示点 $x$ 上的异象石被摧毁\n  * `?` 表示询问使当前所有异象石所在的点连通所需的边集的总长度最小是多少。", "outputFormat": "对于每个 `?` 事件，输出一个整数表示答案。\n", "hint": "数据保证，$1 \\le N,M \\le 10^5$，$1 \\le x,y \\le N$，$x \\neq y$，$1 \\le z \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "异象石", "background": "", "description": "Adera 是 Microsoft 应用商店中的一款解谜游戏。\n\n异象石是进入 Adera 中异时空的引导物，在 Adera 的异时空中有一张地图。\n\n这张地图上有 $N$ 个点，有 $N-1$ 条双向边把它们连通起来。\n\n起初地图上没有任何异象石，在接下来的 $M$ 个时刻中，每个时刻会发生以下三种类型的事件之一：\n\n  1. 地图的某个点上出现了异象石（已经出现的不会再次出现）；\n  2. 地图某个点上的异象石被摧毁（不会摧毁没有异象石的点）；\n  3. 向玩家询问使所有异象石所在的点连通的边集的总长度最小是多少。\n\n请你作为玩家回答这些问题。", "inputFormat": "第一行有一个整数 $N$，表示点的个数。\n\n接下来 $N-1$ 行每行三个整数 $x,y,z$，表示点 $x$ 和 $y$ 之间有一条长度为 $z$ 的双向边。\n\n第 $N+1$ 行有一个正整数 $M$。\n\n接下来 $M$ 行每行是一个事件，事件是以下三种格式之一：\n\n  * `+ x` 表示点 $x$ 上出现了异象石\n  * `- x` 表示点 $x$ 上的异象石被摧毁\n  * `?` 表示询问使当前所有异象石所在的点连通所需的边集的总长度最小是多少。", "outputFormat": "对于每个 `?` 事件，输出一个整数表示答案。\n", "hint": "数据保证，$1 \\le N,M \\le 10^5$，$1 \\le x,y \\le N$，$x \\neq y$，$1 \\le z \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10931", "type": "P", "difficulty": 4, "samples": [["4 1\n1 2\n2 3\n1 4\n3 4", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["最近公共祖先 LCA", "树链剖分", "差分"], "title": "闇の連鎖", "background": "", "description": "传说中的暗之连锁被人们称为 Dark。\n\nDark 是人类内心的黑暗的产物，古今中外的勇者们都试图打倒它。\n\n经过研究，你发现 Dark 呈现无向图的结构，图中有 $N$ 个节点和两类边，一类边被称为主要边，而另一类被称为附加边。\n\nDark 有 $N - 1$ 条主要边，并且 Dark 的任意两个节点之间都存在一条只由主要边构成的路径。\n\n另外，Dark 还有 $M$ 条附加边。 \n\n你的任务是把 Dark 斩为不连通的两部分。\n\n一开始 Dark 的附加边都处于无敌状态，你只能选择一条主要边切断。\n\n一旦你切断了一条主要边，Dark 就会进入防御模式，主要边会变为无敌的而附加边可以被切断。\n\n但是你的能力只能再切断 Dark 的一条附加边。\n\n现在你想要知道，一共有多少种方案可以击败 Dark。\n\n注意，就算你第一步切断主要边之后就已经把 Dark 斩为两截，你也需要切断一条附加边才算击败了 Dark。", "inputFormat": "第一行包含两个整数 $N$ 和 $M$。 \n\n之后 $N - 1$ 行，每行包括两个整数 $A$ 和 $B$，表示 $A$ 和 $B$ 之间有一条主要边。 \n\n之后 $M$ 行以同样的格式给出附加边。", "outputFormat": "输出一个整数表示答案。", "hint": "数据保证，$1\\le N \\le 100000$，$1\\le M \\le 200000$，数据保证答案不超过 $2^{31}-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "闇の連鎖", "background": "", "description": "传说中的暗之连锁被人们称为 Dark。\n\nDark 是人类内心的黑暗的产物，古今中外的勇者们都试图打倒它。\n\n经过研究，你发现 Dark 呈现无向图的结构，图中有 $N$ 个节点和两类边，一类边被称为主要边，而另一类被称为附加边。\n\nDark 有 $N - 1$ 条主要边，并且 Dark 的任意两个节点之间都存在一条只由主要边构成的路径。\n\n另外，Dark 还有 $M$ 条附加边。 \n\n你的任务是把 Dark 斩为不连通的两部分。\n\n一开始 Dark 的附加边都处于无敌状态，你只能选择一条主要边切断。\n\n一旦你切断了一条主要边，Dark 就会进入防御模式，主要边会变为无敌的而附加边可以被切断。\n\n但是你的能力只能再切断 Dark 的一条附加边。\n\n现在你想要知道，一共有多少种方案可以击败 Dark。\n\n注意，就算你第一步切断主要边之后就已经把 Dark 斩为两截，你也需要切断一条附加边才算击败了 Dark。", "inputFormat": "第一行包含两个整数 $N$ 和 $M$。 \n\n之后 $N - 1$ 行，每行包括两个整数 $A$ 和 $B$，表示 $A$ 和 $B$ 之间有一条主要边。 \n\n之后 $M$ 行以同样的格式给出附加边。", "outputFormat": "输出一个整数表示答案。", "hint": "数据保证，$1\\le N \\le 100000$，$1\\le M \\le 200000$，数据保证答案不超过 $2^{31}-1$。", "locale": "zh-CN"}}}
{"pid": "P10932", "type": "P", "difficulty": 6, "samples": [["5 4 2\n1 2 1\n1 3 1\n2 4 1\n2 5 1\n3 5\n2 1", "3\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["圆方树"], "title": "Freda的传呼机", "background": "", "description": "为了随时与 rainbow 快速交流，Freda 制造了两部传呼机。\n\nFreda 和 rainbow 所在的地方有 $N$ 座房屋、$M$ 条双向光缆。\n\n每条光缆连接两座房屋，传呼机发出的信号只能沿着光缆传递，并且传呼机的信号从光缆的其中一端传递到另一端需要花费 $t$ 单位时间。\n\n现在 Freda 要进行 $Q$ 次试验，每次选取两座房屋，并想知道传呼机的信号在这两座房屋之间传递至少需要多长时间。\n\n$N$ 座房屋通过光缆一定是连通的，并且这 $M$ 条光缆有以下三类连接情况：\n\n  * $A$：光缆不形成环，也就是光缆仅有 $N-1$ 条。\n  * $B$：光缆只形成一个环，也就是光缆仅有 $N$ 条。\n  * $C$：每条光缆仅在一个环中。\n\n请你帮帮他们。", "inputFormat": "第一行包含三个用空格隔开的整数，$N、M$ 和 $Q$。\n\n接下来 $M$ 行每行三个整数 $x、y、t$，表示房屋 $x$ 和 $y$ 之间有一条传递时间为 $t$ 的光缆。\n\n最后 $Q$ 行每行两个整数 $x、y$，表示 Freda 想知道在 $x$ 和 $y$ 之间传呼最少需要多长时间。", "outputFormat": "输出 $Q$ 行，每行一个整数，表示 Freda 每次试验的结果。\n", "hint": "数据保证，$2 \\le N \\le 10000$，$N-1 \\le M \\le 12000$，$Q = 10000$，$1 \\le x,y \\le N$，$1 \\le t < 32768$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Freda的传呼机", "background": "", "description": "为了随时与 rainbow 快速交流，Freda 制造了两部传呼机。\n\nFreda 和 rainbow 所在的地方有 $N$ 座房屋、$M$ 条双向光缆。\n\n每条光缆连接两座房屋，传呼机发出的信号只能沿着光缆传递，并且传呼机的信号从光缆的其中一端传递到另一端需要花费 $t$ 单位时间。\n\n现在 Freda 要进行 $Q$ 次试验，每次选取两座房屋，并想知道传呼机的信号在这两座房屋之间传递至少需要多长时间。\n\n$N$ 座房屋通过光缆一定是连通的，并且这 $M$ 条光缆有以下三类连接情况：\n\n  * $A$：光缆不形成环，也就是光缆仅有 $N-1$ 条。\n  * $B$：光缆只形成一个环，也就是光缆仅有 $N$ 条。\n  * $C$：每条光缆仅在一个环中。\n\n请你帮帮他们。", "inputFormat": "第一行包含三个用空格隔开的整数，$N、M$ 和 $Q$。\n\n接下来 $M$ 行每行三个整数 $x、y、t$，表示房屋 $x$ 和 $y$ 之间有一条传递时间为 $t$ 的光缆。\n\n最后 $Q$ 行每行两个整数 $x、y$，表示 Freda 想知道在 $x$ 和 $y$ 之间传呼最少需要多长时间。", "outputFormat": "输出 $Q$ 行，每行一个整数，表示 Freda 每次试验的结果。\n", "hint": "数据保证，$2 \\le N \\le 10000$，$N-1 \\le M \\le 12000$，$Q = 10000$，$1 \\le x,y \\le N$，$1 \\le t < 32768$。", "locale": "zh-CN"}}}
{"pid": "P10933", "type": "P", "difficulty": 5, "samples": [["6\n2 3 1 3 6 5", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树形 DP", "基环树"], "title": "创世纪", "background": "", "description": "上帝手中有 $N$ 种世界元素，每种元素可以限制另外 $1$ 种元素，把第 $i$ 种世界元素能够限制的那种世界元素记为 $A[i]$。\n\n现在，上帝要把它们中的一部分投放到一个新的空间中去建造世界。\n\n为了世界的和平与安宁，上帝希望所有被投放的世界元素都至少有一个能够限制它的世界元素没有被投放。\n\n上帝希望知道，在此前提下，他最多可以投放多少种世界元素？", "inputFormat": "第一行是一个整数 $N$，表示世界元素的数目。\n\n第二行有 $N$ 个整数 $A[1], A[2], \\dots, A[N]$。$A[i]$ 表示第 $i$ 个世界元素能够限制的世界元素的编号。", "outputFormat": "一个整数，表示最多可以投放的世界元素的数目。\n", "hint": "数据保证，$1\\le N \\le 10^6$，$1 \\le A[i] \\le N$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "创世纪", "background": "", "description": "上帝手中有 $N$ 种世界元素，每种元素可以限制另外 $1$ 种元素，把第 $i$ 种世界元素能够限制的那种世界元素记为 $A[i]$。\n\n现在，上帝要把它们中的一部分投放到一个新的空间中去建造世界。\n\n为了世界的和平与安宁，上帝希望所有被投放的世界元素都至少有一个能够限制它的世界元素没有被投放。\n\n上帝希望知道，在此前提下，他最多可以投放多少种世界元素？", "inputFormat": "第一行是一个整数 $N$，表示世界元素的数目。\n\n第二行有 $N$ 个整数 $A[1], A[2], \\dots, A[N]$。$A[i]$ 表示第 $i$ 个世界元素能够限制的世界元素的编号。", "outputFormat": "一个整数，表示最多可以投放的世界元素的数目。\n", "hint": "数据保证，$1\\le N \\le 10^6$，$1 \\le A[i] \\le N$", "locale": "zh-CN"}}}
{"pid": "P10934", "type": "P", "difficulty": 3, "samples": [["9 4\n1 4 2\n4 6 2\n8 9 2\n3 5 2", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "差分约束"], "title": "西瓜种植", "background": "笨笨：小西瓜，小西瓜~\n\n路人甲：不会呀，这西瓜明明就大着啊……\n\n笨笨：那……大西瓜，大西瓜~\n\n路人甲：这么快就改口了……\n\n笨笨：西瓜西瓜~可爱的西瓜~", "description": "笨笨种了一块西瓜地，但这块西瓜地的种植范围是一条直线的……\n  \n  笨笨在一番研究过后，得出了 $m$ 个结论，这 $m$ 个结论可以使他收获的西瓜最多。\n  \n  笨笨的结论是这样的：\n  \n  从西瓜地 $b$ 处到 $e$ 处至少要种植 $t$ 个西瓜，这个范围的收获就可以最大化。\n  \n  笨笨不想那么辛苦，所以他想种植的西瓜尽量少，而又满足每一个所得的结论。", "inputFormat": "第一行两个数 $n$, $m$（$0<n \\le 5000$，$0 \\le m\\le 3000$），表示笨笨的西瓜地长 $n$，笨笨得出 $m$ 个结论。\n\n接下来 $m$ 行表示笨笨的 $m$ 个结论，每行三个数 $b$, $e$, $t$（$1 \\le b\\le e\\le n$，$0 \\le t\\le e-b+1$）。", "outputFormat": "输出笨笨最少需种植多少西瓜。", "hint": "基本上来说，笨笨的西瓜地就是一条壮观的线……", "locale": "zh-CN", "translations": {"zh-CN": {"title": "西瓜种植", "background": "笨笨：小西瓜，小西瓜~\n\n路人甲：不会呀，这西瓜明明就大着啊……\n\n笨笨：那……大西瓜，大西瓜~\n\n路人甲：这么快就改口了……\n\n笨笨：西瓜西瓜~可爱的西瓜~", "description": "笨笨种了一块西瓜地，但这块西瓜地的种植范围是一条直线的……\n  \n  笨笨在一番研究过后，得出了 $m$ 个结论，这 $m$ 个结论可以使他收获的西瓜最多。\n  \n  笨笨的结论是这样的：\n  \n  从西瓜地 $b$ 处到 $e$ 处至少要种植 $t$ 个西瓜，这个范围的收获就可以最大化。\n  \n  笨笨不想那么辛苦，所以他想种植的西瓜尽量少，而又满足每一个所得的结论。", "inputFormat": "第一行两个数 $n$, $m$（$0<n \\le 5000$，$0 \\le m\\le 3000$），表示笨笨的西瓜地长 $n$，笨笨得出 $m$ 个结论。\n\n接下来 $m$ 行表示笨笨的 $m$ 个结论，每行三个数 $b$, $e$, $t$（$1 \\le b\\le e\\le n$，$0 \\le t\\le e-b+1$）。", "outputFormat": "输出笨笨最少需种植多少西瓜。", "hint": "基本上来说，笨笨的西瓜地就是一条壮观的线……", "locale": "zh-CN"}}}
{"pid": "P10935", "type": "P", "difficulty": 5, "samples": [["5 7 \n1 1 2 \n2 3 2 \n4 4 1 \n3 4 5 \n5 4 5 \n2 3 5 \n4 5 1 ", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "拓扑排序", "最短路", "Tarjan", "差分约束"], "title": "银河", "background": "", "description": "银河中的恒星浩如烟海，但是我们只关注那些最亮的恒星。\n\n我们用一个正整数来表示恒星的亮度，数值越大则恒星就越亮，恒星的亮度最暗是 $1$。\n\n现在对于 $N$ 颗我们关注的恒星，有 $M$ 对亮度之间的相对关系已经判明。\n\n你的任务就是求出这 $N$ 颗恒星的亮度值总和至少有多大。", "inputFormat": "第一行给出两个整数 $N$ 和 $M$。 \n\n之后 $M$ 行，每行三个整数 $T, A, B$，表示一对恒星 $(A, B)$ 之间的亮度关系。恒星的编号从 $1$ 开始。 \n\n如果 $T = 1$，说明 $A$ 和 $B$ 亮度相等。  \n如果 $T = 2$，说明 $A$ 的亮度小于 $B$ 的亮度。  \n如果 $T = 3$，说明 $A$ 的亮度不小于 $B$ 的亮度。  \n如果 $T = 4$，说明 $A$ 的亮度大于 $B$ 的亮度。  \n如果 $T = 5$，说明 $A$ 的亮度不大于 $B$ 的亮度。", "outputFormat": "输出一个整数表示结果。\n\n若无解，则输出 $-1$。", "hint": "数据保证，$1\\le N \\le 100000$，$1\\le M \\le 100000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "银河", "background": "", "description": "银河中的恒星浩如烟海，但是我们只关注那些最亮的恒星。\n\n我们用一个正整数来表示恒星的亮度，数值越大则恒星就越亮，恒星的亮度最暗是 $1$。\n\n现在对于 $N$ 颗我们关注的恒星，有 $M$ 对亮度之间的相对关系已经判明。\n\n你的任务就是求出这 $N$ 颗恒星的亮度值总和至少有多大。", "inputFormat": "第一行给出两个整数 $N$ 和 $M$。 \n\n之后 $M$ 行，每行三个整数 $T, A, B$，表示一对恒星 $(A, B)$ 之间的亮度关系。恒星的编号从 $1$ 开始。 \n\n如果 $T = 1$，说明 $A$ 和 $B$ 亮度相等。  \n如果 $T = 2$，说明 $A$ 的亮度小于 $B$ 的亮度。  \n如果 $T = 3$，说明 $A$ 的亮度不小于 $B$ 的亮度。  \n如果 $T = 4$，说明 $A$ 的亮度大于 $B$ 的亮度。  \n如果 $T = 5$，说明 $A$ 的亮度不大于 $B$ 的亮度。", "outputFormat": "输出一个整数表示结果。\n\n若无解，则输出 $-1$。", "hint": "数据保证，$1\\le N \\le 100000$，$1\\le M \\le 100000$。", "locale": "zh-CN"}}}
{"pid": "P10936", "type": "P", "difficulty": 6, "samples": [["3 3 30 20 1\n0 0\n0 50\n50 0\n50 50\n0 1000\n1000 0", "91.500000\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "Special Judge", "图论建模", "二分图"], "title": "导弹防御塔", "background": "", "description": "Freda 的城堡遭受了 $M$ 个入侵者的攻击！\n\nFreda 控制着 $N$ 座导弹防御塔，每座塔都有足够数量的导弹，但是每次只能发射一枚。\n\n在发射导弹时，导弹需要 $T_1$ 秒才能从防御塔中射出，而在发射导弹后，发射这枚导弹的防御塔需要 $T_2$ 分钟来冷却。\n\n所有导弹都有相同的匀速飞行速度 $V$，并且会沿着距离最短的路径去打击目标。\n\n计算防御塔到目标的距离 $Distance$ 时，你只需要计算水平距离，而忽略导弹飞行的高度。\n\n导弹在空中飞行的时间就是 $Distance/V$ 分钟，导弹到达目标后可以立即将它击毁。\n\n现在，给出 $N$ 座导弹防御塔的坐标，$M$ 个入侵者的坐标，$T_1,T_2$ 和 $V$。\n\n因为 Freda 的小伙伴 Rainbow 就要来拜访城堡了，你需要求出至少多少分钟才能击退所有的入侵者。", "inputFormat": "第一行五个正整数 $N,M,T_1,T_2,V$。\n\n接下来 $M$ 行每行两个整数，代表入侵者的坐标。\n\n接下来 $N$ 行每行两个整数，代表防御塔的坐标。", "outputFormat": "输出一个实数，表示最少需要多少分钟才能击中所有的入侵者，四舍五入保留六位小数。与标准答案的差距相差不超过 $10^{-5}$ 即认为答案正确。", "hint": "数据保证 $1 \\le N,M \\le 50$，坐标绝对值不超过 $10000$，$T_1,T_2,V$ 为不超过 $2000$ 的正整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "导弹防御塔", "background": "", "description": "Freda 的城堡遭受了 $M$ 个入侵者的攻击！\n\nFreda 控制着 $N$ 座导弹防御塔，每座塔都有足够数量的导弹，但是每次只能发射一枚。\n\n在发射导弹时，导弹需要 $T_1$ 秒才能从防御塔中射出，而在发射导弹后，发射这枚导弹的防御塔需要 $T_2$ 分钟来冷却。\n\n所有导弹都有相同的匀速飞行速度 $V$，并且会沿着距离最短的路径去打击目标。\n\n计算防御塔到目标的距离 $Distance$ 时，你只需要计算水平距离，而忽略导弹飞行的高度。\n\n导弹在空中飞行的时间就是 $Distance/V$ 分钟，导弹到达目标后可以立即将它击毁。\n\n现在，给出 $N$ 座导弹防御塔的坐标，$M$ 个入侵者的坐标，$T_1,T_2$ 和 $V$。\n\n因为 Freda 的小伙伴 Rainbow 就要来拜访城堡了，你需要求出至少多少分钟才能击退所有的入侵者。", "inputFormat": "第一行五个正整数 $N,M,T_1,T_2,V$。\n\n接下来 $M$ 行每行两个整数，代表入侵者的坐标。\n\n接下来 $N$ 行每行两个整数，代表防御塔的坐标。", "outputFormat": "输出一个实数，表示最少需要多少分钟才能击中所有的入侵者，四舍五入保留六位小数。与标准答案的差距相差不超过 $10^{-5}$ 即认为答案正确。", "hint": "数据保证 $1 \\le N,M \\le 50$，坐标绝对值不超过 $10000$，$T_1,T_2,V$ 为不超过 $2000$ 的正整数。", "locale": "zh-CN"}}}
