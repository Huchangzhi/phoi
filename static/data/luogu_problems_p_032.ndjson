{"pid": "P1641", "type": "P", "difficulty": 5, "samples": [["2 2", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "四川", "各省省选", "组合数学", "排列组合", "Catalan 数", "逆元"], "title": "[SCOI2010] 生成字符串", "background": null, "description": "lxhgww 最近接到了一个生成字符串的任务，任务需要他把 $n$ 个 $1$ 和 $m$ 个 $0$ 组成字符串，但是任务还要求在组成的字符串中，在任意的前 $k\\ (0 \\le k \\le n+m)$ 个字符中，$1$ 的个数不能少于 $0$ 的个数。现在 lxhgww 想要知道满足要求的字符串共有多少个，聪明的程序员们，你们能帮助他吗？\n\n答案对 $20100403$ 取模。", "inputFormat": "输入数据只有一行，包括 $2$ 个数字 $n$ 和 $m$。", "outputFormat": "输出数据是一行，包括 $1$ 个数字，表示满足要求的字符串数目。\n\n答案对 $20100403$ 取模。", "hint": "对于 $30\\%$ 的数据，保证 $1\\leq m\\leq n\\leq 10^3$。\n\n对于 $100\\%$ 的数据，保证 $1\\leq m\\leq n\\leq 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2010] Generate String", "background": "", "description": "lxhgww recently received a task to generate a string. The task requires him to use $n$ copies of $1$ and $m$ copies of $0$ to form a string, and it also requires that in any first $k\\ (0 \\le k \\le n+m)$ characters, the number of $1$ is not less than the number of $0$. Now lxhgww wants to know how many strings satisfy the requirement. Can you help him?\nThe answer is taken modulo $20100403$.", "inputFormat": "The input contains a single line with $2$ integers $n$ and $m$.", "outputFormat": "Output a single line with $1$ integer, the number of strings that satisfy the requirement.\nThe answer is taken modulo $20100403$.", "hint": "For $30\\%$ of the testdata, it is guaranteed that $1 \\leq m \\leq n \\leq 10^3$.\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq m \\leq n \\leq 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2010] 生成字符串", "background": null, "description": "lxhgww 最近接到了一个生成字符串的任务，任务需要他把 $n$ 个 $1$ 和 $m$ 个 $0$ 组成字符串，但是任务还要求在组成的字符串中，在任意的前 $k\\ (0 \\le k \\le n+m)$ 个字符中，$1$ 的个数不能少于 $0$ 的个数。现在 lxhgww 想要知道满足要求的字符串共有多少个，聪明的程序员们，你们能帮助他吗？\n\n答案对 $20100403$ 取模。", "inputFormat": "输入数据只有一行，包括 $2$ 个数字 $n$ 和 $m$。", "outputFormat": "输出数据是一行，包括 $1$ 个数字，表示满足要求的字符串数目。\n\n答案对 $20100403$ 取模。", "hint": "对于 $30\\%$ 的数据，保证 $1\\leq m\\leq n\\leq 10^3$。\n\n对于 $100\\%$ 的数据，保证 $1\\leq m\\leq n\\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P1642", "type": "P", "difficulty": 4, "samples": [["3 2\r\n2 3 4\r\n1 1 1\r\n1 2\r\n2 3\r\n", "4.0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "二分", "树形 DP", "分数规划"], "title": "规划", "background": "", "description": "某地方有 $N$ 个工厂，有 $N-1$ 条路连接它们，且它们两两都可达。每个工厂都有一个产量值和一个污染值。现在工厂要进行规划，拆除其中的 $M$ 个工厂，使得剩下的工厂依然连成一片且总产量 / 总污染的值最大。", "inputFormat": "第一行两个整数 $N,M$ 表示工厂个数和要拆除的个数。\n\n第二行 $N$ 个正整数 $w_i$，表示每个工厂的产值 。\n\n第三行 $N$ 个正整数 $c_i$，表示每个工厂的污染值。\n\n接着 $N-1$ 行，每行两个正整数 $a,b\\ (1 \\le a,b \\le N)$ 表示 $a,b$ 之间相连。", "outputFormat": "输出 总产量/总污染 的最大值，保留一位小数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1<N<100$，$1 \\le M<N$，$1\\le w_i\\le 10000$，$1\\le c_i\\le 10000$。", "locale": "zh-CN", "translations": {"en": {"title": "Planning", "background": "", "description": "There are $N$ factories connected by $N - 1$ roads, and any two factories are reachable. Each factory has a production value and a pollution value. Now we plan to demolish $M$ factories so that the remaining factories still form a single connected component and the value of total production divided by total pollution is maximized.", "inputFormat": "The first line contains two integers $N, M$ representing the number of factories and the number to demolish.\n\nThe second line contains $N$ positive integers $w_i$, representing the production of each factory.\n\nThe third line contains $N$ positive integers $c_i$, representing the pollution of each factory.\n\nThen follow $N - 1$ lines. Each line contains two positive integers $a, b$ ($1 \\le a, b \\le N$) indicating that $a$ and $b$ are connected.", "outputFormat": "Output the maximum value of total production divided by total pollution, rounded to one decimal place.", "hint": "Constraints\n\nFor all testdata, $1 < N < 100$, $1 \\le M < N$, $1 \\le w_i \\le 10000$, and $1 \\le c_i \\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "规划", "background": "", "description": "某地方有 $N$ 个工厂，有 $N-1$ 条路连接它们，且它们两两都可达。每个工厂都有一个产量值和一个污染值。现在工厂要进行规划，拆除其中的 $M$ 个工厂，使得剩下的工厂依然连成一片且总产量 / 总污染的值最大。", "inputFormat": "第一行两个整数 $N,M$ 表示工厂个数和要拆除的个数。\n\n第二行 $N$ 个正整数 $w_i$，表示每个工厂的产值 。\n\n第三行 $N$ 个正整数 $c_i$，表示每个工厂的污染值。\n\n接着 $N-1$ 行，每行两个正整数 $a,b\\ (1 \\le a,b \\le N)$ 表示 $a,b$ 之间相连。", "outputFormat": "输出 总产量/总污染 的最大值，保留一位小数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1<N<100$，$1 \\le M<N$，$1\\le w_i\\le 10000$，$1\\le c_i\\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P1643", "type": "P", "difficulty": 5, "samples": [["3\r\n1\r\n1\r\n17\r\n2\r\n98\r\n2\r\n", "2\r\n33\r\n101\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["高精度"], "title": "完美数", "background": null, "description": "考古队员小星在一次考察中意外跌入深渊，穿越到了一个神秘的荒漠。这里有许多超越他认识的事物存在，例如许多漂浮在空中的建筑，例如各种奇怪的动物。\n\n在这片荒漠的中央，小星发现了一个巨大的类似神庙的建筑，为了脱离这片空间，小星决定前去探索。\n\n在临近神庙大门时，突然跳出了一个人面狮（不是斯芬达克斯）！它咆哮着：\n\n“我是这里的守卫，要想通过这里，必须回答出我的一系列问题，否则，我就吃了你。”\n\n人面狮告诉小星，问题总是这样的模式：比 $X$ 大的第 $N$ 小的回文数是多少。\n\n小星想，这个问题看来不难，于是问答开始了。\n\n“比 $1$ 大的第 $1$ 小回文数是多少？”\n\n“$2$”\n\n“比 $17$ 大的第 $2$ 小的回文数是多少？”\n\n“$33$”\n\n“比 $98$ 大的第 $2$ 小的回文数是多少？”\n\n“$101$”\n\n“那比 $948237$ 大的第 $2339587$ 小的回文数是多少？”\n\n“\\*（•%（\\*•—#•#￥\\*—%（\\*—%”\n\n为了避免被守卫吃掉，小星只好打开笔记本想借助电脑，却意外地发现可以通过网络（网通？电信？宇宙通？）找到你，于是这个问题就拜托给你了！", "inputFormat": "本题每一个数据包含有多组数据。\n\n对于每一个数据包，第一行一个数 $T$，表示总共有 $T$ 组数据。\n\n对于每一组数据，包括两行，第一行为 $X$，第二行为 $N$，表示当前询问是比 $X$ 大的第 $N$ 小的回文数是多少。", "outputFormat": "对于每一组数据输出一行，表示询问的结果。", "hint": "**【数据规模】**\n\n$20 \\%$ 的数据满足 $X \\le 2 \\times 10^5$，$N \\le 1000$。\n\n$30 \\%$ 的数据满足 $X, N \\le 2^{31}-1$ 且答案不大于 $2^{31}-1$。\n\n$100 \\%$ 的数据满足 $1 \\le N \\le {10}^{10000}$，$0 \\le X\\le {10}^{10000}$ 且答案不大于 ${10}^{20001}$ 且 $1 \\le T \\le 10$。", "locale": "zh-CN", "translations": {"en": {"title": "Perfect Number", "background": "", "description": "During an expedition, the archaeologist Xiaoxing accidentally fell into an abyss and traveled to a mysterious desert. Many things here are beyond his understanding, such as buildings floating in the air and all kinds of strange animals.\n\nIn the center of the desert, Xiaoxing found a huge temple-like structure. To escape this place, he decided to explore it.\n\nAs he approached the temple gate, a human-faced lion suddenly leaped out (not the Sphinx)! It roared:\n\n\"I am the guardian here. To pass, you must answer my series of questions; otherwise, I will eat you.\"\n\nThe human-faced lion told Xiaoxing that the questions always follow this pattern: What is the $N$-th smallest palindrome greater than $X$?\n\nXiaoxing thought the problem did not seem difficult, so the Q&A began.\n\n\"What is the 1st smallest palindrome greater than $1$?\"\n\"$2$.\"\n\n\"What is the 2nd smallest palindrome greater than $17$?\"\n\"$33$.\"\n\n\"What is the 2nd smallest palindrome greater than $98$?\"\n\"$101$.\"\n\n\"Then what is the 2,339,587-th smallest palindrome greater than $948237$?\"\n\"*(•%(∗•—#•#￥∗—%(∗—%\"\n\nTo avoid being eaten by the guardian, Xiaoxing opened his laptop to seek help, and he unexpectedly found you through the network (Netcom? Telecom? Universe-com?). So this problem is entrusted to you!", "inputFormat": "The input contains multiple queries.\n\nThe first line contains an integer $T$, the total number of queries.\n\nEach query consists of two lines: the first line contains $X$, and the second line contains $N$, asking for the $N$-th smallest palindrome strictly greater than $X$.", "outputFormat": "For each query, output one line containing the answer.", "hint": "Constraints:\n\n- 20% of the testdata satisfies $X \\le 2 \\times 10^5$, $N \\le 1000$.\n- 30% of the testdata satisfies $X, N \\le 2^{31}-1$ and the answer is no greater than $2^{31}-1$.\n- 100% of the testdata satisfies $1 \\le X, N \\le {10}^{10000}$ and the answer is no greater than ${10}^{20001}$, and $1 \\le T \\le 10$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "完美数", "background": null, "description": "考古队员小星在一次考察中意外跌入深渊，穿越到了一个神秘的荒漠。这里有许多超越他认识的事物存在，例如许多漂浮在空中的建筑，例如各种奇怪的动物。\n\n在这片荒漠的中央，小星发现了一个巨大的类似神庙的建筑，为了脱离这片空间，小星决定前去探索。\n\n在临近神庙大门时，突然跳出了一个人面狮（不是斯芬达克斯）！它咆哮着：\n\n“我是这里的守卫，要想通过这里，必须回答出我的一系列问题，否则，我就吃了你。”\n\n人面狮告诉小星，问题总是这样的模式：比 $X$ 大的第 $N$ 小的回文数是多少。\n\n小星想，这个问题看来不难，于是问答开始了。\n\n“比 $1$ 大的第 $1$ 小回文数是多少？”\n\n“$2$”\n\n“比 $17$ 大的第 $2$ 小的回文数是多少？”\n\n“$33$”\n\n“比 $98$ 大的第 $2$ 小的回文数是多少？”\n\n“$101$”\n\n“那比 $948237$ 大的第 $2339587$ 小的回文数是多少？”\n\n“\\*（•%（\\*•—#•#￥\\*—%（\\*—%”\n\n为了避免被守卫吃掉，小星只好打开笔记本想借助电脑，却意外地发现可以通过网络（网通？电信？宇宙通？）找到你，于是这个问题就拜托给你了！", "inputFormat": "本题每一个数据包含有多组数据。\n\n对于每一个数据包，第一行一个数 $T$，表示总共有 $T$ 组数据。\n\n对于每一组数据，包括两行，第一行为 $X$，第二行为 $N$，表示当前询问是比 $X$ 大的第 $N$ 小的回文数是多少。", "outputFormat": "对于每一组数据输出一行，表示询问的结果。", "hint": "**【数据规模】**\n\n$20 \\%$ 的数据满足 $X \\le 2 \\times 10^5$，$N \\le 1000$。\n\n$30 \\%$ 的数据满足 $X, N \\le 2^{31}-1$ 且答案不大于 $2^{31}-1$。\n\n$100 \\%$ 的数据满足 $1 \\le N \\le {10}^{10000}$，$0 \\le X\\le {10}^{10000}$ 且答案不大于 ${10}^{20001}$ 且 $1 \\le T \\le 10$。", "locale": "zh-CN"}}}
{"pid": "P1644", "type": "P", "difficulty": 2, "samples": [["4 8", "37"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "递推", "线性递推"], "title": "跳马问题", "background": "", "description": "中国象棋半张棋盘如图 $1$ 所示。马自左下角 $(0,0)$ 向右上角 $(m,n)$ 跳。规定只能往右跳，不准往左跳。比如图 $1$ 中所示为一种跳行路线，并将路径总数打印出来。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8gkasdvs.png)\n", "inputFormat": "只有一行：两个数 $n$，$m$。\n", "outputFormat": "只有一个数：总方案数 $total$。\n", "hint": "对于 $100\\%$ 的数据：$n, m\\leq 18$\n", "locale": "zh-CN", "translations": {"en": {"title": "Horse Jump Problem", "background": "", "description": "A half Xiangqi (Chinese chess) board is shown in Figure 1. A horse starts from the lower-left corner $(0,0)$ and jumps to the upper-right corner $(m,n)$. It is only allowed to jump to the right; jumping to the left is not allowed. For example, the route shown in Figure 1 is one valid path. Print the total number of paths.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8gkasdvs.png)", "inputFormat": "A single line: two integers $n$ and $m$.", "outputFormat": "A single integer: the total number of ways $total$.", "hint": "For $100\\%$ of the testdata: $n, m\\leq 18$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跳马问题", "background": "", "description": "中国象棋半张棋盘如图 $1$ 所示。马自左下角 $(0,0)$ 向右上角 $(m,n)$ 跳。规定只能往右跳，不准往左跳。比如图 $1$ 中所示为一种跳行路线，并将路径总数打印出来。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8gkasdvs.png)\n", "inputFormat": "只有一行：两个数 $n$，$m$。\n", "outputFormat": "只有一个数：总方案数 $total$。\n", "hint": "对于 $100\\%$ 的数据：$n, m\\leq 18$\n", "locale": "zh-CN"}}}
{"pid": "P1645", "type": "P", "difficulty": 3, "samples": [["4\n4 5 1\n6 10 3\n7 10 3\n5 6 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "排序", "差分约束"], "title": "序列", "background": "", "description": "有一个整数序列，它的每个数各不相同，我们不知道它的长度是多少（即整数个数），但我们知道在某些区间中间至少有多少个整数，用区间（$L_i,R_i,C_i$）来描述，表示这个整数序列中至少有 $C_i$ 个数来自区间 $[L_i,R_i]$，给出若干个这样的区间，问这个整数序列的长度最少能为多少？", "inputFormat": "第一行一个整数 $N$，表示区间个数；\n\n接下来 $N$ 行，每行三个整数 $L_i,R_i,C_i$，描述一个区间。", "outputFormat": "仅一个数，表示该整数序列的最小长度。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1\\le N \\le 1000$，$0 \\le L_i \\le R_i \\le 1000$，$1 \\le C_i \\le R_i-L_i+1$。", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "", "description": "There is an integer sequence whose elements are all distinct. We do not know its length (i.e., the number of integers), but we know, for certain intervals, at least how many elements lie within them. Each constraint is described by a triple ($L_i, R_i, C_i$), meaning that at least $C_i$ numbers in the sequence come from the interval $[L_i, R_i]$. Given several such intervals, what is the minimum possible length of this integer sequence?", "inputFormat": "The first line contains an integer $N$, the number of intervals.\n\nEach of the next $N$ lines contains three integers $L_i, R_i, C_i$ describing an interval.", "outputFormat": "Output a single integer: the minimum possible length of the sequence.", "hint": "Constraints\n\nFor all testdata, $1 \\le N \\le 1000$, $0 \\le L_i \\le R_i \\le 1000$, $1 \\le C_i \\le R_i - L_i + 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "序列", "background": "", "description": "有一个整数序列，它的每个数各不相同，我们不知道它的长度是多少（即整数个数），但我们知道在某些区间中间至少有多少个整数，用区间（$L_i,R_i,C_i$）来描述，表示这个整数序列中至少有 $C_i$ 个数来自区间 $[L_i,R_i]$，给出若干个这样的区间，问这个整数序列的长度最少能为多少？", "inputFormat": "第一行一个整数 $N$，表示区间个数；\n\n接下来 $N$ 行，每行三个整数 $L_i,R_i,C_i$，描述一个区间。", "outputFormat": "仅一个数，表示该整数序列的最小长度。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1\\le N \\le 1000$，$0 \\le L_i \\le R_i \\le 1000$，$1 \\le C_i \\le R_i-L_i+1$。", "locale": "zh-CN"}}}
{"pid": "P1646", "type": "P", "difficulty": 6, "samples": [["1 2\n1 1\n100 110\n1\n1000", "1210\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["集训队互测", "网络流", "最小割"], "title": "[国家集训队] happiness", "background": "", "description": "高一一班的座位表是个 $n\\times m$ 的矩阵，经过一个学期的相处，每个同学和前后左右相邻的同学互相成为了好朋友。这学期要分文理科了，每个同学对于选择文科与理科有着自己的喜悦值，而一对好朋友如果能同时选文科或者理科，那么他们又将收获一些喜悦值。\n\n作为计算机竞赛教练的 scp 大老板，想知道如何分配可以使得全班的喜悦值总和最大。", "inputFormat": "第一行两个正整数 $n$，$m$。\n\n接下来是六个矩阵。\n\n- 第一个矩阵为 $n$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学选择文科获得的喜悦值。\n- 第二个矩阵为 $n$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学选择理科获得的喜悦值。\n- 第三个矩阵为 $n-1$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i+1$ 行第 $j$ 列的同学同时选择文科获得的额外喜悦值。\n- 第四个矩阵为 $n-1$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i+1$ 行第 $j$ 列的同学同时选择理科获得的额外喜悦值。\n- 第五个矩阵为 $n$ 行 $m-1$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i$ 行第 $j+1$ 列的同学同时选择文科获得的额外喜悦值。\n- 第六个矩阵为 $n$ 行 $m-1$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i$ 行第 $j+1$ 列的同学同时选择理科获得的额外喜悦值。", "outputFormat": "输出一个整数，表示喜悦值总和的最大值。\n", "hint": "### 样例解释\n\n两人都选理，则获得 $100+110+1000$ 的喜悦值。\n\n对于 $100\\%$ 的数据，$1\\le n,m \\le 100$，且所有喜悦值均为小于等于 $5000$ 的非负整数。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] happiness", "background": "", "description": "The seating chart of Class 1 in Grade 10 is an $n\\times m$ matrix. After one semester together, every student has become good friends with the students adjacent in the four directions (up, down, left, right). This semester, they need to split into liberal arts and science. Each student has their own happiness value for choosing liberal arts or science, and for each pair of friends, if they both choose liberal arts or both choose science, they will gain some extra happiness.\n\nscp, the big boss and coach of programming contests, wants to know how to assign choices to maximize the class’s total happiness.", "inputFormat": "The first line contains two positive integers $n$, $m$.\n\nThen follow six matrices.\n\n- The first matrix has $n$ rows and $m$ columns. The number at row $i$, column $j$ is the happiness the student at row $i$, column $j$ gets for choosing liberal arts.\n- The second matrix has $n$ rows and $m$ columns. The number at row $i$, column $j$ is the happiness the student at row $i$, column $j$ gets for choosing science.\n- The third matrix has $n-1$ rows and $m$ columns. The number at row $i$, column $j$ is the extra happiness if the student at row $i$, column $j$ and the student at row $i+1$, column $j$ both choose liberal arts.\n- The fourth matrix has $n-1$ rows and $m$ columns. The number at row $i$, column $j$ is the extra happiness if the student at row $i$, column $j$ and the student at row $i+1$, column $j$ both choose science.\n- The fifth matrix has $n$ rows and $m-1$ columns. The number at row $i$, column $j$ is the extra happiness if the student at row $i$, column $j$ and the student at row $i$, column $j+1$ both choose liberal arts.\n- The sixth matrix has $n$ rows and $m-1$ columns. The number at row $i$, column $j$ is the extra happiness if the student at row $i$, column $j$ and the student at row $i$, column $j+1$ both choose science.", "outputFormat": "Output a single integer, the maximum possible total happiness.", "hint": "### Sample Explanation\n\nIf both choose science, they obtain $100+110+1000$ in happiness.\n\nFor $100\\%$ of the testdata, $1\\le n,m \\le 100$, and all happiness values are non-negative integers not exceeding $5000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] happiness", "background": "", "description": "高一一班的座位表是个 $n\\times m$ 的矩阵，经过一个学期的相处，每个同学和前后左右相邻的同学互相成为了好朋友。这学期要分文理科了，每个同学对于选择文科与理科有着自己的喜悦值，而一对好朋友如果能同时选文科或者理科，那么他们又将收获一些喜悦值。\n\n作为计算机竞赛教练的 scp 大老板，想知道如何分配可以使得全班的喜悦值总和最大。", "inputFormat": "第一行两个正整数 $n$，$m$。\n\n接下来是六个矩阵。\n\n- 第一个矩阵为 $n$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学选择文科获得的喜悦值。\n- 第二个矩阵为 $n$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学选择理科获得的喜悦值。\n- 第三个矩阵为 $n-1$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i+1$ 行第 $j$ 列的同学同时选择文科获得的额外喜悦值。\n- 第四个矩阵为 $n-1$ 行 $m$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i+1$ 行第 $j$ 列的同学同时选择理科获得的额外喜悦值。\n- 第五个矩阵为 $n$ 行 $m-1$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i$ 行第 $j+1$ 列的同学同时选择文科获得的额外喜悦值。\n- 第六个矩阵为 $n$ 行 $m-1$ 列。此矩阵的第 $i$ 行第 $j$ 列的数字表示座位在第 $i$ 行第 $j$ 列的同学与第 $i$ 行第 $j+1$ 列的同学同时选择理科获得的额外喜悦值。", "outputFormat": "输出一个整数，表示喜悦值总和的最大值。\n", "hint": "### 样例解释\n\n两人都选理，则获得 $100+110+1000$ 的喜悦值。\n\n对于 $100\\%$ 的数据，$1\\le n,m \\le 100$，且所有喜悦值均为小于等于 $5000$ 的非负整数。", "locale": "zh-CN"}}}
{"pid": "P1647", "type": "P", "difficulty": 5, "samples": [["3 8", "111"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "锁", "background": "", "description": "给出 $N$ 和 $K$，要求生成从 $0$ 到 $2^N-1$ 的一个序列，序列的第一项为 $0$，并且该序列满足以下三个条件：\n\n1. 序列长度为 $2^N$，保证 $0$ 到 $2^N-1$ 的每个数都用了且只用了一次。\n2. 序列中任意两相邻的数都是由前一个数在其二进制下，改变了具有相同值的若干个位而形成的，即把其中若干个 $0$ 变为 $1$，或把其中若干个 $1$ 变为 $0$，并且只能二选一。\n3. 当存在多个序列满足前两个条件的时候，要保证字典序最小，即由前一个数生成后一个数的时候，要挑值最小的数（当然是满足前两个条件的情况下）。\n\n现问你这个序列前 $K$ 项中的最大值是多少，输出其二进制形式，注意一定要输出 $N$ 位，包括前导零。", "inputFormat": "仅一行两个整数 $N,K$。", "outputFormat": "一个二进制表示的数，为所求的答案。\n", "hint": "### 样例解释\n\n生成的序列为 $[000,001,011,010,110,100,101,111]$。前 $8$ 项当中的最大值为 $111$。\n\n### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 50,1 \\le K \\le 2^N$。", "locale": "zh-CN", "translations": {"en": {"title": "Lock", "background": "", "description": "Given $N$ and $K$, you are to generate a sequence from $0$ to $2^N-1$. The first term of the sequence is $0$, and the sequence must satisfy the following three conditions:\n\n1. The sequence has length $2^N$, and every number from $0$ to $2^N-1$ is used exactly once.\n2. Any two adjacent numbers in the sequence are obtained by changing some bits of the previous number in its binary representation, where all the changed bits originally have the same value. That is, either change some $0$s to $1$s, or change some $1$s to $0$s, but not both at the same time.\n3. When multiple sequences satisfy the first two conditions, the sequence must be lexicographically smallest. In other words, when generating the next number from the previous one, always choose the smallest possible value (of course, still satisfying the first two conditions).\n\nYou are asked to find the maximum value among the first $K$ terms of this sequence. Output it in binary, with exactly $N$ bits, including leading zeros.", "inputFormat": "A single line with two integers $N, K$.", "outputFormat": "A binary number representing the answer.", "hint": "### Sample Explanation\n\nThe generated sequence is $[000,001,011,010,110,100,101,111]$. The maximum among the first $8$ terms is $111$.\n\n### Constraints\n\nFor all testdata, $1 \\le N \\le 50, 1 \\le K \\le 2^N$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "锁", "background": "", "description": "给出 $N$ 和 $K$，要求生成从 $0$ 到 $2^N-1$ 的一个序列，序列的第一项为 $0$，并且该序列满足以下三个条件：\n\n1. 序列长度为 $2^N$，保证 $0$ 到 $2^N-1$ 的每个数都用了且只用了一次。\n2. 序列中任意两相邻的数都是由前一个数在其二进制下，改变了具有相同值的若干个位而形成的，即把其中若干个 $0$ 变为 $1$，或把其中若干个 $1$ 变为 $0$，并且只能二选一。\n3. 当存在多个序列满足前两个条件的时候，要保证字典序最小，即由前一个数生成后一个数的时候，要挑值最小的数（当然是满足前两个条件的情况下）。\n\n现问你这个序列前 $K$ 项中的最大值是多少，输出其二进制形式，注意一定要输出 $N$ 位，包括前导零。", "inputFormat": "仅一行两个整数 $N,K$。", "outputFormat": "一个二进制表示的数，为所求的答案。\n", "hint": "### 样例解释\n\n生成的序列为 $[000,001,011,010,110,100,101,111]$。前 $8$ 项当中的最大值为 $111$。\n\n### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 50,1 \\le K \\le 2^N$。", "locale": "zh-CN"}}}
{"pid": "P1648", "type": "P", "difficulty": 5, "samples": [["4 2\n2 1\n1 4\n4 5\n5 3", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "状压 DP"], "title": "看守", "background": "", "description": "给出 $d$ 维空间的 $n$ 个点，求曼哈顿距离最大的两个点的曼哈顿距离。\n\n两个 $d$ 维的点 $(x_1,x_2,\\ldots,x_d)$，$(y_1,y_2,\\ldots,y_d)$ 的曼哈顿距离定义为 $|x_1-y_1|+|x_2-y_2|+\\ldots+|x_d-y_d|$。\n", "inputFormat": "第一行两个整数 $n$，$d$。\n\n接下来 $n$ 行，每行 $d$ 个整数描述一个点的坐标。", "outputFormat": "输出最大的曼哈顿距离。\n", "hint": "#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，保证 $d\\le2$。\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le10^6$，$d\\le4$，且坐标每一维保证 $1\\le x_i\\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Guard", "background": "", "description": "Given $n$ points in a $d$-dimensional space, find the maximum Manhattan distance between any two points.\n\nFor two $d$-dimensional points $(x_1,x_2,\\ldots,x_d)$ and $(y_1,y_2,\\ldots,y_d)$, their Manhattan distance is defined as $|x_1-y_1|+|x_2-y_2|+\\ldots+|x_d-y_d|$.", "inputFormat": "The first line contains two integers $n$ and $d$.\n\nThe next $n$ lines each contain $d$ integers describing the coordinates of a point.", "outputFormat": "Output the maximum Manhattan distance.", "hint": "Constraints\n- For $60\\%$ of the testdata, it is guaranteed that $d \\le 2$.\n- For $100\\%$ of the testdata, it is guaranteed that $2 \\le n \\le 10^6$, $d \\le 4$, and each coordinate satisfies $1 \\le x_i \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "看守", "background": "", "description": "给出 $d$ 维空间的 $n$ 个点，求曼哈顿距离最大的两个点的曼哈顿距离。\n\n两个 $d$ 维的点 $(x_1,x_2,\\ldots,x_d)$，$(y_1,y_2,\\ldots,y_d)$ 的曼哈顿距离定义为 $|x_1-y_1|+|x_2-y_2|+\\ldots+|x_d-y_d|$。\n", "inputFormat": "第一行两个整数 $n$，$d$。\n\n接下来 $n$ 行，每行 $d$ 个整数描述一个点的坐标。", "outputFormat": "输出最大的曼哈顿距离。\n", "hint": "#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，保证 $d\\le2$。\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le10^6$，$d\\le4$，且坐标每一维保证 $1\\le x_i\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1649", "type": "P", "difficulty": 3, "samples": [["3\n. x A\n. . .\nB x .", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "图论", "2007", "USACO", "广度优先搜索 BFS"], "title": "[USACO07OCT] Obstacle Course S", "background": "", "description": "Consider an N x N (1 <= N <= 100) square field composed of 1\n\nby 1 tiles. Some of these tiles are impassible by cows and are marked with an 'x' in this 5 by 5 field that is challenging to navigate:\n\n```cpp\n. . B x . \n. x x A . \n. . . x . \n. x . . . \n. . x . . \n```\nBessie finds herself in one such field at location A and wants to move to location B in order to lick the salt block there.  Slow, lumbering creatures like cows do not like to turn and, of course, may only move parallel to the edges of the square field. For a given field, determine the minimum number of ninety degree turns in any path from A to B. The path may begin and end with Bessie facing in any direction. Bessie knows she can get to the salt lick.\n\n", "inputFormat": "Line 1: A single integer: N\n\nLines 2..N + 1: Line i+1 represents row i of the field with N characters as above (i.e., '.', 'x', 'A', and 'B'); no spaces are present on a line\n", "outputFormat": "Line 1: A single integer, the minimum number of turns the cow must make in a traversal", "hint": "The cow must make at least 2 turns: For example, the cow may start by facing south, move south, turn to face west, move west, move west, then turn to face south, and finally move south into the B square.", "locale": "en", "translations": {"en": {"title": "[USACO07OCT] Obstacle Course S", "background": "", "description": "Consider an N x N (1 <= N <= 100) square field composed of 1\n\nby 1 tiles. Some of these tiles are impassible by cows and are marked with an 'x' in this 5 by 5 field that is challenging to navigate:\n\n```cpp\n. . B x . \n. x x A . \n. . . x . \n. x . . . \n. . x . . \n```\nBessie finds herself in one such field at location A and wants to move to location B in order to lick the salt block there.  Slow, lumbering creatures like cows do not like to turn and, of course, may only move parallel to the edges of the square field. For a given field, determine the minimum number of ninety degree turns in any path from A to B. The path may begin and end with Bessie facing in any direction. Bessie knows she can get to the salt lick.\n\n", "inputFormat": "Line 1: A single integer: N\n\nLines 2..N + 1: Line i+1 represents row i of the field with N characters as above (i.e., '.', 'x', 'A', and 'B'); no spaces are present on a line\n", "outputFormat": "Line 1: A single integer, the minimum number of turns the cow must make in a traversal", "hint": "The cow must make at least 2 turns: For example, the cow may start by facing south, move south, turn to face west, move west, move west, then turn to face south, and finally move south into the B square.", "locale": "en"}, "zh-CN": {"title": "[USACO07OCT] Obstacle Course S", "background": "", "description": "有一个 $N \\times N(1 \\le N \\le 100)$ 的场地，场地由 $N^2$ 个 $1 \\times 1$ 的方格组成。部分方格对于奶牛来说是无法通过的，用 $\\texttt x$ 标记出来；其他方格奶牛都可以通过，用 $\\texttt .$ 标记出来。\n\nBessie 发现自己位于这个场地中的位置 $A$，并且她想要移动到位置 $B$ 去舔那里的盐块。像奶牛这种缓慢且笨拙的生物不喜欢转弯，并且只能沿平行于方格边缘的方向移动。\n\n对于给定的场地，求出从 $A$ 到 $B$ 的路径中最少的 $90^{\\circ}$ 转弯次数。路径可以从任何方向开始和结束。\n\n如果 Bessie 无法到达盐块的位置 $B$，请输出 `-1`。", "inputFormat": "第一行一个正整数 $N$，表示场地的长与宽。\n\n接下来 $N$ 行，每行一个长度为 $N$ 的字符串，字符串每个字符为 $\\{\\texttt{x},\\texttt{.},\\texttt{A},\\texttt{B} \\}$ 中的一种，表示该方格的状态。", "outputFormat": "一行一个整数，表示 Bessie 必须进行的最小转弯次数。", "hint": "#### 【样例 $1$ 解释】\n\nBessie 必须至少转弯两次：例如，Bessie 初始面朝南，向南移动一步，然后转身朝西，再向西再移动两步，接着转身朝南，最后向南移动一步进入 $B$ 方格。（按照“上北下南左西右东”理解）", "locale": "zh-CN"}}}
{"pid": "P1650", "type": "P", "difficulty": 4, "samples": [["3\n92 83 71\n95 87 74", "200"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心"], "title": "田忌赛马", "background": "", "description": "我国历史上有个著名的故事： 那是在 $2300$ 年以前。齐国的大将军田忌喜欢赛马。他经常和齐王赛马。他和齐王都有三匹马：常规马，上级马，超级马。一共赛三局，每局的胜者可以从负者这里取得 $200$ 银币。每匹马只能用一次。齐王的马好，同等级的马，齐王的总是比田忌的要好一点。于是每次和齐王赛马，田忌总会输 $600$ 银币。\n\n田忌很沮丧，直到他遇到了著名的军师――孙膑。田忌采用了孙膑的计策之后，三场比赛下来，轻松而优雅地赢了齐王 $200$ 银币。这实在是个很简单的计策。由于齐王总是先出最好的马，再出次好的，所以田忌用常规马对齐王的超级马，用自己的超级马对齐王的上级马，用自己的上级马对齐王的常规马，以两胜一负的战绩赢得 $200$ 银币。实在很简单。\n\n如果不止三匹马怎么办？这个问题很显然可以转化成一个二分图最佳匹配的问题。把田忌的马放左边，把齐王的马放右边。田忌的马 A 和齐王的 B 之间，如果田忌的马胜，则连一条权为 $200$ 的边；如果平局，则连一条权为 $0$ 的边；如果输，则连一条权为 $-200$ 的边……如果你不会求最佳匹配，用最小费用最大流也可以啊。 然而，赛马问题是一种特殊的二分图最佳匹配的问题，上面的算法过于先进了，简直是杀鸡用牛刀。现在，就请你设计一个简单的算法解决这个问题。\n", "inputFormat": "第一行一个整数 $n$ ，表示他们各有几匹马（两人拥有的马的数目相同）。第二行 $n$ 个整数，每个整数都代表田忌的某匹马的速度值（$0 \\le $ 速度值 $\\le 100$）。第三行 $n$ 个整数，描述齐王的马的速度值。两马相遇，根据速度值的大小就可以知道哪匹马会胜出。如果速度值相同，则和局，谁也不拿钱。", "outputFormat": "仅一行，一个整数，表示田忌最大能得到多少银币。", "hint": "### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，$1\\le N\\le 65$；\n- 对于 $40\\%$ 的数据，$1\\le N\\le 250$；\n- 对于 $100\\%$ 的数据，$1\\le N\\le2000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Tian Ji’s Horse Racing", "background": "", "description": "There is a famous story in Chinese history: it was about $2300$ years ago. General Tian Ji of the State of Qi loved horse racing. He often raced horses with the King of Qi. Each of them had three horses: a regular-grade horse, an upper-grade horse, and a super-grade horse. They raced three times in total, and in each race the winner could take $200$ silver coins from the loser. Each horse could be used only once. The King’s horses were better; within the same grade, the King’s horse was always slightly better than Tian Ji’s. So every time he raced the King, Tian Ji would lose $600$ silver coins.\n\nTian Ji was very frustrated until he met the famous strategist — Sun Bin. After adopting Sun Bin’s plan, Tian Ji easily and gracefully won $200$ silver coins from the King of Qi over three races. The strategy was very simple. Since the King always sent out his best horse first and then his second best, Tian Ji used his regular-grade horse against the King’s super-grade horse, his super-grade horse against the King’s upper-grade horse, and his upper-grade horse against the King’s regular-grade horse, achieving two wins and one loss to gain $200$ silver coins. It was indeed simple.\n\nWhat if there are more than three horses? This problem can obviously be transformed into a bipartite optimal matching problem. Put Tian Ji’s horses on the left and the King’s horses on the right. Between Tian Ji’s horse A and the King’s horse B, if Tian Ji’s horse wins, add an edge with weight $200$; if it is a draw, add an edge with weight $0$; if it loses, add an edge with weight $-200$... If you do not know how to compute the optimal matching, you can also use minimum-cost maximum flow. However, the horse racing problem is a special case of bipartite optimal matching, and the above algorithms are overkill. Now, please design a simple algorithm to solve this problem.", "inputFormat": "The first line contains an integer $n$, indicating how many horses each of them has (both have the same number of horses).  \nThe second line contains $n$ integers, each representing the speed value of one of Tian Ji’s horses (each speed value is between $0$ and $100$ inclusive).  \nThe third line contains $n$ integers, describing the speed values of the King’s horses. When two horses meet, the winner is determined by the comparison of their speed values. If the speed values are equal, it is a draw and no one takes any money.", "outputFormat": "Output a single line containing one integer: the maximum number of silver coins Tian Ji can obtain.", "hint": "### Constraints and Conventions\n\n- For $20\\%$ of the testdata, $1 \\le n \\le 65$.\n- For $40\\%$ of the testdata, $1 \\le n \\le 250$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 2000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "田忌赛马", "background": "", "description": "我国历史上有个著名的故事： 那是在 $2300$ 年以前。齐国的大将军田忌喜欢赛马。他经常和齐王赛马。他和齐王都有三匹马：常规马，上级马，超级马。一共赛三局，每局的胜者可以从负者这里取得 $200$ 银币。每匹马只能用一次。齐王的马好，同等级的马，齐王的总是比田忌的要好一点。于是每次和齐王赛马，田忌总会输 $600$ 银币。\n\n田忌很沮丧，直到他遇到了著名的军师――孙膑。田忌采用了孙膑的计策之后，三场比赛下来，轻松而优雅地赢了齐王 $200$ 银币。这实在是个很简单的计策。由于齐王总是先出最好的马，再出次好的，所以田忌用常规马对齐王的超级马，用自己的超级马对齐王的上级马，用自己的上级马对齐王的常规马，以两胜一负的战绩赢得 $200$ 银币。实在很简单。\n\n如果不止三匹马怎么办？这个问题很显然可以转化成一个二分图最佳匹配的问题。把田忌的马放左边，把齐王的马放右边。田忌的马 A 和齐王的 B 之间，如果田忌的马胜，则连一条权为 $200$ 的边；如果平局，则连一条权为 $0$ 的边；如果输，则连一条权为 $-200$ 的边……如果你不会求最佳匹配，用最小费用最大流也可以啊。 然而，赛马问题是一种特殊的二分图最佳匹配的问题，上面的算法过于先进了，简直是杀鸡用牛刀。现在，就请你设计一个简单的算法解决这个问题。\n", "inputFormat": "第一行一个整数 $n$ ，表示他们各有几匹马（两人拥有的马的数目相同）。第二行 $n$ 个整数，每个整数都代表田忌的某匹马的速度值（$0 \\le $ 速度值 $\\le 100$）。第三行 $n$ 个整数，描述齐王的马的速度值。两马相遇，根据速度值的大小就可以知道哪匹马会胜出。如果速度值相同，则和局，谁也不拿钱。", "outputFormat": "仅一行，一个整数，表示田忌最大能得到多少银币。", "hint": "### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，$1\\le N\\le 65$；\n- 对于 $40\\%$ 的数据，$1\\le N\\le 250$；\n- 对于 $100\\%$ 的数据，$1\\le N\\le2000$。\n", "locale": "zh-CN"}}}
{"pid": "P1651", "type": "P", "difficulty": 4, "samples": [["3\r\n2 3 5", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "塔", "background": "", "description": "小明很喜欢摆积木，现在他正在玩的积木是由 $N$ 个木块组成的，他想用这些木块搭出两座高度相同的塔，一座塔的高度是搭建它的所有木块的高度和，并且一座塔至少要用一个木块。每个木块只能用一次，也可以不用。目前已知每块木块的高度，小明想知道在最终两个塔的高度相同的情况下，他所能搭的塔的最大高度是多少，你能帮助他吗？", "inputFormat": "第一行为一个整数 $N$，表示木块个数。\n\n第二行是 $N$ 个整数，表示 $N$ 块木块的高度。\n", "outputFormat": "仅一个整数，表示能搭建的塔的最大高度，若不能搭建两座相同高度的塔，则输出 `-1`。", "hint": "对于 $100\\%$ 的数据，$N \\le 50$ ，每块木块的高度 $h$ 满足 $1 \\le h \\le 500000$，所有木块的高度总和 $\\le 500000$。", "locale": "zh-CN", "translations": {"en": {"title": "Towers", "background": "", "description": "Xiao Ming likes stacking blocks. He currently has $N$ wooden blocks. He wants to build two towers of equal height. The height of a tower is the sum of the heights of all blocks used to build it, and each tower must use at least one block. Each block can be used at most once, and it is allowed to leave some blocks unused. Given the height of each block, determine the maximum possible height of the towers when the two towers have the same height. Can you help him?", "inputFormat": "The first line contains an integer $N$, the number of blocks.\nThe second line contains $N$ integers, the heights of the $N$ blocks.", "outputFormat": "Output a single integer, the maximum height of the towers that can be built. If it is impossible to build two towers of the same height, output `-1`.", "hint": "Constraints: For 100% of the testdata, $N \\le 50$. Each block height $h$ satisfies $1 \\le h \\le 500000$, and the total sum of all block heights is $\\le 500000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "塔", "background": "", "description": "小明很喜欢摆积木，现在他正在玩的积木是由 $N$ 个木块组成的，他想用这些木块搭出两座高度相同的塔，一座塔的高度是搭建它的所有木块的高度和，并且一座塔至少要用一个木块。每个木块只能用一次，也可以不用。目前已知每块木块的高度，小明想知道在最终两个塔的高度相同的情况下，他所能搭的塔的最大高度是多少，你能帮助他吗？", "inputFormat": "第一行为一个整数 $N$，表示木块个数。\n\n第二行是 $N$ 个整数，表示 $N$ 块木块的高度。\n", "outputFormat": "仅一个整数，表示能搭建的塔的最大高度，若不能搭建两座相同高度的塔，则输出 `-1`。", "hint": "对于 $100\\%$ 的数据，$N \\le 50$ ，每块木块的高度 $h$ 满足 $1 \\le h \\le 500000$，所有木块的高度总和 $\\le 500000$。", "locale": "zh-CN"}}}
{"pid": "P1652", "type": "P", "difficulty": 2, "samples": [["7\n1 -3 2 5 -4 12 12\n1 -1 2 5 5 1 1\n8 1 2 1 1 1 2\n-5 1 12 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "计算几何"], "title": "圆", "background": "", "description": "给出 $n$ 个圆，保证任意两个圆都不相交且不相切。  \n\n然后给出两个点 $(x_1,y_1),(x_2,y_2)$，保证均不在某个圆上。现在要从 $(x_1,y_1) \\to (x_2,y_2)$ 画条曲线，问这条曲线最少穿过多少次圆的边界？\n\n", "inputFormat": "- 第一行为一个整数 $n$，表示圆的个数；\n- 第二行是 $n$ 个整数，表示 $n$ 个圆的 $x$ 坐标；\n- 第三行是 $n$ 个整数，表示 $n$ 个圆的 $y$ 坐标；\n- 第四行是 $n$ 个整数，表示 $n$ 个圆的半径 $r$；\n- 第五行是四个整数 $x_1,y_1,x_2,y_2$。\n", "outputFormat": "仅一个整数，表示最少要穿过多少次圆的边界。\n", "hint": "【数据范围】  \n\n对于 $100\\%$ 的数据，$1\\le n \\le 50$，$|x|,|y| \\le 1000$，$1 \\le r \\le 1000$。\n\n保证圆之间没有公共点。", "locale": "zh-CN", "translations": {"en": {"title": "Circles", "background": "", "description": "You are given $n$ circles, and it is guaranteed that any two circles do not intersect and are not tangent.\n\nYou are then given two points $(x_1,y_1),(x_2,y_2)$, both guaranteed to be not on any circle. Now you want to draw a curve from $(x_1,y_1) \\to (x_2,y_2)$. What is the minimum number of times this curve must cross the boundaries of the circles?", "inputFormat": "- The first line contains an integer $n$, the number of circles.\n- The second line contains $n$ integers, the $x$-coordinates of the circles.\n- The third line contains $n$ integers, the $y$-coordinates of the circles.\n- The fourth line contains $n$ integers, the radii $r$ of the circles.\n- The fifth line contains four integers $x_1,y_1,x_2,y_2$.", "outputFormat": "Output a single integer, the minimum number of times the curve must cross the boundaries of the circles.", "hint": "Constraints\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 50$, $|x|, |y| \\le 1000$, $1 \\le r \\le 1000$.\n\nIt is guaranteed that no two circles share any point.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "圆", "background": "", "description": "给出 $n$ 个圆，保证任意两个圆都不相交且不相切。  \n\n然后给出两个点 $(x_1,y_1),(x_2,y_2)$，保证均不在某个圆上。现在要从 $(x_1,y_1) \\to (x_2,y_2)$ 画条曲线，问这条曲线最少穿过多少次圆的边界？\n\n", "inputFormat": "- 第一行为一个整数 $n$，表示圆的个数；\n- 第二行是 $n$ 个整数，表示 $n$ 个圆的 $x$ 坐标；\n- 第三行是 $n$ 个整数，表示 $n$ 个圆的 $y$ 坐标；\n- 第四行是 $n$ 个整数，表示 $n$ 个圆的半径 $r$；\n- 第五行是四个整数 $x_1,y_1,x_2,y_2$。\n", "outputFormat": "仅一个整数，表示最少要穿过多少次圆的边界。\n", "hint": "【数据范围】  \n\n对于 $100\\%$ 的数据，$1\\le n \\le 50$，$|x|,|y| \\le 1000$，$1 \\le r \\le 1000$。\n\n保证圆之间没有公共点。", "locale": "zh-CN"}}}
{"pid": "P1653", "type": "P", "difficulty": 4, "samples": [["9 3\n1 1 1 2 2 2 1 1 1\n1 2 1 2 3 2 1 2 1\n1 1 1 2 2 2 1 1 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["图论", "2004", "USACO", "连通块", "强连通分量", "Tarjan"], "title": "[USACO04DEC] Cow Ski Area G", "background": "", "description": "约翰的表哥罗恩生活在科罗拉多州。他近来打算教他的奶牛们滑雪，但是奶牛们非常害羞，不敢在游人组织的度假胜地滑雪。没办法，他只好自己建滑雪场了。罗恩的雪场可以划分为 $W$ 列 $L$ 行 $(1\\le W\\le 500, 1\\le L\\le 500)$，每个方格有一个特定的高度 $H(0\\le H\\le 9999)$。奶牛可以在相邻方格间滑雪，而且不能由低到高滑。\n\n为了保证任意方格可以互通，罗恩打算造一些直达缆车。缆车很强大，可以连接任意两个方格，而且是双向的。而且同一个方格也可以造多台缆车。但是缆车的建造费用贵得吓人，所以他希望造尽量少的缆车。那最少需要造多少台呢？", "inputFormat": "第 $1$ 行：$W$，$L$。\n\n接下来输入宽 $W$ 高 $L$ 的矩阵地图。", "outputFormat": "输出最小需要的缆车数。", "hint": "$1\\le W,L\\le 500$，$0\\le H\\le 9999$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO04DEC] Cow Ski Area G", "background": "# Description\n\nJohn’s cousin Ron lives in Colorado. He plans to teach his cows to ski, but they are very shy and do not dare to ski at tourist resorts. So he has to build his own ski area. Ron’s ski area can be divided into $W$ columns and $L$ rows ($1 \\le W \\le 500$, $1 \\le L \\le 500$). Each cell has a specific height $H$ ($0 \\le H \\le 9999$). Cows can ski between adjacent cells, and they are not allowed to move from a lower cell to a higher one.\n\nTo ensure that any two cells can reach each other, Ron plans to build some direct lifts. Lifts are powerful: they can connect any two cells and are bidirectional. Multiple lifts can be built at the same cell. However, lifts are very expensive, so he wants to build as few as possible. What is the minimum number of lifts needed?", "description": "", "inputFormat": "", "outputFormat": "Output the minimum number of lifts needed.", "hint": "Constraints: $1 \\le W, L \\le 500$, $0 \\le H \\le 9999$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO04DEC] Cow Ski Area G", "background": "", "description": "约翰的表哥罗恩生活在科罗拉多州。他近来打算教他的奶牛们滑雪，但是奶牛们非常害羞，不敢在游人组织的度假胜地滑雪。没办法，他只好自己建滑雪场了。罗恩的雪场可以划分为 $W$ 列 $L$ 行 $(1\\le W\\le 500, 1\\le L\\le 500)$，每个方格有一个特定的高度 $H(0\\le H\\le 9999)$。奶牛可以在相邻方格间滑雪，而且不能由低到高滑。\n\n为了保证任意方格可以互通，罗恩打算造一些直达缆车。缆车很强大，可以连接任意两个方格，而且是双向的。而且同一个方格也可以造多台缆车。但是缆车的建造费用贵得吓人，所以他希望造尽量少的缆车。那最少需要造多少台呢？", "inputFormat": "第 $1$ 行：$W$，$L$。\n\n接下来输入宽 $W$ 高 $L$ 的矩阵地图。", "outputFormat": "输出最小需要的缆车数。", "hint": "$1\\le W,L\\le 500$，$0\\le H\\le 9999$。", "locale": "zh-CN"}}}
{"pid": "P1654", "type": "P", "difficulty": 5, "samples": [["3 \n0.5 \n0.5 \n0.5", "6.0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "OSU!", "background": "原 《产品排序》 参见P2577", "description": "osu 是一款群众喜闻乐见的休闲软件。 \n\n我们可以把 osu 的规则简化与改编成以下的样子: \n\n一共有 $n$ 次操作，每次操作只有成功与失败之分，成功对应 $1$，失败对应 $0$，$n$ 次操作对应为 $1$ 个长度为 $n$ 的 01 串。在这个串中连续的  $X$ 个 $1$ 可以贡献 $X^3$ 的分数，这 $x$ 个 $1$ 不能被其他连续的 $1$ 所包含（也就是极长的一串 $1$，具体见样例解释） \n\n现在给出 $n$，以及每个操作的成功率，请你输出期望分数，输出四舍五入后保留 $1$ 位小数。", "inputFormat": "第一行有一个正整数 $n$，表示操作个数。接下去 $n$ 行每行有一个 $[0,1]$ 之间的实数，表示每个操作的成功率。", "outputFormat": "只有一个实数，表示答案。答案四舍五入后保留 $1$ 位小数。", "hint": "【样例说明】\n\n$000$ 分数为 $0$，$001$ 分数为 $1$，$010$ 分数为 $1$，$100$ 分数为 $1$，$101$ 分数为 $2$，$110$ 分数为 $8$，$011$ 分数为 $8$，$111$ 分数为 $27$，总和为 $48$，期望为 $\\dfrac{48}8 = 6.0$。\n\n$n \\leq 1 \\times 10 ^ 5$。", "locale": "zh-CN", "translations": {"en": {"title": "OSU!", "background": "Original \"Product Sorting\", see P2577.", "description": "osu is a popular casual game.\n\nWe can simplify and adapt its rules as follows:\n\nThere are $n$ operations. Each operation is either a success or a failure, where success is denoted by $1$ and failure by $0$. The $n$ operations form a binary string of length $n$. In this string, every maximal run of $X$ consecutive $1$'s contributes $X^3$ points to the score (i.e., these $X$ ones must not be contained within a longer run of consecutive $1$'s; see the sample explanation).\n\nGiven $n$ and the success probability of each operation, output the expected score, rounded to 1 decimal place.", "inputFormat": "The first line contains a positive integer $n$, the number of operations.  \nEach of the next $n$ lines contains a real number in $[0, 1]$, denoting the success probability of each operation.", "outputFormat": "Output a single real number, the answer, rounded to 1 decimal place.", "hint": "[Sample explanation]\n\n$000$ has a score of $0$，$001$ has a score of $1$，$010$ has a score of $1$，$100$ has a score of $1$，$101$ has a score of $2$，$110$ has a score of $8$，$011$ has a score of $8$，$111$ has a score of $27$，the total is $48$, and the expectation is $\\dfrac{48}8 = 6.0$.\n\nConstraints: $n \\leq 1 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "OSU!", "background": "原 《产品排序》 参见P2577", "description": "osu 是一款群众喜闻乐见的休闲软件。 \n\n我们可以把 osu 的规则简化与改编成以下的样子: \n\n一共有 $n$ 次操作，每次操作只有成功与失败之分，成功对应 $1$，失败对应 $0$，$n$ 次操作对应为 $1$ 个长度为 $n$ 的 01 串。在这个串中连续的  $X$ 个 $1$ 可以贡献 $X^3$ 的分数，这 $x$ 个 $1$ 不能被其他连续的 $1$ 所包含（也就是极长的一串 $1$，具体见样例解释） \n\n现在给出 $n$，以及每个操作的成功率，请你输出期望分数，输出四舍五入后保留 $1$ 位小数。", "inputFormat": "第一行有一个正整数 $n$，表示操作个数。接下去 $n$ 行每行有一个 $[0,1]$ 之间的实数，表示每个操作的成功率。", "outputFormat": "只有一个实数，表示答案。答案四舍五入后保留 $1$ 位小数。", "hint": "【样例说明】\n\n$000$ 分数为 $0$，$001$ 分数为 $1$，$010$ 分数为 $1$，$100$ 分数为 $1$，$101$ 分数为 $2$，$110$ 分数为 $8$，$011$ 分数为 $8$，$111$ 分数为 $27$，总和为 $48$，期望为 $\\dfrac{48}8 = 6.0$。\n\n$n \\leq 1 \\times 10 ^ 5$。", "locale": "zh-CN"}}}
{"pid": "P1655", "type": "P", "difficulty": 4, "samples": [["4 2\n1 1", "7\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "高精度", "洛谷原创", "组合数学", "Stirling 数", "洛谷月赛"], "title": "小朋友的球", "background": "", "description": "@发源于 小朋友最近特别喜欢球。有一天他脑子抽了，从口袋里拿出了 $N$ 个不同的球，想把它们放到 $M$ 个相同的盒子里，并且要求每个盒子中至少要有一个球，他好奇有几种放法，于是尝试编程实现，但由于他天天不好好学习，只会上 B 站看游泳教练，于是他向你求助。", "inputFormat": "多组数据，每行两个数 $N,M$。\n", "outputFormat": "每组数据一行，表示方案数。\n", "hint": "- 对于 $20\\%$ 的数据，满足 $N,M \\leq 10$；\n- 对于 $100\\%$ 的数据，满足 $1 \\leq N,M \\leq 100$，一个测试文件最多有 $10$ 组测试数据。\n", "locale": "zh-CN", "translations": {"en": {"title": "Kid's Balls", "background": "", "description": "A kid recently became very fond of balls. One day, he took $N$ distinct balls out of his pocket and wants to put them into $M$ identical boxes, with at least one ball in each box. He wonders how many ways there are. He tried to write a program, but since he slacks off and only watches swimming coaches on Bilibili, he asks you for help.", "inputFormat": "Multiple test cases. Each line contains two integers $N, M$.", "outputFormat": "For each test case, output a single line with the number of ways.", "hint": "- For $20\\%$ of the testdata, $N, M \\leq 10$.\n- For $100\\%$ of the testdata, $1 \\leq N, M \\leq 100$, and there are at most $10$ test cases per test file.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小朋友的球", "background": "", "description": "@发源于 小朋友最近特别喜欢球。有一天他脑子抽了，从口袋里拿出了 $N$ 个不同的球，想把它们放到 $M$ 个相同的盒子里，并且要求每个盒子中至少要有一个球，他好奇有几种放法，于是尝试编程实现，但由于他天天不好好学习，只会上 B 站看游泳教练，于是他向你求助。", "inputFormat": "多组数据，每行两个数 $N,M$。\n", "outputFormat": "每组数据一行，表示方案数。\n", "hint": "- 对于 $20\\%$ 的数据，满足 $N,M \\leq 10$；\n- 对于 $100\\%$ 的数据，满足 $1 \\leq N,M \\leq 100$，一个测试文件最多有 $10$ 组测试数据。\n", "locale": "zh-CN"}}}
{"pid": "P1656", "type": "P", "difficulty": 3, "samples": [["6 6\n1 2\n2 3\n2 4\n3 5\n4 5\n5 6", "1 2\n5 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "图论", "并查集", "洛谷原创", "最短路", "Tarjan"], "title": "炸铁路", "background": null, "description": "A 国派出将军 uim，对 B 国进行战略性措施，以解救涂炭的生灵。\n\nB 国有 $n$ 个城市，这些城市以铁路相连。任意两个城市都可以通过铁路直接或者间接到达。\n\nuim 发现有些铁路被毁坏之后，某两个城市无法互相通过铁路到达。这样的铁路就被称为 key road。\n\nuim 为了尽快使该国的物流系统瘫痪，希望炸毁铁路，以达到存在某两个城市无法互相通过铁路到达的效果。\n\n然而，只有一发炮弹（A 国国会不给钱了）。所以，他能轰炸哪一条铁路呢？", "inputFormat": "第一行 $n,m\\ (1 \\leq n\\leq 150$，$1 \\leq m \\leq 5000)$，分别表示有 $n$ 个城市，总共 $m$ 条铁路。\n\n以下 $m$ 行，每行两个整数 $a, b$，表示城市 $a$ 和城市 $b$ 之间有铁路直接连接。", "outputFormat": "输出有若干行。\n\n每行包含两个数字 $a,b$，其中 $a<b$，表示 $\\lang a,b\\rang$ 是 key road。\n\n请注意：输出时，所有的数对 $\\lang a,b\\rang$ 必须按照 $a$ 从小到大排序输出；如果 $a$ 相同，则根据 $b$ 从小到大排序。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Bomb the Railways", "background": "", "description": "Country A dispatches General uim to take strategic measures against Country B to rescue the suffering people.\n\nCountry B has $n$ cities connected by railways. Any two cities can be reached directly or indirectly via railways.\n\nuim discovers that if a certain railway is destroyed, there will be a pair of cities that can no longer reach each other by railway. Such a railway is called a \"key road.\"\n\nTo quickly paralyze the country's logistics system, uim hopes to blow up railways so that there exists a pair of cities that cannot reach each other.\n\nHowever, there is only one shell (Country A's parliament will not fund more). So, which single railway can he bomb?", "inputFormat": "The first line contains $n, m\\ (1 \\leq n \\leq 150,\\ 1 \\leq m \\leq 5000)$, representing that there are $n$ cities and a total of $m$ railways.\n\nThe following $m$ lines each contain two integers $a, b$, indicating that city $a$ and city $b$ are directly connected by a railway.", "outputFormat": "Output several lines.\n\nEach line contains two numbers $a, b$, with $a < b$, indicating that $\\lang a,b\\rang$ is a key road.\n\nPlease note: In the output, all pairs $\\lang a,b\\rang$ must be sorted by increasing $a$; if $a$ is the same, then sort by increasing $b$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "炸铁路", "background": null, "description": "A 国派出将军 uim，对 B 国进行战略性措施，以解救涂炭的生灵。\n\nB 国有 $n$ 个城市，这些城市以铁路相连。任意两个城市都可以通过铁路直接或者间接到达。\n\nuim 发现有些铁路被毁坏之后，某两个城市无法互相通过铁路到达。这样的铁路就被称为 key road。\n\nuim 为了尽快使该国的物流系统瘫痪，希望炸毁铁路，以达到存在某两个城市无法互相通过铁路到达的效果。\n\n然而，只有一发炮弹（A 国国会不给钱了）。所以，他能轰炸哪一条铁路呢？", "inputFormat": "第一行 $n,m\\ (1 \\leq n\\leq 150$，$1 \\leq m \\leq 5000)$，分别表示有 $n$ 个城市，总共 $m$ 条铁路。\n\n以下 $m$ 行，每行两个整数 $a, b$，表示城市 $a$ 和城市 $b$ 之间有铁路直接连接。", "outputFormat": "输出有若干行。\n\n每行包含两个数字 $a,b$，其中 $a<b$，表示 $\\lang a,b\\rang$ 是 key road。\n\n请注意：输出时，所有的数对 $\\lang a,b\\rang$ 必须按照 $a$ 从小到大排序输出；如果 $a$ 相同，则根据 $b$ 从小到大排序。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1657", "type": "P", "difficulty": 2, "samples": [["5\n1 3\n4 5\n2 5\n1 4\n3 5", "2"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072]}, "tags": ["模拟", "搜索", "递归"], "title": "选书", "background": "", "description": "学校放寒假时，信息学奥赛辅导老师有 $1,2,3,\\cdots,x$ 本书，要分给参加培训的 $x$ 个人，每人只能选一本书，但是每人有两本喜欢的书。\n\n老师事先让每个人将自己喜欢的书填写在一张表上。然后根据他们填写的表来分配书本，希望设计一个程序帮助老师求出所有可能的分配方案，使每个学生都满意。", "inputFormat": "第 $1$ 行一个数 $x$。\n\n第 $2$ 行至第 $1+x$ 行，每行两个数，表示 $a_i$ 喜欢的书的序号。", "outputFormat": "只有一个数，总方案数 $\\mathit{total}$。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1\\le x\\le 20$。\n\n\n$\\text{update 2022/03/07}$，阮行止\n\n本题原始数据中，最后一个数据点的 x 为 $0$，期望输出为  $0$。考虑到这个数据不合理，予以删去。现在提交这个题目不会遇到 $x=0$ 的数据点。\n\n\n", "locale": "zh-CN", "translations": {"en": {"title": "Selecting Books", "background": "", "description": "When school goes on winter break, the informatics olympiad coach has $1,2,3,\\cdots,x$ books to distribute to $x$ trainees. Each person can receive only one book, but each person has two favorite books.\n\nThe teacher first asks each person to write down the books they like on a sheet. Then, based on these sheets, the teacher assigns the books. Please write a program to find the total number of possible assignment schemes in which every student is satisfied.", "inputFormat": "Line $1$: a number $x$.\n\nLines $2$ through $1+x$: each line contains two numbers, indicating the indices of the books that $a_i$ likes.", "outputFormat": "A single number: the total number of schemes $\\mathit{total}$.", "hint": "Constraints\n\nFor all testdata, $1\\le x\\le 20$.\n\n$\\text{update 2022/03/07}$, Ruan Xingzhi\n\nIn the original testdata for this problem, the last data point has $x$ equal to $0$, and the expected output is $0$. Considering this data is unreasonable, it has been removed. Now, when submitting this problem, you will not encounter data points with $x=0$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "选书", "background": "", "description": "学校放寒假时，信息学奥赛辅导老师有 $1,2,3,\\cdots,x$ 本书，要分给参加培训的 $x$ 个人，每人只能选一本书，但是每人有两本喜欢的书。\n\n老师事先让每个人将自己喜欢的书填写在一张表上。然后根据他们填写的表来分配书本，希望设计一个程序帮助老师求出所有可能的分配方案，使每个学生都满意。", "inputFormat": "第 $1$ 行一个数 $x$。\n\n第 $2$ 行至第 $1+x$ 行，每行两个数，表示 $a_i$ 喜欢的书的序号。", "outputFormat": "只有一个数，总方案数 $\\mathit{total}$。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1\\le x\\le 20$。\n\n\n$\\text{update 2022/03/07}$，阮行止\n\n本题原始数据中，最后一个数据点的 x 为 $0$，期望输出为  $0$。考虑到这个数据不合理，予以删去。现在提交这个题目不会遇到 $x=0$ 的数据点。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P1658", "type": "P", "difficulty": 3, "samples": [["20 4\n1 2 5 10\n", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心"], "title": "购物", "background": "", "description": "你就要去购物了，现在你手上有 $N$ 种不同面值的硬币，每种硬币有无限多个。为了方便购物，你希望带尽量少的硬币，但要能组合出 $1$ 到 $X$ 之间的任意值。\n", "inputFormat": "第一行两个数 $X, N$，以下 $N$ 个数，表示每种硬币的面值。", "outputFormat": "最少需要携带的硬币个数，如果无解输出 `-1`。", "hint": "对于 $30\\%$ 的数据，满足 $N \\le 3$，$X \\le 20$；\n\n对于 $100\\%$ 的数据，满足 $N \\le 10$，$X \\le 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "Shopping", "background": "", "description": "You are going shopping. You have $N$ types of coins with different denominations, and each type is available in unlimited quantity. For convenience, you want to carry as few coins as possible, while still being able to form any value from $1$ to $X$.", "inputFormat": "The first line contains two integers $X, N$. The next $N$ integers denote the denomination of each coin type.", "outputFormat": "Output the minimum number of coins you need to carry. If there is no solution, output `-1`.", "hint": "For 30% of the testdata, $N \\le 3$, $X \\le 20$.\nFor 100% of the testdata, $N \\le 10$, $X \\le 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "购物", "background": "", "description": "你就要去购物了，现在你手上有 $N$ 种不同面值的硬币，每种硬币有无限多个。为了方便购物，你希望带尽量少的硬币，但要能组合出 $1$ 到 $X$ 之间的任意值。\n", "inputFormat": "第一行两个数 $X, N$，以下 $N$ 个数，表示每种硬币的面值。", "outputFormat": "最少需要携带的硬币个数，如果无解输出 `-1`。", "hint": "对于 $30\\%$ 的数据，满足 $N \\le 3$，$X \\le 20$；\n\n对于 $100\\%$ 的数据，满足 $N \\le 10$，$X \\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1659", "type": "P", "difficulty": 5, "samples": [["5 3\nababa", "45\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["字符串", "集训队互测", "前缀和", "Manacher 算法"], "title": "[国家集训队] 拉拉队排练", "background": null, "description": "艾利斯顿商学院篮球队要参加一年一度的市篮球比赛了。拉拉队是篮球比赛的一个看点，好的拉拉队往往能帮助球队增加士气，赢得最终的比赛。所以作为拉拉队队长的楚雨荨同学知道，帮助篮球队训练好拉拉队有多么的重要。\n\n拉拉队的选拔工作已经结束，在雨荨和校长的挑选下，$n$ 位集优秀的身材、舞技于一体的美女从众多报名的女生中脱颖而出。这些女生将随着篮球队的小伙子们一起，和对手抗衡，为艾利斯顿篮球队加油助威。\n\n一个阳光明媚的早晨，雨荨带领拉拉队的队员们开始了排练。$n$ 个女生从左到右排成一行，每个人手中都举了一个写有 $26$ 个小写字母中的某一个的牌子，在比赛的时候挥舞，为小伙子们呐喊、加油。\n\n雨荨发现，如果连续的一段女生，有奇数个，并且她们手中的牌子所写的字母，从左到右和从右到左读起来一样，那么这一段女生就被称作和谐小群体。\n\n现在雨荨想找出所有和谐小群体，并且按照女生的个数降序排序之后，前 $K$ 个和谐小群体的女生个数的乘积是多少。由于答案可能很大，雨荨只要你告诉她，答案除以 $19930726$ 的余数是多少就行了。", "inputFormat": "第一行为两个正整数 $n$ 和 $K$，含义如题面所述。\n\n接下来一行为 $n$ 个字符，代表从左到右女生拿的牌子上写的字母。", "outputFormat": "输出一个整数，代表题目描述中所写的乘积除以 $19930726$ 的余数，如果总的和谐小群体个数小于 $K$，输出一个整数 $-1$。", "hint": "### 样例说明\n\n和谐小群体女生所拿牌子上写的字母从左到右按照女生个数降序排序后为 `ababa`，`aba`，`aba`，`bab`，`a`，`a`，`a`，`b`，`b`，前三个长度的乘积为 $5\\times 3\\times 3 = 45$。\n\n\n### 数据范围与约定\n\n\n测试点 | $1\\le n\\le$ | $1\\le K\\le$\n|-|-|-|\n| $1$ | $10$ | $10$ |\n| $2\\sim3$ | $100$ | $100$ |\n| $4\\sim7$ | $1000$ | $1000$ |\n| $8$ | $10^5$ | $1$ |\n| $9\\sim11$ | $10^5$ | $10^5$ |\n| $12\\sim14$ | $10^5$ | $10^{12}$ |\n| $15\\sim17$ | $5\\times10^5$ | $10^{12}$ |\n| $18$ | $10^6$ | $1$ |\n| $19$ | $10^6$ | $10^6$ |\n| $20$ | $10^6$ | $10^{12}$ |", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Cheerleading Rehearsal", "background": "", "description": "The Ailiston Business School basketball team is going to compete in the annual city basketball tournament. The cheerleading squad is a highlight of the game; a good squad can often boost morale and help the team win. As the captain of the cheerleading squad, Chu Yuxin knows how important it is to train the squad well.\n\nThe selection is over. With the choices made by Yuxin and the principal, $n$ girls with excellent figures and dance skills have been chosen from many applicants. These girls will stand with the basketball team and cheer for Ailiston.\n\nOn a sunny morning, Yuxin led the team to start rehearsal. The $n$ girls line up from left to right. Each girl holds a sign bearing one of the $26$ lowercase letters, which they will wave during the game.\n\nYuxin notices that if a contiguous segment of girls has an odd number of members, and the letters on their signs read the same from left to right and from right to left, then this segment is called a harmonious group.\n\nNow Yuxin wants to find all harmonious groups. After sorting them by the number of girls in descending order, what is the product of the sizes of the first $K$ harmonious groups? Since the answer can be large, please report the remainder when divided by $19930726$.", "inputFormat": "The first line contains two positive integers $n$ and $K$, as described above.\n\nThe second line contains $n$ characters, representing the letters on the signs from left to right.", "outputFormat": "Output a single integer: the remainder of the product described in the statement divided by $19930726$. If the total number of harmonious groups is less than $K$, output $-1$.", "hint": "### Sample Explanation\n\nAfter sorting the letters of harmonious groups from left to right by group size in descending order, they are `ababa`, `aba`, `aba`, `bab`, `a`, `a`, `a`, `b`, `b`. The product of the first three lengths is $5 \\times 3 \\times 3 = 45$.\n\n### Constraints\n\nTest point | $1 \\le n \\le$ | $1 \\le K \\le$\n-|-|-\n$1$ | $10$ | $10$\n$2\\sim3$ | $100$ | $100$\n$4\\sim7$ | $1000$ | $1000$\n$8$ | $10^5$ | $1$\n$9\\sim11$ | $10^5$ | $10^5$\n$12\\sim14$ | $10^5$ | $10^{12}$\n$15\\sim17$ | $5\\times 10^5$ | $10^{12}$\n$18$ | $10^6$ | $1$\n$19$ | $10^6$ | $10^6$\n$20$ | $10^6$ | $10^{12}$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 拉拉队排练", "background": null, "description": "艾利斯顿商学院篮球队要参加一年一度的市篮球比赛了。拉拉队是篮球比赛的一个看点，好的拉拉队往往能帮助球队增加士气，赢得最终的比赛。所以作为拉拉队队长的楚雨荨同学知道，帮助篮球队训练好拉拉队有多么的重要。\n\n拉拉队的选拔工作已经结束，在雨荨和校长的挑选下，$n$ 位集优秀的身材、舞技于一体的美女从众多报名的女生中脱颖而出。这些女生将随着篮球队的小伙子们一起，和对手抗衡，为艾利斯顿篮球队加油助威。\n\n一个阳光明媚的早晨，雨荨带领拉拉队的队员们开始了排练。$n$ 个女生从左到右排成一行，每个人手中都举了一个写有 $26$ 个小写字母中的某一个的牌子，在比赛的时候挥舞，为小伙子们呐喊、加油。\n\n雨荨发现，如果连续的一段女生，有奇数个，并且她们手中的牌子所写的字母，从左到右和从右到左读起来一样，那么这一段女生就被称作和谐小群体。\n\n现在雨荨想找出所有和谐小群体，并且按照女生的个数降序排序之后，前 $K$ 个和谐小群体的女生个数的乘积是多少。由于答案可能很大，雨荨只要你告诉她，答案除以 $19930726$ 的余数是多少就行了。", "inputFormat": "第一行为两个正整数 $n$ 和 $K$，含义如题面所述。\n\n接下来一行为 $n$ 个字符，代表从左到右女生拿的牌子上写的字母。", "outputFormat": "输出一个整数，代表题目描述中所写的乘积除以 $19930726$ 的余数，如果总的和谐小群体个数小于 $K$，输出一个整数 $-1$。", "hint": "### 样例说明\n\n和谐小群体女生所拿牌子上写的字母从左到右按照女生个数降序排序后为 `ababa`，`aba`，`aba`，`bab`，`a`，`a`，`a`，`b`，`b`，前三个长度的乘积为 $5\\times 3\\times 3 = 45$。\n\n\n### 数据范围与约定\n\n\n测试点 | $1\\le n\\le$ | $1\\le K\\le$\n|-|-|-|\n| $1$ | $10$ | $10$ |\n| $2\\sim3$ | $100$ | $100$ |\n| $4\\sim7$ | $1000$ | $1000$ |\n| $8$ | $10^5$ | $1$ |\n| $9\\sim11$ | $10^5$ | $10^5$ |\n| $12\\sim14$ | $10^5$ | $10^{12}$ |\n| $15\\sim17$ | $5\\times10^5$ | $10^{12}$ |\n| $18$ | $10^6$ | $1$ |\n| $19$ | $10^6$ | $10^6$ |\n| $20$ | $10^6$ | $10^{12}$ |", "locale": "zh-CN"}}}
{"pid": "P1660", "type": "P", "difficulty": 5, "samples": [["2 1 5", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "树形数据结构", "递归"], "title": "数位平方和", "background": "", "description": "定义 $S(n)$ 表示 $n$ 的各个数位的 $k$ 次方的和。\n\n定义 $H(n)$ 为满足 $H(n) \\le \\min\\{n, H(S(n))\\}$ 的最大值。\n\n求$\\sum_{i=A}^{B} H(i) \\bmod (10^7 + 7)$。", "inputFormat": "一行三个数 $k, A, B$。", "outputFormat": "一个数，表示 $\\sum_{i=A}^{B} H(i) \\bmod (10^7 + 7)$。", "hint": "对于 $20\\%$ 的数据，$A, B \\le 50$。  \n对于 $100\\%$ 的数据，$1 \\le A, B \\le {10}^6$，$1 \\le k \\le 6$。", "locale": "zh-CN", "translations": {"en": {"title": "Sum of Squares of Digits", "background": "", "description": "Define $S(n)$ as the sum of the $k$-th powers of the digits of $n$.\n\nDefine $H(n)$ as the maximum value satisfying $H(n) \\le \\min\\{n, H(S(n))\\}$.\n\nCompute $\\sum_{i=A}^{B} H(i) \\bmod (10^7 + 7)$.", "inputFormat": "One line with three integers $k, A, B$.", "outputFormat": "One integer, equal to $\\sum_{i=A}^{B} H(i) \\bmod (10^7 + 7)$.", "hint": "For $20\\%$ of the testdata, $A, B \\le 50$.\nFor $100\\%$ of the testdata, $1 \\le A, B \\le {10}^6$, $1 \\le k \\le 6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数位平方和", "background": "", "description": "定义 $S(n)$ 表示 $n$ 的各个数位的 $k$ 次方的和。\n\n定义 $H(n)$ 为满足 $H(n) \\le \\min\\{n, H(S(n))\\}$ 的最大值。\n\n求$\\sum_{i=A}^{B} H(i) \\bmod (10^7 + 7)$。", "inputFormat": "一行三个数 $k, A, B$。", "outputFormat": "一个数，表示 $\\sum_{i=A}^{B} H(i) \\bmod (10^7 + 7)$。", "hint": "对于 $20\\%$ 的数据，$A, B \\le 50$。  \n对于 $100\\%$ 的数据，$1 \\le A, B \\le {10}^6$，$1 \\le k \\le 6$。", "locale": "zh-CN"}}}
