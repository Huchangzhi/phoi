{"pid": "P10492", "type": "P", "difficulty": 4, "samples": [["1 \n0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 \n7\n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n1 0 0 0 0 0 1 0 0 0 0 1 1 0 0 1 \n0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 1 \n0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 \n0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 \n1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 \n0 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0 \n7 \n0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 \n0 0 1 0 0 0 0 1 0 0 0 0 0 1 0 0 \n0 0 0 1 0 0 0 0 0 0 1 0 1 0 0 0 \n0 1 0 0 0 0 0 1 0 0 0 0 1 0 0 0 \n0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 1 1 0 1 0 0 0 0 1 \n0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0\n15 \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 \n0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0  \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0  \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 1 1 0 1 0 0 0 0 \n0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 \n0 0 1 1 0 0 0 0 0 1 0 0 0 0 0 0 \n1 1 0 0 0 0 0 0 0 0 1 0 0 1 0 0 \n0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0  \n0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 \n1 0 0 1 1 0 0 0 0 1 0 1 0 0 0 0 \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 \n0 0 0 0 0 1 0 1 0 1 0 0 0 0 0 0  \n0", "0\n1\n0\n1"]], "limits": {"time": [1000], "memory": [524288]}, "tags": ["2003", "广度优先搜索 BFS", "深度优先搜索 DFS", "剪枝", "记忆化搜索", "ICPC"], "title": "[ICPC-Aizu 2003] Weather Forecast", "background": null, "description": "You are the God of Wind.\n\nBy moving a big cloud around, you can decide the weather: it invariably rains under the cloud, and the sun shines everywhere else.\n\nBut you are a benign God: your goal is to give enough rain to every field in the countryside, and sun to markets and festivals. Small humans, in their poor vocabulary, only describe this as \"weather forecast\".\n\nYou are in charge of a small country, called Paccimc. This country is constituted of 4 x 4 square areas, denoted by their numbers.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tuq65kcj.png)\n\nYour cloud is of size 2 x 2, and may not cross the borders of the country.\n\nYou are given the schedule of markets and festivals in each area for a period of time.\n\nOn the first day of the period, it is raining in the central areas (6-7-10-11), independently of the schedule.\n\nOn each of the following days, you may move your cloud by 1 or 2 squares in one of the four cardinal directions (North, West, South, and East), or leave it in the same position. Diagonal moves are not allowed. All moves occur at the beginning of the day.\n\nYou should not leave an area without rain for a full week (that is, you are allowed at most 6 consecutive days without rain). You don't have to care about rain on days outside the period you were given: i.e. you can assume it rains on the whole country the day before the period, and the day after it finishes.", "inputFormat": "The input is a sequence of data sets, followed by a terminating line containing only a zero.\n\nA data set gives the number N of days (no more than 365) in the period on a single line, followed by N lines giving the schedule for markets and festivals. The i-th line gives the schedule for the i-th day. It is composed of 16 numbers, either 0 or 1, 0 standing for a normal day, and 1 a market or festival day. The numbers are separated by one or more spaces.", "outputFormat": "The answer is a 0 or 1 on a single line for each data set, 1 if you can satisfy everybody, 0 if there is no way to do it.", "hint": null, "locale": "en", "translations": {"en": {"title": "[ICPC-Aizu 2003] Weather Forecast", "background": null, "description": "You are the God of Wind.\n\nBy moving a big cloud around, you can decide the weather: it invariably rains under the cloud, and the sun shines everywhere else.\n\nBut you are a benign God: your goal is to give enough rain to every field in the countryside, and sun to markets and festivals. Small humans, in their poor vocabulary, only describe this as \"weather forecast\".\n\nYou are in charge of a small country, called Paccimc. This country is constituted of 4 x 4 square areas, denoted by their numbers.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tuq65kcj.png)\n\nYour cloud is of size 2 x 2, and may not cross the borders of the country.\n\nYou are given the schedule of markets and festivals in each area for a period of time.\n\nOn the first day of the period, it is raining in the central areas (6-7-10-11), independently of the schedule.\n\nOn each of the following days, you may move your cloud by 1 or 2 squares in one of the four cardinal directions (North, West, South, and East), or leave it in the same position. Diagonal moves are not allowed. All moves occur at the beginning of the day.\n\nYou should not leave an area without rain for a full week (that is, you are allowed at most 6 consecutive days without rain). You don't have to care about rain on days outside the period you were given: i.e. you can assume it rains on the whole country the day before the period, and the day after it finishes.", "inputFormat": "The input is a sequence of data sets, followed by a terminating line containing only a zero.\n\nA data set gives the number N of days (no more than 365) in the period on a single line, followed by N lines giving the schedule for markets and festivals. The i-th line gives the schedule for the i-th day. It is composed of 16 numbers, either 0 or 1, 0 standing for a normal day, and 1 a market or festival day. The numbers are separated by one or more spaces.", "outputFormat": "The answer is a 0 or 1 on a single line for each data set, 1 if you can satisfy everybody, 0 if there is no way to do it.", "hint": null, "locale": "en"}, "zh-CN": {"title": "[ICPC-Aizu 2003] Weather Forecast", "background": null, "description": "你是风之神。\n\n通过移动一朵大云，你可以决定天气：云下必定下雨，其他地方阳光普照。\n\n但你是一个仁慈的神：你的目标是给乡间的每个田地带来足够的雨水，给市场和节日带来阳光。小人类用他们贫乏的词汇，只能将这称为“天气预报”。\n\n你负责管理一个名为 Paccimc 的小国家。这个国家由 $4 \\times 4$ 的方块区域组成，用它们的编号表示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tuq65kcj.png)\n\n你的云的大小为 $2 \\times 2$，不得越过国家的边界。\n\n给出了一段时间内每个区域的市场和节日的安排。\n\n在该时段的第一天，无论安排如何，在中心区域（6-7-10-11）都会下雨。\n\n在接下来的每一天，你可以将你的云向四个基本方向之一（北、西、南和东）移动 $1$ 或 $2$ 个方格，也可以将其保持在原位。不允许对角线移动。所有移动均发生在一天开始时。\n\n你不应该让一个区域连续一周没有雨水（也就是说，你允许最多连续 $6$ 天没有雨）。你不必在你获得的时间段之外的日子里考虑雨水：也就是说，你可以假设在时间段之前的整个国家都下雨，在它结束后的一天也是如此。", "inputFormat": "输入一个数据集序列，后跟一个仅包含零的终止行。\n\n一个数据集在单独的一行上给出了期间中的天数 $N$（不超过 $365$），然后是 $N$ 行，给出了市场和节日的安排。第 $i$ 行给出了第 $i$ 天的安排。它由 $16$ 个数字组成，要么是 $0$ 要么是 $1$，$0$ 表示正常日，$1$ 表示市场或节日。数字之间用一个或多个空格分隔。", "outputFormat": "对每个数据集的单行输出，如果你能满足每个人，则输出 $1$，否则输出 $0$。\n\n**【样例解释】**\n\n翻译来自于：[ChatGPT](https://chatgpt.com/)", "hint": null, "locale": "zh-CN"}}}
{"pid": "P10493", "type": "P", "difficulty": 4, "samples": [["U 0 0\nH 0 0 \nV 1 0", "0\n4\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "广度优先搜索 BFS"], "title": "Bloxorz II", "background": "", "description": "由于大灾难的发生，科学院已经连续有很多年没有新生了(这个世界中的科学院其实也 有大学的职能)。于是这一年的新生测试就有里程碑一样的意义。作为科学院的顶级信息专 家，这一任务自然落到了你的头上。思来想去，你决定出这样的一个题，那就是 Bloxorz 游戏。\n\n所谓 Bloxorz 游戏，如下图所示，就是在一个平台上有一个作为目标的 1×1 的洞，以 及一个大小为 2×1×1 的长方体。长方体可以沿着边在平台上滚动，但是不能与平台失去接触面。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z5kdhsry.png)\n\n下面这张图反映了上图中的长方体向右滚动之后的局面。\n![](https://cdn.luogu.com.cn/upload/image_hosting/6kgp8841.png)\n\n而下面这张图就反映了向前方滚动之后的局面。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4rgnopmu.png)\n\n任务就是让长方体进入目标洞。当然，这时长方体应该是竖立的。\n\n滚动一次叫做一步。你的题目就是对于一个给定的局面，计算至少需要多少步才能把长 方体滚到目标洞里面去。自然，对于新生来说这个题是一个很难的题。\n\n  被你虐了的新生感到很不服气。于是他们想了一个更难的题来让你做:\n  \n有一个无限大的平台以及一个建立在上面的坐标系。现在目标洞在(0, 0)处，长方体的 位置和状态(竖立、与 x 轴平行还是与 y 轴平行)给定，计算至少需要多少步才能使长方体 进洞。\n\n  作为顶级信息专家......这当然难不倒你了。", "inputFormat": "输入文件包含多组测试数据。\n\n每组测试数据在一行内，格式为 C x y。其中 C 为一个字母，x 和 y 是两个整数。 这表示长方体覆盖住了平台上的格子(x, y)，且其状态为 C。\n\n若 C 为字母 U，表明长方体是竖立的。\n\n若 C 为字母 V，表明长方体与 x 轴平行，且其覆盖的另一个格子为(x + 1, y)。\n\n若 C 为字母 H，表明长方体与 y 轴平行，且其覆盖的另一个格子为(x, y + 1)。 输入文件以 EOF 结束。\n", "outputFormat": " 对于每组测试数据，在单独的一行内输出答案。", "hint": "对于 20% 的数据，$ \\mid x \\mid , \\mid y \\mid \\le 100$。\n对于 100% 的数据，$\\mid x\\mid , \\mid y\\mid \\le 10^9$，输入数据不超过 100 组。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Bloxorz II", "background": "", "description": "由于大灾难的发生，科学院已经连续有很多年没有新生了(这个世界中的科学院其实也 有大学的职能)。于是这一年的新生测试就有里程碑一样的意义。作为科学院的顶级信息专 家，这一任务自然落到了你的头上。思来想去，你决定出这样的一个题，那就是 Bloxorz 游戏。\n\n所谓 Bloxorz 游戏，如下图所示，就是在一个平台上有一个作为目标的 1×1 的洞，以 及一个大小为 2×1×1 的长方体。长方体可以沿着边在平台上滚动，但是不能与平台失去接触面。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z5kdhsry.png)\n\n下面这张图反映了上图中的长方体向右滚动之后的局面。\n![](https://cdn.luogu.com.cn/upload/image_hosting/6kgp8841.png)\n\n而下面这张图就反映了向前方滚动之后的局面。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4rgnopmu.png)\n\n任务就是让长方体进入目标洞。当然，这时长方体应该是竖立的。\n\n滚动一次叫做一步。你的题目就是对于一个给定的局面，计算至少需要多少步才能把长 方体滚到目标洞里面去。自然，对于新生来说这个题是一个很难的题。\n\n  被你虐了的新生感到很不服气。于是他们想了一个更难的题来让你做:\n  \n有一个无限大的平台以及一个建立在上面的坐标系。现在目标洞在(0, 0)处，长方体的 位置和状态(竖立、与 x 轴平行还是与 y 轴平行)给定，计算至少需要多少步才能使长方体 进洞。\n\n  作为顶级信息专家......这当然难不倒你了。", "inputFormat": "输入文件包含多组测试数据。\n\n每组测试数据在一行内，格式为 C x y。其中 C 为一个字母，x 和 y 是两个整数。 这表示长方体覆盖住了平台上的格子(x, y)，且其状态为 C。\n\n若 C 为字母 U，表明长方体是竖立的。\n\n若 C 为字母 V，表明长方体与 x 轴平行，且其覆盖的另一个格子为(x + 1, y)。\n\n若 C 为字母 H，表明长方体与 y 轴平行，且其覆盖的另一个格子为(x, y + 1)。 输入文件以 EOF 结束。\n", "outputFormat": " 对于每组测试数据，在单独的一行内输出答案。", "hint": "对于 20% 的数据，$ \\mid x \\mid , \\mid y \\mid \\le 100$。\n对于 100% 的数据，$\\mid x\\mid , \\mid y\\mid \\le 10^9$，输入数据不超过 100 组。", "locale": "zh-CN"}}}
{"pid": "P10494", "type": "P", "difficulty": 5, "samples": [["31", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2002", "USACO", "O2优化", "广度优先搜索 BFS", "剪枝", "迭代加深搜索", "启发式迭代加深搜索 IDA*"], "title": "[USACO02FEB] Power Hungry Cows", "background": "", "description": "FJ's cows would like to be able to compute integer powers P (1 <= P <= 20,000) of numbers very quickly, but need your help. Because they're going to be computing powers of very large numbers, they can only keep around two work variables for intermediate results.\n\nThe first of those work variables is initialized to the number (denoted x) for which they are calculating the power; the other is initialized to 1. The cows can both multiply and divide any pair of the work variables and store the result in any work variable, but all results are stored as integers.\n\nFor example, if they want to compute x^31, one way to perform the calculation is:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bfbznh12.png)\n\nThus, x^31 can computed in six operations. Given the power to be computed and the the number of work variables, find the minimum number of operations to calculate the power.", "inputFormat": "A single line with one integer: P.", "outputFormat": "A single line with a single integer that is the minimum number of operations it requires to compute the pow", "hint": "", "locale": "en", "translations": {"en": {"title": "[USACO02FEB] Power Hungry Cows", "background": "", "description": "FJ's cows would like to be able to compute integer powers P (1 <= P <= 20,000) of numbers very quickly, but need your help. Because they're going to be computing powers of very large numbers, they can only keep around two work variables for intermediate results.\n\nThe first of those work variables is initialized to the number (denoted x) for which they are calculating the power; the other is initialized to 1. The cows can both multiply and divide any pair of the work variables and store the result in any work variable, but all results are stored as integers.\n\nFor example, if they want to compute x^31, one way to perform the calculation is:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bfbznh12.png)\n\nThus, x^31 can computed in six operations. Given the power to be computed and the the number of work variables, find the minimum number of operations to calculate the power.", "inputFormat": "A single line with one integer: P.", "outputFormat": "A single line with a single integer that is the minimum number of operations it requires to compute the pow", "hint": "", "locale": "en"}, "zh-CN": {"title": "[USACO02FEB] Power Hungry Cows", "background": "", "description": "FJ 的奶牛们希望能够快速计算整数幂 $P$（$1 \\leq P \\leq 20000$），但她们需要你的帮助。因为她们将要计算非常大的数的幂，所以她们只能保留两个工作变量来存储中间结果。\n\n这两个工作变量中的第一个被初始化为正在计算幂的数字（表示为 $x$）；另一个被初始化为 $1$。奶牛们可以对任意一对工作变量进行乘法和除法运算，并将结果存储在任意一个工作变量中，但所有结果都存储为整数。\n\n例如，如果她们想要计算 $x^{31}$，一种进行计算的方法是：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bfbznh12.png)\n\n因此，$x^{31}$ 可以在六次操作中计算出来。给定要计算的幂和工作变量的数量，找出计算该幂所需的最少操作数。", "inputFormat": "一行，一个整数：$P$。", "outputFormat": "一行，一个整数，表示计算幂所需的最小操作数。\n\n翻译来自于：[ChatGPT](https://chatgpt.com/)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10495", "type": "P", "difficulty": 2, "samples": [["5", "2 3\n3 1\n5 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["素数判断,质数,筛法"], "title": "阶乘分解", "background": "", "description": "给定整数 $N (3 \\le N \\le 10^6)$，试把阶乘 $N!$ 分解质因数，按照算术基本定理的形式输出分解结果中的 $p_i$ 和 $c_i$ 即可。\n", "inputFormat": "一个整数 $N$。\n", "outputFormat": "$N!$ 分解质因数后的结果，共若干行，每行一对 $p_i, c_i$，表示含有 $p_i^{c_i}$ 项。按照 $p_i$ 从小到大的顺序输出。\n", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "阶乘分解", "background": "", "description": "给定整数 $N (3 \\le N \\le 10^6)$，试把阶乘 $N!$ 分解质因数，按照算术基本定理的形式输出分解结果中的 $p_i$ 和 $c_i$ 即可。\n", "inputFormat": "一个整数 $N$。\n", "outputFormat": "$N!$ 分解质因数后的结果，共若干行，每行一对 $p_i, c_i$，表示含有 $p_i^{c_i}$ 项。按照 $p_i$ 从小到大的顺序输出。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10496", "type": "P", "difficulty": 5, "samples": [["8\n11\n16\n0", "Case 1: 1\nCase 2: 2\nCase 3: 0"]], "limits": {"time": [1000, 1000, 1000], "memory": [524288, 524288, 524288]}, "tags": ["2008", "数论", "最大公约数 gcd", "ICPC", "欧拉函数"], "title": "[ICPC-Hefei 2008 Online] The Luckiest Number", "background": null, "description": "Chinese people think of '8' as the lucky digit. Bob also likes digit '8'. Moreover, Bob has his own lucky number L. Now he wants to construct his luckiest number which is the minimum among all positive integers that are a multiple of L and consist of only digit '8'.", "inputFormat": "The input consists of multiple test cases. Each test case contains exactly one line containing L(1 ≤ L ≤ 2,000,000,000).\n\nThe last test case is followed by a line containing a zero.", "outputFormat": "For each test case, print a line containing the test case number( beginning with 1) followed by a integer which is the length of Bob's luckiest number. If Bob can't construct his luckiest number, print a zero.", "hint": null, "locale": "en", "translations": {"en": {"title": "[ICPC-Hefei 2008 Online] The Luckiest Number", "background": null, "description": "Chinese people think of '8' as the lucky digit. Bob also likes digit '8'. Moreover, Bob has his own lucky number L. Now he wants to construct his luckiest number which is the minimum among all positive integers that are a multiple of L and consist of only digit '8'.", "inputFormat": "The input consists of multiple test cases. Each test case contains exactly one line containing L(1 ≤ L ≤ 2,000,000,000).\n\nThe last test case is followed by a line containing a zero.", "outputFormat": "For each test case, print a line containing the test case number( beginning with 1) followed by a integer which is the length of Bob's luckiest number. If Bob can't construct his luckiest number, print a zero.", "hint": null, "locale": "en"}, "zh-CN": {"title": "[ICPC-Hefei 2008 Online] The Luckiest Number", "background": null, "description": "中国人认为“8”是幸运数字。Bob 也喜欢数字“8”。此外，Bob 有自己的幸运数字 $L$。现在，他想构造出自己的最幸运的数字，即所有仅由数字“8”组成且是 $L$ 的倍数的正整数中的最小值。", "inputFormat": "多个测试用例组成（不超过 $10$ 组）。每个测试用例包含一行，其中包含 $L$（$1 ≤ L ≤ 2,000,000,000$）。\n\n最后一个测试用例后跟着一行，其中包含零。", "outputFormat": "对于每个测试用例，输出一行，包含测试用例编号（从 $1$ 开始），后跟一个整数，该整数是 Bob 最幸运的数字的长度。如果 Bob 无法构造他最幸运的数字，则输出零。\n\n翻译来自于：[ChatGPT](https://chatgpt.com/)", "hint": null, "locale": "zh-CN"}}}
{"pid": "P10497", "type": "P", "difficulty": 2, "samples": [["5\n1\n2\n1\n0", "2\n4\n5\n3\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2003", "线段树", "USACO", "树状数组"], "title": "[USACO03OPEN] Lost Cows", "background": null, "description": "N (2 <= N <= 8,000) cows have unique brands in the range 1..N. In a spectacular display of poor judgment, they visited the neighborhood 'watering hole' and drank a few too many beers before dinner. When it was time to line up for their evening meal, they did not line up in the required ascending numerical order of their brands.Regrettably, FJ does not have a way to sort them. \n\nFurthermore, he's not very good at observing problems. Instead of writing down each cow's brand, he determined a rather silly statistic: For each cow in line, he knows the number of cows that precede that cow in line that do, in fact, have smaller brands than that cow.Given this data, tell FJ the exact ordering of the cows.", "inputFormat": "Line 1: A single integer, N\n\nLines 2..N: These N-1 lines describe the number of cows that precede a given cow in line and have brands smaller than that cow. Of course, no cows precede the first cow in line, so she is not listed. Line 2 of the input describes the number of preceding cows whose brands are smaller than the cow in slot #2; line 3 describes the number of preceding cows whose brands are smaller than the cow in slot #3; and so on.", "outputFormat": "Lines 1..N: Each of the N lines of output tells the brand of a cow in line. Line #1 of the output tells the brand of the first cow in line; line 2 tells the brand of the second cow; and so on.", "hint": null, "locale": "en", "translations": {"en": {"title": "[USACO03OPEN] Lost Cows", "background": null, "description": "N (2 <= N <= 8,000) cows have unique brands in the range 1..N. In a spectacular display of poor judgment, they visited the neighborhood 'watering hole' and drank a few too many beers before dinner. When it was time to line up for their evening meal, they did not line up in the required ascending numerical order of their brands.Regrettably, FJ does not have a way to sort them. \n\nFurthermore, he's not very good at observing problems. Instead of writing down each cow's brand, he determined a rather silly statistic: For each cow in line, he knows the number of cows that precede that cow in line that do, in fact, have smaller brands than that cow.Given this data, tell FJ the exact ordering of the cows.", "inputFormat": "Line 1: A single integer, N\n\nLines 2..N: These N-1 lines describe the number of cows that precede a given cow in line and have brands smaller than that cow. Of course, no cows precede the first cow in line, so she is not listed. Line 2 of the input describes the number of preceding cows whose brands are smaller than the cow in slot #2; line 3 describes the number of preceding cows whose brands are smaller than the cow in slot #3; and so on.", "outputFormat": "Lines 1..N: Each of the N lines of output tells the brand of a cow in line. Line #1 of the output tells the brand of the first cow in line; line 2 tells the brand of the second cow; and so on.", "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO03OPEN] Lost Cows", "background": null, "description": "有 $N (2 \\leq N \\leq 8000)$ 头奶牛，它们在编号范围 $[1,N]$ 内具有唯一的标号。在一个极其糟糕的判断展示中，它们去了附近的“水坑”，在晚饭前喝了太多啤酒。到了排队吃晚饭的时候，它们没有按照编号升序的顺序排队。可惜的是，FJ 没有办法对它们进行排序。\n\n此外，他在观察问题方面也不太擅长。他没有记下每头奶牛的编号，而是得到了一个相当愚蠢的统计数据：对于队伍中的每一头奶牛，他知道在这头奶牛之前，有多少头奶牛的编号确实比它小。给定这些数据，请告诉 FJ 奶牛的精确排列顺序。", "inputFormat": "第 1 行，一个整数 $N$。\n\n第 2 到第 $N$ 行，这 $N-1$ 行描述了在队伍中某头奶牛之前有多少头奶牛的编号比她小。\n\n当然，没有奶牛排在第 1 头奶牛前面，所以她没有被列出。第 2 行描述了排在第 2 个位置的奶牛之前，有多少奶牛的编号比她小；第 3 行描述了排在第 3 个位置的奶牛之前，有多少奶牛的编号比她小；依此类推。", "outputFormat": "第 1 到第 $N$ 行，输出的这 $N$ 行中的每一行表示排队中的一头奶牛的编号。输出的第 1 行表示排在队伍第 1 个位置的奶牛的编号；第 2 行表示排在第 2 个位置的奶牛的编号；依此类推。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P10498", "type": "P", "difficulty": 5, "samples": [["1 6 10 3\n011112\n1E\nE\n0", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["矩阵加速"], "title": "石头游戏", "background": "", "description": "石头游戏在一个 $n$ 行 $m$ 列的网格上进行，每个格子对应一种操作序列，操作序列至多有 $10$ 种，分别用 $0 \\sim 9$ 这 $10$ 个数字指明。\n\n操作序列是一个长度不超过 $6$ 且循环执行、每秒执行一个字符的字符串。\n\n每秒钟，所有格子同时执行各自操作序列里的下一个字符。\n\n序列中的每个字符是以下格式之一：\n\n  1. 数字 $0 \\sim 9$：表示拿 $0 \\sim 9$ 个石头到该格子。\n  2. `NWSE`：表示把这个格子内所有的石头推到相邻的格子，`N` 表示上方，`W` 表示左方，`S` 表示下方，`E` 表示右方。\n  3. `D`：表示拿走这个格子的所有石头。\n\n给定每种操作序列对应的字符串，以及网格中每个格子对应的操作序列，求石头游戏进行了 $t$ 秒之后，石头最多的格子里有多少个石头。\n\n在游戏开始时，网格是空的。", "inputFormat": "第一行 $4$ 个整数 $n, m, t, act$。\n\n接下来 $n$ 行，每行 $m$ 个字符，表示每个格子对应的操作序列。\n\n最后 $act$ 行，每行一个字符串，表示从 $0$ 开始的每个操作序列。", "outputFormat": "一个整数：游戏进行了 $t$ 秒之后，所有方格中石头最多的格子有多少个石头。\n", "hint": "对于所有的测试数据， 满足 $1 \\le m,n \\le 8$，$1 \\le t \\le 10^8$，$1 \\le act \\le 10$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "石头游戏", "background": "", "description": "石头游戏在一个 $n$ 行 $m$ 列的网格上进行，每个格子对应一种操作序列，操作序列至多有 $10$ 种，分别用 $0 \\sim 9$ 这 $10$ 个数字指明。\n\n操作序列是一个长度不超过 $6$ 且循环执行、每秒执行一个字符的字符串。\n\n每秒钟，所有格子同时执行各自操作序列里的下一个字符。\n\n序列中的每个字符是以下格式之一：\n\n  1. 数字 $0 \\sim 9$：表示拿 $0 \\sim 9$ 个石头到该格子。\n  2. `NWSE`：表示把这个格子内所有的石头推到相邻的格子，`N` 表示上方，`W` 表示左方，`S` 表示下方，`E` 表示右方。\n  3. `D`：表示拿走这个格子的所有石头。\n\n给定每种操作序列对应的字符串，以及网格中每个格子对应的操作序列，求石头游戏进行了 $t$ 秒之后，石头最多的格子里有多少个石头。\n\n在游戏开始时，网格是空的。", "inputFormat": "第一行 $4$ 个整数 $n, m, t, act$。\n\n接下来 $n$ 行，每行 $m$ 个字符，表示每个格子对应的操作序列。\n\n最后 $act$ 行，每行一个字符串，表示从 $0$ 开始的每个操作序列。", "outputFormat": "一个整数：游戏进行了 $t$ 秒之后，所有方格中石头最多的格子有多少个石头。\n", "hint": "对于所有的测试数据， 满足 $1 \\le m,n \\le 8$，$1 \\le t \\le 10^8$，$1 \\le act \\le 10$。", "locale": "zh-CN"}}}
{"pid": "P10499", "type": "P", "difficulty": 5, "samples": [["2\n3\n0 0 0\n1 1 1\n1 2\n1 3\n2 1\n2 3\n3 1\n3 2\n0 0\n3\n0 0 0\n1 0 1\n1 2\n2 1\n0 0", "4\nOh,it's impossible~!!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["高斯消元"], "title": "开关问题", "background": "", "description": "有 $N$ 个相同的开关，每个开关都与某些开关有着联系，每当你打开或者关闭某个开关的时候，其他的与此开关相关联的开关也会相应地发生变化，即这些相联系的开关的状态如果原来为开就变为关，如果为关就变为开。\n\n你的目标是经过若干次开关操作后使得最后 $N$ 个开关达到一个特定的状态。\n\n对于任意一个开关，最多只能进行一次开关操作。\n\n你的任务是，计算有多少种可以达到指定状态的方法。（不计开关操作的顺序）", "inputFormat": "输入第一行有一个数 $K$，表示以下有 $K$ 组测试数据。 \n\n每组测试数据的格式如下： \n\n第一行：一个数 $N$。\n\n第二行：$N$ 个 $0$ 或者 $1$ 的数，表示开始时 $N$ 个开关状态。\n\n第三行：$N$ 个 $0$ 或者 $1$ 的数，表示操作结束后 $N$ 个开关的状态。\n\n接下来每行两个数 $I,J$，表示如果操作第 $I$ 个开关，第 $J$ 个开关的状态也会变化。\n\n每组数据以 `0 0` 结束。", "outputFormat": "每组数据输出占一行。\n\n如果有可行方法，输出总数，否则输出 `Oh,it's impossible~!!` 。", "hint": "对于所有测试数据，满足 $1 \\le K \\le 10$，$0 < N < 29$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "开关问题", "background": "", "description": "有 $N$ 个相同的开关，每个开关都与某些开关有着联系，每当你打开或者关闭某个开关的时候，其他的与此开关相关联的开关也会相应地发生变化，即这些相联系的开关的状态如果原来为开就变为关，如果为关就变为开。\n\n你的目标是经过若干次开关操作后使得最后 $N$ 个开关达到一个特定的状态。\n\n对于任意一个开关，最多只能进行一次开关操作。\n\n你的任务是，计算有多少种可以达到指定状态的方法。（不计开关操作的顺序）", "inputFormat": "输入第一行有一个数 $K$，表示以下有 $K$ 组测试数据。 \n\n每组测试数据的格式如下： \n\n第一行：一个数 $N$。\n\n第二行：$N$ 个 $0$ 或者 $1$ 的数，表示开始时 $N$ 个开关状态。\n\n第三行：$N$ 个 $0$ 或者 $1$ 的数，表示操作结束后 $N$ 个开关的状态。\n\n接下来每行两个数 $I,J$，表示如果操作第 $I$ 个开关，第 $J$ 个开关的状态也会变化。\n\n每组数据以 `0 0` 结束。", "outputFormat": "每组数据输出占一行。\n\n如果有可行方法，输出总数，否则输出 `Oh,it's impossible~!!` 。", "hint": "对于所有测试数据，满足 $1 \\le K \\le 10$，$0 < N < 29$。", "locale": "zh-CN"}}}
{"pid": "P10500", "type": "P", "difficulty": 4, "samples": [["2\n4 5", "2.750 4.250 4.750\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "期望"], "title": "Rainbow 的信号", "background": null, "description": "Freda 发明了传呼机之后，Rainbow 进一步改进了传呼机发送信息所使用的信号。\n\n由于现在是数字、信息时代，Rainbow 发明的信号用 $N$ 个自然数表示。\n\n为了避免两个人的对话被大坏蛋 VariantF 偷听，Rainbow 把对话分成 $A、B、C$ 三部分，分别用 $a、b、c$ 三个密码加密。\n\n现在 Freda 接到了 Rainbow 的信息，她的首要工作就是解密。\n\nFreda 了解到，这三部分的密码计算方式如下：\n\n在 $1 \\sim N$ 这 $N$ 个数中，等概率地选取两个数 $l、r$，如果 $l>r$，则交换 $l、r$。\n\n把信号中的第 $l$ 个数到第 $r$ 个数取出来，构成一个数列 $P$。\n\n$A$ 部分对话的密码是数列 $P$ 的 $\\operatorname{xor}$ 和的数学期望值，$\\operatorname{xor}$ 和就是数列 $P$ 中各个数异或之后得到的数； $\\operatorname{xor}$ 和的期望就是对于所有可能选取的 $l、r$，所得到的数列的 $\\operatorname{xor}$ 和的平均数。\n\n$B$ 部分对话的密码是数列 $P$ 的 $\\operatorname{and}$ 和的期望，定义类似于 $\\operatorname{xor}$ 和。\n\n$C$ 部分对话的密码是数列 $P$ 的 $\\operatorname{or}$ 和的期望，定义类似于 $\\operatorname{xor}$ 和。\n\n请你帮忙计算这三个密码。", "inputFormat": "第一行一个正整数 $N$。\n\n第二行 $N$ 个自然数，表示 Freda 接到的信号。", "outputFormat": "一行三个实数，分别表示 $\\operatorname{xor}$ 和、$\\operatorname{and}$ 和、$\\operatorname{or}$ 和的期望，四舍五入保留 $3$ 位小数，相邻两个实数之间用一个空格隔开。", "hint": "### 样例解释\n\n样例 1 共包含四种可能的 $l,r$：\n\n|$l, r$ | $\\operatorname{xor}$ 和 | $\\operatorname{and}$ 和 | $\\operatorname{or}$ 和 |\n|-|-|-|-|\n| $1,1$ | $4$ | $4$ | $4$ |\n| $1,2$ | $1$ | $4$ | $5$ |\n| $2,1$ | $1$ | $4$ | $5$ |\n| $2,2$ | $5$ | $5$ | $5$ |\n\n以上每一对 $l,r$ 出现的概率均相同, 因此分别对 $\\operatorname{xor}$ 和、$\\operatorname{and}$ 和、$\\operatorname{or}$ 和取平均数就是数学期望值。\n\n## 数据范围与约定\n\n对于 $20 \\%$ 的数据， $1 \\le N \\le 100$ 。  \n对于 $40 \\%$ 的数据， $1 \\le N \\le 1000$ 。  \n对于另外 $30 \\%$ 的数据, $N$ 个数为 $0$ 或 $1$ 。  \n对于 $100 \\%$ 的数据, $1 \\le N \\le 100000$，$N$ 个自然数均不超过 $10^9$ 。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Rainbow 的信号", "background": null, "description": "Freda 发明了传呼机之后，Rainbow 进一步改进了传呼机发送信息所使用的信号。\n\n由于现在是数字、信息时代，Rainbow 发明的信号用 $N$ 个自然数表示。\n\n为了避免两个人的对话被大坏蛋 VariantF 偷听，Rainbow 把对话分成 $A、B、C$ 三部分，分别用 $a、b、c$ 三个密码加密。\n\n现在 Freda 接到了 Rainbow 的信息，她的首要工作就是解密。\n\nFreda 了解到，这三部分的密码计算方式如下：\n\n在 $1 \\sim N$ 这 $N$ 个数中，等概率地选取两个数 $l、r$，如果 $l>r$，则交换 $l、r$。\n\n把信号中的第 $l$ 个数到第 $r$ 个数取出来，构成一个数列 $P$。\n\n$A$ 部分对话的密码是数列 $P$ 的 $\\operatorname{xor}$ 和的数学期望值，$\\operatorname{xor}$ 和就是数列 $P$ 中各个数异或之后得到的数； $\\operatorname{xor}$ 和的期望就是对于所有可能选取的 $l、r$，所得到的数列的 $\\operatorname{xor}$ 和的平均数。\n\n$B$ 部分对话的密码是数列 $P$ 的 $\\operatorname{and}$ 和的期望，定义类似于 $\\operatorname{xor}$ 和。\n\n$C$ 部分对话的密码是数列 $P$ 的 $\\operatorname{or}$ 和的期望，定义类似于 $\\operatorname{xor}$ 和。\n\n请你帮忙计算这三个密码。", "inputFormat": "第一行一个正整数 $N$。\n\n第二行 $N$ 个自然数，表示 Freda 接到的信号。", "outputFormat": "一行三个实数，分别表示 $\\operatorname{xor}$ 和、$\\operatorname{and}$ 和、$\\operatorname{or}$ 和的期望，四舍五入保留 $3$ 位小数，相邻两个实数之间用一个空格隔开。", "hint": "### 样例解释\n\n样例 1 共包含四种可能的 $l,r$：\n\n|$l, r$ | $\\operatorname{xor}$ 和 | $\\operatorname{and}$ 和 | $\\operatorname{or}$ 和 |\n|-|-|-|-|\n| $1,1$ | $4$ | $4$ | $4$ |\n| $1,2$ | $1$ | $4$ | $5$ |\n| $2,1$ | $1$ | $4$ | $5$ |\n| $2,2$ | $5$ | $5$ | $5$ |\n\n以上每一对 $l,r$ 出现的概率均相同, 因此分别对 $\\operatorname{xor}$ 和、$\\operatorname{and}$ 和、$\\operatorname{or}$ 和取平均数就是数学期望值。\n\n## 数据范围与约定\n\n对于 $20 \\%$ 的数据， $1 \\le N \\le 100$ 。  \n对于 $40 \\%$ 的数据， $1 \\le N \\le 1000$ 。  \n对于另外 $30 \\%$ 的数据, $N$ 个数为 $0$ 或 $1$ 。  \n对于 $100 \\%$ 的数据, $1 \\le N \\le 100000$，$N$ 个自然数均不超过 $10^9$ 。", "locale": "zh-CN"}}}
{"pid": "P10501", "type": "P", "difficulty": 5, "samples": [["2 2\n3 2\n4 2", "LOSE\nLOSE\nWIN"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["博弈论", "SG 函数"], "title": "Cutting Game", "background": "", "description": "Urej loves to play various types of dull games. He usually asks other people to play with him. He says that playing those games can show his extraordinary wit. Recently Urej takes a great interest in a new game, and Erif Nezorf becomes the victim. To get away from suffering playing such a dull game, Erif Nezorf requests your help. The game uses a rectangular paper that consists of $W \\times H$ grids. Two players cut the paper into two pieces of rectangular sections in turn. In each turn the player can cut either horizontally or vertically, keeping every grids unbroken. After $N$ turns the paper will be broken into $N+1$ pieces, and in the later turn the players can choose any piece to cut. If one player cuts out a piece of paper with a single grid, he wins the game. If these two people are both quite clear, you should write a problem to tell whether the one who cut first can win or not. ", "inputFormat": "The input contains multiple test cases. Each test case contains only two integers $W$ and $H (2 \\le W , H \\le 200)$ in one line, which are the width and height of the original paper.", "outputFormat": "For each test case, only one line should be printed. If the one who cut first can win the game, print \"WIN\", otherwise, print \"LOSE\".", "hint": "", "locale": "en", "translations": {"en": {"title": "Cutting Game", "background": "", "description": "Urej loves to play various types of dull games. He usually asks other people to play with him. He says that playing those games can show his extraordinary wit. Recently Urej takes a great interest in a new game, and Erif Nezorf becomes the victim. To get away from suffering playing such a dull game, Erif Nezorf requests your help. The game uses a rectangular paper that consists of $W \\times H$ grids. Two players cut the paper into two pieces of rectangular sections in turn. In each turn the player can cut either horizontally or vertically, keeping every grids unbroken. After $N$ turns the paper will be broken into $N+1$ pieces, and in the later turn the players can choose any piece to cut. If one player cuts out a piece of paper with a single grid, he wins the game. If these two people are both quite clear, you should write a problem to tell whether the one who cut first can win or not. ", "inputFormat": "The input contains multiple test cases. Each test case contains only two integers $W$ and $H (2 \\le W , H \\le 200)$ in one line, which are the width and height of the original paper.", "outputFormat": "For each test case, only one line should be printed. If the one who cut first can win the game, print \"WIN\", otherwise, print \"LOSE\".", "hint": "", "locale": "en"}, "zh-CN": {"title": "Cutting Game", "background": null, "description": "Urej 喜欢玩各种类型的沉闷游戏。他通常会邀请其他人和他一起玩。他说，玩这些游戏可以展现他的非凡智慧。最近，Urej 对一个新游戏产生了极大兴趣，而 Erif Nezorf 成为了牺牲品。为了摆脱玩这样一个沉闷游戏的痛苦，Erif Nezorf 请求你的帮助。这个游戏使用一个由 $W \\times H$ 格网组成的矩形纸张。两名玩家轮流将纸张切割成两个矩形部分。在每个回合中，玩家可以横向或纵向切割，保持每个格网完整。经过 $N$ 轮后，纸张将被切割成 $N+1$ 片，然后在后续的回合中，玩家可以选择任意一片进行切割。如果一名玩家切割出一个只有一个格网的纸片，他就赢得了游戏。如果这两个人都非常聪明，你应该写一个问题来告诉是否先手的玩家能赢得游戏。", "inputFormat": "输入包含多个测试用例。每个测试用例在一行中只包含两个整数 $W$ 和 $H (2 \\le W , H \\le 200)$，分别表示原始纸张的宽度和高度。", "outputFormat": "对于每个测试用例，应该只输出一行。如果先手的玩家能赢得游戏，则输出 \"WIN\"，否则输出 \"LOSE\"。\n\n翻译来自于：[ChatGPT](https://chatgpt.com/)", "hint": null, "locale": "zh-CN"}}}
{"pid": "P10502", "type": "P", "difficulty": 5, "samples": [["2 2 4 \n0 1 \n1 1", "1 2\n2 3"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288]}, "tags": ["O2优化", "矩阵加速"], "title": "Matrix Power Series", "background": "", "description": "Givena $n×n$ matrix $A$ and apositive integer $k$，find the sum $S=A+A^2 +A^3 +...+A^k$.", "inputFormat": "The input contains exactly one test case. The first line of input contains three positive integers $n$ ($n \\le 30$), $k$ ($k \\le 10^9$) and $m$ ($m < 10^4$). Then follow n lines each containing $n$ non negative integers below 32,768, giving $A$’s elements in row-major order.", "outputFormat": "Output the elements of $S$ modulo $m$ in the same way as $A$ is given.", "hint": "", "locale": "en", "translations": {"en": {"title": "Matrix Power Series", "background": "", "description": "Givena $n×n$ matrix $A$ and apositive integer $k$，find the sum $S=A+A^2 +A^3 +...+A^k$.", "inputFormat": "The input contains exactly one test case. The first line of input contains three positive integers $n$ ($n \\le 30$), $k$ ($k \\le 10^9$) and $m$ ($m < 10^4$). Then follow n lines each containing $n$ non negative integers below 32,768, giving $A$’s elements in row-major order.", "outputFormat": "Output the elements of $S$ modulo $m$ in the same way as $A$ is given.", "hint": "", "locale": "en"}, "zh-CN": {"title": "Matrix Power Series", "background": "", "description": "给定一个 $n×n$ 矩阵 $A$ 和一个正整数 $k$，找出和 $S=A+A^2 +A^3 +...+A^k$。", "inputFormat": "输入包含一个测试用例。输入的第一行包含三个正整数 $n$（$n \\le 30$）、$k$（$k \\le 10^9$）和 $m$（$m < 10^4$）。接下来的 $n$ 行每行包含 $n$ 个小于 32,768 的非负整数，按行主序给出 $A$ 的元素。", "outputFormat": "以与给定 $A$ 相同的方式输出 $S$ 的元素对 $m$ 取模。\n\n翻译来自于：[ChatGPT](https://chatgpt.com/)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10503", "type": "P", "difficulty": 4, "samples": [["1 1\n1\n2 2\n0 0\n3 7\n23 47 16", "234\n2799\n72937"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "矩阵加速"], "title": "233 Matrix", "background": "", "description": "In our daily life we often use 233 to express our feelings. Actually, we may say 2333, 23333, or 233333 ... in the same meaning. And here is the question: Suppose we have a matrix called 233 matrix. In the first line, it would be 233, 2333, 23333... (it means $a _ {0,1} = 233$, $a_{0,2} = 2333$, $a_{0,3} = 23333$...) Besides, in 233 matrix, we got $a_{i,j} = a_{i-1,j} +a_{i,j-1}( i,j \\neq 0)$. Now you have known $a_{1,0},a_{2,0},\\dots,a_{n,0}$, could you tell me $a_{n,m}$ in the 233 matrix?", "inputFormat": "There are multiple test cases. Please process till EOF.\n\nFor each case, the first line contains two postive integers $n,m(n \\le 10,m \\le 10^9)$. The second line contains n integers, $a_{1,0},a_{2,0},...,a_{n,0}$ ($0 \\le a_{i,0} < 2^{31}$).", "outputFormat": "For each case, output $a_{n,m}$ mod 10000007.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/ndjcn0l1.png)", "locale": "en", "translations": {"en": {"title": "233 Matrix", "background": "", "description": "In our daily life we often use 233 to express our feelings. Actually, we may say 2333, 23333, or 233333 ... in the same meaning. And here is the question: Suppose we have a matrix called 233 matrix. In the first line, it would be 233, 2333, 23333... (it means $a _ {0,1} = 233$, $a_{0,2} = 2333$, $a_{0,3} = 23333$...) Besides, in 233 matrix, we got $a_{i,j} = a_{i-1,j} +a_{i,j-1}( i,j \\neq 0)$. Now you have known $a_{1,0},a_{2,0},\\dots,a_{n,0}$, could you tell me $a_{n,m}$ in the 233 matrix?", "inputFormat": "There are multiple test cases. Please process till EOF.\n\nFor each case, the first line contains two postive integers $n,m(n \\le 10,m \\le 10^9)$. The second line contains n integers, $a_{1,0},a_{2,0},...,a_{n,0}$ ($0 \\le a_{i,0} < 2^{31}$).", "outputFormat": "For each case, output $a_{n,m}$ mod 10000007.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/ndjcn0l1.png)", "locale": "en"}, "zh-CN": {"title": "233 Matrix", "background": "", "description": "在我们的日常生活中，我们经常用 233 来表达我们的情感。实际上，我们可能会说 2333、23333 或者 233333... 都表示同样的意思。现在有一个问题：假设我们有一个称为 233 矩阵。在第一行，它是 233、2333、23333...（表示 $a _ {0,1} = 233$，$a_{0,2} = 2333$，$a_{0,3} = 23333$...）。此外，在 233 矩阵中，我们有 $a_{i,j} = a_{i-1,j} +a_{i,j-1}( i,j \\neq 0)$。现在已知 $a_{1,0},a_{2,0},\\dots,a_{n,0}$，你能告诉我 233 矩阵中的 $a_{n,m}$ 吗？", "inputFormat": "有多个测试用例，请处理直到 EOF。\n\n对于每个案例，第一行包含两个正整数 $n,m(n \\le 10,m \\le 10^9)$。第二行包含 n 个整数，$a_{1,0},a_{2,0},...,a_{n,0}$（$0 \\le a_{i,0} < 2^{31}$）。", "outputFormat": "对于每个案例，输出 $a_{n,m}$ 模 10000007。\n\n翻译来自于：[ChatGPT](https://chatgpt.com/)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10504", "type": "P", "difficulty": 4, "samples": [["3 1 0\n10 20 30\n-1 -1 2", "0.300000\n"], ["5 1 2\n36 44 13 83 63\n-1 2 -1 2 1", "0.980387"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "O2优化", "期望"], "title": "守卫者的挑战", "background": "", "description": "打开了黑魔法师 Vani 的大门，队员们在迷宫般的路上漫无目的地搜寻着关押 applepi 的监狱的所在地。突然，眼前一道亮光闪过。“我，Nizem，是黑魔法圣殿的守卫者。如果你能通过我的挑战，那么你可以带走黑魔法圣殿的地图……”瞬间，队员们被传送到了一个擂台上，最初身边有一个容量为 $K$ 的包包。\n  \n擂台赛一共有 $N$ 项挑战，各项挑战依次进行。第 $i$ 项挑战有一个属性 $a_i$，如果 $a_i\\geq 0$，表示这次挑战成功后可以再获得一个容量为 $a_i$ 的包包；如果 $a_i=-1$，则表示这次挑战成功后可以得到一个大小为 $1$ 的地图残片。地图残片必须装在包包里才能带出擂台，包包没有必要全部装满，但是队员们必须把 【获得的所有的】地图残片都带走（没有得到的不用考虑，只需要完成所有N项挑战后背包容量足够容纳地图残片即可），才能拼出完整的地图。并且他们至少要挑战成功 $L$ 次才能离开擂台。\n  \n队员们一筹莫展之时，善良的守卫者 Nizem 帮忙预估出了每项挑战成功的概率，其中第 $i$ 项挑战成功的概率为 $p_i\\%$。现在，请你帮忙预测一下，队员们能够带上他们获得的地图残片离开擂台的概率。", "inputFormat": "第一行三个整数 $N,L,K$。\n  \n第二行 $N$ 个实数，第 $i$ 个实数 $p_i$ 表示第 $i$ 项挑战成功的百分比。\n  \n第三行 $N$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 项挑战的属性值.", "outputFormat": "一个整数，表示所求概率，四舍五入保留 $6$ 位小数。", "hint": "在第一个样例中，若第三项挑战成功，如果前两场中某场胜利，队员们就有空间来容纳得到的地图残片，如果挑战失败，根本就没有获得地图残片，不用考虑是否能装下；若第三项挑战失败，如果前两场有胜利，没有包来装地图残片，如果前两场都失败，不满足至少挑战成功1次的要求。因此所求概率就是第三场挑战获胜的概率。\n\n对于 $100\\%$ 的数据，保证 $0\\leq K\\leq 2000$，$0\\leq N\\leq 200$，$-1\\leq a_i\\leq 1000$，$0\\leq L\\leq N$，$0\\leq p_i\\leq 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "守卫者的挑战", "background": "", "description": "打开了黑魔法师 Vani 的大门，队员们在迷宫般的路上漫无目的地搜寻着关押 applepi 的监狱的所在地。突然，眼前一道亮光闪过。“我，Nizem，是黑魔法圣殿的守卫者。如果你能通过我的挑战，那么你可以带走黑魔法圣殿的地图……”瞬间，队员们被传送到了一个擂台上，最初身边有一个容量为 $K$ 的包包。\n  \n擂台赛一共有 $N$ 项挑战，各项挑战依次进行。第 $i$ 项挑战有一个属性 $a_i$，如果 $a_i\\geq 0$，表示这次挑战成功后可以再获得一个容量为 $a_i$ 的包包；如果 $a_i=-1$，则表示这次挑战成功后可以得到一个大小为 $1$ 的地图残片。地图残片必须装在包包里才能带出擂台，包包没有必要全部装满，但是队员们必须把 【获得的所有的】地图残片都带走（没有得到的不用考虑，只需要完成所有N项挑战后背包容量足够容纳地图残片即可），才能拼出完整的地图。并且他们至少要挑战成功 $L$ 次才能离开擂台。\n  \n队员们一筹莫展之时，善良的守卫者 Nizem 帮忙预估出了每项挑战成功的概率，其中第 $i$ 项挑战成功的概率为 $p_i\\%$。现在，请你帮忙预测一下，队员们能够带上他们获得的地图残片离开擂台的概率。", "inputFormat": "第一行三个整数 $N,L,K$。\n  \n第二行 $N$ 个实数，第 $i$ 个实数 $p_i$ 表示第 $i$ 项挑战成功的百分比。\n  \n第三行 $N$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 项挑战的属性值.", "outputFormat": "一个整数，表示所求概率，四舍五入保留 $6$ 位小数。", "hint": "在第一个样例中，若第三项挑战成功，如果前两场中某场胜利，队员们就有空间来容纳得到的地图残片，如果挑战失败，根本就没有获得地图残片，不用考虑是否能装下；若第三项挑战失败，如果前两场有胜利，没有包来装地图残片，如果前两场都失败，不满足至少挑战成功1次的要求。因此所求概率就是第三场挑战获胜的概率。\n\n对于 $100\\%$ 的数据，保证 $0\\leq K\\leq 2000$，$0\\leq N\\leq 200$，$-1\\leq a_i\\leq 1000$，$0\\leq L\\leq N$，$0\\leq p_i\\leq 100$。", "locale": "zh-CN"}}}
{"pid": "P10505", "type": "P", "difficulty": 3, "samples": [["3 1\n5 0 2\n5 1 6\n4 2\n1 2 7 9\n5 6 7 9\n0 0", "83\n100"]], "limits": {"time": [1000], "memory": [524288]}, "tags": ["二分", "O2优化", "分数规划"], "title": "Dropping Test", "background": null, "description": "在某个课程中，你需要进行 $n$ 次测试。 \n\n如果你在共计 $b_i$ 道题的测试 $i$ 上的答对题目数量为 $a_i$，你的累积平均成绩就被定义为\n\n$$100\\times \\dfrac{\\displaystyle \\sum_{i=1}^n a_i}{\\displaystyle \\sum_{i=1}^n b_i}$$\n\n给定您的考试成绩和一个正整数 $k$，如果您被允许放弃任何 $k$ 门考试成绩，您的累积平均成绩的可能最大值是多少。\n\n假设您进行了 $3$ 次测试，成绩分别为 $5/5,0/1$ 和 $2/6$。\n\n在不放弃任何测试成绩的情况下，您的累积平均成绩是\n\n$$100\\times \\frac{5+0+2}{5+1+6} \\approx 58.33 \\approx 58$$\n\n然而，如果你放弃第三门成绩，则您的累积平均成绩就变成了\n\n$$100\\times \\frac{5+0}{5+1}\\approx 83.33\\approx 83$$", "inputFormat": "输入包含多组测试用例，每个测试用例包含三行。\n\n对于每组测试用例，第一行包含两个整数 $n$ 和 $k$。\n\n第二行包含 $n$ 个整数，表示所有的 $a_i$。\n\n第三行包含 $n$ 个整数，表示所有的 $b_i$。\n\n当输入用例 $n=k=0$ 时，表示输入终止，且该用例无需处理。", "outputFormat": "对于每个测试用例，输出一行结果，表示在放弃 $k$ 门成绩的情况下，可能的累积平均成绩最大值。\n\n结果应四舍五入到最接近的整数。", "hint": "数据范围 $1 \\le n \\le 1000$, $0 \\le k < n$, $0 \\le a_i \\le b_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Dropping Test", "background": null, "description": "在某个课程中，你需要进行 $n$ 次测试。 \n\n如果你在共计 $b_i$ 道题的测试 $i$ 上的答对题目数量为 $a_i$，你的累积平均成绩就被定义为\n\n$$100\\times \\dfrac{\\displaystyle \\sum_{i=1}^n a_i}{\\displaystyle \\sum_{i=1}^n b_i}$$\n\n给定您的考试成绩和一个正整数 $k$，如果您被允许放弃任何 $k$ 门考试成绩，您的累积平均成绩的可能最大值是多少。\n\n假设您进行了 $3$ 次测试，成绩分别为 $5/5,0/1$ 和 $2/6$。\n\n在不放弃任何测试成绩的情况下，您的累积平均成绩是\n\n$$100\\times \\frac{5+0+2}{5+1+6} \\approx 58.33 \\approx 58$$\n\n然而，如果你放弃第三门成绩，则您的累积平均成绩就变成了\n\n$$100\\times \\frac{5+0}{5+1}\\approx 83.33\\approx 83$$", "inputFormat": "输入包含多组测试用例，每个测试用例包含三行。\n\n对于每组测试用例，第一行包含两个整数 $n$ 和 $k$。\n\n第二行包含 $n$ 个整数，表示所有的 $a_i$。\n\n第三行包含 $n$ 个整数，表示所有的 $b_i$。\n\n当输入用例 $n=k=0$ 时，表示输入终止，且该用例无需处理。", "outputFormat": "对于每个测试用例，输出一行结果，表示在放弃 $k$ 门成绩的情况下，可能的累积平均成绩最大值。\n\n结果应四舍五入到最接近的整数。", "hint": "数据范围 $1 \\le n \\le 1000$, $0 \\le k < n$, $0 \\le a_i \\le b_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10506", "type": "P", "difficulty": 5, "samples": [["3\n2 2 2\n3\n1 3 5", "freda\nrainbow"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["博弈论"], "title": "魔法珠", "background": "", "description": "Freda 和 rainbow 是超自然之界学校（Preternatural Kingdom University，简称 PKU）魔法学院的学生。为了展示新学的魔法，Ta 们决定进行一场对弈~~~\n\n起初 Freda 面前有 $n$ 堆魔法珠，其中第 $i$ 堆有 $a_i$ 颗。 Freda 和 rainbow 可以轮流进行以下操作：\n\n1.选择 $n$ 堆中魔法珠数量大于 $1$ 的任意一堆。记该堆魔法珠的数量为 $p$，$p$ 有 $b_1,b_2 \\cdots b_m$ 这 $m$ 个小于 $p$ 的约数。\n\n2.施展魔法把这一堆魔法珠变成 $m$ 堆，每堆各有 $b_1$、$b_2 \\cdots b_m$ 颗魔法珠。\n\n3.选择这m堆中的一堆魔法珠，施展魔法令其消失。\n\n注意一次操作过后，魔法珠的堆数会增加m-2，各堆中魔法珠数量的总和可能会发生变化。\n\n当轮到某人操作时，如果每堆中魔法珠的数量均为1，那么ta就输了。\n\nFreda 和 rainbow 都采取最好的策略，从 Freda 开始。请你预测一下，谁能获胜呢？", "inputFormat": "本题仅有一个测试点，包含多组数据，以 EOF 结尾。\n\n每组数据的第一行包含一个整数 $n$。\n\n第二行包含 $n$ 个整数 $a_i$。", "outputFormat": "对于每组数据，在两人均采取最佳策略的前提下，若 Freda 能获胜，输出 freda；若 Rainbow 能获胜，输出 rainbow。", "hint": "对于所有测试数据满足 $1\\le n\\le100$，$1\\le a_i\\le 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "魔法珠", "background": "", "description": "Freda 和 rainbow 是超自然之界学校（Preternatural Kingdom University，简称 PKU）魔法学院的学生。为了展示新学的魔法，Ta 们决定进行一场对弈~~~\n\n起初 Freda 面前有 $n$ 堆魔法珠，其中第 $i$ 堆有 $a_i$ 颗。 Freda 和 rainbow 可以轮流进行以下操作：\n\n1.选择 $n$ 堆中魔法珠数量大于 $1$ 的任意一堆。记该堆魔法珠的数量为 $p$，$p$ 有 $b_1,b_2 \\cdots b_m$ 这 $m$ 个小于 $p$ 的约数。\n\n2.施展魔法把这一堆魔法珠变成 $m$ 堆，每堆各有 $b_1$、$b_2 \\cdots b_m$ 颗魔法珠。\n\n3.选择这m堆中的一堆魔法珠，施展魔法令其消失。\n\n注意一次操作过后，魔法珠的堆数会增加m-2，各堆中魔法珠数量的总和可能会发生变化。\n\n当轮到某人操作时，如果每堆中魔法珠的数量均为1，那么ta就输了。\n\nFreda 和 rainbow 都采取最好的策略，从 Freda 开始。请你预测一下，谁能获胜呢？", "inputFormat": "本题仅有一个测试点，包含多组数据，以 EOF 结尾。\n\n每组数据的第一行包含一个整数 $n$。\n\n第二行包含 $n$ 个整数 $a_i$。", "outputFormat": "对于每组数据，在两人均采取最佳策略的前提下，若 Freda 能获胜，输出 freda；若 Rainbow 能获胜，输出 rainbow。", "hint": "对于所有测试数据满足 $1\\le n\\le100$，$1\\le a_i\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P10507", "type": "P", "difficulty": 5, "samples": [["2\n3\n1 2 3\n8\n1 5 6 7 9 12 14 17", "Bob will win\nGeorgia will win"]], "limits": {"time": [1000], "memory": [524288]}, "tags": ["博弈论"], "title": "Georgia and Bob", "background": "", "description": "Georgia and Bob decide to play a self-invented game. They draw a row of grids on paper, number the grids from left to right by $1 , 2 , 3 , \\cdots ,$ and place $N$ chessmen on different grids, as shown in the following figure for example:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tti7635d.png)\n\nGeorgia and Bob move the chessmen in turn. Every time a player will choose a chessman, and move it to the left without going over any other chessmen or across the left edge. The player can freely choose number of steps the chessman moves, with the constraint that the chessman must be moved at least ONE step and one grid can at most contains ONE single chessman. The player who cannot make a move loses the game.\n\nGeorgia always plays first since \"Lady first\". Suppose that Georgia and Bob both do their best in the game, i.e., if one of them knows a way to win the game, he or she will be able to carry it out.\n\nGiven the initial positions of the $n$ chessmen, can you predict who will finally win the game? ", "inputFormat": "The first line of the input contains a single integer $T (1 \\leq T \\leq 20)$, the number of test cases. Then $T$ cases follow. Each test case contains two lines. The first line consists of one integer $N (1 \\leq N \\leq 1000)$, indicating the number of chessmen. The second line contains $N$ different integers $P_1, P_2 \\dots P_n (1 \\leq P_i \\leq 10000)$, which are the initial positions of the $n$ chessmen.", "outputFormat": "For each test case, prints a single line, \"Georgia will win\", if Georgia will win the game; \"Bob will win\", if Bob will win the game; otherwise 'Not sure'.", "hint": "", "locale": "en", "translations": {"en": {"title": "Georgia and Bob", "background": "", "description": "Georgia and Bob decide to play a self-invented game. They draw a row of grids on paper, number the grids from left to right by $1 , 2 , 3 , \\cdots ,$ and place $N$ chessmen on different grids, as shown in the following figure for example:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tti7635d.png)\n\nGeorgia and Bob move the chessmen in turn. Every time a player will choose a chessman, and move it to the left without going over any other chessmen or across the left edge. The player can freely choose number of steps the chessman moves, with the constraint that the chessman must be moved at least ONE step and one grid can at most contains ONE single chessman. The player who cannot make a move loses the game.\n\nGeorgia always plays first since \"Lady first\". Suppose that Georgia and Bob both do their best in the game, i.e., if one of them knows a way to win the game, he or she will be able to carry it out.\n\nGiven the initial positions of the $n$ chessmen, can you predict who will finally win the game? ", "inputFormat": "The first line of the input contains a single integer $T (1 \\leq T \\leq 20)$, the number of test cases. Then $T$ cases follow. Each test case contains two lines. The first line consists of one integer $N (1 \\leq N \\leq 1000)$, indicating the number of chessmen. The second line contains $N$ different integers $P_1, P_2 \\dots P_n (1 \\leq P_i \\leq 10000)$, which are the initial positions of the $n$ chessmen.", "outputFormat": "For each test case, prints a single line, \"Georgia will win\", if Georgia will win the game; \"Bob will win\", if Bob will win the game; otherwise 'Not sure'.", "hint": "", "locale": "en"}, "zh-CN": {"title": "Georgia and Bob", "background": "", "description": "有一个无限长的棋盘，从左到右编号为 $1,2,3,\\cdots$。有 $n$ 个棋子在棋盘上，定义一次操作为把一枚棋子向左移动至少一格，不可以逾越其他棋子，不可与其他棋子重合，不可移出棋盘。\n\n告诉你这 $n$ 个棋子的位置（不保证顺序且保证没有棋子重合），Georgia 和 Bob 轮流进行操作，Georgia 先手，谁无法操作谁输。问最后谁会赢？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tti7635d.png)", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$（$1\\leq T\\leq 20$），表示数据组数。\n\n对于每组数据：\n\n第一行一个整数 $n$（$1\\leq n\\leq 1000$）。  \n\n接下来一行 $n$ 个整数，表示每个棋子的位置 $P_i$（$1\\leq P_i\\leq 10000$）。", "outputFormat": "对于每组数据，若 Georgia 胜输出 `Georgia will win`，若 Bob 胜输出 `Bob will win`，若平局则输出 `Not sure`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10508", "type": "P", "difficulty": 2, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["数论", "洛谷原创", "提交答案", "O2优化", "洛谷月赛"], "title": "质因子", "background": "你所提交的代码长度不应低于 10 字节。", "description": "给定 [numlist.txt](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/rxuwd604?contestId=170180)，请求出文件中的 $1000$ 个数的乘积的质因子 $2$ 出现的次数。", "inputFormat": "无", "outputFormat": "输出答案即可。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "质因子", "background": "你所提交的代码长度不应低于 10 字节。", "description": "给定 [numlist.txt](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/rxuwd604?contestId=170180)，请求出文件中的 $1000$ 个数的乘积的质因子 $2$ 出现的次数。", "inputFormat": "无", "outputFormat": "输出答案即可。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10509", "type": "P", "difficulty": 6, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["洛谷原创", "提交答案", "O2优化", "洛谷月赛", "Ad-hoc"], "title": "停车场", "background": "", "description": "你有一片空地。这片空地可以视作一个一个 $n\\times n$ 的正方形。空地外一圈为墙壁，你无法拆除它们。\n\n现在你要在这片空地上规划停车位，使之成为一个停车场。你希望空地的左下角是停车场的出入口。出入口不能规划为停车位。空地和停车位都是 $1\\times 1$ 的正方形，且正方形的每条边与墙壁平行或者垂直。\n\n每个停车位都应该与至少一个空地四连通（即：停车场的上、下、左、右方至少有一个空地），且这个空地应当能通过若干次向上、下、左、右的移动，在不经过任何停车位的情况下到达出入口。\n\n下图为 $n=4$ 时停车位数最多的放置方法之一，其中红色为车位，蓝色为出口，白色为空地。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r3qljdsr.png)\n\n请问 $n=2023$ 下最多能安排多少个停车位？", "inputFormat": "", "outputFormat": "一个正整数，表示你的答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "停车场", "background": "", "description": "你有一片空地。这片空地可以视作一个一个 $n\\times n$ 的正方形。空地外一圈为墙壁，你无法拆除它们。\n\n现在你要在这片空地上规划停车位，使之成为一个停车场。你希望空地的左下角是停车场的出入口。出入口不能规划为停车位。空地和停车位都是 $1\\times 1$ 的正方形，且正方形的每条边与墙壁平行或者垂直。\n\n每个停车位都应该与至少一个空地四连通（即：停车场的上、下、左、右方至少有一个空地），且这个空地应当能通过若干次向上、下、左、右的移动，在不经过任何停车位的情况下到达出入口。\n\n下图为 $n=4$ 时停车位数最多的放置方法之一，其中红色为车位，蓝色为出口，白色为空地。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r3qljdsr.png)\n\n请问 $n=2023$ 下最多能安排多少个停车位？", "inputFormat": "", "outputFormat": "一个正整数，表示你的答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10510", "type": "P", "difficulty": 2, "samples": [["4 3\n1 1\n2 0\n1 2", "7\n6\n15\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "进制", "洛谷月赛"], "title": "进制", "background": "为了提供更加良好的区分度，相较于蓝桥杯国赛，本场比赛的所有程序设计题添加了额外样例，请在附件处下载。\n\n其中，后缀名为 $\\bf{.in}$ 的文件为输入文件，$\\bf{.out}$ 的文件为输出文件。您可以使用这些额外样例检验自己的程序正确性。但我们不保证通过额外样例一定能取得您期望的分数。\n\n此外，我们提供了相较蓝桥杯国赛更多档的部分分，以确保分数分布更为科学合理。", "description": "小洛正在学习三进制。他定义三进制数为每一位只包括 $0,1,2$ 三种数的**无穷长的**数字串 $a$。\n\n与一般的三进制数不同的是，小洛的三进制数从左往右书写。例如，在常规表述下，$4$ 的三进制表示为 $(0000\\ 0011)_3$，而在小洛的三进制数表示下为 $(1100\\ 0000 \\cdots)_3$。\n\n小洛特别喜欢从 $0$ 开始计数，因此他规定三进制的第 $0$ 位为最左侧的那一数位。\n\n下表给出了小洛的三进制数表示下，数字 $37$ 的最低的 $8$ 位数位以及位权：\n\n| 三进制数表示 | $1$ | $0$ | $1$ | $1$ | $0$ | $0$ | $0$ | $0$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| 位数 | $0$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ |\n| 位权 | $3^0$ | $3^1$ | $3^2$ | $3^3$ | $3^4$ | $3^5$ | $3^6$ | $3^7$ |\n\n现在小洛有一个十进制正整数 $V$（显然，需要将其转化为小洛的三进制数表示），并且给定三种操作：\n\n- 操作一，将第 $i$ 位上的数进行操作：$0$ 变为 $1$，$1$ 变为 $2$，$2$ 变为 $0$。\n- 操作二，将第 $i$ 位上的数进行操作：$0$ 变为 $2$，$1$ 变为 $0$，$2$ 变为 $1$。\n- 操作三，将第 $i$ 位上的数进行操作：$1$ 变为 $2$，$2$ 变为 $1$，$0$ 不变。\n\n小洛一共要进行 $q$ 次操作。每次操作后，小洛需要得到三进制串代表的数值。请你告诉他。\n\n如果对题意有不清晰之处，请查看样例解释。", "inputFormat": "第一行输入两个正整数 $V,q$。\n\n接下来 $q$ 行，每行一个操作，形如 `op i`。\n\n请注意，你需要将 $V$ 转化为三进制串并作为初始的三进制串。", "outputFormat": "输出共 $q$ 行，第 $i$ 行表示第 $i$ 个操作后的答案。", "hint": "**【样例解释】**\n\n初始时，$V=4$，转化为小洛的三进制数为 $\\texttt{1100 0000} \\cdots$，接下来进行了 $3$ 次操作：\n\n- 将第 $1$ 位上的数位从 $1$ 变为 $2$，三进制数变为 $\\texttt{1200 0000} \\cdots$，十进制下为 $7$。\n- 将第 $0$ 位上的数位从 $1$ 变为 $0$，三进制数变为 $\\texttt{0200 0000} \\cdots$，十进制下为 $6$。\n- 将第 $2$ 位上的数位从 $0$ 变为 $1$，三进制数变为 $\\texttt{0210 0000} \\cdots$，十进制下为 $15$。\n\n**【数据范围】**\n\n- 对于 $30\\%$ 的数据，保证 $V\\leq 10^9$。\n- 对于另外 $30\\%$ 的数据，保证不含操作三。\n\n对于所有数据，保证 $0\\leq V\\leq 10^{18}$，$1\\leq q\\leq 10^5$，任意获取到的答案不超过 $2\\times 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "进制", "background": "为了提供更加良好的区分度，相较于蓝桥杯国赛，本场比赛的所有程序设计题添加了额外样例，请在附件处下载。\n\n其中，后缀名为 $\\bf{.in}$ 的文件为输入文件，$\\bf{.out}$ 的文件为输出文件。您可以使用这些额外样例检验自己的程序正确性。但我们不保证通过额外样例一定能取得您期望的分数。\n\n此外，我们提供了相较蓝桥杯国赛更多档的部分分，以确保分数分布更为科学合理。", "description": "小洛正在学习三进制。他定义三进制数为每一位只包括 $0,1,2$ 三种数的**无穷长的**数字串 $a$。\n\n与一般的三进制数不同的是，小洛的三进制数从左往右书写。例如，在常规表述下，$4$ 的三进制表示为 $(0000\\ 0011)_3$，而在小洛的三进制数表示下为 $(1100\\ 0000 \\cdots)_3$。\n\n小洛特别喜欢从 $0$ 开始计数，因此他规定三进制的第 $0$ 位为最左侧的那一数位。\n\n下表给出了小洛的三进制数表示下，数字 $37$ 的最低的 $8$ 位数位以及位权：\n\n| 三进制数表示 | $1$ | $0$ | $1$ | $1$ | $0$ | $0$ | $0$ | $0$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| 位数 | $0$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ |\n| 位权 | $3^0$ | $3^1$ | $3^2$ | $3^3$ | $3^4$ | $3^5$ | $3^6$ | $3^7$ |\n\n现在小洛有一个十进制正整数 $V$（显然，需要将其转化为小洛的三进制数表示），并且给定三种操作：\n\n- 操作一，将第 $i$ 位上的数进行操作：$0$ 变为 $1$，$1$ 变为 $2$，$2$ 变为 $0$。\n- 操作二，将第 $i$ 位上的数进行操作：$0$ 变为 $2$，$1$ 变为 $0$，$2$ 变为 $1$。\n- 操作三，将第 $i$ 位上的数进行操作：$1$ 变为 $2$，$2$ 变为 $1$，$0$ 不变。\n\n小洛一共要进行 $q$ 次操作。每次操作后，小洛需要得到三进制串代表的数值。请你告诉他。\n\n如果对题意有不清晰之处，请查看样例解释。", "inputFormat": "第一行输入两个正整数 $V,q$。\n\n接下来 $q$ 行，每行一个操作，形如 `op i`。\n\n请注意，你需要将 $V$ 转化为三进制串并作为初始的三进制串。", "outputFormat": "输出共 $q$ 行，第 $i$ 行表示第 $i$ 个操作后的答案。", "hint": "**【样例解释】**\n\n初始时，$V=4$，转化为小洛的三进制数为 $\\texttt{1100 0000} \\cdots$，接下来进行了 $3$ 次操作：\n\n- 将第 $1$ 位上的数位从 $1$ 变为 $2$，三进制数变为 $\\texttt{1200 0000} \\cdots$，十进制下为 $7$。\n- 将第 $0$ 位上的数位从 $1$ 变为 $0$，三进制数变为 $\\texttt{0200 0000} \\cdots$，十进制下为 $6$。\n- 将第 $2$ 位上的数位从 $0$ 变为 $1$，三进制数变为 $\\texttt{0210 0000} \\cdots$，十进制下为 $15$。\n\n**【数据范围】**\n\n- 对于 $30\\%$ 的数据，保证 $V\\leq 10^9$。\n- 对于另外 $30\\%$ 的数据，保证不含操作三。\n\n对于所有数据，保证 $0\\leq V\\leq 10^{18}$，$1\\leq q\\leq 10^5$，任意获取到的答案不超过 $2\\times 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P10511", "type": "P", "difficulty": 4, "samples": [["5 3 15\n1 1 5\n2 2 7\n3 5 8\n1 1\n1 2\n1 3\n1 4\n1 5\n2 2\n2 3\n2 4\n2 5\n3 3\n3 4\n3 5\n4 4\n4 5\n5 5", "0\n4\n14\n24\n34\n0\n1\n2\n3\n0\n0\n0\n0\n0\n0\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "洛谷原创", "O2优化", "前缀和", "洛谷月赛"], "title": "方差", "background": "定义一个长度为 $n$ 的序列 $a$ 的方差为：\n\n$$s^2=\\frac{1}{n} \\sum_{i=1}^n (a_i-\\overline{a})^2$$\n\n其中：$\\sum$ 为累加求和符号，例如 $\\sum_{i=1}^5 a_i=a_1+a_2+a_3+a_4+a_5$。$\\overline{a}$ 为序列 $a$ 的平均数。\n\n例如对于序列 $\\{3,5,1,4,2\\}$，$\\overline{a}=3$，此时 $s^2=\\frac{1}{n} \\sum_{i=1}^n (a_i-\\overline{a})^2=\\frac{1}{5}[(3-3)^2+(5-3)^2+(1-3)^2+(4-3)^2+(2-3)^2]=2$。", "description": "小 S 认为数学很简单，于是小 R 想要考考她。\n\n小 R 给了小 S 一个序列 $a$，这个序列由 $m$ 段构成，第 $i$ 段被表示为 `l r b`，表示 $a_l,a_{l+1},\\ldots,a_r$ 为 $b$，保证给出的任意两个区间不相交。\n\n现在，小 R 有 $q$ 个问题。形如 `l r`，想让你查询区间 $[l,r]$ 的方差 $s^2$（需要注意：$l$ 可能等于 $r$，此时该段方差为 $0$）。\n\n由于这个数字可能是个小数，小 R 不方便对答案，所以他想要小 S 求出 $(r-l+1)^2\\cdot s^2\\bmod 998244353$。可以证明 $(r-l+1)^2\\cdot s^2$ 一定是整数。\n\n作为小 S 的好朋友，你能帮帮她吗？", "inputFormat": "第一行三个正整数 $n,m,q$，表示序列的长度，序列的段数和问题的个数。\n\n接下来 $m$ 行，每行三个正整数，分别表示 $l_i,r_i,b_i$。\n\n接下来 $q$ 行，每行两个正整数 $x,y$。你需要回答 $[x,y]$ 的方差。", "outputFormat": "对于每个询问，输出一行一个整数，表示你的答案。", "hint": "**【样例解释】**\n\n序列 $a$ 为 $\\{ 5, 7, 8, 8, 8 \\}$。对于第 $12$ 组询问，区间 $[3, 5]$ 的平均数 $\\overline{a} = 8$，方差 $s^2 = \\frac{1}{3} [(8 - 8)^2 + (8 - 8)^2 + (8 - 8)^2] = 0$。\n\n**【数据范围】**\n\n- 对于 $20\\%$ 的数据，保证 $n,q\\leq 100$。\n- 对于 $50\\%$ 的数据，保证 $n\\leq 10^6$，$m\\leq 10^3$。\n- 对于另外 $10\\%$ 的数据，保证 $r_i-l_i\\leq 1000$，$q \\leq 10^4$。\n- 对于另外 $10\\%$ 的数据，保证 $m\\leq 10^3$。\n\n对于所有数据，保证：\n- $1\\leq l_i\\leq r_i\\leq n\\leq 10^{18}$，$1\\leq m\\leq \\min(n,2\\times 10^5)$，$1\\leq q\\leq 2\\times 10^5$，$1\\leq x\\leq y\\leq n$，$1\\leq b_i\\leq 10^{18}$。\n- 数据保证对于任意 $i<j$，$l_i<l_j$，且 $[l_i,r_i]$ 与 $[l_j,r_j]$ 不存在交集，即 $[l_i,r_i]\\cap[l_j,r_j]=\\varnothing$。\n- 数据保证，若将所有的 $[l_i,r_i]$ 取并集，则其覆盖了 $[1,n]$ 上所有的正整数。即：$\\bigcup_{i=1}^n[l_i,r_i] \\cap \\Z=[1,n] \\cap \\Z$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "方差", "background": "定义一个长度为 $n$ 的序列 $a$ 的方差为：\n\n$$s^2=\\frac{1}{n} \\sum_{i=1}^n (a_i-\\overline{a})^2$$\n\n其中：$\\sum$ 为累加求和符号，例如 $\\sum_{i=1}^5 a_i=a_1+a_2+a_3+a_4+a_5$。$\\overline{a}$ 为序列 $a$ 的平均数。\n\n例如对于序列 $\\{3,5,1,4,2\\}$，$\\overline{a}=3$，此时 $s^2=\\frac{1}{n} \\sum_{i=1}^n (a_i-\\overline{a})^2=\\frac{1}{5}[(3-3)^2+(5-3)^2+(1-3)^2+(4-3)^2+(2-3)^2]=2$。", "description": "小 S 认为数学很简单，于是小 R 想要考考她。\n\n小 R 给了小 S 一个序列 $a$，这个序列由 $m$ 段构成，第 $i$ 段被表示为 `l r b`，表示 $a_l,a_{l+1},\\ldots,a_r$ 为 $b$，保证给出的任意两个区间不相交。\n\n现在，小 R 有 $q$ 个问题。形如 `l r`，想让你查询区间 $[l,r]$ 的方差 $s^2$（需要注意：$l$ 可能等于 $r$，此时该段方差为 $0$）。\n\n由于这个数字可能是个小数，小 R 不方便对答案，所以他想要小 S 求出 $(r-l+1)^2\\cdot s^2\\bmod 998244353$。可以证明 $(r-l+1)^2\\cdot s^2$ 一定是整数。\n\n作为小 S 的好朋友，你能帮帮她吗？", "inputFormat": "第一行三个正整数 $n,m,q$，表示序列的长度，序列的段数和问题的个数。\n\n接下来 $m$ 行，每行三个正整数，分别表示 $l_i,r_i,b_i$。\n\n接下来 $q$ 行，每行两个正整数 $x,y$。你需要回答 $[x,y]$ 的方差。", "outputFormat": "对于每个询问，输出一行一个整数，表示你的答案。", "hint": "**【样例解释】**\n\n序列 $a$ 为 $\\{ 5, 7, 8, 8, 8 \\}$。对于第 $12$ 组询问，区间 $[3, 5]$ 的平均数 $\\overline{a} = 8$，方差 $s^2 = \\frac{1}{3} [(8 - 8)^2 + (8 - 8)^2 + (8 - 8)^2] = 0$。\n\n**【数据范围】**\n\n- 对于 $20\\%$ 的数据，保证 $n,q\\leq 100$。\n- 对于 $50\\%$ 的数据，保证 $n\\leq 10^6$，$m\\leq 10^3$。\n- 对于另外 $10\\%$ 的数据，保证 $r_i-l_i\\leq 1000$，$q \\leq 10^4$。\n- 对于另外 $10\\%$ 的数据，保证 $m\\leq 10^3$。\n\n对于所有数据，保证：\n- $1\\leq l_i\\leq r_i\\leq n\\leq 10^{18}$，$1\\leq m\\leq \\min(n,2\\times 10^5)$，$1\\leq q\\leq 2\\times 10^5$，$1\\leq x\\leq y\\leq n$，$1\\leq b_i\\leq 10^{18}$。\n- 数据保证对于任意 $i<j$，$l_i<l_j$，且 $[l_i,r_i]$ 与 $[l_j,r_j]$ 不存在交集，即 $[l_i,r_i]\\cap[l_j,r_j]=\\varnothing$。\n- 数据保证，若将所有的 $[l_i,r_i]$ 取并集，则其覆盖了 $[1,n]$ 上所有的正整数。即：$\\bigcup_{i=1}^n[l_i,r_i] \\cap \\Z=[1,n] \\cap \\Z$。", "locale": "zh-CN"}}}
