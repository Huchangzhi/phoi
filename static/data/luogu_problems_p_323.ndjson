{"pid": "P7540", "type": "P", "difficulty": 1, "samples": [["2", "12"], ["3", "30"], ["15", "2040"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #1] DOMINO", "background": "", "description": "求所有满足 $0 \\le x \\le y \\le N$ 的非负整数对 $(x,y)$ 中，$\\sum{x} + \\sum{y}$ 是多少。", "inputFormat": "一行一个整数 $N$，意义如题面所述。", "outputFormat": "一行一个整数，表示 $\\sum{x} + \\sum{y}$ 的值。", "hint": "#### 【样例 2 解释】\n\n满足要求的所有数对为：$(0,0)$、$(0,1)$、$(0,2)$、$(0,3)$、$(1,1)$、$(1,2)$、$(1,3)$、$(2,2)$、$(2,3)$、$(3,3)。$\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^3$。\n\n#### 【说明】\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自 [**COCI2009-2010 CONTEST #1**](https://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf) _**T2 DOMINO**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #1] DOMINO", "background": "", "description": "求所有满足 $0 \\le x \\le y \\le N$ 的非负整数对 $(x,y)$ 中，$\\sum{x} + \\sum{y}$ 是多少。", "inputFormat": "一行一个整数 $N$，意义如题面所述。", "outputFormat": "一行一个整数，表示 $\\sum{x} + \\sum{y}$ 的值。", "hint": "#### 【样例 2 解释】\n\n满足要求的所有数对为：$(0,0)$、$(0,1)$、$(0,2)$、$(0,3)$、$(1,1)$、$(1,2)$、$(1,3)$、$(2,2)$、$(2,3)$、$(3,3)。$\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^3$。\n\n#### 【说明】\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自 [**COCI2009-2010 CONTEST #1**](https://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf) _**T2 DOMINO**_。", "locale": "zh-CN"}}}
{"pid": "P7541", "type": "P", "difficulty": 3, "samples": [["L_V", "5"], ["V__K", "10"], ["JA_BU_K_A", "485"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #1] DOBRA", "background": "", "description": "Lea 写下了一个单词，之后她把单词中的一些字母用下划线 `_` 替换。接下来 Lea 会用其他字母代替下划线。\n\nLea 认为如果一个单词不包含 $3$ 个及以上**连续的元音字母**、$3$ 个及以上**连续的辅音字母**，并且至少包含**一个**大写字母 `L`，那么这个单词就是**令人愉快**的。\n\n**提示**：元音字母仅包含 $\\texttt{a,e,i,o,u}$，其他的字母都是辅音字母。\n\n求 Lea 有多少种方案将下划线替换成大写字母，使得这个单词是**令人愉快的**。", "inputFormat": "一行一个字符串，表示 Lea 写下的单词。\n\n保证字符串中最多有 $10$ 个下划线，并且只会出现大写字母和下划线。", "outputFormat": "一行一个整数，表示方案数。\n\n**注意：** 你需要使用 $64$ 位有符号整数。在 C/C++ 中使用 `long long`，Pascal 中使用 `int64`。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，字符串长度 $\\le 100$。\n\n#### 【说明】\n\n本题分值按 COCI 原题设置，满分 $70$。\n\n题目译自 [**COCI2009-2010 CONTEST #1**](https://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf) _**T3 DOBRA**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #1] DOBRA", "background": "", "description": "Lea 写下了一个单词，之后她把单词中的一些字母用下划线 `_` 替换。接下来 Lea 会用其他字母代替下划线。\n\nLea 认为如果一个单词不包含 $3$ 个及以上**连续的元音字母**、$3$ 个及以上**连续的辅音字母**，并且至少包含**一个**大写字母 `L`，那么这个单词就是**令人愉快**的。\n\n**提示**：元音字母仅包含 $\\texttt{a,e,i,o,u}$，其他的字母都是辅音字母。\n\n求 Lea 有多少种方案将下划线替换成大写字母，使得这个单词是**令人愉快的**。", "inputFormat": "一行一个字符串，表示 Lea 写下的单词。\n\n保证字符串中最多有 $10$ 个下划线，并且只会出现大写字母和下划线。", "outputFormat": "一行一个整数，表示方案数。\n\n**注意：** 你需要使用 $64$ 位有符号整数。在 C/C++ 中使用 `long long`，Pascal 中使用 `int64`。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，字符串长度 $\\le 100$。\n\n#### 【说明】\n\n本题分值按 COCI 原题设置，满分 $70$。\n\n题目译自 [**COCI2009-2010 CONTEST #1**](https://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf) _**T3 DOBRA**_。", "locale": "zh-CN"}}}
{"pid": "P7542", "type": "P", "difficulty": 3, "samples": [["3\n2 8\n3 1\n1 4", "10\n10\n9"], ["3\n1 1\n2 2\n3 3", "2\n3\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #1] MALI", "background": "", "description": "Mirko 和 Slavko 正在玩游戏。游戏共有 $N$ 个回合，在第 $k$ 个回合，Slavko 给出两个整数 $A_k$ 和 $B_k$。请你帮助 Mirko 解决以下问题：\n\n前 $k$ 个回合中 Slavko 给出了数字 $A_1,A_2,...,A_k$ 和 $B_1,B_2,...,B_k$。将这些数两两配成 $k$ 个数对 $(A_i,B_j)$（$1 \\le i,j \\le k$），使得序列 $A$ 和序列 $B$ 的每一个数**都只在这些数对中出现一次**，并且使所有数对的**和**（$A_i + B_j$）**的最大值最小**。", "inputFormat": "第一行包含一个整数 $N$，表示游戏的回合数。\n\n接下来 $N$ 行的第 $i$ 行包含两个整数 $A_i,B_i$，表示 Slavko 在第 $i$ 个回合中给出的两个数字。", "outputFormat": "输出 $N$ 行，第 $i$ 行表示第 $i$ 个回合最小的最大数对和。", "hint": "#### 【数据范围】\n\n对于 $50\\%$ 的数据，$1 \\le N \\le 200$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$1 \\le A_i,B_i \\le 100$。\n\n#### 【说明】\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自 [**COCI2009-2010 CONTEST #1**](https://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf) _**T4 MALI**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #1] MALI", "background": "", "description": "Mirko 和 Slavko 正在玩游戏。游戏共有 $N$ 个回合，在第 $k$ 个回合，Slavko 给出两个整数 $A_k$ 和 $B_k$。请你帮助 Mirko 解决以下问题：\n\n前 $k$ 个回合中 Slavko 给出了数字 $A_1,A_2,...,A_k$ 和 $B_1,B_2,...,B_k$。将这些数两两配成 $k$ 个数对 $(A_i,B_j)$（$1 \\le i,j \\le k$），使得序列 $A$ 和序列 $B$ 的每一个数**都只在这些数对中出现一次**，并且使所有数对的**和**（$A_i + B_j$）**的最大值最小**。", "inputFormat": "第一行包含一个整数 $N$，表示游戏的回合数。\n\n接下来 $N$ 行的第 $i$ 行包含两个整数 $A_i,B_i$，表示 Slavko 在第 $i$ 个回合中给出的两个数字。", "outputFormat": "输出 $N$ 行，第 $i$ 行表示第 $i$ 个回合最小的最大数对和。", "hint": "#### 【数据范围】\n\n对于 $50\\%$ 的数据，$1 \\le N \\le 200$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$1 \\le A_i,B_i \\le 100$。\n\n#### 【说明】\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自 [**COCI2009-2010 CONTEST #1**](https://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf) _**T4 MALI**_。", "locale": "zh-CN"}}}
{"pid": "P7543", "type": "P", "difficulty": 6, "samples": [["11\nP 1 2\nD 1 3\nP 2 5\nD 7 3\nD 3 7\nP 1 2\nP 3 3\nD 10 11\nP 5 1\nD 14 8\nD 2 4", "2\n5\n4\n1\n6\n2"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2011", "交互题", "Special Judge", "CEOI（中欧）", "最近公共祖先 LCA"], "title": "[CEOI 2011] Treasure Hunt", "background": "", "description": "现在有一棵树，初始时只有一个根节点 $1$，你需要完成下列两种操作：\n\n* `path u s` 表示在 $u$ 下面依次加入了 $s$ 个节点：其中的第 $i$ 个节点作为第 $i-1$ 个节点的孩子（$2\\le i\\le s$），特别地，第 $1$ 个节点会作为 $u$ 的孩子。设加入前时，树中节点的最大编号为 $n$，则新加入的 $s$ 个点会被依次编号为 $n+1,n+2,\\cdots,n+s$；\n* `dig u v` 表示询问 $u,v$ 的中点。形式化地，设 $u,v$ 间的距离为 $d$，则你需要求出 $u,v$的路径上，距离 $u$ 为 $\\lfloor \\frac d2\\rfloor$ 的节点编号。", "inputFormat": "本题是一道交互题，首先你需要从标准输入读入操作次数 $n$。  \n接下来 $n$ 次，你会得到以下两种格式的指令之一：\n\n* `P u s` 表示一次 `path u s` 的操作；\n* `D u v` 表示一次 `dig u v` 的操作。\n\n对于第一种操作，你不需要输出任何东西。对于第二种操作，你必须给出答案并清空缓冲区后，才可以读取后续操作。\n\n在您输出一行后，请清空缓冲区：\n\n- 在 C++ 中，使用 fflush(stdout) 或 cout.flush()。  \n- 在 Pascal 中，使用 flush(output)。  \n- 在 Python 中，使用 stdout.flush()。  \n- 其它语言请自行查阅文档。", "outputFormat": "对于每一次 `D u v` 的操作，输出一行表示答案，保证至少有一次这样的操作。", "hint": "对于 $20\\%$ 的数据，保证最终点的编号最大不超过 $5000$，且 $n\\le 5000$；  \n对于 $50\\%$ 的数据，保证最终点的编号最大不超过 $400\\ 000$；  \n对于 $100\\%$ 的数据，保证最终点的编号最大不超过 $10^9$，且 $n\\le 400\\ 000$。\n\n#### 说明\n题目译自 [CEOI 2011 day 1 T3 _Treasure Hunt_](http://ceoi.inf.elte.hu/probarch/11/trezad.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2011] Treasure Hunt", "background": "", "description": "现在有一棵树，初始时只有一个根节点 $1$，你需要完成下列两种操作：\n\n* `path u s` 表示在 $u$ 下面依次加入了 $s$ 个节点：其中的第 $i$ 个节点作为第 $i-1$ 个节点的孩子（$2\\le i\\le s$），特别地，第 $1$ 个节点会作为 $u$ 的孩子。设加入前时，树中节点的最大编号为 $n$，则新加入的 $s$ 个点会被依次编号为 $n+1,n+2,\\cdots,n+s$；\n* `dig u v` 表示询问 $u,v$ 的中点。形式化地，设 $u,v$ 间的距离为 $d$，则你需要求出 $u,v$的路径上，距离 $u$ 为 $\\lfloor \\frac d2\\rfloor$ 的节点编号。", "inputFormat": "本题是一道交互题，首先你需要从标准输入读入操作次数 $n$。  \n接下来 $n$ 次，你会得到以下两种格式的指令之一：\n\n* `P u s` 表示一次 `path u s` 的操作；\n* `D u v` 表示一次 `dig u v` 的操作。\n\n对于第一种操作，你不需要输出任何东西。对于第二种操作，你必须给出答案并清空缓冲区后，才可以读取后续操作。\n\n在您输出一行后，请清空缓冲区：\n\n- 在 C++ 中，使用 fflush(stdout) 或 cout.flush()。  \n- 在 Pascal 中，使用 flush(output)。  \n- 在 Python 中，使用 stdout.flush()。  \n- 其它语言请自行查阅文档。", "outputFormat": "对于每一次 `D u v` 的操作，输出一行表示答案，保证至少有一次这样的操作。", "hint": "对于 $20\\%$ 的数据，保证最终点的编号最大不超过 $5000$，且 $n\\le 5000$；  \n对于 $50\\%$ 的数据，保证最终点的编号最大不超过 $400\\ 000$；  \n对于 $100\\%$ 的数据，保证最终点的编号最大不超过 $10^9$，且 $n\\le 400\\ 000$。\n\n#### 说明\n题目译自 [CEOI 2011 day 1 T3 _Treasure Hunt_](http://ceoi.inf.elte.hu/probarch/11/trezad.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7544", "type": "P", "difficulty": 3, "samples": [["4\nhoni", "1 4"], ["7\nnivelle", "4 7"], ["6\nananas", "1 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #4] Nivelle", "background": "", "description": "Bojan 看到了 $n$ 个可爱的能吃的毛绒玩具摆在商店的货架上。从序号 $1$ 摆到 $n$。每个毛绒玩具都有 $26$ 中不同的颜色。每种颜色用英文字母 $a...z$ 表示。             \n对于任何一套玩具，我们都可以把它的颜色定义为一套玩具中不同颜色的玩具数量除以一套玩具的总数。            \nBojan 想吃这些玩具，但 Bojan 不喜欢有太多的颜色，所以请你帮助 Bojan 找到一个连续的子序列的玩具，使其色彩数尽可能的少。", "inputFormat": "第一行包含一个正整数 $n$，表示玩具的个数。              \n第二行包含长度为 $n$ 的字符串 $S$，第 $i$ 个字符表示架子上的第 $i$ 个玩具的颜色。", "outputFormat": "输出只有一行，包含两个整数 $l,r$，表示所求连续子序列的左端点及右端点。    \n如果存在多个具有相同颜色数量且颜色最少的连续子序列，则输出任意一个子序列。", "hint": "**数据范围及约定**\n\n**本题采用多测试点捆绑测试，共有 5 个子任务。**\n\n- Subtask 1（7 points）：$1 \\leq n \\leq 100$；\n- Subtask 2（17 points）：$1 \\leq n \\leq 2 \\times 10^3$；\n- Subtask 3（13 points）：字符串 $S$ 中只有两个字符 $a,b$（你可以理解为所有玩具中只有两种颜色）。\n- Subtask 4（25 points）：字符串 $S$ 中只有五个字符 $a,b,c,d,e$（你可以理解为所有玩具中只有五种颜色）。\n- Subtask 5（48 points）：无特别限制。\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5，1 \\leq l \\leq r \\leq n$。\n\n【提示与帮助】\n\n**题目译自 [COCI 2019/2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #4](https://hsin.hr/coci/archive/2019_2020/contest4_tasks.pdf) T5 Nivelle**\n\n在 COCI 中，本题分值为 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #4] Nivelle", "background": "", "description": "Bojan 看到了 $n$ 个可爱的能吃的毛绒玩具摆在商店的货架上。从序号 $1$ 摆到 $n$。每个毛绒玩具都有 $26$ 中不同的颜色。每种颜色用英文字母 $a...z$ 表示。             \n对于任何一套玩具，我们都可以把它的颜色定义为一套玩具中不同颜色的玩具数量除以一套玩具的总数。            \nBojan 想吃这些玩具，但 Bojan 不喜欢有太多的颜色，所以请你帮助 Bojan 找到一个连续的子序列的玩具，使其色彩数尽可能的少。", "inputFormat": "第一行包含一个正整数 $n$，表示玩具的个数。              \n第二行包含长度为 $n$ 的字符串 $S$，第 $i$ 个字符表示架子上的第 $i$ 个玩具的颜色。", "outputFormat": "输出只有一行，包含两个整数 $l,r$，表示所求连续子序列的左端点及右端点。    \n如果存在多个具有相同颜色数量且颜色最少的连续子序列，则输出任意一个子序列。", "hint": "**数据范围及约定**\n\n**本题采用多测试点捆绑测试，共有 5 个子任务。**\n\n- Subtask 1（7 points）：$1 \\leq n \\leq 100$；\n- Subtask 2（17 points）：$1 \\leq n \\leq 2 \\times 10^3$；\n- Subtask 3（13 points）：字符串 $S$ 中只有两个字符 $a,b$（你可以理解为所有玩具中只有两种颜色）。\n- Subtask 4（25 points）：字符串 $S$ 中只有五个字符 $a,b,c,d,e$（你可以理解为所有玩具中只有五种颜色）。\n- Subtask 5（48 points）：无特别限制。\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5，1 \\leq l \\leq r \\leq n$。\n\n【提示与帮助】\n\n**题目译自 [COCI 2019/2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #4](https://hsin.hr/coci/archive/2019_2020/contest4_tasks.pdf) T5 Nivelle**\n\n在 COCI 中，本题分值为 $110$ 分。", "locale": "zh-CN"}}}
{"pid": "P7546", "type": "P", "difficulty": 6, "samples": [["7 2 3 2\nabcbcaa", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "北京"], "title": "[BJWC2014] 珠链", "background": "", "description": "Alex 喜欢玩网络游戏，认为这是智力和体力的综合锻炼。在一次游戏活动中，他意外获得了一个传说中威力极其强大的法宝：珠链。 \n\n珠链，顾名思义，就是由许多小珠子串起来的一条链。珠子有很多种颜色。Alex 听说过，只有将珠链打磨纯净，珠链才能发挥最大的威力。 \n\n纯净珠链是指这样的珠链：它可以分成若干个长度相等的段，使任何两段的任何相同位置的珠子的颜色均不同，相同位置指珠子在段内的相对位置相同；而且每段的长度以及划分的段数也是有规范的，Alex 记得，每段包含的珠子数目必须在 $L$ 到 $R$ 之间，而且划分的段数不能少于 $S$。 \n\n所谓打磨，就是从珠链的首和尾拿掉连续的若干个珠子。打磨后的纯净珠链的威力等于它的每个珠子具有的魔力值之和。\n\n一个珠子的魔力值只与它在打磨前的珠链中的位置有关。在查找和分析了大量实验数据以后，Alex 发现珠子的魔力值等于珠子原来位置编号的约数个数！ \n\n兴奋不已的 Alex 想将珠链打磨成威力最大的纯净珠链。然而，马上要参加期末考试的 Alex 来不及计算了，你能否帮助 Alex 算出最大的威力值呢？ ", "inputFormat": "第一行是四个整数 $N,L,R,S$。 \n\n第二行是一个长度等于 $N$ 的字符串，表示 Alex 得到的珠链。字符串的第 $i$ 个字符表示珠链的第 $i$ 个珠子的颜色。相同字母表示相同颜色。珠子的位置从 $1$ 编号到 $N$。\n\n**保证输入的字符串只包含大写和小写的英文字母，并且字母区分大小写。**", "outputFormat": "输出一行，表示打磨后的纯净珠链的最大威力值。\n\n如果无法打磨成满足要求的纯净珠链，输出 `-1`。", "hint": "#### 【样例解释】\n\n能够打磨出的合乎要求的纯净珠链有三种：$\\texttt{bc/aa}$，$\\texttt{abc/bca}$ 和 $\\texttt{bcb/caa}$。其中威力最大的是第三种，其威力值等于 $2 + 2 + 3 + 2 + 4 + 2 = 15$。\n\n如果给出的珠链是纯净珠链，那么可以不打磨。纯净珠链必须能划分成不少于 $S$ 个等长的段且每段长度在 $L$ 到 $R$ 之间。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 5 \\cdot 10^5$，$1 \\le L,R,S \\le N$，$0 \\le R - L \\le 10$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BJWC2014] 珠链", "background": "", "description": "Alex 喜欢玩网络游戏，认为这是智力和体力的综合锻炼。在一次游戏活动中，他意外获得了一个传说中威力极其强大的法宝：珠链。 \n\n珠链，顾名思义，就是由许多小珠子串起来的一条链。珠子有很多种颜色。Alex 听说过，只有将珠链打磨纯净，珠链才能发挥最大的威力。 \n\n纯净珠链是指这样的珠链：它可以分成若干个长度相等的段，使任何两段的任何相同位置的珠子的颜色均不同，相同位置指珠子在段内的相对位置相同；而且每段的长度以及划分的段数也是有规范的，Alex 记得，每段包含的珠子数目必须在 $L$ 到 $R$ 之间，而且划分的段数不能少于 $S$。 \n\n所谓打磨，就是从珠链的首和尾拿掉连续的若干个珠子。打磨后的纯净珠链的威力等于它的每个珠子具有的魔力值之和。\n\n一个珠子的魔力值只与它在打磨前的珠链中的位置有关。在查找和分析了大量实验数据以后，Alex 发现珠子的魔力值等于珠子原来位置编号的约数个数！ \n\n兴奋不已的 Alex 想将珠链打磨成威力最大的纯净珠链。然而，马上要参加期末考试的 Alex 来不及计算了，你能否帮助 Alex 算出最大的威力值呢？ ", "inputFormat": "第一行是四个整数 $N,L,R,S$。 \n\n第二行是一个长度等于 $N$ 的字符串，表示 Alex 得到的珠链。字符串的第 $i$ 个字符表示珠链的第 $i$ 个珠子的颜色。相同字母表示相同颜色。珠子的位置从 $1$ 编号到 $N$。\n\n**保证输入的字符串只包含大写和小写的英文字母，并且字母区分大小写。**", "outputFormat": "输出一行，表示打磨后的纯净珠链的最大威力值。\n\n如果无法打磨成满足要求的纯净珠链，输出 `-1`。", "hint": "#### 【样例解释】\n\n能够打磨出的合乎要求的纯净珠链有三种：$\\texttt{bc/aa}$，$\\texttt{abc/bca}$ 和 $\\texttt{bcb/caa}$。其中威力最大的是第三种，其威力值等于 $2 + 2 + 3 + 2 + 4 + 2 = 15$。\n\n如果给出的珠链是纯净珠链，那么可以不打磨。纯净珠链必须能划分成不少于 $S$ 个等长的段且每段长度在 $L$ 到 $R$ 之间。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 5 \\cdot 10^5$，$1 \\le L,R,S \\le N$，$0 \\le R - L \\le 10$。", "locale": "zh-CN"}}}
{"pid": "P7547", "type": "P", "difficulty": 5, "samples": [["5 3\n4 2 6 1 3", "24"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "北京"], "title": "[BJWC2017] 太空飞船", "background": "21XX 年，秋。\n\n小诚是 THU（Tomorrow Happy University）航天学院船舶设计系本科四年级的学生。为了顺利毕业，小诚仔细阅读了这几年被引用次数最多的十几篇会议论文，打算在权威理论的指导下设计一艘新型太空飞船。", "description": "这将是一艘环形的太空飞船，由 $N$ 个舱室顺序组成。第 $i$ 个舱室的设计长度为 $L_i$。\n\n为了给飞船提供能量，要在飞船上装置 $K$ 个太空能量吸收器。根据权威理论，这些吸收器应该尽量均匀地分散在飞船表面。也就是说，小诚要把飞船所有 $N$ 个舱室划分成 $K$ 个部分（每个部分包括连续一段舱室），并给每个部分配置一个能量吸收器。设第 $i$ 个部分舱室的长度之和为 $s_i$，则要令方差尽量小。\n\n可是，这个问题对于已经大学四年级的小诚来说太难了。你能否帮助他完成设计呢？为方便起见，输出方差最小值与 $K^2$ 的乘积。", "inputFormat": "输入共两行。\n\n第一行包含两个整数 $N,K$。\n\n第二行包含 $N$ 个以空格分隔的整数 $L_1,L_2,…,L_N$，依次表示每个舱室的长度。", "outputFormat": "输出一行一个整数，表示方差最小值与 $K^2$ 的乘积。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，$N \\le 400$，$K \\le 20$，$1 \\le L_i \\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BJWC2017] 太空飞船", "background": "21XX 年，秋。\n\n小诚是 THU（Tomorrow Happy University）航天学院船舶设计系本科四年级的学生。为了顺利毕业，小诚仔细阅读了这几年被引用次数最多的十几篇会议论文，打算在权威理论的指导下设计一艘新型太空飞船。", "description": "这将是一艘环形的太空飞船，由 $N$ 个舱室顺序组成。第 $i$ 个舱室的设计长度为 $L_i$。\n\n为了给飞船提供能量，要在飞船上装置 $K$ 个太空能量吸收器。根据权威理论，这些吸收器应该尽量均匀地分散在飞船表面。也就是说，小诚要把飞船所有 $N$ 个舱室划分成 $K$ 个部分（每个部分包括连续一段舱室），并给每个部分配置一个能量吸收器。设第 $i$ 个部分舱室的长度之和为 $s_i$，则要令方差尽量小。\n\n可是，这个问题对于已经大学四年级的小诚来说太难了。你能否帮助他完成设计呢？为方便起见，输出方差最小值与 $K^2$ 的乘积。", "inputFormat": "输入共两行。\n\n第一行包含两个整数 $N,K$。\n\n第二行包含 $N$ 个以空格分隔的整数 $L_1,L_2,…,L_N$，依次表示每个舱室的长度。", "outputFormat": "输出一行一个整数，表示方差最小值与 $K^2$ 的乘积。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，$N \\le 400$，$K \\le 20$，$1 \\le L_i \\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P7548", "type": "P", "difficulty": 0, "samples": [["4 4\n0 1 2 3\n1 2 3 4\n1 2\n1 4\n2 3\n1 3", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "北京"], "title": "[BJWC2017] 星际穿越", "background": "21YY 年，夏。\n\n时过境迁，小诚已是星际联邦（Federation of Planets）太空防御理事会的技术顾问。去年联邦举行大选，新总统刚刚宣誓就任。新政府的主要政策之一是对行政区域进行重新规划，将各个星球之间原有的行政关系精简。", "description": "联邦有 $N$ 个星球，新的行政体系结构形如一个二叉树。联邦的行政中心为首都，其他所有星球分成至多两个区域，每个区域内部又是同样的结构。\n\n在此番行政改革之前，每个星球驻扎着一支太空舰队。其中，第 $i$ 个星球驻扎舰队的战斗力是 $F_i$。\n\n在行政改革的同时，太空防御理事会负责调整各个舰队的驻地，以符合军事条例中要求每个行政区域中心驻扎的舰队是区域内战斗力最强舰队的规定。此外，根据军事条例，舰队调整驻地的方式只有一种，就是两个星球的舰队交换驻防。现在，所有星球之间共有 $M$ 条双向的星际航道。只有存在星际航道的两个星球才能进行舰队换防。\n\n为了节省开支，理事会希望总的换防次数尽量少。早在年初，理事会就委托了小诚制定换防计划，但是小诚至今还未完成任务。你能否帮助小诚，使他免于被解职的命运呢？", "inputFormat": "第一行包含两个以空格分隔的整数 $N,M$。\n\n第二行包含 $N$ 个以空格分隔的整数 $R_1,R_2,…,R_N$，由空格隔开。$R_i$ 表示星球 $i$ 的直属上级星球编号。对于联邦首都，$R_i$ 用 $0$ 表示。\n\n第三行，$N$ 个互不相同的整数 $F_1,F_2,...,F_N$，由空格隔开。其中 $F_i$ 表示当前驻扎在星球 $i$ 的舰队的战斗力。\n\n接下来 $M$ 行，每行两个整数 $X_i,Y_i$，表示在星球 $X_i$ 和星球 $Y_i$ 之间存在一条星际航道。\n\n输入数据保证星球之间的行政关系形成一个二叉树，任何两个星球之间至多有一条星际航道，且星际航道不会出现自环。\n\n数据保证有解。", "outputFormat": "输出一行一个整数，表示总换防次数的最小值。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 12$，$1 \\le M \\le 20$，$1 \\le F_i \\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BJWC2017] 星际穿越", "background": "21YY 年，夏。\n\n时过境迁，小诚已是星际联邦（Federation of Planets）太空防御理事会的技术顾问。去年联邦举行大选，新总统刚刚宣誓就任。新政府的主要政策之一是对行政区域进行重新规划，将各个星球之间原有的行政关系精简。", "description": "联邦有 $N$ 个星球，新的行政体系结构形如一个二叉树。联邦的行政中心为首都，其他所有星球分成至多两个区域，每个区域内部又是同样的结构。\n\n在此番行政改革之前，每个星球驻扎着一支太空舰队。其中，第 $i$ 个星球驻扎舰队的战斗力是 $F_i$。\n\n在行政改革的同时，太空防御理事会负责调整各个舰队的驻地，以符合军事条例中要求每个行政区域中心驻扎的舰队是区域内战斗力最强舰队的规定。此外，根据军事条例，舰队调整驻地的方式只有一种，就是两个星球的舰队交换驻防。现在，所有星球之间共有 $M$ 条双向的星际航道。只有存在星际航道的两个星球才能进行舰队换防。\n\n为了节省开支，理事会希望总的换防次数尽量少。早在年初，理事会就委托了小诚制定换防计划，但是小诚至今还未完成任务。你能否帮助小诚，使他免于被解职的命运呢？", "inputFormat": "第一行包含两个以空格分隔的整数 $N,M$。\n\n第二行包含 $N$ 个以空格分隔的整数 $R_1,R_2,…,R_N$，由空格隔开。$R_i$ 表示星球 $i$ 的直属上级星球编号。对于联邦首都，$R_i$ 用 $0$ 表示。\n\n第三行，$N$ 个互不相同的整数 $F_1,F_2,...,F_N$，由空格隔开。其中 $F_i$ 表示当前驻扎在星球 $i$ 的舰队的战斗力。\n\n接下来 $M$ 行，每行两个整数 $X_i,Y_i$，表示在星球 $X_i$ 和星球 $Y_i$ 之间存在一条星际航道。\n\n输入数据保证星球之间的行政关系形成一个二叉树，任何两个星球之间至多有一条星际航道，且星际航道不会出现自环。\n\n数据保证有解。", "outputFormat": "输出一行一个整数，表示总换防次数的最小值。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 12$，$1 \\le M \\le 20$，$1 \\le F_i \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P7549", "type": "P", "difficulty": 5, "samples": [["4 3\n5 8 10 2\nmax 1 3\nmin 1 3\nmax 2 4", "5\n2\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "北京"], "title": "[BJWC2017] 神秘物质", "background": "21ZZ 年，冬。\n\n小诚退休以后，不知为何重新燃起了对物理学的兴趣。他从研究所借了些实验仪器，整天研究各种微观粒子。", "description": "这一天，小诚刚从研究所得到了一块奇异的陨石样本，便迫不及待地开始观测。在精密仪器的视野下，构成陨石的每个原子都无比清晰。\n\n小诚发现，这些原子排成若干列，每一列的结构具有高度相似性。于是，他决定对单独一列原子进行测量和测试。\n\n被选中的这列共有 $N$ 个顺序排列的原子。最初， 第 $i$ 个原子具有能量 $E_i$。 随着时间推移和人为测试，这列原子在观测上会产生两种变化：\n\n- `merge x e`：当前第 $x$ 个原子和第 $x + 1$ 个原子合并，得到能量为 $e$ 的新原子；\n- `insert x e`：在当前第 $x$ 个原子和第 $x + 1$ 个原子之间插入一个能量为 $e$ 的新原子。\n\n对于一列原子，小诚关心的是相邻一段中能量最大和能量最小的两个原子的能量差值，称为区间极差。因此，除了观测变化外，小诚还要经常统计这列原子的两类数据：\n\n- `max x y`：表示当前第 $x$ 到第 $y$ 个原子之间的任意子区间中区间极差的最大值；\n- `min x y`：表示当前第 $x$ 到第 $y$ 个原子之间的任意子区间中区间极差的最小值。\n\n其中，子区间指的是长度至少是 $2$ 的子区间。\n\n小诚坚信这项研究可以获得诺贝尔物理学奖。为了让小诚早日了结心愿，你能否帮助他实现上述的观测和测量呢？", "inputFormat": "第一行包含两个整数 $N,M$，分别表示最初的原子数目和事件总数。\n\n第二行包含 $N$ 个以空格分隔的整数 $E_1,E_2,...,E_N$，依次表示每个原子的能量。\n\n接下来 $M$ 行，每行为一个字符串和两个整数，描述一次事件，格式见题目描述。", "outputFormat": "输出若干行，按顺序依次表示每次 max 和 min 类事件的测量结果。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$1 \\le M \\le 10^5$，$1 \\le e,E_i \\le 10^9$。\n\n设 $N'$ 为当前时刻原子数目：\n\n- 对于 merge 类事件，$1 \\le x \\le N' - 1$；\n- 对于 insert 类事件，$1 \\le x \\le N'$；\n- 对于 max 和 min 类事件，$1 \\le x < y \\le N'$。\n\n任何时刻，保证 $N' \\ge 2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BJWC2017] 神秘物质", "background": "21ZZ 年，冬。\n\n小诚退休以后，不知为何重新燃起了对物理学的兴趣。他从研究所借了些实验仪器，整天研究各种微观粒子。", "description": "这一天，小诚刚从研究所得到了一块奇异的陨石样本，便迫不及待地开始观测。在精密仪器的视野下，构成陨石的每个原子都无比清晰。\n\n小诚发现，这些原子排成若干列，每一列的结构具有高度相似性。于是，他决定对单独一列原子进行测量和测试。\n\n被选中的这列共有 $N$ 个顺序排列的原子。最初， 第 $i$ 个原子具有能量 $E_i$。 随着时间推移和人为测试，这列原子在观测上会产生两种变化：\n\n- `merge x e`：当前第 $x$ 个原子和第 $x + 1$ 个原子合并，得到能量为 $e$ 的新原子；\n- `insert x e`：在当前第 $x$ 个原子和第 $x + 1$ 个原子之间插入一个能量为 $e$ 的新原子。\n\n对于一列原子，小诚关心的是相邻一段中能量最大和能量最小的两个原子的能量差值，称为区间极差。因此，除了观测变化外，小诚还要经常统计这列原子的两类数据：\n\n- `max x y`：表示当前第 $x$ 到第 $y$ 个原子之间的任意子区间中区间极差的最大值；\n- `min x y`：表示当前第 $x$ 到第 $y$ 个原子之间的任意子区间中区间极差的最小值。\n\n其中，子区间指的是长度至少是 $2$ 的子区间。\n\n小诚坚信这项研究可以获得诺贝尔物理学奖。为了让小诚早日了结心愿，你能否帮助他实现上述的观测和测量呢？", "inputFormat": "第一行包含两个整数 $N,M$，分别表示最初的原子数目和事件总数。\n\n第二行包含 $N$ 个以空格分隔的整数 $E_1,E_2,...,E_N$，依次表示每个原子的能量。\n\n接下来 $M$ 行，每行为一个字符串和两个整数，描述一次事件，格式见题目描述。", "outputFormat": "输出若干行，按顺序依次表示每次 max 和 min 类事件的测量结果。", "hint": "#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$1 \\le M \\le 10^5$，$1 \\le e,E_i \\le 10^9$。\n\n设 $N'$ 为当前时刻原子数目：\n\n- 对于 merge 类事件，$1 \\le x \\le N' - 1$；\n- 对于 insert 类事件，$1 \\le x \\le N'$；\n- 对于 max 和 min 类事件，$1 \\le x < y \\le N'$。\n\n任何时刻，保证 $N' \\ge 2$。", "locale": "zh-CN"}}}
{"pid": "P7550", "type": "P", "difficulty": 1, "samples": [["4 4\n....\n.#..\n....\n....", "....\n.##.\n.##.\n...."], ["7 7\n.......\n.####..\n.#...#.\n.#...#.\n.#...#.\n.####..\n.......", ".......\n.#####.\n.######\n.##..##\n.##..##\n.######\n.#####."], ["9 7\n.......\n.####..\n.#...#.\n.#...#.\n.####..\n.#.....\n.#.....\n.#.....\n.......", ".......\n.#####.\n.######\n.##..##\n.######\n.#####.\n.##....\n.##....\n.##...."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #6] Bold", "background": "", "description": "Paula 给 Daniel 写了一封信，她需要加粗文本的字体，以便视力恶化的 Daniel 阅读。\n\n信可以用 `.` 和 `#` 组成的矩阵表示。对于所有信中原有的 `#`，Paula 需要将其向右下方扩展为 $2 \\times 2$ 的 `#`。", "inputFormat": "第一行两个整数 $n, m$，表示信的尺寸。\n\n接下来 $n$ 行，每 $m$ 个字符，表示信的内容。\n\n保证最后一行与最后一列中没有 `#`。", "outputFormat": "$n$ 行，每行 $m$ 个字符，表示加粗后的信。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2 \\le n, m \\le 10^3$。保证信中只包含 `.` 和 `#`。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $50$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T1 Bold_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #6] Bold", "background": "", "description": "Paula 给 Daniel 写了一封信，她需要加粗文本的字体，以便视力恶化的 Daniel 阅读。\n\n信可以用 `.` 和 `#` 组成的矩阵表示。对于所有信中原有的 `#`，Paula 需要将其向右下方扩展为 $2 \\times 2$ 的 `#`。", "inputFormat": "第一行两个整数 $n, m$，表示信的尺寸。\n\n接下来 $n$ 行，每 $m$ 个字符，表示信的内容。\n\n保证最后一行与最后一列中没有 `#`。", "outputFormat": "$n$ 行，每行 $m$ 个字符，表示加粗后的信。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2 \\le n, m \\le 10^3$。保证信中只包含 `.` 和 `#`。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $50$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T1 Bold_**。", "locale": "zh-CN"}}}
{"pid": "P7551", "type": "P", "difficulty": 3, "samples": [["3 2\nnovak goat 1\ngoat simulator 3\n2\nnovak simulator\nsimulator goat", "4\nRoger"], ["3 3\nkile legend 4\nlegend beer 5\nbeer kile 6\n2\nkile beer\nlegend kile", "9\n11"], ["4 5\nrafael me 5\nme ow 6\now ausopenfinal 2012\nausopenfinal me 2\nrafael ausopenfinal 2\n3\nrafael me\nme rafael\now me", "4\nRoger\n2014"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "2020", "离散化", "最短路", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #6] Alias", "background": "", "description": "Novak 和 Rafael 在玩一个猜单词的游戏。\n\nRafael 脑中有一个包含 $n$ 个单词的数据库。数据库中还有 $m$ 对形如 $x, y, t$ 的链接，表示如果他记起或听到了单词 $x$，他会在 $t$ 毫秒后记起单词 $y$。\n\n游戏将进行 $q$ 轮，每轮游戏相互独立。每一轮游戏开始时，Novak 将说出初始单词 $a$。他想知道，多少毫秒后 Rafael 会记起目标单词 $b$？", "inputFormat": "第一行两个整数 $n, m$。\n\n接下来 $m$ 行每行两个字符串 $x_i, y_i$ 和一个整数 $t_i$，表示一对链接。\n\n接下来一行一个整数 $q$。\n\n接下来 $q$ 行，每行两个字符串 $a_i, b_i$，表示第 $i$ 轮游戏中的初始单词和目标单词。", "outputFormat": "共 $q$ 行，表示每轮游戏的答案。\n\n如果 Rafael 能记起目标单词，输出一个整数，表示所需要的时间。否则，输出 `Roger`。", "hint": "#### 样例 1 解释\n\n第一轮游戏中，Novak 说出单词 `novak`。$1$ 毫秒后，Rafael 记起单词 `goat`。又过了 $3$ 毫秒，他记起目标单词 `simulator`。\n\n第二轮游戏中，Novak 说出单词 `simulator`，但 Rafael 不会记起任何其他单词。\n\n------------\n\n#### 数据规模与约定\n\n对于 $20$ 分的数据，$n \\le 10$。  \n对于 $40$ 分的数据，$n \\le 100$。  \n对于 $100\\%$ 的数据，$2 \\le n \\le 10^3$，$1 \\le m \\le 10^3$，$1 \\le t_i \\le 10^9$，$1 \\le q \\le 10^3$。保证单词的长度不超过 $20$ 且仅含小写字母。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T2 Alias_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #6] Alias", "background": "", "description": "Novak 和 Rafael 在玩一个猜单词的游戏。\n\nRafael 脑中有一个包含 $n$ 个单词的数据库。数据库中还有 $m$ 对形如 $x, y, t$ 的链接，表示如果他记起或听到了单词 $x$，他会在 $t$ 毫秒后记起单词 $y$。\n\n游戏将进行 $q$ 轮，每轮游戏相互独立。每一轮游戏开始时，Novak 将说出初始单词 $a$。他想知道，多少毫秒后 Rafael 会记起目标单词 $b$？", "inputFormat": "第一行两个整数 $n, m$。\n\n接下来 $m$ 行每行两个字符串 $x_i, y_i$ 和一个整数 $t_i$，表示一对链接。\n\n接下来一行一个整数 $q$。\n\n接下来 $q$ 行，每行两个字符串 $a_i, b_i$，表示第 $i$ 轮游戏中的初始单词和目标单词。", "outputFormat": "共 $q$ 行，表示每轮游戏的答案。\n\n如果 Rafael 能记起目标单词，输出一个整数，表示所需要的时间。否则，输出 `Roger`。", "hint": "#### 样例 1 解释\n\n第一轮游戏中，Novak 说出单词 `novak`。$1$ 毫秒后，Rafael 记起单词 `goat`。又过了 $3$ 毫秒，他记起目标单词 `simulator`。\n\n第二轮游戏中，Novak 说出单词 `simulator`，但 Rafael 不会记起任何其他单词。\n\n------------\n\n#### 数据规模与约定\n\n对于 $20$ 分的数据，$n \\le 10$。  \n对于 $40$ 分的数据，$n \\le 100$。  \n对于 $100\\%$ 的数据，$2 \\le n \\le 10^3$，$1 \\le m \\le 10^3$，$1 \\le t_i \\le 10^9$，$1 \\le q \\le 10^3$。保证单词的长度不超过 $20$ 且仅含小写字母。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T2 Alias_**。", "locale": "zh-CN"}}}
{"pid": "P7552", "type": "P", "difficulty": 4, "samples": [["3 1\novo\nono\nvoo", "2"], ["5 2\ntrava\nvatra\nvrata\nleo\nole", "3"], ["6 3\nmali\nlima\nimal\nje\nsve\nej", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #6] Anagramistica", "background": "", "description": "Biljana 喜欢出字谜游戏。\n\n如果一个单词可以由另一个单词交换字母顺序得到，则称它们是「相似」的。\n\n现在，她有 $n$ 个单词。她希望选出一些单词，使得其中恰好有 $k$ 对单词是「相似」的。请你帮她计算可行的方案数，对 $10^9 + 7$ 取模。", "inputFormat": "第一行两个整数 $n$，$k$。\n\n接下来 $n$ 行，每行一个字符串，表示一个单词。", "outputFormat": "一行一个整数，表示可行的方案数，对 $10^9 + 7$ 取模。", "hint": "#### 样例 1 解释\n\n恰含有一对「相似」的单词的方案为 `ovo, ono, voo` 和 `ovo, voo`。\n\n------------\n\n#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| Subtask | 分值 | 数据规模与约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $1 \\le n \\le 15$ |\n| $2$ | $30$ | $0 \\le k \\le 3$ |\n| $3$ | $70$ | 无附加约定 |\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times 10^3$，$0 \\le k \\le 2 \\times 10^3$，单词的长度不超过 $10$ 且仅含小写字母。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T3 Anagramistica_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #6] Anagramistica", "background": "", "description": "Biljana 喜欢出字谜游戏。\n\n如果一个单词可以由另一个单词交换字母顺序得到，则称它们是「相似」的。\n\n现在，她有 $n$ 个单词。她希望选出一些单词，使得其中恰好有 $k$ 对单词是「相似」的。请你帮她计算可行的方案数，对 $10^9 + 7$ 取模。", "inputFormat": "第一行两个整数 $n$，$k$。\n\n接下来 $n$ 行，每行一个字符串，表示一个单词。", "outputFormat": "一行一个整数，表示可行的方案数，对 $10^9 + 7$ 取模。", "hint": "#### 样例 1 解释\n\n恰含有一对「相似」的单词的方案为 `ovo, ono, voo` 和 `ovo, voo`。\n\n------------\n\n#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| Subtask | 分值 | 数据规模与约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $1 \\le n \\le 15$ |\n| $2$ | $30$ | $0 \\le k \\le 3$ |\n| $3$ | $70$ | 无附加约定 |\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times 10^3$，$0 \\le k \\le 2 \\times 10^3$，单词的长度不超过 $10$ 且仅含小写字母。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T3 Anagramistica_**。", "locale": "zh-CN"}}}
{"pid": "P7553", "type": "P", "difficulty": 6, "samples": [["4\n1 1\n-1 1\n-1 -1\n1 -1", "4"], ["4\n-1 -1\n1 -1\n0 1\n0 0", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #6] Geometrija", "background": "", "description": "平面内有不共线的 $n$ 个点。如果两条线段 $\\overline{AB}$  和 $\\overline{CD}$ 有异于 $A, B, C, D$ 的公共点，则称他们「相交」。\n\n记 $S$ 为 $n$ 个点两两相连得到的线段的集合。求不与 $S$ 中任意其他线段相交的线段数量。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行两个整数 $x_i, y_i$，表示第 $i$ 个点的坐标。", "outputFormat": "一行一个整数，表示满足要求的线段的数量。", "hint": "#### 样例 1 解释\n\n符合要求的线段如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hduk6ziy.png)\n\n#### 样例 2 解释\n\n符合要求的线段如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/21ce6qj8.png)\n\n------------\n\n#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| Subtask | 分值 | 数据规模与约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $20$ | $3 \\le n \\le 40$ |\n| $2$ | $30$ | $3 \\le n \\le 200$ |\n| $3$ | $60$ | 无附加约定 |\n\n对于 $100\\%$ 的数据，$3 \\le n \\le 10^3$，$-10^9 \\le x_i, y_i \\le 10^9$。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T4 Geometrija_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #6] Geometrija", "background": "", "description": "平面内有不共线的 $n$ 个点。如果两条线段 $\\overline{AB}$  和 $\\overline{CD}$ 有异于 $A, B, C, D$ 的公共点，则称他们「相交」。\n\n记 $S$ 为 $n$ 个点两两相连得到的线段的集合。求不与 $S$ 中任意其他线段相交的线段数量。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行两个整数 $x_i, y_i$，表示第 $i$ 个点的坐标。", "outputFormat": "一行一个整数，表示满足要求的线段的数量。", "hint": "#### 样例 1 解释\n\n符合要求的线段如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hduk6ziy.png)\n\n#### 样例 2 解释\n\n符合要求的线段如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/21ce6qj8.png)\n\n------------\n\n#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| Subtask | 分值 | 数据规模与约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $20$ | $3 \\le n \\le 40$ |\n| $2$ | $30$ | $3 \\le n \\le 200$ |\n| $3$ | $60$ | 无附加约定 |\n\n对于 $100\\%$ 的数据，$3 \\le n \\le 10^3$，$-10^9 \\le x_i, y_i \\le 10^9$。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T4 Geometrija_**。", "locale": "zh-CN"}}}
{"pid": "P7554", "type": "P", "difficulty": 5, "samples": [["7 6\n3 2 3 1 1 4 7\n3 4\n1 7\n1 6\n4 5\n1 2\n5 7", "1\n3\n3\n1\n2\n2"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #6] Index", "background": "", "description": "「H 指数」可以衡量学者论文的数量与引用量。一位学者的「H 指数」为最大的整数 $h$，满足他至少有 $h$ 篇论文被引用了不少于 $h$ 次。\n\nMirko 一共发表了 $n$ 篇论文，而他有 $q$ 个疑问：如果他只发表了第 $l_i$ 篇至第 $r_i$ 篇论文，他的「H 指数」会是多少？", "inputFormat": "第一行两个整数 $n, q$。\n\n第二行 $n$ 个整数 $p_i$，其中 $p_i$ 表示他的第 $i$ 篇论文的引用量。\n\n接下来 $q$ 行，每行两个整数 $l_i, r_i$，表示一个疑问。", "outputFormat": "共 $q$ 行。每行一个整数，表示一个疑问的答案。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| Subtask | 分值 | 数据规模与约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $20$ | $1 \\le n, q \\le 10^3$ |\n| $2$ | $40$ | $1 \\le n, q \\le 5 \\times 10^4$ |\n| $3$ | $50$ | 无附加约定 |\n\n对于 $100\\%$ 的数据，$1 \\le n, q \\le 2 \\times 10^5$，$1 \\le p_i \\le 2 \\times 10^5$，$1 \\le l_i \\le r_i \\le n$。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T5 Index_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #6] Index", "background": "", "description": "「H 指数」可以衡量学者论文的数量与引用量。一位学者的「H 指数」为最大的整数 $h$，满足他至少有 $h$ 篇论文被引用了不少于 $h$ 次。\n\nMirko 一共发表了 $n$ 篇论文，而他有 $q$ 个疑问：如果他只发表了第 $l_i$ 篇至第 $r_i$ 篇论文，他的「H 指数」会是多少？", "inputFormat": "第一行两个整数 $n, q$。\n\n第二行 $n$ 个整数 $p_i$，其中 $p_i$ 表示他的第 $i$ 篇论文的引用量。\n\n接下来 $q$ 行，每行两个整数 $l_i, r_i$，表示一个疑问。", "outputFormat": "共 $q$ 行。每行一个整数，表示一个疑问的答案。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| Subtask | 分值 | 数据规模与约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $20$ | $1 \\le n, q \\le 10^3$ |\n| $2$ | $40$ | $1 \\le n, q \\le 5 \\times 10^4$ |\n| $3$ | $50$ | 无附加约定 |\n\n对于 $100\\%$ 的数据，$1 \\le n, q \\le 2 \\times 10^5$，$1 \\le p_i \\le 2 \\times 10^5$，$1 \\le l_i \\le r_i \\le n$。\n\n------------\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$**。\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/archive/2020_2021/) [CONTEST #6](https://hsin.hr/coci/archive/2020_2021/contest6_tasks.pdf) _T5 Index_**。", "locale": "zh-CN"}}}
{"pid": "P7555", "type": "P", "difficulty": 4, "samples": [["7\n#####################\n###O11###...###M13###\n###......O22......###\n###...######M22######\n###BBB###M31###M11###\n###...O32...M33O31###\n#####################", "8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2021", "记忆化搜索", "进制"], "title": "[USACO21OPEN] Maze Tac Toe S", "background": "", "description": "奶牛 Bessie 喜欢玩走迷宫。她同样喜欢玩井字棋（更准确地说，奶牛版的井字棋，马上会进行介绍）。Farmer John 找到了一种全新的方式，可以使她同时玩到这两种游戏！\n\n首先，奶牛井字棋：与在 $3 \\times 3$ 棋盘内放置 `X` 和 `O` 不同，奶牛当然是在 $3 \\times 3$ 棋盘内放置 `M` 和 `O`。在一方的回合内，玩家可以选择将一个 `M` 或一个 `O` 放在任意一个空格内（这是另一个与标准井字棋的不同之处，标准的井字棋中一名玩家始终放 `X` 而另一名玩家始终放 `O`）。奶牛井字棋的胜利方是首位拼出 `MOO` 的玩家，可以是同行、同列或对角线。倒着拼出也是可以的，例如一名玩家在棋盘的一行内拼出 `OOM` 也可以获胜。如同标准井字棋一样，有可能最后没有玩家取得胜利。奶牛井字棋的一次行动通常用 3 个字符表示，`Mij` 或 `Oij`，其中 $i$ 和 $j$ 在范围 $1 \\ldots 3$ 之间，表示放置 `M` 或 `O` 的行与列。\n\n为了给 Bessie 增加一些挑战，Farmer John 设计了一个由 $N \\times N$ 个方格组成的正方形迷宫（$3 \\leq N \\leq 25$）。某些方格，包括所有的边界方格，有巨大的草堆，使得 Bessie 不能移动到这些方格。Bessie 可以沿东南西北四个方向在迷宫内的所有其他方格内自由行动。某些方格内有一张纸，上面写有奶牛井字棋的一次行动。当 Bessie 在迷宫中移动时，任何时刻她停留在这样的方格上，她都必须于迷宫中移动之时在同时进行的奶牛井字棋游戏内做出对应的行动（除非奶牛井字棋中对应的方格已经被填上了，在这种情况下她不进行行动）。在奶牛井字棋游戏内没有与她对阵的玩家，但迷宫中的某些方格可能会不利于她最终拼出 `MOO`。\n\n如果 Bessie 在获胜之时就会立刻停止奶牛井字棋，请求出她可以通过适当的方式在迷宫中移动而完成的不同的胜利状态棋盘数量。", "inputFormat": "输入的第一行包含 $N$。\n\n以下 $N$ 行，每行包含 $3N$ 个字符，描述迷宫。每个方格用 3 个字符表示，`###` 代表墙，`...` 代表空格，`BBB` 代表 Bessie 所在的一个非墙方格，或者一个奶牛井字棋的行动，表示 Bessie 必须进行对应行动的一个非墙方格。恰好一个方格为 `BBB`。", "outputFormat": "输出 Bessie 可以通过在迷宫中行动并在获胜时立刻停止而产生的不同的胜利状态下的奶牛井字棋盘数量（可能为 $0$）。", "hint": "#### 样例说明\n\n在这个样例中，Bessie 最终可能达成 $8$ 种胜利的棋盘状态：\n\n```plain\nO.M\n.O.\nMOM\n\nO..\n.O.\n.OM\n\nO.M\n.O.\n.OM\n\nO..\n.O.\nMOM\n\nO..\n...\nOOM\n\n..M\n.O.\nOOM\n\n...\n.O.\nOOM\n\n...\n...\nOOM\n```\n\n对其中一种情况进行说明：\n\n```plain\nO..\n...\nOOM\n```\n\n在这里，Bessie 可以先移动到 `O11` 方格，然后移动到下方并通过 `O32`、`M33` 和 `O31`。此时游戏结束，因为她获得了胜利（例如她不能再前往位于她当前所在的 `O31` 方格北面的 `M11` 方格）。\n\n#### 说明\n\n供题：Brian Dean", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21OPEN] Maze Tac Toe S", "background": "", "description": "奶牛 Bessie 喜欢玩走迷宫。她同样喜欢玩井字棋（更准确地说，奶牛版的井字棋，马上会进行介绍）。Farmer John 找到了一种全新的方式，可以使她同时玩到这两种游戏！\n\n首先，奶牛井字棋：与在 $3 \\times 3$ 棋盘内放置 `X` 和 `O` 不同，奶牛当然是在 $3 \\times 3$ 棋盘内放置 `M` 和 `O`。在一方的回合内，玩家可以选择将一个 `M` 或一个 `O` 放在任意一个空格内（这是另一个与标准井字棋的不同之处，标准的井字棋中一名玩家始终放 `X` 而另一名玩家始终放 `O`）。奶牛井字棋的胜利方是首位拼出 `MOO` 的玩家，可以是同行、同列或对角线。倒着拼出也是可以的，例如一名玩家在棋盘的一行内拼出 `OOM` 也可以获胜。如同标准井字棋一样，有可能最后没有玩家取得胜利。奶牛井字棋的一次行动通常用 3 个字符表示，`Mij` 或 `Oij`，其中 $i$ 和 $j$ 在范围 $1 \\ldots 3$ 之间，表示放置 `M` 或 `O` 的行与列。\n\n为了给 Bessie 增加一些挑战，Farmer John 设计了一个由 $N \\times N$ 个方格组成的正方形迷宫（$3 \\leq N \\leq 25$）。某些方格，包括所有的边界方格，有巨大的草堆，使得 Bessie 不能移动到这些方格。Bessie 可以沿东南西北四个方向在迷宫内的所有其他方格内自由行动。某些方格内有一张纸，上面写有奶牛井字棋的一次行动。当 Bessie 在迷宫中移动时，任何时刻她停留在这样的方格上，她都必须于迷宫中移动之时在同时进行的奶牛井字棋游戏内做出对应的行动（除非奶牛井字棋中对应的方格已经被填上了，在这种情况下她不进行行动）。在奶牛井字棋游戏内没有与她对阵的玩家，但迷宫中的某些方格可能会不利于她最终拼出 `MOO`。\n\n如果 Bessie 在获胜之时就会立刻停止奶牛井字棋，请求出她可以通过适当的方式在迷宫中移动而完成的不同的胜利状态棋盘数量。", "inputFormat": "输入的第一行包含 $N$。\n\n以下 $N$ 行，每行包含 $3N$ 个字符，描述迷宫。每个方格用 3 个字符表示，`###` 代表墙，`...` 代表空格，`BBB` 代表 Bessie 所在的一个非墙方格，或者一个奶牛井字棋的行动，表示 Bessie 必须进行对应行动的一个非墙方格。恰好一个方格为 `BBB`。", "outputFormat": "输出 Bessie 可以通过在迷宫中行动并在获胜时立刻停止而产生的不同的胜利状态下的奶牛井字棋盘数量（可能为 $0$）。", "hint": "#### 样例说明\n\n在这个样例中，Bessie 最终可能达成 $8$ 种胜利的棋盘状态：\n\n```plain\nO.M\n.O.\nMOM\n\nO..\n.O.\n.OM\n\nO.M\n.O.\n.OM\n\nO..\n.O.\nMOM\n\nO..\n...\nOOM\n\n..M\n.O.\nOOM\n\n...\n.O.\nOOM\n\n...\n...\nOOM\n```\n\n对其中一种情况进行说明：\n\n```plain\nO..\n...\nOOM\n```\n\n在这里，Bessie 可以先移动到 `O11` 方格，然后移动到下方并通过 `O32`、`M33` 和 `O31`。此时游戏结束，因为她获得了胜利（例如她不能再前往位于她当前所在的 `O31` 方格北面的 `M11` 方格）。\n\n#### 说明\n\n供题：Brian Dean", "locale": "zh-CN"}}}
{"pid": "P7556", "type": "P", "difficulty": 3, "samples": [["10\n7\n1 2 3 4 5 6 7\n4\n4 5 7 8\n4\n4 5 7 9\n4\n4 5 7 10\n4\n4 5 7 11\n4\n4 5 7 12\n4\n4 5 7 13\n4\n4 5 7 14\n4\n4 5 7 15\n4\n4 5 7 16", "1\n3\n5\n1\n4\n3\n0\n0\n0\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2021", "分类讨论"], "title": "[USACO21OPEN] Do You Know Your ABCs? S", "background": "", "description": "Farmer John 的奶牛正在 mooZ 视频会议平台上举行每日集会。她们发明了一个简单的数字游戏，为会议增添一些乐趣。\n\nElsie 有三个正整数 $A$、$B$ 和 $C$（$1\\le A\\le B\\le C$）。这些数字是保密的，她不会直接透露给她的姐妹 Bessie。她告诉 Bessie $N$（$4\\le N\\le 7$）个不同的整数 $x_1,x_2,\\ldots,x_N$（$1\\le x_i\\le 10^9$），并宣称每一个 $x_i$ 都是 $A$、$B$、$C$、$A+B$、$B+C$、$C+A$ 或 $A+B+C$ 之一。然而，Elsie 可能在撒谎；这些整数 $x_i$ 可能并没有对应任何一组合法的 $(A,B,C)$。\n\nBessie 百思不得其解，所以需要靠你来求出与 Elsie 给出的数相符合的三元组 $(A,B,C)$ 的数量。\n\n每个输入包含 $T$（$1\\le T\\le 100$）组需要独立求解的测试用例。", "inputFormat": "输入的第一行包含 $T$。\n\n每个测试用例的第一行包含 $N$，为 Elsie 给 Bessie 的整数的数量。\n\n每个测试用例的第二行包含 $N$ 个不同的整数 $x_1,x_2,\\ldots,x_N$。", "outputFormat": "对于每个测试用例，输出与 Elsie 给出的数相符合的三元组 $(A,B,C)$ 的数量。", "hint": "#### 样例说明\n\n对于 $x=\\{4,5,7,9\\}$，五个可能的三元组如下：\n\n$$(2, 2, 5), (2, 3, 4), (2, 4, 5), (3, 4, 5), (4, 5, 7).$$\n\n#### 测试点性质：\n\n- 测试点 $1 \\sim 4$ 中，所有的 $x_i$ 不超过 $50$。\n- 测试点 $5 \\sim 5$ 满足 $N=7$。\n- 测试点 $7 \\sim 15$ 没有额外限制。\n\n#### 说明\n\n供题：Benjamin Qi", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21OPEN] Do You Know Your ABCs? S", "background": "", "description": "Farmer John 的奶牛正在 mooZ 视频会议平台上举行每日集会。她们发明了一个简单的数字游戏，为会议增添一些乐趣。\n\nElsie 有三个正整数 $A$、$B$ 和 $C$（$1\\le A\\le B\\le C$）。这些数字是保密的，她不会直接透露给她的姐妹 Bessie。她告诉 Bessie $N$（$4\\le N\\le 7$）个不同的整数 $x_1,x_2,\\ldots,x_N$（$1\\le x_i\\le 10^9$），并宣称每一个 $x_i$ 都是 $A$、$B$、$C$、$A+B$、$B+C$、$C+A$ 或 $A+B+C$ 之一。然而，Elsie 可能在撒谎；这些整数 $x_i$ 可能并没有对应任何一组合法的 $(A,B,C)$。\n\nBessie 百思不得其解，所以需要靠你来求出与 Elsie 给出的数相符合的三元组 $(A,B,C)$ 的数量。\n\n每个输入包含 $T$（$1\\le T\\le 100$）组需要独立求解的测试用例。", "inputFormat": "输入的第一行包含 $T$。\n\n每个测试用例的第一行包含 $N$，为 Elsie 给 Bessie 的整数的数量。\n\n每个测试用例的第二行包含 $N$ 个不同的整数 $x_1,x_2,\\ldots,x_N$。", "outputFormat": "对于每个测试用例，输出与 Elsie 给出的数相符合的三元组 $(A,B,C)$ 的数量。", "hint": "#### 样例说明\n\n对于 $x=\\{4,5,7,9\\}$，五个可能的三元组如下：\n\n$$(2, 2, 5), (2, 3, 4), (2, 4, 5), (3, 4, 5), (4, 5, 7).$$\n\n#### 测试点性质：\n\n- 测试点 $1 \\sim 4$ 中，所有的 $x_i$ 不超过 $50$。\n- 测试点 $5 \\sim 5$ 满足 $N=7$。\n- 测试点 $7 \\sim 15$ 没有额外限制。\n\n#### 说明\n\n供题：Benjamin Qi", "locale": "zh-CN"}}}
{"pid": "P7557", "type": "P", "difficulty": 3, "samples": [["4 4 1\n1 100 1 1", "3"], ["4 1 4\n1 100 1 1", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["二分", "USACO", "2021"], "title": "[USACO21OPEN] Acowdemia S", "background": null, "description": "由于对计算机科学的热爱，以及有朝一日成为 「Bessie 博士」的诱惑，奶牛 Bessie 开始攻读计算机科学博士学位。经过一段时间的学术研究，她已经发表了 $N$ 篇论文（$1 \\leq N \\leq 10^5$），并且她的第 $i$ 篇论文得到了来自其他研究文献的 $c_i$ 次引用（$0 \\leq c_i \\leq 10^5$）。\n\nBessie 听说学术成就可以用 $h$ 指数来衡量。$h$ 指数等于使得研究员有至少 $h$ 篇引用次数不少于 $h$ 的论文的最大整数 $h$。例如，如果一名研究员有 $4$ 篇论文，引用次数分别为 $(1,100,2,3)$，则 $h$ 指数为 $2$，然而若引用次数为 $(1,100,3,3)$ 则 $h$ 指数将会是 $3$。\n\n为了提升她的 $h$ 指数，Bessie 计划写至多 $K$ 篇综述（$0 \\leq K \\leq 10^5$），并在每篇综述中引用许多她曾经写过的论文。然而，由于页数限制，她至多可以在一篇综述中引用 $L$ 篇论文（$0 \\leq L \\leq 10^5$）。当然，一篇综述中她只能引用一篇论文至多一次（但是一篇论文可以在多篇综述中被引用）。\n\n请帮助 Bessie 求出在写完这些综述后她可以达到的最大 $h$ 指数。Bessie 不可以在一篇综述中引用她写的其他综述。\n\n注意 Bessie 的导师可能会告知她纯粹为了提升 $h$ 指数而写综述存在违反学术道德的嫌疑；我们不建议其他学者模仿 Bessie 的行为。", "inputFormat": "输入的第一行包含 $N$、$K$ 和 $L$。\n\n第二行包含 $N$ 个空格分隔的整数 $c_1,\\ldots, c_N$。", "outputFormat": "输出最大可以达到的 $h$ 指数。", "hint": "#### 样例说明\n\n对于第一个样例，Bessie 可以写至多四篇综述，每一个综述最多引用一篇文章。如果 Bessie 引用她的第一、第三篇论文各两次，她的 $h$ 指数会变为 $3$。\n\n对于第二个样例，Bessie 可以写至多一篇综述。如果 Bessie 引用她的第一、第三、第四篇论文中的任意一篇，她的 $h$ 指数会变为 $2$。\n\n#### 测试点性质：\n\n- 测试点 $1 \\sim 6$ 满足 $N\\le 100$。\n- 测试点 $7 \\sim 16$ 没有额外限制。\n\n#### 说明\n\n供题：Dhruv Rohatgi", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21OPEN] Acowdemia S", "background": null, "description": "由于对计算机科学的热爱，以及有朝一日成为 「Bessie 博士」的诱惑，奶牛 Bessie 开始攻读计算机科学博士学位。经过一段时间的学术研究，她已经发表了 $N$ 篇论文（$1 \\leq N \\leq 10^5$），并且她的第 $i$ 篇论文得到了来自其他研究文献的 $c_i$ 次引用（$0 \\leq c_i \\leq 10^5$）。\n\nBessie 听说学术成就可以用 $h$ 指数来衡量。$h$ 指数等于使得研究员有至少 $h$ 篇引用次数不少于 $h$ 的论文的最大整数 $h$。例如，如果一名研究员有 $4$ 篇论文，引用次数分别为 $(1,100,2,3)$，则 $h$ 指数为 $2$，然而若引用次数为 $(1,100,3,3)$ 则 $h$ 指数将会是 $3$。\n\n为了提升她的 $h$ 指数，Bessie 计划写至多 $K$ 篇综述（$0 \\leq K \\leq 10^5$），并在每篇综述中引用许多她曾经写过的论文。然而，由于页数限制，她至多可以在一篇综述中引用 $L$ 篇论文（$0 \\leq L \\leq 10^5$）。当然，一篇综述中她只能引用一篇论文至多一次（但是一篇论文可以在多篇综述中被引用）。\n\n请帮助 Bessie 求出在写完这些综述后她可以达到的最大 $h$ 指数。Bessie 不可以在一篇综述中引用她写的其他综述。\n\n注意 Bessie 的导师可能会告知她纯粹为了提升 $h$ 指数而写综述存在违反学术道德的嫌疑；我们不建议其他学者模仿 Bessie 的行为。", "inputFormat": "输入的第一行包含 $N$、$K$ 和 $L$。\n\n第二行包含 $N$ 个空格分隔的整数 $c_1,\\ldots, c_N$。", "outputFormat": "输出最大可以达到的 $h$ 指数。", "hint": "#### 样例说明\n\n对于第一个样例，Bessie 可以写至多四篇综述，每一个综述最多引用一篇文章。如果 Bessie 引用她的第一、第三篇论文各两次，她的 $h$ 指数会变为 $3$。\n\n对于第二个样例，Bessie 可以写至多一篇综述。如果 Bessie 引用她的第一、第三、第四篇论文中的任意一篇，她的 $h$ 指数会变为 $2$。\n\n#### 测试点性质：\n\n- 测试点 $1 \\sim 6$ 满足 $N\\le 100$。\n- 测试点 $7 \\sim 16$ 没有额外限制。\n\n#### 说明\n\n供题：Dhruv Rohatgi", "locale": "zh-CN"}}}
{"pid": "P7558", "type": "P", "difficulty": 7, "samples": [["7 90\n3 1\n2 5\n0 2\n-1 6\n-3 1\n-1 -4\n4 -2", "5\n3\n1\n7\n6\n4\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "提交答案", "Special Judge", "JOISC/JOIST（日本）"], "title": "[JOISC 2021] 曲芸飛行 (Day1)", "background": "**本题是提交答案题。**\n\nSPJ modified by wlzhouzhuan", "description": "在一个平面直角坐标系上，有 $N$ 个点 $(X_i,Y_i)$，小 B 从一个点出发，任意选择一个点作为终点走直线路径过去，并重复这个过程 $N-1$ 次，不难发现这个过程会形成由 $N$ 条线段组成的折线，除了第一个点和最后一个点之外的每一个点都会形成一个夹角 $\\alpha_i\\ (2 \\le i \\le n-1)$（小于等于 $180^\\circ$ 的那个角，$i$ 即代表第 $i$ 个经过的点），小 B 要求你通过策划折线路径经过的点的顺序求得下面这个式子的最大值：\n\n$$\\min\\limits_{i=2}^{n-1}\\{\\alpha_i\\}$$", "inputFormat": "第一行两个整数 $N,Z_0$ 代表点数和评分参数（见下方数据规模与约定和评测说明）。\n\n接下来 $N$ 行每行两个整数 $X_i,Y_i$ 代表一个点。", "outputFormat": "$N$ 行每行一个整数 $P_k$ 代表第 $k$ 个经过的点的编号。", "hint": "#### 样例 1 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tcfv266a.png)\n\n最小的夹角在点 $6$ 处，为 $68.19859\\cdots^\\circ$，根据 $Z_0=90$ 和下方评测方式中的评分参数说明，这个输出可以得到 $61.5\\%$ 的分数。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$3 \\le N \\le 1000$，$\\sqrt{X_i^2+Y_i^2} \\le 10^7$，任意两点不重合，$1 \\le Z_0 \\le 179$。\n\n具体地，**本题为提交答案题**，共有 $6$ 个测试点：\n\n- 输入文件为 `input_01.txt` 到 `input_06.txt`。\n- 输出文件为 `output_01.txt` 到 `output_06.txt`。\n- 每一个测试点的 $N$，$Z_0$ 和分数分别为：\n\n|测试点编号|$N$|$Z_0$|分数|\n|:-:|:-:|:-:|:-:|\n|$1$|$15$|$100$|$10$|\n|$2$|$200$|$143$|$15$|\n|$3$|$200$|$134$|$15$|\n|$4$|$1000$|$156$|$20$|\n|$5$|$1000$|$150$|$20$|\n|$6$|$1000$|$153$|$20$|\n\n#### 评测参数\n\n**本题采用 Special Judge。**\n\n感谢 @[035966_L3](https://www.luogu.com.cn/user/365654) 提供的 [Special Judge](https://www.luogu.com.cn/blog/12322655-4/p7558spj)。\n\n如果您的输出格式有误或者输出的数不是 $1 \\sim N$ 等其他错误，您抱铃。\n\n如果您的输出格式是正确的，假设您得到的最小夹角是 $Z$，则您的分数如下：\n\n- 如果 $Z \\ge Z_0$，您将得到满分。\n- 如果 $Z < Z_0$，设该测试点分数为 $S$，您将得到 $S \\times \\frac{f(Z/180)}{f(Z_0/180)}$。\n\n定义函数 $f(\\alpha)\\ (0 \\le \\alpha \\le 1)$ 为：\n\n$$f(\\alpha)=4\\alpha^4+\\alpha$$\n\n#### 评测库\n\n我们额外提供评测库（在文件 `aerobatics.h` 中），您可以用他计算三个点形成的夹角度数。\n\n调用格式如下：\n\n- `double GetAngle(int xb,int yb,int xa,int ya,int xc,int yc) ` 或 `double GetAngle(int xb,int yb,int xc,int yc,int xa,int ya)`\n\t- 这个函数计算 $\\angle ABC$，误差足够小。\n    - **请保证顺序正确。**\n    - $(xa,ya)$ 为点 $A$。\n    - $(xb,yb)$ 为点 $B$。\n    - $(xc,yc)$ 为点 $C$。\n    - 如果 $(xa,ya)=(xb,yb)$ 或 $(xa,ya)=(xc,yc)$，那么，嘿，嘿嘿。\n\n#### 附加文件说明\n\n1. 名称：下方附件中的 `aerobatics-dist.zip`。\n\t- in & out：样例输入输出。\n\t- aerobatics.h：评测库。\n2. 名称：下方附件中的 `aerobatics-data.zip`：\n\t- in：输入数据。\n    \n#### 说明\n\n翻译自 [第２０回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/index.html) [Day1 A 曲芸飛行 (Aerobatics) 的英文版本](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/aerobatics-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2021] 曲芸飛行 (Day1)", "background": "**本题是提交答案题。**\n\nSPJ modified by wlzhouzhuan", "description": "在一个平面直角坐标系上，有 $N$ 个点 $(X_i,Y_i)$，小 B 从一个点出发，任意选择一个点作为终点走直线路径过去，并重复这个过程 $N-1$ 次，不难发现这个过程会形成由 $N$ 条线段组成的折线，除了第一个点和最后一个点之外的每一个点都会形成一个夹角 $\\alpha_i\\ (2 \\le i \\le n-1)$（小于等于 $180^\\circ$ 的那个角，$i$ 即代表第 $i$ 个经过的点），小 B 要求你通过策划折线路径经过的点的顺序求得下面这个式子的最大值：\n\n$$\\min\\limits_{i=2}^{n-1}\\{\\alpha_i\\}$$", "inputFormat": "第一行两个整数 $N,Z_0$ 代表点数和评分参数（见下方数据规模与约定和评测说明）。\n\n接下来 $N$ 行每行两个整数 $X_i,Y_i$ 代表一个点。", "outputFormat": "$N$ 行每行一个整数 $P_k$ 代表第 $k$ 个经过的点的编号。", "hint": "#### 样例 1 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tcfv266a.png)\n\n最小的夹角在点 $6$ 处，为 $68.19859\\cdots^\\circ$，根据 $Z_0=90$ 和下方评测方式中的评分参数说明，这个输出可以得到 $61.5\\%$ 的分数。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$3 \\le N \\le 1000$，$\\sqrt{X_i^2+Y_i^2} \\le 10^7$，任意两点不重合，$1 \\le Z_0 \\le 179$。\n\n具体地，**本题为提交答案题**，共有 $6$ 个测试点：\n\n- 输入文件为 `input_01.txt` 到 `input_06.txt`。\n- 输出文件为 `output_01.txt` 到 `output_06.txt`。\n- 每一个测试点的 $N$，$Z_0$ 和分数分别为：\n\n|测试点编号|$N$|$Z_0$|分数|\n|:-:|:-:|:-:|:-:|\n|$1$|$15$|$100$|$10$|\n|$2$|$200$|$143$|$15$|\n|$3$|$200$|$134$|$15$|\n|$4$|$1000$|$156$|$20$|\n|$5$|$1000$|$150$|$20$|\n|$6$|$1000$|$153$|$20$|\n\n#### 评测参数\n\n**本题采用 Special Judge。**\n\n感谢 @[035966_L3](https://www.luogu.com.cn/user/365654) 提供的 [Special Judge](https://www.luogu.com.cn/blog/12322655-4/p7558spj)。\n\n如果您的输出格式有误或者输出的数不是 $1 \\sim N$ 等其他错误，您抱铃。\n\n如果您的输出格式是正确的，假设您得到的最小夹角是 $Z$，则您的分数如下：\n\n- 如果 $Z \\ge Z_0$，您将得到满分。\n- 如果 $Z < Z_0$，设该测试点分数为 $S$，您将得到 $S \\times \\frac{f(Z/180)}{f(Z_0/180)}$。\n\n定义函数 $f(\\alpha)\\ (0 \\le \\alpha \\le 1)$ 为：\n\n$$f(\\alpha)=4\\alpha^4+\\alpha$$\n\n#### 评测库\n\n我们额外提供评测库（在文件 `aerobatics.h` 中），您可以用他计算三个点形成的夹角度数。\n\n调用格式如下：\n\n- `double GetAngle(int xb,int yb,int xa,int ya,int xc,int yc) ` 或 `double GetAngle(int xb,int yb,int xc,int yc,int xa,int ya)`\n\t- 这个函数计算 $\\angle ABC$，误差足够小。\n    - **请保证顺序正确。**\n    - $(xa,ya)$ 为点 $A$。\n    - $(xb,yb)$ 为点 $B$。\n    - $(xc,yc)$ 为点 $C$。\n    - 如果 $(xa,ya)=(xb,yb)$ 或 $(xa,ya)=(xc,yc)$，那么，嘿，嘿嘿。\n\n#### 附加文件说明\n\n1. 名称：下方附件中的 `aerobatics-dist.zip`。\n\t- in & out：样例输入输出。\n\t- aerobatics.h：评测库。\n2. 名称：下方附件中的 `aerobatics-data.zip`：\n\t- in：输入数据。\n    \n#### 说明\n\n翻译自 [第２０回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/index.html) [Day1 A 曲芸飛行 (Aerobatics) 的英文版本](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/aerobatics-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7559", "type": "P", "difficulty": 7, "samples": [["2\n0 0\n4 3", "1"], ["3\n1 2\n2 1\n4 3", "3"], ["2\n20 20\n20 21", "2"], ["15\n5 6\n2 9\n12 0\n4 11\n3 12\n6 5\n0 8\n9 10\n11 13\n8 7\n13 2\n1 1\n7 14\n10 4\n14 3", "9"], ["30\n275810186 246609547\n122805872 99671769\n243507947 220373844\n281305347 252104708\n237805644 214671541\n172469077 149334974\n222589229 229887956\n160653451 208404690\n241378966 211098219\n144302355 224755786\n186392385 163258282\n199129390 169928751\n294937491 265736852\n196096122 172962019\n314342944 285142305\n202720470 166337671\n157037485 133903382\n263858979 240724876\n210720220 181519581\n296402036 267201397\n186021287 183036854\n195081930 173976211\n328293029 299092390\n261195361 238061258\n323595085 294394446\n299933764 270733125\n240976723 128081418\n188501753 165367650\n277832422 248631783\n119896220 96762117", "11"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "JOISC/JOIST（日本）"], "title": "[JOISC 2021] IOI 熱の感染拡大 (Day1)", "background": "", "description": "JOI 王国有 $N$ 个宫殿，第 $i$ 个宫殿坐标为 $(X_i,Y_i)$，每个宫殿居住着一个王子，第 $i$ 个宫殿里的王子为 $i$ 号王子。从第 $0$ 时刻开始，每个王子将会从自己的宫殿出发开始走动，他们可以选择东南西北：\n\n- 如果选择东，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x+t,y)$。\n- 如果选择西，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x-t,y)$。\n- 如果选择南，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x,y-t)$。\n- 如果选择北，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x,y+t)$。\n\n$t$ 不一定是整数。 \n\n方向不会给定，你可以自己规划。\n\n不幸的是，$1$ 号王子染上了 IOVID-114514 病毒，在 $0$ 时刻只有 $1$ 号王子感染了该病毒。\n\nIOVID-114514 病毒按照如下方式进行传播：\n\n- 如果某一个时刻 $a$ 号王子和 $b$ 号王子在同一个坐标上，且 $a$ 号王子感染了病毒，$b$ 号王子没有感染病毒，则 $a$ 号王子会将病毒传染给 $b$ 号王子。\n\nIOVID-114514 病毒没有其他传染方式，可怜的国王 JOI 114514 世也没有发现治愈方法。\n\n（消毒水也不能治愈！）\n\nJOI 114514 世想问问你求第 $10^{100}$ 个时刻的时候最多会有多少个王子感染 IOVID-114514 病毒。", "inputFormat": "第一行一个整数 $N$ 代表宫殿个数。\n\n接下来 $N$ 行每行两个整数 $X_i,Y_i$ 代表一个宫殿的坐标。", "outputFormat": "一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vi1nasol.png)\n\n我们规划 $1$ 号王子向东，$2$ 号王子向西。\n\n不难发现，不论怎么移动 $1$ 都无法与 $2$ 相遇，只有 $1$ 号王子一个感染者。\n\n#### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/na76sh3g.png)\n\n我们规划 $1$ 号王子向东，$2$ 号王子向北，$3$ 号王子向西。\n\n- 时刻 $0$，$1$ 号王子是感染者。\n- 时刻 $1$，$1$ 号王子与 $2$ 号王子坐标重合，$2$ 号王子感染。\n- 时刻 $2$，$2$ 号王子与 $3$ 号王子坐标重合，$3$ 号王子感染。\n\n#### 样例 3 解释\n\n我们规划 $1$ 号王子向北，$2$ 号王子向南。\n\n- 时刻 $0$，$1$ 号王子是感染者。\n- 时刻 $0.5$，$1$ 号王子和 $2$ 号王子坐标重合，$2$ 号王子感染。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$N \\le 7$，满足性质 A。\n- Subtask 2（8 pts）：$N \\le 15$，满足性质 A。\n- Subtask 3（6 pts）：$N \\le 100$，满足性质 A 和 B。\n- Subtask 4（6 pts）：$N \\le 100$，满足性质 A。\n- Subtask 5（12 pts）：$N \\le 3000$。\n- Subtask 6（32 pts）：满足性质 A。\n- Subtask 7（31 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$0 \\le X_i,Y_i \\le 5 \\times 10^8$，宫殿坐标互不重合。\n\n其中性质分别为：\n\n- 性质 A：$X_i \\ne X_j$，$Y_i \\ne Y_j$。\n- 性质 B：$1$ 号宫殿坐标为原点。\n\n#### 说明\n\n翻译自 [第２０回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/index.html) [Day1 B IOI 熱の感染拡大 (IOI Fever) 的英文版本](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/fever-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2021] IOI 熱の感染拡大 (Day1)", "background": "", "description": "JOI 王国有 $N$ 个宫殿，第 $i$ 个宫殿坐标为 $(X_i,Y_i)$，每个宫殿居住着一个王子，第 $i$ 个宫殿里的王子为 $i$ 号王子。从第 $0$ 时刻开始，每个王子将会从自己的宫殿出发开始走动，他们可以选择东南西北：\n\n- 如果选择东，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x+t,y)$。\n- 如果选择西，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x-t,y)$。\n- 如果选择南，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x,y-t)$。\n- 如果选择北，则 $t$ 时刻过后坐标位置从 $(x,y)$ 变为 $(x,y+t)$。\n\n$t$ 不一定是整数。 \n\n方向不会给定，你可以自己规划。\n\n不幸的是，$1$ 号王子染上了 IOVID-114514 病毒，在 $0$ 时刻只有 $1$ 号王子感染了该病毒。\n\nIOVID-114514 病毒按照如下方式进行传播：\n\n- 如果某一个时刻 $a$ 号王子和 $b$ 号王子在同一个坐标上，且 $a$ 号王子感染了病毒，$b$ 号王子没有感染病毒，则 $a$ 号王子会将病毒传染给 $b$ 号王子。\n\nIOVID-114514 病毒没有其他传染方式，可怜的国王 JOI 114514 世也没有发现治愈方法。\n\n（消毒水也不能治愈！）\n\nJOI 114514 世想问问你求第 $10^{100}$ 个时刻的时候最多会有多少个王子感染 IOVID-114514 病毒。", "inputFormat": "第一行一个整数 $N$ 代表宫殿个数。\n\n接下来 $N$ 行每行两个整数 $X_i,Y_i$ 代表一个宫殿的坐标。", "outputFormat": "一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vi1nasol.png)\n\n我们规划 $1$ 号王子向东，$2$ 号王子向西。\n\n不难发现，不论怎么移动 $1$ 都无法与 $2$ 相遇，只有 $1$ 号王子一个感染者。\n\n#### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/na76sh3g.png)\n\n我们规划 $1$ 号王子向东，$2$ 号王子向北，$3$ 号王子向西。\n\n- 时刻 $0$，$1$ 号王子是感染者。\n- 时刻 $1$，$1$ 号王子与 $2$ 号王子坐标重合，$2$ 号王子感染。\n- 时刻 $2$，$2$ 号王子与 $3$ 号王子坐标重合，$3$ 号王子感染。\n\n#### 样例 3 解释\n\n我们规划 $1$ 号王子向北，$2$ 号王子向南。\n\n- 时刻 $0$，$1$ 号王子是感染者。\n- 时刻 $0.5$，$1$ 号王子和 $2$ 号王子坐标重合，$2$ 号王子感染。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$N \\le 7$，满足性质 A。\n- Subtask 2（8 pts）：$N \\le 15$，满足性质 A。\n- Subtask 3（6 pts）：$N \\le 100$，满足性质 A 和 B。\n- Subtask 4（6 pts）：$N \\le 100$，满足性质 A。\n- Subtask 5（12 pts）：$N \\le 3000$。\n- Subtask 6（32 pts）：满足性质 A。\n- Subtask 7（31 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$0 \\le X_i,Y_i \\le 5 \\times 10^8$，宫殿坐标互不重合。\n\n其中性质分别为：\n\n- 性质 A：$X_i \\ne X_j$，$Y_i \\ne Y_j$。\n- 性质 B：$1$ 号宫殿坐标为原点。\n\n#### 说明\n\n翻译自 [第２０回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/index.html) [Day1 B IOI 熱の感染拡大 (IOI Fever) 的英文版本](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/fever-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7560", "type": "P", "difficulty": 6, "samples": [["3 5 7\n1 2 3 5 2\n1 1 2 2 4\n3 2 3\n2 1 3 3\n3 1 2\n1 2 3 4 2\n3 3 2", "2\n0\n4"], ["3 4 7\n1 1 2 1 1\n1 1 3 4 1\n2 2 3 1\n2 1 3 1\n1 1 2 2 1\n3 1 1\n3 3 2", "4\n0"], ["183326 218318 22\n1 106761 160918 151683 574906362\n3 68709 1\n1 29240 156379 22166 957318472\n1 14054 181502 82845 97183925\n2 112033 122908 587808357\n2 57819 160939 215041262\n3 36674 524274467\n1 35854 69866 32334 322730299\n1 1384 7230 115069 454256926\n1 44192 158235 8750 84192710\n3 54457 1077490708\n2 10592 110384 979714505\n2 44594 79244 311724477\n3 160965 97183926\n1 88748 101697 39148 373927458\n3 41166 58039001\n1 91501 137591 205480 958877326\n2 77775 169655 135756956\n1 12497 57047 60918 15666764\n1 47839 51716 144688 732270998\n3 114514 774994894\n3 48645 169986425", "0\n22166\n32334\n0\n82845\n8750\n60918"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "JOISC/JOIST（日本）"], "title": "[JOISC 2021] フードコート (Day1)", "background": "如果洛谷上数据无法下载，请在 [此处](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/foodcourt-data.zip) 获取完整数据。", "description": "有 $N$ 家书虫食品店，有 $M$ 个家庭来享受用书虫制作的美味食物。\n\n因为食品店十分火爆，所以顾客需要排队，刚开始所有队列都是空的。\n\n今天食品店又全部开张了，发生了 $Q$ 个事件：\n\n- **加入事件**：编号位于区间 $[L,R]$ 内的所有食品店中，都有编号为 $C$ 的家庭加入队尾，每个满足要求的食品店队尾都加入了 $K$ 个人。\n- **离开事件**：编号位于区间 $[L,R]$ 内的所有食品店中，如果队列有超过 $K$ 个人，那么队列的前 $K$ 个人离开队列，否则队列里的所有人离开队列。\n- **白嫖事件**：如果编号为 $A$ 的食品店的队列中有大于等于 $B$ 个人，那么食品店就会赠送从队列开头开始数第 $B$ 个人一份秘制书虫，否则店员会吃掉书虫。\n\n求每次 **白嫖事件** 是否有顾客被赠送了秘制书虫，如果有的话，求顾客所在的家庭。", "inputFormat": "第一行三个整数 $N,M,Q$ 代表食品店个数，家庭个数和事件个数。\n\n接下来 $Q$ 行，每行首先一个整数 $T$：\n\n- $T=1$，接下来四个整数 $L,R,C,K$ 描述 **加入事件**。\n- $T=2$，接下来三个整数 $L,R,K$ 描述 **离开事件**。\n- $T=3$，接下来两个整数 $A,B$ 描述 **白嫖事件**。", "outputFormat": "对于所有 **白嫖事件**，一行一个整数：\n\n- 如果有顾客被送了秘制书虫，输出他所在的家庭。\n- 如果店员吃掉了书虫，输出 $0$。", "hint": "#### 样例 1 解释\n\n我们用 $Q_i(a_1,a_2,\\cdots,a_k)$ 代表第 $i$ 个食品店的队列，$a_1$ 为队首，$a_k$ 为队尾，其中 $a_i=p$ 就代表第 $i$ 个位置的人来自第 $p$ 个家庭。特殊地，$Q_i()$ 就代表当前队列为空。\n\n根据样例 1 的这几个事件：\n\n- 第 $1$ 个 **加入事件**：\n\n$$Q_1(),Q_2(5,5),Q_3(5,5)$$\n\n- 第 $2$ 个 **加入事件**：\n\n$$Q_1(2,2,2,2),Q_2(5,5,2,2,2,2),Q_3(5,5)$$\n\n- 第 $3$ 个 **白嫖事件**，第 $2$ 个食品店的第 $3$ 个人（第 $2$ 个家庭）被送上秘制书虫。\n- 第 $4$ 个 **离开事件**：\n\n$$Q_1(2),Q_2(2,2,2),Q_3()$$\n\n- 第 $5$ 个 **白嫖事件**，第 $1$ 个食品店不够 $2$ 个人，店员会吃掉书虫。\n- 第 $6$ 个 **加入事件**：\n\n$$Q_1(2),Q_2(2,2,2,4,4),Q_3(4,4)$$\n\n- 第 $7$ 个 **白嫖事件**，第 $3$ 个食品店的第 $2$ 个人（第 $4$ 个家庭）被送上秘制书虫。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（2 pts）：$N,Q \\le 2000$，满足性质 A。\n- Subtask 2（5 pts）：$N,Q \\le 2000$。\n- Subtask 3（7 pts）：$N,Q \\le 65000$，满足性质 B。\n- Subtask 4（21 pts）：$M=1$。\n- Subtask 5（15 pts）：$N,Q \\le 65000$，满足性质 A。\n- Subtask 6（13 pts）：$N,Q \\le 65000$，满足性质 C。\n- Subtask 7（26 pts）：$N,Q \\le 65000$。\n- Subtask 8（11 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le N,M,Q \\le 25 \\times 10^4$。\n- $T \\in \\{1,2,3\\}$。\n- 对于所有 **加入事件**，$1 \\le L \\le R \\le N$，$1 \\le C \\le M$，$1 \\le K \\le 10^9$。\n- 对于所有 **离开事件**，$1 \\le L \\le R \\le N$，$1 \\le K \\le 10^9$。\n- 对于所有 **白嫖事件**，$1 \\le A \\le N$，$1 \\le B \\le 10^{15}$。\n- 至少有一个 **白嫖事件**。\n\n有以下若干个性质：\n\n- 性质 A：对于所有 **加入事件** 和 **离开事件**，有 $K=1$。\n- 性质 B：对于所有 **加入事件**，有 $R-L \\le  10$ 和 $K=1$。\n- 性质 C：只有 **加入事件** 和 **白嫖事件**。\n\n#### 说明\n\n翻译自 [第２０回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/index.html) [Day1 C フードコート (Food Court) 的英文版本](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/foodcourt-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2021] フードコート (Day1)", "background": "如果洛谷上数据无法下载，请在 [此处](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/foodcourt-data.zip) 获取完整数据。", "description": "有 $N$ 家书虫食品店，有 $M$ 个家庭来享受用书虫制作的美味食物。\n\n因为食品店十分火爆，所以顾客需要排队，刚开始所有队列都是空的。\n\n今天食品店又全部开张了，发生了 $Q$ 个事件：\n\n- **加入事件**：编号位于区间 $[L,R]$ 内的所有食品店中，都有编号为 $C$ 的家庭加入队尾，每个满足要求的食品店队尾都加入了 $K$ 个人。\n- **离开事件**：编号位于区间 $[L,R]$ 内的所有食品店中，如果队列有超过 $K$ 个人，那么队列的前 $K$ 个人离开队列，否则队列里的所有人离开队列。\n- **白嫖事件**：如果编号为 $A$ 的食品店的队列中有大于等于 $B$ 个人，那么食品店就会赠送从队列开头开始数第 $B$ 个人一份秘制书虫，否则店员会吃掉书虫。\n\n求每次 **白嫖事件** 是否有顾客被赠送了秘制书虫，如果有的话，求顾客所在的家庭。", "inputFormat": "第一行三个整数 $N,M,Q$ 代表食品店个数，家庭个数和事件个数。\n\n接下来 $Q$ 行，每行首先一个整数 $T$：\n\n- $T=1$，接下来四个整数 $L,R,C,K$ 描述 **加入事件**。\n- $T=2$，接下来三个整数 $L,R,K$ 描述 **离开事件**。\n- $T=3$，接下来两个整数 $A,B$ 描述 **白嫖事件**。", "outputFormat": "对于所有 **白嫖事件**，一行一个整数：\n\n- 如果有顾客被送了秘制书虫，输出他所在的家庭。\n- 如果店员吃掉了书虫，输出 $0$。", "hint": "#### 样例 1 解释\n\n我们用 $Q_i(a_1,a_2,\\cdots,a_k)$ 代表第 $i$ 个食品店的队列，$a_1$ 为队首，$a_k$ 为队尾，其中 $a_i=p$ 就代表第 $i$ 个位置的人来自第 $p$ 个家庭。特殊地，$Q_i()$ 就代表当前队列为空。\n\n根据样例 1 的这几个事件：\n\n- 第 $1$ 个 **加入事件**：\n\n$$Q_1(),Q_2(5,5),Q_3(5,5)$$\n\n- 第 $2$ 个 **加入事件**：\n\n$$Q_1(2,2,2,2),Q_2(5,5,2,2,2,2),Q_3(5,5)$$\n\n- 第 $3$ 个 **白嫖事件**，第 $2$ 个食品店的第 $3$ 个人（第 $2$ 个家庭）被送上秘制书虫。\n- 第 $4$ 个 **离开事件**：\n\n$$Q_1(2),Q_2(2,2,2),Q_3()$$\n\n- 第 $5$ 个 **白嫖事件**，第 $1$ 个食品店不够 $2$ 个人，店员会吃掉书虫。\n- 第 $6$ 个 **加入事件**：\n\n$$Q_1(2),Q_2(2,2,2,4,4),Q_3(4,4)$$\n\n- 第 $7$ 个 **白嫖事件**，第 $3$ 个食品店的第 $2$ 个人（第 $4$ 个家庭）被送上秘制书虫。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（2 pts）：$N,Q \\le 2000$，满足性质 A。\n- Subtask 2（5 pts）：$N,Q \\le 2000$。\n- Subtask 3（7 pts）：$N,Q \\le 65000$，满足性质 B。\n- Subtask 4（21 pts）：$M=1$。\n- Subtask 5（15 pts）：$N,Q \\le 65000$，满足性质 A。\n- Subtask 6（13 pts）：$N,Q \\le 65000$，满足性质 C。\n- Subtask 7（26 pts）：$N,Q \\le 65000$。\n- Subtask 8（11 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le N,M,Q \\le 25 \\times 10^4$。\n- $T \\in \\{1,2,3\\}$。\n- 对于所有 **加入事件**，$1 \\le L \\le R \\le N$，$1 \\le C \\le M$，$1 \\le K \\le 10^9$。\n- 对于所有 **离开事件**，$1 \\le L \\le R \\le N$，$1 \\le K \\le 10^9$。\n- 对于所有 **白嫖事件**，$1 \\le A \\le N$，$1 \\le B \\le 10^{15}$。\n- 至少有一个 **白嫖事件**。\n\n有以下若干个性质：\n\n- 性质 A：对于所有 **加入事件** 和 **离开事件**，有 $K=1$。\n- 性质 B：对于所有 **加入事件**，有 $R-L \\le  10$ 和 $K=1$。\n- 性质 C：只有 **加入事件** 和 **白嫖事件**。\n\n#### 说明\n\n翻译自 [第２０回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/index.html) [Day1 C フードコート (Food Court) 的英文版本](https://www.ioi-jp.org/camp/2021/2021-sp-tasks/day1/foodcourt-en.pdf)。", "locale": "zh-CN"}}}
