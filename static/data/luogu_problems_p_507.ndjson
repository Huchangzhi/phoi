{"pid": "P11284", "type": "P", "difficulty": 7, "samples": [["4\n3 2\n5 3\n10 4\n100000 998244353123456", "4\n117\n430352\n967771719"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["递归", "洛谷原创", "O2优化", "矩阵加速", "组合数学", "洛谷月赛"], "title": "「GFOI Round 2」Strings", "background": "", "description": "给你两个正整数 $n, m$。\n\n我们称一个长度为 $k$ 的正整数序列 $a_1, a_2, \\ldots, a_k$ 是好的当且仅当：\n\n- $\\forall i \\in [1, k], 1 \\le a_i \\le m$；\n- 存在一个正整数 $l \\in [1, \\frac{k}{3}]$ 满足：$\\forall i \\in [1, l], a_i = a_{2l + 1 - i}$。\n\n求有多少个长度 $\\le n$ 的好的序列，对 $10^9 + 7$ 取模。", "inputFormat": "**本题有多组测试数据。**\n\n第一行包含一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含两个正整数 $n, m$。", "outputFormat": "对于每组数据，输出一行一个非负整数，表示答案对 $10^9 + 7$ 取模后的值。", "hint": "#### 【样例解释】\n\n对于第一组数据，长度 $\\le 3$ 的好的序列有 $[1, 1, 1], [1, 1, 2], [2, 2, 1], [2, 2, 2]$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | $n \\le$ | $m \\le$ | 子任务依赖 | 分值 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $10^{18}$ | $1$ | 无 | $1$ |\n| $2$ | $10$ | $4$ | 无 | $7$ |\n| $3$ | $10^5$ | $10^{18}$ | $2$ | $28$ |\n| $4$ | $10^{18}$ | $10^{18}$ | $1, 2, 3$ | $64$ |\n\n对于所有数据，满足：\n\n- $1 \\le T \\le 10$；\n- $3 \\le n \\le 10^{18}$；\n- $1 \\le m \\le 10^{18}$。", "locale": "zh-CN", "translations": {"en": {"title": "「GFOI Round 2」Strings", "background": "", "description": "Given two positive integers $n$ and $m$.\n\nWe define a sequence of positive integers $a_1, a_2, \\ldots, a_k$ of length $k$ as \"good\" if and only if:\n\n- $\\forall i \\in [1, k], 1 \\leq a_i \\leq m$;\n- There exists a positive integer $l \\in [1, \\frac{k}{3}]$ such that: $\\forall i \\in [1, l], a_i = a_{2l + 1 - i}$.\n\nYou need to determine how many good sequences of length $\\leq n$ exist, modulo $10^9 + 7$.", "inputFormat": "**This problem has multiple test cases in a single test.**\n\nThe first line contains a positive integer $T$, indicating the number of test cases.\n\nFor each test case:\n\n- The first line contains two positive integers $n$ and $m$.", "outputFormat": "For each test case, output a line containing a non-negative integer representing the answer modulo $10^9 + 7$.", "hint": "#### Sample Explanation\n\nFor the first test case, the good sequences of length $\\le 3$ are $[1, 1, 1], [1, 1, 2], [2, 2, 1], [2, 2, 2]$.\n\n#### Subtasks and Constraints\n\n| Subtask ID | $n \\le$ | $m \\le$ | Subtask Dependencies | Score |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $10^{18}$ | $1$ | No | $1$ |\n| $2$ | $10$ | $4$ | No | $7$ |\n| $3$ | $10^5$ | $10^{18}$ | $2$ | $28$ |\n| $4$ | $10^{18}$ | $10^{18}$ | $1, 2, 3$ | $64$ |\n\nFor all tests, it is guaranteed that:\n\n- $1 \\le T \\le 10$;\n- $3 \\le n \\le 10^{18}$;\n- $1 \\le m \\le 10^{18}$.", "locale": "en"}, "zh-CN": {"title": "「GFOI Round 2」Strings", "background": "", "description": "给你两个正整数 $n, m$。\n\n我们称一个长度为 $k$ 的正整数序列 $a_1, a_2, \\ldots, a_k$ 是好的当且仅当：\n\n- $\\forall i \\in [1, k], 1 \\le a_i \\le m$；\n- 存在一个正整数 $l \\in [1, \\frac{k}{3}]$ 满足：$\\forall i \\in [1, l], a_i = a_{2l + 1 - i}$。\n\n求有多少个长度 $\\le n$ 的好的序列，对 $10^9 + 7$ 取模。", "inputFormat": "**本题有多组测试数据。**\n\n第一行包含一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含两个正整数 $n, m$。", "outputFormat": "对于每组数据，输出一行一个非负整数，表示答案对 $10^9 + 7$ 取模后的值。", "hint": "#### 【样例解释】\n\n对于第一组数据，长度 $\\le 3$ 的好的序列有 $[1, 1, 1], [1, 1, 2], [2, 2, 1], [2, 2, 2]$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | $n \\le$ | $m \\le$ | 子任务依赖 | 分值 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $10^{18}$ | $1$ | 无 | $1$ |\n| $2$ | $10$ | $4$ | 无 | $7$ |\n| $3$ | $10^5$ | $10^{18}$ | $2$ | $28$ |\n| $4$ | $10^{18}$ | $10^{18}$ | $1, 2, 3$ | $64$ |\n\n对于所有数据，满足：\n\n- $1 \\le T \\le 10$；\n- $3 \\le n \\le 10^{18}$；\n- $1 \\le m \\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P11285", "type": "P", "difficulty": 7, "samples": [["6 3\n100010", "2"], ["8 4\n10000001", "72"], ["10 5\n0010000100", "428"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2017", "COTS（克罗地亚）"], "title": "[COTS 2017] 周期 Ciklusi", "background": "\n译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D1T1。$\\texttt{2s,0.5G}$。", "description": "\n给定简单无向图 $G=(V,E)$，其中 $V\\subset \\{1,2,\\ldots,n\\}$。\n\n给定正整数 $k$。$G$ 中只有编号之差不大于 $k$ 的点间有连边。换言之，$(u,v)\\in E\\iff 1\\le |u-v|\\le k$。\n\n定义 $G$ 的一条**回路**为一个长度为 $m=|V|$ 的序列 $a_0,a_1,\\cdots,a_{m-1}$，满足:\n- $\\forall 0\\le i\\lt m$，都有 $(a_i,a_{(i+1)\\bmod m})\\in E$；\n- $a_0,a_1,\\cdots,a_{m-1}$ 恰好取遍 $V$ 中的每一个元素。\n\n定义两条回路 $a,a'$ **本质相同**，当且仅当它们循环同构。形式化地说，两条回路 $a,a'$ 本质相同，当且仅当存在非负整数 $k$，使得 $a_0=a'_{k\\bmod m},a_1=a'_{(1+k)\\bmod m},\\cdots,a_{m-1}=a'_{(m-1+k)\\bmod m}$。\n\n求出 $G$ 中本质不同的回路条数，答案对 $(10^9+7)$ 取模。", "inputFormat": "\n第一行，两个正整数 $n,k$。\n\n第二行，一个长度为 $n$ 的 $\\texttt{01}$ 串 $s$。当且仅当 $s_i=1$ 时，$i\\in V$。\n\n保证 $|V|+3\\le |n|$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 100$；\n- $3\\le k\\le 5$；\n- $|V|+3\\le n$。\n\n\n| 子任务编号 | $n\\le $ |  $k\\le $ |得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 20 $    |  $5$ |  $ 10 $   |  \n| $ 2 $    | $ 100 $   |  $3$ |  $ 40 $   |  \n| $ 3 $    | $ 100 $ | $5$ | $ 50 $   |  ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2017] 周期 Ciklusi", "background": "\n译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D1T1。$\\texttt{2s,0.5G}$。", "description": "\n给定简单无向图 $G=(V,E)$，其中 $V\\subset \\{1,2,\\ldots,n\\}$。\n\n给定正整数 $k$。$G$ 中只有编号之差不大于 $k$ 的点间有连边。换言之，$(u,v)\\in E\\iff 1\\le |u-v|\\le k$。\n\n定义 $G$ 的一条**回路**为一个长度为 $m=|V|$ 的序列 $a_0,a_1,\\cdots,a_{m-1}$，满足:\n- $\\forall 0\\le i\\lt m$，都有 $(a_i,a_{(i+1)\\bmod m})\\in E$；\n- $a_0,a_1,\\cdots,a_{m-1}$ 恰好取遍 $V$ 中的每一个元素。\n\n定义两条回路 $a,a'$ **本质相同**，当且仅当它们循环同构。形式化地说，两条回路 $a,a'$ 本质相同，当且仅当存在非负整数 $k$，使得 $a_0=a'_{k\\bmod m},a_1=a'_{(1+k)\\bmod m},\\cdots,a_{m-1}=a'_{(m-1+k)\\bmod m}$。\n\n求出 $G$ 中本质不同的回路条数，答案对 $(10^9+7)$ 取模。", "inputFormat": "\n第一行，两个正整数 $n,k$。\n\n第二行，一个长度为 $n$ 的 $\\texttt{01}$ 串 $s$。当且仅当 $s_i=1$ 时，$i\\in V$。\n\n保证 $|V|+3\\le |n|$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 100$；\n- $3\\le k\\le 5$；\n- $|V|+3\\le n$。\n\n\n| 子任务编号 | $n\\le $ |  $k\\le $ |得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 20 $    |  $5$ |  $ 10 $   |  \n| $ 2 $    | $ 100 $   |  $3$ |  $ 40 $   |  \n| $ 3 $    | $ 100 $ | $5$ | $ 50 $   |  ", "locale": "zh-CN"}}}
{"pid": "P11286", "type": "P", "difficulty": 6, "samples": [["10 3\n3 5 5 4 3 6 10 0 4 7\n2 10 9\n6 6 2\n2 8 4", "6\n3\n4"], ["8 5\n2 3 0 9 2 6 0 6\n5 6 8\n3 4 7\n3 8 8\n8 8 7\n6 7 9", "6\n7\n6\n6\n7"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2017", "二分", "树状数组", "COTS（克罗地亚）"], "title": "[COTS 2017] 盗道 Krimošten", "background": "译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D1T2。$\\texttt{4s,0.5G}$。\n\n库纳（Kuna）是克罗地亚的货币单位。", "description": "\n海岸线上有一排房子，从西到东标号 $1\\sim n$。第 $i$ 座房子内有 $a_i$ 库纳。\n\n有 $m$ 个窃贼要行窃。第 $i$ 个窃贼初始囊中有 $c_i$ 库纳，他将依次对编号为 $l_i,l_i+1,\\cdots, r_i$ 的房子行窃。\n\n盗亦有道，窃贼们践行盗之道。当窃贼对编号为 $j$ 的房子行窃时，令他囊中有 $k$ 库纳：\n\n- 若 $k\\lt a_j$，则窃贼将 $1$ 库纳收入囊中，即 $k\\gets k+1$；\n- 若 $k=a_j$，无事发生；\n- 若 $k\\gt a_j$，则窃贼拿出 $1$ 库纳赠给房主，即 $k\\gets k-1$。\n\n对于每个窃贼，求出他最后囊中会有多少库纳。\n\n需要注意的是，**每个窃贼的行窃是独立的，不互相影响**。换句话说，可以认为一个窃贼行窃结束后，（在下一个窃贼行窃前）房子会恢复到初始状态。", "inputFormat": "\n第一行，两个正整数 $n,m$;\n\n第二行，$n$ 个非负整数 $a_1,a_2,\\cdots,a_n$;\n\n接下来 $m$ 行，每行三个整数 $l_i,r_i,c_i$。", "outputFormat": "对于每个询问，输出一行一个整数表示答案。\n", "hint": "\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 5\\times 10^5$；\n- $0\\le a_i,c_i\\le 10^6$；\n- $1\\le l_i\\le r_i\\le n $。\n\n\n| 子任务编号 | $n\\le $ |  $m\\le $ |得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 10^3 $    |  $10^3$ |  $ 7 $   |  \n| $ 2 $    | $ 5\\times 10^4 $   |  $10^5$ |  $ 48 $   |  \n| $ 3 $    | $ 5\\times 10^5 $ | $5\\times 10^5$ | $ 45 $   |  \n\n再次提醒，**每个窃贼的行窃是独立的，不互相影响**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2017] 盗道 Krimošten", "background": "译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D1T2。$\\texttt{4s,0.5G}$。\n\n库纳（Kuna）是克罗地亚的货币单位。", "description": "\n海岸线上有一排房子，从西到东标号 $1\\sim n$。第 $i$ 座房子内有 $a_i$ 库纳。\n\n有 $m$ 个窃贼要行窃。第 $i$ 个窃贼初始囊中有 $c_i$ 库纳，他将依次对编号为 $l_i,l_i+1,\\cdots, r_i$ 的房子行窃。\n\n盗亦有道，窃贼们践行盗之道。当窃贼对编号为 $j$ 的房子行窃时，令他囊中有 $k$ 库纳：\n\n- 若 $k\\lt a_j$，则窃贼将 $1$ 库纳收入囊中，即 $k\\gets k+1$；\n- 若 $k=a_j$，无事发生；\n- 若 $k\\gt a_j$，则窃贼拿出 $1$ 库纳赠给房主，即 $k\\gets k-1$。\n\n对于每个窃贼，求出他最后囊中会有多少库纳。\n\n需要注意的是，**每个窃贼的行窃是独立的，不互相影响**。换句话说，可以认为一个窃贼行窃结束后，（在下一个窃贼行窃前）房子会恢复到初始状态。", "inputFormat": "\n第一行，两个正整数 $n,m$;\n\n第二行，$n$ 个非负整数 $a_1,a_2,\\cdots,a_n$;\n\n接下来 $m$ 行，每行三个整数 $l_i,r_i,c_i$。", "outputFormat": "对于每个询问，输出一行一个整数表示答案。\n", "hint": "\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 5\\times 10^5$；\n- $0\\le a_i,c_i\\le 10^6$；\n- $1\\le l_i\\le r_i\\le n $。\n\n\n| 子任务编号 | $n\\le $ |  $m\\le $ |得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 10^3 $    |  $10^3$ |  $ 7 $   |  \n| $ 2 $    | $ 5\\times 10^4 $   |  $10^5$ |  $ 48 $   |  \n| $ 3 $    | $ 5\\times 10^5 $ | $5\\times 10^5$ | $ 45 $   |  \n\n再次提醒，**每个窃贼的行窃是独立的，不互相影响**。", "locale": "zh-CN"}}}
{"pid": "P11287", "type": "P", "difficulty": 5, "samples": [["6 7\n0 0 1 0 0 1\n4 3 0 9 6 2\n1 2\n2 3\n4 3\n4 1\n5 3\n5 6\n3 6\n2\n2 3\n2 6", "22\n8"], ["6 6\n1 0 1 1 0 0\n1 2 4 3 5 6\n1 2\n1 3\n3 2\n6 5\n4 5\n1 6\n8\n2 3\n1 2 7\n2 3\n2 1\n1 6 0\n1 4 9\n2 1\n2 4", "6\n11\n19\n13\n14"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2017", "根号分治", "COTS（克罗地亚）"], "title": "[COTS 2017] 影响 Utjecaj", "background": "译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D2T1。$\\texttt{1.5s,0.5G}$。\n", "description": "\n给定 $n$ 个点 $m$ 条边的无向图（不一定连通，无自环，可能有重边）。\n\n点 $i$ 的点权为 $a_i$。此外，图中有若干个点是**关键点**。\n\n定义关键点 $u$ 的**影响力**为：不经过其他关键点（也不从其他关键点出发），且能到达点 $u$ 的点的点权和。\n\n有 $q$ 次操作：\n\n- $\\texttt{1}$ $u$ $x$：令 $a_u\\gets x$；\n- $\\texttt{2}$ $v$：查询关键点 $v$ 的影响力。\n\n依次处理之，并对每个操作 $2$ 输出答案。\n", "inputFormat": "\n\n第一行，两个正整数 $n,m$;\n\n第二行，$n$ 个非零即一的整数 $x_1,x_2,\\cdots,x_n$。点 $i$ 是关键点当且仅当 $x_i=1$。\n\n第三行，$n$ 个整数 $a_1,a_2,\\cdots,a_n$。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示图中的一条边。\n\n接下来一行，一个正整数 $q$。\n\n接下来 $q$ 行，每行若干个整数描述一个操作。", "outputFormat": "对于每个操作 $2$，输出一行一个整数表示答案。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,q\\le 2\\times 10^5$；\n- $0\\le a_i,x\\le 10^9$；\n- $1\\le u,v\\le n$；\n- 图中无自环；\n- 操作 $2$ 中给定的点 $v$ 是关键点。\n\n\n| 子任务编号 | $n,m,q\\le $ |  特殊性质 |得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 10^3 $    |   |  $ 10 $   |  \n| $ 2 $    | $ 2\\times 10^5 $   |  A |  $ 20 $   |  \n| $ 3 $    | $ 2\\times 10^5 $ |  | $ 70 $   |  \n\n特殊性质 A：没有操作 $1$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2017] 影响 Utjecaj", "background": "译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D2T1。$\\texttt{1.5s,0.5G}$。\n", "description": "\n给定 $n$ 个点 $m$ 条边的无向图（不一定连通，无自环，可能有重边）。\n\n点 $i$ 的点权为 $a_i$。此外，图中有若干个点是**关键点**。\n\n定义关键点 $u$ 的**影响力**为：不经过其他关键点（也不从其他关键点出发），且能到达点 $u$ 的点的点权和。\n\n有 $q$ 次操作：\n\n- $\\texttt{1}$ $u$ $x$：令 $a_u\\gets x$；\n- $\\texttt{2}$ $v$：查询关键点 $v$ 的影响力。\n\n依次处理之，并对每个操作 $2$ 输出答案。\n", "inputFormat": "\n\n第一行，两个正整数 $n,m$;\n\n第二行，$n$ 个非零即一的整数 $x_1,x_2,\\cdots,x_n$。点 $i$ 是关键点当且仅当 $x_i=1$。\n\n第三行，$n$ 个整数 $a_1,a_2,\\cdots,a_n$。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示图中的一条边。\n\n接下来一行，一个正整数 $q$。\n\n接下来 $q$ 行，每行若干个整数描述一个操作。", "outputFormat": "对于每个操作 $2$，输出一行一个整数表示答案。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,q\\le 2\\times 10^5$；\n- $0\\le a_i,x\\le 10^9$；\n- $1\\le u,v\\le n$；\n- 图中无自环；\n- 操作 $2$ 中给定的点 $v$ 是关键点。\n\n\n| 子任务编号 | $n,m,q\\le $ |  特殊性质 |得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 10^3 $    |   |  $ 10 $   |  \n| $ 2 $    | $ 2\\times 10^5 $   |  A |  $ 20 $   |  \n| $ 3 $    | $ 2\\times 10^5 $ |  | $ 70 $   |  \n\n特殊性质 A：没有操作 $1$。\n", "locale": "zh-CN"}}}
{"pid": "P11288", "type": "P", "difficulty": 7, "samples": [["3 2 3\n1 2 1\n2 2 0", "3"], ["7 10 3\n1 3 1\n3 4 1\n3 6 2\n4 5 2\n1 1 1\n1 2 1\n3 3 0\n1 1 1\n3 3 0\n3 6 2", "18"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2017", "线段树", "树状数组", "容斥原理", "COTS（克罗地亚）"], "title": "[COTS 2017] 模板 Z1", "background": "\n译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D2T2。$\\texttt{4s,0.5G}$。\n", "description": "\n> **题目**（【模板】RMQ）。\n>\n> 给定整数序列 $a_1,a_2,\\cdots,a_n$，值域为 $[0,h)$。\n> \n> 有 $m$ 次询问。第 $i$ 次询问给定 $l_i,r_i$，求出 $\\displaystyle \\max_{k\\in [l_i,r_i]} \\{a_k\\}$。\n\n\n给定 $n,m,h$，每个询问和对应的答案。求出一共有多少个可能的 $a$ 序列满足条件。只需要求出答案对 $(10^9+7)$ 取模后的结果。", "inputFormat": "\n\n第一行，三个正整数 $n,m,h$;\n\n接下来 $m$ 行，每行三个整数 $l_i,r_i,x_i$，表示 $\\displaystyle \\max_{k\\in [l_i,r_i]} \\{a_k\\}=x_i$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：只有 $[1,0,0]$，$[1,0,1]$，$[1,0,2]$ 满足条件。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,h\\le 10^6$；\n- $1\\le l_i\\le r_i\\le n$；\n- $0\\le x_i\\lt h$。\n\n\n| 子任务编号 | $n\\le $ |得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    | $ 100 $    | $ 20 $   |  \n| $ 2 $    | $ 10^3 $   |   $ 30 $   |  \n| $ 3 $    | $10^6$ |  $ 50 $   |  \n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2017] 模板 Z1", "background": "\n译自 [Izborne Pripreme 2017 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2017/) D2T2。$\\texttt{4s,0.5G}$。\n", "description": "\n> **题目**（【模板】RMQ）。\n>\n> 给定整数序列 $a_1,a_2,\\cdots,a_n$，值域为 $[0,h)$。\n> \n> 有 $m$ 次询问。第 $i$ 次询问给定 $l_i,r_i$，求出 $\\displaystyle \\max_{k\\in [l_i,r_i]} \\{a_k\\}$。\n\n\n给定 $n,m,h$，每个询问和对应的答案。求出一共有多少个可能的 $a$ 序列满足条件。只需要求出答案对 $(10^9+7)$ 取模后的结果。", "inputFormat": "\n\n第一行，三个正整数 $n,m,h$;\n\n接下来 $m$ 行，每行三个整数 $l_i,r_i,x_i$，表示 $\\displaystyle \\max_{k\\in [l_i,r_i]} \\{a_k\\}=x_i$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：只有 $[1,0,0]$，$[1,0,1]$，$[1,0,2]$ 满足条件。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,h\\le 10^6$；\n- $1\\le l_i\\le r_i\\le n$；\n- $0\\le x_i\\lt h$。\n\n\n| 子任务编号 | $n\\le $ |得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    | $ 100 $    | $ 20 $   |  \n| $ 2 $    | $ 10^3 $   |   $ 30 $   |  \n| $ 3 $    | $10^6$ |  $ 50 $   |  \n\n\n", "locale": "zh-CN"}}}
{"pid": "P11289", "type": "P", "difficulty": 4, "samples": [["3 3\n2 3\n2 1\n5 2", "2 1 2\n1 3\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "O2优化", "排序", "优先队列", "梦熊比赛"], "title": "【MX-S6-T1】「KDOI-11」打印", "background": "原题链接：<https://oier.team/problems/S6A>。", "description": "巡的家有 $m$ 台打印机，编号从 $1$ 到 $m$。她有 $n$ 个文件想要打印。其中第 $i$ 个文件会在第 $t_i$ 时刻下发打印命令，打印这个文件需要 $s_i$ 的时间。\n\n每次发送一个文件打印会选择等待时间最短的打印机，如有多个，选择编号最小的。\n\n你需要告诉巡每台打印机打印了哪些文件。\n\n**保证同一时刻不会下发多个打印命令。**", "inputFormat": "第一行，两个正整数 $n,m$，表示文件的数量和打印机的数量。\n\n接下来 $n$ 行，每行两个正整数 $s_i,t_i$，表示第 $i$ 个文件需要的打印时间以及下发命令的时刻。保证所有 $t_i$ 互不相同。", "outputFormat": "$m$ 行，第 $i$ 行 $k_i + 1$ 个整数：\n- 第一个非负整数 $k_i$，表示第 $i$ 台打印机打印的文件数量；\n- 接下来 $k_i$ 个正整数，从小到大排序，表示其打印的文件编号。", "hint": "**【样例解释 #1】**\n\n共有 $3$ 台打印机。按时间顺序，打印命令如下：\n- 文件 $2$ 在第 $1$ 秒被下发。此时所有打印机等待时间都是 $0$。因此选择编号最小的 $1$ 号打印机。\n- 文件 $3$ 在第 $2$ 秒被下发。此时 $1$ 号打印机正在打印文件 $2$，其余打印机等待时间都是 $0$。因此选择编号最小的 $2$ 号打印机。\n- 文件 $1$ 在第 $3$ 秒被下发。此时 $1$ 号打印机已经完成文件 $2$ 的打印，等待时间为 $0$。因此选择 $1$ 号打印机。\n\n故三台打印机分别打印了编号为 $[1,2],[3],[]$ 的文件。\n\n**【样例 #2】**\n\n见附件中的 `print/print2.in` 与 `print/print2.ans`。\n\n该组样例满足测试点 $1\\sim 3$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 `print/print3.in` 与 `print/print3.ans`。\n\n该组样例满足测试点 $4\\sim 9$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 `print/print4.in` 与 `print/print4.ans`。\n\n该组样例满足测试点 $18\\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n对于所有测试数据，保证：$1\\leq n,m\\leq 2\\times 10^5$，$1\\leq s_i,t_i\\leq 10^9$，所有 $t_i$ 互不相同。\n\n| 测试点编号  |   $n,m\\leq$    | $s_i\\leq $ |   $t_i\\leq $   |\n| :---------: | :------------: | :--------: | :------------: |\n|  $1\\sim 3$  |      $10$      |   $10^9$   |     $10^9$     |\n|  $4\\sim 9$  |     $5000$     |   $10^9$   |     $10^9$     |\n| $10\\sim 13$ | $2\\times 10^5$ |    $1$     |     $2\\times 10^5$     |\n| $14\\sim 17$ | $2\\times 10^5$ |   $10^9$   | $2\\times 10^5$ |\n| $18\\sim 20$ | $2\\times 10^5$ |   $10^9$   |     $10^9$     |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S6-T1】「KDOI-11」打印", "background": "原题链接：<https://oier.team/problems/S6A>。", "description": "巡的家有 $m$ 台打印机，编号从 $1$ 到 $m$。她有 $n$ 个文件想要打印。其中第 $i$ 个文件会在第 $t_i$ 时刻下发打印命令，打印这个文件需要 $s_i$ 的时间。\n\n每次发送一个文件打印会选择等待时间最短的打印机，如有多个，选择编号最小的。\n\n你需要告诉巡每台打印机打印了哪些文件。\n\n**保证同一时刻不会下发多个打印命令。**", "inputFormat": "第一行，两个正整数 $n,m$，表示文件的数量和打印机的数量。\n\n接下来 $n$ 行，每行两个正整数 $s_i,t_i$，表示第 $i$ 个文件需要的打印时间以及下发命令的时刻。保证所有 $t_i$ 互不相同。", "outputFormat": "$m$ 行，第 $i$ 行 $k_i + 1$ 个整数：\n- 第一个非负整数 $k_i$，表示第 $i$ 台打印机打印的文件数量；\n- 接下来 $k_i$ 个正整数，从小到大排序，表示其打印的文件编号。", "hint": "**【样例解释 #1】**\n\n共有 $3$ 台打印机。按时间顺序，打印命令如下：\n- 文件 $2$ 在第 $1$ 秒被下发。此时所有打印机等待时间都是 $0$。因此选择编号最小的 $1$ 号打印机。\n- 文件 $3$ 在第 $2$ 秒被下发。此时 $1$ 号打印机正在打印文件 $2$，其余打印机等待时间都是 $0$。因此选择编号最小的 $2$ 号打印机。\n- 文件 $1$ 在第 $3$ 秒被下发。此时 $1$ 号打印机已经完成文件 $2$ 的打印，等待时间为 $0$。因此选择 $1$ 号打印机。\n\n故三台打印机分别打印了编号为 $[1,2],[3],[]$ 的文件。\n\n**【样例 #2】**\n\n见附件中的 `print/print2.in` 与 `print/print2.ans`。\n\n该组样例满足测试点 $1\\sim 3$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 `print/print3.in` 与 `print/print3.ans`。\n\n该组样例满足测试点 $4\\sim 9$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 `print/print4.in` 与 `print/print4.ans`。\n\n该组样例满足测试点 $18\\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n对于所有测试数据，保证：$1\\leq n,m\\leq 2\\times 10^5$，$1\\leq s_i,t_i\\leq 10^9$，所有 $t_i$ 互不相同。\n\n| 测试点编号  |   $n,m\\leq$    | $s_i\\leq $ |   $t_i\\leq $   |\n| :---------: | :------------: | :--------: | :------------: |\n|  $1\\sim 3$  |      $10$      |   $10^9$   |     $10^9$     |\n|  $4\\sim 9$  |     $5000$     |   $10^9$   |     $10^9$     |\n| $10\\sim 13$ | $2\\times 10^5$ |    $1$     |     $2\\times 10^5$     |\n| $14\\sim 17$ | $2\\times 10^5$ |   $10^9$   | $2\\times 10^5$ |\n| $18\\sim 20$ | $2\\times 10^5$ |   $10^9$   |     $10^9$     |\n\n", "locale": "zh-CN"}}}
{"pid": "P11290", "type": "P", "difficulty": 5, "samples": [["4 4\n1 1 1\n3 1 2\n8 5 2\n10 100 3\n1 4 10 1000", "1\n4\n7.5\n194.5\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "Special Judge", "O2优化", "背包 DP", "梦熊比赛"], "title": "【MX-S6-T2】「KDOI-11」飞船", "background": "原题链接：<https://oier.team/problems/S6B>。", "description": "巡造了一个很牛的飞船，巡为了测试她的飞船，造了一条无限远的从起点出发的射线作为跑道。在跑道上有 $n$ 个加油站，第 $i$ 个在距离起点 $p_i$ 的位置，巡可以在这里花费 $t_i$ 的时间加编号为 $x_i$ 的燃油，**同一个加油站的油不能加两次**，**保证 $\\boldsymbol{1\\leq x_i\\leq 4}$ 且 $\\boldsymbol{x_i}$ 为整数**。\n\n巡的飞船牛在两个点：\n\n- 这个飞船油量消耗极低，在本题中可以忽略不计。也就是，**我们不考虑油消耗殆尽的情况。**\n- 如果给飞船加编号为 $x$ 的燃油，**飞船的速度会从 $v$ 提升为 $v\\times x$**。需要注意的是，**燃油的效果能叠加**。\n\n现在，巡给出了 $q$ 次询问。每次巡会将终点设在跑道上距离起点 $y_i$ 的位置，从起点出发，将飞船速度设定为 $1$ 单位每时间，途径的每个加油站可以自由选择是否加油。你需要告诉巡每次至少需要多少时间才能到达终点（即 $y_i$）。", "inputFormat": "第一行，两个正整数 $n,q$，表示加油站个数和询问个数。\n\n接下来 $n$ 行，每行三个正整数 $p_i,t_i,x_i$，分别表示第 $i$ 个加油站距离起点的距离、加油需要的时间和燃油的编号。加油站按 $p_i$ 严格升序给出，即 $p_i < p_{i + 1}$。保证 $1\\leq x_i\\leq 4$。\n\n接下来一行，$q$ 个正整数 $y_1, \\ldots, y_q$，表示询问。", "outputFormat": "$q$ 行，每行一个非负实数，表示答案。\n\n本题使用**自定义校验器**检验你的答案是否正确，你只需要保证你的答案与标准答案相对或绝对误差不超过 $10^{-6}$ 即可。即如果对每个询问，假设你的答案为 $x$，而标准答案为 $y$，都有 $\\frac{\\lvert x-y\\rvert}{\\max(1,\\lvert y\\rvert)}\\leq 10^{-6}$，则你的答案被认为是正确的。", "hint": "**【样例解释 #1】**\n\n- 对询问 $y_1=1$，不加油，需要时间为 $1$。\n- 对询问 $y_2=4$，不加油，需要时间为 $4$。\n- 对询问 $y_3=10$，在位于起点 $3$ 单位距离的加油站 $2$ 加 $2$ 号燃油，速度提升为 $2$，需要时间为 $3+1+\\frac{10-3}{2}=7.5$。\n\n**【样例 #2】**\n\n见附件中的 `ship/ship2.in` 与 `ship/ship2.ans`。\n\n该组样例满足测试点 $1\\sim 3$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 `ship/ship3.in` 与 `ship/ship3.ans`。\n\n该组样例满足测试点 $5\\sim 7$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 `ship/ship4.in` 与 `ship/ship4.ans`。\n\n该组样例满足测试点 $18\\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n\n对于所有测试数据，保证：$1\\leq n\\leq 10^5$，$1\\leq q\\leq10^5$，$1\\leq p_1<p_2<\\dots<p_n\\leq 10^9$，$1\\leq t_i\\leq10^9$，$1\\leq x_i\\leq4$，$1\\leq y_i\\leq 10^9$。\n\n| 测试点编号  | $n\\leq$ | $q\\leq$ |   $x_i\\in $   | $p_i,y_i\\leq $ |\n| :---------: | :-----: | :-----: | :-----------: | :------------: |\n|  $1\\sim 3$  |  $10$   |  $10$   | $\\{1,2,3,4\\}$ |     $10^9$     |\n|     $4$     | $10^5$  | $10^5$  |    $\\{1\\}$    |     $10^9$     |\n|  $5\\sim 7$  |  $100$  |  $100$  | $\\{1,2,3,4\\}$ |     $1000$     |\n|  $8\\sim 9$  | $10^5$  | $10^5$  |   $\\{1,2\\}$   |     $10^9$     |\n| $10\\sim 13$ | $10^5$  | $10^5$  |  $\\{1,2,4\\}$  |     $10^9$     |\n| $14\\sim 17$ | $10^5$  |  $10$   | $\\{1,2,3,4\\}$ |     $10^9$     |\n| $18\\sim 20$ | $10^5$  | $10^5$  | $\\{1,2,3,4\\}$ |     $10^9$     |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S6-T2】「KDOI-11」飞船", "background": "原题链接：<https://oier.team/problems/S6B>。", "description": "巡造了一个很牛的飞船，巡为了测试她的飞船，造了一条无限远的从起点出发的射线作为跑道。在跑道上有 $n$ 个加油站，第 $i$ 个在距离起点 $p_i$ 的位置，巡可以在这里花费 $t_i$ 的时间加编号为 $x_i$ 的燃油，**同一个加油站的油不能加两次**，**保证 $\\boldsymbol{1\\leq x_i\\leq 4}$ 且 $\\boldsymbol{x_i}$ 为整数**。\n\n巡的飞船牛在两个点：\n\n- 这个飞船油量消耗极低，在本题中可以忽略不计。也就是，**我们不考虑油消耗殆尽的情况。**\n- 如果给飞船加编号为 $x$ 的燃油，**飞船的速度会从 $v$ 提升为 $v\\times x$**。需要注意的是，**燃油的效果能叠加**。\n\n现在，巡给出了 $q$ 次询问。每次巡会将终点设在跑道上距离起点 $y_i$ 的位置，从起点出发，将飞船速度设定为 $1$ 单位每时间，途径的每个加油站可以自由选择是否加油。你需要告诉巡每次至少需要多少时间才能到达终点（即 $y_i$）。", "inputFormat": "第一行，两个正整数 $n,q$，表示加油站个数和询问个数。\n\n接下来 $n$ 行，每行三个正整数 $p_i,t_i,x_i$，分别表示第 $i$ 个加油站距离起点的距离、加油需要的时间和燃油的编号。加油站按 $p_i$ 严格升序给出，即 $p_i < p_{i + 1}$。保证 $1\\leq x_i\\leq 4$。\n\n接下来一行，$q$ 个正整数 $y_1, \\ldots, y_q$，表示询问。", "outputFormat": "$q$ 行，每行一个非负实数，表示答案。\n\n本题使用**自定义校验器**检验你的答案是否正确，你只需要保证你的答案与标准答案相对或绝对误差不超过 $10^{-6}$ 即可。即如果对每个询问，假设你的答案为 $x$，而标准答案为 $y$，都有 $\\frac{\\lvert x-y\\rvert}{\\max(1,\\lvert y\\rvert)}\\leq 10^{-6}$，则你的答案被认为是正确的。", "hint": "**【样例解释 #1】**\n\n- 对询问 $y_1=1$，不加油，需要时间为 $1$。\n- 对询问 $y_2=4$，不加油，需要时间为 $4$。\n- 对询问 $y_3=10$，在位于起点 $3$ 单位距离的加油站 $2$ 加 $2$ 号燃油，速度提升为 $2$，需要时间为 $3+1+\\frac{10-3}{2}=7.5$。\n\n**【样例 #2】**\n\n见附件中的 `ship/ship2.in` 与 `ship/ship2.ans`。\n\n该组样例满足测试点 $1\\sim 3$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 `ship/ship3.in` 与 `ship/ship3.ans`。\n\n该组样例满足测试点 $5\\sim 7$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 `ship/ship4.in` 与 `ship/ship4.ans`。\n\n该组样例满足测试点 $18\\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n\n对于所有测试数据，保证：$1\\leq n\\leq 10^5$，$1\\leq q\\leq10^5$，$1\\leq p_1<p_2<\\dots<p_n\\leq 10^9$，$1\\leq t_i\\leq10^9$，$1\\leq x_i\\leq4$，$1\\leq y_i\\leq 10^9$。\n\n| 测试点编号  | $n\\leq$ | $q\\leq$ |   $x_i\\in $   | $p_i,y_i\\leq $ |\n| :---------: | :-----: | :-----: | :-----------: | :------------: |\n|  $1\\sim 3$  |  $10$   |  $10$   | $\\{1,2,3,4\\}$ |     $10^9$     |\n|     $4$     | $10^5$  | $10^5$  |    $\\{1\\}$    |     $10^9$     |\n|  $5\\sim 7$  |  $100$  |  $100$  | $\\{1,2,3,4\\}$ |     $1000$     |\n|  $8\\sim 9$  | $10^5$  | $10^5$  |   $\\{1,2\\}$   |     $10^9$     |\n| $10\\sim 13$ | $10^5$  | $10^5$  |  $\\{1,2,4\\}$  |     $10^9$     |\n| $14\\sim 17$ | $10^5$  |  $10$   | $\\{1,2,3,4\\}$ |     $10^9$     |\n| $18\\sim 20$ | $10^5$  | $10^5$  | $\\{1,2,3,4\\}$ |     $10^9$     |\n\n", "locale": "zh-CN"}}}
{"pid": "P11291", "type": "P", "difficulty": 6, "samples": [["0 1 2\nab\nabaab", "13\n5 3 5 6 3"], ["0 3 2\nabc\nac\nb\nbacabcab", "27\n4 9 6 11 10 5 6 5"], ["0 10 10\nwooogpgpoo\nowpwgwwp\nooogpgpooo\ngppwppgwoo\nwooogpgpoo\nwowooogpgp\ngwwp\nggggogwgpp\nwowooogpgp\npgpoooowpw\npgwgwggggggogwgppwppgwooggoogwowooogpgpoooowpwgwwp", "7698\n183 390 577 792 990 1213 1422 1651 1780 1889 1984 2099 2235 2355 2491 2458 2435 2426 2439 2466 2478 2498 2503 2489 2481 2477 2477 2483 2491 2527 2532 2559 2571 2540 2489 2433 2372 2276 2163 2041 1932 1803 1662 1491 1308 1111 900 702 486 252"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "贪心", "倍增", "Special Judge", "O2优化", "哈希 hashing", "前缀和", "KMP 算法", "梦熊比赛"], "title": "【MX-S6-T3】「KDOI-11」简单的字符串问题 2", "background": "原题链接：<https://oier.team/problems/S6C>。", "description": "给定 $n$ 个字符串 $S_1, \\ldots, S_n$ 以及一个字符串 $T$。\n\n对于一个字符串 $R$，定义 $|R|$ 表示 $R$ 的长度、$R_{[l,r]}$ 表示 $R$ 的第 $l\\sim r$ 个字符组成的字符串。字符串 $R'$ 是字符串 $R$ 的前缀当且仅当存在 $1\\leq p\\leq |R|$ 且 $p$ 为整数使得 $R'=R_{[1,p]}$。\n\n定义一个字符串 $R$ 是**好的**当且仅当它是某个 $S_i$ 的前缀**或** $R$ **为空**。\n\n对于若干字符串 $R_1,R_2,\\dots,R_k$，定义 $R_1+R_2+\\dots+R_k$ 为 $R_1,R_2,\\dots,R_k$ 顺次拼接得到的字符串。\n\n定义一个三元组 $(l,r,k)$（$l,r,k$ 均为整数）是好的当且仅当 $1\\leq l\\leq r\\leq|T|$，$1\\leq k\\leq K$ 且存在 $k$ 个**好的**字符串 $R_1,R_2,\\dots,R_k$ 使得 $R_1+R_2+\\dots+R_k=T_{[l,r]}$。\n\n请你求出好的三元组的数量，并对于每个 $i$ 求出有多少好的三元组 $(l,r,k)$ 满足 $l\\leq i\\leq r$。如果你只能求出两者中其一，也可以获得部分分数，见【**输出格式**】。", "inputFormat": "第一行，三个非负整数 $id,n,K$，其中 $id$ 表示测试点编号（所有样例满足 $id=0$），$n$ 表示字符串数量，$K$ 表示对好的三元组的限制。\n\n接下来 $n$ 行，每行一个字符串 $S_i$。\n\n接下来一行，一个字符串 $T$。", "outputFormat": "第一行，一个非负整数，表示好的三元组的数量。\n\n第二行，$\\lvert T\\rvert$ 个非负整数，第 $i$ 个表示满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量。\n\n本题使用**自定义校验器**进行评分，对于每个测试点：\n\n* 如果你的程序正确地求出了好的三元组的数量并正确地对于每个 $1\\leq i\\leq |T|$ 求出了满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量，你可以获得该测试点 $100\\%$ 的分数。\n* 如果你的程序未能正确地求出了好的三元组的数量但正确地对于每个 $1\\leq i\\leq |T|$ 求出了满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量，你可以获得该测试点 $80\\%$ 的分数。\n* 如果你的程序正确地求出了好的三元组的数量但未能正确地对于每个 $1\\leq i\\leq |T|$ 求出了满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量，你可以获得该测试点 $60\\%$ 的分数。\n* 否则，你不能获得该测试点的任何分数。\n\n注意，即使你希望获得某测试点 $80\\%$ 或 $60\\%$ 的分数，你也需要在第一行输出一个数并在第二行输出 $\\lvert T\\rvert$ 个数。", "hint": "**【样例解释 #1】**\n\n符合要求的 $(l,r,k)$ 有以下 $13$ 组：\n\n* $(1,1,1)$；\n* $(1,1,2)$；\n* $(1,2,1)$；\n* $(1,2,2)$；\n* $(1,3,2)$；\n* $(3,3,1)$；\n* $(3,3,2)$；\n* $(3,4,2)$；\n* $(3,5,2)$；\n* $(4,4,1)$；\n* $(4,4,2)$；\n* $(4,5,1)$；\n* $(4,5,2)$。\n\n**【样例 #4】**\n\n见附件中的 `string/string4.in` 与 `string/string4.ans`。\n\n该组样例满足测试点 $1\\sim3$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 `string/string5.in` 与 `string/string5.ans`。\n\n该组样例满足测试点 $4\\sim6$ 的约束条件。\n\n**【样例 #6】**\n\n见附件中的 `string/string6.in` 与 `string/string6.ans`。\n\n该组样例满足测试点 $7\\sim10$ 的约束条件。\n\n**【样例 #7】**\n\n见附件中的 `string/string7.in` 与 `string/string7.ans`。\n\n该组样例满足测试点 $13\\sim14$ 和测试点 $16\\sim17$ 的约束条件。\n\n**【样例 #8】**\n\n见附件中的 `string/string8.in` 与 `string/string8.ans`。\n\n该组样例满足测试点 $18\\sim20$ 的约束条件。\n\n**【数据范围】**\n\n对于所有测试数据，保证：$1\\leq n\\leq10$，$1\\leq |S_i|\\leq5\\times10^4$，$1\\leq |T|,K\\leq5\\times10^5$，字符串仅包含小写英文字母 $\\texttt{a}\\sim\\texttt{z}$。\n\n| 测试点编号 | $n\\leq$ | $\\lvert S_i\\rvert\\leq$ |  $\\lvert T\\rvert\\leq$ | $K\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|:--:|\n| $1\\sim3$ | $10$ | $50$ | $50$ | $50$ | 无 |\n| $4\\sim6$ | $10$ | $100$ | $300$ | $300$ | 无 |\n| $7\\sim10$ | $10$ | $1000$ | $5000$ | $5000$ | 无 |\n| $11\\sim12$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $1$ | 无 |\n| $13\\sim14$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $10$ | 无 |\n| $15$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $5\\times10^5$ | 所有字符均为 $\\texttt{a}$ |\n| $16\\sim17$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $5\\times10^5$ | 所有字符在 $\\{\\texttt{a},\\texttt{b}\\}$ 中独立均匀随机生成 |\n| $18\\sim20$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $5\\times10^5$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S6-T3】「KDOI-11」简单的字符串问题 2", "background": "原题链接：<https://oier.team/problems/S6C>。", "description": "给定 $n$ 个字符串 $S_1, \\ldots, S_n$ 以及一个字符串 $T$。\n\n对于一个字符串 $R$，定义 $|R|$ 表示 $R$ 的长度、$R_{[l,r]}$ 表示 $R$ 的第 $l\\sim r$ 个字符组成的字符串。字符串 $R'$ 是字符串 $R$ 的前缀当且仅当存在 $1\\leq p\\leq |R|$ 且 $p$ 为整数使得 $R'=R_{[1,p]}$。\n\n定义一个字符串 $R$ 是**好的**当且仅当它是某个 $S_i$ 的前缀**或** $R$ **为空**。\n\n对于若干字符串 $R_1,R_2,\\dots,R_k$，定义 $R_1+R_2+\\dots+R_k$ 为 $R_1,R_2,\\dots,R_k$ 顺次拼接得到的字符串。\n\n定义一个三元组 $(l,r,k)$（$l,r,k$ 均为整数）是好的当且仅当 $1\\leq l\\leq r\\leq|T|$，$1\\leq k\\leq K$ 且存在 $k$ 个**好的**字符串 $R_1,R_2,\\dots,R_k$ 使得 $R_1+R_2+\\dots+R_k=T_{[l,r]}$。\n\n请你求出好的三元组的数量，并对于每个 $i$ 求出有多少好的三元组 $(l,r,k)$ 满足 $l\\leq i\\leq r$。如果你只能求出两者中其一，也可以获得部分分数，见【**输出格式**】。", "inputFormat": "第一行，三个非负整数 $id,n,K$，其中 $id$ 表示测试点编号（所有样例满足 $id=0$），$n$ 表示字符串数量，$K$ 表示对好的三元组的限制。\n\n接下来 $n$ 行，每行一个字符串 $S_i$。\n\n接下来一行，一个字符串 $T$。", "outputFormat": "第一行，一个非负整数，表示好的三元组的数量。\n\n第二行，$\\lvert T\\rvert$ 个非负整数，第 $i$ 个表示满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量。\n\n本题使用**自定义校验器**进行评分，对于每个测试点：\n\n* 如果你的程序正确地求出了好的三元组的数量并正确地对于每个 $1\\leq i\\leq |T|$ 求出了满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量，你可以获得该测试点 $100\\%$ 的分数。\n* 如果你的程序未能正确地求出了好的三元组的数量但正确地对于每个 $1\\leq i\\leq |T|$ 求出了满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量，你可以获得该测试点 $80\\%$ 的分数。\n* 如果你的程序正确地求出了好的三元组的数量但未能正确地对于每个 $1\\leq i\\leq |T|$ 求出了满足 $l\\leq i\\leq r$ 的好的三元组 $(l,r,k)$ 的数量，你可以获得该测试点 $60\\%$ 的分数。\n* 否则，你不能获得该测试点的任何分数。\n\n注意，即使你希望获得某测试点 $80\\%$ 或 $60\\%$ 的分数，你也需要在第一行输出一个数并在第二行输出 $\\lvert T\\rvert$ 个数。", "hint": "**【样例解释 #1】**\n\n符合要求的 $(l,r,k)$ 有以下 $13$ 组：\n\n* $(1,1,1)$；\n* $(1,1,2)$；\n* $(1,2,1)$；\n* $(1,2,2)$；\n* $(1,3,2)$；\n* $(3,3,1)$；\n* $(3,3,2)$；\n* $(3,4,2)$；\n* $(3,5,2)$；\n* $(4,4,1)$；\n* $(4,4,2)$；\n* $(4,5,1)$；\n* $(4,5,2)$。\n\n**【样例 #4】**\n\n见附件中的 `string/string4.in` 与 `string/string4.ans`。\n\n该组样例满足测试点 $1\\sim3$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 `string/string5.in` 与 `string/string5.ans`。\n\n该组样例满足测试点 $4\\sim6$ 的约束条件。\n\n**【样例 #6】**\n\n见附件中的 `string/string6.in` 与 `string/string6.ans`。\n\n该组样例满足测试点 $7\\sim10$ 的约束条件。\n\n**【样例 #7】**\n\n见附件中的 `string/string7.in` 与 `string/string7.ans`。\n\n该组样例满足测试点 $13\\sim14$ 和测试点 $16\\sim17$ 的约束条件。\n\n**【样例 #8】**\n\n见附件中的 `string/string8.in` 与 `string/string8.ans`。\n\n该组样例满足测试点 $18\\sim20$ 的约束条件。\n\n**【数据范围】**\n\n对于所有测试数据，保证：$1\\leq n\\leq10$，$1\\leq |S_i|\\leq5\\times10^4$，$1\\leq |T|,K\\leq5\\times10^5$，字符串仅包含小写英文字母 $\\texttt{a}\\sim\\texttt{z}$。\n\n| 测试点编号 | $n\\leq$ | $\\lvert S_i\\rvert\\leq$ |  $\\lvert T\\rvert\\leq$ | $K\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|:--:|\n| $1\\sim3$ | $10$ | $50$ | $50$ | $50$ | 无 |\n| $4\\sim6$ | $10$ | $100$ | $300$ | $300$ | 无 |\n| $7\\sim10$ | $10$ | $1000$ | $5000$ | $5000$ | 无 |\n| $11\\sim12$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $1$ | 无 |\n| $13\\sim14$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $10$ | 无 |\n| $15$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $5\\times10^5$ | 所有字符均为 $\\texttt{a}$ |\n| $16\\sim17$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $5\\times10^5$ | 所有字符在 $\\{\\texttt{a},\\texttt{b}\\}$ 中独立均匀随机生成 |\n| $18\\sim20$ | $10$ | $5\\times10^4$ | $5\\times10^5$ | $5\\times10^5$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11292", "type": "P", "difficulty": 6, "samples": [["0 3 2 2 2\n1 3 1\n3 2 1", "12"], ["0 5 4 3 7\n1 4 4\n1 5 2\n4 3 1\n5 3 2\n3 2 3\n4 5 1\n5 2 2", "16096"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "O2优化", "动态规划优化", "拓扑排序", "组合数学", "容斥原理", "梦熊比赛"], "title": "【MX-S6-T4】「KDOI-11」彩灯晚会", "background": "原题链接：<https://oier.team/problems/S6D>。", "description": "小 K 家的房子还蛮大的，所以他举办了彩灯晚会。\n\n彩灯晚会显然有彩灯。于是小 K 找来了 $n$ 盏彩灯。\n\n小 K 不希望彩灯散在地上，于是他用 $m$ 条**有向边**连接了这些彩灯，使得他们连在一起。也就是说，在将有向边看成无向边的情况下，这些彩灯是连通的。保证该图为**有向无环图**。\n\n小 K 的彩灯很厉害，每个都可以独立地发出 $k$ 种颜色中的任意一种。小 K 作为世界顶尖 Light Glowing Master（简称 LGM），决定将所有方案（共 $k^n$ 种）都尝试一下。\n\n小 K 不喜欢很多的颜色，于是他给定了一个正整数 $l$，并定义一个方案的美丽度为每种颜色长度为 $l$ 的链数量的平方之和。形式化地讲，设第 $i$ 种颜色的长度为 $l$ 的链的数量为 $cnt_i$，则一个方案的美丽度为 $\\sum_{i=1}^kcnt_i^2$。\n\n现在小 K 想知道所有 $k^n$ 种方案的美丽度之和，对 $998244353$ 取模。\n\n两种方案是不同的当且仅当存在某个彩灯在两种方案中发出不同的颜色。\n\n一条长度为 $l$ 的链是一个 $2l-1$ 元组 $(v_1,e_1,v_2,e_2,\\dots,e_{l-1},v_l)$，使得对于任意 $1\\leq i<l$，第 $e_i$ 条有向边是由 $v_i$ 连向 $v_{i+1}$ 的。两条长度为 $l$ 的链 $(v_1,e_1,v_2,e_2,\\dots,e_{l-1},v_l)$ 和 $(v'_1,e'_1,v'_2,e'_2,\\dots,e'_{l-1},v'_l)$ 不同当且仅当存在 $1\\leq i<l$ 满足 $e_i\\neq e'_i$ 或存在 $1\\leq i\\leq l$ 满足 $v_i\\neq v'_i$。\n\n一种颜色 $x$ 的长度为 $l$ 的链是一条长度为 $l$ 的链 $(v_1,e_1,v_2,e_2,\\dots,e_{l-1},v_l)$ 使得对于任意 $1\\leq i\\leq l$，$v_i$ 编号的彩灯发出颜色为 $x$。", "inputFormat": "第一行，五个非负整数 $id,n,k,l,M$，其中 $id$ 表示测试点编号（所有样例满足 $id=0$），$n$ 表示彩灯数量，$k$ 表示颜色数量，$l$ 表示链的长度，$M$ 的意义如后文所示。\n\n接下来 $M$ 行，第 $i$ 行三个正整数 $u_i,v_i,c_i$，表示有 $c_i$ 条 $u_i\\to v_i$ 的有向边。也就是说，第 $\\bigl(\\sum_{j=1}^{i-1}c_j\\bigr)+1$ 至第 $\\bigl(\\sum_{j=1}^ic_j\\bigr)$ 条有向边由 $u_i$ 连向 $v_i$。\n\n题面中 $m$ 满足 $m=\\sum_{i=1}^Mc_i$。保证：$(u,v)$ 互不相同，给定图为有向无环图，在将有向边看成无向边的情况下，彩灯是连通的。", "outputFormat": "仅一行，一个非负整数，表示所有 $k^n$ 种方案的美丽度之和，对 $998244353$ 取模。", "hint": "**【样例解释 #1】**\n\n共有 $2^3=8$ 种不同的彩灯显示颜色的方案，如下表所示（不妨假设颜色为黑和白）：\n\n| 编号 | $1$ 号彩灯颜色 | $2$ 号彩灯颜色 | $3$ 号彩灯颜色 | 美丽度 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | 黑 | 黑 | 黑 | $4$ |\n| $2$ | 黑 | 黑 | 白 | $0$ |\n| $3$ | 黑 | 白 | 黑 | $1$ |\n| $4$ | 黑 | 白 | 白 | $1$ |\n| $5$ | 白 | 黑 | 黑 | $1$ |\n| $6$ | 白 | 黑 | 白 | $1$ |\n| $7$ | 白 | 白 | 黑 | $0$ |\n| $8$ | 白 | 白 | 白 | $4$ |\n\n美丽度之和为 $4+0+1+1+1+1+0+4=12$。\n\n**【样例 #3】**\n\n见附件中的 `party/party3.in` 与 `party/party3.ans`。\n\n该组样例满足测试点 $1$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 `party/party4.in` 与 `party/party4.ans`。\n\n该组样例满足测试点 $2\\sim3$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 `party/party5.in` 与 `party/party5.ans`。\n\n该组样例满足测试点 $4\\sim5$ 的约束条件。\n\n**【样例 #6】**\n\n见附件中的 `party/party6.in` 与 `party/party6.ans`。\n\n该组样例满足测试点 $6\\sim9$ 的约束条件。\n\n**【样例 #7】**\n\n见附件中的 `party/party7.in` 与 `party/party7.ans`。\n\n该组样例满足测试点 $10\\sim12$ 的约束条件。\n\n**【样例 #8】**\n\n见附件中的 `party/party8.in` 与 `party/party8.ans`。\n\n该组样例满足测试点 $13\\sim15$ 的约束条件。\n\n**【样例 #9】**\n\n见附件中的 `party/party9.in` 与 `party/party9.ans`。\n\n该组样例满足测试点 $20\\sim21$ 的约束条件。\n\n**【数据范围】**\n\n记 $P=998244353$，对于所有测试数据，保证：$1\\leq n\\leq300$，$1\\leq M\\leq\\frac{n(n-1)}{2}$，$1\\leq k<P$，$1\\leq l\\leq 20$，$1\\leq c_i<P$，$(u_i,v_i)$ 互不相同，给定图为有向无环图，在将有向边看成无向边的情况下，彩灯是连通的。\n\n| 测试点编号 | $n\\leq$ | $k\\leq$ | $l\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $6$ | $6$ | $6$ | $m\\leq10$，$c_i=1$ |\n| $2\\sim3$ | $300$ | $P-1$ | $1$ | 无 |\n| $4\\sim5$ | $300$ | $P-1$ | $2$ | 无 |\n| $6\\sim9$ | $300$ | $P-1$ | $3$ | 无 |\n| $10\\sim12$ | $300$ | $P-1$ | $20$ | $M=n-1$ 且有且仅有一个点入度为 $0$ |\n| $13\\sim15$ | $30$ | $P-1$ | $10$ | 无 |\n| $16$ | $150$ | $P-1$ | $7$ | 无 |\n| $17$ | $150$ | $P-1$ | $10$ | 无 |\n| $18\\sim19$ | $150$ | $P-1$ | $13$ | 无 |\n| $20\\sim21$ | $300$ | $P-1$ | $9$ | 无 |\n| $22$ | $300$ | $P-1$ | $13$ | 无 |\n| $23$ | $300$ | $P-1$ | $16$ | 无 |\n| $24\\sim25$ | $300$ | $P-1$ | $20$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S6-T4】「KDOI-11」彩灯晚会", "background": "原题链接：<https://oier.team/problems/S6D>。", "description": "小 K 家的房子还蛮大的，所以他举办了彩灯晚会。\n\n彩灯晚会显然有彩灯。于是小 K 找来了 $n$ 盏彩灯。\n\n小 K 不希望彩灯散在地上，于是他用 $m$ 条**有向边**连接了这些彩灯，使得他们连在一起。也就是说，在将有向边看成无向边的情况下，这些彩灯是连通的。保证该图为**有向无环图**。\n\n小 K 的彩灯很厉害，每个都可以独立地发出 $k$ 种颜色中的任意一种。小 K 作为世界顶尖 Light Glowing Master（简称 LGM），决定将所有方案（共 $k^n$ 种）都尝试一下。\n\n小 K 不喜欢很多的颜色，于是他给定了一个正整数 $l$，并定义一个方案的美丽度为每种颜色长度为 $l$ 的链数量的平方之和。形式化地讲，设第 $i$ 种颜色的长度为 $l$ 的链的数量为 $cnt_i$，则一个方案的美丽度为 $\\sum_{i=1}^kcnt_i^2$。\n\n现在小 K 想知道所有 $k^n$ 种方案的美丽度之和，对 $998244353$ 取模。\n\n两种方案是不同的当且仅当存在某个彩灯在两种方案中发出不同的颜色。\n\n一条长度为 $l$ 的链是一个 $2l-1$ 元组 $(v_1,e_1,v_2,e_2,\\dots,e_{l-1},v_l)$，使得对于任意 $1\\leq i<l$，第 $e_i$ 条有向边是由 $v_i$ 连向 $v_{i+1}$ 的。两条长度为 $l$ 的链 $(v_1,e_1,v_2,e_2,\\dots,e_{l-1},v_l)$ 和 $(v'_1,e'_1,v'_2,e'_2,\\dots,e'_{l-1},v'_l)$ 不同当且仅当存在 $1\\leq i<l$ 满足 $e_i\\neq e'_i$ 或存在 $1\\leq i\\leq l$ 满足 $v_i\\neq v'_i$。\n\n一种颜色 $x$ 的长度为 $l$ 的链是一条长度为 $l$ 的链 $(v_1,e_1,v_2,e_2,\\dots,e_{l-1},v_l)$ 使得对于任意 $1\\leq i\\leq l$，$v_i$ 编号的彩灯发出颜色为 $x$。", "inputFormat": "第一行，五个非负整数 $id,n,k,l,M$，其中 $id$ 表示测试点编号（所有样例满足 $id=0$），$n$ 表示彩灯数量，$k$ 表示颜色数量，$l$ 表示链的长度，$M$ 的意义如后文所示。\n\n接下来 $M$ 行，第 $i$ 行三个正整数 $u_i,v_i,c_i$，表示有 $c_i$ 条 $u_i\\to v_i$ 的有向边。也就是说，第 $\\bigl(\\sum_{j=1}^{i-1}c_j\\bigr)+1$ 至第 $\\bigl(\\sum_{j=1}^ic_j\\bigr)$ 条有向边由 $u_i$ 连向 $v_i$。\n\n题面中 $m$ 满足 $m=\\sum_{i=1}^Mc_i$。保证：$(u,v)$ 互不相同，给定图为有向无环图，在将有向边看成无向边的情况下，彩灯是连通的。", "outputFormat": "仅一行，一个非负整数，表示所有 $k^n$ 种方案的美丽度之和，对 $998244353$ 取模。", "hint": "**【样例解释 #1】**\n\n共有 $2^3=8$ 种不同的彩灯显示颜色的方案，如下表所示（不妨假设颜色为黑和白）：\n\n| 编号 | $1$ 号彩灯颜色 | $2$ 号彩灯颜色 | $3$ 号彩灯颜色 | 美丽度 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | 黑 | 黑 | 黑 | $4$ |\n| $2$ | 黑 | 黑 | 白 | $0$ |\n| $3$ | 黑 | 白 | 黑 | $1$ |\n| $4$ | 黑 | 白 | 白 | $1$ |\n| $5$ | 白 | 黑 | 黑 | $1$ |\n| $6$ | 白 | 黑 | 白 | $1$ |\n| $7$ | 白 | 白 | 黑 | $0$ |\n| $8$ | 白 | 白 | 白 | $4$ |\n\n美丽度之和为 $4+0+1+1+1+1+0+4=12$。\n\n**【样例 #3】**\n\n见附件中的 `party/party3.in` 与 `party/party3.ans`。\n\n该组样例满足测试点 $1$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 `party/party4.in` 与 `party/party4.ans`。\n\n该组样例满足测试点 $2\\sim3$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 `party/party5.in` 与 `party/party5.ans`。\n\n该组样例满足测试点 $4\\sim5$ 的约束条件。\n\n**【样例 #6】**\n\n见附件中的 `party/party6.in` 与 `party/party6.ans`。\n\n该组样例满足测试点 $6\\sim9$ 的约束条件。\n\n**【样例 #7】**\n\n见附件中的 `party/party7.in` 与 `party/party7.ans`。\n\n该组样例满足测试点 $10\\sim12$ 的约束条件。\n\n**【样例 #8】**\n\n见附件中的 `party/party8.in` 与 `party/party8.ans`。\n\n该组样例满足测试点 $13\\sim15$ 的约束条件。\n\n**【样例 #9】**\n\n见附件中的 `party/party9.in` 与 `party/party9.ans`。\n\n该组样例满足测试点 $20\\sim21$ 的约束条件。\n\n**【数据范围】**\n\n记 $P=998244353$，对于所有测试数据，保证：$1\\leq n\\leq300$，$1\\leq M\\leq\\frac{n(n-1)}{2}$，$1\\leq k<P$，$1\\leq l\\leq 20$，$1\\leq c_i<P$，$(u_i,v_i)$ 互不相同，给定图为有向无环图，在将有向边看成无向边的情况下，彩灯是连通的。\n\n| 测试点编号 | $n\\leq$ | $k\\leq$ | $l\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $6$ | $6$ | $6$ | $m\\leq10$，$c_i=1$ |\n| $2\\sim3$ | $300$ | $P-1$ | $1$ | 无 |\n| $4\\sim5$ | $300$ | $P-1$ | $2$ | 无 |\n| $6\\sim9$ | $300$ | $P-1$ | $3$ | 无 |\n| $10\\sim12$ | $300$ | $P-1$ | $20$ | $M=n-1$ 且有且仅有一个点入度为 $0$ |\n| $13\\sim15$ | $30$ | $P-1$ | $10$ | 无 |\n| $16$ | $150$ | $P-1$ | $7$ | 无 |\n| $17$ | $150$ | $P-1$ | $10$ | 无 |\n| $18\\sim19$ | $150$ | $P-1$ | $13$ | 无 |\n| $20\\sim21$ | $300$ | $P-1$ | $9$ | 无 |\n| $22$ | $300$ | $P-1$ | $13$ | 无 |\n| $23$ | $300$ | $P-1$ | $16$ | 无 |\n| $24\\sim25$ | $300$ | $P-1$ | $20$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11293", "type": "P", "difficulty": 4, "samples": [["2 2\n8 1\n3 4", "15"], ["1 8\n-2 -1 8 -2 9 0 -2 1", "15"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2022", "前缀和", "NOISG（新加坡）"], "title": "[NOISG 2022 Qualification] L-Board", "background": "Lord Pooty 有一个 $n \\times m$ 的整数棋盘 $A$。他希望在棋盘上画一个 L 型区域，并且希望覆盖的数字总和最大。L 型区域可以旋转 $4$ 种方向，且每一边不一定完整（可以是一条直线）。", "description": "给定一个 $n \\times m$ 的棋盘 $A$，你需要选择棋盘上的三个点 $(x_1, y_1)$, $(x_2, y_1)$, $(x_1, y_2)$，使得以下公式的值 $V$ 最大化：\n\n$$\nV = \\sum_{i=\\min(x_1,x_2)}^{\\max(x_1,x_2)} A_{i,y_1} + \\sum_{j=\\min(y_1,y_2)}^{\\max(y_1,y_2)} A_{x_1,j} - A_{x_1,y_1}\n$$", "inputFormat": "- 第一行包含两个整数 $n$ 和 $m$，分别表示棋盘的行数和列数。\n- 接下来的 $n$ 行，每行包含 $m$ 个整数，表示棋盘的元素。\n", "outputFormat": "输出一个整数，即最大化的 $V$ 值。", "hint": "【样例解释】\n\n对于样例 $1$，选择点 $(1,1)$, $(2,1)$, $(1,2)$，覆盖的数字为 $8, 3, 4$，总和为 $15$。  \n\n对于样例 $2$，选择点 $(1,3)$, $(1,5)$, $(1,3)$，形成一条直线，覆盖的数字为 $8, -2, 9$，总和为 $15$。\n\n【数据范围】\n\n- $1 \\leq n, m \\leq 1000$\n- $-10^9 \\leq A_{i,j} \\leq 10^9$\n\n| 子任务编号 | 分值 | 额外限制条件             |\n| :--------: | :--: | :----------------------: |\n| $1$        | $5$  | $1 \\leq n, m \\leq 2$    |\n| $2$        | $10$ | $n = 1$                 |\n| $3$        | $15$ | $1 \\leq n, m \\leq 100$  |\n| $4$        | $15$ | $1 \\leq n, m \\leq 300$  |\n| $5$        | $25$ | $0 \\leq A_{i,j} \\leq 10^9$ |\n| $6$        | $30$ | 无额外限制               |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2022 Qualification] L-Board", "background": "Lord Pooty 有一个 $n \\times m$ 的整数棋盘 $A$。他希望在棋盘上画一个 L 型区域，并且希望覆盖的数字总和最大。L 型区域可以旋转 $4$ 种方向，且每一边不一定完整（可以是一条直线）。", "description": "给定一个 $n \\times m$ 的棋盘 $A$，你需要选择棋盘上的三个点 $(x_1, y_1)$, $(x_2, y_1)$, $(x_1, y_2)$，使得以下公式的值 $V$ 最大化：\n\n$$\nV = \\sum_{i=\\min(x_1,x_2)}^{\\max(x_1,x_2)} A_{i,y_1} + \\sum_{j=\\min(y_1,y_2)}^{\\max(y_1,y_2)} A_{x_1,j} - A_{x_1,y_1}\n$$", "inputFormat": "- 第一行包含两个整数 $n$ 和 $m$，分别表示棋盘的行数和列数。\n- 接下来的 $n$ 行，每行包含 $m$ 个整数，表示棋盘的元素。\n", "outputFormat": "输出一个整数，即最大化的 $V$ 值。", "hint": "【样例解释】\n\n对于样例 $1$，选择点 $(1,1)$, $(2,1)$, $(1,2)$，覆盖的数字为 $8, 3, 4$，总和为 $15$。  \n\n对于样例 $2$，选择点 $(1,3)$, $(1,5)$, $(1,3)$，形成一条直线，覆盖的数字为 $8, -2, 9$，总和为 $15$。\n\n【数据范围】\n\n- $1 \\leq n, m \\leq 1000$\n- $-10^9 \\leq A_{i,j} \\leq 10^9$\n\n| 子任务编号 | 分值 | 额外限制条件             |\n| :--------: | :--: | :----------------------: |\n| $1$        | $5$  | $1 \\leq n, m \\leq 2$    |\n| $2$        | $10$ | $n = 1$                 |\n| $3$        | $15$ | $1 \\leq n, m \\leq 100$  |\n| $4$        | $15$ | $1 \\leq n, m \\leq 300$  |\n| $5$        | $25$ | $0 \\leq A_{i,j} \\leq 10^9$ |\n| $6$        | $30$ | 无额外限制               |", "locale": "zh-CN"}}}
{"pid": "P11294", "type": "P", "difficulty": 5, "samples": [["4\n1 2\n1 3\n3 4", "3"], ["6\n1 2\n2 3\n2 5\n4 5\n5 6", "5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["树形数据结构", "2022", "深度优先搜索 DFS", "树形 DP", "NOISG（新加坡）"], "title": "[NOISG 2022 Qualification] Tree Cutting", "background": "一个国家有 $N$ 个城市，编号为 $1$ 到 $N$，以及 $N-1$ 条双向公路。通过这些公路，可以从任意一个城市到达另一个城市。\n\n城市 $x$ 和城市 $y$ 之间的距离定义为连接两城市所需经过的公路数。\n\n州长决定拆除一条公路，并新建另一条公路，使得任意两城市之间的最远距离最大化。", "description": "请计算新建公路后，任意两城市之间的最大距离。", "inputFormat": "- 第一行包含一个整数 $N$，表示城市的数量。\n- 接下来的 $N-1$ 行，每行包含两个整数 $u$ 和 $v$，表示城市 $u$ 和 $v$ 之间有一条双向公路。", "outputFormat": "输出一个整数，表示新建公路后任意两城市之间的最大距离。", "hint": "【样例解释】\n\n对于样例 $1$，最远距离无法增加，仍然为 $3$。  \n\n对于样例 $2$，可以拆除公路 $2-5$，新建公路 $3-4$，最远路径为 $1-2-3-4-5-6$，其长度为 $5$。\n\n【数据范围】\n\n- $2 \\leq N \\leq 300,000$\n- $1 \\leq u, v \\leq N$\n\n| 子任务编号 | 分值 | 额外限制条件                             |\n| :--------: | :--: | :--------------------------------------: |\n| $1$        | $5$  | $N \\leq 10$                              |\n| $2$        | $10$ | $N \\leq 100$                             |\n| $3$        | $15$ | $N \\leq 3000$                            |\n| $4$        | $15$ | $N \\leq 300,000$，至多一个城市连接至少 $3$ 条公路 |\n| $5$        | $55$ | 无额外限制                              |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2022 Qualification] Tree Cutting", "background": "一个国家有 $N$ 个城市，编号为 $1$ 到 $N$，以及 $N-1$ 条双向公路。通过这些公路，可以从任意一个城市到达另一个城市。\n\n城市 $x$ 和城市 $y$ 之间的距离定义为连接两城市所需经过的公路数。\n\n州长决定拆除一条公路，并新建另一条公路，使得任意两城市之间的最远距离最大化。", "description": "请计算新建公路后，任意两城市之间的最大距离。", "inputFormat": "- 第一行包含一个整数 $N$，表示城市的数量。\n- 接下来的 $N-1$ 行，每行包含两个整数 $u$ 和 $v$，表示城市 $u$ 和 $v$ 之间有一条双向公路。", "outputFormat": "输出一个整数，表示新建公路后任意两城市之间的最大距离。", "hint": "【样例解释】\n\n对于样例 $1$，最远距离无法增加，仍然为 $3$。  \n\n对于样例 $2$，可以拆除公路 $2-5$，新建公路 $3-4$，最远路径为 $1-2-3-4-5-6$，其长度为 $5$。\n\n【数据范围】\n\n- $2 \\leq N \\leq 300,000$\n- $1 \\leq u, v \\leq N$\n\n| 子任务编号 | 分值 | 额外限制条件                             |\n| :--------: | :--: | :--------------------------------------: |\n| $1$        | $5$  | $N \\leq 10$                              |\n| $2$        | $10$ | $N \\leq 100$                             |\n| $3$        | $15$ | $N \\leq 3000$                            |\n| $4$        | $15$ | $N \\leq 300,000$，至多一个城市连接至少 $3$ 条公路 |\n| $5$        | $55$ | 无额外限制                              |", "locale": "zh-CN"}}}
{"pid": "P11295", "type": "P", "difficulty": 6, "samples": [["5 6\n4 1 0 3 1\n1 3 2 2 1\n2 5 4 3 4 2\n5 2\n2 1\n1 4\n1 3", "2 1 2 1 1 0"], ["7 4\n0 2 4 4 0 1 3\n6 1 6 2 2 2 1\n7 5 2 4\n4 1\n4 5\n6 2\n1 6\n1 3\n6 7", "2 1 1 1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2022", "树链剖分", "整体二分", "NOISG（新加坡）"], "title": "[NOISG 2022 Qualification] Dragonfly", "background": "在植物园和碧山公园周围的池塘中，经常可以看到蜻蜓。在一个更密集的森林区域中，Benson 记录了 $n$ 个池塘，以及蜻蜓可以捕食的昆虫数量和种类。\n\n在池塘 $i$，共有 $b_i$ 只昆虫，这些昆虫属于种类 $s_i$。\n\n此外，还有 $n-1$ 条小径，每条小径连接两池塘 $u_j$ 和 $v_j$（双向）。并且满足蜻蜓从每一个池塘出发都能到达其它所有池塘。\n\nBenson 抓住了 $d$ 只蜻蜓，并计划依次释放到池塘 $1$。每只蜻蜓有一个目标池塘 $h_k \\neq 1$，会沿着最短路径飞到目标池塘，并在经过的每个池塘中捕食昆虫（包括池塘 $1$）。\n\n每次捕食会减少池塘中 $1$ 只昆虫（如果昆虫数量不为 $0$）。需要帮助 Benson 计算每只蜻蜓的飞行过程中捕食到的不同种类昆虫的数量。", "description": "请确定每只蜻蜓的飞行过程中捕食到的不同种类昆虫的数量。", "inputFormat": "- 第一行包含两个整数 $n$ 和 $d$，分别表示池塘数量和蜻蜓数量。\n- 第二行包含 $n$ 个整数 $b_1, b_2, \\dots, b_n$，表示每个池塘的昆虫数量。\n- 第三行包含 $n$ 个整数 $s_1, s_2, \\dots, s_n$，表示每个池塘昆虫的种类。\n- 第四行包含 $d$ 个整数 $h_1, h_2, \\dots, h_d$，表示每只蜻蜓的目标池塘。\n- 接下来 $n-1$ 行，每行包含两个整数 $u_j$ 和 $v_j$，表示一条连接池塘 $u_j$ 和 $v_j$ 的小径。", "outputFormat": "输出一行包含 $d$ 个整数，第 $k$ 个整数表示第 $k$ 只蜻蜓捕食到的不同种类昆虫数量。", "hint": "【样例解释】\n\n对于样例 $1$，第一只蜻蜓飞向池塘 $2$，捕食 $1$ 只种类 $1$ 的昆虫和 $1$ 只种类 $2$ 的昆虫。第二只蜻蜓飞向池塘 $5$，捕食种类 $1$ 的昆虫，总共捕食 $1$ 个种类。  \n\n对于样例 $2$，每只蜻蜓飞行后捕食到的不同种类分别是 $2, 1, 1, 1$。\n\n【数据范围】\n\n- $2 \\leq n \\leq 2 \\times 10^5$\n- $1 \\leq d \\leq 2 \\times 10^6$\n- $1 \\leq s_i \\leq n$，$0 \\leq b_i \\leq d$，$1 \\leq u_j, v_j < n$\n\n| 子任务编号 | 分值 | 额外限制条件                              |\n| :--------: | :--: | :---------------------------------------: |\n| $1$        | $10$ | $n, d \\leq 1000$                          |\n| $2$        | $10$ | $b_i = d$                                 |\n| $3$        | $12$ | $b_i \\leq 10$                             |\n| $4$        | $12$ | $u_j = j$, $v_j = j + 1$                  |\n| $5$        | $37$ | $s_i = i$                                 |\n| $6$        | $16$ | $d \\leq 2 \\times 10^5$                    |\n| $7$        |  $3$ | 无额外限制                                |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2022 Qualification] Dragonfly", "background": "在植物园和碧山公园周围的池塘中，经常可以看到蜻蜓。在一个更密集的森林区域中，Benson 记录了 $n$ 个池塘，以及蜻蜓可以捕食的昆虫数量和种类。\n\n在池塘 $i$，共有 $b_i$ 只昆虫，这些昆虫属于种类 $s_i$。\n\n此外，还有 $n-1$ 条小径，每条小径连接两池塘 $u_j$ 和 $v_j$（双向）。并且满足蜻蜓从每一个池塘出发都能到达其它所有池塘。\n\nBenson 抓住了 $d$ 只蜻蜓，并计划依次释放到池塘 $1$。每只蜻蜓有一个目标池塘 $h_k \\neq 1$，会沿着最短路径飞到目标池塘，并在经过的每个池塘中捕食昆虫（包括池塘 $1$）。\n\n每次捕食会减少池塘中 $1$ 只昆虫（如果昆虫数量不为 $0$）。需要帮助 Benson 计算每只蜻蜓的飞行过程中捕食到的不同种类昆虫的数量。", "description": "请确定每只蜻蜓的飞行过程中捕食到的不同种类昆虫的数量。", "inputFormat": "- 第一行包含两个整数 $n$ 和 $d$，分别表示池塘数量和蜻蜓数量。\n- 第二行包含 $n$ 个整数 $b_1, b_2, \\dots, b_n$，表示每个池塘的昆虫数量。\n- 第三行包含 $n$ 个整数 $s_1, s_2, \\dots, s_n$，表示每个池塘昆虫的种类。\n- 第四行包含 $d$ 个整数 $h_1, h_2, \\dots, h_d$，表示每只蜻蜓的目标池塘。\n- 接下来 $n-1$ 行，每行包含两个整数 $u_j$ 和 $v_j$，表示一条连接池塘 $u_j$ 和 $v_j$ 的小径。", "outputFormat": "输出一行包含 $d$ 个整数，第 $k$ 个整数表示第 $k$ 只蜻蜓捕食到的不同种类昆虫数量。", "hint": "【样例解释】\n\n对于样例 $1$，第一只蜻蜓飞向池塘 $2$，捕食 $1$ 只种类 $1$ 的昆虫和 $1$ 只种类 $2$ 的昆虫。第二只蜻蜓飞向池塘 $5$，捕食种类 $1$ 的昆虫，总共捕食 $1$ 个种类。  \n\n对于样例 $2$，每只蜻蜓飞行后捕食到的不同种类分别是 $2, 1, 1, 1$。\n\n【数据范围】\n\n- $2 \\leq n \\leq 2 \\times 10^5$\n- $1 \\leq d \\leq 2 \\times 10^6$\n- $1 \\leq s_i \\leq n$，$0 \\leq b_i \\leq d$，$1 \\leq u_j, v_j < n$\n\n| 子任务编号 | 分值 | 额外限制条件                              |\n| :--------: | :--: | :---------------------------------------: |\n| $1$        | $10$ | $n, d \\leq 1000$                          |\n| $2$        | $10$ | $b_i = d$                                 |\n| $3$        | $12$ | $b_i \\leq 10$                             |\n| $4$        | $12$ | $u_j = j$, $v_j = j + 1$                  |\n| $5$        | $37$ | $s_i = i$                                 |\n| $6$        | $16$ | $d \\leq 2 \\times 10^5$                    |\n| $7$        |  $3$ | 无额外限制                                |", "locale": "zh-CN"}}}
{"pid": "P11296", "type": "P", "difficulty": 4, "samples": [["3 1\n1", "2 0"], ["5 1\n-1", "-1 -1"], ["5 2\n4 -2", "1 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "2018", "NOISG（新加坡）"], "title": "[NOISG 2018 Prelim] Snail", "background": "翻译自 [NOISG 2018 Prelim A. Snail](https://github.com/noisg/sg_noi_archive/tree/master/2018_prelim)。", "description": "有一只蜗牛被困在了高度为 $H$ 的井中。\n\n这只蜗牛正在不停的尝试爬出这口井。具体来说，这只蜗牛会在一天中经历 $N$ 个阶段，阶段 $i$ 会向井口爬 $P_i$ 米（**可能为负**）。当蜗牛的高度**大于等于**井口的高度时，这只蜗牛就离开了井。当蜗牛的高度小于 $0$ 时，高度视为 $0$。\n\n现要求你求出蜗牛最早什么时候离开井或报告无解。\n\n**注意，天数和阶段都以 $0$ 开头，也就是说第一阶段实际上是第 $0$ 阶段。此外，你可能需要使用 `long long` 来存放输入的数字。**", "inputFormat": "第一行两个整数 $H,N$。\n接下来的一行，$N$ 个整数，第 $i$ 个整数表示 $P_i$。", "outputFormat": "一行两个整数 $D,P$，表示蜗牛会在第 $D$ 天的第 $P$ 阶段离开井。若永远无法离开，输出 `-1 -1`。", "hint": "### 【样例 #1 解释】\n第 $0$ 天的第 $0$ 阶段，爬行 $1$ 米，共爬行 $1$ 米。\n\n第 $1$ 天的第 $0$ 阶段，爬行 $1$ 米，共爬行 $2$ 米。\n\n第 $2$ 天的第 $0$ 阶段，爬行 $1$ 米，共爬行 $3$ 米，离开井。\n\n### 【样例 #2 解释】\n显然，蜗牛永远无法离开。\n\n### 【数据范围】\n| Subtask | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 |\n| $1$ | $11$ | $N=1$ |\n| $2$ | $9$ | 所有的 $P_i$ 相同 |\n| $3$ | $25$ | $H\\times N \\leq 10^4$ |\n| $4$ | $17$ | $P_i\\geq0$ |\n| $5$ | $38$ | 无 |\n\n对于 $100\\%$ 的数据：$1 \\leq H \\leq 10^{12},-10^{12}\\leq P_i\\leq 10^{12},1\\leq N \\leq 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2018 Prelim] Snail", "background": "翻译自 [NOISG 2018 Prelim A. Snail](https://github.com/noisg/sg_noi_archive/tree/master/2018_prelim)。", "description": "有一只蜗牛被困在了高度为 $H$ 的井中。\n\n这只蜗牛正在不停的尝试爬出这口井。具体来说，这只蜗牛会在一天中经历 $N$ 个阶段，阶段 $i$ 会向井口爬 $P_i$ 米（**可能为负**）。当蜗牛的高度**大于等于**井口的高度时，这只蜗牛就离开了井。当蜗牛的高度小于 $0$ 时，高度视为 $0$。\n\n现要求你求出蜗牛最早什么时候离开井或报告无解。\n\n**注意，天数和阶段都以 $0$ 开头，也就是说第一阶段实际上是第 $0$ 阶段。此外，你可能需要使用 `long long` 来存放输入的数字。**", "inputFormat": "第一行两个整数 $H,N$。\n接下来的一行，$N$ 个整数，第 $i$ 个整数表示 $P_i$。", "outputFormat": "一行两个整数 $D,P$，表示蜗牛会在第 $D$ 天的第 $P$ 阶段离开井。若永远无法离开，输出 `-1 -1`。", "hint": "### 【样例 #1 解释】\n第 $0$ 天的第 $0$ 阶段，爬行 $1$ 米，共爬行 $1$ 米。\n\n第 $1$ 天的第 $0$ 阶段，爬行 $1$ 米，共爬行 $2$ 米。\n\n第 $2$ 天的第 $0$ 阶段，爬行 $1$ 米，共爬行 $3$ 米，离开井。\n\n### 【样例 #2 解释】\n显然，蜗牛永远无法离开。\n\n### 【数据范围】\n| Subtask | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 |\n| $1$ | $11$ | $N=1$ |\n| $2$ | $9$ | 所有的 $P_i$ 相同 |\n| $3$ | $25$ | $H\\times N \\leq 10^4$ |\n| $4$ | $17$ | $P_i\\geq0$ |\n| $5$ | $38$ | 无 |\n\n对于 $100\\%$ 的数据：$1 \\leq H \\leq 10^{12},-10^{12}\\leq P_i\\leq 10^{12},1\\leq N \\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P11297", "type": "P", "difficulty": 4, "samples": [["15 5 \n4 12 1 \n2 1 1 \n10 4 1 \n1 1 1 \n2 2 1", "15"], ["20 3 \n5000 15 1 \n100 1 3 \n50 1 4", "5400"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "NOISG（新加坡）"], "title": "[NOISG 2018 Prelim] Knapsack", "background": "翻译自 [NOISG 2018 Prelim B. Knapsack](https://github.com/noisg/sg_noi_archive/tree/master/2018_prelim)。", "description": "你获得了超市的“免费购物”优惠，规则如下：\n- 你有一个容量为 $S$ 的购物篮。超市里共有 $n$ 样东西。第 $i$ 样东西的重量 $w_i$，价值为 $v_i$，这样东西共有 $k_i$ 个。\n- 你可以向你的购物篮塞入你想买的东西，前提是**这些东西的重量总和不超过购物篮的容量**。\n\n现在，你只想知道，在满足规则的情况下，你最多能带多少价值的东西回去？\n\n**请不要低估本题目的难度，如果你看到这就想写，请查看【数据范围】一栏**。", "inputFormat": "第一行两个正整数 $S,n$。\n\n接下来 $n$ 行，每行三个正整数 $v_i,w_i,k_i$。", "outputFormat": "一行一个正整数，代表你最多能带多少价值的东西回去。", "hint": "### 【样例 #1 解释】\n拿第 $2,3,4,5$ 种东西，每种东西拿一个。\n\n此时价值为 $15$，重量为 $8$。\n\n### 【样例 #2 解释】\n拿完第 $1,2$ 种东西后拿两个第 $3$ 种东西。\n\n此时价值为 $5400$，重量为 $20$。\n\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | $n\\leq$ | $k\\leq$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 | 样例 |\n| $1$ | $12$ | $1$ | - |\n| $2$ | $17$ | $100$ | $1$ |\n| $3$ | $20$ | $100$ | $10$ |\n| $4$ | $24$ | $100$ | $10^9$ |\n| $5$ | $27$ | $10^5$ | $10^9$ |\n| $6$（hack） | $0$ | $10^5$ | $10^9$ |\n\n对于 $100\\%$ 的数据：\n- $1 \\leq w_i \\leq S \\leq 2000$\n- $1 \\leq n \\leq 10^5$\n- $1 \\leq v_i \\leq 10^6$\n- $1 \\leq k_i \\leq 10^9$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2018 Prelim] Knapsack", "background": "翻译自 [NOISG 2018 Prelim B. Knapsack](https://github.com/noisg/sg_noi_archive/tree/master/2018_prelim)。", "description": "你获得了超市的“免费购物”优惠，规则如下：\n- 你有一个容量为 $S$ 的购物篮。超市里共有 $n$ 样东西。第 $i$ 样东西的重量 $w_i$，价值为 $v_i$，这样东西共有 $k_i$ 个。\n- 你可以向你的购物篮塞入你想买的东西，前提是**这些东西的重量总和不超过购物篮的容量**。\n\n现在，你只想知道，在满足规则的情况下，你最多能带多少价值的东西回去？\n\n**请不要低估本题目的难度，如果你看到这就想写，请查看【数据范围】一栏**。", "inputFormat": "第一行两个正整数 $S,n$。\n\n接下来 $n$ 行，每行三个正整数 $v_i,w_i,k_i$。", "outputFormat": "一行一个正整数，代表你最多能带多少价值的东西回去。", "hint": "### 【样例 #1 解释】\n拿第 $2,3,4,5$ 种东西，每种东西拿一个。\n\n此时价值为 $15$，重量为 $8$。\n\n### 【样例 #2 解释】\n拿完第 $1,2$ 种东西后拿两个第 $3$ 种东西。\n\n此时价值为 $5400$，重量为 $20$。\n\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | $n\\leq$ | $k\\leq$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 | 样例 |\n| $1$ | $12$ | $1$ | - |\n| $2$ | $17$ | $100$ | $1$ |\n| $3$ | $20$ | $100$ | $10$ |\n| $4$ | $24$ | $100$ | $10^9$ |\n| $5$ | $27$ | $10^5$ | $10^9$ |\n| $6$（hack） | $0$ | $10^5$ | $10^9$ |\n\n对于 $100\\%$ 的数据：\n- $1 \\leq w_i \\leq S \\leq 2000$\n- $1 \\leq n \\leq 10^5$\n- $1 \\leq v_i \\leq 10^6$\n- $1 \\leq k_i \\leq 10^9$", "locale": "zh-CN"}}}
{"pid": "P11298", "type": "P", "difficulty": 3, "samples": [["5 2\n1 7\n3 7\n6 2\n7 4\n6 7\n5 6", "3 1\n4 1"], ["5 1\n6 1\n6 2\n6 3\n6 4\n6 5", "3 1\n2 3"], ["6 3\n7 1\n7 2\n8 3\n8 4\n9 5\n9 6\n7 8\n9 8", "24 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "图论", "2018", "Special Judge", "NOISG（新加坡）"], "title": "[NOISG 2018 Prelim]  Island", "background": "翻译自 [NOISG 2018 Prelim C. Island](https://github.com/noisg/sg_noi_archive/tree/master/2018_prelim)。\n\n**本题已启用 Special Judge，满足题目条件的任何答案都将视为正确。保证 SPJ 用时不超过 $1$ 秒**。", "description": "老鼠吱吱发现了一座小岛，这座小岛上的人以捕鱼为生，所以他们的 $n$ 所房子（标号为 $1$ 到 $n$）都在小岛的**边缘**，大家还需要交换各自的鱼，所以有些路在小岛的中间。\n\n为了连接城镇，在岛的内部创建了 $m$ 个路口（标号为 $n+1$ 到 $n+m$）。为了最大限度地降低建设成本，这个岛上**只有 $n+m−1$ 条路**，这样任何两个城镇之间就有且仅有一条路。\n\n换言之，道路网络可以**表示为一棵树**，有 $n$ 个叶子（代表 $n$  所房子）和 $m$ 个非叶子节点（代表 $m$ 个路口）。根据树的性质，这棵树有 $n+m−1$条边（代表 $n+m-1$ 条路）。\n\n此外，**每个路口至少有三条路与之相连**，除了路口外，路不会与其他路相交，也没有桥梁或隧道（它们很贵）。以下是一个有 $37$ 所房子、$20$ 个路口和 $56$ 条道路的岛的参考图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h32hwja1.png)\n\n老鼠吱吱很喜欢这座小岛，但是因为某种原因，它的地图被吹走了。但是吱吱想规划它的行程，所以他想知道小岛房子的位置。\n\n幸运的是，它记录了**每一条道路的起点和终点**的观察记录本还在，现在请你推出，共有几种不同的情况使得小岛房子的位置不同。\n\n**注意小岛是环形的，经过旋转完全一样的顺序视为同一种顺序**。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n+m-1$ 行，每行两个整数 $u,v$，表示这条道路的起点与终点。如 $u \\leq n$，则起点是一所房子，否则是一个路口。对 $v$ 同理。", "outputFormat": "若干行，第 $i$ 行两个整数 $a_i,b_i$。\n\n假设你的答案由 $k$ 行构成。你的输出表示 答案 $P=a_1^{b_1}a_2^{b_2}\\cdots a_k^{b_k}$（也可记作 $\\prod_{j=1}^ka_j^{b_j}$）。\n\n你的输出应满足以下要求：\n- $0\\leq k\\leq 10^6$\n- $1\\leq a_i,b_i\\leq 10^{18}$\n\n**如果无解，请什么都不要输出**。", "hint": "### 【样例 #1 解释】\n有 $12$ 种合法的排列，如下图。\n\n使用其他的方式（如 $4^1\\times3^1$）也是可以的。\n\n所有排列如下：\n![](https://cdn.luogu.com.cn/upload/image_hosting/847a8hm5.png)\n### 【样例 #2 解释】\n有 $24$ 种合法的排列，其中一种如下：\n![](https://cdn.luogu.com.cn/upload/image_hosting/xrc1rdel.png)\n\n算出答案是 $5!=120$ 的很有可能是因为没有考虑旋转后一样的视为同一种方案的问题。\n### 【样例 #3 解释】\n有 $24$ 种合法的排列，其中一种如下：\n![](https://cdn.luogu.com.cn/upload/image_hosting/d7xgyycj.png)\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 |\n| $1$ | $7$ | $n+m\\leq 2\\times 10^5,m\\leq1$ |\n| $2$ | $20$ | $n+m\\leq 2\\times 10^5,m\\leq10$ |\n| $3$ | $31$ | $n+m\\leq 10^3$ |\n| $4$ | $42$ | $n+m\\leq 2\\times 10^5$ |\n\n对于 $100\\%$ 的数据：\n- $2 \\leq n,0\\leq m$\n- $n+m \\leq 2\\times10^5$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2018 Prelim]  Island", "background": "翻译自 [NOISG 2018 Prelim C. Island](https://github.com/noisg/sg_noi_archive/tree/master/2018_prelim)。\n\n**本题已启用 Special Judge，满足题目条件的任何答案都将视为正确。保证 SPJ 用时不超过 $1$ 秒**。", "description": "老鼠吱吱发现了一座小岛，这座小岛上的人以捕鱼为生，所以他们的 $n$ 所房子（标号为 $1$ 到 $n$）都在小岛的**边缘**，大家还需要交换各自的鱼，所以有些路在小岛的中间。\n\n为了连接城镇，在岛的内部创建了 $m$ 个路口（标号为 $n+1$ 到 $n+m$）。为了最大限度地降低建设成本，这个岛上**只有 $n+m−1$ 条路**，这样任何两个城镇之间就有且仅有一条路。\n\n换言之，道路网络可以**表示为一棵树**，有 $n$ 个叶子（代表 $n$  所房子）和 $m$ 个非叶子节点（代表 $m$ 个路口）。根据树的性质，这棵树有 $n+m−1$条边（代表 $n+m-1$ 条路）。\n\n此外，**每个路口至少有三条路与之相连**，除了路口外，路不会与其他路相交，也没有桥梁或隧道（它们很贵）。以下是一个有 $37$ 所房子、$20$ 个路口和 $56$ 条道路的岛的参考图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h32hwja1.png)\n\n老鼠吱吱很喜欢这座小岛，但是因为某种原因，它的地图被吹走了。但是吱吱想规划它的行程，所以他想知道小岛房子的位置。\n\n幸运的是，它记录了**每一条道路的起点和终点**的观察记录本还在，现在请你推出，共有几种不同的情况使得小岛房子的位置不同。\n\n**注意小岛是环形的，经过旋转完全一样的顺序视为同一种顺序**。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n+m-1$ 行，每行两个整数 $u,v$，表示这条道路的起点与终点。如 $u \\leq n$，则起点是一所房子，否则是一个路口。对 $v$ 同理。", "outputFormat": "若干行，第 $i$ 行两个整数 $a_i,b_i$。\n\n假设你的答案由 $k$ 行构成。你的输出表示 答案 $P=a_1^{b_1}a_2^{b_2}\\cdots a_k^{b_k}$（也可记作 $\\prod_{j=1}^ka_j^{b_j}$）。\n\n你的输出应满足以下要求：\n- $0\\leq k\\leq 10^6$\n- $1\\leq a_i,b_i\\leq 10^{18}$\n\n**如果无解，请什么都不要输出**。", "hint": "### 【样例 #1 解释】\n有 $12$ 种合法的排列，如下图。\n\n使用其他的方式（如 $4^1\\times3^1$）也是可以的。\n\n所有排列如下：\n![](https://cdn.luogu.com.cn/upload/image_hosting/847a8hm5.png)\n### 【样例 #2 解释】\n有 $24$ 种合法的排列，其中一种如下：\n![](https://cdn.luogu.com.cn/upload/image_hosting/xrc1rdel.png)\n\n算出答案是 $5!=120$ 的很有可能是因为没有考虑旋转后一样的视为同一种方案的问题。\n### 【样例 #3 解释】\n有 $24$ 种合法的排列，其中一种如下：\n![](https://cdn.luogu.com.cn/upload/image_hosting/d7xgyycj.png)\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 |\n| $1$ | $7$ | $n+m\\leq 2\\times 10^5,m\\leq1$ |\n| $2$ | $20$ | $n+m\\leq 2\\times 10^5,m\\leq10$ |\n| $3$ | $31$ | $n+m\\leq 10^3$ |\n| $4$ | $42$ | $n+m\\leq 2\\times 10^5$ |\n\n对于 $100\\%$ 的数据：\n- $2 \\leq n,0\\leq m$\n- $n+m \\leq 2\\times10^5$", "locale": "zh-CN"}}}
{"pid": "P11299", "type": "P", "difficulty": 3, "samples": [["2\n1 2\n2 1", "YES"], ["3\n2 4 3\n4 2 3", "NO"], ["2\n5 1\n0 0", "YES"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "分类讨论", "NOISG（新加坡）"], "title": "[NOISG 2021 Finals] Fraud", "background": "你被任命为第 $24$ 届全国信息学奥林匹克竞赛的负责人！", "description": "本次竞赛共有 $N$ 名参赛者和 $2$ 轮比赛。第 $i$ 名参赛者在第一轮获得了 $A_i$ 分，在第二轮获得了 $B_i$ 分。\n\n每轮比赛分别有一个正整数权重 $X$ 和 $Y$。第 $i$ 名参赛者的最终得分 $S_i$ 计算公式为：\n\n$$\nS_i = A_i \\times X + B_i \\times Y\n$$\n\n作为竞赛负责人，你可以自由选择 $X$ 和 $Y$ 的值。\n\n然而，老鼠 Squeaky 贿赂了你，要求你选择某些 $X$ 和 $Y$，使得 $S_i > S_j$ 对所有 $1 \\leq i < j \\leq N$ 都成立。如果能做到，他会重金酬谢。\n\n但是，这是否可能呢？", "inputFormat": "- 第一行包含一个整数 $N$，表示参赛者的数量。\n- 第二行包含 $N$ 个整数 $A_1, A_2, \\dots, A_N$，表示第一轮的得分。\n- 第三行包含 $N$ 个整数 $B_1, B_2, \\dots, B_N$，表示第二轮的得分。", "outputFormat": "输出一行：如果可以实现目标，输出 `YES`；否则输出 `NO`。", "hint": "【样例解释】\n\n- 对于样例 $1$，选择 $X = 1$ 和 $Y = 2$，此时 $S_1 = 1 \\times 1 + 2 \\times 2 = 5$，$S_2 = 2 \\times 1 + 1 \\times 2 = 4$，满足条件。\n- 对于样例 $2$，无论如何选择 $X$ 和 $Y$，都无法满足条件。\n- 对于样例 $3$，选择任意非零 $X$ 均满足条件，因为 $S_1 > S_2$。\n\n【数据范围】\n\n- $2 \\leq N \\leq 3 \\times 10^5$\n- $0 \\leq A_i, B_i \\leq 10^6$\n\n| 子任务编号 | 分值 | 额外限制条件      |\n| :--------: | :--: | :---------------: |\n| $1$        | $10$ | $B_i = 0$         |\n| $2$        | $25$ | $N = 2$           |\n| $3$        | $50$ | $2 \\leq N \\leq 10^4$ |\n| $4$        | $15$ | 无额外限制        |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2021 Finals] Fraud", "background": "你被任命为第 $24$ 届全国信息学奥林匹克竞赛的负责人！", "description": "本次竞赛共有 $N$ 名参赛者和 $2$ 轮比赛。第 $i$ 名参赛者在第一轮获得了 $A_i$ 分，在第二轮获得了 $B_i$ 分。\n\n每轮比赛分别有一个正整数权重 $X$ 和 $Y$。第 $i$ 名参赛者的最终得分 $S_i$ 计算公式为：\n\n$$\nS_i = A_i \\times X + B_i \\times Y\n$$\n\n作为竞赛负责人，你可以自由选择 $X$ 和 $Y$ 的值。\n\n然而，老鼠 Squeaky 贿赂了你，要求你选择某些 $X$ 和 $Y$，使得 $S_i > S_j$ 对所有 $1 \\leq i < j \\leq N$ 都成立。如果能做到，他会重金酬谢。\n\n但是，这是否可能呢？", "inputFormat": "- 第一行包含一个整数 $N$，表示参赛者的数量。\n- 第二行包含 $N$ 个整数 $A_1, A_2, \\dots, A_N$，表示第一轮的得分。\n- 第三行包含 $N$ 个整数 $B_1, B_2, \\dots, B_N$，表示第二轮的得分。", "outputFormat": "输出一行：如果可以实现目标，输出 `YES`；否则输出 `NO`。", "hint": "【样例解释】\n\n- 对于样例 $1$，选择 $X = 1$ 和 $Y = 2$，此时 $S_1 = 1 \\times 1 + 2 \\times 2 = 5$，$S_2 = 2 \\times 1 + 1 \\times 2 = 4$，满足条件。\n- 对于样例 $2$，无论如何选择 $X$ 和 $Y$，都无法满足条件。\n- 对于样例 $3$，选择任意非零 $X$ 均满足条件，因为 $S_1 > S_2$。\n\n【数据范围】\n\n- $2 \\leq N \\leq 3 \\times 10^5$\n- $0 \\leq A_i, B_i \\leq 10^6$\n\n| 子任务编号 | 分值 | 额外限制条件      |\n| :--------: | :--: | :---------------: |\n| $1$        | $10$ | $B_i = 0$         |\n| $2$        | $25$ | $N = 2$           |\n| $3$        | $50$ | $2 \\leq N \\leq 10^4$ |\n| $4$        | $15$ | 无额外限制        |", "locale": "zh-CN"}}}
{"pid": "P11300", "type": "P", "difficulty": 0, "samples": [["7 4 2\n0 0 1 1 2 2", "无"]], "limits": {"time": [12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "交互题", "Special Judge", "NOISG（新加坡）"], "title": "[NOISG 2021 Finals] Archaeologist", "background": "### 滥用本题评测将被封号。\n\n一组考古学家正在探索一个由房间和双向通道组成的遗迹。遗迹中的房间编号为 $0$ 到 $N-1$，且满足以下条件：\n\n1. 遗迹中不存在环。\n2. 所有房间均可从入口房间（编号为 $0$）到达。\n\n考古学家无法回头（即不能沿已走过的通道返回），也无法得知其他考古学家的数量或位置。然而，他们可以通过调整房间的光照等级来标记房间的状态。每个房间的光照等级初始为 $0$，可以被设置为 $0$ 到 $L$ 之间的任意值。\n\n任务是设计一种策略，使得所有房间均能被 $K$ 名考古学家探索到。", "description": "为了完成本题，你需要在程序开头定义函数 `void set_light(int level)`，你无需引入其他头文件。\n\n实现以下函数：\n\n```cpp\nvoid archaeologist(int N, int K, int L, vector<int> map, int lightlevel, vector<int> paths)\n```\n\n- `N`：房间总数。\n- `K`：考古学家总数。\n- `L`：光照等级的最大值。\n- `map`：长度为 $N$ 的数组，其中 `map[0]` $= -1$，对于 $i \\geq 1$，`map[i]` 表示房间 $i$ 直接连接的父房间编号。\n- `lightlevel`：当前房间的光照等级。\n- `paths`：当前房间中其他通道终点的光照等级列表（顺序随机，不包括返回的通道）。\n\n### 函数行为\n\n1. 每次调用 `archaeologist` 表示一位考古学家从房间 $0$ 出发，依次探索多个房间，直到到达目标房间。\n2. 考古学家可以调用以下辅助函数完成任务：\n   - `void set_light(int level)`：\n     - 设置当前房间的光照等级。\n     - 参数 `level` 为新的光照等级，需满足 $0 \\leq$ `level` $\\leq L$。\n   - `(int, int[]) take_path(int corridor)`：\n     - 选择通道进入相邻房间。\n     - 参数 `corridor` 表示通道索引。\n     - 返回值包含两个数据：\n       1. 新房间的编号。\n       2. 新房间中其他通道终点的光照等级列表（顺序随机，不包括返回的通道）。\n\n### 注意事项\n\n1. 每次调用 `archaeologist` 仅代表一位考古学家的行为，不能共享全局变量。\n2. 程序不能通过调用 `exit()` 提前终止。", "inputFormat": "- 第一行包含三个整数 $N, K, L$。\n- 第二行包含 $N-1$ 个整数，表示 `map[i]` 的值（$i \\geq 1$）。", "outputFormat": "程序通过调用辅助函数完成所有探索任务，无需额外输出。", "hint": "【数据范围】\n\n- $1 \\leq N \\leq 1000$\n- $K$ 等于无其他出口的房间数量（死胡同房间）。\n- $L$ 大于等于房间 $0$ 到最远房间的通道数。\n\n| 子任务编号 | 分值 | 限制条件                          |\n| :--------: | :--: | :------------------------------: |\n| $1$          | $6$    | $L = 1$，且 `map[i]` $= 0$ 对所有 $1 \\leq i < N$ 成立 |\n| $2$          | $14$   | $L = N$                          |\n| $3$          | $15$   | `map` 为完全二叉树 |\n| $4$          | $18$   | `map` 除 $-1$ 外所有元素都至少出现了两次        |\n| $5$          | $47$   | 无额外限制                       |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2021 Finals] Archaeologist", "background": "### 滥用本题评测将被封号。\n\n一组考古学家正在探索一个由房间和双向通道组成的遗迹。遗迹中的房间编号为 $0$ 到 $N-1$，且满足以下条件：\n\n1. 遗迹中不存在环。\n2. 所有房间均可从入口房间（编号为 $0$）到达。\n\n考古学家无法回头（即不能沿已走过的通道返回），也无法得知其他考古学家的数量或位置。然而，他们可以通过调整房间的光照等级来标记房间的状态。每个房间的光照等级初始为 $0$，可以被设置为 $0$ 到 $L$ 之间的任意值。\n\n任务是设计一种策略，使得所有房间均能被 $K$ 名考古学家探索到。", "description": "为了完成本题，你需要在程序开头定义函数 `void set_light(int level)`，你无需引入其他头文件。\n\n实现以下函数：\n\n```cpp\nvoid archaeologist(int N, int K, int L, vector<int> map, int lightlevel, vector<int> paths)\n```\n\n- `N`：房间总数。\n- `K`：考古学家总数。\n- `L`：光照等级的最大值。\n- `map`：长度为 $N$ 的数组，其中 `map[0]` $= -1$，对于 $i \\geq 1$，`map[i]` 表示房间 $i$ 直接连接的父房间编号。\n- `lightlevel`：当前房间的光照等级。\n- `paths`：当前房间中其他通道终点的光照等级列表（顺序随机，不包括返回的通道）。\n\n### 函数行为\n\n1. 每次调用 `archaeologist` 表示一位考古学家从房间 $0$ 出发，依次探索多个房间，直到到达目标房间。\n2. 考古学家可以调用以下辅助函数完成任务：\n   - `void set_light(int level)`：\n     - 设置当前房间的光照等级。\n     - 参数 `level` 为新的光照等级，需满足 $0 \\leq$ `level` $\\leq L$。\n   - `(int, int[]) take_path(int corridor)`：\n     - 选择通道进入相邻房间。\n     - 参数 `corridor` 表示通道索引。\n     - 返回值包含两个数据：\n       1. 新房间的编号。\n       2. 新房间中其他通道终点的光照等级列表（顺序随机，不包括返回的通道）。\n\n### 注意事项\n\n1. 每次调用 `archaeologist` 仅代表一位考古学家的行为，不能共享全局变量。\n2. 程序不能通过调用 `exit()` 提前终止。", "inputFormat": "- 第一行包含三个整数 $N, K, L$。\n- 第二行包含 $N-1$ 个整数，表示 `map[i]` 的值（$i \\geq 1$）。", "outputFormat": "程序通过调用辅助函数完成所有探索任务，无需额外输出。", "hint": "【数据范围】\n\n- $1 \\leq N \\leq 1000$\n- $K$ 等于无其他出口的房间数量（死胡同房间）。\n- $L$ 大于等于房间 $0$ 到最远房间的通道数。\n\n| 子任务编号 | 分值 | 限制条件                          |\n| :--------: | :--: | :------------------------------: |\n| $1$          | $6$    | $L = 1$，且 `map[i]` $= 0$ 对所有 $1 \\leq i < N$ 成立 |\n| $2$          | $14$   | $L = N$                          |\n| $3$          | $15$   | `map` 为完全二叉树 |\n| $4$          | $18$   | `map` 除 $-1$ 外所有元素都至少出现了两次        |\n| $5$          | $47$   | 无额外限制                       |", "locale": "zh-CN"}}}
{"pid": "P11301", "type": "P", "difficulty": 0, "samples": [["3 4\n1 2 0\n2 1 2", "4"], ["7 1\n1 0 1 0 1 1 1\n0 0 1 1 0 1 0", "3"], ["7 9\n1 5 3 4 8 3 2\n7 4 8 3 2 3 1", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "NOISG（新加坡）"], "title": "[NOISG 2021 Finals] Password", "background": "神秘的怪盗鲁邦四世（通常称为鲁邦）接下了一项艰巨任务——闯入世界上最大、最宏伟、最先进的城堡：“卡利奥斯特罗城堡”的金库。尽管城堡有最顶尖的安保系统，鲁邦依然无所畏惧。他成功绕过了守卫和监控，破解了许多陷阱和谜题，最终抵达金库。\n\n然而，金库的最后一道防线是一个电子密码系统。密码系统需要输入正确的密码才能打开金库。屏幕上最初显示了 $N$ 个非负整数，编号为 $A_i$。密码由 $N$ 个数字 $P_i$ 组成，且所有数字范围均为 $0$ 到 $K$。通过鲁邦的天才智慧，他推导出了密码的值。", "description": "输入密码的过程很复杂：当前显示的数字 $C_i$ 需要通过特定的操作变为密码数字 $P_i$ 才能打开金库。\n\n操作规则如下：\n- 选择两个整数 $i, j$，其中 $1 \\leq i \\leq j \\leq N$。\n- 对所有满足 $i \\leq l \\leq j$ 的数字 $C_l$，将其更改为 $C_l + 1 \\mod (K + 1)$。\n\n鲁邦希望用最少的操作次数将屏幕上的数字转变为密码。", "inputFormat": "- 第一行包含两个整数 $N$ 和 $K$。\n- 第二行包含 $N$ 个整数 $A_1, A_2, \\dots, A_N$，表示初始显示的数字。\n- 第三行包含 $N$ 个整数 $P_1, P_2, \\dots, P_N$，表示密码。", "outputFormat": "输出一个整数，表示将屏幕上的数字变为密码所需的最小操作次数。", "hint": "【样例解释】\n\n- 对于样例 $1$，一个最优的操作序列为选择 $(i, j) = (1, 3)$ 一次，$(2, 3)$ 一次，以及 $(2, 2)$ 两次，总操作次数为 $4$。\n- 对于样例 $2$，一个最优的操作序列为选择 $(i, j) = (1, 3)$ 一次，$(2, 6)$ 一次，以及 $(6, 7)$ 一次，总操作次数为 $3$。\n- 对于样例 $3$，最优的操作需要 $18$ 次。\n\n【数据范围】\n\n- $1 \\leq N \\leq 3 \\times 10^5$\n- $0 \\leq K \\leq 10^9$\n- $0 \\leq A_i, P_i \\leq K$\n\n| 子任务编号 | 分值 | 额外限制条件                                   |\n| :--------: | :--: | :------------------------------------------: |\n| $1$        | $6$  | $N \\leq 3$                                    |\n| $2$        | $5$  | $A_i \\leq A_{i+1}$ 且 $P_i = 0$               |\n| $3$        | $9$  | $K \\leq 1$                                    |\n| $4$        | $10$ | $N, K \\leq 80$                                |\n| $5$        | $13$ | $N \\leq 400$                                  |\n| $6$        | $23$ | $N \\leq 3000$                                 |\n| $7$        | $34$ | 无额外限制                                   |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2021 Finals] Password", "background": "神秘的怪盗鲁邦四世（通常称为鲁邦）接下了一项艰巨任务——闯入世界上最大、最宏伟、最先进的城堡：“卡利奥斯特罗城堡”的金库。尽管城堡有最顶尖的安保系统，鲁邦依然无所畏惧。他成功绕过了守卫和监控，破解了许多陷阱和谜题，最终抵达金库。\n\n然而，金库的最后一道防线是一个电子密码系统。密码系统需要输入正确的密码才能打开金库。屏幕上最初显示了 $N$ 个非负整数，编号为 $A_i$。密码由 $N$ 个数字 $P_i$ 组成，且所有数字范围均为 $0$ 到 $K$。通过鲁邦的天才智慧，他推导出了密码的值。", "description": "输入密码的过程很复杂：当前显示的数字 $C_i$ 需要通过特定的操作变为密码数字 $P_i$ 才能打开金库。\n\n操作规则如下：\n- 选择两个整数 $i, j$，其中 $1 \\leq i \\leq j \\leq N$。\n- 对所有满足 $i \\leq l \\leq j$ 的数字 $C_l$，将其更改为 $C_l + 1 \\mod (K + 1)$。\n\n鲁邦希望用最少的操作次数将屏幕上的数字转变为密码。", "inputFormat": "- 第一行包含两个整数 $N$ 和 $K$。\n- 第二行包含 $N$ 个整数 $A_1, A_2, \\dots, A_N$，表示初始显示的数字。\n- 第三行包含 $N$ 个整数 $P_1, P_2, \\dots, P_N$，表示密码。", "outputFormat": "输出一个整数，表示将屏幕上的数字变为密码所需的最小操作次数。", "hint": "【样例解释】\n\n- 对于样例 $1$，一个最优的操作序列为选择 $(i, j) = (1, 3)$ 一次，$(2, 3)$ 一次，以及 $(2, 2)$ 两次，总操作次数为 $4$。\n- 对于样例 $2$，一个最优的操作序列为选择 $(i, j) = (1, 3)$ 一次，$(2, 6)$ 一次，以及 $(6, 7)$ 一次，总操作次数为 $3$。\n- 对于样例 $3$，最优的操作需要 $18$ 次。\n\n【数据范围】\n\n- $1 \\leq N \\leq 3 \\times 10^5$\n- $0 \\leq K \\leq 10^9$\n- $0 \\leq A_i, P_i \\leq K$\n\n| 子任务编号 | 分值 | 额外限制条件                                   |\n| :--------: | :--: | :------------------------------------------: |\n| $1$        | $6$  | $N \\leq 3$                                    |\n| $2$        | $5$  | $A_i \\leq A_{i+1}$ 且 $P_i = 0$               |\n| $3$        | $9$  | $K \\leq 1$                                    |\n| $4$        | $10$ | $N, K \\leq 80$                                |\n| $5$        | $13$ | $N \\leq 400$                                  |\n| $6$        | $23$ | $N \\leq 3000$                                 |\n| $7$        | $34$ | 无额外限制                                   |", "locale": "zh-CN"}}}
{"pid": "P11302", "type": "P", "difficulty": 6, "samples": [["4 5\n.x.x\nxx..\n...x\n2 1 4\n2 3 3\n1 2 3\n2 1 4\n2 3 3", "11\n3\n3\n1"], ["2 1\n..\n..\nxx\n2 1 2", "7"], ["14 2\n..............\n..............\n..............\n2 2 11\n2 1 14", "47177097\n254767228"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "NOISG（新加坡）"], "title": "[NOISG 2021 Finals] Tiles", "background": "Eustace the Sheep 刚搬进新家，决定翻新他的浴室，因为他实在受不了它单调的内部装饰。目前，浴室的地板是一个 $3 \\times N$ 的黑白方格网格。\n\n他有大量相同的 $1 \\times 2$ 长方形瓷砖。为了保持浴室的美观，瓷砖可以旋转，但必须平行于墙壁摆放。此外，粘贴瓷砖的胶水不能涂在黑色方格上，因此瓷砖只能放在白色方格上。\n", "description": "Eustace 想知道，在从第 $a$ 列到第 $b$ 列的区域中，可以形成多少种不同的瓷砖铺设方案（可以不铺瓷砖）。如果两种方案中，某两个方格是否共用一块瓷砖不同，则认为两种方案不同。\n\n在计算铺设方案的同时，Eustace 注意到由于霉菌等问题，部分方格可能会变色（从黑变白，或从白变黑）。\n\n请帮助 Eustace 在不断变化的地板颜色中回答以下问题：\n1. 翻转某个方格的颜色。\n2. 查询特定区域内可能的瓷砖铺设方案数。\n\n输出结果需要对 $10^9 + 7$ 取模。", "inputFormat": "- 第一行包含两个整数 $N$ 和 $Q$，表示浴室地板的列数以及查询和更新操作的总数。\n- 接下来 $3$ 行，每行包含一个长度为 $N$ 的字符串，仅由 `.` 和 `x` 组成：\n  - `.` 表示白色方格。\n  - `x` 表示黑色方格。\n- 接下来的 $Q$ 行中，每行有两种格式之一：\n  - `1 x y`：表示翻转第 $x$ 行第 $y$ 列的方格颜色。\n  - `2 a b`：查询从第 $a$ 列到第 $b$ 列可能的铺设方案数。", "outputFormat": "对于每个查询操作（格式为 `2 a b`），输出一个整数表示方案数对 $10^9 + 7$ 取模后的结果。", "hint": "【样例解释】\n\n- 对于样例 $1$，在第一次查询时，可以形成 $11$ 种铺设方案。  \n- 在更新操作后，某些区域的方格颜色发生变化，导致后续查询结果也发生改变。\n\n【数据范围】\n\n- $1 \\leq N, Q \\leq 30000$\n- $1 \\leq x \\leq 3$\n- $1 \\leq y \\leq N$\n- $1 \\leq a \\leq b \\leq N$\n\n| 子任务编号 | 分值 | 额外限制条件                |\n| :--------: | :--: | :------------------------: |\n| $1$        | $17$ | $1 \\leq N, Q \\leq 8$      |\n| $2$        | $23$ | 不存在黑色方格            |\n| $3$        | $26$ | $1 \\leq N, Q \\leq 7000$   |\n| $4$        | $34$ | 无额外限制                |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2021 Finals] Tiles", "background": "Eustace the Sheep 刚搬进新家，决定翻新他的浴室，因为他实在受不了它单调的内部装饰。目前，浴室的地板是一个 $3 \\times N$ 的黑白方格网格。\n\n他有大量相同的 $1 \\times 2$ 长方形瓷砖。为了保持浴室的美观，瓷砖可以旋转，但必须平行于墙壁摆放。此外，粘贴瓷砖的胶水不能涂在黑色方格上，因此瓷砖只能放在白色方格上。\n", "description": "Eustace 想知道，在从第 $a$ 列到第 $b$ 列的区域中，可以形成多少种不同的瓷砖铺设方案（可以不铺瓷砖）。如果两种方案中，某两个方格是否共用一块瓷砖不同，则认为两种方案不同。\n\n在计算铺设方案的同时，Eustace 注意到由于霉菌等问题，部分方格可能会变色（从黑变白，或从白变黑）。\n\n请帮助 Eustace 在不断变化的地板颜色中回答以下问题：\n1. 翻转某个方格的颜色。\n2. 查询特定区域内可能的瓷砖铺设方案数。\n\n输出结果需要对 $10^9 + 7$ 取模。", "inputFormat": "- 第一行包含两个整数 $N$ 和 $Q$，表示浴室地板的列数以及查询和更新操作的总数。\n- 接下来 $3$ 行，每行包含一个长度为 $N$ 的字符串，仅由 `.` 和 `x` 组成：\n  - `.` 表示白色方格。\n  - `x` 表示黑色方格。\n- 接下来的 $Q$ 行中，每行有两种格式之一：\n  - `1 x y`：表示翻转第 $x$ 行第 $y$ 列的方格颜色。\n  - `2 a b`：查询从第 $a$ 列到第 $b$ 列可能的铺设方案数。", "outputFormat": "对于每个查询操作（格式为 `2 a b`），输出一个整数表示方案数对 $10^9 + 7$ 取模后的结果。", "hint": "【样例解释】\n\n- 对于样例 $1$，在第一次查询时，可以形成 $11$ 种铺设方案。  \n- 在更新操作后，某些区域的方格颜色发生变化，导致后续查询结果也发生改变。\n\n【数据范围】\n\n- $1 \\leq N, Q \\leq 30000$\n- $1 \\leq x \\leq 3$\n- $1 \\leq y \\leq N$\n- $1 \\leq a \\leq b \\leq N$\n\n| 子任务编号 | 分值 | 额外限制条件                |\n| :--------: | :--: | :------------------------: |\n| $1$        | $17$ | $1 \\leq N, Q \\leq 8$      |\n| $2$        | $23$ | 不存在黑色方格            |\n| $3$        | $26$ | $1 \\leq N, Q \\leq 7000$   |\n| $4$        | $34$ | 无额外限制                |", "locale": "zh-CN"}}}
{"pid": "P11303", "type": "P", "difficulty": 7, "samples": [["7 3\n5 2 4 2 2 5", "86"], ["9 5\n4 3 2 1 1 3 6 10", "129"], ["6 4\n1 1 1 1 1", "21"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "NOISG（新加坡）"], "title": "[NOISG 2021 Finals] Pond", "background": "乌龟 Syrup 经常在他家旁边的池塘里游泳。这个池塘是由很久以前的冰川运动形成的，呈狭长直线状，水面平静，适合双向游泳。", "description": "今天，Syrup 像往常一样游泳时，发现了一簇绿点——正在萌发的藻类孢子。经过暴雨冲刷，富含营养的土壤流入池塘，为藻类提供了大量养分，导致它们以惊人的速度生长。如果不加以控制，这些藻类会遮挡阳光，破坏水下生态平衡。\n\n幸运的是，Syrup 有一个简单有效的解决方案——吃掉它们。他已经识别出池塘中 $N$ 个土壤流失点，标号为 $1$ 到 $N$，并记下了它们之间的距离 $D_i$（第 $i$ 点到第 $i+1$ 点之间的距离为 $D_i$）。目前，Syrup 位于第 $K$ 个点，并从这里开始消灭藻类。\n\n池塘中的每个点初始有 $0$ 条藻类，并且每秒会增加 $1$ 条藻类，直到 Syrup 到达该点并吃掉所有藻类。Syrup 需要选择一个方向，沿着池塘游泳，并依次吃掉遇到的所有藻类。为了让藻类不至于变得太难吃，他希望尽可能减少吃下的藻类总数。\n\n你的任务是计算 Syrup 吃下的最少藻类总数。", "inputFormat": "- 第一行包含两个整数 $N$ 和 $K$，分别表示池塘中的土壤流失点数量和 Syrup 的起始位置。\n- 第二行包含 $N-1$ 个整数 $D_1, D_2, \\dots, D_{N-1}$，表示相邻流失点之间的距离。", "outputFormat": "输出一个整数，表示 Syrup 吃下的最少藻类总数。", "hint": "【样例解释】\n\n- 对于样例 $1$，最优路径是按顺序访问点 $3 \\to 2 \\to 4 \\to 5 \\to 6 \\to 7 \\to 1$，总共吃掉 $0 + 2 + 8 + 10 + 12 + 17 + 37 = 86$ 条藻类。\n- 对于样例 $2$，最优路径是按顺序访问点 $5 \\to 6 \\to 4 \\to 3 \\to 2 \\to 1 \\to 7 \\to 8 \\to 9$，总共吃掉 $0 + 1 + 3 + 5 + 8 + 12 + 26 + 32 + 42 = 129$ 条藻类。\n- 对于样例 $3$，最优路径是按顺序访问点 $4 \\to 3 \\to 2 \\to 1 \\to 5 \\to 6$，总共吃掉 $0 + 1 + 2 + 3 + 7 + 8 = 21$ 条藻类。\n\n【数据范围】\n\n- $2 \\leq N \\leq 3 \\times 10^5$\n- $1 \\leq K \\leq N$\n- $1 \\leq D_i \\leq 10^6$\n\n| 子任务编号 | 分值 | 额外限制条件                       |\n| :--------: | :--: | :-------------------------------: |\n| $1$        | $7$  | $N \\leq 100$                     |\n| $2$        | $11$ | $N \\leq 2000$                    |\n| $3$        | $10$ | $1 \\leq K \\leq \\min(N, 20)$      |\n| $4$        | $6$  | $D_i = 1$                        |\n| $5$        | $12$ | $1 \\leq K \\leq \\min(N, 2000)$ 且 $D_i \\geq D_{i+1}$（对所有 $i$ 满足 $i \\not\\equiv 0 \\pmod{100}$） |\n| $6$        | $25$ | $1 \\leq K \\leq \\min(N, 2000)$    |\n| $7$        | $29$ | 无额外限制                       |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2021 Finals] Pond", "background": "乌龟 Syrup 经常在他家旁边的池塘里游泳。这个池塘是由很久以前的冰川运动形成的，呈狭长直线状，水面平静，适合双向游泳。", "description": "今天，Syrup 像往常一样游泳时，发现了一簇绿点——正在萌发的藻类孢子。经过暴雨冲刷，富含营养的土壤流入池塘，为藻类提供了大量养分，导致它们以惊人的速度生长。如果不加以控制，这些藻类会遮挡阳光，破坏水下生态平衡。\n\n幸运的是，Syrup 有一个简单有效的解决方案——吃掉它们。他已经识别出池塘中 $N$ 个土壤流失点，标号为 $1$ 到 $N$，并记下了它们之间的距离 $D_i$（第 $i$ 点到第 $i+1$ 点之间的距离为 $D_i$）。目前，Syrup 位于第 $K$ 个点，并从这里开始消灭藻类。\n\n池塘中的每个点初始有 $0$ 条藻类，并且每秒会增加 $1$ 条藻类，直到 Syrup 到达该点并吃掉所有藻类。Syrup 需要选择一个方向，沿着池塘游泳，并依次吃掉遇到的所有藻类。为了让藻类不至于变得太难吃，他希望尽可能减少吃下的藻类总数。\n\n你的任务是计算 Syrup 吃下的最少藻类总数。", "inputFormat": "- 第一行包含两个整数 $N$ 和 $K$，分别表示池塘中的土壤流失点数量和 Syrup 的起始位置。\n- 第二行包含 $N-1$ 个整数 $D_1, D_2, \\dots, D_{N-1}$，表示相邻流失点之间的距离。", "outputFormat": "输出一个整数，表示 Syrup 吃下的最少藻类总数。", "hint": "【样例解释】\n\n- 对于样例 $1$，最优路径是按顺序访问点 $3 \\to 2 \\to 4 \\to 5 \\to 6 \\to 7 \\to 1$，总共吃掉 $0 + 2 + 8 + 10 + 12 + 17 + 37 = 86$ 条藻类。\n- 对于样例 $2$，最优路径是按顺序访问点 $5 \\to 6 \\to 4 \\to 3 \\to 2 \\to 1 \\to 7 \\to 8 \\to 9$，总共吃掉 $0 + 1 + 3 + 5 + 8 + 12 + 26 + 32 + 42 = 129$ 条藻类。\n- 对于样例 $3$，最优路径是按顺序访问点 $4 \\to 3 \\to 2 \\to 1 \\to 5 \\to 6$，总共吃掉 $0 + 1 + 2 + 3 + 7 + 8 = 21$ 条藻类。\n\n【数据范围】\n\n- $2 \\leq N \\leq 3 \\times 10^5$\n- $1 \\leq K \\leq N$\n- $1 \\leq D_i \\leq 10^6$\n\n| 子任务编号 | 分值 | 额外限制条件                       |\n| :--------: | :--: | :-------------------------------: |\n| $1$        | $7$  | $N \\leq 100$                     |\n| $2$        | $11$ | $N \\leq 2000$                    |\n| $3$        | $10$ | $1 \\leq K \\leq \\min(N, 20)$      |\n| $4$        | $6$  | $D_i = 1$                        |\n| $5$        | $12$ | $1 \\leq K \\leq \\min(N, 2000)$ 且 $D_i \\geq D_{i+1}$（对所有 $i$ 满足 $i \\not\\equiv 0 \\pmod{100}$） |\n| $6$        | $25$ | $1 \\leq K \\leq \\min(N, 2000)$    |\n| $7$        | $29$ | 无额外限制                       |", "locale": "zh-CN"}}}
