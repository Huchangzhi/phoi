{"pid": "P11103", "type": "P", "difficulty": 7, "samples": [["1\n4 3\n3 3 2 2\n1 2 2 0\n3 3 3 0\n2 2 4 1", "8 7 7 8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2022] 挑战 (Day 2)", "background": "翻译自 [ROI 2022 D2T4](https://neerc.ifmo.ru/school/archive/2021-2022/ru-olymp-roi-2022-day2.pdf)。\n\n在天狼星教育中心的设计班中，一个团队的成员设计了一种工业机器人。这种机器人将把零件放入标号从 $1$ 到 $n$ 的 $n$ 个容器中。每个容器最多可以放置 $a_i$ 个零件。\n\n一共有 $m$ 台机器人。初始时，第 $j$ 台机器人有 $c_j$ 个零件。此外，第 $j$ 台机器人有一个工作范围，由两个数字 $l_j$ 和 $r_j$ 确定，表示机器人只能将零件放入编号从 $l_j$ 到 $r_j$ 的容器中（包括边界）。机器人试图尽可能多地将零件放入容器。\n\n机器人分为两种类型。如果机器人的类型 $t_j = 0$，则其工作范围始终保持不变。而机器人类型 $t_j = 1$ 可以改变它的工作范围。如果将编号为 $x$ 的容器指定为最重要的容器，则每个类型为 $1$ 的机器人的工作范围将扩大，来使这个范围包含容器 $x$。或者说，具有类型 $1$ 的机器人 $j$ 的工作范围将改变为 $[\\min(l_j,x),\\max(r_j,x)]$。", "description": "对于从 $1$ 到 $n$ 的每个 $x$，计算在容器 $x$ 被视为最重要的容器时，机器人们最多能够将多少零件放入容器中。", "inputFormat": "本题有多组数据。第一行给出一个整数 $t$，表示数据的组数。\n\n每组输入数据的第一行给出两个整数 $n$ 和 $m$，分别表示容器和机器人的数量。\n\n接下来一行给出 $n$ 个整数 $a_1,a_2,\\dots,a_n$，表示容器的容量。\n\n接下来的 $m$ 行中的每一行都包含四个整数 $l_j，r_j，c_j，t_j$，表示机器人的工作范围、刚开始携带的零件数量和机器人类型。", "outputFormat": "对于每组输入数据，输出 $n$ 个整数，表示对于从 $1$ 到 $n$ 的所有 $x$ 的问题的答案。", "hint": "对于 $100\\%$ 的数据，$1 \\le t \\le 200000$，$1 \\le n,m \\le 200000$，$0 \\le a_i \\le 10^9$，$1 \\le l_j \\le r_j \\le n$，$0 \\le c_j \\le 10^9$，$t_j \\in \\{0, 1\\}$。\n\n| Subtask | 分值 | $\\sum n\\le$ | $\\sum m\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $100$ | $100$ | $m=1$ |\n| $2$ | $7$ | $100$ | $100$ |  |\n| $3$ | $6$ | $2000$ | $2000$ |  |\n| $4$ | $6$ | $20000$ | $200$ |  |\n| $5$ | $12$ | $10^5$ | $2000$ |  |\n| $6$ | $17$ | $20000$ | $20000$ | $t_i=1$ |\n| $7$ | $8$ | $10^5$ | $10^5$ | $l_i\\le l_{i+1},r_i\\le r_{i+1},t_i=1$ |\n| $8$ | $8$ | $10^5$ | $10^5$ | $t_i=1$ |\n| $9$ | $13$ | $10^5$ | $10^5$ | 对于所有 $t_i=0$ 的机器人，$r_i\\le50$ 或 $l_i>n-50$ |\n| $10$ | $4$ | $10^5$ | $10^5$ | $a_i=1$ |\n| $11$ | $6$ | $10^5$ | $10^5$ |  |\n| $12$ | $3$ | $2\\times10^5$ | $2\\times10^5$ |  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2022] 挑战 (Day 2)", "background": "翻译自 [ROI 2022 D2T4](https://neerc.ifmo.ru/school/archive/2021-2022/ru-olymp-roi-2022-day2.pdf)。\n\n在天狼星教育中心的设计班中，一个团队的成员设计了一种工业机器人。这种机器人将把零件放入标号从 $1$ 到 $n$ 的 $n$ 个容器中。每个容器最多可以放置 $a_i$ 个零件。\n\n一共有 $m$ 台机器人。初始时，第 $j$ 台机器人有 $c_j$ 个零件。此外，第 $j$ 台机器人有一个工作范围，由两个数字 $l_j$ 和 $r_j$ 确定，表示机器人只能将零件放入编号从 $l_j$ 到 $r_j$ 的容器中（包括边界）。机器人试图尽可能多地将零件放入容器。\n\n机器人分为两种类型。如果机器人的类型 $t_j = 0$，则其工作范围始终保持不变。而机器人类型 $t_j = 1$ 可以改变它的工作范围。如果将编号为 $x$ 的容器指定为最重要的容器，则每个类型为 $1$ 的机器人的工作范围将扩大，来使这个范围包含容器 $x$。或者说，具有类型 $1$ 的机器人 $j$ 的工作范围将改变为 $[\\min(l_j,x),\\max(r_j,x)]$。", "description": "对于从 $1$ 到 $n$ 的每个 $x$，计算在容器 $x$ 被视为最重要的容器时，机器人们最多能够将多少零件放入容器中。", "inputFormat": "本题有多组数据。第一行给出一个整数 $t$，表示数据的组数。\n\n每组输入数据的第一行给出两个整数 $n$ 和 $m$，分别表示容器和机器人的数量。\n\n接下来一行给出 $n$ 个整数 $a_1,a_2,\\dots,a_n$，表示容器的容量。\n\n接下来的 $m$ 行中的每一行都包含四个整数 $l_j，r_j，c_j，t_j$，表示机器人的工作范围、刚开始携带的零件数量和机器人类型。", "outputFormat": "对于每组输入数据，输出 $n$ 个整数，表示对于从 $1$ 到 $n$ 的所有 $x$ 的问题的答案。", "hint": "对于 $100\\%$ 的数据，$1 \\le t \\le 200000$，$1 \\le n,m \\le 200000$，$0 \\le a_i \\le 10^9$，$1 \\le l_j \\le r_j \\le n$，$0 \\le c_j \\le 10^9$，$t_j \\in \\{0, 1\\}$。\n\n| Subtask | 分值 | $\\sum n\\le$ | $\\sum m\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $100$ | $100$ | $m=1$ |\n| $2$ | $7$ | $100$ | $100$ |  |\n| $3$ | $6$ | $2000$ | $2000$ |  |\n| $4$ | $6$ | $20000$ | $200$ |  |\n| $5$ | $12$ | $10^5$ | $2000$ |  |\n| $6$ | $17$ | $20000$ | $20000$ | $t_i=1$ |\n| $7$ | $8$ | $10^5$ | $10^5$ | $l_i\\le l_{i+1},r_i\\le r_{i+1},t_i=1$ |\n| $8$ | $8$ | $10^5$ | $10^5$ | $t_i=1$ |\n| $9$ | $13$ | $10^5$ | $10^5$ | 对于所有 $t_i=0$ 的机器人，$r_i\\le50$ 或 $l_i>n-50$ |\n| $10$ | $4$ | $10^5$ | $10^5$ | $a_i=1$ |\n| $11$ | $6$ | $10^5$ | $10^5$ |  |\n| $12$ | $3$ | $2\\times10^5$ | $2\\times10^5$ |  |", "locale": "zh-CN"}}}
{"pid": "P11104", "type": "P", "difficulty": 3, "samples": [["1 10 3\n1 5\n1 7\n1 2", "6 0"], ["3 4 3\n1 1\n3 4\n1 4", "4 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] 监控 (Day 1)", "background": "翻译自 [ROI 2023 D1T1](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n商场大楼的安全由视频监控系统提供保障。\n\n安保人员的电脑上有一个程序，该程序在屏幕上显示出多个摄像头的视频。该程序的工作原理如下：\n\n屏幕上显示一个由 $h$ 行 $w$ 列组成的矩形网格。每个单元格可以为空，也可以显示来自某个摄像头的图像。为了控制程序中图像的位置，安保人员可以使用“左”、“右”、“上”和“下”按钮。\n\n- 按下“左”按钮会将每个单元格中的图像向左移动到其左边的单元格。最左边一行的图像会被移动到最右边一行的对应单元格中。\n- 按下“右”按钮会将每个单元格中的图像向右移动到其右边的单元格。最右边一行的图像会被移动到最左边一行的对应单元格中。\n- 按下“上”按钮会将每个单元格中的图像向上移动到其上方的单元格。最上面一行的图像会被移动到最下面一行的对应单元格中。\n- 按下“下”按钮会将每个单元格中的图像向下移动到其下方的单元格。最下面一行的图像会被移动到最上面一行的对应单元格中。\n\n网格的行由上至下编号，列由左至右编号。$(r, c)$ 表示第 $r$ 行第 $c$ 列的单元格。\n\n下面是一个有 $3$ 行 $4$ 列和三个包含图像的单元格的网格示例，其坐标分别为 $(1, 1),(2, 4),(3, 3)$，还显示了按下四个按钮后图像的新位置。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x6a027tt.png)", "description": "安保人员希望屏幕上显示图像的单元格尽可能紧凑。图像的紧凑性可以用网格中包含所有显示的图像所需的最小矩形的面积来衡量。通过按下按钮可以改变图像的紧凑性。例如，下图刚开始的图像布局紧凑性为 $12$，按下一次“右”按钮和一次“上”按钮后，图像的紧凑性变为 $4$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z3etvoy5.png)\n\n给定一个包含 $k$ 个图像的网格，计算通过使用“左”、“右”、“上”和“下”按钮可以达到的最小紧凑性，并计算达到最小紧凑性所需的最小按钮点击次数。", "inputFormat": "第一行输入三个整数 $h,w,k$，分别表示网格的尺寸和包含图像的单元格数量（$1 \\le h, w \\le 10^9;1 \\le k \\le 100,000$）。\n\n接下来的 $k$ 行中，每行包含两个整数 $r_i$ 和 $c_i$，表示包含图像的单元格的坐标（$1 \\le r_i \\le h；1 \\le c_i \\le w$）。保证所有 $k$ 个单元格坐标均不相同。", "outputFormat": "输出两个整数，分别表示使用按钮所能达到的最小图像紧凑性和实现该紧凑性所需的最小按钮点击次数。", "hint": "| Subtask | 分数 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $k=1$ |\n| $2$ | $10$ | $k=2$ |\n| $3$ | $29$ | $h=1$ |\n| $4$ | $11$ | $h,w\\le50$ |\n| $5$ | $15$ | $h,w\\le1000$ |\n| $6$ | $6$ | $h,w\\le200000$ |\n| $7$ | $24$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 监控 (Day 1)", "background": "翻译自 [ROI 2023 D1T1](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n商场大楼的安全由视频监控系统提供保障。\n\n安保人员的电脑上有一个程序，该程序在屏幕上显示出多个摄像头的视频。该程序的工作原理如下：\n\n屏幕上显示一个由 $h$ 行 $w$ 列组成的矩形网格。每个单元格可以为空，也可以显示来自某个摄像头的图像。为了控制程序中图像的位置，安保人员可以使用“左”、“右”、“上”和“下”按钮。\n\n- 按下“左”按钮会将每个单元格中的图像向左移动到其左边的单元格。最左边一行的图像会被移动到最右边一行的对应单元格中。\n- 按下“右”按钮会将每个单元格中的图像向右移动到其右边的单元格。最右边一行的图像会被移动到最左边一行的对应单元格中。\n- 按下“上”按钮会将每个单元格中的图像向上移动到其上方的单元格。最上面一行的图像会被移动到最下面一行的对应单元格中。\n- 按下“下”按钮会将每个单元格中的图像向下移动到其下方的单元格。最下面一行的图像会被移动到最上面一行的对应单元格中。\n\n网格的行由上至下编号，列由左至右编号。$(r, c)$ 表示第 $r$ 行第 $c$ 列的单元格。\n\n下面是一个有 $3$ 行 $4$ 列和三个包含图像的单元格的网格示例，其坐标分别为 $(1, 1),(2, 4),(3, 3)$，还显示了按下四个按钮后图像的新位置。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x6a027tt.png)", "description": "安保人员希望屏幕上显示图像的单元格尽可能紧凑。图像的紧凑性可以用网格中包含所有显示的图像所需的最小矩形的面积来衡量。通过按下按钮可以改变图像的紧凑性。例如，下图刚开始的图像布局紧凑性为 $12$，按下一次“右”按钮和一次“上”按钮后，图像的紧凑性变为 $4$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z3etvoy5.png)\n\n给定一个包含 $k$ 个图像的网格，计算通过使用“左”、“右”、“上”和“下”按钮可以达到的最小紧凑性，并计算达到最小紧凑性所需的最小按钮点击次数。", "inputFormat": "第一行输入三个整数 $h,w,k$，分别表示网格的尺寸和包含图像的单元格数量（$1 \\le h, w \\le 10^9;1 \\le k \\le 100,000$）。\n\n接下来的 $k$ 行中，每行包含两个整数 $r_i$ 和 $c_i$，表示包含图像的单元格的坐标（$1 \\le r_i \\le h；1 \\le c_i \\le w$）。保证所有 $k$ 个单元格坐标均不相同。", "outputFormat": "输出两个整数，分别表示使用按钮所能达到的最小图像紧凑性和实现该紧凑性所需的最小按钮点击次数。", "hint": "| Subtask | 分数 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $k=1$ |\n| $2$ | $10$ | $k=2$ |\n| $3$ | $29$ | $h=1$ |\n| $4$ | $11$ | $h,w\\le50$ |\n| $5$ | $15$ | $h,w\\le1000$ |\n| $6$ | $6$ | $h,w\\le200000$ |\n| $7$ | $24$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11105", "type": "P", "difficulty": 6, "samples": [], "limits": {"time": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000], "memory": [1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000]}, "tags": ["2023", "交互题", "Special Judge", "通信题", "Ad-hoc", "ROI（俄罗斯）"], "title": "[ROI 2023] 解密（数据有误） (Day 1)", "background": "**本题目前数据有误**。\n\n翻译自 [ROI 2023 D1T2](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n这是一道**通信题**。洛谷无法实现通信，所以这道题会使用**函数交互**的形式进行评测。\n\n**不要使用 `C++14 (GCC 9)` 语言提交**。\n\nAlesya 和 Boris 在计算机课上学习密码学。他们决定发明自己的一种加密消息的方法——BASE23（Boris-Alesya Super Encoding 2023）。\n\nAlesya 从 $1$ 到 $n$ 选择了 $k$ 个不同的整数，并将得到的集合称为 $T$。\n\nAlesya 想要以加密形式将集合 $T$ 作为消息传递给 Boris。为此，根据集合 $T$，Alesya 将构建另一个集合 $R$，并将其传递给 Boris，该集合也由整数组成，范围在 $1$ 到 $n$ 之间。\n\nAlesya 和 Boris 不希望加密后的消息大小发生变化（不像 BASE64 一样密文比明文长约 $\\frac13$），因此 $R$ 也必须恰好包含 $k$ 个数字。而且，他们认为如果 $T$ 和 $R$ 至少包含一个相同的数，则加密将不够可靠。因此，不应该存在一个既属于 $T$ 又属于 $R$ 的数字，即 $T \\cap R = \\varnothing$。保证 $k\\le \\frac{n}{2}$，因此始终可以根据集合 $T$ 构建至少一个集合 $R$。\n\n当 Boris 收到加密消息 $R$ 时，他将需要对其进行解密并获得原始消息 $T$。", "description": "帮助 Alesya 和 Boris 设计和实现 BASE23 的加密和解密算法。\n\n在本题中，你的程序需要实现下面两个函数（**不需要编写 main 函数**）：\n\n```cpp\nstd::vector<int> Encode(int n, int k, std::vector<int> T){\n\t// 加密过程\n\treturn R;\n}\nstd::vector<int> Decode(int n, int k, std::vector<int> R){\n\t// 解密过程\n\treturn T;\n}\n```\n\n你的 `Encode` 函数将扮演 Alesya 的角色，对数组进行加密。而 `Decode` 函数则将扮演 Boris 的角色，通过解密来得到原来的数组。**$T$ 和 $R$ 都按照递增顺序排列**。\n\n刚开始，交互库会根据该数据点的数据调用你编写的 `Encode` 函数，根据它的返回值判断该加密算法是否合法。接着，交互库调用 `Decode` 函数，判断它的返回值是否与原来的数据相同。如果相同，则认为这一份 BASE23 加解密代码是正确的。\n\n交互库会多次调用这两个函数，对应了原题中有多组数据。交互库会先将每组数据的 $T$ 全部加密，接着再按随机顺序把它们解密。具体的数据范围限制见“说明/提示”部分。", "inputFormat": "使用函数交互，程序不需要进行输入。", "outputFormat": "使用函数交互，程序不需要进行输出。", "hint": "交互库调用两个函数的次数（即数据组数）都不超过 $300000$。对于每一组数据，$2\\le n\\le 10^9,1\\le k\\le300000,k\\le\\frac n2$。对于每一个测试点，$\\sum k\\le300000$。\n\n原题的加、解密时间限制均为 $1\\text{s}$，空间限制均为 $512\\text{MB}$，不过由于在洛谷实现通信题的方式特殊，本题由特殊的时空限制。（目前的时空限制可能无法通过本题 qwq）\n\n如果你在本题莫名 CE，你可以尝试换一个语言提交。\n\n当你 UKE 时，查看你的错误提示。如果提示中含有“timeout”，应该是超时了。\n\n交互库编写：@[cff_0102](/user/542457)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 解密（数据有误） (Day 1)", "background": "**本题目前数据有误**。\n\n翻译自 [ROI 2023 D1T2](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n这是一道**通信题**。洛谷无法实现通信，所以这道题会使用**函数交互**的形式进行评测。\n\n**不要使用 `C++14 (GCC 9)` 语言提交**。\n\nAlesya 和 Boris 在计算机课上学习密码学。他们决定发明自己的一种加密消息的方法——BASE23（Boris-Alesya Super Encoding 2023）。\n\nAlesya 从 $1$ 到 $n$ 选择了 $k$ 个不同的整数，并将得到的集合称为 $T$。\n\nAlesya 想要以加密形式将集合 $T$ 作为消息传递给 Boris。为此，根据集合 $T$，Alesya 将构建另一个集合 $R$，并将其传递给 Boris，该集合也由整数组成，范围在 $1$ 到 $n$ 之间。\n\nAlesya 和 Boris 不希望加密后的消息大小发生变化（不像 BASE64 一样密文比明文长约 $\\frac13$），因此 $R$ 也必须恰好包含 $k$ 个数字。而且，他们认为如果 $T$ 和 $R$ 至少包含一个相同的数，则加密将不够可靠。因此，不应该存在一个既属于 $T$ 又属于 $R$ 的数字，即 $T \\cap R = \\varnothing$。保证 $k\\le \\frac{n}{2}$，因此始终可以根据集合 $T$ 构建至少一个集合 $R$。\n\n当 Boris 收到加密消息 $R$ 时，他将需要对其进行解密并获得原始消息 $T$。", "description": "帮助 Alesya 和 Boris 设计和实现 BASE23 的加密和解密算法。\n\n在本题中，你的程序需要实现下面两个函数（**不需要编写 main 函数**）：\n\n```cpp\nstd::vector<int> Encode(int n, int k, std::vector<int> T){\n\t// 加密过程\n\treturn R;\n}\nstd::vector<int> Decode(int n, int k, std::vector<int> R){\n\t// 解密过程\n\treturn T;\n}\n```\n\n你的 `Encode` 函数将扮演 Alesya 的角色，对数组进行加密。而 `Decode` 函数则将扮演 Boris 的角色，通过解密来得到原来的数组。**$T$ 和 $R$ 都按照递增顺序排列**。\n\n刚开始，交互库会根据该数据点的数据调用你编写的 `Encode` 函数，根据它的返回值判断该加密算法是否合法。接着，交互库调用 `Decode` 函数，判断它的返回值是否与原来的数据相同。如果相同，则认为这一份 BASE23 加解密代码是正确的。\n\n交互库会多次调用这两个函数，对应了原题中有多组数据。交互库会先将每组数据的 $T$ 全部加密，接着再按随机顺序把它们解密。具体的数据范围限制见“说明/提示”部分。", "inputFormat": "使用函数交互，程序不需要进行输入。", "outputFormat": "使用函数交互，程序不需要进行输出。", "hint": "交互库调用两个函数的次数（即数据组数）都不超过 $300000$。对于每一组数据，$2\\le n\\le 10^9,1\\le k\\le300000,k\\le\\frac n2$。对于每一个测试点，$\\sum k\\le300000$。\n\n原题的加、解密时间限制均为 $1\\text{s}$，空间限制均为 $512\\text{MB}$，不过由于在洛谷实现通信题的方式特殊，本题由特殊的时空限制。（目前的时空限制可能无法通过本题 qwq）\n\n如果你在本题莫名 CE，你可以尝试换一个语言提交。\n\n当你 UKE 时，查看你的错误提示。如果提示中含有“timeout”，应该是超时了。\n\n交互库编写：@[cff_0102](/user/542457)。", "locale": "zh-CN"}}}
{"pid": "P11106", "type": "P", "difficulty": 6, "samples": [["4\n5\n4 1 2 3 5\n10\n3 8 10 4 1 2 7 9 5 6\n3\n1 2 3\n6\n4 2 5 1 6 3", "5\n6\n3\n5"]], "limits": {"time": [1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600, 1600], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] 峰值 (Day 1)", "background": "翻译自 [ROI 2023 D1T3](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n如果对于所有 $1 \\le j < i$，都有 $a_j < a_i$，则称 $a_i$ 为峰值。\n\n如果对于所有 $1 \\le j < i$，都有 $a_j > a_i$，则称 $a_i$ 为反峰值。", "description": "给定大小为 $n$ 的排列 $p_1,p_2,\\dots,p_n$。需要将其分为两个非空子序列 $q$ 和 $r$。每个元素 $p$ 必须恰好被分到一个子序列中。你需要最大化 $q$ 中的峰值数量和 $r$ 中的反峰值数量之和。", "inputFormat": "每个测试点由多组数据组成。第一行包含一个整数 $t(1 \\le t \\le 100,000)$，表示数据组数。接下来的 $2t$ 行，每两行是一组数据。\n\n每组数据的第一行包含一个整数 $n(2 \\le n \\le 200,000)$，表示排列的大小。\n\n每个输入数据集的第二行包含 $n$ 个整数 $p_1,p_2,\\dots,p_n$，表示原始排列。保证 $p$ 中的每个数字都恰好出现一次。\n\n每组数据中 $n$ 的总和不超过 $200,000$。", "outputFormat": "对于每组数据，输出一个整数，表示将 $p$ 拆分后，$q$ 中的峰值数量和 $r$ 中的反峰值数量之和的最大值。", "hint": "前两个样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/eojr7qgz.png)\n\n设 $N=\\sum n$。\n\n| Subtask | 分值 | $n,N$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $21$ | $n\\le16$ | $t\\le120$ |\n| $2$ | $22$ | $n\\le200,N\\le2000$ |  |\n| $3$ | $14$ | $N\\le2000$ |  |\n| $4$ | $10$ | $N\\le20000$ |  |\n| $5$ | $13$ | $N\\le200000$ | $p$ 的最大递减子序列的长度不超过 $2$ |\n| $6$ | $20$ | $N\\le200000$ |  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 峰值 (Day 1)", "background": "翻译自 [ROI 2023 D1T3](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n如果对于所有 $1 \\le j < i$，都有 $a_j < a_i$，则称 $a_i$ 为峰值。\n\n如果对于所有 $1 \\le j < i$，都有 $a_j > a_i$，则称 $a_i$ 为反峰值。", "description": "给定大小为 $n$ 的排列 $p_1,p_2,\\dots,p_n$。需要将其分为两个非空子序列 $q$ 和 $r$。每个元素 $p$ 必须恰好被分到一个子序列中。你需要最大化 $q$ 中的峰值数量和 $r$ 中的反峰值数量之和。", "inputFormat": "每个测试点由多组数据组成。第一行包含一个整数 $t(1 \\le t \\le 100,000)$，表示数据组数。接下来的 $2t$ 行，每两行是一组数据。\n\n每组数据的第一行包含一个整数 $n(2 \\le n \\le 200,000)$，表示排列的大小。\n\n每个输入数据集的第二行包含 $n$ 个整数 $p_1,p_2,\\dots,p_n$，表示原始排列。保证 $p$ 中的每个数字都恰好出现一次。\n\n每组数据中 $n$ 的总和不超过 $200,000$。", "outputFormat": "对于每组数据，输出一个整数，表示将 $p$ 拆分后，$q$ 中的峰值数量和 $r$ 中的反峰值数量之和的最大值。", "hint": "前两个样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/eojr7qgz.png)\n\n设 $N=\\sum n$。\n\n| Subtask | 分值 | $n,N$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $21$ | $n\\le16$ | $t\\le120$ |\n| $2$ | $22$ | $n\\le200,N\\le2000$ |  |\n| $3$ | $14$ | $N\\le2000$ |  |\n| $4$ | $10$ | $N\\le20000$ |  |\n| $5$ | $13$ | $N\\le200000$ | $p$ 的最大递减子序列的长度不超过 $2$ |\n| $6$ | $20$ | $N\\le200000$ |  |", "locale": "zh-CN"}}}
{"pid": "P11107", "type": "P", "difficulty": 7, "samples": [["998244353\n6\n3 2 1\n3 2 2\n3 2 3\n3 2 4\n3 5 1\n4 6 1", "6\n1\n0\n0\n29\n2461"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] Ultra mex (Day 1)", "background": "翻译自 [ROI 2023 D1T4](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n假设 $A$ 是一个非负整数的集合。将 $A$ 中不存在的最小非负整数记为 $\\operatorname{mex}(A)$。例如，$\\operatorname{mex}(\\{0, 1, 2, 4, 5, 9\\}) = 3$。\n\n我们还定义了一种在含有 $0$ 的集合 $A$ 上的操作，称为 $\\operatorname{Ultra}$。假设 $m = \\operatorname{mex}(A)$，因为 $0\\in A$，显然 $m > 0$。按照以下方法构建新的集合 $\\operatorname{Ultra}(A)$：对 $A$ 中的每个元素异或 $m-1$。例如，$\\operatorname{Ultra}(\\{0, 1, 2, 4, 5, 9\\}) = \\{0\\oplus2, 1\\oplus2, 2\\oplus2, 4\\oplus2, 5\\oplus2, 9\\oplus2\\} = \\{2, 3, 0, 6, 7, 11\\} = \\{0, 2, 3, 6, 7, 11\\}$。\n\n不难发现，如果集合 $A$ 包含 $0$，则集合 $\\operatorname{Ultra}(A)$ 也包含 $0$。\n\n我们选择由 $0$ 到 $2^{k}-1$ 之间的整数组成的集合 $A_0$，且 $0$ 在 $A_0$ 中。考虑以下序列：\n\n- $m_0 = \\operatorname{mex}(A_0),A_1 = \\operatorname{Ultra}(A_0)$。\n- $m_1 = \\operatorname{mex}(A_1),A_2 = \\operatorname{Ultra}(A_1)$。\n- $\\dots$\n- $m_i = \\operatorname{mex}(A_i),A_{i+1} = \\operatorname{Ultra}(A_i)$。\n\n如果从某个数 $l$ 开始，数字 $m_i$ 不再变化，也就是说，对于所有 $i \\ge l$，$m_i = m_l$，则称集合 $A_0$ 是 mex-stable 的，将 $m_l$ 称为集合 $A_0$ 的 mex-limit。", "description": "给定整数 $k,n,p$，计算满足以下条件的集合 $A_0$ 的数量：\n\n- 它包含从 $0$ 到 $2^{k}-1$ 的 $n$ 个不同整数（其中 $0$ 必须包含在 $A_0$ 中）；\n- 它是 mex-stable 的；\n- 它的 mex-limit 等于 $p$。\n\n由于答案可能很大，输出答案对 $M$ 取模后的结果。保证 $M - 1$ 能被 $2^{18}$（$262144$）整除。", "inputFormat": "第一行包含一个整数 $M$，表示要对其取模的模数（$3 \\le M \\le 10^9$ 且 $M - 1$ 可被 $2^{18}$ 整除）（所以 $M$ 实际上不可能小于 $2^{18}+1$）。保证 $M$ 是一个质数。\n\n第二行包含一个整数 $t$，表示输入数据的组数（$1 \\le t \\le 100000$）。\n\n对于每组输入数据，包含三个整数 $k,n,p$（$1 \\le k \\le 17$，$ 1 \\le n, p \\le 2^k$）。", "outputFormat": "对于每组输入数据，输出一行，包含一个整数，表示满足条件的集合 $A$ 的数量对 $M$ 取模后的结果。", "hint": "除样例外，本题有三十个子任务，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g4vi73zu.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] Ultra mex (Day 1)", "background": "翻译自 [ROI 2023 D1T4](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day1.pdf)。\n\n假设 $A$ 是一个非负整数的集合。将 $A$ 中不存在的最小非负整数记为 $\\operatorname{mex}(A)$。例如，$\\operatorname{mex}(\\{0, 1, 2, 4, 5, 9\\}) = 3$。\n\n我们还定义了一种在含有 $0$ 的集合 $A$ 上的操作，称为 $\\operatorname{Ultra}$。假设 $m = \\operatorname{mex}(A)$，因为 $0\\in A$，显然 $m > 0$。按照以下方法构建新的集合 $\\operatorname{Ultra}(A)$：对 $A$ 中的每个元素异或 $m-1$。例如，$\\operatorname{Ultra}(\\{0, 1, 2, 4, 5, 9\\}) = \\{0\\oplus2, 1\\oplus2, 2\\oplus2, 4\\oplus2, 5\\oplus2, 9\\oplus2\\} = \\{2, 3, 0, 6, 7, 11\\} = \\{0, 2, 3, 6, 7, 11\\}$。\n\n不难发现，如果集合 $A$ 包含 $0$，则集合 $\\operatorname{Ultra}(A)$ 也包含 $0$。\n\n我们选择由 $0$ 到 $2^{k}-1$ 之间的整数组成的集合 $A_0$，且 $0$ 在 $A_0$ 中。考虑以下序列：\n\n- $m_0 = \\operatorname{mex}(A_0),A_1 = \\operatorname{Ultra}(A_0)$。\n- $m_1 = \\operatorname{mex}(A_1),A_2 = \\operatorname{Ultra}(A_1)$。\n- $\\dots$\n- $m_i = \\operatorname{mex}(A_i),A_{i+1} = \\operatorname{Ultra}(A_i)$。\n\n如果从某个数 $l$ 开始，数字 $m_i$ 不再变化，也就是说，对于所有 $i \\ge l$，$m_i = m_l$，则称集合 $A_0$ 是 mex-stable 的，将 $m_l$ 称为集合 $A_0$ 的 mex-limit。", "description": "给定整数 $k,n,p$，计算满足以下条件的集合 $A_0$ 的数量：\n\n- 它包含从 $0$ 到 $2^{k}-1$ 的 $n$ 个不同整数（其中 $0$ 必须包含在 $A_0$ 中）；\n- 它是 mex-stable 的；\n- 它的 mex-limit 等于 $p$。\n\n由于答案可能很大，输出答案对 $M$ 取模后的结果。保证 $M - 1$ 能被 $2^{18}$（$262144$）整除。", "inputFormat": "第一行包含一个整数 $M$，表示要对其取模的模数（$3 \\le M \\le 10^9$ 且 $M - 1$ 可被 $2^{18}$ 整除）（所以 $M$ 实际上不可能小于 $2^{18}+1$）。保证 $M$ 是一个质数。\n\n第二行包含一个整数 $t$，表示输入数据的组数（$1 \\le t \\le 100000$）。\n\n对于每组输入数据，包含三个整数 $k,n,p$（$1 \\le k \\le 17$，$ 1 \\le n, p \\le 2^k$）。", "outputFormat": "对于每组输入数据，输出一行，包含一个整数，表示满足条件的集合 $A$ 的数量对 $M$ 取模后的结果。", "hint": "除样例外，本题有三十个子任务，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g4vi73zu.png)", "locale": "zh-CN"}}}
{"pid": "P11108", "type": "P", "difficulty": 3, "samples": [["7 1 4\n2 2 4\n0\n2 6 5\n2 3 7\n0\n0\n0\n1\n4\n3\n5", "3\n2\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] 蜗牛与富士山 (Day 2)", "background": "翻译自 [ROI 2023 D2T1](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n在爬上富士山的山顶后，蜗牛想要下山。在山坡上有一个类似二叉树的小径。\n\n该树包含 $n$ 个被 $n-1$ 个小径连接的节点。树的根位于山顶。一些节点处的小径到头了，它们是树的叶子节点。除了叶子节点外，每个节点向下山坡延伸两条小径，其中一条向左，另一条向右。\n\n蜗牛希望从根部开始沿着树向下爬并到达其中一个叶子节点。在路径上，蜗牛可以选择两个方向之一进行进一步下降：向左或向右。\n\n刚开始在山顶，蜗牛可以往任意方向（左或右）开始下降。在每个后续节点中，如果它选择与前一个节点选择的方向不同的方向，则它要进行转弯。\n\n由于蜗牛转弯不太方便，所以在从根到叶子的整个路径上，蜗牛最多只准备转弯 $k$ 次。", "description": "将树的节点从 $1$ 到 $n$ 编号，其中根节点编号为 $1$。给定 $q$ 个查询。每个查询给出一个节点 $u_i$，要求找出蜗牛在从根开始下降时，最多转弯 $k$ 次，且通过节点 $u_i$ 的路径上能到达的叶子节点数量。", "inputFormat": "第一行给出三个整数 $n,k,q$，分别表示树中节点的数量、蜗牛准备转动的最大次数，以及查询的数量。\n\n接下来的 $n$ 行描述了树的结构。第 $i$ 行的第一个整数 $t_i$ 表示节点 $i$ 的小径（子树）数量（$t_i = 0$ 或 $2$）。如果 $t_i = 2$，则在同一行中给出两个整数 $l_i$ 和 $r_i$，分别表示从节点 $i$ 出发的左侧和右侧小径连接到的节点编号（$1 \\le l_i,r_i \\le n$）。保证输入符合要求。\n\n接下来的 $q$ 行给出了查询。第 $i$ 行给出一个整数 $u_i$，表示蜗牛路径经过的节点编号（$1 \\le u_i \\le n$）。", "outputFormat": "对于每一次询问，输出一行一个整数表示答案。", "hint": "样例的树长这样。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tqrsn5y6.png)\n\n第一次询问（灰色为可到达的叶子节点，虚线为不可到达的节点）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3415ax74.png)\n\n第二次询问：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pojddavc.png)\n\n第三次询问：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0zoj4nas.png)\n\n第四次询问（因为最多转一次弯，所以并没有合法的路线，故输出 $0$）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9ib954xz.png)\n\n对于 $100\\%$ 的数据，$3 \\le n \\le 200000$，$0 \\le k \\le n$，$1 \\le q \\le 200000$。\n\n| Subtask | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $11$ | $n\\le500,q\\le500$，所有 $u_i$ 均为叶子节点 |\n| $2$ | $12$ | $n\\le500,q\\le500$ |\n| $3$ | $10$ | $k=n$ |\n| $4$ | $14$ | $k=0$ |\n| $5$ | $19$ | 所有 $u_i$ 均为叶子节点 |\n| $6$ | $34$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 蜗牛与富士山 (Day 2)", "background": "翻译自 [ROI 2023 D2T1](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n在爬上富士山的山顶后，蜗牛想要下山。在山坡上有一个类似二叉树的小径。\n\n该树包含 $n$ 个被 $n-1$ 个小径连接的节点。树的根位于山顶。一些节点处的小径到头了，它们是树的叶子节点。除了叶子节点外，每个节点向下山坡延伸两条小径，其中一条向左，另一条向右。\n\n蜗牛希望从根部开始沿着树向下爬并到达其中一个叶子节点。在路径上，蜗牛可以选择两个方向之一进行进一步下降：向左或向右。\n\n刚开始在山顶，蜗牛可以往任意方向（左或右）开始下降。在每个后续节点中，如果它选择与前一个节点选择的方向不同的方向，则它要进行转弯。\n\n由于蜗牛转弯不太方便，所以在从根到叶子的整个路径上，蜗牛最多只准备转弯 $k$ 次。", "description": "将树的节点从 $1$ 到 $n$ 编号，其中根节点编号为 $1$。给定 $q$ 个查询。每个查询给出一个节点 $u_i$，要求找出蜗牛在从根开始下降时，最多转弯 $k$ 次，且通过节点 $u_i$ 的路径上能到达的叶子节点数量。", "inputFormat": "第一行给出三个整数 $n,k,q$，分别表示树中节点的数量、蜗牛准备转动的最大次数，以及查询的数量。\n\n接下来的 $n$ 行描述了树的结构。第 $i$ 行的第一个整数 $t_i$ 表示节点 $i$ 的小径（子树）数量（$t_i = 0$ 或 $2$）。如果 $t_i = 2$，则在同一行中给出两个整数 $l_i$ 和 $r_i$，分别表示从节点 $i$ 出发的左侧和右侧小径连接到的节点编号（$1 \\le l_i,r_i \\le n$）。保证输入符合要求。\n\n接下来的 $q$ 行给出了查询。第 $i$ 行给出一个整数 $u_i$，表示蜗牛路径经过的节点编号（$1 \\le u_i \\le n$）。", "outputFormat": "对于每一次询问，输出一行一个整数表示答案。", "hint": "样例的树长这样。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tqrsn5y6.png)\n\n第一次询问（灰色为可到达的叶子节点，虚线为不可到达的节点）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3415ax74.png)\n\n第二次询问：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pojddavc.png)\n\n第三次询问：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0zoj4nas.png)\n\n第四次询问（因为最多转一次弯，所以并没有合法的路线，故输出 $0$）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9ib954xz.png)\n\n对于 $100\\%$ 的数据，$3 \\le n \\le 200000$，$0 \\le k \\le n$，$1 \\le q \\le 200000$。\n\n| Subtask | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $11$ | $n\\le500,q\\le500$，所有 $u_i$ 均为叶子节点 |\n| $2$ | $12$ | $n\\le500,q\\le500$ |\n| $3$ | $10$ | $k=n$ |\n| $4$ | $14$ | $k=0$ |\n| $5$ | $19$ | 所有 $u_i$ 均为叶子节点 |\n| $6$ | $34$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11109", "type": "P", "difficulty": 6, "samples": [["2\n8\n12 14\n1 3\n2 4\n1 10\n5 6\n7 9\n8 10\n11 13\n6\n1 2\n2 4\n1 2\n1 4\n5 7\n6 8", "2 5 3 4\n1 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] 会议 (Day 2)", "background": "翻译自 [ROI 2023 D2T2](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n秘鲁科学和教育协会正在组织一次会议，计划进行 $n$ 个活动，编号从 $1$ 到 $n$。$l_i$ 和 $r_i$ 分别表示第 $i$ 个活动的开始和结束时间。由于某些活动可能冲突，一个人不一定能参加所有会议活动。如果 $r_i < l_j$ 或者 $r_j < l_i$，则认为活动 $i$ 和 $j$ 不冲突。\n\n如果在同一个集合中任意两个不同的活动不冲突，则称该集合为相互兼容的。假设会议中最大相互兼容集合的大小为 $m$。则将会议的饱和度定义为 $\\frac{n}{m}$。由于资金减少，会议组织者决定减少一半数量的会议活动。同时，他们希望会议的饱和度保持不变，因此在减少的会议活动中，最大相互兼容集合的大小也必须减少一半。\n\n本题保证在原始会议计划中，会议活动的数量 $n$ 和最大兼容集合的大小 $m$ 恰好都是偶数。", "description": "请帮助组织者选择 $\\frac{n}{2}$ 个计划中的会议活动，以使所选活动的最大兼容集合的大小为 $\\frac{m}{2}$。", "inputFormat": "每个测试点包含多组数据。\n\n第一行包含一个整数 $t$，即输入数据集的数量（$1 \\le t \\le 50000$）。\n\n每组数据的第一行包含一个整数 $n$，即原始计划中的活动数量（$2 \\le n \\le 100000$，$n$ 是偶数）。\n\n在接下来的 $n$ 行中，对于每个数据集的描述，给出了活动的描述。每行包含两个整数 $l_i$ 和 $r_i$，分别是第 $i$ 个活动的开始和结束时间（$1 \\le l_i < r_i \\le 10^9$）。\n\n保证原始计划的最大兼容集合的大小 $m$ 是偶数，且 $\\sum n\\le100000$。", "outputFormat": "对于每组数据，在一行中输出 $\\frac{n}{2}$ 个不同活动的编号，即保留下来的应该进行的活动编号。如果有多个合适的答案，可以输出任意一个。所选择的活动的最大相互兼容集合的大小应为 $\\frac{m}{2}$。", "hint": "样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7qt38uep.png)\n\n上图是第一组输入数据中的初始活动集合。其中一种可能的最大相互兼容集合用粗虚线标出。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m7k9p90a.png)\n\n上图是第一组输入数据的答案的活动集合。其中一种可能的最大相互兼容集合用粗虚线标出。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j4o9mevq.png)\n\n第二组输入数据初始时的活动集合。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bu7gii0j.png)\n\n第二组输入数据答案中的活动集合。\n\n设 $N=\\sum n$。我们称活动 $i$ 完全覆盖活动 $j$，当且仅当 $l_i\\le l_j<r_j\\le r_i$。\n\n| Subtask | 分值 | $N\\le$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $5$ | $100000$ | 任意两项会议活动不冲突 |\n| $2$ | $20$ | $20$ |  |\n| $3$ | $7$ | $30$ |  |\n| $4$ | $15$ | $500$ | 对于任意两项活动 $i$ 和 $j$，它们要么不冲突，要么其中一项完全覆盖另一项活动；且有一项活动完全覆盖其它所有活动 |\n| $5$ | $15$ | $100000$ | 对于任意两项活动 $i$ 和 $j$，它们要么不冲突，要么其中一项完全覆盖另一项活动 |\n| $6$ | $13$ | $500$ |  |\n| $7$ | $13$ | $5000$ |  |\n| $8$ | $12$ | $100000$ |  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 会议 (Day 2)", "background": "翻译自 [ROI 2023 D2T2](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n秘鲁科学和教育协会正在组织一次会议，计划进行 $n$ 个活动，编号从 $1$ 到 $n$。$l_i$ 和 $r_i$ 分别表示第 $i$ 个活动的开始和结束时间。由于某些活动可能冲突，一个人不一定能参加所有会议活动。如果 $r_i < l_j$ 或者 $r_j < l_i$，则认为活动 $i$ 和 $j$ 不冲突。\n\n如果在同一个集合中任意两个不同的活动不冲突，则称该集合为相互兼容的。假设会议中最大相互兼容集合的大小为 $m$。则将会议的饱和度定义为 $\\frac{n}{m}$。由于资金减少，会议组织者决定减少一半数量的会议活动。同时，他们希望会议的饱和度保持不变，因此在减少的会议活动中，最大相互兼容集合的大小也必须减少一半。\n\n本题保证在原始会议计划中，会议活动的数量 $n$ 和最大兼容集合的大小 $m$ 恰好都是偶数。", "description": "请帮助组织者选择 $\\frac{n}{2}$ 个计划中的会议活动，以使所选活动的最大兼容集合的大小为 $\\frac{m}{2}$。", "inputFormat": "每个测试点包含多组数据。\n\n第一行包含一个整数 $t$，即输入数据集的数量（$1 \\le t \\le 50000$）。\n\n每组数据的第一行包含一个整数 $n$，即原始计划中的活动数量（$2 \\le n \\le 100000$，$n$ 是偶数）。\n\n在接下来的 $n$ 行中，对于每个数据集的描述，给出了活动的描述。每行包含两个整数 $l_i$ 和 $r_i$，分别是第 $i$ 个活动的开始和结束时间（$1 \\le l_i < r_i \\le 10^9$）。\n\n保证原始计划的最大兼容集合的大小 $m$ 是偶数，且 $\\sum n\\le100000$。", "outputFormat": "对于每组数据，在一行中输出 $\\frac{n}{2}$ 个不同活动的编号，即保留下来的应该进行的活动编号。如果有多个合适的答案，可以输出任意一个。所选择的活动的最大相互兼容集合的大小应为 $\\frac{m}{2}$。", "hint": "样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7qt38uep.png)\n\n上图是第一组输入数据中的初始活动集合。其中一种可能的最大相互兼容集合用粗虚线标出。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m7k9p90a.png)\n\n上图是第一组输入数据的答案的活动集合。其中一种可能的最大相互兼容集合用粗虚线标出。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j4o9mevq.png)\n\n第二组输入数据初始时的活动集合。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bu7gii0j.png)\n\n第二组输入数据答案中的活动集合。\n\n设 $N=\\sum n$。我们称活动 $i$ 完全覆盖活动 $j$，当且仅当 $l_i\\le l_j<r_j\\le r_i$。\n\n| Subtask | 分值 | $N\\le$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $5$ | $100000$ | 任意两项会议活动不冲突 |\n| $2$ | $20$ | $20$ |  |\n| $3$ | $7$ | $30$ |  |\n| $4$ | $15$ | $500$ | 对于任意两项活动 $i$ 和 $j$，它们要么不冲突，要么其中一项完全覆盖另一项活动；且有一项活动完全覆盖其它所有活动 |\n| $5$ | $15$ | $100000$ | 对于任意两项活动 $i$ 和 $j$，它们要么不冲突，要么其中一项完全覆盖另一项活动 |\n| $6$ | $13$ | $500$ |  |\n| $7$ | $13$ | $5000$ |  |\n| $8$ | $12$ | $100000$ |  |", "locale": "zh-CN"}}}
{"pid": "P11110", "type": "P", "difficulty": 6, "samples": [["8 5\n17 1 3 2 100 5 6 1\n0\n6 15 3\n9 4 4\n5 15 3\n17 34 1\n16 33 2", "Yes\nNo\nNo\nYes\nNo"], ["8 5\n17 1 3 2 100 5 6 1\n1\n6 15 3\n10 5 5\n6 16 4\n18 35 2\n21 38 7", "Yes\nNo\nNo\nYes\nNo"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] 陶陶装苹果 (Day 2)", "background": "翻译自 [ROI 2023 D2T3](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n淘淘有 $n$ 个整数重量的苹果，它们分别为 $w_1,w_2,\\dots,w_n$，这些苹果放在桌子上，同时有两个容量足够大的篮子。\n\n淘淘选择一个整数 $k$，他可以将每个重量 $w_i \\le k$ 的苹果放入其中一个篮子，也可以将其留在桌子上。重量大于 $k$ 的苹果将始终留在桌子上。\n\n如果淘淘能够将重量不超过 $k$ 的苹果放入篮子中，使得第一个篮子中苹果的重量之和等于 $x$，而第二个篮子中苹果的重量之和等于 $y$，则称 $(x, y)$ 是 $k$ 的可达到对。如果对于所有满足 $0 \\le x \\le a$ 和 $0 \\le y \\le b$ 的 $x$ 和 $y$，$(x, y)$ 都是 $k$ 可达到的，则称 $(a, b)$ 是 $k-\\!$ 完美的。", "description": "淘淘会询问你 $q$ 次，请你判断对于每个 $(k,a,b)$ 三元组，$(a, b)$ 是否是 $k-\\!$ 完美的。", "inputFormat": "第一行给出两个整数 $n$ 和 $q$，表示淘淘拥有的苹果数量和要处理的查询数量（$1 \\le n, q \\le 300,000$）。\n\n第二行给出 $n$ 个整数 $w_1,w_2,\\dots,w_n$，表示陶陶拥有的苹果的重量（$1 \\le w_i \\le 10^{12}$）。\n\n第三行给出一个整数 $z$，在接下来的输入中会用到（$0 \\le z \\le 10^6$）。\n\n接下来的 $q$ 行给出查询的描述。查询编号从 $1$ 到 $q$。每行包含三个整数 $j,c,d$（$0 \\le j, c, d \\le 10^{18}$），表示这个查询中的 $k = j - v \\times z,a = c - v \\times z,b = d - v \\times z$，其中 $v$ 是在这个查询前答案为 `Yes` 的询问的编号和。保证 $k,a,b \\ge 0$。\n\n在本题中，大多数测试点的 $z$ 都等于 $0$，此时 $k,a,b$ 的值分别等于 $j,c,d$。", "outputFormat": "对于每个查询，如果在该查询中 $(a, b)$ 对是 $k-\\!$ 完美的，则输出 `Yes`，否则输出 `No`。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/5kde4c21.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 陶陶装苹果 (Day 2)", "background": "翻译自 [ROI 2023 D2T3](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n淘淘有 $n$ 个整数重量的苹果，它们分别为 $w_1,w_2,\\dots,w_n$，这些苹果放在桌子上，同时有两个容量足够大的篮子。\n\n淘淘选择一个整数 $k$，他可以将每个重量 $w_i \\le k$ 的苹果放入其中一个篮子，也可以将其留在桌子上。重量大于 $k$ 的苹果将始终留在桌子上。\n\n如果淘淘能够将重量不超过 $k$ 的苹果放入篮子中，使得第一个篮子中苹果的重量之和等于 $x$，而第二个篮子中苹果的重量之和等于 $y$，则称 $(x, y)$ 是 $k$ 的可达到对。如果对于所有满足 $0 \\le x \\le a$ 和 $0 \\le y \\le b$ 的 $x$ 和 $y$，$(x, y)$ 都是 $k$ 可达到的，则称 $(a, b)$ 是 $k-\\!$ 完美的。", "description": "淘淘会询问你 $q$ 次，请你判断对于每个 $(k,a,b)$ 三元组，$(a, b)$ 是否是 $k-\\!$ 完美的。", "inputFormat": "第一行给出两个整数 $n$ 和 $q$，表示淘淘拥有的苹果数量和要处理的查询数量（$1 \\le n, q \\le 300,000$）。\n\n第二行给出 $n$ 个整数 $w_1,w_2,\\dots,w_n$，表示陶陶拥有的苹果的重量（$1 \\le w_i \\le 10^{12}$）。\n\n第三行给出一个整数 $z$，在接下来的输入中会用到（$0 \\le z \\le 10^6$）。\n\n接下来的 $q$ 行给出查询的描述。查询编号从 $1$ 到 $q$。每行包含三个整数 $j,c,d$（$0 \\le j, c, d \\le 10^{18}$），表示这个查询中的 $k = j - v \\times z,a = c - v \\times z,b = d - v \\times z$，其中 $v$ 是在这个查询前答案为 `Yes` 的询问的编号和。保证 $k,a,b \\ge 0$。\n\n在本题中，大多数测试点的 $z$ 都等于 $0$，此时 $k,a,b$ 的值分别等于 $j,c,d$。", "outputFormat": "对于每个查询，如果在该查询中 $(a, b)$ 对是 $k-\\!$ 完美的，则输出 `Yes`，否则输出 `No`。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/5kde4c21.png)", "locale": "zh-CN"}}}
{"pid": "P11111", "type": "P", "difficulty": 6, "samples": [["1\n9 3\n4 7 15\n1 2\n2 4\n2 5\n1 3\n3 6\n3 7\n6 8\n6 9\n4 4\n2 2\n5 5\n3 3\n2 2\n6 6\n3 3\n4 4\n3 3\n18 19 20\n\n1\n\n2\n\n3\n\n0", "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-1 10 -1\n\n-1\n\n4 2 5 3 2 6 3 4 3\n\n-1\n"], ["3\n3 4\n3 4 11\n1 2\n2 3\n0 1\n0 1\n0 1\n0 1 2 3\n\n2\n\n0\n4 6\n1 2 11\n1 2\n2 3\n3 4\n0 2\n1 1\n1 1\n1 2\n0 1 2 3 4 5\n\n5\n\n2\n\n3\n\n0\n5 7\n11 31 101\n1 2\n2 3\n2 4\n3 5\n1 2\n1 5\n0 4\n1 4\n4 6\n13 12 11 10 9 8 6\n\n3\n\n5\n\n7\n\n0", "\n\n\n\n\n\n\n\n\n12 8 3 -1\n\n1 0 0\n\n\n\n\n\n\n\n\n\n\n\n-1 -1 4 14 9 -1\n\n2 1 1 2\n\n-1\n\n1 1 1 1\n\n\n\n\n\n\n\n\n\n\n\n\n\n-1 127 23 58 13 90 91\n\n2 5 4 1 6\n\n2 4 4 3 4\n\n1 1 0 1 4\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "交互题", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2023] 生产计划 (Day 2)", "background": "翻译自 [ROI 2023 D2T4](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n**这是一道 IO 交互题**。\n\n某个国家准备制定汽车的生产计划。\n\n该国总共有 $n$ 个城市，每个城市中有一个工厂，它们要参与汽车的生产。第 $i$ 个城市的工厂可以雇佣 $l_i$ 到 $r_i$ 个人。\n\n一些城市之间通过双向道路相连，且道路网络呈树状结构。因此，如果要从一个城市到另一个城市，在不重复经过同一个城市的情况下，只有一种路径。\n\n生产计划被定义为一个整数序列 $[a_1, a_2, \\dots , a_n]$，其中 $a_i$ 表示在第 $i$ 个工厂工作的人数，满足 $l_i\\le a_i\\le r_i$。在制定生产计划后，一些工厂将被选为装配工厂，这些工厂负责装配汽车，而其它工厂则负责生产零部件。如果没有两个装配工厂所在的城市被一条道路直接连接，那么这个生产计划就是合理的。在所有可能的合理的计划中，会选择装配工厂的工人总数最大的一个计划。这个数就被称为计划 $[a_1, a_2, \\dots , a_n]$ 的效率。", "description": "你需要确定是否存在效率为 $v_i$ 的计划。如果存在这样的计划，则可能需要输出这样一个计划。\n\n制定计划的过程包括两个阶段。\n\n在第一阶段，你将获得 $v_1,v_2,\\dots,v_q$ 的值。你需要确定是否存在效率为 $v_i$ 的计划，如果不存在，输出 `-1`；如果存在，输出一个非负整数 $k_i$。\n\n对 $k$ 的定义如下：给定三个整数 $x,y,m$，定义计划 $[a_1, a_2, \\dots , a_n]$ 的 $k = \\bigoplus\\limits^n_{j=1} ( (x\\times j + y\\times a_j^2) \\bmod m )$，其中 $\\oplus$ 为按位异或。\n\n因为符合要求的计划可能不止一个，所以 $k_i$ 也有很多种可能，你需要输出其中一种可能的 $k_i$。\n\n在第二阶段，某些计划的可行性将被检查。在每个查询中，你的程序会得到一个整数 $i$（$1\\le i\\le q$）。对于这个查询，如果不能制定效率为 $v_i$ 的计划，你需要输出 `-1`；否则，你需要输出 $n$ 个整数 $a_1,a_2,\\dots,a_n$（$l_i\\le a_i\\le r_i$），表示一个制定的计划。这个计划计算出来的 $k$ 值应该等于你先前输出的 $k_i$，效率应该等于 $v_i$。\n\n在程序输出每个 $k$ 之前，无法知道哪些计划会被检查。因此，你需要保证在第一阶段中输出的 $k_i$ 是正确的。", "inputFormat": "本题多测，第一行输入一个整数 $t$（$1\\le t\\le10^4$），表示数据组数。\n\n在每组数据中：\n\n第一行包含两个整数 $n,q$（$2 \\le n \\le 2 \\times 10^5$，$1 \\le q \\le 2 \\times 10^5$），分别表示城市的数量和要制定的计划的数量。\n\n第二行包含三个整数 $x,y,m$（$11 \\le m \\le 2^{30}$，$0 \\le x,y < m$），即计算 $k$ 的参数。\n\n接下来的 $n-1$ 行描述了城市之间的道路网络。在这 $n-1$ 行中，第 $i$ 行包含两个整数 $s_i,f_i$（$1 \\le s_i,f_i \\le n$，$s_i \\ne f_i$），表示第 $i$ 条道路连接城市 $s_i$ 和 $f_i$ 的双向道路。保证这些道路能够构成一棵树。\n\n接下来的 $n$ 行中的第 $i$ 行包含两个整数 $l_i,r_i$（$0 \\le l_i \\le r_i \\le 10^9$），表示第 $i$ 个城市的工人数量限制。\n\n接下来的一行包含 $q$ 个整数 $v_1,v_2,\\dots,v_q$（$0 \\le v_i \\le \\sum\\limits^n_{i=1}r_i$），表示需要制定的计划的效率值。保证所有的 $v_i$ 都是不同的。\n\n接下来，你需要输出第一部分中你需要输出的内容（具体方式见“输出格式”）。输出完成后，才可以读入第二部分的数据。\n\n接下来若干行，每行输入一个数 $i$（$0\\le i\\le q$）。当 $i\\ne0$ 时，$i$ 表示要检查的计划的编号。在按照输出格式的要求输出后，交互库才会继续给你下一个 $i$。当 $i=0$ 时，表示第二部分的检查结束，即这一组数据输入完成。如果这不是最后一组数据，你的程序应该立即开始读入下一组数据。\n\n保证 $\\sum n,\\sum q\\le2\\times10^5$，且每组数据中检查计划次数 $c$ 的总和不超过 $10^4$，$\\sum n\\times c\\le10^6$。", "outputFormat": "读取完每组输入的第一部分后，需要输出 $q$ 个整数 $k_1,k_2,\\dots,k_q$（$-1 \\le k_i < 2^{30}$），如果 $k_i = -1$ 则表示无法制定效率值为 $v_i$ 的计划。输出后，交互库才会给你第二部分的数据。\n\n在读入第二部分检查的计划编号 $i$（且 $i\\ne0$）后，如果第 $i$ 个计划无法制定，即 $k_i=-1$ 时，则输出 `-1`。否则，需要输出 $n$ 个整数 $a_1,a_2,\\dots,a_n$（$l_i \\le a_i \\le r_i$），表示所制定的计划。该计划的 $k$ 应等于 $k_i$，并且效率应等于 $v_i$。\n\nIO 交互题在输出后应刷新缓冲区。\n\n如果在 C++ 中使用了 `cout << ... << endl`，在 Java 中使用了 `System.out.println`，在 Python 中使用了 `print`，在 Pascal 中使用了 `writeln`，那么输出缓冲区会自动刷新，不需要额外操作。\n\n如果使用了其他输出方法，建议手动刷新输出缓冲区。在刷新输出缓冲区时，可以使用 C 和 C++ 中的 `fflush(stdout)`，Pascal 中的 `flush(output)`，Java 中的 `System.out.flush()`，Python 中的 `sys.stdout.flush()`。", "hint": "在样例中，程序与交互库的交互用空行分隔。这样做是为了便于理解，清楚地知道哪个消息是对哪个消息的回应。在实际测试中，不会有多余的空行（当然，会有换行）。\n\n第一个样例只有一种制定计划的方法，即 $a = [4, 2, 5, 3, 2, 6, 3, 4, 3]$。它的效率为 $19$，计算出来的 $k$ 为 $10$。\n\n第二个样例有三组数据。\n\n- 在第一组数据中：\n  - 存在唯一一个效率为 $0$ 的计划，$a = [0, 0, 0]$。该计划的 $k$ 为 $12$。\n  - 存在效率为 $1$ 的计划，例如 $a = [1, 0, 0]$。该计划的 $k$ 为 $8$。\n  - 存在效率为 $2$ 的计划，例如 $a = [1, 0, 1]$。该计划的 $k$ 为 $3$。\n  - 不存在效率为 $3$ 的计划。\n  - 在这四个请求的计划中，检查了计划编号 $i = 2$（$v_2 = 1$）。\n- 在第二组数据中：\n  - 不存在效率为 $0$ 的计划。\n  - 不存在效率为 $1$ 的计划。\n  - 存在效率为 $2$ 的计划，例如 $a = [1, 1, 1, 1]$。该计划的 $k$ 为 $4$。\n  - 存在效率为 $3$ 的计划，例如 $a = [2, 1, 1, 1]$。该计划的 $k$ 为 $14$。\n  - 存在唯一的效率为 $4$ 的计划 $a = [2, 1, 1, 2]$。该计划的 $k$ 为 $9$。\n  - 不存在效率为 $5$ 的计划。\n  - 在这六个请求的计划中，检查了计划编号 $i = 5$（$v_5 = 4$），$i = 2$（$v_2 = 1$）和 $i = 3$（$v_3 = 2$）。\n- 在第三组数据的第一个部分中，请求了以下计划（从第二个开始，因为效率为 $v_1 = 13$ 的计划不存在）：$[2, 5, 4, 4, 6]$；$[2, 5, 4, 1, 6]$；$[2, 4, 4, 4, 4]$；$[2, 4, 4, 3, 4]$；$[2, 4, 4, 2, 4]$；$[1, 1, 0, 1, 4]$。\n\n| 子任务 | 分值 | $n,\\sum n$ | $\\sum q$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $11$ |  |  | $l_i=r_i$ |\n| $2$ | $9$ |  |  | $c=0$ |\n| $3$ | $12$ |  |  | $l_i=0,r_i\\le1$ |\n| $4$ | $4$ |  |  | $l_i=0$ |\n| $5$ | $8$ |  |  | $s_i=1,f_i=i+1$ |\n| $6$ | $5$ | $n\\le10,\\sum n\\le1000$ | $Q\\le1000$ | $c=q,r_i\\le10,r_i-l_i\\le2$ |\n| $7$ | $2$ | $n\\le10,\\sum n\\le1000$ | $Q\\le1000$ | $c=q,r_i\\le10$ |\n| $8$ | $13$ | $\\sum n\\le1000$ | $Q\\le1000$ | $c=q,\\sum\\limits^{n}_{i=1}r_i-l_i\\le10^4$ |\n| $9$ | $11$ | $\\sum n\\le1000$ | $Q\\le1000$ | $c=q$ |\n| $10$ | $6$ |  |  | $c=q$ |\n| $11$ | $5$ | $\\sum n\\le1000$ |  |  |\n| $12$ | $5$ | $\\sum n\\le8000$ |  |  |\n| $13$ | $9$ |  |  |  |\n\n保证 $\\sum n,\\sum q\\le2\\times10^5$，且每组数据中检查计划次数 $c$ 的总和不超过 $10^4$，$\\sum n\\times c\\le10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2023] 生产计划 (Day 2)", "background": "翻译自 [ROI 2023 D2T4](https://neerc.ifmo.ru/school/archive/2022-2023/ru-olymp-roi-2023-day2.pdf)。\n\n**这是一道 IO 交互题**。\n\n某个国家准备制定汽车的生产计划。\n\n该国总共有 $n$ 个城市，每个城市中有一个工厂，它们要参与汽车的生产。第 $i$ 个城市的工厂可以雇佣 $l_i$ 到 $r_i$ 个人。\n\n一些城市之间通过双向道路相连，且道路网络呈树状结构。因此，如果要从一个城市到另一个城市，在不重复经过同一个城市的情况下，只有一种路径。\n\n生产计划被定义为一个整数序列 $[a_1, a_2, \\dots , a_n]$，其中 $a_i$ 表示在第 $i$ 个工厂工作的人数，满足 $l_i\\le a_i\\le r_i$。在制定生产计划后，一些工厂将被选为装配工厂，这些工厂负责装配汽车，而其它工厂则负责生产零部件。如果没有两个装配工厂所在的城市被一条道路直接连接，那么这个生产计划就是合理的。在所有可能的合理的计划中，会选择装配工厂的工人总数最大的一个计划。这个数就被称为计划 $[a_1, a_2, \\dots , a_n]$ 的效率。", "description": "你需要确定是否存在效率为 $v_i$ 的计划。如果存在这样的计划，则可能需要输出这样一个计划。\n\n制定计划的过程包括两个阶段。\n\n在第一阶段，你将获得 $v_1,v_2,\\dots,v_q$ 的值。你需要确定是否存在效率为 $v_i$ 的计划，如果不存在，输出 `-1`；如果存在，输出一个非负整数 $k_i$。\n\n对 $k$ 的定义如下：给定三个整数 $x,y,m$，定义计划 $[a_1, a_2, \\dots , a_n]$ 的 $k = \\bigoplus\\limits^n_{j=1} ( (x\\times j + y\\times a_j^2) \\bmod m )$，其中 $\\oplus$ 为按位异或。\n\n因为符合要求的计划可能不止一个，所以 $k_i$ 也有很多种可能，你需要输出其中一种可能的 $k_i$。\n\n在第二阶段，某些计划的可行性将被检查。在每个查询中，你的程序会得到一个整数 $i$（$1\\le i\\le q$）。对于这个查询，如果不能制定效率为 $v_i$ 的计划，你需要输出 `-1`；否则，你需要输出 $n$ 个整数 $a_1,a_2,\\dots,a_n$（$l_i\\le a_i\\le r_i$），表示一个制定的计划。这个计划计算出来的 $k$ 值应该等于你先前输出的 $k_i$，效率应该等于 $v_i$。\n\n在程序输出每个 $k$ 之前，无法知道哪些计划会被检查。因此，你需要保证在第一阶段中输出的 $k_i$ 是正确的。", "inputFormat": "本题多测，第一行输入一个整数 $t$（$1\\le t\\le10^4$），表示数据组数。\n\n在每组数据中：\n\n第一行包含两个整数 $n,q$（$2 \\le n \\le 2 \\times 10^5$，$1 \\le q \\le 2 \\times 10^5$），分别表示城市的数量和要制定的计划的数量。\n\n第二行包含三个整数 $x,y,m$（$11 \\le m \\le 2^{30}$，$0 \\le x,y < m$），即计算 $k$ 的参数。\n\n接下来的 $n-1$ 行描述了城市之间的道路网络。在这 $n-1$ 行中，第 $i$ 行包含两个整数 $s_i,f_i$（$1 \\le s_i,f_i \\le n$，$s_i \\ne f_i$），表示第 $i$ 条道路连接城市 $s_i$ 和 $f_i$ 的双向道路。保证这些道路能够构成一棵树。\n\n接下来的 $n$ 行中的第 $i$ 行包含两个整数 $l_i,r_i$（$0 \\le l_i \\le r_i \\le 10^9$），表示第 $i$ 个城市的工人数量限制。\n\n接下来的一行包含 $q$ 个整数 $v_1,v_2,\\dots,v_q$（$0 \\le v_i \\le \\sum\\limits^n_{i=1}r_i$），表示需要制定的计划的效率值。保证所有的 $v_i$ 都是不同的。\n\n接下来，你需要输出第一部分中你需要输出的内容（具体方式见“输出格式”）。输出完成后，才可以读入第二部分的数据。\n\n接下来若干行，每行输入一个数 $i$（$0\\le i\\le q$）。当 $i\\ne0$ 时，$i$ 表示要检查的计划的编号。在按照输出格式的要求输出后，交互库才会继续给你下一个 $i$。当 $i=0$ 时，表示第二部分的检查结束，即这一组数据输入完成。如果这不是最后一组数据，你的程序应该立即开始读入下一组数据。\n\n保证 $\\sum n,\\sum q\\le2\\times10^5$，且每组数据中检查计划次数 $c$ 的总和不超过 $10^4$，$\\sum n\\times c\\le10^6$。", "outputFormat": "读取完每组输入的第一部分后，需要输出 $q$ 个整数 $k_1,k_2,\\dots,k_q$（$-1 \\le k_i < 2^{30}$），如果 $k_i = -1$ 则表示无法制定效率值为 $v_i$ 的计划。输出后，交互库才会给你第二部分的数据。\n\n在读入第二部分检查的计划编号 $i$（且 $i\\ne0$）后，如果第 $i$ 个计划无法制定，即 $k_i=-1$ 时，则输出 `-1`。否则，需要输出 $n$ 个整数 $a_1,a_2,\\dots,a_n$（$l_i \\le a_i \\le r_i$），表示所制定的计划。该计划的 $k$ 应等于 $k_i$，并且效率应等于 $v_i$。\n\nIO 交互题在输出后应刷新缓冲区。\n\n如果在 C++ 中使用了 `cout << ... << endl`，在 Java 中使用了 `System.out.println`，在 Python 中使用了 `print`，在 Pascal 中使用了 `writeln`，那么输出缓冲区会自动刷新，不需要额外操作。\n\n如果使用了其他输出方法，建议手动刷新输出缓冲区。在刷新输出缓冲区时，可以使用 C 和 C++ 中的 `fflush(stdout)`，Pascal 中的 `flush(output)`，Java 中的 `System.out.flush()`，Python 中的 `sys.stdout.flush()`。", "hint": "在样例中，程序与交互库的交互用空行分隔。这样做是为了便于理解，清楚地知道哪个消息是对哪个消息的回应。在实际测试中，不会有多余的空行（当然，会有换行）。\n\n第一个样例只有一种制定计划的方法，即 $a = [4, 2, 5, 3, 2, 6, 3, 4, 3]$。它的效率为 $19$，计算出来的 $k$ 为 $10$。\n\n第二个样例有三组数据。\n\n- 在第一组数据中：\n  - 存在唯一一个效率为 $0$ 的计划，$a = [0, 0, 0]$。该计划的 $k$ 为 $12$。\n  - 存在效率为 $1$ 的计划，例如 $a = [1, 0, 0]$。该计划的 $k$ 为 $8$。\n  - 存在效率为 $2$ 的计划，例如 $a = [1, 0, 1]$。该计划的 $k$ 为 $3$。\n  - 不存在效率为 $3$ 的计划。\n  - 在这四个请求的计划中，检查了计划编号 $i = 2$（$v_2 = 1$）。\n- 在第二组数据中：\n  - 不存在效率为 $0$ 的计划。\n  - 不存在效率为 $1$ 的计划。\n  - 存在效率为 $2$ 的计划，例如 $a = [1, 1, 1, 1]$。该计划的 $k$ 为 $4$。\n  - 存在效率为 $3$ 的计划，例如 $a = [2, 1, 1, 1]$。该计划的 $k$ 为 $14$。\n  - 存在唯一的效率为 $4$ 的计划 $a = [2, 1, 1, 2]$。该计划的 $k$ 为 $9$。\n  - 不存在效率为 $5$ 的计划。\n  - 在这六个请求的计划中，检查了计划编号 $i = 5$（$v_5 = 4$），$i = 2$（$v_2 = 1$）和 $i = 3$（$v_3 = 2$）。\n- 在第三组数据的第一个部分中，请求了以下计划（从第二个开始，因为效率为 $v_1 = 13$ 的计划不存在）：$[2, 5, 4, 4, 6]$；$[2, 5, 4, 1, 6]$；$[2, 4, 4, 4, 4]$；$[2, 4, 4, 3, 4]$；$[2, 4, 4, 2, 4]$；$[1, 1, 0, 1, 4]$。\n\n| 子任务 | 分值 | $n,\\sum n$ | $\\sum q$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $11$ |  |  | $l_i=r_i$ |\n| $2$ | $9$ |  |  | $c=0$ |\n| $3$ | $12$ |  |  | $l_i=0,r_i\\le1$ |\n| $4$ | $4$ |  |  | $l_i=0$ |\n| $5$ | $8$ |  |  | $s_i=1,f_i=i+1$ |\n| $6$ | $5$ | $n\\le10,\\sum n\\le1000$ | $Q\\le1000$ | $c=q,r_i\\le10,r_i-l_i\\le2$ |\n| $7$ | $2$ | $n\\le10,\\sum n\\le1000$ | $Q\\le1000$ | $c=q,r_i\\le10$ |\n| $8$ | $13$ | $\\sum n\\le1000$ | $Q\\le1000$ | $c=q,\\sum\\limits^{n}_{i=1}r_i-l_i\\le10^4$ |\n| $9$ | $11$ | $\\sum n\\le1000$ | $Q\\le1000$ | $c=q$ |\n| $10$ | $6$ |  |  | $c=q$ |\n| $11$ | $5$ | $\\sum n\\le1000$ |  |  |\n| $12$ | $5$ | $\\sum n\\le8000$ |  |  |\n| $13$ | $9$ |  |  |  |\n\n保证 $\\sum n,\\sum q\\le2\\times10^5$，且每组数据中检查计划次数 $c$ 的总和不超过 $10^4$，$\\sum n\\times c\\le10^6$。", "locale": "zh-CN"}}}
{"pid": "P11112", "type": "P", "difficulty": 4, "samples": [["2 3 2 6\n1 2\n2 3\n1 1\n2 6\n2 2", "4"], ["1 3 1 5\n2 2\n2 1\n1 9\n2 1", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 机器人物流 (Day 1)", "background": "翻译自 [ROI 2024 D1T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。\n\n在 ROI 2224 举办之时，一群能够克隆自身的机器人负责送货。人们不用出门，可以直接通过窗户拿到货物。\n\n最开始只有一个送货机器人。在任何时候，最上面的机器人可以在自己上方克隆出一个或多个新的机器人，形成一个“机器人柱”。每个机器人的高度等于一层楼。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wwgg5y12.png)\n\n在送货过程中，机器人柱会沿着宿舍楼从左到右移动。机器人的数据库中包含了订单列表，每个订单都指定了一个需要送货的窗户。当机器人队列经过一个窗户时，如果队列中有机器人位于窗户所在的高度，则可以直接完成送货。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/eefsp33h.png)\n\n在移动过程中，机器人柱可能会碰到障碍物。碰到障碍物后，只有位于障碍物高度上方的机器人能够继续移动。这些机器人在经过障碍物后会立刻重新排成一个机器人柱，并且可以继续移动、克隆和完成送货任务。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9arqsmr6.png)\n\n障碍物和窗户之间的距离足够大，因此机器人在经过障碍物时不会同时经过窗户。", "description": "每完成一个订单，机器人公司会获得 $p$ 个虚拟货币，而克隆一个新机器人的成本是 $c$ 个虚拟货币。最终利润等于订单配送的总收入减去所有机器人克隆的总成本。公司希望最大化利润。请你确定公司可以获得的最大利润。\n\n公司不需要完成所有订单，且机器人可以在任何时候停止送货。", "inputFormat": "第一行包含四个整数 $n, m, c, p$（$0 \\le n, m \\le 100000$，$1 \\le c, p \\le 1000000$），分别表示障碍物的数量、订单的数量、克隆一个机器人的成本和每个订单的配送收入。\n\n接下来的 $n + m$ 行描述了障碍物和窗户的详细信息，按从左到右的顺序给出。每行包含两个整数 $t_i$ 和 $h_i$（$1 \\le t_i \\le 2$，$1 \\le h_i \\le 1000000$），其中 $t_i$ 表示对象的类型（$1$ 为障碍物，$2$ 为窗户），$h_i$ 表示障碍物的高度或窗户所在的楼层。\n\n保证有 $n$ 个障碍物，剩余 $m$ 个为窗户。", "outputFormat": "输出一个整数，表示可以获得的最大利润。", "hint": "样例 $1$ 解释：\n\n以下是订单配送的最佳策略之一，如果选择配送到第二个窗户，不会增加公司的利润。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/utimy7f3.png)\n\n样例 $2$ 解释：\n\n只需要克隆一次机器人，用来配送到第一个窗户，因为这个新克隆的机器人可以继续用来配送到第二个窗户。为了配送到第三个窗户而进行额外的克隆在经济上是不划算的。\n\n下面是各个子任务的分值和特殊性质表格。全部数据范围见输入格式。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $24$ | $n\\le100,m\\le100,h_i\\le100$ |\n| $2$ | $12$ | $n=0$ |\n| $3$ | $14$ | $n=1$ |\n| $4$ | $15$ | $m=1$ |\n| $5$ | $17$ | $c=1,p=10^6$ 且障碍物高度均为 $1$ |\n| $6$ | $18$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 机器人物流 (Day 1)", "background": "翻译自 [ROI 2024 D1T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。\n\n在 ROI 2224 举办之时，一群能够克隆自身的机器人负责送货。人们不用出门，可以直接通过窗户拿到货物。\n\n最开始只有一个送货机器人。在任何时候，最上面的机器人可以在自己上方克隆出一个或多个新的机器人，形成一个“机器人柱”。每个机器人的高度等于一层楼。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wwgg5y12.png)\n\n在送货过程中，机器人柱会沿着宿舍楼从左到右移动。机器人的数据库中包含了订单列表，每个订单都指定了一个需要送货的窗户。当机器人队列经过一个窗户时，如果队列中有机器人位于窗户所在的高度，则可以直接完成送货。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/eefsp33h.png)\n\n在移动过程中，机器人柱可能会碰到障碍物。碰到障碍物后，只有位于障碍物高度上方的机器人能够继续移动。这些机器人在经过障碍物后会立刻重新排成一个机器人柱，并且可以继续移动、克隆和完成送货任务。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9arqsmr6.png)\n\n障碍物和窗户之间的距离足够大，因此机器人在经过障碍物时不会同时经过窗户。", "description": "每完成一个订单，机器人公司会获得 $p$ 个虚拟货币，而克隆一个新机器人的成本是 $c$ 个虚拟货币。最终利润等于订单配送的总收入减去所有机器人克隆的总成本。公司希望最大化利润。请你确定公司可以获得的最大利润。\n\n公司不需要完成所有订单，且机器人可以在任何时候停止送货。", "inputFormat": "第一行包含四个整数 $n, m, c, p$（$0 \\le n, m \\le 100000$，$1 \\le c, p \\le 1000000$），分别表示障碍物的数量、订单的数量、克隆一个机器人的成本和每个订单的配送收入。\n\n接下来的 $n + m$ 行描述了障碍物和窗户的详细信息，按从左到右的顺序给出。每行包含两个整数 $t_i$ 和 $h_i$（$1 \\le t_i \\le 2$，$1 \\le h_i \\le 1000000$），其中 $t_i$ 表示对象的类型（$1$ 为障碍物，$2$ 为窗户），$h_i$ 表示障碍物的高度或窗户所在的楼层。\n\n保证有 $n$ 个障碍物，剩余 $m$ 个为窗户。", "outputFormat": "输出一个整数，表示可以获得的最大利润。", "hint": "样例 $1$ 解释：\n\n以下是订单配送的最佳策略之一，如果选择配送到第二个窗户，不会增加公司的利润。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/utimy7f3.png)\n\n样例 $2$ 解释：\n\n只需要克隆一次机器人，用来配送到第一个窗户，因为这个新克隆的机器人可以继续用来配送到第二个窗户。为了配送到第三个窗户而进行额外的克隆在经济上是不划算的。\n\n下面是各个子任务的分值和特殊性质表格。全部数据范围见输入格式。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $24$ | $n\\le100,m\\le100,h_i\\le100$ |\n| $2$ | $12$ | $n=0$ |\n| $3$ | $14$ | $n=1$ |\n| $4$ | $15$ | $m=1$ |\n| $5$ | $17$ | $c=1,p=10^6$ 且障碍物高度均为 $1$ |\n| $6$ | $18$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11113", "type": "P", "difficulty": 6, "samples": [["4\n4 4\n.a.b\n..e.\n....\n.cd.\nLRU\n1 1\n.\nUULLRRDD\n1 6\n.a.aa.\nLLURDDD\n5 7\n.ba.b..\nac..c.d\ne......\n....da.\nd.eae..\nDLDDRULRRR", "..ab\n..ce\n...d\n....\n.\n...aaa\ndceebab\n...aeac\n.....ad\n......d\n......."]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 2026 (Day 1)", "background": "翻译自 [ROI 2024 D1T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。\n\n一款新的游戏《2026》在一个 $m$ 行 $n$ 列的矩形盘面上进行。盘面被划分为 $m \\times n$ 个 $1 \\times 1$ 的小格子。在一些格子上放置了大小为 $1 \\times 1$ 的方块，每个方块上写有一个英文字母。\n\n你需要进行 $q$ 次操作，每次操作都是将所有方块向一个方向移动到底。因此，操作序列由一个长度为 $q$ 的字符串 $s$ 给出，字符串中每个字符表示一个方向：`L` 表示向左移，`R` 表示向右移，`U` 表示向上移，`D` 表示向下移。\n\n具体操作与游戏《2048》相类似：在棋盘上，只要有一个方块在指定方向上相邻的格子是空的，该方块就会移动到该空格子上，包括它后面的那些方块也会连带着向那个方向一起移动，直到前方没有空格。", "description": "给出棋盘的初始状态和操作序列，请确定所有操作执行完成后盘面的状态。", "inputFormat": "输入包含多组数据。\n\n- 第一行输入一个整数 $t$ ，表示测试数据的组数（$1 \\le t \\le 200 000$）。\n- 对于每组数据：\n  - 第一行输入整数 $m$ 和 $n$，代表盘面的大小（$1 \\le m, n \\le 10^6$，$1 \\le m \\times n \\le 10^6$）。\n  - 接下来的 $m$ 行，输入盘面的初始状态：\n    - 其中的第 $i$ 行（$1 \\le i \\le m$）包含一个长度为 $n$ 的字符串 $a_{i1}a_{i2}\\dots a_{in}$，表示第 $i$ 行的盘面状态。\n    - 每个字符 $a_{ij}$ 要么是小写英文字母（从 `a` 到 `z`），要么是点号 `.`。如果 $a_{ij}$ 是 `.`，则表示第 $i$ 行第 $j$ 列的格子为空，否则表示该格子上有一个标有字母 $a_{ij}$ 的方块。\n  - 最后一行输入一个字符串 $s$，由 $q$ 个字符组成，表示操作的序列（$1 \\le q \\le 10^6$）。每个字符都是 `L`，`R`，`U`，`D` 之一。\n\n所有测试数据中 $m \\times n$ 的总和不超过 $2 \\times 10^6$，$q$ 的总和不超过 $2 \\times 10^6$。", "outputFormat": "对于每组数据，输出执行完所有操作后的盘面，格式与输入相同。", "hint": "样例解释：\n\n在第一组输入数据中，盘面最初看起来是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/74l670ch.png)\n\n第一次操作将所有方块向左移动。接着，盘面会变成这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zj8ivsbl.png)\n\n第二次操作将所有方块向右移动。接着，盘面会变成这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o4crenzj.png)\n\n第三次，也是最后一次操作将所有方块向上移动。所有操作结束后，盘面会变成这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/85uoz27h.png)\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $9$ | $t=1,q=1,n,m\\le100$ |\n| $2$ | $7$ | $s_i$ 只可能为 `L` 或 `R` |\n| $3$ | $13$ | $\\sum mnq\\le10^7$ |\n| $4$ | $14$ | $s_i$ 只可能为 `L` 或 `R` 或 `U` |\n| $5$ | $12$ | 棋盘上所有字母都是 `a`，$\\sum mq\\le10^7$ |\n| $6$ | $11$ | 棋盘上所有字母都是 `a` |\n| $7$ | $9$ | 棋盘初始状态是“阶梯状”的，具体地，第 $i$ 行仅最左侧恰有 $i-1$ 个字母 |\n| $8$ | $14$ | $s$ 是重复若干次的 `LURD` |\n| $9$ | $11$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 2026 (Day 1)", "background": "翻译自 [ROI 2024 D1T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。\n\n一款新的游戏《2026》在一个 $m$ 行 $n$ 列的矩形盘面上进行。盘面被划分为 $m \\times n$ 个 $1 \\times 1$ 的小格子。在一些格子上放置了大小为 $1 \\times 1$ 的方块，每个方块上写有一个英文字母。\n\n你需要进行 $q$ 次操作，每次操作都是将所有方块向一个方向移动到底。因此，操作序列由一个长度为 $q$ 的字符串 $s$ 给出，字符串中每个字符表示一个方向：`L` 表示向左移，`R` 表示向右移，`U` 表示向上移，`D` 表示向下移。\n\n具体操作与游戏《2048》相类似：在棋盘上，只要有一个方块在指定方向上相邻的格子是空的，该方块就会移动到该空格子上，包括它后面的那些方块也会连带着向那个方向一起移动，直到前方没有空格。", "description": "给出棋盘的初始状态和操作序列，请确定所有操作执行完成后盘面的状态。", "inputFormat": "输入包含多组数据。\n\n- 第一行输入一个整数 $t$ ，表示测试数据的组数（$1 \\le t \\le 200 000$）。\n- 对于每组数据：\n  - 第一行输入整数 $m$ 和 $n$，代表盘面的大小（$1 \\le m, n \\le 10^6$，$1 \\le m \\times n \\le 10^6$）。\n  - 接下来的 $m$ 行，输入盘面的初始状态：\n    - 其中的第 $i$ 行（$1 \\le i \\le m$）包含一个长度为 $n$ 的字符串 $a_{i1}a_{i2}\\dots a_{in}$，表示第 $i$ 行的盘面状态。\n    - 每个字符 $a_{ij}$ 要么是小写英文字母（从 `a` 到 `z`），要么是点号 `.`。如果 $a_{ij}$ 是 `.`，则表示第 $i$ 行第 $j$ 列的格子为空，否则表示该格子上有一个标有字母 $a_{ij}$ 的方块。\n  - 最后一行输入一个字符串 $s$，由 $q$ 个字符组成，表示操作的序列（$1 \\le q \\le 10^6$）。每个字符都是 `L`，`R`，`U`，`D` 之一。\n\n所有测试数据中 $m \\times n$ 的总和不超过 $2 \\times 10^6$，$q$ 的总和不超过 $2 \\times 10^6$。", "outputFormat": "对于每组数据，输出执行完所有操作后的盘面，格式与输入相同。", "hint": "样例解释：\n\n在第一组输入数据中，盘面最初看起来是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/74l670ch.png)\n\n第一次操作将所有方块向左移动。接着，盘面会变成这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zj8ivsbl.png)\n\n第二次操作将所有方块向右移动。接着，盘面会变成这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o4crenzj.png)\n\n第三次，也是最后一次操作将所有方块向上移动。所有操作结束后，盘面会变成这样：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/85uoz27h.png)\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $9$ | $t=1,q=1,n,m\\le100$ |\n| $2$ | $7$ | $s_i$ 只可能为 `L` 或 `R` |\n| $3$ | $13$ | $\\sum mnq\\le10^7$ |\n| $4$ | $14$ | $s_i$ 只可能为 `L` 或 `R` 或 `U` |\n| $5$ | $12$ | 棋盘上所有字母都是 `a`，$\\sum mq\\le10^7$ |\n| $6$ | $11$ | 棋盘上所有字母都是 `a` |\n| $7$ | $9$ | 棋盘初始状态是“阶梯状”的，具体地，第 $i$ 行仅最左侧恰有 $i-1$ 个字母 |\n| $8$ | $14$ | $s$ 是重复若干次的 `LURD` |\n| $9$ | $11$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P11114", "type": "P", "difficulty": 6, "samples": [["5 2 2 1\n1\n1 2 1 2 1", "14"], ["8 3 2 2\n2\n1 1 1 1 1 2 2 2", "17"], ["8 3 3 2\n3\n1 2 2 3 2 3 2 1", "15"], ["8 6 6 2\n2\n1 2 3 4 3 5 6 1", "9"], ["7 3 3 1\n3\n1 2 3 2 2 1 3", "16"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 小推车 (Day 1)", "background": "翻译自 [ROI 2024 D1T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。", "description": "航空公司提供了一种新型的商务舱，飞机上的座位沿着过道排列。假设座位总数为 $n$，座位的坐标从 $1$ 到 $n$。\n\n每个乘客都有一个饮料偏好，饮料的种类共有 $k$ 种，编号从 $1$ 到 $k$。每个乘客只能选择一种饮料。在飞机上，饮料需要从一辆小推车上分给乘客。\n\n饮料装在一个瓶子里，每个瓶子的饮料可以服务 $p$ 个乘客。也就是说，一个瓶子的容量为 $p$。小推车最多可以装载 $m$ 个瓶子。保证 $k\\le m$。\n\n乘客按照座位号从 $1$ 到 $n$ 依次接受服务。小推车从座位前方的起点（坐标为 $0$）开始移动，并最终到达终点（坐标为 $n + 1$）。在小推车服务乘客的过程中，它可能需要去往储藏室中装载新的饮料。储藏室可能位于飞机前部的起点处，也可能位于后部的终点处，也有可能两侧都有。\n\n如果小推车在座位 $i$ 的位置，它需要移动到起点处的储藏室的距离是 $i$，而到达终点处的储藏室的距离是 $n + 1 - i$。小推车在行进过程中可能需要补充饮料，如果小推车到达储藏室，它可以卸下空的瓶子，并装载新的饮料。不可以卸下还装有饮料的瓶子。在补充饮料后，小推车应该回到第一个未提供饮料的乘客的位置，再继续向后为乘客提供服务。\n\n你需要计算小推车从 $0$ 移动到 $n + 1$ 的最小总移动距离，以便为所有乘客提供所需的饮料。", "inputFormat": "第一行包含四个整数 $n$，$m$，$k$ 和 $p$，分别表示座位数量、小推车所装瓶子的容量、饮料种类数量和每个瓶子所装饮料的容量。\n\n第二行包含一个整数 $c$，表示储藏室的位置，$c$ 的取值范围是 $1$ 到 $3$。$c=1$ 表示储藏室只在终点位置；$c=2$ 表示储藏室只在起点位置；$c=3$ 表示储藏室在起点和终点都有。\n\n第三行包含 $n$ 个整数 $a_i$，表示第 $i$ 个座位的乘客需要的饮料的类型。", "outputFormat": "输出一个整数，表示小推车在服务所有乘客的过程中所需的最小移动距离。", "hint": "在第一个样例中，小推车可以装载 $m = 2$ 个瓶子，每瓶含 $p = 1$ 份饮料。储藏室位于客舱的尽头。\n- 首先，小推车需要装上饮料 $1$ 和 $2$，这些饮料将分发给座位 $1$ 和 $2$ 的乘客，小推车需要行驶 $2$ 的距离从起点 $0$ 到点 $2$，即 $d_1=2$。\n- 接着，小推车需要前往客舱尽头的储藏室（距离为 $4$），装上饮料 $1$ 和 $2$，然后返回到座位 $3$（小推车需要移动 $3$ 的距离）。$d_2=4+3=7$。\n- 然后，小推车要为座位 $3$ 和 $4$ 的乘客提供饮料 $1$ 和 $2$（小推车在座位 $3$ 和 $4$ 之间移动 $1$ 的距离）。$d_3=1$。\n- 最后，小推车需要再次前往储藏室（从座位 $4$ 到储藏室的距离为 $2$），装上饮料 $1$，从储藏室返回到座位 $5$（距离为 $1$），服务完该乘客后再移动 $1$ 的距离到客舱尽头。$d_4=2+1+1=4$。\n\n总距离为 $d_1+d_2+d_3+d_4=2+7+1+4=14$。\n\n在第二个样例中，小推车可以装载 $m = 3$ 个瓶子，每瓶含 $p = 2$ 份饮料。储藏室位于客舱的前端。小推车需要装满 $3$ 瓶饮料 $1$，服务座位 $1$ 到 $4$ 的乘客。之后，$2$ 瓶饮料 $1$ 将被用完，需要立刻前往储藏室装满 $2$ 瓶饮料 $2$，然后服务座位 $5$ 到 $8$ 的乘客（如果在服务完乘客 $5$ 后再回储藏室补充饮料，则要移动更长的距离）。\n\n在第三个样例中，小推车可以装载 $m = 3$ 个瓶子，每瓶含 $p = 2$ 份饮料，储藏室分别位于客舱的两端。为了服务乘客，需要 $2$ 瓶饮料 $2$，以及饮料 $1$ 和 $3$ 各 $1$ 瓶，因此需要去储藏室更换空瓶。最好的方案是在服务完座位 $3$ 的乘客后，再去客舱前端的储藏室换取饮料 $2$。\n\n在第四个样例中，小推车需要装载每种饮料各 $1$ 瓶，并且由于每瓶含 $2$ 份饮料，这样可以在不额外补充的情况下服务所有乘客。\n\n在第五个样例中，需要进行两次补充，小推车在服务完乘客 $3$ 后需要第一次返回客舱开头的储藏室，第二次则是在服务完乘客 $6$ 后去到客舱尽头的储藏室。\n\n原题目有十二个子任务，由于洛谷限制这里不能全部上传。\n\n对于 $100\\%$ 的数据，$3\\le n\\le 10^6,1\\le p\\le 10^6,1\\le a_i\\le k\\le m\\le 10^6,1\\le c\\le3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 小推车 (Day 1)", "background": "翻译自 [ROI 2024 D1T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。", "description": "航空公司提供了一种新型的商务舱，飞机上的座位沿着过道排列。假设座位总数为 $n$，座位的坐标从 $1$ 到 $n$。\n\n每个乘客都有一个饮料偏好，饮料的种类共有 $k$ 种，编号从 $1$ 到 $k$。每个乘客只能选择一种饮料。在飞机上，饮料需要从一辆小推车上分给乘客。\n\n饮料装在一个瓶子里，每个瓶子的饮料可以服务 $p$ 个乘客。也就是说，一个瓶子的容量为 $p$。小推车最多可以装载 $m$ 个瓶子。保证 $k\\le m$。\n\n乘客按照座位号从 $1$ 到 $n$ 依次接受服务。小推车从座位前方的起点（坐标为 $0$）开始移动，并最终到达终点（坐标为 $n + 1$）。在小推车服务乘客的过程中，它可能需要去往储藏室中装载新的饮料。储藏室可能位于飞机前部的起点处，也可能位于后部的终点处，也有可能两侧都有。\n\n如果小推车在座位 $i$ 的位置，它需要移动到起点处的储藏室的距离是 $i$，而到达终点处的储藏室的距离是 $n + 1 - i$。小推车在行进过程中可能需要补充饮料，如果小推车到达储藏室，它可以卸下空的瓶子，并装载新的饮料。不可以卸下还装有饮料的瓶子。在补充饮料后，小推车应该回到第一个未提供饮料的乘客的位置，再继续向后为乘客提供服务。\n\n你需要计算小推车从 $0$ 移动到 $n + 1$ 的最小总移动距离，以便为所有乘客提供所需的饮料。", "inputFormat": "第一行包含四个整数 $n$，$m$，$k$ 和 $p$，分别表示座位数量、小推车所装瓶子的容量、饮料种类数量和每个瓶子所装饮料的容量。\n\n第二行包含一个整数 $c$，表示储藏室的位置，$c$ 的取值范围是 $1$ 到 $3$。$c=1$ 表示储藏室只在终点位置；$c=2$ 表示储藏室只在起点位置；$c=3$ 表示储藏室在起点和终点都有。\n\n第三行包含 $n$ 个整数 $a_i$，表示第 $i$ 个座位的乘客需要的饮料的类型。", "outputFormat": "输出一个整数，表示小推车在服务所有乘客的过程中所需的最小移动距离。", "hint": "在第一个样例中，小推车可以装载 $m = 2$ 个瓶子，每瓶含 $p = 1$ 份饮料。储藏室位于客舱的尽头。\n- 首先，小推车需要装上饮料 $1$ 和 $2$，这些饮料将分发给座位 $1$ 和 $2$ 的乘客，小推车需要行驶 $2$ 的距离从起点 $0$ 到点 $2$，即 $d_1=2$。\n- 接着，小推车需要前往客舱尽头的储藏室（距离为 $4$），装上饮料 $1$ 和 $2$，然后返回到座位 $3$（小推车需要移动 $3$ 的距离）。$d_2=4+3=7$。\n- 然后，小推车要为座位 $3$ 和 $4$ 的乘客提供饮料 $1$ 和 $2$（小推车在座位 $3$ 和 $4$ 之间移动 $1$ 的距离）。$d_3=1$。\n- 最后，小推车需要再次前往储藏室（从座位 $4$ 到储藏室的距离为 $2$），装上饮料 $1$，从储藏室返回到座位 $5$（距离为 $1$），服务完该乘客后再移动 $1$ 的距离到客舱尽头。$d_4=2+1+1=4$。\n\n总距离为 $d_1+d_2+d_3+d_4=2+7+1+4=14$。\n\n在第二个样例中，小推车可以装载 $m = 3$ 个瓶子，每瓶含 $p = 2$ 份饮料。储藏室位于客舱的前端。小推车需要装满 $3$ 瓶饮料 $1$，服务座位 $1$ 到 $4$ 的乘客。之后，$2$ 瓶饮料 $1$ 将被用完，需要立刻前往储藏室装满 $2$ 瓶饮料 $2$，然后服务座位 $5$ 到 $8$ 的乘客（如果在服务完乘客 $5$ 后再回储藏室补充饮料，则要移动更长的距离）。\n\n在第三个样例中，小推车可以装载 $m = 3$ 个瓶子，每瓶含 $p = 2$ 份饮料，储藏室分别位于客舱的两端。为了服务乘客，需要 $2$ 瓶饮料 $2$，以及饮料 $1$ 和 $3$ 各 $1$ 瓶，因此需要去储藏室更换空瓶。最好的方案是在服务完座位 $3$ 的乘客后，再去客舱前端的储藏室换取饮料 $2$。\n\n在第四个样例中，小推车需要装载每种饮料各 $1$ 瓶，并且由于每瓶含 $2$ 份饮料，这样可以在不额外补充的情况下服务所有乘客。\n\n在第五个样例中，需要进行两次补充，小推车在服务完乘客 $3$ 后需要第一次返回客舱开头的储藏室，第二次则是在服务完乘客 $6$ 后去到客舱尽头的储藏室。\n\n原题目有十二个子任务，由于洛谷限制这里不能全部上传。\n\n对于 $100\\%$ 的数据，$3\\le n\\le 10^6,1\\le p\\le 10^6,1\\le a_i\\le k\\le m\\le 10^6,1\\le c\\le3$。", "locale": "zh-CN"}}}
{"pid": "P11115", "type": "P", "difficulty": 7, "samples": [["4\n2\n2 2 3 3\n3 3 4 4\n2\n2 1 2 3\n1 2 3 2\n4\n2 2 4 5\n3 4 9 7\n2 9 9 10\n7 1 9 7\n7\n2 1 2 9\n5 1 6 8\n4 5 7 6\n1 8 4 10\n1 6 3 6\n1 2 7 3\n4 1 7 1", "3\n2 3 1 1\n2 4 1 1\n3 4 1 1\n2\n1 3 1 1\n2 2 2 1\n4\n2 4 2 2\n2 9 4 2\n3 9 2 2\n7 9 3 3\n6\n1 4 2 2\n1 6 1 1\n1 7 3 2\n2 2 4 2\n4 7 2 1\n5 6 2 1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["线段树", "2024", "Special Judge", "扫描线", "ROI（俄罗斯）"], "title": "[ROI 2024] 白菜 (Day 1)", "background": "翻译自 [ROI 2024 D1T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。\n\n拉马赞决定从事一个重要的业务——种植白菜。种植白菜的场地是一个无限大的网格场地。每个网格单元可以种植一个白菜。拉马赞只种植了场地的一部分。他计划利用其中的几个矩形区域，这些矩形可能会相交。如果一个网格单元位于至少一个矩形内，则该单元被认为种植了白菜。\n\n具体地，拉马赞选择了 $n$ 个矩形区域，矩形的坐标为 $(x_{L_i}, y_{L_i}, x_{R_i}, y_{R_i})$ (其中 $x_{L_i} \\le x_{R_i}$，$y_{L_i} \\le y_{R_i}$，$1 \\le i \\le n$)。如果存在至少一个矩形 $i$ ($1 \\le i \\le n$)，使得 $x_{L_i} \\le x \\le x_{R_i}$ 且 $y_{L_i} \\le y \\le y_{R_i}$，则认为网格单元 $(x, y)$ 被种植了白菜。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1ssdqjt.png)\n\n拉马赞曾经是一个程序员（并且还是一个获奖者），因此他决定使用人工智能机器人定期处理种植。一个机器人可以服务于任意的水平区域 $(x_{\\text{robot}_1}, x_{\\text{robot}_2}, y_{\\text{robot}})$，即所有满足 $x_{\\text{robot}_1} \\le x \\le x_{\\text{robot}_2}$ 且 $y = y_{\\text{robot}}$ 的网格单元 $(x, y)$。\n\n重要的是，机器人只能在种植的区域内移动。他明白，为了最小化机器人的数量，需要使用那些不能进一步扩展的水平区域。如果满足以下条件，拉马赞将使用机器人在网格单元 $(x_{\\text{robot}_1}, x_{\\text{robot}_2}, y_{\\text{robot}})$ 上工作：\n\n- 所有满足 $x_{\\text{robot}_1} \\le x \\le x_{\\text{robot}_2}$ 且 $y = y_{\\text{robot}}$ 的网格单元 $(x, y)$ 都属于种植区域；\n- 网格单元 $(x_{\\text{robot}_1} - 1, y_{\\text{robot}})$ 不属于种植区域；\n- 网格单元 $(x_{\\text{robot}_2} + 1, y_{\\text{robot}})$ 不属于种植区域。", "description": "你需要收集有关机器人在种植区域工作的统计信息。如果存在一个机器人恰好在网格段 $(x_1, x_2, y)$ 上工作，我们说 $(x_1, x_2)$ 在行 $y$ 上被服务。具体地，你需要：\n\n- 找出所有在某一行中被服务的 $(x_1, x_2)$ 对。\n- 对于每一对这样的 $(x_1, x_2)$，找出它被服务的行数。\n- 对于每一对这样的 $(x_1, x_2)$，找出它被服务的最大连续行数。换句话说，找出最大值 $k$，使得存在一个长度为 $k$ 的连续行区间 $[y_1, y_2]$（其中 $y_2 - y_1 + 1 = k$），使得在任意行 $y_1 \\le y \\le y_2$ 中，该对 $(x_1, x_2)$ 都被服务。", "inputFormat": "输入包含多组数据。第一行给出一个整数 $t$（$1 \\le t \\le 200000$），表示测试数据的组数。\n\n每组数据的第一行给出一个整数 $n$（$1 \\le n \\le 200000$），表示矩形区域的数量。\n\n接下来的 $n$ 行中，每行包含四个整数 $x_{L_i}$，$y_{L_i}$，$x_{R_i}$，$y_{R_i}$（$1 \\le x_{L_i} \\le x_{R_i} \\le 10^9$，$1 \\le y_{L_i} \\le y_{R_i} \\le 10^9$），表示一个矩形区域。\n\n令 $N$ 表示所有数据集中的 $n$ 总和，保证 $N \\le 200000$。", "outputFormat": "对于每组数据，首先输出一个整数 $p$（$p \\ge 1$），表示在某一行中被服务的 $(x_1, x_2)$ 对的数量。接下来 $p$ 行中，每行输出四个整数 $x_1$，$x_2$，$cnt$，$k$（$1 \\le x_1 \\le x_2 \\le 10^9$，$0 \\le cnt, k \\le 10^9$）。其中，$cnt$ 是该对 $(x_1, x_2)$ 被服务的行数，$k$ 是它被服务的最大连续行数。\n\n每一对 $(x_1, x_2)$ 必须是不同的。每一对在某一行中被服务的 $(x_1,x_2)$ 对，必须输出且只能输出一次。输出顺序可以是任意的。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/agobgb4r.png)\n\n在第一组数据中，机器人在以下区段进行服务：$(2, 3, 2)$，$(2, 4, 3)$ 和 $(3, 4, 4)$。因此，对 $(2, 3)$，$(2, 4)$ 和 $(3, 4)$ 在某一行中得到服务，并且每对都只在一行中被服务。\n\n在第二组数据中，机器人在以下区段进行服务：$(2, 2, 1)$，$(2, 4, 2)$ 和 $(2, 2, 3)$。因此，对 $(2, 2)$ 和 $(2, 4)$ 在某一行中得到服务。对 $(2, 2)$ 在第 $1$ 行和第 $3$ 行中得到服务，而对 $(2, 4)$ 在第 $2$ 行中被服务。\n\n下面是第三和第四组数据的图片。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8bvgka8d.png)\n\n- 如果你的程序错误地找出了在某一行中被服务的对 $(x_1, x_2)$ 的集合，该测试点将获得零分。\n- 如果你的程序：\n  - 能够正确找出该集合，但不是所有的 $cnt$ 都正确，该测试点将获得 $50\\%$ 的分数。\n  - 能够正确找出该集合和所有 $cnt$，但不是所有的 $k$ 都正确，该测试点将获得 $75\\%$ 的分数。\n  - 能够正确找出该集合、所有 $cnt$ 和所有 $k$，该测试点将获得 $100\\%$ 的分数。\n\n请注意，如果你想获得获得部分分，仍需为每对配对 $(x_1, x_2)$ 输出一些 $cnt$ 和 $k$ 值，但不必全部正确。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 白菜 (Day 1)", "background": "翻译自 [ROI 2024 D1T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day1.pdf)。\n\n拉马赞决定从事一个重要的业务——种植白菜。种植白菜的场地是一个无限大的网格场地。每个网格单元可以种植一个白菜。拉马赞只种植了场地的一部分。他计划利用其中的几个矩形区域，这些矩形可能会相交。如果一个网格单元位于至少一个矩形内，则该单元被认为种植了白菜。\n\n具体地，拉马赞选择了 $n$ 个矩形区域，矩形的坐标为 $(x_{L_i}, y_{L_i}, x_{R_i}, y_{R_i})$ (其中 $x_{L_i} \\le x_{R_i}$，$y_{L_i} \\le y_{R_i}$，$1 \\le i \\le n$)。如果存在至少一个矩形 $i$ ($1 \\le i \\le n$)，使得 $x_{L_i} \\le x \\le x_{R_i}$ 且 $y_{L_i} \\le y \\le y_{R_i}$，则认为网格单元 $(x, y)$ 被种植了白菜。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1ssdqjt.png)\n\n拉马赞曾经是一个程序员（并且还是一个获奖者），因此他决定使用人工智能机器人定期处理种植。一个机器人可以服务于任意的水平区域 $(x_{\\text{robot}_1}, x_{\\text{robot}_2}, y_{\\text{robot}})$，即所有满足 $x_{\\text{robot}_1} \\le x \\le x_{\\text{robot}_2}$ 且 $y = y_{\\text{robot}}$ 的网格单元 $(x, y)$。\n\n重要的是，机器人只能在种植的区域内移动。他明白，为了最小化机器人的数量，需要使用那些不能进一步扩展的水平区域。如果满足以下条件，拉马赞将使用机器人在网格单元 $(x_{\\text{robot}_1}, x_{\\text{robot}_2}, y_{\\text{robot}})$ 上工作：\n\n- 所有满足 $x_{\\text{robot}_1} \\le x \\le x_{\\text{robot}_2}$ 且 $y = y_{\\text{robot}}$ 的网格单元 $(x, y)$ 都属于种植区域；\n- 网格单元 $(x_{\\text{robot}_1} - 1, y_{\\text{robot}})$ 不属于种植区域；\n- 网格单元 $(x_{\\text{robot}_2} + 1, y_{\\text{robot}})$ 不属于种植区域。", "description": "你需要收集有关机器人在种植区域工作的统计信息。如果存在一个机器人恰好在网格段 $(x_1, x_2, y)$ 上工作，我们说 $(x_1, x_2)$ 在行 $y$ 上被服务。具体地，你需要：\n\n- 找出所有在某一行中被服务的 $(x_1, x_2)$ 对。\n- 对于每一对这样的 $(x_1, x_2)$，找出它被服务的行数。\n- 对于每一对这样的 $(x_1, x_2)$，找出它被服务的最大连续行数。换句话说，找出最大值 $k$，使得存在一个长度为 $k$ 的连续行区间 $[y_1, y_2]$（其中 $y_2 - y_1 + 1 = k$），使得在任意行 $y_1 \\le y \\le y_2$ 中，该对 $(x_1, x_2)$ 都被服务。", "inputFormat": "输入包含多组数据。第一行给出一个整数 $t$（$1 \\le t \\le 200000$），表示测试数据的组数。\n\n每组数据的第一行给出一个整数 $n$（$1 \\le n \\le 200000$），表示矩形区域的数量。\n\n接下来的 $n$ 行中，每行包含四个整数 $x_{L_i}$，$y_{L_i}$，$x_{R_i}$，$y_{R_i}$（$1 \\le x_{L_i} \\le x_{R_i} \\le 10^9$，$1 \\le y_{L_i} \\le y_{R_i} \\le 10^9$），表示一个矩形区域。\n\n令 $N$ 表示所有数据集中的 $n$ 总和，保证 $N \\le 200000$。", "outputFormat": "对于每组数据，首先输出一个整数 $p$（$p \\ge 1$），表示在某一行中被服务的 $(x_1, x_2)$ 对的数量。接下来 $p$ 行中，每行输出四个整数 $x_1$，$x_2$，$cnt$，$k$（$1 \\le x_1 \\le x_2 \\le 10^9$，$0 \\le cnt, k \\le 10^9$）。其中，$cnt$ 是该对 $(x_1, x_2)$ 被服务的行数，$k$ 是它被服务的最大连续行数。\n\n每一对 $(x_1, x_2)$ 必须是不同的。每一对在某一行中被服务的 $(x_1,x_2)$ 对，必须输出且只能输出一次。输出顺序可以是任意的。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/agobgb4r.png)\n\n在第一组数据中，机器人在以下区段进行服务：$(2, 3, 2)$，$(2, 4, 3)$ 和 $(3, 4, 4)$。因此，对 $(2, 3)$，$(2, 4)$ 和 $(3, 4)$ 在某一行中得到服务，并且每对都只在一行中被服务。\n\n在第二组数据中，机器人在以下区段进行服务：$(2, 2, 1)$，$(2, 4, 2)$ 和 $(2, 2, 3)$。因此，对 $(2, 2)$ 和 $(2, 4)$ 在某一行中得到服务。对 $(2, 2)$ 在第 $1$ 行和第 $3$ 行中得到服务，而对 $(2, 4)$ 在第 $2$ 行中被服务。\n\n下面是第三和第四组数据的图片。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8bvgka8d.png)\n\n- 如果你的程序错误地找出了在某一行中被服务的对 $(x_1, x_2)$ 的集合，该测试点将获得零分。\n- 如果你的程序：\n  - 能够正确找出该集合，但不是所有的 $cnt$ 都正确，该测试点将获得 $50\\%$ 的分数。\n  - 能够正确找出该集合和所有 $cnt$，但不是所有的 $k$ 都正确，该测试点将获得 $75\\%$ 的分数。\n  - 能够正确找出该集合、所有 $cnt$ 和所有 $k$，该测试点将获得 $100\\%$ 的分数。\n\n请注意，如果你想获得获得部分分，仍需为每对配对 $(x_1, x_2)$ 输出一些 $cnt$ 和 $k$ 值，但不必全部正确。\n", "locale": "zh-CN"}}}
{"pid": "P11116", "type": "P", "difficulty": 3, "samples": [["3\n0 1 -1\n1 1 1\n2 1 -1", "1"], ["2\n0 1 1\n4 2 -1", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 割草 (Day 2)", "background": "翻译自 [ROI 2024 D2T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n\n草坪需要由电动割草机器人割草。我们认为草坪是一个数轴上的线段，其中在某些点上有割草机器人。机器人的大小可以忽略不计。一个机器人位于草坪的起点（起点左侧没有草坪），另一个机器人位于终点（终点右侧没有草坪）。每个机器人最初朝一个方向行驶：要么向右，要么向左。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bkcc3h4z.png)\n\n第 $i$ 个机器人的电量足够处理 $p_i$ 米的草坪。所有机器人在夜间充电后同时启动，并以相同的速度移动。每个机器人沿直线朝其方向移动。机器人在以下三种情况下停止：\n1. 如果机器人的电量耗尽。换句话说，若第 $i$ 个机器人从起点行驶了 $p_i$ 米。\n2. 如果机器人到达了草坪的起始点或终点。\n3. 如果机器人在某处遇到了另一个朝相反方向行驶或停在此处的机器人。", "description": "在启动机器人之前，可以将某些机器人的方向更改为相反方向。为了割光整个草坪，你需要确定最少需要改变方向的机器人数量，使得最终整个草坪都能被割光。如果无论如何都无法使得整个草坪被割完，输出 `-1`。", "inputFormat": "第一行包含一个整数 $n$（$2 \\leq n \\leq 10^5$），表示机器人的数量。  \n\n接下来的 $n$ 行，每行描述一个机器人，按从左到右的顺序给出。每个机器人由三个整数 $x_i$, $p_i$, $d_i$ 描述，它们分别是机器人的初始位置、它可以行驶的距离以及行驶方向（$0 = x_1 < x_2 < \\cdots < x_n \\leq 10^9$，$1 \\leq p_i \\leq 10^9$，$d_i = -1$ 表示向左行驶，$d_i = 1$ 表示向右行驶）。草坪的起始点和终点分别位于点 $x_1 = 0$ 和 $x_n$。", "outputFormat": "无法割光整个草坪，输出 `-1`。否则，输出一个数字，表示需要更改方向的机器人的数量，使得草坪能被割光。", "hint": "样例 $1$ 与题目背景中图片的情形一致，可以通过改变中间机器人的方向来使得所有草坪都被割完。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $23$ | $n\\le10$ |\n| $2$ | $16$ | $d_i=1$ |\n| $3$ | $17$ | $n\\le1000$ |\n| $4$ | $13$ | $x_i=i-1,p_i=1$ |\n| $5$ | $14$ | $p_i=10^9$ |\n| $6$ | $17$ | 无 |\n\n对于 $100\\%$ 的数据，范围见输入格式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 割草 (Day 2)", "background": "翻译自 [ROI 2024 D2T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n\n草坪需要由电动割草机器人割草。我们认为草坪是一个数轴上的线段，其中在某些点上有割草机器人。机器人的大小可以忽略不计。一个机器人位于草坪的起点（起点左侧没有草坪），另一个机器人位于终点（终点右侧没有草坪）。每个机器人最初朝一个方向行驶：要么向右，要么向左。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bkcc3h4z.png)\n\n第 $i$ 个机器人的电量足够处理 $p_i$ 米的草坪。所有机器人在夜间充电后同时启动，并以相同的速度移动。每个机器人沿直线朝其方向移动。机器人在以下三种情况下停止：\n1. 如果机器人的电量耗尽。换句话说，若第 $i$ 个机器人从起点行驶了 $p_i$ 米。\n2. 如果机器人到达了草坪的起始点或终点。\n3. 如果机器人在某处遇到了另一个朝相反方向行驶或停在此处的机器人。", "description": "在启动机器人之前，可以将某些机器人的方向更改为相反方向。为了割光整个草坪，你需要确定最少需要改变方向的机器人数量，使得最终整个草坪都能被割光。如果无论如何都无法使得整个草坪被割完，输出 `-1`。", "inputFormat": "第一行包含一个整数 $n$（$2 \\leq n \\leq 10^5$），表示机器人的数量。  \n\n接下来的 $n$ 行，每行描述一个机器人，按从左到右的顺序给出。每个机器人由三个整数 $x_i$, $p_i$, $d_i$ 描述，它们分别是机器人的初始位置、它可以行驶的距离以及行驶方向（$0 = x_1 < x_2 < \\cdots < x_n \\leq 10^9$，$1 \\leq p_i \\leq 10^9$，$d_i = -1$ 表示向左行驶，$d_i = 1$ 表示向右行驶）。草坪的起始点和终点分别位于点 $x_1 = 0$ 和 $x_n$。", "outputFormat": "无法割光整个草坪，输出 `-1`。否则，输出一个数字，表示需要更改方向的机器人的数量，使得草坪能被割光。", "hint": "样例 $1$ 与题目背景中图片的情形一致，可以通过改变中间机器人的方向来使得所有草坪都被割完。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $23$ | $n\\le10$ |\n| $2$ | $16$ | $d_i=1$ |\n| $3$ | $17$ | $n\\le1000$ |\n| $4$ | $13$ | $x_i=i-1,p_i=1$ |\n| $5$ | $14$ | $p_i=10^9$ |\n| $6$ | $17$ | 无 |\n\n对于 $100\\%$ 的数据，范围见输入格式。", "locale": "zh-CN"}}}
{"pid": "P11117", "type": "P", "difficulty": 5, "samples": [["5\n4 4\n1 2 0\n2 3 1\n3 4 0\n2 4 1\n0 1 0 0\n4 4\n1 2 0\n2 3 1\n3 4 0\n4 1 1\n0 1 0 1\n1 0\n1\n1 0\n0\n2 1\n1 2 0\n0 0", "YES\n5\n4 1\n3 1\n2 1\n3 0\n4 0\nNO\nYES\n1\n1 1\nYES\n1\n1 0\nYES\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 交互式通道 (Day 2)", "background": "翻译自 [ROI 2024 D2T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n\nROI 的举办地 Innopolis 大学由 $n$ 个建筑物和 $m$ 条通道组成。每条通道连接两个不同的建筑物，任何两个建筑物之间不会有多于一条通道。\n\n已知每个建筑物都有一个可以打开或关闭的灯光。最初，所有建筑物的灯光都是关闭的。校园管理员可以在一个操作中打开或关闭任何一个建筑物的灯光。管理员还可以在灯光已经打开的情况下按下开灯按钮，或在灯光已经关闭的情况下按下关灯按钮。这些操作不会改变建筑物的灯光状态。\n\n类似地，每条通道也有一个可以打开或关闭的灯光。最初，所有通道的灯光也都是关闭的。但与建筑物的灯光不同，通道的灯光会自动变化：如果在管理员的操作后，该通道连接的两所建筑物的灯光状态相同，那么通道的灯光也会变为相同的状态，否则它不会改变。\n\n换句话说，如果在管理员的操作后，连接的两个建筑物的灯光都关闭，则通道的灯光也会关闭。如果连接的两个建筑物的灯光都打开，则通道的灯光也会打开。如果一个建筑物的灯光打开而另一个关闭，则通道的灯光状态不变。", "description": "在 ROI 开始之前，校园主任为每个建筑物和每条通道确定了它们是否应该被照亮。请你检查管理员是否可以通过任意数量的操作来实现主任的要求。如果可以，请找到任何一种满足要求的操作序列。能够正确判断是否可以得到期望的灯光状态，即使未提供操作序列的解决方案，也能获得该测试点一半的分数。", "inputFormat": "输入包含多组数据。第一行包含一个整数 $t$，表示测试数据的组数（$1 \\leq t \\leq 50000$）。\n\n在每组数据中：\n\n第一行输入两个整数 $n$ 和 $m$，分别表示建筑物的数量和通道的数量（$1 \\leq n \\leq 10^5$, $0 \\leq m \\leq 2 \\times 10^5$）。\n\n接下来的 $m$ 行是通道的描述。在第 $i$ 行中有三个整数 $a_i$, $b_i$, $c_i$ ，分别是由第 $i$ 个通道连接的两个建筑物编号，以及第 $i$ 个通道要求的灯光状态（$1 \\leq a_i, b_i \\leq n$, $a_i \\ne b_i$, $0 \\leq c_i \\leq 1$）。如果 $c_i = 0$，则第 $i$ 个通道的灯光状态最终应该是关闭的，如果 $c_i = 1$，则应该是开启的。\n\n最后一行给出 $n$ 个整数 $d_1, d_2, \\dots, d_n$，表示各建筑物要求的灯光状态（$0 \\leq d_i \\leq 1$）。如果 $d_v = 0$，则建筑物 $v$ 的灯光状态最终应该是关闭的，如果 $d_v = 1$，则应该是开启的。\n\n所有 $n$ 值的总和不超过 $10^5$，$m$ 值的总和不超过 $2 \\times 10^5$。", "outputFormat": "对于每组输入：\n- 如果不存在一种操作序列能使得建筑物和通道的灯光状态达到要求，则输出 `NO`。\n- 如果存在操作序列，则输出 `YES`。如果不展示具体的操作序列（只拿部分分），则在下一行输出数字 $-1$ 并继续输出下一组数据（如果有的话）。如果展示操作序列，则在下一行输出整数 $s$，表示操作的数量（$0 \\leq s \\leq 10^6$，所有 $s$ 值的总和不超过 $10^6$），然后在接下来的 $s$ 行中输出下列具体操作：  \n  - 在第 $i$ 行（$1 \\leq i \\leq s$）中，输出两个整数 $v_i,x_i$，分别是改变灯光状态的建筑物编号，以及新的灯光状态（$1 \\leq v_i \\leq n$，$0 \\leq x_i \\leq 1$；如果 $x_i = 0$，则表示需要关闭建筑物 $v_i$ 的灯光，如果 $x_i = 1$，则表示需要打开建筑物 $v_i$ 的灯光）。", "hint": "样例解释：\n\n第一组数据包含 $4$ 个建筑物（用圆圈表示）和 $4$ 条通道（用线表示）。机房或通道的灯光状态通过加粗的线表示（如果加粗则表示开灯）。要达到所需的灯光状态，需要 $5$ 步操作。下图展示了初始灯光状态及每一步操作后的状态：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0cssyxju.png)\n\n第二组数据需要达到下列机房和通道的配置，但这是不可能的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x0ftqnxw.png)\n\n第三组数据中有一个建筑物需要开启灯光。这可以通过一步操作完成。\n\n第四组数据中有一个建筑物需要关闭灯光。一个可行的操作序列是一步操作，关闭该机房的灯光。尽管灯光已经是关闭状态，这样的操作依然是有效的。\n\n第五组数据中有两个建筑物和一条通道，所有的灯光都需要关闭。空的操作序列也是一种可行的解决方案。\n\n数据范围见输入格式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 交互式通道 (Day 2)", "background": "翻译自 [ROI 2024 D2T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n\nROI 的举办地 Innopolis 大学由 $n$ 个建筑物和 $m$ 条通道组成。每条通道连接两个不同的建筑物，任何两个建筑物之间不会有多于一条通道。\n\n已知每个建筑物都有一个可以打开或关闭的灯光。最初，所有建筑物的灯光都是关闭的。校园管理员可以在一个操作中打开或关闭任何一个建筑物的灯光。管理员还可以在灯光已经打开的情况下按下开灯按钮，或在灯光已经关闭的情况下按下关灯按钮。这些操作不会改变建筑物的灯光状态。\n\n类似地，每条通道也有一个可以打开或关闭的灯光。最初，所有通道的灯光也都是关闭的。但与建筑物的灯光不同，通道的灯光会自动变化：如果在管理员的操作后，该通道连接的两所建筑物的灯光状态相同，那么通道的灯光也会变为相同的状态，否则它不会改变。\n\n换句话说，如果在管理员的操作后，连接的两个建筑物的灯光都关闭，则通道的灯光也会关闭。如果连接的两个建筑物的灯光都打开，则通道的灯光也会打开。如果一个建筑物的灯光打开而另一个关闭，则通道的灯光状态不变。", "description": "在 ROI 开始之前，校园主任为每个建筑物和每条通道确定了它们是否应该被照亮。请你检查管理员是否可以通过任意数量的操作来实现主任的要求。如果可以，请找到任何一种满足要求的操作序列。能够正确判断是否可以得到期望的灯光状态，即使未提供操作序列的解决方案，也能获得该测试点一半的分数。", "inputFormat": "输入包含多组数据。第一行包含一个整数 $t$，表示测试数据的组数（$1 \\leq t \\leq 50000$）。\n\n在每组数据中：\n\n第一行输入两个整数 $n$ 和 $m$，分别表示建筑物的数量和通道的数量（$1 \\leq n \\leq 10^5$, $0 \\leq m \\leq 2 \\times 10^5$）。\n\n接下来的 $m$ 行是通道的描述。在第 $i$ 行中有三个整数 $a_i$, $b_i$, $c_i$ ，分别是由第 $i$ 个通道连接的两个建筑物编号，以及第 $i$ 个通道要求的灯光状态（$1 \\leq a_i, b_i \\leq n$, $a_i \\ne b_i$, $0 \\leq c_i \\leq 1$）。如果 $c_i = 0$，则第 $i$ 个通道的灯光状态最终应该是关闭的，如果 $c_i = 1$，则应该是开启的。\n\n最后一行给出 $n$ 个整数 $d_1, d_2, \\dots, d_n$，表示各建筑物要求的灯光状态（$0 \\leq d_i \\leq 1$）。如果 $d_v = 0$，则建筑物 $v$ 的灯光状态最终应该是关闭的，如果 $d_v = 1$，则应该是开启的。\n\n所有 $n$ 值的总和不超过 $10^5$，$m$ 值的总和不超过 $2 \\times 10^5$。", "outputFormat": "对于每组输入：\n- 如果不存在一种操作序列能使得建筑物和通道的灯光状态达到要求，则输出 `NO`。\n- 如果存在操作序列，则输出 `YES`。如果不展示具体的操作序列（只拿部分分），则在下一行输出数字 $-1$ 并继续输出下一组数据（如果有的话）。如果展示操作序列，则在下一行输出整数 $s$，表示操作的数量（$0 \\leq s \\leq 10^6$，所有 $s$ 值的总和不超过 $10^6$），然后在接下来的 $s$ 行中输出下列具体操作：  \n  - 在第 $i$ 行（$1 \\leq i \\leq s$）中，输出两个整数 $v_i,x_i$，分别是改变灯光状态的建筑物编号，以及新的灯光状态（$1 \\leq v_i \\leq n$，$0 \\leq x_i \\leq 1$；如果 $x_i = 0$，则表示需要关闭建筑物 $v_i$ 的灯光，如果 $x_i = 1$，则表示需要打开建筑物 $v_i$ 的灯光）。", "hint": "样例解释：\n\n第一组数据包含 $4$ 个建筑物（用圆圈表示）和 $4$ 条通道（用线表示）。机房或通道的灯光状态通过加粗的线表示（如果加粗则表示开灯）。要达到所需的灯光状态，需要 $5$ 步操作。下图展示了初始灯光状态及每一步操作后的状态：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0cssyxju.png)\n\n第二组数据需要达到下列机房和通道的配置，但这是不可能的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x0ftqnxw.png)\n\n第三组数据中有一个建筑物需要开启灯光。这可以通过一步操作完成。\n\n第四组数据中有一个建筑物需要关闭灯光。一个可行的操作序列是一步操作，关闭该机房的灯光。尽管灯光已经是关闭状态，这样的操作依然是有效的。\n\n第五组数据中有两个建筑物和一条通道，所有的灯光都需要关闭。空的操作序列也是一种可行的解决方案。\n\n数据范围见输入格式。", "locale": "zh-CN"}}}
{"pid": "P11118", "type": "P", "difficulty": 7, "samples": [["3 3\n1 2 3\n1 3 6", "0\n4\n11"], ["3 3\n3 2 1\n1 3 6", "0\n5\n13"], ["2 5\n2 1\n1 3 4 6 7", "0\n6"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 无人机比赛 (Day 2)", "background": "翻译自 [ROI 2024 D2T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n  \n有 $n$ 架无人机报名参加一个无人机比赛，第 $i$ 架无人机飞过一单位距离需要 $t_i$ 秒。  \n\n比赛在一条直线上进行，该直线上有 $m$ 个门，编号从 $1$ 到 $m$，第 $i$ 个门位于距离比赛起点 $s_i$ 的位置。  \n\n因为赛道大小的限制，第一场比赛只会有前 $k$ 架无人机参与，编号从 $1$ 到 $k$。$k$ 的值由裁判在比赛开始前宣布，因此此时你需要对 $k$ 从 $1$ 到 $n$ 的比赛情况进行分析。  \n\n比赛的进行方式如下：  \n\n无人机从 $0$ 号点开始向门移动，每架无人机的速度不同。每架无人机都有一个存档点，即最后一个它进行了存档操作的门。最初，每架无人机的存档点都是 $0$ 号点。\n\n在比赛中，所有无人机从其存档点开始移动，直到有一架或多架无人机到达一个门（有可能是不同无人机同时到达不同的门）。此时，在所有到达门的无人机中，选择编号最小的无人机，对该无人机进行存档操作，将其存档点设置为当前的位置。其他无人机立即传送到其存档点。然后，比赛继续进行。  \n\n如果一架无人机在最后一个编号为 $m$ 的门上进行存档操作，那么它就完成了比赛。尚未完成的无人机将传送到其存档点继续比赛。当所有无人机都完赛时，比赛结束。  ", "description": "传送是一个非常耗能的过程。为了准备比赛，你需要了解所有无人机在比赛结束之前一共将进行多少次传送。设 $c_k$ 表示当前 $k$ 架无人机参与比赛时，所有无人机的总传送次数，则你需要求出 $c_1, c_2, \\dots, c_n$ 的值。  ", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，分别表示无人机的数量和门的数量（$2 \\leq n \\leq 150000$，$1 \\leq m \\leq 150000$）。\n\n第二行包含 $n$ 个正整数 $t_1, t_2, \\dots, t_n$，$t_i$ 表示第 $i$ 架无人机飞过一单位距离所需的秒数（$1 \\leq t_i \\leq 10^9$）。\n\n第三行包含 $m$ 个正整数 $s_1, s_2, \\dots, s_m$，$s_i$ 表示第 $i$ 个门的位置（$1 \\leq s_1 < s_2 < \\dots < s_m \\leq 150000$）。", "outputFormat": "输出 $n$ 个整数 $c_1, c_2, \\dots, c_n$，意义见题目描述。", "hint": "样例 $1$ 解释：\n\n当 $k=1$，无需任何传送，因为只有一架无人机参加，只有它在一直存档。\n\n当 $k=2$ 时，整个比赛的过程如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tkvspecj.png)\n\n当 $k=3$ 时，整个比赛的过程如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j1pegbo0.png)\n\n各子任务特殊性质表格：\n\n| 子任务 | 分值 | $n\\le$ | $m\\le$ | $t_i\\le$ | $s_i\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $5$ | $2$ | $50$ | $100000$ | $100000$ |  |\n| $2$ | $7$ | $50$ | $50$ | $100000$ | $100000$ |  |\n| $3$ | $13$ | $1000$ | $5$ | $100000$ | $100000$ |  |\n| $4$ | $9$ | $100000$ | $100000$ | $100000$ | $100000$ | $s_{i+1}-s_i=s_1$ |\n| $5$ | $8$ | $100000$ | $100000$ | $100000$ | $100000$ | 所有 $t_i$ 相等 |\n| $6$ | $10$ | $100$ | $100000$ | $100000$ | $100000$ |  |\n| $7$ | $5$ | $100000$ | $100000$ | $2$ | $100000$ |  |\n| $8$ | $7$ | $100000$ | $m=2$ | $100000$ | $100000$ |  |\n| $9$ | $6$ | $10000$ | $100000$ | $100000$ | $100000$ |  |\n| $10$ | $6$ | $50000$ | $100000$ | $100000$ | $100000$ |  |\n| $11$ | $8$ | $100000$ | $100000$ | $100000$ | $100000$ |  |\n| $12$ | $8$ | $100000$ |  |  |  |  |\n| $13$ | $8$ |  |  |  |  |  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 无人机比赛 (Day 2)", "background": "翻译自 [ROI 2024 D2T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n  \n有 $n$ 架无人机报名参加一个无人机比赛，第 $i$ 架无人机飞过一单位距离需要 $t_i$ 秒。  \n\n比赛在一条直线上进行，该直线上有 $m$ 个门，编号从 $1$ 到 $m$，第 $i$ 个门位于距离比赛起点 $s_i$ 的位置。  \n\n因为赛道大小的限制，第一场比赛只会有前 $k$ 架无人机参与，编号从 $1$ 到 $k$。$k$ 的值由裁判在比赛开始前宣布，因此此时你需要对 $k$ 从 $1$ 到 $n$ 的比赛情况进行分析。  \n\n比赛的进行方式如下：  \n\n无人机从 $0$ 号点开始向门移动，每架无人机的速度不同。每架无人机都有一个存档点，即最后一个它进行了存档操作的门。最初，每架无人机的存档点都是 $0$ 号点。\n\n在比赛中，所有无人机从其存档点开始移动，直到有一架或多架无人机到达一个门（有可能是不同无人机同时到达不同的门）。此时，在所有到达门的无人机中，选择编号最小的无人机，对该无人机进行存档操作，将其存档点设置为当前的位置。其他无人机立即传送到其存档点。然后，比赛继续进行。  \n\n如果一架无人机在最后一个编号为 $m$ 的门上进行存档操作，那么它就完成了比赛。尚未完成的无人机将传送到其存档点继续比赛。当所有无人机都完赛时，比赛结束。  ", "description": "传送是一个非常耗能的过程。为了准备比赛，你需要了解所有无人机在比赛结束之前一共将进行多少次传送。设 $c_k$ 表示当前 $k$ 架无人机参与比赛时，所有无人机的总传送次数，则你需要求出 $c_1, c_2, \\dots, c_n$ 的值。  ", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，分别表示无人机的数量和门的数量（$2 \\leq n \\leq 150000$，$1 \\leq m \\leq 150000$）。\n\n第二行包含 $n$ 个正整数 $t_1, t_2, \\dots, t_n$，$t_i$ 表示第 $i$ 架无人机飞过一单位距离所需的秒数（$1 \\leq t_i \\leq 10^9$）。\n\n第三行包含 $m$ 个正整数 $s_1, s_2, \\dots, s_m$，$s_i$ 表示第 $i$ 个门的位置（$1 \\leq s_1 < s_2 < \\dots < s_m \\leq 150000$）。", "outputFormat": "输出 $n$ 个整数 $c_1, c_2, \\dots, c_n$，意义见题目描述。", "hint": "样例 $1$ 解释：\n\n当 $k=1$，无需任何传送，因为只有一架无人机参加，只有它在一直存档。\n\n当 $k=2$ 时，整个比赛的过程如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tkvspecj.png)\n\n当 $k=3$ 时，整个比赛的过程如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j1pegbo0.png)\n\n各子任务特殊性质表格：\n\n| 子任务 | 分值 | $n\\le$ | $m\\le$ | $t_i\\le$ | $s_i\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $5$ | $2$ | $50$ | $100000$ | $100000$ |  |\n| $2$ | $7$ | $50$ | $50$ | $100000$ | $100000$ |  |\n| $3$ | $13$ | $1000$ | $5$ | $100000$ | $100000$ |  |\n| $4$ | $9$ | $100000$ | $100000$ | $100000$ | $100000$ | $s_{i+1}-s_i=s_1$ |\n| $5$ | $8$ | $100000$ | $100000$ | $100000$ | $100000$ | 所有 $t_i$ 相等 |\n| $6$ | $10$ | $100$ | $100000$ | $100000$ | $100000$ |  |\n| $7$ | $5$ | $100000$ | $100000$ | $2$ | $100000$ |  |\n| $8$ | $7$ | $100000$ | $m=2$ | $100000$ | $100000$ |  |\n| $9$ | $6$ | $10000$ | $100000$ | $100000$ | $100000$ |  |\n| $10$ | $6$ | $50000$ | $100000$ | $100000$ | $100000$ |  |\n| $11$ | $8$ | $100000$ | $100000$ | $100000$ | $100000$ |  |\n| $12$ | $8$ | $100000$ |  |  |  |  |\n| $13$ | $8$ |  |  |  |  |  |", "locale": "zh-CN"}}}
{"pid": "P11119", "type": "P", "difficulty": 6, "samples": [["3 1\n1 0 0", "0"], ["5 0\n2 1 0 0 1", "6"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2024] 保持连接 (Day 2)", "background": "翻译自 [ROI 2024 D2T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n\n在一条进行无人驾驶卡车测试的直路上，有 $n$ 个城市，第 $i$ 个城市位于坐标为 $i$ 的位置。第 $i$ 个城市安装了一个功率为 $a_i$ 的天线，覆盖从 $L_i = \\max(1, i - a_i)$ 到 $R_i = \\min(n, i + a_i)$ 的所有城市。\n\n无人驾驶卡车沿着这条路从城市 $s$ 移动到城市 $t$，其中 $s < t$。卡车在经过的每个城市都会连接到覆盖该城市的某个天线。连接天线的规则如下：\n1. 在起始城市，卡车连接到覆盖该城市的天线中 $R_i$ 最大的一个。如果有多个这样的天线，可以选择其中任何一个。\n2. 当卡车从城市 $v$ 移动到城市 $v + 1$ 时，如果之前连接的天线仍覆盖城市 $v + 1$，卡车将继续连接到该天线。否则，如果之前连接的天线不再覆盖城市 $v + 1$，卡车将重新连接到覆盖城市 $v + 1$ 的天线中 $R_i$ 最大的一个。如果有多个这样的天线，可以选择其中任何一个。\n\n我们用 $f(s, t)$ 表示从城市 $s$ 到城市 $t$ 的卡车在途中进行的天线重新连接的次数（$s < t$）。在城市 $s$ 进行的初次连接不算作重新连接。", "description": "定义天线覆盖道路的不稳定性 $F$ 为 $f(s, t)$ 的总和，即：\n\n$$F = \\sum_{s=1}^{n-1} \\sum_{t=s+1}^{n} f(s, t)$$\n\n道路运营商有一个备用天线，功率为 $x$。为了降低天线覆盖的不稳定性，可以用备用天线替换任意一个现有天线。你需要确定，如果最多替换一个天线为功率 $x$ 的备用天线，不稳定性 $F$ 值最小可能是多少。", "inputFormat": "第一行包含两个整数 $n$ 和 $x$（$1 \\leq n \\leq 10^6$，$0 \\leq x \\leq n$），分别为城市的数量和备用天线的功率。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$（$0 \\leq a_i \\leq n$），即每个城市天线的功率。", "outputFormat": "输出在最多用一个备用天线替换现有天线后，$F$ 的最小可能值。", "hint": "在第一个样例中，可以将第二个天线替换为备用天线。这样，卡车从任何位置出发，都会连接到备用天线，避免了任何重新连接。\n\n在第二个样例中，不需要使用备用天线。所有从前 $3$ 个城市出发且到达最后 $2$ 个城市的卡车，都需要重新连接到最后一个天线，因此不稳定性总和为 $6$。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $7$ | $n\\le100$ |\n| $2$ | $8$ | $n\\le500$ |\n| $3$ | $6$ | $n\\le5000$ |\n| $4$ | $12$ | $x=0$ |\n| $5$ | $5$ | $a_i=0$ |\n| $6$ | $16$ | $a_i\\le1$ |\n| $7$ | $14$ | $a_i\\ge\\frac n{20}$ |\n| $8$ | $32$ | 无 |\n\n全部数据范围见输入格式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2024] 保持连接 (Day 2)", "background": "翻译自 [ROI 2024 D2T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-roi-2024-day2.pdf)。\n\n在一条进行无人驾驶卡车测试的直路上，有 $n$ 个城市，第 $i$ 个城市位于坐标为 $i$ 的位置。第 $i$ 个城市安装了一个功率为 $a_i$ 的天线，覆盖从 $L_i = \\max(1, i - a_i)$ 到 $R_i = \\min(n, i + a_i)$ 的所有城市。\n\n无人驾驶卡车沿着这条路从城市 $s$ 移动到城市 $t$，其中 $s < t$。卡车在经过的每个城市都会连接到覆盖该城市的某个天线。连接天线的规则如下：\n1. 在起始城市，卡车连接到覆盖该城市的天线中 $R_i$ 最大的一个。如果有多个这样的天线，可以选择其中任何一个。\n2. 当卡车从城市 $v$ 移动到城市 $v + 1$ 时，如果之前连接的天线仍覆盖城市 $v + 1$，卡车将继续连接到该天线。否则，如果之前连接的天线不再覆盖城市 $v + 1$，卡车将重新连接到覆盖城市 $v + 1$ 的天线中 $R_i$ 最大的一个。如果有多个这样的天线，可以选择其中任何一个。\n\n我们用 $f(s, t)$ 表示从城市 $s$ 到城市 $t$ 的卡车在途中进行的天线重新连接的次数（$s < t$）。在城市 $s$ 进行的初次连接不算作重新连接。", "description": "定义天线覆盖道路的不稳定性 $F$ 为 $f(s, t)$ 的总和，即：\n\n$$F = \\sum_{s=1}^{n-1} \\sum_{t=s+1}^{n} f(s, t)$$\n\n道路运营商有一个备用天线，功率为 $x$。为了降低天线覆盖的不稳定性，可以用备用天线替换任意一个现有天线。你需要确定，如果最多替换一个天线为功率 $x$ 的备用天线，不稳定性 $F$ 值最小可能是多少。", "inputFormat": "第一行包含两个整数 $n$ 和 $x$（$1 \\leq n \\leq 10^6$，$0 \\leq x \\leq n$），分别为城市的数量和备用天线的功率。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$（$0 \\leq a_i \\leq n$），即每个城市天线的功率。", "outputFormat": "输出在最多用一个备用天线替换现有天线后，$F$ 的最小可能值。", "hint": "在第一个样例中，可以将第二个天线替换为备用天线。这样，卡车从任何位置出发，都会连接到备用天线，避免了任何重新连接。\n\n在第二个样例中，不需要使用备用天线。所有从前 $3$ 个城市出发且到达最后 $2$ 个城市的卡车，都需要重新连接到最后一个天线，因此不稳定性总和为 $6$。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $7$ | $n\\le100$ |\n| $2$ | $8$ | $n\\le500$ |\n| $3$ | $6$ | $n\\le5000$ |\n| $4$ | $12$ | $x=0$ |\n| $5$ | $5$ | $a_i=0$ |\n| $6$ | $16$ | $a_i\\le1$ |\n| $7$ | $14$ | $a_i\\ge\\frac n{20}$ |\n| $8$ | $32$ | 无 |\n\n全部数据范围见输入格式。", "locale": "zh-CN"}}}
{"pid": "P11120", "type": "P", "difficulty": 2, "samples": [["1 0\nX.XX.X", "X.XX.X"], ["2 1\nX.XX.X\n..X...", "X.XX.X\n..XX.."], ["3 2\nX.XX.X\n......\nX..X.X", "Impossible"], ["1 103\n.X.XXX", "Impossible"], ["6 7\nX.....\n......\n....X.\nX.....\n......\n..XX..", "X....X\nX....X\n.X..X.\nX....X\n..XX..\n..XX.."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "2024", "Special Judge", "枚举", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 登机 (Day 1)", "background": "翻译自 [ROIR 2024 D1T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。\n\n飞机上一共有 $n$ 排座位，每排有六个位置，其中第三和第四个位置之间有过道。一些乘客在线上已经提前订好位置，其他乘客则在机场的登记台购买机票。在线上购买机票时，乘客可以选择任何座位，且不能更改。例如，当 $n = 6$ 时，在线上已经订好的座位可能如下（用叉号标记已占用的座位）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bei2tmfa.png)\n\n有 $m$ 名乘客在登记台购买机票。根据航空公司的规定，在工作人员帮他们选好位置后，最终的座位安排相对于过道应该是对称的。即，如果某一排的第一个座位有乘客，那么同一排的第六个座位也必须有乘客。同样，第二和第五、第三和第四个座位也必须相应对称。同时，在线上购买的乘客的座位不能改变。在上图的初始座位中，可以添加七名乘客以满足对称性，如下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vkk729ne.png)", "description": "给定在线购买的乘客选定的座位，你需要安排 $m$ 名乘客，使得最终的座位安排相对于过道是对称的。如果不可能做到，输出 `Impossible`。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，分别表示飞机座位的排数和在机场登记台购买机票的乘客数量（$1 \\leq n \\leq 1000$，$0 \\leq m \\leq 6000$）。\n\n接下来的 $n$ 行描述了在线购买的乘客选定好的座位。每行包含六个字符，其中第 $j$ 行的第 $i$ 个字符表示第 $j$ 排的第 $i$ 个座位的状态，如果第 $i$ 个座位被占用，则为 `X`，否则为 `.`。", "outputFormat": "如果无法找到满足要求的座位安排，输出 `Impossible`。\n\n否则，输出 $n$ 行，每行六个字符，即飞机的最终座位安排，其中第 $j$ 行的第 $i$ 个字符表示第 $j$ 排的第 $i$ 个座位的状态。如果座位被占用则为 `X`，否则为 `.`。如果存在多个方案，可以输出其中任意一个。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $15$ | $m=0$ |\n| $2$ | $16$ | 刚开始飞机上所有座位都是空的 |\n| $3$ | $17$ | $m=1$ |\n| $4$ | $18$ | 刚开始飞机上只有一个座位 |\n| $5$ | $34$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 1000$，$0 \\leq m \\leq 6000$。\n\nSubtask 5 的最后两个测试点是原数据中没有的 hack。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 登机 (Day 1)", "background": "翻译自 [ROIR 2024 D1T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。\n\n飞机上一共有 $n$ 排座位，每排有六个位置，其中第三和第四个位置之间有过道。一些乘客在线上已经提前订好位置，其他乘客则在机场的登记台购买机票。在线上购买机票时，乘客可以选择任何座位，且不能更改。例如，当 $n = 6$ 时，在线上已经订好的座位可能如下（用叉号标记已占用的座位）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bei2tmfa.png)\n\n有 $m$ 名乘客在登记台购买机票。根据航空公司的规定，在工作人员帮他们选好位置后，最终的座位安排相对于过道应该是对称的。即，如果某一排的第一个座位有乘客，那么同一排的第六个座位也必须有乘客。同样，第二和第五、第三和第四个座位也必须相应对称。同时，在线上购买的乘客的座位不能改变。在上图的初始座位中，可以添加七名乘客以满足对称性，如下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vkk729ne.png)", "description": "给定在线购买的乘客选定的座位，你需要安排 $m$ 名乘客，使得最终的座位安排相对于过道是对称的。如果不可能做到，输出 `Impossible`。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，分别表示飞机座位的排数和在机场登记台购买机票的乘客数量（$1 \\leq n \\leq 1000$，$0 \\leq m \\leq 6000$）。\n\n接下来的 $n$ 行描述了在线购买的乘客选定好的座位。每行包含六个字符，其中第 $j$ 行的第 $i$ 个字符表示第 $j$ 排的第 $i$ 个座位的状态，如果第 $i$ 个座位被占用，则为 `X`，否则为 `.`。", "outputFormat": "如果无法找到满足要求的座位安排，输出 `Impossible`。\n\n否则，输出 $n$ 行，每行六个字符，即飞机的最终座位安排，其中第 $j$ 行的第 $i$ 个字符表示第 $j$ 排的第 $i$ 个座位的状态。如果座位被占用则为 `X`，否则为 `.`。如果存在多个方案，可以输出其中任意一个。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $15$ | $m=0$ |\n| $2$ | $16$ | 刚开始飞机上所有座位都是空的 |\n| $3$ | $17$ | $m=1$ |\n| $4$ | $18$ | 刚开始飞机上只有一个座位 |\n| $5$ | $34$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 1000$，$0 \\leq m \\leq 6000$。\n\nSubtask 5 的最后两个测试点是原数据中没有的 hack。", "locale": "zh-CN"}}}
{"pid": "P11121", "type": "P", "difficulty": 2, "samples": [["5\n1 1 2 3 1", "11"], ["3\n1 1 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2024", "Special Judge", "枚举", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 双调序列 (Day 1)", "background": "翻译自 [ROIR 2024 D1T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。\n\n称一个序列 $[b_1, b_2, \\dots, b_k]$ 为双调序列（Bitonic Sequence），当且仅当存在一个 $1 \\leq i \\leq k$ 使得 $ b_1 < b_2 < \\dots < b_i > \\dots > b_k $。\n\n例如，序列 $[1]$，$[2,4,5,7,5,4]$，$[1, 4, 10]$，$[3, 2]$ 都是双调序列，而序列 $[1, 1]$，$[5,4,2,4,5,7]$，$[1,1,4,5,1,4]$ 都不是。", "description": "给定一个序列 $[a_1, a_2, \\dots, a_n]$。要求计算满足条件的 $(l, r)$ 对的数量，其中 $1 \\leq l \\leq r \\leq n$ 并且序列 $[a_l, a_{l+1}, \\dots, a_r]$ 是双调序列。", "inputFormat": "第一行输入一个整数 $n$（$1 \\leq n \\leq 300000$）。\n\n第二行输入 $n$ 个整数 $a_1, a_2, \\dots, a_n$（$1 \\leq a_i \\leq n$）。", "outputFormat": "输出一个整数，即满足 $1 \\leq l \\leq r \\leq n$ 且序列 $[a_l, a_{l+1}, \\dots, a_r]$ 是双调序列的 $(l, r)$ 对的数量。", "hint": "在样例一中，满足条件的 $(l, r)$ 对如下：\n- $(1, 1)$，对应序列 $[1]$；\n- $(2, 2)$，对应序列 $[1]$；\n- $(2, 3)$，对应序列 $[1, 2]$；\n- $(2, 4)$，对应序列 $[1, 2, 3]$；\n- $(2, 5)$，对应序列 $[1, 2, 3, 1]$；\n- $(3, 3)$，对应序列 $[2]$；\n- $(3, 4)$，对应序列 $[2, 3]$；\n- $(3, 5)$，对应序列 $[2, 3, 1]$；\n- $(4, 4)$，对应序列 $[3]$；\n- $(4, 5)$，对应序列 $[3, 1]$；\n- $(5, 5)$，对应序列 $[1]$。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $27$ | $n\\le500$ |\n| $2$ | $14$ | $n\\le5000$ |\n| $3$ | $20$ | 所有 $a_i$ 互不相等 |\n| $4$ | $39$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq a_i \\leq n \\leq 300000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 双调序列 (Day 1)", "background": "翻译自 [ROIR 2024 D1T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。\n\n称一个序列 $[b_1, b_2, \\dots, b_k]$ 为双调序列（Bitonic Sequence），当且仅当存在一个 $1 \\leq i \\leq k$ 使得 $ b_1 < b_2 < \\dots < b_i > \\dots > b_k $。\n\n例如，序列 $[1]$，$[2,4,5,7,5,4]$，$[1, 4, 10]$，$[3, 2]$ 都是双调序列，而序列 $[1, 1]$，$[5,4,2,4,5,7]$，$[1,1,4,5,1,4]$ 都不是。", "description": "给定一个序列 $[a_1, a_2, \\dots, a_n]$。要求计算满足条件的 $(l, r)$ 对的数量，其中 $1 \\leq l \\leq r \\leq n$ 并且序列 $[a_l, a_{l+1}, \\dots, a_r]$ 是双调序列。", "inputFormat": "第一行输入一个整数 $n$（$1 \\leq n \\leq 300000$）。\n\n第二行输入 $n$ 个整数 $a_1, a_2, \\dots, a_n$（$1 \\leq a_i \\leq n$）。", "outputFormat": "输出一个整数，即满足 $1 \\leq l \\leq r \\leq n$ 且序列 $[a_l, a_{l+1}, \\dots, a_r]$ 是双调序列的 $(l, r)$ 对的数量。", "hint": "在样例一中，满足条件的 $(l, r)$ 对如下：\n- $(1, 1)$，对应序列 $[1]$；\n- $(2, 2)$，对应序列 $[1]$；\n- $(2, 3)$，对应序列 $[1, 2]$；\n- $(2, 4)$，对应序列 $[1, 2, 3]$；\n- $(2, 5)$，对应序列 $[1, 2, 3, 1]$；\n- $(3, 3)$，对应序列 $[2]$；\n- $(3, 4)$，对应序列 $[2, 3]$；\n- $(3, 5)$，对应序列 $[2, 3, 1]$；\n- $(4, 4)$，对应序列 $[3]$；\n- $(4, 5)$，对应序列 $[3, 1]$；\n- $(5, 5)$，对应序列 $[1]$。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $27$ | $n\\le500$ |\n| $2$ | $14$ | $n\\le5000$ |\n| $3$ | $20$ | 所有 $a_i$ 互不相等 |\n| $4$ | $39$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq a_i \\leq n \\leq 300000$。", "locale": "zh-CN"}}}
{"pid": "P11122", "type": "P", "difficulty": 5, "samples": [["3 3\n1 2 3\n2 3 1\n3 1 2\n8", "YES\n2\n1 3\n2 3"], ["2 3\n2 2 2\n2 2 2\n5", "NO"], ["5 5\n1 2 1 4 5\n2 5 4 1 2\n4 2 4 3 1\n5 5 3 2 4\n1 2 4 5 2\n34", "YES\n3\n1 4\n1 5\n2 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "折半搜索 meet in the middle", "状压 DP", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 表格游戏 (Day 1)", "background": "翻译自 [ROIR 2024 D1T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。", "description": "给定一个有 $h$ 行和 $w$ 列的表格 $A$，每个单元格内含有一个整数。行从上到下编号为 $1$ 到 $h$，列从左到右编号为 $1$ 到 $w$。允许对这个表格进行以下操作：\n\n- 选择一列并删除它（删除的列左边和右边的列变为相邻的列）；\n- 选择一行并删除它（删除的行上边和下边的行变为相邻的行）。\n\n这些操作可以按任意顺序执行任意多次。\n\n你需要确定是否可以通过这些操作将表格变为一个数字之和为 $s$ 的表格。如果可以，请给出具体的操作。", "inputFormat": "第一行包含两个数字 $h$ 和 $w$，表示表格的大小（$1 \\leq h, w \\leq 15$）。\n\n接下来 $h$ 行，每行包含 $w$ 个整数，其中第 $i$ 行第 $j$ 列为 $A_{i,j}$（$0 \\leq A_{i,j} \\leq 10^9$）。\n\n最后一行输入数字 $s$，即需要通过操作达到的和（$1 \\leq s \\leq 10^{18}$）。", "outputFormat": "如果从原始表格中无法得到一个数字之和为 $s$ 的表格，输出 `NO`。\n\n否则：\n- 第一行输出 `YES`。\n- 第二行输出一个数字 $k$ ，表示需要进行的操作次数。\n- 接下来的 $k$ 行，每行输出两个整数 $t_j$，$i_j$，其中 $t_j = 1$ 表示操作是对行进行的，$t_j = 2$ 表示操作是对列进行的。数字 $i_j$ 应为操作所针对的行或列的初始编号。", "hint": "在样例 $1$ 中，最初给定的表格是：\n\n$$\n\\begin{matrix}\n1 & 2 & 3 \\\\\n2 & 3 & 1 \\\\\n3 & 1 & 2 \\\\\n\\end{matrix}\n$$\n\n删除第三行和第三列后，我们得到以下表格，其元素总和为 $8$：\n\n$$\n\\begin{matrix}\n1 & 2 & 3 \\\\\n2 & 3 & 1 \\\\\n3 & 1 & 2 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 & 3 \\\\\n2 & 3 & 1 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 \\\\\n2 & 3 \\\\\n\\end{matrix}\n$$\n\n在样例 $2$ 中，显然无法通过操作从初始表格中得到元素总和为 $5$ 的表格，因为初始表格全部都是 $2$，而 $5$ 是一个奇数。\n\n在样例 $3$ 中，最初给定的表格是：\n\n$$\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n5 & 5 & 3 & 2 & 4 \\\\\n1 & 2 & 4 & 5 & 2 \\\\\n\\end{matrix}\n$$\n\n删除最后两行和第一列后，我们得到以下表格，其元素总和为 $34$：\n\n$$\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n5 & 5 & 3 & 2 & 4 \\\\\n1 & 2 & 4 & 5 & 2 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n1 & 2 & 4 & 5 & 2 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n2 & 1 & 4 & 5 \\\\\n5 & 4 & 1 & 2 \\\\\n2 & 4 & 3 & 1 \\\\\n\\end{matrix}\n$$\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $17$ | $h=1$ |\n| $2$ | $6$ | 第 $i$ 行中的数字和不超过 $i$ |\n| $3$ | $10$ | $h\\le3$ |\n| $4$ | $13$ | $h,w\\le10$ |\n| $5$ | $13$ | $h,w\\le12$ |\n| $6$ | $12$ | $A_{i,j}\\le6$ |\n| $7$ | $29$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq h, w \\leq 15$，$0 \\leq A_{i,j} \\leq 10^9$，$1 \\leq s \\leq 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 表格游戏 (Day 1)", "background": "翻译自 [ROIR 2024 D1T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。", "description": "给定一个有 $h$ 行和 $w$ 列的表格 $A$，每个单元格内含有一个整数。行从上到下编号为 $1$ 到 $h$，列从左到右编号为 $1$ 到 $w$。允许对这个表格进行以下操作：\n\n- 选择一列并删除它（删除的列左边和右边的列变为相邻的列）；\n- 选择一行并删除它（删除的行上边和下边的行变为相邻的行）。\n\n这些操作可以按任意顺序执行任意多次。\n\n你需要确定是否可以通过这些操作将表格变为一个数字之和为 $s$ 的表格。如果可以，请给出具体的操作。", "inputFormat": "第一行包含两个数字 $h$ 和 $w$，表示表格的大小（$1 \\leq h, w \\leq 15$）。\n\n接下来 $h$ 行，每行包含 $w$ 个整数，其中第 $i$ 行第 $j$ 列为 $A_{i,j}$（$0 \\leq A_{i,j} \\leq 10^9$）。\n\n最后一行输入数字 $s$，即需要通过操作达到的和（$1 \\leq s \\leq 10^{18}$）。", "outputFormat": "如果从原始表格中无法得到一个数字之和为 $s$ 的表格，输出 `NO`。\n\n否则：\n- 第一行输出 `YES`。\n- 第二行输出一个数字 $k$ ，表示需要进行的操作次数。\n- 接下来的 $k$ 行，每行输出两个整数 $t_j$，$i_j$，其中 $t_j = 1$ 表示操作是对行进行的，$t_j = 2$ 表示操作是对列进行的。数字 $i_j$ 应为操作所针对的行或列的初始编号。", "hint": "在样例 $1$ 中，最初给定的表格是：\n\n$$\n\\begin{matrix}\n1 & 2 & 3 \\\\\n2 & 3 & 1 \\\\\n3 & 1 & 2 \\\\\n\\end{matrix}\n$$\n\n删除第三行和第三列后，我们得到以下表格，其元素总和为 $8$：\n\n$$\n\\begin{matrix}\n1 & 2 & 3 \\\\\n2 & 3 & 1 \\\\\n3 & 1 & 2 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 & 3 \\\\\n2 & 3 & 1 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 \\\\\n2 & 3 \\\\\n\\end{matrix}\n$$\n\n在样例 $2$ 中，显然无法通过操作从初始表格中得到元素总和为 $5$ 的表格，因为初始表格全部都是 $2$，而 $5$ 是一个奇数。\n\n在样例 $3$ 中，最初给定的表格是：\n\n$$\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n5 & 5 & 3 & 2 & 4 \\\\\n1 & 2 & 4 & 5 & 2 \\\\\n\\end{matrix}\n$$\n\n删除最后两行和第一列后，我们得到以下表格，其元素总和为 $34$：\n\n$$\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n5 & 5 & 3 & 2 & 4 \\\\\n1 & 2 & 4 & 5 & 2 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n1 & 2 & 4 & 5 & 2 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n1 & 2 & 1 & 4 & 5 \\\\\n2 & 5 & 4 & 1 & 2 \\\\\n4 & 2 & 4 & 3 & 1 \\\\\n\\end{matrix}\n\\rightarrow\n\\begin{matrix}\n2 & 1 & 4 & 5 \\\\\n5 & 4 & 1 & 2 \\\\\n2 & 4 & 3 & 1 \\\\\n\\end{matrix}\n$$\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $17$ | $h=1$ |\n| $2$ | $6$ | 第 $i$ 行中的数字和不超过 $i$ |\n| $3$ | $10$ | $h\\le3$ |\n| $4$ | $13$ | $h,w\\le10$ |\n| $5$ | $13$ | $h,w\\le12$ |\n| $6$ | $12$ | $A_{i,j}\\le6$ |\n| $7$ | $29$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq h, w \\leq 15$，$0 \\leq A_{i,j} \\leq 10^9$，$1 \\leq s \\leq 10^{18}$。", "locale": "zh-CN"}}}
