{"pid": "P2724", "type": "P", "difficulty": 3, "samples": [["2 4 10\n01010010010001000111101100001010011001111000010010011110010000000", "23\n00\n15\n01 10\n12\n100\n11\n11 000 001\n10\n010\n8\n0100\n7\n0010 1001\n6\n111 0000\n5\n011 110 1000\n4\n0001 0011 1100"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["1998", "USACO", "IOI", "枚举", "排序"], "title": "[IOI 1998 / USACO3.1] 联系 Contact", "background": "奶牛们开始对使用射电望远镜扫描外太空产生了兴趣。最近，她们注意到一个来自银河系中心的、非常奇怪的脉冲调制微波信号。她们想知道这些无线电波是否由某种地外生命发出，或者仅仅是普通恒星发射的。", "description": "请帮助奶牛们，编写一个工具来分析她们记录在文件中的数据，以找出真相。她们正在寻找在数据文件中出现次数最多的前 $n$ 个，且长度在 $A$ 到 $B$ 之间（包含 $A$ 和 $B$）的比特序列。\n\n出现的位置可以重叠，每个至少出现一次的序列都应该被计数。", "inputFormat": "第一行，包含三个整数 $A, B, n$，如题目描述。\n\n从第二行开始的若干行，描述字符串 $s$，每行最多 $80$ 个字符（按顺序连接所有行即为完整的字符串）。", "outputFormat": "输出出现频率最高的 $n$ 个序列（按频率从高到低排序）。\n\n对于频率相同的序列，按长度从短到长排序；如果长度也相同，则按二进制数值升序排序。如果不同序列的数量少于 $n$，则输出所有存在的序列。\n\n对于出现的每个频率，首先输出一行，仅包含该频率值，然后输出具有该频率的序列，用空格分隔。每行打印六个序列（除非剩下的不足六个）。", "hint": "#### 样例 1 解释\n\n在样例中，序列 $100$ 出现了 $12$ 次，而序列 $1000$ 出现了 $5$ 次。出现最频繁的序列是 $00$，出现了 $23$ 次。\n\n---\n\n#### 数据规模与约定\n\n对于 $100%$ 的测试数据，保证 $1 \\leq n \\leq 50$，$1 \\leq A \\leq B \\leq 12$，$s$ 只包含字符 `0` 和 `1`，且 $s$ 的长度不超过 $2 \\times 10^5$", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 1998 / USACO3.1] Contact", "background": "The cows have become interested in scanning outer space with a radio telescope. Recently, they noticed a very strange pulse-modulated microwave signal coming from the center of the galaxy. They want to know whether the radio waves were sent by some extraterrestrial life, or are merely emitted by ordinary stars.", "description": "Help the cows by writing a tool that analyzes the records they wrote down in a file to find the truth. They are looking for the bit sequences of lengths between $A$ and $B$ (inclusive) that occur the top $n$ most times in the data file.\n\nOccurrences may overlap, and every sequence that appears at least once should be counted.", "inputFormat": "The first line contains three integers $A, B, n$, as defined in the description.\n\nFrom the second line on is the string $s$, with at most $80$ characters per line. Concatenate all lines in order to obtain $s$.", "outputFormat": "Output the $n$ most frequent sequences (in order from highest to lowest frequency). For sequences with the same frequency, order them by length from short to long; if the lengths are the same, order by binary value (ascending). If the number of distinct sequences is less than $n$, output all that exist.\n\nFor each frequency that occurs, first output a line containing only that frequency, then output the sequences with that frequency, separated by spaces. Print six sequences per line (unless fewer remain).", "hint": "#### Explanation for Sample 1\n\nIn the sample, the sequence $100$ appears $12$ times, while the sequence $1000$ appears $5$ times. The most frequent sequence is $00$, which appears $23$ times.\n\n---\n\n#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 50$, $1 \\leq A \\leq B \\leq 12$, $s$ contains only the characters `0` and `1`, and the length of $s$ is at most $2 \\times 10^5$.\n\n---\n\nThe problem translation is from NOCOW.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 1998 / USACO3.1] 联系 Contact", "background": "奶牛们开始对使用射电望远镜扫描外太空产生了兴趣。最近，她们注意到一个来自银河系中心的、非常奇怪的脉冲调制微波信号。她们想知道这些无线电波是否由某种地外生命发出，或者仅仅是普通恒星发射的。", "description": "请帮助奶牛们，编写一个工具来分析她们记录在文件中的数据，以找出真相。她们正在寻找在数据文件中出现次数最多的前 $n$ 个，且长度在 $A$ 到 $B$ 之间（包含 $A$ 和 $B$）的比特序列。\n\n出现的位置可以重叠，每个至少出现一次的序列都应该被计数。", "inputFormat": "第一行，包含三个整数 $A, B, n$，如题目描述。\n\n从第二行开始的若干行，描述字符串 $s$，每行最多 $80$ 个字符（按顺序连接所有行即为完整的字符串）。", "outputFormat": "输出出现频率最高的 $n$ 个序列（按频率从高到低排序）。\n\n对于频率相同的序列，按长度从短到长排序；如果长度也相同，则按二进制数值升序排序。如果不同序列的数量少于 $n$，则输出所有存在的序列。\n\n对于出现的每个频率，首先输出一行，仅包含该频率值，然后输出具有该频率的序列，用空格分隔。每行打印六个序列（除非剩下的不足六个）。", "hint": "#### 样例 1 解释\n\n在样例中，序列 $100$ 出现了 $12$ 次，而序列 $1000$ 出现了 $5$ 次。出现最频繁的序列是 $00$，出现了 $23$ 次。\n\n---\n\n#### 数据规模与约定\n\n对于 $100%$ 的测试数据，保证 $1 \\leq n \\leq 50$，$1 \\leq A \\leq B \\leq 12$，$s$ 只包含字符 `0` 和 `1`，且 $s$ 的长度不超过 $2 \\times 10^5$", "locale": "zh-CN"}}}
{"pid": "P2725", "type": "P", "difficulty": 3, "samples": [["5 2\n1 3", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "动态规划 DP", "搜索", "贪心", "USACO", "背包 DP"], "title": "[USACO3.1] 邮票 Stamps", "background": "", "description": "给一组 $n$ 枚邮票的面值集合和一个上限 $k$ —— 表示信封上能够贴 $k$ 张邮票。请求出最大的正整数 $m$，满足 $1$ 到 $m$ 的面值都可以用不超过 $k$ 张邮票表示出来。\n\n", "inputFormat": "输入的第一行是两个整数，分别代表邮票上限 $k$ 和邮票面值数 $n$。\n\n自第二行起，除最后一行外，每行有 $15$ 个整数 $a_i$ ，最后一行的整数个数不超过 $15$，共有 $n$ 个整数，第 $i$ 个整数代表第 $i$ 种邮票的面值 $a_i$。", "outputFormat": "输出一行一个整数代表 $m$。若 $m$ 不存在请输出 $0$。", "hint": "#### 样例输入输出 1 解释\n\n有 $1$ 分和 $3$ 分的邮票；你最多可以贴 $5$ 张邮票。很容易贴出 $1$ 到 $5$ 分的邮资（用 $1$ 分邮票贴就行了），接下来的邮资也不难：\n\n\n- $6 = 3 + 3$。\n- $7 = 3 + 3 + 1$。\n- $8 = 3 + 3 + 1 + 1 $。\n- $9 = 3 + 3 + 3 $。\n- $10 = 3 + 3 + 3 + 1 $。\n- $11 = 3 + 3 + 3 + 1 + 1 $。\n- $12 = 3 + 3 + 3 + 3 $。\n- $13 = 3 + 3 + 3 + 3 + 1$。\n\n\n然而，使用 $5$ 枚 $1$ 分或者 $3$ 分的邮票根本不可能贴出 $14$ 分的邮资。因此，答案为 $13$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq k \\leq 200$，$1 \\leq n \\leq 50$，$1 \\leq a_i \\leq 10^4$。\n\n#### 说明\n\n题目翻译来自 NOCOW。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.1] Stamps", "background": "", "description": "Given a set of $n$ stamp denominations and an upper bound $k$ — meaning you may affix at most $k$ stamps to an envelope — find the largest positive integer $m$ such that every value from $1$ to $m$ can be represented using no more than $k$ stamps.", "inputFormat": "The first line contains two integers, the stamp limit $k$ and the number of denominations $n$.\n\nStarting from the second line, except for the last line, each line contains $15$ integers $a_i$. The last line contains at most $15$ integers. In total there are $n$ integers; the $i$-th integer is the value $a_i$ of the $i$-th type of stamp.", "outputFormat": "Output one line with a single integer $m$. If $m$ does not exist, output $0$.", "hint": "Sample Input/Output 1 Explanation\n\nThere are denominations $1$ and $3$; you may use at most $5$ stamps. It is easy to form values $1$ through $5$ (just use the $1$-value stamps). The following values are also easy:\n\n- $6 = 3 + 3$.\n- $7 = 3 + 3 + 1$.\n- $8 = 3 + 3 + 1 + 1$.\n- $9 = 3 + 3 + 3$.\n- $10 = 3 + 3 + 3 + 1$.\n- $11 = 3 + 3 + 3 + 1 + 1$.\n- $12 = 3 + 3 + 3 + 3$.\n- $13 = 3 + 3 + 3 + 3 + 1$.\n\nHowever, using $5$ stamps of values $1$ or $3$, it is impossible to form $14$. Therefore, the answer is $13$.\n\nConstraints\n\n- For $100\\%$ of the testdata, $1 \\leq k \\leq 200$, $1 \\leq n \\leq 50$, $1 \\leq a_i \\leq 10^4$.\n\nNote\n\n- The statement is translated from NOCOW.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.1] 邮票 Stamps", "background": "", "description": "给一组 $n$ 枚邮票的面值集合和一个上限 $k$ —— 表示信封上能够贴 $k$ 张邮票。请求出最大的正整数 $m$，满足 $1$ 到 $m$ 的面值都可以用不超过 $k$ 张邮票表示出来。\n\n", "inputFormat": "输入的第一行是两个整数，分别代表邮票上限 $k$ 和邮票面值数 $n$。\n\n自第二行起，除最后一行外，每行有 $15$ 个整数 $a_i$ ，最后一行的整数个数不超过 $15$，共有 $n$ 个整数，第 $i$ 个整数代表第 $i$ 种邮票的面值 $a_i$。", "outputFormat": "输出一行一个整数代表 $m$。若 $m$ 不存在请输出 $0$。", "hint": "#### 样例输入输出 1 解释\n\n有 $1$ 分和 $3$ 分的邮票；你最多可以贴 $5$ 张邮票。很容易贴出 $1$ 到 $5$ 分的邮资（用 $1$ 分邮票贴就行了），接下来的邮资也不难：\n\n\n- $6 = 3 + 3$。\n- $7 = 3 + 3 + 1$。\n- $8 = 3 + 3 + 1 + 1 $。\n- $9 = 3 + 3 + 3 $。\n- $10 = 3 + 3 + 3 + 1 $。\n- $11 = 3 + 3 + 3 + 1 + 1 $。\n- $12 = 3 + 3 + 3 + 3 $。\n- $13 = 3 + 3 + 3 + 3 + 1$。\n\n\n然而，使用 $5$ 枚 $1$ 分或者 $3$ 分的邮票根本不可能贴出 $14$ 分的邮资。因此，答案为 $13$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq k \\leq 200$，$1 \\leq n \\leq 50$，$1 \\leq a_i \\leq 10^4$。\n\n#### 说明\n\n题目翻译来自 NOCOW。", "locale": "zh-CN"}}}
{"pid": "P2726", "type": "P", "difficulty": 6, "samples": [["5\n1 2\n1 3\n3 4\n3 5\n5\n7\n6\n5\n4", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2005", "各省省选", "上海", "树形 DP", "树的重心"], "title": "[SHOI2005] 树的双中心", "background": null, "description": "给定一棵树 $T=(V,E)$，其中 $V$ 为节点集合，$E$ 为边集合。\n\n对于 $V$ 中的每个节点 $v$，有一个权值函数 $W(v)$，该函数的值均为正整数。\n\n记 $d(u,v)$ 为节点 $u$ 和 $v$ 之间的距离，表示它们之间唯一的一条路径的边数。若 $u$ 和 $v$ 为同一个节点，则 $d(u,v)=0$。\n\n你的任务是找出两个不同的节点 $x$ 和 $y$，使得以下表达式 $S(x,y)$ 的值最小\n\n$$S(x,y)=\\sum_{v\\in V} (W(v)\\cdot \\min\\{ d(v,x),d(v,y)\\})", "inputFormat": "第一行为 $N\\;(1<N\\le5\\times 10^4)$，表示树的节点数目，树的节点从 $1$ 到 $N$ 编号。\n\n接下来 $N-1$ 行，每行两个整数 $U,V$，表示 $U$ 与 $V$ 之间有一条边。\n\n再接下 $N$ 行，每行一个正整数，其中第i行的正整数表示编号为 $i$ 的节点权值为 $W(i)$。\n\n保证树的深度不超过 $100$。", "outputFormat": "将最小的 $S(x,y)$ 输出，结果保证不超过 $10^9$", "hint": "样例中，选取的两个中心节点分别为 $2$ 和 $3$。", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2005] Double Center of a Tree", "background": "", "description": "Given a tree $T=(V,E)$, where $V$ is the set of nodes and $E$ is the set of edges.\n\nFor each node $v \\in V$, there is a weight function $W(v)$ whose values are positive integers.\n\nLet $d(u,v)$ be the distance between nodes $u$ and $v$, meaning the number of edges on the unique path between them. If $u$ and $v$ are the same node, then $d(u,v)=0$.\n\nYour task is to find two distinct nodes $x$ and $y$ that minimize the following expression:\n$$\nS(x,y)=\\sum_{v\\in V} (W(v)\\cdot \\min\\{ d(v,x),d(v,y)\\})\n$$", "inputFormat": "- The first line contains $N$ ($1 < N \\le 5\\times 10^4$), the number of nodes in the tree. The nodes are numbered from $1$ to $N$.\n- The next $N-1$ lines each contain two integers $U, V$, indicating there is an edge between $U$ and $V$.\n- Then $N$ more lines follow. Each line contains a positive integer; on the $i$-th of these lines, the integer gives the weight $W(i)$ of node $i$.\n- It is guaranteed that the depth of the tree does not exceed $100$.", "outputFormat": "Output the minimal value of $S(x,y)$. The result is guaranteed not to exceed $10^9$.", "hint": "In the sample, the two chosen centers are nodes $2$ and $3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2005] 树的双中心", "background": null, "description": "给定一棵树 $T=(V,E)$，其中 $V$ 为节点集合，$E$ 为边集合。\n\n对于 $V$ 中的每个节点 $v$，有一个权值函数 $W(v)$，该函数的值均为正整数。\n\n记 $d(u,v)$ 为节点 $u$ 和 $v$ 之间的距离，表示它们之间唯一的一条路径的边数。若 $u$ 和 $v$ 为同一个节点，则 $d(u,v)=0$。\n\n你的任务是找出两个不同的节点 $x$ 和 $y$，使得以下表达式 $S(x,y)$ 的值最小\n\n$$S(x,y)=\\sum_{v\\in V} (W(v)\\cdot \\min\\{ d(v,x),d(v,y)\\})", "inputFormat": "第一行为 $N\\;(1<N\\le5\\times 10^4)$，表示树的节点数目，树的节点从 $1$ 到 $N$ 编号。\n\n接下来 $N-1$ 行，每行两个整数 $U,V$，表示 $U$ 与 $V$ 之间有一条边。\n\n再接下 $N$ 行，每行一个正整数，其中第i行的正整数表示编号为 $i$ 的节点权值为 $W(i)$。\n\n保证树的深度不超过 $100$。", "outputFormat": "将最小的 $S(x,y)$ 输出，结果保证不超过 $10^9$", "hint": "样例中，选取的两个中心节点分别为 $2$ 和 $3$。", "locale": "zh-CN"}}}
{"pid": "P2727", "type": "P", "difficulty": 5, "samples": [["5 3 19", "10011"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "数学", "二分", "USACO", "数位 DP"], "title": "[USACO3.2] 01串 Stringsobits", "background": "考虑排好序的 $N$（$1 \\leq N \\leq 31$）位二进制数。\n", "description": "他们是排列好的，而且包含所有长度为 $N$ 且这个二进制数中 $1$ 的位数的个数小于等于 $L$（$L \\leq N$）的数。\n\n你的任务是输出满足长度为 $N$，且 $1$ 的个数小于等于 $L$ 的第 $i$ 小的那个二进制数（保证这个数存在）。\n\n例：$100101$ 中，$N=6$，含有 $1$ 的个数为 $3$。", "inputFormat": "一行三个整数 $N,L,i$。", "outputFormat": "输出满足条件的第 $i$ 小的二进制数。\n", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.2\n", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.2] 01 String Stringsobits", "background": "Consider sorted $N$-bit binary numbers ($1 \\leq N \\leq 31$).", "description": "They are sorted and include all $N$-bit binary numbers whose number of $1$s is at most $L$ ($L \\leq N$).\n\nYour task is to output the $i$-th smallest $N$-bit binary number that has at most $L$ ones (it is guaranteed to exist).\n\nExample: In $100101$, $N = 6$, and it contains $3$ ones.", "inputFormat": "One line with three integers $N, L, i$.", "outputFormat": "Output the $i$-th smallest binary number that satisfies the conditions.", "hint": "Problem translation from NOCOW.\n\nUSACO Training Section 3.2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.2] 01串 Stringsobits", "background": "考虑排好序的 $N$（$1 \\leq N \\leq 31$）位二进制数。\n", "description": "他们是排列好的，而且包含所有长度为 $N$ 且这个二进制数中 $1$ 的位数的个数小于等于 $L$（$L \\leq N$）的数。\n\n你的任务是输出满足长度为 $N$，且 $1$ 的个数小于等于 $L$ 的第 $i$ 小的那个二进制数（保证这个数存在）。\n\n例：$100101$ 中，$N=6$，含有 $1$ 的个数为 $3$。", "inputFormat": "一行三个整数 $N,L,i$。", "outputFormat": "输出满足条件的第 $i$ 小的二进制数。\n", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.2\n", "locale": "zh-CN"}}}
{"pid": "P2728", "type": "P", "difficulty": 3, "samples": [["30 1 0 120\n50 1 150 90\n60 1 60 90\n70 1 180 180\n90 1 180 60", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "图论", "USACO"], "title": "[USACO3.2] 纺车的轮子 Spinning Wheels", "background": "一架纺车有五个纺轮（也就是五个同心圆），这五个不透明的轮子边缘上都有一些缺口。这些缺口必须被迅速而准确地排列好。每个轮子都有一个起始标记（在 $0$ 度），这样所有的轮子都可以在统一的已知位置开始转动。轮子按照角度变大的方向旋转（即 $0$ 经过旋转到达 $1$ 的位置），所以从起始位置开始，在一定的时间内，它们依次转过 $1$ 度，$2$ 度等等（虽然这些轮子很可能不会同时转过这些角度）。", "description": "这是一个整数问题。轮子不会转过 $1.5$ 度或 $23.51234123$ 度这样的角度。例如，轮子可能在一秒钟内转过 $20$ 到 $25$ 度甚至 $30$ 到 $40$ 度（如果转得快的话）。\n\n这个问题中的所有角度 $\\theta$ 都限制在 $0 \\le \\theta \\le 359$ 度的范围内。轮子转过 $359$ 度后接下来就是 $0$ 度。每个轮子都有一个确定的旋转速度 $\\omega$，以秒作为单位。$1\\le \\omega\\le 180$。\n\n轮子上的缺口的起始角度和缺口大小（或宽度）各由一个整数表示，都以度为单位。在一个轮子上，两个缺口之间至少有一度的间隔。宽度也包含缺口起始和终止的角度，**即 `0 179` 包括 $[0,179]$ 共计 $180$ 个角度**。\n\n在起始位置，设时间为 $0$，所有的轮子的起始标记排列成一条直线。你的程序必须计算，最早出现每个的轮子上的缺口同其他轮子上的缺口对准（也就是一束光可以通过五个轮子上的五个缺口）情况的时间。这些缺口在任意一个角度对准。", "inputFormat": "输入中的五行对应五个轮子。\n\n第一个数字表示轮子的转动速度 $\\omega$。下一个数字是缺口的数目 $n$。$1 \\le n \\le 5$。接下来的 $n$ 对数字 $(\\theta_i,\\varphi_i)$ 表示每个缺口的起始角度和宽度。", "outputFormat": "只有一行，包括一个整数，表示光能够通过这五个轮子的最早时间。如果无解，输出 `none`。", "hint": "样例解释：\n\n$9$ 秒后，五个缺口分别处于 $[270^\\circ,30^\\circ],[240^\\circ,330^\\circ],[240^\\circ,330^\\circ],[90^\\circ,270^\\circ],[270^\\circ,330^\\circ]$，因此光能够从 $270^\\circ$ 方向打进来。\n\n题目翻译来自NOCOW。\n\nUSACO Training Section 3.2。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.2] Spinning Wheels", "background": "A spinning wheel has five disks (i.e., five concentric circles), each opaque and with several slots on the rim. These slots must be aligned quickly and precisely. Each wheel has a starting mark at $0$ degrees so that all wheels can start from a common, known position. The wheels rotate in the direction of increasing angles (i.e., the $0$ position moves to where $1$ is), so starting from the initial position, over time they advance by $1$ degree, $2$ degrees, and so on (although they may not advance the same amount at the same time).", "description": "This is an integer problem. The wheels do not rotate by non-integer angles like $1.5$ degrees or $23.51234123$ degrees. For example, a wheel might rotate at $20$ degrees per second, or even $30$–$40$ degrees per second if it is fast.\n\nAll angles $\\theta$ in this problem are restricted to $0 \\le \\theta \\le 359$ degrees. After a wheel rotates through $359$ degrees, the next degree is $0$. Each wheel has a fixed rotational speed $\\omega$ in seconds, with $1\\le \\omega\\le 180$.\n\nThe starting angle of each slot and the slot size (or width) are both integers, measured in degrees. On a single wheel, there is at least one degree between any two slots. The width includes both the starting and ending angles of the slot, i.e., `0 179` covers $[0,179]$, totaling $180$ angles.\n\nAt the starting position (time $0$), all the starting marks on the wheels are aligned along a straight line. Your program must compute the earliest time when a slot on each wheel aligns with slots on all the other wheels (i.e., a beam of light can pass through five slots, one on each of the five wheels), at any angle.", "inputFormat": "There are five lines in the input, one per wheel.\n\nThe first number is the wheel’s rotational speed $\\omega$. The next number is the number of slots $n$, where $1 \\le n \\le 5$. The following $n$ pairs $(\\theta_i,\\varphi_i)$ give the starting angle and width of each slot.", "outputFormat": "Output a single line with one integer, the earliest time when light can pass through all five wheels. If there is no solution, output `none`.", "hint": "Sample explanation:\n\nAfter $9$ seconds, the five sets of slots are $[270^\\circ,30^\\circ]$, $[240^\\circ,330^\\circ]$, $[240^\\circ,330^\\circ]$, $[90^\\circ,270^\\circ]$, $[270^\\circ,330^\\circ]$, so a beam can enter from $270^\\circ$.\n\nTranslation from NOCOW.\n\nUSACO Training Section 3.2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.2] 纺车的轮子 Spinning Wheels", "background": "一架纺车有五个纺轮（也就是五个同心圆），这五个不透明的轮子边缘上都有一些缺口。这些缺口必须被迅速而准确地排列好。每个轮子都有一个起始标记（在 $0$ 度），这样所有的轮子都可以在统一的已知位置开始转动。轮子按照角度变大的方向旋转（即 $0$ 经过旋转到达 $1$ 的位置），所以从起始位置开始，在一定的时间内，它们依次转过 $1$ 度，$2$ 度等等（虽然这些轮子很可能不会同时转过这些角度）。", "description": "这是一个整数问题。轮子不会转过 $1.5$ 度或 $23.51234123$ 度这样的角度。例如，轮子可能在一秒钟内转过 $20$ 到 $25$ 度甚至 $30$ 到 $40$ 度（如果转得快的话）。\n\n这个问题中的所有角度 $\\theta$ 都限制在 $0 \\le \\theta \\le 359$ 度的范围内。轮子转过 $359$ 度后接下来就是 $0$ 度。每个轮子都有一个确定的旋转速度 $\\omega$，以秒作为单位。$1\\le \\omega\\le 180$。\n\n轮子上的缺口的起始角度和缺口大小（或宽度）各由一个整数表示，都以度为单位。在一个轮子上，两个缺口之间至少有一度的间隔。宽度也包含缺口起始和终止的角度，**即 `0 179` 包括 $[0,179]$ 共计 $180$ 个角度**。\n\n在起始位置，设时间为 $0$，所有的轮子的起始标记排列成一条直线。你的程序必须计算，最早出现每个的轮子上的缺口同其他轮子上的缺口对准（也就是一束光可以通过五个轮子上的五个缺口）情况的时间。这些缺口在任意一个角度对准。", "inputFormat": "输入中的五行对应五个轮子。\n\n第一个数字表示轮子的转动速度 $\\omega$。下一个数字是缺口的数目 $n$。$1 \\le n \\le 5$。接下来的 $n$ 对数字 $(\\theta_i,\\varphi_i)$ 表示每个缺口的起始角度和宽度。", "outputFormat": "只有一行，包括一个整数，表示光能够通过这五个轮子的最早时间。如果无解，输出 `none`。", "hint": "样例解释：\n\n$9$ 秒后，五个缺口分别处于 $[270^\\circ,30^\\circ],[240^\\circ,330^\\circ],[240^\\circ,330^\\circ],[90^\\circ,270^\\circ],[270^\\circ,330^\\circ]$，因此光能够从 $270^\\circ$ 方向打进来。\n\n题目翻译来自NOCOW。\n\nUSACO Training Section 3.2。", "locale": "zh-CN"}}}
{"pid": "P2729", "type": "P", "difficulty": 3, "samples": [["3 4 5\n1 2 3\n3 7 1\n2 1 2 ", "8 1 5 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "数学", "USACO", "枚举", "剪枝"], "title": "[USACO3.2] 饲料调配 Feed Ratios", "background": "农夫约翰从来只用调配得最好的饲料来喂他的奶牛。饲料用三种原料调配成：大麦，燕麦和小麦。他知道自己的饲料精确的配比，在市场上是买不到这样的饲料的。他只好购买其他三种混合饲料（同样都由三种麦子组成），然后将它们混合，来调配他的完美饲料。", "description": "给出三组整数，每组整数表示一种饲料中大麦、燕麦与小麦的比例，找出用这三种饲料调配 $x:y:z$ 的饲料的方法。\n\n请编写一个程序找出使这三种饲料用量最少的方案，要是不能用这三种饲料调配目标饲料，输出一行一个字符串 `NONE`。“用量最少”意味着三种饲料的用量（整数）的和必须最小。\n\n例如，要求使用 $1:2:3$、$3:7:1$、$2:1:2$ 的饲料调配 $3:4:5$ 的饲料，我们可以通过 $8$ 份第一种饲料、$1$ 份第二种饲料和 $5$ 份第三种饲料调配 $7$ 份目标饲料。这是因为 $8 \\times 1 + 1 \\times 3 + 5 \\times 2 = 21$，$8 \\times 2 + 1 \\times 7 + 5 \\times 1 = 28$，$8 \\times 3 + 1 \\times 1 + 5 \\times 2 = 35$，而 $21:28:35$ 恰好等于 $3:4:5$。", "inputFormat": "第一行，三个整数 $x,y,z$，表示目标饲料中大麦、燕麦与小麦的比为 $x:y:z$。\n\n接下来三行，第 $i$ 行三个整数 $a_i,b_i,c_i$，表示第 $i$ 种饲料中大麦、燕麦与小麦的比为 $a_i:b_i:c_i$。\n\n数据保证输入的所有整数在 $0 \\sim 99$ 之间，且每一行的三个整数不会同为 $0$。", "outputFormat": "如果能够用这三种饲料调配出目标饲料，则输出一行 $4$ 个整数，前三个整数 $m,n,p$ 分别代表三种饲料的份数，第四个整数代表得到目标饲料的份数。如果有多解，输出 $m+n+p$ 最小的一组。如果不能用这三种饲料调配出目标饲料，输出一行一个字符串 `NONE`。数据保证如果有解， $m+n+p$ 最小的解只有一组。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.2", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.2] Feed Ratios", "background": "Farmer John always feeds his cows with the best-mixed feed. The feed is blended from three ingredients: barley, oats, and wheat. He knows the exact ratio of his ideal feed, but such a feed is not available on the market. He has to purchase three other mixed feeds (each also composed of the same three grains) and blend them to produce his perfect feed.", "description": "Given three sets of integers, each set represents the ratio of barley, oats, and wheat in one feed. Find a way to blend these three feeds to obtain a feed with ratio $x:y:z$.\n\nWrite a program to find the solution that minimizes the total amount of the three feeds used. If it is impossible to obtain the target feed from these three feeds, output a single line containing the string `NONE`. “Minimum amount” means the sum of the amounts (integers) of the three feeds must be minimized.\n\nFor example, if we want to use feeds with ratios $1:2:3$, $3:7:1$, and $2:1:2$ to produce a feed with ratio $3:4:5$, we can blend $8$ units of the first feed, $1$ unit of the second feed, and $5$ units of the third feed to obtain $7$ units of the target feed. This is because $8 \\times 1 + 1 \\times 3 + 5 \\times 2 = 21$, $8 \\times 2 + 1 \\times 7 + 5 \\times 1 = 28$, $8 \\times 3 + 1 \\times 1 + 5 \\times 2 = 35$, and $21:28:35$ is exactly equal to $3:4:5$.", "inputFormat": "The first line contains three integers $x, y, z$, indicating that the target feed has barley, oats, and wheat in the ratio $x:y:z$.\n\nThe next three lines, the $i$-th line contains three integers $a_i, b_i, c_i$, indicating that the $i$-th feed has barley, oats, and wheat in the ratio $a_i:b_i:c_i$.\n\nAll integers in the input are between $0$ and $99$ inclusive, and in each line the three integers are not all $0$.", "outputFormat": "If the target feed can be obtained by blending the three feeds, output one line with $4$ integers. The first three integers $m, n, p$ represent the portions of the three feeds, and the fourth integer represents the number of portions of the target feed obtained. If there are multiple solutions, output the one with the smallest $m+n+p$. If the target feed cannot be obtained from the three feeds, output a single line containing the string `NONE`. It is guaranteed that if a solution exists, the solution with the smallest $m+n+p$ is unique.", "hint": "Translation from NOCOW. USACO Training Section 3.2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.2] 饲料调配 Feed Ratios", "background": "农夫约翰从来只用调配得最好的饲料来喂他的奶牛。饲料用三种原料调配成：大麦，燕麦和小麦。他知道自己的饲料精确的配比，在市场上是买不到这样的饲料的。他只好购买其他三种混合饲料（同样都由三种麦子组成），然后将它们混合，来调配他的完美饲料。", "description": "给出三组整数，每组整数表示一种饲料中大麦、燕麦与小麦的比例，找出用这三种饲料调配 $x:y:z$ 的饲料的方法。\n\n请编写一个程序找出使这三种饲料用量最少的方案，要是不能用这三种饲料调配目标饲料，输出一行一个字符串 `NONE`。“用量最少”意味着三种饲料的用量（整数）的和必须最小。\n\n例如，要求使用 $1:2:3$、$3:7:1$、$2:1:2$ 的饲料调配 $3:4:5$ 的饲料，我们可以通过 $8$ 份第一种饲料、$1$ 份第二种饲料和 $5$ 份第三种饲料调配 $7$ 份目标饲料。这是因为 $8 \\times 1 + 1 \\times 3 + 5 \\times 2 = 21$，$8 \\times 2 + 1 \\times 7 + 5 \\times 1 = 28$，$8 \\times 3 + 1 \\times 1 + 5 \\times 2 = 35$，而 $21:28:35$ 恰好等于 $3:4:5$。", "inputFormat": "第一行，三个整数 $x,y,z$，表示目标饲料中大麦、燕麦与小麦的比为 $x:y:z$。\n\n接下来三行，第 $i$ 行三个整数 $a_i,b_i,c_i$，表示第 $i$ 种饲料中大麦、燕麦与小麦的比为 $a_i:b_i:c_i$。\n\n数据保证输入的所有整数在 $0 \\sim 99$ 之间，且每一行的三个整数不会同为 $0$。", "outputFormat": "如果能够用这三种饲料调配出目标饲料，则输出一行 $4$ 个整数，前三个整数 $m,n,p$ 分别代表三种饲料的份数，第四个整数代表得到目标饲料的份数。如果有多解，输出 $m+n+p$ 最小的一组。如果不能用这三种饲料调配出目标饲料，输出一行一个字符串 `NONE`。数据保证如果有解， $m+n+p$ 最小的解只有一组。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.2", "locale": "zh-CN"}}}
{"pid": "P2730", "type": "P", "difficulty": 4, "samples": [["2 6 8 4 5 7 3 1 ", "7 \nBCABCCB"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "USACO", "IOI", "O2优化", "广度优先搜索 BFS", "康托展开", "1996"], "title": "[IOI 1996 / USACO3.2] 魔板 Magic Squares", "background": "在成功地发明了魔方之后，鲁比克先生发明了它的二维版本，称作魔板。我们知道魔板的每一个方格都有一种颜色。这 $8$ 种颜色用前 $8$ 个正整数来表示。可以用颜色的序列来表示一种魔板状态，规定从魔板的左上角开始，沿顺时针方向依次取出整数，构成一个颜色序列。", "description": "这是一张有 $8$ 个大小相同的格子的魔板：\n| $1$ | $2$ | $3$ | $4$ |\n|:-:|:-:|:-:|:-:|\n| $8$ | $7$ | $6$ | $5$ |\n\n对于上图的魔板状态，我们用序列 $\\{1,2,3,4,5,6,7,8\\}$ 来表示。这是基本状态。\n\n这里提供三种基本操作，分别用大写字母 $\\text A$、$\\text B$、$\\text C$ 来表示（可以通过这些操作改变魔板的状态）。下面是对基本状态进行操作的示范：\n\n$\\text A$：交换上下两行；\n| $8$ | $7$ | $6$ | $5$ |\n|:-:|:-:|:-:|:-:|\n| $1$ | $2$ | $3$ | $4$ |\n\n$\\text B$：将最右边的一列插入最左边；\n| $4$ | $1$ | $2$ | $3$ |\n|:-:|:-:|:-:|:-:|\n| $5$ | $8$ | $7$ | $6$ |\n\n$\\text C$：魔板中央四格作顺时针旋转。\n| $1$ | $7$ | $2$ | $4$ |\n|:-:|:-:|:-:|:-:|\n| $8$ | $6$ | $3$ | $5$ |\n\n对于转换过程中任意一个状态，这三种基本操作都可以使用。\n\n编程计算最短的基本操作序列，完成基本状态到目标状态的转换。", "inputFormat": "只有一行，包括 $8$ 个整数 $a_1,a_2\\dots,a_8\\ (1\\leq a_1,a_2,\\dots,a_8\\leq8)$，用空格分开（中间无换行），表示目标状态。", "outputFormat": "第一行包括一个整数，表示最短操作序列的长度。\n\n第二行开始输出最短的操作序列，用字符串表示，每 $60$ 个字符换一行。如果有多种，输出字典序最小的。", "hint": "题目翻译来自 NOCOW。", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 1996 / USACO3.2] Magic Squares", "background": "After inventing the Rubik’s Cube, Mr. Rubik created its 2D version, called the magic board. Each cell on the magic board has a color. These $8$ colors are represented by the first $8$ positive integers. A board state can be represented by a sequence of colors: starting from the top-left corner of the board, take the integers in clockwise order to form a color sequence.", "description": "This is a magic board with $8$ squares of equal size:\n| $1$ | $2$ | $3$ | $4$ |\n|:-:|:-:|:-:|:-:|\n| $8$ | $7$ | $6$ | $5$ |\n\nFor the board state shown above, we use the sequence $\\{1,2,3,4,5,6,7,8\\}$ to represent it. This is the initial state.\n\nThere are three basic operations, denoted by the uppercase letters $\\text A$, $\\text B$, and $\\text C$ (you can change the board state using these operations). Below is a demonstration of applying them to the initial state:\n\n$\\text A$: Swap the top and bottom rows.\n| $8$ | $7$ | $6$ | $5$ |\n|:-:|:-:|:-:|:-:|\n| $1$ | $2$ | $3$ | $4$ |\n\n$\\text B$: Move the rightmost column to the leftmost position.\n| $4$ | $1$ | $2$ | $3$ |\n|:-:|:-:|:-:|:-:|\n| $5$ | $8$ | $7$ | $6$ |\n\n$\\text C$: Rotate the four central cells clockwise.\n| $1$ | $7$ | $2$ | $4$ |\n|:-:|:-:|:-:|:-:|\n| $8$ | $6$ | $3$ | $5$ |\n\nAt any state during the transformation, all three basic operations can be applied.\n\nWrite a program to compute the shortest sequence of basic operations that transforms the initial state into the target state.", "inputFormat": "A single line containing $8$ integers $a_1, a_2, \\dots, a_8$ with $1 \\leq a_1, a_2, \\dots, a_8 \\leq 8$, separated by spaces, representing the target state.", "outputFormat": "The first line contains an integer, the length of the shortest operation sequence.\n\nStarting from the second line, output the shortest sequence of operations as a string, wrapping every $60$ characters per line. If there are multiple solutions, output the lexicographically smallest one.", "hint": "Translation source: NOCOW.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 1996 / USACO3.2] 魔板 Magic Squares", "background": "在成功地发明了魔方之后，鲁比克先生发明了它的二维版本，称作魔板。我们知道魔板的每一个方格都有一种颜色。这 $8$ 种颜色用前 $8$ 个正整数来表示。可以用颜色的序列来表示一种魔板状态，规定从魔板的左上角开始，沿顺时针方向依次取出整数，构成一个颜色序列。", "description": "这是一张有 $8$ 个大小相同的格子的魔板：\n| $1$ | $2$ | $3$ | $4$ |\n|:-:|:-:|:-:|:-:|\n| $8$ | $7$ | $6$ | $5$ |\n\n对于上图的魔板状态，我们用序列 $\\{1,2,3,4,5,6,7,8\\}$ 来表示。这是基本状态。\n\n这里提供三种基本操作，分别用大写字母 $\\text A$、$\\text B$、$\\text C$ 来表示（可以通过这些操作改变魔板的状态）。下面是对基本状态进行操作的示范：\n\n$\\text A$：交换上下两行；\n| $8$ | $7$ | $6$ | $5$ |\n|:-:|:-:|:-:|:-:|\n| $1$ | $2$ | $3$ | $4$ |\n\n$\\text B$：将最右边的一列插入最左边；\n| $4$ | $1$ | $2$ | $3$ |\n|:-:|:-:|:-:|:-:|\n| $5$ | $8$ | $7$ | $6$ |\n\n$\\text C$：魔板中央四格作顺时针旋转。\n| $1$ | $7$ | $2$ | $4$ |\n|:-:|:-:|:-:|:-:|\n| $8$ | $6$ | $3$ | $5$ |\n\n对于转换过程中任意一个状态，这三种基本操作都可以使用。\n\n编程计算最短的基本操作序列，完成基本状态到目标状态的转换。", "inputFormat": "只有一行，包括 $8$ 个整数 $a_1,a_2\\dots,a_8\\ (1\\leq a_1,a_2,\\dots,a_8\\leq8)$，用空格分开（中间无换行），表示目标状态。", "outputFormat": "第一行包括一个整数，表示最短操作序列的长度。\n\n第二行开始输出最短的操作序列，用字符串表示，每 $60$ 个字符换一行。如果有多种，输出字典序最小的。", "hint": "题目翻译来自 NOCOW。", "locale": "zh-CN"}}}
{"pid": "P2731", "type": "P", "difficulty": 4, "samples": [["9\n1 2\n2 3\n3 4\n4 2\n4 5\n2 5\n5 6\n5 7\n4 6", "1\n2\n3\n4\n2\n5\n4\n6\n5\n7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "图论", "USACO", "欧拉回路"], "title": "[USACO3.3] 骑马修栅栏 Riding the Fences", "background": "Farmer John 每年有很多栅栏要修理。他总是骑着马穿过每一个栅栏并修复它破损的地方。", "description": "John 是一个与其他农民一样懒的人。他讨厌骑马，因此从来不两次经过一个栅栏。\n\nJohn 的农场上一共有 $m$ 个栅栏，每一个栅栏连接两个顶点，顶点用 $1$ 到 $500$ 标号（虽然有的农场并没有那么多个顶点）。一个顶点上至少连接 $1$ 个栅栏，没有上限。两顶点间可能有多个栅栏。所有栅栏都是连通的（也就是你可以从任意一个栅栏到达另外的所有栅栏）。John 能从任何一个顶点（即两个栅栏的交点）开始骑马，在任意一个顶点结束。\n\n你需要求出输出骑马的路径（用路上依次经过的顶点号码表示)，使每个栅栏都恰好被经过一次。如果存在多组可行的解，按照如下方式进行输出：如果把输出的路径看成是一个 $500$ 进制的数，那么当存在多组解的情况下，输出 $500$ 进制表示法中最小的一个 （也就是输出第一位较小的，如果还有多组解，输出第二位较小的，以此类推）。\n\n输入数据保证至少有一个解。", "inputFormat": "第一行一个整数 $m$，表示栅栏的数目。\n\n从第二行到第 $(m+1)$ 行，每行两个整数 $u,v$，表示有一条栅栏连接 $u,v$ 两个点。", "outputFormat": "共 $(m+1)$ 行，每行一个整数，依次表示路径经过的顶点号。注意数据可能有多组解，但是只有上面题目要求的那一组解是认为正确的。\n\n数据保证至少有一组可行解。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq 1024,1 \\leq u,v \\leq 500$。\n\n题目翻译来自NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.3] Riding the Fences", "background": "Farmer John has many fences to repair every year. He always rides his horse along each fence and fixes the broken spots.", "description": "John is as lazy as any other farmer. He hates riding, so he never goes along the same fence twice.\n\nThere are $m$ fences on John’s farm. Each fence connects two vertices, and vertices are labeled from $1$ to $500$ (though a given farm may have fewer vertices). At each vertex at least $1$ fence meets, with no upper bound. There may be multiple fences between the same pair of vertices. The fence graph is connected (i.e., you can reach any fence from any other fence). John may start riding at any vertex (i.e., an intersection point of fences) and finish at any vertex.\n\nYou need to output a riding route (represented by the sequence of vertex labels encountered along the way) such that each fence is traversed exactly once. If multiple valid routes exist, apply the following rule: if you view the output path as a base-$500$ number, then among all possible routes, output the smallest one in base-$500$ representation (that is, minimize the first entry; if still tied, minimize the second entry; and so on).\n\nThe input guarantees that there is at least one solution.", "inputFormat": "The first line contains an integer $m$, the number of fences.\n\nFrom the second line to the $(m+1)$-th line, each line contains two integers $u, v$, indicating there is a fence connecting vertices $u$ and $v$.", "outputFormat": "Output $(m+1)$ lines. Each line contains one integer, the vertex label of the route in order. Note that there may be multiple solutions, but only the one specified above is considered correct.\n\nThe input guarantees that there is at least one valid solution.", "hint": "For $100\\%$ of the testdata, $1 \\leq m \\leq 1024, 1 \\leq u, v \\leq 500$.\n\nProblem translation from NOCOW.\n\nUSACO Training Section 3.3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.3] 骑马修栅栏 Riding the Fences", "background": "Farmer John 每年有很多栅栏要修理。他总是骑着马穿过每一个栅栏并修复它破损的地方。", "description": "John 是一个与其他农民一样懒的人。他讨厌骑马，因此从来不两次经过一个栅栏。\n\nJohn 的农场上一共有 $m$ 个栅栏，每一个栅栏连接两个顶点，顶点用 $1$ 到 $500$ 标号（虽然有的农场并没有那么多个顶点）。一个顶点上至少连接 $1$ 个栅栏，没有上限。两顶点间可能有多个栅栏。所有栅栏都是连通的（也就是你可以从任意一个栅栏到达另外的所有栅栏）。John 能从任何一个顶点（即两个栅栏的交点）开始骑马，在任意一个顶点结束。\n\n你需要求出输出骑马的路径（用路上依次经过的顶点号码表示)，使每个栅栏都恰好被经过一次。如果存在多组可行的解，按照如下方式进行输出：如果把输出的路径看成是一个 $500$ 进制的数，那么当存在多组解的情况下，输出 $500$ 进制表示法中最小的一个 （也就是输出第一位较小的，如果还有多组解，输出第二位较小的，以此类推）。\n\n输入数据保证至少有一个解。", "inputFormat": "第一行一个整数 $m$，表示栅栏的数目。\n\n从第二行到第 $(m+1)$ 行，每行两个整数 $u,v$，表示有一条栅栏连接 $u,v$ 两个点。", "outputFormat": "共 $(m+1)$ 行，每行一个整数，依次表示路径经过的顶点号。注意数据可能有多组解，但是只有上面题目要求的那一组解是认为正确的。\n\n数据保证至少有一组可行解。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq 1024,1 \\leq u,v \\leq 500$。\n\n题目翻译来自NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN"}}}
{"pid": "P2732", "type": "P", "difficulty": 5, "samples": [["2\n1 7 3 5\n2 7 1 8 2 10\n2\n7 3 2\n8 2 5", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "USACO", "背包 DP"], "title": "[USACO3.3] 商店购物 Shopping Offers", "background": "在商店中，每一种商品都有一个价格（用整数表示）。例如,一朵花的价格是 $2$ ，而一个花瓶的价格是 $5$ 。为了吸引更多的顾客，商店举行了促销活动。", "description": "促销活动把一个或多个商品组合起来降价销售，例如：\n\n三朵花的价格是 $5$ 而不是 $6$ ，$2$ 个花瓶和一朵花的价格是 $10$ 而不是 $12$ 。 请编写一个程序，计算顾客购买一定商品的花费，尽量地利用优惠使花费最少。尽管有时候添加其他商品可以获得更少的花费，但是你不能这么做。\n\n对于上面的商品信息，购买三朵花和两个花瓶的最少花费的方案是：以优惠价购买两个花瓶和一朵花（$10$），以原价购买两朵花（$4$）。", "inputFormat": "输入文件包括一些商店提供的优惠信息，接着是购物清单。（最多有 $5$ 种商品）\n\n第一行 优惠方案的种类数（$0\\leq s\\leq99$）。\n\n第 $2$ 行 $\\sim$ 第 $s+1$ 行  每一行都用几个整数来表示一种优惠方式。第一个整数 $n$ （$1\\leq n\\leq5$），表示这种优惠方式由 $n$ 种商品组成。后面 $n$ 对整数 $c$ 和 $k$ 表示 $k$ （$1\\leq k\\leq5$）个编号为 $c$ （$1\\leq c\\leq999$）的商品共同构成这种优惠，最后的整数 $p$ 表示这种优惠的优惠价（$1\\leq p\\leq9,999$）。优惠价总是比原价低。\n\n第 $s+2$ 行 这一行有一个整数 $b$ （$0\\leq b\\leq5$），表示需要购买 $b$ 种不同的商品。\n\n第 $s+3$ 行 $\\sim$ 第 $s+b+2$ 行 这 $b$ 行中的每一行包括三个整数：$c,k,p$ 。 $c$ 表示唯一的商品编号（$1\\leq c\\leq999$），$k$ 表示需要购买的 $c$ 商品的数量（$1\\leq k\\leq5$）。$p$ 表示 $c$ 商品的原价（$1\\leq p\\leq999$）。最多购买 $5\\times5=25$ 个商品。", "outputFormat": "只有一行，输出一个整数：购买这些物品的最低价格。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.3] Shopping Offers", "background": "In a store, each type of product has a price (an integer). For example, a flower costs $2$, and a vase costs $5$. To attract more customers, the store runs promotions.", "description": "Promotions bundle one or more products and sell them at a discount. For example:\n\nThree flowers cost $5$ instead of $6$, and $2$ vases plus $1$ flower cost $10$ instead of $12$. Write a program to compute the cost for a customer to buy certain products, using the offers to minimize the total cost. Even if adding extra products could lower the total cost, you are not allowed to do that.\n\nFor the products above, the minimum cost to buy three flowers and two vases is: buy the offer of two vases and one flower for $10$, and buy two flowers at the regular price for $4$.", "inputFormat": "The input file contains some offers provided by the store, followed by a shopping list (at most $5$ types of products).\n\nLine $1$: The number of offer types $s$ ($0 \\leq s \\leq 99$).\n\nLines $2$ to $s+1$: Each line describes one offer using several integers. The first integer $n$ ($1 \\leq n \\leq 5$) is the number of different products in this offer. Then there are $n$ pairs of integers $c$ and $k$, meaning $k$ ($1 \\leq k \\leq 5$) units of the product with code $c$ ($1 \\leq c \\leq 999$) are included in this offer. The last integer $p$ is the offer price ($1 \\leq p \\leq 9{,}999$). The offer price is always lower than the regular price.\n\nLine $s+2$: An integer $b$ ($0 \\leq b \\leq 5$), the number of different products to buy.\n\nLines $s+3$ to $s+b+2$: Each of these $b$ lines contains three integers $c, k, p$. Here $c$ is the unique product code ($1 \\leq c \\leq 999$), $k$ is the required quantity of product $c$ ($1 \\leq k \\leq 5$), and $p$ is the regular price of product $c$ ($1 \\leq p \\leq 999$). In total, at most $5 \\times 5 = 25$ items are to be purchased.", "outputFormat": "Output a single line with one integer: the minimum total price to purchase these items.", "hint": "Translation from NOCOW.\n\nUSACO Training Section 3.3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.3] 商店购物 Shopping Offers", "background": "在商店中，每一种商品都有一个价格（用整数表示）。例如,一朵花的价格是 $2$ ，而一个花瓶的价格是 $5$ 。为了吸引更多的顾客，商店举行了促销活动。", "description": "促销活动把一个或多个商品组合起来降价销售，例如：\n\n三朵花的价格是 $5$ 而不是 $6$ ，$2$ 个花瓶和一朵花的价格是 $10$ 而不是 $12$ 。 请编写一个程序，计算顾客购买一定商品的花费，尽量地利用优惠使花费最少。尽管有时候添加其他商品可以获得更少的花费，但是你不能这么做。\n\n对于上面的商品信息，购买三朵花和两个花瓶的最少花费的方案是：以优惠价购买两个花瓶和一朵花（$10$），以原价购买两朵花（$4$）。", "inputFormat": "输入文件包括一些商店提供的优惠信息，接着是购物清单。（最多有 $5$ 种商品）\n\n第一行 优惠方案的种类数（$0\\leq s\\leq99$）。\n\n第 $2$ 行 $\\sim$ 第 $s+1$ 行  每一行都用几个整数来表示一种优惠方式。第一个整数 $n$ （$1\\leq n\\leq5$），表示这种优惠方式由 $n$ 种商品组成。后面 $n$ 对整数 $c$ 和 $k$ 表示 $k$ （$1\\leq k\\leq5$）个编号为 $c$ （$1\\leq c\\leq999$）的商品共同构成这种优惠，最后的整数 $p$ 表示这种优惠的优惠价（$1\\leq p\\leq9,999$）。优惠价总是比原价低。\n\n第 $s+2$ 行 这一行有一个整数 $b$ （$0\\leq b\\leq5$），表示需要购买 $b$ 种不同的商品。\n\n第 $s+3$ 行 $\\sim$ 第 $s+b+2$ 行 这 $b$ 行中的每一行包括三个整数：$c,k,p$ 。 $c$ 表示唯一的商品编号（$1\\leq c\\leq999$），$k$ 表示需要购买的 $c$ 商品的数量（$1\\leq k\\leq5$）。$p$ 表示 $c$ 商品的原价（$1\\leq p\\leq999$）。最多购买 $5\\times5=25$ 个商品。", "outputFormat": "只有一行，输出一个整数：购买这些物品的最低价格。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN"}}}
{"pid": "P2733", "type": "P", "difficulty": 3, "samples": [["6\n101111\n001111\n111111\n001111\n101101\n111001", "2 10\n3 4\n4 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "USACO", "前缀和"], "title": "[USACO3.3] 家的范围 Home on the Range", "background": "FJ 在一片边长是 $N (2 \\le N \\le 250)$ 英里的正方形牧场上放牧他的奶牛（出于某些原因，他的奶牛只在正方形的牧场上吃草）。遗憾的是，他的奶牛已经毁坏一些土地（这些土地都是由 $1$ 平方英里构成的）。", "description": "FJ 需要统计有多少个正方形牧场可以放牧（至少是 $2\\times2$ 的正方形，且此图形中没有一个点是被破坏的，换句话说，所有的点都是 “1”）。\n\n你的任务是在给出的数据中统计有多少个大于等于 $2\\times2$ 的正方形牧场可以放牧。当然，放牧区域可以重叠。", "inputFormat": "第 $1$ 行：$N$，牧区的边长。\n\n第 $2$ 到 $N+1$ 行：$N$ 个没有空格分开的字符。$0$ 表示那一个区段被毁坏了；$1$ 表示完好无损的土地。", "outputFormat": "输出那些存在的正方形的边长和个数，一种一行。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN", "translations": {"en": {"title": "{{[USACO3.3] Home on the Range}}", "background": "{{FJ grazes his cows on a square pasture with side length $N (2 \\le N \\le 250)$ miles (for some reason, his cows graze only on square pastures). Unfortunately, his cows have damaged some land (these patches are each $1$ square mile).}}", "description": "{{FJ needs to count how many square pastures can be grazed (at least $2\\times2$ in size, and no cell in this shape is damaged; in other words, all cells are \"1\"). Your task is to count, in the given data, how many grazeable square pastures of size at least $2\\times2$ there are. Of course, grazing regions may overlap.}}", "inputFormat": "{{Line 1: $N$, the side length of the pasture.\nLines 2 to $N+1$: $N$ characters with no spaces. $0$ indicates that cell is damaged; $1$ indicates intact land.}}", "outputFormat": "{{Output the side length and the count of such squares that exist, one size per line, in increasing order of side length.}}", "hint": "{{Translation from NOCOW.\nUSACO Training Section 3.3.}}\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.3] 家的范围 Home on the Range", "background": "FJ 在一片边长是 $N (2 \\le N \\le 250)$ 英里的正方形牧场上放牧他的奶牛（出于某些原因，他的奶牛只在正方形的牧场上吃草）。遗憾的是，他的奶牛已经毁坏一些土地（这些土地都是由 $1$ 平方英里构成的）。", "description": "FJ 需要统计有多少个正方形牧场可以放牧（至少是 $2\\times2$ 的正方形，且此图形中没有一个点是被破坏的，换句话说，所有的点都是 “1”）。\n\n你的任务是在给出的数据中统计有多少个大于等于 $2\\times2$ 的正方形牧场可以放牧。当然，放牧区域可以重叠。", "inputFormat": "第 $1$ 行：$N$，牧区的边长。\n\n第 $2$ 到 $N+1$ 行：$N$ 个没有空格分开的字符。$0$ 表示那一个区段被毁坏了；$1$ 表示完好无损的土地。", "outputFormat": "输出那些存在的正方形的边长和个数，一种一行。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN"}}}
{"pid": "P2734", "type": "P", "difficulty": 3, "samples": [["6 \n4 7 2 9 5 2", "18 11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "博弈论", "USACO", "IOI", "1996"], "title": "[IOI 1996 / USACO3.3] 游戏 A Game", "background": "有如下一个双人游戏：$N\\ (2 \\leq N \\leq 100)$ 个正整数的序列放在一个游戏平台上，由先手开始，先手和后手轮流从序列的任意一端取一个数，取数后从序列中去掉，并累加到取者的得分中，当数取尽时，游戏结束。以最终得分高者为胜。", "description": "编一个执行最优策略的程序计算最终得分。最优策略就是使玩家在与最好的对手对弈时，能得到的在当前情况下最大的可能的总分的策略。你的程序要始终为两位玩家执行最优策略。", "inputFormat": "第一行：正整数 $N$，表示序列中正整数的个数。\n\n第二行至末尾：用空格分隔的 $N$ 个正整数（大小为 $1\\sim 200$）。", "outputFormat": "只有一行，用空格分隔的两个整数：依次为先手和后手最终的得分。", "hint": "题目翻译来自 NOCOW。", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 1996 / USACO3.3] A Game", "background": "There is a two-player game as follows: a sequence of $N\\ (2 \\leq N \\leq 100)$ positive integers is placed on a game platform. Starting with the first player, the two players take turns picking one number from either end of the sequence. After picking, the number is removed from the sequence and added to the picker’s score. When all numbers have been taken, the game ends. The player with the higher final score wins.", "description": "Write a program that plays optimally to compute the final scores. An optimal strategy is one that, when facing the best possible opponent, gives the player the maximum total score possible in the current situation. Your program should always apply the optimal strategy for both players.", "inputFormat": "The first line: a positive integer $N$, indicating the number of positive integers in the sequence.\n\nFrom the second line to the end: $N$ space-separated positive integers (each in $1 \\sim 200$).", "outputFormat": "A single line with two integers separated by a space: the final scores of the first player and the second player, in that order.", "hint": "Problem translation sourced from NOCOW.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 1996 / USACO3.3] 游戏 A Game", "background": "有如下一个双人游戏：$N\\ (2 \\leq N \\leq 100)$ 个正整数的序列放在一个游戏平台上，由先手开始，先手和后手轮流从序列的任意一端取一个数，取数后从序列中去掉，并累加到取者的得分中，当数取尽时，游戏结束。以最终得分高者为胜。", "description": "编一个执行最优策略的程序计算最终得分。最优策略就是使玩家在与最好的对手对弈时，能得到的在当前情况下最大的可能的总分的策略。你的程序要始终为两位玩家执行最优策略。", "inputFormat": "第一行：正整数 $N$，表示序列中正整数的个数。\n\n第二行至末尾：用空格分隔的 $N$ 个正整数（大小为 $1\\sim 200$）。", "outputFormat": "只有一行，用空格分隔的两个整数：依次为先手和后手最终的得分。", "hint": "题目翻译来自 NOCOW。", "locale": "zh-CN"}}}
{"pid": "P2735", "type": "P", "difficulty": 3, "samples": [["7 5 10", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何", "USACO"], "title": "[USACO3.4] 网 Electric Fences", "background": null, "description": "在本题中，格点是指横纵坐标皆为整数的点。\n\n为了圈养他的牛，Farmer John 建造了一个三角形的电网。他从原点 $(0,0)$ 牵出一根通电的电线，连接格点 $(n,m)$（$0\\le n<32000,0<m<32000$），再连接格点 $(p,0)$（$p>0$），最后回到原点。\n\n牛可以在不碰到电网的情况下被放到电网内部的每一个格点上（十分瘦的牛）。如果一个格点碰到了电网，牛绝对不可以被放到该格点之上（或许 Farmer John 会有一些收获）。那么有多少头牛可以被放到农夫约翰的电网中去呢？", "inputFormat": "输入文件只有一行，包含三个用空格隔开的整数：$n,m,p$。", "outputFormat": "输出文件只有一行，包含一个整数，代表能被指定的电网包含的牛的数目。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.4。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.4] Electric Fences", "background": "", "description": "In this problem, a lattice point is a point whose $x$ and $y$ coordinates are both integers.\n\nTo pen his cows, Farmer John builds a triangular electric fence. He runs a live wire from the origin $(0,0)$ to the lattice point $(n,m)$ ($0 \\le n < 32000, 0 < m < 32000$), then to the lattice point $(p,0)$ ($p > 0$), and finally back to the origin.\n\nCows can be placed at every lattice point strictly inside the fence without touching the fence (very skinny cows). If a lattice point touches the fence, a cow absolutely cannot be placed there (perhaps Farmer John would get a little shock). How many cows can be placed inside Farmer John’s electric fence?", "inputFormat": "The input contains a single line with three integers separated by spaces: $n, m, p$.", "outputFormat": "Output a single line containing one integer, the number of cows that can be enclosed by the specified electric fence.", "hint": "Problem translation is from NOCOW. USACO Training Section 3.4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.4] 网 Electric Fences", "background": null, "description": "在本题中，格点是指横纵坐标皆为整数的点。\n\n为了圈养他的牛，Farmer John 建造了一个三角形的电网。他从原点 $(0,0)$ 牵出一根通电的电线，连接格点 $(n,m)$（$0\\le n<32000,0<m<32000$），再连接格点 $(p,0)$（$p>0$），最后回到原点。\n\n牛可以在不碰到电网的情况下被放到电网内部的每一个格点上（十分瘦的牛）。如果一个格点碰到了电网，牛绝对不可以被放到该格点之上（或许 Farmer John 会有一些收获）。那么有多少头牛可以被放到农夫约翰的电网中去呢？", "inputFormat": "输入文件只有一行，包含三个用空格隔开的整数：$n,m,p$。", "outputFormat": "输出文件只有一行，包含一个整数，代表能被指定的电网包含的牛的数目。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.4。", "locale": "zh-CN"}}}
{"pid": "P2736", "type": "P", "difficulty": 4, "samples": [["4 5 2\n4 3 4 2", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "USACO"], "title": "[USACO3.4] “破锣摇滚”乐队 Raucous Rockers", "background": null, "description": "你刚刚继承了流行的 “破锣摇滚” 乐队录制的尚未发表的 $N$（$1\\le N\\le20$）首歌的版权。你打算从中精选一些歌曲，发行 $M$（$1\\le M\\le20$）张 CD。每一张 CD 最多可以容纳 $T$（$1 \\le T\\le20$）分钟的音乐，一首歌不能分装在两张 CD 中。CD 数量可以用完，也可以不用完。\n\n不巧你是一位古典音乐迷，不懂如何判定这些歌的艺术价值。于是你决定根据以下标准进行选择：\n\n- 歌曲必须按照创作的时间顺序在所有的 CD 盘上出现，即第 $i$ 张盘的最后一首的创作时间要早于第 $i+1$ 张盘的第一首。\n\n- 选中的歌曲数目尽可能地多。", "inputFormat": "第一行：三个整数 $N,T,M$。\n\n第二行：$N$ 个整数，分别表示每首歌的长度，按创作时间顺序排列。", "outputFormat": "一个整数，表示可以装进 $M$ 张 CD 盘的乐曲的最大数目。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 3.4", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.4] \"Raucous Rockers\"", "background": "", "description": "You have just inherited the rights to $N$ ($1\\le N\\le20$) unreleased songs recorded by the popular \"Raucous Rockers\" band. You plan to select some of them to release on $M$ ($1\\le M\\le20$) CDs. Each CD can hold at most $T$ ($1 \\le T\\le20$) minutes of music, and a song cannot be split across two CDs. You may use fewer than $M$ CDs.\n\nUnfortunately, you are a classical music fan and do not know how to judge their artistic value. So you decide to choose according to the following rules:\n\n- The songs must appear on all CDs in the order they were composed, that is, the last song on disc $i$ must have been composed earlier than the first song on disc $i+1$.\n- The number of selected songs should be as large as possible.", "inputFormat": "The first line: three integers $N, T, M$.\n\nThe second line: $N$ integers, the length of each song, in order of composition.", "outputFormat": "A single integer, the maximum number of songs that can fit on $M$ CDs.", "hint": "Translation comes from NOCOW.\n\nUSACO Training Section 3.4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.4] “破锣摇滚”乐队 Raucous Rockers", "background": null, "description": "你刚刚继承了流行的 “破锣摇滚” 乐队录制的尚未发表的 $N$（$1\\le N\\le20$）首歌的版权。你打算从中精选一些歌曲，发行 $M$（$1\\le M\\le20$）张 CD。每一张 CD 最多可以容纳 $T$（$1 \\le T\\le20$）分钟的音乐，一首歌不能分装在两张 CD 中。CD 数量可以用完，也可以不用完。\n\n不巧你是一位古典音乐迷，不懂如何判定这些歌的艺术价值。于是你决定根据以下标准进行选择：\n\n- 歌曲必须按照创作的时间顺序在所有的 CD 盘上出现，即第 $i$ 张盘的最后一首的创作时间要早于第 $i+1$ 张盘的第一首。\n\n- 选中的歌曲数目尽可能地多。", "inputFormat": "第一行：三个整数 $N,T,M$。\n\n第二行：$N$ 个整数，分别表示每首歌的长度，按创作时间顺序排列。", "outputFormat": "一个整数，表示可以装进 $M$ 张 CD 盘的乐曲的最大数目。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 3.4", "locale": "zh-CN"}}}
{"pid": "P2737", "type": "P", "difficulty": 4, "samples": [["3\r\n3\r\n6\r\n10", "17"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "USACO"], "title": "[USACO4.1] 麦香牛块 Beef McNuggets", "background": null, "description": "农夫布朗的奶牛们正在进行斗争，因为它们听说麦当劳正在考虑引进一种新产品：麦香牛块。奶牛们正在想尽一切办法让这种可怕的设想泡汤。奶牛们进行斗争的策略之一是“劣质的包装”。“看，”奶牛们说，“如果你只用一次能装 $3$ 块、$6$ 块或者 $10$ 块的三种包装盒包装麦香牛块，你就不可能满足一次只想买 $1$、$2$、$4$、$5$、$7$、$8$、$11$、$14$ 或者 $17$ 块麦香牛块的顾客了。劣质的包装意味着劣质的产品。”\n\n你的任务是帮助这些奶牛。给出包装盒的种类数 $N\\ (1 \\le N \\le 10)$ 和 $N$ 个代表不同种类包装盒容纳麦香牛块个数的正整数 $b_i\\ (1 \\le b_i \\le 256)$，输出顾客不能用上述包装盒（每种盒子数量无限）买到麦香牛块的最大块数。如果所有购买方案都能得到满足或者不存在不能买到块数的上限，则输出 $0$。不能买到的最大块数（如果它存在）不超过 $2\\times 10^9$。", "inputFormat": "第 $1$ 行：包装盒的种类数 $N$。\n\n第 $2$ 行到 $N+1$ 行：每个种类包装盒容纳麦香牛块的个数。", "outputFormat": "输出文件只有一行数字：顾客不能用包装盒买到麦香牛块的最大块数或 $0$（如果所有购买方案都能得到满足或者顾客不能买到的块数没有上限）。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.1", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.1] Beef McNuggets", "background": "", "description": "Farmer Brown’s cows are campaigning because they heard McDonald’s is considering a new product: Beef McNuggets. The cows are trying everything to sink this terrible idea. One of their strategies is “poor packaging.” “Look,” say the cows, “if you package McNuggets using only three box sizes that hold $3$, $6$, or $10$ pieces, then you cannot satisfy customers who want to buy exactly $1$, $2$, $4$, $5$, $7$, $8$, $11$, $14$, or $17$ pieces. Poor packaging means a poor product.”\n\nYour task is to help the cows. Given the number of box types $N\\ (1 \\le N \\le 10)$ and $N$ positive integers $b_i\\ (1 \\le b_i \\le 256)$ representing how many McNuggets each type of box can hold, output the largest number of McNuggets that cannot be bought using these boxes (each box type is available in unlimited quantity). If every purchase request can be satisfied, or if there is no upper bound on the numbers that cannot be bought, output $0$. The largest number that cannot be bought (if it exists) does not exceed $2 \\times 10^9$.", "inputFormat": "Line 1: The number of box types $N$.\n\nLines $2$ to $N+1$: For each type, the number of McNuggets a box of that type can hold.", "outputFormat": "Output a single integer: the largest number of McNuggets that cannot be bought using the given boxes, or $0$ (if every request can be satisfied or if the set of numbers that cannot be bought is unbounded).", "hint": "Problem translation from NOCOW.\n\nUSACO Training Section 4.1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.1] 麦香牛块 Beef McNuggets", "background": null, "description": "农夫布朗的奶牛们正在进行斗争，因为它们听说麦当劳正在考虑引进一种新产品：麦香牛块。奶牛们正在想尽一切办法让这种可怕的设想泡汤。奶牛们进行斗争的策略之一是“劣质的包装”。“看，”奶牛们说，“如果你只用一次能装 $3$ 块、$6$ 块或者 $10$ 块的三种包装盒包装麦香牛块，你就不可能满足一次只想买 $1$、$2$、$4$、$5$、$7$、$8$、$11$、$14$ 或者 $17$ 块麦香牛块的顾客了。劣质的包装意味着劣质的产品。”\n\n你的任务是帮助这些奶牛。给出包装盒的种类数 $N\\ (1 \\le N \\le 10)$ 和 $N$ 个代表不同种类包装盒容纳麦香牛块个数的正整数 $b_i\\ (1 \\le b_i \\le 256)$，输出顾客不能用上述包装盒（每种盒子数量无限）买到麦香牛块的最大块数。如果所有购买方案都能得到满足或者不存在不能买到块数的上限，则输出 $0$。不能买到的最大块数（如果它存在）不超过 $2\\times 10^9$。", "inputFormat": "第 $1$ 行：包装盒的种类数 $N$。\n\n第 $2$ 行到 $N+1$ 行：每个种类包装盒容纳麦香牛块的个数。", "outputFormat": "输出文件只有一行数字：顾客不能用包装盒买到麦香牛块的最大块数或 $0$（如果所有购买方案都能得到满足或者顾客不能买到的块数没有上限）。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.1", "locale": "zh-CN"}}}
{"pid": "P2738", "type": "P", "difficulty": 5, "samples": [["10\n1 16 2 2\n2 7\n10 6\n2 3 2 2\n1 7\n8 3\n3 3 2 1\n8 2\n4\n4 8 1 3\n3\n9 10 5\n5 8 3 1\n9 10 4\n6\n6 6 1 2 \n5 \n1 10\n7 5 2 2 \n1 2\n8 9\n8 4 2 2\n2 3\n7 9\n9 5 2 3\n7 8\n4 5 10\n10 10 2 3\n1 6\n4 9 5", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "USACO", "优先队列", "队列"], "title": "[USACO4.1] 篱笆回路 Fence Loops", "background": null, "description": "农夫布朗的牧场上的篱笆已经失去控制了。它们分成了 $1\\sim 200$ 英尺长的线段。只有在线段的端点处才能连接两个线段，有时给定的一个端点上会有两个以上的篱笆。结果篱笆形成了一张网分割了布朗的牧场。布朗想将牧场恢复原样，出于这个考虑，他首先得知道牧场上哪一块区域的周长最小。布朗将他的每段篱笆从 $1$ 到 $N$ 进行了标号（$N=$ 线段的总数）。他知道每段篱笆有如下属性：\n\n- 该段篱笆的长度；\n- 该段篱笆的一端所连接的另一段篱笆的标号；\n- 该段篱笆的另一端所连接的另一段篱笆的标号。\n\n幸运的是，没有篱笆连接它自身。对于一组有关篱笆如何分割牧场的数据，写一个程序来计算出所有分割出的区域中最小的周长。\n\n例如，标号 $1\\sim 10$ 的篱笆由下图的形式组成（下面的数字是篱笆的标号）：\n\n\n```plain\n           1\n   +---------------+\n   |\\             /|\n  2| \\7          / |\n   |  \\         /  |\n   +---+       /   |6\n   | 8  \\     /10  |\n  3|     \\9  /     |\n   |      \\ /      |\n   +-------+-------+\n       4       5\n```    \n上图中周长最小的区域是由 $2,7,8$ 号篱笆形成的。", "inputFormat": "第一行一个整数 $N$（$1 \\leq N \\leq 100$）；\n\n第 $2$ 行到第 $3\\times N+1$ 行：每三行为一组，共 $N$ 组信息：\n\n每组信息的第 $1$ 行有 $4$ 个整数：$s$，这段篱笆的标号（$1\\le s\\le N$）；$L_s$，这段篱笆的长度（$1\\le L_s\\le255$）；$N1_s$（$1\\le N1_s\\le 8$）与本段篱笆的一端所相邻的篱笆的数量；$N2_s$（$1\\le N2_s\\le 8$）与本段篱笆的另一端所相邻的篱笆的数量。\n\n每组信息的的第 $2$ 行有 $N1_s$ 个整数，分别描述与本段篱笆的一端所相邻的篱笆的标号。\n\n每组信息的的第 $3$ 行有 $N2_s$ 个整数，分别描述与本段篱笆的另一端所相邻的篱笆的标号。", "outputFormat": "输出的内容为单独的一行，用一个整数来表示最小的周长。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 4.1。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.1] Fence Loops", "background": "", "description": "The fences on Farmer Brown's pasture have gotten out of control. They have been divided into segments that are $1\\sim 200$ feet long. Two segments can be connected only at their endpoints, and sometimes more than two fences meet at a given endpoint. As a result, the fences form a network that partitions Brown's pasture. Brown wants to restore the pasture to its original state; to do so, he first needs to know which region has the smallest perimeter. Brown labeled each fence segment from $1$ to $N$ ($N=$ the total number of segments). For each segment, he knows:\n\n- The length of the segment;\n- The labels of the segments connected to one endpoint of this segment;\n- The labels of the segments connected to the other endpoint of this segment.\n\nFortunately, no fence connects to itself. Given data describing how the fences partition the pasture, write a program to compute the smallest perimeter among all regions.\n\nFor example, fences labeled $1\\sim 10$ form the configuration shown below (numbers indicate fence labels):\n\n```plain\n           1\n   +---------------+\n   |\\             /|\n  2| \\7          / |\n   |  \\         /  |\n   +---+       /   |6\n   | 8  \\     /10  |\n  3|     \\9  /     |\n   |      \\ /      |\n   +-------+-------+\n       4       5\n```\nIn the figure above, the region with the smallest perimeter is formed by fences $2, 7, 8$.", "inputFormat": "The first line contains an integer $N$ ($1 \\leq N \\leq 100$).\n\nLines $2$ through $3\\times N+1$ describe $N$ groups, three lines per group:\n\n- The first line of each group has $4$ integers: $s$, the label of this fence segment ($1\\le s\\le N$); $L_s$, the length of this segment ($1\\le L_s\\le255$); $N1_s$, the number of neighboring fences at one endpoint ($1\\le N1_s\\le 8$); and $N2_s$, the number of neighboring fences at the other endpoint ($1\\le N2_s\\le 8$).\n- The second line of each group has $N1_s$ integers: the labels of the fences adjacent at one endpoint.\n- The third line of each group has $N2_s$ integers: the labels of the fences adjacent at the other endpoint.", "outputFormat": "Output a single line containing one integer, the minimum perimeter.", "hint": "This statement is translated from NOCOW.\n\nUSACO Training Section 4.1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.1] 篱笆回路 Fence Loops", "background": null, "description": "农夫布朗的牧场上的篱笆已经失去控制了。它们分成了 $1\\sim 200$ 英尺长的线段。只有在线段的端点处才能连接两个线段，有时给定的一个端点上会有两个以上的篱笆。结果篱笆形成了一张网分割了布朗的牧场。布朗想将牧场恢复原样，出于这个考虑，他首先得知道牧场上哪一块区域的周长最小。布朗将他的每段篱笆从 $1$ 到 $N$ 进行了标号（$N=$ 线段的总数）。他知道每段篱笆有如下属性：\n\n- 该段篱笆的长度；\n- 该段篱笆的一端所连接的另一段篱笆的标号；\n- 该段篱笆的另一端所连接的另一段篱笆的标号。\n\n幸运的是，没有篱笆连接它自身。对于一组有关篱笆如何分割牧场的数据，写一个程序来计算出所有分割出的区域中最小的周长。\n\n例如，标号 $1\\sim 10$ 的篱笆由下图的形式组成（下面的数字是篱笆的标号）：\n\n\n```plain\n           1\n   +---------------+\n   |\\             /|\n  2| \\7          / |\n   |  \\         /  |\n   +---+       /   |6\n   | 8  \\     /10  |\n  3|     \\9  /     |\n   |      \\ /      |\n   +-------+-------+\n       4       5\n```    \n上图中周长最小的区域是由 $2,7,8$ 号篱笆形成的。", "inputFormat": "第一行一个整数 $N$（$1 \\leq N \\leq 100$）；\n\n第 $2$ 行到第 $3\\times N+1$ 行：每三行为一组，共 $N$ 组信息：\n\n每组信息的第 $1$ 行有 $4$ 个整数：$s$，这段篱笆的标号（$1\\le s\\le N$）；$L_s$，这段篱笆的长度（$1\\le L_s\\le255$）；$N1_s$（$1\\le N1_s\\le 8$）与本段篱笆的一端所相邻的篱笆的数量；$N2_s$（$1\\le N2_s\\le 8$）与本段篱笆的另一端所相邻的篱笆的数量。\n\n每组信息的的第 $2$ 行有 $N1_s$ 个整数，分别描述与本段篱笆的一端所相邻的篱笆的标号。\n\n每组信息的的第 $3$ 行有 $N2_s$ 个整数，分别描述与本段篱笆的另一端所相邻的篱笆的标号。", "outputFormat": "输出的内容为单独的一行，用一个整数来表示最小的周长。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 4.1。", "locale": "zh-CN"}}}
{"pid": "P2739", "type": "P", "difficulty": 4, "samples": [["3", "3 5 6 4 2 1 3 5 7 6 4 2 3 5 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "USACO", "剪枝"], "title": "[USACO4.4] 棋盘游戏 Shuttle Puzzle", "background": null, "description": "大小为 $3$ 的棋盘游戏里有 $3$ 个白色棋子，$3$ 个黑色棋子，和一个有 $7$ 个格子一线排开的木盒子。$3$ 个白棋子被放在一头，$3$ 个黑棋子被放在另一头，中间的格子空着。\n- 初始状态：`WWW_BBB`（`_` 代表空格）\n- 目标状态：`BBB_WWW`\n\n在这个游戏里有两种移动方法是允许的：\n- 你可以把一个棋子移到与它相邻的空格；\n- 你可以把一个棋子跳过一个(仅一个)与它不同色的棋子到达空格。\n\n大小为 $N$ 的棋盘游戏包括 $N$ 个白棋子，$N$ 个黑棋子，还有有 $2N+1$ 个格子的木盒子。\n\n这里是大小为 $3$ 的棋盘游戏的解，包括初始状态，中间状态和目标状态：\n\n`WWW_BBB` $\\rightarrow$ `WW_WBBB` $\\rightarrow$ `WWBW_BB` $\\rightarrow$ `WWBWB_B` $\\rightarrow$ `WWB_BWB` $\\rightarrow$ `W_BWBWB` $\\rightarrow$ `_WBWBWB` $\\rightarrow$ `BW_WBWB` $\\rightarrow$ `BWBW_WB` $\\rightarrow$ `BWBWBW_` $\\rightarrow$ `BWBWB_W` $\\rightarrow$ `BWB_BWW` $\\rightarrow$ `B_BWBWW` $\\rightarrow$ `BB_WBWW` $\\rightarrow$ `BBBW_WW` $\\rightarrow$ `BBB_WWW`\n\n请编一个程序求解大小为 $N$ 的棋盘游戏（$1 \\le N \\le 12$）。要求用最少的移动步数实现。", "inputFormat": "一个正整数 $N$，表示棋盘游戏的大小。", "outputFormat": "输出用每一步移动的棋子移动前在棋盘的位置（位置从左到右依次为 $1,2,\\dots,2N+1$）表示的序列，每个数字之间以空格分隔，每行 $20$ 个数（最后一行可以少于 $20$ 个数）。\n\n输出的解还应当有最小的字典顺序，即如果有多组移动步数最小的解，输出第一个数最小的解；如果还有多组，输出第二个数最小的解，以此类推。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.3", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.4] Shuttle Puzzle", "background": "", "description": "In the shuttle puzzle of size $3$, there are $3$ white pieces, $3$ black pieces, and a wooden box with $7$ cells arranged in a line. The $3$ white pieces are placed on one end, the $3$ black pieces are placed on the other end, and the middle cell is empty.\n- Initial state: `WWW_BBB` (`_` represents the empty cell)\n- Goal state: `BBB_WWW`\n\nTwo types of moves are allowed in this game:\n- You may move a piece into the adjacent empty cell.\n- You may jump a piece over exactly one adjacent piece of the opposite color into the empty cell.\n\nThe shuttle puzzle of size $N$ has $N$ white pieces, $N$ black pieces, and a wooden box with $2N+1$ cells.\n\nHere is a solution for the size $3$ puzzle, including the initial state, intermediate states, and the goal state:\n\n`WWW_BBB` $\\rightarrow$ `WW_WBBB` $\\rightarrow$ `WWBW_BB` $\\rightarrow$ `WWBWB_B` $\\rightarrow$ `WWB_BWB` $\\rightarrow$ `W_BWBWB` $\\rightarrow$ `_WBWBWB` $\\rightarrow$ `BW_WBWB` $\\rightarrow$ `BWBW_WB` $\\rightarrow$ `BWBWBW_` $\\rightarrow$ `BWBWB_W` $\\rightarrow$ `BWB_BWW` $\\rightarrow$ `B_BWBWW` $\\rightarrow$ `BB_WBWW` $\\rightarrow$ `BBBW_WW` $\\rightarrow$ `BBB_WWW`\n\nWrite a program to solve the shuttle puzzle of size $N$ ($1 \\le N \\le 12$). The number of moves must be minimized.", "inputFormat": "A single integer $N$, the size of the shuttle puzzle.", "outputFormat": "Output the sequence of positions on the board of the piece to be moved before each move (positions are numbered from left to right as $1, 2, \\dots, 2N+1$). Print $20$ numbers per line (the last line may contain fewer than $20$ numbers).\n\nAmong all solutions with the minimum number of moves, the output should be lexicographically smallest, i.e., if there are multiple optimal solutions, choose the one with the smallest first number; if still tied, the smallest second number; and so on.", "hint": "Problem translation from NOCOW.\n\nUSACO Training Section 4.3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.4] 棋盘游戏 Shuttle Puzzle", "background": null, "description": "大小为 $3$ 的棋盘游戏里有 $3$ 个白色棋子，$3$ 个黑色棋子，和一个有 $7$ 个格子一线排开的木盒子。$3$ 个白棋子被放在一头，$3$ 个黑棋子被放在另一头，中间的格子空着。\n- 初始状态：`WWW_BBB`（`_` 代表空格）\n- 目标状态：`BBB_WWW`\n\n在这个游戏里有两种移动方法是允许的：\n- 你可以把一个棋子移到与它相邻的空格；\n- 你可以把一个棋子跳过一个(仅一个)与它不同色的棋子到达空格。\n\n大小为 $N$ 的棋盘游戏包括 $N$ 个白棋子，$N$ 个黑棋子，还有有 $2N+1$ 个格子的木盒子。\n\n这里是大小为 $3$ 的棋盘游戏的解，包括初始状态，中间状态和目标状态：\n\n`WWW_BBB` $\\rightarrow$ `WW_WBBB` $\\rightarrow$ `WWBW_BB` $\\rightarrow$ `WWBWB_B` $\\rightarrow$ `WWB_BWB` $\\rightarrow$ `W_BWBWB` $\\rightarrow$ `_WBWBWB` $\\rightarrow$ `BW_WBWB` $\\rightarrow$ `BWBW_WB` $\\rightarrow$ `BWBWBW_` $\\rightarrow$ `BWBWB_W` $\\rightarrow$ `BWB_BWW` $\\rightarrow$ `B_BWBWW` $\\rightarrow$ `BB_WBWW` $\\rightarrow$ `BBBW_WW` $\\rightarrow$ `BBB_WWW`\n\n请编一个程序求解大小为 $N$ 的棋盘游戏（$1 \\le N \\le 12$）。要求用最少的移动步数实现。", "inputFormat": "一个正整数 $N$，表示棋盘游戏的大小。", "outputFormat": "输出用每一步移动的棋子移动前在棋盘的位置（位置从左到右依次为 $1,2,\\dots,2N+1$）表示的序列，每个数字之间以空格分隔，每行 $20$ 个数（最后一行可以少于 $20$ 个数）。\n\n输出的解还应当有最小的字典顺序，即如果有多组移动步数最小的解，输出第一个数最小的解；如果还有多组，输出第二个数最小的解，以此类推。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.3", "locale": "zh-CN"}}}
{"pid": "P2740", "type": "P", "difficulty": 5, "samples": [["5 4\r\n1 2 40\r\n1 4 20\r\n2 4 20\r\n2 3 30\r\n3 4 10", "50"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["USACO", "网络流"], "title": "[USACO4.2] 草地排水 Drainage Ditches", "background": "在农夫约翰的农场上，每逢下雨，贝茜最喜欢的三叶草地就积聚了一潭水。这意味着草地被水淹没了，并且小草要继续生长还要花相当长一段时间。因此，农夫约翰修建了一套排水系统来使贝茜的草地免除被大水淹没的烦恼（不用担心，雨水会流向附近的一条小溪）。作为一名一流的技师，农夫约翰已经在每条排水沟的一端安上了控制器，这样他可以控制流入排水沟的水流量。", "description": "FJ 知道每一条排水沟每分钟可以流过的水量，和排水系统的准确布局（起点为水潭而终点为小溪的一张网）。需要注意的是，有些时候从一处到另一处不只有一条排水沟。\n\n根据这些信息，计算从水潭排水到小溪的最大流量。对于给出的每条排水沟，雨水只能沿着一个方向流动，注意可能会出现雨水环形流动的情形。", "inputFormat": "第一行：两个用空格分开的整数 $N$（$0 \\le N \\le 200$）和 $M$（$2 \\le M \\le 200$）。$N$ 是 FJ 已经挖好的排水沟的数量，$M$ 是排水沟交叉点的数量。交点 $1$ 是水潭，交点 $M$ 是小溪。\n\n第二行到第 $N + 1$ 行：每行有三个整数 $S_i, E_i, C_i$。$S_i$ 和 $E_i$（$1 \\le S_i, E_i \\le M$）指明排水沟两端的交点，雨水从 $S_i$ 流向 $E_i$。$C_i$（$0 \\le C_i \\le 10^7$）是这条排水沟的最大容量。", "outputFormat": "输出一个整数，即排水的最大流量。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.2\n\n**【数据范围】**\n\n对于 $100 \\%$ 的数据，$0 \\le N, M \\le 200$，$0 \\le C_i \\le 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.2] Drainage Ditches", "background": "On Farmer John's farm, whenever it rains, a pool of water accumulates on Bessie's favorite clover field. This means the field gets flooded, and it takes a long time for the grass to grow again. Therefore, Farmer John built a drainage system to keep Bessie's field from being flooded (do not worry, the rainwater will flow into a nearby creek). As a top-notch technician, Farmer John has installed a controller at one end of every ditch so that he can control the flow entering each ditch.", "description": "FJ knows the amount of water that can flow through each ditch per minute, as well as the exact layout of the drainage system (a network with the pond as the source and the creek as the sink). Note that between two places there may be more than one ditch.\n\nGiven this information, compute the maximum flow from the pond to the creek. For each ditch provided, water can flow in only one direction, and cycles may exist.", "inputFormat": "- The first line contains two space-separated integers $N$ ($0 \\le N \\le 200$) and $M$ ($2 \\le M \\le 200$). $N$ is the number of ditches that FJ has already dug, and $M$ is the number of junctions. Junction $1$ is the pond, and junction $M$ is the creek.\n- The second line to line $N + 1$: each line contains three integers $S_i, E_i, C_i$. $S_i$ and $E_i$ ($1 \\le S_i, E_i \\le M$) specify the two endpoints of a ditch, and water flows from $S_i$ to $E_i$. $C_i$ ($0 \\le C_i \\le 10^7$) is the maximum capacity of that ditch.", "outputFormat": "Output a single integer — the maximum drainage flow.", "hint": "The problem statement is translated from NOCOW.\n\nUSACO Training Section 4.2.\n\nConstraints\n\nFor $100\\%$ of the testdata, $0 \\le N, M \\le 200$, $0 \\le C_i \\le 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.2] 草地排水 Drainage Ditches", "background": "在农夫约翰的农场上，每逢下雨，贝茜最喜欢的三叶草地就积聚了一潭水。这意味着草地被水淹没了，并且小草要继续生长还要花相当长一段时间。因此，农夫约翰修建了一套排水系统来使贝茜的草地免除被大水淹没的烦恼（不用担心，雨水会流向附近的一条小溪）。作为一名一流的技师，农夫约翰已经在每条排水沟的一端安上了控制器，这样他可以控制流入排水沟的水流量。", "description": "FJ 知道每一条排水沟每分钟可以流过的水量，和排水系统的准确布局（起点为水潭而终点为小溪的一张网）。需要注意的是，有些时候从一处到另一处不只有一条排水沟。\n\n根据这些信息，计算从水潭排水到小溪的最大流量。对于给出的每条排水沟，雨水只能沿着一个方向流动，注意可能会出现雨水环形流动的情形。", "inputFormat": "第一行：两个用空格分开的整数 $N$（$0 \\le N \\le 200$）和 $M$（$2 \\le M \\le 200$）。$N$ 是 FJ 已经挖好的排水沟的数量，$M$ 是排水沟交叉点的数量。交点 $1$ 是水潭，交点 $M$ 是小溪。\n\n第二行到第 $N + 1$ 行：每行有三个整数 $S_i, E_i, C_i$。$S_i$ 和 $E_i$（$1 \\le S_i, E_i \\le M$）指明排水沟两端的交点，雨水从 $S_i$ 流向 $E_i$。$C_i$（$0 \\le C_i \\le 10^7$）是这条排水沟的最大容量。", "outputFormat": "输出一个整数，即排水的最大流量。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.2\n\n**【数据范围】**\n\n对于 $100 \\%$ 的数据，$0 \\le N, M \\le 200$，$0 \\le C_i \\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P2741", "type": "P", "difficulty": 5, "samples": [["9 8\n.CCC....\nECBCBB..\nDCBCDB..\nDCCC.B..\nD.B.ABAA\nD.BBBB.A\nDDDDAD.A\nE...AAAA\nEEEEEE..", "EDABC"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "USACO", "拓扑排序"], "title": "[USACO4.4] 重叠的图像 Frame Up", "background": null, "description": "看下面的五张 $9 \\times 8$ 的图像：\n\n```plain\n........   ........   ........   ........   .CCC....\nEEEEEE..   ........   ........   ..BBBB..   .C.C....\nE....E..   DDDDDD..   ........   ..B..B..   .C.C....\nE....E..   D....D..   ........   ..B..B..   .CCC....\nE....E..   D....D..   ....AAAA   ..B..B..   ........\nE....E..   D....D..   ....A..A   ..BBBB..   ........\nE....E..   DDDDDD..   ....A..A   ........   ........\nE....E..   ........   ....AAAA   ........   ........\nEEEEEE..   ........   ........   ........   ........\n\n   1          2           3          4          5\n```\n现在，把这些图像按照 $1\\sim 5$ 的编号从下到上重叠，第 $1$ 张在最下面，第 $5$ 张在最顶端。如果一张图像覆盖了另外一张图像，那么底下的图像的一部分就变得不可见了。于是我们得到下面的图像：\n\n```plain\n.CCC....\nECBCBB..\nDCBCDB..\nDCCC.B..\nD.B.ABAA\nD.BBBB.A\nDDDDAD.A\nE...AAAA\nEEEEEE..\n```\n对于这样一张图像，计算构成这张图像的矩形图像从底部到顶端堆叠的顺序。\n\n下面是这道题目的规则：\n\n矩形的边的宽度为 $1$，每条边的长度都不小于 $3$。\n\n矩形的每条边中，至少有一部分是可见的。注意，一个角同时属于两条边。\n\n矩形用大写字母表示，并且每个矩形的表示符号都不相同。", "inputFormat": "第一行，两个用空格分开的整数：图像高 $H$ 和图像宽 $W$（$3 \\le H,W \\le 30$）。\n\n第二行到第 $H+1$ 行，每行 $W$ 个字母：重叠后的图像。", "outputFormat": "按照自底向上的顺序输出字母。如果有不止一种情况，按照字典顺序输出每一种情况，且在两种情况之间输出一个换行。数据保证至少有一组解。\n\n保证解的组数不超过 $10000$。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.4", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.4] Frame Up", "background": "", "description": "Look at the following five $9 \\times 8$ images:\n\n```plain\n........   ........   ........   ........   .CCC....\nEEEEEE..   ........   ........   ..BBBB..   .C.C....\nE....E..   DDDDDD..   ........   ..B..B..   .C.C....\nE....E..   D....D..   ........   ..B..B..   .CCC....\nE....E..   D....D..   ....AAAA   ..B..B..   ........\nE....E..   D....D..   ....A..A   ..BBBB..   ........\nE....E..   DDDDDD..   ....A..A   ........   ........\nE....E..   ........   ....AAAA   ........   ........\nEEEEEE..   ........   ........   ........   ........\n\n   1          2           3          4          5\n```\nNow, stack these images from bottom to top in the order $1\\sim 5$, with image 1 at the bottom and image 5 at the top. If one image covers another, then part of the image underneath becomes invisible. This yields the following image:\n\n```plain\n.CCC....\nECBCBB..\nDCBCDB..\nDCCC.B..\nD.B.ABAA\nD.BBBB.A\nDDDDAD.A\nE...AAAA\nEEEEEE..\n```\nFor such an image, compute the stacking order of the rectangular images from bottom to top.\n\nThe rules are as follows:\n\n- The width of each rectangle border is $1$, and each side has length at least $3$.\n- For each rectangle, at least part of each of its four sides is visible. Note that a corner belongs to two sides.\n- Rectangles are denoted by uppercase letters, and the letter used for each rectangle is unique.", "inputFormat": "The first line contains two integers separated by a space: the image height $H$ and image width $W$ ($3 \\le H,W \\le 30$).\n\nThe next $H$ lines each contain $W$ letters: the final overlapped image.", "outputFormat": "Output the letters in order from bottom to top. If there is more than one valid ordering, output each ordering in lexicographic order, one per line. The testdata guarantees at least one solution. The number of solutions does not exceed $10000$.", "hint": "Translation from NOCOW.\n\nUSACO Training Section 4.4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.4] 重叠的图像 Frame Up", "background": null, "description": "看下面的五张 $9 \\times 8$ 的图像：\n\n```plain\n........   ........   ........   ........   .CCC....\nEEEEEE..   ........   ........   ..BBBB..   .C.C....\nE....E..   DDDDDD..   ........   ..B..B..   .C.C....\nE....E..   D....D..   ........   ..B..B..   .CCC....\nE....E..   D....D..   ....AAAA   ..B..B..   ........\nE....E..   D....D..   ....A..A   ..BBBB..   ........\nE....E..   DDDDDD..   ....A..A   ........   ........\nE....E..   ........   ....AAAA   ........   ........\nEEEEEE..   ........   ........   ........   ........\n\n   1          2           3          4          5\n```\n现在，把这些图像按照 $1\\sim 5$ 的编号从下到上重叠，第 $1$ 张在最下面，第 $5$ 张在最顶端。如果一张图像覆盖了另外一张图像，那么底下的图像的一部分就变得不可见了。于是我们得到下面的图像：\n\n```plain\n.CCC....\nECBCBB..\nDCBCDB..\nDCCC.B..\nD.B.ABAA\nD.BBBB.A\nDDDDAD.A\nE...AAAA\nEEEEEE..\n```\n对于这样一张图像，计算构成这张图像的矩形图像从底部到顶端堆叠的顺序。\n\n下面是这道题目的规则：\n\n矩形的边的宽度为 $1$，每条边的长度都不小于 $3$。\n\n矩形的每条边中，至少有一部分是可见的。注意，一个角同时属于两条边。\n\n矩形用大写字母表示，并且每个矩形的表示符号都不相同。", "inputFormat": "第一行，两个用空格分开的整数：图像高 $H$ 和图像宽 $W$（$3 \\le H,W \\le 30$）。\n\n第二行到第 $H+1$ 行，每行 $W$ 个字母：重叠后的图像。", "outputFormat": "按照自底向上的顺序输出字母。如果有不止一种情况，按照字典顺序输出每一种情况，且在两种情况之间输出一个换行。数据保证至少有一组解。\n\n保证解的组数不超过 $10000$。", "hint": "题目翻译来自 NOCOW。\n\nUSACO Training Section 4.4", "locale": "zh-CN"}}}
{"pid": "P2742", "type": "P", "difficulty": 5, "samples": [["4\n4 8\n4 12\n5 9.3\n7 8", "12.00"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["计算几何", "USACO", "分治", "凸包", "模板题"], "title": "【模板】二维凸包 / [USACO5.1] 圈奶牛Fencing the Cows", "background": "upd: 新增一组 hack 数据。", "description": "农夫约翰想要建造一个围栏用来围住他的奶牛，可是他资金匮乏。他建造的围栏必须包括他的奶牛喜欢吃草的所有地点。对于给出的这些地点的坐标，计算最短的能够围住这些点的围栏的长度。", "inputFormat": "输入数据的第一行是一个整数。表示农夫约翰想要围住的放牧点的数目 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行两个实数，第 $(i + 1)$ 行的实数 $x_i, y_i$ 分别代表第 $i$ 个放牧点的横纵坐标。", "outputFormat": "输出输出一行一个四舍五入保留两位小数的实数，代表围栏的长度。\n", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$-10^6 \\leq x_i, y_i \\leq 10^6$。小数点后最多有 $2$ 位数字。", "locale": "zh-CN", "translations": {"en": {"title": "[Template] 2D Convex Hull / [USACO5.1] Fencing the Cows", "background": "upd: Added a new set of hack testdata.", "description": "Farmer John wants to build a fence to enclose his cows, but his budget is limited. The fence he builds must include all the locations where his cows like to graze. Given the coordinates of these locations, compute the length of the shortest fence that can enclose all these points.", "inputFormat": "The first line contains an integer $n$, the number of grazing sites.\n\nFrom line $2$ to line $(n + 1)$, each line contains two real numbers. The real numbers $x_i, y_i$ on line $(i + 1)$ represent the $x$ and $y$ coordinates of the $i$-th grazing site.", "outputFormat": "Output one real number, rounded to two decimal places, representing the length of the fence.", "hint": "Constraints:\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^5$, $-10^6 \\leq x_i, y_i \\leq 10^6$. There are at most $2$ digits after the decimal point.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】二维凸包 / [USACO5.1] 圈奶牛Fencing the Cows", "background": "upd: 新增一组 hack 数据。", "description": "农夫约翰想要建造一个围栏用来围住他的奶牛，可是他资金匮乏。他建造的围栏必须包括他的奶牛喜欢吃草的所有地点。对于给出的这些地点的坐标，计算最短的能够围住这些点的围栏的长度。", "inputFormat": "输入数据的第一行是一个整数。表示农夫约翰想要围住的放牧点的数目 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行两个实数，第 $(i + 1)$ 行的实数 $x_i, y_i$ 分别代表第 $i$ 个放牧点的横纵坐标。", "outputFormat": "输出输出一行一个四舍五入保留两位小数的实数，代表围栏的长度。\n", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$-10^6 \\leq x_i, y_i \\leq 10^6$。小数点后最多有 $2$ 位数字。", "locale": "zh-CN"}}}
{"pid": "P2743", "type": "P", "difficulty": 5, "samples": [["30\r\n25 27 30 34 39 45 52 60 69 79 69 60 52 45 39 34 30 26 22 18\r\n82 78 74 70 66 67 64 60 65 80", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "USACO"], "title": "[USACO5.1] 乐曲主题Musical Themes", "background": "", "description": "我们用 $N$（$1 \\le N \\le 5000$）个音符的序列来表示一首乐曲，每个音符都是 $1 \\sim 88$ 范围内的整数，每个数表示钢琴上的一个键。很不幸这种表示旋律的方法忽略了音符的时值，但这项编程任务是关于音高的，与时值无关。\n\n许多作曲家围绕一个重复出现的“主题”来构建乐曲。在我们的乐曲表示法中，“主题”是整个音符序列的一个子串，它需要满足如下条件：\n\n1. 长度至少为 $5$ 个音符。\n2. 在乐曲中重复出现（可能经过转调，见下）。\n3. 重复出现的同一主题不能有公共部分。\n\n“转调”的意思是主题序列中每个音符都被加上或减去了同一个整数值。给定一段乐曲，计算其中最长主题的长度（即音符数）。\n\n本题时限为 $1$ 秒钟！", "inputFormat": "输入文件的第一行包含整数 $N$。\n\n下面的每一行（最后一行可能除外）包含 $20$ 个整数，表示音符序列。\n\n最后一行可能少于 $20$ 个音符。", "outputFormat": "输出文件应只含一个整数，即最长主题的长度。如果乐曲中没有主题，那么输出 `0`。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 5.1\n", "locale": "zh-CN", "translations": {"en": {"title": "[USACO5.1] Musical Themes", "background": "", "description": "We represent a piece of music by a sequence of $N$ ($1 \\le N \\le 5000$) notes, each an integer in the range $1 \\sim 88$, where each number denotes a key on the piano. Unfortunately, this way of encoding a melody ignores note durations, but this programming task concerns pitch only and is independent of duration.\n\nMany composers build a piece around a recurring \"theme\". In our representation, a \"theme\" is a substring of the entire note sequence that satisfies the following conditions:\n1. Its length is at least $5$ notes.\n2. It appears repeatedly in the piece (possibly after transposition, see below).\n3. The repeated occurrences of the same theme must be non-overlapping.\n\n\"Transposition\" means that each note in the theme sequence is increased or decreased by the same integer. Given a piece, compute the length (number of notes) of the longest theme.\n\nThe time limit for this problem is $1$ second.", "inputFormat": "The first line of input contains the integer $N$.\n\nEach of the following lines (except possibly the last) contains $20$ integers representing the note sequence.\n\nThe last line may contain fewer than $20$ notes.", "outputFormat": "Output a single integer, the length of the longest theme. If there is no theme, output `0`.", "hint": "The statement is translated from NOCOW.\n\nUSACO Training Section 5.1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO5.1] 乐曲主题Musical Themes", "background": "", "description": "我们用 $N$（$1 \\le N \\le 5000$）个音符的序列来表示一首乐曲，每个音符都是 $1 \\sim 88$ 范围内的整数，每个数表示钢琴上的一个键。很不幸这种表示旋律的方法忽略了音符的时值，但这项编程任务是关于音高的，与时值无关。\n\n许多作曲家围绕一个重复出现的“主题”来构建乐曲。在我们的乐曲表示法中，“主题”是整个音符序列的一个子串，它需要满足如下条件：\n\n1. 长度至少为 $5$ 个音符。\n2. 在乐曲中重复出现（可能经过转调，见下）。\n3. 重复出现的同一主题不能有公共部分。\n\n“转调”的意思是主题序列中每个音符都被加上或减去了同一个整数值。给定一段乐曲，计算其中最长主题的长度（即音符数）。\n\n本题时限为 $1$ 秒钟！", "inputFormat": "输入文件的第一行包含整数 $N$。\n\n下面的每一行（最后一行可能除外）包含 $20$ 个整数，表示音符序列。\n\n最后一行可能少于 $20$ 个音符。", "outputFormat": "输出文件应只含一个整数，即最长主题的长度。如果乐曲中没有主题，那么输出 `0`。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 5.1\n", "locale": "zh-CN"}}}
