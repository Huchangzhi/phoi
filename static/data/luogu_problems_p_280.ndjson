{"pid": "P6669", "type": "P", "difficulty": 6, "samples": [["1 2\n3 3", "1"], ["2 5\n4 5\n6 7", "0\n7"], ["3 23\n23333333 23333333\n233333333 233333333\n2333333333 2333333333", "851883128\n959557926\n680723120"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2016", "数位 DP", "Lucas 定理", "CTT（清华集训/北大集训）"], "title": "[清华集训 2016] 组合数问题", "background": "", "description": "组合数 $C_n^m$ 表示的是从 $n$ 个物品中选出 $m$ 个物品的方案数。举个例子，从 $(1,2,3)$ 三个物品中选择两个物品可以有 $(1,2),(1,3),(2,3)$ 这三种选择方法。根据组合数的定义，我们可以给出计算组合数 $C_n^m$ 的一般公式：\n\n$$C_n^m=\\dfrac{n!}{m!(n-m)!}$$\n\n其中 $n!=1×2×⋯×n$。（额外的，当 $n=0$ 时，$n!=1$）\n\n小葱想知道如果给定 $n,m$ 和 $k$，对于所有的 $0≤i≤n,0≤j≤\\min(i,m)$ 有多少对 $(i,j)$ 满足 $C^j_i$ 是 $k$ 的倍数。\n\n答案对 $10^9+7$ 取模。", "inputFormat": "第一行有两个整数 $t,k$，其中 $t$ 代表该测试点总共有多少组测试数据。\n\n接下来 $t$ 行每行两个整数 $n,m$。\n", "outputFormat": "$t$ 行，每行一个整数代表所有的 $0≤i≤n,0≤j≤\\min(i,m)$ 中有多少对 $(i,j)$ 满足 $C^j_i$ 是 $k$ 的倍数。", "hint": "#### 样例 $1$ 解释\n\n在所有情况中，只有 $C_{2}^{1}=2$ 是 $2$ 的倍数。\n\n#### 限制与约定\n\n对于 $20\\%$ 的测试点，$1≤n,m≤100$；\n\n对于另外 $15\\%$ 的测试点，$n≤m$；\n\n对于另外 $15\\%$ 的测试点，$k=2$；\n\n对于另外 $15\\%$ 的测试点， $m\\le10$；\n\n对于 $100\\%$ 的测试点， $1≤n,m≤10^{18}$，$1≤t,k≤100$，且 $k$ 是一个质数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2016] 组合数问题", "background": "", "description": "组合数 $C_n^m$ 表示的是从 $n$ 个物品中选出 $m$ 个物品的方案数。举个例子，从 $(1,2,3)$ 三个物品中选择两个物品可以有 $(1,2),(1,3),(2,3)$ 这三种选择方法。根据组合数的定义，我们可以给出计算组合数 $C_n^m$ 的一般公式：\n\n$$C_n^m=\\dfrac{n!}{m!(n-m)!}$$\n\n其中 $n!=1×2×⋯×n$。（额外的，当 $n=0$ 时，$n!=1$）\n\n小葱想知道如果给定 $n,m$ 和 $k$，对于所有的 $0≤i≤n,0≤j≤\\min(i,m)$ 有多少对 $(i,j)$ 满足 $C^j_i$ 是 $k$ 的倍数。\n\n答案对 $10^9+7$ 取模。", "inputFormat": "第一行有两个整数 $t,k$，其中 $t$ 代表该测试点总共有多少组测试数据。\n\n接下来 $t$ 行每行两个整数 $n,m$。\n", "outputFormat": "$t$ 行，每行一个整数代表所有的 $0≤i≤n,0≤j≤\\min(i,m)$ 中有多少对 $(i,j)$ 满足 $C^j_i$ 是 $k$ 的倍数。", "hint": "#### 样例 $1$ 解释\n\n在所有情况中，只有 $C_{2}^{1}=2$ 是 $2$ 的倍数。\n\n#### 限制与约定\n\n对于 $20\\%$ 的测试点，$1≤n,m≤100$；\n\n对于另外 $15\\%$ 的测试点，$n≤m$；\n\n对于另外 $15\\%$ 的测试点，$k=2$；\n\n对于另外 $15\\%$ 的测试点， $m\\le10$；\n\n对于 $100\\%$ 的测试点， $1≤n,m≤10^{18}$，$1≤t,k≤100$，且 $k$ 是一个质数。", "locale": "zh-CN"}}}
{"pid": "P6670", "type": "P", "difficulty": 7, "samples": [["5 21\n1 2 9\n1 3 27\n1 4 3\n1 5 12", "1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2016", "CTT（清华集训/北大集训）"], "title": "[清华集训 2016] 汽水", "background": "", "description": "牛牛来到了一个盛产汽水的国度旅行。\n\n这个国度的地图上有 $n$ 个城市，这些城市之间用 $n−1$ 条道路连接，任意两个城市之间，都存在一条路径连接。这些城市生产的汽水有许多不同的风味，在经过道路 $i$ 时，牛牛会喝掉 $w_i$ 的汽水。牛牛非常喜欢喝汽水，但过量地饮用汽水是有害健康的，因此，他希望在他旅行的这段时间内，平均每天喝到的汽水的量尽可能地接近给定的一个正整数 $k$ 。\n\n同时，牛牛希望他的旅行计划尽可能地有趣，牛牛会先选择一个城市作为起点，然后每天通过一条道路，前往一个没有去过的城市，最终选择在某一个城市结束旅行。\n\n牛牛还要忙着去喝可乐，他希望你帮他设计出一个旅行计划，满足每天 $|P−k|$（$P$ 为平均每天喝到的汽水量）的值尽量小，请你告诉他这个最小值。", "inputFormat": "第一行两个正整数 $n,k$。\n\n接下来 $n−1$ 行，每行三个正整数 $u_i,v_i,w_i$，表示城市 $u_i$ 和城市 $v_i$ 之间有一条长度为 $w_i$ 的道路连接。\n\n同一行相邻的两个整数均用一个空格隔开。", "outputFormat": "一行一个整数，表示答案的最小值的整数部分，即你只要将这个最小值向下取整然后输出即可。", "hint": "#### 样例解释\n\n在图中，路径 $5\\to1\\to3$ 是一条最合适的路线，总计喝到的汽水的量是 $27+12=39$, 平均每天喝到的汽水量是 $39÷2=19.5$, $|19.5−21|=1.5$，向下取整后得到 $1$，因此答案是 $1$。\n\n#### 数据范围\n\n对于 $20\\%$ 的数据，$n≤1000$。\n\n对于另外 $20\\%$ 的数据，保证编号为 $i(1≤i≤n−1)$ 的节点和编号为 $i+1$ 的节点之间连接了一条边。\n\n对于另外 $20\\%$ 的数据，保证数据是以 $1$ 为根的完全二叉树（在完全二叉树中，节点 $i(2≤i≤n)$ 和节点 $⌊i÷2⌋$ 之间有一条道路）。\n\n对于另外 $20\\%$ 的数据，保证除节点 $1$ 以外，其他节点和节点 $1$ 之间都有一条道路。\n\n对于 $100\\%$ 的数据，$1≤n≤5×10^4$，$0≤w_i≤10^{13}$，$0≤k≤10^{13}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2016] 汽水", "background": "", "description": "牛牛来到了一个盛产汽水的国度旅行。\n\n这个国度的地图上有 $n$ 个城市，这些城市之间用 $n−1$ 条道路连接，任意两个城市之间，都存在一条路径连接。这些城市生产的汽水有许多不同的风味，在经过道路 $i$ 时，牛牛会喝掉 $w_i$ 的汽水。牛牛非常喜欢喝汽水，但过量地饮用汽水是有害健康的，因此，他希望在他旅行的这段时间内，平均每天喝到的汽水的量尽可能地接近给定的一个正整数 $k$ 。\n\n同时，牛牛希望他的旅行计划尽可能地有趣，牛牛会先选择一个城市作为起点，然后每天通过一条道路，前往一个没有去过的城市，最终选择在某一个城市结束旅行。\n\n牛牛还要忙着去喝可乐，他希望你帮他设计出一个旅行计划，满足每天 $|P−k|$（$P$ 为平均每天喝到的汽水量）的值尽量小，请你告诉他这个最小值。", "inputFormat": "第一行两个正整数 $n,k$。\n\n接下来 $n−1$ 行，每行三个正整数 $u_i,v_i,w_i$，表示城市 $u_i$ 和城市 $v_i$ 之间有一条长度为 $w_i$ 的道路连接。\n\n同一行相邻的两个整数均用一个空格隔开。", "outputFormat": "一行一个整数，表示答案的最小值的整数部分，即你只要将这个最小值向下取整然后输出即可。", "hint": "#### 样例解释\n\n在图中，路径 $5\\to1\\to3$ 是一条最合适的路线，总计喝到的汽水的量是 $27+12=39$, 平均每天喝到的汽水量是 $39÷2=19.5$, $|19.5−21|=1.5$，向下取整后得到 $1$，因此答案是 $1$。\n\n#### 数据范围\n\n对于 $20\\%$ 的数据，$n≤1000$。\n\n对于另外 $20\\%$ 的数据，保证编号为 $i(1≤i≤n−1)$ 的节点和编号为 $i+1$ 的节点之间连接了一条边。\n\n对于另外 $20\\%$ 的数据，保证数据是以 $1$ 为根的完全二叉树（在完全二叉树中，节点 $i(2≤i≤n)$ 和节点 $⌊i÷2⌋$ 之间有一条道路）。\n\n对于另外 $20\\%$ 的数据，保证除节点 $1$ 以外，其他节点和节点 $1$ 之间都有一条道路。\n\n对于 $100\\%$ 的数据，$1≤n≤5×10^4$，$0≤w_i≤10^{13}$，$0≤k≤10^{13}$。", "locale": "zh-CN"}}}
{"pid": "P6671", "type": "P", "difficulty": 7, "samples": [["2 1 20 11\n2\n5 5 4\n16 9 4", "23.0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2016", "CTT（清华集训/北大集训）"], "title": "[清华集训 2016] 定向越野", "background": "", "description": "定向越野是一项集智力与体力为一体的体育运动，在这项活动中，选手需要从起点出发，在尽可能短的时间内到达指定的地点。\n\n牛牛非常喜爱这项运动，但是他不知道怎么样才能更快到达终点。他听说来参加集训的你智力过人，于是他把定向越野的地图交给了你，希望你帮他解决一些问题。\n\n牛牛给你的地图描述的是一块平地，地图上不仅清楚地标出了起点和终点的坐标，还标有若干个互不相交圆形区域，每个区域表示一个圆形的水域。对于不会游泳的牛牛来说，进入水域是根本不可能的。因此，牛牛的行动路线不能从水域中穿过。牛牛想知道这样的路线长度最小可以是多少。", "inputFormat": "第一行包含四个实数 $S_x,S_y,T_x,T_y$ ，分别表示起点的坐标和终点的坐标。\n\n第二行包含一个整数 $n$，表示水域的个数。\n\n接下来 $n$ 行，每行 $3$ 个整数 $x_i,y_i,r_i$ 表示一片水域的圆心的坐标和半径。\n\n保证起点和终点都不在水域的内部或边界上，起点和终点不重合。", "outputFormat": "输出一行，包含一个实数，四舍五入精确到小数点后恰好 $1$ 位，表示答案。你的输出必须和标准输出完全一样才算正确。\n\n测试数据保证四舍五入后的答案和准确答案的差的绝对值不大于 $4×10^{−2}$。\n\n（如果你不知道什么是浮点误差，这段话可以理解为：对于大多数的算法，你可以正常地使用浮点数类型而不用对它进行特殊的处理）", "hint": "#### 样例解释\n\n这个地图如下图，其中画出的路径即是所求的最短路径。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k4pfy2m5.png)\n\n#### 数据范围\n\n所有数据满足 $0≤n≤500$，$−1000≤x_i,y_i,r_i,S_x,S_y,T_x,T_y≤1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2016] 定向越野", "background": "", "description": "定向越野是一项集智力与体力为一体的体育运动，在这项活动中，选手需要从起点出发，在尽可能短的时间内到达指定的地点。\n\n牛牛非常喜爱这项运动，但是他不知道怎么样才能更快到达终点。他听说来参加集训的你智力过人，于是他把定向越野的地图交给了你，希望你帮他解决一些问题。\n\n牛牛给你的地图描述的是一块平地，地图上不仅清楚地标出了起点和终点的坐标，还标有若干个互不相交圆形区域，每个区域表示一个圆形的水域。对于不会游泳的牛牛来说，进入水域是根本不可能的。因此，牛牛的行动路线不能从水域中穿过。牛牛想知道这样的路线长度最小可以是多少。", "inputFormat": "第一行包含四个实数 $S_x,S_y,T_x,T_y$ ，分别表示起点的坐标和终点的坐标。\n\n第二行包含一个整数 $n$，表示水域的个数。\n\n接下来 $n$ 行，每行 $3$ 个整数 $x_i,y_i,r_i$ 表示一片水域的圆心的坐标和半径。\n\n保证起点和终点都不在水域的内部或边界上，起点和终点不重合。", "outputFormat": "输出一行，包含一个实数，四舍五入精确到小数点后恰好 $1$ 位，表示答案。你的输出必须和标准输出完全一样才算正确。\n\n测试数据保证四舍五入后的答案和准确答案的差的绝对值不大于 $4×10^{−2}$。\n\n（如果你不知道什么是浮点误差，这段话可以理解为：对于大多数的算法，你可以正常地使用浮点数类型而不用对它进行特殊的处理）", "hint": "#### 样例解释\n\n这个地图如下图，其中画出的路径即是所求的最短路径。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k4pfy2m5.png)\n\n#### 数据范围\n\n所有数据满足 $0≤n≤500$，$−1000≤x_i,y_i,r_i,S_x,S_y,T_x,T_y≤1000$。", "locale": "zh-CN"}}}
{"pid": "P6672", "type": "P", "difficulty": 6, "samples": [["1\n5\n", "24"], ["6\n1 2 3 4 5 6\n", "90337303"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "CTT（清华集训/北大集训）"], "title": "[清华集训 2016] 你的生命已如风中残烛", "background": null, "description": "期中考试考完了，已经感到没有什么好害怕的六花今天决定不学数学了，于是和勇太打起了游戏王。\n\n“你已空手空场，生命只剩一百，事到如今你还能做什么？”\n\n“所累哇多卡纳！”\n\n“纳尼？”\n\n然而六花的卡组实在是太菜了，经过分析，六花发现在一回合内，她卡组中的牌并没有办法达成 OTK，除非主角光环附体：\n\n**被封印的艾克佐迪亚**\n\n**——包括这张卡在内，「被封印者的右足」「被封印者的左足」「被封印者的右腕」「被封印者的左腕」全在手牌的时候，获得决斗胜利。**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zk6r83v0.png)\n\n但是因为六花不是高贵的氪金玩家，她可以肯定，这五张牌中肯定有一张，在牌堆的底端。所以六花现在面临着一个难题：需要在一回合内将卡组抽完。\n\n六花的牌堆一共有 $m+1$ 张牌，因为最后一张牌是固定的，所以我们现在只考虑前 $m$ 张牌。\n\n在这 $m$ 张牌中，有 $n$ 张特殊牌和 $m-n$ 张普通牌，每一个特殊牌有一个属性值 $w_i$，表示在打出这张牌后，可以再摸 $w_i$ 张牌。幸运的是，六花发现这些牌刚好满足 $∑\\limits_{i=1}^nw_i=m$，因此她可以放心的随意摸牌而不用担心爆牌。\n\n因为这 $m$ 张牌是被打乱的，所以总共有 $m!$ 种不同的可能的牌堆。\n\n现在这回合开始了，六花先从牌堆里抽出一张牌，接着六花不断的打出手中的牌，如果打出特殊牌，则又可以摸牌，直到摸到最后一张牌达成胜利条件或者打光自己的手牌结束自己的回合继而输掉比赛。\n\n举例来说，如果牌堆是 $\\{4,0,0,2,0,0,0\\}$（用 $0$ 表示普通牌，其他数字表示 $w_i$，其中最后一个 $0$ 是最后一个部件），那么六花打牌的过程可以为：\n\n- 取一张牌，手中的牌为 $\\{4\\}$。\n- 打出 $\\{4\\}$，再取四张牌，手中的牌为 $\\{0,0,2,0\\}$。\n- 打出 $\\{2\\}$，还需要再取两张，这时已摸到最后一个部件，六花胜利。\n- 而如果牌堆是 $\\{2,0,0,4,0,0,0\\}$，不难发现是勇太的胜利。\n\n现在，六花想要知道这 $m!$ 种不同的牌堆中，有多少种能够让她胜利。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个空格隔开的正整数 $w_i$。\n\n通过输入你可以自己算出来 $m=∑w_i$。", "outputFormat": "输出一个整数表示答案，答案可能很大，你只需要输出对 $998\\,244\\,353$ 取模后的结果。", "hint": "#### 样例 $1$ 解释\n\n所有可能的 $m!$ 种牌堆中，只有形如 $\\{5,0,0,0,0,0\\}$ 的 $24$ 个牌堆满足条件。\n\n#### 数据范围\n\n对于 $10\\%$ 的数据，$m \\leq 10$。\n\n对于 $30\\%$ 的数据，$n \\leq 8$。\n\n对于 $50\\%$ 的数据，$n \\leq 15$。\n\n对于 $70\\%$ 的数据，$n \\leq 30$。\n\n对于 $100\\%$ 的数据，$n \\leq 40$，$1 \\leq w_i \\leq 10^5$。同时保证有 $m-n \\geq 4$，因为牌堆里毕竟要有这 $5$ 个部件嘛。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2016] 你的生命已如风中残烛", "background": null, "description": "期中考试考完了，已经感到没有什么好害怕的六花今天决定不学数学了，于是和勇太打起了游戏王。\n\n“你已空手空场，生命只剩一百，事到如今你还能做什么？”\n\n“所累哇多卡纳！”\n\n“纳尼？”\n\n然而六花的卡组实在是太菜了，经过分析，六花发现在一回合内，她卡组中的牌并没有办法达成 OTK，除非主角光环附体：\n\n**被封印的艾克佐迪亚**\n\n**——包括这张卡在内，「被封印者的右足」「被封印者的左足」「被封印者的右腕」「被封印者的左腕」全在手牌的时候，获得决斗胜利。**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zk6r83v0.png)\n\n但是因为六花不是高贵的氪金玩家，她可以肯定，这五张牌中肯定有一张，在牌堆的底端。所以六花现在面临着一个难题：需要在一回合内将卡组抽完。\n\n六花的牌堆一共有 $m+1$ 张牌，因为最后一张牌是固定的，所以我们现在只考虑前 $m$ 张牌。\n\n在这 $m$ 张牌中，有 $n$ 张特殊牌和 $m-n$ 张普通牌，每一个特殊牌有一个属性值 $w_i$，表示在打出这张牌后，可以再摸 $w_i$ 张牌。幸运的是，六花发现这些牌刚好满足 $∑\\limits_{i=1}^nw_i=m$，因此她可以放心的随意摸牌而不用担心爆牌。\n\n因为这 $m$ 张牌是被打乱的，所以总共有 $m!$ 种不同的可能的牌堆。\n\n现在这回合开始了，六花先从牌堆里抽出一张牌，接着六花不断的打出手中的牌，如果打出特殊牌，则又可以摸牌，直到摸到最后一张牌达成胜利条件或者打光自己的手牌结束自己的回合继而输掉比赛。\n\n举例来说，如果牌堆是 $\\{4,0,0,2,0,0,0\\}$（用 $0$ 表示普通牌，其他数字表示 $w_i$，其中最后一个 $0$ 是最后一个部件），那么六花打牌的过程可以为：\n\n- 取一张牌，手中的牌为 $\\{4\\}$。\n- 打出 $\\{4\\}$，再取四张牌，手中的牌为 $\\{0,0,2,0\\}$。\n- 打出 $\\{2\\}$，还需要再取两张，这时已摸到最后一个部件，六花胜利。\n- 而如果牌堆是 $\\{2,0,0,4,0,0,0\\}$，不难发现是勇太的胜利。\n\n现在，六花想要知道这 $m!$ 种不同的牌堆中，有多少种能够让她胜利。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个空格隔开的正整数 $w_i$。\n\n通过输入你可以自己算出来 $m=∑w_i$。", "outputFormat": "输出一个整数表示答案，答案可能很大，你只需要输出对 $998\\,244\\,353$ 取模后的结果。", "hint": "#### 样例 $1$ 解释\n\n所有可能的 $m!$ 种牌堆中，只有形如 $\\{5,0,0,0,0,0\\}$ 的 $24$ 个牌堆满足条件。\n\n#### 数据范围\n\n对于 $10\\%$ 的数据，$m \\leq 10$。\n\n对于 $30\\%$ 的数据，$n \\leq 8$。\n\n对于 $50\\%$ 的数据，$n \\leq 15$。\n\n对于 $70\\%$ 的数据，$n \\leq 30$。\n\n对于 $100\\%$ 的数据，$n \\leq 40$，$1 \\leq w_i \\leq 10^5$。同时保证有 $m-n \\geq 4$，因为牌堆里毕竟要有这 $5$ 个部件嘛。", "locale": "zh-CN"}}}
{"pid": "P6673", "type": "P", "difficulty": 7, "samples": [["1 1 10009\n10 100 1000\n2 3\n4\n", "4320\n3240\n2430\n"], ["2 3 103\n7 8 9 10 11 12 13 14 15\n1 2 3\n4 5\n6\n", "96\n8\n73\n38\n53\n15\n27\n42\n4\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2016", "CTT（清华集训/北大集训）"], "title": "[清华集训 2016] 石家庄的工人阶级队伍比较坚强", "background": "B 君和 G 君在过街天桥上。  \n\nB 君：「又到冬天啦，算起来到大学已经三年多了」 \n\nG 君：「是呀」  \n\nB 君：「街上的情侣又多起来了，想想三年之前，我也是这样……」  \n\nG 君：「？？」 \n\nB 君：「……在天桥上看情侣的！」 \n\nG 君：「唔。」  \n\nB 君：「不过这次有你陪我了呢~」  \n\nG 君：「……」  \n\nB 君：「诶诶，我有个问题想问你~」  \n\nG 君：「问吧」  \n\nB 君：「假设 $n=3^m$ 个人一起玩 cei ding ke」  \n\nG 君：「啊咧？cei ding ke 是什么？」  \n\nB 君：「就是石头剪刀布~，我们也叫钉钢锤」 \n\nG 君：「你就问这个？」  \n\nB 君：「你等会，我还没说完呢」", "description": "$n=3^m$ 个人在玩石头剪刀布， 一共有 $t$ 轮游戏，每轮有 $m$ 次石头剪刀布。\n\n在同一轮的 $m$ 次游戏中，每个人的决策必须是提前确定的，也就是说不能采用随机策略，也不能根据前若干局的结果决定下一局的决策； 这样，显然一共有 $n=3^m$ 种决策。\n\n这 $n=3^m$ 个人会采取两两不同的决策。 为了方便表达，对于第 $x$（$0≤x<n$）个人，将 $x$ 转换成三进制得到一个 $m$ 位的数。 其中 $0$ 表示剪刀，$1$ 表示石头，$2$ 表示布。就得到了第 $x$ 个人采取的策略。\n\n由于编号是固定的，因此每个人在不同轮的 $m$ 次游戏中都会采取同一套决策。\n\n第 $x$ 个人在最初时有一个分数 $f_{0,x}$。\n\n在第 $i$ 轮中，他将和另一个人 $y$ 进行 $m$ 次的石头剪刀布的比赛。\n\n我们用 $W(x,y)$ 表示 $x$ 在和 $y$ 的 $m$ 次比赛中赢的次数； 用 $L(x,y)$ 表示 $x$ 在和 $y$ 的 $m$ 次比赛中输的次数。\n\n在第 $i$ 轮结束之后，第 $x$ 个人分数是：\n\n$$f_{i,x}=∑_{0≤y<n}f_{i−1,y}b_{u,v}$$\n\n其中 $u=W(x,y)=L(y,x),v=L(x,y)=W(y,x)$，平局不计入次数；$b_{u,v}$ 则是一个给定的评分数组。\n\n注意即使 $y$ 和 $x$ 一样（自己转移到自己）也会乘上一个系数 $b_{0,0}$（即自己跟自己打全为平局）。\n\n显然随着轮数越来越多，分数也会越来越大， 这个计分系统和我们平时用的计算机一样，也会溢出。 当要储存的分数 $f$ 大于等于 $p$ 的时候，就会变成 $f\\bmod p$。\n\nB 君想知道 $t$ 轮之后所有人的分数，也就是 $f_{t,0},f_{t,1},…,f_{t,n−1}$。\n\nG 君：「诶，我发现这个数 $p$ 有特殊的性质诶！不存在两个正整数，使得他们倒数的和等于 $3/p$！」\n\nB 君：「G 君好棒！不过这个题怎么做呢？」", "inputFormat": "第一行三个整数，表示 $m,t,p$。\n\n第二行有 $n=3^m$ 个整数，表示 $f_{0,0},f_{0,1},…,f_{0,n−1}$。保证 $0≤f_{0,i}<p$。\n\n接下来的部分是一个数组 $b$，第 $1$ 行 $m+1$ 个数，第 $2$ 行 $m$ 个数……第 $m+1$ 行 $1$ 个数。\n\n其中第 $i$ 行的第 $j$ 个数为 $b_{i−1,j−1}$（$i,j≥1,i+j−2≤m$），保证 $0≤b_{i,j}<p$。\n\n不存在两个正整数，使得他们倒数的和等于 $3/p$。 即不存在正整数 $x,y>0$，使得 $1/x+1/y=3/p$。", "outputFormat": "输出 $n=3^m$ 行，每行一个整数，表示每个人最终的得分。\n\n其中第 $i$ 行表示第 $i$ 个人的得分 $f_{t,i}$。", "hint": "对于所有数据，$0≤m≤12$，$0≤t≤10^9$，$1≤p≤10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2016] 石家庄的工人阶级队伍比较坚强", "background": "B 君和 G 君在过街天桥上。  \n\nB 君：「又到冬天啦，算起来到大学已经三年多了」 \n\nG 君：「是呀」  \n\nB 君：「街上的情侣又多起来了，想想三年之前，我也是这样……」  \n\nG 君：「？？」 \n\nB 君：「……在天桥上看情侣的！」 \n\nG 君：「唔。」  \n\nB 君：「不过这次有你陪我了呢~」  \n\nG 君：「……」  \n\nB 君：「诶诶，我有个问题想问你~」  \n\nG 君：「问吧」  \n\nB 君：「假设 $n=3^m$ 个人一起玩 cei ding ke」  \n\nG 君：「啊咧？cei ding ke 是什么？」  \n\nB 君：「就是石头剪刀布~，我们也叫钉钢锤」 \n\nG 君：「你就问这个？」  \n\nB 君：「你等会，我还没说完呢」", "description": "$n=3^m$ 个人在玩石头剪刀布， 一共有 $t$ 轮游戏，每轮有 $m$ 次石头剪刀布。\n\n在同一轮的 $m$ 次游戏中，每个人的决策必须是提前确定的，也就是说不能采用随机策略，也不能根据前若干局的结果决定下一局的决策； 这样，显然一共有 $n=3^m$ 种决策。\n\n这 $n=3^m$ 个人会采取两两不同的决策。 为了方便表达，对于第 $x$（$0≤x<n$）个人，将 $x$ 转换成三进制得到一个 $m$ 位的数。 其中 $0$ 表示剪刀，$1$ 表示石头，$2$ 表示布。就得到了第 $x$ 个人采取的策略。\n\n由于编号是固定的，因此每个人在不同轮的 $m$ 次游戏中都会采取同一套决策。\n\n第 $x$ 个人在最初时有一个分数 $f_{0,x}$。\n\n在第 $i$ 轮中，他将和另一个人 $y$ 进行 $m$ 次的石头剪刀布的比赛。\n\n我们用 $W(x,y)$ 表示 $x$ 在和 $y$ 的 $m$ 次比赛中赢的次数； 用 $L(x,y)$ 表示 $x$ 在和 $y$ 的 $m$ 次比赛中输的次数。\n\n在第 $i$ 轮结束之后，第 $x$ 个人分数是：\n\n$$f_{i,x}=∑_{0≤y<n}f_{i−1,y}b_{u,v}$$\n\n其中 $u=W(x,y)=L(y,x),v=L(x,y)=W(y,x)$，平局不计入次数；$b_{u,v}$ 则是一个给定的评分数组。\n\n注意即使 $y$ 和 $x$ 一样（自己转移到自己）也会乘上一个系数 $b_{0,0}$（即自己跟自己打全为平局）。\n\n显然随着轮数越来越多，分数也会越来越大， 这个计分系统和我们平时用的计算机一样，也会溢出。 当要储存的分数 $f$ 大于等于 $p$ 的时候，就会变成 $f\\bmod p$。\n\nB 君想知道 $t$ 轮之后所有人的分数，也就是 $f_{t,0},f_{t,1},…,f_{t,n−1}$。\n\nG 君：「诶，我发现这个数 $p$ 有特殊的性质诶！不存在两个正整数，使得他们倒数的和等于 $3/p$！」\n\nB 君：「G 君好棒！不过这个题怎么做呢？」", "inputFormat": "第一行三个整数，表示 $m,t,p$。\n\n第二行有 $n=3^m$ 个整数，表示 $f_{0,0},f_{0,1},…,f_{0,n−1}$。保证 $0≤f_{0,i}<p$。\n\n接下来的部分是一个数组 $b$，第 $1$ 行 $m+1$ 个数，第 $2$ 行 $m$ 个数……第 $m+1$ 行 $1$ 个数。\n\n其中第 $i$ 行的第 $j$ 个数为 $b_{i−1,j−1}$（$i,j≥1,i+j−2≤m$），保证 $0≤b_{i,j}<p$。\n\n不存在两个正整数，使得他们倒数的和等于 $3/p$。 即不存在正整数 $x,y>0$，使得 $1/x+1/y=3/p$。", "outputFormat": "输出 $n=3^m$ 行，每行一个整数，表示每个人最终的得分。\n\n其中第 $i$ 行表示第 $i$ 个人的得分 $f_{t,i}$。", "hint": "对于所有数据，$0≤m≤12$，$0≤t≤10^9$，$1≤p≤10^9$。", "locale": "zh-CN"}}}
{"pid": "P6674", "type": "P", "difficulty": 6, "samples": [["3 5\n1\n2\n2\n1\n1", "6.656854249\n"], ["4 5\n1\n2\n2\n1\n1", "9.0\n"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2019] Card Scoring", "background": "", "description": "您下载了一款卡牌游戏。\n\n这款游戏的规则如下：\n1. 共有 $n$ 张牌，每张牌有一个种类，种类共有 $n$ 种，用 $1\\sim n$ 的整数表示，同时还有一个评分参数 $k$。\n2. 您按顺序摸这 $n$ 张牌，每张牌有两种选择，拿走或不要。\n3. 在任何情况下，您都要保证，您的手上的牌里只能有一种种类的牌。\n4. 在摸完牌后，您可以选择结算您的分数。分数的计算方式为：若您有 $x$ 张牌，您会获得 $x^{\\frac{1}{2}k}$ 的分数。结算完分数后，您的手牌将被清空，且您的总分会进行累加。\n\n现在，您决定计算，这款手牌游戏可能取得的总分的最大值是多少。", "inputFormat": "第一行为两个整数 $k,n$。\n\n接下来 $n$ 行，一行一个数，表示牌的种类。", "outputFormat": "仅一行一个实数，表示可能取得的最高分。", "hint": "#### 样例解释\n#### 样例 1 解释\n最优方案为不放弃每一张牌，摸完第一、三、五张牌后计分，分数为：$1^{1.5}+2^{1.5}+2^{1.5}\\approx 6.656854249$。\n#### 样例 2 解释\n最优方案有两种，一种是弃掉种类为 $2$ 的牌，在第五张牌摸完后计分，共得 $3^2=9$ 分。\n\n另一种同样例一，分数为：$1^{2}+2^{2}+2^{2}=9$。\n#### SPJ 计分标准\n设您的答案为 $p$，标准答案为 $q$，若 $\\frac{|p-q|}{q}\\le 10^{-6}$，您可以 AC。\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $2\\le k\\le 4$，$1\\le n\\le 10^6$，牌的种类 $\\in \\{1,n\\}$。\n\n| 子任务 | $n\\le $ | $k=$ | 分值 |\n| - | - | - | - |\n| 1 | $20$ | 无特殊限制 | $16$\n| 2 | $300$ | $2$ | $4$\n| 3 | $300$ | 无特殊限制 | $20$\n| 4 | $5\\times 10^3$ | 无特殊限制 | $12$\n| 5 | 无特殊限制 | $4$ | $12$\n| 6 | 无特殊限制 | 无特殊限制 | $36$\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%202/day2.pdf) T1 Card Scoring。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2019] Card Scoring", "background": "", "description": "您下载了一款卡牌游戏。\n\n这款游戏的规则如下：\n1. 共有 $n$ 张牌，每张牌有一个种类，种类共有 $n$ 种，用 $1\\sim n$ 的整数表示，同时还有一个评分参数 $k$。\n2. 您按顺序摸这 $n$ 张牌，每张牌有两种选择，拿走或不要。\n3. 在任何情况下，您都要保证，您的手上的牌里只能有一种种类的牌。\n4. 在摸完牌后，您可以选择结算您的分数。分数的计算方式为：若您有 $x$ 张牌，您会获得 $x^{\\frac{1}{2}k}$ 的分数。结算完分数后，您的手牌将被清空，且您的总分会进行累加。\n\n现在，您决定计算，这款手牌游戏可能取得的总分的最大值是多少。", "inputFormat": "第一行为两个整数 $k,n$。\n\n接下来 $n$ 行，一行一个数，表示牌的种类。", "outputFormat": "仅一行一个实数，表示可能取得的最高分。", "hint": "#### 样例解释\n#### 样例 1 解释\n最优方案为不放弃每一张牌，摸完第一、三、五张牌后计分，分数为：$1^{1.5}+2^{1.5}+2^{1.5}\\approx 6.656854249$。\n#### 样例 2 解释\n最优方案有两种，一种是弃掉种类为 $2$ 的牌，在第五张牌摸完后计分，共得 $3^2=9$ 分。\n\n另一种同样例一，分数为：$1^{2}+2^{2}+2^{2}=9$。\n#### SPJ 计分标准\n设您的答案为 $p$，标准答案为 $q$，若 $\\frac{|p-q|}{q}\\le 10^{-6}$，您可以 AC。\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $2\\le k\\le 4$，$1\\le n\\le 10^6$，牌的种类 $\\in \\{1,n\\}$。\n\n| 子任务 | $n\\le $ | $k=$ | 分值 |\n| - | - | - | - |\n| 1 | $20$ | 无特殊限制 | $16$\n| 2 | $300$ | $2$ | $4$\n| 3 | $300$ | 无特殊限制 | $20$\n| 4 | $5\\times 10^3$ | 无特殊限制 | $12$\n| 5 | 无特殊限制 | $4$ | $12$\n| 6 | 无特殊限制 | 无特殊限制 | $36$\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%202/day2.pdf) T1 Card Scoring。", "locale": "zh-CN"}}}
{"pid": "P6675", "type": "P", "difficulty": 2, "samples": [["2 1\nNijeZivotJedanACM -\nZivotJESTJedanACM -\nNijeZivotJedanACM -\n", "1"], ["3 2\nStoJeZivot ?1/04:00:00 +1/02:04:06\nJeLiZivotJedanACM ?1/04:59:59 -\nNijeZivotJedanACM ?1/04:42:43 -\nNijeZivotJedanACM +1/04:42:43 -\n", "2"], ["7 4\nNisamSadaNistaDonio +1/03:59:59 +3/03:42:02 +2/00:14:59 ?1/04:56:12\nJeLiMojKockaSeUmio ?4/04:00:00 -3 +1/00:10:01 +9/03:04:42\nOstaviDobroJe ?4/04:59:59 -1 +2/00:24:15 +8/03:24:45\nDobroJeOstavi +1/01:42:53 - ?9/04:58:23 ?1/04:34:43\nNijeZivotJedanACM ?2/04:50:05 ?4/04:32:12 +2/01:32:45 ?1/04:59:59\nKoSeToSeta ?1/04:23:32 - +9/01:00:00 -9\nSipSipSipSipSipSip - - - ?9/04:00:00\nNijeZivotJedanACM -2 +4/04:32:12 +2/01:32:45 +1/04:59:59\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000]}, "tags": ["模拟", "贪心", "2019", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #2] ACM", "background": null, "description": "一场有着悠久历史的比赛马上开始了，它是由 ACM 组织的。确切地说，有 $n$ 个团队将角逐头名，其中包括克罗地亚黄金三人组：Paula、Marin 和 Josip。竞赛采用标准形式，通过团队成员之间的协作，共同编写代码并提交。\n\n比赛由 $m$ 个不同的题目组成，各小组按已解决的题目数排序（不递增）。\n\n具有相同数量已解决任务的团队按所谓的罚时排序（不递减）。某个团队的罚时是他们在每一个正确解决的任务上获得的罚时的总和。正确解决的任务的罚时等于团队解决该任务所花费的时间（从比赛开始）增加。\n\n每个提交但未通过的代码将给提交该代码的团队增加 $20$ 分钟罚时。任何团队都不会为他们已经解决的问题提交代码，并且每个团队的每一个问题的最大提交次数为 $9$。如果一些团队有相同数量的问题解决和相同的罚时，他们将按字典序在排行榜中排列。\n\n比赛持续 $5$ 个小时。在前 $4$ 个小时内，所有团队都可以获得排名，并包含有关每个团队的每个题目状态的信息（提交的次数、是否已解决以及何时解决）。在这 $4$ 个小时里，队伍的排名将在每一次提交后自动更新。不过，在最后 $1$ 小时内，排行榜被冻结，即评测新提交的代码后，参赛队伍的排名不会更新。在这段时间里，每个团队都知道自己提交的代码的评测结果，但不知道其他团队提交的代码的评测结果。他们只知道其他团队提交了哪些任务、提交了多少次以及每个任务的最后一次提交时间。\n\n比赛结束了，排行榜很快就会解冻。我们的英雄，NijeZivotJedanACM 需要你的帮助。他们想知道在排行榜上最差的排名是什么，在排行榜解冻后他们最终可能会排在什么位置。请你帮助他们！", "inputFormat": "输入数据共 $n + 2$ 行。\n\n第一行两个整数 $n$ 和 $m$，表示参赛队伍的个数和题目的个数。\n\n接下来 $n$ 行，每行的输入格式如下：\n1. 首先输入队伍名称；\n2. 接下来 $m$ 个字符串，格式均为 `SX/V`，说明如下：\n- `S` 表示题目状态，共有三种字符：`-`、`+`、`?`。`-` 表示该题目该团队未通过，`+` 表示该题目该团队已通过，`?` 表示该题目最后一次提交时排行榜已冻结。\n- `X` 表示该题目该团队的提交次数。特别地，如果该题目该团队未提交，则 `X` 省略。\n- `V` 表示该题目该团队最后一次提交时比赛已经开始的时间，用 `HH:MM:SS` 表示，可能有前导零来补足。特别地，如该题目未通过，则整个 `/V` 部分省略。\n\n最后一行按照前面的格式，输入 NijeZivotJedanACM 的最终成绩（即排行榜解冻后的成绩）。", "outputFormat": "输入数据共一行。\n\n第一行，输出 NijeZivotJedanACM 可能会处在的最差排名。", "hint": "#### 数据规模及约定\n- 对于 $40\\%$ 的数据，保证所有输入的 `S` 状态均不为 `?`。\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le m \\le 15$，保证所有测试数据中，任意两个小组的名字均不同。\n\n#### 说明\n\n**本题满分 $50$ 分。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T1 ACM*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #2] ACM", "background": null, "description": "一场有着悠久历史的比赛马上开始了，它是由 ACM 组织的。确切地说，有 $n$ 个团队将角逐头名，其中包括克罗地亚黄金三人组：Paula、Marin 和 Josip。竞赛采用标准形式，通过团队成员之间的协作，共同编写代码并提交。\n\n比赛由 $m$ 个不同的题目组成，各小组按已解决的题目数排序（不递增）。\n\n具有相同数量已解决任务的团队按所谓的罚时排序（不递减）。某个团队的罚时是他们在每一个正确解决的任务上获得的罚时的总和。正确解决的任务的罚时等于团队解决该任务所花费的时间（从比赛开始）增加。\n\n每个提交但未通过的代码将给提交该代码的团队增加 $20$ 分钟罚时。任何团队都不会为他们已经解决的问题提交代码，并且每个团队的每一个问题的最大提交次数为 $9$。如果一些团队有相同数量的问题解决和相同的罚时，他们将按字典序在排行榜中排列。\n\n比赛持续 $5$ 个小时。在前 $4$ 个小时内，所有团队都可以获得排名，并包含有关每个团队的每个题目状态的信息（提交的次数、是否已解决以及何时解决）。在这 $4$ 个小时里，队伍的排名将在每一次提交后自动更新。不过，在最后 $1$ 小时内，排行榜被冻结，即评测新提交的代码后，参赛队伍的排名不会更新。在这段时间里，每个团队都知道自己提交的代码的评测结果，但不知道其他团队提交的代码的评测结果。他们只知道其他团队提交了哪些任务、提交了多少次以及每个任务的最后一次提交时间。\n\n比赛结束了，排行榜很快就会解冻。我们的英雄，NijeZivotJedanACM 需要你的帮助。他们想知道在排行榜上最差的排名是什么，在排行榜解冻后他们最终可能会排在什么位置。请你帮助他们！", "inputFormat": "输入数据共 $n + 2$ 行。\n\n第一行两个整数 $n$ 和 $m$，表示参赛队伍的个数和题目的个数。\n\n接下来 $n$ 行，每行的输入格式如下：\n1. 首先输入队伍名称；\n2. 接下来 $m$ 个字符串，格式均为 `SX/V`，说明如下：\n- `S` 表示题目状态，共有三种字符：`-`、`+`、`?`。`-` 表示该题目该团队未通过，`+` 表示该题目该团队已通过，`?` 表示该题目最后一次提交时排行榜已冻结。\n- `X` 表示该题目该团队的提交次数。特别地，如果该题目该团队未提交，则 `X` 省略。\n- `V` 表示该题目该团队最后一次提交时比赛已经开始的时间，用 `HH:MM:SS` 表示，可能有前导零来补足。特别地，如该题目未通过，则整个 `/V` 部分省略。\n\n最后一行按照前面的格式，输入 NijeZivotJedanACM 的最终成绩（即排行榜解冻后的成绩）。", "outputFormat": "输入数据共一行。\n\n第一行，输出 NijeZivotJedanACM 可能会处在的最差排名。", "hint": "#### 数据规模及约定\n- 对于 $40\\%$ 的数据，保证所有输入的 `S` 状态均不为 `?`。\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le m \\le 15$，保证所有测试数据中，任意两个小组的名字均不同。\n\n#### 说明\n\n**本题满分 $50$ 分。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T1 ACM*。**", "locale": "zh-CN"}}}
{"pid": "P6676", "type": "P", "difficulty": 3, "samples": [["5\n1 5\n2 7\n2 3\n8 4\n6 1\n", "1 3 7 5 4"], ["3\n5 1\n7 2\n4 3\n", "1 3 2"], ["5\n2 5\n2 7\n2 3\n8 4\n6 1\n", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2019", "COCI（克罗地亚）", "分类讨论"], "title": "[COCI 2019/2020 #2] Slagalica", "background": "## 本题征集 SPJ。但若您写的是正解，即，输出了字典序最小解，仍可获得 AC 的评测结果。\n\n\n小斌喜欢玩拼图。", "description": "小斌得到了一个由 $n$ 个部分组成的一维拼图游戏。他很快意识到每块拼图都属于以下类型之一：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vkiyrjd5.png)\n\n另外，已知在这 $n$ 片拼图中，恰好有一个 $5$ 号拼图或 $6$ 号拼图（左边框）和一个 $7$ 号拼图或 $8$ 号拼图（右边框）。\n\n小斌希望将所有块排列成一行，以使第一个（最左边的）拼图类型为 $5$ 号拼图或 $6$ 号拼图，而最后一个（最右边的）拼图类型为 $7$ 号拼图或 $8$ 号拼图。如果有两块拼图，则可以彼此相邻放置，并且仅当它们的相邻边框的形状不同时，即一个边框具有凹凸，而另一个边框具有一个凸出才可以相邻放置。\n\n对于小斌来说，这个问题太简单了，因此他决定在每个部分上写一个唯一的正整数。现在，他想要寻找出字典序最小的方案。\n\n注意：拼图不能旋转！\n", "inputFormat": "输入数据共 $n + 1$ 行。\n\n第一行，一个正整数 $n$。\n\n接下来，$n$ 行，包含两个整数 $x_i$ 和 $a_i$，它们表示 $i$ 的类型，$x_i$ 拼图编号，$a_i$ 表示 Fabian 在上面写的数字。数据保证所有 $a_i$ 不重复。", "outputFormat": "输出数据共一行。\n\n第一行，如果小斌无法解决拼图游戏，输出 `-1`。 否则，您应该输出拼图上数字按字典序排列最小的方案。", "hint": "#### 样例 #1 解释\n只有 $2$ 种解法，如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/lnprd06v.png)\n\n可以看出，第二种解法的字典序较小，所以输出 `1 3 7 5 4`。\n\n\n\n#### 数据规模及约定\n\n对于 $100\\%$ 的数据，$2 \\le n \\le 10^5, 1 \\le x_i \\le 8, 1 \\le a_i \\le 10^9$。\n\n没有给出字典序最小解而只构造一组解可以得到 $40\\%$ 的分数。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T2 Slagalica*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #2] Slagalica", "background": "## 本题征集 SPJ。但若您写的是正解，即，输出了字典序最小解，仍可获得 AC 的评测结果。\n\n\n小斌喜欢玩拼图。", "description": "小斌得到了一个由 $n$ 个部分组成的一维拼图游戏。他很快意识到每块拼图都属于以下类型之一：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vkiyrjd5.png)\n\n另外，已知在这 $n$ 片拼图中，恰好有一个 $5$ 号拼图或 $6$ 号拼图（左边框）和一个 $7$ 号拼图或 $8$ 号拼图（右边框）。\n\n小斌希望将所有块排列成一行，以使第一个（最左边的）拼图类型为 $5$ 号拼图或 $6$ 号拼图，而最后一个（最右边的）拼图类型为 $7$ 号拼图或 $8$ 号拼图。如果有两块拼图，则可以彼此相邻放置，并且仅当它们的相邻边框的形状不同时，即一个边框具有凹凸，而另一个边框具有一个凸出才可以相邻放置。\n\n对于小斌来说，这个问题太简单了，因此他决定在每个部分上写一个唯一的正整数。现在，他想要寻找出字典序最小的方案。\n\n注意：拼图不能旋转！\n", "inputFormat": "输入数据共 $n + 1$ 行。\n\n第一行，一个正整数 $n$。\n\n接下来，$n$ 行，包含两个整数 $x_i$ 和 $a_i$，它们表示 $i$ 的类型，$x_i$ 拼图编号，$a_i$ 表示 Fabian 在上面写的数字。数据保证所有 $a_i$ 不重复。", "outputFormat": "输出数据共一行。\n\n第一行，如果小斌无法解决拼图游戏，输出 `-1`。 否则，您应该输出拼图上数字按字典序排列最小的方案。", "hint": "#### 样例 #1 解释\n只有 $2$ 种解法，如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/lnprd06v.png)\n\n可以看出，第二种解法的字典序较小，所以输出 `1 3 7 5 4`。\n\n\n\n#### 数据规模及约定\n\n对于 $100\\%$ 的数据，$2 \\le n \\le 10^5, 1 \\le x_i \\le 8, 1 \\le a_i \\le 10^9$。\n\n没有给出字典序最小解而只构造一组解可以得到 $40\\%$ 的分数。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T2 Slagalica*。**", "locale": "zh-CN"}}}
{"pid": "P6677", "type": "P", "difficulty": 5, "samples": [["1\n5\n12113\n1 3 3\n2 5 2\n", "neispravna triangulacija"], ["1\n4\n1212\n1 3 2\n", "neispravno bojenje\n"], ["1\n7\n1223121\n1 3 3\n3 5 1\n5 7 3\n7 3 2\n", "tocno"]], "limits": {"time": [2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790, 2790], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2019", "二分", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #2] Checker", "background": "\n> \"...fool me once, shame on — shame on you. Fool me — you can't get fooled again.\" — W", "description": "有一种规则多边形 ，它们的 $n$ 边分别用某三种颜色之一着色，并且其顶点按顺时针顺序从 $1$ 到 $n$ 表示。\n\n多边形的三角剖分是指将其面积分解为一组不重叠的三角形的操作，这些三角形的边可能是多边形的边或其内对角线上。当然，在此任务中，用于多边形三角剖分的每条对角线也用三种颜色之一着色。\n\n如果每个三角形的 $n\\space−\\space2$ 个三角形的所有三个面都具有不同的颜色，则称这样的三角剖分是“非常好”的。\n\n您的任务是确定给定的对角线多边形是否被三角剖分以及该三角剖分是否非常好。", "inputFormat": "输入数据共 $n$ 行。\n\n第一行，一个正整数 $T$，表示这个数据对应的 Subtask 编号。\n\n第二行，一个正整数 $n$，含义见 **题目描述** 部分。\n\n第三行，一个 $n$ 位数正整数，这些数字代表多边形边的颜色。更准确地说，第一个数字代表边 $(1, 2)$ 的颜色，第二个数字代表边 $(2, 3)$ 的颜色，第 $i$ 个数字表示边 $(i, i+1)$ 的颜色，**特别的**，第 $n$ 个数字表示边 $(n, 1)$ 的颜色。颜色用数字 $1, 2, 3$ 表示。\n\n接下来的 $n-3$ 行，每一行都包含对一个对角线的描述，格式为 `x y c`，其中 $x$ 和 $y$ 是多边形顶点，$c$ 是对角线的颜色。数据保证顶点 $x$ 和 $y$ 既不相等也不相邻。\n", "outputFormat": "输出数据共一行。\n\n- 如果输入多边形没有正确三角剖分，则应输出 $\\mathtt{neispravna \\space triangulacija}$。\n- 如果输入多边形有正确三角剖分，但三角剖分不是好的，则应输出 $\\mathtt{neispravno \\space bojenje}$。\n- 否则，输出 $\\mathtt{tocno}$。", "hint": "#### 数据规模及约定\n\n本题采用 **捆绑测试**。\n\n| Subtask 编号 | Subtask 分数 | Subtask 数据规模及约定 |\n| :----------- | :----------- | :----------- |\n| $1$ | $12$ | $4 \\le n \\le 300$ |\n| $2$ | $17$ | $4 \\le n \\le 2000$ |\n| $3$ | $23$ | $4 \\le n \\le 2 \\times 10^5$，数据保证输出为 $\\mathtt{neispravna \\space triangulacija}$ 或 $\\mathtt{tocno}$ |\n| $4$ | $23$ | $4 \\le n \\le 2 \\times 10^5$，数据保证输出为 $\\mathtt{neispravno \\space bojenje}$ 或 $\\mathtt{tocno}$ |\n| $5$ | $35$ | $4 \\le n \\le 2 \\times 10^5$ |\n\n**特别的**，对于 $100\\%$ 的数据，$1\\le T\\le 5$。\n \n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T3 Checker*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #2] Checker", "background": "\n> \"...fool me once, shame on — shame on you. Fool me — you can't get fooled again.\" — W", "description": "有一种规则多边形 ，它们的 $n$ 边分别用某三种颜色之一着色，并且其顶点按顺时针顺序从 $1$ 到 $n$ 表示。\n\n多边形的三角剖分是指将其面积分解为一组不重叠的三角形的操作，这些三角形的边可能是多边形的边或其内对角线上。当然，在此任务中，用于多边形三角剖分的每条对角线也用三种颜色之一着色。\n\n如果每个三角形的 $n\\space−\\space2$ 个三角形的所有三个面都具有不同的颜色，则称这样的三角剖分是“非常好”的。\n\n您的任务是确定给定的对角线多边形是否被三角剖分以及该三角剖分是否非常好。", "inputFormat": "输入数据共 $n$ 行。\n\n第一行，一个正整数 $T$，表示这个数据对应的 Subtask 编号。\n\n第二行，一个正整数 $n$，含义见 **题目描述** 部分。\n\n第三行，一个 $n$ 位数正整数，这些数字代表多边形边的颜色。更准确地说，第一个数字代表边 $(1, 2)$ 的颜色，第二个数字代表边 $(2, 3)$ 的颜色，第 $i$ 个数字表示边 $(i, i+1)$ 的颜色，**特别的**，第 $n$ 个数字表示边 $(n, 1)$ 的颜色。颜色用数字 $1, 2, 3$ 表示。\n\n接下来的 $n-3$ 行，每一行都包含对一个对角线的描述，格式为 `x y c`，其中 $x$ 和 $y$ 是多边形顶点，$c$ 是对角线的颜色。数据保证顶点 $x$ 和 $y$ 既不相等也不相邻。\n", "outputFormat": "输出数据共一行。\n\n- 如果输入多边形没有正确三角剖分，则应输出 $\\mathtt{neispravna \\space triangulacija}$。\n- 如果输入多边形有正确三角剖分，但三角剖分不是好的，则应输出 $\\mathtt{neispravno \\space bojenje}$。\n- 否则，输出 $\\mathtt{tocno}$。", "hint": "#### 数据规模及约定\n\n本题采用 **捆绑测试**。\n\n| Subtask 编号 | Subtask 分数 | Subtask 数据规模及约定 |\n| :----------- | :----------- | :----------- |\n| $1$ | $12$ | $4 \\le n \\le 300$ |\n| $2$ | $17$ | $4 \\le n \\le 2000$ |\n| $3$ | $23$ | $4 \\le n \\le 2 \\times 10^5$，数据保证输出为 $\\mathtt{neispravna \\space triangulacija}$ 或 $\\mathtt{tocno}$ |\n| $4$ | $23$ | $4 \\le n \\le 2 \\times 10^5$，数据保证输出为 $\\mathtt{neispravno \\space bojenje}$ 或 $\\mathtt{tocno}$ |\n| $5$ | $35$ | $4 \\le n \\le 2 \\times 10^5$ |\n\n**特别的**，对于 $100\\%$ 的数据，$1\\le T\\le 5$。\n \n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T3 Checker*。**", "locale": "zh-CN"}}}
{"pid": "P6678", "type": "P", "difficulty": 5, "samples": [["2 2\n", "1\nA=(A-((A&2)>>1))\n"], ["3 5\n", "2\nA=((A&4)|((A&3)-((A&2)>>1)))\nA=((A&3)+((A&4)>>2))\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 3000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 3000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2019", "Special Judge", "构造", "COCI（克罗地亚）"], "title": "[COCI 2019/2020 #2] Popcount", "background": "Miniature Algebraic Natural Relay 是小型可编程设备的最新技术进步。 您可以使用 MalnarScript 为此设备编写自己的程序。\n\n", "description": "程序要求如下：\n\n- 程序的输入是一个严格小于 $2^n$ 的单个非负整数。\n- 程序的输出是一个严格小于 $2^n$ 的单个非负整数。\n- 使用 MalnarScript 进行编程时，您只能使用一个 $n$ 位无符号整数变量 $a$。在程序的开头，此变量保存输入，并且其在程序末尾的值被视为程序的输出。\n- MalnarScript 的源代码最多必须包含 $k$ 个格式为 $\\texttt{a = <expr>}$ 的命令，这些命令按顺序执行，并且每个命令最多包含 $10^3$ 个字符。 \n\n符号 $\\texttt{<expr>}$ 的递归定义如下：\n\n$$\\texttt{<expr> = A | <num> | (<expr><operator><expr>)}$$\n\n换句话说，符号 $\\texttt{<expr>}$ 可以是变量 $a$ ，也可以符合符号 $\\texttt{<num>}$ 的定义，或者在括号内表示二元表达式，其中每个操作数均符合相同的 $\\texttt{<expr>}$ 定义。\n\n上面定义中的符号 $\\texttt{<num>}$ 表示严格小于 $2^n$ 的非负十进制整数。而符号 $\\texttt{<operator>}$ 可以是 $\\texttt{+}$，$\\texttt{-}$，$\\texttt{|}$，$\\texttt{\\&}$，$\\texttt{<<}$ 或 $\\texttt{>>}$，分别表示：加，减，按位或，按位与，左移和右移的运算。\n\n此外，字符 $a$ 在 $\\texttt{<expr>}$ 符号中最多出现 $5$ 次。\n\n在执行加减运算时出现溢出或下溢时，MalnarScript 将以 $2^n$ 为模执行这些运算。例如，当 $n = 3$ 时，在 MalnarScript 中，$7 + 3 = 2$，$2 - 5 = 5$。\n\n每个命令中方程式的右侧求和为一个数字，然后将其存储到 $a$ 中。为了计算右侧表达式，MalnarScript 首先将每次出现的 $a$ 替换为其当前值。 然后，像在任何数学表达式中一样进行表达式的计算，即，括号优先。请注意，运算符的优先级（按照运算顺序）是不相关的，因为最终结果完全由括号的位置定义。\n\n您的任务是编写一个程序，该程序在 MalnarScript 中输出程序，该程序以输入值的二进制表示形式计算一个数。\n", "inputFormat": "第一行，两个正整数 $n, k$，含义见 **题目描述**。", "outputFormat": "第一行中，您应该输出产生的 MalnarScript 程序的命令数。\n\n在其余各行中，您应该输出所需程序的命令。每个命令必须在单独的行中输出，并且必须满足任务描述中所述的 MalnarScript 语法。\n\n重要的是，输出中不要有不必要的空行或多余的空格字符。\n每行（包括最后一行）必须以换行（`\\n`）结尾。", "hint": "#### 数据范围及约定\n\n| Subtask | 分数 | 数据范围及约定 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $15$ | $2 \\le n \\le 100$，$k = n \\ − \\ 1$ |\n| $2$ | $15$ | $n = 500$，$k = 128$ |\n| $3$ | $35$ | $1 \\le n \\le 40$，$k = 7$ |\n| $4$ | $45$ | $100 \\le n \\le 500$，$k = 10$ |\n\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T4 Popcount*。**\n\n感谢 @[Sprague_Garundy](https://www.luogu.com.cn/user/764746) 提供的 SPJ，SPJ 可以在题目附件处下载。\n\n另外，由于 `testlib` 库在洛谷环境下生成随机数在 $N=31$ 时有问题，采用固定已生成随机数。部分测试点 $N$ 较大，Special Judge 程序运行较久，如下。\n\n| 特殊测试点编号 | 时限 |\n|:-:|:-:|\n| 15 | 3s |\n| 39 | 2s |\n| 40 | 3s |\n| 48 | 3s |\n\n上述测试点时限仅用于 Special Judge 程序使用。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2019/2020 #2] Popcount", "background": "Miniature Algebraic Natural Relay 是小型可编程设备的最新技术进步。 您可以使用 MalnarScript 为此设备编写自己的程序。\n\n", "description": "程序要求如下：\n\n- 程序的输入是一个严格小于 $2^n$ 的单个非负整数。\n- 程序的输出是一个严格小于 $2^n$ 的单个非负整数。\n- 使用 MalnarScript 进行编程时，您只能使用一个 $n$ 位无符号整数变量 $a$。在程序的开头，此变量保存输入，并且其在程序末尾的值被视为程序的输出。\n- MalnarScript 的源代码最多必须包含 $k$ 个格式为 $\\texttt{a = <expr>}$ 的命令，这些命令按顺序执行，并且每个命令最多包含 $10^3$ 个字符。 \n\n符号 $\\texttt{<expr>}$ 的递归定义如下：\n\n$$\\texttt{<expr> = A | <num> | (<expr><operator><expr>)}$$\n\n换句话说，符号 $\\texttt{<expr>}$ 可以是变量 $a$ ，也可以符合符号 $\\texttt{<num>}$ 的定义，或者在括号内表示二元表达式，其中每个操作数均符合相同的 $\\texttt{<expr>}$ 定义。\n\n上面定义中的符号 $\\texttt{<num>}$ 表示严格小于 $2^n$ 的非负十进制整数。而符号 $\\texttt{<operator>}$ 可以是 $\\texttt{+}$，$\\texttt{-}$，$\\texttt{|}$，$\\texttt{\\&}$，$\\texttt{<<}$ 或 $\\texttt{>>}$，分别表示：加，减，按位或，按位与，左移和右移的运算。\n\n此外，字符 $a$ 在 $\\texttt{<expr>}$ 符号中最多出现 $5$ 次。\n\n在执行加减运算时出现溢出或下溢时，MalnarScript 将以 $2^n$ 为模执行这些运算。例如，当 $n = 3$ 时，在 MalnarScript 中，$7 + 3 = 2$，$2 - 5 = 5$。\n\n每个命令中方程式的右侧求和为一个数字，然后将其存储到 $a$ 中。为了计算右侧表达式，MalnarScript 首先将每次出现的 $a$ 替换为其当前值。 然后，像在任何数学表达式中一样进行表达式的计算，即，括号优先。请注意，运算符的优先级（按照运算顺序）是不相关的，因为最终结果完全由括号的位置定义。\n\n您的任务是编写一个程序，该程序在 MalnarScript 中输出程序，该程序以输入值的二进制表示形式计算一个数。\n", "inputFormat": "第一行，两个正整数 $n, k$，含义见 **题目描述**。", "outputFormat": "第一行中，您应该输出产生的 MalnarScript 程序的命令数。\n\n在其余各行中，您应该输出所需程序的命令。每个命令必须在单独的行中输出，并且必须满足任务描述中所述的 MalnarScript 语法。\n\n重要的是，输出中不要有不必要的空行或多余的空格字符。\n每行（包括最后一行）必须以换行（`\\n`）结尾。", "hint": "#### 数据范围及约定\n\n| Subtask | 分数 | 数据范围及约定 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $15$ | $2 \\le n \\le 100$，$k = n \\ − \\ 1$ |\n| $2$ | $15$ | $n = 500$，$k = 128$ |\n| $3$ | $35$ | $1 \\le n \\le 40$，$k = 7$ |\n| $4$ | $45$ | $100 \\le n \\le 500$，$k = 10$ |\n\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T4 Popcount*。**\n\n感谢 @[Sprague_Garundy](https://www.luogu.com.cn/user/764746) 提供的 SPJ，SPJ 可以在题目附件处下载。\n\n另外，由于 `testlib` 库在洛谷环境下生成随机数在 $N=31$ 时有问题，采用固定已生成随机数。部分测试点 $N$ 较大，Special Judge 程序运行较久，如下。\n\n| 特殊测试点编号 | 时限 |\n|:-:|:-:|\n| 15 | 3s |\n| 39 | 2s |\n| 40 | 3s |\n| 48 | 3s |\n\n上述测试点时限仅用于 Special Judge 程序使用。", "locale": "zh-CN"}}}
{"pid": "P6679", "type": "P", "difficulty": 5, "samples": [["0\n4\n1 1\n5 1\n4 3\n2 2\n4\n3 2\n2 4\n6 2\n4 5\n", "DA\nNE\nDA\nNE"], ["0\n6\n-1 -1\n2 -1\n3 3\n2 4\n1 4\n-2 1\n6\n2 2\n3 0\n1 -6\n2 6\n-5 5\n5 10\n", "DA\nDA\nNE\nNE\nNE\nNE"], ["1\n6\n-1 -1\n2 -1\n3 3\n2 4\n1 4\n-2 1\n6\n2 2\n3 0\n1 -6\n2 6\n-5 5\n5 10\n", "DA\nDA\nDA\nNE\nNE\nNE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "2019", "COCI（克罗地亚）", "平面几何"], "title": "[COCI 2019/2020 #2] Zvijezda", "background": null, "description": "Mirko and Slavko are spending their free time playing with polygons and watching a new season of *The Biggest Loser*. Mirko recently drew a convex polygon with an even number of vertices $N$. Slavko then considered each pair of oposite sides (two sides are opposite if there are $\\dfrac N2 - 1$ sides between them), drew straight lines that lie on those sides and colored them along with the part of the plane that lies between them and contains the polygon. Finally, Mirko found a set of $Q $ points and decided to challenge Slavko to answer for each point whether it lies in the colored or uncolored part of the plane. The new episode of *The Biggest Loser* is about to start and Slavko doesn’t have the time to answer Mirko’s queries. Can you help him?", "inputFormat": "The first line contains an integer $T$ which is used as a parameter for generating Mirko's queries. This number can be either $0$ or $1$.\n\nThe second line contains an even integer $N$ from the task description.\n\nEach of the next $N$ lines contains two integers $X_i, Y_i$ ($0\\leq|X_i|,|Y_i|\\leq10^9$) which represent one of the polygon's vertices. You can assume that the vertices are given in the counter - clockwise order and that no three successive vertices are collinear.\n\nThe next line contains an integer $Q$ from the task description.\n\nEach of the next $Q$ lines contains two integers $A_i, B_i$ ($0\\leq|A_i|,|B_i|\\leq2\\cdot10^{18}$) which are used as parameters for generating the point in the $i$ - th of Mirko's queries.\n\nLet $X_i$ be equal to the number of points in the first $i$ (inclusive) of Mirko's queries that lie in the colored part of the plane. Naturally, $X_0 = 0$. The point of Mirko's $i$ - th query should then be generated as:\n\n$$\nP_i=(A_i\\oplus(T\\cdot X_{i - 1}^3),B_i\\oplus(T\\cdot X_{i - 1}^3))\n$$\n\nwhere $\\oplus$ represents the bitwise xor operation.", "outputFormat": "The $i$ - th line of output should contain the word `DA` (YES in Croatian) if the point from $i$ - th of Mirko's queries lies in the colored part of the plane. Otherwise, the $i$ - th line should contain the word `NE` (NO in Croatian).", "hint": "#### 数据规模及约定\n\n本题采用捆绑测试。\n\n| Subtask | Scores | Constraints |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $20$ | $1 \\le n, q \\le 2000$，$T = 0$|\n| $2$ | $30$ | $1 \\le n, q \\le 10^5$，$T = 0$|\n| $3$ | $60$ | $1 \\le n, q \\le 10^5$，$T = 1$|。\n\n此外，对于 $100\\%$ 的数据，$0 \\le |x_i|, |y_i| \\le 10^9, 0 \\le |a_i|, |b_i| \\le 2 \\times 10^{18}$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T5 Zvijezda*。**", "locale": "en", "translations": {"en": {"title": "[COCI 2019/2020 #2] Zvijezda", "background": null, "description": "Mirko and Slavko are spending their free time playing with polygons and watching a new season of *The Biggest Loser*. Mirko recently drew a convex polygon with an even number of vertices $N$. Slavko then considered each pair of oposite sides (two sides are opposite if there are $\\dfrac N2 - 1$ sides between them), drew straight lines that lie on those sides and colored them along with the part of the plane that lies between them and contains the polygon. Finally, Mirko found a set of $Q $ points and decided to challenge Slavko to answer for each point whether it lies in the colored or uncolored part of the plane. The new episode of *The Biggest Loser* is about to start and Slavko doesn’t have the time to answer Mirko’s queries. Can you help him?", "inputFormat": "The first line contains an integer $T$ which is used as a parameter for generating Mirko's queries. This number can be either $0$ or $1$.\n\nThe second line contains an even integer $N$ from the task description.\n\nEach of the next $N$ lines contains two integers $X_i, Y_i$ ($0\\leq|X_i|,|Y_i|\\leq10^9$) which represent one of the polygon's vertices. You can assume that the vertices are given in the counter - clockwise order and that no three successive vertices are collinear.\n\nThe next line contains an integer $Q$ from the task description.\n\nEach of the next $Q$ lines contains two integers $A_i, B_i$ ($0\\leq|A_i|,|B_i|\\leq2\\cdot10^{18}$) which are used as parameters for generating the point in the $i$ - th of Mirko's queries.\n\nLet $X_i$ be equal to the number of points in the first $i$ (inclusive) of Mirko's queries that lie in the colored part of the plane. Naturally, $X_0 = 0$. The point of Mirko's $i$ - th query should then be generated as:\n\n$$\nP_i=(A_i\\oplus(T\\cdot X_{i - 1}^3),B_i\\oplus(T\\cdot X_{i - 1}^3))\n$$\n\nwhere $\\oplus$ represents the bitwise xor operation.", "outputFormat": "The $i$ - th line of output should contain the word `DA` (YES in Croatian) if the point from $i$ - th of Mirko's queries lies in the colored part of the plane. Otherwise, the $i$ - th line should contain the word `NE` (NO in Croatian).", "hint": "#### 数据规模及约定\n\n本题采用捆绑测试。\n\n| Subtask | Scores | Constraints |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $20$ | $1 \\le n, q \\le 2000$，$T = 0$|\n| $2$ | $30$ | $1 \\le n, q \\le 10^5$，$T = 0$|\n| $3$ | $60$ | $1 \\le n, q \\le 10^5$，$T = 1$|。\n\n此外，对于 $100\\%$ 的数据，$0 \\le |x_i|, |y_i| \\le 10^9, 0 \\le |a_i|, |b_i| \\le 2 \\times 10^{18}$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T5 Zvijezda*。**", "locale": "en"}, "zh-CN": {"title": "[COCI 2019/2020 #2] Zvijezda", "background": null, "description": "Mirko 和 Slavko 正在通过玩多边形和观看新一季的《The Biggest Loser》来打发空闲时间。Mirko 最近画了一个有偶数个顶点 $N$ 的凸多边形。然后 Slavko 考虑每对相对的边（如果两边之间有 $\\frac N2 - 1$ 条边，则它们是相对的），画出位于这些边上的直线，并将它们与包含多边形的平面部分一起着色。最后，Mirko 找到了一组 $Q$ 个点，并决定挑战 Slavko，要求他回答每个点是位于着色部分还是未着色部分。新的《The Biggest Loser》剧集即将开始，Slavko 没有时间回答 Mirko 的查询。你能帮助他吗？", "inputFormat": "第一行，一个整数 $T$，它用于生成 Mirko 查询的参数。该数字只能是 $0$ 或 $1$。\n\n第二行，一个正整数 $n$。\n\n第 $3 \\sim n + 2$ 行，每行 $2$ 个正整数 $x_i, y_i$。表示多边形的一个顶点。顶点是按逆时针顺序给出的，没有三个连续的顶点是共线的。\n\n第 $n + 3$ 行，一个正整数 $q$。\n\n接下来 $q$ 行，每行都有两个整数 $a_i, b_i$，它们用作在第 $i$ 个 Mirko 查询中生成点的参数。$x_i$ 等于 Mirko 查询的第 $i$ 个（含 $i$ 点）在平面彩色部分上的点数。当然，$x_0 = 0$。然后，应将 Mirko 第 $i$ 个查询的点生成为：\n\n$$p_i = (a_i \\oplus (T \\times x^{3}_{i-1}), b_i \\oplus(T \\times x^{3}_{i-1}))$$\n\n其中 $\\oplus$ 代表按位异或运算。", "outputFormat": "如果 Mirko 查询的第 $i$ 个点位于平面的有色部分，则输出的第 $i$ 行为 $\\tt DA$。否则，第 $i$ 行为 $\\tt NE$。", "hint": "#### 数据规模及约定\n\n本题采用捆绑测试。\n\n| Subtask 编号 | 分值 | 数据范围 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $20$ | $1 \\le n, q \\le 2000$，$T = 0$|\n| $2$ | $30$ | $1 \\le n, q \\le 10^5$，$T = 0$|\n| $3$ | $60$ | $1 \\le n, q \\le 10^5$，$T = 1$|。\n\n此外，对于 $100\\%$ 的数据，$0 \\le |x_i|, |y_i| \\le 10^9, 0 \\le |a_i|, |b_i| \\le 2 \\times 10^{18}$。\n\n#### 说明\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2019-2020](https://hsin.hr/coci/archive/2019_2020/) [CONTEST #2](https://hsin.hr/coci/archive/2019_2020/contest2_tasks.pdf) *T5 Zvijezda*。**\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P6680", "type": "P", "difficulty": 5, "samples": [["6 4\n1 2\n1 4\n4 6\n4 5", "6"], ["7 6\n2 3\n2 6\n2 7\n1 3\n1 4\n1 5\n", "16\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "CCO（加拿大）", "启发式合并"], "title": "[CCO 2019] Marshmallow Molecules", "background": "", "description": "有一个有 $N$ 个点，$M$ 条边的无向图，图无重边，无自环。\n\n如果 $a<b<c$ 且 $a$ 到 $b$ 有边，$a$ 到 $c$ 也有边，则 $b$ 到 $c$ 会连上一条边。\n\n求最后的边数。", "inputFormat": "第一行为两个整数 $N$ 和 $M$。\n\n接下来 $M$ 行，每行两个整数 $a_i$ 和 $b_i$，表示有一条从 $a_i$ 连到 $b_i$ 的边。", "outputFormat": "仅一行一个整数，表示最后的边数。", "hint": "#### 样例 1 解释\n需要添加 $(2,4),(5,6)$ 两条边。\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N,M\\le 10^5$，$1\\le a_i<b_i\\le N$。\n\n| 子任务 | $N\\le $ | 特殊限制 | 分值\n| :-: |:-: |:-:| :-:\n| 1 | $100$ | 无 | $20$\n| 2 | $5\\times 10^3$ | 无 | $20$\n| 3 | 无特殊限制 | 对于每个 $1\\le j\\le N$ 均有至少一组 $(a_i,b_i)$ 且 $b_i=j$ | $20$\n| 4 | 无特殊限制 | 无 | $40$\n#### 说明\n本题译自 [Canadian Computing Olympiad 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%202/day2.pdf) T2 Marshmallow Molecules。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2019] Marshmallow Molecules", "background": "", "description": "有一个有 $N$ 个点，$M$ 条边的无向图，图无重边，无自环。\n\n如果 $a<b<c$ 且 $a$ 到 $b$ 有边，$a$ 到 $c$ 也有边，则 $b$ 到 $c$ 会连上一条边。\n\n求最后的边数。", "inputFormat": "第一行为两个整数 $N$ 和 $M$。\n\n接下来 $M$ 行，每行两个整数 $a_i$ 和 $b_i$，表示有一条从 $a_i$ 连到 $b_i$ 的边。", "outputFormat": "仅一行一个整数，表示最后的边数。", "hint": "#### 样例 1 解释\n需要添加 $(2,4),(5,6)$ 两条边。\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N,M\\le 10^5$，$1\\le a_i<b_i\\le N$。\n\n| 子任务 | $N\\le $ | 特殊限制 | 分值\n| :-: |:-: |:-:| :-:\n| 1 | $100$ | 无 | $20$\n| 2 | $5\\times 10^3$ | 无 | $20$\n| 3 | 无特殊限制 | 对于每个 $1\\le j\\le N$ 均有至少一组 $(a_i,b_i)$ 且 $b_i=j$ | $20$\n| 4 | 无特殊限制 | 无 | $40$\n#### 说明\n本题译自 [Canadian Computing Olympiad 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%202/day2.pdf) T2 Marshmallow Molecules。", "locale": "zh-CN"}}}
{"pid": "P6681", "type": "P", "difficulty": 5, "samples": [["4 3\n101\n10\n1\n100\n", "3"], ["4 4\n1011\n1000\n1111\n1001", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "CCO（加拿大）"], "title": "[CCO 2019] Bad Codes", "background": "", "description": "有 $N$ 个长度至多为 $M$ 的字符串。\n\n字符串之间可以随意拼接。\n\n如果可以用不同的方法拼接出两个相同的字符串，则请输出可能存在的这种字符串的最小长度，否则，请输出 `-1`。", "inputFormat": "第一行为两个整数 $N,M$。\n\n接下来 $N$ 行，一行一个长度至多为 $M$ 的字符串。", "outputFormat": "如果可以用不同的方法拼接出两个相同的字符串，则请输出可能存在的这种字符串的最小长度，否则，请输出 `-1`。", "hint": "#### 样例 1 解释\n拼接第二个字符串与第三个字符串可以得到第一个字符串。\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N,M\\le 50$，读入的字符串里无空串，读入的字符 $\\in \\{0,1\\}$。\n\n| 子任务 | $N=$ | $M\\le$ | 特殊限制 | 分数\n| :-: | :-: | :-: | :-: |:-:\n| 1 | $4$ | $6$ | 无 | $16$\n| 2 | 无特殊限制 | 无特殊限制 | 每一个字符串包含一个 `1`，如 `00100`。| $28$\n| 3 | 无特殊限制 | 无特殊限制 | 无 | $56$\n#### 说明\n本题译自 [Canadian Computing Olympiad 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%202/day2.pdf) T3 Bad Codes。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2019] Bad Codes", "background": "", "description": "有 $N$ 个长度至多为 $M$ 的字符串。\n\n字符串之间可以随意拼接。\n\n如果可以用不同的方法拼接出两个相同的字符串，则请输出可能存在的这种字符串的最小长度，否则，请输出 `-1`。", "inputFormat": "第一行为两个整数 $N,M$。\n\n接下来 $N$ 行，一行一个长度至多为 $M$ 的字符串。", "outputFormat": "如果可以用不同的方法拼接出两个相同的字符串，则请输出可能存在的这种字符串的最小长度，否则，请输出 `-1`。", "hint": "#### 样例 1 解释\n拼接第二个字符串与第三个字符串可以得到第一个字符串。\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N,M\\le 50$，读入的字符串里无空串，读入的字符 $\\in \\{0,1\\}$。\n\n| 子任务 | $N=$ | $M\\le$ | 特殊限制 | 分数\n| :-: | :-: | :-: | :-: |:-:\n| 1 | $4$ | $6$ | 无 | $16$\n| 2 | 无特殊限制 | 无特殊限制 | 每一个字符串包含一个 `1`，如 `00100`。| $28$\n| 3 | 无特殊限制 | 无特殊限制 | 无 | $56$\n#### 说明\n本题译自 [Canadian Computing Olympiad 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%202/day2.pdf) T3 Bad Codes。\n", "locale": "zh-CN"}}}
{"pid": "P6682", "type": "P", "difficulty": 6, "samples": [["1\n7\n\n1\n\n1\n\n0\n\n0\n\n1\n", "\n\n? 2\n\n? 7\n\n? 4\n\n? 1\n\n? 5\n\n= 4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "交互题", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2020] 染色 (Day1)", "background": "", "description": "Linda 喜欢时不时改变她头发的颜色，如果她的男友 Archie 注意到她头发颜色发生了改变，Linda 会十分高兴。当且仅当 Archie 发现 Linda 的头发颜色发生改变时，Archie 才会去评论 Linda 头发的新颜色。这意味着 Linda 始终可以知道 Archie 是否发现她的头发颜色有改变。\n\n现在市场上有一个新染发剂系列，该染发剂系列有 $N$ 种颜色，从 $1$ 到 $N$ 编号。两个颜色的相近程度与它们编号的差值有关——差值越小，则越相近。\n\nLinda 发现，对于该系列的染发剂，存在一个色差阈值 $C$（$1 \\leq C \\leq N$）。具体来说，假如 Linda 之前使用的染发剂颜色编号为 $color_{prew}$，Linda 接下来打算使用的染发剂颜色编号为 $color_{new}$，则 Archie 会注意到 Linda 的颜色头发差异，当且仅当 $\\left | color_{new}-color_{prew}\\right | \\geq C$。\n\n现在 Linda 买下了一套该系列的染发剂，准备做一个实验。她会不断地更换头发的颜色，并观察 Archie 是否注意到了头发颜色发生改变。因为染发剂有限，每种颜色的染发剂最多只能使用一次。\n\n在实验开始之前，Linda 使用的是另外一个系列的染发剂，因此讨论第一次染发后 Archie 的反应是没有意义的。\n\n现在 Linda 想要通过有限的时间找到阈值 $C$，请写一个程序帮助她完成这个任务。\n\n### 交互方式\n\n本题是一道交互题。\n\n**与原题不同的是，为了压缩数据组数，本题单个测试点中将包含多组数据。**\n\n输入第一行包含一个整数 $T$，表示该测试点的数据组数。\n\n对于每组数据，你首先将读入一个整数 $N$，代表该系列染发剂的颜色数量。\n\n接下来，你可以按如下形式输出来进行询问：`? P`。其中 $P$ 代表 Linda 下一次要使用的染发剂的颜色编号。你输出的 $P$ 需要满足 $1 \\leq P \\leq N$，且任意两次询问的 $P$ 均不相同。\n\n在询问过后，你的程序将读入一个整数，若这个整数为 $1$，代表 Archie 注意到了 Linda 头发颜色的变化；若为 $0$，则表示他没有注意到颜色的变化。\n\n当你确认了阙值 $C$ 后，按如下格式输出答案：`= C`。\n\n如果答案正确，将会直接进入下一组数据的交互。\n\n如果答案错误，交互器将直接终止你的程序。\n\n对于每组测试数据，你的程序可以最多进行 $64$ 次询问（最后输出答案不算作询问）。\n\n请注意，一般情况下程序的输出会存放在缓冲区中，为了确保你的输出能被交互库接收，请在输出一行之后刷新缓冲区。\n\n- 对于 C++ 语言，可以使用 `std::cout<<std::endl` 来在输出换行的同时刷新缓冲区；\n- 对于 Java 语言，可以使用 `System.out.flush();` 来刷新缓冲区；\n- 对于 Python 语言，可以使用 `sys.stdout.flush()` 来刷新缓冲区。", "inputFormat": "", "outputFormat": "", "hint": "### 样例解释\n\n为了方便各位理解交互过程，部分行之间人为添加了空行。\n\n下面依次解释每次询问过程：\n\n1. 这一次询问的结果无意义。\n2. 此次询问后有 $C \\leq 5$；\n3. 此次询问后有 $3 \\lt C \\leq 5$，这时候可以考虑检测差值为 $4$ 时的情况。但因为 $4+4=8$ 和 $4-4=0$ 都不合法，因此不再考虑这么做。\n4. 此次询问后有 $3 \\lt C \\leq 5$。\n5. 此次询问后有 $3 \\lt C \\leq 4$，即 $C=4$。\n\n### 子任务\n\n所有数据均满足：$1 \\leq T \\leq 1200$，$1 < N \\leq 10^{18}$。\n\n- 子任务 1（9 分）：$N \\leq 64$；\n- 子任务 2（13 分）：$N \\leq 125$；\n- 子任务 3（21 分）：$N \\leq 10^3$；\n- 子任务 4（24 分）：$N \\leq 10^9$；\n- 子任务 5（33 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2020] 染色 (Day1)", "background": "", "description": "Linda 喜欢时不时改变她头发的颜色，如果她的男友 Archie 注意到她头发颜色发生了改变，Linda 会十分高兴。当且仅当 Archie 发现 Linda 的头发颜色发生改变时，Archie 才会去评论 Linda 头发的新颜色。这意味着 Linda 始终可以知道 Archie 是否发现她的头发颜色有改变。\n\n现在市场上有一个新染发剂系列，该染发剂系列有 $N$ 种颜色，从 $1$ 到 $N$ 编号。两个颜色的相近程度与它们编号的差值有关——差值越小，则越相近。\n\nLinda 发现，对于该系列的染发剂，存在一个色差阈值 $C$（$1 \\leq C \\leq N$）。具体来说，假如 Linda 之前使用的染发剂颜色编号为 $color_{prew}$，Linda 接下来打算使用的染发剂颜色编号为 $color_{new}$，则 Archie 会注意到 Linda 的颜色头发差异，当且仅当 $\\left | color_{new}-color_{prew}\\right | \\geq C$。\n\n现在 Linda 买下了一套该系列的染发剂，准备做一个实验。她会不断地更换头发的颜色，并观察 Archie 是否注意到了头发颜色发生改变。因为染发剂有限，每种颜色的染发剂最多只能使用一次。\n\n在实验开始之前，Linda 使用的是另外一个系列的染发剂，因此讨论第一次染发后 Archie 的反应是没有意义的。\n\n现在 Linda 想要通过有限的时间找到阈值 $C$，请写一个程序帮助她完成这个任务。\n\n### 交互方式\n\n本题是一道交互题。\n\n**与原题不同的是，为了压缩数据组数，本题单个测试点中将包含多组数据。**\n\n输入第一行包含一个整数 $T$，表示该测试点的数据组数。\n\n对于每组数据，你首先将读入一个整数 $N$，代表该系列染发剂的颜色数量。\n\n接下来，你可以按如下形式输出来进行询问：`? P`。其中 $P$ 代表 Linda 下一次要使用的染发剂的颜色编号。你输出的 $P$ 需要满足 $1 \\leq P \\leq N$，且任意两次询问的 $P$ 均不相同。\n\n在询问过后，你的程序将读入一个整数，若这个整数为 $1$，代表 Archie 注意到了 Linda 头发颜色的变化；若为 $0$，则表示他没有注意到颜色的变化。\n\n当你确认了阙值 $C$ 后，按如下格式输出答案：`= C`。\n\n如果答案正确，将会直接进入下一组数据的交互。\n\n如果答案错误，交互器将直接终止你的程序。\n\n对于每组测试数据，你的程序可以最多进行 $64$ 次询问（最后输出答案不算作询问）。\n\n请注意，一般情况下程序的输出会存放在缓冲区中，为了确保你的输出能被交互库接收，请在输出一行之后刷新缓冲区。\n\n- 对于 C++ 语言，可以使用 `std::cout<<std::endl` 来在输出换行的同时刷新缓冲区；\n- 对于 Java 语言，可以使用 `System.out.flush();` 来刷新缓冲区；\n- 对于 Python 语言，可以使用 `sys.stdout.flush()` 来刷新缓冲区。", "inputFormat": "", "outputFormat": "", "hint": "### 样例解释\n\n为了方便各位理解交互过程，部分行之间人为添加了空行。\n\n下面依次解释每次询问过程：\n\n1. 这一次询问的结果无意义。\n2. 此次询问后有 $C \\leq 5$；\n3. 此次询问后有 $3 \\lt C \\leq 5$，这时候可以考虑检测差值为 $4$ 时的情况。但因为 $4+4=8$ 和 $4-4=0$ 都不合法，因此不再考虑这么做。\n4. 此次询问后有 $3 \\lt C \\leq 5$。\n5. 此次询问后有 $3 \\lt C \\leq 4$，即 $C=4$。\n\n### 子任务\n\n所有数据均满足：$1 \\leq T \\leq 1200$，$1 < N \\leq 10^{18}$。\n\n- 子任务 1（9 分）：$N \\leq 64$；\n- 子任务 2（13 分）：$N \\leq 125$；\n- 子任务 3（21 分）：$N \\leq 10^3$；\n- 子任务 4（24 分）：$N \\leq 10^9$；\n- 子任务 5（33 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6683", "type": "P", "difficulty": 6, "samples": [["1 2 3\n6\nA 5 6 7\nA 3 10 17\nR 1\nA 15 18 21\nA 5 10 15\nR 3\n", "0\n2\n0\n2\n1\n1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2020", "BalticOI（波罗的海）"], "title": "[BalticOI 2020] 混合调料 (Day1)", "background": "", "description": "著名餐厅 *Salt, Pepper & Garlic* 的主厨 Serge 准备好成为一名米其林一星厨师。他已被告知，今晚一位秘密评审员将光临他的餐厅。\n\n虽然他并没有得知这位评审员的姓名，但他已经得知了这位评审员将要点的菜和他的口味偏好。具体来说，这位评审员希望在菜肴中加入非常精确比例的盐，胡椒粉和大蒜粉。\n\nSerge 在厨房的一个架子上放了若干盐，胡椒粉和大蒜粉的混合调料瓶。对于每种调料瓶，Serge 都知道该调料瓶中混合的盐，胡椒粉和大蒜粉的量（单位为千克），他可以通过将任意多瓶调料混合起来（当然也可以单独使用一瓶调料），得到所需比例的调料。\n\n事实上菜肴里放的调料量并不多，因此可以认为调料的量是足够的。但是，评审员要求的盐，胡椒粉和大蒜粉的量之比中的数字可能非常大。\n\n现在 Serge 想要求出，是否能够利用已有的调料瓶配制出满足评审员要求比例的调料？如果能够配制，最少需用多少个瓶子？\n\n此外，Serge 可能会拿到新的调料瓶，或者将架子上已有的调料瓶给其他厨师，这意味着架子上的瓶子种类会不断发生改变，Serge 希望在每次架子上的调料瓶发生变化后，再解决上面的问题。\n\n举个例子，假如评审员要求的盐，胡椒粉和大蒜粉的量的比例为 $1:1:1$，架子上有以下几种调料瓶：\n\n| 调料瓶编号 |  盐  | 胡椒粉 | 大蒜粉 |\n| :--------: | :--: | :----: | :----: |\n|     1      |  10  |   20   |   30   |\n|     2      | 300  |  200   |  100   |\n|     3      |  12  |   15   |   27   |\n\n则只需将瓶子 $1$ 中的全部调料，和瓶子 $2$ 中的 $60$ 千克调料（其中包括盐 $30$ 千克，胡椒粉 $20$ 千克，大蒜粉 $10$ 千克）混合即可满足要求。一旦取走瓶子 $2$，则无法满足评审员的要求。", "inputFormat": "输入第一行包含三个整数 $S_f,P_f,G_f$，表示评审员要求的盐，胡椒粉，大蒜粉的量之比为 $S_f:P_f:G_f$，$\\forall \\alpha \\gt 0$，$(\\alpha S_f,\\alpha P_f, \\alpha G_f)$ 的混合调料也满足评审员要求。\n\n下一行一个整数 $N$，表示架子上的瓶子要进行 $N$ 次变动。最开始架子上没有瓶子。\n\n接下来 $N$ 行，每行描述一次变动。\n\n- 若架子上新增了瓶子，则该行包含一个大写字母 `A` 和三个整数 $S_i,P_i,G_i$，分别代表该瓶中盐，胡椒粉，大蒜粉的量。瓶子按加入的先后顺序从 $1$ 开始编号，即如果该瓶子是第 $i$ 个加入架子的，则其编号为 $i$。\n- 若架子上移除了瓶子，则该行包含一个大写字母 `R` 和一个整数 $r_i$，代表移除的瓶子编号。保证该编号的瓶子在架子上。", "outputFormat": "输出 $N$ 行。第 $i$ 行输出在第 $i$ 次变动后，满足评审员要求所需的最少瓶子数量。特别地，若不存在一种方案满足评审员的要求，输出 $0$。", "hint": "所有数据均满足：$1 \\leq N \\leq 10^5$，$S_f,P_f,G_f \\geq 0$，$0 \\lt S_f+P_f+G_f \\leq 10^6$，$S_i,P_i,G_i \\geq 0$，$0 \\lt S_i+P_i+G_i \\leq 10^6$。\n\n- 子任务 1（13 分）：$N \\leq 50$，$0 \\lt S_i+P_i+G_i \\leq 10^2$；\n- 子任务 2（17 分）：$N \\leq 500$，$0 \\lt S_i+P_i+G_i \\leq 10^3$；\n- 子任务 3（30 分）：$N \\leq 5000$，$0 \\lt S_i+P_i+G_i \\leq 10^4$；\n- 子任务 4（40 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2020] 混合调料 (Day1)", "background": "", "description": "著名餐厅 *Salt, Pepper & Garlic* 的主厨 Serge 准备好成为一名米其林一星厨师。他已被告知，今晚一位秘密评审员将光临他的餐厅。\n\n虽然他并没有得知这位评审员的姓名，但他已经得知了这位评审员将要点的菜和他的口味偏好。具体来说，这位评审员希望在菜肴中加入非常精确比例的盐，胡椒粉和大蒜粉。\n\nSerge 在厨房的一个架子上放了若干盐，胡椒粉和大蒜粉的混合调料瓶。对于每种调料瓶，Serge 都知道该调料瓶中混合的盐，胡椒粉和大蒜粉的量（单位为千克），他可以通过将任意多瓶调料混合起来（当然也可以单独使用一瓶调料），得到所需比例的调料。\n\n事实上菜肴里放的调料量并不多，因此可以认为调料的量是足够的。但是，评审员要求的盐，胡椒粉和大蒜粉的量之比中的数字可能非常大。\n\n现在 Serge 想要求出，是否能够利用已有的调料瓶配制出满足评审员要求比例的调料？如果能够配制，最少需用多少个瓶子？\n\n此外，Serge 可能会拿到新的调料瓶，或者将架子上已有的调料瓶给其他厨师，这意味着架子上的瓶子种类会不断发生改变，Serge 希望在每次架子上的调料瓶发生变化后，再解决上面的问题。\n\n举个例子，假如评审员要求的盐，胡椒粉和大蒜粉的量的比例为 $1:1:1$，架子上有以下几种调料瓶：\n\n| 调料瓶编号 |  盐  | 胡椒粉 | 大蒜粉 |\n| :--------: | :--: | :----: | :----: |\n|     1      |  10  |   20   |   30   |\n|     2      | 300  |  200   |  100   |\n|     3      |  12  |   15   |   27   |\n\n则只需将瓶子 $1$ 中的全部调料，和瓶子 $2$ 中的 $60$ 千克调料（其中包括盐 $30$ 千克，胡椒粉 $20$ 千克，大蒜粉 $10$ 千克）混合即可满足要求。一旦取走瓶子 $2$，则无法满足评审员的要求。", "inputFormat": "输入第一行包含三个整数 $S_f,P_f,G_f$，表示评审员要求的盐，胡椒粉，大蒜粉的量之比为 $S_f:P_f:G_f$，$\\forall \\alpha \\gt 0$，$(\\alpha S_f,\\alpha P_f, \\alpha G_f)$ 的混合调料也满足评审员要求。\n\n下一行一个整数 $N$，表示架子上的瓶子要进行 $N$ 次变动。最开始架子上没有瓶子。\n\n接下来 $N$ 行，每行描述一次变动。\n\n- 若架子上新增了瓶子，则该行包含一个大写字母 `A` 和三个整数 $S_i,P_i,G_i$，分别代表该瓶中盐，胡椒粉，大蒜粉的量。瓶子按加入的先后顺序从 $1$ 开始编号，即如果该瓶子是第 $i$ 个加入架子的，则其编号为 $i$。\n- 若架子上移除了瓶子，则该行包含一个大写字母 `R` 和一个整数 $r_i$，代表移除的瓶子编号。保证该编号的瓶子在架子上。", "outputFormat": "输出 $N$ 行。第 $i$ 行输出在第 $i$ 次变动后，满足评审员要求所需的最少瓶子数量。特别地，若不存在一种方案满足评审员的要求，输出 $0$。", "hint": "所有数据均满足：$1 \\leq N \\leq 10^5$，$S_f,P_f,G_f \\geq 0$，$0 \\lt S_f+P_f+G_f \\leq 10^6$，$S_i,P_i,G_i \\geq 0$，$0 \\lt S_i+P_i+G_i \\leq 10^6$。\n\n- 子任务 1（13 分）：$N \\leq 50$，$0 \\lt S_i+P_i+G_i \\leq 10^2$；\n- 子任务 2（17 分）：$N \\leq 500$，$0 \\lt S_i+P_i+G_i \\leq 10^3$；\n- 子任务 3（30 分）：$N \\leq 5000$，$0 \\lt S_i+P_i+G_i \\leq 10^4$；\n- 子任务 4（40 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6684", "type": "P", "difficulty": 6, "samples": [["6 8 2\n1 3\n1 5\n1 6\n2 5\n2 6\n3 4\n3 5\n5 6\n4 8\n4 7\n", "NO\nYES\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "BalticOI（波罗的海）"], "title": "[BalticOI 2020] 小丑 (Day1)", "background": "由于官方测试数据量过大，为了避免过多资源占用，这里选取了部分官方数据作为本题测试数据。", "description": "小丑回到了哥谭市，准备执行一个邪恶的计划。哥谭市有 $N$ 个路口（编号从 $1$ 到 $N$），$M$ 条道路（编号从 $1$ 到 $M$）。一条道路连接两个不同的路口，且两个路口间最多只有一条道路相连。\n\n为了实现他的邪恶计划，小丑需要在城市中走完一个奇环。形式化地说，一个奇环为一个形如 $S,s_1,s_2,\\ldots,s_k,S$ 的序列（要求 $k$ 为偶数），其中 $S$ 和 $s_1$，$s_k$ 和 $S$，以及 $\\forall 1 \\lt i \\leq k$，$s_{i-1}$ 和 $s_i$ 之间都有道路直接相连。\n\n然而，警察控制了城市中的部分街道。在第 $i$ 天，警察控制了编号在 $[l_i,r_i]$ 范围内的所有街道，小丑不能经过这些街道。然而小丑通过买通警察局的内鬼，了解到了警察在未来 $Q$ 天控制街道的计划，现在小丑想要知道，在哪些日子里，他的邪恶计划可以实现。", "inputFormat": "输入第一行三个整数 $N,M,Q$。\n\n接下来 $M$ 行，第 $i$ 行两个整数 $u,v$（保证 $u \\neq v$），描述了编号为 $i$ 的街道。其连接了 $u$ 和 $v$ 两个路口。保证两个路口间最多只有一条街道相连。\n\n接下来 $Q$ 行，第 $i$ 行两个整数 $l_i,r_i$，表示警察在第 $i$ 天将要控制编号在 $[l_i,r_i]$ 范围内的所有街道。", "outputFormat": "输出 $Q$ 行。\n\n在第 $i$ 行，若第 $i$ 天小丑的计划可以实现，输出 `YES`，否则输出 `NO`。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qr5q8ha4.png)\n\n### 子任务\n\n所有数据均满足：$1 \\leq N,M,Q \\leq 2 \\times 10^5$。\n\n- 子任务 1（6 分）：$1 \\leq N,M,Q \\leq 200$；\n- 子任务 2（8 分）：$1 \\leq N,M,Q \\leq 2 \\times 10^3$；\n- 子任务 3（25 分）：$\\forall i \\in [1,Q]$，$l_i =1$；\n- 子任务 4（10 分）：$\\forall i \\in [1,Q]$，$l_i \\leq 200$；\n- 子任务 5（22 分）：$Q \\leq 2 \\times 10^3$；\n- 子任务 6（29 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2020] 小丑 (Day1)", "background": "由于官方测试数据量过大，为了避免过多资源占用，这里选取了部分官方数据作为本题测试数据。", "description": "小丑回到了哥谭市，准备执行一个邪恶的计划。哥谭市有 $N$ 个路口（编号从 $1$ 到 $N$），$M$ 条道路（编号从 $1$ 到 $M$）。一条道路连接两个不同的路口，且两个路口间最多只有一条道路相连。\n\n为了实现他的邪恶计划，小丑需要在城市中走完一个奇环。形式化地说，一个奇环为一个形如 $S,s_1,s_2,\\ldots,s_k,S$ 的序列（要求 $k$ 为偶数），其中 $S$ 和 $s_1$，$s_k$ 和 $S$，以及 $\\forall 1 \\lt i \\leq k$，$s_{i-1}$ 和 $s_i$ 之间都有道路直接相连。\n\n然而，警察控制了城市中的部分街道。在第 $i$ 天，警察控制了编号在 $[l_i,r_i]$ 范围内的所有街道，小丑不能经过这些街道。然而小丑通过买通警察局的内鬼，了解到了警察在未来 $Q$ 天控制街道的计划，现在小丑想要知道，在哪些日子里，他的邪恶计划可以实现。", "inputFormat": "输入第一行三个整数 $N,M,Q$。\n\n接下来 $M$ 行，第 $i$ 行两个整数 $u,v$（保证 $u \\neq v$），描述了编号为 $i$ 的街道。其连接了 $u$ 和 $v$ 两个路口。保证两个路口间最多只有一条街道相连。\n\n接下来 $Q$ 行，第 $i$ 行两个整数 $l_i,r_i$，表示警察在第 $i$ 天将要控制编号在 $[l_i,r_i]$ 范围内的所有街道。", "outputFormat": "输出 $Q$ 行。\n\n在第 $i$ 行，若第 $i$ 天小丑的计划可以实现，输出 `YES`，否则输出 `NO`。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qr5q8ha4.png)\n\n### 子任务\n\n所有数据均满足：$1 \\leq N,M,Q \\leq 2 \\times 10^5$。\n\n- 子任务 1（6 分）：$1 \\leq N,M,Q \\leq 200$；\n- 子任务 2（8 分）：$1 \\leq N,M,Q \\leq 2 \\times 10^3$；\n- 子任务 3（25 分）：$\\forall i \\in [1,Q]$，$l_i =1$；\n- 子任务 4（10 分）：$\\forall i \\in [1,Q]$，$l_i \\leq 200$；\n- 子任务 5（22 分）：$Q \\leq 2 \\times 10^3$；\n- 子任务 6（29 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6685", "type": "P", "difficulty": 2, "samples": [["5 2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["洛谷月赛"], "title": "可持久化动态仙人掌的直径问题", "background": "众所周知，一场考试需要一道签到题。", "description": "给定 $n,m$，求有多少个正整数 $x$，使得 $x^m\\le n$。", "inputFormat": "一行两个正整数 $n,m$。", "outputFormat": "一个整数表示正整数 $x$ 的个数。", "hint": "对于 $25\\%$ 的数据满足 $m=1$；  \n对于 $50\\%$ 的数据满足 $n\\le 10^6$；  \n对于 $100\\%$ 的数据满足 $1\\leq n,m\\le 10^9$。\n\n---\n\n$\\text{upd 2022.7.24}$：新增加一组 Hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "可持久化动态仙人掌的直径问题", "background": "众所周知，一场考试需要一道签到题。", "description": "给定 $n,m$，求有多少个正整数 $x$，使得 $x^m\\le n$。", "inputFormat": "一行两个正整数 $n,m$。", "outputFormat": "一个整数表示正整数 $x$ 的个数。", "hint": "对于 $25\\%$ 的数据满足 $m=1$；  \n对于 $50\\%$ 的数据满足 $n\\le 10^6$；  \n对于 $100\\%$ 的数据满足 $1\\leq n,m\\le 10^9$。\n\n---\n\n$\\text{upd 2022.7.24}$：新增加一组 Hack 数据。", "locale": "zh-CN"}}}
{"pid": "P6686", "type": "P", "difficulty": 3, "samples": [["6\n3 3 2 2 4 5", "6"], ["6\n1 1 4 5 1 4\n", "5"], ["6\n2 2 2 2 2 2", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2020", "洛谷原创", "洛谷月赛"], "title": "混凝土数学", "background": "", "description": "你正在看混凝土数学，这时旁边的工地开工了，你觉得看他们施工更有意思，于是你向窗外望去，注意到了一些长度不同的木棍。具体而言，你看到了 $n$ 条木棍编号为 $1,2,3,\\ldots,n$，长度为 $a_1,a_2,a_3,\\ldots,a_n$。你突发奇想：有多少拿出其中 $3$ 条木棍的方案满足它们能构成等腰三角形呢？你不想要输出的数太大，所以最后的方案要对 $998244353$ 取模。\n\n给出等腰三角形的要求：任意两边之和大于第三边且至少有两条边边长相等。\n\n例如，如果木棍长度分别为 $\\{3,3,2,2,4,5\\}$，你就有 $6$ 种方法，选取的木棍编号分别为：$\\{1,2,3\\}$，$\\{1,2,4\\}$，$\\{1,2,5\\}$，$\\{1,2,6\\}$，$\\{1,3,4\\}$，$\\{2,3,4\\}$。", "inputFormat": "第一行给出一个正整数 $n$ 表示木棍个数。\n\n第二行 $n$ 个正整数表示 $a_1,a_2,a_3,\\ldots, a_n$。", "outputFormat": "一个数表示总方案数对 $998244353$ 取模的结果。", "hint": "- Subtask1 （$30$ pts）：$1\\leq n \\leq 200$。\n- Subtask2 （$30$ pts）：$1\\leq n \\leq 2000$。\n- Subtask3 （$20$ pts）：木棍长度全部相等。\n- Subtask4 （$20$ pts）：无特殊限制。\n\n对于 $100\\%$ 的数据满足：$1\\leq n \\leq 2\\times 10^5$，$1\\leq a_i \\leq 2\\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "混凝土数学", "background": "", "description": "你正在看混凝土数学，这时旁边的工地开工了，你觉得看他们施工更有意思，于是你向窗外望去，注意到了一些长度不同的木棍。具体而言，你看到了 $n$ 条木棍编号为 $1,2,3,\\ldots,n$，长度为 $a_1,a_2,a_3,\\ldots,a_n$。你突发奇想：有多少拿出其中 $3$ 条木棍的方案满足它们能构成等腰三角形呢？你不想要输出的数太大，所以最后的方案要对 $998244353$ 取模。\n\n给出等腰三角形的要求：任意两边之和大于第三边且至少有两条边边长相等。\n\n例如，如果木棍长度分别为 $\\{3,3,2,2,4,5\\}$，你就有 $6$ 种方法，选取的木棍编号分别为：$\\{1,2,3\\}$，$\\{1,2,4\\}$，$\\{1,2,5\\}$，$\\{1,2,6\\}$，$\\{1,3,4\\}$，$\\{2,3,4\\}$。", "inputFormat": "第一行给出一个正整数 $n$ 表示木棍个数。\n\n第二行 $n$ 个正整数表示 $a_1,a_2,a_3,\\ldots, a_n$。", "outputFormat": "一个数表示总方案数对 $998244353$ 取模的结果。", "hint": "- Subtask1 （$30$ pts）：$1\\leq n \\leq 200$。\n- Subtask2 （$30$ pts）：$1\\leq n \\leq 2000$。\n- Subtask3 （$20$ pts）：木棍长度全部相等。\n- Subtask4 （$20$ pts）：无特殊限制。\n\n对于 $100\\%$ 的数据满足：$1\\leq n \\leq 2\\times 10^5$，$1\\leq a_i \\leq 2\\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6687", "type": "P", "difficulty": 4, "samples": [["1\n1\n2\n2\n1\n", "dldsgay!!1\n"], ["2\n1 2\n3 4\n4 3\n2 1\n", "1\n"], ["2\n1 2\n3 4\n1 2\n4 3\n", "dldsgay!!1\n"], ["3\n1 6 2\n4 3 5\n2 4 3\n5 1 6\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["树状数组", "分治", "洛谷月赛"], "title": "论如何玩转 Excel 表格", "background": "", "description": "有一个 $2 \\times n$ 的表格，表格内不重不漏地填有 $1 \\sim 2 \\times n$ 这些数字。你可以进行若干次操作，每次操作可以选择一个 $2 \\times 2$ 的正方形区域，然后旋转 $180\\degree$。\n\n给出现在的状态以及目标状态。问是否可以达到目标状态。如果能，最少操作次数是多少。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来两行，每行 $n$ 个正整数表示表格现在的状态。\n\n接下来两行，每行 $n$ 个正整数表示目标状态。", "outputFormat": "若无解，输出一行 `dldsgay!!1`。\n\n否则，输出一个整数，表示最少的操作次数。", "hint": "#### 子任务\n\n本题采用捆绑测试。\n\n对于 $100\\%$ 的数据：$1 \\leq n \\leq 10^6$。\n\n本题共 $10$ 个子任务，各子任务的分值和限制如下：\n\n子任务 $1$（$1$ 分）：保证输出一定为 `dldsgay!!1`。  \n子任务 $2$（$1$ 分）：保证目标状态与现在状态一致。  \n子任务 $3$（$4$ 分）：$n=1$。  \n子任务 $4$（$5$ 分）：$n=2$。  \n子任务 $5$（$14$ 分）：$1 \\leq n \\leq 20$。  \n子任务 $6$（$19$ 分）：$1 \\leq n \\leq 100$。  \n子任务 $7$（$19$ 分）：$1 \\leq n \\leq 1000$。  \n子任务 $8$（$8$ 分）：保证目标状态第一行依次为 $1 \\sim n$，第二行依次为  $n + 1 \\sim 2n$。  \n子任务 $9$（$10$ 分）：保证不存在无解情况。  \n子任务 $10$（$19$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "论如何玩转 Excel 表格", "background": "", "description": "有一个 $2 \\times n$ 的表格，表格内不重不漏地填有 $1 \\sim 2 \\times n$ 这些数字。你可以进行若干次操作，每次操作可以选择一个 $2 \\times 2$ 的正方形区域，然后旋转 $180\\degree$。\n\n给出现在的状态以及目标状态。问是否可以达到目标状态。如果能，最少操作次数是多少。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来两行，每行 $n$ 个正整数表示表格现在的状态。\n\n接下来两行，每行 $n$ 个正整数表示目标状态。", "outputFormat": "若无解，输出一行 `dldsgay!!1`。\n\n否则，输出一个整数，表示最少的操作次数。", "hint": "#### 子任务\n\n本题采用捆绑测试。\n\n对于 $100\\%$ 的数据：$1 \\leq n \\leq 10^6$。\n\n本题共 $10$ 个子任务，各子任务的分值和限制如下：\n\n子任务 $1$（$1$ 分）：保证输出一定为 `dldsgay!!1`。  \n子任务 $2$（$1$ 分）：保证目标状态与现在状态一致。  \n子任务 $3$（$4$ 分）：$n=1$。  \n子任务 $4$（$5$ 分）：$n=2$。  \n子任务 $5$（$14$ 分）：$1 \\leq n \\leq 20$。  \n子任务 $6$（$19$ 分）：$1 \\leq n \\leq 100$。  \n子任务 $7$（$19$ 分）：$1 \\leq n \\leq 1000$。  \n子任务 $8$（$8$ 分）：保证目标状态第一行依次为 $1 \\sim n$，第二行依次为  $n + 1 \\sim 2n$。  \n子任务 $9$（$10$ 分）：保证不存在无解情况。  \n子任务 $10$（$19$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6688", "type": "P", "difficulty": 5, "samples": [["12 6\n1 1 4 5 1 4 2 2 5 2 3 3\n1 1 3 7 9\n1 2 3 5 6\n1 1 3 2 4\n0 7 1\n1 1 4 2 5\n1 5 7 8 10", "YES\nYES\nNO\nYES\nYES"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "线段树", "树状数组", "洛谷原创", "O2优化", "哈希 hashing", "洛谷月赛"], "title": "可重集", "background": "", "description": "给出一个长度为 $n$ 的非负整数序列 $a_1,a_2,a_3,\\ldots, a_n$，给出 $q$ 次操作，每次先给出一个参数 $op$：\n\n- $op=0$，接下来给出 $2$ 个参数 $x,y$，把 $a_x$ 修改为 $y$。\n\n- $op=1$，接下来给出 $4$ 个参数 $ l_1,r_1,l_2,r_2$（保证 $r_1-l_1=r_2-l_2$），你需要判断区间 $[l_1,r_1]$ 与区间 $[l_2,r_2]$ 是否本质相同，如果本质相同输出 `YES`，否则输出 `NO`。\n\n本质相同的定义：令区间长度为 $\\text{len}$ ，序列 $p_{1}\\dots p_{\\text{len}}$ 为 $a_{l_1}\\dots a_{r_1}$ 升序排序后的结果，序列 $q_{1}\\dots q_\\text{len}$ 为 $a_{l_2}\\dots a_{r_2}$ 升序排序后的结果，存在一个整数 $k$ 使得满足 $\\forall i,p_i+k=q_i$。", "inputFormat": "第一行给出两个正整数 $n,q$，表示序列长度及操作次数。\n\n第二行 $n$ 个非负整数表示 $a_{1},a_2,a_3,\\ldots,a_n$。\n\n\n接下来 $q$ 行，每行为上述操作中的一种。", "outputFormat": "对于 $op=1$ 的操作，输出两个区间是否本质相同，如果是输出 `YES`，否则输出 `NO`。", "hint": "\n\n- Subtask1 （$25$ pts）：$1\\leq n,q \\leq 1000$。\n\n- Subtask2 （$25$ pts）：$1\\leq n,q \\leq 10^5$，$0\\leq a_i,y\\leq 100$。\n\n- Subtask3 （$25$ pts）：$1\\leq n,q \\leq 10^5$。\n\n- Subtask4 （$25$ pts）：无特殊限制。\n\n你只有通过 subtask 中的所有测试点才能获得该 subtask 的分数。\n\n对于所有数据满足：$1\\leq n,q \\leq 10^6$，$1\\leq x \\leq n$，$0\\leq a_i,y \\leq  10^6$ 。且对于所有 $l,r$ 有 $1\\leq l\\leq r\\leq n$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "可重集", "background": "", "description": "给出一个长度为 $n$ 的非负整数序列 $a_1,a_2,a_3,\\ldots, a_n$，给出 $q$ 次操作，每次先给出一个参数 $op$：\n\n- $op=0$，接下来给出 $2$ 个参数 $x,y$，把 $a_x$ 修改为 $y$。\n\n- $op=1$，接下来给出 $4$ 个参数 $ l_1,r_1,l_2,r_2$（保证 $r_1-l_1=r_2-l_2$），你需要判断区间 $[l_1,r_1]$ 与区间 $[l_2,r_2]$ 是否本质相同，如果本质相同输出 `YES`，否则输出 `NO`。\n\n本质相同的定义：令区间长度为 $\\text{len}$ ，序列 $p_{1}\\dots p_{\\text{len}}$ 为 $a_{l_1}\\dots a_{r_1}$ 升序排序后的结果，序列 $q_{1}\\dots q_\\text{len}$ 为 $a_{l_2}\\dots a_{r_2}$ 升序排序后的结果，存在一个整数 $k$ 使得满足 $\\forall i,p_i+k=q_i$。", "inputFormat": "第一行给出两个正整数 $n,q$，表示序列长度及操作次数。\n\n第二行 $n$ 个非负整数表示 $a_{1},a_2,a_3,\\ldots,a_n$。\n\n\n接下来 $q$ 行，每行为上述操作中的一种。", "outputFormat": "对于 $op=1$ 的操作，输出两个区间是否本质相同，如果是输出 `YES`，否则输出 `NO`。", "hint": "\n\n- Subtask1 （$25$ pts）：$1\\leq n,q \\leq 1000$。\n\n- Subtask2 （$25$ pts）：$1\\leq n,q \\leq 10^5$，$0\\leq a_i,y\\leq 100$。\n\n- Subtask3 （$25$ pts）：$1\\leq n,q \\leq 10^5$。\n\n- Subtask4 （$25$ pts）：无特殊限制。\n\n你只有通过 subtask 中的所有测试点才能获得该 subtask 的分数。\n\n对于所有数据满足：$1\\leq n,q \\leq 10^6$，$1\\leq x \\leq n$，$0\\leq a_i,y \\leq  10^6$ 。且对于所有 $l,r$ 有 $1\\leq l\\leq r\\leq n$。\n\n", "locale": "zh-CN"}}}
