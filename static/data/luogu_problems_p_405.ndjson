{"pid": "P9215", "type": "P", "difficulty": 4, "samples": [["5\n1\n1\n14\n1\n514\n2\n1234\n1\n123456\n6", "9\n8\n516\n7\n877777"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "O2优化", "构造", "语言月赛"], "title": "[入门赛 #11] [yLOI2021] 扶苏与 1 (Hard Version)", "background": "**本题与 Easy Version 的区别是：$x$ 的范围不同，$y$ 的长度限制不同**。\n\n**请注意 Easy Version 和 Hard Version 不是严格的包含关系。**\n\n扶苏在 ICPC2022 EC Final 的比赛里，开局不到五分钟，就读假了一道题，把一道数位 DP 开成了简单签到，狠狠地演了队友一把。\n\n为了不让读假了的题被浪费，所以这道题出现在了这里。", "description": "扶苏给了你一个数字 $x$，你需要给她一个数字 $y$，使得在列竖式计算 $x + y$ 时，能恰好产生 $k$ 个进位。\n\n**你给出的 $y$ 的长度不能超过 $x$ 的长度。**（注意，这条要求与 Easy Version 不同）\n\n**进位**的含义是：在进行竖式加法运算时，如果位于同一列上的数字之和（加上低位向上可能存在的进位）比 $9$ 大，则在结果的这一列上只保留这个和的个位数字，同时称这一位向它的高位产生了一个**进位**。\n\n下图是一个竖式加法的例子，结果中标红的两位都向上产生了进位。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sxkzrk4i.png)", "inputFormat": "**本题单测试点内有多组测试数据**。\n\n第一行为一个整数 $T$，代表测试数据组数。  \n接下来 $T$ 组数据，每组数据只有两行，每行一个整数。  \n第一行的整数表示 $x$。  \n第二行的整数表示 $k$。", "outputFormat": "**本题采用 special judge 进行判题**。\n\n对每组数据，输出一行一个整数，表示你给出的 $y$。\n\n如果有多个满足要求的 $y$，你可以输出任何一个。但是必须保证如下三条限制：\n- $y$ 是正整数。\n- $y$ 不含前导 $0$。\n- $y$ 的长度不超过 $x$ 的长度。\n\n特别的，如果这样的 $y$ 不存在，请你输出一行一个 $\\texttt{-1}$。", "hint": "### 数据规模与约定\n\n对全部的测试点，保证 $0 \\leq x < 10^{(10^4)}$，$1 \\leq T \\leq 5000$，$1 \\leq k \\leq 1+\\log_{10}\\max(1,x)$。输入的 $x$ 不含前导 $0$。\n\n### 提示\n\n输入的 $x$ 可能会很大。如果说 $x < 10^t$，则输入 $x$ 的**长度**不会超过 $t$。数据规模中式子 $k \\leq 1 + \\log_{10}\\max(1,x) $ 的含义是：$k$ 不会超过 $x$ 的长度。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #11] [yLOI2021] 扶苏与 1 (Hard Version)", "background": "**本题与 Easy Version 的区别是：$x$ 的范围不同，$y$ 的长度限制不同**。\n\n**请注意 Easy Version 和 Hard Version 不是严格的包含关系。**\n\n扶苏在 ICPC2022 EC Final 的比赛里，开局不到五分钟，就读假了一道题，把一道数位 DP 开成了简单签到，狠狠地演了队友一把。\n\n为了不让读假了的题被浪费，所以这道题出现在了这里。", "description": "扶苏给了你一个数字 $x$，你需要给她一个数字 $y$，使得在列竖式计算 $x + y$ 时，能恰好产生 $k$ 个进位。\n\n**你给出的 $y$ 的长度不能超过 $x$ 的长度。**（注意，这条要求与 Easy Version 不同）\n\n**进位**的含义是：在进行竖式加法运算时，如果位于同一列上的数字之和（加上低位向上可能存在的进位）比 $9$ 大，则在结果的这一列上只保留这个和的个位数字，同时称这一位向它的高位产生了一个**进位**。\n\n下图是一个竖式加法的例子，结果中标红的两位都向上产生了进位。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sxkzrk4i.png)", "inputFormat": "**本题单测试点内有多组测试数据**。\n\n第一行为一个整数 $T$，代表测试数据组数。  \n接下来 $T$ 组数据，每组数据只有两行，每行一个整数。  \n第一行的整数表示 $x$。  \n第二行的整数表示 $k$。", "outputFormat": "**本题采用 special judge 进行判题**。\n\n对每组数据，输出一行一个整数，表示你给出的 $y$。\n\n如果有多个满足要求的 $y$，你可以输出任何一个。但是必须保证如下三条限制：\n- $y$ 是正整数。\n- $y$ 不含前导 $0$。\n- $y$ 的长度不超过 $x$ 的长度。\n\n特别的，如果这样的 $y$ 不存在，请你输出一行一个 $\\texttt{-1}$。", "hint": "### 数据规模与约定\n\n对全部的测试点，保证 $0 \\leq x < 10^{(10^4)}$，$1 \\leq T \\leq 5000$，$1 \\leq k \\leq 1+\\log_{10}\\max(1,x)$。输入的 $x$ 不含前导 $0$。\n\n### 提示\n\n输入的 $x$ 可能会很大。如果说 $x < 10^t$，则输入 $x$ 的**长度**不会超过 $t$。数据规模中式子 $k \\leq 1 + \\log_{10}\\max(1,x) $ 的含义是：$k$ 不会超过 $x$ 的长度。", "locale": "zh-CN"}}}
{"pid": "P9216", "type": "P", "difficulty": 4, "samples": [["4 5\n2 1 2\n2 3 4\n4 1 2 3 4\n4 1 2 3 3\n1 1 2\n2 2 3\n2 3 4\n2 2 4\n2 3 2", "7"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "O2优化", "语言月赛"], "title": "[入门赛 #11] 写大作业 (Hard Version)", "background": "**本题与 Easy Version 的区别在于：输入的是数列而不是字符串，输入输出格式不同，数据规模不同**。\n", "description": "扶苏为了写计算理论大作业已经 $36$ 小时没有合眼了。\n\n为了能快点睡觉，扶苏找到了 $n$ 份文献，第 $i$ 份文献是一数列 $a_i$，她打算把这些文献组合起来。\n\n具体来说，一共有两种操作：\n\n- `1 x y`：把文献 $a_x$ 整体拼接到 $a_y$ 的后面，然后删除 $a_x$。\n- `2 x y`：查询 $a_x$ 和 $a_y$ 是否**相似**。\n\n我们保证在 `1 x y` 操作出现后，数列 $a_x$ **不会**出现在接下来的任何操作中。这就是说，操作 $1$ 至多有 $n-1$ 次。\n\n**相似**的定义是：对两个数列 $a_x$ 和 $a_y$，如果存在一种重新排列 $a_x$ 的方法，使得重排后的 $a_x$ 和 $a_y$ 相等，则称 $a_x$ 和 $a_y$ **相似**。\n\n例如，假设 $a_1 = 1,2$, $a_2 = 3,4$，$a_3 = 1,2,3,4$，则执行 `1 1 2` 后，$a_1$ 被删除，$a_2 = 3,4,1,2$，$s_3 = 1,2,3,4$；继续执行 `2 2 3` 后，因为可以把 $a_2$ 重排为 $1,2,3,4$，所以 $a_2$ 和 $a_3$ 相似。\n\n注意，操作 $2$ 不会对数列做出实际修改。", "inputFormat": "第一行是两个整数，分别表示文献的数量 $n$ 和操作的数量 $q$。  \n接下来 $n$ 行，每行描述一个数列。第 $i$ 行描述 $a_i$：   \n每行第一个数是 $m_i$，表示数列 $a_i$ 的长度，接下来有 $m_i$ 个数，描述数列 $a_i$。  \n接下来 $q$ 行，每行三个整数 $op, x, y$，其含义见『题目描述』。", "outputFormat": "为了避免输出过大，请你输出一行一个整数，表示所有答案为**两数列相似**的询问的**操作编号**的按位异或和。\n\n操作的编号从 $1$ 开始，两种操作均会令编号增加 $1$。你可以参考样例解释来理解输出格式。", "hint": "### 样例解释\n\n共有五次操作，它们的编号和回答情况如下：\n| 编号 | 操作 | 回答 |\n| :-: | :-: | :-: |\n| $1$ | `1 1 2` | 不是查询操作|\n| $2$ | `2 2 3` | 相似 |\n| $3$ | `2 3 4` | 不相似 |\n| $4$ | `2 2 4` | 不相似 |\n| $5$ | `2 2 3` | 相似 |\n\n可以看到，回答为**两数列相似**的询问的操作编号为 $2$ 和 $5$。它们的按位异或和是 $7$。故输出为 $7$。\n\n### 数据规模与约定\n\n对全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq q \\leq 5 \\times 10^6$，$1 \\leq m_i \\leq 10^5$，$\\sum_{i = 1}^n m_i \\leq 5 \\times 10^5$。数列里的元素都是不超过 $10^9$ 的非负整数。\n\n数据保证数列元素的生成方式是：对一个数列，限定一个该数列元素大小的上界 $k$，然后在 $[0, k]$ 内均匀随机地生成 $m_i$ 个整数作为数列 $a_i$。注意，$k$ 不一定是 $10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #11] 写大作业 (Hard Version)", "background": "**本题与 Easy Version 的区别在于：输入的是数列而不是字符串，输入输出格式不同，数据规模不同**。\n", "description": "扶苏为了写计算理论大作业已经 $36$ 小时没有合眼了。\n\n为了能快点睡觉，扶苏找到了 $n$ 份文献，第 $i$ 份文献是一数列 $a_i$，她打算把这些文献组合起来。\n\n具体来说，一共有两种操作：\n\n- `1 x y`：把文献 $a_x$ 整体拼接到 $a_y$ 的后面，然后删除 $a_x$。\n- `2 x y`：查询 $a_x$ 和 $a_y$ 是否**相似**。\n\n我们保证在 `1 x y` 操作出现后，数列 $a_x$ **不会**出现在接下来的任何操作中。这就是说，操作 $1$ 至多有 $n-1$ 次。\n\n**相似**的定义是：对两个数列 $a_x$ 和 $a_y$，如果存在一种重新排列 $a_x$ 的方法，使得重排后的 $a_x$ 和 $a_y$ 相等，则称 $a_x$ 和 $a_y$ **相似**。\n\n例如，假设 $a_1 = 1,2$, $a_2 = 3,4$，$a_3 = 1,2,3,4$，则执行 `1 1 2` 后，$a_1$ 被删除，$a_2 = 3,4,1,2$，$s_3 = 1,2,3,4$；继续执行 `2 2 3` 后，因为可以把 $a_2$ 重排为 $1,2,3,4$，所以 $a_2$ 和 $a_3$ 相似。\n\n注意，操作 $2$ 不会对数列做出实际修改。", "inputFormat": "第一行是两个整数，分别表示文献的数量 $n$ 和操作的数量 $q$。  \n接下来 $n$ 行，每行描述一个数列。第 $i$ 行描述 $a_i$：   \n每行第一个数是 $m_i$，表示数列 $a_i$ 的长度，接下来有 $m_i$ 个数，描述数列 $a_i$。  \n接下来 $q$ 行，每行三个整数 $op, x, y$，其含义见『题目描述』。", "outputFormat": "为了避免输出过大，请你输出一行一个整数，表示所有答案为**两数列相似**的询问的**操作编号**的按位异或和。\n\n操作的编号从 $1$ 开始，两种操作均会令编号增加 $1$。你可以参考样例解释来理解输出格式。", "hint": "### 样例解释\n\n共有五次操作，它们的编号和回答情况如下：\n| 编号 | 操作 | 回答 |\n| :-: | :-: | :-: |\n| $1$ | `1 1 2` | 不是查询操作|\n| $2$ | `2 2 3` | 相似 |\n| $3$ | `2 3 4` | 不相似 |\n| $4$ | `2 2 4` | 不相似 |\n| $5$ | `2 2 3` | 相似 |\n\n可以看到，回答为**两数列相似**的询问的操作编号为 $2$ 和 $5$。它们的按位异或和是 $7$。故输出为 $7$。\n\n### 数据规模与约定\n\n对全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq q \\leq 5 \\times 10^6$，$1 \\leq m_i \\leq 10^5$，$\\sum_{i = 1}^n m_i \\leq 5 \\times 10^5$。数列里的元素都是不超过 $10^9$ 的非负整数。\n\n数据保证数列元素的生成方式是：对一个数列，限定一个该数列元素大小的上界 $k$，然后在 $[0, k]$ 内均匀随机地生成 $m_i$ 个整数作为数列 $a_i$。注意，$k$ 不一定是 $10^9$。", "locale": "zh-CN"}}}
{"pid": "P9217", "type": "P", "difficulty": 3, "samples": [["3 1 3 2\n1 2 3", "1\n3.888889"], ["3 1 3 2\n1 2 3", "2\n554580200"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化", "排序", "期望"], "title": "「TAOI-1」拼凑的断音", "background": "> flick tap flick tap 面を滑って \\\n> swipe tap swipe tap 「A.R→T」\\\n> flick tap flick tap 開いて叩いて \\\n> swipe swipe swipe swipe …もう嫌だな \\\n> ズルズル 糸が呟く", "description": "你的面前有 $n$ 个音符，它们的动听程度由数列 $\\{a_n\\}$ 描述。\n\n现在有 $n$ 种魔法，第 $i$ 种魔法会让 $a_i$ 增加 $s(s \\gt 0)$。每种魔法的成功几率都为 $\\dfrac{p}{q}$，并且彼此独立。\n\n求在施加魔法情况下，最终最动听的音符的动听程度（即，$\\max\\limits_{i=1}^n a_i$）的期望。\n\n**本题目有 Special Judge，你可以用两种不同的方式输出答案，具体见【输出格式】处**。", "inputFormat": "第一行为四个整数 $n, p, q, s$。\n\n第二行为 $n$ 个整数 $a_i$，由空格隔开。", "outputFormat": "**本题有两种不同的输出格式**。\n\n- 第一种输出格式：\n\n  请在第一行输出 `1`。\n  \n  接着，在第二行输出所求的期望，它应当是一个实数。\n  \n  如果您的答案与标准答案相差不超过 $10^{-4}$，则判定为正确。但由于众所周知的浮点数的误差，不保证评测结果百分百准确。如果您确信自己的程序正确但无法 AC，可以尝试使用第二种输出方式。\n\n- 第二种输出格式：\n  \n  请在第一行输出 `2`。\n  \n  接下来，若你求出的期望是 $\\dfrac{m}{n}$（显然期望为一个有理数），则请在第二行输出它对 $998244353$ 取模的结果，即一个 $[0, 998244353)$ 的整数 $x$，使得 $xn \\equiv m \\pmod {998244353}$。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 1（20 points）：$n \\leq 15$。\n- Subtask 2（15 points）：保证 $\\forall i \\in [1, n), a_i \\leq a_{i+1}$，$a_n \\geq a_{n-1}+s$。\n- Subtask 3（15 points）：保证 $\\forall i,j\\in[1,n], a_i = a_j$。\n- Subtask 4（50 points）：无特殊限制。\n\n对于所有测试数据，$1 \\leq n \\leq 10^5$，$1 \\leq p \\lt q \\leq 10^7$，$1 \\leq a_i,s \\leq 10^7$。\n\n### 样例解释\n\n注意到两个样例的输入相同，区别仅在于输出格式不同。\n\n以下列举了所有可能的魔法施加情况和其对应的最大值以及出现概率：\n\n| 魔法情况 | 动听度最大值 | 出现概率 | 对期望的贡献 |\n| :------: | :----------: | :------: | :----------: |\n|${\\color{black}1},{\\color{black}2},{\\color{black}3}$|$3$|$\\dfrac{8}{27}$|$\\dfrac{8}{9}$|\n|${\\color{red}3},{\\color{black}2},{\\color{black}3}$|$3$|$\\dfrac{4}{27}$|$\\dfrac{4}{9}$|\n|${\\color{black}1},{\\color{red}4},{\\color{black}3}$|$4$|$\\dfrac{4}{27}$|$\\dfrac{16}{27}$|\n|${\\color{black}1},{\\color{black}2},{\\color{red}5}$|$5$|$\\dfrac{4}{27}$|$\\dfrac{20}{27}$|\n|${\\color{red}3},{\\color{red}4},{\\color{black}3}$|$4$|$\\dfrac{2}{27}$|$\\dfrac{8}{27}$|\n|${\\color{red}3},{\\color{black}2},{\\color{red}5}$|$5$|$\\dfrac{2}{27}$|$\\dfrac{10}{27}$|\n|${\\color{black}1},{\\color{red}4},{\\color{red}5}$|$5$|$\\dfrac{2}{27}$|$\\dfrac{10}{27}$|\n|${\\color{red}3},{\\color{red}4},{\\color{red}5}$|$5$|$\\dfrac{1}{27}$|$\\dfrac{5}{27}$|\n\n可得，最终的答案为 $\\dfrac{35}{9}$。\n\n+ 若使用第一种输出方式，它的值约为 $3.888889$。\n+ 若使用第二种输出方式，可以发现 $554580200 \\times 9 \\equiv 35 \\pmod {998244353}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-1」拼凑的断音", "background": "> flick tap flick tap 面を滑って \\\n> swipe tap swipe tap 「A.R→T」\\\n> flick tap flick tap 開いて叩いて \\\n> swipe swipe swipe swipe …もう嫌だな \\\n> ズルズル 糸が呟く", "description": "你的面前有 $n$ 个音符，它们的动听程度由数列 $\\{a_n\\}$ 描述。\n\n现在有 $n$ 种魔法，第 $i$ 种魔法会让 $a_i$ 增加 $s(s \\gt 0)$。每种魔法的成功几率都为 $\\dfrac{p}{q}$，并且彼此独立。\n\n求在施加魔法情况下，最终最动听的音符的动听程度（即，$\\max\\limits_{i=1}^n a_i$）的期望。\n\n**本题目有 Special Judge，你可以用两种不同的方式输出答案，具体见【输出格式】处**。", "inputFormat": "第一行为四个整数 $n, p, q, s$。\n\n第二行为 $n$ 个整数 $a_i$，由空格隔开。", "outputFormat": "**本题有两种不同的输出格式**。\n\n- 第一种输出格式：\n\n  请在第一行输出 `1`。\n  \n  接着，在第二行输出所求的期望，它应当是一个实数。\n  \n  如果您的答案与标准答案相差不超过 $10^{-4}$，则判定为正确。但由于众所周知的浮点数的误差，不保证评测结果百分百准确。如果您确信自己的程序正确但无法 AC，可以尝试使用第二种输出方式。\n\n- 第二种输出格式：\n  \n  请在第一行输出 `2`。\n  \n  接下来，若你求出的期望是 $\\dfrac{m}{n}$（显然期望为一个有理数），则请在第二行输出它对 $998244353$ 取模的结果，即一个 $[0, 998244353)$ 的整数 $x$，使得 $xn \\equiv m \\pmod {998244353}$。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 1（20 points）：$n \\leq 15$。\n- Subtask 2（15 points）：保证 $\\forall i \\in [1, n), a_i \\leq a_{i+1}$，$a_n \\geq a_{n-1}+s$。\n- Subtask 3（15 points）：保证 $\\forall i,j\\in[1,n], a_i = a_j$。\n- Subtask 4（50 points）：无特殊限制。\n\n对于所有测试数据，$1 \\leq n \\leq 10^5$，$1 \\leq p \\lt q \\leq 10^7$，$1 \\leq a_i,s \\leq 10^7$。\n\n### 样例解释\n\n注意到两个样例的输入相同，区别仅在于输出格式不同。\n\n以下列举了所有可能的魔法施加情况和其对应的最大值以及出现概率：\n\n| 魔法情况 | 动听度最大值 | 出现概率 | 对期望的贡献 |\n| :------: | :----------: | :------: | :----------: |\n|${\\color{black}1},{\\color{black}2},{\\color{black}3}$|$3$|$\\dfrac{8}{27}$|$\\dfrac{8}{9}$|\n|${\\color{red}3},{\\color{black}2},{\\color{black}3}$|$3$|$\\dfrac{4}{27}$|$\\dfrac{4}{9}$|\n|${\\color{black}1},{\\color{red}4},{\\color{black}3}$|$4$|$\\dfrac{4}{27}$|$\\dfrac{16}{27}$|\n|${\\color{black}1},{\\color{black}2},{\\color{red}5}$|$5$|$\\dfrac{4}{27}$|$\\dfrac{20}{27}$|\n|${\\color{red}3},{\\color{red}4},{\\color{black}3}$|$4$|$\\dfrac{2}{27}$|$\\dfrac{8}{27}$|\n|${\\color{red}3},{\\color{black}2},{\\color{red}5}$|$5$|$\\dfrac{2}{27}$|$\\dfrac{10}{27}$|\n|${\\color{black}1},{\\color{red}4},{\\color{red}5}$|$5$|$\\dfrac{2}{27}$|$\\dfrac{10}{27}$|\n|${\\color{red}3},{\\color{red}4},{\\color{red}5}$|$5$|$\\dfrac{1}{27}$|$\\dfrac{5}{27}$|\n\n可得，最终的答案为 $\\dfrac{35}{9}$。\n\n+ 若使用第一种输出方式，它的值约为 $3.888889$。\n+ 若使用第二种输出方式，可以发现 $554580200 \\times 9 \\equiv 35 \\pmod {998244353}$。", "locale": "zh-CN"}}}
{"pid": "P9218", "type": "P", "difficulty": 4, "samples": [["5\n11.4514\n11.4778\n11.1338\n11.1236\n11.4789", "10\n11\n9\n9\n11"], ["8\n1.1145\n1.114\n1.1145\n1.514\n1.19198\n1.1154\n1.114\n1.1145", "24\n21\n24\n10\n18\n22\n21\n24"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "最近公共祖先 LCA", "进制", "字典树 Trie", "单调栈"], "title": "「TAOI-1」Apollo", "background": "Execution.\n\n这题原来叫 `std::cout << std::fixed << std::setprecision(1) << 6.5 << '\\n';`。\n\n[被当事人删掉的图片.jpg]\n\n**【Upd 2023/04/15 21:42】添加了一组 Hack 数据位于 Subtask 2，#13。现在所有赛时的 $\\bm{50}$ 分提交理论上均只能获得 $\\bm{30}$ 分。**", "description": "给出 $n$ 个十进制小数 $a_1 \\dots a_n$。\n\n对于一个 **数** $a$，定义其精度 $f(a)$ 表示最小的非负整数 $k$ 使得 $10^k\\times a$ 为整数；对于整数 $a$，定义 $f(a) = 0$。对于两个十进制小数 $a, b$，定义 $g(a, b)$ 为对于所有 **数** $c \\in [\\min(a,b), \\max(a,b)]$ 的 $f(c)$ 的最小值。\n\n对于所有 $1 \\leq i \\leq n$，你需要求出 $\\sum\\limits_{j=1}^ng(a_i, a_j)$ 的值并输出。\n\n定义十进制小数是一个含有整数部分和小数部分的数，其小数部分不为 $0$。之所以描述得这么愚蠢是因为保证输入的每个数都有小数点，但是好像无论什么写法都会有人提出不满，真是抱歉了。~~所以还是得看看被当事人删掉的图片。所以我在这里写闲话有人看得到吗。~~", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个十进制小数 $a_i$。", "outputFormat": "$n$ 行，每行一个整数，分别表示 $i = 1 \\dots n$ 对应的答案。", "hint": "### 数据范围\n\n**本题采用捆绑测试。**\n\n令 $\\sum\\limits_{i=1}^n f(a_i) = t$。\n\n- Subtask 1（15 points）：$a_i \\leq 10$，$n \\leq 5$，$t \\leq 10$。\n- Subtask 2（15 points）：$a_i \\leq 10$，$n \\leq 100$，$t \\leq 1000$。\n- Subtask 3（20 points）：$n \\leq 1722$。\n- Subtask 4（15 points）：$a_i \\leq 1$。\n- Subtask 5（35 points）：无特殊限制。\n\n对于所有数据，$0 \\lt a_i \\lt 10^9$，$1 \\leq n \\leq 10^5$，$1 \\leq t \\leq 3 \\times 10^6$，**保证 $\\bm{a_i}$ 没有后导 [$\\color{black}\\bm 0$](https://cdn.luogu.com.cn/upload/image_hosting/pg66fm1z.png)，不保证 $\\bm{a_i}$ 互不相同**。\n\n### 样例解释\n\n以 $i = 1$ 为例：\n\n+ $j = 1$：取 $c = 11.4514$，$f(c) = 4$；\n+ $j = 2$：取 $c = 11.46$，$f(c) = 2$；\n+ $j = 3$：取 $c = 11.2$，$f(c) = 1$；\n+ $j = 4$：取 $c = 11.3$，$f(c) = 1$；\n+ $j = 5$：取 $c = 11.47$，$f(c) = 2$。\n\n故 $\\sum\\limits_{j=1}^n g(a_1, a_j) = 4 + 2 + 1 + 1 + 2 = 10$。对于同一个 $j$，上文给出的所有 $c$，都可能有其它的不同的 $c$ 满足 $f(c)$ 同样最小。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-1」Apollo", "background": "Execution.\n\n这题原来叫 `std::cout << std::fixed << std::setprecision(1) << 6.5 << '\\n';`。\n\n[被当事人删掉的图片.jpg]\n\n**【Upd 2023/04/15 21:42】添加了一组 Hack 数据位于 Subtask 2，#13。现在所有赛时的 $\\bm{50}$ 分提交理论上均只能获得 $\\bm{30}$ 分。**", "description": "给出 $n$ 个十进制小数 $a_1 \\dots a_n$。\n\n对于一个 **数** $a$，定义其精度 $f(a)$ 表示最小的非负整数 $k$ 使得 $10^k\\times a$ 为整数；对于整数 $a$，定义 $f(a) = 0$。对于两个十进制小数 $a, b$，定义 $g(a, b)$ 为对于所有 **数** $c \\in [\\min(a,b), \\max(a,b)]$ 的 $f(c)$ 的最小值。\n\n对于所有 $1 \\leq i \\leq n$，你需要求出 $\\sum\\limits_{j=1}^ng(a_i, a_j)$ 的值并输出。\n\n定义十进制小数是一个含有整数部分和小数部分的数，其小数部分不为 $0$。之所以描述得这么愚蠢是因为保证输入的每个数都有小数点，但是好像无论什么写法都会有人提出不满，真是抱歉了。~~所以还是得看看被当事人删掉的图片。所以我在这里写闲话有人看得到吗。~~", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个十进制小数 $a_i$。", "outputFormat": "$n$ 行，每行一个整数，分别表示 $i = 1 \\dots n$ 对应的答案。", "hint": "### 数据范围\n\n**本题采用捆绑测试。**\n\n令 $\\sum\\limits_{i=1}^n f(a_i) = t$。\n\n- Subtask 1（15 points）：$a_i \\leq 10$，$n \\leq 5$，$t \\leq 10$。\n- Subtask 2（15 points）：$a_i \\leq 10$，$n \\leq 100$，$t \\leq 1000$。\n- Subtask 3（20 points）：$n \\leq 1722$。\n- Subtask 4（15 points）：$a_i \\leq 1$。\n- Subtask 5（35 points）：无特殊限制。\n\n对于所有数据，$0 \\lt a_i \\lt 10^9$，$1 \\leq n \\leq 10^5$，$1 \\leq t \\leq 3 \\times 10^6$，**保证 $\\bm{a_i}$ 没有后导 [$\\color{black}\\bm 0$](https://cdn.luogu.com.cn/upload/image_hosting/pg66fm1z.png)，不保证 $\\bm{a_i}$ 互不相同**。\n\n### 样例解释\n\n以 $i = 1$ 为例：\n\n+ $j = 1$：取 $c = 11.4514$，$f(c) = 4$；\n+ $j = 2$：取 $c = 11.46$，$f(c) = 2$；\n+ $j = 3$：取 $c = 11.2$，$f(c) = 1$；\n+ $j = 4$：取 $c = 11.3$，$f(c) = 1$；\n+ $j = 5$：取 $c = 11.47$，$f(c) = 2$。\n\n故 $\\sum\\limits_{j=1}^n g(a_1, a_j) = 4 + 2 + 1 + 1 + 2 = 10$。对于同一个 $j$，上文给出的所有 $c$，都可能有其它的不同的 $c$ 满足 $f(c)$ 同样最小。", "locale": "zh-CN"}}}
{"pid": "P9219", "type": "P", "difficulty": 4, "samples": [["1\n3 114514\n\n3\n\n2\n\n1\n", "\n\n? 1 2\n\n? 1 3\n\n? 2 3\n\n! 1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["交互题", "Special Judge", "O2优化"], "title": "「TAOI-1」Antipathy World", "background": "> 簡単なことも解らないわ \\\n> あたしって何だっけ \\\n> それすら夜の手に絆されて \\\n> 愛のように 消える 消える \\\n> さようならも言えぬ儘泣いた フォニイ フォニイ フォニイ \\\n> 嘘に絡まっているあたしはフォニイ \\\n> **ANTIPATHY WORLD**", "description": "**这是一道 IO 交互题。**\n\n可不有 $n$ 朵花，每朵花有一个正整数美丽度。\n\n她发现，有一朵花的美丽度不小于其它任何一朵花的美丽度的两倍。\n\n你想知道这朵花是哪一朵，于是你可以进行至多 $k$ 次询问，每次询问你给出两个正整数 $i,j \\in [1, n]$，可不会告诉你第 $i$ 朵和第 $j$ 朵花的美丽度之差的绝对值。\n\n你想运用这些询问的答案，得到最美丽的花是第几朵。\n\n### 交互格式\n\n**本题有多组数据**。\n\n第一行交互库给出一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行输入两个正整数 $n,k$。\n\n对于你的每组询问，你输出 `? i j`，交互库会返回一个非负整数，表示第 $i$ 朵和第 $j$ 朵花的美丽度之差。\n\n如果你已经得到答案，输出 `! i` 代表你得到第 $i$ 朵花为最美丽的花。在此之后你应该开始对下一组数据的处理。\n\n每次你输出之后，请**刷新缓冲区**。\n\n你可以使用如下语句来清空缓冲区：\n\n- 对于 C/C++：`fflush(stdout)`；\n- 对于 C++：`std::cout << std::flush`；\n- 对于 Java：`System.out.flush()`；\n- 对于 Python：`stdout.flush()`；\n- 对于 Pascal：`flush(output)`；\n- 对于其他语言，请自行查阅对应语言的帮助文档。\n\n特别的，对于 C++ 语言，在输出换行时如果你使用 `std::endl` 而不是 `'\\n'`，也可以自动刷新缓冲区。", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "样例中给出了一种可能的交互方式，其中花的美丽度为 $\\{4,1,2\\}$。\n\n---\n\n**本题采用捆绑测试**。\n\n- Subtask 1（20 points）：$k=\\dfrac{n(n-1)}{2}$，$n \\le 200$。\n- Subtask 2（30 points）：$k=n$。\n- Subtask 3（50 points）：$k=\\left\\lfloor\\dfrac{n}{2}\\right\\rfloor+2$。\n\n对于所有测试数据，设所有花的美丽度为 $a_i$，$1 \\le T \\le 25$，$3 \\le n \\le 5 \\times 10^4$，$1 \\le a_i \\le 10^8$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-1」Antipathy World", "background": "> 簡単なことも解らないわ \\\n> あたしって何だっけ \\\n> それすら夜の手に絆されて \\\n> 愛のように 消える 消える \\\n> さようならも言えぬ儘泣いた フォニイ フォニイ フォニイ \\\n> 嘘に絡まっているあたしはフォニイ \\\n> **ANTIPATHY WORLD**", "description": "**这是一道 IO 交互题。**\n\n可不有 $n$ 朵花，每朵花有一个正整数美丽度。\n\n她发现，有一朵花的美丽度不小于其它任何一朵花的美丽度的两倍。\n\n你想知道这朵花是哪一朵，于是你可以进行至多 $k$ 次询问，每次询问你给出两个正整数 $i,j \\in [1, n]$，可不会告诉你第 $i$ 朵和第 $j$ 朵花的美丽度之差的绝对值。\n\n你想运用这些询问的答案，得到最美丽的花是第几朵。\n\n### 交互格式\n\n**本题有多组数据**。\n\n第一行交互库给出一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行输入两个正整数 $n,k$。\n\n对于你的每组询问，你输出 `? i j`，交互库会返回一个非负整数，表示第 $i$ 朵和第 $j$ 朵花的美丽度之差。\n\n如果你已经得到答案，输出 `! i` 代表你得到第 $i$ 朵花为最美丽的花。在此之后你应该开始对下一组数据的处理。\n\n每次你输出之后，请**刷新缓冲区**。\n\n你可以使用如下语句来清空缓冲区：\n\n- 对于 C/C++：`fflush(stdout)`；\n- 对于 C++：`std::cout << std::flush`；\n- 对于 Java：`System.out.flush()`；\n- 对于 Python：`stdout.flush()`；\n- 对于 Pascal：`flush(output)`；\n- 对于其他语言，请自行查阅对应语言的帮助文档。\n\n特别的，对于 C++ 语言，在输出换行时如果你使用 `std::endl` 而不是 `'\\n'`，也可以自动刷新缓冲区。", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "样例中给出了一种可能的交互方式，其中花的美丽度为 $\\{4,1,2\\}$。\n\n---\n\n**本题采用捆绑测试**。\n\n- Subtask 1（20 points）：$k=\\dfrac{n(n-1)}{2}$，$n \\le 200$。\n- Subtask 2（30 points）：$k=n$。\n- Subtask 3（50 points）：$k=\\left\\lfloor\\dfrac{n}{2}\\right\\rfloor+2$。\n\n对于所有测试数据，设所有花的美丽度为 $a_i$，$1 \\le T \\le 25$，$3 \\le n \\le 5 \\times 10^4$，$1 \\le a_i \\le 10^8$。", "locale": "zh-CN"}}}
{"pid": "P9220", "type": "P", "difficulty": 5, "samples": [["2\n2 1\n1 0\n2 1\n3 2\n1 0 1\n1 2\n2 3", "AN"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["博弈论", "O2优化", "拓扑排序", "强连通分量", "Tarjan"], "title": "「TAOI-1」椎名真昼", "background": "**请注意赛后题目添加了多测。因此请将您的赛时代码进行修改后再提交。**", "description": "你正在看轻小说，突然你的家长走了进来，于是你假装在写 OI 题目。\n\nAlice 和 Bob 正在玩一款游戏，给定一个有向图，每个点初始有一个颜色（黑或白）。\n\n双方轮流进行操作，Alice 先手，每次操作选定一个节点，将所有从该点开始，能到达的点（包括自身）颜色翻转。如果某次操作后所有节点都变为白色，则进行该次操作的人胜利。\n\n假如双方都采用最优策略使得自己胜利，或者如果自己无法胜利，使得对方无法胜利。\n\n给你节点的初始状态，请你求出最终的胜者，亦或者，没有胜者。\n\n---\n\n定义点 $u$ 能到达点 $v$，当且仅当存在数列 $(a_1,a_2,a_3,\\cdots,a_k)$，其中 $k \\ge 1$，使得 $\\forall i \\in [1,k)$，存在有向边 $a_i \\to a_{i+1}$，且 $a_1=u$，$a_k=v$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行一个正整数 $T$，代表数据组数。\n\n对于每组测试数据：\n\n第一行两个整数 $n, m$，代表图的点数，边数。\n\n第二行 $n$ 个整数，代表每个点开始时的颜色。$1$ 代表黑色，$0$ 代表白色。\n\n接下来 $m$ 行，每行两个整数 $u, v$ 代表一条从 $u \\to v$ 的边。", "outputFormat": "对于每组测试数据：\n\n如果最后 Alice 胜利，输出 `A`。\n\n如果最后 Bob 胜利，输出 `B`。\n\n如果双方（在对方的阻止下）都无法胜利，输出 `N`。\n\n您无需输出空格或换行符。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 1（5 points）：$n \\leq 2$，$m \\leq 1$，$T=1$。\n- Subtask 2（15 points）：$n \\leq 5$，$m \\leq 8$，$T=1$。\n- Subtask 3（25 points）：保证所有点的初始颜色相同。\n- Subtask 4（55 points）：无特殊限制。\n\n对于所有测试数据，$1 \\leq n \\leq 10^5$，$1 \\leq m \\leq 2 \\times 10^5$，$1 \\le T \\le 15$。\n\n### 样例解释\n\n在第一组数据中，Alice 可以先手对节点 $1$ 进行操作。操作后所有节点变为白色。\n\n在第二组数据中，双方都没有必胜的方法，因此双方会互相拖延对方阻止对方获胜。\n\n---\n\n「据说如果无论如何都输出 `N` 的话，有 $45\\%$ 的几率能够得到正确答案？」\n\n「怎么可能，不会真的有人造出这么蠢的数据吧……」", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-1」椎名真昼", "background": "**请注意赛后题目添加了多测。因此请将您的赛时代码进行修改后再提交。**", "description": "你正在看轻小说，突然你的家长走了进来，于是你假装在写 OI 题目。\n\nAlice 和 Bob 正在玩一款游戏，给定一个有向图，每个点初始有一个颜色（黑或白）。\n\n双方轮流进行操作，Alice 先手，每次操作选定一个节点，将所有从该点开始，能到达的点（包括自身）颜色翻转。如果某次操作后所有节点都变为白色，则进行该次操作的人胜利。\n\n假如双方都采用最优策略使得自己胜利，或者如果自己无法胜利，使得对方无法胜利。\n\n给你节点的初始状态，请你求出最终的胜者，亦或者，没有胜者。\n\n---\n\n定义点 $u$ 能到达点 $v$，当且仅当存在数列 $(a_1,a_2,a_3,\\cdots,a_k)$，其中 $k \\ge 1$，使得 $\\forall i \\in [1,k)$，存在有向边 $a_i \\to a_{i+1}$，且 $a_1=u$，$a_k=v$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行一个正整数 $T$，代表数据组数。\n\n对于每组测试数据：\n\n第一行两个整数 $n, m$，代表图的点数，边数。\n\n第二行 $n$ 个整数，代表每个点开始时的颜色。$1$ 代表黑色，$0$ 代表白色。\n\n接下来 $m$ 行，每行两个整数 $u, v$ 代表一条从 $u \\to v$ 的边。", "outputFormat": "对于每组测试数据：\n\n如果最后 Alice 胜利，输出 `A`。\n\n如果最后 Bob 胜利，输出 `B`。\n\n如果双方（在对方的阻止下）都无法胜利，输出 `N`。\n\n您无需输出空格或换行符。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 1（5 points）：$n \\leq 2$，$m \\leq 1$，$T=1$。\n- Subtask 2（15 points）：$n \\leq 5$，$m \\leq 8$，$T=1$。\n- Subtask 3（25 points）：保证所有点的初始颜色相同。\n- Subtask 4（55 points）：无特殊限制。\n\n对于所有测试数据，$1 \\leq n \\leq 10^5$，$1 \\leq m \\leq 2 \\times 10^5$，$1 \\le T \\le 15$。\n\n### 样例解释\n\n在第一组数据中，Alice 可以先手对节点 $1$ 进行操作。操作后所有节点变为白色。\n\n在第二组数据中，双方都没有必胜的方法，因此双方会互相拖延对方阻止对方获胜。\n\n---\n\n「据说如果无论如何都输出 `N` 的话，有 $45\\%$ 的几率能够得到正确答案？」\n\n「怎么可能，不会真的有人造出这么蠢的数据吧……」", "locale": "zh-CN"}}}
{"pid": "P9221", "type": "P", "difficulty": 5, "samples": [["2 3 2\n1 1\n2 1", "8"], ["4 4 4\n1 1\n2 2\n3 3\n4 4", "0"], ["6 5 4\n1 3\n3 1\n3 4\n5 2", "2000"], ["100000000 100000000 0", "103866487"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "线段树", "颜色段均摊（珂朵莉树 ODT）", "O2优化"], "title": "「TAOI-1」Pentiment", "background": "近日（存疑），一款名为闊靛緥婧愮偣的游戏更新了它的 4.0 版本。在这个版本中某谱面中的大直角蛇给玩家们留下了深刻的印象……\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qbdvtftu.png)", "description": "我们规定，在 $n$ 行 $m$ 列的网格中，“直角蛇”是这样一条路径：\n\n- 从最下方（第一行）的某个格子的中心开始，在最上方（第 $n$ 行）的某个格子的中心结束。\n- 每次可以向上、向右或向左移动一格，每次移动后都到达某个格子的中心（**不能向下移动**）。\n- 不能重复经过同一个格子。\n\n特别地，为了给你增加一些考验，我们规定有一些格子是“直角蛇”不能经过的。\n\n请你统计在给定的网格中存在多少种这样的“直角蛇”。答案对 $998244353$ 取模。", "inputFormat": "第一行三个整数 $n, m, q$，代表网格的行数和列数，以及限制的数量。\n\n接下来的 $q$ 行，每行两个整数 $x_i, y_i$，代表第 $x_i$ 行第 $y_i$ 列的格子不能经过。保证同一个格子至多出现一次。保证所有格子按照 $x_i$ 为第一关键字，$y_i$ 为第二关键字，从小到大排序后给出。（我们规定最下方的格子的行数为 $1$，最左侧格子的列数为 $1$）", "outputFormat": "共一行一个整数，代表符合条件的“直角蛇”数量对 $998244353$ 取模的结果。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 1（10 points）：$n \\leq 10^6$，$m \\leq 2$。\n- Subtask 2（10 points）：$q=0$。\n- Subtask 3（15 points）：$n,m \\leq 10^4$。\n- Subtask 4（20 points）：$n \\leq 10^4$。\n- Subtask 5（20 points）：$m \\leq 10^4$。\n- Subtask 6（25 points）：无特殊限制。\n\n对于所有测试数据，$2 \\leq n \\leq 10^9$，$1 \\leq m \\leq 10^9$，$0 \\leq q \\leq 10^5$，$1 \\leq x_i \\leq n$，$1 \\leq y_i \\leq m$。\n\n### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dkyhh41q.png)\n\n如图，样例一中共有八种满足条件的“直角蛇”。\n\n对于样例二，不存在满足条件的“直角蛇”。\n\n---\n\n在寂若死灰中屈服。\n\n在飘忽不定中屈服。\n\n在功亏一篑中屈服。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-1」Pentiment", "background": "近日（存疑），一款名为闊靛緥婧愮偣的游戏更新了它的 4.0 版本。在这个版本中某谱面中的大直角蛇给玩家们留下了深刻的印象……\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qbdvtftu.png)", "description": "我们规定，在 $n$ 行 $m$ 列的网格中，“直角蛇”是这样一条路径：\n\n- 从最下方（第一行）的某个格子的中心开始，在最上方（第 $n$ 行）的某个格子的中心结束。\n- 每次可以向上、向右或向左移动一格，每次移动后都到达某个格子的中心（**不能向下移动**）。\n- 不能重复经过同一个格子。\n\n特别地，为了给你增加一些考验，我们规定有一些格子是“直角蛇”不能经过的。\n\n请你统计在给定的网格中存在多少种这样的“直角蛇”。答案对 $998244353$ 取模。", "inputFormat": "第一行三个整数 $n, m, q$，代表网格的行数和列数，以及限制的数量。\n\n接下来的 $q$ 行，每行两个整数 $x_i, y_i$，代表第 $x_i$ 行第 $y_i$ 列的格子不能经过。保证同一个格子至多出现一次。保证所有格子按照 $x_i$ 为第一关键字，$y_i$ 为第二关键字，从小到大排序后给出。（我们规定最下方的格子的行数为 $1$，最左侧格子的列数为 $1$）", "outputFormat": "共一行一个整数，代表符合条件的“直角蛇”数量对 $998244353$ 取模的结果。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 1（10 points）：$n \\leq 10^6$，$m \\leq 2$。\n- Subtask 2（10 points）：$q=0$。\n- Subtask 3（15 points）：$n,m \\leq 10^4$。\n- Subtask 4（20 points）：$n \\leq 10^4$。\n- Subtask 5（20 points）：$m \\leq 10^4$。\n- Subtask 6（25 points）：无特殊限制。\n\n对于所有测试数据，$2 \\leq n \\leq 10^9$，$1 \\leq m \\leq 10^9$，$0 \\leq q \\leq 10^5$，$1 \\leq x_i \\leq n$，$1 \\leq y_i \\leq m$。\n\n### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dkyhh41q.png)\n\n如图，样例一中共有八种满足条件的“直角蛇”。\n\n对于样例二，不存在满足条件的“直角蛇”。\n\n---\n\n在寂若死灰中屈服。\n\n在飘忽不定中屈服。\n\n在功亏一篑中屈服。", "locale": "zh-CN"}}}
{"pid": "P9222", "type": "P", "difficulty": 2, "samples": [["7\n11:30 12:20\n12:20 5:00\n11:45 1:04\n12:10 12:59\n1:09 8:01\n12:00 1:00\n12:00 12:00", "Yes\nNo\nYes\nNo\nNo\nNo\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "「PEOI Rd1」Morning or Afternoon", "background": "", "description": "有一个可用转盘显示日期的指针闹钟，我从一个时刻观测到了另一个时刻（闭区间），现在我想知道我是否一定可以通过判断这期间日期的变化情况来推断出现在是上午还是下午。\n\n闹钟在上午 $12:00$ 准时更新日期。\n\n上午/下午 $11:59$ 后的时刻为 下午/上午 $12:00$，上午/下午 $12:59$ 后的时刻为 上午/下午 $1:00$。", "inputFormat": "第一行输入一个正整数 $T$ 表示数据组数。\n\n接下来 $T$ 行每行两个时刻以空格隔开，表示起始观测和终止观测的时刻。注意观测时间区间是闭区间。\n\n时刻以 $\\texttt{(a)b:cd}$ 的形式给出，其中 $\\texttt{ab}$ 表示小时数，$\\texttt{cd}$ 表示分钟数。如果 $\\tt a$ 位不省略，那么 ${\\tt a}\\not=0$。保证 $\\\\texttt{ab}\\in[1,12]$，$\\texttt{cd}\\in[0,59]$。", "outputFormat": "对于每组数据输出一行，如果一定可以判断，输出 `Yes`，否则输出 `No`。", "hint": "### 样例解释#1\n因为我从 $11:30$ 看到了 $12:20$（假设 $12:20$ 是第一次观测到；后面的 $12:20$ 的上下午情况可以根据现在的情况推出，因为我知道右端点的 $12:20$ 是第几次观测到），我可以通过判断这期间日期有没有变化来判断这个时刻是上午还是下午。比如，我看到这段时间里闹钟更新了日期，那么 $12:20$ 一定是上午；反之 $12:20$ 一定是下午。\n\n样例#3 同理。\n### 样例解释#2\n有可能是上午 $12:20$ 到上午 $5:00$，也有可能是下午 $12:20$ 到下午 $5:00$，这两种情况日期都不可能发生改变，所以我无法判断。\n\n### 数据范围\n对于 $18\\%$ 分数的数据，所有时刻保证不会出现 小时数 $=12$ 的情况（即不会出现 `12:25` 类型的时刻）。\n\n对于另外 $9\\%$ 分数的数据有 $T=1$。$\\color{#fff}\\sout\\text{不可以，总司令！}$\n\n对于 $100\\%$ 的数据 $T\\leqslant 100$，$\\overline\\texttt{ab}\\in[1,12]$，$\\overline\\texttt{cd}\\in[0,59]$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PEOI Rd1」Morning or Afternoon", "background": "", "description": "有一个可用转盘显示日期的指针闹钟，我从一个时刻观测到了另一个时刻（闭区间），现在我想知道我是否一定可以通过判断这期间日期的变化情况来推断出现在是上午还是下午。\n\n闹钟在上午 $12:00$ 准时更新日期。\n\n上午/下午 $11:59$ 后的时刻为 下午/上午 $12:00$，上午/下午 $12:59$ 后的时刻为 上午/下午 $1:00$。", "inputFormat": "第一行输入一个正整数 $T$ 表示数据组数。\n\n接下来 $T$ 行每行两个时刻以空格隔开，表示起始观测和终止观测的时刻。注意观测时间区间是闭区间。\n\n时刻以 $\\texttt{(a)b:cd}$ 的形式给出，其中 $\\texttt{ab}$ 表示小时数，$\\texttt{cd}$ 表示分钟数。如果 $\\tt a$ 位不省略，那么 ${\\tt a}\\not=0$。保证 $\\\\texttt{ab}\\in[1,12]$，$\\texttt{cd}\\in[0,59]$。", "outputFormat": "对于每组数据输出一行，如果一定可以判断，输出 `Yes`，否则输出 `No`。", "hint": "### 样例解释#1\n因为我从 $11:30$ 看到了 $12:20$（假设 $12:20$ 是第一次观测到；后面的 $12:20$ 的上下午情况可以根据现在的情况推出，因为我知道右端点的 $12:20$ 是第几次观测到），我可以通过判断这期间日期有没有变化来判断这个时刻是上午还是下午。比如，我看到这段时间里闹钟更新了日期，那么 $12:20$ 一定是上午；反之 $12:20$ 一定是下午。\n\n样例#3 同理。\n### 样例解释#2\n有可能是上午 $12:20$ 到上午 $5:00$，也有可能是下午 $12:20$ 到下午 $5:00$，这两种情况日期都不可能发生改变，所以我无法判断。\n\n### 数据范围\n对于 $18\\%$ 分数的数据，所有时刻保证不会出现 小时数 $=12$ 的情况（即不会出现 `12:25` 类型的时刻）。\n\n对于另外 $9\\%$ 分数的数据有 $T=1$。$\\color{#fff}\\sout\\text{不可以，总司令！}$\n\n对于 $100\\%$ 的数据 $T\\leqslant 100$，$\\overline\\texttt{ab}\\in[1,12]$，$\\overline\\texttt{cd}\\in[0,59]$。", "locale": "zh-CN"}}}
{"pid": "P9223", "type": "P", "difficulty": 3, "samples": [["2\n2 2\n3 3", "6\n12"], ["2\n4 8\n8 9", "144\n420"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "「PEOI Rd1」异或（xor）", "background": "", "description": "给定两个正整数 $n,m$，求：\n\n$$\\sum_{i=1}^{n}\\sum_{j=1}^{m}\\left(i \\oplus j\\right) $$\n\n其中，$\\oplus$ 表示按位异或运算（即 C++ 中的 `^` 符号）。答案对 $998244353$ 取模。", "inputFormat": "本题包含多组数据。\n\n第一行输入一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行输入两个整数 $n,m$。", "outputFormat": "输出共 $T$ 行，每行一个整数，表示每组询问的答案。", "hint": "#### 样例解释\n\n第一个样例第一组数据：\n\n$\\begin{aligned}&(1 \\oplus 1)+(1 \\oplus 2)+(2 \\oplus 1)+(2 \\oplus 2)\\\\=\\ &0+3+3+0\\\\=\\ &6\\end{aligned}$\n\n第二组数据：\n\n$\\begin{aligned}&(1 \\oplus 1)+(1 \\oplus 2)+(1 \\oplus 3)+(2 \\oplus 1)+(2 \\oplus 2)+(2 \\oplus 3)+(3 \\oplus 1)+(3 \\oplus 2)+(3 \\oplus 3)\\\\=\\ &0+3+2+3+0+1+2+1+0\\\\=\\ &12\\end{aligned}$\n\n---\n\n#### 数据范围\n\n|子任务|$n,m \\leq$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|\n|$1$|$10^3$|无|$10$|\n|$2$|$10^6$|无|$20$|\n|$3$|$10^{16}$|A|$20$|\n|$4$|$10^{16}$|无|$50$|\n\n- 特殊性质 A：保证 $n=2^p-1$，$m=2^q-1$，其中 $p,q\\in\\mathbb Z$。\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n,m \\leq 10^{16}$，$1 \\leq T \\leq 50$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PEOI Rd1」异或（xor）", "background": "", "description": "给定两个正整数 $n,m$，求：\n\n$$\\sum_{i=1}^{n}\\sum_{j=1}^{m}\\left(i \\oplus j\\right) $$\n\n其中，$\\oplus$ 表示按位异或运算（即 C++ 中的 `^` 符号）。答案对 $998244353$ 取模。", "inputFormat": "本题包含多组数据。\n\n第一行输入一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行输入两个整数 $n,m$。", "outputFormat": "输出共 $T$ 行，每行一个整数，表示每组询问的答案。", "hint": "#### 样例解释\n\n第一个样例第一组数据：\n\n$\\begin{aligned}&(1 \\oplus 1)+(1 \\oplus 2)+(2 \\oplus 1)+(2 \\oplus 2)\\\\=\\ &0+3+3+0\\\\=\\ &6\\end{aligned}$\n\n第二组数据：\n\n$\\begin{aligned}&(1 \\oplus 1)+(1 \\oplus 2)+(1 \\oplus 3)+(2 \\oplus 1)+(2 \\oplus 2)+(2 \\oplus 3)+(3 \\oplus 1)+(3 \\oplus 2)+(3 \\oplus 3)\\\\=\\ &0+3+2+3+0+1+2+1+0\\\\=\\ &12\\end{aligned}$\n\n---\n\n#### 数据范围\n\n|子任务|$n,m \\leq$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|\n|$1$|$10^3$|无|$10$|\n|$2$|$10^6$|无|$20$|\n|$3$|$10^{16}$|A|$20$|\n|$4$|$10^{16}$|无|$50$|\n\n- 特殊性质 A：保证 $n=2^p-1$，$m=2^q-1$，其中 $p,q\\in\\mathbb Z$。\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n,m \\leq 10^{16}$，$1 \\leq T \\leq 50$。", "locale": "zh-CN"}}}
{"pid": "P9224", "type": "P", "difficulty": 5, "samples": [["3 2\n1 1 1\n1 1 1", "2\n1 2"], ["6 1\n2 1 2 1 1 2", "2\n2 5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["O2优化"], "title": "「PEOI Rd1」k 叉堆（heap）", "background": "**数据范围较赛时加强**。\n\n- 2023.04.25：发现 1.50s 时限过于卡常，扩大到 2.00s。", "description": "给定一个 $1 \\sim n$ 的序列，每个位置 $i$ 有 $k$ 个参数 $a_{i,1},a_{i,2},\\dots,a_{i,k}$。已知这个序列是一个按照大根堆的 bfs 序得到的序列。\n\nbfs 序，即按照下图中**红色数字编号的顺序**：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/73ot5iox.png)\n\n一个大根堆满足条件，当且仅当所有子节点的**所有** $k$ 个权值都小于等于父节点，即 $\\forall u\\in[1,n],\\forall v\\in son(u),\\forall j \\in [1,k],a_{v,j} \\leq a_{u,j}$。\n\n假设这个大根堆是**完全 $m$ 叉树**，求所有 $m \\in [1,n-1]$，使得这个 $m$ 叉堆**满足条件**的 $m$ 的取值。", "inputFormat": "第一行两个整数 $n,k$。\n\n接下来 $k$ 行，每行 $n$ 个整数，表示给定的序列。其中，第 $i+1$ 行第 $j$ 列表示的是 $a_{j,i}$。\n\n可以理解为，分成 $k$ 行给出了所有位置的 $k$ 个参数。", "outputFormat": "第一行一个整数 $A$，表示所有可能的 $m$ 的取值数量。\n\n接下来一行 $A$ 个整数，表示所有的可能的 $m$ 的取值。", "hint": "#### 样例解释\n\n样例 $1$ 中，$1,2$ 叉堆显然都符合条件。\n\n---\n\n#### 数据范围\n\n|子任务编号|$n \\leq$|分值|\n|:-:|:-:|:-:|\n|$1$|$10^3$|$20$|\n|$2$|$5 \\times 10^4$|$20$|\n|$3$|$2 \\times 10^5$|$60$|\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k \\leq 8$，$-10^7 \\leq a_{i,j} \\leq 10^7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PEOI Rd1」k 叉堆（heap）", "background": "**数据范围较赛时加强**。\n\n- 2023.04.25：发现 1.50s 时限过于卡常，扩大到 2.00s。", "description": "给定一个 $1 \\sim n$ 的序列，每个位置 $i$ 有 $k$ 个参数 $a_{i,1},a_{i,2},\\dots,a_{i,k}$。已知这个序列是一个按照大根堆的 bfs 序得到的序列。\n\nbfs 序，即按照下图中**红色数字编号的顺序**：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/73ot5iox.png)\n\n一个大根堆满足条件，当且仅当所有子节点的**所有** $k$ 个权值都小于等于父节点，即 $\\forall u\\in[1,n],\\forall v\\in son(u),\\forall j \\in [1,k],a_{v,j} \\leq a_{u,j}$。\n\n假设这个大根堆是**完全 $m$ 叉树**，求所有 $m \\in [1,n-1]$，使得这个 $m$ 叉堆**满足条件**的 $m$ 的取值。", "inputFormat": "第一行两个整数 $n,k$。\n\n接下来 $k$ 行，每行 $n$ 个整数，表示给定的序列。其中，第 $i+1$ 行第 $j$ 列表示的是 $a_{j,i}$。\n\n可以理解为，分成 $k$ 行给出了所有位置的 $k$ 个参数。", "outputFormat": "第一行一个整数 $A$，表示所有可能的 $m$ 的取值数量。\n\n接下来一行 $A$ 个整数，表示所有的可能的 $m$ 的取值。", "hint": "#### 样例解释\n\n样例 $1$ 中，$1,2$ 叉堆显然都符合条件。\n\n---\n\n#### 数据范围\n\n|子任务编号|$n \\leq$|分值|\n|:-:|:-:|:-:|\n|$1$|$10^3$|$20$|\n|$2$|$5 \\times 10^4$|$20$|\n|$3$|$2 \\times 10^5$|$60$|\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k \\leq 8$，$-10^7 \\leq a_{i,j} \\leq 10^7$。", "locale": "zh-CN"}}}
{"pid": "P9225", "type": "P", "difficulty": 6, "samples": [["3\n1 2 3\n3 2 1", "3"], ["3\n1 2 100\n1 2 1", "5"], ["4\n1 2 100 100\n1 2 1 1", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "O2优化", "斜率优化"], "title": "「PEOI Rd1」寻宝（treasure）", "background": "", "description": "有一天 wrzSama 在寻宝，突然他掉到了一个神奇的房间里。这个房间里有 $n$ 个机器，第 $i$ 个机器可以生产 $2^i$ 个钻石。\n\n具体地，wrzSama 可以用 $a_i$ 的时间开动第 $i$ 个机器，让它生产 $2^i$ 个钻石。这些机器有个很特殊的性质，每当他用一次第 $i$ 个机器后，会让它的开动时间 $a_i$ 加上 $b_i$。这意味着当他要第二次得到这 $2^i$ 个钻石时就需要 $a_i + b_i$ 的时间，每次不断累加，第 $x$ 次开动就需要 $a_i+(x-1)b_i$ 的时间。\n\nwrzSama 需要得到至少 $2^n$ 个钻石来得到宝藏，请问他最少需要多长时间。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，表示 $a_1,a_2,\\dots,a_n$。\n\n第三行 $n$ 个正整数，表示 $b_1,b_2,\\dots,b_n$。", "outputFormat": "一行一个正整数，即为答案。", "hint": "#### 样例解释\n\n样例 1 解释：直接获得 $2^3$，花费 3 的时间。\n\n样例 2 解释：获得 2 个 $2^1$，花费 3 的时间，然后再花 2 的时间获得一个 $2^2$，这样 wrzSama 就可以得到 $2 \\times 2^1 + 2^2 = 8 = 2^n$ 了。\n\n样例 3 解释：获得 2 个 $2^1$ 和 3 个 $2^2$。\n\n---\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n|子任务|分值|特殊限制|\n|:-:|:-:|:-:|\n|$1$|$16$|$1 \\leq n \\leq 10$|\n|$2$|$16$|$1 \\leq n \\leq 20$|\n|$3$|$24$|$1 \\leq a_i \\leq 3 \\times 10^3$|\n|$4$|$44$|无|\n\n对于 $100\\%$ 的数据，保证 $1 \\le n \\le 10^3$，$1 \\le a_i,b_i \\le 10^7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PEOI Rd1」寻宝（treasure）", "background": "", "description": "有一天 wrzSama 在寻宝，突然他掉到了一个神奇的房间里。这个房间里有 $n$ 个机器，第 $i$ 个机器可以生产 $2^i$ 个钻石。\n\n具体地，wrzSama 可以用 $a_i$ 的时间开动第 $i$ 个机器，让它生产 $2^i$ 个钻石。这些机器有个很特殊的性质，每当他用一次第 $i$ 个机器后，会让它的开动时间 $a_i$ 加上 $b_i$。这意味着当他要第二次得到这 $2^i$ 个钻石时就需要 $a_i + b_i$ 的时间，每次不断累加，第 $x$ 次开动就需要 $a_i+(x-1)b_i$ 的时间。\n\nwrzSama 需要得到至少 $2^n$ 个钻石来得到宝藏，请问他最少需要多长时间。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，表示 $a_1,a_2,\\dots,a_n$。\n\n第三行 $n$ 个正整数，表示 $b_1,b_2,\\dots,b_n$。", "outputFormat": "一行一个正整数，即为答案。", "hint": "#### 样例解释\n\n样例 1 解释：直接获得 $2^3$，花费 3 的时间。\n\n样例 2 解释：获得 2 个 $2^1$，花费 3 的时间，然后再花 2 的时间获得一个 $2^2$，这样 wrzSama 就可以得到 $2 \\times 2^1 + 2^2 = 8 = 2^n$ 了。\n\n样例 3 解释：获得 2 个 $2^1$ 和 3 个 $2^2$。\n\n---\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n|子任务|分值|特殊限制|\n|:-:|:-:|:-:|\n|$1$|$16$|$1 \\leq n \\leq 10$|\n|$2$|$16$|$1 \\leq n \\leq 20$|\n|$3$|$24$|$1 \\leq a_i \\leq 3 \\times 10^3$|\n|$4$|$44$|无|\n\n对于 $100\\%$ 的数据，保证 $1 \\le n \\le 10^3$，$1 \\le a_i,b_i \\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P9226", "type": "P", "difficulty": 1, "samples": [["10 3", "2"], ["16 4", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "洛谷月赛"], "title": "糖果", "background": "", "description": "三年级七班共有 $n$ 名同学。体育课开始，他们从左到右站成了一排，准备进行报数分组。\n\n体育老师口袋里有很多袋装的糖果（一个袋子里有很多糖果），他准备在分组的过程中顺便将这些袋装糖果分给同学们。\n\n具体地，在从左到右报数的过程中，每报数 $k$ 名同学，体育老师就会将这 $k$ 名同学划为一组，同时给予这 $k$ 名同学中的最后一名一袋糖果，让这最后一名同学来负责分发给组内的同学。也就是说，体育老师会依次给从左到右第 $k,2k,\\cdots$ 名同学一袋糖果。\n\n恰巧，三年级六班的同学听到了三年级七班发糖果的消息，于是他们打算混入队伍的末尾（即队伍最右侧），企图白嫖到一袋糖果。\n\n三年级六班的同学想知道，他们**至少**需要向队伍末尾混入多少人。", "inputFormat": "一行两个整数 $n, k$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n此时每 $3$ 人分一组。三年级六班只需要向队伍中混入 $2$ 名同学，就可以和原来三年级七班的最后 $1$ 名同学一同凑成一组。\n\n由于混入的这 $2$ 名同学在队伍的末尾，因此这一组中的最后一名同学一定是隔壁班的同学，因此隔壁班的同学可以白嫖到一袋糖果。\n\n### 样例 2 解释\n\n此时每 $4$ 人分一组。三年级七班的所有同学都已经分好了组，因此三年级六班需要完整地向队伍中混入 $4$ 名同学凑成一组，才能白嫖到一袋糖果。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10 ^ {9}$，$2 \\leq k \\leq 10 ^ 9$。\n\n| 测试点编号 | $n$ | $k$ |\n| :-----------: | :-----------: | :-----------: |\n| $1 \\sim 2$ | $\\leq 10$ | $= 2$ |\n| $3 \\sim 5$ | $\\leq 10$ | $\\leq 10$ |\n| $6 \\sim 10$ | $\\leq 1000$ | $\\leq 1000$ |\n| $11 \\sim 14$ | $\\leq 10 ^ 9$ | $= 2$ |\n| $15 \\sim 20$ | $\\leq 10 ^ 9$ | $\\leq 10 ^ 9$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "糖果", "background": "", "description": "三年级七班共有 $n$ 名同学。体育课开始，他们从左到右站成了一排，准备进行报数分组。\n\n体育老师口袋里有很多袋装的糖果（一个袋子里有很多糖果），他准备在分组的过程中顺便将这些袋装糖果分给同学们。\n\n具体地，在从左到右报数的过程中，每报数 $k$ 名同学，体育老师就会将这 $k$ 名同学划为一组，同时给予这 $k$ 名同学中的最后一名一袋糖果，让这最后一名同学来负责分发给组内的同学。也就是说，体育老师会依次给从左到右第 $k,2k,\\cdots$ 名同学一袋糖果。\n\n恰巧，三年级六班的同学听到了三年级七班发糖果的消息，于是他们打算混入队伍的末尾（即队伍最右侧），企图白嫖到一袋糖果。\n\n三年级六班的同学想知道，他们**至少**需要向队伍末尾混入多少人。", "inputFormat": "一行两个整数 $n, k$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n此时每 $3$ 人分一组。三年级六班只需要向队伍中混入 $2$ 名同学，就可以和原来三年级七班的最后 $1$ 名同学一同凑成一组。\n\n由于混入的这 $2$ 名同学在队伍的末尾，因此这一组中的最后一名同学一定是隔壁班的同学，因此隔壁班的同学可以白嫖到一袋糖果。\n\n### 样例 2 解释\n\n此时每 $4$ 人分一组。三年级七班的所有同学都已经分好了组，因此三年级六班需要完整地向队伍中混入 $4$ 名同学凑成一组，才能白嫖到一袋糖果。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10 ^ {9}$，$2 \\leq k \\leq 10 ^ 9$。\n\n| 测试点编号 | $n$ | $k$ |\n| :-----------: | :-----------: | :-----------: |\n| $1 \\sim 2$ | $\\leq 10$ | $= 2$ |\n| $3 \\sim 5$ | $\\leq 10$ | $\\leq 10$ |\n| $6 \\sim 10$ | $\\leq 1000$ | $\\leq 1000$ |\n| $11 \\sim 14$ | $\\leq 10 ^ 9$ | $= 2$ |\n| $15 \\sim 20$ | $\\leq 10 ^ 9$ | $\\leq 10 ^ 9$ |", "locale": "zh-CN"}}}
{"pid": "P9227", "type": "P", "difficulty": 2, "samples": [["1\n4 1\n1 2 3 4", "5 6 7 0"], ["1\n4 2\n0 0 0 1", "0 0 0 1"], ["见附件中的 samples/xor3.in", "见附件中的 samples/xor3.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2023", "O2优化", "位运算", "洛谷月赛"], "title": "异或积", "background": "$\\texttt{id: 4d7e}$\n\n小 H 在课堂上学习了异或运算。\n\n对于两个非负整数 $x,y$，它们的**异或**是指，将它们作为二进制数，对二进制表示中的每一位进行如下运算得到的结果：\n\n- $x$ 和 $y$ 的这一位上不同时，结果的这一位为 $1$；\n- $x$ 和 $y$ 的这一位上相同时，结果的这一位为 $0$。\n\n$x$ 和 $y$ 的异或被记为 $x \\operatorname{xor} y$ 或 $x \\oplus y$。\n\n在 C++ 中，你可以用 `x ^ y` 得到 $x$ 与 $y$ 的异或值。\n\n另外，若干个数的异或称之为**异或和**。", "description": "小 H 还了解到，一个长度为 $n$ 的数列 $a$ 的**异或积**是一个等长的数列 $b$，其中 $b_i$ 等于数列 $a$ 中除了 $a_i$ 以外其他元素的异或和，即\n\t\n$$b_i = \\bigoplus \\limits_{j = 1}^{n} [j\\ne i] a_j$$\n\t\n例如，数列 $\\{1, 2, 3, 4\\}$ 的异或积为 $\\{5, 6, 7, 0\\}$。\n\t\n**异或积变换**是指将一个数列用它的异或积替换的过程，由于异或积变换之后数列长度不变，所以异或积变换可以连续进行多次。\n\t\n现在，小 H 有一个长度为 $n$ 的数列 $a$，他想请你帮他计算出 $a$ 经过 $k$ 次异或积变换之后得到的序列。", "inputFormat": "**本题单个测试点内有多组测试数据**。\n\n第一行一个整数 $T$，表示测试数据组数。\n\t\n对于每一组测试数据：\n\t\n第一行两个整数 $n,k$。\n\t\n第二行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "对于每一组测试数据：\n\t\n一行 $n$ 个整数，表示数列 $a$ 经过 $k$ 次异或积变换之后得到的数列。", "hint": "### 样例 1 解释\n\n此样例即为题目描述中的例子。\n\n### 样例 2 解释\n\n第 $1$ 次异或积变换：$\\{0,0,0,1\\}\\to\\{1,1,1,0\\}$；\n\n第 $2$ 次异或积变换：$\\{1,1,1,0\\}\\to\\{0,0,0,1\\}$。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的测试数据，$1 \\le T \\le 10$，$2 \\le n \\le 10^5$，$1 \\le k \\le 10^{18}$，$0 \\le a_i < 2^{32}$。\n\n| 测试点编号 | $n\\leq$  | $k \\leq$  |特殊性质|\n| :----------: | :----------: | :----------: | :-----------: |\n| $1 \\sim 3$ | $100$ | $100$ | |\n| $4 \\sim 5$ | $1000$ | $1000$ | |\n| $6 \\sim 7$ | $3$ | $10^{18}$ | |\n| $8 \\sim 10$ | $10^5$ | $3$ | |\n| $11 \\sim 13$ | $10^5$ | $10^{18}$ | $a$ 中所有数的异或和为 $0$ |\n| $14 \\sim 15$ | $10^5$ | $10^{18}$ | $n$ 为奇数 |\n| $16 \\sim 17$ | $10^5$ | $10^{18}$ | $n$ 为偶数 |\n| $18 \\sim 20$ | $10^5$ | $10^{18}$ | |\n\n### 提示\n\n在 C++ 中，对于数据范围 $0\\le x<2^{32}$，你可以：\n\n- 使用 `unsigned int x` 来定义；\n- 使用 `cin >> x` 或 `scanf(\"%u\", &x)` 来输入；\n- 使用 `cout << x` 或 `printf(\"%u\", x)` 来输出。 ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "异或积", "background": "$\\texttt{id: 4d7e}$\n\n小 H 在课堂上学习了异或运算。\n\n对于两个非负整数 $x,y$，它们的**异或**是指，将它们作为二进制数，对二进制表示中的每一位进行如下运算得到的结果：\n\n- $x$ 和 $y$ 的这一位上不同时，结果的这一位为 $1$；\n- $x$ 和 $y$ 的这一位上相同时，结果的这一位为 $0$。\n\n$x$ 和 $y$ 的异或被记为 $x \\operatorname{xor} y$ 或 $x \\oplus y$。\n\n在 C++ 中，你可以用 `x ^ y` 得到 $x$ 与 $y$ 的异或值。\n\n另外，若干个数的异或称之为**异或和**。", "description": "小 H 还了解到，一个长度为 $n$ 的数列 $a$ 的**异或积**是一个等长的数列 $b$，其中 $b_i$ 等于数列 $a$ 中除了 $a_i$ 以外其他元素的异或和，即\n\t\n$$b_i = \\bigoplus \\limits_{j = 1}^{n} [j\\ne i] a_j$$\n\t\n例如，数列 $\\{1, 2, 3, 4\\}$ 的异或积为 $\\{5, 6, 7, 0\\}$。\n\t\n**异或积变换**是指将一个数列用它的异或积替换的过程，由于异或积变换之后数列长度不变，所以异或积变换可以连续进行多次。\n\t\n现在，小 H 有一个长度为 $n$ 的数列 $a$，他想请你帮他计算出 $a$ 经过 $k$ 次异或积变换之后得到的序列。", "inputFormat": "**本题单个测试点内有多组测试数据**。\n\n第一行一个整数 $T$，表示测试数据组数。\n\t\n对于每一组测试数据：\n\t\n第一行两个整数 $n,k$。\n\t\n第二行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "对于每一组测试数据：\n\t\n一行 $n$ 个整数，表示数列 $a$ 经过 $k$ 次异或积变换之后得到的数列。", "hint": "### 样例 1 解释\n\n此样例即为题目描述中的例子。\n\n### 样例 2 解释\n\n第 $1$ 次异或积变换：$\\{0,0,0,1\\}\\to\\{1,1,1,0\\}$；\n\n第 $2$ 次异或积变换：$\\{1,1,1,0\\}\\to\\{0,0,0,1\\}$。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的测试数据，$1 \\le T \\le 10$，$2 \\le n \\le 10^5$，$1 \\le k \\le 10^{18}$，$0 \\le a_i < 2^{32}$。\n\n| 测试点编号 | $n\\leq$  | $k \\leq$  |特殊性质|\n| :----------: | :----------: | :----------: | :-----------: |\n| $1 \\sim 3$ | $100$ | $100$ | |\n| $4 \\sim 5$ | $1000$ | $1000$ | |\n| $6 \\sim 7$ | $3$ | $10^{18}$ | |\n| $8 \\sim 10$ | $10^5$ | $3$ | |\n| $11 \\sim 13$ | $10^5$ | $10^{18}$ | $a$ 中所有数的异或和为 $0$ |\n| $14 \\sim 15$ | $10^5$ | $10^{18}$ | $n$ 为奇数 |\n| $16 \\sim 17$ | $10^5$ | $10^{18}$ | $n$ 为偶数 |\n| $18 \\sim 20$ | $10^5$ | $10^{18}$ | |\n\n### 提示\n\n在 C++ 中，对于数据范围 $0\\le x<2^{32}$，你可以：\n\n- 使用 `unsigned int x` 来定义；\n- 使用 `cin >> x` 或 `scanf(\"%u\", &x)` 来输入；\n- 使用 `cout << x` 或 `printf(\"%u\", x)` 来输出。 ", "locale": "zh-CN"}}}
{"pid": "P9228", "type": "P", "difficulty": 3, "samples": [["6 7 3\n1 1 4 5 1 4\n1 9 1 9 8 1 0\n", "67\n"], ["5 3 5\n1 4 2 8 5\n7 1 4\n", "50"], ["1 1 0\n2\n3\n", "7\n"], ["见附件中的 samples/genshin4.in", "见附件中的 samples/genshin4.ans"], ["见附件中的 samples/genshin5.in", "见附件中的 samples/genshin5.ans"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2023", "O2优化", "洛谷月赛"], "title": "原神", "background": "## 提示：题目背景与题目无关。\n\n\n你说的对，但是《原神》是由米哈游自主研发的一款全新开放世界冒险游戏。游戏发生在一个被称作「提瓦特」的幻想世界，在这里，被神选中的人将被授予「神之眼」，导引元素之力。你将扮演一位名为「旅行者」的神秘角色，在自由的旅行中邂逅性格各异、能力独特的同伴们，和他们一起击败强敌，找回失散的亲人——同时，逐步发掘「原神」的真相。\n\n因为你的素养很差，我现在每天玩原神都能赚 150 原石，每个月差不多 5000 原石的收入， 也就是现实生活中每个月 5000 美元的收入水平，换算过来最少也 30000 人民币，虽然我 只有 14 岁，但是已经超越了中国绝大多数人（包括你）的水平，这便是原神给我的骄傲的资本。\n\n毫不夸张地说，《原神》是 miHoYo 迄今为止规模最为宏大，也是最具野心的一部作品。即便在经历了 8700 个小时的艰苦战斗后，游戏还有许多尚未发现的秘密，错过的武器与装备，以及从未使用过的法术和技能。\n\n尽管游戏中的战斗体验和我们之前在烧机系列游戏所见到的没有多大差别，但游戏中各类精心设计的敌人以及 Boss 战已然将战斗抬高到了一个全新的水平。就和几年前的《塞尔达传说》一样，《原神》也是一款能够推动同类游戏向前发展的优秀作品。", "description": "原神中有一个魔法师，她可以打出 $ n $ 次火元素攻击魔法和 $ m $ 次冰元素攻击魔法，每次攻击的伤害分别为 $ a_1,a_2,\\cdots, a_n $ 和 $ b_1,b_2,\\cdots, b_m $。\n\n元素攻击之间存在如下反应规则：\n\n- 每次元素攻击可以给**没有元素附着**的怪物附着相应的元素，初始时怪物没有元素附着；\n\n- 如果用火元素攻击打到冰元素附着的怪物身上，那么本次伤害将 $ \\times 2 $，**并清空元素附着**；\n\n- 如果用冰元素攻击打到火元素附着的怪物身上，那么本次伤害将 $ +k $，**并清空元素附着**。\n\n现在魔法师可以任意安排攻击顺序，也就是说，每次攻击过后，魔法师可以从自己没有使用过的魔法中任意挑选一种使用。她希望最大化总伤害，请问**最大总伤害**是多少。", "inputFormat": "第一行三个整数 $ n,m,k $。\n\n第二行 $ n $ 个整数 $ a_1,a_2,\\cdots, a_n $。\n\n第三行 $ m $ 个整数 $ b_1,b_2,\\cdots, b_m $。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n攻击采用 $a_1\\rightarrow b_4\\rightarrow a_2\\rightarrow b_3\\rightarrow a_5\\rightarrow b_5\\rightarrow b_7 \\rightarrow b_1\\rightarrow a_3 \\rightarrow b_2\\rightarrow a_4\\rightarrow b_6 \\rightarrow a_6 $，每次的实际伤害为 $1,12,1,4,1,11,0,1,8,9,10,1,8$，总伤害为 $ 67 $。\n\n### 样例 2 解释\n\n攻击采用 $a_5\\rightarrow b_1\\rightarrow b_2\\rightarrow a_4\\rightarrow a_3\\rightarrow b_3\\rightarrow a_2\\rightarrow a_1$，每次的实际伤害为 $5,12,1,16,2,9,4,1$，总伤害为 $50 $。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 10^6 $，$ 0 \\leq a_i,b_i,k \\leq 10^9 $。\n\n| 测试点编号 | $n,m \\leq$  |特殊性质|\n| :----------: | :----------: | :-----------: |\n| $1 \\sim 5$ | $10$ | |\n| $6 \\sim  10$ | $1000$ | |\n| $11 \\sim 12$ | $10 ^6 $ | $k=0$ |\n| $13 \\sim 14$ | $10 ^6 $ | $k>\\max(\\max_{i=1}^n\\{a_i\\},\\max_{i=1}^m\\{b_i\\})$ |\n| $15 \\sim 16$ | $10 ^6 $ | $n=m$ | \n| $17 \\sim 25$ | $10 ^6 $ | |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "原神", "background": "## 提示：题目背景与题目无关。\n\n\n你说的对，但是《原神》是由米哈游自主研发的一款全新开放世界冒险游戏。游戏发生在一个被称作「提瓦特」的幻想世界，在这里，被神选中的人将被授予「神之眼」，导引元素之力。你将扮演一位名为「旅行者」的神秘角色，在自由的旅行中邂逅性格各异、能力独特的同伴们，和他们一起击败强敌，找回失散的亲人——同时，逐步发掘「原神」的真相。\n\n因为你的素养很差，我现在每天玩原神都能赚 150 原石，每个月差不多 5000 原石的收入， 也就是现实生活中每个月 5000 美元的收入水平，换算过来最少也 30000 人民币，虽然我 只有 14 岁，但是已经超越了中国绝大多数人（包括你）的水平，这便是原神给我的骄傲的资本。\n\n毫不夸张地说，《原神》是 miHoYo 迄今为止规模最为宏大，也是最具野心的一部作品。即便在经历了 8700 个小时的艰苦战斗后，游戏还有许多尚未发现的秘密，错过的武器与装备，以及从未使用过的法术和技能。\n\n尽管游戏中的战斗体验和我们之前在烧机系列游戏所见到的没有多大差别，但游戏中各类精心设计的敌人以及 Boss 战已然将战斗抬高到了一个全新的水平。就和几年前的《塞尔达传说》一样，《原神》也是一款能够推动同类游戏向前发展的优秀作品。", "description": "原神中有一个魔法师，她可以打出 $ n $ 次火元素攻击魔法和 $ m $ 次冰元素攻击魔法，每次攻击的伤害分别为 $ a_1,a_2,\\cdots, a_n $ 和 $ b_1,b_2,\\cdots, b_m $。\n\n元素攻击之间存在如下反应规则：\n\n- 每次元素攻击可以给**没有元素附着**的怪物附着相应的元素，初始时怪物没有元素附着；\n\n- 如果用火元素攻击打到冰元素附着的怪物身上，那么本次伤害将 $ \\times 2 $，**并清空元素附着**；\n\n- 如果用冰元素攻击打到火元素附着的怪物身上，那么本次伤害将 $ +k $，**并清空元素附着**。\n\n现在魔法师可以任意安排攻击顺序，也就是说，每次攻击过后，魔法师可以从自己没有使用过的魔法中任意挑选一种使用。她希望最大化总伤害，请问**最大总伤害**是多少。", "inputFormat": "第一行三个整数 $ n,m,k $。\n\n第二行 $ n $ 个整数 $ a_1,a_2,\\cdots, a_n $。\n\n第三行 $ m $ 个整数 $ b_1,b_2,\\cdots, b_m $。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n攻击采用 $a_1\\rightarrow b_4\\rightarrow a_2\\rightarrow b_3\\rightarrow a_5\\rightarrow b_5\\rightarrow b_7 \\rightarrow b_1\\rightarrow a_3 \\rightarrow b_2\\rightarrow a_4\\rightarrow b_6 \\rightarrow a_6 $，每次的实际伤害为 $1,12,1,4,1,11,0,1,8,9,10,1,8$，总伤害为 $ 67 $。\n\n### 样例 2 解释\n\n攻击采用 $a_5\\rightarrow b_1\\rightarrow b_2\\rightarrow a_4\\rightarrow a_3\\rightarrow b_3\\rightarrow a_2\\rightarrow a_1$，每次的实际伤害为 $5,12,1,16,2,9,4,1$，总伤害为 $50 $。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 10^6 $，$ 0 \\leq a_i,b_i,k \\leq 10^9 $。\n\n| 测试点编号 | $n,m \\leq$  |特殊性质|\n| :----------: | :----------: | :-----------: |\n| $1 \\sim 5$ | $10$ | |\n| $6 \\sim  10$ | $1000$ | |\n| $11 \\sim 12$ | $10 ^6 $ | $k=0$ |\n| $13 \\sim 14$ | $10 ^6 $ | $k>\\max(\\max_{i=1}^n\\{a_i\\},\\max_{i=1}^m\\{b_i\\})$ |\n| $15 \\sim 16$ | $10 ^6 $ | $n=m$ | \n| $17 \\sim 25$ | $10 ^6 $ | |", "locale": "zh-CN"}}}
{"pid": "P9229", "type": "P", "difficulty": 5, "samples": [["3\n011\n", "6\n"], ["8\n00000001\n", "341\n"], ["见附件中的 samples/rings3.in", "见附件中的 samples/rings3.ans"], ["见附件中的 samples/rings4.in", "见附件中的 samples/rings4.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2023", "O2优化", "洛谷月赛"], "title": "简单九连环", "background": "**提示：此题有大样例。**\n\n**提示：本题中的九连环与传统九连环不同。**\n\n九连环是一种源于中国的传统智力游戏。如图所示，九个的圆环套在一把“剑”上，并且互相牵连。\n\n![](https://cdn.luogu.com.cn/upload/pic/17568.png)\n\n在传统的九连环中，第 $k(k\\ge 2)$ 个环可以装上“剑”（记为 $1$）或拆下“剑”（记为 $0$），当且仅当第 $k-1$ 个环在剑上，且再之前的环不在剑上；特别地，第 $1$ 个环可以任意上下。\n\n本题中我们将会讨论更一般的情形，虽然这种简单九连环不一定可以在物理意义上造出。", "description": "一个简单九连环，可以看作两个 `01` 串——规则串 $s$ 和状态串 $t$，满足 $|s|=|t|-1$。其中 $t_i = \\texttt 1$ 表示第 $i$ 个环是装上的，$t_i = \\texttt 0$ 表示第 $i$ 个环是拆下的。\n\n$s$ 在同一局游戏中是不变的，而 $t$ 每步会变化一个位置上的值（从 `0` 变成 `1` 或从 `1` 变成 `0`）。简单九连环被拆下，当且仅当 $t_i$ 全是 `0`；简单九连环被装上，当且仅当 $t_i$ 全是 `1`。\n\n简单九连环规定，$t_i$ 可以变化，当且仅当 $t_{1\\sim i-1}$ 是 $s$ 的一个**后缀**。可以看出，传统的九连环就是 $s$ 为 `00...01` 的特殊情形。\n\n给出一个 $s$，问从拆下状态到装上状态至少需要几步，答案对 $10^9+7$ 取模。", "inputFormat": "第一行一个整数 $n$，表示 $s$ 的长度。**注意不是环的数量。**\n\n第二行一个 `01` 串 $s$。", "outputFormat": "一行一个整数，表示答案对 $10^9+7$ 取模后的值。", "hint": "### 样例 1 解释\n\n初始时刻所有环都不在简单九连环的剑上，状态串 $t$ 为 `0000`。\n\n第 1 步装上第 $1$ 个环，$t$ 变成 `1000`。\n\n第 2 步装上第 $2$ 个环，$t$ 变成 `1100`。\n\n第 3 步装上第 $3$ 个环，$t$ 变成 `1110`。\n\n接下来你不能直接装上第 $4$ 个环，因为 `111` 并不是规则串 $s$ `011` 的后缀。因此第 4 步应拆下第 $1$ 个环，$t$ 变成 `0110`。\n\n然后第 5 步装上第 $4$ 个环，$t$ 变成 `0111`。\n\n最后一步装上第 $1$ 个环，$t$ 变成 `1111`，完成目标。\n\n### 样例 2 解释\n\n这就是传统的九连环，且恰好有 $9$ 个环。\n\n### 样例 3 解释\n\n样例 3 满足测试点 $7$ 的限制。\n\n### 样例 4 解释\n\n样例 4 满足测试点 $15$ 的限制。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 2000$，$s_i\\in\\{\\texttt 0,\\texttt 1\\}$。\n\n|测试点编号|$\\vert s\\vert\\le$|特殊性质|\n|:-:|:-:|:-:|\n|$1\\sim 3$|$3$||\n|$4\\sim 6$|$15$||\n|$7\\sim 11$|$300$||\n|$12\\sim 13$|$1000$||\n|$14$|$2000$|$s_i$ 全为 `0`|\n|$15\\sim 17$|$2000$|$s$ 末尾为 `1`，其余位置为 `0`|\n|$18\\sim 25$|$2000$||", "locale": "zh-CN", "translations": {"zh-CN": {"title": "简单九连环", "background": "**提示：此题有大样例。**\n\n**提示：本题中的九连环与传统九连环不同。**\n\n九连环是一种源于中国的传统智力游戏。如图所示，九个的圆环套在一把“剑”上，并且互相牵连。\n\n![](https://cdn.luogu.com.cn/upload/pic/17568.png)\n\n在传统的九连环中，第 $k(k\\ge 2)$ 个环可以装上“剑”（记为 $1$）或拆下“剑”（记为 $0$），当且仅当第 $k-1$ 个环在剑上，且再之前的环不在剑上；特别地，第 $1$ 个环可以任意上下。\n\n本题中我们将会讨论更一般的情形，虽然这种简单九连环不一定可以在物理意义上造出。", "description": "一个简单九连环，可以看作两个 `01` 串——规则串 $s$ 和状态串 $t$，满足 $|s|=|t|-1$。其中 $t_i = \\texttt 1$ 表示第 $i$ 个环是装上的，$t_i = \\texttt 0$ 表示第 $i$ 个环是拆下的。\n\n$s$ 在同一局游戏中是不变的，而 $t$ 每步会变化一个位置上的值（从 `0` 变成 `1` 或从 `1` 变成 `0`）。简单九连环被拆下，当且仅当 $t_i$ 全是 `0`；简单九连环被装上，当且仅当 $t_i$ 全是 `1`。\n\n简单九连环规定，$t_i$ 可以变化，当且仅当 $t_{1\\sim i-1}$ 是 $s$ 的一个**后缀**。可以看出，传统的九连环就是 $s$ 为 `00...01` 的特殊情形。\n\n给出一个 $s$，问从拆下状态到装上状态至少需要几步，答案对 $10^9+7$ 取模。", "inputFormat": "第一行一个整数 $n$，表示 $s$ 的长度。**注意不是环的数量。**\n\n第二行一个 `01` 串 $s$。", "outputFormat": "一行一个整数，表示答案对 $10^9+7$ 取模后的值。", "hint": "### 样例 1 解释\n\n初始时刻所有环都不在简单九连环的剑上，状态串 $t$ 为 `0000`。\n\n第 1 步装上第 $1$ 个环，$t$ 变成 `1000`。\n\n第 2 步装上第 $2$ 个环，$t$ 变成 `1100`。\n\n第 3 步装上第 $3$ 个环，$t$ 变成 `1110`。\n\n接下来你不能直接装上第 $4$ 个环，因为 `111` 并不是规则串 $s$ `011` 的后缀。因此第 4 步应拆下第 $1$ 个环，$t$ 变成 `0110`。\n\n然后第 5 步装上第 $4$ 个环，$t$ 变成 `0111`。\n\n最后一步装上第 $1$ 个环，$t$ 变成 `1111`，完成目标。\n\n### 样例 2 解释\n\n这就是传统的九连环，且恰好有 $9$ 个环。\n\n### 样例 3 解释\n\n样例 3 满足测试点 $7$ 的限制。\n\n### 样例 4 解释\n\n样例 4 满足测试点 $15$ 的限制。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 2000$，$s_i\\in\\{\\texttt 0,\\texttt 1\\}$。\n\n|测试点编号|$\\vert s\\vert\\le$|特殊性质|\n|:-:|:-:|:-:|\n|$1\\sim 3$|$3$||\n|$4\\sim 6$|$15$||\n|$7\\sim 11$|$300$||\n|$12\\sim 13$|$1000$||\n|$14$|$2000$|$s_i$ 全为 `0`|\n|$15\\sim 17$|$2000$|$s$ 末尾为 `1`，其余位置为 `0`|\n|$18\\sim 25$|$2000$||", "locale": "zh-CN"}}}
{"pid": "P9230", "type": "P", "difficulty": 2, "samples": [], "limits": {"time": [500, 500], "memory": [131072, 131072]}, "tags": ["2023", "提交答案", "蓝桥杯省赛"], "title": "[蓝桥杯 2023 省 A] 填空问题", "background": "", "description": "## A. 幸运数\n\n小蓝认为如果一个数含有偶数个数位，并且前面一半的数位之和等于后面一半的数位之和，则这个数是他的幸运数字。例如 $2314$ 是一个幸运数字，因为它有 $4$ 个数位，并且 $2+3=1+4$。现在请你帮他计算从 $1$ 至 $100000000$ 之间共有多少个不同的幸运数字。\n\n## B. 有奖问答\n\n小蓝正在参与一个现场问答的节目。活动中一共有 $30$ 道题目，每题只有答对和答错两种情况，每答对一题得 $10$ 分，答错一题分数归零。\n\n小蓝可以在任意时刻结束答题并获得目前分数对应的奖项，之后不能再答任何题目。最高奖项需要 $100$ 分，所以到达 $100$ 分时小蓝会直接停止答题。请注意小蓝也可能在不到 $100$ 分时停止答题 $^{[1]}$。\n\n已知小蓝最终实际获得了 $70$ 分对应的奖项，请问小蓝所有可能的答题情况有多少种？\n\n${[1]}$：这一句并未在蓝桥杯原题写明，具体的情况请参考 [这个讨论帖](https://www.luogu.com.cn/discuss/1070210)。", "inputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。\n\n您可以通过提交答案文件的方式进行提交。你需要将你的答案放在 `1.out` 和 `2.out` 中，其中 `1.out` 对应 A 题的答案，`2.out` 对应 B 题的答案。\n\n输入文件包含一个字符，代表题目编号（`A` 或 `B`），你需要输出对应的答案。\n\n以下模板供参考：\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nchar pid;\nint main() {\n    cin >> pid;\n    if(pid == 'A')\n        puts(\"Answer for Problem A\");\n    else\n        puts(\"Answer for Problem B\");\n    return 0;\n}\n```", "outputFormat": "", "hint": "第十四届蓝桥杯大赛软件赛省赛 C/C++ 大学 A 组 A-B", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2023 省 A] 填空问题", "background": "", "description": "## A. 幸运数\n\n小蓝认为如果一个数含有偶数个数位，并且前面一半的数位之和等于后面一半的数位之和，则这个数是他的幸运数字。例如 $2314$ 是一个幸运数字，因为它有 $4$ 个数位，并且 $2+3=1+4$。现在请你帮他计算从 $1$ 至 $100000000$ 之间共有多少个不同的幸运数字。\n\n## B. 有奖问答\n\n小蓝正在参与一个现场问答的节目。活动中一共有 $30$ 道题目，每题只有答对和答错两种情况，每答对一题得 $10$ 分，答错一题分数归零。\n\n小蓝可以在任意时刻结束答题并获得目前分数对应的奖项，之后不能再答任何题目。最高奖项需要 $100$ 分，所以到达 $100$ 分时小蓝会直接停止答题。请注意小蓝也可能在不到 $100$ 分时停止答题 $^{[1]}$。\n\n已知小蓝最终实际获得了 $70$ 分对应的奖项，请问小蓝所有可能的答题情况有多少种？\n\n${[1]}$：这一句并未在蓝桥杯原题写明，具体的情况请参考 [这个讨论帖](https://www.luogu.com.cn/discuss/1070210)。", "inputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。\n\n您可以通过提交答案文件的方式进行提交。你需要将你的答案放在 `1.out` 和 `2.out` 中，其中 `1.out` 对应 A 题的答案，`2.out` 对应 B 题的答案。\n\n输入文件包含一个字符，代表题目编号（`A` 或 `B`），你需要输出对应的答案。\n\n以下模板供参考：\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nchar pid;\nint main() {\n    cin >> pid;\n    if(pid == 'A')\n        puts(\"Answer for Problem A\");\n    else\n        puts(\"Answer for Problem B\");\n    return 0;\n}\n```", "outputFormat": "", "hint": "第十四届蓝桥杯大赛软件赛省赛 C/C++ 大学 A 组 A-B", "locale": "zh-CN"}}}
{"pid": "P9231", "type": "P", "difficulty": 2, "samples": [["1 5", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "蓝桥杯省赛"], "title": "[蓝桥杯 2023 省 A] 平方差", "background": "", "description": "给定 $L,R$，问 $L \\leq x \\leq R$ 中有多少个数 $x$ 满足存在整数 $y,z$ 使得 $x=y^2-z^2$。", "inputFormat": "输入一行包含两个整数 $L,R$，用一个空格分隔。", "outputFormat": "输出一行包含一个整数满足题目给定条件的 $x$ 的数量。", "hint": "#### 【样例说明】\n\n* $1=1^2-0^2$\n* $3=2^2-1^2$\n* $4=2^2-0^2$\n* $5=3^2-2^2$\n\n#### 【评测用例规模与约定】\n\n对于 $40 \\%$ 的评测用例，$L,R \\leq 5000$；\n\n对于所有评测用例，$1 \\leq L \\leq R \\leq 10^9$。\n\n第十四届蓝桥杯大赛软件赛省赛 C/C++ 大学 A 组 C", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2023 省 A] 平方差", "background": "", "description": "给定 $L,R$，问 $L \\leq x \\leq R$ 中有多少个数 $x$ 满足存在整数 $y,z$ 使得 $x=y^2-z^2$。", "inputFormat": "输入一行包含两个整数 $L,R$，用一个空格分隔。", "outputFormat": "输出一行包含一个整数满足题目给定条件的 $x$ 的数量。", "hint": "#### 【样例说明】\n\n* $1=1^2-0^2$\n* $3=2^2-1^2$\n* $4=2^2-0^2$\n* $5=3^2-2^2$\n\n#### 【评测用例规模与约定】\n\n对于 $40 \\%$ 的评测用例，$L,R \\leq 5000$；\n\n对于所有评测用例，$1 \\leq L \\leq R \\leq 10^9$。\n\n第十四届蓝桥杯大赛软件赛省赛 C/C++ 大学 A 组 C", "locale": "zh-CN"}}}
{"pid": "P9232", "type": "P", "difficulty": 3, "samples": [["210102", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "枚举", "蓝桥杯省赛"], "title": "[蓝桥杯 2023 省 A] 更小的数", "background": "", "description": "![image](https://cdn.luogu.com.cn/upload/image_hosting/y1rd2iun.png)\n\n小蓝有一个长度均为 $n$ 且仅由数字字符 $0 \\sim 9$ 组成的字符串，下标从 $0$ 到 $n-1$，你可以将其视作是一个具有 $n$ 位的十进制数字 $num$，小蓝可以从 $num$ 中选出一段连续的子串并将子串进行反转，最多反转一次。小蓝想要将选出的子串进行反转后再放入原位置处得到的新的数字 $num_{new}$ 满足条件 $num_{new}<num$，请你帮他计算下一共有多少种不同的子串选择方案，只要两个子串在 $num$ 中的位置不完全相同我们就视作是不同的方案。\n\n注意，我们允许前导零的存在，即数字的最高位可以是 $0$，这是合法的。", "inputFormat": "输入一行包含一个长度为 $n$ 的字符串表示 $num$（仅包含数字字符 $0 \\sim 9$），从左至右下标依次为 $0 \\sim n-1$。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "#### 【样例说明】\n\n一共有 $8$ 种不同的方案：\n\n1. 所选择的子串下标为 $0\\sim1$，反转后的 $num_{new} = 120102 < 210102$；\n2. 所选择的子串下标为 $0\\sim2$，反转后的 $num_{new} =  012102 < 210102$；\n3. 所选择的子串下标为 $0\\sim3$，反转后的 $num_{new} =  101202 < 210102$；\n4. 所选择的子串下标为 $0\\sim4$，反转后的 $num_{new} =  010122 < 210102$；\n5. 所选择的子串下标为 $0\\sim5$，反转后的 $num_{new} =  201012 < 210102$；\n6. 所选择的子串下标为 $1\\sim2$，反转后的 $num_{new} =  201102 < 210102$；\n7. 所选择的子串下标为 $1\\sim4$，反转后的 $num_{new} =  201012 < 210102$；\n8. 所选择的子串下标为 $3\\sim4$，反转后的 $num_{new} =  210012 < 210102$。\n\n#### 【评测用例规模与约定】\n\n对于 $20\\%$ 的评测用例，$1 \\le n \\le 100$；\n\n对于 $40\\%$ 的评测用例，$1 \\le n \\le 1000$；\n\n对于所有评测用例，$1 \\le n \\le 5000$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2023 省 A] 更小的数", "background": "", "description": "![image](https://cdn.luogu.com.cn/upload/image_hosting/y1rd2iun.png)\n\n小蓝有一个长度均为 $n$ 且仅由数字字符 $0 \\sim 9$ 组成的字符串，下标从 $0$ 到 $n-1$，你可以将其视作是一个具有 $n$ 位的十进制数字 $num$，小蓝可以从 $num$ 中选出一段连续的子串并将子串进行反转，最多反转一次。小蓝想要将选出的子串进行反转后再放入原位置处得到的新的数字 $num_{new}$ 满足条件 $num_{new}<num$，请你帮他计算下一共有多少种不同的子串选择方案，只要两个子串在 $num$ 中的位置不完全相同我们就视作是不同的方案。\n\n注意，我们允许前导零的存在，即数字的最高位可以是 $0$，这是合法的。", "inputFormat": "输入一行包含一个长度为 $n$ 的字符串表示 $num$（仅包含数字字符 $0 \\sim 9$），从左至右下标依次为 $0 \\sim n-1$。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "#### 【样例说明】\n\n一共有 $8$ 种不同的方案：\n\n1. 所选择的子串下标为 $0\\sim1$，反转后的 $num_{new} = 120102 < 210102$；\n2. 所选择的子串下标为 $0\\sim2$，反转后的 $num_{new} =  012102 < 210102$；\n3. 所选择的子串下标为 $0\\sim3$，反转后的 $num_{new} =  101202 < 210102$；\n4. 所选择的子串下标为 $0\\sim4$，反转后的 $num_{new} =  010122 < 210102$；\n5. 所选择的子串下标为 $0\\sim5$，反转后的 $num_{new} =  201012 < 210102$；\n6. 所选择的子串下标为 $1\\sim2$，反转后的 $num_{new} =  201102 < 210102$；\n7. 所选择的子串下标为 $1\\sim4$，反转后的 $num_{new} =  201012 < 210102$；\n8. 所选择的子串下标为 $3\\sim4$，反转后的 $num_{new} =  210012 < 210102$。\n\n#### 【评测用例规模与约定】\n\n对于 $20\\%$ 的评测用例，$1 \\le n \\le 100$；\n\n对于 $40\\%$ 的评测用例，$1 \\le n \\le 1000$；\n\n对于所有评测用例，$1 \\le n \\le 5000$。\n", "locale": "zh-CN"}}}
{"pid": "P9233", "type": "P", "difficulty": 5, "samples": [["6\n2 0\n2 1\n1 2\n3 3\n3 4\n1 4", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["树上启发式合并", "2023", "蓝桥杯省赛"], "title": "[蓝桥杯 2023 省 A] 颜色平衡树", "background": "", "description": "给定一棵树，结点由 $1$ 至 $n$ 编号，其中结点 $1$ 是树根。树的每个点有一个颜色 $C_i$。\n\n如果一棵树中存在的每种颜色的结点个数都相同，则我们称它是一棵颜色平衡树。\n\n求出这棵树中有多少个子树是颜色平衡树。", "inputFormat": "输入的第一行包含一个整数 $n$，表示树的结点数。\n\n接下来 $n$ 行，每行包含两个整数 $C_i,F_i$，用一个空格分隔，表示第 $i$ 个结点的颜色和父亲结点编号。\n\n特别地，输入数据保证 $F_1$ 为 $0$，也即 $1$ 号点没有父亲结点。保证输入数据是一棵树。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "#### 【样例说明】\n\n编号为 $1,3,5,6$ 的 $4$ 个结点对应的子树为颜色平衡树。\n\n#### 【评测用例规模与约定】\n\n对于 $30 \\%$ 的评测用例，$n \\leq 200$，$C_i \\leq 200$；\n\n对于 $60 \\%$ 的评测用例，$n \\leq 5000$，$C_i \\leq 5000$；\n\n对于所有评测用例，$1 \\leq n \\leq 2\\times 10 ^ 5$，$1 \\leq C_i \\leq 2\\times 10 ^ 5$，$0 \\leq F_i<i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2023 省 A] 颜色平衡树", "background": "", "description": "给定一棵树，结点由 $1$ 至 $n$ 编号，其中结点 $1$ 是树根。树的每个点有一个颜色 $C_i$。\n\n如果一棵树中存在的每种颜色的结点个数都相同，则我们称它是一棵颜色平衡树。\n\n求出这棵树中有多少个子树是颜色平衡树。", "inputFormat": "输入的第一行包含一个整数 $n$，表示树的结点数。\n\n接下来 $n$ 行，每行包含两个整数 $C_i,F_i$，用一个空格分隔，表示第 $i$ 个结点的颜色和父亲结点编号。\n\n特别地，输入数据保证 $F_1$ 为 $0$，也即 $1$ 号点没有父亲结点。保证输入数据是一棵树。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "#### 【样例说明】\n\n编号为 $1,3,5,6$ 的 $4$ 个结点对应的子树为颜色平衡树。\n\n#### 【评测用例规模与约定】\n\n对于 $30 \\%$ 的评测用例，$n \\leq 200$，$C_i \\leq 200$；\n\n对于 $60 \\%$ 的评测用例，$n \\leq 5000$，$C_i \\leq 5000$；\n\n对于所有评测用例，$1 \\leq n \\leq 2\\times 10 ^ 5$，$1 \\leq C_i \\leq 2\\times 10 ^ 5$，$0 \\leq F_i<i$。", "locale": "zh-CN"}}}
{"pid": "P9234", "type": "P", "difficulty": 4, "samples": [["3 10\n1 3 13", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "蓝桥杯省赛", "折半搜索 meet in the middle"], "title": "[蓝桥杯 2023 省 A] 买瓜", "background": "", "description": "小蓝正在一个瓜摊上买瓜。瓜摊上共有 $n$ 个瓜，每个瓜的重量为 $A_i$。小蓝刀功了得，他可以把任何瓜劈成完全等重的两份，不过每个瓜只能劈一刀。\n\n小蓝希望买到的瓜的重量的和恰好为 $m$。\n\n请问小蓝至少要劈多少个瓜才能买到重量恰好为 $m$ 的瓜。如果无论怎样小蓝都无法得到总重恰好为 $m$ 的瓜，请输出 $-1$。", "inputFormat": "输入的第一行包含两个整数 $n,m$，用一个空格分隔，分别表示瓜的个数和小蓝想买到的瓜的总重量。\n\n第二行包含 $n$ 个整数 $A_i$，相邻整数之间使用一个空格分隔，分别表示每个瓜的重量。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "#### 【评测用例规模与约定】\n\n对于 $20 \\%$ 的评测用例，$n \\leq 10$;\n\n对于 $60 \\%$ 的评测用例，$n \\leq 20$;\n\n对于所有评测用例，$1 \\leq n \\leq 30$，$1 \\leq A_i \\leq 10^9$，$1 \\leq m \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2023 省 A] 买瓜", "background": "", "description": "小蓝正在一个瓜摊上买瓜。瓜摊上共有 $n$ 个瓜，每个瓜的重量为 $A_i$。小蓝刀功了得，他可以把任何瓜劈成完全等重的两份，不过每个瓜只能劈一刀。\n\n小蓝希望买到的瓜的重量的和恰好为 $m$。\n\n请问小蓝至少要劈多少个瓜才能买到重量恰好为 $m$ 的瓜。如果无论怎样小蓝都无法得到总重恰好为 $m$ 的瓜，请输出 $-1$。", "inputFormat": "输入的第一行包含两个整数 $n,m$，用一个空格分隔，分别表示瓜的个数和小蓝想买到的瓜的总重量。\n\n第二行包含 $n$ 个整数 $A_i$，相邻整数之间使用一个空格分隔，分别表示每个瓜的重量。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "#### 【评测用例规模与约定】\n\n对于 $20 \\%$ 的评测用例，$n \\leq 10$;\n\n对于 $60 \\%$ 的评测用例，$n \\leq 20$;\n\n对于所有评测用例，$1 \\leq n \\leq 30$，$1 \\leq A_i \\leq 10^9$，$1 \\leq m \\leq 10^9$。", "locale": "zh-CN"}}}
