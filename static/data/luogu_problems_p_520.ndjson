{"pid": "P11548", "type": "P", "difficulty": 6, "samples": [["8\n-2 3\n-2 -1\n0 3\n0 -1\n1 -1\n2 1\n-3 1\n-2 1", "10"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["计算几何", "2009", "枚举", "排序", "BalticOI（波罗的海）"], "title": "[BalticOI 2009] 矩形 (Day2)", "background": "", "description": "**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day2 T1「[Rectangle](https://www.csc.kth.se/contest/boi/rectangle.pdf)」**\n\n你被给定 $n$ 个在平面坐标上的点。\n\n写一个程序计算出一个最大的矩形区域，使它的每一个顶点都是给定的点之一。你可以假设至少存在一个这样的区域。", "inputFormat": "第一行，一个整数 $n$，表示点的数量。\n\n以下 $n$ 行，每行两个整数，表示一个点的坐标。\n坐标值在 $-10^8$ 与 $10^8$ 之间。\n\n没有两个点位于同一个坐标。", "outputFormat": "一个整数，表示最大的矩形区域面积。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/x481b6hi.png)\n\n### 数据范围：\n\n| 数据百分比 | 限制 |\n| :----------: | :----------: |\n| $20\\%$ | $n \\le 500$ |\n| $100\\%$ | $4 \\le n \\le 1500$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2009] 矩形 (Day2)", "background": "", "description": "**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day2 T1「[Rectangle](https://www.csc.kth.se/contest/boi/rectangle.pdf)」**\n\n你被给定 $n$ 个在平面坐标上的点。\n\n写一个程序计算出一个最大的矩形区域，使它的每一个顶点都是给定的点之一。你可以假设至少存在一个这样的区域。", "inputFormat": "第一行，一个整数 $n$，表示点的数量。\n\n以下 $n$ 行，每行两个整数，表示一个点的坐标。\n坐标值在 $-10^8$ 与 $10^8$ 之间。\n\n没有两个点位于同一个坐标。", "outputFormat": "一个整数，表示最大的矩形区域面积。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/x481b6hi.png)\n\n### 数据范围：\n\n| 数据百分比 | 限制 |\n| :----------: | :----------: |\n| $20\\%$ | $n \\le 500$ |\n| $100\\%$ | $4 \\le n \\le 1500$ |\n", "locale": "zh-CN"}}}
{"pid": "P11549", "type": "P", "difficulty": 0, "samples": [["5\n1 2 3 2\n4 5 1 1\n3 1 4 2", "1"], ["6\n1 4 2 1\n2 4 5 2\n6 2 5 3\n3 6 5 1", "0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2009", "BalticOI（波罗的海）"], "title": "[BalticOI 2009] 三角形划分 (Day2)", "background": "", "description": "**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day2 T2[「Triangulation」](http://www.csc.kth.se/contest/boi/trian.pdf)**\n\n一个多边形的三角形划分是一个所有以该多边形的三个顶点组成的三角形的集合。这些三角形不能重叠且要覆盖整个多边形。\n\n我们定义一次多边形切割以一条直线将一个多边形分为两部分。\n\n给定一个进行过三角形划分的凸多边形，每个三角形都有一个颜色。请找到保证**没有**两个相同颜色的三角形出现在不同的部分中的情况下最大的切割数量。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ph3k8uqt.png)", "inputFormat": "第一行，一个整数 $n$，表示多边形的顶点个数。\n顶点编号为 $1$ 到 $n$。\n\n以下 $n-2$ 行，每行四个整数 $a$, $b$, $c$ 和 $d$ $(1 \\le a,b,c,d \\le n)$ ，表示一个三角形的顶点为 $a$, $b$, $c$ 且它的颜色为 $d$。\n$a$, $b$, $c$ 为三个不同的顶点。\n\n保证三角形划分无误，且每个三角形都有色。\n", "outputFormat": "一行，满足上述要求的最大的切割数量。", "hint": "### 数据范围：\n\n| 数据百分比 | 限制 |\n| :----------: | :----------: |\n| $50\\%$ | $n \\le 5000$ |\n| $100\\%$ | $3 \\le n \\le 10^{5}$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2009] 三角形划分 (Day2)", "background": "", "description": "**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day2 T2[「Triangulation」](http://www.csc.kth.se/contest/boi/trian.pdf)**\n\n一个多边形的三角形划分是一个所有以该多边形的三个顶点组成的三角形的集合。这些三角形不能重叠且要覆盖整个多边形。\n\n我们定义一次多边形切割以一条直线将一个多边形分为两部分。\n\n给定一个进行过三角形划分的凸多边形，每个三角形都有一个颜色。请找到保证**没有**两个相同颜色的三角形出现在不同的部分中的情况下最大的切割数量。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ph3k8uqt.png)", "inputFormat": "第一行，一个整数 $n$，表示多边形的顶点个数。\n顶点编号为 $1$ 到 $n$。\n\n以下 $n-2$ 行，每行四个整数 $a$, $b$, $c$ 和 $d$ $(1 \\le a,b,c,d \\le n)$ ，表示一个三角形的顶点为 $a$, $b$, $c$ 且它的颜色为 $d$。\n$a$, $b$, $c$ 为三个不同的顶点。\n\n保证三角形划分无误，且每个三角形都有色。\n", "outputFormat": "一行，满足上述要求的最大的切割数量。", "hint": "### 数据范围：\n\n| 数据百分比 | 限制 |\n| :----------: | :----------: |\n| $50\\%$ | $n \\le 5000$ |\n| $100\\%$ | $3 \\le n \\le 10^{5}$ |\n", "locale": "zh-CN"}}}
{"pid": "P11550", "type": "P", "difficulty": 0, "samples": [["3 2 5 24\nPNNNN\nPNNNN\nNPPNP\nPNNNP\nNNNNP\nPPNNP", "24"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2009", "BalticOI（波罗的海）"], "title": "[BalticOI 2009] 纪念碑 (Day2)", "background": "", "description": "**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day2 T3[「Monument」](http://www.csc.kth.se/contest/boi/monument.pdf)**\n\n一位来自瑞典的~~暴发户~~百万富翁想要为她的家人建造一座纪念碑。所有可以追溯到的她的祖先（以及将来的后代）的名字都会被刻在纪念碑上。纪念碑是一个矩形块，顶部和底部是 $a \\times a$ 的正方形，高度为 $b$。$a,b$ 的值应该使四个侧面有尽可能多的空间以适应尽可能多的文字。\n\n这座纪念碑将从一个特别的 $p \\times q \\times r$ 的矩形石块中切割出来，这个石块是由普通石块结晶化而来。也就是说，我们可以把石头看做是由 $1 \\times 1 \\times 1$ 的单位块组成的，最后的纪念碑也将由这样的单位块组成。原石只能沿着这些单位块之间垂直于 $x,y$ 或 $z$ 轴切割。\n\n原石产生了一些微孔，为空单位块。纪念碑需要精致，所以不允许包含任何微孔（空单位块）。你被给定原石的三维图，它描述了哪些单位块是空的，哪些是正常的。\n\n你的任务是找到满足以下条件的纪念碑：\n\n1. 它可以从原石中切割出来；\n\n2. 纪念碑的四个侧面的面积，即 $4ab$ 要尽量大。\n", "inputFormat": "第一行，三个正整数 $p,q$ 和 $r$。\n\n以下 $pq$ 行，每行 $r$ 个字符（和一个换行符，没有多余空格）。\n每个字符都是 $\\texttt{N}$（正常） 或 $\\texttt P$（空）。\n第 $1+(yp+x-p)$ 行的第 $z$ 个字符对应原石的单位块 $(x,y,z)$，\n", "outputFormat": "一行，$4ab$ 的最大值。", "hint": "$1 \\le x \\le p,1 \\le y \\le q,1 \\le z \\le r$。\n\n$0\\le p,q,r\\le 150$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2009] 纪念碑 (Day2)", "background": "", "description": "**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day2 T3[「Monument」](http://www.csc.kth.se/contest/boi/monument.pdf)**\n\n一位来自瑞典的~~暴发户~~百万富翁想要为她的家人建造一座纪念碑。所有可以追溯到的她的祖先（以及将来的后代）的名字都会被刻在纪念碑上。纪念碑是一个矩形块，顶部和底部是 $a \\times a$ 的正方形，高度为 $b$。$a,b$ 的值应该使四个侧面有尽可能多的空间以适应尽可能多的文字。\n\n这座纪念碑将从一个特别的 $p \\times q \\times r$ 的矩形石块中切割出来，这个石块是由普通石块结晶化而来。也就是说，我们可以把石头看做是由 $1 \\times 1 \\times 1$ 的单位块组成的，最后的纪念碑也将由这样的单位块组成。原石只能沿着这些单位块之间垂直于 $x,y$ 或 $z$ 轴切割。\n\n原石产生了一些微孔，为空单位块。纪念碑需要精致，所以不允许包含任何微孔（空单位块）。你被给定原石的三维图，它描述了哪些单位块是空的，哪些是正常的。\n\n你的任务是找到满足以下条件的纪念碑：\n\n1. 它可以从原石中切割出来；\n\n2. 纪念碑的四个侧面的面积，即 $4ab$ 要尽量大。\n", "inputFormat": "第一行，三个正整数 $p,q$ 和 $r$。\n\n以下 $pq$ 行，每行 $r$ 个字符（和一个换行符，没有多余空格）。\n每个字符都是 $\\texttt{N}$（正常） 或 $\\texttt P$（空）。\n第 $1+(yp+x-p)$ 行的第 $z$ 个字符对应原石的单位块 $(x,y,z)$，\n", "outputFormat": "一行，$4ab$ 的最大值。", "hint": "$1 \\le x \\le p,1 \\le y \\le q,1 \\le z \\le r$。\n\n$0\\le p,q,r\\le 150$。", "locale": "zh-CN"}}}
{"pid": "P11551", "type": "P", "difficulty": 2, "samples": [["5\n1 3 4 2 5", "1 3 3 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 奖品 (Day 1)", "background": "翻译自 [ROIR 2016 D1T1](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。", "description": "Petya 参加了一个比赛，在这个比赛中将会抽取 $n$ 个奖品。奖品编号从 $1$ 到 $n$。\n\n根据比赛结果，参赛者可以获得 $2$ 到 $n$ 之间的分数。如果参赛者获得了 $k$ 分，那么他将从编号 $1$ 到 $k$ 的奖品中获得一个奖品。比赛主持人在参赛者选择奖品之前，会从奖品列表中删除一个奖品。然后，参赛者可以从剩下的 $k - 1$ 个奖品中选择一个。\n\nPetya 知道所有奖品的价值，第 $i$ 个奖品的价值为 $a_i$。\n\n对于每个 $2\\le k\\le n$，你需要求出如果 Petya 获得了 $k$ 分，他一定能得到的最大奖品价值是多少。", "inputFormat": "第一行输入一个整数 $n$（$2 \\le n \\le 100000$）。\n\n第二行输入 $n$ 个整数 $a_1,a_2,\\dots,a_n$（$1\\le a_i\\le10^9$）。", "outputFormat": "输出一行 $n-1$ 个整数，其中第 $k-1$ 个整数表示如果 Petya 获得了 $k$ 分，他一定能得到的最大奖品价值。", "hint": "| 子任务 | 是否捆绑 | 分值 | $1\\le n\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $24$ | $100$ |\n| $2$ | 是 | $24$ | $5000$ |\n| $3$ | 是 | $52$ | $100000$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 奖品 (Day 1)", "background": "翻译自 [ROIR 2016 D1T1](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。", "description": "Petya 参加了一个比赛，在这个比赛中将会抽取 $n$ 个奖品。奖品编号从 $1$ 到 $n$。\n\n根据比赛结果，参赛者可以获得 $2$ 到 $n$ 之间的分数。如果参赛者获得了 $k$ 分，那么他将从编号 $1$ 到 $k$ 的奖品中获得一个奖品。比赛主持人在参赛者选择奖品之前，会从奖品列表中删除一个奖品。然后，参赛者可以从剩下的 $k - 1$ 个奖品中选择一个。\n\nPetya 知道所有奖品的价值，第 $i$ 个奖品的价值为 $a_i$。\n\n对于每个 $2\\le k\\le n$，你需要求出如果 Petya 获得了 $k$ 分，他一定能得到的最大奖品价值是多少。", "inputFormat": "第一行输入一个整数 $n$（$2 \\le n \\le 100000$）。\n\n第二行输入 $n$ 个整数 $a_1,a_2,\\dots,a_n$（$1\\le a_i\\le10^9$）。", "outputFormat": "输出一行 $n-1$ 个整数，其中第 $k-1$ 个整数表示如果 Petya 获得了 $k$ 分，他一定能得到的最大奖品价值。", "hint": "| 子任务 | 是否捆绑 | 分值 | $1\\le n\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $24$ | $100$ |\n| $2$ | 是 | $24$ | $5000$ |\n| $3$ | 是 | $52$ | $100000$ |", "locale": "zh-CN"}}}
{"pid": "P11552", "type": "P", "difficulty": 3, "samples": [["11 2 3 21 25", "2"], ["1 5 5 6 6", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 太空移民 (Day 1)", "background": "翻译自 [ROIR 2016 D1T2](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。", "description": "为了开发火星，必须建立一个研究基地。基地应该由 $n$ 个相同的矩形模块组成。每个模块都是一个居住舱，其大小为 $a \\times b$。\n\n为了提高模块的可靠性，工程师们可以在每个模块周围添加一层额外的保护层。该保护层的厚度应为一个整数，并且所有模块的保护层厚度必须相同。保护层厚度为 $d$ 的模块，其大小为 $(a + 2d) \\times (b + 2d)$。\n\n所有模块必须放置在一个提前准备好的矩形区域内，区域的大小为 $w \\times h$。所有模块的边要与这个矩形区域的边平行，且所有模块的朝向必须一致（即，必须全部横着放或全部竖着放）。\n\n你需要求出可以给每个模块添加的最大保护层厚度是多少。", "inputFormat": "输入五个数 $n,a,b,w,h$（$1\\le n,a,b,w,h\\le10^{18}$），用空格隔开。", "outputFormat": "输出一个整数，表示可以为每个模块添加的最大保护层厚度。如果无法添加保护层，则可以添加的厚度为 $0$。", "hint": "### 样例解释\n\n样例 $1$ 图示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6b9dfczt.png)\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $1\\le n\\le$ | $1\\le a,b,w,h\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $26$ | $1000$ | $1000$ |\n| $2$ | 是 | $23$ | $1000$ | $10^9$ |\n| $3$ | 否 | $24$ | $10^9$ | $10^{18}$ |\n| $4$ | 否 | $27$ | $10^{18}$ | $10^{18}$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 太空移民 (Day 1)", "background": "翻译自 [ROIR 2016 D1T2](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。", "description": "为了开发火星，必须建立一个研究基地。基地应该由 $n$ 个相同的矩形模块组成。每个模块都是一个居住舱，其大小为 $a \\times b$。\n\n为了提高模块的可靠性，工程师们可以在每个模块周围添加一层额外的保护层。该保护层的厚度应为一个整数，并且所有模块的保护层厚度必须相同。保护层厚度为 $d$ 的模块，其大小为 $(a + 2d) \\times (b + 2d)$。\n\n所有模块必须放置在一个提前准备好的矩形区域内，区域的大小为 $w \\times h$。所有模块的边要与这个矩形区域的边平行，且所有模块的朝向必须一致（即，必须全部横着放或全部竖着放）。\n\n你需要求出可以给每个模块添加的最大保护层厚度是多少。", "inputFormat": "输入五个数 $n,a,b,w,h$（$1\\le n,a,b,w,h\\le10^{18}$），用空格隔开。", "outputFormat": "输出一个整数，表示可以为每个模块添加的最大保护层厚度。如果无法添加保护层，则可以添加的厚度为 $0$。", "hint": "### 样例解释\n\n样例 $1$ 图示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6b9dfczt.png)\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $1\\le n\\le$ | $1\\le a,b,w,h\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $26$ | $1000$ | $1000$ |\n| $2$ | 是 | $23$ | $1000$ | $10^9$ |\n| $3$ | 否 | $24$ | $10^9$ | $10^{18}$ |\n| $4$ | 否 | $27$ | $10^{18}$ | $10^{18}$ |", "locale": "zh-CN"}}}
{"pid": "P11553", "type": "P", "difficulty": 4, "samples": [["abba", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 奇怪的字符串 (Day 1)", "background": "翻译自 [ROIR 2016 D1T3](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。\n\n注意：本题官方数据行末存在 `\\r`。", "description": "考虑一个由小写字母组成的字符串 $ s $，如 $\\texttt{abba}$。\n- 记 $ W(s) $ 为一个集合，包含了字符串 $ s $ 所有的非空子串。例如，$ W(\\texttt{abba}) = \\{\\texttt{a}, \\texttt{b}, \\texttt{ab}, \\texttt{ba}, \\texttt{bb}, \\texttt{abb}, \\texttt{bba}, \\texttt{abba}\\} $。\n- 记 $ Y(s) $ 为一个集合，包含了字符串 $ s $ 所有的非空子序列。由于任何子串都是子序列，因此 $ Y(s) $ 集合包含了 $ W(s) $，但它还可以包含其他的字符串。例如，$ Y(\\texttt{abba}) = W(\\texttt{abba}) \\cup \\{\\texttt{aa}, \\texttt{aba}\\} $。\n\n如果一个字符串 $ s $ 满足 $ W(s) = Y(s) $，那么我们称它是**奇怪的**。例如，字符串 $\\texttt{abba}$ 不是奇怪的，而字符串 $\\texttt{abb}$ 是奇怪的，因为对于 $\\texttt{abb}$，有 $ W(\\texttt{abb}) = Y(\\texttt{abb}) = \\{\\texttt{a}, \\texttt{b}, \\texttt{ab}, \\texttt{bb}, \\texttt{abb}\\} $。\n\n我们称字符串 $s$ 的**奇异度**为它所有不同的奇怪子串的数量，即，$W(s)$ 中奇怪的字符串的数量。例如，字符串 $\\texttt{abba}$ 的奇异度为 $7$，因为它的所有除它本身以外的子串都是奇怪的。\n\n给定一个字符串 $s$，你要求出它的奇异度。", "inputFormat": "输入一个由小写字母组成的字符串 $s$。", "outputFormat": "输出 $s$ 的奇异度。", "hint": "| 子任务 | 是否捆绑 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $29$ | $\\vert s\\vert\\le50$ 且 $s$ 只含 $\\tt a$ 和 $\\tt b$ |\n| $2$ | 是 | $12$ | $\\vert s\\vert\\le50$ |\n| $3$ | 是 | $25$ | $\\vert s\\vert\\le1000$ |\n| $4$ | 是 | $34$ | $\\vert s\\vert\\le200000$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 奇怪的字符串 (Day 1)", "background": "翻译自 [ROIR 2016 D1T3](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。\n\n注意：本题官方数据行末存在 `\\r`。", "description": "考虑一个由小写字母组成的字符串 $ s $，如 $\\texttt{abba}$。\n- 记 $ W(s) $ 为一个集合，包含了字符串 $ s $ 所有的非空子串。例如，$ W(\\texttt{abba}) = \\{\\texttt{a}, \\texttt{b}, \\texttt{ab}, \\texttt{ba}, \\texttt{bb}, \\texttt{abb}, \\texttt{bba}, \\texttt{abba}\\} $。\n- 记 $ Y(s) $ 为一个集合，包含了字符串 $ s $ 所有的非空子序列。由于任何子串都是子序列，因此 $ Y(s) $ 集合包含了 $ W(s) $，但它还可以包含其他的字符串。例如，$ Y(\\texttt{abba}) = W(\\texttt{abba}) \\cup \\{\\texttt{aa}, \\texttt{aba}\\} $。\n\n如果一个字符串 $ s $ 满足 $ W(s) = Y(s) $，那么我们称它是**奇怪的**。例如，字符串 $\\texttt{abba}$ 不是奇怪的，而字符串 $\\texttt{abb}$ 是奇怪的，因为对于 $\\texttt{abb}$，有 $ W(\\texttt{abb}) = Y(\\texttt{abb}) = \\{\\texttt{a}, \\texttt{b}, \\texttt{ab}, \\texttt{bb}, \\texttt{abb}\\} $。\n\n我们称字符串 $s$ 的**奇异度**为它所有不同的奇怪子串的数量，即，$W(s)$ 中奇怪的字符串的数量。例如，字符串 $\\texttt{abba}$ 的奇异度为 $7$，因为它的所有除它本身以外的子串都是奇怪的。\n\n给定一个字符串 $s$，你要求出它的奇异度。", "inputFormat": "输入一个由小写字母组成的字符串 $s$。", "outputFormat": "输出 $s$ 的奇异度。", "hint": "| 子任务 | 是否捆绑 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $29$ | $\\vert s\\vert\\le50$ 且 $s$ 只含 $\\tt a$ 和 $\\tt b$ |\n| $2$ | 是 | $12$ | $\\vert s\\vert\\le50$ |\n| $3$ | 是 | $25$ | $\\vert s\\vert\\le1000$ |\n| $4$ | 是 | $34$ | $\\vert s\\vert\\le200000$ |", "locale": "zh-CN"}}}
{"pid": "P11554", "type": "P", "difficulty": 5, "samples": [["5 4 3\n1 4 1\n2 5 3\n2 3 2\n4 5 2\n3\n1 5\n3 5\n4 5", "-1\n2\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 假期旅行 (Day 1)", "background": "翻译自 [ROIR 2016 D1T4](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。", "description": "某地铁路是一条直线，沿线有 $n$ 个车站。我们称从某个车站到下一个车站之间的路段为一个区段。\n\n一列火车从车站 $1$ 开始，最终到达车站 $n$，在每个车站都会停靠。火车上有 $k$ 个座位，座位编号从 $1$ 到 $k$。每张火车票上由三个数字 $s, t, a$，表示持有这张票的乘客允许从车站 $s$ 到车站 $t$，坐在编号为 $a$ 的座位上。\n\n暑假的一天，Vasya 计划乘坐火车从一个车站到另一个车站。他发现当天已经售出了 $m$ 张票，并且可能在他感兴趣的车站之间已经没有空座位。直接从某个车站到另一个车站的票只能在每个区段的对应座位都空闲时购买。\n\nVasya 想到，有时即便如此，他仍然可以通过购买几张票，在某些中途车站换座位再继续乘坐。因此，他希望购买最少的票数，让他在每个区段都有座位。\n\nVasya 还没有完全确定下来要从哪个车站出发，也没有决定最终到达哪个车站。他记录了 $q$ 个出行方案，对于每个方案，他想知道如果选择这个方案，最少需要购买多少张票才能完成这次旅行。", "inputFormat": "第一行输入三个整数 $n,m,k$（$2 \\leq n \\leq 200000$，$0 \\leq m \\leq 200000$，$1 \\leq k \\leq 200000$），分别表示车站的数量、已经售出的票的数量，以及火车上的座位数。\n\n接下来 $m$ 行，每行输入三个整数 $s_i,t_i,a_i$，表示一张已售出的票的起始车站 $s_i$，目的车站 $t_i$ 和座位号 $a_i$ （$1 \\leq s_i < t_i \\leq n$，$1 \\leq a_i \\leq k$）。保证在任意区段，每个座位最多只被一张票占用。\n\n接下来一行输入一个整数 $q$，表示查询的数量（$1 \\leq q \\leq 200000$）。\n\n接下来 $q$ 行，每行输入两个整数 $f_j,d_j$（$1 \\leq f_j < d_j \\leq n$），分别表示 Vasya 想要出发的车站和目的地车站。", "outputFormat": "输出共 $q$ 行。对于每个查询，输出 Vasya 完成这次旅行所需的最少票数。如果无法完成旅行，输出 `-1`。", "hint": "### 样例解释\n\n- 在车站 $2$ 到车站 $3$ 的区段，所有座位都已经被占用，因此从车站 $1$ 到车站 $5$ 的旅程无法进行。\n- 从车站 $3$ 到车站 $5$，需要购买两张票：从车站 $3$ 到车站 $4$ 坐座位 $2$，从车站 $4$ 到车站 $5$ 坐座位 $1$。\n- 从车站 $4$ 到车站 $5$ 只需要一张座位 $1$ 的票。\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $n,m,k\\le$ | $q\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $33$ | $100$ | $1$ |\n| $2$ | 是 | $30$ | $200000$ | $1$ |\n| $3$ | 是 | $37$ | $200000$ | $200000$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 假期旅行 (Day 1)", "background": "翻译自 [ROIR 2016 D1T4](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day1.pdf)。", "description": "某地铁路是一条直线，沿线有 $n$ 个车站。我们称从某个车站到下一个车站之间的路段为一个区段。\n\n一列火车从车站 $1$ 开始，最终到达车站 $n$，在每个车站都会停靠。火车上有 $k$ 个座位，座位编号从 $1$ 到 $k$。每张火车票上由三个数字 $s, t, a$，表示持有这张票的乘客允许从车站 $s$ 到车站 $t$，坐在编号为 $a$ 的座位上。\n\n暑假的一天，Vasya 计划乘坐火车从一个车站到另一个车站。他发现当天已经售出了 $m$ 张票，并且可能在他感兴趣的车站之间已经没有空座位。直接从某个车站到另一个车站的票只能在每个区段的对应座位都空闲时购买。\n\nVasya 想到，有时即便如此，他仍然可以通过购买几张票，在某些中途车站换座位再继续乘坐。因此，他希望购买最少的票数，让他在每个区段都有座位。\n\nVasya 还没有完全确定下来要从哪个车站出发，也没有决定最终到达哪个车站。他记录了 $q$ 个出行方案，对于每个方案，他想知道如果选择这个方案，最少需要购买多少张票才能完成这次旅行。", "inputFormat": "第一行输入三个整数 $n,m,k$（$2 \\leq n \\leq 200000$，$0 \\leq m \\leq 200000$，$1 \\leq k \\leq 200000$），分别表示车站的数量、已经售出的票的数量，以及火车上的座位数。\n\n接下来 $m$ 行，每行输入三个整数 $s_i,t_i,a_i$，表示一张已售出的票的起始车站 $s_i$，目的车站 $t_i$ 和座位号 $a_i$ （$1 \\leq s_i < t_i \\leq n$，$1 \\leq a_i \\leq k$）。保证在任意区段，每个座位最多只被一张票占用。\n\n接下来一行输入一个整数 $q$，表示查询的数量（$1 \\leq q \\leq 200000$）。\n\n接下来 $q$ 行，每行输入两个整数 $f_j,d_j$（$1 \\leq f_j < d_j \\leq n$），分别表示 Vasya 想要出发的车站和目的地车站。", "outputFormat": "输出共 $q$ 行。对于每个查询，输出 Vasya 完成这次旅行所需的最少票数。如果无法完成旅行，输出 `-1`。", "hint": "### 样例解释\n\n- 在车站 $2$ 到车站 $3$ 的区段，所有座位都已经被占用，因此从车站 $1$ 到车站 $5$ 的旅程无法进行。\n- 从车站 $3$ 到车站 $5$，需要购买两张票：从车站 $3$ 到车站 $4$ 坐座位 $2$，从车站 $4$ 到车站 $5$ 坐座位 $1$。\n- 从车站 $4$ 到车站 $5$ 只需要一张座位 $1$ 的票。\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $n,m,k\\le$ | $q\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $33$ | $100$ | $1$ |\n| $2$ | 是 | $30$ | $200000$ | $1$ |\n| $3$ | 是 | $37$ | $200000$ | $200000$ |", "locale": "zh-CN"}}}
{"pid": "P11555", "type": "P", "difficulty": 2, "samples": [["6", "1 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 三子问题 (Day 2)", "background": "翻译自 [ROIR 2016 D2T1](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "在王国的领地上，有一条长为 $n$ 公里的直路，道路一侧是一个巨大的森林。国王十分关注自然保护，决定将这片森林设为自然保护区。但是，国王的三个儿子表示反对，因为他们希望能继承这些土地。\n\n国王决定，森林保护区的土地不能继承给儿子。在制定遗嘱时，国王希望分配的土地满足以下条件：\n- 每块土地应该是一个正方形，且边长是一个正整数。每个正方形的一边应当与道路平行。假设这三块土地的大小分别为 $a \\times a$、$b \\times b$ 和 $c \\times c$。\n- 这些正方形的边长之和应该刚好覆盖整条道路，也就是说，$a + b + c = n$。\n- 小儿子的土地应该小于二儿子的土地，二儿子的土地应该小于大儿子的土地，也就是说，$a < b < c$。\n- 所有区域的总面积 $a^2 + b^2 + c^2$ 应该尽量最小。\n\n给定道路的长度 $n$，你需要求出分配给国王三个儿子的土地的边长。", "inputFormat": "输入一个整数 $n$（$6 \\leq n \\leq 10^9$）。", "outputFormat": "输出三个数 $a,b,c$。如果有多个最优解，可以输出任意一个。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9s4tycwv.png)\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $n\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $25$ | $50$ |\n| $2$ | 是 | $25$ | $2000$ |\n| $3$ | 是 | $25$ | $40000$ |\n| $4$ | 是 | $25$ | $10^9$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 三子问题 (Day 2)", "background": "翻译自 [ROIR 2016 D2T1](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "在王国的领地上，有一条长为 $n$ 公里的直路，道路一侧是一个巨大的森林。国王十分关注自然保护，决定将这片森林设为自然保护区。但是，国王的三个儿子表示反对，因为他们希望能继承这些土地。\n\n国王决定，森林保护区的土地不能继承给儿子。在制定遗嘱时，国王希望分配的土地满足以下条件：\n- 每块土地应该是一个正方形，且边长是一个正整数。每个正方形的一边应当与道路平行。假设这三块土地的大小分别为 $a \\times a$、$b \\times b$ 和 $c \\times c$。\n- 这些正方形的边长之和应该刚好覆盖整条道路，也就是说，$a + b + c = n$。\n- 小儿子的土地应该小于二儿子的土地，二儿子的土地应该小于大儿子的土地，也就是说，$a < b < c$。\n- 所有区域的总面积 $a^2 + b^2 + c^2$ 应该尽量最小。\n\n给定道路的长度 $n$，你需要求出分配给国王三个儿子的土地的边长。", "inputFormat": "输入一个整数 $n$（$6 \\leq n \\leq 10^9$）。", "outputFormat": "输出三个数 $a,b,c$。如果有多个最优解，可以输出任意一个。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9s4tycwv.png)\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $n\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $25$ | $50$ |\n| $2$ | 是 | $25$ | $2000$ |\n| $3$ | 是 | $25$ | $40000$ |\n| $4$ | 是 | $25$ | $10^9$ |", "locale": "zh-CN"}}}
{"pid": "P11556", "type": "P", "difficulty": 3, "samples": [["5 2\n1 1 2 2 3", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 超级跳棋 (Day 2)", "background": "翻译自 [ROIR 2016 D2T2](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "Andrey 是超级跳棋比赛的裁判。每场比赛中有三名玩家参与。每个玩家在比赛过程中会得到一定的正整数分数。如果在比赛结束时，第一个玩家得到了 $a$ 分，第二个玩家得到了 $b$ 分，第三个玩家得到了 $c$ 分，那么我们说比赛以得分 $a\\;\\!\\text:\\;\\!b\\;\\!\\text:\\;\\!c$ 结束。\n\nAndrey 知道超级跳棋的规则要求，比赛结果中任何两个玩家的得分之比最多为 $k$。比赛结束后，Andrey 将显示比赛结果，将三张写有玩家得分的卡片放到专门的显示屏上。Andrey 有 $n$ 张这样的卡片，上面写的数字分别是 $x_1,x_2,\\dots,x_n$。\n\n为了测试自己为比赛做好了多少准备，Andrey 希望知道，使用他拥有的 $n$ 张卡片，他能在显示屏上显示多少种不同的得分组合。", "inputFormat": "第一行输入两个整数 $n,k$（$3 \\leq n \\leq 100000$，$1 \\leq k \\leq 10^9$）。\n\n第二行输入 $n$ 个整数 $x_1, x_2, \\dots, x_n$ （$1 \\leq x_i \\leq 10^9$）。", "outputFormat": "输出一个整数，表示 Andrey 可以在显示屏上显示的不同得分组合的数量。", "hint": "### 样例解释\n\n在样例中，Andrey 可以显示的得分组合有：$1\\;\\!\\text:\\;\\!1\\;\\!\\text:\\;\\!2,\\;\\! 1\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!1,\\;\\! 2\\;\\!\\text:\\;\\!1\\;\\!\\text:\\;\\!1,\\;\\! 1\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!2,\\;\\! 2\\;\\!\\text:\\;\\!1\\;\\!\\text:\\;\\!2,\\;\\! 2\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!1,\\;\\! 2\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!3,\\;\\! 2\\;\\!\\text:\\;\\!3\\;\\!\\text:\\;\\!2,\\;\\! 3\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!2%吐槽：这个间距太难调整了！！！11$。\n\n其它用现有卡片组成的三元组不满足条件，因为这样会出现两个玩家的得分之比超过了 $k = 2$ 的情况。\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $3\\le n\\le$ | $1\\le k\\le$ | $1\\le x_i\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $15$ | $100000$ | $1$ | $100000$ |  |\n| $2$ | 是 | $23$ | $100$ | $100$ | $100$ |  |\n| $3$ | 是 | $30$ | $100000$ | $10^9$ | $10^9$ | 所有 $x_i$ 互不相同 |\n| $4$ | 是 | $32$ | $100000$ | $10^9$ | $10^9$ |  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 超级跳棋 (Day 2)", "background": "翻译自 [ROIR 2016 D2T2](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "Andrey 是超级跳棋比赛的裁判。每场比赛中有三名玩家参与。每个玩家在比赛过程中会得到一定的正整数分数。如果在比赛结束时，第一个玩家得到了 $a$ 分，第二个玩家得到了 $b$ 分，第三个玩家得到了 $c$ 分，那么我们说比赛以得分 $a\\;\\!\\text:\\;\\!b\\;\\!\\text:\\;\\!c$ 结束。\n\nAndrey 知道超级跳棋的规则要求，比赛结果中任何两个玩家的得分之比最多为 $k$。比赛结束后，Andrey 将显示比赛结果，将三张写有玩家得分的卡片放到专门的显示屏上。Andrey 有 $n$ 张这样的卡片，上面写的数字分别是 $x_1,x_2,\\dots,x_n$。\n\n为了测试自己为比赛做好了多少准备，Andrey 希望知道，使用他拥有的 $n$ 张卡片，他能在显示屏上显示多少种不同的得分组合。", "inputFormat": "第一行输入两个整数 $n,k$（$3 \\leq n \\leq 100000$，$1 \\leq k \\leq 10^9$）。\n\n第二行输入 $n$ 个整数 $x_1, x_2, \\dots, x_n$ （$1 \\leq x_i \\leq 10^9$）。", "outputFormat": "输出一个整数，表示 Andrey 可以在显示屏上显示的不同得分组合的数量。", "hint": "### 样例解释\n\n在样例中，Andrey 可以显示的得分组合有：$1\\;\\!\\text:\\;\\!1\\;\\!\\text:\\;\\!2,\\;\\! 1\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!1,\\;\\! 2\\;\\!\\text:\\;\\!1\\;\\!\\text:\\;\\!1,\\;\\! 1\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!2,\\;\\! 2\\;\\!\\text:\\;\\!1\\;\\!\\text:\\;\\!2,\\;\\! 2\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!1,\\;\\! 2\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!3,\\;\\! 2\\;\\!\\text:\\;\\!3\\;\\!\\text:\\;\\!2,\\;\\! 3\\;\\!\\text:\\;\\!2\\;\\!\\text:\\;\\!2%吐槽：这个间距太难调整了！！！11$。\n\n其它用现有卡片组成的三元组不满足条件，因为这样会出现两个玩家的得分之比超过了 $k = 2$ 的情况。\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $3\\le n\\le$ | $1\\le k\\le$ | $1\\le x_i\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $15$ | $100000$ | $1$ | $100000$ |  |\n| $2$ | 是 | $23$ | $100$ | $100$ | $100$ |  |\n| $3$ | 是 | $30$ | $100000$ | $10^9$ | $10^9$ | 所有 $x_i$ 互不相同 |\n| $4$ | 是 | $32$ | $100000$ | $10^9$ | $10^9$ |  |", "locale": "zh-CN"}}}
{"pid": "P11557", "type": "P", "difficulty": 4, "samples": [["1 100", "54"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "数位 DP", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 有趣数字 (Day 2)", "background": "翻译自 [ROIR 2016 D2T3](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "如果一个整数的各个数位按非递减顺序排列，我们称这个数是“有趣的”。例如，$1145,2333,1377777$ 都是“有趣的”。\n\n给定 $L,R$，求出 $[L,R]$ 中有趣的数字的个数，对 $10^9+7$ 取模。", "inputFormat": "输入两行，每行一个数，分别是 $L$ 和 $R$。保证 $1 \\leq L \\leq R \\leq 10^{100}$。", "outputFormat": "输出一个数，表示答案。", "hint": "| 子任务 | 是否捆绑 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $21$ | $L = 1$，$R \\leq 1000$ |\n| $2$ | 否 | $22$ | $1 \\leq L \\leq R \\leq 10^{18}$ |\n| $3$ | 否 | $24$ | $L = 1$，$R = 10^k$，其中 $2 \\leq k \\leq 100$ |\n| $4$ | 否 | $33$ | $1 \\leq L \\leq R \\leq 10^{100}$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 有趣数字 (Day 2)", "background": "翻译自 [ROIR 2016 D2T3](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "如果一个整数的各个数位按非递减顺序排列，我们称这个数是“有趣的”。例如，$1145,2333,1377777$ 都是“有趣的”。\n\n给定 $L,R$，求出 $[L,R]$ 中有趣的数字的个数，对 $10^9+7$ 取模。", "inputFormat": "输入两行，每行一个数，分别是 $L$ 和 $R$。保证 $1 \\leq L \\leq R \\leq 10^{100}$。", "outputFormat": "输出一个数，表示答案。", "hint": "| 子任务 | 是否捆绑 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $21$ | $L = 1$，$R \\leq 1000$ |\n| $2$ | 否 | $22$ | $1 \\leq L \\leq R \\leq 10^{18}$ |\n| $3$ | 否 | $24$ | $L = 1$，$R = 10^k$，其中 $2 \\leq k \\leq 100$ |\n| $4$ | 否 | $33$ | $1 \\leq L \\leq R \\leq 10^{100}$ |", "locale": "zh-CN"}}}
{"pid": "P11558", "type": "P", "difficulty": 6, "samples": [["4  \n1 2 0 0", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2016] 和谐数列 (Day 2)", "background": "翻译自 [ROIR 2016 D2T4](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "如果一个整数数列 $a_1, a_2, \\dots, a_n$ 满足其中每个数（除了 $a_1$ 和 $a_n$）等于其相邻两个数的和，即 $a_2 = a_1 + a_3, a_3 = a_2 + a_4, \\dots, a_{n-1} = a_{n-2} + a_n$，那么我们称这个序列为和谐数列。  \n\n例如，数列 $[1, 2, 1, {-1}]$ 是和谐数列，因为 $2 = 1 + 1$，且 $1 = 2 + ({-1})$。\n\n现在考虑两个相同长度的数列 $A = [a_1, a_2, \\dots, a_n]$ 和 $B = [b_1, b_2, \\dots, b_n]$。我们定义它们之间的距离为：\n$$ d(A, B) = |a_1 - b_1| + |a_2 - b_2| + \\dots + |a_n - b_n| $$  \n例如，$d([1, 2, 1, {-1}], [1, 2, 0, 0]) = |1 - 1| + |2 - 2| + |1 - 0| + |{-1} - 0| = 0 + 0 + 1 + 1 = 2$。\n\n现有一个数列 $B = [b_1, b_2, \\dots, b_n]$，需要找出一个和谐数列 $A = [a_1, a_2, \\dots, a_n]$，使得 $d(A, B)$ 最小。你只需要求出 $d(A, B)$ 的最小值即可。", "inputFormat": "第一行输入一个整数 $n$，表示数列的长度（$3 \\leq n \\leq 300000$）。\n\n第二行输入 $n$ 个整数 $b_1,b_2,\\dots,b_n$（$-10^9 \\leq b_i \\leq 10^9$）。", "outputFormat": "输出一个整数，表示 $d(A, B)$ 的最小值。", "hint": "### 样例解释\n\n在样例中，可以令 $A=[1, 2, 1, {-1}]$，这样 $d([1, 2, 1, {-1}], [1, 2, 0, 0]) = 2$。可以证明 $d(A,B)$ 不可能小于 $2$。\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $3\\le n\\le$ | $\\lvert b_i\\rvert\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $14$ | $3$ | $10$ |\n| $2$ | 是 | $14$ | $500$ | $100$ |\n| $3$ | 是 | $16$ | $100000$ | $100$ |\n| $4$ | 是 | $16$ | $1000$ | $10^9$ |\n| $5$ | 是 | $40$ | $300000$ | $10^9$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2016] 和谐数列 (Day 2)", "background": "翻译自 [ROIR 2016 D2T4](https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-day2.pdf)。", "description": "如果一个整数数列 $a_1, a_2, \\dots, a_n$ 满足其中每个数（除了 $a_1$ 和 $a_n$）等于其相邻两个数的和，即 $a_2 = a_1 + a_3, a_3 = a_2 + a_4, \\dots, a_{n-1} = a_{n-2} + a_n$，那么我们称这个序列为和谐数列。  \n\n例如，数列 $[1, 2, 1, {-1}]$ 是和谐数列，因为 $2 = 1 + 1$，且 $1 = 2 + ({-1})$。\n\n现在考虑两个相同长度的数列 $A = [a_1, a_2, \\dots, a_n]$ 和 $B = [b_1, b_2, \\dots, b_n]$。我们定义它们之间的距离为：\n$$ d(A, B) = |a_1 - b_1| + |a_2 - b_2| + \\dots + |a_n - b_n| $$  \n例如，$d([1, 2, 1, {-1}], [1, 2, 0, 0]) = |1 - 1| + |2 - 2| + |1 - 0| + |{-1} - 0| = 0 + 0 + 1 + 1 = 2$。\n\n现有一个数列 $B = [b_1, b_2, \\dots, b_n]$，需要找出一个和谐数列 $A = [a_1, a_2, \\dots, a_n]$，使得 $d(A, B)$ 最小。你只需要求出 $d(A, B)$ 的最小值即可。", "inputFormat": "第一行输入一个整数 $n$，表示数列的长度（$3 \\leq n \\leq 300000$）。\n\n第二行输入 $n$ 个整数 $b_1,b_2,\\dots,b_n$（$-10^9 \\leq b_i \\leq 10^9$）。", "outputFormat": "输出一个整数，表示 $d(A, B)$ 的最小值。", "hint": "### 样例解释\n\n在样例中，可以令 $A=[1, 2, 1, {-1}]$，这样 $d([1, 2, 1, {-1}], [1, 2, 0, 0]) = 2$。可以证明 $d(A,B)$ 不可能小于 $2$。\n\n### 数据范围\n\n| 子任务 | 是否捆绑 | 分值 | $3\\le n\\le$ | $\\lvert b_i\\rvert\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | 是 | $14$ | $3$ | $10$ |\n| $2$ | 是 | $14$ | $500$ | $100$ |\n| $3$ | 是 | $16$ | $100000$ | $100$ |\n| $4$ | 是 | $16$ | $1000$ | $10^9$ |\n| $5$ | 是 | $40$ | $300000$ | $10^9$ |", "locale": "zh-CN"}}}
{"pid": "P11559", "type": "P", "difficulty": 1, "samples": [["50 50 10\n", "No"], ["100 30 100\n", "Yes"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "O2优化", "梦熊比赛"], "title": "【MX-X7-T0】[LSOT-3] 嗯欧哎", "background": "原题链接：<https://oier.team/problems/X7A>。\n\n嗯欧哎是欧哎界的知名比赛。本题可以用来检验嗯欧哎是否发挥出了真实水平。\n\n此名称纯属虚构，不影射任何现实中的比赛或机构的名称。如有雷同，纯属巧合。", "description": "一天的嗯欧哎有三道题，每道题的得分均在 $0 \\sim 100$ 之间。定义一道题的得分在 $85 \\sim 100$ 之间（含 $85$ 和 $100$，下同）时该题近似通过，在 $45 \\sim 84$ 之间时为高分暴力，在 $25 \\sim 44$ 之间时为低分暴力，在 $1 \\sim 24$ 之间时为指数级暴力，若为 $0$ 分则认为是爆零。\n\n一场发挥出真实水平的嗯欧哎有以下四种情况：\n- 一道题高分暴力加一道题低分暴力加一道题指数级暴力；\n- 一道题近似通过加一道题高分暴力加一道题低分暴力；\n- 两道题近似通过加一道题低分暴力或高分暴力；\n- 三道题近似通过。\n\n给出一个人一天的嗯欧哎三道题的得分 $a,b,c$，求是否发挥出真实水平。", "inputFormat": "仅一行，三个非负整数 $a, b, c$，表示某个人一天嗯欧哎三题的得分。", "outputFormat": "仅一行，一个字符串 `Yes` 或 `No`，表示是否发挥出了真实水平。", "hint": "**【样例解释 #1】**\n\n第一题的得分在 $45 \\sim 84$ 之间，为高分暴力。\n\n类似地，第二题为高分暴力，第三题为指数级暴力。\n\n因为不符合题目里描述的任何一种，所以输出 `No`。\n\n**【样例解释 #2】**\n\n第一题和第三题为近似通过，第二题为低分暴力。满足“两道题近似通过加一道题低分暴力或高分暴力”的条件，所以输出 `Yes`。\n\n**【数据范围】**\n\n对于全部的数据，$0\\le a,b,c\\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T0】[LSOT-3] 嗯欧哎", "background": "原题链接：<https://oier.team/problems/X7A>。\n\n嗯欧哎是欧哎界的知名比赛。本题可以用来检验嗯欧哎是否发挥出了真实水平。\n\n此名称纯属虚构，不影射任何现实中的比赛或机构的名称。如有雷同，纯属巧合。", "description": "一天的嗯欧哎有三道题，每道题的得分均在 $0 \\sim 100$ 之间。定义一道题的得分在 $85 \\sim 100$ 之间（含 $85$ 和 $100$，下同）时该题近似通过，在 $45 \\sim 84$ 之间时为高分暴力，在 $25 \\sim 44$ 之间时为低分暴力，在 $1 \\sim 24$ 之间时为指数级暴力，若为 $0$ 分则认为是爆零。\n\n一场发挥出真实水平的嗯欧哎有以下四种情况：\n- 一道题高分暴力加一道题低分暴力加一道题指数级暴力；\n- 一道题近似通过加一道题高分暴力加一道题低分暴力；\n- 两道题近似通过加一道题低分暴力或高分暴力；\n- 三道题近似通过。\n\n给出一个人一天的嗯欧哎三道题的得分 $a,b,c$，求是否发挥出真实水平。", "inputFormat": "仅一行，三个非负整数 $a, b, c$，表示某个人一天嗯欧哎三题的得分。", "outputFormat": "仅一行，一个字符串 `Yes` 或 `No`，表示是否发挥出了真实水平。", "hint": "**【样例解释 #1】**\n\n第一题的得分在 $45 \\sim 84$ 之间，为高分暴力。\n\n类似地，第二题为高分暴力，第三题为指数级暴力。\n\n因为不符合题目里描述的任何一种，所以输出 `No`。\n\n**【样例解释 #2】**\n\n第一题和第三题为近似通过，第二题为低分暴力。满足“两道题近似通过加一道题低分暴力或高分暴力”的条件，所以输出 `Yes`。\n\n**【数据范围】**\n\n对于全部的数据，$0\\le a,b,c\\le 100$。", "locale": "zh-CN"}}}
{"pid": "P11560", "type": "P", "difficulty": 2, "samples": [["1 5\n", "3\n"], ["114514 1919810\n", "87590\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "O2优化", "枚举", "梦熊比赛"], "title": "【MX-X7-T1】[LSOT-3] 分蛋糕", "background": "原题链接：<https://oier.team/problems/X7B>。\n\n这里原本有一个相当魔怔的影射当代营销号的题目背景，不过由于过于魔怔被删去了。", "description": "有两个正整数 $a$ 和 $b$，每次可以选择以下操作之一：\n\n1. $a\\gets a\\times 2$。\n2. $b\\gets b-1$。\n3. $b\\gets b+1$。\n\n求使得 $a=b$ 的最小操作次数。", "inputFormat": "仅一行，两个正整数 $a,b$。", "outputFormat": "仅一行，一个非负整数，表示最少操作次数。", "hint": "**【样例解释 #1】**\n\n初始 $a=1$，$b=5$。\n\n- 进行操作 $1$，变成 $a=2$，$b=5$。\n- 进行操作 $1$，变成 $a=4$，$b=5$。\n- 进行操作 $2$，变成 $a=4$，$b=4$。\n\n总操作次数为 $3$。可以证明不存在操作次数更少的方案。\n\n**【数据范围】**\n\n对于 $28\\%$ 的数据，$a,b\\le 20$。\n\n对于 $60\\%$ 的数据，$a,b\\le 5000$。\n\n对于全部的数据，$1\\le a,b\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T1】[LSOT-3] 分蛋糕", "background": "原题链接：<https://oier.team/problems/X7B>。\n\n这里原本有一个相当魔怔的影射当代营销号的题目背景，不过由于过于魔怔被删去了。", "description": "有两个正整数 $a$ 和 $b$，每次可以选择以下操作之一：\n\n1. $a\\gets a\\times 2$。\n2. $b\\gets b-1$。\n3. $b\\gets b+1$。\n\n求使得 $a=b$ 的最小操作次数。", "inputFormat": "仅一行，两个正整数 $a,b$。", "outputFormat": "仅一行，一个非负整数，表示最少操作次数。", "hint": "**【样例解释 #1】**\n\n初始 $a=1$，$b=5$。\n\n- 进行操作 $1$，变成 $a=2$，$b=5$。\n- 进行操作 $1$，变成 $a=4$，$b=5$。\n- 进行操作 $2$，变成 $a=4$，$b=4$。\n\n总操作次数为 $3$。可以证明不存在操作次数更少的方案。\n\n**【数据范围】**\n\n对于 $28\\%$ 的数据，$a,b\\le 20$。\n\n对于 $60\\%$ 的数据，$a,b\\le 5000$。\n\n对于全部的数据，$1\\le a,b\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11561", "type": "P", "difficulty": 3, "samples": [["9 2\n100000001", "4"], ["18 3\n100000010101001000", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "O2优化", "梦熊比赛"], "title": "【MX-X7-T2】[LSOT-3] 姬誉蛙", "background": "原题链接：<https://oier.team/problems/X7C>。\n\n姬誉蛙——每十六年在陆地上出现一次的 奇迹般的青蛙\n\n呱…呱呱呱呱…\n\n快把门打开啊 呱呱", "description": "Ringo 为了解除姬誉蛙的诅咒需要做出由 Tabuki 出的一道题。\n\n定义一个 $01$ 串的权值为这个串中 $0$ 的数量与 $1$ 的数量的乘积。\n\n给你一个长度为 $n$ 的 $01$ 串。你想知道将整个串恰好划分为 $k$ 个连续子串后，这 $k$ 个子串的最大权值最小可以是多少。", "inputFormat": "第一行，两个正整数 $n, k$。\n\n第二行，一个长度为 $n$ 的 $01$ 串。", "outputFormat": "仅一行，一个整数，表示最大权值最小可以是多少。", "hint": "**【样例解释 #1】**\n\n分成的两段分别为 `10000` 和 `0001`。第一段的权值为 $4\\times 1=4$，第二段的权值为 $3\\times 1=3$，最大值为 $4$。\n\n可以证明不存在使得最大权值更小的方案。需要注意的是，`1000` 和 `00001` 也是一个最大权值为 $4$ 的方案。\n\n**【样例解释 #2】**\n\n可以分成三段 `1000000`、`10101`、`001000`，最大权值为第二段的 $2\\times 3=6$。\n\n**【数据范围】**\n\n对于 $15\\%$ 的数据，$n\\le 20$。\n\n对于 $40\\%$ 的数据，$n\\le 5000$。\n\n对于另外 $10\\%$ 的数据，串中仅含有 $0$。\n\n对于全部的数据，$1\\le k\\le n\\le 10^6$，串中仅含 $0$ 或 $1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T2】[LSOT-3] 姬誉蛙", "background": "原题链接：<https://oier.team/problems/X7C>。\n\n姬誉蛙——每十六年在陆地上出现一次的 奇迹般的青蛙\n\n呱…呱呱呱呱…\n\n快把门打开啊 呱呱", "description": "Ringo 为了解除姬誉蛙的诅咒需要做出由 Tabuki 出的一道题。\n\n定义一个 $01$ 串的权值为这个串中 $0$ 的数量与 $1$ 的数量的乘积。\n\n给你一个长度为 $n$ 的 $01$ 串。你想知道将整个串恰好划分为 $k$ 个连续子串后，这 $k$ 个子串的最大权值最小可以是多少。", "inputFormat": "第一行，两个正整数 $n, k$。\n\n第二行，一个长度为 $n$ 的 $01$ 串。", "outputFormat": "仅一行，一个整数，表示最大权值最小可以是多少。", "hint": "**【样例解释 #1】**\n\n分成的两段分别为 `10000` 和 `0001`。第一段的权值为 $4\\times 1=4$，第二段的权值为 $3\\times 1=3$，最大值为 $4$。\n\n可以证明不存在使得最大权值更小的方案。需要注意的是，`1000` 和 `00001` 也是一个最大权值为 $4$ 的方案。\n\n**【样例解释 #2】**\n\n可以分成三段 `1000000`、`10101`、`001000`，最大权值为第二段的 $2\\times 3=6$。\n\n**【数据范围】**\n\n对于 $15\\%$ 的数据，$n\\le 20$。\n\n对于 $40\\%$ 的数据，$n\\le 5000$。\n\n对于另外 $10\\%$ 的数据，串中仅含有 $0$。\n\n对于全部的数据，$1\\le k\\le n\\le 10^6$，串中仅含 $0$ 或 $1$。", "locale": "zh-CN"}}}
{"pid": "P11562", "type": "P", "difficulty": 4, "samples": [["5\n1 0 0 1 0\n1 2\n2 3\n2 4\n3 5\n", "2\n"], ["15\n1 0 0 0 0 1 0 1 1 1 0 0 1 1 0\n10 2\n1 7\n1 5\n9 7\n14 2\n4 11\n6 5\n9 15\n4 5\n5 3\n5 14\n13 5\n5 8\n5 12\n", "4\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "并查集", "O2优化", "树的直径", "梦熊比赛"], "title": "【MX-X7-T3】[LSOT-3] 寄存器", "background": "原题链接：<https://oier.team/problems/X7D>。\n\n这里不是 APIO，所以这个题也不是让你手搓 CPU。", "description": "有 $n$ 个寄存器，编号为 $1 \\sim n$。这些寄存器由 $n-1$ 条带有开关的电线连接。为了保证交换信息的顺利，保证每两个寄存器都可以通过若干条电线连接。\n\n初始时每个寄存器存储的信息都是 $0$。小 H 每次可以独立地操纵所有电线的开关然后选择一个寄存器通电。若一个寄存器与一个通电的寄存器有**开启的电线**相连，则这个寄存器也会通电。所有通电的寄存器都会反转存储的信息（$0$ 会变成 $1$，$1$ 会变成 $0$）。小 H 想让寄存器存储他想要的信息，他希望你告诉他最少需要进行多少次**通电**。", "inputFormat": "第一行，一个正整数 $n$，表示寄存器个数。\n\n第二行，$n$ 个非负整数 $a_1, \\ldots, a_n$，表示小 H 希望寄存器 $i$ 存储 $a_i$。保证 $a_i$ 为 $0$ 或 $1$。\n\n接下来 $n - 1$ 行，每行两个正整数 $u, v$，表示寄存器 $u$ 和 $v$ 之间有一根电线。保证每两个寄存器都可以通过若干条电线连接。", "outputFormat": "仅一行，一个非负整数，表示最少进行多少次**通电**。", "hint": "**【样例解释 #1】**\n\n先将电线 $(1, 2)$ 关闭，其余开启，给寄存器 $1$ 通电，此时 $1$ 的信息翻转，所有寄存器存储的信息变为 `1 0 0 0 0`。\n\n然后将电线 $(2, 4)$ 关闭，其余开启，给寄存器 $4$ 通电，此时 $4$ 的信息翻转，所有寄存器存储的信息变为 `1 0 0 1 0`，满足要求。\n\n可以证明不存在更优的方案。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（20 分）：$n\\le 5$。\n- 子任务 2（20 分）：对于第 $i$ 根电线，$u=i$，$v=i+1$。\n- 子任务 3（30 分）：不存在一对相邻的寄存器希望储存的信息相同。\n- 子任务 4（30 分）：无特殊性质。\n\n对于全部的数据，$1\\le n\\le 10^6$，$1\\le u,v\\le n$，$0 \\le a_i \\le 1$，每两个寄存器都可以通过若干条电线连接。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T3】[LSOT-3] 寄存器", "background": "原题链接：<https://oier.team/problems/X7D>。\n\n这里不是 APIO，所以这个题也不是让你手搓 CPU。", "description": "有 $n$ 个寄存器，编号为 $1 \\sim n$。这些寄存器由 $n-1$ 条带有开关的电线连接。为了保证交换信息的顺利，保证每两个寄存器都可以通过若干条电线连接。\n\n初始时每个寄存器存储的信息都是 $0$。小 H 每次可以独立地操纵所有电线的开关然后选择一个寄存器通电。若一个寄存器与一个通电的寄存器有**开启的电线**相连，则这个寄存器也会通电。所有通电的寄存器都会反转存储的信息（$0$ 会变成 $1$，$1$ 会变成 $0$）。小 H 想让寄存器存储他想要的信息，他希望你告诉他最少需要进行多少次**通电**。", "inputFormat": "第一行，一个正整数 $n$，表示寄存器个数。\n\n第二行，$n$ 个非负整数 $a_1, \\ldots, a_n$，表示小 H 希望寄存器 $i$ 存储 $a_i$。保证 $a_i$ 为 $0$ 或 $1$。\n\n接下来 $n - 1$ 行，每行两个正整数 $u, v$，表示寄存器 $u$ 和 $v$ 之间有一根电线。保证每两个寄存器都可以通过若干条电线连接。", "outputFormat": "仅一行，一个非负整数，表示最少进行多少次**通电**。", "hint": "**【样例解释 #1】**\n\n先将电线 $(1, 2)$ 关闭，其余开启，给寄存器 $1$ 通电，此时 $1$ 的信息翻转，所有寄存器存储的信息变为 `1 0 0 0 0`。\n\n然后将电线 $(2, 4)$ 关闭，其余开启，给寄存器 $4$ 通电，此时 $4$ 的信息翻转，所有寄存器存储的信息变为 `1 0 0 1 0`，满足要求。\n\n可以证明不存在更优的方案。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（20 分）：$n\\le 5$。\n- 子任务 2（20 分）：对于第 $i$ 根电线，$u=i$，$v=i+1$。\n- 子任务 3（30 分）：不存在一对相邻的寄存器希望储存的信息相同。\n- 子任务 4（30 分）：无特殊性质。\n\n对于全部的数据，$1\\le n\\le 10^6$，$1\\le u,v\\le n$，$0 \\le a_i \\le 1$，每两个寄存器都可以通过若干条电线连接。", "locale": "zh-CN"}}}
{"pid": "P11563", "type": "P", "difficulty": 5, "samples": [["5\n2 3 2 5 4\n", "6\n"], ["20\n17 18 20 6 8 4 15 5 14 20 4 3 19 6 7 17 16 8 10 10\n", "3456\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "排列组合", "容斥原理", "基环树", "分类讨论", "梦熊比赛"], "title": "【MX-X7-T4】[LSOT-3] 命运", "background": "原题链接：<https://oier.team/problems/X7E>。\n\n>「这里书写着世界的『命运』」$\\\\$\n「当记载在此的未来成为真实之时」$\\\\$\n「我的珍爱 就会变成『永远』了吧」", "description": "我们在题目描述的最后提供了可以帮助理解题意的形式化题意。\n\nMomoka 的一生中有 $n$ 个决定人生的事件，编号为 $1 \\sim n$。命运的轨迹已经注定，会被第 $i$ 个事件影响的是第 $a_i$ 个事件，$a_i$ 互不相同。一个事件可能会影响过去，也可能会影响未来，甚至可以影响事件本身。\n\n但是，因为 Momoka 的特殊能力，她的经历并不完全按照她的命运轨迹执行。有一些事件经历之后，原本应该被影响的事件不再被影响，转而影响命运轨迹中描述的会影响这个事件的事件。Momoka 的日记记录了她所经历的事件，日记可以看成是一个序列 $p$，$p_i$ 表示 Momoka 经历了第 $i$ 个事件后影响了事件 $p_i$。\n\nRingo 获得了日记本，她想要通过日记本来完成 M 计划。按照计划，她需要按照 Momoka 的命运轨迹来规划自己的人生。得到 Momoka 的日记之后，她想要知道 Momoka 原本的命运轨迹可能的方案数是多少。答案对 $998244353$ 取模。\n\n**【形式化题意】**\n\n给定一个长度为 $n$ 的序列 $p_1, \\ldots, p_n$（未必为排列），保证 $1 \\le p_i \\le n$。求满足以下条件的**排列** $a_1, \\ldots, a_n$ 的个数，对 $998244353$ 取模：\n\n> 对每个 $1 \\le i \\le n$，都有 $a_i=p_i$ 或者 $a_{p_i}=i$ 成立。", "inputFormat": "第一行，一个正整数 $n$，表示事件的个数。\n\n第二行，$n$ 个正整数 $p_1, \\ldots, p_n$。", "outputFormat": "仅一行，一个非负整数，表示命运轨迹可能的方案数对 $998244353$ 取模的结果。", "hint": "**【样例解释 #1】**\n\n有以下六种可能的命运轨迹：`2 3 1 5 4`、`2 3 4 5 1`、`2 3 5 1 4`、`3 1 2 5 4`、`4 1 2 5 3`、`5 1 2 3 4`。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（15 分）：$n\\le 10$。\n- 子任务 2（15 分）：序列 $p$ 中 $1$ 的个数 $\\ge \\frac{n}{5}$。\n- 子任务 3（15 分）：序列 $p$ 是排列。\n- 子任务 4（25 分）：对于所有 $i,j$ 满足 $i\\ne j\\wedge p_i=j\\wedge p_j=i$，都存在至少一个 $k\\ne i\\wedge k\\ne j$ 满足 $p_k=i \\vee p_k=j$。\n- 子任务 5（30 分）：无特殊性质。\n\n对于全部的数据，$1\\le n\\le 10^6$，$1\\le p_i\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T4】[LSOT-3] 命运", "background": "原题链接：<https://oier.team/problems/X7E>。\n\n>「这里书写着世界的『命运』」$\\\\$\n「当记载在此的未来成为真实之时」$\\\\$\n「我的珍爱 就会变成『永远』了吧」", "description": "我们在题目描述的最后提供了可以帮助理解题意的形式化题意。\n\nMomoka 的一生中有 $n$ 个决定人生的事件，编号为 $1 \\sim n$。命运的轨迹已经注定，会被第 $i$ 个事件影响的是第 $a_i$ 个事件，$a_i$ 互不相同。一个事件可能会影响过去，也可能会影响未来，甚至可以影响事件本身。\n\n但是，因为 Momoka 的特殊能力，她的经历并不完全按照她的命运轨迹执行。有一些事件经历之后，原本应该被影响的事件不再被影响，转而影响命运轨迹中描述的会影响这个事件的事件。Momoka 的日记记录了她所经历的事件，日记可以看成是一个序列 $p$，$p_i$ 表示 Momoka 经历了第 $i$ 个事件后影响了事件 $p_i$。\n\nRingo 获得了日记本，她想要通过日记本来完成 M 计划。按照计划，她需要按照 Momoka 的命运轨迹来规划自己的人生。得到 Momoka 的日记之后，她想要知道 Momoka 原本的命运轨迹可能的方案数是多少。答案对 $998244353$ 取模。\n\n**【形式化题意】**\n\n给定一个长度为 $n$ 的序列 $p_1, \\ldots, p_n$（未必为排列），保证 $1 \\le p_i \\le n$。求满足以下条件的**排列** $a_1, \\ldots, a_n$ 的个数，对 $998244353$ 取模：\n\n> 对每个 $1 \\le i \\le n$，都有 $a_i=p_i$ 或者 $a_{p_i}=i$ 成立。", "inputFormat": "第一行，一个正整数 $n$，表示事件的个数。\n\n第二行，$n$ 个正整数 $p_1, \\ldots, p_n$。", "outputFormat": "仅一行，一个非负整数，表示命运轨迹可能的方案数对 $998244353$ 取模的结果。", "hint": "**【样例解释 #1】**\n\n有以下六种可能的命运轨迹：`2 3 1 5 4`、`2 3 4 5 1`、`2 3 5 1 4`、`3 1 2 5 4`、`4 1 2 5 3`、`5 1 2 3 4`。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（15 分）：$n\\le 10$。\n- 子任务 2（15 分）：序列 $p$ 中 $1$ 的个数 $\\ge \\frac{n}{5}$。\n- 子任务 3（15 分）：序列 $p$ 是排列。\n- 子任务 4（25 分）：对于所有 $i,j$ 满足 $i\\ne j\\wedge p_i=j\\wedge p_j=i$，都存在至少一个 $k\\ne i\\wedge k\\ne j$ 满足 $p_k=i \\vee p_k=j$。\n- 子任务 5（30 分）：无特殊性质。\n\n对于全部的数据，$1\\le n\\le 10^6$，$1\\le p_i\\le n$。", "locale": "zh-CN"}}}
{"pid": "P11564", "type": "P", "difficulty": 5, "samples": [["5 4 3\n1 2 3 4 5\n1 2 3 4 5\n1 2 3 4 5 7 7 8\n8 7 6 5 4 3 2 1\n1 2 5\n2 3 4\n3 4 2\n4 5 3\n", "0 4 4 6 7\n"], ["40 40 5\n31 30 28 30 30 24 31 16 28 24 16 28 31 24 17 31 31 28 5 16 4 16 24 9 8 16 28 28 24 30 16 28 24 31 16 2 16 28 28 24\n24 7 21 15 16 18 30 15 23 24 29 12 2 14 11 0 5 27 10 23 11 28 27 21 1 1 28 21 11 18 31 23 1 18 23 22 22 9 1 4\n0 102 102 102 102 102 260 260 260 260 601 601 601 601 601 601 601 601 1264 1264 1264 1264 1264 1264 1264 1264 1264 1264 1264 1264 1264 1264\n108799 106048 100679 98235 95333 90350 80153 79411 70293 69091 64328 58817 55536 53256 42932 42687 41145 40487 40047 37901 32251 29823 26460 25786 21684 20508 19995 19172 18248 12890 12397 10740\n38 27 0\n17 3 3\n26 8 12\n12 11 14\n1 23 8\n4 7 6\n18 36 18\n1 33 6\n38 18 8\n19 38 17\n24 21 4\n31 16 18\n26 4 8\n5 31 1\n6 28 4\n9 10 7\n26 7 7\n8 37 19\n40 29 4\n24 9 0\n15 6 19\n39 12 18\n33 39 8\n10 34 0\n39 30 3\n28 25 5\n19 13 9\n6 2 0\n1 20 10\n19 17 8\n15 26 18\n17 13 18\n33 40 8\n40 22 15\n15 28 0\n17 35 10\n24 5 13\n18 14 19\n40 22 2\n6 32 13\n", "0 630 993 619 889 630 618 611 876 883 46 32 991 1026 611 629 990 1007 982 10 880 16 8 876 616 611 999 611 18 17 611 643 6 883 611 1025 611 999 14 14\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["O2优化", "图论建模", "最短路", "梦熊比赛"], "title": "【MX-X7-T5】[LSOT-3] 你的列车是生存战略", "background": "原题链接：<https://oier.team/problems/X7F>。\n\n>啊啊 我搭上了那趟列车$\\\\$无论被业火灼烧多少次$\\\\$或是化作灰烬$\\\\$为何我要如此$\\\\$因为这是通往你的道路$\\\\$就算事与愿违也好$\\\\$还是听天由命也罢$\\\\$我将要改写这个世界$\\\\$", "description": "Ringo 要带着企鹅罐乘坐列车前往命运所至之地寻找 Shyouma 并且完成命运换乘！\n\n她可以通过乘坐列车在冰之世界的 $n$ 个车站中穿行，车站编号为 $1 \\sim n$。\n\n每一个车站都有两个标号，第 $i$ 个车站的标号分别为 $c_i$ 和 $d_i$。\n\n冰之世界中一共有普通列车和特快列车两种列车。\n\n- 任意两地之间都有一条**可以往返**的普通列车的线路，车站 $i$ 与车站 $j$ 之间的线路所花费的时间为 $\\min(a_{c_i \\mathbin{|} c_j},b_{d_i \\mathbin{\\&} d_j})$（$\\mathbin{|}$ 表示按位或，$\\mathbin{\\&}$ 表示按位与）。**保证 $\\boldsymbol{a}$ 单调不降，$\\boldsymbol{b}$ 单调不升。**\n- 特快列车一共有 $m$ 条线路，第 $i$ 条是从车站 $u_i$ **驶向**车站 $v_i$ 的**单向线路**，所花费的时间为 $w_i$。\n\n\nRingo 希望能更快找到 Shyouma，不然世界就要毁灭了！\n\nRingo 开始的时候在车站 $1$，但是她不知道命运所至之地到底在哪里。所以她想知道对于每一个车站，如果 Shyouma 在那里，她最少需要花多少时间到达 Shyouma 所在的位置。", "inputFormat": "第一行，三个非负整数 $n, m, k$。其中 $k$ 表示 $c_i, d_i \\in [0,2^k)$。\n\n第二行，$n$ 个非负整数 $c_1, \\ldots, c_n$。\n\n第三行，$n$ 个非负整数 $d_1, \\ldots, d_n$。\n\n第四行，$2^k$ 个非负整数 $a_0, \\ldots, a_{2^k - 1}$。\n\n第五行，$2^k$ 个非负整数 $b_0, \\ldots, b_{2^k - 1}$。\n\n**保证 $\\boldsymbol{a}$ 单调不降，$\\boldsymbol{b}$ 单调不升。**\n\n接下来 $m$ 行，第 $i$ 行三个非负整数 $u_i, v_i, w_i$。", "outputFormat": "仅一行，$n$ 个整数，第 $i$ 个表示从车站 $1$ 到车站 $i$ 所花费的最少的时间。", "hint": "> 生存戦略、しましょうか\n\n**【样例解释 #1】**\n\nRingo 开始的时候就在车站 $1$，所以到车站 $1$ 最少的花费的时间为 $0$。\n\n到车站 $2$ 的花费最少时间的路径为乘坐从 $1$ 到 $2$ 的普通列车，花费的时间为 $\\min(a_{c_1 \\mathbin{|} c_2},b_{d_1 \\mathbin{\\&} d_2})=\\min(a_3,b_0)=\\min(4,8)=4$。\n\n到车站 $3$ 的花费最少时间的路径为乘坐从 $1$ 到 $3$ 的普通列车，花费的时间为 $4$。\n\n\n到车站 $4$ 的花费最少时间的路径为乘坐从 $1$ 到 $3$ 的普通列车，花费的时间为 $4$，随后乘坐第 $3$ 条特快列车花费 $2$ 的时间从 $3$ 到 $4$，总花费时间为 $4+2=6$。\n\n\n到车站 $5$ 的花费最少时间的路径为乘坐从 $1$ 到 $5$ 的普通列车，花费的时间为 $7$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（10 分）：$n\\le 1000$。\n- 子任务 2（10 分）：$k=0$。\n- 子任务 3（20 分）：$a_i=i$，$b_i=10^{18}$。\n- 子任务 4（20 分）：$m=0$，$n \\ge 2$，$c_{n-1}=d_{n-1}=0$，$c_n=d_n=2^k-1$。\n- 子任务 5（20 分）：$n=m=2^k$。\n- 子任务 6（20 分）：无特殊限制。\n\n对于全部的数据，$1\\le n\\le 10^6$，$0\\le m\\le10^6$，$0\\le k\\le 14$，$0\\le c_i,d_i< 2^k$，$0\\le a_i,b_i,w_i\\le 10^{18}$，$1\\le u_i,v_i\\le n$，$a$ 单调不降，$b$ 单调不升。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T5】[LSOT-3] 你的列车是生存战略", "background": "原题链接：<https://oier.team/problems/X7F>。\n\n>啊啊 我搭上了那趟列车$\\\\$无论被业火灼烧多少次$\\\\$或是化作灰烬$\\\\$为何我要如此$\\\\$因为这是通往你的道路$\\\\$就算事与愿违也好$\\\\$还是听天由命也罢$\\\\$我将要改写这个世界$\\\\$", "description": "Ringo 要带着企鹅罐乘坐列车前往命运所至之地寻找 Shyouma 并且完成命运换乘！\n\n她可以通过乘坐列车在冰之世界的 $n$ 个车站中穿行，车站编号为 $1 \\sim n$。\n\n每一个车站都有两个标号，第 $i$ 个车站的标号分别为 $c_i$ 和 $d_i$。\n\n冰之世界中一共有普通列车和特快列车两种列车。\n\n- 任意两地之间都有一条**可以往返**的普通列车的线路，车站 $i$ 与车站 $j$ 之间的线路所花费的时间为 $\\min(a_{c_i \\mathbin{|} c_j},b_{d_i \\mathbin{\\&} d_j})$（$\\mathbin{|}$ 表示按位或，$\\mathbin{\\&}$ 表示按位与）。**保证 $\\boldsymbol{a}$ 单调不降，$\\boldsymbol{b}$ 单调不升。**\n- 特快列车一共有 $m$ 条线路，第 $i$ 条是从车站 $u_i$ **驶向**车站 $v_i$ 的**单向线路**，所花费的时间为 $w_i$。\n\n\nRingo 希望能更快找到 Shyouma，不然世界就要毁灭了！\n\nRingo 开始的时候在车站 $1$，但是她不知道命运所至之地到底在哪里。所以她想知道对于每一个车站，如果 Shyouma 在那里，她最少需要花多少时间到达 Shyouma 所在的位置。", "inputFormat": "第一行，三个非负整数 $n, m, k$。其中 $k$ 表示 $c_i, d_i \\in [0,2^k)$。\n\n第二行，$n$ 个非负整数 $c_1, \\ldots, c_n$。\n\n第三行，$n$ 个非负整数 $d_1, \\ldots, d_n$。\n\n第四行，$2^k$ 个非负整数 $a_0, \\ldots, a_{2^k - 1}$。\n\n第五行，$2^k$ 个非负整数 $b_0, \\ldots, b_{2^k - 1}$。\n\n**保证 $\\boldsymbol{a}$ 单调不降，$\\boldsymbol{b}$ 单调不升。**\n\n接下来 $m$ 行，第 $i$ 行三个非负整数 $u_i, v_i, w_i$。", "outputFormat": "仅一行，$n$ 个整数，第 $i$ 个表示从车站 $1$ 到车站 $i$ 所花费的最少的时间。", "hint": "> 生存戦略、しましょうか\n\n**【样例解释 #1】**\n\nRingo 开始的时候就在车站 $1$，所以到车站 $1$ 最少的花费的时间为 $0$。\n\n到车站 $2$ 的花费最少时间的路径为乘坐从 $1$ 到 $2$ 的普通列车，花费的时间为 $\\min(a_{c_1 \\mathbin{|} c_2},b_{d_1 \\mathbin{\\&} d_2})=\\min(a_3,b_0)=\\min(4,8)=4$。\n\n到车站 $3$ 的花费最少时间的路径为乘坐从 $1$ 到 $3$ 的普通列车，花费的时间为 $4$。\n\n\n到车站 $4$ 的花费最少时间的路径为乘坐从 $1$ 到 $3$ 的普通列车，花费的时间为 $4$，随后乘坐第 $3$ 条特快列车花费 $2$ 的时间从 $3$ 到 $4$，总花费时间为 $4+2=6$。\n\n\n到车站 $5$ 的花费最少时间的路径为乘坐从 $1$ 到 $5$ 的普通列车，花费的时间为 $7$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（10 分）：$n\\le 1000$。\n- 子任务 2（10 分）：$k=0$。\n- 子任务 3（20 分）：$a_i=i$，$b_i=10^{18}$。\n- 子任务 4（20 分）：$m=0$，$n \\ge 2$，$c_{n-1}=d_{n-1}=0$，$c_n=d_n=2^k-1$。\n- 子任务 5（20 分）：$n=m=2^k$。\n- 子任务 6（20 分）：无特殊限制。\n\n对于全部的数据，$1\\le n\\le 10^6$，$0\\le m\\le10^6$，$0\\le k\\le 14$，$0\\le c_i,d_i< 2^k$，$0\\le a_i,b_i,w_i\\le 10^{18}$，$1\\le u_i,v_i\\le n$，$a$ 单调不降，$b$ 单调不升。", "locale": "zh-CN"}}}
{"pid": "P11565", "type": "P", "difficulty": 6, "samples": [["6\n1\n2\n3\n4\n100\n100000\n", "0\n1\n1\n3\n95\n99989\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "博弈论", "O2优化", "Ad-hoc", "分类讨论", "梦熊比赛"], "title": "【MX-X7-T6】[LSOT-3] 棋盘", "background": "原题链接：<https://oier.team/problems/X7G>。\n\n现在有一个序列。\n\n这个序列第 $1$ 项为 $0$，第 $2$ 项为 $1$，第 $3$ 项为 $1$，第 $4$ 项为 $3$。\n\n现在 [@lxwtr](https://www.luogu.com.cn/discuss/875194) 问你第 $n$ 项的值为多少。", "description": "Alice 和 Bob 找到了一个棋盘。棋盘可以看成一个数轴，初始时在原点处有 $n$ 个棋子。令 $a_i$ 表示数轴下标为 $i$ 的位置的棋子数量（原点 $i=0$），操作者每次会找到最小的满足 $a_i\\ge 2$ 的 $i$，令 $a_i$ 减去 $2$ 并选择令 $a_{i+1}$ 加上 $1$ 或令 $a_{i+2}$ 加上 $1$。由 Alice 先手，二人轮流操作。操作者必须操作，如果无法找到这样的 $i$ 则立即结束游戏。\n\nAlice 希望二人的总操作次数最少，Bob 希望二人的总操作次数最多，二人都是绝对聪明的。二人一共进行了 $T$ 次游戏，你希望知道每次游戏最终二人一共会进行多少次操作。", "inputFormat": "第一行，一个正整数 $T$，表示进行的游戏次数。\n\n接下来 $T$ 行，每行一个正整数 $n$，表示每次游戏开始时，原点的棋子个数。", "outputFormat": "共 $T$ 行，第 $i$ 行一个非负整数，表示第 $i$ 次游戏最终二人一共会进行多少次操作。", "hint": "**【样例解释】**\n\n对于第一次游戏，原点棋子数为 $1$，无法进行操作。\n\n对于第二次游戏，可以恰好进行一次操作之后使得 $a_1=1$ 或 $a_2=1$。无论哪一种都无法继续操作。\n\n对于第三次游戏，类似第二次游戏，额外在原点留下了一个棋子。\n\n对于第四次游戏，第一次操作无论 Alice 操作后将棋子放在哪个位置，Bob 都可以放在那个位置，这样 Alice 会再进行一次操作。总共 $3$ 次操作。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（5 分）：$n\\le16$。\n- 子任务 2（6 分）：$n\\le 50$。\n- 子任务 3（14 分）：$n\\le 200$。\n- 子任务 4（20 分）：$n\\le 5000$。\n- 子任务 5（21 分）：$n\\le 10^5$。\n- 子任务 6（34 分）：无特殊性质。\n\n对于全部的数据，$1\\le T\\le 500$，$1\\le n\\le 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T6】[LSOT-3] 棋盘", "background": "原题链接：<https://oier.team/problems/X7G>。\n\n现在有一个序列。\n\n这个序列第 $1$ 项为 $0$，第 $2$ 项为 $1$，第 $3$ 项为 $1$，第 $4$ 项为 $3$。\n\n现在 [@lxwtr](https://www.luogu.com.cn/discuss/875194) 问你第 $n$ 项的值为多少。", "description": "Alice 和 Bob 找到了一个棋盘。棋盘可以看成一个数轴，初始时在原点处有 $n$ 个棋子。令 $a_i$ 表示数轴下标为 $i$ 的位置的棋子数量（原点 $i=0$），操作者每次会找到最小的满足 $a_i\\ge 2$ 的 $i$，令 $a_i$ 减去 $2$ 并选择令 $a_{i+1}$ 加上 $1$ 或令 $a_{i+2}$ 加上 $1$。由 Alice 先手，二人轮流操作。操作者必须操作，如果无法找到这样的 $i$ 则立即结束游戏。\n\nAlice 希望二人的总操作次数最少，Bob 希望二人的总操作次数最多，二人都是绝对聪明的。二人一共进行了 $T$ 次游戏，你希望知道每次游戏最终二人一共会进行多少次操作。", "inputFormat": "第一行，一个正整数 $T$，表示进行的游戏次数。\n\n接下来 $T$ 行，每行一个正整数 $n$，表示每次游戏开始时，原点的棋子个数。", "outputFormat": "共 $T$ 行，第 $i$ 行一个非负整数，表示第 $i$ 次游戏最终二人一共会进行多少次操作。", "hint": "**【样例解释】**\n\n对于第一次游戏，原点棋子数为 $1$，无法进行操作。\n\n对于第二次游戏，可以恰好进行一次操作之后使得 $a_1=1$ 或 $a_2=1$。无论哪一种都无法继续操作。\n\n对于第三次游戏，类似第二次游戏，额外在原点留下了一个棋子。\n\n对于第四次游戏，第一次操作无论 Alice 操作后将棋子放在哪个位置，Bob 都可以放在那个位置，这样 Alice 会再进行一次操作。总共 $3$ 次操作。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（5 分）：$n\\le16$。\n- 子任务 2（6 分）：$n\\le 50$。\n- 子任务 3（14 分）：$n\\le 200$。\n- 子任务 4（20 分）：$n\\le 5000$。\n- 子任务 5（21 分）：$n\\le 10^5$。\n- 子任务 6（34 分）：无特殊性质。\n\n对于全部的数据，$1\\le T\\le 500$，$1\\le n\\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P11566", "type": "P", "difficulty": 7, "samples": [["10\n100 100 715 1129 123 654\n3 3 1 1 2 2\n4 4 2 2 3 3\n4 3 4 3 3 2\n20 50 15 12 10 7\n50 20 33 11 25 3\n107151129 147744151 715 715 1129 1129\n23456 54321 1992 725 12347 7913\n10000000 10000000 2222 444 3333 555\n10000000 10000000 7130713 4237018 7812367 1245634\n", "1\n512\n4096\n32\n248906884\n412057510\n710040542\n936321181\n222744797\n17474728\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["O2优化", "最大公约数 gcd", "线性基", "构造", "Ad-hoc", "分类讨论", "梦熊比赛"], "title": "【MX-X7-T7】[LSOT-3] 魔女与推理的轮舞曲", "background": "原题链接：<https://oier.team/problems/X7H>。\n\n>魔女展示了空着的左手。$\\\\$\n把左手握上，向着那边，嘿嘿嘿。$\\\\$\n然后打开右拳，手心里有个糖球。$\\\\$\n那么，这是魔法呢？还是戏法呢？", "description": "黄金乡中，贝阿朵和战人在新的棋盘上展开的红蓝论战，这个棋盘的规则与之前的有所不同。\n\n具体地说，有初始全 $0$ 的一个 $n\\times m$ 的棋盘（格子数为 $n\\times m$），可以在棋盘上使用红色真实和蓝色真实。红色真实和蓝色真实都各代表一个矩形，分别是 $a\\times b$ 和 $c\\times d$，使用红色真实或蓝色真实，要选择棋盘上一个格子，然后将以这个格子为左上角的那个使用的真实所对应的矩形内的所有格子异或 $1$（如果超出棋盘则不能选择此格子）。\n\n贝阿朵想测试一些规则是否符合她的心意，所以她会问你对于某个规则，通过使用任意次红色真实与蓝色真实可以构筑出多少种不同的棋盘。\n\n由于答案可能过大，你仅需输出对 $10^9+7$ 取模的结果即可，贝阿朵可以通过使用魔法来复原结果。", "inputFormat": "第一行，一个正整数 $T$，表示贝阿朵想要测试的规则数量。\n\n接下来 $T$ 行，每行六个正整数 $n, m, a, b, c, d$，含义与题目中的一致。", "outputFormat": "对于每个贝阿朵想测试的规则，一行，一个非负整数，表示棋盘可能数对 $10^9+7$ 取模的结果。", "hint": "> 没有爱，就看不见。\n\n**【样例解释】**\n\n对于第一种规则，无法使用红色真实或蓝色真实，故只有全是 $0$ 一种情况。\n\n对于第二种规则，每个格子都可以独立地取 $0$ 或 $1$，故答案为 $2^{3\\times 3}=512$。\n\n对于第三种规则，一种可能的局面是：\n\n```\n1100\n1011\n0100\n0100\n```\n\n生成方式为选择第一行第一个格子使用红色真实，选择第二行第二个格子使用蓝色真实，选择第三行第三个格子使用红色真实。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（3 分）：$a\\mid c$，$b\\mid d$。\n- 子任务 2（4 分）：$\\sum n\\times m\\le 20$。\n- 子任务 3（16 分）：$\\sum n\\times m\\le 1000$。\n- 子任务 4（17 分）：$a=b$，$c=d$。\n- 子任务 5（19 分）：$a,b,c,d$ 中任意两个数的 $\\gcd$ 都为 $1$。\n- 子任务 6（20 分）：$100\\times(a+b+c+d)\\le  \\min (n,m)$。\n- 子任务 7（21 分）：无特殊性质。\n\n对于全部的数据，$1\\le T\\le10^6$，$1\\le n,m,a,b,c,d \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X7-T7】[LSOT-3] 魔女与推理的轮舞曲", "background": "原题链接：<https://oier.team/problems/X7H>。\n\n>魔女展示了空着的左手。$\\\\$\n把左手握上，向着那边，嘿嘿嘿。$\\\\$\n然后打开右拳，手心里有个糖球。$\\\\$\n那么，这是魔法呢？还是戏法呢？", "description": "黄金乡中，贝阿朵和战人在新的棋盘上展开的红蓝论战，这个棋盘的规则与之前的有所不同。\n\n具体地说，有初始全 $0$ 的一个 $n\\times m$ 的棋盘（格子数为 $n\\times m$），可以在棋盘上使用红色真实和蓝色真实。红色真实和蓝色真实都各代表一个矩形，分别是 $a\\times b$ 和 $c\\times d$，使用红色真实或蓝色真实，要选择棋盘上一个格子，然后将以这个格子为左上角的那个使用的真实所对应的矩形内的所有格子异或 $1$（如果超出棋盘则不能选择此格子）。\n\n贝阿朵想测试一些规则是否符合她的心意，所以她会问你对于某个规则，通过使用任意次红色真实与蓝色真实可以构筑出多少种不同的棋盘。\n\n由于答案可能过大，你仅需输出对 $10^9+7$ 取模的结果即可，贝阿朵可以通过使用魔法来复原结果。", "inputFormat": "第一行，一个正整数 $T$，表示贝阿朵想要测试的规则数量。\n\n接下来 $T$ 行，每行六个正整数 $n, m, a, b, c, d$，含义与题目中的一致。", "outputFormat": "对于每个贝阿朵想测试的规则，一行，一个非负整数，表示棋盘可能数对 $10^9+7$ 取模的结果。", "hint": "> 没有爱，就看不见。\n\n**【样例解释】**\n\n对于第一种规则，无法使用红色真实或蓝色真实，故只有全是 $0$ 一种情况。\n\n对于第二种规则，每个格子都可以独立地取 $0$ 或 $1$，故答案为 $2^{3\\times 3}=512$。\n\n对于第三种规则，一种可能的局面是：\n\n```\n1100\n1011\n0100\n0100\n```\n\n生成方式为选择第一行第一个格子使用红色真实，选择第二行第二个格子使用蓝色真实，选择第三行第三个格子使用红色真实。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（3 分）：$a\\mid c$，$b\\mid d$。\n- 子任务 2（4 分）：$\\sum n\\times m\\le 20$。\n- 子任务 3（16 分）：$\\sum n\\times m\\le 1000$。\n- 子任务 4（17 分）：$a=b$，$c=d$。\n- 子任务 5（19 分）：$a,b,c,d$ 中任意两个数的 $\\gcd$ 都为 $1$。\n- 子任务 6（20 分）：$100\\times(a+b+c+d)\\le  \\min (n,m)$。\n- 子任务 7（21 分）：无特殊性质。\n\n对于全部的数据，$1\\le T\\le10^6$，$1\\le n,m,a,b,c,d \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11567", "type": "P", "difficulty": 7, "samples": [["2 1\n01\n10\n1 2", "1"], ["参见下发文件", "参见下发文件"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["集合幂级数，子集卷积"], "title": "建造军营 II", "background": "A 国又在与 B 国激烈交战中。", "description": "在前线，A 国有 $n$ 个重要据点。有一些据点间存在双向道路，**每条道路均可以选择是否派遣军队驻守**。\n  \nA 国情报部门得知，B 国即将实行 $k$ 个作战计划中的一个。第 $i$ 个作战计划的内容是，向 $p_i$ 据点至 $q_i$ 据点的交通线发动袭击。具体来说，B 国将选择一条**可经过重复据点，但不经过重复道路**的由 $p_i$ 到 $q_i$ 的路径，若这条路径上**存在道路无驻守军队**，则袭击成功。 \n  \nA 国希望 B 国的任何作战计划都不可能获得成功。除了确保兵力足够以外，A 国**还可以选择一些道路进行焦土行动**——这将防止 B 国通过这条道路实施作战。但是焦土行动本身也会影响 A 国的补给运输，因此**被焦土的道路上不应该部署部队**；同时， A 国要求**在焦土行动后，任意两个据点之间仍然存在至少一条不经过被焦土的道路的路径**。\n  \n作为 A 国军队最高参谋部的成员，你被要求给出不同防守计划的方案数——**两个防守计划不同，当且仅当存在一条道路的驻守情况不同，或一条道路焦土行动实施与否的状态不同**。方案数对 $10^9+7$ 取模。", "inputFormat": "第一行两个整数 $n,k$。\n  \n接下来  $n$ 行长度为 $n$ 的 `01` 表格 $w_{1\\sim n,1\\sim n}$，$w_{i,j}$ 为 `1` 则代表据点 $i$ 与据点 $j$ 间存在道路。\n  \n接下来  $k$ 行，每行读入两个整数 $p_i,q_i$。", "outputFormat": "一行一个整数，表示答案。", "hint": "对于 $100 \\%$ 的数据：$2 \\leq n \\leq 16$，$0\\le k \\leq 3n$，$1 \\leq p_i,q_i \\leq n$，$w_{i,j} = w_{j,i}$，$w_{i,i}=0$。\n\n::cute-table\n| 子任务编号 | $n \\leq$ | $k \\leq$ | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ |$ 3$ | $3n$ | / | $5$ |\n| $2$ | $6 $| ^ | ^ | $10$ |\n| $3$ | $16$ | $0$ | ^ | $10$ |\n| $4$ | ^ | $3n$ | A | $10$ |\n| $5$ | ^ | ^ | B | $20$ |\n| $6$ | $10$ | ^ | / | $10$ |\n| $7$ | $13 $| ^ | ^ | $10$ |\n| $8$ | $16$ | ^ | ^ | $25$ |\n\n特殊性质 A：保证 $\\sum_{i,j} w_{i,j} = 2n-2$。\n\n特殊性质 B：保证 $p_i = 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "建造军营 II", "background": "A 国又在与 B 国激烈交战中。", "description": "在前线，A 国有 $n$ 个重要据点。有一些据点间存在双向道路，**每条道路均可以选择是否派遣军队驻守**。\n  \nA 国情报部门得知，B 国即将实行 $k$ 个作战计划中的一个。第 $i$ 个作战计划的内容是，向 $p_i$ 据点至 $q_i$ 据点的交通线发动袭击。具体来说，B 国将选择一条**可经过重复据点，但不经过重复道路**的由 $p_i$ 到 $q_i$ 的路径，若这条路径上**存在道路无驻守军队**，则袭击成功。 \n  \nA 国希望 B 国的任何作战计划都不可能获得成功。除了确保兵力足够以外，A 国**还可以选择一些道路进行焦土行动**——这将防止 B 国通过这条道路实施作战。但是焦土行动本身也会影响 A 国的补给运输，因此**被焦土的道路上不应该部署部队**；同时， A 国要求**在焦土行动后，任意两个据点之间仍然存在至少一条不经过被焦土的道路的路径**。\n  \n作为 A 国军队最高参谋部的成员，你被要求给出不同防守计划的方案数——**两个防守计划不同，当且仅当存在一条道路的驻守情况不同，或一条道路焦土行动实施与否的状态不同**。方案数对 $10^9+7$ 取模。", "inputFormat": "第一行两个整数 $n,k$。\n  \n接下来  $n$ 行长度为 $n$ 的 `01` 表格 $w_{1\\sim n,1\\sim n}$，$w_{i,j}$ 为 `1` 则代表据点 $i$ 与据点 $j$ 间存在道路。\n  \n接下来  $k$ 行，每行读入两个整数 $p_i,q_i$。", "outputFormat": "一行一个整数，表示答案。", "hint": "对于 $100 \\%$ 的数据：$2 \\leq n \\leq 16$，$0\\le k \\leq 3n$，$1 \\leq p_i,q_i \\leq n$，$w_{i,j} = w_{j,i}$，$w_{i,i}=0$。\n\n::cute-table\n| 子任务编号 | $n \\leq$ | $k \\leq$ | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ |$ 3$ | $3n$ | / | $5$ |\n| $2$ | $6 $| ^ | ^ | $10$ |\n| $3$ | $16$ | $0$ | ^ | $10$ |\n| $4$ | ^ | $3n$ | A | $10$ |\n| $5$ | ^ | ^ | B | $20$ |\n| $6$ | $10$ | ^ | / | $10$ |\n| $7$ | $13 $| ^ | ^ | $10$ |\n| $8$ | $16$ | ^ | ^ | $25$ |\n\n特殊性质 A：保证 $\\sum_{i,j} w_{i,j} = 2n-2$。\n\n特殊性质 B：保证 $p_i = 1$。", "locale": "zh-CN"}}}
