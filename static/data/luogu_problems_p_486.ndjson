{"pid": "P10856", "type": "P", "difficulty": 6, "samples": [["0 3 3\n1 2 1 3 2 4 5 1\n2 1 5\n1 3\n2 5 1", "5\n4"], ["1 3 3\n1 2 1 3 2 4 5 1\n2 1 5\n1 6\n2 0 4", "5\n4"], ["1 4 16\n12 9 5 9 12 12 9 12 9 16 5 9 12 16 9 5\n2 0 4\n1 15\n2 14 0\n1 15\n2 6 0\n2 4 14\n1 0\n1 14\n2 4 10\n2 6 3\n1 7\n2 4 13\n1 3\n1 3\n2 4 3\n2 15 2", "5\n7\n4\n7\n9\n5\n7\n2\n11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "O2优化", "梦熊比赛"], "title": "【MX-X2-T5】「Cfz Round 4」Xor-Forces", "background": "原题链接：<https://oier.team/problems/X2E>。\n\n---\n\n✿(。◕ᴗ◕。)✿\n", "description": "给定一个长度为 $n=2^k$ 的数组 $a$，下标从 $0$ 开始，维护 $m$ 次操作：\n\n1. 操作一：给定 $x$，设数列 $a'$ 满足 $a'_i=a_{i\\oplus x}$，将 $a$ 修改为 $a'$。其中 $\\oplus$ 表示按位异或运算。\n2. 操作二：给定 $l,r$，查询 $a$ 的下标在 $l,r$ 之间的子数组有多少颜色段。**不保证 $\\bm {l\\le r}$，若 $\\bm{l > r}$，请自行交换 $\\bm{l,r}$。**\n\n其中，一个极长的所有数都相等的子数组称为一个颜色段。\n\n部分测试点要求强制在线。", "inputFormat": "第一行三个整数 $T,k,m$，其中 $T \\in \\{ 0, 1 \\}$ 为决定是否强制在线的参数。\n\n第二行 $n$ 个整数 $a_0, \\ldots, a_{n-1}$。\n\n接下来 $m$ 行，每行两或三个整数，描述一次操作。第一个整数 $\\mathit{op}$ 表示操作类型。\n\n- 若 $op=1$，为操作一，接下来一个整数 $x'$，满足 $x=x'\\oplus(T\\times \\mathit{lst})$。\n- 若 $op=2$，为操作二，接下来两个整数 $l',r'$，满足 $l=l'\\oplus(T\\times \\mathit{lst})$，$r=r'\\oplus(T\\times \\mathit{lst})$。**不保证 $\\bm{l \\le r}$，若 $\\bm{l > r}$，请自行交换 $\\bm{l, r}$。**\n- 其中 $\\mathit{lst}$ 表示上次询问的答案。特别地，如果此前没有询问操作，则 $\\mathit{lst}=0$。", "outputFormat": "输出若干行，每行包含一个整数，依次表示每个询问的答案。", "hint": "**【样例解释 #1】**\n\n此样例允许离线。\n\n初始时 $a=[1,2,1,3,2,4,5,1]$。\n\n$a$ 的下标在 $1,5$ 之间的子数组为 $[2,1,3,2,4]$，它的颜色段数为 $5$。\n\n进行重排操作后，$a=[3,1,2,1,1,5,4,2]$。\n\n$a$ 的下标在 $5,1$ 之间的子数组为 $[1,2,1,1,5]$，它的颜色段数为 $4$。\n\n**【样例解释 #2】**\n\n此样例除强制在线外，与样例 \\#1 完全一致。\n\n**【数据范围】**\n\n对于所有测试数据，$T \\in \\{ 0, 1 \\}$，$0\\le k\\le 18$，$n=2^k$，$1\\le m\\le 2\\times 10^5$，$1\\le a_i\\le n$，$\\mathit{op} \\in \\{ 1, 2 \\}$，$0\\le x,l,r < n$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（15 points）：$T=1$，$k\\le 10$，$m\\le 10^3$。\n- Subtask 2（15 points）：$T=1$，不存在操作一。\n- Subtask 3（20 points）：$T=1$，对于所有操作二，要么 $l=0,r=n-1$，要么 $l=n-1,r=0$。\n- Subtask 4（20 points）：$T=0$。\n- Subtask 5（30 points）：$T=1$。\n\n**注意：Subtask 5 依赖前四个 Subtask，只有通过前四个 Subtask 才能尝试获得该 Subtask 的分数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X2-T5】「Cfz Round 4」Xor-Forces", "background": "原题链接：<https://oier.team/problems/X2E>。\n\n---\n\n✿(。◕ᴗ◕。)✿\n", "description": "给定一个长度为 $n=2^k$ 的数组 $a$，下标从 $0$ 开始，维护 $m$ 次操作：\n\n1. 操作一：给定 $x$，设数列 $a'$ 满足 $a'_i=a_{i\\oplus x}$，将 $a$ 修改为 $a'$。其中 $\\oplus$ 表示按位异或运算。\n2. 操作二：给定 $l,r$，查询 $a$ 的下标在 $l,r$ 之间的子数组有多少颜色段。**不保证 $\\bm {l\\le r}$，若 $\\bm{l > r}$，请自行交换 $\\bm{l,r}$。**\n\n其中，一个极长的所有数都相等的子数组称为一个颜色段。\n\n部分测试点要求强制在线。", "inputFormat": "第一行三个整数 $T,k,m$，其中 $T \\in \\{ 0, 1 \\}$ 为决定是否强制在线的参数。\n\n第二行 $n$ 个整数 $a_0, \\ldots, a_{n-1}$。\n\n接下来 $m$ 行，每行两或三个整数，描述一次操作。第一个整数 $\\mathit{op}$ 表示操作类型。\n\n- 若 $op=1$，为操作一，接下来一个整数 $x'$，满足 $x=x'\\oplus(T\\times \\mathit{lst})$。\n- 若 $op=2$，为操作二，接下来两个整数 $l',r'$，满足 $l=l'\\oplus(T\\times \\mathit{lst})$，$r=r'\\oplus(T\\times \\mathit{lst})$。**不保证 $\\bm{l \\le r}$，若 $\\bm{l > r}$，请自行交换 $\\bm{l, r}$。**\n- 其中 $\\mathit{lst}$ 表示上次询问的答案。特别地，如果此前没有询问操作，则 $\\mathit{lst}=0$。", "outputFormat": "输出若干行，每行包含一个整数，依次表示每个询问的答案。", "hint": "**【样例解释 #1】**\n\n此样例允许离线。\n\n初始时 $a=[1,2,1,3,2,4,5,1]$。\n\n$a$ 的下标在 $1,5$ 之间的子数组为 $[2,1,3,2,4]$，它的颜色段数为 $5$。\n\n进行重排操作后，$a=[3,1,2,1,1,5,4,2]$。\n\n$a$ 的下标在 $5,1$ 之间的子数组为 $[1,2,1,1,5]$，它的颜色段数为 $4$。\n\n**【样例解释 #2】**\n\n此样例除强制在线外，与样例 \\#1 完全一致。\n\n**【数据范围】**\n\n对于所有测试数据，$T \\in \\{ 0, 1 \\}$，$0\\le k\\le 18$，$n=2^k$，$1\\le m\\le 2\\times 10^5$，$1\\le a_i\\le n$，$\\mathit{op} \\in \\{ 1, 2 \\}$，$0\\le x,l,r < n$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（15 points）：$T=1$，$k\\le 10$，$m\\le 10^3$。\n- Subtask 2（15 points）：$T=1$，不存在操作一。\n- Subtask 3（20 points）：$T=1$，对于所有操作二，要么 $l=0,r=n-1$，要么 $l=n-1,r=0$。\n- Subtask 4（20 points）：$T=0$。\n- Subtask 5（30 points）：$T=1$。\n\n**注意：Subtask 5 依赖前四个 Subtask，只有通过前四个 Subtask 才能尝试获得该 Subtask 的分数。**", "locale": "zh-CN"}}}
{"pid": "P10857", "type": "P", "difficulty": 7, "samples": [["2\n2\n1 0\n2 0\n1 2\n4\n75 0 89 1 0 56\n0 52 19 84 1 0\n0 27 19 108 1 0\n0 89 1 0 56 0\n85 19 108 1 0 0\n75 0 89 1 0 56\n1 1 56 0 0 0\n0 88 19 84 1 0\n0 79 19 108 1 0\n74 0 88 1 0 56\n0 88 1 0 56 0\n109 19 84 1 0 0\n19 56 1 0 0 0\n74 0 88 1 0 56\n18 1 0 56 0 0", "2 1\n7 19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化", "Ad-hoc", "梦熊比赛"], "title": "【MX-X2-T6】「Cfz Round 4」Ad-hoc Master", "background": "原题链接：<https://oier.team/problems/X2F>。\n\n---\n\n意気込むことはないけれど  \n尽管不会每天干劲十足\n\n生きていけるよ　君をさがして  \n但我会继续一边寻找着你一边生活", "description": "给定一个正整数 $h$。我们令 $n=2^h-1$。\n\n现给出对于每个不大于 $n$ 的正整数 $u$ 和不大于 $2h-2$ 的正整数 $k$ 所对应的 $f_{u,k}$ 的值，你需要构造一组数对 $(r,w)$，满足 $1 \\le r \\le n$，$0 \\le w \\lt 2^{30}$，且存在一棵层数为 $h$ 的**满**二叉树 $T$ 满足：\n\n- 满二叉树 $T$ 中所有结点的编号形成 $1 \\sim n$ 的一个排列，且每个结点都有权值；\n- 满二叉树 $T$ 的根结点为结点 $r$；\n- 满二叉树 $T$ 中每个结点的权值都为小于 $2^{30}$ 的非负整数，且根结点的权值为 $w$；\n- 对于每个不大于 $n$ 的正整数 $u$ 和不大于 $2h-2$ 的正整数 $k$，所有满足 $\\operatorname{dis}(u,v)=k$ 的结点 $v$ 的权值的**异或和**为 $f_{u,k}$；特殊地，若没有满足条件的结点 $v$，则需要满足 $f_{u,k}=0$。\n\n其中，$\\operatorname{dis}(u,v)$ 的值等于结点 $u$ 和结点 $v$ 之间的简单路径所包含的边的数量。特殊地，$\\operatorname{dis}(u,u)=0$。\n\n题目保证至少存在一组满足条件的数对 $(r,w)$。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $h$。\n- 接下来 $n$ 行，第 $u$ 行包括 $2h-2$ 个整数，其中第 $k$ 个整数表示 $f_{u,k}$ 的值。", "outputFormat": "对于每组测试数据，输出一行两个整数，分别表示你构造的数对 $(r,w)$ 中 $r$ 与 $w$ 的值。\n\n- 若你构造的数对 $(r,w)$ 满足条件，则你可以获得该测试点 $100\\%$ 的分数；\n- 否则，若你构造的数对 $(r,w)$ 不满足条件，但存在一组满足条件的数对 $(r',w')$ 满足 $r'=r$，则你可以获得该测试点 $50\\%$ 的分数；\n- 否则，若你构造的数对 $(r,w)$ 不满足条件，但存在一组满足条件的数对 $(r',w')$ 满足 $w'=w$，则你可以获得该测试点 $50\\%$ 的分数；\n- 否则，你不能获得该测试点的分数。", "hint": "**【样例解释 #1】**\n\n对于第一组测试数据：\n\n当构造的数对 $(r,w)=(2,1)$ 时，存在一棵如图所示的二叉树符合题意，其中结点 $1,2,3$ 的权值分别为 $2,1,0$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/go56fx7w.png)\n\n当你输出 `2 2` 时，你可以获得该测试点 $50\\%$ 的分数，因为 $(r,w)=(2,2)$ 虽然不满足条件，但存在一组满足条件的数对 $(r',w')=(2,1)$ 满足 $r'=r=2$。\n\n当你输出 `1 1` 时，你也可以获得该测试点 $50\\%$ 的分数。\n\n但当你输出 `1 2` 时，你将不能获得该测试点的分数。\n\n**【数据范围】**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有测试数据，$1\\le T \\le 1000$，$2 \\le h \\le 16$，$\\sum n \\le 2^{16}$，$0 \\le f_{u,k}\\lt2^{30}$，保证至少存在一组满足条件的数对 $(r,w)$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 points）：$h=2$。\n- Subtask 2（20 points）：满足特殊性质。\n- Subtask 3（60 points）：无特殊限制。\n\n特殊性质：存在一组数对 $(r,w)$，满足 $1 \\le r \\le n$，$0 \\le w \\lt 2^{30}$，且在此基础上存在一棵符合题意的满二叉树，其所有结点的权值均为 $w$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X2-T6】「Cfz Round 4」Ad-hoc Master", "background": "原题链接：<https://oier.team/problems/X2F>。\n\n---\n\n意気込むことはないけれど  \n尽管不会每天干劲十足\n\n生きていけるよ　君をさがして  \n但我会继续一边寻找着你一边生活", "description": "给定一个正整数 $h$。我们令 $n=2^h-1$。\n\n现给出对于每个不大于 $n$ 的正整数 $u$ 和不大于 $2h-2$ 的正整数 $k$ 所对应的 $f_{u,k}$ 的值，你需要构造一组数对 $(r,w)$，满足 $1 \\le r \\le n$，$0 \\le w \\lt 2^{30}$，且存在一棵层数为 $h$ 的**满**二叉树 $T$ 满足：\n\n- 满二叉树 $T$ 中所有结点的编号形成 $1 \\sim n$ 的一个排列，且每个结点都有权值；\n- 满二叉树 $T$ 的根结点为结点 $r$；\n- 满二叉树 $T$ 中每个结点的权值都为小于 $2^{30}$ 的非负整数，且根结点的权值为 $w$；\n- 对于每个不大于 $n$ 的正整数 $u$ 和不大于 $2h-2$ 的正整数 $k$，所有满足 $\\operatorname{dis}(u,v)=k$ 的结点 $v$ 的权值的**异或和**为 $f_{u,k}$；特殊地，若没有满足条件的结点 $v$，则需要满足 $f_{u,k}=0$。\n\n其中，$\\operatorname{dis}(u,v)$ 的值等于结点 $u$ 和结点 $v$ 之间的简单路径所包含的边的数量。特殊地，$\\operatorname{dis}(u,u)=0$。\n\n题目保证至少存在一组满足条件的数对 $(r,w)$。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $h$。\n- 接下来 $n$ 行，第 $u$ 行包括 $2h-2$ 个整数，其中第 $k$ 个整数表示 $f_{u,k}$ 的值。", "outputFormat": "对于每组测试数据，输出一行两个整数，分别表示你构造的数对 $(r,w)$ 中 $r$ 与 $w$ 的值。\n\n- 若你构造的数对 $(r,w)$ 满足条件，则你可以获得该测试点 $100\\%$ 的分数；\n- 否则，若你构造的数对 $(r,w)$ 不满足条件，但存在一组满足条件的数对 $(r',w')$ 满足 $r'=r$，则你可以获得该测试点 $50\\%$ 的分数；\n- 否则，若你构造的数对 $(r,w)$ 不满足条件，但存在一组满足条件的数对 $(r',w')$ 满足 $w'=w$，则你可以获得该测试点 $50\\%$ 的分数；\n- 否则，你不能获得该测试点的分数。", "hint": "**【样例解释 #1】**\n\n对于第一组测试数据：\n\n当构造的数对 $(r,w)=(2,1)$ 时，存在一棵如图所示的二叉树符合题意，其中结点 $1,2,3$ 的权值分别为 $2,1,0$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/go56fx7w.png)\n\n当你输出 `2 2` 时，你可以获得该测试点 $50\\%$ 的分数，因为 $(r,w)=(2,2)$ 虽然不满足条件，但存在一组满足条件的数对 $(r',w')=(2,1)$ 满足 $r'=r=2$。\n\n当你输出 `1 1` 时，你也可以获得该测试点 $50\\%$ 的分数。\n\n但当你输出 `1 2` 时，你将不能获得该测试点的分数。\n\n**【数据范围】**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有测试数据，$1\\le T \\le 1000$，$2 \\le h \\le 16$，$\\sum n \\le 2^{16}$，$0 \\le f_{u,k}\\lt2^{30}$，保证至少存在一组满足条件的数对 $(r,w)$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 points）：$h=2$。\n- Subtask 2（20 points）：满足特殊性质。\n- Subtask 3（60 points）：无特殊限制。\n\n特殊性质：存在一组数对 $(r,w)$，满足 $1 \\le r \\le n$，$0 \\le w \\lt 2^{30}$，且在此基础上存在一棵符合题意的满二叉树，其所有结点的权值均为 $w$。", "locale": "zh-CN"}}}
{"pid": "P10858", "type": "P", "difficulty": 2, "samples": [["2\n1 1\n4 4", "1 1\n1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2024", "O2优化", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Long Live", "background": "", "description": "In Minecraft, there are three dimensions in the simple world, one of which is known as “The End”. In this dimension, the Ender Dragon is usually symbolized as the final boss of Minecraft.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hsvxefjr.png)\n\nNow we, you, and Steve want to beat the dragon. However, we find that the dragon is telling a puzzle. We must solve it before fighting against the dragon. Please stand by our side to fight against the dragon. The puzzle goes as follows.\n\nGiven two positive integers $x$ and $y$, please find two integers $a$ and $b$, such that\n\n$$\\sqrt{\\dfrac{\\operatorname{lcm}(x,y)}{\\gcd(x,y)}}=a\\sqrt{b}$$\n\nand to maximize $a \\cdot b$.\n\nHere, $\\gcd(a, b)$ represents the greatest common divisor of $a, b$, while $\\operatorname{lcm}(a, b)$ represents the least common multiple of $a, b$.", "inputFormat": "The first line contains an integer $T (1 \\leq T \\leq 10^4)$ indicating the number of test cases.\n\nOf the following $T$ lines, each contains two integers $x$ and $y (1 \\leq x, y \\leq 10^9)$, representing the puzzle.", "outputFormat": "Output $T$ lines. Each contains two integers $a$ and $b$, indicating the answer to each test case.", "hint": "Dear all participants:\n\nThis problem may be the very first page, but not where the story line ends. Please believe in yourself all the time, wishing you with my singing, “Long live all the mountains we moved, I had the time of my life fighting dragons with you”.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Long Live", "background": "", "description": "In Minecraft, there are three dimensions in the simple world, one of which is known as “The End”. In this dimension, the Ender Dragon is usually symbolized as the final boss of Minecraft.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hsvxefjr.png)\n\nNow we, you, and Steve want to beat the dragon. However, we find that the dragon is telling a puzzle. We must solve it before fighting against the dragon. Please stand by our side to fight against the dragon. The puzzle goes as follows.\n\nGiven two positive integers $x$ and $y$, please find two integers $a$ and $b$, such that\n\n$$\\sqrt{\\dfrac{\\operatorname{lcm}(x,y)}{\\gcd(x,y)}}=a\\sqrt{b}$$\n\nand to maximize $a \\cdot b$.\n\nHere, $\\gcd(a, b)$ represents the greatest common divisor of $a, b$, while $\\operatorname{lcm}(a, b)$ represents the least common multiple of $a, b$.", "inputFormat": "The first line contains an integer $T (1 \\leq T \\leq 10^4)$ indicating the number of test cases.\n\nOf the following $T$ lines, each contains two integers $x$ and $y (1 \\leq x, y \\leq 10^9)$, representing the puzzle.", "outputFormat": "Output $T$ lines. Each contains two integers $a$ and $b$, indicating the answer to each test case.", "hint": "Dear all participants:\n\nThis problem may be the very first page, but not where the story line ends. Please believe in yourself all the time, wishing you with my singing, “Long live all the mountains we moved, I had the time of my life fighting dragons with you”.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Long Live", "background": "", "description": "在 Minecraft 中，简单世界中有三个维度，其中一个被称为“The End”。在这个维度中，末影龙通常被象征为 Minecraft 的最终 Boss。\n\n现在，我们、你和Steve想要打败这条龙。然而，我们发现这条龙出了一道谜题来困扰我们。在与龙战斗之前，我们必须先解开这个谜题。请站在我们这边，与龙一同战斗。谜题如下：\n\n给定两个正整数 $x$ 和 $y$，请找到两个整数 $a$ 和 $b$，使得\n\n$$\\sqrt{\\dfrac{\\operatorname{lcm}(x,y)}{\\gcd(x,y)}}=a\\sqrt{b}$$\n\n并使 $a \\cdot b$ 最大化。\n\n其中，$\\gcd(a, b)$ 表示 $a$ 和 $b$ 的最大公约数，而 $\\operatorname{lcm}(a, b)$ 表示 $a$ 和 $b$ 的最小公倍数。", "inputFormat": "第一行包含一个整数 $T \\ (1 \\leq T \\leq 10^4)$，表示测试用例的数量。\n\n接下来的 $T$ 行中，每行包含两个整数 $x$ 和 $y \\ (1 \\leq x, y \\leq 10^9)$，表示这个谜题。", "outputFormat": "输出 $T$ 行，每行包含两个整数 $a$ 和 $b$，表示每个测试用例的答案。", "hint": "亲爱的所有参赛者：\n\n这个问题可能是故事的开篇，但绝不是故事的结尾。请一直相信自己，愿我的歌声伴随你们，“致我们曾一起翻越的高山，与你并肩战斗巨龙的时光，我度过了生命中最美好的时光”。\n\n翻译者：[Immunoglobules](https://www.luogu.com.cn/user/1066251)", "locale": "zh-CN"}}}
{"pid": "P10859", "type": "P", "difficulty": 3, "samples": [["2\n4\n0 -1\n-3 0\n0 2\n2 2\n3\n-1 -1\n0 0\n1 1", "2\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2024", "Special Judge", "O2优化", "叉积", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Nana Likes Polygons", "background": "", "description": "Nana’s electronic pet, MACARON, enjoys moving around in the room. Nana wants to create a boundedarea where MACARON can roam within.\n\nThe positions in the room can be represented using a two-dimensional coordinate system, and Nana provides a set of vertices on it. Nana likes polygons and now wants to select a subset of vertices that can form a convex polygon as its endpoints. However, Nana also wants to ensure that the selected area is not too big.\n\nThus, she is going to determine the minimum possible area of the convex polygon ending on a subset of given vertices. If such a convex polygon doesn’t exist, please output `-1` (without quotes).", "inputFormat": "The first line contains a single integer $T (1 \\leq T \\leq 10)$ — the number of test cases.\n\nFor each test case, the first line contains a single integer $n (1 \\leq n \\leq 100)$ — the number of given vertices.\n\nThe following $n$ lines each contain two integers, and the $i$-th line contains $x_i, y_i (-1000 \\leq x_i, y_i \\leq 1000)$ — the coordinate of the $i$-th vertex.", "outputFormat": "For each test case, if no such convex polygon, please output `-1` without quotes; otherwise output a single real number denoting the minimum possible area of the convex polygon ending on these given vertices.\n\nLet $a$ and $b$ denote the answer and your output respectively. Your output will be accepted if the absolute or relative error of $b$ does not exceed $10^{-6}$. Formally, your output is accepted if and only if $\\dfrac{|a-b|}{\\max(a,b)} \\leq 10^{-6}$", "hint": "For the first test case, choose $(2, 2), (−3, 0)$, and $(0, 2)$ as endpoints of a convex polygon with area $2$. It can be proved that this is the minimized area in this case.\n\nFor the second test case, no convex polygon can be formed by these three vertices.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Nana Likes Polygons", "background": "", "description": "Nana’s electronic pet, MACARON, enjoys moving around in the room. Nana wants to create a boundedarea where MACARON can roam within.\n\nThe positions in the room can be represented using a two-dimensional coordinate system, and Nana provides a set of vertices on it. Nana likes polygons and now wants to select a subset of vertices that can form a convex polygon as its endpoints. However, Nana also wants to ensure that the selected area is not too big.\n\nThus, she is going to determine the minimum possible area of the convex polygon ending on a subset of given vertices. If such a convex polygon doesn’t exist, please output `-1` (without quotes).", "inputFormat": "The first line contains a single integer $T (1 \\leq T \\leq 10)$ — the number of test cases.\n\nFor each test case, the first line contains a single integer $n (1 \\leq n \\leq 100)$ — the number of given vertices.\n\nThe following $n$ lines each contain two integers, and the $i$-th line contains $x_i, y_i (-1000 \\leq x_i, y_i \\leq 1000)$ — the coordinate of the $i$-th vertex.", "outputFormat": "For each test case, if no such convex polygon, please output `-1` without quotes; otherwise output a single real number denoting the minimum possible area of the convex polygon ending on these given vertices.\n\nLet $a$ and $b$ denote the answer and your output respectively. Your output will be accepted if the absolute or relative error of $b$ does not exceed $10^{-6}$. Formally, your output is accepted if and only if $\\dfrac{|a-b|}{\\max(a,b)} \\leq 10^{-6}$", "hint": "For the first test case, choose $(2, 2), (−3, 0)$, and $(0, 2)$ as endpoints of a convex polygon with area $2$. It can be proved that this is the minimized area in this case.\n\nFor the second test case, no convex polygon can be formed by these three vertices.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Nana Likes Polygons", "background": "", "description": "娜娜的电子宠物 MACARON 喜欢在房间里四处走动。娜娜想要创建一个有界区域，让 MACARON 可以在其中活动。\n\n房间中的位置可以用二维坐标系表示，娜娜提供了一组顶点。娜娜喜欢多边形，现在想选择一个顶点的子集，形成一个凸多边形的端点。然而，娜娜还希望确保选择的区域不要太大。\n\n因此，她将确定以给定顶点的子集为端点的凸多边形的最小可能面积。如果不存在这样的凸多边形，请输出 `-1`（不带引号）。", "inputFormat": "第一行包含一个整数 $T (1 \\leq T \\leq 10)$ —— 测试用例的数量。\n\n对于每个测试用例，第一行包含一个整数 $n (1 \\leq n \\leq 100)$ —— 给定顶点的数量。\n\n接下来的 $n$ 行每行包含两个整数，第 $i$ 行包含 $x_i, y_i (-1000 \\leq x_i, y_i \\leq 1000)$ —— 第 $i$ 个顶点的坐标。", "outputFormat": "对于每个测试用例，如果不存在这样的凸多边形，请输出 `-1`（不带引号）；否则输出一个实数，表示以这些给定顶点为端点的凸多边形的最小可能面积。\n\n设 $a$ 和 $b$ 分别表示答案和你的输出。如果 $b$ 的绝对误差或相对误差不超过 $10^{-6}$，你的输出将被接受。形式上，如果且仅如果 $\\dfrac{|a-b|}{\\max(a,b)} \\leq 10^{-6}$，你的输出才会被接受。", "hint": "对于第一个测试用例，选择 $(2, 2), (-3, 0)$ 和 $(0, 2)$ 作为一个凸多边形的端点，其面积为 2。可以证明这是该情况下的最小面积。\n\n对于第二个测试用例，这三个顶点无法形成凸多边形。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10860", "type": "P", "difficulty": 7, "samples": [["8\n1 1 1 1\n1 2 1 2\n1 3 1 3\n2 1 2 1\n2 3 2 3\n3 1 3 1\n3 2 3 2\n3 3 3 3", "4"], ["2\n1 1 100 100\n1 501 100 600", "2"], ["4\n1 1 4 1\n1 4 5 4\n1 1 1 4\n4 1 4 5", "5"], ["9\n1 1 9 1\n1 1 1 9\n1 9 9 9\n9 1 9 9\n3 3 7 3\n3 3 3 7\n3 7 7 7\n7 3 7 7\n5 5 5 5", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "离散化", "网络流", "O2优化", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Lili Likes Polygons", "background": "", "description": "Lili and Nana are weeding in the backyard of Lili’s house. They are repeatedly selecting rectangular areas and removing all the grass within them.\n\nThe backyard can be visualized as a 2D grid, each square cell representing one unit area. They have performed a total of $n$ operations. During the $i$-th operation, they choose the left, bottom, right, and top sides of a rectangle, denoted as $l_i, b_i, r_i, t_i$, and clear all the cells within this rectangle using a lawnmower. **Note that these rectangles may overlap with each other.**\n\nLet $[l_i, r_i]\\times[b_i, t_i]$ denote a rectangle.\n\nHere is an example illustrated in the following figure.  They have selected $2$ rectangles, with the first rectangle being $[1, 5]\\times[2, 3]$ and the second rectangle being $[2, 3]\\times[1, 4]$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nb9g0n5i.png)\n\nAfter the $n$ weeding operations, the union of the bare area may not be connected but all the sides are horizontal or vertical. Thus, the union becomes orthogonal polygon(s), some of which contain polygon holes.  Moreover, there can be bare cells inner some holes. Please see the example inputs for more details and illustrations.\n\nNow, they want to restore the land by planting some plants on the bare cells. Lili likes polygons, especially rectangles. Therefore, they want to select several rectangles, and these rectangles do not overlap with each other and exactly cover all the bare cells. Then, they plant different plants in different rectangles they selected.\n\nFor example, here is a feasible selection of rectangles for the aforementioned case: choose $[1, 1]\\times [2, 3]$, $[2, 3]\\times[1, 4]$ and $[4, 5]\\times [2, 3]$.\n\nAfter playing for a while, these two little girls have become tired, so they want to know the minimum number of non-overlapping rectangles that can cover all the bare cells.", "inputFormat": "The first line contains a single integer $n$ ($1\\leq n\\leq 300$) --- the number of rectangles when they weed.\n\nThe following $n$ lines each contain $4$ integers, and the $i$-th line contains $l_i, b_i, r_i, t_i$ ($1\\leq l_i, b_i, r_i, t_i\\leq 10^9, l_i\\leq r_i, b_i\\leq t_i$) --- the left, bottom, right, and top sides of the $i$-th rectangle.\n\nIt is guaranteed the sum of the endpoints of the bare area (polygon(s) with polygonal holes) does not exceed $2000$.", "outputFormat": "Output a single integer on a single line denoting the minimum number of rectangles they need to select to plant plants on all the bare cells.", "hint": "For the first example, an optimal selection is $[1, 1]\\times [1, 3]$, $[2, 1]\\times [2, 1]$,  $[2, 3]\\times [2, 3]$ and $[3, 1]\\times [3, 3]$.\n\nFor the second example, an optimal selection is $[1, 1]\\times [100, 100]$ and $[1, 501]\\times [100, 600]$.\n\nFor the third example, an optimal selection is $[1, 1]\\times [4, 1]$, $[1, 4]\\times [5, 4]$,  $[1, 2]\\times [1, 3]$, $[4, 2]\\times [4, 3]$ and $[4, 5]\\times [4, 5]$.\n\nFor the fourth example, the bare area is illustrated in the following figure. \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uun9l7e6.png)", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Lili Likes Polygons", "background": "", "description": "Lili and Nana are weeding in the backyard of Lili’s house. They are repeatedly selecting rectangular areas and removing all the grass within them.\n\nThe backyard can be visualized as a 2D grid, each square cell representing one unit area. They have performed a total of $n$ operations. During the $i$-th operation, they choose the left, bottom, right, and top sides of a rectangle, denoted as $l_i, b_i, r_i, t_i$, and clear all the cells within this rectangle using a lawnmower. **Note that these rectangles may overlap with each other.**\n\nLet $[l_i, r_i]\\times[b_i, t_i]$ denote a rectangle.\n\nHere is an example illustrated in the following figure.  They have selected $2$ rectangles, with the first rectangle being $[1, 5]\\times[2, 3]$ and the second rectangle being $[2, 3]\\times[1, 4]$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nb9g0n5i.png)\n\nAfter the $n$ weeding operations, the union of the bare area may not be connected but all the sides are horizontal or vertical. Thus, the union becomes orthogonal polygon(s), some of which contain polygon holes.  Moreover, there can be bare cells inner some holes. Please see the example inputs for more details and illustrations.\n\nNow, they want to restore the land by planting some plants on the bare cells. Lili likes polygons, especially rectangles. Therefore, they want to select several rectangles, and these rectangles do not overlap with each other and exactly cover all the bare cells. Then, they plant different plants in different rectangles they selected.\n\nFor example, here is a feasible selection of rectangles for the aforementioned case: choose $[1, 1]\\times [2, 3]$, $[2, 3]\\times[1, 4]$ and $[4, 5]\\times [2, 3]$.\n\nAfter playing for a while, these two little girls have become tired, so they want to know the minimum number of non-overlapping rectangles that can cover all the bare cells.", "inputFormat": "The first line contains a single integer $n$ ($1\\leq n\\leq 300$) --- the number of rectangles when they weed.\n\nThe following $n$ lines each contain $4$ integers, and the $i$-th line contains $l_i, b_i, r_i, t_i$ ($1\\leq l_i, b_i, r_i, t_i\\leq 10^9, l_i\\leq r_i, b_i\\leq t_i$) --- the left, bottom, right, and top sides of the $i$-th rectangle.\n\nIt is guaranteed the sum of the endpoints of the bare area (polygon(s) with polygonal holes) does not exceed $2000$.", "outputFormat": "Output a single integer on a single line denoting the minimum number of rectangles they need to select to plant plants on all the bare cells.", "hint": "For the first example, an optimal selection is $[1, 1]\\times [1, 3]$, $[2, 1]\\times [2, 1]$,  $[2, 3]\\times [2, 3]$ and $[3, 1]\\times [3, 3]$.\n\nFor the second example, an optimal selection is $[1, 1]\\times [100, 100]$ and $[1, 501]\\times [100, 600]$.\n\nFor the third example, an optimal selection is $[1, 1]\\times [4, 1]$, $[1, 4]\\times [5, 4]$,  $[1, 2]\\times [1, 3]$, $[4, 2]\\times [4, 3]$ and $[4, 5]\\times [4, 5]$.\n\nFor the fourth example, the bare area is illustrated in the following figure. \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uun9l7e6.png)", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Lili Likes Polygons", "background": null, "description": "莉莉和娜娜正在莉莉家后院除草。她们反复选择矩形区域，并移除其中的所有草坪。\n\n后院可以被视为一个二维网格，每个方格表示一个单位面积。她们共进行了 $n$ 次操作。在第 $i$ 次操作中，她们选择了一个矩形的左、下、右、上的边界，分别表示为 $l_i, b_i, r_i, t_i$，并使用割草机清除该矩形内的所有方格。**注意，这些矩形可能会相互重叠。**\n\n用 $[l_i, r_i] \\times [b_i, t_i]$ 表示一个矩形。\n\n以下是一个例子，如图所示。她们选择了 $2$ 个矩形，第一个矩形是 $[1, 5] \\times [2, 3]$，第二个矩形是 $[2, 3] \\times [1, 4]$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nb9g0n5i.png)\n\n经过 $n$ 次除草操作后，裸露区域的联合可能不连通，但所有边都是水平或垂直的。因此，联合区域变成了一个或多个直角多边形，其中一些可能包含多边形孔洞。此外，在某些孔洞内部可能会有裸露的方格。更多细节和图示请参见示例输入。\n\n现在，她们想通过在裸露的方格上种植植物来恢复土地。莉莉喜欢多边形，特别是矩形。因此，她们想选择若干个矩形，这些矩形之间不重叠，并且能够完全覆盖所有的裸露方格。然后，她们将在选择的不同矩形中种植不同的植物。\n\n例如，下面是上述情况的一个可行的矩形选择：选择 $[1, 1] \\times [2, 3]$、$[2, 3] \\times [1, 4]$ 和 $[4, 5] \\times [2, 3]$。\n\n玩了一会儿，这两个小女孩已经累了，所以她们想知道覆盖所有裸露方格的最小不重叠矩形数量。", "inputFormat": "第一行包含一个整数 $n$ ($1 \\leq n \\leq 300$) —— 表示除草时使用的矩形数量。\n\n接下来的 $n$ 行每行包含 $4$ 个整数，第 $i$ 行包含 $l_i, b_i, r_i, t_i$ ($1 \\leq l_i, b_i, r_i, t_i \\leq 10^9, l_i \\leq r_i, b_i \\leq t_i$) —— 表示第 $i$ 个矩形的左、下、右、上边界。\n\n保证裸露区域的端点总数（多边形及其孔洞）不超过 $2000$。", "outputFormat": "在一行上输出一个整数，表示覆盖所有裸露方格所需选择的最小矩形数量。", "hint": "对于第一个例子，最优选择是 $[1, 1] \\times [1, 3]$、$[2, 1] \\times [2, 1]$、$[2, 3] \\times [2, 3]$ 和 $[3, 1] \\times [3, 3]$。\n\n对于第二个例子，最优选择是 $[1, 1] \\times [100, 100]$ 和 $[1, 501] \\times [100, 600]$。\n\n对于第三个例子，最优选择是 $[1, 1] \\times [4, 1]$、$[1, 4] \\times [5, 4]$、$[1, 2] \\times [1, 3]$、$[4, 2] \\times [4, 3]$ 和 $[4, 5] \\times [4, 5]$。\n\n对于第四个例子，裸露区域如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uun9l7e6.png)\n\n翻译者：[Immunoglobules](https://www.luogu.com.cn/user/1066251)", "locale": "zh-CN"}}}
{"pid": "P10861", "type": "P", "difficulty": 6, "samples": [["10 4 5\n1 2 3 4 5 5 6 5 4 3", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "O2优化", "分治", "四边形不等式", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] MACARON Likes Happy Endings", "background": "", "description": "MACARON is going to read a book, which contains $n$ chapters, and the $i$-th chapter has $a_i$ characters. \nMACARON wants to read this book in the next $k$ days. \nOn each day, he either reads several chapters from the first unread chapter, or just takes a rest (does not read the book), but he should finish his reading in $k$ days.\n\nMACARON enjoys his reading time and likes happy endings, so he does not want to be too sad during these days.\nHe has an unlucky number $d$, because he thinks number $d$ will lead to a bad ending.\nWe use a sadness value to quantify his mood on each day.\nOn the $i$-th day, if he reads, suppose that he reads chapters from $L_i$ to $R_i$.\nThe sadness value of this day is the number of intervals $[l, r]$ such that $L_i\\leq l\\leq r\\leq R_i$ and $\\bigoplus_{i=l}^r a_i=d$.\nThe $\\oplus$ denotes the bitwise XOR operator.\nIf he doesn't read, let the sadness value be $0$.\n\nMACARON wants to arrange his reading schedule to minimize the sum of sadness value in $k$ days.\nCan you help him find the minimum value?", "inputFormat": "The first line contains three integers $n, k$ and $d$ ($1\\leq n\\leq 10^5, 1\\leq k\\leq \\min(n, 20), 0\\leq d\\leq 10^6$) --- the number of chapters, the days for reading, and the unlucky number.\n\nThe second line contains $n$ integers $a_i$ ($0\\leq a_i\\leq 10^6$) --- the number of characters in each chapter.", "outputFormat": "Output a single integer denoting the minimized sum of the sadness value.", "hint": "Here is an optimal schedule for reading:\n\n- on the first day, just take a rest, and the sadness value is 0;\n- on the second day, read from chapter 1 to chapter 3, and the sadness value is 0;\n- on the third day, read from chapter 4 to chapter 7, and the sadness value is 2;\n- on the fourth day, read from chapter 8 to chapter 10, and the sadness value is 1.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] MACARON Likes Happy Endings", "background": "", "description": "MACARON is going to read a book, which contains $n$ chapters, and the $i$-th chapter has $a_i$ characters. \nMACARON wants to read this book in the next $k$ days. \nOn each day, he either reads several chapters from the first unread chapter, or just takes a rest (does not read the book), but he should finish his reading in $k$ days.\n\nMACARON enjoys his reading time and likes happy endings, so he does not want to be too sad during these days.\nHe has an unlucky number $d$, because he thinks number $d$ will lead to a bad ending.\nWe use a sadness value to quantify his mood on each day.\nOn the $i$-th day, if he reads, suppose that he reads chapters from $L_i$ to $R_i$.\nThe sadness value of this day is the number of intervals $[l, r]$ such that $L_i\\leq l\\leq r\\leq R_i$ and $\\bigoplus_{i=l}^r a_i=d$.\nThe $\\oplus$ denotes the bitwise XOR operator.\nIf he doesn't read, let the sadness value be $0$.\n\nMACARON wants to arrange his reading schedule to minimize the sum of sadness value in $k$ days.\nCan you help him find the minimum value?", "inputFormat": "The first line contains three integers $n, k$ and $d$ ($1\\leq n\\leq 10^5, 1\\leq k\\leq \\min(n, 20), 0\\leq d\\leq 10^6$) --- the number of chapters, the days for reading, and the unlucky number.\n\nThe second line contains $n$ integers $a_i$ ($0\\leq a_i\\leq 10^6$) --- the number of characters in each chapter.", "outputFormat": "Output a single integer denoting the minimized sum of the sadness value.", "hint": "Here is an optimal schedule for reading:\n\n- on the first day, just take a rest, and the sadness value is 0;\n- on the second day, read from chapter 1 to chapter 3, and the sadness value is 0;\n- on the third day, read from chapter 4 to chapter 7, and the sadness value is 2;\n- on the fourth day, read from chapter 8 to chapter 10, and the sadness value is 1.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] MACARON Likes Happy Endings", "background": null, "description": "MACARON 要读一本书，这本书包含 $n$ 章，第 $i$ 章有 $a_i$ 个字符。\nMACARON 想在接下来的 $k$ 天内读完这本书。\n每天，他要么从未读的第一章开始读若干章，要么就休息（不读书），但他必须在 $k$ 天内完成阅读。\n\nMACARON 享受他的阅读时间，并喜欢圆满的结局，所以他不希望在这些日子里太过悲伤。\n他有一个不吉利的数字 $d$，因为他认为数字 $d$ 会导致不好的结局。\n我们用一个悲伤值来量化他每天的心情。\n在第 $i$ 天，如果他阅读，假设他读了从 $L_i$ 到 $R_i$ 的章节。\n这一天的悲伤值是满足 $L_i\\leq l\\leq r\\leq R_i$ 且 $\\bigoplus_{i=l}^r a_i=d$ 的区间 $[l, r]$ 的数量。\n这里的 $\\oplus$ 表示按位异或运算符。\n如果他不读书，则悲伤值为 0。\n\nMACARON 想安排他的阅读计划，以最小化 $k$ 天内悲伤值的总和。\n你能帮他找到最小值吗？", "inputFormat": "第一行包含三个整数 $n, k$ 和 $d$（$1\\leq n\\leq 10^5, 1\\leq k\\leq \\min(n, 20), 0\\leq d\\leq 10^6$）——章节数、阅读天数和不吉利的数字。\n\n第二行包含 $n$ 个整数 $a_i$（$0\\leq a_i\\leq 10^6$）——每章的字符数。", "outputFormat": "输出一个整数，表示最小化后的悲伤值总和。", "hint": "以下是一个最优的阅读计划：\n\n- 第一天，休息，悲伤值为 0；\n- 第二天，阅读第 1 章到第 3 章，悲伤值为 0；\n- 第三天，阅读第 4 章到第 7 章，悲伤值为 2；\n- 第四天，阅读第 8 章到第 10 章，悲伤值为 1。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10862", "type": "P", "difficulty": 1, "samples": [["3\n600 200 27 26\n750 0 26 27\n750 750 1 1", "16000\n19500\n750"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Spicy or Grilled?", "background": "", "description": "Since a regular programming contest lasts for five hours, it's a big problem to prepare contestants' food during the contest.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nh1zzieg.png)\n\nIn the 20XX International Collegiate Programming Contest in Hubei Province, China, there were $n$ contestants participating in the contest. The host wanted to prepare a Spicy Chicken Burger Set for every contestant, which was $a$ dollars per set at that time. But since there were some people who could not bear the spiciness like Walk Alone, a Grilled Chicken Burger Set was prepared for these people, which was $b$ dollars per set. Before the contest, the host had collected the number $x$ of people who wanted to eat a Grilled Chicken Burger Set.\n\nBut Walk Alone was too stupid and lazy to calculate how much the host would spend. Please help him to calculate.", "inputFormat": "In the first line,there is an integer $T$ ($1 \\leq T \\leq 10^4$) denoting the number of test cases. \n\nFor each test case, there are four integers $n$, $x$, $a$ and $b$ ($1 \\leq n, a, b \\leq 10^4, 0 \\le x \\le n$) in each line, representing the number of contestants in total, the number of contestants who want Grilled Chicken Burger Set, the price of Spicy Chicken Burger Set and Grilled Chicken Burger Set per set.", "outputFormat": "For each test case, output a single integer denoting the total money the host would spend.", "hint": "In the first test case, there were $400$ people chosen the Spicy Chicken Burger Set and $200$ people chosen the Grilled one. So the total money is $400 \\times 27 + 200 \\times 26 = 16\\ 000$ dollars.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Spicy or Grilled?", "background": "", "description": "Since a regular programming contest lasts for five hours, it's a big problem to prepare contestants' food during the contest.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nh1zzieg.png)\n\nIn the 20XX International Collegiate Programming Contest in Hubei Province, China, there were $n$ contestants participating in the contest. The host wanted to prepare a Spicy Chicken Burger Set for every contestant, which was $a$ dollars per set at that time. But since there were some people who could not bear the spiciness like Walk Alone, a Grilled Chicken Burger Set was prepared for these people, which was $b$ dollars per set. Before the contest, the host had collected the number $x$ of people who wanted to eat a Grilled Chicken Burger Set.\n\nBut Walk Alone was too stupid and lazy to calculate how much the host would spend. Please help him to calculate.", "inputFormat": "In the first line,there is an integer $T$ ($1 \\leq T \\leq 10^4$) denoting the number of test cases. \n\nFor each test case, there are four integers $n$, $x$, $a$ and $b$ ($1 \\leq n, a, b \\leq 10^4, 0 \\le x \\le n$) in each line, representing the number of contestants in total, the number of contestants who want Grilled Chicken Burger Set, the price of Spicy Chicken Burger Set and Grilled Chicken Burger Set per set.", "outputFormat": "For each test case, output a single integer denoting the total money the host would spend.", "hint": "In the first test case, there were $400$ people chosen the Spicy Chicken Burger Set and $200$ people chosen the Grilled one. So the total money is $400 \\times 27 + 200 \\times 26 = 16\\ 000$ dollars.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Spicy or Grilled?", "background": "", "description": "由于一场常规的编程比赛持续五个小时，因此在比赛期间为参赛者准备食物是一个大问题。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nh1zzieg.png)\n\n在 20XX 年中国湖北省的国际大学生程序设计竞赛中，有 $n$ 名参赛者参加比赛。主办方希望为每位参赛者准备一份辣鸡汉堡套餐，当时每份套餐的价格为 $a$ 美元。但由于有些人无法忍受辣味，比如 Walk Alone，主办方为这些人准备了烤鸡汉堡套餐，每份套餐的价格为 $b$ 美元。比赛前，主办方收集了想要吃烤鸡汉堡套餐的人数 $x$。\n\n但 Walk Alone 太笨太懒，无法计算主办方将花费多少钱。请帮助他计算。", "inputFormat": "第一行有一个整数 $T$ ($1 \\leq T \\leq 10^4$)，表示测试用例的数量。\n\n对于每个测试用例，每行有四个整数 $n$、$x$、$a$ 和 $b$ ($1 \\leq n, a, b \\leq 10^4, 0 \\le x \\le n$)，分别表示参赛者总数、想要烤鸡汉堡套餐的参赛者人数、辣鸡汉堡套餐的价格和烤鸡汉堡套餐的价格。", "outputFormat": "对于每个测试用例，输出一个整数，表示主办方将花费的总金额。", "hint": "在第一个测试用例中，有 $400$ 人选择了辣鸡汉堡套餐，$200$ 人选择了烤鸡汉堡套餐。因此总金额为 $400 \\times 27 + 200 \\times 26 = 16\\ 000$ 美元。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10863", "type": "P", "difficulty": 5, "samples": [["6 3 2 1 3", "1\n3\n2"], ["10 15 5 4 7", "0\n9\n9\n0\n64\n0\n0"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["树状数组", "2024", "O2优化", "可持久化线段树", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Enchanted", "background": "", "description": "In Minecraft, one way to become stronger is to have the armors and weapons enchanted. Enchanted books play an important role.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pc5cf4e8.png)\n\nThe most important attribute of an enchanted book is its level. The higher the level is, the better the book is. We could merge two books with the same level  $l$ into one new book(the older two will disappear). The level of the new book is $l+1$ and the merger costs $2^{l+1}$.\n\nNow, Steve has $n$ enchanted books numbered from $1$ to $n$. Initially, the $i$-th book's level is $a_i$. Steve asks you to help him with the following four operations.\n\n1. Given two integers $l,r(1 \\le l \\le r \\le n)$, calculate the maximum level Steve can reach by merging books numbered from $l$ to $r$.\n2.  Given three integers $l,r(1 \\le l \\le r \\le n)$ and $k$, then follow the steps:   \nStep $1$: Steve merges all the books numbered from $l$ to $r$ until there does not exist two books with the same level.    \nStep $2$: Steve adds one new book with level $k$ to the books he gets in Step $1$.     \nStep $3$: Steve needs to merge books he gets in Step $2$ and he wants to maximize the times he merges the books.    \nPlease calculate and output the total cost modulo $10^9+7$ in Step $3$.     \n$\\textbf{Note that, after calculating, the sequence is restored. That is, this operation does NOT actually change the sequence.}$\n\n3. Given two integers $pos,k$, Steve changes the level of the book numbered $pos$ to $k$.\n\n4. Given one integer $t$, Steve restores the sequence to the state after the $t$-th operation. If $t=0$, then Steve restores the sequence to the beginning state.", "inputFormat": "The first and the only line contains 5 integers $n,m,A,p,q$.($1 \\leq n \\leq 10^6$, $1 \\leq m \\leq 10^6$, $1 \\leq A \\leq 19\\,260\\,817$, $1 \\leq p \\leq 4$, $1 \\leq q \\leq 30$)\n\nPlease pay attention! To avoid large input file, the true input is constructed through the following strategy:\n\n$\\textbf{Function rnd():}\\ \\ \\ \\\\\nA \\leftarrow (7A+13) \\bmod 19\\,260\\,817\\ \\ \\ \\\\ \\textbf{return } A$\n\nFirstly, $n$ integers $a_1,a_2,\\cdots,a_n$ are generated in turn, $a_i \\leftarrow rnd() \\bmod q + 1$.\n\nThen, the parameters of all operations are generated.\n\nFor each operation, the number of operation(representing by $opt$) is firstly generated, $opt \\leftarrow rnd() \\bmod p + 1$.\n\nAccording to the number of operation, the different method is applied to generate parameters for different operation.\n\n- For operation 1: we need to get $l$ and $r$ by using:\n  - $L \\leftarrow rnd() \\bmod n + 1$\n  - $R \\leftarrow rnd() \\bmod n + 1$\n  - $l \\leftarrow \\min(L,R)$\n  - $r \\leftarrow \\max(L,R)$\n\n- For operation 2: we need to get $l,r$ and $k$ by using:\n  - $L \\leftarrow rnd() \\bmod n + 1$\n  - $R \\leftarrow rnd() \\bmod n + 1$\n  - $l \\leftarrow \\min(L,R)$\n  - $r \\leftarrow \\max(L,R)$\n  - $k \\leftarrow rnd() \\bmod q + 1$\n\n- For operation 3: we need to get $pos$ and $k$ by using:\n  - $pos \\leftarrow rnd() \\bmod n + 1$\n  - $k \\leftarrow rnd() \\bmod q + 1$\n\n- For operation 4: we need to get $t$ by using:\n\n  - $t \\leftarrow rnd() \\bmod i$\n\nHere, $i$ represents the $i$-th operation.", "outputFormat": "For each operation 1 and 2, you need to output one single line with an integer, representing the answer to operation 1 and 2 modulo $10^9 + 7$.", "hint": "Function `max` means the maximum one between the parameters. Function `min` means the minimum one between the parameters.\n\nIn example 1, the initial books are $[1,2,3,1,2,3]$. The three operations' ranges are $[4,4]$, $[1,3]$ and $[4,5]$.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Enchanted", "background": "", "description": "In Minecraft, one way to become stronger is to have the armors and weapons enchanted. Enchanted books play an important role.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pc5cf4e8.png)\n\nThe most important attribute of an enchanted book is its level. The higher the level is, the better the book is. We could merge two books with the same level  $l$ into one new book(the older two will disappear). The level of the new book is $l+1$ and the merger costs $2^{l+1}$.\n\nNow, Steve has $n$ enchanted books numbered from $1$ to $n$. Initially, the $i$-th book's level is $a_i$. Steve asks you to help him with the following four operations.\n\n1. Given two integers $l,r(1 \\le l \\le r \\le n)$, calculate the maximum level Steve can reach by merging books numbered from $l$ to $r$.\n2.  Given three integers $l,r(1 \\le l \\le r \\le n)$ and $k$, then follow the steps:   \nStep $1$: Steve merges all the books numbered from $l$ to $r$ until there does not exist two books with the same level.    \nStep $2$: Steve adds one new book with level $k$ to the books he gets in Step $1$.     \nStep $3$: Steve needs to merge books he gets in Step $2$ and he wants to maximize the times he merges the books.    \nPlease calculate and output the total cost modulo $10^9+7$ in Step $3$.     \n$\\textbf{Note that, after calculating, the sequence is restored. That is, this operation does NOT actually change the sequence.}$\n\n3. Given two integers $pos,k$, Steve changes the level of the book numbered $pos$ to $k$.\n\n4. Given one integer $t$, Steve restores the sequence to the state after the $t$-th operation. If $t=0$, then Steve restores the sequence to the beginning state.", "inputFormat": "The first and the only line contains 5 integers $n,m,A,p,q$.($1 \\leq n \\leq 10^6$, $1 \\leq m \\leq 10^6$, $1 \\leq A \\leq 19\\,260\\,817$, $1 \\leq p \\leq 4$, $1 \\leq q \\leq 30$)\n\nPlease pay attention! To avoid large input file, the true input is constructed through the following strategy:\n\n$\\textbf{Function rnd():}\\ \\ \\ \\\\\nA \\leftarrow (7A+13) \\bmod 19\\,260\\,817\\ \\ \\ \\\\ \\textbf{return } A$\n\nFirstly, $n$ integers $a_1,a_2,\\cdots,a_n$ are generated in turn, $a_i \\leftarrow rnd() \\bmod q + 1$.\n\nThen, the parameters of all operations are generated.\n\nFor each operation, the number of operation(representing by $opt$) is firstly generated, $opt \\leftarrow rnd() \\bmod p + 1$.\n\nAccording to the number of operation, the different method is applied to generate parameters for different operation.\n\n- For operation 1: we need to get $l$ and $r$ by using:\n  - $L \\leftarrow rnd() \\bmod n + 1$\n  - $R \\leftarrow rnd() \\bmod n + 1$\n  - $l \\leftarrow \\min(L,R)$\n  - $r \\leftarrow \\max(L,R)$\n\n- For operation 2: we need to get $l,r$ and $k$ by using:\n  - $L \\leftarrow rnd() \\bmod n + 1$\n  - $R \\leftarrow rnd() \\bmod n + 1$\n  - $l \\leftarrow \\min(L,R)$\n  - $r \\leftarrow \\max(L,R)$\n  - $k \\leftarrow rnd() \\bmod q + 1$\n\n- For operation 3: we need to get $pos$ and $k$ by using:\n  - $pos \\leftarrow rnd() \\bmod n + 1$\n  - $k \\leftarrow rnd() \\bmod q + 1$\n\n- For operation 4: we need to get $t$ by using:\n\n  - $t \\leftarrow rnd() \\bmod i$\n\nHere, $i$ represents the $i$-th operation.", "outputFormat": "For each operation 1 and 2, you need to output one single line with an integer, representing the answer to operation 1 and 2 modulo $10^9 + 7$.", "hint": "Function `max` means the maximum one between the parameters. Function `min` means the minimum one between the parameters.\n\nIn example 1, the initial books are $[1,2,3,1,2,3]$. The three operations' ranges are $[4,4]$, $[1,3]$ and $[4,5]$.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Enchanted", "background": "", "description": "在《Minecraft》中，变得更强的一种方式是让盔甲和武器附魔。附魔书在其中扮演了重要角色。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pc5cf4e8.png)\n\n附魔书最重要的属性是其等级。等级越高，书越好。我们可以将两本相同等级 $l$ 的书合并成一本新书（原来的两本书将消失）。新书的等级为 $l+1$，合并的费用为 $2^{l+1}$。\n\n现在，Steve 有 $n$ 本编号从 $1$ 到 $n$ 的附魔书。最初，第 $i$ 本书的等级为 $a_i$。Steve 请你帮助他完成以下四种操作。\n\n1. 给定两个整数 $l,r(1 \\le l \\le r \\le n)$，计算通过合并编号从 $l$ 到 $r$ 的书能达到的最大等级。\n2. 给定三个整数 $l,r(1 \\le l \\le r \\le n)$ 和 $k$，然后按照以下步骤操作：\n步骤 $1$：Steve 合并编号从 $l$ 到 $r$ 的所有书，直到不存在两本等级相同的书。\n步骤 $2$：Steve 将一个新书等级为 $k$ 的书加入步骤 $1$ 中得到的书中。\n步骤 $3$：Steve 需要合并步骤 $2$ 中得到的书，并希望最大化合并次数。\n请计算并输出步骤 $3$ 中的总费用对 $10^9+7$ 取模的结果。\n\\textbf{注意，计算后，序列会恢复。也就是说，此操作实际上不会改变序列。}\n\n3. 给定两个整数 $pos,k$，Steve 将编号为 $pos$ 的书的等级改为 $k$。\n\n4. 给定一个整数 $t$，Steve 将序列恢复到第 $t$ 次操作后的状态。如果 $t=0$，则 Steve 将序列恢复到初始状态。", "inputFormat": "第一行也是唯一一行包含 5 个整数 $n,m,A,p,q$。($1 \\leq n \\leq 10^6$, $1 \\leq m \\leq 10^6$, $1 \\leq A \\leq 19\\,260\\,817$, $1 \\leq p \\leq 4$, $1 \\leq q \\leq 30$)\n\n请注意！为了避免输入文件过大，真实输入是通过以下策略构造的：\n\n$\\textbf{func rnd():}\\ \\ \\ \\\\\nA \\leftarrow (7A+13) \\bmod 19\\,260\\,817\\ \\ \\ \\\\ \\textbf{return } A$\n\n首先，生成 $n$ 个整数 $a_1,a_2,\\cdots,a_n$，依次生成，$a_i \\leftarrow rnd() \\bmod q + 1$。\n\n然后，生成所有操作的参数。\n\n对于每个操作，首先生成操作编号（用 $opt$ 表示），$opt \\leftarrow rnd() \\bmod p + 1$。\n\n根据操作编号，不同的操作使用不同的方法生成参数。\n\n- 对于操作 1：需要通过以下方式获取 $l$ 和 $r$：\n  - $L \\leftarrow rnd() \\bmod n + 1$\n  - $R \\leftarrow rnd() \\bmod n + 1$\n  - $l \\leftarrow \\min(L,R)$\n  - $r \\leftarrow \\max(L,R)$\n\n- 对于操作 2：需要通过以下方式获取 $l,r$ 和 $k$：\n  - $L \\leftarrow rnd() \\bmod n + 1$\n  - $R \\leftarrow rnd() \\bmod n + 1$\n  - $l \\leftarrow \\min(L,R)$\n  - $r \\leftarrow \\max(L,R)$\n  - $k \\leftarrow rnd() \\bmod q + 1$\n\n- 对于操作 3：需要通过以下方式获取 $pos$ 和 $k$：\n  - $pos \\leftarrow rnd() \\bmod n + 1$\n  - $k \\leftarrow rnd() \\bmod q + 1$\n\n- 对于操作 4：需要通过以下方式获取 $t$：\n\n  - $t \\leftarrow rnd() \\bmod i$\n\n这里，$i$ 表示第 $i$ 次操作。", "outputFormat": "对于每个操作 1 和 2，你需要输出一行整数，表示操作 1 和 2 的答案对 $10^9 + 7$ 取模的结果。", "hint": "函数 `max` 表示参数中的最大值。函数 `min` 表示参数中的最小值。\n\n在例子 1 中，初始书为 $[1,2,3,1,2,3]$。三个操作的范围分别是 $[4,4]$，$[1,3]$ 和 $[4,5]$。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10864", "type": "P", "difficulty": 4, "samples": [["8\n2 1\n1 1\n1 2\n2 2\n1 1\n1 3\n2 3\n3 1", "0 0\n0 0\n0 1\n0 0\n0 0\n0 0\n0 0\n3 0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "并查集", "2024", "O2优化", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Genshin Impact Startup Forbidden II", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/9ez2u5m2.png)\n\nBlue-edged Shot is forbidden from playing Genshin Impact by LeavingZ, so she turned to Go game.\n\nA game of Go involves two players, one playing with Black stones and the other with White stones. Two players take turns making moves, with the Black stones going first. The Go board is composed of a grid of $19\\times 19$ intersections, and we use $(x,y)$ to represent the intersection at the $x$-th row and $y$-th column. The stones are placed on the intersections. The top left corner is $(1,1)$, while the bottom right corner is $(19,19)$.\n\nThe intersections $(x_1,y_1)$ and $(x_2,y_2)$ are adjacent if and only if $|x_1-x_2| + |y_1-y_2| = 1$. Adjacent intersections with stones of the same color belong to the same group of stones. The number of `liberties` for a stone is equal to the number of adjacent intersections to the stone's intersection that do not have any stones on them. The liberties of a group of stones equal the sum of the liberties of all the stones belonging to that group. A group of stones with zero liberties is considered dead and must be removed from the board.\n\nNote that after Black plays, priority is given to removing any dead White stones, and then recalculating the liberties for Black stones. This is because there might be situations where, after Black plays, both Black and White stones have zero liberties, but removing the dead White stones increases the liberties for Black stones. As for White, process the stones similarly. After White plays, priority is given to removing any dead Black stones, and then recalculating the liberties for White stones.\n\nNow there is a game of Go, starting with an empty board, and a total of $m$ moves have been made by both players. Given the positions where each stone is placed, output after each move, how many Black and White stones are removed respectively causing by this move. Obviously, black stones are played on odd-numbered moves, and white stones are played on even-numbered moves. It's guaranteed that stones are placed on empty intersections. Note that stones can be placed on $\\textbf{any}$ intersections that do not have stones on them at the moment, regardless of violating the Go rules in real life.", "inputFormat": "Input $m$ ($1 \\le m \\le 5\\times 10^5)$ lines, the $i$-th line contains two integers $x_i,y_i$ ($1 \\le x_i,y_i \\le 19$), representing the $i$-th move puts stone on $(x_i,y_i)$.\n\nIt's guaranteed that stones are placed on intersections that do not have stones on them at the moment.", "outputFormat": "Output $m$ lines, each line contains two integers. The first integer in the $i$-th line represents the number of Black stones removed after the $i$-th move, while the second for White stones.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/u15z6yt8.png)", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Genshin Impact Startup Forbidden II", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/9ez2u5m2.png)\n\nBlue-edged Shot is forbidden from playing Genshin Impact by LeavingZ, so she turned to Go game.\n\nA game of Go involves two players, one playing with Black stones and the other with White stones. Two players take turns making moves, with the Black stones going first. The Go board is composed of a grid of $19\\times 19$ intersections, and we use $(x,y)$ to represent the intersection at the $x$-th row and $y$-th column. The stones are placed on the intersections. The top left corner is $(1,1)$, while the bottom right corner is $(19,19)$.\n\nThe intersections $(x_1,y_1)$ and $(x_2,y_2)$ are adjacent if and only if $|x_1-x_2| + |y_1-y_2| = 1$. Adjacent intersections with stones of the same color belong to the same group of stones. The number of `liberties` for a stone is equal to the number of adjacent intersections to the stone's intersection that do not have any stones on them. The liberties of a group of stones equal the sum of the liberties of all the stones belonging to that group. A group of stones with zero liberties is considered dead and must be removed from the board.\n\nNote that after Black plays, priority is given to removing any dead White stones, and then recalculating the liberties for Black stones. This is because there might be situations where, after Black plays, both Black and White stones have zero liberties, but removing the dead White stones increases the liberties for Black stones. As for White, process the stones similarly. After White plays, priority is given to removing any dead Black stones, and then recalculating the liberties for White stones.\n\nNow there is a game of Go, starting with an empty board, and a total of $m$ moves have been made by both players. Given the positions where each stone is placed, output after each move, how many Black and White stones are removed respectively causing by this move. Obviously, black stones are played on odd-numbered moves, and white stones are played on even-numbered moves. It's guaranteed that stones are placed on empty intersections. Note that stones can be placed on $\\textbf{any}$ intersections that do not have stones on them at the moment, regardless of violating the Go rules in real life.", "inputFormat": "Input $m$ ($1 \\le m \\le 5\\times 10^5)$ lines, the $i$-th line contains two integers $x_i,y_i$ ($1 \\le x_i,y_i \\le 19$), representing the $i$-th move puts stone on $(x_i,y_i)$.\n\nIt's guaranteed that stones are placed on intersections that do not have stones on them at the moment.", "outputFormat": "Output $m$ lines, each line contains two integers. The first integer in the $i$-th line represents the number of Black stones removed after the $i$-th move, while the second for White stones.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/u15z6yt8.png)", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Genshin Impact Startup Forbidden II", "background": "", "description": "### 弹窗内容\n\nLeavingZ：你被禁止玩《原神》。\n\n\n\n蓝边铅球因LeavingZ的禁止而无法玩《原神》，所以她转向了围棋。\n\n围棋游戏由两名玩家进行，一方使用黑子，另一方使用白子。两名玩家轮流下子，黑子先行。围棋棋盘由$19\\times 19$的交叉点组成，我们用$(x,y)$表示第$x$行第$y$列的交叉点。棋子放置在交叉点上。左上角为$(1,1)$，右下角为$(19,19)$。\n\n如果$|x_1-x_2| + |y_1-y_2| = 1$，那么交叉点$(x_1,y_1)$和$(x_2,y_2)$是相邻的。相邻的交叉点上放置相同颜色的棋子属于同一组棋子。一个棋子的“气”数等于该棋子所在交叉点的相邻交叉点上没有棋子的个数。一组棋子的“气”数等于该组棋子中所有棋子的“气”数之和。一组棋子如果“气”数为零，则被视为“死棋”并且必须从棋盘上移除。\n\n注意，在黑子落子后，优先移除任何死掉的白子，然后重新计算黑子的“气”数。这是因为可能出现这样的情况：黑子落子后，黑白两方的棋子都没有“气”，但移除死掉的白子会增加黑子的“气”。白子落子的处理方式类似。在白子落子后，优先移除任何死掉的黑子，然后重新计算白子的“气”数。\n\n现在有一局围棋，从空棋盘开始，总共进行了$m$步。给定每步棋子的放置位置，请输出每步棋子落子后，分别有多少颗黑子和白子被移除。显然，黑子在奇数步落子，白子在偶数步落子。保证棋子放置在空的交叉点上。注意，棋子可以放置在$\\textbf{任意}$当前没有棋子的交叉点上，无论是否违反了现实中的[围棋规则](https://zhuanlan.zhihu.com/p/440794632)$^{(1)}$。\n\n注释：\n- (2):译者补充", "inputFormat": "输入包含 $m$ 行（$1 \\le m \\le 5\\times 10^5$），第 $i$ 行包含两个整数 $x_i, y_i$ （$1 \\le x_i, y_i \\le 19$），表示第 $i$ 步在 $(x_i, y_i)$ 位置放置棋子。\n\n保证棋子放置在当前没有棋子的交叉点上。", "outputFormat": "输出包含 $m$ 行，每行包含两个整数。第 $i$ 行的第一个整数表示第 $i$ 步后被移除的黑子数量，第二个整数表示被移除的白子数量。\n\n翻译者：[Immunoglobules](https://www.luogu.com.cn/user/1066251)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10865", "type": "P", "difficulty": 4, "samples": [["5 5 3\n1 1 2\n2 2 1\n5 5 2", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "离散化", "O2优化", "省赛/邀请赛", "湖北", "状压 DP"], "title": "[HBCPC2024] Genshin Impact Startup Forbidden III", "background": "", "description": "Blue-edged Shot is forbidden from playing Genshin Impact by LeavingZ. However, today LeavingZ went to Huazhong University of Science and Technology, School of Cyber Science and Engineering, to harvest the gold medal of the 2024 International Collegiate Programming Contest in Hubei Province, China.\n\nAn activity of Genshin Impact called `Dodoco's Bomb-Tastic Adventure` has begun. This is a single-player game, where each game involves a pond. The pond can be divided into an $n$ by $m$ grid, with the cell in the $i$-th row and $j$-th column represented by $(i,j)$. Among these, $k$ cells contain fish, and you will play as the Spark Knight Klee, who fishes with explosives.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3keap2xe.png)\n\nIf Klee drops a bomb at $(a,b)$, all the cells $(x,y)$ satisfying $|x-a|+|y-b|\\le 1$ will be covered by the explosion. For every cell covered by the explosion, Klee will catch one fish from it. Klee can drop bombs at any location. The question is, to catch all the fish, how many `Jumpy Dumpty` bombs are needed at a minimum?", "inputFormat": "The first line contains three integers $n,m,k$ ($1 \\le n,m \\le 10^3, 1 \\le k \\le 10$) --- the size of the grid and the number of cells containing fish.\n\nThe following $k$ lines, each line contains three integers $x_i,y_i,a_i$ ($1\\le x_i \\le n, 1 \\le y_i \\le m, 1 \\le a_i \\le 3$), representing there are $a_i$ fish in cell $(x_i,y_i)$.\n\nIt is guaranteed that the input cell $(x_i,y_i)$ are unique.", "outputFormat": "Output a single integer, denoting the minimum number of bombs needed.", "hint": "One possible way is to drop two bombs at $(1,2)$ and another two at $(5,5)$.\n\nIt can be proven that there is no solution with a smaller answer.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Genshin Impact Startup Forbidden III", "background": "", "description": "Blue-edged Shot is forbidden from playing Genshin Impact by LeavingZ. However, today LeavingZ went to Huazhong University of Science and Technology, School of Cyber Science and Engineering, to harvest the gold medal of the 2024 International Collegiate Programming Contest in Hubei Province, China.\n\nAn activity of Genshin Impact called `Dodoco's Bomb-Tastic Adventure` has begun. This is a single-player game, where each game involves a pond. The pond can be divided into an $n$ by $m$ grid, with the cell in the $i$-th row and $j$-th column represented by $(i,j)$. Among these, $k$ cells contain fish, and you will play as the Spark Knight Klee, who fishes with explosives.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3keap2xe.png)\n\nIf Klee drops a bomb at $(a,b)$, all the cells $(x,y)$ satisfying $|x-a|+|y-b|\\le 1$ will be covered by the explosion. For every cell covered by the explosion, Klee will catch one fish from it. Klee can drop bombs at any location. The question is, to catch all the fish, how many `Jumpy Dumpty` bombs are needed at a minimum?", "inputFormat": "The first line contains three integers $n,m,k$ ($1 \\le n,m \\le 10^3, 1 \\le k \\le 10$) --- the size of the grid and the number of cells containing fish.\n\nThe following $k$ lines, each line contains three integers $x_i,y_i,a_i$ ($1\\le x_i \\le n, 1 \\le y_i \\le m, 1 \\le a_i \\le 3$), representing there are $a_i$ fish in cell $(x_i,y_i)$.\n\nIt is guaranteed that the input cell $(x_i,y_i)$ are unique.", "outputFormat": "Output a single integer, denoting the minimum number of bombs needed.", "hint": "One possible way is to drop two bombs at $(1,2)$ and another two at $(5,5)$.\n\nIt can be proven that there is no solution with a smaller answer.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Genshin Impact Startup Forbidden III", "background": null, "description": "“Blue-edged Shot 被 LeavingZ 禁止玩《原神》。然而，今天 LeavingZ 前往了华中科技大学的网络科学与工程学院，参加2024年中国湖北省国际大学生程序设计竞赛，并收获了金牌。\n\n《原神》中的一个活动多多炸弹大冒险已经开始了。这是一个单人游戏，每局游戏都涉及一个池塘。池塘可以被划分为一个 $n×m$ 的网格，其中第 $i$ 行第 $j$ 列的单元格表示为 $(i,j)$。在这些单元格中，有 $k$ 个单元格包含鱼，你将扮演火花骑士克莱，她用炸药来捕鱼。\n\n如果克莱在 $(a,b)$ 位置投放炸弹，那么所有满足$|x-a|+|y-b|\\le 1$的单元格 $(x,y)$ 都将被爆炸覆盖。对于每一个被爆炸覆盖的单元格，克莱都会从其中捕到一条鱼。克莱可以在任何位置投放炸弹。问题是，为了捕到所有的鱼，至少需要多少枚“蹦蹦炸弹”？", "inputFormat": "第一行包含三个整数 $n,m,k$ ($1 \\le n,m \\le 10^3, 1 \\le k \\le 10$)，分别表示网格的大小（行数和列数）以及包含鱼的单元格数量。\n\n接下来的 $k$ 行，每行包含三个整数 $x_i,y_i,a_i$ ($1\\le x_i \\le n, 1 \\le y_i \\le m, 1 \\le a_i \\le 3$)，表示在网格的 ($x_i, y_i$) 单元格中有 $a_i$ 条鱼。\n\n输入保证所有的 $(x_i, y_i)$ 单元格坐标都是唯一的。", "outputFormat": "输出一个整数，表示所需的最少炸弹数量。” 在这个问题中，你需要计算并输出一个整数，该整数代表为了捕获所有鱼所需投放的最少“蹦蹦炸弹”数量。", "hint": "一种可能的方法是在 $(1,2)$ 位置投放两枚炸弹，再在 $(5,5)$ 位置投放另外两枚炸弹。\n\n可以证明没有比这个答案更小的解。", "locale": "zh-CN"}}}
{"pid": "P10866", "type": "P", "difficulty": 6, "samples": [["1\n8 6\n1 2\n1 3\n2 4\n4 5\n2 6\n4 8\n3 7\n4 8\n7 7\n4 5\n2 2\n4 6\n5 1", "5\n4\n4\n3\n4\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["并查集", "2024", "O2优化", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Colorful Tree", "background": "", "description": "You are given a tree with $n$ nodes numbered from $1$ to $n$ and $n - 1$ edges. Each node has a color. Initially, all of them are white. \n\nWe are going to perform $q$ operations. In each operation, two vertices $u$ and $v$ will be given, and we will color black to the points along the simple path from $u$ to $v$ ($u,v$ inclusive). Note that a simple path in the tree is defined as a path that does not pass through any vertex more than once.\n\nAfter each operation, you are required to determine the length of the longest simple path in the tree where all nodes on the path are the same color. The length of a path is defined as the number of nodes on the path.", "inputFormat": "The first line contains a single integer $T$ ($1 \\le T \\le 100$) indicating the number of test cases.\n\nFor each test case, the first line contains two integers $n$ ($1 \\le n \\le 2\\times 10^5$) and $q$ ($1 \\le q \\le 2\\times 10^5$), indicating the number of nodes in the tree and the number of operations, respectively.\n\nIn the following $n-1$ lines, each contains two integers $u$ and $v$, representing an edge from vertex $u$ to $v$ in the tree.\n\nThen follow $q$ lines, each contains two integers $u$ and $v$, representing an operation that colors black to the points along the path from vertex $u$ to $v$.\n\nIt is guaranteed that the sum of $n$ and $q$ of all the test cases in a test does not exceed $2\\times 10^5$ respectively.", "outputFormat": "For each test case, output $q$ lines, each line should contain an integer representing the length of the longest simple path in the tree where all nodes on the path are the same color after the corresponding operation.", "hint": "", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Colorful Tree", "background": "", "description": "You are given a tree with $n$ nodes numbered from $1$ to $n$ and $n - 1$ edges. Each node has a color. Initially, all of them are white. \n\nWe are going to perform $q$ operations. In each operation, two vertices $u$ and $v$ will be given, and we will color black to the points along the simple path from $u$ to $v$ ($u,v$ inclusive). Note that a simple path in the tree is defined as a path that does not pass through any vertex more than once.\n\nAfter each operation, you are required to determine the length of the longest simple path in the tree where all nodes on the path are the same color. The length of a path is defined as the number of nodes on the path.", "inputFormat": "The first line contains a single integer $T$ ($1 \\le T \\le 100$) indicating the number of test cases.\n\nFor each test case, the first line contains two integers $n$ ($1 \\le n \\le 2\\times 10^5$) and $q$ ($1 \\le q \\le 2\\times 10^5$), indicating the number of nodes in the tree and the number of operations, respectively.\n\nIn the following $n-1$ lines, each contains two integers $u$ and $v$, representing an edge from vertex $u$ to $v$ in the tree.\n\nThen follow $q$ lines, each contains two integers $u$ and $v$, representing an operation that colors black to the points along the path from vertex $u$ to $v$.\n\nIt is guaranteed that the sum of $n$ and $q$ of all the test cases in a test does not exceed $2\\times 10^5$ respectively.", "outputFormat": "For each test case, output $q$ lines, each line should contain an integer representing the length of the longest simple path in the tree where all nodes on the path are the same color after the corresponding operation.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Colorful Tree", "background": "", "description": "给你一棵有 $n$ 个节点的树，节点编号从 $1$ 到 $n$，并且有 $n-1$ 条边。每个节点都有一个颜色。起初，所有节点的颜色都是白色。\n\n我们将进行 $q$ 次操作。在每次操作中，会给出两个顶点 $u$ 和 $v$，然后我们将沿着从 $u$ 到 $v$ 的简单路径上的所有节点（包括 $u$ 和 $v$）染成黑色。注意，树中的简单路径定义为路径上的任意顶点都不会被重复经过。\n\n在每次操作之后，你需要确定树中最长的简单路径，其路径上的所有节点的颜色相同。路径的长度定义为路径上的节点数目。", "inputFormat": "第一行包含一个整数 $T$ ($1 \\le T \\le 100$)，表示测试用例的数量。\n\n对于每个测试用例，第一行包含两个整数 $n$ ($1 \\le n \\le 2\\times 10^5$) 和 $q$ ($1 \\le q \\le 2\\times 10^5$)，分别表示树中节点的数量和操作的数量。\n\n紧接着$^{(1)}$的 $n-1$ 行中，每行包含两个整数 $u$ 和 $v$，表示树中顶点 $u$ 和 $v$ 之间的一条边。\n\n接下来 $q$ 行，每行包含两个整数 $u$ 和 $v$，表示将从顶点 $u$ 到顶点 $v$ 的路径上的所有节点染成黑色的操作。\n\n保证一个测试中所有测试用例的 $n$ 和 $q$ 的总和均不超过 $2\\times 10^5$。$^{(2)}$\n\n注释：\n- (1):也可以译为接下来，此处译者只是想区分下条的语句。\n- (2)可以用以下数学表达式表示：\n\n$$\n\\sum_{i=1}^{T} n_i \\leq 2 \\times 10^5 \\quad \\text{且} \\quad \\sum_{i=1}^{T} q_i \\leq 2 \\times 10^5\n$$\n\n其中 $n_i$ 和 $q_i$ 分别表示第 $i$ 个测试用例中的节点数量和操作数量。", "outputFormat": "对于每个测试用例，输出 $q$ 行，每行应包含一个整数，表示在执行相应操作后，树中所有节点颜色相同的最长简单路径的长度。\n\n\n翻译者：[Immunoglobules](https://www.luogu.com.cn/user/1066251)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10867", "type": "P", "difficulty": 4, "samples": [["3\n1 2 4", "332748120\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2024", "O2优化", "期望", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Points on the Number Axis A", "background": "", "description": "Alice is playing a single-player game on the number axis.\n\nThere are $n$ points on the number axis. Each time, the player selects two points. The two points will be removed, and their midpoint will be added. When there is only one point on the axis, the game ends. Formally, if the two chosen points is $x_i$ and $x_j$, then $\\dfrac{x_i+x_j}{2}$ will be added after the operation.\n\nIn order to play this game happily, Alice will always select two points randomly.\n\nNow Alice have a question: where is the expected position of the last point.\n\nIt can be proven that the answer can be expressed in the form $\\dfrac{p}{q}$, you only need to output the value of $p\\cdot q^{-1} \\bmod 998\\,244\\,353$.", "inputFormat": "The first line contains one integer $n$ ($1 \\le n \\le 10^6$).\n\nThe second line contains $n$ integers $x_i$ ($0 \\le x_1 \\le \\dots \\le x_n < 998\\,244\\,353$), denoting the position of the $i$-th point.\n\nNote that two points may be in the same position.", "outputFormat": "Output one integer, the answer modulo $998\\,244\\,353$.", "hint": "", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Points on the Number Axis A", "background": "", "description": "Alice is playing a single-player game on the number axis.\n\nThere are $n$ points on the number axis. Each time, the player selects two points. The two points will be removed, and their midpoint will be added. When there is only one point on the axis, the game ends. Formally, if the two chosen points is $x_i$ and $x_j$, then $\\dfrac{x_i+x_j}{2}$ will be added after the operation.\n\nIn order to play this game happily, Alice will always select two points randomly.\n\nNow Alice have a question: where is the expected position of the last point.\n\nIt can be proven that the answer can be expressed in the form $\\dfrac{p}{q}$, you only need to output the value of $p\\cdot q^{-1} \\bmod 998\\,244\\,353$.", "inputFormat": "The first line contains one integer $n$ ($1 \\le n \\le 10^6$).\n\nThe second line contains $n$ integers $x_i$ ($0 \\le x_1 \\le \\dots \\le x_n < 998\\,244\\,353$), denoting the position of the $i$-th point.\n\nNote that two points may be in the same position.", "outputFormat": "Output one integer, the answer modulo $998\\,244\\,353$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Points on the Number Axis A", "background": "", "description": "Alice 正在数轴上玩一个单人游戏。\n\n数轴上有 $n$ 个点。每次，玩家选择两个点。这两个点将被移除，并添加它们的中点。当数轴上只剩下一个点时，游戏结束。形式上，如果选择的两个点是 $x_i$ 和 $x_j$，那么在操作后将添加 $\\dfrac{x_i+x_j}{2}$。\n\n为了愉快地进行这个游戏，Alice 总是随机选择两个点。\n\n现在 Alice 有一个问题：最后一个点的期望位置在哪里。\n\n可以证明，答案可以表示成 $\\dfrac{p}{q}$ 的形式，你只需要输出 $p\\cdot q^{-1} \\bmod 998\\,244\\,353$ 的值。", "inputFormat": "第一行包含一个整数 $n$ ($1 \\le n \\le 10^6$)。\n\n第二行包含 $n$ 个整数 $x_i$ ($0 \\le x_1 \\le \\dots \\le x_n < 998\\,244\\,353$)，表示第 $i$ 个点的位置。\n\n注意，两个点可能在同一位置。", "outputFormat": "输出一个整数，即答案对 $998\\,244\\,353$ 取模后的结果。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10868", "type": "P", "difficulty": 6, "samples": [["3\n1 2 4", "623902723"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "数学", "2024", "O2优化", "期望", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] Points on the Number Axis B", "background": "", "description": "Bob is playing a single-player game on the number axis.\n\nThere are $n$ points on the number axis. Each time, the player selects two points. The two points will be removed, and their midpoint will be added. When there is only one point on the axis, the game ends. Formally, if the two chosen points is $x_i$ and $x_j$, then $\\dfrac{x_i+x_j}{2}$ will be added after the operation.\n\nIn order to play this game happily, Bob will always select two adjacent points randomly. Initially, the $i$-th point and the $(i+1)$-th point are adjacent. When Bob added a new point, it inherits its left point's left adjacent point and its right point's right adjacent point.\n\nNow Bob have a question: where is the expected position of the last point.\n\nIt can be proven that the answer can be expressed in the form $\\dfrac{p}{q}$, you only need to output the value of $p\\cdot q^{-1} \\bmod 998\\,244\\,353$.", "inputFormat": "The first line contains one integer $n$ ($1 \\le n \\le 10^6$).\n\nThe second line contains $n$ integers $x_i$ ($0 \\le x_1 \\le \\dots \\le x_n < 998\\,244\\,353$), describing the position of the $i$-th point.\n\nNote that two points may be in the same position.", "outputFormat": "Output one integer, the answer modulo $998\\,244\\,353$.", "hint": "", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] Points on the Number Axis B", "background": "", "description": "Bob is playing a single-player game on the number axis.\n\nThere are $n$ points on the number axis. Each time, the player selects two points. The two points will be removed, and their midpoint will be added. When there is only one point on the axis, the game ends. Formally, if the two chosen points is $x_i$ and $x_j$, then $\\dfrac{x_i+x_j}{2}$ will be added after the operation.\n\nIn order to play this game happily, Bob will always select two adjacent points randomly. Initially, the $i$-th point and the $(i+1)$-th point are adjacent. When Bob added a new point, it inherits its left point's left adjacent point and its right point's right adjacent point.\n\nNow Bob have a question: where is the expected position of the last point.\n\nIt can be proven that the answer can be expressed in the form $\\dfrac{p}{q}$, you only need to output the value of $p\\cdot q^{-1} \\bmod 998\\,244\\,353$.", "inputFormat": "The first line contains one integer $n$ ($1 \\le n \\le 10^6$).\n\nThe second line contains $n$ integers $x_i$ ($0 \\le x_1 \\le \\dots \\le x_n < 998\\,244\\,353$), describing the position of the $i$-th point.\n\nNote that two points may be in the same position.", "outputFormat": "Output one integer, the answer modulo $998\\,244\\,353$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] Points on the Number Axis B", "background": "", "description": "Bob 正在数轴上玩一个单人游戏。\n\n数轴上有 $n$ 个点。每次，玩家选择两个点。这两个点将被移除，并添加它们的中点。当数轴上只剩下一个点时，游戏结束。形式上，如果选择的两个点是 $x_i$ 和 $x_j$，那么在操作后将添加 $\\dfrac{x_i+x_j}{2}$。\n\n为了愉快地玩这个游戏，Bob 总是随机选择两个相邻的点。最初，第 $i$ 个点和第 $(i+1)$ 个点是相邻的。当 Bob 添加一个新点时，它继承其左点的左相邻点和其右点的右相邻点。\n\n现在 Bob 有一个问题：最后一个点的期望位置在哪里。\n\n可以证明，答案可以表示为 $\\dfrac{p}{q}$ 的形式，你只需要输出 $p\\cdot q^{-1} \\bmod 998\\,244\\,353$ 的值。", "inputFormat": "第一行包含一个整数 $n$ ($1 \\le n \\le 10^6$)。\n\n第二行包含 $n$ 个整数 $x_i$ ($0 \\le x_1 \\le \\dots \\le x_n < 998\\,244\\,353$)，描述第 $i$ 个点的位置。\n\n注意，两个点可能在同一位置。", "outputFormat": "输出一个整数，即答案对 $998\\,244\\,353$ 取模的结果。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10869", "type": "P", "difficulty": 3, "samples": [["3\n3 4\n10 15\n2 4", "10\n25\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2024", "O2优化", "最短路", "省赛/邀请赛", "湖北"], "title": "[HBCPC2024] LCMs", "background": "", "description": "Walk Alone has a number axis with only positive integers on it. The cost of walking from point on integer $a$ to point on integer $b$ is ${\\rm lcm}(a, b)$, where ${\\rm lcm}(a, b)$ means the least common multiple of integers $a$ and $b$. Due to the hatred of the integer $1$, Walk Alone forbids anyone from moving to points on integers $\\textbf{smaller than or equal to}$ $1$.\n\nGiven two integers $a$ and $b$, you need to calculate the minimal cost of walking from point on integer $a$ to $b$.", "inputFormat": "There are $T$ ($1 \\le T \\le 1000$) test cases.\n\nIn each test case, there is only one line containing two integers $a$ and $b$ ($2 \\le a \\le b \\le 10^7$), denoting the start and end point.", "outputFormat": "For each test case, output a single integer denoting the minimal cost.", "hint": "In the first test case, you can walk such a path: $3 \\to 2 \\to 4$, where the total cost is ${\\rm lcm}(3, 2) + {\\rm lcm}(2, 4) = 6 + 4 = 10$, which can be proved to be the minimum.", "locale": "en", "translations": {"en": {"title": "[HBCPC2024] LCMs", "background": "", "description": "Walk Alone has a number axis with only positive integers on it. The cost of walking from point on integer $a$ to point on integer $b$ is ${\\rm lcm}(a, b)$, where ${\\rm lcm}(a, b)$ means the least common multiple of integers $a$ and $b$. Due to the hatred of the integer $1$, Walk Alone forbids anyone from moving to points on integers $\\textbf{smaller than or equal to}$ $1$.\n\nGiven two integers $a$ and $b$, you need to calculate the minimal cost of walking from point on integer $a$ to $b$.", "inputFormat": "There are $T$ ($1 \\le T \\le 1000$) test cases.\n\nIn each test case, there is only one line containing two integers $a$ and $b$ ($2 \\le a \\le b \\le 10^7$), denoting the start and end point.", "outputFormat": "For each test case, output a single integer denoting the minimal cost.", "hint": "In the first test case, you can walk such a path: $3 \\to 2 \\to 4$, where the total cost is ${\\rm lcm}(3, 2) + {\\rm lcm}(2, 4) = 6 + 4 = 10$, which can be proved to be the minimum.", "locale": "en"}, "zh-CN": {"title": "[HBCPC2024] LCMs", "background": "", "description": "Walk Alone 有一个数轴，上面只有正整数。从整数 $a$ 走到整数 $b$ 的代价是 ${\\rm lcm}(a, b)$，其中 ${\\rm lcm}(a, b)$ 表示整数 $a$ 和 $b$ 的最小公倍数。由于对整数 $1$ 的厌恶，Walk Alone 禁止任何人移动到小于或等于 $1$ 的整数点上。\n\n给定两个整数 $a$ 和 $b$，你需要计算从整数 $a$ 到 $b$ 的最小行走代价。", "inputFormat": "有 $T$ 个测试用例（$1 \\le T \\le 1000$）。\n\n在每个测试用例中，只有一行包含两个整数 $a$ 和 $b$（$2 \\le a \\le b \\le 10^7$），表示起点和终点。", "outputFormat": "对于每个测试用例，输出一个整数，表示最小代价。", "hint": "在第一个测试用例中，你可以选择这样的路径：$3 \\to 2 \\to 4$，总代价为 ${\\rm lcm}(3, 2) + {\\rm lcm}(2, 4) = 6 + 4 = 10$，这可以被证明是最小的。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10871", "type": "P", "difficulty": 6, "samples": [["1", "1\n1 1\n\n"], ["2", "1\n1 1\n"], ["3", "9\n2 3\n3 1\n2 2\n1 1\n3 3\n3 2\n1 2\n1 3\n2 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2022", "Special Judge", "O2优化", "构造", "COTS（克罗地亚）"], "title": "[COTS 2022] 皇后  Kraljice", "background": "\n译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D1T1。$\\texttt{1s,0.5G}$。\n\n", "description": "有一块 $N\\times N$ 的国际象棋棋盘，**依次**在空格子上放置皇后，最大化放置皇后的数量。你需要构造一组方案。\n\n能在一个格子上放置皇后，当且仅当这个格子被偶数个皇后攻击。\n\n一个皇后攻击一个格子，当且仅当皇后所在的格子与被攻击格子处于同一行/列/对角线上。", "inputFormat": "一行一个整数 $N$。", "outputFormat": "第一行一个整数 $K$，表示能放置的最多皇后数量。\n\n接下来 $K$ 行，每行两个整数 $x,y$，描述放置皇后的位置。", "hint": "\n### 样例解释\n\n样例 $3$ 解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qr1b2kcs.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 2^{10}$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $6$  | $1\\le N\\le 2^4$  |\n| $2$  | $11$  | $1\\le N\\le 2^6$  |\n| $3$  | $28$  | $1\\le N\\le 2^8$ |\n| $4$  | $55$  | 无额外约束 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2022] 皇后  Kraljice", "background": "\n译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D1T1。$\\texttt{1s,0.5G}$。\n\n", "description": "有一块 $N\\times N$ 的国际象棋棋盘，**依次**在空格子上放置皇后，最大化放置皇后的数量。你需要构造一组方案。\n\n能在一个格子上放置皇后，当且仅当这个格子被偶数个皇后攻击。\n\n一个皇后攻击一个格子，当且仅当皇后所在的格子与被攻击格子处于同一行/列/对角线上。", "inputFormat": "一行一个整数 $N$。", "outputFormat": "第一行一个整数 $K$，表示能放置的最多皇后数量。\n\n接下来 $K$ 行，每行两个整数 $x,y$，描述放置皇后的位置。", "hint": "\n### 样例解释\n\n样例 $3$ 解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qr1b2kcs.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 2^{10}$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $6$  | $1\\le N\\le 2^4$  |\n| $2$  | $11$  | $1\\le N\\le 2^6$  |\n| $3$  | $28$  | $1\\le N\\le 2^8$ |\n| $4$  | $55$  | 无额外约束 |\n", "locale": "zh-CN"}}}
{"pid": "P10872", "type": "P", "difficulty": 6, "samples": [["6 4 3", "2\n011011\n101010"], ["5 2 0", "0\n01001\n00000"], ["10 7 6", "5\n1101100111\n1110001101"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["贪心", "2022", "Special Judge", "O2优化", "位运算", "构造", "Ad-hoc", "COTS（克罗地亚）"], "title": "[COTS 2022] 移位 Maliand", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D1T2。$\\texttt{2s,0.5G}$。\t\n\n[SPJ link](https://www.luogu.com.cn/paste/9qlivbk0)。", "description": "\n给定非负整数 $N,K,L$，试构造两个 $01$ 序列 $S,T$，满足：\n\n- $S,T$ 的长度为 $N$；\n- $S$ 中恰好有 $K$ 个 $1$，$T$ 中恰有 $L$ 个 $1$；\n- $f(S,T)$ 是所有可能的 $f(S,T)$ 中最小的。\n\n定义 $f(S,T)$ 为**任意**循环移位 $S,T$ 后，$\\sum_{i=1}^{N} S_i\\operatorname{and} T_i$  的最大值，其中 $\\mathrm{and}$ 表示按位与运算。\n\n请你构造出 $S,T$。", "inputFormat": "一行三个整数 $N,K,L$。", "outputFormat": "第一行一个整数 $F$，表示 $f(S,T)$ 的最小值；\n\n接下来两行分别描述序列 $S,T$。相邻元素之间不需要加空格。\n\n若有多解，输出任意一个均可。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 5\\times 10^5$，$0\\le K,L\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $5$  | $1\\le N\\le 13$  |\n| $2$  | $50$  | $1\\le N\\le 5\\, 000$  |\n| $3$  | $45$  | 无额外约束 |\n\n\n【评分方式】\n\n如果你回答对了 $F$，可以得到 $20\\%$ 的分数；\n\n在此基础下，如果你的 $S,T$ 满足条件，将获得剩下 $80\\%$ 的分数。\n\n如果只打算回答第一问，也要任意输出两个符合条件 $1,2$ 的 $01$ 序列，否则不保证能得到分数。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2022] 移位 Maliand", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D1T2。$\\texttt{2s,0.5G}$。\t\n\n[SPJ link](https://www.luogu.com.cn/paste/9qlivbk0)。", "description": "\n给定非负整数 $N,K,L$，试构造两个 $01$ 序列 $S,T$，满足：\n\n- $S,T$ 的长度为 $N$；\n- $S$ 中恰好有 $K$ 个 $1$，$T$ 中恰有 $L$ 个 $1$；\n- $f(S,T)$ 是所有可能的 $f(S,T)$ 中最小的。\n\n定义 $f(S,T)$ 为**任意**循环移位 $S,T$ 后，$\\sum_{i=1}^{N} S_i\\operatorname{and} T_i$  的最大值，其中 $\\mathrm{and}$ 表示按位与运算。\n\n请你构造出 $S,T$。", "inputFormat": "一行三个整数 $N,K,L$。", "outputFormat": "第一行一个整数 $F$，表示 $f(S,T)$ 的最小值；\n\n接下来两行分别描述序列 $S,T$。相邻元素之间不需要加空格。\n\n若有多解，输出任意一个均可。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 5\\times 10^5$，$0\\le K,L\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $5$  | $1\\le N\\le 13$  |\n| $2$  | $50$  | $1\\le N\\le 5\\, 000$  |\n| $3$  | $45$  | 无额外约束 |\n\n\n【评分方式】\n\n如果你回答对了 $F$，可以得到 $20\\%$ 的分数；\n\n在此基础下，如果你的 $S,T$ 满足条件，将获得剩下 $80\\%$ 的分数。\n\n如果只打算回答第一问，也要任意输出两个符合条件 $1,2$ 的 $01$ 序列，否则不保证能得到分数。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P10873", "type": "P", "difficulty": 6, "samples": [["2", "BC\nCC"], ["3", "BBCC\nBCBC\nBBCC"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2022", "Special Judge", "O2优化", "欧拉回路", "构造", "Ad-hoc", "COTS（克罗地亚）"], "title": "[COTS 2022] 帽子 Šeširi", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D1T3。$\\texttt{3s,0.5G}$。\n\n喜欢小圆！\n\n", "description": "$N$ 个 OIer 头上戴着红色或者白色的帽子。每个人只能看到别人的帽子颜色，他们会根据别人的帽子颜色猜测自己头上帽子的颜色。\n\n他们想要构造一组猜测策略，满足以下条件：\n\n- 设有 $b$ 人戴了白色帽子，其中**至少**有 $\\lfloor\\frac{b}{2}\\rfloor$ 人猜对自己帽子的颜色。\n- 设有 $c$ 人戴了红色帽子，其中**至少**有 $\\lfloor\\frac{c}{2}\\rfloor$ 人猜对自己帽子的颜色。\n\n请帮助他们找到一种策略，使得在 $2^N$ 种可能的情况中都满足条件。", "inputFormat": "一行一个整数 $N$。", "outputFormat": "输出 $N$ 行，每行一个长度为 $2^{N-1}$ 的字符串，由 $\\texttt{B},\\texttt{C}$ 组成。\n\n第 $i$ 行的字符串描述了第 $i$ 个 OIer 的策略。具体地说：\n\n- 定义 $f(S)$ 为：将所有长度为 $(N-1)$ 的由 $\\texttt{B},\\texttt{C}$ 组成的字符串按照字典序排序后，$S$ 的排名。\n- 记 $x$ 为第 $i$ 行输出的字符串，$s_i\\in \\{\\texttt{B},\\texttt{C}\\}$ 为第 $i$ 个 OIer 头上戴的帽子颜色。其中 $\\texttt{B}$ 是白色（克罗地亚语「bijela」），$\\texttt{C}$ 是红色（克罗地亚语「crvena」）。\n- 记 $y=\\overline{s_1s_{2}\\cdots s_{i-1}s_{i+1}\\cdots s_n}$。注意左边是高位。\n- 第 $i$ 个 OIer 会猜测的颜色为 $x_{f(y)}$。\n\n可参阅【样例解释】。", "hint": "\n#### 样例解释\n\n以样例 $2$ 为例。\n\n当 $s=\\texttt{CCC}$ 时，对于第 $1$ 个 OIer，$x=\\texttt{BBCC}$，$y=\\texttt{CC}$。显然 $f(y)=4$，所以他会猜测 $x_4=\\texttt{C}$。\n\n#### 计分方式\n\n| 测试点编号 | $N=$ | 分值 |\n|:-----:|:------:|:-------:|\n| $1$  | $4$  | $7$  |\n| $2$  | $5$  | $7$  |\n| $3$  | $6$  | $7$  |\n| $4$  | $7$  | $7$  |\n| $5$  | $8$  | $7$  |\n| $6$  | $9$  | $7$  |\n| $7$  | $10$  | $7$  |\n| $8$  | $11$  | $7$  |\n| $9$  | $12$  | $7$  |\n| $10$  | $13$  | $7$  |\n| $11$  | $14$  | $6$  |\n| $12$  | $15$  | $6$  |\n| $13$  | $16$  | $6$  |\n| $14$  | $17$  | $6$  |\n| $15$  | $18$  | $6$  |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2022] 帽子 Šeširi", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D1T3。$\\texttt{3s,0.5G}$。\n\n喜欢小圆！\n\n", "description": "$N$ 个 OIer 头上戴着红色或者白色的帽子。每个人只能看到别人的帽子颜色，他们会根据别人的帽子颜色猜测自己头上帽子的颜色。\n\n他们想要构造一组猜测策略，满足以下条件：\n\n- 设有 $b$ 人戴了白色帽子，其中**至少**有 $\\lfloor\\frac{b}{2}\\rfloor$ 人猜对自己帽子的颜色。\n- 设有 $c$ 人戴了红色帽子，其中**至少**有 $\\lfloor\\frac{c}{2}\\rfloor$ 人猜对自己帽子的颜色。\n\n请帮助他们找到一种策略，使得在 $2^N$ 种可能的情况中都满足条件。", "inputFormat": "一行一个整数 $N$。", "outputFormat": "输出 $N$ 行，每行一个长度为 $2^{N-1}$ 的字符串，由 $\\texttt{B},\\texttt{C}$ 组成。\n\n第 $i$ 行的字符串描述了第 $i$ 个 OIer 的策略。具体地说：\n\n- 定义 $f(S)$ 为：将所有长度为 $(N-1)$ 的由 $\\texttt{B},\\texttt{C}$ 组成的字符串按照字典序排序后，$S$ 的排名。\n- 记 $x$ 为第 $i$ 行输出的字符串，$s_i\\in \\{\\texttt{B},\\texttt{C}\\}$ 为第 $i$ 个 OIer 头上戴的帽子颜色。其中 $\\texttt{B}$ 是白色（克罗地亚语「bijela」），$\\texttt{C}$ 是红色（克罗地亚语「crvena」）。\n- 记 $y=\\overline{s_1s_{2}\\cdots s_{i-1}s_{i+1}\\cdots s_n}$。注意左边是高位。\n- 第 $i$ 个 OIer 会猜测的颜色为 $x_{f(y)}$。\n\n可参阅【样例解释】。", "hint": "\n#### 样例解释\n\n以样例 $2$ 为例。\n\n当 $s=\\texttt{CCC}$ 时，对于第 $1$ 个 OIer，$x=\\texttt{BBCC}$，$y=\\texttt{CC}$。显然 $f(y)=4$，所以他会猜测 $x_4=\\texttt{C}$。\n\n#### 计分方式\n\n| 测试点编号 | $N=$ | 分值 |\n|:-----:|:------:|:-------:|\n| $1$  | $4$  | $7$  |\n| $2$  | $5$  | $7$  |\n| $3$  | $6$  | $7$  |\n| $4$  | $7$  | $7$  |\n| $5$  | $8$  | $7$  |\n| $6$  | $9$  | $7$  |\n| $7$  | $10$  | $7$  |\n| $8$  | $11$  | $7$  |\n| $9$  | $12$  | $7$  |\n| $10$  | $13$  | $7$  |\n| $11$  | $14$  | $6$  |\n| $12$  | $15$  | $6$  |\n| $13$  | $16$  | $6$  |\n| $14$  | $17$  | $6$  |\n| $15$  | $18$  | $6$  |\n\n", "locale": "zh-CN"}}}
{"pid": "P10874", "type": "P", "difficulty": 7, "samples": [["0 2\n2 3 1 1 2 2\n3 3 1 1 3 3", "*--o--o\n      |\no  *--o\n*  o--o\n|  |  |\no  o  o\n|  |  |\no--o  *"], ["0 2\n2 3 1 1 2 2\n3 3 1 1 3 3", "*--o  o\n   |\no  *  o\n*  o  o\n|\no  o--o\n|  |  |\no--o  *"], ["1 2\n2 3 1 1 2 2\n3 3 1 1 3 3", "5\n9"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000]}, "tags": ["2022", "Special Judge", "O2优化", "构造", "COTS（克罗地亚）"], "title": "[COTS 2022] 旅程 Dugput（非官方数据）", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D2T1。$\\texttt{5s,0.5G}$。\n\n\n- **输入格式有微调。**\n- **官方数据有误。** 部分 out 文件是使用树姐姐 [\t\nhhoppitree](https://www.luogu.com.cn/user/183609) 的代码生成的。如果出现了分数 $\\gt 100$ 的情况，欢迎联系搬题人更新数据。\n", "description": "\n构造一个 $N\\times M$ 的网格图，边权均为 $1$，每条边可以存在或者不存在。\n\n在连通的前提下，最大化 $(A,B)$ 到 $(C,D)$ 的最短路长度。\n\n**此处路径长度定义为路径经过的节点个数。**", "inputFormat": "**本题单个测试点内含有多组测试数据。**\n\n第一行，两个整数 $\\mathrm{type},T$，表示测试数据类型和测试数据组数。\n\n接下来 $T$ 行，每行 $6$ 个整数 $N,M,A,B,C,D$，含义见题面。", "outputFormat": "每组测试数据输出若干行。\n\n- $\\mathrm{type}=0$：「构造」类数据\n\n此类数据中，你需要构造一个网格图。输出 $(2N-1)$ 行，每行 $(3M-2)$ 个字符。\n\n其中，第 $(2i-1)$ 行的第 $(3j-2)$ 个字符代表点 $(i,j)$。当 $(i,j)=(A,B)$ 或 $(S,T)$ 时，用 `*`（ASCII 42）表示；否则用 `o`（ASCII 111）表示。\n\n对于同一行的两个点 $(i,j),(i,j+1)$，若有边，则用 `--`（ASCII 45）填充它们之间的两个空格；否则不填充。\n\n对于同一列的两个点 $(i,j),(i+1,j)$，若有边，则用 `|`（ASCII 124）填充它们之间的一个空格；否则不填充。\n\n未填充的区域均用空格补齐。不要输出多余的空格和空行。\n\n可参阅样例输出。\n\n- $\\mathrm{type}=1$：「传统」类数据\n\n只需要输出一行一个整数，表示最短的最长路长度。", "hint": "\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N,M\\le 5\\, 000$；\n- $1\\le T\\le 1\\, 600$；\n- $1\\le A,C\\le N$，$1\\le B,D\\le M$；\n- $(A,B)\\neq (C,D)$。\n\n| 子任务编号 | $N\\cdot M\\in $ | $M\\le $ | $\\mathrm{type}=$ | 分值 | \n|:-----:|:------:| :----: | :--: | :--: |\n| $1$  | $[2,100]$  | $5\\, 000$ | $0$ | $20$ | \n| $2$  | $[2,1\\, 000]$  | $5\\, 000$  | $0$ | $25$ |\n| $3$  | $[2,15\\, 000]$  | $3$  | $0$ | $15$ |\n| $4$  | $[2,100\\, 000]$  | $5\\, 000$  | $0$ | $25$ | \n| $5$  | $[2,100\\, 000]$  | $5\\, 000$  | $1$ | $15$ |\n\n【评分方式】\n\n\n- $\\mathrm{type}=0$：「构造」类数据\n\n记 $d_i$ 为第 $i$ 组测试数据中，你构造的方案中的最短路长度，$D_i$ 为可能的最长最短路长度。记\n\n$$K=\\frac{1}{Q}\\sum_{i=1}^Q\\frac{d_i}{D_i}$$\n\n当 $K=1$ 时，该测试点得满分；否则得 $0.7\\cdot K$ 倍测试点得分的分数。\n\n每个子任务的得分为所有测试点得分的 $\\min$。\n\n例如，样例 $1$ 的输出得满分；对于样例 $2$，$\\displaystyle k=\\frac{1}{2}\\left(\\frac{3}{5}+\\frac{5}{9}\\right)=\\frac{31}{45}$，将得到 $\\displaystyle 0.7\\cdot \\frac{31}{45}\\approx 0.482$ 倍测试点得分的分数。\n\n- $\\mathrm{type}=1$：「传统」类数据\n\n和传统题评分方式相同。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2022] 旅程 Dugput（非官方数据）", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D2T1。$\\texttt{5s,0.5G}$。\n\n\n- **输入格式有微调。**\n- **官方数据有误。** 部分 out 文件是使用树姐姐 [\t\nhhoppitree](https://www.luogu.com.cn/user/183609) 的代码生成的。如果出现了分数 $\\gt 100$ 的情况，欢迎联系搬题人更新数据。\n", "description": "\n构造一个 $N\\times M$ 的网格图，边权均为 $1$，每条边可以存在或者不存在。\n\n在连通的前提下，最大化 $(A,B)$ 到 $(C,D)$ 的最短路长度。\n\n**此处路径长度定义为路径经过的节点个数。**", "inputFormat": "**本题单个测试点内含有多组测试数据。**\n\n第一行，两个整数 $\\mathrm{type},T$，表示测试数据类型和测试数据组数。\n\n接下来 $T$ 行，每行 $6$ 个整数 $N,M,A,B,C,D$，含义见题面。", "outputFormat": "每组测试数据输出若干行。\n\n- $\\mathrm{type}=0$：「构造」类数据\n\n此类数据中，你需要构造一个网格图。输出 $(2N-1)$ 行，每行 $(3M-2)$ 个字符。\n\n其中，第 $(2i-1)$ 行的第 $(3j-2)$ 个字符代表点 $(i,j)$。当 $(i,j)=(A,B)$ 或 $(S,T)$ 时，用 `*`（ASCII 42）表示；否则用 `o`（ASCII 111）表示。\n\n对于同一行的两个点 $(i,j),(i,j+1)$，若有边，则用 `--`（ASCII 45）填充它们之间的两个空格；否则不填充。\n\n对于同一列的两个点 $(i,j),(i+1,j)$，若有边，则用 `|`（ASCII 124）填充它们之间的一个空格；否则不填充。\n\n未填充的区域均用空格补齐。不要输出多余的空格和空行。\n\n可参阅样例输出。\n\n- $\\mathrm{type}=1$：「传统」类数据\n\n只需要输出一行一个整数，表示最短的最长路长度。", "hint": "\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N,M\\le 5\\, 000$；\n- $1\\le T\\le 1\\, 600$；\n- $1\\le A,C\\le N$，$1\\le B,D\\le M$；\n- $(A,B)\\neq (C,D)$。\n\n| 子任务编号 | $N\\cdot M\\in $ | $M\\le $ | $\\mathrm{type}=$ | 分值 | \n|:-----:|:------:| :----: | :--: | :--: |\n| $1$  | $[2,100]$  | $5\\, 000$ | $0$ | $20$ | \n| $2$  | $[2,1\\, 000]$  | $5\\, 000$  | $0$ | $25$ |\n| $3$  | $[2,15\\, 000]$  | $3$  | $0$ | $15$ |\n| $4$  | $[2,100\\, 000]$  | $5\\, 000$  | $0$ | $25$ | \n| $5$  | $[2,100\\, 000]$  | $5\\, 000$  | $1$ | $15$ |\n\n【评分方式】\n\n\n- $\\mathrm{type}=0$：「构造」类数据\n\n记 $d_i$ 为第 $i$ 组测试数据中，你构造的方案中的最短路长度，$D_i$ 为可能的最长最短路长度。记\n\n$$K=\\frac{1}{Q}\\sum_{i=1}^Q\\frac{d_i}{D_i}$$\n\n当 $K=1$ 时，该测试点得满分；否则得 $0.7\\cdot K$ 倍测试点得分的分数。\n\n每个子任务的得分为所有测试点得分的 $\\min$。\n\n例如，样例 $1$ 的输出得满分；对于样例 $2$，$\\displaystyle k=\\frac{1}{2}\\left(\\frac{3}{5}+\\frac{5}{9}\\right)=\\frac{31}{45}$，将得到 $\\displaystyle 0.7\\cdot \\frac{31}{45}\\approx 0.482$ 倍测试点得分的分数。\n\n- $\\mathrm{type}=1$：「传统」类数据\n\n和传统题评分方式相同。\n\n", "locale": "zh-CN"}}}
{"pid": "P10875", "type": "P", "difficulty": 5, "samples": [["3 3\n1 2\n2 3\n3 1\n1\n1 2", "3"], ["3 4\n1 2\n1 2\n2 3\n2 3\n3\n1 2\n2 3\n3 1", "2\n4\n4"], ["6 7\n1 2\n2 3\n3 4\n2 5\n3 5\n4 5\n1 3\n5\n1 3\n2 3\n4 5\n1 4\n2 6", "7\n5\n6\n7\n-1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2022", "O2优化", "生成树", "分块", "整体二分", "启发式合并", "COTS（克罗地亚）"], "title": "[COTS 2022] 游戏 M", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D2T2。$\\texttt{3s,0.5G}$。", "description": "\n有一张 $N$ 个节点的无向图，依次向图中添加 $M$ 条边。\n\n有 $Q$ 个询问，每次询问给定 $u,v$，问：至少添加前多少条边，才能使得 $u,v$ 间没有割边（换言之，割去任意一条边，都不影响 $u,v$ 的连通性）。特别地，如果 $u,v$ 始终不连通或者始终有割边，则输出 $-1$。\n", "inputFormat": "第一行，两个整数 $N,M$，含义见题面；\n\n接下来 $M$ 行，第 $i$ 行包含两个整数 $s_i,t_i$，表示第 $i$ 条边为 $(s_i,t_i)$。\n\n第 $(M+2)$ 行，一个整数 $Q$，含义见题面；\n\n接下来 $Q$ 行，每行两个整数 $u,v$，描述一个询问。", "outputFormat": "\n输出 $Q$ 行，每行一个整数，表示询问的答案。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le N \\le 3\\times 10^5$，$0\\le M\\le 3\\times 10^5$，$1\\le Q\\le 3\\times 10^5$；\n- $s_i\\neq t_i$，$u\\neq v$；\n- $1\\le u,v,s_i,t_i\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $10$  | $Q=1$  |\n| $2$  | $20$  | $2\\mid M$，$(s_{2i-1},t_{2i-1})=(s_{2i},t_{2i})$  |\n| $3$  | $30$  | $N,M\\le 5\\, 000$ |\n| $4$  | $40$  | 无额外约束 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2022] 游戏 M", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D2T2。$\\texttt{3s,0.5G}$。", "description": "\n有一张 $N$ 个节点的无向图，依次向图中添加 $M$ 条边。\n\n有 $Q$ 个询问，每次询问给定 $u,v$，问：至少添加前多少条边，才能使得 $u,v$ 间没有割边（换言之，割去任意一条边，都不影响 $u,v$ 的连通性）。特别地，如果 $u,v$ 始终不连通或者始终有割边，则输出 $-1$。\n", "inputFormat": "第一行，两个整数 $N,M$，含义见题面；\n\n接下来 $M$ 行，第 $i$ 行包含两个整数 $s_i,t_i$，表示第 $i$ 条边为 $(s_i,t_i)$。\n\n第 $(M+2)$ 行，一个整数 $Q$，含义见题面；\n\n接下来 $Q$ 行，每行两个整数 $u,v$，描述一个询问。", "outputFormat": "\n输出 $Q$ 行，每行一个整数，表示询问的答案。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le N \\le 3\\times 10^5$，$0\\le M\\le 3\\times 10^5$，$1\\le Q\\le 3\\times 10^5$；\n- $s_i\\neq t_i$，$u\\neq v$；\n- $1\\le u,v,s_i,t_i\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $10$  | $Q=1$  |\n| $2$  | $20$  | $2\\mid M$，$(s_{2i-1},t_{2i-1})=(s_{2i},t_{2i})$  |\n| $3$  | $30$  | $N,M\\le 5\\, 000$ |\n| $4$  | $40$  | 无额外约束 |", "locale": "zh-CN"}}}
{"pid": "P10876", "type": "P", "difficulty": 6, "samples": [["4\n0 0\n0 10\n10 0\n10 10", "Alenka"], ["5\n2 1\n1 3\n6 4\n3 5\n5 2", "Alenka"], ["4\n4 2\n2 4\n2 2\n1 1", "Bara"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["博弈论", "2022", "O2优化", "凸包", "COTS（克罗地亚）"], "title": "[COTS 2022] 点组 Točkice", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D2T3。$\\texttt{1s,0.5G}$。", "description": "平面上有 $N$ 个点 $(x_i,y_i)$，无三点共线，两个人轮流操作，每次选择两个点连一条线段，要求不与之前的线段在非顶点处相交，无法操作者输，问先手必胜还是后手必胜。", "inputFormat": "第一行，一个整数 $N$；\n\n接下来 $N$ 行，每行两个整数 $x_i,y_i$。", "outputFormat": "如果 A（先手）胜，输出 `Alenka`；否则输出 `Bara`。", "hint": "对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^5$；\n- $1\\le x_i,y_i\\le 10^6$；\n- 任意三点不共线。\n\n| 子任务编号 | 分值 | $N\\le$ |\n|:-----:|:------:|:-------:|\n| $1$  | $13$  | $7$  |\n| $2$  | $17$  | $300$  |\n| $3$  | $21$  | $1\\, 000$ |\n| $4$  | $49$  | $10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2022] 点组 Točkice", "background": "译自 [Izborne Pripreme 2022 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2022/) D2T3。$\\texttt{1s,0.5G}$。", "description": "平面上有 $N$ 个点 $(x_i,y_i)$，无三点共线，两个人轮流操作，每次选择两个点连一条线段，要求不与之前的线段在非顶点处相交，无法操作者输，问先手必胜还是后手必胜。", "inputFormat": "第一行，一个整数 $N$；\n\n接下来 $N$ 行，每行两个整数 $x_i,y_i$。", "outputFormat": "如果 A（先手）胜，输出 `Alenka`；否则输出 `Bara`。", "hint": "对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^5$；\n- $1\\le x_i,y_i\\le 10^6$；\n- 任意三点不共线。\n\n| 子任务编号 | 分值 | $N\\le$ |\n|:-----:|:------:|:-------:|\n| $1$  | $13$  | $7$  |\n| $2$  | $17$  | $300$  |\n| $3$  | $21$  | $1\\, 000$ |\n| $4$  | $49$  | $10^5$ |", "locale": "zh-CN"}}}
