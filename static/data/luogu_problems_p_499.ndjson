{"pid": "P11123", "type": "P", "difficulty": 6, "samples": [["5 2 1\n1 2\n1 3\n2 4\n2 5", "1 1 2 2 2"], ["3 1 0\n1 2\n2 3", "1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 树根 (Day 1)", "background": "翻译自 [ROIR 2024 D1T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。\n\n给定一棵由 $n$ 个节点构成的树和一个数 $k$。固定树中的某个节点 $s$，并令其为根。\n\n将树的边定向从树根出发。换句话说，将边 $(u, v)$ 定向为 $u \\to v$，如果在以 $s$ 为根时，节点 $u$ 是节点 $v$ 的父节点。在这种定向下，每个节点都可以从根到达。\n\n定义节点 $v$ 到节点 $s$ 的距离为从 $s$ 到 $v$ 的最短路径上边的数量。定义节点 $s$ 的可达性为所有节点到节点 $s$ 的距离中的最大值。", "description": "允许在树中增加不超过 $k$ 条额外的有向边。对于树中的每个节点 $s$，确定如果选择节点 $s$ 作为树根，能够达到的最小可达性是多少。\n\n注意，在某些子任务中，只需要输出顶点编号为 $1$ 的答案。", "inputFormat": "第一行包含三个整数 $n$，$k$ 和 $t$ （$2 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k \\leq n - 1$，$n \\times k \\leq 2 \\times 10^5$，$0 \\leq t \\leq 1$），分别表示树的顶点数量、额外添加的有向边的最大数量限制和一个整数 $t$，如果 $t$ 为 $0$，则只需输出顶点编号为 $1$ 的答案；如果 $t$ 为 $1$，则输出所有顶点的答案。\n\n接下来的 $n - 1$ 行每行包含两个整数 $u_i$ 和 $v_i$ （$1 \\leq u_i, v_i \\leq n$），表示树的一条边。\n\n保证所给的边构成一棵树。", "outputFormat": "如果 $t = 0$，输出一个整数，即选择顶点编号为 $1$ 作为树根，并且增加不超过 $k$ 条额外的有向边时，可以达到的最小可达性。\n\n如果 $t = 1$，输出 $n$ 个数，第 $i$ 个数表示选择顶点 $i$ 作为树根，并且增加不超过 $k$ 条额外的有向边时，可以达到的最小可达性。", "hint": "下图给出了第一个样例的图片。虚线表示添加的边。对于顶点 $1$ 和 $2$，最小可达性为 $1$；对于顶点 $3$，$4$ 和 $5$，最小可达性为 $2$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ubpdvqtn.png)\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $u_i=i,v_i=i+1,t=0$ |\n| $2$ | $5$ | $k=1,n\\le2000,t=0$ |\n| $3$ | $10$ | $k=1,t=0$ |\n| $4$ | $5$ | $u_i=i,v_i=i+1$ |\n| $5$ | $5$ | $n\\le16$ |\n| $6$ | $10$ | $n\\le50$ |\n| $7$ | $10$ | $n\\le400$ |\n| $8$ | $10$ | $n\\le2000$ |\n| $9$ | $25$ | $n\\times k\\le50000$ |\n| $10$ | $15$ | 无 |\n\n对于 $100\\%$ 的数据，$2 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k \\leq n - 1$，$n \\times k \\leq 2 \\times 10^5$，$0 \\leq t \\leq 1$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 树根 (Day 1)", "background": "翻译自 [ROIR 2024 D1T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day1.pdf)。\n\n给定一棵由 $n$ 个节点构成的树和一个数 $k$。固定树中的某个节点 $s$，并令其为根。\n\n将树的边定向从树根出发。换句话说，将边 $(u, v)$ 定向为 $u \\to v$，如果在以 $s$ 为根时，节点 $u$ 是节点 $v$ 的父节点。在这种定向下，每个节点都可以从根到达。\n\n定义节点 $v$ 到节点 $s$ 的距离为从 $s$ 到 $v$ 的最短路径上边的数量。定义节点 $s$ 的可达性为所有节点到节点 $s$ 的距离中的最大值。", "description": "允许在树中增加不超过 $k$ 条额外的有向边。对于树中的每个节点 $s$，确定如果选择节点 $s$ 作为树根，能够达到的最小可达性是多少。\n\n注意，在某些子任务中，只需要输出顶点编号为 $1$ 的答案。", "inputFormat": "第一行包含三个整数 $n$，$k$ 和 $t$ （$2 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k \\leq n - 1$，$n \\times k \\leq 2 \\times 10^5$，$0 \\leq t \\leq 1$），分别表示树的顶点数量、额外添加的有向边的最大数量限制和一个整数 $t$，如果 $t$ 为 $0$，则只需输出顶点编号为 $1$ 的答案；如果 $t$ 为 $1$，则输出所有顶点的答案。\n\n接下来的 $n - 1$ 行每行包含两个整数 $u_i$ 和 $v_i$ （$1 \\leq u_i, v_i \\leq n$），表示树的一条边。\n\n保证所给的边构成一棵树。", "outputFormat": "如果 $t = 0$，输出一个整数，即选择顶点编号为 $1$ 作为树根，并且增加不超过 $k$ 条额外的有向边时，可以达到的最小可达性。\n\n如果 $t = 1$，输出 $n$ 个数，第 $i$ 个数表示选择顶点 $i$ 作为树根，并且增加不超过 $k$ 条额外的有向边时，可以达到的最小可达性。", "hint": "下图给出了第一个样例的图片。虚线表示添加的边。对于顶点 $1$ 和 $2$，最小可达性为 $1$；对于顶点 $3$，$4$ 和 $5$，最小可达性为 $2$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ubpdvqtn.png)\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $u_i=i,v_i=i+1,t=0$ |\n| $2$ | $5$ | $k=1,n\\le2000,t=0$ |\n| $3$ | $10$ | $k=1,t=0$ |\n| $4$ | $5$ | $u_i=i,v_i=i+1$ |\n| $5$ | $5$ | $n\\le16$ |\n| $6$ | $10$ | $n\\le50$ |\n| $7$ | $10$ | $n\\le400$ |\n| $8$ | $10$ | $n\\le2000$ |\n| $9$ | $25$ | $n\\times k\\le50000$ |\n| $10$ | $15$ | 无 |\n\n对于 $100\\%$ 的数据，$2 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k \\leq n - 1$，$n \\times k \\leq 2 \\times 10^5$，$0 \\leq t \\leq 1$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P11124", "type": "P", "difficulty": 3, "samples": [["4\n1 2 3 4", "2 1 1 2"], ["1\n20", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 数组划分 (Day 2)", "background": "翻译自 [ROIR 2024 D2T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。", "description": "给定一个数组 $A = [a_1, a_2, \\dots, a_n]$，其中包含 $n$ 个正整数。\n\n需要将数组元素涂成两种颜色，使得任意两个同一颜色的元素 $x$ 和 $y$ 不满足以下条件：\n- $x=p\\times y$，其中 $p$ 是一个素数。\n\n保证存在这样的涂色方案。", "inputFormat": "第一行包含一个整数 $n$（$1 \\leq n \\leq 10^5$），表示数组的元素个数。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\dots, a_n$（$1 \\leq a_i \\leq 10^6$），即数组中的元素。", "outputFormat": "输出数组的划分方案。具体地，输出一行 $n$ 个整数，如果第 $i$ 个数字为 $1$，表示第 $i$ 个元素应涂成第一种颜色；如果为 $2$，则表示第 $i$ 个元素应涂成第二种颜色。\n\n如果存在多个合适的划分方案，可以输出其中任何一个。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $9$ | $a_i\\le2$ |\n| $2$ | $19$ | $a_i=p^k$，其中 $p$ 是素数 |\n| $3$ | $12$ | $a_i\\le3$ |\n| $4$ | $13$ | $a_i\\le4$ |\n| $5$ | $21$ | $n\\le10$ |\n| $6$ | $26$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^5$，$1 \\leq a_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 数组划分 (Day 2)", "background": "翻译自 [ROIR 2024 D2T1](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。", "description": "给定一个数组 $A = [a_1, a_2, \\dots, a_n]$，其中包含 $n$ 个正整数。\n\n需要将数组元素涂成两种颜色，使得任意两个同一颜色的元素 $x$ 和 $y$ 不满足以下条件：\n- $x=p\\times y$，其中 $p$ 是一个素数。\n\n保证存在这样的涂色方案。", "inputFormat": "第一行包含一个整数 $n$（$1 \\leq n \\leq 10^5$），表示数组的元素个数。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\dots, a_n$（$1 \\leq a_i \\leq 10^6$），即数组中的元素。", "outputFormat": "输出数组的划分方案。具体地，输出一行 $n$ 个整数，如果第 $i$ 个数字为 $1$，表示第 $i$ 个元素应涂成第一种颜色；如果为 $2$，则表示第 $i$ 个元素应涂成第二种颜色。\n\n如果存在多个合适的划分方案，可以输出其中任何一个。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $9$ | $a_i\\le2$ |\n| $2$ | $19$ | $a_i=p^k$，其中 $p$ 是素数 |\n| $3$ | $12$ | $a_i\\le3$ |\n| $4$ | $13$ | $a_i\\le4$ |\n| $5$ | $21$ | $n\\le10$ |\n| $6$ | $26$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^5$，$1 \\leq a_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P11125", "type": "P", "difficulty": 4, "samples": [["4 11\n3 5 1 10\n2 9 2 13", "5"], ["13 124\n5 6 8 8 1 6 4 6 4 7 10 3 9\n5 2 10 5 2 1 1 4 8 3 4 1 9", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "2024", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 细菌 (Day 2)", "background": "翻译自 [ROIR 2024 D2T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。\n\n生物实验室中正在进行实验。开始时，有 $n$ 个冷冻的细菌，编号从 $1$ 到 $n$。根据实验计划，编号为 $i$ 的细菌将在实验开始后的 $a_i$ 秒进入培养皿。如果有多个细菌的 $a$ 相等，它们会同时进入。\n\n一旦冷冻的细菌进入培养皿，它们会被解冻并开始成熟。编号为 $i$ 的细菌成熟需要 $t_i$ 秒。一旦细菌成熟，它们会开始繁殖：立即分裂成两个成熟的细菌，然后在接下来的每一秒钟，每个成熟细菌都会再次分裂成两个成熟的细菌。", "description": "培养菌落的规模指的是培养皿中细菌的总数。实验的目标是确定多长时间后，培养菌落的规模首次恰好等于 $m$。请帮助科学家确定这个时间秒数，或者判断培养群体的规模是否永远不会恰好等于 $m$。", "inputFormat": "第一行给出两个整数 $n$ 和 $m$（$1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq m \\leq 10^9$），分别表示细菌的数量和期望的培养菌落规模。\n\n第二行给出 $n$ 个整数 $a_1, a_2, \\dots, a_n$（$1 \\leq a_i \\leq 10^9$），表示细菌进入培养皿的时间。\n\n第三行给出 $n$ 个整数 $t_1, t_2, \\dots, t_n$（$1 \\leq t_i \\leq 10^9$），表示冷冻的细菌成熟所需的时间。", "outputFormat": "如果培养菌落的规模永远不会等于 $m$，则输出 `-1`。否则，输出在实验开始后多少秒，培养群体的规模首次恰好等于 $m$。", "hint": "下表是样例 $1$ 的实验进展：\n\n| 时间 | 细菌 $1$ | 细菌 $2$ | 细菌 $3$ | 细菌 $4$ | 总数 |\n|:------:|:--------:|:--------:|:--------:|:--------:|:------:|\n| $0$    | 冷冻   | 冷冻   | 冷冻   | 冷冻   | $0$    |\n| $1$    | 冷冻   | 冷冻   | 在培养皿中，成熟中 | 冷冻   | $1$    |\n| $2$    | 冷冻   | 冷冻   | 在培养皿中，成熟中 | 冷冻   | $1$    |\n| $3$    | 在培养皿中，成熟中 | 冷冻   | 在培养皿中，成熟，$2$ 只细菌 | 冷冻 | $3$    |\n| $4$    | 在培养皿中，成熟中 | 冷冻   | 在培养皿中，成熟，$4$ 只细菌 | 冷冻 | $5$    |\n| $5$    | 在培养皿中，成熟，$2$ 只细菌 | 在培养皿中，成熟中 | 在培养皿中，成熟，$8$ 只细菌 | 冷冻 | $11$   |\n\n注意：细菌的繁殖过程会导致每秒钟细菌数目翻倍。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $13$ | $m\\le n,a_i\\le10^5,t_i=10^9$ |\n| $2$ | $14$ | $a_i=i$，所有 $t_i$ 相等 |\n| $3$ | $17$ | $n,a_i,t_i\\le3000$ |\n| $4$ | $23$ | $a_i=1$ |\n| $5$ | $33$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq m \\leq 10^9$，$1 \\leq a_i,t_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 细菌 (Day 2)", "background": "翻译自 [ROIR 2024 D2T2](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。\n\n生物实验室中正在进行实验。开始时，有 $n$ 个冷冻的细菌，编号从 $1$ 到 $n$。根据实验计划，编号为 $i$ 的细菌将在实验开始后的 $a_i$ 秒进入培养皿。如果有多个细菌的 $a$ 相等，它们会同时进入。\n\n一旦冷冻的细菌进入培养皿，它们会被解冻并开始成熟。编号为 $i$ 的细菌成熟需要 $t_i$ 秒。一旦细菌成熟，它们会开始繁殖：立即分裂成两个成熟的细菌，然后在接下来的每一秒钟，每个成熟细菌都会再次分裂成两个成熟的细菌。", "description": "培养菌落的规模指的是培养皿中细菌的总数。实验的目标是确定多长时间后，培养菌落的规模首次恰好等于 $m$。请帮助科学家确定这个时间秒数，或者判断培养群体的规模是否永远不会恰好等于 $m$。", "inputFormat": "第一行给出两个整数 $n$ 和 $m$（$1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq m \\leq 10^9$），分别表示细菌的数量和期望的培养菌落规模。\n\n第二行给出 $n$ 个整数 $a_1, a_2, \\dots, a_n$（$1 \\leq a_i \\leq 10^9$），表示细菌进入培养皿的时间。\n\n第三行给出 $n$ 个整数 $t_1, t_2, \\dots, t_n$（$1 \\leq t_i \\leq 10^9$），表示冷冻的细菌成熟所需的时间。", "outputFormat": "如果培养菌落的规模永远不会等于 $m$，则输出 `-1`。否则，输出在实验开始后多少秒，培养群体的规模首次恰好等于 $m$。", "hint": "下表是样例 $1$ 的实验进展：\n\n| 时间 | 细菌 $1$ | 细菌 $2$ | 细菌 $3$ | 细菌 $4$ | 总数 |\n|:------:|:--------:|:--------:|:--------:|:--------:|:------:|\n| $0$    | 冷冻   | 冷冻   | 冷冻   | 冷冻   | $0$    |\n| $1$    | 冷冻   | 冷冻   | 在培养皿中，成熟中 | 冷冻   | $1$    |\n| $2$    | 冷冻   | 冷冻   | 在培养皿中，成熟中 | 冷冻   | $1$    |\n| $3$    | 在培养皿中，成熟中 | 冷冻   | 在培养皿中，成熟，$2$ 只细菌 | 冷冻 | $3$    |\n| $4$    | 在培养皿中，成熟中 | 冷冻   | 在培养皿中，成熟，$4$ 只细菌 | 冷冻 | $5$    |\n| $5$    | 在培养皿中，成熟，$2$ 只细菌 | 在培养皿中，成熟中 | 在培养皿中，成熟，$8$ 只细菌 | 冷冻 | $11$   |\n\n注意：细菌的繁殖过程会导致每秒钟细菌数目翻倍。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $13$ | $m\\le n,a_i\\le10^5,t_i=10^9$ |\n| $2$ | $14$ | $a_i=i$，所有 $t_i$ 相等 |\n| $3$ | $17$ | $n,a_i,t_i\\le3000$ |\n| $4$ | $23$ | $a_i=1$ |\n| $5$ | $33$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq m \\leq 10^9$，$1 \\leq a_i,t_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11126", "type": "P", "difficulty": 5, "samples": [["9 4\n3 4 2 4 4 2 3 3 2", "2"], ["6 3\n1 2 3 1 2 1", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 三等分的数组 (Day 2)", "background": "翻译自 [ROIR 2024 D2T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。\n\n在生日那天，玛莎像往常一样收到了一个由 $n$ 个数组成的数组 $a$，其中每个数字都在 $1$ 到 $m$ 之间。玛莎非常喜欢数字 $3$，因此数组的长度能被 $3$ 整除。\n\n玛莎决定将这些数字分组为三元组：每个三元组要么由三个相同的数字组成，要么由三个连续的数字组成。换句话说，每个三元组的形式要么是 $(x, x, x)$，要么是 $(x, x + 1, x + 2)$，其中 $x$ 是一个正整数。\n\n玛莎想要研究这个礼物中的数组，她想知道将数组中的数字分成这样的三元组的方式有多少种。如果不能为第一个分组中的每个三元组与第二个分组中的每个三元组建立一一对应关系，使得对应三元组中的数字相等，则两个分组方式被认为是不同的。由于分组方式可能非常多，玛莎只需知道其模 $10^9 + 7$ 的余数。", "description": "帮助玛莎计算将数组中的数字分成三元组的方式的数量，对 $10^9 + 7$ 取模。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$（$1 \\leq n \\leq 5000$，$1 \\leq m \\leq 5000$，$n$ 是 $3$ 的倍数）。\n\n第二行包含 $n$ 个整数 $a_1,a_2,\\dots,a_n$，表示数组中的数字（$1 \\leq a_i \\leq m$）。", "outputFormat": "输出一行一个整数，即将数组中的数字分成三元组的方式的数量，对 $10^9 + 7$ 取模。", "hint": "在第一个样例中，数字可以分成三元组的两种方式为 $\\{(2, 2, 2), (3, 3, 3), (4, 4, 4)\\}$ 和 $\\{ (2, 3, 4), (2, 3, 4), (2, 3, 4)\\}$。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $10$ | $m\\le3$ |\n| $2$ | $8$ | $m\\le4$ |\n| $3$ | $10$ | 每个数字最多出现两次 |\n| $4$ | $12$ | $a$ 不含 $4$ 的倍数 |\n| $5$ | $29$ | $n,m\\le500$ |\n| $6$ | $31$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5000$，$1 \\leq a_i \\leq m \\leq 5000$，$n$ 是 $3$ 的倍数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 三等分的数组 (Day 2)", "background": "翻译自 [ROIR 2024 D2T3](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。\n\n在生日那天，玛莎像往常一样收到了一个由 $n$ 个数组成的数组 $a$，其中每个数字都在 $1$ 到 $m$ 之间。玛莎非常喜欢数字 $3$，因此数组的长度能被 $3$ 整除。\n\n玛莎决定将这些数字分组为三元组：每个三元组要么由三个相同的数字组成，要么由三个连续的数字组成。换句话说，每个三元组的形式要么是 $(x, x, x)$，要么是 $(x, x + 1, x + 2)$，其中 $x$ 是一个正整数。\n\n玛莎想要研究这个礼物中的数组，她想知道将数组中的数字分成这样的三元组的方式有多少种。如果不能为第一个分组中的每个三元组与第二个分组中的每个三元组建立一一对应关系，使得对应三元组中的数字相等，则两个分组方式被认为是不同的。由于分组方式可能非常多，玛莎只需知道其模 $10^9 + 7$ 的余数。", "description": "帮助玛莎计算将数组中的数字分成三元组的方式的数量，对 $10^9 + 7$ 取模。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$（$1 \\leq n \\leq 5000$，$1 \\leq m \\leq 5000$，$n$ 是 $3$ 的倍数）。\n\n第二行包含 $n$ 个整数 $a_1,a_2,\\dots,a_n$，表示数组中的数字（$1 \\leq a_i \\leq m$）。", "outputFormat": "输出一行一个整数，即将数组中的数字分成三元组的方式的数量，对 $10^9 + 7$ 取模。", "hint": "在第一个样例中，数字可以分成三元组的两种方式为 $\\{(2, 2, 2), (3, 3, 3), (4, 4, 4)\\}$ 和 $\\{ (2, 3, 4), (2, 3, 4), (2, 3, 4)\\}$。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n| $1$ | $10$ | $m\\le3$ |\n| $2$ | $8$ | $m\\le4$ |\n| $3$ | $10$ | 每个数字最多出现两次 |\n| $4$ | $12$ | $a$ 不含 $4$ 的倍数 |\n| $5$ | $29$ | $n,m\\le500$ |\n| $6$ | $31$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5000$，$1 \\leq a_i \\leq m \\leq 5000$，$n$ 是 $3$ 的倍数。", "locale": "zh-CN"}}}
{"pid": "P11127", "type": "P", "difficulty": 6, "samples": [["5 5\n3 4\n0 0\n5 2\n0 0\n0 0\n2 2\n1 1 3 1\n2 5\n1 3 3 0\n2 3", "4\n1\n2"]], "limits": {"time": [1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666, 1666], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2024] 二叉树的遍历 (Day 2)", "background": "翻译自 [ROIR 2024 D2T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。\n\n二叉树有三种基本遍历方式：前序遍历（pre-order）、中序遍历（in-order）和后序遍历（post-order）。我们可以将这三种遍历方式进行概括：假设每个节点上记录一个整数 $x$（取值范围为 $-1$ 到 $1$），表示在遍历中输出该节点的时机，具体如下：\n- $x = -1$：在遍历其左右子树之前；\n- $x = 0$：在遍历其左子树之后，遍历其右子树之前；\n- $x = 1$：在遍历其左右子树之后。\n\n因此，如果所有节点的 $x$ 值都是 $-1$，则遍历为前序遍历；如果都是 $0$，则为中序遍历；如果都是 $1$，则为后序遍历。", "description": "考虑一棵有 $n$ 个节点的二叉树，节点编号从 $1$ 到 $n$。树的根节点为 $1$。最初，所有节点上的值都是 $-1$。\n\n你需要处理 $q$ 个操作，操作类型如下：\n1. 将节点 $l, l + 1, \\dots, r$ 上的值更改为 $x$（$x$ 取值为 $-1$，$0$ 或 $1$）。\n2. 查询节点 $i$ 在当前遍历方式中的位置。\n\n需要输出所有第二种类型的操作的结果。", "inputFormat": "第一行包含两个整数 $n$ 和 $q$（$1 \\leq n, q \\leq 100000$）。\n\n接下来 $n$ 行，每行包含两个整数 $L_i$ 和 $R_i$（$0 \\leq L_i, R_i \\leq n$），分别表示节点 $i$ 的左子树和右子树的编号，若某个子树不存在则为 $0$。\n\n保证 $L_i$ 和 $R_i$ 描述了一个有效的二叉树。\n\n接下来的 $q$ 行中包含操作。每行的第一个整数 $t$（$t \\in \\{1, 2\\}$）表示操作类型。\n- 对于第一种类型的操作，后面有三个整数 $l$，$r$ 和 $x$（$1 \\leq l \\leq r \\leq n$，$x$ 为 $-1$，$0$ 或 $1$），表示节点范围和新的值。\n- 对于第二种类型的操作，后面有一个整数 $i$（$1 \\leq i \\leq n$），表示询问其在遍历中的位置的节点编号。", "outputFormat": "对于每个第二种类型的操作，输出一个整数，表示对应节点在遍历中的位置。", "hint": "样例中的树是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/keaqqiat.png)\n\n刚开始，所有节点的 $x$ 值都是 $-1$，因此第一次查询时遍历得到的数组为 $[1,3,5,2,4]$，$2$ 在第四个位置。\n\n在将节点 $1,2,3$ 的遍历方式 $x$ 改为 $1$ 后，再次查询时遍历得到的数组为 $[5,2,3,4,1]$，$5$ 在第一个位置。\n\n接着把节点 $3$ 的遍历方式 $x$ 改为 $0$，此时再进行查询，遍历得到的数组为 $[5,3,2,4,1]$，$3$ 在第二个位置。\n\n设 $q_1$ 为操作 $1$ 的数量。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n|$1$ | $10$ | $n, q \\leq 5000$ |\n|$2$ | $5$ | $q_1 \\leq 10$ |\n|$3$ | $10$ | 所有操作一在所有操作二之前 |\n|$4$ | $10$ | 所有叶子节点都与根节点距离相同，没有具有一个子节点的节点 |\n|$5$ | $10$ | 对于所有操作一，$l = r$ |\n|$6$ | $20$ | 对于所有操作一，$x \\in \\{-1, 1\\}$，每个节点最多有一个子节点 |\n|$7$ | $10$ | 对于所有操作一，$x \\in \\{-1, 1\\}$ |\n|$8$ | $10$ | 每个节点最多有一个子节点 |\n|$9$ | $15$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n, q \\leq 100000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2024] 二叉树的遍历 (Day 2)", "background": "翻译自 [ROIR 2024 D2T4](https://neerc.ifmo.ru/school/archive/2023-2024/ru-olymp-regional-2024-day2.pdf)。\n\n二叉树有三种基本遍历方式：前序遍历（pre-order）、中序遍历（in-order）和后序遍历（post-order）。我们可以将这三种遍历方式进行概括：假设每个节点上记录一个整数 $x$（取值范围为 $-1$ 到 $1$），表示在遍历中输出该节点的时机，具体如下：\n- $x = -1$：在遍历其左右子树之前；\n- $x = 0$：在遍历其左子树之后，遍历其右子树之前；\n- $x = 1$：在遍历其左右子树之后。\n\n因此，如果所有节点的 $x$ 值都是 $-1$，则遍历为前序遍历；如果都是 $0$，则为中序遍历；如果都是 $1$，则为后序遍历。", "description": "考虑一棵有 $n$ 个节点的二叉树，节点编号从 $1$ 到 $n$。树的根节点为 $1$。最初，所有节点上的值都是 $-1$。\n\n你需要处理 $q$ 个操作，操作类型如下：\n1. 将节点 $l, l + 1, \\dots, r$ 上的值更改为 $x$（$x$ 取值为 $-1$，$0$ 或 $1$）。\n2. 查询节点 $i$ 在当前遍历方式中的位置。\n\n需要输出所有第二种类型的操作的结果。", "inputFormat": "第一行包含两个整数 $n$ 和 $q$（$1 \\leq n, q \\leq 100000$）。\n\n接下来 $n$ 行，每行包含两个整数 $L_i$ 和 $R_i$（$0 \\leq L_i, R_i \\leq n$），分别表示节点 $i$ 的左子树和右子树的编号，若某个子树不存在则为 $0$。\n\n保证 $L_i$ 和 $R_i$ 描述了一个有效的二叉树。\n\n接下来的 $q$ 行中包含操作。每行的第一个整数 $t$（$t \\in \\{1, 2\\}$）表示操作类型。\n- 对于第一种类型的操作，后面有三个整数 $l$，$r$ 和 $x$（$1 \\leq l \\leq r \\leq n$，$x$ 为 $-1$，$0$ 或 $1$），表示节点范围和新的值。\n- 对于第二种类型的操作，后面有一个整数 $i$（$1 \\leq i \\leq n$），表示询问其在遍历中的位置的节点编号。", "outputFormat": "对于每个第二种类型的操作，输出一个整数，表示对应节点在遍历中的位置。", "hint": "样例中的树是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/keaqqiat.png)\n\n刚开始，所有节点的 $x$ 值都是 $-1$，因此第一次查询时遍历得到的数组为 $[1,3,5,2,4]$，$2$ 在第四个位置。\n\n在将节点 $1,2,3$ 的遍历方式 $x$ 改为 $1$ 后，再次查询时遍历得到的数组为 $[5,2,3,4,1]$，$5$ 在第一个位置。\n\n接着把节点 $3$ 的遍历方式 $x$ 改为 $0$，此时再进行查询，遍历得到的数组为 $[5,3,2,4,1]$，$3$ 在第二个位置。\n\n设 $q_1$ 为操作 $1$ 的数量。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 同样例 |\n|$1$ | $10$ | $n, q \\leq 5000$ |\n|$2$ | $5$ | $q_1 \\leq 10$ |\n|$3$ | $10$ | 所有操作一在所有操作二之前 |\n|$4$ | $10$ | 所有叶子节点都与根节点距离相同，没有具有一个子节点的节点 |\n|$5$ | $10$ | 对于所有操作一，$l = r$ |\n|$6$ | $20$ | 对于所有操作一，$x \\in \\{-1, 1\\}$，每个节点最多有一个子节点 |\n|$7$ | $10$ | 对于所有操作一，$x \\in \\{-1, 1\\}$ |\n|$8$ | $10$ | 每个节点最多有一个子节点 |\n|$9$ | $15$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n, q \\leq 100000$。", "locale": "zh-CN"}}}
{"pid": "P11128", "type": "P", "difficulty": 1, "samples": [["10 4\n1 3 2 4 3 5 4 6 5 7", "Yes"], ["10 11\n1 3 2 4 3 5 4 6 5 7", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "梦熊比赛"], "title": "【MX-X5-T0】「GFOI Round 1」Hypnotize", "background": "原题链接：<https://oier.team/problems/X5A>。\n\n---\n\n> [$\\small\\text{The absolute catastrophe of \\textbf{I\\&“Ī྄”} .}$](https://music.163.com/#/song?id=2610328481)", "description": "Arcaea 中有 $n$ 张谱面，第 $i$ 张谱面的难度为一个正整数 $a_i$。\n\n有一个正整数 $k$，你希望打两张难度差**恰好**为 $k$ 的谱面。\n\n你需要判断是否存在满足条件的两张谱面。如果存在则输出 `Yes`，否则输出 `No`。", "inputFormat": "第一行包含两个正整数 $n,k$。\n\n第二行包含 $n$ 个正整数 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "如果存在满足条件的两张谱面，输出 `Yes`；否则输出 `No`。", "hint": "**【样例解释 #1】**\n\n第一组样例中，取第 $1$ 张和第 $6$ 张谱面，由于 $a_6-a_1=4$，输出 `Yes`。\n\n**【样例解释 #2】**\n\n第二组样例中，不存在两张谱面难度差为 $11$ 的谱面，输出 `No`。\n\n**【数据范围】**\n\n本题数据包含 $20$ 个测试点，每个测试点分值相等。\n\n对于所有数据，满足 $1\\le n\\le 100$，$1\\le k,a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T0】「GFOI Round 1」Hypnotize", "background": "原题链接：<https://oier.team/problems/X5A>。\n\n---\n\n> [$\\small\\text{The absolute catastrophe of \\textbf{I\\&“Ī྄”} .}$](https://music.163.com/#/song?id=2610328481)", "description": "Arcaea 中有 $n$ 张谱面，第 $i$ 张谱面的难度为一个正整数 $a_i$。\n\n有一个正整数 $k$，你希望打两张难度差**恰好**为 $k$ 的谱面。\n\n你需要判断是否存在满足条件的两张谱面。如果存在则输出 `Yes`，否则输出 `No`。", "inputFormat": "第一行包含两个正整数 $n,k$。\n\n第二行包含 $n$ 个正整数 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "如果存在满足条件的两张谱面，输出 `Yes`；否则输出 `No`。", "hint": "**【样例解释 #1】**\n\n第一组样例中，取第 $1$ 张和第 $6$ 张谱面，由于 $a_6-a_1=4$，输出 `Yes`。\n\n**【样例解释 #2】**\n\n第二组样例中，不存在两张谱面难度差为 $11$ 的谱面，输出 `No`。\n\n**【数据范围】**\n\n本题数据包含 $20$ 个测试点，每个测试点分值相等。\n\n对于所有数据，满足 $1\\le n\\le 100$，$1\\le k,a_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11129", "type": "P", "difficulty": 2, "samples": [["3\n2 1 2\n3 2 5\n11451 41 91981", "3\n4\n32787076"]], "limits": {"time": [2000, 2000, 2000], "memory": [524288, 524288, 524288]}, "tags": ["数学", "O2优化", "梦熊比赛"], "title": "【MX-X5-T1】「GFOI Round 1」Inverted World", "background": "原题链接：<https://oier.team/problems/X5B>。\n\n---\n\n> [Inverted World - ARForest](https://music.163.com/#/song?id=2099631232)", "description": "给定一个长度为 $n$ 的正整数序列 $(a_1, \\ldots, a_n)$，**保证该序列是等差数列**。  \n（如果你不知道等差数列的定义，请参阅题目末尾处的提示。）\n\n请求出该序列中满足如下条件的连续非空子串 $(a_l, \\ldots, a_r)$（$1 \\le l \\le r \\le n$）的数量：\n- 该子串中的元素的平均值是整数。  \n  （即 $(a_l + \\cdots + a_r) \\div (r - l + 1)$ 是整数。）\n\n该序列可能很长，即 $n$ 可能很大，故不会给出该序列的每一项，而是只给出长度 $n$、首项 $k$ 和公差 $d$。**保证 $\\bm{k, d}$ 都是正整数**。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含三个正整数 $n, k, d$。", "outputFormat": "对于每组数据，输出一行一个非负整数，表示平均数为整数的子段个数。", "hint": "**【样例解释】**\n\n在第一组数据中，$a = [1, 3]$。共有 $3$ 个连续非空子串满足要求：\n\n- $[1]$，其平均值为 $1$；\n- $[3]$，其平均值为 $3$；\n- $[1, 3]$，其平均值为 $2$。\n\n在第二组数据中，$a = [2, 7, 12]$。共有 $4$ 个连续非空子串满足要求：\n\n- $[2]$，其平均值为 $2$；\n- $[7]$，其平均值为 $7$；\n- $[12]$，其平均值为 $12$；\n- $[2, 7, 12]$，其平均值为 $7$。\n\n**【数据范围】**\n\n| 测试点编号 | $n \\le$ | $k \\le$ | $d \\le$ | 分值 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $10$ | $10$ | $10$ | $28$ |\n| $2$ | $10^9$ | $10^9$ | $1$ | $35$ |\n| $3$ | $10^9$ | $10^9$ | $10^9$ | $37$ |\n\n对于所有数据，满足 $1 \\le T \\le 10^3$，$1 \\le n, k, d \\le 10^9$。\n\n**【提示】**\n\n长度为 $n$、首项为 $k$、公差为 $d$ 的等差数列定义为 $a_1 = k$ 且 $a_i = a_{i - 1} + d$（对每个 $2 \\le i \\le n$）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T1】「GFOI Round 1」Inverted World", "background": "原题链接：<https://oier.team/problems/X5B>。\n\n---\n\n> [Inverted World - ARForest](https://music.163.com/#/song?id=2099631232)", "description": "给定一个长度为 $n$ 的正整数序列 $(a_1, \\ldots, a_n)$，**保证该序列是等差数列**。  \n（如果你不知道等差数列的定义，请参阅题目末尾处的提示。）\n\n请求出该序列中满足如下条件的连续非空子串 $(a_l, \\ldots, a_r)$（$1 \\le l \\le r \\le n$）的数量：\n- 该子串中的元素的平均值是整数。  \n  （即 $(a_l + \\cdots + a_r) \\div (r - l + 1)$ 是整数。）\n\n该序列可能很长，即 $n$ 可能很大，故不会给出该序列的每一项，而是只给出长度 $n$、首项 $k$ 和公差 $d$。**保证 $\\bm{k, d}$ 都是正整数**。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含三个正整数 $n, k, d$。", "outputFormat": "对于每组数据，输出一行一个非负整数，表示平均数为整数的子段个数。", "hint": "**【样例解释】**\n\n在第一组数据中，$a = [1, 3]$。共有 $3$ 个连续非空子串满足要求：\n\n- $[1]$，其平均值为 $1$；\n- $[3]$，其平均值为 $3$；\n- $[1, 3]$，其平均值为 $2$。\n\n在第二组数据中，$a = [2, 7, 12]$。共有 $4$ 个连续非空子串满足要求：\n\n- $[2]$，其平均值为 $2$；\n- $[7]$，其平均值为 $7$；\n- $[12]$，其平均值为 $12$；\n- $[2, 7, 12]$，其平均值为 $7$。\n\n**【数据范围】**\n\n| 测试点编号 | $n \\le$ | $k \\le$ | $d \\le$ | 分值 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $10$ | $10$ | $10$ | $28$ |\n| $2$ | $10^9$ | $10^9$ | $1$ | $35$ |\n| $3$ | $10^9$ | $10^9$ | $10^9$ | $37$ |\n\n对于所有数据，满足 $1 \\le T \\le 10^3$，$1 \\le n, k, d \\le 10^9$。\n\n**【提示】**\n\n长度为 $n$、首项为 $k$、公差为 $d$ 的等差数列定义为 $a_1 = k$ 且 $a_i = a_{i - 1} + d$（对每个 $2 \\le i \\le n$）。", "locale": "zh-CN"}}}
{"pid": "P11130", "type": "P", "difficulty": 3, "samples": [["6\n1 1\n2 4\n2 6\n12 288\n30 144000\n114 5141919810", "0\n1\n-1\n2\n3\n-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "贪心", "O2优化", "梦熊比赛"], "title": "【MX-X5-T2】「GFOI Round 1」Interstellar", "background": "原题链接：<https://oier.team/problems/X5C>。\n\n---\n\n> [Interstellar - PIKASONIC](https://music.163.com/#/song?id=1900207101)", "description": "你有一个正整数 $x$，你可以对它进行如下操作：\n- 选择一个正整数 $y$，把 $x$ 变为它的 $\\gcd(x, y)$ 倍，即 $x \\gets x \\times \\gcd(x, y)$。  \n  （$\\gcd(x, y)$ 表示 $x, y$ 的最大公因数。）\n\n$x$ 的初始值为 $n$，你想通过若干次操作（也可不操作）将它变为 $m$。你想知道至少要多少次操作才能达成目标，或报告无解。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含两个正整数 $n, m$。", "outputFormat": "对于每组数据：\n\n- 若无解，即 $x$ 无论如何操作都不能变成 $m$，输出 $-1$。\n- 否则输出一行一个非负整数，表示最小的操作次数。", "hint": "**【样例解释】**\n\n对于第一组数据，无需进行任何操作，答案是 $0$。\n\n对于第二组数据，可以选择 $y = 6$，那么 $x$ 会变成 $2 \\times \\gcd(2, 6) = 4$。\n\n对于第三组数据，容易证明无论如何进行操作都不可能达成目标，所以输出 $-1$。\n\n对于第四组数据，可以：\n\n- 选择 $y = 16$，那么 $x$ 会变成 $12 \\times \\gcd(12, 16) = 48$；\n- 选择 $y = 6$，那么 $x$ 会变成 $48 \\times \\gcd(48, 6) = 288$。\n\n**【数据范围】**\n\n| 测试点编号 | $n \\le$ | $m \\le$ | 分值 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $100$ | $2 \\times 10^3$ | $21$ |\n| $2$ | $2$ | $10^{18}$ | $17$ |\n| $3$ | $10^5$ | $10^5$ | $14$ |\n| $4$ | $10^7$ | $10^7$ | $16$ |\n| $5$ | $10^{18}$ | $10^{18}$ | $32$ |\n\n对于所有数据，满足 $1 \\le T \\le 2 \\times 10^5$，$1 \\le n \\le m \\le 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T2】「GFOI Round 1」Interstellar", "background": "原题链接：<https://oier.team/problems/X5C>。\n\n---\n\n> [Interstellar - PIKASONIC](https://music.163.com/#/song?id=1900207101)", "description": "你有一个正整数 $x$，你可以对它进行如下操作：\n- 选择一个正整数 $y$，把 $x$ 变为它的 $\\gcd(x, y)$ 倍，即 $x \\gets x \\times \\gcd(x, y)$。  \n  （$\\gcd(x, y)$ 表示 $x, y$ 的最大公因数。）\n\n$x$ 的初始值为 $n$，你想通过若干次操作（也可不操作）将它变为 $m$。你想知道至少要多少次操作才能达成目标，或报告无解。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含两个正整数 $n, m$。", "outputFormat": "对于每组数据：\n\n- 若无解，即 $x$ 无论如何操作都不能变成 $m$，输出 $-1$。\n- 否则输出一行一个非负整数，表示最小的操作次数。", "hint": "**【样例解释】**\n\n对于第一组数据，无需进行任何操作，答案是 $0$。\n\n对于第二组数据，可以选择 $y = 6$，那么 $x$ 会变成 $2 \\times \\gcd(2, 6) = 4$。\n\n对于第三组数据，容易证明无论如何进行操作都不可能达成目标，所以输出 $-1$。\n\n对于第四组数据，可以：\n\n- 选择 $y = 16$，那么 $x$ 会变成 $12 \\times \\gcd(12, 16) = 48$；\n- 选择 $y = 6$，那么 $x$ 会变成 $48 \\times \\gcd(48, 6) = 288$。\n\n**【数据范围】**\n\n| 测试点编号 | $n \\le$ | $m \\le$ | 分值 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $100$ | $2 \\times 10^3$ | $21$ |\n| $2$ | $2$ | $10^{18}$ | $17$ |\n| $3$ | $10^5$ | $10^5$ | $14$ |\n| $4$ | $10^7$ | $10^7$ | $16$ |\n| $5$ | $10^{18}$ | $10^{18}$ | $32$ |\n\n对于所有数据，满足 $1 \\le T \\le 2 \\times 10^5$，$1 \\le n \\le m \\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P11131", "type": "P", "difficulty": 4, "samples": [["3 3 1\n1 2 3\n4 5 6\n7 8 9\n2 2", "5"], ["3 3 2\n1 2 3\n4 5 6\n7 8 9\n2 2\n3 3", "15"], ["3 3 3\n1 4 -3\n4 -1 4\n7 8 9\n1 1\n2 2\n3 3", "10"], ["3 3 9\n1 4 -3\n4 -1 4\n7 8 9\n1 1\n1 2\n1 3\n2 1\n2 2\n2 3\n3 1\n3 2\n3 3", "11"], ["3 3 3\n-1 4 4\n4 -1 4\n7 8 -1\n1 1\n1 1\n1 1 ", "-1"], ["3 3 3\n1 4 -5\n4 -1 4\n7 8 9\n1 1\n2 2\n3 3", "No"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "最短路", "梦熊比赛"], "title": "【MX-X5-T3】「GFOI Round 1」Cthugha", "background": "原题链接：<https://oier.team/problems/X5D>。\n\n---\n\n> [Cthugha - USAO](https://music.163.com/#/song?id=1833853372)", "description": "给定一张 $n \\times m$ 的网格图，行编号为 $1,2,\\dots ,n$，列编号为 $1,2,\\dots ,m$。我们用 $(i, j)$ 来描述第 $i$ 行第 $j$ 列的格子。每个格子有一个整数权值 $a_{i,j}$，**注意格子的权值可以是负数**。\n\n给定 $q$ 个人位于网格图上，第 $i$ 个人的初始位置在 $(x_i, y_i)$，**注意不保证每个人初始位置互不相同**。\n\n定义某人**走一步**为：若这个人当前坐标在 $(x,y)$，则将该人移动至 $(x+1,y),(x-1,y),(x,y+1),(x,y-1)$ 其中之一。设移动后到达 $(x^{\\prime},y^{\\prime})$，此时需要满足 $1\\leq x^{\\prime}\\leq n,1\\leq y^{\\prime}\\leq m$。\n\n在任意时刻，允许任意两个人位于同一个格子。\n\n定义一个人的**权值**为其走若干步后所有经过的格子的权值和（包括起点和终点），注意若一个格子被经过 $k$ 次则其权值需要被累加 $k$ 次。\n\n特别地，若一个人没有走，则其**权值**为其初始位置格子的权值。\n\n定义**总权值**为每个人走若干步数，所有人权值的最大值。\n\n求最终所有人都走到同一个格子的最小**总权值**，或报告不存在最小**总权值**（即最小总权值为负无穷）。", "inputFormat": "第一行包含三个正整数 $n, m, q$。\n\n接下来 $n$ 行的第 $i$ 行包含 $m$ 个整数 $a_{i, 1}, a_{i, 2}, \\ldots, a_{i, m}$。\n\n接下来 $q$ 行的第 $i$ 行包含两个正整数 $x_i, y_i$，表示第 $i$ 个人的初始位置在 $(x _ i, y _ i)$。", "outputFormat": "若最小总权值不存在（即最小总权值为负无穷），输出 `No`；否则输出一行一个整数表示最小总权值。", "hint": "**【样例解释 #1】**\n\n总权值最小的情况是第一个人不走，此时经过点只有 $(2,2)$，所以答案为 $a_{2,2}=5$。\n\n**【样例解释 #2】**\n\n总权值最小的情况是两个人走到 $(2,3)$，路线分别为 $(2,2)\\rightarrow (2,3)$ 和 $(3,3) \\rightarrow (2,3)$，答案为 $\\max(a_{2,2}+a_{2,3},a_{3,3}+a_{2,3}) = \\max(11, 15) = 15$。\n\n**【样例解释 #5】**\n\n总权值最小的情况是三个人都没有走，权值都为 $a_{1,1}=-1$，答案即为 $-1$。\n\n**【样例解释 #6】**\n\n容易证明最小总权值为负无穷，所以输出 `No`。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | $n\\times m \\leq $| $q\\leq $ | 特殊性质 | 分值 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $9$ | $9$ | 无 | $11$ |\n| $2$ | $10^5$ | $1$ | 无 | $3$ |\n| $3$ | $10^5$ | $50$ | A | $24$ |\n| $4$ | $10^3$ | $50$ | 无  | $21$ |\n| $5$ | $10^5$ | $50$ | 无 | $41$ |\n\n- 特殊性质 A：$a_{i,j} \\geq 1$。\n\n对于所有数据，满足 \n$1\\leq n,m\\leq 10^5$，$1\\leq n\\times m\\leq 10^5$，$1\\leq q\\leq 50$，$1 \\le x_i \\le n$，$1 \\le y_i \\le m$，$1\\leq |a_{i,j}|\\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T3】「GFOI Round 1」Cthugha", "background": "原题链接：<https://oier.team/problems/X5D>。\n\n---\n\n> [Cthugha - USAO](https://music.163.com/#/song?id=1833853372)", "description": "给定一张 $n \\times m$ 的网格图，行编号为 $1,2,\\dots ,n$，列编号为 $1,2,\\dots ,m$。我们用 $(i, j)$ 来描述第 $i$ 行第 $j$ 列的格子。每个格子有一个整数权值 $a_{i,j}$，**注意格子的权值可以是负数**。\n\n给定 $q$ 个人位于网格图上，第 $i$ 个人的初始位置在 $(x_i, y_i)$，**注意不保证每个人初始位置互不相同**。\n\n定义某人**走一步**为：若这个人当前坐标在 $(x,y)$，则将该人移动至 $(x+1,y),(x-1,y),(x,y+1),(x,y-1)$ 其中之一。设移动后到达 $(x^{\\prime},y^{\\prime})$，此时需要满足 $1\\leq x^{\\prime}\\leq n,1\\leq y^{\\prime}\\leq m$。\n\n在任意时刻，允许任意两个人位于同一个格子。\n\n定义一个人的**权值**为其走若干步后所有经过的格子的权值和（包括起点和终点），注意若一个格子被经过 $k$ 次则其权值需要被累加 $k$ 次。\n\n特别地，若一个人没有走，则其**权值**为其初始位置格子的权值。\n\n定义**总权值**为每个人走若干步数，所有人权值的最大值。\n\n求最终所有人都走到同一个格子的最小**总权值**，或报告不存在最小**总权值**（即最小总权值为负无穷）。", "inputFormat": "第一行包含三个正整数 $n, m, q$。\n\n接下来 $n$ 行的第 $i$ 行包含 $m$ 个整数 $a_{i, 1}, a_{i, 2}, \\ldots, a_{i, m}$。\n\n接下来 $q$ 行的第 $i$ 行包含两个正整数 $x_i, y_i$，表示第 $i$ 个人的初始位置在 $(x _ i, y _ i)$。", "outputFormat": "若最小总权值不存在（即最小总权值为负无穷），输出 `No`；否则输出一行一个整数表示最小总权值。", "hint": "**【样例解释 #1】**\n\n总权值最小的情况是第一个人不走，此时经过点只有 $(2,2)$，所以答案为 $a_{2,2}=5$。\n\n**【样例解释 #2】**\n\n总权值最小的情况是两个人走到 $(2,3)$，路线分别为 $(2,2)\\rightarrow (2,3)$ 和 $(3,3) \\rightarrow (2,3)$，答案为 $\\max(a_{2,2}+a_{2,3},a_{3,3}+a_{2,3}) = \\max(11, 15) = 15$。\n\n**【样例解释 #5】**\n\n总权值最小的情况是三个人都没有走，权值都为 $a_{1,1}=-1$，答案即为 $-1$。\n\n**【样例解释 #6】**\n\n容易证明最小总权值为负无穷，所以输出 `No`。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | $n\\times m \\leq $| $q\\leq $ | 特殊性质 | 分值 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $9$ | $9$ | 无 | $11$ |\n| $2$ | $10^5$ | $1$ | 无 | $3$ |\n| $3$ | $10^5$ | $50$ | A | $24$ |\n| $4$ | $10^3$ | $50$ | 无  | $21$ |\n| $5$ | $10^5$ | $50$ | 无 | $41$ |\n\n- 特殊性质 A：$a_{i,j} \\geq 1$。\n\n对于所有数据，满足 \n$1\\leq n,m\\leq 10^5$，$1\\leq n\\times m\\leq 10^5$，$1\\leq q\\leq 50$，$1 \\le x_i \\le n$，$1 \\le y_i \\le m$，$1\\leq |a_{i,j}|\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11132", "type": "P", "difficulty": 4, "samples": [["4\n2 2\n4 2\n7 5\n10 3", "1 2\n1 2 4 3\n5 3 6 7 1 2 4\n6 3 5 8 1 2 4 10 9 7"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化", "构造", "Ad-hoc", "梦熊比赛"], "title": "【MX-X5-T4】「GFOI Round 1」epitaxy", "background": "原题链接：<https://oier.team/problems/X5E>。\n\n---\n\n> [epitaxy - かめりあ](https://music.163.com/#/song?id=2600753558)", "description": "给你两个正整数 $n, m$。\n\n定义一个 $1 \\sim n$ 的排列 $p$ 的**价值**为所有的 $n - m + 1$ 个长度为 $m$ 的连续子串内最大值的最大公因数。  \n（规定单个数的最大公因数为其自身。）\n\n请你求出一个在所有 $1 \\sim n$ 的排列中价值最大的排列，如果有多个，求出任意一个均可。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即输出任意一个价值最大的排列都会被认为通过。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含两个正整数 $n, m$。", "outputFormat": "对于每组数据，输出一行 $n$ 个正整数，表示符合要求的排列 $p_1, p_2, \\ldots, p_n$。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即输出任意一个价值最大的排列都会被认为通过。", "hint": "**【样例解释】**\n\n在第一组数据中，当 $n = 2, m = 2$ 时排列 $p = [1, 2]$ 具有最大价值，为 $2$。并且可以证明当 $n = 2, m = 2$ 时不存在价值 $> 2$ 的排列。\n\n在第二组数据中，当 $n = 4, m = 2$ 时排列 $p = [1, 2, 4, 3]$ 具有最大价值，为 $2$，因为所有长度为 $2$ 的子段最大值分别为 $2, 4, 4$，其最大公因数为 $2$，并且可以证明当 $n = 4, m = 2$ 时不存在价值 $> 2$ 的排列。\n\n**【数据范围】**\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 | 分值 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $8$ | $100$ | 无 | 无 | $28$ |\n| $2$ | $10^6$ | $10^6$ | A | 无 | $23$ |\n| $3$ | $10^6$ | $10^6$ | B | 无 | $7$ |\n| $4$ | $10^6$ | $10^6$ | 无 | $1, 2, 3$ | $42$ |\n\n- 特殊性质 A：$m = 2$。\n- 特殊性质 B：$m = n$。\n\n对于所有数据，满足 $1 \\le T \\le 10^5$，$1 \\le m \\le 10^6$，$2 \\le n, \\sum n \\le 10^6$，$m \\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T4】「GFOI Round 1」epitaxy", "background": "原题链接：<https://oier.team/problems/X5E>。\n\n---\n\n> [epitaxy - かめりあ](https://music.163.com/#/song?id=2600753558)", "description": "给你两个正整数 $n, m$。\n\n定义一个 $1 \\sim n$ 的排列 $p$ 的**价值**为所有的 $n - m + 1$ 个长度为 $m$ 的连续子串内最大值的最大公因数。  \n（规定单个数的最大公因数为其自身。）\n\n请你求出一个在所有 $1 \\sim n$ 的排列中价值最大的排列，如果有多个，求出任意一个均可。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即输出任意一个价值最大的排列都会被认为通过。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含两个正整数 $n, m$。", "outputFormat": "对于每组数据，输出一行 $n$ 个正整数，表示符合要求的排列 $p_1, p_2, \\ldots, p_n$。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即输出任意一个价值最大的排列都会被认为通过。", "hint": "**【样例解释】**\n\n在第一组数据中，当 $n = 2, m = 2$ 时排列 $p = [1, 2]$ 具有最大价值，为 $2$。并且可以证明当 $n = 2, m = 2$ 时不存在价值 $> 2$ 的排列。\n\n在第二组数据中，当 $n = 4, m = 2$ 时排列 $p = [1, 2, 4, 3]$ 具有最大价值，为 $2$，因为所有长度为 $2$ 的子段最大值分别为 $2, 4, 4$，其最大公因数为 $2$，并且可以证明当 $n = 4, m = 2$ 时不存在价值 $> 2$ 的排列。\n\n**【数据范围】**\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 | 分值 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $8$ | $100$ | 无 | 无 | $28$ |\n| $2$ | $10^6$ | $10^6$ | A | 无 | $23$ |\n| $3$ | $10^6$ | $10^6$ | B | 无 | $7$ |\n| $4$ | $10^6$ | $10^6$ | 无 | $1, 2, 3$ | $42$ |\n\n- 特殊性质 A：$m = 2$。\n- 特殊性质 B：$m = n$。\n\n对于所有数据，满足 $1 \\le T \\le 10^5$，$1 \\le m \\le 10^6$，$2 \\le n, \\sum n \\le 10^6$，$m \\le n$。", "locale": "zh-CN"}}}
{"pid": "P11133", "type": "P", "difficulty": 5, "samples": [["2 0\n10\n1 1 4 5 1 4 1 9 1 9\n2\n1 1\n", "AC\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["博弈论", "交互题", "Special Judge", "O2优化", "梦熊比赛"], "title": "【MX-X5-T5】「GFOI Round 1」World Ender", "background": "原题链接：<https://oier.team/problems/X5F>。\n\n---\n\n> [$\\small\\text{The Border of \\textbf{Divinity}}.$](https://music.163.com/#/song?id=1962519608)", "description": "**这是一道交互题，仅支持 C++ 语言提交，且不支持 C++14（GCC 9）。**\n\nHikari 和 Tairitsu 用她们的玻璃渣子发明了新的游戏。\n\n有 $n$ 堆碎片，编号为 $0\\sim n-1$。\n\n$a$ 为一个长度为 $n$，下标为 $0\\sim n-1$ 的正整数序列，表示第 $i$ 堆碎片的数量为 $a_i$。\n\n她们轮流进行操作，每轮操作如下：\n\n- 选择一堆碎片 $i$，拿出不少于一个碎片并丢弃；\n- 然后将 $i$ 这一堆中剩下的碎片随意分配到所有非空的堆中，**特别地，可以放回原来的堆**。\n\nHikari 先手，不能操作者输。\n\n你将会成为 Hikari 或者 Tairitsu 中的一个，和另一个进行游戏。\n\n具体地，给定 $a_0, a_1, \\ldots, a_{n-1}$，你需要选定先后手并在 $a_0, a_1, \\ldots, a_{n-1}$ 上和交互库进行游戏。\n\n### 交互格式\n\n**本题使用多组测试数据且采用捆绑测试**。\n\n你的程序不需要，也不应该包含 `main` 函数。\n\n然后你只需要实现如下 $3$ 个函数：\n\n`bool Init(int n, int op, std::vector<int> a);`\n\n- 这个函数用于你的程序的初始化与预处理。\n- 其中 $n$ 为题意所述的碎片堆数，$op$ 为子任务编号。\n- $a$ 为一个长度为 $n$，下标为 $0\\sim n-1$ 的 `std::vector<int>`，表示上述的序列。\n- 你需要返回一个 $\\{0,1\\}$ 中的数。返回 $0$ 表示在游戏中你选择先手 Hikari，返回 $1$ 表示你选择后手 Tairitsu。\n\n`void Get(std::vector<int> a);`\n\n- 这个函数用于你的程序**接收**交互库操作后的序列。\n- $a$ 为一个长度为 $n$ 的 `std::vector<int>`，表示交互库操作后所给出的序列。\n\n`std::vector<int> Play();` \n\n- 这个函数用于你的程序**返回**你操作后的序列。\n- 你需要返回一个长度为 $n$ 的 `std::vector<int>` $a$，表示你操作后所给出的序列。\n\n**本题每个测试点有多组测试数据**。在每个测试点中，对于每组数据，交互库的交互格式如下：\n\n- 先调用一次 `Init()`。\n- 当选手程序选择了先手，调用 `Play()`；否则跳过这一步。\n- 交互库对 $a$ 进行一次操作后调用 `Get()`。\n- 接下来交互库交替调用 `Play()` 和 `Get()`，保证每连续两次调用中操作恰好调用一次 `Play()` 和一次 `Get()`。\n- 特别地，如果某次调用 `Play()` 后交互库将 $a$ 操作至终止状态，或者交互库无法操作时，交互库会得出结果并终止这组测试数据的调用过程，跳到下一组测试数据。也就是最后交互库并不会再调用一次 `Get()`。\n\n本题将使用**自定义校验器**对你的交互过程进行评分，具体见 **【评分方式】**。", "inputFormat": "见 **【说明/提示】**。", "outputFormat": "见 **【说明/提示】**。", "hint": "**本题使用多组测试数据。**\n\n**【样例解释】**\n\n该样例由两个测试数据构成。\n\n第一个测试数据，选择先手 Hikari 必胜。\n\n第二个测试数据，选择后手 Tairitsu 必胜。\n\n**【说明/提示】**\n\n本题附件中提供了 `grader.cpp` 文件和 `sample.cpp` 文件。`sample.cpp` 是选手示例程序，你可以在此基础上实现。`grader.cpp` 是下发交互库，其中下发交互库的策略不是最终交互库的策略，因此你的实现不应依赖于交互库的实现。\n\n你需要将你的程序 `game.cpp` 和 `grader.cpp` 放置在同一目录下，并在该目录下使用如下编译命令得到可执行程序 `game(.exe)`：\n\n`g++ -o game grader.cpp game.cpp -O2 -std=c++14`\n\n可执行程序从标准输入读入以下格式的数据：\n\n- 第一行两个正整数 $T$ 和 $op$，$T$ 为测试数据组数，$op$ 为子任务编号。有且仅有样例满足 $op=0$。\n- 接下来每组测试数据，输入格式如下：\n  - 第一行输入一个正整数 $n$，表示序列 $a$ 的长度。\n  - 第二行输入 $n$ 个正整数，表示 $a_0,a_1,\\ldots,a_{n-1}$。\n\n在本地测试时，请务必保证你的输入与交互格式符合要求，否则我们不保证交互库会正常运行。\n\n如果你的输入与交互格式合法且没有运行错误，下发的交互库将会根据你的调用输出如下信息：\n\n- 若你成功打赢了交互库，交互库输出 `AC`。\n- 否则交互库输出 `WA`。\n\n你的程序不应该操作标准输入输出，否则视为攻击交互库。\n\n**【评分方式】**\n\n本题将使用**自定义校验器**对你的交互过程进行评分。在每个测试点中，如果你超出了时间限制，超出了空间限制，或发生了运行时错误，则你的得分为 $0$。否则你的分数取决于你的程序在交互过程中的表现：\n\n- 参数 $S$ 与你的程序在交互过程中的表现有关：\n  - 若你在测试点中的每个测试数据中，均选择了正确的先后手并且均打赢了交互库，则 $S=1$。\n  - 若你在测试点中的每个测试数据中，均选择了正确的先后手但是有不合法操作或者打输了交互库，则 $S=0.2$。\n  - 若你在测试点中的每个测试数据中，至少一次选择了错误的先后手但是均打赢了交互库，则若 $op\\in \\{4,5\\}$，$S=1$；否则 $S=0.6$。\n  - 否则 $S=0$。\n- 最终你在该测试点的得分为 $S\\times score$，$score$ 为测试点所在子任务的分数。\n- 最终你在某个子任务的得分为你在子任务内所有测试点的得分的最小值。\n\n**【数据范围】**\n\n**本题采用捆绑测试**。\n\n| 子任务编号（$op =$） | $n\\le$ | $a_i\\le$ | 特殊性质 | 分值 |\n| :--------: | :----: | :------: | :------: | :--: |\n|    $1$     |  $3$   |   $2$    |    无    | $5$  |\n|    $2$     |  $10$  |   $2$    |    无    | $15$ |\n|    $3$     | $100$  |  $100$   |    无    | $10$ |\n|    $4$     | $2000$ |  $2000$  |    A     | $15$ |\n|    $5$     | $2000$ |  $2000$  |    B     | $20$ |\n|    $6$     | $2000$ |  $2000$  |    无    | $35$ |\n\n- 特殊性质 A：交互库的策略为选择一个非空的堆，拿走若干个碎片并将剩余的碎片放回原堆中。\n- 特殊性质 B：交互库的策略为选择一个非空的堆，拿走若干个碎片并将剩余的碎片全部放到一个堆中（可能为原堆）。\n\n对于所有数据，满足 $1 \\le T\\le 2000$，$1 \\le op \\le 6$，$1 \\le n\\le 2000$，$1 \\le a_i\\le 2000$，$1 \\le \\sum a_i \\le 4000$，$1 \\le\\sum n\\le 2000$，$1 \\le \\sum\\sum a_i\\le 4000$。\n\n保证每个测试点中 `Init()` 的调用次数不超过 `2000` 次，`Get()` 和 `Play()` 的调用次数总和不超过 `4000` 次。当选手交互格式正确时，交互库运行所占用的时间始终不超过 500ms。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T5】「GFOI Round 1」World Ender", "background": "原题链接：<https://oier.team/problems/X5F>。\n\n---\n\n> [$\\small\\text{The Border of \\textbf{Divinity}}.$](https://music.163.com/#/song?id=1962519608)", "description": "**这是一道交互题，仅支持 C++ 语言提交，且不支持 C++14（GCC 9）。**\n\nHikari 和 Tairitsu 用她们的玻璃渣子发明了新的游戏。\n\n有 $n$ 堆碎片，编号为 $0\\sim n-1$。\n\n$a$ 为一个长度为 $n$，下标为 $0\\sim n-1$ 的正整数序列，表示第 $i$ 堆碎片的数量为 $a_i$。\n\n她们轮流进行操作，每轮操作如下：\n\n- 选择一堆碎片 $i$，拿出不少于一个碎片并丢弃；\n- 然后将 $i$ 这一堆中剩下的碎片随意分配到所有非空的堆中，**特别地，可以放回原来的堆**。\n\nHikari 先手，不能操作者输。\n\n你将会成为 Hikari 或者 Tairitsu 中的一个，和另一个进行游戏。\n\n具体地，给定 $a_0, a_1, \\ldots, a_{n-1}$，你需要选定先后手并在 $a_0, a_1, \\ldots, a_{n-1}$ 上和交互库进行游戏。\n\n### 交互格式\n\n**本题使用多组测试数据且采用捆绑测试**。\n\n你的程序不需要，也不应该包含 `main` 函数。\n\n然后你只需要实现如下 $3$ 个函数：\n\n`bool Init(int n, int op, std::vector<int> a);`\n\n- 这个函数用于你的程序的初始化与预处理。\n- 其中 $n$ 为题意所述的碎片堆数，$op$ 为子任务编号。\n- $a$ 为一个长度为 $n$，下标为 $0\\sim n-1$ 的 `std::vector<int>`，表示上述的序列。\n- 你需要返回一个 $\\{0,1\\}$ 中的数。返回 $0$ 表示在游戏中你选择先手 Hikari，返回 $1$ 表示你选择后手 Tairitsu。\n\n`void Get(std::vector<int> a);`\n\n- 这个函数用于你的程序**接收**交互库操作后的序列。\n- $a$ 为一个长度为 $n$ 的 `std::vector<int>`，表示交互库操作后所给出的序列。\n\n`std::vector<int> Play();` \n\n- 这个函数用于你的程序**返回**你操作后的序列。\n- 你需要返回一个长度为 $n$ 的 `std::vector<int>` $a$，表示你操作后所给出的序列。\n\n**本题每个测试点有多组测试数据**。在每个测试点中，对于每组数据，交互库的交互格式如下：\n\n- 先调用一次 `Init()`。\n- 当选手程序选择了先手，调用 `Play()`；否则跳过这一步。\n- 交互库对 $a$ 进行一次操作后调用 `Get()`。\n- 接下来交互库交替调用 `Play()` 和 `Get()`，保证每连续两次调用中操作恰好调用一次 `Play()` 和一次 `Get()`。\n- 特别地，如果某次调用 `Play()` 后交互库将 $a$ 操作至终止状态，或者交互库无法操作时，交互库会得出结果并终止这组测试数据的调用过程，跳到下一组测试数据。也就是最后交互库并不会再调用一次 `Get()`。\n\n本题将使用**自定义校验器**对你的交互过程进行评分，具体见 **【评分方式】**。", "inputFormat": "见 **【说明/提示】**。", "outputFormat": "见 **【说明/提示】**。", "hint": "**本题使用多组测试数据。**\n\n**【样例解释】**\n\n该样例由两个测试数据构成。\n\n第一个测试数据，选择先手 Hikari 必胜。\n\n第二个测试数据，选择后手 Tairitsu 必胜。\n\n**【说明/提示】**\n\n本题附件中提供了 `grader.cpp` 文件和 `sample.cpp` 文件。`sample.cpp` 是选手示例程序，你可以在此基础上实现。`grader.cpp` 是下发交互库，其中下发交互库的策略不是最终交互库的策略，因此你的实现不应依赖于交互库的实现。\n\n你需要将你的程序 `game.cpp` 和 `grader.cpp` 放置在同一目录下，并在该目录下使用如下编译命令得到可执行程序 `game(.exe)`：\n\n`g++ -o game grader.cpp game.cpp -O2 -std=c++14`\n\n可执行程序从标准输入读入以下格式的数据：\n\n- 第一行两个正整数 $T$ 和 $op$，$T$ 为测试数据组数，$op$ 为子任务编号。有且仅有样例满足 $op=0$。\n- 接下来每组测试数据，输入格式如下：\n  - 第一行输入一个正整数 $n$，表示序列 $a$ 的长度。\n  - 第二行输入 $n$ 个正整数，表示 $a_0,a_1,\\ldots,a_{n-1}$。\n\n在本地测试时，请务必保证你的输入与交互格式符合要求，否则我们不保证交互库会正常运行。\n\n如果你的输入与交互格式合法且没有运行错误，下发的交互库将会根据你的调用输出如下信息：\n\n- 若你成功打赢了交互库，交互库输出 `AC`。\n- 否则交互库输出 `WA`。\n\n你的程序不应该操作标准输入输出，否则视为攻击交互库。\n\n**【评分方式】**\n\n本题将使用**自定义校验器**对你的交互过程进行评分。在每个测试点中，如果你超出了时间限制，超出了空间限制，或发生了运行时错误，则你的得分为 $0$。否则你的分数取决于你的程序在交互过程中的表现：\n\n- 参数 $S$ 与你的程序在交互过程中的表现有关：\n  - 若你在测试点中的每个测试数据中，均选择了正确的先后手并且均打赢了交互库，则 $S=1$。\n  - 若你在测试点中的每个测试数据中，均选择了正确的先后手但是有不合法操作或者打输了交互库，则 $S=0.2$。\n  - 若你在测试点中的每个测试数据中，至少一次选择了错误的先后手但是均打赢了交互库，则若 $op\\in \\{4,5\\}$，$S=1$；否则 $S=0.6$。\n  - 否则 $S=0$。\n- 最终你在该测试点的得分为 $S\\times score$，$score$ 为测试点所在子任务的分数。\n- 最终你在某个子任务的得分为你在子任务内所有测试点的得分的最小值。\n\n**【数据范围】**\n\n**本题采用捆绑测试**。\n\n| 子任务编号（$op =$） | $n\\le$ | $a_i\\le$ | 特殊性质 | 分值 |\n| :--------: | :----: | :------: | :------: | :--: |\n|    $1$     |  $3$   |   $2$    |    无    | $5$  |\n|    $2$     |  $10$  |   $2$    |    无    | $15$ |\n|    $3$     | $100$  |  $100$   |    无    | $10$ |\n|    $4$     | $2000$ |  $2000$  |    A     | $15$ |\n|    $5$     | $2000$ |  $2000$  |    B     | $20$ |\n|    $6$     | $2000$ |  $2000$  |    无    | $35$ |\n\n- 特殊性质 A：交互库的策略为选择一个非空的堆，拿走若干个碎片并将剩余的碎片放回原堆中。\n- 特殊性质 B：交互库的策略为选择一个非空的堆，拿走若干个碎片并将剩余的碎片全部放到一个堆中（可能为原堆）。\n\n对于所有数据，满足 $1 \\le T\\le 2000$，$1 \\le op \\le 6$，$1 \\le n\\le 2000$，$1 \\le a_i\\le 2000$，$1 \\le \\sum a_i \\le 4000$，$1 \\le\\sum n\\le 2000$，$1 \\le \\sum\\sum a_i\\le 4000$。\n\n保证每个测试点中 `Init()` 的调用次数不超过 `2000` 次，`Get()` 和 `Play()` 的调用次数总和不超过 `4000` 次。当选手交互格式正确时，交互库运行所占用的时间始终不超过 500ms。", "locale": "zh-CN"}}}
{"pid": "P11134", "type": "P", "difficulty": 6, "samples": [["4\n5\n1 7 1 3\n2 4 2 6\n3 5 3 5\n6 7 2 9\n3 4 1 4\n5\n2 7 3 3\n1 3 5 6\n4 5 3 5\n6 7 1 9\n1 1 5 4\n4\n1 4 1 3\n1 2 2 1\n3 4 3 5\n1 4 4 4\n3\n1 3 1 1\n2 3 1 3\n4 5 1 8", "22\n41\n17\n-1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "O2优化", "梦熊比赛"], "title": "【MX-X5-T6】「GFOI Round 1」Abiogenesis", "background": "原题链接：<https://oier.team/problems/X5G>。\n\n---\n\n> [Abiogenesis - Juggernaut.](https://music.163.com/#/song?id=1416321652)\n\n本题为 [Codeforces 1981 E. Turtle and Intersected Segments](https://codeforces.com/contest/1981/problem/E) 改编。", "description": "给 $n$ 条线段 $[l_i, r_i]$，第 $i$ 条线段有一组权值 $a_i, b_i$。\n\n有一个无向图 $G$，其初始有 $n$ 个结点，$0$ 条边。对于每一对正整数 $i, j$ 满足 $1 \\le i < j \\le n$，若编号为 $i, j$ 的线段相交，就在 $G$ 中连一条两个端点分别为 $i, j$，边权为 $a_i + a_j + |b_i - b_j|$ 的边。\n\n求 $G$ 最小生成树边权之和，或报告 $G$ 不连通。\n\n如果两条线段 $[l_1, r_1]$ 和 $[l_2, r_2]$ 满足 $\\max(l_1, l_2) \\le \\min(r_1, r_2)$，就认为它们是相交的。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含一个正整数 $n$，表示线段的个数。\n\n之后的 $n$ 行中的第 $i$ 行包含四个正整数 $l_i, r_i, a_i, b_i$。", "outputFormat": "对于每组数据，输出一行一个整数，表示 $G$ 最小生成树边权之和。特别地，若 $G$ 不连通，输出 $-1$。", "hint": "**【样例解释】**\n\n对于第一组数据，$G$ 的形态如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sozig2ub.png)\n\n$G$ 的其中一个最小生成树形态如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2ymd3s7z.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 | 分值 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $100$ | $10^5$ | 无 | 无 | $11$ |\n| $2$ | $10^5$ | $10^5$ | AC | 无 | $5$ |\n| $3$ | $10^5$ | $10^5$ | A | $2$ | $14$ |\n| $4$ | $10^5$ | $10^5$ | B | 无 | $14$ |\n| $5$ | $10^5$ | $10^5$ | C | $2$ | $14$ |\n| $6$ | $10^5$ | $10^5$ | D | 无 | $14$ |\n| $7$ | $10^5$ | $10^5$ | 无 | $1, 2, 3, 4, 5, 6$ | $28$ |\n\n- 特殊性质 A：$\\forall i \\in [1, n], l_i = 1$。\n- 特殊性质 B：$\\forall i \\in [1, n - 1], l_i \\le l_{i + 1}, r_i \\le r_{i + 1}$。\n- 特殊性质 C：$\\forall i \\in [1, n], b_i = 1$。\n- 特殊性质 D：$\\forall i \\in [1, n], a_i = b_i$。\n\n对于所有数据，满足 $1 \\le T \\le 10^4$，$1 \\le n, \\sum n \\le 10^5$，$1 \\le l_i, r_i, a_i, b_i \\le 10^8$，$l_i \\le r_i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T6】「GFOI Round 1」Abiogenesis", "background": "原题链接：<https://oier.team/problems/X5G>。\n\n---\n\n> [Abiogenesis - Juggernaut.](https://music.163.com/#/song?id=1416321652)\n\n本题为 [Codeforces 1981 E. Turtle and Intersected Segments](https://codeforces.com/contest/1981/problem/E) 改编。", "description": "给 $n$ 条线段 $[l_i, r_i]$，第 $i$ 条线段有一组权值 $a_i, b_i$。\n\n有一个无向图 $G$，其初始有 $n$ 个结点，$0$ 条边。对于每一对正整数 $i, j$ 满足 $1 \\le i < j \\le n$，若编号为 $i, j$ 的线段相交，就在 $G$ 中连一条两个端点分别为 $i, j$，边权为 $a_i + a_j + |b_i - b_j|$ 的边。\n\n求 $G$ 最小生成树边权之和，或报告 $G$ 不连通。\n\n如果两条线段 $[l_1, r_1]$ 和 $[l_2, r_2]$ 满足 $\\max(l_1, l_2) \\le \\min(r_1, r_2)$，就认为它们是相交的。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含一个正整数 $n$，表示线段的个数。\n\n之后的 $n$ 行中的第 $i$ 行包含四个正整数 $l_i, r_i, a_i, b_i$。", "outputFormat": "对于每组数据，输出一行一个整数，表示 $G$ 最小生成树边权之和。特别地，若 $G$ 不连通，输出 $-1$。", "hint": "**【样例解释】**\n\n对于第一组数据，$G$ 的形态如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sozig2ub.png)\n\n$G$ 的其中一个最小生成树形态如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2ymd3s7z.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 | 分值 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $100$ | $10^5$ | 无 | 无 | $11$ |\n| $2$ | $10^5$ | $10^5$ | AC | 无 | $5$ |\n| $3$ | $10^5$ | $10^5$ | A | $2$ | $14$ |\n| $4$ | $10^5$ | $10^5$ | B | 无 | $14$ |\n| $5$ | $10^5$ | $10^5$ | C | $2$ | $14$ |\n| $6$ | $10^5$ | $10^5$ | D | 无 | $14$ |\n| $7$ | $10^5$ | $10^5$ | 无 | $1, 2, 3, 4, 5, 6$ | $28$ |\n\n- 特殊性质 A：$\\forall i \\in [1, n], l_i = 1$。\n- 特殊性质 B：$\\forall i \\in [1, n - 1], l_i \\le l_{i + 1}, r_i \\le r_{i + 1}$。\n- 特殊性质 C：$\\forall i \\in [1, n], b_i = 1$。\n- 特殊性质 D：$\\forall i \\in [1, n], a_i = b_i$。\n\n对于所有数据，满足 $1 \\le T \\le 10^4$，$1 \\le n, \\sum n \\le 10^5$，$1 \\le l_i, r_i, a_i, b_i \\le 10^8$，$l_i \\le r_i$。", "locale": "zh-CN"}}}
{"pid": "P11135", "type": "P", "difficulty": 7, "samples": [["5 998244353\n5 1\n6 1\n6 2\n6 3\n10 20\n", "4 1 5 3 2\n5 4 3 2 1 6\n3 6 2 5 1 4\n-1\n5 10 4 3 2 9 8 7 1 6\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "Special Judge", "O2优化", "剪枝", "状压 DP", "梦熊比赛"], "title": "【MX-X5-T7】「GFOI Round 1」Der Richter", "background": "原题链接：<https://oier.team/problems/X5H>。\n\n---\n\n> [Der Richter - Ωμεγα](https://www.bilibili.com/video/BV11SpberEjC/)", "description": "我们首先给出关于本题的一些定义。\n\n定义一个 $1 \\sim n$ 的排列 $p_1, p_2, \\ldots, p_n$ 是**好的**，当且仅当 $\\exists k \\in [1, n - 1], \\max\\limits_{i = 1}^k p_i = k$。\n\n定义一个序列 $x_1, x_2, \\ldots, x_k$ 是一个排列 $p_1, p_2, \\ldots, p_n$ 的**交换方案**，当且仅当：\n\n- $\\forall 1 \\le i \\le k$，$1 \\le x_i \\le n - 1$ 且 $x_i$ 是整数；\n- 对所有 $i = 1 \\sim k$ **依次**执行交换 $p$ 中 $x_i$ 和 $x_i + 1$ 位置上的数的操作之后，$p$ 是**好的**。\n\n特别地，序列 $x$ 可以为空，代表不进行任何交换操作。\n\n定义一个序列 $x_1, x_2, \\ldots, x_k$ 是一个排列 $p_1, p_2, \\ldots, p_n$ 的**关键交换方案**，当且仅当：\n\n- $x$ 是 $p$ 的一个**交换方案**；\n- $x$ 是 $p$ 的所有**交换方案**中长度最小的。\n\n定义 $f(p)$ 为排列 $p$ 的不同的**关键交换方案**的个数。\n\n定义一个排列 $q$ 是另一个排列 $p$ 的一个**终态**，当且仅当：\n\n- $p$ 的长度与 $q$ 相等；\n- $q$ 是**好的**；\n- 存在一个 $p$ 的**关键交换方案** $x_1, x_2, \\ldots, x_k$，使得对所有 $i = 1 \\sim k$ **依次**执行交换 $p$ 中 $x_i$ 和 $x_i + 1$ 位置上的数的操作之后，$p$ 与 $q$ 相同（即 $\\forall 1 \\le i \\le |p|, p_i = q_i$）。\n\n定义一个排列 $p$ 是**极好的**，当且仅当只存在**一个**排列 $q$，使得 $q$ 是 $p$ 的**终态**。\n\n给定一个**质数** $P$ 和 $q$ 次询问，每次询问给定两个整数 $n, m$，你需要构造任意一个**极好的**长度为 $n$ 且 $f(p) \\equiv m \\pmod P$ 的 $1 \\sim n$ 的排列 $p$，或报告无解。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即若有解输出任意一个满足要求的排列都会被认为通过。", "inputFormat": "第一行输入两个正整数 $q, P$，表示询问次数和模数。\n\n接下来 $q$ 行，每行包含两个整数 $n, m$。", "outputFormat": "对于每次询问：\n\n- 若无解输出一行一个整数 $-1$；\n- 否则输出一行 $n$ 个整数，表示任意一个符合要求的 $1 \\sim n$ 的排列 $p_1, p_2, \\ldots, p_n$。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即若有解输出任意一个满足要求的排列都会被认为通过。", "hint": "**【样例解释】**\n\n对于第一次询问，排列 $p = [4, 1, 5, 3, 2]$ 的**关键交换方案**只有 $x = [1]$，且因为 $p$ 的**终态**只有 $q = [1, 4, 5, 3, 2]$ 所以 $p$ 是**极好的**。\n\n对于第二次询问，排列 $p = [5, 4, 3, 2, 1, 6]$ 的**关键交换方案**只有 $x = []$，且因为 $p$ 的**终态**只有 $q = [5, 4, 3, 2, 1, 6]$ 所以 $p$ 是**极好的**。\n\n对于第三次询问，排列 $p = [3, 6, 2, 5, 1, 4]$ 的**关键交换方案**有 $x = [2, 4, 3]$ 和 $x = [4, 2, 3]$，且因为 $p$ 的**终态**只有 $q = [3, 2, 1, 6, 5, 4]$ 所以 $p$ 是**极好的**。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | $n \\le$ | 特殊性质 | 分值 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $8$ | 无 | $17$ |\n| $2$ | $50$ | A | $3$ |\n| $3$ | $50$ | B | $3$ |\n| $4$ | $18$ | 无 | $19$ |\n| $5$ | $40$ | 无 | $16$ |\n| $6$ | $50$ | 无 | $9$ |\n| $7$ | $60$ | 无 | $10$ |\n| $8$ | $70$ | 无 | $11$ |\n| $9$ | $80$ | 无 | $12$ |\n\n- 特殊性质 A：$m = 0$。\n- 特殊性质 B：$m = 1$。\n\n对于所有数据，满足 $1 \\le q \\le 10^4$，$9 \\times 10^8 < P < 10^9$，$2 \\le n \\le 80$，$0 \\le m < P$，$P$ 是**质数**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X5-T7】「GFOI Round 1」Der Richter", "background": "原题链接：<https://oier.team/problems/X5H>。\n\n---\n\n> [Der Richter - Ωμεγα](https://www.bilibili.com/video/BV11SpberEjC/)", "description": "我们首先给出关于本题的一些定义。\n\n定义一个 $1 \\sim n$ 的排列 $p_1, p_2, \\ldots, p_n$ 是**好的**，当且仅当 $\\exists k \\in [1, n - 1], \\max\\limits_{i = 1}^k p_i = k$。\n\n定义一个序列 $x_1, x_2, \\ldots, x_k$ 是一个排列 $p_1, p_2, \\ldots, p_n$ 的**交换方案**，当且仅当：\n\n- $\\forall 1 \\le i \\le k$，$1 \\le x_i \\le n - 1$ 且 $x_i$ 是整数；\n- 对所有 $i = 1 \\sim k$ **依次**执行交换 $p$ 中 $x_i$ 和 $x_i + 1$ 位置上的数的操作之后，$p$ 是**好的**。\n\n特别地，序列 $x$ 可以为空，代表不进行任何交换操作。\n\n定义一个序列 $x_1, x_2, \\ldots, x_k$ 是一个排列 $p_1, p_2, \\ldots, p_n$ 的**关键交换方案**，当且仅当：\n\n- $x$ 是 $p$ 的一个**交换方案**；\n- $x$ 是 $p$ 的所有**交换方案**中长度最小的。\n\n定义 $f(p)$ 为排列 $p$ 的不同的**关键交换方案**的个数。\n\n定义一个排列 $q$ 是另一个排列 $p$ 的一个**终态**，当且仅当：\n\n- $p$ 的长度与 $q$ 相等；\n- $q$ 是**好的**；\n- 存在一个 $p$ 的**关键交换方案** $x_1, x_2, \\ldots, x_k$，使得对所有 $i = 1 \\sim k$ **依次**执行交换 $p$ 中 $x_i$ 和 $x_i + 1$ 位置上的数的操作之后，$p$ 与 $q$ 相同（即 $\\forall 1 \\le i \\le |p|, p_i = q_i$）。\n\n定义一个排列 $p$ 是**极好的**，当且仅当只存在**一个**排列 $q$，使得 $q$ 是 $p$ 的**终态**。\n\n给定一个**质数** $P$ 和 $q$ 次询问，每次询问给定两个整数 $n, m$，你需要构造任意一个**极好的**长度为 $n$ 且 $f(p) \\equiv m \\pmod P$ 的 $1 \\sim n$ 的排列 $p$，或报告无解。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即若有解输出任意一个满足要求的排列都会被认为通过。", "inputFormat": "第一行输入两个正整数 $q, P$，表示询问次数和模数。\n\n接下来 $q$ 行，每行包含两个整数 $n, m$。", "outputFormat": "对于每次询问：\n\n- 若无解输出一行一个整数 $-1$；\n- 否则输出一行 $n$ 个整数，表示任意一个符合要求的 $1 \\sim n$ 的排列 $p_1, p_2, \\ldots, p_n$。\n\n本题将使用**自定义校验器**检查你构造的排列是否正确，即若有解输出任意一个满足要求的排列都会被认为通过。", "hint": "**【样例解释】**\n\n对于第一次询问，排列 $p = [4, 1, 5, 3, 2]$ 的**关键交换方案**只有 $x = [1]$，且因为 $p$ 的**终态**只有 $q = [1, 4, 5, 3, 2]$ 所以 $p$ 是**极好的**。\n\n对于第二次询问，排列 $p = [5, 4, 3, 2, 1, 6]$ 的**关键交换方案**只有 $x = []$，且因为 $p$ 的**终态**只有 $q = [5, 4, 3, 2, 1, 6]$ 所以 $p$ 是**极好的**。\n\n对于第三次询问，排列 $p = [3, 6, 2, 5, 1, 4]$ 的**关键交换方案**有 $x = [2, 4, 3]$ 和 $x = [4, 2, 3]$，且因为 $p$ 的**终态**只有 $q = [3, 2, 1, 6, 5, 4]$ 所以 $p$ 是**极好的**。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | $n \\le$ | 特殊性质 | 分值 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $8$ | 无 | $17$ |\n| $2$ | $50$ | A | $3$ |\n| $3$ | $50$ | B | $3$ |\n| $4$ | $18$ | 无 | $19$ |\n| $5$ | $40$ | 无 | $16$ |\n| $6$ | $50$ | 无 | $9$ |\n| $7$ | $60$ | 无 | $10$ |\n| $8$ | $70$ | 无 | $11$ |\n| $9$ | $80$ | 无 | $12$ |\n\n- 特殊性质 A：$m = 0$。\n- 特殊性质 B：$m = 1$。\n\n对于所有数据，满足 $1 \\le q \\le 10^4$，$9 \\times 10^8 < P < 10^9$，$2 \\le n \\le 80$，$0 \\le m < P$，$P$ 是**质数**。", "locale": "zh-CN"}}}
{"pid": "P11136", "type": "P", "difficulty": 1, "samples": [["1 1 4 5", "324"], ["100 100 100 0", "1000000"], ["114 51 419 198", "47933496"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[APC001] A - CT", "background": "Compressed Towel.\n\n~~什么，这不是公开赛，这是压缩毛巾，遇水变大变高~~。", "description": "这是一个有魔力的压缩毛巾，可以无限变大。\n\n压缩毛巾的初始长、宽、高分别为 $a, b, h$ 厘米。它遇到水 $k$ 次，每次遇到水，长宽高增加 $1$ 厘米。请输出最后压缩毛巾的体积。单位为立方厘米。\n\n但是某人觉得这题太简单了，懒惰的他把这题丢给了你，所以你需要做出这道题。", "inputFormat": "四个数，分别为 $a,b,h,k$。", "outputFormat": "一个数表示答案，由于答案可能过大，输出其 $\\bmod~988444333$ 的值。\n\n**请注意本题的模数**。", "hint": "### 样例解释 $1$\n\n计算可得 $(1+5)\\times(1+5)\\times(4+5)=6\\times6\\times9=324$。\n\n### 样例解释 $2$\n\n请注意压缩毛巾可以不遇到水。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\leq a,b,h\\leq 500$，$0\\leq k\\leq 500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] A - CT", "background": "Compressed Towel.\n\n~~什么，这不是公开赛，这是压缩毛巾，遇水变大变高~~。", "description": "这是一个有魔力的压缩毛巾，可以无限变大。\n\n压缩毛巾的初始长、宽、高分别为 $a, b, h$ 厘米。它遇到水 $k$ 次，每次遇到水，长宽高增加 $1$ 厘米。请输出最后压缩毛巾的体积。单位为立方厘米。\n\n但是某人觉得这题太简单了，懒惰的他把这题丢给了你，所以你需要做出这道题。", "inputFormat": "四个数，分别为 $a,b,h,k$。", "outputFormat": "一个数表示答案，由于答案可能过大，输出其 $\\bmod~988444333$ 的值。\n\n**请注意本题的模数**。", "hint": "### 样例解释 $1$\n\n计算可得 $(1+5)\\times(1+5)\\times(4+5)=6\\times6\\times9=324$。\n\n### 样例解释 $2$\n\n请注意压缩毛巾可以不遇到水。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\leq a,b,h\\leq 500$，$0\\leq k\\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P11137", "type": "P", "difficulty": 1, "samples": [["3\nchachong\nabcabcat\nchocolat\nnoiprp++", "0\nGood job!"], ["10\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b\napc001_b", "10\nMake persistent efforts."], ["25\na\nb\nc\nd\ne\nf\ng\nh\ni\nj\nk\nl\nm\nn\no\np\nq\nr\ns\nt\nu\nv\nw\nx\ny\nz", "0\nGood job!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[APC001] B - Checker", "background": "小 K 正在出公开赛。他有一个 idea，但他担心重题，因此，他需要确认这题是不是重题。不过他还有很多事情要做，因此他把这个任务交给了你。", "description": "题库里共有 $ n $ 道题目，每道题目的名称都是一个**长度不足 $ 10 $** 的字符串。设题目名称长度为 $k$，我们定义两道题为**重题**当且仅当两道题题目名称有 $\\ge \\left\\lceil\\frac{k}{2} \\right\\rceil$ 的相同位置的字符相同。\n\n现在小 K 把这道题交给了你，希望你帮他查重（即，将自己的题目与其他的题目进行一一比对，判断是否为重题）。", "inputFormat": "先输入一个正整数 $ n $ 表示题库中的题目数量，之后输入一个字符串 $ s $ 表示小 K 出的题目的名称。\n\n之后 $ n $ 行每行一个字符串表示这些题目的名称。\n\n**输入的每个字符串长度相同。**", "outputFormat": "两行，第一行输出重题数量，若没有重题则第二行输出 `Good job!`，否则输出 `Make persistent efforts.`。", "hint": "**【样例解释 #1】**\n\n题目名为 `chachong`，与第一题中的 $ 0 $ 个字符相同，与第二题中的 $ 3 $ 个字符相同，与第三题中的 $0$ 个字符相同，而每题都有 $ 8 $ 个字符，没有与小 K 出的题目有大于等于 $ 8 \\times 50\\% = 4 $ 个字符相同的题目。\n\n**【样例解释 #2】**\n\n请注意有可能在题库中也包含重题。\n\n**【数据规模】**\n\n对于 $100\\%$ 的数据，保证 $ 1 \\le n \\le 10^4 ,1\\le k\\le10$，每个字符串长度相同，且不含不可见字符。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] B - Checker", "background": "小 K 正在出公开赛。他有一个 idea，但他担心重题，因此，他需要确认这题是不是重题。不过他还有很多事情要做，因此他把这个任务交给了你。", "description": "题库里共有 $ n $ 道题目，每道题目的名称都是一个**长度不足 $ 10 $** 的字符串。设题目名称长度为 $k$，我们定义两道题为**重题**当且仅当两道题题目名称有 $\\ge \\left\\lceil\\frac{k}{2} \\right\\rceil$ 的相同位置的字符相同。\n\n现在小 K 把这道题交给了你，希望你帮他查重（即，将自己的题目与其他的题目进行一一比对，判断是否为重题）。", "inputFormat": "先输入一个正整数 $ n $ 表示题库中的题目数量，之后输入一个字符串 $ s $ 表示小 K 出的题目的名称。\n\n之后 $ n $ 行每行一个字符串表示这些题目的名称。\n\n**输入的每个字符串长度相同。**", "outputFormat": "两行，第一行输出重题数量，若没有重题则第二行输出 `Good job!`，否则输出 `Make persistent efforts.`。", "hint": "**【样例解释 #1】**\n\n题目名为 `chachong`，与第一题中的 $ 0 $ 个字符相同，与第二题中的 $ 3 $ 个字符相同，与第三题中的 $0$ 个字符相同，而每题都有 $ 8 $ 个字符，没有与小 K 出的题目有大于等于 $ 8 \\times 50\\% = 4 $ 个字符相同的题目。\n\n**【样例解释 #2】**\n\n请注意有可能在题库中也包含重题。\n\n**【数据规模】**\n\n对于 $100\\%$ 的数据，保证 $ 1 \\le n \\le 10^4 ,1\\le k\\le10$，每个字符串长度相同，且不含不可见字符。", "locale": "zh-CN"}}}
{"pid": "P11138", "type": "P", "difficulty": 3, "samples": [["5\nPAAAAPPPCA\nCAPPCPCAPAPA\nPPAAAACCAAAAAAAAC\nCAPPCAAPA\nAPPAACPPAPPPAPAAAA", "PAAAPPA\n1\n5 6 9\nCPPCAPAPA\n1\n2 4 5\nPPAAAACCAAAAAAAAC\n0\nCPAAPA\n1\n2 3 5\nPAAPPAPPPAPAAAA\n1\n1 2 6"], ["1\nAPC\n", "Perfect\n1\n1 2 3"], ["10\nPPCPAPAAACPAPACPPCPC\nAPPAPPAPPCPAPPCCCPPA\nAPPCCPPAPPAACCPPPPPP\nPACPPCAPCPPCPPPAAAAC\nPPPCPPCCPACAAACCCCAC\nACAAPCPAPAAAAPPACPPC\nACACPPCCPPAACPAAAAAC\nAPPCPCCCAPCACPAACACC\nAACPCAPACPPPCAAPCCPC\nPPACPPPCCAPAAAPCPAPA\n", "PPCPAAPP\n4\n5 6 10\n7 11 15\n8 13 18\n9 16 20\nPPPPPPPA\n4\n1 2 10\n4 5 15\n7 8 16\n12 13 17\nPCPPPAACPPPPPP\n2\n1 2 4\n8 9 13\nPCPPPCPPPAAAAC\n2\n2 4 6\n7 8 9\nPPPCPPCCPACAAACCCCAC\n0\nCAAAAAPPAPP\n3\n1 5 6\n3 7 17\n4 9 20\nCCPPACAAAAA\n3\n1 5 7\n3 6 8\n11 14 20\nPPCCCCAAACC\n3\n1 2 4\n9 10 11\n12 14 17\nCP\n6\n1 4 5\n2 7 9\n6 10 13\n8 11 17\n14 16 18\n15 19 20\nPPCPPCAAAPPAPA\n2\n3 5 8\n10 11 16\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["Special Judge", "O2优化", "队列"], "title": "[APC001] C - Not APC", "background": "这题并没有什么有趣的题目背景，祝您愉快。", "description": "小 A 有一个**仅由 `A`、`P`、`C` 构成**的字符串 $S$。\n\n小 A 需要**尽可能地**不断在这个字符串中消除形如 `APC` 这样的**子序列**，直到无法消除。\n\n最后，小 A 需要输出消除后的字符串。如果字符串可以被消除成空串，则输出 `Perfect`。\n\n然而小 A 不会这个题，所以来找你帮忙。", "inputFormat": "第一行一个数 $T$ 表示数据组数。\n\n接下来 $T$ 行每行一个字符串 $S$.", "outputFormat": "**本题使用 Special Judge。**\n\n请输出最短的答案字符串，并给出一种删除的方案。\n\n对于每组数据，第一行输出一个最短的答案字符串。如果可能的最短答案字符串或生成最短答案字符串的方案有多种，请输出任意一个。\n\n接下来一行输出一个整数 $q$，表示你的删除次数。\n\n接下来 $q$ 行每行三个整数，分别表示你在一次操作中删除的字符 `A`、`P`、`C` **在原字符串中**的位置，**下标从 $1$ 开始**。", "hint": "**样例解释 #1：**  \n对于第一组数据，字符串为 `PAAAAPPPCA`，下标为 $\\{5,6,9\\}$ 的字符串被删除，最终得到 `PAAAPPA`。\n\n对于第二组数据，字符串为 `CAPPCPCAPAPA`，下标为 $\\{2,4,5\\}$ 的字符被消除，得到 `CPPCAPAPA`。\n\n**样例解释 #2：**  \n唯一的一组数据中，字符串为 `APC`，显然能被全部消除，方案也显然。\n\n$1\\leq T\\leq 10$，$1\\leq \\sum |S|\\leq 3\\times 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] C - Not APC", "background": "这题并没有什么有趣的题目背景，祝您愉快。", "description": "小 A 有一个**仅由 `A`、`P`、`C` 构成**的字符串 $S$。\n\n小 A 需要**尽可能地**不断在这个字符串中消除形如 `APC` 这样的**子序列**，直到无法消除。\n\n最后，小 A 需要输出消除后的字符串。如果字符串可以被消除成空串，则输出 `Perfect`。\n\n然而小 A 不会这个题，所以来找你帮忙。", "inputFormat": "第一行一个数 $T$ 表示数据组数。\n\n接下来 $T$ 行每行一个字符串 $S$.", "outputFormat": "**本题使用 Special Judge。**\n\n请输出最短的答案字符串，并给出一种删除的方案。\n\n对于每组数据，第一行输出一个最短的答案字符串。如果可能的最短答案字符串或生成最短答案字符串的方案有多种，请输出任意一个。\n\n接下来一行输出一个整数 $q$，表示你的删除次数。\n\n接下来 $q$ 行每行三个整数，分别表示你在一次操作中删除的字符 `A`、`P`、`C` **在原字符串中**的位置，**下标从 $1$ 开始**。", "hint": "**样例解释 #1：**  \n对于第一组数据，字符串为 `PAAAAPPPCA`，下标为 $\\{5,6,9\\}$ 的字符串被删除，最终得到 `PAAAPPA`。\n\n对于第二组数据，字符串为 `CAPPCPCAPAPA`，下标为 $\\{2,4,5\\}$ 的字符被消除，得到 `CPPCAPAPA`。\n\n**样例解释 #2：**  \n唯一的一组数据中，字符串为 `APC`，显然能被全部消除，方案也显然。\n\n$1\\leq T\\leq 10$，$1\\leq \\sum |S|\\leq 3\\times 10^6$。", "locale": "zh-CN"}}}
{"pid": "P11139", "type": "P", "difficulty": 3, "samples": [["5\n1 2 10\n2 2 5\n4 2\n3\n4 2", "5\n1"], ["4\n1 1000000000 1000000000\n1 1000000000 1000000000\n1 1000000000 1000000000\n4 1000000000", "3000000000"], ["20\n4 95002957\n2 384405322 255642125\n2 384405322 174926753\n2 384405322 51265222\n1 384405322 311383201\n4 384405322\n1 384405322 5464229\n4 22438767\n4 17075617\n1 384405322 153189933\n1 230228188 148299369\n1 7168162 387115701\n1 384405322 154480360\n1 384405322 438458686\n3\n1 7961090 98996809\n4 153074129\n1 975025351 171484003\n1 384405322 650527951\n4 384405322", "0\n311383201\n0\n0\n0\n650527952"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "线段树", "O2优化", "STL"], "title": "[APC001] D - Array Again", "background": "", "description": "你需要维护一个数列，支持 $4$ 种操作：\n\n1. `1 x y`：连续向数列中插入 $y$ 个数 $x$。\n2. `2 x y`：连续在数列中删除 $y$ 次 $x$。如果在某一次删除中 $x$ 已经不存在于数列中，则忽略此操作。\n3. `3`：对数列进行去重，即，对于每个在数列中出现过的不同的正整数 $x$，如果它在数列中出现了大于 $1$ 次，则只在数列中保留一个 $x$，其余全部删除。\n4. `4 x`：查询数列中 $x$ 的出现次数。\n\n对于每个操作 $4$，请求出其答案。", "inputFormat": "第一行一个整数 $q$，表示询问次数。\n\n接下来 $q$ 行，每行若干个整数，表示一次操作。", "outputFormat": "对于每次操作 $4$ 输出一行，表示其答案。\n\n数据保证至少有一次操作 $4$。", "hint": "### 样例解释 $1$\n\n第 $1$ 次操作：插入 $10$ 个 $2$。\n\n第 $2$ 次操作：删除 $5$ 个 $2$。此后数列中只包含 $5$ 个 $2$。\n\n第 $3$ 次操作：查询 $2$ 的出现次数，共 $5$ 次。\n\n第 $4$ 次操作：对数列进行去重。此后数列中只包含一个 $2$。\n\n第 $5$ 次操作：查询 $2$ 的出现次数，共 $1$ 次。\n\n### 样例解释 $2$\n\n请注意答案可能会超过 `int` 的范围。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\le q\\le 10^5$，$1\\le x,y\\le 10^9$。\n\n请注意：由于本题所在比赛没有部分分，故只有通过所有的测试点才可以获得满分，否则会获得 $0$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] D - Array Again", "background": "", "description": "你需要维护一个数列，支持 $4$ 种操作：\n\n1. `1 x y`：连续向数列中插入 $y$ 个数 $x$。\n2. `2 x y`：连续在数列中删除 $y$ 次 $x$。如果在某一次删除中 $x$ 已经不存在于数列中，则忽略此操作。\n3. `3`：对数列进行去重，即，对于每个在数列中出现过的不同的正整数 $x$，如果它在数列中出现了大于 $1$ 次，则只在数列中保留一个 $x$，其余全部删除。\n4. `4 x`：查询数列中 $x$ 的出现次数。\n\n对于每个操作 $4$，请求出其答案。", "inputFormat": "第一行一个整数 $q$，表示询问次数。\n\n接下来 $q$ 行，每行若干个整数，表示一次操作。", "outputFormat": "对于每次操作 $4$ 输出一行，表示其答案。\n\n数据保证至少有一次操作 $4$。", "hint": "### 样例解释 $1$\n\n第 $1$ 次操作：插入 $10$ 个 $2$。\n\n第 $2$ 次操作：删除 $5$ 个 $2$。此后数列中只包含 $5$ 个 $2$。\n\n第 $3$ 次操作：查询 $2$ 的出现次数，共 $5$ 次。\n\n第 $4$ 次操作：对数列进行去重。此后数列中只包含一个 $2$。\n\n第 $5$ 次操作：查询 $2$ 的出现次数，共 $1$ 次。\n\n### 样例解释 $2$\n\n请注意答案可能会超过 `int` 的范围。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\le q\\le 10^5$，$1\\le x,y\\le 10^9$。\n\n请注意：由于本题所在比赛没有部分分，故只有通过所有的测试点才可以获得满分，否则会获得 $0$ 分。", "locale": "zh-CN"}}}
{"pid": "P11140", "type": "P", "difficulty": 4, "samples": [["453", "4"], ["3333", "5"], ["9475739582850286", "9360"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "O2优化"], "title": "[APC001] E - Linear Map", "background": "**请注意本题的特殊时间限制，并酌情使用较快的输入输出方式**。\n\n在广阔的 florr 世界中，有一个不为人知的角落，它的建立是为了方便快速测试新 mob，而现在它被废弃了，但没有消失。\n\n冒险者 MF 找到了这里，并发现其名字为：Linear map。", "description": "Linear map 可看作一个字符串，每个字符都是一个 $0\\sim 9$ 的数字。\n\nMF 认为，如果一个字符串存在两段长度均 $>1$ 的不同区间的和相同，那么该字符串是无趣的。\n\n比如，$3421$ 就是无趣的字符串，因为 $3+4=4+2+1$，而 $5023$ 也是无趣的字符串，因为 $5+0=2+3$。相反，$13$ 和 $285$ 都不是无趣的字符串。\n\nMF 打算将 Linear map 划分为若干非空连续且不重复的子段，这些子段包含了整个字符串的所有字符，且满足每个子段都不是无趣的字符串。\n\nMF 是一个有趣的人，于是它想算出划分的方案数，并对 $998244353$ 取模。", "inputFormat": "一行一个字符串 $s$。", "outputFormat": "一行一个整数表示答案对 $998244353$ 取模后的结果。", "hint": "### 样例解释\n\n- 样例 $\\tt\\#1$\n\t\n所有划分均合法：$\\{453\\},\\{45,3\\},\\{4,53\\},\\{4,5,3\\}$。\n\n- 样例 $\\tt\\#2$\n\t\n合法方案为：$\\{33,33\\},\\{33,3,3\\},\\{3,33,3\\},\\{3,3,33\\},\\{3,3,3,3\\}$。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，满足 $1\\le |s|\\le 1.5\\times 10^7$，且 $s$ 中仅包含数字。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] E - Linear Map", "background": "**请注意本题的特殊时间限制，并酌情使用较快的输入输出方式**。\n\n在广阔的 florr 世界中，有一个不为人知的角落，它的建立是为了方便快速测试新 mob，而现在它被废弃了，但没有消失。\n\n冒险者 MF 找到了这里，并发现其名字为：Linear map。", "description": "Linear map 可看作一个字符串，每个字符都是一个 $0\\sim 9$ 的数字。\n\nMF 认为，如果一个字符串存在两段长度均 $>1$ 的不同区间的和相同，那么该字符串是无趣的。\n\n比如，$3421$ 就是无趣的字符串，因为 $3+4=4+2+1$，而 $5023$ 也是无趣的字符串，因为 $5+0=2+3$。相反，$13$ 和 $285$ 都不是无趣的字符串。\n\nMF 打算将 Linear map 划分为若干非空连续且不重复的子段，这些子段包含了整个字符串的所有字符，且满足每个子段都不是无趣的字符串。\n\nMF 是一个有趣的人，于是它想算出划分的方案数，并对 $998244353$ 取模。", "inputFormat": "一行一个字符串 $s$。", "outputFormat": "一行一个整数表示答案对 $998244353$ 取模后的结果。", "hint": "### 样例解释\n\n- 样例 $\\tt\\#1$\n\t\n所有划分均合法：$\\{453\\},\\{45,3\\},\\{4,53\\},\\{4,5,3\\}$。\n\n- 样例 $\\tt\\#2$\n\t\n合法方案为：$\\{33,33\\},\\{33,3,3\\},\\{3,33,3\\},\\{3,3,33\\},\\{3,3,3,3\\}$。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，满足 $1\\le |s|\\le 1.5\\times 10^7$，且 $s$ 中仅包含数字。", "locale": "zh-CN"}}}
{"pid": "P11141", "type": "P", "difficulty": 4, "samples": [["3 1\n1 2\n1 3\n2\n2 6\n2 1", "2\n2"], ["4 1\n2 1\n3 2\n4 3\n3\n2 2\n2 5\n4 2", "1\n1\n2"], ["20 11\n2 8\n16 4\n6 7\n11 8\n10 13\n7 10\n17 7\n15 13\n10 14\n18 19\n1 2\n6 3\n12 1\n1 5\n1 4\n2 3\n9 5\n14 20\n5 18\n15\n9 269\n1 522\n6 327\n13 726\n14 8\n17 2\n18 4\n15 64\n9 5\n13 3\n18 1\n19 664\n5 3\n20 5\n6 4", "2\n2\n2\n2\n2\n3\n2\n2\n2\n3\n5\n2\n2\n3\n2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[APC001] F - Extend", "background": "~~**本题输入输出量较大，请酌情使用较快的输入输出方式**~~。已扩大时限从 $1s\\to 1.5s$。", "description": "对于一棵有 $n$ 个节点，根为 $k$ 的树，最开始有且仅有一个“可扩展的”节点 $z$，我们有两种扩展形式：\n\n- $\\text{I}$ 类扩展：从一个“可扩展的”节点 $u$ 开始扩展，把 $u$ 的子树中所有节点和所有满足与 $u$ 距离 $\\leq p$ 且是 $u$ 祖先的节点标记为“可扩展的”。\n- $\\text{II}$ 类扩展：从一个“可扩展的”节点 $u$ 开始扩展，把所有与 $u$ 深度相等的节点标记为“可扩展的”。\n\n你需要将所有结点都标记为“可扩展的”，求最小进行扩展的次数。", "inputFormat": "第一行两个整数 $n,k$。\n\n接下来 $n-1$ 行，每行两个整数 $u,v$，表示存在一条无向边连接 $u,v$。\n\n接下来一行一个整数 $t$，表示询问次数。\n\n接下来 $t$ 行，每行两个整数 $z,p$，意义如上。", "outputFormat": "$t$ 行，对于每次询问：\n\n- 若无法将所有节点都标记为“可扩展的”，输出 `-1`。\n\n- 否则一行一个整数，表示答案。", "hint": "样例 $1$ 解释：两次询问都可以先对 $2$ 节点进行 $\\text{II}$ 类扩展，然后对 $3$ 进行 $\\text{I}$ 类扩展。可以保证对于两次询问，这样操作都是最优的。\n\n对于所有数据，$1\\leq z,k,u,v\\leq n\\leq 10^5,1\\leq t\\leq 2\\times 10^6,0\\leq p\\leq 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] F - Extend", "background": "~~**本题输入输出量较大，请酌情使用较快的输入输出方式**~~。已扩大时限从 $1s\\to 1.5s$。", "description": "对于一棵有 $n$ 个节点，根为 $k$ 的树，最开始有且仅有一个“可扩展的”节点 $z$，我们有两种扩展形式：\n\n- $\\text{I}$ 类扩展：从一个“可扩展的”节点 $u$ 开始扩展，把 $u$ 的子树中所有节点和所有满足与 $u$ 距离 $\\leq p$ 且是 $u$ 祖先的节点标记为“可扩展的”。\n- $\\text{II}$ 类扩展：从一个“可扩展的”节点 $u$ 开始扩展，把所有与 $u$ 深度相等的节点标记为“可扩展的”。\n\n你需要将所有结点都标记为“可扩展的”，求最小进行扩展的次数。", "inputFormat": "第一行两个整数 $n,k$。\n\n接下来 $n-1$ 行，每行两个整数 $u,v$，表示存在一条无向边连接 $u,v$。\n\n接下来一行一个整数 $t$，表示询问次数。\n\n接下来 $t$ 行，每行两个整数 $z,p$，意义如上。", "outputFormat": "$t$ 行，对于每次询问：\n\n- 若无法将所有节点都标记为“可扩展的”，输出 `-1`。\n\n- 否则一行一个整数，表示答案。", "hint": "样例 $1$ 解释：两次询问都可以先对 $2$ 节点进行 $\\text{II}$ 类扩展，然后对 $3$ 进行 $\\text{I}$ 类扩展。可以保证对于两次询问，这样操作都是最优的。\n\n对于所有数据，$1\\leq z,k,u,v\\leq n\\leq 10^5,1\\leq t\\leq 2\\times 10^6,0\\leq p\\leq 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P11142", "type": "P", "difficulty": 6, "samples": [["1\n1 2 2 5 1\n1\n2\n3 4", "6\n2 0\n-1 -1"], ["1\n1 1 1 5 1\n1\n2\n3 4", "0\n1 0\n2 1\n-1 -1"], ["4\n1 1 2 5 1\n1\n2\n3 4\n1 1 4 8 2\n1\n2\n5 8\n2 2 3 9 9\n1 2\n2 1\n3 7\n5\n1 1 2 8 4\n1\n3\n1 2 3", "3\n2 0\n-1 -1\n9\n5 0\n-1 -1\n24\n-3 0\n-1 -1\n4\n-3 0\n-2 1\n-1 -1"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化", "斜率优化"], "title": "[APC001] Ex - Separation", "background": "", "description": "小 I 有 $n$ 个工厂，坐落在 $A$ 地到 $B$ 地，第 $i$ 个工厂距离 $A$ 地的距离为 $a_i$ 千米。加工厂位于 $B$ 地，距离 $A$ 地 $x$ 千米，小 I 要把这些工厂里的货物运送到 $B$ 地的加工厂。\n\n但是这天下了暴雨，仓库里的货物受潮了，每份货物每在仓库中或小 I 的背包中存放 $1$ 分钟，价值就会减少 $m$ 元钱。已知今天晚上每个工厂会生产出 $b_i$ 份货物，也知道每份货物会在暴雨来临几分钟后生产出来。\n\n小 I 的初始体力为 $c$，速度为每分钟 $1$ 千米，但是他每行走 $1$ 千米就会减少一点体力（当体力为 $0$ 时不允许行走）。每次出发小 I 都要从 $A$ 地前往 $B$ 地，再返回 $A$ 地，他**只**在从 $A$ 地前往 $B$ 地时会带走沿途的工厂的仓库内所有被生产出的货物。他到达 $A$ 地后可以立刻再次出发。特别的，他可以在**负数时间点**出发，假定他的背包是无限大的，且货物重量与体力消耗无关。\n\n小 I 为了亏损更少，制造了一个分身制造器。这个机器可以制造无数个他的分身，但是每一次出发最多只能制造一个分身，制造的分身与本体共用体力，**完全遵循第 $3$ 段所描述的操作**。小 I 需要保证在任何时候，现有体力都能支持每一个分身（包括本体）返回 $A$ 地的家。\n\n小 I 做完准备工作后，发现暴雨已经下了 $k$ 分钟了，他迫切想要知道他最少要亏损（即货物减少的价值）多少元。他不会这个问题，于是他向你求助，想让你给出一种方案。", "inputFormat": "**本题单测试点内有多组测试数据**。\n\n第一行一个整数 $t$，表示数据组数。\n\n接下来，对于每组数据：\n\n第一行五个整数 $n,m,x,c,k$。\n\n接下来一行 $n$ 个整数 $a_1\\sim a_n$。\n\n接下来一行 $n$ 个整数 $b_1\\sim b_n$。\n\n接下 $n$ 行，每行 $b_i$ 个整数，表示第 $i$ 个工厂内的货物在第 $t_{i,j}$ 分钟后生产。", "outputFormat": "对于每组数据：\n\n若小 I 不可能将所有货物运送至加工厂并回家，输出一行一个 `-1`。\n\n否则第一行一个整数，表示小 I 最少要亏损多少元。\n\n接下来若干行，每行两个数，对于第 $i$ 行：\n\n- 第一个数表示小 I 第 $i$ 次出发的时间（从他向你求助时计算），必须从小到大输出，时间可以为负。\n\n- 第二个数表示这次出发是否需要制造一个新的分身，如果需要，输出 $1$，否则输出 $0$。\n\n如果存在方案且方案输出完后，输出一行 `-1 -1`，表示方案结束。", "hint": "**【样例解释】**\n\n对于样例 $3$ 的第一组数据解释：\n\n小 I 在暴雨来临后 $1$ 分钟向你求助，你给出的方案是在暴雨来临后 $3$ 分钟，小 I 出门，在 $4$ 分钟到达 $1$ 号仓库，在 $5$ 分钟到达 $B$ 地，在 $7$ 分钟回到家，亏损 $3$ 元。\n\n**【数据范围】**\n\n对于全部数据，保证 $1\\leq t\\leq 10$，$1\\leq n\\leq 2\\times 10^5,1\\leq m,k,x\\leq 10^6$，$1\\le a_i\\le x$，$0\\leq c\\leq 200$，$1\\leq b_i\\leq 10^5$，$\\sum b_i\\leq 2\\times 10^5$，$0\\leq t_{i,j}\\leq 10^6$。\n\n**本题输入量较大，请使用较快的读入方式。**\n\n本题题面已更新，[赛时原题面](https://www.luogu.com.cn/paste/iebvx9ko)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[APC001] Ex - Separation", "background": "", "description": "小 I 有 $n$ 个工厂，坐落在 $A$ 地到 $B$ 地，第 $i$ 个工厂距离 $A$ 地的距离为 $a_i$ 千米。加工厂位于 $B$ 地，距离 $A$ 地 $x$ 千米，小 I 要把这些工厂里的货物运送到 $B$ 地的加工厂。\n\n但是这天下了暴雨，仓库里的货物受潮了，每份货物每在仓库中或小 I 的背包中存放 $1$ 分钟，价值就会减少 $m$ 元钱。已知今天晚上每个工厂会生产出 $b_i$ 份货物，也知道每份货物会在暴雨来临几分钟后生产出来。\n\n小 I 的初始体力为 $c$，速度为每分钟 $1$ 千米，但是他每行走 $1$ 千米就会减少一点体力（当体力为 $0$ 时不允许行走）。每次出发小 I 都要从 $A$ 地前往 $B$ 地，再返回 $A$ 地，他**只**在从 $A$ 地前往 $B$ 地时会带走沿途的工厂的仓库内所有被生产出的货物。他到达 $A$ 地后可以立刻再次出发。特别的，他可以在**负数时间点**出发，假定他的背包是无限大的，且货物重量与体力消耗无关。\n\n小 I 为了亏损更少，制造了一个分身制造器。这个机器可以制造无数个他的分身，但是每一次出发最多只能制造一个分身，制造的分身与本体共用体力，**完全遵循第 $3$ 段所描述的操作**。小 I 需要保证在任何时候，现有体力都能支持每一个分身（包括本体）返回 $A$ 地的家。\n\n小 I 做完准备工作后，发现暴雨已经下了 $k$ 分钟了，他迫切想要知道他最少要亏损（即货物减少的价值）多少元。他不会这个问题，于是他向你求助，想让你给出一种方案。", "inputFormat": "**本题单测试点内有多组测试数据**。\n\n第一行一个整数 $t$，表示数据组数。\n\n接下来，对于每组数据：\n\n第一行五个整数 $n,m,x,c,k$。\n\n接下来一行 $n$ 个整数 $a_1\\sim a_n$。\n\n接下来一行 $n$ 个整数 $b_1\\sim b_n$。\n\n接下 $n$ 行，每行 $b_i$ 个整数，表示第 $i$ 个工厂内的货物在第 $t_{i,j}$ 分钟后生产。", "outputFormat": "对于每组数据：\n\n若小 I 不可能将所有货物运送至加工厂并回家，输出一行一个 `-1`。\n\n否则第一行一个整数，表示小 I 最少要亏损多少元。\n\n接下来若干行，每行两个数，对于第 $i$ 行：\n\n- 第一个数表示小 I 第 $i$ 次出发的时间（从他向你求助时计算），必须从小到大输出，时间可以为负。\n\n- 第二个数表示这次出发是否需要制造一个新的分身，如果需要，输出 $1$，否则输出 $0$。\n\n如果存在方案且方案输出完后，输出一行 `-1 -1`，表示方案结束。", "hint": "**【样例解释】**\n\n对于样例 $3$ 的第一组数据解释：\n\n小 I 在暴雨来临后 $1$ 分钟向你求助，你给出的方案是在暴雨来临后 $3$ 分钟，小 I 出门，在 $4$ 分钟到达 $1$ 号仓库，在 $5$ 分钟到达 $B$ 地，在 $7$ 分钟回到家，亏损 $3$ 元。\n\n**【数据范围】**\n\n对于全部数据，保证 $1\\leq t\\leq 10$，$1\\leq n\\leq 2\\times 10^5,1\\leq m,k,x\\leq 10^6$，$1\\le a_i\\le x$，$0\\leq c\\leq 200$，$1\\leq b_i\\leq 10^5$，$\\sum b_i\\leq 2\\times 10^5$，$0\\leq t_{i,j}\\leq 10^6$。\n\n**本题输入量较大，请使用较快的读入方式。**\n\n本题题面已更新，[赛时原题面](https://www.luogu.com.cn/paste/iebvx9ko)", "locale": "zh-CN"}}}
