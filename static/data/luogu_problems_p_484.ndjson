{"pid": "P10815", "type": "P", "difficulty": 2, "samples": [["5\n-1 2 -3 4 -5", "-3"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["O2优化", "模板题"], "title": "【模板】快速读入", "background": "**套取数据直接输出抢最优解是恶劣的违规行为，根据情节轻重，最高可以直接封号。**\n\n制约解除作战！", "description": "给你 $n$ 个数，你需要求和并输出。", "inputFormat": "第一行一个整数 $n$。\n\n之后一行 $n$ 个整数以空格隔开，表示给定的 $n$ 个数。", "outputFormat": "一行一个数表示给定的数的和。", "hint": "对于 $25\\%$ 的数据，满足 $n=10^5$。\n\n对于 $25\\%$ 的数据，满足 $n=10^6$。\n\n对于 $25\\%$ 的数据，满足 $n=10^7$。\n\n对于 $25\\%$ 的数据，满足 $n=10^8$。\n\n对于 $100\\%$ 的数据，满足所有数在 $[-n,n]$ 之间。\n\n数据保证对于序列的任何前缀，这个前缀的和在 32 位有符号整型的存储范围内。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】快速读入", "background": "**套取数据直接输出抢最优解是恶劣的违规行为，根据情节轻重，最高可以直接封号。**\n\n制约解除作战！", "description": "给你 $n$ 个数，你需要求和并输出。", "inputFormat": "第一行一个整数 $n$。\n\n之后一行 $n$ 个整数以空格隔开，表示给定的 $n$ 个数。", "outputFormat": "一行一个数表示给定的数的和。", "hint": "对于 $25\\%$ 的数据，满足 $n=10^5$。\n\n对于 $25\\%$ 的数据，满足 $n=10^6$。\n\n对于 $25\\%$ 的数据，满足 $n=10^7$。\n\n对于 $25\\%$ 的数据，满足 $n=10^8$。\n\n对于 $100\\%$ 的数据，满足所有数在 $[-n,n]$ 之间。\n\n数据保证对于序列的任何前缀，这个前缀的和在 32 位有符号整型的存储范围内。", "locale": "zh-CN"}}}
{"pid": "P10816", "type": "P", "difficulty": 5, "samples": [["wohaha", "1"], ["momomo", "0"], ["gshfd1jkhaRaadfglkjerVcvuy0gf", "73"], ["retiredMiFaFa0v0", "33"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2020", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Namomo Subsequence", "background": "", "description": "``gshfd1jkhaRaadfglkjerVcvuy0gf`` said Prof. Pang. \n\nTo understand Prof. Pang's word, we would like to calculate the number of $\\textit{namomo subsequence}$s of it. The word by Prof. Pang is a string $s$ with $n$ characters where each character is either an English letter (lower or upper case) or a digit. The $i$-th character of $s$ is denoted by $s[i]$ ($1\\le i\\le n$). A subsequence $t$ of $s$ is defined by a list of indices $t_1, \\ldots, t_6$ such that $1\\le t_1 < t_2 < \\ldots < t_6\\le n$. Let $compare(c_1, c_2)$ be a function on two characters such that $compare(c_1, c_2)=1$ when $c_1=c_2$ and $compare(c_1, c_2)=0$ otherwise. $t$ is a namomo subsequence of $s$ if and only if for any $1\\le i<j\\le 6$, $compare(s[t_i], s[t_j]) = compare(namomo[i], namomo[j])$, where $namomo[x]$ represents the $x$-th character of the string ``namomo`` ($1\\le x\\le 6$). \n\nOutput the number of namomo subsequences of a given string $s$ modulo $998244353$.", "inputFormat": "The first line contains a string $s$ with $n$ characters ($6\\le n\\le 1000000$). $s$ contains only lower case English letters (`a` -- `z`), upper case English letters (`A` -- `Z`) and digits (`0` -- `9`).", "outputFormat": "Output one integer -- the answer modulo $998244353$.", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Namomo Subsequence", "background": "", "description": "``gshfd1jkhaRaadfglkjerVcvuy0gf`` said Prof. Pang. \n\nTo understand Prof. Pang's word, we would like to calculate the number of $\\textit{namomo subsequence}$s of it. The word by Prof. Pang is a string $s$ with $n$ characters where each character is either an English letter (lower or upper case) or a digit. The $i$-th character of $s$ is denoted by $s[i]$ ($1\\le i\\le n$). A subsequence $t$ of $s$ is defined by a list of indices $t_1, \\ldots, t_6$ such that $1\\le t_1 < t_2 < \\ldots < t_6\\le n$. Let $compare(c_1, c_2)$ be a function on two characters such that $compare(c_1, c_2)=1$ when $c_1=c_2$ and $compare(c_1, c_2)=0$ otherwise. $t$ is a namomo subsequence of $s$ if and only if for any $1\\le i<j\\le 6$, $compare(s[t_i], s[t_j]) = compare(namomo[i], namomo[j])$, where $namomo[x]$ represents the $x$-th character of the string ``namomo`` ($1\\le x\\le 6$). \n\nOutput the number of namomo subsequences of a given string $s$ modulo $998244353$.", "inputFormat": "The first line contains a string $s$ with $n$ characters ($6\\le n\\le 1000000$). $s$ contains only lower case English letters (`a` -- `z`), upper case English letters (`A` -- `Z`) and digits (`0` -- `9`).", "outputFormat": "Output one integer -- the answer modulo $998244353$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Namomo Subsequence", "background": "", "description": "「gshfd1jkhaRaadfglkjerVcvuy0gf」教授 Pang 说道。\n\n为了理解 Pang 教授的话，我们想要计算它的 $\\textit{namomo 子序列}$ 的数量。Pang 教授的话是一个长度为 $n$ 的字符串 $s$，其中每个字符要么是英文字母（大小写），要么是数字。字符串 $s$ 的第 $i$ 个字符记为 $s[i]$（$1\\le i\\le n$）。字符串 $s$ 的子序列 $t$ 由一组下标 $t_1, \\ldots, t_6$ 定义，满足 $1\\le t_1 < t_2 < \\ldots < t_6\\le n$。定义一个函数 $compare(c_1, c_2)$，对于两个字符 $c_1$ 和 $c_2$，当 $c_1=c_2$ 时 $compare(c_1, c_2)=1$，否则 $compare(c_1, c_2)=0$。当且仅当对于任意 $1\\le i<j\\le 6$，$compare(s[t_i], s[t_j]) = compare(namomo[i], namomo[j])$ 时，$t$ 是字符串 $s$ 的一个 namomo 子序列，其中 $namomo[x]$ 表示字符串「namomo」的第 $x$ 个字符（$1\\le x\\le 6$）。\n\n输出给定字符串 $s$ 的 namomo 子序列的数量，结果对 $998244353$ 取模。", "inputFormat": "第一行包含一个长度为 $n$ 的字符串 $s$（$6\\le n\\le 1000000$）。$s$ 仅包含小写英文字母（`a` -- `z`）、大写英文字母（`A` -- `Z`）和数字（`0` -- `9`）。", "outputFormat": "输出一个整数，即答案对 $998244353$ 取模。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10817", "type": "P", "difficulty": 4, "samples": [["2 2\n1 1\n2 1\n1 2\n2 2", "5\n3\n1\n0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Rectangle Flip 2", "background": "", "description": "Prof. Pang enters a trap room in a dungeon. The room can be represented by an $n$ by $m$ chessboard. We use $(i, j)$ ($1\\le i\\le n$, $1\\le j\\le m$) to denote the cell at the $i$-th row and $j$-th column. Every second, the floor of one cell breaks apart (so that Prof. Pang can no longer stand on that cell.) After $nm$ seconds, there will be no cell to stand on and Prof. Pang will fall through to the next (deeper and more dangerous) level.\n\nBut Prof. Pang knows that calm is the key to overcome any challenge. So instead of being panic, he calculates the number of rectangles such that every cell in it is intact (i.e., not broken) after every second. (A rectangle represented by four integers $a, b, c$ and $d$ ($1\\le a\\le b\\le n, 1\\le c\\le d\\le m$) includes all cells $(i, j)$ such that $a\\le i\\le b, c\\le j\\le d$. There are $\n\\frac{n(n+1)}{2} \\times \\frac{m(m+1)}{2}$ rectangles in total.)", "inputFormat": "The first line contains two integers $n$, $m$ ($1\\le n, m\\le 500$) separated by a single space. \n\nThe $(i+1)$-th line contains two integers $a$, $b$ separated by a single space representing that the cell $(a, b)$ breaks apart at the $i$-th second. It is guaranteed that each cell appears exactly once in the input. ", "outputFormat": "Output $nm$ lines. The $i$-th line should contain the number of rectangles such that every cell in it is intact after the first $i$ cells break apart.", "hint": "In the example, after the first second, there are $3$ rectangles of area $1$ and $2$ rectangles of area $2$ that satisfy the constraint. So the first line should contain a $5$. After the second second, only cells in the second column remains intact. The answer should be $3$. After the third second, only one cell remains intact. The answer should be $1$. After the fourth second, all cells broke apart so the answer should be $0$. ", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Rectangle Flip 2", "background": "", "description": "Prof. Pang enters a trap room in a dungeon. The room can be represented by an $n$ by $m$ chessboard. We use $(i, j)$ ($1\\le i\\le n$, $1\\le j\\le m$) to denote the cell at the $i$-th row and $j$-th column. Every second, the floor of one cell breaks apart (so that Prof. Pang can no longer stand on that cell.) After $nm$ seconds, there will be no cell to stand on and Prof. Pang will fall through to the next (deeper and more dangerous) level.\n\nBut Prof. Pang knows that calm is the key to overcome any challenge. So instead of being panic, he calculates the number of rectangles such that every cell in it is intact (i.e., not broken) after every second. (A rectangle represented by four integers $a, b, c$ and $d$ ($1\\le a\\le b\\le n, 1\\le c\\le d\\le m$) includes all cells $(i, j)$ such that $a\\le i\\le b, c\\le j\\le d$. There are $\n\\frac{n(n+1)}{2} \\times \\frac{m(m+1)}{2}$ rectangles in total.)", "inputFormat": "The first line contains two integers $n$, $m$ ($1\\le n, m\\le 500$) separated by a single space. \n\nThe $(i+1)$-th line contains two integers $a$, $b$ separated by a single space representing that the cell $(a, b)$ breaks apart at the $i$-th second. It is guaranteed that each cell appears exactly once in the input. ", "outputFormat": "Output $nm$ lines. The $i$-th line should contain the number of rectangles such that every cell in it is intact after the first $i$ cells break apart.", "hint": "In the example, after the first second, there are $3$ rectangles of area $1$ and $2$ rectangles of area $2$ that satisfy the constraint. So the first line should contain a $5$. After the second second, only cells in the second column remains intact. The answer should be $3$. After the third second, only one cell remains intact. The answer should be $1$. After the fourth second, all cells broke apart so the answer should be $0$. ", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Rectangle Flip 2", "background": "", "description": "庞教授进入了一个地下城的陷阱房间。这个房间可以用一个 $n$ 行 $m$ 列的棋盘来表示。我们用 $(i, j)$ ($1\\le i\\le n$, $1\\le j\\le m$) 来表示第 $i$ 行第 $j$ 列的单元格。每秒钟，有一个单元格的地板会破裂（这样庞教授就不能再站在这个单元格上了）。经过 $nm$ 秒后，将没有单元格可供站立，庞教授将跌落到下一个（更深且更危险的）层级。\n\n但庞教授知道冷静是克服任何挑战的关键。因此，他没有惊慌，而是计算了在每秒钟后，所有单元格都完好的矩形的数量（即，每个单元格在矩形中都没有破裂）。一个矩形由四个整数 $a, b, c$ 和 $d$ ($1\\le a\\le b\\le n, 1\\le c\\le d\\le m$) 表示，包含所有 $(i, j)$ 使得 $a\\le i\\le b, c\\le j\\le d$。总共有 $\n\\frac{n(n+1)}{2} \\times \\frac{m(m+1)}{2}$ 个矩形。", "inputFormat": "第一行包含两个整数 $n$, $m$ ($1\\le n, m\\le 500$)，用空格分隔。\n\n第 $(i+1)$ 行包含两个整数 $a$, $b$，表示在第 $i$ 秒钟单元格 $(a, b)$ 破裂。保证每个单元格在输入中出现恰好一次。", "outputFormat": "输出 $nm$ 行。第 $i$ 行应包含在前 $i$ 个单元格破裂之后，每个单元格都完好的矩形的数量。", "hint": "在示例中：在第一秒后，有 $3$ 个面积为 $1$ 的矩形和 $2$ 个面积为 $2$ 的矩形满足条件。因此第一行应该输出 $5$。在第二秒后，仅第二列中的单元格保持完好。答案应该是 $3$。在第三秒后，仅一个单元格保持完好。答案应该是 $1$。在第四秒后，所有单元格都破裂，所以答案应该是 $0$。\n\n翻译者：[Immunoglobules](https://www.luogu.com.cn/user/1066251)", "locale": "zh-CN"}}}
{"pid": "P10818", "type": "P", "difficulty": 6, "samples": [["50\n36 22 24 21 27 50 28 14 25 34 18 43 47\n13 30 7 10 48 20 16 29 9 8 15 3 31 12\n38 19 49 37 1 46 32 4 44 11 35 6 33 26\n5 45 17 39 40 2 23 42 41", "16659580358178468547"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "Special Judge", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Random Shuffle", "background": "", "description": "Prof. Pang is selecting teams that advance to the world final contest. As the regionals are cancelled, he uses random shuffle to rank the teams. There are $n$ teams in total. His code is as follows: \n\n```cpp\nuint64_t x;//uint64_t represents 64-bit unsigned integer\nint n;\nuint64_t rand() {//this is a xor-shift random generator\n    x ^= x << 13;\n    x ^= x >> 7;\n    x ^= x << 17;\n    return x;\n}\nint main() {\n    cin >> n;\n    cin >> x;\n    for (int i = 1; i <= n; i++) {//random shuffle [1, 2,..., n]\n        a[i] = i;\n        swap(a[i], a[rand() % i + 1]);\n    }\n    for (int i = 1; i <= n; i++) {//print the result\n        cout << a[i] << (i == n ? '\\n' : ' ');\n    }\n}\n```\n\n\nHe compiled and ran his code and then entered $n$ and some special nonnegative integer $x$. He printed the result on paper.\n\nOne day later, Prof. Pang forgot his choice for $x$. You are given the result of the code and the integer $n$. Please recover the number $x$ that Prof. Pang had entered. ", "inputFormat": "The first line contains a single integer $n$ ($50\\le n\\le 100000$) -- the number of teams. \n\nThe next line contains $n$ integers -- the result printed by Prof. Pang's code. It is guaranteed that the result is correct, i.e., there exists an integer $x$ ($0\\le x\\le 2^{64}-1$) that leads to the result. ", "outputFormat": "Output the integer $x$ ($0\\le x\\le 2^{64}-1$) Prof. Pang had entered. If there are multiple possible $x$'s, print any one.", "hint": "Note that the second line of the sample input is wrapped to fit in the width of page.", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Random Shuffle", "background": "", "description": "Prof. Pang is selecting teams that advance to the world final contest. As the regionals are cancelled, he uses random shuffle to rank the teams. There are $n$ teams in total. His code is as follows: \n\n```cpp\nuint64_t x;//uint64_t represents 64-bit unsigned integer\nint n;\nuint64_t rand() {//this is a xor-shift random generator\n    x ^= x << 13;\n    x ^= x >> 7;\n    x ^= x << 17;\n    return x;\n}\nint main() {\n    cin >> n;\n    cin >> x;\n    for (int i = 1; i <= n; i++) {//random shuffle [1, 2,..., n]\n        a[i] = i;\n        swap(a[i], a[rand() % i + 1]);\n    }\n    for (int i = 1; i <= n; i++) {//print the result\n        cout << a[i] << (i == n ? '\\n' : ' ');\n    }\n}\n```\n\n\nHe compiled and ran his code and then entered $n$ and some special nonnegative integer $x$. He printed the result on paper.\n\nOne day later, Prof. Pang forgot his choice for $x$. You are given the result of the code and the integer $n$. Please recover the number $x$ that Prof. Pang had entered. ", "inputFormat": "The first line contains a single integer $n$ ($50\\le n\\le 100000$) -- the number of teams. \n\nThe next line contains $n$ integers -- the result printed by Prof. Pang's code. It is guaranteed that the result is correct, i.e., there exists an integer $x$ ($0\\le x\\le 2^{64}-1$) that leads to the result. ", "outputFormat": "Output the integer $x$ ($0\\le x\\le 2^{64}-1$) Prof. Pang had entered. If there are multiple possible $x$'s, print any one.", "hint": "Note that the second line of the sample input is wrapped to fit in the width of page.", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Random Shuffle", "background": "", "description": "庞教授正在选择晋级世界总决赛的队伍。由于地区赛被取消，他使用随机打乱来对队伍进行排名。总共有 $n$ 支队伍。他的代码如下：  \n\n```cpp\nuint64_t x;//uint64_t 表示 64 位无符号整数\nint n;\nuint64_t rand() {//这是一个异或移位随机生成器\n    x ^= x << 13;\n    x ^= x >> 7;\n    x ^= x << 17;\n    return x;\n}\nint main() {\n    cin >> n;\n    cin >> x;\n    for (int i = 1; i <= n; i++) {//随机打乱 [1, 2,..., n]\n         a[i] = i;\n         swap(a[i], a[rand() % i + 1]);\n     }\n     for (int i = 1; i <= n; i++) {//打印结果\n       cout << a[i] << (i == n ? '\\n' : ' ');\n    }\n}\n```\n\n他编译并运行了他的代码，然后输入了 $n$ 和某个特殊的非负整数 $x$。他将结果打印在纸上。  一天后，庞教授忘记了他选择的 $x$。给定代码的结果和整数 $n$。请恢复庞教授输入的数字 $x$。", "inputFormat": "第一行包含一个整数 $n$ ($50\\le n\\le 100000$) —— 队伍的数量。  下一行包含 $n$ 个整数 —— 庞教授代码打印的结果。保证结果是正确的，即存在一个整数 $x$ ($0\\le x\\le 2^{64}-1$) 导致该结果。", "outputFormat": "输出庞教授输入的整数 $x$ ($0\\le x\\le 2^{64}-1$)。如果有多个可能的 $x$，输出其中任意一个。", "hint": "注意样例输入的第二行被换行以适应页面宽度。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10819", "type": "P", "difficulty": 5, "samples": [["6 5 1\n1 2\n3 2\n2 4\n4 5\n4 6\n1 5 3 6", "5.000000000000"], ["1 0 100\n1 1 1 1", "0.000000000000"], ["4 2 3\n1 2\n3 4\n1 2 3 4", "0.833333333333"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "2020", "三分", "Special Judge", "O2优化", "最短路", "ICPC", "EC Final"], "title": "[EC Final 2020] City Brain", "background": "", "description": "Prof. Pang works for the City Brain program of Capital Grancel. The road network of Grancel can be represented by an undirected graph. Initially, the speed limit on each road is $1$m/s. Prof. Pang can increase the speed limit on a road by $1$m/s with the cost of $1$ dollar. Prof. Pang has $k$ dollars. He can spend any nonnegative integral amount of money on each road. If the speed limit on some road is $a$m/s, it takes $1/a$ seconds for anyone to go through the road in either direction.\n\nAfter Prof. Pang spent his money, Prof. Du starts to travel from city $s_1$ to city $t_1$ and Prof. Wo starts to travel from city $s_2$ to city $t_2$. Help Prof. Pang to spend his money wisely to minimize the sum of minimum time of Prof. Du's travel and Prof. Wo's travel. It is guaranteed that $s_1$ and $t_1$ are connected by at least one path and that $s_2$ and $t_2$ are connected by at least one path.", "inputFormat": "The first line contains three integers $n$, $m$, $k$ ($1\\le n \\le 5000$, $0\\le m \\le 5000$, $0\\le k\\le 10^9$) separated by single spaces denoting the number of vertices, the number of edges in the graph and the number of dollars Prof. Pang has.\n\nEach of the following $m$ lines contains two integers $a$, $b$ ($1\\le a, b\\le n, a\\neq b$) separated by a single space denoting the two endpoints of one road. There can be multiple roads between the same pair of cities.\n\nThe following line contains four integers $s_1$, $t_1$, $s_2$, $t_2$ ($1\\le s_1, t_1, s_2, t_2\\le n$) separated by single spaces denoting the starting vertices and ending vertices of Prof. Du and Prof. Wo's travels.", "outputFormat": "Output one decimal in the only line -- the minimum sum of Prof. Du's travel time and Prof. Wo's travel time. The answer will be considered correct if its absolute or relative error does not exceed $10^{-9}$.", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] City Brain", "background": "", "description": "Prof. Pang works for the City Brain program of Capital Grancel. The road network of Grancel can be represented by an undirected graph. Initially, the speed limit on each road is $1$m/s. Prof. Pang can increase the speed limit on a road by $1$m/s with the cost of $1$ dollar. Prof. Pang has $k$ dollars. He can spend any nonnegative integral amount of money on each road. If the speed limit on some road is $a$m/s, it takes $1/a$ seconds for anyone to go through the road in either direction.\n\nAfter Prof. Pang spent his money, Prof. Du starts to travel from city $s_1$ to city $t_1$ and Prof. Wo starts to travel from city $s_2$ to city $t_2$. Help Prof. Pang to spend his money wisely to minimize the sum of minimum time of Prof. Du's travel and Prof. Wo's travel. It is guaranteed that $s_1$ and $t_1$ are connected by at least one path and that $s_2$ and $t_2$ are connected by at least one path.", "inputFormat": "The first line contains three integers $n$, $m$, $k$ ($1\\le n \\le 5000$, $0\\le m \\le 5000$, $0\\le k\\le 10^9$) separated by single spaces denoting the number of vertices, the number of edges in the graph and the number of dollars Prof. Pang has.\n\nEach of the following $m$ lines contains two integers $a$, $b$ ($1\\le a, b\\le n, a\\neq b$) separated by a single space denoting the two endpoints of one road. There can be multiple roads between the same pair of cities.\n\nThe following line contains four integers $s_1$, $t_1$, $s_2$, $t_2$ ($1\\le s_1, t_1, s_2, t_2\\le n$) separated by single spaces denoting the starting vertices and ending vertices of Prof. Du and Prof. Wo's travels.", "outputFormat": "Output one decimal in the only line -- the minimum sum of Prof. Du's travel time and Prof. Wo's travel time. The answer will be considered correct if its absolute or relative error does not exceed $10^{-9}$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] City Brain", "background": null, "description": "Pang 教授在首都 Grancel 的城市大脑项目工作。Grancel 的道路网络可以用一个无向图表示。最初，每条道路的限速为 $1$ 米每秒。Pang 教授可以花费 $1$ 美元将某条道路的限速提高 $1$ 米每秒。Pang 教授有 $k$ 美元。他可以在每条道路上花费任意非负整数金额。如果某条道路的限速为 $a$ 米每秒，则任何人通过这条道路需要 $1/a$ 秒的时间。\n\n在 Pang 教授花费完他的资金后，Du 教授开始从城市 $s_1$ 前往城市 $t_1$，而 Wo 教授开始从城市 $s_2$ 前往城市 $t_2$。帮助 Pang 教授明智地花费他的资金，以最小化 Du 教授和 Wo 教授的最短旅行时间之和。保证 $s_1$ 和 $t_1$ 之间至少有一条路径连通，$s_2$ 和 $t_2$ 之间也至少有一条路径连通。", "inputFormat": "第一行包含三个整数 $n$、$m$、$k$ ($1\\le n \\le 5000$, $0\\le m \\le 5000$, $0\\le k\\le 10^9$)，用单个空格分隔，分别表示图中的顶点数、边数和 Pang 教授拥有的美元数。\n\n接下来的 $m$ 行中，每行包含两个整数 $a$、$b$ ($1\\le a, b\\le n, a \\neq b$)，用单个空格分隔，表示一条道路的两个端点。同一对城市之间可以有多条道路。\n\n接下来的一行包含四个整数 $s_1$、$t_1$、$s_2$、$t_2$ ($1\\le s_1, t_1, s_2, t_2\\le n$)，用单个空格分隔，表示 Du 教授和 Wo 教授旅行的起点和终点。", "outputFormat": "输出一个小数，表示 Du 教授的旅行时间和 Wo 教授的旅行时间的最小和。如果其与标准答案的绝对误差或相对误差不超过 $10^{-9}$，则答案被视为正确。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10820", "type": "P", "difficulty": 7, "samples": [["4\n2 3\n4 3 2\n2 3 4\n2 1 1\n2 1 2\n1 2 1\n1 2 1 2\n1 1 1 2\n2 2\n2 1\n2 1\n1 2\n2 2\n1 2\n1 2 1\n2 1 1\n3 2\n1 2\n3 3\n3 2\n1 1\n1 1\n2 2\n1 1\n1 1 1\n1 1 1\n2 2 2\n2 2\n1 2\n3 4\n5 6\n7 8\n9 10\n11 12 13\n14 15 16", "13\n8\n11\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Tube Master III", "background": "", "description": "Prof. Pang is playing ``Tube Master``.\n\nThe game field is divided into $n \\times m$ cells by $(n + 1) \\times m$ horizontal tubes and $n \\times (m + 1)$ vertical tubes. The product $n m$ is an $\\textbf{even}$ number. There are $(n + 1) (m + 1)$ crossings of the tubes. The 2D coordinate of the crossings are $(i, j)$ ($1\\le i\\le n+1$, $1\\le j\\le m+1$). We name the crossing with coordinate $(i, j)$ as crossing $(i, j)$. We name the cell whose corners are crossings $(i, j), (i+1, j), (i, j+1), (i+1, j+1)$ as cell $(i, j)$ for all $1\\le i\\le n$, $1\\le j\\le m$. Additionally, each cell $(i, j)$ contains an integer ${count}_{i, j}$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wfw0es17.png)\n\nThe above figure shows a game field with $n = 3, m = 2$ (the third sample).\n\nProf. Pang decides to use some of the tubes. However, the game poses several weird restrictions.\n\n- Either $0$ or $2$ tubes connected to each crossing are used.\n- There are exactly ${count}_{i, j}$ turning points adjacent to cell $(i, j)$. A turning point is a crossing such that exactly $1$ horizontal tube and exactly $1$ vertical tube connected to it are used. A turning point $(x, y)$ is adjacent to cell $(i, j)$ if crossing $(x, y)$ is a corner of cell $(i, j)$. \n\nIt costs $a_{i, j}$ to use the tube connecting crossings $(i, j)$ and $(i, j+1)$. It costs $b_{i, j}$ to use the tube connecting crossings $(i, j)$ and $(i+1, j)$. Please help Prof. Pang to find out which tubes he should use such that the restrictions are satisfied and the total cost is minimized.", "inputFormat": "The first line contains a single positive integer $T$ denoting the number of test cases.\n\nFor each test case, the first line contains two integers $n$, $m$ ($1 \\leq n, m \\leq 100$) separated by a single space.\n\nThe $i$-th of the following $n$ lines contains $m$ integers ${count}_{i, 1}, {count}_{i, 2}, \\dots, {count}_{i, m}$ ($0 \\leq {count}_{i, j} \\leq 4$) separated by single spaces.\n\nThe $i$-th of the following $n+1$ lines contains $m$ integers ${a}_{i, 1}, {a}_{i, 2}, \\dots, {a}_{i, m}$ ($1 \\leq {a}_{i, j} \\leq 10^9$) separated by single spaces.\n\nThe $i$-th of the following $n$ lines contains $m+1$ integers ${b}_{i, 1}, \\mathit{b}_{i, 2}, \\dots, {b}_{i, m+1}$ ($1 \\leq {b}_{i, j} \\leq 10^9$) separated by single spaces.\n\nIt is guaranteed that $nm$ is an $\\textbf{even}$ number and that the total sum of $nm$ over all test cases does not exceed $10^4$.", "outputFormat": "For each test case, output an integer that denotes the minimum cost.\n\nIf there is no valid configuration, output $\\texttt{-1}$ instead.", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Tube Master III", "background": "", "description": "Prof. Pang is playing ``Tube Master``.\n\nThe game field is divided into $n \\times m$ cells by $(n + 1) \\times m$ horizontal tubes and $n \\times (m + 1)$ vertical tubes. The product $n m$ is an $\\textbf{even}$ number. There are $(n + 1) (m + 1)$ crossings of the tubes. The 2D coordinate of the crossings are $(i, j)$ ($1\\le i\\le n+1$, $1\\le j\\le m+1$). We name the crossing with coordinate $(i, j)$ as crossing $(i, j)$. We name the cell whose corners are crossings $(i, j), (i+1, j), (i, j+1), (i+1, j+1)$ as cell $(i, j)$ for all $1\\le i\\le n$, $1\\le j\\le m$. Additionally, each cell $(i, j)$ contains an integer ${count}_{i, j}$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wfw0es17.png)\n\nThe above figure shows a game field with $n = 3, m = 2$ (the third sample).\n\nProf. Pang decides to use some of the tubes. However, the game poses several weird restrictions.\n\n- Either $0$ or $2$ tubes connected to each crossing are used.\n- There are exactly ${count}_{i, j}$ turning points adjacent to cell $(i, j)$. A turning point is a crossing such that exactly $1$ horizontal tube and exactly $1$ vertical tube connected to it are used. A turning point $(x, y)$ is adjacent to cell $(i, j)$ if crossing $(x, y)$ is a corner of cell $(i, j)$. \n\nIt costs $a_{i, j}$ to use the tube connecting crossings $(i, j)$ and $(i, j+1)$. It costs $b_{i, j}$ to use the tube connecting crossings $(i, j)$ and $(i+1, j)$. Please help Prof. Pang to find out which tubes he should use such that the restrictions are satisfied and the total cost is minimized.", "inputFormat": "The first line contains a single positive integer $T$ denoting the number of test cases.\n\nFor each test case, the first line contains two integers $n$, $m$ ($1 \\leq n, m \\leq 100$) separated by a single space.\n\nThe $i$-th of the following $n$ lines contains $m$ integers ${count}_{i, 1}, {count}_{i, 2}, \\dots, {count}_{i, m}$ ($0 \\leq {count}_{i, j} \\leq 4$) separated by single spaces.\n\nThe $i$-th of the following $n+1$ lines contains $m$ integers ${a}_{i, 1}, {a}_{i, 2}, \\dots, {a}_{i, m}$ ($1 \\leq {a}_{i, j} \\leq 10^9$) separated by single spaces.\n\nThe $i$-th of the following $n$ lines contains $m+1$ integers ${b}_{i, 1}, \\mathit{b}_{i, 2}, \\dots, {b}_{i, m+1}$ ($1 \\leq {b}_{i, j} \\leq 10^9$) separated by single spaces.\n\nIt is guaranteed that $nm$ is an $\\textbf{even}$ number and that the total sum of $nm$ over all test cases does not exceed $10^4$.", "outputFormat": "For each test case, output an integer that denotes the minimum cost.\n\nIf there is no valid configuration, output $\\texttt{-1}$ instead.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Tube Master III", "background": "", "description": "庞教授正在玩「Tube Master」。\n\n游戏场地被 $(n + 1) \\times m$ 条水平管道和 $n \\times (m + 1)$ 条垂直管道划分为 $n \\times m$ 个单元格。乘积 $nm$ 是一个\\textbf{偶数}。管道的交叉点共有 $(n + 1) (m + 1)$ 个。交叉点的二维坐标为 $(i, j)$，其中 $1\\le i\\le n+1$，$1\\le j\\le m+1$。我们将坐标为 $(i, j)$ 的交叉点称为交叉点 $(i, j)$。我们将以交叉点 $(i, j), (i+1, j), (i, j+1), (i+1, j+1)$ 为角的单元格称为单元格 $(i, j)$，其中 $1\\le i\\le n$，$1\\le j\\le m$。此外，每个单元格 $(i, j)$ 包含一个整数 ${count}_{i, j}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wfw0es17.png)\n\n上图展示了一个 $n = 3, m = 2$ 的游戏场地（第三个样例）。\n\n庞教授决定使用一些管道。然而，游戏有几个奇怪的限制条件。\n\n- 每个交叉点要么连接 $0$ 根管道，要么连接 $2$ 根管道。\n- 恰好有 ${count}_{i, j}$ 个转折点与单元格 $(i, j)$ 相邻。转折点是指恰好有 $1$ 根水平管道和 $1$ 根垂直管道连接到它的交叉点。转折点 $(x, y)$ 与单元格 $(i, j)$ 相邻是指交叉点 $(x, y)$ 是单元格 $(i, j)$ 的一个角。\n\n使用连接交叉点 $(i, j)$ 和 $(i, j+1)$ 的管道的费用是 $a_{i, j}$。使用连接交叉点 $(i, j)$ 和 $(i+1, j)$ 的管道的费用是 $b_{i, j}$。请帮助庞教授找出他应该使用哪些管道，以便满足限制条件并使总费用最小。", "inputFormat": "第一行包含一个正整数 $T$，表示测试用例的数量。\n\n对于每个测试用例，第一行包含两个整数 $n$ 和 $m$ ($1 \\leq n, m \\leq 100$)，用一个空格分隔。\n\n接下来的 $n$ 行中，第 $i$ 行包含 $m$ 个整数 ${count}_{i, 1}, {count}_{i, 2}, \\dots, {count}_{i, m}$ ($0 \\leq {count}_{i, j} \\leq 4$)，用空格分隔。\n\n接下来的 $n+1$ 行中，第 $i$ 行包含 $m$ 个整数 ${a}_{i, 1}, {a}_{i, 2}, \\dots, {a}_{i, m}$ ($1 \\leq {a}_{i, j} \\leq 10^9$)，用空格分隔。\n\n接下来的 $n$ 行中，第 $i$ 行包含 $m+1$ 个整数 ${b}_{i, 1}, \\mathit{b}_{i, 2}, \\dots, {b}_{i, m+1}$ ($1 \\leq {b}_{i, j} \\leq 10^9$)，用空格分隔。\n\n保证 $nm$ 是一个\\textbf{偶数}，且所有测试用例中 $nm$ 的总和不超过 $10^4$。", "outputFormat": "对于每个测试用例，输出一个整数，表示最小费用。\n\n如果没有有效的配置，输出 `-1`。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10821", "type": "P", "difficulty": 3, "samples": [["3 2\n0 0\n0 1\n1 0\n0 -1\n-1 0", "100\n11"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2020", "O2优化", "排序", "ICPC", "EC Final"], "title": "[EC Final 2020] Rooks", "background": "", "description": "Prof. Pang plays chess against his rival Prof. Shou. They are the only two players in the game. The chessboard is very large and can be viewed as a 2D plane. Prof. Pang placed $n_1$ rooks and Prof. Shou placed $n_2$ rooks. Each rook is a point with integer coordinates on the chessboard. One rook is $\\textit{attacked}$ by another rook if they satisfy all of the following conditions:\n\n- They are placed by different players.\n- They have the same $x$-coordinate or $y$-coordinate.\n- There is no other rook on the line segment between them.\n\nHelp Prof. Pang and Prof. Shou to decide which rooks are attacked.", "inputFormat": "The first line contains two integers $n_1, n_2$ ($1\\le n_1, n_2\\le 200000$) separated by a single space denoting the number of rooks placed by Prof. Pang and the number of rooks placed by Prof. Shou.\n\nThe $i$-th ($1\\le i\\le n_1$) line of the next $n_1$ lines contains two integers $x, y$ ($-10^9\\le x, y\\le 10^9$) separated by a single space denoting the location $(x, y)$ of the $i$-th rook placed by Prof. Pang.\n\nThe $i$-th ($1\\le i\\le n_2$) line of the next $n_2$ lines contains two integers $x, y$ ($-10^9\\le x, y\\le 10^9$) separated by a single space denoting the location $(x, y)$ of the $i$-th rook placed by Prof. Shou.\n\nIt is guaranteed that the $n_1+n_2$ rooks placed by the players are distinct (i.e., no two rooks can have the same location).", "outputFormat": "Output a string with length $n_1$ on the first line. The $i$-th ($1\\le i\\le n_1$) character should be $1$ if the $i$-th rook placed by Prof. Pang is attacked and $0$ otherwise.\n\nOutput a string with length $n_2$ on the second line. The $i$-th ($1\\le i\\le n_2$) character should be $1$ if the $i$-th rook placed by Prof. Shou is attacked and $0$ otherwise.\n", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Rooks", "background": "", "description": "Prof. Pang plays chess against his rival Prof. Shou. They are the only two players in the game. The chessboard is very large and can be viewed as a 2D plane. Prof. Pang placed $n_1$ rooks and Prof. Shou placed $n_2$ rooks. Each rook is a point with integer coordinates on the chessboard. One rook is $\\textit{attacked}$ by another rook if they satisfy all of the following conditions:\n\n- They are placed by different players.\n- They have the same $x$-coordinate or $y$-coordinate.\n- There is no other rook on the line segment between them.\n\nHelp Prof. Pang and Prof. Shou to decide which rooks are attacked.", "inputFormat": "The first line contains two integers $n_1, n_2$ ($1\\le n_1, n_2\\le 200000$) separated by a single space denoting the number of rooks placed by Prof. Pang and the number of rooks placed by Prof. Shou.\n\nThe $i$-th ($1\\le i\\le n_1$) line of the next $n_1$ lines contains two integers $x, y$ ($-10^9\\le x, y\\le 10^9$) separated by a single space denoting the location $(x, y)$ of the $i$-th rook placed by Prof. Pang.\n\nThe $i$-th ($1\\le i\\le n_2$) line of the next $n_2$ lines contains two integers $x, y$ ($-10^9\\le x, y\\le 10^9$) separated by a single space denoting the location $(x, y)$ of the $i$-th rook placed by Prof. Shou.\n\nIt is guaranteed that the $n_1+n_2$ rooks placed by the players are distinct (i.e., no two rooks can have the same location).", "outputFormat": "Output a string with length $n_1$ on the first line. The $i$-th ($1\\le i\\le n_1$) character should be $1$ if the $i$-th rook placed by Prof. Pang is attacked and $0$ otherwise.\n\nOutput a string with length $n_2$ on the second line. The $i$-th ($1\\le i\\le n_2$) character should be $1$ if the $i$-th rook placed by Prof. Shou is attacked and $0$ otherwise.\n", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Rooks", "background": null, "description": "庞教授与他的对手寿教授下棋。他们是游戏中仅有的两位玩家。棋盘非常大，可以看作是一个二维平面。庞教授放置了 $n_1$ 个车，寿教授放置了 $n_2$ 个车。每个车在棋盘上是一个具有整数坐标的点。如果一个车满足以下所有条件，则被另一个车「攻击」：\n\n- 它们由不同的玩家放置。\n- 它们具有相同的 $x$ 坐标或 $y$ 坐标。\n- 在它们之间的线段上没有其他车。\n\n帮助庞教授和寿教授判断哪些车被攻击。", "inputFormat": "第一行包含两个整数 $n_1, n_2$ ($1\\le n_1, n_2\\le 200000$)，用一个空格分隔，表示庞教授放置的车的数量和寿教授放置的车的数量。\n\n接下来的 $n_1$ 行中的第 $i$ 行 ($1\\le i\\le n_1$) 包含两个整数 $x, y$ ($-10^9\\le x, y\\le 10^9$)，用一个空格分隔，表示庞教授放置的第 $i$ 个车的位置 $(x, y)$。\n\n接下来的 $n_2$ 行中的第 $i$ 行 ($1\\le i\\le n_2$) 包含两个整数 $x, y$ ($-10^9\\le x, y\\le 10^9$)，用一个空格分隔，表示寿教授放置的第 $i$ 个车的位置 $(x, y)$。\n\n保证玩家放置的 $n_1+n_2$ 个车是不同的（即没有两个车可以有相同的位置）。", "outputFormat": "第一行输出一个长度为 $n_1$ 的字符串。如果庞教授放置的第 $i$ 个车被攻击，第 $i$ 个 ($1\\le i\\le n_1$) 字符应为 $1$，否则为 $0$。\n\n第二行输出一个长度为 $n_2$ 的字符串。如果寿教授放置的第 $i$ 个车被攻击，第 $i$ 个 ($1\\le i\\le n_2$) 字符应为 $1$，否则为 $0$。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10822", "type": "P", "difficulty": 6, "samples": [["5\n1 2 3 2 1\n5\n1 5\n2 4\n1 3\n2 5\n4 4", "10\n3\n4\n6\n1"], ["5\n2 3 5 1 5\n5\n2 3\n1 1\n1 3\n2 5\n2 4", "2\n1\n4\n6\n4"], ["10\n2 8 5 1 10 5 9 9 3 5\n10\n6 8\n1 2\n3 5\n5 7\n1 7\n3 9\n4 9\n1 4\n3 7\n2 5", "4\n2\n4\n4\n16\n16\n12\n6\n9\n6"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Prof. Pang's sequence", "background": "", "description": "Prof. Pang is given a fixed sequence $a_1, \\ldots, a_n$ and $m$ queries.\n\nEach query is specified by two integers $l$ and $r$ satisfying $1\\le l\\le r\\le n$. For each query, you should answer the number of pairs of integers $(i, j)$ such that $l\\le i\\le j\\le r$ and the number of distinct integers in $a_i, \\ldots, a_j$ is odd.", "inputFormat": "The first line contains a single integer $n$ ($1\\le n\\le 5\\times 10^5$).\n\nThe next line contains $n$ integers $a_1, \\ldots, a_n$ ($1\\le a_i\\le n$ for all $1\\le i\\le n$) separated by single spaces.\n\nThe next line contains a single integer $m$ ($1\\le m\\le 5\\times 10^5$).\n\nEach of the next $m$ lines contains two integers $l$ and $r$ ($1\\le l\\le r\\le n$) separated by a single space denoting a query.", "outputFormat": "For each query, output one line containing the answer to that query.", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Prof. Pang's sequence", "background": "", "description": "Prof. Pang is given a fixed sequence $a_1, \\ldots, a_n$ and $m$ queries.\n\nEach query is specified by two integers $l$ and $r$ satisfying $1\\le l\\le r\\le n$. For each query, you should answer the number of pairs of integers $(i, j)$ such that $l\\le i\\le j\\le r$ and the number of distinct integers in $a_i, \\ldots, a_j$ is odd.", "inputFormat": "The first line contains a single integer $n$ ($1\\le n\\le 5\\times 10^5$).\n\nThe next line contains $n$ integers $a_1, \\ldots, a_n$ ($1\\le a_i\\le n$ for all $1\\le i\\le n$) separated by single spaces.\n\nThe next line contains a single integer $m$ ($1\\le m\\le 5\\times 10^5$).\n\nEach of the next $m$ lines contains two integers $l$ and $r$ ($1\\le l\\le r\\le n$) separated by a single space denoting a query.", "outputFormat": "For each query, output one line containing the answer to that query.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Prof. Pang's sequence", "background": "", "description": "庞教授得到一个固定的序列 $a_1, \\ldots, a_n$ 和 $m$ 个查询。\n\n每个查询由两个整数 $l$ 和 $r$ 指定，满足 $1\\le l\\le r\\le n$。对于每个查询，你需要回答满足 $l\\le i\\le j\\le r$ 且 $a_i, \\ldots, a_j$ 中不同整数的数量为奇数的整数对 $(i, j)$ 的数量。", "inputFormat": "第一行包含一个整数 $n$ ($1\\le n\\le 5\\times 10^5$)。\n\n下一行包含 $n$ 个整数 $a_1, \\ldots, a_n$ ($1\\le a_i\\le n$ 对于所有 $1\\le i\\le n$)，以单个空格分隔。\n\n下一行包含一个整数 $m$ ($1\\le m\\le 5\\times 10^5$)。\n\n接下来的 $m$ 行中的每一行包含两个整数 $l$ 和 $r$ ($1\\le l\\le r\\le n$)，以单个空格分隔，表示一个查询。", "outputFormat": "对于每个查询，输出一行，包含该查询的答案。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10823", "type": "P", "difficulty": 7, "samples": [["6\n2 2 2 2 2 2 2 2\n78 74 5 3 10 2 4 7\n31 75 3 6 6 1 8 4\n91 86 4 2 9 5 8 5\n48 89 3 9 2 3 5 7\n13 25 5 7 6 1 2 4", "7\n355\n239\n571\n637\n109"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Prof. Pang Earning Aus", "background": "", "description": "Prof. Pang has only $1$ Au in his pocket. (Yes, Prof. Pang is from Austan and he uses the currency Au there.)\n\nHe will make use of a balloon store and a candy store to make money: In the balloon store, Prof. Pang can buy $k_{ab}$ balloons for the price of $1$ Au or buy $k_{cb}$ balloons for the price of $1$ candy. In the candy store, Prof. Pang can buy $k_{ac}$ candies for the price of $1$ Au or buy $k_{bc}$ candies for the price of $1$ balloon. Prof. Pang can also sell one balloon and get $k_{ba}$ Aus. He can sell one candy and get $k_{ca}$ Aus. The only constraint to him is that there are only $n_b$ balloons in the balloon store and only $n_c$ candies in the candy store. He can buy balloons and candies only when supplies last. Even if he sells some of his balloons or candies, the number of balloons and candies in the stores will not increase.\n\nEach of the six transactions can be performed in any order for any times ($0$ or more) but they are not separable (for example, Prof. Pang can not buy $k_{ab}/2$ balloons for the price of $1/2$ Au).\n\nPlease find out how many Aus he can make at most.", "inputFormat": "The first line contains a single integer $T$ ($1\\le T\\le 1000$) denoting the number of test cases.\n\nEach of the next $T$ lines contains eight integers $n_b$, $n_c$, $k_{ab}$, $k_{ba}$, $k_{ac}$, $k_{ca}$, $k_{bc}$, $k_{cb}$ ($1\\le n_b, n_c\\le 10^9$, $1\\le k_{ab}, k_{ba}, k_{ac}, k_{ca}, k_{bc}, k_{cb}\\le 100$) separated by single spaces.", "outputFormat": "For each test case, print one line containing the answer.", "hint": "In the first example, Prof. Pang buys $2$ balloons with $1$ Au and then sells $2$ balloons and gets $4$ Aus. Then he buys $2$ candies with $1$ Au, sells $2$ candies and gets $4$ Aus.\n", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Prof. Pang Earning Aus", "background": "", "description": "Prof. Pang has only $1$ Au in his pocket. (Yes, Prof. Pang is from Austan and he uses the currency Au there.)\n\nHe will make use of a balloon store and a candy store to make money: In the balloon store, Prof. Pang can buy $k_{ab}$ balloons for the price of $1$ Au or buy $k_{cb}$ balloons for the price of $1$ candy. In the candy store, Prof. Pang can buy $k_{ac}$ candies for the price of $1$ Au or buy $k_{bc}$ candies for the price of $1$ balloon. Prof. Pang can also sell one balloon and get $k_{ba}$ Aus. He can sell one candy and get $k_{ca}$ Aus. The only constraint to him is that there are only $n_b$ balloons in the balloon store and only $n_c$ candies in the candy store. He can buy balloons and candies only when supplies last. Even if he sells some of his balloons or candies, the number of balloons and candies in the stores will not increase.\n\nEach of the six transactions can be performed in any order for any times ($0$ or more) but they are not separable (for example, Prof. Pang can not buy $k_{ab}/2$ balloons for the price of $1/2$ Au).\n\nPlease find out how many Aus he can make at most.", "inputFormat": "The first line contains a single integer $T$ ($1\\le T\\le 1000$) denoting the number of test cases.\n\nEach of the next $T$ lines contains eight integers $n_b$, $n_c$, $k_{ab}$, $k_{ba}$, $k_{ac}$, $k_{ca}$, $k_{bc}$, $k_{cb}$ ($1\\le n_b, n_c\\le 10^9$, $1\\le k_{ab}, k_{ba}, k_{ac}, k_{ca}, k_{bc}, k_{cb}\\le 100$) separated by single spaces.", "outputFormat": "For each test case, print one line containing the answer.", "hint": "In the first example, Prof. Pang buys $2$ balloons with $1$ Au and then sells $2$ balloons and gets $4$ Aus. Then he buys $2$ candies with $1$ Au, sells $2$ candies and gets $4$ Aus.\n", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Prof. Pang Earning Aus", "background": "", "description": "庞教授的口袋里只有 $1$ 个奥币。（是的，庞教授来自奥斯坦，他在那里使用奥币。）\n\n他将利用一个气球店和一个糖果店来赚钱：在气球店，庞教授可以用 $1$ 个奥币买 $k_{ab}$ 个气球，或者用 $1$ 个糖果买 $k_{cb}$ 个气球。在糖果店，庞教授可以用 $1$ 个奥币买 $k_{ac}$ 个糖果，或者用 $1$ 个气球买 $k_{bc}$ 个糖果。庞教授还可以卖掉一个气球，得到 $k_{ba}$ 个奥币。他可以卖掉一个糖果，得到 $k_{ca}$ 个奥币。他唯一的限制是气球店里只有 $n_b$ 个气球，糖果店里只有 $n_c$ 个糖果。他只能在供应充足时购买气球和糖果。即使他卖掉了一些气球或糖果，商店里的气球和糖果数量也不会增加。\n\n这六种交易可以以任何顺序进行任意次数（$0$ 次或更多），但它们不可分割（例如，庞教授不能用 $1/2$ 个奥币买 $k_{ab}/2$ 个气球）。\n\n请找出他最多能赚多少个奥币。", "inputFormat": "第一行包含一个整数 $T$ ($1\\le T\\le 1000$)，表示测试用例的数量。\n\n接下来的 $T$ 行中，每行包含八个整数 $n_b$、$n_c$、$k_{ab}$、$k_{ba}$、$k_{ac}$、$k_{ca}$、$k_{bc}$、$k_{cb}$ ($1\\le n_b, n_c\\le 10^9$, $1\\le k_{ab}, k_{ba}, k_{ac}, k_{ca}, k_{bc}, k_{cb}\\le 100$)，它们之间用空格分隔。", "outputFormat": "对于每个测试用例，输出一行包含答案。", "hint": "在第一个例子中，庞教授用 $1$ 个奥币买了 $2$ 个气球，然后卖掉 $2$ 个气球，得到 $4$ 个奥币。接着他用 $1$ 个奥币买了 $2$ 个糖果，卖掉 $2$ 个糖果，得到 $4$ 个奥币。\n（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10824", "type": "P", "difficulty": 6, "samples": [["3 2 1 2 2\n1 11\n2 8\n1 1\n1 2\n2 4", "2 3 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Plants vs Zombies", "background": "", "description": "Prof. Pang is playing $\\textit{Plants vs Zombies}$.\n\nImagine that the game is played on a number axis. The following are the elements in the game:\n\n- $n$ zombies. The $i$-th zombie appears at $0$ on the number axis at time $t_i$ with health point $h_i$. The zombies have the same moving speed $V$ and they all move to the right.\n- $m$ spikeweeds. The $i$-th spikeweed is of position $p_i$ and attack power $a_i$.\n- One peashooter at the position of $10^{100}$. It shoots $K$ peas of attack power $D$ every second.\n\nEvery second in the game is processed as follows:\n\n- When the $x$-th second begins, the zombies whose $t_i$s equal $x$ appear at position $0$.\n- After that, for each appeared and alive zombie $u$, it will suffer from the spikeweeds whose positions are in $(P_u, P_u + V]$ where $P_u$ is the current position of the $u$-th zombie. So its health point will be decreased by $\\sum\\limits_{1\\le i\\le m, P_u < p_i \\le P_u + V} a_i$. The zombie dies if its health point is no more than zero. Otherwise, it is still alive and its position will be increased by $V$.\n- When the $x$-th second ends, the peashooter shoots $K$ peas in a row. For each pea, it will hit the zombie that is alive and of the maximum position currently. If there are multiple zombies of the maximum position, the pea hits the one of the minimum index. The health point of the zombie being hit decreases by $D$. This zombie dies if its health point is decreased to some value no more than $0$. The peas are processed one by one, not simultaneously. (For example, if a zombie is killed by the first pea, the second pea cannot hit it since it dies before the second pea is shot.) If no alive zombie exists, the remain peas will hit nothing.\n\nProf. Pang wants to know the death time (in seconds) of all the $n$ zombies.", "inputFormat": "The first line contains five integers $n,m,V,K,D$ ($1\\le n,m \\le 10^5, 1\\le V,K,D \\le 10^9$) separated by single spaces.\n\nEach of the following $n$ lines contains two integers $t_i, h_i$ ($1\\le t_i,h_i \\le 10^9$) separated by a single space.\n\nEach of the following $m$ lines contains two integers $p_i, a_i$ ($1\\le p_i,a_i \\le 10^9$) separated by a single space.", "outputFormat": "Output one line containing $n$ integers, where the $i$-th integer denotes the death time (in seconds) of the $i$-th zombie.", "hint": "During the first second:\n\n- The first zombie appears and then moves to position 1. It suffers $6$ damage points ($2$ from the first spikeweed, $4$ from the two peas).\n- The third zombie appears and then moves to position 1. It suffers $2$ damage points (from the first spikeweed) and dies (since its health point becomes $-1$).\n\nDuring the second second:\n\n- The first zombie moves to position $2$ and suffers $6$ damage points ($4$ from the second spikeweed, $2$ from the first pea) and dies (since its health point becomes $-1$).\n- The second zombie appears and then moves to position $1$. It suffers $4$ damage points ($2$ from the first spikeweed, $2$ from the second pea).\n\nDuring the third second:\n\n- The second zombie moves to position $2$, suffers $4$ damage points ($4$ from the second spikeweed) and dies (since its health point becomes $0$).\n- The peas hit no zombie during this second.\n\nSo the death times of the zombies are $2$, $3$, $1$, respectively.", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Plants vs Zombies", "background": "", "description": "Prof. Pang is playing $\\textit{Plants vs Zombies}$.\n\nImagine that the game is played on a number axis. The following are the elements in the game:\n\n- $n$ zombies. The $i$-th zombie appears at $0$ on the number axis at time $t_i$ with health point $h_i$. The zombies have the same moving speed $V$ and they all move to the right.\n- $m$ spikeweeds. The $i$-th spikeweed is of position $p_i$ and attack power $a_i$.\n- One peashooter at the position of $10^{100}$. It shoots $K$ peas of attack power $D$ every second.\n\nEvery second in the game is processed as follows:\n\n- When the $x$-th second begins, the zombies whose $t_i$s equal $x$ appear at position $0$.\n- After that, for each appeared and alive zombie $u$, it will suffer from the spikeweeds whose positions are in $(P_u, P_u + V]$ where $P_u$ is the current position of the $u$-th zombie. So its health point will be decreased by $\\sum\\limits_{1\\le i\\le m, P_u < p_i \\le P_u + V} a_i$. The zombie dies if its health point is no more than zero. Otherwise, it is still alive and its position will be increased by $V$.\n- When the $x$-th second ends, the peashooter shoots $K$ peas in a row. For each pea, it will hit the zombie that is alive and of the maximum position currently. If there are multiple zombies of the maximum position, the pea hits the one of the minimum index. The health point of the zombie being hit decreases by $D$. This zombie dies if its health point is decreased to some value no more than $0$. The peas are processed one by one, not simultaneously. (For example, if a zombie is killed by the first pea, the second pea cannot hit it since it dies before the second pea is shot.) If no alive zombie exists, the remain peas will hit nothing.\n\nProf. Pang wants to know the death time (in seconds) of all the $n$ zombies.", "inputFormat": "The first line contains five integers $n,m,V,K,D$ ($1\\le n,m \\le 10^5, 1\\le V,K,D \\le 10^9$) separated by single spaces.\n\nEach of the following $n$ lines contains two integers $t_i, h_i$ ($1\\le t_i,h_i \\le 10^9$) separated by a single space.\n\nEach of the following $m$ lines contains two integers $p_i, a_i$ ($1\\le p_i,a_i \\le 10^9$) separated by a single space.", "outputFormat": "Output one line containing $n$ integers, where the $i$-th integer denotes the death time (in seconds) of the $i$-th zombie.", "hint": "During the first second:\n\n- The first zombie appears and then moves to position 1. It suffers $6$ damage points ($2$ from the first spikeweed, $4$ from the two peas).\n- The third zombie appears and then moves to position 1. It suffers $2$ damage points (from the first spikeweed) and dies (since its health point becomes $-1$).\n\nDuring the second second:\n\n- The first zombie moves to position $2$ and suffers $6$ damage points ($4$ from the second spikeweed, $2$ from the first pea) and dies (since its health point becomes $-1$).\n- The second zombie appears and then moves to position $1$. It suffers $4$ damage points ($2$ from the first spikeweed, $2$ from the second pea).\n\nDuring the third second:\n\n- The second zombie moves to position $2$, suffers $4$ damage points ($4$ from the second spikeweed) and dies (since its health point becomes $0$).\n- The peas hit no zombie during this second.\n\nSo the death times of the zombies are $2$, $3$, $1$, respectively.", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Plants vs Zombies", "background": "", "description": "庞教授正在玩「植物大战僵尸」。\n\n假设游戏在数轴上进行。游戏中有以下元素：\n\n- $n$ 个僵尸。第 $i$ 个僵尸在时间 $t_i$ 出现在数轴的 $0$ 位置，生命值为 $h_i$。僵尸的移动速度相同，均为 $V$，并且它们都向右移动。\n- $m$ 个地刺。第 $i$ 个地刺的位置为 $p_i$，攻击力为 $a_i$。\n- 一个豌豆射手，位于 $10^{100}$ 位置。它每秒发射 $K$ 颗攻击力为 $D$ 的豌豆。\n\n游戏中的每一秒按以下步骤处理：\n\n- 当第 $x$ 秒开始时，所有 $t_i$ 等于 $x$ 的僵尸出现在位置 $0$。\n- 之后，对于每个已经出现且存活的僵尸 $u$，它会受到位置在 $(P_u, P_u + V]$ 的地刺的攻击，其中 $P_u$ 是第 $u$ 个僵尸的当前位置。因此，它的生命值会减少 $\\sum\\limits_{1\\le i\\le m, P_u < p_i \\le P_u + V} a_i$。如果僵尸的生命值不超过零，它就会死亡。否则，它仍然存活并且位置增加 $V$。\n- 当第 $x$ 秒结束时，豌豆射手连续发射 $K$ 颗豌豆。对于每颗豌豆，它会击中当前存活且位置最大的僵尸。如果有多个位置最大的僵尸，豌豆会击中索引最小的那个。被击中的僵尸的生命值减少 $D$。如果僵尸的生命值减少到不超过 $0$，它就会死亡。豌豆是逐个处理的，而不是同时处理的。（例如，如果一个僵尸被第一颗豌豆击杀，第二颗豌豆无法击中它，因为它在第二颗豌豆发射前已经死亡。）如果没有存活的僵尸，剩下的豌豆将击中空处。\n\n庞教授想知道所有 $n$ 个僵尸的死亡时间（以秒为单位）。", "inputFormat": "第一行包含五个整数 $n,m,V,K,D$ ($1\\le n,m \\le 10^5, 1\\le V,K,D \\le 10^9$)，用单个空格分隔。\n\n接下来的 $n$ 行中的每一行包含两个整数 $t_i, h_i$ ($1\\le t_i,h_i \\le 10^9$)，用单个空格分隔。\n\n接下来的 $m$ 行中的每一行包含两个整数 $p_i, a_i$ ($1\\le p_i,a_i \\le 10^9$)，用单个空格分隔。", "outputFormat": "输出一行包含 $n$ 个整数，第 $i$ 个整数表示第 $i$ 个僵尸的死亡时间（以秒为单位）。", "hint": "在第一秒：\n\n- 第一个僵尸出现并移动到位置 1。它受到 $6$ 点伤害（$2$ 点来自第一个地刺，$4$ 点来自两颗豌豆）。\n- 第三个僵尸出现并移动到位置 1。它受到 $2$ 点伤害（来自第一个地刺）并死亡（因为它的生命值变为 $-1$）。\n\n在第二秒：\n\n- 第一个僵尸移动到位置 $2$，受到 $6$ 点伤害（$4$ 点来自第二个地刺，$2$ 点来自第一颗豌豆）并死亡（因为它的生命值变为 $-1$）。\n- 第二个僵尸出现并移动到位置 $1$。它受到 $4$ 点伤害（$2$ 点来自第一个地刺，$2$ 点来自第二颗豌豆）。\n\n在第三秒：\n\n- 第二个僵尸移动到位置 $2$，受到 $4$ 点伤害（$4$ 点来自第二个地刺）并死亡（因为它的生命值变为 $0$）。\n- 这一秒内豌豆没有击中任何僵尸。\n\n因此，僵尸的死亡时间分别是 $2$，$3$，$1$。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10825", "type": "P", "difficulty": 7, "samples": [["3\n4 1\n0 0\n1 0\n1 1\n0 1\n4 1\n0 0\n1 1\n0 2\n-1 1\n4 100\n0 0\n1 0\n1 1\n0 1", "0.315146743628\n0\n31016.928202570849"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "Special Judge", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Circle", "background": "", "description": "Prof. Pang does research on the minimum covering circle problem. He does not like random algorithms so he decides to find an efficient deterministic one. He starts with the classical idea of binary search. In each iteration of the binary search, the following problem needs to be solved:\n\nGiven the radius $r$ of a circle and a convex hull $C$, let $S$ be defined as \n\n$$S=\\{p\\ |\\  \\text{the circle with center $p$ and radius $r$ covers $C$}\\}.$$ \n\nFind the area of $S$.", "inputFormat": "The first line contains a single positive integer $T$ denoting the number of test cases.\n\nFor each test case, the first line contains two integers $n$ and $r$ ($1\\le n\\le 1000$, $1\\le r\\le 30000$) separated by a single space denoting the number of vertices of the convex hull and the radius. If $n=1$, the convex hull contains only $1$ point. If $n=2$, the convex hull is a line segment. \n\nEach of the following $n$ lines contains two integers $x, y$ ($-10000\\le x, y\\le 10000$) separated by a single space denoting a vertex at $(x, y)$. It is guaranteed that no two vertices coincide and no three vertices are collinear. Vertices are listed in counter-clockwise order.\n\nIt is guaranteed that the sum of $n$ over all test cases does not exceed $200000$.", "outputFormat": "Output a single decimal indicating the answer. Your answer will be considered correct if the absolute or relative error is no more than $10^{-6}$.", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Circle", "background": "", "description": "Prof. Pang does research on the minimum covering circle problem. He does not like random algorithms so he decides to find an efficient deterministic one. He starts with the classical idea of binary search. In each iteration of the binary search, the following problem needs to be solved:\n\nGiven the radius $r$ of a circle and a convex hull $C$, let $S$ be defined as \n\n$$S=\\{p\\ |\\  \\text{the circle with center $p$ and radius $r$ covers $C$}\\}.$$ \n\nFind the area of $S$.", "inputFormat": "The first line contains a single positive integer $T$ denoting the number of test cases.\n\nFor each test case, the first line contains two integers $n$ and $r$ ($1\\le n\\le 1000$, $1\\le r\\le 30000$) separated by a single space denoting the number of vertices of the convex hull and the radius. If $n=1$, the convex hull contains only $1$ point. If $n=2$, the convex hull is a line segment. \n\nEach of the following $n$ lines contains two integers $x, y$ ($-10000\\le x, y\\le 10000$) separated by a single space denoting a vertex at $(x, y)$. It is guaranteed that no two vertices coincide and no three vertices are collinear. Vertices are listed in counter-clockwise order.\n\nIt is guaranteed that the sum of $n$ over all test cases does not exceed $200000$.", "outputFormat": "Output a single decimal indicating the answer. Your answer will be considered correct if the absolute or relative error is no more than $10^{-6}$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Circle", "background": "", "description": "庞教授研究最小覆盖圆问题。他不喜欢随机算法，所以决定寻找一个高效的确定性算法。他从经典的二分查找思想开始。在每次二分查找的迭代中，需要解决以下问题：\n\n给定一个圆的半径 $r$ 和一个凸包 $C$，定义 $S$ 为 \n\n$$S=\\{p\\ |\\  \\text{以 $p$ 为圆心，半径为 $r$ 的圆覆盖 $C$ 的所有点}\\}.$$ \n\n求 $S$ 的面积。", "inputFormat": "第一行包含一个正整数 $T$，表示测试用例的数量。\n\n对于每个测试用例，第一行包含两个整数 $n$ 和 $r$ ($1\\le n\\le 1000$, $1\\le r\\le 30000$)，用一个空格分隔，表示凸包的顶点数和半径。如果 $n=1$，则凸包仅包含 1 个点。如果 $n=2$，则凸包为一条线段。\n\n接下来的 $n$ 行中的每一行包含两个整数 $x, y$ ($-10000\\le x, y\\le 10000$)，用一个空格分隔，表示一个顶点的坐标 $(x, y)$。保证没有两个顶点重合，且没有三个顶点共线。顶点按逆时针顺序列出。\n\n保证所有测试用例中 $n$ 的总和不超过 $200000$。", "outputFormat": "输出一个小数表示答案。如果绝对误差或相对误差不超过 $10^{-6}$，则你的答案将被视为正确。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10826", "type": "P", "difficulty": 5, "samples": [["2\nAC KC QC JC TC\nAC TD 8S 5H 2C", "allin\ncheck"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2020", "ICPC", "EC Final"], "title": "[EC Final 2020] Allin", "background": null, "description": "$\\textbf{Texas hold 'em}$ (also known as $\\textbf{Texas holdem}$, $\\textbf{hold 'em}$, and $\\textbf{holdem}$) is one of the most popular variants of the card game of poker. $\\textbf{Please read the following rules as they may be different from the regular rules.}$ $\\textbf{Two}$ cards, known as $\\textbf{hole cards}$, are dealt $\\textbf{face-down}$ to each player. Each player only knows his own hole cards. And then $\\textbf{five community cards}$ are dealt in three stages $\\textbf{face-up}$. The stages consist of a series of three cards (``the flop``), later an additional single card (``the turn`` or ``fourth street``), and a final card (``the river`` or ``fifth street``). All players know the face-up cards that are already dealt. All cards are drawn from a standard 52-card deck. A standard 52-card deck comprises $13$ ranks in each of the four French suits: clubs ($\\clubsuit$), diamonds ($\\diamondsuit$), hearts ($\\heartsuit$) and spades ($\\spadesuit$). Each suit includes an Ace (A), a King (K), Queen (Q) and Jack (J), each depicted alongside a symbol of its suit; and numerals or pip cards from the Deuce (Two) to the Ten, with each card depicting that many symbols (pips) of its suit. $\\textbf{No card can be drawn more than once.} $\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/otansabp.png)\n\nIndividual cards are ranked as follows (high-to-low): A, K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2. $\\textbf{Each player seeks the best five-card poker hand from any combination of the seven cards}$ -- $\\textbf{the five community cards and his two hole cards}.$\n\nThe following table shows the possible five-card poker hand types in $\\textbf{increasing order}$ of their values. Each type has a specific ordering of the five cards that is described below. $\\textbf{The following part is describing how to compare two hands}$, $\\textbf{which is the same as the regular rule.}$\n\n- $\\textbf{Highcard}$: Simple value of the card. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1>a_2>a_3>a_4>a_5$. ($a_i$ represents the rank of $i$-th card.)\n![](https://cdn.luogu.com.cn/upload/image_hosting/4f6fchzz.png)\n- $\\textbf{Pair}$: Two cards with the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2$, $a_3>a_4>a_5$, $a_1 \\ne a_3$, $a_1 \\ne a_4$, $a_1 \\ne a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/fakv9qbh.png)\n- $\\textbf{Two pairs}$: Two times two cards with the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2$, $a_3=a_4$, $a_1 > a_3$, $a_1 \\ne a_5$, $a_3 \\ne a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/89uwdv5l.png)\n- $\\textbf{Three of a kind}$: Three cards with the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2=a_3$,$a_4 > a_5$, $a_1 \\ne a_4$, $a_1 \\ne a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/lbzmp0in.png)\n- $\\textbf{Straight}$: Sequence of 5 cards in increasing value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_i$ is exactly one rank above $a_{i+1}$ for all $1\\le i\\le 4$. $\\textbf{Specially, if}$ $a_5$ $\\textbf{is Ace,}$ $a_4$ $\\textbf{can be 2. In this case, Ace is considered one rank below 2.}$\n![](https://cdn.luogu.com.cn/upload/image_hosting/7mu6yjj3.png)\n- $\\textbf{Flush}$: 5 cards of the same suit. The cards are ordered as $a_1a_2a_3a_4a_5$ such that all the five cards have the same suit and $a_1>a_2>a_3>a_4>a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/rlnqq9fx.png)\n- $\\textbf{Full house}$: Combination of three of a kind and a pair. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2=a_3$, $a_4=a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/99za5m4u.png)\n- $\\textbf{Four of a kind}$: Four cards of the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2=a_3=a_4$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/d15acddn.png)\n- $\\textbf{Straight flush}$: Straight of the same suit. The cards are ordered as $a_1a_2a_3a_4a_5$ such that all the five cards have the same suit and that $a_i$ is exactly one rank above $a_{i+1}$ for all $1\\le i\\le 4$. $\\textbf{Specially, if}$ $a_5$ $\\textbf{is Ace,}$ $a_4$ $\\textbf{can be 2. In this case, Ace is considered one rank below 2.}$\n![](https://cdn.luogu.com.cn/upload/image_hosting/f7zis4qc.png)\n- $\\textbf{Royal flush}$: Straight flush from Ten to Ace. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1, a_2, a_3, a_4, a_5$ are Ace, King, Queen, Jack, Ten of the same suit.\n![](https://cdn.luogu.com.cn/upload/image_hosting/mgyidu8m.png)\n\nTo compare two hands, first, we will compare the type of two hands. For example, one hand is $\\textbf{Four of a kind}$, the other hand is $\\textbf{Full house}$, $\\textbf{Four of a kind}$ always win $\\textbf{Full house}$.\n\nIf the types of two hands are the same, we compare the ranks of the cards. We will order the card as described above, and compare them one by one. Firstly, we will compare the first card. If a hand's first card has a higher rank, it wins. If the first cards of the two hands have the same rank, we will compare the second card, and so on. If the cards have the same rank in every position, no one wins. The suit of cards never matters. For example, $\\clubsuit$ 5, $\\diamondsuit$ 5, $\\heartsuit$ 5, $\\spadesuit$ 2, $\\clubsuit$ 2 can win $\\diamondsuit$ 3, $\\spadesuit$ 3, $\\heartsuit$ 3, $\\diamondsuit$ A, $\\heartsuit$ A. Since they are both $\\textbf{Full house}$, and we will compare the ranks of the three cards of a kind at first.\n\nConsider the case that the hole cards of Alice are $\\clubsuit$ A, $\\diamondsuit$ 4 and the hole cards of Bob are $\\heartsuit$ 2, $\\spadesuit$ 3. The community cards are $\\spadesuit$ A, $\\heartsuit$ 4, $\\spadesuit$ 5, $\\clubsuit$ Q, $\\heartsuit$ Q. The best hand of Alice (five cards among her hole cards and the community hards) is $\\clubsuit$ A, $\\spadesuit$ A, $\\clubsuit$ Q, $\\heartsuit$ Q, $\\spadesuit$ 5, which is $\\textbf{Two pairs}$. The best hand of Bob is $\\spadesuit$ 5, $\\heartsuit$ 4, $\\spadesuit$ 3, $\\heartsuit$ 2, $\\spadesuit$ A, which is $\\textbf{Straight}$. Thus, Bob wins.\n\nPlayers have betting options to check, call, raise, or fold. $\\textbf{In this problem, we do not care about the meanings of these bets.}$ Rounds of betting take place before the flop is dealt and after each subsequent deal. The player who has the best hand and has not folded by the end of all betting rounds wins all of the money bet for the hand, known as the pot. In certain situations, a ``split-pot`` or ``tie`` can occur when two players have hands of equivalent value. This is also called a ``chop-pot``. $\\textbf{In this problem, we assume the two players never fold.}$ So the player with the best five-card poker hand from any combination of the seven cards wins. If the two players have hands of equal values, no one wins.\n\nTo simplify the statement, we do not introduce the detailed rules here.\n\nDaddy Dream is a world-famous $\\textbf{Texas hold 'em}$ player. As a strong challenger, Wolf Chicken wants to beat Daddy Dream. Wolf Chicken plays first after ``the flop`` (three cards are dealt face-up). Both players know the three face-up cards and each player knows his own two hole cards. Wolf Chicken will choose to allin if and only if he will certainly win whatever the ``the turn``, ``the river`` (the remaining two community cards that have not been revealed) and Daddy Dream's hole cards are. Otherwise, Wolf Chicken will choose to check.\n\nGiven Wolf Chicken's two hole cards and the three flop cards, help him to determine whether he can allin.", "inputFormat": "The first line contains a single integer $T$ ($1\\le T \\le 100000$) denoting the number of test cases.\n\nFor each test case, there is one line containing five strings $h_1, h_2, c_1, c_2, c_3$ separated by single spaces denoting the first hole card, the second hole card, the first community card, the second community card and the third community card.\n\nFor each card, the first character of its corresponding string denotes its rank. (Possible ranks are `2` ,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`T`,`J`,`Q`,`K`,`A`. `T` denotes $10$.) The second character denotes its suit. `C` denotes clubs. `D` denotes diamonds. `H` denotes hearts. `S` denotes spades.\n\nIt is guaranteed that each card appears at most once in one test case.", "outputFormat": "For each test case, print one line. Print $\\texttt{allin}$ if Wolf Chicken will certainly win. Otherwise, print $\\texttt{check}$.", "hint": null, "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Allin", "background": null, "description": "$\\textbf{Texas hold 'em}$ (also known as $\\textbf{Texas holdem}$, $\\textbf{hold 'em}$, and $\\textbf{holdem}$) is one of the most popular variants of the card game of poker. $\\textbf{Please read the following rules as they may be different from the regular rules.}$ $\\textbf{Two}$ cards, known as $\\textbf{hole cards}$, are dealt $\\textbf{face-down}$ to each player. Each player only knows his own hole cards. And then $\\textbf{five community cards}$ are dealt in three stages $\\textbf{face-up}$. The stages consist of a series of three cards (``the flop``), later an additional single card (``the turn`` or ``fourth street``), and a final card (``the river`` or ``fifth street``). All players know the face-up cards that are already dealt. All cards are drawn from a standard 52-card deck. A standard 52-card deck comprises $13$ ranks in each of the four French suits: clubs ($\\clubsuit$), diamonds ($\\diamondsuit$), hearts ($\\heartsuit$) and spades ($\\spadesuit$). Each suit includes an Ace (A), a King (K), Queen (Q) and Jack (J), each depicted alongside a symbol of its suit; and numerals or pip cards from the Deuce (Two) to the Ten, with each card depicting that many symbols (pips) of its suit. $\\textbf{No card can be drawn more than once.} $\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/otansabp.png)\n\nIndividual cards are ranked as follows (high-to-low): A, K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2. $\\textbf{Each player seeks the best five-card poker hand from any combination of the seven cards}$ -- $\\textbf{the five community cards and his two hole cards}.$\n\nThe following table shows the possible five-card poker hand types in $\\textbf{increasing order}$ of their values. Each type has a specific ordering of the five cards that is described below. $\\textbf{The following part is describing how to compare two hands}$, $\\textbf{which is the same as the regular rule.}$\n\n- $\\textbf{Highcard}$: Simple value of the card. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1>a_2>a_3>a_4>a_5$. ($a_i$ represents the rank of $i$-th card.)\n![](https://cdn.luogu.com.cn/upload/image_hosting/4f6fchzz.png)\n- $\\textbf{Pair}$: Two cards with the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2$, $a_3>a_4>a_5$, $a_1 \\ne a_3$, $a_1 \\ne a_4$, $a_1 \\ne a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/fakv9qbh.png)\n- $\\textbf{Two pairs}$: Two times two cards with the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2$, $a_3=a_4$, $a_1 > a_3$, $a_1 \\ne a_5$, $a_3 \\ne a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/89uwdv5l.png)\n- $\\textbf{Three of a kind}$: Three cards with the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2=a_3$,$a_4 > a_5$, $a_1 \\ne a_4$, $a_1 \\ne a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/lbzmp0in.png)\n- $\\textbf{Straight}$: Sequence of 5 cards in increasing value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_i$ is exactly one rank above $a_{i+1}$ for all $1\\le i\\le 4$. $\\textbf{Specially, if}$ $a_5$ $\\textbf{is Ace,}$ $a_4$ $\\textbf{can be 2. In this case, Ace is considered one rank below 2.}$\n![](https://cdn.luogu.com.cn/upload/image_hosting/7mu6yjj3.png)\n- $\\textbf{Flush}$: 5 cards of the same suit. The cards are ordered as $a_1a_2a_3a_4a_5$ such that all the five cards have the same suit and $a_1>a_2>a_3>a_4>a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/rlnqq9fx.png)\n- $\\textbf{Full house}$: Combination of three of a kind and a pair. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2=a_3$, $a_4=a_5$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/99za5m4u.png)\n- $\\textbf{Four of a kind}$: Four cards of the same value. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1=a_2=a_3=a_4$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/d15acddn.png)\n- $\\textbf{Straight flush}$: Straight of the same suit. The cards are ordered as $a_1a_2a_3a_4a_5$ such that all the five cards have the same suit and that $a_i$ is exactly one rank above $a_{i+1}$ for all $1\\le i\\le 4$. $\\textbf{Specially, if}$ $a_5$ $\\textbf{is Ace,}$ $a_4$ $\\textbf{can be 2. In this case, Ace is considered one rank below 2.}$\n![](https://cdn.luogu.com.cn/upload/image_hosting/f7zis4qc.png)\n- $\\textbf{Royal flush}$: Straight flush from Ten to Ace. The cards are ordered as $a_1a_2a_3a_4a_5$ such that $a_1, a_2, a_3, a_4, a_5$ are Ace, King, Queen, Jack, Ten of the same suit.\n![](https://cdn.luogu.com.cn/upload/image_hosting/mgyidu8m.png)\n\nTo compare two hands, first, we will compare the type of two hands. For example, one hand is $\\textbf{Four of a kind}$, the other hand is $\\textbf{Full house}$, $\\textbf{Four of a kind}$ always win $\\textbf{Full house}$.\n\nIf the types of two hands are the same, we compare the ranks of the cards. We will order the card as described above, and compare them one by one. Firstly, we will compare the first card. If a hand's first card has a higher rank, it wins. If the first cards of the two hands have the same rank, we will compare the second card, and so on. If the cards have the same rank in every position, no one wins. The suit of cards never matters. For example, $\\clubsuit$ 5, $\\diamondsuit$ 5, $\\heartsuit$ 5, $\\spadesuit$ 2, $\\clubsuit$ 2 can win $\\diamondsuit$ 3, $\\spadesuit$ 3, $\\heartsuit$ 3, $\\diamondsuit$ A, $\\heartsuit$ A. Since they are both $\\textbf{Full house}$, and we will compare the ranks of the three cards of a kind at first.\n\nConsider the case that the hole cards of Alice are $\\clubsuit$ A, $\\diamondsuit$ 4 and the hole cards of Bob are $\\heartsuit$ 2, $\\spadesuit$ 3. The community cards are $\\spadesuit$ A, $\\heartsuit$ 4, $\\spadesuit$ 5, $\\clubsuit$ Q, $\\heartsuit$ Q. The best hand of Alice (five cards among her hole cards and the community hards) is $\\clubsuit$ A, $\\spadesuit$ A, $\\clubsuit$ Q, $\\heartsuit$ Q, $\\spadesuit$ 5, which is $\\textbf{Two pairs}$. The best hand of Bob is $\\spadesuit$ 5, $\\heartsuit$ 4, $\\spadesuit$ 3, $\\heartsuit$ 2, $\\spadesuit$ A, which is $\\textbf{Straight}$. Thus, Bob wins.\n\nPlayers have betting options to check, call, raise, or fold. $\\textbf{In this problem, we do not care about the meanings of these bets.}$ Rounds of betting take place before the flop is dealt and after each subsequent deal. The player who has the best hand and has not folded by the end of all betting rounds wins all of the money bet for the hand, known as the pot. In certain situations, a ``split-pot`` or ``tie`` can occur when two players have hands of equivalent value. This is also called a ``chop-pot``. $\\textbf{In this problem, we assume the two players never fold.}$ So the player with the best five-card poker hand from any combination of the seven cards wins. If the two players have hands of equal values, no one wins.\n\nTo simplify the statement, we do not introduce the detailed rules here.\n\nDaddy Dream is a world-famous $\\textbf{Texas hold 'em}$ player. As a strong challenger, Wolf Chicken wants to beat Daddy Dream. Wolf Chicken plays first after ``the flop`` (three cards are dealt face-up). Both players know the three face-up cards and each player knows his own two hole cards. Wolf Chicken will choose to allin if and only if he will certainly win whatever the ``the turn``, ``the river`` (the remaining two community cards that have not been revealed) and Daddy Dream's hole cards are. Otherwise, Wolf Chicken will choose to check.\n\nGiven Wolf Chicken's two hole cards and the three flop cards, help him to determine whether he can allin.", "inputFormat": "The first line contains a single integer $T$ ($1\\le T \\le 100000$) denoting the number of test cases.\n\nFor each test case, there is one line containing five strings $h_1, h_2, c_1, c_2, c_3$ separated by single spaces denoting the first hole card, the second hole card, the first community card, the second community card and the third community card.\n\nFor each card, the first character of its corresponding string denotes its rank. (Possible ranks are `2` ,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`T`,`J`,`Q`,`K`,`A`. `T` denotes $10$.) The second character denotes its suit. `C` denotes clubs. `D` denotes diamonds. `H` denotes hearts. `S` denotes spades.\n\nIt is guaranteed that each card appears at most once in one test case.", "outputFormat": "For each test case, print one line. Print $\\texttt{allin}$ if Wolf Chicken will certainly win. Otherwise, print $\\texttt{check}$.", "hint": null, "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Allin", "background": null, "description": "$\\textbf{德州扑克}$（也称为 $\\textbf{Texas holdem}$、$\\textbf{hold 'em}$ 和 $\\textbf{holdem}$）是扑克游戏中最流行的变体之一。$\\textbf{请阅读以下规则，因为它们可能与常规规则不同。}$ $\\textbf{两}$张牌，称为$\\textbf{底牌}$，面朝下发给每位玩家。每位玩家只知道自己的底牌。然后$\\textbf{五张公共牌}$分三个阶段面朝上发出。阶段包括三张牌（“翻牌”），然后是一张额外的牌（“转牌”或“第四街”），最后一张牌（“河牌”或“第五街”）。所有玩家都知道已经发出的面朝上的牌。所有牌都从标准的 52 张牌的牌堆中抽取。标准的 52 张牌的牌堆包含四种法式花色中的每一种的 $13$ 个等级：梅花 ($\\clubsuit$)、方块 ($\\diamondsuit$)、红桃 ($\\heartsuit$) 和黑桃 ($\\spadesuit$)。每种花色包括一张 A（A）、一张 K（K）、Q（Q）和 J（J），每张牌旁边都有其花色的符号；以及从 2（Two）到 10 的数字牌或点数牌，每张牌显示该花色的多个符号（点数）。$\\textbf{任何牌不能被抽取多于一次。}$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/otansabp.png)\n\n单张牌的排名如下（从高到低）：A, K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2。$\\textbf{每位玩家从七张牌中选择最佳的五张牌组合}$ -- $\\textbf{五张公共牌和他的两张底牌}。$\n\n下表显示了可能的五张牌组合类型，按其值的$\\textbf{递增顺序}$排列。每种类型都有特定的五张牌排序，描述如下。$\\textbf{以下部分描述了如何比较两手牌}$，$\\textbf{这与常规规则相同。}$\n\n- $\\textbf{高牌}$：单张牌的简单值。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1>a_2>a_3>a_4>a_5$。($a_i$ 表示第 $i$ 张牌的等级。)\n![](https://cdn.luogu.com.cn/upload/image_hosting/4f6fchzz.png)\n- $\\textbf{一对}$：两张牌具有相同的值。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1=a_2$，$a_3>a_4>a_5$，$a_1 \ne a_3$，$a_1 \ne a_4$，$a_1 \ne a_5$。\n![](https://cdn.luogu.com.cn/upload/image_hosting/fakv9qbh.png)\n- $\\textbf{两对}$：两次两张牌具有相同的值。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1=a_2$，$a_3=a_4$，$a_1 > a_3$，$a_1 \ne a_5$，$a_3 \ne a_5$。\n![](https://cdn.luogu.com.cn/upload/image_hosting/89uwdv5l.png)\n- $\\textbf{三条}$：三张牌具有相同的值。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1=a_2=a_3$，$a_4 > a_5$，$a_1 \ne a_4$，$a_1 \ne a_5$。\n![](https://cdn.luogu.com.cn/upload/image_hosting/lbzmp0in.png)\n- $\\textbf{顺子}$：五张牌按递增值排列。牌的顺序为 $a_1a_2a_3a_4a_5$，使得对所有 $1\\le i\\le 4$，$a_i$ 恰好比 $a_{i+1}$ 高一等级。$\\textbf{特别地，如果}$ $a_5$ $\\textbf{是 A,}$ $a_4$ $\\textbf{可以是 2。在这种情况下，A 被视为比 2 低一等级。}$\n![](https://cdn.luogu.com.cn/upload/image_hosting/7mu6yjj3.png)\n- $\\textbf{同花}$：五张牌具有相同的花色。牌的顺序为 $a_1a_2a_3a_4a_5$，使得所有五张牌具有相同的花色且 $a_1>a_2>a_3>a_4>a_5$。\n![](https://cdn.luogu.com.cn/upload/image_hosting/rlnqq9fx.png)\n- $\\textbf{葫芦}$：三条和一对的组合。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1=a_2=a_3$，$a_4=a_5$。\n![](https://cdn.luogu.com.cn/upload/image_hosting/99za5m4u.png)\n- $\\textbf{四条}$：四张牌具有相同的值。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1=a_2=a_3=a_4$。\n![](https://cdn.luogu.com.cn/upload/image_hosting/d15acddn.png)\n- $\\textbf{同花顺}$：同花的顺子。牌的顺序为 $a_1a_2a_3a_4a_5$，使得所有五张牌具有相同的花色且对所有 $1\\le i\\le 4$，$a_i$ 恰好比 $a_{i+1}$ 高一等级。$\\textbf{特别地，如果}$ $a_5$ $\\textbf{是 A,}$ $a_4$ $\\textbf{可以是 2。在这种情况下，A 被视为比 2 低一等级。}$\n![](https://cdn.luogu.com.cn/upload/image_hosting/f7zis4qc.png)\n- $\\textbf{皇家同花顺}$：从 10 到 A 的同花顺。牌的顺序为 $a_1a_2a_3a_4a_5$，使得 $a_1, a_2, a_3, a_4, a_5$ 是同一花色的 A, K, Q, J, 10。\n![](https://cdn.luogu.com.cn/upload/image_hosting/mgyidu8m.png)\n\n要比较两手牌，首先比较两手牌的类型。例如，一手牌是 $\\textbf{四条}$，另一手牌是 $\\textbf{葫芦}$，$\\textbf{四条}$ 总是赢 $\\textbf{葫芦}$。\n\n如果两手牌的类型相同，我们比较牌的等级。我们将按上述描述排序牌，并逐一比较。首先比较第一张牌。如果一手牌的第一张牌等级更高，则它获胜。如果两手牌的第一张牌等级相同，则比较第二张牌，依此类推。如果每个位置的牌等级相同，则没有人获胜。牌的花色永远不重要。例如，$\\clubsuit$ 5, $\\diamondsuit$ 5, $\\heartsuit$ 5, $\\spadesuit$ 2, $\\clubsuit$ 2 可以赢 $\\diamondsuit$ 3, $\\spadesuit$ 3, $\\heartsuit$ 3, $\\diamondsuit$ A, $\\heartsuit$ A。因为它们都是 $\\textbf{葫芦}$，我们将首先比较三张相同牌的等级。\n\n考虑 Alice 的底牌是 $\\clubsuit$ A, $\\diamondsuit$ 4 和 Bob 的底牌是 $\\heartsuit$ 2, $\\spadesuit$ 3。公共牌是 $\\spadesuit$ A, $\\heartsuit$ 4, $\\spadesuit$ 5, $\\clubsuit$ Q, $\\heartsuit$ Q。Alice 的最佳手牌（她的底牌和公共牌中的五张牌）是 $\\clubsuit$ A, $\\spadesuit$ A, $\\clubsuit$ Q, $\\heartsuit$ Q, $\\spadesuit$ 5，即 $\\textbf{两对}$。Bob 的最佳手牌是 $\\spadesuit$ 5, $\\heartsuit$ 4, $\\spadesuit$ 3, $\\heartsuit$ 2, $\\spadesuit$ A，即 $\\textbf{顺子}$。因此，Bob 获胜。\n\n玩家有下注选项可以选择过牌、跟注、加注或弃牌。$\\textbf{在这个问题中，我们不关心这些下注的含义。}$ 在翻牌发出之前和每次后续发牌后进行下注回合。到所有下注回合结束时，拥有最佳手牌且未弃牌的玩家赢得所有下注的钱，称为底池。在某些情况下，当两名玩家的手牌等值时，可能会出现“分池”或“平局”。这也称为“平分底池”。$\\textbf{在这个问题中，我们假设两名玩家从不弃牌。}$ 因此，从七张牌中任意组合出最佳五张牌的玩家获胜。如果两名玩家的手牌等值，则没有人获胜。\n\n为了简化陈述，我们在此不介绍详细规则。\n\nDaddy Dream 是世界著名的 $\\textbf{德州扑克}$ 玩家。作为一个强大的挑战者，Wolf Chicken 想要击败 Daddy Dream。在“翻牌”（三张牌面朝上发出）后，Wolf Chicken 先行动。两名玩家都知道三张面朝上的牌，每位玩家都知道自己的两张底牌。Wolf Chicken 将选择全押当且仅当无论“转牌”、“河牌”（尚未揭示的两张公共牌）和 Daddy Dream 的底牌是什么，他都能肯定获胜。否则，Wolf Chicken 将选择过牌。\n\n给定 Wolf Chicken 的两张底牌和三张翻牌，帮助他确定是否可以全押。", "inputFormat": "第一行包含一个整数 $T$ ($1\\le T \\le 100000$)，表示测试用例的数量。\n\n对于每个测试用例，有一行包含五个字符串 $h_1, h_2, c_1, c_2, c_3$，用单个空格分隔，表示第一张底牌、第二张底牌、第一张公共牌、第二张公共牌和第三张公共牌。\n\n对于每张牌，其对应字符串的第一个字符表示其等级。（可能的等级有 `2` 、`3`、`4`、`5`、`6`、`7`、`8`、`9`、`T`、`J`、`Q`、`K`、`A`。`T` 表示 $10$。）第二个字符表示其花色。`C` 表示梅花。`D` 表示方块。`H` 表示红桃。`S` 表示黑桃。\n\n保证在一个测试用例中，每张牌最多出现一次。", "outputFormat": "对于每个测试用例，输出一行。如果 Wolf Chicken 将肯定获胜，输出 $\\texttt{allin}$。否则，输出 $\\texttt{check}$。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10827", "type": "P", "difficulty": 4, "samples": [["3\n2 3 6", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "O2优化", "素数判断,质数,筛法", "ICPC", "EC Final"], "title": "[EC Final 2020] Square", "background": "", "description": "Father Study loves math very much.\n\nGiven a sequence of integers $a_1,a_2,...,a_n$, Father Study wants to calculate another sequence of integers $t_1,t_2,...,t_n$ satisifing \n- For each $i~(1 \\le i \\le n)$, $t_i > 0$.\n- For each $i~(1\\le i < n)$, $a_i \\times t_i \\times a_{i+1} \\times t_{i+1}$ is a square number. (In mathematics, a square number or perfect square is an integer that is the square of an integer, in other words, it is the product of some integer with itself.)\n- $\\prod_{i=1}^{n}{t_i}$ is minimized.\n\n\nPlease help Father Study to calculate the answer --- the minimum value of $\\prod_{i=1}^{n}{t_i}$. Because the answer is too large, please output the answer modulo $1000000007$.\n", "inputFormat": "The first line contains a single integer $n$ ($1\\le n \\le 100000$).\n\nThe second line contains $n$ integers $a_1, a_2, ..., a_n$ ($1 \\le a_i \\le 1000000$) separated by single spaces.", "outputFormat": "Output one integer -- the answer modulo $1000000007$. ", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Square", "background": "", "description": "Father Study loves math very much.\n\nGiven a sequence of integers $a_1,a_2,...,a_n$, Father Study wants to calculate another sequence of integers $t_1,t_2,...,t_n$ satisifing \n- For each $i~(1 \\le i \\le n)$, $t_i > 0$.\n- For each $i~(1\\le i < n)$, $a_i \\times t_i \\times a_{i+1} \\times t_{i+1}$ is a square number. (In mathematics, a square number or perfect square is an integer that is the square of an integer, in other words, it is the product of some integer with itself.)\n- $\\prod_{i=1}^{n}{t_i}$ is minimized.\n\n\nPlease help Father Study to calculate the answer --- the minimum value of $\\prod_{i=1}^{n}{t_i}$. Because the answer is too large, please output the answer modulo $1000000007$.\n", "inputFormat": "The first line contains a single integer $n$ ($1\\le n \\le 100000$).\n\nThe second line contains $n$ integers $a_1, a_2, ..., a_n$ ($1 \\le a_i \\le 1000000$) separated by single spaces.", "outputFormat": "Output one integer -- the answer modulo $1000000007$. ", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Square", "background": "", "description": "Father Study 非常喜欢数学。\n\n给定一个整数序列 $a_1,a_2,...,a_n$，Father Study 想要计算另一个整数序列 $t_1,t_2,...,t_n$，满足以下条件：\n- 对于每个 $i~(1 \\le i \\le n)$，有 $t_i > 0$。\n- 对于每个 $i~(1\\le i < n)$，$a_i \\times t_i \\times a_{i+1} \\times t_{i+1}$ 是一个完全平方数。（在数学中，完全平方数是一个整数，它是某个整数的平方，换句话说，它是某个整数与其自身的乘积。）\n- $\\prod_{i=1}^{n}{t_i}$ 的值最小。\n\n\n请帮助 Father Study 计算答案，即 $\\prod_{i=1}^{n}{t_i}$ 的最小值。由于答案可能过大，请输出答案对 $1000000007$ 取模的结果。\n", "inputFormat": "第一行包含一个整数 $n$ ($1\\le n \\le 100000$)。\n\n第二行包含 $n$ 个整数 $a_1, a_2, ..., a_n$ ($1 \\le a_i \\le 1000000$)，它们由单个空格分隔。", "outputFormat": "输出一个整数，即答案对 $1000000007$ 取模的结果。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10828", "type": "P", "difficulty": 7, "samples": [["2\n3 3\n1 3 5\n1 1\n2 2\n3 3\n4 4\n5 5 6\n2 2\n2 3\n3 3", "ABB\nCBC\nCCC\nBABB\nBABC\nCACC\nAACC"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "Special Judge", "O2优化", "ICPC", "EC Final"], "title": "[EC Final 2020] Fillomino", "background": "", "description": "Prof. Pang is the king of Pangland. Pangland is a board with size $n\\times m$. The cell at the $i$-th row and the $j$-th column is denoted as cell $(i, j)$ for all $1\\le i\\le n, 1\\le j\\le m$. If two cells share an edge, they are connected. The board is $\\textbf{toroidal}$, that is, cell $(1,y)$ is also connected to $(n,y)$ and $(x,1)$ is also connected to $(x,m)$ for all $1\\le x\\le n, 1\\le y\\le m$.\n\nProf. Pang has three sons. We call them the first son, the second son and the third son. Each of them lives in a cell in Pangland. The $i$-th son lives in cell $(x_i, y_i)$. No two sons live in the same cell. Prof. Pang wants to distribute the cells in Pangland to his sons such that\n\n- Each cell belongs to exactly one son.\n- There are $cnt_i$ cells that belong to the $i$-th son for all $1\\le i\\le 3$.\n- The cells that belong to the $i$-th son are connected for all $1\\le i\\le 3$.\n- The cell that the $i$-th son lives in must belong to the $i$-th son himself for all $1\\le i\\le 3$.\n\nPlease help Prof. Pang to find a solution if possible.", "inputFormat": "The first line contains a single integer $T$ ($1\\leq T\\leq 10^5$) denoting the number of test cases.\n\nFor each test case, the first line contains two integers $n, m$ ($3\\leq n,m \\leq 500$) separated by a single space.\n\nThe next line contains three positive integers $cnt_1,cnt_2,cnt_3$ ($cnt_1+cnt_2+cnt_3 = n m$) separated by single spaces.\n\nThe $i$-th line of the next $3$ lines contains two integers $x_i, y_i$ ($1\\le x_i\\le n, 1\\le y_i\\le m$) separated by a single space.\n\nIt is guaranteed that $(x_1,y_1)$, $(x_2, y_2)$, $(x_3, y_3)$ are distinct.\n\nIt is guaranteed that the sum of $nm$ over all test cases is no more than $10^6$.", "outputFormat": "For each test case, if there is no solution, output $\\texttt{-1}$ in one line. Otherwise, output $n$ lines. Each line should contain $m$ characters. The $j$-th character in the $i$-th line should be $\\texttt{A}$ if cell $(i, j)$ belongs to the first son, $\\texttt{B}$ if cell $(i, j)$ belongs to the second son and $\\texttt{C}$ if cell $(i, j)$ belongs to the third son. Cell $(x_i, y_i)$ must belong to the $i$-th son for all $1\\le i\\le 3$. The cells that belong to the $i$-th son must be connected for all $1\\le i\\le 3$.", "hint": "", "locale": "en", "translations": {"en": {"title": "[EC Final 2020] Fillomino", "background": "", "description": "Prof. Pang is the king of Pangland. Pangland is a board with size $n\\times m$. The cell at the $i$-th row and the $j$-th column is denoted as cell $(i, j)$ for all $1\\le i\\le n, 1\\le j\\le m$. If two cells share an edge, they are connected. The board is $\\textbf{toroidal}$, that is, cell $(1,y)$ is also connected to $(n,y)$ and $(x,1)$ is also connected to $(x,m)$ for all $1\\le x\\le n, 1\\le y\\le m$.\n\nProf. Pang has three sons. We call them the first son, the second son and the third son. Each of them lives in a cell in Pangland. The $i$-th son lives in cell $(x_i, y_i)$. No two sons live in the same cell. Prof. Pang wants to distribute the cells in Pangland to his sons such that\n\n- Each cell belongs to exactly one son.\n- There are $cnt_i$ cells that belong to the $i$-th son for all $1\\le i\\le 3$.\n- The cells that belong to the $i$-th son are connected for all $1\\le i\\le 3$.\n- The cell that the $i$-th son lives in must belong to the $i$-th son himself for all $1\\le i\\le 3$.\n\nPlease help Prof. Pang to find a solution if possible.", "inputFormat": "The first line contains a single integer $T$ ($1\\leq T\\leq 10^5$) denoting the number of test cases.\n\nFor each test case, the first line contains two integers $n, m$ ($3\\leq n,m \\leq 500$) separated by a single space.\n\nThe next line contains three positive integers $cnt_1,cnt_2,cnt_3$ ($cnt_1+cnt_2+cnt_3 = n m$) separated by single spaces.\n\nThe $i$-th line of the next $3$ lines contains two integers $x_i, y_i$ ($1\\le x_i\\le n, 1\\le y_i\\le m$) separated by a single space.\n\nIt is guaranteed that $(x_1,y_1)$, $(x_2, y_2)$, $(x_3, y_3)$ are distinct.\n\nIt is guaranteed that the sum of $nm$ over all test cases is no more than $10^6$.", "outputFormat": "For each test case, if there is no solution, output $\\texttt{-1}$ in one line. Otherwise, output $n$ lines. Each line should contain $m$ characters. The $j$-th character in the $i$-th line should be $\\texttt{A}$ if cell $(i, j)$ belongs to the first son, $\\texttt{B}$ if cell $(i, j)$ belongs to the second son and $\\texttt{C}$ if cell $(i, j)$ belongs to the third son. Cell $(x_i, y_i)$ must belong to the $i$-th son for all $1\\le i\\le 3$. The cells that belong to the $i$-th son must be connected for all $1\\le i\\le 3$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[EC Final 2020] Fillomino", "background": null, "description": "庞教授是庞国的国王。庞国是一个大小为 $n\\times m$ 的棋盘。第 $i$ 行第 $j$ 列的格子记作格子 $(i, j)$，其中 $1\\le i\\le n, 1\\le j\\le m$。如果两个格子共享一条边，则它们是连通的。这个棋盘是一个**环面**，也就是说，对于所有 $1\\le x\\le n, 1\\le y\\le m$，格子 $(1,y)$ 也与 $(n,y)$ 连通，格子 $(x,1)$ 也与 $(x,m)$ 连通。\n\n庞教授有三个儿子。我们称他们为大儿子、二儿子和三儿子。他们每个人都住在庞国的一个格子中。第 $i$ 个儿子住在格子 $(x_i, y_i)$。没有两个儿子住在同一个格子中。庞教授希望将庞国的格子分配给他的儿子们，使得：\n\n- 每个格子恰好属于一个儿子。\n- 对于所有 $1\\le i\\le 3$，有 $cnt_i$ 个格子属于第 $i$ 个儿子。\n- 对于所有 $1\\le i\\le 3$，属于第 $i$ 个儿子的格子是连通的。\n- 对于所有 $1\\le i\\le 3$，第 $i$ 个儿子所在的格子必须属于他自己。\n\n请帮助庞教授找到一个可能的解决方案。", "inputFormat": "第一行包含一个整数 $T$ ($1\\leq T\\leq 10^5$)，表示测试用例的数量。\n\n对于每个测试用例，第一行包含两个整数 $n, m$ ($3\\leq n,m \\leq 500$)，用一个空格分隔。\n\n下一行包含三个正整数 $cnt_1,cnt_2,cnt_3$ ($cnt_1+cnt_2+cnt_3 = n m$)，用空格分隔。\n\n接下来的 3 行中的第 $i$ 行包含两个整数 $x_i, y_i$ ($1\\le x_i\\le n, 1\\le y_i\\le m$)，用一个空格分隔。\n\n保证 $(x_1,y_1)$、$(x_2, y_2)$、$(x_3, y_3)$ 是不同的。\n\n保证所有测试用例中 $nm$ 的总和不超过 $10^6$。", "outputFormat": "对于每个测试用例，如果没有解决方案，输出一行 $\\texttt{-1}$。否则，输出 $n$ 行。每行应包含 $m$ 个字符。如果格子 $(i, j)$ 属于大儿子，则第 $i$ 行第 $j$ 个字符应为 $\\texttt{A}$；如果属于二儿子，则为 $\\texttt{B}$；如果属于三儿子，则为 $\\texttt{C}$。对于所有 $1\\le i\\le 3$，格子 $(x_i, y_i)$ 必须属于第 $i$ 个儿子。对于所有 $1\\le i\\le 3$，属于第 $i$ 个儿子的格子必须是连通的。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10829", "type": "P", "difficulty": 6, "samples": [["3 3\n1 2\n2 3\n3 1", "da"], ["9 12\n1 2\n2 3\n3 1\n3 4\n4 5\n3 5\n5 6\n6 7\n7 5\n7 8\n9 8\n7 9", "ne"], ["9 12\n1 2\n2 3\n3 1\n4 5\n5 6\n6 4\n7 8\n8 9\n9 7\n1 7\n7 4\n4 1", "da"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["点分治", "2023", "O2优化", "圆方树", "COTS（克罗地亚）"], "title": "[COTS 2023] 三元图 Graf", "background": "译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D1T1。$\\texttt{2s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "\n对于非负整数 $k$，我们递归地给出 $k-{}$三元图的定义。\n\n- $k-{}$三元图是无向图。\n- 对于 $k=0$，$k-{}$三元图 是一个仅包含 $1$ 个节点和 $0$ 条边的图。\n- 对于 $k\\gt 0$，$k-{}$三元图由三个 $(k-1)-{}$三元图组合而成。具体地说，在这三个 $(k-1)-{}$三元图中各选择一个节点，然后在这三个节点之间两两连边，得到的就是 $k-{}$三元图。\n\n下图展示了一张 $3-{}$三元图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fyidau35.png)\n\n\n给定无向图 $G$，判断它是否是 $k-{}$三元图。\n\n", "inputFormat": "\n第一行，两个正整数，$N,M$，表示 $G$ 的点数和边数。\n\n接下来 $M$ 行，每行两个正整数 $u,v$，表示 $G$ 中的一条边 $(u,v)$。", "outputFormat": "\n如果 $G$ 是 $k-{}$三元图，输出 $\\texttt{da}$（克罗地亚语「是」）；否则输出 $\\texttt{ne}$（克罗地亚语「否」）。", "hint": "\n#### 样例解释\n\n样例 $3$ 解释：这是一张 $2-{}$三元图。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 200\\, 000$，$0\\le M\\le 300\\, 000$；\n- $1\\le u,v\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $15$  | $N \\leq 10$，$M\\le 20$   |\n| $2$  | $20$  | $N \\leq 1000$，$M\\le 2000$  |\n| $3$  | $15$  | 满足特殊性质 |\n| $4$  | $50$  | 无额外约束 |\n\n特殊性质：若 $G$ 是 $k-{}$三元图，保证每一步选择的 $3$ 个节点在之前已经被选中过。换句话说，总是选中「中间的节点」。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2023] 三元图 Graf", "background": "译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D1T1。$\\texttt{2s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "\n对于非负整数 $k$，我们递归地给出 $k-{}$三元图的定义。\n\n- $k-{}$三元图是无向图。\n- 对于 $k=0$，$k-{}$三元图 是一个仅包含 $1$ 个节点和 $0$ 条边的图。\n- 对于 $k\\gt 0$，$k-{}$三元图由三个 $(k-1)-{}$三元图组合而成。具体地说，在这三个 $(k-1)-{}$三元图中各选择一个节点，然后在这三个节点之间两两连边，得到的就是 $k-{}$三元图。\n\n下图展示了一张 $3-{}$三元图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fyidau35.png)\n\n\n给定无向图 $G$，判断它是否是 $k-{}$三元图。\n\n", "inputFormat": "\n第一行，两个正整数，$N,M$，表示 $G$ 的点数和边数。\n\n接下来 $M$ 行，每行两个正整数 $u,v$，表示 $G$ 中的一条边 $(u,v)$。", "outputFormat": "\n如果 $G$ 是 $k-{}$三元图，输出 $\\texttt{da}$（克罗地亚语「是」）；否则输出 $\\texttt{ne}$（克罗地亚语「否」）。", "hint": "\n#### 样例解释\n\n样例 $3$ 解释：这是一张 $2-{}$三元图。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 200\\, 000$，$0\\le M\\le 300\\, 000$；\n- $1\\le u,v\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $15$  | $N \\leq 10$，$M\\le 20$   |\n| $2$  | $20$  | $N \\leq 1000$，$M\\le 2000$  |\n| $3$  | $15$  | 满足特殊性质 |\n| $4$  | $50$  | 无额外约束 |\n\n特殊性质：若 $G$ 是 $k-{}$三元图，保证每一步选择的 $3$ 个节点在之前已经被选中过。换句话说，总是选中「中间的节点」。\n", "locale": "zh-CN"}}}
{"pid": "P10830", "type": "P", "difficulty": 7, "samples": [["2\n3\n1 4 5\n4\n1 4 5 5", "-1\n1 5\n3 5\n4 4"], ["1\n6\n1 2 3 4 5 6", "1 5\n3 3\n4 6\n3 5\n2 4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "数论", "Special Judge", "O2优化", "构造", "COTS（克罗地亚）"], "title": "[COTS 2023] 平均数 Prosjek", "background": "\n\n译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D1T2。$\\texttt{3s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）\n\n感谢 @Rainbow_qwq 修复交互库。警示后人：慎用 `multiset.count`（复杂度可退化至线性）。\n", "description": "\n在黑板上有 $N$ 个非负整数。在一次操作中，可以选择黑板上的两个整数 $a,b$ 满足 $2\\mid (a+b)$，将 $a,b$ 从黑板上擦去，然后写下 $(a+b)/2$。注意到每次操作后，黑板上的数都是整数。\n\n试判断是否能让黑板上只剩下一个数。如果可以的话，还需要给出一组解。\n", "inputFormat": "\n**本题单个测试点内有多组测试数据。**\n\n第一行，一个正整数 $T$，代表数据组数。\n\n接下来依次描述 $T$ 组数据。\n\n对于每组数据，第一行，一个正整数 $N$，代表黑板上数的数量。\n\n第二行，$N$ 个非负整数，描述黑板上的数。\n", "outputFormat": "\n对于每组数据，输出若干行。\n\n如果不可行，输出一行一个 $\\texttt{-1}$；\n\n否则，输出 $(N-1)$ 行，每行两个整数，表示每次要擦除的数。你需要保证操作的数是存在的，且它们的和能被 $2$ 整除。\n", "hint": "\n#### 样例解释\n\n样例 $2$ 解释：$[\\boldsymbol{\\textcolor{red}{1}},2,3,4,\\boldsymbol{\\textcolor{red}{5}},6] \\to [\\boldsymbol{\\textcolor{red}{3}},2,\\boldsymbol{\\textcolor{red}{3}},4,6]\\to [3,2,\\boldsymbol{\\textcolor{red}{4}},\\boldsymbol{\\textcolor{red}{6}}]\\to [\\boldsymbol{\\textcolor{red}{5}},\\boldsymbol{\\textcolor{red}{3}},2]\\to [\\boldsymbol{\\textcolor{red}{4}},\\boldsymbol{\\textcolor{red}{2}}]\\to [3]$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T\\le 10^5$；\n- $1\\le N,\\sum N\\le 10^6$；\n- $0\\le a_i\\le 10^{18}$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $9$  | $T\\le 100$，$N\\le 7$   |\n| $2$  | $23$  | $T\\le 100$，$a_i\\le 10$  |\n| $3$  | $16$  | $a_i$ 都为偶数 |\n| $4$  | $52$  | 无额外约束 |\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2023] 平均数 Prosjek", "background": "\n\n译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D1T2。$\\texttt{3s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）\n\n感谢 @Rainbow_qwq 修复交互库。警示后人：慎用 `multiset.count`（复杂度可退化至线性）。\n", "description": "\n在黑板上有 $N$ 个非负整数。在一次操作中，可以选择黑板上的两个整数 $a,b$ 满足 $2\\mid (a+b)$，将 $a,b$ 从黑板上擦去，然后写下 $(a+b)/2$。注意到每次操作后，黑板上的数都是整数。\n\n试判断是否能让黑板上只剩下一个数。如果可以的话，还需要给出一组解。\n", "inputFormat": "\n**本题单个测试点内有多组测试数据。**\n\n第一行，一个正整数 $T$，代表数据组数。\n\n接下来依次描述 $T$ 组数据。\n\n对于每组数据，第一行，一个正整数 $N$，代表黑板上数的数量。\n\n第二行，$N$ 个非负整数，描述黑板上的数。\n", "outputFormat": "\n对于每组数据，输出若干行。\n\n如果不可行，输出一行一个 $\\texttt{-1}$；\n\n否则，输出 $(N-1)$ 行，每行两个整数，表示每次要擦除的数。你需要保证操作的数是存在的，且它们的和能被 $2$ 整除。\n", "hint": "\n#### 样例解释\n\n样例 $2$ 解释：$[\\boldsymbol{\\textcolor{red}{1}},2,3,4,\\boldsymbol{\\textcolor{red}{5}},6] \\to [\\boldsymbol{\\textcolor{red}{3}},2,\\boldsymbol{\\textcolor{red}{3}},4,6]\\to [3,2,\\boldsymbol{\\textcolor{red}{4}},\\boldsymbol{\\textcolor{red}{6}}]\\to [\\boldsymbol{\\textcolor{red}{5}},\\boldsymbol{\\textcolor{red}{3}},2]\\to [\\boldsymbol{\\textcolor{red}{4}},\\boldsymbol{\\textcolor{red}{2}}]\\to [3]$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T\\le 10^5$；\n- $1\\le N,\\sum N\\le 10^6$；\n- $0\\le a_i\\le 10^{18}$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $9$  | $T\\le 100$，$N\\le 7$   |\n| $2$  | $23$  | $T\\le 100$，$a_i\\le 10$  |\n| $3$  | $16$  | $a_i$ 都为偶数 |\n| $4$  | $52$  | 无额外约束 |\n\n\n", "locale": "zh-CN"}}}
{"pid": "P10831", "type": "P", "difficulty": 6, "samples": [["\n0\n\n2\n\n2", "? 1 2 3\n\n? 1 2 4\n\n? 1 3 4\n\n!\n0001\n0001\n0001\n1110"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "交互题", "Special Judge", "O2优化", "概率论", "随机化", "COTS（克罗地亚）"], "title": "[COTS 2023] 三角形 Trokuti", "background": "译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D1T3。$\\texttt{1s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "**这是一道交互题。交互库是非自适应的。**\n\n有一个隐藏的简单无向图 $G$，其中恰有 $N=100$ 个节点。试通过以下询问重建 $G$：\n\n> **询问** 给定两两不同的节点 $u,v,w$，回答这三个节点的导出子图（induced subgraph）的边数。注意到答案只会是 $0,1,2,3$。\n\n【实现细节】\n\n你的程序通过标准输入输出与交互库交互。\n\n- $\\texttt{? u v w}$：发起一次询问，回答 $u,v,w$ 的导出子图的边数（从标准输入读取），注意到答案只会是 $0,1,2,3$。\n\n    你需要保证 $1\\le u,v,w\\le 100$，$u,v,w$ 两两不同。最多询问 $161\\, 700$ 次。\n- $\\texttt{!}$：回答答案。在输出 $\\texttt{!}$ 后换行，接下来输出 $N$ 行，每行一个长度为 $N$ 的 $\\texttt{01}$ 字符串。\n\n    第 $i$ 行第 $j$ 个字符如果是 $\\texttt{1}$，代表 $(i,j)$ 间有边；否则代表 $(i,j)$ 间无边。\n\n每次输出后，你需要刷新缓冲区。如：C++ 中的 `cout.flush()`。\n", "inputFormat": "见【实现细节】。", "outputFormat": "见【实现细节】。", "hint": "\n#### 评分方式\n\n记 $Q$ 为你程序询问的最多次数。\n\n若 $Q\\gt 161\\, 700$，得 $0$ 分。\n\n否则，你的得分将由下表确定：\n\n| $Q$ | 得分 |\n|:-----:|:------:|\n| $9\\, 900\\le Q\\le 161\\, 700$  | $\\displaystyle 10+10\\cdot \\frac{161\\, 700-Q}{161\\, 700-9\\, 900}$  | \n| $4\\, 950 \\le Q\\le 9\\, 900$  | $\\displaystyle 20+10\\cdot \\frac{9\\, 900-Q}{9\\,900-4\\,500}$  |\n| $3\\, 400\\le Q\\le 4\\, 950$  | $\\displaystyle 30+70\\cdot \\frac{4\\,950-Q}{4\\,950-3\\,400}$  |\n| $Q\\le 3\\, 400$  | $100$  |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2023] 三角形 Trokuti", "background": "译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D1T3。$\\texttt{1s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "**这是一道交互题。交互库是非自适应的。**\n\n有一个隐藏的简单无向图 $G$，其中恰有 $N=100$ 个节点。试通过以下询问重建 $G$：\n\n> **询问** 给定两两不同的节点 $u,v,w$，回答这三个节点的导出子图（induced subgraph）的边数。注意到答案只会是 $0,1,2,3$。\n\n【实现细节】\n\n你的程序通过标准输入输出与交互库交互。\n\n- $\\texttt{? u v w}$：发起一次询问，回答 $u,v,w$ 的导出子图的边数（从标准输入读取），注意到答案只会是 $0,1,2,3$。\n\n    你需要保证 $1\\le u,v,w\\le 100$，$u,v,w$ 两两不同。最多询问 $161\\, 700$ 次。\n- $\\texttt{!}$：回答答案。在输出 $\\texttt{!}$ 后换行，接下来输出 $N$ 行，每行一个长度为 $N$ 的 $\\texttt{01}$ 字符串。\n\n    第 $i$ 行第 $j$ 个字符如果是 $\\texttt{1}$，代表 $(i,j)$ 间有边；否则代表 $(i,j)$ 间无边。\n\n每次输出后，你需要刷新缓冲区。如：C++ 中的 `cout.flush()`。\n", "inputFormat": "见【实现细节】。", "outputFormat": "见【实现细节】。", "hint": "\n#### 评分方式\n\n记 $Q$ 为你程序询问的最多次数。\n\n若 $Q\\gt 161\\, 700$，得 $0$ 分。\n\n否则，你的得分将由下表确定：\n\n| $Q$ | 得分 |\n|:-----:|:------:|\n| $9\\, 900\\le Q\\le 161\\, 700$  | $\\displaystyle 10+10\\cdot \\frac{161\\, 700-Q}{161\\, 700-9\\, 900}$  | \n| $4\\, 950 \\le Q\\le 9\\, 900$  | $\\displaystyle 20+10\\cdot \\frac{9\\, 900-Q}{9\\,900-4\\,500}$  |\n| $3\\, 400\\le Q\\le 4\\, 950$  | $\\displaystyle 30+70\\cdot \\frac{4\\,950-Q}{4\\,950-3\\,400}$  |\n| $Q\\le 3\\, 400$  | $100$  |\n\n", "locale": "zh-CN"}}}
{"pid": "P10832", "type": "P", "difficulty": 6, "samples": [["1\n3\n2 10\n3 3\n5 7", "7\n1100111"], ["2\n3 2 7\n1100111\n5\n3", "7\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "交互题", "Special Judge", "O2优化", "高斯消元", "通信题", "拉格朗日插值法", "COTS（克罗地亚）"], "title": "[COTS 2023] 传 Mapa", "background": "\n译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D2T1。$\\texttt{1s,0.5G}$。\n\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）\n\n~~**受洛谷评测系统的限制（本题需要 run-twice），本题无法评测。**~~", "description": "\n给定 $N$ 对 $[1,10^9]$ 间的正整数，类似于 C++ 中的 $\\texttt{std::map<int,int>}$，可以把每对数的第一个数看成「键」（key），第二个数看成「值」（value）。保证键两两不同，可以通过键查询值。\n\n你想要发送这 $N$ 对正整数，但是受带宽限制，只能将这 $N$ 对正整数压缩成一个 $\\texttt{01}$ 串来发送。\n\n写一个程序，将这 $N$ 对正整数压缩成 $\\texttt{01}$ 串；或者给定你构造的 $\\texttt{01}$ 串，$Q$ 次询问给定键，你要回答对应的值。", "inputFormat": "第一行，一个正整数 $T\\in \\{1,2\\}$，表示数据类型：若为 $1$，则为编码操作；否则为解码操作。\n\n- 当 $T=1$ 时：\n\n第二行，一个整数 $N$，代表正整数对数；\n\n接下来 $N$ 行，每行两个正整数 $x_i,y_i$，分别表示键和对应的值。\n\n- 当 $T=2$ 时：\n\n第二行，三个正整数 $N,Q,K$，表示正整数对数，询问次数和 $\\texttt{01}$ 串长度；\n\n第三行，一个长度为 $K$ 的 $\\texttt{01}$ 串。\n\n接下来 $Q$ 行，每行一个正整数 $x_i$，表示询问的键。", "outputFormat": "- 当 $T=1$ 时：\n\n第一行，一个正整数 $K$，表示你构造的 $\\texttt{01}$ 串长度；\n\n第二行，你构造的 $\\texttt{01}$ 串。\n\n- 当 $T=2$ 时：\n\n输出 $Q$ 行，每行一个正整数，表示对应的值。", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $T\\in \\{1,2\\}$；\n- $1\\le N,Q\\le 100$，$1\\le K\\le 6\\, 000$；\n- $1\\le x_i,y_i\\le 10^9$；\n- $x_i$ 两两不同。\n\n#### 评分方式\n\n\n如果你的输出格式有错或者没有正确回答询问，得 $0$ 分。\n\n否则记 $K$ 为你输出的 $\\texttt{01}$ 串长度，得分由下表确定：\n\n| $K$ | 得分 |\n|:-----:|:------:|\n| $K\\gt 6\\, 000$  | $0$  | \n| $3\\, 000\\le K\\le 6\\, 000$  | $\\displaystyle 100- \\frac{K-3\\, 000}{30}$  |\n| $K\\le 3\\, 000$  | $100$  |\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2023] 传 Mapa", "background": "\n译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D2T1。$\\texttt{1s,0.5G}$。\n\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）\n\n~~**受洛谷评测系统的限制（本题需要 run-twice），本题无法评测。**~~", "description": "\n给定 $N$ 对 $[1,10^9]$ 间的正整数，类似于 C++ 中的 $\\texttt{std::map<int,int>}$，可以把每对数的第一个数看成「键」（key），第二个数看成「值」（value）。保证键两两不同，可以通过键查询值。\n\n你想要发送这 $N$ 对正整数，但是受带宽限制，只能将这 $N$ 对正整数压缩成一个 $\\texttt{01}$ 串来发送。\n\n写一个程序，将这 $N$ 对正整数压缩成 $\\texttt{01}$ 串；或者给定你构造的 $\\texttt{01}$ 串，$Q$ 次询问给定键，你要回答对应的值。", "inputFormat": "第一行，一个正整数 $T\\in \\{1,2\\}$，表示数据类型：若为 $1$，则为编码操作；否则为解码操作。\n\n- 当 $T=1$ 时：\n\n第二行，一个整数 $N$，代表正整数对数；\n\n接下来 $N$ 行，每行两个正整数 $x_i,y_i$，分别表示键和对应的值。\n\n- 当 $T=2$ 时：\n\n第二行，三个正整数 $N,Q,K$，表示正整数对数，询问次数和 $\\texttt{01}$ 串长度；\n\n第三行，一个长度为 $K$ 的 $\\texttt{01}$ 串。\n\n接下来 $Q$ 行，每行一个正整数 $x_i$，表示询问的键。", "outputFormat": "- 当 $T=1$ 时：\n\n第一行，一个正整数 $K$，表示你构造的 $\\texttt{01}$ 串长度；\n\n第二行，你构造的 $\\texttt{01}$ 串。\n\n- 当 $T=2$ 时：\n\n输出 $Q$ 行，每行一个正整数，表示对应的值。", "hint": "\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $T\\in \\{1,2\\}$；\n- $1\\le N,Q\\le 100$，$1\\le K\\le 6\\, 000$；\n- $1\\le x_i,y_i\\le 10^9$；\n- $x_i$ 两两不同。\n\n#### 评分方式\n\n\n如果你的输出格式有错或者没有正确回答询问，得 $0$ 分。\n\n否则记 $K$ 为你输出的 $\\texttt{01}$ 串长度，得分由下表确定：\n\n| $K$ | 得分 |\n|:-----:|:------:|\n| $K\\gt 6\\, 000$  | $0$  | \n| $3\\, 000\\le K\\le 6\\, 000$  | $\\displaystyle 100- \\frac{K-3\\, 000}{30}$  |\n| $K\\le 3\\, 000$  | $100$  |\n\n\n", "locale": "zh-CN"}}}
{"pid": "P10833", "type": "P", "difficulty": 6, "samples": [["3\n3 1 2 ", "3"], ["5\n3 2 1 2 3", "5"], ["7\n2 1 3 1 2 3 4", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2023", "O2优化", "分治", "哈希 hashing", "单调栈", "COTS（克罗地亚）"], "title": "[COTS 2023] 下 Niz", "background": "\n译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D2T2。$\\texttt{1s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "\n给定长度为 $N$ 的序列 $a$，求满足以下条件的 $(l,r)$ 对数：\n\n- $1\\le l\\le r\\le N$；\n- $a_l,a_{l+1},\\cdots,a_{r-1},a_r$ 是 $1\\sim r-l+1$ 的排列。\n", "inputFormat": "\n第一行，一个正整数 $N$，表示序列长度；\n\n第二行，$N$ 个正整数，描述序列 $a$。", "outputFormat": "一行一个整数，即满足条件的 $(l,r)$ 的数量。", "hint": "\n### 样例解释\n\n样例 $3$ 解释：满足条件的 $(l,r)$ 有 $(2,2),(1,2),(1,3),(4,4),(4,5),(4,6),(4,7),(3,5)$。   \n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^6$；\n- $1\\le a_i\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $13$  | 每个数只在序列中出现一次  |\n| $2$  | $20$  | $N\\le 5\\, 000$  |\n| $3$  | $33$  | $N\\le 50\\, 000$ |\n| $4$  | $34$  | 无额外约束 |\n\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2023] 下 Niz", "background": "\n译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D2T2。$\\texttt{1s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "\n给定长度为 $N$ 的序列 $a$，求满足以下条件的 $(l,r)$ 对数：\n\n- $1\\le l\\le r\\le N$；\n- $a_l,a_{l+1},\\cdots,a_{r-1},a_r$ 是 $1\\sim r-l+1$ 的排列。\n", "inputFormat": "\n第一行，一个正整数 $N$，表示序列长度；\n\n第二行，$N$ 个正整数，描述序列 $a$。", "outputFormat": "一行一个整数，即满足条件的 $(l,r)$ 的数量。", "hint": "\n### 样例解释\n\n样例 $3$ 解释：满足条件的 $(l,r)$ 有 $(2,2),(1,2),(1,3),(4,4),(4,5),(4,6),(4,7),(3,5)$。   \n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^6$；\n- $1\\le a_i\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $13$  | 每个数只在序列中出现一次  |\n| $2$  | $20$  | $N\\le 5\\, 000$  |\n| $3$  | $33$  | $N\\le 50\\, 000$ |\n| $4$  | $34$  | 无额外约束 |\n\n\n\n", "locale": "zh-CN"}}}
{"pid": "P10834", "type": "P", "difficulty": 6, "samples": [["6 \n8 6 2 4 2 6\n1 2\n3 4\n5 7\n6 8\n9 10", "36\n4\n0\n12\n4"], ["7 \n4 2 6 6 2 4 2\n1 2\n3 8\n4 9\n5 10\n6 11\n7 12", "4\n12\n24\n0\n16\n0 "], ["8\n4 10 2 10 6 8 4 12\n1 2\n3 4\n5 6\n7 8\n9 10\n11 12\n13 14", "16\n4\n36\n16\n84\n28\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树上启发式合并", "2023", "O2优化", "线段树合并", "COTS（克罗地亚）"], "title": "[COTS 2023] 题 Zadatak", "background": "译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D2T3。$\\texttt{1s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "Jura 有 $N$ 个正方形，标号为 $1\\sim N$，第 $i$ 个正方形边长为 $a_i$，且 $2\\mid a_i$。起初，这些正方形都是黑色的。\n\nJura 决定花费他生命中的 $(N-1)$ 秒来玩这些正方形。在第 $i$ 秒时，Jura 将第 $x_i$ 和第 $y_i$ 个正方形合并成第 $(N+i)$ 个正方形（合并后，第 $x_i$ 和第 $y_i$ 个正方形不再存在）。\n\n合并正方形时，将两个正方形的中心对齐，边缘平行对齐地摆在平面中。新的正方形的大小为合并的两个正方形中较大那个的大小；它的颜色是原来两个正方形颜色的「异或和」（黑+黑=白，白+白=白，黑+白=黑，白+黑=黑）。合并正方形的**代价**为，两个正方形合并前（但是已经按照刚才的要求摆好），正方形的交中，满足在两个正方形中均为黑色的区域的面积。\n\n你需要输出每次合并操作的代价。\n\n下图为正方形合并的示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8uquyi9a.png)", "inputFormat": "第一行，一个正整数 $N$，表示正方形数量；\n\n第二行，$N$ 个正整数，描述序列 $a$。\n\n接下来 $(N-1)$ 行，每行两个正整数 $x_i,y_i$，描述一次操作。", "outputFormat": "输出 $(N-1)$ 行，每行一个整数，表示操作的代价。", "hint": "### 样例解释\n\n样例 $1$ 的最后一个操作如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rvjzj56s.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^5$；\n- $2\\le a_i\\le 10^6$。\n- $2\\mid a_i$。\n- $1\\le x_i,y_i\\le N+i-1$\n- 操作前正方形存在，且 $x_i\\neq y_i$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $14$  | $N\\le 5\\, 000$  |\n| $2$  | $25$  | $x_1=1,y_1=2$；$\\forall 2\\le i\\le N-1$，$x_i=i+1,y_i=N+i-1$  |\n| $3$  | $17$  | $\\exists k\\in \\mathbb{N}$，使得 $2^k=N$；$x_i=2i-1,y_i=2i$ |\n| $4$  | $21$  | $n\\le 30\\, 000$ |\n| $5$  | $23$  | 无额外约束 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2023] 题 Zadatak", "background": "译自 [Izborne Pripreme 2023 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2023/) D2T3。$\\texttt{1s,0.5G}$。\n\n祝 NaCly_Fish 生日快乐！（2024.7.28）", "description": "Jura 有 $N$ 个正方形，标号为 $1\\sim N$，第 $i$ 个正方形边长为 $a_i$，且 $2\\mid a_i$。起初，这些正方形都是黑色的。\n\nJura 决定花费他生命中的 $(N-1)$ 秒来玩这些正方形。在第 $i$ 秒时，Jura 将第 $x_i$ 和第 $y_i$ 个正方形合并成第 $(N+i)$ 个正方形（合并后，第 $x_i$ 和第 $y_i$ 个正方形不再存在）。\n\n合并正方形时，将两个正方形的中心对齐，边缘平行对齐地摆在平面中。新的正方形的大小为合并的两个正方形中较大那个的大小；它的颜色是原来两个正方形颜色的「异或和」（黑+黑=白，白+白=白，黑+白=黑，白+黑=黑）。合并正方形的**代价**为，两个正方形合并前（但是已经按照刚才的要求摆好），正方形的交中，满足在两个正方形中均为黑色的区域的面积。\n\n你需要输出每次合并操作的代价。\n\n下图为正方形合并的示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8uquyi9a.png)", "inputFormat": "第一行，一个正整数 $N$，表示正方形数量；\n\n第二行，$N$ 个正整数，描述序列 $a$。\n\n接下来 $(N-1)$ 行，每行两个正整数 $x_i,y_i$，描述一次操作。", "outputFormat": "输出 $(N-1)$ 行，每行一个整数，表示操作的代价。", "hint": "### 样例解释\n\n样例 $1$ 的最后一个操作如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rvjzj56s.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^5$；\n- $2\\le a_i\\le 10^6$。\n- $2\\mid a_i$。\n- $1\\le x_i,y_i\\le N+i-1$\n- 操作前正方形存在，且 $x_i\\neq y_i$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $14$  | $N\\le 5\\, 000$  |\n| $2$  | $25$  | $x_1=1,y_1=2$；$\\forall 2\\le i\\le N-1$，$x_i=i+1,y_i=N+i-1$  |\n| $3$  | $17$  | $\\exists k\\in \\mathbb{N}$，使得 $2^k=N$；$x_i=2i-1,y_i=2i$ |\n| $4$  | $21$  | $n\\le 30\\, 000$ |\n| $5$  | $23$  | 无额外约束 |", "locale": "zh-CN"}}}
