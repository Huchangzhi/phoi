{"pid": "P6342", "type": "P", "difficulty": 5, "samples": [["2", "4 5\n1 2\n2 1\n3 4\n4 3\n1 4"], ["6", "4 4\n1 2\n2 3\n3 4\n4 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2017", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2017] Vera 与道路建设", "background": "", "description": "Vera 喜欢远足，因此她要建立自己的公路网。公路网包含 $v$ 个地点，这些地点分别编号为 $1,2,...,v$。公路网由 $e$ 条连接 $a_i$ 和 $b_i$ 的双向道路组成。保证图联通，允许有重边。\n\nVera 认为满足先从 $a$ 走到 $b$ 然后再回到 $a$，使得每条道路被通过不超过一次且满足 $a < b$ 的两个地点 $a,b$ 是一对 **完美点对**。她认为如果公路网恰好包含 $k$ 个完美点对，那么她的公路网就是美丽的。\n\n给定 $k$，帮 Vera 找到美丽公路网。", "inputFormat": "输入只有一行，为一个整数 $k$。", "outputFormat": "按照以下格式输出一个美丽公路网：\n\n- 第一行为顶点的数量 $v$ 与边数 $e$；\n\n- 下面的 $e$ 行每行应包含代表从 $a_i$ 至 $b_i$ 有一条边的两个整数 $a_i$ 与 $b_i$（$1 \\le i \\le e$）。\n\n道路的输出顺序无关紧要。如果有多个美丽公路网，你可以输出它们中的任意一个。", "hint": "#### 样例解释\n\n对于样例 $1$，完美点对为 `1,2` 和 `3,4`。\n\n对于样例 $2$，每个点对都是完美点对。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（12 points）：$0 \\le k \\le 10^3$；\n- Subtask 2（24 points）：$0 \\le k \\le 10^5$；\n- Subtask 3（64 points）：$0 \\le k \\le 10^7$。\n\n对于全部的测试点，保证 $0 \\le k \\le 10^7$，$1 \\le v,e \\le 5 \\times 10^3$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Trail Building](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2750)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] Vera 与道路建设", "background": "", "description": "Vera 喜欢远足，因此她要建立自己的公路网。公路网包含 $v$ 个地点，这些地点分别编号为 $1,2,...,v$。公路网由 $e$ 条连接 $a_i$ 和 $b_i$ 的双向道路组成。保证图联通，允许有重边。\n\nVera 认为满足先从 $a$ 走到 $b$ 然后再回到 $a$，使得每条道路被通过不超过一次且满足 $a < b$ 的两个地点 $a,b$ 是一对 **完美点对**。她认为如果公路网恰好包含 $k$ 个完美点对，那么她的公路网就是美丽的。\n\n给定 $k$，帮 Vera 找到美丽公路网。", "inputFormat": "输入只有一行，为一个整数 $k$。", "outputFormat": "按照以下格式输出一个美丽公路网：\n\n- 第一行为顶点的数量 $v$ 与边数 $e$；\n\n- 下面的 $e$ 行每行应包含代表从 $a_i$ 至 $b_i$ 有一条边的两个整数 $a_i$ 与 $b_i$（$1 \\le i \\le e$）。\n\n道路的输出顺序无关紧要。如果有多个美丽公路网，你可以输出它们中的任意一个。", "hint": "#### 样例解释\n\n对于样例 $1$，完美点对为 `1,2` 和 `3,4`。\n\n对于样例 $2$，每个点对都是完美点对。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（12 points）：$0 \\le k \\le 10^3$；\n- Subtask 2（24 points）：$0 \\le k \\le 10^5$；\n- Subtask 3（64 points）：$0 \\le k \\le 10^7$。\n\n对于全部的测试点，保证 $0 \\le k \\le 10^7$，$1 \\le v,e \\le 5 \\times 10^3$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Trail Building](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2750)。", "locale": "zh-CN"}}}
{"pid": "P6343", "type": "P", "difficulty": 6, "samples": [["10 6", "5 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2017", "CCO（加拿大）"], "title": "[CCO 2017] 矩形帝国的霸业", "background": "", "description": "很久很久以前，矩形帝国统治了笛卡尔大陆。帝国繁荣昌盛，在无尽的战争与征服之中，帝国的土地一天天扩大。\n\n矩形帝国实行 **矩形区域制**。这些地区都满足三个特殊标准。\n\n1. 帝国的领土被划分为各个地区，且每一片土地属于且只属于一个地区；\n\n2. 在地图上观察时，每个区域的形状必须是矩形且长边的长度是短边长度的两倍；\n\n3. 区域各边的长度必须是整数，以 $Ξ$ 为单位（$Ξ$ 是矩形帝国的计量单位）。\n\n帝国最初建立的时候，它由一个单一的区域组成。从那时起，为了扩充疆域，帝国会不断征服邻近区域。每当帝国控制一个新的区域时，他们总是建立一个独立的新区域，新区占用刚获得的全部土地。这意味的帝国只在乎他们想要征服的土地的几何属性。你可以假设没有两次征服出现在同一个地方。\n\n帝国只能通过增加新区来扩充疆域。此外，每个地区一旦添加，就不会被修改或和另外一个合并。\n\n矩形帝国的最后一个标准，是确保帝国的整体形状是一个矩形。不过，大矩形的长宽比可以不满足 $2:1$。\n\n帝国的长度是 $n$，宽度是 $m$（以 $Ξ$ 为单位）。你的任务是估计在 $n \\times m$ 的大小下帝国的区域数。在所有可能的情况下，帝国的最小区域数和最大区域数分别是什么？", "inputFormat": "输入只有一行两个整数，分别为 $n,m$。", "outputFormat": "输出只有一行两个整数，第一个是最小的区域数，第二个是最大的区域数。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gskw7c28.png)\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$1 \\le n,m \\le 10^3$；\n- Subtask 2（32 points）：$1 \\le n,m \\le 10^6$；\n- Subtask 3（48 points）：$1 \\le n,m \\le 10^8$。\n\n对于全部的测试点，保证 $1 \\le n,m \\le 10^8$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Cartesian Conquest](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2751)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 矩形帝国的霸业", "background": "", "description": "很久很久以前，矩形帝国统治了笛卡尔大陆。帝国繁荣昌盛，在无尽的战争与征服之中，帝国的土地一天天扩大。\n\n矩形帝国实行 **矩形区域制**。这些地区都满足三个特殊标准。\n\n1. 帝国的领土被划分为各个地区，且每一片土地属于且只属于一个地区；\n\n2. 在地图上观察时，每个区域的形状必须是矩形且长边的长度是短边长度的两倍；\n\n3. 区域各边的长度必须是整数，以 $Ξ$ 为单位（$Ξ$ 是矩形帝国的计量单位）。\n\n帝国最初建立的时候，它由一个单一的区域组成。从那时起，为了扩充疆域，帝国会不断征服邻近区域。每当帝国控制一个新的区域时，他们总是建立一个独立的新区域，新区占用刚获得的全部土地。这意味的帝国只在乎他们想要征服的土地的几何属性。你可以假设没有两次征服出现在同一个地方。\n\n帝国只能通过增加新区来扩充疆域。此外，每个地区一旦添加，就不会被修改或和另外一个合并。\n\n矩形帝国的最后一个标准，是确保帝国的整体形状是一个矩形。不过，大矩形的长宽比可以不满足 $2:1$。\n\n帝国的长度是 $n$，宽度是 $m$（以 $Ξ$ 为单位）。你的任务是估计在 $n \\times m$ 的大小下帝国的区域数。在所有可能的情况下，帝国的最小区域数和最大区域数分别是什么？", "inputFormat": "输入只有一行两个整数，分别为 $n,m$。", "outputFormat": "输出只有一行两个整数，第一个是最小的区域数，第二个是最大的区域数。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gskw7c28.png)\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$1 \\le n,m \\le 10^3$；\n- Subtask 2（32 points）：$1 \\le n,m \\le 10^6$；\n- Subtask 3（48 points）：$1 \\le n,m \\le 10^8$。\n\n对于全部的测试点，保证 $1 \\le n,m \\le 10^8$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Cartesian Conquest](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2751)。", "locale": "zh-CN"}}}
{"pid": "P6344", "type": "P", "difficulty": 5, "samples": [["5 6\n1 2 1\n3 4 2\n4 5 3\n6 3 4\n7 1 5\n2 6\n7 8\n5 9\n11 2\n10 7\n4 5", "1\n8\n0\n6\n4\n3"]], "limits": {"time": [12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "CCO（加拿大）"], "title": "[CCO 2017] Vera 与现代艺术", "background": "", "description": "在受到大画家毕加索的启发后，Vera 决定创造她的杰作。她有一张可以被简化成无限大的二维平面的画布。Vera 喜欢 $2$ 的整数次幂 $(1,2,4,8,16,...)$，并且将以 $2$ 的整数幂为步长给一些点染色。\n\nVera 将会染 $n$ 次，第 $i$ 次染色可以用三个整数 $x_i,y_i,v_i$ 描述。令 $a_i$ 为最大的不大于 $x_i$ 的 $2$ 的整数次幂，$b_i$ 为最大的不大于 $y_i$ 的 $2$ 的整数次幂，Vera 会用第 $v_i$ 种颜色在所有坐标满足 $(x_i+a_ip,y_i+b_iq)$ 的点上染色（ $p,q$ 为非负整数）。一个点可以被不同的颜色分别染多次，也可以被同种颜色重复染多次，一个点的颜色为所有染过这个点的颜色之和。\n\n接下来 Vera 将提出 $Q$ 个问题。对于第 $j$ 个问题，她希望知道坐标为 $(r_j,c_j)$ 的点是什么颜色。如果一个点没有被染过色，这个点的颜色就为 $0$。\n\n因为你被迫做 Vera 的助手，你不得不回答 Vera 的问题。", "inputFormat": "第一行包括两个整数 $n,Q$，用一个空格分隔。\n\n接下来 $n$ 行，每行三个空格隔开的整数 $x_i,y_i,v_i$，表示用第 $v_i$ 种颜色进行题目中的染色操作，参数为 $x_i$ 和 $y_i$。\n\n再接下来 $Q$ 行，每行两个空格隔开的整数 $r_j,c_j$，表示询问点 $(r_j,c_j)$ 的颜色。", "outputFormat": "输出共有 $Q$ 行，每行一个整数，第 $j$ 行的整数表示点 $(r_j,c_j)$ 的颜色。", "hint": "#### 样例解释\n\n令颜色 $1,2,3,4,5$ 分别为红色、蓝色、绿色、橙色和紫色。\n\n令 $p,q$ 为非负整数，则：\n\n- 坐标为 $(1+p,2+2q)$ 的点被染成了红色；\n- 坐标为 $(3+2p,4+4q)$ 的点被染成了蓝色；\n- 坐标为 $(4+4p,5+4q)$ 的点被染成了绿色；\n- 坐标为 $(6+4p,3+2q)$ 的点被染成了橙色；\n- 坐标为 $(7+4p,1+q)$ 的点被染成了紫色；\n\n从 $(0,0)$ 到 $(11,11)$ 的坐标纸如图所示：\n\n我们可以发现：\n\n- $(2,6)$ 被染成了红色，所以它的颜色为 $1$；\n- $(7,8)$ 被染成了红色、蓝色和紫色，所以它的颜色为 $1+2+5=8$；\n- $(5,9)$ 没有被染色，所以它的颜色为 $0$；\n- $(11,2)$ 被染成了红色和紫色，所以它的颜色为 $1+5=6$；\n- $(10,7)$ 被染成了橙色，所以它的颜色为 $4$；\n- $(4,5)$ 被染成了绿色，所以它的颜色为 $3$。\n\n![](https://i.loli.net/2018/08/08/5b6af80174186.png)\n\n#### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^3$ ；\n- 对于另外 $20\\%$ 的数据，$y_i = 1(1 \\le i \\le n)$；\n- 对于另外 $20\\%$ 的数据，$1 \\le n,Q \\le 10^5$ 且 $1 \\le r_j,c_j \\le 10^9(1 \\le j \\le Q)$。\n- 对于 $100\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^5$，$1 \\le i \\le n$，$1 \\le v_i \\le 10^4$，$1 \\le x_i,y_i,r_j,c_j  \\le 10^{18}$，$1 \\le j \\le Q$。\n\n由于评测机原因，该题只保留最后 $10$ 个数据。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Modern Art](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2752)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] Vera 与现代艺术", "background": "", "description": "在受到大画家毕加索的启发后，Vera 决定创造她的杰作。她有一张可以被简化成无限大的二维平面的画布。Vera 喜欢 $2$ 的整数次幂 $(1,2,4,8,16,...)$，并且将以 $2$ 的整数幂为步长给一些点染色。\n\nVera 将会染 $n$ 次，第 $i$ 次染色可以用三个整数 $x_i,y_i,v_i$ 描述。令 $a_i$ 为最大的不大于 $x_i$ 的 $2$ 的整数次幂，$b_i$ 为最大的不大于 $y_i$ 的 $2$ 的整数次幂，Vera 会用第 $v_i$ 种颜色在所有坐标满足 $(x_i+a_ip,y_i+b_iq)$ 的点上染色（ $p,q$ 为非负整数）。一个点可以被不同的颜色分别染多次，也可以被同种颜色重复染多次，一个点的颜色为所有染过这个点的颜色之和。\n\n接下来 Vera 将提出 $Q$ 个问题。对于第 $j$ 个问题，她希望知道坐标为 $(r_j,c_j)$ 的点是什么颜色。如果一个点没有被染过色，这个点的颜色就为 $0$。\n\n因为你被迫做 Vera 的助手，你不得不回答 Vera 的问题。", "inputFormat": "第一行包括两个整数 $n,Q$，用一个空格分隔。\n\n接下来 $n$ 行，每行三个空格隔开的整数 $x_i,y_i,v_i$，表示用第 $v_i$ 种颜色进行题目中的染色操作，参数为 $x_i$ 和 $y_i$。\n\n再接下来 $Q$ 行，每行两个空格隔开的整数 $r_j,c_j$，表示询问点 $(r_j,c_j)$ 的颜色。", "outputFormat": "输出共有 $Q$ 行，每行一个整数，第 $j$ 行的整数表示点 $(r_j,c_j)$ 的颜色。", "hint": "#### 样例解释\n\n令颜色 $1,2,3,4,5$ 分别为红色、蓝色、绿色、橙色和紫色。\n\n令 $p,q$ 为非负整数，则：\n\n- 坐标为 $(1+p,2+2q)$ 的点被染成了红色；\n- 坐标为 $(3+2p,4+4q)$ 的点被染成了蓝色；\n- 坐标为 $(4+4p,5+4q)$ 的点被染成了绿色；\n- 坐标为 $(6+4p,3+2q)$ 的点被染成了橙色；\n- 坐标为 $(7+4p,1+q)$ 的点被染成了紫色；\n\n从 $(0,0)$ 到 $(11,11)$ 的坐标纸如图所示：\n\n我们可以发现：\n\n- $(2,6)$ 被染成了红色，所以它的颜色为 $1$；\n- $(7,8)$ 被染成了红色、蓝色和紫色，所以它的颜色为 $1+2+5=8$；\n- $(5,9)$ 没有被染色，所以它的颜色为 $0$；\n- $(11,2)$ 被染成了红色和紫色，所以它的颜色为 $1+5=6$；\n- $(10,7)$ 被染成了橙色，所以它的颜色为 $4$；\n- $(4,5)$ 被染成了绿色，所以它的颜色为 $3$。\n\n![](https://i.loli.net/2018/08/08/5b6af80174186.png)\n\n#### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^3$ ；\n- 对于另外 $20\\%$ 的数据，$y_i = 1(1 \\le i \\le n)$；\n- 对于另外 $20\\%$ 的数据，$1 \\le n,Q \\le 10^5$ 且 $1 \\le r_j,c_j \\le 10^9(1 \\le j \\le Q)$。\n- 对于 $100\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^5$，$1 \\le i \\le n$，$1 \\le v_i \\le 10^4$，$1 \\le x_i,y_i,r_j,c_j  \\le 10^{18}$，$1 \\le j \\le Q$。\n\n由于评测机原因，该题只保留最后 $10$ 个数据。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Modern Art](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2752)。", "locale": "zh-CN"}}}
{"pid": "P6345", "type": "P", "difficulty": 6, "samples": [["5\n1 5 2 1 4", "0 1 2 3 4 5 6 8 "], ["5\n5 1 5 1 5", "0 4 8"], ["5\n5 1 4 1 5", "0 1 3 4 5 6 7 8 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2017", "CCO（加拿大）", "bitset"], "title": "[CCO 2017] 接雨滴", "background": "", "description": "晚上，夜黑风高，大雨疯狂地从天而降。\n\nLucy 想要接住一些雨滴，但她只有有限的工具。她有一套不同高度的柱子来接住雨滴。每根柱子的高度为整数，宽度为 $1$。她排列好柱子之后，就会用其他器具夹紧柱子，来让雨滴顺利地储存在柱子的间隙里。你可以认为雨滴的数量是无限的。\n\n举个例子，如果 Lucy 有高度分别为 $(1,5,2,1,4)$ 的五根柱子，她可以这样排列柱子。\n\n```\n *   \n *  *\n *  *\n ** *\n*****\n```\n\n这样会接住 $5r$ 雨滴（$r$ 代表 $1$ 个单位的雨滴）。\n\n**为了方便表述，我们定义 $r$ 为雨滴的单位。**\n\n```\n *   \n *RR*\n *RR*\n **R*\n*****\n```\n\n当然了，她也可以这样摆放柱子，这样可以接住 $6r$ 雨滴。\n\n```\n *   \n *RR*\n *RR*\n**RR*\n*****\n```\n\n再举一个例子，如果柱子的高度分别为 $(5,1,5,1,5)$，Lucy 可以接住 $8r$ 雨滴。\n\n```\n*R*R*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\n最后一个例子，如果柱子的高度分别为 $(5,1,4,1,5)$，她可以接住 $9r$ 雨滴。\n\n```\n*RRR*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\nLucy 有 $n$ 个高度为 $h_1,h_2,...,h_n$ 的柱子。她想知道，在所有可能的摆放方案中，所有可能的雨滴量（以 $r$ 为单位）是多少。（具体可看样例解释）", "inputFormat": "第一行有一个整数 $n$，表示柱子的个数；\n\n第二行包含 $n$ 个整数 $h_i$，表示柱子的高度 。", "outputFormat": "输出只有一行，把所有可能接住的雨滴数量（以 $r$ 为单位）按照升序输出。", "hint": "#### 样例解释\n\n参见上文的三个例子。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\le 10$；\n- Subtask 2（40 points）：$2 \\le n \\le 50$；\n- Subtask 3（40 points）：$2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n对于全部的测试点，保证 $2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Rainfall Capture](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2753)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 接雨滴", "background": "", "description": "晚上，夜黑风高，大雨疯狂地从天而降。\n\nLucy 想要接住一些雨滴，但她只有有限的工具。她有一套不同高度的柱子来接住雨滴。每根柱子的高度为整数，宽度为 $1$。她排列好柱子之后，就会用其他器具夹紧柱子，来让雨滴顺利地储存在柱子的间隙里。你可以认为雨滴的数量是无限的。\n\n举个例子，如果 Lucy 有高度分别为 $(1,5,2,1,4)$ 的五根柱子，她可以这样排列柱子。\n\n```\n *   \n *  *\n *  *\n ** *\n*****\n```\n\n这样会接住 $5r$ 雨滴（$r$ 代表 $1$ 个单位的雨滴）。\n\n**为了方便表述，我们定义 $r$ 为雨滴的单位。**\n\n```\n *   \n *RR*\n *RR*\n **R*\n*****\n```\n\n当然了，她也可以这样摆放柱子，这样可以接住 $6r$ 雨滴。\n\n```\n *   \n *RR*\n *RR*\n**RR*\n*****\n```\n\n再举一个例子，如果柱子的高度分别为 $(5,1,5,1,5)$，Lucy 可以接住 $8r$ 雨滴。\n\n```\n*R*R*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\n最后一个例子，如果柱子的高度分别为 $(5,1,4,1,5)$，她可以接住 $9r$ 雨滴。\n\n```\n*RRR*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\nLucy 有 $n$ 个高度为 $h_1,h_2,...,h_n$ 的柱子。她想知道，在所有可能的摆放方案中，所有可能的雨滴量（以 $r$ 为单位）是多少。（具体可看样例解释）", "inputFormat": "第一行有一个整数 $n$，表示柱子的个数；\n\n第二行包含 $n$ 个整数 $h_i$，表示柱子的高度 。", "outputFormat": "输出只有一行，把所有可能接住的雨滴数量（以 $r$ 为单位）按照升序输出。", "hint": "#### 样例解释\n\n参见上文的三个例子。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\le 10$；\n- Subtask 2（40 points）：$2 \\le n \\le 50$；\n- Subtask 3（40 points）：$2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n对于全部的测试点，保证 $2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Rainfall Capture](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2753)。", "locale": "zh-CN"}}}
{"pid": "P6346", "type": "P", "difficulty": 6, "samples": [["4\n3 3\n1 2\n0 5\n3 4", "3"], ["5\n0 9\n1 8\n2 7\n3 6\n4 5", "0"], ["3\n0 6\n2 7\n3 8", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "CCO（加拿大）"], "title": "[CCO 2017] 专业网络", "background": "", "description": "Kevin 正在一个社区中开发他的专业网络。不幸的是，他是个外地人，还不认识社区中的任何人。但是他可以与 $n$ 个人建立朋友关系 。\n\n然而，社区里没几个人想与一个外地人交朋友。Kevin 想交朋友的 $n$ 个人都有类似但不同的与外地人交友的准则。在 Kevin 已经直接认识了社区中的 $a_i$ 个人后，第 $i$ 个人就愿意与 Kevin 交朋友了，否则 Kevin 就要付出 $b_i$ 的代价与他成为朋友。\n\n你的任务是，使 Kevin 与这 $n$ 个人都交上朋友，并且最小化他付出的代价。", "inputFormat": "第一行包含一个整数 $n$。\n\n接下来的 $n$ 行，每行包含两个整数 $a_i,b_i$。", "outputFormat": "输出一行一个整数，表示 Kevin 付出的最小代价。", "hint": "#### 样例解释\n\n对于样例 $1$：Kevin 可以立即与 $3$ 号人成为朋友，因为已经建立了这个朋友关系，他也能与 $2$ 号人成为朋友。他需要付出 $3$ 的代价与 $1$ 号人成为朋友，这样他一共有 $3$ 个朋友，使得他能与 $4$ 号人成为朋友。\n\n对于样例 $2$：Kevin 不用付出任何代价就能和所有人成为朋友。\n\n对于样例 $3$：Kevin 应该立即与 $1$ 号人成为朋友，然后付出 $8$ 的代价与 $3$ 号人成为朋友， 最后与 $2$ 号人建立朋友关系。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $4$ 个子任务。**\n\n- Subtask 1（15 points）：所有的 $b_i$ 都等于 $1$；\n- Subtask 2（30 points）：$1 \\le n \\le 10$；\n- Subtask 3（30 points）：$1 \\le n \\le 10^3$。\n- Subtask 4（25 points）：$1 \\le n \\le 2 \\times 10^5$。\n\n对于全部的测试点，保证 $1 \\le n \\le 2 \\times 10^5$，$1 \\le i \\le n$，$0 \\le a_i \\le n$，$0 \\le b_i \\le 10^4$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Professional Network](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2754)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 专业网络", "background": "", "description": "Kevin 正在一个社区中开发他的专业网络。不幸的是，他是个外地人，还不认识社区中的任何人。但是他可以与 $n$ 个人建立朋友关系 。\n\n然而，社区里没几个人想与一个外地人交朋友。Kevin 想交朋友的 $n$ 个人都有类似但不同的与外地人交友的准则。在 Kevin 已经直接认识了社区中的 $a_i$ 个人后，第 $i$ 个人就愿意与 Kevin 交朋友了，否则 Kevin 就要付出 $b_i$ 的代价与他成为朋友。\n\n你的任务是，使 Kevin 与这 $n$ 个人都交上朋友，并且最小化他付出的代价。", "inputFormat": "第一行包含一个整数 $n$。\n\n接下来的 $n$ 行，每行包含两个整数 $a_i,b_i$。", "outputFormat": "输出一行一个整数，表示 Kevin 付出的最小代价。", "hint": "#### 样例解释\n\n对于样例 $1$：Kevin 可以立即与 $3$ 号人成为朋友，因为已经建立了这个朋友关系，他也能与 $2$ 号人成为朋友。他需要付出 $3$ 的代价与 $1$ 号人成为朋友，这样他一共有 $3$ 个朋友，使得他能与 $4$ 号人成为朋友。\n\n对于样例 $2$：Kevin 不用付出任何代价就能和所有人成为朋友。\n\n对于样例 $3$：Kevin 应该立即与 $1$ 号人成为朋友，然后付出 $8$ 的代价与 $3$ 号人成为朋友， 最后与 $2$ 号人建立朋友关系。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $4$ 个子任务。**\n\n- Subtask 1（15 points）：所有的 $b_i$ 都等于 $1$；\n- Subtask 2（30 points）：$1 \\le n \\le 10$；\n- Subtask 3（30 points）：$1 \\le n \\le 10^3$。\n- Subtask 4（25 points）：$1 \\le n \\le 2 \\times 10^5$。\n\n对于全部的测试点，保证 $1 \\le n \\le 2 \\times 10^5$，$1 \\le i \\le n$，$0 \\le a_i \\le n$，$0 \\le b_i \\le 10^4$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Professional Network](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2754)。", "locale": "zh-CN"}}}
{"pid": "P6347", "type": "P", "difficulty": 6, "samples": [["2 4\n4 2 3 0\n1 5 6 7", "2\n2 1 1\n1 1 1"], ["4 2\n2 3\n5 0\n4 1\n6 7", "7\n1 1 1\n2 1 1\n1 2 1\n1 3 1\n2 1 2\n1 1 1\n2 1 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2017] 移动数组", "background": "", "description": "给你一个二维数组。我们只能通过 **移动(Shift)** 操作来改动这个数组。一次移动操作可以将一行元素向左（或向右）移几个单位；或将一列元素向上（或向下）移几个单位。如果被移动的元素越界，则将越界元素移动到该行或列的另一侧。\n\n举个例子：\n\n```\n0 1 2 3\n4 5 6 7\n8 9 10 11\n12 13 14 15\n```\n\n将第二列向下移动 $1$ 个单位（或向上移动 $3$ 个单位），二维数组将会变成这样：\n\n```\n0 13 2 3\n4 1 6 7\n8 5 10 11\n12 9 14 15\n```\n\n一次移动 $k$ 个单位的 **左移** 操作等价于移动 $n-k$ 个单位的 **右移** 操作。在列上的变换同样。\n\n因此，我们规定只有 **下移** 和 **右移** 操作。\n\n在一个 $n \\times m$ 的二维数组中，所有的数各不相同，且 $Num_{ij} \\in [0,n-1]$（规定第 $i$ 行 $j$ 列的数编号为 $Num_{ij}$）。\n\n在第一个例子中，我们给你的二维数组非常 **和谐**，我们叫它 **和谐数组 (Solved)**。一个二维数组当且仅当第一行的元素按照升序编号分别为从 $0$ 到 $m-1$，第二行元素为从 $m$ 到 $2m-1$，以此类推时，我们称它为 **和谐数组**。\n\n你的任务是找到一系列的操作，使得二维数组变成 **和谐数组**。", "inputFormat": "第一行为两个整数 $n,m$；\n\n下面的 $n$ 行将会包含 $m$ 个代表二维数组的正整数。", "outputFormat": "第一行输出移动的步数 $k$（$1\\leq k\\leq 10 ^ 5$）。\n\n下面的 $k$ 行输出：`1 i r` （$1 \\le i \\le n$，$0 \\le r < m$），代表使第 $i$ 行 **右移** $r$ 格，或 `2 j d` （$1 \\le j \\le m$，$0 \\le d <n$），代表使第 $j$ 列 **下移** $d$ 格。\n\n如果数组本身就是和谐数组，输出 $0$。", "hint": "#### 样例解释\n\n对于样例 $1$：经过如下变换\n\n```\n4 2 3 0  -> 1 2 3 0 -> 0 1 2 3\n1 5 6 7     4 5 6 7    4 5 6 7\n```\n\n对于样例 $2$：经过如下变换\n\n```\n2 3      3 2      6 2      6 2      6 2      1 2      2 1      0 1\n5 0   -> 5 0   -> 3 0   -> 0 3   -> 0 3   -> 4 3   -> 4 3   -> 2 3\n4 1      4 1      5 1      5 1      1 5      6 5      6 5      4 5\n6 7      6 7      4 7      4 7      4 7      0 7      0 7      6 7\n```\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\times m \\le 8$；\n- Subtask 2（40 points）：$1 \\le k \\le 2$；\n- Subtask 3（40 points）：无特殊限制。\n\n对于全部的测试点，保证 $2 \\le n,m \\le 100$，$1 \\le k \\le 10^5$，保证 $n,m$ 为偶数。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Shifty Grid](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2755)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 移动数组", "background": "", "description": "给你一个二维数组。我们只能通过 **移动(Shift)** 操作来改动这个数组。一次移动操作可以将一行元素向左（或向右）移几个单位；或将一列元素向上（或向下）移几个单位。如果被移动的元素越界，则将越界元素移动到该行或列的另一侧。\n\n举个例子：\n\n```\n0 1 2 3\n4 5 6 7\n8 9 10 11\n12 13 14 15\n```\n\n将第二列向下移动 $1$ 个单位（或向上移动 $3$ 个单位），二维数组将会变成这样：\n\n```\n0 13 2 3\n4 1 6 7\n8 5 10 11\n12 9 14 15\n```\n\n一次移动 $k$ 个单位的 **左移** 操作等价于移动 $n-k$ 个单位的 **右移** 操作。在列上的变换同样。\n\n因此，我们规定只有 **下移** 和 **右移** 操作。\n\n在一个 $n \\times m$ 的二维数组中，所有的数各不相同，且 $Num_{ij} \\in [0,n-1]$（规定第 $i$ 行 $j$ 列的数编号为 $Num_{ij}$）。\n\n在第一个例子中，我们给你的二维数组非常 **和谐**，我们叫它 **和谐数组 (Solved)**。一个二维数组当且仅当第一行的元素按照升序编号分别为从 $0$ 到 $m-1$，第二行元素为从 $m$ 到 $2m-1$，以此类推时，我们称它为 **和谐数组**。\n\n你的任务是找到一系列的操作，使得二维数组变成 **和谐数组**。", "inputFormat": "第一行为两个整数 $n,m$；\n\n下面的 $n$ 行将会包含 $m$ 个代表二维数组的正整数。", "outputFormat": "第一行输出移动的步数 $k$（$1\\leq k\\leq 10 ^ 5$）。\n\n下面的 $k$ 行输出：`1 i r` （$1 \\le i \\le n$，$0 \\le r < m$），代表使第 $i$ 行 **右移** $r$ 格，或 `2 j d` （$1 \\le j \\le m$，$0 \\le d <n$），代表使第 $j$ 列 **下移** $d$ 格。\n\n如果数组本身就是和谐数组，输出 $0$。", "hint": "#### 样例解释\n\n对于样例 $1$：经过如下变换\n\n```\n4 2 3 0  -> 1 2 3 0 -> 0 1 2 3\n1 5 6 7     4 5 6 7    4 5 6 7\n```\n\n对于样例 $2$：经过如下变换\n\n```\n2 3      3 2      6 2      6 2      6 2      1 2      2 1      0 1\n5 0   -> 5 0   -> 3 0   -> 0 3   -> 0 3   -> 4 3   -> 4 3   -> 2 3\n4 1      4 1      5 1      5 1      1 5      6 5      6 5      4 5\n6 7      6 7      4 7      4 7      4 7      0 7      0 7      6 7\n```\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\times m \\le 8$；\n- Subtask 2（40 points）：$1 \\le k \\le 2$；\n- Subtask 3（40 points）：无特殊限制。\n\n对于全部的测试点，保证 $2 \\le n,m \\le 100$，$1 \\le k \\le 10^5$，保证 $n,m$ 为偶数。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Shifty Grid](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2755)。", "locale": "zh-CN"}}}
{"pid": "P6348", "type": "P", "difficulty": 6, "samples": [["5 3 4\n1 2 4 5\n5 5 4 4\n1 1 3 3", "1\n1\n2\n0\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2011", "线段树", "O2优化", "最短路", "PA（波兰）"], "title": "[PA 2011] Journeys", "background": "", "description": "一个星球上有 $n$ 个国家和许多双向道路，国家用 $1\\sim n$ 编号。\n\n但是道路实在太多了，不能用通常的方法表示。于是我们以如下方式表示道路：$(a,b),(c,d)$ 表示，对于任意两个国家 $x,y$，如果 $a\\le x\\le b,c\\le y\\le d$，那么在 $x,y$ 之间有一条道路。\n\n首都位于 $P$ 号国家。你想知道 $P$ 号国家到任意一个国家最少需要经过几条道路。保证 $P$ 号国家能到任意一个国家。", "inputFormat": "第一行三个整数 $n,m,P$。\n\n之后 $m$ 行，每行 $4$ 个整数 $a,b,c,d$。", "outputFormat": "$n$ 行，第 $i$ 行表示 $P$ 号国家到第 $i$ 个国家最少需要经过几条路。", "hint": "对于所有测试点，保证 $1\\le n\\le 5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le a\\le b\\le n$，$1\\le c\\le d\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Journeys", "background": "", "description": "一个星球上有 $n$ 个国家和许多双向道路，国家用 $1\\sim n$ 编号。\n\n但是道路实在太多了，不能用通常的方法表示。于是我们以如下方式表示道路：$(a,b),(c,d)$ 表示，对于任意两个国家 $x,y$，如果 $a\\le x\\le b,c\\le y\\le d$，那么在 $x,y$ 之间有一条道路。\n\n首都位于 $P$ 号国家。你想知道 $P$ 号国家到任意一个国家最少需要经过几条道路。保证 $P$ 号国家能到任意一个国家。", "inputFormat": "第一行三个整数 $n,m,P$。\n\n之后 $m$ 行，每行 $4$ 个整数 $a,b,c,d$。", "outputFormat": "$n$ 行，第 $i$ 行表示 $P$ 号国家到第 $i$ 个国家最少需要经过几条路。", "hint": "对于所有测试点，保证 $1\\le n\\le 5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le a\\le b\\le n$，$1\\le c\\le d\\le n$。", "locale": "zh-CN"}}}
{"pid": "P6349", "type": "P", "difficulty": 6, "samples": [["3 3\n2 5\n1 3\n6 6\n3 5\n1 10\n7 9", "2\n3\n0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2011", "莫队", "O2优化", "K-D Tree", "PA（波兰）"], "title": "[PA 2011] Kangaroos", "background": "", "description": "给出长为 $n$ 的序列 $a$，第 $i$ 个元素是一个区间 $[l_i,r_i]$。\n\n$m$ 次询问，给出 $A,B$，求出 $a$ 中最长的区间（即这个序列中的一段），使得这个区间内每个区间都与 $[A,B]$ 有交集。输出这个最长区间的长度。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $l_i,r_i$。\n\n接下来 $m$ 行，每行两个整数 $A,B$，为一次询问。", "outputFormat": "输出 $m$ 行，每行一个整数，为询问的答案。", "hint": "$1\\le n\\le 5\\times 10^4$，$1\\le m\\le 2\\times 10^5$，$1\\le l_i\\le r_i\\le 10^9$，$1\\le A\\le B\\le 10^9$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Kangaroos", "background": "", "description": "给出长为 $n$ 的序列 $a$，第 $i$ 个元素是一个区间 $[l_i,r_i]$。\n\n$m$ 次询问，给出 $A,B$，求出 $a$ 中最长的区间（即这个序列中的一段），使得这个区间内每个区间都与 $[A,B]$ 有交集。输出这个最长区间的长度。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $l_i,r_i$。\n\n接下来 $m$ 行，每行两个整数 $A,B$，为一次询问。", "outputFormat": "输出 $m$ 行，每行一个整数，为询问的答案。", "hint": "$1\\le n\\le 5\\times 10^4$，$1\\le m\\le 2\\times 10^5$，$1\\le l_i\\le r_i\\le 10^9$，$1\\le A\\le B\\le 10^9$", "locale": "zh-CN"}}}
{"pid": "P6350", "type": "P", "difficulty": 7, "samples": [["4 6\n1010\n010110\n1\n5 2 1 1 8", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "枚举", "快速傅里叶变换 FFT", "PA（波兰）"], "title": "[PA 2011] Laser Pool", "background": "", "description": "在一个 $n\\times m$ 的网格（左下角为 $(1,1)$，右上角为 $(m,n)$）里有一个小球（可以视为一个点），其中横向和纵向都有一些光线，$q$ 次询问，每次给出小球的初始位置，方向，速度和运动时间（具体方式见输入格式），求出小球触碰光线的次数，如果碰到交点只算一次。\n\n当小球触碰到边界时，会发生反弹，也就是说，假设当前每秒 $x$ 坐标增加 $vx$，$y$ 增加 $vy$，如果碰到上下边界，则 $vy$ 变为 $-vy$，如果碰到左右边界，将 $vx$ 变为 $-vx$，如果仍不理解可以见样例解释的图片。", "inputFormat": "第一行两个整数 $n,m$，表示网格的行数和列数。\n\n接下来一行一个长为 $n$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一行有光线，否则表示没有。\n\n接下来一行一个长为 $m$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一列有光线，否则表示没有。\n\n接下来一行一个数 $q$，表示询问次数。\n\n下面 $q$ 行，每五个整数 $x,y,vx,vy,t$ 表示小球初始时在 $(x,y)$，每秒 $x$ 增加 $vx$，$y$ 坐标增加 $vy$，总共运动 $t$ 秒。保证 $vx,vy$ 均为 $1$ 或 $-1$。", "outputFormat": "对于每一次询问，输出一行一个数，表示小球触碰光线的次数。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/qclq5mux.png)\n\n$1\\leq n,m\\leq 10^5$，$1\\leq q\\leq 10^4$，$1\\leq t \\leq 10^9$，保证球的初始位置在网格内且不在边界上，$vx,vy$ 均为 $1$ 或 $-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Laser Pool", "background": "", "description": "在一个 $n\\times m$ 的网格（左下角为 $(1,1)$，右上角为 $(m,n)$）里有一个小球（可以视为一个点），其中横向和纵向都有一些光线，$q$ 次询问，每次给出小球的初始位置，方向，速度和运动时间（具体方式见输入格式），求出小球触碰光线的次数，如果碰到交点只算一次。\n\n当小球触碰到边界时，会发生反弹，也就是说，假设当前每秒 $x$ 坐标增加 $vx$，$y$ 增加 $vy$，如果碰到上下边界，则 $vy$ 变为 $-vy$，如果碰到左右边界，将 $vx$ 变为 $-vx$，如果仍不理解可以见样例解释的图片。", "inputFormat": "第一行两个整数 $n,m$，表示网格的行数和列数。\n\n接下来一行一个长为 $n$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一行有光线，否则表示没有。\n\n接下来一行一个长为 $m$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一列有光线，否则表示没有。\n\n接下来一行一个数 $q$，表示询问次数。\n\n下面 $q$ 行，每五个整数 $x,y,vx,vy,t$ 表示小球初始时在 $(x,y)$，每秒 $x$ 增加 $vx$，$y$ 坐标增加 $vy$，总共运动 $t$ 秒。保证 $vx,vy$ 均为 $1$ 或 $-1$。", "outputFormat": "对于每一次询问，输出一行一个数，表示小球触碰光线的次数。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/qclq5mux.png)\n\n$1\\leq n,m\\leq 10^5$，$1\\leq q\\leq 10^4$，$1\\leq t \\leq 10^9$，保证球的初始位置在网格内且不在边界上，$vx,vy$ 均为 $1$ 或 $-1$。", "locale": "zh-CN"}}}
{"pid": "P6351", "type": "P", "difficulty": 6, "samples": [["7 8 7\n1 2\n1 3\n1 4\n2 3\n3 4\n3 7\n7 4\n5 6\nZ 1 4\nP 1 3\nP 2 4\nZ 1 3\nP 1 3\nZ 6 5\nP 5 6\n", "TAK\nTAK\nNIE\nNIE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "并查集", "生成树", "最近公共祖先 LCA", "PA（波兰）"], "title": "[PA 2011] Hard Choice", "background": "", "description": "有一个 $n$ 个点，$m$ 条边的无向图。\n\n有 $q$ 次询问，每次询问包含一个字符 $opt$ 和两个整数 $x,y$。\n\n若 $opt$ 为 $Z$，表示一次删除操作，删去边 $x,y$，保证 $x,y$ 这条边之前没有被删除，但不保证图上存在边（也就是说，可能会删去所有的边）。\n\n若 $opt$ 为 $P$，表示一次询问，询问 $x,y$ 之间是否有两条完全不同的路径，这里的完全不同指没有经过相同的边，但可以经过相同的点。", "inputFormat": "第一行三个整数 $n,m,q$，意义同题面。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示 $x,y$ 之间存在一条无向边。\n\n接下来 $q$ 行，每行包含一个字符 $opt$ 和两个整数 $x,y$，意义同题面。\n\n", "outputFormat": "对于每一次 $opt$ 为 $P$ 的询问，如果存在两条完全不同的路径，输出一行一个字符串 TAK，否则输出一行一个字符串 NIE。", "hint": "$2\\leq n\\leq 10^5$，$1\\leq m,q\\leq 10^5$，保证输入数据合法且不存在重边和自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Hard Choice", "background": "", "description": "有一个 $n$ 个点，$m$ 条边的无向图。\n\n有 $q$ 次询问，每次询问包含一个字符 $opt$ 和两个整数 $x,y$。\n\n若 $opt$ 为 $Z$，表示一次删除操作，删去边 $x,y$，保证 $x,y$ 这条边之前没有被删除，但不保证图上存在边（也就是说，可能会删去所有的边）。\n\n若 $opt$ 为 $P$，表示一次询问，询问 $x,y$ 之间是否有两条完全不同的路径，这里的完全不同指没有经过相同的边，但可以经过相同的点。", "inputFormat": "第一行三个整数 $n,m,q$，意义同题面。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示 $x,y$ 之间存在一条无向边。\n\n接下来 $q$ 行，每行包含一个字符 $opt$ 和两个整数 $x,y$，意义同题面。\n\n", "outputFormat": "对于每一次 $opt$ 为 $P$ 的询问，如果存在两条完全不同的路径，输出一行一个字符串 TAK，否则输出一行一个字符串 NIE。", "hint": "$2\\leq n\\leq 10^5$，$1\\leq m,q\\leq 10^5$，保证输入数据合法且不存在重边和自环。", "locale": "zh-CN"}}}
{"pid": "P6352", "type": "P", "difficulty": 1, "samples": [["4 6 8", "10"], ["10 1 4", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] CETIRI", "background": "", "description": "你原本有 $4$ 个数，它们从小到大排序后构成了等差数列。\n\n但是现在丢失了一个数，并且其余的三个数的顺序也被打乱了。\n\n请你找出第四个数。", "inputFormat": "输入一行三个整数。保证这些数字在 $-100\\sim 100$ 之间。", "outputFormat": "输出一行一个数，为第四个数。\n\n**方案可能不是唯一的，但保证一定存在，本题使用SPJ。**", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T1 CETIRI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] CETIRI", "background": "", "description": "你原本有 $4$ 个数，它们从小到大排序后构成了等差数列。\n\n但是现在丢失了一个数，并且其余的三个数的顺序也被打乱了。\n\n请你找出第四个数。", "inputFormat": "输入一行三个整数。保证这些数字在 $-100\\sim 100$ 之间。", "outputFormat": "输出一行一个数，为第四个数。\n\n**方案可能不是唯一的，但保证一定存在，本题使用SPJ。**", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T1 CETIRI***。", "locale": "zh-CN"}}}
{"pid": "P6353", "type": "P", "difficulty": 2, "samples": [["1010", "12"], ["11001100", "314"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["模拟", "2007", "进制", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] OKTALNI", "background": "", "description": "给你一个二进制的数字，请将其转换到八进制。\n\n---\n\n可以使用如下转换方法：\n\n- 如果二进制的数字的位数不能被三整除，则在左侧补 $0$ 直到数字位数是 $3$ 的倍数。\n- 将这个二进制数每三位分成一组。\n- 每组的二进制可用如下表格所示的数字替换。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tcwf1oqm.png)\n\n现在请你完成这个操作，并输出最终的八进制结果。", "inputFormat": "输入一行一个二进制数。\n\n保证位数不超过 $100$，并且首位为 $1$。", "outputFormat": "输出一行一个八进制数。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T2 OKTALNI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] OKTALNI", "background": "", "description": "给你一个二进制的数字，请将其转换到八进制。\n\n---\n\n可以使用如下转换方法：\n\n- 如果二进制的数字的位数不能被三整除，则在左侧补 $0$ 直到数字位数是 $3$ 的倍数。\n- 将这个二进制数每三位分成一组。\n- 每组的二进制可用如下表格所示的数字替换。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tcwf1oqm.png)\n\n现在请你完成这个操作，并输出最终的八进制结果。", "inputFormat": "输入一行一个二进制数。\n\n保证位数不超过 $100$，并且首位为 $1$。", "outputFormat": "输出一行一个八进制数。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T2 OKTALNI***。", "locale": "zh-CN"}}}
{"pid": "P6354", "type": "P", "difficulty": 2, "samples": [["bok", "bok"], ["koaski", "kakosi"], ["boudonuimilcbsai", "bombonisuuladici"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["模拟", "字符串", "2007", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] TAJNA", "background": "", "description": "使用一种加密算法。\n\n设字符串的长度为 $n$，则构造一个矩阵，使得 $r\\times c=n$ 且在 $r\\le c$ 的情况下使得 $r$ 尽量大。\n\n然后把给定的明文按照由上到下，从左到右的顺序填充这个 $r\\times c$ 的矩阵。\n\n得到的密文就是把矩阵按照从左到右，从上到下的顺序输出的字符串。\n\n给定你明文，请你输出密文。", "inputFormat": "一行一个字符串，表示明文。", "outputFormat": "一行一个字符串，表示密文。", "hint": "#### 样例 3 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n13lgixw.png)\n\n共 $16$ 个字符，对于矩阵的长宽，可以选择 $1\\times 16$，$2\\times 8$ 和 $4\\times 4$ 这三种，因为要求 $r$ 尽量大，所以选择 $4\\times 4$。\n\n然后进行填充，填充的结果如上图所示。\n\n最后从左到右，从上到下输出每个字符即可。 \n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入字符串只含小写字母，长度不超过 $100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T3 TAJNA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] TAJNA", "background": "", "description": "使用一种加密算法。\n\n设字符串的长度为 $n$，则构造一个矩阵，使得 $r\\times c=n$ 且在 $r\\le c$ 的情况下使得 $r$ 尽量大。\n\n然后把给定的明文按照由上到下，从左到右的顺序填充这个 $r\\times c$ 的矩阵。\n\n得到的密文就是把矩阵按照从左到右，从上到下的顺序输出的字符串。\n\n给定你明文，请你输出密文。", "inputFormat": "一行一个字符串，表示明文。", "outputFormat": "一行一个字符串，表示密文。", "hint": "#### 样例 3 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n13lgixw.png)\n\n共 $16$ 个字符，对于矩阵的长宽，可以选择 $1\\times 16$，$2\\times 8$ 和 $4\\times 4$ 这三种，因为要求 $r$ 尽量大，所以选择 $4\\times 4$。\n\n然后进行填充，填充的结果如上图所示。\n\n最后从左到右，从上到下输出每个字符即可。 \n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入字符串只含小写字母，长度不超过 $100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T3 TAJNA***。", "locale": "zh-CN"}}}
{"pid": "P6355", "type": "P", "difficulty": 3, "samples": [["3\n4 2\n2 1\n1 3", "0"], ["5\n1 2\n2 1\n2 2\n2 3\n3 2", "4"], ["6\n10 10\n20 10\n10 20\n20 20\n30 20\n30 30", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] DEJAVU", "background": "", "description": "给出平面内的 $n$ 个点，计算有多少不同的直角三角形，满足其顶点均为给出的点，**且直角边均平行于坐标轴**。\n\n两个直角三角形不同当且仅当它们存在至少一个顶点不同。", "inputFormat": "输入第一行包含一个整数 $n$，表示点的数量。\n\n接下来的 $n$ 行，每行两个整数，表示一个点的坐标。\n\n", "outputFormat": "输出直角三角形的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $n<100$；\n- 对于 $70\\%$ 的数据，保证 $n<10^4$；\n- 对于 $100\\%$ 的数据，保证 $3\\le n\\le 10^5$，坐标的数值在 $1$ 和 $10^5$ 之间，且不存在任何两个点的坐标相同。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T4 DEJAVU***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] DEJAVU", "background": "", "description": "给出平面内的 $n$ 个点，计算有多少不同的直角三角形，满足其顶点均为给出的点，**且直角边均平行于坐标轴**。\n\n两个直角三角形不同当且仅当它们存在至少一个顶点不同。", "inputFormat": "输入第一行包含一个整数 $n$，表示点的数量。\n\n接下来的 $n$ 行，每行两个整数，表示一个点的坐标。\n\n", "outputFormat": "输出直角三角形的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $n<100$；\n- 对于 $70\\%$ 的数据，保证 $n<10^4$；\n- 对于 $100\\%$ 的数据，保证 $3\\le n\\le 10^5$，坐标的数值在 $1$ 和 $10^5$ 之间，且不存在任何两个点的坐标相同。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T4 DEJAVU***。", "locale": "zh-CN"}}}
{"pid": "P6356", "type": "P", "difficulty": 4, "samples": [["1 9 5", "1\n5"], ["1 100 10", "9\n19"], ["11111 99999 24", "5445\n11499"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] CUDAK", "background": "", "description": "求出在区间 $[A,B]$ 中有多少个整数的各位数字之和是 $S$。并请找出最小的那个整数。", "inputFormat": "输入一行三个整数 $A,B,S$。\n\n", "outputFormat": "输出共两行，第一行为整数的个数，第二行为最小的整数。\n\n输入数据保证至少有一个这样的数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le A,B\\le 10^{15}$，$1\\le S\\le 135$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T5 CUDAK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] CUDAK", "background": "", "description": "求出在区间 $[A,B]$ 中有多少个整数的各位数字之和是 $S$。并请找出最小的那个整数。", "inputFormat": "输入一行三个整数 $A,B,S$。\n\n", "outputFormat": "输出共两行，第一行为整数的个数，第二行为最小的整数。\n\n输入数据保证至少有一个这样的数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le A,B\\le 10^{15}$，$1\\le S\\le 135$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T5 CUDAK***。", "locale": "zh-CN"}}}
{"pid": "P6357", "type": "P", "difficulty": 4, "samples": [["4 3\n1234\n1 4\n1 4\n1 4", "10\n14\n18"], ["4 4\n1234\n1 1\n1 2\n1 3\n1 4", "1\n4\n9\n16"], ["7 5\n9081337\n1 3\n3 7\n1 3\n3 7\n1 3", "17\n23\n1\n19\n5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2007", "线段树", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] REDOKS", "background": "", "description": "给定一串长度为 $n$ 的数字，数字为 $0\\sim 9$ 之间的任意一个，下标从 $1$ 记起。\n\n然后进行 $m$ 次区间查询，每次查找区间 $[A,B]$ 的区间和，并在查询结束后将区间里的每一个数都 $+1$。特殊地，如果 $+1$ 前的数字为 $9$，那么 $+1$ 之后就变成了 $0$。\n\n请输出每次查询的区间和。", "inputFormat": "输入第一行包含两个整数 $n,m$。\n\n第二行 $n$ 个数字字符，字符间无空格。\n\n接下来的 $m$ 行，每行两个整数 $A,B$，表示查询区间 $[A,B]$。", "outputFormat": "输出共 $m$ 行，每行为一次查询的区间和。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 2.5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le A,B\\le n$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T6 REDOKS***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] REDOKS", "background": "", "description": "给定一串长度为 $n$ 的数字，数字为 $0\\sim 9$ 之间的任意一个，下标从 $1$ 记起。\n\n然后进行 $m$ 次区间查询，每次查找区间 $[A,B]$ 的区间和，并在查询结束后将区间里的每一个数都 $+1$。特殊地，如果 $+1$ 前的数字为 $9$，那么 $+1$ 之后就变成了 $0$。\n\n请输出每次查询的区间和。", "inputFormat": "输入第一行包含两个整数 $n,m$。\n\n第二行 $n$ 个数字字符，字符间无空格。\n\n接下来的 $m$ 行，每行两个整数 $A,B$，表示查询区间 $[A,B]$。", "outputFormat": "输出共 $m$ 行，每行为一次查询的区间和。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 2.5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le A,B\\le n$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T6 REDOKS***。", "locale": "zh-CN"}}}
{"pid": "P6358", "type": "P", "difficulty": 7, "samples": [["233 888 251", "60539267"], ["11451 45149 8100", "728539702"], ["114514 233333 101010", "830578369"], ["198245 285628 157293", "121742791"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "递推", "倍增", "O2优化", "快速傅里叶变换 FFT"], "title": "鬼故事 加强版", "background": "", "description": "[原题链接](https://www.luogu.com.cn/problem/P5126)\n\n给定 $l,r,k$，求：\n$$\\sum_{i=l}^r \\prod_{j=i}^{i+k-1}f_j$$\n其中 $f_0= 0$，$f_1 = 1$，$f_n = f_{n-1}+f_{n-2} \\ (n \\geq 2)$。  \n作为良心（迫真）出题人，你只需要将答案对 $998244353$ 取模。\n\n", "inputFormat": "输入一行三个正整数 $l,r,k$。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【数据范围】     \n对于 $30\\%$ 的数据，$1\\le k \\le 1000$；  \n对于 $70\\%$ 的数据，$1\\le k \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le 5 \\times 10^5$，$1\\le l \\le r \\le 10^{18}$。\n\n**请注意常数优化。**\n\n由于 $l,r$ 开到高精度范围也没什么意义，因此这里就改为 $10^{18}$ 了。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "鬼故事 加强版", "background": "", "description": "[原题链接](https://www.luogu.com.cn/problem/P5126)\n\n给定 $l,r,k$，求：\n$$\\sum_{i=l}^r \\prod_{j=i}^{i+k-1}f_j$$\n其中 $f_0= 0$，$f_1 = 1$，$f_n = f_{n-1}+f_{n-2} \\ (n \\geq 2)$。  \n作为良心（迫真）出题人，你只需要将答案对 $998244353$ 取模。\n\n", "inputFormat": "输入一行三个正整数 $l,r,k$。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【数据范围】     \n对于 $30\\%$ 的数据，$1\\le k \\le 1000$；  \n对于 $70\\%$ 的数据，$1\\le k \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le 5 \\times 10^5$，$1\\le l \\le r \\le 10^{18}$。\n\n**请注意常数优化。**\n\n由于 $l,r$ 开到高精度范围也没什么意义，因此这里就改为 $10^{18}$ 了。", "locale": "zh-CN"}}}
{"pid": "P6359", "type": "P", "difficulty": 4, "samples": [["4\n4 2200 700\n2 1800 10\n20 2550 9999\n4 2000 750\n3\n1 1500 300\n6 1900 1500\n3 2400 4550", "350"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "CEOI（中欧）"], "title": "[CEOI 2018] Cloud computing", "background": "译自 CEOI2018 Day1 T1. [Cloud Computing](https://ceoi2018.pl/wp-content/uploads/2018/08/clo.pdf)。", "description": "Johnny 创立了 Bytecomp，一家提供云计算能力的公司。这样的公司通常拥有许多快速的计算机，可以让客户在上面进行计算。\n\nJohnny 仍然没有购买任何机器。他去了一家计算机商店，收到了一个包含所有 $n$ 台可用的计算机的清单。每台计算机都可以用三个属性描述：处理器内核数 $c_i$，时钟频率 $f_i$ 和价格 $v_i$。这样的计算机包含 $c_i$ 个独立的内核，所以他们可以被分配不同的任务。\n\n当客户订购资源时，她会指定所需的内核数 $C_j$ 和最小的时钟频率 $F_j$。订单还包含客户愿意支付的价格 $V_j$。如果接受订单，Bytecomp 需要提供客户所需计算能力的独占访问权。Johnny 需要选择 $C_j$ 个核心（可能来自不同的计算机），且它们的时钟频率至少为 $F_j$，这些核心不能被分配给其它订单。\n\n帮助 Johnny 赚尽可能多的钱：接受一个最优的订单子集，选择所有计算机的一个子集来满足所有接受了的订单。你的目标是最大化利润，即为客户提供计算能力的收入与购买计算机的成本之差。", "inputFormat": "标准输入的第一行包含一个整数 $n$，表示商店中可用计算机的数量。\n\n接下来 $n$ 行，每行描述一台计算机，包含三个空格隔开的整数 $c_i, f_i, v_i$，分别表示内核数，时钟频率和价格。\n\n接下来一行一个整数 $m$，表示客户的订单数量。\n\n接下来 $m$ 行，每行描述一个订单，包含三个空格隔开的整数 $C_j, F_j, V_j$，分别表示需要的核心数，最低的允许的时钟频率以及预算。", "outputFormat": "标准输出唯一的一行包含一个整数，表示能够得到的最大利润。", "hint": "#### 样例解释\n\n一共有四台可用的计算机和三个订单。\n\n最佳方案是购买两台价格为 $700$ 和 $750$（总计 $1450$）的四内核的计算机，然后接受前两个订单获得 $300+1500=1800$ 的收益。\n\n我们获得了四个时钟频率为 $2000$ 的内核，和四个时钟频率为 $2200$ 的内核。可以将其中六个分配给第二个订单（需要 $1900$ 的时钟频率），再将其中一个分配给第一个订单（需要 $1500$ 的时钟频率），剩下一个核心不使用，这是允许的。\n\n总利润为 $1800-1450=350$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 2\\times 10^3,\\ 1\\le c_i,C_i\\le 50,\\ 1\\le f_i,F_i,v_i,V_i\\le 10^9$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n \\le 15$ | $18$ |\n| $2$ | $m \\le 15$ | $18$ |\n| $3$ | $n,m \\le 100$，$c_i = C_j = 1$ | $18$ |\n| $4$ | $f_i = F_j = 1$ | $18$ |\n| $5$ | $v_i = V_j = 1$ | $18$ |\n| $6$ | 无附加限制 | $10$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] Cloud computing", "background": "译自 CEOI2018 Day1 T1. [Cloud Computing](https://ceoi2018.pl/wp-content/uploads/2018/08/clo.pdf)。", "description": "Johnny 创立了 Bytecomp，一家提供云计算能力的公司。这样的公司通常拥有许多快速的计算机，可以让客户在上面进行计算。\n\nJohnny 仍然没有购买任何机器。他去了一家计算机商店，收到了一个包含所有 $n$ 台可用的计算机的清单。每台计算机都可以用三个属性描述：处理器内核数 $c_i$，时钟频率 $f_i$ 和价格 $v_i$。这样的计算机包含 $c_i$ 个独立的内核，所以他们可以被分配不同的任务。\n\n当客户订购资源时，她会指定所需的内核数 $C_j$ 和最小的时钟频率 $F_j$。订单还包含客户愿意支付的价格 $V_j$。如果接受订单，Bytecomp 需要提供客户所需计算能力的独占访问权。Johnny 需要选择 $C_j$ 个核心（可能来自不同的计算机），且它们的时钟频率至少为 $F_j$，这些核心不能被分配给其它订单。\n\n帮助 Johnny 赚尽可能多的钱：接受一个最优的订单子集，选择所有计算机的一个子集来满足所有接受了的订单。你的目标是最大化利润，即为客户提供计算能力的收入与购买计算机的成本之差。", "inputFormat": "标准输入的第一行包含一个整数 $n$，表示商店中可用计算机的数量。\n\n接下来 $n$ 行，每行描述一台计算机，包含三个空格隔开的整数 $c_i, f_i, v_i$，分别表示内核数，时钟频率和价格。\n\n接下来一行一个整数 $m$，表示客户的订单数量。\n\n接下来 $m$ 行，每行描述一个订单，包含三个空格隔开的整数 $C_j, F_j, V_j$，分别表示需要的核心数，最低的允许的时钟频率以及预算。", "outputFormat": "标准输出唯一的一行包含一个整数，表示能够得到的最大利润。", "hint": "#### 样例解释\n\n一共有四台可用的计算机和三个订单。\n\n最佳方案是购买两台价格为 $700$ 和 $750$（总计 $1450$）的四内核的计算机，然后接受前两个订单获得 $300+1500=1800$ 的收益。\n\n我们获得了四个时钟频率为 $2000$ 的内核，和四个时钟频率为 $2200$ 的内核。可以将其中六个分配给第二个订单（需要 $1900$ 的时钟频率），再将其中一个分配给第一个订单（需要 $1500$ 的时钟频率），剩下一个核心不使用，这是允许的。\n\n总利润为 $1800-1450=350$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 2\\times 10^3,\\ 1\\le c_i,C_i\\le 50,\\ 1\\le f_i,F_i,v_i,V_i\\le 10^9$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n \\le 15$ | $18$ |\n| $2$ | $m \\le 15$ | $18$ |\n| $3$ | $n,m \\le 100$，$c_i = C_j = 1$ | $18$ |\n| $4$ | $f_i = F_j = 1$ | $18$ |\n| $5$ | $v_i = V_j = 1$ | $18$ |\n| $6$ | 无附加限制 | $10$ |", "locale": "zh-CN"}}}
{"pid": "P6360", "type": "P", "difficulty": 4, "samples": [["6 2\n1 2 1 3 2 1\n2\n1\n2", "2 1 1 1 1\n4 4 4 4 4"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2018", "CEOI（中欧）"], "title": "[CEOI 2018] Lottery", "background": "译自 CEOI2018 Day1 T3. [Lottery](https://ceoi2018.pl/wp-content/uploads/2018/08/lot.pdf)。", "description": "**请注意特殊的内存限制。**\n\n长期以来，你一直是 Bytelotto 的忠实粉丝，但你的家人一直告诉你所有这样的游戏都是在浪费钱。你觉得这肯定是因为他们缺少技巧。你有一个很棒的计划，每个人都将很快看到你赢得游戏。\n\n游戏类型很多，你对其中之一感兴趣：Bitlotto。游戏规则很简单，每天随机抽取一个数字作为中奖数字。你记下了连续 $n$ 天的中奖数字 $a_1, a_2, \\ldots, a_n$。你确信这当中存在某种规律，尤其是连续 $l$ 天的区间中。你的家人仍然不相信你，所以说服他们的唯一方法是可靠的数学。\n\n一共有 $n-l+1$ 个长度为 $l$ 的区间。第 $i$ 个区间从 $i$ 开始，因此它包含元素 $a_i, a_{i+1}, \\ldots, a_{i+l-1}$。定义两个区间的距离为他们对应位置上的数字不相等的数量。形式化地说，第 $x$ 个区间与第 $y$ 个区间的距离为满足 $a_{x+i}\\ne a_{y+i}$ 的位置 $i\\ (0\\le i < l)$ 的数量。然后我们定义两个区间是 $k$-相似的当且仅当这两个区间的距离不超过 $k$。\n\n现在给出连续 $n$ 天的中奖数字和 $q$ 个询问，每个询问给出一个整数 $k_j$，你需要对序列中的每个长度为 $l$ 的区间，求出与该区间 $k_j$-相似的区间个数（不包括本身）。", "inputFormat": "标准输入的第一行包含两个整数 $n,l$，分别表示天数和你需要分析的区间长度。\n\n第二行包含 $n$ 个空格隔开的整数 $a_1, a_2, \\ldots, a_n$，$a_i$ 表示第 $i$ 天的中奖数字。\n\n第三行包含一个整数 $q$，表示询问次数。\n\n接下来 $q$ 行，每行包含一个整数 $k_j$，表示第 $j$ 个询问的相似参数。", "outputFormat": "输出 $q$ 行，第 $j$ 行包含 $n-l+1$ 个空格隔开的整数，表示第 $j$ 个询问的答案。一行中的第 $i$ 个数表示与第 $i$ 个区间 $k_j$-相似的不包括本身的区间数量。", "hint": "#### 样例解释\n\n整个序列有五个长度为 $2$ 的区间：\n\n- 第一个区间包含 $1$ $2$；\n- 第二个区间包含 $2$ $1$；\n- 第三个区间包含 $1$ $3$；\n- 第四个区间包含 $3$ $2$；\n- 第五个区间包含 $2$ $1$。\n\n共有两个询问。\n\n第一个询问 $k=1$。第一个和第三个区间——$1$ $2$ 和 $1$ $3$——只有第二个位置不同，所以他们的距离为 $1$。类似地，第一个和第四个区间——$1$ $2$ 和 $3$ $2$——只有第一个位置不同，所以他们的距离为 $1$。与第一个区间 $1$-相似的区间只有这两个，所以第一个数输出 $2$。\n\n第二个询问 $k=2$，所有区间都是 $2$-相似的。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^4,\\ 1\\le a_i\\le 10^9,\\ 1\\le q\\le 100,\\ 0\\le k_j\\le l$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--------: | :------------: | :--: |\n|    $1$     |  $n \\le 300$  | $25$ |\n|    $2$     | $n \\le 2000$  | $20$ |\n|    $3$     | $q=1, k_1=0$ | $20$ |\n|    $4$     |     $q=1$      | $15$ |\n|    $5$     |   无附加限制   | $20$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] Lottery", "background": "译自 CEOI2018 Day1 T3. [Lottery](https://ceoi2018.pl/wp-content/uploads/2018/08/lot.pdf)。", "description": "**请注意特殊的内存限制。**\n\n长期以来，你一直是 Bytelotto 的忠实粉丝，但你的家人一直告诉你所有这样的游戏都是在浪费钱。你觉得这肯定是因为他们缺少技巧。你有一个很棒的计划，每个人都将很快看到你赢得游戏。\n\n游戏类型很多，你对其中之一感兴趣：Bitlotto。游戏规则很简单，每天随机抽取一个数字作为中奖数字。你记下了连续 $n$ 天的中奖数字 $a_1, a_2, \\ldots, a_n$。你确信这当中存在某种规律，尤其是连续 $l$ 天的区间中。你的家人仍然不相信你，所以说服他们的唯一方法是可靠的数学。\n\n一共有 $n-l+1$ 个长度为 $l$ 的区间。第 $i$ 个区间从 $i$ 开始，因此它包含元素 $a_i, a_{i+1}, \\ldots, a_{i+l-1}$。定义两个区间的距离为他们对应位置上的数字不相等的数量。形式化地说，第 $x$ 个区间与第 $y$ 个区间的距离为满足 $a_{x+i}\\ne a_{y+i}$ 的位置 $i\\ (0\\le i < l)$ 的数量。然后我们定义两个区间是 $k$-相似的当且仅当这两个区间的距离不超过 $k$。\n\n现在给出连续 $n$ 天的中奖数字和 $q$ 个询问，每个询问给出一个整数 $k_j$，你需要对序列中的每个长度为 $l$ 的区间，求出与该区间 $k_j$-相似的区间个数（不包括本身）。", "inputFormat": "标准输入的第一行包含两个整数 $n,l$，分别表示天数和你需要分析的区间长度。\n\n第二行包含 $n$ 个空格隔开的整数 $a_1, a_2, \\ldots, a_n$，$a_i$ 表示第 $i$ 天的中奖数字。\n\n第三行包含一个整数 $q$，表示询问次数。\n\n接下来 $q$ 行，每行包含一个整数 $k_j$，表示第 $j$ 个询问的相似参数。", "outputFormat": "输出 $q$ 行，第 $j$ 行包含 $n-l+1$ 个空格隔开的整数，表示第 $j$ 个询问的答案。一行中的第 $i$ 个数表示与第 $i$ 个区间 $k_j$-相似的不包括本身的区间数量。", "hint": "#### 样例解释\n\n整个序列有五个长度为 $2$ 的区间：\n\n- 第一个区间包含 $1$ $2$；\n- 第二个区间包含 $2$ $1$；\n- 第三个区间包含 $1$ $3$；\n- 第四个区间包含 $3$ $2$；\n- 第五个区间包含 $2$ $1$。\n\n共有两个询问。\n\n第一个询问 $k=1$。第一个和第三个区间——$1$ $2$ 和 $1$ $3$——只有第二个位置不同，所以他们的距离为 $1$。类似地，第一个和第四个区间——$1$ $2$ 和 $3$ $2$——只有第一个位置不同，所以他们的距离为 $1$。与第一个区间 $1$-相似的区间只有这两个，所以第一个数输出 $2$。\n\n第二个询问 $k=2$，所有区间都是 $2$-相似的。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^4,\\ 1\\le a_i\\le 10^9,\\ 1\\le q\\le 100,\\ 0\\le k_j\\le l$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--------: | :------------: | :--: |\n|    $1$     |  $n \\le 300$  | $25$ |\n|    $2$     | $n \\le 2000$  | $20$ |\n|    $3$     | $q=1, k_1=0$ | $20$ |\n|    $4$     |     $q=1$      | $15$ |\n|    $5$     |   无附加限制   | $20$ |", "locale": "zh-CN"}}}
{"pid": "P6361", "type": "P", "difficulty": 7, "samples": [["4\n4 1 1 5", "2\n2\n1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "CEOI（中欧）"], "title": "[CEOI 2018] Fibonacci representations", "background": "译自 CEOI2018 Day2 T1. [Fibonacci Representations](https://ceoi2018.pl/wp-content/uploads/2018/08/fib.pdf)。", "description": "我们定义斐波那契数列为\n$$\n\\begin{aligned}\nF_1&=1\\\\\nF_2&=2\\\\\nF_n&=F_{n-1}+F_{n-2} \\text{ for } n \\ge 3\n\\end{aligned}\n$$\n序列的前面若干项为 $1,2,3,5,8,13,21,\\ldots$。\n\n对一个正整数 $p$，定义 $X(p)$ 为将 $p$ 用若干个**不同的**斐波那契数的和表示的方案数，两个方案不同当且仅当有一个斐波那契数恰好只在其中一个方案中出现。\n\n给定一个长度为 $n$ 的正整数序列 $a_1,a_2,\\ldots,a_n$，对于他的一个非空前缀 $a_1,a_2,\\ldots,a_k$，我们定义 $p_k=F_{a_1}+F_{a_2}+\\cdots+F_{a_k}$。\n\n你的任务是对于所有 $k=1, 2, \\ldots, n$，求出 $X(p_k)$ 对 $10^9+7$ 取模的值。", "inputFormat": "标准输入的第一行一个整数 $n$。\n\n第二行 $n$ 个用空格隔开的整数 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "标准输出包含 $n$ 行，在第 $k$ 行输出 $X(p_k)$ 对 $10^9+7$ 取模后的值。", "hint": "#### 样例解释\n\n$p_k$ 的值如下：\n$$\n\\begin{aligned}\np_1&=F_4=5\\\\\np_2&=F_4+F_1=5+1=6\\\\\np_3&=F_4+F_1+F_1=5+1+1=7\\\\\np_4&=F_4+F_1+F_1+F_5=5+1+1+8=15\n\\end{aligned}\n$$\n\n$5$ 可以用两种方法表示：$F_2+F_3$ 和单独的 $F_4$（即分别为 $2+3$ 和 $5$），所以 $X(p_1)=2$。\n\n我们有 $X(p_2)=2$ 因为 $p_2=1+5=2+3$。\n\n将 $7$ 表示成若干不同的斐波那契数之和的唯一一种方案是 $2+5$。\n\n最后，$15$ 可以表示成 $2+13$ 和 $2+5+8$（两种方案）。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5,\\ 1\\le a_i\\le 10^9$。\n\n所有测试数据被划分成以下若干个有附加限制的子任务。每个子任务中包含若干个测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n, a_i \\leq 15$ | $5$ |\n| $2$ | $n, a_i \\leq 100$ | $20$ |\n| $3$ | $n \\leq 100$，$a_i$ 是不同的完全平方数 | $15$ |\n| $4$ | $n \\leq 100$ | $10$ |\n| $5$ | $a_i$ 是不同的偶数 | $15$ |\n| $6$ | 无附加限制 | $35$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] Fibonacci representations", "background": "译自 CEOI2018 Day2 T1. [Fibonacci Representations](https://ceoi2018.pl/wp-content/uploads/2018/08/fib.pdf)。", "description": "我们定义斐波那契数列为\n$$\n\\begin{aligned}\nF_1&=1\\\\\nF_2&=2\\\\\nF_n&=F_{n-1}+F_{n-2} \\text{ for } n \\ge 3\n\\end{aligned}\n$$\n序列的前面若干项为 $1,2,3,5,8,13,21,\\ldots$。\n\n对一个正整数 $p$，定义 $X(p)$ 为将 $p$ 用若干个**不同的**斐波那契数的和表示的方案数，两个方案不同当且仅当有一个斐波那契数恰好只在其中一个方案中出现。\n\n给定一个长度为 $n$ 的正整数序列 $a_1,a_2,\\ldots,a_n$，对于他的一个非空前缀 $a_1,a_2,\\ldots,a_k$，我们定义 $p_k=F_{a_1}+F_{a_2}+\\cdots+F_{a_k}$。\n\n你的任务是对于所有 $k=1, 2, \\ldots, n$，求出 $X(p_k)$ 对 $10^9+7$ 取模的值。", "inputFormat": "标准输入的第一行一个整数 $n$。\n\n第二行 $n$ 个用空格隔开的整数 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "标准输出包含 $n$ 行，在第 $k$ 行输出 $X(p_k)$ 对 $10^9+7$ 取模后的值。", "hint": "#### 样例解释\n\n$p_k$ 的值如下：\n$$\n\\begin{aligned}\np_1&=F_4=5\\\\\np_2&=F_4+F_1=5+1=6\\\\\np_3&=F_4+F_1+F_1=5+1+1=7\\\\\np_4&=F_4+F_1+F_1+F_5=5+1+1+8=15\n\\end{aligned}\n$$\n\n$5$ 可以用两种方法表示：$F_2+F_3$ 和单独的 $F_4$（即分别为 $2+3$ 和 $5$），所以 $X(p_1)=2$。\n\n我们有 $X(p_2)=2$ 因为 $p_2=1+5=2+3$。\n\n将 $7$ 表示成若干不同的斐波那契数之和的唯一一种方案是 $2+5$。\n\n最后，$15$ 可以表示成 $2+13$ 和 $2+5+8$（两种方案）。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5,\\ 1\\le a_i\\le 10^9$。\n\n所有测试数据被划分成以下若干个有附加限制的子任务。每个子任务中包含若干个测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n, a_i \\leq 15$ | $5$ |\n| $2$ | $n, a_i \\leq 100$ | $20$ |\n| $3$ | $n \\leq 100$，$a_i$ 是不同的完全平方数 | $15$ |\n| $4$ | $n \\leq 100$ | $10$ |\n| $5$ | $a_i$ 是不同的偶数 | $15$ |\n| $6$ | 无附加限制 | $35$ |", "locale": "zh-CN"}}}
