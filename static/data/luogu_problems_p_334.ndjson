{"pid": "P7769", "type": "P", "difficulty": 6, "samples": [["6 4\n1 1 3 4 2 1\n4 3 3\n1 2 2\n5 4 6\n2 1 2", "Yes\nNo\nYes\nYes"], ["6 4\n4 2 2 2 2 1\n6 1 1\n5 5 6\n4 3 5\n5 2 2", "Yes\nNo\nYes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [393216, 393216, 393216, 393216, 393216, 393216, 393216, 393216, 393216, 393216, 393216]}, "tags": ["O2优化", "后缀数组 SA"], "title": "「CGOI-1」大师选徒", "background": "最近有好多人来丑国学习 bc。bc 大师 ac 和 mc 要从所有学生选出一些来传授 bc 技艺。\n\n###### 2021.8.29：添加了一组 hack", "description": "有 $n$ 个学生站成一排，每个学生有一个丑值 $a_i$。现在 ac 和 mc 要**各自**从学生中选取**连续**的一段传授 bc。\n\n由于 ac 和 mc 关系很♂好，所以两人选出的学生必须人数相同，并且**对应位置**上的学生丑值之和均为 $s$。\n\n（比方说，如果 ac 选第 $1$、$2$、$3$ 号学生，mc 选 $3$、$4$、$5$ 号学生，必须满足 $a_1+a_3=a_2+a_4=a_3+a_5=s$）\n\n但 ac 并不知道 mc 所选的学生以及 $s$ 是多少，所以他会给出若干个询问。对于每个询问，你需要回答对于特定的 $s$ 以及 mc 选出的一段学生，ac 是否可以选出另一段学生满足上述要求。\n\n**简化版题意：**\n\n给出 $n$ 及 $n$ 个整数 $a_1,\\,a_2,\\,\\dots,\\,a_n$；\n\n$q$ 次询问，每次给出 $s,l,r$，问是否存在 $b$，满足 $\\forall k \\in [0, r-l]$，$a_{l+k}+a_{b+k}=s$。", "inputFormat": "第一行输入两个整数 $n,\\,q$，分别表示学生的人数与询问的个数。\n\n第二行输入 $n$ 个整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个学生的丑值。\n\n接下来 $q$ 行，每行输入三个整数 $s,\\,l,\\,r$，分别表示丑值之和，mc 所选的第一个学生的下标和最后一个学生的下标。", "outputFormat": "对于每一个询问，如果可以选出符合条件的学生，输出 `Yes`，否则输出 `No`。每个输出占一行。", "hint": "#### 样例说明：\n\n对于样例 1：\n\n第一个询问，mc 选择的是第三个学生，ac 可以选择第一个学生。\n\n第二个询问，mc 选择的第二个学生丑值为 $1$，而总和也为 $1$，但不存在丑值为 $0$ 的学生，故不能满足条件。\n\n第三个询问，mc 选择的是第四个到第六个，那么 ac 选择第二个到第四个，对应位置的学生丑值之和 $a_2+a_4=a_3+a_5=a_4+a_6=5$，满足条件。\n\n第四个询问，mc 选择第一个和第二个，那么 ac 也选择第一个和第二个，满足条件。\n\n---\n\n#### 数据范围：\n\n**本题采用捆绑测试。**\n\n对于全部数据，有 $1\\le n,\\,q\\le 4\\times10^5$，$1\\le a_i \\le n$，$1\\le s\\le 2n$，$1\\le l\\le r\\le n$。\n* Subtask 0（10 points）：$n,\\,q\\le 500$。\n* Subtask 1（20 points）：$n,\\,q\\le 8\\times10^3$。\n* Subtask 2（20 points）：保证所有 $s$ 相同。\n* Subtask 3（50 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「CGOI-1」大师选徒", "background": "最近有好多人来丑国学习 bc。bc 大师 ac 和 mc 要从所有学生选出一些来传授 bc 技艺。\n\n###### 2021.8.29：添加了一组 hack", "description": "有 $n$ 个学生站成一排，每个学生有一个丑值 $a_i$。现在 ac 和 mc 要**各自**从学生中选取**连续**的一段传授 bc。\n\n由于 ac 和 mc 关系很♂好，所以两人选出的学生必须人数相同，并且**对应位置**上的学生丑值之和均为 $s$。\n\n（比方说，如果 ac 选第 $1$、$2$、$3$ 号学生，mc 选 $3$、$4$、$5$ 号学生，必须满足 $a_1+a_3=a_2+a_4=a_3+a_5=s$）\n\n但 ac 并不知道 mc 所选的学生以及 $s$ 是多少，所以他会给出若干个询问。对于每个询问，你需要回答对于特定的 $s$ 以及 mc 选出的一段学生，ac 是否可以选出另一段学生满足上述要求。\n\n**简化版题意：**\n\n给出 $n$ 及 $n$ 个整数 $a_1,\\,a_2,\\,\\dots,\\,a_n$；\n\n$q$ 次询问，每次给出 $s,l,r$，问是否存在 $b$，满足 $\\forall k \\in [0, r-l]$，$a_{l+k}+a_{b+k}=s$。", "inputFormat": "第一行输入两个整数 $n,\\,q$，分别表示学生的人数与询问的个数。\n\n第二行输入 $n$ 个整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个学生的丑值。\n\n接下来 $q$ 行，每行输入三个整数 $s,\\,l,\\,r$，分别表示丑值之和，mc 所选的第一个学生的下标和最后一个学生的下标。", "outputFormat": "对于每一个询问，如果可以选出符合条件的学生，输出 `Yes`，否则输出 `No`。每个输出占一行。", "hint": "#### 样例说明：\n\n对于样例 1：\n\n第一个询问，mc 选择的是第三个学生，ac 可以选择第一个学生。\n\n第二个询问，mc 选择的第二个学生丑值为 $1$，而总和也为 $1$，但不存在丑值为 $0$ 的学生，故不能满足条件。\n\n第三个询问，mc 选择的是第四个到第六个，那么 ac 选择第二个到第四个，对应位置的学生丑值之和 $a_2+a_4=a_3+a_5=a_4+a_6=5$，满足条件。\n\n第四个询问，mc 选择第一个和第二个，那么 ac 也选择第一个和第二个，满足条件。\n\n---\n\n#### 数据范围：\n\n**本题采用捆绑测试。**\n\n对于全部数据，有 $1\\le n,\\,q\\le 4\\times10^5$，$1\\le a_i \\le n$，$1\\le s\\le 2n$，$1\\le l\\le r\\le n$。\n* Subtask 0（10 points）：$n,\\,q\\le 500$。\n* Subtask 1（20 points）：$n,\\,q\\le 8\\times10^3$。\n* Subtask 2（20 points）：保证所有 $s$ 相同。\n* Subtask 3（50 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P7770", "type": "P", "difficulty": 5, "samples": [["5 2\n1 2 3 4 5\n1 1 3\n6 1 7", "2\n0"]], "limits": {"time": [1000, 1000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [393216, 393216, 393216, 393216, 393216, 393216, 393216, 393216]}, "tags": ["O2优化", "可持久化线段树"], "title": "「CGOI-1」丑国旅游", "background": "丑国风景优美，是远近闻名的旅游胜地（并不）。来丑国旅游的人很多。", "description": "丑国的一角排列着编号从 $1$ 到 $n$ 的 $n$ 个城市。当一个人在第 $i$ 个城市时，能且仅能走到第 $i+1$ 个城市。\n\n第 $i$ 个城市中的人们最讨厌丑值为 $a_i$ 的人。当一个丑值为 $x$ 的人从第 $i$ 个城市走到第 $i+1$ 个城市时，他会获得 $|x-a_i|\\times|x-a_{i+1}|$ 的舒适值。\n\n现在有 $m$ 个人要来丑国旅游，第 $i$ 个人的丑值为 $x_i$，要从城市 $l_i$ 走到 $r_i$，问他得到的舒适值之和是多少。\n\n**由于这个数可能很大，你需要求出对 $10^9+7$ 取模后的值**。\n\n由于你不能预知到下一次旅游，我们会强制你在线。\n\n**简化版题意：**\n\n给出 $n$ 及 $n$ 个整数 $a_1,\\,a_2,\\,\\dots,\\,a_n$。\n\n$m$ 次在线询问，每次询问给出 $x,\\,l,\\,r$，求 $\\sum\\limits_{i=l}^{r-1}|x-a_i|\\times|x-a_{i+1}|$。", "inputFormat": "第一行输入两个整数 $n,m$，分别表示城市数与旅游人数。\n\n第二行输入 $n$ 个整数，第 $i$ 个数表示 $a_i$，含义如上所述。\n\n接下来 $m$ 行，每行输入三个整数 $X,\\,L,\\,R$，记上一次的旅游的总舒适值对 $10^9+7$ 取模后为 $s$（若是第一次询问，则 $s=0$），则 $x_i=X\\operatorname{xor}s,\\;l_i=L\\operatorname{xor}s,\\;r_i=R\\operatorname{xor}s$，其中 $\\operatorname{xor}$ 表示异或，而 $x_i,\\,l_i,\\,r_i$ 的含义如上所述。", "outputFormat": "输出 $m$ 行，第 $i$ 行的数表示第 $i$ 个人的总舒适值对 $10^9+7$ 取模后的值。", "hint": "#### 样例说明：\n\n对于第一次询问，从城 $1$ 走到城 $2$，获得舒适值为 $|1-1|\\times|1-2|=0$；从城 $2$ 走到城 $3$，获得舒适值为 $|1-2|\\times|1-3|=2$，故总舒适值为 $2$。\n\n对于第二次询问，解密后的 $x,\\,l,\\,r$ 分别是 $4,3,5$。从城 $3$ 走到城 $4$，获得舒适值为 $|4-3|\\times|4-4|=0$；从城 $4$ 走到城 $5$，舒适值为 $|4-4|\\times|4-5|=0$，总舒适值为 $0$。\n\n---\n\n#### 数据范围：\n\n**本题采用捆绑测试。**\n\n| 编号 | 特殊限制 | 分值 |时限|\n| :-: | :-: | :-: |:-:|\n| Subtask0 | $n,\\,m\\le 10^4$ | 20pts |1s|\n| Subtask1 | $a_i,\\,x\\le 10$ | 10pts |2s|\n| Subtask2 | $a_i$ 单调递增 | 10pts |2s|\n| Subtask3 | 无特殊限制 | 60pts |2s|\n\n对于 $100\\%$ 的数据，$1 \\le n,\\,m \\le 3 \\times 10^5$，$1 \\le a_i,\\,x_i \\le 10^9$，$1 \\le l_i < r_i \\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「CGOI-1」丑国旅游", "background": "丑国风景优美，是远近闻名的旅游胜地（并不）。来丑国旅游的人很多。", "description": "丑国的一角排列着编号从 $1$ 到 $n$ 的 $n$ 个城市。当一个人在第 $i$ 个城市时，能且仅能走到第 $i+1$ 个城市。\n\n第 $i$ 个城市中的人们最讨厌丑值为 $a_i$ 的人。当一个丑值为 $x$ 的人从第 $i$ 个城市走到第 $i+1$ 个城市时，他会获得 $|x-a_i|\\times|x-a_{i+1}|$ 的舒适值。\n\n现在有 $m$ 个人要来丑国旅游，第 $i$ 个人的丑值为 $x_i$，要从城市 $l_i$ 走到 $r_i$，问他得到的舒适值之和是多少。\n\n**由于这个数可能很大，你需要求出对 $10^9+7$ 取模后的值**。\n\n由于你不能预知到下一次旅游，我们会强制你在线。\n\n**简化版题意：**\n\n给出 $n$ 及 $n$ 个整数 $a_1,\\,a_2,\\,\\dots,\\,a_n$。\n\n$m$ 次在线询问，每次询问给出 $x,\\,l,\\,r$，求 $\\sum\\limits_{i=l}^{r-1}|x-a_i|\\times|x-a_{i+1}|$。", "inputFormat": "第一行输入两个整数 $n,m$，分别表示城市数与旅游人数。\n\n第二行输入 $n$ 个整数，第 $i$ 个数表示 $a_i$，含义如上所述。\n\n接下来 $m$ 行，每行输入三个整数 $X,\\,L,\\,R$，记上一次的旅游的总舒适值对 $10^9+7$ 取模后为 $s$（若是第一次询问，则 $s=0$），则 $x_i=X\\operatorname{xor}s,\\;l_i=L\\operatorname{xor}s,\\;r_i=R\\operatorname{xor}s$，其中 $\\operatorname{xor}$ 表示异或，而 $x_i,\\,l_i,\\,r_i$ 的含义如上所述。", "outputFormat": "输出 $m$ 行，第 $i$ 行的数表示第 $i$ 个人的总舒适值对 $10^9+7$ 取模后的值。", "hint": "#### 样例说明：\n\n对于第一次询问，从城 $1$ 走到城 $2$，获得舒适值为 $|1-1|\\times|1-2|=0$；从城 $2$ 走到城 $3$，获得舒适值为 $|1-2|\\times|1-3|=2$，故总舒适值为 $2$。\n\n对于第二次询问，解密后的 $x,\\,l,\\,r$ 分别是 $4,3,5$。从城 $3$ 走到城 $4$，获得舒适值为 $|4-3|\\times|4-4|=0$；从城 $4$ 走到城 $5$，舒适值为 $|4-4|\\times|4-5|=0$，总舒适值为 $0$。\n\n---\n\n#### 数据范围：\n\n**本题采用捆绑测试。**\n\n| 编号 | 特殊限制 | 分值 |时限|\n| :-: | :-: | :-: |:-:|\n| Subtask0 | $n,\\,m\\le 10^4$ | 20pts |1s|\n| Subtask1 | $a_i,\\,x\\le 10$ | 10pts |2s|\n| Subtask2 | $a_i$ 单调递增 | 10pts |2s|\n| Subtask3 | 无特殊限制 | 60pts |2s|\n\n对于 $100\\%$ 的数据，$1 \\le n,\\,m \\le 3 \\times 10^5$，$1 \\le a_i,\\,x_i \\le 10^9$，$1 \\le l_i < r_i \\le n$。", "locale": "zh-CN"}}}
{"pid": "P7771", "type": "P", "difficulty": 4, "samples": [["4 6\n1 3\n2 1\n4 2\n3 3\n1 2\n3 4", "1 2 1 3 3 4 2"], ["5 5\n1 2\n3 5\n4 3\n3 4\n2 3", "1 2 3 4 3 5"], ["4 3\n1 2\n1 3\n1 4", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["欧拉回路", "模板题"], "title": "【模板】欧拉路径", "background": "", "description": "求有向图字典序最小的欧拉路径。", "inputFormat": "第一行两个整数 $n,m$ 表示有向图的点数和边数。\n\n接下来 $m$ 行每行两个整数 $u,v$ 表示存在一条 $u\\to v$ 的有向边。", "outputFormat": "如果不存在欧拉路径，输出一行 `No`。\n\n否则输出一行 $m+1$ 个数字，表示字典序最小的欧拉路径。", "hint": "对于 $50\\%$ 的数据，$n,m\\leq 10^3$。\n\n对于 $100\\%$ 的数据，$1\\leq u,v\\leq n\\leq 10^5$，$m\\leq 2\\times 10^5$。\n\n保证将有向边视为无向边后图连通。\n\n本题的数据生成器：\n\n```cpp\n#include<bits/stdc++.h>\n#include<windows.h>\nusing namespace std;\ntypedef unsigned long long ull;\n#define N 100005\n#define For(i,x,y)for(i=x;i<=(y);i++)\nbool bo[N];\nqueue<int>p,q;\null R=GetTickCount();\nint deg[N][2],dep[N],fa[N];\ninline int Rand(int _,int __)\n{\n\tR^=R<<13;\n\tR^=R>>7;\n\tR^=R<<17;\n\treturn R%(__-_+1)+_;\n}\nint find(int p)\n{\n\tif(p!=fa[p])fa[p]=find(fa[p]);\n\treturn fa[p];\n}\ninline void unite(int p,int q)\n{\n\tp=find(p),q=find(q);\n\tif(p==q)return;\n\tif(dep[p]<dep[q])fa[p]=q;\n\telse fa[q]=p;\n\tif(dep[p]==dep[q])dep[p]++;\n}\nint main()\n{\n\tfreopen(\"P7771.in\",\"w\",stdout);\n\tint n=Rand(1,100000),m=Rand(190000,200000),i,u,v;\n\tcout<<n<<' '<<m;\n\tFor(i,1,n)fa[i]=i;\n\tFor(i,1,m>>1)\n\t{\n\t\tu=Rand(1,n),v=Rand(1,n);\n\t\tcout<<endl<<u<<' '<<v;\n\t\tunite(u,v);\n\t\tdeg[u][0]++;\n\t\tdeg[v][1]++;\n\t}\n\tm-=m>>1;\n\tFor(i,1,n)\n\tif(deg[i][0]<deg[i][1])p.push(i);\n\telse if(deg[i][0]>deg[i][1])q.push(i);\n\twhile(m)\n\t{\n\t\tif(p.empty()||q.empty())break;\n\t\tu=p.front();\n\t\tv=q.front();\n\t\tp.pop();\n\t\tq.pop();\n\t\tunite(u,v);\n\t\tcout<<endl<<u<<' '<<v;\n\t\tdeg[u][0]++;\n\t\tdeg[v][1]++;\n\t\tif(deg[u][0]<deg[u][1])p.push(u);\n\t\tif(deg[v][0]>deg[v][1])q.push(v);\n\t\tm--;\n\t}\n\tFor(i,1,n-1)\n\tif(find(i)!=find(n))\n\t{\n\t\tcout<<endl<<n<<' '<<i<<endl<<i<<' '<<n;\n\t\tm-=2;\n\t\tunite(n,i);\n\t}\n\tif(m<2)\n\twhile(1);\n\twhile(m>Rand(0,1))\n\t{\n\t\tu=Rand(1,n);\n\t\tcout<<endl<<u<<' '<<u;\n\t\tm--;\n\t}\n\tif(m)cout<<endl<<Rand(1,n)<<' '<<Rand(1,n);\n\treturn 0;\n}\n```", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】欧拉路径", "background": "", "description": "求有向图字典序最小的欧拉路径。", "inputFormat": "第一行两个整数 $n,m$ 表示有向图的点数和边数。\n\n接下来 $m$ 行每行两个整数 $u,v$ 表示存在一条 $u\\to v$ 的有向边。", "outputFormat": "如果不存在欧拉路径，输出一行 `No`。\n\n否则输出一行 $m+1$ 个数字，表示字典序最小的欧拉路径。", "hint": "对于 $50\\%$ 的数据，$n,m\\leq 10^3$。\n\n对于 $100\\%$ 的数据，$1\\leq u,v\\leq n\\leq 10^5$，$m\\leq 2\\times 10^5$。\n\n保证将有向边视为无向边后图连通。\n\n本题的数据生成器：\n\n```cpp\n#include<bits/stdc++.h>\n#include<windows.h>\nusing namespace std;\ntypedef unsigned long long ull;\n#define N 100005\n#define For(i,x,y)for(i=x;i<=(y);i++)\nbool bo[N];\nqueue<int>p,q;\null R=GetTickCount();\nint deg[N][2],dep[N],fa[N];\ninline int Rand(int _,int __)\n{\n\tR^=R<<13;\n\tR^=R>>7;\n\tR^=R<<17;\n\treturn R%(__-_+1)+_;\n}\nint find(int p)\n{\n\tif(p!=fa[p])fa[p]=find(fa[p]);\n\treturn fa[p];\n}\ninline void unite(int p,int q)\n{\n\tp=find(p),q=find(q);\n\tif(p==q)return;\n\tif(dep[p]<dep[q])fa[p]=q;\n\telse fa[q]=p;\n\tif(dep[p]==dep[q])dep[p]++;\n}\nint main()\n{\n\tfreopen(\"P7771.in\",\"w\",stdout);\n\tint n=Rand(1,100000),m=Rand(190000,200000),i,u,v;\n\tcout<<n<<' '<<m;\n\tFor(i,1,n)fa[i]=i;\n\tFor(i,1,m>>1)\n\t{\n\t\tu=Rand(1,n),v=Rand(1,n);\n\t\tcout<<endl<<u<<' '<<v;\n\t\tunite(u,v);\n\t\tdeg[u][0]++;\n\t\tdeg[v][1]++;\n\t}\n\tm-=m>>1;\n\tFor(i,1,n)\n\tif(deg[i][0]<deg[i][1])p.push(i);\n\telse if(deg[i][0]>deg[i][1])q.push(i);\n\twhile(m)\n\t{\n\t\tif(p.empty()||q.empty())break;\n\t\tu=p.front();\n\t\tv=q.front();\n\t\tp.pop();\n\t\tq.pop();\n\t\tunite(u,v);\n\t\tcout<<endl<<u<<' '<<v;\n\t\tdeg[u][0]++;\n\t\tdeg[v][1]++;\n\t\tif(deg[u][0]<deg[u][1])p.push(u);\n\t\tif(deg[v][0]>deg[v][1])q.push(v);\n\t\tm--;\n\t}\n\tFor(i,1,n-1)\n\tif(find(i)!=find(n))\n\t{\n\t\tcout<<endl<<n<<' '<<i<<endl<<i<<' '<<n;\n\t\tm-=2;\n\t\tunite(n,i);\n\t}\n\tif(m<2)\n\twhile(1);\n\twhile(m>Rand(0,1))\n\t{\n\t\tu=Rand(1,n);\n\t\tcout<<endl<<u<<' '<<u;\n\t\tm--;\n\t}\n\tif(m)cout<<endl<<Rand(1,n)<<' '<<Rand(1,n);\n\treturn 0;\n}\n```", "locale": "zh-CN"}}}
{"pid": "P7772", "type": "P", "difficulty": 1, "samples": [["38 24", "875"], ["1 100", "100"], ["10 10", "91"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "数学", "2009", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #2] FAKTOR", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T1 FAKTOR}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $30$。", "description": "给定 $A,I$，求一个最小的 $N$，使得$\\lceil\\frac{N}{A}\\rceil\\geq I$。", "inputFormat": "一行两个整数 $A,I$。", "outputFormat": "一行一个整数 $N$。", "hint": "$1\\leq A,I\\leq 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #2] FAKTOR", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T1 FAKTOR}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $30$。", "description": "给定 $A,I$，求一个最小的 $N$，使得$\\lceil\\frac{N}{A}\\rceil\\geq I$。", "inputFormat": "一行两个整数 $A,I$。", "outputFormat": "一行一个整数 $N$。", "hint": "$1\\leq A,I\\leq 100$。", "locale": "zh-CN"}}}
{"pid": "P7773", "type": "P", "difficulty": 3, "samples": [["VIII", "VIII"], ["VI", "IV"], ["III", "III"], ["LI", "LI"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "字符串", "2009", "枚举", "其它技巧", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #2] RIMSKI", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T2 RIMSKI}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $50$。", "description": "给定一个罗马数字 $B$，把 $B$ 的字符重新排列，要求让排列后的数字最小。", "inputFormat": "一行一个罗马数字 $B$。", "outputFormat": "一行一个罗马数字，为你重排后能得到的最小的数字。", "hint": "$1\\leq B< 100$。\n\n注意，在本题中`I`如果在大数字之前，它只能在`V` 、`X`之前。输入遵循同样的规则。（这就是样例 $4$ 的输出为什么是 `LI` 而不是 `IL`。）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #2] RIMSKI", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T2 RIMSKI}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $50$。", "description": "给定一个罗马数字 $B$，把 $B$ 的字符重新排列，要求让排列后的数字最小。", "inputFormat": "一行一个罗马数字 $B$。", "outputFormat": "一行一个罗马数字，为你重排后能得到的最小的数字。", "hint": "$1\\leq B< 100$。\n\n注意，在本题中`I`如果在大数字之前，它只能在`V` 、`X`之前。输入遵循同样的规则。（这就是样例 $4$ 的输出为什么是 `LI` 而不是 `IL`。）", "locale": "zh-CN"}}}
{"pid": "P7774", "type": "P", "difficulty": 2, "samples": [["2 1\n30 70\n40", "YES"], ["1 1\n100\n60", "YES"], ["3 2\n10 20 30\n5 70", "NO\nYES"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "动态规划 DP", "2009", "枚举", "哈希 hashing", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #2] KUTEVI", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T3 KUTEVI}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $70$。", "description": "给定 $N$ 个角（第 $i$ 个角记作 $a_i$），作为初始角，另给定 $M$ 个角（第 $i$ 个角记作 $b_i$），作为目标角。\n\n请求出对于每个 $b_i$，它是否能被若干个 $a_i$ 之间的加、减运算得到。\n\n注意同一个 $a_i$ 可以用多次，也可以不用。", "inputFormat": "第一行两个正整数 $N,M$。\n\n第二行 $N$ 个正整数，第 $i$ 个数为 $a_i$。\n\n第三行 $M$ 个正整数，第 $i$ 个数为 $b_i$。", "outputFormat": "共 $M$ 行，在第 $i$ 行，如果 $b_i$ 能被若干个 $a_i$ 之间的加、减运算得到，输出`YES`，否则输出`NO`。", "hint": "### 样例解释\n\n样例 $1$ 解释：\n\n$70^\\circ-30^\\circ=40^\\circ$。\n\n样例 $2$ 解释：\n\n$15\\times100^\\circ=1500^\\circ=60^\\circ$。\n\n### 数据范围与约定\n\n$1\\leq N,M\\leq10$，$0<a_i,b_i< 360$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #2] KUTEVI", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T3 KUTEVI}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $70$。", "description": "给定 $N$ 个角（第 $i$ 个角记作 $a_i$），作为初始角，另给定 $M$ 个角（第 $i$ 个角记作 $b_i$），作为目标角。\n\n请求出对于每个 $b_i$，它是否能被若干个 $a_i$ 之间的加、减运算得到。\n\n注意同一个 $a_i$ 可以用多次，也可以不用。", "inputFormat": "第一行两个正整数 $N,M$。\n\n第二行 $N$ 个正整数，第 $i$ 个数为 $a_i$。\n\n第三行 $M$ 个正整数，第 $i$ 个数为 $b_i$。", "outputFormat": "共 $M$ 行，在第 $i$ 行，如果 $b_i$ 能被若干个 $a_i$ 之间的加、减运算得到，输出`YES`，否则输出`NO`。", "hint": "### 样例解释\n\n样例 $1$ 解释：\n\n$70^\\circ-30^\\circ=40^\\circ$。\n\n样例 $2$ 解释：\n\n$15\\times100^\\circ=1500^\\circ=60^\\circ$。\n\n### 数据范围与约定\n\n$1\\leq N,M\\leq10$，$0<a_i,b_i< 360$。", "locale": "zh-CN"}}}
{"pid": "P7775", "type": "P", "difficulty": 4, "samples": [["4 4\n+...\n....\n....\nV..J\n", "3"], ["4 5\n.....\n.+++.\n.+.+.\nV+.J+", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["图论", "2009", "二分", "广度优先搜索 BFS", "图遍历", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #2] VUK", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T4 VUK}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $100$。", "description": "一匹狼 Vjekoslav 正在逃离一批残暴的猎人的追捕。\n\n这些猎人非常凶残，经常躲在树后面，但 Vjekoslav 并不知道哪棵树后有猎人。为了保险，Vjekoslav 希望在逃回它舒适的窝的过程中离树越远越好。\n\n森林可以抽象为 $N\\times M$ 的矩阵。每个格子可能是空的（用`.`表示），也有可能有一棵树在中心位置（用`+`表示）。Vjekoslav在`V`标示的地方而它的窝在`J`标示的地方。定义 Vjekoslav 与某棵树的距离为它们所在格的曼哈顿距离（即这两个格子所在行、列之差的绝对值之和）。\n\nVjekoslav 每次可以往东南西北中的任一方向移动，**即使它下一步移动到的格子有树（此题树并不会阻挡 Vjekoslav）**。帮忙找出这样一条从`V`到`J`的路径，使得 Vjekoslav 在途中离它最近的树的距离的最小值最大。\n\n**注意 Vjekoslav 的窝并不占据整块格子，因此你的路径中必须包含`J`。**", "inputFormat": "第一行两个整数 $N,M$。\n\n接下来 $N$ 行每行 $M$ 个字符，描述这片森林。\n\n在这片森林的描述中，只会有一个`V`与一个`J`，且保证至少有一个`+`。", "outputFormat": "一行一个整数，Vjekoslav 在逃回窝的途中最大可能的离它最近的树的距离的最小值。", "hint": "$1\\leq N,M\\leq500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #2] VUK", "background": "本题为[$\\texttt{COCI 2009-2010}\\ 2^\\texttt{nd}\\ \\texttt{round}\\ \\text{T4 VUK}$](https://hsin.hr/coci/archive/2009_2010/contest2_tasks.pdf)。\n\n分值按原题设置，满分 $100$。", "description": "一匹狼 Vjekoslav 正在逃离一批残暴的猎人的追捕。\n\n这些猎人非常凶残，经常躲在树后面，但 Vjekoslav 并不知道哪棵树后有猎人。为了保险，Vjekoslav 希望在逃回它舒适的窝的过程中离树越远越好。\n\n森林可以抽象为 $N\\times M$ 的矩阵。每个格子可能是空的（用`.`表示），也有可能有一棵树在中心位置（用`+`表示）。Vjekoslav在`V`标示的地方而它的窝在`J`标示的地方。定义 Vjekoslav 与某棵树的距离为它们所在格的曼哈顿距离（即这两个格子所在行、列之差的绝对值之和）。\n\nVjekoslav 每次可以往东南西北中的任一方向移动，**即使它下一步移动到的格子有树（此题树并不会阻挡 Vjekoslav）**。帮忙找出这样一条从`V`到`J`的路径，使得 Vjekoslav 在途中离它最近的树的距离的最小值最大。\n\n**注意 Vjekoslav 的窝并不占据整块格子，因此你的路径中必须包含`J`。**", "inputFormat": "第一行两个整数 $N,M$。\n\n接下来 $N$ 行每行 $M$ 个字符，描述这片森林。\n\n在这片森林的描述中，只会有一个`V`与一个`J`，且保证至少有一个`+`。", "outputFormat": "一行一个整数，Vjekoslav 在逃回窝的途中最大可能的离它最近的树的距离的最小值。", "hint": "$1\\leq N,M\\leq500$。", "locale": "zh-CN"}}}
{"pid": "P7776", "type": "P", "difficulty": 6, "samples": [["3\n1 2 3\n4 5 6\n7 8 9", "0 998244335 998244338 1 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线性代数", "高斯消元", "模板题"], "title": "【模板】特征多项式", "background": "这是一道模板题。", "description": "给出 $n$ 和一个 $n\\times n$ 的矩阵 $A$，在模 $998244353$ 意义下求其特征多项式。", "inputFormat": "第一行一个正整数 $n$。\\\n接下来 $n$ 行每行 $n$ 个非负整数，表示矩阵 $A$。", "outputFormat": "输出一行 $n+1$ 个正整数，表示其特征多项式 $p_A(x)$ 从低到高的系数。", "hint": "对于一个 $n\\times n$ 的矩阵 $A$，设其特征多项式为 $p_A(x)$，满足\n$$p_A(x)=\\det(xI_n-A)$$\n其中，$I_n$ 为一个 $n\\times n$ 的单位矩阵。\n\n对于 $10\\%$ 的数据，$1\\le n\\le 5$；\\\n对于 $40\\%$ 的数据，$1\\le n\\le 50$；\\\n对于另外 $10\\%$ 的数据，$\\forall1\\le i\\le n,1\\le j\\le i-1,A_{i,j}=0$，即 $A$ 为上三角矩阵；\\\n对于另外 $20\\%$ 的数据，$\\forall1\\le i\\le n,1\\le j\\le i-2,A_{i,j}=0$，即 $A$ 为上海森堡矩阵；\\\n对于 $100\\%$ 的数据，$1\\le n\\le 500$，$A_{i,j}\\in[0,998244352]$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】特征多项式", "background": "这是一道模板题。", "description": "给出 $n$ 和一个 $n\\times n$ 的矩阵 $A$，在模 $998244353$ 意义下求其特征多项式。", "inputFormat": "第一行一个正整数 $n$。\\\n接下来 $n$ 行每行 $n$ 个非负整数，表示矩阵 $A$。", "outputFormat": "输出一行 $n+1$ 个正整数，表示其特征多项式 $p_A(x)$ 从低到高的系数。", "hint": "对于一个 $n\\times n$ 的矩阵 $A$，设其特征多项式为 $p_A(x)$，满足\n$$p_A(x)=\\det(xI_n-A)$$\n其中，$I_n$ 为一个 $n\\times n$ 的单位矩阵。\n\n对于 $10\\%$ 的数据，$1\\le n\\le 5$；\\\n对于 $40\\%$ 的数据，$1\\le n\\le 50$；\\\n对于另外 $10\\%$ 的数据，$\\forall1\\le i\\le n,1\\le j\\le i-1,A_{i,j}=0$，即 $A$ 为上三角矩阵；\\\n对于另外 $20\\%$ 的数据，$\\forall1\\le i\\le n,1\\le j\\le i-2,A_{i,j}=0$，即 $A$ 为上海森堡矩阵；\\\n对于 $100\\%$ 的数据，$1\\le n\\le 500$，$A_{i,j}\\in[0,998244352]$。", "locale": "zh-CN"}}}
{"pid": "P7777", "type": "P", "difficulty": 3, "samples": [["2\n5 2 3\n4 1 5", "8\n8"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "贪心"], "title": "『JROI-2』Shelter", "background": "And it's a long way forward        \nSo trust in me       \nI'll give them shelter like you've done for me       \nAnd I know, I'm not alone         \nYou'll be watching over us       \nUntil ...        \n\n一个小女孩斜躺在一个驾驶舱的椅子上，长发从肩膀上飘落到地上。     \n她的嘴角绽放出微笑，身旁的显示屏写着 “返回 第三行星”。       \n她怀里的泰迪熊身上写着她的名字，Rin。\n\n—— [Shelter](https://www.bilibili.com/video/BV1ys41147Gv)\n\n---\n\n", "description": "Rin 和爸爸还在地球上时，他们经常玩一个石子游戏。\n\n爸爸摆出了 $n$ 堆石子，这 $n$ 堆石子编号为 $1$ 到 $n$。\n\n游戏规则是这样的，每次 Rin 可以抓取石子，有两种抓取方式：\n\n- 选择一个数 $i$，把第 $i$ 堆石子抓取走，代价为 $i \\times p$。\n- 选择两个数 $i,j$，把第 $i$ 堆和第 $j$ 堆石子抓走，代价为 $|i-j| \\times q$。\n\n其中 $p,q$ 为爸爸提前定好的常数。\n\nRin 想知道，抓取完所有石子至少需要多少代价。\n\n还剩 1919810114514 秒第三行星的灾难就要降临了，爸爸还需要 1919810114513.7 秒的时间把 Rin 安放到驾驶舱里，并启动机器让 Rin 进入 “Shelter” 里，因此，你只有 0.3 秒的时间帮助 Rin 算出这个结果哦！", "inputFormat": "**本题多测**，第一行一个整数 $T$ 代表数据组数。     \n接下来 $t$ 行，每行三个整数 $n,p,q$ 代表石子堆数，和两个常数。", "outputFormat": "$T$ 行每行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n第一组数据：\n\n1. 利用第一个操作，拿走第 $1$ 堆石子，代价为 $1 \\times 2=2$。\n2. 利用第二个操作，拿走第 $2,3$ 堆石子，代价为 $|2-3| \\times 3=3$。\n3. 利用第二个操作，拿走第 $4,5$ 堆石子，代价为 $|4-5| \\times 3=3$。\n\n最小代价为 $2+3+3=8$。\n\n第二组数据：\n\n1. 利用第一个操作，拿走第 $1$ 堆石子，代价为 $1 \\times 1=1$。\n2. 利用第一个操作，拿走第 $2$ 堆石子，代价为 $2 \\times 1=2$。\n3. 利用第二个操作，拿走第 $3,4$ 堆石子，代价为 $|3-4| \\times 5=5$。\n\n最小代价为 $1+2+5=8$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（1 pts）：$p,q =0$。\n- Subtask 2（1 pts）：$n=1$。\n- Subtask 3（30 pts）：$T \\le 5 \\times 10^4$，$n \\le 5 \\times 10^5$。\n- Subtask 4（33 pts）：$T \\le 10^6$，$n \\le 5 \\times 10^5$。\n- Subtask 5（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^9$，$0 \\le p,q \\le 100$，$1 \\le T \\le 10^6$。\n\n附件中的 Extra Example 满足 $T=10^4$，可供调试使用。\n\n\n-----\nSource：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T1\n\nIdea&Sol：[一只书虫仔](/user/114914)\n\nStd&Data：[Tony2](/user/171288)\n\nRetest：[Cocoly1990](/user/183026)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『JROI-2』Shelter", "background": "And it's a long way forward        \nSo trust in me       \nI'll give them shelter like you've done for me       \nAnd I know, I'm not alone         \nYou'll be watching over us       \nUntil ...        \n\n一个小女孩斜躺在一个驾驶舱的椅子上，长发从肩膀上飘落到地上。     \n她的嘴角绽放出微笑，身旁的显示屏写着 “返回 第三行星”。       \n她怀里的泰迪熊身上写着她的名字，Rin。\n\n—— [Shelter](https://www.bilibili.com/video/BV1ys41147Gv)\n\n---\n\n", "description": "Rin 和爸爸还在地球上时，他们经常玩一个石子游戏。\n\n爸爸摆出了 $n$ 堆石子，这 $n$ 堆石子编号为 $1$ 到 $n$。\n\n游戏规则是这样的，每次 Rin 可以抓取石子，有两种抓取方式：\n\n- 选择一个数 $i$，把第 $i$ 堆石子抓取走，代价为 $i \\times p$。\n- 选择两个数 $i,j$，把第 $i$ 堆和第 $j$ 堆石子抓走，代价为 $|i-j| \\times q$。\n\n其中 $p,q$ 为爸爸提前定好的常数。\n\nRin 想知道，抓取完所有石子至少需要多少代价。\n\n还剩 1919810114514 秒第三行星的灾难就要降临了，爸爸还需要 1919810114513.7 秒的时间把 Rin 安放到驾驶舱里，并启动机器让 Rin 进入 “Shelter” 里，因此，你只有 0.3 秒的时间帮助 Rin 算出这个结果哦！", "inputFormat": "**本题多测**，第一行一个整数 $T$ 代表数据组数。     \n接下来 $t$ 行，每行三个整数 $n,p,q$ 代表石子堆数，和两个常数。", "outputFormat": "$T$ 行每行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n第一组数据：\n\n1. 利用第一个操作，拿走第 $1$ 堆石子，代价为 $1 \\times 2=2$。\n2. 利用第二个操作，拿走第 $2,3$ 堆石子，代价为 $|2-3| \\times 3=3$。\n3. 利用第二个操作，拿走第 $4,5$ 堆石子，代价为 $|4-5| \\times 3=3$。\n\n最小代价为 $2+3+3=8$。\n\n第二组数据：\n\n1. 利用第一个操作，拿走第 $1$ 堆石子，代价为 $1 \\times 1=1$。\n2. 利用第一个操作，拿走第 $2$ 堆石子，代价为 $2 \\times 1=2$。\n3. 利用第二个操作，拿走第 $3,4$ 堆石子，代价为 $|3-4| \\times 5=5$。\n\n最小代价为 $1+2+5=8$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（1 pts）：$p,q =0$。\n- Subtask 2（1 pts）：$n=1$。\n- Subtask 3（30 pts）：$T \\le 5 \\times 10^4$，$n \\le 5 \\times 10^5$。\n- Subtask 4（33 pts）：$T \\le 10^6$，$n \\le 5 \\times 10^5$。\n- Subtask 5（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^9$，$0 \\le p,q \\le 100$，$1 \\le T \\le 10^6$。\n\n附件中的 Extra Example 满足 $T=10^4$，可供调试使用。\n\n\n-----\nSource：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T1\n\nIdea&Sol：[一只书虫仔](/user/114914)\n\nStd&Data：[Tony2](/user/171288)\n\nRetest：[Cocoly1990](/user/183026)", "locale": "zh-CN"}}}
{"pid": "P7778", "type": "P", "difficulty": 3, "samples": [["8 2\n-7 7\n-11 5\n-3 4\n-5 3\n4 0\n0 -2\n5 -2\n13 2\n15 -2\n", "249561142\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["贪心", "计算几何", "2021", "O2优化"], "title": "『JROI-2』Dancing Line", "background": "> 若唤音乐随直线走动，那么你的双眸就是无穷。\n\nk 舔喜欢玩 Dancing Line。\n\nk 舔决定自己做一个 Dancing Line 关卡。", "description": "注：本题不考虑「迷宫」等线转向方式特殊，「足球」等传送线，「钢琴」等飞跃落地的情况。\n\n众所周知，Dancing Line 的路线是一条折线，每次点击会使线的前进方向**顺时针或逆时针旋转 $90^\\circ$**，且**任意相邻两次旋转方向不同**。\n\n比如下面是合法的路径（路径**不一定要随着平面直角坐标系的网格行走**）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zuh1rvxz.png)  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5gct7zuf.png)\n\n而下面是不合法的路径：\n\n旋转角度不为 $90^\\circ$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kg8d4571.png)  \n\n连续两次向左转弯：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6hfn6cxe.png)  \n\n显然不符合要求的路径：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/lm76sj88.png)\n\nk 舔将路线放进了二维坐标系内，并记下了路线的**起点**、**终点**和**拐弯点**的坐标（横纵坐标**均为整数**），放进文件里就离开了。\n\n等到 k 舔回来打开电脑时，发现他文件里的数据全部乱掉了，各点的坐标不再像之前那样按顺序存储好，而是按一种奇怪的顺序排列好了。\n\nk 舔想要根据这些数据来重新复原这条路线，他还想要估计这个关卡的难度，用 $s$ 来表示：\n\n$$s=\\sum\\limits_{i=1}^{n}{t_i^2},t_i=\\dfrac{d(P_{i-1},P_i)}{v}$$\n\n其中：\n\n- $P_i(0\\leq i\\leq n)$ 表示路线**复原后**从起点开始的第 $i$ 个点（起点为 $P_0$，终点为 $P_n$）。\n- $v$ 为线的速度，是一个给定的**正整数**。\n- $d(A,B)$ 表示点 $A$ 和点 $B$ 在坐标轴内的距离。\n\n你能帮助他吗？", "inputFormat": "第一行两个正整数 $n,v$，意义如上。\n\n接下来 $n+1$ 行，每行两个整数，表示**复原前**文件内各点的坐标。", "outputFormat": "一个数 $s$，意义如上，输出其对 $998244353$ 取模的结果。\n\n具体来讲，设其用最简分数的方式表示为 $\\dfrac{x}{y}$，你需要输出满足 $ys\\equiv x\\pmod{998244353}$ 的最小非负整数，在本题中你需要输出 $x\\times y^{998244351}\\bmod 998244353$。", "hint": "**样例解释**\n\n对于样例一，路线如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1a4dp2si.png)\n\n各段长度分别为 $2\\sqrt{5},2\\sqrt{5},\\sqrt{5},3\\sqrt{5},2\\sqrt{5},\\sqrt{5},4\\sqrt{5},2\\sqrt{5}$，$s$ 值为 $53\\dfrac{3}{4}$，取模后结果为 $249561142$。\n\n------------\n\n**数据范围与约定**\n\n本题采用**捆绑测试**。\n\n- Subtask 1（5 pts）：$n\\leq 6$。\n- Subtask 2（15 pts）：$n\\leq 80$。\n- Subtask 3（30 pts）：$n\\leq 800$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足：\n\n- $2\\leq n \\leq 10^6$。\n- $-10^9\\leq x_i,y_i\\leq 10^9$。\n- $1\\leq v\\leq 10^7$。\n- **保证所有点坐标各不相同**。\n- **保证给出的点一定能且只能复原出唯一的路径。**\n\n------------\n\n$d(A,B)=\\sqrt{(x_A-x_B)^2+(y_A-y_B)^2}$，其中 $A(x_A,y_A),B(x_B,y_B)$。\n\n-----\nSource：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T3\n\nIdea&Sol&Data：[kkk的小舔狗](/user/104581)\n\nStd&Retest：[Tony2](/user/171288)\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『JROI-2』Dancing Line", "background": "> 若唤音乐随直线走动，那么你的双眸就是无穷。\n\nk 舔喜欢玩 Dancing Line。\n\nk 舔决定自己做一个 Dancing Line 关卡。", "description": "注：本题不考虑「迷宫」等线转向方式特殊，「足球」等传送线，「钢琴」等飞跃落地的情况。\n\n众所周知，Dancing Line 的路线是一条折线，每次点击会使线的前进方向**顺时针或逆时针旋转 $90^\\circ$**，且**任意相邻两次旋转方向不同**。\n\n比如下面是合法的路径（路径**不一定要随着平面直角坐标系的网格行走**）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zuh1rvxz.png)  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5gct7zuf.png)\n\n而下面是不合法的路径：\n\n旋转角度不为 $90^\\circ$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kg8d4571.png)  \n\n连续两次向左转弯：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6hfn6cxe.png)  \n\n显然不符合要求的路径：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/lm76sj88.png)\n\nk 舔将路线放进了二维坐标系内，并记下了路线的**起点**、**终点**和**拐弯点**的坐标（横纵坐标**均为整数**），放进文件里就离开了。\n\n等到 k 舔回来打开电脑时，发现他文件里的数据全部乱掉了，各点的坐标不再像之前那样按顺序存储好，而是按一种奇怪的顺序排列好了。\n\nk 舔想要根据这些数据来重新复原这条路线，他还想要估计这个关卡的难度，用 $s$ 来表示：\n\n$$s=\\sum\\limits_{i=1}^{n}{t_i^2},t_i=\\dfrac{d(P_{i-1},P_i)}{v}$$\n\n其中：\n\n- $P_i(0\\leq i\\leq n)$ 表示路线**复原后**从起点开始的第 $i$ 个点（起点为 $P_0$，终点为 $P_n$）。\n- $v$ 为线的速度，是一个给定的**正整数**。\n- $d(A,B)$ 表示点 $A$ 和点 $B$ 在坐标轴内的距离。\n\n你能帮助他吗？", "inputFormat": "第一行两个正整数 $n,v$，意义如上。\n\n接下来 $n+1$ 行，每行两个整数，表示**复原前**文件内各点的坐标。", "outputFormat": "一个数 $s$，意义如上，输出其对 $998244353$ 取模的结果。\n\n具体来讲，设其用最简分数的方式表示为 $\\dfrac{x}{y}$，你需要输出满足 $ys\\equiv x\\pmod{998244353}$ 的最小非负整数，在本题中你需要输出 $x\\times y^{998244351}\\bmod 998244353$。", "hint": "**样例解释**\n\n对于样例一，路线如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1a4dp2si.png)\n\n各段长度分别为 $2\\sqrt{5},2\\sqrt{5},\\sqrt{5},3\\sqrt{5},2\\sqrt{5},\\sqrt{5},4\\sqrt{5},2\\sqrt{5}$，$s$ 值为 $53\\dfrac{3}{4}$，取模后结果为 $249561142$。\n\n------------\n\n**数据范围与约定**\n\n本题采用**捆绑测试**。\n\n- Subtask 1（5 pts）：$n\\leq 6$。\n- Subtask 2（15 pts）：$n\\leq 80$。\n- Subtask 3（30 pts）：$n\\leq 800$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足：\n\n- $2\\leq n \\leq 10^6$。\n- $-10^9\\leq x_i,y_i\\leq 10^9$。\n- $1\\leq v\\leq 10^7$。\n- **保证所有点坐标各不相同**。\n- **保证给出的点一定能且只能复原出唯一的路径。**\n\n------------\n\n$d(A,B)=\\sqrt{(x_A-x_B)^2+(y_A-y_B)^2}$，其中 $A(x_A,y_A),B(x_B,y_B)$。\n\n-----\nSource：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T3\n\nIdea&Sol&Data：[kkk的小舔狗](/user/104581)\n\nStd&Retest：[Tony2](/user/171288)\n\n\n", "locale": "zh-CN"}}}
{"pid": "P7779", "type": "P", "difficulty": 6, "samples": [["4\n10\n13\n16\n19\n", "1\n4\n5\n5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "数论", "不定方程"], "title": "『JROI-2 / Stoi2039』等你下课", "background": "![](bilibili:BV1hW411v7GC)", "description": "给定正整数 $d$，定义\n\n$$S_v=\\{(x,y):x,y \\in \\mathbb{Z_{\\ge 0}},x^2-dy^2=v\\}$$\n\n求：\n\n$$\\sum_{v=1}^{\\lfloor\\sqrt{d}\\rfloor}v[S_v \\neq \\varnothing]$$\n\n多组询问。", "inputFormat": "第一行一个正整数 $t$ 表示询问次数。\n\n接下来 $t$ 行，每行一个正整数 $d$ 表示一次询问。", "outputFormat": "对于每次询问输出一行一个整数表示答案。", "hint": "#### 样例解释\n\n- 对于 $d=10$，只有 $v=1$ 满足 $S_v \\neq \\varnothing$。\n- 对于 $d=13$，有 $v=1,3$ 满足 $S_v \\neq \\varnothing$。\n- 对于 $d=16$，有 $v=1,4$ 满足 $S_v \\neq \\varnothing$。\n- 对于 $d=19$，有 $v=1,4$ 满足 $S_v \\neq \\varnothing$。\n\n#### 数据范围\n\n- 对于 $30\\%$ 的数据，$t=1$，$1 \\le d \\le 70$。\n- 对于 $60\\%$ 的数据，$t=1$。\n- 对于 $100\\%$ 的数据，$1 \\le t \\le 4 \\times 10^3$，$1 \\le d \\le 2 \\times 10^6$。\n\n-----\nSource：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T4\n\nIdea&Sol&Std&Data：[VinstaG173](/user/59388)\n\nRetest：None", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『JROI-2 / Stoi2039』等你下课", "background": "![](bilibili:BV1hW411v7GC)", "description": "给定正整数 $d$，定义\n\n$$S_v=\\{(x,y):x,y \\in \\mathbb{Z_{\\ge 0}},x^2-dy^2=v\\}$$\n\n求：\n\n$$\\sum_{v=1}^{\\lfloor\\sqrt{d}\\rfloor}v[S_v \\neq \\varnothing]$$\n\n多组询问。", "inputFormat": "第一行一个正整数 $t$ 表示询问次数。\n\n接下来 $t$ 行，每行一个正整数 $d$ 表示一次询问。", "outputFormat": "对于每次询问输出一行一个整数表示答案。", "hint": "#### 样例解释\n\n- 对于 $d=10$，只有 $v=1$ 满足 $S_v \\neq \\varnothing$。\n- 对于 $d=13$，有 $v=1,3$ 满足 $S_v \\neq \\varnothing$。\n- 对于 $d=16$，有 $v=1,4$ 满足 $S_v \\neq \\varnothing$。\n- 对于 $d=19$，有 $v=1,4$ 满足 $S_v \\neq \\varnothing$。\n\n#### 数据范围\n\n- 对于 $30\\%$ 的数据，$t=1$，$1 \\le d \\le 70$。\n- 对于 $60\\%$ 的数据，$t=1$。\n- 对于 $100\\%$ 的数据，$1 \\le t \\le 4 \\times 10^3$，$1 \\le d \\le 2 \\times 10^6$。\n\n-----\nSource：[JROI-2 Summer Fun Round](https://www.luogu.com.cn/contest/30241) - T4\n\nIdea&Sol&Std&Data：[VinstaG173](/user/59388)\n\nRetest：None", "locale": "zh-CN"}}}
{"pid": "P7780", "type": "P", "difficulty": 3, "samples": [["5 5 2\n1 1\n2 1\n3 1\n4 1\n5 1", "25\n17\n11\n7\n5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "「MCOI-Zero / AC6-M01」Invasion of Gracemeria", "background": "我们的首都 Gracemeria 正在遭受不明势力袭击！\n\n空袭造成的破坏遍布全城。\n\n全机，立刻紧急升空迎击！\n\n---\n\n「Garuda 1，你可以起飞了。」\n\n……\n\n「Garuda 1，升空。Cerberus 队，跑道已经清空，你们准备好了就起飞。」\n\n「所有飞机升空后听从 AWACS 的命令。」\n\n「这不是演习。重复一遍，这不是演习！」\n\n……\n\n「这里是 AWACS Ghost Eye。」\n\n……\n\n「Garuda 1，你没僚机。」\n\n「让我看看……   \n　Shamrock。」\n \n「你也是单机一架，对吗？」\n\n「很好。   \n　从现在起你就是 Garuda 2 了。」\n \n「你好，这里是 Garuda 2。」\n\n「没时间自我介绍了，快。   \n　Garuda 1，加速，我会跟上。」\n\n「尽管给我命令就好。」\n\n「Garuda 队，你们已经可以同 Gracemeria 上空的敌军交战。」\n\n……\n\n**「May the Golden King smiles on us！！」**\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 01} \\\\\\Large\\text{Invasion Of Gracemeria}\\\\\\tiny -\\textit{ Through the Heart Of a Nation }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nd20pe59.png)", "description": "给定一个长度为 $n$ 的序列 $a$，初始都是 $0$，和一个正整数 $k$。\n\n现有 $q$ 次操作，每次操作给定 $i,v$，表示给序列 $a$ 的后缀 $a_{[i,n]}$ 加上 $v$。\n\n每次操作后，请你输出 **所有数在序列中出现次数的 $k$ 次方和** 对 $20051131$ 取模的结果。\n\n$20051131$ 是质数。", "inputFormat": "第一行三个整数 $n,q,k$。\n\n接下来 $q$ 行，每行两个整数，表示这次操作的 $i,v$。", "outputFormat": "$q$ 行，每行一个整数，表示这次操作之后所有数在序列中出现次数的 $k$ 次方和对 $20051131$ 取模的值。", "hint": "第一次操作后，有 $5$ 个 $1$，答案为 $5^2=25$。\n\n第二次操作后，有 $1$ 个 $1$ 和 $4$ 个 $2$，答案为 $1^2+4^2=17$。\n\n类似的，答案分别为 $1^2+1^2+3^2=11,1^2+1^2+1^2+2^2=7,5\\times 1^2=5$。\n\n---\n\n- Subtask 1（20 pts）：$n,q\\leq 2\\times 10^3$。\n- Subtask 2（40 pts）：$n\\leq 2\\times 10^3$。\n- Subtask 3（40 pts）：无特殊限制。\n\n对 $100\\%$ 的数据，保证 $1\\leq n,v,k\\leq 20051130$，$1\\leq q\\leq 5\\times 10^5$，$1\\leq i\\leq n$。\n\nidea：Sol1，solution：Sol1，code：Sol1，data：Sol1 & 斜揽残箫", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-Zero / AC6-M01」Invasion of Gracemeria", "background": "我们的首都 Gracemeria 正在遭受不明势力袭击！\n\n空袭造成的破坏遍布全城。\n\n全机，立刻紧急升空迎击！\n\n---\n\n「Garuda 1，你可以起飞了。」\n\n……\n\n「Garuda 1，升空。Cerberus 队，跑道已经清空，你们准备好了就起飞。」\n\n「所有飞机升空后听从 AWACS 的命令。」\n\n「这不是演习。重复一遍，这不是演习！」\n\n……\n\n「这里是 AWACS Ghost Eye。」\n\n……\n\n「Garuda 1，你没僚机。」\n\n「让我看看……   \n　Shamrock。」\n \n「你也是单机一架，对吗？」\n\n「很好。   \n　从现在起你就是 Garuda 2 了。」\n \n「你好，这里是 Garuda 2。」\n\n「没时间自我介绍了，快。   \n　Garuda 1，加速，我会跟上。」\n\n「尽管给我命令就好。」\n\n「Garuda 队，你们已经可以同 Gracemeria 上空的敌军交战。」\n\n……\n\n**「May the Golden King smiles on us！！」**\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 01} \\\\\\Large\\text{Invasion Of Gracemeria}\\\\\\tiny -\\textit{ Through the Heart Of a Nation }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nd20pe59.png)", "description": "给定一个长度为 $n$ 的序列 $a$，初始都是 $0$，和一个正整数 $k$。\n\n现有 $q$ 次操作，每次操作给定 $i,v$，表示给序列 $a$ 的后缀 $a_{[i,n]}$ 加上 $v$。\n\n每次操作后，请你输出 **所有数在序列中出现次数的 $k$ 次方和** 对 $20051131$ 取模的结果。\n\n$20051131$ 是质数。", "inputFormat": "第一行三个整数 $n,q,k$。\n\n接下来 $q$ 行，每行两个整数，表示这次操作的 $i,v$。", "outputFormat": "$q$ 行，每行一个整数，表示这次操作之后所有数在序列中出现次数的 $k$ 次方和对 $20051131$ 取模的值。", "hint": "第一次操作后，有 $5$ 个 $1$，答案为 $5^2=25$。\n\n第二次操作后，有 $1$ 个 $1$ 和 $4$ 个 $2$，答案为 $1^2+4^2=17$。\n\n类似的，答案分别为 $1^2+1^2+3^2=11,1^2+1^2+1^2+2^2=7,5\\times 1^2=5$。\n\n---\n\n- Subtask 1（20 pts）：$n,q\\leq 2\\times 10^3$。\n- Subtask 2（40 pts）：$n\\leq 2\\times 10^3$。\n- Subtask 3（40 pts）：无特殊限制。\n\n对 $100\\%$ 的数据，保证 $1\\leq n,v,k\\leq 20051130$，$1\\leq q\\leq 5\\times 10^5$，$1\\leq i\\leq n$。\n\nidea：Sol1，solution：Sol1，code：Sol1，data：Sol1 & 斜揽残箫", "locale": "zh-CN"}}}
{"pid": "P7781", "type": "P", "difficulty": 6, "samples": [["3\n1 2 3", "0\n1\n14"], ["8\n3 2 4 1 6 8 7 5", "16\n39\n132\n476\n2842\n21137\n172002\n1427424"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["递推", "树状数组", "O2优化", "组合数学", "排列组合"], "title": "「MCOI-Zero / AC6-M07」Selumna Peak", "background": "「Now that's what I call squadron！」\n\n「Come on, it's payback time.」\n\n**「Gracemeria is dead ahead！！」**\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 07} \\\\\\Large\\text{Selumna Peak}\\\\\\tiny-\\textit{ Shimmering Death }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/owa6qtg4.png)", "description": "给定 $1\\sim n$ 的排列 $a_{[1,n]}$。\n\n请对于每一个 $i$，考虑如下操作序列：\n\n1. 首先在 $[1,i]$ 中选取一个子序列（可以为空）；\n2. 然后将这个子序列内的数重新排列。\n\n求出 **所有不同的操作序列产生的排列** 的逆序对数总和是多少，答案模 $20051131$。\n\n两个操作序列不同当且仅当选取的子序列不同或重新排列的方式不同。\n\n操作不会真正被执行到排列上。", "inputFormat": "第一行一个整数 $n$。\n\n接下来一行 $n$ 个数，表示排列 $a$。", "outputFormat": "$n$ 行，每行一个数，表示对于前缀 $[1,i]$ 所有不同的操作序列产生的排列的逆序对数总和模 $20051131$ 的值。", "hint": "样例 1 解释：\n\n- 对于 $[1,1]$，无法产生逆序对，答案为 $0$。\n- 对于 $[1,2]$，只有一种操作序列可以产生 $2,1,3$，答案为 $1$。\n- 对于 $[1,3]$：\n\t- 有 $8$ 种操作序列产生 $1,2,3$；\n   - 有 $2$ 种操作序列产生 $1,3,2$；\n   - 有 $2$ 种操作序列产生 $2,1,3$；\n   - 有 $1$ 种操作序列产生 $2,3,1$；\n   - 有 $1$ 种操作序列产生 $3,1,2$；\n   - 有 $2$ 种操作序列产生 $3,2,1$；\n- 答案为 $0\\times 8+1\\times 2+1\\times 2+2\\times 1+2\\times 1+2\\times 3=14$。\n\n样例 2 解释：\n\n- 对于 $i=1$，只有两种操作序列，产生的排列都有 $8$ 个逆序对，故答案是 $16$。\n- 对于 $i=2$，有 $4$ 种操作序列产生 $3, 2, 4, 1, 6, 8, 7, 5$，有 $1$ 种操作序列产生 $2,3,4,1,6,8,7,5$，答案为 $8\\times 4+7\\times 1=39$。\n\n数据范围：\n\n- Subtask 1（10%）：$n\\leq 8$。\n- Subtask 2（20%）：$n\\leq 50$。\n- Subtask 3（20%）：$n\\leq 300$。\n- Subtask 4（20%）：$n\\leq 3\\times 10^3$。\n- Subtask 5（30%）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^6$。\n\nidea：Sol1，solution：Sol1，code：Sol1，data：Sol1", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-Zero / AC6-M07」Selumna Peak", "background": "「Now that's what I call squadron！」\n\n「Come on, it's payback time.」\n\n**「Gracemeria is dead ahead！！」**\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 07} \\\\\\Large\\text{Selumna Peak}\\\\\\tiny-\\textit{ Shimmering Death }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/owa6qtg4.png)", "description": "给定 $1\\sim n$ 的排列 $a_{[1,n]}$。\n\n请对于每一个 $i$，考虑如下操作序列：\n\n1. 首先在 $[1,i]$ 中选取一个子序列（可以为空）；\n2. 然后将这个子序列内的数重新排列。\n\n求出 **所有不同的操作序列产生的排列** 的逆序对数总和是多少，答案模 $20051131$。\n\n两个操作序列不同当且仅当选取的子序列不同或重新排列的方式不同。\n\n操作不会真正被执行到排列上。", "inputFormat": "第一行一个整数 $n$。\n\n接下来一行 $n$ 个数，表示排列 $a$。", "outputFormat": "$n$ 行，每行一个数，表示对于前缀 $[1,i]$ 所有不同的操作序列产生的排列的逆序对数总和模 $20051131$ 的值。", "hint": "样例 1 解释：\n\n- 对于 $[1,1]$，无法产生逆序对，答案为 $0$。\n- 对于 $[1,2]$，只有一种操作序列可以产生 $2,1,3$，答案为 $1$。\n- 对于 $[1,3]$：\n\t- 有 $8$ 种操作序列产生 $1,2,3$；\n   - 有 $2$ 种操作序列产生 $1,3,2$；\n   - 有 $2$ 种操作序列产生 $2,1,3$；\n   - 有 $1$ 种操作序列产生 $2,3,1$；\n   - 有 $1$ 种操作序列产生 $3,1,2$；\n   - 有 $2$ 种操作序列产生 $3,2,1$；\n- 答案为 $0\\times 8+1\\times 2+1\\times 2+2\\times 1+2\\times 1+2\\times 3=14$。\n\n样例 2 解释：\n\n- 对于 $i=1$，只有两种操作序列，产生的排列都有 $8$ 个逆序对，故答案是 $16$。\n- 对于 $i=2$，有 $4$ 种操作序列产生 $3, 2, 4, 1, 6, 8, 7, 5$，有 $1$ 种操作序列产生 $2,3,4,1,6,8,7,5$，答案为 $8\\times 4+7\\times 1=39$。\n\n数据范围：\n\n- Subtask 1（10%）：$n\\leq 8$。\n- Subtask 2（20%）：$n\\leq 50$。\n- Subtask 3（20%）：$n\\leq 300$。\n- Subtask 4（20%）：$n\\leq 3\\times 10^3$。\n- Subtask 5（30%）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^6$。\n\nidea：Sol1，solution：Sol1，code：Sol1，data：Sol1", "locale": "zh-CN"}}}
{"pid": "P7782", "type": "P", "difficulty": 6, "samples": [["5 1 3\n1 1 2 2", "7\n9\n4\n4\n4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["O2优化"], "title": "「MCOI-Zero / AC6-M03」 Sipli Field", "background": "You've been ordered to start the mission now. \n\nThe interception op was a success, enemy air units around Khesed have been weakened, and the Republic of Emmeria's military has taken advantage of this prime opportunity to initiate a counterattack operation with all forces participating. \n\nEnemy forces have established a wide-scale defensive line around Sipli Field, consisting largely of tank battalions.\n\nOur ground forces are set up to cross the river and penetrate it, and eventually gain control of Khesed. \n\nGaruda Team, we need you to support our advancing ground units, and eliminate all enemy forces. Multiple units will be simultaneously carrying out various operations on the ground. \n\nPay attention to the airspace above each operation area, and provide support as needed. \n\nThis must be the first time you've ever participated in a mission of this scale. \n\nThe battle simulator is a good way to get some practical experience under your belt. \n\nGodspeed.\n\n\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 03} \\\\\\Large\\text{Sipli Field}\\\\\\tiny -\\textit{ Fortunes of War\n }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/az0t8iij.png)", "description": "给定一个 $n$ 个点的树，和两个常数 $L,R$。\n\n请对于每一个点 $u$ 求出有多少条路径过 $u$ 且长度 $d\\in [L,R]$。", "inputFormat": "第一行三个整数 $n,L,R$。\n\n接下来 $n-1$ 个整数，第 $i$ 个整数 $f_i$ 代表存在一条 $f_i\\leftrightarrow i+1$ 的双向边。", "outputFormat": "$n$ 行，每行一个整数，表示对应点的答案。", "hint": "样例 1 解释：\n\n- 过 1 的路径：1-2, 1-3, 1-4, 1-5, 2-3, 4-3, 5-3\n- 过 2 的路径：2-1, 2-3, 2-4, 2-5, 1-4, 1-5, 3-4, 3-5, 4-5\n- 过 3 的路径：3-1, 3-2, 3-4, 3-5\n- 过 4 的路径：4-1, 4-2, 4-3, 4-5\n- 过 5 的路径：5-1, 5-2, 5-3, 5-4\n\n---\n\n- Subtask 1（3 pts）：$R=1$。\n- Subtask 2（7 pts）：$R\\leq 2$。\n- Subtask 3（10 pts）：$n\\leq 100$。\n- Subtask 4（10 pts）：$n\\leq 2\\times 10^3$。\n- Subtask 5（15 pts）：$n\\leq 10^5,L=1,R=n$。\n- Subtask 6（15 pts）：$n\\leq 10^5,L=R$。\n- Subtask 7（20 pts）：$n\\leq 10^5$。\n- Subtask 8（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 10^6$，$1\\leq L\\leq R\\leq n$。\n\nidea：\\_Solowing\\_ClCN，solution：\\_Solowing\\_ClCN，code：\\_Solowing\\_ClCN，data：\\_Solowing\\_ClCN", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-Zero / AC6-M03」 Sipli Field", "background": "You've been ordered to start the mission now. \n\nThe interception op was a success, enemy air units around Khesed have been weakened, and the Republic of Emmeria's military has taken advantage of this prime opportunity to initiate a counterattack operation with all forces participating. \n\nEnemy forces have established a wide-scale defensive line around Sipli Field, consisting largely of tank battalions.\n\nOur ground forces are set up to cross the river and penetrate it, and eventually gain control of Khesed. \n\nGaruda Team, we need you to support our advancing ground units, and eliminate all enemy forces. Multiple units will be simultaneously carrying out various operations on the ground. \n\nPay attention to the airspace above each operation area, and provide support as needed. \n\nThis must be the first time you've ever participated in a mission of this scale. \n\nThe battle simulator is a good way to get some practical experience under your belt. \n\nGodspeed.\n\n\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 03} \\\\\\Large\\text{Sipli Field}\\\\\\tiny -\\textit{ Fortunes of War\n }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/az0t8iij.png)", "description": "给定一个 $n$ 个点的树，和两个常数 $L,R$。\n\n请对于每一个点 $u$ 求出有多少条路径过 $u$ 且长度 $d\\in [L,R]$。", "inputFormat": "第一行三个整数 $n,L,R$。\n\n接下来 $n-1$ 个整数，第 $i$ 个整数 $f_i$ 代表存在一条 $f_i\\leftrightarrow i+1$ 的双向边。", "outputFormat": "$n$ 行，每行一个整数，表示对应点的答案。", "hint": "样例 1 解释：\n\n- 过 1 的路径：1-2, 1-3, 1-4, 1-5, 2-3, 4-3, 5-3\n- 过 2 的路径：2-1, 2-3, 2-4, 2-5, 1-4, 1-5, 3-4, 3-5, 4-5\n- 过 3 的路径：3-1, 3-2, 3-4, 3-5\n- 过 4 的路径：4-1, 4-2, 4-3, 4-5\n- 过 5 的路径：5-1, 5-2, 5-3, 5-4\n\n---\n\n- Subtask 1（3 pts）：$R=1$。\n- Subtask 2（7 pts）：$R\\leq 2$。\n- Subtask 3（10 pts）：$n\\leq 100$。\n- Subtask 4（10 pts）：$n\\leq 2\\times 10^3$。\n- Subtask 5（15 pts）：$n\\leq 10^5,L=1,R=n$。\n- Subtask 6（15 pts）：$n\\leq 10^5,L=R$。\n- Subtask 7（20 pts）：$n\\leq 10^5$。\n- Subtask 8（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 10^6$，$1\\leq L\\leq R\\leq n$。\n\nidea：\\_Solowing\\_ClCN，solution：\\_Solowing\\_ClCN，code：\\_Solowing\\_ClCN，data：\\_Solowing\\_ClCN", "locale": "zh-CN"}}}
{"pid": "P7783", "type": "P", "difficulty": 7, "samples": [["10 4 2\n1010\n0110\n0101\n0000\n1011\n0111\n1110\n1011\n0001\n1100\n1 10 6\n2 5 3", "2\n2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "「MCOI-Zero / AC6-M14」Gracemeria Patrol", "background": "「Talisman，一会你能不能和 Avalanche 一起出去而不是我？」\n\n「我今晚想一个人静静。」\n\n「我的妻女都死了。   \n　刚刚确认的……」\n \n 「我保护了我的国家，   \n　但我却守护不了我的家庭。」\n \n  「什么样的王牌   \n　连自己的家庭都保护不了？」\n \n 「Monica……   \n　还有 Jessica……」\n \n**「How could I let this happen！！」**\n\n 「这个任务结束之后，   \n　我将离开空军。」\n \n  「我受够了。   \n　我没有继续飞行的理由了。」\n \n ……\n\n「一个不明物体正在高速飞行   \n　在东北方。」\n\n「这是战机？在这个时候？！」\n\n「在雷达上确认未知物体，   \n　这不是战机，它的速度太快了！」\n\n「未知物体在雷达上消失了。   \n　等一下……」\n\n「一些物体在相同的方向上飞行。我认为这是……」\n\n「我看到了，这些是导弹！」\n\n「Ghost Eye，   \n　我们遭到巡航导弹袭击了！」\n\n「全机，拦截那些巡航导弹！   \n　保护我们的城市！」\n\n……\n\n「资料检查……   \n　增援的隐形飞机正在接近。」\n\n「这些人不懂得放弃吗？」\n\n『我们为了你而回来了，Emmeria！』\n\n「这些人到底是怎么了？还觉得死的人不够多吗？！」\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 14} \\\\\\Large\\text{Gracemeria Patrol}\\\\\\tiny -\\textit{ City Lights }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g0d60mgz.png)", "description": "给定一个 $n\\times m$ 的 01 矩阵，每一次操作可以改变一个位置以及其上面、左边、右边的值。如果原值是 $0$，则改变之后变成 $1$；否则变成 $0$。\n\n例如下面矩阵在改变中括号表明的位置之后的形态：\n\n$$\\begin{bmatrix}0&1&0&1&1\\\\1&0&[0]&1&0\\\\0&0&0&0&1\\end{bmatrix}\\rightarrow \\begin{bmatrix}0&1&1&1&1\\\\1&1&1&0&0\\\\0&0&0&0&1\\end{bmatrix}$$\n\n**特别的，如果操作点在边界上，那么仅改变未超出边界的部分。**\n\n现给定 $q$ 组询问，每组询问一个区间 $[l,r]$ 和一个常数 $k$，请你对行号在 $l,r$ 内的 01 子矩阵求出通过选出一些位置进行一次操作使其变为全 $0$ 的方案中，第 $k$ 行被操作了几次。\n\n特别的，如果没有或者有多种选择操作位置的方法，输出 $-1$。\n\n询问之间相互独立。", "inputFormat": "第一行三个整数 $n,m,q$。\n\n接下来 $n$ 行，每行 $m$ 个字符，给出 01 矩阵。\n\n接下来 $q$ 行，每行三个整数表示询问的 $l,r,k$。", "outputFormat": "$q$ 行，每行一个整数表示对应询问的答案。", "hint": "- Subtask 1（10 pts）：$n,m\\leq 3,q\\leq 10$。\n- Subtask 2（20 pts）：$n,m,q\\leq 10$。\n- Subtask 3（20 pts）：$n,q\\leq 50,m\\leq 10$。\n- Subtask 4（20 pts）：$n,q\\leq 10^4,m\\leq 10$。\n- Subtask 5（30 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 5\\times 10^4$，$1\\leq m\\leq 50$，$1\\leq q\\leq 5\\times 10^5$，$1\\leq l\\leq k\\leq r\\leq n$。\n\nidea：Sol1，solution：Sol1 & ethan\\_zhou，code：Sol1，data：Sol1\n\n---\n\n 「Talisman……」\n\n 「一个天使不会交出它的翅膀除非   \n　跳完最后一支舞，对不对？」", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-Zero / AC6-M14」Gracemeria Patrol", "background": "「Talisman，一会你能不能和 Avalanche 一起出去而不是我？」\n\n「我今晚想一个人静静。」\n\n「我的妻女都死了。   \n　刚刚确认的……」\n \n 「我保护了我的国家，   \n　但我却守护不了我的家庭。」\n \n  「什么样的王牌   \n　连自己的家庭都保护不了？」\n \n 「Monica……   \n　还有 Jessica……」\n \n**「How could I let this happen！！」**\n\n 「这个任务结束之后，   \n　我将离开空军。」\n \n  「我受够了。   \n　我没有继续飞行的理由了。」\n \n ……\n\n「一个不明物体正在高速飞行   \n　在东北方。」\n\n「这是战机？在这个时候？！」\n\n「在雷达上确认未知物体，   \n　这不是战机，它的速度太快了！」\n\n「未知物体在雷达上消失了。   \n　等一下……」\n\n「一些物体在相同的方向上飞行。我认为这是……」\n\n「我看到了，这些是导弹！」\n\n「Ghost Eye，   \n　我们遭到巡航导弹袭击了！」\n\n「全机，拦截那些巡航导弹！   \n　保护我们的城市！」\n\n……\n\n「资料检查……   \n　增援的隐形飞机正在接近。」\n\n「这些人不懂得放弃吗？」\n\n『我们为了你而回来了，Emmeria！』\n\n「这些人到底是怎么了？还觉得死的人不够多吗？！」\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 14} \\\\\\Large\\text{Gracemeria Patrol}\\\\\\tiny -\\textit{ City Lights }-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g0d60mgz.png)", "description": "给定一个 $n\\times m$ 的 01 矩阵，每一次操作可以改变一个位置以及其上面、左边、右边的值。如果原值是 $0$，则改变之后变成 $1$；否则变成 $0$。\n\n例如下面矩阵在改变中括号表明的位置之后的形态：\n\n$$\\begin{bmatrix}0&1&0&1&1\\\\1&0&[0]&1&0\\\\0&0&0&0&1\\end{bmatrix}\\rightarrow \\begin{bmatrix}0&1&1&1&1\\\\1&1&1&0&0\\\\0&0&0&0&1\\end{bmatrix}$$\n\n**特别的，如果操作点在边界上，那么仅改变未超出边界的部分。**\n\n现给定 $q$ 组询问，每组询问一个区间 $[l,r]$ 和一个常数 $k$，请你对行号在 $l,r$ 内的 01 子矩阵求出通过选出一些位置进行一次操作使其变为全 $0$ 的方案中，第 $k$ 行被操作了几次。\n\n特别的，如果没有或者有多种选择操作位置的方法，输出 $-1$。\n\n询问之间相互独立。", "inputFormat": "第一行三个整数 $n,m,q$。\n\n接下来 $n$ 行，每行 $m$ 个字符，给出 01 矩阵。\n\n接下来 $q$ 行，每行三个整数表示询问的 $l,r,k$。", "outputFormat": "$q$ 行，每行一个整数表示对应询问的答案。", "hint": "- Subtask 1（10 pts）：$n,m\\leq 3,q\\leq 10$。\n- Subtask 2（20 pts）：$n,m,q\\leq 10$。\n- Subtask 3（20 pts）：$n,q\\leq 50,m\\leq 10$。\n- Subtask 4（20 pts）：$n,q\\leq 10^4,m\\leq 10$。\n- Subtask 5（30 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 5\\times 10^4$，$1\\leq m\\leq 50$，$1\\leq q\\leq 5\\times 10^5$，$1\\leq l\\leq k\\leq r\\leq n$。\n\nidea：Sol1，solution：Sol1 & ethan\\_zhou，code：Sol1，data：Sol1\n\n---\n\n 「Talisman……」\n\n 「一个天使不会交出它的翅膀除非   \n　跳完最后一支舞，对不对？」", "locale": "zh-CN"}}}
{"pid": "P7784", "type": "P", "difficulty": 2, "samples": [["5 6", "10\n1 9 9 9 9 10\n1 2 3 4 4 10\n1 2 3 5 5 5\n1 2 6 6 6 8\n7 7 7 7 7 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["Special Judge"], "title": "「MCOI-Zero / AC6-M15」 Chandelier", "background": "「不，还没完……」\n\n「什么！？」\n\n「炮管打开了。   \n　那个丑陋的东西开始通过炮管散热了！」\n\n「它的关键区域就在炮管后面。」\n\n「Talisman……   \n　……我们可以信任你，对吗？」\n \n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 15} \\\\\\Large\\text{Chandelier}\\\\\\tiny -\\textit{ To All Things }\n-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w6wqsh2b.png)", "description": "Chandelier 的核心可以被描述为一个 $n\\times m$ 的矩阵。初始时，矩阵中的每一个格子都是一个独立的空间。\n\n如果在核心中存在两个空间使得它们在矩阵上的并是一个矩形，则这两个空间可以合并为一个空间，合并出的空间就是原先两个空间的并。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jkzu2t0u.png)\n\n如果不存在任何两个空间的并是矩形，则我们称核心达到了稳定状态。\n\n如果一个空间的长达到了 $n$ 或者宽达到了 $m$，那么核心将会短路，引发爆炸。**注意这里空间的长指的是和原矩阵的长为 $n$ 的边平行的边的长度，宽类似。也就是说如果平行于 原矩形的长为 $n$ 的边 的边长达到了 $m$ 且 $m<n$，那么这是合法的。**\n\n核心达到了稳定状态后，你才能攻击并摧毁它，需要的攻击次数就是剩下的空间数。\n\n你剩下的弹药不多了，所以只能攻击 $10$ 次。\n\n你需要合理地控制空间的合并，使得核心在不短路的情况下达到稳定状态，且需要的攻击次数 $\\leq 10$。\n\n求出一种可能合并出来的形态。如果核心无法在不短路的情况下达到稳定或者无法合并为 $\\leq 10$ 个空间，输出 $-1$。", "inputFormat": "一行用空格分割的两个整数 $n,m$。", "outputFormat": "如果无解，输出一行 `-1`。\n\n如果有解，在第一行输出一个整数 $x$，表示空间数量。\n\n然后输出一个 $n\\times m$ 的矩阵 $a$，满足 $1\\leq a_{i,j}\\leq x$。$a_{i,j}$ 表示 $(i,j)$ 属于哪一个空间。相同的数代表相同的空间，不同的数代表不同的空间。\n\n如果有多解，输出任意一个即可。", "hint": "- Subtask 1（20 pts）：$n,m\\leq 2$。\n- Subtask 2（40 pts）：$n,m\\leq 4$。\n- Subtask 3（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,m\\leq 10^{3}$。\n\nidea：Sol1，solution：Sol1，code：Sol1，data：Sol1\n\n---\n\n「我看见大炮终于完了……」\n\n「全机注意，   \n　战争结束了。」\n\n……\n\n「Talisman 看，太阳升起来了。」\n\n「尽管黑夜是如此漫长，但终将迎来黎明的曙光。」\n\n「我们失去的战友，都把他们的生命之火   \n　献给了破晓之光。」\n\n「我们尽最大努力存活——   \n　就是对他们的最好悼念。」\n\n「现在，来吧。」\n\n「让我们回家吧。」\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-Zero / AC6-M15」 Chandelier", "background": "「不，还没完……」\n\n「什么！？」\n\n「炮管打开了。   \n　那个丑陋的东西开始通过炮管散热了！」\n\n「它的关键区域就在炮管后面。」\n\n「Talisman……   \n　……我们可以信任你，对吗？」\n \n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 15} \\\\\\Large\\text{Chandelier}\\\\\\tiny -\\textit{ To All Things }\n-$$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w6wqsh2b.png)", "description": "Chandelier 的核心可以被描述为一个 $n\\times m$ 的矩阵。初始时，矩阵中的每一个格子都是一个独立的空间。\n\n如果在核心中存在两个空间使得它们在矩阵上的并是一个矩形，则这两个空间可以合并为一个空间，合并出的空间就是原先两个空间的并。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jkzu2t0u.png)\n\n如果不存在任何两个空间的并是矩形，则我们称核心达到了稳定状态。\n\n如果一个空间的长达到了 $n$ 或者宽达到了 $m$，那么核心将会短路，引发爆炸。**注意这里空间的长指的是和原矩阵的长为 $n$ 的边平行的边的长度，宽类似。也就是说如果平行于 原矩形的长为 $n$ 的边 的边长达到了 $m$ 且 $m<n$，那么这是合法的。**\n\n核心达到了稳定状态后，你才能攻击并摧毁它，需要的攻击次数就是剩下的空间数。\n\n你剩下的弹药不多了，所以只能攻击 $10$ 次。\n\n你需要合理地控制空间的合并，使得核心在不短路的情况下达到稳定状态，且需要的攻击次数 $\\leq 10$。\n\n求出一种可能合并出来的形态。如果核心无法在不短路的情况下达到稳定或者无法合并为 $\\leq 10$ 个空间，输出 $-1$。", "inputFormat": "一行用空格分割的两个整数 $n,m$。", "outputFormat": "如果无解，输出一行 `-1`。\n\n如果有解，在第一行输出一个整数 $x$，表示空间数量。\n\n然后输出一个 $n\\times m$ 的矩阵 $a$，满足 $1\\leq a_{i,j}\\leq x$。$a_{i,j}$ 表示 $(i,j)$ 属于哪一个空间。相同的数代表相同的空间，不同的数代表不同的空间。\n\n如果有多解，输出任意一个即可。", "hint": "- Subtask 1（20 pts）：$n,m\\leq 2$。\n- Subtask 2（40 pts）：$n,m\\leq 4$。\n- Subtask 3（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,m\\leq 10^{3}$。\n\nidea：Sol1，solution：Sol1，code：Sol1，data：Sol1\n\n---\n\n「我看见大炮终于完了……」\n\n「全机注意，   \n　战争结束了。」\n\n……\n\n「Talisman 看，太阳升起来了。」\n\n「尽管黑夜是如此漫长，但终将迎来黎明的曙光。」\n\n「我们失去的战友，都把他们的生命之火   \n　献给了破晓之光。」\n\n「我们尽最大努力存活——   \n　就是对他们的最好悼念。」\n\n「现在，来吧。」\n\n「让我们回家吧。」\n\n", "locale": "zh-CN"}}}
{"pid": "P7785", "type": "P", "difficulty": 2, "samples": [["5\n1 1 4 8 1 ", "2"], ["5\n8 5 3 4 10", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #6] Hindeks", "background": "", "description": "给出一个数列，请你求出一个最大的整数 $H$，使原数列中至少有 $H$ 个数 $\\ge H$。", "inputFormat": "第一行，一个正整数 $N$，表示数列中数的个数；\n\n第二行，$N$ 个整数 $A_i$，表示数列中的数。", "outputFormat": "一行，一个整数 $H$，表示符合条件的最大整数。", "hint": "**【样例解释 #1】**\n\n比 $2$ 大的数有 $2$ 个，分别是 $4$ 和 $8$。\n\n**【样例解释 #2】**\n\n比 $4$ 大的数有 $4$ 个，分别是 $8$，$5$，$4$ 和 $10$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 5\\times 10^5$，$0\\le A_i\\le 1\\times 10^6$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T1 HINDEKS**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #6] Hindeks", "background": "", "description": "给出一个数列，请你求出一个最大的整数 $H$，使原数列中至少有 $H$ 个数 $\\ge H$。", "inputFormat": "第一行，一个正整数 $N$，表示数列中数的个数；\n\n第二行，$N$ 个整数 $A_i$，表示数列中的数。", "outputFormat": "一行，一个整数 $H$，表示符合条件的最大整数。", "hint": "**【样例解释 #1】**\n\n比 $2$ 大的数有 $2$ 个，分别是 $4$ 和 $8$。\n\n**【样例解释 #2】**\n\n比 $4$ 大的数有 $4$ 个，分别是 $8$，$5$，$4$ 和 $10$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 5\\times 10^5$，$0\\le A_i\\le 1\\times 10^6$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T1 HINDEKS**_", "locale": "zh-CN"}}}
{"pid": "P7786", "type": "P", "difficulty": 2, "samples": [["4 1\n1 0 1 1 ", "1"], ["5 2\n1 0 0 0 1", "1"], ["8 2\n1 1 0 0 1 0 0 1", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #6] Telefoni", "background": null, "description": "一个办公室有 $N$ 张桌子从左至右排列，有些桌子上放了电话。\n\n当第 $j$ 个桌子上的电话响了后，第 $i$ 个桌子上的电话也会响，当且仅当 $|j-i|\\le D$。\n\n现在给出电话的摆放情况，请你求出最小需要添加几个电话，能使最后一个桌子上的电话响起。\n\n保证第一张桌子和最后一张桌子有电话放置。", "inputFormat": "第一行包含两个正整数 $N$ 和 $D$，分别表示桌子个数和最大距离。\n\n第二行包含 $N$ 个整数 $A_i$。如果 $A_i=1$，那么表示这个桌子上有电话，如果 $A_i=0$，则表示没有。", "outputFormat": "一行，一个整数，表示最小需要添加电话个数。", "hint": "**【样例解释 #1】**\n\n在 $2$ 号桌子上添加一个电话，即可使 $4$ 号桌子上的电话响起。\n\n**【样例解释 #2】**\n\n在 $3$ 号桌子上添加一个电话，即可使 $5$ 号桌子上的电话响起。\n\n**【样例解释 #3】**\n\n在 $4$ 号桌子和 $7$ 号桌子上各添加一个电话，即可使 $8$ 号桌子上的电话响起。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1\\le N\\le 20$；\n\n对于 $100\\%$ 的数据，$1\\le D\\le N\\le 3\\times 10^5$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $80$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T2 TELEFONI**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #6] Telefoni", "background": null, "description": "一个办公室有 $N$ 张桌子从左至右排列，有些桌子上放了电话。\n\n当第 $j$ 个桌子上的电话响了后，第 $i$ 个桌子上的电话也会响，当且仅当 $|j-i|\\le D$。\n\n现在给出电话的摆放情况，请你求出最小需要添加几个电话，能使最后一个桌子上的电话响起。\n\n保证第一张桌子和最后一张桌子有电话放置。", "inputFormat": "第一行包含两个正整数 $N$ 和 $D$，分别表示桌子个数和最大距离。\n\n第二行包含 $N$ 个整数 $A_i$。如果 $A_i=1$，那么表示这个桌子上有电话，如果 $A_i=0$，则表示没有。", "outputFormat": "一行，一个整数，表示最小需要添加电话个数。", "hint": "**【样例解释 #1】**\n\n在 $2$ 号桌子上添加一个电话，即可使 $4$ 号桌子上的电话响起。\n\n**【样例解释 #2】**\n\n在 $3$ 号桌子上添加一个电话，即可使 $5$ 号桌子上的电话响起。\n\n**【样例解释 #3】**\n\n在 $4$ 号桌子和 $7$ 号桌子上各添加一个电话，即可使 $8$ 号桌子上的电话响起。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1\\le N\\le 20$；\n\n对于 $100\\%$ 的数据，$1\\le D\\le N\\le 3\\times 10^5$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $80$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T2 TELEFONI**_", "locale": "zh-CN"}}}
{"pid": "P7787", "type": "P", "difficulty": 3, "samples": [["2\n1 4 3 2", "2 0 1 1"], ["4\n5 3 2 6 4 8 7 1 2 4 3 3 6 4 8 1", "1 2 2 1 1 0 1 3 2 1 2 2 1 1 0 3"], ["1\n1 1", "0 0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #6] Turnir", "background": "", "description": "给定一个由 $2^N$ 个正整数组成的数列。每一轮将这些数字按照给定的顺序进行比大小，大的数字留下，小的数字淘汰，直至只剩下最后一个数字为止。\n\n现在给你这 $2^N$ 个数字的初始排列顺序，请你求出每个数字能活到的最大的轮数。", "inputFormat": "第一行，一个整数 $N$；\n\n第二行，$2^N$ 个整数 $A_i$，表示数列中的数。", "outputFormat": "一行，$2^N$ 个整数，分别表示第 $i$ 个数能活到的轮数。", "hint": "**【样例解释 #2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tricmynf.png)\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 20$，$0\\le A_i\\le 1\\times 10^9$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T3 TURNIR**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #6] Turnir", "background": "", "description": "给定一个由 $2^N$ 个正整数组成的数列。每一轮将这些数字按照给定的顺序进行比大小，大的数字留下，小的数字淘汰，直至只剩下最后一个数字为止。\n\n现在给你这 $2^N$ 个数字的初始排列顺序，请你求出每个数字能活到的最大的轮数。", "inputFormat": "第一行，一个整数 $N$；\n\n第二行，$2^N$ 个整数 $A_i$，表示数列中的数。", "outputFormat": "一行，$2^N$ 个整数，分别表示第 $i$ 个数能活到的轮数。", "hint": "**【样例解释 #2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tricmynf.png)\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 20$，$0\\le A_i\\le 1\\times 10^9$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T3 TURNIR**_", "locale": "zh-CN"}}}
{"pid": "P7788", "type": "P", "difficulty": 2, "samples": [["1 9", "21"], ["24 24", "12"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #6] Savrsen", "background": "", "description": "一个数是完美的，仅当它等于它的因数中比它小的所有数之和。\n\n例如：$28=1+2+4+7+14$，所以 $28$ 是完美的。\n\n由此我们可以定义一个数的不完美值 $F(N)$，代表 $N$ 和比 $N$ 小的所有 $N$ 的因数之和的差的绝对值。\n\n例如：$F(6)=|6-1-2-3|=0$，\n\n$F(11)=|11-1|=10$，\n\n$F(24)=|24-1-2-3-4-6-8-12|=|-12|=12$。\n\n现在给出两个正整数 $A$ 和 $B$，请你求出 $F(A)+F(A+1\n)+...+F(B)$。", "inputFormat": "一行，两个整数 $A$ 和 $B$，含义如上。", "outputFormat": "一行，一个整数，表示 $F(A)+F(A+1)+...+F(B)$。", "hint": "**【样例解释 #1】**\n\n$F(1)+...+F(9)=1+1+2+1+4+0+6+1+5=21$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le A,B\\le 10^7$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $120$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T4 SAVRSEN**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #6] Savrsen", "background": "", "description": "一个数是完美的，仅当它等于它的因数中比它小的所有数之和。\n\n例如：$28=1+2+4+7+14$，所以 $28$ 是完美的。\n\n由此我们可以定义一个数的不完美值 $F(N)$，代表 $N$ 和比 $N$ 小的所有 $N$ 的因数之和的差的绝对值。\n\n例如：$F(6)=|6-1-2-3|=0$，\n\n$F(11)=|11-1|=10$，\n\n$F(24)=|24-1-2-3-4-6-8-12|=|-12|=12$。\n\n现在给出两个正整数 $A$ 和 $B$，请你求出 $F(A)+F(A+1\n)+...+F(B)$。", "inputFormat": "一行，两个整数 $A$ 和 $B$，含义如上。", "outputFormat": "一行，一个整数，表示 $F(A)+F(A+1)+...+F(B)$。", "hint": "**【样例解释 #1】**\n\n$F(1)+...+F(9)=1+1+2+1+4+0+6+1+5=21$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le A,B\\le 10^7$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $120$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T4 SAVRSEN**_", "locale": "zh-CN"}}}
