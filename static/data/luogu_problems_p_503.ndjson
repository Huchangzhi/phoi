{"pid": "P11204", "type": "P", "difficulty": 1, "samples": [["3\n4 7\n3 4\n5 21", "Yes\nNo\nYes"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "O2优化", "洛谷比赛"], "title": "「Cfz Round 9」Lone", "background": "[Click here (or at the bottom of this page) to download the English version of statements for this contest (PDF).](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/of2k8jng?contestId=205839)", "description": "她有一根长度为 $m$ 的木棍。\n\n她希望你把这根木棍分成 $n$ 根小木棍，使得每一根小木棍的长度均为**正整数**，且从中任选 $3$ 根小木棍都可以通过首尾相连的方式组成一个三角形。\n\n你想求出，你能否满足她的愿望。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据，输入共一行，包含两个整数 $n,m$。", "outputFormat": "对于每组测试数据，输出一行一个字符串：\n\n- 若你能满足她的愿望，则输出 `Yes`；\n- 若你不能满足她的愿望，则输出 `No`。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，可以把木棍分成长度分别为 $1,2,2,2$ 的小木棍。\n\n对于第 $2$ 组测试数据，可以证明不存在满足要求的方案。\n\n对于第 $3$ 组测试数据，其中一种满足要求的方案为把木棍分成长度分别为 $3,4,4,5,5$ 的小木棍。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 100$；\n- $3 \\le n \\le m \\le 10^9$。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（18 points）：$m \\le 500$，$n=3$。\n- Subtask 1（15 points）：$n=3$。  \n- Subtask 2（32 points）：$n\\times 2 \\ge m$。  \n- Subtask 3（35 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 9」Lone", "background": "[Click here (or at the bottom of this page) to download the English version of statements for this contest (PDF).](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/of2k8jng?contestId=205839)", "description": "她有一根长度为 $m$ 的木棍。\n\n她希望你把这根木棍分成 $n$ 根小木棍，使得每一根小木棍的长度均为**正整数**，且从中任选 $3$ 根小木棍都可以通过首尾相连的方式组成一个三角形。\n\n你想求出，你能否满足她的愿望。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据，输入共一行，包含两个整数 $n,m$。", "outputFormat": "对于每组测试数据，输出一行一个字符串：\n\n- 若你能满足她的愿望，则输出 `Yes`；\n- 若你不能满足她的愿望，则输出 `No`。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，可以把木棍分成长度分别为 $1,2,2,2$ 的小木棍。\n\n对于第 $2$ 组测试数据，可以证明不存在满足要求的方案。\n\n对于第 $3$ 组测试数据，其中一种满足要求的方案为把木棍分成长度分别为 $3,4,4,5,5$ 的小木棍。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 100$；\n- $3 \\le n \\le m \\le 10^9$。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（18 points）：$m \\le 500$，$n=3$。\n- Subtask 1（15 points）：$n=3$。  \n- Subtask 2（32 points）：$n\\times 2 \\ge m$。  \n- Subtask 3（35 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P11205", "type": "P", "difficulty": 3, "samples": [["3\n3\n6 1 3\n6\n3 1 2 1 1 3\n4\n3 4 3 6", "5\n4\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "贪心", "洛谷原创", "O2优化", "洛谷比赛"], "title": "「Cfz Round 9」Hope", "background": "", "description": "她的面前有 $n$ 堆花瓣。其中，第 $i$ 堆花瓣中共有 $a_i$ 片花瓣。\n\n你可以选择若干堆花瓣，并在你选择的每一堆花瓣中拿出任意正整数片花瓣，最后将所有拿出的花瓣组成一堆新的花瓣。你**不能将某一堆花瓣中的所有花瓣都拿走**，但你可以选择 $0$ 堆花瓣，即不进行任何操作。**你只能进行至多一次操作。**\n\n她希望，在你操作结束后，最小的**不等于任意一堆中花瓣的数量**的正整数尽可能大。\n\n你想求出这个正整数的最大值。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $n$。\n- 第二行 $n$ 个正整数，表示给定的序列 $a$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示在你操作结束后，最小的**不等于任意一堆中花瓣的数量**的正整数的最大值。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，你可以选择第 $1$ 堆花瓣并拿走 $2$ 片花瓣。\n\n对于第 $2$ 组测试数据，你可以不进行任何操作。\n\n对于第 $3$ 组测试数据，你可以拿走第 $1$ 堆花瓣中的 $1$ 片花瓣和第 $4$ 堆花瓣中的 $5$ 片花瓣。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 10$；\n- $1 \\le n \\le 10^5$；\n- $1 \\le a_i \\le 10^9$。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（10 points）：$n=1$。\n- Subtask 1（30 points）：序列 $a$ 中的每一项互不相同。\n- Subtask 2（24 points）：$a_i \\le 10^4$。\n- Subtask 3（36 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 9」Hope", "background": "", "description": "她的面前有 $n$ 堆花瓣。其中，第 $i$ 堆花瓣中共有 $a_i$ 片花瓣。\n\n你可以选择若干堆花瓣，并在你选择的每一堆花瓣中拿出任意正整数片花瓣，最后将所有拿出的花瓣组成一堆新的花瓣。你**不能将某一堆花瓣中的所有花瓣都拿走**，但你可以选择 $0$ 堆花瓣，即不进行任何操作。**你只能进行至多一次操作。**\n\n她希望，在你操作结束后，最小的**不等于任意一堆中花瓣的数量**的正整数尽可能大。\n\n你想求出这个正整数的最大值。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $n$。\n- 第二行 $n$ 个正整数，表示给定的序列 $a$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示在你操作结束后，最小的**不等于任意一堆中花瓣的数量**的正整数的最大值。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，你可以选择第 $1$ 堆花瓣并拿走 $2$ 片花瓣。\n\n对于第 $2$ 组测试数据，你可以不进行任何操作。\n\n对于第 $3$ 组测试数据，你可以拿走第 $1$ 堆花瓣中的 $1$ 片花瓣和第 $4$ 堆花瓣中的 $5$ 片花瓣。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 10$；\n- $1 \\le n \\le 10^5$；\n- $1 \\le a_i \\le 10^9$。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（10 points）：$n=1$。\n- Subtask 1（30 points）：序列 $a$ 中的每一项互不相同。\n- Subtask 2（24 points）：$a_i \\le 10^4$。\n- Subtask 3（36 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P11206", "type": "P", "difficulty": 3, "samples": [["2\n3\n1 2\n1 3\n5\n4 2\n1 5\n3 1\n2 1", "1 3 2\n1 2 3 4 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "Special Judge", "O2优化", "树的遍历", "构造", "洛谷比赛"], "title": "「Cfz Round 9」Dove", "background": "", "description": "你的面前有一棵树。\n\n这棵树共有 $n$ 个结点，这些结点之间由 $n-1$ 根树枝相连，每个结点上都有一只鸽子。\n\n她希望你对所有鸽子进行编号。设第 $i$ 只鸽子的编号为 $p_i$，你需要满足：\n\n- 序列 $p$ 为一个 $1 \\sim n$ 的排列，即 $1\\sim n$ 中的每个数在所有鸽子的编号中恰好出现一次；\n- 对于结点 $u,v$，若结点 $u$ 与结点 $v$ 之间存在一根树枝，则结点 $u$ 上的鸽子的编号与结点 $v$ 上的鸽子的编号之和不大于 $n+1$，即 $p_u+p_v \\le n+1$。\n\n你想求出一种满足条件的对鸽子进行编号的方式。可以证明，一定存在至少一组解。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $n$。\n- 接下来 $n-1$ 行，每行两个正整数 $u_i,v_i$，表示结点 $u_i$ 与结点 $v_i$ 之间存在一根树枝。", "outputFormat": "对于每组测试数据，输出一行 $n$ 个正整数，其中第 $i$ 个正整数表示你求出的对鸽子进行编号的方式中 $p_i$ 的值，即结点 $i$ 上的鸽子的编号。\n\n可以证明，一定存在至少一组解。\n\n**所有满足要求的输出均可通过。**", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，结点 $1$ 上的鸽子的编号为 $1$，结点 $2$ 上的鸽子的编号为 $3$，结点 $3$ 上的鸽子的编号为 $2$，由于 $1+2$ 和 $1+3$ 均不大于 $4$，所以这种对鸽子进行编号的方式满足条件。\n\n对于第 $2$ 组测试数据，另一种满足条件的对鸽子进行编号的方式为：令结点 $1,2,3,4,5$ 上的鸽子的编号分别为 $2,1,4,5,3$。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 10$；\n- $2 \\le n \\le 10^5$；\n- $1 \\le u_i,v_i \\le n$；\n- 输入数据形成一棵树。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（21 points）：$n \\le 8$。\n- Subtask 1（25 points）：$n \\le 1000$。\n- Subtask 2（11 points）：对于任意小于 $n$ 的正整数 $i$，都满足 $u_i=1$ 且 $v_i=i+1$。\n- Subtask 3（18 points）：对于任意小于 $n$ 的正整数 $i$，都满足 $u_i=i$ 且 $v_i=i+1$。\n- Subtask 4（25 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 9」Dove", "background": "", "description": "你的面前有一棵树。\n\n这棵树共有 $n$ 个结点，这些结点之间由 $n-1$ 根树枝相连，每个结点上都有一只鸽子。\n\n她希望你对所有鸽子进行编号。设第 $i$ 只鸽子的编号为 $p_i$，你需要满足：\n\n- 序列 $p$ 为一个 $1 \\sim n$ 的排列，即 $1\\sim n$ 中的每个数在所有鸽子的编号中恰好出现一次；\n- 对于结点 $u,v$，若结点 $u$ 与结点 $v$ 之间存在一根树枝，则结点 $u$ 上的鸽子的编号与结点 $v$ 上的鸽子的编号之和不大于 $n+1$，即 $p_u+p_v \\le n+1$。\n\n你想求出一种满足条件的对鸽子进行编号的方式。可以证明，一定存在至少一组解。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $n$。\n- 接下来 $n-1$ 行，每行两个正整数 $u_i,v_i$，表示结点 $u_i$ 与结点 $v_i$ 之间存在一根树枝。", "outputFormat": "对于每组测试数据，输出一行 $n$ 个正整数，其中第 $i$ 个正整数表示你求出的对鸽子进行编号的方式中 $p_i$ 的值，即结点 $i$ 上的鸽子的编号。\n\n可以证明，一定存在至少一组解。\n\n**所有满足要求的输出均可通过。**", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，结点 $1$ 上的鸽子的编号为 $1$，结点 $2$ 上的鸽子的编号为 $3$，结点 $3$ 上的鸽子的编号为 $2$，由于 $1+2$ 和 $1+3$ 均不大于 $4$，所以这种对鸽子进行编号的方式满足条件。\n\n对于第 $2$ 组测试数据，另一种满足条件的对鸽子进行编号的方式为：令结点 $1,2,3,4,5$ 上的鸽子的编号分别为 $2,1,4,5,3$。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 10$；\n- $2 \\le n \\le 10^5$；\n- $1 \\le u_i,v_i \\le n$；\n- 输入数据形成一棵树。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（21 points）：$n \\le 8$。\n- Subtask 1（25 points）：$n \\le 1000$。\n- Subtask 2（11 points）：对于任意小于 $n$ 的正整数 $i$，都满足 $u_i=1$ 且 $v_i=i+1$。\n- Subtask 3（18 points）：对于任意小于 $n$ 的正整数 $i$，都满足 $u_i=i$ 且 $v_i=i+1$。\n- Subtask 4（25 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P11207", "type": "P", "difficulty": 4, "samples": [["3\n2\nPW\nVP\n5\nPPWWP\nPWVWV\n6\nWVPPWW\nVVPVWP", "0\n2\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "递推", "洛谷原创", "O2优化", "洛谷比赛"], "title": "「Cfz Round 9」Rose", "background": "", "description": "你和她正在进行一个游戏。\n\n你和她各有 $n$ 张**有序的**卡牌，每张卡牌的颜色可能为粉色、紫色或白色。\n\n**从她开始**，你和她需要各自按照卡牌的顺序，轮流打出手里的卡牌。打出的卡牌将会被移至牌堆中。\n\n若某个人打出卡牌后，牌堆中三种颜色的卡牌的数量相同，则这个人获胜，游戏结束。若你和她的卡牌都打完后，还没有人获胜，则游戏平局。\n\n在游戏开始前，你可以进行若干次操作。每次操作，你可以给任意一个人的任意一张卡牌更换颜色。\n\n你想求出，你至少需要进行多少次操作才能**使她获胜**。可以证明，一定存在至少一种可以使她获胜的操作方案。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $n$。\n- 第二行一个长度为 $n$ 的字符串 $s$，描述**她**的卡牌：\n  - 若 $s_i$ 为 `P`，则表示她的第 $i$ 张卡牌的颜色为粉色；\n  - 若 $s_i$ 为 `V`，则表示她的第 $i$ 张卡牌的颜色为紫色；\n  - 若 $s_i$ 为 `W`，则表示她的第 $i$ 张卡牌的颜色为白色。\n- 第三行一个长度为 $n$ 的字符串 $t$，描述**你**的卡牌：\n  - 若 $t_i$ 为 `P`，则表示你的第 $i$ 张卡牌的颜色为粉色；\n  - 若 $t_i$ 为 `V`，则表示你的第 $i$ 张卡牌的颜色为紫色；\n  - 若 $t_i$ 为 `W`，则表示你的第 $i$ 张卡牌的颜色为白色。\n  \n其中，$s_i$ 表示字符串 $s$ 的第 $i$ 个字符，$t_i$ 同理。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示你使她获胜所至少需要进行的操作的次数。若你不需要进行操作就能使她获胜，则你需要输出 $0$。\n\n可以证明，一定存在至少一种可以使她获胜的操作方案。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，不需要进行操作就能使她获胜。\n\n对于第 $2$ 组测试数据，一种可能的操作方案为将她的第 $4$ 张卡牌和第 $5$ 张卡牌的颜色均更换为紫色。\n\n对于第 $3$ 组测试数据，一种可能的操作方案为将你的第 $4$ 张卡牌的颜色更换为白色。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 30$；\n- $2 \\le n \\le 10^5$；\n- 对于所有不大于 $n$ 的正整数 $i$，满足 $s_i$ 和 $t_i$ 均为 `PVW` 中的某个字符。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（18 points）：$n \\le 6$。\n- Subtask 1（20 points）：$n \\le 1000$。\n- Subtask 2（12 points）：对于任意不大于 $n$ 的正整数 $i$，都满足 $s_i \\ne t_i$。\n- Subtask 3（25 points）：若你不进行任何操作，则你不会获胜。\n- Subtask 4（25 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 9」Rose", "background": "", "description": "你和她正在进行一个游戏。\n\n你和她各有 $n$ 张**有序的**卡牌，每张卡牌的颜色可能为粉色、紫色或白色。\n\n**从她开始**，你和她需要各自按照卡牌的顺序，轮流打出手里的卡牌。打出的卡牌将会被移至牌堆中。\n\n若某个人打出卡牌后，牌堆中三种颜色的卡牌的数量相同，则这个人获胜，游戏结束。若你和她的卡牌都打完后，还没有人获胜，则游戏平局。\n\n在游戏开始前，你可以进行若干次操作。每次操作，你可以给任意一个人的任意一张卡牌更换颜色。\n\n你想求出，你至少需要进行多少次操作才能**使她获胜**。可以证明，一定存在至少一种可以使她获胜的操作方案。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个正整数 $n$。\n- 第二行一个长度为 $n$ 的字符串 $s$，描述**她**的卡牌：\n  - 若 $s_i$ 为 `P`，则表示她的第 $i$ 张卡牌的颜色为粉色；\n  - 若 $s_i$ 为 `V`，则表示她的第 $i$ 张卡牌的颜色为紫色；\n  - 若 $s_i$ 为 `W`，则表示她的第 $i$ 张卡牌的颜色为白色。\n- 第三行一个长度为 $n$ 的字符串 $t$，描述**你**的卡牌：\n  - 若 $t_i$ 为 `P`，则表示你的第 $i$ 张卡牌的颜色为粉色；\n  - 若 $t_i$ 为 `V`，则表示你的第 $i$ 张卡牌的颜色为紫色；\n  - 若 $t_i$ 为 `W`，则表示你的第 $i$ 张卡牌的颜色为白色。\n  \n其中，$s_i$ 表示字符串 $s$ 的第 $i$ 个字符，$t_i$ 同理。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示你使她获胜所至少需要进行的操作的次数。若你不需要进行操作就能使她获胜，则你需要输出 $0$。\n\n可以证明，一定存在至少一种可以使她获胜的操作方案。", "hint": "#### 「样例解释 #1」\n\n对于第 $1$ 组测试数据，不需要进行操作就能使她获胜。\n\n对于第 $2$ 组测试数据，一种可能的操作方案为将她的第 $4$ 张卡牌和第 $5$ 张卡牌的颜色均更换为紫色。\n\n对于第 $3$ 组测试数据，一种可能的操作方案为将你的第 $4$ 张卡牌的颜色更换为白色。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1 \\le T \\le 30$；\n- $2 \\le n \\le 10^5$；\n- 对于所有不大于 $n$ 的正整数 $i$，满足 $s_i$ 和 $t_i$ 均为 `PVW` 中的某个字符。\n\n**本题采用捆绑测试。**\n\n- Subtask 0（18 points）：$n \\le 6$。\n- Subtask 1（20 points）：$n \\le 1000$。\n- Subtask 2（12 points）：对于任意不大于 $n$ 的正整数 $i$，都满足 $s_i \\ne t_i$。\n- Subtask 3（25 points）：若你不进行任何操作，则你不会获胜。\n- Subtask 4（25 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P11208", "type": "P", "difficulty": 4, "samples": [["3\n3 2 1", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "树状数组", "O2优化", "排序"], "title": "『STA - R8』轮回疯狂", "background": "", "description": "给一个 $1$ 到 $n$ 的排列 $p$，你可以使用两种操作：\n- 轮回：交换 $p$ 中相邻的两个位置。\n- 疯狂：删除 $p$ 中的最小值。如果 $p$ 为空则不能进行操作。\n\n问最少需要多少次操作才能使得序列单调递增。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，描述排列 $p$。", "outputFormat": "一行一个正整数，表示答案。", "hint": "样例解释：先删除 $p_3$，再交换 $p_1,p_2$。\n\n***\n**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 1 (10pts)：$n\\le 3$。\n- Subtask 2 (30pts)：$n\\le 10^3$。\n- Subtask 3 (10pts)：$p_i=n-i+1$。\n- Subtask 4 (50pts)：无特殊限制。\n\n\n对于全部数据，$1\\le n\\le 10^5$，$p$ 是 $1$ 到 $n$ 的排列。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R8』轮回疯狂", "background": "", "description": "给一个 $1$ 到 $n$ 的排列 $p$，你可以使用两种操作：\n- 轮回：交换 $p$ 中相邻的两个位置。\n- 疯狂：删除 $p$ 中的最小值。如果 $p$ 为空则不能进行操作。\n\n问最少需要多少次操作才能使得序列单调递增。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，描述排列 $p$。", "outputFormat": "一行一个正整数，表示答案。", "hint": "样例解释：先删除 $p_3$，再交换 $p_1,p_2$。\n\n***\n**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 1 (10pts)：$n\\le 3$。\n- Subtask 2 (30pts)：$n\\le 10^3$。\n- Subtask 3 (10pts)：$p_i=n-i+1$。\n- Subtask 4 (50pts)：无特殊限制。\n\n\n对于全部数据，$1\\le n\\le 10^5$，$p$ 是 $1$ 到 $n$ 的排列。", "locale": "zh-CN"}}}
{"pid": "P11209", "type": "P", "difficulty": 4, "samples": [["1 1 1\n1\n1\n1", "1"], ["0 5 5\n3 1 4 0 2\n3 7 2 5 1\n0\n2\n3\n5\n7", "3\n4\n4\n3\n1"], ["1 5 5\n3 1 4 0 2\n3 7 2 5 1\n0\n1\n7\n1\n4", "3\n4\n4\n3\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "字典树 Trie", "位运算"], "title": "『STA - R8』小熊游景点 II", "background": "", "description": "给定序列 $\\{a_n\\},\\{b_n\\}$，有 $m$ 次询问，\n\n每次询问给定 $k$，求 $\\sum\\limits_{i=1}^n[(a_i\\oplus k)\\le b_i]$，其中 $\\oplus$ 是按位异或。\n\n**本题部分测试点强制在线。**", "inputFormat": "第一行三个整数 $T,n,m$，$T=1/0$ 表示这组数据是/否强制在线。\n\n第二行 $n$ 个整数 $\\{a_n\\}$。\n\n第三行 $n$ 个整数 $\\{b_n\\}$。\n\n接下来 $m$ 行，每行一个整数 $k'$，表示一次询问 $k=k'\\oplus(l\\times T)$，\n\n其中 $l$ 是上次询问的答案，第一次询问时 $l=0$。", "outputFormat": "$m$ 行每行一个整数，表示每次询问的答案。", "hint": "**本题采用捆绑测试。**\n\n| Subtask | $n,m$ | $a_i,b_i,k$ | $T$ | 分数 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $\\le 10^3$ | $<2^{30}$ | $=1$ | $10$ |\n| $2$ | $\\le 5\\times 10^5$ | $<2^{10}$ | $=1$ | $10$ |\n| $3$ | $\\le 5\\times 10^5$ | $<2^{30}$ | $=0$ | $40$ |\n| $4$ | $\\le 5\\times 10^5$ | $<2^{30}$ | $=1$ | $40$ |\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 5\\times 10^5$，$0\\le a_i,b_i,k<2^{30}$，$T\\in\\{0,1\\}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R8』小熊游景点 II", "background": "", "description": "给定序列 $\\{a_n\\},\\{b_n\\}$，有 $m$ 次询问，\n\n每次询问给定 $k$，求 $\\sum\\limits_{i=1}^n[(a_i\\oplus k)\\le b_i]$，其中 $\\oplus$ 是按位异或。\n\n**本题部分测试点强制在线。**", "inputFormat": "第一行三个整数 $T,n,m$，$T=1/0$ 表示这组数据是/否强制在线。\n\n第二行 $n$ 个整数 $\\{a_n\\}$。\n\n第三行 $n$ 个整数 $\\{b_n\\}$。\n\n接下来 $m$ 行，每行一个整数 $k'$，表示一次询问 $k=k'\\oplus(l\\times T)$，\n\n其中 $l$ 是上次询问的答案，第一次询问时 $l=0$。", "outputFormat": "$m$ 行每行一个整数，表示每次询问的答案。", "hint": "**本题采用捆绑测试。**\n\n| Subtask | $n,m$ | $a_i,b_i,k$ | $T$ | 分数 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $\\le 10^3$ | $<2^{30}$ | $=1$ | $10$ |\n| $2$ | $\\le 5\\times 10^5$ | $<2^{10}$ | $=1$ | $10$ |\n| $3$ | $\\le 5\\times 10^5$ | $<2^{30}$ | $=0$ | $40$ |\n| $4$ | $\\le 5\\times 10^5$ | $<2^{30}$ | $=1$ | $40$ |\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 5\\times 10^5$，$0\\le a_i,b_i,k<2^{30}$，$T\\in\\{0,1\\}$。", "locale": "zh-CN"}}}
{"pid": "P11210", "type": "P", "difficulty": 6, "samples": [["5 6\n4 1\n4 1\n4 2\n4 1\n5 2\nQ 2 5\nU 6 6 3\nQ 3 7\nQ 1 6\nU 2 4 2\nQ 2 3", "2\n2\n0\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "二分", "2024", "洛谷原创", "O2优化", "Ad-hoc", "洛谷比赛"], "title": "『STA - R8』强制在线动态二维数点", "background": "> 数据结构界的最新成果！强制在线动态二维数点已经可以做到线性时间！\n", "description": "要拿到图灵奖，你需要解决下面这道动态在线二维数点问题：\n\n平面上有 $n$ 个点 $(x_i,y_i)$，**排列在 $\\bm{y=x}$ 的直线下方（即，$\\bm{y_i\\le x_i}$ 成立）**。\n\n我会进行 $q$ 次操作，操作有两种类型：\n\n1. 修改操作 `U i x y`：令 $x_i:=x,y_i:=y$。（即，将 $x_i$ 和 $y_i$ 分别赋值为 $x$ 和 $y$。）\n2. 询问操作 `Q l r`：给出一个**四个顶点分别是 $\\bm{(l,l),(r,l),(l,r),(r,r)}$ 的矩形**，求出在给出的矩形内的点 $^\\dagger$ $(x,y)$ 中最小的 $x-y$ 的值。**特别地，规定当矩形没有包含任何一个点时答案为 $\\bm{0}$。**\n\n两种操作会以某种方式进行加密，详细要求见下方【输入格式】一栏。\n\n$^\\dagger$：点 $(x,y)$ 在 $(l,l),(r,l),(l,r),(r,r)$ 所构成的矩形内，当且仅当 $l\\le x\\le r$ 且 $l\\le y\\le r$。", "inputFormat": "第一行两个整数 $n$ 和 $q$。\n\n随后 $n$ 行，每行两个整数 $x_i$ 和 $y_i$ 描述每个点的坐标。\n\n接下来 $q$ 行，给出每个操作的类型和对应参数的加密值。解密后的真实的参数 $i,x,y,l,r$ 的值，**均要异或你上一次输出的答案**（第一次询问操作前不异或）。我会保证解密后 $1\\le l\\le r\\le n$ 和 $1\\le i\\le n$，$1\\le y\\le x\\le n$ 的约束存在。", "outputFormat": "对每个询问操作，输出一行你的答案。", "hint": "对于所有测试数据，$1\\le n,q\\le 5\\times 10^5$，并且保证解密后的 $1\\le l\\le r\\le n$ 且 $1\\le i\\le n$，$1\\le y\\le x\\le n$。\n\n**本题采用捆绑测试，并开启子任务依赖。**\n\n- Subtask 0（5 points）：$n,q\\le 5\\times 10^3$。\n- Subtask 1（20 points）：无修改操作。 \n- Subtask 2（25 points）：满足特殊性质。\n- Subtask 3（20 points）：$n,q\\le 10^5$。\n- Subtask 4（30 points）：无特殊限制。\n\n特殊性质（数据随机）：操作类型、修改的位置、初始时和修改后的点的坐标和询问区间（参数 $(i,x,y),(l,r)$ 的值）在合法范围内独立地均匀随机生成。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R8』强制在线动态二维数点", "background": "> 数据结构界的最新成果！强制在线动态二维数点已经可以做到线性时间！\n", "description": "要拿到图灵奖，你需要解决下面这道动态在线二维数点问题：\n\n平面上有 $n$ 个点 $(x_i,y_i)$，**排列在 $\\bm{y=x}$ 的直线下方（即，$\\bm{y_i\\le x_i}$ 成立）**。\n\n我会进行 $q$ 次操作，操作有两种类型：\n\n1. 修改操作 `U i x y`：令 $x_i:=x,y_i:=y$。（即，将 $x_i$ 和 $y_i$ 分别赋值为 $x$ 和 $y$。）\n2. 询问操作 `Q l r`：给出一个**四个顶点分别是 $\\bm{(l,l),(r,l),(l,r),(r,r)}$ 的矩形**，求出在给出的矩形内的点 $^\\dagger$ $(x,y)$ 中最小的 $x-y$ 的值。**特别地，规定当矩形没有包含任何一个点时答案为 $\\bm{0}$。**\n\n两种操作会以某种方式进行加密，详细要求见下方【输入格式】一栏。\n\n$^\\dagger$：点 $(x,y)$ 在 $(l,l),(r,l),(l,r),(r,r)$ 所构成的矩形内，当且仅当 $l\\le x\\le r$ 且 $l\\le y\\le r$。", "inputFormat": "第一行两个整数 $n$ 和 $q$。\n\n随后 $n$ 行，每行两个整数 $x_i$ 和 $y_i$ 描述每个点的坐标。\n\n接下来 $q$ 行，给出每个操作的类型和对应参数的加密值。解密后的真实的参数 $i,x,y,l,r$ 的值，**均要异或你上一次输出的答案**（第一次询问操作前不异或）。我会保证解密后 $1\\le l\\le r\\le n$ 和 $1\\le i\\le n$，$1\\le y\\le x\\le n$ 的约束存在。", "outputFormat": "对每个询问操作，输出一行你的答案。", "hint": "对于所有测试数据，$1\\le n,q\\le 5\\times 10^5$，并且保证解密后的 $1\\le l\\le r\\le n$ 且 $1\\le i\\le n$，$1\\le y\\le x\\le n$。\n\n**本题采用捆绑测试，并开启子任务依赖。**\n\n- Subtask 0（5 points）：$n,q\\le 5\\times 10^3$。\n- Subtask 1（20 points）：无修改操作。 \n- Subtask 2（25 points）：满足特殊性质。\n- Subtask 3（20 points）：$n,q\\le 10^5$。\n- Subtask 4（30 points）：无特殊限制。\n\n特殊性质（数据随机）：操作类型、修改的位置、初始时和修改后的点的坐标和询问区间（参数 $(i,x,y),(l,r)$ 的值）在合法范围内独立地均匀随机生成。\n", "locale": "zh-CN"}}}
{"pid": "P11211", "type": "P", "difficulty": 6, "samples": [["1 10007\n\n4960", "\n?\n\n! 114"], ["2 10007\n\n4960\n\n6980", "\n?\n\n?\n\n! 514"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "数论", "交互题", "Special Judge", "O2优化", "中国剩余定理 CRT"], "title": "『STA - R8』随机数生成器", "background": "**Upd on 2024/10/22** 加入一组 Hack 数据（#13）", "description": "**这是一道交互题。**\n\nLloyd 有一个随机数生成器，对于随机种子 $s$ 和生成器类型 $t$，它第 $x$ 次（$x<p$）生成的随机数是：\n$$r_{s,t}(x)=\\begin{cases}s^x\\bmod p&t=1\\\\x^s\\bmod p&t=2\\end{cases}$$\n其中 $p$ 是一个固定素数。$0\\le s<p-1$。\n\n现在给定 $p,t$。已知随机数生成器在你询问之前已经生成过若干随机数，而在你生成随机数的时候不会有任何其他随机数生成访问（也就是你生成的是一段连续的随机数）。你每次可以调用随机数生成器来获取一个随机数，并且在若干次调用之后找出随机数种子 $s$ 的值。**保证有解且 5 次询问后一定能得到唯一的解。**\n\n***\n**实现细节**\n\n本题采用 IO 交互模式。\n\n第一行输入两个正整数 $t,p$。\n\n接下来，可以向交互库发送以下两种操作：\n- `?`，表示调用一次随机数生成器，随即你可以从标准输入中读入随机数生成器生成的数值。\n- `! s`，报告你发现的 $s$。\n\n发送 `!` 操作后你应该立即结束程序。另外在每一次操作后都需要清空缓冲区。评分方式见数据范围部分。\n\n如果你的操作不符合交互格式可能出现不可预料的结果。保证在交互次数不超过 19930（也就是至少可以获得 1 分）时交互库的运行时间不超过 100ms。对于 19930 之上的交互次数不保证交互库运行时间。", "inputFormat": "见题目描述中实现细节部分。", "outputFormat": "见题目描述中实现细节部分。", "hint": "**样例解释**\n\n样例仅供参考，不一定具有实际逻辑。\n\n第一组样例：$p=10007$，$s=114$，在询问之前生成过 $513$ 次随机数。\n\n第二组样例：$p=10007$，$s=514$，在询问之前生成过 $113$ 次随机数。\n***\n\n**数据范围**\n\n**本题采用捆绑测试。**（Subtask 分数为 Subtask 内各测试点分数之最小值）\n\n- Subtask 1 (20pts)：$t=1$。\n- Subtask 2 (20pts)：$p\\le 10^3$。\n- Subtask 3 (60pts)：无特殊限制。\n\n对于全部数据，$2\\le p\\le2\\times10^6$ 且 $p$ 是素数，$t\\in\\{1,2\\}$，保证有解。\n\n对于每个测试点，如果你向交互库发送了 $c$ 次 `?` 操作，那么你可以得到的分数由如下表达式给出：\n$$\\mathrm{score}=\\begin{cases}100&c\\le 5\\\\\\max\\{0,100-\\lceil10\\ln(c)\\rceil\\}&\\text{otherwise.}\\end{cases}$$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R8』随机数生成器", "background": "**Upd on 2024/10/22** 加入一组 Hack 数据（#13）", "description": "**这是一道交互题。**\n\nLloyd 有一个随机数生成器，对于随机种子 $s$ 和生成器类型 $t$，它第 $x$ 次（$x<p$）生成的随机数是：\n$$r_{s,t}(x)=\\begin{cases}s^x\\bmod p&t=1\\\\x^s\\bmod p&t=2\\end{cases}$$\n其中 $p$ 是一个固定素数。$0\\le s<p-1$。\n\n现在给定 $p,t$。已知随机数生成器在你询问之前已经生成过若干随机数，而在你生成随机数的时候不会有任何其他随机数生成访问（也就是你生成的是一段连续的随机数）。你每次可以调用随机数生成器来获取一个随机数，并且在若干次调用之后找出随机数种子 $s$ 的值。**保证有解且 5 次询问后一定能得到唯一的解。**\n\n***\n**实现细节**\n\n本题采用 IO 交互模式。\n\n第一行输入两个正整数 $t,p$。\n\n接下来，可以向交互库发送以下两种操作：\n- `?`，表示调用一次随机数生成器，随即你可以从标准输入中读入随机数生成器生成的数值。\n- `! s`，报告你发现的 $s$。\n\n发送 `!` 操作后你应该立即结束程序。另外在每一次操作后都需要清空缓冲区。评分方式见数据范围部分。\n\n如果你的操作不符合交互格式可能出现不可预料的结果。保证在交互次数不超过 19930（也就是至少可以获得 1 分）时交互库的运行时间不超过 100ms。对于 19930 之上的交互次数不保证交互库运行时间。", "inputFormat": "见题目描述中实现细节部分。", "outputFormat": "见题目描述中实现细节部分。", "hint": "**样例解释**\n\n样例仅供参考，不一定具有实际逻辑。\n\n第一组样例：$p=10007$，$s=114$，在询问之前生成过 $513$ 次随机数。\n\n第二组样例：$p=10007$，$s=514$，在询问之前生成过 $113$ 次随机数。\n***\n\n**数据范围**\n\n**本题采用捆绑测试。**（Subtask 分数为 Subtask 内各测试点分数之最小值）\n\n- Subtask 1 (20pts)：$t=1$。\n- Subtask 2 (20pts)：$p\\le 10^3$。\n- Subtask 3 (60pts)：无特殊限制。\n\n对于全部数据，$2\\le p\\le2\\times10^6$ 且 $p$ 是素数，$t\\in\\{1,2\\}$，保证有解。\n\n对于每个测试点，如果你向交互库发送了 $c$ 次 `?` 操作，那么你可以得到的分数由如下表达式给出：\n$$\\mathrm{score}=\\begin{cases}100&c\\le 5\\\\\\max\\{0,100-\\lceil10\\ln(c)\\rceil\\}&\\text{otherwise.}\\end{cases}$$", "locale": "zh-CN"}}}
{"pid": "P11212", "type": "P", "difficulty": 5, "samples": [["5\n5\n55\n555\n5555\n55555", "1\n3\n22\n93\n447"]], "limits": {"time": [3500, 3500, 3500, 3500, 3500, 3500], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "数论", "O2优化"], "title": "『STA - R8』挑战 Goldbach 猜想", "background": "", "description": "$q$ 次询问，每次给一个正整数 $n$，问有多少个不超过 $n$ 的正整数 $i$ 使得 $i$ 和 $n\\bmod i$ 都是质数。\n\n", "inputFormat": "第一行一个正整数 $q$。\n\n后 $q$ 行，每行一个正整数 $n$。", "outputFormat": "$q$ 行，每行回答一组询问。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n\n- Subtask 1 (30pts)：$q=1$。\n- Subtask 2 (70pts)：无特殊限制。\n\n对于全部数据，$1\\le n,q\\le2\\times10^5$。\n\n洛谷代码长度限制：50 KB。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R8』挑战 Goldbach 猜想", "background": "", "description": "$q$ 次询问，每次给一个正整数 $n$，问有多少个不超过 $n$ 的正整数 $i$ 使得 $i$ 和 $n\\bmod i$ 都是质数。\n\n", "inputFormat": "第一行一个正整数 $q$。\n\n后 $q$ 行，每行一个正整数 $n$。", "outputFormat": "$q$ 行，每行回答一组询问。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n\n- Subtask 1 (30pts)：$q=1$。\n- Subtask 2 (70pts)：无特殊限制。\n\n对于全部数据，$1\\le n,q\\le2\\times10^5$。\n\n洛谷代码长度限制：50 KB。", "locale": "zh-CN"}}}
{"pid": "P11213", "type": "P", "difficulty": 1, "samples": [["2\n5 2\n4 3\n", "6\n"], ["4\n5 1\n5 2\n5 3\n5 4\n", "8\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-J8-T1】竹竿", "background": "原题链接：<https://oier.team/problems/J8A>。", "description": "有 $n$ 根竹竿，第 $i$ 根竹竿的长度为 $a_i$，在距离一端的 $b_i$ 长度处有一个标记。\n\n现要将所有竹竿放在一条直线上，要求每根竹竿的**标记必须重合**。你可以左右调换每根竹竿的方向，使得这条直线被竹竿覆盖到的部分尽可能长。\n\n请求出被竹竿覆盖到的部分的最大长度。", "inputFormat": "第一行，一个正整数 $n$，表示竹竿的数量。\n\n接下来 $n$ 行，第 $i$ 行包含两个整数 $a_i, b_i$，描述第 $i$ 根竹竿。", "outputFormat": "仅一行一个正整数，表示被覆盖到的部分的最大长度。", "hint": "**【样例解释 \\#1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/crjj8h0g.png)\n\n**【样例 \\#3】**\n\n见附件中的 `bamboo/bamboo3.in` 与 `bamboo/bamboo3.ans`。\n\n该组样例满足测试点 $5 \\sim 6$ 的约束条件。\n\n**【样例 \\#4】**\n\n见附件中的 `bamboo/bamboo4.in` 与 `bamboo/bamboo4.ans`。\n\n该组样例满足测试点 $10$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $10$ 个测试点，每个 $10$ 分。\n\n|测试点编号|$n\\le$|$a_i\\le$|$b_i\\le$|\n| :-----------: | :-------------:|:-----------:|:-----------: |\n|$1\\sim2$|$10$|$10$|$10$|\n|$3\\sim4$|$2$|$10^9$|$10^9$|\n|$5\\sim6$|$1000$|$1000$|$1000$|\n|$7$|$10^5$|$10^9$|$0$|\n|$8\\sim 9$|$10^5$|$10^5$|$10^5$|\n|$10$|$10^5$|$10^9$|$10^9$|\n\n\n对于全部数据，保证：$2\\le n\\le 10^5$，$1\\le a_i\\le10^9$，$0\\le b_i\\le a_i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J8-T1】竹竿", "background": "原题链接：<https://oier.team/problems/J8A>。", "description": "有 $n$ 根竹竿，第 $i$ 根竹竿的长度为 $a_i$，在距离一端的 $b_i$ 长度处有一个标记。\n\n现要将所有竹竿放在一条直线上，要求每根竹竿的**标记必须重合**。你可以左右调换每根竹竿的方向，使得这条直线被竹竿覆盖到的部分尽可能长。\n\n请求出被竹竿覆盖到的部分的最大长度。", "inputFormat": "第一行，一个正整数 $n$，表示竹竿的数量。\n\n接下来 $n$ 行，第 $i$ 行包含两个整数 $a_i, b_i$，描述第 $i$ 根竹竿。", "outputFormat": "仅一行一个正整数，表示被覆盖到的部分的最大长度。", "hint": "**【样例解释 \\#1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/crjj8h0g.png)\n\n**【样例 \\#3】**\n\n见附件中的 `bamboo/bamboo3.in` 与 `bamboo/bamboo3.ans`。\n\n该组样例满足测试点 $5 \\sim 6$ 的约束条件。\n\n**【样例 \\#4】**\n\n见附件中的 `bamboo/bamboo4.in` 与 `bamboo/bamboo4.ans`。\n\n该组样例满足测试点 $10$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $10$ 个测试点，每个 $10$ 分。\n\n|测试点编号|$n\\le$|$a_i\\le$|$b_i\\le$|\n| :-----------: | :-------------:|:-----------:|:-----------: |\n|$1\\sim2$|$10$|$10$|$10$|\n|$3\\sim4$|$2$|$10^9$|$10^9$|\n|$5\\sim6$|$1000$|$1000$|$1000$|\n|$7$|$10^5$|$10^9$|$0$|\n|$8\\sim 9$|$10^5$|$10^5$|$10^5$|\n|$10$|$10^5$|$10^9$|$10^9$|\n\n\n对于全部数据，保证：$2\\le n\\le 10^5$，$1\\le a_i\\le10^9$，$0\\le b_i\\le a_i$。", "locale": "zh-CN"}}}
{"pid": "P11214", "type": "P", "difficulty": 3, "samples": [["2\n6 6 \n2 3", "8"], ["2\n999999999 999999999\n500000000 500000000", "999999990"], ["3\n5 7 8\n4 5 2", "12"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "贪心", "O2优化", "枚举", "排序", "梦熊比赛"], "title": "【MX-J8-T2】黑洞", "background": "原题链接：<https://oier.team/problems/J8B>。\n\n---\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/a8hxrkor.png)\n\n上图给出了二维下与红点在同一条对角线上的所有方格。\n\n考虑三维下的情况，下图给出了与红色方块在同一条对角线上的所有方块。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/56pkuoah.png)\n\n本题我们将会把对角线这个概念推广到 $n$ 维上。", "description": "已知一片 $n$ 维空间，第 $i$ 维的大小为 $m_i$。我们使用一个 $n$ 维坐标 $(x_1, x_2, \\dots, x_n)$ 表示这片 $n$ 维空间里的一个位置，其中 $x_i$ 为 $[1, m_i]$ 间的整数。\n\n在位置 $(a_1, a_2, \\dots, a_n)$ 处有一颗黑洞。这片 $n$ 维空间中所有与它在同一条对角线上的位置都将被吞噬：\n- 称位置 $(a_1, a_2, \\dots, a_n)$ 与 $(b_1, b_2, \\dots, b_n)$ 在同一条对角线上，当且仅当存在一个整数 $k \\geq 0$，使得对每个 $1 \\leq i \\leq n$，都有 $\\lvert a_i - b_i \\rvert = k$。\n\n你需要求出共有多少个位置会被黑洞吞噬（即与黑洞在同一条对角线上，包括黑洞所处位置本身）。答案对 $10^9 + 7$ 取模。", "inputFormat": "第一行，一个正整数 $n$，表示维度数。\n\n第二行，$n$ 个正整数 $m_1, \\dots, m_n$，表示每一维的大小。\n\n第三行，$n$ 个正整数 $a_1, \\dots, a_n$，表示黑洞的位置。", "outputFormat": "仅一行一个整数，表示该 $n$ 维空间中被黑洞吞噬的位置个数。答案对 $10^9 + 7$ 取模。", "hint": "**【样例解释 \\#1】**\n\n如题目背景中的图所示，其中红色圆形为黑洞所在位置，黑色方格为被黑洞吞噬的位置，共 $8$ 个。\n\n**【样例解释 \\#2】**\n\n有 $1999999997$ 个位置被黑洞吞噬，$1999999997$ 对 $10^9+7$ 取模的结果为 $999999990$。\n\n**【样例解释 \\#3】**\n\n如题目背景中的图所示，$(1,2,5)$，$(2,3,4)$，$(2,7,4)$，$(3,4,1)$，$(3,4,3)$，$(3,6,1)$，$(3,6,3)$，$(4,5,2)$，$(5,4,1)$，$(5,4,3)$，$(5,6,1)$，$(5,6,3)$ 共 $12$ 个位置被黑洞吞噬。\n\n**【样例 \\#4】**\n\n见附件中的 `hole/hole4.in` 与 `hole/hole4.ans`。\n\n该组样例满足测试点 $9 \\sim 10$ 的约束条件。\n\n**【样例 \\#5】**\n\n见附件中的 `hole/hole5.in` 与 `hole/hole5.ans`。\n\n该组样例满足测试点 $11 \\sim 13$ 的约束条件。\n\n**【样例 \\#6】**\n\n见附件中的 `hole/hole6.in` 与 `hole/hole6.ans`。\n\n该组样例满足测试点 $14 \\sim 19$ 的约束条件。\n\n**【样例 \\#7】**\n\n见附件中的 `hole/hole7.in` 与 `hole/hole7.ans`。\n\n该组样例满足测试点 $20 \\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n  \n|测试点编号|$n$|$m_i\\le$|\n| :-----------: | :-------------:|:-----------:|\n|$1\\sim2$|$=2$|$10^6$|\n|$3\\sim4$|$=2$|$10^9$|\n|$5\\sim6$|$=3$|$10^6$|\n|$7\\sim8$|$=3$|$10^9$|\n|$9\\sim10$|$\\le20$|$15$|\n|$11\\sim13$|$\\le20$|$10^9$|\n|$14\\sim19$|$\\le1000$|$10^9$|\n|$20\\sim25$|$\\le2\\times10^5$|$10^9$|\n\n对于全部数据，保证：$2\\le n\\le 2\\times10^5$，$1\\le a_i\\le m_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J8-T2】黑洞", "background": "原题链接：<https://oier.team/problems/J8B>。\n\n---\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/a8hxrkor.png)\n\n上图给出了二维下与红点在同一条对角线上的所有方格。\n\n考虑三维下的情况，下图给出了与红色方块在同一条对角线上的所有方块。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/56pkuoah.png)\n\n本题我们将会把对角线这个概念推广到 $n$ 维上。", "description": "已知一片 $n$ 维空间，第 $i$ 维的大小为 $m_i$。我们使用一个 $n$ 维坐标 $(x_1, x_2, \\dots, x_n)$ 表示这片 $n$ 维空间里的一个位置，其中 $x_i$ 为 $[1, m_i]$ 间的整数。\n\n在位置 $(a_1, a_2, \\dots, a_n)$ 处有一颗黑洞。这片 $n$ 维空间中所有与它在同一条对角线上的位置都将被吞噬：\n- 称位置 $(a_1, a_2, \\dots, a_n)$ 与 $(b_1, b_2, \\dots, b_n)$ 在同一条对角线上，当且仅当存在一个整数 $k \\geq 0$，使得对每个 $1 \\leq i \\leq n$，都有 $\\lvert a_i - b_i \\rvert = k$。\n\n你需要求出共有多少个位置会被黑洞吞噬（即与黑洞在同一条对角线上，包括黑洞所处位置本身）。答案对 $10^9 + 7$ 取模。", "inputFormat": "第一行，一个正整数 $n$，表示维度数。\n\n第二行，$n$ 个正整数 $m_1, \\dots, m_n$，表示每一维的大小。\n\n第三行，$n$ 个正整数 $a_1, \\dots, a_n$，表示黑洞的位置。", "outputFormat": "仅一行一个整数，表示该 $n$ 维空间中被黑洞吞噬的位置个数。答案对 $10^9 + 7$ 取模。", "hint": "**【样例解释 \\#1】**\n\n如题目背景中的图所示，其中红色圆形为黑洞所在位置，黑色方格为被黑洞吞噬的位置，共 $8$ 个。\n\n**【样例解释 \\#2】**\n\n有 $1999999997$ 个位置被黑洞吞噬，$1999999997$ 对 $10^9+7$ 取模的结果为 $999999990$。\n\n**【样例解释 \\#3】**\n\n如题目背景中的图所示，$(1,2,5)$，$(2,3,4)$，$(2,7,4)$，$(3,4,1)$，$(3,4,3)$，$(3,6,1)$，$(3,6,3)$，$(4,5,2)$，$(5,4,1)$，$(5,4,3)$，$(5,6,1)$，$(5,6,3)$ 共 $12$ 个位置被黑洞吞噬。\n\n**【样例 \\#4】**\n\n见附件中的 `hole/hole4.in` 与 `hole/hole4.ans`。\n\n该组样例满足测试点 $9 \\sim 10$ 的约束条件。\n\n**【样例 \\#5】**\n\n见附件中的 `hole/hole5.in` 与 `hole/hole5.ans`。\n\n该组样例满足测试点 $11 \\sim 13$ 的约束条件。\n\n**【样例 \\#6】**\n\n见附件中的 `hole/hole6.in` 与 `hole/hole6.ans`。\n\n该组样例满足测试点 $14 \\sim 19$ 的约束条件。\n\n**【样例 \\#7】**\n\n见附件中的 `hole/hole7.in` 与 `hole/hole7.ans`。\n\n该组样例满足测试点 $20 \\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n  \n|测试点编号|$n$|$m_i\\le$|\n| :-----------: | :-------------:|:-----------:|\n|$1\\sim2$|$=2$|$10^6$|\n|$3\\sim4$|$=2$|$10^9$|\n|$5\\sim6$|$=3$|$10^6$|\n|$7\\sim8$|$=3$|$10^9$|\n|$9\\sim10$|$\\le20$|$15$|\n|$11\\sim13$|$\\le20$|$10^9$|\n|$14\\sim19$|$\\le1000$|$10^9$|\n|$20\\sim25$|$\\le2\\times10^5$|$10^9$|\n\n对于全部数据，保证：$2\\le n\\le 2\\times10^5$，$1\\le a_i\\le m_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11215", "type": "P", "difficulty": 4, "samples": [["5 6 2 1 1\n2 1 3 3\n3 5 5 6\n1 1 5", "10"], ["3 3 0 3 1\n1 3 1\n2 1 1\n3 2 1\n", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "O2优化", "队列", "梦熊比赛"], "title": "【MX-J8-T3】水星湖", "background": "原题链接：<https://oier.team/problems/J8C>。", "description": "有一个 $n\\times m$ 的矩形网格。用数对 $(x, y)$ 表示第 $x$ 行、第 $y$ 列的位置。\n\n网格内有 $q$ 片湖泊（$q$ 可能为 $0$），第 $i$ 片湖泊覆盖了左上角为 $(a_{i, 1}, b_{i, 1})$、右下角为 $(a_{i, 2}, b_{i, 2})$ 的矩形区域，这片区域里的所有位置都被称为湖泊。如果一个位置不属于任何一片湖泊，它就是陆地。湖泊两两不会重叠，但可能相邻。\n\n小 Y 会进行 $r$ 次种树。第 $i$ 次，他在第 $t_i$ 秒向 $(x_i, y_i)$ 里种下一棵树，保证该位置不为湖泊，且要么没有种下或生长过树，要么曾经种下或生长的树已经死亡。保证种树是按照时间顺序进行的，即 $t_1, t_2, \\dots, t_r$ 单调不降。\n\n每一秒，对于每个位置 $(x, y)$，若它同时满足如下所有条件，则会在 $(x, y)$ 处生长出一棵树：\n- 它是一块无树存活的陆地；\n- 它与一块湖泊**相邻**；\n- 它**在前一秒**与一棵存活的树**相邻**。\n\n（上述所说的**相邻**是在四连通意义下的，即位置 $(x_1, y_1)$ 和 $(x_2, y_2)$ 相邻当且仅当 $\\lvert x_1 - x_2 \\rvert + \\lvert y_1 - y_2 \\rvert = 1$。）\n\n如果一棵树在存活**大于 $\\bm k$ 秒**后（以其被种下或生长出来时开始计算），与其相邻的所有位置**均为无树存活的陆地**，则它会死亡。\n\n小 Y 想要知道：经过充分多时间后（也即，经过足够多的时间，使得网格内不会有新的位置长出树，也不会有旧的树死去的状态下），网格内最终会有多少棵树。", "inputFormat": "第一行，五个整数 $n, m, q, r, k$。\n\n接下来 $q$ 行，每行四个正整数 $a_{i, 1}, b_{i, 1}, a_{i, 2}, b_{i, 2}$，描述第 $i$ 片湖泊的位置。保证湖泊两两不会重叠。\n\n接下来 $r$ 行，每行三个正整数 $t_i, x_i, y_i$，分别表示第 $i$ 棵树被种下的秒数和行列位置。保证 $t_1, t_2, \\dots, t_r$ 单调不降。", "outputFormat": "仅一行一个整数，表示经过充分多时间后，网格内最终会有多少棵树。", "hint": "**【样例解释 \\#1】**\n\n如图所示，为经过充分多时间后网格中的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kdlmoo7p.png)\n\n网格内不会有新的位置长出树，也不会有旧的树死去，所以经过充分多时间后，网格内有 $10$ 棵树。\n\n**【样例解释 \\#2】**\n\n在这一组数据中，所有位置都是陆地，没有湖泊。\n\n第 $1$ 秒时，第一棵树在 $(3, 1)$ 被种下。\n\n第 $2$ 秒时，第二棵树在 $(1, 1)$ 被种下。紧接着，第一棵树已存活 $> 1$ 秒，且与其相邻的所有位置均为没有存活的树的陆地，因此死亡。\n\n第 $3$ 秒时，第三棵树在 $(2, 1)$ 被种下。紧接着，第二棵树已存活 $> 1$ 秒，而此时第三棵树与其相邻，因此不死亡。\n\n随后，网格内不会有新的位置长出树，也不会有旧的树死去。所以经过充分多时间后，网格内有 $2$ 棵树。\n\n**【样例 \\#3】**\n\n见附件中的 `lake/lake3.in` 与 `lake/lake3.ans`。\n\n该组样例满足测试点 $4 \\sim 7$ 的约束条件。\n\n**【样例 \\#4】**\n\n见附件中的 `lake/lake4.in` 与 `lake/lake4.ans`。\n\n该组样例满足测试点 $8 \\sim 10$ 的约束条件。\n\n**【样例 \\#5】**\n\n见附件中的 `lake/lake5.in` 与 `lake/lake5.ans`。\n\n该组样例满足测试点 $13 \\sim 15$ 的约束条件。\n\n**【样例 \\#6】**\n\n见附件中的 `lake/lake6.in` 与 `lake/lake6.ans`。\n\n该组样例满足测试点 $16 \\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $20$ 个测试点，每个 $5$ 分。\n\n|测试点编号|$n,m\\le$|$q\\le$|$r\\le$|$t_i,k\\le$|\n| :-----------: | :-------------:|:-----------: |:-----------: |:-----------: |\n|$1\\sim3$|$10$|$10$|$10$|$10$|\n|$4\\sim7$|$50$|$100$|$1000$|$1000$|\n|$8\\sim 10$|$3000$|$0$|$10^5$|$10^9$|\n|$11\\sim12$|$3000$|$10^5$|$1$|$10^9$|\n|$13\\sim15$|$1000$|$10^5$|$10^5$|$12$|\n|$16\\sim20$|$3000$|$10^5$|$10^5$|$10^9$|\n\n对于全部数据，保证：\n- $1 \\leq n, m \\leq 3000$；\n- $0 \\leq q \\leq 10^5$；\n- $1 \\leq a_{i, 1} \\le a_{i, 2} \\leq n$，$1 \\leq b_{i, 1} \\le b_{i, 2} \\leq m$；\n- 湖泊两两不会重叠；\n- $1 \\leq r \\leq 10^5$；\n- $1 \\leq t_1 \\leq t_2 \\leq \\dots \\leq t_r \\leq 10^9$；\n- $1 \\leq x_i \\leq n$，$1 \\leq y_i \\leq m$；\n- 位置 $(x_i, y_i)$ 不是湖泊且无树存活；\n- $1 \\leq k \\leq 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J8-T3】水星湖", "background": "原题链接：<https://oier.team/problems/J8C>。", "description": "有一个 $n\\times m$ 的矩形网格。用数对 $(x, y)$ 表示第 $x$ 行、第 $y$ 列的位置。\n\n网格内有 $q$ 片湖泊（$q$ 可能为 $0$），第 $i$ 片湖泊覆盖了左上角为 $(a_{i, 1}, b_{i, 1})$、右下角为 $(a_{i, 2}, b_{i, 2})$ 的矩形区域，这片区域里的所有位置都被称为湖泊。如果一个位置不属于任何一片湖泊，它就是陆地。湖泊两两不会重叠，但可能相邻。\n\n小 Y 会进行 $r$ 次种树。第 $i$ 次，他在第 $t_i$ 秒向 $(x_i, y_i)$ 里种下一棵树，保证该位置不为湖泊，且要么没有种下或生长过树，要么曾经种下或生长的树已经死亡。保证种树是按照时间顺序进行的，即 $t_1, t_2, \\dots, t_r$ 单调不降。\n\n每一秒，对于每个位置 $(x, y)$，若它同时满足如下所有条件，则会在 $(x, y)$ 处生长出一棵树：\n- 它是一块无树存活的陆地；\n- 它与一块湖泊**相邻**；\n- 它**在前一秒**与一棵存活的树**相邻**。\n\n（上述所说的**相邻**是在四连通意义下的，即位置 $(x_1, y_1)$ 和 $(x_2, y_2)$ 相邻当且仅当 $\\lvert x_1 - x_2 \\rvert + \\lvert y_1 - y_2 \\rvert = 1$。）\n\n如果一棵树在存活**大于 $\\bm k$ 秒**后（以其被种下或生长出来时开始计算），与其相邻的所有位置**均为无树存活的陆地**，则它会死亡。\n\n小 Y 想要知道：经过充分多时间后（也即，经过足够多的时间，使得网格内不会有新的位置长出树，也不会有旧的树死去的状态下），网格内最终会有多少棵树。", "inputFormat": "第一行，五个整数 $n, m, q, r, k$。\n\n接下来 $q$ 行，每行四个正整数 $a_{i, 1}, b_{i, 1}, a_{i, 2}, b_{i, 2}$，描述第 $i$ 片湖泊的位置。保证湖泊两两不会重叠。\n\n接下来 $r$ 行，每行三个正整数 $t_i, x_i, y_i$，分别表示第 $i$ 棵树被种下的秒数和行列位置。保证 $t_1, t_2, \\dots, t_r$ 单调不降。", "outputFormat": "仅一行一个整数，表示经过充分多时间后，网格内最终会有多少棵树。", "hint": "**【样例解释 \\#1】**\n\n如图所示，为经过充分多时间后网格中的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kdlmoo7p.png)\n\n网格内不会有新的位置长出树，也不会有旧的树死去，所以经过充分多时间后，网格内有 $10$ 棵树。\n\n**【样例解释 \\#2】**\n\n在这一组数据中，所有位置都是陆地，没有湖泊。\n\n第 $1$ 秒时，第一棵树在 $(3, 1)$ 被种下。\n\n第 $2$ 秒时，第二棵树在 $(1, 1)$ 被种下。紧接着，第一棵树已存活 $> 1$ 秒，且与其相邻的所有位置均为没有存活的树的陆地，因此死亡。\n\n第 $3$ 秒时，第三棵树在 $(2, 1)$ 被种下。紧接着，第二棵树已存活 $> 1$ 秒，而此时第三棵树与其相邻，因此不死亡。\n\n随后，网格内不会有新的位置长出树，也不会有旧的树死去。所以经过充分多时间后，网格内有 $2$ 棵树。\n\n**【样例 \\#3】**\n\n见附件中的 `lake/lake3.in` 与 `lake/lake3.ans`。\n\n该组样例满足测试点 $4 \\sim 7$ 的约束条件。\n\n**【样例 \\#4】**\n\n见附件中的 `lake/lake4.in` 与 `lake/lake4.ans`。\n\n该组样例满足测试点 $8 \\sim 10$ 的约束条件。\n\n**【样例 \\#5】**\n\n见附件中的 `lake/lake5.in` 与 `lake/lake5.ans`。\n\n该组样例满足测试点 $13 \\sim 15$ 的约束条件。\n\n**【样例 \\#6】**\n\n见附件中的 `lake/lake6.in` 与 `lake/lake6.ans`。\n\n该组样例满足测试点 $16 \\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $20$ 个测试点，每个 $5$ 分。\n\n|测试点编号|$n,m\\le$|$q\\le$|$r\\le$|$t_i,k\\le$|\n| :-----------: | :-------------:|:-----------: |:-----------: |:-----------: |\n|$1\\sim3$|$10$|$10$|$10$|$10$|\n|$4\\sim7$|$50$|$100$|$1000$|$1000$|\n|$8\\sim 10$|$3000$|$0$|$10^5$|$10^9$|\n|$11\\sim12$|$3000$|$10^5$|$1$|$10^9$|\n|$13\\sim15$|$1000$|$10^5$|$10^5$|$12$|\n|$16\\sim20$|$3000$|$10^5$|$10^5$|$10^9$|\n\n对于全部数据，保证：\n- $1 \\leq n, m \\leq 3000$；\n- $0 \\leq q \\leq 10^5$；\n- $1 \\leq a_{i, 1} \\le a_{i, 2} \\leq n$，$1 \\leq b_{i, 1} \\le b_{i, 2} \\leq m$；\n- 湖泊两两不会重叠；\n- $1 \\leq r \\leq 10^5$；\n- $1 \\leq t_1 \\leq t_2 \\leq \\dots \\leq t_r \\leq 10^9$；\n- $1 \\leq x_i \\leq n$，$1 \\leq y_i \\leq m$；\n- 位置 $(x_i, y_i)$ 不是湖泊且无树存活；\n- $1 \\leq k \\leq 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P11216", "type": "P", "difficulty": 6, "samples": [["5 71\n3 4\n4 3\n4 4\n4 5\n5 6\n", "8\n0\n12\n34\n20\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "O2优化", "区间 DP", "动态规划优化", "前缀和", "梦熊比赛"], "title": "【MX-J8-T4】2048", "background": "原题链接：<https://oier.team/problems/J8D>。\n\n---\n\n[《2048》](https://2048game.com/)是一款非常好玩，火爆全球的小游戏。", "description": "现在，小 Y 把《2048》稍做修改，得到如下的一维变种（其中部分规则可能与你对《2048》的印象相悖，请以下文为准）：\n\n- 游戏在一行 $n$ 个格子组成的网格中进行。每个格子要么为空，要么包含一个带有正整数权值的方块。\n- 游戏开始时，会在一个任意的格子上生成一个权值为 $2$ 的方块，其他格子为空。\n- 玩家通过向左（或右，下同）滑动进行操作。每次操作：\n  1. 所有方块将全部靠左（或右）堆叠放置，彼此紧贴，不留空位。\n  2. 如果堆叠完毕后，存在相邻的两个方块权值相等，设其权值均为 $k$，则消除这两个方块，并在原先其中一个方块的位置生成一个权值为 $2k$ 的方块（这称作一次合并）（**可以证明，在该游戏过程中不会存在连续 $\\bm 3$ 个相邻方块权值相等，因此不需要考虑合并顺序的问题**），随后所有方块继续向左（或右）堆叠，直到不存在能合并的情况为止。\n  3. 最后，在最右（或左）端，即滑动方向的相反方向，生成一个权值为 $2$ 的新方块。\n\n下图展示了一次向左滑动操作的示例。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d7qp6f1i.png)\n\n- 如下定义一个方块的**出现时间**：\n  - 设它被生成时，游戏进行的轮数（即玩家进行滑动操作的次数）为 $i$（包括当前操作）。\n  - 如果该方块是被合并生成的，令它的出现时间为 $2 i$；\n  - 否则该方块是新生成的，令它的出现时间为 $2 i + 1$；\n  - 如果该方块是游戏最开始时生成的权值为 $2$ 的方块，令它的出现时间为 $1$。\n  - 可以证明，按如上定义的出现时间满足：在游戏进行的任意时刻下，任意两个不同方块的出现时间均不同。\n- 游戏的目标是生成 $2^x$，因此在游戏的任何过程中，一旦出现了 $2^x$，游戏立刻结束，且游戏胜利。\n- 如果一次滑动操作的步骤 2 结束时，所有 $n$ 个格子全都包含方块（事实上，这次滑动操作是滑不动的，但仍然认为是一次滑动操作），则步骤 3 中无法正常生成新方块，不会进行步骤 3，且游戏失败。\n\n小 Y 正在研究这个新 2048 游戏的所有失败状态的个数。具体地，在游戏失败时，两个失败状态 A 和 \nB 被认为**本质相同**，当且仅当以下条件同时成立：\n\n- 对每个 $1 \\leq i \\leq n$，A 中方块 $i$ 和 B 中方块 $i$ 的权值均相同；\n- 对每对 $1 \\le i < j \\le n$，A 中的方块 $i$ 与方块 $j$ 的出现时间的大小关系，与 B 中的方块 $i$ 与方块 $j$ 的出现时间的大小关系相同。\n\n小 Y 想要知道，总共有多少种**本质不同**的失败状态。答案对给定模数 $p$ 取模（$p$ 未必为素数）。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，两个正整数 $T, p$，分别表示数据组数和模数。对于每组数据：\n\n- 仅一行，两个整数 $n, x$。", "outputFormat": "对于每组数据：\n\n- 仅一行一个正整数，表示本质不同的失败状态数，答案对 $p$ 取模。", "hint": "**【样例解释 \\#1】**\n\n对于第一组数据，$n = 3$，$x = 4$：\n- 仅从网格状态上看，共有 $6$ 种失败的可能性：$[8, 4, 2], [2, 4, 8], [2, 8, 4], [4, 8, 2], [2, 8, 2],[2, 4, 2]$。\n  - 但考虑 $[2, 8, 2]$，其可以对应两种本质不同的失败状态：\n    - 中间的 $8$ 先被生成，随后左边的 $2$ 生成，随后右边的 $2$ 生成；\n    - 中间的 $8$ 先被生成，随后右边的 $2$ 生成，随后左边的 $2$ 生成。\n  - 对于 $[2, 4, 2]$ 也是同理。\n- 对于其它的可能性，可以证明其只能对应一种本质不同的失败状态。\n- 所以，答案为 $1 + 1 + 1 + 1 + 2 + 2 = 8$，在模 $71$ 意义下为 $8$。\n\n对于第二组数据，$n = 4$，$x = 3$：\n- 可以证明，无论如何，游戏都将胜利，因此不存在任何失败状态，答案为 $0$。\n\n对于第三组数据，$n = 4$，$x = 4$：\n- 仅从网格状态上看，共有 $4$ 种失败的可能性：$[2, 8, 4, 2], [2, 4, 8, 2], [4, 8, 4, 2],[2, 4, 8, 4]$。\n- 其中，$[2, 8, 4, 2]$ 和 $[2, 4, 8, 2]$ 分别对应 $4$ 种本质不同的失败情况，$[4, 8, 4, 2]$ 和 $[2, 4, 8, 4]$ 分别对应 $2$ 种本质不同的失败情况。\n  - 以 $[2, 8, 4, 2]$ 为例，下面列举该局面对应的 $4$ 种本质不同的失败情况（操作方式不唯一，数字上面的小数字表示出现时间）：\n    $$ \\begin{aligned} & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] & & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] & & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] & & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{R}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{R}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{10}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{13}{2}] & \\stackrel{\\text{R}}\\to& [\\overset{13}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{11}{2}, \\overset{13}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{10}{8}, \\overset{11}{2}, \\overset{13}{2}] \\\\ \\stackrel{\\text{R}}\\to& [\\overset{15}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}, \\overset{13}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{13}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}, \\overset{15}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{14}{4}, \\overset{15}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{10}{8}, \\overset{14}{4}, \\overset{15}{2}] \\end{aligned} $$\n    对这 $4$ 种情况，出现时间的大小关系（离散化后）分别为 $[4, 1, 2, 3]$、$[3, 1, 2, 4]$、$[2, 1, 3, 4]$、$[1, 2, 3, 4]$。\n- 所以，答案为 $4 + 4 + 2 + 2 = 12$，在模 $71$ 意义下为 $12$。\n\n对于第四组数据，$n = 4$，$x = 5$：\n- 可以证明答案为 $34$，在模 $71$ 意义下为 $34$。\n\n对于第五组数据，$n = 5$，$x = 6$：\n- 可以证明答案为 $162$，在模 $71$ 意义下为 $20$。\n\n**【样例 \\#2】**\n\n见附件中的 `game/game2.in` 与 `game/game2.ans`。\n\n该组样例满足测试点 $3 \\sim 5$ 的约束条件。\n\n**【样例 \\#3】**\n\n见附件中的 `game/game3.in` 与 `game/game3.ans`。\n\n该组样例满足测试点 $6 \\sim 10$ 的约束条件。\n\n**【样例 \\#4】**\n\n见附件中的 `game/game4.in` 与 `game/game4.ans`。\n\n该组样例满足测试点 $14 \\sim 17$ 的约束条件。\n\n**【样例 \\#5】**\n\n见附件中的 `game/game5.in` 与 `game/game5.ans`。\n\n该组样例满足测试点 $22 \\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n\n|测试点编号|$T \\le$|$n,x \\le$|特殊性质|\n| :-----------: | :-------------:|:-----------:|:-----------: |\n|$1\\sim2$|$10$|$4$|无\n|$3\\sim5$|$10$|$10$|无\n|$6\\sim10$|$10$|$22$|无\n|$11\\sim13$|$1$|$80$|无\n|$14\\sim17$|$1000$|$80$|无\n|$18\\sim20$|$1$|$300$|无\n|$21$|$10^5$|$300$| $p = 2$ |\n|$22\\sim25$|$10^5$|$300$|无\n\n\n对于全部数据，保证：$1\\le T\\le 10^5$，$1\\le n,x\\le 300$，$2\\le p\\le10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J8-T4】2048", "background": "原题链接：<https://oier.team/problems/J8D>。\n\n---\n\n[《2048》](https://2048game.com/)是一款非常好玩，火爆全球的小游戏。", "description": "现在，小 Y 把《2048》稍做修改，得到如下的一维变种（其中部分规则可能与你对《2048》的印象相悖，请以下文为准）：\n\n- 游戏在一行 $n$ 个格子组成的网格中进行。每个格子要么为空，要么包含一个带有正整数权值的方块。\n- 游戏开始时，会在一个任意的格子上生成一个权值为 $2$ 的方块，其他格子为空。\n- 玩家通过向左（或右，下同）滑动进行操作。每次操作：\n  1. 所有方块将全部靠左（或右）堆叠放置，彼此紧贴，不留空位。\n  2. 如果堆叠完毕后，存在相邻的两个方块权值相等，设其权值均为 $k$，则消除这两个方块，并在原先其中一个方块的位置生成一个权值为 $2k$ 的方块（这称作一次合并）（**可以证明，在该游戏过程中不会存在连续 $\\bm 3$ 个相邻方块权值相等，因此不需要考虑合并顺序的问题**），随后所有方块继续向左（或右）堆叠，直到不存在能合并的情况为止。\n  3. 最后，在最右（或左）端，即滑动方向的相反方向，生成一个权值为 $2$ 的新方块。\n\n下图展示了一次向左滑动操作的示例。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d7qp6f1i.png)\n\n- 如下定义一个方块的**出现时间**：\n  - 设它被生成时，游戏进行的轮数（即玩家进行滑动操作的次数）为 $i$（包括当前操作）。\n  - 如果该方块是被合并生成的，令它的出现时间为 $2 i$；\n  - 否则该方块是新生成的，令它的出现时间为 $2 i + 1$；\n  - 如果该方块是游戏最开始时生成的权值为 $2$ 的方块，令它的出现时间为 $1$。\n  - 可以证明，按如上定义的出现时间满足：在游戏进行的任意时刻下，任意两个不同方块的出现时间均不同。\n- 游戏的目标是生成 $2^x$，因此在游戏的任何过程中，一旦出现了 $2^x$，游戏立刻结束，且游戏胜利。\n- 如果一次滑动操作的步骤 2 结束时，所有 $n$ 个格子全都包含方块（事实上，这次滑动操作是滑不动的，但仍然认为是一次滑动操作），则步骤 3 中无法正常生成新方块，不会进行步骤 3，且游戏失败。\n\n小 Y 正在研究这个新 2048 游戏的所有失败状态的个数。具体地，在游戏失败时，两个失败状态 A 和 \nB 被认为**本质相同**，当且仅当以下条件同时成立：\n\n- 对每个 $1 \\leq i \\leq n$，A 中方块 $i$ 和 B 中方块 $i$ 的权值均相同；\n- 对每对 $1 \\le i < j \\le n$，A 中的方块 $i$ 与方块 $j$ 的出现时间的大小关系，与 B 中的方块 $i$ 与方块 $j$ 的出现时间的大小关系相同。\n\n小 Y 想要知道，总共有多少种**本质不同**的失败状态。答案对给定模数 $p$ 取模（$p$ 未必为素数）。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，两个正整数 $T, p$，分别表示数据组数和模数。对于每组数据：\n\n- 仅一行，两个整数 $n, x$。", "outputFormat": "对于每组数据：\n\n- 仅一行一个正整数，表示本质不同的失败状态数，答案对 $p$ 取模。", "hint": "**【样例解释 \\#1】**\n\n对于第一组数据，$n = 3$，$x = 4$：\n- 仅从网格状态上看，共有 $6$ 种失败的可能性：$[8, 4, 2], [2, 4, 8], [2, 8, 4], [4, 8, 2], [2, 8, 2],[2, 4, 2]$。\n  - 但考虑 $[2, 8, 2]$，其可以对应两种本质不同的失败状态：\n    - 中间的 $8$ 先被生成，随后左边的 $2$ 生成，随后右边的 $2$ 生成；\n    - 中间的 $8$ 先被生成，随后右边的 $2$ 生成，随后左边的 $2$ 生成。\n  - 对于 $[2, 4, 2]$ 也是同理。\n- 对于其它的可能性，可以证明其只能对应一种本质不同的失败状态。\n- 所以，答案为 $1 + 1 + 1 + 1 + 2 + 2 = 8$，在模 $71$ 意义下为 $8$。\n\n对于第二组数据，$n = 4$，$x = 3$：\n- 可以证明，无论如何，游戏都将胜利，因此不存在任何失败状态，答案为 $0$。\n\n对于第三组数据，$n = 4$，$x = 4$：\n- 仅从网格状态上看，共有 $4$ 种失败的可能性：$[2, 8, 4, 2], [2, 4, 8, 2], [4, 8, 4, 2],[2, 4, 8, 4]$。\n- 其中，$[2, 8, 4, 2]$ 和 $[2, 4, 8, 2]$ 分别对应 $4$ 种本质不同的失败情况，$[4, 8, 4, 2]$ 和 $[2, 4, 8, 4]$ 分别对应 $2$ 种本质不同的失败情况。\n  - 以 $[2, 8, 4, 2]$ 为例，下面列举该局面对应的 $4$ 种本质不同的失败情况（操作方式不唯一，数字上面的小数字表示出现时间）：\n    $$ \\begin{aligned} & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] & & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] & & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] & & [\\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}1\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}3\\hspace{3.84625mu}}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{R}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}] & \\stackrel{\\text{R}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}4\\hspace{3.84625mu}}{4}, \\overset{\\hspace{3.84625mu}7\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{10}{8}, \\overset{\\hspace{15.385mu}}{}, \\overset{11}{2}] \\\\ \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}, \\overset{\\hspace{15.385mu}}{}, \\overset{13}{2}] & \\stackrel{\\text{R}}\\to& [\\overset{13}{2}, \\overset{\\hspace{15.385mu}}{}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{11}{2}, \\overset{13}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{10}{8}, \\overset{11}{2}, \\overset{13}{2}] \\\\ \\stackrel{\\text{R}}\\to& [\\overset{15}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}, \\overset{13}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{13}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{12}{4}, \\overset{15}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}9\\hspace{3.84625mu}}{2}, \\overset{\\hspace{3.84625mu}8\\hspace{3.84625mu}}{8}, \\overset{14}{4}, \\overset{15}{2}] & \\stackrel{\\text{L}}\\to& [\\overset{\\hspace{3.84625mu}5\\hspace{3.84625mu}}{2}, \\overset{10}{8}, \\overset{14}{4}, \\overset{15}{2}] \\end{aligned} $$\n    对这 $4$ 种情况，出现时间的大小关系（离散化后）分别为 $[4, 1, 2, 3]$、$[3, 1, 2, 4]$、$[2, 1, 3, 4]$、$[1, 2, 3, 4]$。\n- 所以，答案为 $4 + 4 + 2 + 2 = 12$，在模 $71$ 意义下为 $12$。\n\n对于第四组数据，$n = 4$，$x = 5$：\n- 可以证明答案为 $34$，在模 $71$ 意义下为 $34$。\n\n对于第五组数据，$n = 5$，$x = 6$：\n- 可以证明答案为 $162$，在模 $71$ 意义下为 $20$。\n\n**【样例 \\#2】**\n\n见附件中的 `game/game2.in` 与 `game/game2.ans`。\n\n该组样例满足测试点 $3 \\sim 5$ 的约束条件。\n\n**【样例 \\#3】**\n\n见附件中的 `game/game3.in` 与 `game/game3.ans`。\n\n该组样例满足测试点 $6 \\sim 10$ 的约束条件。\n\n**【样例 \\#4】**\n\n见附件中的 `game/game4.in` 与 `game/game4.ans`。\n\n该组样例满足测试点 $14 \\sim 17$ 的约束条件。\n\n**【样例 \\#5】**\n\n见附件中的 `game/game5.in` 与 `game/game5.ans`。\n\n该组样例满足测试点 $22 \\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n\n|测试点编号|$T \\le$|$n,x \\le$|特殊性质|\n| :-----------: | :-------------:|:-----------:|:-----------: |\n|$1\\sim2$|$10$|$4$|无\n|$3\\sim5$|$10$|$10$|无\n|$6\\sim10$|$10$|$22$|无\n|$11\\sim13$|$1$|$80$|无\n|$14\\sim17$|$1000$|$80$|无\n|$18\\sim20$|$1$|$300$|无\n|$21$|$10^5$|$300$| $p = 2$ |\n|$22\\sim25$|$10^5$|$300$|无\n\n\n对于全部数据，保证：$1\\le T\\le 10^5$，$1\\le n,x\\le 300$，$2\\le p\\le10^9$。", "locale": "zh-CN"}}}
{"pid": "P11217", "type": "P", "difficulty": 4, "samples": [["6 4 75\n9 1 4 5 1 4\n1 1 1\n3 5 3\n3 5 1\n3 5 3\n", "11\n9\n8\n8\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "二分", "O2优化", "梦熊比赛"], "title": "【MX-S4-T1】「yyOI R2」youyou 的垃圾桶", "background": "原题链接：<https://oier.team/problems/S4A>。", "description": "现在有 $n$ 个垃圾桶，它们对 youyou 发起攻击。第 $i$ 个垃圾桶的初始攻击力为正整数 $a_i$。youyou 的初始生命值为正整数 $W$。\n\n定义如下流程为一场战斗：\n\n- 从第 $1$ 个垃圾桶开始，每个垃圾桶依次进行攻击。第 $i$ 个垃圾桶发起攻击时，youyou 的生命值 $W$ 减去 $a_i$，然后本次战斗第 $i$ 个垃圾桶的攻击力 $a_i$ 翻倍。在第 $n$ 个垃圾桶攻击完后，重复执行此流程。\n\n当 $W\\le 0$ 时，也即 youyou 死亡时，本场战斗立刻结束。然后重置 youyou 的生命值 $W$ 以及所有垃圾桶的攻击力 $a_i$ 为本场战斗之前的值。\n\n定义本次战斗的评分为受到垃圾桶攻击的次数（不包括恰好使 youyou 死亡的垃圾桶的攻击）。\n\n现在一共要进行 $q$ 场战斗，每场战斗给出三个数 $l,r,d$，表示先对第 $[l,r]$ 只垃圾桶进行强化，使这些垃圾桶的初始攻击力 $a_i$ 增加 $d$，然后进行一场战斗。你需要告诉 youyou 此次战斗的评分。\n\n**每场战斗前对垃圾桶初始攻击力的增加会对之后所有的战斗产生影响。**", "inputFormat": "第一行为三个整数 $n,q,W$，分别表示垃圾桶个数、战斗次数、生命值。\n\n第二行为 $n$ 个整数，第 $i$ 个数表示进行所有战斗之前第 $i$ 个垃圾桶的攻击力 $a_i$。\n\n下面 $q$ 行，第 $i$ 行为三个整数 $l,r,d$，表示第 $i$ 场战斗前强化的参数。", "outputFormat": "输出共 $q$ 行，第 $i$ 行输出一个数 $s_i$ 表示第 $i$ 次战斗的评分。", "hint": "**【样例解释 #1】**\n\n四场战斗前的强化分别是：\n\n- 对 $[1,1]$ 的垃圾桶增加 $1$ 点攻击力。\n- 对 $[3,5]$ 的垃圾桶增加 $3$ 点攻击力。\n- 对 $[3,5]$ 的垃圾桶增加 $1$ 点攻击力。\n- 对 $[3,5]$ 的垃圾桶增加 $3$ 点攻击力。\n\n第一场战斗，垃圾桶的初始攻击力分别为 $10,1,4,5,1,4$。\n\nyouyou 首先分别依次受到这些垃圾桶的攻击各一次，此时剩余生命值 $50$。垃圾桶攻击力变为 $20,2,8,10,2,8$。\n\n接着 youyou 受到第一只垃圾桶的攻击，剩余生命值为 $30$。\n\n受到第二只垃圾桶攻击，剩余生命值 $28$。\n\n受到第三只垃圾桶攻击，剩余生命值 $20$。\n\n依次类推，受到第六只垃圾桶攻击时，剩余生命值为 $0$。因为不包括致命攻击，所以共接受了 $6+5=11$ 次攻击。\n\n第二场战斗，垃圾桶的初始攻击力分别为 $10,1,7,8,4,4$。\n\n第三场战斗，垃圾桶的初始攻击力分别为 $10,1,8,9,5,4$。\n\n第四场战斗，垃圾桶的初始攻击力分别为 $10,1,11,12,8,4$。\n\n可以得出第 $2\\sim 4$ 场战斗的评分分别为 $9,8,8$。\n\n\n\n**【样例 #2】**\n\n见附件中的 ```wxyt/wxyt2.in``` 与 ```wxyt/wxyt2.ans```。\n\n该组样例满足测试点 $1\\sim 4$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 ```wxyt/wxyt3.in``` 与 ```wxyt/wxyt3.ans```。\n\n该组样例满足测试点 $13\\sim 14$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```wxyt/wxyt4.in``` 与 ```wxyt/wxyt4.ans```。\n\n该组样例满足测试点 $15\\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $20$ 个测试点，每个 $5$ 分。\n\n| 测试点编号 | $n$ | $q$ |\n| :-----------: | :-----------: | :-----------: |\n| $1 \\sim 4$ | $\\le 2 \\times 10^5$ | $\\le 10$ |  \n| $5 \\sim 7$ | $\\le 2 \\times 10^5$ | $\\le 10^3$ |\n| $8 \\sim 10$ | $\\le 2 \\times 10^5$ | $\\le 10^5$ | \n| $11 \\sim 12$ | $\\le 3 \\times 10^3$ | $\\le 10^5$ |\n| $13 \\sim 14$ | $\\le 3 \\times 10^3$ | $\\le10^6$ |\n| $15 \\sim 20$ | $\\le 2 \\times 10^5$ | $\\le10^6$ |\n\n对于全部数据，保证：$1 \\le n \\le 2 \\times 10^5$，$1 \\le q \\le 10^6$，$1 \\le W \\le 10^{18}$，$1 \\le a_i \\le 10^{6}$，$1 \\le l \\le r \\le n$，$1 \\le d \\le 2^{15}$。 ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S4-T1】「yyOI R2」youyou 的垃圾桶", "background": "原题链接：<https://oier.team/problems/S4A>。", "description": "现在有 $n$ 个垃圾桶，它们对 youyou 发起攻击。第 $i$ 个垃圾桶的初始攻击力为正整数 $a_i$。youyou 的初始生命值为正整数 $W$。\n\n定义如下流程为一场战斗：\n\n- 从第 $1$ 个垃圾桶开始，每个垃圾桶依次进行攻击。第 $i$ 个垃圾桶发起攻击时，youyou 的生命值 $W$ 减去 $a_i$，然后本次战斗第 $i$ 个垃圾桶的攻击力 $a_i$ 翻倍。在第 $n$ 个垃圾桶攻击完后，重复执行此流程。\n\n当 $W\\le 0$ 时，也即 youyou 死亡时，本场战斗立刻结束。然后重置 youyou 的生命值 $W$ 以及所有垃圾桶的攻击力 $a_i$ 为本场战斗之前的值。\n\n定义本次战斗的评分为受到垃圾桶攻击的次数（不包括恰好使 youyou 死亡的垃圾桶的攻击）。\n\n现在一共要进行 $q$ 场战斗，每场战斗给出三个数 $l,r,d$，表示先对第 $[l,r]$ 只垃圾桶进行强化，使这些垃圾桶的初始攻击力 $a_i$ 增加 $d$，然后进行一场战斗。你需要告诉 youyou 此次战斗的评分。\n\n**每场战斗前对垃圾桶初始攻击力的增加会对之后所有的战斗产生影响。**", "inputFormat": "第一行为三个整数 $n,q,W$，分别表示垃圾桶个数、战斗次数、生命值。\n\n第二行为 $n$ 个整数，第 $i$ 个数表示进行所有战斗之前第 $i$ 个垃圾桶的攻击力 $a_i$。\n\n下面 $q$ 行，第 $i$ 行为三个整数 $l,r,d$，表示第 $i$ 场战斗前强化的参数。", "outputFormat": "输出共 $q$ 行，第 $i$ 行输出一个数 $s_i$ 表示第 $i$ 次战斗的评分。", "hint": "**【样例解释 #1】**\n\n四场战斗前的强化分别是：\n\n- 对 $[1,1]$ 的垃圾桶增加 $1$ 点攻击力。\n- 对 $[3,5]$ 的垃圾桶增加 $3$ 点攻击力。\n- 对 $[3,5]$ 的垃圾桶增加 $1$ 点攻击力。\n- 对 $[3,5]$ 的垃圾桶增加 $3$ 点攻击力。\n\n第一场战斗，垃圾桶的初始攻击力分别为 $10,1,4,5,1,4$。\n\nyouyou 首先分别依次受到这些垃圾桶的攻击各一次，此时剩余生命值 $50$。垃圾桶攻击力变为 $20,2,8,10,2,8$。\n\n接着 youyou 受到第一只垃圾桶的攻击，剩余生命值为 $30$。\n\n受到第二只垃圾桶攻击，剩余生命值 $28$。\n\n受到第三只垃圾桶攻击，剩余生命值 $20$。\n\n依次类推，受到第六只垃圾桶攻击时，剩余生命值为 $0$。因为不包括致命攻击，所以共接受了 $6+5=11$ 次攻击。\n\n第二场战斗，垃圾桶的初始攻击力分别为 $10,1,7,8,4,4$。\n\n第三场战斗，垃圾桶的初始攻击力分别为 $10,1,8,9,5,4$。\n\n第四场战斗，垃圾桶的初始攻击力分别为 $10,1,11,12,8,4$。\n\n可以得出第 $2\\sim 4$ 场战斗的评分分别为 $9,8,8$。\n\n\n\n**【样例 #2】**\n\n见附件中的 ```wxyt/wxyt2.in``` 与 ```wxyt/wxyt2.ans```。\n\n该组样例满足测试点 $1\\sim 4$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 ```wxyt/wxyt3.in``` 与 ```wxyt/wxyt3.ans```。\n\n该组样例满足测试点 $13\\sim 14$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```wxyt/wxyt4.in``` 与 ```wxyt/wxyt4.ans```。\n\n该组样例满足测试点 $15\\sim 20$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $20$ 个测试点，每个 $5$ 分。\n\n| 测试点编号 | $n$ | $q$ |\n| :-----------: | :-----------: | :-----------: |\n| $1 \\sim 4$ | $\\le 2 \\times 10^5$ | $\\le 10$ |  \n| $5 \\sim 7$ | $\\le 2 \\times 10^5$ | $\\le 10^3$ |\n| $8 \\sim 10$ | $\\le 2 \\times 10^5$ | $\\le 10^5$ | \n| $11 \\sim 12$ | $\\le 3 \\times 10^3$ | $\\le 10^5$ |\n| $13 \\sim 14$ | $\\le 3 \\times 10^3$ | $\\le10^6$ |\n| $15 \\sim 20$ | $\\le 2 \\times 10^5$ | $\\le10^6$ |\n\n对于全部数据，保证：$1 \\le n \\le 2 \\times 10^5$，$1 \\le q \\le 10^6$，$1 \\le W \\le 10^{18}$，$1 \\le a_i \\le 10^{6}$，$1 \\le l \\le r \\le n$，$1 \\le d \\le 2^{15}$。 ", "locale": "zh-CN"}}}
{"pid": "P11218", "type": "P", "difficulty": 5, "samples": [["0 2\n5 2\n11110\n01001\n7 1\n1110000\n0001111", "2\n4\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "博弈论", "O2优化", "连通块", "梦熊比赛"], "title": "【MX-S4-T2】「yyOI R2」youyou 不喜欢夏天", "background": "原题链接：<https://oier.team/problems/S4B>。", "description": "youyou 有一个大小为 $2 \\times n $ 的网格，每个格子可能是黑色或者白色。\n\n现在 youyou 和 yy 要在这个网格上玩一个游戏：\n\n- youyou 先选取出一个可以为空的**连通块**。\n- 之后 yy 可以选择网格中最多 $m$ 列，将这些列上下行的格子颜色互换。\n\n定义一个格子集合 $S$ 为一个连通块，当且仅当 $S$ 中任意两个格子可以通过集合 $S$ 内**边相邻**的若干个格子连通（即四连通）。\n\nyouyou 希望最大化最终连通块中黑色格子减白色格子的数量，而 yy 希望最小化之。\n\n现在 youyou 希望你求出：在双方都采用最优策略的情况下，最终连通块黑色格子减白色格子的数量是多少？\n", "inputFormat": "**本题有多组测试数据**。\n\n第一行为两个整数 $c,T$，分别表示测试点编号和数据组数，$c = 0$ 表示该测试点为样例。\n\n对于每一组测试数据，第一行为两个整数 $n,m$，表示给定网格图的列数和交换次数。\n\n接下来两行，每行用一个长度为 $n$ 的 $01$ 串表示每个对应位置网格的颜色，其中 $1$ 表示黑色格子，$0$ 表示白色格子。", "outputFormat": "对于每一组测试数据，输出一行一个数，表示最终黑色格子减白色格子的数量。", "hint": "**【样例解释 \\#1】**\n\n下文中记 $(x,y)$ 表示第 $x$ 行第 $y$ 列的格子。\n\n对于第一组数据，youyou 选择 $(1,2)$ 和 $(2,2)$ 两个格子，无论 yy 怎么交换，最终黑色格子和白色格子数量的差至少为 $2$。可以证明没有更优的解。\n\n对于第二组数据，youyou 选择 $(1,1),(1,2),(1,3),(1,4),(2,4),(2,5),(2,6),(2,7)$ 八个格子，无论 yy 怎么交换，最终黑色格子和白色格子数量的差至少为 $4$。可以证明没有更优的解。\n\n**【样例 #2】**\n\n见附件中的 ```summer/summer2.in``` 与 ```summer/summer2.ans```。\n\n该组样例满足测试点 $4\\sim 7$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 ```summer/summer3.in``` 与 ```summer/summer3.ans```。\n\n该组样例满足测试点 $10\\sim 11$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```summer/summer4.in``` 与 ```summer/summer4.ans```。\n\n\n对于第一组测试数据，其满足特殊性质 A。\n\n对于第二组测试数据，其满足特殊性质 B 和 C。\n\n对于第三组测试数据，其满足特殊性质 B。\n\n对于第四组测试数据，其满足特殊性质 C。\n\n对于第五组测试数据，其满足特殊性质 D。\n\n该组样例满足 $T=5$，$\\sum n \\le 2\\times10^6$。\n\n**【样例 #5】**\n\n见附件中的 ```summer/summer5.in``` 与 ```summer/summer5.ans```。\n\n该组样例满足测试点 $23 \\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n\n|  测试点编号  |         $\\sum n$         | 特殊性质 |\n| :----------: | :-----------------: | :------: |\n|  $1 \\sim 3$  |      $\\le 18$       |    无    |\n|  $4 \\sim 7$  |      $\\le 100$      |    无    |\n| $8 \\sim 9$  | $\\le10^3$ |    无    |\n| $10 \\sim 11$  | $\\le2\\times10^5$ |    无    |\n| $12 \\sim 13$ | $\\le 2 \\times 10^6$ |    A|\n| $14 \\sim 15$ | $\\le 2 \\times 10^6$ |    B 和 C|\n| $16 \\sim 17$ |     $\\le 2 \\times 10^6$   |  B  |\n| $18 \\sim 19$ |    $\\le 2 \\times 10^6$    |  C  |\n| $20 \\sim 22$ |     $\\le 2 \\times 10^6$   |  D  |\n| $23 \\sim 25$  | $\\le 2 \\times 10^6$ |    无    |\n\n特殊性质 A：保证不存在任何一列，使得上下两格为一黑一白。  \n特殊性质 B：保证不存在任何一列，使得上下两格均为黑色。  \n特殊性质 C：保证不存在任何一列，使得上下两格均为白色。  \n特殊性质 D：保证对于任意位置，其颜色在黑白中等概率随机生成。\n\n对于全部数据，保证：$1\\le T \\le 5$，$1 \\le m \\le n \\le 2\\times 10^6$，$\\sum{n}\\le 2\\times10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S4-T2】「yyOI R2」youyou 不喜欢夏天", "background": "原题链接：<https://oier.team/problems/S4B>。", "description": "youyou 有一个大小为 $2 \\times n $ 的网格，每个格子可能是黑色或者白色。\n\n现在 youyou 和 yy 要在这个网格上玩一个游戏：\n\n- youyou 先选取出一个可以为空的**连通块**。\n- 之后 yy 可以选择网格中最多 $m$ 列，将这些列上下行的格子颜色互换。\n\n定义一个格子集合 $S$ 为一个连通块，当且仅当 $S$ 中任意两个格子可以通过集合 $S$ 内**边相邻**的若干个格子连通（即四连通）。\n\nyouyou 希望最大化最终连通块中黑色格子减白色格子的数量，而 yy 希望最小化之。\n\n现在 youyou 希望你求出：在双方都采用最优策略的情况下，最终连通块黑色格子减白色格子的数量是多少？\n", "inputFormat": "**本题有多组测试数据**。\n\n第一行为两个整数 $c,T$，分别表示测试点编号和数据组数，$c = 0$ 表示该测试点为样例。\n\n对于每一组测试数据，第一行为两个整数 $n,m$，表示给定网格图的列数和交换次数。\n\n接下来两行，每行用一个长度为 $n$ 的 $01$ 串表示每个对应位置网格的颜色，其中 $1$ 表示黑色格子，$0$ 表示白色格子。", "outputFormat": "对于每一组测试数据，输出一行一个数，表示最终黑色格子减白色格子的数量。", "hint": "**【样例解释 \\#1】**\n\n下文中记 $(x,y)$ 表示第 $x$ 行第 $y$ 列的格子。\n\n对于第一组数据，youyou 选择 $(1,2)$ 和 $(2,2)$ 两个格子，无论 yy 怎么交换，最终黑色格子和白色格子数量的差至少为 $2$。可以证明没有更优的解。\n\n对于第二组数据，youyou 选择 $(1,1),(1,2),(1,3),(1,4),(2,4),(2,5),(2,6),(2,7)$ 八个格子，无论 yy 怎么交换，最终黑色格子和白色格子数量的差至少为 $4$。可以证明没有更优的解。\n\n**【样例 #2】**\n\n见附件中的 ```summer/summer2.in``` 与 ```summer/summer2.ans```。\n\n该组样例满足测试点 $4\\sim 7$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 ```summer/summer3.in``` 与 ```summer/summer3.ans```。\n\n该组样例满足测试点 $10\\sim 11$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```summer/summer4.in``` 与 ```summer/summer4.ans```。\n\n\n对于第一组测试数据，其满足特殊性质 A。\n\n对于第二组测试数据，其满足特殊性质 B 和 C。\n\n对于第三组测试数据，其满足特殊性质 B。\n\n对于第四组测试数据，其满足特殊性质 C。\n\n对于第五组测试数据，其满足特殊性质 D。\n\n该组样例满足 $T=5$，$\\sum n \\le 2\\times10^6$。\n\n**【样例 #5】**\n\n见附件中的 ```summer/summer5.in``` 与 ```summer/summer5.ans```。\n\n该组样例满足测试点 $23 \\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n\n|  测试点编号  |         $\\sum n$         | 特殊性质 |\n| :----------: | :-----------------: | :------: |\n|  $1 \\sim 3$  |      $\\le 18$       |    无    |\n|  $4 \\sim 7$  |      $\\le 100$      |    无    |\n| $8 \\sim 9$  | $\\le10^3$ |    无    |\n| $10 \\sim 11$  | $\\le2\\times10^5$ |    无    |\n| $12 \\sim 13$ | $\\le 2 \\times 10^6$ |    A|\n| $14 \\sim 15$ | $\\le 2 \\times 10^6$ |    B 和 C|\n| $16 \\sim 17$ |     $\\le 2 \\times 10^6$   |  B  |\n| $18 \\sim 19$ |    $\\le 2 \\times 10^6$    |  C  |\n| $20 \\sim 22$ |     $\\le 2 \\times 10^6$   |  D  |\n| $23 \\sim 25$  | $\\le 2 \\times 10^6$ |    无    |\n\n特殊性质 A：保证不存在任何一列，使得上下两格为一黑一白。  \n特殊性质 B：保证不存在任何一列，使得上下两格均为黑色。  \n特殊性质 C：保证不存在任何一列，使得上下两格均为白色。  \n特殊性质 D：保证对于任意位置，其颜色在黑白中等概率随机生成。\n\n对于全部数据，保证：$1\\le T \\le 5$，$1 \\le m \\le n \\le 2\\times 10^6$，$\\sum{n}\\le 2\\times10^6$。", "locale": "zh-CN"}}}
{"pid": "P11219", "type": "P", "difficulty": 6, "samples": [["5 3 4 2 2 3\n1 0 0 1 1\n2 1 5\n1 3 3\n2 1 5", "cont\ntetris\n"], ["8 6 10 3 5 2\n0 1 0 0 1 0 0 1\n2 1 7\n1 4 2\n2 5 7\n1 5 1\n1 7 2\n2 1 8", "cont\ncont\ntetris\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["博弈论", "线段树", "树状数组", "O2优化", "梦熊比赛"], "title": "【MX-S4-T3】「yyOI R2」youyou 的序列 II", "background": "原题链接：<https://oier.team/problems/S4C>。", "description": "给定一个长度为 $n$ 的非负整数序列 $a$，初始时所有数均被标记为**蓝色**，youyou 和 yy 轮流对序列 $a$ 进行操作，由 youyou 开始。\n\n- 如果当前是 youyou 的回合，那么他可以选择一个长度至多为 $c_1$ 的区间，如果该区间内所有数的和小于等于 $w_1$，则标记该区间所有数为**红色**。\n\n- 如果当前是 yy 的回合，那么他可以选择一个长度至多为 $c_2$ 的区间，如果该区间内所有数的和大于 $w_2$，则标记该区间所有数为**蓝色**。\n\n如果当前操作方没有可操作的区间，他将跳过本回合。\n\n定义 youyou 胜利即是在游戏任意时刻，所有数都被标记为红色。定义 yy 胜利则是在 $10^{51971}$ 个回合内，youyou 无法胜利。两者都会以最优策略进行游戏。\n\n但是他们认为这个游戏太简单了，于是决定上上强度。\n\n现在给定 $q$ 个操作，对于每个操作给定三个数 $opt,x,y$。\n\n- 如果 $opt$ 为 $1$，表示将 $a_x$ 增加 $y$（$0\\le y \\le 10^9$）。\n- 如果 $opt$ 为 $2$，表示 youyou 和 yy 将在区间 $[x,y]$ 所形成的序列上进行一轮游戏。\n\n对于每个 $opt=2$ 的操作，请你求出在区间 $[x,y]$ 所形成的序列上进行游戏，youyou 能否获得胜利。如果 youyou 能胜利，输出 ```cont```；否则，输出 ```tetris```。\n", "inputFormat": "第一行，六个整数 $n,q,c_1,c_2,w_1,w_2$，其中 $n$ 为序列长度，$q$ 为操作个数，$c_1,c_2,w_1,w_2$ 的定义在题目描述中给出。\n\n第二行，$n$ 个整数 $a_1, a_2, \\ldots, a_n$。\n\n接下来 $q$ 行，每行三个整数 $opt,x,y$，表示一个操作，操作的定义在上面已给出。", "outputFormat": "对于每一个 $opt=2$ 的操作，输出一行表示答案。\n", "hint": "**【样例解释 #1】**\n\n第一次游戏在序列 $[1,0,0,1,1]$ 上进行。\n\n回合 $1$：youyou 将区间 $[1,3]$ 内的数染红。\n\n回合 $2$：yy 没有可操作的区间，**跳过**了本回合。\n\n回合 $3$：youyou 将区间 $[4,5]$ 内的数染红。\n\n此时所有数都被染红，youyou 获胜，输出  ```cont```。\n\n第二次游戏在序列 $[1,0,3,1,1]$ 上进行。\n\n容易发现，此时 youyou 无法获胜，输出 ```tetris```。\n\n\n**【样例 #3】**\n\n见附件中的 ```seq/seq3.in``` 与 ```seq/seq3.ans```。\n\n该组样例满足测试点 $5\\sim 8$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```seq/seq4.in``` 与 ```seq/seq4.ans```。\n\n该组样例满足测试点 $9\\sim10$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 ```seq/seq5.in``` 与 ```seq/seq5.ans```。\n\n该组样例满足测试点 $11\\sim 14$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $20$ 个测试点，每个 $5$ 分。\n\n|  测试点编号  |          $n$          |         $q$         |  特殊性质  |\n| :----------: | :-------------------: | :-----------------: | :--------: |\n|  $1\\sim 4$   |       $\\le10^2$       | $\\le 3 \\times 10^2$ | A |\n|  $5 \\sim 8$  |       $\\le10^3$       | $\\le 3 \\times 10^3$ | B |\n| $9 \\sim 10$  |       $\\le10^4$       | $\\le 3 \\times 10^4$ | C |\n| $11 \\sim 14$ |     $\\le  10 ^ 5$     | $\\le 3 \\times 10^5$ | D |\n| $15\\sim 20$  | $\\le 3 \\times 10 ^ 5$ | $\\le 3 \\times 10^5$ |     无     |\n\n特殊性质 A：$c_2 > n$，$w_2 = 0$。  \n特殊性质 B：$w_1 \\le w_2$。  \n特殊性质 C：$c_1 \\le c_2$。  \n特殊性质 D：$c_1,c_2 \\le 10^3$。\n\n对于全部数据，保证：\n- $1\\le n,q,c_1,c_2\\le 3\\times10^5$。\n- $0\\le a_i,w_1,w_2\\le 10^9$。\n- $opt\\in \\{1,2\\}$。\n- 对于 $opt=1$ 的操作，$1\\leq x\\leq n$，$0\\leq y\\leq 10^9$。\n- 对于 $opt=2$ 的操作，$1\\leq x\\leq y\\leq n$。\n- 至少有一个 $2$ 类操作。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S4-T3】「yyOI R2」youyou 的序列 II", "background": "原题链接：<https://oier.team/problems/S4C>。", "description": "给定一个长度为 $n$ 的非负整数序列 $a$，初始时所有数均被标记为**蓝色**，youyou 和 yy 轮流对序列 $a$ 进行操作，由 youyou 开始。\n\n- 如果当前是 youyou 的回合，那么他可以选择一个长度至多为 $c_1$ 的区间，如果该区间内所有数的和小于等于 $w_1$，则标记该区间所有数为**红色**。\n\n- 如果当前是 yy 的回合，那么他可以选择一个长度至多为 $c_2$ 的区间，如果该区间内所有数的和大于 $w_2$，则标记该区间所有数为**蓝色**。\n\n如果当前操作方没有可操作的区间，他将跳过本回合。\n\n定义 youyou 胜利即是在游戏任意时刻，所有数都被标记为红色。定义 yy 胜利则是在 $10^{51971}$ 个回合内，youyou 无法胜利。两者都会以最优策略进行游戏。\n\n但是他们认为这个游戏太简单了，于是决定上上强度。\n\n现在给定 $q$ 个操作，对于每个操作给定三个数 $opt,x,y$。\n\n- 如果 $opt$ 为 $1$，表示将 $a_x$ 增加 $y$（$0\\le y \\le 10^9$）。\n- 如果 $opt$ 为 $2$，表示 youyou 和 yy 将在区间 $[x,y]$ 所形成的序列上进行一轮游戏。\n\n对于每个 $opt=2$ 的操作，请你求出在区间 $[x,y]$ 所形成的序列上进行游戏，youyou 能否获得胜利。如果 youyou 能胜利，输出 ```cont```；否则，输出 ```tetris```。\n", "inputFormat": "第一行，六个整数 $n,q,c_1,c_2,w_1,w_2$，其中 $n$ 为序列长度，$q$ 为操作个数，$c_1,c_2,w_1,w_2$ 的定义在题目描述中给出。\n\n第二行，$n$ 个整数 $a_1, a_2, \\ldots, a_n$。\n\n接下来 $q$ 行，每行三个整数 $opt,x,y$，表示一个操作，操作的定义在上面已给出。", "outputFormat": "对于每一个 $opt=2$ 的操作，输出一行表示答案。\n", "hint": "**【样例解释 #1】**\n\n第一次游戏在序列 $[1,0,0,1,1]$ 上进行。\n\n回合 $1$：youyou 将区间 $[1,3]$ 内的数染红。\n\n回合 $2$：yy 没有可操作的区间，**跳过**了本回合。\n\n回合 $3$：youyou 将区间 $[4,5]$ 内的数染红。\n\n此时所有数都被染红，youyou 获胜，输出  ```cont```。\n\n第二次游戏在序列 $[1,0,3,1,1]$ 上进行。\n\n容易发现，此时 youyou 无法获胜，输出 ```tetris```。\n\n\n**【样例 #3】**\n\n见附件中的 ```seq/seq3.in``` 与 ```seq/seq3.ans```。\n\n该组样例满足测试点 $5\\sim 8$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```seq/seq4.in``` 与 ```seq/seq4.ans```。\n\n该组样例满足测试点 $9\\sim10$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 ```seq/seq5.in``` 与 ```seq/seq5.ans```。\n\n该组样例满足测试点 $11\\sim 14$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $20$ 个测试点，每个 $5$ 分。\n\n|  测试点编号  |          $n$          |         $q$         |  特殊性质  |\n| :----------: | :-------------------: | :-----------------: | :--------: |\n|  $1\\sim 4$   |       $\\le10^2$       | $\\le 3 \\times 10^2$ | A |\n|  $5 \\sim 8$  |       $\\le10^3$       | $\\le 3 \\times 10^3$ | B |\n| $9 \\sim 10$  |       $\\le10^4$       | $\\le 3 \\times 10^4$ | C |\n| $11 \\sim 14$ |     $\\le  10 ^ 5$     | $\\le 3 \\times 10^5$ | D |\n| $15\\sim 20$  | $\\le 3 \\times 10 ^ 5$ | $\\le 3 \\times 10^5$ |     无     |\n\n特殊性质 A：$c_2 > n$，$w_2 = 0$。  \n特殊性质 B：$w_1 \\le w_2$。  \n特殊性质 C：$c_1 \\le c_2$。  \n特殊性质 D：$c_1,c_2 \\le 10^3$。\n\n对于全部数据，保证：\n- $1\\le n,q,c_1,c_2\\le 3\\times10^5$。\n- $0\\le a_i,w_1,w_2\\le 10^9$。\n- $opt\\in \\{1,2\\}$。\n- 对于 $opt=1$ 的操作，$1\\leq x\\leq n$，$0\\leq y\\leq 10^9$。\n- 对于 $opt=2$ 的操作，$1\\leq x\\leq y\\leq n$。\n- 至少有一个 $2$ 类操作。", "locale": "zh-CN"}}}
{"pid": "P11220", "type": "P", "difficulty": 6, "samples": [["4 3", "20\n20\n20\n20\n20"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-S4-T4】「yyOI R2」youyou 的三进制数", "background": "原题链接：<https://oier.team/problems/S4D>。", "description": "现在有 $0 \\sim n$ 共 $n + 1$ 个数。\n定义 $(x)_{3}$ 表示十进制数 $x$ 的三进制形式。**如果没有特别强调，那么这些数均为十进制形式。**\n\nyouyou 想构造一个序列长度为 $p$（$p \\ge 1$）的非负整数序列 $a$。使之满足：\n\n- $a_i \\in [0,n]$。\n- 不存在 $i,j$（$1 \\le i <j \\le p$），使得 $a_i = a_j$。\n- 对于任意 $1 \\le i < n$，$a_i$ 与 $a_{i+1}$ 至少满足以下四个条件中的一个：\n  1. $(a_i)_3$ 去掉最后一位，恰好等于 $(a_{i+1})_3$（若只有一位，则去掉后的数字为 $0$）。\n  2. 在 $(a_i)_3$ 末尾添上某一位 $t(0 \\le t \\le 2)$，恰好等于 $(a_{i+1})_3$（若 $a_i = 0$，则添加后舍去前置 $0$）。\n  3. $a_i \\le w$， $(a_i)_3$ 的末尾不是 $0$，且将末尾的一位数字移到开头与 $(a_{i + 1})_3$ 相等。\n  4. 当 $(a_i)_3$ 长度 $\\ge 2$，且 $(a_i)_3$ 次高位非零时，将 $(a_i)_3$ 开头的一位数字移到末尾，形成的数的十进制值 $\\le w$，且恰好等于 $(a_{i+1})_3$。\n\n这样的序列 $a$ 被称为“完美的”。\n\nyouyou 认为，如果十进制三元组 $(x,y,z)$ 是好的，必须满足以下条件：\n\n- $0 \\le x,y,z \\le n$，$x \\neq y$。\n- 存在至少一个”完美的“序列 $b$，使得十进制下有 $b_1=x$，$b_s = y$。其中 $s$ 为序列长度。\n- 存在至少一个”完美的”序列 $c$，使得十进制下有 $c_1=z$。同时，对于上述**任意的** $b$，均有**恰好**一对 $(i, j)$，满足 $1 \\le i \\le |b|$，$1 \\le j \\le |c|$，使得 $b_i = c_j$。\n\n对于每一个 $0 \\le z \\le n$，求能构成“好的”三元组 $(x,y,z)$ 的有序对 $(x,y)$ 的个数。", "inputFormat": "仅一行，为一个正整数 $n$ 和一个非负整数 $w$，其含义在题目描述中给出。", "outputFormat": "共 $n + 1$ 行，其中第 $i + 1$ 行一个数表示当 $z = i$ 时，能构成“好的”三元组 $(x,y,z)$ 的有序对 $(x,y)$ 的个数。", "hint": "**【样例解释 #1】**\n\n一共有 $5$ 个数，用三进制表示分别为 $0,1,2,10,11$。\n\n当 $z = 0,1,2,3,4$ 时，全部 $(x,y)(x \\neq y)$ 数对均满足题意。\n\n下面给出三元组 $(2,3,1)$ 是“好的”的证明。\n\n当 $x=2,y=3,z=1$ 时，序列 $b$ 可以为 $\\{2,0,1,3\\}$。\n\n其中 $b_1,b_2$ 满足条件 $1$，$b_2,b_3$ 满足条件 $2$，$b_3,b_4$ 满足条件 $2$。\n\n可以证明只有这一个序列 $b$ 满足题意。因此，存在 $c = \\{1\\}$，使得 $B \\cap C = \\{1\\}$。所以 $(2,3,1)$ 是“好的”三元组。\n\n**【样例 #2】**\n\n见附件中的 ```ternary/ternary2.in``` 与 ```ternary/ternary2.ans```。\n\n该组样例满足测试点 $4\\sim 6$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 ```ternary/ternary3.in``` 与 ```ternary/ternary3.ans```。\n\n该组样例满足测试点 $7\\sim 10$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```ternary/ternary4.in``` 与 ```ternary/ternary4.ans```。\n\n该组样例满足测试点 $13\\sim 15$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 ```ternary/ternary5.in``` 与 ```ternary/ternary5.ans```。\n\n该组样例满足测试点 $20\\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n\n| 测试点编号 | $n$ | $w$ | 特殊性质\n| :-----------: | :-----------: | :-----------: | :-----------: | \n| $1 \\sim 3$ | $\\le 18$ | $\\le 18$ | 无\n| $4 \\sim 6$ | $\\le 242$ | $\\le 242$ |  无\n| $7 \\sim 10$ | $\\le 6560$ | $\\le6560$ |  无\n| $11\\sim12$ | $\\le 10^5$ | $\\le 10^5$ |  无\n| $13\\sim15$ | $\\le 3 \\times 10^5$ | $\\le 10^5$ | 有 |\n| $16\\sim 17$ | $\\le 3 \\times 10^5$ | $=0$ | 无 |\n| $18\\sim 19$ | $\\le 3 \\times 10^5$ | $=n$ |  无 |\n| $20\\sim25$ | $\\le 3 \\times 10^5$ | $\\le 3 \\times 10^5$ |  无 |\n\n特殊性质：$w \\ge 10^4$。\n\n对于全部数据，保证：$1\\le n \\le 3 \\times 10^5$，$0 \\le w \\le n$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S4-T4】「yyOI R2」youyou 的三进制数", "background": "原题链接：<https://oier.team/problems/S4D>。", "description": "现在有 $0 \\sim n$ 共 $n + 1$ 个数。\n定义 $(x)_{3}$ 表示十进制数 $x$ 的三进制形式。**如果没有特别强调，那么这些数均为十进制形式。**\n\nyouyou 想构造一个序列长度为 $p$（$p \\ge 1$）的非负整数序列 $a$。使之满足：\n\n- $a_i \\in [0,n]$。\n- 不存在 $i,j$（$1 \\le i <j \\le p$），使得 $a_i = a_j$。\n- 对于任意 $1 \\le i < n$，$a_i$ 与 $a_{i+1}$ 至少满足以下四个条件中的一个：\n  1. $(a_i)_3$ 去掉最后一位，恰好等于 $(a_{i+1})_3$（若只有一位，则去掉后的数字为 $0$）。\n  2. 在 $(a_i)_3$ 末尾添上某一位 $t(0 \\le t \\le 2)$，恰好等于 $(a_{i+1})_3$（若 $a_i = 0$，则添加后舍去前置 $0$）。\n  3. $a_i \\le w$， $(a_i)_3$ 的末尾不是 $0$，且将末尾的一位数字移到开头与 $(a_{i + 1})_3$ 相等。\n  4. 当 $(a_i)_3$ 长度 $\\ge 2$，且 $(a_i)_3$ 次高位非零时，将 $(a_i)_3$ 开头的一位数字移到末尾，形成的数的十进制值 $\\le w$，且恰好等于 $(a_{i+1})_3$。\n\n这样的序列 $a$ 被称为“完美的”。\n\nyouyou 认为，如果十进制三元组 $(x,y,z)$ 是好的，必须满足以下条件：\n\n- $0 \\le x,y,z \\le n$，$x \\neq y$。\n- 存在至少一个”完美的“序列 $b$，使得十进制下有 $b_1=x$，$b_s = y$。其中 $s$ 为序列长度。\n- 存在至少一个”完美的”序列 $c$，使得十进制下有 $c_1=z$。同时，对于上述**任意的** $b$，均有**恰好**一对 $(i, j)$，满足 $1 \\le i \\le |b|$，$1 \\le j \\le |c|$，使得 $b_i = c_j$。\n\n对于每一个 $0 \\le z \\le n$，求能构成“好的”三元组 $(x,y,z)$ 的有序对 $(x,y)$ 的个数。", "inputFormat": "仅一行，为一个正整数 $n$ 和一个非负整数 $w$，其含义在题目描述中给出。", "outputFormat": "共 $n + 1$ 行，其中第 $i + 1$ 行一个数表示当 $z = i$ 时，能构成“好的”三元组 $(x,y,z)$ 的有序对 $(x,y)$ 的个数。", "hint": "**【样例解释 #1】**\n\n一共有 $5$ 个数，用三进制表示分别为 $0,1,2,10,11$。\n\n当 $z = 0,1,2,3,4$ 时，全部 $(x,y)(x \\neq y)$ 数对均满足题意。\n\n下面给出三元组 $(2,3,1)$ 是“好的”的证明。\n\n当 $x=2,y=3,z=1$ 时，序列 $b$ 可以为 $\\{2,0,1,3\\}$。\n\n其中 $b_1,b_2$ 满足条件 $1$，$b_2,b_3$ 满足条件 $2$，$b_3,b_4$ 满足条件 $2$。\n\n可以证明只有这一个序列 $b$ 满足题意。因此，存在 $c = \\{1\\}$，使得 $B \\cap C = \\{1\\}$。所以 $(2,3,1)$ 是“好的”三元组。\n\n**【样例 #2】**\n\n见附件中的 ```ternary/ternary2.in``` 与 ```ternary/ternary2.ans```。\n\n该组样例满足测试点 $4\\sim 6$ 的约束条件。\n\n**【样例 #3】**\n\n见附件中的 ```ternary/ternary3.in``` 与 ```ternary/ternary3.ans```。\n\n该组样例满足测试点 $7\\sim 10$ 的约束条件。\n\n**【样例 #4】**\n\n见附件中的 ```ternary/ternary4.in``` 与 ```ternary/ternary4.ans```。\n\n该组样例满足测试点 $13\\sim 15$ 的约束条件。\n\n**【样例 #5】**\n\n见附件中的 ```ternary/ternary5.in``` 与 ```ternary/ternary5.ans```。\n\n该组样例满足测试点 $20\\sim 25$ 的约束条件。\n\n**【数据范围】**\n\n本题共 $25$ 个测试点，每个 $4$ 分。\n\n| 测试点编号 | $n$ | $w$ | 特殊性质\n| :-----------: | :-----------: | :-----------: | :-----------: | \n| $1 \\sim 3$ | $\\le 18$ | $\\le 18$ | 无\n| $4 \\sim 6$ | $\\le 242$ | $\\le 242$ |  无\n| $7 \\sim 10$ | $\\le 6560$ | $\\le6560$ |  无\n| $11\\sim12$ | $\\le 10^5$ | $\\le 10^5$ |  无\n| $13\\sim15$ | $\\le 3 \\times 10^5$ | $\\le 10^5$ | 有 |\n| $16\\sim 17$ | $\\le 3 \\times 10^5$ | $=0$ | 无 |\n| $18\\sim 19$ | $\\le 3 \\times 10^5$ | $=n$ |  无 |\n| $20\\sim25$ | $\\le 3 \\times 10^5$ | $\\le 3 \\times 10^5$ |  无 |\n\n特殊性质：$w \\ge 10^4$。\n\n对于全部数据，保证：$1\\le n \\le 3 \\times 10^5$，$0 \\le w \\le n$。\n", "locale": "zh-CN"}}}
{"pid": "P11221", "type": "P", "difficulty": 5, "samples": [["10 2\n2 3 1 9 10 4 5 6 1 5", "10\n6\n4\n5\n2\n9\n3\n5\n1\n1"], ["10 3\n2 3 1 9 10 4 5 6 1 5", "9\n10\n4\n5\n6\n2\n5\n3\n1\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "分块", "链表", "根号分治", "COTS（克罗地亚）"], "title": "[COTS 2019] 序列操作 K-ti", "background": "译自 [Izborne Pripreme 2019 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2019/) D1T1。$\\texttt{2s,0.5G}$。\n", "description": "给定长度为 $N$ 的正整数序列 $a_0,a_1,\\cdots,a_{N-1}$ 和正整数 $k$。注意是 $\\texttt{0-index}$。\n\n进行 $N$ 次操作，将 $a$ 删空。对于每次操作：\n\n- 设当前 $a$ 的长度为 $n$。\n- 令 $S=\\{0,k,2k,\\cdots,k\\lfloor\\frac{n-1}{k}\\rfloor\\}$。找到 $v=\\max_{i\\in S}a_i$。\n- 令 $p$ 为 $\\min_{i\\in S,a_i=v} i$。\n- 删去 $a_p$。后面的元素顺次前移一位。\n\n求出每次操作删去的数。", "inputFormat": "第一行，两个正整数 $N,k$。\n\n第二行，$N$ 个正整数描述 $a$。", "outputFormat": "输出 $N$ 行，每行一个整数，即每次操作删去的数。", "hint": "\n\n\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le k\\le N\\le 10^5$；\n- $1\\le a_i\\le N$。\n\n\n| 子任务编号 | $N\\le $ |  $k$   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 1\\, 000 $    |  $\\le N$  | $ 7 $   |  \n| $ 2 $    | $ 10^5 $   |  $=2$ | $ 25 $   |  \n| $ 3 $    | $ 10^5$ | $\\le 10$ | $ 23 $   |  \n| $ 4 $    | $ 10^5$ | $\\ge 100$ | $ 25 $   |  \n| $ 5 $    | $ 10^5$  |  $\\le N$ | $ 20 $   |  \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2019] 序列操作 K-ti", "background": "译自 [Izborne Pripreme 2019 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2019/) D1T1。$\\texttt{2s,0.5G}$。\n", "description": "给定长度为 $N$ 的正整数序列 $a_0,a_1,\\cdots,a_{N-1}$ 和正整数 $k$。注意是 $\\texttt{0-index}$。\n\n进行 $N$ 次操作，将 $a$ 删空。对于每次操作：\n\n- 设当前 $a$ 的长度为 $n$。\n- 令 $S=\\{0,k,2k,\\cdots,k\\lfloor\\frac{n-1}{k}\\rfloor\\}$。找到 $v=\\max_{i\\in S}a_i$。\n- 令 $p$ 为 $\\min_{i\\in S,a_i=v} i$。\n- 删去 $a_p$。后面的元素顺次前移一位。\n\n求出每次操作删去的数。", "inputFormat": "第一行，两个正整数 $N,k$。\n\n第二行，$N$ 个正整数描述 $a$。", "outputFormat": "输出 $N$ 行，每行一个整数，即每次操作删去的数。", "hint": "\n\n\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le k\\le N\\le 10^5$；\n- $1\\le a_i\\le N$。\n\n\n| 子任务编号 | $N\\le $ |  $k$   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 1\\, 000 $    |  $\\le N$  | $ 7 $   |  \n| $ 2 $    | $ 10^5 $   |  $=2$ | $ 25 $   |  \n| $ 3 $    | $ 10^5$ | $\\le 10$ | $ 23 $   |  \n| $ 4 $    | $ 10^5$ | $\\ge 100$ | $ 25 $   |  \n| $ 5 $    | $ 10^5$  |  $\\le N$ | $ 20 $   |  \n", "locale": "zh-CN"}}}
{"pid": "P11222", "type": "P", "difficulty": 6, "samples": [["3 3\n...\n.x.\n...", "2"], ["3 3\n...\n..x\n...", "4"], ["3 6\n.x..x.\n..x.x.\n......", "3"], ["4 5\n....x\n....x\n..x..\n.x..x", "7"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2019", "状压 DP", "COTS（克罗地亚）"], "title": "[COTS 2019] 车位安排 Parking", "background": "译自 [Izborne Pripreme 2019 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2019/) D1T2。$\\texttt{3s,0.5G}$。", "description": "\n萨格勒布市政府决定修建一个新停车场。\n\n土地是 $N\\times M$ 的矩形，被划分为 $N$ 行 $M$ 列 $N\\times M$ 个格子。我们记第 $i$ 行第 $j$ 列的格子为 $(i,j)$。\n\n为了吸引游客，事先确定了一些格子内建设水景。剩下的格子将被改造成停车位或车道。**特别地，停车场的出入口为 $(1,1)$，只能用作车道。**\n\n车辆可以在停车场内自由移动，每次可以移动到上下左右四个相邻的格子（只要移动到的格子仍然属于停车场内）。\n\n一个合法的修建方案必须满足以下条件：\n\n- 任意一辆停在停车位内的车，都能在不经过其他停车位的情况下，到达停车场的出入口。\n\n求出所有合法修建方案中，修建停车场数量的最大值。", "inputFormat": "\n第一行，两个正整数 $N,M$。\n\n接下来，一个 $N\\times M$ 的字符矩阵描述土地。\n\n- 第 $i$ 行第 $j$ 列的字符为 `.`，代表这里可以被用作车道或者停车位；\n- 第 $i$ 行第 $j$ 列的字符为 `X`，代表这里被用来建设水景。", "outputFormat": "\n输出一行一个整数，即能够修建停车位数量的最大值。\n", "hint": "\n样例 $4$ 解释：记 `P` 为停车位，如下所示。\n\n```plain\n.PPPx\n....x\n.Px.P\nPxP.x\n```\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 6$；\n- $1\\le M\\le 100$；\n- 不会在 $(1,1)$ 上修建水景。 \n\n\n| 子任务编号 | $N\\le $ |  $M\\le $   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 4$    |  $4$  | $10 $   |  \n| $ 2 $    | $ 2 $   |  $100$ | $ 10 $   |  \n| $ 3 $    | $ 3$ | $100$ | $ 20 $   |  \n| $ 4 $    | $ 4$ | $ 100$ | $ 20 $   |  \n| $ 5 $    | $ 5$  |  $100$ | $ 20 $   |  \n| $ 5 $    | $ 6$  |  $100$ | $ 20 $   |  \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2019] 车位安排 Parking", "background": "译自 [Izborne Pripreme 2019 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2019/) D1T2。$\\texttt{3s,0.5G}$。", "description": "\n萨格勒布市政府决定修建一个新停车场。\n\n土地是 $N\\times M$ 的矩形，被划分为 $N$ 行 $M$ 列 $N\\times M$ 个格子。我们记第 $i$ 行第 $j$ 列的格子为 $(i,j)$。\n\n为了吸引游客，事先确定了一些格子内建设水景。剩下的格子将被改造成停车位或车道。**特别地，停车场的出入口为 $(1,1)$，只能用作车道。**\n\n车辆可以在停车场内自由移动，每次可以移动到上下左右四个相邻的格子（只要移动到的格子仍然属于停车场内）。\n\n一个合法的修建方案必须满足以下条件：\n\n- 任意一辆停在停车位内的车，都能在不经过其他停车位的情况下，到达停车场的出入口。\n\n求出所有合法修建方案中，修建停车场数量的最大值。", "inputFormat": "\n第一行，两个正整数 $N,M$。\n\n接下来，一个 $N\\times M$ 的字符矩阵描述土地。\n\n- 第 $i$ 行第 $j$ 列的字符为 `.`，代表这里可以被用作车道或者停车位；\n- 第 $i$ 行第 $j$ 列的字符为 `X`，代表这里被用来建设水景。", "outputFormat": "\n输出一行一个整数，即能够修建停车位数量的最大值。\n", "hint": "\n样例 $4$ 解释：记 `P` 为停车位，如下所示。\n\n```plain\n.PPPx\n....x\n.Px.P\nPxP.x\n```\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 6$；\n- $1\\le M\\le 100$；\n- 不会在 $(1,1)$ 上修建水景。 \n\n\n| 子任务编号 | $N\\le $ |  $M\\le $   | 得分 |  \n| :--: | :--: | :--: | :--: |  \n| $ 1 $    | $ 4$    |  $4$  | $10 $   |  \n| $ 2 $    | $ 2 $   |  $100$ | $ 10 $   |  \n| $ 3 $    | $ 3$ | $100$ | $ 20 $   |  \n| $ 4 $    | $ 4$ | $ 100$ | $ 20 $   |  \n| $ 5 $    | $ 5$  |  $100$ | $ 20 $   |  \n| $ 5 $    | $ 6$  |  $100$ | $ 20 $   |  \n", "locale": "zh-CN"}}}
{"pid": "P11223", "type": "P", "difficulty": 6, "samples": [["1\n2\n3 2\n2 1", "3 3\n2 1 3\n3 2 2\n1 3 2\n2 1\n1 1\n2 2"], ["2\n2\n3 3\n4 0", "6 2\n1 2 3 4 5 6\n6 5 4 3 2 1\n2 4 1 4 3 2\n2 2\n1 1\n1 1\n1 1\n1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2019", "Special Judge", "构造", "COTS（克罗地亚）"], "title": "[COTS 2019] 传话游戏 Pokvareni", "background": "\n译自 [Izborne Pripreme 2019 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2019/) D1T3。$\\texttt{1s,0.5G}$。", "description": "**提示**：搬题人在题面的最后提供了简要题意。\n\n老师带着 $N$ 个小朋友玩传话游戏。他们都知道同样的 $M$ 个单词，我们不妨编号为 $1\\sim M$。\n\n游戏进行方式是这样的：\n\n- 小朋友们被排成一列；\n- 老师对第一个小朋友耳语单词 $1$；\n- 对于 $1\\le i\\lt N$，第 $i$ 个小朋友对第 $(i+1)$ 个小朋友耳语听到的词；\n- 第 $N$ 个小朋友大声说出他听到的词。\n\n由于当时旁边有 OIer 在大力敲打键盘，游戏受到了干扰，小朋友常常听错词。但是，神奇的是，对于第 $i$ 个小朋友，无论谁对他耳语，以及他在队列中的哪个位置，对他耳语相同的词 $A$，他都会听到相同的词 $B$（$A=B$ 是可能的）。\n\n老师重复进行了 $N!$ 局游戏，每种排列都试了一次。她注意到，有一个词恰好被大声说出 $K$ 次。老师很好奇，于是找来了你，来复现这样的情况。\n\n具体地说，给定整数 $N,K$。构造正整数 $M,X$，以及一种小朋友误听单词的方式，使得在 $N!$ 局游戏中，$X$ 恰好被大声说出 $K$ 次。\n\n找到的 $M$ 越小，得分越高，详见【计分方式】。\n\n**简单地说**：给定 $N,K$。构造 $N$ 个 $[1,M]\\to [1,M]$ 的函数 $f_1(x),f_2(x),\\ldots,f_{N}(x)$（$M$ 是你选定的正整数），使得：\n\n- 令 $p_1,p_2,\\ldots,p_N$ 取遍 $N!$ 个 $1\\sim N$ 的排列；\n\t- 将 $N!$ 种排列 $p$ 中，$f_{p_N}(f_{p_{N-1}}\\cdots(f_{p_2}(f_{p_1}(1)))\\cdots)$ 取到的值放入**多重集** $S$。则存在 $X\\in S$，使得 $X$ **恰好**在 $S$ 中出现 $K$ 次。\n\n这里，$[1,M]$ 指的是 $[1,M]\\cap \\mathbb{Z}$。\n\n目标是使 $M$ 尽量小。\n", "inputFormat": "**本题单个测试点内含有多组测试数据。**\n\n第一行，正整数 $\\mathrm{id}$，表示子任务编号；\n\n第二行，正整数 $T$，表示测试数据组数；\n\n接下来 $T$ 行，每行两个整数 $N,K$，描述一组数据。", "outputFormat": "\n对于每组数据，输出 $(N+1)$ 行：\n\n第一行，两个正整数 $M,X$。你需要保证 $1\\le X\\le M\\le 10^4$。\n\n接下来 $N$ 行，每行 $M$ 个正整数。\n\n第 $i$ 行第 $j$ 个正整数 $f_{i}(j)$ 表示：如果对第 $i$ 个小朋友耳语 $j$，他会听到 $f_{i}(j)$。你需要保证 $f_i(j)\\in [1,M]$。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $\\mathrm{id}\\in \\{1,2\\}$；\n- $1\\le N\\le 12$；\n- $0\\le K\\le N!$；\n- $1\\le T\\le 10$。\n\n【计分方式】\n\n本题分为两个子任务计分。\n\n- Subtask $1$（$30$ pts）：保证 $1\\le N\\le 7$。\n\n    只要构造方案合法，就能获得满分。否则得 $0$ 分。\n- Subtask $2$（$70$ pts）：保证 $1\\le N\\le 12$。\n    \n    如果输出不合法，得 $0$ 分。\n\n    否则单组测试数据得分为 $70\\cdot k$，$k$ 按照下式计算：\n\n    $$k=\n    \\begin{cases}\n    \\displaystyle 1, & M\\le N+1 \\\\\n    \\displaystyle 0.7 + \\frac{0.15}{M-N-1}\\, \\in [0.7,0.85], & N+1\\lt M\\le N+5 \\\\\n    \\displaystyle 0.5 + 0.05 \\left(5-\\frac{M}{N}\\right) \\, \\in[0.5,0.7], & N+5\\lt M\\le 5\\cdot N \\\\\n    \\displaystyle \\frac{0.5}{\\log_{10}(M/5N)+1}\\, \\in [0,0.5]& 5\\cdot N\\lt M\\le 10^4 \\\\\n\n    \\end{cases}\n    $$\n    \n    单个测试点得分是所有测试数据中得分的最小值。例如，样例 $2$ 的两组数据的 $k$ 分别为 $0.77,1$。该输出得 $0.7\\cdot  70$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2019] 传话游戏 Pokvareni", "background": "\n译自 [Izborne Pripreme 2019 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2019/) D1T3。$\\texttt{1s,0.5G}$。", "description": "**提示**：搬题人在题面的最后提供了简要题意。\n\n老师带着 $N$ 个小朋友玩传话游戏。他们都知道同样的 $M$ 个单词，我们不妨编号为 $1\\sim M$。\n\n游戏进行方式是这样的：\n\n- 小朋友们被排成一列；\n- 老师对第一个小朋友耳语单词 $1$；\n- 对于 $1\\le i\\lt N$，第 $i$ 个小朋友对第 $(i+1)$ 个小朋友耳语听到的词；\n- 第 $N$ 个小朋友大声说出他听到的词。\n\n由于当时旁边有 OIer 在大力敲打键盘，游戏受到了干扰，小朋友常常听错词。但是，神奇的是，对于第 $i$ 个小朋友，无论谁对他耳语，以及他在队列中的哪个位置，对他耳语相同的词 $A$，他都会听到相同的词 $B$（$A=B$ 是可能的）。\n\n老师重复进行了 $N!$ 局游戏，每种排列都试了一次。她注意到，有一个词恰好被大声说出 $K$ 次。老师很好奇，于是找来了你，来复现这样的情况。\n\n具体地说，给定整数 $N,K$。构造正整数 $M,X$，以及一种小朋友误听单词的方式，使得在 $N!$ 局游戏中，$X$ 恰好被大声说出 $K$ 次。\n\n找到的 $M$ 越小，得分越高，详见【计分方式】。\n\n**简单地说**：给定 $N,K$。构造 $N$ 个 $[1,M]\\to [1,M]$ 的函数 $f_1(x),f_2(x),\\ldots,f_{N}(x)$（$M$ 是你选定的正整数），使得：\n\n- 令 $p_1,p_2,\\ldots,p_N$ 取遍 $N!$ 个 $1\\sim N$ 的排列；\n\t- 将 $N!$ 种排列 $p$ 中，$f_{p_N}(f_{p_{N-1}}\\cdots(f_{p_2}(f_{p_1}(1)))\\cdots)$ 取到的值放入**多重集** $S$。则存在 $X\\in S$，使得 $X$ **恰好**在 $S$ 中出现 $K$ 次。\n\n这里，$[1,M]$ 指的是 $[1,M]\\cap \\mathbb{Z}$。\n\n目标是使 $M$ 尽量小。\n", "inputFormat": "**本题单个测试点内含有多组测试数据。**\n\n第一行，正整数 $\\mathrm{id}$，表示子任务编号；\n\n第二行，正整数 $T$，表示测试数据组数；\n\n接下来 $T$ 行，每行两个整数 $N,K$，描述一组数据。", "outputFormat": "\n对于每组数据，输出 $(N+1)$ 行：\n\n第一行，两个正整数 $M,X$。你需要保证 $1\\le X\\le M\\le 10^4$。\n\n接下来 $N$ 行，每行 $M$ 个正整数。\n\n第 $i$ 行第 $j$ 个正整数 $f_{i}(j)$ 表示：如果对第 $i$ 个小朋友耳语 $j$，他会听到 $f_{i}(j)$。你需要保证 $f_i(j)\\in [1,M]$。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $\\mathrm{id}\\in \\{1,2\\}$；\n- $1\\le N\\le 12$；\n- $0\\le K\\le N!$；\n- $1\\le T\\le 10$。\n\n【计分方式】\n\n本题分为两个子任务计分。\n\n- Subtask $1$（$30$ pts）：保证 $1\\le N\\le 7$。\n\n    只要构造方案合法，就能获得满分。否则得 $0$ 分。\n- Subtask $2$（$70$ pts）：保证 $1\\le N\\le 12$。\n    \n    如果输出不合法，得 $0$ 分。\n\n    否则单组测试数据得分为 $70\\cdot k$，$k$ 按照下式计算：\n\n    $$k=\n    \\begin{cases}\n    \\displaystyle 1, & M\\le N+1 \\\\\n    \\displaystyle 0.7 + \\frac{0.15}{M-N-1}\\, \\in [0.7,0.85], & N+1\\lt M\\le N+5 \\\\\n    \\displaystyle 0.5 + 0.05 \\left(5-\\frac{M}{N}\\right) \\, \\in[0.5,0.7], & N+5\\lt M\\le 5\\cdot N \\\\\n    \\displaystyle \\frac{0.5}{\\log_{10}(M/5N)+1}\\, \\in [0,0.5]& 5\\cdot N\\lt M\\le 10^4 \\\\\n\n    \\end{cases}\n    $$\n    \n    单个测试点得分是所有测试数据中得分的最小值。例如，样例 $2$ 的两组数据的 $k$ 分别为 $0.77,1$。该输出得 $0.7\\cdot  70$ 分。", "locale": "zh-CN"}}}
