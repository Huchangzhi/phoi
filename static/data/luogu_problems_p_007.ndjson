{"pid": "P1140", "type": "P", "difficulty": 3, "samples": [["7 AGTGATG\n5 GTTAG\n", "14\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "相似基因", "background": "大家都知道，基因可以看作一个碱基对序列。它包含了 $4$ 种核苷酸，简记作 `A, C, G, T`。生物学家正致力于寻找人类基因的功能，以利用于诊断疾病和发明药物。\n\n在一个人类基因工作组的任务中，生物学家研究的是：两个基因的相似程度。因为这个研究对疾病的治疗有着非同寻常的作用。", "description": "两个基因的相似度的计算方法如下：\n\n对于两个已知基因，例如 `AGTGATG` 和 `GTTAG`，将它们的碱基互相对应。当然，中间可以加入一些空碱基 `-`，例如：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|c|} \\hline\n\\tt A & \\tt G & \\tt T & \\tt G & \\tt A & \\tt T & \\texttt - & \\tt G \\\\ \\hline\n\\texttt - & \\tt G & \\tt T & \\texttt - & \\texttt - & \\tt T & \\texttt A & \\tt G \\\\ \\hline\n\\end{array}\n$$\n\n这样，两个基因之间的相似度就可以用碱基之间相似度的总和来描述，碱基之间的相似度如下表所示：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{ |c|c|c|c|c|c|} \\hline\n& \\tt A & \\tt C & \\tt G & \\tt T & \\texttt - \\\\ \\hline\n\\tt A & 5 & -1 & -2 & -1 & -3\\\\ \\hline\n\\tt C & -1 & 5 & -3 & -2 & -4 \\\\\\hline\n\\tt G & -2 & -3 & 5 & -2 & -2 \\\\\\hline\n\\tt T & -1 & -2 & -2 & 5 & -1 \\\\\\hline\n\\texttt - & -3 & -4 & -2 & -1 & * \\\\\\hline\n\\end{array}\n$$ \n\n那么相似度就是：$(-3)+5+5+(-2)+(-3)+5+(-3)+5=9$。因为两个基因的对应方法不唯一，例如又有：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|} \\hline\n\\tt A & \\tt G & \\tt T & \\tt G & \\tt A & \\tt T & \\tt G \\\\ \\hline\n\\texttt - & \\tt G & \\tt T & \\texttt T & \\texttt A & \\texttt - & \\tt G \\\\ \\hline\n\\end{array}\n$$\n\n相似度为：$(-3)+5+5+(-2)+5+(-1)+5=14$。规定两个基因的相似度为所有对应方法中，相似度最大的那个。\n", "inputFormat": "共两行。每行首先是一个整数 $n$，表示基因序列的长度；隔一个空格后是一个基因序列，序列中只含 $\\verb!A!,\\verb!C!,\\verb!G!,\\verb!T!$ 四种字母。$1 \\le n\\le 100$。\n", "outputFormat": "仅一行，即输入基因的相似度。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Similar Genes", "background": "Everyone knows that a gene can be regarded as a sequence of base pairs. It contains 4 types of nucleotides, abbreviated as `A, C, G, T`. Biologists are working to discover the functions of human genes in order to diagnose diseases and invent medicines.\n\nIn a task by a human gene working group, biologists are studying the similarity between two genes, because this research plays an extraordinary role in treating diseases.", "description": "The similarity between two genes is computed as follows:\n\nFor two given genes, for example `AGTGATG` and `GTTAG`, align their bases with each other. Of course, you may insert some gap bases `-` in between, for example:\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|c|} \\hline\n\\tt A & \\tt G & \\tt T & \\tt G & \\tt A & \\tt T & \\texttt - & \\tt G \\\\ \\hline\n\\texttt - & \\tt G & \\tt T & \\texttt - & \\texttt - & \\tt T & \\texttt A & \\tt G \\\\ \\hline\n\\end{array}\n$$\n\nThen the similarity between the two genes can be described as the sum of pairwise base similarities, as shown in the following table:\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{ |c|c|c|c|c|c|} \\hline\n& \\tt A & \\tt C & \\tt G & \\tt T & \\texttt - \\\\ \\hline\n\\tt A & 5 & -1 & -2 & -1 & -3\\\\ \\hline\n\\tt C & -1 & 5 & -3 & -2 & -4 \\\\\\hline\n\\tt G & -2 & -3 & 5 & -2 & -2 \\\\\\hline\n\\tt T & -1 & -2 & -2 & 5 & -1 \\\\\\hline\n\\texttt - & -3 & -4 & -2 & -1 & * \\\\\\hline\n\\end{array}\n$$ \n\nThus the similarity is: $(-3)+5+5+(-2)+(-3)+5+(-3)+5=9$. Since the alignment between two genes is not unique, for example:\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|} \\hline\n\\tt A & \\tt G & \\tt T & \\tt G & \\tt A & \\tt T & \\tt G \\\\ \\hline\n\\texttt - & \\tt G & \\tt T & \\texttt T & \\texttt A & \\texttt - & \\tt G \\\\ \\hline\n\\end{array}\n$$\n\nThe similarity is: $(-3)+5+5+(-2)+5+(-1)+5=14$. Define the similarity between two genes as the maximum similarity among all alignments.", "inputFormat": "There are two lines. Each line first contains an integer $n$, representing the length of the gene sequence; after a space is a gene sequence that contains only the four letters $\\verb!A!,\\verb!C!,\\verb!G!,\\verb!T!$. $1 \\le n \\le 100$.", "outputFormat": "Only one line: the similarity of the input genes.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "相似基因", "background": "大家都知道，基因可以看作一个碱基对序列。它包含了 $4$ 种核苷酸，简记作 `A, C, G, T`。生物学家正致力于寻找人类基因的功能，以利用于诊断疾病和发明药物。\n\n在一个人类基因工作组的任务中，生物学家研究的是：两个基因的相似程度。因为这个研究对疾病的治疗有着非同寻常的作用。", "description": "两个基因的相似度的计算方法如下：\n\n对于两个已知基因，例如 `AGTGATG` 和 `GTTAG`，将它们的碱基互相对应。当然，中间可以加入一些空碱基 `-`，例如：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|c|} \\hline\n\\tt A & \\tt G & \\tt T & \\tt G & \\tt A & \\tt T & \\texttt - & \\tt G \\\\ \\hline\n\\texttt - & \\tt G & \\tt T & \\texttt - & \\texttt - & \\tt T & \\texttt A & \\tt G \\\\ \\hline\n\\end{array}\n$$\n\n这样，两个基因之间的相似度就可以用碱基之间相似度的总和来描述，碱基之间的相似度如下表所示：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{ |c|c|c|c|c|c|} \\hline\n& \\tt A & \\tt C & \\tt G & \\tt T & \\texttt - \\\\ \\hline\n\\tt A & 5 & -1 & -2 & -1 & -3\\\\ \\hline\n\\tt C & -1 & 5 & -3 & -2 & -4 \\\\\\hline\n\\tt G & -2 & -3 & 5 & -2 & -2 \\\\\\hline\n\\tt T & -1 & -2 & -2 & 5 & -1 \\\\\\hline\n\\texttt - & -3 & -4 & -2 & -1 & * \\\\\\hline\n\\end{array}\n$$ \n\n那么相似度就是：$(-3)+5+5+(-2)+(-3)+5+(-3)+5=9$。因为两个基因的对应方法不唯一，例如又有：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|} \\hline\n\\tt A & \\tt G & \\tt T & \\tt G & \\tt A & \\tt T & \\tt G \\\\ \\hline\n\\texttt - & \\tt G & \\tt T & \\texttt T & \\texttt A & \\texttt - & \\tt G \\\\ \\hline\n\\end{array}\n$$\n\n相似度为：$(-3)+5+5+(-2)+5+(-1)+5=14$。规定两个基因的相似度为所有对应方法中，相似度最大的那个。\n", "inputFormat": "共两行。每行首先是一个整数 $n$，表示基因序列的长度；隔一个空格后是一个基因序列，序列中只含 $\\verb!A!,\\verb!C!,\\verb!G!,\\verb!T!$ 四种字母。$1 \\le n\\le 100$。\n", "outputFormat": "仅一行，即输入基因的相似度。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1141", "type": "P", "difficulty": 3, "samples": [["2 2\n01\n10\n1 1\n2 2\n", "4\n4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["搜索", "并查集", "广度优先搜索 BFS", "队列"], "title": "01迷宫", "background": "", "description": "有一个仅由数字 $0$ 与 $1$ 组成的 $n \\times n$ 格迷宫。若你位于一格 $0$ 上，那么你可以移动到相邻 $4$ 格中的某一格 $1$ 上，同样若你位于一格 $1$ 上，那么你可以移动到相邻 $4$ 格中的某一格 $0$ 上。\n\n你的任务是：对于给定的迷宫，询问从某一格开始能移动到多少个格子（包含自身）。", "inputFormat": "第一行为两个正整数 $n,m$。\n\n下面 $n$ 行，每行 $n$ 个字符，字符只可能是 $0$ 或者 $1$，字符之间没有空格。\n\n接下来 $m$ 行，每行两个用空格分隔的正整数 $i,j$，对应了迷宫中第 $i$ 行第 $j$ 列的一个格子，询问从这一格开始能移动到多少格。", "outputFormat": "$m$ 行，对于每个询问输出相应答案。\n", "hint": "对于样例，所有格子互相可达。\n\n- 对于 $20\\%$ 的数据，$n \\leq 10$；\n- 对于 $40\\%$ 的数据，$n \\leq 50$；\n- 对于 $50\\%$ 的数据，$m \\leq 5$；\n- 对于 $60\\%$ 的数据，$n,m \\leq 100$；\n- 对于 $100\\%$ 的数据，$1\\le n \\leq 1000$，$1\\le m \\leq 100000$。", "locale": "zh-CN", "translations": {"en": {"title": "01 Maze", "background": "", "description": "There is an $n \\times n$ grid maze consisting only of digits $0$ and $1$. If you are on a cell with $0$, you may move to one of the 4 adjacent cells with $1$. Similarly, if you are on a cell with $1$, you may move to one of the 4 adjacent cells with $0$.\n\nYour task is: for the given maze, for each specified starting cell, determine how many cells are reachable (including the starting cell).", "inputFormat": "The first line contains two positive integers $n,m$.\n\nThe next $n$ lines each contain $n$ characters, each of which is either $0$ or $1$, with no spaces between characters.\n\nThen follow $m$ lines. Each line contains two positive integers $i,j$, referring to the cell at row $i$, column $j$ of the maze, asking how many cells are reachable starting from this cell.", "outputFormat": "Output $m$ lines. For each query, print the corresponding answer.", "hint": "For the sample, all cells are mutually reachable.\n\n- For $20\\%$ of the testdata, $n \\leq 10$.\n- For $40\\%$ of the testdata, $n \\leq 50$.\n- For $50\\%$ of the testdata, $m \\leq 5$.\n- For $60\\%$ of the testdata, $n,m \\leq 100$.\n- For $100\\%$ of the testdata, $1\\le n \\leq 1000$, $1\\le m \\leq 100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "01迷宫", "background": "", "description": "有一个仅由数字 $0$ 与 $1$ 组成的 $n \\times n$ 格迷宫。若你位于一格 $0$ 上，那么你可以移动到相邻 $4$ 格中的某一格 $1$ 上，同样若你位于一格 $1$ 上，那么你可以移动到相邻 $4$ 格中的某一格 $0$ 上。\n\n你的任务是：对于给定的迷宫，询问从某一格开始能移动到多少个格子（包含自身）。", "inputFormat": "第一行为两个正整数 $n,m$。\n\n下面 $n$ 行，每行 $n$ 个字符，字符只可能是 $0$ 或者 $1$，字符之间没有空格。\n\n接下来 $m$ 行，每行两个用空格分隔的正整数 $i,j$，对应了迷宫中第 $i$ 行第 $j$ 列的一个格子，询问从这一格开始能移动到多少格。", "outputFormat": "$m$ 行，对于每个询问输出相应答案。\n", "hint": "对于样例，所有格子互相可达。\n\n- 对于 $20\\%$ 的数据，$n \\leq 10$；\n- 对于 $40\\%$ 的数据，$n \\leq 50$；\n- 对于 $50\\%$ 的数据，$m \\leq 5$；\n- 对于 $60\\%$ 的数据，$n,m \\leq 100$；\n- 对于 $100\\%$ 的数据，$1\\le n \\leq 1000$，$1\\le m \\leq 100000$。", "locale": "zh-CN"}}}
{"pid": "P1142", "type": "P", "difficulty": 3, "samples": [["5\n1 1\n2 2\n3 3\n9 10\n10 11\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何", "枚举", "排序"], "title": "轰炸", "background": "", "description": "“我该怎么办？”飞行员 klux 向你求助。\n\n事实上，klux 面对的是一个很简单的问题，但是他实在太菜了。\n\nklux 要想轰炸某个区域内的一些地方，它们是位于平面上的一些点，但是（显然地）klux 遇到了抵抗，所以 klux 只能飞一次，而且由于飞机比较破，一但起飞就只能沿直线飞行，无法转弯。现在他想一次轰炸最多的地方。\n", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行有一对整数，表示一个点的坐标。没有一个点会出现两次。\n", "outputFormat": "一个整数，表示一条直线能覆盖的最多的点数。\n", "hint": "### 数据范围\n\n对于全部数据，保证 $1\\le n\\le 700$。\n\n本题翻译并改编自 uva270，数据及解答由 uva 提供。\n", "locale": "zh-CN", "translations": {"en": {"title": "Bombing", "background": "", "description": "\"What should I do?\" pilot klux asks you for help.\n\nIn fact, klux is facing a very simple problem, but he is not good at it.\n\nklux wants to bomb some locations in a certain area; they are points on a plane. However, he meets resistance, so he can fly only once, and because the plane is in poor condition, once it takes off it can only fly in a straight line and cannot turn. Now he wants to hit as many locations as possible in one flight.", "inputFormat": "The first line contains an integer $n$.\n\nThen $n$ lines follow, each containing a pair of integers that represent the coordinates of a point. No point appears twice.", "outputFormat": "A single integer, the maximum number of points that a straight line can cover.", "hint": "Constraints: For all testdata, it is guaranteed that $1\\le n\\le 700$.\n\nThis problem is translated and adapted from UVA 270; testdata and solution are provided by UVA.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "轰炸", "background": "", "description": "“我该怎么办？”飞行员 klux 向你求助。\n\n事实上，klux 面对的是一个很简单的问题，但是他实在太菜了。\n\nklux 要想轰炸某个区域内的一些地方，它们是位于平面上的一些点，但是（显然地）klux 遇到了抵抗，所以 klux 只能飞一次，而且由于飞机比较破，一但起飞就只能沿直线飞行，无法转弯。现在他想一次轰炸最多的地方。\n", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行有一对整数，表示一个点的坐标。没有一个点会出现两次。\n", "outputFormat": "一个整数，表示一条直线能覆盖的最多的点数。\n", "hint": "### 数据范围\n\n对于全部数据，保证 $1\\le n\\le 700$。\n\n本题翻译并改编自 uva270，数据及解答由 uva 提供。\n", "locale": "zh-CN"}}}
{"pid": "P1143", "type": "P", "difficulty": 2, "samples": [["16\nFF\n2\n", "11111111"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "进制"], "title": "进制转换", "background": "", "description": "请你编一程序实现两种不同进制之间的数据转换。\n", "inputFormat": "共三行，第一行是一个正整数，表示需要转换的数的进制 $n\\ (2\\le n\\le 16)$，第二行是一个 $n$ 进制数，若 $n>10$ 则用大写字母 $\\verb!A!\\sim \\verb!F!$ 表示数码 $10\\sim 15$，并且该 $n$ 进制数对应的十进制的值不超过 $10^9$，第三行也是一个正整数，表示转换之后的数的进制 $m\\ (2\\le m\\le 16)$。", "outputFormat": "一个正整数，表示转换之后的 $m$ 进制数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Base Conversion", "background": "", "description": "Write a program to convert a number between two different bases.", "inputFormat": "There are three lines. The first line is a positive integer denoting the base of the given number, $n\\ (2\\le n\\le 16)$. The second line is a base-$n$ number; if $n>10$, use uppercase letters $\\verb!A!\\sim \\verb!F!$ for digits $10\\sim 15$, and the decimal value of this base-$n$ number does not exceed $10^9$. The third line is also a positive integer denoting the target base, $m\\ (2\\le m\\le 16)$.", "outputFormat": "A single positive integer, which is the number in base $m$ after conversion.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "进制转换", "background": "", "description": "请你编一程序实现两种不同进制之间的数据转换。\n", "inputFormat": "共三行，第一行是一个正整数，表示需要转换的数的进制 $n\\ (2\\le n\\le 16)$，第二行是一个 $n$ 进制数，若 $n>10$ 则用大写字母 $\\verb!A!\\sim \\verb!F!$ 表示数码 $10\\sim 15$，并且该 $n$ 进制数对应的十进制的值不超过 $10^9$，第三行也是一个正整数，表示转换之后的数的进制 $m\\ (2\\le m\\le 16)$。", "outputFormat": "一个正整数，表示转换之后的 $m$ 进制数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1144", "type": "P", "difficulty": 4, "samples": [["5 7\n1 2\n1 3\n2 4\n3 4\n2 3\n4 5\n4 5\n", "1\n1\n1\n2\n4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "广度优先搜索 BFS", "最短路"], "title": "最短路计数", "background": "", "description": "给出一个 $N$ 个顶点 $M$ 条边的无向无权图，顶点编号为 $1\\sim N$。问从顶点 $1$ 开始，到其他每个点的最短路有几条。\n", "inputFormat": "第一行包含 $2$ 个正整数 $N,M$，为图的顶点数与边数。\n\n接下来 $M$ 行，每行 $2$ 个正整数 $x,y$，表示有一条连接顶点 $x$ 和顶点 $y$ 的边，请注意可能有自环与重边。\n", "outputFormat": "共 $N$ 行，每行一个非负整数，第 $i$ 行输出从顶点 $1$ 到顶点 $i$ 有多少条不同的最短路，由于答案有可能会很大，你只需要输出 $ ans \\bmod 100003$ 后的结果即可。如果无法到达顶点 $i$ 则输出 $0$。\n", "hint": "$1$ 到 $5$ 的最短路有 $4$ 条，分别为 $2$ 条 $1\\to 2\\to 4\\to 5$ 和 $2$ 条 $1\\to 3\\to 4\\to 5$（由于 $4\\to 5$ 的边有 $2$ 条）。\n\n对于 $20\\%$ 的数据，$1\\le N \\le 100$；  \n对于 $60\\%$ 的数据，$1\\le N \\le 10^3$；  \n对于 $100\\%$ 的数据，$1\\le N\\le10^6$，$1\\le M\\le 2\\times 10^6$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Shortest Path Counting", "background": "", "description": "Given an undirected, unweighted graph with $N$ vertices and $M$ edges, where vertices are numbered $1\\sim N$. Starting from vertex $1$, determine how many shortest paths there are to every other vertex.", "inputFormat": "The first line contains $2$ positive integers $N, M$, the number of vertices and edges of the graph.\n\nThe next $M$ lines each contain $2$ positive integers $x, y$, indicating there is an edge connecting vertex $x$ and vertex $y$. Note that self-loops and multiple edges may exist.", "outputFormat": "Output $N$ lines. The $i$-th line contains a non-negative integer: the number of different shortest paths from vertex $1$ to vertex $i$. Since the answer can be large, you only need to output $ans \\bmod 100003$. If vertex $i$ is unreachable, output $0$.", "hint": "From $1$ to $5$, there are $4$ shortest paths: $2$ paths $1\\to 2\\to 4\\to 5$ and $2$ paths $1\\to 3\\to 4\\to 5$ (because there are $2$ edges between $4$ and $5$).\n\nConstraints:\n- For $20\\%$ of the testdata, $1\\le N \\le 100$.\n- For $60\\%$ of the testdata, $1\\le N \\le 10^3$.\n- For $100\\%$ of the testdata, $1\\le N \\le 10^6$, $1\\le M \\le 2\\times 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最短路计数", "background": "", "description": "给出一个 $N$ 个顶点 $M$ 条边的无向无权图，顶点编号为 $1\\sim N$。问从顶点 $1$ 开始，到其他每个点的最短路有几条。\n", "inputFormat": "第一行包含 $2$ 个正整数 $N,M$，为图的顶点数与边数。\n\n接下来 $M$ 行，每行 $2$ 个正整数 $x,y$，表示有一条连接顶点 $x$ 和顶点 $y$ 的边，请注意可能有自环与重边。\n", "outputFormat": "共 $N$ 行，每行一个非负整数，第 $i$ 行输出从顶点 $1$ 到顶点 $i$ 有多少条不同的最短路，由于答案有可能会很大，你只需要输出 $ ans \\bmod 100003$ 后的结果即可。如果无法到达顶点 $i$ 则输出 $0$。\n", "hint": "$1$ 到 $5$ 的最短路有 $4$ 条，分别为 $2$ 条 $1\\to 2\\to 4\\to 5$ 和 $2$ 条 $1\\to 3\\to 4\\to 5$（由于 $4\\to 5$ 的边有 $2$ 条）。\n\n对于 $20\\%$ 的数据，$1\\le N \\le 100$；  \n对于 $60\\%$ 的数据，$1\\le N \\le 10^3$；  \n对于 $100\\%$ 的数据，$1\\le N\\le10^6$，$1\\le M\\le 2\\times 10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P1145", "type": "P", "difficulty": 2, "samples": [["3", "5"], ["4", "30"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "枚举", "剪枝", "ICPC", "CERC"], "title": "[CERC 1995] 约瑟夫", "background": "", "description": "$2k$ 个人站成一圈，从某个人开始数数，每次数到 $m$ 的人就被杀掉，然后下一个人重新开始数，直到最后只剩一个人。现在有一圈人，$k$ 个好人站在一起，$k$ 个坏人站在一起。从第一个好人开始数数。你要确定一个最小的 $m$，使得在 $k$ 个坏人均被杀死时 $k$ 个好人都存活。", "inputFormat": "一行一个整数 $k$。", "outputFormat": "一行一个整数 $m$。", "hint": "$0\\lt k\\lt 14$。", "locale": "zh-CN", "translations": {"en": {"title": "[CERC 1995] Joseph", "background": null, "description": "$2k$ people stand in a circle. Starting from some person, we count; each time the count reaches $m$, that person is killed, and then the next person starts counting again. This continues until only one person remains. Now consider a circle where $k$ good people stand together and $k$ bad people stand together. Counting starts from the first good person. You must determine the smallest $m$ such that, by the time all $k$ bad people have been killed, all $k$ good people are still alive.", "inputFormat": "One line containing an integer $k$.", "outputFormat": "One line containing an integer $m$.", "hint": "$0 \\lt k \\lt 14$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CERC 1995] 约瑟夫", "background": "", "description": "$2k$ 个人站成一圈，从某个人开始数数，每次数到 $m$ 的人就被杀掉，然后下一个人重新开始数，直到最后只剩一个人。现在有一圈人，$k$ 个好人站在一起，$k$ 个坏人站在一起。从第一个好人开始数数。你要确定一个最小的 $m$，使得在 $k$ 个坏人均被杀死时 $k$ 个好人都存活。", "inputFormat": "一行一个整数 $k$。", "outputFormat": "一行一个整数 $m$。", "hint": "$0\\lt k\\lt 14$。", "locale": "zh-CN"}}}
{"pid": "P1146", "type": "P", "difficulty": 2, "samples": [["4", "4\n0111\n1100\n0001\n1111\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "数学"], "title": "硬币翻转", "background": "", "description": "在桌面上有一排硬币，共 $N$ 枚，每一枚硬币均为正面朝上。现在要把所有的硬币翻转成反面朝上，规则是每次可翻转任意 $N-1$ 枚硬币（正面向上的被翻转为反面向上，反之亦然）。求一个最短的操作序列（将每次翻转 $N-1$ 枚硬币成为一次操作）。", "inputFormat": "一个自然数 $N$（$N$ 为不大于 $100$ 的偶数）。", "outputFormat": "第一行包含一个整数 $S$，表示最少需要的操作次数。\n\n接下来的 $S$ 行每行分别表示每次操作后桌上硬币的状态（一行包含 $N$ 个整数 $0$ 或 $1$，表示每个硬币的状态，$0$ 表示正面向上，$1$ 表示反面向上。不允许输出多余空格。\n\n对于有多种操作方案的情况，则只需**操作的字典序**最小输出一种。\n\n操作的字典序是指，对于一次操作中的每个位置，$1$ 表示翻转，$0$ 表示不反转。\n\n但是需要你输出的是每一次操作完的状态，$0$ 表示正面朝上，$1$ 表示反面朝上。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Coin Flipping", "background": "", "description": "There is a row of $N$ coins on the table, all initially heads up. You need to turn all coins to tails up. The rule is that each time you may flip any $N-1$ coins (a heads-up coin becomes tails up, and vice versa). Find a shortest sequence of operations (each flip of $N-1$ coins counts as one operation).", "inputFormat": "A natural number $N$ (where $N$ is an even number no greater than 100).", "outputFormat": "The first line contains an integer $S$, the minimal number of operations needed.\n\nThe next $S$ lines each describe the state of the coins on the table after that operation (a line with $N$ integers 0 or 1, indicating each coin’s state; 0 means heads up, 1 means tails up). No extra spaces are allowed.\n\nIf there are multiple valid operation sequences, output one whose sequence of operations is lexicographically smallest.\n\nThe lexicographical order of an operation is defined as follows: for each position in a single operation, 1 means flip, and 0 means do not flip.\n\nHowever, you must output the state after each operation, where 0 means heads up and 1 means tails up.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "硬币翻转", "background": "", "description": "在桌面上有一排硬币，共 $N$ 枚，每一枚硬币均为正面朝上。现在要把所有的硬币翻转成反面朝上，规则是每次可翻转任意 $N-1$ 枚硬币（正面向上的被翻转为反面向上，反之亦然）。求一个最短的操作序列（将每次翻转 $N-1$ 枚硬币成为一次操作）。", "inputFormat": "一个自然数 $N$（$N$ 为不大于 $100$ 的偶数）。", "outputFormat": "第一行包含一个整数 $S$，表示最少需要的操作次数。\n\n接下来的 $S$ 行每行分别表示每次操作后桌上硬币的状态（一行包含 $N$ 个整数 $0$ 或 $1$，表示每个硬币的状态，$0$ 表示正面向上，$1$ 表示反面向上。不允许输出多余空格。\n\n对于有多种操作方案的情况，则只需**操作的字典序**最小输出一种。\n\n操作的字典序是指，对于一次操作中的每个位置，$1$ 表示翻转，$0$ 表示不反转。\n\n但是需要你输出的是每一次操作完的状态，$0$ 表示正面朝上，$1$ 表示反面朝上。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1147", "type": "P", "difficulty": 2, "samples": [["10000\n", "18 142 \n297 328 \n388 412 \n1998 2002\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "枚举", "前缀和", "双指针 two-pointer"], "title": "连续正整数和", "background": null, "description": "给定一个正整数 $M$，求出所有的连续的正整数段（每一段至少有两个数），使得这些连续的正整数段中的全部数之和为 $M$。\n\n例如，$1998+1999+2000+2001+2002=10000$，所以从 $1998$ 到 $2002$ 的一个正整数段为 $M=10000$ 的一个解。", "inputFormat": "输入一行一个正整数，表示 $M$ 的值（$10\\le M\\le 2\\times 10^6$）。", "outputFormat": "输出每行包含两个正整数，表示一个满足条件的连续正整数段的左右端点，两数之间用一个空格隔开。\n\n输出按左端点大小升序排列。", "hint": "对于 $100\\%$ 的数据，保证至少有一个解。", "locale": "zh-CN", "translations": {"en": {"title": "Sum of Consecutive Positive Integers", "background": "", "description": "Given a positive integer $M$, find all segments of consecutive positive integers (each segment must contain at least two numbers) whose sum is $M$.\n\nExample: $1998+1999+2000+2001+2002 = 10000$, so the segment from $1998$ to $2002$ is a solution for $M=10000$.", "inputFormat": "A single line containing an integer giving the value of $M$ ($10 \\le M \\le 2,000,000$).", "outputFormat": "Output one line per solution, containing two positive integers: the first and last numbers of a valid consecutive positive integer segment, separated by a space. Sort all lines by the first number in ascending order. For the given input, at least one solution exists.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "连续正整数和", "background": null, "description": "给定一个正整数 $M$，求出所有的连续的正整数段（每一段至少有两个数），使得这些连续的正整数段中的全部数之和为 $M$。\n\n例如，$1998+1999+2000+2001+2002=10000$，所以从 $1998$ 到 $2002$ 的一个正整数段为 $M=10000$ 的一个解。", "inputFormat": "输入一行一个正整数，表示 $M$ 的值（$10\\le M\\le 2\\times 10^6$）。", "outputFormat": "输出每行包含两个正整数，表示一个满足条件的连续正整数段的左右端点，两数之间用一个空格隔开。\n\n输出按左端点大小升序排列。", "hint": "对于 $100\\%$ 的数据，保证至少有一个解。", "locale": "zh-CN"}}}
{"pid": "P1148", "type": "P", "difficulty": 3, "samples": [["4  S12  H3  H5  H13\n3  D11  H8  H9\n6  C10  H1  H2  H4  H6  H7\n3  H10  H11 H12\n13 H1  H2  H3  H4  H5  H6  H7  H8  H9  H10  H11  H12  H13  \n2  S12  C10\n1  D11\n0\n0\n0\n0\n0\n", "-148 +83 -138 -60\n+200 -200 +100 0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "拱猪计分", "background": null, "description": "「拱猪」是一种很有趣的扑克牌游戏。即使你不知道它的玩法，你也可以由它的计分方式来了解它的趣味性。假设在此我们仅考虑四个人的拱猪牌局，本题要求你根据下面的计分规则，在牌局结束时计算四位玩家所得分数。\n\n1. 我们分别以 $\\texttt S, \\texttt H, \\texttt D, \\texttt C$ 来代表黑桃、红心、方块及梅花，并以数字 $1$ 至 $13$ 来代表 $\\texttt A, \\texttt 2, \\dots, \\texttt Q, \\texttt K$ 等牌点，例如：$H_1$ 为红心 $\\texttt A$，$S_{13}$ 为黑桃 $\\texttt K$；\n2. 牌局结束时，由各玩家持有的有关计分的牌（计分牌）仅有「猪」$S_{12}$，所有红心牌，「羊」$D_{11}$ 及「加倍」$C_{10}$ 等 $16$ 张牌，其它牌均弃置不计（也就是在下面的算分过程中不再考虑这些牌），若一位玩家未持有这 $16$ 张牌中任意一张，则以得零分计算；\n3. 若持有 $C_{10}$ 牌的玩家只有该张牌而没有任何其它牌则得 $+50$ 分，否则将其它计分牌所得分数加倍计算；\n4. 若红心牌不在同一家，则 $H_1$ 至 $H_{13}$ 等 $13$ 张牌均以负分计，其数值依次为 $-50, -2, -3, -4, -5, -6, -7, -8, -9, -10, -20, -30, -40$，且 $S_{12}$ 与 $D_{11}$ 的分值分别以 $-100$ 及 $+100$ 分计算；\n5. 若红心牌 $H_1$ 至 $H_{13}$ 均在同一家，则有下列情形：\n\n+ 所有红心牌以 $+200$ 分计算。**不是每一张牌都以 $+200$ 分计算，而是所有红心牌。**\n+ 若 $S_{12}, D_{11}$ 皆在吃下所有红心牌之一家，则此玩家得 $+500$ 分，**这个分不与红心牌的 $+200$ 分叠加。** 否则这两张牌的分值以前文所述原则计算。\n+ $C_{10}$ 牌依旧以前文所述原则计算。\n\n例一：若各玩家持有计分牌如下：\n\n1. `S12 H3 H5 H13`\n2. `D11 H8 H9`\n3. `C10 H1 H2 H4 H6 H7`\n4. `H10 H11 H12`\n\n则各家之得分依序为：$-148, +83, -138$ 及 $-60$。\n\n例二：若各玩家持有计分牌如下：\n\n1. `H1 H2 H3 H4 H5 H6 H7 H8 H9 H10 H11 H12 H13`\n2. `S12 C10`\n3. `D11`\n4. 无\n\n则各家之得分依序为：$+200, -200, +100$ 及 $0$。", "inputFormat": "**每个输入文件包含多组数据。**\n\n每组数据有四行，分别描述一个玩家。\n\n每一行，第一个数为该玩家所持有计分牌总数，随后若干个符合题意的字符串描述其所持有之所有计分牌，牌数与各计分牌均以一个以上的空格分开。\n\n相邻两组测试数据之间不包含空白行。若四家持牌数均为 $0$，表示输入文件结束，不应处理这个测试数据。", "outputFormat": "每一行表示一组数据对应的结果，依次输出各家所得分数，共 $4$ 个整数，若非 $0$ 则包含正负号；相邻两个整数之间以一个空格分开。\n\n符号和数字间不带空格。每组数据的输出间不带空白行。", "hint": "样例中两组数据为题面中的例子。", "locale": "zh-CN", "translations": {"en": {"title": "Gongzhu Scoring", "background": "", "description": "“Gongzhu” is a very interesting card game. Even if you do not know how to play it, you can appreciate its fun from the scoring rules. Here we only consider a four-player Gongzhu deal. Based on the rules below, compute the final score of each player when the deal ends.\n\n1. We use $\\texttt S, \\texttt H, \\texttt D, \\texttt C$ to represent Spades, Hearts, Diamonds, and Clubs, and numbers $1$ to $13$ to represent ranks $\\texttt A, \\texttt 2, \\dots, \\texttt Q, \\texttt K$. For example, $H_1$ is Heart $\\texttt A$, and $S_{13}$ is Spade $\\texttt K$.\n2. At the end of the deal, the only cards that matter for scoring (scoring cards) are the “Pig” $S_{12}$, all Heart cards, the “Sheep” $D_{11}$, and the “Double” $C_{10}$ — a total of $16$ cards. All other cards are discarded and do not count (that is, they are not considered in the scoring process below). If a player holds none of these $16$ cards, their score is $0$.\n3. If the player who holds $C_{10}$ has that card and no other scoring cards, they score $+50$ points. Otherwise, double the sum of that player’s other scoring cards.\n4. If the Heart cards are not all held by a single player, then the $13$ Heart cards $H_1$ to $H_{13}$ are negative, with values $-50, -2, -3, -4, -5, -6, -7, -8, -9, -10, -20, -30, -40$ in order. Also, $S_{12}$ and $D_{11}$ are scored as $-100$ and $+100$ points, respectively.\n5. If the Heart cards $H_1$ to $H_{13}$ are all held by a single player, then:\n- All Heart cards are scored as $+200$ points. This means the set of all Heart cards is worth $+200$ in total, not $+200$ per card.\n- If $S_{12}$ and $D_{11}$ are both also held by the same player who took all the Hearts, that player scores $+500$ points. This $+500$ does not stack with the $+200$ from the Hearts. Otherwise, these two cards are scored according to the earlier rules.\n- The $C_{10}$ card is still scored according to the earlier rules.\n\nExample 1: If the players’ scoring cards are:\n1. `S12 H3 H5 H13`\n2. `D11 H8 H9`\n3. `C10 H1 H2 H4 H6 H7`\n4. `H10 H11 H12`\n\nThen the scores for the four players, in order, are: $-148, +83, -138$, and $-60$.\n\nExample 2: If the players’ scoring cards are:\n1. `H1 H2 H3 H4 H5 H6 H7 H8 H9 H10 H11 H12 H13`\n2. `S12 C10`\n3. `D11`\n4. None\n\nThen the scores for the four players, in order, are: $+200, -200, +100$, and $0$.", "inputFormat": "Each input file contains multiple test cases.\n\nEach test case has four lines, one per player.\n\nOn each line, the first number is the total count of scoring cards held by that player, followed by that many strings describing all their scoring cards. The count and the cards are separated by one or more spaces.\n\nThere are no blank lines between consecutive test cases. If all four players’ counts are $0$, the input ends and this test case should not be processed.", "outputFormat": "Each line corresponds to one test case’s result and contains the four players’ scores, in order, as $4$ integers with a sign if nonzero. Adjacent integers are separated by a single space.\n\nThere is no space between the sign and the number. Do not print blank lines between test cases.", "hint": "The two sample test cases correspond to the examples in the statement.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "拱猪计分", "background": null, "description": "「拱猪」是一种很有趣的扑克牌游戏。即使你不知道它的玩法，你也可以由它的计分方式来了解它的趣味性。假设在此我们仅考虑四个人的拱猪牌局，本题要求你根据下面的计分规则，在牌局结束时计算四位玩家所得分数。\n\n1. 我们分别以 $\\texttt S, \\texttt H, \\texttt D, \\texttt C$ 来代表黑桃、红心、方块及梅花，并以数字 $1$ 至 $13$ 来代表 $\\texttt A, \\texttt 2, \\dots, \\texttt Q, \\texttt K$ 等牌点，例如：$H_1$ 为红心 $\\texttt A$，$S_{13}$ 为黑桃 $\\texttt K$；\n2. 牌局结束时，由各玩家持有的有关计分的牌（计分牌）仅有「猪」$S_{12}$，所有红心牌，「羊」$D_{11}$ 及「加倍」$C_{10}$ 等 $16$ 张牌，其它牌均弃置不计（也就是在下面的算分过程中不再考虑这些牌），若一位玩家未持有这 $16$ 张牌中任意一张，则以得零分计算；\n3. 若持有 $C_{10}$ 牌的玩家只有该张牌而没有任何其它牌则得 $+50$ 分，否则将其它计分牌所得分数加倍计算；\n4. 若红心牌不在同一家，则 $H_1$ 至 $H_{13}$ 等 $13$ 张牌均以负分计，其数值依次为 $-50, -2, -3, -4, -5, -6, -7, -8, -9, -10, -20, -30, -40$，且 $S_{12}$ 与 $D_{11}$ 的分值分别以 $-100$ 及 $+100$ 分计算；\n5. 若红心牌 $H_1$ 至 $H_{13}$ 均在同一家，则有下列情形：\n\n+ 所有红心牌以 $+200$ 分计算。**不是每一张牌都以 $+200$ 分计算，而是所有红心牌。**\n+ 若 $S_{12}, D_{11}$ 皆在吃下所有红心牌之一家，则此玩家得 $+500$ 分，**这个分不与红心牌的 $+200$ 分叠加。** 否则这两张牌的分值以前文所述原则计算。\n+ $C_{10}$ 牌依旧以前文所述原则计算。\n\n例一：若各玩家持有计分牌如下：\n\n1. `S12 H3 H5 H13`\n2. `D11 H8 H9`\n3. `C10 H1 H2 H4 H6 H7`\n4. `H10 H11 H12`\n\n则各家之得分依序为：$-148, +83, -138$ 及 $-60$。\n\n例二：若各玩家持有计分牌如下：\n\n1. `H1 H2 H3 H4 H5 H6 H7 H8 H9 H10 H11 H12 H13`\n2. `S12 C10`\n3. `D11`\n4. 无\n\n则各家之得分依序为：$+200, -200, +100$ 及 $0$。", "inputFormat": "**每个输入文件包含多组数据。**\n\n每组数据有四行，分别描述一个玩家。\n\n每一行，第一个数为该玩家所持有计分牌总数，随后若干个符合题意的字符串描述其所持有之所有计分牌，牌数与各计分牌均以一个以上的空格分开。\n\n相邻两组测试数据之间不包含空白行。若四家持牌数均为 $0$，表示输入文件结束，不应处理这个测试数据。", "outputFormat": "每一行表示一组数据对应的结果，依次输出各家所得分数，共 $4$ 个整数，若非 $0$ 则包含正负号；相邻两个整数之间以一个空格分开。\n\n符号和数字间不带空格。每组数据的输出间不带空白行。", "hint": "样例中两组数据为题面中的例子。", "locale": "zh-CN"}}}
{"pid": "P1149", "type": "P", "difficulty": 2, "samples": [["14", "2"], ["18", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2008", "NOIP 提高组", "枚举"], "title": "[NOIP 2008 提高组] 火柴棒等式", "background": "", "description": "给你 $n$ 根火柴棍，你可以拼出多少个形如 $A+B=C$ 的等式？等式中的 $A$、$B$、$C$ 是用火柴棍拼出的整数（若该数非零，则最高位不能是 $0$）。用火柴棍拼数字 $0\\sim9$ 的拼法如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p5hsawt2.png)\n\n注意：\n\n1. 加号与等号各自需要两根火柴棍；\n2. 如果 $A\\neq B$，则 $A+B=C$ 与 $B+A=C$ 视为不同的等式（$A,B,C\\geq0$）；\n3. $n$ 根火柴棍必须全部用上。\n", "inputFormat": "一个整数 $n(1 \\leq n\\leq 24)$。\n", "outputFormat": "一个整数，能拼成的不同等式的数目。\n", "hint": "【输入输出样例 1 解释】\n\n$2$ 个等式为 $0+1=1$ 和 $1+0=1$。\n\n【输入输出样例 2 解释】\n\n$9$ 个等式为\n\n$0+4=4$、$0+11=11$、$1+10=11$、$2+2=4$、$2+7=9$、$4+0=4$、$7+2=9$、$10+1=11$、$11+0=11$。\n\nnoip2008 提高第二题", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2008 Senior] Matchstick Equation", "background": "", "description": "Given $n$ matchsticks, how many equations of the form $A+B=C$ can you make? In the equation, $A$, $B$, and $C$ are integers formed with matchsticks (if the number is nonzero, its most significant digit cannot be $0$). The ways to form the digits $0$ to $9$ with matchsticks are shown in the figure:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p5hsawt2.png)\n\nNote:\n1. The plus sign and the equals sign each require two matchsticks.\n2. If $A\\neq B$, then $A+B=C$ and $B+A=C$ are considered different equations ($A,B,C\\geq 0$).\n3. All $n$ matchsticks must be used.", "inputFormat": "A single integer $n$ ($1 \\leq n \\leq 24$).", "outputFormat": "A single integer, the number of different equations that can be formed.", "hint": "[Explanation for Sample 1]\n\nThe $2$ equations are $0+1=1$ and $1+0=1$.\n\n[Explanation for Sample 2]\n\nThe $9$ equations are\n$0+4=4$, $0+11=11$, $1+10=11$, $2+2=4$, $2+7=9$, $4+0=4$, $7+2=9$, $10+1=11$, $11+0=11$.\n\nNOIP 2008 Senior Problem 2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2008 提高组] 火柴棒等式", "background": "", "description": "给你 $n$ 根火柴棍，你可以拼出多少个形如 $A+B=C$ 的等式？等式中的 $A$、$B$、$C$ 是用火柴棍拼出的整数（若该数非零，则最高位不能是 $0$）。用火柴棍拼数字 $0\\sim9$ 的拼法如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p5hsawt2.png)\n\n注意：\n\n1. 加号与等号各自需要两根火柴棍；\n2. 如果 $A\\neq B$，则 $A+B=C$ 与 $B+A=C$ 视为不同的等式（$A,B,C\\geq0$）；\n3. $n$ 根火柴棍必须全部用上。\n", "inputFormat": "一个整数 $n(1 \\leq n\\leq 24)$。\n", "outputFormat": "一个整数，能拼成的不同等式的数目。\n", "hint": "【输入输出样例 1 解释】\n\n$2$ 个等式为 $0+1=1$ 和 $1+0=1$。\n\n【输入输出样例 2 解释】\n\n$9$ 个等式为\n\n$0+4=4$、$0+11=11$、$1+10=11$、$2+2=4$、$2+7=9$、$4+0=4$、$7+2=9$、$10+1=11$、$11+0=11$。\n\nnoip2008 提高第二题", "locale": "zh-CN"}}}
{"pid": "P1150", "type": "P", "difficulty": 1, "samples": [["4 3\n", "5"], ["10 3", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学"], "title": "Peter 的烟", "background": "**温馨提醒：吸烟有害健康，请勿尝试吸烟！**", "description": "Peter 有 $n$ 根烟，他每吸完一根烟就把烟蒂保存起来，$k$（$k>1$）个烟蒂可以换一个新的烟，那么 Peter 最终能吸到多少根烟呢？\n\n与某些脑筋急转弯不同的是，Peter 并不能从异次元借到烟蒂，抽完后再还回去。", "inputFormat": "每组测试数据一行包括两个整数 $n, k$（$1 < n, k \\le 10^8$）。\n", "outputFormat": "对于每组测试数据，输出一行包括一个整数表示最终烟的根数。\n", "hint": "对于 $100\\%$ 的数据，$1<n, k \\le 10^8$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Peter's Cigarettes", "background": "**Warm reminder: Smoking is harmful to your health; please do not attempt to smoke!**", "description": "Peter has $n$ cigarettes. Each time he finishes a cigarette, he keeps the butt. $k$ ($k>1$) butts can be exchanged for one new cigarette. How many cigarettes can Peter smoke in total?\n\nUnlike some brain teasers, Peter cannot borrow cigarette butts from another dimension and return them after smoking.", "inputFormat": "Each test case consists of one line containing two integers $n, k$ ($1 < n, k \\le 10^8$).", "outputFormat": "For each test case, output one line containing one integer, the total number of cigarettes.", "hint": "For $100\\%$ of the testdata, $1 < n, k \\le 10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Peter 的烟", "background": "**温馨提醒：吸烟有害健康，请勿尝试吸烟！**", "description": "Peter 有 $n$ 根烟，他每吸完一根烟就把烟蒂保存起来，$k$（$k>1$）个烟蒂可以换一个新的烟，那么 Peter 最终能吸到多少根烟呢？\n\n与某些脑筋急转弯不同的是，Peter 并不能从异次元借到烟蒂，抽完后再还回去。", "inputFormat": "每组测试数据一行包括两个整数 $n, k$（$1 < n, k \\le 10^8$）。\n", "outputFormat": "对于每组测试数据，输出一行包括一个整数表示最终烟的根数。\n", "hint": "对于 $100\\%$ 的数据，$1<n, k \\le 10^8$。\n", "locale": "zh-CN"}}}
{"pid": "P1151", "type": "P", "difficulty": 1, "samples": [["15", "22555\n25555\n28555\n30000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "搜索", "枚举"], "title": "子数整数", "background": "", "description": "对于一个五位数 $\\overline{a_1a_2a_3a_4a_5}$，可将其拆分为三个子数：\n\n$sub_1=\\overline{a_1a_2a_3}$\n\n$sub_2=\\overline{a_2a_3a_4}$\n\n$sub_3=\\overline{a_3a_4a_5}$\n\n例如，五位数 $20207$ 可以拆分成\n\n$sub_1=202$\n\n$sub_2=020\\ (=20)$\n\n$sub_3=207$\n\n现在给定一个正整数 $K$，要求你编程求出 $10000$ 到 $30000$ 之间所有满足下述条件的五位数，条件是这些五位数的三个子数 $sub_1,sub_2,sub_3$ 都可被 $K$ 整除。\n", "inputFormat": "一个正整数 $K$。\n", "outputFormat": "每一行为一个满足条件的五位数，要求从小到大输出。不得重复输出或遗漏。如果无解，则输出 `No`。\n", "hint": "$0<K<1000$\n", "locale": "zh-CN", "translations": {"en": {"title": "Subnumber Integers", "background": "", "description": "For a five-digit number $\\overline{a_1a_2a_3a_4a_5}$, it can be split into three subnumbers:\n\n$sub_1=\\overline{a_1a_2a_3}$\n\n$sub_2=\\overline{a_2a_3a_4}$\n\n$sub_3=\\overline{a_3a_4a_5}$\n\nFor example, the five-digit number $20207$ can be split into\n\n$sub_1=202$\n\n$sub_2=020\\ (=20)$\n\n$sub_3=207$\n\nGiven a positive integer $K$, write a program to find all five-digit numbers between $10000$ and $30000$ inclusive such that their three subnumbers $sub_1, sub_2, sub_3$ are all divisible by $K$.", "inputFormat": "A positive integer $K$.", "outputFormat": "Output one qualifying five-digit number per line in increasing order. Do not output duplicates or miss any. If there is no solution, output `No`.", "hint": "$0<K<1000$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "子数整数", "background": "", "description": "对于一个五位数 $\\overline{a_1a_2a_3a_4a_5}$，可将其拆分为三个子数：\n\n$sub_1=\\overline{a_1a_2a_3}$\n\n$sub_2=\\overline{a_2a_3a_4}$\n\n$sub_3=\\overline{a_3a_4a_5}$\n\n例如，五位数 $20207$ 可以拆分成\n\n$sub_1=202$\n\n$sub_2=020\\ (=20)$\n\n$sub_3=207$\n\n现在给定一个正整数 $K$，要求你编程求出 $10000$ 到 $30000$ 之间所有满足下述条件的五位数，条件是这些五位数的三个子数 $sub_1,sub_2,sub_3$ 都可被 $K$ 整除。\n", "inputFormat": "一个正整数 $K$。\n", "outputFormat": "每一行为一个满足条件的五位数，要求从小到大输出。不得重复输出或遗漏。如果无解，则输出 `No`。\n", "hint": "$0<K<1000$\n", "locale": "zh-CN"}}}
{"pid": "P1152", "type": "P", "difficulty": 1, "samples": [["4 1 4 2 3\n", "Jolly\n"], ["5 1 4 2 -1 6", "Not jolly"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "枚举", "排序"], "title": "欢乐的跳", "background": "", "description": "一个 $n$ 个元素的整数数组，如果数组两个连续元素之间差的绝对值包括了 $[1,n-1]$ 之间的所有整数，则称之符合“欢乐的跳”，如数组 $\\{1,4,2,3\\}$ 符合“欢乐的跳”，因为差的绝对值分别为：$3,2,1$。\n\n给定一个数组，你的任务是判断该数组是否符合“欢乐的跳”。\n", "inputFormat": "每组测试数据第一行以一个整数 $n(1 \\le n \\le 1000)$ 开始，接下来 $n$ 个空格隔开的在 $[-10^8,10^8]$ 之间的整数。\n", "outputFormat": "对于每组测试数据，输出一行若该数组符合“欢乐的跳”则输出 `Jolly`，否则输出 `Not jolly`。\n", "hint": "$1 \\le n \\le 1000$\n", "locale": "zh-CN", "translations": {"en": {"title": "Jolly Jumpers", "background": "", "description": "An integer array with $n$ elements is called a jolly jumper if the absolute differences between each pair of consecutive elements include all integers in $[1, n-1]$. For example, the array $\\{1,4,2,3\\}$ is a jolly jumper because the absolute differences are $3, 2, 1$.\n\nGiven an array, your task is to determine whether it is a jolly jumper.", "inputFormat": "Each test case starts with an integer $n(1 \\le n \\le 1000)$, followed by $n$ space-separated integers in $[-10^8, 10^8]$.", "outputFormat": "For each test case, output one line. If the array is a jolly jumper, output `Jolly`; otherwise, output `Not jolly`.", "hint": "$1 \\le n \\le 1000$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "欢乐的跳", "background": "", "description": "一个 $n$ 个元素的整数数组，如果数组两个连续元素之间差的绝对值包括了 $[1,n-1]$ 之间的所有整数，则称之符合“欢乐的跳”，如数组 $\\{1,4,2,3\\}$ 符合“欢乐的跳”，因为差的绝对值分别为：$3,2,1$。\n\n给定一个数组，你的任务是判断该数组是否符合“欢乐的跳”。\n", "inputFormat": "每组测试数据第一行以一个整数 $n(1 \\le n \\le 1000)$ 开始，接下来 $n$ 个空格隔开的在 $[-10^8,10^8]$ 之间的整数。\n", "outputFormat": "对于每组测试数据，输出一行若该数组符合“欢乐的跳”则输出 `Jolly`，否则输出 `Not jolly`。\n", "hint": "$1 \\le n \\le 1000$\n", "locale": "zh-CN"}}}
{"pid": "P1153", "type": "P", "difficulty": 5, "samples": [["100 -10\n-200 0\n45 7\n0 0\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["计算几何"], "title": "点和线", "background": "", "description": "平面上有一些点，你可以用直线将两点连接起来。那么有多少种方法可以把这些点连续地连起来，使得任何两个线都不交叉。\n\n显然，三个点只有一种方法。四个点最多只有 $3$ 种方法。写一个程序计算方法总数。\n", "inputFormat": "每一行是一个点的坐标，坐标值是整数，中间用一个空格隔开。最后一个坐标是原点。任意三点不在一条直线上。", "outputFormat": "输出方案总数。\n", "hint": "最多只有 $10$  个点。\n\n- 必须从一个点出发，途径所有点回到起点的路径才会被统计。\n\n- 两个方案不相同当且仅当围成的简单多边形不同。", "locale": "zh-CN", "translations": {"en": {"title": "Points and Lines", "background": "", "description": "There are some points on a plane. You can connect two points with a straight segment. How many ways are there to connect these points in sequence to form a closed polygonal chain such that no two segments intersect (except at shared endpoints)?\n\nObviously, with three points there is only one way. With four points there are at most $3$ ways. Write a program to compute the total number of ways.", "inputFormat": "Each line contains the coordinates of one point: two integers separated by a single space. The last line is the origin $(0, 0)$. No three points are collinear.", "outputFormat": "Output the total number of valid ways.", "hint": "At most $10$ points.\n\n- Only a tour that starts at some point, visits all points, and returns to the starting point will be counted.\n- Two solutions are different if and only if the resulting simple polygon is different.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "点和线", "background": "", "description": "平面上有一些点，你可以用直线将两点连接起来。那么有多少种方法可以把这些点连续地连起来，使得任何两个线都不交叉。\n\n显然，三个点只有一种方法。四个点最多只有 $3$ 种方法。写一个程序计算方法总数。\n", "inputFormat": "每一行是一个点的坐标，坐标值是整数，中间用一个空格隔开。最后一个坐标是原点。任意三点不在一条直线上。", "outputFormat": "输出方案总数。\n", "hint": "最多只有 $10$  个点。\n\n- 必须从一个点出发，途径所有点回到起点的路径才会被统计。\n\n- 两个方案不相同当且仅当围成的简单多边形不同。", "locale": "zh-CN"}}}
{"pid": "P1154", "type": "P", "difficulty": 3, "samples": [["5 \n4 \n6 \n9 \n10 \n13 \n", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学"], "title": "奶牛分厩", "background": null, "description": "农夫约翰有 $N(1 \\le N \\le 5000)$ 头奶牛，每头奶牛都有一个唯一的不同于其它奶牛的编号 $S_i$，所有的奶牛都睡在一个有 $K$ 个厩的谷仓中，厩的编号为 $0$ 到 $K-1$。每头奶牛都知道自己该睡在哪一个厩中，因为约翰教会了它们做除法，$S_i  \\bmod  K$ 的值就是第 $i$ 头奶牛所睡的厩的编号。", "inputFormat": "第一行一个正整数 $N$，第 $2$ 到 $N+1$ 行每行一个整数表示一头奶牛的编号。", "outputFormat": "一个整数，表示要求的最小的 $K$，对所有的测试数据这样的 $K$ 是一定存在的。", "hint": "$S_i(1\\le S_i \\le 1000000)$", "locale": "zh-CN", "translations": {"en": {"title": "Cow Stall Assignment", "background": "", "description": "Farmer John has $N(1 \\le N \\le 5000)$ cows. Each cow has a unique ID $s_i$, different from every other cow. All the cows sleep in a barn that has $K$ stalls, labeled $0$ to $K-1$. No two cows may share the same stall. Each cow knows which stall to sleep in because John taught them division: the stall index for the $i$-th cow is $S_i  \\bmod  K$. \n\nFind the smallest $K$ such that the assignment is valid (i.e., all cows are assigned to distinct stalls).", "inputFormat": "The first line contains a positive integer $N$. Lines $2$ through $N+1$ each contain one integer, the ID of a cow.", "outputFormat": "Output a single integer, the minimal $K$. For all testdata, such a $K$ is guaranteed to exist.", "hint": "$S_i(1\\le S_i \\le 1000000)$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "奶牛分厩", "background": null, "description": "农夫约翰有 $N(1 \\le N \\le 5000)$ 头奶牛，每头奶牛都有一个唯一的不同于其它奶牛的编号 $S_i$，所有的奶牛都睡在一个有 $K$ 个厩的谷仓中，厩的编号为 $0$ 到 $K-1$。每头奶牛都知道自己该睡在哪一个厩中，因为约翰教会了它们做除法，$S_i  \\bmod  K$ 的值就是第 $i$ 头奶牛所睡的厩的编号。", "inputFormat": "第一行一个正整数 $N$，第 $2$ 到 $N+1$ 行每行一个整数表示一头奶牛的编号。", "outputFormat": "一个整数，表示要求的最小的 $K$，对所有的测试数据这样的 $K$ 是一定存在的。", "hint": "$S_i(1\\le S_i \\le 1000000)$", "locale": "zh-CN"}}}
{"pid": "P1155", "type": "P", "difficulty": 5, "samples": [["4\n1 3 2 4", "a b a a b b a b"], ["4\n2 3 4 1", "0"], ["3\n2 3 1", "a c a b b d"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "贪心", "2008", "NOIP 提高组", "二分图"], "title": "[NOIP 2008 提高组] 双栈排序", "background": "", "description": "Tom 最近在研究一个有趣的排序问题。如图所示，通过 $2$ 个栈 $S_1$ 和 $S_2$，Tom 希望借助以下 $4$ 种操作实现将输入序列升序排序。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gwxu91ud.png)\n\n- 操作 $\\verb!a!$：将第一个元素压入栈 $S_1$。\n- 操作 $\\verb!b!$：将 $S_1$ 栈顶元素弹出至输出序列。\n- 操作 $\\verb!c!$：将第一个元素压入栈 $S_2$。\n- 操作 $\\verb!d!$：将 $S_2$ 栈顶元素弹出至输出序列。\n\n\n如果一个 $1\\sim n$ 的排列 $P$ 可以通过一系列合法操作使得输出序列为 $(1,2,\\cdots,n-1,n)$，Tom 就称 $P$ 是一个“可双栈排序排列”。例如 $(1,3,2,4)$ 就是一个“可双栈排序序列”，而 $(2,3,4,1)$ 不是。下图描述了一个将 $(1,3,2,4)$ 排序的操作序列：$\\texttt {a,c,c,b,a,d,d,b}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jwdjwfee.png)\n\n当然，这样的操作序列有可能有几个，对于上例 $(1,3,2,4)$，$\\texttt{a,b,a,a,b,b,a,b}$ 是另外一个可行的操作序列。Tom 希望知道其中字典序最小的操作序列是什么。", "inputFormat": "第一行是一个整数 $n$。\n\n第二行有 $n$ 个用空格隔开的正整数，构成一个 $1\\sim n$ 的排列。", "outputFormat": "共一行，如果输入的排列不是“可双栈排序排列”，输出 `0`。\n\n否则输出字典序最小的操作序列，每两个操作之间用空格隔开，行尾没有空格。", "hint": "$30\\%$ 的数据满足：$n\\le10$。\n\n$50\\%$ 的数据满足：$n\\le50$。\n\n$100\\%$ 的数据满足：$n\\le1000$。\n\n2021.06.17 加强 by [SSerxhs](https://www.luogu.com.cn/user/29826)。hack 数据单独分为一个 subtask 防止混淆。\n\nnoip2008 提高第四题", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2008 Senior] Two-Stack Sorting", "background": "", "description": "Tom has been studying an interesting sorting problem. As shown in the figure, by using 2 stacks $S_1$ and $S_2$, Tom hopes to sort the input sequence in ascending order using the following 4 operations.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gwxu91ud.png)\n\n- Operation $\\verb!a!$: Push the first element of the input sequence onto stack $S_1$.\n- Operation $\\verb!b!$: Pop the top element of $S_1$ to the output sequence.\n- Operation $\\verb!c!$: Push the first element of the input sequence onto stack $S_2$.\n- Operation $\\verb!d!$: Pop the top element of $S_2$ to the output sequence.\n\nIf a permutation $P$ of $1\\sim n$ can, via a series of valid operations, produce the output sequence $(1,2,\\cdots,n-1,n)$, then Tom calls $P$ a \"two-stack sortable permutation.\" For example, $(1,3,2,4)$ is a \"two-stack sortable permutation,\" while $(2,3,4,1)$ is not. The following figure shows an operation sequence that sorts $(1,3,2,4)$: $\\texttt {a,c,c,b,a,d,d,b}$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jwdjwfee.png)\n\nOf course, there may be multiple such operation sequences. For the above example $(1,3,2,4)$, $\\texttt{a,b,a,a,b,b,a,b}$ is another valid operation sequence. Tom wants to know the lexicographically smallest operation sequence among them.", "inputFormat": "The first line contains an integer $n$.\n\nThe second line contains $n$ positive integers separated by spaces, forming a permutation of $1\\sim n$.", "outputFormat": "Output a single line. If the input permutation is not a \"two-stack sortable permutation,\" output `0`.\n\nOtherwise, output the lexicographically smallest operation sequence, with a space between every two operations and no trailing space at the end.", "hint": "$30\\%$ of the testdata satisfy: $n\\le10$.\n\n$50\\%$ of the testdata satisfy: $n\\le50$.\n\n$100\\%$ of the testdata satisfy: $n\\le1000$.\n\n2021.06.17 strengthened by [SSerxhs](https://www.luogu.com.cn/user/29826). Hack testdata are separated into a single subtask to avoid confusion.\n\nNOIP 2008 Senior Problem 4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2008 提高组] 双栈排序", "background": "", "description": "Tom 最近在研究一个有趣的排序问题。如图所示，通过 $2$ 个栈 $S_1$ 和 $S_2$，Tom 希望借助以下 $4$ 种操作实现将输入序列升序排序。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gwxu91ud.png)\n\n- 操作 $\\verb!a!$：将第一个元素压入栈 $S_1$。\n- 操作 $\\verb!b!$：将 $S_1$ 栈顶元素弹出至输出序列。\n- 操作 $\\verb!c!$：将第一个元素压入栈 $S_2$。\n- 操作 $\\verb!d!$：将 $S_2$ 栈顶元素弹出至输出序列。\n\n\n如果一个 $1\\sim n$ 的排列 $P$ 可以通过一系列合法操作使得输出序列为 $(1,2,\\cdots,n-1,n)$，Tom 就称 $P$ 是一个“可双栈排序排列”。例如 $(1,3,2,4)$ 就是一个“可双栈排序序列”，而 $(2,3,4,1)$ 不是。下图描述了一个将 $(1,3,2,4)$ 排序的操作序列：$\\texttt {a,c,c,b,a,d,d,b}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jwdjwfee.png)\n\n当然，这样的操作序列有可能有几个，对于上例 $(1,3,2,4)$，$\\texttt{a,b,a,a,b,b,a,b}$ 是另外一个可行的操作序列。Tom 希望知道其中字典序最小的操作序列是什么。", "inputFormat": "第一行是一个整数 $n$。\n\n第二行有 $n$ 个用空格隔开的正整数，构成一个 $1\\sim n$ 的排列。", "outputFormat": "共一行，如果输入的排列不是“可双栈排序排列”，输出 `0`。\n\n否则输出字典序最小的操作序列，每两个操作之间用空格隔开，行尾没有空格。", "hint": "$30\\%$ 的数据满足：$n\\le10$。\n\n$50\\%$ 的数据满足：$n\\le50$。\n\n$100\\%$ 的数据满足：$n\\le1000$。\n\n2021.06.17 加强 by [SSerxhs](https://www.luogu.com.cn/user/29826)。hack 数据单独分为一个 subtask 防止混淆。\n\nnoip2008 提高第四题", "locale": "zh-CN"}}}
{"pid": "P1156", "type": "P", "difficulty": 4, "samples": [["20 4\n5 4 9\n9 3 2\n12 6 10\n13 1 1", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "排序", "背包 DP"], "title": "垃圾陷阱", "background": null, "description": "卡门――农夫约翰极其珍视的一头 `Holsteins` 奶牛――已经落到了 “垃圾井” 中。“垃圾井” 是农夫们扔垃圾的地方，它的深度为 $D$（$2 \\le D \\le 100$）英尺。\n\n卡门想把垃圾堆起来，等到堆得与井深同样高或比井深更高（即，垃圾高度总和 $\\geq D$）时，她就能逃出井外了。另外，卡门可以通过吃一些垃圾来维持自己的生命。\n\n每个垃圾都可以用来吃或堆放，并且堆放垃圾不用花费卡门的时间。\n\n假设卡门预先知道了每个垃圾扔下的时间 $t$（$1 \\le t \\le 1000$），以及每个垃圾堆放的高度 $h$（$1 \\le h \\le 25$）和吃进该垃圾能增加维持生命的时间 $f$（$1 \\le f \\le 30$），要求出卡门最早能逃出井外的时间，假设卡门当前体内有足够持续 $10$ 小时的能量，如果卡门 $10$ 小时内（不含 $10$ 小时，维持生命的时间同）没有进食，卡门就将饿死。特别地，若体力值为 $0$ 时吃下垃圾或逃出井外也不会饿死。", "inputFormat": "第一行为两个整数，$D$ 和 $G$（$1 \\le G \\le 100$），$G$ 为被投入井的垃圾的数量。\n\n第二到第 $G+1$ 行每行包括三个整数：$t$（$1 \\le t \\le 1000$），表示垃圾被投进井中的时间；$f$（$1 \\le f \\le 30$），表示该垃圾能维持卡门生命的时间；和 $h$（$1 \\le h \\le 25$），该垃圾能垫高的高度。", "outputFormat": "如果卡门可以爬出陷阱，输出一个整数，表示最早什么时候可以爬出；否则输出卡门最长可以存活多长时间。", "hint": "**【样例说明】**\n\n卡门堆放她收到的第一个垃圾：$\\mathrm{height}=9$；\n\n卡门吃掉她收到的第 $2$ 个垃圾，使她的生命从 $10$ 小时延伸到 $13$ 小时；\n\n卡门堆放第 $3$ 个垃圾，$\\mathrm{height}=19$；\n\n卡门堆放第 $4$ 个垃圾，$\\mathrm{height}=20$。", "locale": "zh-CN", "translations": {"en": {"title": "Garbage Trap", "background": "", "description": "Carmen — a `Holsteins` cow dearly valued by Farmer John — has fallen into a “trash well,” a place where farmers dump garbage. The well has a depth of $D$ ($2 \\le D \\le 100$) feet.\n\nCarmen plans to stack trash. When the stacked trash reaches or exceeds the well’s depth (that is, the total trash height $\\geq D$), she can escape. She can also eat some trash to extend her survival.\n\nEach piece of trash can be either eaten or stacked, and stacking takes no time for Carmen.\n\nAssume Carmen knows in advance the time $t$ ($1 \\le t \\le 1000$) when each piece of trash is thrown in, as well as each piece’s stacking height $h$ ($1 \\le h \\le 25$) and the survival time increase $f$ ($1 \\le f \\le 30$) if eaten. Find the earliest time when Carmen can escape. Initially, Carmen has enough energy to last 10 hours. If Carmen goes 10 hours without eating (10 hours excluded; the same applies to added survival time), she will starve. In particular, if her energy is 0 and she eats a piece of trash or escapes at that instant, she will not starve.", "inputFormat": "The first line contains two integers, $D$ and $G$ ($1 \\le G \\le 100$), where $G$ is the number of pieces of trash thrown into the well.\n\nEach of the next $G$ lines contains three integers: $t$ ($1 \\le t \\le 1000$), the time when the trash is thrown in; $f$ ($1 \\le f \\le 30$), the survival time this trash can provide if eaten; and $h$ ($1 \\le h \\le 25$), the height this trash can add if stacked.", "outputFormat": "If Carmen can climb out of the trap, output a single integer, the earliest time when she can climb out. Otherwise, output how long she can survive at most.", "hint": "【Sample Explanation】\n\nCarmen stacks the first piece of trash she receives: $\\mathrm{height}=9$.\n\nCarmen eats the second piece of trash, extending her survival from 10 hours to 13 hours.\n\nCarmen stacks the third piece of trash, $\\mathrm{height}=19$.\n\nCarmen stacks the fourth piece of trash, $\\mathrm{height}=20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "垃圾陷阱", "background": null, "description": "卡门――农夫约翰极其珍视的一头 `Holsteins` 奶牛――已经落到了 “垃圾井” 中。“垃圾井” 是农夫们扔垃圾的地方，它的深度为 $D$（$2 \\le D \\le 100$）英尺。\n\n卡门想把垃圾堆起来，等到堆得与井深同样高或比井深更高（即，垃圾高度总和 $\\geq D$）时，她就能逃出井外了。另外，卡门可以通过吃一些垃圾来维持自己的生命。\n\n每个垃圾都可以用来吃或堆放，并且堆放垃圾不用花费卡门的时间。\n\n假设卡门预先知道了每个垃圾扔下的时间 $t$（$1 \\le t \\le 1000$），以及每个垃圾堆放的高度 $h$（$1 \\le h \\le 25$）和吃进该垃圾能增加维持生命的时间 $f$（$1 \\le f \\le 30$），要求出卡门最早能逃出井外的时间，假设卡门当前体内有足够持续 $10$ 小时的能量，如果卡门 $10$ 小时内（不含 $10$ 小时，维持生命的时间同）没有进食，卡门就将饿死。特别地，若体力值为 $0$ 时吃下垃圾或逃出井外也不会饿死。", "inputFormat": "第一行为两个整数，$D$ 和 $G$（$1 \\le G \\le 100$），$G$ 为被投入井的垃圾的数量。\n\n第二到第 $G+1$ 行每行包括三个整数：$t$（$1 \\le t \\le 1000$），表示垃圾被投进井中的时间；$f$（$1 \\le f \\le 30$），表示该垃圾能维持卡门生命的时间；和 $h$（$1 \\le h \\le 25$），该垃圾能垫高的高度。", "outputFormat": "如果卡门可以爬出陷阱，输出一个整数，表示最早什么时候可以爬出；否则输出卡门最长可以存活多长时间。", "hint": "**【样例说明】**\n\n卡门堆放她收到的第一个垃圾：$\\mathrm{height}=9$；\n\n卡门吃掉她收到的第 $2$ 个垃圾，使她的生命从 $10$ 小时延伸到 $13$ 小时；\n\n卡门堆放第 $3$ 个垃圾，$\\mathrm{height}=19$；\n\n卡门堆放第 $4$ 个垃圾，$\\mathrm{height}=20$。", "locale": "zh-CN"}}}
{"pid": "P1157", "type": "P", "difficulty": 2, "samples": [["5 3 \n", "  1  2  3\n  1  2  4\n  1  2  5\n  1  3  4\n  1  3  5\n  1  4  5\n  2  3  4\n  2  3  5\n  2  4  5\n  3  4  5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "递归", "排列组合"], "title": "组合的输出", "background": "", "description": "排列与组合是常用的数学方法，其中组合就是从 $n$ 个元素中抽出 $r$ 个元素（不分顺序且 $r \\le n$），我们可以简单地将 $n$ 个元素理解为自然数 $1,2,\\dots,n$，从中任取 $r$ 个数。\n\n现要求你输出所有组合。\n\n例如 $n=5,r=3$，所有组合为：\n\n$123,124,125,134,135,145,234,235,245,345$。\n", "inputFormat": "一行两个自然数 $n,r(1<n<21,0 \\le r \\le n)$。\n", "outputFormat": "所有的组合，每一个组合占一行且其中的元素按由小到大的顺序排列，每个元素占三个字符的位置，所有的组合也按字典顺序。\n\n**注意哦！输出时，每个数字需要 $3$ 个场宽。以 C++ 为例，你可以使用下列代码：**\n\n```cpp\ncout << setw(3) << x;\n```\n\n输出占 $3$ 个场宽的数 $x$。注意你需要头文件 `iomanip`。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Output of Combinations", "background": "", "description": "Permutation and combination are common mathematical methods. A combination means selecting $r$ elements from $n$ elements (order does not matter and $r \\le n$). We can simply think of the $n$ elements as the natural numbers $1, 2, \\dots, n$, and choose any $r$ numbers from them.\n\nYou are required to output all combinations.\n\nFor example, when $n=5, r=3$, all combinations are:\n\n$123,124,125,134,135,145,234,235,245,345$.", "inputFormat": "A single line with two natural numbers $n, r$ ($1 < n < 21$, $0 \\le r \\le n$).", "outputFormat": "Output all combinations. Each combination occupies one line, and the elements in it are sorted in ascending order. Each element occupies a field width of three characters. All combinations are in lexicographical order.\n\nNote: When outputting, each number must have a field width of $3$. In C++, you can use the following code:\n\n```cpp\ncout << setw(3) << x;\n```\n\nThis outputs a number $x$ with a field width of $3$. Note that you need the header file `iomanip`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "组合的输出", "background": "", "description": "排列与组合是常用的数学方法，其中组合就是从 $n$ 个元素中抽出 $r$ 个元素（不分顺序且 $r \\le n$），我们可以简单地将 $n$ 个元素理解为自然数 $1,2,\\dots,n$，从中任取 $r$ 个数。\n\n现要求你输出所有组合。\n\n例如 $n=5,r=3$，所有组合为：\n\n$123,124,125,134,135,145,234,235,245,345$。\n", "inputFormat": "一行两个自然数 $n,r(1<n<21,0 \\le r \\le n)$。\n", "outputFormat": "所有的组合，每一个组合占一行且其中的元素按由小到大的顺序排列，每个元素占三个字符的位置，所有的组合也按字典顺序。\n\n**注意哦！输出时，每个数字需要 $3$ 个场宽。以 C++ 为例，你可以使用下列代码：**\n\n```cpp\ncout << setw(3) << x;\n```\n\n输出占 $3$ 个场宽的数 $x$。注意你需要头文件 `iomanip`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1158", "type": "P", "difficulty": 3, "samples": [["0 0 10 0\n2\n-3 3\n10 0", "18"], ["0 0 6 0\n5\n-4 -2\n-2 3\n4 0\n6 -2\n9 1", "30"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2010", "NOIP 普及组", "枚举", "排序"], "title": "[NOIP 2010 普及组] 导弹拦截", "background": "", "description": "经过 $11$ 年的韬光养晦，某国研发出了一种新的导弹拦截系统，凡是与它的距离不超过其工作半径的导弹都能够被它成功拦截。当工作半径为 $0$ 时，则能够拦截与它位置恰好相同的导弹。但该导弹拦截系统也存在这样的缺陷：每套系统每天只能设定一次工作半径。而当天的使用代价，就是所有系统工作半径的平方和。\n\n某天，雷达捕捉到敌国的导弹来袭。由于该系统尚处于试验阶段，所以只有两套系统投入工作。如果现在的要求是拦截所有的导弹，请计算这一天的最小使用代价。", "inputFormat": "第一行包含 $4$ 个整数 $x_1,y_1,x_2,y_2$，每两个整数之间用一个空格隔开，表示这两套导弹拦截系统的坐标分别为 $(x_1,y_1), (x_2,y_2)$。第二行包含 $1$ 个整数 $N$，表示有 $N$ 颗导弹。接下来 $N$ 行，每行两个整数 $x,y$，中间用一个空格隔开，表示一颗导弹的坐标 $(x,y)$。不同导弹的坐标可能相同。", "outputFormat": "一个整数，即当天的最小使用代价。\n", "hint": "两个点 $(x_1,y_1),(x_2,y_2)$ 之间距离的平方是 $(x_1-x_2)^2+(y_1-y_2)^2$。\n\n两套系统工作半径 $r_1,r_2$ 的平方和，是指 $r_1,r_2$ 分别取平方后再求和，即 $r_1^2+r_2^2$。\n\n### 样例 1 说明\n\n样例 $1$ 中要拦截所有导弹，在满足最小使用代价的前提下，两套系统工作半径的平方分别为 $18$ 和 $0$。\n\n### 样例 2 说明\n\n样例 $2$ 中的导弹拦截系统和导弹所在的位置如下图所示。要拦截所有导弹，在满足最小使用代价的前提下，两套系统工作半径的平方分别为 $20$ 和 $10$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cvgomt03.png)\n\n【数据范围】。\n\n- 对于 $10\\%$ 的数据，$N=1$。\n- 对于 $20\\%$ 的数据，$1\\le N\\le 2$。\n- 对于 $40\\%$ 的数据，$1\\le N\\le 100$。\n- 对于 $70\\%$ 的数据，$1\\le N\\le 1000$。\n- 对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，且所有坐标分量的绝对值都不超过 $1000$。\n\nNOIP2010 普及组 第三题", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2010 Junior] Missile Interception", "background": "", "description": "After $11$ years of preparation, a certain country has developed a new missile interception system. Any missile whose distance to the system does not exceed its working radius can be successfully intercepted. When the working radius is $0$, it can intercept missiles that are exactly at the same position as the system. However, the system has a limitation: each set of the system can have its working radius set only once per day. The usage cost for that day is the sum of the squares of the working radii of all systems.\n\nOne day, radar detected incoming enemy missiles. Since the system is still in the trial phase, only two systems are deployed. If the requirement is to intercept all missiles, compute the minimum usage cost for that day.", "inputFormat": "The first line contains $4$ integers $x_1, y_1, x_2, y_2$, separated by a single space, indicating that the coordinates of the two missile interception systems are $(x_1, y_1)$ and $(x_2, y_2)$. The second line contains $1$ integer $N$, the number of missiles. The next $N$ lines each contain two integers $x, y$, separated by a single space, indicating the coordinates $(x, y)$ of a missile. Different missiles may share the same coordinates.", "outputFormat": "A single integer, the minimum usage cost for that day.", "hint": "- The square of the distance between two points $(x_1, y_1)$ and $(x_2, y_2)$ is $(x_1-x_2)^2+(y_1-y_2)^2$.\n- The sum of the squares of the two working radii $r_1, r_2$ means squaring them separately and then summing, i.e., $r_1^2+r_2^2$.\n\nExplanation for Sample $1$:\nTo intercept all missiles with minimum usage cost, the squares of the two systems’ working radii are $18$ and $0$.\n\nExplanation for Sample $2$:\nThe positions of the interception systems and the missiles are shown below. To intercept all missiles with minimum usage cost, the squares of the two systems’ working radii are $20$ and $10$.\n![](https://cdn.luogu.com.cn/upload/image_hosting/cvgomt03.png)\n\nConstraints:\n- For $10\\%$ of the testdata, $N=1$.\n- For $20\\%$ of the testdata, $1\\le N\\le 2$.\n- For $40\\%$ of the testdata, $1\\le N\\le 100$.\n- For $70\\%$ of the testdata, $1\\le N\\le 1000$.\n- For $100\\%$ of the testdata, $1\\le N\\le 10^5$, and the absolute values of all coordinate components do not exceed $1000$.\n\nNOIP 2010 Junior, Problem 3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2010 普及组] 导弹拦截", "background": "", "description": "经过 $11$ 年的韬光养晦，某国研发出了一种新的导弹拦截系统，凡是与它的距离不超过其工作半径的导弹都能够被它成功拦截。当工作半径为 $0$ 时，则能够拦截与它位置恰好相同的导弹。但该导弹拦截系统也存在这样的缺陷：每套系统每天只能设定一次工作半径。而当天的使用代价，就是所有系统工作半径的平方和。\n\n某天，雷达捕捉到敌国的导弹来袭。由于该系统尚处于试验阶段，所以只有两套系统投入工作。如果现在的要求是拦截所有的导弹，请计算这一天的最小使用代价。", "inputFormat": "第一行包含 $4$ 个整数 $x_1,y_1,x_2,y_2$，每两个整数之间用一个空格隔开，表示这两套导弹拦截系统的坐标分别为 $(x_1,y_1), (x_2,y_2)$。第二行包含 $1$ 个整数 $N$，表示有 $N$ 颗导弹。接下来 $N$ 行，每行两个整数 $x,y$，中间用一个空格隔开，表示一颗导弹的坐标 $(x,y)$。不同导弹的坐标可能相同。", "outputFormat": "一个整数，即当天的最小使用代价。\n", "hint": "两个点 $(x_1,y_1),(x_2,y_2)$ 之间距离的平方是 $(x_1-x_2)^2+(y_1-y_2)^2$。\n\n两套系统工作半径 $r_1,r_2$ 的平方和，是指 $r_1,r_2$ 分别取平方后再求和，即 $r_1^2+r_2^2$。\n\n### 样例 1 说明\n\n样例 $1$ 中要拦截所有导弹，在满足最小使用代价的前提下，两套系统工作半径的平方分别为 $18$ 和 $0$。\n\n### 样例 2 说明\n\n样例 $2$ 中的导弹拦截系统和导弹所在的位置如下图所示。要拦截所有导弹，在满足最小使用代价的前提下，两套系统工作半径的平方分别为 $20$ 和 $10$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cvgomt03.png)\n\n【数据范围】。\n\n- 对于 $10\\%$ 的数据，$N=1$。\n- 对于 $20\\%$ 的数据，$1\\le N\\le 2$。\n- 对于 $40\\%$ 的数据，$1\\le N\\le 100$。\n- 对于 $70\\%$ 的数据，$1\\le N\\le 1000$。\n- 对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，且所有坐标分量的绝对值都不超过 $1000$。\n\nNOIP2010 普及组 第三题", "locale": "zh-CN"}}}
{"pid": "P1159", "type": "P", "difficulty": 3, "samples": [["5\nHIGHHOPES\nUP\nLOWFEELINGS\nUP\nUPANDDOWN\nDOWN\nIAMSTILLSTANDING\nDOWN\nFOOLINGAROUND\nDOWN\n", "UPANDDOWN\nIAMSTILLSTANDING\nFOOLINGAROUND\nHIGHHOPES\nLOWFEELINGS\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "Special Judge"], "title": "排行榜", "background": "", "description": "小迈克尔住在一个小镇上，他喜欢看每周日下午发布的音乐电视评比。它每周都根据选票介绍相同的歌曲，列出这些歌曲的流行排行榜。\n\n有一个星期日迈克尔和他的朋友在一起玩得太久了以致于未能看到新的流行榜。他非常失望，但是不久他就发现下周至少可以部分地建立出流行榜。除了每首歌曲的位置，排行榜还根据这些歌曲上周的排行列出了它们排行变动的信息，更精确地说，从这周起，不管那首歌是继续排在原位，还是排名上升或排名下降，都会给出一点说明。\n\n编写程序，根据给定的流行榜帮助迈克尔推断出上周可能的排行榜。\n", "inputFormat": "第一行是一个整数 $N(1≤N≤100)$，表示排行榜上歌曲的总数。\n\n接下来的 $N$ 块列出了排行信息。每块有两行组成，第i块第一行是第 $i$ 首歌曲的名称，歌名包括最多不超过 $100$ 个英文大写字母，第二行包含下列三个单词中的一个：`UP`（歌曲在排行榜上的位置上升），`DOWN`（歌曲在排行榜上的位置下滑）或 `SAME`（排行不变），表示与上周排行榜相比，排行榜所发生的变动。\n", "outputFormat": "$N$ 行输出一个上周可能的排行榜。\n\n每一行包含一首歌名，即第 $i$ 行包含排行榜上第 $i$ 首歌的歌名。\n\n注意：解不必是唯一的，但对于每一个测试数据都至少有一个解。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Ranking List", "background": "", "description": "Little Michael lives in a small town, and he likes to watch the music TV ranking show released every Sunday afternoon. Each week it presents the same songs and lists their popularity chart based on votes.\n\nOne Sunday, Michael played with his friends for too long and missed the new chart. He was very disappointed, but soon he realized that next week he could at least partially reconstruct the chart. In addition to each song’s position, the chart also lists how its rank changed compared to last week; more precisely, starting this week, for each song there is a note indicating whether it stayed in place, moved up, or moved down.\n\nWrite a program that, given the current chart, helps Michael infer a possible chart from last week.", "inputFormat": "The first line is an integer $N(1≤N≤100)$, the total number of songs on the chart.\n\nThe next $N$ blocks list the ranking information. Each block consists of two lines. In the i-th block, the first line is the name of the i-th song; the name contains at most 100 uppercase English letters. The second line contains one of the three words: `UP` (the song’s position goes up), `DOWN` (the song’s position goes down), or `SAME` (no change), indicating the change compared to last week’s chart.", "outputFormat": "Output $N$ lines: a possible chart from last week.\n\nEach line contains one song name, that is, the $i$-th line contains the name of the song that was $i$-th on last week’s chart.\n\nNote: The solution does not have to be unique, but for every testdata there is at least one solution.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "排行榜", "background": "", "description": "小迈克尔住在一个小镇上，他喜欢看每周日下午发布的音乐电视评比。它每周都根据选票介绍相同的歌曲，列出这些歌曲的流行排行榜。\n\n有一个星期日迈克尔和他的朋友在一起玩得太久了以致于未能看到新的流行榜。他非常失望，但是不久他就发现下周至少可以部分地建立出流行榜。除了每首歌曲的位置，排行榜还根据这些歌曲上周的排行列出了它们排行变动的信息，更精确地说，从这周起，不管那首歌是继续排在原位，还是排名上升或排名下降，都会给出一点说明。\n\n编写程序，根据给定的流行榜帮助迈克尔推断出上周可能的排行榜。\n", "inputFormat": "第一行是一个整数 $N(1≤N≤100)$，表示排行榜上歌曲的总数。\n\n接下来的 $N$ 块列出了排行信息。每块有两行组成，第i块第一行是第 $i$ 首歌曲的名称，歌名包括最多不超过 $100$ 个英文大写字母，第二行包含下列三个单词中的一个：`UP`（歌曲在排行榜上的位置上升），`DOWN`（歌曲在排行榜上的位置下滑）或 `SAME`（排行不变），表示与上周排行榜相比，排行榜所发生的变动。\n", "outputFormat": "$N$ 行输出一个上周可能的排行榜。\n\n每一行包含一首歌名，即第 $i$ 行包含排行榜上第 $i$ 首歌的歌名。\n\n注意：解不必是唯一的，但对于每一个测试数据都至少有一个解。\n", "hint": "", "locale": "zh-CN"}}}
