{"pid": "P1301", "type": "P", "difficulty": 4, "samples": [["5 4\r\n3 3 6 7 11\r\n3 2 1 1 3\r\n3 2 2 1 1\r\n2 1 2 2 1\r\n", "4\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "魔鬼之城", "background": "", "description": "在一个被分割为 $N\\times M$ 个正方形房间的矩形魔鬼之城中，一个探险者必须遵循下列规则才能跳跃行动。他必须从 $(1,1)$ 进入，从 $(N,M)$ 走出；在每一房间的墙壁上都写了一个魔法数字，是 $1\\sim 13$ 之内的自然数；探险者可以想像出 $8$ 个方向中的任何一个（水平或垂直或对角线方向），随后他就可以作一次空间跳跃穿过这一方向上的连续的 $X$ 个房间，其中 $X$ 是他原来所在房间的魔法数字。但如果在这一方向上的房间数小于 $X$，则他不作任何跳跃，而必须想像另一个方向。同时，探险者不能作连续两次相同方向的跳跃。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1r5tkwsy.png)\n \n例如在上图的 $5\\ \\times 4$ 的魔鬼之城中，如果探险者现在所在的位置是 $(3,3)$，那么通过依次空间跳跃他可以到达下列房间中的一个：$(1,1)$，$(3,1)$，$(1,3)$，$(5,1)$，或 $(5,3)$。另外，如果他要用两次跳跃从 $(5,4)$ 到达 $(3,2)$，则他不能首先跳到 $(4,3)$（因为这样他第二次跳跃的方向将和第一次相同，而这是不允许的）。所以他必须先跳跃到 $(2,1)$。\n请你写一个程序，对给定的地图，算出探险者至少需要跳跃多少步才能离开魔鬼之城。\n\n", "inputFormat": "第一行两个整数 $N,M\\ (1\\le N,M\\le 100)$。\n\n下来有 $M$ 行，每行为 $N$ 个自然数，表示对应房间中的魔法数字。", "outputFormat": "出最小步数，如果探险者无法离开魔鬼之城，请输出 `NEVER`。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Devil City", "background": "", "description": "In a rectangular “Devil City” divided into $N \\times M$ square rooms, an explorer must follow the rules below to move by jumping. He must enter at $(1, 1)$ and exit at $(N, M)$. On the wall of every room there is a magic number, which is a natural number from $1$ to $13$ inclusive. The explorer can imagine any of the $8$ directions (horizontal, vertical, or diagonal), and then make a spatial jump passing through $X$ consecutive rooms in that direction, where $X$ is the magic number of the room he is currently in. However, if the number of rooms available in that direction is less than $X$, he does not jump and must imagine another direction. In addition, the explorer cannot make two consecutive jumps in the same direction.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1r5tkwsy.png)\n\nFor example, in the $5 \\times 4$ Devil City shown above, if the explorer is currently at $(3, 3)$, then by making successive spatial jumps he can reach one of the following rooms: $(1, 1)$, $(3, 1)$, $(1, 3)$, $(5, 1)$, or $(5, 3)$. Moreover, if he wants to reach $(3, 2)$ from $(5, 4)$ in two jumps, he cannot first jump to $(4, 3)$ (because then the direction of his second jump would be the same as the first, which is not allowed). Therefore, he must first jump to $(2, 1)$.  \nPlease write a program that, for a given map, computes the minimum number of jumps the explorer needs to escape the Devil City.", "inputFormat": "The first line contains two integers $N, M$ $(1 \\le N, M \\le 100)$.  \nThen follow $N$ lines, each containing $M$ natural numbers, representing the magic numbers in the corresponding rooms.", "outputFormat": "Output the minimum number of jumps. If the explorer cannot escape the Devil City, output `NEVER`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "魔鬼之城", "background": "", "description": "在一个被分割为 $N\\times M$ 个正方形房间的矩形魔鬼之城中，一个探险者必须遵循下列规则才能跳跃行动。他必须从 $(1,1)$ 进入，从 $(N,M)$ 走出；在每一房间的墙壁上都写了一个魔法数字，是 $1\\sim 13$ 之内的自然数；探险者可以想像出 $8$ 个方向中的任何一个（水平或垂直或对角线方向），随后他就可以作一次空间跳跃穿过这一方向上的连续的 $X$ 个房间，其中 $X$ 是他原来所在房间的魔法数字。但如果在这一方向上的房间数小于 $X$，则他不作任何跳跃，而必须想像另一个方向。同时，探险者不能作连续两次相同方向的跳跃。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1r5tkwsy.png)\n \n例如在上图的 $5\\ \\times 4$ 的魔鬼之城中，如果探险者现在所在的位置是 $(3,3)$，那么通过依次空间跳跃他可以到达下列房间中的一个：$(1,1)$，$(3,1)$，$(1,3)$，$(5,1)$，或 $(5,3)$。另外，如果他要用两次跳跃从 $(5,4)$ 到达 $(3,2)$，则他不能首先跳到 $(4,3)$（因为这样他第二次跳跃的方向将和第一次相同，而这是不允许的）。所以他必须先跳跃到 $(2,1)$。\n请你写一个程序，对给定的地图，算出探险者至少需要跳跃多少步才能离开魔鬼之城。\n\n", "inputFormat": "第一行两个整数 $N,M\\ (1\\le N,M\\le 100)$。\n\n下来有 $M$ 行，每行为 $N$ 个自然数，表示对应房间中的魔法数字。", "outputFormat": "出最小步数，如果探险者无法离开魔鬼之城，请输出 `NEVER`。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1302", "type": "P", "difficulty": 4, "samples": [["3\r\n2 6 4\r\n1 4 1\r\n2 4 1\r\n", "3\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "可见矩形", "background": "", "description": "给定平面上 $n$ 个互不相交（指公共面积为零）的正方形，它们的顶点坐标均为整数。设坐标原点为 $O(0,0)$。对于任一正方形 $R$，如果可以找到 $R$ 的边上 $2$ 个不同的点 $A$ 和 $B$，使 $\\triangle OAB$ 的内部与其他正方形无公共点，则称正方形 $R$ 是从 $O$ 点可见的正方形。\n\n对于给定的 $n$ 个互不相交的正方形，计算从坐标原点 $O$ 可见的正方形个数。", "inputFormat": "输入文件的第一行是正方形个数 $n$（$1\\le n\\le 1000$）。\n\n接下来 $n$ 行中，每行有三个表示正方形的整数 $X,Y,L$。其中，$X$ 和 $Y$ 表示正方形的左下角顶点坐标，$L$ 表示边长，$1\\le X,Y,L\\le 10000$。", "outputFormat": "输出文件仅有一行包含一个整数，表示从坐标原点 $O$ 可见的正方形个数。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Visible Squares", "background": "", "description": "Given $n$ pairwise non-overlapping (their common area is zero) squares on the plane, whose vertex coordinates are all integers. Let the origin be $O(0,0)$. For any square $R$, if there exist two distinct points $A$ and $B$ on the boundary of $R$ such that the interior of $\\triangle OAB$ has no common point with any other square, then we say that $R$ is visible from $O$.\n\nGiven these $n$ pairwise non-overlapping squares, compute the number of squares visible from the origin $O$.", "inputFormat": "The first line contains the number of squares $n$ ($1 \\le n \\le 1000$).\n\nEach of the next $n$ lines contains three integers $X,Y,L$ describing a square. Here $X$ and $Y$ are the coordinates of the lower-left vertex, and $L$ is the side length, where $1 \\le X, Y, L \\le 10000$.", "outputFormat": "Output a single line containing one integer, the number of squares visible from the origin $O$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "可见矩形", "background": "", "description": "给定平面上 $n$ 个互不相交（指公共面积为零）的正方形，它们的顶点坐标均为整数。设坐标原点为 $O(0,0)$。对于任一正方形 $R$，如果可以找到 $R$ 的边上 $2$ 个不同的点 $A$ 和 $B$，使 $\\triangle OAB$ 的内部与其他正方形无公共点，则称正方形 $R$ 是从 $O$ 点可见的正方形。\n\n对于给定的 $n$ 个互不相交的正方形，计算从坐标原点 $O$ 可见的正方形个数。", "inputFormat": "输入文件的第一行是正方形个数 $n$（$1\\le n\\le 1000$）。\n\n接下来 $n$ 行中，每行有三个表示正方形的整数 $X,Y,L$。其中，$X$ 和 $Y$ 表示正方形的左下角顶点坐标，$L$ 表示边长，$1\\le X,Y,L\\le 10000$。", "outputFormat": "输出文件仅有一行包含一个整数，表示从坐标原点 $O$ 可见的正方形个数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1303", "type": "P", "difficulty": 2, "samples": [["1 \n2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "高精度"], "title": "A*B Problem", "background": "高精度乘法模板题。", "description": "给出两个非负整数，求它们的乘积。", "inputFormat": "输入共两行，每行一个非负整数。\n", "outputFormat": "输出一个非负整数表示乘积。", "hint": "每个非负整数不超过 $10^{2000}$。", "locale": "zh-CN", "translations": {"en": {"title": "A*B Problem", "background": "A template problem for big-integer multiplication.", "description": "Given two non-negative integers, compute their product.", "inputFormat": "The input consists of two lines, each containing a non-negative integer.", "outputFormat": "Output a single non-negative integer representing the product.", "hint": "Each non-negative integer does not exceed $10^{2000}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "A*B Problem", "background": "高精度乘法模板题。", "description": "给出两个非负整数，求它们的乘积。", "inputFormat": "输入共两行，每行一个非负整数。\n", "outputFormat": "输出一个非负整数表示乘积。", "hint": "每个非负整数不超过 $10^{2000}$。", "locale": "zh-CN"}}}
{"pid": "P1304", "type": "P", "difficulty": 1, "samples": [["10", "4=2+2\n6=3+3\n8=3+5\n10=3+7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "数学", "素数判断,质数,筛法"], "title": "哥德巴赫猜想", "background": "", "description": "输入一个偶数 $N$，验证 $4\\sim N$ 所有偶数是否符合哥德巴赫猜想：任一大于 $2$ 的偶数都可写成两个质数之和。如果一个数不止一种分法，则输出第一个加数相比其他分法最小的方案。例如 $10$，$10=3+7=5+5$，则 $10=5+5$ 是错误答案。", "inputFormat": "第一行输入一个正偶数 $N$\n", "outputFormat": "输出 $\\dfrac{N-2}{2}$ 行。对于第 $i$ 行：\n\n首先先输出正偶数 $2i+2$，然后输出等号，再输出加和为 $2i+2$ 且第一个加数最小的两个质数，以加号隔开。", "hint": "数据保证，$ 4 \\leq N\\leq10000$。", "locale": "zh-CN", "translations": {"en": {"title": "Goldbach's Conjecture", "background": "", "description": "Given an even number $N$, verify whether all even numbers from $4$ to $N$ satisfy Goldbach's conjecture: every even number greater than $2$ can be written as the sum of two primes. If a number has more than one representation, output the one whose first addend is minimal among all representations. For example, for $10$, $10=3+7=5+5$, then $10=5+5$ is a wrong answer.", "inputFormat": "The first line contains a positive even integer $N$.", "outputFormat": "Output $\\dfrac{N-2}{2}$ lines. For the $i$-th line:\nFirst output the positive even number $2i+2$, then an equals sign, and then two primes that sum to $2i+2$ with the smallest possible first addend, separated by a plus sign.", "hint": "Constraints: $4 \\leq N \\leq 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "哥德巴赫猜想", "background": "", "description": "输入一个偶数 $N$，验证 $4\\sim N$ 所有偶数是否符合哥德巴赫猜想：任一大于 $2$ 的偶数都可写成两个质数之和。如果一个数不止一种分法，则输出第一个加数相比其他分法最小的方案。例如 $10$，$10=3+7=5+5$，则 $10=5+5$ 是错误答案。", "inputFormat": "第一行输入一个正偶数 $N$\n", "outputFormat": "输出 $\\dfrac{N-2}{2}$ 行。对于第 $i$ 行：\n\n首先先输出正偶数 $2i+2$，然后输出等号，再输出加和为 $2i+2$ 且第一个加数最小的两个质数，以加号隔开。", "hint": "数据保证，$ 4 \\leq N\\leq10000$。", "locale": "zh-CN"}}}
{"pid": "P1305", "type": "P", "difficulty": 2, "samples": [["6\nabc\nbdi\ncj*\nd**\ni**\nj**", "abdicj"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "搜索", "树形数据结构", "递归"], "title": "新二叉树", "background": null, "description": "输入一串二叉树，输出其前序遍历。", "inputFormat": "第一行为二叉树的节点数 $n$。($1 \\leq n \\leq 26$)\n\n后面 $n$ 行，第一个字母为节点，后两个字母分别为其左右儿子。特别地，数据保证第一行读入的节点必为根节点。\n\n空节点用 `*` 表示", "outputFormat": "二叉树的前序遍历。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "New Binary Tree", "background": "", "description": "Given a binary tree, output its preorder traversal.", "inputFormat": "The first line contains the number of nodes $n$ ($1 \\leq n \\leq 26$).\n\nEach of the next $n$ lines contains three characters: the first character is the node, and the next two characters are its left and right children, respectively. In particular, the testdata guarantees that the node appearing on the first of these $n$ lines is the root node.\n\nA null child is denoted by `*`.", "outputFormat": "The preorder traversal of the binary tree.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "新二叉树", "background": null, "description": "输入一串二叉树，输出其前序遍历。", "inputFormat": "第一行为二叉树的节点数 $n$。($1 \\leq n \\leq 26$)\n\n后面 $n$ 行，第一个字母为节点，后两个字母分别为其左右儿子。特别地，数据保证第一行读入的节点必为根节点。\n\n空节点用 `*` 表示", "outputFormat": "二叉树的前序遍历。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1306", "type": "P", "difficulty": 5, "samples": [["4 7", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "倍增", "线性数据结构", "递归", "Fibonacci 数列"], "title": "斐波那契公约数", "background": "", "description": "对于 Fibonacci 数列：\n\n$$ f_i = \\begin{cases}\n  [i = 1]               & i \\leq 1 \\\\\n  f_{i - 1} + f_{i - 2} & i \\gt 1\n\\end{cases}$$\n\n请求出 $f_n$ 与 $f_m$ 的最大公约数，即 $\\gcd(f_n, f_m)$。", "inputFormat": "一行两个正整数 $n$ 和 $m$ 。", "outputFormat": "输出一行一个整数，代表 $f_n$ 和 $f_m$ 的最大公约数。答案请对 $10^8$ 取模。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n, m \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Fibonacci GCD", "background": "", "description": "For the Fibonacci sequence:\n\n$$ f_i = \\begin{cases}\n  [i = 1]               & i \\leq 1 \\\\\n  f_{i - 1} + f_{i - 2} & i \\gt 1\n\\end{cases}$$\n\nCompute the greatest common divisor of $f_n$ and $f_m$, i.e., $\\gcd(f_n, f_m)$.", "inputFormat": "One line contains two positive integers $n$ and $m$.", "outputFormat": "Output one integer, the greatest common divisor of $f_n$ and $f_m$. Print the answer modulo $10^8$.", "hint": "- For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n, m \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "斐波那契公约数", "background": "", "description": "对于 Fibonacci 数列：\n\n$$ f_i = \\begin{cases}\n  [i = 1]               & i \\leq 1 \\\\\n  f_{i - 1} + f_{i - 2} & i \\gt 1\n\\end{cases}$$\n\n请求出 $f_n$ 与 $f_m$ 的最大公约数，即 $\\gcd(f_n, f_m)$。", "inputFormat": "一行两个正整数 $n$ 和 $m$ 。", "outputFormat": "输出一行一个整数，代表 $f_n$ 和 $f_m$ 的最大公约数。答案请对 $10^8$ 取模。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n, m \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1307", "type": "P", "difficulty": 1, "samples": [["123", "321"], ["-380", "-83"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "字符串", "2011", "NOIP 普及组"], "title": "[NOIP 2011 普及组] 数字反转", "background": "", "description": "给定一个整数 $N$，请将该数各个位上数字反转得到一个新数。新数也应满足整数的常见形式，即除非给定的原数为零，否则反转后得到的新数的最高位数字不应为零（参见样例 2）。\n", "inputFormat": "一个整数 $N$。\n", "outputFormat": "一个整数，表示反转后的新数。\n", "hint": "**【数据范围】**\n\n$-1,000,000,000\\leq N\\leq 1,000,000,000 $。\n\nnoip2011 普及组第一题\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Junior] Digit Reversal", "background": "", "description": "Given an integer $N$, reverse its digits to obtain a new number. The new number should also follow the usual form of integers: unless the original number is zero, the leading digit of the reversed number must not be zero (see Sample 2).", "inputFormat": "A single integer N.", "outputFormat": "A single integer, which is the reversed number.", "hint": "【Constraints】\n\n$-1,000,000,000\\leq N\\leq 1,000,000,000$.\n\nNOIP 2011 Junior Problem 1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 普及组] 数字反转", "background": "", "description": "给定一个整数 $N$，请将该数各个位上数字反转得到一个新数。新数也应满足整数的常见形式，即除非给定的原数为零，否则反转后得到的新数的最高位数字不应为零（参见样例 2）。\n", "inputFormat": "一个整数 $N$。\n", "outputFormat": "一个整数，表示反转后的新数。\n", "hint": "**【数据范围】**\n\n$-1,000,000,000\\leq N\\leq 1,000,000,000 $。\n\nnoip2011 普及组第一题\n", "locale": "zh-CN"}}}
{"pid": "P1308", "type": "P", "difficulty": 2, "samples": [["To\nto be or not to be is a question\n", "2 0\n\n"], ["to\nDid the Ottoman Empire lose its power at that time", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "2011", "NOIP 普及组"], "title": "[NOIP 2011 普及组] 统计单词数", "background": "", "description": "一般的文本编辑器都有查找单词的功能，该功能可以快速定位特定单词在文章中的位置，有的还能统计出特定单词在文章中出现的次数。\n\n现在，请你编程实现这一功能，具体要求是：给定一个单词，请你输出它在给定的文章中出现的次数和第一次出现的位置。注意：匹配单词时，不区分大小写，但要求完全匹配，即给定单词必须与文章中的某一独立单词在不区分大小写的情况下完全相同（参见样例 1），如果给定单词仅是文章中某一单词的一部分则不算匹配（参见样例 2）。\n", "inputFormat": "共 $2$ 行。\n\n第 $1$ 行为一个字符串，其中只含字母，表示给定单词；\n\n第 $2$ 行为一个字符串，其中只可能包含字母和空格，表示给定的文章。\n", "outputFormat": "一行，如果在文章中找到给定单词则输出两个整数，两个整数之间用一个空格隔开，分别是单词在文章中出现的次数和第一次出现的位置（即在文章中第一次出现时，单词首字母在文章中的位置，位置从 $0$ 开始）；如果单词在文章中没有出现，则直接输出一个整数 $-1$。\n\n注意：空格占一个字母位\n", "hint": "数据范围\n\n$1\\leq $ 第一行单词长度 $\\leq10$。\n\n$1\\leq $ 文章长度 $\\leq10^6$。\n\nnoip2011 普及组第 2 题\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Junior] Count Word Occurrences", "background": "", "description": "Most text editors have a “find word” feature that can quickly locate the position of a specific word in an article; some can also count how many times the word appears.\n\nNow, please program to implement this feature. Specifically: given a word, output the number of times it appears in the given article and the position of its first occurrence. Note: Matching is case-insensitive, but it must be an exact match, meaning the given word must be exactly the same as an independent word in the article when case is ignored (see Sample 1). If the given word is only a part of a word in the article, it does not count as a match (see Sample 2).", "inputFormat": "A total of $2$ lines.\n\nThe first line is a string containing only letters, representing the given word.\n\nThe second line is a string that may contain only letters and spaces, representing the given article.", "outputFormat": "Output one line. If the given word is found in the article, output two integers separated by a single space: the number of occurrences of the word in the article and the position of its first occurrence (that is, when it first appears, the position of the word’s first letter in the article; the position starts from $0$). If the word does not appear in the article, output a single integer $-1$.\n\nNote: A space counts as one character position.", "hint": "Constraints\n\n$1\\leq $ length of the word on the first line $\\leq10$.\n\n$1\\leq $ article length $\\leq10^6$.\n\nNOIP 2011 Junior, Problem 2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 普及组] 统计单词数", "background": "", "description": "一般的文本编辑器都有查找单词的功能，该功能可以快速定位特定单词在文章中的位置，有的还能统计出特定单词在文章中出现的次数。\n\n现在，请你编程实现这一功能，具体要求是：给定一个单词，请你输出它在给定的文章中出现的次数和第一次出现的位置。注意：匹配单词时，不区分大小写，但要求完全匹配，即给定单词必须与文章中的某一独立单词在不区分大小写的情况下完全相同（参见样例 1），如果给定单词仅是文章中某一单词的一部分则不算匹配（参见样例 2）。\n", "inputFormat": "共 $2$ 行。\n\n第 $1$ 行为一个字符串，其中只含字母，表示给定单词；\n\n第 $2$ 行为一个字符串，其中只可能包含字母和空格，表示给定的文章。\n", "outputFormat": "一行，如果在文章中找到给定单词则输出两个整数，两个整数之间用一个空格隔开，分别是单词在文章中出现的次数和第一次出现的位置（即在文章中第一次出现时，单词首字母在文章中的位置，位置从 $0$ 开始）；如果单词在文章中没有出现，则直接输出一个整数 $-1$。\n\n注意：空格占一个字母位\n", "hint": "数据范围\n\n$1\\leq $ 第一行单词长度 $\\leq10$。\n\n$1\\leq $ 文章长度 $\\leq10^6$。\n\nnoip2011 普及组第 2 题\n", "locale": "zh-CN"}}}
{"pid": "P1309", "type": "P", "difficulty": 3, "samples": [["2 4 2 \n7 6 6 7 \n10 5 20 15 \n", "1\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2011", "递归", "NOIP 普及组", "排序"], "title": "[NOIP 2011 普及组] 瑞士轮", "background": "在双人对决的竞技性比赛，如乒乓球、羽毛球、国际象棋中，最常见的赛制是淘汰赛和循环赛。前者的特点是比赛场数少，每场都紧张刺激，但偶然性较高。后者的特点是较为公平，偶然性较低，但比赛过程往往十分冗长。\n\n本题中介绍的瑞士轮赛制，因最早使用于 1895 年在瑞士举办的国际象棋比赛而得名。它可以看作是淘汰赛与循环赛的折中，既保证了比赛的稳定性，又能使赛程不至于过长。", "description": "$2 \\times N$ 名编号为 $1\\sim 2\\times N$ 的选手共进行 $R$ 轮比赛。每轮比赛开始前，以及所有比赛结束后，都会按照总分从高到低对选手进行一次排名。选手的总分为第一轮开始前的初始分数加上已参加过的所有比赛的得分和。总分相同的，约定编号较小的选手排名靠前。\n\n每轮比赛的对阵安排与该轮比赛开始前的排名有关：第 $1$ 名和第 $2$ 名、第 $3$ 名和第 $4$ 名、……、第 $2\\times K - 1 $ 名和第 $2\\times K$ 名、……  、第 $2\\times N - 1$ 名和第 $2\\times N$ 名，各进行一场比赛。每场比赛胜者得 $1$ 分，负者得 $0$ 分。也就是说除了首轮以外，其它轮比赛的安排均不能事先确定，而是要取决于选手在之前比赛中的表现。\n\n现给定每个选手的初始分数及其实力值，试计算在 $R$ 轮比赛过后，排名第 $Q$ 的选手编号是多少。我们假设选手的实力值两两不同，且每场比赛中实力值较高的总能获胜。", "inputFormat": "第一行是三个正整数 $N,R,Q$，每两个数之间用一个空格隔开，表示有 $2\\times N $ 名选手、$R$ 轮比赛，以及我们关心的名次 $Q$。\n\n第二行是 $2\\times N$ 个非负整数 $s_1, s_2,\\dots, s_{2\\times N}$，每两个数之间用一个空格隔开，其中 $s_i $ 表示编号为 $i$ 的选手的初始分数。\n\n第三行是 $2\\times N$ 个正整数 $w_1,w_2,\\dots,w_{2\\times N}$，每两个数之间用一个空格隔开，其中 $w_i$ 表示编号为 $i$ 的选手的实力值。", "outputFormat": "一个整数，即 $R$ 轮比赛结束后，排名第 $Q$ 的选手的编号。", "hint": "【样例解释】\n\n ![](https://cdn.luogu.com.cn/upload/pic/98.png) \n\n【数据范围】\n\n对于 $30\\%$ 的数据，$1\\le N\\le 100$；\n\n对于 $50\\%$ 的数据，$1\\le N\\le 10000$；\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^5,1\\le R\\le 50,1\\le Q\\le 2\\times N,0\\le s_1, s_2,\\dots,s_{2\\times N}\\le 10^8,1\\le w_1, w_2 , \\dots, w_{2\\times N}\\le 10^8$。\n\nnoip2011 普及组第 3 题。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Junior] Swiss-system Tournament", "background": "In head-to-head competitive sports such as table tennis, badminton, and chess, the most common formats are knockout and round-robin. The former requires fewer matches and each match is tense and exciting, but it is more random. The latter is fairer and less random, but the process is often very long.\n\nThe Swiss-system format introduced in this problem is named after its earliest use in an international chess tournament held in Switzerland in 1895. It can be seen as a compromise between knockout and round-robin: it ensures stability while keeping the schedule from becoming too long.", "description": "$2 \\times N$ players, numbered $1 \\sim 2 \\times N$, play $R$ rounds. Before each round starts, and after all matches are finished, players are ranked in descending order by total points. A player's total points equal the initial points before round $1$ plus the sum of points earned in all matches already played. If the total points are the same, the player with the smaller id ranks ahead.\n\nThe pairings of each round depend on the ranking at the start of that round: rank $1$ vs rank $2$, rank $3$ vs rank $4$, ..., rank $2 \\times K - 1$ vs rank $2 \\times K$, ..., rank $2 \\times N - 1$ vs rank $2 \\times N$. The winner of each match gets $1$ point and the loser gets $0$ points. That is, except for the first round, the arrangements of the other rounds cannot be determined in advance; they depend on the players' performances in previous matches.\n\nGiven each player's initial points and strength value, compute the id of the player ranked $Q$-th after $R$ rounds. We assume all strength values are pairwise distinct, and in every match the player with the higher strength always wins.", "inputFormat": "The first line contains three positive integers $N, R, Q$, separated by single spaces, indicating there are $2 \\times N$ players, $R$ rounds, and we are interested in the $Q$-th place.\n\nThe second line contains $2 \\times N$ non-negative integers $s_1, s_2, \\dots, s_{2 \\times N}$, separated by single spaces, where $s_i$ denotes the initial points of the player with id $i$.\n\nThe third line contains $2 \\times N$ positive integers $w_1, w_2, \\dots, w_{2 \\times N}$, separated by single spaces, where $w_i$ denotes the strength value of the player with id $i$.", "outputFormat": "Output a single integer: the id of the player ranked $Q$-th after $R$ rounds.", "hint": "Sample Explanation:\n\n![](https://cdn.luogu.com.cn/upload/pic/98.png)\n\nConstraints:\n\n- For $30\\%$ of the testdata, $1 \\le N \\le 100$.\n- For $50\\%$ of the testdata, $1 \\le N \\le 10000$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 10^5$, $1 \\le R \\le 50$, $1 \\le Q \\le 2 \\times N$, $0 \\le s_1, s_2, \\dots, s_{2 \\times N} \\le 10^8$, $1 \\le w_1, w_2, \\dots, w_{2 \\times N} \\le 10^8$.\n\nNOIP 2011 Junior Problem 3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 普及组] 瑞士轮", "background": "在双人对决的竞技性比赛，如乒乓球、羽毛球、国际象棋中，最常见的赛制是淘汰赛和循环赛。前者的特点是比赛场数少，每场都紧张刺激，但偶然性较高。后者的特点是较为公平，偶然性较低，但比赛过程往往十分冗长。\n\n本题中介绍的瑞士轮赛制，因最早使用于 1895 年在瑞士举办的国际象棋比赛而得名。它可以看作是淘汰赛与循环赛的折中，既保证了比赛的稳定性，又能使赛程不至于过长。", "description": "$2 \\times N$ 名编号为 $1\\sim 2\\times N$ 的选手共进行 $R$ 轮比赛。每轮比赛开始前，以及所有比赛结束后，都会按照总分从高到低对选手进行一次排名。选手的总分为第一轮开始前的初始分数加上已参加过的所有比赛的得分和。总分相同的，约定编号较小的选手排名靠前。\n\n每轮比赛的对阵安排与该轮比赛开始前的排名有关：第 $1$ 名和第 $2$ 名、第 $3$ 名和第 $4$ 名、……、第 $2\\times K - 1 $ 名和第 $2\\times K$ 名、……  、第 $2\\times N - 1$ 名和第 $2\\times N$ 名，各进行一场比赛。每场比赛胜者得 $1$ 分，负者得 $0$ 分。也就是说除了首轮以外，其它轮比赛的安排均不能事先确定，而是要取决于选手在之前比赛中的表现。\n\n现给定每个选手的初始分数及其实力值，试计算在 $R$ 轮比赛过后，排名第 $Q$ 的选手编号是多少。我们假设选手的实力值两两不同，且每场比赛中实力值较高的总能获胜。", "inputFormat": "第一行是三个正整数 $N,R,Q$，每两个数之间用一个空格隔开，表示有 $2\\times N $ 名选手、$R$ 轮比赛，以及我们关心的名次 $Q$。\n\n第二行是 $2\\times N$ 个非负整数 $s_1, s_2,\\dots, s_{2\\times N}$，每两个数之间用一个空格隔开，其中 $s_i $ 表示编号为 $i$ 的选手的初始分数。\n\n第三行是 $2\\times N$ 个正整数 $w_1,w_2,\\dots,w_{2\\times N}$，每两个数之间用一个空格隔开，其中 $w_i$ 表示编号为 $i$ 的选手的实力值。", "outputFormat": "一个整数，即 $R$ 轮比赛结束后，排名第 $Q$ 的选手的编号。", "hint": "【样例解释】\n\n ![](https://cdn.luogu.com.cn/upload/pic/98.png) \n\n【数据范围】\n\n对于 $30\\%$ 的数据，$1\\le N\\le 100$；\n\n对于 $50\\%$ 的数据，$1\\le N\\le 10000$；\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^5,1\\le R\\le 50,1\\le Q\\le 2\\times N,0\\le s_1, s_2,\\dots,s_{2\\times N}\\le 10^8,1\\le w_1, w_2 , \\dots, w_{2\\times N}\\le 10^8$。\n\nnoip2011 普及组第 3 题。", "locale": "zh-CN"}}}
{"pid": "P1310", "type": "P", "difficulty": 4, "samples": [["4\n+(*)\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "动态规划 DP", "2011", "NOIP 普及组"], "title": "[NOIP 2011 普及组] 表达式的值", "background": null, "description": "对于 $1$ 位二进制变量定义两种运算：\n\n$$\n\\begin{array}{|c|c|} \\hline\n\\qquad\\qquad\\quad\\textsf{运算符}\\qquad\\qquad\\quad & \\qquad\\qquad\\quad\\textsf{运算规则}\\qquad\\qquad\\quad \\\\ \\hline\n\\oplus &\n\\begin{aligned}\n0 \\oplus 0 &= 0 \\\\\n0 \\oplus 1 &= 1 \\\\\n1 \\oplus 0 &= 1 \\\\\n1 \\oplus 1 &= 1 \\\\\n\\end{aligned} \\\\ \\hline\n\\times &\n\\begin{aligned}\n0 \\times 0 &= 0 \\\\\n0 \\times 1 &= 0 \\\\\n1 \\times 0 &= 0 \\\\\n1 \\times 1 &= 1 \\\\\n\\end{aligned} \\\\ \\hline\n\\end{array}\n$$\n\n运算的优先级是：\n\n1. 先计算括号内的，再计算括号外的。\n\n  2. “$\\times$”运算优先于“$\\oplus$”运算，即计算表达式时，先计算“$\\times$”运算，再计算“$\\oplus$”运算。例如：计算表达式 $A\\oplus B \\times C$ 时，先计算 $B \\times C$，其结果再与 $A$ 做“$\\oplus$”运算。\n\n现给定一个未完成的表达式，例如 $\\_+(\\_ * \\_)$，请你在横线处填入数字 $0$ 或者 $1$，请问有多少种填法可以使得表达式的值为 $0$。", "inputFormat": "共 $2$ 行。\n\n第 $1$ 行为一个整数 $L$，表示给定的表达式中除去横线外的运算符和括号的个数。\n\n第 $2$ 行为一个字符串包含 $L$ 个字符，其中只包含 `(`,`)`,`+`,`*` 这 $4$ 种字符，其中 `(`,`)` 是左右括号,`+`,`*` 分别表示前面定义的运算符 $\\oplus$ 和 $\\times$。这行字符按顺序给出了给定表达式中除去变量外的运算符和括号。", "outputFormat": "共 $1$ 行。包含一个整数，即所有的方案数。注意：这个数可能会很大，请输出方案数对 $10007$ 取模后的结果。", "hint": "【输入输出样例说明】\n\n  给定的表达式包括横线字符之后为：$\\_+(\\_ * \\_)$。 \n\n  在横线位置填入 $(0,0,0)$ $(0,1,0)$ $(0,0,1)$ 时，表达式的值均为 $0$，所以共有 $3$ 种填法。 \n\n【数据范围】\n\n对于 $20\\%$ 的数据有 $ 0 \\le L \\le 10$。\n\n对于 $50\\%$ 的数据有 $0 \\le L \\le 1,000$。\n\n对于 $70\\%$ 的数据有 $ 0 \\le L \\le 10,000$ 。\n\n对于 $100\\%$的数据有 $ 0 \\le L \\le 100,000$。\n\n对于$50\\%$ 的数据输入表达式中不含括号。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Junior] The Value of the Expression", "background": "", "description": "Define two operations on $1$-bit binary variables:\n\n$$\n\\begin{array}{|c|c|} \\hline\n\\qquad\\qquad\\quad\\textsf{Operator}\\qquad\\qquad\\quad & \\qquad\\qquad\\quad\\textsf{Operation rule}\\qquad\\qquad\\quad \\\\ \\hline\n\\oplus &\n\\begin{aligned}\n0 \\oplus 0 &= 0 \\\\\n0 \\oplus 1 &= 1 \\\\\n1 \\oplus 0 &= 1 \\\\\n1 \\oplus 1 &= 1 \\\\\n\\end{aligned} \\\\ \\hline\n\\times &\n\\begin{aligned}\n0 \\times 0 &= 0 \\\\\n0 \\times 1 &= 0 \\\\\n1 \\times 0 &= 0 \\\\\n1 \\times 1 &= 1 \\\\\n\\end{aligned} \\\\ \\hline\n\\end{array}\n$$\n\nThe precedence of operations is:\n\n1. Evaluate inside parentheses first, then outside.\n\n2. The \"×\" operation has higher precedence than \"⊕\", i.e., when evaluating an expression, evaluate \"×\" before \"⊕\". For example, when evaluating the expression $A \\oplus B \\times C$, compute $B \\times C$ first, and then perform \"⊕\" with $A$ on the result.\n\nGiven an incomplete expression, for example $\\_+(\\_ * \\_)$, fill each underscore with the digit $0$ or $1$. How many ways are there to make the value of the expression equal to $0$?", "inputFormat": "There are $2$ lines.\n\nThe first line contains an integer $L$, the number of operators and parentheses in the given expression, excluding the underscores.\n\nThe second line contains a string of $L$ characters, consisting only of `(`, `)`, `+`, `*`. Here `(` and `)` are the left and right parentheses, and `+`, `*` represent the operators $\\oplus$ and $\\times$ defined above. This line lists, in order, the operators and parentheses in the given expression, excluding variables.", "outputFormat": "Output one line containing a single integer, the number of ways. Note: This number can be very large, so output the result modulo $10007$.", "hint": "[Explanation of the sample input and output]\n\nThe given expression, after including the underscores, is: $\\_+(\\_ * \\_)$.\n\nIf we fill the underscores with $(0,0,0)$, $(0,1,0)$, or $(0,0,1)$, the value of the expression is $0$, so there are $3$ valid fillings.\n\n[Constraints]\n\nFor $20\\%$ of the testdata, $0 \\le L \\le 10$.\n\nFor $50\\%$ of the testdata, $0 \\le L \\le 1{,}000$.\n\nFor $70\\%$ of the testdata, $0 \\le L \\le 10{,}000$.\n\nFor $100\\%$ of the testdata, $0 \\le L \\le 100{,}000$.\n\nFor $50\\%$ of the testdata, the input expression contains no parentheses.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 普及组] 表达式的值", "background": null, "description": "对于 $1$ 位二进制变量定义两种运算：\n\n$$\n\\begin{array}{|c|c|} \\hline\n\\qquad\\qquad\\quad\\textsf{运算符}\\qquad\\qquad\\quad & \\qquad\\qquad\\quad\\textsf{运算规则}\\qquad\\qquad\\quad \\\\ \\hline\n\\oplus &\n\\begin{aligned}\n0 \\oplus 0 &= 0 \\\\\n0 \\oplus 1 &= 1 \\\\\n1 \\oplus 0 &= 1 \\\\\n1 \\oplus 1 &= 1 \\\\\n\\end{aligned} \\\\ \\hline\n\\times &\n\\begin{aligned}\n0 \\times 0 &= 0 \\\\\n0 \\times 1 &= 0 \\\\\n1 \\times 0 &= 0 \\\\\n1 \\times 1 &= 1 \\\\\n\\end{aligned} \\\\ \\hline\n\\end{array}\n$$\n\n运算的优先级是：\n\n1. 先计算括号内的，再计算括号外的。\n\n  2. “$\\times$”运算优先于“$\\oplus$”运算，即计算表达式时，先计算“$\\times$”运算，再计算“$\\oplus$”运算。例如：计算表达式 $A\\oplus B \\times C$ 时，先计算 $B \\times C$，其结果再与 $A$ 做“$\\oplus$”运算。\n\n现给定一个未完成的表达式，例如 $\\_+(\\_ * \\_)$，请你在横线处填入数字 $0$ 或者 $1$，请问有多少种填法可以使得表达式的值为 $0$。", "inputFormat": "共 $2$ 行。\n\n第 $1$ 行为一个整数 $L$，表示给定的表达式中除去横线外的运算符和括号的个数。\n\n第 $2$ 行为一个字符串包含 $L$ 个字符，其中只包含 `(`,`)`,`+`,`*` 这 $4$ 种字符，其中 `(`,`)` 是左右括号,`+`,`*` 分别表示前面定义的运算符 $\\oplus$ 和 $\\times$。这行字符按顺序给出了给定表达式中除去变量外的运算符和括号。", "outputFormat": "共 $1$ 行。包含一个整数，即所有的方案数。注意：这个数可能会很大，请输出方案数对 $10007$ 取模后的结果。", "hint": "【输入输出样例说明】\n\n  给定的表达式包括横线字符之后为：$\\_+(\\_ * \\_)$。 \n\n  在横线位置填入 $(0,0,0)$ $(0,1,0)$ $(0,0,1)$ 时，表达式的值均为 $0$，所以共有 $3$ 种填法。 \n\n【数据范围】\n\n对于 $20\\%$ 的数据有 $ 0 \\le L \\le 10$。\n\n对于 $50\\%$ 的数据有 $0 \\le L \\le 1,000$。\n\n对于 $70\\%$ 的数据有 $ 0 \\le L \\le 10,000$ 。\n\n对于 $100\\%$的数据有 $ 0 \\le L \\le 100,000$。\n\n对于$50\\%$ 的数据输入表达式中不含括号。", "locale": "zh-CN"}}}
{"pid": "P1311", "type": "P", "difficulty": 3, "samples": [["5 2 3 \n0 5 \n1 3 \n0 2 \n1 4 \n1 5 \n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递推", "2011", "NOIP 提高组"], "title": "[NOIP 2011 提高组] 选择客栈", "background": "", "description": "丽江河边有 $n$ 家很有特色的客栈，客栈按照其位置顺序从 $1$ 到 $n$ 编号。每家客栈都按照某一种色调进行装饰（总共 $k$ 种，用整数 $0 \\sim k-1$ 表示），且每家客栈都设有一家咖啡店，每家咖啡店均有各自的最低消费。\n\n两位游客一起去丽江旅游，他们喜欢相同的色调，又想尝试两个不同的客栈，因此决定分别住在色调相同的两家客栈中。晚上，他们打算选择一家咖啡店喝咖啡，要求咖啡店位于两人住的两家客栈之间（包括他们住的客栈），且咖啡店的最低消费不超过 $p$ 。\n\n他们想知道总共有多少种选择住宿的方案，保证晚上可以找到一家最低消费不超过 $p$ 元的咖啡店小聚。", "inputFormat": "共 $n+1$ 行。\n\n第一行三个整数 $n, k, p$，每两个整数之间用一个空格隔开，分别表示客栈的个数，色调的数目和能接受的最低消费的最高值；\n\n接下来的 $n$ 行，第 $i+1$ 行两个整数，之间用一个空格隔开，分别表示 $i $ 号客栈的装饰色调 $a_i$ 和 $i$ 号客栈的咖啡店的最低消费 $b_i$。", "outputFormat": "一个整数，表示可选的住宿方案的总数。\n", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/pic/101.png) \n\n2 人要住同样色调的客栈，所有可选的住宿方案包括：住客栈①③，②④，②⑤，④⑤，但是若选择住 $4,5$号客栈的话，$4,5$ 号客栈之间的咖啡店的最低消费是 $4$ ，而两人能承受的最低消费是 $3$ 元，所以不满足要求。因此只有前 $3$ 种方案可选。\n\n### 数据范围\n\n- 对于 $30\\% $ 的数据，有 $n \\leq 100$ ；\n- 对于 $50\\% $ 的数据，有 $n \\leq 1\\,000$；\n- 对于 $100\\%$ 的数据，有 $2 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k\n \\leq 50$，$0 \\leq p \\leq 100$，$0 \\leq b_i \\leq 100$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Senior] Choosing Inns", "background": "", "description": "Along the Lijiang River, there are $n$ distinctive inns, numbered from $1$ to $n$ in order of their locations. Each inn is decorated in one of $k$ hues (represented by integers $0 \\sim k-1$), and each inn has a coffee shop with its own minimum charge.\n\nTwo tourists are traveling together. They like the same hue but want to try two different inns, so they decide to stay at two inns with the same hue. At night, they plan to choose a coffee shop to have coffee. The coffee shop must be located between the two inns they stay at (including the inns themselves), and its minimum charge must not exceed $p$.\n\nThey want to know the total number of ways to choose their accommodations such that they can find a coffee shop whose minimum charge is no more than $p$ yuan at night.", "inputFormat": "There are $n+1$ lines.\n\nThe first line contains three integers $n, k, p$, separated by single spaces, representing the number of inns, the number of hues, and the maximum acceptable minimum charge, respectively.\n\nFor the next $n$ lines, the $(i+1)$-th line contains two integers, separated by a single space, denoting the hue $a_i$ of inn $i$ and the minimum charge $b_i$ of the coffee shop of inn $i$.", "outputFormat": "Output a single integer, the total number of valid accommodation choices.", "hint": "Sample Explanation.\n\n![](https://cdn.luogu.com.cn/upload/pic/101.png)\n\nSince the two people must stay in inns with the same hue, all possible choices include: inns $1$ and $3$, $2$ and $4$, $2$ and $5$, $4$ and $5$. However, if they choose inns $4,5$, the minimum charge of the coffee shops between inns $4$ and $5$ is $4$, while their acceptable minimum charge is $3$ yuan, so this does not satisfy the requirement. Therefore, only the first $3$ choices are valid.\n\nConstraints.\n- For $30\\%$ of the testdata, $n \\leq 100$.\n- For $50\\%$ of the testdata, $n \\leq 1\\,000$.\n- For $100\\%$ of the testdata, $2 \\leq n \\leq 2 \\times 10^5$, $1 \\leq k \\leq 50$, $0 \\leq p \\leq 100$, $0 \\leq b_i \\leq 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 提高组] 选择客栈", "background": "", "description": "丽江河边有 $n$ 家很有特色的客栈，客栈按照其位置顺序从 $1$ 到 $n$ 编号。每家客栈都按照某一种色调进行装饰（总共 $k$ 种，用整数 $0 \\sim k-1$ 表示），且每家客栈都设有一家咖啡店，每家咖啡店均有各自的最低消费。\n\n两位游客一起去丽江旅游，他们喜欢相同的色调，又想尝试两个不同的客栈，因此决定分别住在色调相同的两家客栈中。晚上，他们打算选择一家咖啡店喝咖啡，要求咖啡店位于两人住的两家客栈之间（包括他们住的客栈），且咖啡店的最低消费不超过 $p$ 。\n\n他们想知道总共有多少种选择住宿的方案，保证晚上可以找到一家最低消费不超过 $p$ 元的咖啡店小聚。", "inputFormat": "共 $n+1$ 行。\n\n第一行三个整数 $n, k, p$，每两个整数之间用一个空格隔开，分别表示客栈的个数，色调的数目和能接受的最低消费的最高值；\n\n接下来的 $n$ 行，第 $i+1$ 行两个整数，之间用一个空格隔开，分别表示 $i $ 号客栈的装饰色调 $a_i$ 和 $i$ 号客栈的咖啡店的最低消费 $b_i$。", "outputFormat": "一个整数，表示可选的住宿方案的总数。\n", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/pic/101.png) \n\n2 人要住同样色调的客栈，所有可选的住宿方案包括：住客栈①③，②④，②⑤，④⑤，但是若选择住 $4,5$号客栈的话，$4,5$ 号客栈之间的咖啡店的最低消费是 $4$ ，而两人能承受的最低消费是 $3$ 元，所以不满足要求。因此只有前 $3$ 种方案可选。\n\n### 数据范围\n\n- 对于 $30\\% $ 的数据，有 $n \\leq 100$ ；\n- 对于 $50\\% $ 的数据，有 $n \\leq 1\\,000$；\n- 对于 $100\\%$ 的数据，有 $2 \\leq n \\leq 2 \\times 10^5$，$1 \\leq k\n \\leq 50$，$0 \\leq p \\leq 100$，$0 \\leq b_i \\leq 100$。", "locale": "zh-CN"}}}
{"pid": "P1312", "type": "P", "difficulty": 5, "samples": [["3\n1 0\n2 1 0\n2 3 4 0\n3 1 0\n2 4 3 4 0", "2 1 1\n3 1 1\n3 0 1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "2011", "NOIP 提高组", "深度优先搜索 DFS", "剪枝"], "title": "[NOIP 2011 提高组] Mayan 游戏", "background": null, "description": "Mayan puzzle 是最近流行起来的一个游戏。游戏界面是一个$7$ 行 $\\times5$ 列的棋盘，上面堆放着一些方块，方块不能悬空堆放，即方块必须放在最下面一行，或者放在其他方块之上。游戏通关是指在规定的步数内消除所有的方块，消除方块的规则如下：\n\n1. 每步移动可以且仅可以沿横向（即向左或向右）拖动某一方块一格：当拖动这一方块时，如果拖动后到达的位置（以下称目标位置）也有方块，那么这两个方块将交换位置（参见输入输出样例说明中的图 $6$ 到图 $7$）；如果目标位置上没有方块，那么被拖动的方块将从原来的竖列中抽出，并从目标位置上掉落（直到不悬空，参见下面图 $1$ 和图 $2$）；\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gyse4ktp.png)\n\n2. 任一时刻，如果在一横行或者竖列上有连续三个或者三个以上相同颜色的方块，则它们将立即被消除（参见图 $1$ 到图 $3$）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/et7at5fd.png)\n\n注意：\n\na) 如果同时有多组方块满足消除条件，几组方块会同时被消除（例如下面图 $4$，三个颜色为 $1$ 的方块和三个颜色为 $2$ 的方块会同时被消除，最后剩下一个颜色为 $2$ 的方块）。\n\nb) 当出现行和列都满足消除条件且行列共享某个方块时，行和列上满足消除条件的所有方块会被同时消除（例如下面图5 所示的情形，$5$ 个方块会同时被消除）。\n\n3. 方块消除之后，消除位置之上的方块将掉落，掉落后可能会引起新的方块消除。注意：掉落的过程中将不会有方块的消除。\n\n上面图 $1$ 到图 $3$ 给出了在棋盘上移动一块方块之后棋盘的变化。棋盘的左下角方块的坐标为 $(0,0)$，将位于 $(3,3)$ 的方块向左移动之后，游戏界面从图 $1$ 变成图 $2$ 所示的状态，此时在一竖列上有连续三块颜色为 $4$ 的方块，满足消除条件，消除连续 $3$ 块颜色为 $4$ 的方块后，上方的颜色为 $3$ 的方块掉落，形成图 $3$ 所示的局面。", "inputFormat": "共 $6$ 行。\n\n第一行为一个正整数 $n$，表示要求游戏通关的步数。\n\n接下来的 $5$ 行，描述 $7 \\times 5$ 的游戏界面。每行若干个整数，每两个整数之间用一个空格隔开，每行以一个 $0$ 结束，自下向上表示每竖列方块的颜色编号（颜色不多于 $10$ 种，从 $1$ 开始顺序编号，相同数字表示相同颜色）。\n\n输入数据保证初始棋盘中没有可以消除的方块。", "outputFormat": "如果有解决方案，输出 $n$ 行，每行包含 $3$ 个整数 $x,y,g$，表示一次移动，每两个整数之间用一个空格隔开，其中 $(x,y)$ 表示要移动的方块的坐标，$g$ 表示移动的方向，$1$ 表示向右移动，$-1$ 表示向左移动。注意：多组解时，按照 $x$ 为第一关键字，$y$ 为第二关键字，$1$ 优先于 $-1$，给出一组字典序最小的解。游戏界面左下角的坐标为 $(0,0)$。\n\n如果没有解决方案，输出一行 `-1`。", "hint": "**【输入输出样例说明】**\n\n按箭头方向的顺序分别为图 $6$ 到图 $11$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vmb8yy6n.png)\n\n样例输入的游戏局面如上面第一个图片所示，依次移动的三步是：$(2,1)$ 处的方格向右移动，$(3,1)$ 处的方格向右移动，$(3,0)$ 处的方格向右移动，最后可以将棋盘上所有方块消除。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，初始棋盘上的方块都在棋盘的最下面一行；\n\n对于 $100\\%$ 的数据，$0<n \\le 5$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Senior] Mayan Game", "background": "", "description": "Mayan puzzle is a recently popular game. The game interface is a $7$-row $\\times 5$-column board stacked with some blocks. Blocks cannot be suspended in the air, i.e., a block must be placed on the bottom row or on top of another block. To clear the game means to eliminate all blocks within a given number of moves. The elimination rules are as follows:\n\n1. In each move, you may and only may drag one block horizontally (left or right) by one cell: When dragging this block, if the target position also has a block, the two blocks will swap positions (see Figures $6$ to $7$ in the sample I/O explanation). If the target position is empty, the dragged block will be pulled out of its original column and will fall from the target position (until it is supported; see Figures $1$ and $2$ below).\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gyse4ktp.png)\n\n2. At any time, if there are three or more consecutive blocks of the same color in any row or column, they will be eliminated immediately (see Figures 1 to 3).\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/et7at5fd.png)\n\nNotes:\na) If multiple groups of blocks simultaneously satisfy the elimination condition, all such groups will be eliminated at the same time (for example, in Figure $4$, three blocks of color $1$ and three blocks of color $2$ are eliminated simultaneously, leaving one block of color $2$).\nb) When both a row and a column satisfy the elimination condition and they share a block, all blocks in that row and column that satisfy the condition will be eliminated simultaneously (for example, in the situation shown in Figure 5, $5$ blocks are eliminated at the same time).\n\n3. After blocks are eliminated, the blocks above the eliminated positions will fall, and the falling may trigger new eliminations. Note: No elimination occurs during the falling process.\n\nFigures $1$ to $3$ above show the changes on the board after moving a block. The coordinates of the block in the lower-left corner of the board are $(0,0)$. After moving the block at $(3,3)$ to the left, the interface changes from Figure $1$ to the state shown in Figure $2$. At this time there are three consecutive blocks of color $4$ in one column, satisfying the elimination condition. After eliminating the three consecutive blocks of color $4$, the blocks of color $3$ above fall, forming the situation shown in Figure $3$.", "inputFormat": "A total of $6$ lines.\n\n- The first line is a positive integer $n$, the number of moves required to clear the game.\n- The next $5$ lines describe the $7 \\times 5$ game interface. Each line contains several integers separated by a space and ends with a $0$. For each column (from left to right), the integers list the color numbers of the blocks from bottom to top. There are at most $10$ colors, numbered in order starting from $1$, and the same number indicates the same color.\n- The testdata guarantees that there are no eliminable blocks on the initial board.", "outputFormat": "If there is a solution, output $n$ lines, each containing $3$ integers $x, y, g$ separated by a space, representing one move. Here $(x, y)$ is the coordinate of the block to move, and $g$ is the direction: $1$ means move to the right, $-1$ means move to the left. Note: If there are multiple solutions, use $x$ as the primary key, $y$ as the secondary key, and prefer $1$ over $-1$, and output the lexicographically smallest solution. The coordinate of the lower-left corner of the board is $(0, 0)$.\n\nIf there is no solution, output a single line `-1`.", "hint": "【Sample I/O Explanation】\n\nIn the direction of the arrows, these are Figures $6$ to $11$ in order.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vmb8yy6n.png)\n\nThe game state of the sample input is shown in the first image above. The three moves in order are: move the block at $(2,1)$ to the right, move the block at $(3,1)$ to the right, and move the block at $(3,0)$ to the right. In the end, all blocks on the board can be eliminated.\n\n【Constraints】\n\n- For $30\\%$ of the testdata, all blocks on the initial board are on the bottom row.\n- For $100\\%$ of the testdata, $0 < n \\le 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 提高组] Mayan 游戏", "background": null, "description": "Mayan puzzle 是最近流行起来的一个游戏。游戏界面是一个$7$ 行 $\\times5$ 列的棋盘，上面堆放着一些方块，方块不能悬空堆放，即方块必须放在最下面一行，或者放在其他方块之上。游戏通关是指在规定的步数内消除所有的方块，消除方块的规则如下：\n\n1. 每步移动可以且仅可以沿横向（即向左或向右）拖动某一方块一格：当拖动这一方块时，如果拖动后到达的位置（以下称目标位置）也有方块，那么这两个方块将交换位置（参见输入输出样例说明中的图 $6$ 到图 $7$）；如果目标位置上没有方块，那么被拖动的方块将从原来的竖列中抽出，并从目标位置上掉落（直到不悬空，参见下面图 $1$ 和图 $2$）；\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gyse4ktp.png)\n\n2. 任一时刻，如果在一横行或者竖列上有连续三个或者三个以上相同颜色的方块，则它们将立即被消除（参见图 $1$ 到图 $3$）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/et7at5fd.png)\n\n注意：\n\na) 如果同时有多组方块满足消除条件，几组方块会同时被消除（例如下面图 $4$，三个颜色为 $1$ 的方块和三个颜色为 $2$ 的方块会同时被消除，最后剩下一个颜色为 $2$ 的方块）。\n\nb) 当出现行和列都满足消除条件且行列共享某个方块时，行和列上满足消除条件的所有方块会被同时消除（例如下面图5 所示的情形，$5$ 个方块会同时被消除）。\n\n3. 方块消除之后，消除位置之上的方块将掉落，掉落后可能会引起新的方块消除。注意：掉落的过程中将不会有方块的消除。\n\n上面图 $1$ 到图 $3$ 给出了在棋盘上移动一块方块之后棋盘的变化。棋盘的左下角方块的坐标为 $(0,0)$，将位于 $(3,3)$ 的方块向左移动之后，游戏界面从图 $1$ 变成图 $2$ 所示的状态，此时在一竖列上有连续三块颜色为 $4$ 的方块，满足消除条件，消除连续 $3$ 块颜色为 $4$ 的方块后，上方的颜色为 $3$ 的方块掉落，形成图 $3$ 所示的局面。", "inputFormat": "共 $6$ 行。\n\n第一行为一个正整数 $n$，表示要求游戏通关的步数。\n\n接下来的 $5$ 行，描述 $7 \\times 5$ 的游戏界面。每行若干个整数，每两个整数之间用一个空格隔开，每行以一个 $0$ 结束，自下向上表示每竖列方块的颜色编号（颜色不多于 $10$ 种，从 $1$ 开始顺序编号，相同数字表示相同颜色）。\n\n输入数据保证初始棋盘中没有可以消除的方块。", "outputFormat": "如果有解决方案，输出 $n$ 行，每行包含 $3$ 个整数 $x,y,g$，表示一次移动，每两个整数之间用一个空格隔开，其中 $(x,y)$ 表示要移动的方块的坐标，$g$ 表示移动的方向，$1$ 表示向右移动，$-1$ 表示向左移动。注意：多组解时，按照 $x$ 为第一关键字，$y$ 为第二关键字，$1$ 优先于 $-1$，给出一组字典序最小的解。游戏界面左下角的坐标为 $(0,0)$。\n\n如果没有解决方案，输出一行 `-1`。", "hint": "**【输入输出样例说明】**\n\n按箭头方向的顺序分别为图 $6$ 到图 $11$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vmb8yy6n.png)\n\n样例输入的游戏局面如上面第一个图片所示，依次移动的三步是：$(2,1)$ 处的方格向右移动，$(3,1)$ 处的方格向右移动，$(3,0)$ 处的方格向右移动，最后可以将棋盘上所有方块消除。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，初始棋盘上的方块都在棋盘的最下面一行；\n\n对于 $100\\%$ 的数据，$0<n \\le 5$。", "locale": "zh-CN"}}}
{"pid": "P1313", "type": "P", "difficulty": 3, "samples": [["1 1 3 1 2\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2011", "NOIP 提高组", "组合数学"], "title": "[NOIP 2011 提高组] 计算系数", "background": "", "description": "给定一个多项式 $(by+ax)^k$，请求出多项式展开后 $x^n\\times y^m$ 项的系数。", "inputFormat": "输入共一行，包含 $5$ 个整数，分别为 $a,b,k,n,m$，每两个整数之间用一个空格隔开。", "outputFormat": "输出共一行，包含一个整数，表示所求的系数。\n\n这个系数可能很大，输出对 $10007$ 取模后的结果。", "hint": "【数据范围】\n\n对于 $30\\%$ 的数据，有 $ 0\\le k\\le 10$。\n\n对于 $50\\%$ 的数据，有 $ a=1$，$b=1$。\n\n对于 $100\\%$ 的数据，有 $0\\le k\\le 1000$，$0\\le n,m\\le k$，$n+m=k$，$0\\le a,b\\le 10^6$。\n\nnoip2011 提高组 day2 第 1 题。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Senior] Compute the Coefficient", "background": "", "description": "Given a polynomial $(by+ax)^k$, compute the coefficient of the term $x^n\\times y^m$ in its expansion.", "inputFormat": "The input contains one line with $5$ integers, namely $a, b, k, n, m$, separated by a single space.", "outputFormat": "Output one line containing a single integer, which is the required coefficient. This coefficient may be large; output the result modulo $10007$.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, $0\\le k\\le 10$.\n- For $50\\%$ of the testdata, $a=1$, $b=1$.\n- For $100\\%$ of the testdata, $0\\le k\\le 1000$, $0\\le n, m\\le k$, $n + m = k$, $0\\le a, b\\le 10^6$.\n\nNOIP 2011 Senior Day 2 Problem 1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 提高组] 计算系数", "background": "", "description": "给定一个多项式 $(by+ax)^k$，请求出多项式展开后 $x^n\\times y^m$ 项的系数。", "inputFormat": "输入共一行，包含 $5$ 个整数，分别为 $a,b,k,n,m$，每两个整数之间用一个空格隔开。", "outputFormat": "输出共一行，包含一个整数，表示所求的系数。\n\n这个系数可能很大，输出对 $10007$ 取模后的结果。", "hint": "【数据范围】\n\n对于 $30\\%$ 的数据，有 $ 0\\le k\\le 10$。\n\n对于 $50\\%$ 的数据，有 $ a=1$，$b=1$。\n\n对于 $100\\%$ 的数据，有 $0\\le k\\le 1000$，$0\\le n,m\\le k$，$n+m=k$，$0\\le a,b\\le 10^6$。\n\nnoip2011 提高组 day2 第 1 题。\n", "locale": "zh-CN"}}}
{"pid": "P1314", "type": "P", "difficulty": 4, "samples": [["5 3 15 \n1 5 \n2 5 \n3 5 \n4 5 \n5 5 \n1 5 \n2 4 \n3 3 ", "10\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2011", "二分", "NOIP 提高组", "前缀和"], "title": "[NOIP 2011 提高组] 聪明的质监员", "background": null, "description": "小 T 是一名质量监督员，最近负责检验一批矿产的质量。这批矿产共有 $n$ 个矿石，从 $1$ 到 $n$ 逐一编号，每个矿石都有自己的重量 $w_i$ 以及价值 $v_i$。检验矿产的流程是：\n\n1. 给定 $m$ 个区间 $[l_i,r_i]$；\n2. 选出一个参数 $W$；\n3. 对于一个区间 $[l_i,r_i]$，计算矿石在这个区间上的检验值 $y_i$：\n\n$$y_i=\\sum\\limits_{j=l_i}^{r_i}[w_j \\ge W] \\times \\sum\\limits_{j=l_i}^{r_i}[w_j \\ge W]v_j$$  \n\n其中 $j$ 为矿石编号，$[p]$ 是指示函数，若条件 $p$ 为真返回 $1$，否则返回 $0$。\n\n这批矿产的检验结果 $y$ 为各个区间的检验值之和。即：$\\sum\\limits_{i=1}^m y_i$。\n\n若这批矿产的检验结果与所给标准值 $s$ 相差太多，就需要再去检验另一批矿产。小 T 不想费时间去检验另一批矿产，所以他想通过调整参数 $W$ 的值，让检验结果尽可能的靠近标准值 $s$，即使得 $|s-y|$ 最小。请你帮忙求出这个最小值。", "inputFormat": "第一行包含三个整数 $n,m,s$，分别表示矿石的个数、区间的个数和标准值。\n\n接下来的 $n$ 行，每行两个整数，中间用空格隔开，第 $i+1$ 行表示 $i$ 号矿石的重量 $w_i$ 和价值 $v_i$。\n\n接下来的 $m$ 行，表示区间，每行两个整数，中间用空格隔开，第 $i+n+1$ 行表示区间 $[l_i,r_i]$ 的两个端点 $l_i$ 和 $r_i$。注意：不同区间可能重合或相互重叠。", "outputFormat": "一个整数，表示所求的最小值。", "hint": "【输入输出样例说明】\n\n当 $W$ 选 $4$ 的时候，三个区间上检验值分别为 $20,5,0$，这批矿产的检验结果为 $25$，此时与标准值 $S$ 相差最小为 $10$。\n\n【数据范围】\n\n对于 $10\\%$ 的数据，有 $1 ≤n,m≤10$；\n\n对于 $30\\%$ 的数据，有 $1 ≤n,m≤500$；\n\n对于 $50\\%$ 的数据，有 $1 ≤n,m≤5,000$；\n \n对于 $70\\%$ 的数据，有 $1 ≤n,m≤10,000$；\n\n对于 $100\\%$ 的数据，有 $1 ≤n,m≤200,000$，$0 < w_i,v_i≤10^6$，$0 < s≤10^{12}$，$1 ≤l_i ≤r_i ≤n$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Senior] Smart Quality Inspector", "background": "", "description": "Xiao T is a quality inspector in charge of checking a batch of ores. There are $n$ ores, numbered from $1$ to $n$. Each ore has a weight $w_i$ and a value $v_i$. The inspection process is:\n\n1. Given $m$ intervals $[l_i, r_i]$.\n2. Choose a parameter $W$.\n3. For an interval $[l_i, r_i]$, compute the inspection value $y_i$:\n$$y_i=\\sum\\limits_{j=l_i}^{r_i}[w_j \\ge W] \\times \\sum\\limits_{j=l_i}^{r_i}[w_j \\ge W]v_j$$\nHere $j$ is the ore index, and $[p]$ is the indicator function: it returns $1$ if condition $p$ is true, and $0$ otherwise.\n\nThe overall inspection result $y$ for this batch is the sum of inspection values over all intervals, i.e., $\\sum\\limits_{i=1}^m y_i$.\n\nIf the overall inspection result differs too much from the given standard value $s$, another batch must be inspected. Xiao T wants to avoid extra work, so he will adjust the parameter $W$ to make the result as close to $s$ as possible, i.e., minimize $|s - y|$. Please compute this minimum value.", "inputFormat": "The first line contains three integers $n, m, s$, denoting the number of ores, the number of intervals, and the standard value.\n\nThe next $n$ lines each contain two integers separated by a space. The $(i+1)$-th line gives the weight $w_i$ and value $v_i$ of ore $i$.\n\nThe next $m$ lines describe the intervals. Each line contains two integers separated by a space. The $(n+i+1)$-th line gives the endpoints $l_i$ and $r_i$ of interval $[l_i, r_i]$. Note: different intervals may coincide or overlap.", "outputFormat": "Output a single integer, the minimum value required.", "hint": "Explanation for the sample input and output:\n\nWhen $W$ is $4$, the inspection values on the three intervals are $20$, $5$, $0$, so the overall result is $25$. The minimum difference from the standard value $s$ is $10$.\n\nConstraints:\n\n- For $10\\%$ of the testdata, $1 \\le n, m \\le 10$.\n- For $30\\%$ of the testdata, $1 \\le n, m \\le 500$.\n- For $50\\%$ of the testdata, $1 \\le n, m \\le 5{,}000$.\n- For $70\\%$ of the testdata, $1 \\le n, m \\le 10{,}000$.\n- For $100\\%$ of the testdata, $1 \\le n, m \\le 200{,}000$, $0 < w_i, v_i \\le 10^6$, $0 < s \\le 10^{12}$, $1 \\le l_i \\le r_i \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 提高组] 聪明的质监员", "background": null, "description": "小 T 是一名质量监督员，最近负责检验一批矿产的质量。这批矿产共有 $n$ 个矿石，从 $1$ 到 $n$ 逐一编号，每个矿石都有自己的重量 $w_i$ 以及价值 $v_i$。检验矿产的流程是：\n\n1. 给定 $m$ 个区间 $[l_i,r_i]$；\n2. 选出一个参数 $W$；\n3. 对于一个区间 $[l_i,r_i]$，计算矿石在这个区间上的检验值 $y_i$：\n\n$$y_i=\\sum\\limits_{j=l_i}^{r_i}[w_j \\ge W] \\times \\sum\\limits_{j=l_i}^{r_i}[w_j \\ge W]v_j$$  \n\n其中 $j$ 为矿石编号，$[p]$ 是指示函数，若条件 $p$ 为真返回 $1$，否则返回 $0$。\n\n这批矿产的检验结果 $y$ 为各个区间的检验值之和。即：$\\sum\\limits_{i=1}^m y_i$。\n\n若这批矿产的检验结果与所给标准值 $s$ 相差太多，就需要再去检验另一批矿产。小 T 不想费时间去检验另一批矿产，所以他想通过调整参数 $W$ 的值，让检验结果尽可能的靠近标准值 $s$，即使得 $|s-y|$ 最小。请你帮忙求出这个最小值。", "inputFormat": "第一行包含三个整数 $n,m,s$，分别表示矿石的个数、区间的个数和标准值。\n\n接下来的 $n$ 行，每行两个整数，中间用空格隔开，第 $i+1$ 行表示 $i$ 号矿石的重量 $w_i$ 和价值 $v_i$。\n\n接下来的 $m$ 行，表示区间，每行两个整数，中间用空格隔开，第 $i+n+1$ 行表示区间 $[l_i,r_i]$ 的两个端点 $l_i$ 和 $r_i$。注意：不同区间可能重合或相互重叠。", "outputFormat": "一个整数，表示所求的最小值。", "hint": "【输入输出样例说明】\n\n当 $W$ 选 $4$ 的时候，三个区间上检验值分别为 $20,5,0$，这批矿产的检验结果为 $25$，此时与标准值 $S$ 相差最小为 $10$。\n\n【数据范围】\n\n对于 $10\\%$ 的数据，有 $1 ≤n,m≤10$；\n\n对于 $30\\%$ 的数据，有 $1 ≤n,m≤500$；\n\n对于 $50\\%$ 的数据，有 $1 ≤n,m≤5,000$；\n \n对于 $70\\%$ 的数据，有 $1 ≤n,m≤10,000$；\n\n对于 $100\\%$ 的数据，有 $1 ≤n,m≤200,000$，$0 < w_i,v_i≤10^6$，$0 < s≤10^{12}$，$1 ≤l_i ≤r_i ≤n$。", "locale": "zh-CN"}}}
{"pid": "P1315", "type": "P", "difficulty": 5, "samples": [["3 3 2\n1 4\n0 1 3\n1 1 2\n5 2 3", "10\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "递推", "2011", "NOIP 提高组"], "title": "[NOIP 2011 提高组] 观光公交", "background": "感谢 @Transhumanist 提供的一组 Hack 数据", "description": "风景迷人的小城 Y 市，拥有 $n$ 个美丽的景点。由于慕名而来的游客越来越多，Y 市特意安排了一辆观光公交车，为游客提供更便捷的交通服务。观光公交车在第 $0$ 分钟出现在 $1$ 号景点，随后依次前往 $2,3,4,\\cdots,n$ 号景点。从第 $i$ 号景点开到第 $i+1$ 号景点需要 $D_i$ 分钟。任意时刻，公交车只能往前开，或在景点处等待。\n\n设共有 $m$ 个游客，每位游客需要乘车 $1$ 次从一个景点到达另一个景点，第 $i$ 位游客在 $T_i$ 分钟来到景点 $A_i$，希望乘车前往景点 $B_i$（$A_i<B_i$）。为了使所有乘客都能顺利到达目的地，公交车在每站都必须等待需要从该景点出发的所有乘客都上车后才能出发开往下一景点。\n\n假设乘客上下车不需要时间。一个乘客的旅行时间，等于他到达目的地的时刻减去他来到出发地的时刻。因为只有一辆观光车，有时候还要停下来等其他乘客，乘客们纷纷抱怨旅行时间太长了。于是聪明的司机 ZZ 给公交车安装了 $k$ 个氮气加速器，每使用一个加速器，可以使其中一个 $D_i-1$。对于同一个 $D_i$ 可以重复使用加速器，但是必须保证使用后 $D_i\\ge0$。\n\n那么 ZZ 该如何安排使用加速器，才能使所有乘客的旅行时间总和最小？", "inputFormat": "第 $1$ 行是 $3$ 个整数 $n,m,k$，每两个整数之间用一个空格隔开。分别表示景点数、乘客数和氮气加速器个数。\n\n第 $2$ 行是 $n-1$ 个整数，每两个整数之间用一个空格隔开，第 $i$ 个数表示从第 $i$ 个景点开往第 $i+1$ 个景点所需要的时间，即 $D_i$。\n\n第 $3$ 行至 $m+2$ 行每行 $3$ 个整数 $T_i,A_i,B_i$，每两个整数之间用一个空格隔开。第 $i+2$ 行表示第 $i$ 位乘客来到出发景点的时刻，出发的景点编号和到达的景点编号。", "outputFormat": "一个整数，表示最小的总旅行时间。\n", "hint": "**【输入输出样例说明】**\n\n对 $D_2$ 使用 $2$ 个加速器，从 $2$ 号景点到 $3$ 号景点时间变为 $2$ 分钟。\n\n公交车在第 $1$ 分钟从 $1$ 号景点出发，第 $2$ 分钟到达 $2$ 号景点，第 $5$ 分钟从 $2$ 号景点出发，第 $7$ 分钟到达 $3$ 号景点。\n\n第 $1$ 个旅客旅行时间 $7-0=7$ 分钟。\n\n第 $2$ 个旅客旅行时间 $2-1=1$ 分钟。\n\n第 $3$ 个旅客旅行时间 $7-5=2$ 分钟。\n\n总时间 $7+1+2=10$ 分钟。\n\n**【数据范围】**\n\n对于 $10\\%$ 的数据，$k=0$。\n\n对于 $20\\%$ 的数据，$k=1$。\n\n对于 $40\\%$ 的数据，$2 \\le n \\le 50$，$1 \\le m \\le 10^3$，$0 \\le k \\le 20$，$0 \\le D_i \\le 10$，$0 \\le T_i \\le 500$。\n\n对于 $60\\%$ 的数据，$1 \\le n \\le 100$，$1 \\le m \\le 10^3$，$0 \\le k \\le 100$，$0 \\le D_i \\le 100$，$0 \\le T_i \\le 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^3$，$1 \\le m \\le 10^4$，$0 \\le k \\le 10^5$，$0 \\le D_i \\le 100$，$0 \\le T_i \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2011 Senior] Sightseeing Bus", "background": "Thanks to @Transhumanist for providing a set of hack testdata.", "description": "In the scenic city Y, there are $n$ beautiful spots. As more tourists arrive, the city arranges a sightseeing bus to offer convenient transportation. The bus appears at spot $1$ at minute $0$, and then visits spots $2, 3, 4, \\cdots, n$ in order. It takes $D_i$ minutes to go from spot $i$ to spot $i+1$. At any time, the bus can only move forward, or wait at a spot.\n\nThere are $m$ passengers in total. Each passenger needs exactly one ride from one spot to another. The $i$-th passenger arrives at spot $A_i$ at minute $T_i$ and wants to ride to spot $B_i$ ($A_i < B_i$). To ensure that all passengers can reach their destinations, the bus must, at each spot, wait until all passengers who need to depart from that spot have boarded, and then depart for the next spot.\n\nAssume boarding and alighting take no time. A passenger’s travel time equals the time they reach their destination minus the time they arrive at their origin. Because there is only one bus and it sometimes needs to wait for other passengers, passengers complain that the travel time is too long. The clever driver ZZ installs $k$ nitro boosters. Each booster can decrease some $D_i$ by $1$. You may apply boosters multiple times to the same $D_i$, but must ensure that after all applications $D_i \\ge 0$.\n\nHow should ZZ allocate the boosters to minimize the sum of all passengers’ travel times?", "inputFormat": "- The first line contains $3$ integers $n, m, k$, separated by single spaces, denoting the number of spots, the number of passengers, and the number of boosters.\n- The second line contains $n-1$ integers, separated by single spaces. The $i$-th integer is the travel time $D_i$ from spot $i$ to spot $i+1$.\n- Lines $3$ to $m+2$: each line contains $3$ integers $T_i, A_i, B_i$, separated by single spaces. The $(i+2)$-th line gives the arrival time at the origin, the origin spot index, and the destination spot index for passenger $i$.", "outputFormat": "Output a single integer: the minimal possible total travel time.", "hint": "【Sample Explanation】\n\nUse $2$ boosters on $D_2$, reducing the travel time from spot $2$ to spot $3$ to $2$ minutes.\n\nThe bus departs from spot $1$ at minute $1$, arrives at spot $2$ at minute $2$, departs from spot $2$ at minute $5$, and arrives at spot $3$ at minute $7$.\n\n- Passenger $1$: travel time $=\\,$ $7-0=7$ minutes.\n- Passenger $2$: travel time $=\\,$ $2-1=1$ minute.\n- Passenger $3$: travel time $=\\,$ $7-5=2$ minutes.\n\nTotal time $=\\,$ $7+1+2=10$ minutes.\n\n【Constraints】\n\n- For $10\\%$ of the testdata, $k=0$.\n- For $20\\%$ of the testdata, $k=1$.\n- For $40\\%$ of the testdata, $2 \\le n \\le 50$, $1 \\le m \\le 10^3$, $0 \\le k \\le 20$, $0 \\le D_i \\le 10$, $0 \\le T_i \\le 500$.\n- For $60\\%$ of the testdata, $1 \\le n \\le 100$, $1 \\le m \\le 10^3$, $0 \\le k \\le 100$, $0 \\le D_i \\le 100$, $0 \\le T_i \\le 10^4$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 10^3$, $1 \\le m \\le 10^4$, $0 \\le k \\le 10^5$, $0 \\le D_i \\le 100$, $0 \\le T_i \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2011 提高组] 观光公交", "background": "感谢 @Transhumanist 提供的一组 Hack 数据", "description": "风景迷人的小城 Y 市，拥有 $n$ 个美丽的景点。由于慕名而来的游客越来越多，Y 市特意安排了一辆观光公交车，为游客提供更便捷的交通服务。观光公交车在第 $0$ 分钟出现在 $1$ 号景点，随后依次前往 $2,3,4,\\cdots,n$ 号景点。从第 $i$ 号景点开到第 $i+1$ 号景点需要 $D_i$ 分钟。任意时刻，公交车只能往前开，或在景点处等待。\n\n设共有 $m$ 个游客，每位游客需要乘车 $1$ 次从一个景点到达另一个景点，第 $i$ 位游客在 $T_i$ 分钟来到景点 $A_i$，希望乘车前往景点 $B_i$（$A_i<B_i$）。为了使所有乘客都能顺利到达目的地，公交车在每站都必须等待需要从该景点出发的所有乘客都上车后才能出发开往下一景点。\n\n假设乘客上下车不需要时间。一个乘客的旅行时间，等于他到达目的地的时刻减去他来到出发地的时刻。因为只有一辆观光车，有时候还要停下来等其他乘客，乘客们纷纷抱怨旅行时间太长了。于是聪明的司机 ZZ 给公交车安装了 $k$ 个氮气加速器，每使用一个加速器，可以使其中一个 $D_i-1$。对于同一个 $D_i$ 可以重复使用加速器，但是必须保证使用后 $D_i\\ge0$。\n\n那么 ZZ 该如何安排使用加速器，才能使所有乘客的旅行时间总和最小？", "inputFormat": "第 $1$ 行是 $3$ 个整数 $n,m,k$，每两个整数之间用一个空格隔开。分别表示景点数、乘客数和氮气加速器个数。\n\n第 $2$ 行是 $n-1$ 个整数，每两个整数之间用一个空格隔开，第 $i$ 个数表示从第 $i$ 个景点开往第 $i+1$ 个景点所需要的时间，即 $D_i$。\n\n第 $3$ 行至 $m+2$ 行每行 $3$ 个整数 $T_i,A_i,B_i$，每两个整数之间用一个空格隔开。第 $i+2$ 行表示第 $i$ 位乘客来到出发景点的时刻，出发的景点编号和到达的景点编号。", "outputFormat": "一个整数，表示最小的总旅行时间。\n", "hint": "**【输入输出样例说明】**\n\n对 $D_2$ 使用 $2$ 个加速器，从 $2$ 号景点到 $3$ 号景点时间变为 $2$ 分钟。\n\n公交车在第 $1$ 分钟从 $1$ 号景点出发，第 $2$ 分钟到达 $2$ 号景点，第 $5$ 分钟从 $2$ 号景点出发，第 $7$ 分钟到达 $3$ 号景点。\n\n第 $1$ 个旅客旅行时间 $7-0=7$ 分钟。\n\n第 $2$ 个旅客旅行时间 $2-1=1$ 分钟。\n\n第 $3$ 个旅客旅行时间 $7-5=2$ 分钟。\n\n总时间 $7+1+2=10$ 分钟。\n\n**【数据范围】**\n\n对于 $10\\%$ 的数据，$k=0$。\n\n对于 $20\\%$ 的数据，$k=1$。\n\n对于 $40\\%$ 的数据，$2 \\le n \\le 50$，$1 \\le m \\le 10^3$，$0 \\le k \\le 20$，$0 \\le D_i \\le 10$，$0 \\le T_i \\le 500$。\n\n对于 $60\\%$ 的数据，$1 \\le n \\le 100$，$1 \\le m \\le 10^3$，$0 \\le k \\le 100$，$0 \\le D_i \\le 100$，$0 \\le T_i \\le 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^3$，$1 \\le m \\le 10^4$，$0 \\le k \\le 10^5$，$0 \\le D_i \\le 100$，$0 \\le T_i \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1316", "type": "P", "difficulty": 6, "samples": [["2 2", "500000006"], ["3 3", "5"], ["3 4", "250000007"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "枚举", "容斥原理", "快速数论变换 NTT"], "title": "Mivik 写书", "background": "Mivik 想当大作家。", "description": "Mivik 的键盘上有 $m$ 个不同的按键，对应着 $m$ 个不同的字符。由于 Mivik 不会写文章，所以他只好**等概率**随机乱按了 $n$ 个键，打出了一篇文章。\n\nMivik 定义一篇文章的复杂度是这篇文章所有**非空**本质不同子串的数目。我们认为两个字符串本质不同当且仅当它们的长度不同或者它们有任意一位上的字符不同。例如，文章 `abaa` 的复杂度是 8，因为它一共有 `a`、`b`、`ab`、`ba`、`aa`、`aba`、`baa`、`abaa` 这 8 个非空的本质不同子串。\n\nMivik 现在想知道，这篇文章期望的复杂度是多少。由于 Mivik 不喜欢奇形怪状的小数，你只需要输出期望的复杂度对 $10^9+7$ 取模后的值。", "inputFormat": "一行两个整数 $n$ 和 $m$，意义见题目描述。", "outputFormat": "一行一个整数，代表答案对 $10^9+7$ 取模后的值。", "hint": "### 样例解释\n\n样例一：假设键盘上的字符分别为 `a` 和 `b`，那么可能打出来的文章一共有 `aa`、`ab`、`ba`、`bb` 四种，它们的复杂度分别为 2、3、3、2，因此答案为 $\\frac{2+3+3+2}{4}=\\frac{5}{2}$，对 $10^9+7$ 取模后得到 500000006。\n\n### 数据范围\n\n对于全部数据，有 $1\\le n\\le 20$，$1\\le m\\le 5\\cdot 10^6$。\n\nSubtask 1 (10 pts)：满足 $1\\le n, m\\le 7$。\n\nSubtask 2 (20 pts)：满足 $1\\le n\\le 5$。\n\nSubtask 3 (20 pts)：满足 $1\\le n\\le 10$。\n\nSubtask 4 (50 pts)：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Mivik 写书", "background": "Mivik 想当大作家。", "description": "Mivik 的键盘上有 $m$ 个不同的按键，对应着 $m$ 个不同的字符。由于 Mivik 不会写文章，所以他只好**等概率**随机乱按了 $n$ 个键，打出了一篇文章。\n\nMivik 定义一篇文章的复杂度是这篇文章所有**非空**本质不同子串的数目。我们认为两个字符串本质不同当且仅当它们的长度不同或者它们有任意一位上的字符不同。例如，文章 `abaa` 的复杂度是 8，因为它一共有 `a`、`b`、`ab`、`ba`、`aa`、`aba`、`baa`、`abaa` 这 8 个非空的本质不同子串。\n\nMivik 现在想知道，这篇文章期望的复杂度是多少。由于 Mivik 不喜欢奇形怪状的小数，你只需要输出期望的复杂度对 $10^9+7$ 取模后的值。", "inputFormat": "一行两个整数 $n$ 和 $m$，意义见题目描述。", "outputFormat": "一行一个整数，代表答案对 $10^9+7$ 取模后的值。", "hint": "### 样例解释\n\n样例一：假设键盘上的字符分别为 `a` 和 `b`，那么可能打出来的文章一共有 `aa`、`ab`、`ba`、`bb` 四种，它们的复杂度分别为 2、3、3、2，因此答案为 $\\frac{2+3+3+2}{4}=\\frac{5}{2}$，对 $10^9+7$ 取模后得到 500000006。\n\n### 数据范围\n\n对于全部数据，有 $1\\le n\\le 20$，$1\\le m\\le 5\\cdot 10^6$。\n\nSubtask 1 (10 pts)：满足 $1\\le n, m\\le 7$。\n\nSubtask 2 (20 pts)：满足 $1\\le n\\le 5$。\n\nSubtask 3 (20 pts)：满足 $1\\le n\\le 10$。\n\nSubtask 4 (50 pts)：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P1317", "type": "P", "difficulty": 1, "samples": [["10\n0 1 0 2 1 2 0 0 2 0\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创"], "title": "低洼地", "background": "", "description": "一组数，分别表示地平线的高度变化。高度值为整数，相邻高度用直线连接。找出并统计有多少个可能积水的低洼地？\n\n如图：地高变化为 $[0,1,0,2,1,2,0,0,2,0]$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c1zyz8wu.png)\n\n", "inputFormat": "两行，第一行 $n,$ 表示有 $n$ 个数。第 $2$ 行连续 $n$ 个数表示地平线高度变化的数据，保证首尾为 $0$。$(3 \\le n \\le 10000,0 \\le $ 高度 $ \\le 1000)$。", "outputFormat": "一个数，可能积水低洼地的数目。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Depressions", "background": "", "description": "A sequence of numbers represents the ground profile’s elevation changes. The height values are integers, and adjacent heights are connected by straight line segments. Find and count how many low-lying depressions could hold water.\n\nAs shown: the elevation changes are $[0,1,0,2,1,2,0,0,2,0]$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c1zyz8wu.png)", "inputFormat": "Two lines.\n- Line 1: $n$, the number of heights.\n- Line 2: $n$ integers giving the ground profile heights, with the first and last equal to $0$. $(3 \\le n \\le 10000, 0 \\le$ height $\\le 1000)$.", "outputFormat": "A single integer: the number of depressions that can potentially hold water.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "低洼地", "background": "", "description": "一组数，分别表示地平线的高度变化。高度值为整数，相邻高度用直线连接。找出并统计有多少个可能积水的低洼地？\n\n如图：地高变化为 $[0,1,0,2,1,2,0,0,2,0]$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c1zyz8wu.png)\n\n", "inputFormat": "两行，第一行 $n,$ 表示有 $n$ 个数。第 $2$ 行连续 $n$ 个数表示地平线高度变化的数据，保证首尾为 $0$。$(3 \\le n \\le 10000,0 \\le $ 高度 $ \\le 1000)$。", "outputFormat": "一个数，可能积水低洼地的数目。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1318", "type": "P", "difficulty": 3, "samples": [["10\n0 1 0 2 1 2 0 0 2 0\n", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "单调栈"], "title": "积水面积", "background": "", "description": "一组正整数，分别表示由正方体叠起的柱子的高度。若某高度值为 $x$，表示由 $x$ 个正立方的方块叠起（如下图，$0 \\le x \\le 5000$）。找出所有可能积水的地方（图中蓝色部分），统计它们可能积水的面积总和（计算的是图中的横截面积。一个立方体的位置，为一个单位面积）。\n\n如图：柱子高度变化为 `0 1 0 2 1 2 0 0 2 0`。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8bu0hhke.png)\n\n图中蓝色部分为积水面积，共有 $6$ 个单位面积积水。", "inputFormat": "两行，第一行 $n$，表示有 $n$ 个数（$3 \\le n \\le 10000$）。第 $2$ 行连续 $n$ 个数表示依次由正方体叠起的高度，保证首尾为 $0$。", "outputFormat": "一个数，可能积水的面积。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Trapped Water Area", "background": "", "description": "A sequence of positive integers represents the heights of columns formed by stacking cubes. If a height value is $x$, it means $x$ unit cubes are stacked (as in the figure, $0 \\le x \\le 5000$). Find all positions where water can be trapped (the blue parts in the figure) and compute the total trapped area (this is the cross-sectional area in the figure. Each unit cube position corresponds to 1 unit area).\n\nExample: the column heights change as `0 1 0 2 1 2 0 0 2 0`.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8bu0hhke.png)\n\nThe blue parts in the figure are the trapped area, totaling $6$ unit areas.", "inputFormat": "Two lines. The first line contains $n$, the number of values ($3 \\le n \\le 10000$). The second line contains $n$ consecutive integers giving the heights of the stacked cubes in order, with the guarantee that the first and last values are $0$.", "outputFormat": "A single number: the total trapped area.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "积水面积", "background": "", "description": "一组正整数，分别表示由正方体叠起的柱子的高度。若某高度值为 $x$，表示由 $x$ 个正立方的方块叠起（如下图，$0 \\le x \\le 5000$）。找出所有可能积水的地方（图中蓝色部分），统计它们可能积水的面积总和（计算的是图中的横截面积。一个立方体的位置，为一个单位面积）。\n\n如图：柱子高度变化为 `0 1 0 2 1 2 0 0 2 0`。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8bu0hhke.png)\n\n图中蓝色部分为积水面积，共有 $6$ 个单位面积积水。", "inputFormat": "两行，第一行 $n$，表示有 $n$ 个数（$3 \\le n \\le 10000$）。第 $2$ 行连续 $n$ 个数表示依次由正方体叠起的高度，保证首尾为 $0$。", "outputFormat": "一个数，可能积水的面积。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1319", "type": "P", "difficulty": 1, "samples": [["7 3 1 6 1 6 4 3 1 6 1 6 1 3 7", "0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "洛谷原创"], "title": "压缩技术", "background": "", "description": "设某汉字由 $N \\times N$ 的 $\\texttt 0$ 和 $\\texttt 1$ 的点阵图案组成。\n\n我们依照以下规则生成压缩码。连续一组数值：从汉字点阵图案的第一行第一个符号开始计算，按书写顺序从左到右，由上至下。第一个数表示连续有几个 $\\texttt 0$，第二个数表示接下来连续有几个 $\\texttt 1$，第三个数再接下来连续有几个 $\\texttt 0$，第四个数接着连续几个 $\\texttt 1$，以此类推……\n\n例如: 以下汉字点阵图案：\n\n```\n0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n```\n\n对应的压缩码是： $\\texttt {7 3 1 6 1 6 4 3 1 6 1 6 1 3 7}$ （第一个数是 $N$ ,其余各位表示交替表示0和1 的个数，压缩码保证 $N \\times N=$ 交替的各位数之和）\n", "inputFormat": "数据输入一行，由空格隔开的若干个整数，表示压缩码。\n\n其中，压缩码的第一个数字就是 $N$，表示这个点阵应当是 $N\\times N$ 的大小。\n\n接下来的若干个数字，含义如题目描述所述。", "outputFormat": "输出一个 $N\\times N$ 的 01 矩阵，表示最后的汉字点阵图（点阵符号之间不留空格）。\n", "hint": "## 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rsx9qytk.png)\n\n## 数据范围\n\n数据保证，$3\\leq N\\leq 200$。", "locale": "zh-CN", "translations": {"en": {"title": "Compression Technique", "background": "", "description": "Suppose a Chinese character is represented by an $N \\times N$ dot-matrix pattern of $\\texttt 0$ and $\\texttt 1$.\n\nWe generate a compression code according to the following rule. A sequence of consecutive counts: start from the first symbol of the first row of the dot-matrix pattern, and scan in reading order, left to right and top to bottom. The first number is how many consecutive $\\texttt 0$ appear, the second number is how many consecutive $\\texttt 1$ appear next, the third number is how many consecutive $\\texttt 0$ appear next, the fourth number is how many consecutive $\\texttt 1$ appear next, and so on.\n\nFor example, the following dot-matrix pattern:\n\n```\n0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n```\n\ncorresponds to the compression code: $\\texttt {7 3 1 6 1 6 4 3 1 6 1 6 1 3 7}$ (the first number is $N$, the remaining numbers alternately denote the counts of 0 and 1. It is guaranteed that $N \\times N=$ the sum of those alternating counts).", "inputFormat": "The input is one line containing several integers separated by spaces, representing the compression code.\n\nAmong them, the first integer of the compression code is $N$, indicating that the dot matrix should be of size $N\\times N$.\n\nThe meanings of the remaining integers are as described in the problem statement.", "outputFormat": "Output an $N\\times N$ 01 matrix representing the final dot-matrix pattern of the character (do not print spaces between symbols).", "hint": "Sample Explanation\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rsx9qytk.png)\n\nConstraints\n\nIt is guaranteed that $3\\leq N\\leq 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "压缩技术", "background": "", "description": "设某汉字由 $N \\times N$ 的 $\\texttt 0$ 和 $\\texttt 1$ 的点阵图案组成。\n\n我们依照以下规则生成压缩码。连续一组数值：从汉字点阵图案的第一行第一个符号开始计算，按书写顺序从左到右，由上至下。第一个数表示连续有几个 $\\texttt 0$，第二个数表示接下来连续有几个 $\\texttt 1$，第三个数再接下来连续有几个 $\\texttt 0$，第四个数接着连续几个 $\\texttt 1$，以此类推……\n\n例如: 以下汉字点阵图案：\n\n```\n0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n```\n\n对应的压缩码是： $\\texttt {7 3 1 6 1 6 4 3 1 6 1 6 1 3 7}$ （第一个数是 $N$ ,其余各位表示交替表示0和1 的个数，压缩码保证 $N \\times N=$ 交替的各位数之和）\n", "inputFormat": "数据输入一行，由空格隔开的若干个整数，表示压缩码。\n\n其中，压缩码的第一个数字就是 $N$，表示这个点阵应当是 $N\\times N$ 的大小。\n\n接下来的若干个数字，含义如题目描述所述。", "outputFormat": "输出一个 $N\\times N$ 的 01 矩阵，表示最后的汉字点阵图（点阵符号之间不留空格）。\n", "hint": "## 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rsx9qytk.png)\n\n## 数据范围\n\n数据保证，$3\\leq N\\leq 200$。", "locale": "zh-CN"}}}
{"pid": "P1320", "type": "P", "difficulty": 1, "samples": [["0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n", "7 3 1 6 1 6 4 3 1 6 1 6 1 3 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "洛谷原创"], "title": "压缩技术（续集版）", "background": "", "description": "设某汉字由 $N \\times N$ 的 $\\texttt 0$ 和 $\\texttt 1$ 的点阵图案组成。\n\n我们依照以下规则生成压缩码。连续一组数值：从汉字点阵图案的第一行第一个符号开始计算，按书写顺序从左到右，由上至下。第一个数表示连续有几个 $\\texttt 0$，第二个数表示接下来连续有几个 $\\texttt 1$，第三个数再接下来连续有几个 $\\texttt 0$，第四个数接着连续几个 $\\texttt 1$，以此类推……\n\n例如: 以下汉字点阵图案：\n\n```\n0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n```\n\n对应的压缩码是： $\\texttt {7 3 1 6 1 6 4 3 1 6 1 6 1 3 7}$ （第一个数是 $N$，其余各位表示交替表示 $\\tt 0$ 和 $\\tt 1$ 的个数，压缩码保证 $N \\times N=$ 交替的各位数之和）\n", "inputFormat": "汉字点阵图（点阵符号之间不留空格）。\n", "outputFormat": "输出一行，压缩码。\n", "hint": "数据保证，$3\\leq N\\leq 200$。", "locale": "zh-CN", "translations": {"en": {"title": "Compression Technology (Sequel Edition)", "background": "", "description": "Suppose a Chinese character is composed of an $N \\times N$ dot-matrix pattern of $\\texttt 0$ and $\\texttt 1$.\n\nWe generate a compression code according to the following rule. It is a sequence of consecutive counts: starting from the first symbol of the first row of the dot-matrix pattern, scan in writing order, left to right, top to bottom. The first number gives how many consecutive $\\texttt 0$ there are, the second number gives how many consecutive $\\texttt 1$ follow, the third number gives how many consecutive $\\texttt 0$ follow, the fourth number gives how many consecutive $\\texttt 1$ follow, and so on...\n\nFor example, the following dot-matrix pattern:\n\n```\n0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n```\n\nThe corresponding compression code is: $\\texttt {7 3 1 6 1 6 4 3 1 6 1 6 1 3 7}$ (the first number is $N$, and the remaining numbers alternately give the counts of $\\tt 0$ and $\\tt 1$; the compression code guarantees $N \\times N=$ the sum of these alternating counts).", "inputFormat": "The character’s dot-matrix (no spaces between symbols).", "outputFormat": "Output one line, the compression code.", "hint": "It is guaranteed that $3 \\leq N \\leq 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "压缩技术（续集版）", "background": "", "description": "设某汉字由 $N \\times N$ 的 $\\texttt 0$ 和 $\\texttt 1$ 的点阵图案组成。\n\n我们依照以下规则生成压缩码。连续一组数值：从汉字点阵图案的第一行第一个符号开始计算，按书写顺序从左到右，由上至下。第一个数表示连续有几个 $\\texttt 0$，第二个数表示接下来连续有几个 $\\texttt 1$，第三个数再接下来连续有几个 $\\texttt 0$，第四个数接着连续几个 $\\texttt 1$，以此类推……\n\n例如: 以下汉字点阵图案：\n\n```\n0001000\n0001000\n0001111\n0001000\n0001000\n0001000\n1111111\n```\n\n对应的压缩码是： $\\texttt {7 3 1 6 1 6 4 3 1 6 1 6 1 3 7}$ （第一个数是 $N$，其余各位表示交替表示 $\\tt 0$ 和 $\\tt 1$ 的个数，压缩码保证 $N \\times N=$ 交替的各位数之和）\n", "inputFormat": "汉字点阵图（点阵符号之间不留空格）。\n", "outputFormat": "输出一行，压缩码。\n", "hint": "数据保证，$3\\leq N\\leq 200$。", "locale": "zh-CN"}}}
