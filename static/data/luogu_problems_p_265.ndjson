{"pid": "P6362", "type": "P", "difficulty": 7, "samples": [["4\n0 0\n1 2\n-1 2\n0 4", "6.472136"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["计算几何", "Special Judge", "O2优化", "分治", "生成树", "凸包"], "title": "平面欧几里得最小生成树", "background": "2025/06/13 @[ケロシ](https://www.luogu.com.cn/user/511639) 加入十组 hack 数据，位于 Subtask 1。", "description": "平面上有 $n$ 个点，第 $i$ 个点坐标为 $(x_i, y_i)$。连接 $i, j$ 两点的边权为 $\\sqrt{(x_i - x_j) ^ 2 + (y_i - y_j) ^ 2}$。求最小生成树的边权之和。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示答案。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$  内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n该样例中，最小生成树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p0dtxt2l.png)\n\n边权之和为 $2 \\sqrt{5} + 2 \\approx 6.47213595500$。\n\n---\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n \\le 5000$。\n- 对于 $100\\%$ 的数据，$3 \\le n \\le 10 ^ 5$，$\\lvert x_i \\rvert, \\lvert y_i \\rvert \\le 10 ^ 5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "平面欧几里得最小生成树", "background": "2025/06/13 @[ケロシ](https://www.luogu.com.cn/user/511639) 加入十组 hack 数据，位于 Subtask 1。", "description": "平面上有 $n$ 个点，第 $i$ 个点坐标为 $(x_i, y_i)$。连接 $i, j$ 两点的边权为 $\\sqrt{(x_i - x_j) ^ 2 + (y_i - y_j) ^ 2}$。求最小生成树的边权之和。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示答案。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$  内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n该样例中，最小生成树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p0dtxt2l.png)\n\n边权之和为 $2 \\sqrt{5} + 2 \\approx 6.47213595500$。\n\n---\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n \\le 5000$。\n- 对于 $100\\%$ 的数据，$3 \\le n \\le 10 ^ 5$，$\\lvert x_i \\rvert, \\lvert y_i \\rvert \\le 10 ^ 5$。", "locale": "zh-CN"}}}
{"pid": "P6363", "type": "P", "difficulty": 2, "samples": [["6 3\n70 A\n80 A\n65 B\n95 B\n85 C\n90 C\n70 90 100\n95 88 85\n30 47 100", "93 B\n92 C\n89 C\n76 A\n75 B\n70 A"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 软件工程实习", "background": "", "description": "某大学的《软件工程》必修课分为理论和实践部分。理论部分由该校教授完成授课；而实践部分是由第三方的公司主导，需要同学们在五周时间内自学 HTML、css、JavaScript、vue、Python、django 等技术，并组队完成一个真实的互联网商业应用。\n\n参与这个课程的有 $n(0\\le n \\le 1000)$ 个学生，分成了不超过 $26$ 个队伍，每个队伍用 `A` 到 `Z` 来表示。每个队伍都会完成一个项目，并以队伍为单位，给所有队伍（包括自己队伍）打分，范围是 $0$ 到 $100$ 的整数。\n\n为了平息学生对这门课产生的出多问题的不满（比如工作量太大、时间过于紧张、考核方式不公平等），老师决定使用一种“看起来”很公平的方式来决定每组队伍的项目得分：\n\n对于某个队伍，首先计算所有队伍（包括自己）给这个队伍评分的平均值，然后剔除掉和这个平均值差别超过 $15$ 分的评分（保证不会出现所有的评分全部被剔除的情况），最后再对剩余的评分求平均值，四舍五入取整后作为这个队伍的项目得分。\n\n对于每一个同学，我们已经得知他们的队伍代号和理论成绩（也是 $0$ 到 $100$ 分的整数）。这位同学的最后得分就是 $60\\%$ 的理论成绩加上 $40\\%$ 的所在队伍的项目得分，然后四舍五入取整。\n\n现在老师想知道所有同学的分数排行。请按最后得分从高到低的顺序，输出每位同学的得分和他所在的队伍。", "inputFormat": "第一行两个整数 $n$ 和 $k$，分别表示学生数和队伍数。\n\n接下来 $n$ 行，每行一个整数 $s_i$ 和一个大写字母 $c_i$，表示第 $i$ 个选手的理论分数和队伍编号。保证队伍编号范围是从 `A` 开始后连续 $k$ 个字母中的一个。\n\n接下来 $k$ 行，每行 $k$ 个整数。其中第 $i$ 行第 $j$ 列的整数 $a_{i,j}$ 表示第 $i$ 个队伍给第 $j$ 个队伍的评分，当 $i=j$ 时，就是自评。", "outputFormat": "输出 $n$ 行表示答案，得分高的同学优先输出，得分相同时队伍编号较小的同学优先输出。对于每一行，先输出这位同学成绩，然后输出代表他的队伍编号的大写英文字母。", "hint": "A 组收到的分数分别是 $70,95,30$，其平均分为 $65$，则 $95,30$  被作为无效成绩剔除，因此 A 组的项目得分是 $70$ 分。  \nB 组收到的分数分别是 $90,88,47$，其平均分为 $75$，则 $47$  被作为无效成绩剔除，因此 B 组的项目得分是 $89$ 分。  \nC 组收到的分数分别是 $100,85,100$，其平均分为 $95$，没有打分被剔除，因此 C 组的项目得分是 $95$ 分。  \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 软件工程实习", "background": "", "description": "某大学的《软件工程》必修课分为理论和实践部分。理论部分由该校教授完成授课；而实践部分是由第三方的公司主导，需要同学们在五周时间内自学 HTML、css、JavaScript、vue、Python、django 等技术，并组队完成一个真实的互联网商业应用。\n\n参与这个课程的有 $n(0\\le n \\le 1000)$ 个学生，分成了不超过 $26$ 个队伍，每个队伍用 `A` 到 `Z` 来表示。每个队伍都会完成一个项目，并以队伍为单位，给所有队伍（包括自己队伍）打分，范围是 $0$ 到 $100$ 的整数。\n\n为了平息学生对这门课产生的出多问题的不满（比如工作量太大、时间过于紧张、考核方式不公平等），老师决定使用一种“看起来”很公平的方式来决定每组队伍的项目得分：\n\n对于某个队伍，首先计算所有队伍（包括自己）给这个队伍评分的平均值，然后剔除掉和这个平均值差别超过 $15$ 分的评分（保证不会出现所有的评分全部被剔除的情况），最后再对剩余的评分求平均值，四舍五入取整后作为这个队伍的项目得分。\n\n对于每一个同学，我们已经得知他们的队伍代号和理论成绩（也是 $0$ 到 $100$ 分的整数）。这位同学的最后得分就是 $60\\%$ 的理论成绩加上 $40\\%$ 的所在队伍的项目得分，然后四舍五入取整。\n\n现在老师想知道所有同学的分数排行。请按最后得分从高到低的顺序，输出每位同学的得分和他所在的队伍。", "inputFormat": "第一行两个整数 $n$ 和 $k$，分别表示学生数和队伍数。\n\n接下来 $n$ 行，每行一个整数 $s_i$ 和一个大写字母 $c_i$，表示第 $i$ 个选手的理论分数和队伍编号。保证队伍编号范围是从 `A` 开始后连续 $k$ 个字母中的一个。\n\n接下来 $k$ 行，每行 $k$ 个整数。其中第 $i$ 行第 $j$ 列的整数 $a_{i,j}$ 表示第 $i$ 个队伍给第 $j$ 个队伍的评分，当 $i=j$ 时，就是自评。", "outputFormat": "输出 $n$ 行表示答案，得分高的同学优先输出，得分相同时队伍编号较小的同学优先输出。对于每一行，先输出这位同学成绩，然后输出代表他的队伍编号的大写英文字母。", "hint": "A 组收到的分数分别是 $70,95,30$，其平均分为 $65$，则 $95,30$  被作为无效成绩剔除，因此 A 组的项目得分是 $70$ 分。  \nB 组收到的分数分别是 $90,88,47$，其平均分为 $75$，则 $47$  被作为无效成绩剔除，因此 B 组的项目得分是 $89$ 分。  \nC 组收到的分数分别是 $100,85,100$，其平均分为 $95$，没有打分被剔除，因此 C 组的项目得分是 $95$ 分。  \n", "locale": "zh-CN"}}}
{"pid": "P6364", "type": "P", "difficulty": 2, "samples": [["5\n3 4 5 4 3", "9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 1024 程序员节发橙子", "background": "", "description": "每年的 1024 程序员节日，黑马程序员都会举办大型的庆祝活动。今年的程序员节也不例外，每个班级的同学都发了橙子。\n\n班级里有 $n$ 名同学从前到后排成一排，且已经得知了这些同学的成绩，其中第 $i$ 名同学的成绩是 $a_i$。班主任想根据同学们上个阶段的考试成绩来评定发橙子的数量。为了激励成绩优秀同学，发橙子时需要满足如下要求：\n\n- 相邻同学中成绩好的同学的橙子必须更多。若相邻的同学成绩一样，则它们分到的数量必须平等。\n- 每个同学至少分配一个橙子\n\n由于预算有限，班主任希望在符合要求的情况下发出尽可能少的橙子。请问，至少需要准备多少橙子呢？", "inputFormat": "第一行是一个整数 $n$，表示学生数量。\n\n接下来一行有 $n$ 个整数，第 $i$ 个整数 $a_i$，表示第 $i$ 个同学的成绩。", "outputFormat": "输出答案，也就是需要最少准备多少个橙子。", "hint": "#### 样例 1 解释\n\n每位同学拿到的橙子的数量分别是 $1,2,3,2,1$，所以至少需要准备 $9$ 个。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^6$，$0 \\leq a_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 1024 程序员节发橙子", "background": "", "description": "每年的 1024 程序员节日，黑马程序员都会举办大型的庆祝活动。今年的程序员节也不例外，每个班级的同学都发了橙子。\n\n班级里有 $n$ 名同学从前到后排成一排，且已经得知了这些同学的成绩，其中第 $i$ 名同学的成绩是 $a_i$。班主任想根据同学们上个阶段的考试成绩来评定发橙子的数量。为了激励成绩优秀同学，发橙子时需要满足如下要求：\n\n- 相邻同学中成绩好的同学的橙子必须更多。若相邻的同学成绩一样，则它们分到的数量必须平等。\n- 每个同学至少分配一个橙子\n\n由于预算有限，班主任希望在符合要求的情况下发出尽可能少的橙子。请问，至少需要准备多少橙子呢？", "inputFormat": "第一行是一个整数 $n$，表示学生数量。\n\n接下来一行有 $n$ 个整数，第 $i$ 个整数 $a_i$，表示第 $i$ 个同学的成绩。", "outputFormat": "输出答案，也就是需要最少准备多少个橙子。", "hint": "#### 样例 1 解释\n\n每位同学拿到的橙子的数量分别是 $1,2,3,2,1$，所以至少需要准备 $9$ 个。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^6$，$0 \\leq a_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6365", "type": "P", "difficulty": 3, "samples": [["4\n21 9\n28 9\n28 3\n17 4", "21"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 众数出现的次数", "background": "", "description": "传智专修学员的课堂上，为了活跃气氛，并巩固位运算的知识，同学们玩起了一个游戏。\n\n班级里有 $n(n\\le10^6)$ 名同学，每位同学都获得了两张卡，红卡或者黑卡。每张卡上都有一个不超过 $10^9$ 的非负整数。第 $i$ 位同学手里红卡数字是 $a_i$ ，黑卡数字是 $b_i$。\n\n现在需要每位同学出牌。每位同学可以直接将红卡上的数字打出，或者将自己的红卡上的数字和自己黑卡数字进行按位异或操作后的结果打出。最后老师会收集所有同学打出的数字。\n\n这些数字中出现次数最多的数字是众数。在所有同学合作的最优策略下，我们希望众数对应数字出现的次数尽可能多。请问出现次数最多的数字是多少呢？", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，其中第 $i$ 行时非负整数 $a_i,b_i$ 代表第 $i$ 名同学手上红卡和黑卡的数字。", "outputFormat": "一个整数，表示答案。如果有多个解，请输出最小的那个。", "hint": "样例解释：\n\n众数出现次数最多是 $3$ 次，有如下两种方法：\n\n- $1$ 号同学直接出红卡，$2$ 号同学出红黑异或，$3$ 号同学随便出，$4$ 号同学出红黑异或。这样 $1,2,4$ 号同学都可以打出 $21$。\n- $1$ 号同学出红黑异或，$2$ 号同学直接出红卡，$3$ 号同学直接出红卡，$4$ 号同学随便出。这样 $1,2,3$ 号同学都可以打出 $28$。\n\n所以 $21$ 和 $28$ 都是出现次数最多的众数，因为最多可以出现 $3$ 次，不存在出现 $4$ 次的方案。但是由于要求如果有多解输出小的，请输出 $21$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 众数出现的次数", "background": "", "description": "传智专修学员的课堂上，为了活跃气氛，并巩固位运算的知识，同学们玩起了一个游戏。\n\n班级里有 $n(n\\le10^6)$ 名同学，每位同学都获得了两张卡，红卡或者黑卡。每张卡上都有一个不超过 $10^9$ 的非负整数。第 $i$ 位同学手里红卡数字是 $a_i$ ，黑卡数字是 $b_i$。\n\n现在需要每位同学出牌。每位同学可以直接将红卡上的数字打出，或者将自己的红卡上的数字和自己黑卡数字进行按位异或操作后的结果打出。最后老师会收集所有同学打出的数字。\n\n这些数字中出现次数最多的数字是众数。在所有同学合作的最优策略下，我们希望众数对应数字出现的次数尽可能多。请问出现次数最多的数字是多少呢？", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，其中第 $i$ 行时非负整数 $a_i,b_i$ 代表第 $i$ 名同学手上红卡和黑卡的数字。", "outputFormat": "一个整数，表示答案。如果有多个解，请输出最小的那个。", "hint": "样例解释：\n\n众数出现次数最多是 $3$ 次，有如下两种方法：\n\n- $1$ 号同学直接出红卡，$2$ 号同学出红黑异或，$3$ 号同学随便出，$4$ 号同学出红黑异或。这样 $1,2,4$ 号同学都可以打出 $21$。\n- $1$ 号同学出红黑异或，$2$ 号同学直接出红卡，$3$ 号同学直接出红卡，$4$ 号同学随便出。这样 $1,2,3$ 号同学都可以打出 $28$。\n\n所以 $21$ 和 $28$ 都是出现次数最多的众数，因为最多可以出现 $3$ 次，不存在出现 $4$ 次的方案。但是由于要求如果有多解输出小的，请输出 $21$。", "locale": "zh-CN"}}}
{"pid": "P6366", "type": "P", "difficulty": 4, "samples": [["15", "3"], ["FF", "3"], ["10", "No"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 特殊的翻转", "background": "", "description": "k 老师在研究一段病毒程序的代码。这段代码是由一段长度不超过 $10^6$ 的十六进制字符（也就是 `0` 到 `9` 和 `A` 到 `F`）组成的信息。现在 k 老师要将其转换为二进制的 0/1 串（这个时候需要确保最高位是 1）。然后对这个 0/1 串进行“翻转”操作。\n\n对于每次“翻转”操作，k 老师可以选择这个 0/1 串中的其中一位，将这一位和这一位相邻的两位，一共三位，分别进行“翻转”（也就是 0 变 1，1 变 0）。如果指定的这一位是序列的开头或者结尾，那么翻转这一位和存在的相邻位即可。\n\nk 老师想知道，如何用最少的“翻转”步骤，将这个 0/1 串变为全 0 的串。", "inputFormat": "一个十六进制的字符串，由 `0` 到 `9` 和 `A` 到 `F` 构成。", "outputFormat": "最少能将其变为全 0 串需要的“翻转”步骤次数。如果无论如何都不能将其变为全 0 串，则输出 `No`。", "hint": "样例解释：\n\n十六进制的 15 对应二进制的 10101，翻转第 1/3/5 位，就可以全部变为 0。\n\n十六进制的 FF 对应二进制的 11111111，翻转第 2/5/8 位，就可以全部变为 0。\n\n十六进制的 10 对应二进制的 10000，无法全变为 0。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 特殊的翻转", "background": "", "description": "k 老师在研究一段病毒程序的代码。这段代码是由一段长度不超过 $10^6$ 的十六进制字符（也就是 `0` 到 `9` 和 `A` 到 `F`）组成的信息。现在 k 老师要将其转换为二进制的 0/1 串（这个时候需要确保最高位是 1）。然后对这个 0/1 串进行“翻转”操作。\n\n对于每次“翻转”操作，k 老师可以选择这个 0/1 串中的其中一位，将这一位和这一位相邻的两位，一共三位，分别进行“翻转”（也就是 0 变 1，1 变 0）。如果指定的这一位是序列的开头或者结尾，那么翻转这一位和存在的相邻位即可。\n\nk 老师想知道，如何用最少的“翻转”步骤，将这个 0/1 串变为全 0 的串。", "inputFormat": "一个十六进制的字符串，由 `0` 到 `9` 和 `A` 到 `F` 构成。", "outputFormat": "最少能将其变为全 0 串需要的“翻转”步骤次数。如果无论如何都不能将其变为全 0 串，则输出 `No`。", "hint": "样例解释：\n\n十六进制的 15 对应二进制的 10101，翻转第 1/3/5 位，就可以全部变为 0。\n\n十六进制的 FF 对应二进制的 11111111，翻转第 2/5/8 位，就可以全部变为 0。\n\n十六进制的 10 对应二进制的 10000，无法全变为 0。\n", "locale": "zh-CN"}}}
{"pid": "P6367", "type": "P", "difficulty": 1, "samples": [["4\nmirko\nstanko\nstanko\nstanko\n", "1"], ["17\na\nb\nb\na\na\na\nc\na\nb\nb\nc\nb\nb\nb\nb\nb\nb\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] PRASE", "background": "", "description": "孩子们正在餐桌旁吃午餐，共有 $n$ 份食物，孩子们会按照从 $1$ 至 $n$ 的顺序依次取走这 $n$ 份食物。\n\n当某个孩子取走了一份食物时，如果这个他之前已经取走的食物份数（不包括当前这一份）比其他人取走的食物份数之和还要多，那么他的妈妈就会提醒他注意自己不礼貌的行为。注意，虽然被妈妈提醒了，但是他仍然会取走这份食物。换句话说，妈妈的提醒对孩子的行为没有任何影响。\n\n给定 $n$ 份食物分别被哪个孩子取走了，请求出妈妈们一共提醒了多少次。", "inputFormat": "第一行是一个整数，代表食物的份数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个字符串，第 $(i + 1)$ 行的字符串 $s_i$ 表示取走第 $i$ 份食物的孩子的名字。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n当取到第 $3$ 份食物时，stanko 已取走的食物（不包括当前这份）的份数是一份，而其他人也总共取走了一份，所以 stanko 的妈妈不会提醒他注意礼貌。\n\n当取到第 $4$ 份食物时，stanko 已经取走两份食物，其他人总共取走了一份食物，因此妈妈会提醒他。\n\n---\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$\n- $1 \\leq |s_i| \\leq 20$，$s_i$ 中只含小写英文字母。$|s_i|$ 表示字符串 $s_i$ 的长度。\n\n---\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T1  PRASE***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2006/2007 #6] PRASE", "background": "", "description": "Children are having lunch at the table. There are $n$ portions of food, and the children take these $n$ portions one by one in order from $1$ to $n$.\n\nWhen a child takes a portion, if the number of portions he has already taken before this moment (excluding the current portion) is greater than the total number of portions taken by all other children, then his mom will remind him to mind his manners. Note that even if he is reminded, he will still take this portion. In other words, the reminder does not affect the child's behavior.\n\nGiven which child takes each of the $n$ portions, determine the total number of reminders given by the moms.", "inputFormat": "The first line contains an integer $n$, the number of portions.\n\nLines $2$ to $n + 1$: each line contains a string. The string on the $(i + 1)$-th line, $s_i$, is the name of the child who takes the $i$-th portion.", "outputFormat": "Output a single integer: the answer.", "hint": "#### Sample 1 Explanation\n\nWhen the $3$rd portion is taken, stanko has previously taken $1$ portion (excluding the current one), and the others have also taken $1$ portion in total, so stanko’s mom does not remind him.\n\nWhen the $4$th portion is taken, stanko has already taken $2$ portions, while the others have taken $1$ portion in total, so his mom reminds him.\n\n---\n\n#### Constraints\n\nFor all test cases, it is guaranteed that:\n- $1 \\leq n \\leq 100$.\n- $1 \\leq |s_i| \\leq 20$, and $s_i$ contains only lowercase English letters. $|s_i|$ denotes the length of the string.\n\n---\n\n#### Note\n\nProblem translated from [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T1 PRASE*.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #6] PRASE", "background": "", "description": "孩子们正在餐桌旁吃午餐，共有 $n$ 份食物，孩子们会按照从 $1$ 至 $n$ 的顺序依次取走这 $n$ 份食物。\n\n当某个孩子取走了一份食物时，如果这个他之前已经取走的食物份数（不包括当前这一份）比其他人取走的食物份数之和还要多，那么他的妈妈就会提醒他注意自己不礼貌的行为。注意，虽然被妈妈提醒了，但是他仍然会取走这份食物。换句话说，妈妈的提醒对孩子的行为没有任何影响。\n\n给定 $n$ 份食物分别被哪个孩子取走了，请求出妈妈们一共提醒了多少次。", "inputFormat": "第一行是一个整数，代表食物的份数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个字符串，第 $(i + 1)$ 行的字符串 $s_i$ 表示取走第 $i$ 份食物的孩子的名字。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n当取到第 $3$ 份食物时，stanko 已取走的食物（不包括当前这份）的份数是一份，而其他人也总共取走了一份，所以 stanko 的妈妈不会提醒他注意礼貌。\n\n当取到第 $4$ 份食物时，stanko 已经取走两份食物，其他人总共取走了一份食物，因此妈妈会提醒他。\n\n---\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$\n- $1 \\leq |s_i| \\leq 20$，$s_i$ 中只含小写英文字母。$|s_i|$ 表示字符串 $s_i$ 的长度。\n\n---\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T1  PRASE***。", "locale": "zh-CN"}}}
{"pid": "P6368", "type": "P", "difficulty": 2, "samples": [["2 2\n#.\n.#\n3 3\n", "#..#\n.##.\n.#..\n#..#"], ["3 3\n###\n###\n###\n1 4\n", "###.##\n######\n######\n######\n######\n######"], ["5 4\n#.#.\n#.##\n#.##\n....\n.#.#\n10 5\n", "#.#..#.#\n#.####.#\n#.####.#\n........\n.#.##.#.\n.#.##.#.\n........\n#.####.#\n#.####.#\n#.#.##.#"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] MAGIJA", "background": "知名魔术师 Al'Dimi Kartimi 需要你帮助他来设计他扑克牌的背面图案。", "description": "众所周知，扑克牌的背面是一个矩形，通过做两边的中垂线可以将矩形分成相等的四部分。\n\nAl'Dimi Kartimi 首先绘制了左上角部分的图案，图案共有 $r$ 行 $m$ 列，由字符 `#` 和字符 `.` 组成。绘制完后，他将该图案沿矩形垂直方向的中垂线镜面对称地绘制了矩形右上角的部分。然后他沿矩形水平方向的中垂线镜面对称地绘制了矩形的下半部分。\n\n在绘制后，Al'Dimi Kartimi 会故意犯一个小错误，以此来帮助他识别这是哪张扑克牌的背面。具体的，他会选择第 $x$ 行第 $y$ 列的字符，若该字符是 `#`，则将其改成 `.`，否则将其改成 `#`。\n\n下面是三个背面图案的例子（错误的字符以灰色高亮）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p7lah31.png)\n\n给定左上角的图案以及 $x, y$，请输出整张扑克牌背面的图案。", "inputFormat": "第一行有两个整数，分别表示左上角图案的行数 $r$ 和列数 $c$。\n\n第 $2$ 到第 $(r + 1)$ 行，每行一个长度为 $c$ 的字符串，第 $(i + 1)$ 行的第 $j$ 个字符 $s_{i, j}$ 表示图案第 $i$ 行第 $j$ 列的字符。\n\n第 $(r + 2)$ 行有两个整数，分别表示小错误所在的行数 $x$ 和列数 $y$。", "outputFormat": "输出 $2r$ 行，每行一个长度为 $2c$ 的字符串，表示整个背面的图案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq r, c \\leq 50$。\n- $1 \\leq x \\leq 2r$，$1 \\leq y \\leq 2c$。\n- $s_{i, j} \\in \\{\\texttt \\#, \\texttt . \\}$\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T2   MAGIJA***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2006/2007 #6] MAGIJA", "background": "The famous magician Al'Dimi Kartimi needs your help to design the back pattern of his playing cards.", "description": "As we all know, the back of a playing card is a rectangle. By drawing the perpendicular bisectors of its two sides, the rectangle can be divided into four equal parts.\n\nAl'Dimi Kartimi first draws the pattern in the upper-left part. The pattern has $r$ rows and $c$ columns, and consists of the characters `#` and `.`. After finishing, he mirrors this pattern across the vertical midline of the rectangle to draw the upper-right part. Then he mirrors the entire upper half across the horizontal midline to draw the lower half.\n\nAfter drawing, Al'Dimi Kartimi will intentionally make a small mistake so that he can identify which card back it is. Specifically, he chooses the character in row $x$, column $y$: if it is `#`, he changes it to `.`, otherwise he changes it to `#`.\n\nBelow are three examples of card back patterns (the wrong character is highlighted in gray).\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p7lah31.png)\n\nGiven the upper-left pattern and $x, y$, output the full pattern of the entire card back.", "inputFormat": "The first line contains two integers, representing the number of rows $r$ and the number of columns $c$ of the upper-left pattern.\n\nLines $2$ to $(r + 1)$ each contain a string of length $c$. The $j$-th character $s_{i, j}$ in line $(i + 1)$ represents the character in row $i$, column $j$ of the pattern.\n\nLine $(r + 2)$ contains two integers, representing the row $x$ and column $y$ of the small mistake.", "outputFormat": "Output $2r$ lines, each a string of length $2c$, representing the full back pattern.", "hint": "#### Constraints\n\nFor all test cases, it is guaranteed that:\n\n- $1 \\leq r, c \\leq 50$.\n- $1 \\leq x \\leq 2r$, $1 \\leq y \\leq 2c$.\n- $s_{i, j} \\in \\{\\texttt \\#, \\texttt . \\}$\n\n#### Notes\n\n**This problem is translated from [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T2   MAGIJA***。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #6] MAGIJA", "background": "知名魔术师 Al'Dimi Kartimi 需要你帮助他来设计他扑克牌的背面图案。", "description": "众所周知，扑克牌的背面是一个矩形，通过做两边的中垂线可以将矩形分成相等的四部分。\n\nAl'Dimi Kartimi 首先绘制了左上角部分的图案，图案共有 $r$ 行 $m$ 列，由字符 `#` 和字符 `.` 组成。绘制完后，他将该图案沿矩形垂直方向的中垂线镜面对称地绘制了矩形右上角的部分。然后他沿矩形水平方向的中垂线镜面对称地绘制了矩形的下半部分。\n\n在绘制后，Al'Dimi Kartimi 会故意犯一个小错误，以此来帮助他识别这是哪张扑克牌的背面。具体的，他会选择第 $x$ 行第 $y$ 列的字符，若该字符是 `#`，则将其改成 `.`，否则将其改成 `#`。\n\n下面是三个背面图案的例子（错误的字符以灰色高亮）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p7lah31.png)\n\n给定左上角的图案以及 $x, y$，请输出整张扑克牌背面的图案。", "inputFormat": "第一行有两个整数，分别表示左上角图案的行数 $r$ 和列数 $c$。\n\n第 $2$ 到第 $(r + 1)$ 行，每行一个长度为 $c$ 的字符串，第 $(i + 1)$ 行的第 $j$ 个字符 $s_{i, j}$ 表示图案第 $i$ 行第 $j$ 列的字符。\n\n第 $(r + 2)$ 行有两个整数，分别表示小错误所在的行数 $x$ 和列数 $y$。", "outputFormat": "输出 $2r$ 行，每行一个长度为 $2c$ 的字符串，表示整个背面的图案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq r, c \\leq 50$。\n- $1 \\leq x \\leq 2r$，$1 \\leq y \\leq 2c$。\n- $s_{i, j} \\in \\{\\texttt \\#, \\texttt . \\}$\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T2   MAGIJA***。", "locale": "zh-CN"}}}
{"pid": "P6369", "type": "P", "difficulty": 2, "samples": [["3\nXOC\nXOC\nX..", "X"], ["4\n....\n..A.\nAAB.\n.B.B", "ongoing"], ["3\nABB\nAAA\nBBA", "A"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] MARATON", "background": "", "description": "给定一个 $n\\times n$ 的正方形棋盘，几位玩家在上面玩三子棋。\n\n三子棋的规则是每位玩家轮流写下一个字母，同一名玩家的字母相同。当有一名玩家在行、列或者斜线上连续组成了 $3$ 个自己的字母时，即为获胜。\n\n给定棋盘的当前状态，请找出获胜的玩家。\n", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行 $n$ 个字符，可能为大写字母或 `.`（表示没人在这下棋）。", "outputFormat": "输出一行一个大小字母，表示获胜的玩家所写的那种字母。\n\n如果没有人获胜，则输出 `ongoing`。\n\n数据保证最多只有一个人获胜。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 30$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T3 MARATON***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] MARATON", "background": "", "description": "给定一个 $n\\times n$ 的正方形棋盘，几位玩家在上面玩三子棋。\n\n三子棋的规则是每位玩家轮流写下一个字母，同一名玩家的字母相同。当有一名玩家在行、列或者斜线上连续组成了 $3$ 个自己的字母时，即为获胜。\n\n给定棋盘的当前状态，请找出获胜的玩家。\n", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行 $n$ 个字符，可能为大写字母或 `.`（表示没人在这下棋）。", "outputFormat": "输出一行一个大小字母，表示获胜的玩家所写的那种字母。\n\n如果没有人获胜，则输出 `ongoing`。\n\n数据保证最多只有一个人获胜。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 30$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T3 MARATON***。", "locale": "zh-CN"}}}
{"pid": "P6370", "type": "P", "difficulty": 4, "samples": [["5 4\n....\n....\nX...\n....\n....\n4\n1\n1\n1\n1", "....\nO...\nX...\n....\nOOO."], ["7 6\n......\n......\n...XX.\n......\n......\n.XX...\n......\n6\n1\n4\n4\n6\n4\n4", "......\n...O..\n...XX.\n......\n.OO...\n.XX...\nO..O.O"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["模拟", "2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] KAMEN", "background": "", "description": "在一个 $r\\times c$ 的方阵里，有些点是 `.`，表示为空；有些点是 `X`，表示这里是一堵墙。\n\n我们可以认为这个方阵在竖直方向放置。\n\n有一个人在这 $c$ 列的第一行会抛下 $n$ 块石头，用 `O` 来表示。如果这一个石头由于重力作用会向下滚动。具体来说，就是会从第一行向最后一行滚动，规则如下：\n\n- 如果下一个格子是空格，那么向下运动一格。\n- 如果下一个格子是墙或者已经到了第 $r$ 行，则停止滚动并停在原处。\n- 如果下一个格子是一块停止的石头，则如果在左侧和左下方为空格时首选滚动到左侧的那一行，否则如果右侧和右下方为空格，则滚动到右侧的那一行。如果两侧都不为空，则石头静止不在移动。\n\n只有前一块石头永久静止后，下一块石头才会被抛下。\n\n请你输出最终方阵的状态。\n\n\n", "inputFormat": "输入第一行为两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个字符，每个字符可能为 `.` 或 `X`。\n\n下一行为一个整数 $n$，表示石头的数量。\n\n接下来的 $n$ 行，每行一个整数 $1\\le x\\le c$，表示这个石头位于第 $x$ 列被抛下，按照输入顺序依次抛下。", "outputFormat": "输出一个 $r\\times c$ 的方阵，包含 `.` `X` `O`，为最终石头都抛完后的状态。", "hint": "#### 样例 1 解释\n\n$4$ 块石头依次在第一列被抛下。第一块石头被唯一一堵墙堵住。这样剩下的石头都可以向右滚动一列。第二块石头毫无障碍地下落，第三四块分别落在了它的左边和右边。\n\n#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，保证 $r\\le 30$。\n- 对于 $100\\%$ 的数据，保证 $1\\le r\\le 3\\times 10^4$，$1\\le c\\le 30$，$1\\le n\\le 10^5$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T4 KAMEN***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] KAMEN", "background": "", "description": "在一个 $r\\times c$ 的方阵里，有些点是 `.`，表示为空；有些点是 `X`，表示这里是一堵墙。\n\n我们可以认为这个方阵在竖直方向放置。\n\n有一个人在这 $c$ 列的第一行会抛下 $n$ 块石头，用 `O` 来表示。如果这一个石头由于重力作用会向下滚动。具体来说，就是会从第一行向最后一行滚动，规则如下：\n\n- 如果下一个格子是空格，那么向下运动一格。\n- 如果下一个格子是墙或者已经到了第 $r$ 行，则停止滚动并停在原处。\n- 如果下一个格子是一块停止的石头，则如果在左侧和左下方为空格时首选滚动到左侧的那一行，否则如果右侧和右下方为空格，则滚动到右侧的那一行。如果两侧都不为空，则石头静止不在移动。\n\n只有前一块石头永久静止后，下一块石头才会被抛下。\n\n请你输出最终方阵的状态。\n\n\n", "inputFormat": "输入第一行为两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个字符，每个字符可能为 `.` 或 `X`。\n\n下一行为一个整数 $n$，表示石头的数量。\n\n接下来的 $n$ 行，每行一个整数 $1\\le x\\le c$，表示这个石头位于第 $x$ 列被抛下，按照输入顺序依次抛下。", "outputFormat": "输出一个 $r\\times c$ 的方阵，包含 `.` `X` `O`，为最终石头都抛完后的状态。", "hint": "#### 样例 1 解释\n\n$4$ 块石头依次在第一列被抛下。第一块石头被唯一一堵墙堵住。这样剩下的石头都可以向右滚动一列。第二块石头毫无障碍地下落，第三四块分别落在了它的左边和右边。\n\n#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，保证 $r\\le 30$。\n- 对于 $100\\%$ 的数据，保证 $1\\le r\\le 3\\times 10^4$，$1\\le c\\le 30$，$1\\le n\\le 10^5$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T4 KAMEN***。", "locale": "zh-CN"}}}
{"pid": "P6371", "type": "P", "difficulty": 6, "samples": [["2 1 20\n0123456789", "10"], ["6 100 9294\n23689", "111"], ["5 4395 9999999999\n12346789", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "数位 DP", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] V", "background": "", "description": "使用给定的数字，组成一些在 $[A,B]$ 之间的数使得这些数每个都能被 $X$ 整除。", "inputFormat": "输入第一行包含三个整数 $X,A,B$。\n\n第二行为一个数字串，表示可以使用的数字。一个数字可以使用多次，数字不会重复出现。", "outputFormat": "输出一行一个整数，表示在 $[A,B]$ 这个区间用这些给定的数字能组成多少个被 $X$ 整除的数字。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1\\le X\\lt 10^{11}$，$1\\le A\\le B\\lt 10^{11}$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T5 V***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] V", "background": "", "description": "使用给定的数字，组成一些在 $[A,B]$ 之间的数使得这些数每个都能被 $X$ 整除。", "inputFormat": "输入第一行包含三个整数 $X,A,B$。\n\n第二行为一个数字串，表示可以使用的数字。一个数字可以使用多次，数字不会重复出现。", "outputFormat": "输出一行一个整数，表示在 $[A,B]$ 这个区间用这些给定的数字能组成多少个被 $X$ 整除的数字。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1\\le X\\lt 10^{11}$，$1\\le A\\le B\\lt 10^{11}$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T5 V***。", "locale": "zh-CN"}}}
{"pid": "P6372", "type": "P", "difficulty": 0, "samples": [["3\n1 1 1 1 3 3\n1 3 3 1 6 6\n1 4 4 1 5 5", "2"], ["3\n15 10 10 15 20 20\n10 15 10 20 15 20\n10 10 15 20 20 15", "3"], ["5\n4 4 5 4 3 2\n5 3 2 4 3 1\n5 4 3 1 1 3\n1 4 3 1 5 4\n5 5 4 5 4 2", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] PROSTOR", "background": "", "description": "给定三维空间内的 $n$ 个长方体的位置，请你判断有多少对矩形会互相有重合的部分。（如果仅有一个点也会被计入结果）", "inputFormat": "输入第一行为一个整数 $n$，表示矩形的数量。\n\n接下来的 $n$ 行，每行六个整数。前三个数表示这个矩形左下角顶点的坐标，后三个数表示这个矩形右上角顶点的坐标。", "outputFormat": "输出一行一个整数，表示有重合的矩形对数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，坐标介于 $1\\sim 999$ 之间，保证每个矩形平行于一个坐标面。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T6 PROSTOR***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] PROSTOR", "background": "", "description": "给定三维空间内的 $n$ 个长方体的位置，请你判断有多少对矩形会互相有重合的部分。（如果仅有一个点也会被计入结果）", "inputFormat": "输入第一行为一个整数 $n$，表示矩形的数量。\n\n接下来的 $n$ 行，每行六个整数。前三个数表示这个矩形左下角顶点的坐标，后三个数表示这个矩形右上角顶点的坐标。", "outputFormat": "输出一行一个整数，表示有重合的矩形对数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，坐标介于 $1\\sim 999$ 之间，保证每个矩形平行于一个坐标面。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T6 PROSTOR***。", "locale": "zh-CN"}}}
{"pid": "P6373", "type": "P", "difficulty": 5, "samples": [["4 3\nIOOI\n2 1 4\n1 1 O\n2 1 2", "2\n0"], ["10 10\nIIOOIOIIIO\n1 1 I\n2 1 7\n1 5 O\n2 5 9\n1 4 I\n1 10 I\n2 1 10\n2 5 10\n2 2 8\n2 3 9", "11\n0\n34\n0\n11\n6\n"]], "limits": {"time": [2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "线段树"], "title": "「StOI-1」IOI计数", "background": "蒻`L_C_A`想了解一下`IOI`，可他太菜了，看不懂题目，只会数数。", "description": "给定一个长度为 $n$ 字符串 $S$ ，同时进行 $m$ 次操作：      \n操作1：$1$ $x$ $c$ 表示将第 $x$ 个字符改为 $c$（ $c$ 只会为 `I` 或 `O` ）。       \n操作2：$2$ $l$ $r$ 询问字符串 $S$ 中有多少对三元组 $(i,j,k)$ 满足：   \n$S_{i}=$ `I` ,$S_{j}=$ `O` ,$S_{k}=$ `I` 并且 $l≤i<j<k≤r$ 。", "inputFormat": "输入第一行两个正整数 $n$ 和 $m$ 。     \n接下来一行是长度为 $n$ 的字符串 $s$ ，接下来 $m$ 行是操作。   \n含义均如题。\n", "outputFormat": "输出若干行：对于所有操作2，输出查询的答案，要求每个答案之间换行。", "hint": "对于 $20$% 的数据：$1 ≤ n,m ≤ 100$，$1 ≤ l ≤ r ≤ n$；  \n对于另 $20$% 的数据：$1 ≤ n ≤ $ $10^{5}$，$m = 1$，$ 1 ≤ l ≤ r ≤ n$；    \n对于另 $20$% 的数据：$1 ≤ n,m ≤  $ $10^{5}$，$l=1,r=n$；   \n对于 $100$% 的数据：$1 ≤ n,m ≤ $ $5$ $\\times$ $10^{5}$，$1 ≤ l ≤ r ≤ n$。\n\n所有数据保证合法。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「StOI-1」IOI计数", "background": "蒻`L_C_A`想了解一下`IOI`，可他太菜了，看不懂题目，只会数数。", "description": "给定一个长度为 $n$ 字符串 $S$ ，同时进行 $m$ 次操作：      \n操作1：$1$ $x$ $c$ 表示将第 $x$ 个字符改为 $c$（ $c$ 只会为 `I` 或 `O` ）。       \n操作2：$2$ $l$ $r$ 询问字符串 $S$ 中有多少对三元组 $(i,j,k)$ 满足：   \n$S_{i}=$ `I` ,$S_{j}=$ `O` ,$S_{k}=$ `I` 并且 $l≤i<j<k≤r$ 。", "inputFormat": "输入第一行两个正整数 $n$ 和 $m$ 。     \n接下来一行是长度为 $n$ 的字符串 $s$ ，接下来 $m$ 行是操作。   \n含义均如题。\n", "outputFormat": "输出若干行：对于所有操作2，输出查询的答案，要求每个答案之间换行。", "hint": "对于 $20$% 的数据：$1 ≤ n,m ≤ 100$，$1 ≤ l ≤ r ≤ n$；  \n对于另 $20$% 的数据：$1 ≤ n ≤ $ $10^{5}$，$m = 1$，$ 1 ≤ l ≤ r ≤ n$；    \n对于另 $20$% 的数据：$1 ≤ n,m ≤  $ $10^{5}$，$l=1,r=n$；   \n对于 $100$% 的数据：$1 ≤ n,m ≤ $ $5$ $\\times$ $10^{5}$，$1 ≤ l ≤ r ≤ n$。\n\n所有数据保证合法。\n", "locale": "zh-CN"}}}
{"pid": "P6374", "type": "P", "difficulty": 5, "samples": [["10 5\n1 2\n1 3\n2 4\n2 5\n2 10\n5 6\n3 7\n7 8\n7 9\n4 6 2\n4 10 1\n6 8 3\n9 10 2\n4 10 5\n", "7\n0\n1\n4\n0\n"], ["5 3\n1 3\n1 5\n3 4\n3 2\n5 2 3\n5 2 1\n2 4 5\n", "2\n1\n0"], ["20 10\n1 2\n1 3\n1 4\n2 5\n2 6\n3 10\n4 13\n4 14\n6 7\n6 8\n10 11\n4 15\n4 16\n8 9\n11 12\n16 17\n16 18\n16 19\n17 20\n15 19 16\n1 12 1\n20 20 20\n7 7 8\n1 8 3\n5 20 2\n2 9 6\n9 12 1\n9 12 2\n9 12 3", "4\n16\n20\n0\n0\n5\n2\n10\n2\n1\n"]], "limits": {"time": [1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["最近公共祖先 LCA"], "title": "「StOI-1」树上询问", "background": null, "description": "给定一棵 $n$ 个点的无根树，有 $q$ 次询问。\n\n每次询问给一个参数三元组 $(a,b,c)$ ，求有多少个 $i$ 满足这棵树在以 $i$ 为根的情况下 $a$ 和 $b$ 的 [LCA](https://www.luogu.com.cn/problem/P3379) 为 $c$ 。", "inputFormat": "第一行 $2$ 个数，为 $n$ 和 $q$ 。\n\n接下来 $n-1$ 行，每行 $2$ 个数，表示树的一条边。\n\n接下来 $q$ 行，每行 $3$ 个数，为 $(a,b,c)$。", "outputFormat": "共 $q$ 行，每行一个数，为对于每个三元组的 $i$ 的个数。", "hint": "---\n\n#### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7o3nd26o.png)\n\n第一个查询的 $i$ 为 3 和 4。\n\n第二个查询的 $i$ 为 1。\n\n---\n\n#### 数据范围\n\n#### 本题按子任务测试：\n\n$subtask1 (20pts)$：$1 \\leq n \\leq$ $1000$ ，$1 \\leq q \\leq$ $500$ 。\n\n$subtask2 (15pts)$：$1 \\leq n \\leq$ $10^{5}$，$1 \\leq q \\leq$ $10^{5}$，树退化成链 。\n\n$subtask3 (25pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $10^{5}$，数据**不随机** 。\n\n$subtask4 (40pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n对于所有数据：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n注：数据强度不高，不必卡常与快读快输。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「StOI-1」树上询问", "background": null, "description": "给定一棵 $n$ 个点的无根树，有 $q$ 次询问。\n\n每次询问给一个参数三元组 $(a,b,c)$ ，求有多少个 $i$ 满足这棵树在以 $i$ 为根的情况下 $a$ 和 $b$ 的 [LCA](https://www.luogu.com.cn/problem/P3379) 为 $c$ 。", "inputFormat": "第一行 $2$ 个数，为 $n$ 和 $q$ 。\n\n接下来 $n-1$ 行，每行 $2$ 个数，表示树的一条边。\n\n接下来 $q$ 行，每行 $3$ 个数，为 $(a,b,c)$。", "outputFormat": "共 $q$ 行，每行一个数，为对于每个三元组的 $i$ 的个数。", "hint": "---\n\n#### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7o3nd26o.png)\n\n第一个查询的 $i$ 为 3 和 4。\n\n第二个查询的 $i$ 为 1。\n\n---\n\n#### 数据范围\n\n#### 本题按子任务测试：\n\n$subtask1 (20pts)$：$1 \\leq n \\leq$ $1000$ ，$1 \\leq q \\leq$ $500$ 。\n\n$subtask2 (15pts)$：$1 \\leq n \\leq$ $10^{5}$，$1 \\leq q \\leq$ $10^{5}$，树退化成链 。\n\n$subtask3 (25pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $10^{5}$，数据**不随机** 。\n\n$subtask4 (40pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n对于所有数据：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n注：数据强度不高，不必卡常与快读快输。", "locale": "zh-CN"}}}
{"pid": "P6375", "type": "P", "difficulty": 6, "samples": [["4\n1 3 3 7\n", "332748121"], ["3\n1 3 2", "2"], ["10\n1 2 2 2 4 3 2 6 5 9", "384244861"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "树状数组", "期望"], "title": "「StOI-1」小Z的旅行", "background": "", "description": "一块空地，有$n$座山，每座山有一个高度值$h$。小Z在最高的山上，要去最低的山。\n\n他有如下移动方案：\n\n$1.$ 移动到一座比当前山低的山；\n\n$2.$ 移动到和当前山一样高的山（不可停留在当前山），对于每一高度只能执行一次该方案（即不可以连续 $3$ 次或以上到达同一高度的山）。\n\n每次移动都会耗费体力值，耗费的体力值为两座山的水平距离（若从第 $i$ 座山移动到第 $j$ 座山，则耗费 |$i-j$| 点体力值）。\n\n小Z**每次**若有多种方案移动，则会**等概率**选择任意一种，求耗费体力值的期望对 $998,244,353$ 取余后的结果。", "inputFormat": "第一行一个正整数 $n$ ，表示山的个数。\n接下来一行 $n$ 个正整数，表示每座山的高度。", "outputFormat": "一个整数，表示最终答案对 $998,244,353$ 取余后的结果。", "hint": "---\n\n#### 样例1解释\n\n取模前值为 $\\frac{10}{3}$。\n\n有如下方案（数字代表山的编号）：\n\n1. $(4,1)$ 概率 $\\frac{1}{3}$ ， 耗费体力值 $3$ ；\n\n2. $(4,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n3. $(4,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n4. $(4,3,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ； \n\n5. $(4,2,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $5$ 。\n\n---\n\n#### 数据范围\n\n对于 $50$% 的数据：$1 ≤ n ≤ 1000$，$1 ≤ h ≤ 10^{9}$；  \n对于 $100$% 的数据：$1 ≤ n ≤ 500000$，$1 ≤ h ≤ 10^{9}$。\n\n所有数据：最低和最高的山高度唯一。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「StOI-1」小Z的旅行", "background": "", "description": "一块空地，有$n$座山，每座山有一个高度值$h$。小Z在最高的山上，要去最低的山。\n\n他有如下移动方案：\n\n$1.$ 移动到一座比当前山低的山；\n\n$2.$ 移动到和当前山一样高的山（不可停留在当前山），对于每一高度只能执行一次该方案（即不可以连续 $3$ 次或以上到达同一高度的山）。\n\n每次移动都会耗费体力值，耗费的体力值为两座山的水平距离（若从第 $i$ 座山移动到第 $j$ 座山，则耗费 |$i-j$| 点体力值）。\n\n小Z**每次**若有多种方案移动，则会**等概率**选择任意一种，求耗费体力值的期望对 $998,244,353$ 取余后的结果。", "inputFormat": "第一行一个正整数 $n$ ，表示山的个数。\n接下来一行 $n$ 个正整数，表示每座山的高度。", "outputFormat": "一个整数，表示最终答案对 $998,244,353$ 取余后的结果。", "hint": "---\n\n#### 样例1解释\n\n取模前值为 $\\frac{10}{3}$。\n\n有如下方案（数字代表山的编号）：\n\n1. $(4,1)$ 概率 $\\frac{1}{3}$ ， 耗费体力值 $3$ ；\n\n2. $(4,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n3. $(4,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n4. $(4,3,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ； \n\n5. $(4,2,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $5$ 。\n\n---\n\n#### 数据范围\n\n对于 $50$% 的数据：$1 ≤ n ≤ 1000$，$1 ≤ h ≤ 10^{9}$；  \n对于 $100$% 的数据：$1 ≤ n ≤ 500000$，$1 ≤ h ≤ 10^{9}$。\n\n所有数据：最低和最高的山高度唯一。", "locale": "zh-CN"}}}
{"pid": "P6376", "type": "P", "difficulty": 7, "samples": [["2 2 1\n0 0\n1 0", "4.098204131080311"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "Special Judge", "O2优化", "PA（波兰）"], "title": "[PA 2010] The Goat", "background": "", "description": "平面上有 $n$ 个点。重复 $k$ 次以下操作：随机选择一个点，并以这个点为圆心作半径为 $r$ 的圆。求最后所有圆面积并的期望。", "inputFormat": "第一行三个整数 $n,k,r$。\n\n接下来 $n$ 行，每行两个整数 $x,y$，为一个点。", "outputFormat": "输出面积并的期望。误差在 $10^{-2}$ 以内算对。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le n,k\\le 10^3$，$1\\le r\\le 10^3$，$|x|,|y|\\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] The Goat", "background": "", "description": "平面上有 $n$ 个点。重复 $k$ 次以下操作：随机选择一个点，并以这个点为圆心作半径为 $r$ 的圆。求最后所有圆面积并的期望。", "inputFormat": "第一行三个整数 $n,k,r$。\n\n接下来 $n$ 行，每行两个整数 $x,y$，为一个点。", "outputFormat": "输出面积并的期望。误差在 $10^{-2}$ 以内算对。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le n,k\\le 10^3$，$1\\le r\\le 10^3$，$|x|,|y|\\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P6377", "type": "P", "difficulty": 7, "samples": [["8\n1 2 0 3 7 4 0 9\n", "17 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "PA（波兰）"], "title": "[PA 2010] Termites", "background": "", "description": "有一个长度为 $n$ 的数列 $a$，两名玩家轮流行动，每次可以选择一个与 $0$ 相邻的数字，得到数字大小的得分，并将它变为 $0$。求如果两个人都采取最优策略，两个人的得分。", "inputFormat": "第一行一个整数 $n$，意义如题面。\n\n接下来一行 $n$ 个整数，表示这个数列。", "outputFormat": "一行两个整数，表示两个人都采取最优策略的答案。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 10^6$，且对于任何一个 $a$ 中的元素 $x$，都保证 $0\\leq x\\leq 10^6$ 且至少存在一个 $0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] Termites", "background": "", "description": "有一个长度为 $n$ 的数列 $a$，两名玩家轮流行动，每次可以选择一个与 $0$ 相邻的数字，得到数字大小的得分，并将它变为 $0$。求如果两个人都采取最优策略，两个人的得分。", "inputFormat": "第一行一个整数 $n$，意义如题面。\n\n接下来一行 $n$ 个整数，表示这个数列。", "outputFormat": "一行两个整数，表示两个人都采取最优策略的答案。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 10^6$，且对于任何一个 $a$ 中的元素 $x$，都保证 $0\\leq x\\leq 10^6$ 且至少存在一个 $0$。", "locale": "zh-CN"}}}
{"pid": "P6378", "type": "P", "difficulty": 6, "samples": [["6 5 2\n1 2\n3 1\n1 4\n5 2\n6 2\n3 3 4 2\n3 1 6 5", "TAK"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2010", "2-SAT", "Tarjan", "PA（波兰）"], "title": "[PA 2010] Riddle", "background": "", "description": "$n$ 个点 $m$ 条边的无向图被分成 $k$ 个部分。每个部分包含一些点。\n\n请选择一些关键点，使得每个部分**恰**有一个关键点，且每条边**至少**有一个端点是关键点。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n接下来 $m$ 行，每行两个整数 $a,b$，表示有一条 $a,b$ 间的边。\n\n接下来 $k$ 行，每行第一个整数为 $w$，表示这个部分有 $w$ 个点；接下来 $w$ 个整数，为在这个部分中的点的编号。", "outputFormat": "若可能选出请输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le k,w\\le n\\le 10^6$，$\\sum w=n$，$1\\le a,b\\le n$，$0\\le m\\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] Riddle", "background": "", "description": "$n$ 个点 $m$ 条边的无向图被分成 $k$ 个部分。每个部分包含一些点。\n\n请选择一些关键点，使得每个部分**恰**有一个关键点，且每条边**至少**有一个端点是关键点。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n接下来 $m$ 行，每行两个整数 $a,b$，表示有一条 $a,b$ 间的边。\n\n接下来 $k$ 行，每行第一个整数为 $w$，表示这个部分有 $w$ 个点；接下来 $w$ 个整数，为在这个部分中的点的编号。", "outputFormat": "若可能选出请输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le k,w\\le n\\le 10^6$，$\\sum w=n$，$1\\le a,b\\le n$，$0\\le m\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P6379", "type": "P", "difficulty": 6, "samples": [["5 6\n1 2\n1 3\n2 3\n3 2\n2 4\n3 4", "2\n2\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2010", "Special Judge", "O2优化", "PA（波兰）"], "title": "[PA 2010] Planning the Roadworks", "background": null, "description": "给定一个 $n$ 个点，$m$ 条边的有向图，求一个边集使得删去这个边集之后原图连通性不变（能达到的仍然能到达），且再删去任意一条边都会改变原图连通性。\n\n请给出一种可行的方案。", "inputFormat": "第一行两个整数 $n$,$m$。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示存在一条从 $x$ 到 $y$ 的有向边。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $k$，表示边集的大小。\n\n接下来 $k$ 行，每行输出一个整数 $e_i$，表示删掉输入的第 $e_i$ 条边。\n\n输入的边的编号从 $1$ 开始。", "hint": "#### 样例 1 解释\n\n一种可行的方案是，删除输入的第 $2$ 条边 $(1, 3)$ 和第 $6$ 条边 $(3, 4)$。\n\n---\n\n#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 5000$，$1\\leq m\\leq100000$，给定的图没有重边和自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] Planning the Roadworks", "background": null, "description": "给定一个 $n$ 个点，$m$ 条边的有向图，求一个边集使得删去这个边集之后原图连通性不变（能达到的仍然能到达），且再删去任意一条边都会改变原图连通性。\n\n请给出一种可行的方案。", "inputFormat": "第一行两个整数 $n$,$m$。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示存在一条从 $x$ 到 $y$ 的有向边。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $k$，表示边集的大小。\n\n接下来 $k$ 行，每行输出一个整数 $e_i$，表示删掉输入的第 $e_i$ 条边。\n\n输入的边的编号从 $1$ 开始。", "hint": "#### 样例 1 解释\n\n一种可行的方案是，删除输入的第 $2$ 条边 $(1, 3)$ 和第 $6$ 条边 $(3, 4)$。\n\n---\n\n#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 5000$，$1\\leq m\\leq100000$，给定的图没有重边和自环。", "locale": "zh-CN"}}}
{"pid": "P6380", "type": "P", "difficulty": 3, "samples": [["2 2\n01", "10"], ["10 1 \n1", "-1"], ["6 6\n110100", "601210"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "贪心", "洛谷月赛"], "title": "『MdOI R2』Mayuri", "background": "「万由里……怎么会？为什么你要……」\n\n『我是灵力的结晶体，实施了封印，我当然会消失，不是吗？』\n\n「封印？但是你和我……」\n\n『第一次见面不能封印吗？笨蛋，我可是从大家的灵力里出生的，怎么可能讨厌你？从一出生，我就爱着你。』\n\n「万由里……」\n\n『虽然我竭力不让自己去想，但我一定是很羡慕大家……』\n\n「等一下，万由里，不要消失……」\n\n『但是我还是有一件能向大家炫耀的事，只有我和士道一样……』\n\n「一样？」\n\n『我已经不再是只为了消失而出生的生命。因为我遇见了你……已经足够了。』\n\n「万由里……」\n\n『谢谢你，士道。 』\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9w6a0deg.png)", "description": "在离开这个世界前，万由里想要寻找属于她的 Lucky Number。\n\n万由里会给出一个数 $a$，以及一个长度为 $b$ 的 01 串 $S$。\n\n简单的说，她的 Lucky Number 是满足以下条件的**正整数** $n$：\n\n - $n$ 的位数为 $b$ 且不含前导 $0$。\n\n - 若 $S$ 的第 $i$ 位为 $1$，则 $n$ 的前 $i$ 位组成的数是 $a$ 的倍数，否则 $n$ 的前 $i$ 位组成的数不是 $a$ 的倍数。\n\n对于一个数，前 $i$ 位组成的数是指这个数前 $i$ 个数码依次拼接形成的数。例如 $312311$ 前 $3$ 位组成的数为 $312$，前 $5$ 位组成的数为 $31231$。\n\n\n现在，请你帮助万由里计算一下，她的 Lucky Number 是多少。\n\n由于满足条件的数可能会有多个，你需要输出**最小**的一个。若不存在，则请输出 `-1`。", "inputFormat": "输入数据由两行构成。\n\n第一行两个整数 $a,b$，意义见题目描述。\n\n第二行一个长度为 $b$ 的字符串 $S$。", "outputFormat": "一行，满足条件的**最小**的数 $n$。如果不存在满足条件的数，输出 `-1`。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/5gnn8mg0) [样例输出](https://www.luogu.com.cn/paste/sgxjkbjd)\n\n------\n【样例解释】\n\n对于样例一，$10$ 是 $2$ 位数，且 $10$ 的前 $1$ 位组成的数 $1$ 不是 $2$ 的倍数，而前 $2$ 位组成的数 $10$ 是 $2$ 的倍数。由于 $10$ 已经是最小的两位数，故不存在比 $10$ 更小的满足条件的数。\n\n对于样例二，我们需要构造一个 $1$ 位数，满足这个 $1$ 位数整除 $10$。显然，这样的数不存在。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试**\n\n\n| 子任务编号 | $a \\leq$ | $b\\le$  | 分值   |\n| ---------- | -------- | :------ | ------ |\n| Subtask 1  | $10$     | $ 1$    | $20$   |\n| Subtask 2  | $10 $    | $2$     | $20$  |\n| Subtask 3  | $10 $    | $ 6$    | $20$  |\n| Subtask 4  | $ 2$     | $ 18$   | $20$ |\n| Subtask 5  | $ 10$    | $ 10^5$ | $20$ |\n\n\n对于全部数据，保证 $2\\le a\\le 10$，$1\\le b\\le 10^5$，$S$ 中只包含 `0` 和 `1`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Mayuri", "background": "「万由里……怎么会？为什么你要……」\n\n『我是灵力的结晶体，实施了封印，我当然会消失，不是吗？』\n\n「封印？但是你和我……」\n\n『第一次见面不能封印吗？笨蛋，我可是从大家的灵力里出生的，怎么可能讨厌你？从一出生，我就爱着你。』\n\n「万由里……」\n\n『虽然我竭力不让自己去想，但我一定是很羡慕大家……』\n\n「等一下，万由里，不要消失……」\n\n『但是我还是有一件能向大家炫耀的事，只有我和士道一样……』\n\n「一样？」\n\n『我已经不再是只为了消失而出生的生命。因为我遇见了你……已经足够了。』\n\n「万由里……」\n\n『谢谢你，士道。 』\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9w6a0deg.png)", "description": "在离开这个世界前，万由里想要寻找属于她的 Lucky Number。\n\n万由里会给出一个数 $a$，以及一个长度为 $b$ 的 01 串 $S$。\n\n简单的说，她的 Lucky Number 是满足以下条件的**正整数** $n$：\n\n - $n$ 的位数为 $b$ 且不含前导 $0$。\n\n - 若 $S$ 的第 $i$ 位为 $1$，则 $n$ 的前 $i$ 位组成的数是 $a$ 的倍数，否则 $n$ 的前 $i$ 位组成的数不是 $a$ 的倍数。\n\n对于一个数，前 $i$ 位组成的数是指这个数前 $i$ 个数码依次拼接形成的数。例如 $312311$ 前 $3$ 位组成的数为 $312$，前 $5$ 位组成的数为 $31231$。\n\n\n现在，请你帮助万由里计算一下，她的 Lucky Number 是多少。\n\n由于满足条件的数可能会有多个，你需要输出**最小**的一个。若不存在，则请输出 `-1`。", "inputFormat": "输入数据由两行构成。\n\n第一行两个整数 $a,b$，意义见题目描述。\n\n第二行一个长度为 $b$ 的字符串 $S$。", "outputFormat": "一行，满足条件的**最小**的数 $n$。如果不存在满足条件的数，输出 `-1`。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/5gnn8mg0) [样例输出](https://www.luogu.com.cn/paste/sgxjkbjd)\n\n------\n【样例解释】\n\n对于样例一，$10$ 是 $2$ 位数，且 $10$ 的前 $1$ 位组成的数 $1$ 不是 $2$ 的倍数，而前 $2$ 位组成的数 $10$ 是 $2$ 的倍数。由于 $10$ 已经是最小的两位数，故不存在比 $10$ 更小的满足条件的数。\n\n对于样例二，我们需要构造一个 $1$ 位数，满足这个 $1$ 位数整除 $10$。显然，这样的数不存在。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试**\n\n\n| 子任务编号 | $a \\leq$ | $b\\le$  | 分值   |\n| ---------- | -------- | :------ | ------ |\n| Subtask 1  | $10$     | $ 1$    | $20$   |\n| Subtask 2  | $10 $    | $2$     | $20$  |\n| Subtask 3  | $10 $    | $ 6$    | $20$  |\n| Subtask 4  | $ 2$     | $ 18$   | $20$ |\n| Subtask 5  | $ 10$    | $ 10^5$ | $20$ |\n\n\n对于全部数据，保证 $2\\le a\\le 10$，$1\\le b\\le 10^5$，$S$ 中只包含 `0` 和 `1`。", "locale": "zh-CN"}}}
{"pid": "P6381", "type": "P", "difficulty": 5, "samples": [["5 7 2\n2 5 2 5\n5 3 18 9\n2 4 6 7\n4 3 6 3\n2 1 24 2\n1 4 6 8\n1 5 8 4", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "数学", "图论", "拓扑排序", "素数判断,质数,筛法", "洛谷月赛"], "title": "『MdOI R2』Odyssey", "background": "超越音速的极限，不及瑰丽多变的极光；\n\n微弱的脉冲，开拓原本一片混沌的天地；\n\n沉郁的蓝缓缓闪动，史诗的红迎接巅峰；\n\n血色的夕阳尽头，是将夜的星辰；\n\n夜半的满天星空，也会被来自地狱的硝烟掩盖；\n\n炽红炼狱消逝，只金色遗迹永存。\n\n在这里等待着每一位的，都是一段艰苦而璀璨的旅程。", "description": "若正整数 $a$ 与 $b$ 满足：\n\n- $a$ 与 $b$ 的积是一个正整数的 $k$ 次方，即存在正整数 $c$ 使得 $ab=c^k$。\n\n那么我们称 $(a,b)$ 为一组**完美数对**。\n\n---\n\n有一个包含 $n$ 个结点和 $m$ 条边的**有向无环图**，这张图中的每条边都有权值和长度两个属性。\n\n如果一条路径 $P$ 满足**以下条件之一**，则称其为一条**完美路径**：\n\n- $P$ 中仅包含一条边。\n\n- $P$ 从其起点开始依次为 $e_1, e_2, e_3, \\ldots e_p$ 这 $p\\ (p\\ge 2)$ 条边，对于任意的 $1\\leq i\\leq p-1$，$e_i$ 的权值和 $e_{i+1}$ 的权值组成完美数对。\n\n你需要求出图中最长完美路径的长度，一条路径的长度定义为这条路径上所有边的长度之和。", "inputFormat": "第一行：三个整数 $n,m,k$，分别表示有向无环图的结点数、边数和完美数对的参数。\n\n接下来 $m$ 行：每行四个整数 $u,v,w,l$，表示有一条权值为 $w$，长度为 $l$ 的有向边从 $u$ 连向 $v$。", "outputFormat": "第一行：一个整数 $ans$，表示最长完美路径的长度。", "hint": "【帮助与提示】  \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。  \n\n[样例输入1](https://www.luogu.com.cn/paste/wx1lz6m2) [样例输出1](https://www.luogu.com.cn/paste/28xe7f0x)      \n\n[样例输入2](https://www.luogu.com.cn/paste/efgwngs5) [样例输出2](https://www.luogu.com.cn/paste/5hcpoayt)   \n\n----\n\n【样例解释】\n\n样例中给出的有向无环图如图所示，其中边上的红色数字为边的权值，黑色数字为边的长度：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w6x03ksd.png)\n\n最长完美路径为 $2\\to 5\\to 3$，因为这两条边的权值 $2$ 和 $18$ 满足 $2\\times 18=6^2$，是完美数对，此路径长度为 $5+9=14$。\n\n此外，$2\\to 1\\to 4\\to 3,\\ \\ 2\\to 4\\to 3,\\ \\ 1\\to 5\\to 3$ 等也是完美路径，但不是最长的。\n\n图中，$2\\to 1\\to 5\\to 3$ 长度为 $15$，是一条更长的路径，但它并不是完美路径，因为前两个边权 $24$ 和 $8$ 的乘积为 $192$，不是正整数的平方，即 $(24,8)$ 不是完美数对。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 10^5,\\ \\ 1\\leq m\\leq 2\\times 10^5,\\ \\ 1\\leq k\\leq 10,\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^5,\\ \\ 1\\leq l\\leq 10^4$。\n\n给出的图**不保证弱连通**，图中从一个点到另一个点**可能**存在多条边，但保证给出的图是有向无环图。\n\n| 子任务编号 | $n\\leq$ |     $m\\leq$      | $w\\leq$ | $k\\leq$ |  特殊性质  | 分值 |\n| :--------: | :-----: | :--------------: | :-----: | :-----: | :--------: | :--: |\n| Subtask 1  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $1$   |     无     | $18$ |\n| Subtask 2  |  $10$   |       $10$       |  $100$  |  $2$   |     无     | $12$ |\n| Subtask 3  |  $600$  | $1.5\\times 10^3$ | $10^3$  |   $2$   |     无     | $10$ |\n| Subtask 4  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   | $w$ 为素数 | $15$ |\n| Subtask 5  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   |     无     | $15$ |\n| Subtask 6  |  $600$  | $1.5\\times 10^3$ | $10^3$  |  $5$   |     无     | $10$ |\n| Subtask 7  | $10^5$  |  $2\\times 10^5$  | $10^5$  |  $10$   |     无     | $20$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Odyssey", "background": "超越音速的极限，不及瑰丽多变的极光；\n\n微弱的脉冲，开拓原本一片混沌的天地；\n\n沉郁的蓝缓缓闪动，史诗的红迎接巅峰；\n\n血色的夕阳尽头，是将夜的星辰；\n\n夜半的满天星空，也会被来自地狱的硝烟掩盖；\n\n炽红炼狱消逝，只金色遗迹永存。\n\n在这里等待着每一位的，都是一段艰苦而璀璨的旅程。", "description": "若正整数 $a$ 与 $b$ 满足：\n\n- $a$ 与 $b$ 的积是一个正整数的 $k$ 次方，即存在正整数 $c$ 使得 $ab=c^k$。\n\n那么我们称 $(a,b)$ 为一组**完美数对**。\n\n---\n\n有一个包含 $n$ 个结点和 $m$ 条边的**有向无环图**，这张图中的每条边都有权值和长度两个属性。\n\n如果一条路径 $P$ 满足**以下条件之一**，则称其为一条**完美路径**：\n\n- $P$ 中仅包含一条边。\n\n- $P$ 从其起点开始依次为 $e_1, e_2, e_3, \\ldots e_p$ 这 $p\\ (p\\ge 2)$ 条边，对于任意的 $1\\leq i\\leq p-1$，$e_i$ 的权值和 $e_{i+1}$ 的权值组成完美数对。\n\n你需要求出图中最长完美路径的长度，一条路径的长度定义为这条路径上所有边的长度之和。", "inputFormat": "第一行：三个整数 $n,m,k$，分别表示有向无环图的结点数、边数和完美数对的参数。\n\n接下来 $m$ 行：每行四个整数 $u,v,w,l$，表示有一条权值为 $w$，长度为 $l$ 的有向边从 $u$ 连向 $v$。", "outputFormat": "第一行：一个整数 $ans$，表示最长完美路径的长度。", "hint": "【帮助与提示】  \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。  \n\n[样例输入1](https://www.luogu.com.cn/paste/wx1lz6m2) [样例输出1](https://www.luogu.com.cn/paste/28xe7f0x)      \n\n[样例输入2](https://www.luogu.com.cn/paste/efgwngs5) [样例输出2](https://www.luogu.com.cn/paste/5hcpoayt)   \n\n----\n\n【样例解释】\n\n样例中给出的有向无环图如图所示，其中边上的红色数字为边的权值，黑色数字为边的长度：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w6x03ksd.png)\n\n最长完美路径为 $2\\to 5\\to 3$，因为这两条边的权值 $2$ 和 $18$ 满足 $2\\times 18=6^2$，是完美数对，此路径长度为 $5+9=14$。\n\n此外，$2\\to 1\\to 4\\to 3,\\ \\ 2\\to 4\\to 3,\\ \\ 1\\to 5\\to 3$ 等也是完美路径，但不是最长的。\n\n图中，$2\\to 1\\to 5\\to 3$ 长度为 $15$，是一条更长的路径，但它并不是完美路径，因为前两个边权 $24$ 和 $8$ 的乘积为 $192$，不是正整数的平方，即 $(24,8)$ 不是完美数对。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 10^5,\\ \\ 1\\leq m\\leq 2\\times 10^5,\\ \\ 1\\leq k\\leq 10,\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^5,\\ \\ 1\\leq l\\leq 10^4$。\n\n给出的图**不保证弱连通**，图中从一个点到另一个点**可能**存在多条边，但保证给出的图是有向无环图。\n\n| 子任务编号 | $n\\leq$ |     $m\\leq$      | $w\\leq$ | $k\\leq$ |  特殊性质  | 分值 |\n| :--------: | :-----: | :--------------: | :-----: | :-----: | :--------: | :--: |\n| Subtask 1  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $1$   |     无     | $18$ |\n| Subtask 2  |  $10$   |       $10$       |  $100$  |  $2$   |     无     | $12$ |\n| Subtask 3  |  $600$  | $1.5\\times 10^3$ | $10^3$  |   $2$   |     无     | $10$ |\n| Subtask 4  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   | $w$ 为素数 | $15$ |\n| Subtask 5  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   |     无     | $15$ |\n| Subtask 6  |  $600$  | $1.5\\times 10^3$ | $10^3$  |  $5$   |     无     | $10$ |\n| Subtask 7  | $10^5$  |  $2\\times 10^5$  | $10^5$  |  $10$   |     无     | $20$ |\n\n", "locale": "zh-CN"}}}
