{"pid": "P7151", "type": "P", "difficulty": 5, "samples": [["10 1\n##########\n#........#\n#S.......#\n#........#\n##########\n#S....S..#\n##########\n##########\n##########\n##########", "15"], ["10 2\n##########\n#.#......#\n#.#......#\n#S.......#\n#.#......#\n#.#......#\n##########\n##########\n##########\n##########", "28"], ["10 2\n##########\n#.S#.....#\n#..#.....#\n#S.......#\n#..#.....#\n#..#.....#\n##########\n##########\n##########\n##########", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["搜索", "2020", "USACO", "堆", "O2优化", "广度优先搜索 BFS"], "title": "[USACO20DEC] Replication G", "background": "", "description": "在网上观看太多机械 DIY 视频的后果就是，Farmer John 偶然在他的农场上制造了一个可以自我复制的机器人！\n\n农场可以用一个 $N×N$ 的方阵表示（$3≤N≤1000$），其中每个方格是空的或有岩石，并且所有边界上的方格均有岩石。某些没有岩石的方格被指定为机器人可能的起始位置。\n\nFarmer John 初始将机器人放置在可能的起始位置之一。在之后的每一个小时，机器人的所有副本会沿着相同的方向移动一格，向北、向南、向东或向西。每 $D$ 个小时（$1≤D≤10^9$）之后，机器人的每个副本会进行自我复制——在方格 $(x,y)$ 进行自我复制的机器人会在方格 $(x+1,y)$、$(x−1,y)$、$(x,y+1)$ 以及 $(x,y−1)$ 产生机器人的新的副本；原本的机器人仍然位于 $(x,y)$。一段时间过后，同一方格内可能会有多个机器人。\n\n如果移动或复制会使得任何一个机器人撞到岩石，那么所有的机器人均立刻停止行动。注意这意味着所有机器人最终必然会停下，由于农场的边界都是岩石。\n\n请帮助奶牛们求出可能在某个时刻含有机器人的空的方格数量。 ", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $D$。以下 $N$ 行每行包含 $N$ 个字符。每个字符均为 '.'、'S' 和 '#' 之一。'.' 和 'S' 均表示空的方格，且 'S' 表示一个可能的机器人起始位置。'#' 表示一块岩石。\n\n所有第一行、最后一行、第一列、最后一列的字符均为 '#'。 ", "outputFormat": " 输出一个整数，表示可能在某个时刻含有机器人的方格数量。 ", "hint": "### 样例 1 解释：\n在以下的图中，x 表示机器人。\n\n可能含有机器人的位置为：\n\n```\n##########\n#xxx.....#\n#xxxx....#\n#xxx.....#\n##########\n#xx..xxx.#\n##########\n##########\n##########\n##########\n```\n以下是一个可能的事件序列：\n\nFJ 将机器人放在了左上的起始位置。\n机器人向右移动一个单位。\n机器人进行自我复制。\n所有机器人向右移动一个单位。\n再一次自我复制会导致存在机器人撞到岩石，所以该过程终止。\n```\n##########    ##########    ##########    ##########\n#........#    #........#    #.x......#    #..x.....#\n#x.......#    #.x......#    #xxx.....#    #.xxx....#\n#........#    #........#    #.x......#    #..x.....#\n########## -> ########## -> ########## -> ##########\n#........#    #........#    #........#    #........#\n##########    ##########    ##########    ##########\n##########    ##########    ##########    ##########\n##########    ##########    ##########    ##########\n##########    ##########    ##########    ##########\n```\n### 样例 2 解释：\n\n可能含有机器人的位置为：\n```\n##########\n#x#.xxx..#\n#x#xxxxx.#\n#xxxxxxxx#\n#x#xxxxx.#\n#x#.xxx..#\n##########\n##########\n##########\n##########\n```\n### 样例 3 解释：\n可能含有机器人的位置为：\n```\n##########\n#xx#.....#\n#xx#.....#\n#xxx.....#\n#xx#.....#\n#x.#.....#\n##########\n##########\n##########\n##########\n```\n### 测试点性质：\n\n - 测试点 4-5 满足 $D=10^9$。\n - 测试点 6-8 满足 $D=1$。\n - 测试点 9-12 满足 $N≤100$。\n - 测试点 13-20 没有额外限制。\n\n供题：Benjamin Qi ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20DEC] Replication G", "background": "", "description": "在网上观看太多机械 DIY 视频的后果就是，Farmer John 偶然在他的农场上制造了一个可以自我复制的机器人！\n\n农场可以用一个 $N×N$ 的方阵表示（$3≤N≤1000$），其中每个方格是空的或有岩石，并且所有边界上的方格均有岩石。某些没有岩石的方格被指定为机器人可能的起始位置。\n\nFarmer John 初始将机器人放置在可能的起始位置之一。在之后的每一个小时，机器人的所有副本会沿着相同的方向移动一格，向北、向南、向东或向西。每 $D$ 个小时（$1≤D≤10^9$）之后，机器人的每个副本会进行自我复制——在方格 $(x,y)$ 进行自我复制的机器人会在方格 $(x+1,y)$、$(x−1,y)$、$(x,y+1)$ 以及 $(x,y−1)$ 产生机器人的新的副本；原本的机器人仍然位于 $(x,y)$。一段时间过后，同一方格内可能会有多个机器人。\n\n如果移动或复制会使得任何一个机器人撞到岩石，那么所有的机器人均立刻停止行动。注意这意味着所有机器人最终必然会停下，由于农场的边界都是岩石。\n\n请帮助奶牛们求出可能在某个时刻含有机器人的空的方格数量。 ", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $D$。以下 $N$ 行每行包含 $N$ 个字符。每个字符均为 '.'、'S' 和 '#' 之一。'.' 和 'S' 均表示空的方格，且 'S' 表示一个可能的机器人起始位置。'#' 表示一块岩石。\n\n所有第一行、最后一行、第一列、最后一列的字符均为 '#'。 ", "outputFormat": " 输出一个整数，表示可能在某个时刻含有机器人的方格数量。 ", "hint": "### 样例 1 解释：\n在以下的图中，x 表示机器人。\n\n可能含有机器人的位置为：\n\n```\n##########\n#xxx.....#\n#xxxx....#\n#xxx.....#\n##########\n#xx..xxx.#\n##########\n##########\n##########\n##########\n```\n以下是一个可能的事件序列：\n\nFJ 将机器人放在了左上的起始位置。\n机器人向右移动一个单位。\n机器人进行自我复制。\n所有机器人向右移动一个单位。\n再一次自我复制会导致存在机器人撞到岩石，所以该过程终止。\n```\n##########    ##########    ##########    ##########\n#........#    #........#    #.x......#    #..x.....#\n#x.......#    #.x......#    #xxx.....#    #.xxx....#\n#........#    #........#    #.x......#    #..x.....#\n########## -> ########## -> ########## -> ##########\n#........#    #........#    #........#    #........#\n##########    ##########    ##########    ##########\n##########    ##########    ##########    ##########\n##########    ##########    ##########    ##########\n##########    ##########    ##########    ##########\n```\n### 样例 2 解释：\n\n可能含有机器人的位置为：\n```\n##########\n#x#.xxx..#\n#x#xxxxx.#\n#xxxxxxxx#\n#x#xxxxx.#\n#x#.xxx..#\n##########\n##########\n##########\n##########\n```\n### 样例 3 解释：\n可能含有机器人的位置为：\n```\n##########\n#xx#.....#\n#xx#.....#\n#xxx.....#\n#xx#.....#\n#x.#.....#\n##########\n##########\n##########\n##########\n```\n### 测试点性质：\n\n - 测试点 4-5 满足 $D=10^9$。\n - 测试点 6-8 满足 $D=1$。\n - 测试点 9-12 满足 $N≤100$。\n - 测试点 13-20 没有额外限制。\n\n供题：Benjamin Qi ", "locale": "zh-CN"}}}
{"pid": "P7152", "type": "P", "difficulty": 6, "samples": [["?", "4"], ["GAT?GTT", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "USACO", "O2优化"], "title": "[USACO20DEC] Bovine Genetics G", "background": "", "description": "Farmer John 在对他的奶牛进行基因组测序之后，他现在要进行基因组编辑了！我们知道，基因组可以用一个由 A、C、G、T 组成的字符串来表示。Farmer John 考虑的基因组的最大长度为 $10^5$。\n\nFarmer John 从一个基因组开始，通过下列步骤对其进行编辑：\n\n 1. 在所有连续相同字符之间的位置将当前基因组切开。\n 2. 反转所有得到的子串。\n 3. 按原先的顺序将反转的子串进行联结。\n\n例如，如果 FJ 从基因组 AGGCTTT 开始，他会执行下列步骤：\n\n 1. 在连续的 G 和 T 之间切开，得到 AG | GCT | T | T。\n 2. 反转每一子串，得到 GA | TCG | T | T。\n 3. 将这些子串联结起来，得到 GATCGTT。\n\n不幸的是，在对基因组进行编辑之后，Farmer John 的计算机崩溃了，他丢失了他开始时的基因组序列。此外，编辑后的基因组的部分位置遭到了破坏，这些位置用问号代替。\n\n给定编辑后的基因组序列，请帮助 FJ 求出可能的开始时的基因组序列的数量，对 $10^9+7$ 取模。 ", "inputFormat": "一个非空字符串，其中每个字符为 A、G、C、T 和 ? 之一。 ", "outputFormat": "输出可能的开始时的基因组序列的数量模 $10^9+7$ 的结果。", "hint": "### 样例 2 解释：\n\n除了在之前说明过的 AGGCTTT 之外，还有两种可能的开始时的基因组。\n\n`AGGATTT -> AG | GAT | T | T -> GA | TAG | T | T -> GATAGTT`\n\n`TAGGTTT -> TAG | GT | T | T -> GAT | TG | T | T -> GATTGTT`\n\n### 测试点性质：\n\n\n - 测试点 1-4 中，基因组的长度不超过 $10$。\n - 测试点 5-11 中，基因组的长度不超过 $10^2$。\n - 测试点 12-20 没有额外限制。\n\n供题：Benjamin Qi ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20DEC] Bovine Genetics G", "background": "", "description": "Farmer John 在对他的奶牛进行基因组测序之后，他现在要进行基因组编辑了！我们知道，基因组可以用一个由 A、C、G、T 组成的字符串来表示。Farmer John 考虑的基因组的最大长度为 $10^5$。\n\nFarmer John 从一个基因组开始，通过下列步骤对其进行编辑：\n\n 1. 在所有连续相同字符之间的位置将当前基因组切开。\n 2. 反转所有得到的子串。\n 3. 按原先的顺序将反转的子串进行联结。\n\n例如，如果 FJ 从基因组 AGGCTTT 开始，他会执行下列步骤：\n\n 1. 在连续的 G 和 T 之间切开，得到 AG | GCT | T | T。\n 2. 反转每一子串，得到 GA | TCG | T | T。\n 3. 将这些子串联结起来，得到 GATCGTT。\n\n不幸的是，在对基因组进行编辑之后，Farmer John 的计算机崩溃了，他丢失了他开始时的基因组序列。此外，编辑后的基因组的部分位置遭到了破坏，这些位置用问号代替。\n\n给定编辑后的基因组序列，请帮助 FJ 求出可能的开始时的基因组序列的数量，对 $10^9+7$ 取模。 ", "inputFormat": "一个非空字符串，其中每个字符为 A、G、C、T 和 ? 之一。 ", "outputFormat": "输出可能的开始时的基因组序列的数量模 $10^9+7$ 的结果。", "hint": "### 样例 2 解释：\n\n除了在之前说明过的 AGGCTTT 之外，还有两种可能的开始时的基因组。\n\n`AGGATTT -> AG | GAT | T | T -> GA | TAG | T | T -> GATAGTT`\n\n`TAGGTTT -> TAG | GT | T | T -> GAT | TG | T | T -> GATTGTT`\n\n### 测试点性质：\n\n\n - 测试点 1-4 中，基因组的长度不超过 $10$。\n - 测试点 5-11 中，基因组的长度不超过 $10^2$。\n - 测试点 12-20 没有额外限制。\n\n供题：Benjamin Qi ", "locale": "zh-CN"}}}
{"pid": "P7153", "type": "P", "difficulty": 6, "samples": [["4\n0 2\n2 3\n3 1\n1 0\n", "14"], ["16\n17 4\n16 13\n0 15\n1 19\n7 11\n3 17\n6 16\n18 9\n15 6\n11 7\n10 8\n2 1\n12 0\n5 18\n14 5\n13 2", "420"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2020", "USACO", "O2优化", "排序", "双指针 two-pointer"], "title": "[USACO20DEC] Square Pasture G", "background": "", "description": "Farmer John 最大的牧草地可以被看作是一个由方格组成的巨大的二维方阵（想象一个巨大的棋盘）。现在，有 $N$ 头奶牛正占据某些方格（$1≤N≤200$）。\n\nFarmer John 想要建造一个可以包围一块正方形区域的栅栏；这个正方形必须四边与 $x$ 轴和 $y$ 轴平行，最少包含一个方格。请帮助他求出他可以包围在这样的区域内的不同的奶牛子集的数量。注意空集应当被计算为答案之一。 ", "inputFormat": "输入的第一行包含一个整数 $N$。以下 $N$ 行每行包含两个空格分隔的整数，表示一头奶牛所在方格的坐标 $(x,y)$。所有 $x$ 坐标各不相同，所有 $y$ 坐标各不相同。所有 $x$ 与 $y$ 的值均在 $0…10^9$ 范围内。\n\n注意尽管所有奶牛所在的方格坐标均非负，但围成的正方形区域可以包含坐标为负的方格。", "outputFormat": "输出 FJ 可以包围的奶牛的子集数量。可以证明这个数量可以用 32 位有符号整数型存储。 ", "hint": " - 测试点 1-5 中，所有奶牛所在的方格的坐标均小于 20 。\n - 测试点 6-10 中，$N≤20$。\n - 测试点 11-20 没有额外限制。\n\n供题：Benjamin Qi \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20DEC] Square Pasture G", "background": "", "description": "Farmer John 最大的牧草地可以被看作是一个由方格组成的巨大的二维方阵（想象一个巨大的棋盘）。现在，有 $N$ 头奶牛正占据某些方格（$1≤N≤200$）。\n\nFarmer John 想要建造一个可以包围一块正方形区域的栅栏；这个正方形必须四边与 $x$ 轴和 $y$ 轴平行，最少包含一个方格。请帮助他求出他可以包围在这样的区域内的不同的奶牛子集的数量。注意空集应当被计算为答案之一。 ", "inputFormat": "输入的第一行包含一个整数 $N$。以下 $N$ 行每行包含两个空格分隔的整数，表示一头奶牛所在方格的坐标 $(x,y)$。所有 $x$ 坐标各不相同，所有 $y$ 坐标各不相同。所有 $x$ 与 $y$ 的值均在 $0…10^9$ 范围内。\n\n注意尽管所有奶牛所在的方格坐标均非负，但围成的正方形区域可以包含坐标为负的方格。", "outputFormat": "输出 FJ 可以包围的奶牛的子集数量。可以证明这个数量可以用 32 位有符号整数型存储。 ", "hint": " - 测试点 1-5 中，所有奶牛所在的方格的坐标均小于 20 。\n - 测试点 6-10 中，$N≤20$。\n - 测试点 11-20 没有额外限制。\n\n供题：Benjamin Qi \n", "locale": "zh-CN"}}}
{"pid": "P7154", "type": "P", "difficulty": 6, "samples": [["4\n1 2 3 4\n1 2 2 3", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "USACO", "O2优化", "组合数学"], "title": "[USACO20DEC] Sleeping Cows P", "background": "", "description": "\nFarmer John 有 $N$（$1≤N≤3000$）头各种大小的奶牛。他原本为每头奶牛量身定制了牛棚，但现在某些奶牛长大了，使得原先的牛棚大小不够用。具体地说，FJ 原来建造了 $N$ 个牛棚的大小为 $t_1,t_2,…,t_N$，现在奶牛的大小为 $s_1,s_2,…,s_N$（$1≤s_i,t_i≤10^9$）。\n\n每天晚上，奶牛们都会按照某种方式寻找睡觉的牛棚。奶牛 $i$ 可以睡在牛棚 $j$ 中当且仅当她的大小可以进入牛棚（$s_i≤t_j$）。每个牛棚中至多可以睡一头奶牛。\n\n我们称奶牛与牛棚的一个匹配是极大的，当且仅当每头奶牛可以进入分配给她的牛棚，且对于每头未被分配牛棚的奶牛无法进入任何未分配的空牛棚。\n\n计算极大的匹配的数量模 $10^9+7$ 的结果。 ", "inputFormat": "输入的第一行包含 $N$。\n\n第二行包含 $N$ 个空格分隔的整数 $s_1,s_2,…,s_N$。\n\n第三行包含 $N$ 个空格分隔的整数 $t_1,t_2,…,t_N$。 ", "outputFormat": "输出极大的匹配的数量模 $10^9+7$ 的结果。 ", "hint": "以下是全部九种极大的匹配。有序对 $(i,j)$ 表示奶牛 $i$ 被分配到了牛棚 $j$。\n\n```\n(1, 1), (2, 2), (3, 4)\n(1, 1), (2, 3), (3, 4)\n(1, 1), (2, 4)\n(1, 2), (2, 3), (3, 4)\n(1, 2), (2, 4)\n(1, 3), (2, 2), (3, 4)\n(1, 3), (2, 4)\n(1, 4), (2, 2)\n(1, 4), (2, 3)\n```\n\n - 测试点 2-3 中，$N≤8$。\n - 测试点 4-12 中，$N≤50$。\n - 测试点 13-20 没有额外限制。\n\n供题：Nick Wu ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20DEC] Sleeping Cows P", "background": "", "description": "\nFarmer John 有 $N$（$1≤N≤3000$）头各种大小的奶牛。他原本为每头奶牛量身定制了牛棚，但现在某些奶牛长大了，使得原先的牛棚大小不够用。具体地说，FJ 原来建造了 $N$ 个牛棚的大小为 $t_1,t_2,…,t_N$，现在奶牛的大小为 $s_1,s_2,…,s_N$（$1≤s_i,t_i≤10^9$）。\n\n每天晚上，奶牛们都会按照某种方式寻找睡觉的牛棚。奶牛 $i$ 可以睡在牛棚 $j$ 中当且仅当她的大小可以进入牛棚（$s_i≤t_j$）。每个牛棚中至多可以睡一头奶牛。\n\n我们称奶牛与牛棚的一个匹配是极大的，当且仅当每头奶牛可以进入分配给她的牛棚，且对于每头未被分配牛棚的奶牛无法进入任何未分配的空牛棚。\n\n计算极大的匹配的数量模 $10^9+7$ 的结果。 ", "inputFormat": "输入的第一行包含 $N$。\n\n第二行包含 $N$ 个空格分隔的整数 $s_1,s_2,…,s_N$。\n\n第三行包含 $N$ 个空格分隔的整数 $t_1,t_2,…,t_N$。 ", "outputFormat": "输出极大的匹配的数量模 $10^9+7$ 的结果。 ", "hint": "以下是全部九种极大的匹配。有序对 $(i,j)$ 表示奶牛 $i$ 被分配到了牛棚 $j$。\n\n```\n(1, 1), (2, 2), (3, 4)\n(1, 1), (2, 3), (3, 4)\n(1, 1), (2, 4)\n(1, 2), (2, 3), (3, 4)\n(1, 2), (2, 4)\n(1, 3), (2, 2), (3, 4)\n(1, 3), (2, 4)\n(1, 4), (2, 2)\n(1, 4), (2, 3)\n```\n\n - 测试点 2-3 中，$N≤8$。\n - 测试点 4-12 中，$N≤50$。\n - 测试点 13-20 没有额外限制。\n\n供题：Nick Wu ", "locale": "zh-CN"}}}
{"pid": "P7155", "type": "P", "difficulty": 7, "samples": [["6 3 8\n010000\n001000\n000100\n000010\n000000\n000001\n1 1 1 1\n3 3 1 1\n1 1 3 3\n1 1 1 5\n2 1 1 5\n1 1 2 5\n3 1 3 5\n2 6 2 6\n", "1\n0\n1\n3\n2\n2\n0\n5"], ["6 4 6\n001100\n001110\n101101\n010111\n110111\n000111\n3 2 4 3\n3 1 4 4\n3 4 4 1\n3 3 4 3\n3 6 4 3\n3 1 4 2", "26\n49\n29\n27\n18\n22"], ["6 10 5\n110101\n011001\n001111\n101111\n111010\n000001\n2 5 2 5\n6 1 5 2\n3 4 8 3\n9 3 3 5\n5 1 3 4", "713313311\n716721076\n782223918\n335511486\n539247783"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "USACO", "O2优化", "组合数学"], "title": "[USACO20DEC] Spaceship P", "background": "", "description": "奶牛 Bessie 外星人绑架了，现在被关在了一艘外星人的飞船里！飞船有 $N$（$1≤N≤60$）间房间，编号为 $1…N$，其中某些房间之间由单向通过的门所连接（由于使用了奇怪的外星技术，一扇门甚至可能从一间房间通回这间房间本身！）。然而，没有两扇门具有完全相同的出发和到达房间。此外，Bessie 有一个遥控器，上有编号为 $1…K$ （$1≤K≤60$）的按钮。\n\n如果 Bessie 能够完成一个怪异的任务，外星人就会释放她。首先，他们会选择两间房间 $s$ 和 $t$（$1≤s,t≤N$），以及两个整数 $b_s$ 和 $b_t$（$1≤b_s,b_t≤K$）。他们会将 Bessie 放在房间 $s$ 内，并令她立刻按下按钮 $b_s$。然后 Bessie 需要继续在飞船内穿梭，同时按下按钮。有一些 Bessie 的行动需要遵守的规则：\n\n - 在每间房间内，在按下恰好一个按钮后，她必须选择从某扇门离开去往另一间房间（可能会回到同一间房间）或停止行动。\n - 一旦 Bessie 按下某个按钮，她再次按下这个按钮即为非法，除非在此之间她按下过编号更大的按钮。换句话说，按下编号为 x 的按钮会使得这个按钮变为非法，同时所有编号 $<x$ 的按钮会被重置为合法。\n - 如果 Bessie 按下非法的按钮，任务即失败，外星人就会把她关起来。 \n\n仅当 Bessie 停止行动时位于房间 $t$，她最后按下的按钮是 $b_t$，并且没有按下过非法按钮时，Bessie 才会被释放。\n\nBessie 担心她可能无法完成这一任务。对于 $Q$\n（$1≤Q≤60$）个询问，每个询问包含一组 Bessie 认为可能的 $s,t,b_s$ 以及 $b_t$，Bessie 想要知道可以使她得到释放的通过房间与按键序列的数量。由于答案可能非常大，输出对 $10^9+7$ 取模的结果。 ", "inputFormat": "输入的第一行包含 $N,K,Q$。\n\n以下 $N$ 行每行包含 $N$ 个二进制位（$0$ 或 $1$）。如果从房间 $i$ 到房间 $j$ 存在一扇门，则第 $i$ 行的第 $j$ 位为 1，如果没有这样的门则为 0。\n\n以下 $Q$ 行，每行包含四个整数 $b_s$、$s$、$b_t$、$t$，分别表示起始按钮、起始房间、结束按钮、结束房间。 ", "outputFormat": "对 $Q$ 个询问的每一个，在一行内输出操作序列的数量模 $10^9+7$ 的结果。 ", "hint": "门连接了房间 $1→2$、$2→3$、$3→4$、$4→5$ 以及 $6→6$。\n\n对于第一个询问，Bessie 必须在按下第一个按钮后立刻停止行动。\n\n对于第二个询问，答案显然为零，因为无法从房间 3 前往房间 1。\n\n对于第三个询问，Bessie 的唯一选择是从房间 1 移动到房间 2 到房间 3，同时按下按钮 1、2 和 3。\n\n对于第四个询问，Bessie 的移动方式是唯一的，她有三种可能的按键序列：\n\n - (1,2,3,2,1)\n - (1,2,1,3,1)\n - (1,3,1,2,1)\n\n对于最后一个询问，Bessie 有五种可能的按键序列：\n\n - (2)\n - (2,3,2)\n - (2,3,1,2)\n - (2,1,3,2)\n - (2,1,3,1,2)\n\n### 测试点性质：\n\n - 测试点 4-7 中，$K≤5$ 且 $(b_s,s)$ 在所有询问中均相同。\n - 测试点 8-11 中，对所有询问有 $b_s=K−1$ 以及 $b_t=K$。\n - 测试点 12-15 中，$N,K,Q≤20$。\n - 测试点 16-23 没有额外限制。\n\n供题：Benjamin Qi ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20DEC] Spaceship P", "background": "", "description": "奶牛 Bessie 外星人绑架了，现在被关在了一艘外星人的飞船里！飞船有 $N$（$1≤N≤60$）间房间，编号为 $1…N$，其中某些房间之间由单向通过的门所连接（由于使用了奇怪的外星技术，一扇门甚至可能从一间房间通回这间房间本身！）。然而，没有两扇门具有完全相同的出发和到达房间。此外，Bessie 有一个遥控器，上有编号为 $1…K$ （$1≤K≤60$）的按钮。\n\n如果 Bessie 能够完成一个怪异的任务，外星人就会释放她。首先，他们会选择两间房间 $s$ 和 $t$（$1≤s,t≤N$），以及两个整数 $b_s$ 和 $b_t$（$1≤b_s,b_t≤K$）。他们会将 Bessie 放在房间 $s$ 内，并令她立刻按下按钮 $b_s$。然后 Bessie 需要继续在飞船内穿梭，同时按下按钮。有一些 Bessie 的行动需要遵守的规则：\n\n - 在每间房间内，在按下恰好一个按钮后，她必须选择从某扇门离开去往另一间房间（可能会回到同一间房间）或停止行动。\n - 一旦 Bessie 按下某个按钮，她再次按下这个按钮即为非法，除非在此之间她按下过编号更大的按钮。换句话说，按下编号为 x 的按钮会使得这个按钮变为非法，同时所有编号 $<x$ 的按钮会被重置为合法。\n - 如果 Bessie 按下非法的按钮，任务即失败，外星人就会把她关起来。 \n\n仅当 Bessie 停止行动时位于房间 $t$，她最后按下的按钮是 $b_t$，并且没有按下过非法按钮时，Bessie 才会被释放。\n\nBessie 担心她可能无法完成这一任务。对于 $Q$\n（$1≤Q≤60$）个询问，每个询问包含一组 Bessie 认为可能的 $s,t,b_s$ 以及 $b_t$，Bessie 想要知道可以使她得到释放的通过房间与按键序列的数量。由于答案可能非常大，输出对 $10^9+7$ 取模的结果。 ", "inputFormat": "输入的第一行包含 $N,K,Q$。\n\n以下 $N$ 行每行包含 $N$ 个二进制位（$0$ 或 $1$）。如果从房间 $i$ 到房间 $j$ 存在一扇门，则第 $i$ 行的第 $j$ 位为 1，如果没有这样的门则为 0。\n\n以下 $Q$ 行，每行包含四个整数 $b_s$、$s$、$b_t$、$t$，分别表示起始按钮、起始房间、结束按钮、结束房间。 ", "outputFormat": "对 $Q$ 个询问的每一个，在一行内输出操作序列的数量模 $10^9+7$ 的结果。 ", "hint": "门连接了房间 $1→2$、$2→3$、$3→4$、$4→5$ 以及 $6→6$。\n\n对于第一个询问，Bessie 必须在按下第一个按钮后立刻停止行动。\n\n对于第二个询问，答案显然为零，因为无法从房间 3 前往房间 1。\n\n对于第三个询问，Bessie 的唯一选择是从房间 1 移动到房间 2 到房间 3，同时按下按钮 1、2 和 3。\n\n对于第四个询问，Bessie 的移动方式是唯一的，她有三种可能的按键序列：\n\n - (1,2,3,2,1)\n - (1,2,1,3,1)\n - (1,3,1,2,1)\n\n对于最后一个询问，Bessie 有五种可能的按键序列：\n\n - (2)\n - (2,3,2)\n - (2,3,1,2)\n - (2,1,3,2)\n - (2,1,3,1,2)\n\n### 测试点性质：\n\n - 测试点 4-7 中，$K≤5$ 且 $(b_s,s)$ 在所有询问中均相同。\n - 测试点 8-11 中，对所有询问有 $b_s=K−1$ 以及 $b_t=K$。\n - 测试点 12-15 中，$N,K,Q≤20$。\n - 测试点 16-23 没有额外限制。\n\n供题：Benjamin Qi ", "locale": "zh-CN"}}}
{"pid": "P7156", "type": "P", "difficulty": 7, "samples": [["1 13\n0 199", "4280"], ["6 147\n1 35\n48 103\n125 127\n154 190\n195 235\n240 250", "267188"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "USACO", "O2优化", "数位 DP", "组合数学", "字典树 Trie"], "title": "[USACO20DEC] Cowmistry P", "background": "", "description": "Bessie 的化学作业已经拖了很久，现在需要你的帮助！她需要用三种不同的化学品制造一种混合物。所有聪明的奶牛都知道，某些化学品之间不能进行混合，否则会产生爆炸。具体地说，两种标号为 $a$ 和 $b$ 的化学品当 $a⊕b≤K$ （$1≤K≤10^9$） 时可以出现在同一种混合物中。\n\n注：这里，$a⊕b$ 表示非负整数 $a$ 与 $b$ 的「异或」。这一运算等价于在二进制下将每一对应位相加并且舍弃进位。例如， \n$$0⊕0=1⊕1=0$$\n，\n$$1⊕0=0⊕1=1$$\n，\n$$5⊕7=101_2⊕111_2=010_2=2$$\n。\n\nBessie 有 $N$ 盒化学品，第 $i$ 个盒子内有标号从 $l_i$ 到 $r_i$ 的化学品（$0≤l_i≤r_i≤10^9$）。没有两个盒子中含有同一种化学品。她想要知道她可以得到多少种由三种不同的化学品混合而成的混合物。如果至少一种化学品出现在一种混合物中而没有出现在另一种中，则认为这两种混合物是不同的。由于答案可能非常大，输出对 $10^9+7$ 取模的结果。 ", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $K$。\n\n以下 $N$ 行，每行包含两个空格分隔的整数 $l_i$ 和 $r_i$。保证所有化学品盒子按其中内容的升序给出；也就是说，对所有 $1≤i<N$ 有 $r_i<l_{i+1}$。 ", "outputFormat": "输出 Bessie 可以由三种不同化学品制造的混合物的数量，对 $10^9+7$ 取模。 ", "hint": "我们可以将所有化学品分为不能交叉混合的 $13$ 组：$(0 \\ldots 15)$，$(16 \\ldots 31)$，… $(192 \\ldots 199)$。前 $12$ 组每组贡献了 $352$ 种混合物，最后一组贡献了 $56$ 种（因为所有 $\\binom{8}{3}$ 种 $(192 \\ldots 199)$ 中三种不同化学品的组合均可行），总共为 $352 \\cdot 12 + 56 = 4280$。 \n\n - 测试点 3-4 满足 $\\max(K, r_N) \\le {10}^4$。\n - 测试点 5-6 对某个 $k \\ge 1$ 满足 $K = 2^k - 1$。\n - 测试点 7-11 满足 $\\max(K, r_N) \\le {10}^6$。\n - 测试点 12-16 满足 $N \\le 20$。\n - 测试点 17-21 没有额外限制。\n\n对于所有测试点，满足 $1 \\le N \\le 2 \\times {10}^4$。\n\n供题：Benjamin Qi ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20DEC] Cowmistry P", "background": "", "description": "Bessie 的化学作业已经拖了很久，现在需要你的帮助！她需要用三种不同的化学品制造一种混合物。所有聪明的奶牛都知道，某些化学品之间不能进行混合，否则会产生爆炸。具体地说，两种标号为 $a$ 和 $b$ 的化学品当 $a⊕b≤K$ （$1≤K≤10^9$） 时可以出现在同一种混合物中。\n\n注：这里，$a⊕b$ 表示非负整数 $a$ 与 $b$ 的「异或」。这一运算等价于在二进制下将每一对应位相加并且舍弃进位。例如， \n$$0⊕0=1⊕1=0$$\n，\n$$1⊕0=0⊕1=1$$\n，\n$$5⊕7=101_2⊕111_2=010_2=2$$\n。\n\nBessie 有 $N$ 盒化学品，第 $i$ 个盒子内有标号从 $l_i$ 到 $r_i$ 的化学品（$0≤l_i≤r_i≤10^9$）。没有两个盒子中含有同一种化学品。她想要知道她可以得到多少种由三种不同的化学品混合而成的混合物。如果至少一种化学品出现在一种混合物中而没有出现在另一种中，则认为这两种混合物是不同的。由于答案可能非常大，输出对 $10^9+7$ 取模的结果。 ", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $K$。\n\n以下 $N$ 行，每行包含两个空格分隔的整数 $l_i$ 和 $r_i$。保证所有化学品盒子按其中内容的升序给出；也就是说，对所有 $1≤i<N$ 有 $r_i<l_{i+1}$。 ", "outputFormat": "输出 Bessie 可以由三种不同化学品制造的混合物的数量，对 $10^9+7$ 取模。 ", "hint": "我们可以将所有化学品分为不能交叉混合的 $13$ 组：$(0 \\ldots 15)$，$(16 \\ldots 31)$，… $(192 \\ldots 199)$。前 $12$ 组每组贡献了 $352$ 种混合物，最后一组贡献了 $56$ 种（因为所有 $\\binom{8}{3}$ 种 $(192 \\ldots 199)$ 中三种不同化学品的组合均可行），总共为 $352 \\cdot 12 + 56 = 4280$。 \n\n - 测试点 3-4 满足 $\\max(K, r_N) \\le {10}^4$。\n - 测试点 5-6 对某个 $k \\ge 1$ 满足 $K = 2^k - 1$。\n - 测试点 7-11 满足 $\\max(K, r_N) \\le {10}^6$。\n - 测试点 12-16 满足 $N \\le 20$。\n - 测试点 17-21 没有额外限制。\n\n对于所有测试点，满足 $1 \\le N \\le 2 \\times {10}^4$。\n\n供题：Benjamin Qi ", "locale": "zh-CN"}}}
{"pid": "P7157", "type": "P", "difficulty": 2, "samples": [["3 2\n1 2\n2 3", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["组合数学"], "title": "「dWoi R1」Physics Problem", "background": "面对白板上的物理题，王马陷入了沉思 ……", "description": "有 $n$ 个状态，编号为 $1$ 到 $n$。这 $n$ 个状态之间有 $k$ 种转换关系，第 $i$ 个转换关系描述为：第 $u_i$ 个状态和第 $v_i$ 个状态可以进行转换。当两个状态之间没有直接的转换关系但有间接的转换关系时，那么这两个状态之间有升降华关系。\n\n求有多少个升降华关系。\n\n**王马不会做很难的物理题，所以保证一个状态一定可以通过直接或间接的转换为另一个任意状态。**", "inputFormat": "第一行两个整数 $n,k$ 代表状态数和转换关系数。       \n接下来 $k$ 行每行两个整数 $u_i,v_i$ 代表这两个状态之间有转换关系。", "outputFormat": "一行一个整数代表有多少个升降华关系。", "hint": "#### 样例 1 解释\n\n一共有 $3$ 个状态，编号为 $1,2,3$，第 $1$ 个状态和第 $2$ 个状态之间有转换关系，第 $2$ 个状态和第 $3$ 个状态之间有转换关系，第 $1$ 个状态和第 $3$ 个状态之间没有直接的转换关系，但可以用第 $2$ 个状态做桥梁进行转换，所以第 $1$ 个状态和第 $3$ 个状态之间有升降华关系。只有这一个升降华关系，输出 $1$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$n \\le 2$。\n- Subtask 2（10 pts）：$k=n-1$，$u_i+1=v_i$。\n- Subtask 3（10 pts）：$k=n-1$，$u_i=1$。\n- Subtask 4（25 pts）：$n,k \\le 1000$。\n- Subtask 5（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^7$，$1 \\le u_i,v_i \\le n$。\n\n保证 $u_i \\ne v_i$ 且不存在 $i \\ne j ∧(u_i =u_j∧v_i=v_j)$ 和 $i \\ne j∧(u_i=v_j∧u_j=v_i)$。\n\n这句话也可以理解为无重边无自环。\n\n#### 提示\n\n注意，对于下面这种情况（`a - b` 代表 $a$ 能与 $b$ 互相转换）：\n\n```cpp\n1 - 2\n2 - 3\n1 - 3\n```\n\n第 $1$ 个状态和第 $3$ 个状态算有直接转换关系，即转换关系取“最短路”。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「dWoi R1」Physics Problem", "background": "面对白板上的物理题，王马陷入了沉思 ……", "description": "有 $n$ 个状态，编号为 $1$ 到 $n$。这 $n$ 个状态之间有 $k$ 种转换关系，第 $i$ 个转换关系描述为：第 $u_i$ 个状态和第 $v_i$ 个状态可以进行转换。当两个状态之间没有直接的转换关系但有间接的转换关系时，那么这两个状态之间有升降华关系。\n\n求有多少个升降华关系。\n\n**王马不会做很难的物理题，所以保证一个状态一定可以通过直接或间接的转换为另一个任意状态。**", "inputFormat": "第一行两个整数 $n,k$ 代表状态数和转换关系数。       \n接下来 $k$ 行每行两个整数 $u_i,v_i$ 代表这两个状态之间有转换关系。", "outputFormat": "一行一个整数代表有多少个升降华关系。", "hint": "#### 样例 1 解释\n\n一共有 $3$ 个状态，编号为 $1,2,3$，第 $1$ 个状态和第 $2$ 个状态之间有转换关系，第 $2$ 个状态和第 $3$ 个状态之间有转换关系，第 $1$ 个状态和第 $3$ 个状态之间没有直接的转换关系，但可以用第 $2$ 个状态做桥梁进行转换，所以第 $1$ 个状态和第 $3$ 个状态之间有升降华关系。只有这一个升降华关系，输出 $1$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$n \\le 2$。\n- Subtask 2（10 pts）：$k=n-1$，$u_i+1=v_i$。\n- Subtask 3（10 pts）：$k=n-1$，$u_i=1$。\n- Subtask 4（25 pts）：$n,k \\le 1000$。\n- Subtask 5（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^7$，$1 \\le u_i,v_i \\le n$。\n\n保证 $u_i \\ne v_i$ 且不存在 $i \\ne j ∧(u_i =u_j∧v_i=v_j)$ 和 $i \\ne j∧(u_i=v_j∧u_j=v_i)$。\n\n这句话也可以理解为无重边无自环。\n\n#### 提示\n\n注意，对于下面这种情况（`a - b` 代表 $a$ 能与 $b$ 互相转换）：\n\n```cpp\n1 - 2\n2 - 3\n1 - 3\n```\n\n第 $1$ 个状态和第 $3$ 个状态算有直接转换关系，即转换关系取“最短路”。", "locale": "zh-CN"}}}
{"pid": "P7158", "type": "P", "difficulty": 2, "samples": [["2\n2 3\n11 4", "73\n842367440"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "数学"], "title": "「dWoi R1」Password of Shady", "background": "天海兰太郎被杀后，最原看到图书架后面刷卡器里的尘土并没有消散，陷入了沉思 ……\n\n最原在想，黑幕是如何做到刷卡器的尘土没有消散但是还成功进入了黑幕的房间呢？然后他再次确认了刷卡器，发现了一个密码盘，密码盘下写着一行文字「真正的秘密总是被谎言欺骗，但黑幕不至于欺骗自己」，然后还有一道题，于是最原要用 1min 的时间解出这道题。", "description": "这道题要求最原构造一个 $n$ 位数，并且满足以下两个要求：\n\n- 「强者从不说废话」，代表着这个数没有前导零，$0$ 没有前导零且是一位数。\n- 「强者善于成 $k$ 对合作」，代表着这个数的所有数位中有偶数个 $k$，$0$ 是偶数。\n\n最原很快就让入间制作了一个造数器，但是造数器还需要输入有多少个满足要求的数，于是他就求助于了你，因为做造数器已经用了 59.5s，所以他想让你 0.5s 求出有多少个符合要求的数。\n\n答案对 $998\\ 244\\ 353$ 取模。", "inputFormat": "**本题多测**，测试组数为 $t$。     \n对于每组数据，一行两个整数 $n,k$。", "outputFormat": "对于每组数据，一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n第一组数据，满足要求的数为：\n\n- $0$ 个 $3$，$10\\sim 12$，$14 \\sim 22$，$24 \\sim 29$，$40 \\sim 42$，$44 \\sim 52$，$54 \\sim 62$，$64 \\sim 72$，$74 \\sim 82$，$84 \\sim 92$，$94\\sim 99$。\n- $2$ 个 $3$，$33$。\n\n第二组数据的样例解释写了 114514 行，但赛前 0.1s 不小心被黑白熊偷走了，书虫来不及补了。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$n=1$。\n- Subtask 2（25 pts）：$n \\le 6$。\n- Subtask 3（25 pts）：$t \\le 100$。\n- Subtask 4（45 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le k \\le 9$，$1 \\le t \\le 10^6$。\n\n---\n\n后续：你用 0.5s 求出了答案，并且答案正确，但是最原将构造出的数输入密码盘发现错误了，所以这件事是一个谎言，最原还要去搜集言弹打学级裁判（", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「dWoi R1」Password of Shady", "background": "天海兰太郎被杀后，最原看到图书架后面刷卡器里的尘土并没有消散，陷入了沉思 ……\n\n最原在想，黑幕是如何做到刷卡器的尘土没有消散但是还成功进入了黑幕的房间呢？然后他再次确认了刷卡器，发现了一个密码盘，密码盘下写着一行文字「真正的秘密总是被谎言欺骗，但黑幕不至于欺骗自己」，然后还有一道题，于是最原要用 1min 的时间解出这道题。", "description": "这道题要求最原构造一个 $n$ 位数，并且满足以下两个要求：\n\n- 「强者从不说废话」，代表着这个数没有前导零，$0$ 没有前导零且是一位数。\n- 「强者善于成 $k$ 对合作」，代表着这个数的所有数位中有偶数个 $k$，$0$ 是偶数。\n\n最原很快就让入间制作了一个造数器，但是造数器还需要输入有多少个满足要求的数，于是他就求助于了你，因为做造数器已经用了 59.5s，所以他想让你 0.5s 求出有多少个符合要求的数。\n\n答案对 $998\\ 244\\ 353$ 取模。", "inputFormat": "**本题多测**，测试组数为 $t$。     \n对于每组数据，一行两个整数 $n,k$。", "outputFormat": "对于每组数据，一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n第一组数据，满足要求的数为：\n\n- $0$ 个 $3$，$10\\sim 12$，$14 \\sim 22$，$24 \\sim 29$，$40 \\sim 42$，$44 \\sim 52$，$54 \\sim 62$，$64 \\sim 72$，$74 \\sim 82$，$84 \\sim 92$，$94\\sim 99$。\n- $2$ 个 $3$，$33$。\n\n第二组数据的样例解释写了 114514 行，但赛前 0.1s 不小心被黑白熊偷走了，书虫来不及补了。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$n=1$。\n- Subtask 2（25 pts）：$n \\le 6$。\n- Subtask 3（25 pts）：$t \\le 100$。\n- Subtask 4（45 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le k \\le 9$，$1 \\le t \\le 10^6$。\n\n---\n\n后续：你用 0.5s 求出了答案，并且答案正确，但是最原将构造出的数输入密码盘发现错误了，所以这件事是一个谎言，最原还要去搜集言弹打学级裁判（", "locale": "zh-CN"}}}
{"pid": "P7159", "type": "P", "difficulty": 3, "samples": [["3\n1 1 2\n1 2\n2 3", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "「dWoi R1」Sweet Fruit Chocolate", "background": "[事情来源 ……](https://www.bilibili.com/video/BV19Z4y1K7dH)\n\n我们的东条妈妈在残害了梦野之后，还想继续她的事业，残害可怜的最原。她发现最原很喜欢吃甜甜的巧克力，另外还有一种东西叫做西西弗水果，他富含营养但没那么好吃，因此，她想把这些巧克力淋在西西弗水果上。", "description": "东条把想淋的巧克力做成了一个巧克力喷泉树。巧克力喷泉树是一棵 $n$ 个节点的树。每个节点都有一个西西弗水果。对于每一个节点 $u$，你有两种选择：你可以在节点 $u$ 放置 $a_u$ 个水果，也可以一个水果都不放。然后，东条会在根节点往下淋巧克力汁。节点 $u$ 给最原带来的营养值是 $u$ 及其子树中所放置的西西弗水果的数量。东条想要知道，对于所有 $2^n$ 个放水果方案，最原所获得的营养值之和的总和是多少。答案对 $998244353$ 取余。\n\n树的根节点为 $1$。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数 $a_i$。\n\n后面 $n-1$ 行每行两个正整数 $u,v$ $(1\\le u,v\\le n)$，代表有树中一条边 $(u,v)$。", "outputFormat": "一行，一个整数代表答案。", "hint": "#### 样例 1 解释\n\n用 $S$ 表示选中状态\n\n- $S=000$ 贡献 $0$\n- $S=001$ 贡献 $1$\n- $S=010$ 贡献 $2$\n- $S=011$ 贡献 $3$\n- $S=100$ 贡献 $6$\n- $S=101$ 贡献 $7$\n- $S=110$ 贡献 $8$\n- $S=111$ 贡献 $9$\n\n#### 数据规模与约定\n\n对于 $20\\%$ 的数据，满足 $n\\le 20$。\n\n对于另外 $30\\%$ 的数据，满足 $u=v-1$。\n\n对于 $100\\%$ 的数据，满足 $2\\le n\\le 10^6$，$1 \\le a_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「dWoi R1」Sweet Fruit Chocolate", "background": "[事情来源 ……](https://www.bilibili.com/video/BV19Z4y1K7dH)\n\n我们的东条妈妈在残害了梦野之后，还想继续她的事业，残害可怜的最原。她发现最原很喜欢吃甜甜的巧克力，另外还有一种东西叫做西西弗水果，他富含营养但没那么好吃，因此，她想把这些巧克力淋在西西弗水果上。", "description": "东条把想淋的巧克力做成了一个巧克力喷泉树。巧克力喷泉树是一棵 $n$ 个节点的树。每个节点都有一个西西弗水果。对于每一个节点 $u$，你有两种选择：你可以在节点 $u$ 放置 $a_u$ 个水果，也可以一个水果都不放。然后，东条会在根节点往下淋巧克力汁。节点 $u$ 给最原带来的营养值是 $u$ 及其子树中所放置的西西弗水果的数量。东条想要知道，对于所有 $2^n$ 个放水果方案，最原所获得的营养值之和的总和是多少。答案对 $998244353$ 取余。\n\n树的根节点为 $1$。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数 $a_i$。\n\n后面 $n-1$ 行每行两个正整数 $u,v$ $(1\\le u,v\\le n)$，代表有树中一条边 $(u,v)$。", "outputFormat": "一行，一个整数代表答案。", "hint": "#### 样例 1 解释\n\n用 $S$ 表示选中状态\n\n- $S=000$ 贡献 $0$\n- $S=001$ 贡献 $1$\n- $S=010$ 贡献 $2$\n- $S=011$ 贡献 $3$\n- $S=100$ 贡献 $6$\n- $S=101$ 贡献 $7$\n- $S=110$ 贡献 $8$\n- $S=111$ 贡献 $9$\n\n#### 数据规模与约定\n\n对于 $20\\%$ 的数据，满足 $n\\le 20$。\n\n对于另外 $30\\%$ 的数据，满足 $u=v-1$。\n\n对于 $100\\%$ 的数据，满足 $2\\le n\\le 10^6$，$1 \\le a_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P7160", "type": "P", "difficulty": 3, "samples": [["4 4\n3 -4 2 -2\n-5 3 -4 2\n-1 3 -4 0\n3 -3 3 4", "8"], ["1 2\n11 45", "-1"], ["7 7\n10 10 10 -100 11   11 11\n10 10 10 -100 11 -100 11\n10 10 10 -100 11 -100 11\n10 10 10 -100 11 -100 11\n10 10 10 -100 11 -100 11\n10 10 10 -100 11 -100 11\n10 10 10 -100 11   11 11", "176"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP"], "title": "「dWoi R1」Sixth Monokuma's Son", "background": "题目首先定义矩阵环为，给定一个矩阵 $A$，初始全为白色，在其中选定一个子矩阵 $A_1$ 标黑，再在 $A_1$ 内选定一个子矩阵 $A_2$ 标白，就会形成一个矩阵环。注意，矩阵环至少上下左右都有被选定的部分，且整个矩阵环不是一个长方形的矩阵。\n\n假设 `+` 为黑，`-` 为白，下面这个就是矩阵环：\n\n```\n---+++++--\n---++--+--\n---+++++--\n---+++++--\n----------\n```\n\n下面就不是矩阵环：\n\n```\n------- ------\n---+++- --+++-\n---+-+- --+++-\n------- --+++-\n```\n\n因此，矩阵环会出现上，下，左，右四条边，每个方向有多少个涂黑的部分，就是那个方向的厚度。比如对于第一张符合要求的图，上方，右方的厚度为 $1$，左方，下方的厚度为 $2$。\n\n**注意，一个完整的矩阵不是一个矩阵环。**\n\n---\n\n接下来是正经的题目背景：\n\n最原得到了“狱原发现一些小昆虫”这个线索后，立刻采取了行动。首先，他利用入间的 ~~遗物~~，那个类似喷火器的东西，吸进了一些空气，然后，他打算利用机望的机械眼进行查看。", "description": "机望的机械眼能扫到一片 $n \\times m$ 的区域，第 $i$ 行第 $j$ 列发现了 $a_{i,j}$ 的不对劲值。\n\n因为机望被外部力量折磨的厉害，所以机望只能锁定一个矩阵环进行查看。机望想求助于你，他想让你锁定一个矩阵环，使得这个矩阵环中的所有位置的不对劲值的和最大，**上方，下方的厚度为 $1$ 且上方的那一行在整个区域的第一行，下方的那一行在整个区域的最后一行**。至于左右的厚度，机望不限制更多要求。", "inputFormat": "第一行两个整数 $n,m$ 代表整片区域的大小。          \n接下来 $n$ 行每行 $m$ 个整数 $a_{i,j}$ 代表每一个位置的不对劲值。", "outputFormat": "一行一个整数代表答案。           \n如果不能选出一个符合要求的矩阵环，输出 $-1$。", "hint": "#### 样例说明\n\n关于样例 1 的解释：\n\n可以选择如下形式的矩阵环（但其实两个解是一样的，因为第一列所有数之和为 $0$）：\n\n```\n++++  -+++\n++-+  -+-+\n++-+  -+-+\n++++  -+++\n```\n\n其中 + 为选定的，- 为未选定的。\n\n关于样例 3，提供者 @[cmll02](https://www.luogu.com.cn/user/171487)，感谢他的贡献。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$n \\le 2$ 或 $m \\le 2$。\n- Subtask 2（5 pts）：$a_{i,j}>0$。\n- Subtask 3（40 pts）：$m \\le 1000$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10$，$1 \\le m \\le 10^5$，$|a_{i,j}| \\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「dWoi R1」Sixth Monokuma's Son", "background": "题目首先定义矩阵环为，给定一个矩阵 $A$，初始全为白色，在其中选定一个子矩阵 $A_1$ 标黑，再在 $A_1$ 内选定一个子矩阵 $A_2$ 标白，就会形成一个矩阵环。注意，矩阵环至少上下左右都有被选定的部分，且整个矩阵环不是一个长方形的矩阵。\n\n假设 `+` 为黑，`-` 为白，下面这个就是矩阵环：\n\n```\n---+++++--\n---++--+--\n---+++++--\n---+++++--\n----------\n```\n\n下面就不是矩阵环：\n\n```\n------- ------\n---+++- --+++-\n---+-+- --+++-\n------- --+++-\n```\n\n因此，矩阵环会出现上，下，左，右四条边，每个方向有多少个涂黑的部分，就是那个方向的厚度。比如对于第一张符合要求的图，上方，右方的厚度为 $1$，左方，下方的厚度为 $2$。\n\n**注意，一个完整的矩阵不是一个矩阵环。**\n\n---\n\n接下来是正经的题目背景：\n\n最原得到了“狱原发现一些小昆虫”这个线索后，立刻采取了行动。首先，他利用入间的 ~~遗物~~，那个类似喷火器的东西，吸进了一些空气，然后，他打算利用机望的机械眼进行查看。", "description": "机望的机械眼能扫到一片 $n \\times m$ 的区域，第 $i$ 行第 $j$ 列发现了 $a_{i,j}$ 的不对劲值。\n\n因为机望被外部力量折磨的厉害，所以机望只能锁定一个矩阵环进行查看。机望想求助于你，他想让你锁定一个矩阵环，使得这个矩阵环中的所有位置的不对劲值的和最大，**上方，下方的厚度为 $1$ 且上方的那一行在整个区域的第一行，下方的那一行在整个区域的最后一行**。至于左右的厚度，机望不限制更多要求。", "inputFormat": "第一行两个整数 $n,m$ 代表整片区域的大小。          \n接下来 $n$ 行每行 $m$ 个整数 $a_{i,j}$ 代表每一个位置的不对劲值。", "outputFormat": "一行一个整数代表答案。           \n如果不能选出一个符合要求的矩阵环，输出 $-1$。", "hint": "#### 样例说明\n\n关于样例 1 的解释：\n\n可以选择如下形式的矩阵环（但其实两个解是一样的，因为第一列所有数之和为 $0$）：\n\n```\n++++  -+++\n++-+  -+-+\n++-+  -+-+\n++++  -+++\n```\n\n其中 + 为选定的，- 为未选定的。\n\n关于样例 3，提供者 @[cmll02](https://www.luogu.com.cn/user/171487)，感谢他的贡献。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）：$n \\le 2$ 或 $m \\le 2$。\n- Subtask 2（5 pts）：$a_{i,j}>0$。\n- Subtask 3（40 pts）：$m \\le 1000$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10$，$1 \\le m \\le 10^5$，$|a_{i,j}| \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P7161", "type": "P", "difficulty": 5, "samples": [["1\n1 4", "99 23"], ["2\n3 2\n5 5", "9 39\n5 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #2] Euklid", "background": "", "description": "对于正整数 $a, b$，定义 $R(a, b)$ 为：  \n\n $\\begin{cases}R(b,a)&a<b\\\\R\\left(\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor,b\\right)&1<b\\leq a\\\\a&1=b\\leq a\\end{cases}$\n \n给定正整数 $g, h$，求正整数 $a, b$ 使得 $\\gcd(a,b)=g$，$R(a,b)=h$。", "inputFormat": "第一行一个整数 $t\\ (1\\leq t\\leq40)$，代表数据组数。  \n接下来 $t$ 行每行两个正整数 $g_i, h_i$。", "outputFormat": "输出 $T$ 行，每行两个满足题意的正整数 $a_i, b_i$。  \n要求 $a, b$ 均不超过 $10^{18}$。  \n可以证明一定有满足题意的 $a, b$，若有多组解输出任意一组即可。", "hint": "**【样例解释 #1】**\n\n$\\gcd(99,23)=1$，$R(99,23)=4$\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1 \\leq g \\leq 200,000$，$2 \\leq h \\leq 200,000$。\n\nSubtask #1（$4$ pts）：$g=h$。  \nSubtask #2（$7$ pts）：$h=2$。  \nSubtask #3（$7$ pts）：$g=h^2$。  \nSubtask #4（$14$ pts）：$g,h \\leq 20$。  \nSubtask #5（$36$ pts）：$g,h \\leq 2000$。  \nSubtask #6（$32$ pts）：无附加约束。\n\n**【说明】**\n\n译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 2 C Euklid](https://hsin.hr/coci/archive/2020_2021/contest2_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #2] Euklid", "background": "", "description": "对于正整数 $a, b$，定义 $R(a, b)$ 为：  \n\n $\\begin{cases}R(b,a)&a<b\\\\R\\left(\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor,b\\right)&1<b\\leq a\\\\a&1=b\\leq a\\end{cases}$\n \n给定正整数 $g, h$，求正整数 $a, b$ 使得 $\\gcd(a,b)=g$，$R(a,b)=h$。", "inputFormat": "第一行一个整数 $t\\ (1\\leq t\\leq40)$，代表数据组数。  \n接下来 $t$ 行每行两个正整数 $g_i, h_i$。", "outputFormat": "输出 $T$ 行，每行两个满足题意的正整数 $a_i, b_i$。  \n要求 $a, b$ 均不超过 $10^{18}$。  \n可以证明一定有满足题意的 $a, b$，若有多组解输出任意一组即可。", "hint": "**【样例解释 #1】**\n\n$\\gcd(99,23)=1$，$R(99,23)=4$\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1 \\leq g \\leq 200,000$，$2 \\leq h \\leq 200,000$。\n\nSubtask #1（$4$ pts）：$g=h$。  \nSubtask #2（$7$ pts）：$h=2$。  \nSubtask #3（$7$ pts）：$g=h^2$。  \nSubtask #4（$14$ pts）：$g,h \\leq 20$。  \nSubtask #5（$36$ pts）：$g,h \\leq 2000$。  \nSubtask #6（$32$ pts）：无附加约束。\n\n**【说明】**\n\n译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 2 C Euklid](https://hsin.hr/coci/archive/2020_2021/contest2_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7162", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3\n1 2\n2 3", "8"], ["4\n2 2 3 2\n1 3\n3 2\n4 3", "15"], ["5\n5 2 3 1 4\n2 1\n3 1\n2 4\n2 5", "26"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #2] Sjekira", "background": "", "description": "有一棵 $n$ 个结点的树，每个结点有一个权值，删除一条边的费用为该边连接子树中结点权值最大值之和。问以任意顺序删除树中所有边的最小花费。", "inputFormat": "第一行一个整数 $n$，表示结点数。  \n第二行 $n$ 个整数 $t_1, t_2, \\ldots , t_n$，其中第 $i$ 个数表示结点 $i$ 的权值。  \n接下来 $n-1$ 行，每行两个整数 $x, y$，表示 $x$ 和 $y$ 之间有一条边。", "outputFormat": "输出一个数，代表最小花费。", "hint": "**【样例解释 #1】**\n\n先删 $(2,3)$，再删 $(1,2)$，花费为 $5+3=8$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 100,000$，$1 \\leq t_i \\leq 10^9$。\n\nSubtask #1（$10$ pts）：$n \\leq 10$。  \nSubtask #2（$10$ pts）：$i$ 与 $i-1$ 有边直接相连。  \nSubtask #3（$30$ pts）：$n \\leq 1000$。  \nSubtask #4（$50$ pts）：无附加限制。\n\n**【说明】**\n\n译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 2 D Sjekira](https://hsin.hr/coci/contest2_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #2] Sjekira", "background": "", "description": "有一棵 $n$ 个结点的树，每个结点有一个权值，删除一条边的费用为该边连接子树中结点权值最大值之和。问以任意顺序删除树中所有边的最小花费。", "inputFormat": "第一行一个整数 $n$，表示结点数。  \n第二行 $n$ 个整数 $t_1, t_2, \\ldots , t_n$，其中第 $i$ 个数表示结点 $i$ 的权值。  \n接下来 $n-1$ 行，每行两个整数 $x, y$，表示 $x$ 和 $y$ 之间有一条边。", "outputFormat": "输出一个数，代表最小花费。", "hint": "**【样例解释 #1】**\n\n先删 $(2,3)$，再删 $(1,2)$，花费为 $5+3=8$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 100,000$，$1 \\leq t_i \\leq 10^9$。\n\nSubtask #1（$10$ pts）：$n \\leq 10$。  \nSubtask #2（$10$ pts）：$i$ 与 $i-1$ 有边直接相连。  \nSubtask #3（$30$ pts）：$n \\leq 1000$。  \nSubtask #4（$50$ pts）：无附加限制。\n\n**【说明】**\n\n译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 2 D Sjekira](https://hsin.hr/coci/contest2_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7163", "type": "P", "difficulty": 6, "samples": [["3\n010\n1 2\n2 3", "4"], ["5\n00000\n1 2\n2 3\n2 4\n3 5", "7"], ["5\n00100\n1 2\n2 3\n2 4\n3 5", "8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #2] Svjetlo", "background": null, "description": "有一个呈树状结构的吊灯，由 $n$ 个灯泡组成，这些灯泡之间有 $n-1$ 根电线连接。每个灯泡有一个按钮，能使灯泡的状态发生改变，即把打开的灯泡关闭，关闭的灯泡打开。你需要把所有的灯泡打开。\n\n你可以选择一个序列，序列中两两相邻位置的灯泡相邻，灯泡可以在序列中出现多次。你可以依次改变序列中的灯泡的状态。\n\n你需要计算出最短的符合题目要求的灯泡序列。保证至少有一个灯泡在开始时处于关闭状态。", "inputFormat": "第一行一个整数 $n$，表示灯泡的数量。  \n第二行一个长为 $n$ 的 01 序列，表示灯泡的状态，其中“0”代表关闭，“1”代表打开。  \n接下来 $n - 1$ 行每行两个整数 $x, y$，表示 $x$ 与 $y$ 之间有边。", "outputFormat": "输出序列的最小长度。可以证明这样的序列一定存在。", "hint": "**【样例解释 #1】**\n\n序列可以为 $1, 2, 3, 2$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2 \\leq n \\leq 500,000$。\n\nSubtask #1（$19$ pts）：$n \\leq 100$。  \nSubtask #2（$27$ pts）：每个灯泡最多与两个灯泡相连。  \nSubtask #3（$27$ pts）：一开始所有灯泡均处于关闭状态。  \nSubtask #4（$27$ pts）：无附加限制。\n\n#### 说明\n\n译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 2 E Svjetlo](https://hsin.hr/coci/archive/2020_2021/contest2_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #2] Svjetlo", "background": null, "description": "有一个呈树状结构的吊灯，由 $n$ 个灯泡组成，这些灯泡之间有 $n-1$ 根电线连接。每个灯泡有一个按钮，能使灯泡的状态发生改变，即把打开的灯泡关闭，关闭的灯泡打开。你需要把所有的灯泡打开。\n\n你可以选择一个序列，序列中两两相邻位置的灯泡相邻，灯泡可以在序列中出现多次。你可以依次改变序列中的灯泡的状态。\n\n你需要计算出最短的符合题目要求的灯泡序列。保证至少有一个灯泡在开始时处于关闭状态。", "inputFormat": "第一行一个整数 $n$，表示灯泡的数量。  \n第二行一个长为 $n$ 的 01 序列，表示灯泡的状态，其中“0”代表关闭，“1”代表打开。  \n接下来 $n - 1$ 行每行两个整数 $x, y$，表示 $x$ 与 $y$ 之间有边。", "outputFormat": "输出序列的最小长度。可以证明这样的序列一定存在。", "hint": "**【样例解释 #1】**\n\n序列可以为 $1, 2, 3, 2$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2 \\leq n \\leq 500,000$。\n\nSubtask #1（$19$ pts）：$n \\leq 100$。  \nSubtask #2（$27$ pts）：每个灯泡最多与两个灯泡相连。  \nSubtask #3（$27$ pts）：一开始所有灯泡均处于关闭状态。  \nSubtask #4（$27$ pts）：无附加限制。\n\n#### 说明\n\n译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 2 E Svjetlo](https://hsin.hr/coci/archive/2020_2021/contest2_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7164", "type": "P", "difficulty": 6, "samples": [["5\n5 3\n4 4\n2 1\n3 2\n1 5", "24"], ["6\n3 1\n2 1\n2 2\n2 3\n1 1\n2 2", "8"], ["5\n15 19\n5 6\n1 13\n3 7\n1 2\n", "285"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "线段树", "分治", "凸包", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #1] 3D Histogram", "background": "~~原题目背景其实是一个出毒瘤题的套路，有兴趣的同学可以去看看，这里懒得翻译了~~", "description": "在一个三维直方图中，放入 $n$ 个三维块，这些三维块的宽度均为 $1$，且能使得在正面看是一个从左到右分别高度为 $a_i$ 的二维直方图，在上面看是一个从左到右分别高度为 $b_i$ 的二维直方图。\n\n求在直方图中能放入的最大体积长方体的体积是多少，长方体的所有边均要与三维块的长宽高平行。", "inputFormat": "第一行一个整数 $n$ 代表三维块数量。       \n接下来 $n$ 行每行两个整数 $a_i,b_i$，如题目描述。", "outputFormat": "一行一个整数代表能放入的最大长方体体积。", "hint": "#### 样例 1 解释\n\n描述的直方图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z2txhsvt.png)\n\n能放入的最大长方体体积为 $2 \\times 4 \\times 3=24$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：$1 \\le n \\le 2000$。\n- Subtask 2（90 pts）：$1 \\le n \\le 2 \\times 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\le a_i,b_i \\le 10^6$。\n\n**本题满分 $110$ 分。**\n\n#### 说明\n\n翻译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 1 C 3D Histogram](https://hsin.hr/coci/archive/2020_2021/contest1_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #1] 3D Histogram", "background": "~~原题目背景其实是一个出毒瘤题的套路，有兴趣的同学可以去看看，这里懒得翻译了~~", "description": "在一个三维直方图中，放入 $n$ 个三维块，这些三维块的宽度均为 $1$，且能使得在正面看是一个从左到右分别高度为 $a_i$ 的二维直方图，在上面看是一个从左到右分别高度为 $b_i$ 的二维直方图。\n\n求在直方图中能放入的最大体积长方体的体积是多少，长方体的所有边均要与三维块的长宽高平行。", "inputFormat": "第一行一个整数 $n$ 代表三维块数量。       \n接下来 $n$ 行每行两个整数 $a_i,b_i$，如题目描述。", "outputFormat": "一行一个整数代表能放入的最大长方体体积。", "hint": "#### 样例 1 解释\n\n描述的直方图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z2txhsvt.png)\n\n能放入的最大长方体体积为 $2 \\times 4 \\times 3=24$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：$1 \\le n \\le 2000$。\n- Subtask 2（90 pts）：$1 \\le n \\le 2 \\times 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\le a_i,b_i \\le 10^6$。\n\n**本题满分 $110$ 分。**\n\n#### 说明\n\n翻译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 1 C 3D Histogram](https://hsin.hr/coci/archive/2020_2021/contest1_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7165", "type": "P", "difficulty": 5, "samples": [["4\n1 2\n2 3\n3 4\n", "1"], ["6\n1 2\n1 3\n3 4\n3 5\n5 6", "0"], ["9\n1 3\n2 3\n3 4\n3 5\n5 6\n5 7\n7 8\n7 9", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["树形数据结构", "2020", "递归", "枚举", "COCI（克罗地亚）", "分类讨论", "启发式合并"], "title": "[COCI 2020/2021 #1] Papričice", "background": "", "description": "给定一个 $n$ 个点的树，这 $n$ 个点编号为 $1$ 到 $n$。\n\n现在要选择断掉两条边，会形成三个连通块，假设这三个连通块内的点数分别为 $a,b,c$，那么您要做的就是最小化 $\\max\\{a,b,c\\}-\\min\\{a,b,c\\}$ 的大小，求这个最小值。", "inputFormat": "第一行一个整数 $n$ 代表树的点数。        \n接下来 $n-1$ 行每行两个整数 $x,y$ 代表树的一条边。", "outputFormat": "一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n能构造的最优解三个连通块的点数都为 $1,1,2$，所以输出 $2-1=1$。\n\n#### 样例 2 解释\n\n断掉点 $1$ 到点 $3$ 的边，点 $3$ 到点 $5$ 的边，形成的三个连通块点数相同。\n\n#### 样例 3 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nybys0n6.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（15 pts）：$3 \\le n \\le 200$。\n- Subtask 2（35 pts）：$3 \\le n \\le 2000$。\n- Subtask 3（60 pts）：$3 \\le n \\le 2 \\times 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\le x,y \\le n$。\n\n**本题满分 $110$ 分。**\n\n#### 说明\n\n翻译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 1 D Papričice\n](https://hsin.hr/coci/contest1_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #1] Papričice", "background": "", "description": "给定一个 $n$ 个点的树，这 $n$ 个点编号为 $1$ 到 $n$。\n\n现在要选择断掉两条边，会形成三个连通块，假设这三个连通块内的点数分别为 $a,b,c$，那么您要做的就是最小化 $\\max\\{a,b,c\\}-\\min\\{a,b,c\\}$ 的大小，求这个最小值。", "inputFormat": "第一行一个整数 $n$ 代表树的点数。        \n接下来 $n-1$ 行每行两个整数 $x,y$ 代表树的一条边。", "outputFormat": "一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n能构造的最优解三个连通块的点数都为 $1,1,2$，所以输出 $2-1=1$。\n\n#### 样例 2 解释\n\n断掉点 $1$ 到点 $3$ 的边，点 $3$ 到点 $5$ 的边，形成的三个连通块点数相同。\n\n#### 样例 3 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nybys0n6.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（15 pts）：$3 \\le n \\le 200$。\n- Subtask 2（35 pts）：$3 \\le n \\le 2000$。\n- Subtask 3（60 pts）：$3 \\le n \\le 2 \\times 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\le x,y \\le n$。\n\n**本题满分 $110$ 分。**\n\n#### 说明\n\n翻译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 1 D Papričice\n](https://hsin.hr/coci/contest1_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7166", "type": "P", "difficulty": 5, "samples": [["3\n3 2 1\n1 3 2\n3 2 1\n", "1 2 0\n2 0 1\n"], ["4\n4 3 2 1\n3 1 2 4\n1 2 3 4", "3 2 1\n1 0 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #1] Tenis", "background": "", "description": "你是网球比赛的组织者，一场有 $n$ 个选手的比赛就要举办了，选手编号为 $1$ 到 $n$。在赛前你测试了他们在三种场地（A 场地，B 场地，C 场地）分别的初始排名，在这场比赛中，两个人之间比赛的场数恰好为一次，也就是说总共有 $\\dfrac{n \\times (n-1)}{2}$ 场比赛。\n\n比赛不会出现平局，会选择这次比赛所在的场地类型中初始排名靠前的选手获胜。你办的比赛也有一些黑幕，你就希望让你办的比赛中的获胜者能在他所更擅长的场地类型上比赛（即在他初试排名靠前的场地类型上比赛），如果有多个场地满足要求，那么选择输的那一方排名较靠前的。如果还有多个场地满足要求，选择编号小的（A $<$ B $<$ C）。\n\n你想知道，每个场地上举行了多少场比赛，且每个人赢的场数。", "inputFormat": "第一行一个整数 $n$ 代表选手个数。        \n第二行 $n$ 个整数代表选手们在 A 场地的初始排名，由强到弱依次给出。  \n第三行 $n$ 个整数代表选手们在 B 场地的初始排名，由强到弱依次给出。    \n第四行 $n$ 个整数代表选手们在 C 场地的初始排名，由强到弱依次给出。", "outputFormat": "第一行三个整数分别代表在 A 场地，B 场地，C 场地举办了多少场比赛。        \n第二行 $n$ 个整数代表每个选手获胜了几场。", "hint": "#### 样例 1 解释\n\n对于选手1和2之间的比赛，应该在2号场地进行，因为胜者（选手1）在该场地排名最好（第一位）。对于选手1和3之间的比赛，获胜者在三个场地上的排名相同，但输家在2号场地的排名更高。对于选手2和3之间的比赛，1号场地和3号场地的排名相同，因此选择索引较小的1号场地。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（35 pts）：$1 \\le n \\le 300$。\n- Subtask 2（15 pts）：$1 \\le n \\le 3000$。\n- Subtask 3（60 pts）：$1 \\le n \\le 10^5$。\n\n**满分 $110$ 分。**\n\n#### 说明\n\n翻译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 1 E Tenis\n](https://hsin.hr/coci/archive/2020_2021/contest1_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #1] Tenis", "background": "", "description": "你是网球比赛的组织者，一场有 $n$ 个选手的比赛就要举办了，选手编号为 $1$ 到 $n$。在赛前你测试了他们在三种场地（A 场地，B 场地，C 场地）分别的初始排名，在这场比赛中，两个人之间比赛的场数恰好为一次，也就是说总共有 $\\dfrac{n \\times (n-1)}{2}$ 场比赛。\n\n比赛不会出现平局，会选择这次比赛所在的场地类型中初始排名靠前的选手获胜。你办的比赛也有一些黑幕，你就希望让你办的比赛中的获胜者能在他所更擅长的场地类型上比赛（即在他初试排名靠前的场地类型上比赛），如果有多个场地满足要求，那么选择输的那一方排名较靠前的。如果还有多个场地满足要求，选择编号小的（A $<$ B $<$ C）。\n\n你想知道，每个场地上举行了多少场比赛，且每个人赢的场数。", "inputFormat": "第一行一个整数 $n$ 代表选手个数。        \n第二行 $n$ 个整数代表选手们在 A 场地的初始排名，由强到弱依次给出。  \n第三行 $n$ 个整数代表选手们在 B 场地的初始排名，由强到弱依次给出。    \n第四行 $n$ 个整数代表选手们在 C 场地的初始排名，由强到弱依次给出。", "outputFormat": "第一行三个整数分别代表在 A 场地，B 场地，C 场地举办了多少场比赛。        \n第二行 $n$ 个整数代表每个选手获胜了几场。", "hint": "#### 样例 1 解释\n\n对于选手1和2之间的比赛，应该在2号场地进行，因为胜者（选手1）在该场地排名最好（第一位）。对于选手1和3之间的比赛，获胜者在三个场地上的排名相同，但输家在2号场地的排名更高。对于选手2和3之间的比赛，1号场地和3号场地的排名相同，因此选择索引较小的1号场地。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（35 pts）：$1 \\le n \\le 300$。\n- Subtask 2（15 pts）：$1 \\le n \\le 3000$。\n- Subtask 3（60 pts）：$1 \\le n \\le 10^5$。\n\n**满分 $110$ 分。**\n\n#### 说明\n\n翻译自 [Croatian Open Competition in Informatics 2020 ~ 2021 Round 1 E Tenis\n](https://hsin.hr/coci/archive/2020_2021/contest1_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7167", "type": "P", "difficulty": 4, "samples": [["6 5\n4 10\n6 8\n3 5\n4 14\n10 9\n4 20\n1 25\n6 30\n5 8\n3 13\n2 8", "5\n0\n5\n4\n2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "倍增", "eJOI（欧洲）", "ST 表", "单调栈"], "title": "[eJOI 2020] Fountain (Day1)", "background": null, "description": "大家都知道喷泉吧？现在有一个喷泉由 $N$ 个圆盘组成，从上到下以此编号为 $1 \\sim N$，第 $i$ 个圆盘的直径为 $D_i$，容量为 $C_i$，当一个圆盘里的水大于了这个圆盘的容量，那么水就会溢出往下流，直到流入半径大于这个圆盘的圆盘里。如果下面没有满足要求的圆盘，水就会流到喷泉下的水池里。\n\n现在给定 $Q$ 组询问，每一组询问这么描述：\n\n- 向第 $R_i$ 个圆盘里倒入 $V_i$ 的水，求水最后会流到哪一个圆盘停止。\n\n如果最终流入了水池里，那么输出 $0$。\n\n**注意，每个询问互不影响。**", "inputFormat": "第一行两个整数 $N,Q$ 代表圆盘数和询问数。      \n接下来 $N$ 行每行两个整数 $D_i,C_i$ 代表一个圆盘。       \n接下来 $Q$ 行每行两个整数 $R_i,V_i$ 代表一个询问。", "outputFormat": "$Q$ 行每行一个整数代表询问的答案。", "hint": "#### 样例 1 解释\n\n前两个询问的解释如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/64e7acuq.png)\n\n因为每个询问互不影响，对于第三个询问，第 $5$ 个圆盘里的水不会溢出。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（30 pts）：$N \\le 1000$，$Q \\le 2000$。\n- Subtask 2（30 pts）：$D_i$ 为严格单调递增序列。\n- Subtask 3（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $2 \\le N \\le 10^5$。\n- $1 \\le Q \\le 2 \\times 10^5$。\n- $1 \\le C_i \\le 1000$。\n- $1 \\le D_i,V_i \\le 10^9$。\n- $ 1\\le R_i \\le N$。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day1 A Fountain](https://ejoi2020.ge/static/assets/Day1/Problems/Fountain.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2020] Fountain (Day1)", "background": null, "description": "大家都知道喷泉吧？现在有一个喷泉由 $N$ 个圆盘组成，从上到下以此编号为 $1 \\sim N$，第 $i$ 个圆盘的直径为 $D_i$，容量为 $C_i$，当一个圆盘里的水大于了这个圆盘的容量，那么水就会溢出往下流，直到流入半径大于这个圆盘的圆盘里。如果下面没有满足要求的圆盘，水就会流到喷泉下的水池里。\n\n现在给定 $Q$ 组询问，每一组询问这么描述：\n\n- 向第 $R_i$ 个圆盘里倒入 $V_i$ 的水，求水最后会流到哪一个圆盘停止。\n\n如果最终流入了水池里，那么输出 $0$。\n\n**注意，每个询问互不影响。**", "inputFormat": "第一行两个整数 $N,Q$ 代表圆盘数和询问数。      \n接下来 $N$ 行每行两个整数 $D_i,C_i$ 代表一个圆盘。       \n接下来 $Q$ 行每行两个整数 $R_i,V_i$ 代表一个询问。", "outputFormat": "$Q$ 行每行一个整数代表询问的答案。", "hint": "#### 样例 1 解释\n\n前两个询问的解释如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/64e7acuq.png)\n\n因为每个询问互不影响，对于第三个询问，第 $5$ 个圆盘里的水不会溢出。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（30 pts）：$N \\le 1000$，$Q \\le 2000$。\n- Subtask 2（30 pts）：$D_i$ 为严格单调递增序列。\n- Subtask 3（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $2 \\le N \\le 10^5$。\n- $1 \\le Q \\le 2 \\times 10^5$。\n- $1 \\le C_i \\le 1000$。\n- $1 \\le D_i,V_i \\le 10^9$。\n- $ 1\\le R_i \\le N$。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day1 A Fountain](https://ejoi2020.ge/static/assets/Day1/Problems/Fountain.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7168", "type": "P", "difficulty": 5, "samples": [["7", ""]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["贪心", "2020", "交互题", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2020] Triangulation (Day1)", "background": "[使用说明](https://www.luogu.com.cn/paste/1nsbzh41)\n\n---\n\n题目中的 $(A,B)$ 代表一条从 $A$ 连到 $B$ 的对角线。\n\n定义正多边形的顶点 $A$ 到顶点 $B$ 的 eJ 距离为点 $A$ 顺时针走到点 $B$ 需要的边数和点 $A$ 逆时针走到点 $B$ 需要的边数的最大值。根据这个定义，也可以拓展出正多边形的顶点 $A$ 到一条正多边形的对角线 $B$ 的 eJ 距离的定义，即点 $A$ 顺时针走到对角线 $B$ 的一个端点（离的最近的端点）需要的边数和逆时针走需要的边数的最大值。\n\n比如点 $0$ 到对角线 $(0,5)$ 的 eJ 距离为 $5$，顺时针走需要经过 $5$ 条边，逆时针要经过 $2$ 条，答案为 $\\max\\{5,2\\}=5$。", "description": "给定一个 $N$ 边形，点顺时针编号为 $0 \\sim N-1$，现在小 A 画了 $n-3$ 条对角线，保证这 $n-3$ 条对角线除了顶点外没有额外交点。\n\n现在小 A 想让小 J 猜猜哪条对角线离点 $0$ 的 eJ 距离最近，并回答这个距离。\n\n小 J 并不能通过读心术知道答案，所以他只能找小 A 索要一些线索。小 A 给了小 J $n$ 的值，并且答应小 J 可以找小 A 询问一对顶点之间是否有对角线，但小 J 的询问次数有限制。\n\n小 J 还要 AK eJOI，所以这个问题就交给了你。\n\n#### 交互规则\n\n你需要调用 `triangulation.h` 头文件。\n\n```cpp\nint solve(int n)\n```\n\n- 这个函数只能被调用一次。\n- $n$：多边形顶点个数。\n- 假设答案对角线为 $(a,b)$，这个函数应该返回 $a \\times n+b$。\n- 如果有多条对角线离点 $0$ 最近，可以只返回其中一条。\n\nsolve 函数可以调用若干次下面这个函数：\n\n```cpp\nint query(int x, int y)\n```\n\n- $x,y$：代表一组询问。\n- $0 \\le x,y \\le n-1$。\n- 如果 $(x,y)$ 存在，返回 $1$，否则返回 $0$。\n\n", "inputFormat": "", "outputFormat": "", "hint": "#### 样例 1\n\n样例输入格式仅包含一个整数 $n$。\n\n|调用函数|返回值|\n|:-:|:-:|\n|`solve(7)`||\n|`query(0,3)`|$0$|\n|`query(0,5)`|$1$|\n|`query(1,5)`|$1$|\n||solve 函数返回 $1 \\times7+5=12$|\n||正确|\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$5 \\le n \\le 100$。\n\n假设 $q$ 为你单组数据的询问次数，令 $w=\\dfrac{n \\times (n-3)}{2}$，你单组数据的分数为：\n\n- 询问不合法，答案错误或 $w<q$，你会得到 $0\\%$ 的分数。\n- $n<q \\le w$，你会得到 $10+60 \\times \\dfrac{w-q}{w-n}\\%$ 的分数。\n- $q \\le n$，你会得到 $100\\%$ 的分数。\n\n感谢 @[FZzzz](https://www.luogu.com.cn/user/174045) 提供的 checker & grader。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day1 B Triangulation](https://ejoi2020.ge/static/assets/Day1/Problems/Triangulation.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2020] Triangulation (Day1)", "background": "[使用说明](https://www.luogu.com.cn/paste/1nsbzh41)\n\n---\n\n题目中的 $(A,B)$ 代表一条从 $A$ 连到 $B$ 的对角线。\n\n定义正多边形的顶点 $A$ 到顶点 $B$ 的 eJ 距离为点 $A$ 顺时针走到点 $B$ 需要的边数和点 $A$ 逆时针走到点 $B$ 需要的边数的最大值。根据这个定义，也可以拓展出正多边形的顶点 $A$ 到一条正多边形的对角线 $B$ 的 eJ 距离的定义，即点 $A$ 顺时针走到对角线 $B$ 的一个端点（离的最近的端点）需要的边数和逆时针走需要的边数的最大值。\n\n比如点 $0$ 到对角线 $(0,5)$ 的 eJ 距离为 $5$，顺时针走需要经过 $5$ 条边，逆时针要经过 $2$ 条，答案为 $\\max\\{5,2\\}=5$。", "description": "给定一个 $N$ 边形，点顺时针编号为 $0 \\sim N-1$，现在小 A 画了 $n-3$ 条对角线，保证这 $n-3$ 条对角线除了顶点外没有额外交点。\n\n现在小 A 想让小 J 猜猜哪条对角线离点 $0$ 的 eJ 距离最近，并回答这个距离。\n\n小 J 并不能通过读心术知道答案，所以他只能找小 A 索要一些线索。小 A 给了小 J $n$ 的值，并且答应小 J 可以找小 A 询问一对顶点之间是否有对角线，但小 J 的询问次数有限制。\n\n小 J 还要 AK eJOI，所以这个问题就交给了你。\n\n#### 交互规则\n\n你需要调用 `triangulation.h` 头文件。\n\n```cpp\nint solve(int n)\n```\n\n- 这个函数只能被调用一次。\n- $n$：多边形顶点个数。\n- 假设答案对角线为 $(a,b)$，这个函数应该返回 $a \\times n+b$。\n- 如果有多条对角线离点 $0$ 最近，可以只返回其中一条。\n\nsolve 函数可以调用若干次下面这个函数：\n\n```cpp\nint query(int x, int y)\n```\n\n- $x,y$：代表一组询问。\n- $0 \\le x,y \\le n-1$。\n- 如果 $(x,y)$ 存在，返回 $1$，否则返回 $0$。\n\n", "inputFormat": "", "outputFormat": "", "hint": "#### 样例 1\n\n样例输入格式仅包含一个整数 $n$。\n\n|调用函数|返回值|\n|:-:|:-:|\n|`solve(7)`||\n|`query(0,3)`|$0$|\n|`query(0,5)`|$1$|\n|`query(1,5)`|$1$|\n||solve 函数返回 $1 \\times7+5=12$|\n||正确|\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$5 \\le n \\le 100$。\n\n假设 $q$ 为你单组数据的询问次数，令 $w=\\dfrac{n \\times (n-3)}{2}$，你单组数据的分数为：\n\n- 询问不合法，答案错误或 $w<q$，你会得到 $0\\%$ 的分数。\n- $n<q \\le w$，你会得到 $10+60 \\times \\dfrac{w-q}{w-n}\\%$ 的分数。\n- $q \\le n$，你会得到 $100\\%$ 的分数。\n\n感谢 @[FZzzz](https://www.luogu.com.cn/user/174045) 提供的 checker & grader。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day1 B Triangulation](https://ejoi2020.ge/static/assets/Day1/Problems/Triangulation.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7169", "type": "P", "difficulty": 5, "samples": [["3\n1 2 3\n2 2 2", "2"], ["4\n10 1 9 1\n10 9 10 9", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2020", "树状数组", "eJOI（欧洲）"], "title": "[eJOI 2020] Exam (Day1)", "background": "", "description": "给定一个长度为 $N$ 的序列 $A_i$，你可以进行无数次下面这个操作：\n\n- 选定一个大小不小于 $2$ 的区间，使得这个区间里的数等于这个区间里的最大值。\n\n你需要用这些操作使得 $A_i=B_i$，求最多能使得多少数满足要求。", "inputFormat": "第一行一个整数 $N$ 代表序列长度。          \n第二行 $N$ 个整数代表序列 $A_i$。      \n第三行 $N$ 个整数代表序列 $B_i$。", "outputFormat": "一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n可以选择对区间 $[1,2]$ 进行操作，最多能有 $2$ 个数满足要求。\n\n#### 样例 2 解释\n\n$A_2$ 或 $A_3$ 能满足要求，但他们不能同时满足要求。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（14 pts）：$N \\le 10$。\n- Subtask 2（12 pts）：$N \\le 10^5$，所有 $B_i$ 都相等。\n- Subtask 3（13 pts）：$N \\le 5000$，$A_i$ 为严格单调递增序列。\n- Subtask 4（23 pts）：$N \\le 10^5$，$A_i$ 两两不同。\n- Subtask 5（16 pts）：$N \\le 200$。\n- Subtask 6（22 pts）：$N \\le 5000$。\n\n对于 $100\\%$ 的数据：\n\n- $2 \\le N$。\n- $1 \\le A_i \\le 10^9$。\n- $1 \\le B_i \\le 10^9$。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day1 C Exam](https://ejoi2020.ge/static/assets/Day1/Problems/Exam.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2020] Exam (Day1)", "background": "", "description": "给定一个长度为 $N$ 的序列 $A_i$，你可以进行无数次下面这个操作：\n\n- 选定一个大小不小于 $2$ 的区间，使得这个区间里的数等于这个区间里的最大值。\n\n你需要用这些操作使得 $A_i=B_i$，求最多能使得多少数满足要求。", "inputFormat": "第一行一个整数 $N$ 代表序列长度。          \n第二行 $N$ 个整数代表序列 $A_i$。      \n第三行 $N$ 个整数代表序列 $B_i$。", "outputFormat": "一行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n可以选择对区间 $[1,2]$ 进行操作，最多能有 $2$ 个数满足要求。\n\n#### 样例 2 解释\n\n$A_2$ 或 $A_3$ 能满足要求，但他们不能同时满足要求。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（14 pts）：$N \\le 10$。\n- Subtask 2（12 pts）：$N \\le 10^5$，所有 $B_i$ 都相等。\n- Subtask 3（13 pts）：$N \\le 5000$，$A_i$ 为严格单调递增序列。\n- Subtask 4（23 pts）：$N \\le 10^5$，$A_i$ 两两不同。\n- Subtask 5（16 pts）：$N \\le 200$。\n- Subtask 6（22 pts）：$N \\le 5000$。\n\n对于 $100\\%$ 的数据：\n\n- $2 \\le N$。\n- $1 \\le A_i \\le 10^9$。\n- $1 \\le B_i \\le 10^9$。\n\n#### 说明\n\n翻译自 [eJOI 2020 Day1 C Exam](https://ejoi2020.ge/static/assets/Day1/Problems/Exam.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7170", "type": "P", "difficulty": 4, "samples": [["3 3\n.**\n*..\n.*.", "**.\n..*\n*.."], ["3 4\n....\n..*.\n....", "*...\n....\n...."], ["3 5\n.**..\n.***.\n..**.", "***..\n.**..\n**..."]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "COCI（克罗地亚）"], "title": "[COCI 2020/2021 #3] Sateliti", "background": "为了得到进一步的探索进展，阿雷西博望远镜将拍下土星的卫星。研究团队必须区分卫星图像并将它们按卫星分组，但由于卫星从不同角度拍摄，因此并不容易。", "description": "捕捉到的图像可以以一个 $n \\times m$ 的矩阵呈现，其中 `*` 表示火山，而 `.` 表示平地。我们认为两个图像属于同一颗卫星，当且它们能**环形地互相通过向上下或左右平移得到**。\n\n科研工作者想要找到**字典序最小**的与给定图像属于同一颗卫星的图像。我们把图像的所有行依次连接组成字符串，再判断字符串的字典序即可。", "inputFormat": "第一行包含两个整数 $n,m$，表示图像的规模。\n\n接下来的 $n$ 行，每行输入 $m$ 个字符，表示图像所对应的矩阵。", "outputFormat": "输出共 $n$ 行，每行有 $m$ 个字符，表示满足要求的字典序最小的图像。", "hint": "**【样例解释 #1】**\n\n所有可能的情况：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ftrlc0tx.png)\n\n**【数据范围】**\n\n| Subtask | 分值 | 数据范围及约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $1 \\le n,m \\le 50$ |\n| $2$ | $40$ | $1 \\le n,m \\le 300$ |\n| $3$ | $60$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 1000$。\n\n**【说明】**\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf)  _T3 Sateliti_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2020/2021 #3] Sateliti", "background": "为了得到进一步的探索进展，阿雷西博望远镜将拍下土星的卫星。研究团队必须区分卫星图像并将它们按卫星分组，但由于卫星从不同角度拍摄，因此并不容易。", "description": "捕捉到的图像可以以一个 $n \\times m$ 的矩阵呈现，其中 `*` 表示火山，而 `.` 表示平地。我们认为两个图像属于同一颗卫星，当且它们能**环形地互相通过向上下或左右平移得到**。\n\n科研工作者想要找到**字典序最小**的与给定图像属于同一颗卫星的图像。我们把图像的所有行依次连接组成字符串，再判断字符串的字典序即可。", "inputFormat": "第一行包含两个整数 $n,m$，表示图像的规模。\n\n接下来的 $n$ 行，每行输入 $m$ 个字符，表示图像所对应的矩阵。", "outputFormat": "输出共 $n$ 行，每行有 $m$ 个字符，表示满足要求的字典序最小的图像。", "hint": "**【样例解释 #1】**\n\n所有可能的情况：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ftrlc0tx.png)\n\n**【数据范围】**\n\n| Subtask | 分值 | 数据范围及约定 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $1 \\le n,m \\le 50$ |\n| $2$ | $40$ | $1 \\le n,m \\le 300$ |\n| $3$ | $60$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 1000$。\n\n**【说明】**\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2020-2021](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf)  _T3 Sateliti_。**", "locale": "zh-CN"}}}
