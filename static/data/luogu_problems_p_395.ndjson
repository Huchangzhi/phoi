{"pid": "P9012", "type": "P", "difficulty": 2, "samples": [["3\nMOMMOM\nMMO\nMOO", "4\n-1\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "USACO", "2023", "分类讨论"], "title": "[USACO23JAN] Moo Operations B", "background": "", "description": "Because Bessie is bored of playing with her usual text string where the only characters are `C`, `O`, and `W`, Farmer John gave her $Q$ new strings $(1 \\le Q \\le 100)$, where the only characters are `M` and `O`. Bessie's favorite word out of the characters `M` and `O` is obviously `MOO`, so she wants to turn each of the $Q$ strings into `MOO` using the following operations:\n\n1. Replace either the first or last character with its opposite (so that 'M' becomes 'O' and 'O' becomes 'M').\n2. Delete either the first or last character. \n\nUnfortunately, Bessie is lazy and does not want to perform more operations than absolutely necessary. For each string, please help her determine the minimum number of operations necessary to form `MOO` or output $−1$ if this is impossible. ", "inputFormat": "The first line of input contains the value of $Q$.\n\nThe next $Q$ lines of input each consist of a string, each of its characters either `M` or `O`. Each string has at least $1$ and at most $100$ characters. ", "outputFormat": "Output the answer for each input string on a separate line. ", "hint": "### Explanation for Sample 1\n\nA sequence of $4$ operations transforming the first string into `MOO` is as follows:\n\nReplace the last character with `O` (operation 1)  \nDelete the first character (operation 2)  \nDelete the first character (operation 2)  \nDelete the first character (operation 2)  \n\nThe second string cannot be transformed into `MOO`. The third string is already `MOO`, so no operations need to be performed. \n\n### Scoring\n\n - Inputs $2-4$: Every string has length at most $3$.\n - Inputs $5-11$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Moo Operations B", "background": "", "description": "Because Bessie is bored of playing with her usual text string where the only characters are `C`, `O`, and `W`, Farmer John gave her $Q$ new strings $(1 \\le Q \\le 100)$, where the only characters are `M` and `O`. Bessie's favorite word out of the characters `M` and `O` is obviously `MOO`, so she wants to turn each of the $Q$ strings into `MOO` using the following operations:\n\n1. Replace either the first or last character with its opposite (so that 'M' becomes 'O' and 'O' becomes 'M').\n2. Delete either the first or last character. \n\nUnfortunately, Bessie is lazy and does not want to perform more operations than absolutely necessary. For each string, please help her determine the minimum number of operations necessary to form `MOO` or output $−1$ if this is impossible. ", "inputFormat": "The first line of input contains the value of $Q$.\n\nThe next $Q$ lines of input each consist of a string, each of its characters either `M` or `O`. Each string has at least $1$ and at most $100$ characters. ", "outputFormat": "Output the answer for each input string on a separate line. ", "hint": "### Explanation for Sample 1\n\nA sequence of $4$ operations transforming the first string into `MOO` is as follows:\n\nReplace the last character with `O` (operation 1)  \nDelete the first character (operation 2)  \nDelete the first character (operation 2)  \nDelete the first character (operation 2)  \n\nThe second string cannot be transformed into `MOO`. The third string is already `MOO`, so no operations need to be performed. \n\n### Scoring\n\n - Inputs $2-4$: Every string has length at most $3$.\n - Inputs $5-11$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Moo Operations B", "background": "", "description": "农夫约翰给了奶牛贝西 $Q$ 个新字符串 $(1\\le Q\\le100)$ ，其中只有字符 `M` 和 `O` ，她想将 $Q$ 个字符串都变成 `MOO`。\n\n贝西可以用如下的方式改变字符串：\n- 用相反的字符替换第一个或最后一个字符（将 `M` 变成 `O` ，将 `O` 变成 `M` ）。\n- 删除第一个或最后一个字符。\n\n贝西只想用最少的次数完成改变。请你帮她找到需要的最小改变次数。如果不可能在有限的步数中完成这个任务，请输出 `-1` 。", "inputFormat": "输入数据的第一行是一个正整数 $Q$ 。\n\n接下来的 $Q$ 行中，每行一个只包含大写字母 `M` 或 `O` 的字符串 $S$ ，保证 $ 1\\le |S| \\le 100$ 。", "outputFormat": "输出 $Q$ 行，每行为该测试点最小操作次数，如果不可能在有限的步数中完成这个任务，请输出 `-1` 。", "hint": "### 样例解释 1\n将第一个字符串转换为 `MOO`的 $4$ 个操作序列如下：\n- 用O替换最后一个字符（操作1）\n- 删除第一个字符（操作2）\n- 删除第一个字符（操作2）\n- 删除第一个字符（操作2）\n\n可以证明，第二个字符串无法转换为 `MOO`。 \n\n第三个字符串已经是 `MOO`，因此无需执行任何操作。\n\n对于 $100\\%$ 的测试点，保证 $1 \\le Q \\le 100$, $ 1\\le |S| \\le 100$ 。", "locale": "zh-CN"}}}
{"pid": "P9013", "type": "P", "difficulty": 5, "samples": [["4\nabc\nabc\nBBC\nABC\nabc\nbbc\nABCD\nBACD", "0\n-1\n1\n3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "图论建模", "基环树"], "title": "[USACO23JAN] Find and Replace S", "background": "", "description": "Bessie is using the latest and greatest innovation in text-editing software, miV! She starts with an input string consisting solely of upper and lowercase English letters and wishes to transform it into some output string. With just one keystroke, miV allows her to replace all occurrences of one English letter $c_1$ in the string with another English letter $c_2$. For example, given the string `aAbBa`, if Bessie selects $c_1$ as `a` and $c_2$ as `B`, the given string transforms into `BAbBB`.\n\nBessie is a busy cow, so for each of $T\n(1 \\le T \\le 10)$ independent test cases, output the minimum number of keystrokes required to transform her input string into her desired output string. ", "inputFormat": "The first line contains $T$, the number of independent test cases.\n\nThe following $T$ pairs of lines contain an input and output string of equal length. All characters are upper or lowercase English letters (either `A` through `Z` or `a` through `z`). The sum of the lengths of all strings does not exceed $10^5$. ", "outputFormat": "For each test case, output the minimum number of keystrokes required to change the input string into the output string, or $−1$ if it is impossible to do so. ", "hint": "### Explanation for Sample 1\n\nThe first input string is the same as its output string, so no keystrokes are required.\n\nThe second input string cannot be changed into its output string because Bessie cannot change one `B`' to `A` while keeping the other as `B`.\n\nThe third input string can be changed into its output string by changing `a` to `b`.\n\nThe last input string can be changed into its output string like so: $\\texttt{ABCD} \\rightarrow \\texttt{EBCD} \\rightarrow \\texttt{EACD} \\rightarrow \\texttt{BACD}$.\n\n### Scoring\n\n - Inputs $2-6$: Every string has a length at most $50$.\n - Inputs $7-9$: All strings consist only of lowercase letters `a` through `e`\n - Inputs $10-15$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Find and Replace S", "background": "", "description": "Bessie is using the latest and greatest innovation in text-editing software, miV! She starts with an input string consisting solely of upper and lowercase English letters and wishes to transform it into some output string. With just one keystroke, miV allows her to replace all occurrences of one English letter $c_1$ in the string with another English letter $c_2$. For example, given the string `aAbBa`, if Bessie selects $c_1$ as `a` and $c_2$ as `B`, the given string transforms into `BAbBB`.\n\nBessie is a busy cow, so for each of $T\n(1 \\le T \\le 10)$ independent test cases, output the minimum number of keystrokes required to transform her input string into her desired output string. ", "inputFormat": "The first line contains $T$, the number of independent test cases.\n\nThe following $T$ pairs of lines contain an input and output string of equal length. All characters are upper or lowercase English letters (either `A` through `Z` or `a` through `z`). The sum of the lengths of all strings does not exceed $10^5$. ", "outputFormat": "For each test case, output the minimum number of keystrokes required to change the input string into the output string, or $−1$ if it is impossible to do so. ", "hint": "### Explanation for Sample 1\n\nThe first input string is the same as its output string, so no keystrokes are required.\n\nThe second input string cannot be changed into its output string because Bessie cannot change one `B`' to `A` while keeping the other as `B`.\n\nThe third input string can be changed into its output string by changing `a` to `b`.\n\nThe last input string can be changed into its output string like so: $\\texttt{ABCD} \\rightarrow \\texttt{EBCD} \\rightarrow \\texttt{EACD} \\rightarrow \\texttt{BACD}$.\n\n### Scoring\n\n - Inputs $2-6$: Every string has a length at most $50$.\n - Inputs $7-9$: All strings consist only of lowercase letters `a` through `e`\n - Inputs $10-15$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Find and Replace S", "background": null, "description": "Bessie 正在使用世界上最先进最伟大的文本编辑器：miV！她想将一个仅由大写和小写英文字母组成的字符串转换为一个新的字符串。每一次操作，miV 可以将字符串中所有的字母  $c_1$ 替换成另一种字母 $c_2$。例：对于字符串`aAbBa`，如果将其中的 `a` 替换成 `B`，那么字符串会变为`BAbBB`。\n\nBessie 非常地忙碌，所以对于给出的 $T\n(1 \\le T \\le 10)$ 组测试数据，请输出她至少需要多少次操作才能把原字符串转换为新字符串。", "inputFormat": "第一行是一个整数 $T$，表示测试数据的数量。\n\n接下来有 $T$ 对长度相等的字符串。字符串中所有的字符都是大写或小写的字母。字符串的长度不会超过 $10^5$。", "outputFormat": "对于每组测试数据，输出转换字符串需要的最小操作数。\n\n如果这不可能做到，输出 $-1$。\n\n### 样例 1 解释\n\n第一组数据：两个字符串相等，所以不需要任何操作。\n\n第二组数据：你不可能在把其中一个 `B` 转换为 `A`的同时保持剩下一个 `B` 不变。\n\n第三组数据：你可以把字符串中所有的 `a` 转换为 `b`。\n\n第四组数据：你可以按 $\\texttt{ABCD} \\rightarrow \\texttt{EBCD} \\rightarrow \\texttt{EACD} \\rightarrow \\texttt{BACD}$ 的方式转换。", "hint": "- 对于 $ 40 \\% $ 的数据，字符串的长度不超过 $50$。\n - 对于另外 $ 20\\% $ 的数据，所有的字符串仅包含从 `a` 到 `e` 的小写字母。\n - 对于 $ 100\\% $ 的数据，字符串的长度不超过 $10^5$，$1 \\le T \\le 10$。", "locale": "zh-CN"}}}
{"pid": "P9014", "type": "P", "difficulty": 3, "samples": [["2\nRR 1\nDD 10\n100 500\n4\n1 1\n1 1\n1 1\n2 1", "602\n701\n602\n701\n1501"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "动态规划 DP", "搜索", "USACO", "2023", "深度优先搜索 DFS"], "title": "[USACO23JAN] Following Directions S", "background": "", "description": "**Note: The time limit for this problem is 8s, four times the default.** \n\nFarmer John has a big square field split up into an $(N+1) \\times (N+1) (1 \\le N \\le 1500)$ grid of cells. Let cell $(i,j)$ denote the cell in the $i$-th row from the top and $j$-th column from the left. There is one cow living in every cell $(i,j)$ such that $1 \\le i,j \\le N$, and each such cell also contains a signpost pointing either to the right or downward. Also, every cell $(i,j)$ such that either $i=N+1$ or $j=N+1$, except for $(N+1,N+1)$, contains a vat of cow feed. Each vat contains cow feed of varying price; the vat at $(i,j)$ costs $c_{i,j} (1 \\le c_{i,j} \\le 500)$ to feed each cow.\n\nEvery day at dinner time, Farmer John rings the dinner bell, and each cow keeps following the directions of the signposts until it reaches a vat, and is then fed from that vat. Then the cows all return to their original positions for the next day.\n\nTo maintain his budget, Farmer John wants to know the total cost to feed all the cows each day. However, during every day, before dinner, the cow in in some cell $(i,j)$ flips the direction of its signpost (from right to down or vice versa). The signpost remains in this direction for the following days as well, unless it is flipped back later.\n\nGiven the coordinates of the signpost that is flipped on each day, output the cost for every day (with $Q$ days in total, $1 \\le Q \\le 1500$). ", "inputFormat": "The first line contains $N (1 \\le N \\le 1500)$.\n\nThe next $N+1$ lines contain the rows of the grid from top to bottom, containing the initial directions of the signposts and the costs ci,j of each vat. The first $N$ of these lines contain a string of $N$ directions `R` or `D` (representing signposts pointing right or down, respectively), followed by the cost $c_{i,N+1}$. The $(N+1)$-th line contains $N$ costs $c_{N+1,j}$.\n\nThe next line contains $Q(1 \\le Q \\le 1500)$.\n\nThen follow $Q$ additional lines, each consisting of two integers $i$ and $j (1 \\le i,j \\le N)$, which are the coordinates of the cell whose signpost is flipped on the corresponding day. ", "outputFormat": "$Q+1$ lines: the original value of the total cost, followed by the value of the total cost after each flip. ", "hint": "### Explanation for Sample 1\n\nBefore the first flip, the cows at $(1,1)$ and $(1,2)$ cost $1$ to feed, the cow at $(2,1)$ costs $100$ to feed, and the cow at $(2,2)$ costs $500$ to feed, for a total cost of $602$. After the first flip, the direction of the signpost at $(1,1)$ changes from `R` to `D`, and the cow at $(1,1)$ now costs $100$ to feed (while the others remain unchanged), so the total cost is now $701$. The second and third flips switch the same sign back and forth. After the fourth flip, the cows at $(1,1)$ and $(2,1)$ now cost $500$ to feed, for a total cost of $1501$.\n\n### Scoring\n\n - Inputs $2-4$: $1 \\le N,Q \\le 50$\n - Inputs $5-7$: $1 \\le N,Q \\le 250$\n - Inputs $2-10$: The initial direction in each cell, as well as the queries, are uniformly randomly generated.\n - Inputs $11-15$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Following Directions S", "background": "", "description": "**Note: The time limit for this problem is 8s, four times the default.** \n\nFarmer John has a big square field split up into an $(N+1) \\times (N+1) (1 \\le N \\le 1500)$ grid of cells. Let cell $(i,j)$ denote the cell in the $i$-th row from the top and $j$-th column from the left. There is one cow living in every cell $(i,j)$ such that $1 \\le i,j \\le N$, and each such cell also contains a signpost pointing either to the right or downward. Also, every cell $(i,j)$ such that either $i=N+1$ or $j=N+1$, except for $(N+1,N+1)$, contains a vat of cow feed. Each vat contains cow feed of varying price; the vat at $(i,j)$ costs $c_{i,j} (1 \\le c_{i,j} \\le 500)$ to feed each cow.\n\nEvery day at dinner time, Farmer John rings the dinner bell, and each cow keeps following the directions of the signposts until it reaches a vat, and is then fed from that vat. Then the cows all return to their original positions for the next day.\n\nTo maintain his budget, Farmer John wants to know the total cost to feed all the cows each day. However, during every day, before dinner, the cow in in some cell $(i,j)$ flips the direction of its signpost (from right to down or vice versa). The signpost remains in this direction for the following days as well, unless it is flipped back later.\n\nGiven the coordinates of the signpost that is flipped on each day, output the cost for every day (with $Q$ days in total, $1 \\le Q \\le 1500$). ", "inputFormat": "The first line contains $N (1 \\le N \\le 1500)$.\n\nThe next $N+1$ lines contain the rows of the grid from top to bottom, containing the initial directions of the signposts and the costs ci,j of each vat. The first $N$ of these lines contain a string of $N$ directions `R` or `D` (representing signposts pointing right or down, respectively), followed by the cost $c_{i,N+1}$. The $(N+1)$-th line contains $N$ costs $c_{N+1,j}$.\n\nThe next line contains $Q(1 \\le Q \\le 1500)$.\n\nThen follow $Q$ additional lines, each consisting of two integers $i$ and $j (1 \\le i,j \\le N)$, which are the coordinates of the cell whose signpost is flipped on the corresponding day. ", "outputFormat": "$Q+1$ lines: the original value of the total cost, followed by the value of the total cost after each flip. ", "hint": "### Explanation for Sample 1\n\nBefore the first flip, the cows at $(1,1)$ and $(1,2)$ cost $1$ to feed, the cow at $(2,1)$ costs $100$ to feed, and the cow at $(2,2)$ costs $500$ to feed, for a total cost of $602$. After the first flip, the direction of the signpost at $(1,1)$ changes from `R` to `D`, and the cow at $(1,1)$ now costs $100$ to feed (while the others remain unchanged), so the total cost is now $701$. The second and third flips switch the same sign back and forth. After the fourth flip, the cows at $(1,1)$ and $(2,1)$ now cost $500$ to feed, for a total cost of $1501$.\n\n### Scoring\n\n - Inputs $2-4$: $1 \\le N,Q \\le 50$\n - Inputs $5-7$: $1 \\le N,Q \\le 250$\n - Inputs $2-10$: The initial direction in each cell, as well as the queries, are uniformly randomly generated.\n - Inputs $11-15$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Following Directions S", "background": "", "description": "**注：本题时限为 8s，是默认时限的四倍。**\n\nFarmer John 有一个正方形的草地，草地被划分为了 $(N + 1) \\times (N + 1)(1 \\leq N \\leq 1500)$ 的格子。设 $(i, j)$ 为从上到下、从左到右第 $i$ 行，第 $j$ 列的格子。每个满足 $1 \\leq i, j \\leq n$ 的格子 $(i, j)$ 之中都住着一头牛，而且每个这样的格子上都有一个路标指向右或下。除此之外，所有满足 $i = N + 1$ 或 $j = N + 1$ 的格子，除了 $(N + 1, N + 1)$ 都会有一个饲料桶。牛在每个饲料桶进食需要的价格不同；位置 $(i, j)$ 上的桶喂饱一只牛需要价格 $c_{i, j}(1 \\leq c_{i, j} \\leq 500)$。\n\n每天晚饭时间，Farmer John 摇响晚餐铃时，所有牛都沿着路标的指向前进，直到它们遇到了饲料桶，之后它们会在它们自己遇到的饲料桶那里进食。第二天，所有牛又会回到自己原来的位置。\n\n为了维持预算，Farmer John 想要知道每天喂食需要的价钱。然而，每天晚饭之前，总会有一头牛 $(i, j)$ 翻转它那里的路标（原来向下则变成向右，反之亦然）。被翻转的路标指向将在后面的日子里保持不变，除非它又被进行了翻转。\n\n给出每天被翻转的路标的坐标，请输出每天喂食需要的价格（总共有 $Q$ 天，$1 \\leq Q \\leq 1500$）。", "inputFormat": "第一行为 $N(1 \\leq N \\leq 1500)$\n\n接下来的 $N + 1$ 行从上到下输入初始的路标朝向和每个饲料桶的价格 $c_{i, j}$。前 $N$ 行每行包含一个长度为 $N$ 的字符串，其中每个字符只能是 `R` 或 `D`（`R` 表示向右，`D` 表示向下），之后是一个数，表示价格 $c_{i, N + 1}$，第 $(N + 1)$ 行包含 $N$ 个数，依次表示价格 $c_{N + 1, j}$。\n\n接下来的一行为 $Q(1 \\leq Q \\leq 1500)$。\n\n之后的 $Q$ 行，每行有两个整数 $i$ 和 $j(1 \\leq i, j \\leq N$，表示每天被翻转的路标的坐标。", "outputFormat": "共 $Q + 1$ 行：第一行是初始的总价格，之后 $Q$ 行依次是每次被翻转后的总价格。", "hint": "### 样例 1 解释\n\n在第一次翻转之前，喂养在位置 $(1, 1)$ 和 $(1, 2)$ 的牛需要的价格都为 $1$，喂养在 $(2, 1)$ 的牛需要的价格为 $100$，喂养在 $(2, 2)$ 的牛需要的价格为 $500$。总价格为 $602$。第一次翻转后，在 $(1, 1)$ 处的路标由 `R` 变为 `D`，此时在位置 $(1, 1)$ 的牛喂养的价格变为 $100$（其它牛的价格没有变化），所以总价为 $701$。第二次和第三次翻转都在来回翻转同一个路标。第四次翻转后，在位置 $(1, 1)$ 和位置 $(2, 1)$ 的牛喂养的价格变为 $500$，总价变为 $1501$。\n\n\n- 测试点 $2 - 4$ 中：$1 \\leq N, Q \\leq 50$。\n\n- 测试点 $5 - 7$ 中：$1 \\leq N, Q \\leq 250$。\n\n- 测试点 $2 - 10$ 中：每个路标初始朝向以及被翻转的路标为随机生成。\n\n- 测试点 $11 - 15$ 中：无特殊条件。", "locale": "zh-CN"}}}
{"pid": "P9015", "type": "P", "difficulty": 3, "samples": [["2\n2 4", "RRLRLL"], ["3\n2 4 4", "RRRLLRRLLL"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "USACO", "2023", "Special Judge", "构造"], "title": "[USACO23JAN] Moo Route S", "background": "", "description": "Farmer Nhoj dropped Bessie in the middle of nowhere! At time $t=0$, Bessie is located at $x=0$ on an infinite number line. She frantically searches for an exit by moving left or right by $1$ unit each second. However, there actually is no exit and after $T$ seconds, Bessie is back at $x=0$, tired and resigned.\n\nFarmer Nhoj tries to track Bessie but only knows how many times Bessie crosses $x=0.5,1.5,2.5, \\cdots ,(N−1).5$, given by an array $A_0,A_1, \\cdots ,A_{N−1} (1 \\le N \\le 10^5, 1 \\le A_i \\le 10^6, \\sum A_i \\le 10^6)$. Bessie never reaches $x>N$ nor $x<0$.\n\nIn particular, Bessie's route can be represented by a string of $T= \\sum\\limits_{i=0}^{N-1}A_i$\n$L$s and $R$s where the $i$-th character represents the direction Bessie moves in during the ith second. The number of direction changes is defined as the number of occurrences of $LR$s plus the number of occurrences of $RL$s.\n\nPlease help Farmer Nhoj find any route Bessie could have taken that is consistent with A\nand minimizes the number of direction changes. It is guaranteed that there is at least one valid route. ", "inputFormat": "The first line contains $N$. The second line contains $A_0,A_1,\\cdots ,A_{N−1}$. ", "outputFormat": "Output a string $S$ of length $T=\\sum\\limits_{i=0}^{N-1}A_i$ where $S_i$ is `L` or `R`, indicating the direction Bessie travels in during second $i$. If there are multiple routes minimizing the number of direction changes, output any. ", "hint": "### Explanation for Sample 1\n\nThere is only $1$ valid route, corresponding to the route $0 \\rightarrow 1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 0$. Since this is the only possible route, it also has the minimum number of direction changes. \n\n### Explanation for Sample 2\n\nThere are $3$ possible routes:\n\nRRLRRLRLLL  \nRRRLRLLRLL  \nRRRLLRRLLL  \n\nThe first two routes have $5$ direction changes, while the last one has only $3$. Thus the last route is the only correct output.\n\n### Scoring\n\n - Inputs $3-5$: $N \\le 2$\n - Inputs $3-10$: $T=A_0+A_1+ \\cdots +A_{N−1} \\le 5000$\n - Inputs $11-20$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Moo Route S", "background": "", "description": "Farmer Nhoj dropped Bessie in the middle of nowhere! At time $t=0$, Bessie is located at $x=0$ on an infinite number line. She frantically searches for an exit by moving left or right by $1$ unit each second. However, there actually is no exit and after $T$ seconds, Bessie is back at $x=0$, tired and resigned.\n\nFarmer Nhoj tries to track Bessie but only knows how many times Bessie crosses $x=0.5,1.5,2.5, \\cdots ,(N−1).5$, given by an array $A_0,A_1, \\cdots ,A_{N−1} (1 \\le N \\le 10^5, 1 \\le A_i \\le 10^6, \\sum A_i \\le 10^6)$. Bessie never reaches $x>N$ nor $x<0$.\n\nIn particular, Bessie's route can be represented by a string of $T= \\sum\\limits_{i=0}^{N-1}A_i$\n$L$s and $R$s where the $i$-th character represents the direction Bessie moves in during the ith second. The number of direction changes is defined as the number of occurrences of $LR$s plus the number of occurrences of $RL$s.\n\nPlease help Farmer Nhoj find any route Bessie could have taken that is consistent with A\nand minimizes the number of direction changes. It is guaranteed that there is at least one valid route. ", "inputFormat": "The first line contains $N$. The second line contains $A_0,A_1,\\cdots ,A_{N−1}$. ", "outputFormat": "Output a string $S$ of length $T=\\sum\\limits_{i=0}^{N-1}A_i$ where $S_i$ is `L` or `R`, indicating the direction Bessie travels in during second $i$. If there are multiple routes minimizing the number of direction changes, output any. ", "hint": "### Explanation for Sample 1\n\nThere is only $1$ valid route, corresponding to the route $0 \\rightarrow 1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 0$. Since this is the only possible route, it also has the minimum number of direction changes. \n\n### Explanation for Sample 2\n\nThere are $3$ possible routes:\n\nRRLRRLRLLL  \nRRRLRLLRLL  \nRRRLLRRLLL  \n\nThe first two routes have $5$ direction changes, while the last one has only $3$. Thus the last route is the only correct output.\n\n### Scoring\n\n - Inputs $3-5$: $N \\le 2$\n - Inputs $3-10$: $T=A_0+A_1+ \\cdots +A_{N−1} \\le 5000$\n - Inputs $11-20$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Moo Route S", "background": "", "description": "农夫 Nhoj 把 Bessie 丢在了一个荒无人烟的地方！在时间 $t=0$ 时，Bessie 位于无限数轴的 $x=0$ 处。她疯狂地寻找出口，每秒向左或向右移动 1 个单位。然而，实际上并没有出口，在 $T$ 秒后，Bessie 回到了 $x=0$，疲惫且无奈。\n\n农夫 Nhoj 试图追踪 Bessie，但他只知道 Bessie 穿过 $x=0.5,1.5,2.5, \\cdots ,(N-1).5$ 的次数，由数组 $A_0,A_1, \\cdots ,A_{N-1}$ 给出（$1 \\le N \\le 10^5, 1 \\le A_i \\le 10^6, \\sum A_i \\le 10^6$）。Bessie 从未到达 $x>N$ 或 $x<0$。\n\n特别地，Bessie 的路线可以用一个长度为 $T= \\sum\\limits_{i=0}^{N-1}A_i$ 的 $L$ 和 $R$ 字符串表示，其中第 $i$ 个字符表示 Bessie 在第 $i$ 秒移动的方向。方向变化的次数定义为 $LR$ 出现的次数加上 $RL$ 出现的次数。\n\n请帮助农夫 Nhoj 找到任何一个与 $A$ 一致且方向变化次数最少的 Bessie 的路线。保证至少存在一条有效路线。", "inputFormat": "第一行包含 $N$。第二行包含 $A_0,A_1,\\cdots ,A_{N-1}$。", "outputFormat": "输出一个长度为 $T=\\sum\\limits_{i=0}^{N-1}A_i$ 的字符串 $S$，其中 $S_i$ 是 `L` 或 `R`，表示 Bessie 在第 $i$ 秒的移动方向。如果有多条路线能使方向变化次数最少，输出任意一条。", "hint": "### 示例 1 的解释\n\n只有 1 条有效路线，对应的路线是 $0 \\rightarrow 1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 2 \\rightarrow 1 \\rightarrow 0$。由于这是唯一可能的路线，因此它也具有最少的方向变化次数。\n\n### 示例 2 的解释\n\n有 3 条可能的路线：\n\nRRLRRLRLLL  \nRRRLRLLRLL  \nRRRLLRRLLL  \n\n前两条路线有 5 次方向变化，而最后一条只有 3 次。因此最后一条路线是唯一正确的输出。\n\n### 评分\n\n- 输入 $3-5$：$N \\le 2$\n- 输入 $3-10$：$T=A_0+A_1+ \\cdots +A_{N-1} \\le 5000$\n- 输入 $11-20$：无额外约束。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9016", "type": "P", "difficulty": 5, "samples": [["3 8 4\na ab\na bc\nc de\nb bbb", "bdebbb"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["字符串", "搜索", "USACO", "递归", "2023"], "title": "[USACO23JAN] Find and Replace G", "background": "", "description": "Bessie is using the latest and greatest innovation in text-editing software, miV! Its powerful find-and-replace feature allows her to find all occurrences of a lowercase English letter $c$ and replace each with a nonempty string of lowercase letters $s$. For example, given the string `ball`, if Bessie selects $c$ to be `l` and $s$ to be `na`, the given string transforms into `banana`.\n\nBessie starts with the string `a` and transforms it using a number of these find-and-replace operations, resulting in a final string $S$. Since $S$ could be massive, she wants to know, given $l$ and $r$ with $1 \\le l \\le r \\min(|S|,10^{18})$, what $S_{l\\cdots r}$ (the substring of $S$ from the $l$-th to the $r$-th character inclusive) is.\n\nIt is guaranteed that the sum of $|s|$\nover all operations is at most $2 \\cdot 10^5$, and that $r−l+1 \\le 2 \\cdot 10^5$. ", "inputFormat": "The first line contains $l, r$, and the number of operations.\n\nEach subsequent line describes one operation and contains $c$ and $s$ for that operation. All characters are in the range `a` through `z`.\n\n", "outputFormat": "Output the string $S_{l \\cdots r}$ on a single line. ", "hint": "### Explanation for Sample 1\n\nThe string is transformed as follows:\n\n$$ \\texttt{a} \\rightarrow \\texttt{ab} \\rightarrow\\texttt{bcb}\\rightarrow \\texttt{bdeb}\\rightarrow \\texttt{bbbdebbb} $$\n\n### Scoring\n\n - Inputs $2-7$: $\\sum |s|,r−l+1 \\le 2000$\n - Inputs $8-15$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Find and Replace G", "background": "", "description": "Bessie is using the latest and greatest innovation in text-editing software, miV! Its powerful find-and-replace feature allows her to find all occurrences of a lowercase English letter $c$ and replace each with a nonempty string of lowercase letters $s$. For example, given the string `ball`, if Bessie selects $c$ to be `l` and $s$ to be `na`, the given string transforms into `banana`.\n\nBessie starts with the string `a` and transforms it using a number of these find-and-replace operations, resulting in a final string $S$. Since $S$ could be massive, she wants to know, given $l$ and $r$ with $1 \\le l \\le r \\min(|S|,10^{18})$, what $S_{l\\cdots r}$ (the substring of $S$ from the $l$-th to the $r$-th character inclusive) is.\n\nIt is guaranteed that the sum of $|s|$\nover all operations is at most $2 \\cdot 10^5$, and that $r−l+1 \\le 2 \\cdot 10^5$. ", "inputFormat": "The first line contains $l, r$, and the number of operations.\n\nEach subsequent line describes one operation and contains $c$ and $s$ for that operation. All characters are in the range `a` through `z`.\n\n", "outputFormat": "Output the string $S_{l \\cdots r}$ on a single line. ", "hint": "### Explanation for Sample 1\n\nThe string is transformed as follows:\n\n$$ \\texttt{a} \\rightarrow \\texttt{ab} \\rightarrow\\texttt{bcb}\\rightarrow \\texttt{bdeb}\\rightarrow \\texttt{bbbdebbb} $$\n\n### Scoring\n\n - Inputs $2-7$: $\\sum |s|,r−l+1 \\le 2000$\n - Inputs $8-15$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Find and Replace G", "background": null, "description": "你有一个字符串 $S$，最开始里面只有一个字符 $\\text{a}$，之后你要对这个字符串进行若干次操作，每次将其中每一个字符 $c$ 替换成某个字符串 $s$（例如对于字符串 $\\text{ball}$，将其中的 $\\text{l}$ 替换为 $\\text{na}$ 后将会变为 $\\text{banana}$）。现在给定 $l,r$，你需要输出 $S_{l\\ldots r}$（也就是 $S$ 的第 $l$ 个字符到第 $r$ 个字符对应的子串）是什么。", "inputFormat": "第一行三个整数，分别表示 $l,r$ 和操作次数。\n\n接下来的每一行包含一个字符 $c$ 和字符串 $s$ 表示一个操作。", "outputFormat": "一行，表示对应的子串。", "hint": "**【样例解释】**\n\n在第一个测试样例中，字符串变化如下：\n\n$$ \\texttt{a} \\rightarrow \\texttt{ab} \\rightarrow\\texttt{bcb}\\rightarrow \\texttt{bdeb}\\rightarrow \\texttt{bbbdebbb} $$\n\n**【数据范围】**\n\n$l,r\\le\\min(\\left | S \\right |,10^{18})$；\n\n$r-l+1\\le2\\times10^5$；\n\n$\\sum\\left | s \\right | \\le 2\\times 10^5$。\n\n所有的字符串都只包含小写字母 $\\text{a}-\\text{z}$。\n\n其中对于测试点 $2-7$，满足：\n\n$r-l+1\\le2000$，$\\sum\\left | s \\right | \\le 2000$。", "locale": "zh-CN"}}}
{"pid": "P9017", "type": "P", "difficulty": 5, "samples": [["4 3\n000 101\n101 100\n110 000\n111 000", "0\n1\n3\n2"], ["1 10\n1100010000 1000011000", "2"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "状压 DP"], "title": "[USACO23JAN] Lights Off G", "background": "", "description": "**Note: The time limit for this problem is 4s, twice the default.**\n\nBessie wants to go to sleep, but the farm's lights are keeping her awake. How can she turn them off?\n\nBessie has two bit strings of length $N\n(2 \\le N \\le 20)$, representing a sequence of lights and a sequence of switches, respectively. Each light is either on (1) or off (0). Each switch is either active (1) or inactive (0).\n\nA **move** consists of the following sequence of operations: \n\n1. Toggle exactly one switch (set it to active if it is inactive, or vice versa).\n2. For each active switch, toggle the state of the corresponding light (turn it off if it is on, or vice versa).\n3. Cyclically rotate the switches to the right by one. Specifically, if the bit string corresponding to the switches is initially $s_0s_1\\cdots s_{N−1}$ then it becomes $s_{N−1}s_0s_1 \\cdots s_{N−2}$.\n\nFor $T (1 \\le T \\le 2 \\cdot 10^5)$ instances of the problem above, count the minimum number of moves required to turn all the lights off. ", "inputFormat": "First line contains $T$ and $N$.\n\nNext $T$ lines each contain a pair of length-$N$ bit strings. ", "outputFormat": " For each pair, the minimum number of moves required to turn all the lights off. ", "hint": "### Explanation for Sample 1\n\n - First test case: the lights are already all off.\n - Second test case: We flip the third switch on the first move.\n - Third test case: we flip the first switch on the first move, the second switch on the second move, and the second switch again on the third move.\n - Fourth test case: we flip the first switch on the first move and the third switch on the second move. \n \nIt can be shown that in each case this is the minimal number of moves necessary. \n\n### Explanation for Sample 2\n\nIt can be shown that $2$ moves are required to turn all lights off.\n\n - We flip the seventh switch on the first move and then again on the second move. \n \n### Scoring\n\n - Inputs $3-5$: $N \\le 8$\n - Inputs $6-13$: $N \\le 18$\n - Inputs $14-20$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Lights Off G", "background": "", "description": "**Note: The time limit for this problem is 4s, twice the default.**\n\nBessie wants to go to sleep, but the farm's lights are keeping her awake. How can she turn them off?\n\nBessie has two bit strings of length $N\n(2 \\le N \\le 20)$, representing a sequence of lights and a sequence of switches, respectively. Each light is either on (1) or off (0). Each switch is either active (1) or inactive (0).\n\nA **move** consists of the following sequence of operations: \n\n1. Toggle exactly one switch (set it to active if it is inactive, or vice versa).\n2. For each active switch, toggle the state of the corresponding light (turn it off if it is on, or vice versa).\n3. Cyclically rotate the switches to the right by one. Specifically, if the bit string corresponding to the switches is initially $s_0s_1\\cdots s_{N−1}$ then it becomes $s_{N−1}s_0s_1 \\cdots s_{N−2}$.\n\nFor $T (1 \\le T \\le 2 \\cdot 10^5)$ instances of the problem above, count the minimum number of moves required to turn all the lights off. ", "inputFormat": "First line contains $T$ and $N$.\n\nNext $T$ lines each contain a pair of length-$N$ bit strings. ", "outputFormat": " For each pair, the minimum number of moves required to turn all the lights off. ", "hint": "### Explanation for Sample 1\n\n - First test case: the lights are already all off.\n - Second test case: We flip the third switch on the first move.\n - Third test case: we flip the first switch on the first move, the second switch on the second move, and the second switch again on the third move.\n - Fourth test case: we flip the first switch on the first move and the third switch on the second move. \n \nIt can be shown that in each case this is the minimal number of moves necessary. \n\n### Explanation for Sample 2\n\nIt can be shown that $2$ moves are required to turn all lights off.\n\n - We flip the seventh switch on the first move and then again on the second move. \n \n### Scoring\n\n - Inputs $3-5$: $N \\le 8$\n - Inputs $6-13$: $N \\le 18$\n - Inputs $14-20$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Lights Off G", "background": null, "description": "给定正整数 $N$，和两个长为 $N$ 的 $01$ 序列 $a$ 和 $b$。定义一次操作为：\n\n1. 将 $b$ 序列中的一个值翻转（即 $0$ 变成 $1$，$1$ 变成 $0$，下同）。\n2. 对于 $b$ 序列中每个值为 $1$ 的位置，将 $a$ 序列中对应位置的值翻转。\n3. 将 $b$ 序列向右循环移位 $1$ 位。即若当前 $b$ 序列为 $b_1b_2\\cdots b_{n}$，则接下来变为 $b_{n}b_1b_2\\cdots b_{n-1}$。\n\n有 $T$ 次询问，对每一次询问，你需要回答出至少需要几次操作，才能使 $a$ 序列中每一个位置的值都变为 $0$。", "inputFormat": "第一行为两个正整数 $T,N\\;(1\\leq T\\leq 2\\times10^5,2\\leq N\\leq 20)$。\n\n接下来 $T$ 行，每行为两个长为 $N$ 的 $01$ 序列 $a$ 和 $b$，表示一组询问。", "outputFormat": "共 $T$ 行，每行一个正整数，表示最少的操作次数。", "hint": "### 样例一解释\n\n- 第一个测试用例：灯已经全部熄灭。\n- 第二个测试用例：我们在第一步中打开第三个开关。\n- 第三个测试用例：我们在第一次移动时翻转第一个开关，在第二次移动时扳动第二个开关，然后在第三次移动时再次翻转第二个。\n- 第四个测试用例：我们在第一次移动时打开第一个开关，在第二次移动时关闭第三个开关。\n可以证明，在每种情况下，这都是所需的最小移动次数。\n\n### 样例二解释\n\n可以看出，需要2次移动才能关闭所有灯。\n- 我们在第一步中打开第七个开关，然后在第二步中再次打开。\n\n数据范围：\n\n- 数据点 $3−5$：$N \\le 8$\n- 数据点 $6−13$：$N \\le 18$\n- 数据点 $14−20$：无额外约束。", "locale": "zh-CN"}}}
{"pid": "P9018", "type": "P", "difficulty": 5, "samples": [["2\n4 6", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "组合数学", "排列组合"], "title": "[USACO23JAN] Moo Route G", "background": "", "description": "Farmer Nhoj dropped Bessie in the middle of nowhere! At time $t=0$, Bessie is located at $x=0$ on an infinite number line. She frantically searches for an exit by moving left or right by $1$ unit each second. However, there actually is no exit and after $T$ seconds, Bessie is back at $x=0$, tired and resigned.\n\nFarmer Nhoj tries to track Bessie but only knows how many times Bessie crosses $x=0.5,1.5,2.5,\\cdots,(N−1).5$\n, given by an array $A_0,A_1, \\cdots ,A_{N−1} (1 \\le N \\le 10^5, 1 \\le A_i \\le 10^6)$. Bessie never reaches $x>N$ nor $x<0$.\n\nIn particular, Bessie's route can be represented by a string of $T=\\sum\\limits_{i=0}^{N-1}A_i$\nLs and Rs where the ith character represents the direction Bessie moves in during the ith second. The number of direction changes is defined as the number of occurrences of $LR$s plus the number of occurrences of $RL$s.\n\nPlease help Farmer Nhoj count the number of routes Bessie could have taken that are consistent with $A$\nand minimize the number of direction changes. It is guaranteed that there is at least one valid route. ", "inputFormat": "The first line contains $N$. The second line contains $A_0,A_1, \\cdots ,A_{N−1}$. ", "outputFormat": "The number of routes Bessie could have taken, modulo $10^9+7$. ", "hint": "### Explanation for Sample 1\n\nBessie must change direction at least 5 times. There are two routes corresponding to Bessie changing direction exactly 5 times: \n\n$\\texttt{RRLRLLRRLL}$  \n$\\texttt{RRLLRRLRLL}$\n\n### Scoring\n\n - Inputs $2-4$: $N \\le 2$ and $\\max(A_i) \\le 10^3$\n - Inputs $5-7$: $N \\le 2$\n - Inputs $8-11$: $\\max(A_i) \\le 10^3$\n - Inputs $12-21$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Moo Route G", "background": "", "description": "Farmer Nhoj dropped Bessie in the middle of nowhere! At time $t=0$, Bessie is located at $x=0$ on an infinite number line. She frantically searches for an exit by moving left or right by $1$ unit each second. However, there actually is no exit and after $T$ seconds, Bessie is back at $x=0$, tired and resigned.\n\nFarmer Nhoj tries to track Bessie but only knows how many times Bessie crosses $x=0.5,1.5,2.5,\\cdots,(N−1).5$\n, given by an array $A_0,A_1, \\cdots ,A_{N−1} (1 \\le N \\le 10^5, 1 \\le A_i \\le 10^6)$. Bessie never reaches $x>N$ nor $x<0$.\n\nIn particular, Bessie's route can be represented by a string of $T=\\sum\\limits_{i=0}^{N-1}A_i$\nLs and Rs where the ith character represents the direction Bessie moves in during the ith second. The number of direction changes is defined as the number of occurrences of $LR$s plus the number of occurrences of $RL$s.\n\nPlease help Farmer Nhoj count the number of routes Bessie could have taken that are consistent with $A$\nand minimize the number of direction changes. It is guaranteed that there is at least one valid route. ", "inputFormat": "The first line contains $N$. The second line contains $A_0,A_1, \\cdots ,A_{N−1}$. ", "outputFormat": "The number of routes Bessie could have taken, modulo $10^9+7$. ", "hint": "### Explanation for Sample 1\n\nBessie must change direction at least 5 times. There are two routes corresponding to Bessie changing direction exactly 5 times: \n\n$\\texttt{RRLRLLRRLL}$  \n$\\texttt{RRLLRRLRLL}$\n\n### Scoring\n\n - Inputs $2-4$: $N \\le 2$ and $\\max(A_i) \\le 10^3$\n - Inputs $5-7$: $N \\le 2$\n - Inputs $8-11$: $\\max(A_i) \\le 10^3$\n - Inputs $12-21$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Moo Route G", "background": "", "description": "现在有一条数轴，$t$ 表示当前时刻。在 $t=0$ 时 Bessie 恰好处在 $x=0$ 的位置。\n\n接下来，每秒钟 Bessie 会向左或者向右移动一个单位距离，我们保证 Bessie 是在 $0-N$ 的位置之间移动并最终停在 $x=0$ 的位置。同时，我们有一个 $A_0,A_1,A_2\\ldots A_{N-1}$ 的数列，分别表示 Bessie 经过 $0.5,1.5,2.5\\ldots (N-1).5$ 这些点的次数。我们可以用一个由 $\\text{L}$ 和 $\\text{R}$ 组成的序列来表示 Bessie 的路径，我们称 Bessie 改变了一次方向为在序列中的相邻两个字符不同。现在我们不知道具体的移动序列是什么，但我们知道 Bessie 采用了让她改变方向次数最少的走法。现在请问 Bessie 的路径有多少种不同的可能情况？（我们称两条路径不同当且仅当这条路径对应序列中的某一位不同）", "inputFormat": "第一行一个正整数表示 $N$。\n\n接下来一行有 $N$ 个用空格分隔的正整数表示 $A_0,A_1,A_2\\ldots A_{N-1}$。", "outputFormat": "一行一个整数表示结果总数。由于这个值可能很大，请输出其对 $10^9+7$ 取模的结果。", "hint": "$N\\le10^5,\\max(A_i)\\le10^6$。\n\n对于测试点 $2-4$，满足 $N\\le2,\\max(A_i)\\le10^3$。\n\n对于测试点 $5-7$，满足 $N\\le2$。\n\n对于测试点 $8-11$，满足 $\\max(A_i)\\le10^3$。", "locale": "zh-CN"}}}
{"pid": "P9019", "type": "P", "difficulty": 6, "samples": [["8 10\nLLLLRLLLLRRRRRRR\n11011010\n1 2\n1 3\n1 4\n1 5\n1 6\n1 7\n1 8\n2 3\n2 4\n2 5", "1 2\n1 1\n1 2\n2 4\n2 3\n2 4\n2 3\n1 1\n1 2\n1 2"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "倍增", "USACO", "2023", "最短路"], "title": "[USACO23JAN] Tractor Paths P", "background": "", "description": "**Note: The time limit for this problem is 4s, twice the default. The memory limit for this problem is 512MB, twice the default.**\n\nFarmer John has $N\n(2 \\le N \\le 2 \\cdot 10^5)$ tractors, where the $i$-th tractor can only be used within the inclusive interval $[l_i,r_i]$. The tractor intervals have left endpoints $l_1<l_2<\\cdots <l_N$ and right endpoints $r_1<r_2< \\cdots <r_N$. Some of the tractors are special.\n\nTwo tractors $i$ and $j$ are said to be adjacent if $[l_i,r_i]$ and $[l_j,r_j]$ intersect. Farmer John can transfer from one tractor to any adjacent tractor. A path between two tractors $a$ and $b$ consists of a sequence of transfers such that the first tractor in the sequence is $a$, the last tractor in the sequence is $b$, and every two consecutive tractors in the sequence are adjacent. It is guaranteed that there is a path between tractor $1$ and tractor $N$. The length of a path is the number of transfers (or equivalently, the number of tractors within it minus one). \n\nYou are given $Q (1 \\le Q \\le 2 \\cdot 10^5)$ queries, each specifying a pair of tractors $a$ and $b (1 \\le a<b \\le N)$. For each query, output two integers: \n\n - The length of any shortest path between tractor $a$ to tractor $b$.\n - The number of special tractors such that there exists at least one shortest path from tractor $a$ to tractor $b$ containing it. ", "inputFormat": "The first line contains $N$ and $Q$.\n\nThe next line contains a string of length $2N$ consisting of Ls and Rs, representing the left and right endpoints in sorted order. It is guaranteed that for each proper prefix of this string, the number of Ls exceeds the number of Rs.\n\nThe next line contains a bit string of length $N$, representing for each tractor whether it is special or not.\n\nThe next $Q$ lines each contain two integers $a$ and $b$, specifying a query. ", "outputFormat": " For each query, the two quantities separated by spaces. ", "hint": "### Explanation for Sample 1\n\nThe $8$ tractor intervals, in order, are $[1,5],[2,10],[3,11],[4,12],[6,13],[7,14],[8,15],[9,16]$.\n\nFor the 4th query, there are three shortest paths between the 1st and 5th tractor: $1$ to $2$ to $5$, $1$ to $3$ to $5$, and $1$ to $4$ to $5$. These shortest paths all have length $2$.\n\nAdditionally, every tractor $1,2,3,4,5$\nis part of one of the three shortest paths mentioned earlier, and since $1,2,4,5$ are special, there are $4$ special tractors such that there exists at least one shortest path from tractor $1$ to $5$ containing it. \n\n### Scoring\n\n - Inputs $2-3$: $N,Q \\le 5000$\n - Inputs $4-7$: There are at most $10$ special tractors.\n - Inputs $8-16$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Tractor Paths P", "background": "", "description": "**Note: The time limit for this problem is 4s, twice the default. The memory limit for this problem is 512MB, twice the default.**\n\nFarmer John has $N\n(2 \\le N \\le 2 \\cdot 10^5)$ tractors, where the $i$-th tractor can only be used within the inclusive interval $[l_i,r_i]$. The tractor intervals have left endpoints $l_1<l_2<\\cdots <l_N$ and right endpoints $r_1<r_2< \\cdots <r_N$. Some of the tractors are special.\n\nTwo tractors $i$ and $j$ are said to be adjacent if $[l_i,r_i]$ and $[l_j,r_j]$ intersect. Farmer John can transfer from one tractor to any adjacent tractor. A path between two tractors $a$ and $b$ consists of a sequence of transfers such that the first tractor in the sequence is $a$, the last tractor in the sequence is $b$, and every two consecutive tractors in the sequence are adjacent. It is guaranteed that there is a path between tractor $1$ and tractor $N$. The length of a path is the number of transfers (or equivalently, the number of tractors within it minus one). \n\nYou are given $Q (1 \\le Q \\le 2 \\cdot 10^5)$ queries, each specifying a pair of tractors $a$ and $b (1 \\le a<b \\le N)$. For each query, output two integers: \n\n - The length of any shortest path between tractor $a$ to tractor $b$.\n - The number of special tractors such that there exists at least one shortest path from tractor $a$ to tractor $b$ containing it. ", "inputFormat": "The first line contains $N$ and $Q$.\n\nThe next line contains a string of length $2N$ consisting of Ls and Rs, representing the left and right endpoints in sorted order. It is guaranteed that for each proper prefix of this string, the number of Ls exceeds the number of Rs.\n\nThe next line contains a bit string of length $N$, representing for each tractor whether it is special or not.\n\nThe next $Q$ lines each contain two integers $a$ and $b$, specifying a query. ", "outputFormat": " For each query, the two quantities separated by spaces. ", "hint": "### Explanation for Sample 1\n\nThe $8$ tractor intervals, in order, are $[1,5],[2,10],[3,11],[4,12],[6,13],[7,14],[8,15],[9,16]$.\n\nFor the 4th query, there are three shortest paths between the 1st and 5th tractor: $1$ to $2$ to $5$, $1$ to $3$ to $5$, and $1$ to $4$ to $5$. These shortest paths all have length $2$.\n\nAdditionally, every tractor $1,2,3,4,5$\nis part of one of the three shortest paths mentioned earlier, and since $1,2,4,5$ are special, there are $4$ special tractors such that there exists at least one shortest path from tractor $1$ to $5$ containing it. \n\n### Scoring\n\n - Inputs $2-3$: $N,Q \\le 5000$\n - Inputs $4-7$: There are at most $10$ special tractors.\n - Inputs $8-16$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Tractor Paths P", "background": null, "description": "**注意：这个问题的时间限制是4秒，内存限制是512MB，是默认值的两倍。**\n\n农民约翰有 $N\n(2 \\le N \\le 2 \\cdot 10^5)$ 台拖拉机, 其中第 $i$ 台拖拉机只能在序列 $[l_i,r_i]$ 内使用。拖拉机有左端点 $l_1<l_2<\\cdots <l_N$ 和右端点 $r_1<r_2< \\cdots <r_N$. 有一些拖拉机是特别的。\n\n如果 $[l_i,r_i]$ 和 $[l_j,r_j]$ 相交，则两台拖拉机 $i$ 和 $j$ 是相邻的。 约翰可以从一辆拖拉机转移到任何相邻的拖拉机上。两台拖拉机 $a$ 和 $b$ 之间的路径由一个传输序列组成，这样序列中的第一个拖拉机是 $a$，序列中的最后一个拖拉机是 $b$，并且序列中的每两个连续的拖拉机相邻。 保证拖拉机 $1$ 和 拖拉机 $N$ 之间有一条路径。路径的长度是转移的数量 (或等价地，其中拖拉机的数量减去 $1$)。\n\n给定 $Q (1 \\le Q \\le 2 \\cdot 10^5)$ 组询问，每次给定 $a$ 和 $b (1 \\le a<b \\le N)$。 对于每组询问，你需要回答两个问题：\n\n - $a$ 到 $b$ 的最短路径。\n - 在保证传送次数的最少的情况下，有多少个特殊拖拉机的区间可能被某条最短路经过。", "inputFormat": "第一行输入两个整数 $N$ 和 $Q$，表示有 $N$ 台拖拉机和 $Q$ 次询问。\n\n第二行输入一个长度为 $2N$ 的字符串，由大写字母 `L` 和 `R` 组成，其中第 $i$ 个 `L` 或 `R` 的位置表示 $l_i,r_i$ ，保证这个字符串的每个前缀中 `L` 的数量大于 `R` 的数量。\n\n第三行输入一个长度为 $N$ 的字符串, 表示每个拖拉机是否特殊。\n\n接下来 $Q$ 行输入两个整数 $a$ 和 $b$, 表示一次查询。", "outputFormat": "对于每一组数据，一行两个数，表示答案。", "hint": "### 样例 $1$ 解释\n\n$8$ 个拖拉机的时间间隔，按顺序，是 $[1,5],[2,10],[3,11],[4,12],[6,13],[7,14],[8,15],[9,16]$。\n\n对于第四个查询, 第 $1$ 台和第 $5$ 台拖拉机之间有三条最短路径: $1 \\rightarrow 2 \\rightarrow 5$, $1 \\rightarrow 3 \\rightarrow 5$, 和 $1 \\rightarrow 4 \\rightarrow 5$。这些最短路径的长度都为 $2$。\n\n另外, 拖拉机 $1,2,3,4,5$\n都是前面提到的三条最短路径之一的一部分, 由于 $1,2,4,5$ 是特殊的，因此有 $4$ 台特殊拖拉机，这样存在至少一条包含拖拉机 $1$ 到 $5$ 的最短路径。\n\n\n - 数据点 $2-3$： $N,Q \\le 5000$\n - 数据点 $4-7$： 最多 $10$ 台特别的拖拉机。\n - 数据点 $8-16$： 没有额外的约束。\n \n 翻译提供者：[shuqiang](https://www.luogu.com.cn/user/685964)", "locale": "zh-CN"}}}
{"pid": "P9020", "type": "P", "difficulty": 6, "samples": [["2 1\n1 10\n1 2 10\n4\n5 1\n5 2\n100 1\n100 2", "5\n50\n100\n1090"], ["4 8\n50000000 100000000 20000000 70000000\n1 2 20\n2 1 50\n2 3 90\n1 3 40\n3 1 10\n4 1 25\n1 4 5\n4 3 70\n3\n8 3\n1000000000 1\n500000 4", "160000000\n239999988050000000\n119992550000000"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["USACO", "2023", "凸包", "李超线段树", "状压 DP"], "title": "[USACO23JAN] Mana Collection P", "background": "", "description": "**Note: The time limit for this problem is 5s, 2.5 times the default. The memory limit for this problem is 512MB, twice the default.**\n\nBessie has recently taken an interest in magic and needs to collect mana for a very important spell. Bessie has $N(1 \\le N \\le 18)$ mana pools, the ith of which accumulates $m_i$ mana per second $(1 \\le m_i \\le 10^8)$. The pools are linked by a collection of $M (0 \\le M \\le N(N−1))$ directed edges $(a_i,b_i,t_i)$, meaning that she can travel from $a_i$ to $b_i$ in $t_i$ seconds $(1 \\le a_i,b_i \\le N, a_i \\neq b_i, 1 \\le t_i \\le 10^9)$. Whenever Bessie is present at a pool, she can collect all the mana stored at that location, emptying it. At time $0$, all mana pools are empty, and Bessie can select any pool to start at.\n\nAnswer $Q(1 \\le Q \\le 2 \\cdot 10^5)$ queries, each specified by two integers $s$ and $e (1 \\le s \\le 10^9, 1 \\le e \\le N)$. For each query, determine the maximum amount of mana Bessie can collect in s seconds if she must be at mana pool $e$ at the end of the $s$-th second. ", "inputFormat": "First line contains $N$ and $M$.\n\nNext line contains $m_1,m2, \\cdots ,m_N$.\n\nNext $M$ lines contain $a_i,b_i,t_i$. No ordered pair $(a_i,b_i)$ appears more than once in the input.\n\nNext line contains $Q$.\n\nNext $Q$ lines contain two integers $s$ and $e$. ", "outputFormat": "$Q$ lines, one for each query. ", "hint": "### Explanation for Sample 1\n\nFirst query: Bessie takes $5$ mana from pool $1$ after $5$ seconds.\n\nSecond query: Bessie takes $50$ mana from pool $2$ after $5$ seconds.\n\nThird query: Bessie takes $100$ mana from pool $1$ after $100$ seconds.\n\nFourth query: Bessie takes $90$ mana from pool $1$ after $90$ seconds and $1000$ mana from pool $2$ after $100$ seconds. \n\n### Explanation for Sample 2\n\nAn example where Bessie is able to collect much larger amounts of mana. \n\n### Scoring\n\n - Inputs $3-4$: $N \\le 10$,$Q \\le 100$\n - Inputs $5-9$: $N \\le 10$\n - Inputs $10-14$: $Q \\le 100$\n - Inputs $15-17$: $N=16$\n - Inputs $18-20$: $N=17$\n - Inputs $21-24$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Mana Collection P", "background": "", "description": "**Note: The time limit for this problem is 5s, 2.5 times the default. The memory limit for this problem is 512MB, twice the default.**\n\nBessie has recently taken an interest in magic and needs to collect mana for a very important spell. Bessie has $N(1 \\le N \\le 18)$ mana pools, the ith of which accumulates $m_i$ mana per second $(1 \\le m_i \\le 10^8)$. The pools are linked by a collection of $M (0 \\le M \\le N(N−1))$ directed edges $(a_i,b_i,t_i)$, meaning that she can travel from $a_i$ to $b_i$ in $t_i$ seconds $(1 \\le a_i,b_i \\le N, a_i \\neq b_i, 1 \\le t_i \\le 10^9)$. Whenever Bessie is present at a pool, she can collect all the mana stored at that location, emptying it. At time $0$, all mana pools are empty, and Bessie can select any pool to start at.\n\nAnswer $Q(1 \\le Q \\le 2 \\cdot 10^5)$ queries, each specified by two integers $s$ and $e (1 \\le s \\le 10^9, 1 \\le e \\le N)$. For each query, determine the maximum amount of mana Bessie can collect in s seconds if she must be at mana pool $e$ at the end of the $s$-th second. ", "inputFormat": "First line contains $N$ and $M$.\n\nNext line contains $m_1,m2, \\cdots ,m_N$.\n\nNext $M$ lines contain $a_i,b_i,t_i$. No ordered pair $(a_i,b_i)$ appears more than once in the input.\n\nNext line contains $Q$.\n\nNext $Q$ lines contain two integers $s$ and $e$. ", "outputFormat": "$Q$ lines, one for each query. ", "hint": "### Explanation for Sample 1\n\nFirst query: Bessie takes $5$ mana from pool $1$ after $5$ seconds.\n\nSecond query: Bessie takes $50$ mana from pool $2$ after $5$ seconds.\n\nThird query: Bessie takes $100$ mana from pool $1$ after $100$ seconds.\n\nFourth query: Bessie takes $90$ mana from pool $1$ after $90$ seconds and $1000$ mana from pool $2$ after $100$ seconds. \n\n### Explanation for Sample 2\n\nAn example where Bessie is able to collect much larger amounts of mana. \n\n### Scoring\n\n - Inputs $3-4$: $N \\le 10$,$Q \\le 100$\n - Inputs $5-9$: $N \\le 10$\n - Inputs $10-14$: $Q \\le 100$\n - Inputs $15-17$: $N=16$\n - Inputs $18-20$: $N=17$\n - Inputs $21-24$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Mana Collection P", "background": "", "description": "## 题目背景\n\n**注意：这个问题的时间限制是5秒，是默认的2.5倍。这个问题的内存限制是512MB，是默认值的两倍。**\n\n\n贝西需要为一个非常重要的法术收集法力。贝西有 $N$  $(1\\le N\\le 18)$ 个法力池，其中第 $i$ 个法力池每秒可积累 $m_i$ 法力 $(1\\le m_i\\le 10^8)$ 。这些池子由 $M$ $(0\\le M\\le N \\cdot (N-1))$  条有向边 $(a_i,b_i,t_i)$ 连接，这意味着她可以在 $t_i$ 秒内从 $a_i$ 移动到 $b_i$ $(1\\le a_i, b_i\\le N$, $a_i\\neq b_i$, $1\\le t_i\\le 10^9)$ 。每当贝西出现在一个池子里，她就可以收集储存在那个地方的所有法力，把它清空。在 $0$ 的时候，所有的法力池都是空的，贝西可以选择任何一个池子来开始收集。\n\n回答 $Q$ $(1\\le Q\\le 2\\cdot 10^5)$ 个查询，每个查询由两个整数 $s$ 和 $e$ 指定 $(1\\le s\\le 10^9$，$1\\le e\\le N)$ 。对于每个查询，如果贝西在第 $s$ 秒结束时必须在法力池 $e$ 处，请确定她在 $s$ 秒内能收集的最大法力值。", "inputFormat": "第一行包含 $N$ 和 $M$ 。\n\n下一行包含 $m_1,m_2,\\dots, m_N$ 。\n\n接下来的 $M$ 行每行包含 $a_i,b_i,t_i$ 。在输入中没有一对有序的 $(a_i,b_i)$ 出现超过一次。\n\n下一行包含 $Q$ 。\n\n接下来的 $Q$ 行每行包含两个整数 $s$ 和 $e$ 。", "outputFormat": "输出 $Q$ 行，每个查询所对应的答案。", "hint": "对于第一个样例：\n\n第一次询问。贝西在 $5$ 秒后从水池 $1$ 中取出 $5$ 个法力值。\n\n第二次查询。 $5$ 秒后，贝西从水池 $2$ 中获取 $50$ 点法力。\n\n第三次查询。 $100$ 秒后，贝西从水池 $1$ 中获取 $100$ 法力值。\n\n第四次查询。 $90$ 秒后贝西从水池 $1$ 中获得 $90$ 法力， $100$ 秒后从水池 $2$ 中获得 $1000$ 法力。\n\n测试点 $3-4$: $N\\le 10, Q\\le 100$ 。\n\n测试点 $5-9$: $N\\le 10$ 。\n\n测试点 $10-14$: $Q\\le 100$ 。\n\n测试点 $15-17$: $N = 16$ 。\n\n测试点 $18-20$: $N = 17$ 。\n\n测试点 $21-24$：没有其他约束条件 。", "locale": "zh-CN"}}}
{"pid": "P9021", "type": "P", "difficulty": 6, "samples": [["3\n1 1", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "树形 DP"], "title": "[USACO23JAN] Subtree Activation P", "background": "", "description": "For the New Year celebration, Bessie and her friends have constructed a giant tree with many glowing ornaments. Bessie has the ability to turn the ornaments on and off through remote control. Before the sun rises, she wants to toggle some of the ornaments in some order (possibly toggling an ornament more than once) such that the tree starts and ends with no ornaments on. Bessie thinks the tree looks cool if the set of activated ornaments is exactly a subtree rooted at some vertex. She wants the order of ornaments she toggles to satisfy the property that, for every subtree, at some point in time it was exactly the set of all turned on ornaments. Additionally, it takes energy to switch on and off ornaments, and Bessie does not want to waste energy, so she wants to find the minimum number of toggles she can perform. \n\nFormally, you have a tree with vertices labeled $1 \\cdots N (2 \\le N \\le 2 \\cdot 10^5)$ rooted at $1$. Each vertex is initially inactive. In one operation, you can toggle the state of a single vertex from inactive to active or vice versa. Output the minimum possible length of a sequence of operations satisfying both of the following conditions: \n\n - Define the subtree rooted at a vertex $r$ to consist of all vertices $v$ such that $r$ lies on the path from $1$ to $v$ inclusive. For every one of the $N$ subtrees of the tree, there is a moment in time when the set of active vertices is precisely those in that subtree. \n - Every vertex is inactive after the entire sequence of operations.", "inputFormat": "The first line contains $N$.\n\nThe second line contains $p_2 \\cdots p_N\n(1 \\le p_i<i)$, where $p_i$ denotes the parent of vertex $i$ in the tree. ", "outputFormat": "Output the minimum possible length. ", "hint": "### Explanation for Sample 1\n\nThere are three subtrees, corresponding to $\\{1,2,3\\}$, $\\{2\\}$, and $\\{3\\}$. Here is one sequence of operations of the minimum possible length:\n\nactivate 2  \n(activated vertices form the subtree rooted at 2)  \nactivate 1  \nactivate 3  \n(activated vertices form the subtree rooted at 1)  \ndeactivate 1  \ndeactivate 2  \n(activated vertices form the subtree rooted at 3)  \ndeactivate 3\n\n### Scoring\n\n - Inputs $2-3$: $N \\le 8$\n - Inputs $4-9$: $N \\le 40$\n - Inputs $10-15$: $N \\le 5000$\n - Inputs $16-21$: No additional constraints.\n", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Subtree Activation P", "background": "", "description": "For the New Year celebration, Bessie and her friends have constructed a giant tree with many glowing ornaments. Bessie has the ability to turn the ornaments on and off through remote control. Before the sun rises, she wants to toggle some of the ornaments in some order (possibly toggling an ornament more than once) such that the tree starts and ends with no ornaments on. Bessie thinks the tree looks cool if the set of activated ornaments is exactly a subtree rooted at some vertex. She wants the order of ornaments she toggles to satisfy the property that, for every subtree, at some point in time it was exactly the set of all turned on ornaments. Additionally, it takes energy to switch on and off ornaments, and Bessie does not want to waste energy, so she wants to find the minimum number of toggles she can perform. \n\nFormally, you have a tree with vertices labeled $1 \\cdots N (2 \\le N \\le 2 \\cdot 10^5)$ rooted at $1$. Each vertex is initially inactive. In one operation, you can toggle the state of a single vertex from inactive to active or vice versa. Output the minimum possible length of a sequence of operations satisfying both of the following conditions: \n\n - Define the subtree rooted at a vertex $r$ to consist of all vertices $v$ such that $r$ lies on the path from $1$ to $v$ inclusive. For every one of the $N$ subtrees of the tree, there is a moment in time when the set of active vertices is precisely those in that subtree. \n - Every vertex is inactive after the entire sequence of operations.", "inputFormat": "The first line contains $N$.\n\nThe second line contains $p_2 \\cdots p_N\n(1 \\le p_i<i)$, where $p_i$ denotes the parent of vertex $i$ in the tree. ", "outputFormat": "Output the minimum possible length. ", "hint": "### Explanation for Sample 1\n\nThere are three subtrees, corresponding to $\\{1,2,3\\}$, $\\{2\\}$, and $\\{3\\}$. Here is one sequence of operations of the minimum possible length:\n\nactivate 2  \n(activated vertices form the subtree rooted at 2)  \nactivate 1  \nactivate 3  \n(activated vertices form the subtree rooted at 1)  \ndeactivate 1  \ndeactivate 2  \n(activated vertices form the subtree rooted at 3)  \ndeactivate 3\n\n### Scoring\n\n - Inputs $2-3$: $N \\le 8$\n - Inputs $4-9$: $N \\le 40$\n - Inputs $10-15$: $N \\le 5000$\n - Inputs $16-21$: No additional constraints.\n", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Subtree Activation P", "background": "", "description": "你有一棵根为 $1$ 的树，顶点标记为 $1 \\dots N$ $(2 \\le N \\le 2 \\cdot 10^5)$ 。每个顶点最初都是关闭的。在一次操作中，你可以将一个顶点的状态从关闭状态切换到开启状态，反之亦然。输出一个满足以下两个条件的操作序列的最小可能长度。\n\n- 定义以顶点 $r$ 为根的子树由所有满足 $r$ 位于从 $1$ 到 $v$ 的路径上 $($包括 $v)$ , 的顶点 $v$ 组成。每一个顶点的子树，都有一个时刻，开启状态顶点的集合恰好是该子树中的顶点。\n- 在整个操作序列之后，每个顶点都是关闭的。", "inputFormat": "第一行包含 $N$ 。\n\n第二行包含 $p_2 \\dots p_N$ ， $p_i$ 是结点 $i$ 的父亲 $(1\\le p_i < i)$ 。", "outputFormat": "输出可能的最小长度。", "hint": "有三个子树，分别对应 $\\{1,2,3\\}、\\{2\\}、\\{3\\}$ 。下面是最小可能长度的一个操作序列。\n\n- 开启 $2$ (激活的顶点形成以 $2$ 为根的子树) 。\n- 开启 $1$ 。\n- 开启 $3$ (激活的顶点形成以 $1$ 为根的子树) 。\n- 关闭 $1$ 。\n- 关闭 $2$ (激活的顶点形成以 $3$ 为根的子树) 。\n- 关闭 $3$ 。\n\n子任务：\n- 测试点 $2-3$ : $N \\le 8$\n- 测试点 $4-9$ : $N \\le 40$\n- 测试点 $10-15$ : $N \\le 5000$\n- 测试点 $16-21$ ：没有额外的限制。", "locale": "zh-CN"}}}
{"pid": "P9022", "type": "P", "difficulty": 1, "samples": [["57234\n00907\n34100\n99999\n", "right 234\nright 907\nleft 100\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "2021", "﻿基础算法", "CCC（加拿大）"], "title": "[CCC 2021 J3] Secret Instructions", "background": "", "description": "多组数据。\n\n对于每组数据读入 $5$ 个数字字符。\n\n- 如果前两个之和为奇数，输出 `left`；\n- 如果前两个之和为非零偶数，输出 `right`；\n- 如果前两个之和为零，输出 `left` 或 `right` 取决于上组数据。\n\n然后输出一个空格与后三个数字字符。", "inputFormat": "多组数据。\n\n每行 $5$ 个数字字符。\n\n读入直到 `99999`。", "outputFormat": "每行一个字符串与 $3$ 个数字字符，空格隔开。", "hint": "读入的第三个字符不会为 $0$。\n\n第一组数据不会以 $00$ 开头。\n\n译自 [CCC2021 J3](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/juniorEF.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2021 J3] Secret Instructions", "background": "", "description": "多组数据。\n\n对于每组数据读入 $5$ 个数字字符。\n\n- 如果前两个之和为奇数，输出 `left`；\n- 如果前两个之和为非零偶数，输出 `right`；\n- 如果前两个之和为零，输出 `left` 或 `right` 取决于上组数据。\n\n然后输出一个空格与后三个数字字符。", "inputFormat": "多组数据。\n\n每行 $5$ 个数字字符。\n\n读入直到 `99999`。", "outputFormat": "每行一个字符串与 $3$ 个数字字符，空格隔开。", "hint": "读入的第三个字符不会为 $0$。\n\n第一组数据不会以 $00$ 开头。\n\n译自 [CCC2021 J3](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/juniorEF.pdf)。", "locale": "zh-CN"}}}
{"pid": "P9023", "type": "P", "difficulty": 2, "samples": [["3\n3\n2\nR 1\nC 1\n", "4"], ["4\n5\n7\nR 3\nC 1\nC 2\nR 2\nR 2\nC 1\nR 4\n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "2021", "﻿基础算法", "CCC（加拿大）"], "title": "[CCC 2021 J5/S2] Modern Art", "background": null, "description": "维护一个 $01$ 矩阵，初始矩阵全为 $0$。\n\n每次操作会将一行或一列反转（$0$ 变成 $1$，$1$ 变成 $0$）。\n\n输出最后有多少个 $1$。", "inputFormat": "第一行 $M$，表示矩阵行数。\n\n第二行 $N$，表示矩阵列数。\n\n第三行 $K$，表示操作个数。\n\n接下来 $K$ 行，每行一个字符与一个数字。字符为 `R` 则表示操作某一行，`C` 表示一列。数字表示哪一行或哪一列。", "outputFormat": "一行一个数字，表示最终 $1$ 的个数。", "hint": "样例解释：\n\n```\n011           01000\n100           01000\n100           10111\n              10111\n```\n\n$$1 \\leq M\\times N\\leq 5000000,1 \\leq K\\leq 1000000$$\n\n译自 [CCC2021 J5/S2](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/juniorEF.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2021 J5/S2] Modern Art", "background": null, "description": "维护一个 $01$ 矩阵，初始矩阵全为 $0$。\n\n每次操作会将一行或一列反转（$0$ 变成 $1$，$1$ 变成 $0$）。\n\n输出最后有多少个 $1$。", "inputFormat": "第一行 $M$，表示矩阵行数。\n\n第二行 $N$，表示矩阵列数。\n\n第三行 $K$，表示操作个数。\n\n接下来 $K$ 行，每行一个字符与一个数字。字符为 `R` 则表示操作某一行，`C` 表示一列。数字表示哪一行或哪一列。", "outputFormat": "一行一个数字，表示最终 $1$ 的个数。", "hint": "样例解释：\n\n```\n011           01000\n100           01000\n100           10111\n              10111\n```\n\n$$1 \\leq M\\times N\\leq 5000000,1 \\leq K\\leq 1000000$$\n\n译自 [CCC2021 J5/S2](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/juniorEF.pdf)。", "locale": "zh-CN"}}}
{"pid": "P9024", "type": "P", "difficulty": 2, "samples": [["3\n2 3 6 2\n4 1 1\n", "18.5"], ["4\n6 4 9 7 3\n5 2 4 1\n", "75.0"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "数学", "2021", "CCC（加拿大）"], "title": "[CCC 2021 S1] Crazy Fencing", "background": "", "description": "栅栏由 $N$ 块木板组成。\n\n因为是栅栏，所以第 $i$ 块的右边界与第 $i+1$ 块的左边界的高度一样。\n\n告诉你这些木板的边界的高度与这些木板的宽度，输出这些木板的总面积。", "inputFormat": "第一行一个整数 $N$。\n\n第二行 $N+1$ 个整数，表示每个边界的高度。\n\n第三行 $N$ 个整数，表示每块木板的宽度。", "outputFormat": "一行一个保留一位小数的实数，总面积。", "hint": "样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/doy8i2lm.png)![](https://cdn.luogu.com.cn/upload/image_hosting/3q9oe7v5.png)\n\n$N\\leq 10000$，高度和宽度 $\\leq 100$。\n\n译自 [CCC2021 S2](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2021 S1] Crazy Fencing", "background": "", "description": "栅栏由 $N$ 块木板组成。\n\n因为是栅栏，所以第 $i$ 块的右边界与第 $i+1$ 块的左边界的高度一样。\n\n告诉你这些木板的边界的高度与这些木板的宽度，输出这些木板的总面积。", "inputFormat": "第一行一个整数 $N$。\n\n第二行 $N+1$ 个整数，表示每个边界的高度。\n\n第三行 $N$ 个整数，表示每块木板的宽度。", "outputFormat": "一行一个保留一位小数的实数，总面积。", "hint": "样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/doy8i2lm.png)![](https://cdn.luogu.com.cn/upload/image_hosting/3q9oe7v5.png)\n\n$N\\leq 10000$，高度和宽度 $\\leq 100$。\n\n译自 [CCC2021 S2](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。", "locale": "zh-CN"}}}
{"pid": "P9025", "type": "P", "difficulty": 3, "samples": [["1\n0 1000 0\n", "0"], ["2\n10 4 3\n20 4 2\n", "20"], ["3\n6 8 3\n1 4 1\n14 5 2\n", "43"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2021", "三分", "离散化", "CCC（加拿大）"], "title": "[CCC 2021 S3] Lunch Concert", "background": "", "description": "有 $N$ 个人，第 $i$ 个人的速度为 $W_i$ **秒每米**，听力为 $D_i$，即能听见距离他不超过 $D_i$ 米处的音乐，初始在 $P_i$ 位置。\n\n你要在 $c$ 位置处开音乐会，这个 $c$ 由你决定且为整数。这 $N$ 个人都会靠近你直到能听到你。你要最小化每个人移动的时间之和。", "inputFormat": "第一行：$N$。\n\n接下来的 $N$ 行，每行依次包含 $P_i,W_i,D_i$。", "outputFormat": "一个整数：每个人移动的时间之和的最小值。（注意：答案可能超过 $2^{32}$）", "hint": "$$1\\leq N\\leq 200000,0\\leq P_i\\leq 10^9,1\\leq W_i\\leq 1000,0\\leq D_i\\leq 10^9$$\n\n译自 [CCC2021 S3](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。\n\n###### 2023.8.10 新增一组 hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2021 S3] Lunch Concert", "background": "", "description": "有 $N$ 个人，第 $i$ 个人的速度为 $W_i$ **秒每米**，听力为 $D_i$，即能听见距离他不超过 $D_i$ 米处的音乐，初始在 $P_i$ 位置。\n\n你要在 $c$ 位置处开音乐会，这个 $c$ 由你决定且为整数。这 $N$ 个人都会靠近你直到能听到你。你要最小化每个人移动的时间之和。", "inputFormat": "第一行：$N$。\n\n接下来的 $N$ 行，每行依次包含 $P_i,W_i,D_i$。", "outputFormat": "一个整数：每个人移动的时间之和的最小值。（注意：答案可能超过 $2^{32}$）", "hint": "$$1\\leq N\\leq 200000,0\\leq P_i\\leq 10^9,1\\leq W_i\\leq 1000,0\\leq D_i\\leq 10^9$$\n\n译自 [CCC2021 S3](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。\n\n###### 2023.8.10 新增一组 hack 数据。", "locale": "zh-CN"}}}
{"pid": "P9026", "type": "P", "difficulty": 4, "samples": [["4 3 3\n1 2\n3 4\n4 1\n1 4 3 2\n3 4\n4 2\n3 2\n", "1\n2\n3\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "2021", "CCC（加拿大）", "最短路"], "title": "[CCC 2021 S4] Daily Commute", "background": "", "description": "已知有 $N$ 个地铁站，你家在 $1$，学校在 $N$。\n\n有 $W$ 条单向人行道。经过需要一分钟。\n\n此外还有一条环形地铁线路，依次经过 $S_1,S_2,\\cdots,S_N$，且保证 $S_1=1$。每天**有且仅有**一辆地铁在 $0$ 时刻从 $S_1$ 出发，并且恰好在第 $i$ 分钟到达 $S_i$。\n\n在接下来 $D$ 天中：\n\n- 交换 $S_{X_i}$ 和 $S_{Y_i}$。注意修改是永久的。\n- 查询从 $1$ 到 $N$ 的最短用时。你出发时地铁在 $1$。", "inputFormat": "第一行：$N,W,D$。\n\n接下来 $W$ 行：$A_i,B_i$ 表示单向人行道。\n\n接下来一行 $N$ 个数：$S$。\n\n接下来 $D$ 行：$X_i,Y_i$，保证 $2\\leq X_i,Y_i\\leq N,X_i\\neq Y_i$。", "outputFormat": "$D$ 行，每天的答案。", "hint": "$$3\\leq N\\leq 200000,0\\leq W\\leq 200000,1\\leq D\\leq 200000$$\n\n译自 [CCC2021 S4](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。\n\n请注意常数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2021 S4] Daily Commute", "background": "", "description": "已知有 $N$ 个地铁站，你家在 $1$，学校在 $N$。\n\n有 $W$ 条单向人行道。经过需要一分钟。\n\n此外还有一条环形地铁线路，依次经过 $S_1,S_2,\\cdots,S_N$，且保证 $S_1=1$。每天**有且仅有**一辆地铁在 $0$ 时刻从 $S_1$ 出发，并且恰好在第 $i$ 分钟到达 $S_i$。\n\n在接下来 $D$ 天中：\n\n- 交换 $S_{X_i}$ 和 $S_{Y_i}$。注意修改是永久的。\n- 查询从 $1$ 到 $N$ 的最短用时。你出发时地铁在 $1$。", "inputFormat": "第一行：$N,W,D$。\n\n接下来 $W$ 行：$A_i,B_i$ 表示单向人行道。\n\n接下来一行 $N$ 个数：$S$。\n\n接下来 $D$ 行：$X_i,Y_i$，保证 $2\\leq X_i,Y_i\\leq N,X_i\\neq Y_i$。", "outputFormat": "$D$ 行，每天的答案。", "hint": "$$3\\leq N\\leq 200000,0\\leq W\\leq 200000,1\\leq D\\leq 200000$$\n\n译自 [CCC2021 S4](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。\n\n请注意常数。", "locale": "zh-CN"}}}
{"pid": "P9027", "type": "P", "difficulty": 4, "samples": [["2 2\n1 2 2\n2 2 6\n", "4 6"], ["2 2\n1 2 2\n2 2 5\n", "Impossible"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "2021", "Special Judge", "CCC（加拿大）", "ST 表", "构造", "差分"], "title": "[CCC 2021 S5]  Math Homework", "background": "", "description": "构造一个长度为 $N$ 的整数序列 $A$，使得：\n\n1. $\\forall i=1,2,\\cdots,N,1\\leq A_i\\leq 10^9$；\n2. $\\forall i=1,2,\\cdots,M,\\gcd(A_{X_i},A_{X_i+1},\\cdots,A_{Y_i})=Z_i$。\n\n或者报告无解。", "inputFormat": "第一行，$N,M$。\n\n接下来 $M$ 行，每行有 $X_i,Y_i,Z_i$，描述一个限制 2.", "outputFormat": "一行，序列 $A$，或者 `Impossible`。", "hint": "$$1\\leq N\\leq 150000,1\\leq M\\leq 150000,1\\leq Z_i\\leq 16$$\n\n译自 [CCC2021 S5](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。\n\nspj 在附件里，发现锅了请联系[我](/user/90693)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2021 S5]  Math Homework", "background": "", "description": "构造一个长度为 $N$ 的整数序列 $A$，使得：\n\n1. $\\forall i=1,2,\\cdots,N,1\\leq A_i\\leq 10^9$；\n2. $\\forall i=1,2,\\cdots,M,\\gcd(A_{X_i},A_{X_i+1},\\cdots,A_{Y_i})=Z_i$。\n\n或者报告无解。", "inputFormat": "第一行，$N,M$。\n\n接下来 $M$ 行，每行有 $X_i,Y_i,Z_i$，描述一个限制 2.", "outputFormat": "一行，序列 $A$，或者 `Impossible`。", "hint": "$$1\\leq N\\leq 150000,1\\leq M\\leq 150000,1\\leq Z_i\\leq 16$$\n\n译自 [CCC2021 S5](https://cemc.math.uwaterloo.ca/contests/computing/past_ccc_contests/2021/ccc/seniorEF.pdf)。\n\nspj 在附件里，发现锅了请联系[我](/user/90693)。", "locale": "zh-CN"}}}
{"pid": "P9028", "type": "P", "difficulty": 1, "samples": [["4 2 2\n##\n..\n..\n##\n#.\n.#\n.#\n#.", "0\n0\n1\n1"], ["1 5 8\n.....#.#\n...#..#.\n..#.#...\n.#......\n#.......", "4"], ["2 3 3\n...\n##.\n..#\n.#.\n#..\n..#", "1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #1] Desni klik", "background": "NFP 即未来！当谈到金融话题时，Noa 的朋友们都希望听到他说这句话。", "description": "NFP 是一种加密货币。一枚 NFP 在 $s$ 天内的价值可以用一个仅包含字符``.``与``#``的 $r$ 行 $s$ 列字符矩阵表示。第 $i$ 列中自底向上第 $j$ 行的``#``表示第 $i$ 天该 NFP 的价值为 $j$。\n\nNFP 的“不安全度”定义为在 $s$ 天之内其价值到达的最大值与最小值之差。\n\n```\n....##.\n#..#...\n.##....\n......#\n```\n如上，这枚 NFP 在 $7$ 天内的价值依次为：$3,2,2,3,4,4,1$。它的“不安全度”是3。\n\n现在 Noa 想让你帮他确定他手中 $n$ 枚 NFP 的不安全度。", "inputFormat": "第一行包含三个整数 $n,r,s$，分别表示 NFP 的数量，矩阵的行数和列数。\n\n接下来 $n$ 个 $r$ 行 $s$ 列的矩阵，描述每枚 NFP 的在 $s$ 天内的价值。\n\n保证每枚 NFP 的价值矩阵的每一列都包含且仅包含一个字符``#``。", "outputFormat": "输出 $n$ 行，表示每枚 NFP 的不安全度。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $r=s=2$ |\n| $2$ | $15$ | $n=1$ |\n| $3$ | $30$ | 无特殊性质 |\n\n\n对于 $100\\%$ 的数据，$1\\leq n \\leq 20,2\\leq r,s \\leq50$。\n\n本题满分 $50$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #1] Desni klik", "background": "NFP 即未来！当谈到金融话题时，Noa 的朋友们都希望听到他说这句话。", "description": "NFP 是一种加密货币。一枚 NFP 在 $s$ 天内的价值可以用一个仅包含字符``.``与``#``的 $r$ 行 $s$ 列字符矩阵表示。第 $i$ 列中自底向上第 $j$ 行的``#``表示第 $i$ 天该 NFP 的价值为 $j$。\n\nNFP 的“不安全度”定义为在 $s$ 天之内其价值到达的最大值与最小值之差。\n\n```\n....##.\n#..#...\n.##....\n......#\n```\n如上，这枚 NFP 在 $7$ 天内的价值依次为：$3,2,2,3,4,4,1$。它的“不安全度”是3。\n\n现在 Noa 想让你帮他确定他手中 $n$ 枚 NFP 的不安全度。", "inputFormat": "第一行包含三个整数 $n,r,s$，分别表示 NFP 的数量，矩阵的行数和列数。\n\n接下来 $n$ 个 $r$ 行 $s$ 列的矩阵，描述每枚 NFP 的在 $s$ 天内的价值。\n\n保证每枚 NFP 的价值矩阵的每一列都包含且仅包含一个字符``#``。", "outputFormat": "输出 $n$ 行，表示每枚 NFP 的不安全度。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $r=s=2$ |\n| $2$ | $15$ | $n=1$ |\n| $3$ | $30$ | 无特殊性质 |\n\n\n对于 $100\\%$ 的数据，$1\\leq n \\leq 20,2\\leq r,s \\leq50$。\n\n本题满分 $50$ 分。", "locale": "zh-CN"}}}
{"pid": "P9029", "type": "P", "difficulty": 4, "samples": [["5 2\n1 9 22 10 19\n18 4\n5 2", "34\n-21"], ["7 4\n1 5 4 3 7 11 9\n5 4\n5 7\n7 3\n4 5", "4\n16\n7\n1"], ["3 3\n5 6 7\n10 1\n5 3\n3 3", "5\n12\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #1]  Čokolade", "background": "Lana 和 Fran 正在参观一家巧克力工厂，现在他们想买些巧克力。", "description": "巧克力工厂里有 $n$ 块不同的巧克力，其中第 $i$ 块的价格为 $c_i$。Lana 和 Fran 想买 $m$ 块巧克力。\n\nFran 有一个消费方案：\n\n•如果巧克力价格低于 $k$ 元，这块巧克力的费用将全部由 Lana 支付。\n\n•否则，Lana 将支付 $k$ 元，而 Fran 将支付其余的部分，即 $c_i−k$ 元。\n\nLana 对 Fran 的方案不满意，想要报复 Fran。设 $l$ 为 Lana 需要支付的金额，$f$ 为 Fran 需要支付的金额。Lana 将选择使 $l−f$ 的值最小的购买方案。\n\n由于 Fran 还在犹豫，不知道要买多少巧克力，所以 Lana 想知道对于给出的 $q$ 种不同的购买方案 $k_i$ 和 $m_i$，每种方案 $l−f$ 的最小值。", "inputFormat": "第一行包含两个整数 $n$ 和 $q$，分别表示巧克力的数量和询问数量。\n\n第二行包含 $n$ 个整数 $c_i$，依次表示每块巧克力的价格。\n\n接下来 $q$ 行，每行包含两个整数 $k_i$ 和 $m_i$，分别表示 Fran 的付款阈值和购买的巧克力总数量。", "outputFormat": "输出 $q$ 行，每行一个整数表示 Lana 询问的答案。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n,q \\leq 1000,c_i,k_i\\leq 10^6$ |\n| $2$ | $20$ | 所有询问的 $k$ 都相等 |\n| $3$ | $35$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$1\\leq m_i\\leq n,q\\leq 10^5,1\\leq c_i,k_i \\leq 10^9$。\n\n本题满分 $70$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #1]  Čokolade", "background": "Lana 和 Fran 正在参观一家巧克力工厂，现在他们想买些巧克力。", "description": "巧克力工厂里有 $n$ 块不同的巧克力，其中第 $i$ 块的价格为 $c_i$。Lana 和 Fran 想买 $m$ 块巧克力。\n\nFran 有一个消费方案：\n\n•如果巧克力价格低于 $k$ 元，这块巧克力的费用将全部由 Lana 支付。\n\n•否则，Lana 将支付 $k$ 元，而 Fran 将支付其余的部分，即 $c_i−k$ 元。\n\nLana 对 Fran 的方案不满意，想要报复 Fran。设 $l$ 为 Lana 需要支付的金额，$f$ 为 Fran 需要支付的金额。Lana 将选择使 $l−f$ 的值最小的购买方案。\n\n由于 Fran 还在犹豫，不知道要买多少巧克力，所以 Lana 想知道对于给出的 $q$ 种不同的购买方案 $k_i$ 和 $m_i$，每种方案 $l−f$ 的最小值。", "inputFormat": "第一行包含两个整数 $n$ 和 $q$，分别表示巧克力的数量和询问数量。\n\n第二行包含 $n$ 个整数 $c_i$，依次表示每块巧克力的价格。\n\n接下来 $q$ 行，每行包含两个整数 $k_i$ 和 $m_i$，分别表示 Fran 的付款阈值和购买的巧克力总数量。", "outputFormat": "输出 $q$ 行，每行一个整数表示 Lana 询问的答案。", "hint": "| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n,q \\leq 1000,c_i,k_i\\leq 10^6$ |\n| $2$ | $20$ | 所有询问的 $k$ 都相等 |\n| $3$ | $35$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$1\\leq m_i\\leq n,q\\leq 10^5,1\\leq c_i,k_i \\leq 10^9$。\n\n本题满分 $70$ 分。", "locale": "zh-CN"}}}
{"pid": "P9030", "type": "P", "difficulty": 6, "samples": [["3 3\n0.0000000000 0.0000000000\n0.0000000000 2.0000000000\n2.0000000000 0.0000000000\n1 2\n2 3\n3 1", "DA\n0.585786\n1.414214\n1.414214"], ["5 4\n-0.4585133080 0.2893567973\n9.9368007273 7.1806641913\n-8.4621834970 -2.8309311865\n0.0122121945 -2.8309311865\n2.3991780589 -8.8626906628\n2 1\n3 2\n4 3\n5 1", "DA\n0.000000\n12.472076\n8.474396\n0.000000\n9.587824"], ["5 5\n0.0000000000 0.0000000000\n1.0000000000 2.0000000000\n2.0000000000 4.0000000000\n3.0000000000 6.0000000000\n4.0000000000 8.0000000000\n1 2\n2 3\n3 4\n4 5\n5 1", "NE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #1] Berilij", "background": "小羊 Berilij 被外星人绑架了。她需要帮助外星人解决一个问题。", "description": "就在 COCI 比赛当天，外星人计划乘 $n$ 艘宇宙飞船访问地球，授予参赛者丰厚的奖励。他们的宇宙飞船都是完美的圆形。\n\n出于安全考虑，他们选择了 $m$ 对在着陆时外部必须相接触的飞船。外星人已经确定了每艘飞船的着陆点坐标，而 Berilij 的任务是确定每艘飞船的半径，以确保所有飞船都能安全着陆。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/frerrx7n.png)\n\n如图，左右两对飞船均不满足外部接触的条件。只有中间的一对飞船满足外部接触的条件。换句话说，“外部接触”定义为当且仅当两艘飞船对应的圆形**外切**时，这两艘飞船的外部相接触。\n\n宇宙飞船造价昂贵，它们的成本等于它们的面积，所以外星人希望宇宙飞船成本尽可能小。由于外星人科技非常先进，因此外星人的宇宙飞船可以重叠，直径也可以为 $0$。\n\n如果 Berilij 不能解决这个问题，外星人将会吃掉她！请你帮帮小羊 Berilij。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示外星人的飞船数量以及需要接触的飞船的对数。\n\n接下来 $n$ 行每行两个实数 $x_i,y_i$，表示第 $i$ 艘飞船着陆点的坐标。给出的坐标均精确到小数点后十位。\n\n下面的 $m$ 行包含两个整数 $a_i$ 和 $b_i$，表示第 $a_i$ 号和第 $b_i$ 号飞船在着陆后必须外部接触。数据保证无序对 $(a_i,b_i)$ 不重复。", "outputFormat": "如果无解，输出一行```NE```。\n\n否则第一行输出```DA```，接下来 $n$ 行输出成本最小的方案下每艘飞船的半径。", "hint": "当你的答案与正确答案误差不大于 $10^{-4}$ 时，答案被视为正确的。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n$ 为奇数且所有飞船都恰好与两艘飞船接触 |\n| $2$ | $25$ | 数据保证有解 |\n| $3$ | $30$ | 对于任何一对飞船 $(a,b)$ 都有且仅有一个飞船序列满足其起始于 $a$ 结束于 $b$ 且此序列内任意相邻的两艘飞船都彼此接触 |\n| $4$ | $40$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$1\\leq n,m \\leq 10^5,-10^4\\leq x_i,y_i \\leq 10^4,1\\leq a_i,b_i \\leq n$ 且 $a_i \\neq b_i$。\n\n本题满分 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #1] Berilij", "background": "小羊 Berilij 被外星人绑架了。她需要帮助外星人解决一个问题。", "description": "就在 COCI 比赛当天，外星人计划乘 $n$ 艘宇宙飞船访问地球，授予参赛者丰厚的奖励。他们的宇宙飞船都是完美的圆形。\n\n出于安全考虑，他们选择了 $m$ 对在着陆时外部必须相接触的飞船。外星人已经确定了每艘飞船的着陆点坐标，而 Berilij 的任务是确定每艘飞船的半径，以确保所有飞船都能安全着陆。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/frerrx7n.png)\n\n如图，左右两对飞船均不满足外部接触的条件。只有中间的一对飞船满足外部接触的条件。换句话说，“外部接触”定义为当且仅当两艘飞船对应的圆形**外切**时，这两艘飞船的外部相接触。\n\n宇宙飞船造价昂贵，它们的成本等于它们的面积，所以外星人希望宇宙飞船成本尽可能小。由于外星人科技非常先进，因此外星人的宇宙飞船可以重叠，直径也可以为 $0$。\n\n如果 Berilij 不能解决这个问题，外星人将会吃掉她！请你帮帮小羊 Berilij。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示外星人的飞船数量以及需要接触的飞船的对数。\n\n接下来 $n$ 行每行两个实数 $x_i,y_i$，表示第 $i$ 艘飞船着陆点的坐标。给出的坐标均精确到小数点后十位。\n\n下面的 $m$ 行包含两个整数 $a_i$ 和 $b_i$，表示第 $a_i$ 号和第 $b_i$ 号飞船在着陆后必须外部接触。数据保证无序对 $(a_i,b_i)$ 不重复。", "outputFormat": "如果无解，输出一行```NE```。\n\n否则第一行输出```DA```，接下来 $n$ 行输出成本最小的方案下每艘飞船的半径。", "hint": "当你的答案与正确答案误差不大于 $10^{-4}$ 时，答案被视为正确的。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n$ 为奇数且所有飞船都恰好与两艘飞船接触 |\n| $2$ | $25$ | 数据保证有解 |\n| $3$ | $30$ | 对于任何一对飞船 $(a,b)$ 都有且仅有一个飞船序列满足其起始于 $a$ 结束于 $b$ 且此序列内任意相邻的两艘飞船都彼此接触 |\n| $4$ | $40$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$1\\leq n,m \\leq 10^5,-10^4\\leq x_i,y_i \\leq 10^4,1\\leq a_i,b_i \\leq n$ 且 $a_i \\neq b_i$。\n\n本题满分 $110$ 分。", "locale": "zh-CN"}}}
{"pid": "P9031", "type": "P", "difficulty": 5, "samples": [["3\n1 4\n0 0\n0 9", "1\n0\n3"], ["3\n5 1\n4 3\n2 4", "0\n1\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #1] Iksevi", "background": "写了十年的代码后，Vinko 决定转行做一名陶艺家。他在新工作的第一天就接到了一项艰巨的任务。", "description": "Vinko 需要使用正方形瓷砖铺满音乐厅的地板。他不会让瓷砖的边与墙壁平行；相反，他选择让瓷砖的对角线与墙壁平行。\n\nVinko 还没有决定他将使用的瓷砖大小，但他知道所有瓷砖必须大小相同，而且对角线的长度必须是一个正偶数。\n\nVinko 铺下的第一块瓷砖的角将与左侧和后方的墙接触。此后他铺下的每一块瓷砖都与至少一块已铺好的瓷砖有一条边重合。他将重复这以一过程，直到铺满整个 $10^7 \\times 10^7$ 平方毫米的地面。\n\n除了程序员和陶艺家，Vinko 也是一个优秀的音乐家。正因为如此，他知道地板上有 $n$ 个点对大厅的音响效果至关重要。如果瓷砖的角落位于 $n$ 个点中的一个，大厅的声学效果将显著改善。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o4bbstj2.png)\n\n如图，左图为瓷砖对角线长度为 $4$ 的铺装，在此条件下，点 $(2,4)$ 在瓷砖的角落上，此时它满足条件，使得音响效果大为改善，但点 $(4,3)$ 和 $(5,1)$ 不满足条件。右图则为瓷砖对角线长度为 $2$ 的铺装，此时点 $(4,3)$ 在四块瓷砖的角落，而点 $(2,4)$ 和 $(5,1)$ 不在。\n\n帮助 Vinko 确定对于 $n$ 个点中的每个点，有多少种瓷砖尺寸可以使铺满地面后第 $i$ 个点位于瓷砖的角落上。", "inputFormat": "第一行包含一个整数 $n$，即声学关键点的数目。\n\n接下来 $n$ 行，每行两个整数 $x_i,y_i$，表示第 $i$ 个声学关键点与左侧墙壁与后方墙壁的距离。", "outputFormat": "输出 $n$ 行，每行一个整数。\n\n第 $i$ 行表示能使 $i$ 号声学关键点位于瓷砖角落的瓷砖尺寸数。", "hint": "| 子任务 | 分值 | 数据范围 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $15$ | $1\\leq n \\leq 10^4,0\\leq x_i,y_i \\leq 100$ |\n| $2$ | $55$ | $1\\leq n \\leq 10^4,0\\leq x_i,y_i \\leq 10^7$ |\n| $3$ | $40$ | $1\\leq n \\leq 10^6,0\\leq x_i,y_i \\leq 10^7$ |\n\n本题满分 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #1] Iksevi", "background": "写了十年的代码后，Vinko 决定转行做一名陶艺家。他在新工作的第一天就接到了一项艰巨的任务。", "description": "Vinko 需要使用正方形瓷砖铺满音乐厅的地板。他不会让瓷砖的边与墙壁平行；相反，他选择让瓷砖的对角线与墙壁平行。\n\nVinko 还没有决定他将使用的瓷砖大小，但他知道所有瓷砖必须大小相同，而且对角线的长度必须是一个正偶数。\n\nVinko 铺下的第一块瓷砖的角将与左侧和后方的墙接触。此后他铺下的每一块瓷砖都与至少一块已铺好的瓷砖有一条边重合。他将重复这以一过程，直到铺满整个 $10^7 \\times 10^7$ 平方毫米的地面。\n\n除了程序员和陶艺家，Vinko 也是一个优秀的音乐家。正因为如此，他知道地板上有 $n$ 个点对大厅的音响效果至关重要。如果瓷砖的角落位于 $n$ 个点中的一个，大厅的声学效果将显著改善。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o4bbstj2.png)\n\n如图，左图为瓷砖对角线长度为 $4$ 的铺装，在此条件下，点 $(2,4)$ 在瓷砖的角落上，此时它满足条件，使得音响效果大为改善，但点 $(4,3)$ 和 $(5,1)$ 不满足条件。右图则为瓷砖对角线长度为 $2$ 的铺装，此时点 $(4,3)$ 在四块瓷砖的角落，而点 $(2,4)$ 和 $(5,1)$ 不在。\n\n帮助 Vinko 确定对于 $n$ 个点中的每个点，有多少种瓷砖尺寸可以使铺满地面后第 $i$ 个点位于瓷砖的角落上。", "inputFormat": "第一行包含一个整数 $n$，即声学关键点的数目。\n\n接下来 $n$ 行，每行两个整数 $x_i,y_i$，表示第 $i$ 个声学关键点与左侧墙壁与后方墙壁的距离。", "outputFormat": "输出 $n$ 行，每行一个整数。\n\n第 $i$ 行表示能使 $i$ 号声学关键点位于瓷砖角落的瓷砖尺寸数。", "hint": "| 子任务 | 分值 | 数据范围 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $15$ | $1\\leq n \\leq 10^4,0\\leq x_i,y_i \\leq 100$ |\n| $2$ | $55$ | $1\\leq n \\leq 10^4,0\\leq x_i,y_i \\leq 10^7$ |\n| $3$ | $40$ | $1\\leq n \\leq 10^6,0\\leq x_i,y_i \\leq 10^7$ |\n\n本题满分 $110$ 分。", "locale": "zh-CN"}}}
