{"pid": "P10634", "type": "P", "difficulty": 5, "samples": [["9 6 10\n5\n6\n2\n10\n10\n7\n3\n2\n9\n1\n4\n4\n3\n2\n1", "1\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "O2优化", "哈希 hashing", "KMP 算法"], "title": "BZOJ2372 music", "background": "", "description": "最近 A、B 两国发生了一场战争。dick 作为 A 国的军事总指挥，最近非常头痛于己方的情报问题。因为 B 国最近雇佣了 Easy 这一位密码专家来给他们的所有通讯加密。\n\nEasy 非常喜欢唱歌，于是他决定将所有的信号都变成旋律储存起来，比如说 $11556654433221$ 就可能是一段加过密的音符，我们用一个等长度的序列来表示它，就变成了 $1,1,5,5,6,6,\\dots$。为了增加密码的保密性，他把加密的乐谱又调整了一下，把某些音调改变了，将原序列 $A$ 变成 $B$，有 $|A|=|B|$，且对于 $a_i=a_j$ 有 $b_i=b_j$，对于 $a_i<a_j$ 有 $b_i<b_j$，对于 $a_i>a_j$ 有 $b_i>b_j$。例如：`11221` 和 `55775` 就可能代表了同一段音符。\n\n最近，dick 截获了一段信号，这段信号中可能包含了某些重要信息。根据以往的经验，dick 已经知道了某些旋律所代表的意义。于是 dick 想知道，对于一段已知的旋律，能不能判断它是否在这段截获的旋律中出现？如果出现了，能否找出它出现的次数及位置呢？\n\n「任务」判断给定旋律在截获旋律中出现的次数及位置。", "inputFormat": "第一行三个正整数 $n,m,s$，$n$ 是截获旋律的长度，$m$ 是已知旋律的长度，所有的旋律都是 $1\\sim s(s\\leq 25)$ 的正整数。\n\n接下来 $n$ 行，每行一个整数描述截获的旋律 $A$；\n\n接下来 $m$ 行，每行一个整数描述已知的旋律 $B$；", "outputFormat": "第一行一个整数 $t$ 表示出现的次数。\n\n然后 $t$ 行，按照从小到大给出出现时的起始位置 $p$，即：$A[p\\dots p+m-1]$ 等价于 $B$。", "hint": "对于所有数据，保证 $1\\leq n \\leq 10^5$，$1\\leq m \\leq 25000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ2372 music", "background": "", "description": "最近 A、B 两国发生了一场战争。dick 作为 A 国的军事总指挥，最近非常头痛于己方的情报问题。因为 B 国最近雇佣了 Easy 这一位密码专家来给他们的所有通讯加密。\n\nEasy 非常喜欢唱歌，于是他决定将所有的信号都变成旋律储存起来，比如说 $11556654433221$ 就可能是一段加过密的音符，我们用一个等长度的序列来表示它，就变成了 $1,1,5,5,6,6,\\dots$。为了增加密码的保密性，他把加密的乐谱又调整了一下，把某些音调改变了，将原序列 $A$ 变成 $B$，有 $|A|=|B|$，且对于 $a_i=a_j$ 有 $b_i=b_j$，对于 $a_i<a_j$ 有 $b_i<b_j$，对于 $a_i>a_j$ 有 $b_i>b_j$。例如：`11221` 和 `55775` 就可能代表了同一段音符。\n\n最近，dick 截获了一段信号，这段信号中可能包含了某些重要信息。根据以往的经验，dick 已经知道了某些旋律所代表的意义。于是 dick 想知道，对于一段已知的旋律，能不能判断它是否在这段截获的旋律中出现？如果出现了，能否找出它出现的次数及位置呢？\n\n「任务」判断给定旋律在截获旋律中出现的次数及位置。", "inputFormat": "第一行三个正整数 $n,m,s$，$n$ 是截获旋律的长度，$m$ 是已知旋律的长度，所有的旋律都是 $1\\sim s(s\\leq 25)$ 的正整数。\n\n接下来 $n$ 行，每行一个整数描述截获的旋律 $A$；\n\n接下来 $m$ 行，每行一个整数描述已知的旋律 $B$；", "outputFormat": "第一行一个整数 $t$ 表示出现的次数。\n\n然后 $t$ 行，按照从小到大给出出现时的起始位置 $p$，即：$A[p\\dots p+m-1]$ 等价于 $B$。", "hint": "对于所有数据，保证 $1\\leq n \\leq 10^5$，$1\\leq m \\leq 25000$。", "locale": "zh-CN"}}}
{"pid": "P10635", "type": "P", "difficulty": 6, "samples": [["4\n0101\n1000\n0010\n0101", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "Ad-hoc"], "title": "BZOJ3517 翻硬币", "background": "", "description": "有一个 $n$ 行 $n$ 列的棋盘，每个格子上都有一个硬币，且 $n$ 为偶数。每个硬币要么是正面朝上，要么是反面朝上。每次操作你可以选定一个格子 $(x,y)$，然后将第 $x$ 行和第 $y$ 列的所有硬币都翻面。求将所有硬币都变成同一个面最少需要的操作数。", "inputFormat": "第一行包含一个正整数 $n$。接下来 $n$ 行，每行包含一个长度为 $n$ 的 $01$ 字符串，表示棋盘上硬币的状态。", "outputFormat": "仅包含一行，为最少需要的操作数。", "hint": "**【样例解释】**\n\n对 $(2,3)$ 和 $(3,1)$ 进行操作，最后全变成 $1$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leq n \\leq 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ3517 翻硬币", "background": "", "description": "有一个 $n$ 行 $n$ 列的棋盘，每个格子上都有一个硬币，且 $n$ 为偶数。每个硬币要么是正面朝上，要么是反面朝上。每次操作你可以选定一个格子 $(x,y)$，然后将第 $x$ 行和第 $y$ 列的所有硬币都翻面。求将所有硬币都变成同一个面最少需要的操作数。", "inputFormat": "第一行包含一个正整数 $n$。接下来 $n$ 行，每行包含一个长度为 $n$ 的 $01$ 字符串，表示棋盘上硬币的状态。", "outputFormat": "仅包含一行，为最少需要的操作数。", "hint": "**【样例解释】**\n\n对 $(2,3)$ 和 $(3,1)$ 进行操作，最后全变成 $1$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leq n \\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P10636", "type": "P", "difficulty": 6, "samples": [["3 4", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数论", "O2优化", "莫比乌斯反演"], "title": "BZOJ3518 点组计数", "background": "", "description": "平面上摆放着一个 $n\\times m$ 的点阵，如下图是一个 $3\\times 4$ 的点阵图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6tq3jene.png)\n\n现问，有多少个三元点对组 $(a,b,c)$ 满足 $a,b,c$ 三点共线，顺序无关紧要，例如 $(a,b,c)$ 与 $(b,c,a)$ 算一组。答案对 $10^9+7$ 取模。", "inputFormat": "一行，两个正整数 $n,m$。", "outputFormat": "一行一个整数，表示答案对 $10^9+7$ 取模后的结果。", "hint": "数据保证，$1\\leq n,m\\leq 5\\times 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ3518 点组计数", "background": "", "description": "平面上摆放着一个 $n\\times m$ 的点阵，如下图是一个 $3\\times 4$ 的点阵图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6tq3jene.png)\n\n现问，有多少个三元点对组 $(a,b,c)$ 满足 $a,b,c$ 三点共线，顺序无关紧要，例如 $(a,b,c)$ 与 $(b,c,a)$ 算一组。答案对 $10^9+7$ 取模。", "inputFormat": "一行，两个正整数 $n,m$。", "outputFormat": "一行一个整数，表示答案对 $10^9+7$ 取模后的结果。", "hint": "数据保证，$1\\leq n,m\\leq 5\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P10637", "type": "P", "difficulty": 6, "samples": [["4\n1 3 5 7\n2 4 6 8\n1 1 9 9\n9 9 1 1", "9322587654\n9025304064\n1065645568\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "O2优化", "吉司机线段树 segment tree beats"], "title": "BZOJ4262 Sum", "background": null, "description": "给定一个长度为 $10^5$ 的整数序列 $a_i$，现进行 $t$ 次询问，每次询问给出 $l_1,l_2,r_1,r_2$ 四个值，要求出：\n\n$$\\sum_{l \\in [l_1,r_1]} \\sum_{r \\in [l_2,r_2]} (\\max_{i \\in [l,r]} a_i-\\min_{i\\in [l,r]} a_i)$$\n\n的值。不要求强制在线。\n\n本题中的序列 $a_i$ 由如下代码给定生成：\n\n```cpp\nconst int mod = 1e9;\nlong long fst = 1023, sec = 1025;\nfor (int i = 1; i <= 100000; i++) {\n\ta[i] = fst ^ sec;\n\tfst = fst * 1023 % mod;\n\tsec = sec * 1025 % mod;\n}\n```", "inputFormat": "第一行一个数 $t$，表示询问组数。\n\n接下来 $t$ 行，每行四个整数 $l_1, r_1, l_2, r_2$。", "outputFormat": "一共 $t$ 行，每行一个数 $\\text{Sum}$，表示答案。", "hint": "数据保证，$1\\leq t\\leq 40000$，$1\\leq l_1 \\leq r_1\\leq 10^5$，$1\\leq l_2 \\leq r_2\\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ4262 Sum", "background": null, "description": "给定一个长度为 $10^5$ 的整数序列 $a_i$，现进行 $t$ 次询问，每次询问给出 $l_1,l_2,r_1,r_2$ 四个值，要求出：\n\n$$\\sum_{l \\in [l_1,r_1]} \\sum_{r \\in [l_2,r_2]} (\\max_{i \\in [l,r]} a_i-\\min_{i\\in [l,r]} a_i)$$\n\n的值。不要求强制在线。\n\n本题中的序列 $a_i$ 由如下代码给定生成：\n\n```cpp\nconst int mod = 1e9;\nlong long fst = 1023, sec = 1025;\nfor (int i = 1; i <= 100000; i++) {\n\ta[i] = fst ^ sec;\n\tfst = fst * 1023 % mod;\n\tsec = sec * 1025 % mod;\n}\n```", "inputFormat": "第一行一个数 $t$，表示询问组数。\n\n接下来 $t$ 行，每行四个整数 $l_1, r_1, l_2, r_2$。", "outputFormat": "一共 $t$ 行，每行一个数 $\\text{Sum}$，表示答案。", "hint": "数据保证，$1\\leq t\\leq 40000$，$1\\leq l_1 \\leq r_1\\leq 10^5$，$1\\leq l_2 \\leq r_2\\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10638", "type": "P", "difficulty": 6, "samples": [["5 3\n6 4 6 6 4 \n2 1 5 -5\n1 3 4 4\n3 1 5", "2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "O2优化", "吉司机线段树 segment tree beats"], "title": "BZOJ4355 Play with sequence", "background": "", "description": "维护一个长度为 $n$ 的整数序列 $a$，支持三种操作：\n\n- `1 u v c`，对于 $\\forall i \\in [u,v]$，将 $a_i$ 更改为 $c$；\n- `2 u v c`，对于 $\\forall i \\in [u,v]$，将 $a_i$ 更改为 $\\max(a_i+c,0)$；\n- `3 u v`，输出 $\\sum \\limits_{i=u}^v [a_i=0]$ 的值。", "inputFormat": "第一行输入两个正整数 $n,m$，表示序列长度和操作个数。\n\n第二行输入 $n$ 个整数 $a_i$，表示序列的初始状态。\n\n第三行开始，往下 $m$ 行，每行表示一个操作。", "outputFormat": "输出若干行，每行一个整数，依次回答每个操作 $3$ 的问题。", "hint": "对于 $100\\%$ 的数据，$1\\leq n,m\\leq 3\\times 10^5$，$0\\leq a_i\\leq 10^9$。\n\n- 对于操作 $1$，保证 $0\\leq c\\leq 10^9$。\n- 对于操作 $2$，保证 $|c| \\leq 10^9$。\n\n且对于所有操作，保证 $1\\leq u\\leq v\\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ4355 Play with sequence", "background": "", "description": "维护一个长度为 $n$ 的整数序列 $a$，支持三种操作：\n\n- `1 u v c`，对于 $\\forall i \\in [u,v]$，将 $a_i$ 更改为 $c$；\n- `2 u v c`，对于 $\\forall i \\in [u,v]$，将 $a_i$ 更改为 $\\max(a_i+c,0)$；\n- `3 u v`，输出 $\\sum \\limits_{i=u}^v [a_i=0]$ 的值。", "inputFormat": "第一行输入两个正整数 $n,m$，表示序列长度和操作个数。\n\n第二行输入 $n$ 个整数 $a_i$，表示序列的初始状态。\n\n第三行开始，往下 $m$ 行，每行表示一个操作。", "outputFormat": "输出若干行，每行一个整数，依次回答每个操作 $3$ 的问题。", "hint": "对于 $100\\%$ 的数据，$1\\leq n,m\\leq 3\\times 10^5$，$0\\leq a_i\\leq 10^9$。\n\n- 对于操作 $1$，保证 $0\\leq c\\leq 10^9$。\n- 对于操作 $2$，保证 $|c| \\leq 10^9$。\n\n且对于所有操作，保证 $1\\leq u\\leq v\\leq n$。", "locale": "zh-CN"}}}
{"pid": "P10639", "type": "P", "difficulty": 6, "samples": [["2\n1 2\n2\n2 1 2 2\n4 1 2", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "吉司机线段树 segment tree beats"], "title": "BZOJ4695 最假女选手", "background": null, "description": "给定一个长度为 $n$ 的序列，要求支持以下 $6$ 种操作：\n- 给一个区间 $[l,r]$ 加上一个整数 $x$；\n- 把一个区间 $[l,r]$ 内小于 $x$ 的数都变成 $x$；\n- 把一个区间 $[l,r]$ 内大于 $x$ 的数都变成 $x$；\n- 求区间 $[l,r]$ 的和；\n- 求区间 $[l,r]$ 的最大值；\n- 求区间 $[l,r]$ 的最小值；", "inputFormat": "第一行一个整数 $n$ 表示序列长度。\n\n第二行 $n$ 个整数 $a_i$ 表示初始序列。\n\n第三行一个整数 $m$ 表示操作个数。\n\n接下来 $m$ 行，每行三或四个整数，表示一个题目中所描述的操作。", "outputFormat": "对于每个 $4,5,6$ 类型的操作输出一行一个整数表示答案。", "hint": "数据保证，$1\\leq n,m\\leq 5\\times 10^5$，$|a_i|\\leq 10^8$。\n\n当进行 $1$ 操作时，$|x| \\leq 1000$；\n\n当进行 $2$ 操作时，$|x| \\leq 10^8$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ4695 最假女选手", "background": null, "description": "给定一个长度为 $n$ 的序列，要求支持以下 $6$ 种操作：\n- 给一个区间 $[l,r]$ 加上一个整数 $x$；\n- 把一个区间 $[l,r]$ 内小于 $x$ 的数都变成 $x$；\n- 把一个区间 $[l,r]$ 内大于 $x$ 的数都变成 $x$；\n- 求区间 $[l,r]$ 的和；\n- 求区间 $[l,r]$ 的最大值；\n- 求区间 $[l,r]$ 的最小值；", "inputFormat": "第一行一个整数 $n$ 表示序列长度。\n\n第二行 $n$ 个整数 $a_i$ 表示初始序列。\n\n第三行一个整数 $m$ 表示操作个数。\n\n接下来 $m$ 行，每行三或四个整数，表示一个题目中所描述的操作。", "outputFormat": "对于每个 $4,5,6$ 类型的操作输出一行一个整数表示答案。", "hint": "数据保证，$1\\leq n,m\\leq 5\\times 10^5$，$|a_i|\\leq 10^8$。\n\n当进行 $1$ 操作时，$|x| \\leq 1000$；\n\n当进行 $2$ 操作时，$|x| \\leq 10^8$。", "locale": "zh-CN"}}}
{"pid": "P10640", "type": "P", "difficulty": 6, "samples": [["1 1 1\n2 0 1 0\n\n2 1 1 1\n3 1 0 0 1\n\n5 1 0 0 1 0 0\n5 0 0 1 0 0 1", "YES\nYES\nNO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "微积分"], "title": "BZOJ2356 不等式", "background": "", "description": "数学中有很多不等式，比如，当 $x,y>0$ 时：\n\n$$x^2+y^2 \\geq 2xy$$\n\n$$x^3+y^3 \\geq x^2y+xy^2$$\n\n输入两个分别齐次且系数非负的二元多项式 $f(x,y)$ 和 $g(x,y)$，判断是否存在 $A,r>0$，满足对于任意 $x,y>0$，都有 $f(x,y)\\geq Ag(x,y)^r$。", "inputFormat": "包含多组数据，相邻两组数据之间用一个空行隔开。\n\n每组数据包含两行。\n\n第一行包括 $n+2$ 个非负整数 $n,a_0,a_1,\\dots,a_n$，其中 $a_i$ 不全为 $0$，表示 $f(x,y)=a_0x^n+a_1x^{n-1}y+\\dots+a_ny^n$。\n\n第二行包括 $m+2$ 个非负整数 $m,b_0,b_1,\\dots,b_m$，其中 $b_i$ 不全为 $0$，表示 $g(x,y)=b_0x^m+b_1x^{m-1}y+\\dots+b_my^m$。", "outputFormat": "对于每组数据，输出一行，若存在则输出 `YES`，否则输出 `NO`。", "hint": "**【样例解释】**\n\n- 对于第一组样例，$x+y \\geq \\sqrt{2xy}$。\n- 对于第二组样例，$x^2+xy+y^2\\geq \\sqrt[3]{(x^3+y^3)^2}$，展开易证。\n- 对于第三组样例，反设 $x^5+x^2y^3 \\geq A(x^3y^2+y^5)^r$，对于所有正数 $x,y$ 都成立。取 $x=y$，得 $2x^5\\geq A(2x^5)^r$，若 $r>1$，则 $x$ 取充分大时不等式不成立，若 $r<1$，则 $x$ 取足够小时不等式不成立，所以 $r=1$。再取 $x=1$，得 $1+y^3 \\geq A(y^2+y^5)$，即 $1\\geq Ay^2$，不可能对所有正数 $y$ 成立，故不存在 $A,r$。\n\n**【数据范围】**\n\n最多包含 $100$ 组数据，且 $1\\leq n,m\\leq 100$，系数大小不超过 $10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ2356 不等式", "background": "", "description": "数学中有很多不等式，比如，当 $x,y>0$ 时：\n\n$$x^2+y^2 \\geq 2xy$$\n\n$$x^3+y^3 \\geq x^2y+xy^2$$\n\n输入两个分别齐次且系数非负的二元多项式 $f(x,y)$ 和 $g(x,y)$，判断是否存在 $A,r>0$，满足对于任意 $x,y>0$，都有 $f(x,y)\\geq Ag(x,y)^r$。", "inputFormat": "包含多组数据，相邻两组数据之间用一个空行隔开。\n\n每组数据包含两行。\n\n第一行包括 $n+2$ 个非负整数 $n,a_0,a_1,\\dots,a_n$，其中 $a_i$ 不全为 $0$，表示 $f(x,y)=a_0x^n+a_1x^{n-1}y+\\dots+a_ny^n$。\n\n第二行包括 $m+2$ 个非负整数 $m,b_0,b_1,\\dots,b_m$，其中 $b_i$ 不全为 $0$，表示 $g(x,y)=b_0x^m+b_1x^{m-1}y+\\dots+b_my^m$。", "outputFormat": "对于每组数据，输出一行，若存在则输出 `YES`，否则输出 `NO`。", "hint": "**【样例解释】**\n\n- 对于第一组样例，$x+y \\geq \\sqrt{2xy}$。\n- 对于第二组样例，$x^2+xy+y^2\\geq \\sqrt[3]{(x^3+y^3)^2}$，展开易证。\n- 对于第三组样例，反设 $x^5+x^2y^3 \\geq A(x^3y^2+y^5)^r$，对于所有正数 $x,y$ 都成立。取 $x=y$，得 $2x^5\\geq A(2x^5)^r$，若 $r>1$，则 $x$ 取充分大时不等式不成立，若 $r<1$，则 $x$ 取足够小时不等式不成立，所以 $r=1$。再取 $x=1$，得 $1+y^3 \\geq A(y^2+y^5)$，即 $1\\geq Ay^2$，不可能对所有正数 $y$ 成立，故不存在 $A,r$。\n\n**【数据范围】**\n\n最多包含 $100$ 组数据，且 $1\\leq n,m\\leq 100$，系数大小不超过 $10^4$。", "locale": "zh-CN"}}}
{"pid": "P10641", "type": "P", "difficulty": 5, "samples": [["5 2\n4 3 2 1 1\n1 2\n1 5\n2 3\n2 4", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "线段树", "O2优化", "可并堆", "树链剖分"], "title": "BZOJ3252 攻略", "background": "众所周知，桂木桂马是攻略之神，开启攻略之神模式后，他可以同时攻略 $k$ 部游戏。\n\n今天他得到了一款新游戏《XX 半岛》，这款游戏有 $n$ 个场景，某些场景可以通过不同的选择支到达其他场景。所有场景和选择支构成树状结构：开始游戏时在根节点（共通线），叶子节点为结局。每个场景有一个价值，现在桂马开启攻略之神模式，同时攻略 $k$ 次该游戏，问他观赏到的场景的价值和最大是多少？（同一场景观看多次是不能重复得到价值的）\n\n>“为什么你还没玩就知道每个场景的价值呢？”  \n>“我已经看到结局了。”", "description": "给定一个有 $n$ 个结点的树，树有点权且点权为正整数。现选取 $k$ 条从根结点出发到叶子结点的简单路径，求这些路径的并集上所有结点的点权之和的最大值。", "inputFormat": "第一行两个正整数 $n,k$。\n\n第二行输入 $n$ 个正整数 $w_i$，表示每个结点的点权。\n\n接下来输入 $n-1$ 行，每行 $2$ 个正整数 $u,v$，表示结点 $u$ 是结点 $v$ 的父亲。", "outputFormat": "输出一个正整数，表示答案。", "hint": "对于所有数据，保证 $1\\leq n\\leq 2\\times 10^5$，$1\\leq w_i\\leq 2^{31}-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "BZOJ3252 攻略", "background": "众所周知，桂木桂马是攻略之神，开启攻略之神模式后，他可以同时攻略 $k$ 部游戏。\n\n今天他得到了一款新游戏《XX 半岛》，这款游戏有 $n$ 个场景，某些场景可以通过不同的选择支到达其他场景。所有场景和选择支构成树状结构：开始游戏时在根节点（共通线），叶子节点为结局。每个场景有一个价值，现在桂马开启攻略之神模式，同时攻略 $k$ 次该游戏，问他观赏到的场景的价值和最大是多少？（同一场景观看多次是不能重复得到价值的）\n\n>“为什么你还没玩就知道每个场景的价值呢？”  \n>“我已经看到结局了。”", "description": "给定一个有 $n$ 个结点的树，树有点权且点权为正整数。现选取 $k$ 条从根结点出发到叶子结点的简单路径，求这些路径的并集上所有结点的点权之和的最大值。", "inputFormat": "第一行两个正整数 $n,k$。\n\n第二行输入 $n$ 个正整数 $w_i$，表示每个结点的点权。\n\n接下来输入 $n-1$ 行，每行 $2$ 个正整数 $u,v$，表示结点 $u$ 是结点 $v$ 的父亲。", "outputFormat": "输出一个正整数，表示答案。", "hint": "对于所有数据，保证 $1\\leq n\\leq 2\\times 10^5$，$1\\leq w_i\\leq 2^{31}-1$。", "locale": "zh-CN"}}}
{"pid": "P10642", "type": "P", "difficulty": 5, "samples": [], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2022", "交互题", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2022] Art Collection (Day1)", "background": "", "description": "有一个值域 $[1,n]$ 的未知排列 $P$。你每次可以询问一个排列 $R$。交互库会返回满足在排列 $P$ 中 $i$ 出现在 $j$ 前面，在排列 $R$ 中 $i$ 出现在 $j$ 后面的有序对 $(i,j)$ 的数量。你需要猜出排列 $P$。\n\n### 实现细节\n\n你无需在程序开头引用头文件 `art.h`，你只需要在代码开头加入以下代码。\n\n```cpp\n#include <vector>\nvoid answer(std::vector<int>);\nint publish(std::vector<int>);\n```\n\n你需要实现一个函数 `void solve(int N)`，这个函数可以调用如下函数：\n\n- `int publish(std::vector<int> R)`\n    - 该函数可以向交互库询问排列 $R$，$R$ 应当是一个值域 $[1,n]$ 的排列。\n    - 该函数至多能被调用 $4000$ 次。\n- `void answer(std::vector<int> R)`\n    - 该函数向交互库提交答案，表示你猜测的排列。\n    - 你必须恰好调用该函数一次。", "inputFormat": "样例交互库从标准输入流读入以下数据：\n\n第一行，一个整数 $n$。\n\n第二行，$n$ 个整数，第 $i$ 个数表示 $P_i$。\n\n如果输入不符格式，则直接判为 `Invalid input!`。", "outputFormat": "样例交互库向标准输入流输出以下数据：\n\n在你每一次调用 `public` 函数后，交互库都会输出一行，表示你的交互内容。\n\n在你调用 `answer` 函数，交互库会输出两行。\n\n第一行，$n$ 个整数，表示你回答的排列。\n\n第二行会输出交互库的判决。若回答正确会返回 `Correct: x published ranking(s).`，其中 $x$ 是你的交互次数。否则返回 `Wrong answer!`。", "hint": "### 样例交互\n\n考虑排列 $P$ 是 $\\{1,3,2\\}$。\n\n样例中进行的交互如下：\n\n|         调用         | 返回值 |               解释               |\n| :------------------: | :----: | :------------------------------: |\n| `publish({1, 2, 3})` |   1    |       合法有序对为 $(3,2)$       |\n| `publish({2, 3, 1})` |   3    | 合法有序对为 $(1,3),(1,2),(3,2)$ |\n| `answer({1, 3, 2})`  |        |        回答与正确答案相符        |\n\n### 数据范围与提示\n\n- 子任务 $1$ ($5$ 分)：$N \\leq 6$\n- 子任务 $2$ ($15$ 分)：$N \\leq 40$\n- 子任务 $3$ ($15$ 分)：$N \\leq 250$\n- 子任务 $4$ ($15$ 分)：$N \\leq 444$\n- 子任务 $5$ ($20$ 分)：$N \\leq 2000$\n- 子任务 $6$ ($30$ 分)：没有特殊限制\n\n对于所有数据，满足 $2\\leq N \\leq 4000$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2022] Art Collection (Day1)", "background": "", "description": "有一个值域 $[1,n]$ 的未知排列 $P$。你每次可以询问一个排列 $R$。交互库会返回满足在排列 $P$ 中 $i$ 出现在 $j$ 前面，在排列 $R$ 中 $i$ 出现在 $j$ 后面的有序对 $(i,j)$ 的数量。你需要猜出排列 $P$。\n\n### 实现细节\n\n你无需在程序开头引用头文件 `art.h`，你只需要在代码开头加入以下代码。\n\n```cpp\n#include <vector>\nvoid answer(std::vector<int>);\nint publish(std::vector<int>);\n```\n\n你需要实现一个函数 `void solve(int N)`，这个函数可以调用如下函数：\n\n- `int publish(std::vector<int> R)`\n    - 该函数可以向交互库询问排列 $R$，$R$ 应当是一个值域 $[1,n]$ 的排列。\n    - 该函数至多能被调用 $4000$ 次。\n- `void answer(std::vector<int> R)`\n    - 该函数向交互库提交答案，表示你猜测的排列。\n    - 你必须恰好调用该函数一次。", "inputFormat": "样例交互库从标准输入流读入以下数据：\n\n第一行，一个整数 $n$。\n\n第二行，$n$ 个整数，第 $i$ 个数表示 $P_i$。\n\n如果输入不符格式，则直接判为 `Invalid input!`。", "outputFormat": "样例交互库向标准输入流输出以下数据：\n\n在你每一次调用 `public` 函数后，交互库都会输出一行，表示你的交互内容。\n\n在你调用 `answer` 函数，交互库会输出两行。\n\n第一行，$n$ 个整数，表示你回答的排列。\n\n第二行会输出交互库的判决。若回答正确会返回 `Correct: x published ranking(s).`，其中 $x$ 是你的交互次数。否则返回 `Wrong answer!`。", "hint": "### 样例交互\n\n考虑排列 $P$ 是 $\\{1,3,2\\}$。\n\n样例中进行的交互如下：\n\n|         调用         | 返回值 |               解释               |\n| :------------------: | :----: | :------------------------------: |\n| `publish({1, 2, 3})` |   1    |       合法有序对为 $(3,2)$       |\n| `publish({2, 3, 1})` |   3    | 合法有序对为 $(1,3),(1,2),(3,2)$ |\n| `answer({1, 3, 2})`  |        |        回答与正确答案相符        |\n\n### 数据范围与提示\n\n- 子任务 $1$ ($5$ 分)：$N \\leq 6$\n- 子任务 $2$ ($15$ 分)：$N \\leq 40$\n- 子任务 $3$ ($15$ 分)：$N \\leq 250$\n- 子任务 $4$ ($15$ 分)：$N \\leq 444$\n- 子任务 $5$ ($20$ 分)：$N \\leq 2000$\n- 子任务 $6$ ($30$ 分)：没有特殊限制\n\n对于所有数据，满足 $2\\leq N \\leq 4000$", "locale": "zh-CN"}}}
{"pid": "P10643", "type": "P", "difficulty": 5, "samples": [["3 3\n1 2\n1 3\n2 3\n", "PSP\n"], ["5 6\n1 2\n1 3\n1 5\n2 4\n3 5\n4 5\n", "SPPSP\n"], ["6 9\n1 4\n1 5\n1 6\n2 4\n2 5\n2 6\n3 4\n3 5\n3 6\n", "PPPSSS\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2022", "Special Judge", "随机调整", "构造", "NordicOI（北欧）"], "title": "[NordicOI 2022] 嬉皮爵士 Hipster Jazz", "background": "译自 Nordic Olympiad in Informatics 2022  [Hipster Jazz](https://noi22.kattis.com/contests/noi22/problems/hipsterjazz)。如果发现 SPJ 锅了请联系搬题人 qvq。\n\n$\\texttt{1s,1G}$。\n", "description": "爵士学校里，新班级诞生了。这个班级里有 $N$ 名学生，其中有 $M$ 对朋友关系。每个学生要选择一种主修乐器：钢琴，或者萨克斯。当然，所有的学生都希望成为有创意的爵士音乐家，所以他们想要保证，至少有一半朋友主修的乐器和自己主修的乐器不一样。\n\n学生们发现，选择乐器是一件很困难的事情。于是他们找来了你，希望你能够为每个同学选择一个主修乐器，满足上述条件。\n\n数据保证至少存在一种方案。", "inputFormat": "第一行，两个正整数 $N,M$，含义见题面。\n\n接下来 $M$ 行，每行两个数 $a,b$，表示 $a,b$ 是朋友。\n\n保证同一对朋友不会被列出两次。保证至少存在一种方案。", "outputFormat": "输出一行含 $N$ 个字符的字符串。第 $i$ 个字符为 `P`，代表第 $i$ 名学生选择钢琴；第 $i$ 个字符为 `S`，代表第 $i$ 名学生选择萨克斯。", "hint": "#### 数据范围\n\n- $1\\le N\\le 200$；\n- $0\\le M\\le \\dfrac{N(N-1)}{2}$；\n- 同一对朋友不会被列出两次；\n- 至少存在一种方案。\n\n#### 子任务\n\n| 子任务编号 | 得分 | 限制 |\n| :--: | :--: | :--: |\n| $1$ | $10$ |  每对学生都是朋友 |\n| $2$ | $15$ | $N\\le 15$ |\n| $3$ | $25$ | 存在一种方案，其中任意一对朋友主修的乐器都不同 |\n| $4$ | $50$ | 无额外限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2022] 嬉皮爵士 Hipster Jazz", "background": "译自 Nordic Olympiad in Informatics 2022  [Hipster Jazz](https://noi22.kattis.com/contests/noi22/problems/hipsterjazz)。如果发现 SPJ 锅了请联系搬题人 qvq。\n\n$\\texttt{1s,1G}$。\n", "description": "爵士学校里，新班级诞生了。这个班级里有 $N$ 名学生，其中有 $M$ 对朋友关系。每个学生要选择一种主修乐器：钢琴，或者萨克斯。当然，所有的学生都希望成为有创意的爵士音乐家，所以他们想要保证，至少有一半朋友主修的乐器和自己主修的乐器不一样。\n\n学生们发现，选择乐器是一件很困难的事情。于是他们找来了你，希望你能够为每个同学选择一个主修乐器，满足上述条件。\n\n数据保证至少存在一种方案。", "inputFormat": "第一行，两个正整数 $N,M$，含义见题面。\n\n接下来 $M$ 行，每行两个数 $a,b$，表示 $a,b$ 是朋友。\n\n保证同一对朋友不会被列出两次。保证至少存在一种方案。", "outputFormat": "输出一行含 $N$ 个字符的字符串。第 $i$ 个字符为 `P`，代表第 $i$ 名学生选择钢琴；第 $i$ 个字符为 `S`，代表第 $i$ 名学生选择萨克斯。", "hint": "#### 数据范围\n\n- $1\\le N\\le 200$；\n- $0\\le M\\le \\dfrac{N(N-1)}{2}$；\n- 同一对朋友不会被列出两次；\n- 至少存在一种方案。\n\n#### 子任务\n\n| 子任务编号 | 得分 | 限制 |\n| :--: | :--: | :--: |\n| $1$ | $10$ |  每对学生都是朋友 |\n| $2$ | $15$ | $N\\le 15$ |\n| $3$ | $25$ | 存在一种方案，其中任意一对朋友主修的乐器都不同 |\n| $4$ | $50$ | 无额外限制 |", "locale": "zh-CN"}}}
{"pid": "P10644", "type": "P", "difficulty": 7, "samples": [["2 3\n3 4 1\n6 7 2\n", "1 2 6\n5 3 4\n"], ["3 4\n0 0 0 0\n0 0 0 0\n0 0 0 0\n", "0 0 0 0\n0 0 0 0\n0 0 0 0\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2022", "Special Judge", "NordicOI（北欧）"], "title": "[NordicOI 2022] 能源网格 Power Grid", "background": "译自 Nordic Olympiad in Informatics 2022  [Power Grid](https://noi22.kattis.com/contests/noi22/problems/powergrid)。如果发现 SPJ 锅了请联系搬题人 qvq。\n\n$\\texttt{5s,1G}$。**请不要滥用本题评测。**\n", "description": "有一座城市，由 $N$ 行 $M$ 列共 $N\\times M$ 个方格组成。方格 $(i,j)$ 的电力消耗记为 $A_{i,j}$。这里，$A_{i,j}$ 可以为正数，负数或者 $0$。\n\n对于方格 $(i,j)$，定义\n\n$$C_{i, j} = \\left|\n    \\sum _{k=1}^ N A_{k, j} - \\sum _{k=1}^ M A_{i, k} \\right| $$\n\n即，一行的总用电量与一列的总用电量的差值的绝对值。\n\n给定所有的 $C_{i,j}$，你能否构造出一组合法的 $A_{i,j}$？\n\n数据保证至少存在一组解。", "inputFormat": "第一行，两个正整数 $N,M$，含义见题面。\n\n接下来 $N$ 行，第 $i$ 行第 $j$ 个数为 $C_{i,j}$，含义见题面。\n\n保证至少存在一组解。", "outputFormat": "输出 $N$ 行 $M$ 列，第 $i$ 行第 $j$ 个数为 $A_{i,j}$。\n\n多解时，任意输出一组解均可。\n\n你需要保证 $-2^{31}\\le A_{i,j}\\lt 2^{31}$。", "hint": "#### 数据范围\n\n- $1\\le N,M\\le 1\\, 000$；\n- $0\\le C_{i,j}\\le 1\\, 000$；\n- 保证至少存在一组解。\n\n#### 子任务\n\n| 子任务编号 | 得分 | 限制 |\n| :--: | :--: | :--: |\n| $1$ | $8$ |  $N,M,C_{i,j}\\le 3$ |\n| $2$ | $5$ | $N,M,C_{i,j}\\le 6$ |\n| $3$ | $11$ | $N=1$ |\n| $4$ | $6$ | $N,M\\ge 2$，$C_{i,j}$ 全相同 |\n| $5$ | $15$ | $N,M\\ge 2$，$C_{i,j}$ 两两不同 |\n| $6$ | $5$ | $C_{i,j}\\le 1$ |\n| $7$ | $15$ | $N=M$ |\n| $8$ | $25$ | $N,M,C_{i,j}\\le 100$ |\n| $9$ | $10$ | 无额外限制 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2022] 能源网格 Power Grid", "background": "译自 Nordic Olympiad in Informatics 2022  [Power Grid](https://noi22.kattis.com/contests/noi22/problems/powergrid)。如果发现 SPJ 锅了请联系搬题人 qvq。\n\n$\\texttt{5s,1G}$。**请不要滥用本题评测。**\n", "description": "有一座城市，由 $N$ 行 $M$ 列共 $N\\times M$ 个方格组成。方格 $(i,j)$ 的电力消耗记为 $A_{i,j}$。这里，$A_{i,j}$ 可以为正数，负数或者 $0$。\n\n对于方格 $(i,j)$，定义\n\n$$C_{i, j} = \\left|\n    \\sum _{k=1}^ N A_{k, j} - \\sum _{k=1}^ M A_{i, k} \\right| $$\n\n即，一行的总用电量与一列的总用电量的差值的绝对值。\n\n给定所有的 $C_{i,j}$，你能否构造出一组合法的 $A_{i,j}$？\n\n数据保证至少存在一组解。", "inputFormat": "第一行，两个正整数 $N,M$，含义见题面。\n\n接下来 $N$ 行，第 $i$ 行第 $j$ 个数为 $C_{i,j}$，含义见题面。\n\n保证至少存在一组解。", "outputFormat": "输出 $N$ 行 $M$ 列，第 $i$ 行第 $j$ 个数为 $A_{i,j}$。\n\n多解时，任意输出一组解均可。\n\n你需要保证 $-2^{31}\\le A_{i,j}\\lt 2^{31}$。", "hint": "#### 数据范围\n\n- $1\\le N,M\\le 1\\, 000$；\n- $0\\le C_{i,j}\\le 1\\, 000$；\n- 保证至少存在一组解。\n\n#### 子任务\n\n| 子任务编号 | 得分 | 限制 |\n| :--: | :--: | :--: |\n| $1$ | $8$ |  $N,M,C_{i,j}\\le 3$ |\n| $2$ | $5$ | $N,M,C_{i,j}\\le 6$ |\n| $3$ | $11$ | $N=1$ |\n| $4$ | $6$ | $N,M\\ge 2$，$C_{i,j}$ 全相同 |\n| $5$ | $15$ | $N,M\\ge 2$，$C_{i,j}$ 两两不同 |\n| $6$ | $5$ | $C_{i,j}\\le 1$ |\n| $7$ | $15$ | $N=M$ |\n| $8$ | $25$ | $N,M,C_{i,j}\\le 100$ |\n| $9$ | $10$ | 无额外限制 |\n", "locale": "zh-CN"}}}
{"pid": "P10645", "type": "P", "difficulty": 7, "samples": [["3 3\n\n6 1\n\n4 1\n\n1 2", "\n? 5\n\n? 15\n\n? 11\n\n! 11 10 12"], ["3 1\n\n2 1\n\n1 2\n\n2 1\n\n45 1", "\n? 1\n\n? 2\n\n? 3\n\n? 47\n\n! 1 3 92"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2022", "交互题", "Special Judge", "NordicOI（北欧）"], "title": "[NordicOI 2022] 夸克显微镜 Quark Microscopy", "background": "译自 Nordic Olympiad in Informatics 2022  [Quark Microscopy](https://noi22.kattis.com/contests/noi22/problems/quarkmicroscopy)。如果发现交互库锅了请联系搬题人 qvq。\n\n$\\texttt{1s,1G}$。\n", "description": "这下可惨了！Niels 珍爱的原子被宇宙射线击中，分裂成了许多夸克。Niels 迫切地想要找到这些夸克，然后将它们拼起来。所以，他找来了你来帮忙。\n\n这 $N$ 个夸克分布在一条 $1$ 米（$10^{18}$ 阿米）长的线段上。幸运的是，你有一个很精确，但有点奇怪的夸克显微镜，它能够检测并测量邻近的夸克。然而由于量子效应，它无法直接告诉你离测量位置最近的夸克的位置，而是会告诉你离测量位置第二近的夸克的位置，以及离测量位置第二近的夸克的数量。\n\n更为准确地说，你可以在线段上的位置 $x$ 处进行测量。对于每次测量，每个夸克距 $x$ 的距离将会被测出并升序排序，记为 $d_1,d_2,\\cdots,d_N$。你会得到 $d_2$，和满足 $d_i=d_2$ 的 $i$ 的数量（只会是 $1$ 或 $2$）。在进行足够多次测量后，你需要回答每个夸克所在的位置。\n\n每个夸克的位置都是介于 $[1,10^{18}]$ 间的正整数（单位：阿米），从线段的起始位置开始计算。由于 Pauli 不相容原理，夸克的位置不会重合。", "inputFormat": "\n你的程序与交互库通过标准输入输出流交互。\n\n第一行，两个正整数 $N,T$，表示夸克的数量和子任务编号。\n\n接下来，你的程序开始与交互库交互：\n\n- `? x`：询问离 $x$ 第二远的夸克。交互库会返回两个整数 $r,m$，其中 $r$ 是第二远夸克的距离，$m$ 是距离 $x$ 为 $r$ 的夸克的数量（只会是 $1$ 或 $2$）。你需要保证 $-10^{18}\\le x\\le 2\\times 10^{18}$。\n\n- `!` $a_1$ $a_2$ $\\cdots$ $a_N$：回答夸克的位置。你可以以任意顺序给出这些夸克的位置。回答后，不应有多余的询问。你需要保证 $1\\le a_i\\le 10^{18}$。\n\n**注意：在交互过程中，你需要在输出后刷新缓存区。**\n下面是一些常见语言的刷新缓存区方式：\n\n- C++：`fflush(stdout)` 或 `cout.flush()`。特别地，利用 `std::endl` 换行也会刷新缓冲区。\n- C：`fflush(stdout)`。\n", "outputFormat": "见【输出格式】。", "hint": "#### 数据范围\n\n- $3\\le N\\le 100$；\n- $1\\le T\\le 3$。\n\n\n#### 评分方式\n\n| 子任务编号 | 得分 | 限制 |\n| :--: | :--: | :--: |\n| $1$ | $40\\cdot r$ |  存在一个在位置 $1$ 上的夸克 |\n| $2$ | $40\\cdot r$ | 夸克的位置均为偶数 |\n| $3$ | $20\\cdot r$ | 无额外限制 |\n\n其中 $r$ 为一个常数。记某个子任务中你查询的最大次数为 $Q$，则 $r$ 的值见以下表格：\n\n| $Q$ 的限制 | $r=$ |\n| :--: | :--: |\n| $Q\\gt 15\\, 000$ | $0$ |\n| $15\\, 000\\ge Q\\gt 5\\, 600$ | $0.4$ |\n| $5\\, 600\\ge Q\\gt 3\\, 500$ | $0.6$ |\n| $3\\, 500\\ge Q\\gt 2\\, 400$ | $0.8$ |\n| $Q\\le 2\\, 400$ | $1.0$ |\n\n为了方便选手测试，我们提供了 `testing_tools.py`，可在附件下载，使用说明见文件头。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2022] 夸克显微镜 Quark Microscopy", "background": "译自 Nordic Olympiad in Informatics 2022  [Quark Microscopy](https://noi22.kattis.com/contests/noi22/problems/quarkmicroscopy)。如果发现交互库锅了请联系搬题人 qvq。\n\n$\\texttt{1s,1G}$。\n", "description": "这下可惨了！Niels 珍爱的原子被宇宙射线击中，分裂成了许多夸克。Niels 迫切地想要找到这些夸克，然后将它们拼起来。所以，他找来了你来帮忙。\n\n这 $N$ 个夸克分布在一条 $1$ 米（$10^{18}$ 阿米）长的线段上。幸运的是，你有一个很精确，但有点奇怪的夸克显微镜，它能够检测并测量邻近的夸克。然而由于量子效应，它无法直接告诉你离测量位置最近的夸克的位置，而是会告诉你离测量位置第二近的夸克的位置，以及离测量位置第二近的夸克的数量。\n\n更为准确地说，你可以在线段上的位置 $x$ 处进行测量。对于每次测量，每个夸克距 $x$ 的距离将会被测出并升序排序，记为 $d_1,d_2,\\cdots,d_N$。你会得到 $d_2$，和满足 $d_i=d_2$ 的 $i$ 的数量（只会是 $1$ 或 $2$）。在进行足够多次测量后，你需要回答每个夸克所在的位置。\n\n每个夸克的位置都是介于 $[1,10^{18}]$ 间的正整数（单位：阿米），从线段的起始位置开始计算。由于 Pauli 不相容原理，夸克的位置不会重合。", "inputFormat": "\n你的程序与交互库通过标准输入输出流交互。\n\n第一行，两个正整数 $N,T$，表示夸克的数量和子任务编号。\n\n接下来，你的程序开始与交互库交互：\n\n- `? x`：询问离 $x$ 第二远的夸克。交互库会返回两个整数 $r,m$，其中 $r$ 是第二远夸克的距离，$m$ 是距离 $x$ 为 $r$ 的夸克的数量（只会是 $1$ 或 $2$）。你需要保证 $-10^{18}\\le x\\le 2\\times 10^{18}$。\n\n- `!` $a_1$ $a_2$ $\\cdots$ $a_N$：回答夸克的位置。你可以以任意顺序给出这些夸克的位置。回答后，不应有多余的询问。你需要保证 $1\\le a_i\\le 10^{18}$。\n\n**注意：在交互过程中，你需要在输出后刷新缓存区。**\n下面是一些常见语言的刷新缓存区方式：\n\n- C++：`fflush(stdout)` 或 `cout.flush()`。特别地，利用 `std::endl` 换行也会刷新缓冲区。\n- C：`fflush(stdout)`。\n", "outputFormat": "见【输出格式】。", "hint": "#### 数据范围\n\n- $3\\le N\\le 100$；\n- $1\\le T\\le 3$。\n\n\n#### 评分方式\n\n| 子任务编号 | 得分 | 限制 |\n| :--: | :--: | :--: |\n| $1$ | $40\\cdot r$ |  存在一个在位置 $1$ 上的夸克 |\n| $2$ | $40\\cdot r$ | 夸克的位置均为偶数 |\n| $3$ | $20\\cdot r$ | 无额外限制 |\n\n其中 $r$ 为一个常数。记某个子任务中你查询的最大次数为 $Q$，则 $r$ 的值见以下表格：\n\n| $Q$ 的限制 | $r=$ |\n| :--: | :--: |\n| $Q\\gt 15\\, 000$ | $0$ |\n| $15\\, 000\\ge Q\\gt 5\\, 600$ | $0.4$ |\n| $5\\, 600\\ge Q\\gt 3\\, 500$ | $0.6$ |\n| $3\\, 500\\ge Q\\gt 2\\, 400$ | $0.8$ |\n| $Q\\le 2\\, 400$ | $1.0$ |\n\n为了方便选手测试，我们提供了 `testing_tools.py`，可在附件下载，使用说明见文件头。\n", "locale": "zh-CN"}}}
{"pid": "P10646", "type": "P", "difficulty": 6, "samples": [["13 2\nullen dullen doff kikke lane koff koffe lane bikke bane ullen dullen doff\n3\n1 ullen dullen\n2 ullen dullen\n3 ullen dullen", "doff \ndoff kikke \ndoff kikke lane "], ["8 1\nbuffalo buffalo buffalo buffalo buffalo buffalo buffalo buffalo\n1\n7 buffalo", "buffalo buffalo buffalo buffalo buffalo buffalo buffalo "], ["16 1\nhave you not heard about the bird the bird bird bird the bird is the word\n8\n1 have\n1 you\n1 not\n1 heard\n1 about\n1 the\n1 bird\n1 is", "you \nnot \nheard \nabout \nthe \nbird \nbird \nthe "]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "Special Judge", "NordicOI（北欧）"], "title": "[NordicOI 2023] ChatNOI", "background": "翻译自 [NordicOI 2023 A 题](https://noi23.kattis.com/contests/noi23/problems/chatnoi) ChatNOI。", "description": "你正在和你的机器人玩一个对话游戏，规则是这样的：\n\n首先给定一个包含了 $n$ 个字符串的仅含小写字符串组 $w$ 和一个数字 $k$。\n\n定义一个字符串组的质量为其每个长度为 $k+1$ 的连续段的在 $w$ 中出现的次数的最小值。\n\n有 $q$ 次询问，每次给定 $m_i$ 与 $k$ 个字符串。\n\n你需要构造 $m_i$ 个字符串，使得在给出的 $k$ 个字符串后依次加入构造的 $m_i$ 个字符串形成的字符串组质量最大。\n\n若有多解，只需输出任意一个。", "inputFormat": "第一行一个整数 $n(1 \\leq n \\leq 5 \\times 10^5)$ 和 $k (1 \\leq k < n)$。\n\n第二行一句包含 $n$ 个单词的句子 $w_i( 1\\leq|w_i|\n\\leq10)$。\n\n第三行一个整数 $q(1 \\leq q \\leq 5 \\times 10^5)$，表示一共有 $q$ 次询问。\n\n然后 $q$ 行，每行一个数 $m_i$ 和长度为 $k$ 的 $s$ 的子字符串。", "outputFormat": "你需要对于每个询问，输出 $k$ 之后的 $m_i$ 个单词。", "hint": "**本题采用捆绑测试**。\n\n令 $M = \\sum m_i$。\n\n- Subtask 1（5 points）：$k < n \\leq 100$，$k = 1$，$1 \\leq q \\leq 100$，$m_i = 1$。\n- Subtask 2（7 points）：$k < n \\leq 5 \\times 10^5$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10^5$，$m_i = 1$。\n- Subtask 3（17 points）：$k < n \\leq 6$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10$，$1 \\leq m_i \\leq 6$。\n- Subtask 4（18 points）：$k < n \\leq 5000$，$1 \\leq k \\leq10$，$1 \\leq q \\leq 5000$，$q \\leq M \\leq 5000$。\n- Subtask 5（24 points）：$k < n \\leq 5 \\times 10^5$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10$，$q \\leq M \\leq 5 \\times 10^5$。\n- Subtask 6（16 points）：$k < n \\leq 10^5$，$1 \\leq k \\leq10$，$1 \\leq q \\leq 10^5$，$q \\leq M \\leq 5 \\times 10^5$。\n- Subtask 7（13 points）：无特殊限制。\n\n对于所有测试数据，$k < n \\leq 5 \\times 10^5$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10^5$，$q \\leq M \\leq 5 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2023] ChatNOI", "background": "翻译自 [NordicOI 2023 A 题](https://noi23.kattis.com/contests/noi23/problems/chatnoi) ChatNOI。", "description": "你正在和你的机器人玩一个对话游戏，规则是这样的：\n\n首先给定一个包含了 $n$ 个字符串的仅含小写字符串组 $w$ 和一个数字 $k$。\n\n定义一个字符串组的质量为其每个长度为 $k+1$ 的连续段的在 $w$ 中出现的次数的最小值。\n\n有 $q$ 次询问，每次给定 $m_i$ 与 $k$ 个字符串。\n\n你需要构造 $m_i$ 个字符串，使得在给出的 $k$ 个字符串后依次加入构造的 $m_i$ 个字符串形成的字符串组质量最大。\n\n若有多解，只需输出任意一个。", "inputFormat": "第一行一个整数 $n(1 \\leq n \\leq 5 \\times 10^5)$ 和 $k (1 \\leq k < n)$。\n\n第二行一句包含 $n$ 个单词的句子 $w_i( 1\\leq|w_i|\n\\leq10)$。\n\n第三行一个整数 $q(1 \\leq q \\leq 5 \\times 10^5)$，表示一共有 $q$ 次询问。\n\n然后 $q$ 行，每行一个数 $m_i$ 和长度为 $k$ 的 $s$ 的子字符串。", "outputFormat": "你需要对于每个询问，输出 $k$ 之后的 $m_i$ 个单词。", "hint": "**本题采用捆绑测试**。\n\n令 $M = \\sum m_i$。\n\n- Subtask 1（5 points）：$k < n \\leq 100$，$k = 1$，$1 \\leq q \\leq 100$，$m_i = 1$。\n- Subtask 2（7 points）：$k < n \\leq 5 \\times 10^5$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10^5$，$m_i = 1$。\n- Subtask 3（17 points）：$k < n \\leq 6$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10$，$1 \\leq m_i \\leq 6$。\n- Subtask 4（18 points）：$k < n \\leq 5000$，$1 \\leq k \\leq10$，$1 \\leq q \\leq 5000$，$q \\leq M \\leq 5000$。\n- Subtask 5（24 points）：$k < n \\leq 5 \\times 10^5$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10$，$q \\leq M \\leq 5 \\times 10^5$。\n- Subtask 6（16 points）：$k < n \\leq 10^5$，$1 \\leq k \\leq10$，$1 \\leq q \\leq 10^5$，$q \\leq M \\leq 5 \\times 10^5$。\n- Subtask 7（13 points）：无特殊限制。\n\n对于所有测试数据，$k < n \\leq 5 \\times 10^5$，$1 \\leq k \\leq 10$，$1 \\leq q \\leq 10^5$，$q \\leq M \\leq 5 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10647", "type": "P", "difficulty": 5, "samples": [["8 3 1\n2\n3\n3\n1\n2\n1\n1\n3", "6"], ["8 3 2\n2\n3\n3\n1\n2\n1\n1\n3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "堆", "2023", "NordicOI（北欧）"], "title": "[NordicOI 2023] Ice Cream Machines", "background": "翻译自 [NordicOI 2023 B 题](https://noi23.kattis.com/contests/noi23/problems/icecreammachines) Ice Cream Machines。", "description": "在你的冰淇淋店里有 $n$ 个顾客在排队，店里一共有 $m$ 种口味，每个人都有想买的口味，但是很不幸，店内只有 $k$ 台机子，无法完全供应所有的口味，所以，如果下一个人要的和这台机子内原有的口味不同时，他需要清洗这台机子并更换成他喜欢的口味。\n\n现在这 $n$ 个人按照从 $1 \\sim n$ 的顺序买冰淇淋，你作为一个聪明绝顶的店主需要合理安排他们使用哪台机子，使得清洗机子的次数最少，输出这个最少次数。\n\n注意一台机子如果之前没人用的时候默认需要被清洗（自始至终没人用则不需要）。", "inputFormat": "第一行三个整数 $n (1 \\leq n \\leq 2 \\times 10^5)$，$m (1 \\leq m \\leq 2 \\times 10^5)$ 和 $k (1 \\leq k \\leq 2 \\times 10^5)$，分别表示一共有 $n$ 个人，店里有 $m$ 种口味的冰淇淋和 $k$ 台机子。\n\n然后 $n$ 行，每行一个整数 $c_i (1 \\leq c_i \\leq m)$，表示第 $i$ 个人喜欢吃的口味编号。", "outputFormat": "输出清洗次数最少时所需的次数。", "hint": "**本题采用捆绑测试**。\n\n- Subtask 1（7 points）：$n \\le 1000$，$m \\leq 10$，$k = 1$。\n- Subtask 2（12 points）：$n \\le 1000$，$m \\leq 10$，$k \\leq 2$。\n- Subtask 3（22 points）：$n \\leq 1000$，$m \\leq 10$，$k \\leq 5$。\n- Subtask 4（11 points）：$n \\leq 1000$，$m \\leq 200$，$k \\leq 100$。\n- Subtask 5（14 points）：$n \\leq 2 \\times 10^5$，$m \\leq 500$，$k \\leq 100$。\n- Subtask 6（13 points）：$n \\leq 2 \\times 10^5$，$m \\leq 2 \\times 10^5$，$k \\leq 100$。\n- Subtask 7（21 points）：无特殊限制。\n\n对于所有测试数据，$1 \\le n \\le 2\\times 10^5$，$1 \\leq m \\leq 2 \\times 10^5$，$1 \\leq k \\leq 2 \\times 10^5$，$1 \\leq c_i \\leq m$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2023] Ice Cream Machines", "background": "翻译自 [NordicOI 2023 B 题](https://noi23.kattis.com/contests/noi23/problems/icecreammachines) Ice Cream Machines。", "description": "在你的冰淇淋店里有 $n$ 个顾客在排队，店里一共有 $m$ 种口味，每个人都有想买的口味，但是很不幸，店内只有 $k$ 台机子，无法完全供应所有的口味，所以，如果下一个人要的和这台机子内原有的口味不同时，他需要清洗这台机子并更换成他喜欢的口味。\n\n现在这 $n$ 个人按照从 $1 \\sim n$ 的顺序买冰淇淋，你作为一个聪明绝顶的店主需要合理安排他们使用哪台机子，使得清洗机子的次数最少，输出这个最少次数。\n\n注意一台机子如果之前没人用的时候默认需要被清洗（自始至终没人用则不需要）。", "inputFormat": "第一行三个整数 $n (1 \\leq n \\leq 2 \\times 10^5)$，$m (1 \\leq m \\leq 2 \\times 10^5)$ 和 $k (1 \\leq k \\leq 2 \\times 10^5)$，分别表示一共有 $n$ 个人，店里有 $m$ 种口味的冰淇淋和 $k$ 台机子。\n\n然后 $n$ 行，每行一个整数 $c_i (1 \\leq c_i \\leq m)$，表示第 $i$ 个人喜欢吃的口味编号。", "outputFormat": "输出清洗次数最少时所需的次数。", "hint": "**本题采用捆绑测试**。\n\n- Subtask 1（7 points）：$n \\le 1000$，$m \\leq 10$，$k = 1$。\n- Subtask 2（12 points）：$n \\le 1000$，$m \\leq 10$，$k \\leq 2$。\n- Subtask 3（22 points）：$n \\leq 1000$，$m \\leq 10$，$k \\leq 5$。\n- Subtask 4（11 points）：$n \\leq 1000$，$m \\leq 200$，$k \\leq 100$。\n- Subtask 5（14 points）：$n \\leq 2 \\times 10^5$，$m \\leq 500$，$k \\leq 100$。\n- Subtask 6（13 points）：$n \\leq 2 \\times 10^5$，$m \\leq 2 \\times 10^5$，$k \\leq 100$。\n- Subtask 7（21 points）：无特殊限制。\n\n对于所有测试数据，$1 \\le n \\le 2\\times 10^5$，$1 \\leq m \\leq 2 \\times 10^5$，$1 \\leq k \\leq 2 \\times 10^5$，$1 \\leq c_i \\leq m$。", "locale": "zh-CN"}}}
{"pid": "P10648", "type": "P", "difficulty": 4, "samples": [["3 1 2\n1 2\n2 1\n1 3", "REFUSE\nAPPROVE"], ["8 3 7\n1 2\n2 3\n3 4\n1 2\n4 5\n5 6\n7 8\n3 4\n1 3\n2 4", "REFUSE\nAPPROVE\nAPPROVE\nAPPROVE\nREFUSE\nAPPROVE\nAPPROVE"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["并查集", "2023", "NordicOI（北欧）", "启发式合并", "STL"], "title": "[NordicOI 2023] Island Alliances", "background": "翻译自 [NordicOI 2023 C 题](https://noi23.kattis.com/contests/noi23/problems/islandalliances) Island Alliances。", "description": "海面上有 $n$ 个岛屿，其中有 $m$ 对岛屿关系恶劣，但是由于天气恶劣，岛屿肯定不能单独生存，所以有些岛屿提议“联盟”。\n\n现有 $q$ 次联盟请求，每次包含了一对 $(a_i,b_i)$，表示 $a_i$ 想要与 $b_i$ 联盟，但是，考虑到某些岛屿恶劣的关系，所以这个提议不一定成立，如果 $a_i$ 原本所在联盟的岛屿都**不和** $b_i$ 所在的联盟的所有岛屿存在恶劣的关系，则两者可以同意联盟，否则将不同意。\n\n注意此处一但同意了联盟，则两个岛屿所在联盟立即并成一个联盟。", "inputFormat": "第一行三个整数 $n$，$m$ 和 $q$，依次表示有 $n$ 个岛屿，$m$ 对关系恶劣的岛屿和 $q$ 次提议。\n\n接下来 $m$ 行，每行一对整数 $(u_i,v_i)$，表示 $u_i$ 座岛屿和 $v_i$ 座岛屿关系恶劣。\n\n然后 $q$ 行，每行两个整数 $a_i$ 和 $b_i\\ (a_i \\neq b_i)$，表示 $a_i$ 座岛屿想与 $b_i$ 座岛屿联盟。", "outputFormat": "对于每个提议，如果同意则输出 `APPROVE`，否则输出 `REFUSE`。", "hint": "**本题采用捆绑测试**。\n\n- Subtask 1（15 points）：$2 \\leq n \\leq 500$，$1 \\leq m \\leq 10^5$，$1 \\leq q \\leq 10^5$。\n- Subtask 2（17 points）：$2 \\leq n \\leq 10^5$，$1 \\leq m \\leq 250$，$1 \\leq q \\leq 10^5$。\n- Subtask 3（20 points）：$2 \\leq n \\leq 5000$，$1 \\leq m \\leq 5000$，$1 \\leq q \\leq 10^5$。\n- Subtask 4（23 points）：保证不同意提议的情况最多只有一次。\n- Subtask 5（25 points）：无特殊限制。\n\n对于所有测试数据，$2 \\le n \\le 10^5$，$1 \\le m,q \\le 10^5$，$1 \\le a_i,b_i \\le n$，且每对 $(a_i,b_i)$ 互不相同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2023] Island Alliances", "background": "翻译自 [NordicOI 2023 C 题](https://noi23.kattis.com/contests/noi23/problems/islandalliances) Island Alliances。", "description": "海面上有 $n$ 个岛屿，其中有 $m$ 对岛屿关系恶劣，但是由于天气恶劣，岛屿肯定不能单独生存，所以有些岛屿提议“联盟”。\n\n现有 $q$ 次联盟请求，每次包含了一对 $(a_i,b_i)$，表示 $a_i$ 想要与 $b_i$ 联盟，但是，考虑到某些岛屿恶劣的关系，所以这个提议不一定成立，如果 $a_i$ 原本所在联盟的岛屿都**不和** $b_i$ 所在的联盟的所有岛屿存在恶劣的关系，则两者可以同意联盟，否则将不同意。\n\n注意此处一但同意了联盟，则两个岛屿所在联盟立即并成一个联盟。", "inputFormat": "第一行三个整数 $n$，$m$ 和 $q$，依次表示有 $n$ 个岛屿，$m$ 对关系恶劣的岛屿和 $q$ 次提议。\n\n接下来 $m$ 行，每行一对整数 $(u_i,v_i)$，表示 $u_i$ 座岛屿和 $v_i$ 座岛屿关系恶劣。\n\n然后 $q$ 行，每行两个整数 $a_i$ 和 $b_i\\ (a_i \\neq b_i)$，表示 $a_i$ 座岛屿想与 $b_i$ 座岛屿联盟。", "outputFormat": "对于每个提议，如果同意则输出 `APPROVE`，否则输出 `REFUSE`。", "hint": "**本题采用捆绑测试**。\n\n- Subtask 1（15 points）：$2 \\leq n \\leq 500$，$1 \\leq m \\leq 10^5$，$1 \\leq q \\leq 10^5$。\n- Subtask 2（17 points）：$2 \\leq n \\leq 10^5$，$1 \\leq m \\leq 250$，$1 \\leq q \\leq 10^5$。\n- Subtask 3（20 points）：$2 \\leq n \\leq 5000$，$1 \\leq m \\leq 5000$，$1 \\leq q \\leq 10^5$。\n- Subtask 4（23 points）：保证不同意提议的情况最多只有一次。\n- Subtask 5（25 points）：无特殊限制。\n\n对于所有测试数据，$2 \\le n \\le 10^5$，$1 \\le m,q \\le 10^5$，$1 \\le a_i,b_i \\le n$，且每对 $(a_i,b_i)$ 互不相同。", "locale": "zh-CN"}}}
{"pid": "P10649", "type": "P", "difficulty": 4, "samples": [], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2017", "交互题", "Special Judge", "O2优化", "ROI（俄罗斯）"], "title": "[ROI 2017] 四轴飞行器编程 (Day 1)", "background": "### 题面\n\n系统中隐藏了一个只含 `(` 和 `)` 的**合法括号字符串** $S$。\n\n你每次可以向系统询问一个 $S$ 的子区间 $S[l,r]$，系统会返回这个子区间是否是一个合法括号字符串。\n\n请编写一个程序，与系统进行交互，并最终输出 $S$ 的具体信息。\n\n关于合法括号字符串的定义：\n\n- 空串是合法括号字符串。\n\n- 设 $\\text{A}$ 是合法括号字符串，那么 $\\text{(A)}$ 也是合法括号字符串。\n\n- 设 $\\text{A}$ 和 $\\text{B}$ 是合法括号字符串，那么 $\\text{AB}$ 也是合法括号字符串。\n\n### 交互过程\n\n~~你可以编写一个函数 `getProgram()` 并在程序开始包含 `grader.h` 来完成交互过程。该函数无返回值，也没有参数。~~  \n请直接编写一个完整程序来完成交互。\n\n你需要先从标准输出流中获得一个整数 $n$，表示系统字符串的长度。\n\n你可以向标准输出中输出询问和回答，形式如下：\n\n- 对于询问一段子串是否合法，你需要先输出一个字符 `?`，后跟两个整数 $l,r$，表示选择 $S[l,r]$，字符，整数之间用一个空格隔开。如果 $S[l,r]$ 为合法括号字符串，交互库会向标准输出中输出 $\\texttt{Yes}$，否则会输出 $\\texttt{No}$；\n\n- 对于回答整个程序，你需要先输出一个字符 `!`，后跟一个长度为 $n$ 的合法括号字符串。`!` 与序列之间用一个空格隔开。\n\n在回答之后，你应该结束程序。保证四轴飞行器程序在交互过程中不会改变。\n\n交互过程中，你的询问数不能超过一个值 $k$。", "description": "", "inputFormat": "", "outputFormat": "", "hint": "#### 【数据范围】\n\n| 子任务编号 | 分值 | $2 \\le n \\le $ | $k=$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $21$ | $16$ | $150$ |\n| $2$ | $28$ | $100$ | $10^4$ |\n| $3$ | $26$ | $10^3$ | $10^4$ |\n| $4$ | $25$ | $5 \\times 10^4$ | $10^5$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2017] 四轴飞行器编程 (Day 1)", "background": "### 题面\n\n系统中隐藏了一个只含 `(` 和 `)` 的**合法括号字符串** $S$。\n\n你每次可以向系统询问一个 $S$ 的子区间 $S[l,r]$，系统会返回这个子区间是否是一个合法括号字符串。\n\n请编写一个程序，与系统进行交互，并最终输出 $S$ 的具体信息。\n\n关于合法括号字符串的定义：\n\n- 空串是合法括号字符串。\n\n- 设 $\\text{A}$ 是合法括号字符串，那么 $\\text{(A)}$ 也是合法括号字符串。\n\n- 设 $\\text{A}$ 和 $\\text{B}$ 是合法括号字符串，那么 $\\text{AB}$ 也是合法括号字符串。\n\n### 交互过程\n\n~~你可以编写一个函数 `getProgram()` 并在程序开始包含 `grader.h` 来完成交互过程。该函数无返回值，也没有参数。~~  \n请直接编写一个完整程序来完成交互。\n\n你需要先从标准输出流中获得一个整数 $n$，表示系统字符串的长度。\n\n你可以向标准输出中输出询问和回答，形式如下：\n\n- 对于询问一段子串是否合法，你需要先输出一个字符 `?`，后跟两个整数 $l,r$，表示选择 $S[l,r]$，字符，整数之间用一个空格隔开。如果 $S[l,r]$ 为合法括号字符串，交互库会向标准输出中输出 $\\texttt{Yes}$，否则会输出 $\\texttt{No}$；\n\n- 对于回答整个程序，你需要先输出一个字符 `!`，后跟一个长度为 $n$ 的合法括号字符串。`!` 与序列之间用一个空格隔开。\n\n在回答之后，你应该结束程序。保证四轴飞行器程序在交互过程中不会改变。\n\n交互过程中，你的询问数不能超过一个值 $k$。", "description": "", "inputFormat": "", "outputFormat": "", "hint": "#### 【数据范围】\n\n| 子任务编号 | 分值 | $2 \\le n \\le $ | $k=$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $21$ | $16$ | $150$ |\n| $2$ | $28$ | $100$ | $10^4$ |\n| $3$ | $26$ | $10^3$ | $10^4$ |\n| $4$ | $25$ | $5 \\times 10^4$ | $10^5$ |\n", "locale": "zh-CN"}}}
{"pid": "P10650", "type": "P", "difficulty": 4, "samples": [["3\n0 1 4\n3\n2 7\n3 3\n1 4", "0\n2\n-1\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2017", "O2优化", "位运算", "ROI（俄罗斯）"], "title": "[ROI 2017] 排序幻觉 (Day 1)", "background": "", "description": "给定长度为 $n$ 的整数数列 $a$，如果一个整数 $b$ 满足：\n\n$$\n(a_1 \\operatorname{xor} b) \\le (a_2 \\operatorname{xor} b) \\le \\dots \\le (a_n \\operatorname{xor} b)\n$$\n\n则称 $b$ 是 $a$ 数列的**幻数**。\n\n接下来有 $q$ 次修改，每次修改一个数 $a_{u_i}$ 为整数 $k_i$，每次修改都会对后面的询问产生影响。你需要求出第一次修改前以及每次修改后这个数列的最小的幻数是多少，特别的，如果不存在幻数请输出 $-1$。", "inputFormat": "第一行一个整数 $n$ 表示数列长度。\n\n第二行 $n$ 个整数表示整数数列 $a$。\n\n第三行一个整数 $q$ 表示询问次数。\n\n接下来 $q$ 行每行两个整数 $u_i,k_i$，表示将 $a_{u_i}$ 修改为 $k_i$。", "outputFormat": "共 $(q+1)$ 行，每行一个整数表示当前数列最小的幻数，如果没有幻数请输出 $-1$。", "hint": "#### 【数据范围】\n\n| 子任务编号 | 分值 | $1 \\le n \\le$ | $1 \\le q \\le $ | $0 \\le a_i,k_i \\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $30$ | $500$ | $500$ | $2^9$ |\n| $2$ | $29$ | $10^3$ | $10^3$ | $2^{30}$ |\n| $3$ | $21$ | $10^5$ | $10^5$ | $2^{30}$ |\n| $4$ | $30$ | $10^6$ | $10^6$ | $2^{30}$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2017] 排序幻觉 (Day 1)", "background": "", "description": "给定长度为 $n$ 的整数数列 $a$，如果一个整数 $b$ 满足：\n\n$$\n(a_1 \\operatorname{xor} b) \\le (a_2 \\operatorname{xor} b) \\le \\dots \\le (a_n \\operatorname{xor} b)\n$$\n\n则称 $b$ 是 $a$ 数列的**幻数**。\n\n接下来有 $q$ 次修改，每次修改一个数 $a_{u_i}$ 为整数 $k_i$，每次修改都会对后面的询问产生影响。你需要求出第一次修改前以及每次修改后这个数列的最小的幻数是多少，特别的，如果不存在幻数请输出 $-1$。", "inputFormat": "第一行一个整数 $n$ 表示数列长度。\n\n第二行 $n$ 个整数表示整数数列 $a$。\n\n第三行一个整数 $q$ 表示询问次数。\n\n接下来 $q$ 行每行两个整数 $u_i,k_i$，表示将 $a_{u_i}$ 修改为 $k_i$。", "outputFormat": "共 $(q+1)$ 行，每行一个整数表示当前数列最小的幻数，如果没有幻数请输出 $-1$。", "hint": "#### 【数据范围】\n\n| 子任务编号 | 分值 | $1 \\le n \\le$ | $1 \\le q \\le $ | $0 \\le a_i,k_i \\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $30$ | $500$ | $500$ | $2^9$ |\n| $2$ | $29$ | $10^3$ | $10^3$ | $2^{30}$ |\n| $3$ | $21$ | $10^5$ | $10^5$ | $2^{30}$ |\n| $4$ | $30$ | $10^6$ | $10^6$ | $2^{30}$ |\n", "locale": "zh-CN"}}}
{"pid": "P10652", "type": "P", "difficulty": 6, "samples": [["2 1\n1 1 3 2", "3 9"], ["5 2\n4 1 3 2 3 3 5 5 10 4\n3 4 2 2 1 3 4 1", "9 35"], ["5 2\n3 1 1 2 2 3 3 4\n3 2 2 3 3 4 4 5", "10 82"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2017", "O2优化", "斜率优化", "最短路", "ROI（俄罗斯）"], "title": "[ROI 2017] 前往大都会 (Day 1)", "background": null, "description": "ROI 国有 $n$ 个城市，以及 $m$ 条铁路，每条铁路都是**单向**运行的，第 $i$ 条铁路依次经过 $v_{i,1},v_{i,2},\\dots,v_{i,l_i+1}$ 号城市并停靠，其中 $v_{i,j} \\to v_{i,j+1}$ 的铁路长度是 $t_{i,j}$。\n\n如果多条铁路经过 $u$ 号城市，那么你可以在 $u$ 号城市换乘其他铁路。（每条铁路都可以在停靠点任意上车/下车）\n\n你需要找到一条从 $1$ 号城市到 $n$ 号城市的路径，这条路径需要满足其总长度最小，并且在此条件上路径上相邻两个**换乘点**间**火车上**距离的平方和最大。\n\n注：起点和终点都是换乘点，题目保证有解。", "inputFormat": "第一行两个整数 $n,m$ 表示有 $n$ 个城市，$m$ 条铁路。\n\n接下来 $m$ 行，每行先是一个整数 $l_i$ 表示铁路长度，接下来 $2l_i+1$ 个整数形如 $v_{i,1},t_{i,1},v_{i,2},\\dots,v_{i,l_i},t_{i,l_i},v_{i,l_i+1}$，含义如题所示。保证其中不包含重复的城市。", "outputFormat": "一行两个整数，第一个数表示最短路径长度，第二个数表示平方和最大值。", "hint": "#### 【样例解释】\n\n对于样例组 #2：\n\n从 $1$ 号城市乘坐 $1$ 号线直达 $5$ 号城市并非最佳方案（无法达到最短时间）。最佳方案：\n\n>从 $1$ 号城市乘坐 $1$ 号线到 $2$ 号城市；\n>\n> 换乘 $2$ 号线，坐到 $3$ 号城市；\n>\n> 再换乘 $1$ 号线，坐到 $5$ 号城市。\n\n此时，平方和为 $3^2 + 1^2 + 5^2 = 35$。\n\n对于样例组 #3：\n\n无论是在中途哪一站转 $2$ 号线，结果都一样。平方和为 $1^2+9^2=82$。\n\n#### 【数据范围】\n\n注：本题只放部分数据，完整数据请左转 [LOJ P2769](https://loj.ac/p/2769) 评测。\n\n对于所有数据：$1 \\le m \\le 10^6$，$1 \\le v_{i,j} \\le n$，$1 \\le t_{i,j} \\le 1000$，设 $sum=\\sum l_i$。\n\n| 子任务编号 | 分值 | $1 \\le n \\le $ | $1 \\le sum \\le $ |特殊性质|\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $10$ | $20$ |$l_i=1$|\n| $2$ | $10$ | $10^3$ | $10^3$ |$l_i=1$|\n| $3$ | $17$ | $10^3$ | $10^3$ |无|\n| $4$ | $17$ | $10^3$ | $10^5$ |无|\n| $5$ | $19$ | $10^4$ | $2 \\times 10^5$ |无|\n| $6$ | $19$ | $2 \\times 10^5$ | $2 \\times 10^5$ |无|\n| $7$ | $8$ | $10^6$ | $10^6$ |无|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2017] 前往大都会 (Day 1)", "background": null, "description": "ROI 国有 $n$ 个城市，以及 $m$ 条铁路，每条铁路都是**单向**运行的，第 $i$ 条铁路依次经过 $v_{i,1},v_{i,2},\\dots,v_{i,l_i+1}$ 号城市并停靠，其中 $v_{i,j} \\to v_{i,j+1}$ 的铁路长度是 $t_{i,j}$。\n\n如果多条铁路经过 $u$ 号城市，那么你可以在 $u$ 号城市换乘其他铁路。（每条铁路都可以在停靠点任意上车/下车）\n\n你需要找到一条从 $1$ 号城市到 $n$ 号城市的路径，这条路径需要满足其总长度最小，并且在此条件上路径上相邻两个**换乘点**间**火车上**距离的平方和最大。\n\n注：起点和终点都是换乘点，题目保证有解。", "inputFormat": "第一行两个整数 $n,m$ 表示有 $n$ 个城市，$m$ 条铁路。\n\n接下来 $m$ 行，每行先是一个整数 $l_i$ 表示铁路长度，接下来 $2l_i+1$ 个整数形如 $v_{i,1},t_{i,1},v_{i,2},\\dots,v_{i,l_i},t_{i,l_i},v_{i,l_i+1}$，含义如题所示。保证其中不包含重复的城市。", "outputFormat": "一行两个整数，第一个数表示最短路径长度，第二个数表示平方和最大值。", "hint": "#### 【样例解释】\n\n对于样例组 #2：\n\n从 $1$ 号城市乘坐 $1$ 号线直达 $5$ 号城市并非最佳方案（无法达到最短时间）。最佳方案：\n\n>从 $1$ 号城市乘坐 $1$ 号线到 $2$ 号城市；\n>\n> 换乘 $2$ 号线，坐到 $3$ 号城市；\n>\n> 再换乘 $1$ 号线，坐到 $5$ 号城市。\n\n此时，平方和为 $3^2 + 1^2 + 5^2 = 35$。\n\n对于样例组 #3：\n\n无论是在中途哪一站转 $2$ 号线，结果都一样。平方和为 $1^2+9^2=82$。\n\n#### 【数据范围】\n\n注：本题只放部分数据，完整数据请左转 [LOJ P2769](https://loj.ac/p/2769) 评测。\n\n对于所有数据：$1 \\le m \\le 10^6$，$1 \\le v_{i,j} \\le n$，$1 \\le t_{i,j} \\le 1000$，设 $sum=\\sum l_i$。\n\n| 子任务编号 | 分值 | $1 \\le n \\le $ | $1 \\le sum \\le $ |特殊性质|\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $10$ | $20$ |$l_i=1$|\n| $2$ | $10$ | $10^3$ | $10^3$ |$l_i=1$|\n| $3$ | $17$ | $10^3$ | $10^3$ |无|\n| $4$ | $17$ | $10^3$ | $10^5$ |无|\n| $5$ | $19$ | $10^4$ | $2 \\times 10^5$ |无|\n| $6$ | $19$ | $2 \\times 10^5$ | $2 \\times 10^5$ |无|\n| $7$ | $8$ | $10^6$ | $10^6$ |无|", "locale": "zh-CN"}}}
{"pid": "P10653", "type": "P", "difficulty": 5, "samples": [["3\n++- +++\n++-- ++++\n++-+--+- ++++++++", "Yes\nNo\nYes"], ["3\n++-+-- ++----\n++-+-- +++---\n-++- -++-", "Yes\nNo\nYes"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2017", "O2优化", "ROI（俄罗斯）"], "title": "[ROI 2017] 存储器 (Day 2)", "background": "", "description": "给定一个字符串 $S$，设其长度为 $n$，每个字符要么是 `+` 要么是 `-`。\n\n定义一个**片段**为 $S$ 的一个子串 $S[l,r]$ 满足下面三个条件：\n\n- $l=1$ 或者 $S_{l-1} \\ne S_l$。\n- $r=n$ 或者 $S_{r+1} \\ne S_r$。\n- $S_l=S_{l+1}=\\dots=S_{r-1}=S_r$。\n\n定义一次**变换**为：\n\n- 选择 $S$ 的两个**相邻**且**长度不同**的片段，改变长度较小的那个片段的所有字符为其相反字符。（`+` 变为 `-`，`-` 变为 `+`）\n\n现在有 $q$ 次询问，每次询问给出只包含 `+` 和 `-` 并且长度相同的字符串 $S_i,T_i$，请你判断 $S_i$ 是否能够通过若干次变换得到 $T_i$。", "inputFormat": "第一行一个整数 $q$ 表示询问次数。\n\n接下来 $q$ 行每行两个字符串 $S_i,T_i$，含义如题所示。", "outputFormat": "对于每次询问输出一行一个字符串 `Yes` 或 `No` 表示是否可以完成题目所给要求。", "hint": "#### 【数据范围】\n\n注：本题只放部分数据，完整数据请左转 [LOJ P2770](https://loj.ac/p/2770) 评测。\n\n设 $len=\\sum |S_i|$。\n\n| 子任务编号 | 分值 | $1 \\le len \\le $ | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $20$ | $16$ | $T_i$ 中没有 `-` |\n| $2$ | $30$ | $10^3$ | $T_i$ 中没有 `-` |\n| $3$ | $20$ | $10^6$ | $T_i$ 中没有 `-` |\n| $4$ | $20$ | $10^3$ | 无 |\n| $5$ | $10$ | $10^6$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2017] 存储器 (Day 2)", "background": "", "description": "给定一个字符串 $S$，设其长度为 $n$，每个字符要么是 `+` 要么是 `-`。\n\n定义一个**片段**为 $S$ 的一个子串 $S[l,r]$ 满足下面三个条件：\n\n- $l=1$ 或者 $S_{l-1} \\ne S_l$。\n- $r=n$ 或者 $S_{r+1} \\ne S_r$。\n- $S_l=S_{l+1}=\\dots=S_{r-1}=S_r$。\n\n定义一次**变换**为：\n\n- 选择 $S$ 的两个**相邻**且**长度不同**的片段，改变长度较小的那个片段的所有字符为其相反字符。（`+` 变为 `-`，`-` 变为 `+`）\n\n现在有 $q$ 次询问，每次询问给出只包含 `+` 和 `-` 并且长度相同的字符串 $S_i,T_i$，请你判断 $S_i$ 是否能够通过若干次变换得到 $T_i$。", "inputFormat": "第一行一个整数 $q$ 表示询问次数。\n\n接下来 $q$ 行每行两个字符串 $S_i,T_i$，含义如题所示。", "outputFormat": "对于每次询问输出一行一个字符串 `Yes` 或 `No` 表示是否可以完成题目所给要求。", "hint": "#### 【数据范围】\n\n注：本题只放部分数据，完整数据请左转 [LOJ P2770](https://loj.ac/p/2770) 评测。\n\n设 $len=\\sum |S_i|$。\n\n| 子任务编号 | 分值 | $1 \\le len \\le $ | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $20$ | $16$ | $T_i$ 中没有 `-` |\n| $2$ | $30$ | $10^3$ | $T_i$ 中没有 `-` |\n| $3$ | $20$ | $10^6$ | $T_i$ 中没有 `-` |\n| $4$ | $20$ | $10^3$ | 无 |\n| $5$ | $10$ | $10^6$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P10654", "type": "P", "difficulty": 4, "samples": [["1\n10", "0"], ["2\n3 5\n6 8", "3\n1"], ["3\n1 2 4\n7 10\n3 5", "-1\n5\n5"], ["4\n1 0 3 2\n4 6\n5 5\n7 10", "5\n5\n4\n-1"]], "limits": {"time": [700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2017", "O2优化", "ROI（俄罗斯）"], "title": "[ROI 2017] 水星上的服务器 (Day 2)", "background": "", "description": "水星上有 $n$ 个服务器，有 $n-1$ 根数据线，第 $i$ 根双向连接 $i$ 号服务器和 $i+1$ 号服务器。\n\n假设 $j$ 号服务器收到了地球发来的信息。你需要尽快将信息传输到其他服务器。\n\n一台服务器 $i$ 收到地球发来的信息后可以直接存储一份到它的数据库中，然后在缓冲区滞留 $t_i$ 秒后删除。\n\n由于一些外界因素，第 $i$ 根数据线只能在 $[l_i,r_i]$ 时间段内传输信息。当某根数据线接通后，若这根数据线两边的服务器有一台的缓冲区还存有信息，那么另一台也可以得到这个信息。（每个服务器会在其接收到信息后能传递的**第一时间**把信息传递出去）\n\n你可以任意选择地球发给服务器 $j$ 信息的时刻，要求最后所有服务器都收到这个信息，问最早可以在多久发送信息，如果不存在可行解，请输出 $-1$。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数 $t_1,t_2,\\dots,t_n$。\n\n在接下来的 $n-1$ 行中，每行两个整数 $l_i,r_i$。", "outputFormat": "输入 $n$ 行，每行一个整数，第 $i$ 行的数表示当 $j=i$ 时的答案，如果不可能输出 $-1$。", "hint": "#### 【样例解释】\n\n对于样例组 #3：\n\n如果 $1$ 号服务器首先收到补丁，$3$ 号服务器就无法得到补丁，因为 $2$ 号信道在 $1$ 号信道开启前就关闭了。如果 $2$ 号服务器在第 $5$ 秒收到补丁，则 $3$ 号服务器可以立即收到补丁，之后，等到第 $7$ 秒时 $1$ 号信道开启时，$1$ 号服务器就会收到补丁。如果 $3$ 号服务器在第 $5$ 秒收到补丁，则 $2$ 号服务器可以立即收到补丁，之后，等到第 $7$ 秒时 $1$ 号信道开启时，$1$ 号服务器就会收到补丁。\n\n对于样例组 #4：\n\n若 $2$ 号服务器首先收到补丁，由于 $2$ 号服务器从不缓存，且 $2$ 号信道只在第 $5$ 秒开启，为了让 $3$ 号服务器拿到补丁，你只能选择在第 $5$ 秒把补丁发给 $2$ 号服务器。若 $3$ 号服务器首先收到补丁，不妨选择第 $4$ 秒，$3$ 号服务器会将其缓存至第 $7$ 秒，这样 $2$ 号和 $4$ 号服务器都能拿到补丁。\n\n#### 【数据范围】\n\n注：本题只放部分数据，完整数据请左转 [LOJ P2771](https://loj.ac/p/2771) 评测。\n\n对于所有数据，$0 \\le l_i \\le r_i \\le 10^9$。\n\n| 子任务编号 | 分值 | $1 \\le n \\le $ | $0 \\le t_i \\le$ | $0 \\le r_i \\le$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $20$ | $500$ | $500$ | $500$ | 无 |\n| $2$ | $10$ | $5000$ | / | $5000$ | $t_i=5000$ |\n| $3$ | $10$ | $5000$ | $5000$ | / | $r_i=5000$ |\n| $4$ | $10$ | $5000$ | $5000$ | $5000$ | 无 |\n| $5$ | $15$ | $2 \\times 10^5$ | / | $10^9$ | $t_i=10^9$ |\n| $6$ | $15$ | $2 \\times 10^5$ | $10^9$ | / | $r_i=10^9$ |\n| $7$ | $20$ | $2 \\times 10^5$ | $10^9$ | $10^9$ | 无 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2017] 水星上的服务器 (Day 2)", "background": "", "description": "水星上有 $n$ 个服务器，有 $n-1$ 根数据线，第 $i$ 根双向连接 $i$ 号服务器和 $i+1$ 号服务器。\n\n假设 $j$ 号服务器收到了地球发来的信息。你需要尽快将信息传输到其他服务器。\n\n一台服务器 $i$ 收到地球发来的信息后可以直接存储一份到它的数据库中，然后在缓冲区滞留 $t_i$ 秒后删除。\n\n由于一些外界因素，第 $i$ 根数据线只能在 $[l_i,r_i]$ 时间段内传输信息。当某根数据线接通后，若这根数据线两边的服务器有一台的缓冲区还存有信息，那么另一台也可以得到这个信息。（每个服务器会在其接收到信息后能传递的**第一时间**把信息传递出去）\n\n你可以任意选择地球发给服务器 $j$ 信息的时刻，要求最后所有服务器都收到这个信息，问最早可以在多久发送信息，如果不存在可行解，请输出 $-1$。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数 $t_1,t_2,\\dots,t_n$。\n\n在接下来的 $n-1$ 行中，每行两个整数 $l_i,r_i$。", "outputFormat": "输入 $n$ 行，每行一个整数，第 $i$ 行的数表示当 $j=i$ 时的答案，如果不可能输出 $-1$。", "hint": "#### 【样例解释】\n\n对于样例组 #3：\n\n如果 $1$ 号服务器首先收到补丁，$3$ 号服务器就无法得到补丁，因为 $2$ 号信道在 $1$ 号信道开启前就关闭了。如果 $2$ 号服务器在第 $5$ 秒收到补丁，则 $3$ 号服务器可以立即收到补丁，之后，等到第 $7$ 秒时 $1$ 号信道开启时，$1$ 号服务器就会收到补丁。如果 $3$ 号服务器在第 $5$ 秒收到补丁，则 $2$ 号服务器可以立即收到补丁，之后，等到第 $7$ 秒时 $1$ 号信道开启时，$1$ 号服务器就会收到补丁。\n\n对于样例组 #4：\n\n若 $2$ 号服务器首先收到补丁，由于 $2$ 号服务器从不缓存，且 $2$ 号信道只在第 $5$ 秒开启，为了让 $3$ 号服务器拿到补丁，你只能选择在第 $5$ 秒把补丁发给 $2$ 号服务器。若 $3$ 号服务器首先收到补丁，不妨选择第 $4$ 秒，$3$ 号服务器会将其缓存至第 $7$ 秒，这样 $2$ 号和 $4$ 号服务器都能拿到补丁。\n\n#### 【数据范围】\n\n注：本题只放部分数据，完整数据请左转 [LOJ P2771](https://loj.ac/p/2771) 评测。\n\n对于所有数据，$0 \\le l_i \\le r_i \\le 10^9$。\n\n| 子任务编号 | 分值 | $1 \\le n \\le $ | $0 \\le t_i \\le$ | $0 \\le r_i \\le$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $20$ | $500$ | $500$ | $500$ | 无 |\n| $2$ | $10$ | $5000$ | / | $5000$ | $t_i=5000$ |\n| $3$ | $10$ | $5000$ | $5000$ | / | $r_i=5000$ |\n| $4$ | $10$ | $5000$ | $5000$ | $5000$ | 无 |\n| $5$ | $15$ | $2 \\times 10^5$ | / | $10^9$ | $t_i=10^9$ |\n| $6$ | $15$ | $2 \\times 10^5$ | $10^9$ | / | $r_i=10^9$ |\n| $7$ | $20$ | $2 \\times 10^5$ | $10^9$ | $10^9$ | 无 |\n", "locale": "zh-CN"}}}
