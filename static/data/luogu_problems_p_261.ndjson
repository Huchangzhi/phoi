{"pid": "P6280", "type": "P", "difficulty": 5, "samples": [["5 1000000007", "21"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020", "USACO", "素数判断,质数,筛法"], "title": "[USACO20OPEN] Exercise G", "background": "", "description": "Farmer John（又）想到了一个新的奶牛晨练方案！  \n如同之前，Farmer John 的 $N$ 头奶牛站成一排。对于 $1\\le i\\le N$ 的每一个 $i$，从左往右第 $i$ 头奶牛的编号为 $i$。他告诉她们重复以下步骤，直到奶牛们与她们开始时的顺序相同。\n\n给定长为 $N$ 的一个排列 $A$，奶牛们改变她们的顺序，使得在改变之前从左往右第 $i$ 头奶牛在改变之后为从左往右第 $A_i$ 头。  \n例如，如果 $A=(1,2,3,4,5)$，那么奶牛们总共进行一步。如果 $A=(2,3,1,5,4)$，那么奶牛们总共进行六步。每步之后奶牛们从左往右的顺序如下：\n\n0 步：$(1,2,3,4,5)$  \n1 步：$(3,1,2,5,4)$  \n2 步：$(2,3,1,4,5)$  \n3 步：$(1,2,3,5,4)$  \n4 步：$(3,1,2,4,5)$  \n5 步：$(2,3,1,5,4)$  \n6 步：$(1,2,3,4,5)$  \n**求所有正整数 $K$ 的和，使得存在一个长为 $N$ 的排列，奶牛们需要进行恰好 $K$ 步。**\n\n由于这个数字可能非常大，输出答案模 $M$ 的余数（$10^8\\le M\\le 10^9+7$，$M$ 是质数）。", "inputFormat": "输入的第一行包含 $N$ 和 $M$。", "outputFormat": "输出一个整数。", "hint": "#### 样例解释：\n\n存在排列使得奶牛需要进行 $1$、$2$、$3$、$4$、$5$ 以及 $6$ 步。因此，答案为 $1+2+3+4+5+6=21$。\n\n-----\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^4$。\n\n共 $10$ 个测试点，其中 $1$ 为样例，其余性质如下：\n\n测试点 $2\\sim 5$ 满足 $N\\le 10^2$。  \n测试点 $6\\sim 10$ 没有额外限制。 \n\n----- \n\n出题人：Benjamin Qi", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20OPEN] Exercise G", "background": "", "description": "Farmer John（又）想到了一个新的奶牛晨练方案！  \n如同之前，Farmer John 的 $N$ 头奶牛站成一排。对于 $1\\le i\\le N$ 的每一个 $i$，从左往右第 $i$ 头奶牛的编号为 $i$。他告诉她们重复以下步骤，直到奶牛们与她们开始时的顺序相同。\n\n给定长为 $N$ 的一个排列 $A$，奶牛们改变她们的顺序，使得在改变之前从左往右第 $i$ 头奶牛在改变之后为从左往右第 $A_i$ 头。  \n例如，如果 $A=(1,2,3,4,5)$，那么奶牛们总共进行一步。如果 $A=(2,3,1,5,4)$，那么奶牛们总共进行六步。每步之后奶牛们从左往右的顺序如下：\n\n0 步：$(1,2,3,4,5)$  \n1 步：$(3,1,2,5,4)$  \n2 步：$(2,3,1,4,5)$  \n3 步：$(1,2,3,5,4)$  \n4 步：$(3,1,2,4,5)$  \n5 步：$(2,3,1,5,4)$  \n6 步：$(1,2,3,4,5)$  \n**求所有正整数 $K$ 的和，使得存在一个长为 $N$ 的排列，奶牛们需要进行恰好 $K$ 步。**\n\n由于这个数字可能非常大，输出答案模 $M$ 的余数（$10^8\\le M\\le 10^9+7$，$M$ 是质数）。", "inputFormat": "输入的第一行包含 $N$ 和 $M$。", "outputFormat": "输出一个整数。", "hint": "#### 样例解释：\n\n存在排列使得奶牛需要进行 $1$、$2$、$3$、$4$、$5$ 以及 $6$ 步。因此，答案为 $1+2+3+4+5+6=21$。\n\n-----\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^4$。\n\n共 $10$ 个测试点，其中 $1$ 为样例，其余性质如下：\n\n测试点 $2\\sim 5$ 满足 $N\\le 10^2$。  \n测试点 $6\\sim 10$ 没有额外限制。 \n\n----- \n\n出题人：Benjamin Qi", "locale": "zh-CN"}}}
{"pid": "P6281", "type": "P", "difficulty": 3, "samples": [["5 3\n0 2\n4 7\n9 9", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2020", "二分", "USACO"], "title": "[USACO20OPEN] Social Distancing S", "background": "", "description": "由于高传染性的牛传染病 COWVID-19 的爆发，Farmer John 非常担忧他的奶牛们的健康。\n\n为了限制疾病的传播，Farmer John 的 $N$ 头奶牛（$2\\le N\\le 10^5$）决定践行“社交距离”，分散到农场的各处。农场的形状如一维数轴，上有 $M$ 个互不相交的区间（$1\\le M\\le 10^5$），其中有可用来放牧的青草。奶牛们想要使她们位于不同的整数位置，每个位置上均有草，并且最大化 $D$ 的值，其中 $D$ 为最近的两头奶牛之间的距离。请帮助奶牛们求出 $D$ 的最大可能值。", "inputFormat": "输入的第一行包含 $N$ 和 $M$。以下 $M$ 行每行用两个整数 $a$ 和 $b$ 描述一个区间，其中 $0\\le a\\le b\\le 10^{18}$。没有两个区间有重合部分或在端点处相交。位于一个区间的端点上的奶牛视为在草上。", "outputFormat": "输出 $D$ 的最大可能值，使得所有奶牛之间的距离均不小于 $D$ 单位。保证存在 $D>0$ 的解。", "hint": "### 样例解释\n取到 $D=2$ 的一种方式是令奶牛们处在位置 $0$、$2$、$4$、$6$ 和 $9$。\n\n### 子任务\n- 测试点 $2$-$3$ 满足 $b\\le 10^5$。\n- 测试点 $4$-$10$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20OPEN] Social Distancing S", "background": "", "description": "由于高传染性的牛传染病 COWVID-19 的爆发，Farmer John 非常担忧他的奶牛们的健康。\n\n为了限制疾病的传播，Farmer John 的 $N$ 头奶牛（$2\\le N\\le 10^5$）决定践行“社交距离”，分散到农场的各处。农场的形状如一维数轴，上有 $M$ 个互不相交的区间（$1\\le M\\le 10^5$），其中有可用来放牧的青草。奶牛们想要使她们位于不同的整数位置，每个位置上均有草，并且最大化 $D$ 的值，其中 $D$ 为最近的两头奶牛之间的距离。请帮助奶牛们求出 $D$ 的最大可能值。", "inputFormat": "输入的第一行包含 $N$ 和 $M$。以下 $M$ 行每行用两个整数 $a$ 和 $b$ 描述一个区间，其中 $0\\le a\\le b\\le 10^{18}$。没有两个区间有重合部分或在端点处相交。位于一个区间的端点上的奶牛视为在草上。", "outputFormat": "输出 $D$ 的最大可能值，使得所有奶牛之间的距离均不小于 $D$ 单位。保证存在 $D>0$ 的解。", "hint": "### 样例解释\n取到 $D=2$ 的一种方式是令奶牛们处在位置 $0$、$2$、$4$、$6$ 和 $9$。\n\n### 子任务\n- 测试点 $2$-$3$ 满足 $b\\le 10^5$。\n- 测试点 $4$-$10$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6282", "type": "P", "difficulty": 3, "samples": [["4 2\n1 2\n1 2\n1 2\n1 2", "2\n2\n2\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["模拟", "2020", "USACO"], "title": "[USACO20OPEN] Cereal S", "background": "", "description": "Farmer John 的奶牛们的早餐最爱当然是麦片了！事实上，奶牛们的胃口是如此之大，每头奶牛一顿饭可以吃掉整整一箱麦片。\n\n最近农场收到了一份快递，内有 $M$ 种不同种类的麦片（$1\\le M\\le 10^5$）。不幸的是，每种麦片只有一箱！$N$ 头奶牛（$1\\le N\\le 10^5$）中的每头都有她最爱的麦片和第二喜爱的麦片。给定一些可选的麦片，奶牛会执行如下的过程：\n\n- 如果她最爱的麦片还在，取走并离开。\n- 否则，如果她第二喜爱的麦片还在，取走并离开。\n- 否则，她会失望地哞叫一声然后不带走一片麦片地离开。\n\n奶牛们排队领取麦片。对于每一个 $0\\le i\\le N-1$，求如果 Farmer John 从队伍中移除前 $i$ 头奶牛，有多少奶牛会取走一箱麦片。", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $M$。\n\n对于每一个 $1\\le i\\le N$，第 $i$ 行包含两个空格分隔的整数 $f_i$ 和 \n $s_i$（$1\\le f_i,s_i\\le M$，且 $f_i\\neq s_i$），为队伍中第 $i$ 头奶牛最喜爱和第二喜爱的麦片。", "outputFormat": "对于每一个 $0\\le i\\le N-1$，输出一行，包含对于 $i$ 的答案。", "hint": "### 样例解释\n如果至少两头奶牛留下，那么恰有两头奶牛取走了一箱麦片。\n\n### 子任务\n- 测试点 $2$-$3$ 满足 $N,M\\le 10^3$。\n- 测试点 $4$-$10$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20OPEN] Cereal S", "background": "", "description": "Farmer John 的奶牛们的早餐最爱当然是麦片了！事实上，奶牛们的胃口是如此之大，每头奶牛一顿饭可以吃掉整整一箱麦片。\n\n最近农场收到了一份快递，内有 $M$ 种不同种类的麦片（$1\\le M\\le 10^5$）。不幸的是，每种麦片只有一箱！$N$ 头奶牛（$1\\le N\\le 10^5$）中的每头都有她最爱的麦片和第二喜爱的麦片。给定一些可选的麦片，奶牛会执行如下的过程：\n\n- 如果她最爱的麦片还在，取走并离开。\n- 否则，如果她第二喜爱的麦片还在，取走并离开。\n- 否则，她会失望地哞叫一声然后不带走一片麦片地离开。\n\n奶牛们排队领取麦片。对于每一个 $0\\le i\\le N-1$，求如果 Farmer John 从队伍中移除前 $i$ 头奶牛，有多少奶牛会取走一箱麦片。", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $M$。\n\n对于每一个 $1\\le i\\le N$，第 $i$ 行包含两个空格分隔的整数 $f_i$ 和 \n $s_i$（$1\\le f_i,s_i\\le M$，且 $f_i\\neq s_i$），为队伍中第 $i$ 头奶牛最喜爱和第二喜爱的麦片。", "outputFormat": "对于每一个 $0\\le i\\le N-1$，输出一行，包含对于 $i$ 的答案。", "hint": "### 样例解释\n如果至少两头奶牛留下，那么恰有两头奶牛取走了一箱麦片。\n\n### 子任务\n- 测试点 $2$-$3$ 满足 $N,M\\le 10^3$。\n- 测试点 $4$-$10$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6283", "type": "P", "difficulty": 5, "samples": [["4\n1 0\n0 1\n-1 0\n0 -1", "1"], ["3\n0 0\n1 1\n-1 3", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "USACO", "并查集", "排序", "单调栈"], "title": "[USACO20OPEN] The Moo Particle S", "background": "", "description": "FJ 的奶牛们最近很无聊，她们想到了一种全新的方式缓解无聊：研究高等物理！事实上，她们甚至成功发现了一种新的亚原子粒子，她们将其命名为“哞粒子”。\n\n奶牛们正在进行一项有关 $N$ 个哞粒子的实验（$1\\le N\\le 10^5$）。粒子 $i$ 的“自旋”可以用范围在 $−10^9\\ldots 10^9$ 之间的两个整数 $x_i$ 和 $y_i$ 来描述。有时两个哞粒子会发生相互作用。自旋为 ($x_i,y_i$) 和 ($x_j,y_j$) 的两个粒子之间仅当 $x_i\\le x_j$ 并且 $y_i\\le y_j$ 时会发生相互作用。在这些条件下，有可能这两个粒子中的一个会消失（另一个粒子不会发生任何变化）。在任意给定的时刻，至多只有一次相互作用会发生。\n\n奶牛们想要知道在经过一些任意的相互作用之后剩余的哞粒子的最小数量。", "inputFormat": "输入的第一行包含一个整数 $N$，为哞粒子的初始数量。以下 $N$ 行每行包含两个空格分隔的整数，为一个粒子的自旋。每个粒子的自旋各不相同。", "outputFormat": "输出一个整数，为经过一些任意的相互作用之后剩余的哞粒子的最小数量。", "hint": "### 样例输入输出 1 解释\n\n一个可能的相互作用顺序：\n\n- 粒子 $1$ 和 $4$ 相互作用，粒子 $1$ 消失。\n- 粒子 $2$ 和 $4$ 相互作用，粒子 $4$ 消失。\n- 粒子 $2$ 和 $3$ 相互作用，粒子 $3$ 消失。\n仅留下粒子 $2$。\n\n### 样例输入输出 2 解释\n\n粒子 $3$ 不能与任何其他两个粒子相互作用，所以它必然会留下。粒子 $1$ 和 $2$ 中必然留下至少一个。\n\n### 子任务\n- 测试点 $3$-$6$ 满足 $N\\le 10^3$。\n- 测试点 $7$-$12$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20OPEN] The Moo Particle S", "background": "", "description": "FJ 的奶牛们最近很无聊，她们想到了一种全新的方式缓解无聊：研究高等物理！事实上，她们甚至成功发现了一种新的亚原子粒子，她们将其命名为“哞粒子”。\n\n奶牛们正在进行一项有关 $N$ 个哞粒子的实验（$1\\le N\\le 10^5$）。粒子 $i$ 的“自旋”可以用范围在 $−10^9\\ldots 10^9$ 之间的两个整数 $x_i$ 和 $y_i$ 来描述。有时两个哞粒子会发生相互作用。自旋为 ($x_i,y_i$) 和 ($x_j,y_j$) 的两个粒子之间仅当 $x_i\\le x_j$ 并且 $y_i\\le y_j$ 时会发生相互作用。在这些条件下，有可能这两个粒子中的一个会消失（另一个粒子不会发生任何变化）。在任意给定的时刻，至多只有一次相互作用会发生。\n\n奶牛们想要知道在经过一些任意的相互作用之后剩余的哞粒子的最小数量。", "inputFormat": "输入的第一行包含一个整数 $N$，为哞粒子的初始数量。以下 $N$ 行每行包含两个空格分隔的整数，为一个粒子的自旋。每个粒子的自旋各不相同。", "outputFormat": "输出一个整数，为经过一些任意的相互作用之后剩余的哞粒子的最小数量。", "hint": "### 样例输入输出 1 解释\n\n一个可能的相互作用顺序：\n\n- 粒子 $1$ 和 $4$ 相互作用，粒子 $1$ 消失。\n- 粒子 $2$ 和 $4$ 相互作用，粒子 $4$ 消失。\n- 粒子 $2$ 和 $3$ 相互作用，粒子 $3$ 消失。\n仅留下粒子 $2$。\n\n### 样例输入输出 2 解释\n\n粒子 $3$ 不能与任何其他两个粒子相互作用，所以它必然会留下。粒子 $1$ 和 $2$ 中必然留下至少一个。\n\n### 子任务\n- 测试点 $3$-$6$ 满足 $N\\le 10^3$。\n- 测试点 $7$-$12$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6284", "type": "P", "difficulty": 1, "samples": [["10\n3\n4\n6\n2 ", "28"], ["10\n3\n10\n2\n12 ", "16"], ["15\n3\n15\n10\n20 ", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #1] Tarifa", "background": "", "description": "为了能够在网上冲浪，Pero 购买了一个数据套餐：\n\n- 每月他将获得 $x \\rm{MB}$ 流量。\n- 每月未用完的流量，可以在次月继续使用。\n\n现在，我们知道了 Pero 在使用这个套餐的前 $n$ 个月中，每月使用了多少 $\\rm{MB}$ 流量。请你帮忙计算，第 $n+1$ 月他能使用多少 $\\rm{MB}$ 流量。", "inputFormat": "第一行一个整数 $x$。\n\n第二行一个整数 $n$。\n\n接下来 $n$ 行，每行一个整数 $p_i$，表示第 $i$ 月 Pero 使用了多少 $\\rm{MB}$ 流量。", "outputFormat": "一行，一个整数，表示第 $n+1$ 月 Pero 能使用多少 $\\rm{MB}$ 流量。", "hint": "#### 样例 1 解释\n\n第一月，Pero 能使用 $10\\rm{MB}$ 流量，实际使用 $4\\rm{MB}$ 流量，剩余 $6\\rm{MB}$ 流量。 \n\n第二月，Pero 能使用 $6+10=16(\\rm{MB})$ 流量，实际使用 $6\\rm{MB}$ 流量，剩余 $10\\rm{MB}$ 流量。 \n\n第三月，Pero 能使用 $10+10=20(\\rm{MB})$ 流量，实际使用 $2\\rm{MB}$ 流量，剩余 $18\\rm{MB}$ 流量。\n \n第四月，Pero 能使用 $18+10=28(\\rm{MB)}$ 流量。\n\n---\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le x\\le 100$，$1\\le n\\le 100$，$0\\le p_i\\le 10^4$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T1 Tarifa_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #1] Tarifa", "background": "", "description": "为了能够在网上冲浪，Pero 购买了一个数据套餐：\n\n- 每月他将获得 $x \\rm{MB}$ 流量。\n- 每月未用完的流量，可以在次月继续使用。\n\n现在，我们知道了 Pero 在使用这个套餐的前 $n$ 个月中，每月使用了多少 $\\rm{MB}$ 流量。请你帮忙计算，第 $n+1$ 月他能使用多少 $\\rm{MB}$ 流量。", "inputFormat": "第一行一个整数 $x$。\n\n第二行一个整数 $n$。\n\n接下来 $n$ 行，每行一个整数 $p_i$，表示第 $i$ 月 Pero 使用了多少 $\\rm{MB}$ 流量。", "outputFormat": "一行，一个整数，表示第 $n+1$ 月 Pero 能使用多少 $\\rm{MB}$ 流量。", "hint": "#### 样例 1 解释\n\n第一月，Pero 能使用 $10\\rm{MB}$ 流量，实际使用 $4\\rm{MB}$ 流量，剩余 $6\\rm{MB}$ 流量。 \n\n第二月，Pero 能使用 $6+10=16(\\rm{MB})$ 流量，实际使用 $6\\rm{MB}$ 流量，剩余 $10\\rm{MB}$ 流量。 \n\n第三月，Pero 能使用 $10+10=20(\\rm{MB})$ 流量，实际使用 $2\\rm{MB}$ 流量，剩余 $18\\rm{MB}$ 流量。\n \n第四月，Pero 能使用 $18+10=28(\\rm{MB)}$ 流量。\n\n---\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le x\\le 100$，$1\\le n\\le 100$，$0\\le p_i\\le 10^4$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T1 Tarifa_**。", "locale": "zh-CN"}}}
{"pid": "P6285", "type": "P", "difficulty": 3, "samples": [["11\n.....XX...X\n....XX...XX\n...XX...XX.\n...........\n....XXX....\n...........\n.....X.....\n....XX...X.\n...XX...XX.\n...X...XX.. ", "2\n1 4\n7 2 "], ["20\nX..................X\n.X................X.\n..X..............X..\n...X............X...\n....X..........X....\n.....X........X.....\n......X......X......\n.......X....X.......\n........X..X........\n.........XX......... ", "1\n8 10 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2016", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #1] Jetpack", "background": "", "description": "Mirko 正在玩一款小游戏。在一个 $10$ 行 $n$ 列的矩阵中，他需要从左下角出发，避免在障碍物处停留，最终到达第 $n$ 列的任意位置。每秒，他都会向右移动一个单位。\n\n在游戏中，Mirko 拥有一个喷气背包（游戏开始时关闭）：\n\n- 打开喷气背包时，每秒他将额外向上移动一个单位（即向右上方移动），直到他处于矩阵顶端的一行。\n- 关闭喷气背包时，每秒他将额外向下移动一个单位（即向右下方移动），直到他处于矩阵底端的一行。\n\n他可以在任意一秒打开喷气背包，并在任意秒后关闭。将此记为一次操作。\n\n现在，Mirko 想让你设计一系列操作，使他能够顺利结束游戏。", "inputFormat": "第一行一个整数 $n$，表示矩阵的列数。\n\n接下来 $10$ 行，每行 $n$ 个字符。表示相应位置是否存在障碍物。字符只可能是 `.` 或 `X`。\n\n- `.` 表示该区域不存在障碍物。\n- `X` 表示该区域存在障碍物。", "outputFormat": "**本题使用 Special Judge**。\n\n第一行一个非负整数 $p$，表示 Mirko 应进行操作的次数。\n\n接下来 $p$ 行，每行两个正整数 $t_i$ 和 $x_i$，表示 Mirko 需要在第 $t_i$ 秒打开喷气背包，并在 $x_i$ 秒后关闭。\n\n若存在多种答案，请输出任意一种。\n\n另外：\n\n- 操作应按时间顺序给出，且在一次操作完成前无法进行其他操作。即 $t_i+x_i\\le t_{i+1}$。\n- 游戏结束后 Mirko 无法进行任何操作。即 $t_i<n$。\n- Mirko 不希望操作次数过多。即 $0\\le p\\le 5\\times 10^4$。", "hint": "#### 样例 1 解释\n\n下图为样例输出一所表示的路径。\n\n```\n.....XX...X\n....XX...XX\n...XX...XX.\n...........\n....XXX....\n.....*...*.\n....*X*.*.*\n...*XX.*.X.\n..*XX...XX.\n**.X...XX.. \n```\n\n---\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$。\n\n数据保证至少存在一种方案，能使得 Mirko 能够顺利结束游戏。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T2 Jetpack_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #1] Jetpack", "background": "", "description": "Mirko 正在玩一款小游戏。在一个 $10$ 行 $n$ 列的矩阵中，他需要从左下角出发，避免在障碍物处停留，最终到达第 $n$ 列的任意位置。每秒，他都会向右移动一个单位。\n\n在游戏中，Mirko 拥有一个喷气背包（游戏开始时关闭）：\n\n- 打开喷气背包时，每秒他将额外向上移动一个单位（即向右上方移动），直到他处于矩阵顶端的一行。\n- 关闭喷气背包时，每秒他将额外向下移动一个单位（即向右下方移动），直到他处于矩阵底端的一行。\n\n他可以在任意一秒打开喷气背包，并在任意秒后关闭。将此记为一次操作。\n\n现在，Mirko 想让你设计一系列操作，使他能够顺利结束游戏。", "inputFormat": "第一行一个整数 $n$，表示矩阵的列数。\n\n接下来 $10$ 行，每行 $n$ 个字符。表示相应位置是否存在障碍物。字符只可能是 `.` 或 `X`。\n\n- `.` 表示该区域不存在障碍物。\n- `X` 表示该区域存在障碍物。", "outputFormat": "**本题使用 Special Judge**。\n\n第一行一个非负整数 $p$，表示 Mirko 应进行操作的次数。\n\n接下来 $p$ 行，每行两个正整数 $t_i$ 和 $x_i$，表示 Mirko 需要在第 $t_i$ 秒打开喷气背包，并在 $x_i$ 秒后关闭。\n\n若存在多种答案，请输出任意一种。\n\n另外：\n\n- 操作应按时间顺序给出，且在一次操作完成前无法进行其他操作。即 $t_i+x_i\\le t_{i+1}$。\n- 游戏结束后 Mirko 无法进行任何操作。即 $t_i<n$。\n- Mirko 不希望操作次数过多。即 $0\\le p\\le 5\\times 10^4$。", "hint": "#### 样例 1 解释\n\n下图为样例输出一所表示的路径。\n\n```\n.....XX...X\n....XX...XX\n...XX...XX.\n...........\n....XXX....\n.....*...*.\n....*X*.*.*\n...*XX.*.X.\n..*XX...XX.\n**.X...XX.. \n```\n\n---\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$。\n\n数据保证至少存在一种方案，能使得 Mirko 能够顺利结束游戏。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T2 Jetpack_**。", "locale": "zh-CN"}}}
{"pid": "P6286", "type": "P", "difficulty": 5, "samples": [["2\nab\nbc\n2 1 ", "DA\nbacdefghijklmnopqrstuvwxyz "], ["3\nabc\nbcd\nadd\n1 2 3 ", "NE "], ["3\nbbb\nccc\nddd\n2 3 1 ", "DA\nadbcefghijklmnopqrstuvwxyz "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "2016", "Special Judge", "拓扑排序", "字典树 Trie", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #1] Cezar", "background": "", "description": "Mirko 想对 $n$ 个单词进行加密。加密过程是这样的：\n\n1.  选择一个英文字母表的排列作为密钥。\n2.  将单词中的 `a` 替换为密钥中的第一个字母，`b` 替换为密钥中的第二个字母……以此类推。\n\n例如，以 `qwertyuiopasdfghjklzxcvbnm` 作为密钥对 `cezar` 加密后，将得到 `etmqk`。\n\n他希望，将所有单词加密并按字典序升序排列后，最初的第 $a_i$ 个单词位于第 $i$ 位。请你判断，这能否实现。如果能，请给出任意一种可行的密钥。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个字符串，表示待加密的单词。\n\n最后一行 $n$ 个整数，表示 $a_i$。", "outputFormat": "**本题使用 Special Judge**。\n\n如果 Mirko 的要求不能实现，输出 `NE`。\n\n否则，输出 `DA`。接下来一行输出任意一种可行的密钥。", "hint": "#### 【样例解释】\n\n**样例 1 解释**\n\n以 `bacdefghijklmnopqrstuvwxyz` 为密钥加密后，得到：\n\n- `ba`\n- `ac`\n\n字典序升序排列后，得到：\n\n- `ac`\n- `ba`\n\n原先的第一个单词在第二位，第二个单词在第一位。符合要求。\n\n**样例 3 解释**\n\n以 `adbcefghijklmnopqrstuvwxyz`  为密钥加密后，得到：\n\n- `ddd`\n- `bbb`\n- `ccc`\n\n字典序升序排列后，得到：\n\n- `bbb`\n- `ddd`\n- `ccc`\n\n原先的第一个单词在第二位，第二个单词在第三位，第三个单词在第一位。符合要求。\n\n---\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2\\le n\\le 100$，$1 \\leq a_i \\leq n$。\n\n所有单词的长度不超过 $100$，且只包含小写字母。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T3 Cezar_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #1] Cezar", "background": "", "description": "Mirko 想对 $n$ 个单词进行加密。加密过程是这样的：\n\n1.  选择一个英文字母表的排列作为密钥。\n2.  将单词中的 `a` 替换为密钥中的第一个字母，`b` 替换为密钥中的第二个字母……以此类推。\n\n例如，以 `qwertyuiopasdfghjklzxcvbnm` 作为密钥对 `cezar` 加密后，将得到 `etmqk`。\n\n他希望，将所有单词加密并按字典序升序排列后，最初的第 $a_i$ 个单词位于第 $i$ 位。请你判断，这能否实现。如果能，请给出任意一种可行的密钥。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个字符串，表示待加密的单词。\n\n最后一行 $n$ 个整数，表示 $a_i$。", "outputFormat": "**本题使用 Special Judge**。\n\n如果 Mirko 的要求不能实现，输出 `NE`。\n\n否则，输出 `DA`。接下来一行输出任意一种可行的密钥。", "hint": "#### 【样例解释】\n\n**样例 1 解释**\n\n以 `bacdefghijklmnopqrstuvwxyz` 为密钥加密后，得到：\n\n- `ba`\n- `ac`\n\n字典序升序排列后，得到：\n\n- `ac`\n- `ba`\n\n原先的第一个单词在第二位，第二个单词在第一位。符合要求。\n\n**样例 3 解释**\n\n以 `adbcefghijklmnopqrstuvwxyz`  为密钥加密后，得到：\n\n- `ddd`\n- `bbb`\n- `ccc`\n\n字典序升序排列后，得到：\n\n- `bbb`\n- `ddd`\n- `ccc`\n\n原先的第一个单词在第二位，第二个单词在第三位，第三个单词在第一位。符合要求。\n\n---\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2\\le n\\le 100$，$1 \\leq a_i \\leq n$。\n\n所有单词的长度不超过 $100$，且只包含小写字母。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T3 Cezar_**。", "locale": "zh-CN"}}}
{"pid": "P6287", "type": "P", "difficulty": 6, "samples": [["2\n1 2\n3\n4 ", "3/1 "], ["5\n1 2\n2 4\n1 3\n5 2\n2\n1\n1\n1 \n3 ", "1/2 "]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2016", "树形 DP", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #1] Mag", "background": "", "description": "你将获得一棵由无向边连接的树。树上每个节点都有一个魔力值。\n\n我们定义，一条路径的魔力值为路径上所有节点魔力值的乘积除以路径上的节点数。\n\n例如，若一条路径包含两个魔力值分别为 $3,5$ 的节点，则这条路径的魔力值为 $3\\times 5/2=7.5$。\n\n请你计算，这棵树上魔力值最小的路径的魔力值。", "inputFormat": "第一行一个整数 $n$，表示树共有 $n$ 个节点，编号为 $1\\dots n$。\n\n接下来 $n-1$ 行，每行两个整数 $a_i,b_i$，表示编号为 $a_i,b_i$ 的两个节点由一条无向边连接。\n\n接下来 $n$ 行，每行一个整数 $x_i$，表示编号为 $i$ 的节点的魔力值。", "outputFormat": "一行，一个既约分数 $p/q$。", "hint": "#### 【样例解释】\n\n**样例 1 解释**\n\n注意，路径可以只包含一个节点。\n\n这棵树上魔力值最小的路径的包含节点 $1$，其魔力值为 $3/1$。\n\n\n**样例 2 解释**\n\n这棵树上魔力值最小的路径的包含节点 $2,4$，其魔力值为 $1\\times 1/2=1/2$。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le a_i,b_i\\le n$，$1\\le x_i\\le 10^9$。\n\n数据保证，$p,q$ 不会超过 $10^{18}$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T4 Mag_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #1] Mag", "background": "", "description": "你将获得一棵由无向边连接的树。树上每个节点都有一个魔力值。\n\n我们定义，一条路径的魔力值为路径上所有节点魔力值的乘积除以路径上的节点数。\n\n例如，若一条路径包含两个魔力值分别为 $3,5$ 的节点，则这条路径的魔力值为 $3\\times 5/2=7.5$。\n\n请你计算，这棵树上魔力值最小的路径的魔力值。", "inputFormat": "第一行一个整数 $n$，表示树共有 $n$ 个节点，编号为 $1\\dots n$。\n\n接下来 $n-1$ 行，每行两个整数 $a_i,b_i$，表示编号为 $a_i,b_i$ 的两个节点由一条无向边连接。\n\n接下来 $n$ 行，每行一个整数 $x_i$，表示编号为 $i$ 的节点的魔力值。", "outputFormat": "一行，一个既约分数 $p/q$。", "hint": "#### 【样例解释】\n\n**样例 1 解释**\n\n注意，路径可以只包含一个节点。\n\n这棵树上魔力值最小的路径的包含节点 $1$，其魔力值为 $3/1$。\n\n\n**样例 2 解释**\n\n这棵树上魔力值最小的路径的包含节点 $2,4$，其魔力值为 $1\\times 1/2=1/2$。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le a_i,b_i\\le n$，$1\\le x_i\\le 10^9$。\n\n数据保证，$p,q$ 不会超过 $10^{18}$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T4 Mag_**。", "locale": "zh-CN"}}}
{"pid": "P6288", "type": "P", "difficulty": 5, "samples": [["3\n2 3 3\n4 1 10\n2 7 3 ", "2 "], ["4\n3 1 3 3\n5 8 7 10\n4 1 2 6 ", "1 "], ["3\n1 2 3\n8 4 3\n9 2 6 ", "2 "]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #1] Kralj", "background": "", "description": "矮人国和精灵国即将爆发战争！精灵王 Slavko 将 $n$ 个精灵编号为 $1\\dots n$。矮人王 Mirko 则让 $n$ 个矮人围成一个圆环，从某个矮人开始顺时针编号为 $1\\dots n$。\n\n接下来，Mirko 将为每个精灵分配一个数字 $a_i$，表示将与它们决斗的矮人的编号。然而，由于他的粗心，不同精灵分配到的数字可能是相同的。\n\n为了决斗的公平，双方决定：\n\n1.  Slavko 选出一位尚未确定对手的精灵，设其编号为 $i$。\n2.  若编号为 $a_i$ 的矮人尚未确定对手，则将其作为这位精灵的对手。否则，从编号为 $a_i$ 的矮人开始，选择沿圆环顺时针方向第一个尚未确定对手的矮人作为这位精灵的对手。\n3.  重复以上步骤，直到所有矮人及精灵都确定了对手。\n\nSlavko 收集了所有矮人及精灵的力量值。决斗时，力量值大的一方总是获胜。他想知道，通过规划选择精灵的顺序，最多能有多少精灵在决斗中获胜。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数 $a_i$。\n\n第三行 $n$ 个整数 $p_i$，表示编号为 $i$ 的矮人的力量值。\n\n第四行 $n$ 个整数 $v_i$，表示编号为 $i$ 的精灵的力量值。", "outputFormat": "一行，一个整数，表示最多能有多少精灵在决斗中获胜。", "hint": "#### 样例 1 解释\n\nSlavko 以 $3,2,1$ 的顺序选择精灵。\n\n这样，编号为 $1,2,3$ 的精灵的对手编号分别为 $2,1,3$。\n\n编号为 $1,2$ 的精灵将在决斗中获胜。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times 10^5$，$1\\le a_i\\le n$，$1\\le p_i,v_i\\le 10^9$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T5 Kralj_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #1] Kralj", "background": "", "description": "矮人国和精灵国即将爆发战争！精灵王 Slavko 将 $n$ 个精灵编号为 $1\\dots n$。矮人王 Mirko 则让 $n$ 个矮人围成一个圆环，从某个矮人开始顺时针编号为 $1\\dots n$。\n\n接下来，Mirko 将为每个精灵分配一个数字 $a_i$，表示将与它们决斗的矮人的编号。然而，由于他的粗心，不同精灵分配到的数字可能是相同的。\n\n为了决斗的公平，双方决定：\n\n1.  Slavko 选出一位尚未确定对手的精灵，设其编号为 $i$。\n2.  若编号为 $a_i$ 的矮人尚未确定对手，则将其作为这位精灵的对手。否则，从编号为 $a_i$ 的矮人开始，选择沿圆环顺时针方向第一个尚未确定对手的矮人作为这位精灵的对手。\n3.  重复以上步骤，直到所有矮人及精灵都确定了对手。\n\nSlavko 收集了所有矮人及精灵的力量值。决斗时，力量值大的一方总是获胜。他想知道，通过规划选择精灵的顺序，最多能有多少精灵在决斗中获胜。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数 $a_i$。\n\n第三行 $n$ 个整数 $p_i$，表示编号为 $i$ 的矮人的力量值。\n\n第四行 $n$ 个整数 $v_i$，表示编号为 $i$ 的精灵的力量值。", "outputFormat": "一行，一个整数，表示最多能有多少精灵在决斗中获胜。", "hint": "#### 样例 1 解释\n\nSlavko 以 $3,2,1$ 的顺序选择精灵。\n\n这样，编号为 $1,2,3$ 的精灵的对手编号分别为 $2,1,3$。\n\n编号为 $1,2$ 的精灵将在决斗中获胜。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times 10^5$，$1\\le a_i\\le n$，$1\\le p_i,v_i\\le 10^9$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T5 Kralj_**。", "locale": "zh-CN"}}}
{"pid": "P6289", "type": "P", "difficulty": 5, "samples": [["3\na\nab\nabc ", "4 "], ["3\na\nab\nc ", "4 "], ["4\nbaab\nabab\naabb\nbbaa ", "5 "]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）", "状压 DP"], "title": "[COCI 2016/2017 #1] Vještica", "background": "", "description": "Matej 面临着一个难题。在此之前，我们必须熟悉一种称作前缀树（`trie`）的数据结构。前缀树以前缀的方式，储存单词：\n\n- 前缀树的每一条边都用英文字母表中的字母表示。\n- 前缀树的根节点表示空前缀。\n- 前缀树的每个其他节点都表示一个非空前缀。依次连接根节点至该节点路径上所标有的字母，即可得到该前缀。\n- 不存在从一个节点出发的、标有相同字母的两条边。\n\n例如，这棵前缀树储存了 `A,to,tea,ted,ten,i,in,inn`：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/etllxob4.png)\n\n现在，Matej 获得了 $n$ 个单词，并可以将其中的一些单词重组。例如 `abc` 可以重组为 `acb,bac,bca,cab,cba`。请你计算，将一些单词重组后，储存这些单词的前缀树节点数的最小值。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个字符串，表示 Matej 获得的单词。", "outputFormat": "一行，一个整数，表示将一些单词重组后，储存这些单词的前缀树节点数的最小值。", "hint": "#### 样例 3 解释\n\n所有单词均可以重组为 `aabb`。显然，前缀树最少的节点数应为 $5$（包含了表示空前缀的根节点）。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 16$。\n\n所有单词的长度和不超过 $10^6$，且只包含小写字母。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T6 Vještica_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #1] Vještica", "background": "", "description": "Matej 面临着一个难题。在此之前，我们必须熟悉一种称作前缀树（`trie`）的数据结构。前缀树以前缀的方式，储存单词：\n\n- 前缀树的每一条边都用英文字母表中的字母表示。\n- 前缀树的根节点表示空前缀。\n- 前缀树的每个其他节点都表示一个非空前缀。依次连接根节点至该节点路径上所标有的字母，即可得到该前缀。\n- 不存在从一个节点出发的、标有相同字母的两条边。\n\n例如，这棵前缀树储存了 `A,to,tea,ted,ten,i,in,inn`：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/etllxob4.png)\n\n现在，Matej 获得了 $n$ 个单词，并可以将其中的一些单词重组。例如 `abc` 可以重组为 `acb,bac,bca,cab,cba`。请你计算，将一些单词重组后，储存这些单词的前缀树节点数的最小值。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个字符串，表示 Matej 获得的单词。", "outputFormat": "一行，一个整数，表示将一些单词重组后，储存这些单词的前缀树节点数的最小值。", "hint": "#### 样例 3 解释\n\n所有单词均可以重组为 `aabb`。显然，前缀树最少的节点数应为 $5$（包含了表示空前缀的根节点）。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 16$。\n\n所有单词的长度和不超过 $10^6$，且只包含小写字母。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #1](https://hsin.hr/coci/archive/2016_2017/contest1_tasks.pdf) _T6 Vještica_**。", "locale": "zh-CN"}}}
{"pid": "P6290", "type": "P", "difficulty": 5, "samples": [["4 100 2\n0 1\n2 3\n3 2\n6 10\n0 5\n3 10\n5 1\n7 20", "4 2\n2 4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "eJOI（欧洲）"], "title": "[eJOI 2017] 粒子", "background": "", "description": "两台相距 $L$ 的直线粒子加速器相对放置着。加速器 $A$ 发射 $x$ 粒子，加速器 $B$ 发射 $y$ 粒子。这两种粒子相遇时会碰撞并湮灭。注意，一个 $x$ 粒子可以超越另一个 $x$ 粒子，不会发生任何事。对于 $y$ 粒子也是同理。\n\n在这样的条件下，从 $0$ 时刻开始，$A,B$ 加速器 分别开始发射 $N$ 个 $x,y$ 粒子。每一个粒子都以一个固定的速度移动。$x,y$ 粒子分别被编号为 $1,2,\\cdots N$。\n\n注：在时间 $t$ 内，速度为 $v$ 的粒子移动的路程为 $s = vt$。\n\n$x$ 粒子的发射时刻从编号 $1$ 到 $N$ 分别为：$0 = tx_1 <  tx_2 < tx_3 < \\cdots < tx_N$，速度分别为：$vx_1, vx_2, vx_3, \\cdots, vx_N$。\n\n相应的， $y$ 粒子的发射时刻分别为：$0 = ty_1 <  ty_2 < ty_3 < \\cdots < ty_N$，速度分别为：$vy_1, vy_2, vy_3, \\cdots, vy_N$。\n\n发射粒子的过程中满足：\n\n- 每个粒子会碰撞一个相反类型（$x,y$ 粒子互为相反粒子）的粒子。\n- 当两个粒子碰撞时，所有其他粒子到碰撞点的距离将 $\\ge 1$。在前 $K$ 次碰撞中，这个条件被满足。\n\n------------------------\n\n你的任务是，编写一个程序，确定前 $K$ 次碰撞的粒子对。", "inputFormat": "第一行，三个正整数，由空格隔开：$N,L,K$。\n\n接下来 $N$ 行，每行两个整数：$tx_i,vx_i$。\n\n再接下来 $N$ 行，每行两个整数：$ty_i,vy_i$。", "outputFormat": "输出共 $K$ 行。\n\n每行两个正整数 $i,j$，表示第 $i$ 个 $x$ 粒子和第 $j$ 个 $y$ 粒子。\n\n第 $l$ 行表示第 $i$ 个 $x$ 粒子和第 $j$ 个 $y$ 粒子是第 $l$ 个发生碰撞的，即输出顺序代表碰撞的先后顺序。", "hint": "#### 数据规模与约定\n\n对于所有数据，保证：\n\n- $1 \\le N \\le 5\\times 10^4$。\n- $1 \\le L \\le 10^9$。\n- $1\\le K \\le \\min(10^2,N)$。\n- $tx_i,ty_i \\in [0,10^9]$。\n- $vx_i,vy_i \\in (0,10^9]$。\n\n其中，对于 $30 \\%$ 的数据，有 $1 \\le N \\le 10^3$。\n\n#### 说明\n\n原题来自：[eJOI2017](www.ejoi.org) Problem C [Particles](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_1/EN/particles_statement-en.pdf)\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2017] 粒子", "background": "", "description": "两台相距 $L$ 的直线粒子加速器相对放置着。加速器 $A$ 发射 $x$ 粒子，加速器 $B$ 发射 $y$ 粒子。这两种粒子相遇时会碰撞并湮灭。注意，一个 $x$ 粒子可以超越另一个 $x$ 粒子，不会发生任何事。对于 $y$ 粒子也是同理。\n\n在这样的条件下，从 $0$ 时刻开始，$A,B$ 加速器 分别开始发射 $N$ 个 $x,y$ 粒子。每一个粒子都以一个固定的速度移动。$x,y$ 粒子分别被编号为 $1,2,\\cdots N$。\n\n注：在时间 $t$ 内，速度为 $v$ 的粒子移动的路程为 $s = vt$。\n\n$x$ 粒子的发射时刻从编号 $1$ 到 $N$ 分别为：$0 = tx_1 <  tx_2 < tx_3 < \\cdots < tx_N$，速度分别为：$vx_1, vx_2, vx_3, \\cdots, vx_N$。\n\n相应的， $y$ 粒子的发射时刻分别为：$0 = ty_1 <  ty_2 < ty_3 < \\cdots < ty_N$，速度分别为：$vy_1, vy_2, vy_3, \\cdots, vy_N$。\n\n发射粒子的过程中满足：\n\n- 每个粒子会碰撞一个相反类型（$x,y$ 粒子互为相反粒子）的粒子。\n- 当两个粒子碰撞时，所有其他粒子到碰撞点的距离将 $\\ge 1$。在前 $K$ 次碰撞中，这个条件被满足。\n\n------------------------\n\n你的任务是，编写一个程序，确定前 $K$ 次碰撞的粒子对。", "inputFormat": "第一行，三个正整数，由空格隔开：$N,L,K$。\n\n接下来 $N$ 行，每行两个整数：$tx_i,vx_i$。\n\n再接下来 $N$ 行，每行两个整数：$ty_i,vy_i$。", "outputFormat": "输出共 $K$ 行。\n\n每行两个正整数 $i,j$，表示第 $i$ 个 $x$ 粒子和第 $j$ 个 $y$ 粒子。\n\n第 $l$ 行表示第 $i$ 个 $x$ 粒子和第 $j$ 个 $y$ 粒子是第 $l$ 个发生碰撞的，即输出顺序代表碰撞的先后顺序。", "hint": "#### 数据规模与约定\n\n对于所有数据，保证：\n\n- $1 \\le N \\le 5\\times 10^4$。\n- $1 \\le L \\le 10^9$。\n- $1\\le K \\le \\min(10^2,N)$。\n- $tx_i,ty_i \\in [0,10^9]$。\n- $vx_i,vy_i \\in (0,10^9]$。\n\n其中，对于 $30 \\%$ 的数据，有 $1 \\le N \\le 10^3$。\n\n#### 说明\n\n原题来自：[eJOI2017](www.ejoi.org) Problem C [Particles](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_1/EN/particles_statement-en.pdf)\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)", "locale": "zh-CN"}}}
{"pid": "P6291", "type": "P", "difficulty": 6, "samples": [["10", "1 52 29 8 51 28 9 50 37 16\n85 95 59 86 94 66 87 93 65 88\n40 19 100 39 18 76 38 17 77 49\n2 53 30 7 58 27 10 89 36 15\n84 96 60 75 99 67 72 92 64 71\n41 20 82 44 23 90 45 24 78 48\n3 54 31 6 57 26 11 68 35 14\n83 97 61 74 98 62 73 91 63 70\n42 21 81 43 22 80 46 25 79 47\n4 55 32 5 56 33 12 69 34 13"]], "limits": {"time": [450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450, 450], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2017] 骆驼", "background": "", "description": "我们在棋盘上引入一个新的棋子，称之为“骆驼棋”。棋子跳跃规则：你可以将它移动到水平或垂直方向上的一个位置，使得新位置与旧位置之间隔着 $2$ 格；或者像四个斜对角线的方向之一移动，使得新位置与旧位置之间恰好相隔一个格子。如图，棋盘的中心就是棋子的位置，$8$ 个打上 ”$\\times$“标记的就是可以移动到的位置。显然，棋子不可以跳出棋盘。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f730ijf4.png)\n\n整个棋盘是 $N$ 行 $N$  列的，其中保证 $5 | N$ 。\n\n一开始，棋子在棋盘的左上角。经过一系列移动，使得整个棋盘每一个格子都被走过恰好一次，并且最后的位置与开始位置之间恰好可以以骆驼棋一步互相到达，这就是所谓的”骆驼循环“。\n\n你需要写一个程序，找到给定棋盘的”骆驼循环”。或者判断是否存在“骆驼循环”。", "inputFormat": "输入仅一行，一个正整数 $N$。", "outputFormat": "首先，如果不存在输出 ```NO```。\n\n输出包含一个 $N \\times N$ 的方阵。\n\n方阵包含 $N^2$ 个不同的正整数，大小在 $[1,N^2]$ 范围内，表示每一个格子的访问顺序。那么第一个数字就是 $1$ 。\n\n例如，第 $i$ 行第 $j$ 列的数为 $k$ 说明这一个位置的格子是第 $k$ 个被走到的。详见样例。", "hint": "#### Special Judge 计分标准\n\n如果可行解有多个，输出任意一个就可以拿到这个测试点的分数。\n\n如果输出不完全或发现不正确的情况你可能会得到一个 UKE。\n\n如果在不该输出 ```NO``` 的地方输出了 ```NO``` ，你们你会得到 ```WA```，以及一句 ```wrong output format Expected integer, but \"NO\" found```\n\n#### 输入输出样例解释\n\n棋子移动的方式为：$(1,1)$（表示第一行第一列） $\\rightarrow (4,1) \\rightarrow (7,1) \\rightarrow \\text{etc.}$\n\n最后棋子在 $(3,3)$ 处停止，恰好可以一步走到起点。\n\n附图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uv3273g2.png)\n\n#### 数据规模与约定\n\n对于所有数据，保证 $1\\le N\\le 10^3$，且 $n$ 是 $5$ 的倍数。\n\n本题共 $17$ 个测试点。\n\n- 对于其中一个测试点，有 $N=5$ ，单点分值比例为 $20 \\%$。\n- 对于其他 $16$ 个测试点，无其他限制，单点分值比例为 $5\\%$。\n\n#### 说明\n\n原题来自：[eJOI2017](www.ejoi.org) Problem D [Camel](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_2/EN/camel_statement-en.pdf)\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2017] 骆驼", "background": "", "description": "我们在棋盘上引入一个新的棋子，称之为“骆驼棋”。棋子跳跃规则：你可以将它移动到水平或垂直方向上的一个位置，使得新位置与旧位置之间隔着 $2$ 格；或者像四个斜对角线的方向之一移动，使得新位置与旧位置之间恰好相隔一个格子。如图，棋盘的中心就是棋子的位置，$8$ 个打上 ”$\\times$“标记的就是可以移动到的位置。显然，棋子不可以跳出棋盘。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f730ijf4.png)\n\n整个棋盘是 $N$ 行 $N$  列的，其中保证 $5 | N$ 。\n\n一开始，棋子在棋盘的左上角。经过一系列移动，使得整个棋盘每一个格子都被走过恰好一次，并且最后的位置与开始位置之间恰好可以以骆驼棋一步互相到达，这就是所谓的”骆驼循环“。\n\n你需要写一个程序，找到给定棋盘的”骆驼循环”。或者判断是否存在“骆驼循环”。", "inputFormat": "输入仅一行，一个正整数 $N$。", "outputFormat": "首先，如果不存在输出 ```NO```。\n\n输出包含一个 $N \\times N$ 的方阵。\n\n方阵包含 $N^2$ 个不同的正整数，大小在 $[1,N^2]$ 范围内，表示每一个格子的访问顺序。那么第一个数字就是 $1$ 。\n\n例如，第 $i$ 行第 $j$ 列的数为 $k$ 说明这一个位置的格子是第 $k$ 个被走到的。详见样例。", "hint": "#### Special Judge 计分标准\n\n如果可行解有多个，输出任意一个就可以拿到这个测试点的分数。\n\n如果输出不完全或发现不正确的情况你可能会得到一个 UKE。\n\n如果在不该输出 ```NO``` 的地方输出了 ```NO``` ，你们你会得到 ```WA```，以及一句 ```wrong output format Expected integer, but \"NO\" found```\n\n#### 输入输出样例解释\n\n棋子移动的方式为：$(1,1)$（表示第一行第一列） $\\rightarrow (4,1) \\rightarrow (7,1) \\rightarrow \\text{etc.}$\n\n最后棋子在 $(3,3)$ 处停止，恰好可以一步走到起点。\n\n附图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uv3273g2.png)\n\n#### 数据规模与约定\n\n对于所有数据，保证 $1\\le N\\le 10^3$，且 $n$ 是 $5$ 的倍数。\n\n本题共 $17$ 个测试点。\n\n- 对于其中一个测试点，有 $N=5$ ，单点分值比例为 $20 \\%$。\n- 对于其他 $16$ 个测试点，无其他限制，单点分值比例为 $5\\%$。\n\n#### 说明\n\n原题来自：[eJOI2017](www.ejoi.org) Problem D [Camel](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_2/EN/camel_statement-en.pdf)\n\n翻译提供：@[```_Wallace_```](https://www.luogu.com.cn/user/61430)", "locale": "zh-CN"}}}
{"pid": "P6292", "type": "P", "difficulty": 7, "samples": [["aababc\n3\n1 2\n2 4\n3 6", "2\n5\n9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "后缀自动机 SAM", "动态树 LCT"], "title": "区间本质不同子串个数", "background": "", "description": "给定一个长度为 $n$ 的仅包含小写字母的字符串 $S$，$m$ 次询问由 $S$ 的第 $L$ 到第 $R$ 个字符组成的字符串包含多少个本质不同的非空子串。\n\n定义两个字符串 $a,b$ 相同当且仅当 $|a|=|b|$ 并且对于 $i\\in[1,|a|]$ 都有 $a_i=b_i$。", "inputFormat": "第一行一个长度为 $n$ 的字符串 $S$。\n\n第二行一个整数 $m$，表示询问次数。\n\n接下来 $m$ 行，第 $i$ 行包含两个整数 $l_i,r_i$，描述第 $i$ 次询问。", "outputFormat": "$m$ 行，每行一个整数，表示第 $i$ 次询问的答案。", "hint": "#### 样例 1 解释\n\n- 第一次询问，字符串为 $\\texttt{aa}$，包含 $\\texttt{a}$,$\\texttt{aa}$ 共 $2$ 种本质不同子串。\n- 第二次询问，字符串为  $\\texttt{aba}$，包含  $\\texttt{a},\\texttt{b},\\texttt{ab},\\texttt{ba},\\texttt{aba}$, 共  $5$ 种本质不同子串。\n- 第三次询问，字符串为 $\\texttt{babc}$，包含 $\\texttt{a}$,$\\texttt{b}$,$\\texttt{c}$,$\\texttt{ab}$,$\\texttt{ba}$,$\\texttt{bc}$,$\\texttt{bab}$,$\\texttt{abc}$,$\\texttt{babc}$ 共 $9$ 种本质不同子串。\n\n#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，满足 $n\\leq 3\\times 10^3$，$m\\leq 3\\times 10^3$。\n- 对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times 10^5$，$1\\leq l_i\\leq r_i\\leq n(i\\in[1,m])$。", "locale": "zh-CN", "translations": {"en": {"title": "Number of Essentially Different Substrings in an Interval.", "background": "", "description": "Given a string $S$ of length $n$ consisting only of lowercase letters, there are $m$ queries. Each query asks how many essentially different non-empty substrings are contained in the string formed by the $L$-th to the $R$-th characters of $S$.\n\nTwo strings $a, b$ are defined to be the same if and only if $|a|=|b|$ and for all $i\\in[1,|a|]$, we have $a_i=b_i$.", "inputFormat": "The first line contains a string $S$ of length $n$.\n\nThe second line contains an integer $m$, indicating the number of queries.\n\nThe next $m$ lines each contain two integers $l_i, r_i$, describing the $i$-th query.", "outputFormat": "Output $m$ lines, each containing an integer, representing the answer to the $i$-th query.", "hint": "#### Explanation for Sample 1\n\n- For the first query, the string is $\\texttt{aa}$, and it contains $\\texttt{a}$ and $\\texttt{aa}$, for a total of $2$ essentially different substrings.\n- For the second query, the string is $\\texttt{aba}$, and it contains $\\texttt{a},\\texttt{b},\\texttt{ab},\\texttt{ba},\\texttt{aba}$, for a total of $5$ essentially different substrings.\n- For the third query, the string is $\\texttt{babc}$, and it contains $\\texttt{a}$,$\\texttt{b}$,$\\texttt{c}$,$\\texttt{ab}$,$\\texttt{ba}$,$\\texttt{bc}$,$\\texttt{bab}$,$\\texttt{abc}$,$\\texttt{babc}$, for a total of $9$ essentially different substrings.\n\n#### Constraints\n\n- For $20\\%$ of the testdata, $n\\leq 3\\times 10^3$ and $m\\leq 3\\times 10^3$.\n- For $100\\%$ of the testdata, $1\\leq n\\leq 10^5$, $1\\leq m\\leq 2\\times 10^5$, $1\\leq l_i\\leq r_i\\leq n(i\\in[1,m])$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "区间本质不同子串个数", "background": "", "description": "给定一个长度为 $n$ 的仅包含小写字母的字符串 $S$，$m$ 次询问由 $S$ 的第 $L$ 到第 $R$ 个字符组成的字符串包含多少个本质不同的非空子串。\n\n定义两个字符串 $a,b$ 相同当且仅当 $|a|=|b|$ 并且对于 $i\\in[1,|a|]$ 都有 $a_i=b_i$。", "inputFormat": "第一行一个长度为 $n$ 的字符串 $S$。\n\n第二行一个整数 $m$，表示询问次数。\n\n接下来 $m$ 行，第 $i$ 行包含两个整数 $l_i,r_i$，描述第 $i$ 次询问。", "outputFormat": "$m$ 行，每行一个整数，表示第 $i$ 次询问的答案。", "hint": "#### 样例 1 解释\n\n- 第一次询问，字符串为 $\\texttt{aa}$，包含 $\\texttt{a}$,$\\texttt{aa}$ 共 $2$ 种本质不同子串。\n- 第二次询问，字符串为  $\\texttt{aba}$，包含  $\\texttt{a},\\texttt{b},\\texttt{ab},\\texttt{ba},\\texttt{aba}$, 共  $5$ 种本质不同子串。\n- 第三次询问，字符串为 $\\texttt{babc}$，包含 $\\texttt{a}$,$\\texttt{b}$,$\\texttt{c}$,$\\texttt{ab}$,$\\texttt{ba}$,$\\texttt{bc}$,$\\texttt{bab}$,$\\texttt{abc}$,$\\texttt{babc}$ 共 $9$ 种本质不同子串。\n\n#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，满足 $n\\leq 3\\times 10^3$，$m\\leq 3\\times 10^3$。\n- 对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times 10^5$，$1\\leq l_i\\leq r_i\\leq n(i\\in[1,m])$。", "locale": "zh-CN"}}}
{"pid": "P6293", "type": "P", "difficulty": 5, "samples": [["7\n5 5 3 6 2 3 3\n1 6\n5 3\n1 5\n6 2\n2 4\n6 7", "6"]], "limits": {"time": [200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "eJOI（欧洲）", "树形 DP"], "title": "[eJOI 2017] 经验", "background": "", "description": "X 公司有 $n$ 个员工。这个公司的员工之间的关系构成了一个树形结构。CEO 位于结构的顶端（树的根），他有一些下属（树根的子结点），下属又有下属……最后是一些底层员工（叶结点），没有下属。\n\n这些员工被从 $1$ 到 $n$ 标号，且 CEO 的标号为 1。每个员工有一个 **经验值**，第 $i$ 个员工的经验值为 $W_i$ 。\n\n这个公司有一个大工程需要完成，所以公司的管理者想要将这个树形结构分裂重组为更小的团队。分裂的方式应遵循以下的规则：\n\n- 任何一个团队至少由一个人组成，每个员工必须属于恰好一个团队。\n- 对于任何一个团队，假设团队的成员 **按原来的层次等级由低到高排序之后**  为 $\\{j_1,j_2,j_3,...,j_k\\}$ ，那么须满足：对于$\\forall i \\in [1,k-1]$ 满足 $j_i$ 为 $j_{i+1}$ 的上司。\n\n定义一个团队的总经验值为这个团队的所有成员的经验值的极差，换句话说，就是这个团队里所有成员经验值的最大值减去最小值。整个公司得到的总经验值就是所有团队的经验值之和。\n\n你的任务是求出整个公司可以得到的经验值的最大值。", "inputFormat": "第一行，一个整数 $n$；\n\n第二行，$n$ 个整数：$W_1,W_2,...,W_n$。\n\n接下来 $n-1$ 行，每行两个整数 $u,v$ ，表示 $v$ 是 $u$ 的下属。", "outputFormat": "一个整数表示答案。", "hint": "#### 样例 1 解释\n\n![GBNNDJ.png](https://s1.ax1x.com/2020/04/05/GBNNDJ.png)\n\n一种方案是 $\\{1,5,3\\},\\{6,2,4\\},\\{7\\}$。\n\n或者是 $\\{1, 5\\}, \\{3\\}, \\{6, 2, 4\\}, \\{7\\}$。\n\n#### 数据规模与约定\n\n- 对于大约 $20\\%$ 的数据，保证：$n\\le 20$。\n- 对于大约 $50\\%$ 的数据，保证：$n\\le 5\\times 10^3$。\n- 对于另外大约 $10\\%$ 的数据，保证：每个员工至多有一个下属。\n- 对于所有数据，保证：$1\\le n\\le 10^5,0\\le W_i\\le 10^9$。\n\n#### 说明\n\n原题来自：[eJOI2017](www.ejoi.org) Problem E [Experience](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_2/EN/experience_statement-en.pdf)\n\n翻译提供： @[```_Wallace_```](https://www.luogu.com.cn/user/61430)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2017] 经验", "background": "", "description": "X 公司有 $n$ 个员工。这个公司的员工之间的关系构成了一个树形结构。CEO 位于结构的顶端（树的根），他有一些下属（树根的子结点），下属又有下属……最后是一些底层员工（叶结点），没有下属。\n\n这些员工被从 $1$ 到 $n$ 标号，且 CEO 的标号为 1。每个员工有一个 **经验值**，第 $i$ 个员工的经验值为 $W_i$ 。\n\n这个公司有一个大工程需要完成，所以公司的管理者想要将这个树形结构分裂重组为更小的团队。分裂的方式应遵循以下的规则：\n\n- 任何一个团队至少由一个人组成，每个员工必须属于恰好一个团队。\n- 对于任何一个团队，假设团队的成员 **按原来的层次等级由低到高排序之后**  为 $\\{j_1,j_2,j_3,...,j_k\\}$ ，那么须满足：对于$\\forall i \\in [1,k-1]$ 满足 $j_i$ 为 $j_{i+1}$ 的上司。\n\n定义一个团队的总经验值为这个团队的所有成员的经验值的极差，换句话说，就是这个团队里所有成员经验值的最大值减去最小值。整个公司得到的总经验值就是所有团队的经验值之和。\n\n你的任务是求出整个公司可以得到的经验值的最大值。", "inputFormat": "第一行，一个整数 $n$；\n\n第二行，$n$ 个整数：$W_1,W_2,...,W_n$。\n\n接下来 $n-1$ 行，每行两个整数 $u,v$ ，表示 $v$ 是 $u$ 的下属。", "outputFormat": "一个整数表示答案。", "hint": "#### 样例 1 解释\n\n![GBNNDJ.png](https://s1.ax1x.com/2020/04/05/GBNNDJ.png)\n\n一种方案是 $\\{1,5,3\\},\\{6,2,4\\},\\{7\\}$。\n\n或者是 $\\{1, 5\\}, \\{3\\}, \\{6, 2, 4\\}, \\{7\\}$。\n\n#### 数据规模与约定\n\n- 对于大约 $20\\%$ 的数据，保证：$n\\le 20$。\n- 对于大约 $50\\%$ 的数据，保证：$n\\le 5\\times 10^3$。\n- 对于另外大约 $10\\%$ 的数据，保证：每个员工至多有一个下属。\n- 对于所有数据，保证：$1\\le n\\le 10^5,0\\le W_i\\le 10^9$。\n\n#### 说明\n\n原题来自：[eJOI2017](www.ejoi.org) Problem E [Experience](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_2/EN/experience_statement-en.pdf)\n\n翻译提供： @[```_Wallace_```](https://www.luogu.com.cn/user/61430)", "locale": "zh-CN"}}}
{"pid": "P6294", "type": "P", "difficulty": 5, "samples": [["5 2\n2 4 2 3 5\n4 3", "2\n6"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "eJOI（欧洲）"], "title": "[eJOI 2017] 游戏", "background": "", "description": "Alice 和 Bob ~~又双叒叕~~ 在玩游戏。\n\n他们有一个由 $n$ 个 $\\le n$ 的正整数组成的序列。序列中的元素被从 $1$ 到 $n$ 标号。序列中可能存在相同的数字。游戏开始时有一个可重集 $S$ ，包含了序列的前 $p$ 个元素。两人现在开始了游戏，Alice 先手。每一步游戏：\n\n1. 玩家选择一个 $S$ 中的数并将其从 $S$ 中取出，然后将自己的分数加上这个取出的数的值（一开始两人的分数都为零）。\n2. 序列中的下一个数字（如果还有剩余）将会被添加到集合 $S$ 中（如果序列已经为空，则跳过此操作）。也就是说，从 $S$ 中取出第一个后，将序列的第 $p+1$ 个数字添加到集合中，在第二个之后，将序列的第 $p+2$ 个数字添加到集合中，以此类推。\n\n游戏进行直到 $S$ 为空为止。我们假设两个玩家都非常聪明（即总是使自己利益最大化）。游戏的结果为 Alice 的分数减去 Bob 的分数。\n\n现在，你的任务是写一个程序，计算 $k$ 个（给定序列相同的）游戏的结果。", "inputFormat": "第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_1,a_2,...,a_n$，描述游戏开始的序列。\n\n第三行，$k$ 个正整数 $p_1,p_2,...,p_k$，$p_i$ 表示第 $i$ 次游戏，有 $p=p_i$ 。", "outputFormat": "输出包含 $k$ 个正整数，一行一个。\n\n第 $i$ 个正整数表示第 $i$ 次游戏的结果。", "hint": "#### 样例 1 解释\n\n输入确定了你需要处理 $2$ 个游戏。这两个游戏中的序列是相同的，至是开始时的可重集 $S$ 不同。第一个游戏为 $\\{2, 4, 2, 3\\}$ ，第二个为 $\\{2,4,2\\}$ 。\n\n#### 数据规模与约定\n\n- 对于前 $10\\%$ 的数据，保证 $1\\le n\\le 10$。\n- 对于前 $30\\%$ 的数据，保证 $1\\le n\\le 600$。\n- 对于前 $50\\%$ 的数据，保证 $1\\le n\\le 10^4,1\\le k\\le 10^3$。\n- 对于所有数据，保证 $1\\le n\\le 10^5,1\\le k\\le 2\\times 10^3,k\\le n,a_i\\in[1,n],p_i\\in[1,n]$。\n\n#### 说明\n\n原题来自： [eJOI2017](www.ejoi.org) Problem F. [Game](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_2/EN/game_statement-en.pdf)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2017] 游戏", "background": "", "description": "Alice 和 Bob ~~又双叒叕~~ 在玩游戏。\n\n他们有一个由 $n$ 个 $\\le n$ 的正整数组成的序列。序列中的元素被从 $1$ 到 $n$ 标号。序列中可能存在相同的数字。游戏开始时有一个可重集 $S$ ，包含了序列的前 $p$ 个元素。两人现在开始了游戏，Alice 先手。每一步游戏：\n\n1. 玩家选择一个 $S$ 中的数并将其从 $S$ 中取出，然后将自己的分数加上这个取出的数的值（一开始两人的分数都为零）。\n2. 序列中的下一个数字（如果还有剩余）将会被添加到集合 $S$ 中（如果序列已经为空，则跳过此操作）。也就是说，从 $S$ 中取出第一个后，将序列的第 $p+1$ 个数字添加到集合中，在第二个之后，将序列的第 $p+2$ 个数字添加到集合中，以此类推。\n\n游戏进行直到 $S$ 为空为止。我们假设两个玩家都非常聪明（即总是使自己利益最大化）。游戏的结果为 Alice 的分数减去 Bob 的分数。\n\n现在，你的任务是写一个程序，计算 $k$ 个（给定序列相同的）游戏的结果。", "inputFormat": "第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_1,a_2,...,a_n$，描述游戏开始的序列。\n\n第三行，$k$ 个正整数 $p_1,p_2,...,p_k$，$p_i$ 表示第 $i$ 次游戏，有 $p=p_i$ 。", "outputFormat": "输出包含 $k$ 个正整数，一行一个。\n\n第 $i$ 个正整数表示第 $i$ 次游戏的结果。", "hint": "#### 样例 1 解释\n\n输入确定了你需要处理 $2$ 个游戏。这两个游戏中的序列是相同的，至是开始时的可重集 $S$ 不同。第一个游戏为 $\\{2, 4, 2, 3\\}$ ，第二个为 $\\{2,4,2\\}$ 。\n\n#### 数据规模与约定\n\n- 对于前 $10\\%$ 的数据，保证 $1\\le n\\le 10$。\n- 对于前 $30\\%$ 的数据，保证 $1\\le n\\le 600$。\n- 对于前 $50\\%$ 的数据，保证 $1\\le n\\le 10^4,1\\le k\\le 10^3$。\n- 对于所有数据，保证 $1\\le n\\le 10^5,1\\le k\\le 2\\times 10^3,k\\le n,a_i\\in[1,n],p_i\\in[1,n]$。\n\n#### 说明\n\n原题来自： [eJOI2017](www.ejoi.org) Problem F. [Game](http://ejoi.org/wp-content/themes/ejoi/assets/pdfs/tasks_day_2/EN/game_statement-en.pdf)", "locale": "zh-CN"}}}
{"pid": "P6295", "type": "P", "difficulty": 7, "samples": [["5", "1\n2\n18\n446\n26430"]], "limits": {"time": [1000, 1000], "memory": [128000, 128000]}, "tags": ["洛谷原创", "O2优化", "容斥原理"], "title": "有标号 DAG 计数", "background": "", "description": "对 $n$ 个点有标号的有向无环图进行计数，要求：弱连通图（所有的有向边替换为无向边后的图为连通图）。输出答案对 \n $998244353$ 取模的结果。", "inputFormat": "一个整数 $T$。", "outputFormat": "共 $T$ 行，第 $i(1\\le i\\le T)$ 行输出 $n=i$ 时的答案。", "hint": "第一个点 $T = 2000$。\n\n第二个点 $T = 100000$。", "locale": "zh-CN", "translations": {"en": {"title": "Counting Labeled DAGs", "background": "", "description": "Count the number of labeled directed acyclic graphs (DAGs) on $n$ vertices with the requirement that the graph is weakly connected (that is, after replacing all directed edges with undirected edges, the resulting graph is connected). Output the answer modulo $998244353$.", "inputFormat": "An integer $T$.", "outputFormat": "There are $T$ lines. On the $i$-th line $(1\\le i\\le T)$, output the answer when $n=i$.", "hint": "The first test point has $T = 2000$.\n\nThe second test point has $T = 100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "有标号 DAG 计数", "background": "", "description": "对 $n$ 个点有标号的有向无环图进行计数，要求：弱连通图（所有的有向边替换为无向边后的图为连通图）。输出答案对 \n $998244353$ 取模的结果。", "inputFormat": "一个整数 $T$。", "outputFormat": "共 $T$ 行，第 $i(1\\le i\\le T)$ 行输出 $n=i$ 时的答案。", "hint": "第一个点 $T = 2000$。\n\n第二个点 $T = 100000$。", "locale": "zh-CN"}}}
{"pid": "P6296", "type": "P", "difficulty": 7, "samples": [["2 2\n9 18", "45"], ["9 233333\n9 1 8 7 5 6 3 4 2", "100006329"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "递推", "生成函数", "快速傅里叶变换 FFT"], "title": "轮换式 加强版", "background": "[原题链接](https://www.luogu.com.cn/problem/P5084)\n\n本题与原题的区别，只有模数和数据范围不同。", "description": "小奔发现，对于任意的 $n$ 个字母，他们构成的轮换式，都表示成 $n$ 个基本轮换式的线性和。\n\n一元的基本轮换式：$a$；\n\n二元：$a+b$，$ab$；\n\n三元：$a+b+c$，$ab+ac+bc$，$abc$；\n\n四元：$a+b+c+d$，$ab+ac+ad+bc+bd+cd$，$abc+abd+bcd$，$abcd$；\n\n......\n\n已知 $n$ 个数的各个基本轮换式的值，求它们的 $m$ 次方和，答案对 $899678209$（$899678209 = 429 \\times 2^{21} + 1$）取模。", "inputFormat": "第一行两个正整数 $n,m$，意义如题目描述。  \n接下来一行 $n$ 个正整数，第 $i$ 个为 $a_i$，表示 $n$ 元 $i$ 次基本轮换式的值。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【样例一解释】  \n可以列出方程 $a+b = 9$，$ab = 18$，容易算出 $a^2+b^2 = 45$。\n\n【数据范围】  \n- 对于 $20\\%$ 的数据，$1\\le n \\le 1000$，$1\\le m \\le 10^4$；  \n- 对于 $60\\%$ 的数据，$1\\le n \\le 1000$，$1\\le m \\le 10^9$；  \n- 对于 $100\\%$ 的数据，$1\\le n \\le 3 \\times 10^4$，$1\\le m \\le 10^9$，$1\\le a_i \\le 10^8$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "轮换式 加强版", "background": "[原题链接](https://www.luogu.com.cn/problem/P5084)\n\n本题与原题的区别，只有模数和数据范围不同。", "description": "小奔发现，对于任意的 $n$ 个字母，他们构成的轮换式，都表示成 $n$ 个基本轮换式的线性和。\n\n一元的基本轮换式：$a$；\n\n二元：$a+b$，$ab$；\n\n三元：$a+b+c$，$ab+ac+bc$，$abc$；\n\n四元：$a+b+c+d$，$ab+ac+ad+bc+bd+cd$，$abc+abd+bcd$，$abcd$；\n\n......\n\n已知 $n$ 个数的各个基本轮换式的值，求它们的 $m$ 次方和，答案对 $899678209$（$899678209 = 429 \\times 2^{21} + 1$）取模。", "inputFormat": "第一行两个正整数 $n,m$，意义如题目描述。  \n接下来一行 $n$ 个正整数，第 $i$ 个为 $a_i$，表示 $n$ 元 $i$ 次基本轮换式的值。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【样例一解释】  \n可以列出方程 $a+b = 9$，$ab = 18$，容易算出 $a^2+b^2 = 45$。\n\n【数据范围】  \n- 对于 $20\\%$ 的数据，$1\\le n \\le 1000$，$1\\le m \\le 10^4$；  \n- 对于 $60\\%$ 的数据，$1\\le n \\le 1000$，$1\\le m \\le 10^9$；  \n- 对于 $100\\%$ 的数据，$1\\le n \\le 3 \\times 10^4$，$1\\le m \\le 10^9$，$1\\le a_i \\le 10^8$。\n", "locale": "zh-CN"}}}
{"pid": "P6297", "type": "P", "difficulty": 4, "samples": [["7 1\n1 2 4 2 3 3 4\n", "288\n"], ["6 1\n3 1 2 250000002 1 2\n", "1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "枚举"], "title": "替换", "background": null, "description": "Daniel13265 有一串由各种漂亮的贝壳组成的项链，但由于各种原因，这个项链不是环形的，而仅仅是用一根普通的丝线串起来的。项链上的每个贝壳都有一个好看程度 $a_i$，相同种类的贝壳有着相同的好看程度，而不同种类的贝壳有着不同的好看程度。\n\nDaniel13265 定义， 第 $l$ 个至第 $r$ 个这一段贝壳是对称的，当且仅当\n\n$$\\sum_{i=l}^r\\left(a_i-a_{l+r-i}\\right)^2=0$$\n\nDaniel13265 经常从中取出一段贝壳。如果这一段贝壳是对称的，他就会非常高兴；如果这一段贝壳不是对称的，那么他会将其中的某些贝壳替换成新的，以使得这一段贝壳成为对称的。一次替换可以任意地改变任何一个位置上贝壳的好看程度，但是过多的替换会使这一段贝壳脱离原本的模样，所以 Daniel13265 至多会进行 $k$ 次替换。如果一段贝壳在进行至多 $k$ 次替换后能够成为对称的，那么 Daniel13265 就称这一段贝壳是「可观赏的」。\n\nDaniel13265 简单地将第 $l$ 个至第 $r$ 个这一「可观赏的」的贝壳段的「观赏指数」定义为\n\n$$\\prod_{i=l}^ra_i$$\n\n其中 $a_i$ 表示第 $i$ 个贝壳**原本的好看程度**。\n\n他现在很好奇，在这个贝壳组成的项链中，「可观赏的」贝壳段中「观赏指数」的最大值。但是由于这个值可能很大，所以你只需要求出它对 $10^9+7$ 取模后的结果即可。", "inputFormat": "输入共 $2$ 行。\n\n第一行两个正整数 $n,k$，表示这个贝壳组成的项链中贝壳的数目与 Daniel13265 对一段贝壳最多进行替换的次数。  \n第二行 $n$ 个用单个空格隔开的正整数，第 $i$ 个数 $a_i$​ 表示项链上第 $i$ 个贝壳的好看程度。", "outputFormat": "输出一行一个非负整数，表示「可观赏的」贝壳段中「观赏指数」的最大值对 $10^9+7$ 取模后的结果。", "hint": "### 样例解释 #1\n\n「可观赏的」贝壳段有 $[1],[2],[3],[4],[1,2],[2,3],[2,4],[3,3],[3,4],[4,2],[1,2,4],[2,3,3],[2,4,2],[3,3,4],[4,2,3],[2,3,3,4],[4,2,3,3,4]$，其中「观赏指数」最大的贝壳段为 $[4,2,3,3,4]$。\n\n### 样例解释 #2\n\n「可观赏的」的贝壳段中「观赏指数」最大的为 $[2,250000002,1,2]$，其值为 $10^9+8$，对 $10^9+7$ 取模后结果为 $1$。\n\n### 数据范围\n\n**本题采用捆绑测试。你每通过一个子任务的所有数据点，就能得到该子任务的全部分数。**\n\n| 子任务编号 | $n\\le$ | $k\\le$ | 分值 |\n|:-:|:-:|:-:|:-:|\n| $1$ | $10$ | $10$ | $10$ |\n| $2$ | $100$ | $100$ | $20$ |\n| $3$ | $1000$ | $0$ | $20$ |\n| $4$ | $1000$ | $1000$ | $50$ |\n\n对于 $100\\%$ 的数据，满足 $1\\le n\\le1000$，$0\\le k\\le n$，$1\\le a_i<10^9+7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "替换", "background": null, "description": "Daniel13265 有一串由各种漂亮的贝壳组成的项链，但由于各种原因，这个项链不是环形的，而仅仅是用一根普通的丝线串起来的。项链上的每个贝壳都有一个好看程度 $a_i$，相同种类的贝壳有着相同的好看程度，而不同种类的贝壳有着不同的好看程度。\n\nDaniel13265 定义， 第 $l$ 个至第 $r$ 个这一段贝壳是对称的，当且仅当\n\n$$\\sum_{i=l}^r\\left(a_i-a_{l+r-i}\\right)^2=0$$\n\nDaniel13265 经常从中取出一段贝壳。如果这一段贝壳是对称的，他就会非常高兴；如果这一段贝壳不是对称的，那么他会将其中的某些贝壳替换成新的，以使得这一段贝壳成为对称的。一次替换可以任意地改变任何一个位置上贝壳的好看程度，但是过多的替换会使这一段贝壳脱离原本的模样，所以 Daniel13265 至多会进行 $k$ 次替换。如果一段贝壳在进行至多 $k$ 次替换后能够成为对称的，那么 Daniel13265 就称这一段贝壳是「可观赏的」。\n\nDaniel13265 简单地将第 $l$ 个至第 $r$ 个这一「可观赏的」的贝壳段的「观赏指数」定义为\n\n$$\\prod_{i=l}^ra_i$$\n\n其中 $a_i$ 表示第 $i$ 个贝壳**原本的好看程度**。\n\n他现在很好奇，在这个贝壳组成的项链中，「可观赏的」贝壳段中「观赏指数」的最大值。但是由于这个值可能很大，所以你只需要求出它对 $10^9+7$ 取模后的结果即可。", "inputFormat": "输入共 $2$ 行。\n\n第一行两个正整数 $n,k$，表示这个贝壳组成的项链中贝壳的数目与 Daniel13265 对一段贝壳最多进行替换的次数。  \n第二行 $n$ 个用单个空格隔开的正整数，第 $i$ 个数 $a_i$​ 表示项链上第 $i$ 个贝壳的好看程度。", "outputFormat": "输出一行一个非负整数，表示「可观赏的」贝壳段中「观赏指数」的最大值对 $10^9+7$ 取模后的结果。", "hint": "### 样例解释 #1\n\n「可观赏的」贝壳段有 $[1],[2],[3],[4],[1,2],[2,3],[2,4],[3,3],[3,4],[4,2],[1,2,4],[2,3,3],[2,4,2],[3,3,4],[4,2,3],[2,3,3,4],[4,2,3,3,4]$，其中「观赏指数」最大的贝壳段为 $[4,2,3,3,4]$。\n\n### 样例解释 #2\n\n「可观赏的」的贝壳段中「观赏指数」最大的为 $[2,250000002,1,2]$，其值为 $10^9+8$，对 $10^9+7$ 取模后结果为 $1$。\n\n### 数据范围\n\n**本题采用捆绑测试。你每通过一个子任务的所有数据点，就能得到该子任务的全部分数。**\n\n| 子任务编号 | $n\\le$ | $k\\le$ | 分值 |\n|:-:|:-:|:-:|:-:|\n| $1$ | $10$ | $10$ | $10$ |\n| $2$ | $100$ | $100$ | $20$ |\n| $3$ | $1000$ | $0$ | $20$ |\n| $4$ | $1000$ | $1000$ | $50$ |\n\n对于 $100\\%$ 的数据，满足 $1\\le n\\le1000$，$0\\le k\\le n$，$1\\le a_i<10^9+7$。", "locale": "zh-CN"}}}
{"pid": "P6298", "type": "P", "difficulty": 4, "samples": [["5 6 2\n1 2 3 4 6\n", "6 3 1 0 0 0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2020", "容斥原理"], "title": "齿轮", "background": "", "description": "Daniel13265 从不知哪里找来了 $n$ 个齿轮，第 $i$ 个齿轮的齿数为不超过 $m$ 的正整数 $a_i$。他现在想把其中 $k$ 个齿轮按照一定的方式拼接在一起。\n\n当齿轮使用一段时间后，就会产生损耗。一个齿轮组的损耗速率是由这个齿轮组的所有齿轮齿数的最大公约数决定的：最大公约数越大，相同的齿之间啮合的频率就会增高，从而损耗的速率就会变快。这个最大公约数又被称为损耗因子。\n\n算出一个齿轮组的损耗因子是很容易的。可是现在 Daniel13265 想要知道，对于可能拼接出的所有齿轮组的损耗因子。\n\nDaniel13265 知道拼接出损耗因子大于 $m$ 的齿轮组是不可能的，而且由于可能拼出的齿轮组的个数很多，你只需要反过来告诉他对于所有的 $t\\in[1, m]$，能够拼接出的损耗因子为 $t$ 的齿轮组的个数对 $10^9+7$ 取模后的结果即可。", "inputFormat": "输入共 $2$ 行。\n  \n第一行包含三个正整数 $n,m,k$，分别表示 Daniel13265 拥有的齿轮个数，齿轮齿数的最大可能值与 Daniel13265 期望的齿轮组的齿轮个数。  \n第二行共 $n$ 个用单个空格隔开的正整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个齿轮的齿数。", "outputFormat": "输出一行 $m$ 个整数，第 $t$ 个数表示能够拼接出的损耗因子为 $t$ 的齿轮组的个数对 $10^9+7$ 取模后的结果。", "hint": "### 样例解释\n\n损耗因子为 $1$ 的齿轮组有 $(1,2),(1,3),(1,4),(1,6),(2,3),(3,4)$ 共 $6$ 个；  \n损耗因子为 $2$ 的齿轮组有 $(2,4),(2,6),(4,6)$ 共 $3$ 个；  \n损耗因子为 $3$ 的齿轮组有 $(3,6)$ 共 $1$ 个。\n\n### 数据范围\n\n**本题采用捆绑测试。你每通过一个子任务的所有数据点，就能得到该子任务的全部分数。**\n\n| 子任务编号 | $n\\le$ | $m\\le$ | $k\\le$ | 分值 |\n|:-:|:-:|:-:|:-:|:-:|\n| $1$ | $10$ | $10^6$ | $10$ | $10$ |\n| $2$ | $10^3$ | $10^3$ | $10^3$ | $20$ |\n| $3$ | $10^6$ | $10^3$ | $2$ | $5$ |\n| $4$ | $10^6$ | $10^6$ | $1$ | $5$ |\n| $5$ | $10^6$ | $10^6$ | $2$ | $20$ |\n| $6$ | $10^6$ | $10^6$ | $10^6$ | $40$ |\n\n对于 $100\\%$ 的数据，满足 $1\\le k\\le n\\le10^6$，$1\\le a_i\\le m\\le10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "齿轮", "background": "", "description": "Daniel13265 从不知哪里找来了 $n$ 个齿轮，第 $i$ 个齿轮的齿数为不超过 $m$ 的正整数 $a_i$。他现在想把其中 $k$ 个齿轮按照一定的方式拼接在一起。\n\n当齿轮使用一段时间后，就会产生损耗。一个齿轮组的损耗速率是由这个齿轮组的所有齿轮齿数的最大公约数决定的：最大公约数越大，相同的齿之间啮合的频率就会增高，从而损耗的速率就会变快。这个最大公约数又被称为损耗因子。\n\n算出一个齿轮组的损耗因子是很容易的。可是现在 Daniel13265 想要知道，对于可能拼接出的所有齿轮组的损耗因子。\n\nDaniel13265 知道拼接出损耗因子大于 $m$ 的齿轮组是不可能的，而且由于可能拼出的齿轮组的个数很多，你只需要反过来告诉他对于所有的 $t\\in[1, m]$，能够拼接出的损耗因子为 $t$ 的齿轮组的个数对 $10^9+7$ 取模后的结果即可。", "inputFormat": "输入共 $2$ 行。\n  \n第一行包含三个正整数 $n,m,k$，分别表示 Daniel13265 拥有的齿轮个数，齿轮齿数的最大可能值与 Daniel13265 期望的齿轮组的齿轮个数。  \n第二行共 $n$ 个用单个空格隔开的正整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个齿轮的齿数。", "outputFormat": "输出一行 $m$ 个整数，第 $t$ 个数表示能够拼接出的损耗因子为 $t$ 的齿轮组的个数对 $10^9+7$ 取模后的结果。", "hint": "### 样例解释\n\n损耗因子为 $1$ 的齿轮组有 $(1,2),(1,3),(1,4),(1,6),(2,3),(3,4)$ 共 $6$ 个；  \n损耗因子为 $2$ 的齿轮组有 $(2,4),(2,6),(4,6)$ 共 $3$ 个；  \n损耗因子为 $3$ 的齿轮组有 $(3,6)$ 共 $1$ 个。\n\n### 数据范围\n\n**本题采用捆绑测试。你每通过一个子任务的所有数据点，就能得到该子任务的全部分数。**\n\n| 子任务编号 | $n\\le$ | $m\\le$ | $k\\le$ | 分值 |\n|:-:|:-:|:-:|:-:|:-:|\n| $1$ | $10$ | $10^6$ | $10$ | $10$ |\n| $2$ | $10^3$ | $10^3$ | $10^3$ | $20$ |\n| $3$ | $10^6$ | $10^3$ | $2$ | $5$ |\n| $4$ | $10^6$ | $10^6$ | $1$ | $5$ |\n| $5$ | $10^6$ | $10^6$ | $2$ | $20$ |\n| $6$ | $10^6$ | $10^6$ | $10^6$ | $40$ |\n\n对于 $100\\%$ 的数据，满足 $1\\le k\\le n\\le10^6$，$1\\le a_i\\le m\\le10^6$。", "locale": "zh-CN"}}}
{"pid": "P6299", "type": "P", "difficulty": 6, "samples": [["1 9 2 6\n", "2 1 -3 1 2\n"], ["19674937 18722417 163948077 124500851\n", "146134 -61558 -18260 -10209 221162\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2020", "Special Judge", "扩展欧几里德算法", "构造"], "title": "差别", "background": "", "description": "定义整数 $p,q,r,s$ 与给定的整数 $a,b,c,d$ 的差别度\n\n$$M=\\Big|\\left(a^2+b^2\\right)\\left(p^2+q^2\\right)+\\left(c^2+d^2\\right)\\left(r^2+s^2\\right)+2\\big(ac+bd\\big)\\big(pr-qs\\big)+2\\big(bc-ad\\big)\\big(ps+qr\\big)\\Big|$$\n\n你的任务是求出差别度 $M$ 的非零最小值与取到非零最小值时的一组 $p,q,r,s$。保证差别度 $M$ 的非零最小值存在且小于 $2^{63}$，保证存在一组绝对值都小于 $2^{63}$ 的 $p,q,r,s$ 使得 $M$ 取到非零最小值。", "inputFormat": "输入一行四个整数 $a,b,c,d$，意义如题面所述。", "outputFormat": "输出一行五个整数 $p,q,r,s,M$，表示使差别度 $M$ 取到非零最小值时的一组 $p,q,r,s$ 与此时 $M$ 的值。", "hint": "### 样例解释 #1\n\n显然当 $a=1,b=9,c=2,d=6$ 时，差别度 $M$ 一定为偶数，因此 $M$ 不可能取到小与 $2$ 的非零值。\n\n### 数据范围\n\n| 测试点编号 | 特殊性质 |\n|:-:|:-:|\n| $1$ | $c=d=0$ |\n| $2$ | $a=c=0$ |\n| $3$ | $b=d=0$ |\n| $4$ | $ad=bc$ |\n| $5$ | $\\vert a\\vert,\\vert b\\vert,\\vert c\\vert,\\vert d\\vert\\le10$ |\n| $6\\sim10$ | 无 |\n\n对于 $100\\%$ 的数据，满足 $\\vert a\\vert,\\vert b\\vert,\\vert c\\vert,\\vert d\\vert\\le10^9$。\n\n### 评分方式\n\n**你需要保证每个测试点输出的数的个数为** $5$ **个且** $\\vert p\\vert,\\vert q\\vert,\\vert r\\vert,\\vert s\\vert,\\vert M\\vert<2^{63}$**，以避免出现无法预期的错误。**\n\n对于每个测试点，如果你的 $M$ 与标准输出一致，就能得到 $4$ 分；如果你输出的 $p,q,r,s$ 能使计算结果等于 $M$，就能再获得 $6$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "差别", "background": "", "description": "定义整数 $p,q,r,s$ 与给定的整数 $a,b,c,d$ 的差别度\n\n$$M=\\Big|\\left(a^2+b^2\\right)\\left(p^2+q^2\\right)+\\left(c^2+d^2\\right)\\left(r^2+s^2\\right)+2\\big(ac+bd\\big)\\big(pr-qs\\big)+2\\big(bc-ad\\big)\\big(ps+qr\\big)\\Big|$$\n\n你的任务是求出差别度 $M$ 的非零最小值与取到非零最小值时的一组 $p,q,r,s$。保证差别度 $M$ 的非零最小值存在且小于 $2^{63}$，保证存在一组绝对值都小于 $2^{63}$ 的 $p,q,r,s$ 使得 $M$ 取到非零最小值。", "inputFormat": "输入一行四个整数 $a,b,c,d$，意义如题面所述。", "outputFormat": "输出一行五个整数 $p,q,r,s,M$，表示使差别度 $M$ 取到非零最小值时的一组 $p,q,r,s$ 与此时 $M$ 的值。", "hint": "### 样例解释 #1\n\n显然当 $a=1,b=9,c=2,d=6$ 时，差别度 $M$ 一定为偶数，因此 $M$ 不可能取到小与 $2$ 的非零值。\n\n### 数据范围\n\n| 测试点编号 | 特殊性质 |\n|:-:|:-:|\n| $1$ | $c=d=0$ |\n| $2$ | $a=c=0$ |\n| $3$ | $b=d=0$ |\n| $4$ | $ad=bc$ |\n| $5$ | $\\vert a\\vert,\\vert b\\vert,\\vert c\\vert,\\vert d\\vert\\le10$ |\n| $6\\sim10$ | 无 |\n\n对于 $100\\%$ 的数据，满足 $\\vert a\\vert,\\vert b\\vert,\\vert c\\vert,\\vert d\\vert\\le10^9$。\n\n### 评分方式\n\n**你需要保证每个测试点输出的数的个数为** $5$ **个且** $\\vert p\\vert,\\vert q\\vert,\\vert r\\vert,\\vert s\\vert,\\vert M\\vert<2^{63}$**，以避免出现无法预期的错误。**\n\n对于每个测试点，如果你的 $M$ 与标准输出一致，就能得到 $4$ 分；如果你输出的 $p,q,r,s$ 能使计算结果等于 $M$，就能再获得 $6$ 分。", "locale": "zh-CN"}}}
