{"pid": "P7971", "type": "P", "difficulty": 5, "samples": [["1\n5 10000\n\n2\n\n1\n\n2\n ", " \n\n? 1 5\n\n? 1 3\n\n? 2 4\n\n! 1 1 1 2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["二分", "2021", "交互题", "Special Judge"], "title": "[KSN2021] Colouring Balls", "background": "", "description": "**这是一道交互题。**\n\n有 $N$ 个小球，从 $1$ 到 $N$ 编号。\n\n你每次可以询问编号在 $[l,r]$ 之间的小球有几种不同的颜色，你需要求出每个小球的颜色。由于你并不知道具体颜色是什么，你只要将同种颜色用同一个数字表示即可。\n\n## 交互格式\n\n第一行输入一个正整数 $T$，**代表 Subtask 编号（而不是测试数据组数）**。\n\n第二行输入两个整数 $N,Q$，代表小球数量和询问次数限制。\n\n接下来你可以提出不超过 $Q$ 个询问并读取交互库返回的答案，每个询问的格式为 ``? l r``，代表你询问 $[l,r]$ 中小球颜色的数量。\n\n当你确认所有小球的颜色后，你需要输出 ``! a1 a2 ... an`` 代表所有小球的颜色。你需要保证：\n\n* $1\\leq a_i\\leq N$ 且 $a_i$ 均为整数。\n* 相同颜色的小球的 $a_i$ 相同。\n* 不同颜色的小球的 $a_i$ 不同。\n\n你的每次输出后都需要刷新缓冲区，你可以使用如下语句来清空缓冲区：\n\n- 对于 C/C++：`fflush(stdout)`；\n- 对于 C++：`std::cout << std::flush`；\n- 对于 Java：`System.out.flush()`；\n- 对于 Python：`stdout.flush()`；\n- 对于 Pascal：`flush(output)`；\n- 对于其他语言，请自行查阅对应语言的帮助文档。", "inputFormat": "见“交互格式”。", "outputFormat": "见“交互格式”。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n* Subtask 1（8 points）：$Q=10000$, 保证每种颜色的球的编号连续。\n* Subtask 2（7 points）：$Q=2000$，保证每种颜色的球的编号连续。\n* Subtask 3（19 points）：$Q=2000$，保证球只有至多 $3$ 种颜色。\n* Subtask 4（14 points）：$Q=2000$，保证球只有至多 $4$ 种颜色。\n* Subtask 5（12 points）：$Q=2000$，保证球有至少 $(N-1)$ 种颜色。\n* Subtask 6（21 points）：$Q=10000$，保证 $N\\le 100$。\n* Subtask 7（19 points）：$Q=10000$。\n\n对于所有数据，保证 $1\\leq T\\leq 7$，$2\\leq N\\leq 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[KSN2021] Colouring Balls", "background": "", "description": "**这是一道交互题。**\n\n有 $N$ 个小球，从 $1$ 到 $N$ 编号。\n\n你每次可以询问编号在 $[l,r]$ 之间的小球有几种不同的颜色，你需要求出每个小球的颜色。由于你并不知道具体颜色是什么，你只要将同种颜色用同一个数字表示即可。\n\n## 交互格式\n\n第一行输入一个正整数 $T$，**代表 Subtask 编号（而不是测试数据组数）**。\n\n第二行输入两个整数 $N,Q$，代表小球数量和询问次数限制。\n\n接下来你可以提出不超过 $Q$ 个询问并读取交互库返回的答案，每个询问的格式为 ``? l r``，代表你询问 $[l,r]$ 中小球颜色的数量。\n\n当你确认所有小球的颜色后，你需要输出 ``! a1 a2 ... an`` 代表所有小球的颜色。你需要保证：\n\n* $1\\leq a_i\\leq N$ 且 $a_i$ 均为整数。\n* 相同颜色的小球的 $a_i$ 相同。\n* 不同颜色的小球的 $a_i$ 不同。\n\n你的每次输出后都需要刷新缓冲区，你可以使用如下语句来清空缓冲区：\n\n- 对于 C/C++：`fflush(stdout)`；\n- 对于 C++：`std::cout << std::flush`；\n- 对于 Java：`System.out.flush()`；\n- 对于 Python：`stdout.flush()`；\n- 对于 Pascal：`flush(output)`；\n- 对于其他语言，请自行查阅对应语言的帮助文档。", "inputFormat": "见“交互格式”。", "outputFormat": "见“交互格式”。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n* Subtask 1（8 points）：$Q=10000$, 保证每种颜色的球的编号连续。\n* Subtask 2（7 points）：$Q=2000$，保证每种颜色的球的编号连续。\n* Subtask 3（19 points）：$Q=2000$，保证球只有至多 $3$ 种颜色。\n* Subtask 4（14 points）：$Q=2000$，保证球只有至多 $4$ 种颜色。\n* Subtask 5（12 points）：$Q=2000$，保证球有至少 $(N-1)$ 种颜色。\n* Subtask 6（21 points）：$Q=10000$，保证 $N\\le 100$。\n* Subtask 7（19 points）：$Q=10000$。\n\n对于所有数据，保证 $1\\leq T\\leq 7$，$2\\leq N\\leq 10^3$。", "locale": "zh-CN"}}}
{"pid": "P7972", "type": "P", "difficulty": 4, "samples": [["3\n2 3 1", "3"], ["4\n2 1 4 3", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "树状数组", "2021", "笛卡尔树", "单调栈"], "title": "[KSN2021] Self Permutation", "background": "", "description": "给定一个长度为 $N$ 的排列 $a_i$，你可以执行若干次操作：\n\n* 选择两个相邻的数，删除它们中较大的那个。\n\n问最后可能得到序列的数量，答案对 $10^9+7$ 取模。\n\n注意如果两个数中间所有的数被删除了，它们会变成相邻的。", "inputFormat": "第一行输入一个正整数 $N$。\n\n第二行输入 $N$ 个正整数 $a_i$。", "outputFormat": "输出一个整数代表答案。", "hint": "**【样例解释】**\n\n对于第一组样例，以下为所有可能得到的序列：\n\n- $[2,3,1]$\n- $[\\bold2,\\bold3,1]\\to[2,1]$\n- $[\\bold2,\\bold3,1]→[\\bold2,\\bold1]→[1]$\n\n对于第二组样例，以下为所有可能得到的序列：\n\n- $[2,1,4,3]$\n- $[\\bold2,\\bold1, 4, 3]\\to[1, 4, 3]$\n- $[\\bold2,\\bold1, 4, 3]\\to[1,\\bold4,\\bold3]\\to[1, 3]$\n- $[\\bold2,\\bold1, 4, 3]\\to[1,\\bold4,\\bold3]\\to[\\bold1,\\bold3]\\to[1]$\n- $[2, 1,\\bold4,\\bold3]\\to[2, 1, 3]$\n- $[2, 1,\\bold4,\\bold3]\\to[2,\\bold1,\\bold3]\\to[2, 1]$\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（8 points）：只存在一组数据，满足 $N=6$，$A=[2,5,1,3,4,6]$。\n- Subtask 2（20 points）：$N\\leq 200$。\n- Subtask 3（13 points）：$N\\leq 2000$，$A_i=i$。\n- Subtask 4（9 points）：$A_i=i$。\n- Subtask 5（23 points）：$N\\leq 2000$。\n- Subtask 6（27 points）：无特殊限制。\n\n对于所有数据，$N\\leq 3\\times 10^5$，保证输入的 $a_i$ 能构成一个排列。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[KSN2021] Self Permutation", "background": "", "description": "给定一个长度为 $N$ 的排列 $a_i$，你可以执行若干次操作：\n\n* 选择两个相邻的数，删除它们中较大的那个。\n\n问最后可能得到序列的数量，答案对 $10^9+7$ 取模。\n\n注意如果两个数中间所有的数被删除了，它们会变成相邻的。", "inputFormat": "第一行输入一个正整数 $N$。\n\n第二行输入 $N$ 个正整数 $a_i$。", "outputFormat": "输出一个整数代表答案。", "hint": "**【样例解释】**\n\n对于第一组样例，以下为所有可能得到的序列：\n\n- $[2,3,1]$\n- $[\\bold2,\\bold3,1]\\to[2,1]$\n- $[\\bold2,\\bold3,1]→[\\bold2,\\bold1]→[1]$\n\n对于第二组样例，以下为所有可能得到的序列：\n\n- $[2,1,4,3]$\n- $[\\bold2,\\bold1, 4, 3]\\to[1, 4, 3]$\n- $[\\bold2,\\bold1, 4, 3]\\to[1,\\bold4,\\bold3]\\to[1, 3]$\n- $[\\bold2,\\bold1, 4, 3]\\to[1,\\bold4,\\bold3]\\to[\\bold1,\\bold3]\\to[1]$\n- $[2, 1,\\bold4,\\bold3]\\to[2, 1, 3]$\n- $[2, 1,\\bold4,\\bold3]\\to[2,\\bold1,\\bold3]\\to[2, 1]$\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（8 points）：只存在一组数据，满足 $N=6$，$A=[2,5,1,3,4,6]$。\n- Subtask 2（20 points）：$N\\leq 200$。\n- Subtask 3（13 points）：$N\\leq 2000$，$A_i=i$。\n- Subtask 4（9 points）：$A_i=i$。\n- Subtask 5（23 points）：$N\\leq 2000$。\n- Subtask 6（27 points）：无特殊限制。\n\n对于所有数据，$N\\leq 3\\times 10^5$，保证输入的 $a_i$ 能构成一个排列。", "locale": "zh-CN"}}}
{"pid": "P7973", "type": "P", "difficulty": 4, "samples": [["3\n2 1 1\n20 30 10", "60\n60\n60"], ["4\n5 4 4 5\n10 20 30 40", "10\n20\n30\n40"], ["5\n1 2 1 7 11\n20 10 30 100 100", "60\n60\n60\n200\n200"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["并查集", "2021", "位运算"], "title": "[KSN2021] Binary Land", "background": "", "description": "给定一张 $N$ 个点的图，每个点有权值 $A_i$ 和价值 $B_i$。\n\n两个点 $x,y$ 之间存在一条无向边当且仅当 $A_x\\text{ xor }A_y>\\max(A_x,A_y)$。\n\n你需要对于 $i=1,2,\\cdots n$ 依次求出点 $i$ 所在连通块中所有点的价值和。", "inputFormat": "第一行输入一个正整数 $N$。\n\n第二行输入 $N$ 个正整数 $A_i$。\n\n第三行输入 $N$ 个正整数 $B_i$。", "outputFormat": "输出 $N$ 行，第 $i$ 行包含一个整数，代表点 $i$ 所在连通块中所有点的价值和。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（8 points）：只存在一组数据，满足 $N=8$，$A=[6,39,11,63,3,39,1,43]$，$B=[4,8,3,7,9,1,2,2]$。\n- Subtask 2（13 points）：保证 $N \\leq 200$。\n- Subtask 3（10 points）：保证 $N \\leq 2000$。\n- Subtask 4（4 points）：保证 $A_1=A_2=\\cdots=A_n$。\n- Subtask 5（7 points）：保证存在非负整数 $k$ 使得 $A_i=2^k$。\n- Subtask 6（19 points）：$A_i\\leq 2^{12}-1$。\n- Subtask 7（39 points）：无特殊限制。\n\n对于所有数据，$1 \\leq N \\leq 10^5$，$1 \\leq A_i \\leq 2^{30}-1$，$1 \\leq B_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[KSN2021] Binary Land", "background": "", "description": "给定一张 $N$ 个点的图，每个点有权值 $A_i$ 和价值 $B_i$。\n\n两个点 $x,y$ 之间存在一条无向边当且仅当 $A_x\\text{ xor }A_y>\\max(A_x,A_y)$。\n\n你需要对于 $i=1,2,\\cdots n$ 依次求出点 $i$ 所在连通块中所有点的价值和。", "inputFormat": "第一行输入一个正整数 $N$。\n\n第二行输入 $N$ 个正整数 $A_i$。\n\n第三行输入 $N$ 个正整数 $B_i$。", "outputFormat": "输出 $N$ 行，第 $i$ 行包含一个整数，代表点 $i$ 所在连通块中所有点的价值和。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（8 points）：只存在一组数据，满足 $N=8$，$A=[6,39,11,63,3,39,1,43]$，$B=[4,8,3,7,9,1,2,2]$。\n- Subtask 2（13 points）：保证 $N \\leq 200$。\n- Subtask 3（10 points）：保证 $N \\leq 2000$。\n- Subtask 4（4 points）：保证 $A_1=A_2=\\cdots=A_n$。\n- Subtask 5（7 points）：保证存在非负整数 $k$ 使得 $A_i=2^k$。\n- Subtask 6（19 points）：$A_i\\leq 2^{12}-1$。\n- Subtask 7（39 points）：无特殊限制。\n\n对于所有数据，$1 \\leq N \\leq 10^5$，$1 \\leq A_i \\leq 2^{30}-1$，$1 \\leq B_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P7974", "type": "P", "difficulty": 5, "samples": [["4\n9 1 8 2\n2\n1 3\n4 2", "3\n31"], ["9\n1 2 3 2 1 2 3 2 1\n4\n1 9\n4 6\n2 6\n5 2", "18\n4\n9\n9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2021", "ST 表"], "title": "[KSN2021] Delivering Balls", "background": null, "description": "给定一个长度为 $N$ 的序列 $H$ 和 $Q$ 次询问。\n\n第 $i$ 次询问中，你初始在第 $S_i$ 列 $H_{S_i}$ 行，想要到第 $T_i$ 列第 $H_{T_i}$ 行。\n\n你可以进行若干次移动。每次移动你可以选择以下两种参数：\n\n* 列 $-1$，列不变，列 $+1$。\n* 行 $-1$，行不变，行 $+1$。\n\n如果你选择行 $-1$，消耗 $1$ 体力，如果你选择行不变，消耗 $2$ 体力，如果你选择行 $+1$，消耗 $4$ 体力。\n\n你需要保证每次移动后，你的列数 $x$ 在 $[1,N]$ 之间，且你的行数 $y$ 不小于 $H_x$。\n\n对于每个询问，你需要求出你消耗体力的最小值。", "inputFormat": "第一行输入一个正整数 $N$。\n\n第二行输入 $N$ 个正整数 $H_i$。\n\n第三行输入一个正整数 $Q$。\n\n接下来 $Q$ 行，每行输入两个正整数 $S_i,T_i$。", "outputFormat": "对于每个询问，输出一行，包含一个整数，代表消耗体力的最小值。", "hint": "**【样例解释】**\n\n以下为第一个样例中两个询问的图示：\n\n\n![](https://cdn.vjudge.net.cn/5b94c3b10f33f3cee49fc184a4504596)\n![](https://cdn.vjudge.net.cn/acf17c861d64450f7566cdb59ea9f57b)\n\n**【数据范围】**\n\n- Subtask 1（7 points）：只存在一组数据，满足 $N=8$，$Q=4$，$H=[,9,3,3,5,4,8,2]$，$(S_i,T_i)$ 依次为 $(1,8)$，$(3,6)$，$(6,4)$ 和 $(7,2)$。\n- Subtask 2（5 points）：$S_i+1=T_i$。\n- Subtask 3（6 points）：$H_i=i$。\n- Subtask 4（18 points）：$N,Q,H_i\\leq 100$。\n- Subtask 5（24 points）：$N,Q\\leq 1000$。\n- Subtask 6（13 points）：$S_i=1$。\n- Subtask 7（27 points）：无特殊限制。\n\n对于所有数据，$2\\leq N\\leq 2\\times 10^5$，$H_i\\leq 10^9$，$Q\\leq 2\\times 10^5$，$1\\leq S_i,T_i\\leq N$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[KSN2021] Delivering Balls", "background": null, "description": "给定一个长度为 $N$ 的序列 $H$ 和 $Q$ 次询问。\n\n第 $i$ 次询问中，你初始在第 $S_i$ 列 $H_{S_i}$ 行，想要到第 $T_i$ 列第 $H_{T_i}$ 行。\n\n你可以进行若干次移动。每次移动你可以选择以下两种参数：\n\n* 列 $-1$，列不变，列 $+1$。\n* 行 $-1$，行不变，行 $+1$。\n\n如果你选择行 $-1$，消耗 $1$ 体力，如果你选择行不变，消耗 $2$ 体力，如果你选择行 $+1$，消耗 $4$ 体力。\n\n你需要保证每次移动后，你的列数 $x$ 在 $[1,N]$ 之间，且你的行数 $y$ 不小于 $H_x$。\n\n对于每个询问，你需要求出你消耗体力的最小值。", "inputFormat": "第一行输入一个正整数 $N$。\n\n第二行输入 $N$ 个正整数 $H_i$。\n\n第三行输入一个正整数 $Q$。\n\n接下来 $Q$ 行，每行输入两个正整数 $S_i,T_i$。", "outputFormat": "对于每个询问，输出一行，包含一个整数，代表消耗体力的最小值。", "hint": "**【样例解释】**\n\n以下为第一个样例中两个询问的图示：\n\n\n![](https://cdn.vjudge.net.cn/5b94c3b10f33f3cee49fc184a4504596)\n![](https://cdn.vjudge.net.cn/acf17c861d64450f7566cdb59ea9f57b)\n\n**【数据范围】**\n\n- Subtask 1（7 points）：只存在一组数据，满足 $N=8$，$Q=4$，$H=[,9,3,3,5,4,8,2]$，$(S_i,T_i)$ 依次为 $(1,8)$，$(3,6)$，$(6,4)$ 和 $(7,2)$。\n- Subtask 2（5 points）：$S_i+1=T_i$。\n- Subtask 3（6 points）：$H_i=i$。\n- Subtask 4（18 points）：$N,Q,H_i\\leq 100$。\n- Subtask 5（24 points）：$N,Q\\leq 1000$。\n- Subtask 6（13 points）：$S_i=1$。\n- Subtask 7（27 points）：无特殊限制。\n\n对于所有数据，$2\\leq N\\leq 2\\times 10^5$，$H_i\\leq 10^9$，$Q\\leq 2\\times 10^5$，$1\\leq S_i,T_i\\leq N$。", "locale": "zh-CN"}}}
{"pid": "P7975", "type": "P", "difficulty": 3, "samples": [["3 3\n1 1 1\n1 1 1\n1 1 1\n1 1 1 1 1 1 1 1 1\n", "1 2 3\n4 6 7\n5 8 9\n"], ["3 3\n1 2 3\n2 2 1\n3 1 3\n1 3 3 2 1 2 2 3 1\n", "1 4 2\n6 7 5\n3 9 8\n"], ["10 10\n4 9 3 9 3 6 4 8 7 7 \n7 5 3 8 7 10 10 8 7 10 \n10 9 3 10 3 3 3 2 3 8 \n9 6 3 1 10 10 3 4 2 6 \n10 5 9 9 5 7 7 6 2 7 \n1 1 6 3 2 10 10 7 6 7 \n1 7 10 7 3 10 3 9 10 9 \n1 5 1 2 2 4 4 9 10 8 \n6 3 7 1 5 8 10 4 10 7 \n5 4 8 3 3 9 2 6 8 2 \n6 6 6 1 10 8 5 5 4 2 1 5 5 9 4 3 4 6 3 5 9 7 4 8 9 3 5 9 1 7 4 1 1 2 2 6 7 10 6 2 6 6 1 8 4 7 7 10 3 1 9 8 10 9 4 7 9 10 2 3 3 3 2 7 2 9 7 7 3 8 8 9 3 2 10 9 10 7 8 10 8 3 7 7 3 3 7 3 7 3 3 10 3 10 10 10 10 10 10 10 \n", "9 14 16 28 49 1 15 24 37 46\n22 12 26 79 84 94 92 70 56 53\n5 21 61 80 85 93 91 63 62 6\n25 18 60 50 58 95 90 23 34 3\n38 13 51 54 20 87 89 39 59 64\n29 32 36 69 74 97 96 78 42 67\n11 30 48 68 86 98 88 76 77 72\n4 8 33 40 35 31 45 57 99 81\n2 19 47 43 27 71 75 55 100 83\n7 17 52 73 82 66 65 41 44 10\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "O2优化"], "title": "「Stoi2033」分裂", "background": "> 趁时间没发觉 让我带着你离开  \n> 没有了证明 没有了空虚  \n> 基于两种立场我会罩着你  \n> 趁时间没发觉 让我带着你离开  \n> 这不是顽固 这不是逃避  \n> 没人绑着你走才快乐  \n> ——《分裂》", "description": "有一个 $n \\times m \\times 2$ 的棋盒（四周为棋盒壁）与黑、红各 $nm$ 颗棋。棋子有若干种类，红色的一种棋子个数和黑色的该种棋子个数相等。棋子种类用特征值 $v_{i,j}$ 标记。特征值相同的棋子种类相同，特征值不同的棋子种类不同。红色棋子摆放在棋盒的下层，已经摆好。现在 Vinsta 要将黑棋按照规定顺序摆放在棋盒上层。设棋盒内坐标以左上角为 $(1,1)$，右下角为 $(n,m)$，依此第 $i$ 行第 $j$ 列为 $(i,j)$，则每颗摆进去的黑棋必须摆在满足以下要求的位置：\n\n1. 其摆放位置没有黑棋子且下方为与其种类相同的红棋；\n\n2. 在 1. 的要求下，若有多个，令一个位置的 **紧密度** 为其四边有黑棋子相邻或为棋盒壁的个数，则选择 **紧密度** 最大的一个；\n\n3. 在 2. 的要求下，若还有多个，则设此位置的坐标为 $(i,j)$，要求 $i+j$ 最小；\n\n4. 在 3. 的要求下，若还有多个，要求 $i$ 最小。\n\n给出红棋的摆放情况和黑棋放入的顺序，她想请你帮忙求出每个位置的黑棋子被放入的顺序。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行 $m$ 列，第 $i$ 行第 $j$ 列表示 $v_{i,j}$。\n\n接下来一行 $nm$ 个整数，表示按顺序每次放入的棋子的种类。", "outputFormat": "输出 $n$ 行 $m$ 列，每个位置上的数 $k_{i,j}$ 表示 $(i,j)$ 上的棋是第 $k_{i,j}$ 个被放进去的。", "hint": "对于 $30\\%$ 的数据，$1 \\le n,m \\le 70$；\n\n对于另外 $30\\%$ 的数据，$v_{i,j}=1$；\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 10^3, 1 \\le v_{i,j} \\le 10$，保证每种棋子黑色与红色数量相等。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Stoi2033」分裂", "background": "> 趁时间没发觉 让我带着你离开  \n> 没有了证明 没有了空虚  \n> 基于两种立场我会罩着你  \n> 趁时间没发觉 让我带着你离开  \n> 这不是顽固 这不是逃避  \n> 没人绑着你走才快乐  \n> ——《分裂》", "description": "有一个 $n \\times m \\times 2$ 的棋盒（四周为棋盒壁）与黑、红各 $nm$ 颗棋。棋子有若干种类，红色的一种棋子个数和黑色的该种棋子个数相等。棋子种类用特征值 $v_{i,j}$ 标记。特征值相同的棋子种类相同，特征值不同的棋子种类不同。红色棋子摆放在棋盒的下层，已经摆好。现在 Vinsta 要将黑棋按照规定顺序摆放在棋盒上层。设棋盒内坐标以左上角为 $(1,1)$，右下角为 $(n,m)$，依此第 $i$ 行第 $j$ 列为 $(i,j)$，则每颗摆进去的黑棋必须摆在满足以下要求的位置：\n\n1. 其摆放位置没有黑棋子且下方为与其种类相同的红棋；\n\n2. 在 1. 的要求下，若有多个，令一个位置的 **紧密度** 为其四边有黑棋子相邻或为棋盒壁的个数，则选择 **紧密度** 最大的一个；\n\n3. 在 2. 的要求下，若还有多个，则设此位置的坐标为 $(i,j)$，要求 $i+j$ 最小；\n\n4. 在 3. 的要求下，若还有多个，要求 $i$ 最小。\n\n给出红棋的摆放情况和黑棋放入的顺序，她想请你帮忙求出每个位置的黑棋子被放入的顺序。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行 $m$ 列，第 $i$ 行第 $j$ 列表示 $v_{i,j}$。\n\n接下来一行 $nm$ 个整数，表示按顺序每次放入的棋子的种类。", "outputFormat": "输出 $n$ 行 $m$ 列，每个位置上的数 $k_{i,j}$ 表示 $(i,j)$ 上的棋是第 $k_{i,j}$ 个被放进去的。", "hint": "对于 $30\\%$ 的数据，$1 \\le n,m \\le 70$；\n\n对于另外 $30\\%$ 的数据，$v_{i,j}=1$；\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 10^3, 1 \\le v_{i,j} \\le 10$，保证每种棋子黑色与红色数量相等。", "locale": "zh-CN"}}}
{"pid": "P7976", "type": "P", "difficulty": 5, "samples": [["4 173\n1\n5\n20\n34", "3\n12\n52\n94"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "O2优化", "数位 DP", "Lucas 定理"], "title": "「Stoi2033」园游会", "background": "> 我顶着大太阳 只想为你撑伞  \n> 你靠在我肩膀 深呼吸怕遗忘  \n> 因为捞鱼的蠢游戏我们开始交谈  \n> 多希望话题不断园游会永不打烊  \n> 气球在我手上 我牵着你瞎逛  \n> 有话想对你讲 你眼睛却装忙  \n> 鸡蛋糕跟你嘴角果酱我都想要尝  \n> 园游会影片在播放 这个世界约好一起逛  \n> ——《园游会》", "description": "设 $F(x)=(x+1)\\bmod 3-1$，给定 $n$，求：\n\n$$\\sum_{l=0}^n \\sum_{r=l}^n F\\left(C_{r}^{l}\\right)$$\n\n对 $1732073999$ 取模。其中 $C_{r}^{l}$ 为组合数，具体地，\n\n$$C_{r}^{l}=\\dfrac{r!}{l!(r-l)!}$$", "inputFormat": "**本题有多组询问。**\n\n第一行两个正整数 $t,maxn$，表示询问组数与询问的最大可能值。\n\n接下来 $t$ 行，每行一个正整数 $n$。", "outputFormat": "共 $t$ 行，第 $i$ 行一个整数，为第 $i$ 次询问的答案对 $1\\ 732\\ 073\\ 999$ 取模的结果。", "hint": "### 数据范围\n\n**本题采用捆绑测试。**\n\n| Subtask | 分值 | $1\\le t \\le$ | $1\\le n \\le maxn \\le$ |\n| :-: | :-: | :-: | :-: |\n| $1$ | $16$ | $1$ | $300$ |\n| $2$ | $37$ | $300$ | $7 \\times 10^6$ |\n| $3$ | $47$ | $3 \\times 10^4$ | $2 \\times 10^{16}$ |\n\n对于 $100\\%$ 的数据，$1 \\le t \\le 3 \\times 10^4,1 \\le n \\le maxn \\le 2 \\times 10^{16}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Stoi2033」园游会", "background": "> 我顶着大太阳 只想为你撑伞  \n> 你靠在我肩膀 深呼吸怕遗忘  \n> 因为捞鱼的蠢游戏我们开始交谈  \n> 多希望话题不断园游会永不打烊  \n> 气球在我手上 我牵着你瞎逛  \n> 有话想对你讲 你眼睛却装忙  \n> 鸡蛋糕跟你嘴角果酱我都想要尝  \n> 园游会影片在播放 这个世界约好一起逛  \n> ——《园游会》", "description": "设 $F(x)=(x+1)\\bmod 3-1$，给定 $n$，求：\n\n$$\\sum_{l=0}^n \\sum_{r=l}^n F\\left(C_{r}^{l}\\right)$$\n\n对 $1732073999$ 取模。其中 $C_{r}^{l}$ 为组合数，具体地，\n\n$$C_{r}^{l}=\\dfrac{r!}{l!(r-l)!}$$", "inputFormat": "**本题有多组询问。**\n\n第一行两个正整数 $t,maxn$，表示询问组数与询问的最大可能值。\n\n接下来 $t$ 行，每行一个正整数 $n$。", "outputFormat": "共 $t$ 行，第 $i$ 行一个整数，为第 $i$ 次询问的答案对 $1\\ 732\\ 073\\ 999$ 取模的结果。", "hint": "### 数据范围\n\n**本题采用捆绑测试。**\n\n| Subtask | 分值 | $1\\le t \\le$ | $1\\le n \\le maxn \\le$ |\n| :-: | :-: | :-: | :-: |\n| $1$ | $16$ | $1$ | $300$ |\n| $2$ | $37$ | $300$ | $7 \\times 10^6$ |\n| $3$ | $47$ | $3 \\times 10^4$ | $2 \\times 10^{16}$ |\n\n对于 $100\\%$ 的数据，$1 \\le t \\le 3 \\times 10^4,1 \\le n \\le maxn \\le 2 \\times 10^{16}$。", "locale": "zh-CN"}}}
{"pid": "P7977", "type": "P", "difficulty": 5, "samples": [["7 1 13\n2 3 4 5 7 10 11\n", "YES\n"], ["8 1 13\n2 3 4 5 7 10 11 13\n", "NO\n"], ["7 2 100\n19 26 8 17 11 45 14\n", "YES\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["递推", "博弈论", "二分", "O2优化"], "title": "「Stoi2033」世界未末日", "background": "注意：**利用提交反馈以套取数据的行为属于作弊**。\n\n> 就算是世界要崩溃  \n> 亲爱的我也绝不会落泪  \n> 不放弃爱过的那种感觉  \n> 珍惜着有你记忆的一切  \n> 就算是世界要倾斜  \n> 亲爱的我也绝不说离别  \n> 尽管末日威胁再强烈  \n> 有爱就不累  \n> ——《世界未末日》", "description": "Vinsta 和 Stella 有 $n$ 堆石子，第 $i$ 堆有 $s_i$ 个。\n\n她们约定从 Vinsta 开始轮流操作，每次操作可以选择不少于 $1$ 堆且不超过 $k$ 堆的石子。对于第 $i$ 堆石子，可以选取两个实数 $a,b$ 满足：\n\n- $a \\times b=s_i$\n- $a+b=c,c\\in[1,s_i]\\cap\\Z$\n\n并丢掉第 $i$ 堆的 $c$ 个石子，即 $s_i\\leftarrow s_i-c$。不能操作者败，她们想要知道 Vinsta 是否有必胜策略。", "inputFormat": "第一行共三个正整数： $n,k,S$，其中 $S=\\max\\{s_i\\}$。\n\n第二行共 $n$ 个正整数： $s_i$，表示初始时第 $i$ 堆的石子个数。", "outputFormat": "输出共一行。有必胜策略输出 `YES`，否则输出 `NO`。", "hint": "### 数据范围\n\n**本题采用捆绑测试。**\n\n| Subtask | $1\\le n \\le$ | $1\\le S \\le$ | 分值 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $300$ | $300$ | $7$ |\n| $2$ | $300$ | $3 \\times 10^7$ | $8$ |\n| $3$ | $300$ | $3\\times 10^{10}$ | $16$ |\n| $4$ | $3\\times 10^6$ | $3$ | $3$ |\n| $5$ | $3\\times 10^6$ | $3 \\times 10^3$ | $3$ |\n| $6$ | $3\\times 10^6$ | $3 \\times 10^7$ | $16$ |\n| $7$ | $3\\times 10^6$ | $3\\times 10^{10}$ | $47$ |\n\n对于 $100\\%$ 的数据， $1 \\le k \\le n \\le 3 \\times 10^6$，$1 \\le S \\le 3 \\times 10^{10}$。", "locale": "zh-CN", "translations": {"en": {"title": "“Stoi2033” The World Has Not Yet Ended.", "background": "Note: **Using submission feedback to extract data is cheating**.\n\n> Even if the world is about to collapse  \n> Darling, I will never shed a tear  \n> I will not give up that feeling of having loved  \n> Cherishing everything that holds memories of you  \n> Even if the world is about to tilt  \n> Darling, I will never say goodbye  \n> Even if the doomsday threat is even stronger  \n> With love, it is not tiring  \n> —— “The World Has Not Yet Ended”", "description": "Vinsta and Stella have $n$ piles of stones. The $i$-th pile has $s_i$ stones.\n\nThey agree to take turns starting from Vinsta. In each move, they may choose at least $1$ pile and at most $k$ piles of stones to operate on. For the $i$-th pile, they may choose two real numbers $a, b$ satisfying:\n\n- $a \\times b = s_i$\n- $a + b = c$, where $c \\in [1, s_i] \\cap \\Z$\n\nThen they discard $c$ stones from the $i$-th pile, i.e. set $s_i \\leftarrow s_i - c$. The player who cannot make a move loses. They want to know whether Vinsta has a winning strategy.", "inputFormat": "The first line contains three positive integers $n, k, S$, where $S = \\max\\{s_i\\}$.\n\nThe second line contains $n$ positive integers $s_i$, which represent the initial number of stones in the $i$-th pile.", "outputFormat": "Output one line. If there is a winning strategy, output `YES`; otherwise output `NO`.", "hint": "### Constraints\n\n**This problem uses bundled testdata.**\n\n| Subtask | $1 \\le n \\le$ | $1 \\le S \\le$ | Score |\n| :-: | :-: | :-: | :-: |\n| $1$ | $300$ | $300$ | $7$ |\n| $2$ | $300$ | $3 \\times 10^7$ | $8$ |\n| $3$ | $300$ | $3\\times 10^{10}$ | $16$ |\n| $4$ | $3\\times 10^6$ | $3$ | $3$ |\n| $5$ | $3\\times 10^6$ | $3 \\times 10^3$ | $3$ |\n| $6$ | $3\\times 10^6$ | $3 \\times 10^7$ | $16$ |\n| $7$ | $3\\times 10^6$ | $3\\times 10^{10}$ | $47$ |\n\nFor $100\\%$ of the data, $1 \\le k \\le n \\le 3 \\times 10^6$, and $1 \\le S \\le 3 \\times 10^{10}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「Stoi2033」世界未末日", "background": "注意：**利用提交反馈以套取数据的行为属于作弊**。\n\n> 就算是世界要崩溃  \n> 亲爱的我也绝不会落泪  \n> 不放弃爱过的那种感觉  \n> 珍惜着有你记忆的一切  \n> 就算是世界要倾斜  \n> 亲爱的我也绝不说离别  \n> 尽管末日威胁再强烈  \n> 有爱就不累  \n> ——《世界未末日》", "description": "Vinsta 和 Stella 有 $n$ 堆石子，第 $i$ 堆有 $s_i$ 个。\n\n她们约定从 Vinsta 开始轮流操作，每次操作可以选择不少于 $1$ 堆且不超过 $k$ 堆的石子。对于第 $i$ 堆石子，可以选取两个实数 $a,b$ 满足：\n\n- $a \\times b=s_i$\n- $a+b=c,c\\in[1,s_i]\\cap\\Z$\n\n并丢掉第 $i$ 堆的 $c$ 个石子，即 $s_i\\leftarrow s_i-c$。不能操作者败，她们想要知道 Vinsta 是否有必胜策略。", "inputFormat": "第一行共三个正整数： $n,k,S$，其中 $S=\\max\\{s_i\\}$。\n\n第二行共 $n$ 个正整数： $s_i$，表示初始时第 $i$ 堆的石子个数。", "outputFormat": "输出共一行。有必胜策略输出 `YES`，否则输出 `NO`。", "hint": "### 数据范围\n\n**本题采用捆绑测试。**\n\n| Subtask | $1\\le n \\le$ | $1\\le S \\le$ | 分值 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $300$ | $300$ | $7$ |\n| $2$ | $300$ | $3 \\times 10^7$ | $8$ |\n| $3$ | $300$ | $3\\times 10^{10}$ | $16$ |\n| $4$ | $3\\times 10^6$ | $3$ | $3$ |\n| $5$ | $3\\times 10^6$ | $3 \\times 10^3$ | $3$ |\n| $6$ | $3\\times 10^6$ | $3 \\times 10^7$ | $16$ |\n| $7$ | $3\\times 10^6$ | $3\\times 10^{10}$ | $47$ |\n\n对于 $100\\%$ 的数据， $1 \\le k \\le n \\le 3 \\times 10^6$，$1 \\le S \\le 3 \\times 10^{10}$。", "locale": "zh-CN"}}}
{"pid": "P7978", "type": "P", "difficulty": 6, "samples": [["2\n", "2\n1 3 2 4\n3 1 4 2\n1 2 1\n3 1 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "Special Judge", "位运算", "构造"], "title": "「Stoi2033」听见下雨的声音", "background": "> 而我听见下雨的声音  \n> 想起你用唇语说爱情  \n> 幸福也可以很安静  \n> 我付出一直很小心  \n> 终于听见下雨的声音  \n> 于是我的世界被吵醒  \n> 就怕情绪红了眼睛  \n> 不舍的泪在彼此的脸上透明  \n> ——《听见下雨的声音》", "description": "SNS 现在要举办一次比赛，总共有 $n$ 个项目，比赛分 $n$ 场举行，每个项目恰比赛一场。\n\n校长希望比赛结果更多样，于是他决定从同学们之中找到 $2^n$ 位实力适当的选手，满足每个项目中每人的实力各不相同。\n\n选定所有选手后，校长再进行适当的场次安排，且在进行每场比赛时对应比赛项目实力较强的一半选手晋级，其余人淘汰，不再参与之后的比赛，直到最后只剩下一位选手成为最终的冠军。\n\n校长希望对于所有不同的比赛场次安排，最终可能夺冠的不同人数尽量多。现在他想要求出这个最大值，并且对于每个可能夺冠的选手找到一种安排每场比赛项目的方式使得 ta 最终夺冠。\n\n因为校长公务繁忙，所以他要求作为学校首位 AKIOIer 的你来帮他完成这个任务。具体地，你需要先对 $i=1,2,\\dots,n$ 给出第 $i$ 项的选手实力从强到弱排名（用选手编号的排列表示），再对每位可能夺冠的选手给出一个 $1,2,\\dots,n$ 的排列表示安排的场次顺序让他最终夺冠。可见 **输出格式**。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "第一行输出一个数 $m$ 表示最多有多少人可能夺冠。\n\n接下来 $n$ 行，第 $i$ 行输出 $2^n$ 个数依次表示第 $i$ 个项目实力从高到低的选手编号。\n\n接下来 $m$ 行，每行先输出一个数 $x$ 表示一个可以夺冠的选手的编号，然后输出一个 $1,2,\\dots,n$ 的排列表示一种场次安排的方式使得 $x$ 最终夺冠。\n\n**请务必保证输出格式正确，否则 Special Judge 可能会出现错误。**", "hint": "#### 样例解释\n\n首先由于至多只有 $2$ 种场次安排方式，所以显然至多只有 $2$ 人可能夺冠。\n\n对于选手 $1$，首先项目 $2$ 会淘汰 $4,2$，剩下选手 $1,3$，然后项目 $1$ 会淘汰 $3$，最终 $1$ 夺冠。\n\n对于选手 $3$，首先项目 $1$ 会淘汰 $2,4$，剩下选手 $1,3$，然后项目 $2$ 会淘汰 $1$，最终 $3$ 夺冠。\n\n#### 数据范围\n\n本题共有 $11$ 个测试点，第 $i$ 个测试点满足 $n=i+2$。\n\n每个测试点分值分别为 $6,7,8,8,8,8,8,11,11,12,13$。\n\n本题提供 [Special Judge 源码](https://www.luogu.com.cn/paste/6q40493c) 和 checker.exe（见 **附件下载**）。以下是 checker.exe 可能的返回结果及其含义：\n\n + `Wrong answer.`：可能夺冠的人数 $m$ 有误。\n \n + `Invalid contestant number.`：出现不合法的选手编号，包括选手编号不为 $[1,2^n]$ 中的整数，或排名不为 $1,2,\\dots,2^n$ 的排列。\n \n + `Invalid item number.`：出现不合法的项目编号，包括项目编号不为 $[1,n]$ 中的整数，或排名不为 $1,2,\\dots,n$ 的排列。\n \n + `Contestant didn't won the first prize.`：某名选手并不能通过你给出的比赛场次安排夺冠。\n \n + `Accepted`：答案正确。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Stoi2033」听见下雨的声音", "background": "> 而我听见下雨的声音  \n> 想起你用唇语说爱情  \n> 幸福也可以很安静  \n> 我付出一直很小心  \n> 终于听见下雨的声音  \n> 于是我的世界被吵醒  \n> 就怕情绪红了眼睛  \n> 不舍的泪在彼此的脸上透明  \n> ——《听见下雨的声音》", "description": "SNS 现在要举办一次比赛，总共有 $n$ 个项目，比赛分 $n$ 场举行，每个项目恰比赛一场。\n\n校长希望比赛结果更多样，于是他决定从同学们之中找到 $2^n$ 位实力适当的选手，满足每个项目中每人的实力各不相同。\n\n选定所有选手后，校长再进行适当的场次安排，且在进行每场比赛时对应比赛项目实力较强的一半选手晋级，其余人淘汰，不再参与之后的比赛，直到最后只剩下一位选手成为最终的冠军。\n\n校长希望对于所有不同的比赛场次安排，最终可能夺冠的不同人数尽量多。现在他想要求出这个最大值，并且对于每个可能夺冠的选手找到一种安排每场比赛项目的方式使得 ta 最终夺冠。\n\n因为校长公务繁忙，所以他要求作为学校首位 AKIOIer 的你来帮他完成这个任务。具体地，你需要先对 $i=1,2,\\dots,n$ 给出第 $i$ 项的选手实力从强到弱排名（用选手编号的排列表示），再对每位可能夺冠的选手给出一个 $1,2,\\dots,n$ 的排列表示安排的场次顺序让他最终夺冠。可见 **输出格式**。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "第一行输出一个数 $m$ 表示最多有多少人可能夺冠。\n\n接下来 $n$ 行，第 $i$ 行输出 $2^n$ 个数依次表示第 $i$ 个项目实力从高到低的选手编号。\n\n接下来 $m$ 行，每行先输出一个数 $x$ 表示一个可以夺冠的选手的编号，然后输出一个 $1,2,\\dots,n$ 的排列表示一种场次安排的方式使得 $x$ 最终夺冠。\n\n**请务必保证输出格式正确，否则 Special Judge 可能会出现错误。**", "hint": "#### 样例解释\n\n首先由于至多只有 $2$ 种场次安排方式，所以显然至多只有 $2$ 人可能夺冠。\n\n对于选手 $1$，首先项目 $2$ 会淘汰 $4,2$，剩下选手 $1,3$，然后项目 $1$ 会淘汰 $3$，最终 $1$ 夺冠。\n\n对于选手 $3$，首先项目 $1$ 会淘汰 $2,4$，剩下选手 $1,3$，然后项目 $2$ 会淘汰 $1$，最终 $3$ 夺冠。\n\n#### 数据范围\n\n本题共有 $11$ 个测试点，第 $i$ 个测试点满足 $n=i+2$。\n\n每个测试点分值分别为 $6,7,8,8,8,8,8,11,11,12,13$。\n\n本题提供 [Special Judge 源码](https://www.luogu.com.cn/paste/6q40493c) 和 checker.exe（见 **附件下载**）。以下是 checker.exe 可能的返回结果及其含义：\n\n + `Wrong answer.`：可能夺冠的人数 $m$ 有误。\n \n + `Invalid contestant number.`：出现不合法的选手编号，包括选手编号不为 $[1,2^n]$ 中的整数，或排名不为 $1,2,\\dots,2^n$ 的排列。\n \n + `Invalid item number.`：出现不合法的项目编号，包括项目编号不为 $[1,n]$ 中的整数，或排名不为 $1,2,\\dots,n$ 的排列。\n \n + `Contestant didn't won the first prize.`：某名选手并不能通过你给出的比赛场次安排夺冠。\n \n + `Accepted`：答案正确。", "locale": "zh-CN"}}}
{"pid": "P7979", "type": "P", "difficulty": 7, "samples": [["2\n7 1 13\n2 3 4 5 7 10 11\n8 1 13\n2 3 4 5 7 10 11 13\n", "YES\nNO\n"], ["1\n7 2 100\n19 26 8 17 11 45 14\n", "YES\n"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072]}, "tags": ["数学", "博弈论", "O2优化"], "title": "「Stoi2033」世界未末日 加强版", "background": "注意：**利用提交反馈以套取数据的行为属于作弊**。\n\n> 就算是世界要崩溃  \n> 亲爱的我也绝不会落泪  \n> 不放弃爱过的那种感觉  \n> 珍惜着有你记忆的一切  \n> 就算是世界要倾斜  \n> 亲爱的我也绝不说离别  \n> 尽管末日威胁再强烈  \n> 有爱就不累  \n> ——《世界未末日》", "description": "Vinsta 和 Stella 有 $n$ 堆石子，第 $i$ 堆有 $s_i$ 个。\n\n她们约定从 Vinsta 开始轮流操作，每次操作可以选择不少于 $1$ 堆且不超过 $k$ 堆的石子。对于第 $i$ 堆石子，可以选取两个实数 $a,b$ 满足：\n\n- $a \\times b=s_i$\n- $a+b=c,c\\in[1,s_i]\\cap\\Z$\n\n并丢掉第 $i$ 堆的 $c$ 个石子，即 $s_i\\leftarrow s_i-c$。不能操作者败，她们想要知道 Vinsta 是否有必胜策略。", "inputFormat": "第一行一个正整数表示数据组数 $T$。\n\n接下来 $T$ 组数据，每组数据第一行共三个正整数： $n,k,S$，其中 $S=\\max\\{s_i\\}$。\n\n第二行共 $n$ 个正整数： $s_i$，表示初始时第 $i$ 堆的石子个数。", "outputFormat": "对于每组数据输出一行。有必胜策略输出 `YES`，否则输出 `NO`。", "hint": "对于 $100\\%$ 的数据， $1 \\le T \\le 10$, $1 \\le k \\le n \\le 3 \\times 10^6$，$1 \\le S \\le 3 \\times 10^{17}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Stoi2033」世界未末日 加强版", "background": "注意：**利用提交反馈以套取数据的行为属于作弊**。\n\n> 就算是世界要崩溃  \n> 亲爱的我也绝不会落泪  \n> 不放弃爱过的那种感觉  \n> 珍惜着有你记忆的一切  \n> 就算是世界要倾斜  \n> 亲爱的我也绝不说离别  \n> 尽管末日威胁再强烈  \n> 有爱就不累  \n> ——《世界未末日》", "description": "Vinsta 和 Stella 有 $n$ 堆石子，第 $i$ 堆有 $s_i$ 个。\n\n她们约定从 Vinsta 开始轮流操作，每次操作可以选择不少于 $1$ 堆且不超过 $k$ 堆的石子。对于第 $i$ 堆石子，可以选取两个实数 $a,b$ 满足：\n\n- $a \\times b=s_i$\n- $a+b=c,c\\in[1,s_i]\\cap\\Z$\n\n并丢掉第 $i$ 堆的 $c$ 个石子，即 $s_i\\leftarrow s_i-c$。不能操作者败，她们想要知道 Vinsta 是否有必胜策略。", "inputFormat": "第一行一个正整数表示数据组数 $T$。\n\n接下来 $T$ 组数据，每组数据第一行共三个正整数： $n,k,S$，其中 $S=\\max\\{s_i\\}$。\n\n第二行共 $n$ 个正整数： $s_i$，表示初始时第 $i$ 堆的石子个数。", "outputFormat": "对于每组数据输出一行。有必胜策略输出 `YES`，否则输出 `NO`。", "hint": "对于 $100\\%$ 的数据， $1 \\le T \\le 10$, $1 \\le k \\le n \\le 3 \\times 10^6$，$1 \\le S \\le 3 \\times 10^{17}$。", "locale": "zh-CN"}}}
{"pid": "P7980", "type": "P", "difficulty": 5, "samples": [["3\n1 2 2\n2 3 3", "5"], ["4\n1 2 4\n2 3 4\n3 4 4", "96"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "洛谷原创", "O2优化"], "title": "[JRKSJ R3] a question", "background": "这是一个问题。", "description": "现在有一棵 $n$ 个结点的树 $\\text{T}$，边带权，结点的编号为 $[1,n]$ 的排列。\n\n设 $\\text{G}$ 为 $\\text{T}$ 的补图。对于 $\\text{G}$ 上的每一条边 $(x,y)$，该边的权值为 $\\text{T}$ 上 $x\\rightarrow y$ 的路径上的边权和。\n\n设 $dis(x,y)$ 为 $\\text{G}$ 上 $x,y$ 两点之间的最短路径的长度。若 $x,y$ 两点不连通，则令 $dis(x,y)=0$。\n\n求 $\\displaystyle\\sum_{i=1}^{n-1} \\sum_{j=i+1}^n dis(i,j)$。", "inputFormat": "输入的所有数都为整数。\n\n第一行一个数 $n$。\\\n接下来 $n-1$ 行每行三个数 $u,v,w$ 表示 $\\text{T}$ 中有一条连接 $u,v$ 且边权为 $w$ 的边。", "outputFormat": "输出一个数表示答案，由于答案很大，请对 $10^9+7$ 取模。", "hint": "$\\text{T}$ 的补图 $\\text{G}$ 的定义为：对于边 $(x,y)(1\\le x,y\\le n,x\\ne y)$，若 $\\text{T}$ 中不存在该边 ，则 $\\text{G}$ 中存在该边；若 $\\text{T}$ 中存在该边 ，则 $\\text{G}$ 中不存在该边。$\\text{G}$ 为无向图。\n\n### 样例解释\n对于样例 $2$，图 $\\text{G}$ 如图所示：\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/wjblfgx5.png?x-oss-process=image)\n\n我们有：\n| $dis(i,j)$ | $j=1$ | $j=2$ | $j=3$ | $j=4$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $i=1$ |  | $20$ | $8$ | $12$ |\n| $i=2$ |  |  | $28$ | $8$ |\n| $i=3$ |  |  |  | $20$ |\n\n所以答案为 $96$。\n### 数据规模\n\n| $\\text{Subtask}$ | $n\\le$ | 特殊性质 | 分值 | 子任务依赖 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^3$ | 无 | $10$ | 无 |\n| $2$ | $10^4$ | 无 | $20$ | $1$ |\n| $3$ | $2\\times 10^6$ | 树为菊花 | $20$ | 无 |\n| $4$ | $2\\times 10^6$ | 树为链 | $20$ | 无 |\n| $5$ | $2\\times 10^6$ | 无 | $30$ | $1,2,3,4$ |\n\n对于 $100\\%$ 的数据，$2\\le n \\le 2\\times 10^6$，$1\\le x,y\\le n$，$0\\le v\\le 10^9$。\n\n**本题输入文件较大，请使用恰当的读入方式。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ R3] a question", "background": "这是一个问题。", "description": "现在有一棵 $n$ 个结点的树 $\\text{T}$，边带权，结点的编号为 $[1,n]$ 的排列。\n\n设 $\\text{G}$ 为 $\\text{T}$ 的补图。对于 $\\text{G}$ 上的每一条边 $(x,y)$，该边的权值为 $\\text{T}$ 上 $x\\rightarrow y$ 的路径上的边权和。\n\n设 $dis(x,y)$ 为 $\\text{G}$ 上 $x,y$ 两点之间的最短路径的长度。若 $x,y$ 两点不连通，则令 $dis(x,y)=0$。\n\n求 $\\displaystyle\\sum_{i=1}^{n-1} \\sum_{j=i+1}^n dis(i,j)$。", "inputFormat": "输入的所有数都为整数。\n\n第一行一个数 $n$。\\\n接下来 $n-1$ 行每行三个数 $u,v,w$ 表示 $\\text{T}$ 中有一条连接 $u,v$ 且边权为 $w$ 的边。", "outputFormat": "输出一个数表示答案，由于答案很大，请对 $10^9+7$ 取模。", "hint": "$\\text{T}$ 的补图 $\\text{G}$ 的定义为：对于边 $(x,y)(1\\le x,y\\le n,x\\ne y)$，若 $\\text{T}$ 中不存在该边 ，则 $\\text{G}$ 中存在该边；若 $\\text{T}$ 中存在该边 ，则 $\\text{G}$ 中不存在该边。$\\text{G}$ 为无向图。\n\n### 样例解释\n对于样例 $2$，图 $\\text{G}$ 如图所示：\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/wjblfgx5.png?x-oss-process=image)\n\n我们有：\n| $dis(i,j)$ | $j=1$ | $j=2$ | $j=3$ | $j=4$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $i=1$ |  | $20$ | $8$ | $12$ |\n| $i=2$ |  |  | $28$ | $8$ |\n| $i=3$ |  |  |  | $20$ |\n\n所以答案为 $96$。\n### 数据规模\n\n| $\\text{Subtask}$ | $n\\le$ | 特殊性质 | 分值 | 子任务依赖 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^3$ | 无 | $10$ | 无 |\n| $2$ | $10^4$ | 无 | $20$ | $1$ |\n| $3$ | $2\\times 10^6$ | 树为菊花 | $20$ | 无 |\n| $4$ | $2\\times 10^6$ | 树为链 | $20$ | 无 |\n| $5$ | $2\\times 10^6$ | 无 | $30$ | $1,2,3,4$ |\n\n对于 $100\\%$ 的数据，$2\\le n \\le 2\\times 10^6$，$1\\le x,y\\le n$，$0\\le v\\le 10^9$。\n\n**本题输入文件较大，请使用恰当的读入方式。**", "locale": "zh-CN"}}}
{"pid": "P7981", "type": "P", "difficulty": 5, "samples": [["5 2\n2 5 4 3 1", "2 5 3 4 1"], ["20 233\n1 1 5 6 8 15 10 11 18 14 4 16 16 11 3 5 1 15 4 5", "1 1 4 5 6 8 4 15 5 6 3 11 11 15 11 4 1 8 3 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["倍增", "2021", "洛谷原创", "基环树"], "title": "[JRKSJ R3] system", "background": "", "description": "定义对序列 $a$ 的一次操作为令 $b_i\\gets a_{a_i}$，再令 $a_i\\gets b_i$，其中 $i\\in[1,n]$。\n\n给你一个长为 $n$ 的序列 $a$，询问对 $a$ 进行 $k$ 次操作后的序列。", "inputFormat": "第一行两个整数 $n,k$。\n\n第二行 $n$ 个整数表示序列 $a$。", "outputFormat": "一行共 $n$ 个整数，表示 $k$ 次操作后的序列 $a$。", "hint": "### 样例解释\n\n对于第 $1$ 个样例，$a$ 的变化如下：\n\n$$5,1,3,4,2$$\n$$2,5,3,4,1$$\n\n### 数据规模与约定\n\n本题采用捆绑测试。\n\n| $\\text{Subtask}$ | $n\\le$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^4$ | $\\text A$ | $5$ |\n| $2$ | $10^2$ | 无 | $15$ |\n| $3$ | $10^4$ | $\\text B$ | $10$ |\n| $4$ | $5\\times 10^5$ | $\\text B$ | $20$ |\n| $5$ | $5\\times 10^5$ | $\\text C$ | $20$ |\n| $6$ | $5\\times 10^5$ | 无 | $30$ |\n\n性质 $\\text A$：$0\\le k\\le 10^3$。\\\n性质 $\\text B$：$a_i=i\\bmod n+1$。\\\n性质 $\\text C$：$a$ 是一个 $[1,n]$ 的排列。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times 10^5$，$0\\le k\\le 10^9$，$1\\le a_i\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ R3] system", "background": "", "description": "定义对序列 $a$ 的一次操作为令 $b_i\\gets a_{a_i}$，再令 $a_i\\gets b_i$，其中 $i\\in[1,n]$。\n\n给你一个长为 $n$ 的序列 $a$，询问对 $a$ 进行 $k$ 次操作后的序列。", "inputFormat": "第一行两个整数 $n,k$。\n\n第二行 $n$ 个整数表示序列 $a$。", "outputFormat": "一行共 $n$ 个整数，表示 $k$ 次操作后的序列 $a$。", "hint": "### 样例解释\n\n对于第 $1$ 个样例，$a$ 的变化如下：\n\n$$5,1,3,4,2$$\n$$2,5,3,4,1$$\n\n### 数据规模与约定\n\n本题采用捆绑测试。\n\n| $\\text{Subtask}$ | $n\\le$ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^4$ | $\\text A$ | $5$ |\n| $2$ | $10^2$ | 无 | $15$ |\n| $3$ | $10^4$ | $\\text B$ | $10$ |\n| $4$ | $5\\times 10^5$ | $\\text B$ | $20$ |\n| $5$ | $5\\times 10^5$ | $\\text C$ | $20$ |\n| $6$ | $5\\times 10^5$ | 无 | $30$ |\n\n性质 $\\text A$：$0\\le k\\le 10^3$。\\\n性质 $\\text B$：$a_i=i\\bmod n+1$。\\\n性质 $\\text C$：$a$ 是一个 $[1,n]$ 的排列。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times 10^5$，$0\\le k\\le 10^9$，$1\\le a_i\\le n$。", "locale": "zh-CN"}}}
{"pid": "P7982", "type": "P", "difficulty": 7, "samples": [["5 5\n01010\n1 4 5 5\n2 1 3 2 5\n1 2 3 3\n2 1 5 1 2\n2 3 4 4 5", "15\n24\n8"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "洛谷原创", "后缀自动机 SAM", "O2优化", "后缀数组 SA"], "title": "[JRKSJ R3] 琴琴的树", "background": "", "description": "琴琴有一棵二叉树，满足：\n\n* 该树有无穷多个结点。\n* 每个结点都有编号和权值。初始所有结点的权值为 $0$。\n* 树根的编号为 $1$。\n* 若一个结点的编号为 $i$，则该结点的左右儿子的编号分别是 $2i,2i+1$。\n\n琴琴要对树进行共 $m$ 次操作，每次操作是二者之一：\n\n1. 将编号为 $x$ 的结点为根的子树中的每个结点的权值都加 $v$。\n2. 求树上编号为 $x$ 的结点到编号为 $y$ 的结点的路径上每个结点的权值和。答案对 $2^{32}$ 取模。\n\n不过琴琴不会直接给出 $x,y$。她再给出一个长度为 $n$ 的 $01$ 序列 $a$，每次给出 $x$ 或 $y$ 时给出一个区间 $[l_x,r_x]$ 或 $[l_y,r_y]$，这个数就是将这个区间视作二进制数的值。", "inputFormat": "第一行两个整数 $n,m$。\\\n第二行一个长度为 $n$ 的字符串表示 $a$。保证字符串中只包含 `0` 和 `1`。\\\n下面 $m$ 行，每行一个操作编号，然后是操作。操作的格式为：\n1. $\\ l_x\\ r_x\\ v$\n2. $\\ l_x\\ r_x\\ l_y\\ r_y$", "outputFormat": "对于每个操作 $2$，每行一个整数表示答案。", "hint": "### 样例解释\n\n该树的前四层如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/394f62g7.png)\n\n第一个操作：将以 $2$ 为根的子树中的结点权值加上 $5$。\\\n第二个操作：求 $2\\rightarrow 10$ 的路径上的点的权值和。\\\n第三个操作：将以 $2$ 为根的子树中的结点权值加上 $3$。\\\n第四个操作：求 $10\\rightarrow 1$ 的路径上的点的权值和。\\\n第五个操作：求 $1\\rightarrow 2$ 的路径上的点的权值和。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | $n\\le$ | $m\\le $ | 分值 |\n| :----------: | :----------: | :----------: | :----------: | \n| $1$ | $10$ | $10^3$ | $5$ |\n| $2$ | $20$ | $10^5$ | $5$ |\n| $3$ | $10^4$ | $10^4$ | $20$ |\n| $4$ | $4\\times 10^5$ | $4\\times 10^5$ | $70$ |\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 4\\times 10^5$，$1\\le v \\le 10^9$，$1\\le l_x\\le r_x\\le n$，$1\\le l_y\\le r_y\\le n$，保证 $x,y\\ne 0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ R3] 琴琴的树", "background": "", "description": "琴琴有一棵二叉树，满足：\n\n* 该树有无穷多个结点。\n* 每个结点都有编号和权值。初始所有结点的权值为 $0$。\n* 树根的编号为 $1$。\n* 若一个结点的编号为 $i$，则该结点的左右儿子的编号分别是 $2i,2i+1$。\n\n琴琴要对树进行共 $m$ 次操作，每次操作是二者之一：\n\n1. 将编号为 $x$ 的结点为根的子树中的每个结点的权值都加 $v$。\n2. 求树上编号为 $x$ 的结点到编号为 $y$ 的结点的路径上每个结点的权值和。答案对 $2^{32}$ 取模。\n\n不过琴琴不会直接给出 $x,y$。她再给出一个长度为 $n$ 的 $01$ 序列 $a$，每次给出 $x$ 或 $y$ 时给出一个区间 $[l_x,r_x]$ 或 $[l_y,r_y]$，这个数就是将这个区间视作二进制数的值。", "inputFormat": "第一行两个整数 $n,m$。\\\n第二行一个长度为 $n$ 的字符串表示 $a$。保证字符串中只包含 `0` 和 `1`。\\\n下面 $m$ 行，每行一个操作编号，然后是操作。操作的格式为：\n1. $\\ l_x\\ r_x\\ v$\n2. $\\ l_x\\ r_x\\ l_y\\ r_y$", "outputFormat": "对于每个操作 $2$，每行一个整数表示答案。", "hint": "### 样例解释\n\n该树的前四层如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/394f62g7.png)\n\n第一个操作：将以 $2$ 为根的子树中的结点权值加上 $5$。\\\n第二个操作：求 $2\\rightarrow 10$ 的路径上的点的权值和。\\\n第三个操作：将以 $2$ 为根的子树中的结点权值加上 $3$。\\\n第四个操作：求 $10\\rightarrow 1$ 的路径上的点的权值和。\\\n第五个操作：求 $1\\rightarrow 2$ 的路径上的点的权值和。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | $n\\le$ | $m\\le $ | 分值 |\n| :----------: | :----------: | :----------: | :----------: | \n| $1$ | $10$ | $10^3$ | $5$ |\n| $2$ | $20$ | $10^5$ | $5$ |\n| $3$ | $10^4$ | $10^4$ | $20$ |\n| $4$ | $4\\times 10^5$ | $4\\times 10^5$ | $70$ |\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 4\\times 10^5$，$1\\le v \\le 10^9$，$1\\le l_x\\le r_x\\le n$，$1\\le l_y\\le r_y\\le n$，保证 $x,y\\ne 0$。", "locale": "zh-CN"}}}
{"pid": "P7983", "type": "P", "difficulty": 7, "samples": [["4 5\n5 5 4 5\n3 4 4 1\n2 3 3 2\n2 2 3 4\n3 1 4\n1 3 3 2\n3 2 4", "57\n39"], ["5 5\n1 7 5 2 5\n2 1 5 3 2\n1 5 5 3\n1 3 5 2\n3 1 4\n2 1 4 2\n3 1 3", "33\n24"], ["10 10\n27 29 12 16 16 6 20 22 17 1\n2 6 1 10 4 1 3 10 9 6\n2 3 5 6\n3 2 10\n2 5 10 9\n3 5 9\n1 1 5 24\n1 6 10 12\n3 2 3\n1 4 6 14\n1 4 8 14\n3 5 10", "956\n825\n264\n924"]], "limits": {"time": [4000, 5000, 2000, 5000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 4000, 4000, 4000, 4000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 2000, 4000, 7000, 7000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2021", "颜色段均摊（珂朵莉树 ODT）", "洛谷原创", "O2优化", "分块"], "title": "[JRKSJ R3] practiceZ", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/qpcumiv6.png)", "description": "琴琴给了你两个长为 $n$ 的序列 $a,b$，请你支持三种操作共 $m$ 次：\n\n1. `1 l r x`，将 $a$ 序列的区间 $[l,r]$ 中的所有数修改为 $x$。\n2. `2 l r y`，将 $b$ 序列的区间 $[l,r]$ 中的所有数修改为 $y$。\n3. `3 l r`，求 $\\sum_{i=l}^r \\sum_{j=1}^{b_i} a_j$。答案对 $2^{32}$ 取模。", "inputFormat": "输入均为整数。\n\n第 $1$ 行 $2$ 个数 $n,m$。\\\n第 $2$ 行 $n$ 个数表示序列 $a$。\\\n第 $3$ 行 $n$ 个数表示序列 $b$。\\\n接下来 $m$ 行，每行一个操作，格式见题目描述。", "outputFormat": "对于每个操作 $3$，一行一个整数表示答案。", "hint": "**本题采用捆绑测试。**\n\n注：原时间限制为 5s，较为卡常所以被管理改为 7s。\n\n| $\\text{Subtask}$ | $n\\le$ | $m\\le$ | 特殊性质 | 分值 | 子任务依赖 | 时间限制 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $500$ | $10^3$ | 无 | $10$ | 无 | $2\\text{s}$ |\n| $2$ | $10^4$ | $10^4$ | 无 | $10$ | $1$ | $2\\text{s}$ |\n| $3$ | $10^5$ | $10^5$ | 无 | $30$ | $1,2$ | $4\\text{s}$ |\n| $4$ | $5\\times 10^5$ | $3\\times 10^5$ |数据随机 | $20$ | 无 | $5\\text{s}$ |\n| $5$ | $5\\times 10^5$ |  $3\\times 10^5$ | 无 | $30$ | $1,2,3,4$ | $5\\text{s}$ |\n\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times 10^5$，$1\\le m\\le 3\\times 10^5$，$1\\le a_i,x\\le 10^9$，$1\\le b_i,y\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ R3] practiceZ", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/qpcumiv6.png)", "description": "琴琴给了你两个长为 $n$ 的序列 $a,b$，请你支持三种操作共 $m$ 次：\n\n1. `1 l r x`，将 $a$ 序列的区间 $[l,r]$ 中的所有数修改为 $x$。\n2. `2 l r y`，将 $b$ 序列的区间 $[l,r]$ 中的所有数修改为 $y$。\n3. `3 l r`，求 $\\sum_{i=l}^r \\sum_{j=1}^{b_i} a_j$。答案对 $2^{32}$ 取模。", "inputFormat": "输入均为整数。\n\n第 $1$ 行 $2$ 个数 $n,m$。\\\n第 $2$ 行 $n$ 个数表示序列 $a$。\\\n第 $3$ 行 $n$ 个数表示序列 $b$。\\\n接下来 $m$ 行，每行一个操作，格式见题目描述。", "outputFormat": "对于每个操作 $3$，一行一个整数表示答案。", "hint": "**本题采用捆绑测试。**\n\n注：原时间限制为 5s，较为卡常所以被管理改为 7s。\n\n| $\\text{Subtask}$ | $n\\le$ | $m\\le$ | 特殊性质 | 分值 | 子任务依赖 | 时间限制 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $500$ | $10^3$ | 无 | $10$ | 无 | $2\\text{s}$ |\n| $2$ | $10^4$ | $10^4$ | 无 | $10$ | $1$ | $2\\text{s}$ |\n| $3$ | $10^5$ | $10^5$ | 无 | $30$ | $1,2$ | $4\\text{s}$ |\n| $4$ | $5\\times 10^5$ | $3\\times 10^5$ |数据随机 | $20$ | 无 | $5\\text{s}$ |\n| $5$ | $5\\times 10^5$ |  $3\\times 10^5$ | 无 | $30$ | $1,2,3,4$ | $5\\text{s}$ |\n\n\n对于 $100\\%$ 的数据，$1\\le n\\le 5\\times 10^5$，$1\\le m\\le 3\\times 10^5$，$1\\le a_i,x\\le 10^9$，$1\\le b_i,y\\le n$。", "locale": "zh-CN"}}}
{"pid": "P7984", "type": "P", "difficulty": 6, "samples": [["7 6\n4 1 2 3\n4 10 5 6\n2 100 7 7\n6 1000 1 1\n5 10000 1 4\n6 100000 5 6", "-1\n-1\n-1\n1111\n10100\n110100\n-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "线段树", "USACO", "2021", "图论建模", "最短路"], "title": "[USACO21DEC]  Tickets P", "background": "", "description": "Bessie 正在参加远足旅行！她当前正在旅行的路线由编号为 $1\\ldots N$（$1\\le N\\le 10^5$）的 $N$ 个检查点组成。\n\n有 $K$（$1\\le K\\le 10^5$）张票可供购买。第 $i$ 张票可以在检查站 $c_i$（$1\\le c_i\\le N$）以 $p_i$（$1\\le p_i\\le 10^9$）的价格购得，并且可以用其进入所有检查站 $[a_i,b_i]$（$1\\le a_i\\le b_i\\le N$）。在进入任何检查站之前，Bessie 必须已购买一张允许其进入该检查站的票。一旦 Bessie 可以前往某一检查站，她就可以在未来的任何时候回到该检查站。\n\n对于每一个 $i\\in [1,N]$，如果 Bessie 最初只能进入检查点 $i$，输出使得可以进入检查点 $1$ 和 $N$ 所需的最低总价。如果无法这样做，输出 $-1$。\n", "inputFormat": "输入的第一行包含 $N$ 和 $K$。\n\n以下 $K$ 行，对于每一个 $1\\le i\\le K$，第 $i$ 行包含四个整数 $c_i$，$p_i$，$a_i$ 和 $b_i$。", "outputFormat": "输出 $N$ 行，每行输出一个检查点的答案。", "hint": "【样例解释】\n\n如果 Bessie 从检查点 $i=4$ 开始，那么一种购得进入检查点 $1$ 和 $N$ 的方法如下：\n\n在检查点 $4$ 购买第一张票，使 Bessie 可以进入检查点 $2$ 和 $3$。\n\n在检查点 $2$ 购买第三张票，使 Bessie 可以进入检查点 $7$。\n\n回到检查点 $4$ 购买第二张票，使 Bessie 可以进入检查点 $5$ 和 $6$。\n\n在检查点 $6$ 购买第四张票，使 Bessie 可以进入检查点 $1$。\n\n【数据范围】\n\n- 测试点 1-7 满足 $N,K\\le 1000$。\n- 测试点 8-19 没有额外限制。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC]  Tickets P", "background": "", "description": "Bessie 正在参加远足旅行！她当前正在旅行的路线由编号为 $1\\ldots N$（$1\\le N\\le 10^5$）的 $N$ 个检查点组成。\n\n有 $K$（$1\\le K\\le 10^5$）张票可供购买。第 $i$ 张票可以在检查站 $c_i$（$1\\le c_i\\le N$）以 $p_i$（$1\\le p_i\\le 10^9$）的价格购得，并且可以用其进入所有检查站 $[a_i,b_i]$（$1\\le a_i\\le b_i\\le N$）。在进入任何检查站之前，Bessie 必须已购买一张允许其进入该检查站的票。一旦 Bessie 可以前往某一检查站，她就可以在未来的任何时候回到该检查站。\n\n对于每一个 $i\\in [1,N]$，如果 Bessie 最初只能进入检查点 $i$，输出使得可以进入检查点 $1$ 和 $N$ 所需的最低总价。如果无法这样做，输出 $-1$。\n", "inputFormat": "输入的第一行包含 $N$ 和 $K$。\n\n以下 $K$ 行，对于每一个 $1\\le i\\le K$，第 $i$ 行包含四个整数 $c_i$，$p_i$，$a_i$ 和 $b_i$。", "outputFormat": "输出 $N$ 行，每行输出一个检查点的答案。", "hint": "【样例解释】\n\n如果 Bessie 从检查点 $i=4$ 开始，那么一种购得进入检查点 $1$ 和 $N$ 的方法如下：\n\n在检查点 $4$ 购买第一张票，使 Bessie 可以进入检查点 $2$ 和 $3$。\n\n在检查点 $2$ 购买第三张票，使 Bessie 可以进入检查点 $7$。\n\n回到检查点 $4$ 购买第二张票，使 Bessie 可以进入检查点 $5$ 和 $6$。\n\n在检查点 $6$ 购买第四张票，使 Bessie 可以进入检查点 $1$。\n\n【数据范围】\n\n- 测试点 1-7 满足 $N,K\\le 1000$。\n- 测试点 8-19 没有额外限制。\n", "locale": "zh-CN"}}}
{"pid": "P7985", "type": "P", "difficulty": 6, "samples": [["2 5 4\nG 1 1\nH 3 4\nG 4 2\nH 6 6\nH 8 9", "16"], ["1 5 4\nG 1 1\nH 3 4\nG 4 2\nH 6 6\nH 8 9", "6"], ["2 10 76\nH 1 18\nH 18 465\nH 25 278\nH 30 291\nH 36 202\nG 45 96\nG 60 375\nG 93 941\nG 96 870\nG 98 540", "1893"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "USACO", "2021", "动态规划优化"], "title": "[USACO21DEC] Paired Up P", "background": "", "description": "数轴上总计有 $N$（$1\\le N\\le 5000$）头奶牛，每一头奶牛都是荷斯坦牛（Holstein）或更赛牛（Guernsey）之一。第 $i$ 头奶牛的品种为 $b_i\\in \\{H,G\\}$，第 $i$ 头奶牛的位置为 $x_i$（$0 \\leq x_i \\leq 10^9$），而第 $i$ 头奶牛的重量为 $y_i$（$1 \\leq y_i \\leq 10^5$）。\n\n根据 Farmer John 的信号，某些奶牛会组成对，使得\n\n- 每一对包含位置相差不超过 $K$ 的一头荷斯坦牛 $h$ 和一头更赛牛 $g$（$1\\le K\\le 10^9$）；也就是说，$|x_h-x_g|\\le K$。\n\n- 每一头奶牛要么包含在恰好一对中，要么不属于任何一对。\n- 配对是**极大的**；也就是说，没有两头未配对的奶牛可以组成对。\n\n你需要求出未配对的奶牛的重量之和的可能的范围。具体地说，\n\n- 如果 $T=1$，计算未配对的奶牛的最小重量和。\n\n- 如果 $T=2$，计算未配对的奶牛的最大重量和。", "inputFormat": "输入的第一行包含 $T$，$N$ 和 $K$。\n\n以下 $N$ 行，第 $i$ 行包含 $b_i,x_i,y_i$。输入保证 $0\\le x_1<x_2<\\cdots<x_{N}\\le 10^9$。", "outputFormat": "输出未配对的奶牛的最小或最大重量和。", "hint": "【样例解释1】\n\n奶牛 $2$ 和 $3$ 可以配对，因为她们的距离为 $1$，不超过 $K = 4$。这个配对方案是极大的，因为奶牛 $1$，唯一余下的更赛牛，和奶牛 $4$ 的距离为 $5$，和奶牛 $5$ 的距离为 $7$，均大于 $K = 4$。未配对的奶牛的重量和为 $1 + 6 + 9 = 16$。\n\n【样例解释2】\n\n奶牛 $1$ 和 $2$ 可以配对，因为她们的距离为 $2 \\leq K = 4$，同时奶牛 $3$ 和 $5$ 可以配对，因为她们的距离为 $4 \\leq K = 4$。这个配对方案是极大的，因为只剩下了奶牛 $4$。未配对的奶牛的重量和即为唯一未配对的奶牛的重量，即为 $6$。\n\n【样例解释3】\n\n这个例子的答案为 $18+465+870+540=1893$。\n\n【数据范围】\n\n- 测试点 4-7 满足 $T=1$；\n- 测试点 8-14 满足 $T=2$ 且 $N\\le 300$；\n- 测试点 15-22 满足 $T=2$。\n\n**注意：本题的内存限制为 $\\text{512MB}$，是通常限制的两倍。**\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC] Paired Up P", "background": "", "description": "数轴上总计有 $N$（$1\\le N\\le 5000$）头奶牛，每一头奶牛都是荷斯坦牛（Holstein）或更赛牛（Guernsey）之一。第 $i$ 头奶牛的品种为 $b_i\\in \\{H,G\\}$，第 $i$ 头奶牛的位置为 $x_i$（$0 \\leq x_i \\leq 10^9$），而第 $i$ 头奶牛的重量为 $y_i$（$1 \\leq y_i \\leq 10^5$）。\n\n根据 Farmer John 的信号，某些奶牛会组成对，使得\n\n- 每一对包含位置相差不超过 $K$ 的一头荷斯坦牛 $h$ 和一头更赛牛 $g$（$1\\le K\\le 10^9$）；也就是说，$|x_h-x_g|\\le K$。\n\n- 每一头奶牛要么包含在恰好一对中，要么不属于任何一对。\n- 配对是**极大的**；也就是说，没有两头未配对的奶牛可以组成对。\n\n你需要求出未配对的奶牛的重量之和的可能的范围。具体地说，\n\n- 如果 $T=1$，计算未配对的奶牛的最小重量和。\n\n- 如果 $T=2$，计算未配对的奶牛的最大重量和。", "inputFormat": "输入的第一行包含 $T$，$N$ 和 $K$。\n\n以下 $N$ 行，第 $i$ 行包含 $b_i,x_i,y_i$。输入保证 $0\\le x_1<x_2<\\cdots<x_{N}\\le 10^9$。", "outputFormat": "输出未配对的奶牛的最小或最大重量和。", "hint": "【样例解释1】\n\n奶牛 $2$ 和 $3$ 可以配对，因为她们的距离为 $1$，不超过 $K = 4$。这个配对方案是极大的，因为奶牛 $1$，唯一余下的更赛牛，和奶牛 $4$ 的距离为 $5$，和奶牛 $5$ 的距离为 $7$，均大于 $K = 4$。未配对的奶牛的重量和为 $1 + 6 + 9 = 16$。\n\n【样例解释2】\n\n奶牛 $1$ 和 $2$ 可以配对，因为她们的距离为 $2 \\leq K = 4$，同时奶牛 $3$ 和 $5$ 可以配对，因为她们的距离为 $4 \\leq K = 4$。这个配对方案是极大的，因为只剩下了奶牛 $4$。未配对的奶牛的重量和即为唯一未配对的奶牛的重量，即为 $6$。\n\n【样例解释3】\n\n这个例子的答案为 $18+465+870+540=1893$。\n\n【数据范围】\n\n- 测试点 4-7 满足 $T=1$；\n- 测试点 8-14 满足 $T=2$ 且 $N\\le 300$；\n- 测试点 15-22 满足 $T=2$。\n\n**注意：本题的内存限制为 $\\text{512MB}$，是通常限制的两倍。**\n", "locale": "zh-CN"}}}
{"pid": "P7986", "type": "P", "difficulty": 6, "samples": [["4 2", "17"], ["60 10", "508859913"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "数学", "USACO", "2021", "期望"], "title": "[USACO21DEC] HILO P", "background": "", "description": "Bessie 有一个数 $x+0.5$，其中 $x$ 是某个 $0$ 到 $N$ 之间的整数（$1\\le N\\le 5000$）。\n\nElsie 正试着猜这个数。她可以以如下形式对于某个 $1$ 到 $N$ 之间的整数提问：「$i$ 是大了还是小了？」如果 $i$ 大于 $x+0.5$，Bessie 会回答 \"HI!\"，如果 $i$ 小于 $x+0.5$ 则回答 \"LO!\"。\n\nElsie 想到了以下猜测 Bessie 的数的策略。在进行任何猜测之前，她创建了一个包含 $N$ 个整数的序列，其中从 $1$ 到 $N$ 的每个数均恰好出现一次（换句话说，这个序列是长为 $N$ 的一个排列）。然后她遍历这一列表，按列表中的数的顺序依次猜数。然而，Elsie 会跳过所有不必要的猜测。也就是说，如果 Elsie 将要猜某个数 $i$，而 Elsie 之前已经猜过了某个 $j < i$ 并且 Bessie 回答 \"HI!\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。类似地，如果她将要猜某个数 $i$，而她之前已经猜过了某个 $j > i$ 并且 Bessie 回答 \"LO!\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。可以证明，使用这一策略，对于 Elsie 创建的任意序列，她都可以唯一确定 $x$。\n\n如果我们将所有 Bessie 回答的 \"HI\" 或 \"LO\" 拼接成一个字符串 $S$，那么 Bessie 说 \"HILO\" 的次数为 $S$ 等于 \"HILO\" 的长为 $4$ 的子串数量。\n\nBessie 知道 Elsie 将要使用这一策略，并且已经选定了值 $x$，但她不知道 Elsie 会使用什么排列。你的目标是对于所有 Elsie 可能选用的排列，计算 Bessie 说 \"HILO\" 的次数之和，对 $10^9+7$ 取模。", "inputFormat": "输入一行，包含 $N$ 和 $x$。", "outputFormat": "输出 HILO 的总数，对 $10^9+7$ 取模。", "hint": "【样例解释1】\n\n在这个测试用例中，Bessie 的数是 $2.5$。\n\n例如，如果 Elsie 的排列是 $(4,1,3,2)$，那么 Bessie 会说 \"\"HILOHILO\"，总计两次 \"HILO\"。又例如，如果 Elsie 的排列是 $(3,1,2,4)$，那么 Bessie 会说 \"HILOLO\"，总计一次 \"HILO\"。\n\n【样例解释2】\n\n确保输出总和对 $10^9+7$ 取模的结果。\n\n【数据范围】\n\n- 测试点 3-10 满足 $N\\le 50$；\n- 测试点 11-18 满足 $N\\le 500$；\n- 测试点 19-26 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC] HILO P", "background": "", "description": "Bessie 有一个数 $x+0.5$，其中 $x$ 是某个 $0$ 到 $N$ 之间的整数（$1\\le N\\le 5000$）。\n\nElsie 正试着猜这个数。她可以以如下形式对于某个 $1$ 到 $N$ 之间的整数提问：「$i$ 是大了还是小了？」如果 $i$ 大于 $x+0.5$，Bessie 会回答 \"HI!\"，如果 $i$ 小于 $x+0.5$ 则回答 \"LO!\"。\n\nElsie 想到了以下猜测 Bessie 的数的策略。在进行任何猜测之前，她创建了一个包含 $N$ 个整数的序列，其中从 $1$ 到 $N$ 的每个数均恰好出现一次（换句话说，这个序列是长为 $N$ 的一个排列）。然后她遍历这一列表，按列表中的数的顺序依次猜数。然而，Elsie 会跳过所有不必要的猜测。也就是说，如果 Elsie 将要猜某个数 $i$，而 Elsie 之前已经猜过了某个 $j < i$ 并且 Bessie 回答 \"HI!\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。类似地，如果她将要猜某个数 $i$，而她之前已经猜过了某个 $j > i$ 并且 Bessie 回答 \"LO!\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。可以证明，使用这一策略，对于 Elsie 创建的任意序列，她都可以唯一确定 $x$。\n\n如果我们将所有 Bessie 回答的 \"HI\" 或 \"LO\" 拼接成一个字符串 $S$，那么 Bessie 说 \"HILO\" 的次数为 $S$ 等于 \"HILO\" 的长为 $4$ 的子串数量。\n\nBessie 知道 Elsie 将要使用这一策略，并且已经选定了值 $x$，但她不知道 Elsie 会使用什么排列。你的目标是对于所有 Elsie 可能选用的排列，计算 Bessie 说 \"HILO\" 的次数之和，对 $10^9+7$ 取模。", "inputFormat": "输入一行，包含 $N$ 和 $x$。", "outputFormat": "输出 HILO 的总数，对 $10^9+7$ 取模。", "hint": "【样例解释1】\n\n在这个测试用例中，Bessie 的数是 $2.5$。\n\n例如，如果 Elsie 的排列是 $(4,1,3,2)$，那么 Bessie 会说 \"\"HILOHILO\"，总计两次 \"HILO\"。又例如，如果 Elsie 的排列是 $(3,1,2,4)$，那么 Bessie 会说 \"HILOLO\"，总计一次 \"HILO\"。\n\n【样例解释2】\n\n确保输出总和对 $10^9+7$ 取模的结果。\n\n【数据范围】\n\n- 测试点 3-10 满足 $N\\le 50$；\n- 测试点 11-18 满足 $N\\le 500$；\n- 测试点 19-26 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P7987", "type": "P", "difficulty": 5, "samples": [["2 5 2\n1 2\n3 2\n4 2\n5 1\n7 2", "6"], ["1 5 2\n1 2\n3 2\n4 2\n5 1\n7 2", "2"], ["2 15 7\n3 693\n10 196\n12 182\n14 22\n15 587\n31 773\n38 458\n39 58\n40 583\n41 992\n84 565\n86 897\n92 197\n96 146\n99 785", "2470"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "USACO", "2021"], "title": "[USACO21DEC] Paired Up G", "background": "", "description": "数轴上总计有 $N$（$1\\le N\\le 10^5$）头奶牛。第 $i$ 头奶牛的位置为 $x_i$（$0 \\leq x_i \\leq 10^9$），而第 $i$ 头奶牛的重量为 $y_i$（$1 \\leq y_i \\leq 10^4$）。\n\n根据 Farmer John 的信号，某些奶牛会组成对，使得\n\n- 每一对包含位置相差不超过 $K$ 的两头不同的奶牛 $a$ 和 $b$（$1\\le K\\le 10^9$）；也就是说，$|x_a-x_b|\\le K$。\n\n- 每一头奶牛要么包含在恰好一对中，要么不属于任何一对。\n\n- **配对是极大的**；也就是说，没有两头未配对的奶牛可以组成对。\n\n你需要求出未配对的奶牛的重量之和的可能的范围。具体地说，\n\n- 如果 $T=1$，计算未配对的奶牛的最小重量和。\n\n- 如果 $T=2$，计算未配对的奶牛的最大重量和。", "inputFormat": "输入的第一行包含 $T$，$N$ 和 $K$。\n\n以下 $N$ 行，第 $i$ 行包含 $x_i$ 和 $y_i$。输入保证 $0\\le x_1< x_2<\\cdots<x_{N}\\le 10^9$。", "outputFormat": "输出未配对的奶牛的最小或最大重量和。", "hint": "【样例解释1】\n\n在这个例子中，奶牛 $2$ 和 $4$ 可以配对，因为她们的距离为 $2$，不超过 $K = 2$。这个配对方案是极大的，因为奶牛 $1$ 和 $3$ 的距离为 $3$，奶牛 $3$ 和 $5$ 的距离为 $3$，奶牛 $1$ 和奶牛 $5$ 的距离为 $6$，均大于 $K = 2$。未配对的奶牛的重量和为 $2 + 2 + 2 = 6$。\n\n【样例解释2】\n\n在这里，奶牛 $1$ 和 $2$ 可以配对，因为她们的距离为 $2 \\leq K = 2$，同时奶牛 $4$ 和 $5$ 可以配对，因为她们的距离为 $2 \\leq K = 2$。这个配对方案是极大的，因为只剩下了奶牛 $3$。未配对的奶牛的重量和即为 $2$。\n\n【样例解释3】\n\n这个例子的答案为 $693+992+785=2470$。\n\n【数据范围】\n\n- 测试点 4-8 满足 $T=1$。\n- 测试点 9-14 满足 $T=2$ 且 $N\\le 5000$。\n- 测试点 15-20 满足 $T=2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC] Paired Up G", "background": "", "description": "数轴上总计有 $N$（$1\\le N\\le 10^5$）头奶牛。第 $i$ 头奶牛的位置为 $x_i$（$0 \\leq x_i \\leq 10^9$），而第 $i$ 头奶牛的重量为 $y_i$（$1 \\leq y_i \\leq 10^4$）。\n\n根据 Farmer John 的信号，某些奶牛会组成对，使得\n\n- 每一对包含位置相差不超过 $K$ 的两头不同的奶牛 $a$ 和 $b$（$1\\le K\\le 10^9$）；也就是说，$|x_a-x_b|\\le K$。\n\n- 每一头奶牛要么包含在恰好一对中，要么不属于任何一对。\n\n- **配对是极大的**；也就是说，没有两头未配对的奶牛可以组成对。\n\n你需要求出未配对的奶牛的重量之和的可能的范围。具体地说，\n\n- 如果 $T=1$，计算未配对的奶牛的最小重量和。\n\n- 如果 $T=2$，计算未配对的奶牛的最大重量和。", "inputFormat": "输入的第一行包含 $T$，$N$ 和 $K$。\n\n以下 $N$ 行，第 $i$ 行包含 $x_i$ 和 $y_i$。输入保证 $0\\le x_1< x_2<\\cdots<x_{N}\\le 10^9$。", "outputFormat": "输出未配对的奶牛的最小或最大重量和。", "hint": "【样例解释1】\n\n在这个例子中，奶牛 $2$ 和 $4$ 可以配对，因为她们的距离为 $2$，不超过 $K = 2$。这个配对方案是极大的，因为奶牛 $1$ 和 $3$ 的距离为 $3$，奶牛 $3$ 和 $5$ 的距离为 $3$，奶牛 $1$ 和奶牛 $5$ 的距离为 $6$，均大于 $K = 2$。未配对的奶牛的重量和为 $2 + 2 + 2 = 6$。\n\n【样例解释2】\n\n在这里，奶牛 $1$ 和 $2$ 可以配对，因为她们的距离为 $2 \\leq K = 2$，同时奶牛 $4$ 和 $5$ 可以配对，因为她们的距离为 $2 \\leq K = 2$。这个配对方案是极大的，因为只剩下了奶牛 $3$。未配对的奶牛的重量和即为 $2$。\n\n【样例解释3】\n\n这个例子的答案为 $693+992+785=2470$。\n\n【数据范围】\n\n- 测试点 4-8 满足 $T=1$。\n- 测试点 9-14 满足 $T=2$ 且 $N\\le 5000$。\n- 测试点 15-20 满足 $T=2$。", "locale": "zh-CN"}}}
{"pid": "P7988", "type": "P", "difficulty": 5, "samples": [["5\n5 1 2 4 3", "0\n1\n1\n2\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2021", "笛卡尔树"], "title": "[USACO21DEC] HILO G", "background": "", "description": "Bessie 有一个数 $x+0.5$，其中 $x$ 是某个 $0$ 到 $N$ 之间的整数（$1\\le N\\le 2 \\cdot 10^5$）。  \n\nElsie 正试着猜这个数。她可以以如下形式对于某个 $1$ 到 $N$ 之间的整数提问：「$i$ 是大了还是小了？」如果 $i$ 大于 $x+0.5$，Bessie 会回答 \"HI\"，如果 $i$ 小于 $x+0.5$ 则回答 \"LO\"。\n\nElsie 想到了以下猜测 Bessie 的数的策略。在进行任何猜测之前，她创建了一个包含 $N$ 个整数的序列，其中从 $1$ 到 $N$ 的每个数均恰好出现一次（换句话说，这个序列是长为 $N$ 的一个排列）。然后她遍历这一列表，按列表中的数的顺序依次猜数。\n\n然而，Elsie 会跳过所有不必要的猜测。也就是说，如果 Elsie 将要猜某个数 $i$，而 Elsie 之前已经猜过了某个 $j < i$ 并且 Bessie 回答 \"HI\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。类似地，如果她将要猜某个数 $i$，而她之前已经猜过了某个 $j > i$ 并且 Bessie 回答 \"LO\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。可以证明，使用这一策略，对于 Elsie 创建的任意序列，她都可以唯一确定 $x$。\n\n如果我们将所有 Bessie 回答的 \"HI\" 或 \"LO\" 拼接成一个字符串 $S$，那么 Bessie 说 \"HILO\" 的次数为 $S$ 等于 \"HILO\" 的长为 $4$ 的子串数量。\n\nBessie 知道 Elsie 将要使用这一策略；此外，她还知道 Elsie 将要使用的排列。然而， Bessie 尚未决定选用哪个值 $x$。\n\n帮助 Bessie 对于每个值 $x$ 求出她会说 \"HILO\" 的次数。\n", "inputFormat": "输入的第一行包含 $N$。\n\n第二行包含 Elsie 的长为 $N$ 的排列。", "outputFormat": "对于从 $0$ 到 $N$ 的每一个 $x$，输出一行，包含 Bessie 会说 HILO 的次数。", "hint": "【样例解释】\n\n对于 $x=0$，Bessie 会说 \"HIHI\"，总计零次 \"HILO\"。\n\n对于 $x=2$，Bessie 会说 \"HILOLOHIHI\"，总计一次 \"HILO\"。\n\n对于 $x=3$，Bessie 会说 \"HILOLOHILO\"，总计两次 \"HILO\"。\n\n【数据范围】\n\n- 测试点 1-4 满足 $N \\leq 5000$。\n- 测试点 5-8 为均匀随机的排列。\n- 测试点 9-20 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC] HILO G", "background": "", "description": "Bessie 有一个数 $x+0.5$，其中 $x$ 是某个 $0$ 到 $N$ 之间的整数（$1\\le N\\le 2 \\cdot 10^5$）。  \n\nElsie 正试着猜这个数。她可以以如下形式对于某个 $1$ 到 $N$ 之间的整数提问：「$i$ 是大了还是小了？」如果 $i$ 大于 $x+0.5$，Bessie 会回答 \"HI\"，如果 $i$ 小于 $x+0.5$ 则回答 \"LO\"。\n\nElsie 想到了以下猜测 Bessie 的数的策略。在进行任何猜测之前，她创建了一个包含 $N$ 个整数的序列，其中从 $1$ 到 $N$ 的每个数均恰好出现一次（换句话说，这个序列是长为 $N$ 的一个排列）。然后她遍历这一列表，按列表中的数的顺序依次猜数。\n\n然而，Elsie 会跳过所有不必要的猜测。也就是说，如果 Elsie 将要猜某个数 $i$，而 Elsie 之前已经猜过了某个 $j < i$ 并且 Bessie 回答 \"HI\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。类似地，如果她将要猜某个数 $i$，而她之前已经猜过了某个 $j > i$ 并且 Bessie 回答 \"LO\"，Elsie 不会再猜 $i$，而是继续猜序列中的下一个数。可以证明，使用这一策略，对于 Elsie 创建的任意序列，她都可以唯一确定 $x$。\n\n如果我们将所有 Bessie 回答的 \"HI\" 或 \"LO\" 拼接成一个字符串 $S$，那么 Bessie 说 \"HILO\" 的次数为 $S$ 等于 \"HILO\" 的长为 $4$ 的子串数量。\n\nBessie 知道 Elsie 将要使用这一策略；此外，她还知道 Elsie 将要使用的排列。然而， Bessie 尚未决定选用哪个值 $x$。\n\n帮助 Bessie 对于每个值 $x$ 求出她会说 \"HILO\" 的次数。\n", "inputFormat": "输入的第一行包含 $N$。\n\n第二行包含 Elsie 的长为 $N$ 的排列。", "outputFormat": "对于从 $0$ 到 $N$ 的每一个 $x$，输出一行，包含 Bessie 会说 HILO 的次数。", "hint": "【样例解释】\n\n对于 $x=0$，Bessie 会说 \"HIHI\"，总计零次 \"HILO\"。\n\n对于 $x=2$，Bessie 会说 \"HILOLOHIHI\"，总计一次 \"HILO\"。\n\n对于 $x=3$，Bessie 会说 \"HILOLOHILO\"，总计两次 \"HILO\"。\n\n【数据范围】\n\n- 测试点 1-4 满足 $N \\leq 5000$。\n- 测试点 5-8 为均匀随机的排列。\n- 测试点 9-20 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P7989", "type": "P", "difficulty": 4, "samples": [["5\n\n1 2\n2 1 1\n2 1 1\n\n1 3\n2 1 1\n0\n2 1 1\n\n2 1\n4 1 2 1 2\n\n4 2\n6 1 2 2 3 3 1\n6 1 2 4 4 2 1\n\n2 2\n4 1 1 2 2\n4 2 2 1 1", "YES\nNO\nNO\nYES\nNO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2021", "分类讨论"], "title": "[USACO21DEC] Bracelet Crossings G", "background": "", "description": "奶牛 Bessie 喜欢手工艺。在她的空闲时间，她制作了 $N$（$1\\le N\\le 50$）个手链，编号为 $1 \\ldots N$。第 $i$ 个手链涂有颜色 $i$，是 $N$ 种不同的颜色之一。制作完手链后，Bessie 将它们放在桌子上进行展示（我们可以将其视为二维平面）。她精心布置这些手链，以满足以下三个条件：\n\n- 每个手链是一个简单闭合折线——一组顶点（点）依次用线段连接，并且第一个点和最后一个点相同（欢迎查阅维基百科页面了解更多详情：[Polygonal_chain](https://en.wikipedia.org/wiki/Polygonal_chain)，或百度百科：[折线](https://baike.baidu.com/item/%E6%8A%98%E7%BA%BF/486302)），\n\n- 没有手链与自身相交（这对应「简单」折线）；\n\n- 以及没有两条手链相交。\n\n不幸的是，就在 Bessie 如此小心翼翼地布置好手链之后，Farmer John 开着拖拉机经过，桌子晃动起来，导致手链四处移动甚至可能断成了多个（不一定是闭合的或简单的）折线！在那之后，Bessie 还是想检查以上三个条件是否仍然成立。然而，天色已暗，她现在无法看清手链。\n\n幸好 Bessie 有一个手电筒。她选择了 $M$（$1\\le M\\le 50$）条垂直线 $x=1, x=2, \\ldots, x=M$，并且对于每条线，她用手电筒的光沿着那条线从 $y=-\\infty$ 扫至 $y=\\infty$，按照出现的顺序记录她看到的所有手链的颜色。幸运的是，没有光束穿过任何折线的顶点或同时穿过两条线段。此外，对于每一束光，所有出现的颜色都恰好出现了两次。\n\n你能帮助 Bessie 使用此信息来确定手链是否仍然满足上述所有三个条件吗？", "inputFormat": "每个测试用例的输入包含 $T$ 个子测试用例（$1 \\leq T \\leq 50$），所有子测试用例必须全部回答正确才能通过整个测试用例。相邻的子测试用例之间用空行分隔。\n\n输入的第一行包含 $T$。之后是 $T$ 个子测试用例。\n\n每个子测试用例的第一行包含两个整数 $N$ 和 $M$。此后每个子测试用例还包含 $M$ 行。对 $1$ 到 $M$ 的每一个 $i$，第 $i$ 行包含一个整数 $k_i$（$0\\le k_i\\le 2N$，$k_i$ 为偶数），然后是 $k_i$ 个整数 $c_{i1}, c_{i2},\\ldots, c_{ik_i}$（$c_{ij}\\in [1,N]$，每个 $c_{ij}$ 出现零次或两次)。这表示当 Bessie 将手电筒从 $(i,-\\infty)$ 扫至 $(i,\\infty)$ 时，她按顺序 $c_{i1}, c_{i2},\\ldots, c_{ik_i}$ 看到了这些颜色。\n", "outputFormat": "对每个子测试用例，如果有可能使得以上三个条件均满足则输出 YES。否则，输出 NO。", "hint": "【样例解释】\n\n对于第一个子测试用例，一组可行的手链位置为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/q3mohld2.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n对于第四个子测试用例，一组可行的手链位置为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8m2hcgbb.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n【数据范围】\n\n- 测试点 2 满足 $N = 1$。\n- 测试点 3-5 满足 $N=2$。\n- 测试点 6-8 满足 $M=1$。\n- 测试点 9-14 满足 $M=2$。\n- 测试点 15-20 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC] Bracelet Crossings G", "background": "", "description": "奶牛 Bessie 喜欢手工艺。在她的空闲时间，她制作了 $N$（$1\\le N\\le 50$）个手链，编号为 $1 \\ldots N$。第 $i$ 个手链涂有颜色 $i$，是 $N$ 种不同的颜色之一。制作完手链后，Bessie 将它们放在桌子上进行展示（我们可以将其视为二维平面）。她精心布置这些手链，以满足以下三个条件：\n\n- 每个手链是一个简单闭合折线——一组顶点（点）依次用线段连接，并且第一个点和最后一个点相同（欢迎查阅维基百科页面了解更多详情：[Polygonal_chain](https://en.wikipedia.org/wiki/Polygonal_chain)，或百度百科：[折线](https://baike.baidu.com/item/%E6%8A%98%E7%BA%BF/486302)），\n\n- 没有手链与自身相交（这对应「简单」折线）；\n\n- 以及没有两条手链相交。\n\n不幸的是，就在 Bessie 如此小心翼翼地布置好手链之后，Farmer John 开着拖拉机经过，桌子晃动起来，导致手链四处移动甚至可能断成了多个（不一定是闭合的或简单的）折线！在那之后，Bessie 还是想检查以上三个条件是否仍然成立。然而，天色已暗，她现在无法看清手链。\n\n幸好 Bessie 有一个手电筒。她选择了 $M$（$1\\le M\\le 50$）条垂直线 $x=1, x=2, \\ldots, x=M$，并且对于每条线，她用手电筒的光沿着那条线从 $y=-\\infty$ 扫至 $y=\\infty$，按照出现的顺序记录她看到的所有手链的颜色。幸运的是，没有光束穿过任何折线的顶点或同时穿过两条线段。此外，对于每一束光，所有出现的颜色都恰好出现了两次。\n\n你能帮助 Bessie 使用此信息来确定手链是否仍然满足上述所有三个条件吗？", "inputFormat": "每个测试用例的输入包含 $T$ 个子测试用例（$1 \\leq T \\leq 50$），所有子测试用例必须全部回答正确才能通过整个测试用例。相邻的子测试用例之间用空行分隔。\n\n输入的第一行包含 $T$。之后是 $T$ 个子测试用例。\n\n每个子测试用例的第一行包含两个整数 $N$ 和 $M$。此后每个子测试用例还包含 $M$ 行。对 $1$ 到 $M$ 的每一个 $i$，第 $i$ 行包含一个整数 $k_i$（$0\\le k_i\\le 2N$，$k_i$ 为偶数），然后是 $k_i$ 个整数 $c_{i1}, c_{i2},\\ldots, c_{ik_i}$（$c_{ij}\\in [1,N]$，每个 $c_{ij}$ 出现零次或两次)。这表示当 Bessie 将手电筒从 $(i,-\\infty)$ 扫至 $(i,\\infty)$ 时，她按顺序 $c_{i1}, c_{i2},\\ldots, c_{ik_i}$ 看到了这些颜色。\n", "outputFormat": "对每个子测试用例，如果有可能使得以上三个条件均满足则输出 YES。否则，输出 NO。", "hint": "【样例解释】\n\n对于第一个子测试用例，一组可行的手链位置为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/q3mohld2.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n对于第四个子测试用例，一组可行的手链位置为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8m2hcgbb.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n【数据范围】\n\n- 测试点 2 满足 $N = 1$。\n- 测试点 3-5 满足 $N=2$。\n- 测试点 6-8 满足 $M=1$。\n- 测试点 9-14 满足 $M=2$。\n- 测试点 15-20 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P7990", "type": "P", "difficulty": 5, "samples": [["6 5 2\n0 4\n4 6\n8 10\n10 8\n12 12\n13 14\n2\n3\n5\n7\n11", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "USACO", "2021"], "title": "[USACO21DEC] Closest Cow Wins S", "background": "", "description": "Farmer John 沿着一条高速公路拥有一个很长的农场，可以被看作类似于一维数轴。沿着农场有 $K$ 块草地（$1 \\leq K \\leq 2\\cdot 10^5$）；第 $i$ 块草地位于位置 $p_i$ 并具有美味值 $t_i$（$0\\le t_i\\le 10^9$）。Farmer John 的死对头 Farmer Nhoj 已经将他的 $M$ 头奶牛（$1 \\leq M \\leq 2\\cdot 10^5$）放在了位置 $f_1 \\ldots f_M$ 。所有这些 $K+M$ 个位置均是 $[0,10^9]$ 范围内的不同整数。\n\nFarmer John 需要选择 $N$（$1\\le N\\le 2\\cdot 10^5$）个位置（不一定是整数）放置他的奶牛。这些位置必须与 Farmer Nhoj 的奶牛已经占用的位置不同，但是 Farmer John 可以将他的奶牛放在与草地相同的位置。\n\n拥有最靠近某个草地的奶牛的农夫拥有这一草地。如果来自两方农夫的两头奶牛距这一草地相等，则 Farmer Nhoj 拥有该草地。\n\n给定 Farmer Nhoj 的奶牛的位置以及草地的位置和美味值，求 Farmer John 的奶牛以最优方式放置时可以达到的最大总美味值。", "inputFormat": "输入的第一行包含 $K$、$M$ 和 $N$。\n\n以下 $K$ 行每行包含两个空格分隔的整数 $p_i$ 和 $t_i$。\n\n以下 $M$ 行每行包含一个整数 $f_i$。", "outputFormat": "输出一个整数，表示最大总美味值。注意这个问题的答案可能无法用 32 位整数型存储，你可能需要使用 64 位整数型（例如，C 或 C++ 中的 \"long long\"）。", "hint": "【样例解释】\n\n如果 Farmer John 将奶牛放在位置 $11.5$ 和 $8$ 则他可以得到总美味值 $10+12+14=36$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO21DEC] Closest Cow Wins S", "background": "", "description": "Farmer John 沿着一条高速公路拥有一个很长的农场，可以被看作类似于一维数轴。沿着农场有 $K$ 块草地（$1 \\leq K \\leq 2\\cdot 10^5$）；第 $i$ 块草地位于位置 $p_i$ 并具有美味值 $t_i$（$0\\le t_i\\le 10^9$）。Farmer John 的死对头 Farmer Nhoj 已经将他的 $M$ 头奶牛（$1 \\leq M \\leq 2\\cdot 10^5$）放在了位置 $f_1 \\ldots f_M$ 。所有这些 $K+M$ 个位置均是 $[0,10^9]$ 范围内的不同整数。\n\nFarmer John 需要选择 $N$（$1\\le N\\le 2\\cdot 10^5$）个位置（不一定是整数）放置他的奶牛。这些位置必须与 Farmer Nhoj 的奶牛已经占用的位置不同，但是 Farmer John 可以将他的奶牛放在与草地相同的位置。\n\n拥有最靠近某个草地的奶牛的农夫拥有这一草地。如果来自两方农夫的两头奶牛距这一草地相等，则 Farmer Nhoj 拥有该草地。\n\n给定 Farmer Nhoj 的奶牛的位置以及草地的位置和美味值，求 Farmer John 的奶牛以最优方式放置时可以达到的最大总美味值。", "inputFormat": "输入的第一行包含 $K$、$M$ 和 $N$。\n\n以下 $K$ 行每行包含两个空格分隔的整数 $p_i$ 和 $t_i$。\n\n以下 $M$ 行每行包含一个整数 $f_i$。", "outputFormat": "输出一个整数，表示最大总美味值。注意这个问题的答案可能无法用 32 位整数型存储，你可能需要使用 64 位整数型（例如，C 或 C++ 中的 \"long long\"）。", "hint": "【样例解释】\n\n如果 Farmer John 将奶牛放在位置 $11.5$ 和 $8$ 则他可以得到总美味值 $10+12+14=36$。\n", "locale": "zh-CN"}}}
