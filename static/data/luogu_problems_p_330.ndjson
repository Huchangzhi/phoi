{"pid": "P7685", "type": "P", "difficulty": 5, "samples": [["5 9\n0 1 1 1 1\n1 0 2 3 2\n1 1 0 4 1\n2 1 5 0 1\n4 2 3 4 0\n4 2 4 1 5 4 3 2 1", "5\n1 2 1 2 2 1 3 1 3 "]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "2005", "Special Judge", "CEOI（中欧）"], "title": "[CEOI 2005] Mobile Service", "background": "", "description": "一家公司为其位于不同城镇的合作伙伴提供服务。公司现有流动服务人员 $3$ 名。如果服务请求发生在某个位置，服务人员必须从他当前的位置移动到请求的位置（如果没有员工在那里）以满足请求。任何时候只有一名员工可以移动。他们只能应要求移动，并且不允许多名员工在同一位置。将员工从位置 $p$ 移动到位置 $q$ 会产生一定的成本 $C(p,q)$。成本计算不一定是对等的，但不动代价为 $0$，即 $C(p,p)=0$。公司必须以严格按照先请求先得服务的原则满足收到的要求。  \n请您编写一个程序，该程序决定服务人员中的哪位员工要为每个请求移动，以便为给定的请求列表提供服务的总成本尽可能小。", "inputFormat": "第一行包含两个整数 $L$ 和 $N$。$L$ 是表示位置的数，$N$ 是请求数。位置由从 $1$ 到 $L$ 的整数表示。接下来的 $L$ 行中的每一行都包含 $L$ 个非负整数。第 $i+1$ 行第 $j$ 个数字是成本 $C(i,j)$。最后一行包含 $N$ 个整数，为请求列表。请求由发生请求的位置的标识符标识。起初，三名服务人员分别位于位置 $1,2$ 和 $3$，并以此为三名服务人员进行标识。", "outputFormat": "第一行包含一个整数 $M$，它是为请求的列表提供服务的最小总成本。第二行正好包含 $N$ 个整数。第 $i$ 个编号是将为第 $i$ 个请求提供服务的服务人员的标识符（$1,2 $ 或 $3$）。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$3 \\leq L \\leq 200$，$1 \\leq N \\leq 1000$，$C(i,j) <2000$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Mobile  Service。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \nSpecial Judge 感谢 @[Cat_shao](/user/234011)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2005] Mobile Service", "background": "", "description": "一家公司为其位于不同城镇的合作伙伴提供服务。公司现有流动服务人员 $3$ 名。如果服务请求发生在某个位置，服务人员必须从他当前的位置移动到请求的位置（如果没有员工在那里）以满足请求。任何时候只有一名员工可以移动。他们只能应要求移动，并且不允许多名员工在同一位置。将员工从位置 $p$ 移动到位置 $q$ 会产生一定的成本 $C(p,q)$。成本计算不一定是对等的，但不动代价为 $0$，即 $C(p,p)=0$。公司必须以严格按照先请求先得服务的原则满足收到的要求。  \n请您编写一个程序，该程序决定服务人员中的哪位员工要为每个请求移动，以便为给定的请求列表提供服务的总成本尽可能小。", "inputFormat": "第一行包含两个整数 $L$ 和 $N$。$L$ 是表示位置的数，$N$ 是请求数。位置由从 $1$ 到 $L$ 的整数表示。接下来的 $L$ 行中的每一行都包含 $L$ 个非负整数。第 $i+1$ 行第 $j$ 个数字是成本 $C(i,j)$。最后一行包含 $N$ 个整数，为请求列表。请求由发生请求的位置的标识符标识。起初，三名服务人员分别位于位置 $1,2$ 和 $3$，并以此为三名服务人员进行标识。", "outputFormat": "第一行包含一个整数 $M$，它是为请求的列表提供服务的最小总成本。第二行正好包含 $N$ 个整数。第 $i$ 个编号是将为第 $i$ 个请求提供服务的服务人员的标识符（$1,2 $ 或 $3$）。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$3 \\leq L \\leq 200$，$1 \\leq N \\leq 1000$，$C(i,j) <2000$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Mobile  Service。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \nSpecial Judge 感谢 @[Cat_shao](/user/234011)。", "locale": "zh-CN"}}}
{"pid": "P7686", "type": "P", "difficulty": 2, "samples": [["4 6\n1 2 1 2 3 3", "3\n1 2 3"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240, 10240]}, "tags": ["2005", "CEOI（中欧）"], "title": "[CEOI 2005] Multi-key Sorting", "background": "", "description": "考虑一个包含行和列的表。列从 $1$ 到 $C$ 编号。为简单起见，表中的项目是由小写字母组成的字符串。  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/z70sexo1.png)  \n您将获得对此类表的 Sort($k$) 操作：Sort($k$) 按照列 $k$ 中的值的顺序对表的行进行排序（而列的顺序不会改变）。排序是稳定的，即在第 $k$ 列中具有相等值的行保持其原始顺序。例如，将 Sort($2$) 应用于表 $1$ 会产生表 $2$。  \n我们对此类排序操作的序列感兴趣。这些操作依次应用于同一个表。例如，应用序列 Sort($2$)；Sort($1$) 到表 $1$ 产生表 $3$。  \n如果两个排序操作序列对于任何表具有相同的效果，则它们被称为等效。例如，Sort($2$)；Sort($2$)；Sort($1$) 等效于 Sort($2$)；Sort($1$)。但是，它不等效于 Sort($1$)；Sort($2$)，因为对表 $1$ 的影响不同。", "inputFormat": "第一行包含两个整数，$C$ 和 $N$。$C$ 是列数，$N$ 是排序操作数。第二行包含 $N$ 个整数，$k_i$。它定义了排序操作的顺序 Sort($k_1$)；$\\cdots$； Sort($k_N$)。", "outputFormat": "第一行包含一个整数 $M$，为输入的操作序列的最短等效排序操作序列的长度。第二行包含 $M$ 个整数，表示其最短操作序列。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq C \\leq 10^6$，$1 \\leq N \\leq 3×10^6$，$1 \\leq k_i \\leq C$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Multi-key Sorting。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2005] Multi-key Sorting", "background": "", "description": "考虑一个包含行和列的表。列从 $1$ 到 $C$ 编号。为简单起见，表中的项目是由小写字母组成的字符串。  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/z70sexo1.png)  \n您将获得对此类表的 Sort($k$) 操作：Sort($k$) 按照列 $k$ 中的值的顺序对表的行进行排序（而列的顺序不会改变）。排序是稳定的，即在第 $k$ 列中具有相等值的行保持其原始顺序。例如，将 Sort($2$) 应用于表 $1$ 会产生表 $2$。  \n我们对此类排序操作的序列感兴趣。这些操作依次应用于同一个表。例如，应用序列 Sort($2$)；Sort($1$) 到表 $1$ 产生表 $3$。  \n如果两个排序操作序列对于任何表具有相同的效果，则它们被称为等效。例如，Sort($2$)；Sort($2$)；Sort($1$) 等效于 Sort($2$)；Sort($1$)。但是，它不等效于 Sort($1$)；Sort($2$)，因为对表 $1$ 的影响不同。", "inputFormat": "第一行包含两个整数，$C$ 和 $N$。$C$ 是列数，$N$ 是排序操作数。第二行包含 $N$ 个整数，$k_i$。它定义了排序操作的顺序 Sort($k_1$)；$\\cdots$； Sort($k_N$)。", "outputFormat": "第一行包含一个整数 $M$，为输入的操作序列的最短等效排序操作序列的长度。第二行包含 $M$ 个整数，表示其最短操作序列。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq C \\leq 10^6$，$1 \\leq N \\leq 3×10^6$，$1 \\leq k_i \\leq C$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Multi-key Sorting。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7687", "type": "P", "difficulty": 5, "samples": [["9 10 3 4\n2 4 5\n4 9 8 3\n1 2\n4 1\n2 3\n4 2\n1 5\n5 6\n6 7\n6 8\n7 9\n8 7", "3\n3 2\n5 6\n7 9"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2005", "Special Judge", "CEOI（中欧）", "Tarjan"], "title": "[CEOI 2005] Critical Network Lines", "background": "", "description": "一个通信网络包含若干个节点，以及若干条直接连接这些节点的双向**通信线路**。已知所研究的通信网络是连通的，即：任意一对节点之间都存在（若干条**通信线路**首尾相接而成的）**通信路径**。\n\n一些节点会向所有节点（包括它自己）提供 $A$ 类型服务，还有一些节点会向所有节点（包括它自己）提供 $B$ 类型服务。一个节点可能会同时提供两种类型的服务。每个节点都必须要访问这两种服务。\n\n当一条**通信线路**断开时，可能会出现某个节点不能访问某种服务的情况。（即：存在某个节点以及某种服务，使得不存在任何提供该类型服务，且与该节点连通的节点）我们称会造成这种情况的**通信线路**为**关键通信线路**。\n\n你的任务是，写一个程序计算有多少条**关键通信线路**，并求出每条**关键通信线路**所连接的两个端点。", "inputFormat": "输入第一行包含四个整数 $N,M,K,L$。其中，$N \\; (1 \\le N \\le 10^5)$ 表示通信网络的节点数，$M \\; (1 \\le M \\le 10^6)$ 表示通信网络的**通信线路**数，$K \\; (1 \\le K \\le N)$ 表示提供 $A$ 类型服务的节点数，$L \\; (1 \\le L \\le N)$ 表示提供 $B$ 类型服务的节点数。节点编号为 $1$ 到 $N$。\n\n第二行包含 $K$ 个整数，表示提供 $A$ 类型服务的节点编号。\n\n第三行包含 $L$ 个整数，表示提供 $B$ 类型服务的节点编号。\n\n接下来 $M$ 行，每行包含两个整数 $p,q \\; (1 \\le p,q \\le N,p \\neq q)$，表示一条**通信线路**的两个端点的编号。保证任意两个节点之间至多只有一条**通信线路**。", "outputFormat": "输出第一行包含一个整数 $S$，表示**关键通信线路**的数量。\n\n接下来 $S$ 行，每行包含两个整数 $p,q$，表示一条**关键通信线路**所连接的两个端点的编号。\n\n**关键通信线路**的顺序任意，每一条**关键通信线路**所连接的两个端点的顺序也任意。", "hint": "本题为 CEOI2005 D2T2，原题面请见：[Critical Network Lines](http://ceoi.inf.elte.hu/ceoi2005/download/tasks/day2/net.htm)。\n\n感谢 @[wsyhb](https://www.luogu.com.cn/user/145355) 提供的 Special Judge！", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2005] Critical Network Lines", "background": "", "description": "一个通信网络包含若干个节点，以及若干条直接连接这些节点的双向**通信线路**。已知所研究的通信网络是连通的，即：任意一对节点之间都存在（若干条**通信线路**首尾相接而成的）**通信路径**。\n\n一些节点会向所有节点（包括它自己）提供 $A$ 类型服务，还有一些节点会向所有节点（包括它自己）提供 $B$ 类型服务。一个节点可能会同时提供两种类型的服务。每个节点都必须要访问这两种服务。\n\n当一条**通信线路**断开时，可能会出现某个节点不能访问某种服务的情况。（即：存在某个节点以及某种服务，使得不存在任何提供该类型服务，且与该节点连通的节点）我们称会造成这种情况的**通信线路**为**关键通信线路**。\n\n你的任务是，写一个程序计算有多少条**关键通信线路**，并求出每条**关键通信线路**所连接的两个端点。", "inputFormat": "输入第一行包含四个整数 $N,M,K,L$。其中，$N \\; (1 \\le N \\le 10^5)$ 表示通信网络的节点数，$M \\; (1 \\le M \\le 10^6)$ 表示通信网络的**通信线路**数，$K \\; (1 \\le K \\le N)$ 表示提供 $A$ 类型服务的节点数，$L \\; (1 \\le L \\le N)$ 表示提供 $B$ 类型服务的节点数。节点编号为 $1$ 到 $N$。\n\n第二行包含 $K$ 个整数，表示提供 $A$ 类型服务的节点编号。\n\n第三行包含 $L$ 个整数，表示提供 $B$ 类型服务的节点编号。\n\n接下来 $M$ 行，每行包含两个整数 $p,q \\; (1 \\le p,q \\le N,p \\neq q)$，表示一条**通信线路**的两个端点的编号。保证任意两个节点之间至多只有一条**通信线路**。", "outputFormat": "输出第一行包含一个整数 $S$，表示**关键通信线路**的数量。\n\n接下来 $S$ 行，每行包含两个整数 $p,q$，表示一条**关键通信线路**所连接的两个端点的编号。\n\n**关键通信线路**的顺序任意，每一条**关键通信线路**所连接的两个端点的顺序也任意。", "hint": "本题为 CEOI2005 D2T2，原题面请见：[Critical Network Lines](http://ceoi.inf.elte.hu/ceoi2005/download/tasks/day2/net.htm)。\n\n感谢 @[wsyhb](https://www.luogu.com.cn/user/145355) 提供的 Special Judge！", "locale": "zh-CN"}}}
{"pid": "P7688", "type": "P", "difficulty": 5, "samples": [["20 3\n7\n4 2 10 9 16 15 17", "9\n6\n4 1\n1 4\n2 7\n3 10\n6 13\n5 16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2005", "Special Judge", "CEOI（中欧）"], "title": "[CEOI 2005] Ticket Office", "background": "", "description": "售票处在出售音乐会门票，但它不销售单个座位的门票，而是销售固定数量的连续座位的成组门票。该售票处办公室已收到大量采购订单。一组座位的采购订单指定该组座位中最低的座位号。而办公室可能无法完成所有采购订单。此外，如果它只完全按照采购订单中的要求分配座位，那么大量作位可能会保持空置。因此，办公室采用以下分配和定价策略。如果采购订单被接受并且分配的座位正是所要求的座位，那么购买者支付全价（$2$ petaks）。如果采购订单被接受，但分配的座位与请求的座位不同（至少在一个位置上），则购买者支付半价（$1$ petak）。目标是使总收入最大化。  \n请您编写一个程序来计算可以实现的最大收入，并将座位分配给选定的订单以实现该收入。", "inputFormat": "第一行包含两个整数，$M$ 和 $L$。$M$ 是座位数，$L$ 是每组中连续的座位号。座位号从 $1$ 到 $M$。第二行包含一个整数 $N$，即采购订单的数量。第三行包含 $N$ 个整数，定义采购订单，其行中的第 $i$ 个数字 $z$ 表示第 $i$ 个购买者要求从座位 $z$ 开始到座位 $z+L-1$ 结束的一组座位。", "outputFormat": "第一行包含一个整数 $S$，即最大收入。第二行包含一个整数 $Q$，即已接受订单的数量。 接下来的 $Q$ 行描述了座位分配。每行包含一对整数 $x$ $y$。一对 $x$ $y$ 表示购买者 $x$ 从座位号 $y$ 开始获得座位。这些行必须按座位号的升序排列。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据， $1 \\leq M \\leq 3×10^4$，$1 \\leq L \\leq 100$，$1 \\leq N \\leq 10^5$，$1 \\leq z \\leq M-L+1$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Ticket Office。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \nSpecial Judge 感谢 @[Azazеl](/user/160701)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2005] Ticket Office", "background": "", "description": "售票处在出售音乐会门票，但它不销售单个座位的门票，而是销售固定数量的连续座位的成组门票。该售票处办公室已收到大量采购订单。一组座位的采购订单指定该组座位中最低的座位号。而办公室可能无法完成所有采购订单。此外，如果它只完全按照采购订单中的要求分配座位，那么大量作位可能会保持空置。因此，办公室采用以下分配和定价策略。如果采购订单被接受并且分配的座位正是所要求的座位，那么购买者支付全价（$2$ petaks）。如果采购订单被接受，但分配的座位与请求的座位不同（至少在一个位置上），则购买者支付半价（$1$ petak）。目标是使总收入最大化。  \n请您编写一个程序来计算可以实现的最大收入，并将座位分配给选定的订单以实现该收入。", "inputFormat": "第一行包含两个整数，$M$ 和 $L$。$M$ 是座位数，$L$ 是每组中连续的座位号。座位号从 $1$ 到 $M$。第二行包含一个整数 $N$，即采购订单的数量。第三行包含 $N$ 个整数，定义采购订单，其行中的第 $i$ 个数字 $z$ 表示第 $i$ 个购买者要求从座位 $z$ 开始到座位 $z+L-1$ 结束的一组座位。", "outputFormat": "第一行包含一个整数 $S$，即最大收入。第二行包含一个整数 $Q$，即已接受订单的数量。 接下来的 $Q$ 行描述了座位分配。每行包含一对整数 $x$ $y$。一对 $x$ $y$ 表示购买者 $x$ 从座位号 $y$ 开始获得座位。这些行必须按座位号的升序排列。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据， $1 \\leq M \\leq 3×10^4$，$1 \\leq L \\leq 100$，$1 \\leq N \\leq 10^5$，$1 \\leq z \\leq M-L+1$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Ticket Office。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \nSpecial Judge 感谢 @[Azazеl](/user/160701)。", "locale": "zh-CN"}}}
{"pid": "P7689", "type": "P", "difficulty": 6, "samples": [["2\n6 6 5\n1 4\n4 6\n2 2\n3 6\n6 4\n6 5 4\n3 3\n6 1\n6 2\n6 4", "3\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192]}, "tags": ["2002", "CEOI（中欧）", "深度优先搜索 DFS", "状压 DP"], "title": "[CEOI 2002] Bugs Integrated,Inc.", "background": null, "description": "Bugs Integrated,Inc. 是高级存储芯片的主要制造商。他们正在开始生产新的 $6$ TB Q-RAM 芯片。每个芯片由以 $2×3$ 的矩形排列的六个方形硅片块组成。Q-RAM 芯片的制造方式是将一块长方形的大硅片分成 $N×M$ 个方形硅片块。然后仔细测试所有方形硅片块，坏的用黑色标记。  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/qqjfauh0.png)  \n最后，将硅片切割成存储芯片。每个芯片由 $2×3$（或\n $3×2$）单位方形硅片块组成。当然，任何芯片都不能包含任何坏的（标记的）方形硅片块。它可能不能将硅片切割成每一个好的方形硅片块都成为某些存储芯片的一部分。该公司希望尽可能少地浪费好方形硅片块。因此他们想知道如何切割硅片以尽可能多地切出芯片。  \n现您将获得几个硅片的尺寸和其每个硅片所有坏方形硅片块的列表。你的任务是编写一个程序，计算每个硅片最多可以从其切下的芯片数量。", "inputFormat": "第一行由一个整数 $D$ 组成，表示硅片的数量。接下来 $D$ 个部分，每个部分描述一个硅片。每个部分的第一行包含三个整数 $N$，$M$，$K$，其间由单个空格分隔。$N$ 是硅片的长度，$M$ 是它的高度，$K$ 是硅片中坏方硅片块的数量。以下 $K$ 行包含一个坏方硅片块列表。每行包含两个整数 $x$ 和 $y$，表示一个坏方硅片块的坐标（左上角的坐标为（$1,1$），右下角是 （$N,M$））。", "outputFormat": "每行输出每个硅片最多可以从其切下的芯片数量。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq D \\leq 5$，$1 \\leq N \\leq 150$，$1 \\leq M \\leq 10$，$0 \\leq K \\leq M×N$，$1 \\leq x \\leq N$，$1 \\leq y \\leq M$。  \n#### 样例说明  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/v4ugwh72.png)  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2002 的 [Bugs Integrated,Inc.](https://web.ics.upjs.sk/ceoi/documents/tasks/bugs-tsk.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2002] Bugs Integrated,Inc.", "background": null, "description": "Bugs Integrated,Inc. 是高级存储芯片的主要制造商。他们正在开始生产新的 $6$ TB Q-RAM 芯片。每个芯片由以 $2×3$ 的矩形排列的六个方形硅片块组成。Q-RAM 芯片的制造方式是将一块长方形的大硅片分成 $N×M$ 个方形硅片块。然后仔细测试所有方形硅片块，坏的用黑色标记。  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/qqjfauh0.png)  \n最后，将硅片切割成存储芯片。每个芯片由 $2×3$（或\n $3×2$）单位方形硅片块组成。当然，任何芯片都不能包含任何坏的（标记的）方形硅片块。它可能不能将硅片切割成每一个好的方形硅片块都成为某些存储芯片的一部分。该公司希望尽可能少地浪费好方形硅片块。因此他们想知道如何切割硅片以尽可能多地切出芯片。  \n现您将获得几个硅片的尺寸和其每个硅片所有坏方形硅片块的列表。你的任务是编写一个程序，计算每个硅片最多可以从其切下的芯片数量。", "inputFormat": "第一行由一个整数 $D$ 组成，表示硅片的数量。接下来 $D$ 个部分，每个部分描述一个硅片。每个部分的第一行包含三个整数 $N$，$M$，$K$，其间由单个空格分隔。$N$ 是硅片的长度，$M$ 是它的高度，$K$ 是硅片中坏方硅片块的数量。以下 $K$ 行包含一个坏方硅片块列表。每行包含两个整数 $x$ 和 $y$，表示一个坏方硅片块的坐标（左上角的坐标为（$1,1$），右下角是 （$N,M$））。", "outputFormat": "每行输出每个硅片最多可以从其切下的芯片数量。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq D \\leq 5$，$1 \\leq N \\leq 150$，$1 \\leq M \\leq 10$，$0 \\leq K \\leq M×N$，$1 \\leq x \\leq N$，$1 \\leq y \\leq M$。  \n#### 样例说明  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/v4ugwh72.png)  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2002 的 [Bugs Integrated,Inc.](https://web.ics.upjs.sk/ceoi/documents/tasks/bugs-tsk.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7690", "type": "P", "difficulty": 5, "samples": [["2\n2 1\n3 3", "1 2\n2 3 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "CEOI（中欧）"], "title": "[CEOI 2002] A decorative fence", "background": "", "description": "理查德刚刚盖完他的新房子。现在房子唯一缺少的是一个可爱的小木栅栏。他不知道如何制作木栅栏，所以他决定订购一个。不知何故，他拿到了 $\\texttt{ACME Fence Catalog 2002}$――可爱的小木栅栏的旗舰版资源（注：ACME 是一家什么都造的公司）。看完它的前言，他已经知道，什么使小木栅栏变得可爱。  \n一个木栅栏由 $N$ 块木板组成，每块木板垂直排成一排。除此之外，当且仅当满足以下条件时，围栏看起来很可爱：  \n- 木板有不同的长度，即 $1,2,\\cdots,N$ 为木板长度单位。  \n- 每块有两个相邻的木板，它要么比它的相邻的都大，要么比它相邻的都小。（即，这会使得围栏顶部交替上升和下降（高低起伏））。  \n\n因此，我们可以将每个用 $N$ 块木板的可爱的栅栏唯一地描述为一个排列 $a_1,\\cdots,a_N$（$\\forall i$，$1 < i < N$）$(a_i - a_{i−1}) × (a_i - a_{i+1}) > 0$。反之亦然，每个这样的排列都描述了一个可爱的围栏。  \n很明显，可能有许多不同的可爱木栅栏由 $N$ 块木板制成。ACME 的销售经理决定以下列方式排列可爱围栏并放入清单：栅栏 A（由排列 $a_1,\\cdots,a_N$ 表示）在栅栏 B 之前（由 $b_1,\\cdots,b_N$ 表示），当且仅当存在这样的 $i$，使得（$\\forall j < i$）$a_j = b_j$ 和 （$a_i < b_i$）。（也就是说，比较两个围栏中哪个在清单中更早相当于取它们对应的排列，找出它们第一个不同的地方，并比较这个地方的值。）所有 $N$ 块木板的可爱围栏都被按照它们在清单中出现的顺序编号（从 $1$ 开始）。这个号码被称为他们的清单号。 \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/9kopwi5p.png)\n仔细检查所有的可爱的小木栅栏后，理查德决定要它们中的一些。他记下木板的数量 $N$ 和清单号 $C$。后来，他遇到了他的朋友，他想向他们展示他围栏，但他失去了清单。他得到的唯一的事情是他的笔记。请帮助他查明，他的围栏将为何等样子。", "inputFormat": "第一行包含一个整数 $K$。接下来 $K$ 行，每行描述一个输入数据集，每一行都包含两个以空格分割的整数 $N$ 和 $C$，$N$ 是围栏上木板的数量，$C$ 是围栏的栅栏的清单号。", "outputFormat": "每个数据集输出一行，描述列表带有 $N$ 个木板的第 $C$ 个栅栏。更准确地说，如果栅栏排列 $a_1,\\cdots,a_N$，则输出的相应行应包含数字 $a_i$（按正确顺序），由单个空格分隔。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq K \\leq 100$，$1 \\leq N \\leq 20$。你可以认为，$20$ 块木板的可爱小木栅栏的总数适合转换为 $64$ 位有符号整数变量（C/C++ 中的 `long long`，FreePascal 中的 `int64`）。你也可以认为输入是正确的，特别是 $C$ 最小是 $1$ 并且它不超过有 $N$ 块木板的可爱围栏的数量。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2002 的 [A decorative fence](https://web.ics.upjs.sk/ceoi/documents/tasks/fence-tsk.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2002] A decorative fence", "background": "", "description": "理查德刚刚盖完他的新房子。现在房子唯一缺少的是一个可爱的小木栅栏。他不知道如何制作木栅栏，所以他决定订购一个。不知何故，他拿到了 $\\texttt{ACME Fence Catalog 2002}$――可爱的小木栅栏的旗舰版资源（注：ACME 是一家什么都造的公司）。看完它的前言，他已经知道，什么使小木栅栏变得可爱。  \n一个木栅栏由 $N$ 块木板组成，每块木板垂直排成一排。除此之外，当且仅当满足以下条件时，围栏看起来很可爱：  \n- 木板有不同的长度，即 $1,2,\\cdots,N$ 为木板长度单位。  \n- 每块有两个相邻的木板，它要么比它的相邻的都大，要么比它相邻的都小。（即，这会使得围栏顶部交替上升和下降（高低起伏））。  \n\n因此，我们可以将每个用 $N$ 块木板的可爱的栅栏唯一地描述为一个排列 $a_1,\\cdots,a_N$（$\\forall i$，$1 < i < N$）$(a_i - a_{i−1}) × (a_i - a_{i+1}) > 0$。反之亦然，每个这样的排列都描述了一个可爱的围栏。  \n很明显，可能有许多不同的可爱木栅栏由 $N$ 块木板制成。ACME 的销售经理决定以下列方式排列可爱围栏并放入清单：栅栏 A（由排列 $a_1,\\cdots,a_N$ 表示）在栅栏 B 之前（由 $b_1,\\cdots,b_N$ 表示），当且仅当存在这样的 $i$，使得（$\\forall j < i$）$a_j = b_j$ 和 （$a_i < b_i$）。（也就是说，比较两个围栏中哪个在清单中更早相当于取它们对应的排列，找出它们第一个不同的地方，并比较这个地方的值。）所有 $N$ 块木板的可爱围栏都被按照它们在清单中出现的顺序编号（从 $1$ 开始）。这个号码被称为他们的清单号。 \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/9kopwi5p.png)\n仔细检查所有的可爱的小木栅栏后，理查德决定要它们中的一些。他记下木板的数量 $N$ 和清单号 $C$。后来，他遇到了他的朋友，他想向他们展示他围栏，但他失去了清单。他得到的唯一的事情是他的笔记。请帮助他查明，他的围栏将为何等样子。", "inputFormat": "第一行包含一个整数 $K$。接下来 $K$ 行，每行描述一个输入数据集，每一行都包含两个以空格分割的整数 $N$ 和 $C$，$N$ 是围栏上木板的数量，$C$ 是围栏的栅栏的清单号。", "outputFormat": "每个数据集输出一行，描述列表带有 $N$ 个木板的第 $C$ 个栅栏。更准确地说，如果栅栏排列 $a_1,\\cdots,a_N$，则输出的相应行应包含数字 $a_i$（按正确顺序），由单个空格分隔。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq K \\leq 100$，$1 \\leq N \\leq 20$。你可以认为，$20$ 块木板的可爱小木栅栏的总数适合转换为 $64$ 位有符号整数变量（C/C++ 中的 `long long`，FreePascal 中的 `int64`）。你也可以认为输入是正确的，特别是 $C$ 最小是 $1$ 并且它不超过有 $N$ 块木板的可爱围栏的数量。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2002 的 [A decorative fence](https://web.ics.upjs.sk/ceoi/documents/tasks/fence-tsk.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7692", "type": "P", "difficulty": 5, "samples": [["4\n0 2\n2 1\n3 8\n6 3", "2\n3 4\n1 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384]}, "tags": ["2003", "树状数组", "CEOI（中欧）"], "title": "[CEOI 2003] The Race", "background": "", "description": "在一年一度的调谐宇宙飞船星际竞赛中，$N$ 艘宇宙飞船将参赛。每艘宇宙飞船 $i$ 的调谐方式都是这样的，它可以在零时间内加速到它的最大速度 $V_i$ 并继续以那个速度巡航。由于过去的成就，每艘宇宙飞船都从一个起始位置出发，给定其飞船离起跑线的距离。  \n赛程无限长。因为宇宙飞船速度很快，比赛的路线一直都是笔直的。在直线赛道上，飞船可以很容易地相互通过，而没有互相干扰。  \n很多观众还没有意识到，比赛的胜负是可以提前预测的。你的任务是向他们展示这一点，告诉他们宇宙飞船将相互经过多少次，并通过按时间顺序预测宇宙飞船经过的前 $10000$ 次。  \n您可以假设每艘宇宙飞船都从不同的位置开始。此外，任何时候在赛道的同一位置上永远不会有超过两艘飞船。   \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/437urrvu.png)", "inputFormat": "第一行包含一个整数 $N$ 指定了正在竞争的飞船的数量。接下来的 $N$ 行中的每一行都描述了一艘宇宙飞船的特性。第 $i+1$ 行用两个整数 $X_i$ 和 $V_i$ 描述第 $i$ 艘飞船，表示第 $i$ 艘飞船的起始位置和速度。飞船按照起始位置排序，即 $X_1 < X_2 < \\cdots < X_N$。 起始位置是飞船开始的起点线后的公里数，速度以千米每秒为单位。", "outputFormat": "第一行应该包含一个整数为飞船在比赛中相互通过的次数，并对 $1000000$ 取模。接下来的每一行都应该按时间顺序表示一个经过。如果要通过 $10000$ 次以上，只输出前 $10000$ 次。如果小于 $10000$ 次，输出所有的次。每一行应该由两个整数 $i$ 和 $j$ 组成，指定飞船 $i$ 经过飞船 $j$。如果多次相互通过同时发生，它们必须按此次赛道位置排序。这意味着发生在起跑线附近的相互通过必须首先列出。路过的时间是两艘宇宙飞船在同一位置的时间", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$0 < N \\leq 250 000$，$0 \\leq X_i \\leq 1 000 000$，$0 < V_i < 100$。\n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2003 的 [The Race](https://www.ceoi2003.de/www/downloads/therace-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2003] The Race", "background": "", "description": "在一年一度的调谐宇宙飞船星际竞赛中，$N$ 艘宇宙飞船将参赛。每艘宇宙飞船 $i$ 的调谐方式都是这样的，它可以在零时间内加速到它的最大速度 $V_i$ 并继续以那个速度巡航。由于过去的成就，每艘宇宙飞船都从一个起始位置出发，给定其飞船离起跑线的距离。  \n赛程无限长。因为宇宙飞船速度很快，比赛的路线一直都是笔直的。在直线赛道上，飞船可以很容易地相互通过，而没有互相干扰。  \n很多观众还没有意识到，比赛的胜负是可以提前预测的。你的任务是向他们展示这一点，告诉他们宇宙飞船将相互经过多少次，并通过按时间顺序预测宇宙飞船经过的前 $10000$ 次。  \n您可以假设每艘宇宙飞船都从不同的位置开始。此外，任何时候在赛道的同一位置上永远不会有超过两艘飞船。   \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/437urrvu.png)", "inputFormat": "第一行包含一个整数 $N$ 指定了正在竞争的飞船的数量。接下来的 $N$ 行中的每一行都描述了一艘宇宙飞船的特性。第 $i+1$ 行用两个整数 $X_i$ 和 $V_i$ 描述第 $i$ 艘飞船，表示第 $i$ 艘飞船的起始位置和速度。飞船按照起始位置排序，即 $X_1 < X_2 < \\cdots < X_N$。 起始位置是飞船开始的起点线后的公里数，速度以千米每秒为单位。", "outputFormat": "第一行应该包含一个整数为飞船在比赛中相互通过的次数，并对 $1000000$ 取模。接下来的每一行都应该按时间顺序表示一个经过。如果要通过 $10000$ 次以上，只输出前 $10000$ 次。如果小于 $10000$ 次，输出所有的次。每一行应该由两个整数 $i$ 和 $j$ 组成，指定飞船 $i$ 经过飞船 $j$。如果多次相互通过同时发生，它们必须按此次赛道位置排序。这意味着发生在起跑线附近的相互通过必须首先列出。路过的时间是两艘宇宙飞船在同一位置的时间", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$0 < N \\leq 250 000$，$0 \\leq X_i \\leq 1 000 000$，$0 < V_i < 100$。\n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2003 的 [The Race](https://www.ceoi2003.de/www/downloads/therace-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7693", "type": "P", "difficulty": 0, "samples": [["7\n1 0 0 1 1 0 1 0 1 1 0 0 1 1", "1 0 1 1 0 1 1"], ["3\n0 0 0 1 1 1", "-1"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384]}, "tags": ["2003", "Special Judge", "CEOI（中欧）"], "title": "[CEOI 2003] Shift Register", "background": null, "description": "计算机的寄存器存储 $N$ 位用于计算。移位寄存器是一种特殊的寄存器，其位值可以很容易地移位一位。\n\n使用反馈移位寄存器，可以通过以下方式生成二进制伪随机数：\n- 大小为 $N$ 的移位寄存器最初填充位值 $a_1,a_2,\\cdots,a_N$。\n- 每次，寄存器输出其最右边位的值 $a_N$。其他位值向右移动一个位置。第一个位置被分配一个新值 $a_1^{\\prime}$，如下所示：\n  - 寄存器的每一位都通过一个开关连接到一个异或门（见下图）。对于每个位 $i$，有一个开关 $s_i$（可以是 $1$ 或 $0$），用于确定位值 $a_i$ 是否被转发到 XOR 门。\n  - 令 $k_i=s_i\\cdot a_i$。新值 $a_1^{\\prime}$ 被设置为 XOR 门的输出值 XOR（$k_1,\\cdots, k_N$）。\n- 注：如果 $k_1,\\cdots,k_N$ 中 $1$ 的个数为奇数，则 XOR（$k_1,\\cdots,k_N$）的值为 $1$，否则为 $0$）。以下是正式定义：\n$$a_1^{\\prime}=XOR(k_1,\\cdots,k_N)$$\n$$a_i^{\\prime}=a_{i−1}\\ \\text{for}\\ 2\\le i\\le N$$\n$$\\text{output}=a_N$$  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/3fqp3iwp.png)\n \n在上面的例子中，第一次的值 $a_1$ 计算如下：$\\text{XOR}(1\\cdot 1,0\\cdot 0,1\\cdot 1,1\\cdot 1,0\\cdot 0,1\\cdot 0,1\\cdot 1)=0$。\n\n您将获得此类反馈移位寄存器的前 $2N$ 个输出值。从这些值中，您将尝试确定开关值 $s_i$。", "inputFormat": "第一行包含一个整数 $N$，表示移位寄存器的大小。\n\n第二行包含 $2N$ 个数字 `0` 或 `1`，表示移位的前 $2N$ 个输出位值。", "outputFormat": "输出只包含一行。\n- 如果至少有一个开关设置产生给定的寄存器输出值，输出一行 $N$ 个整数，其中第 $i$ 个整数代表第 $i$ 个开关值 $s_i$。任何此类开关设置的开关值都会被接受。\n- 如果没有这样的开关设置，只输出 `-1`。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，$1\\le N\\le 750$。  \n#### 题目说明\n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2003 的 [Shift Register](https://www.ceoi2003.de/www/downloads/register-en.ps)。\n\n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2003] Shift Register", "background": null, "description": "计算机的寄存器存储 $N$ 位用于计算。移位寄存器是一种特殊的寄存器，其位值可以很容易地移位一位。\n\n使用反馈移位寄存器，可以通过以下方式生成二进制伪随机数：\n- 大小为 $N$ 的移位寄存器最初填充位值 $a_1,a_2,\\cdots,a_N$。\n- 每次，寄存器输出其最右边位的值 $a_N$。其他位值向右移动一个位置。第一个位置被分配一个新值 $a_1^{\\prime}$，如下所示：\n  - 寄存器的每一位都通过一个开关连接到一个异或门（见下图）。对于每个位 $i$，有一个开关 $s_i$（可以是 $1$ 或 $0$），用于确定位值 $a_i$ 是否被转发到 XOR 门。\n  - 令 $k_i=s_i\\cdot a_i$。新值 $a_1^{\\prime}$ 被设置为 XOR 门的输出值 XOR（$k_1,\\cdots, k_N$）。\n- 注：如果 $k_1,\\cdots,k_N$ 中 $1$ 的个数为奇数，则 XOR（$k_1,\\cdots,k_N$）的值为 $1$，否则为 $0$）。以下是正式定义：\n$$a_1^{\\prime}=XOR(k_1,\\cdots,k_N)$$\n$$a_i^{\\prime}=a_{i−1}\\ \\text{for}\\ 2\\le i\\le N$$\n$$\\text{output}=a_N$$  \n![TuLi](https://cdn.luogu.com.cn/upload/image_hosting/3fqp3iwp.png)\n \n在上面的例子中，第一次的值 $a_1$ 计算如下：$\\text{XOR}(1\\cdot 1,0\\cdot 0,1\\cdot 1,1\\cdot 1,0\\cdot 0,1\\cdot 0,1\\cdot 1)=0$。\n\n您将获得此类反馈移位寄存器的前 $2N$ 个输出值。从这些值中，您将尝试确定开关值 $s_i$。", "inputFormat": "第一行包含一个整数 $N$，表示移位寄存器的大小。\n\n第二行包含 $2N$ 个数字 `0` 或 `1`，表示移位的前 $2N$ 个输出位值。", "outputFormat": "输出只包含一行。\n- 如果至少有一个开关设置产生给定的寄存器输出值，输出一行 $N$ 个整数，其中第 $i$ 个整数代表第 $i$ 个开关值 $s_i$。任何此类开关设置的开关值都会被接受。\n- 如果没有这样的开关设置，只输出 `-1`。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，$1\\le N\\le 750$。  \n#### 题目说明\n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2003 的 [Shift Register](https://www.ceoi2003.de/www/downloads/register-en.ps)。\n\n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7694", "type": "P", "difficulty": 1, "samples": [["Knuth-Morris-Pratt", "KMP"], ["Mirko-Slavko", "MS"], ["Pasko-Patak", "PP"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #4] AUTORI", "background": "伟大的科学发现一般是以科学家的姓氏命名，比如说，最流行的非对称密码系统 RSA 是由三位叫做 Rivest、Shamir 和 Adleman 的科学家发现的，而更为熟知的则是 Knuth-Morris-Pratt 算法，这个算法是由三位叫做 Knuth、Morris 和 Pratt 的科学家命名的。", "description": "科学论文会大量引用一些早期的著作，因此在一个论文中出现两种不同的命名约定并不少见。这两种不同的命名约定分别是：\n\n- 长变体，由每个作者姓氏的完整单词由连字符连接而成，例如 `Knuth-Morris-Pratt`。\n- 短变体，仅由每个作者姓氏的第一个字符拼接而成，例如 `KMP`。\n\n现在，你发现了一篇论文中同时使用了长变体和短变体这两种命名约定，这让你感到很不愉快，因此你想编写一个程序，将所有的长变体变为短变体。", "inputFormat": "输入仅一行，一个字符串，代表在论文中出现的长变体。\n\n每一个长变体中的单词开头**一定是大写字母**。", "outputFormat": "输出仅一行，一个字符串，代表长变体经过变换以后的短变体。", "hint": "**【数据范围】**\n\n对于所有数据，满足字符串的长度不超过 $100$，且仅包含大小写英文字母和连字符 `-`。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T1 AUTORI_**，按照原题数据配置，满分 $30$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #4] AUTORI", "background": "伟大的科学发现一般是以科学家的姓氏命名，比如说，最流行的非对称密码系统 RSA 是由三位叫做 Rivest、Shamir 和 Adleman 的科学家发现的，而更为熟知的则是 Knuth-Morris-Pratt 算法，这个算法是由三位叫做 Knuth、Morris 和 Pratt 的科学家命名的。", "description": "科学论文会大量引用一些早期的著作，因此在一个论文中出现两种不同的命名约定并不少见。这两种不同的命名约定分别是：\n\n- 长变体，由每个作者姓氏的完整单词由连字符连接而成，例如 `Knuth-Morris-Pratt`。\n- 短变体，仅由每个作者姓氏的第一个字符拼接而成，例如 `KMP`。\n\n现在，你发现了一篇论文中同时使用了长变体和短变体这两种命名约定，这让你感到很不愉快，因此你想编写一个程序，将所有的长变体变为短变体。", "inputFormat": "输入仅一行，一个字符串，代表在论文中出现的长变体。\n\n每一个长变体中的单词开头**一定是大写字母**。", "outputFormat": "输出仅一行，一个字符串，代表长变体经过变换以后的短变体。", "hint": "**【数据范围】**\n\n对于所有数据，满足字符串的长度不超过 $100$，且仅包含大小写英文字母和连字符 `-`。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T1 AUTORI_**，按照原题数据配置，满分 $30$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7695", "type": "P", "difficulty": 1, "samples": [["1", "9"], ["2", "25"], ["5", "1089"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #4] PLANINA", "background": "Mirko 和 Slavko 正在拍摄一部改编自科幻小说 _Chicks in space 13_ 的电影。剧本要求他们呈现出不同的世界，所以他们决定在绿屏幕前拍摄整部电影，之后再添加 CGI 背景。Mirko 听说生成人工地形最好的办法是使用**中点位移算法**。", "description": "为了执行这个算法，Mirko 选择了 $4$ 个点组成了一个完美正方形。然后他开始执行以下步骤：\n\n- 在每个正方形的每一条边上，Mirko 都在正中间添加一个新点。这个新点上的地形高度是他所在这条边两个点上的平均高度。\n- 在每个正方形的正中间，Mirko 也添加了一个新点。这个新点上的地形高度是所有 $4$ 个正方形定点的平均高度加上一个小的随机值。\n\nMirko 在执行完一次上面的所有操作后拥有了 $4$ 个新的方块。于是他不断地新建正方形，直到他对结果满意为止。下图说明了算法的初始状态、$1$ 次迭代和 $2$ 次迭代。\n![](https://cdn.luogu.com.cn/upload/image_hosting/p16l99h1.png)\n\nMirko 发现到有些点属于不止一个正方形，为了减少内存消耗，他只存储这些点一次，但是**一旦这个点存储进去了，它就会永远储存在内存中**。现在他想请你编写一个程序，告诉他经过 $n$ 次迭代之后，总共需要在内存中存储多少点。", "inputFormat": "输入仅一个整数 $n$，表示迭代的次数。", "outputFormat": "输出仅一个整数，表示 $n$ 次迭代后内存内需要存储的点数。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 15$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T2 PLANINA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #4] PLANINA", "background": "Mirko 和 Slavko 正在拍摄一部改编自科幻小说 _Chicks in space 13_ 的电影。剧本要求他们呈现出不同的世界，所以他们决定在绿屏幕前拍摄整部电影，之后再添加 CGI 背景。Mirko 听说生成人工地形最好的办法是使用**中点位移算法**。", "description": "为了执行这个算法，Mirko 选择了 $4$ 个点组成了一个完美正方形。然后他开始执行以下步骤：\n\n- 在每个正方形的每一条边上，Mirko 都在正中间添加一个新点。这个新点上的地形高度是他所在这条边两个点上的平均高度。\n- 在每个正方形的正中间，Mirko 也添加了一个新点。这个新点上的地形高度是所有 $4$ 个正方形定点的平均高度加上一个小的随机值。\n\nMirko 在执行完一次上面的所有操作后拥有了 $4$ 个新的方块。于是他不断地新建正方形，直到他对结果满意为止。下图说明了算法的初始状态、$1$ 次迭代和 $2$ 次迭代。\n![](https://cdn.luogu.com.cn/upload/image_hosting/p16l99h1.png)\n\nMirko 发现到有些点属于不止一个正方形，为了减少内存消耗，他只存储这些点一次，但是**一旦这个点存储进去了，它就会永远储存在内存中**。现在他想请你编写一个程序，告诉他经过 $n$ 次迭代之后，总共需要在内存中存储多少点。", "inputFormat": "输入仅一个整数 $n$，表示迭代的次数。", "outputFormat": "输出仅一个整数，表示 $n$ 次迭代后内存内需要存储的点数。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 15$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T2 PLANINA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7696", "type": "P", "difficulty": 3, "samples": [["3\n4 4 1", "2 1"], ["3\n8 24 9", "12 3"], ["5\n4 5 6 7 8", "2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #4] IKS", "background": "Mirko 的伟大的曾祖母 Katica 是一位狂热的数学家，她喜欢用数学游戏折磨她的曾孙。", "description": "这一天，她在一张纸上写下了一个 $n$ 个数字的序列，并告知 Mirko 可以做如下操作若干次：\n\n- 选取序列中的两个数字（我们不妨称之为 $A,B$），然后选取能整除 $A$ 的质数 $X$。之后，Mirko 把 $A$ 擦去并在原来的位置上写下 $\\frac AX$，然后他把 $B$ 擦去并在原来的位置上写下 $B\\times X$。\n\nMirko 希望得到最大分数，因为这样他可以从他的曾祖母那里得到糖果。一个包含 $n$ 个数字的序列的分数是**这 $n$ 个数字的最大公因数**。\n\nMirko 并不擅长这个，但又很想希望得到糖果，因此找到了你，希望你能编写一个程序计算最大的可能分数，同时他也希望你能够得出在得到最大可能的分数的前提下最少应当执行的操作数。", "inputFormat": "输入共两行。\n\n第一行一个整数 $n$，代表序列中的元素个数。  \n第二行包含 $n$ 个整数，描述 Katica 给 Mirko 的序列。", "outputFormat": "输出仅一行两个整数，第一个整数表示 Mirko 最大能够得到的分数，第二个整数表示 Mirko 在能够获得最大的分数的前提下最少应当执行的操作数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，Mirko 可以选择序列中的 $4$ 和 $1$ 两个数，并选择 $4$ 的唯一质因子 $2$。之后 Mirko 将 $4$ 和 $1$ 擦去，并在它们原来所在的位置上都写下了 $2$，这样这个序列的分数是 $2$。可以证明这样的方案可以获得最大的分数并且在此前提下操作数最少。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 100$，序列中的元素不超过 $10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T3 IKS_**，按照原题数据配置，满分 $70$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #4] IKS", "background": "Mirko 的伟大的曾祖母 Katica 是一位狂热的数学家，她喜欢用数学游戏折磨她的曾孙。", "description": "这一天，她在一张纸上写下了一个 $n$ 个数字的序列，并告知 Mirko 可以做如下操作若干次：\n\n- 选取序列中的两个数字（我们不妨称之为 $A,B$），然后选取能整除 $A$ 的质数 $X$。之后，Mirko 把 $A$ 擦去并在原来的位置上写下 $\\frac AX$，然后他把 $B$ 擦去并在原来的位置上写下 $B\\times X$。\n\nMirko 希望得到最大分数，因为这样他可以从他的曾祖母那里得到糖果。一个包含 $n$ 个数字的序列的分数是**这 $n$ 个数字的最大公因数**。\n\nMirko 并不擅长这个，但又很想希望得到糖果，因此找到了你，希望你能编写一个程序计算最大的可能分数，同时他也希望你能够得出在得到最大可能的分数的前提下最少应当执行的操作数。", "inputFormat": "输入共两行。\n\n第一行一个整数 $n$，代表序列中的元素个数。  \n第二行包含 $n$ 个整数，描述 Katica 给 Mirko 的序列。", "outputFormat": "输出仅一行两个整数，第一个整数表示 Mirko 最大能够得到的分数，第二个整数表示 Mirko 在能够获得最大的分数的前提下最少应当执行的操作数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，Mirko 可以选择序列中的 $4$ 和 $1$ 两个数，并选择 $4$ 的唯一质因子 $2$。之后 Mirko 将 $4$ 和 $1$ 擦去，并在它们原来所在的位置上都写下了 $2$，这样这个序列的分数是 $2$。可以证明这样的方案可以获得最大的分数并且在此前提下操作数最少。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 100$，序列中的元素不超过 $10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T3 IKS_**，按照原题数据配置，满分 $70$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7697", "type": "P", "difficulty": 4, "samples": [["5 3\n5 3 4 4 5", "3\n2"], ["10 3\n3 3 3 3 3 3 3 3 3 3", "0\n4"], ["7 4\n1 2 3 4 3 2 1", "4\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #4] OGRADA", "background": "Matjia 需要粉刷他的旧篱笆。", "description": "篱笆是由 $n$ 块木板做成的，每块木板宽 $1$ 厘米，高度不一。为了方便快捷，他给自己买了一个宽 $x$ 厘米的超级油漆辊。然而超级油漆辊来了一个陷阱——Matija 必须始终使辊子紧密地整个接触木板，否则油漆会滴到四周并污渍所有东西。此外，辊子必须始终与地面平行，以防泄漏。这意味着为了让 Matija 安全地使用压路机，他需要选择 $x$ 块木板，并从最下面的木板的底部到顶部一次涂上油漆。然后，他选择一些其他的木板，油漆它们，以此类推。\n\n这使得一些木板的部分没有上漆。Matija 必须用牙刷刷这些部分。这显然是相当乏味的，所以他请你帮他编写一个程序，求出他需要手动刷漆的最小面积。因为有不止一种方法可以做到这一点，他也想知道需要使用超级油漆辊的最少次数。", "inputFormat": "输入共两行。\n\n第一行两个整数 $n,x$，分别代表木板的个数和超级油漆辊的宽度。  \n第二行 $n$ 个正整数 $h_1,h_2,\\dots,h_n$，表示每个木板的高度。", "outputFormat": "输出共两行。\n\n第一行一个整数，表示 Matjia 需要手动刷漆的最小面积。  \n第二行一个整数，表示在手动刷漆的面积最小的前提下，需要使用超级油漆辊的最少次数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，Matjia 需要使用两次超级油漆辊。\n\n- 第一次，用超级油漆辊粉刷第 $1,2,3$ 个木板，粉刷高度为 $3\\text{ cm}$，因此粉刷面积为 $9\\text{ cm}^2$。\n- 第二次，用超级油漆辊粉刷第 $3,4,5$ 个木板，粉刷高度为 $4\\text{ cm}$，因此粉刷面积为 $12\\text{ cm}^2$。\n\n因为两次粉刷有 $3\\text{ cm}^2$ 的面积重叠，因此剩下的需要手动粉刷的面积为 $5+3+4+4+5-9-12+3=3\\text{ cm}^2$。可以证明这样的方案需要手动粉刷的面积是最小的并且使用超级油漆辊的次数也是最少的。\n\n具体可以结合下图理解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hrjc66u8.png)\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 10^6$，$1\\leqslant x\\leqslant 10^5$，$1\\leqslant h_i<10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T4 OGRADA_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #4] OGRADA", "background": "Matjia 需要粉刷他的旧篱笆。", "description": "篱笆是由 $n$ 块木板做成的，每块木板宽 $1$ 厘米，高度不一。为了方便快捷，他给自己买了一个宽 $x$ 厘米的超级油漆辊。然而超级油漆辊来了一个陷阱——Matija 必须始终使辊子紧密地整个接触木板，否则油漆会滴到四周并污渍所有东西。此外，辊子必须始终与地面平行，以防泄漏。这意味着为了让 Matija 安全地使用压路机，他需要选择 $x$ 块木板，并从最下面的木板的底部到顶部一次涂上油漆。然后，他选择一些其他的木板，油漆它们，以此类推。\n\n这使得一些木板的部分没有上漆。Matija 必须用牙刷刷这些部分。这显然是相当乏味的，所以他请你帮他编写一个程序，求出他需要手动刷漆的最小面积。因为有不止一种方法可以做到这一点，他也想知道需要使用超级油漆辊的最少次数。", "inputFormat": "输入共两行。\n\n第一行两个整数 $n,x$，分别代表木板的个数和超级油漆辊的宽度。  \n第二行 $n$ 个正整数 $h_1,h_2,\\dots,h_n$，表示每个木板的高度。", "outputFormat": "输出共两行。\n\n第一行一个整数，表示 Matjia 需要手动刷漆的最小面积。  \n第二行一个整数，表示在手动刷漆的面积最小的前提下，需要使用超级油漆辊的最少次数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，Matjia 需要使用两次超级油漆辊。\n\n- 第一次，用超级油漆辊粉刷第 $1,2,3$ 个木板，粉刷高度为 $3\\text{ cm}$，因此粉刷面积为 $9\\text{ cm}^2$。\n- 第二次，用超级油漆辊粉刷第 $3,4,5$ 个木板，粉刷高度为 $4\\text{ cm}$，因此粉刷面积为 $12\\text{ cm}^2$。\n\n因为两次粉刷有 $3\\text{ cm}^2$ 的面积重叠，因此剩下的需要手动粉刷的面积为 $5+3+4+4+5-9-12+3=3\\text{ cm}^2$。可以证明这样的方案需要手动粉刷的面积是最小的并且使用超级油漆辊的次数也是最少的。\n\n具体可以结合下图理解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hrjc66u8.png)\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 10^6$，$1\\leqslant x\\leqslant 10^5$，$1\\leqslant h_i<10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2009-2010](https://hsin.hr/coci/archive/2009_2010/) [CONTEST 4](https://hsin.hr/coci/archive/2009_2010/contest4_tasks.pdf) T4 OGRADA_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7700", "type": "P", "difficulty": 2, "samples": [["5 2\n12 12\n10 100\n8 3\n4 5\n25 15", "25\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2014", "CCC（加拿大）"], "title": "[CCC 2014] 燃料搜集", "background": "", "description": "英勇的狐狸星小队正在执行任务。他们的任务是从莱拉星系的不同的星球上搜集尽可能多的燃料。莱拉星系里有 $n$ 个星球，第 $i$ 个星球有 $a_i$ 单位燃料，但是从任何星球去那里都要花费 $b_i$ 单位燃料。不幸的是，燃料不是一种可再生资源，所以如果你第二次到访一个星球，你在那里将搜集不到新的燃料。\n\n狐狸星小队在星球 $P$，所以他们可以立马搜集这个星球的燃料，然后他们就可以去执行任务了。只要他们的燃料足够，即完成飞行后他们剩余的燃料量是非负的，他们就可以以任意顺序访问星球。最后，他们可能会在任何星球选择停下来，甚至可能连星球 $P$ 都没离开过就停下来。他们的目标是使搜集到的燃料量最大化，如果有很多种方法可以达到这个目标，他们还想使他们访问过的不同星球的个数最大化，你能帮助他们吗？", "inputFormat": "第一行两个整数 $n,P$，以空格分隔，分别表示星球数和起始星球编号。\n\n接下来 $n$ 行每行两个整数 $a_i,b_i$。", "outputFormat": "输出包含两行，每行一个正整数。\n\n第一行表示当他们停下来时狐狸星小队能搜集到的燃料的最大值。\n\n第二行表示在搜集到第一行所述燃料量的前提下能访问到的最大的不同星球数。", "hint": "一个最优的方案是，狐狸星小队搜集完星球 $2$ 即起点的燃料后从该出发，依次访问并搜集星球 $3,1,5$ 上的燃料，途中花费分别为 $3,12,15$，从起点开始各个星球上完成搜集后剩余燃料分别为 $10,15,15,25$。他们此时不应该选择去星球 $4$ 而是应该选择停下来以使结束时搜集到的燃料量最大化。\n\n对于 $20\\%$ 的测试数据，$1\\le n\\le10$；\n\n对于 $100\\%$ 的测试数据，$1\\le P\\le n\\le10^5$，$a_i,b_i\\le10^5$ 。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2014] 燃料搜集", "background": "", "description": "英勇的狐狸星小队正在执行任务。他们的任务是从莱拉星系的不同的星球上搜集尽可能多的燃料。莱拉星系里有 $n$ 个星球，第 $i$ 个星球有 $a_i$ 单位燃料，但是从任何星球去那里都要花费 $b_i$ 单位燃料。不幸的是，燃料不是一种可再生资源，所以如果你第二次到访一个星球，你在那里将搜集不到新的燃料。\n\n狐狸星小队在星球 $P$，所以他们可以立马搜集这个星球的燃料，然后他们就可以去执行任务了。只要他们的燃料足够，即完成飞行后他们剩余的燃料量是非负的，他们就可以以任意顺序访问星球。最后，他们可能会在任何星球选择停下来，甚至可能连星球 $P$ 都没离开过就停下来。他们的目标是使搜集到的燃料量最大化，如果有很多种方法可以达到这个目标，他们还想使他们访问过的不同星球的个数最大化，你能帮助他们吗？", "inputFormat": "第一行两个整数 $n,P$，以空格分隔，分别表示星球数和起始星球编号。\n\n接下来 $n$ 行每行两个整数 $a_i,b_i$。", "outputFormat": "输出包含两行，每行一个正整数。\n\n第一行表示当他们停下来时狐狸星小队能搜集到的燃料的最大值。\n\n第二行表示在搜集到第一行所述燃料量的前提下能访问到的最大的不同星球数。", "hint": "一个最优的方案是，狐狸星小队搜集完星球 $2$ 即起点的燃料后从该出发，依次访问并搜集星球 $3,1,5$ 上的燃料，途中花费分别为 $3,12,15$，从起点开始各个星球上完成搜集后剩余燃料分别为 $10,15,15,25$。他们此时不应该选择去星球 $4$ 而是应该选择停下来以使结束时搜集到的燃料量最大化。\n\n对于 $20\\%$ 的测试数据，$1\\le n\\le10$；\n\n对于 $100\\%$ 的测试数据，$1\\le P\\le n\\le10^5$，$a_i,b_i\\le10^5$ 。", "locale": "zh-CN"}}}
{"pid": "P7701", "type": "P", "difficulty": 4, "samples": [["5 5 3 4\n3E\n1D\n5C\n1E\n4A", "55"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2014", "树状数组", "排序", "CCC（加拿大）"], "title": "[CCC 2014] 提前交卷", "background": "", "description": "你正在一个狭窄而又长的礼堂里考试，礼堂一共有 $n$ 排，标号从前到后分别为 $1$ 到 $n$。每排有 $6$ 个座位，左边 $3$ 个，右边 $3$ 个，中间是过道。每个座位都有一个从 A 到 F 的字母标识，其中最左的座位的标识是 A，最右的座位的标识是 F，过道在座位标识为 C 和 D 的座位之间，礼堂同时还有两个保密室，一个在最前面（第一排前面），一个在最后面（第 $n$ 排后面）。\n\n礼堂里的每个座位一开始被刚好一个考生占用。然而，在考试过程中，$m$ 个不同的考生决定完成所有他们会做的题后依次离开礼堂。第 $i$ 个考生在座位 $r_ic_i$，其中 $c_i$ 是 A 到 F 的字母之一。当考生离开礼堂时，他们必须在任意一个保密室等待到考试结束。幸运的是，保密室能容下任意多的考生。\n\n考生不仅关心试题本身，他们还关心怎么样可以最舒服的考试。因此，他们协作以最小化他们的不满度之和。一个考生的不满度的计算方式是 $Ax+By$，其中 $A,B$ 为常数，$x$ 为去往保密室时经过的考生人数，具体将在下面详述，$y$ 是在考生进入保密室之前保密室内的人数。注意如果一个考生不离开他的考位，那么他的不满度为 $0$。\n\n当一个考生从一个考位走往保密室时，他在去往过道时必须先经过同排的考生，然后走过从这行到第一行或第 $n$ 行（取决于所选的保密室）的邻近过道的考生。注意走过空的座位不影响 $x$ 值。\n\n你能帮助他们最小化他们的不满度之和吗？", "inputFormat": "第一行四个整数 $n,m,A,B$，以空格分隔，分别表示礼堂内的排数、提前离开的考生数、不满度计算参数。\n\n接下来 $m$ 行每行一个整数 $r_i$ 和一个字母 $c_i$，其中 $1\\le i\\le n$。", "outputFormat": "输出一个整数，表示最小的不满度之和。", "hint": "其中一个最优策略是，第一个提前离开的考生去最前面的保密室，经过 $6$ 个考生（分别是 `3D`、`3C`、`2D`、`2C`、`1D`、`1C`），不满度为 $3\\times6+4\\times0=18$。第二个提前离开的考生也去最前面的保密室，只经过 $1$ 个考生，即 `1C`，然后他发现保密室里有 $1$ 个考生，不满度为 $7$。第三个提前离开的考生去最后面的保密室，经过 $1$ 个考生，不满度为 $3$。第四个提前离开的考生去最前面的保密室，经过 $1$ 个考生（因为座位 `1D` 是空的），不满度为 $11$。最后，第五个提前离开的考生去最后面的保密室，经过 $4$ 个考生，发现保密室里有 $1$ 个人，不满度为 $16$。所有考生总的不满度为 $55$。\n\n对于 $60\\%$ 的数据，$1\\le m\\le5000$；\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le m\\le6n$，$1\\le A,B\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2014] 提前交卷", "background": "", "description": "你正在一个狭窄而又长的礼堂里考试，礼堂一共有 $n$ 排，标号从前到后分别为 $1$ 到 $n$。每排有 $6$ 个座位，左边 $3$ 个，右边 $3$ 个，中间是过道。每个座位都有一个从 A 到 F 的字母标识，其中最左的座位的标识是 A，最右的座位的标识是 F，过道在座位标识为 C 和 D 的座位之间，礼堂同时还有两个保密室，一个在最前面（第一排前面），一个在最后面（第 $n$ 排后面）。\n\n礼堂里的每个座位一开始被刚好一个考生占用。然而，在考试过程中，$m$ 个不同的考生决定完成所有他们会做的题后依次离开礼堂。第 $i$ 个考生在座位 $r_ic_i$，其中 $c_i$ 是 A 到 F 的字母之一。当考生离开礼堂时，他们必须在任意一个保密室等待到考试结束。幸运的是，保密室能容下任意多的考生。\n\n考生不仅关心试题本身，他们还关心怎么样可以最舒服的考试。因此，他们协作以最小化他们的不满度之和。一个考生的不满度的计算方式是 $Ax+By$，其中 $A,B$ 为常数，$x$ 为去往保密室时经过的考生人数，具体将在下面详述，$y$ 是在考生进入保密室之前保密室内的人数。注意如果一个考生不离开他的考位，那么他的不满度为 $0$。\n\n当一个考生从一个考位走往保密室时，他在去往过道时必须先经过同排的考生，然后走过从这行到第一行或第 $n$ 行（取决于所选的保密室）的邻近过道的考生。注意走过空的座位不影响 $x$ 值。\n\n你能帮助他们最小化他们的不满度之和吗？", "inputFormat": "第一行四个整数 $n,m,A,B$，以空格分隔，分别表示礼堂内的排数、提前离开的考生数、不满度计算参数。\n\n接下来 $m$ 行每行一个整数 $r_i$ 和一个字母 $c_i$，其中 $1\\le i\\le n$。", "outputFormat": "输出一个整数，表示最小的不满度之和。", "hint": "其中一个最优策略是，第一个提前离开的考生去最前面的保密室，经过 $6$ 个考生（分别是 `3D`、`3C`、`2D`、`2C`、`1D`、`1C`），不满度为 $3\\times6+4\\times0=18$。第二个提前离开的考生也去最前面的保密室，只经过 $1$ 个考生，即 `1C`，然后他发现保密室里有 $1$ 个考生，不满度为 $7$。第三个提前离开的考生去最后面的保密室，经过 $1$ 个考生，不满度为 $3$。第四个提前离开的考生去最前面的保密室，经过 $1$ 个考生（因为座位 `1D` 是空的），不满度为 $11$。最后，第五个提前离开的考生去最后面的保密室，经过 $4$ 个考生，发现保密室里有 $1$ 个人，不满度为 $16$。所有考生总的不满度为 $55$。\n\n对于 $60\\%$ 的数据，$1\\le m\\le5000$；\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le m\\le6n$，$1\\le A,B\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P7702", "type": "P", "difficulty": 0, "samples": [["6 10 3 4\n2 3 15\n4 2 150\n3 6 290\n3 2\n2 3\n1 4\n4 6", "10.0\n4.0\n24.0\n6.25"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "Special Judge", "CCC（加拿大）"], "title": "[CCC 2014] 登机口", "background": "", "description": "你现在正在一个有 $G$ 个登机口的机场里，登机口由 $1$ 到 $G$ 编号。第 $i$ 个登机口离机场入口有 $100i$ 米远。\n\n同时机场里还有 $N$ 个水平自动扶梯，第 $i$ 个水平自动扶梯单向地以每分钟 $S_i$ 米从登机口 $A_i$ 到另外一个登机口 $B_i$。在走道的任意一个点，相同方向（朝着机场入口或者远离机场入口）的水平自动扶梯至多只有一条在移动。然而，可能有两条水平自动扶梯从同一登机口出发且同向同终点。\n\n你可以以 $W$ 米每分钟的速度沿着走道走，当你在一个水平自动扶梯的起点时，你可以选择走上去，如果你选择了，它就会把你送到它的终点。即使该自动扶梯经过某个非起点或终点的位置，你不能在该位置离开或开始乘坐该水平自动扶梯。当你在水平自动扶梯 $i$ 上时，你的速度为 $W+S_i$ 米每分钟。\n\n当你在等你晚点的飞机时，为了找乐子，你问了自己 $Q$ 个问题，第 $i$ 个问题为寻找从登机口 $X$ 到登机口 $Y$ 的最短时间。为了使问题更加有趣，你决定不正确回答问题不登机，因此你最好不要把事情搞砸了！", "inputFormat": "第一行四个整数 $G,W,N,Q$，分别表示登机口数量、走路速度、水平自动扶梯数量、询问数量。\n\n接下来 $N$ 行每行三个整数 $A_i,B_i,S_i$，表示水平自动扶梯 $i$ 的起点和终点以及水平自动扶梯的速度。其中 $A_i\\ne B_i$。\n\n接下来 $Q$ 行每行两个整数 $X,Y$，表示起始登机口和目标登机口。", "outputFormat": "输出 $Q$ 行，每行一个实数，表示从登机口 $X$ 到登机口 $Y$ 最少要多少分钟。\n\n你的结果的正确性将以如下方式进行判断：如果 $D$ 是标准答案，那么在范围 $[D\\times (1-10^{-4}),D\\times (1+10^{-4})]$ 内的结果都被认为是正确的。", "hint": "对于第一个询问，你只需要从登机口 $3$ 走到登机口 $2$ 即可，两登机口间距离为 $100$ 米，你的速度为 $10$ 米每分钟。\n\n对于第二个询问，你应该乘坐从登机口 $2$ 到登机口 $3$ 的水平自动扶梯，距离为 $100$ 米，你的速度为 $25$ 米每分钟。\n\n对于第三个询问，你应该花费 $10$ 分钟走去登机口 $2$，然后花费 $4$ 分钟乘坐询问 $2$ 所述水平自动扶梯，接着花费 $10$ 分钟走去登机口 $4$。\n\n对于第四个询问，你应该花费 $1.25$ 分钟乘坐从登机口 $4$ 到登机口 $2$ 的水平自动扶梯，然后花费 $4$ 分钟坐登机口  到登机口 $2$ 的水平自动扶梯，最后花费 $3$ 分钟坐从登机口 $1$ 到登机口 $6$ 的飞机。\n\n对于某些数据，$G,N,Q$ 中至少一个值是较小的。这个信息也许有用，也许没用。\n\n对于 $100\\%$ 的数据，$1\\le A_i,B_i,X,Y\\le G\\le 10^9$，$1\\le N,Q\\le10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2014] 登机口", "background": "", "description": "你现在正在一个有 $G$ 个登机口的机场里，登机口由 $1$ 到 $G$ 编号。第 $i$ 个登机口离机场入口有 $100i$ 米远。\n\n同时机场里还有 $N$ 个水平自动扶梯，第 $i$ 个水平自动扶梯单向地以每分钟 $S_i$ 米从登机口 $A_i$ 到另外一个登机口 $B_i$。在走道的任意一个点，相同方向（朝着机场入口或者远离机场入口）的水平自动扶梯至多只有一条在移动。然而，可能有两条水平自动扶梯从同一登机口出发且同向同终点。\n\n你可以以 $W$ 米每分钟的速度沿着走道走，当你在一个水平自动扶梯的起点时，你可以选择走上去，如果你选择了，它就会把你送到它的终点。即使该自动扶梯经过某个非起点或终点的位置，你不能在该位置离开或开始乘坐该水平自动扶梯。当你在水平自动扶梯 $i$ 上时，你的速度为 $W+S_i$ 米每分钟。\n\n当你在等你晚点的飞机时，为了找乐子，你问了自己 $Q$ 个问题，第 $i$ 个问题为寻找从登机口 $X$ 到登机口 $Y$ 的最短时间。为了使问题更加有趣，你决定不正确回答问题不登机，因此你最好不要把事情搞砸了！", "inputFormat": "第一行四个整数 $G,W,N,Q$，分别表示登机口数量、走路速度、水平自动扶梯数量、询问数量。\n\n接下来 $N$ 行每行三个整数 $A_i,B_i,S_i$，表示水平自动扶梯 $i$ 的起点和终点以及水平自动扶梯的速度。其中 $A_i\\ne B_i$。\n\n接下来 $Q$ 行每行两个整数 $X,Y$，表示起始登机口和目标登机口。", "outputFormat": "输出 $Q$ 行，每行一个实数，表示从登机口 $X$ 到登机口 $Y$ 最少要多少分钟。\n\n你的结果的正确性将以如下方式进行判断：如果 $D$ 是标准答案，那么在范围 $[D\\times (1-10^{-4}),D\\times (1+10^{-4})]$ 内的结果都被认为是正确的。", "hint": "对于第一个询问，你只需要从登机口 $3$ 走到登机口 $2$ 即可，两登机口间距离为 $100$ 米，你的速度为 $10$ 米每分钟。\n\n对于第二个询问，你应该乘坐从登机口 $2$ 到登机口 $3$ 的水平自动扶梯，距离为 $100$ 米，你的速度为 $25$ 米每分钟。\n\n对于第三个询问，你应该花费 $10$ 分钟走去登机口 $2$，然后花费 $4$ 分钟乘坐询问 $2$ 所述水平自动扶梯，接着花费 $10$ 分钟走去登机口 $4$。\n\n对于第四个询问，你应该花费 $1.25$ 分钟乘坐从登机口 $4$ 到登机口 $2$ 的水平自动扶梯，然后花费 $4$ 分钟坐登机口  到登机口 $2$ 的水平自动扶梯，最后花费 $3$ 分钟坐从登机口 $1$ 到登机口 $6$ 的飞机。\n\n对于某些数据，$G,N,Q$ 中至少一个值是较小的。这个信息也许有用，也许没用。\n\n对于 $100\\%$ 的数据，$1\\le A_i,B_i,X,Y\\le G\\le 10^9$，$1\\le N,Q\\le10^5$。", "locale": "zh-CN"}}}
{"pid": "P7703", "type": "P", "difficulty": 6, "samples": [["2\n5\n1 1 2 60 60\n4\n100 101 100 102", "1 1 -1 1 -1\n1 0 -1 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化"], "title": "「MCOI-09」Dream and Strings REMATCH", "background": "", "description": "给定 $N$ 以及非负整数序列 $a_1,a_2,\\dots,a_N$。\n\n请找到 **任何** 一个整数序列 $b_1,b_2,\\dots,b_N$ 满足 $\\sum |b_i|\\neq 0$，$|b_i|\\le 1$，和 $\\sum a_ib_i=0$。", "inputFormat": "第一行一个正整数 $T$。接下来 $T$ 组数据。\n\n每一组数据两行，第一行一个正整数 $N$，接下来一行 $N$ 个正整数 $a_1,a_2,\\dots,a_N$。", "outputFormat": "输出 $T$ 行，第 $T$ 行输出对应组数据的 $b$ 序列。\n\n如果无解，输出 $-1$。", "hint": "本样例不符合题意 $5000\\le N$ 的限制。\n\n**本题采用捆绑测试。**\n\n - Subtask 1（50 pts）：$10^5\\le N$\n - Subtask 2（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：$1\\le T\\le 20$，$5000\\le N\\le\\frac{10^5}{T}$，$0\\le a_i\\le 10^{18}$。**数据保证随机生成。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-09」Dream and Strings REMATCH", "background": "", "description": "给定 $N$ 以及非负整数序列 $a_1,a_2,\\dots,a_N$。\n\n请找到 **任何** 一个整数序列 $b_1,b_2,\\dots,b_N$ 满足 $\\sum |b_i|\\neq 0$，$|b_i|\\le 1$，和 $\\sum a_ib_i=0$。", "inputFormat": "第一行一个正整数 $T$。接下来 $T$ 组数据。\n\n每一组数据两行，第一行一个正整数 $N$，接下来一行 $N$ 个正整数 $a_1,a_2,\\dots,a_N$。", "outputFormat": "输出 $T$ 行，第 $T$ 行输出对应组数据的 $b$ 序列。\n\n如果无解，输出 $-1$。", "hint": "本样例不符合题意 $5000\\le N$ 的限制。\n\n**本题采用捆绑测试。**\n\n - Subtask 1（50 pts）：$10^5\\le N$\n - Subtask 2（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：$1\\le T\\le 20$，$5000\\le N\\le\\frac{10^5}{T}$，$0\\le a_i\\le 10^{18}$。**数据保证随机生成。**", "locale": "zh-CN"}}}
{"pid": "P7704", "type": "P", "difficulty": 5, "samples": [["2 2 6\n1\n6", "0\n25"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "「MCOI-09」Greedy Deletion", "background": "", "description": "小于等于 $n$ 的正整数形成集合 $S_n=\\{1,2,\\dots,n\\}$。\n\n删除值为 $i$ 的元素代价为 $i^k$，其中每一个元素至多被删一次。\n\n给定正整数 $n$ 和 $k$，求：最小代价使 $S_n$ 乘积变为完全平方数是什么？答案对 $998244353$ 取模。\n\n**注意你需要求最小代价，模 $998244353$，而不是模 $998244353$ 后的代价的最小值。**\n\n你需要回答 $T$ 组询问，其中所有 $k$ 相同。", "inputFormat": "第一行三个正整数 $T$，$k$，$\\max n$，分别表示询问数量，给定 $k$，以及最大 $n$。\n\n接下来 $T$ 行，每行一个正整数 $n$。", "outputFormat": "输出 $T$ 行，第 $i$ 行输出第 $i$ 组数据的答案。", "hint": "#### 样例 1 解释\n\n对于 $n=1$，$S_1$ 乘积为完全平方数，不需要删除。\n\n对于 $n=6$，可以删除 $5$ 使得 $S_6$ 乘积变为完全平方数。\n\n#### 数据规模与约定\n\n - Subtask 1（7 pts）：$\\max n\\le 20$。\n - Subtask 2（37 pts）：$\\max n\\le 1000$。\n - Subtask 3（11 pts）：$T\\le 1000$。\n - Subtask 4（45 pts）：无额外限制。\n\n对于 $100\\%$ 的数据，$1\\le \\max n\\le 5\\times 10^6$，$1\\le T\\le 5\\times 10^5$，$1\\le k< 998244353$。\n\n**保证** $1\\le n\\le \\max n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-09」Greedy Deletion", "background": "", "description": "小于等于 $n$ 的正整数形成集合 $S_n=\\{1,2,\\dots,n\\}$。\n\n删除值为 $i$ 的元素代价为 $i^k$，其中每一个元素至多被删一次。\n\n给定正整数 $n$ 和 $k$，求：最小代价使 $S_n$ 乘积变为完全平方数是什么？答案对 $998244353$ 取模。\n\n**注意你需要求最小代价，模 $998244353$，而不是模 $998244353$ 后的代价的最小值。**\n\n你需要回答 $T$ 组询问，其中所有 $k$ 相同。", "inputFormat": "第一行三个正整数 $T$，$k$，$\\max n$，分别表示询问数量，给定 $k$，以及最大 $n$。\n\n接下来 $T$ 行，每行一个正整数 $n$。", "outputFormat": "输出 $T$ 行，第 $i$ 行输出第 $i$ 组数据的答案。", "hint": "#### 样例 1 解释\n\n对于 $n=1$，$S_1$ 乘积为完全平方数，不需要删除。\n\n对于 $n=6$，可以删除 $5$ 使得 $S_6$ 乘积变为完全平方数。\n\n#### 数据规模与约定\n\n - Subtask 1（7 pts）：$\\max n\\le 20$。\n - Subtask 2（37 pts）：$\\max n\\le 1000$。\n - Subtask 3（11 pts）：$T\\le 1000$。\n - Subtask 4（45 pts）：无额外限制。\n\n对于 $100\\%$ 的数据，$1\\le \\max n\\le 5\\times 10^6$，$1\\le T\\le 5\\times 10^5$，$1\\le k< 998244353$。\n\n**保证** $1\\le n\\le \\max n$。", "locale": "zh-CN"}}}
{"pid": "P7705", "type": "P", "difficulty": 5, "samples": [["5 3 2 114514\n1 1\n1 3 1 1\n2 5 1 1\n1 5 2 0", "3 2 5 4 7"], ["20 5 4 1919810\n2 5 4 3\n1 20 1 1 1 1\n5 12 7 6 1 2\n2 18 9 0 0 1\n9 11 5 4 4 1\n10 14 1 0 0 0", "1 10 1 1 22 75 221 850 3176 11706 43324 160379 586060 249707 351705 931555 619201 372869 1800119 1750063\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["递推", "O2优化", "差分"], "title": "「Wdsr-2.7」天才⑨与数学递推式", "background": "", "description": "生活在雾之湖的冰精琪露诺，向来以智慧而著称。作为寺子屋的老学员，琪露诺可是对数学递推式了如指掌。\n\n有一天，慧音老师想要考一考琪露诺。于是她写出了一个长度为 $m$ 的递推公式：\n\n$$F_t=\\sum_{i=1}^m K_i\\times F_{t-i} \\quad (t> m)$$\n\n其中 $m,\\{K_i\\}$ 都是被给定的。不过，由于这个序列 $\\{F_i\\}$ 的初始 $m$ 项并没有被确定，所以可能存在无穷个满足这个递推式，但是初始 $m$ 项并不一致的递推数列。慧音打算选择其中 $q$ 个 $F$ ，来考考琪露诺对数列知识的掌握。\n\n具体而言，慧音会依次告诉琪露诺，若干个 $\\{F_i\\}$ 的起始 $m$ 项。显然，这样就能生成无穷序列 $\\{F_i\\}$ 了。尽管如此，生成这么多序列并不好玩。于是慧音又创造了一个答案序列 $\\{A_i\\}$ ，满足初始时 $A_i=0$ 。\n\n每当给出一个新的 $\\{F_i\\}$ ，慧音都要琪露诺使 $\\{A_i\\}$ 的第 $a,a+1,\\cdots b-1,b$ 项分别加上 $F_1,F_2,F_3,\\cdots,F_{b-a+1}$ 。\n\n当然，慧音老师不想为难琪露诺，于是对于所有数字，只要输出其对 $p$ 取模的值即可。其中 $p$ 是一个被给定的常数。\n\n---\n\n形式化地讲述题面：给定 $n,q,m,p,\\{K_1,K_2,\\cdots ,K_m\\}$ 。有 $q$ 次操作，每次给定一组 $a,b,\\{G_1,G_2\\cdots G_m\\}$ ，求出无穷序列 $\\{F_i\\}$ ：\n\n$$F_t=\\begin{cases}\nG_t & t\\le m \\cr\n\\sum_{i=1}^m K_iF_{t-i} & t>m\n\\end{cases}$$\n\n然后令 $\\forall i\\in [a,b] ,A_i\\gets A_i+F_{i-a+1}$ 。最后分别输出 $\\{A_i\\}$ 的前 $n$ 项对 $p$ 取模后的结果。", "inputFormat": "- 第一行有四个正整数 $n,q,m,p$ ，含义如题面所示。\n\n- 第二行有 $m$ 个整数 $\\{K_1,K_2,\\cdots ,K_m\\}$ ，表示递推式中的系数。\n\n- 接下来 $q$ 行，每行 $2+m$ 个整数 $a,b,\\{G_1,G_2,\\cdots G_m\\}$ ，描述一次操作。", "outputFormat": "- 共一行， $n$ 个整数，输出 $A_i \\bmod p$ 的值。", "hint": "#### 样例解释\n\n对于样例 $1$ ：\n\n- 初始时， $\\{A_i\\}=\\{0,0,0,0,0\\}$。\n\n- 第一步生成了一个 $\\{F_i\\}=\\{1,1,2,3,5\\}$ ，加至 $A_1,A_2,A_3$，此时 $\\{A_i\\}=\\{1,1,2,0,0\\}$。\n\n- 第二步生成了一个 $\\{F_i\\}=\\{1,1,2,3,5\\}$ ，加至 $A_2,A_3,\\cdots ,A_5$，此时 $\\{A_i\\}=\\{1,2,3,2,3\\}$。\n\n- 第三步生成了一个 $\\{F_i\\}=\\{2,0,2,2,4\\}$ ，加至 $A_1,A_2,\\cdots ,A_5$，此时 $\\{A_i\\}=\\{3,2,5,4,7\\}$。\n\n对于样例 $2$ ，我们既没有一个绝妙的解释，又没有足够大的空间，于是我们写不下了。\n\n#### 数据范围及约定\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|}\\hline\n\\textbf{Subtask} & \\bm{n} & \\bm{m} & \\bm{q}& \\textbf{分值}\\cr\\hline\n1 & n\\le  10^4 & m\\le 10 & q\\le 10^3 & 10 \\cr\\hline\n2 & n\\le  10^5 & m=1 & q\\le 10^5  & 20\\cr\\hline\n3 & n\\le  10^5 & m=2 & q\\le 10^5 & 20\\cr\\hline\n4 & \\text{无特殊限制} & \\text{无特殊限制} & \\text{无特殊限制}& 50 \\cr\\hline\n\\end{array}$$\n\n- 对于 $100\\%$ 的数据，满足 $ 1 \\leq n\\le 1\\times 10^6;1\\le q \\leq 1.2 \\times 10^5;1 \\leq m \\leq 15;1 \\leq K_i,G_i,p \\leq 10^8;1\\le a\\le b\\le n$ 。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2.7」天才⑨与数学递推式", "background": "", "description": "生活在雾之湖的冰精琪露诺，向来以智慧而著称。作为寺子屋的老学员，琪露诺可是对数学递推式了如指掌。\n\n有一天，慧音老师想要考一考琪露诺。于是她写出了一个长度为 $m$ 的递推公式：\n\n$$F_t=\\sum_{i=1}^m K_i\\times F_{t-i} \\quad (t> m)$$\n\n其中 $m,\\{K_i\\}$ 都是被给定的。不过，由于这个序列 $\\{F_i\\}$ 的初始 $m$ 项并没有被确定，所以可能存在无穷个满足这个递推式，但是初始 $m$ 项并不一致的递推数列。慧音打算选择其中 $q$ 个 $F$ ，来考考琪露诺对数列知识的掌握。\n\n具体而言，慧音会依次告诉琪露诺，若干个 $\\{F_i\\}$ 的起始 $m$ 项。显然，这样就能生成无穷序列 $\\{F_i\\}$ 了。尽管如此，生成这么多序列并不好玩。于是慧音又创造了一个答案序列 $\\{A_i\\}$ ，满足初始时 $A_i=0$ 。\n\n每当给出一个新的 $\\{F_i\\}$ ，慧音都要琪露诺使 $\\{A_i\\}$ 的第 $a,a+1,\\cdots b-1,b$ 项分别加上 $F_1,F_2,F_3,\\cdots,F_{b-a+1}$ 。\n\n当然，慧音老师不想为难琪露诺，于是对于所有数字，只要输出其对 $p$ 取模的值即可。其中 $p$ 是一个被给定的常数。\n\n---\n\n形式化地讲述题面：给定 $n,q,m,p,\\{K_1,K_2,\\cdots ,K_m\\}$ 。有 $q$ 次操作，每次给定一组 $a,b,\\{G_1,G_2\\cdots G_m\\}$ ，求出无穷序列 $\\{F_i\\}$ ：\n\n$$F_t=\\begin{cases}\nG_t & t\\le m \\cr\n\\sum_{i=1}^m K_iF_{t-i} & t>m\n\\end{cases}$$\n\n然后令 $\\forall i\\in [a,b] ,A_i\\gets A_i+F_{i-a+1}$ 。最后分别输出 $\\{A_i\\}$ 的前 $n$ 项对 $p$ 取模后的结果。", "inputFormat": "- 第一行有四个正整数 $n,q,m,p$ ，含义如题面所示。\n\n- 第二行有 $m$ 个整数 $\\{K_1,K_2,\\cdots ,K_m\\}$ ，表示递推式中的系数。\n\n- 接下来 $q$ 行，每行 $2+m$ 个整数 $a,b,\\{G_1,G_2,\\cdots G_m\\}$ ，描述一次操作。", "outputFormat": "- 共一行， $n$ 个整数，输出 $A_i \\bmod p$ 的值。", "hint": "#### 样例解释\n\n对于样例 $1$ ：\n\n- 初始时， $\\{A_i\\}=\\{0,0,0,0,0\\}$。\n\n- 第一步生成了一个 $\\{F_i\\}=\\{1,1,2,3,5\\}$ ，加至 $A_1,A_2,A_3$，此时 $\\{A_i\\}=\\{1,1,2,0,0\\}$。\n\n- 第二步生成了一个 $\\{F_i\\}=\\{1,1,2,3,5\\}$ ，加至 $A_2,A_3,\\cdots ,A_5$，此时 $\\{A_i\\}=\\{1,2,3,2,3\\}$。\n\n- 第三步生成了一个 $\\{F_i\\}=\\{2,0,2,2,4\\}$ ，加至 $A_1,A_2,\\cdots ,A_5$，此时 $\\{A_i\\}=\\{3,2,5,4,7\\}$。\n\n对于样例 $2$ ，我们既没有一个绝妙的解释，又没有足够大的空间，于是我们写不下了。\n\n#### 数据范围及约定\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|}\\hline\n\\textbf{Subtask} & \\bm{n} & \\bm{m} & \\bm{q}& \\textbf{分值}\\cr\\hline\n1 & n\\le  10^4 & m\\le 10 & q\\le 10^3 & 10 \\cr\\hline\n2 & n\\le  10^5 & m=1 & q\\le 10^5  & 20\\cr\\hline\n3 & n\\le  10^5 & m=2 & q\\le 10^5 & 20\\cr\\hline\n4 & \\text{无特殊限制} & \\text{无特殊限制} & \\text{无特殊限制}& 50 \\cr\\hline\n\\end{array}$$\n\n- 对于 $100\\%$ 的数据，满足 $ 1 \\leq n\\le 1\\times 10^6;1\\le q \\leq 1.2 \\times 10^5;1 \\leq m \\leq 15;1 \\leq K_i,G_i,p \\leq 10^8;1\\le a\\le b\\le n$ 。", "locale": "zh-CN"}}}
{"pid": "P7706", "type": "P", "difficulty": 5, "samples": [["6 6\n1 4 2 3 5 6\n5 3 4 1 6 7\n3 2 5\n3 1 6\n1 2 3\n3 1 6\n2 6 1\n3 1 6", "8\n9\n8\n8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["线段树", "洛谷原创", "洛谷比赛"], "title": "「Wdsr-2.7」文文的摄影布置", "background": "作为幻想乡知名的记者射命丸文，文文常常需要为文文新闻采集相关的照片素材。\n\n具体而言，文文会采集一大串的图片，用于为新的一期报纸提供图片。作为一份简短的快报，文文会从素材库中使用**三张**图片，第一张放在开头，第三张放在结尾，用于激发读者的阅读兴趣（毕竟，报纸的开头和结尾是最容易被看到的）；第二张，则是为了帮助读者理解相关内容。\n\n可是作为无双风神，文文收集的照片实在是太多了，以至于一时半会儿处理不过来。按照惯例，文文找到了在一旁吃瓜的你，希望你能帮她解决困难。", "description": "尽管图片非常多，但幸运的是，文文已经将它们排成了一列，从左到右分别编号为 $1 \\sim n$，文文选取的三张图片，**应该是一个长度为 $\\bf 3$ 的子序列**。（不妨设选取的照片的序号为 $i,j,k$ ，则必须要有 $i<j<k$ ）。\n\n此外，文文给每张照片定了一个**吸引度** $A_i$ 与**大小** $B_i$ 。\n\n因为报纸版面太大会降低读者的兴趣，于是选定两张照片 $i,k$ 后，规定必须选择最小的 $B_j$。\n\n形式化地说，规定 $\\psi(i,k) = A_i + A_k - \\min(B_j)$，其中需要满足 $i < j < k$。\n\n摸清了照片价值的计算，文文会告诉你共 $m$ 个操作，可以分为以下三种：\n\n- $\\colorbox{f0f0f0}{\\verb!1 x y!}$ ：照片的吸引度发生变化。文文要将 $A_x$ 修改为 $y$ 。\n\n- $\\colorbox{f0f0f0}{\\verb!2 x y!}$ ：照片的大小发生变化。文文要将 $B_x$ 修改为 $y$ 。\n\n- $\\colorbox{f0f0f0}{\\verb!3 l r!}$ ：文文打算利用素材库的第 $l$ 到第 $r$ 张中的图片，你要告诉她 $\\psi(x,y)$ 的**最大值**（ $l\\le x\\le x+1<y \\le r$ ）。", "inputFormat": "第一行两个整数 $n,m$，分别表示照片数量和操作次数。\n\n第二行 $n$ 个整数，表示序列 $A$，描述每张照片的吸引度。\n\n第三行 $n$ 个整数，表示序列 $B$，描述每张照片的大小。\n\n接下来 $m$ 行，每行描述一个操作，格式如上所述。", "outputFormat": "对于每个操作三，输出一行一个整数，表示答案。", "hint": "#### 数据范围及约定\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|}\\hline\n\\textbf{Subtask} & \\bm{n,m} & \\textbf{特殊性质} & \\textbf{分值}\\cr\\hline\n1 & 1\\le n,m\\le 300 & \\text{无} & 10\\cr\\hline\n2 & 1\\le n,m\\le 5\\times 10^3 & \\text{无} & 20\\cr\\hline\n3 & 1\\le n,m\\le 5\\times 10^5 & \\text{仅有操作 3} & 20\\cr\\hline\n4 & 1\\le n,m\\le 10^5 & \\text{无} & 20\\cr\\hline\n5 & \\text{无特殊限制} & \\text{无} & 30\\cr\\hline\n\\end{array}\n$$\n\n- 对于 $100\\%$ 的数据：\n\n   $1 \\le n,m \\le 5 \\times 10^5$。\n   \n   $1 \\leq A_i,B_i,y \\leq 10^8$，$1 \\le x \\le n$，$1 \\le l \\le r \\le n$。\n   \n   保证 $r-l+1 \\geq 3$，即询问的区间长度大于等于 $3$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2.7」文文的摄影布置", "background": "作为幻想乡知名的记者射命丸文，文文常常需要为文文新闻采集相关的照片素材。\n\n具体而言，文文会采集一大串的图片，用于为新的一期报纸提供图片。作为一份简短的快报，文文会从素材库中使用**三张**图片，第一张放在开头，第三张放在结尾，用于激发读者的阅读兴趣（毕竟，报纸的开头和结尾是最容易被看到的）；第二张，则是为了帮助读者理解相关内容。\n\n可是作为无双风神，文文收集的照片实在是太多了，以至于一时半会儿处理不过来。按照惯例，文文找到了在一旁吃瓜的你，希望你能帮她解决困难。", "description": "尽管图片非常多，但幸运的是，文文已经将它们排成了一列，从左到右分别编号为 $1 \\sim n$，文文选取的三张图片，**应该是一个长度为 $\\bf 3$ 的子序列**。（不妨设选取的照片的序号为 $i,j,k$ ，则必须要有 $i<j<k$ ）。\n\n此外，文文给每张照片定了一个**吸引度** $A_i$ 与**大小** $B_i$ 。\n\n因为报纸版面太大会降低读者的兴趣，于是选定两张照片 $i,k$ 后，规定必须选择最小的 $B_j$。\n\n形式化地说，规定 $\\psi(i,k) = A_i + A_k - \\min(B_j)$，其中需要满足 $i < j < k$。\n\n摸清了照片价值的计算，文文会告诉你共 $m$ 个操作，可以分为以下三种：\n\n- $\\colorbox{f0f0f0}{\\verb!1 x y!}$ ：照片的吸引度发生变化。文文要将 $A_x$ 修改为 $y$ 。\n\n- $\\colorbox{f0f0f0}{\\verb!2 x y!}$ ：照片的大小发生变化。文文要将 $B_x$ 修改为 $y$ 。\n\n- $\\colorbox{f0f0f0}{\\verb!3 l r!}$ ：文文打算利用素材库的第 $l$ 到第 $r$ 张中的图片，你要告诉她 $\\psi(x,y)$ 的**最大值**（ $l\\le x\\le x+1<y \\le r$ ）。", "inputFormat": "第一行两个整数 $n,m$，分别表示照片数量和操作次数。\n\n第二行 $n$ 个整数，表示序列 $A$，描述每张照片的吸引度。\n\n第三行 $n$ 个整数，表示序列 $B$，描述每张照片的大小。\n\n接下来 $m$ 行，每行描述一个操作，格式如上所述。", "outputFormat": "对于每个操作三，输出一行一个整数，表示答案。", "hint": "#### 数据范围及约定\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|}\\hline\n\\textbf{Subtask} & \\bm{n,m} & \\textbf{特殊性质} & \\textbf{分值}\\cr\\hline\n1 & 1\\le n,m\\le 300 & \\text{无} & 10\\cr\\hline\n2 & 1\\le n,m\\le 5\\times 10^3 & \\text{无} & 20\\cr\\hline\n3 & 1\\le n,m\\le 5\\times 10^5 & \\text{仅有操作 3} & 20\\cr\\hline\n4 & 1\\le n,m\\le 10^5 & \\text{无} & 20\\cr\\hline\n5 & \\text{无特殊限制} & \\text{无} & 30\\cr\\hline\n\\end{array}\n$$\n\n- 对于 $100\\%$ 的数据：\n\n   $1 \\le n,m \\le 5 \\times 10^5$。\n   \n   $1 \\leq A_i,B_i,y \\leq 10^8$，$1 \\le x \\le n$，$1 \\le l \\le r \\le n$。\n   \n   保证 $r-l+1 \\geq 3$，即询问的区间长度大于等于 $3$", "locale": "zh-CN"}}}
{"pid": "P7707", "type": "P", "difficulty": 6, "samples": [["10 10 0\n6 8 5 9 6 10 2 4 8 9 \n2 4 3 3 4 1 2 3 3 2 \n2 2 8\n1 1 4 4\n2 1 6\n2 10 2\n1 7 9 7\n2 10 8\n2 8 4\n2 3 10\n1 5 16 5\n1 4 14 7\n", "0\n2\n5\n5\n"], ["10 20 0\n2 19 13 20 7 19 17 8 15 12 \n1 2 4 3 5 3 2 4 2 2 \n2 9 3\n2 17 3\n1 1 9 15\n1 1 12 3\n2 15 5\n1 6 13 6\n2 7 1\n2 20 3\n2 12 1\n2 10 1\n1 5 9 4\n1 1 7 15\n2 12 4\n1 12 12 14\n2 7 5\n1 3 18 6\n1 7 7 1\n2 8 5\n1 6 8 10\n1 14 18 4\n", "5\n1\n0\n0\n3\n0\n0\n0\n1\n0\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 307200, 307200, 307200, 307200, 307200]}, "tags": ["O2优化"], "title": "「Wdsr-2.7」百花齐放的太阳花田", "background": "> 春天到来，花儿盛开……只是这次开花比起以往多上许多，甚至所有季节的花都开了。\n\n$$\\kern{1pt}\\tag*{\\small\\text{——东方花映冢}}$$\n\n今年的太阳花田，因为各种各样花朵的开放而显得格外热闹。尽管这是一场有关于花的异变，但是太阳花田的主人风见幽香却格外享受由鲜花带来的五彩缤纷的花田——毕竟，向来冷清的花田因为各种妖精的活跃而变得热闹了起来。\n\n幽香非常喜欢这些花朵。每朵花都有它自己的种类，也代表了一种性格。比如向日葵，比如蒲公英，比如天人菊……\n\n奇怪的是，有些花朵可能会属于同一种类，但由于相关因素（比如年龄、营养等），使得每种花都有一个高度。\n\n幽香非常感兴趣，因为这些花朵高高低低形形色色，使得太阳花田呈现出了别样的景色。兴致之余，幽香选取了一些花朵，希望你帮助她解决一个问题。\n\n", "description": "一开始，幽香选择了太阳花田当中的 $n$ 朵花朵。每朵花有一个高度 $h_i$ ，以及它属于的类别 $t_i$ 。它们排成了一列，并且被标号为 $1,2,3\\cdots n$ 。幽香有 $m$ 次操作，分为两种：\n\n- $\\colorbox{f0f0f0}{\\verb!1 l r x!}$ ：考虑区间 $[l,r]$ 内的所有花朵。我们取出其中所有高度不超过 $x$ 的花朵（即 $h_i\\le x$ 的花朵），**依次排列**（即不改变花朵在原序列中的顺序），可以根据它们的种类划分为若干段（比如，$\\{\\underline{1,}\\ \\underline{2,2},\\underline{1,1},\\underline {3,}\\ \\underline{4,4,4}\\}$ 就能分为 $5$ 段）。幽香希望你告诉她一共有多少段。\n\n- $\\colorbox{f0f0f0}{\\verb!2 x y!}$ ：幽香挑选了一朵高度为 $x$ ，种类为 $y$ 的花朵，拼接在末尾。\n\n**强制在线。**", "inputFormat": "- 第一行三个整数 $n,m,k$ 。$n,m$ 含义如上，而 $k$ 为**强制在线参数**。\n\n- 接下来两行，第一行是 $n$ 个整数，表示 $\\{h_1,h_2\\cdots h_n\\}$ ；第三行 $n$ 个整数，表示序列 $t_1,t_2\\cdots t_n\\}$ 。含义如题所示。\n\n- 接下来 $m$ 行，每行首先一个整数 $op$ ，表示本次操作的种类。\n\n  - 如果 $op = 1$，接下来三个整数 $l',r',x'$，描述一次查询。\n\n  - 如果 $op = 2$，接下来两个整数 $x',y'$，表示一次修改。\n\n- 在所有操作中，真正的 $l,r,x,y$ 都是输入的 $l',r',x',y'$ 异或上 $k \\times last$ 后的值。其中， $last$ 表示最后一次查询的答案，初始为 $0$。", "outputFormat": "- 共有若干行。对于每个操作 $1$ ，每行输出一个整数，表示答案。", "hint": "$n'$ 表示进行所有操作后的序列长度。\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|}\\hline\n\\bf{Subtask} & \\bm{n',m} & \\textsf{\\textbf{特殊性质}} & \\textsf{\\textbf{分值}} \\cr\\hline\n1 & 1\\le n',m \\le 10^3 & \\text{无} & 10 \\cr\\hline\n2 & 1\\le n',m \\le 3\\times 10^5 & k=0 & 20\\cr\\hline\n3 & 1\\le n',m \\le 3\\times 10^5 & l=1 & 25\\cr\\hline\n4 & 1\\le n',m \\le 10^5 & \\text{无} & 15\\cr\\hline\n5 & 1\\le n',m \\le 3\\times 10^5 & \\text{无} & 20\\cr\\hline\n6 & \\text{无特殊限制} & \\text{时限 3s，空限 300MB} & 10\\cr\\hline\n\\end{array}$$\n\n- 对于 $100\\%$ 的数据：\n\n   $1 \\le n',m \\le 5 \\times 10 ^ 5$。\n   \n   $1 \\le h_i,t_i,x,y \\le 10^9$，$1 \\le l \\le r \\le n'$。\n   \n   $1 \\le op \\le 2$，$0 \\le k \\le 10^3$。\n\n提示：请注意常数优化。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2.7」百花齐放的太阳花田", "background": "> 春天到来，花儿盛开……只是这次开花比起以往多上许多，甚至所有季节的花都开了。\n\n$$\\kern{1pt}\\tag*{\\small\\text{——东方花映冢}}$$\n\n今年的太阳花田，因为各种各样花朵的开放而显得格外热闹。尽管这是一场有关于花的异变，但是太阳花田的主人风见幽香却格外享受由鲜花带来的五彩缤纷的花田——毕竟，向来冷清的花田因为各种妖精的活跃而变得热闹了起来。\n\n幽香非常喜欢这些花朵。每朵花都有它自己的种类，也代表了一种性格。比如向日葵，比如蒲公英，比如天人菊……\n\n奇怪的是，有些花朵可能会属于同一种类，但由于相关因素（比如年龄、营养等），使得每种花都有一个高度。\n\n幽香非常感兴趣，因为这些花朵高高低低形形色色，使得太阳花田呈现出了别样的景色。兴致之余，幽香选取了一些花朵，希望你帮助她解决一个问题。\n\n", "description": "一开始，幽香选择了太阳花田当中的 $n$ 朵花朵。每朵花有一个高度 $h_i$ ，以及它属于的类别 $t_i$ 。它们排成了一列，并且被标号为 $1,2,3\\cdots n$ 。幽香有 $m$ 次操作，分为两种：\n\n- $\\colorbox{f0f0f0}{\\verb!1 l r x!}$ ：考虑区间 $[l,r]$ 内的所有花朵。我们取出其中所有高度不超过 $x$ 的花朵（即 $h_i\\le x$ 的花朵），**依次排列**（即不改变花朵在原序列中的顺序），可以根据它们的种类划分为若干段（比如，$\\{\\underline{1,}\\ \\underline{2,2},\\underline{1,1},\\underline {3,}\\ \\underline{4,4,4}\\}$ 就能分为 $5$ 段）。幽香希望你告诉她一共有多少段。\n\n- $\\colorbox{f0f0f0}{\\verb!2 x y!}$ ：幽香挑选了一朵高度为 $x$ ，种类为 $y$ 的花朵，拼接在末尾。\n\n**强制在线。**", "inputFormat": "- 第一行三个整数 $n,m,k$ 。$n,m$ 含义如上，而 $k$ 为**强制在线参数**。\n\n- 接下来两行，第一行是 $n$ 个整数，表示 $\\{h_1,h_2\\cdots h_n\\}$ ；第三行 $n$ 个整数，表示序列 $t_1,t_2\\cdots t_n\\}$ 。含义如题所示。\n\n- 接下来 $m$ 行，每行首先一个整数 $op$ ，表示本次操作的种类。\n\n  - 如果 $op = 1$，接下来三个整数 $l',r',x'$，描述一次查询。\n\n  - 如果 $op = 2$，接下来两个整数 $x',y'$，表示一次修改。\n\n- 在所有操作中，真正的 $l,r,x,y$ 都是输入的 $l',r',x',y'$ 异或上 $k \\times last$ 后的值。其中， $last$ 表示最后一次查询的答案，初始为 $0$。", "outputFormat": "- 共有若干行。对于每个操作 $1$ ，每行输出一个整数，表示答案。", "hint": "$n'$ 表示进行所有操作后的序列长度。\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|}\\hline\n\\bf{Subtask} & \\bm{n',m} & \\textsf{\\textbf{特殊性质}} & \\textsf{\\textbf{分值}} \\cr\\hline\n1 & 1\\le n',m \\le 10^3 & \\text{无} & 10 \\cr\\hline\n2 & 1\\le n',m \\le 3\\times 10^5 & k=0 & 20\\cr\\hline\n3 & 1\\le n',m \\le 3\\times 10^5 & l=1 & 25\\cr\\hline\n4 & 1\\le n',m \\le 10^5 & \\text{无} & 15\\cr\\hline\n5 & 1\\le n',m \\le 3\\times 10^5 & \\text{无} & 20\\cr\\hline\n6 & \\text{无特殊限制} & \\text{时限 3s，空限 300MB} & 10\\cr\\hline\n\\end{array}$$\n\n- 对于 $100\\%$ 的数据：\n\n   $1 \\le n',m \\le 5 \\times 10 ^ 5$。\n   \n   $1 \\le h_i,t_i,x,y \\le 10^9$，$1 \\le l \\le r \\le n'$。\n   \n   $1 \\le op \\le 2$，$0 \\le k \\le 10^3$。\n\n提示：请注意常数优化。", "locale": "zh-CN"}}}
