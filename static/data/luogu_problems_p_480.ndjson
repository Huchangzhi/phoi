{"pid": "P10735", "type": "P", "difficulty": 5, "samples": [], "limits": {"time": [3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288]}, "tags": ["数学", "2019", "二分", "交互题", "Special Judge", "NOISG（新加坡）"], "title": "[NOISG 2019 Prelim] Square or Rectangle?", "background": "翻译自 [NOISG2019 Prelim D.Square or Rectangle?](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。\n\n请注意，本题为**交互题**，请**尽量使用 C++ 进行作答**。同时，你**只需要实现题目中要求的函数**。**不要将答案输出在标准输出。**\n\n对于非 C++ 语言的选手，本题有 IO 交互版：<https://www.luogu.com.cn/problem/P15054>，可在此进行评测。", "description": "现在有一个 $N\\times N$ 的网格，网格内**有一个至少占网格总大小 $4\\%$ 的矩形**。但是，你现在不知道这个矩形是长方形还是正方形，你需要**定义一个函数**来完成这个问题。\n\n### 【实现细节】\n你需要定义以下函数：\n\n`bool am_i_square(int N, int Q)`\n\n- $N$：网格的大小\n- $Q$：能询问评测机的次数。\n\n为了确定形状，你可以向评测机至多调用 $Q$ 次 `bool inside_shape(int X, int Y)` 函数。调用这个来询问评测机方格 $(X,Y)$ 是否在这个矩形中。\n\n一旦你确定了形状，你就可以返回一个 `bool` 类型的量，代表这个矩形是否为**正方形**。\n\n评测机会调用你的函数 $T$ 次。$T$ 的大小见【数据范围与评测方法】。", "inputFormat": "见【实现细节】。", "outputFormat": "见【实现细节】。", "hint": "### 【样例】\n考虑以下调用：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/so2eprl8.png)\n\n`am_i_square(5, 25)`\n\n这表示这是一个 $5 \\times 5$ 大小的网格，你可以调用至多 $25$ 次。\n\n`inside_shape(3, 3) = true`\n\n这询问了方格 $(3,3)$ 是否在矩形内，它在正方形的正中间，所以返回 `true`。\n\n`inside_shape(5, 4) = false`\n\n这询问了方格 $(5,4)$ 是否在矩形内，它不在正方形内，所以返回 `false`。\n\n`inside_shape(1, 1) = false`\n\n这询问了方格 $(1,1)$ 是否在矩形内，它不在正方形内，所以返回 `false`。\n\n`inside_shape(2, 4) = true`\n\n这询问了方格 $(2,4)$ 是否在矩形内，它在正方形的左下角，所以返回 `true`。\n\n综上，我们可以确定这是一个正方形，所以该函数返回 `true`。\n### 【数据范围与评测方法】\n对于 $100\\%$ 的测试点：$N=100,1\\leq T \\leq 1000$。\n| $\\text{Subtask}$ | 分值 | 附加条件 |\n| :----------: | :----------: | :----------: |\n| $0$ | $14$ | $Q=10^4$ |\n| $1$ | $19$ | $Q=100$ |\n| $2$ | $18$ | $Q=40$，图形至少占网格总大小的 $25\\%$ |\n| $3$ | $49$ | $Q=50$，得分见下文 |\n### 【Subtask 3 的计分方法】\n记你在所有调用中最大使用了 $q$ 次询问。\n- 若 $q >50$，你得到 $0$ 分。\n- 若 $34 \\leq q \\leq 50$，你得到 $40-30\\times \\frac{q-34}{17}$ 的分数。\n- 若 $q \\leq 33$，你得到满分。\n### 【提示】\n请在你的函数前加上以下内容：\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nextern \"C\" bool inside_shape(int x,int y);\n```\n同时，请在你的 `bool am_i_square(int N, int Q)` 前加上`extern \"C\" `。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2019 Prelim] Square or Rectangle?", "background": "翻译自 [NOISG2019 Prelim D.Square or Rectangle?](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。\n\n请注意，本题为**交互题**，请**尽量使用 C++ 进行作答**。同时，你**只需要实现题目中要求的函数**。**不要将答案输出在标准输出。**\n\n对于非 C++ 语言的选手，本题有 IO 交互版：<https://www.luogu.com.cn/problem/P15054>，可在此进行评测。", "description": "现在有一个 $N\\times N$ 的网格，网格内**有一个至少占网格总大小 $4\\%$ 的矩形**。但是，你现在不知道这个矩形是长方形还是正方形，你需要**定义一个函数**来完成这个问题。\n\n### 【实现细节】\n你需要定义以下函数：\n\n`bool am_i_square(int N, int Q)`\n\n- $N$：网格的大小\n- $Q$：能询问评测机的次数。\n\n为了确定形状，你可以向评测机至多调用 $Q$ 次 `bool inside_shape(int X, int Y)` 函数。调用这个来询问评测机方格 $(X,Y)$ 是否在这个矩形中。\n\n一旦你确定了形状，你就可以返回一个 `bool` 类型的量，代表这个矩形是否为**正方形**。\n\n评测机会调用你的函数 $T$ 次。$T$ 的大小见【数据范围与评测方法】。", "inputFormat": "见【实现细节】。", "outputFormat": "见【实现细节】。", "hint": "### 【样例】\n考虑以下调用：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/so2eprl8.png)\n\n`am_i_square(5, 25)`\n\n这表示这是一个 $5 \\times 5$ 大小的网格，你可以调用至多 $25$ 次。\n\n`inside_shape(3, 3) = true`\n\n这询问了方格 $(3,3)$ 是否在矩形内，它在正方形的正中间，所以返回 `true`。\n\n`inside_shape(5, 4) = false`\n\n这询问了方格 $(5,4)$ 是否在矩形内，它不在正方形内，所以返回 `false`。\n\n`inside_shape(1, 1) = false`\n\n这询问了方格 $(1,1)$ 是否在矩形内，它不在正方形内，所以返回 `false`。\n\n`inside_shape(2, 4) = true`\n\n这询问了方格 $(2,4)$ 是否在矩形内，它在正方形的左下角，所以返回 `true`。\n\n综上，我们可以确定这是一个正方形，所以该函数返回 `true`。\n### 【数据范围与评测方法】\n对于 $100\\%$ 的测试点：$N=100,1\\leq T \\leq 1000$。\n| $\\text{Subtask}$ | 分值 | 附加条件 |\n| :----------: | :----------: | :----------: |\n| $0$ | $14$ | $Q=10^4$ |\n| $1$ | $19$ | $Q=100$ |\n| $2$ | $18$ | $Q=40$，图形至少占网格总大小的 $25\\%$ |\n| $3$ | $49$ | $Q=50$，得分见下文 |\n### 【Subtask 3 的计分方法】\n记你在所有调用中最大使用了 $q$ 次询问。\n- 若 $q >50$，你得到 $0$ 分。\n- 若 $34 \\leq q \\leq 50$，你得到 $40-30\\times \\frac{q-34}{17}$ 的分数。\n- 若 $q \\leq 33$，你得到满分。\n### 【提示】\n请在你的函数前加上以下内容：\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nextern \"C\" bool inside_shape(int x,int y);\n```\n同时，请在你的 `bool am_i_square(int N, int Q)` 前加上`extern \"C\" `。", "locale": "zh-CN"}}}
{"pid": "P10736", "type": "P", "difficulty": 6, "samples": [["5\n1 3 -4 2 1\n", "8"], ["4\n1 1 -2 3", "5"], ["5\n-1 -3 0 -5 -4\n", "0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Archeologists", "background": "", "description": "你在玩一个寻宝类游戏，一共有 $n$ 个格子，编号为 $1 \\sim n$，你每在 $i$ 号格子上下挖一层便会获得 $p_i$ 的价值，其中你需要保证每个格子相邻的两个格子都与其下挖的深度的差值不超过 $1$（注意此时 $1$ 和 $n$ 号点最多只能挖一层），请最大化总价值。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 2.5 \\times 10^5)$。\n\n接下来一行 $n$ 个整数 $p_i\\ (-10^6 \\leq p_i \\leq 10^6)$。", "outputFormat": "输出最大价值。", "hint": "样例一解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jalyemdz.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Archeologists", "background": "", "description": "你在玩一个寻宝类游戏，一共有 $n$ 个格子，编号为 $1 \\sim n$，你每在 $i$ 号格子上下挖一层便会获得 $p_i$ 的价值，其中你需要保证每个格子相邻的两个格子都与其下挖的深度的差值不超过 $1$（注意此时 $1$ 和 $n$ 号点最多只能挖一层），请最大化总价值。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 2.5 \\times 10^5)$。\n\n接下来一行 $n$ 个整数 $p_i\\ (-10^6 \\leq p_i \\leq 10^6)$。", "outputFormat": "输出最大价值。", "hint": "样例一解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jalyemdz.png)", "locale": "zh-CN"}}}
{"pid": "P10737", "type": "P", "difficulty": 4, "samples": [["010", "Alice"], ["1111", "Bob"], ["1010", "Bob"], ["1010001011001", "Alice"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Reverse Game", "background": "", "description": "Alice 和 Bob 在玩一个游戏，规则如下：\n\n- 游戏开始前给定一个字符串 $s$。\n\n- 每次行动，选择 $s$ 的一个子串 $t$，$t$ 只能是 `10`、`100`、`110`、`1010` 中的一个，反转 $t$ 的每个字符，例如 `100` 翻转为 `001`。\n\n- 不能操作者输掉游戏。\n\nAlice 先手，问双方同时采取最优策略的情况下，谁能赢。", "inputFormat": "一个仅包含 $01$ 的字符串 $s\\ (1 \\leq |s| \\leq 10^6)$。", "outputFormat": "如果 Alice 胜利输出 `Alice`，Bob 胜利输出 `Bob`。", "hint": "对于样例 $1$，选择子串 `10` 进行反转后 Bob 无法操作。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Reverse Game", "background": "", "description": "Alice 和 Bob 在玩一个游戏，规则如下：\n\n- 游戏开始前给定一个字符串 $s$。\n\n- 每次行动，选择 $s$ 的一个子串 $t$，$t$ 只能是 `10`、`100`、`110`、`1010` 中的一个，反转 $t$ 的每个字符，例如 `100` 翻转为 `001`。\n\n- 不能操作者输掉游戏。\n\nAlice 先手，问双方同时采取最优策略的情况下，谁能赢。", "inputFormat": "一个仅包含 $01$ 的字符串 $s\\ (1 \\leq |s| \\leq 10^6)$。", "outputFormat": "如果 Alice 胜利输出 `Alice`，Bob 胜利输出 `Bob`。", "hint": "对于样例 $1$，选择子串 `10` 进行反转后 Bob 无法操作。", "locale": "zh-CN"}}}
{"pid": "P10738", "type": "P", "difficulty": 6, "samples": [["", "3 2\n1 2\n2 3\n1\n1 3\n0"]], "limits": {"time": [2000], "memory": [262144]}, "tags": ["2020", "Special Judge", "ICPC", "SEERC"], "title": "[SEERC 2020] 3-colorings", "background": "", "description": "**这是一道仅有输出的题。**\n\n定义一个图的有效“三色”染色为：\n\n- 每个点的颜色只能属于 $\\{1,2,3\\}$。\n\n- 对于每个有边相连的顶点 $(u,v)$，$u$ 的颜色需要与 $v$ 不同。\n\n可以证明，一个图最多的“三色”染色总数为 $3^n$ 种。\n\n现在你需构造一个图，一开始它存在 $n \\ (1 \\leq n \\leq 19)$ 个顶点 $m \\ (1 \\leq m \\leq \\frac{n(n-1)}{2})$ 条无向边，然后对于每个 $1 \\leq k \\leq 500$ 的 $k$，你可以添加至多 $17$ 条无向边使得此图的“三色”染色总数为 $6k$ 种。", "inputFormat": "无。", "outputFormat": "第一行 $n,m$，表示你构造图的点数和边数。\n\n然后 $m$ 行，一行两个整数 $u,v$，表示 $(u,v)$ 存在一条无向边。\n\n然后 $k$ 从 $1$ 到 $500$，每个 $k$ 输出你要添加的边数，然后再是对应行添加的边 $(u,v)$。", "hint": "样例仅给出 $k=1$ 和 $k=2$ 的示例。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] 3-colorings", "background": "", "description": "**这是一道仅有输出的题。**\n\n定义一个图的有效“三色”染色为：\n\n- 每个点的颜色只能属于 $\\{1,2,3\\}$。\n\n- 对于每个有边相连的顶点 $(u,v)$，$u$ 的颜色需要与 $v$ 不同。\n\n可以证明，一个图最多的“三色”染色总数为 $3^n$ 种。\n\n现在你需构造一个图，一开始它存在 $n \\ (1 \\leq n \\leq 19)$ 个顶点 $m \\ (1 \\leq m \\leq \\frac{n(n-1)}{2})$ 条无向边，然后对于每个 $1 \\leq k \\leq 500$ 的 $k$，你可以添加至多 $17$ 条无向边使得此图的“三色”染色总数为 $6k$ 种。", "inputFormat": "无。", "outputFormat": "第一行 $n,m$，表示你构造图的点数和边数。\n\n然后 $m$ 行，一行两个整数 $u,v$，表示 $(u,v)$ 存在一条无向边。\n\n然后 $k$ 从 $1$ 到 $500$，每个 $k$ 输出你要添加的边数，然后再是对应行添加的边 $(u,v)$。", "hint": "样例仅给出 $k=1$ 和 $k=2$ 的示例。", "locale": "zh-CN"}}}
{"pid": "P10739", "type": "P", "difficulty": 5, "samples": [["4\n2 3 1 4\n2 1 1 4\n2 3 3 4", "8\n3 5\n3 5\n2 3\n2 5\n2 3\n5 2\n5 2\n5 2\n"], ["2\n1 2\n1 2\n1 2", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "Special Judge", "ICPC", "SEERC"], "title": "[SEERC 2020] Disk Sort", "background": "", "description": "你有 $n+1$ 根棍子，一开始 $1 \\sim n$ 的每根棍子上面都会存在 $3$ 个盘，颜色不超过 $n$ 种。\n\n每次操作，你可以选择一对 $(a_i,b_i)$，表示将 $a_i$ 最顶上的圆盘放到 $b_i$ 最上面（$a_i$ 的圆盘数量至少为 $1$，$b_i$ 的数量至多为 $2$）。\n\n你需要构造出一种合法方案使得操作结束后每个盘上的颜色都一样且 $n+1$ 号为空。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 1000)$，表示共有 $n$ 根棍子。\n\n接下来 $3$ 行，每行 $n$ 个整数 $c_{i,j}\\ (1 \\leq c_{i,j} \\leq n)$，表示第 $j$ 个棍子上面自上向下数第 $i$ 个的颜色。", "outputFormat": "第一行一个整数 $k\\ (1 \\leq k \\leq 6n)$，表示操作次数。\n\n然后 $k$ 行，每行一对 $(a_i,b_i)$，表示交换的对象。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Disk Sort", "background": "", "description": "你有 $n+1$ 根棍子，一开始 $1 \\sim n$ 的每根棍子上面都会存在 $3$ 个盘，颜色不超过 $n$ 种。\n\n每次操作，你可以选择一对 $(a_i,b_i)$，表示将 $a_i$ 最顶上的圆盘放到 $b_i$ 最上面（$a_i$ 的圆盘数量至少为 $1$，$b_i$ 的数量至多为 $2$）。\n\n你需要构造出一种合法方案使得操作结束后每个盘上的颜色都一样且 $n+1$ 号为空。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 1000)$，表示共有 $n$ 根棍子。\n\n接下来 $3$ 行，每行 $n$ 个整数 $c_{i,j}\\ (1 \\leq c_{i,j} \\leq n)$，表示第 $j$ 个棍子上面自上向下数第 $i$ 个的颜色。", "outputFormat": "第一行一个整数 $k\\ (1 \\leq k \\leq 6n)$，表示操作次数。\n\n然后 $k$ 行，每行一对 $(a_i,b_i)$，表示交换的对象。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10740", "type": "P", "difficulty": 3, "samples": [["3\n5 23 2021\n", "4"], ["5\n0 0 1 3 3", "15"], ["10\n0 1 2 3 4 5 6 7 8 9", "20"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Divisible by 3", "background": "", "description": "定义一个序列 $b$ 的权重为 $\\sum_{i=1}^n \\sum_{j=1}^{i-1} b_i \\times b_j$。\n\n现在你有一个长度为 $n$ 的数组 $a$，求一共存在多少种 $(l,r)$ 使得 $1 \\leq l \\leq r \\leq n$ 且 $[a_l, a_{l+1},\\ldots,a_r]$ 的权重能被 $3$ 整除。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 5 \\times 10^5)$。\n\n然后 $n$ 个整数 $a_i\\ (0 \\leq a_i \\leq 10^9)$。", "outputFormat": "输出方案总数。", "hint": "对于第一个样例，存在 $[1,1]$、$[2,2]$、$[3,3]$、$[1,3]$ 共 $4$ 种方案。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Divisible by 3", "background": "", "description": "定义一个序列 $b$ 的权重为 $\\sum_{i=1}^n \\sum_{j=1}^{i-1} b_i \\times b_j$。\n\n现在你有一个长度为 $n$ 的数组 $a$，求一共存在多少种 $(l,r)$ 使得 $1 \\leq l \\leq r \\leq n$ 且 $[a_l, a_{l+1},\\ldots,a_r]$ 的权重能被 $3$ 整除。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 5 \\times 10^5)$。\n\n然后 $n$ 个整数 $a_i\\ (0 \\leq a_i \\leq 10^9)$。", "outputFormat": "输出方案总数。", "hint": "对于第一个样例，存在 $[1,1]$、$[2,2]$、$[3,3]$、$[1,3]$ 共 $4$ 种方案。", "locale": "zh-CN"}}}
{"pid": "P10741", "type": "P", "difficulty": 5, "samples": [["3\n1 3 2", "4"], ["5\n1 2 3 4 5\n", "42"], ["7\n1 4 2 5 3 6 7", "124"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Fence Job", "background": "", "description": "Fred 有一个长度为 $n$ 的排列 $h$，每次操作他可以选择一段区间 $[l,r]$，令 $h_i = \\min_{j=l}^{r}h_j\\ (i \\in [l,r])$。\n\n问进行若干次操作（可以为 $0$ 次）后不同的数组数量，对 $10^9 + 7$ 取模。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 3000)$。\n\n接下来一行 $n$ 个整数 $h_i\\ (1 \\leq h_i \\leq n)$。", "outputFormat": "输出操作后不同数组的数量模 $10^9+7$ 的值。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Fence Job", "background": "", "description": "Fred 有一个长度为 $n$ 的排列 $h$，每次操作他可以选择一段区间 $[l,r]$，令 $h_i = \\min_{j=l}^{r}h_j\\ (i \\in [l,r])$。\n\n问进行若干次操作（可以为 $0$ 次）后不同的数组数量，对 $10^9 + 7$ 取模。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 3000)$。\n\n接下来一行 $n$ 个整数 $h_i\\ (1 \\leq h_i \\leq n)$。", "outputFormat": "输出操作后不同数组的数量模 $10^9+7$ 的值。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10742", "type": "P", "difficulty": 6, "samples": [["6\n1 1\n6 1\n6 11\n11 11\n11 6\n1 6", "50"], ["8\n2 4\n2 1\n4 1\n4 3\n1 3\n1 2\n3 2\n3 4", "6"], ["10\n1 1\n1 5\n4 5\n4 3\n2 3\n2 4\n1 4\n1 2\n4 2\n4 1", "8"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Simple Hull", "background": "", "description": "Gary 创造了一个含有 $n$ 个点的多边形，每个点的坐标形如 $(x,y)$。\n\n你需要进行一些连边，保证包含所有的点，同时连出来的图是一条“多边形链”（即任何一个点只能连向或被连向 $2$ 个点，且连出来的边可以在图中与其他边相交）。\n\n你还需要保证每两个存在连边的点 $i$ 和 $j$，这两个点形成的边在图中是垂直或水平的。\n\n输出连出来的图的最小面积。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 10^5)$，表示点的个数。\n\n然后 $n$ 行，每行两个整数 $x_i,y_i\\ (1 \\leq x_i,y_i \\leq 10^6)$。", "outputFormat": "输出连出的 $n$ 边形的面积。", "hint": "三个样例画出的图依次为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r9x5s5zy.png)\n\n（上述图未按比例画图）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Simple Hull", "background": "", "description": "Gary 创造了一个含有 $n$ 个点的多边形，每个点的坐标形如 $(x,y)$。\n\n你需要进行一些连边，保证包含所有的点，同时连出来的图是一条“多边形链”（即任何一个点只能连向或被连向 $2$ 个点，且连出来的边可以在图中与其他边相交）。\n\n你还需要保证每两个存在连边的点 $i$ 和 $j$，这两个点形成的边在图中是垂直或水平的。\n\n输出连出来的图的最小面积。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 10^5)$，表示点的个数。\n\n然后 $n$ 行，每行两个整数 $x_i,y_i\\ (1 \\leq x_i,y_i \\leq 10^6)$。", "outputFormat": "输出连出的 $n$ 边形的面积。", "hint": "三个样例画出的图依次为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r9x5s5zy.png)\n\n（上述图未按比例画图）", "locale": "zh-CN"}}}
{"pid": "P10743", "type": "P", "difficulty": 6, "samples": [["5 15\n0 1 1 3 2\n1 1\n1 2\n1 3\n1 4\n1 5\n2 2\n2 3\n2 4\n2 5\n3 3\n3 4\n3 5\n4 4\n4 5\n5 5", "NO\nNO\nYES\nYES\nYES\nNO\nYES\nYES\nYES\nNO\nNO\nYES\nNO\nNO\nNO"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] AND = OR", "background": null, "description": "一个数组 $b$ 被称为“好的数组”当且仅当可以将 $b$ 划分为两个非空的子数组，这两个子数组中第一个子数组的 $\\mathtt{OR}$ 结果与第二个子数组的 $\\mathtt{AND}$ 结果相等，例如 $\\{1,7,3,11\\}$，将其划分为 $\\{1,3\\}$ 与 $\\{7,11\\}$，$1\\ \\mathtt{OR}\\ 3 = 3$，$7\\ \\mathtt{AND}\\ 11 = 3$，所以它是一个好的数组。\n\n现在给定一个长度为 $n$ 的数组 $a$，$q$ 组询问，每次给定 $[l,r]$，问 $\\{a_l, a_{l+1},\\ldots,a_{r-1},a_{r}\\}$ 是不是一个好的数组。", "inputFormat": "第一行两个整数 $n\\ (1 \\leq n \\leq 10^5)$ 和 $q\\ (1 \\leq q \\leq 10^5)$。\n\n然后一行 $n$ 个整数表示序列 $a\\ (0\\leq a_i \\leq 2^{30}-1)$。\n\n接下来 $q$ 行，一行两个整数 $l,r\\ (1 \\leq l \\leq r \\leq n)$，表示一组询问。", "outputFormat": "对于每个询问，如果该子数组是好的输出 `YES`，否则输出 `NO`。", "hint": null, "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] AND = OR", "background": null, "description": "一个数组 $b$ 被称为“好的数组”当且仅当可以将 $b$ 划分为两个非空的子数组，这两个子数组中第一个子数组的 $\\mathtt{OR}$ 结果与第二个子数组的 $\\mathtt{AND}$ 结果相等，例如 $\\{1,7,3,11\\}$，将其划分为 $\\{1,3\\}$ 与 $\\{7,11\\}$，$1\\ \\mathtt{OR}\\ 3 = 3$，$7\\ \\mathtt{AND}\\ 11 = 3$，所以它是一个好的数组。\n\n现在给定一个长度为 $n$ 的数组 $a$，$q$ 组询问，每次给定 $[l,r]$，问 $\\{a_l, a_{l+1},\\ldots,a_{r-1},a_{r}\\}$ 是不是一个好的数组。", "inputFormat": "第一行两个整数 $n\\ (1 \\leq n \\leq 10^5)$ 和 $q\\ (1 \\leq q \\leq 10^5)$。\n\n然后一行 $n$ 个整数表示序列 $a\\ (0\\leq a_i \\leq 2^{30}-1)$。\n\n接下来 $q$ 行，一行两个整数 $l,r\\ (1 \\leq l \\leq r \\leq n)$，表示一组询问。", "outputFormat": "对于每个询问，如果该子数组是好的输出 `YES`，否则输出 `NO`。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P10744", "type": "P", "difficulty": 5, "samples": [["1", "1"], ["2", "2"], ["3", "6"], ["4", "16"], ["5", "40"], ["1000000", "581177467"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Modulo Permutations", "background": "", "description": "求长度为 $n$ 的 $1 \\sim n$ 的所有排列总数，其中满足 $p_i \\bmod p_{i+1} \\leq 2$ 的（此处 $p_{n+1} = p_1$），对 $10^9 + 7$ 取模后的值。", "inputFormat": "一个整数 $n\\ (1 \\leq n \\leq 10^6)$。", "outputFormat": "输出答案模 $10^9+7$ 后的值。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Modulo Permutations", "background": "", "description": "求长度为 $n$ 的 $1 \\sim n$ 的所有排列总数，其中满足 $p_i \\bmod p_{i+1} \\leq 2$ 的（此处 $p_{n+1} = p_1$），对 $10^9 + 7$ 取模后的值。", "inputFormat": "一个整数 $n\\ (1 \\leq n \\leq 10^6)$。", "outputFormat": "输出答案模 $10^9+7$ 后的值。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10745", "type": "P", "difficulty": 6, "samples": [["5\n1 2\n1 3\n2 4\n2 5\n2 2 3 3 3", "3 4 5 1 2"], ["4\n2 1\n3 2\n3 4\n1 0 1 2", "2 1 3 4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] One Piece", "background": "", "description": "有一个图，它是一个 $n$ 个点的树，每条边都是形如 $(u,v)$ 的边长为 $1$ 的无向边。\n\n你有一个寻宝器，当你在点 $i$ 时，它会返回一个最远距离 $x$，表示存在宝藏的位置距 $i$ 点最远长度为 $x$，一个图可能存在多个宝藏。\n\n现在你知道了对于 $1 \\leq i \\leq n$ 时的寻宝器返回结果，问你确定每个点是否存在宝藏的概率从大到小依次排序后的数组。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 2.5 \\times 10^5)$，表示点数。\n\n接下来 $n-1$ 行，每行两个整数 $u,v$，表示一条边。\n\n再一行 $n$ 个数，表示在 $i$ 点调用寻宝器的返回值。", "outputFormat": "输出每个点是否存在宝藏的概率从大到小依次排序后的数组。\n\n同概率下标升序排序。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] One Piece", "background": "", "description": "有一个图，它是一个 $n$ 个点的树，每条边都是形如 $(u,v)$ 的边长为 $1$ 的无向边。\n\n你有一个寻宝器，当你在点 $i$ 时，它会返回一个最远距离 $x$，表示存在宝藏的位置距 $i$ 点最远长度为 $x$，一个图可能存在多个宝藏。\n\n现在你知道了对于 $1 \\leq i \\leq n$ 时的寻宝器返回结果，问你确定每个点是否存在宝藏的概率从大到小依次排序后的数组。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 2.5 \\times 10^5)$，表示点数。\n\n接下来 $n-1$ 行，每行两个整数 $u,v$，表示一条边。\n\n再一行 $n$ 个数，表示在 $i$ 点调用寻宝器的返回值。", "outputFormat": "输出每个点是否存在宝藏的概率从大到小依次排序后的数组。\n\n同概率下标升序排序。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10746", "type": "P", "difficulty": 6, "samples": [["3\nactor\ncheat\nzeta\n1\nrBBnR\nNRnbB\nnRRnR\nNRxBr\nnBRbB", "actor 2"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "Special Judge", "ICPC", "SEERC"], "title": "[SEERC 2020] Codenames", "background": "", "description": "有 $q$ 个 $5 \\times 5$ 的图表，给出每个点的颜色（只可能是 `r`、`b`、`n`、`x`），具体颜色分配为：$9$ 个 `r`，$8$ 个 `b`，$5$ 个 `n`，一个 `x`。\n\n图表中每个点对应的字符始终确定，分别为：\n\n```\nabcde\nfghij\nklmno\npqrst\nuvwxy\n```\n\n图表中某些颜色已经翻开来了（用其颜色的大写字母表示已显示），然后你需要从一个 $n$ 个字符串的列表内选择一个字符串 $w$ 和一个数字 $g$，按下述规则进行操作 $g$ 次。\n\n- 如果当前 $w_i$ 字符代表的格子颜色已经被公示，不进行操作，令 $i \\gets i + 1$。\n- 否则，翻开 $w_i$ 代表的格子，如果 $w_i$ 的颜色为 `n`、`b` 或 `x`，就输了。然后再令 $i \\gets i+1$。\n- 当 $g$ 次操作完成或所有 `r` 色块都翻出来时结束操作。\n\n你想要使得所有 `r` 色块都翻出来，求一组满足条件的 $w$ 与 $g$。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 10^5)$。\n\n然后 $n$ 行，每行一个字符串，描述了一整个字符串列表。\n\n第 $n+2$ 行，整数 $q\\ (1 \\leq q \\leq 10^5)$，表示表格个数。\n\n然后 $q$ 组图表，每个图表占据 $5 \\times 5$ 的大小，描述了第 $i$ 个图表的颜色。", "outputFormat": "对于每个图表，如果有解，输出一组合法的 $w$ 和 $g\\ (1 \\leq g \\leq 9)$，无解输出 `IMPOSSIBLE`。", "hint": "答案还可能是 `actor 4`，`zeta 2` 等。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Codenames", "background": "", "description": "有 $q$ 个 $5 \\times 5$ 的图表，给出每个点的颜色（只可能是 `r`、`b`、`n`、`x`），具体颜色分配为：$9$ 个 `r`，$8$ 个 `b`，$5$ 个 `n`，一个 `x`。\n\n图表中每个点对应的字符始终确定，分别为：\n\n```\nabcde\nfghij\nklmno\npqrst\nuvwxy\n```\n\n图表中某些颜色已经翻开来了（用其颜色的大写字母表示已显示），然后你需要从一个 $n$ 个字符串的列表内选择一个字符串 $w$ 和一个数字 $g$，按下述规则进行操作 $g$ 次。\n\n- 如果当前 $w_i$ 字符代表的格子颜色已经被公示，不进行操作，令 $i \\gets i + 1$。\n- 否则，翻开 $w_i$ 代表的格子，如果 $w_i$ 的颜色为 `n`、`b` 或 `x`，就输了。然后再令 $i \\gets i+1$。\n- 当 $g$ 次操作完成或所有 `r` 色块都翻出来时结束操作。\n\n你想要使得所有 `r` 色块都翻出来，求一组满足条件的 $w$ 与 $g$。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 10^5)$。\n\n然后 $n$ 行，每行一个字符串，描述了一整个字符串列表。\n\n第 $n+2$ 行，整数 $q\\ (1 \\leq q \\leq 10^5)$，表示表格个数。\n\n然后 $q$ 组图表，每个图表占据 $5 \\times 5$ 的大小，描述了第 $i$ 个图表的颜色。", "outputFormat": "对于每个图表，如果有解，输出一组合法的 $w$ 和 $g\\ (1 \\leq g \\leq 9)$，无解输出 `IMPOSSIBLE`。", "hint": "答案还可能是 `actor 4`，`zeta 2` 等。", "locale": "zh-CN"}}}
{"pid": "P10747", "type": "P", "difficulty": 6, "samples": [["5\n2 3 4 5 6\n1 2 3 4 5", "2"], ["4\n1 2 4 2\n5 6 9 7\n", "0"], ["4\n9 19 6 5\n20 3 16 19\n", "1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "ICPC", "SEERC"], "title": "[SEERC 2020] Neo-Robin Hood", "background": "", "description": "你是一个大盗，镇上一共有 $n$ 户人家，对于每户人家 $i$，你在如下的选择里选一样。\n\n- 盗窃他的 $m_i$ 元钱，他会对你起仇恨。\n\n- 给他 $p_i$ 元钱，他会让你盗窃的一个人取消对你的仇恨。\n\n- 什么也不做。\n\n初始时你没有钱，你想知道，在没人对你有仇恨且你手中的钱非负的情况下，你最多能盗窃多少户人家。\n\n注：你可以按任意顺序依次访问每户人家。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 10^5)$。\n\n第二行一个长度为 $n$ 的序列 $m\\ (1 \\leq m_i \\leq 10^9)$。\n\n第三行一个长度为 $n$ 的序列 $p\\ (1 \\leq p_i \\leq 10^9)$。", "outputFormat": "输出最多能盗窃的人家数。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Neo-Robin Hood", "background": "", "description": "你是一个大盗，镇上一共有 $n$ 户人家，对于每户人家 $i$，你在如下的选择里选一样。\n\n- 盗窃他的 $m_i$ 元钱，他会对你起仇恨。\n\n- 给他 $p_i$ 元钱，他会让你盗窃的一个人取消对你的仇恨。\n\n- 什么也不做。\n\n初始时你没有钱，你想知道，在没人对你有仇恨且你手中的钱非负的情况下，你最多能盗窃多少户人家。\n\n注：你可以按任意顺序依次访问每户人家。", "inputFormat": "第一行一个整数 $n\\ (1 \\leq n \\leq 10^5)$。\n\n第二行一个长度为 $n$ 的序列 $m\\ (1 \\leq m_i \\leq 10^9)$。\n\n第三行一个长度为 $n$ 的序列 $p\\ (1 \\leq p_i \\leq 10^9)$。", "outputFormat": "输出最多能盗窃的人家数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10748", "type": "P", "difficulty": 3, "samples": [["3 3 2\n1 2\n1 3\n1 1 2 3 3 2 1 2 3", "1 2 2 1 2 1 3 3 3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "Special Judge", "ICPC", "SEERC"], "title": "[SEERC 2020] Mistake", "background": "", "description": "你有 $k$ 个机器，每个机器都**未按序**存储了 $1 \\sim n$ 共 $n$ 个数，当你启动某个机器时，该机器会将其存储的数最前面的数打印出来，然后删除它。\n\n但是很幸运，你知道 $m$ 对 $(a_i,b_i)$，表示每个存储的 $a_i$ 都在 $b_i$ 前面。\n\n你还知道你依次启动的机器输出了哪些，请对于每个打印的数，确定一种方案表示它是由哪个机器启动得来，保证每个数出现的次数 $=n$。\n\n存在多种可行解，输出任何都可以得分。", "inputFormat": "第一行三个整数 $n,k,m\\ (1 \\leq n,k\\leq 5 \\times 10^5, 0 \\leq m \\leq 2.5 \\times 10^5, 1 \\leq n \\times k \\leq 5 \\times 10^5)$。\n\n然后 $m$ 行每行两个 $a_i,b_i\\ (1 \\leq a_i,b_i \\leq n)$，保证不存在环。\n\n然后一行 $n \\times k$ 的数，表示依次启动的机器输出的序列。", "outputFormat": "输出一种合法的启动方案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SEERC 2020] Mistake", "background": "", "description": "你有 $k$ 个机器，每个机器都**未按序**存储了 $1 \\sim n$ 共 $n$ 个数，当你启动某个机器时，该机器会将其存储的数最前面的数打印出来，然后删除它。\n\n但是很幸运，你知道 $m$ 对 $(a_i,b_i)$，表示每个存储的 $a_i$ 都在 $b_i$ 前面。\n\n你还知道你依次启动的机器输出了哪些，请对于每个打印的数，确定一种方案表示它是由哪个机器启动得来，保证每个数出现的次数 $=n$。\n\n存在多种可行解，输出任何都可以得分。", "inputFormat": "第一行三个整数 $n,k,m\\ (1 \\leq n,k\\leq 5 \\times 10^5, 0 \\leq m \\leq 2.5 \\times 10^5, 1 \\leq n \\times k \\leq 5 \\times 10^5)$。\n\n然后 $m$ 行每行两个 $a_i,b_i\\ (1 \\leq a_i,b_i \\leq n)$，保证不存在环。\n\n然后一行 $n \\times k$ 的数，表示依次启动的机器输出的序列。", "outputFormat": "输出一种合法的启动方案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10749", "type": "P", "difficulty": 5, "samples": [["11 5\n2 4 2 3 4 4 3 1 4 4 4\n1 4\n2 8\n6 9\n8 10\n8 11", "1\n4\n1\n1\n1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "COI（克罗地亚）"], "title": "[COI 2024] CERN", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。", "description": "CERN 是一个专注于核研究和粒子物理学的国际机构。CERN 的粒子加速器系统被用于进行高速粒子碰撞实验。\n\n我们考虑按序列排列的 $N$ 个粒子。每个粒子由其类型 $v_i$ 定义，$v_i$ 是一个介于 $1$ 和 $N$ 之间的正整数。\n\n在最新的研究中，需要进行 $Q$ 次实验。在第 $i$ 次实验中，我们观察序列中从第 $l$ 个到第 $r$ 个的所有粒子（其中 $l < r$）。在观察到的粒子中，我们可以选择任意两个类型不同的粒子并在加速器中进行碰撞，导致两个粒子都被摧毁。我们重复这个碰撞过程，直到观察到的粒子中没有两个类型不同的粒子为止。实验将在所有观察到的粒子都被摧毁或仅剩下同类型的粒子时结束。当然，根据我们碰撞粒子的顺序，最终可能留下各种类型的粒子。\n\n由于粒子碰撞成本高昂，你决定只在理论上进行实验。现在，对于每次实验，你感兴趣的是有多少种类型的粒子，使得实验结束时可能剩下该类型的粒子。", "inputFormat": "第一行包含两个正整数 $N$ 和 $Q$，分别表示粒子的数量和实验的次数。\n\n第二行包含 $N$ 个数 $v_1, \\dots, v_N$，表示粒子的类型。\n\n接下来的 $Q$ 行中，每行包含两个正整数 $l$ 和 $r$（$1 \\leq l < r \\leq N$），表示第 $i$ 次实验中观察到的粒子区间。", "outputFormat": "对于每次实验，在单独的一行中输出可能的结束实验时剩余的粒子类型数量。", "hint": "**【样例解释】**\n\n在第一个实验中，我们可以使类型为 $3$ 和 $4$ 的粒子相撞，留下两个类型为 $2$ 的粒子。无法最终得到任何其他类型的粒子。\n\n在第二个实验中，有可能最终剩下每种类型的一些粒子。\n\n在第四和第五个实验中，不论选择哪种碰撞方式，最终都会剩下一些类型为 $4$ 的粒子。\n\n**【数据范围】**\n\n在所有子任务中，$2 \\leq N \\leq 5\\times 10^5$ 且 $1 \\leq Q \\leq 5\\times 10^5$。\n\n- 子任务 1（13 分）：对于每个 $i = 1, \\dots, N，v_i \\leq 10$。\n- 子任务 2（19 分）：每种类型的粒子最多只有两个。\n- 子任务 3（17 分）：$N, Q \\leq 2\\times 10^3$。\n- 子任务 4（19 分）：$N, Q \\leq 1\\times 10^5$。\n- 子任务 5（32 分）：没有额外的约束条件。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2024] CERN", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。", "description": "CERN 是一个专注于核研究和粒子物理学的国际机构。CERN 的粒子加速器系统被用于进行高速粒子碰撞实验。\n\n我们考虑按序列排列的 $N$ 个粒子。每个粒子由其类型 $v_i$ 定义，$v_i$ 是一个介于 $1$ 和 $N$ 之间的正整数。\n\n在最新的研究中，需要进行 $Q$ 次实验。在第 $i$ 次实验中，我们观察序列中从第 $l$ 个到第 $r$ 个的所有粒子（其中 $l < r$）。在观察到的粒子中，我们可以选择任意两个类型不同的粒子并在加速器中进行碰撞，导致两个粒子都被摧毁。我们重复这个碰撞过程，直到观察到的粒子中没有两个类型不同的粒子为止。实验将在所有观察到的粒子都被摧毁或仅剩下同类型的粒子时结束。当然，根据我们碰撞粒子的顺序，最终可能留下各种类型的粒子。\n\n由于粒子碰撞成本高昂，你决定只在理论上进行实验。现在，对于每次实验，你感兴趣的是有多少种类型的粒子，使得实验结束时可能剩下该类型的粒子。", "inputFormat": "第一行包含两个正整数 $N$ 和 $Q$，分别表示粒子的数量和实验的次数。\n\n第二行包含 $N$ 个数 $v_1, \\dots, v_N$，表示粒子的类型。\n\n接下来的 $Q$ 行中，每行包含两个正整数 $l$ 和 $r$（$1 \\leq l < r \\leq N$），表示第 $i$ 次实验中观察到的粒子区间。", "outputFormat": "对于每次实验，在单独的一行中输出可能的结束实验时剩余的粒子类型数量。", "hint": "**【样例解释】**\n\n在第一个实验中，我们可以使类型为 $3$ 和 $4$ 的粒子相撞，留下两个类型为 $2$ 的粒子。无法最终得到任何其他类型的粒子。\n\n在第二个实验中，有可能最终剩下每种类型的一些粒子。\n\n在第四和第五个实验中，不论选择哪种碰撞方式，最终都会剩下一些类型为 $4$ 的粒子。\n\n**【数据范围】**\n\n在所有子任务中，$2 \\leq N \\leq 5\\times 10^5$ 且 $1 \\leq Q \\leq 5\\times 10^5$。\n\n- 子任务 1（13 分）：对于每个 $i = 1, \\dots, N，v_i \\leq 10$。\n- 子任务 2（19 分）：每种类型的粒子最多只有两个。\n- 子任务 3（17 分）：$N, Q \\leq 2\\times 10^3$。\n- 子任务 4（19 分）：$N, Q \\leq 1\\times 10^5$。\n- 子任务 5（32 分）：没有额外的约束条件。", "locale": "zh-CN"}}}
{"pid": "P10750", "type": "P", "difficulty": 5, "samples": [], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["二分", "2024", "交互题", "Special Judge", "O2优化", "排序", "Ad-hoc", "COI（克罗地亚）"], "title": "[COI 2024] Koreografija", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。\n\n", "description": "Jura：Tvrtko，昨天的演出怎么样？  \nTvrtko：非常棒。最精彩的部分是当 $1000$ 名舞者从左到右排列并开始表演时，那个编舞。他们每个人的服装上都写有一个 $1$ 到 $1000$ 之间的数字，并且这些数字都是不同的。但我不得不说，当我看到他们排成一行时，我不喜欢他们的顺序。  \nJura：你是什么意思？  \nTvrtko：我在队伍中看到了一些连续的舞者间隔，并计算了有多少对舞者是这样的：较低位置的舞者编号高于较高位置的舞者编号。我喜欢这样的对数是奇数的情况。  \nJura：哦，Tvrtko，你得看大局。我会处理的。但告诉我，他们的编号顺序是怎样的？  \nTvrtko：嗯……我已经忘了。但我可以告诉你对于每个连续的舞者间隔，我是否喜欢。  \nJura：就这样吧。我们别无选择，只能尝试根据这个来确定他们的编号。  ", "inputFormat": "这是一个交互任务。你的程序需要与组织者提供的程序建立对话，以响应所提出的问题。\n\n你的程序可以通过向标准输出写入来发送查询。每个查询应单独打印在一行上，并应采用 `? a b` 的形式，其中 $a$ 和 $b$ 是满足 $1 \\leq a \\leq b \\leq 1000$ 的正整数。数字 $a$ 和 $b$ 表示所观察区间的舞者位置。\n\n在输出每个查询后，你的程序应刷新输出，并从标准输入读取对查询的响应——一个在集合 $\\{0,1\\}$ 的数字，表示 Tvrtko 对该区间的看法：数字 $1$ 表示 Tvrtko 喜欢那个区间，而 $0$ 表示他不喜欢。你的程序最多可以发送 $500000$ 个这样的查询。\n\n一旦你的程序计算出了舞者服装上的数字，它应在单独的一行上向标准输出打印符号 `!` 后跟从左到右出现的请求的数字序列。之后，你的程序应再次刷新输出并终止执行。", "outputFormat": "", "hint": "**【解释说明】**\n\n尽管在任务中舞者的数量总是为 $1000$，但为了说明目的，我们提供了一个当舞者数量为 $4$ 时的交互示例。\n\n假设：舞者服装上的数字按顺序为 $2,1,4,3$。下面是一种可能的查询方案：\n\n- 查询 `? 1 2`，Tvrtko 数到了一对。\n- 查询 `? 1 3`，Tvrtko 数到了一对。\n- 查询 `? 1 4`，Tvrtko 数到了两对。\n- 查询 `? 2 3`，Tvrtko 没有数到任何一对。\n- 查询 `? 2 4`，Tvrtko 数到了一对。\n- 查询 `? 3 4`，Tvrtko 数到了一对。\n- 使用 `! 2 1 4 3` 输出答案。\n\n**【评分细则】**\n\n设 $Q$ 为你的程序在所有测试用例中发送的最大查询数。\n\n如果 $Q > 5\\times 10^5$，你的程序将得 $0$ 分。\n\n否则，你的程序将获得的分数基于以下表格：\n\n| 范围 | 分数 |\n| :-----------: | :-----------: |\n| $4\\times 10^4 \\leq Q\\leq 5\\times 10^5$ | $30+70\\times\\dfrac{1/Q-1/500000}{1/40000-1/500000}$ |\n| $Q\\leq 4\\times 10^4$ | $100$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2024] Koreografija", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。\n\n", "description": "Jura：Tvrtko，昨天的演出怎么样？  \nTvrtko：非常棒。最精彩的部分是当 $1000$ 名舞者从左到右排列并开始表演时，那个编舞。他们每个人的服装上都写有一个 $1$ 到 $1000$ 之间的数字，并且这些数字都是不同的。但我不得不说，当我看到他们排成一行时，我不喜欢他们的顺序。  \nJura：你是什么意思？  \nTvrtko：我在队伍中看到了一些连续的舞者间隔，并计算了有多少对舞者是这样的：较低位置的舞者编号高于较高位置的舞者编号。我喜欢这样的对数是奇数的情况。  \nJura：哦，Tvrtko，你得看大局。我会处理的。但告诉我，他们的编号顺序是怎样的？  \nTvrtko：嗯……我已经忘了。但我可以告诉你对于每个连续的舞者间隔，我是否喜欢。  \nJura：就这样吧。我们别无选择，只能尝试根据这个来确定他们的编号。  ", "inputFormat": "这是一个交互任务。你的程序需要与组织者提供的程序建立对话，以响应所提出的问题。\n\n你的程序可以通过向标准输出写入来发送查询。每个查询应单独打印在一行上，并应采用 `? a b` 的形式，其中 $a$ 和 $b$ 是满足 $1 \\leq a \\leq b \\leq 1000$ 的正整数。数字 $a$ 和 $b$ 表示所观察区间的舞者位置。\n\n在输出每个查询后，你的程序应刷新输出，并从标准输入读取对查询的响应——一个在集合 $\\{0,1\\}$ 的数字，表示 Tvrtko 对该区间的看法：数字 $1$ 表示 Tvrtko 喜欢那个区间，而 $0$ 表示他不喜欢。你的程序最多可以发送 $500000$ 个这样的查询。\n\n一旦你的程序计算出了舞者服装上的数字，它应在单独的一行上向标准输出打印符号 `!` 后跟从左到右出现的请求的数字序列。之后，你的程序应再次刷新输出并终止执行。", "outputFormat": "", "hint": "**【解释说明】**\n\n尽管在任务中舞者的数量总是为 $1000$，但为了说明目的，我们提供了一个当舞者数量为 $4$ 时的交互示例。\n\n假设：舞者服装上的数字按顺序为 $2,1,4,3$。下面是一种可能的查询方案：\n\n- 查询 `? 1 2`，Tvrtko 数到了一对。\n- 查询 `? 1 3`，Tvrtko 数到了一对。\n- 查询 `? 1 4`，Tvrtko 数到了两对。\n- 查询 `? 2 3`，Tvrtko 没有数到任何一对。\n- 查询 `? 2 4`，Tvrtko 数到了一对。\n- 查询 `? 3 4`，Tvrtko 数到了一对。\n- 使用 `! 2 1 4 3` 输出答案。\n\n**【评分细则】**\n\n设 $Q$ 为你的程序在所有测试用例中发送的最大查询数。\n\n如果 $Q > 5\\times 10^5$，你的程序将得 $0$ 分。\n\n否则，你的程序将获得的分数基于以下表格：\n\n| 范围 | 分数 |\n| :-----------: | :-----------: |\n| $4\\times 10^4 \\leq Q\\leq 5\\times 10^5$ | $30+70\\times\\dfrac{1/Q-1/500000}{1/40000-1/500000}$ |\n| $Q\\leq 4\\times 10^4$ | $100$ |\n", "locale": "zh-CN"}}}
{"pid": "P10751", "type": "P", "difficulty": 0, "samples": [["3\n0 1 0\n0 0 1\n1 0 0", "3\n0 1 0\n0 0 2\n3 0 0"], ["3\n0 1 1\n0 0 1\n0 0 0", "-1"], ["4\n0 1 0 1\n0 0 1 1\n1 0 0 0\n0 0 1 0", "3\n0 1 0 1\n0 0 2 3\n3 0 0 0\n0 0 2 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "COI（克罗地亚）"], "title": "[COI 2024] Ministarstvo（征集 checker）", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。", "description": "经过在派对中成功的职业生涯后（我们不会透露这个派对的名字），Pero 在旅游局找到了一份工作。他监管着一个由 $N$ 个城市组成的网络，这些城市从 $1$ 到 $N$ 进行编号，每对城市之间都有一条单向道路相连。为了增加收入，他决定引入交通许可。Pero 原本希望为每条道路都引入一种特殊的许可，但这会引起上级的注意。因此，他决定引入 $K$ 种不同的许可，从 $1$ 到 $K$ 进行编号，并规定每条道路上行驶都需要持有特定的许可。\n\n为了确保可观的收入，Pero 将满足以下属性：\n\n- 对于每个城市 $v$，都存在一个城市 $u$，使得无法仅凭一种许可从城市 $v$ 行驶到城市 $u$。\n\nPero 请求你的帮助来确定最小的 $K$ 值，如果存在满足上述属性的许可分配方案，则输出这个 $K$ 值以及许可分配方案。如果不存在这样的分配方案，则输出 $-1$。", "inputFormat": "第一行包含一个正整数 $N$。\n\n接下来的 $N$ 行中，第 $i$ 行包含 $N$ 个数字 $a_{i,j}$，其中如果有一条从城市 $i$ 到城市 $j$ 的道路，则 $a_{i,j} = 1$。注意 $a_{i,i} = 0$，且对于 $i \\neq j$，$a_{i,j}$ 和 $a_{j,i}$ 中只有一个非零。", "outputFormat": "如果不存在满足属性的分配方案，则在第一行且仅第一行输出 $-1$。\n\n否则，在第一行输出最小的正整数 $K$。\n\n在接下来的 $N$ 行中，输出分配方案的描述。第 $i$ 行输出 $N$ 个数字 $b_{i,j}$，如果 $a_{i,j} = 0$，则 $b_{i,j} = 0$；否则，$1 \\leq b_{i,j} \\leq K$，表示在该道路上行驶需要哪种许可。", "hint": "**【样例解释】**\n\n对于样例 $3$：需要第一个许可证的道路用红色标记，第二个许可证用蓝色，第三个许可证用绿色。从城市 $1$ 出发，仅使用一个许可证无法到达城市 $3$。从城市 $2$ 出发，仅使用一个许可证无法到达城市 $1$。从城市 $3$ 出发，仅使用一个许可证无法到达城市 $2$。从城市 $4$ 出发，仅使用一个许可证无法到达城市 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nyaqbpz9.png)\n\n**【数据范围】**\n\n在所有子任务中，$2 \\leq N \\leq 1000$。在每个子任务中， $15\\%$ 的分数仅用于判断是否存在这样的分配方案。对于这些分数，如果你不输出 $-1$，你需要输出某个分配方案，但它不必满足 Pero 所期望的属性。\n\n- 子任务 1（20 分）：$N\\leq 5$；\n- 子任务 2（80 分）：无其他约束限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2024] Ministarstvo（征集 checker）", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。", "description": "经过在派对中成功的职业生涯后（我们不会透露这个派对的名字），Pero 在旅游局找到了一份工作。他监管着一个由 $N$ 个城市组成的网络，这些城市从 $1$ 到 $N$ 进行编号，每对城市之间都有一条单向道路相连。为了增加收入，他决定引入交通许可。Pero 原本希望为每条道路都引入一种特殊的许可，但这会引起上级的注意。因此，他决定引入 $K$ 种不同的许可，从 $1$ 到 $K$ 进行编号，并规定每条道路上行驶都需要持有特定的许可。\n\n为了确保可观的收入，Pero 将满足以下属性：\n\n- 对于每个城市 $v$，都存在一个城市 $u$，使得无法仅凭一种许可从城市 $v$ 行驶到城市 $u$。\n\nPero 请求你的帮助来确定最小的 $K$ 值，如果存在满足上述属性的许可分配方案，则输出这个 $K$ 值以及许可分配方案。如果不存在这样的分配方案，则输出 $-1$。", "inputFormat": "第一行包含一个正整数 $N$。\n\n接下来的 $N$ 行中，第 $i$ 行包含 $N$ 个数字 $a_{i,j}$，其中如果有一条从城市 $i$ 到城市 $j$ 的道路，则 $a_{i,j} = 1$。注意 $a_{i,i} = 0$，且对于 $i \\neq j$，$a_{i,j}$ 和 $a_{j,i}$ 中只有一个非零。", "outputFormat": "如果不存在满足属性的分配方案，则在第一行且仅第一行输出 $-1$。\n\n否则，在第一行输出最小的正整数 $K$。\n\n在接下来的 $N$ 行中，输出分配方案的描述。第 $i$ 行输出 $N$ 个数字 $b_{i,j}$，如果 $a_{i,j} = 0$，则 $b_{i,j} = 0$；否则，$1 \\leq b_{i,j} \\leq K$，表示在该道路上行驶需要哪种许可。", "hint": "**【样例解释】**\n\n对于样例 $3$：需要第一个许可证的道路用红色标记，第二个许可证用蓝色，第三个许可证用绿色。从城市 $1$ 出发，仅使用一个许可证无法到达城市 $3$。从城市 $2$ 出发，仅使用一个许可证无法到达城市 $1$。从城市 $3$ 出发，仅使用一个许可证无法到达城市 $2$。从城市 $4$ 出发，仅使用一个许可证无法到达城市 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nyaqbpz9.png)\n\n**【数据范围】**\n\n在所有子任务中，$2 \\leq N \\leq 1000$。在每个子任务中， $15\\%$ 的分数仅用于判断是否存在这样的分配方案。对于这些分数，如果你不输出 $-1$，你需要输出某个分配方案，但它不必满足 Pero 所期望的属性。\n\n- 子任务 1（20 分）：$N\\leq 5$；\n- 子任务 2（80 分）：无其他约束限制。", "locale": "zh-CN"}}}
{"pid": "P10752", "type": "P", "difficulty": 5, "samples": [["5 5\n.....\n.#...\n.....\n...#.\n.....", "3"], ["5 5\n....#\n....#\n.....\n.....\n#....", "1"], ["3 2\n.#\n#.\n..", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["并查集", "2024", "广度优先搜索 BFS", "COI（克罗地亚）"], "title": "[COI 2024] Sirologija", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。", "description": "你是一只蚂蚁，但并非普通的蚂蚁——你是一只对奶酪学痴迷的蚂蚁！你在厨房里发现了一片新的奶酪，并希望尽可能多地派遣你的手下（小蚂蚁）去探索它。想象一下这片奶酪就像一个有 $N$ 行 $M$ 列的表格，从上到下行标号为 $1$ 到 $N$，从左到右列标号为 $1$ 到 $M$。一些区域有洞，而其他区域则有奶酪。我们将第 $r$ 行第 $s$ 列的区域表示为 $(r, s)$。左上角和右下角的区域肯定包含奶酪。\n\n我们设手下的数量为 $K$。你的手下将从左上角的区域开始探索，并在右下角的区域结束。他们只能向下或向右移动。此外，他们的路径不能“交叉”，这意味着我们可以给他们从 $1$ 到 $K$ 的编号，使得没有从某个区域向右移动的是编号较低的手下，同时从该区域向下移动的是编号较高的手下。\n\n此外，你希望这些路径在某种意义上“不同”，即对于每一对手下，都存在一个包含洞的区域 $(r, s)$，使得其中一只手下在某个时刻位于第 $s$ 列且行标号低于 $r$，而另一只手下在某个时刻（不一定同时）也位于第 $s$ 列但行标号高于 $r$ 。非正式地说，每一对手下都从洞的不同侧接近。\n\n输出满足给定条件的路径选择的最大 $K$ 值。\n\n以下是一些不满足条件的路径示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0klk31q8.png)", "inputFormat": "第一行包含两个正整数 $N, M$。\n\n接下来的 $N$ 行包含每行的描述。第 $i$ 行包含 $M$ 个字符，其中 `.` 表示奶酪，`#` 表示一个洞。", "outputFormat": "输出满足给定条件的路径选择的最大 $K$ 值。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/433g2mgu.png)\n\n**【数据范围】**\n\n- 子任务 1（15 分）：所有洞都在同一行。\n- 子任务 2（18 分）：$N, M \\leq 10$。\n- 子任务 3（16 分）：$N, M \\leq 50$，第一行、最后一行、第一列、最后一列中没有洞。\n- 子任务 4（18 分）：$N, M \\leq 50$。\n- 子任务 5（16 分）：$N, M \\leq 2000$，第一行、最后一行、第一列、最后一列中没有洞。\n- 子任务 6（17 分）：没有额外的约束条件。\n\n在所有子任务中，$2 \\leq N, M \\leq 2000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2024] Sirologija", "background": "题目来源：<https://hsin.hr/hio2024/>。翻译来自 [文心一言](https://yiyan.baidu.com/)。如果有更好的翻译请在讨论区提供。", "description": "你是一只蚂蚁，但并非普通的蚂蚁——你是一只对奶酪学痴迷的蚂蚁！你在厨房里发现了一片新的奶酪，并希望尽可能多地派遣你的手下（小蚂蚁）去探索它。想象一下这片奶酪就像一个有 $N$ 行 $M$ 列的表格，从上到下行标号为 $1$ 到 $N$，从左到右列标号为 $1$ 到 $M$。一些区域有洞，而其他区域则有奶酪。我们将第 $r$ 行第 $s$ 列的区域表示为 $(r, s)$。左上角和右下角的区域肯定包含奶酪。\n\n我们设手下的数量为 $K$。你的手下将从左上角的区域开始探索，并在右下角的区域结束。他们只能向下或向右移动。此外，他们的路径不能“交叉”，这意味着我们可以给他们从 $1$ 到 $K$ 的编号，使得没有从某个区域向右移动的是编号较低的手下，同时从该区域向下移动的是编号较高的手下。\n\n此外，你希望这些路径在某种意义上“不同”，即对于每一对手下，都存在一个包含洞的区域 $(r, s)$，使得其中一只手下在某个时刻位于第 $s$ 列且行标号低于 $r$，而另一只手下在某个时刻（不一定同时）也位于第 $s$ 列但行标号高于 $r$ 。非正式地说，每一对手下都从洞的不同侧接近。\n\n输出满足给定条件的路径选择的最大 $K$ 值。\n\n以下是一些不满足条件的路径示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0klk31q8.png)", "inputFormat": "第一行包含两个正整数 $N, M$。\n\n接下来的 $N$ 行包含每行的描述。第 $i$ 行包含 $M$ 个字符，其中 `.` 表示奶酪，`#` 表示一个洞。", "outputFormat": "输出满足给定条件的路径选择的最大 $K$ 值。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/433g2mgu.png)\n\n**【数据范围】**\n\n- 子任务 1（15 分）：所有洞都在同一行。\n- 子任务 2（18 分）：$N, M \\leq 10$。\n- 子任务 3（16 分）：$N, M \\leq 50$，第一行、最后一行、第一列、最后一列中没有洞。\n- 子任务 4（18 分）：$N, M \\leq 50$。\n- 子任务 5（16 分）：$N, M \\leq 2000$，第一行、最后一行、第一列、最后一列中没有洞。\n- 子任务 6（17 分）：没有额外的约束条件。\n\n在所有子任务中，$2 \\leq N, M \\leq 2000$。", "locale": "zh-CN"}}}
{"pid": "P10753", "type": "P", "difficulty": 3, "samples": [["3 1\nbbc\nced\n1 a", "ne\nda"], ["6 0\nberlio\npjesni", "da"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "COI（克罗地亚）"], "title": "[COI 2023] Bliskost", "background": "题目来源：<https://hsin.hr/hio2023/>。", "description": "一个春天的傍晚，天气异常温暖，两位市民出现在莫斯科的牧首池塘边。第一位不是别人，正是编辑米哈伊尔·亚历山德罗维奇·别尔利奥兹 (Mihail Aleksandrovič Berlioz)，而另一位是名叫“无家汉” (Bezdomni) 的年轻诗人。他们每人都带着一个长度为 $N$ 的字符串。\n\n很快，一位神秘的黑魔法专家，沃兰德 (Woland) 教授，也加入了他们，并说道：\n\n- “先生们，你们的字符串非常有趣，我一眼就能看出它们是否 **相近**！”\n\n一次操作的定义是：选择一个字符串中的两个相邻字母，并将这两个字母都在字母表中循环前移一位。例如，将字母对 “ab” 变为 “bc”，或是将 “qz” 变为 “ra”。如果两个字符串可以通过对它们各自进行若干次操作后变得完全相同，那么这两个字符串就被认为是 **相近的 (bliskima)**。\n\n- “那当然了，教授，您在胡说八道。判断两个字符串是否相近可是个出了名的难题。”\n\n- “不不，米哈伊尔·亚历山德罗维奇，您搞错了，我这就向您证明！瞧好了，我现在就告诉您，您的两个字符串是否相近。然后，您再对您的字符串进行 $Q$ 次修改。在每一次修改之后，我都会再次判断它们是否相近。”\n\n- “您可真勇敢啊，教授，确实，非常勇敢……那么，我们开始吧！”", "inputFormat": "第一行包含两个正整数 $N$ 和 $Q$，分别表示字符串的长度和修改的次数。\n\n第二行是一个长度为 $N$ 的字符串，属于别尔利奥兹。\n\n第三行是一个长度为 $N$ 的字符串，属于“无家汉”。\n\n接下来 $Q$ 行中的第 $i$ 行，包含一个数字 $p_i$ 和一个字符 $c_i$，表示在第 $i$ 次修改中，别尔利奥兹将自己字符串中第 $p_i$ 个字母改为了 $c_i$。", "outputFormat": "在第一行，如果初始的两个字符串是相近的，请输出 “da”，否则输出 “ne”。\n\n在接下来 $Q$ 行中的第 $i$ 行，你需要根据在别尔利奥兹的字符串进行了第 $i$ 次修改后两个字符串是否相近，来输出 “da” 或 “ne”。", "hint": "**【样例解释】**\n\n在第一个示例中，更改后，单词在后续步骤中相近关系：\n- $\\tt abc \\to bcc \\to cdc \\to dec \\to dfd$\n- $\\tt ced \\to dfd$\n\n**【数据范围】**\n\n对于所有子任务，都有 $N$ 和 $Q$ 的取值范围限制：$1 \\leq N \\leq 1\\times 10^6$ 和 $0 ≤ Q ≤ 1\\times 10^6$。\n\n- 子任务 1（7 分）：$Q=0$，$N\\leq 5$；\n- 子任务 2（8 分）：$Q=0$，$N\\leq 1000$；\n- 子任务 3（13 分）：$Q=0$；\n- 子任务 4（12 分）：$Q\\leq 100000$，$N\\leq 5$；\n- 子任务 5（17 分）：$Q\\leq 100000$，$N\\leq 1000$；\n- 子任务 6（43 分）：没有其他额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2023] Bliskost", "background": "题目来源：<https://hsin.hr/hio2023/>。", "description": "一个春天的傍晚，天气异常温暖，两位市民出现在莫斯科的牧首池塘边。第一位不是别人，正是编辑米哈伊尔·亚历山德罗维奇·别尔利奥兹 (Mihail Aleksandrovič Berlioz)，而另一位是名叫“无家汉” (Bezdomni) 的年轻诗人。他们每人都带着一个长度为 $N$ 的字符串。\n\n很快，一位神秘的黑魔法专家，沃兰德 (Woland) 教授，也加入了他们，并说道：\n\n- “先生们，你们的字符串非常有趣，我一眼就能看出它们是否 **相近**！”\n\n一次操作的定义是：选择一个字符串中的两个相邻字母，并将这两个字母都在字母表中循环前移一位。例如，将字母对 “ab” 变为 “bc”，或是将 “qz” 变为 “ra”。如果两个字符串可以通过对它们各自进行若干次操作后变得完全相同，那么这两个字符串就被认为是 **相近的 (bliskima)**。\n\n- “那当然了，教授，您在胡说八道。判断两个字符串是否相近可是个出了名的难题。”\n\n- “不不，米哈伊尔·亚历山德罗维奇，您搞错了，我这就向您证明！瞧好了，我现在就告诉您，您的两个字符串是否相近。然后，您再对您的字符串进行 $Q$ 次修改。在每一次修改之后，我都会再次判断它们是否相近。”\n\n- “您可真勇敢啊，教授，确实，非常勇敢……那么，我们开始吧！”", "inputFormat": "第一行包含两个正整数 $N$ 和 $Q$，分别表示字符串的长度和修改的次数。\n\n第二行是一个长度为 $N$ 的字符串，属于别尔利奥兹。\n\n第三行是一个长度为 $N$ 的字符串，属于“无家汉”。\n\n接下来 $Q$ 行中的第 $i$ 行，包含一个数字 $p_i$ 和一个字符 $c_i$，表示在第 $i$ 次修改中，别尔利奥兹将自己字符串中第 $p_i$ 个字母改为了 $c_i$。", "outputFormat": "在第一行，如果初始的两个字符串是相近的，请输出 “da”，否则输出 “ne”。\n\n在接下来 $Q$ 行中的第 $i$ 行，你需要根据在别尔利奥兹的字符串进行了第 $i$ 次修改后两个字符串是否相近，来输出 “da” 或 “ne”。", "hint": "**【样例解释】**\n\n在第一个示例中，更改后，单词在后续步骤中相近关系：\n- $\\tt abc \\to bcc \\to cdc \\to dec \\to dfd$\n- $\\tt ced \\to dfd$\n\n**【数据范围】**\n\n对于所有子任务，都有 $N$ 和 $Q$ 的取值范围限制：$1 \\leq N \\leq 1\\times 10^6$ 和 $0 ≤ Q ≤ 1\\times 10^6$。\n\n- 子任务 1（7 分）：$Q=0$，$N\\leq 5$；\n- 子任务 2（8 分）：$Q=0$，$N\\leq 1000$；\n- 子任务 3（13 分）：$Q=0$；\n- 子任务 4（12 分）：$Q\\leq 100000$，$N\\leq 5$；\n- 子任务 5（17 分）：$Q\\leq 100000$，$N\\leq 1000$；\n- 子任务 6（43 分）：没有其他额外限制。", "locale": "zh-CN"}}}
{"pid": "P10754", "type": "P", "difficulty": 0, "samples": [["7\n2 3 0 3 2 0 0\n6 8 2 9 9 9 9\n1 2\n2 3\n1 4\n4 5\n5 6\n5 7", "11"], ["7\n2 3 0 3 2 0 0\n6 8 2 9 9 9 1\n1 2\n2 3\n1 4\n4 5\n5 6\n5 7", "4\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "COI（克罗地亚）"], "title": "[COI 2023] Nestabilnost", "background": "题目来源：<https://hsin.hr/hio2023/>。", "description": "河对岸的松林，一小时前还沐浴在五月的阳光下，此刻却变得模糊、朦胧、消散。只剩下一棵巨大的树，一棵有 $N$ 个节点的树……\n\n伊万在 119 号房间里，观察着这棵牢牢扎根于编号为 1 的节点的树。在更仔细地观察了这棵树之后，他注意到每个节点 $i$ 上都有一个数字 $a_i$。突然，一个 **$k$-好子树** (k-dobrog podstabla) 的定义闪现在他的脑海中。如果对于一个子树中的每一条连接节点 $(u, v)$（其中 $u$ 是 $v$ 的父节点）的边，都满足 $a_v = (a_u + 1) \\pmod k$，并且对于该子树内的每个节点 $v$，都满足 $a_v < k$，那么这个子树就是 **$k$-好的**。对于每个数字 $k$，存在一个 **$k$-好**子树的自然不稳定性，记为 $f(k)$。\n\n当他再次回过神来，他注意到树前漂浮着一个木筏，而他的右手里握着一把魔法锯子。伊万决定锯掉一些树枝（边），对于通过移除被锯掉的边而得到的每个连通块（子树），他都会选择一个数字 $k_i$，使得该连通块是 **$k_i$-好的**。伊万决定将这样的一组选择——即选择一组要切断的边，并为每个因此得到的子树选择一个满足条件的 $k_i$（使得该子树是 **$k_i$-好的**）——称为一次 **切割 (rezanjem)**。一次 **切割** 的 **不稳定性 (Nestabilnost)** 定义为所有得到的子树的 $f(k_i)$ 之和。请帮助伊万确定一次 **切割** 可能的最小 **不稳定性**！", "inputFormat": "第一行是一个正整数 $N$，表示树的节点数。\n\n第二行是 $N$ 个整数，第 $i$ 个数表示 $a_i$ ($0 \\le a_i \\le N - 1$) 。\n\n第三行是 $N$ 个整数，第 $k$ 个数表示 $f(k)$ ($1 \\le f(k) \\le 10^9$) 。\n\n接下来的 $N-1$ 行描述了这棵树的结构，第 $i$ 行包含两个整数 $u_i$ 和 $v_i$ ($1 \\le u_i, v_i \\le N, u_i \\ne v_i$)，表示节点 $u_i$ 和 $v_i$ 之间有一条边。", "outputFormat": "在唯一的一行中，输出一次 **切割** 可能的最小 **不稳定性**。", "hint": "**【样例解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wxof20q5.png)\n\n左图为样例 1，右图为样例 2。\n\n**【数据范围】**\n\n在所有子任务中，都满足 $1 ≤ N ≤ 3\\times 10^5$ 的条件。\n\n- 子任务 1（12 分）：$N \\leq 5 000$，树是一条链，且节点 $1$ 是链的一个端点。\n- 子任务 2（20 分）：$N \\leq 300 000$，树是一条链，且节点 $1$ 是链的一个端点。\n- 子任务 3（7 分）：$N \\leq 20$；\n- 子任务 4（22 分）：$N \\leq 5000$；\n- 子任务 5（39 分）：没有其他额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2023] Nestabilnost", "background": "题目来源：<https://hsin.hr/hio2023/>。", "description": "河对岸的松林，一小时前还沐浴在五月的阳光下，此刻却变得模糊、朦胧、消散。只剩下一棵巨大的树，一棵有 $N$ 个节点的树……\n\n伊万在 119 号房间里，观察着这棵牢牢扎根于编号为 1 的节点的树。在更仔细地观察了这棵树之后，他注意到每个节点 $i$ 上都有一个数字 $a_i$。突然，一个 **$k$-好子树** (k-dobrog podstabla) 的定义闪现在他的脑海中。如果对于一个子树中的每一条连接节点 $(u, v)$（其中 $u$ 是 $v$ 的父节点）的边，都满足 $a_v = (a_u + 1) \\pmod k$，并且对于该子树内的每个节点 $v$，都满足 $a_v < k$，那么这个子树就是 **$k$-好的**。对于每个数字 $k$，存在一个 **$k$-好**子树的自然不稳定性，记为 $f(k)$。\n\n当他再次回过神来，他注意到树前漂浮着一个木筏，而他的右手里握着一把魔法锯子。伊万决定锯掉一些树枝（边），对于通过移除被锯掉的边而得到的每个连通块（子树），他都会选择一个数字 $k_i$，使得该连通块是 **$k_i$-好的**。伊万决定将这样的一组选择——即选择一组要切断的边，并为每个因此得到的子树选择一个满足条件的 $k_i$（使得该子树是 **$k_i$-好的**）——称为一次 **切割 (rezanjem)**。一次 **切割** 的 **不稳定性 (Nestabilnost)** 定义为所有得到的子树的 $f(k_i)$ 之和。请帮助伊万确定一次 **切割** 可能的最小 **不稳定性**！", "inputFormat": "第一行是一个正整数 $N$，表示树的节点数。\n\n第二行是 $N$ 个整数，第 $i$ 个数表示 $a_i$ ($0 \\le a_i \\le N - 1$) 。\n\n第三行是 $N$ 个整数，第 $k$ 个数表示 $f(k)$ ($1 \\le f(k) \\le 10^9$) 。\n\n接下来的 $N-1$ 行描述了这棵树的结构，第 $i$ 行包含两个整数 $u_i$ 和 $v_i$ ($1 \\le u_i, v_i \\le N, u_i \\ne v_i$)，表示节点 $u_i$ 和 $v_i$ 之间有一条边。", "outputFormat": "在唯一的一行中，输出一次 **切割** 可能的最小 **不稳定性**。", "hint": "**【样例解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wxof20q5.png)\n\n左图为样例 1，右图为样例 2。\n\n**【数据范围】**\n\n在所有子任务中，都满足 $1 ≤ N ≤ 3\\times 10^5$ 的条件。\n\n- 子任务 1（12 分）：$N \\leq 5 000$，树是一条链，且节点 $1$ 是链的一个端点。\n- 子任务 2（20 分）：$N \\leq 300 000$，树是一条链，且节点 $1$ 是链的一个端点。\n- 子任务 3（7 分）：$N \\leq 20$；\n- 子任务 4（22 分）：$N \\leq 5000$；\n- 子任务 5（39 分）：没有其他额外限制。", "locale": "zh-CN"}}}
