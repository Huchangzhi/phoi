{"pid": "P9275", "type": "P", "difficulty": 5, "samples": [["10\n10 9 8 7 6 5 4 3 2 1\n8\n1 2\n1 3\n1 10\n9 10\n1 4\n3 4\n2 3\n1 4", "90\n90\n90\n2\n90\n56\n72\n90"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] DrahSort", "background": "", "description": "给定一个长度为 $N$ 的序列 $A$，接下来进行 $Q$ 次询问。\n\n- 每次询问 $[l,r]\\ (l\\leq r)$，输出：如果对这个区间进行冒泡排序，那么交换的相邻两个数的乘积的最大值。\n\n", "inputFormat": "输入的第一行将包含一个整数 $N(1≤N≤2\\times 10^5)$，表示数组的元素个数。\n\n第二行输入将包含 $N$ 个整数 $(0≤A[i]≤10^9,1≤i≤N)$，即数组的元素。\n\n第三行输入将包含一个整数 $Q(1≤Q≤2\\times10^5)$，表示操作次数。\n\n下面的每 $Q$ 行都包含一个题目中描述的询问。", "outputFormat": "$Q$ 行，对每一次询问输出答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] DrahSort", "background": "", "description": "给定一个长度为 $N$ 的序列 $A$，接下来进行 $Q$ 次询问。\n\n- 每次询问 $[l,r]\\ (l\\leq r)$，输出：如果对这个区间进行冒泡排序，那么交换的相邻两个数的乘积的最大值。\n\n", "inputFormat": "输入的第一行将包含一个整数 $N(1≤N≤2\\times 10^5)$，表示数组的元素个数。\n\n第二行输入将包含 $N$ 个整数 $(0≤A[i]≤10^9,1≤i≤N)$，即数组的元素。\n\n第三行输入将包含一个整数 $Q(1≤Q≤2\\times10^5)$，表示操作次数。\n\n下面的每 $Q$ 行都包含一个题目中描述的询问。", "outputFormat": "$Q$ 行，对每一次询问输出答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9276", "type": "P", "difficulty": 5, "samples": [["2 2\n1 6\n7 1\n5 1\n1 3\n1\n1\n2 1", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] 麦田", "background": "", "description": "最近，你从你的曾曾祖父那里继承了一块地。这块地是一个矩形，有 $N$ 行 $M$ 列。你想继续你的高曾祖父的遗产，并开始种植两种植物：小麦和向日葵。\n\n在田地的每个格子里，你可以放两种植物种子中的一种。在细胞 $(i,j)$ 种植小麦可以获得 $A[i][j]$ 欧元，而在同一细胞 $(i,j)$ 种植向日葵可以获得 $B[i][j]$ 欧元。\n\n不幸的是，你很快就会发现，如果你在相邻的细胞中种植不同类型的植物，它们的根会缠在一起，这需要你花一大笔钱来修复。\n\n你现在急切地想知道，如果你在每个细胞中只种植两种植物种子中的一种，你能获得的最大金钱是多少。", "inputFormat": "输入的第一行包含两个整数 $N(1≤N≤70)$ 和 $M(1≤M≤70)$，表示行数和列数。\n\n接下来的 $N$ 行包含 $M$ 个整数 $(1≤A[i][j]≤10^5)$。\n\n接下来的 $N$ 行包含 $M$ 个整数 $(1≤B[i][j]≤10^5)$。\n\n接下来的 $N$ 行将包含 $M−1$ 个整数 $(1≤C_1[i][j]≤10^5)$，表示在细胞 $(i,j)$ 和 $(i,j+1)$ 中播种不同种子的损失。\n\n接下来的 $N-1$ 行将包含 $M$ 个整数 $(1≤C_2[i][j]≤10^5)$，表示在细胞 $(i,j)$ 和 $(i+1,j)$ 中播种不同种子的损失。", "outputFormat": "输出一个数表示答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] 麦田", "background": "", "description": "最近，你从你的曾曾祖父那里继承了一块地。这块地是一个矩形，有 $N$ 行 $M$ 列。你想继续你的高曾祖父的遗产，并开始种植两种植物：小麦和向日葵。\n\n在田地的每个格子里，你可以放两种植物种子中的一种。在细胞 $(i,j)$ 种植小麦可以获得 $A[i][j]$ 欧元，而在同一细胞 $(i,j)$ 种植向日葵可以获得 $B[i][j]$ 欧元。\n\n不幸的是，你很快就会发现，如果你在相邻的细胞中种植不同类型的植物，它们的根会缠在一起，这需要你花一大笔钱来修复。\n\n你现在急切地想知道，如果你在每个细胞中只种植两种植物种子中的一种，你能获得的最大金钱是多少。", "inputFormat": "输入的第一行包含两个整数 $N(1≤N≤70)$ 和 $M(1≤M≤70)$，表示行数和列数。\n\n接下来的 $N$ 行包含 $M$ 个整数 $(1≤A[i][j]≤10^5)$。\n\n接下来的 $N$ 行包含 $M$ 个整数 $(1≤B[i][j]≤10^5)$。\n\n接下来的 $N$ 行将包含 $M−1$ 个整数 $(1≤C_1[i][j]≤10^5)$，表示在细胞 $(i,j)$ 和 $(i,j+1)$ 中播种不同种子的损失。\n\n接下来的 $N-1$ 行将包含 $M$ 个整数 $(1≤C_2[i][j]≤10^5)$，表示在细胞 $(i,j)$ 和 $(i+1,j)$ 中播种不同种子的损失。", "outputFormat": "输出一个数表示答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9277", "type": "P", "difficulty": 4, "samples": [["2 5 1\n0 31", "1 0"], ["4 2 2\n0 0 2 2", "4 0\n3 0"], ["5 6 4\n63 15 0 10 5\n", "5 5\n4 5\n4 4\n5 4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "Special Judge", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] 反转", "background": "", "description": "给定长度为 $N$ 的序列 $a$ 满足每个数都小于 $2^K$。你需要执行恰好 $P$ 次操作，每次操作是把其中一个数的某一个二进制位反转。最终你需要使得 \n\n$$\\sum_i\\sum_j a_i\\oplus a_j(i<j)$$\n\n最大，其中 $\\oplus$ 为按位异或运算。", "inputFormat": "第一行包含整数 $N、K、P$，保证 $1≤N≤10^5,1≤K≤30,1≤P≤N\\times K$。\n\n下一行包含 $N$ 个整数，即序列 $a$。对于所有 $1≤i≤N$，保证 $0≤a_i<2^K$。", "outputFormat": "$P$ 行，每行包含两个整数 $i$ 和 $j$，满足 $1≤i≤N, 0≤j<K$，表示数字 $a_i$ 的第 $j$ 位反转。即 $a_i\\leftarrow a_i \\oplus 2^j$。\n\n**你可以多次反转同一个位。如果有多个使总和最大化的解输出任意一个即可。**", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] 反转", "background": "", "description": "给定长度为 $N$ 的序列 $a$ 满足每个数都小于 $2^K$。你需要执行恰好 $P$ 次操作，每次操作是把其中一个数的某一个二进制位反转。最终你需要使得 \n\n$$\\sum_i\\sum_j a_i\\oplus a_j(i<j)$$\n\n最大，其中 $\\oplus$ 为按位异或运算。", "inputFormat": "第一行包含整数 $N、K、P$，保证 $1≤N≤10^5,1≤K≤30,1≤P≤N\\times K$。\n\n下一行包含 $N$ 个整数，即序列 $a$。对于所有 $1≤i≤N$，保证 $0≤a_i<2^K$。", "outputFormat": "$P$ 行，每行包含两个整数 $i$ 和 $j$，满足 $1≤i≤N, 0≤j<K$，表示数字 $a_i$ 的第 $j$ 位反转。即 $a_i\\leftarrow a_i \\oplus 2^j$。\n\n**你可以多次反转同一个位。如果有多个使总和最大化的解输出任意一个即可。**", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9278", "type": "P", "difficulty": 3, "samples": [["3\n2 2 2", "Charlie\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] 另一个游戏", "background": "", "description": "Charlie 和 Dan 在 $N$ 堆从左到右从 $1$ 到 $N$ 编号的石子堆上玩游戏。每一堆都有正数个石头。\n\n两人轮流执行操作。Charlie 先手。\n\n每回合，玩家从最左边的非空堆中取出正数个石头，并将它们移到相邻的右边的石头堆中。如果在该玩家的回合中，唯一的非空堆是第 $N$ 堆，该玩家将输掉游戏。\n\n如果双方都以最优策略玩这场游戏，谁会赢得这场游戏?", "inputFormat": "输入的第一行将包含整数 $N(2≤N≤10^3)$，即堆数。\n\n下一行包含 $N$ 个整数 $v_1,v_2,v_3,...,v_n(1≤v_i≤10^9)$ 表示每堆石子的数量。", "outputFormat": "输出获得胜利的玩家的名字。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] 另一个游戏", "background": "", "description": "Charlie 和 Dan 在 $N$ 堆从左到右从 $1$ 到 $N$ 编号的石子堆上玩游戏。每一堆都有正数个石头。\n\n两人轮流执行操作。Charlie 先手。\n\n每回合，玩家从最左边的非空堆中取出正数个石头，并将它们移到相邻的右边的石头堆中。如果在该玩家的回合中，唯一的非空堆是第 $N$ 堆，该玩家将输掉游戏。\n\n如果双方都以最优策略玩这场游戏，谁会赢得这场游戏?", "inputFormat": "输入的第一行将包含整数 $N(2≤N≤10^3)$，即堆数。\n\n下一行包含 $N$ 个整数 $v_1,v_2,v_3,...,v_n(1≤v_i≤10^9)$ 表示每堆石子的数量。", "outputFormat": "输出获得胜利的玩家的名字。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9279", "type": "P", "difficulty": 6, "samples": [["2 1 12\n1 1 100\n1 500 1000\n8 0 1 1000\n1 0\n2 800 900\n8 0 1 1000\n7 0 1\n3 0 0\n8 0 1 1000\n4 0 200 400\n8 0 1 1000\n5 0 1\n6 0 95 499\n8 0 1 1000\n", "1000\n799\n399\n198\n1000\n"]], "limits": {"time": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] IPs", "background": "Mike 刚在当地的互联网服务提供商 DNS 找到了一份实习工作。他们知道 Mike 对 IPs 很熟悉，所以请他为他们的客户实现一个支持一些操作的管理系统。其中一些操作是特定于客户端的，而另一些是特定于 DNS(公司) 的。Mike 其实对 IPs 不太了解，所以他向你寻求帮助。", "description": "IPs 的取值范围是 $0$ 到 $10^9$，所有客户端最初都可以使用。有 $N$ 个国家（编号从 $0$ 到 $N−1$）。每个国家都有自己的 ip 集，形式上可以表示成若干个区间的并集。\n\n有 $M$ 个客户端（编号从 $0$ 到 $M−1$）需要 Mike 帮助，有 $Q$ 个操作，有以下形式:\n\n1.将一个国家列入所有客户端的黑名单。将一个国家列入黑名单，将阻止该国家及其与其合并的国家对应的所有 ip。\n\n2.将所有客户端的 ip 段 $[X,Y]$ 加入黑名单。\n\n3.为特定客户端将某个国家及其与其合并的国家列入黑名单。\n\n4.将特定客户端的 ip 段 $[X,Y]$ 加入黑名单。\n\n5.为特定客户端将某个国家及其与其合并的国家列入白名单。将一个国家加入白名单，将该国家及其合并国家对应的所有 ip 都加入白名单。请注意，白名单的优先级高于此客户端的任何先前或将来的黑名单。也就是说如果一个 ip 在某个客户端被列入白名单，那么永远不会被适用与接下来以及之前的所有黑名单操作。\n\n6.为特定客户端将 ip 段 $[X,Y]$ 列入白名单。请注意，白名单的优先级高于此客户端的任何先前或将来的黑名单。也就是说如果一个 ip 在某个客户端被列入白名单，那么永远不会被适用与接下来以及之前的所有黑名单操作。\n\n7.国家 $X$ 和 $Y$ 合并在一起。\n\n8.查询某个客户端在 ip 段 $[X, Y]$ 内可以访问多少个 ip ？", "inputFormat": "第一行三个数 $N,M,Q$。保证 $1\\leq N\\leq 10^4,1\\leq M\\leq 10,1\\leq Q\\leq 10^5$。\n\n接下来 $N$ 行，每行第一个数 $N_i$ 表示第 $i$ 个国家的 ip 集由 $N_i$ 个区间的并集。接下来 $2\\times N_i$ 个数，表示每个区间，这些数在 $0$ 到 $10^9$ 之间。保证 $\\sum N_i\\leq 10^5$。\n\n接下来 $Q$ 行，每行第一个数表示操作的种类，接下来对于每种操作输入对应的参数：\n\n1：$countryIdx$，保证 $0≤countryIdx<N$。\n\n2：$X, Y$，保证 $0≤X≤Y≤10^9$。\n\n3：$clientIdx, countryIdx$，保证 $0≤clientIdx<M, 0≤countryIdx<N$。\n\n4：$clientIdx,X, Y$，保证 $0≤clientIdx<M, 0≤X≤Y≤10^9$。\n\n5：$clientIdx, countryIdx$，保证 $0≤clientIdx<M, 0≤countryIdx<N$。\n\n6：$clientIdx,X, Y$，保证 $0≤clientIdx<M, 0≤X≤Y≤10^9$。\n\n7：$countryIdx1, countryIdx2$，保证 $0≤countryIdx1<N, 0≤countryIdx2<N$。\n\n8：$clientIdx,X,Y$，保证 $0≤clientIdx<M, 0≤X≤Y≤10^9$。\n", "outputFormat": "对于每次询问输出一行表示答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] IPs", "background": "Mike 刚在当地的互联网服务提供商 DNS 找到了一份实习工作。他们知道 Mike 对 IPs 很熟悉，所以请他为他们的客户实现一个支持一些操作的管理系统。其中一些操作是特定于客户端的，而另一些是特定于 DNS(公司) 的。Mike 其实对 IPs 不太了解，所以他向你寻求帮助。", "description": "IPs 的取值范围是 $0$ 到 $10^9$，所有客户端最初都可以使用。有 $N$ 个国家（编号从 $0$ 到 $N−1$）。每个国家都有自己的 ip 集，形式上可以表示成若干个区间的并集。\n\n有 $M$ 个客户端（编号从 $0$ 到 $M−1$）需要 Mike 帮助，有 $Q$ 个操作，有以下形式:\n\n1.将一个国家列入所有客户端的黑名单。将一个国家列入黑名单，将阻止该国家及其与其合并的国家对应的所有 ip。\n\n2.将所有客户端的 ip 段 $[X,Y]$ 加入黑名单。\n\n3.为特定客户端将某个国家及其与其合并的国家列入黑名单。\n\n4.将特定客户端的 ip 段 $[X,Y]$ 加入黑名单。\n\n5.为特定客户端将某个国家及其与其合并的国家列入白名单。将一个国家加入白名单，将该国家及其合并国家对应的所有 ip 都加入白名单。请注意，白名单的优先级高于此客户端的任何先前或将来的黑名单。也就是说如果一个 ip 在某个客户端被列入白名单，那么永远不会被适用与接下来以及之前的所有黑名单操作。\n\n6.为特定客户端将 ip 段 $[X,Y]$ 列入白名单。请注意，白名单的优先级高于此客户端的任何先前或将来的黑名单。也就是说如果一个 ip 在某个客户端被列入白名单，那么永远不会被适用与接下来以及之前的所有黑名单操作。\n\n7.国家 $X$ 和 $Y$ 合并在一起。\n\n8.查询某个客户端在 ip 段 $[X, Y]$ 内可以访问多少个 ip ？", "inputFormat": "第一行三个数 $N,M,Q$。保证 $1\\leq N\\leq 10^4,1\\leq M\\leq 10,1\\leq Q\\leq 10^5$。\n\n接下来 $N$ 行，每行第一个数 $N_i$ 表示第 $i$ 个国家的 ip 集由 $N_i$ 个区间的并集。接下来 $2\\times N_i$ 个数，表示每个区间，这些数在 $0$ 到 $10^9$ 之间。保证 $\\sum N_i\\leq 10^5$。\n\n接下来 $Q$ 行，每行第一个数表示操作的种类，接下来对于每种操作输入对应的参数：\n\n1：$countryIdx$，保证 $0≤countryIdx<N$。\n\n2：$X, Y$，保证 $0≤X≤Y≤10^9$。\n\n3：$clientIdx, countryIdx$，保证 $0≤clientIdx<M, 0≤countryIdx<N$。\n\n4：$clientIdx,X, Y$，保证 $0≤clientIdx<M, 0≤X≤Y≤10^9$。\n\n5：$clientIdx, countryIdx$，保证 $0≤clientIdx<M, 0≤countryIdx<N$。\n\n6：$clientIdx,X, Y$，保证 $0≤clientIdx<M, 0≤X≤Y≤10^9$。\n\n7：$countryIdx1, countryIdx2$，保证 $0≤countryIdx1<N, 0≤countryIdx2<N$。\n\n8：$clientIdx,X,Y$，保证 $0≤clientIdx<M, 0≤X≤Y≤10^9$。\n", "outputFormat": "对于每次询问输出一行表示答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9280", "type": "P", "difficulty": 3, "samples": [["5\n4 3 3 3 3\n", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] Monty Hall", "background": "", "description": "Monty Hall 是一个节目主持人，这一天，他决定推出一个新游戏。\n\n总共有 $n$ 扇门围成一个圈，玩家现在站在第 1 扇门前，每个回合玩家会执行以下操作：选择一个数 $i$，花费 $C_i$ 的代价选择往右移动 $i$ 步，然后玩家打开他所在位置的门。特别地，保证 $C_i\\geq C_{i+1}(1\\leq i<n)$。\n\n玩家想知道打开所有的门最少需要花费多少代价。", "inputFormat": "第一行一个整数 $N(1\\leq N\\leq 10^5)$。\n\n接下来 $N$ 个整数表示 $C_i(1\\leq C_i\\leq 10^5)$。\n\n", "outputFormat": "一个整数，表示答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] Monty Hall", "background": "", "description": "Monty Hall 是一个节目主持人，这一天，他决定推出一个新游戏。\n\n总共有 $n$ 扇门围成一个圈，玩家现在站在第 1 扇门前，每个回合玩家会执行以下操作：选择一个数 $i$，花费 $C_i$ 的代价选择往右移动 $i$ 步，然后玩家打开他所在位置的门。特别地，保证 $C_i\\geq C_{i+1}(1\\leq i<n)$。\n\n玩家想知道打开所有的门最少需要花费多少代价。", "inputFormat": "第一行一个整数 $N(1\\leq N\\leq 10^5)$。\n\n接下来 $N$ 个整数表示 $C_i(1\\leq C_i\\leq 10^5)$。\n\n", "outputFormat": "一个整数，表示答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9281", "type": "P", "difficulty": 6, "samples": [["6\n1 GBIOOYBIOOYBB\n2 R\n3 O\n1 OOO\n2 R\n3 O", "OOYBB\n3\nOOO\n6\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] Nădlac", "background": "", "description": "在草原上，一群绵羊排成一队。这些绵羊的毛共有 $7$ 种颜色，按照你对颜色喜欢的程度排列分别是：\n\n$$\nred>orange>yellow>green>blue>indigo>violet$$\n\n接下来会发生以下三种事件：\n\n1：有若干个绵羊依次排到了队尾。\n\n2：给定一个颜色序列 $T$，找到目前的绵羊序列中，所有本质不同的子串中按照喜欢程度写成数字（比如 red 是 $7$,violet 是 $1$），字典序小于等于 $T$ 中字典序最大的一个子串。\n\n3：给定一个颜色集合 $C$，求目前的绵羊序列中，本质不同的只由 C 中的颜色组成的子串的长度的和。", "inputFormat": "输入的第一行将包含一个整数 $Q (1≤Q≤500)$，表示发生的事件数。\n\n接下来的 $Q$ 行每行先输入一个数表示事件的种类，然后：\n\n1：输入绵羊序列 $S(1≤|S|≤10^5)$。 保证 $∑|S|≤10^5$。\n\n2：输入颜色序列 $T(1≤|T|≤10^5)$。\n\n3：输入颜色集合 $C(1≤|C|≤7)$。\n\n其中每个颜色由单词的第一个字母的大写形式表示。\n", "outputFormat": "对每个事件 2 与事件 3 输出答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] Nădlac", "background": "", "description": "在草原上，一群绵羊排成一队。这些绵羊的毛共有 $7$ 种颜色，按照你对颜色喜欢的程度排列分别是：\n\n$$\nred>orange>yellow>green>blue>indigo>violet$$\n\n接下来会发生以下三种事件：\n\n1：有若干个绵羊依次排到了队尾。\n\n2：给定一个颜色序列 $T$，找到目前的绵羊序列中，所有本质不同的子串中按照喜欢程度写成数字（比如 red 是 $7$,violet 是 $1$），字典序小于等于 $T$ 中字典序最大的一个子串。\n\n3：给定一个颜色集合 $C$，求目前的绵羊序列中，本质不同的只由 C 中的颜色组成的子串的长度的和。", "inputFormat": "输入的第一行将包含一个整数 $Q (1≤Q≤500)$，表示发生的事件数。\n\n接下来的 $Q$ 行每行先输入一个数表示事件的种类，然后：\n\n1：输入绵羊序列 $S(1≤|S|≤10^5)$。 保证 $∑|S|≤10^5$。\n\n2：输入颜色序列 $T(1≤|T|≤10^5)$。\n\n3：输入颜色集合 $C(1≤|C|≤7)$。\n\n其中每个颜色由单词的第一个字母的大写形式表示。\n", "outputFormat": "对每个事件 2 与事件 3 输出答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9282", "type": "P", "difficulty": 6, "samples": [["4 3\nbbab\n", "5 1 0 \n"], ["3 3\nbbb\n", "3 2 1 \n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] 回文", "background": "", "description": "定义一个关于一个字符串 $x$ 的函数 $f(x)$ 如下：\n\n- 如果 $x$ 长度为 $1$，$f(x)=1$。\n- 如果 $x$ 不是回文串，$f(x)=0$。\n- 如果 $x$ 是回文串，那么假设 $y$ 是 $x$ 的前 $\\frac{|x|+1}{2}$ 个字符组成的字符串 $f(x)=f(y)+1$。\n\n给你一个字符串 $s$ 与一个数 $k$，求它每个非空子串中 $f$ 等于 $1\\sim k$ 的分别有多少个。", "inputFormat": "第一行两个数 $N(1\\leq N\\leq 10^5)$，$k(1\\leq k\\leq 30)$。\n\n接下来一行一个长度为 $N$ 的字符串 $s$。保证由小写字母组成。", "outputFormat": "对于 $1\\sim k$ 的每个数输出答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] 回文", "background": "", "description": "定义一个关于一个字符串 $x$ 的函数 $f(x)$ 如下：\n\n- 如果 $x$ 长度为 $1$，$f(x)=1$。\n- 如果 $x$ 不是回文串，$f(x)=0$。\n- 如果 $x$ 是回文串，那么假设 $y$ 是 $x$ 的前 $\\frac{|x|+1}{2}$ 个字符组成的字符串 $f(x)=f(y)+1$。\n\n给你一个字符串 $s$ 与一个数 $k$，求它每个非空子串中 $f$ 等于 $1\\sim k$ 的分别有多少个。", "inputFormat": "第一行两个数 $N(1\\leq N\\leq 10^5)$，$k(1\\leq k\\leq 30)$。\n\n接下来一行一个长度为 $N$ 的字符串 $s$。保证由小写字母组成。", "outputFormat": "对于 $1\\sim k$ 的每个数输出答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9283", "type": "P", "difficulty": 6, "samples": [["30 6\n3 1\n6 2\n11 3\n14 2\n17 3\n27 1\n4\n1 24 1\n2 24\n1 23 1\n1 29 2\n", "Bob\nAlice\nAlice\nBob\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] 棋子游戏", "background": "", "description": "Alice 和 Bob 在一个 $1\\times N$ 的矩阵上玩游戏。\n\n有 $M$ 个棋子放在不同的格子上，棋子具有各种各样的颜色。 \n\n每回合选手可以挑选一个棋子，并将这个棋子与后面的跟他不同颜色的棋子（下一个同色棋子之前的棋子）一起往左移动正数距离，移动过程中不能跨过或者重叠前面的那个格子。Alice 先手，谁不能移谁就输了。\n\n接下来有 $Q$ 次操作，每次操作有以下形式：\n\n1：在 $pos$ 位置上放置一个颜色为 $col$ 的棋子。\n\n2：删除位置 $pos$ 上的棋子。\n\n每次操作后输出当前局面的赢家是谁。", "inputFormat": "第一行输入两个数 $N,M(1\\leq N\\leq 10^9,1\\leq M\\leq 10^5)$。\n\n接下来输入 $M$ 行，每行两个数 $pos(1\\leq pos\\leq n),col(1\\leq col\\leq 5)$ 表示初始 $pos$ 位置上有一个 $col$ 颜色的棋子。\n\n接下来输入 $Q$ 行，每行两或三个数 $opt(1\\leq opt\\leq 2)$ 表示操作种类，$pos(1\\leq pos\\leq n)$。若 $opt=1$ 则还要读入 $col(1\\leq col\\leq 5)$。", "outputFormat": "$Q$ 行，每行输出 Alice 或者 Bob。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] 棋子游戏", "background": "", "description": "Alice 和 Bob 在一个 $1\\times N$ 的矩阵上玩游戏。\n\n有 $M$ 个棋子放在不同的格子上，棋子具有各种各样的颜色。 \n\n每回合选手可以挑选一个棋子，并将这个棋子与后面的跟他不同颜色的棋子（下一个同色棋子之前的棋子）一起往左移动正数距离，移动过程中不能跨过或者重叠前面的那个格子。Alice 先手，谁不能移谁就输了。\n\n接下来有 $Q$ 次操作，每次操作有以下形式：\n\n1：在 $pos$ 位置上放置一个颜色为 $col$ 的棋子。\n\n2：删除位置 $pos$ 上的棋子。\n\n每次操作后输出当前局面的赢家是谁。", "inputFormat": "第一行输入两个数 $N,M(1\\leq N\\leq 10^9,1\\leq M\\leq 10^5)$。\n\n接下来输入 $M$ 行，每行两个数 $pos(1\\leq pos\\leq n),col(1\\leq col\\leq 5)$ 表示初始 $pos$ 位置上有一个 $col$ 颜色的棋子。\n\n接下来输入 $Q$ 行，每行两或三个数 $opt(1\\leq opt\\leq 2)$ 表示操作种类，$pos(1\\leq pos\\leq n)$。若 $opt=1$ 则还要读入 $col(1\\leq col\\leq 5)$。", "outputFormat": "$Q$ 行，每行输出 Alice 或者 Bob。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9284", "type": "P", "difficulty": 5, "samples": [["5 5\n3\n2 1 2 2\n2 2 3 3\n3 4 5 4\n5\n1 2 1 3\n1 2 1 4\n2 1 3 5\n1 3 2 4\n2 2 1 5\n", "SUNK\nHIT\nMISS\nSUNK\nHIT\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] 海盗", "background": "", "description": "海盗们处于一个 $N$ 行 $M$ 列的矩形海域。\n\n接下来有会有 $B$ 个炸弹，每个炸弹轰炸的范围是一个矩形。\n\n海盗们有 $S$ 艘船，船要么是一行若干列的，要么是若干行一列的。你需要对每艘船输出：\n\n`MISS` 船没有被炸弹覆盖到；\n\n`HIT` 船被炸弹覆盖到，但没有完全覆盖；\n\n`SUNK` 船被炸弹完全覆盖；\n", "inputFormat": "第一行两个正整数 $N,M(1\\leq N,M\\leq 10^5)$。\n\n接下来一行一个数 $B(1\\leq B\\leq 2\\times 10^5)$。\n\n接下来 $B$ 行每行四个正整数 $x1,y1,x2,y2(1\\leq x1\\leq x2\\leq N,1\\leq y1\\leq y2\\leq M)$，表示炸弹覆盖范围。\n\n接下来一行一个数 $S(1\\leq S\\leq 2\\times 10^5)$。\n\n接下来 $S$ 行每行四个正整数 $opt,c,l,r$，若 $opt=1$ 则表示第 $i$ 艘船是由第 $c$ 行的第 $l$ 到 $r$ 列组成，否则若 $opt=2$ 则表示第 $c$ 列的第 $l$ 到 $r$ 行。\n\n**船与船之间或炸弹与炸弹之间可能相交。**\n\n", "outputFormat": "$S$ 行，对每艘船输出答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] 海盗", "background": "", "description": "海盗们处于一个 $N$ 行 $M$ 列的矩形海域。\n\n接下来有会有 $B$ 个炸弹，每个炸弹轰炸的范围是一个矩形。\n\n海盗们有 $S$ 艘船，船要么是一行若干列的，要么是若干行一列的。你需要对每艘船输出：\n\n`MISS` 船没有被炸弹覆盖到；\n\n`HIT` 船被炸弹覆盖到，但没有完全覆盖；\n\n`SUNK` 船被炸弹完全覆盖；\n", "inputFormat": "第一行两个正整数 $N,M(1\\leq N,M\\leq 10^5)$。\n\n接下来一行一个数 $B(1\\leq B\\leq 2\\times 10^5)$。\n\n接下来 $B$ 行每行四个正整数 $x1,y1,x2,y2(1\\leq x1\\leq x2\\leq N,1\\leq y1\\leq y2\\leq M)$，表示炸弹覆盖范围。\n\n接下来一行一个数 $S(1\\leq S\\leq 2\\times 10^5)$。\n\n接下来 $S$ 行每行四个正整数 $opt,c,l,r$，若 $opt=1$ 则表示第 $i$ 艘船是由第 $c$ 行的第 $l$ 到 $r$ 列组成，否则若 $opt=2$ 则表示第 $c$ 列的第 $l$ 到 $r$ 行。\n\n**船与船之间或炸弹与炸弹之间可能相交。**\n\n", "outputFormat": "$S$ 行，对每艘船输出答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9285", "type": "P", "difficulty": 6, "samples": [["10\n10 9 8 7 6 5 4 3 2 1\n11\n1 1 2\n2 1 2\n2 1 3\n2 1 10\n2 9 10\n1 3 4\n2 1 4\n2 3 4\n2 2 3\n1 1 4\n2 1 4\n", "0\n80\n80\n2\n80\n0\n70\n0\n"]], "limits": {"time": [6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500, 6500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "O2优化", "AGM"], "title": "[AGM 2023 资格赛] YsaeSort", "background": "", "description": "给定一个长度为 $N$ 的序列 $A$，接下来进行 $Q$ 次操作：\n\n* $1\\ l\\ r(1\\leq l\\leq r\\leq N)$ 表示对 $[l,r]$ 这个区间排序。\n\n* $2\\ l\\ r(1\\leq l\\leq r\\leq N)$ 查询：如果对这个区间进行冒泡排序，那么交换的相邻两个数的乘积的最大值。\n\n保证 $1$ 操作排序的区间两两不交或包含。", "inputFormat": "输入的第一行将包含一个整数 $N(1≤N≤5\\times 10^4)$，表示数组的元素个数。\n\n第二行输入将包含 $N$ 个整数 $(0≤A[i]≤10^9,1≤i≤N)$，即数组的元素。\n\n第三行输入将包含一个整数 $Q(1≤Q≤5\\times10^4)$，表示操作次数。\n\n下面的每 $Q$ 行都包含一个题目中描述的询问。", "outputFormat": "$Q$ 行，对每一次询问输出答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AGM 2023 资格赛] YsaeSort", "background": "", "description": "给定一个长度为 $N$ 的序列 $A$，接下来进行 $Q$ 次操作：\n\n* $1\\ l\\ r(1\\leq l\\leq r\\leq N)$ 表示对 $[l,r]$ 这个区间排序。\n\n* $2\\ l\\ r(1\\leq l\\leq r\\leq N)$ 查询：如果对这个区间进行冒泡排序，那么交换的相邻两个数的乘积的最大值。\n\n保证 $1$ 操作排序的区间两两不交或包含。", "inputFormat": "输入的第一行将包含一个整数 $N(1≤N≤5\\times 10^4)$，表示数组的元素个数。\n\n第二行输入将包含 $N$ 个整数 $(0≤A[i]≤10^9,1≤i≤N)$，即数组的元素。\n\n第三行输入将包含一个整数 $Q(1≤Q≤5\\times10^4)$，表示操作次数。\n\n下面的每 $Q$ 行都包含一个题目中描述的询问。", "outputFormat": "$Q$ 行，对每一次询问输出答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9286", "type": "P", "difficulty": 3, "samples": [["2 3 3\n1 4 3\n6 5 2\n2 2 9\n1 3 5\n2 2 10", "1\n2\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2018", "分类讨论", "ROI（俄罗斯）"], "title": "[ROI 2018] Extraction of radium", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html) T1. [Добыча радия](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Extraction of radium](http://codeforces.com/gym/102147/problem/A))。 ", "description": "给一个 $n\\times m$ 的矩阵 $a$，矩阵中的数互不相同。\n接下来有 $q$ 次修改，每次修改会将某个值修改为一个更大的值。保证修改后矩阵中的数仍互不相同。\n每次修改后，请求出：矩阵中有多少个数，既是它所在行的最大值，又是它所在列的最大值。", "inputFormat": "第一行三个整数 $n$，$m$，$q$ ，表示矩阵的大小与修改操作的次数。\n接下来 $n$ 行，每行 $m$ 个整数，表示该矩阵。\n接下来 $q$ 行，每行三个整数 $x$，$y$，$t$，表示将该矩阵第 $x$ 行，第 $y$ 列的元素改为 $t$。 ", "outputFormat": "$q$ 行，每行一个整数，表示每次修改后，矩阵中有多少个数满足条件。", "hint": "对于所有数据，$1\\leq a(i,j) \\leq 10^7$，$1\\leq t\\leq 10^7$，$1 \\leq n,m,q \\leq 2 \\times 10^5$。\n\n| 子任务编号 | $n,m$ | $q$ |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\times m \\leq 100$ | $1 \\leq q \\leq 100$ |\n| $2$ | $1 \\leq n \\times m \\leq 5000$ | $1\\leq q \\leq 5000$ |\n| $3$ | $1 \\leq n,m \\leq 400$ | $1 \\leq q \\leq 2 \\times 10^5$ |\n| $4$ | $1 \\leq n \\times m \\leq 2 \\times 10^5$ | $1 \\leq q \\leq 2 \\times 10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Extraction of radium", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html) T1. [Добыча радия](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Extraction of radium](http://codeforces.com/gym/102147/problem/A))。 ", "description": "给一个 $n\\times m$ 的矩阵 $a$，矩阵中的数互不相同。\n接下来有 $q$ 次修改，每次修改会将某个值修改为一个更大的值。保证修改后矩阵中的数仍互不相同。\n每次修改后，请求出：矩阵中有多少个数，既是它所在行的最大值，又是它所在列的最大值。", "inputFormat": "第一行三个整数 $n$，$m$，$q$ ，表示矩阵的大小与修改操作的次数。\n接下来 $n$ 行，每行 $m$ 个整数，表示该矩阵。\n接下来 $q$ 行，每行三个整数 $x$，$y$，$t$，表示将该矩阵第 $x$ 行，第 $y$ 列的元素改为 $t$。 ", "outputFormat": "$q$ 行，每行一个整数，表示每次修改后，矩阵中有多少个数满足条件。", "hint": "对于所有数据，$1\\leq a(i,j) \\leq 10^7$，$1\\leq t\\leq 10^7$，$1 \\leq n,m,q \\leq 2 \\times 10^5$。\n\n| 子任务编号 | $n,m$ | $q$ |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\times m \\leq 100$ | $1 \\leq q \\leq 100$ |\n| $2$ | $1 \\leq n \\times m \\leq 5000$ | $1\\leq q \\leq 5000$ |\n| $3$ | $1 \\leq n,m \\leq 400$ | $1 \\leq q \\leq 2 \\times 10^5$ |\n| $4$ | $1 \\leq n \\times m \\leq 2 \\times 10^5$ | $1 \\leq q \\leq 2 \\times 10^5$ |", "locale": "zh-CN"}}}
{"pid": "P9287", "type": "P", "difficulty": 3, "samples": [["2\n1 2\n2 1\n1", "2\n1 2"], ["4\n3 2 4 1\n1 4 2 3\n3 1 2 4\n1 4 2 3\n1", "1\n3"], ["4\n3 2 4 1\n1 4 2 3\n3 1 2 4\n1 4 2 3\n2", "3\n1 3 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "贪心", "2018", "ROI（俄罗斯）"], "title": "[ROI 2018] Viruses", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html) T2. [Вирусы](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Viruses](https://codeforces.com/gym/102147/problem/D))。", "description": "现在有 $n$ 只细胞与 $n$ 个病毒，$i$ 号细胞的初始病毒的序号也为 $i$，每个细胞心中对每位病毒都有一定的易感染度。\n\n细胞之间可以互相攻击，如果细胞甲攻击了细胞乙，且乙「对甲现在的病毒的易感染度」比「对自家病毒的易感染度」高，那么乙就会被甲的病毒感染（成为甲的病毒的细胞）。\n\n细胞们可以任意安排攻击顺序。当且仅当没有细胞可以被任意一名病毒感染时，游戏宣告结束。\n\n如果存在一种攻击顺序，使得病毒 $i$ 最终拥有一只或以上的细胞，那么我们则称病毒 $i$ 为「可行的病毒」。\n如果对于任意一种攻击顺序，都使得病毒 $i$ 最终拥有一只或以上的细胞，那么我们则称病毒 $i$ 为「稳定的病毒」。\n\n现在病毒们想知道，有多少个可行的病毒与稳定的病毒。", "inputFormat": "第一行一个正整数 $n$，表示细胞与病毒的数量。\n\n下面 $n$ 行，每行 $n$ 个正整数，表示每名病毒按当前细胞心中的易感染度降序排列后的病毒编号序列。\n\n比如输入了 `2 1 3`，则表示该细胞对 $2$ 号病毒的易感染度最高，对 $1$ 号病毒的易感染度第二高，对 $3$ 号病毒的易感染度最差。\n\n最后一行一个整数 $p$。", "outputFormat": "第一行，一个整数 $x$。如果 $p=1$，输出稳定的病毒数量；如果 $p=2$，输出可行的病毒的数量。\n\n接下来一行， $x$ 个整数，表示这 $x$ 个病毒的编号，按升序排列。", "hint": "对于所有的数据，$1 \\leq n \\leq 500$。\n\n| 子任务编号 | $n$ | $p$ |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\leq 5$ | $p = 1$ |\n| $2$ | $1 \\leq n \\leq 500$ | $p = 1$ |\n| $3$ | $1 \\leq n \\leq 5$ | $p = 1,2$ |\n| $4$ | $1 \\leq n \\leq 50$ | $p = 1,2$ |\n| $5$ | $1 \\leq n \\leq 500$ | $p = 1,2$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Viruses", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html) T2. [Вирусы](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Viruses](https://codeforces.com/gym/102147/problem/D))。", "description": "现在有 $n$ 只细胞与 $n$ 个病毒，$i$ 号细胞的初始病毒的序号也为 $i$，每个细胞心中对每位病毒都有一定的易感染度。\n\n细胞之间可以互相攻击，如果细胞甲攻击了细胞乙，且乙「对甲现在的病毒的易感染度」比「对自家病毒的易感染度」高，那么乙就会被甲的病毒感染（成为甲的病毒的细胞）。\n\n细胞们可以任意安排攻击顺序。当且仅当没有细胞可以被任意一名病毒感染时，游戏宣告结束。\n\n如果存在一种攻击顺序，使得病毒 $i$ 最终拥有一只或以上的细胞，那么我们则称病毒 $i$ 为「可行的病毒」。\n如果对于任意一种攻击顺序，都使得病毒 $i$ 最终拥有一只或以上的细胞，那么我们则称病毒 $i$ 为「稳定的病毒」。\n\n现在病毒们想知道，有多少个可行的病毒与稳定的病毒。", "inputFormat": "第一行一个正整数 $n$，表示细胞与病毒的数量。\n\n下面 $n$ 行，每行 $n$ 个正整数，表示每名病毒按当前细胞心中的易感染度降序排列后的病毒编号序列。\n\n比如输入了 `2 1 3`，则表示该细胞对 $2$ 号病毒的易感染度最高，对 $1$ 号病毒的易感染度第二高，对 $3$ 号病毒的易感染度最差。\n\n最后一行一个整数 $p$。", "outputFormat": "第一行，一个整数 $x$。如果 $p=1$，输出稳定的病毒数量；如果 $p=2$，输出可行的病毒的数量。\n\n接下来一行， $x$ 个整数，表示这 $x$ 个病毒的编号，按升序排列。", "hint": "对于所有的数据，$1 \\leq n \\leq 500$。\n\n| 子任务编号 | $n$ | $p$ |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\leq 5$ | $p = 1$ |\n| $2$ | $1 \\leq n \\leq 500$ | $p = 1$ |\n| $3$ | $1 \\leq n \\leq 5$ | $p = 1,2$ |\n| $4$ | $1 \\leq n \\leq 50$ | $p = 1,2$ |\n| $5$ | $1 \\leq n \\leq 500$ | $p = 1,2$ |", "locale": "zh-CN"}}}
{"pid": "P9288", "type": "P", "difficulty": 7, "samples": [["5\n80 20\n60 50\n40 40\n15 10\n70 30", "220"], ["1\n50 0", "50"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "线段树", "分块", "凸包", "扫描线", "ROI（俄罗斯）"], "title": "[ROI 2018] Innophone", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html) T3. [Иннофон](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Innophone](http://codeforces.com/gym/102147/problem/B))。 ", "description": "有一个二元函数 $f(x,y)$，它是这么定义的：\n\n $f(x,y)=\\left\\{\n\\begin{array}{rcl}\na, & & {\\text{if} \\quad \\quad \\ \\ \\ a \\leq x}\\\\\nb, & & {\\text{else if} \\quad b \\leq y}\\\\\n0, & & {\\text{else}}\n\\end{array} \\right.$\n\n其中 $a,b$ 为常数。现在给定 $n$ 组 $x,y$，你需要选择合适的 $a,b$，使得 $\\sum_{i=1}^{n} f(x_i,y_i)$ 最大。", "inputFormat": "第一行一个整数 $n$，表示 $x$，$y$ 的组数。\n\n后面 $n$ 行，每行两个数 $x_i$，$y_i$。", "outputFormat": "一行，一个数，输出 $\\max(\\sum_{i=1}^{n} f(x_i,y_i))$。", "hint": "对于 $100\\%$ 的数据，$0\\leq y_i\\leq x_i\\leq 10^9$，$1 \\leq n \\leq 1.5 \\times 10^5$。\n\n| 子任务编号 | $n$ | $x,y$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $1 \\leq n \\leq 100$ | $0 \\leq y_i \\leq x_i \\leq 100$ |\n| $2$ | $1 \\leq n \\leq 300$ | $0\\leq y_i\\leq x_i\\leq 10^9$ |\n| $3$ | $1 \\leq n \\leq 3000$ | $0\\leq y_i\\leq x_i\\leq 10^9$ |\n| $4$ | $1 \\leq n \\leq 10^5$ | $y_i = 0$ |\n| $5$ | $1 \\leq n \\leq 10^5$ | $x_i = y_i$ |\n| $6$ | $1 \\leq n \\leq 50000$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $7$ | $1 \\leq n \\leq 75000$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $8$ | $1 \\leq n \\leq 10^5$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $9$ | $1 \\leq n \\leq 1.25 \\times 10^5$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $10$ | $1 \\leq n \\leq 1.5 \\times 10^5$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Innophone", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html) T3. [Иннофон](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Innophone](http://codeforces.com/gym/102147/problem/B))。 ", "description": "有一个二元函数 $f(x,y)$，它是这么定义的：\n\n $f(x,y)=\\left\\{\n\\begin{array}{rcl}\na, & & {\\text{if} \\quad \\quad \\ \\ \\ a \\leq x}\\\\\nb, & & {\\text{else if} \\quad b \\leq y}\\\\\n0, & & {\\text{else}}\n\\end{array} \\right.$\n\n其中 $a,b$ 为常数。现在给定 $n$ 组 $x,y$，你需要选择合适的 $a,b$，使得 $\\sum_{i=1}^{n} f(x_i,y_i)$ 最大。", "inputFormat": "第一行一个整数 $n$，表示 $x$，$y$ 的组数。\n\n后面 $n$ 行，每行两个数 $x_i$，$y_i$。", "outputFormat": "一行，一个数，输出 $\\max(\\sum_{i=1}^{n} f(x_i,y_i))$。", "hint": "对于 $100\\%$ 的数据，$0\\leq y_i\\leq x_i\\leq 10^9$，$1 \\leq n \\leq 1.5 \\times 10^5$。\n\n| 子任务编号 | $n$ | $x,y$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $1 \\leq n \\leq 100$ | $0 \\leq y_i \\leq x_i \\leq 100$ |\n| $2$ | $1 \\leq n \\leq 300$ | $0\\leq y_i\\leq x_i\\leq 10^9$ |\n| $3$ | $1 \\leq n \\leq 3000$ | $0\\leq y_i\\leq x_i\\leq 10^9$ |\n| $4$ | $1 \\leq n \\leq 10^5$ | $y_i = 0$ |\n| $5$ | $1 \\leq n \\leq 10^5$ | $x_i = y_i$ |\n| $6$ | $1 \\leq n \\leq 50000$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $7$ | $1 \\leq n \\leq 75000$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $8$ | $1 \\leq n \\leq 10^5$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $9$ | $1 \\leq n \\leq 1.25 \\times 10^5$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n| $10$ | $1 \\leq n \\leq 1.5 \\times 10^5$ | $0\\leq y_i\\leq x_i\\leq 10^9$ | \n", "locale": "zh-CN"}}}
{"pid": "P9289", "type": "P", "difficulty": 7, "samples": [["4 5 3\n1 1\n2 3\n4 5", "3\n1 2 3"], ["5 6 9\n1 1\n4 3\n4 6\n2 5\n3 1\n3 3\n3 6\n5 4\n5 6", "5\n1 6 2 8 9 "]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2018] Quantum teleportation", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html)  T4. [Квантовая телепортация ](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf)([Quantum teleportation](https://codeforces.com/gym/102147/problem/C))。 ", "description": "在一个平面直角坐标系上有编号为 $1\\dots k$ 的 $k$ 块 CPU。\n\n每块 CPU 的位置可以用平面上的坐标来表示。$1$ 号 CPU 位于 $(1,1)$，$k$ 号 CPU 位于 $(n,m)$。保证所有 CPU 均位于整点上，且对于每块 CPU 的坐标 $(x_i, y_i)$，保证 $1 \\le x_i \\le n, 1 \\le y_i \\le m$。\n\n$i$ 号 CPU 通过总线将一笔数据传输到 $j$ 号 CPU 的耗时为 ${2^{\\max(|x_{{i}}-x_{{j}}|,|y_{{i}}-y_{{j}}|)}}$ 个单位时间。\n\n试求：要将数据从 $1$ 号 CPU 传送到 $k$ 号 CPU，至少需要多久，并给出一组方案。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n以下 $k$ 行，每行两个整数 $x_i,y_i$。", "outputFormat": "第一行一个整数 $L$，表示最快的方案中要经过多少块 CPU。\n\n第二行 $L$ 个整数，表示依次经过的 CPU。\n\n如果存在多组路径使耗时最少，输出任意一种即可。", "hint": "对于所有的数据，$2 \\leq n,m,k \\leq 10000$。\n\n| 子任务编号 | $n,m,k$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $2 \\leq n,m,k \\leq 20$ | 无 |\n| $2$ | $2 \\leq n,m,k \\leq 500$ | 无 |\n| $3$ | $2 \\leq n,m,k \\leq 10000$ | 每行、每列只有一个 CPU |\n| $4$ | $2 \\leq n,m,k \\leq 10000$ | 无 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Quantum teleportation", "background": "译自 [ROI 2018 Day1](https://neerc.ifmo.ru/school/archive/2017-2018.html)  T4. [Квантовая телепортация ](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf)([Quantum teleportation](https://codeforces.com/gym/102147/problem/C))。 ", "description": "在一个平面直角坐标系上有编号为 $1\\dots k$ 的 $k$ 块 CPU。\n\n每块 CPU 的位置可以用平面上的坐标来表示。$1$ 号 CPU 位于 $(1,1)$，$k$ 号 CPU 位于 $(n,m)$。保证所有 CPU 均位于整点上，且对于每块 CPU 的坐标 $(x_i, y_i)$，保证 $1 \\le x_i \\le n, 1 \\le y_i \\le m$。\n\n$i$ 号 CPU 通过总线将一笔数据传输到 $j$ 号 CPU 的耗时为 ${2^{\\max(|x_{{i}}-x_{{j}}|,|y_{{i}}-y_{{j}}|)}}$ 个单位时间。\n\n试求：要将数据从 $1$ 号 CPU 传送到 $k$ 号 CPU，至少需要多久，并给出一组方案。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n以下 $k$ 行，每行两个整数 $x_i,y_i$。", "outputFormat": "第一行一个整数 $L$，表示最快的方案中要经过多少块 CPU。\n\n第二行 $L$ 个整数，表示依次经过的 CPU。\n\n如果存在多组路径使耗时最少，输出任意一种即可。", "hint": "对于所有的数据，$2 \\leq n,m,k \\leq 10000$。\n\n| 子任务编号 | $n,m,k$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $2 \\leq n,m,k \\leq 20$ | 无 |\n| $2$ | $2 \\leq n,m,k \\leq 500$ | 无 |\n| $3$ | $2 \\leq n,m,k \\leq 10000$ | 每行、每列只有一个 CPU |\n| $4$ | $2 \\leq n,m,k \\leq 10000$ | 无 |\n", "locale": "zh-CN"}}}
{"pid": "P9290", "type": "P", "difficulty": 4, "samples": [["5\n5 4 3 2 1", "5"], ["4\n1 3 2 4", "1"], ["6\n2 3 1 1 5 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2018", "线段树", "分治", "单调栈", "ROI（俄罗斯）"], "title": "[ROI 2018]  Decryption", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T1. [Расшифровка](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf) ([Decryption](https://codeforces.com/gym/102154/problem/B))。", "description": "研究表明，汉字的顺序并不一定能影响阅读。科学家们对数列进行了类似的研究。\n\n给一个正整数数列，若数列首项为数列中所有数的最小值，末项为数列中的最大值，则我们称这是个正确的数列。例如，序列 $[1, 3, 2, 4]$ 和 $[1, 2, 1, 2]$ 是正确的，但序列 \n$[1, 3, 2]$ 不是。\n\n给出长度为 $n$ 的序列 $[a_1, a_2, \\ldots, a_n]$。对于该序列的某个片段 $[a_l, a_{l+1}, \\ldots, a_r]$, 若该片段的首项为该片段中的最小值，末项为该片段中的最大值，则我们称这是个正确的片段。\n\n对于给定的序列，请求出该序列至少需要被分成多少段，才能使得每个片段均为正确的片段。序列 $[2, 3, 1, 1, 5, 1]$ 可以分为三个正确的段：$[2, 3]$ 和 $[1, 1, 5]$ 和 $[1]$。\n\n需要编写一个程序，该程序按给定的顺序确定可以划分的最小正确段数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来一行 $n$ 个数，分别为 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "输出可以划分的最小正确段数。", "hint": "- 子任务 1（30 分），$1 \\leq n \\leq 500$。\n- 子任务 2（30 分），$1 \\leq n \\leq 5000$。\n- 子任务 3（40 分），$1 \\leq n \\leq3 \\times 10^5$。\n\n对于所有数据，$1 \\leq n \\leq3 \\times 10^5$，$1\\leq a_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018]  Decryption", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T1. [Расшифровка](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf) ([Decryption](https://codeforces.com/gym/102154/problem/B))。", "description": "研究表明，汉字的顺序并不一定能影响阅读。科学家们对数列进行了类似的研究。\n\n给一个正整数数列，若数列首项为数列中所有数的最小值，末项为数列中的最大值，则我们称这是个正确的数列。例如，序列 $[1, 3, 2, 4]$ 和 $[1, 2, 1, 2]$ 是正确的，但序列 \n$[1, 3, 2]$ 不是。\n\n给出长度为 $n$ 的序列 $[a_1, a_2, \\ldots, a_n]$。对于该序列的某个片段 $[a_l, a_{l+1}, \\ldots, a_r]$, 若该片段的首项为该片段中的最小值，末项为该片段中的最大值，则我们称这是个正确的片段。\n\n对于给定的序列，请求出该序列至少需要被分成多少段，才能使得每个片段均为正确的片段。序列 $[2, 3, 1, 1, 5, 1]$ 可以分为三个正确的段：$[2, 3]$ 和 $[1, 1, 5]$ 和 $[1]$。\n\n需要编写一个程序，该程序按给定的顺序确定可以划分的最小正确段数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来一行 $n$ 个数，分别为 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "输出可以划分的最小正确段数。", "hint": "- 子任务 1（30 分），$1 \\leq n \\leq 500$。\n- 子任务 2（30 分），$1 \\leq n \\leq 5000$。\n- 子任务 3（40 分），$1 \\leq n \\leq3 \\times 10^5$。\n\n对于所有数据，$1 \\leq n \\leq3 \\times 10^5$，$1\\leq a_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P9291", "type": "P", "difficulty": 6, "samples": [["5\n3 1 4 2 5", "1\n1 5"], ["8\n2 4 1 5 3 6 7 8", "2\n2 6\n1 2\n"], ["2\n2 1", "3\n1 1\n2 2\n1 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "Special Judge", "ROI（俄罗斯）"], "title": "[ROI 2018] Quick sort", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T2. [Быстрая сортировка\n](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf)([Quick sort](http://codeforces.com/gym/102154/problem/C))。", "description": "给一个包含 $n$ 个元素的排列 $[a_1,a_2,\\ldots,a_n]$。\n定义操作 $S(l,r),$ 表示：将数列的片段 $[a_l,a_{l+1},\\ldots,a_r]$ 重排成 $[a_{l+1},a_{l+3},\\ldots,a_l,a_{l+2},\\ldots]$。\n举个例子：$[2, 4, 1, 5, 3, 6, 7, 8]\\xrightarrow{S(2,6)} [2, 1, 3, 4, 5, 6, 7, 8]$， 其中子串 $[4, 1, 5, 3, 6]$ 被重排成了 $[1, 3, 4, 5, 6]$。\n给定一个排列，试求经过多少次操作能使排列变成递增顺序，并输出任意一组方案，$不$要求方案的操作次数最少，但要求操作次数 $\\leq 15000$。", "inputFormat": "第一行一个数 $n$。\n\n第二行 $n$ 个数，表示排列 $a$。", "outputFormat": "第一行一个整数 $k$，表示你的操作次数。 需要满足 $0 \\leq k \\leq 15000$。\n接下来 $k$ 行，你需要按照操作顺序描述你的操作。对于每一步操作，输出两个数 $L$, $R$，表示你对片段 $a_L,a_{L+1},\\ldots, a_R$ 执行了一次操作。 需满足 $1 \\leq L \\leq R \\le n$。\n注意，你**不**需要最小化。你只需保证 $0 \\le k \\leq 15000$ 即可。保证存在这样的 $k$。 ", "hint": "此处设 $k_0$ 表示最小操作次数。\n\n对于所有数据，$1\\leq n\\leq 3000$，$0\\leq k_0\\leq 15000$，$1\\leq a_i\\leq n$，且 $a_i$ 互不相同。\n\n| 子任务编号 | $n$ | 特殊性质 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\leq 100$ | $k_0 = 1$ |\n| $2$ | $1 \\leq n \\leq 100$ | 无 |\n| $3$ | $1 \\leq n \\leq 1000$ | 无 |\n| $4$ | $1 \\leq n \\leq 3000$ | 无 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Quick sort", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T2. [Быстрая сортировка\n](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf)([Quick sort](http://codeforces.com/gym/102154/problem/C))。", "description": "给一个包含 $n$ 个元素的排列 $[a_1,a_2,\\ldots,a_n]$。\n定义操作 $S(l,r),$ 表示：将数列的片段 $[a_l,a_{l+1},\\ldots,a_r]$ 重排成 $[a_{l+1},a_{l+3},\\ldots,a_l,a_{l+2},\\ldots]$。\n举个例子：$[2, 4, 1, 5, 3, 6, 7, 8]\\xrightarrow{S(2,6)} [2, 1, 3, 4, 5, 6, 7, 8]$， 其中子串 $[4, 1, 5, 3, 6]$ 被重排成了 $[1, 3, 4, 5, 6]$。\n给定一个排列，试求经过多少次操作能使排列变成递增顺序，并输出任意一组方案，$不$要求方案的操作次数最少，但要求操作次数 $\\leq 15000$。", "inputFormat": "第一行一个数 $n$。\n\n第二行 $n$ 个数，表示排列 $a$。", "outputFormat": "第一行一个整数 $k$，表示你的操作次数。 需要满足 $0 \\leq k \\leq 15000$。\n接下来 $k$ 行，你需要按照操作顺序描述你的操作。对于每一步操作，输出两个数 $L$, $R$，表示你对片段 $a_L,a_{L+1},\\ldots, a_R$ 执行了一次操作。 需满足 $1 \\leq L \\leq R \\le n$。\n注意，你**不**需要最小化。你只需保证 $0 \\le k \\leq 15000$ 即可。保证存在这样的 $k$。 ", "hint": "此处设 $k_0$ 表示最小操作次数。\n\n对于所有数据，$1\\leq n\\leq 3000$，$0\\leq k_0\\leq 15000$，$1\\leq a_i\\leq n$，且 $a_i$ 互不相同。\n\n| 子任务编号 | $n$ | 特殊性质 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\leq 100$ | $k_0 = 1$ |\n| $2$ | $1 \\leq n \\leq 100$ | 无 |\n| $3$ | $1 \\leq n \\leq 1000$ | 无 |\n| $4$ | $1 \\leq n \\leq 3000$ | 无 |\n\n", "locale": "zh-CN"}}}
{"pid": "P9292", "type": "P", "difficulty": 5, "samples": [["5 1\n8 5 5 7 7", "3\n1\n1\n2\n1"], ["5 2\n8 5 5 7 7", "5\n3\n2\n4\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树形数据结构", "2018", "线段树", "树状数组", "扫描线", "ROI（俄罗斯）"], "title": "[ROI 2018] Robomarathon", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T3. [Робомарафон](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf) ([Robomarathon](https://codeforces.com/gym/102154/problem/D))。", "description": "有 $N$ 名机器人选手参加马拉松，选手的编号分别为 $1\\ldots N$。跑道包含 $N$ 条分道，编号分别为 $1\\ldots N$。每位选手占据一条分道，$i$ 号选手（简称 $i$ 号）占据编号为 $i$ 的分道（简称 $i$ 道）。每条分道从起点到终点的路程均相同。已知 $i$ 号跑完全程需要 $a_i$ 秒。\n\n每条分道的起始点有一个发令喇叭，不过不是播声音的。裁判皮了一下，把有些分道上的发令喇叭关掉了。\n\n时辰一到，所有开着的发令喇叭会同时发出起跑信号（下文简称发炮）。如果 $i$ 道上发炮，$i$ 号会立即起跑。\n\n发令信号的传递速度为每秒钟 $1$ 道。举个例子，如果有且只有四道上发炮，那么一秒后三号和五号会收到信号并立即起跑；两秒后二号和六号会收到信号并立即起跑。假设 $i$ 号在第 $x_i$ 秒起跑，则他会在第 $f_i = a_i + x_i$ 秒冲线。\n\n我们按照冲线顺序给选手排名。比如，如果 $n=3$， $f_1= f_2= 4$，$f_3= 5$, 那么一号和二号并列第一，三号屈居第三。\n\n可见，选手的排名取决于发令喇叭的开关状态。请求出每位选手的最好名次或最差名次。", "inputFormat": "第一行：$n$，$p$。\n\n接下来一行 $n$ 个数，表示 $a_1$，$a_2 \\ldots a_n$。", "outputFormat": "如果 $p=1$，输出最好名次。\n\n如果 $p=2$， 输出最差名次。", "hint": "对于所有数据，$1 \\leq n \\leq 4 \\times 10^5$，$0\\leq a_i \\leq 10^9$。\n\n| 子任务编号 | $n$ | $p$ |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\leq 20$ | $p = 1$ |\n| $2$ | $1 \\leq n \\leq 20$ | $p = 2$ |\n| $3$ | $1 \\leq n \\leq 4 \\times 10^5$ | $p = 1$ |\n| $4$ | $1 \\leq n \\leq 4 \\times 10^5$ | $p = 2$ | \n\n其中，Subtask 3 和 4 内的每个测试点 1 分，加和计算。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Robomarathon", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T3. [Робомарафон](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf) ([Robomarathon](https://codeforces.com/gym/102154/problem/D))。", "description": "有 $N$ 名机器人选手参加马拉松，选手的编号分别为 $1\\ldots N$。跑道包含 $N$ 条分道，编号分别为 $1\\ldots N$。每位选手占据一条分道，$i$ 号选手（简称 $i$ 号）占据编号为 $i$ 的分道（简称 $i$ 道）。每条分道从起点到终点的路程均相同。已知 $i$ 号跑完全程需要 $a_i$ 秒。\n\n每条分道的起始点有一个发令喇叭，不过不是播声音的。裁判皮了一下，把有些分道上的发令喇叭关掉了。\n\n时辰一到，所有开着的发令喇叭会同时发出起跑信号（下文简称发炮）。如果 $i$ 道上发炮，$i$ 号会立即起跑。\n\n发令信号的传递速度为每秒钟 $1$ 道。举个例子，如果有且只有四道上发炮，那么一秒后三号和五号会收到信号并立即起跑；两秒后二号和六号会收到信号并立即起跑。假设 $i$ 号在第 $x_i$ 秒起跑，则他会在第 $f_i = a_i + x_i$ 秒冲线。\n\n我们按照冲线顺序给选手排名。比如，如果 $n=3$， $f_1= f_2= 4$，$f_3= 5$, 那么一号和二号并列第一，三号屈居第三。\n\n可见，选手的排名取决于发令喇叭的开关状态。请求出每位选手的最好名次或最差名次。", "inputFormat": "第一行：$n$，$p$。\n\n接下来一行 $n$ 个数，表示 $a_1$，$a_2 \\ldots a_n$。", "outputFormat": "如果 $p=1$，输出最好名次。\n\n如果 $p=2$， 输出最差名次。", "hint": "对于所有数据，$1 \\leq n \\leq 4 \\times 10^5$，$0\\leq a_i \\leq 10^9$。\n\n| 子任务编号 | $n$ | $p$ |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1 \\leq n \\leq 20$ | $p = 1$ |\n| $2$ | $1 \\leq n \\leq 20$ | $p = 2$ |\n| $3$ | $1 \\leq n \\leq 4 \\times 10^5$ | $p = 1$ |\n| $4$ | $1 \\leq n \\leq 4 \\times 10^5$ | $p = 2$ | \n\n其中，Subtask 3 和 4 内的每个测试点 1 分，加和计算。\n", "locale": "zh-CN"}}}
{"pid": "P9293", "type": "P", "difficulty": 7, "samples": [["2\n10\n10", "110"], ["2\n10100\n1001", "11101"], ["3\n1\n1\n110", "1011"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "ROI（俄罗斯）"], "title": "[ROI 2018] Addition without carry", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T4. [Сложение без переносов ](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf)([Addition without carry](https://codeforces.com/gym/102154/problem/A))。", "description": "对于一个只含自然数的集合，如果集合中所有数之和 = 集合中所有数的 $\\mathtt{OR}$ 和，那么我们称之为「美丽的集合」。\n\n给出 $a_1\\ldots a_n$, 存在一个由数列 $b_1\\ldots b_n$ 组成的「美丽的集合」，且满足：\n\n$\\forall i=1\\ldots n$， $b_i\\geq a_i$, 且\n$\\sum b_i$ 最小。\n\n试求出新数列的 $\\sum b_i$。\n\n为了简便起见，我们给出的 $a_i$ 均为二进制形式，你的答案也应是二进制形式。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行一个二进制数 $a_i$。", "outputFormat": "输出得出的二进制的 $\\sum b_i$。", "hint": "对于所有的数据，$1 \\leq n \\leq 3 \\times 10^5$。\n\n（在二进制下）$a_i$ 的位数不超过 $3 \\times 10^5$，并且所有 $a_i$ 的位数之和不超过 $3\\times 10^5$。\n\n子任务依赖仅供参考，洛谷评测时无子任务依赖。\n\n| 子任务 | 分值 | $n$ | $\\max L$ | 必须通过的子任务 |\n|:------:|:----:|:---:|:--------:|:----------------:|\n| 1      | 4    | $n=2$ | $\\max L \\le 10$ |    |\n| 2      | 2    | $n=2$ | $\\max L \\le 20$ | 1  |\n| 3      | 2    | $n=2$ | $\\max L \\le 100$ | 1,2 |\n| 4      | 2    | $n=2$ | $\\max L \\le 1000$ | 1--3 |\n| 5      | 2    | $n=2$ | $\\max L \\le 300\\,000$ | 1--4 |\n| 6      | 4    | $n \\le 100$ | $\\max L \\le 100$ |    |\n| 7      | 4    | $n \\le 1000$ | $\\max L \\le 1000$ | 6  |\n| 8      | 4    | $n \\le 300\\,000$ | $\\max L \\le 300\\,000$ | 6,7 |\n| 9      | 4    | $n \\le 5$ | $\\max L \\le 5$ | U  |\n| 10     | 4    | $n \\le 5$ | $\\max L \\le 1\\,000$ | U,1--4,9 |\n| 11     | 4    | $n \\le 1\\,000$ | $\\max L \\le 5$ | U,9 |\n| 12     | 4    | $n \\le 10$ | $\\max L \\le 10$ | U,1,9 |\n| 13     | 4    | $n \\le 50$ | $\\max L \\le 50$ | U,1,2,9,12 |\n| 14     | 7    | $n \\le 100$ | $\\max L \\le 100$ | U,1--3,6,9,12,13 |\n| 15     | 7    | $n \\le 300$ | $\\max L \\le 300$ | U,1--3,6,9,12--14 |\n| 16     | 8    | $n \\le 1000$ | $\\max L \\le 1000$ | U,1--4,6,7,9--15 |\n| 17     | 8    | $n \\le 3000$ | $\\max L \\le 3000$ | U,1--4,6,7,9--16 |\n| 18     | 6    | $n \\le 10\\,000$ | $\\max L \\le 10\\,000$ | U,1--4,6,7,9--17 |\n| 19     | 7    | $n \\le 30\\,000$ | $\\max L \\le 30\\,000$ | U,1--4,6,7,9--18 |\n| 20     | 7    | $n \\le 100\\,000$ | $\\max L \\le 100\\,000$ | U,1--4,6,7,9--19 |\n| 21     | 6    | $n \\le 300\\,000$ | $\\max L \\le 300\\,000$ | U,1--20 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROI 2018] Addition without carry", "background": "译自 [ROI 2018 Day2](https://neerc.ifmo.ru/school/archive/2017-2018.html) T4. [Сложение без переносов ](https://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day2.pdf)([Addition without carry](https://codeforces.com/gym/102154/problem/A))。", "description": "对于一个只含自然数的集合，如果集合中所有数之和 = 集合中所有数的 $\\mathtt{OR}$ 和，那么我们称之为「美丽的集合」。\n\n给出 $a_1\\ldots a_n$, 存在一个由数列 $b_1\\ldots b_n$ 组成的「美丽的集合」，且满足：\n\n$\\forall i=1\\ldots n$， $b_i\\geq a_i$, 且\n$\\sum b_i$ 最小。\n\n试求出新数列的 $\\sum b_i$。\n\n为了简便起见，我们给出的 $a_i$ 均为二进制形式，你的答案也应是二进制形式。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行一个二进制数 $a_i$。", "outputFormat": "输出得出的二进制的 $\\sum b_i$。", "hint": "对于所有的数据，$1 \\leq n \\leq 3 \\times 10^5$。\n\n（在二进制下）$a_i$ 的位数不超过 $3 \\times 10^5$，并且所有 $a_i$ 的位数之和不超过 $3\\times 10^5$。\n\n子任务依赖仅供参考，洛谷评测时无子任务依赖。\n\n| 子任务 | 分值 | $n$ | $\\max L$ | 必须通过的子任务 |\n|:------:|:----:|:---:|:--------:|:----------------:|\n| 1      | 4    | $n=2$ | $\\max L \\le 10$ |    |\n| 2      | 2    | $n=2$ | $\\max L \\le 20$ | 1  |\n| 3      | 2    | $n=2$ | $\\max L \\le 100$ | 1,2 |\n| 4      | 2    | $n=2$ | $\\max L \\le 1000$ | 1--3 |\n| 5      | 2    | $n=2$ | $\\max L \\le 300\\,000$ | 1--4 |\n| 6      | 4    | $n \\le 100$ | $\\max L \\le 100$ |    |\n| 7      | 4    | $n \\le 1000$ | $\\max L \\le 1000$ | 6  |\n| 8      | 4    | $n \\le 300\\,000$ | $\\max L \\le 300\\,000$ | 6,7 |\n| 9      | 4    | $n \\le 5$ | $\\max L \\le 5$ | U  |\n| 10     | 4    | $n \\le 5$ | $\\max L \\le 1\\,000$ | U,1--4,9 |\n| 11     | 4    | $n \\le 1\\,000$ | $\\max L \\le 5$ | U,9 |\n| 12     | 4    | $n \\le 10$ | $\\max L \\le 10$ | U,1,9 |\n| 13     | 4    | $n \\le 50$ | $\\max L \\le 50$ | U,1,2,9,12 |\n| 14     | 7    | $n \\le 100$ | $\\max L \\le 100$ | U,1--3,6,9,12,13 |\n| 15     | 7    | $n \\le 300$ | $\\max L \\le 300$ | U,1--3,6,9,12--14 |\n| 16     | 8    | $n \\le 1000$ | $\\max L \\le 1000$ | U,1--4,6,7,9--15 |\n| 17     | 8    | $n \\le 3000$ | $\\max L \\le 3000$ | U,1--4,6,7,9--16 |\n| 18     | 6    | $n \\le 10\\,000$ | $\\max L \\le 10\\,000$ | U,1--4,6,7,9--17 |\n| 19     | 7    | $n \\le 30\\,000$ | $\\max L \\le 30\\,000$ | U,1--4,6,7,9--18 |\n| 20     | 7    | $n \\le 100\\,000$ | $\\max L \\le 100\\,000$ | U,1--4,6,7,9--19 |\n| 21     | 6    | $n \\le 300\\,000$ | $\\max L \\le 300\\,000$ | U,1--20 |", "locale": "zh-CN"}}}
{"pid": "P9294", "type": "P", "difficulty": 3, "samples": [["5\n5 1 1\n0 3 4\n1 4 3\n4 0 0\n0 0 0", "9"], ["3\n1 1 2\n2 1 1\n1 1 2", "7"], ["5\n5 5 5\n5 5 5\n5 5 5\n5 5 5\n5 5 5", "50"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "POI（波兰）"], "title": "[POI 2020/2021 R1] Cukiernia / 糕点店", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Cukiernia](https://sio2.mimuw.edu.pl/c/oi28-1/p/cuk/)。**", "description": "Bajtuś 面包店售卖蛋糕，甜甜圈和羊角面包三种食物。在面包店中，有 $n$ 个橱窗，在正常情况下，每个货架上只应该放置一种食物。但一天早上，面包店老板 Bajtazara 的儿子 Bajtuś 偷偷进入了面包店，将所有的食物摆放得乱七八糟。\n\n面包店马上就要开门了，Bajtazara 急切地想要重新摆放食物，使得每个货架上只有一种食物（特别地，一个货架上没有食物也是允许的）。请你帮助他求出，至少需要移动多少次食物才能达成目标。", "inputFormat": "第一行一个整数 $n$，代表面包店中货架的数量。\n\n接下来 $n$ 行，第 $i$ 行三个整数 $d_i,p_i,r_i$，分别代表该货架上现有的蛋糕数，甜甜圈数和羊角面包数。数据保证面包店中至少有一份食物。", "outputFormat": "输出一个整数，表示需要移动食物的最小次数。", "hint": "【样例解释#1】：\n\n一种合法的移动方案如下：\n\n1. 将一个甜甜圈从货架 $1$ 移动至货架 $3$，将一个羊角面包从货架 $1$ 移动至货架 $2$；\n2. 将三个甜甜圈从货架 $2$ 移动至货架 $3$；\n3. 将一个蛋糕从货架 $3$ 移动至货架 $1$，将三个羊角面包从货架 $3$ 移动至货架 $2$；\n\n在此之后，货架 $1$ 只有蛋糕，货架 $2$ 只有羊角面包，货架 $3$ 只有甜甜圈，货架 $4$ 只有蛋糕，货架 $5$ 是空的。\n\n【数据范围】：\n\n所有测试点均满足：$3 \\leq n \\leq 3 \\times 10^5$，$0 \\leq d_i,p_i,r_i \\leq 10^9$。\n\n| 子任务编号 | $n \\leq$        | 分值 |\n| :----------: | :---------------: | :----: |\n| $1$        | $10$            | $15$ |\n| $2$        | $5 \\times 10^3$ | $35$ |\n| $3$        | $3 \\times 10^5$ | $50$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2020/2021 R1] Cukiernia / 糕点店", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Cukiernia](https://sio2.mimuw.edu.pl/c/oi28-1/p/cuk/)。**", "description": "Bajtuś 面包店售卖蛋糕，甜甜圈和羊角面包三种食物。在面包店中，有 $n$ 个橱窗，在正常情况下，每个货架上只应该放置一种食物。但一天早上，面包店老板 Bajtazara 的儿子 Bajtuś 偷偷进入了面包店，将所有的食物摆放得乱七八糟。\n\n面包店马上就要开门了，Bajtazara 急切地想要重新摆放食物，使得每个货架上只有一种食物（特别地，一个货架上没有食物也是允许的）。请你帮助他求出，至少需要移动多少次食物才能达成目标。", "inputFormat": "第一行一个整数 $n$，代表面包店中货架的数量。\n\n接下来 $n$ 行，第 $i$ 行三个整数 $d_i,p_i,r_i$，分别代表该货架上现有的蛋糕数，甜甜圈数和羊角面包数。数据保证面包店中至少有一份食物。", "outputFormat": "输出一个整数，表示需要移动食物的最小次数。", "hint": "【样例解释#1】：\n\n一种合法的移动方案如下：\n\n1. 将一个甜甜圈从货架 $1$ 移动至货架 $3$，将一个羊角面包从货架 $1$ 移动至货架 $2$；\n2. 将三个甜甜圈从货架 $2$ 移动至货架 $3$；\n3. 将一个蛋糕从货架 $3$ 移动至货架 $1$，将三个羊角面包从货架 $3$ 移动至货架 $2$；\n\n在此之后，货架 $1$ 只有蛋糕，货架 $2$ 只有羊角面包，货架 $3$ 只有甜甜圈，货架 $4$ 只有蛋糕，货架 $5$ 是空的。\n\n【数据范围】：\n\n所有测试点均满足：$3 \\leq n \\leq 3 \\times 10^5$，$0 \\leq d_i,p_i,r_i \\leq 10^9$。\n\n| 子任务编号 | $n \\leq$        | 分值 |\n| :----------: | :---------------: | :----: |\n| $1$        | $10$            | $15$ |\n| $2$        | $5 \\times 10^3$ | $35$ |\n| $3$        | $3 \\times 10^5$ | $50$ |", "locale": "zh-CN"}}}
