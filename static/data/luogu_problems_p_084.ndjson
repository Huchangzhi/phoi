{"pid": "P2702", "type": "P", "difficulty": 5, "samples": [["1+1=3#", "1+1=2#"], ["1+1=3+5#", "No"], ["11+77=34#", "17+17=34#"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2003", "NOI"], "title": "[NOI2003] 木棒游戏", "background": "**洛谷没有文件输入输出。请从标准输入（`stdin`）读取输入，并输出到标准输出（`stdout`）。**\n\n--------\n这是一个很古老的游戏。用木棒在桌上拼出一个**不成立的等式**，移动且只移动一根木棒使得等式成立。现在轮到你了。", "description": "从文件读入一个式子（该式子肯定是一个不成立的等式）。\n\n如果能移动一根木棒可以使等式成立，则输出新的等式，否则输出 `No`。\n\n### 说明和限制\n1. 式子中的数可能是正数或负数，运算符号只会出现加号和减号，并且有且仅有一个等号，不会出现括号、乘号或除号，也不会有 `++`、`--`、`+-` 或 `-+` 出现。\n2. 式子中不会出现 $8$ 个或 $8$ 个以上的连续数字（数的绝对值小于等于 $9999999$）。\n3. 你只能移动用来构成数字的木棒，不能移动构成运算符（`+`、`-`、`=`）的木棒，所以加号、减号、等号是不会改变的。移动前后，木棒构成的数字必须严格与图 2 中的 $0\\sim9$ 相符。\n4. 从文件读入的式子中的数不会以 $0$ 开头，但允许修改后等式中的数以数字 $0$ 开头。", "inputFormat": "从文件 `game.in` 中读入一行字符串。该串中包括一个以 `#` 字符结尾的式子（ASCII码 35），式子中没有空格或其他分隔符。输入数据严格符合逻辑。字符串的长度小于等于 $1000$。\n\n**注意：`#`字符后面可能会有一些与题目无关的字符。**", "outputFormat": "将输出结果存入文件 `game.out`，输出仅一行。\n\n如果有解，则输出正确的等式，格式与输入的格式相同（以 `#` 结尾，中间不能有分隔符，也不要加入多余字符）。此时输入数据保证解是唯一的。\n\n如果无解，则输出 `No`（`N` 大写，`o` 小写）。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[NOI2003] Matchstick Game", "background": "Luogu does not support file input and output. Please read from standard input (stdin) and write to standard output (stdout).\n\n--------\nThis is a very old game. Using matchsticks, an incorrect equation is arranged on the table. Move, and only move, exactly one matchstick to make the equation correct. Now it is your turn.", "description": "Read an expression from input (the expression is guaranteed to be an incorrect equation).\n\nIf moving exactly one matchstick can make the equation correct, output the new equation; otherwise, output `No`.\n\nNotes and constraints:\n1. Numbers in the expression can be positive or negative. The only operators are plus and minus, and there is exactly one equals sign. There are no parentheses, multiplication, or division, and sequences like `++`, `--`, `+-`, or `-+` will not appear.\n2. There will not be $8$ or more consecutive digits in the expression (the absolute value of any number is at most $9999999$).\n3. You may only move matchsticks that form digits; you cannot move the matchsticks that form the operators (`+`, `-`, `=`), so the plus sign, minus sign, and equals sign never change. Before and after the move, the digit shapes must strictly match the patterns for $0\\sim9$ shown in Figure 2.\n4. Numbers in the input expression will not start with $0$, but numbers in the corrected equation are allowed to start with the digit $0$.", "inputFormat": "Read one line from standard input. The line contains an expression that ends with the `#` character (ASCII code 35). There are no spaces or other separators. The input strictly follows the logical specification. The string length is less than or equal to $1000$.\n\nNote: There may be some characters after the `#` character that are unrelated to the problem.", "outputFormat": "Write exactly one line to standard output.\n\nIf there is a solution, output the corrected equation in the same format as the input (ending with `#`, with no separators and no extra characters). In this case, the input guarantees the solution is unique.\n\nIf there is no solution, output `No` (uppercase `N`, lowercase `o`).", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2003] 木棒游戏", "background": "**洛谷没有文件输入输出。请从标准输入（`stdin`）读取输入，并输出到标准输出（`stdout`）。**\n\n--------\n这是一个很古老的游戏。用木棒在桌上拼出一个**不成立的等式**，移动且只移动一根木棒使得等式成立。现在轮到你了。", "description": "从文件读入一个式子（该式子肯定是一个不成立的等式）。\n\n如果能移动一根木棒可以使等式成立，则输出新的等式，否则输出 `No`。\n\n### 说明和限制\n1. 式子中的数可能是正数或负数，运算符号只会出现加号和减号，并且有且仅有一个等号，不会出现括号、乘号或除号，也不会有 `++`、`--`、`+-` 或 `-+` 出现。\n2. 式子中不会出现 $8$ 个或 $8$ 个以上的连续数字（数的绝对值小于等于 $9999999$）。\n3. 你只能移动用来构成数字的木棒，不能移动构成运算符（`+`、`-`、`=`）的木棒，所以加号、减号、等号是不会改变的。移动前后，木棒构成的数字必须严格与图 2 中的 $0\\sim9$ 相符。\n4. 从文件读入的式子中的数不会以 $0$ 开头，但允许修改后等式中的数以数字 $0$ 开头。", "inputFormat": "从文件 `game.in` 中读入一行字符串。该串中包括一个以 `#` 字符结尾的式子（ASCII码 35），式子中没有空格或其他分隔符。输入数据严格符合逻辑。字符串的长度小于等于 $1000$。\n\n**注意：`#`字符后面可能会有一些与题目无关的字符。**", "outputFormat": "将输出结果存入文件 `game.out`，输出仅一行。\n\n如果有解，则输出正确的等式，格式与输入的格式相同（以 `#` 结尾，中间不能有分隔符，也不要加入多余字符）。此时输入数据保证解是唯一的。\n\n如果无解，则输出 `No`（`N` 大写，`o` 小写）。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2703", "type": "P", "difficulty": 7, "samples": [["7\n4 4\n3 4\n3 5\n1 3\n2 2\n2 4\n3 3", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "2006", "NOI", "枚举"], "title": "[NOI2006] 千年虫", "background": "", "description": "千年虫是远古时代的生物，时隔几千万年，千年虫早已从地球上销声匿迹，人们对其知之甚少。考古生物学家最近开始对其有了兴趣，因为一批珍贵的千年虫化石被发现，这些化石保留了千年虫近乎完整的形态。\n\n理论科学家们根据这些化石归纳出了千年虫的一般形态特征模型，并且据此判定出千年虫就是蜈蚣的祖先！但科学家 J 发现了实际与理论的一些出入，他仔细的研究了上百个千年虫化石，发现其中大部分千年虫的形态都不完全符合理论模型，这到底是什么因素造成的呢？理论科学家 K 敏锐的指出，千年虫的形态保存在化石中很有可能发生各种变化，即便最细微的变化也能导致它不符合模型。\n\n于是，摆在科学家面前的新问题诞生了：判断一个化石中的千年虫与理论模型的差距有多大？具体来说，就是根据一个千年虫化石的形态 $A$，找到 一个符合理论模型的形态 $B$，使得 $B$ 是最有可能在形成化石时变成形态 $A$。理论学家提出的“千年虫形态特征模型”如下（如左图所示）：躯体由头、尾、躯干、足四大部分构成。\n\n![](https://cdn.luogu.com.cn/upload/pic/1876.png)\n\n- 头，尾用一对平行线段表示。称平行于头、尾的方向为 $x$ 方向；垂直于 $x$ 的方向为 $y$ 方向；\n\n- 在头尾之间有两条互不相交的折线段相连，他们与头、尾两条线段一起围成的区域称为躯干，两条折线段都满足以下条件：拐角均为钝角或者平角，且包含奇数条线段，从上往下数的奇数条垂直于 $x$ 方向。\n\n- 每条折线段从上往下数的第偶数条线段的躯干的另一侧长出一条足，即一个上、下底平行于 $x$ 方向的梯形或矩形，且其中远离躯干一侧的边垂直于 $x$ 方向。\n\n注意：足不能退化成三角形（即底边的长度均大于零），躯干两侧足的数目可以不一样。（如上图，左边有 $4$ 条足，右边有 $5$ 条足）\n\n可见，$x$-$y$ 直角坐标系内，躯干和所有足组成的实心区域的边界均平行或垂直于坐标轴。为了方便，我们假设所有这些边界的长度均为正整数。因此可以认为每个千年虫的躯体 都由一些单位方格拼成。每个单位方格都由坐标 $(x,y)$ 唯一确定。设头尾之间的距离为 $n$，则我们可以用 $2\\times n$ 个整数来描述一条千年虫 $B$（如右图）：将 $B$ 沿平行 $x$ 轴方向剖分成 $n$ 条宽度为 $1$ 的横条，每个横条最左边一格的 $x$ 坐标设为 $L_i$，最右一格的的 $x$ 坐标设为 $R_i$。则  $(n,L_1,L_2,\\dots,L_n,R_1,R_2,\\dots,R_n)$ 就确定了一条千年虫。\n\n由于岁月的侵蚀，在实际发现的化石中，千年虫的形状并不满足上面理论模型的规则，一些格子中的躯体已经被某些矿物质溶解腐蚀了。地质、物理、生物学家共同研究得出：\n\n- 腐蚀是以格子为单位的，只能一整格被腐蚀；\n\n- 腐蚀是分步进行的，每一步只有一格被腐蚀；\n\n- 如果去掉一个格子后躯体不连通了，那么这个格子当前不会被腐蚀；\n\n- 如果一个格子的左边邻格和右边邻格都还没被腐蚀，那么这个格子当前不会被腐蚀；\n\n- 与头相邻的格子不能全部被腐蚀，与尾相邻的格子不能全部被腐蚀。\n\n倘若满足上面五条，我们仍然可以用 $(n,L_1,L_2,\\dots,L_n,R_1,R_2,\\dots,R_n)$ 来描述一个化石里头的千年虫的形态。其中 $L_i\\le R_i$。\n\n![](https://cdn.luogu.com.cn/upload/pic/1879.png)\n\n例如下图：\n\n![](https://cdn.luogu.com.cn/upload/pic/1878.png)\n\n现在你的任务是，输入一个化石里的千年虫的描述 $A$，找一个满足理论模型的千年虫的描述 $B$，使得 $B$ 可以通过腐蚀过程得以变为 $A$，且由 $B$ 转化为 $A$ 的代价（须被腐蚀的格子数）最少。输出此最小代价。", "inputFormat": "第一行为一个整数 $n$。\n\n以下 $n$ 行，每行两个整数，其中第 $i$ 行为两个整数 $L'_i$、$R'_i$，用一个空格分开；保证输入数据合法。", "outputFormat": "仅一行，为一个整数，表示最少代价。\n", "hint": "\n【样例说明】\n\n如图：\n\n![](https://cdn.luogu.com.cn/upload/pic/1877.png)\n\n【评分方法】\n\n本题没有部分分，你的程序的输出只有和我们的答案完全一致才能获得满分，否则不得分。\n\n【数据范围】\n\n对于 $30\\%$ 的数据，$n\\le100$，$R_i\\le100$；\n\n对于 $50\\%$ 的数据，$n\\le1000$，$R_i\\le1000$；\n\n对于 $70\\%$ 的数据，$n\\le10 ^ 5$，$R_i\\le 1000$；\n\n对于 $100\\%$ 的数据，$1\\leq n\\le10 ^ 6$，$0\\le L_i\\le R_i\\le10 ^ 6$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2006] Millennium Bug", "background": "", "description": "The Millennium Bug is an ancient creature that vanished from Earth tens of millions of years ago, and little is known about it. Paleobiologists have recently become interested in it because a set of precious Millennium Bug fossils was discovered, preserving the creature’s shape nearly intact.\n\nTheoretical scientists have generalized a model of the Millennium Bug’s shape from these fossils, and on this basis determined that the Millennium Bug is the ancestor of the centipede. However, Scientist J found discrepancies between the model and reality. After closely studying hundreds of fossils, he discovered that most of them do not completely conform to the theoretical model. What caused this? Theoretical Scientist K pointed out that the shape of a Millennium Bug preserved in a fossil may have undergone various changes during fossilization, and even the slightest change could make it fail to match the model.\n\nThus a new problem arises for the scientists: how far is a fossilized Millennium Bug from the theoretical model? Specifically, given the shape $A$ of a Millennium Bug in a fossil, find a shape $B$ that conforms to the theoretical model such that $B$ is most likely to become $A$ during fossilization.\n\nThe theoretical “Millennium Bug shape model” is as follows (see the left figure): the body consists of four parts — head, tail, trunk, and legs.\n\n![](https://cdn.luogu.com.cn/upload/pic/1876.png)\n\n- The head and the tail are represented by a pair of parallel line segments. The direction parallel to the head and tail is called the $x$ direction; the direction perpendicular to $x$ is the $y$ direction.\n- Between the head and the tail, there are two disjoint polylines connecting them. Together with the head and tail segments, they bound a region called the trunk. Both polylines satisfy all of the following:\n  - Every turn is an obtuse angle or a straight angle.\n  - Each polyline consists of an odd number of segments.\n  - Counting segments from top to bottom, the odd-numbered segments are perpendicular to the $x$ direction.\n- On each polyline, a leg grows from every even-numbered segment (counted from top to bottom) on the side away from the trunk. Each leg is a trapezoid or rectangle whose top and bottom bases are parallel to the $x$ direction, and whose edge farthest from the trunk is perpendicular to the $x$ direction.\n\nNote: A leg must not degenerate into a triangle (i.e., both base lengths are strictly greater than zero). The numbers of legs on the two sides of the trunk may differ. (In the above figure, there are $4$ legs on the left and $5$ on the right.)\n\nIn the $x$-$y$ Cartesian coordinate system, the boundary of the solid region formed by the trunk and all legs is parallel or perpendicular to the coordinate axes. For convenience, we assume all such boundary lengths are positive integers. Therefore, we can regard each Millennium Bug’s body as a shape formed by unit squares. Each unit square is uniquely determined by coordinates $(x, y)$. Let the distance between the head and the tail be $n$. Then we can describe a Millennium Bug $B$ using $2 \\times n$ integers (see the right figure): cut $B$ into $n$ horizontal strips of width $1$ along directions parallel to the $x$ axis. In the $i$-th strip, let the $x$ coordinate of the leftmost cell be $L_i$, and the $x$ coordinate of the rightmost cell be $R_i$. Then $(n, L_1, L_2, \\dots, L_n, R_1, R_2, \\dots, R_n)$ determines a Millennium Bug.\n\nDue to the erosion of time, the shape of the Millennium Bug in actual fossils does not follow the rules of the theoretical model. Some cells of the body have been dissolved and corroded by minerals. Geologists, physicists, and biologists have jointly concluded that:\n\n- Corrosion happens at the granularity of cells; only an entire cell can be corroded.\n- Corrosion proceeds step by step, and at each step only one cell is corroded.\n- If removing a cell would disconnect the body, that cell will not be corroded at that time.\n- If both the left neighbor and the right neighbor of a cell have not been corroded, then that cell will not be corroded at that time.\n- The cells adjacent to the head cannot all be corroded, and the cells adjacent to the tail cannot all be corroded.\n\nIf the above five rules are satisfied, we can still describe the shape of a Millennium Bug in a fossil using $(n, L_1, L_2, \\dots, L_n, R_1, R_2, \\dots, R_n)$. Here $L_i \\le R_i$.\n\n![](https://cdn.luogu.com.cn/upload/pic/1879.png)\n\nFor example, see the following figure:\n\n![](https://cdn.luogu.com.cn/upload/pic/1878.png)\n\nYour task is: given a description $A$ of a Millennium Bug in a fossil, find a description $B$ that satisfies the theoretical model, such that $B$ can become $A$ through the corrosion process, and the cost of transforming $B$ into $A$ (the number of cells that must be corroded) is minimized. Output this minimum cost.", "inputFormat": "The first line contains an integer $n$.\n\nThe following $n$ lines each contain two integers. In line $i$, the two integers are $L'_i$ and $R'_i$, separated by a space. It is guaranteed that the input testdata is valid.", "outputFormat": "Output a single line containing one integer, the minimum cost.", "hint": "Sample explanation:\n\nAs shown in the figure:\n\n![](https://cdn.luogu.com.cn/upload/pic/1877.png)\n\nScoring:\n\nThere is no partial score. Your program receives full score only if its output exactly matches our answer; otherwise you receive no score.\n\nConstraints:\n\n- For 30% of the testdata, $n \\le 100$, $R'_i \\le 100$.\n- For 50% of the testdata, $n \\le 1000$, $R'_i \\le 1000$.\n- For 70% of the testdata, $n \\le 10^5$, $R'_i \\le 1000$.\n- For 100% of the testdata, $1 \\le n \\le 10^6$, $0 \\le L'_i \\le R'_i \\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2006] 千年虫", "background": "", "description": "千年虫是远古时代的生物，时隔几千万年，千年虫早已从地球上销声匿迹，人们对其知之甚少。考古生物学家最近开始对其有了兴趣，因为一批珍贵的千年虫化石被发现，这些化石保留了千年虫近乎完整的形态。\n\n理论科学家们根据这些化石归纳出了千年虫的一般形态特征模型，并且据此判定出千年虫就是蜈蚣的祖先！但科学家 J 发现了实际与理论的一些出入，他仔细的研究了上百个千年虫化石，发现其中大部分千年虫的形态都不完全符合理论模型，这到底是什么因素造成的呢？理论科学家 K 敏锐的指出，千年虫的形态保存在化石中很有可能发生各种变化，即便最细微的变化也能导致它不符合模型。\n\n于是，摆在科学家面前的新问题诞生了：判断一个化石中的千年虫与理论模型的差距有多大？具体来说，就是根据一个千年虫化石的形态 $A$，找到 一个符合理论模型的形态 $B$，使得 $B$ 是最有可能在形成化石时变成形态 $A$。理论学家提出的“千年虫形态特征模型”如下（如左图所示）：躯体由头、尾、躯干、足四大部分构成。\n\n![](https://cdn.luogu.com.cn/upload/pic/1876.png)\n\n- 头，尾用一对平行线段表示。称平行于头、尾的方向为 $x$ 方向；垂直于 $x$ 的方向为 $y$ 方向；\n\n- 在头尾之间有两条互不相交的折线段相连，他们与头、尾两条线段一起围成的区域称为躯干，两条折线段都满足以下条件：拐角均为钝角或者平角，且包含奇数条线段，从上往下数的奇数条垂直于 $x$ 方向。\n\n- 每条折线段从上往下数的第偶数条线段的躯干的另一侧长出一条足，即一个上、下底平行于 $x$ 方向的梯形或矩形，且其中远离躯干一侧的边垂直于 $x$ 方向。\n\n注意：足不能退化成三角形（即底边的长度均大于零），躯干两侧足的数目可以不一样。（如上图，左边有 $4$ 条足，右边有 $5$ 条足）\n\n可见，$x$-$y$ 直角坐标系内，躯干和所有足组成的实心区域的边界均平行或垂直于坐标轴。为了方便，我们假设所有这些边界的长度均为正整数。因此可以认为每个千年虫的躯体 都由一些单位方格拼成。每个单位方格都由坐标 $(x,y)$ 唯一确定。设头尾之间的距离为 $n$，则我们可以用 $2\\times n$ 个整数来描述一条千年虫 $B$（如右图）：将 $B$ 沿平行 $x$ 轴方向剖分成 $n$ 条宽度为 $1$ 的横条，每个横条最左边一格的 $x$ 坐标设为 $L_i$，最右一格的的 $x$ 坐标设为 $R_i$。则  $(n,L_1,L_2,\\dots,L_n,R_1,R_2,\\dots,R_n)$ 就确定了一条千年虫。\n\n由于岁月的侵蚀，在实际发现的化石中，千年虫的形状并不满足上面理论模型的规则，一些格子中的躯体已经被某些矿物质溶解腐蚀了。地质、物理、生物学家共同研究得出：\n\n- 腐蚀是以格子为单位的，只能一整格被腐蚀；\n\n- 腐蚀是分步进行的，每一步只有一格被腐蚀；\n\n- 如果去掉一个格子后躯体不连通了，那么这个格子当前不会被腐蚀；\n\n- 如果一个格子的左边邻格和右边邻格都还没被腐蚀，那么这个格子当前不会被腐蚀；\n\n- 与头相邻的格子不能全部被腐蚀，与尾相邻的格子不能全部被腐蚀。\n\n倘若满足上面五条，我们仍然可以用 $(n,L_1,L_2,\\dots,L_n,R_1,R_2,\\dots,R_n)$ 来描述一个化石里头的千年虫的形态。其中 $L_i\\le R_i$。\n\n![](https://cdn.luogu.com.cn/upload/pic/1879.png)\n\n例如下图：\n\n![](https://cdn.luogu.com.cn/upload/pic/1878.png)\n\n现在你的任务是，输入一个化石里的千年虫的描述 $A$，找一个满足理论模型的千年虫的描述 $B$，使得 $B$ 可以通过腐蚀过程得以变为 $A$，且由 $B$ 转化为 $A$ 的代价（须被腐蚀的格子数）最少。输出此最小代价。", "inputFormat": "第一行为一个整数 $n$。\n\n以下 $n$ 行，每行两个整数，其中第 $i$ 行为两个整数 $L'_i$、$R'_i$，用一个空格分开；保证输入数据合法。", "outputFormat": "仅一行，为一个整数，表示最少代价。\n", "hint": "\n【样例说明】\n\n如图：\n\n![](https://cdn.luogu.com.cn/upload/pic/1877.png)\n\n【评分方法】\n\n本题没有部分分，你的程序的输出只有和我们的答案完全一致才能获得满分，否则不得分。\n\n【数据范围】\n\n对于 $30\\%$ 的数据，$n\\le100$，$R_i\\le100$；\n\n对于 $50\\%$ 的数据，$n\\le1000$，$R_i\\le1000$；\n\n对于 $70\\%$ 的数据，$n\\le10 ^ 5$，$R_i\\le 1000$；\n\n对于 $100\\%$ 的数据，$1\\leq n\\le10 ^ 6$，$0\\le L_i\\le R_i\\le10 ^ 6$。", "locale": "zh-CN"}}}
{"pid": "P2704", "type": "P", "difficulty": 5, "samples": [["5 4\nPHPP\nPPHH\nPPPP\nPHPP\nPHHP", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2001", "NOI", "进制", "状压 DP"], "title": "[NOI2001] 炮兵阵地", "background": "", "description": "司令部的将军们打算在 $N\\times M$ 的网格地图上部署他们的炮兵部队。\n\n一个 $N\\times M$ 的地图由 $N$ 行 $M$ 列组成，地图的每一格可能是山地（用 $\\texttt{H}$ 表示），也可能是平原（用 $\\texttt{P}$ 表示），如下图。\n\n在每一格平原地形上最多可以布置一支炮兵部队（山地上不能够部署炮兵部队）；一支炮兵部队在地图上的攻击范围如图中黑色区域所示：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1881.png) \n\n如果在地图中的灰色所标识的平原上部署一支炮兵部队，则图中的黑色的网格表示它能够攻击到的区域：沿横向左右各两格，沿纵向上下各两格。\n\n图上其它白色网格均攻击不到。从图上可见炮兵的攻击范围不受地形的影响。\n\n现在，将军们规划如何部署炮兵部队，在防止误伤的前提下（保证任何两支炮兵部队之间不能互相攻击，即任何一支炮兵部队都不在其他支炮兵部队的攻击范围内），在整个地图区域内最多能够摆放多少我军的炮兵部队。\n\n", "inputFormat": "第一行包含两个由空格分割开的正整数，分别表示 $N$ 和 $M$。\n\n接下来的 $N$ 行，每一行含有连续的 $M$ 个字符，按顺序表示地图中每一行的数据。\n", "outputFormat": "一行一个整数，表示最多能摆放的炮兵部队的数量。\n", "hint": "对于 $100\\%$ 的数据，$1 \\leq N\\le 100$，$1 \\leq M\\le 10$，保证字符仅包含 `P` 与 `H`。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2001] Artillery Positions", "background": "", "description": "The generals at headquarters plan to deploy their artillery units on an $N\\times M$ grid map.\n\nAn $N\\times M$ map consists of $N$ rows and $M$ columns. Each cell may be mountain terrain (denoted by $\\texttt{H}$) or plain terrain (denoted by $\\texttt{P}$), as shown below.\n\nAt most one artillery unit can be placed on each plain cell (artillery cannot be placed on mountains). The attack range of one artillery unit is shown by the black area in the figure:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1881.png) \n\nIf an artillery unit is deployed on the gray plain cell, then the black cells in the figure mark the area it can attack: two cells to the left and right horizontally, and two cells up and down vertically.\n\nAll other white cells in the figure are out of range. As can be seen, the artillery’s attack range is not affected by terrain.\n\nNow the generals are planning how to deploy the artillery units. Under the constraint of preventing friendly fire (ensuring that no two artillery units can attack each other, i.e., no artillery unit lies within the attack range of any other), determine the maximum number of our artillery units that can be placed on the entire map.", "inputFormat": "The first line contains two positive integers separated by a space, representing $N$ and $M$.\n\nThe next $N$ lines each contain exactly $M$ consecutive characters, in order representing each row of the map.", "outputFormat": "Output a single integer on one line, the maximum number of artillery units that can be placed.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\leq N \\le 100$, $1 \\leq M \\le 10$. The characters are guaranteed to contain only `P` and `H`.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2001] 炮兵阵地", "background": "", "description": "司令部的将军们打算在 $N\\times M$ 的网格地图上部署他们的炮兵部队。\n\n一个 $N\\times M$ 的地图由 $N$ 行 $M$ 列组成，地图的每一格可能是山地（用 $\\texttt{H}$ 表示），也可能是平原（用 $\\texttt{P}$ 表示），如下图。\n\n在每一格平原地形上最多可以布置一支炮兵部队（山地上不能够部署炮兵部队）；一支炮兵部队在地图上的攻击范围如图中黑色区域所示：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1881.png) \n\n如果在地图中的灰色所标识的平原上部署一支炮兵部队，则图中的黑色的网格表示它能够攻击到的区域：沿横向左右各两格，沿纵向上下各两格。\n\n图上其它白色网格均攻击不到。从图上可见炮兵的攻击范围不受地形的影响。\n\n现在，将军们规划如何部署炮兵部队，在防止误伤的前提下（保证任何两支炮兵部队之间不能互相攻击，即任何一支炮兵部队都不在其他支炮兵部队的攻击范围内），在整个地图区域内最多能够摆放多少我军的炮兵部队。\n\n", "inputFormat": "第一行包含两个由空格分割开的正整数，分别表示 $N$ 和 $M$。\n\n接下来的 $N$ 行，每一行含有连续的 $M$ 个字符，按顺序表示地图中每一行的数据。\n", "outputFormat": "一行一个整数，表示最多能摆放的炮兵部队的数量。\n", "hint": "对于 $100\\%$ 的数据，$1 \\leq N\\le 100$，$1 \\leq M\\le 10$，保证字符仅包含 `P` 与 `H`。", "locale": "zh-CN"}}}
{"pid": "P2705", "type": "P", "difficulty": 1, "samples": [["2 3 100 400 200", "1400"], ["2 3 100 400 300", "1600"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "小球", "background": "", "description": "有 $R$ 个红色盒子和 $B$ 个蓝色盒子，还有 $R$ 个红色小球和 $B$ 个蓝色小球。每个盒子只能装一个小球，每个小球都要放在一个盒子里。\n\n- 如果把一个红色小球放在一个红色盒子里，那么得分是 $C$。\n- 如果把一个蓝色小球放在一个蓝色盒子里，那么得分是 $D$。\n- 如果把一个红色小球放在一个蓝色盒子里，那么得分是 $E$。\n- 如果把一个蓝色小球放在一个红色盒子里，那么得分也是 $E$。\n\n现在给出 $R,B,C,D,E$。应该如何放置这些小球进盒子，才能使得总得分最大？输出最大的总得分。\n", "inputFormat": "输入共一行 $5$ 个整数，分别是 $R,B,C,D,E$。\n", "outputFormat": "一个整数，表示最大总得分。\n", "hint": "### 数据范围\n\n对于全部数据，$1 \\le R \\le 100$，$1 \\le B \\le 100$，$-1000 \\le C,D,E \\le 1000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Balls", "background": "", "description": "There are $R$ red boxes and $B$ blue boxes, and also $R$ red balls and $B$ blue balls. Each box can contain at most one ball, and every ball must be placed in a box.\n\n- If a red ball is placed in a red box, the score is $C$.\n- If a blue ball is placed in a blue box, the score is $D$.\n- If a red ball is placed in a blue box, the score is $E$.\n- If a blue ball is placed in a red box, the score is also $E$.\n\nNow given $R,B,C,D,E$. How should we place the balls into the boxes to maximize the total score? Output the maximum total score.", "inputFormat": "A single line with $5$ integers, which are $R,B,C,D,E$.", "outputFormat": "A single integer, representing the maximum total score.", "hint": "### Constraints\n\nFor all testdata, $1 \\le R \\le 100$, $1 \\le B \\le 100$, $-1000 \\le C,D,E \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小球", "background": "", "description": "有 $R$ 个红色盒子和 $B$ 个蓝色盒子，还有 $R$ 个红色小球和 $B$ 个蓝色小球。每个盒子只能装一个小球，每个小球都要放在一个盒子里。\n\n- 如果把一个红色小球放在一个红色盒子里，那么得分是 $C$。\n- 如果把一个蓝色小球放在一个蓝色盒子里，那么得分是 $D$。\n- 如果把一个红色小球放在一个蓝色盒子里，那么得分是 $E$。\n- 如果把一个蓝色小球放在一个红色盒子里，那么得分也是 $E$。\n\n现在给出 $R,B,C,D,E$。应该如何放置这些小球进盒子，才能使得总得分最大？输出最大的总得分。\n", "inputFormat": "输入共一行 $5$ 个整数，分别是 $R,B,C,D,E$。\n", "outputFormat": "一个整数，表示最大总得分。\n", "hint": "### 数据范围\n\n对于全部数据，$1 \\le R \\le 100$，$1 \\le B \\le 100$，$-1000 \\le C,D,E \\le 1000$。\n", "locale": "zh-CN"}}}
{"pid": "P2706", "type": "P", "difficulty": 4, "samples": [["3 4\n1 2 3 4\n5 0 6 3\n10 3 4 0", "17\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["枚举", "前缀和", "单调栈"], "title": "巧克力", "background": "王 7 的生日到了，他的弟弟准备送他巧克力。", "description": "有一个被分成 $n\\times m$ 格的巧克力盒，在 $(i,j)$ 的位置上有 $a_{i,j}$ 块巧克力。就在送出它的前一天晚上，有老鼠夜袭巧克力盒，某些位置上被洗劫并且穿了洞。所以，你——王 7 的弟弟王 9，必须从这个满目苍夷的盒子中切割出一个矩形巧克力盒，其中不能有被老鼠洗劫过的格子且使这个盒子里的巧克力尽量多。", "inputFormat": "第一行有两个整数 $n,m$。第 $i+1$ 行的第 $j$ 个数表示 $a_{i,j}$。如果这个数为 $0$，则表示这个位置的格子被洗劫过。", "outputFormat": "输出最大巧克力数。", "hint": "**样例解释**\n\n第三行前三列 `10 3 4` 组成的矩形的巧克力数最大。\n\n**数据范围**\n\n对于全部的数据，$1\\le n,m\\le 300$，$0\\le a_{i,j} \\le 255$。", "locale": "zh-CN", "translations": {"en": {"title": "Chocolate", "background": "Wang 7's birthday has arrived, and his younger brother plans to give him chocolate.", "description": "There is a chocolate box divided into $n \\times m$ cells; at position $(i, j)$ there are $a_{i,j}$ pieces of chocolate. On the night before gifting it, mice raided the box: some cells were looted and now have holes. So you—Wang 7's younger brother, Wang 9—must cut out a rectangular chocolate box from this battered box, such that it contains no looted cells and the total number of chocolates inside is as large as possible.", "inputFormat": "The first line contains two integers $n, m$. In line $i+1$, the $j$-th number denotes $a_{i,j}$. If this number is $0$, it means the cell at that position was looted.", "outputFormat": "Output the maximum number of chocolates.", "hint": "**Example Explanation**\n\nThe first three cells in the third row `10 3 4` form the rectangle with the maximum number of chocolates.\n\n**Constraints**\n\nFor all the testdata, $1 \\le n, m \\le 300$, $0 \\le a_{i,j} \\le 255$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "巧克力", "background": "王 7 的生日到了，他的弟弟准备送他巧克力。", "description": "有一个被分成 $n\\times m$ 格的巧克力盒，在 $(i,j)$ 的位置上有 $a_{i,j}$ 块巧克力。就在送出它的前一天晚上，有老鼠夜袭巧克力盒，某些位置上被洗劫并且穿了洞。所以，你——王 7 的弟弟王 9，必须从这个满目苍夷的盒子中切割出一个矩形巧克力盒，其中不能有被老鼠洗劫过的格子且使这个盒子里的巧克力尽量多。", "inputFormat": "第一行有两个整数 $n,m$。第 $i+1$ 行的第 $j$ 个数表示 $a_{i,j}$。如果这个数为 $0$，则表示这个位置的格子被洗劫过。", "outputFormat": "输出最大巧克力数。", "hint": "**样例解释**\n\n第三行前三列 `10 3 4` 组成的矩形的巧克力数最大。\n\n**数据范围**\n\n对于全部的数据，$1\\le n,m\\le 300$，$0\\le a_{i,j} \\le 255$。", "locale": "zh-CN"}}}
{"pid": "P2707", "type": "P", "difficulty": 5, "samples": [["2 4\n50 2\n40 1", "171"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "堆", "洛谷原创"], "title": "Facer 帮父亲", "background": "Facer 可是一个孝顺的孩纸呦\n", "description": "Facer 的父亲是一名经理，现在总是垂头丧气的。\n\nFacer 问父亲，怎么啦？父亲说，公司出了点问题啊。\n\n公司管理着 $n$ 个风景点，每个风景点都有不少人来参观。\n\n可是现在！人民投诉票价太高了，他不得不调整票价。\n\n具体来说，第 $i$ 个景点如果票价是 $x$，来的人数就是 $\\max( (a_i - b_i\\times x),0 )$。\n\n你需要分配每个景点的门票，使得所有景点的门票总价之和不超过 $k$，求最大的收益。\n", "inputFormat": "第一行两个整数 $n, k$。\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$。\n", "outputFormat": "一行，表示最大的收益。\n", "hint": "样例解释：\n\n景点 $1$ 票价 $3$，景点 $2$ 票价 $1$。\n\n景点 $1$ 人数：$50 - 3\\times 2 = 44$，收益：$132$。\n\n景点 $2$ 人数：$40 - 1\\times 1 = 39$，收益：$39$。\n\n总收益为 $171$。\n\n\n- 对于 $10\\%$ 的数据，$ 1 \\le n \\le 5 , 1 \\le k \\le 5$；\n- 对于 $30\\%$ 的数据，$ 1 \\le n \\le 100, 1 \\le k \\le 100$；\n- 对于 $60\\%$ 的数据，$ 1 \\le n \\le 2000, 1 \\le k \\le 2000$；\n- 对于 $100\\%$ 的数据，$ 1 \\le n \\le 100000, 1 \\le k \\le 100000,1 \\le a_i , b_i \\le 100000$。\n\n\n鸣谢 zhouyonglong 提供解法。", "locale": "zh-CN", "translations": {"en": {"title": "Facer Helps His Father", "background": "Facer is a very filial child.", "description": "Facer's father is a manager and is now always dejected.\n\nFacer asked his father, what's wrong? His father said, the company has a problem.\n\nThe company manages $n$ scenic spots, each of which has many visitors.\n\nBut now, people complain that the ticket prices are too high, so he has to adjust the prices.\n\nSpecifically, for the $i$-th scenic spot, if the ticket price is $x$, the number of visitors is $\\max( (a_i - b_i\\times x),0 )$.\n\nYou need to assign the ticket price for each scenic spot such that the sum of ticket prices over all scenic spots does not exceed $k$, and find the maximum revenue.", "inputFormat": "The first line contains two integers $n, k$.\n\nThen follow $n$ lines, each containing two integers $a_i, b_i$.", "outputFormat": "One line, indicating the maximum revenue.", "hint": "Sample explanation:\n\nScenic spot $1$ ticket price is $3$, scenic spot $2$ ticket price is $1$.\n\nScenic spot $1$ visitors: $50 - 3\\times 2 = 44$, revenue: $132$.\n\nScenic spot $2$ visitors: $40 - 1\\times 1 = 39$, revenue: $39$.\n\nThe total revenue is $171$.\n\n- For $10\\%$ of the testdata, $1 \\le n \\le 5$, $1 \\le k \\le 5$.\n- For $30\\%$ of the testdata, $1 \\le n \\le 100$, $1 \\le k \\le 100$.\n- For $60\\%$ of the testdata, $1 \\le n \\le 2000$, $1 \\le k \\le 2000$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 100000$, $1 \\le k \\le 100000$, $1 \\le a_i, b_i \\le 100000$.\n\nThanks to zhouyonglong for providing the solution.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Facer 帮父亲", "background": "Facer 可是一个孝顺的孩纸呦\n", "description": "Facer 的父亲是一名经理，现在总是垂头丧气的。\n\nFacer 问父亲，怎么啦？父亲说，公司出了点问题啊。\n\n公司管理着 $n$ 个风景点，每个风景点都有不少人来参观。\n\n可是现在！人民投诉票价太高了，他不得不调整票价。\n\n具体来说，第 $i$ 个景点如果票价是 $x$，来的人数就是 $\\max( (a_i - b_i\\times x),0 )$。\n\n你需要分配每个景点的门票，使得所有景点的门票总价之和不超过 $k$，求最大的收益。\n", "inputFormat": "第一行两个整数 $n, k$。\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$。\n", "outputFormat": "一行，表示最大的收益。\n", "hint": "样例解释：\n\n景点 $1$ 票价 $3$，景点 $2$ 票价 $1$。\n\n景点 $1$ 人数：$50 - 3\\times 2 = 44$，收益：$132$。\n\n景点 $2$ 人数：$40 - 1\\times 1 = 39$，收益：$39$。\n\n总收益为 $171$。\n\n\n- 对于 $10\\%$ 的数据，$ 1 \\le n \\le 5 , 1 \\le k \\le 5$；\n- 对于 $30\\%$ 的数据，$ 1 \\le n \\le 100, 1 \\le k \\le 100$；\n- 对于 $60\\%$ 的数据，$ 1 \\le n \\le 2000, 1 \\le k \\le 2000$；\n- 对于 $100\\%$ 的数据，$ 1 \\le n \\le 100000, 1 \\le k \\le 100000,1 \\le a_i , b_i \\le 100000$。\n\n\n鸣谢 zhouyonglong 提供解法。", "locale": "zh-CN"}}}
{"pid": "P2708", "type": "P", "difficulty": 2, "samples": [["10", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "字符串", "搜索"], "title": "硬币翻转", "background": "", "description": "有很多个硬币摆在一行，有正面朝上的，也有背面朝上的。正面朝上的用 $1$ 表示，背面朝上的用 $0$ 表示。\n\n现在要求从这行的第一个硬币开始，将**从第一个硬币开始的前若干个硬币**同时翻面，求如果要将所有硬币翻到正面朝上，最少要进行这样的操作多少次？\n", "inputFormat": "一个字符串，由 $0$ 和 $1$ 组成，表示硬币的初始状态。", "outputFormat": "一个整数，表示要翻转的最少次数。\n", "hint": "### 样例解释\n\n- 第 $1$ 次翻转：把第一个硬币翻到反面，字符串为 $00$；\n- 第 $2$ 次翻转：把第一、二个硬币一起翻到正面，字符串为 $11$，翻转完成，输出 $2$。\n\n### 数据范围\n\n记 $n$ 表示硬币的总个数，\n\n- 对于 $20\\%$ 的数据，$1\\le n\\leq10$；\n- 对于 $50\\%$ 的数据，$1\\le n\\leq10^4$；\n- 对于 $100\\%$ 的数据，$1\\le n\\leq10^6$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Coin Flipping", "background": "", "description": "There are many coins placed in a row. Heads-up is represented by $1$, and tails-up is represented by $0$.\n\nStarting from the first coin in the row, in each operation you must flip the first several coins simultaneously, i.e., choose some $k \\ge 1$ and flip the first $k$ coins. What is the minimum number of such operations needed to make all coins heads-up?", "inputFormat": "A string consisting of $0$ and $1$, representing the initial state of the coins.", "outputFormat": "An integer, the minimum number of flips required.", "hint": "### Sample Explanation\n\nFor example, for input 10:\n- The $1$-st flip: flip the first coin to tails; the string becomes 00.\n- The $2$-nd flip: flip the first and second coins together to heads; the string becomes 11. Flipping is complete, so the output is $2$.\n\n### Constraints\n\nLet $n$ be the total number of coins.\n\n- For $20\\%$ of the testdata, $1\\le n\\leq10$.\n- For $50\\%$ of the testdata, $1\\le n\\leq10^4$.\n- For $100\\%$ of the testdata, $1\\le n\\leq10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "硬币翻转", "background": "", "description": "有很多个硬币摆在一行，有正面朝上的，也有背面朝上的。正面朝上的用 $1$ 表示，背面朝上的用 $0$ 表示。\n\n现在要求从这行的第一个硬币开始，将**从第一个硬币开始的前若干个硬币**同时翻面，求如果要将所有硬币翻到正面朝上，最少要进行这样的操作多少次？\n", "inputFormat": "一个字符串，由 $0$ 和 $1$ 组成，表示硬币的初始状态。", "outputFormat": "一个整数，表示要翻转的最少次数。\n", "hint": "### 样例解释\n\n- 第 $1$ 次翻转：把第一个硬币翻到反面，字符串为 $00$；\n- 第 $2$ 次翻转：把第一、二个硬币一起翻到正面，字符串为 $11$，翻转完成，输出 $2$。\n\n### 数据范围\n\n记 $n$ 表示硬币的总个数，\n\n- 对于 $20\\%$ 的数据，$1\\le n\\leq10$；\n- 对于 $50\\%$ 的数据，$1\\le n\\leq10^4$；\n- 对于 $100\\%$ 的数据，$1\\le n\\leq10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P2709", "type": "P", "difficulty": 5, "samples": [["6 4 3\n1 3 2 1 1 3\n1 4\n2 6\n3 5\n5 6", "6\n9\n5\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["莫队", "模板题"], "title": "【模板】莫队 / 小B的询问", "background": "", "description": "小 B 有一个长为 $n$ 的整数序列 $a$，值域为 $[1,k]$。  \n他一共有 $m$ 个询问，每个询问给定一个区间 $[l,r]$，求：  \n$$\\sum\\limits_{i=1}^k c_i^2$$\n\n其中 $c_i$ 表示数字 $i$ 在 $[l,r]$ 中的出现次数。\n\n小 B 请你帮助他回答询问。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n第二行 $n$ 个整数，表示小 B 的序列。\n\n接下来的 $m$ 行，每行两个整数 $l,r$。", "outputFormat": "输出 $m$ 行，每行一个整数，对应一个询问的答案。", "hint": "【数据范围】   \n对于 $100\\%$ 的数据，$1\\le n,m,k \\le 5\\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Mo's Algorithm / Xiao B's Queries", "background": "", "description": "Xiao B has an integer sequence $a$ of length $n$, with values in $[1, k]$.\nHe has $m$ queries. For each query, given an interval $[l, r]$, compute:\n$$\\sum\\limits_{i=1}^k c_i^2$$\nwhere $c_i$ denotes the number of occurrences of the number $i$ in $[l, r]$.\n\nPlease help Xiao B answer the queries.", "inputFormat": "The first line contains three integers $n, m, k$.\n\nThe second line contains $n$ integers, representing Xiao B's sequence.\n\nEach of the next $m$ lines contains two integers $l, r$.", "outputFormat": "Output $m$ lines. Each line contains one integer, which is the answer to a query.", "hint": "Constraints  \nFor $100\\%$ of the testdata, $1 \\le n, m, k \\le 5 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】莫队 / 小B的询问", "background": "", "description": "小 B 有一个长为 $n$ 的整数序列 $a$，值域为 $[1,k]$。  \n他一共有 $m$ 个询问，每个询问给定一个区间 $[l,r]$，求：  \n$$\\sum\\limits_{i=1}^k c_i^2$$\n\n其中 $c_i$ 表示数字 $i$ 在 $[l,r]$ 中的出现次数。\n\n小 B 请你帮助他回答询问。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n第二行 $n$ 个整数，表示小 B 的序列。\n\n接下来的 $m$ 行，每行两个整数 $l,r$。", "outputFormat": "输出 $m$ 行，每行一个整数，对应一个询问的答案。", "hint": "【数据范围】   \n对于 $100\\%$ 的数据，$1\\le n,m,k \\le 5\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2710", "type": "P", "difficulty": 6, "samples": [["9 8\n2 -6 3 5 1 -5 -3 6 3\nGET-SUM 5 4\nMAX-SUM 1 9\nINSERT 8 3 -5 7 2\nDELETE 12 1\nMAKE-SAME 3 3 2\nREVERSE 3 6\nGET 5\nMAX-SUM 1 11", "-1\n10\n-5\n10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["平衡树", "洛谷原创", "洛谷比赛"], "title": "数列", "background": null, "description": "维护一个数列,共 $7$ 种操作:\n\nI. `INSERT x n a1 a2 .. an` 在第 $x$ 个数后插入 $n$ 个数分别为 $a_1\\dots a_n$。\n\nII. `DELETE x n` 删除第 $x$ 个数开始的 $n$ 个数。\n\nIII. `REVERSE x n` 翻转第 $x$ 个数开始的 $n$ 个数的区间。\n\nIV. `MAKE-SAME x n t` 将第 $x$ 个数开始的 $n$ 个数统一改为 $t$。\n\nV. `GET-SUM x n` 输出第 $x$ 个数开始的 $n$ 个数的和。\n\nVI. `GET x` 输出第 $x$ 个数的值。\n\nVII. `MAX-SUM x n` 输出第 $x$ 个数开始的 $n$ 个数的非空最大连续子序列和。", "inputFormat": "第一行为 $N$，$M$，$N$ 表示初始序列中数的个数，$M$ 表示操作的个数。\n\n第二行为 $N$ 个数 $A_1\\dots A_n$，表示初始序列。\n\n第三行到第 $M+2 $行，每行一个操作。", "outputFormat": "输出每个`GET-SUM`，`GET`，`MAX-SUM`操作的结果。", "hint": "共 $20$ 组数据，每组数据随机生成，  \n保证每个时刻数列里的数不超过 $200000$ 个，  \n任何一个输入的数字均在 $-1000\\sim1000$之间，结果不超过 $2^{30}$。\n\n第 $1\\sim2$ 组 $\\quad1\\le N\\le 5$，$1\\le M\\le 10$。\n\n第 $3\\sim4$ 组 $\\quad1\\le N\\le 10$，$1\\le M\\le 20$。\n\n第 $5\\sim6$ 组 $\\quad1\\le N \\le 20$，$1\\le M\\le 50$。\n\n第 $7\\sim8$ 组 $\\quad1\\le N\\le 50$，$1\\le M\\le 100$。\n\n第 $9\\sim10$ 组 $\\quad1\\le N\\le 100$，$1\\le M\\le 500$。\n\n第 $11\\sim12$ 组 $\\quad 1\\le N\\le 1000$，$1\\le M\\le 1000$。\n\n第 $13\\sim14$ 组 $\\quad1\\le N\\le 5000$，$1\\le M\\le 2000$。\n\n第 $15\\sim16$ 组 $\\quad1\\le N\\le 10^4$，$1\\le M\\le 5000$。\n\n第 $17\\sim18$ 组 $\\quad1\\le N\\le 10^5$，$1\\le M\\le 10^4$。\n\n第 $19\\sim20$ 组 $\\quad1\\le N\\le 2\\times 10^5$，$1\\le M\\le 2\\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "", "description": "Maintain a sequence with a total of $7$ operations:\n\nI. `INSERT x n a1 a2 .. an` Insert $n$ numbers $a_1 \\dots a_n$ after the $x$-th number.\n\nII. `DELETE x n` Delete $n$ numbers starting from the $x$-th number.\n\nIII. `REVERSE x n` Reverse the interval of $n$ numbers starting from the $x$-th number.\n\nIV. `MAKE-SAME x n t` Set the $n$ numbers starting from the $x$-th number all to $t$.\n\nV. `GET-SUM x n` Output the sum of the $n$ numbers starting from the $x$-th number.\n\nVI. `GET x` Output the value of the $x$-th number.\n\nVII. `MAX-SUM x n` Output the maximum subarray sum within the $n$ numbers starting from the $x$-th number.", "inputFormat": "The first line contains $N$, $M$, where $N$ is the number of elements in the initial sequence, and $M$ is the number of operations.\n\nThe second line contains $N$ numbers $A_1 \\dots A_N$, representing the initial sequence.\n\nFrom the third line to line $M+2$, each line contains one operation.", "outputFormat": "Output the result of each `GET-SUM`, `GET`, and `MAX-SUM` operation.", "hint": "There are $20$ groups of testdata, each randomly generated.  \nIt is guaranteed that at any time the sequence contains at most $200000$ numbers.  \nEvery input integer is in $[-1000, 1000]$, and any result does not exceed $2^{30}$.\n\nGroups 1–2: $1 \\le N \\le 5$, $1 \\le M \\le 10$.\n\nGroups 3–4: $1 \\le N \\le 10$, $1 \\le M \\le 20$.\n\nGroups 5–6: $1 \\le N \\le 20$, $1 \\le M \\le 50$.\n\nGroups 7–8: $1 \\le N \\le 50$, $1 \\le M \\le 100$.\n\nGroups 9–10: $1 \\le N \\le 100$, $1 \\le M \\le 500$.\n\nGroups 11–12: $1 \\le N \\le 1000$, $1 \\le M \\le 1000$.\n\nGroups 13–14: $1 \\le N \\le 5000$, $1 \\le M \\le 2000$.\n\nGroups 15–16: $1 \\le N \\le 10^4$, $1 \\le M \\le 5000$.\n\nGroups 17–18: $1 \\le N \\le 10^5$, $1 \\le M \\le 10^4$.\n\nGroups 19–20: $1 \\le N \\le 2 \\times 10^5$, $1 \\le M \\le 2 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列", "background": null, "description": "维护一个数列,共 $7$ 种操作:\n\nI. `INSERT x n a1 a2 .. an` 在第 $x$ 个数后插入 $n$ 个数分别为 $a_1\\dots a_n$。\n\nII. `DELETE x n` 删除第 $x$ 个数开始的 $n$ 个数。\n\nIII. `REVERSE x n` 翻转第 $x$ 个数开始的 $n$ 个数的区间。\n\nIV. `MAKE-SAME x n t` 将第 $x$ 个数开始的 $n$ 个数统一改为 $t$。\n\nV. `GET-SUM x n` 输出第 $x$ 个数开始的 $n$ 个数的和。\n\nVI. `GET x` 输出第 $x$ 个数的值。\n\nVII. `MAX-SUM x n` 输出第 $x$ 个数开始的 $n$ 个数的非空最大连续子序列和。", "inputFormat": "第一行为 $N$，$M$，$N$ 表示初始序列中数的个数，$M$ 表示操作的个数。\n\n第二行为 $N$ 个数 $A_1\\dots A_n$，表示初始序列。\n\n第三行到第 $M+2 $行，每行一个操作。", "outputFormat": "输出每个`GET-SUM`，`GET`，`MAX-SUM`操作的结果。", "hint": "共 $20$ 组数据，每组数据随机生成，  \n保证每个时刻数列里的数不超过 $200000$ 个，  \n任何一个输入的数字均在 $-1000\\sim1000$之间，结果不超过 $2^{30}$。\n\n第 $1\\sim2$ 组 $\\quad1\\le N\\le 5$，$1\\le M\\le 10$。\n\n第 $3\\sim4$ 组 $\\quad1\\le N\\le 10$，$1\\le M\\le 20$。\n\n第 $5\\sim6$ 组 $\\quad1\\le N \\le 20$，$1\\le M\\le 50$。\n\n第 $7\\sim8$ 组 $\\quad1\\le N\\le 50$，$1\\le M\\le 100$。\n\n第 $9\\sim10$ 组 $\\quad1\\le N\\le 100$，$1\\le M\\le 500$。\n\n第 $11\\sim12$ 组 $\\quad 1\\le N\\le 1000$，$1\\le M\\le 1000$。\n\n第 $13\\sim14$ 组 $\\quad1\\le N\\le 5000$，$1\\le M\\le 2000$。\n\n第 $15\\sim16$ 组 $\\quad1\\le N\\le 10^4$，$1\\le M\\le 5000$。\n\n第 $17\\sim18$ 组 $\\quad1\\le N\\le 10^5$，$1\\le M\\le 10^4$。\n\n第 $19\\sim20$ 组 $\\quad1\\le N\\le 2\\times 10^5$，$1\\le M\\le 2\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2712", "type": "P", "difficulty": 3, "samples": [["5\n1 1 2\n2 1 1\n3 1 7\n4 1 1\n5 0\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["拓扑排序"], "title": "摄像头", "background": null, "description": "食品店里有 $n$ 个摄像头，这种摄像头很笨拙，只能拍摄到固定位置。现有一群胆大妄为的松鼠想要抢劫食品店，为了不让摄像头拍下他们犯罪的证据，他们抢劫前的第一件事就是砸毁这些摄像头。\n\n为了便于砸毁摄像头，松鼠歹徒们把所有摄像头和摄像头能监视到的地方统一编号，一个摄像头能被砸毁的条件是该摄像头所在位置不被其他摄像头监视。\n\n现在你的任务是帮松鼠们计算是否可以砸掉所有摄像头，如不能则输出还没砸掉的摄像头的数量。", "inputFormat": "第 $1$ 行，一个整数 $n$，表示摄像头的个数。\n\n第 $2$ 到 $n+1$ 行是摄像头的信息，包括：摄像头的位置 $x$，以及这个摄像头可以监视到的位置数 $m$，之后 $m$ 个数 $y$ 是此摄像头可以监视到的位置（砸了这些摄像头之后自然这些位置就监视不到了）。", "outputFormat": "若可以砸掉所有摄像头则输出“ $\\texttt{YES}$”，否则输出还没砸掉的摄像头的数量（不带引号）。", "hint": "$1 \\leq n \\leq 100$。\n\n$0 \\leq m \\leq 100$。\n\n$0 \\leq x,y \\leq 500$。", "locale": "zh-CN", "translations": {"en": {"title": "Cameras", "background": "", "description": "There are $n$ cameras in a grocery store. These cameras are clumsy and can only capture fixed positions. A group of bold squirrels wants to rob the store. To avoid being recorded, the first thing they plan to do is to destroy the cameras.\n\nTo make it easier to destroy the cameras, the squirrels assign a unified set of IDs to all cameras and to all positions that any camera can monitor. A camera can be destroyed if and only if the position where it is located is not monitored by any other camera.\n\nYour task is to determine whether it is possible to destroy all cameras. If not, output the number of cameras that remain undestroyed.", "inputFormat": "The first line contains an integer $n$, the number of cameras.\n\nLines $2$ to $n+1$ describe the cameras. Each line contains the camera’s position $x$, the number of positions $m$ it can monitor, followed by $m$ numbers $y$ that are the positions this camera can monitor (once this camera is destroyed, these positions are naturally no longer monitored).", "outputFormat": "If it is possible to destroy all cameras, output $\\texttt{YES}$; otherwise, output the number of cameras that remain undestroyed (without quotes).", "hint": "Constraints\n\n- $1 \\leq n \\leq 100$.\n- $0 \\leq m \\leq 100$.\n- $0 \\leq x, y \\leq 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "摄像头", "background": null, "description": "食品店里有 $n$ 个摄像头，这种摄像头很笨拙，只能拍摄到固定位置。现有一群胆大妄为的松鼠想要抢劫食品店，为了不让摄像头拍下他们犯罪的证据，他们抢劫前的第一件事就是砸毁这些摄像头。\n\n为了便于砸毁摄像头，松鼠歹徒们把所有摄像头和摄像头能监视到的地方统一编号，一个摄像头能被砸毁的条件是该摄像头所在位置不被其他摄像头监视。\n\n现在你的任务是帮松鼠们计算是否可以砸掉所有摄像头，如不能则输出还没砸掉的摄像头的数量。", "inputFormat": "第 $1$ 行，一个整数 $n$，表示摄像头的个数。\n\n第 $2$ 到 $n+1$ 行是摄像头的信息，包括：摄像头的位置 $x$，以及这个摄像头可以监视到的位置数 $m$，之后 $m$ 个数 $y$ 是此摄像头可以监视到的位置（砸了这些摄像头之后自然这些位置就监视不到了）。", "outputFormat": "若可以砸掉所有摄像头则输出“ $\\texttt{YES}$”，否则输出还没砸掉的摄像头的数量（不带引号）。", "hint": "$1 \\leq n \\leq 100$。\n\n$0 \\leq m \\leq 100$。\n\n$0 \\leq x,y \\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P2713", "type": "P", "difficulty": 5, "samples": [["5\n100 90 66 99 10\n7\nM 1 5\nK 1\nK 1\nM 2 3\nM 3 4\nK 5\nK 4", "10\n100\n0\n66"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["可并堆", "洛谷比赛"], "title": "罗马游戏", "background": null, "description": "罗马皇帝很喜欢玩杀人游戏。他的军队里面有 $n$ 个士兵，每个士兵都是一个独立的团。最近举行了一次平面几何测试，每个士兵都得到了一个分数。皇帝很喜欢平面几何，他对那些得分很低的士兵嗤之以鼻。\n\n他决定玩这样一个游戏。 它可以发两种命令：\n\n- `M i j` 把 $i$ 所在的团和 $j$ 所在的团合并成一个团。如果 $i,j$ 有一个士兵是死人，那么就忽略该命令。  \n- `K i` 把 $i$ 所在的团里面得分最低的士兵杀死。如果 $i$ 这个士兵已经死了，这条命令就忽略。\n\n皇帝希望他每发布一条 `K i` 命令，下面的将军就把被杀的士兵的分数报上来 \n（如果这条命令被忽略，那么就报  $0$ 分）。 \n\n保证**士兵的分数互不相同**。", "inputFormat": "第一行一个整数  $n$，表示士兵数。  \n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots a_n$，其中 $a_i$ 表示编号为 $i$ 的士兵的分数。\n\n第三行一个整数 $m$。\n\n第   $3+i$ 行描述第 $i$ 条命令。命令为如下两种形式：`M i j` 或 `K i`。", "outputFormat": "如果命令是 `K i`，对应的请输出被杀士兵的分数（如果这个人不存在，就输出  $0$）。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le m\\le 10^5$，$0\\le a_i\\le 10^7$，**注意测试数据中 `M i j` 的 $i,j$ 可能在同一个团中。**", "locale": "zh-CN", "translations": {"en": {"title": "Roman Game", "background": "", "description": "The Roman emperor enjoys a killing game. His army has $n$ soldiers, and each soldier initially forms an independent group. A recent plane geometry test was held, and each soldier received a score. The emperor loves plane geometry and despises soldiers with low scores.\n\nHe decides to play the following game. He can issue two types of commands:\n\n- `M i j` Merge the groups containing $i$ and $j$ into one group. If either $i$ or $j$ is already dead, ignore this command.\n- `K i` Kill the lowest-scoring soldier in the group containing $i$. If soldier $i$ is already dead, ignore this command.\n\nAfter each `K i` command, the general should report the score of the soldier who was killed (if the command is ignored, report $0$).\n\nIt is guaranteed that all soldiers’ scores are pairwise distinct.", "inputFormat": "The first line contains an integer $n$, the number of soldiers.\n\nThe second line contains $n$ integers $a_1, a_2, \\ldots, a_n$, where $a_i$ is the score of the soldier with index $i$.\n\nThe third line contains an integer $m$.\n\nThe $(3 + i)$-th line describes the $i$-th command, which is either `M i j` or `K i`.", "outputFormat": "For each `K i` command, output the score of the killed soldier (if such a person does not exist, output $0$).", "hint": "Constraints:\n- For $100\\%$ of the testdata, $1 \\le n \\le 10^6$, $1 \\le m \\le 10^5$, $0 \\le a_i \\le 10^7$. Note: In the testdata, in the command `M i j`, $i$ and $j$ may already be in the same group.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "罗马游戏", "background": null, "description": "罗马皇帝很喜欢玩杀人游戏。他的军队里面有 $n$ 个士兵，每个士兵都是一个独立的团。最近举行了一次平面几何测试，每个士兵都得到了一个分数。皇帝很喜欢平面几何，他对那些得分很低的士兵嗤之以鼻。\n\n他决定玩这样一个游戏。 它可以发两种命令：\n\n- `M i j` 把 $i$ 所在的团和 $j$ 所在的团合并成一个团。如果 $i,j$ 有一个士兵是死人，那么就忽略该命令。  \n- `K i` 把 $i$ 所在的团里面得分最低的士兵杀死。如果 $i$ 这个士兵已经死了，这条命令就忽略。\n\n皇帝希望他每发布一条 `K i` 命令，下面的将军就把被杀的士兵的分数报上来 \n（如果这条命令被忽略，那么就报  $0$ 分）。 \n\n保证**士兵的分数互不相同**。", "inputFormat": "第一行一个整数  $n$，表示士兵数。  \n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots a_n$，其中 $a_i$ 表示编号为 $i$ 的士兵的分数。\n\n第三行一个整数 $m$。\n\n第   $3+i$ 行描述第 $i$ 条命令。命令为如下两种形式：`M i j` 或 `K i`。", "outputFormat": "如果命令是 `K i`，对应的请输出被杀士兵的分数（如果这个人不存在，就输出  $0$）。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le m\\le 10^5$，$0\\le a_i\\le 10^7$，**注意测试数据中 `M i j` 的 $i,j$ 可能在同一个团中。**", "locale": "zh-CN"}}}
{"pid": "P2714", "type": "P", "difficulty": 6, "samples": [["4\n2 3 4 5\n4\n2 4 6 8\n7\n2 3 4 5 7 6 8  ", "1\n0\n34\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "容斥原理"], "title": "四元组统计", "background": "", "description": "有 $n$ 个正整数 $a _ i$，你要统计有多少个四元组满足 $\\gcd(a _ i, a _ j, a _ k, a _ l) = 1$。\n", "inputFormat": "输入包含多组数据。  \n对于每组数据：第一行一个正整数 $n$，接下来一行 $n$ 个正整数 $a _ i$。\n", "outputFormat": "若干行，每行对应一个输入数据，表示满足要求的四元组的个数。\n", "hint": "对于 $30\\%$ 的数据，$4 ≤ n ≤ 10$，且数据组数不超过 $10$；\n\n对于 $100\\%$ 的数据，$4 ≤ n ≤ 10000$，$1 ≤ a _ i≤ 10000$，且数据组数不超过 $100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Counting Quadruples", "background": "", "description": "There are $n$ positive integers $a _ i$. You need to count how many quadruples satisfy $\\gcd(a _ i, a _ j, a _ k, a _ l) = 1$.", "inputFormat": "The input contains multiple testdata sets.\nFor each testdata set: the first line contains a positive integer $n$, followed by one line with $n$ positive integers $a _ i$.", "outputFormat": "Several lines, each corresponding to one testdata set, representing the number of quadruples that satisfy the requirement.", "hint": "For $30\\%$ of the testdata, $4 \\le n \\le 10$, and the number of testdata sets does not exceed $10$.\n\nFor $100\\%$ of the testdata, $4 \\le n \\le 10000$, $1 \\le a _ i \\le 10000$, and the number of testdata sets does not exceed $100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "四元组统计", "background": "", "description": "有 $n$ 个正整数 $a _ i$，你要统计有多少个四元组满足 $\\gcd(a _ i, a _ j, a _ k, a _ l) = 1$。\n", "inputFormat": "输入包含多组数据。  \n对于每组数据：第一行一个正整数 $n$，接下来一行 $n$ 个正整数 $a _ i$。\n", "outputFormat": "若干行，每行对应一个输入数据，表示满足要求的四元组的个数。\n", "hint": "对于 $30\\%$ 的数据，$4 ≤ n ≤ 10$，且数据组数不超过 $10$；\n\n对于 $100\\%$ 的数据，$4 ≤ n ≤ 10000$，$1 ≤ a _ i≤ 10000$，且数据组数不超过 $100$。\n", "locale": "zh-CN"}}}
{"pid": "P2715", "type": "P", "difficulty": 3, "samples": [["1+1    =                     ?", "2.00"], ["1-?                     =0", "1.00"], ["2*?=                         6", "3.00"], ["8/5=?", "1.60"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "ccj与zrz之在回家的路上", "background": "zrz走在回家了路上，突然很想上厕所，然后就冲到厕所门口，惊讶的发现门上有个算式。。。\n", "description": "给出一个算式（a\\*b=c或a/b=c或a+b=c或a-b=c）其中a，b，c是三个数字，但是其中有一个是问号，表示未知，请你求出未知的那一个量。\n", "inputFormat": "只有一行，一个算式（a\\*b=c或a/b=c或a+b=c或a-b=c），可能会有多余的空格\n", "outputFormat": "“?”代表的数字，保留2位小数。\n", "hint": "总长度小于200，所有数字和要求的数字均不会超过1000000000，也不会是负数。读入的数不会是小数，但答案有可能是\n", "locale": "zh-CN", "translations": {"en": {"title": "ccj and zrz on the Way Home", "background": "zrz was walking on the way home, suddenly really needed to use the restroom, rushed to the restroom door, and was surprised to find an equation on it.", "description": "Given an expression ($a*b=c$ or $a/b=c$ or $a+b=c$ or $a-b=c$) where $a$, $b$, and $c$ are three numbers, but one of them is a question mark '?', meaning unknown, please find the unknown value.", "inputFormat": "A single line containing an expression ($a*b=c$ or $a/b=c$ or $a+b=c$ or $a-b=c$), which may contain extra spaces.", "outputFormat": "The number represented by '?', formatted to 2 decimal places.", "hint": "The total length is less than 200. All numbers and the required number will not exceed 1000000000, and none are negative. The input numbers are integers (not decimals), but the answer may be a decimal.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "ccj与zrz之在回家的路上", "background": "zrz走在回家了路上，突然很想上厕所，然后就冲到厕所门口，惊讶的发现门上有个算式。。。\n", "description": "给出一个算式（a\\*b=c或a/b=c或a+b=c或a-b=c）其中a，b，c是三个数字，但是其中有一个是问号，表示未知，请你求出未知的那一个量。\n", "inputFormat": "只有一行，一个算式（a\\*b=c或a/b=c或a+b=c或a-b=c），可能会有多余的空格\n", "outputFormat": "“?”代表的数字，保留2位小数。\n", "hint": "总长度小于200，所有数字和要求的数字均不会超过1000000000，也不会是负数。读入的数不会是小数，但答案有可能是\n", "locale": "zh-CN"}}}
{"pid": "P2716", "type": "P", "difficulty": 5, "samples": [["3 5 7\n3 4 2 8 7\n6 5 2 4 6\n3 1 4 0 9", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["洛谷原创", "洛谷比赛"], "title": "和谐的雪花", "background": "没有背景\n", "description": "现在有 $n\\times m$ 个雪花，被放在了一个 $n\\ \\times m$ 的矩阵当中。每个雪花都有一个优美值。一个正方形的和谐度被定义为在这个正方形中雪花的最大优美值和最小优美值的差，和谐度越大这个正方形就越和谐。现在给出这个矩阵和一个非负整数 $k$，zzs 和 zzy 希望你能告诉他，在所有和谐度不小于 $k$ 的正方形中，边长最小的正方形的边长（即找到一个最小的边长 $a$，使得存在一个边长为 $a$ 的正方形它的和谐度不小于 $k$）。如果没有解，输出 $-1$。", "inputFormat": "第一行两个正整数和一个非负整数，$n,m$ 和 $k$。\n\n接下来 $n$ 行，每行 $m$ 个非负整数，表示题目中的矩阵。", "outputFormat": "如果有解，则输出一个正整数，表示答案。如果无解，则是 $-1$。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$1 \\le n,m \\le 20$；\n- 对于 $100\\%$ 的数据，$1 \\le n,m \\le 500$；\n- 对于 $100\\%$ 的数据，矩阵中所有数不超过 $100000$。", "locale": "zh-CN", "translations": {"en": {"title": "Harmonious Snowflakes", "background": "No background.", "description": "There are $n\\times m$ snowflakes placed in an $n\\times m$ matrix. Each snowflake has a beauty value. The harmony of a square is defined as the difference between the maximum beauty value and the minimum beauty value in that square. The greater the harmony value, the more harmonious the square is. Given this matrix and a non-negative integer $k$, zzs and zzy want you to tell them the smallest side length among all squares with harmony at least $k$ (that is, find the smallest side length $a$ such that there exists a square of side length $a$ whose harmony is at least $k$). If there is no solution, output $-1$.", "inputFormat": "The first line contains two positive integers and a non-negative integer, $n, m$ and $k$.\nThe next $n$ lines each contain $m$ non-negative integers, representing the matrix.", "outputFormat": "If there is a solution, output a single positive integer representing the answer. If there is no solution, output $-1$.", "hint": "Constraints\n\n- For $20\\%$ of the testdata, $1 \\le n, m \\le 20$.\n- For $100\\%$ of the testdata, $1 \\le n, m \\le 500$.\n- For $100\\%$ of the testdata, all numbers in the matrix do not exceed $100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "和谐的雪花", "background": "没有背景\n", "description": "现在有 $n\\times m$ 个雪花，被放在了一个 $n\\ \\times m$ 的矩阵当中。每个雪花都有一个优美值。一个正方形的和谐度被定义为在这个正方形中雪花的最大优美值和最小优美值的差，和谐度越大这个正方形就越和谐。现在给出这个矩阵和一个非负整数 $k$，zzs 和 zzy 希望你能告诉他，在所有和谐度不小于 $k$ 的正方形中，边长最小的正方形的边长（即找到一个最小的边长 $a$，使得存在一个边长为 $a$ 的正方形它的和谐度不小于 $k$）。如果没有解，输出 $-1$。", "inputFormat": "第一行两个正整数和一个非负整数，$n,m$ 和 $k$。\n\n接下来 $n$ 行，每行 $m$ 个非负整数，表示题目中的矩阵。", "outputFormat": "如果有解，则输出一个正整数，表示答案。如果无解，则是 $-1$。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$1 \\le n,m \\le 20$；\n- 对于 $100\\%$ 的数据，$1 \\le n,m \\le 500$；\n- 对于 $100\\%$ 的数据，矩阵中所有数不超过 $100000$。", "locale": "zh-CN"}}}
{"pid": "P2717", "type": "P", "difficulty": 4, "samples": [["3 2\n1\n2\n3\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["树状数组", "cdq 分治", "洛谷比赛"], "title": "寒假作业", "background": "zzs 和 zzy 正在被寒假作业折磨，然而他们有答案可以抄啊。\n", "description": "他们共有 $n$ 项寒假作业。zzy 给每项寒假作业都定义了一个疲劳值 $a_i$，表示抄这个作业所要花的精力。\n\nzzs 现在想要知道，有多少组连续的寒假作业的疲劳值的平均值不小于 $k$？\n\n简单地说，给定一个长度为 $n$ 的正整数序列 $\\{a_i\\}$，求出有多少个**连续**子序列的平均值不小于 $k$。\n", "inputFormat": "第一行是两个整数，分别表示序列长度 $n$ 和给定的参数 $k$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示序列的第 $i$ 个数字 $a_i$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n共有 $6$ 个连续的子序列，分别是 $(1)$、$(2)$、$(3)$、$(1,2)$、$(2,3)$、$(1,2,3)$，平均值分别为 $1$、$2$、$3$、$1.5$、$2.5$、$2$，其中平均值不小于 $2$ 的共有 $4$ 个。\n\n#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n \\leq 100$。\n- 对于 $50\\%$ 的数据，保证 $n \\leq 5000$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$1 \\leq a_i,k \\leq 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Winter Vacation Homework", "background": "zzs and zzy are being tormented by their winter vacation homework, but they have answers they can copy.", "description": "They have $n$ pieces of winter vacation homework. For each piece, zzy defined a fatigue value $a_i$, representing the effort required to copy that assignment.\n\nzzs wants to know how many contiguous groups of assignments have an average fatigue value not less than $k$.\n\nIn short, given a positive integer sequence of length $n$, $\\{a_i\\}$, count the number of **contiguous** subarrays whose average is not less than $k$.", "inputFormat": "The first line contains two integers, the sequence length $n$ and the given parameter $k$.\n\nThe second line contains $n$ integers, where the $i$-th integer is $a_i$.", "outputFormat": "Output one line with a single integer representing the answer.", "hint": "#### Sample 1 Explanation\n\nThere are $6$ contiguous subarrays: $(1)$, $(2)$, $(3)$, $(1,2)$, $(2,3)$, $(1,2,3)$. Their averages are $1$, $2$, $3$, $1.5$, $2.5$, $2$. Among them, there are $4$ whose average is not less than $2$.\n\n#### Constraints\n\n- For $20\\%$ of the testdata, it is guaranteed that $n \\leq 100$.\n- For $50\\%$ of the testdata, it is guaranteed that $n \\leq 5000$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^5$, $1 \\leq a_i, k \\leq 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "寒假作业", "background": "zzs 和 zzy 正在被寒假作业折磨，然而他们有答案可以抄啊。\n", "description": "他们共有 $n$ 项寒假作业。zzy 给每项寒假作业都定义了一个疲劳值 $a_i$，表示抄这个作业所要花的精力。\n\nzzs 现在想要知道，有多少组连续的寒假作业的疲劳值的平均值不小于 $k$？\n\n简单地说，给定一个长度为 $n$ 的正整数序列 $\\{a_i\\}$，求出有多少个**连续**子序列的平均值不小于 $k$。\n", "inputFormat": "第一行是两个整数，分别表示序列长度 $n$ 和给定的参数 $k$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示序列的第 $i$ 个数字 $a_i$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n共有 $6$ 个连续的子序列，分别是 $(1)$、$(2)$、$(3)$、$(1,2)$、$(2,3)$、$(1,2,3)$，平均值分别为 $1$、$2$、$3$、$1.5$、$2.5$、$2$，其中平均值不小于 $2$ 的共有 $4$ 个。\n\n#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n \\leq 100$。\n- 对于 $50\\%$ 的数据，保证 $n \\leq 5000$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$1 \\leq a_i,k \\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2719", "type": "P", "difficulty": 3, "samples": [["256", "0.9500"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "数学", "概率论"], "title": "搞笑世界杯", "background": "很久很久以后，一次世界杯。", "description": "随着世界杯小组赛的结束，法国、阿根廷等世界强队都纷纷被淘汰，让人心痛不已。于是有人组织了一场搞笑世界杯，将这些被淘汰的强队重新组织起来和世界杯一同比赛。你和你的朋友欣然去购买球票。不过搞笑世界杯的球票出售方式也很特别，它们只准备了两种球票。\n\n- A 类票——免费球票。\n- B 类票——双倍价钱球票。\n\n购买时由工作人员通过掷硬币决定，投到正面的买 A 类票，反面的买 B 类票。主办方总是准备了同样多的 A 类票和 B 类票。你和你的朋友十分幸运的排到了某场精彩比赛的最后两个位置。\n\n这时工作人员开始通过硬币售票。不过更为幸运的是当工作人员到你们面前时他发现已无需再掷硬币了，因为剩下的这两张票全是免费票。\n\n你和你的朋友在欣喜之余，想计算一下排在队尾的两个人同时拿到一种票的概率是多少（包括同时拿 A 类票或 B 类票）假设工作人员准备了 $2n$ 张球票，其中 $n$ 张 A 类票、$n$ 张 B 类票，并且排在队伍中的人每人必须且只能买一张球票（不管掷到的是该买 A 还是该买 B）。", "inputFormat": "输入只有一行一个整数，表示 $2n$。", "outputFormat": "输出只包含一行一个浮点数，为拿到同一种票的概率，精确到小数点后 4 位。", "hint": "## 数据规模与约定\n\n对全部的测试点，保证 $1 \\leq n \\leq 1250$。", "locale": "zh-CN", "translations": {"en": {"title": "Funny World Cup", "background": "A long, long time later, there was a World Cup.", "description": "After the World Cup group stage ended, world powerhouses such as France and Argentina were eliminated, which was heartbreaking. So someone organized a funny World Cup, regrouping these eliminated strong teams to compete alongside the World Cup. You and your friend gladly went to buy tickets. However, the ticket sale method for the funny World Cup was also special: they prepared only two kinds of tickets.\n\n- Type A — free ticket.\n- Type B — double-price ticket.\n\nAt purchase time, a staff member decides by flipping a coin: heads buys a type A ticket, tails buys a type B ticket. The organizer always prepared the same number of type A and type B tickets. You and your friend are lucky enough to be in the last two spots for a spectacular match.\n\nThe staff starts selling tickets via coin toss. But even more fortunately, when the staff reaches you two, he finds there is no need to flip the coin anymore, because the last two remaining tickets are both free.\n\nIn your delight, you want to calculate the probability that the last two people in line receive the same kind of ticket (including both getting type A or both getting type B). Assume the staff prepared $2n$ tickets, consisting of $n$ type A tickets and $n$ type B tickets, and each person in line must and can only buy exactly one ticket (regardless of whether the coin flip indicates buying A or B).", "inputFormat": "The input contains a single integer on one line, denoting $2n$.", "outputFormat": "Output a single floating-point number on one line: the probability that the last two people receive the same kind of ticket, accurate to 4 decimal places.", "hint": "# Constraints\n\nFor all test points, it is guaranteed that $1 \\leq n \\leq 1250$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "搞笑世界杯", "background": "很久很久以后，一次世界杯。", "description": "随着世界杯小组赛的结束，法国、阿根廷等世界强队都纷纷被淘汰，让人心痛不已。于是有人组织了一场搞笑世界杯，将这些被淘汰的强队重新组织起来和世界杯一同比赛。你和你的朋友欣然去购买球票。不过搞笑世界杯的球票出售方式也很特别，它们只准备了两种球票。\n\n- A 类票——免费球票。\n- B 类票——双倍价钱球票。\n\n购买时由工作人员通过掷硬币决定，投到正面的买 A 类票，反面的买 B 类票。主办方总是准备了同样多的 A 类票和 B 类票。你和你的朋友十分幸运的排到了某场精彩比赛的最后两个位置。\n\n这时工作人员开始通过硬币售票。不过更为幸运的是当工作人员到你们面前时他发现已无需再掷硬币了，因为剩下的这两张票全是免费票。\n\n你和你的朋友在欣喜之余，想计算一下排在队尾的两个人同时拿到一种票的概率是多少（包括同时拿 A 类票或 B 类票）假设工作人员准备了 $2n$ 张球票，其中 $n$ 张 A 类票、$n$ 张 B 类票，并且排在队伍中的人每人必须且只能买一张球票（不管掷到的是该买 A 还是该买 B）。", "inputFormat": "输入只有一行一个整数，表示 $2n$。", "outputFormat": "输出只包含一行一个浮点数，为拿到同一种票的概率，精确到小数点后 4 位。", "hint": "## 数据规模与约定\n\n对全部的测试点，保证 $1 \\leq n \\leq 1250$。", "locale": "zh-CN"}}}
{"pid": "P2720", "type": "P", "difficulty": 5, "samples": [["4\n1 2 2\n1 2 3 3\n2\n1\n2", "3\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "小A的礼物", "background": "** 数据已更新（2018-3-2） **", "description": "小 A 去学校参加活动辣，学校会发礼物哦，学校有很多礼物点。\n\n每一个礼物点都有去别的礼物点的道路和各种种类的礼物。\n\n为了防止多次领礼物，这些道路都是单向的道路，并且没有环。\n\n而且对于每条边连接 $a$，$b$ 点，如果删去这条边之后，存在点 $c$ 可以到达 $a$，也能到达 $b$，那么这条边就不会存在于路径中。\n\n并且除了点 $1$ 之外，所有点有且只有一条入边。\n\n小 A 想知道，对于点 $S$ 能到达的所有点（包括本身），有多少种不同的礼物？", "inputFormat": "第一行是礼物点的数量$n$ ($n \\le 100000$)\n\n接下来 1 行 $n-1$ 个数，分别代表点 $2,\\cdots, n$ 的入点\n\n接下来 1 行 $n$ 个数，代表每个节点的礼物编号\n\n接下来一行是 $m$，代表询问数量\n\n接下来 $m$ 行，每行一个节点编号，代表询问的节点编号\n", "outputFormat": "对于每个询问，输出礼物总数\n", "hint": "### 样例解释\n点 $1$ 可以到达点 $(1, 2, 3, 4)$，有三种礼物 $(1,2,3)$。\n\n点 $2$ 可以到达点 $2, 3, 4$，有两种礼物 $2, 3$。\n\n### 数据范围\n\n\n|测试点编号|$n$|$m$|$c_i$（颜色）|\n|:-:|:-:|:-:|:-:|\n|$1$|$\\le 10^2$|$\\le 10^2$|$\\le 10^2$|\n|$2\\sim3$|$\\le 10^3$|$\\le 10^3$|$\\le 10^3$|\n|$4\\sim5$|$\\le 10^4$|$\\le 10^4$|$\\le 20$|\n|$6$|$\\le5\\times 10^4$|$\\le5\\times 10^4$|$\\le5\\times 10^4$|\n|$7\\sim8$|$\\le 10^5$|$\\le5\\times 10^4$|$\\le6\\times 10^4$|", "locale": "zh-CN", "translations": {"en": {"title": "Xiao A's Gift", "background": "**Testdata updated (2018-3-2).**", "description": "Xiao A went to school to attend an event, and the school gives out gifts. The school has many gift points.\n\nEach gift point has outgoing roads to other gift points and a gift type.\n\nTo prevent picking up gifts multiple times, these roads are directed and acyclic.\n\nMoreover, for any edge from $a$ to $b$, if after removing this edge there exists a node $c$ that can reach both $a$ and $b$, then such an edge does not appear in the graph.\n\nIn addition, every node except node $1$ has exactly one incoming edge.\n\nXiao A wants to know, for all nodes reachable from a node $S$ (including $S$ itself), how many distinct gift types are there.", "inputFormat": "- The first line contains the number of gift points $n$ ($n \\le 100000$).\n- The next line contains $n - 1$ integers, representing the parent (in-neighbor) of nodes $2, \\dots, n$ respectively; that is, the $i$-th integer is the parent of node $i + 1$.\n- The next line contains $n$ integers, where the $i$-th integer is the gift ID of node $i$.\n- The next line contains $m$, the number of queries.\n- Each of the next $m$ lines contains one node ID, representing a query node.", "outputFormat": "For each query, output the number of distinct gifts.", "hint": "Sample Explanation:\n- Node $1$ can reach nodes $(1, 2, 3, 4)$, with three gift types $(1, 2, 3)$.\n- Node $2$ can reach nodes $2, 3, 4$, with two gift types $2, 3$.\n\nConstraints:\n\n| Test point ID | $n$ | $m$ | $c_i$ (color) |\n|:-:|:-:|:-:|:-:|\n| $1$ | $\\le 10^2$ | $\\le 10^2$ | $\\le 10^2$ |\n| $2 \\sim 3$ | $\\le 10^3$ | $\\le 10^3$ | $\\le 10^3$ |\n| $4 \\sim 5$ | $\\le 10^4$ | $\\le 10^4$ | $\\le 20$ |\n| $6$ | $\\le 5 \\times 10^4$ | $\\le 5 \\times 10^4$ | $\\le 5 \\times 10^4$ |\n| $7 \\sim 8$ | $\\le 10^5$ | $\\le 5 \\times 10^4$ | $\\le 6 \\times 10^4$ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小A的礼物", "background": "** 数据已更新（2018-3-2） **", "description": "小 A 去学校参加活动辣，学校会发礼物哦，学校有很多礼物点。\n\n每一个礼物点都有去别的礼物点的道路和各种种类的礼物。\n\n为了防止多次领礼物，这些道路都是单向的道路，并且没有环。\n\n而且对于每条边连接 $a$，$b$ 点，如果删去这条边之后，存在点 $c$ 可以到达 $a$，也能到达 $b$，那么这条边就不会存在于路径中。\n\n并且除了点 $1$ 之外，所有点有且只有一条入边。\n\n小 A 想知道，对于点 $S$ 能到达的所有点（包括本身），有多少种不同的礼物？", "inputFormat": "第一行是礼物点的数量$n$ ($n \\le 100000$)\n\n接下来 1 行 $n-1$ 个数，分别代表点 $2,\\cdots, n$ 的入点\n\n接下来 1 行 $n$ 个数，代表每个节点的礼物编号\n\n接下来一行是 $m$，代表询问数量\n\n接下来 $m$ 行，每行一个节点编号，代表询问的节点编号\n", "outputFormat": "对于每个询问，输出礼物总数\n", "hint": "### 样例解释\n点 $1$ 可以到达点 $(1, 2, 3, 4)$，有三种礼物 $(1,2,3)$。\n\n点 $2$ 可以到达点 $2, 3, 4$，有两种礼物 $2, 3$。\n\n### 数据范围\n\n\n|测试点编号|$n$|$m$|$c_i$（颜色）|\n|:-:|:-:|:-:|:-:|\n|$1$|$\\le 10^2$|$\\le 10^2$|$\\le 10^2$|\n|$2\\sim3$|$\\le 10^3$|$\\le 10^3$|$\\le 10^3$|\n|$4\\sim5$|$\\le 10^4$|$\\le 10^4$|$\\le 20$|\n|$6$|$\\le5\\times 10^4$|$\\le5\\times 10^4$|$\\le5\\times 10^4$|\n|$7\\sim8$|$\\le 10^5$|$\\le5\\times 10^4$|$\\le6\\times 10^4$|", "locale": "zh-CN"}}}
{"pid": "P2721", "type": "P", "difficulty": 3, "samples": [["3\n0101 100 4.5\n0201 30 5\n0402 50 7.8", "101483.84"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "线性数据结构"], "title": "小 Q 的赚钱计划", "background": "小 Q（郑重其事地）：今年我一定要赚大钱！！！\n", "description": "小 Q 决定在新的一年里赚大钱，小 P 给 TA 推荐了理财。小 Q 在今年初（非闰年）有 $10^5$ 元（好有钱啊），有 $N$ 个理财产品，每个理财产品用三个参数描述：购买时间，投资天数，年利息率。每个时刻小 Q 只能拥有最多一件产品，求一年后最多可以获得多少钱。\n", "inputFormat": "第 $1$ 行，一个整数 $N$。\n\n接下来 $N$ 行，每行为 $3$ 个空格隔开的字符串 $A, B, C$；\n\n- $A$ 表示发行时间，格式为 MMDD；\n- $B$ 是一个整数，为投资天数，范围 $[10,300]$；\n- $C$ 为最多 $2$ 位小数，代表百分之几的年利息，范围 $[3,30]$；\n", "outputFormat": "一个数，为年底最多可以获得的连本带利的资金数目，保留两位有效小数。\n", "hint": "$0 \\le N \\le 10^4$", "locale": "zh-CN", "translations": {"en": {"title": "Xiao Q's Money-Making Plan", "background": "Xiao Q (solemnly): This year I must make big money!!!", "description": "Xiao Q decides to make big money in the new year, and Xiao P recommends financial products. At the beginning of this (non-leap) year, Xiao Q has $10^5$ yuan. There are $N$ financial products, each described by three parameters: release date, investment days, and annual interest rate. At any moment, Xiao Q can hold at most one product. Find the maximum amount of money attainable after one year.", "inputFormat": "The first line contains an integer $N$.\n\nEach of the next $N$ lines contains three space-separated values $A, B, C$:\n- $A$ denotes the release date, in the format MMDD.\n- $B$ is an integer, the number of investment days, in the range $[10,300]$.\n- $C$ has at most $2$ decimal places, representing the annual interest rate in percent, in the range $[3,30]$.", "outputFormat": "A single number: the maximum total funds (principal plus interest) obtainable at the end of the year, rounded to two decimal places.", "hint": "$0 \\le N \\le 10^4$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小 Q 的赚钱计划", "background": "小 Q（郑重其事地）：今年我一定要赚大钱！！！\n", "description": "小 Q 决定在新的一年里赚大钱，小 P 给 TA 推荐了理财。小 Q 在今年初（非闰年）有 $10^5$ 元（好有钱啊），有 $N$ 个理财产品，每个理财产品用三个参数描述：购买时间，投资天数，年利息率。每个时刻小 Q 只能拥有最多一件产品，求一年后最多可以获得多少钱。\n", "inputFormat": "第 $1$ 行，一个整数 $N$。\n\n接下来 $N$ 行，每行为 $3$ 个空格隔开的字符串 $A, B, C$；\n\n- $A$ 表示发行时间，格式为 MMDD；\n- $B$ 是一个整数，为投资天数，范围 $[10,300]$；\n- $C$ 为最多 $2$ 位小数，代表百分之几的年利息，范围 $[3,30]$；\n", "outputFormat": "一个数，为年底最多可以获得的连本带利的资金数目，保留两位有效小数。\n", "hint": "$0 \\le N \\le 10^4$", "locale": "zh-CN"}}}
{"pid": "P2722", "type": "P", "difficulty": 2, "samples": [["300 4\n100 60\n250 120\n120 100\n35 20", "605"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "USACO", "背包 DP"], "title": "[USACO3.1] 总分 Score Inflation", "background": "选手在我们 USACO 的竞赛中的得分越多我们越高兴。\n\n我们试着设计我们的竞赛以便人们能尽可能的多得分，这需要你的帮助。", "description": "我们可以从几个种类中选取竞赛的题目，这里的一个“种类”是指一个竞赛题目的集合，解决集合中的题目需要相同多的时间并且能得到相同的分数。\n\n你的任务是写一个程序来告诉 USACO 的职员，应该从每一个种类中选取多少题目，使得解决题目的总耗时在竞赛规定的时间里并且总分最大。", "inputFormat": "输入的第一行是用空格隔开的两个整数，分别代表竞赛时间 $m$ 和题目类 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行两个用空格隔开的整数，第 $(i + 1)$ 行的整数 $p_i, t_i$ 分别代表解决第 $i$ 类题得到的分数和需要花费的时间。\n\n既然是某一类题目，那么这一类题目可以重复选择。", "outputFormat": "输出一行一个整数，代表最大的总分。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n, m \\leq 10^4$，$1 \\leq p_i, t_i \\leq 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.1] Score Inflation", "background": "The more points contestants score in our USACO contests, the happier we are. We try to design our contests so that people can score as many points as possible, and we need your help.", "description": "We can choose contest problems from several categories. Here, a \"category\" refers to a set of problems such that solving any problem in the set takes the same amount of time and yields the same score.\n\nYour task is to write a program to tell the USACO staff how many problems to select from each category so that the total time spent solving problems is within the contest time limit and the total score is maximized.", "inputFormat": "The first line contains two integers separated by a space, representing the contest duration $m$ and the number of categories $n$.\n\nLines $2$ through $(n + 1)$ each contain two integers separated by a space. On line $(i + 1)$, the integers $p_i, t_i$ denote the score awarded for a problem in category $i$ and the time required to solve it.\n\nSince problems are grouped by category, you may select problems from the same category repeatedly.", "outputFormat": "Output a single integer, the maximum total score.", "hint": "Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq n, m \\leq 10^4$, and $1 \\leq p_i, t_i \\leq 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.1] 总分 Score Inflation", "background": "选手在我们 USACO 的竞赛中的得分越多我们越高兴。\n\n我们试着设计我们的竞赛以便人们能尽可能的多得分，这需要你的帮助。", "description": "我们可以从几个种类中选取竞赛的题目，这里的一个“种类”是指一个竞赛题目的集合，解决集合中的题目需要相同多的时间并且能得到相同的分数。\n\n你的任务是写一个程序来告诉 USACO 的职员，应该从每一个种类中选取多少题目，使得解决题目的总耗时在竞赛规定的时间里并且总分最大。", "inputFormat": "输入的第一行是用空格隔开的两个整数，分别代表竞赛时间 $m$ 和题目类 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行两个用空格隔开的整数，第 $(i + 1)$ 行的整数 $p_i, t_i$ 分别代表解决第 $i$ 类题得到的分数和需要花费的时间。\n\n既然是某一类题目，那么这一类题目可以重复选择。", "outputFormat": "输出一行一个整数，代表最大的总分。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n, m \\leq 10^4$，$1 \\leq p_i, t_i \\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2723", "type": "P", "difficulty": 4, "samples": [["4 19\n2 3 5 7", "27"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "数学", "USACO", "平衡树", "堆", "枚举", "排序"], "title": "[USACO3.1] 丑数 Humble Numbers", "background": "", "description": "对于一给定的素数集合 $S = \\{ p_1, p_2, ..., p_k \\}$, 考虑一个正整数集合，该集合中任一元素的质因数全部属于 $S$。这个正整数集合包括，$p_1$、$p_1 \\times p_2$、$p_1 \\times p_1$、$p_1 \\times p_2 \\times p_3$ ...(还有其它)。该集合被称为 $S$ 集合的“丑数集合”。注意：我们认为 $1$不是一个丑数。\n\n你的工作是对于输入的集合 $S$ 去寻找“丑数集合”中的第 $n$ 个“丑数”。保证答案可以用 32 位有符号整数表示。\n\n补充：丑数集合中每个数从小到大排列，每个丑数都是素数集合中的数的乘积，第 $n$ 个“丑数”就是在能由素数集合中的数相乘得来的（包括它本身）第 $n$ 小的数。\n", "inputFormat": "输入的第一行是两个的整数，分别代表集合 $S$ 的大小 $k$ 和给定的参数 $n$。\n\n输入的第二行有 $k$ 互不相同的整数，第 $i$ 个整数代表 $p_i$。", "outputFormat": "输出一行一个整数，代表答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证：\n\n- $1 \\leq k \\leq 100$。\n- $1 \\leq n \\leq 10^5$。\n- $2 \\leq p_i < 2^{31}$，且 $p_i$ 一定为质数。\n\n---\n#### 说明\n\n题目翻译来自 NOCOW。\n\nUSACO Training Section 3.1\n", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.1] Humble Numbers", "background": "", "description": "Given a set of primes $S = \\{ p_1, p_2, ..., p_k \\}$, consider the set of positive integers whose prime factors all belong to $S$. This set includes $p_1$, $p_1 \\times p_2$, $p_1 \\times p_1$, $p_1 \\times p_2 \\times p_3$ ... (and others). This set is called the \"humble numbers set\" of $S$. Note: We consider $1$ not to be a humble number.\n\nYour task is, given the set $S$, to find the $n$-th humble number in the humble numbers set. It is guaranteed that the answer fits in a 32-bit signed integer.\n\nSupplement: The humble numbers are ordered from small to large. Each humble number is a product of numbers from the prime set. The $n$-th humble number is the $n$-th smallest positive integer that can be formed by multiplying numbers from the prime set (including a prime itself).", "inputFormat": "- The first line contains two integers, which are the size $k$ of the set $S$ and the given parameter $n$.\n- The second line contains $k$ distinct integers, where the $i$-th integer denotes $p_i$.", "outputFormat": "Output a single integer, the answer.", "hint": "- Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that:\n- $1 \\leq k \\leq 100$.\n- $1 \\leq n \\leq 10^5$.\n- $2 \\leq p_i < 2^{31}$, and each $p_i$ is prime.\n\n- Notes\n\nProblem translation from NOCOW.\n\nUSACO Training Section 3.1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.1] 丑数 Humble Numbers", "background": "", "description": "对于一给定的素数集合 $S = \\{ p_1, p_2, ..., p_k \\}$, 考虑一个正整数集合，该集合中任一元素的质因数全部属于 $S$。这个正整数集合包括，$p_1$、$p_1 \\times p_2$、$p_1 \\times p_1$、$p_1 \\times p_2 \\times p_3$ ...(还有其它)。该集合被称为 $S$ 集合的“丑数集合”。注意：我们认为 $1$不是一个丑数。\n\n你的工作是对于输入的集合 $S$ 去寻找“丑数集合”中的第 $n$ 个“丑数”。保证答案可以用 32 位有符号整数表示。\n\n补充：丑数集合中每个数从小到大排列，每个丑数都是素数集合中的数的乘积，第 $n$ 个“丑数”就是在能由素数集合中的数相乘得来的（包括它本身）第 $n$ 小的数。\n", "inputFormat": "输入的第一行是两个的整数，分别代表集合 $S$ 的大小 $k$ 和给定的参数 $n$。\n\n输入的第二行有 $k$ 互不相同的整数，第 $i$ 个整数代表 $p_i$。", "outputFormat": "输出一行一个整数，代表答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证：\n\n- $1 \\leq k \\leq 100$。\n- $1 \\leq n \\leq 10^5$。\n- $2 \\leq p_i < 2^{31}$，且 $p_i$ 一定为质数。\n\n---\n#### 说明\n\n题目翻译来自 NOCOW。\n\nUSACO Training Section 3.1\n", "locale": "zh-CN"}}}
