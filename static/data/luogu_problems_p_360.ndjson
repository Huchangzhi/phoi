{"pid": "P8295", "type": "P", "difficulty": 1, "samples": [["5 100\n3\n4 100\n3 100\n7 100", "30.00"], ["13 6\n5\n56 679\n35 120\n99 999\n56 73\n37 532", "69.55"], ["100 5\n3\n99 8\n65 14\n78 10", "4642.86"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2012", "COCI（克罗地亚）"], "title": "[COCI 2012/2013 #2] MORTADELA", "background": "**本题分值按 COCI 原题设置，满分 $50$。**", "description": "全国连锁超市（NSC）喜欢吹嘘它们的意式肉肠是全国最低的。\n\n实际上，如果顾客打算在其他连锁超市里找到更便宜的肉肠，那么 NSC 会向其补上差价。\n\nMatej 和 Filip 决定接受这个挑战。他们将会挨个走访 $N$ 家不同连锁店，来找到不仅比 NSC 便宜的熟香肠，而且在市场上最便宜的。如果他们成功了，他们就可以在他们学校附近的 NSC 分店买到最便宜的香肠。\n\nNSC 希望没有人能找到更便宜的香肠，因为所有所有连锁超市（包括 NSC）都以一种复杂的方式表示香肠的价格：$X$ 元 $Y$ 克香肠。\n\n请编写一个程序，给定 NSC 与其余 $N$ 家连锁店中的香肠价格，求 Matej 和 Filip 必须为靠近学校的 NSC 中的 $1000$ 克熟香肠支付的价格。", "inputFormat": "第一行两个正整数 $X_{\\textrm{NSC}}\\ (1\\le X_{\\textrm{NSC}} \\le 100)$ 和 $Y_{\\textrm{NSC}}\\ (1\\le Y_{\\textrm{NSC}} \\le 10^3)$，表示 $X_{\\textrm{NSC}}$ 是在 NSC 连锁店中 $Y_{\\textrm{NSC}}$ 克香肠的价格。\n\n第二行一个正整数 $N\\ (1\\le N\\le 100)$，表示连锁店的数目（不包括 NSC）。\n\n接下来 $N$ 行，每行两个正整数 $X_i,Y_i\\ (X_i\\le 100, Y_i\\le 10^3)$，表示 $X_i$ 是在第 $i$ 家连锁店中 $Y_i$ 克香肠的价格。\n\n\n", "outputFormat": "输出仅一行，一个实数，表示结果，保留 $2$ 位小数。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2012/2013 #2] MORTADELA", "background": "**本题分值按 COCI 原题设置，满分 $50$。**", "description": "全国连锁超市（NSC）喜欢吹嘘它们的意式肉肠是全国最低的。\n\n实际上，如果顾客打算在其他连锁超市里找到更便宜的肉肠，那么 NSC 会向其补上差价。\n\nMatej 和 Filip 决定接受这个挑战。他们将会挨个走访 $N$ 家不同连锁店，来找到不仅比 NSC 便宜的熟香肠，而且在市场上最便宜的。如果他们成功了，他们就可以在他们学校附近的 NSC 分店买到最便宜的香肠。\n\nNSC 希望没有人能找到更便宜的香肠，因为所有所有连锁超市（包括 NSC）都以一种复杂的方式表示香肠的价格：$X$ 元 $Y$ 克香肠。\n\n请编写一个程序，给定 NSC 与其余 $N$ 家连锁店中的香肠价格，求 Matej 和 Filip 必须为靠近学校的 NSC 中的 $1000$ 克熟香肠支付的价格。", "inputFormat": "第一行两个正整数 $X_{\\textrm{NSC}}\\ (1\\le X_{\\textrm{NSC}} \\le 100)$ 和 $Y_{\\textrm{NSC}}\\ (1\\le Y_{\\textrm{NSC}} \\le 10^3)$，表示 $X_{\\textrm{NSC}}$ 是在 NSC 连锁店中 $Y_{\\textrm{NSC}}$ 克香肠的价格。\n\n第二行一个正整数 $N\\ (1\\le N\\le 100)$，表示连锁店的数目（不包括 NSC）。\n\n接下来 $N$ 行，每行两个正整数 $X_i,Y_i\\ (X_i\\le 100, Y_i\\le 10^3)$，表示 $X_i$ 是在第 $i$ 家连锁店中 $Y_i$ 克香肠的价格。\n\n\n", "outputFormat": "输出仅一行，一个实数，表示结果，保留 $2$ 位小数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8296", "type": "P", "difficulty": 3, "samples": [["ANA\nANA\nDAR\nDAR\nRAD\nRAD", "DAR\nANA\nRAD"], ["EVO\nHEP\nHIR\nIVA\nPAD\nROD", "HEP\nIVA\nROD"], ["AKO\nCES\nDOC\nDON\nESI\nKES", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2012", "COCI（克罗地亚）"], "title": "[COCI 2012/2013 #2] KRIZALJKA", "background": "**本题分值按 COCI 原题设置，满分 $80$。**", "description": "你喜欢玩填字游戏吗？如果是，你可能会知道传统的初学游戏，如下所示：\n\n***\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pi8lxkai.png)\n\n- 水平方向上：\n\n  1. 用于冷却电脑的设备\n\n  2. 固态水\n\n  3. 用来获得\n\n- 垂直方向上：\n\n  1. 又小又软又甜的水果\n  \n  2. 强力纸牌\n  \n  3. 渔夫的工具\n***\n\n给定六个有三个字母的单词，你需要把它们放在 $3\\times 3$ 的方格上，使得水平与垂直均出现这几个单词。\n", "inputFormat": "输入共 $6$ 行，每行一个有三个大写字母的单词。保证按字典序给出。", "outputFormat": "如果不存在解法，输出 $0$。否则输出三行三列的字母矩阵。\n\n如果存在多解，输出每行头尾相接形成的九个字符的字典序最小的方案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2012/2013 #2] KRIZALJKA", "background": "**本题分值按 COCI 原题设置，满分 $80$。**", "description": "你喜欢玩填字游戏吗？如果是，你可能会知道传统的初学游戏，如下所示：\n\n***\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pi8lxkai.png)\n\n- 水平方向上：\n\n  1. 用于冷却电脑的设备\n\n  2. 固态水\n\n  3. 用来获得\n\n- 垂直方向上：\n\n  1. 又小又软又甜的水果\n  \n  2. 强力纸牌\n  \n  3. 渔夫的工具\n***\n\n给定六个有三个字母的单词，你需要把它们放在 $3\\times 3$ 的方格上，使得水平与垂直均出现这几个单词。\n", "inputFormat": "输入共 $6$ 行，每行一个有三个大写字母的单词。保证按字典序给出。", "outputFormat": "如果不存在解法，输出 $0$。否则输出三行三列的字母矩阵。\n\n如果存在多解，输出每行头尾相接形成的九个字符的字典序最小的方案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8297", "type": "P", "difficulty": 4, "samples": [["2\n3 3", "1"], ["3\n1 1 1", "1"], ["5\n4 3 5 7 9", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["贪心", "2012", "COCI（克罗地亚）"], "title": "[COCI 2012/2013 #2] LANCI", "background": "**本题分值按 COCI 原题设置，满分 $100$。**", "description": "Mirko 在阁楼里发现了 $N$ 个链。每个链由一些节组成，其中每个节最多有两个相邻节。每个节都可以打开或合上，因此可以将链分开或连成更长的链。\n\nMirko 希望把所有链连成一条巨大的链，并且打开或合上尽可能少的节。\n\n例如，假设 Mirko 只有 $3$ 个链，每个链只有一个节，他可以打开其中一个，并且连上另外两个再合上。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/he62ksg3.png)\n\n给定链的数量以及每个链的长度，找到 Mirko 必须打开和关闭的最小节数，使它们全部在一个长链上。", "inputFormat": "第一行一个整数 $N\\ (2\\le N\\le 5\\times 10^5)$，表示链的数量。\n\n第二行 $N$ 个正整数 $L_i\\ (1\\le L_i\\le 10^6)$，表示第 $i$ 个链的长度。", "outputFormat": "输出仅一行一个整数，表示最少要打开的节数。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2012/2013 #2] LANCI", "background": "**本题分值按 COCI 原题设置，满分 $100$。**", "description": "Mirko 在阁楼里发现了 $N$ 个链。每个链由一些节组成，其中每个节最多有两个相邻节。每个节都可以打开或合上，因此可以将链分开或连成更长的链。\n\nMirko 希望把所有链连成一条巨大的链，并且打开或合上尽可能少的节。\n\n例如，假设 Mirko 只有 $3$ 个链，每个链只有一个节，他可以打开其中一个，并且连上另外两个再合上。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/he62ksg3.png)\n\n给定链的数量以及每个链的长度，找到 Mirko 必须打开和关闭的最小节数，使它们全部在一个长链上。", "inputFormat": "第一行一个整数 $N\\ (2\\le N\\le 5\\times 10^5)$，表示链的数量。\n\n第二行 $N$ 个正整数 $L_i\\ (1\\le L_i\\le 10^6)$，表示第 $i$ 个链的长度。", "outputFormat": "输出仅一行一个整数，表示最少要打开的节数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8298", "type": "P", "difficulty": 4, "samples": [["3\n10 5\n9 3\n10 5", "9\n13\n18"], ["2\n100 1\n1 100", "1\n2"], ["5\n1000000000 1000000000\n1000000000 1000000000\n1000000000 1000000000\n1000000000 1000000000\n1000000000 1000000000", "1000000000\n2000000000\n3000000000\n4000000000\n5000000000"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [32768, 32768, 32768, 32768, 32768]}, "tags": ["贪心", "2012", "COCI（克罗地亚）"], "title": "[COCI 2012/2013 #2] POPUST", "background": "**本题分值按 COCI 原题设置，满分 $120$。**", "description": "Mirko 像熊一样饥饿，发现了一家当地餐馆。这家餐厅提供 $N$ 顿饭，并且有一个有趣的定价政策：每顿饭都有两个指定价格，$A_i$ 和 $B_i$。Mirko 点的第一道菜只需要付 $A$ 元，其他菜都需要付 $B$ 元。\n\nMirko 无法决定点多少菜。为了更简单地作出决定，他向你求助。对于任意 $k\\in[1,N]$，点 $k$ 道菜最少要付的钱。Mirko 不在乎他点了哪些特别的饭菜，也不管他点菜的顺序，但他不会点两道同样的菜。", "inputFormat": "第一行一个正整数 $N\\ (2\\le N\\le 5\\times 10^5)$，表示菜品数量。\n\n接下来 $N$ 行，每行两个正整数 $A_i,B_i\\ (1\\le A_i,B_i\\le 10^9)$，题目已经描述。", "outputFormat": "输出包含 $N$ 行，第 $k$ 行表示点 $k$ 道互不相同的菜最少需要花多少钱。", "hint": "#### 样例#1 解释/说明\n\n- $k=1$: Mirko 开始点第 $2$ 道菜，共花费 $A_2=9$ 元。\n\n- $k=2$: Mirko 开始点第 $1$ 道菜，接着点第 $2$ 道菜，共花费 $A_1+B_2=13$ 元。\n\n- $k=3$: Mirko 开始点第 $1$ 道菜，接着点第 $2,3$ 道菜，共花费 $A_1+B_2+B_3=18$ 元。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2012/2013 #2] POPUST", "background": "**本题分值按 COCI 原题设置，满分 $120$。**", "description": "Mirko 像熊一样饥饿，发现了一家当地餐馆。这家餐厅提供 $N$ 顿饭，并且有一个有趣的定价政策：每顿饭都有两个指定价格，$A_i$ 和 $B_i$。Mirko 点的第一道菜只需要付 $A$ 元，其他菜都需要付 $B$ 元。\n\nMirko 无法决定点多少菜。为了更简单地作出决定，他向你求助。对于任意 $k\\in[1,N]$，点 $k$ 道菜最少要付的钱。Mirko 不在乎他点了哪些特别的饭菜，也不管他点菜的顺序，但他不会点两道同样的菜。", "inputFormat": "第一行一个正整数 $N\\ (2\\le N\\le 5\\times 10^5)$，表示菜品数量。\n\n接下来 $N$ 行，每行两个正整数 $A_i,B_i\\ (1\\le A_i,B_i\\le 10^9)$，题目已经描述。", "outputFormat": "输出包含 $N$ 行，第 $k$ 行表示点 $k$ 道互不相同的菜最少需要花多少钱。", "hint": "#### 样例#1 解释/说明\n\n- $k=1$: Mirko 开始点第 $2$ 道菜，共花费 $A_2=9$ 元。\n\n- $k=2$: Mirko 开始点第 $1$ 道菜，接着点第 $2$ 道菜，共花费 $A_1+B_2=13$ 元。\n\n- $k=3$: Mirko 开始点第 $1$ 道菜，接着点第 $2,3$ 道菜，共花费 $A_1+B_2+B_3=18$ 元。\n", "locale": "zh-CN"}}}
{"pid": "P8299", "type": "P", "difficulty": 5, "samples": [["3 2\n1 1 1 1\n2 2 2 2", "1 2 3"], ["4 2\n1 1 1 1\n2 3 4 1", "-1"], ["5 2\n1 2 3 3\n2 4 5 4\n", "1 2 3 4 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["图论", "2012", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2012/2013 #2] INFORMACIJE", "background": "**本题分值按 COCI 原题设置，满分 $140$。**", "description": "Mirko 很无聊，所以他拿起一张纸，写下了一个含有 $N$ 个元素的序列 $A$，$1\\sim N$ 的所有正整数在其中恰好仅出现一次。然后，他拿了另外一张纸，写下了 $M$ 个关于 $A$ 的描述。\n\n每个描述有两种方式：\n\n- `1 x y v`：表示 $[x,y]$ 区间中最大的数为 $v$。\n\n- `2 x y v`：表示 $[x,y]$ 区间中最小的数为 $v$。\n\n随后 Slavko 来偷走了他的第一张纸。Mirko 感到绝望，他想要你找到满足这些描述的序列，不需要跟原序列完全相同。", "inputFormat": "第一行两个整数 $N,M\\ (1\\le N\\le 200, 0\\le M\\le 4\\times 10^4)$，分别表示序列长度以及描述的数量。\n\n接下来 $M$ 行每行一个描述。", "outputFormat": "输出仅一行，一个满足所有描述的长为 $N$ 的序列，并且 $1\\sim N$ 在其中出现并仅出现一次，用空格隔开。如无解，输出 $-1$。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2012/2013 #2] INFORMACIJE", "background": "**本题分值按 COCI 原题设置，满分 $140$。**", "description": "Mirko 很无聊，所以他拿起一张纸，写下了一个含有 $N$ 个元素的序列 $A$，$1\\sim N$ 的所有正整数在其中恰好仅出现一次。然后，他拿了另外一张纸，写下了 $M$ 个关于 $A$ 的描述。\n\n每个描述有两种方式：\n\n- `1 x y v`：表示 $[x,y]$ 区间中最大的数为 $v$。\n\n- `2 x y v`：表示 $[x,y]$ 区间中最小的数为 $v$。\n\n随后 Slavko 来偷走了他的第一张纸。Mirko 感到绝望，他想要你找到满足这些描述的序列，不需要跟原序列完全相同。", "inputFormat": "第一行两个整数 $N,M\\ (1\\le N\\le 200, 0\\le M\\le 4\\times 10^4)$，分别表示序列长度以及描述的数量。\n\n接下来 $M$ 行每行一个描述。", "outputFormat": "输出仅一行，一个满足所有描述的长为 $N$ 的序列，并且 $1\\sim N$ 在其中出现并仅出现一次，用空格隔开。如无解，输出 $-1$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8300", "type": "P", "difficulty": 6, "samples": [["2 4\n1 1 1 2 4\n1 2 2 3 2\n2 5 1 2\n2 7 1 2\n", "12\n17\n"], ["3 6\n1 1 1 4 -2\n1 2 2 2 6\n2 3 3 1\n2 4 3 1\n1 5 3 -6 20\n2 6 2 3", "8\n10\n14"], ["5 9\n1 1 5 4 -5\n2 2 3 5\n1 3 4 6 9\n2 4 1 2\n1 6 2 2 3\n2 8 2 1\n1 9 4 0 17\n2 10 5 5\n2 11 1 4", "-1\nnema\n7\n31\n17"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2012", "COCI（克罗地亚）"], "title": "[COCI 2012/2013 #2] INSPEKTOR", "background": "**本题分值按 COCI 原题设置，满分 $160$。**", "description": "一个新城镇刚刚在一个小国家落成。 像往常一样，Mirko 获得了首席税务监察员的职位。 他的职责是确保镇上所有不同公司的充分会计处理。\n\n沿大街有 $N$ 个营业厅，从左到右编号为 $1\\sim N$。一开始所有的办公室都是空的； 随着时间的推移，公司将进出这些办公室。 不时，Mirko 会经过一些办公室，只检查这些办公室中目前最富有的一家。\n\n搬入的公司用四个整数来描述：\n\n- $T$：搬入的日期。此处设小镇建成当天为 $1$。\n\n- $K$：办公室序号。\n\n- $Z$：公司的每日利润（如果公司亏损，则可能为负数）。\n\n- $S$：搬入当天公司账户余额。\n\n如果办公室 $K$ 中已经有一家公司，则当新公司搬入时，该公司搬出。\n\n新公司直到搬入后的第二天才开始营业（或赚取利润）。\n\n米尔科的巡视由三个整数描述：\n\n- $T$：巡视的日期。小镇建成当天为 $1$。\n\n- $A,B$：Mirko 将会经过 $[A,B]$ 内所有办公室。\n\n由于 Mirko 只在一天结束时工作，所以到 Mirko 散步时，所有公司都已经完成了当天的业务并公布了当天的利润。\n\n帮助 Mirko 编写一个程序，在每次闲逛时查找 Mirko 路过的当前最富有的公司的账户余额。", "inputFormat": "输入的第一行包含两个正整数，$N\\ (1 ≤ N ≤ 10^5)$ 和 $M \\ (1 ≤ M ≤ 3\\times 10^5)$，\n分别表示办公室和巡视的数量。\n\n接下来 $M$ 行，每一行包含一个事件的描述，格式为 `1 T K Z S`（公司搬入）或 `2 T A B`（Mirko 的巡视）。\n\n所有事件都按时间顺序给出，每天最多发生一个事件（即 $T$ 将是严格递增）。 最后一个事件的天数将小于 $10^6$, 所有 $Z$ 和 $S$ 数字的绝对值\n值将小于 $10^6$。", "outputFormat": "对于 Mirko 的每一次巡视，输出一行包含 Mirko 检查的公司的账户余额，或者如果他将经过的所有办公室都是空的，则输出单词 `nema`。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2012/2013 #2] INSPEKTOR", "background": "**本题分值按 COCI 原题设置，满分 $160$。**", "description": "一个新城镇刚刚在一个小国家落成。 像往常一样，Mirko 获得了首席税务监察员的职位。 他的职责是确保镇上所有不同公司的充分会计处理。\n\n沿大街有 $N$ 个营业厅，从左到右编号为 $1\\sim N$。一开始所有的办公室都是空的； 随着时间的推移，公司将进出这些办公室。 不时，Mirko 会经过一些办公室，只检查这些办公室中目前最富有的一家。\n\n搬入的公司用四个整数来描述：\n\n- $T$：搬入的日期。此处设小镇建成当天为 $1$。\n\n- $K$：办公室序号。\n\n- $Z$：公司的每日利润（如果公司亏损，则可能为负数）。\n\n- $S$：搬入当天公司账户余额。\n\n如果办公室 $K$ 中已经有一家公司，则当新公司搬入时，该公司搬出。\n\n新公司直到搬入后的第二天才开始营业（或赚取利润）。\n\n米尔科的巡视由三个整数描述：\n\n- $T$：巡视的日期。小镇建成当天为 $1$。\n\n- $A,B$：Mirko 将会经过 $[A,B]$ 内所有办公室。\n\n由于 Mirko 只在一天结束时工作，所以到 Mirko 散步时，所有公司都已经完成了当天的业务并公布了当天的利润。\n\n帮助 Mirko 编写一个程序，在每次闲逛时查找 Mirko 路过的当前最富有的公司的账户余额。", "inputFormat": "输入的第一行包含两个正整数，$N\\ (1 ≤ N ≤ 10^5)$ 和 $M \\ (1 ≤ M ≤ 3\\times 10^5)$，\n分别表示办公室和巡视的数量。\n\n接下来 $M$ 行，每一行包含一个事件的描述，格式为 `1 T K Z S`（公司搬入）或 `2 T A B`（Mirko 的巡视）。\n\n所有事件都按时间顺序给出，每天最多发生一个事件（即 $T$ 将是严格递增）。 最后一个事件的天数将小于 $10^6$, 所有 $Z$ 和 $S$ 数字的绝对值\n值将小于 $10^6$。", "outputFormat": "对于 Mirko 的每一次巡视，输出一行包含 Mirko 检查的公司的账户余额，或者如果他将经过的所有办公室都是空的，则输出单词 `nema`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8301", "type": "P", "difficulty": 1, "samples": [["3\n110\n101\n", "0"], ["5\n10010\n00100", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "洛谷原创", "O2优化", "枚举", "洛谷月赛"], "title": "[CoE R4 A/Stoi2041] 娘子", "background": "![](bilibili:BV1fx411N7bU?page=4)", "description": "给定两个长度均为 $n$ 的 $0$，$1$ 序列 $a$，$b$，**首先**，你可以选择一些 $a_i$ 取反，即 $0$ 变为 $1$，$1$ 变为 $0$，**然后**，任意排列序列 $a$。\n\n要求上述过程结束后 $a_i$ **等于** $b_i$，求取反的最少次数。", "inputFormat": "第一行一个正整数 $n$。第二行 $n$ 个数字表示序列 $a$。第三行 $n$ 个数字表示序列 $b$。", "outputFormat": "一个整数表示答案。", "hint": "### 样例解释\n\n输入 #1：将 $a = 110$ 重排为 $a = 101$ 即可达到题目要求，故取反的最少次数为 $0$。\n\n输入 #2：将 $a = 10010$ 的第四位取反（从左往右计数），得 $a=10000$，然后再重排得到 $a=00100$ 即可达到题目要求，故取反的最少次数为 $1$。 \n\n---\n\n### 数据规模\n\n- 对于 $10\\%$ 的数据，$n = 1$；\n- 对于另外 $20\\%$ 的数据，$b_i = 0$；\n- 对于另外 $20\\%$ 的数据，$b_i = 1$；\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 10^3$，$a_i \\in \\{0, 1\\}$，$b_i \\in \\{0, 1\\}$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CoE R4 A/Stoi2041] 娘子", "background": "![](bilibili:BV1fx411N7bU?page=4)", "description": "给定两个长度均为 $n$ 的 $0$，$1$ 序列 $a$，$b$，**首先**，你可以选择一些 $a_i$ 取反，即 $0$ 变为 $1$，$1$ 变为 $0$，**然后**，任意排列序列 $a$。\n\n要求上述过程结束后 $a_i$ **等于** $b_i$，求取反的最少次数。", "inputFormat": "第一行一个正整数 $n$。第二行 $n$ 个数字表示序列 $a$。第三行 $n$ 个数字表示序列 $b$。", "outputFormat": "一个整数表示答案。", "hint": "### 样例解释\n\n输入 #1：将 $a = 110$ 重排为 $a = 101$ 即可达到题目要求，故取反的最少次数为 $0$。\n\n输入 #2：将 $a = 10010$ 的第四位取反（从左往右计数），得 $a=10000$，然后再重排得到 $a=00100$ 即可达到题目要求，故取反的最少次数为 $1$。 \n\n---\n\n### 数据规模\n\n- 对于 $10\\%$ 的数据，$n = 1$；\n- 对于另外 $20\\%$ 的数据，$b_i = 0$；\n- 对于另外 $20\\%$ 的数据，$b_i = 1$；\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 10^3$，$a_i \\in \\{0, 1\\}$，$b_i \\in \\{0, 1\\}$。\n", "locale": "zh-CN"}}}
{"pid": "P8302", "type": "P", "difficulty": 5, "samples": [["2\n2 3\n3 4\n", "0\n-1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "数学", "数论", "洛谷原创", "O2优化", "枚举", "洛谷月赛"], "title": "[CoE R4 B/Stoi2041] 龙拳", "background": "![](bilibili:BV1fx411N7bU?page=28)", "description": "对于 $n \\in \\mathbb{Z_{\\ge 2}}$，设 $g(n)$ 为 $n$ 的小于 $n$ 的最大约数，如 $g(7) = 1, g(12) = 6$。\n\n定义 $f(n) = n + g(n)$。记 $f^{(0)}(n)=n$，且对 $m \\in \\mathbb{Z_{\\ge 0}}$ 有 $f^{(m+1)}(n)=f(f^{(m)}(n))$。\n\n多次询问，每次询问给定正整数 $n,k$，求最小的自然数 $m_0$，使得对于任意 $m \\ge m_0$，均有 $f^{(m)}(n) \\mid f^{(m+k)}(n)$。\n\n若不存在这样的 $m_0$，则令 $m_0=-1$。", "inputFormat": "第一行一个正整数 $T$ 表示询问次数。\n\n接下来 $T$ 行，每行两个正整数 $n,k$，表示一次询问。", "outputFormat": "对于每组询问输出一个整数表示答案。", "hint": "### 样例解释\n\n当 $n=2,k=3$ 时，$m_0=0$。\n\n当 $n=3,k=4$ 时不存在满足条件的 $m_0$。\n\n---\n\n### 数据规模\n\n**本题采用捆绑测试。**\n\n- 子任务 $1$（$1$ 分）：$T=k=1$；\n- 子任务 $2$（$12$ 分）：$T,n,k \\le 10$；\n- 子任务 $3$（$24$ 分）：$T \\le 10,n \\le 10^5$；\n- 子任务 $4$（$36$ 分）：$T \\le 10^3$；\n- 子任务 $5$（$27$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1 \\le T \\le 2 \\times 10^6$，$2 \\le n \\le 3 \\times 10^7$，$1 \\le k \\le 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CoE R4 B/Stoi2041] 龙拳", "background": "![](bilibili:BV1fx411N7bU?page=28)", "description": "对于 $n \\in \\mathbb{Z_{\\ge 2}}$，设 $g(n)$ 为 $n$ 的小于 $n$ 的最大约数，如 $g(7) = 1, g(12) = 6$。\n\n定义 $f(n) = n + g(n)$。记 $f^{(0)}(n)=n$，且对 $m \\in \\mathbb{Z_{\\ge 0}}$ 有 $f^{(m+1)}(n)=f(f^{(m)}(n))$。\n\n多次询问，每次询问给定正整数 $n,k$，求最小的自然数 $m_0$，使得对于任意 $m \\ge m_0$，均有 $f^{(m)}(n) \\mid f^{(m+k)}(n)$。\n\n若不存在这样的 $m_0$，则令 $m_0=-1$。", "inputFormat": "第一行一个正整数 $T$ 表示询问次数。\n\n接下来 $T$ 行，每行两个正整数 $n,k$，表示一次询问。", "outputFormat": "对于每组询问输出一个整数表示答案。", "hint": "### 样例解释\n\n当 $n=2,k=3$ 时，$m_0=0$。\n\n当 $n=3,k=4$ 时不存在满足条件的 $m_0$。\n\n---\n\n### 数据规模\n\n**本题采用捆绑测试。**\n\n- 子任务 $1$（$1$ 分）：$T=k=1$；\n- 子任务 $2$（$12$ 分）：$T,n,k \\le 10$；\n- 子任务 $3$（$24$ 分）：$T \\le 10,n \\le 10^5$；\n- 子任务 $4$（$36$ 分）：$T \\le 10^3$；\n- 子任务 $5$（$27$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1 \\le T \\le 2 \\times 10^6$，$2 \\le n \\le 3 \\times 10^7$，$1 \\le k \\le 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P8303", "type": "P", "difficulty": 6, "samples": [["1\n6\n\n0 2 2 3 1 1\n\n2 0 2 1 1 3\n\n2 2 0 1 1 1\n\n3 1 1 0 2 2\n\n1 1 1 2 0 2\n\n1 3 1 2 2 0", "\n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n0\n2 3\n2 5 1\n4 3 6"], ["2\n1\n\n\n\n2\n\n1 0", "\n\n0\n1 1\n1\n\n2\n\n0\n2 1\n1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["洛谷原创", "交互题", "Special Judge", "O2优化", "洛谷月赛"], "title": "[CoE R4 C] 网格", "background": "", "description": "**这是一道交互题。**\n\n有一张 $n$ 个点的无向无权图。\n\n这张图有一个特殊性质：存在一个点 $u \\ (1 \\leq u \\leq n)$ 到正整数对 $(x, y) \\ (1 \\leq x \\leq l, 1 \\leq y \\leq c)$ 的**一一对应**关系，使得 $n = l \\cdot c$，且点 $u, v$ 间存在边当且仅当 $u, v$ 对应的数对 $(x_u, y_u), (x_v, y_v)$ 满足 $|x_u - x_v| + |y_u - y_v| = 1$。换而言之，这张图和 $l$ 行 $c$ 列的网格图同构。\n\n现在，你要通过一些询问还原这张图的结构。每次询问时，你需要给定一个点 $u \\ (1 \\leq u \\leq n)$。询问的返回值是一个长为 $n$ 的数组 $\\{d_i\\} \\ (1 \\leq i \\leq n)$，表示点 $u, i$ 间的最短路径所经过的边数。\n\n请你使用不超过 $q$ 次询问，还原出这张图的结构。\n\n---\n\n### 交互格式\n\n**本题有多组数据。**\n\n首先输入一个整数 $T$，表示数据组数。\n\n对于每组数据：\n\n- 首先输入一个整数 $n$，表示图的点数。\n- 接下来，你可以执行一些询问。对于每次询问，输出一个整数 $u$，为你询问的点。然后，输入 $n$ 个整数 $\\{d_i\\}$，为询问的返回值。\n- 当你确定答案后，输出一个整数 $0$，然后输出答案。\n\n在输出答案时：\n\n- 第一行输出两个整数 $l, c$；\n- 接下来，输出 $l$ 行 $c$ 列整数，为你还原的对应关系。第 $i$ 行 $j$ 列的数为 $(i, j)$ 对应的编号。\n\n如果有多个答案，你可以输出任意一个。一个答案是正确的，当且仅当它和标准答案无法被任何询问区分：也就是，在这两个答案对应的网格图中，任意点对间的最短路径所经过的边数都是相同的。\n\n---\n\n请注意：**在每次执行询问或者输出答案后，你应该清空缓冲区：**\n\n- 在 C++ 中，使用 `fflush(stdout)` 或 `cout.flush()`。\n- 在 Java 中，使用 `System.out.flush()`。\n- 在 Python 中，使用 `stdout.flush()`。\n- 在 Pascal 中，使用 `flush(output)`。\n- 对于其他语言，请自行查阅对应语言的帮助文档。\n", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "### 样例 $1$ 解释\n\n对于样例，以下 $3$ 行 $2$ 列的网格图也是正确的输出。\n\n```\n3 2\n4 2\n3 5\n6 1\n```\n\n左边是样例对应的网格图，右边是以上输出对应的网格图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jy23v0au.png)\n\n---\n\n### 评分标准\n\n对于一个子任务，令 $q_{\\max}$ 为你在这个子任务的所有测试数据中的最大询问次数。\n\n如果交互的格式不合法，运行超出了时间限制，或者你的答案不正确，或者 $q_{\\max} > q$，你的得分为 $0$。\n\n否则，对于子任务 $1 \\sim 3$，你得满分；对于子任务 $4$，你的分数由下表给出：\n\n| 条件 | 分数 |\n| :-: | :-: |\n| $q_{\\max} \\leq 3$ | $61$ |\n| $q_{\\max} = 4$ | $41$ |\n| $q_{\\max} = 5$ | $31$ |\n| $q_{\\max} = 6$ | $21$ |\n| $q_{\\max} \\geq 7$ | $11$ |\n\n---\n\n### 数据规模\n\n**本题采用捆绑测试。**\n\n| 子任务 | 分值 | $n \\leq$ | $q = $  | 特殊性质 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $3$ | $4$ | $4$ | 无 |\n| $2$ | $13$ | $10^5$ | $4$ | 存在解使得 $l = 1$ |\n| $3$ | $23$ | $36$ | $36$ | 存在解使得 $2 \\leq l, c \\leq 6$ |\n| $4$ | $61$ | $10^5$ | $12$ | 无 |\n\n对于所有数据，保证 $1 \\leq T \\leq 10^3$，$1 \\leq n \\leq 10^5$，$\\sum n \\leq 3 \\times 10^5$。\n\n在部分测试数据中，交互器是自适应的。也就是，图的结构可能会根据你的询问而变化。但是可以保证：在每次询问之后，存在至少一个答案符合当前所有询问的返回值。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CoE R4 C] 网格", "background": "", "description": "**这是一道交互题。**\n\n有一张 $n$ 个点的无向无权图。\n\n这张图有一个特殊性质：存在一个点 $u \\ (1 \\leq u \\leq n)$ 到正整数对 $(x, y) \\ (1 \\leq x \\leq l, 1 \\leq y \\leq c)$ 的**一一对应**关系，使得 $n = l \\cdot c$，且点 $u, v$ 间存在边当且仅当 $u, v$ 对应的数对 $(x_u, y_u), (x_v, y_v)$ 满足 $|x_u - x_v| + |y_u - y_v| = 1$。换而言之，这张图和 $l$ 行 $c$ 列的网格图同构。\n\n现在，你要通过一些询问还原这张图的结构。每次询问时，你需要给定一个点 $u \\ (1 \\leq u \\leq n)$。询问的返回值是一个长为 $n$ 的数组 $\\{d_i\\} \\ (1 \\leq i \\leq n)$，表示点 $u, i$ 间的最短路径所经过的边数。\n\n请你使用不超过 $q$ 次询问，还原出这张图的结构。\n\n---\n\n### 交互格式\n\n**本题有多组数据。**\n\n首先输入一个整数 $T$，表示数据组数。\n\n对于每组数据：\n\n- 首先输入一个整数 $n$，表示图的点数。\n- 接下来，你可以执行一些询问。对于每次询问，输出一个整数 $u$，为你询问的点。然后，输入 $n$ 个整数 $\\{d_i\\}$，为询问的返回值。\n- 当你确定答案后，输出一个整数 $0$，然后输出答案。\n\n在输出答案时：\n\n- 第一行输出两个整数 $l, c$；\n- 接下来，输出 $l$ 行 $c$ 列整数，为你还原的对应关系。第 $i$ 行 $j$ 列的数为 $(i, j)$ 对应的编号。\n\n如果有多个答案，你可以输出任意一个。一个答案是正确的，当且仅当它和标准答案无法被任何询问区分：也就是，在这两个答案对应的网格图中，任意点对间的最短路径所经过的边数都是相同的。\n\n---\n\n请注意：**在每次执行询问或者输出答案后，你应该清空缓冲区：**\n\n- 在 C++ 中，使用 `fflush(stdout)` 或 `cout.flush()`。\n- 在 Java 中，使用 `System.out.flush()`。\n- 在 Python 中，使用 `stdout.flush()`。\n- 在 Pascal 中，使用 `flush(output)`。\n- 对于其他语言，请自行查阅对应语言的帮助文档。\n", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "### 样例 $1$ 解释\n\n对于样例，以下 $3$ 行 $2$ 列的网格图也是正确的输出。\n\n```\n3 2\n4 2\n3 5\n6 1\n```\n\n左边是样例对应的网格图，右边是以上输出对应的网格图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jy23v0au.png)\n\n---\n\n### 评分标准\n\n对于一个子任务，令 $q_{\\max}$ 为你在这个子任务的所有测试数据中的最大询问次数。\n\n如果交互的格式不合法，运行超出了时间限制，或者你的答案不正确，或者 $q_{\\max} > q$，你的得分为 $0$。\n\n否则，对于子任务 $1 \\sim 3$，你得满分；对于子任务 $4$，你的分数由下表给出：\n\n| 条件 | 分数 |\n| :-: | :-: |\n| $q_{\\max} \\leq 3$ | $61$ |\n| $q_{\\max} = 4$ | $41$ |\n| $q_{\\max} = 5$ | $31$ |\n| $q_{\\max} = 6$ | $21$ |\n| $q_{\\max} \\geq 7$ | $11$ |\n\n---\n\n### 数据规模\n\n**本题采用捆绑测试。**\n\n| 子任务 | 分值 | $n \\leq$ | $q = $  | 特殊性质 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $3$ | $4$ | $4$ | 无 |\n| $2$ | $13$ | $10^5$ | $4$ | 存在解使得 $l = 1$ |\n| $3$ | $23$ | $36$ | $36$ | 存在解使得 $2 \\leq l, c \\leq 6$ |\n| $4$ | $61$ | $10^5$ | $12$ | 无 |\n\n对于所有数据，保证 $1 \\leq T \\leq 10^3$，$1 \\leq n \\leq 10^5$，$\\sum n \\leq 3 \\times 10^5$。\n\n在部分测试数据中，交互器是自适应的。也就是，图的结构可能会根据你的询问而变化。但是可以保证：在每次询问之后，存在至少一个答案符合当前所有询问的返回值。\n", "locale": "zh-CN"}}}
{"pid": "P8304", "type": "P", "difficulty": 6, "samples": [["10 4\n0100101011\n1 1\n1 5\n2 9\n1 10", "-1\n3\n7\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "线段树", "洛谷原创", "O2优化", "前缀和", "洛谷月赛"], "title": "[CoE R4 D] 01 串", "background": "", "description": "定义一个好的 $01$ 串 $\\mathcal{S}$ 满足以下条件：\n\n+ $\\mathcal{S}$ 非空。\n\n+ $\\mathcal{S}$ 的任意一个前缀 $\\mathcal {S} [1\\dots p](p\\in [1,|\\mathcal S|])$ 中，$0$ 的数量都不多于 $1$ 的数量。\n+ $\\mathcal{S}$ 的任意一个后缀 $\\mathcal S[p\\dots |\\mathcal{S}|](p\\in [1,|\\mathcal S|])$ 中，$0$ 的数量都不多于 $1$ 的数量。\n\n现在你得到了一个长度为 $n$ 的 $01$ 串 $\\mathcal{T}$，有 $q$ 次询问，每次询问给定一对 $l,r$，求 $\\mathcal{T}[l\\dots r]$ 中的最长的好的 $01$ **子序列** 的长度。若没有好的 $01$ 子序列，则输出 $-1$。\n\n注意：**子序列** 是指去除某些元素但不破坏余下元素的相对位置而形成的新序列。", "inputFormat": "第一行两个整数 $n,q$，分别表示 $01$ 串的长度和询问次数。\n\n第二行一个长度为 $n$ 的 $01$ 串，表示 $\\mathcal{T}$。\n\n接下来 $q$ 行，每行两个整数 $l,r$，表示一次询问。", "outputFormat": "输出 $q$ 行，每行一个整数，依次表示每次询问的答案。", "hint": "### 样例解释\n\n第一次询问中，询问的串为 $0$，没有任何的子序列是好的，所以答案是 $-1$。\n\n第二次询问中，询问的串为 $01001$，子序列 $101$ 是好的且是最长的，所以答案是 $3$。\n\n第三次询问中，询问的串为 $10010101$，子序列 $1010101$ 是好的且是最长的，所以答案是 $7$。\n\n第四次询问中，询问的串为 $0100101011$，子序列 $10101011$ 是好的且是最长的，所以答案是 $8$。\n\n---\n\n### 数据规模\n\n**本题采用捆绑测试。**\n\n| 子任务 | 分值 | $n \\le$ | $q \\le$ |\n| :-: | :-: | :-: | :-: |\n| $1$ | $10$ | $10$ | $10$ |\n| $2$ | $20$ | $2000$ | $2000$ |\n| $3$ | $30$ | $8\\times 10^4$ | $8\\times 10^4$ |\n| $4$ | $10$ | $10^5$ | $1$ |\n| $5$ | $30$ | $5\\times 10^5$ | $5\\times 10^5$ |\n\n对于 $100\\%$ 的数据，$1 \\leq l \\leq r \\leq n \\leq 5 \\times 10^5$，$1 \\leq q \\leq 5 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CoE R4 D] 01 串", "background": "", "description": "定义一个好的 $01$ 串 $\\mathcal{S}$ 满足以下条件：\n\n+ $\\mathcal{S}$ 非空。\n\n+ $\\mathcal{S}$ 的任意一个前缀 $\\mathcal {S} [1\\dots p](p\\in [1,|\\mathcal S|])$ 中，$0$ 的数量都不多于 $1$ 的数量。\n+ $\\mathcal{S}$ 的任意一个后缀 $\\mathcal S[p\\dots |\\mathcal{S}|](p\\in [1,|\\mathcal S|])$ 中，$0$ 的数量都不多于 $1$ 的数量。\n\n现在你得到了一个长度为 $n$ 的 $01$ 串 $\\mathcal{T}$，有 $q$ 次询问，每次询问给定一对 $l,r$，求 $\\mathcal{T}[l\\dots r]$ 中的最长的好的 $01$ **子序列** 的长度。若没有好的 $01$ 子序列，则输出 $-1$。\n\n注意：**子序列** 是指去除某些元素但不破坏余下元素的相对位置而形成的新序列。", "inputFormat": "第一行两个整数 $n,q$，分别表示 $01$ 串的长度和询问次数。\n\n第二行一个长度为 $n$ 的 $01$ 串，表示 $\\mathcal{T}$。\n\n接下来 $q$ 行，每行两个整数 $l,r$，表示一次询问。", "outputFormat": "输出 $q$ 行，每行一个整数，依次表示每次询问的答案。", "hint": "### 样例解释\n\n第一次询问中，询问的串为 $0$，没有任何的子序列是好的，所以答案是 $-1$。\n\n第二次询问中，询问的串为 $01001$，子序列 $101$ 是好的且是最长的，所以答案是 $3$。\n\n第三次询问中，询问的串为 $10010101$，子序列 $1010101$ 是好的且是最长的，所以答案是 $7$。\n\n第四次询问中，询问的串为 $0100101011$，子序列 $10101011$ 是好的且是最长的，所以答案是 $8$。\n\n---\n\n### 数据规模\n\n**本题采用捆绑测试。**\n\n| 子任务 | 分值 | $n \\le$ | $q \\le$ |\n| :-: | :-: | :-: | :-: |\n| $1$ | $10$ | $10$ | $10$ |\n| $2$ | $20$ | $2000$ | $2000$ |\n| $3$ | $30$ | $8\\times 10^4$ | $8\\times 10^4$ |\n| $4$ | $10$ | $10^5$ | $1$ |\n| $5$ | $30$ | $5\\times 10^5$ | $5\\times 10^5$ |\n\n对于 $100\\%$ 的数据，$1 \\leq l \\leq r \\leq n \\leq 5 \\times 10^5$，$1 \\leq q \\leq 5 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P8305", "type": "P", "difficulty": 6, "samples": [["见下发文件的 sample.in", "见下发文件的 sample.out"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["洛谷原创", "Special Judge", "O2优化", "洛谷月赛"], "title": "[CoE R4 E] 伪随机", "background": "", "description": "很久很久以前，小明生成了一些数据。\n\n他的数据生成器使用了以下两个函数生成随机数：\n\n```plain\n定义函数 srand(32 位无符号整数 seed)\n\t将 x 赋值为 seed\n\n定义函数 rand()\n\t将 x 赋值为 x 异或 (x 左移 13 位)\n\t将 x 赋值为 x 异或 (x 右移 17 位)\n\t将 x 赋值为 x 异或 (x 左移 5 位)\n\t返回 x\n```\n\n小明在调用 $\\text{srand(seed)}$ 后，连续调用了 $n$ 次 $\\text{rand()}$，并且记录下了每次 $\\text{rand()}$ 的返回值对 $p$ 取模时得到的余数 $a_i$。\n\n很久很久以后，只有数据生成器依然残存（实现见下发文件的 `generator.cpp`），但生成器的参数 $\\text{seed}$ 和 $p$ 已经消失。\n\n小明想要从数据中恢复这两个参数。即给定序列 $a_i$，需要找到任意一组 $\\text{seed}$ 和 $p$ 的可能的值。你能帮帮他吗？\n\n---\n\n**简要描述**\n\n小明的数据生成器是下发文件的 `generator.cpp`。你需要根据生成器的输出，反推出生成器的输入。\n", "inputFormat": "输入的第一行包含一个整数 $n$。\n\n第二行包含 $n$ 个 $32$ 位无符号整数 $a_1, a_2, \\cdots, a_n$，为小明生成的数据。\n", "outputFormat": "输出仅包含两个 $32$ 位无符号整数 $\\text{seed}$ 和 $p$，为你的答案。你需要保证 $0 < \\text{seed}, p < 2^{32}$。\n\n如果有多组解，你可以输出任意一组。\n", "hint": "### 数据规模\n\n本题共有 $50$ 个测试点，每个测试点 $2$ 分。\n\n对于所有数据，保证 $n = 10^5$，$\\text{seed}$ 是随机选取的，且至少存在一组解。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CoE R4 E] 伪随机", "background": "", "description": "很久很久以前，小明生成了一些数据。\n\n他的数据生成器使用了以下两个函数生成随机数：\n\n```plain\n定义函数 srand(32 位无符号整数 seed)\n\t将 x 赋值为 seed\n\n定义函数 rand()\n\t将 x 赋值为 x 异或 (x 左移 13 位)\n\t将 x 赋值为 x 异或 (x 右移 17 位)\n\t将 x 赋值为 x 异或 (x 左移 5 位)\n\t返回 x\n```\n\n小明在调用 $\\text{srand(seed)}$ 后，连续调用了 $n$ 次 $\\text{rand()}$，并且记录下了每次 $\\text{rand()}$ 的返回值对 $p$ 取模时得到的余数 $a_i$。\n\n很久很久以后，只有数据生成器依然残存（实现见下发文件的 `generator.cpp`），但生成器的参数 $\\text{seed}$ 和 $p$ 已经消失。\n\n小明想要从数据中恢复这两个参数。即给定序列 $a_i$，需要找到任意一组 $\\text{seed}$ 和 $p$ 的可能的值。你能帮帮他吗？\n\n---\n\n**简要描述**\n\n小明的数据生成器是下发文件的 `generator.cpp`。你需要根据生成器的输出，反推出生成器的输入。\n", "inputFormat": "输入的第一行包含一个整数 $n$。\n\n第二行包含 $n$ 个 $32$ 位无符号整数 $a_1, a_2, \\cdots, a_n$，为小明生成的数据。\n", "outputFormat": "输出仅包含两个 $32$ 位无符号整数 $\\text{seed}$ 和 $p$，为你的答案。你需要保证 $0 < \\text{seed}, p < 2^{32}$。\n\n如果有多组解，你可以输出任意一组。\n", "hint": "### 数据规模\n\n本题共有 $50$ 个测试点，每个测试点 $2$ 分。\n\n对于所有数据，保证 $n = 10^5$，$\\text{seed}$ 是随机选取的，且至少存在一组解。\n", "locale": "zh-CN"}}}
{"pid": "P8306", "type": "P", "difficulty": 3, "samples": [["3\n3 3\nfusufusu\nfusu\nanguei\nfusu\nanguei\nkkksc\n5 2\nfusu\nFusu\nAFakeFusu\nafakefusu\nfusuisnotfake\nFusu\nfusu\n1 1\n998244353\n9", "2\n1\n0\n1\n2\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["字符串", "O2优化", "字典树 Trie", "模板题"], "title": "【模板】字典树", "background": null, "description": "给定 $n$ 个模式串 $s_1, s_2, \\dots, s_n$ 和 $q$ 次询问，每次询问给定一个文本串 $t_i$，请回答 $s_1 \\sim s_n$ 中有多少个字符串 $s_j$ 满足 $t_i$ 是 $s_j$ 的**前缀**。\n\n一个字符串 $t$ 是 $s$ 的前缀当且仅当从 $s$ 的末尾删去若干个（可以为 $0$ 个）连续的字符后与 $t$ 相同。\n\n输入的字符串大小敏感。例如，字符串 `Fusu` 和字符串 `fusu` 不同。", "inputFormat": "**本题单测试点内有多组测试数据**。  \n\n输入的第一行是一个整数，表示数据组数 $T$。\n\n对于每组数据，格式如下：  \n第一行是两个整数，分别表示模式串的个数 $n$ 和询问的个数 $q$。  \n接下来 $n$ 行，每行一个字符串，表示一个模式串。  \n接下来 $q$ 行，每行一个字符串，表示一次询问。", "outputFormat": "按照输入的顺序依次输出各测试数据的答案。  \n对于每次询问，输出一行一个整数表示答案。", "hint": "### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq T, n, q\\leq 10^5$，且输入字符串的总长度不超过 $3 \\times 10^6$。输入的字符串只含大小写字母和数字，且不含空串。\n\n### 说明\nstd 的 IO 使用的是关闭同步后的 cin/cout，本题不卡常。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】字典树", "background": null, "description": "给定 $n$ 个模式串 $s_1, s_2, \\dots, s_n$ 和 $q$ 次询问，每次询问给定一个文本串 $t_i$，请回答 $s_1 \\sim s_n$ 中有多少个字符串 $s_j$ 满足 $t_i$ 是 $s_j$ 的**前缀**。\n\n一个字符串 $t$ 是 $s$ 的前缀当且仅当从 $s$ 的末尾删去若干个（可以为 $0$ 个）连续的字符后与 $t$ 相同。\n\n输入的字符串大小敏感。例如，字符串 `Fusu` 和字符串 `fusu` 不同。", "inputFormat": "**本题单测试点内有多组测试数据**。  \n\n输入的第一行是一个整数，表示数据组数 $T$。\n\n对于每组数据，格式如下：  \n第一行是两个整数，分别表示模式串的个数 $n$ 和询问的个数 $q$。  \n接下来 $n$ 行，每行一个字符串，表示一个模式串。  \n接下来 $q$ 行，每行一个字符串，表示一次询问。", "outputFormat": "按照输入的顺序依次输出各测试数据的答案。  \n对于每次询问，输出一行一个整数表示答案。", "hint": "### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq T, n, q\\leq 10^5$，且输入字符串的总长度不超过 $3 \\times 10^6$。输入的字符串只含大小写字母和数字，且不含空串。\n\n### 说明\nstd 的 IO 使用的是关闭同步后的 cin/cout，本题不卡常。", "locale": "zh-CN"}}}
{"pid": "P8307", "type": "P", "difficulty": 4, "samples": [["3", "665496236"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["博弈论", "O2优化", "概率论", "逆元"], "title": "〈 TREEのOI 2022 Spring 〉Absolutely Simple Game", "background": "rin 和 len 在玩一个绝对简单的游戏，pcq 为裁判。", "description": "初始时给定范围 $[l,r]=[1,n]$，pcq 从中均匀随机选出一个自然数 $t$，之后 rin 和 len 两人轮流进行操作，rin 先行。\n\n每次操作方猜测一个整数 $x\\in[l,r]$，若 $x=t$，则游戏结束，该方负；若 $x<t$，则调整范围 $[l,r]$ 为 $[x+1,r]$；若 $x>t$，则调整范围 $[l,r]$ 为 $[l,x-1]$。\n\nrin 和 len 两人均充分了解规则且无比可爱聪明（都会最大化自己的胜率），过程中谁都知道场上除了 $t$ 以外的一切信息，求 rin 的胜率。", "inputFormat": "一行一个整数 $n$。", "outputFormat": "一行一个整数，表示 rin 的胜率，按分数 $\\bmod~998244353$ 输出。", "hint": "**样例解释1：**  \n\nrin 的胜率为 $\\dfrac 23$（一开始猜 $2$），$\\bmod~998244353$ 后输出为 $665496236$。\n\n***\n\n**本题采用 SubTask 捆绑测试。**\n\n| SubTask 编号 | 分值 | 特殊限制 |\n| :-----------: | :-----------: | :-----------: |\n| $0$ | $10$ | $n\\equiv 0\\ \\pmod 2$ |\n| $1$ | $20$ | $n\\le 100$ |\n| $2$ | $30$ | $n\\le 10^9$ |\n|$3$|$40$|$n\\le 10^{18}$|\n\n对于 $100\\%$ 的数据，$1 \\le n\\le 10^{18}$。\n\n---\n**如何对有理数取模？**  \n\n$\\dfrac {x}{y} \\bmod m$ 定义为 $xy^{m-2}\\bmod~m$。\n\n$m$ 必须为质数。  \n\n保证答案约分后分母不为 $998244353$ 的倍数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "〈 TREEのOI 2022 Spring 〉Absolutely Simple Game", "background": "rin 和 len 在玩一个绝对简单的游戏，pcq 为裁判。", "description": "初始时给定范围 $[l,r]=[1,n]$，pcq 从中均匀随机选出一个自然数 $t$，之后 rin 和 len 两人轮流进行操作，rin 先行。\n\n每次操作方猜测一个整数 $x\\in[l,r]$，若 $x=t$，则游戏结束，该方负；若 $x<t$，则调整范围 $[l,r]$ 为 $[x+1,r]$；若 $x>t$，则调整范围 $[l,r]$ 为 $[l,x-1]$。\n\nrin 和 len 两人均充分了解规则且无比可爱聪明（都会最大化自己的胜率），过程中谁都知道场上除了 $t$ 以外的一切信息，求 rin 的胜率。", "inputFormat": "一行一个整数 $n$。", "outputFormat": "一行一个整数，表示 rin 的胜率，按分数 $\\bmod~998244353$ 输出。", "hint": "**样例解释1：**  \n\nrin 的胜率为 $\\dfrac 23$（一开始猜 $2$），$\\bmod~998244353$ 后输出为 $665496236$。\n\n***\n\n**本题采用 SubTask 捆绑测试。**\n\n| SubTask 编号 | 分值 | 特殊限制 |\n| :-----------: | :-----------: | :-----------: |\n| $0$ | $10$ | $n\\equiv 0\\ \\pmod 2$ |\n| $1$ | $20$ | $n\\le 100$ |\n| $2$ | $30$ | $n\\le 10^9$ |\n|$3$|$40$|$n\\le 10^{18}$|\n\n对于 $100\\%$ 的数据，$1 \\le n\\le 10^{18}$。\n\n---\n**如何对有理数取模？**  \n\n$\\dfrac {x}{y} \\bmod m$ 定义为 $xy^{m-2}\\bmod~m$。\n\n$m$ 必须为质数。  \n\n保证答案约分后分母不为 $998244353$ 的倍数。", "locale": "zh-CN"}}}
{"pid": "P8308", "type": "P", "difficulty": 4, "samples": [["9 1", "4"], ["27 1", "6"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["数学", "递推", "O2优化", "前缀和", "分块"], "title": "〈 TREEのOI 2022 Spring 〉Counting By Ternary", "background": "黑土地上，一棵小苗破土而出。\n\n几个月里，它吮吸着甘甜的雨露，享受着温暖的阳光，愈发翠绿了起来。\n\n![](https://cdn.pixabay.com/photo/2019/03/05/12/52/plant-4036131_960_720.jpg)\n\n它越长越高，越长越壮，似乎要突破云霄。\n\n它长成了一棵大树，渴望着去天空中，看一看这美丽的世界。\n\n![](https://cdn.pixabay.com/photo/2015/02/24/15/41/wolf-647528_960_720.jpg)", "description": "**请留意本题并不寻常的时空限制。**\n\n给定一个数 $x$，用如下规则建立一棵有根树：\n\n- 根节点为 $\\lang0,x\\rang$。  \n\n- 对于一个节点 $\\lang i,j\\rang$，若 $j < 3$，则它是叶子节点，否则它的子节点为对于任意 $1 \\le k$ 且 $j$ 的位数 $\\ge k$， $\\lang j_k, k\\rang$，其中 $j_k$ 为它三进制表示从左向右的第 $k$ 位。  \n\n求这棵树的叶子节点的数目。", "inputFormat": "一行两个整数 $p, q$，表示 $x = p^q$。", "outputFormat": "一行一个整数，即为所求。  \n\n题目保证答案在 $\\tt int64$ 范围内。", "hint": "\n\n**本题采用 SubTask 捆绑测试。**\n\n| SubTask 编号 | 分值 | 特殊性质 |\n| :-----------: | :-----------: | :-----------: |\n| $0$ | $10$ | $p\\le 3^{15}$，$q=1$ |\n| $1$ | $10$ | $p\\le 3^{35}$，$q=1$ |\n| $2$ | $20$ | $p=3$，$q\\le 3^{15}$ |\n| $3$ | $60$ | $p=3$，$q\\le 3^{35}$ |\n\n\n对于 $100\\%$ 的数据，$p^q \\le 3^{3^{35}}$（$10^{10^9} \\lt 3^{3^{35} } \\lt 10^{2.5 \\times 10^9}$），保证 $p = 3^l(l\\in \\mathbb N^+)$。 \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "〈 TREEのOI 2022 Spring 〉Counting By Ternary", "background": "黑土地上，一棵小苗破土而出。\n\n几个月里，它吮吸着甘甜的雨露，享受着温暖的阳光，愈发翠绿了起来。\n\n![](https://cdn.pixabay.com/photo/2019/03/05/12/52/plant-4036131_960_720.jpg)\n\n它越长越高，越长越壮，似乎要突破云霄。\n\n它长成了一棵大树，渴望着去天空中，看一看这美丽的世界。\n\n![](https://cdn.pixabay.com/photo/2015/02/24/15/41/wolf-647528_960_720.jpg)", "description": "**请留意本题并不寻常的时空限制。**\n\n给定一个数 $x$，用如下规则建立一棵有根树：\n\n- 根节点为 $\\lang0,x\\rang$。  \n\n- 对于一个节点 $\\lang i,j\\rang$，若 $j < 3$，则它是叶子节点，否则它的子节点为对于任意 $1 \\le k$ 且 $j$ 的位数 $\\ge k$， $\\lang j_k, k\\rang$，其中 $j_k$ 为它三进制表示从左向右的第 $k$ 位。  \n\n求这棵树的叶子节点的数目。", "inputFormat": "一行两个整数 $p, q$，表示 $x = p^q$。", "outputFormat": "一行一个整数，即为所求。  \n\n题目保证答案在 $\\tt int64$ 范围内。", "hint": "\n\n**本题采用 SubTask 捆绑测试。**\n\n| SubTask 编号 | 分值 | 特殊性质 |\n| :-----------: | :-----------: | :-----------: |\n| $0$ | $10$ | $p\\le 3^{15}$，$q=1$ |\n| $1$ | $10$ | $p\\le 3^{35}$，$q=1$ |\n| $2$ | $20$ | $p=3$，$q\\le 3^{15}$ |\n| $3$ | $60$ | $p=3$，$q\\le 3^{35}$ |\n\n\n对于 $100\\%$ 的数据，$p^q \\le 3^{3^{35}}$（$10^{10^9} \\lt 3^{3^{35} } \\lt 10^{2.5 \\times 10^9}$），保证 $p = 3^l(l\\in \\mathbb N^+)$。 \n", "locale": "zh-CN"}}}
{"pid": "P8309", "type": "P", "difficulty": 4, "samples": [["1\n235 423\n544 345\n563 645\n453 435", "380.43769007 531.90429895\n395.56394564 543.23089701\n406.89054360 528.10464158\n391.76428803 516.77804352"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化"], "title": "〈 TREEのOI 2022 Spring 〉Dimension-2 Square", "background": "# 本题可能轻微卡精度，建议改用 $\\tt long\\ double$\n\n\n正月十五夜空中。\n\n一行人望着一棵树，一棵飘在天上的树，期待着它变成一个环。\n\n这棵树有 $4$ 个节点。  \n\n“它变成环了！”有人大喊。  \n我顿时向天上望去……  \n\n多么标准的正方形啊！无论哪个天文学家过来测量，它的角都是标准的 $90^{\\circ}$，它的边都是完美的 $1:1:1:1$……  \n\n只见那棵树，不，那标致而又完美的环，缓缓飞过，恰巧嵌在了那轮明月中心……\n\n![](https://cdn.pixabay.com/photo/2016/11/29/13/14/full-moon-1869760_960_720.jpg)", "description": "给定平面直角坐标系上 $4$ 个点的坐标。\n\n你需要使用 ~~%法~~ 魔法，做一个正方形，使得这 $4$ 个点分别在正方形每条边的**直线**上。", "inputFormat": "**本题采用多组数据评测。**\n\n第一行，输入一个数 $T$，表示数据组数。\n\n对于每组数据，共 $4$ 行，每行两个整数 $x_i,y_i$，表示点的坐标。", "outputFormat": "对于每组数据，输出共 $4$ 行，每行两个实数，表示正方形上的四个点的坐标。你需要保证给出的第 $i$ 个点位于正方形的第 $i$ 个和第 $i\\ \\text{mod}\\ 4+1 $ 个顶点形成的边上，且给出的第 $i$ 个点和第 $i\\ \\text{mod}\\ 4+1$ 个点所在的边为邻边。", "hint": "**本题采用 $\\tt SPJ$。**\n\n如答案不唯一，输出一种即可。   \n四边长度的之差 $\\le 10^{-2}$ 且相邻两边夹角在 $\\frac{\\pi}{2}\\pm10^{-2}$ 内且设给定的点为 $(p,q)$，则存在一点 $(p,q+k)\\ (|k|\\leq1)$ 在对应边所在直线上即可 $\\tt \\green {AC}$。\n\n对于 $30\\%$ 的数据，$T=1,|x_i|,|y_i|\\le10^3$。\n\n对于 $70\\%$ 的数据，$1\\leq T\\leq 5\\times 10^4,|x_i|,|y_i|\\le10^6$。\n\n对于 $100\\%$ 的数据，$1\\leq T\\leq 5\\times 10^5,|x_i|,|y_i|\\le10^9$。\n\n数据保证任意两点连成的 $6$ 直线两两之间互不垂直，且没有平行于轴的直线，任意三点不共线。保证不存在一组解的边与轴平行。保证有解。\n\n**为了数据的精确性，您输出时至少需要保留 $8$ 位小数。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "〈 TREEのOI 2022 Spring 〉Dimension-2 Square", "background": "# 本题可能轻微卡精度，建议改用 $\\tt long\\ double$\n\n\n正月十五夜空中。\n\n一行人望着一棵树，一棵飘在天上的树，期待着它变成一个环。\n\n这棵树有 $4$ 个节点。  \n\n“它变成环了！”有人大喊。  \n我顿时向天上望去……  \n\n多么标准的正方形啊！无论哪个天文学家过来测量，它的角都是标准的 $90^{\\circ}$，它的边都是完美的 $1:1:1:1$……  \n\n只见那棵树，不，那标致而又完美的环，缓缓飞过，恰巧嵌在了那轮明月中心……\n\n![](https://cdn.pixabay.com/photo/2016/11/29/13/14/full-moon-1869760_960_720.jpg)", "description": "给定平面直角坐标系上 $4$ 个点的坐标。\n\n你需要使用 ~~%法~~ 魔法，做一个正方形，使得这 $4$ 个点分别在正方形每条边的**直线**上。", "inputFormat": "**本题采用多组数据评测。**\n\n第一行，输入一个数 $T$，表示数据组数。\n\n对于每组数据，共 $4$ 行，每行两个整数 $x_i,y_i$，表示点的坐标。", "outputFormat": "对于每组数据，输出共 $4$ 行，每行两个实数，表示正方形上的四个点的坐标。你需要保证给出的第 $i$ 个点位于正方形的第 $i$ 个和第 $i\\ \\text{mod}\\ 4+1 $ 个顶点形成的边上，且给出的第 $i$ 个点和第 $i\\ \\text{mod}\\ 4+1$ 个点所在的边为邻边。", "hint": "**本题采用 $\\tt SPJ$。**\n\n如答案不唯一，输出一种即可。   \n四边长度的之差 $\\le 10^{-2}$ 且相邻两边夹角在 $\\frac{\\pi}{2}\\pm10^{-2}$ 内且设给定的点为 $(p,q)$，则存在一点 $(p,q+k)\\ (|k|\\leq1)$ 在对应边所在直线上即可 $\\tt \\green {AC}$。\n\n对于 $30\\%$ 的数据，$T=1,|x_i|,|y_i|\\le10^3$。\n\n对于 $70\\%$ 的数据，$1\\leq T\\leq 5\\times 10^4,|x_i|,|y_i|\\le10^6$。\n\n对于 $100\\%$ 的数据，$1\\leq T\\leq 5\\times 10^5,|x_i|,|y_i|\\le10^9$。\n\n数据保证任意两点连成的 $6$ 直线两两之间互不垂直，且没有平行于轴的直线，任意三点不共线。保证不存在一组解的边与轴平行。保证有解。\n\n**为了数据的精确性，您输出时至少需要保留 $8$ 位小数。**", "locale": "zh-CN"}}}
{"pid": "P8310", "type": "P", "difficulty": 5, "samples": [["5 5\n1 2 3 4 5\n1 1 3 3\n2 2 4 2\n3 1 5\n4\n3 1 5", "39\n33"], ["5 7\n1 1 1 1 1\n1 1 3 1\n2 2 4 2\n4\n1 1 5 1\n2 1 5 2\n4\n3 1 5", "31"], ["7 14\n305 740 36 205 343 20 90 \n4\n2 2 7 529\n3 1 2\n1 2 4 713\n4\n3 3 7\n3 2 4\n4\n1 6 7 597\n1 1 4 232\n3 2 4\n1 1 3 220\n3 1 7\n4", "391765\n1121480\n1650480\n521784\n763812"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 409600, 46080, 46080, 46080, 46080, 46080, 46080, 46080, 46080, 46080, 46080]}, "tags": ["线段树", "2022", "洛谷原创", "O2优化"], "title": "〈 TREEのOI 2022 Spring 〉Essential Operations", "background": "最近，月球上神秘出现了一个环。\n\n据说，只要拿到这个环，便可以穿越时空……\n\n![](https://tse1-mm.cn.bing.net/th/id/R-C.a57722cfcdec7e164113680dbf6a0403?rik=eVL5ObGthJQrqw&riu=http%3a%2f%2fimg2.diglog.com%2fimg%2f2021%2f1%2f79df8c71177d1b9035a179506645955b.jpg&ehk=yzECJQeeeiBu9KQrax2R7VjKNVzhg2XI1z0ykNOEx2g%3d&risl=&pid=ImgRaw&r=0)", "description": "你需要维护一个 $n$ 个元素的数列 $A$ ，并执行 $m$ 个操作：\n\n- `1 l r x`：$[l,r]$ 区间全部数加 $x$；\n\n- `2 l r x`：$[l,r]$ 区间全部数乘 $x$；\n\n- `3 l r`：输出 $[l,r]$ 区间所有数的和 $S \\bmod 19260817$ 的值；\n\n- `4`：$A$ 数列回溯到上一次`4`操作**前**（如果不存在上一次则回溯到初始状态），同时**倒序执行**上一次回溯后到回溯前的所有`1`操作和`2`操作（见样例解释）。", "inputFormat": "第一行两个正整数 $n,m$ 。\n\n第二行 $n$ 个整数，代表 $A$ 的初始状态。\n\n第 $3\\sim m+2$ 行：$m$ 个操作，格式见题目描述。", "outputFormat": "对于每个 $3$ 操作，输出一个正整数后换行。", "hint": "#### 样例解释：\n\n##### 1\n\n1. 初始状态 `1 2 3 4 5`；\n2. `1 1 3 3` -> 此时数列为`4 5 6 4 5`；\n3. `2 2 4 2` -> 此时数列为`4 10 12 8 5`；\n4. `3 1 5` -> $ans=4+10+12+8+5=39$\n5. `4` -> 回溯到初始状态`1 2 3 4 5` -> 依次执行`2 2 4 2`与`1 1 3 3` -> 此时数列为`4 7 9 8 5`；\n6. `3 1 5` -> $ans=4+7+9+8+5=33$\n\n##### 2\n\n1. 初始状态 `1 1 1 1 1`\n2. `1 1 3 1`: `2 2 2 1 1`\n3. `2 2 4 2`: `2 4 4 2 1`\n4. `4`: `2 3 3 2 1`\n5. `1 1 5 1`: `3 4 4 3 2`\n6. `2 1 5 2`: `6 8 8 6 4`\n7. `4`: 回溯到`2 4 4 2 1`并依次执行`2 1 5 2` -> `1 1 5 1`: `5 9 9 5 3`\n8. `3 1 5 2` 答案为 $31$\n\n#### 数据范围\n\n对于前 $10\\%$ 的数据，没有 $4$ 操作。\n\n对于前 $30\\%$ 的数据，$n,m \\le 10^3$。\n\n对于前 $50\\%$ 的数据，空间限制为 $400$ MB，另 $50\\%$ 的数据空间限制为 $45$ MB。\n\n对于 $100\\%$ 的数据， $1 \\le n \\le 5 \\times 10^5$，$0 \\le A_i,x \\le 10^3$，$1 \\le m \\le 10^5$ 。\n\nd0j1a_1701 是个煽凉的出题人，所以时间限制为 $500$ ms。\n\n---\n\n#### 彩蛋\n\n\n> ![](https://cdn.luogu.com.cn/upload/image_hosting/d4pi6qm9.png)\n\n\n***\n\n#### 【后记】\n\n你穿着最新款高科技宇航服登上了月球。\n\n那令人梦寐以求的环，就在眼前。\n\n你缓缓走了过去。\n\n只见环却从四周延伸出透明的屏障，里面散发出蓝绿的光芒，将你罩住。\n\n你飞起来了！你已无法分清是你在控制环，还是环在控制你。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cy4fudx3.png)\n\n突然，一道刺眼的亮光照射了进来，你下意识地闭上了眼睛，耳旁呼呼地响。你感觉好像有风，但又不是普通的风。\n\n突然，风停了。腿脚又站在了陆地上。睁开迷蒙的眼睛，你看见，rin 和 len 在玩一个绝对简单的游戏……", "locale": "zh-CN", "translations": {"zh-CN": {"title": "〈 TREEのOI 2022 Spring 〉Essential Operations", "background": "最近，月球上神秘出现了一个环。\n\n据说，只要拿到这个环，便可以穿越时空……\n\n![](https://tse1-mm.cn.bing.net/th/id/R-C.a57722cfcdec7e164113680dbf6a0403?rik=eVL5ObGthJQrqw&riu=http%3a%2f%2fimg2.diglog.com%2fimg%2f2021%2f1%2f79df8c71177d1b9035a179506645955b.jpg&ehk=yzECJQeeeiBu9KQrax2R7VjKNVzhg2XI1z0ykNOEx2g%3d&risl=&pid=ImgRaw&r=0)", "description": "你需要维护一个 $n$ 个元素的数列 $A$ ，并执行 $m$ 个操作：\n\n- `1 l r x`：$[l,r]$ 区间全部数加 $x$；\n\n- `2 l r x`：$[l,r]$ 区间全部数乘 $x$；\n\n- `3 l r`：输出 $[l,r]$ 区间所有数的和 $S \\bmod 19260817$ 的值；\n\n- `4`：$A$ 数列回溯到上一次`4`操作**前**（如果不存在上一次则回溯到初始状态），同时**倒序执行**上一次回溯后到回溯前的所有`1`操作和`2`操作（见样例解释）。", "inputFormat": "第一行两个正整数 $n,m$ 。\n\n第二行 $n$ 个整数，代表 $A$ 的初始状态。\n\n第 $3\\sim m+2$ 行：$m$ 个操作，格式见题目描述。", "outputFormat": "对于每个 $3$ 操作，输出一个正整数后换行。", "hint": "#### 样例解释：\n\n##### 1\n\n1. 初始状态 `1 2 3 4 5`；\n2. `1 1 3 3` -> 此时数列为`4 5 6 4 5`；\n3. `2 2 4 2` -> 此时数列为`4 10 12 8 5`；\n4. `3 1 5` -> $ans=4+10+12+8+5=39$\n5. `4` -> 回溯到初始状态`1 2 3 4 5` -> 依次执行`2 2 4 2`与`1 1 3 3` -> 此时数列为`4 7 9 8 5`；\n6. `3 1 5` -> $ans=4+7+9+8+5=33$\n\n##### 2\n\n1. 初始状态 `1 1 1 1 1`\n2. `1 1 3 1`: `2 2 2 1 1`\n3. `2 2 4 2`: `2 4 4 2 1`\n4. `4`: `2 3 3 2 1`\n5. `1 1 5 1`: `3 4 4 3 2`\n6. `2 1 5 2`: `6 8 8 6 4`\n7. `4`: 回溯到`2 4 4 2 1`并依次执行`2 1 5 2` -> `1 1 5 1`: `5 9 9 5 3`\n8. `3 1 5 2` 答案为 $31$\n\n#### 数据范围\n\n对于前 $10\\%$ 的数据，没有 $4$ 操作。\n\n对于前 $30\\%$ 的数据，$n,m \\le 10^3$。\n\n对于前 $50\\%$ 的数据，空间限制为 $400$ MB，另 $50\\%$ 的数据空间限制为 $45$ MB。\n\n对于 $100\\%$ 的数据， $1 \\le n \\le 5 \\times 10^5$，$0 \\le A_i,x \\le 10^3$，$1 \\le m \\le 10^5$ 。\n\nd0j1a_1701 是个煽凉的出题人，所以时间限制为 $500$ ms。\n\n---\n\n#### 彩蛋\n\n\n> ![](https://cdn.luogu.com.cn/upload/image_hosting/d4pi6qm9.png)\n\n\n***\n\n#### 【后记】\n\n你穿着最新款高科技宇航服登上了月球。\n\n那令人梦寐以求的环，就在眼前。\n\n你缓缓走了过去。\n\n只见环却从四周延伸出透明的屏障，里面散发出蓝绿的光芒，将你罩住。\n\n你飞起来了！你已无法分清是你在控制环，还是环在控制你。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cy4fudx3.png)\n\n突然，一道刺眼的亮光照射了进来，你下意识地闭上了眼睛，耳旁呼呼地响。你感觉好像有风，但又不是普通的风。\n\n突然，风停了。腿脚又站在了陆地上。睁开迷蒙的眼睛，你看见，rin 和 len 在玩一个绝对简单的游戏……", "locale": "zh-CN"}}}
{"pid": "P8311", "type": "P", "difficulty": 2, "samples": [["1\n10", "0"], ["3\n5 5 5", "20"], ["4\n7 3 3 5", "24"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #4] Autići", "background": "", "description": "有 $n$ 个好朋友，每人有一辆遥控汽车和一个车库。第 $i$ 个人有若干个长度为 $d_i$ 的玩具道路部件，可以为汽车建造道路。\n\n两个朋友 $a$ 和 $b$ 可以建造一条长度为 $d_a+d_b$ 道路以连接他们的车库。\n\n我们认为，如果从任意一个车库出发能够到达任意的其他车库，我们称这种情况为“连通交通”。\n\n请求出，构成一个“连通交通”所需要的最小总道路长度是多少？", "inputFormat": "第一行包含一个整数 $n$，表示朋友的人数。\n\n第二行包含 $n$ 个整数 $d_i$，表示第 $i$ 位朋友手中的道路部件的长度。", "outputFormat": "仅一行，输出成一个“连通交通”所需要的最小总道路长度。", "hint": "**【样例 1 解释】**\n\n当只有一位朋友时，已经构成“连通交通”，不必修建道路。故答案为 $0$。\n\n**【样例 3 解释】**\n\n如果在第 $1$ 位和第 $2$ 位朋友、第 $2$ 位和第 $3$ 位朋友、第 $3$ 位和第 $4$ 位朋友之间修建道路可以形成“连通道路”，价格总和为 $(7+3)+(3+3)+(3+5)=24$。\n\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n- Subtask 1（10 pts）：$d_1 = d_2 = \\dots = d_n$。\n- Subtask 2（20 pts）：$1 ≤ n ≤ 10^3$。\n- Subtask 3（20 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$1\\le n\\le10^5,1\\le d_i\\le 10^9$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $50$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T1 Autići。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #4] Autići", "background": "", "description": "有 $n$ 个好朋友，每人有一辆遥控汽车和一个车库。第 $i$ 个人有若干个长度为 $d_i$ 的玩具道路部件，可以为汽车建造道路。\n\n两个朋友 $a$ 和 $b$ 可以建造一条长度为 $d_a+d_b$ 道路以连接他们的车库。\n\n我们认为，如果从任意一个车库出发能够到达任意的其他车库，我们称这种情况为“连通交通”。\n\n请求出，构成一个“连通交通”所需要的最小总道路长度是多少？", "inputFormat": "第一行包含一个整数 $n$，表示朋友的人数。\n\n第二行包含 $n$ 个整数 $d_i$，表示第 $i$ 位朋友手中的道路部件的长度。", "outputFormat": "仅一行，输出成一个“连通交通”所需要的最小总道路长度。", "hint": "**【样例 1 解释】**\n\n当只有一位朋友时，已经构成“连通交通”，不必修建道路。故答案为 $0$。\n\n**【样例 3 解释】**\n\n如果在第 $1$ 位和第 $2$ 位朋友、第 $2$ 位和第 $3$ 位朋友、第 $3$ 位和第 $4$ 位朋友之间修建道路可以形成“连通道路”，价格总和为 $(7+3)+(3+3)+(3+5)=24$。\n\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n- Subtask 1（10 pts）：$d_1 = d_2 = \\dots = d_n$。\n- Subtask 2（20 pts）：$1 ≤ n ≤ 10^3$。\n- Subtask 3（20 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$1\\le n\\le10^5,1\\le d_i\\le 10^9$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $50$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T1 Autići。**", "locale": "zh-CN"}}}
{"pid": "P8312", "type": "P", "difficulty": 3, "samples": [["4 7\n1 2 1\n1 4 10\n2 3 1\n2 4 5\n3 2 2\n3 4 1\n4 3 2\n1 3\n1 4\n4 2\n3 3\n", "10\n-1\n0"], ["4 7\n1 2 1\n1 4 10\n2 3 1\n2 4 5\n3 2 2\n3 4 1\n4 3 2\n2 3\n1 4\n4 2\n3 3", "6\n4\n0\n"], ["4 7\n1 2 1\n1 4 10\n2 3 1\n2 4 5\n3 2 2\n3 4 1\n4 3 2\n3 3\n1 4\n4 2\n3 3", "3\n4\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #4] Autobus", "background": "", "description": "在一个国家里有 $n$ 座城市。这些城市由 $m$ 条公交线路连接，其中第 $i$ 条线路从城市 $a_i$ 出发，到 $b_i$ 停止，路程中耗时 $t_i$ 分钟。\n\nEma 喜欢旅行，但她并不喜欢在公交线路之间换乘。在旅行过程中，她希望**最多**只需坐 $k$ 个不同的公交线路。\n\nEma 想知道，从城市 $c_i$ 到城市 $d_i$ 的最短旅行时间是多少（最多坐 $k$ 个不同的公交线路）。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示城市的数量和公交车线路的数量。\n\n接下来 $m$ 行，第 $i+1$ 包含三个整数 $a_i,b_i,t_i$，分别表示第 $i$ 条公交车线路的起点、终点和从起点到终点所需的时间。\n\n接下来一行包含两个整数 $k,q$，最大坐的不同公交线路的个数和问题题的个数。\n\n接下来 $q$ 行，第 $m+j+3$ 行包含两个整数 $c_j,d_j$，表示询问从城市 $c_j$ 到城市 $d_j$ 的最短旅行时间。", "outputFormat": "输出包含 $q$ 行，第 $i$ 行包含一个整数，表示从城市 $c_i$ 到城市 $d_i$ 的最短旅行时间。", "hint": "**【样例解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kxv8k07a.png)\n\n每个样例中的答案都已经标记在图中。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（15 pts）：$k ≤ n ≤ 7$。\n- Subtask 2（15 pts）：$k ≤ 3$。\n- Subtask 3（25 pts）：$k ≤ n$。\n- Subtask 4（15 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$2\\le n \\le 70,1\\le m,t_i\\le 10^6,1\\le a_i,b_i,c_j,d_j\\le n,1\\le k\\le10^9,1\\le q \\le n^2$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T2  Autobus。** ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #4] Autobus", "background": "", "description": "在一个国家里有 $n$ 座城市。这些城市由 $m$ 条公交线路连接，其中第 $i$ 条线路从城市 $a_i$ 出发，到 $b_i$ 停止，路程中耗时 $t_i$ 分钟。\n\nEma 喜欢旅行，但她并不喜欢在公交线路之间换乘。在旅行过程中，她希望**最多**只需坐 $k$ 个不同的公交线路。\n\nEma 想知道，从城市 $c_i$ 到城市 $d_i$ 的最短旅行时间是多少（最多坐 $k$ 个不同的公交线路）。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示城市的数量和公交车线路的数量。\n\n接下来 $m$ 行，第 $i+1$ 包含三个整数 $a_i,b_i,t_i$，分别表示第 $i$ 条公交车线路的起点、终点和从起点到终点所需的时间。\n\n接下来一行包含两个整数 $k,q$，最大坐的不同公交线路的个数和问题题的个数。\n\n接下来 $q$ 行，第 $m+j+3$ 行包含两个整数 $c_j,d_j$，表示询问从城市 $c_j$ 到城市 $d_j$ 的最短旅行时间。", "outputFormat": "输出包含 $q$ 行，第 $i$ 行包含一个整数，表示从城市 $c_i$ 到城市 $d_i$ 的最短旅行时间。", "hint": "**【样例解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kxv8k07a.png)\n\n每个样例中的答案都已经标记在图中。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（15 pts）：$k ≤ n ≤ 7$。\n- Subtask 2（15 pts）：$k ≤ 3$。\n- Subtask 3（25 pts）：$k ≤ n$。\n- Subtask 4（15 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$2\\le n \\le 70,1\\le m,t_i\\le 10^6,1\\le a_i,b_i,c_j,d_j\\le n,1\\le k\\le10^9,1\\le q \\le n^2$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $70$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T2  Autobus。** ", "locale": "zh-CN"}}}
{"pid": "P8313", "type": "P", "difficulty": 6, "samples": [["2\n1 1", "3"], ["3\n2 1 2", "4"], ["5\n2 2 1 2 3", "10"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #4] Izbori", "background": "", "description": "Malnar 先生正在竞选县长，这个县一共有 $n$ 栋房屋，每栋房屋里都住着一位居民。Malnar 先生知道，选举的赢家不一定是最好的候选人，而是在选举前举办的宴会最好的候选人。因此，在选举前几天，他将邀请第 $l$ 至 $r(l\\le r)$ 栋房屋内居住的居民，为他们准备一顿丰盛的晚餐。\n\nMalnar 先生知道所有居民最喜欢吃的菜。在宴会上，他会准备大多数人喜欢的一道菜。如果一个人吃到了自己最喜欢吃的菜，将会投一票给 Malnar 先生。但是如果没有吃到自己最喜欢吃的菜，他们将会把票投给 Vlado 先生。如果没有来参加晚宴的居民，他们将会忘记选举，不做出任何投票。如果一个候选人获得了投了票的人中一半以上的人的支持，他将会赢得竞选。\n\nMalnar 先生想知道，有多少组的 $(l,r)$ 可以使他赢得竞选。", "inputFormat": "第一行包含一个整数 $n$，表示房屋的数量。\n\n第二行包含 $n$ 个整数 $a_i$，表示第 $i$ 栋房屋内居民最喜欢的菜。", "outputFormat": "仅一行，输出可以使 Malnar 先生赢得竞选的 $(l,r)$ 的组数。", "hint": "**【样例 2 解释】**\n\n可以使 Malnar 先生赢得竞选的 $(l,r)$ 为：$(1, 1),(2, 2),(3, 3),(1, 3)$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$1 ≤ n ≤ 300$。\n- Subtask 2（15 pts）：$1 ≤ n ≤ 2\\times10^3$。\n- Subtask 3（15 pts）：$\\forall i\\in\\{1,2,3,\\dots,n\\},1 ≤ a_i ≤ 2$。\n- Subtask 4（70 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$1 \\le l\\le r ≤ n ≤ 2\\times10^5,1 ≤ a_i ≤ 10^9$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T3 Izbori。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #4] Izbori", "background": "", "description": "Malnar 先生正在竞选县长，这个县一共有 $n$ 栋房屋，每栋房屋里都住着一位居民。Malnar 先生知道，选举的赢家不一定是最好的候选人，而是在选举前举办的宴会最好的候选人。因此，在选举前几天，他将邀请第 $l$ 至 $r(l\\le r)$ 栋房屋内居住的居民，为他们准备一顿丰盛的晚餐。\n\nMalnar 先生知道所有居民最喜欢吃的菜。在宴会上，他会准备大多数人喜欢的一道菜。如果一个人吃到了自己最喜欢吃的菜，将会投一票给 Malnar 先生。但是如果没有吃到自己最喜欢吃的菜，他们将会把票投给 Vlado 先生。如果没有来参加晚宴的居民，他们将会忘记选举，不做出任何投票。如果一个候选人获得了投了票的人中一半以上的人的支持，他将会赢得竞选。\n\nMalnar 先生想知道，有多少组的 $(l,r)$ 可以使他赢得竞选。", "inputFormat": "第一行包含一个整数 $n$，表示房屋的数量。\n\n第二行包含 $n$ 个整数 $a_i$，表示第 $i$ 栋房屋内居民最喜欢的菜。", "outputFormat": "仅一行，输出可以使 Malnar 先生赢得竞选的 $(l,r)$ 的组数。", "hint": "**【样例 2 解释】**\n\n可以使 Malnar 先生赢得竞选的 $(l,r)$ 为：$(1, 1),(2, 2),(3, 3),(1, 3)$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$1 ≤ n ≤ 300$。\n- Subtask 2（15 pts）：$1 ≤ n ≤ 2\\times10^3$。\n- Subtask 3（15 pts）：$\\forall i\\in\\{1,2,3,\\dots,n\\},1 ≤ a_i ≤ 2$。\n- Subtask 4（70 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$1 \\le l\\le r ≤ n ≤ 2\\times10^5,1 ≤ a_i ≤ 10^9$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T3 Izbori。**", "locale": "zh-CN"}}}
{"pid": "P8314", "type": "P", "difficulty": 6, "samples": [["9 3\n1 2 5\n1 3 1\n3 4 10\n3 5 9\n5 6 8\n2 7 1\n2 8 2\n8 9 7", "8\n4 5 8"], ["5 2\n1 2 3\n2 3 7\n3 4 3\n4 5 3", "3\n2 4"], ["7 4\n1 3 1\n1 4 1\n2 3 1\n5 3 1\n4 7 1\n4 6 1\n", "1\n3 4 1 2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2021", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #4] Parkovi", "background": "市政府决定修建公园来美化景观。为了让公园不仅好看，而且有用。市政府为了市民的幸福，希望公园里居民们更近一些。", "description": "这个城市由 $n$ 个社区组成，社区间由 $n-1$ 条道路连接。并且从任意一个社区出发，可以到任意一个社区去。一共会建造 $k$ 座公园，同一个社区内只会存在一座公园。市政府希望尽可能减小从每个社区到最近公园的距离的最大值。\n\n帮助政府应该在那些社区建造公园，可以使每个社区到最近公园的距离的最大值最小。", "inputFormat": "第一行包含两个整数 $n,k$，分别表示社区数目和需要建造的公园数目。\n\n接下来 $n-1$ 行，第 $i$ 行包含三个数 $a_i,b_i,w_i$，分别表示有一条长度为 $w_i$ 道路连接着社区 $a_i,b_i$。", "outputFormat": "第一行包含一个整数，即每个社区到最近公园的距离的最大值的最小值。\n\n第二行包含 $k$ 个整数，可以使每个社区到最近公园的距离的最大值最小所需要修建的公园所在的社区编号。\n\n**如果有多组解输出一组解。**", "hint": "**【样例 3 解释】**\n\n如果只在 $3,4$ 号社区建公园，最大距离不会改变。但是市政府想建 $k$ 个公园，所以需要在其他地方再建两个。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$1 ≤ n ≤ 20$。\n- Subtask 2（10 pts）：$k=1$。\n- Subtask 3（30 pts）：$\\forall i\\in\\{1,2,3,\\dots,n-1\\},a_i=i,b_i=i+1$。\n- Subtask 4（60 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le2\\times10^5,1\\le a_i,b_i\\le n,1\\le w_i \\le 1e9$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T4 Parkovi。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #4] Parkovi", "background": "市政府决定修建公园来美化景观。为了让公园不仅好看，而且有用。市政府为了市民的幸福，希望公园里居民们更近一些。", "description": "这个城市由 $n$ 个社区组成，社区间由 $n-1$ 条道路连接。并且从任意一个社区出发，可以到任意一个社区去。一共会建造 $k$ 座公园，同一个社区内只会存在一座公园。市政府希望尽可能减小从每个社区到最近公园的距离的最大值。\n\n帮助政府应该在那些社区建造公园，可以使每个社区到最近公园的距离的最大值最小。", "inputFormat": "第一行包含两个整数 $n,k$，分别表示社区数目和需要建造的公园数目。\n\n接下来 $n-1$ 行，第 $i$ 行包含三个数 $a_i,b_i,w_i$，分别表示有一条长度为 $w_i$ 道路连接着社区 $a_i,b_i$。", "outputFormat": "第一行包含一个整数，即每个社区到最近公园的距离的最大值的最小值。\n\n第二行包含 $k$ 个整数，可以使每个社区到最近公园的距离的最大值最小所需要修建的公园所在的社区编号。\n\n**如果有多组解输出一组解。**", "hint": "**【样例 3 解释】**\n\n如果只在 $3,4$ 号社区建公园，最大距离不会改变。但是市政府想建 $k$ 个公园，所以需要在其他地方再建两个。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$1 ≤ n ≤ 20$。\n- Subtask 2（10 pts）：$k=1$。\n- Subtask 3（30 pts）：$\\forall i\\in\\{1,2,3,\\dots,n-1\\},a_i=i,b_i=i+1$。\n- Subtask 4（60 pts）：没有额外限制。\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le2\\times10^5,1\\le a_i,b_i\\le n,1\\le w_i \\le 1e9$。\n\n**【提示与说明】**\n\n**本题分值按 COCI 原题设置，满分 $110$。**\n\n**题目译自 [COCI2021-2022](https://hsin.hr/coci/) [CONTEST #4](https://hsin.hr/coci/contest4_tasks.pdf) T4 Parkovi。**", "locale": "zh-CN"}}}
