{"pid": "P10715", "type": "P", "difficulty": 4, "samples": [["3\n3\n1 2 3\n1 1 1\n5\n1 2 3 4 5\n2 5 3 6 4\n10\n1 8 3 5 2 6 3 4 6 2\n3 2 7 1 8 2 5 8 3 1", "-1 2 0 -1\n-1 -1 7 0 9 -1\n-1 -1 5 3 4 0 7 8 6 -1 -1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "O2优化", "前缀和", "梦熊比赛"], "title": "【MX-X1-T3】「KDOI-05」简单的序列问题", "background": "原题链接：<https://oier.team/problems/X1C>。", "description": "给出一个长度为 $n$ 的序列 $a$。定义其前缀和数组 $b_i=\\sum_{j=1}^ia_j$。定义其权值 $S=\\sum_{i=1}^n(b_i\\bmod 2)$。\n\n你可以对序列 $a$ 进行若干次如下操作：\n\n* 交换 $a_i,a_j$，花费 $c_i+c_j$ 元，其中 $c$ 为给定序列；\n\n对于 $i=0\\sim n$，求使得 $S=i$ 的最少钱数。如果不可能，输出 $-1$。", "inputFormat": "**本题包含多组测试数据。**\n\n第一行一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行一个正整数 $n$，表示序列长度。\n\n第二行 $n$ 个正整数，表示序列 $a$。\n\n第三行 $n$ 个正整数，表示序列 $c$。", "outputFormat": "对于每组测试数据：\n\n一行，$n+1$ 个整数，第 $i$ 个表示 $S=i-1$ 的最少钱数。如果不可能，输出 $-1$。", "hint": "**【样例解释】**\n\n对于第一组数据，初始 $\\sum_{i=1}^n(b_i\\bmod 2)=2$，故使 $S=2$ 最少要花 $0$ 元。\n\n交换 $a_1,a_2$ 即可使 $\\sum_{i=1}^n(b_i\\bmod 2)=1$，故使 $S=1$ 可以花费 $2$ 元。可以证明这是最优解。\n\n可以证明不存在交换方案使得 $S=0$ 或 $S=3$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n\\leq$ | $\\sum n\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $10$ | $5$ | $50$ | 无 |\n| $2$ | $10$ | $500$ | $500$ | $a$ 中至多有 $3$ 个奇数 |\n| $3$ | $15$ | $30$ | $150$ | 无 |\n| $4$ | $25$ | $100$ | $500$ | 无 |\n| $5$ | $10$ | $500$ | $500$ | $c_i=1$ |\n| $6$ | $30$ | $500$ | $500$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq n,\\sum n\\leq500$，$1\\leq a_i\\leq10^9$，$1\\leq c_i\\leq10^6$，$1\\leq T\\leq500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X1-T3】「KDOI-05」简单的序列问题", "background": "原题链接：<https://oier.team/problems/X1C>。", "description": "给出一个长度为 $n$ 的序列 $a$。定义其前缀和数组 $b_i=\\sum_{j=1}^ia_j$。定义其权值 $S=\\sum_{i=1}^n(b_i\\bmod 2)$。\n\n你可以对序列 $a$ 进行若干次如下操作：\n\n* 交换 $a_i,a_j$，花费 $c_i+c_j$ 元，其中 $c$ 为给定序列；\n\n对于 $i=0\\sim n$，求使得 $S=i$ 的最少钱数。如果不可能，输出 $-1$。", "inputFormat": "**本题包含多组测试数据。**\n\n第一行一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行一个正整数 $n$，表示序列长度。\n\n第二行 $n$ 个正整数，表示序列 $a$。\n\n第三行 $n$ 个正整数，表示序列 $c$。", "outputFormat": "对于每组测试数据：\n\n一行，$n+1$ 个整数，第 $i$ 个表示 $S=i-1$ 的最少钱数。如果不可能，输出 $-1$。", "hint": "**【样例解释】**\n\n对于第一组数据，初始 $\\sum_{i=1}^n(b_i\\bmod 2)=2$，故使 $S=2$ 最少要花 $0$ 元。\n\n交换 $a_1,a_2$ 即可使 $\\sum_{i=1}^n(b_i\\bmod 2)=1$，故使 $S=1$ 可以花费 $2$ 元。可以证明这是最优解。\n\n可以证明不存在交换方案使得 $S=0$ 或 $S=3$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n\\leq$ | $\\sum n\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $10$ | $5$ | $50$ | 无 |\n| $2$ | $10$ | $500$ | $500$ | $a$ 中至多有 $3$ 个奇数 |\n| $3$ | $15$ | $30$ | $150$ | 无 |\n| $4$ | $25$ | $100$ | $500$ | 无 |\n| $5$ | $10$ | $500$ | $500$ | $c_i=1$ |\n| $6$ | $30$ | $500$ | $500$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq n,\\sum n\\leq500$，$1\\leq a_i\\leq10^9$，$1\\leq c_i\\leq10^6$，$1\\leq T\\leq500$。", "locale": "zh-CN"}}}
{"pid": "P10716", "type": "P", "difficulty": 6, "samples": [["10\naabaacaaaa\n5\n5 3\n5 2\n6 1\n10 4\n10 5", "1\n2\n1\n2\n1"], ["10\nbababababa\n10\n6 1\n6 2\n6 3\n6 4\n6 5\n10 2\n10 3\n9 4\n5 5\n4 2", "1\n1\n1\n0\n0\n2\n1\n1\n0\n1\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "倍增", "树上启发式合并", "O2优化", "KMP 算法", "梦熊比赛"], "title": "【MX-X1-T4】「KDOI-05」简单的字符串问题", "background": "原题链接：<https://oier.team/problems/X1D>。", "description": "你有一个字符串 $S$。$q$ 个询问，每次给出 $(i,k)$，求有多少个非空字符串 $A$，使得存在可空字符串 $B_1,B_2,\\dots,B_{k-1}$ 满足：\n\n$$S[1,i]=AB_1AB_2A\\dots AB_{k-1}A$$\n\n其中 $S[1,i]$ 表示 $S$ 的长度为 $i$ 的前缀。", "inputFormat": "第一行一个正整数 $n$ 表示 $S$ 的长度。\n\n接下来一个长度为 $n$ 且仅包含小写字母的字符串表示 $S$。\n\n接下来一行一个正整数表示 $q$。\n\n接下来 $q$ 行，每行两个正整数表示一个询问的 $i,k$。", "outputFormat": "输出 $q$ 行，每行一个非负整数表示答案。", "hint": "**【样例解释 \\#1】**\n\n对于第一次询问 $(5,3)$，可以取 $A=\\texttt{a}$，$B_1=\\varepsilon$，$B_2=\\texttt{ba}$，其中 $\\varepsilon$ 表示空串。可以证明有且仅有一个合法的 $A$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n,q\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1$ | $5$ | $500$ | 无 |\n| $2$ | $10$ | $5000$ | 无 |\n| $3$ | $10$ | $2\\times10^5$ | $S$ 中字符从 $\\tt a,b$ 中随机生成 |\n| $4$ | $20$ | $2\\times10^5$ | 每个询问的 $k$ 相同 |\n| $5$ | $20$ | $5\\times10^4$ | 无 |\n| $6$ | $35$ | $2\\times10^5$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq k\\leq i\\leq n\\leq 2\\times 10^5$，$1\\leq q\\leq 2\\times 10^5$，$s$ 仅包含小写字母。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X1-T4】「KDOI-05」简单的字符串问题", "background": "原题链接：<https://oier.team/problems/X1D>。", "description": "你有一个字符串 $S$。$q$ 个询问，每次给出 $(i,k)$，求有多少个非空字符串 $A$，使得存在可空字符串 $B_1,B_2,\\dots,B_{k-1}$ 满足：\n\n$$S[1,i]=AB_1AB_2A\\dots AB_{k-1}A$$\n\n其中 $S[1,i]$ 表示 $S$ 的长度为 $i$ 的前缀。", "inputFormat": "第一行一个正整数 $n$ 表示 $S$ 的长度。\n\n接下来一个长度为 $n$ 且仅包含小写字母的字符串表示 $S$。\n\n接下来一行一个正整数表示 $q$。\n\n接下来 $q$ 行，每行两个正整数表示一个询问的 $i,k$。", "outputFormat": "输出 $q$ 行，每行一个非负整数表示答案。", "hint": "**【样例解释 \\#1】**\n\n对于第一次询问 $(5,3)$，可以取 $A=\\texttt{a}$，$B_1=\\varepsilon$，$B_2=\\texttt{ba}$，其中 $\\varepsilon$ 表示空串。可以证明有且仅有一个合法的 $A$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n,q\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1$ | $5$ | $500$ | 无 |\n| $2$ | $10$ | $5000$ | 无 |\n| $3$ | $10$ | $2\\times10^5$ | $S$ 中字符从 $\\tt a,b$ 中随机生成 |\n| $4$ | $20$ | $2\\times10^5$ | 每个询问的 $k$ 相同 |\n| $5$ | $20$ | $5\\times10^4$ | 无 |\n| $6$ | $35$ | $2\\times10^5$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq k\\leq i\\leq n\\leq 2\\times 10^5$，$1\\leq q\\leq 2\\times 10^5$，$s$ 仅包含小写字母。", "locale": "zh-CN"}}}
{"pid": "P10717", "type": "P", "difficulty": 7, "samples": [["3 1\n1 2\n2 3\n499122177 499122177 499122177\n1 2\n1 3\n1 4", "499122186"], ["10 2\n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 8\n8 9\n9 10\n1 2 3 4 5 6 7 8 9 10\n10 9 8 7 6 5 4 3 2 1\n1 1 4 5\n1 4 1 9\n1 9 8 1\n0 1 1 4\n5 1 4 1\n9 1 9 8\n1 0 9 9\n8 2 4 4\n3 5 3 1\n2 3 4 5", "497209006"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "容斥原理", "快速沃尔什变换 FWT", "状压 DP", "梦熊比赛"], "title": "【MX-X1-T5】「KDOI-05」简单的树上问题", "background": "原题链接：<https://oier.team/problems/X1E>。", "description": "小 S 有一棵 $n$ 个点的树。每个点上有一个灯泡。\n\n小 S 决定进行 $k$ 次闪灯操作。执行闪灯操作时，他会用电脑主机给每个灯泡发送一次闪灯操作。\n\n然而，小 S 的灯泡是劣质品，只有一部分的灯泡可以收到小 S 的闪灯操作。具体地，第 $j$ 个点上的灯泡有 $p_{i,j}$ 的概率收到小 S 的第 $i$ 次闪灯操作。\n\n好在，小 S 的不同灯泡之间有信息传递功能。具体地，如果一个灯泡在两个收到信息的灯泡的树上最短路径上，这个灯泡也能执行闪灯操作（当然，收到信息的灯泡会执行闪灯操作）。\n\n定义一个灯泡 $i$ 的美丽度为 $a_{i,S}$，其中 $S$ 为这个灯泡执行闪灯操作的操作集合。\n\n定义整棵树的美丽度为每个灯泡美丽度的乘积。求整棵树美丽度的期望，对 $998244353$ 取模。", "inputFormat": "第一行两个正整数 $n,k$，表示树的点数与操作次数。\n\n接下来 $n-1$ 行每行两个正整数 $u,v$，表示树上的一条边 $(u,v)$。\n\n接下来 $k$ 行每行 $n$ 个非负整数，第 $i$ 行第 $j$ 个表示 $p_{i,j}$ 对 $998244353$ 取模后的值。\n\n接下来 $n$ 行每行 $2^k$ 个非负整数，第 $i$ 行第 $(\\sum_{i=1}^k2^{i-1}[i\\in S])+1$ 个表示 $a_{i,S}$。可以理解为 $a_{i,j}$ 中 $j-1$ 的从低到高第 $x$ 个二进制位代表是否有 $x$ 操作。", "outputFormat": "一行，一个非负整数，表示整棵树的美丽度的期望，对 $998244353$ 取模。", "hint": "**【样例解释 \\#1】**\n\n::cute-table\n\n| 收到信息灯泡集合 | 灯泡美丽度 | 树美丽度 |\n|:--:|:--:|:--:|\n| $\\varnothing$ | $1,1,1$ | $1$ |\n| $\\{1\\}$ | $2,1,1$ | $2$ |\n| $\\{2\\}$ | $1,3,1$ | $3$ |\n| $\\{3\\}$ | $1,1,4$ | $4$ |\n| $\\{1,2\\}$ | $2,3,1$ | $6$ |\n| $\\{1,3\\}$ | $2,3,4$ | $24$ |\n| $\\{2,3\\}$ | $1,3,4$ | $12$ |\n| $\\{1,2,3\\}$ | $2,3,4$ | $24$ |\n\n故美丽度的期望是 $\\frac{1+2+3+4+6+24+12+24}{8}=\\frac{19}{2}$，对 $998244353$ 取模后为 $499122186$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n::cute-table{tuack}\n\n| 子任务编号 | 分值 | $n\\leq$ | $k\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $5$ | $20$ | $1$ | 无 |\n| $2$ | $10$ | $100$ | $2$ | 第 $i$ 条边连接 $i$ 与 $i+1$ 号节点 |\n| $3$ | $5$ | $100$ | $8$ | $p_{i,j}=0$ 或 $p_{i,j}=1$ |\n| $4$ | $5$ | $100$ | $8$ | $a_{i,S}=[S=\\{1,2,\\dots,k\\}]$ |\n| $5$ | $20$ | $100$ | $8$ | 第 $i$ 条边连接 $i$ 与 $i+1$ 号节点 |\n| $6$ | $15$ | $100$ | $6$ | 无 |\n| $7$ | $15$ | $100$ | $7$ | 无 |\n| $8$ | $10$ | $50$ | $8$ | 无 |\n| $9$ | $15$ | $100$ | $8$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq100$，$1\\leq k\\leq8$，$1\\leq u,v\\leq n$，保证给出数据为一棵树，保证其他输入数据均为 $[0,998244353)$ 中的整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X1-T5】「KDOI-05」简单的树上问题", "background": "原题链接：<https://oier.team/problems/X1E>。", "description": "小 S 有一棵 $n$ 个点的树。每个点上有一个灯泡。\n\n小 S 决定进行 $k$ 次闪灯操作。执行闪灯操作时，他会用电脑主机给每个灯泡发送一次闪灯操作。\n\n然而，小 S 的灯泡是劣质品，只有一部分的灯泡可以收到小 S 的闪灯操作。具体地，第 $j$ 个点上的灯泡有 $p_{i,j}$ 的概率收到小 S 的第 $i$ 次闪灯操作。\n\n好在，小 S 的不同灯泡之间有信息传递功能。具体地，如果一个灯泡在两个收到信息的灯泡的树上最短路径上，这个灯泡也能执行闪灯操作（当然，收到信息的灯泡会执行闪灯操作）。\n\n定义一个灯泡 $i$ 的美丽度为 $a_{i,S}$，其中 $S$ 为这个灯泡执行闪灯操作的操作集合。\n\n定义整棵树的美丽度为每个灯泡美丽度的乘积。求整棵树美丽度的期望，对 $998244353$ 取模。", "inputFormat": "第一行两个正整数 $n,k$，表示树的点数与操作次数。\n\n接下来 $n-1$ 行每行两个正整数 $u,v$，表示树上的一条边 $(u,v)$。\n\n接下来 $k$ 行每行 $n$ 个非负整数，第 $i$ 行第 $j$ 个表示 $p_{i,j}$ 对 $998244353$ 取模后的值。\n\n接下来 $n$ 行每行 $2^k$ 个非负整数，第 $i$ 行第 $(\\sum_{i=1}^k2^{i-1}[i\\in S])+1$ 个表示 $a_{i,S}$。可以理解为 $a_{i,j}$ 中 $j-1$ 的从低到高第 $x$ 个二进制位代表是否有 $x$ 操作。", "outputFormat": "一行，一个非负整数，表示整棵树的美丽度的期望，对 $998244353$ 取模。", "hint": "**【样例解释 \\#1】**\n\n::cute-table\n\n| 收到信息灯泡集合 | 灯泡美丽度 | 树美丽度 |\n|:--:|:--:|:--:|\n| $\\varnothing$ | $1,1,1$ | $1$ |\n| $\\{1\\}$ | $2,1,1$ | $2$ |\n| $\\{2\\}$ | $1,3,1$ | $3$ |\n| $\\{3\\}$ | $1,1,4$ | $4$ |\n| $\\{1,2\\}$ | $2,3,1$ | $6$ |\n| $\\{1,3\\}$ | $2,3,4$ | $24$ |\n| $\\{2,3\\}$ | $1,3,4$ | $12$ |\n| $\\{1,2,3\\}$ | $2,3,4$ | $24$ |\n\n故美丽度的期望是 $\\frac{1+2+3+4+6+24+12+24}{8}=\\frac{19}{2}$，对 $998244353$ 取模后为 $499122186$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n::cute-table{tuack}\n\n| 子任务编号 | 分值 | $n\\leq$ | $k\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $5$ | $20$ | $1$ | 无 |\n| $2$ | $10$ | $100$ | $2$ | 第 $i$ 条边连接 $i$ 与 $i+1$ 号节点 |\n| $3$ | $5$ | $100$ | $8$ | $p_{i,j}=0$ 或 $p_{i,j}=1$ |\n| $4$ | $5$ | $100$ | $8$ | $a_{i,S}=[S=\\{1,2,\\dots,k\\}]$ |\n| $5$ | $20$ | $100$ | $8$ | 第 $i$ 条边连接 $i$ 与 $i+1$ 号节点 |\n| $6$ | $15$ | $100$ | $6$ | 无 |\n| $7$ | $15$ | $100$ | $7$ | 无 |\n| $8$ | $10$ | $50$ | $8$ | 无 |\n| $9$ | $15$ | $100$ | $8$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq100$，$1\\leq k\\leq8$，$1\\leq u,v\\leq n$，保证给出数据为一棵树，保证其他输入数据均为 $[0,998244353)$ 中的整数。", "locale": "zh-CN"}}}
{"pid": "P10718", "type": "P", "difficulty": 7, "samples": [["4 5 3\n1 1\n3 2\n2 3\n4 4\n1 2\n1 3\n1 4\n2 4\n3 4\n3 1 2 4\n3 1 3 4\n4 1 2 4 3\n3\n1\n2\n3\n", "3\n3\n1"], ["8 15 5\n4 4\n5 8\n2 7\n10 9\n1 10\n3 5\n8 2\n7 6\n2 1\n3 1\n3 2\n4 1\n4 2\n5 2\n5 3\n5 4\n6 1\n6 3\n7 1\n7 4\n8 1\n8 4\n8 7\n3 1 8 4 \n3 1 6 3 \n3 7 8 4 \n4 8 1 7 4 \n3 1 2 3 \n5\n1\n2\n3\n4\n5", "5\n8\n5\n1\n0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "计算几何", "平衡树", "O2优化", "平面图", "平面图欧拉公式", "梦熊比赛"], "title": "【MX-X1-T6】「KDOI-05」简单的图上问题", "background": "原题链接：<https://oier.team/problems/X1F>。", "description": "给你一个 $n$ 个点 $m$ 条边的边双连通图，并且给定了每个点的坐标，保证每条边不相交或者只在端点处重合。\n\n给定 $k$ 个图上的简单环 $C_1,C_2,\\dots,C_k$，定义 $G_i$ 为只考虑 $C_i$ 内部的点和边所组成的图。\n\n对 $S\\subseteq\\{1,2,\\dots,k\\},S=\\{s_1,s_2,\\dots,s_t\\}$，定义 $f(S)$ 表示所有 $G_{s_i}$ 交的连通块数量。\n\n有 $q$ 个询问，每次给出一个 $z$，输出 $\\sum_{S\\subseteq\\{1,2,\\dots,k\\},|S|=z}f(S)$。对 $998244353$ 取模。", "inputFormat": "第一行三个正整数表示 $n,m,k$。\n\n接下来 $n$ 行，每行两个整数 $(x_i,y_i)$ 表示第 $i$ 个点的坐标。保证所有 $1\\leq i<j\\leq n$，都有 $x_i\\neq x_j,y_i\\neq y_j$。\n\n接下来 $m$ 行，每行两个正整数 $u_i,v_i$，表示一条连接 $(u_i,v_i)$ 的无向边。\n\n接下来 $k$ 行，每行第一个正整数 $l_i$ 表示环的大小，接下来 $l_i$ 个正整数 $C_{i,1},C_{i,2},\\dots,C_{i,l_i}$ 表示一个原图的简单环，保证 $C_{i,j}$ 按顺序连接可以得到原图上的一个环。\n\n接着一行一个正整数表示 $q$。\n\n最后 $q$ 行，每行一个正整数表示询问的 $z_i$。", "outputFormat": "输出 $q$ 行，每行一个整数表示 $\\sum_{S\\subseteq\\{1,2,\\dots,k\\},|S|=z}f(S)$ 对 $998244353$ 取模后的值。", "hint": "**【样例解释 \\#1】**\n\n样例 $1$ 的数据如图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7v424onc.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1$ | $15$ | $10$ | 无 |\n| $2$ | $30$ | $1000$ | 无 |\n| $3$ | $30$ | $4\\times10^4$ | 保证平面图是一个凸包的三角剖分 |\n| $4$ | $15$ | $4\\times10^4$ | 无 |\n| $5$ | $10$ | $10^5$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq n,\\sum l_i\\leq10^5$，$1\\leq m\\leq 3n-6$，$3\\leq l_i$，$0\\leq |x_i|,|y_i|\\leq 10^9$，$1\\leq q\\leq 20$，$1\\leq u_i,v_i\\leq n$，$u_i\\neq v_i$，$1\\leq z_i\\leq k$。保证所有 $1\\leq i<j\\leq n$，都有 $x_i\\neq x_j,y_i\\neq y_j$。保证每条边不相交或者只在端点处重合，保证图是一个边双连通分量。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X1-T6】「KDOI-05」简单的图上问题", "background": "原题链接：<https://oier.team/problems/X1F>。", "description": "给你一个 $n$ 个点 $m$ 条边的边双连通图，并且给定了每个点的坐标，保证每条边不相交或者只在端点处重合。\n\n给定 $k$ 个图上的简单环 $C_1,C_2,\\dots,C_k$，定义 $G_i$ 为只考虑 $C_i$ 内部的点和边所组成的图。\n\n对 $S\\subseteq\\{1,2,\\dots,k\\},S=\\{s_1,s_2,\\dots,s_t\\}$，定义 $f(S)$ 表示所有 $G_{s_i}$ 交的连通块数量。\n\n有 $q$ 个询问，每次给出一个 $z$，输出 $\\sum_{S\\subseteq\\{1,2,\\dots,k\\},|S|=z}f(S)$。对 $998244353$ 取模。", "inputFormat": "第一行三个正整数表示 $n,m,k$。\n\n接下来 $n$ 行，每行两个整数 $(x_i,y_i)$ 表示第 $i$ 个点的坐标。保证所有 $1\\leq i<j\\leq n$，都有 $x_i\\neq x_j,y_i\\neq y_j$。\n\n接下来 $m$ 行，每行两个正整数 $u_i,v_i$，表示一条连接 $(u_i,v_i)$ 的无向边。\n\n接下来 $k$ 行，每行第一个正整数 $l_i$ 表示环的大小，接下来 $l_i$ 个正整数 $C_{i,1},C_{i,2},\\dots,C_{i,l_i}$ 表示一个原图的简单环，保证 $C_{i,j}$ 按顺序连接可以得到原图上的一个环。\n\n接着一行一个正整数表示 $q$。\n\n最后 $q$ 行，每行一个正整数表示询问的 $z_i$。", "outputFormat": "输出 $q$ 行，每行一个整数表示 $\\sum_{S\\subseteq\\{1,2,\\dots,k\\},|S|=z}f(S)$ 对 $998244353$ 取模后的值。", "hint": "**【样例解释 \\#1】**\n\n样例 $1$ 的数据如图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7v424onc.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 分值 | $n\\leq$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1$ | $15$ | $10$ | 无 |\n| $2$ | $30$ | $1000$ | 无 |\n| $3$ | $30$ | $4\\times10^4$ | 保证平面图是一个凸包的三角剖分 |\n| $4$ | $15$ | $4\\times10^4$ | 无 |\n| $5$ | $10$ | $10^5$ | 无 |\n\n对于 $100\\%$ 的数据：$1\\leq n,\\sum l_i\\leq10^5$，$1\\leq m\\leq 3n-6$，$3\\leq l_i$，$0\\leq |x_i|,|y_i|\\leq 10^9$，$1\\leq q\\leq 20$，$1\\leq u_i,v_i\\leq n$，$u_i\\neq v_i$，$1\\leq z_i\\leq k$。保证所有 $1\\leq i<j\\leq n$，都有 $x_i\\neq x_j,y_i\\neq y_j$。保证每条边不相交或者只在端点处重合，保证图是一个边双连通分量。", "locale": "zh-CN"}}}
{"pid": "P10719", "type": "P", "difficulty": 3, "samples": [["4 5 5\n00000\n01111\n00011\n00011", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "2024", "前缀和", "GESP"], "title": "[GESP202406 五级] 黑白格", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1153>", "description": "小杨有一个 $n$ 行 $m$ 列的网格图，其中每个格子要么是白色，要么是黑色。\n\n小杨想知道至少包含 $k$ 个黑色格子的最小子矩形包含了多少个格子。", "inputFormat": "第一行包含三个正整数 $n,m,k$，含义如题面所示。\n\n之后 $n$ 行，每行⼀个长度为 $m$ 的 $\\texttt{01}$ 串，代表网格图第 $i$ 行格子的颜色，如果为 $\\texttt{0}$，则对应格子为白色，否则为黑色。", "outputFormat": "输出一个整数，代表至少包含 $k$ 个黑色格子的最小子矩形包含格子的数量，如果不存在则输出 $0$。", "hint": "#### 样例解释\n\n对于样例 $1$，假设 $(i,j)$ 代表第 $i$ 行第 $j$ 列，至少包含 $5$ 个黑色格子的最小子矩形的四个顶点为 $(2,4)$，$(2,5)$，$(4,4)$，$(4,5)$，共包含 $6$ 个格子。\n\n#### 数据范围\n\n对于全部数据，保证有 $1\\le n,m\\le 100$，$1\\le k\\le n\\times m$。\n\n| 子任务编号 | 得分 | $n,m$ |\n| :--: | :--: | :--: |\n| $1$ | $20$ | $\\le 10$  |\n| $2$ | $40$ | $n=1$，$1\\le m\\le 100$ |\n| $3$ | $40$ | $\\le 100$|\n\nUpdate on 2024/7/9：添加了若干组 hack 数据，感谢 @cff_0102 的贡献。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 五级] 黑白格", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1153>", "description": "小杨有一个 $n$ 行 $m$ 列的网格图，其中每个格子要么是白色，要么是黑色。\n\n小杨想知道至少包含 $k$ 个黑色格子的最小子矩形包含了多少个格子。", "inputFormat": "第一行包含三个正整数 $n,m,k$，含义如题面所示。\n\n之后 $n$ 行，每行⼀个长度为 $m$ 的 $\\texttt{01}$ 串，代表网格图第 $i$ 行格子的颜色，如果为 $\\texttt{0}$，则对应格子为白色，否则为黑色。", "outputFormat": "输出一个整数，代表至少包含 $k$ 个黑色格子的最小子矩形包含格子的数量，如果不存在则输出 $0$。", "hint": "#### 样例解释\n\n对于样例 $1$，假设 $(i,j)$ 代表第 $i$ 行第 $j$ 列，至少包含 $5$ 个黑色格子的最小子矩形的四个顶点为 $(2,4)$，$(2,5)$，$(4,4)$，$(4,5)$，共包含 $6$ 个格子。\n\n#### 数据范围\n\n对于全部数据，保证有 $1\\le n,m\\le 100$，$1\\le k\\le n\\times m$。\n\n| 子任务编号 | 得分 | $n,m$ |\n| :--: | :--: | :--: |\n| $1$ | $20$ | $\\le 10$  |\n| $2$ | $40$ | $n=1$，$1\\le m\\le 100$ |\n| $3$ | $40$ | $\\le 100$|\n\nUpdate on 2024/7/9：添加了若干组 hack 数据，感谢 @cff_0102 的贡献。", "locale": "zh-CN"}}}
{"pid": "P10720", "type": "P", "difficulty": 2, "samples": [["3\n7\n12\n30", "0\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "数论", "GESP"], "title": "[GESP202406 五级] 小杨的幸运数字", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1153>", "description": "小杨认为他的幸运数字应该恰好有两种不同的质因子，例如，$12=2\\times 2\\times 3$ 的质因子有 $2,3$，恰好为两种不同的质因子，因此 $12$ 是幸运数字，而 $30=2\\times3\\times5$ 的质因子有 $2,3,5$，不符合要求，不为幸运数字。\n\n小杨现在有 $n$ 个正整数，他想知道每个正整数是否是他的幸运数字。", "inputFormat": "第一行包含一个正整数 $n$，代表正整数个数。\n\n之后 $n$ 行，每行一个正整数。", "outputFormat": "输出 $n$ 行，对于每个正整数，如果是幸运数字，输出 $1$，否则输出 $0$。\n", "hint": "### 样例解释\n\n$7$ 的质因子有 $7$，只有一种。\n\n$12$ 的质因子有 $2,3$，恰好有两种。\n\n$30$ 的质因子有 $2,3,5$，有三种。\n\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|正整数值域\n:-:|:-:|:-:|:-:\n$1$|$40\\%$|$\\leq 100$|$\\leq 10^5$\n$2$|$60\\%$|$\\leq 10^4$|$\\leq 10^6$\n\n对于全部数据，保证有 $1\\leq n\\leq 10^4$，每个正整数 $a_i$ 满足 $2\\leq a_i\\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 五级] 小杨的幸运数字", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1153>", "description": "小杨认为他的幸运数字应该恰好有两种不同的质因子，例如，$12=2\\times 2\\times 3$ 的质因子有 $2,3$，恰好为两种不同的质因子，因此 $12$ 是幸运数字，而 $30=2\\times3\\times5$ 的质因子有 $2,3,5$，不符合要求，不为幸运数字。\n\n小杨现在有 $n$ 个正整数，他想知道每个正整数是否是他的幸运数字。", "inputFormat": "第一行包含一个正整数 $n$，代表正整数个数。\n\n之后 $n$ 行，每行一个正整数。", "outputFormat": "输出 $n$ 行，对于每个正整数，如果是幸运数字，输出 $1$，否则输出 $0$。\n", "hint": "### 样例解释\n\n$7$ 的质因子有 $7$，只有一种。\n\n$12$ 的质因子有 $2,3$，恰好有两种。\n\n$30$ 的质因子有 $2,3,5$，有三种。\n\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|正整数值域\n:-:|:-:|:-:|:-:\n$1$|$40\\%$|$\\leq 100$|$\\leq 10^5$\n$2$|$60\\%$|$\\leq 10^4$|$\\leq 10^6$\n\n对于全部数据，保证有 $1\\leq n\\leq 10^4$，每个正整数 $a_i$ 满足 $2\\leq a_i\\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P10721", "type": "P", "difficulty": 3, "samples": [["3\n3 1 2\n13\ndabcabcabcabz\n", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2024", "背包 DP", "GESP"], "title": "[GESP202406 六级] 计算得分", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1154>", "description": "小杨想要计算由 $m$ 个小写字母组成的字符串的得分。\n\n小杨设置了一个包含 $n$ 个正整数的计分序列 $A=[a_1,a_2,\\ldots,a_n]$，如果字符串的一个子串由 $k(1\\leq k \\leq n)$ 个 $\\texttt{abc}$ 首尾相接组成，那么能够得到分数 $a_k$，并且字符串包含的字符不能够重复计算得分，整个字符串的得分是计分子串的总和。\n\n例如，假设 ，字符串 $\\texttt{dabcabcabcabzabc}$ 的所有可能计分方式如下：\n- $\\texttt{d+abc+abcabc+abz+abc}$ 或者 $\\texttt{d+abcabc+abc+abz+abc}$，其中 $\\texttt{d}$ 和 $\\texttt{abz}$ 不计算得分，总得分为 $a_1+a_2+a_1$。\n- $\\texttt{d+abc+abc+abc+abz+abc}$，总得分为 $a_1+a_1+a_1+a_1$。\n- $\\texttt{d+abcabcabc+abz+abc}$，总得分为 $a_3+a_1$。\n\n小杨想知道对于给定的字符串，最大总得分是多少。", "inputFormat": "- 第一行包含一个正整数 $n$，代表计分序列 $A$ 的长度。\n\n- 第二行包含 $n$ 个正整数，代表计分序列 $A$。\n\n- 第三行包含一个正整数 $m$，代表字符串的长度。\n\n- 第四行包含一个由 $m$ 个小写字母组成的字符串。", "outputFormat": "输出一个整数，代表给定字符串的最大总得分。", "hint": "### 样例解释\n最优的计分方式为 $\\texttt{d+abc+abc+abc+abz}$，总得分为 $a_1+a_1+a_1$，共 $9$ 分。\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|$m$|$a_i$|特殊性质\n:-:|:-:|:-:|:-:|:-:|:-:\n$1$|$20\\%$|$\\le 20$|$\\le 10^5$|$\\le 1000$|对于所有的 $i(1 \\le i \\le n)$，存在 $a_i \\ge a_{i+1}$\n$2$|$40\\%$|$\\le 3$|$\\le 10^5$|$\\le 1000$|\n$3$|$40\\%$|$\\le 20$|$\\le 10^5$|$\\le 1000$|\n\n对于全部数据，保证有 $1\\leq n\\leq 20$，$1\\leq m\\leq 10^5$，$1\\leq a_i\\leq 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 六级] 计算得分", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1154>", "description": "小杨想要计算由 $m$ 个小写字母组成的字符串的得分。\n\n小杨设置了一个包含 $n$ 个正整数的计分序列 $A=[a_1,a_2,\\ldots,a_n]$，如果字符串的一个子串由 $k(1\\leq k \\leq n)$ 个 $\\texttt{abc}$ 首尾相接组成，那么能够得到分数 $a_k$，并且字符串包含的字符不能够重复计算得分，整个字符串的得分是计分子串的总和。\n\n例如，假设 ，字符串 $\\texttt{dabcabcabcabzabc}$ 的所有可能计分方式如下：\n- $\\texttt{d+abc+abcabc+abz+abc}$ 或者 $\\texttt{d+abcabc+abc+abz+abc}$，其中 $\\texttt{d}$ 和 $\\texttt{abz}$ 不计算得分，总得分为 $a_1+a_2+a_1$。\n- $\\texttt{d+abc+abc+abc+abz+abc}$，总得分为 $a_1+a_1+a_1+a_1$。\n- $\\texttt{d+abcabcabc+abz+abc}$，总得分为 $a_3+a_1$。\n\n小杨想知道对于给定的字符串，最大总得分是多少。", "inputFormat": "- 第一行包含一个正整数 $n$，代表计分序列 $A$ 的长度。\n\n- 第二行包含 $n$ 个正整数，代表计分序列 $A$。\n\n- 第三行包含一个正整数 $m$，代表字符串的长度。\n\n- 第四行包含一个由 $m$ 个小写字母组成的字符串。", "outputFormat": "输出一个整数，代表给定字符串的最大总得分。", "hint": "### 样例解释\n最优的计分方式为 $\\texttt{d+abc+abc+abc+abz}$，总得分为 $a_1+a_1+a_1$，共 $9$ 分。\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|$m$|$a_i$|特殊性质\n:-:|:-:|:-:|:-:|:-:|:-:\n$1$|$20\\%$|$\\le 20$|$\\le 10^5$|$\\le 1000$|对于所有的 $i(1 \\le i \\le n)$，存在 $a_i \\ge a_{i+1}$\n$2$|$40\\%$|$\\le 3$|$\\le 10^5$|$\\le 1000$|\n$3$|$40\\%$|$\\le 20$|$\\le 10^5$|$\\le 1000$|\n\n对于全部数据，保证有 $1\\leq n\\leq 20$，$1\\leq m\\leq 10^5$，$1\\leq a_i\\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P10722", "type": "P", "difficulty": 3, "samples": [["6\n3 1 1 3 4\n100101\n3\n1\n3\n2", "010000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树形数据结构", "2024", "图遍历", "树的遍历", "GESP"], "title": "[GESP202406 六级] 二叉树", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1154>", "description": "小杨有一棵包含 $n$ 个节点的二叉树，且根节点的编号为 $1$。这棵二叉树任意一个节点要么是白色，要么是黑色。之后小杨会对这棵二叉树进行 $q$ 次操作，每次小杨会选择一个节点，将以这个节点为根的子树内所有节点的颜色反转，即黑色变成白色，白色变成黑色。\n\n小杨想知道 $q$ 次操作全部完成之后每个节点的颜色。", "inputFormat": "第一行一个正整数 $n$，表示二叉树的节点数量。\n\n第二行 $(n-1)$ 个正整数，第 $i$（$1\\le i\\le n-1$）个数表示编号为 $(i+1)$ 的节点的父亲节点编号，数据保证是一棵二叉树。\n\n第三行一个长度为 $n$ 的 $\\texttt{01}$ 串，从左到右第 $i$（$1\\le i\\le n$）位如果为 $\\texttt{0}$，表示编号为 $i$ 的节点颜色为白色，否则为黑色。\n\n第四行一个正整数 $q$，表示操作次数。\n\n接下来 $q$ 行每行一个正整数 $a_i$（$1\\le a_i\\le n$），表示第 $i$ 次操作选择的节点编号。", "outputFormat": "输出一行一个长度为 $n$ 的 $\\texttt{01}$ 串，表示 $q$ 次操作全部完成之后每个节点的颜色。从左到右第 $i$（$1\\le i\\le n$） 位如果为 $\\texttt{0}$，表示编号为 $i$ 的节点颜色为白色，否则为黑色。", "hint": "#### 样例解释\n\n第一次操作后，节点颜色为：$\\texttt{011010}$\n\n第二次操作后，节点颜色为：$\\texttt{000000}$\n\n第三次操作后，节点颜色为：$\\texttt{010000}$\n\n#### 数据范围\n\n| 子任务编号 | 得分 | $n$ | $q$ | 特殊条件 |\n| :--: | :--: | :--: | :--: | :--: |\n| $1$ |  $20$ | $\\le 10^5$ | $\\le 10^5$ |对于所有 $i\\ge 2$，节点 $i$ 的父亲节点编号为 $i-1$\n| $2$ |  $40$ | $\\le 1000$ | $\\le 1000$ | |\n| $3$ | $40$ | $\\le 10^5$ | $\\le 10^5$ | |\n\n对于全部数据，保证有 $n,q\\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 六级] 二叉树", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1154>", "description": "小杨有一棵包含 $n$ 个节点的二叉树，且根节点的编号为 $1$。这棵二叉树任意一个节点要么是白色，要么是黑色。之后小杨会对这棵二叉树进行 $q$ 次操作，每次小杨会选择一个节点，将以这个节点为根的子树内所有节点的颜色反转，即黑色变成白色，白色变成黑色。\n\n小杨想知道 $q$ 次操作全部完成之后每个节点的颜色。", "inputFormat": "第一行一个正整数 $n$，表示二叉树的节点数量。\n\n第二行 $(n-1)$ 个正整数，第 $i$（$1\\le i\\le n-1$）个数表示编号为 $(i+1)$ 的节点的父亲节点编号，数据保证是一棵二叉树。\n\n第三行一个长度为 $n$ 的 $\\texttt{01}$ 串，从左到右第 $i$（$1\\le i\\le n$）位如果为 $\\texttt{0}$，表示编号为 $i$ 的节点颜色为白色，否则为黑色。\n\n第四行一个正整数 $q$，表示操作次数。\n\n接下来 $q$ 行每行一个正整数 $a_i$（$1\\le a_i\\le n$），表示第 $i$ 次操作选择的节点编号。", "outputFormat": "输出一行一个长度为 $n$ 的 $\\texttt{01}$ 串，表示 $q$ 次操作全部完成之后每个节点的颜色。从左到右第 $i$（$1\\le i\\le n$） 位如果为 $\\texttt{0}$，表示编号为 $i$ 的节点颜色为白色，否则为黑色。", "hint": "#### 样例解释\n\n第一次操作后，节点颜色为：$\\texttt{011010}$\n\n第二次操作后，节点颜色为：$\\texttt{000000}$\n\n第三次操作后，节点颜色为：$\\texttt{010000}$\n\n#### 数据范围\n\n| 子任务编号 | 得分 | $n$ | $q$ | 特殊条件 |\n| :--: | :--: | :--: | :--: | :--: |\n| $1$ |  $20$ | $\\le 10^5$ | $\\le 10^5$ |对于所有 $i\\ge 2$，节点 $i$ 的父亲节点编号为 $i-1$\n| $2$ |  $40$ | $\\le 1000$ | $\\le 1000$ | |\n| $3$ | $40$ | $\\le 10^5$ | $\\le 10^5$ | |\n\n对于全部数据，保证有 $n,q\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10723", "type": "P", "difficulty": 4, "samples": [["5\n0 1 0 1 0\n1 2\n1 3\n3 4\n3 5\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "树形 DP", "拓扑排序", "树的遍历", "GESP"], "title": "[GESP202406 七级] 黑白翻转", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1155>", "description": "小杨有一棵包含 $n$ 个节点的树，这棵树上的任意一个节点要么是白色，要么是黑色。小杨认为一棵树是美丽树当且仅当在删除所有白色节点之后，剩余节点仍然组成一棵树。\n\n小杨每次操作可以选择一个白色节点将它的颜色变为黑色，他想知道自己最少要执行多少次操作可以使得这棵树变为美丽树。\n", "inputFormat": "第一行包含一个正整数 $n$，代表树的节点数。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,\\ldots,a_n$，其中如果 $a_i=0$，则节点 $i$ 的颜色为白色，否则为黑色。\n\n之后 $n-1$ 行，每行包含两个正整数 $x_i,y_i$，代表存在一条连接节点 $x_i$ 和 $y_i$ 的边。\n", "outputFormat": "输出一个整数，代表最少执行的操作次数。\n", "hint": "### 样例解释\n\n将节点 $1$ 和 $3$ 变为黑色即可使这棵树变为美丽树，此时删除白色节点 $5$，剩余黑色节点仍然组成一棵树。\n\n### 数据范围\n子任务编号|数据点占比|$n$ |$a_i$ |特殊条件\n:-:|:-:|:-:|:-:|:-:\n$1$|$30\\%$ |$\\leq 10^5$ | $0\\leq a_i\\leq 1$|树的形态为一条链\n$2$|$30\\%$ | $\\leq 10^5$ | $0\\leq a_i\\leq 1$| 只有两个节点颜色为黑色\n$3$|$40\\%$|$\\leq 10^5$|$0\\leq a_i\\leq 1$|\n\n对于全部数据，保证有 $1\\leq n\\leq 10^5$，$0\\leq a_i\\leq 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 七级] 黑白翻转", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1155>", "description": "小杨有一棵包含 $n$ 个节点的树，这棵树上的任意一个节点要么是白色，要么是黑色。小杨认为一棵树是美丽树当且仅当在删除所有白色节点之后，剩余节点仍然组成一棵树。\n\n小杨每次操作可以选择一个白色节点将它的颜色变为黑色，他想知道自己最少要执行多少次操作可以使得这棵树变为美丽树。\n", "inputFormat": "第一行包含一个正整数 $n$，代表树的节点数。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,\\ldots,a_n$，其中如果 $a_i=0$，则节点 $i$ 的颜色为白色，否则为黑色。\n\n之后 $n-1$ 行，每行包含两个正整数 $x_i,y_i$，代表存在一条连接节点 $x_i$ 和 $y_i$ 的边。\n", "outputFormat": "输出一个整数，代表最少执行的操作次数。\n", "hint": "### 样例解释\n\n将节点 $1$ 和 $3$ 变为黑色即可使这棵树变为美丽树，此时删除白色节点 $5$，剩余黑色节点仍然组成一棵树。\n\n### 数据范围\n子任务编号|数据点占比|$n$ |$a_i$ |特殊条件\n:-:|:-:|:-:|:-:|:-:\n$1$|$30\\%$ |$\\leq 10^5$ | $0\\leq a_i\\leq 1$|树的形态为一条链\n$2$|$30\\%$ | $\\leq 10^5$ | $0\\leq a_i\\leq 1$| 只有两个节点颜色为黑色\n$3$|$40\\%$|$\\leq 10^5$|$0\\leq a_i\\leq 1$|\n\n对于全部数据，保证有 $1\\leq n\\leq 10^5$，$0\\leq a_i\\leq 1$。", "locale": "zh-CN"}}}
{"pid": "P10724", "type": "P", "difficulty": 4, "samples": [["5\n3 2 4 3 2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "数论", "前缀和", "位运算", "GESP"], "title": "[GESP202406 七级] 区间乘积", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1155>", "description": "小杨有一个包含 $n$ 个正整数的序列 $A=[a_1,a_2,\\ldots,a_n]$。\n\n小杨想知道有多少对 $\\langle l,r\\rangle(1\\leq l\\leq r\\leq n)$ 满足 $a_l\\times a_{l+1}\\times\\ldots\\times a_r$ 为完全平方数。\n\n一个正整数 $x$ 为完全平方数当且仅当存在一个正整数 $y$ 使得 $x=y\\times y$。\n", "inputFormat": "第一行包含一个正整数 $n$，代表正整数个数。\n\n第二行包含 $n$ 个正整数 $a_i$，代表序列 $A$。", "outputFormat": "输出一个整数，代表满足要求的 $\\langle l,r\\rangle$ 数量。\n", "hint": "### 样例解释\n\n满足条件的 $\\langle l,r\\rangle$ 有  $\\langle 1,5\\rangle$ 和 $\\langle 3,3\\rangle$。\n\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|$a_i$\n:-:|:-:|:-:|:-:\n$1$|$20\\%$|$\\leq 10^5$|$1\\leq a_i\\leq 2$\n$2$|$40\\%$|$\\leq 100$|$1\\leq a_i\\leq 30$\n$3$|$40\\%$|$\\leq 10^5$|$1\\leq a_i\\leq 30$\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 七级] 区间乘积", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1155>", "description": "小杨有一个包含 $n$ 个正整数的序列 $A=[a_1,a_2,\\ldots,a_n]$。\n\n小杨想知道有多少对 $\\langle l,r\\rangle(1\\leq l\\leq r\\leq n)$ 满足 $a_l\\times a_{l+1}\\times\\ldots\\times a_r$ 为完全平方数。\n\n一个正整数 $x$ 为完全平方数当且仅当存在一个正整数 $y$ 使得 $x=y\\times y$。\n", "inputFormat": "第一行包含一个正整数 $n$，代表正整数个数。\n\n第二行包含 $n$ 个正整数 $a_i$，代表序列 $A$。", "outputFormat": "输出一个整数，代表满足要求的 $\\langle l,r\\rangle$ 数量。\n", "hint": "### 样例解释\n\n满足条件的 $\\langle l,r\\rangle$ 有  $\\langle 1,5\\rangle$ 和 $\\langle 3,3\\rangle$。\n\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|$a_i$\n:-:|:-:|:-:|:-:\n$1$|$20\\%$|$\\leq 10^5$|$1\\leq a_i\\leq 2$\n$2$|$40\\%$|$\\leq 100$|$1\\leq a_i\\leq 30$\n$3$|$40\\%$|$\\leq 10^5$|$1\\leq a_i\\leq 30$\n", "locale": "zh-CN"}}}
{"pid": "P10725", "type": "P", "difficulty": 4, "samples": [["5\n0 1 0 1 0\n1 2\n1 3\n3 4\n3 5", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "树的遍历", "树的直径", "GESP"], "title": "[GESP202406 八级] 最远点对", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1156>", "description": "小杨有一棵包含 $n$ 个节点的树，这棵树上的任意一个节点要么是白色，要么是黑色。\n\n小杨想知道相距最远的一对不同颜色节点的距离是多少。", "inputFormat": "第一行包含一个正整数 $n$，代表树的节点数。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,\\cdots,a_n$（对于所有的 $1\\le i\\le n$，均有 $a_i$ 等于 $0$ 或 $1$），其中如果 $a_i=0$，则节点 $i$ 的颜色为白色；如果 $a_i=1$，则节点 $i$ 的颜色为黑色。\n\n之后 $(n-1)$ 行，每行包含两个正整数 $x_i,y_i$，代表存在一条连接节点 $x_i$ 和 $y_i$ 的边。\n\n保证输入的树中存在不同颜色的点。", "outputFormat": "输出一个整数，代表相距最远的一对不同颜色节点的距离。", "hint": "#### 样例解释\n\n相距最远的不同颜色的一对节点为节点 $2$ 和 $5$。\n\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 得分 | $n$ | $a_i$ | 特殊条件 |\n| :--: | :--: | :--: | :--: | :--: |\n| $1$ |  $30$ | $\\le 10^5$ | $0\\le a_i\\le 1$ | 树的形态为一条链 |\n| $2$ | $30$ | $\\le 10^3$ | $0\\le a_i\\le 1$ | |\t\n| $3$ | $40$ | $\\le 10^5$ | $0\\le a_i\\le 1$ | |\t\n\n对于全部数据，保证有 $1\\le n\\le 10^5$，$0\\le a_i\\le 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 八级] 最远点对", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1156>", "description": "小杨有一棵包含 $n$ 个节点的树，这棵树上的任意一个节点要么是白色，要么是黑色。\n\n小杨想知道相距最远的一对不同颜色节点的距离是多少。", "inputFormat": "第一行包含一个正整数 $n$，代表树的节点数。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,\\cdots,a_n$（对于所有的 $1\\le i\\le n$，均有 $a_i$ 等于 $0$ 或 $1$），其中如果 $a_i=0$，则节点 $i$ 的颜色为白色；如果 $a_i=1$，则节点 $i$ 的颜色为黑色。\n\n之后 $(n-1)$ 行，每行包含两个正整数 $x_i,y_i$，代表存在一条连接节点 $x_i$ 和 $y_i$ 的边。\n\n保证输入的树中存在不同颜色的点。", "outputFormat": "输出一个整数，代表相距最远的一对不同颜色节点的距离。", "hint": "#### 样例解释\n\n相距最远的不同颜色的一对节点为节点 $2$ 和 $5$。\n\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 得分 | $n$ | $a_i$ | 特殊条件 |\n| :--: | :--: | :--: | :--: | :--: |\n| $1$ |  $30$ | $\\le 10^5$ | $0\\le a_i\\le 1$ | 树的形态为一条链 |\n| $2$ | $30$ | $\\le 10^3$ | $0\\le a_i\\le 1$ | |\t\n| $3$ | $40$ | $\\le 10^5$ | $0\\le a_i\\le 1$ | |\t\n\n对于全部数据，保证有 $1\\le n\\le 10^5$，$0\\le a_i\\le 1$。", "locale": "zh-CN"}}}
{"pid": "P10726", "type": "P", "difficulty": 4, "samples": [["3\n3 1\n5 6 3\n3 5 6\n1 4 100000", "100001"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2024", "最短路", "GESP"], "title": "[GESP202406 八级] 空间跳跃", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1156>", "description": "小杨在二维空间中有 $n$ 个水平挡板，并且挡板之间彼此不重叠，其中第 $i$ 个挡板处于水平高度 $h_i$，左右端点分别位于 $l_i$ 与 $r_i$。\n\n小杨可以在挡板上左右移动，当小杨移动到右端点时，如果再向右移动会竖直掉落，从而落到下方第一个挡板上，移动到左端点时同理。小杨在挡板上每移动 $1$ 个单位长度会耗费 $1$ 个单位时间，掉落时每掉落 $1$ 个单位高度也会耗费 $1$ 个单位时间。\n\n小杨想知道，从第 $s$ 个挡板上的左端点出发到第 $t$ 个挡板需要耗费的最少时间是多少？\n\n注意：可能无法从第 $s$ 个挡板到达到第 $t$ 个挡板。", "inputFormat": "第一行包含一个正整数 $n$，代表挡板数量。\n\n第二行包含两个正整数 $s,t$，含义如题面所示。\n\n之后 $n$ 行，每行包含三个正整数 $l_i,r_i,h_i$，代表第 $i$ 个挡板的左右端点位置与高度。\n", "outputFormat": "输出一个整数代表需要耗费的最少时间，如果无法到达则输出 $-1$。\n", "hint": "### 样例解释\n\n耗费时间最少的移动方案为，从第 $3$ 个挡板左端点移动到右端点，耗费 $3$ 个单位时间，然后向右移动掉落到第 $2$ 个挡板上，耗费 $100000-6=99994$ 个单位时间，之后再向右移动 $1$ 个单位长度，耗费 $1$ 个单位时间，最后向右移动掉落到第 $1$ 个挡板上，耗费 $3$ 个单位时间。共耗费 $100001$ 个单位时间。\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|特殊条件\n:-:|:-:|:-:|:-:\n$1$|$20\\%$|$\\leq 1000$|$l_i=1$\n$2$|$40\\%$|$\\leq 1000$|$l_i=i,r_i=i+1$\n$3$|$40\\%$|$\\leq 1000$|\n\n对于全部数据，保证有 $1\\leq n\\leq 1000$，$1\\leq l_i\\leq r_i\\leq 10^5$，$1\\leq h_i\\leq 10^5$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202406 八级] 空间跳跃", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1156>", "description": "小杨在二维空间中有 $n$ 个水平挡板，并且挡板之间彼此不重叠，其中第 $i$ 个挡板处于水平高度 $h_i$，左右端点分别位于 $l_i$ 与 $r_i$。\n\n小杨可以在挡板上左右移动，当小杨移动到右端点时，如果再向右移动会竖直掉落，从而落到下方第一个挡板上，移动到左端点时同理。小杨在挡板上每移动 $1$ 个单位长度会耗费 $1$ 个单位时间，掉落时每掉落 $1$ 个单位高度也会耗费 $1$ 个单位时间。\n\n小杨想知道，从第 $s$ 个挡板上的左端点出发到第 $t$ 个挡板需要耗费的最少时间是多少？\n\n注意：可能无法从第 $s$ 个挡板到达到第 $t$ 个挡板。", "inputFormat": "第一行包含一个正整数 $n$，代表挡板数量。\n\n第二行包含两个正整数 $s,t$，含义如题面所示。\n\n之后 $n$ 行，每行包含三个正整数 $l_i,r_i,h_i$，代表第 $i$ 个挡板的左右端点位置与高度。\n", "outputFormat": "输出一个整数代表需要耗费的最少时间，如果无法到达则输出 $-1$。\n", "hint": "### 样例解释\n\n耗费时间最少的移动方案为，从第 $3$ 个挡板左端点移动到右端点，耗费 $3$ 个单位时间，然后向右移动掉落到第 $2$ 个挡板上，耗费 $100000-6=99994$ 个单位时间，之后再向右移动 $1$ 个单位长度，耗费 $1$ 个单位时间，最后向右移动掉落到第 $1$ 个挡板上，耗费 $3$ 个单位时间。共耗费 $100001$ 个单位时间。\n\n### 数据范围\n\n子任务编号|数据点占比|$n$|特殊条件\n:-:|:-:|:-:|:-:\n$1$|$20\\%$|$\\leq 1000$|$l_i=1$\n$2$|$40\\%$|$\\leq 1000$|$l_i=i,r_i=i+1$\n$3$|$40\\%$|$\\leq 1000$|\n\n对于全部数据，保证有 $1\\leq n\\leq 1000$，$1\\leq l_i\\leq r_i\\leq 10^5$，$1\\leq h_i\\leq 10^5$。\n", "locale": "zh-CN"}}}
{"pid": "P10727", "type": "P", "difficulty": 1, "samples": [["3\n5 9\n19 4\n8 10", "80"], ["5\n8 2\n4 9\n3 8\n1 7\n9 4\n", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["模拟", "2023", "枚举", "NOISG（新加坡）"], "title": "[NOISG 2023 Qualification] Area", "background": "", "description": "Stuart 有 $n$ 个长方形，第 $i$ 个长方形长 $h_i$，宽 $w_i$。\n\n长方形的面积是它所覆盖的区域的大小。Stuart 想请你帮他找到这 $n$ 个长方形中面积最大的一个的面积。", "inputFormat": "第一行，一个整数 $n$。\n\n接下来 $n$ 行，每行两个整数 $h_i,w_i$，表示第 $i$ 个长方形的长和宽。", "outputFormat": "一个整数，表示最大面积。", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$50$|$n=1$|\n|$2$|$50$|无|\n\n对于所有数据，$1\\le n\\le100,1\\le h_i,w_i\\le1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2023 Qualification] Area", "background": "", "description": "Stuart 有 $n$ 个长方形，第 $i$ 个长方形长 $h_i$，宽 $w_i$。\n\n长方形的面积是它所覆盖的区域的大小。Stuart 想请你帮他找到这 $n$ 个长方形中面积最大的一个的面积。", "inputFormat": "第一行，一个整数 $n$。\n\n接下来 $n$ 行，每行两个整数 $h_i,w_i$，表示第 $i$ 个长方形的长和宽。", "outputFormat": "一个整数，表示最大面积。", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$50$|$n=1$|\n|$2$|$50$|无|\n\n对于所有数据，$1\\le n\\le100,1\\le h_i,w_i\\le1000$。", "locale": "zh-CN"}}}
{"pid": "P10728", "type": "P", "difficulty": 2, "samples": [["3\n2 3\n1 3\n5 3\n", "1"], ["4\n5 6\n2 5\n6 9\n1 3\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "贪心", "2023", "排序", "扫描线", "NOISG（新加坡）"], "title": "[NOISG 2023 Qualification] Swords", "background": "", "description": "YH 有 $n$ 把剑，第 $i$ 把剑的攻击力为 $a_i$，防御能力为 $b_i$。\n\n对于一把剑 $i$，如果存在一个 $j(j \\not = i)$，使得 $a_i\\le a_j$ 且 $b_i\\le b_j$，那么 YH 就认为这把剑是无用的。反之，他就认为这把剑是有用的。\n\n在本题中，我们保证，不可能找到两把剑 $i,j$，使得 $a_i=a_j$ 且 $b_i=b_j$。\n\n请你帮助 YH 求出这 $n$ 把剑中，有用的剑的数量。", "inputFormat": "第一行，一个整数 $n$。\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$，表示第 $i$ 把剑形的攻击力和防御能力。", "outputFormat": "一个整数，表示有用的剑**的数量**。", "hint": "|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$11$|$n\\le500$|\n|$2$|$21$|$a_i,b_i\\le500$|\n|$3$|$34$|$a_i=i$|\n|$4$|$25$|对于每一个 $1\\le i<j\\le n$，有 $a_i\\not =a_j$|\n|$5$|$9$|无|\n\n对于所有数据，$1\\le n\\le100000,1\\le a_i,b_i\\le10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2023 Qualification] Swords", "background": "", "description": "YH 有 $n$ 把剑，第 $i$ 把剑的攻击力为 $a_i$，防御能力为 $b_i$。\n\n对于一把剑 $i$，如果存在一个 $j(j \\not = i)$，使得 $a_i\\le a_j$ 且 $b_i\\le b_j$，那么 YH 就认为这把剑是无用的。反之，他就认为这把剑是有用的。\n\n在本题中，我们保证，不可能找到两把剑 $i,j$，使得 $a_i=a_j$ 且 $b_i=b_j$。\n\n请你帮助 YH 求出这 $n$ 把剑中，有用的剑的数量。", "inputFormat": "第一行，一个整数 $n$。\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$，表示第 $i$ 把剑形的攻击力和防御能力。", "outputFormat": "一个整数，表示有用的剑**的数量**。", "hint": "|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$11$|$n\\le500$|\n|$2$|$21$|$a_i,b_i\\le500$|\n|$3$|$34$|$a_i=i$|\n|$4$|$25$|对于每一个 $1\\le i<j\\le n$，有 $a_i\\not =a_j$|\n|$5$|$9$|无|\n\n对于所有数据，$1\\le n\\le100000,1\\le a_i,b_i\\le10^9$。", "locale": "zh-CN"}}}
{"pid": "P10729", "type": "P", "difficulty": 4, "samples": [["5\n1 2 3 4 5", "1 1 2 2 3"], ["5\n2 4 6 8 10\n", "1 2 3 4 5"], ["5\n3 3 1 3 2", "1 1 2 2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2023", "NOISG（新加坡）"], "title": "[NOISG 2023 Qualification] Dolls", "background": "", "description": "Marc 正在教幼儿园的小朋友，他选择套娃来教小朋友们认识物体的大小。\n\n一个套娃有一个自己的尺寸，记为 $a$。如果两个套娃 $x$ 和 $y$ 的尺寸 $a_x$ 和 $a_y$ 可以满足 $a_x-a_y\\ge2$，那么套娃 $y$ 可以放在套娃 $x$ 中。\n\n很显然，套娃之间是可以互相嵌套多层的。于是 Marc 想请你回答一些问题：\n\n这些问题持续 $n$ 天。在第 $i$ 天，Marc 购买了一个大小为 $a_i$ 的套娃。他想请你求出，在买完第 $i$ 个套娃后，他用前 $i$ 个套娃最多可以套多少层。", "inputFormat": "第一行，一个正整数 $n$。\n\n第二行 $n$ 个整数，表示 $a$。", "outputFormat": "一行 $n$ 个正整数，第 $i$ 个表示用前 $i$ 个套娃最多能套多少层。", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$23$|$n\\le200$|\n|$2$|$14$|$a_i$ 为奇数|\n|$3$|$27$|$a_i$ 不为 $4$ 的倍数|\n|$4$|$36$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 100000,1 \\le a_i \\le 500000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2023 Qualification] Dolls", "background": "", "description": "Marc 正在教幼儿园的小朋友，他选择套娃来教小朋友们认识物体的大小。\n\n一个套娃有一个自己的尺寸，记为 $a$。如果两个套娃 $x$ 和 $y$ 的尺寸 $a_x$ 和 $a_y$ 可以满足 $a_x-a_y\\ge2$，那么套娃 $y$ 可以放在套娃 $x$ 中。\n\n很显然，套娃之间是可以互相嵌套多层的。于是 Marc 想请你回答一些问题：\n\n这些问题持续 $n$ 天。在第 $i$ 天，Marc 购买了一个大小为 $a_i$ 的套娃。他想请你求出，在买完第 $i$ 个套娃后，他用前 $i$ 个套娃最多可以套多少层。", "inputFormat": "第一行，一个正整数 $n$。\n\n第二行 $n$ 个整数，表示 $a$。", "outputFormat": "一行 $n$ 个正整数，第 $i$ 个表示用前 $i$ 个套娃最多能套多少层。", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$23$|$n\\le200$|\n|$2$|$14$|$a_i$ 为奇数|\n|$3$|$27$|$a_i$ 不为 $4$ 的倍数|\n|$4$|$36$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 100000,1 \\le a_i \\le 500000$。", "locale": "zh-CN"}}}
{"pid": "P10730", "type": "P", "difficulty": 5, "samples": [["3\n14 10 100\n3 1 1\n2 3 1", "5"], ["2\n83 72\n1 3\n1 3", "24"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2023", "NOISG（新加坡）"], "title": "[NOISG 2023 Qualification] Burgers", "background": "", "description": "龙虾 Kai 经营着一家汉堡店。做一个汉堡需要 $n$ 种原料，第 $i$ 种原料他有 $x_i$ 份。\n\n他手中有两种汉堡食谱，这两种汉堡对于第 $i$ 种原料分别需要 $a_i$ 份和 $b_i$ 份来制作。\n\n计算 Kai 最多能用这些原料制作多少个汉堡。", "inputFormat": "第一行，一个正整数 $n$。\n\n第二行 $n$ 个整数，表示 $x$。\n\n第三行 $n$ 个整数，表示 $a$。\n\n第四行 $n$ 个整数，表示 $b$。", "outputFormat": "一行一个整数表示最多能制作多少个汉堡。", "hint": "### 【样例 #1 解释】\n\nKai 可以制作 $3$ 个第一种汉堡和 $2$ 个第二种汉堡。\n\n### 【样例 #2 解释】\n\nKai 可以制作 $24$ 个第一种汉堡或 $24$ 个第二种汉堡。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$9$|对于所有的 $1 \\le i \\le n$，$a_i=b_i$。|\n|$2$|$17$|$n,x_i\\le100$|\n|$3$|$25$|$n,x_i\\le1500$|\n|$4$|$49$|无|\n\n对于 $100\\%$ 的数据，$1\\le n\\le100000,1\\le x_i,a_i,b_i\\le10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2023 Qualification] Burgers", "background": "", "description": "龙虾 Kai 经营着一家汉堡店。做一个汉堡需要 $n$ 种原料，第 $i$ 种原料他有 $x_i$ 份。\n\n他手中有两种汉堡食谱，这两种汉堡对于第 $i$ 种原料分别需要 $a_i$ 份和 $b_i$ 份来制作。\n\n计算 Kai 最多能用这些原料制作多少个汉堡。", "inputFormat": "第一行，一个正整数 $n$。\n\n第二行 $n$ 个整数，表示 $x$。\n\n第三行 $n$ 个整数，表示 $a$。\n\n第四行 $n$ 个整数，表示 $b$。", "outputFormat": "一行一个整数表示最多能制作多少个汉堡。", "hint": "### 【样例 #1 解释】\n\nKai 可以制作 $3$ 个第一种汉堡和 $2$ 个第二种汉堡。\n\n### 【样例 #2 解释】\n\nKai 可以制作 $24$ 个第一种汉堡或 $24$ 个第二种汉堡。\n\n### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$9$|对于所有的 $1 \\le i \\le n$，$a_i=b_i$。|\n|$2$|$17$|$n,x_i\\le100$|\n|$3$|$25$|$n,x_i\\le1500$|\n|$4$|$49$|无|\n\n对于 $100\\%$ 的数据，$1\\le n\\le100000,1\\le x_i,a_i,b_i\\le10^9$。", "locale": "zh-CN"}}}
{"pid": "P10731", "type": "P", "difficulty": 5, "samples": [["9 4\n1 2\n2 3\n2 6\n3 4\n4 5\n4 7\n6 9\n7 8\n6 2\n5 3\n4 8\n5 9", "2\n4 2"], ["6 5\n1 2\n2 3\n4 1\n3 5\n4 6\n1 1\n2 2\n3 3\n2 2\n4 4\n", "4\n3 2 4 1"], ["8 3\n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 8\n3 5\n8 5\n4 4", "2\n4 6\n"], ["6 2\n1 2\n1 3\n1 4\n1 5\n1 6\n2 2\n5 6", "2\n2 1\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "线段树", "树状数组", "2023", "Special Judge", "树链剖分", "NOISG（新加坡）"], "title": "[NOISG 2023 Qualification] Network", "background": null, "description": "鸭子 Rui Yuan 有 $n$ 台服务器和 $n-1$ 条**双向**数据线，其中第 $i$ 条数据线**双向**连接 $u_i$ 和 $v_i$。保证对于所有 $1 \\le i \\not = j \\le n$，可以通过数据线从第 $i$ 台服务器到达第 $j$ 台服务器，反之亦然。\n\nRui Yuan 还有 $m$ 个应用程序正在运行，第 $j$ 个程序分布在 $a_j$ 和 $b_j$ 两台服务器上运行。\n\n初始时，所有服务器都在运行状态。\n\n第 $j$ 个应用程序如果对下面两个条件**都**成立时，可以运行：\n\n- $a_j$ 和 $b_j$ 均为运行中的服务器。\n\n- $a_j$ 和 $b_j$ 之间可以通过数据线和**正在运行的服务器**连接。\n\nRui Yuan 想请你求出，至少停止运行多少台服务器，才能使所有应用程序停止运行。", "inputFormat": "第一行，两个整数 $n,m$。\n\n接下来 $n-1$ 行，每行两个整数 $u_i,v_i$。\n\n接下来 $m$ 行，每行两个整数 $a_j,b_j$。", "outputFormat": "第一行，一个整数 $x$，表示最少要停运多少台服务器。\n\n接下来 $1$ 行 $x$ 个整数，表示要停运的服务器的编号。所有 $x$ 个整数应互不相同。你可以以任意顺序输出它们。", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$4$|$a_i=b_i$|\n|$2$|$17$|$u_i=i,v_i=i+1$|\n|$3$|$14$|$n,m\\le15$|\n|$4$|$29$|$n,m\\le2000$|\n|$5$|$36$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 200000,1 \\le u_i,v_i \\le n,u_i\\not = v_i,1 \\le a_j,b_j\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2023 Qualification] Network", "background": null, "description": "鸭子 Rui Yuan 有 $n$ 台服务器和 $n-1$ 条**双向**数据线，其中第 $i$ 条数据线**双向**连接 $u_i$ 和 $v_i$。保证对于所有 $1 \\le i \\not = j \\le n$，可以通过数据线从第 $i$ 台服务器到达第 $j$ 台服务器，反之亦然。\n\nRui Yuan 还有 $m$ 个应用程序正在运行，第 $j$ 个程序分布在 $a_j$ 和 $b_j$ 两台服务器上运行。\n\n初始时，所有服务器都在运行状态。\n\n第 $j$ 个应用程序如果对下面两个条件**都**成立时，可以运行：\n\n- $a_j$ 和 $b_j$ 均为运行中的服务器。\n\n- $a_j$ 和 $b_j$ 之间可以通过数据线和**正在运行的服务器**连接。\n\nRui Yuan 想请你求出，至少停止运行多少台服务器，才能使所有应用程序停止运行。", "inputFormat": "第一行，两个整数 $n,m$。\n\n接下来 $n-1$ 行，每行两个整数 $u_i,v_i$。\n\n接下来 $m$ 行，每行两个整数 $a_j,b_j$。", "outputFormat": "第一行，一个整数 $x$，表示最少要停运多少台服务器。\n\n接下来 $1$ 行 $x$ 个整数，表示要停运的服务器的编号。所有 $x$ 个整数应互不相同。你可以以任意顺序输出它们。", "hint": "### 【数据范围】\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$0$|$0$|样例|\n|$1$|$4$|$a_i=b_i$|\n|$2$|$17$|$u_i=i,v_i=i+1$|\n|$3$|$14$|$n,m\\le15$|\n|$4$|$29$|$n,m\\le2000$|\n|$5$|$36$|无|\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 200000,1 \\le u_i,v_i \\le n,u_i\\not = v_i,1 \\le a_j,b_j\\le n$。", "locale": "zh-CN"}}}
{"pid": "P10732", "type": "P", "difficulty": 1, "samples": [["8 13", "Palindrome!\nPalindrome!\n10\nPalindrome!\n12\n13"], ["3 3", "Palindrome!"], ["999999997 1000000000 ", "999999997\n999999998\nPalindrome!\n1000000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["模拟", "2019", "NOISG（新加坡）"], "title": "[NOISG 2019 Prelim] Palindromic FizzBuzz", "background": "翻译自 [NOISG2019 Prelim A.Palindromic FizzBuzz](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。", "description": "给定 $S,E$，对于在 $S,E$ 区间中的每一个数字，如果它不回文，输出它本身，否则输出 `Palindrome!`。", "inputFormat": "一行两个整数 $S,E$。", "outputFormat": "共 $E-S+1$ 行，每行一个整数，输出方式见题目描述。", "hint": "### 【样例 #1 解释】\n$8,9,11$ 都是回文数，所以输出 `Palindrome!`。\n### 【样例 #2 解释】\n$3$ 是回文数。\n### 【数据范围】\n为方便，下文令 $x$ 满足 $1 \\leq S \\leq E \\leq x$。\n| $\\text{Subtask}$ | 分值 | $x$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $0$ | - | 样例 |\n| $1$ | $7$ | $9$ | $S=E$ |\n| $2$ | $11$ | $9$ | 无 |\n| $3$ | $14$ | $100$ | 无 |\n| $4$ | $8$ | $10^5$ | 无 |\n| $5$ | $9$ | $10^9$ | $S=E$ |\n| $6$ | $20$ | $10^9$ | 无 |\n| $7$ | $31$ | $10^{18}$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq S \\leq E \\leq 10^{18},E-S+1\\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2019 Prelim] Palindromic FizzBuzz", "background": "翻译自 [NOISG2019 Prelim A.Palindromic FizzBuzz](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。", "description": "给定 $S,E$，对于在 $S,E$ 区间中的每一个数字，如果它不回文，输出它本身，否则输出 `Palindrome!`。", "inputFormat": "一行两个整数 $S,E$。", "outputFormat": "共 $E-S+1$ 行，每行一个整数，输出方式见题目描述。", "hint": "### 【样例 #1 解释】\n$8,9,11$ 都是回文数，所以输出 `Palindrome!`。\n### 【样例 #2 解释】\n$3$ 是回文数。\n### 【数据范围】\n为方便，下文令 $x$ 满足 $1 \\leq S \\leq E \\leq x$。\n| $\\text{Subtask}$ | 分值 | $x$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $0$ | - | 样例 |\n| $1$ | $7$ | $9$ | $S=E$ |\n| $2$ | $11$ | $9$ | 无 |\n| $3$ | $14$ | $100$ | 无 |\n| $4$ | $8$ | $10^5$ | 无 |\n| $5$ | $9$ | $10^9$ | $S=E$ |\n| $6$ | $20$ | $10^9$ | 无 |\n| $7$ | $31$ | $10^{18}$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq S \\leq E \\leq 10^{18},E-S+1\\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10733", "type": "P", "difficulty": 2, "samples": [["2 1\n2 1 7", "9 7"], ["5 6\n1 2 1\n3 5 4\n1 5 3\n1 3 3\n2 3 1\n2 4 1", "3 1 4 1 5"], ["2 5\n1 2 1\n2 1 1\n1 2 1\n1 2 1\n2 1 1", "1 114514"], ["5 1\n1 2 123", "123 1000000000 3 4 26311337"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2019", "Special Judge", "构造", "NOISG（新加坡）"], "title": "[NOISG 2019 Prelim] Lost Array", "background": "翻译自 [NOISG2019 Prelim B.Lost Array](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。\n\n**本题已启用 Special Judge，满足题目条件的任何答案都将视为正确。**", "description": "给定 $M$ 组形如 $\\min (X_{A_i},X_{B_i})=C_i$ 的关系式，请构造一个长度为 $N$ 的数组 $X$，使得数组中的每个数字在 $1$ 到 $10^9$ 之间，并且该数组满足所有的关系式。\n\n题目保证数组存在。", "inputFormat": "第一行两个整数 $N,M$。\n\n接下来 $M$ 行，每行三个数字 $A_i,B_i,C_i$。", "outputFormat": "共一行 $N$ 个整数，代表你构造的数组 $X$。", "hint": "### 【样例 #1 解释】\n显然，$\\min (X_2,X_1) = \\min (9,7) =7$，满足题目条件。\n### 【样例 #3 解释】\n原题的题面没有此样例，但测试数据有。\n\n第一个限制为 $\\min (X_1,X_2) =1$，所有的条件实际上和这个限制一样。\n### 【样例 #4 解释】\n唯一的限制为 $\\min (X_1,X_2) =123$，其余的数字可以是介于 $1$ 到 $10^9$ 之间的任何数字。\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 |\n| $1$ | $5$ | $N=2,M=1$ |\n| $2$ | $6$ | $M\\leq 3$ |\n| $3$ | $20$ | $N,M\\leq 1000$ |\n| $4$ | $21$ | $C_i \\leq 10,N \\leq 5$ |\n| $5$ | $48$ | 无 |\n\n对于 $100\\%$ 的数据：\n- $1 \\leq N,M \\leq 10^5$\n- $1 \\leq A_i ,B_i \\leq N$\n- $A_i \\neq B_i$\n- $1 \\leq C_i \\leq 10^9$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2019 Prelim] Lost Array", "background": "翻译自 [NOISG2019 Prelim B.Lost Array](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。\n\n**本题已启用 Special Judge，满足题目条件的任何答案都将视为正确。**", "description": "给定 $M$ 组形如 $\\min (X_{A_i},X_{B_i})=C_i$ 的关系式，请构造一个长度为 $N$ 的数组 $X$，使得数组中的每个数字在 $1$ 到 $10^9$ 之间，并且该数组满足所有的关系式。\n\n题目保证数组存在。", "inputFormat": "第一行两个整数 $N,M$。\n\n接下来 $M$ 行，每行三个数字 $A_i,B_i,C_i$。", "outputFormat": "共一行 $N$ 个整数，代表你构造的数组 $X$。", "hint": "### 【样例 #1 解释】\n显然，$\\min (X_2,X_1) = \\min (9,7) =7$，满足题目条件。\n### 【样例 #3 解释】\n原题的题面没有此样例，但测试数据有。\n\n第一个限制为 $\\min (X_1,X_2) =1$，所有的条件实际上和这个限制一样。\n### 【样例 #4 解释】\n唯一的限制为 $\\min (X_1,X_2) =123$，其余的数字可以是介于 $1$ 到 $10^9$ 之间的任何数字。\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $0$ | $0$ | 样例 |\n| $1$ | $5$ | $N=2,M=1$ |\n| $2$ | $6$ | $M\\leq 3$ |\n| $3$ | $20$ | $N,M\\leq 1000$ |\n| $4$ | $21$ | $C_i \\leq 10,N \\leq 5$ |\n| $5$ | $48$ | 无 |\n\n对于 $100\\%$ 的数据：\n- $1 \\leq N,M \\leq 10^5$\n- $1 \\leq A_i ,B_i \\leq N$\n- $A_i \\neq B_i$\n- $1 \\leq C_i \\leq 10^9$", "locale": "zh-CN"}}}
{"pid": "P10734", "type": "P", "difficulty": 4, "samples": [["2 3\nQ 1 2\nR 1 2\nQ 1 2", "?\nR"], ["4 5\nR 1 2\nA 2 3\nA 1 4\nQ 2 4\nQ 1 3", "A\nA"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "并查集", "NOISG（新加坡）"], "title": "[NOISG 2019 Prelim] Experimental Charges", "background": "翻译自 [NOISG2019 Prelim C.Experimental Charges](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。", "description": "现有 $N$ 个带电粒子，带正电子的粒子会和带负电子的粒子相互吸引，而带同一种电子的粒子会相互排斥。\n\n有 $Q$ 次操作，每次操作表示为 $T_i,A_i,B_i$，可根据 $T_i$ 的不同分为三种类型：\n- `A` 操作代表 $A_i,B_i$ 互相吸引。\n- `R` 操作代表 $A_i,B_i$ 互相排斥。\n- `Q` 操作询问按照目前已知的信息，如果 $A_i,B_i$ 放在一起，会发生什么。\n\n对于每个 `Q` 操作，如果互相吸引，输出 `A`；如果互相排斥，输出 `R`；如果无法确定，输出 `?`。\n\n保证至少有一种可能使得所有操作不冲突。", "inputFormat": "第一行两个整数 $N,Q$。\n\n接下来的 $Q$ 行，每行一个字符 $T_i$ 与两个整数 $A_i,B_i$，表示一种操作。", "outputFormat": "若干行，每行表示一次 `Q` 操作的回答。", "hint": "### 【样例 #1 解释】\n对于第一次询问，并不能确定 $1,2$ 之间的关系，输出 `?`。\n\n对于第二次询问，可以确定 $1,2$ 相斥，输出 `R`。\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | $N,Q$ | $T_i,A_i,B_i$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $7$ | $N=2,Q\\leq 10$ | 无 |\n| $1$ | $11$ | 无 | $A_i=1$ 或 $B_i=1$ |\n| $2$ | $14$ | 无 | $T_i$ 仅可能为 `R` 或 `Q` |\n| $3$ | $12$ | 无 | 所有关系给出后才有查询操作 |\n| $4$ | $25$ | $1\\leq N,Q \\leq 10^3$ | 无 |\n| $5$ | $31$ | 无 | 无 |\n\n对于 $100\\%$ 的数据：\n- $1 \\leq N,Q \\leq 10^5$\n- $1 \\leq A_i \\neq B_i \\leq N$\n- $T_i$ 仅可能为 `A`，`R` 或 `Q`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOISG 2019 Prelim] Experimental Charges", "background": "翻译自 [NOISG2019 Prelim C.Experimental Charges](https://github.com/noisg/sg_noi_archive/blob/master/2019_prelim/)。", "description": "现有 $N$ 个带电粒子，带正电子的粒子会和带负电子的粒子相互吸引，而带同一种电子的粒子会相互排斥。\n\n有 $Q$ 次操作，每次操作表示为 $T_i,A_i,B_i$，可根据 $T_i$ 的不同分为三种类型：\n- `A` 操作代表 $A_i,B_i$ 互相吸引。\n- `R` 操作代表 $A_i,B_i$ 互相排斥。\n- `Q` 操作询问按照目前已知的信息，如果 $A_i,B_i$ 放在一起，会发生什么。\n\n对于每个 `Q` 操作，如果互相吸引，输出 `A`；如果互相排斥，输出 `R`；如果无法确定，输出 `?`。\n\n保证至少有一种可能使得所有操作不冲突。", "inputFormat": "第一行两个整数 $N,Q$。\n\n接下来的 $Q$ 行，每行一个字符 $T_i$ 与两个整数 $A_i,B_i$，表示一种操作。", "outputFormat": "若干行，每行表示一次 `Q` 操作的回答。", "hint": "### 【样例 #1 解释】\n对于第一次询问，并不能确定 $1,2$ 之间的关系，输出 `?`。\n\n对于第二次询问，可以确定 $1,2$ 相斥，输出 `R`。\n### 【数据范围】\n| $\\text{Subtask}$ | 分值 | $N,Q$ | $T_i,A_i,B_i$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $0$ | $7$ | $N=2,Q\\leq 10$ | 无 |\n| $1$ | $11$ | 无 | $A_i=1$ 或 $B_i=1$ |\n| $2$ | $14$ | 无 | $T_i$ 仅可能为 `R` 或 `Q` |\n| $3$ | $12$ | 无 | 所有关系给出后才有查询操作 |\n| $4$ | $25$ | $1\\leq N,Q \\leq 10^3$ | 无 |\n| $5$ | $31$ | 无 | 无 |\n\n对于 $100\\%$ 的数据：\n- $1 \\leq N,Q \\leq 10^5$\n- $1 \\leq A_i \\neq B_i \\leq N$\n- $T_i$ 仅可能为 `A`，`R` 或 `Q`。", "locale": "zh-CN"}}}
