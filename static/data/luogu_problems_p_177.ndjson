{"pid": "P4579", "type": "P", "difficulty": 7, "samples": [["2 2\n0 1 1 2\n2\n1 3\n1 3", "6.83"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "各省省选", "福建", "O2优化"], "title": "[FJOI2018] 邮递员问题", "background": "", "description": "$\\text{2010}$ 年以来，网购市场发展迅速，快递公司成为促成交易成功的关键环节。小郭是一名顺丰快递员，他的工资主要包括底薪、送货提成、收件提成、其他福利补贴等。小郭每完成一件客户的快递单，一般能拿到运费 $10\\%$ 的提成。因此小郭完成的快递单越多越快，他的收入就越高。小郭负责城市中 $2$ 个平行街道的所有快递业务。在这 $2$ 个平行街道上有 $2$ 处快递工作站。小郭每次投递的行程都是从一个工作站出发，完成所有快递单的投递后，回到另一个工作站。为了高效地完成投递任务，小郭希望用最短的行程来完成所有快递单的投递任务。也就是说，对于给定的 $2$ 个平行街道的街距和 $2$ 个工作站位置，以及所有投递点的位置，小郭要计算从一个工作站出发，完成所有快递单的投递后，回到另一个工作站的最短行程。街距是指 $2$ 个平行街道的之间的垂直距离。如果设平面坐标系的 $x$ 轴与街道平行，且 $2$ 个平行街道上的最左端位置的 $x$ 坐标均为 $0$，则 $2$ 个平行街道上的任何位置可以用从街道最左端到该位置的直线距离，即该位置的 $x$ 坐标值来表示。\n\n例如，设 $2$ 个平行街道 A 和 B 的街距是 $2$。$2$ 个工作站 $S_1$ ​​和 $S_2$​​ 的位置分别位于街道 A 的 $x=1$ 和街道 B 的 $x=3$ 处。另外有 $2$ 个投递点 $T_1$ 和 $T_2$​ 的位置分别位于街道 A 的 $x=3$ 和街道 B 的 $x=1$ 处，如图所示。小郭的任务就是要从工作站 $S_1$​​ 出发，完成在 $T_1$​​ 和 $T_2$​​ 处的快递单投递后，回到另一个工作站 $S_2$。\n\n编程任务：对于给定的 $2$ 个平行街道的街距和 $2$ 个工作站位置，以及所有投递点的位置，计算从一个工作站出发，完成所有快递单的投递后，回到另一个工作站的最短行程。", "inputFormat": "第 $1$ 行有 $2$ 个正整数 $n,m$，$1 \\le n,m \\le 10000$，分别表示 $2$ 个平行街道 A 和 B 上的位置数（包括投递点的位置和工作站的位置）。位置编号为 A：$1,2,\\ldots,n$；B：$1,2,\\ldots,m$。\n\n第 $2$ 行有 $4$ 个正整数 $a,b,c,d$，表示 $2$ 个工作站位置分别为 $(a,b)$ 和 $(c,d)$。$a=0$ 或 $c=0$ 表示相应的工作站在街道 $A$，$a=1$ 或 $c=1$ 表示相应的工作站在街道 $B$。$b$ 和 $d$ 分别表示工作站在相应的街道的位置号。例如，若 $(a,b)=(0,3)$ 表示第 $1$ 个工作站位于街道 $A$ 上，其位置位于给出的街道 $A$ 的 $n$ 个位置的第 $3$ 个位置。\n\n第 $3$ 行有 $1$ 个实数 $h$，表示 $2$ 个平行街道的街距 $(1 \\le h \\le 10)$。\n\n第 $4$ 行有 $n$ 个实数，表示街道 $A$ 上 $n$ 个位置的 $x$ 坐标 $(1 \\le x < 20000)$。\n\n第 $5$ 行有 $m$ 个实数，表示街道 $B$ 上 $m$ 个位置的 $x$ 坐标 $(1 \\le x < 20000)$。\n", "outputFormat": "输出计算出的最短行程，保留 $2$ 位小数。", "hint": "对于 $10\\%$ 的数据，$n,m\\le 8$；\n\n对于 $30\\%$ 的数据，$n,m\\le 100$；\n\n对于 $50\\%$ 的数据，$n,m\\le 1000$；\n\n对于 $100\\%$ 的数据，$n,m\\le 10000$。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2018] Postman Problem", "background": "", "description": "Since $\\text{2010}$, the online shopping market has developed rapidly, and courier companies have become a key part of making transactions successful. Xiao Guo is an SF Express courier. His salary mainly includes a basic wage, delivery commission, pickup commission, other benefits and subsidies, etc. For each completed parcel order, Xiao Guo can usually get a commission of $10\\%$ of the shipping fee. Therefore, the more orders he completes and the faster he completes them, the higher his income will be.\n\nXiao Guo is responsible for all courier services on $2$ parallel streets in the city. On these $2$ parallel streets, there are $2$ courier stations. Each delivery route starts from one station, and after delivering all parcels, ends at the other station. To finish the task efficiently, Xiao Guo wants to use the shortest route to complete all deliveries.\n\nThat is, given the distance between the $2$ parallel streets, the positions of the $2$ stations, and the positions of all delivery points, Xiao Guo needs to compute the shortest route that starts from one station, delivers all parcels, and finally returns to the other station.\n\nThe street distance means the vertical distance between the $2$ parallel streets. If we set the $x$ axis parallel to the streets, and the leftmost positions on both streets have $x=0$, then any position on the $2$ streets can be represented by the straight-line distance from the leftmost end of the street to that position, i.e., the $x$ coordinate value of that position.\n\nFor example, suppose the street distance between streets A and B is $2$. The two stations $S_1$ and $S_2$ are located at street A, $x=1$, and street B, $x=3$, respectively. There are also $2$ delivery points $T_1$ and $T_2$ located at street A, $x=3$, and street B, $x=1$, respectively, as shown in the figure. Xiao Guo’s task is to start from station $S_1$, deliver the parcels at $T_1$ and $T_2$, and then return to the other station $S_2$.\n\nProgramming task: given the street distance of the $2$ parallel streets, the positions of the $2$ stations, and the positions of all delivery points, compute the shortest route that starts from one station, delivers all parcels, and ends at the other station.", "inputFormat": "The first line contains two positive integers $n,m$, $1 \\le n,m \\le 10000$, representing the number of positions on the two parallel streets A and B (including delivery points and station positions). The positions are numbered as A: $1,2,\\ldots,n$; B: $1,2,\\ldots,m$.\n\nThe second line contains four positive integers $a,b,c,d$, indicating that the two station positions are $(a,b)$ and $(c,d)$. $a=0$ or $c=0$ means the corresponding station is on street $A$, and $a=1$ or $c=1$ means the corresponding station is on street $B$. $b$ and $d$ represent the position indices of the stations on the corresponding streets. For example, $(a,b)=(0,3)$ means the first station is on street $A$, and its position is the $3$-rd among the given $n$ positions of street $A$.\n\nThe third line contains one real number $h$, representing the street distance between the $2$ parallel streets $(1 \\le h \\le 10)$.\n\nThe fourth line contains $n$ real numbers, representing the $x$ coordinates of the $n$ positions on street $A$ $(1 \\le x < 20000)$.\n\nThe fifth line contains $m$ real numbers, representing the $x$ coordinates of the $m$ positions on street $B$ $(1 \\le x < 20000)$.", "outputFormat": "Output the computed shortest route length, rounded to $2$ decimal places.", "hint": "For $10\\%$ of the testdata, $n,m\\le 8$.\n\nFor $30\\%$ of the testdata, $n,m\\le 100$.\n\nFor $50\\%$ of the testdata, $n,m\\le 1000$.\n\nFor $100\\%$ of the testdata, $n,m\\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2018] 邮递员问题", "background": "", "description": "$\\text{2010}$ 年以来，网购市场发展迅速，快递公司成为促成交易成功的关键环节。小郭是一名顺丰快递员，他的工资主要包括底薪、送货提成、收件提成、其他福利补贴等。小郭每完成一件客户的快递单，一般能拿到运费 $10\\%$ 的提成。因此小郭完成的快递单越多越快，他的收入就越高。小郭负责城市中 $2$ 个平行街道的所有快递业务。在这 $2$ 个平行街道上有 $2$ 处快递工作站。小郭每次投递的行程都是从一个工作站出发，完成所有快递单的投递后，回到另一个工作站。为了高效地完成投递任务，小郭希望用最短的行程来完成所有快递单的投递任务。也就是说，对于给定的 $2$ 个平行街道的街距和 $2$ 个工作站位置，以及所有投递点的位置，小郭要计算从一个工作站出发，完成所有快递单的投递后，回到另一个工作站的最短行程。街距是指 $2$ 个平行街道的之间的垂直距离。如果设平面坐标系的 $x$ 轴与街道平行，且 $2$ 个平行街道上的最左端位置的 $x$ 坐标均为 $0$，则 $2$ 个平行街道上的任何位置可以用从街道最左端到该位置的直线距离，即该位置的 $x$ 坐标值来表示。\n\n例如，设 $2$ 个平行街道 A 和 B 的街距是 $2$。$2$ 个工作站 $S_1$ ​​和 $S_2$​​ 的位置分别位于街道 A 的 $x=1$ 和街道 B 的 $x=3$ 处。另外有 $2$ 个投递点 $T_1$ 和 $T_2$​ 的位置分别位于街道 A 的 $x=3$ 和街道 B 的 $x=1$ 处，如图所示。小郭的任务就是要从工作站 $S_1$​​ 出发，完成在 $T_1$​​ 和 $T_2$​​ 处的快递单投递后，回到另一个工作站 $S_2$。\n\n编程任务：对于给定的 $2$ 个平行街道的街距和 $2$ 个工作站位置，以及所有投递点的位置，计算从一个工作站出发，完成所有快递单的投递后，回到另一个工作站的最短行程。", "inputFormat": "第 $1$ 行有 $2$ 个正整数 $n,m$，$1 \\le n,m \\le 10000$，分别表示 $2$ 个平行街道 A 和 B 上的位置数（包括投递点的位置和工作站的位置）。位置编号为 A：$1,2,\\ldots,n$；B：$1,2,\\ldots,m$。\n\n第 $2$ 行有 $4$ 个正整数 $a,b,c,d$，表示 $2$ 个工作站位置分别为 $(a,b)$ 和 $(c,d)$。$a=0$ 或 $c=0$ 表示相应的工作站在街道 $A$，$a=1$ 或 $c=1$ 表示相应的工作站在街道 $B$。$b$ 和 $d$ 分别表示工作站在相应的街道的位置号。例如，若 $(a,b)=(0,3)$ 表示第 $1$ 个工作站位于街道 $A$ 上，其位置位于给出的街道 $A$ 的 $n$ 个位置的第 $3$ 个位置。\n\n第 $3$ 行有 $1$ 个实数 $h$，表示 $2$ 个平行街道的街距 $(1 \\le h \\le 10)$。\n\n第 $4$ 行有 $n$ 个实数，表示街道 $A$ 上 $n$ 个位置的 $x$ 坐标 $(1 \\le x < 20000)$。\n\n第 $5$ 行有 $m$ 个实数，表示街道 $B$ 上 $m$ 个位置的 $x$ 坐标 $(1 \\le x < 20000)$。\n", "outputFormat": "输出计算出的最短行程，保留 $2$ 位小数。", "hint": "对于 $10\\%$ 的数据，$n,m\\le 8$；\n\n对于 $30\\%$ 的数据，$n,m\\le 100$；\n\n对于 $50\\%$ 的数据，$n,m\\le 1000$；\n\n对于 $100\\%$ 的数据，$n,m\\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P4580", "type": "P", "difficulty": 5, "samples": [["6 10 3\n)(1*+0\n1 2\n1 3\n1 4\n2 3\n3 4\n2 5\n3 5\n3 6\n4 6\n5 6", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "各省省选", "北京"], "title": "[BJOI2014] 路径", "background": "", "description": "在一个 $N$ 个节点的无向图（没有自环、重边）上，每个点都有一个符号，可能是数字，也可能是加号、减号、乘号、除号、小括号。你要在这个图上数一数，有多少种走恰好 $K$ 个节点的方法，使得路过的符号串起来能够得到一个算数表达式。路径的起点和终点可以任意选择。\n\n所谓算数表达式，就是由运算符连接起来的一系列数字。括号可以插入在表达式中以表明运算顺序。\n\n注意，你要处理各种情况，比如数字不能有多余的前导 $0$，减号只有前面没有运算符或数字的时候才可以当成负号，括号可以任意添加（但不能有空括号），$0$ 可以做除数（我们只考虑文法而不考虑语意），加号不能当正号。\n\n例如，下面的是合法的表达式：\n```\n-0/0\n((0)+(((2*3+4)+(-5)+7))+(-(2*3)*6))\n```\n而下面的不是合法的表达式：\n```\n001+0\n1+2(2)\n3+-3\n--1\n+1\n()\n```", "inputFormat": "第一行三个整数 $N,M,K$，表示点的数量，边的数量和走的节点数。\n\n第二行一个字符串，表示每个点的符号。\n\n接下来 $M$ 行，每行两个数，表示一条边连的两个点的编号。", "outputFormat": "输出一行一个整数，表示走的方法数。这个数可能比较大，你只需要输出它模 $10^9+7$ 的余数即可。", "hint": "$1 \\le N \\le 20，0 \\le M \\le\\frac{N×(N-1)}{2}，0\\le K\\le 30$\n\n![](https://cdn.luogu.com.cn/upload/pic/18714.png)\n\n一共有 $10$ 条路径，构成的表达式依次是 ``101, (1), 1+1, 1+0, 1*1, 1*0, 0+0, 0+1, 0*0, 0*1``。", "locale": "zh-CN", "translations": {"en": {"title": "[BJOI2014] Path", "background": "", "description": "On an undirected graph with $N$ nodes (no self-loops and no multiple edges), each node carries one symbol, which can be a digit or one of the symbols '+', '-', '*', '/', '(', ')'. Count how many walks that visit exactly $K$ nodes produce an arithmetic expression when the symbols encountered along the walk are concatenated. The start and end nodes can be chosen arbitrarily.\n\nAn arithmetic expression is a sequence of numbers connected by operators. Parentheses can be inserted into the expression to indicate the order of operations.\n\nNote that you must handle various cases:\n- Numbers must not have leading zeros unless the number is exactly $0$.\n- A minus sign can act as a unary negative sign only when there is neither an operator nor a digit immediately before it.\n- Parentheses can be added arbitrarily (but empty parentheses are not allowed).\n- $0$ can be used as a divisor (we consider only the grammar, not the semantics).\n- A plus sign cannot be used as a unary positive sign.\n\nFor example, the following are valid expressions:\n```\n-0/0\n((0)+(((2*3+4)+(-5)+7))+(-(2*3)*6))\n```\nThe following are not valid expressions:\n```\n001+0\n1+2(2)\n3+-3\n--1\n+1\n()\n```", "inputFormat": "The first line contains three integers $N, M, K$, denoting the number of nodes, the number of edges, and the number of nodes to visit.\n\nThe second line contains a string of length $N$, giving the symbol on each node.\n\nEach of the next $M$ lines contains two integers, denoting the indices of the two endpoints of an edge.", "outputFormat": "Output a single integer: the number of such walks. Since the answer can be large, output it modulo $10^9+7$.", "hint": "$1 \\le N \\le 20$, $0 \\le M \\le \\frac{N \\times (N - 1)}{2}$, $0 \\le K \\le 30$.\n\n![](https://cdn.luogu.com.cn/upload/pic/18714.png)\n\nThere are $10$ walks in total, forming the expressions ``101, (1), 1+1, 1+0, 1*1, 1*0, 0+0, 0+1, 0*0, 0*1``.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[BJOI2014] 路径", "background": "", "description": "在一个 $N$ 个节点的无向图（没有自环、重边）上，每个点都有一个符号，可能是数字，也可能是加号、减号、乘号、除号、小括号。你要在这个图上数一数，有多少种走恰好 $K$ 个节点的方法，使得路过的符号串起来能够得到一个算数表达式。路径的起点和终点可以任意选择。\n\n所谓算数表达式，就是由运算符连接起来的一系列数字。括号可以插入在表达式中以表明运算顺序。\n\n注意，你要处理各种情况，比如数字不能有多余的前导 $0$，减号只有前面没有运算符或数字的时候才可以当成负号，括号可以任意添加（但不能有空括号），$0$ 可以做除数（我们只考虑文法而不考虑语意），加号不能当正号。\n\n例如，下面的是合法的表达式：\n```\n-0/0\n((0)+(((2*3+4)+(-5)+7))+(-(2*3)*6))\n```\n而下面的不是合法的表达式：\n```\n001+0\n1+2(2)\n3+-3\n--1\n+1\n()\n```", "inputFormat": "第一行三个整数 $N,M,K$，表示点的数量，边的数量和走的节点数。\n\n第二行一个字符串，表示每个点的符号。\n\n接下来 $M$ 行，每行两个数，表示一条边连的两个点的编号。", "outputFormat": "输出一行一个整数，表示走的方法数。这个数可能比较大，你只需要输出它模 $10^9+7$ 的余数即可。", "hint": "$1 \\le N \\le 20，0 \\le M \\le\\frac{N×(N-1)}{2}，0\\le K\\le 30$\n\n![](https://cdn.luogu.com.cn/upload/pic/18714.png)\n\n一共有 $10$ 条路径，构成的表达式依次是 ``101, (1), 1+1, 1+0, 1*1, 1*0, 0+0, 0+1, 0*0, 0*1``。", "locale": "zh-CN"}}}
{"pid": "P4581", "type": "P", "difficulty": 7, "samples": [["6 3\n1 2\n2 3\n4 5", "2\n2\n3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "各省省选", "北京", "Special Judge"], "title": "[BJOI2014] 想法", "background": "", "description": "小强和阿米巴是好朋友。小强要出一套题目。\n\n他的题目以涉及面广（偏）、考察深入（怪）、思维强度大（难）著称。他为了出题，一共攒了 $M$ 个本质不同的想法，每个想法形成了一个题目。不过，他觉得拿这些题目去考察选手会把比赛搞的太过变态，所以，想请阿米巴来帮忙调整一下他的题目。\n\n阿米巴指出，为了让一场考试的题目的考察点尽量全面，有一个通用的做法叫做“组合”。如果把两个题目 $A$ 和 $B$ 组合在一起，那么组合而成的题目涉及到的想法的集合就是 $A$ 涉及到的想法的集合和 $B$ 涉及到的想法的集合的并。并且，题目是可以反复组合的。\n\n例如，小强现在有三个想法 $1,2,3$，分别对应了题目 $P_1,P_2,P_3$：\n\n- 小强把 $P_1$ 和 $P_2$ 组合得到 $P_4$。$P_4$ 涉及的想法的集合是 $\\{1,2\\}$。\n- 小强把 $P_2$ 和 $P_3$ 组合得到 $P_5$。$P_5$ 涉及的想法的集合是 $\\{2,3\\}$。\n- 小强把 $P_4$ 和 $P_5$ 组合得到 $P_6$。$P_6$ 涉及的想法的集合是 $\\{1,2,3\\}$。\n\n现在，小强告诉你每个题目都是如何组合而来的。你要回答的就是，每个题目涉及的想法的集合有多大。\n\n不过，这个问题是很难的。于是，你只需要能够以比较高的概率回答的比较准确即可。", "inputFormat": "\n第一行两个整数 $N,M$，依次表示小强的题目数量和想法的数量。   \n接下来 $N-M$ 行，每行两个整数，依次表示小强组合出来的题目都是由哪两个题组合而成的。   \n$M$ 个想法对应的题目依次编号为 $1$ 到 $M$。之后，小强组合来的第一个题编号为 $M+1$，组合出来的第二个题编号为 $M+2$，依次类推。\n", "outputFormat": "**本题使用 Special Judge。**  \n\n$N-M$ 行，每行一个整数表示小强组合出来的每个题都涉及了几个想法。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le M \\le 10^5$，$1 \\le N \\le 10^6$。   \n如果其中你有 $95\\%$ 以上的行的答案和正确答案的误差不超过 $25\\%$，那么你就可以得到分数。   \n所谓误差不超过 $25\\%$，即如果正确答案是 $X$，那么你的答案在 $[0.8X,1.25X]$ 这个闭区间内就算误差不超过 $25\\%$。", "locale": "zh-CN", "translations": {"en": {"title": "[BJOI2014] Ideas", "background": "", "description": "Xiao Qiang and Amiba are good friends. Xiao Qiang wants to prepare a set of problems.\n\nHis problems are known for broad scope (biased), deep probing (quirky), and high difficulty (hard). To prepare problems, he has collected $M$ essentially different ideas, and each idea forms a problem. However, he feels that using these problems to test contestants would make the contest too extreme, so he asks Amiba to help adjust his problems.\n\nAmiba points out a general method called “combination” to make an exam’s coverage as comprehensive as possible. If two problems $A$ and $B$ are combined, then the set of ideas involved in the resulting problem is the union of the sets of ideas involved in $A$ and $B$. Moreover, problems can be combined repeatedly.\n\nFor example, suppose Xiao Qiang currently has three ideas $1, 2, 3$, corresponding to problems $P_1, P_2, P_3$ respectively:\n- Xiao Qiang combines $P_1$ and $P_2$ to get $P_4$. The set of ideas involved in $P_4$ is $\\{1, 2\\}$.\n- Xiao Qiang combines $P_2$ and $P_3$ to get $P_5$. The set of ideas involved in $P_5$ is $\\{2, 3\\}$.\n- Xiao Qiang combines $P_4$ and $P_5$ to get $P_6$. The set of ideas involved in $P_6$ is $\\{1, 2, 3\\}$.\n\nNow, Xiao Qiang tells you how each problem was formed by combination. Your task is to answer how large the set of ideas involved in each problem is.\n\nHowever, this problem is hard. So you only need to answer fairly accurately with a relatively high probability.", "inputFormat": "The first line contains two integers $N, M$, denoting the number of Xiao Qiang’s problems and the number of ideas, respectively.  \nThen follow $N - M$ lines, each containing two integers, indicating which two problems were combined to form each combined problem.  \nThe $M$ ideas correspond to problems numbered $1$ through $M$. After that, the first combined problem is numbered $M + 1$, the second combined problem is numbered $M + 2$, and so on.", "outputFormat": "**This problem uses Special Judge.**  \nOutput $N - M$ lines. Each line contains one integer, which is the number of ideas involved in each combined problem.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le M \\le 10^5$, $1 \\le N \\le 10^6$.  \nIf at least $95\\%$ of your lines have absolute error within $25\\%$ of the correct answers, you will receive points.  \n“Error within $25\\%$” means: if the correct answer is $X$, then your answer falling in the closed interval $[0.8X, 1.25X]$ counts as within $25\\%$ error.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[BJOI2014] 想法", "background": "", "description": "小强和阿米巴是好朋友。小强要出一套题目。\n\n他的题目以涉及面广（偏）、考察深入（怪）、思维强度大（难）著称。他为了出题，一共攒了 $M$ 个本质不同的想法，每个想法形成了一个题目。不过，他觉得拿这些题目去考察选手会把比赛搞的太过变态，所以，想请阿米巴来帮忙调整一下他的题目。\n\n阿米巴指出，为了让一场考试的题目的考察点尽量全面，有一个通用的做法叫做“组合”。如果把两个题目 $A$ 和 $B$ 组合在一起，那么组合而成的题目涉及到的想法的集合就是 $A$ 涉及到的想法的集合和 $B$ 涉及到的想法的集合的并。并且，题目是可以反复组合的。\n\n例如，小强现在有三个想法 $1,2,3$，分别对应了题目 $P_1,P_2,P_3$：\n\n- 小强把 $P_1$ 和 $P_2$ 组合得到 $P_4$。$P_4$ 涉及的想法的集合是 $\\{1,2\\}$。\n- 小强把 $P_2$ 和 $P_3$ 组合得到 $P_5$。$P_5$ 涉及的想法的集合是 $\\{2,3\\}$。\n- 小强把 $P_4$ 和 $P_5$ 组合得到 $P_6$。$P_6$ 涉及的想法的集合是 $\\{1,2,3\\}$。\n\n现在，小强告诉你每个题目都是如何组合而来的。你要回答的就是，每个题目涉及的想法的集合有多大。\n\n不过，这个问题是很难的。于是，你只需要能够以比较高的概率回答的比较准确即可。", "inputFormat": "\n第一行两个整数 $N,M$，依次表示小强的题目数量和想法的数量。   \n接下来 $N-M$ 行，每行两个整数，依次表示小强组合出来的题目都是由哪两个题组合而成的。   \n$M$ 个想法对应的题目依次编号为 $1$ 到 $M$。之后，小强组合来的第一个题编号为 $M+1$，组合出来的第二个题编号为 $M+2$，依次类推。\n", "outputFormat": "**本题使用 Special Judge。**  \n\n$N-M$ 行，每行一个整数表示小强组合出来的每个题都涉及了几个想法。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le M \\le 10^5$，$1 \\le N \\le 10^6$。   \n如果其中你有 $95\\%$ 以上的行的答案和正确答案的误差不超过 $25\\%$，那么你就可以得到分数。   \n所谓误差不超过 $25\\%$，即如果正确答案是 $X$，那么你的答案在 $[0.8X,1.25X]$ 这个闭区间内就算误差不超过 $25\\%$。", "locale": "zh-CN"}}}
{"pid": "P4582", "type": "P", "difficulty": 6, "samples": [["3\n2\n1 2\n3\n1 2\n2 3\n5\n1 2\n1 3\n2 4\n2 5", "Case 1: 1\nCase 2: 2\nCase 3: 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "各省省选", "福建"], "title": "[FJOI2014] 树的重心", "background": "", "description": "给定一个 $n$ 个点的树，每个点的编号从 $1 \\sim n$ ，问这个树有多少不同的连通子树，和这个树有相同的重心。\n\n其中 $n$ 个点的树指的是 $n$ 个点的最小连通图，显然 $n$ 个点的树有 $n-1$ 条边，去掉这 $n-1$ 条边中的任何一条，原图都不再联通，任意两个点之间由唯一一条路径相连。\n\n对于一个树，树的重心定义为：删掉某点 $i$ 后，若剩余 $k$ 个连通分量，那么定义 $d(i)$ 为这些连通分量中点的个数的最大值，所谓重心，就是使得 $d(i)$ 最小的点 $i$。\n\n基于以上定义，一个树的重心可能会有一个或者两个，题中所要求的联通子树，其重心编号和个数必须和原树的完全一样。\n\n找出给定的树中有多少联通的子树和这个树有相同的重心。输出答案 $\\bmod 10007$ 后的结果。", "inputFormat": "第 $1$ 行中给出正整数 $Q$，表示该组数据中有多少组测试样例。\n\n每组样例首先输入一个整数 $n$（$0 < n \\le 200$），表示该组样例中输入的树包含 $n$ 个点，之后 $n-1$ 行，每行输入两整数数 $x,y$（$1 \\le x,y \\le n$），表示编号为 $x$ 的点和编号为 $y$ 的点之间存在一条边，所有点的编号从 $1 \\sim n$。\n", "outputFormat": "首先输出样例编号，之后输出满足条件的子树的个数，由于这个数字较大，你只需要输出这个数字 $\\bmod\\ 10007$ 后的结果，详见输出示例，请严格按照输出实例中的格式输出。\n", "hint": "对于 $100 \\%$ 的数据，满足 $1 \\le Q \\le 50, 1 \\le n \\le 200$。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2014] Tree Centroid", "background": "", "description": "Given a tree with $n$ vertices, labeled $1 \\sim n$, count how many distinct connected subtrees have the same centroid as the original tree.\n\nA tree on $n$ vertices is a minimally connected graph on $n$ vertices. It obviously has $n-1$ edges. If you remove any one of these $n-1$ edges, the original graph becomes disconnected. Between any two vertices there is a unique path.\n\nFor a tree, the centroid is defined as follows: after deleting a vertex $i$, if there are $k$ connected components left, define $d(i)$ to be the maximum number of vertices among these components. A centroid is a vertex $i$ that minimizes $d(i)$.\n\nBased on this definition, a tree may have one or two centroids. The connected subtrees required in this problem must have exactly the same centroid labels and the same number of centroids as the original tree.\n\nFind how many connected subtrees in the given tree have the same centroid as the original tree. Output the result $\\bmod 10007$.", "inputFormat": "The first line contains a positive integer $Q$, the number of test cases.\n\nFor each test case, first read an integer $n$ ($0 < n \\le 200$), the number of vertices in the tree. Then read $n-1$ lines, each containing two integers $x, y$ ($1 \\le x, y \\le n$), indicating that there is an edge between vertices $x$ and $y$. All vertices are labeled $1 \\sim n$.", "outputFormat": "First output the test case index, then output the number of connected subtrees that satisfy the condition. Since this number can be large, you only need to output this number $\\bmod\\ 10007$. See the output example and strictly follow its format.", "hint": "For $100\\%$ of the testdata, $1 \\le Q \\le 50$, $1 \\le n \\le 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2014] 树的重心", "background": "", "description": "给定一个 $n$ 个点的树，每个点的编号从 $1 \\sim n$ ，问这个树有多少不同的连通子树，和这个树有相同的重心。\n\n其中 $n$ 个点的树指的是 $n$ 个点的最小连通图，显然 $n$ 个点的树有 $n-1$ 条边，去掉这 $n-1$ 条边中的任何一条，原图都不再联通，任意两个点之间由唯一一条路径相连。\n\n对于一个树，树的重心定义为：删掉某点 $i$ 后，若剩余 $k$ 个连通分量，那么定义 $d(i)$ 为这些连通分量中点的个数的最大值，所谓重心，就是使得 $d(i)$ 最小的点 $i$。\n\n基于以上定义，一个树的重心可能会有一个或者两个，题中所要求的联通子树，其重心编号和个数必须和原树的完全一样。\n\n找出给定的树中有多少联通的子树和这个树有相同的重心。输出答案 $\\bmod 10007$ 后的结果。", "inputFormat": "第 $1$ 行中给出正整数 $Q$，表示该组数据中有多少组测试样例。\n\n每组样例首先输入一个整数 $n$（$0 < n \\le 200$），表示该组样例中输入的树包含 $n$ 个点，之后 $n-1$ 行，每行输入两整数数 $x,y$（$1 \\le x,y \\le n$），表示编号为 $x$ 的点和编号为 $y$ 的点之间存在一条边，所有点的编号从 $1 \\sim n$。\n", "outputFormat": "首先输出样例编号，之后输出满足条件的子树的个数，由于这个数字较大，你只需要输出这个数字 $\\bmod\\ 10007$ 后的结果，详见输出示例，请严格按照输出实例中的格式输出。\n", "hint": "对于 $100 \\%$ 的数据，满足 $1 \\le Q \\le 50, 1 \\le n \\le 200$。", "locale": "zh-CN"}}}
{"pid": "P4583", "type": "P", "difficulty": 6, "samples": [["2\n5\n12345", "1\n9"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2015", "各省省选", "福建"], "title": "[FJOI2015] 世界树", "background": null, "description": "奥丁杀死巨人伊米尔后，从伊米尔的尸体上生长出来一株巨大的梣树，它是整个宇宙的核心，被称为世界之树，这个巨木的枝干构成了整个世界，它被神秘的奥术力量所守护。\n\n奥丁发现，世界树的每个节点至多有两棵子树，其蕴含的奥术力量是子树奥术力量的最大值 $+1$，如果一个节点没有子树，其奥术力量为 $1$，这些节点被称为“源”。\n\n世界树在悠长的岁月里形成了奇妙的魔法平衡，具体来说，它的左子树与右子树的奥术力量的差的绝对值不会超过 $1$。若一个节点只有一棵子树（不妨设为左子树），则右子树的奥术力量视为 $0$。\n\n现在奥丁想知道，在 $n$ 个节点的世界树中，最高和最低的两个“源”（即叶子节点）的深度差最大是多少？", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n以下 $T$ 行，每行一个整数 $n$ 表示世界树的节点数。", "outputFormat": "$T$ 行，每行一个整数表示任意两个“源”的奥术力量的差的最大值。", "hint": "对于 $100\\%$ 的数据，$1\\leq n\\leq 10^{10000}$，$T\\leq 50$。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2015] World Tree", "background": "", "description": "After Odin slew the giant Ymir, a gigantic ash tree grew from Ymir’s corpse. It became the core of the universe and is called the World Tree. The branches of this colossal tree form the entire world, guarded by mysterious arcane power.\n\nOdin discovered that each node of the World Tree has at most two subtrees. Its arcane power equals the maximum arcane power among its subtrees $+1$. If a node has no subtree, its arcane power is $1$; such nodes are called \"sources\".\n\nOver the long ages, the World Tree has formed a delicate magical balance: the absolute difference between the arcane powers of the left and right subtrees does not exceed $1$. If a node has only one subtree (say, the left subtree), then the arcane power of the right subtree is treated as $0$.\n\nNow Odin wants to know: in a World Tree with $n$ nodes, what is the maximum possible difference between the depths of the deepest and the shallowest two \"sources\" (i.e., leaf nodes)?", "inputFormat": "The first line contains an integer $T$, the number of test cases.\n\nEach of the next $T$ lines contains an integer $n$, the number of nodes in the World Tree.", "outputFormat": "Output $T$ lines. Each line contains a single integer: the maximum possible difference between the depths of the deepest and the shallowest \"sources\".", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\leq n \\leq 10^{10000}$, $T \\leq 50$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2015] 世界树", "background": null, "description": "奥丁杀死巨人伊米尔后，从伊米尔的尸体上生长出来一株巨大的梣树，它是整个宇宙的核心，被称为世界之树，这个巨木的枝干构成了整个世界，它被神秘的奥术力量所守护。\n\n奥丁发现，世界树的每个节点至多有两棵子树，其蕴含的奥术力量是子树奥术力量的最大值 $+1$，如果一个节点没有子树，其奥术力量为 $1$，这些节点被称为“源”。\n\n世界树在悠长的岁月里形成了奇妙的魔法平衡，具体来说，它的左子树与右子树的奥术力量的差的绝对值不会超过 $1$。若一个节点只有一棵子树（不妨设为左子树），则右子树的奥术力量视为 $0$。\n\n现在奥丁想知道，在 $n$ 个节点的世界树中，最高和最低的两个“源”（即叶子节点）的深度差最大是多少？", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n以下 $T$ 行，每行一个整数 $n$ 表示世界树的节点数。", "outputFormat": "$T$ 行，每行一个整数表示任意两个“源”的奥术力量的差的最大值。", "hint": "对于 $100\\%$ 的数据，$1\\leq n\\leq 10^{10000}$，$T\\leq 50$。", "locale": "zh-CN"}}}
{"pid": "P4584", "type": "P", "difficulty": 6, "samples": [["10 10 2\n3 4\nactaagacct\ngacctacctc\nata\ntact", "5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2015", "各省省选", "福建"], "title": "[FJOI2015] 带子串包含约束LCS问题", "background": "", "description": "带有子串包含约束的最长公共子序列问题可以具体表述如下。\n \n给定2个长度分别为n和m的序列X和Y，以及一个子串包含约束集S。\n\nS中共有k个字符串$S=\\{S_1,S_2,…,S_k\\}$，其中字符串$S_i$的长度为$l_i$，1≤i≤k。带有子串包含约束的最长公共子序列问题就是要找出X和Y的包含约束集S中所有字符串为其子串的最长公共子序列。 \n\n例如，如果给定的序列X和Y分别为X=actaagacct, Y=gacctacctc，子串包含约束集S={ata, tact}，则子序列actacct是X和Y的一个无约束的最长公共子序列，而包含约束集S中所有字符串为其子串的一个最长公共子序列是atact 。 \n在本题中请特别关注子串与子序列的区别。字符串$T=t_1…t_n$的子串是一个形如$T$’$=t_1+i…t_m+i$的字符串，其中，0≤i，m+i≤n。例如，T=abcdefg，则bcd是T 的一个子串，而bce是T的一个子序列，但不是T 的子串。\n\n设计一个算法，找出给定序列X和Y带有子串包含约束S的最长公共子序列。 ", "inputFormat": "第1行中给出正整数n,m,k，m＜300, n＜300, k＜6。n和m分别表示给定序列X和Y的长度。k表示子串包含约束集S中共有k个字符串。\n\n第2行中有k个整数$l_i$，$0≤l_i≤300,1≤i≤k$，分别表示子串包含约束集S中k个字符串的长度。\n\n第3行和第4行分别给出序列X和Y 。\n\n接下来k行每行一个字符串$S_i$", "outputFormat": "将计算出的X和Y带子串包含约束S的最长公共子序列的长度输出。", "hint": "字符串仅包含大小写字母.", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2015] LCS with Substring Inclusion Constraints", "background": "", "description": "The longest common subsequence problem with substring inclusion constraints can be stated as follows.\n\nGiven two sequences $X$ and $Y$ of lengths $n$ and $m$, respectively, and a set $S$ of substring inclusion constraints.\n\nThere are $k$ strings in $S$, $S=\\{S_1,S_2,…,S_k\\}$, where the length of string $S_i$ is $l_i$, $1 \\le i \\le k$. The problem is to find a longest common subsequence of $X$ and $Y$ that contains every string in the constraint set $S$ as its substring.\n\nFor example, if the given sequences are $X = \\texttt{actaagacct}$ and $Y = \\texttt{gacctacctc}$, and the constraint set is $S=\\{\\texttt{ata}, \\texttt{tact}\\}$, then the subsequence actacct is an unconstrained LCS of $X$ and $Y$, while a longest common subsequence that contains all strings in $S$ as substrings is atact.\nIn this problem, please pay special attention to the difference between substring and subsequence. The substring of a string $T=t_1…t_n$ is a string of the form $T$’$=t_1+i…t_m+i$, where $0 \\le i$, $m+i \\le n$. For example, if $T=\\texttt{abcdefg}$, then bcd is a substring of $T$, while bce is a subsequence of $T$ but not a substring of $T$.\n\nDesign an algorithm to find a longest common subsequence of the given sequences $X$ and $Y$ that satisfies the substring inclusion constraints $S$.", "inputFormat": "- The first line contains positive integers $n$, $m$, $k$, with $m < 300$, $n < 300$, $k < 6$. Here $n$ and $m$ are the lengths of the given sequences $X$ and $Y$, respectively. The value $k$ is the number of strings in the constraint set $S$.\n- The second line contains $k$ integers $l_i$, with $0 \\le l_i \\le 300$, $1 \\le i \\le k$, which are the lengths of the $k$ strings in the constraint set $S$.\n- The third and fourth lines give the sequences $X$ and $Y$.\n- The next $k$ lines each contain one string $S_i$.", "outputFormat": "Output the length of a longest common subsequence of $X$ and $Y$ that satisfies the substring inclusion constraints $S$.", "hint": "The strings contain only uppercase and lowercase letters.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2015] 带子串包含约束LCS问题", "background": "", "description": "带有子串包含约束的最长公共子序列问题可以具体表述如下。\n \n给定2个长度分别为n和m的序列X和Y，以及一个子串包含约束集S。\n\nS中共有k个字符串$S=\\{S_1,S_2,…,S_k\\}$，其中字符串$S_i$的长度为$l_i$，1≤i≤k。带有子串包含约束的最长公共子序列问题就是要找出X和Y的包含约束集S中所有字符串为其子串的最长公共子序列。 \n\n例如，如果给定的序列X和Y分别为X=actaagacct, Y=gacctacctc，子串包含约束集S={ata, tact}，则子序列actacct是X和Y的一个无约束的最长公共子序列，而包含约束集S中所有字符串为其子串的一个最长公共子序列是atact 。 \n在本题中请特别关注子串与子序列的区别。字符串$T=t_1…t_n$的子串是一个形如$T$’$=t_1+i…t_m+i$的字符串，其中，0≤i，m+i≤n。例如，T=abcdefg，则bcd是T 的一个子串，而bce是T的一个子序列，但不是T 的子串。\n\n设计一个算法，找出给定序列X和Y带有子串包含约束S的最长公共子序列。 ", "inputFormat": "第1行中给出正整数n,m,k，m＜300, n＜300, k＜6。n和m分别表示给定序列X和Y的长度。k表示子串包含约束集S中共有k个字符串。\n\n第2行中有k个整数$l_i$，$0≤l_i≤300,1≤i≤k$，分别表示子串包含约束集S中k个字符串的长度。\n\n第3行和第4行分别给出序列X和Y 。\n\n接下来k行每行一个字符串$S_i$", "outputFormat": "将计算出的X和Y带子串包含约束S的最长公共子序列的长度输出。", "hint": "字符串仅包含大小写字母.", "locale": "zh-CN"}}}
{"pid": "P4585", "type": "P", "difficulty": 6, "samples": [["4 6\n1 2 3 4\n1 1 4 1 0\n0 1 4\n0 1 3\n1 1 1 1 0\n1 1 1 1 1\n1 1 2 1 2", "5\n0\n2\n5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2015", "线段树", "各省省选", "福建", "分治", "树套树", "可持久化", "线段树分治"], "title": "[FJOI2015] 火星商店问题", "background": null, "description": "火星上的一条商业街里按照商店的编号 $1 \\sim n$ ，依次排列着 $n$ 个商店。商店里出售的琳琅满目的商品中，每种商品都用一个非负整数 $\\text{val}$ 来标价。每个商店每天都有可能进一些新商品，其标价可能与已有商品相同。\n \n火星人在这条商业街购物时，通常会逛这条商业街某一段路上的所有商店，譬如说商店编号在区间 $[l,r]$ 中的商店，从中挑选一件自己最喜欢的商品。每个火星人对商品的喜好标准各不相同。  \n\n通常每个火星人都有一个自己的喜好密码 $x$。对每种标价为 $\\text{val}$ 的商品，喜好密码为 $x$ 的火星人对这种商品的喜好程度与 $\\text{val}$ 异或 $x$ 的值成正比。也就是说，$\\text{val xor }x$ 的值越大，他就越喜欢该商品。  \n\n每个火星人的购物卡在所有商店中只能购买最近 $d$ 天内（含当天）进货的商品。另外，每个商店都有一种特殊商品不受进货日期限制，每位火星人在任何时刻都可以选择该特殊商品。每个商店中每种商品都能保证供应，不存在商品缺货的问题。 \n\n对于给定的按时间顺序排列的事件，计算每个购物的火星人的在本次购物活动中最喜欢的商品，即输出 $\\text{val xor }x$ 的最大值。这里所说的按时间顺序排列的事件是指以下两种事件： \n\n`0 s v`，表示编号为 $s$ 的商店在当日新进一种标价为 $v$ 的商品。 \n\n`1 l r x d`，表示一位火星人当日在编号在 $[l,r]$ 的商店购买 $d$ 天内的商品，该火星人的喜好密码为 $x$。", "inputFormat": "第一行两个正整数 $n,m$，分别表示商店总数和事件总数。   \n第二行中有 $n$ 个整数，第 $i$ 个整数表示商店 $i$ 的特殊商品标价。 \n\n接下来的 $m$ 行，每行表示一个事件。每天的事件按照先事件 $0$，后事件 $1$ 的顺序排列。 \n\n**关于天的定义参考[这个帖子](https://www.luogu.com.cn/discuss/87100)**", "outputFormat": "对于每个事件 $1$，输出一行一个整数表示答案。", "hint": "【数据范围】  \n对于 $100\\%$ 的数据，所有输入的整数在 $[0,10^5]$ 范围内。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2015] Mars Shop Problem", "background": "", "description": "On a commercial street on Mars, there are $n$ shops arranged in order by shop IDs $1 \\sim n$. Among the many goods sold in the shops, each item is priced with a non-negative integer $\\text{val}$. Each shop may bring in some new goods every day, and the price may be the same as existing goods.\n\nWhen Martians shop on this street, they usually visit all shops along a certain segment of the street, for example, the shops with IDs in the interval $[l,r]$, and choose their favorite item from them. Each Martian has different preferences.\n\nUsually, each Martian has a personal preference code $x$. For an item priced at $\\text{val}$, a Martian with preference code $x$ likes it in proportion to the value of $\\text{val xor }x$. That is, the larger $\\text{val xor }x$ is, the more they like the item.\n\nEach Martian’s shopping card can only be used to buy goods stocked within the most recent $d$ days (including the current day) across all shops. In addition, each shop has one special item that is not restricted by the stocking date, and each Martian can choose this special item at any time. The supply of every item in each shop is guaranteed; there is no out-of-stock issue.\n\nGiven events arranged in chronological order, for each shopping Martian, compute the item they like most in this shopping activity, i.e., output the maximum value of $\\text{val xor }x$. The events in chronological order refer to the following two types:\n\n`0 s v`, meaning that shop $s$ stocks a new item priced at $v$ on the current day.\n\n`1 l r x d`, meaning that a Martian shops on the current day in shops with IDs in $[l,r]$, buying items stocked within $d$ days, and this Martian’s preference code is $x$.", "inputFormat": "The first line contains two positive integers $n,m$, representing the total number of shops and the total number of events.\n\nThe second line contains $n$ integers; the $i$-th integer is the price of the special item in shop $i$.\n\nThe next $m$ lines each describe one event. The events of each day are arranged in the order that event type $0$ comes first, then event type $1$.", "outputFormat": "For each event of type $1$, output one line with one integer representing the answer.", "hint": "Constraints  \nFor $100\\%$ of the data, all input integers are in the range $[0,10^5]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2015] 火星商店问题", "background": null, "description": "火星上的一条商业街里按照商店的编号 $1 \\sim n$ ，依次排列着 $n$ 个商店。商店里出售的琳琅满目的商品中，每种商品都用一个非负整数 $\\text{val}$ 来标价。每个商店每天都有可能进一些新商品，其标价可能与已有商品相同。\n \n火星人在这条商业街购物时，通常会逛这条商业街某一段路上的所有商店，譬如说商店编号在区间 $[l,r]$ 中的商店，从中挑选一件自己最喜欢的商品。每个火星人对商品的喜好标准各不相同。  \n\n通常每个火星人都有一个自己的喜好密码 $x$。对每种标价为 $\\text{val}$ 的商品，喜好密码为 $x$ 的火星人对这种商品的喜好程度与 $\\text{val}$ 异或 $x$ 的值成正比。也就是说，$\\text{val xor }x$ 的值越大，他就越喜欢该商品。  \n\n每个火星人的购物卡在所有商店中只能购买最近 $d$ 天内（含当天）进货的商品。另外，每个商店都有一种特殊商品不受进货日期限制，每位火星人在任何时刻都可以选择该特殊商品。每个商店中每种商品都能保证供应，不存在商品缺货的问题。 \n\n对于给定的按时间顺序排列的事件，计算每个购物的火星人的在本次购物活动中最喜欢的商品，即输出 $\\text{val xor }x$ 的最大值。这里所说的按时间顺序排列的事件是指以下两种事件： \n\n`0 s v`，表示编号为 $s$ 的商店在当日新进一种标价为 $v$ 的商品。 \n\n`1 l r x d`，表示一位火星人当日在编号在 $[l,r]$ 的商店购买 $d$ 天内的商品，该火星人的喜好密码为 $x$。", "inputFormat": "第一行两个正整数 $n,m$，分别表示商店总数和事件总数。   \n第二行中有 $n$ 个整数，第 $i$ 个整数表示商店 $i$ 的特殊商品标价。 \n\n接下来的 $m$ 行，每行表示一个事件。每天的事件按照先事件 $0$，后事件 $1$ 的顺序排列。 \n\n**关于天的定义参考[这个帖子](https://www.luogu.com.cn/discuss/87100)**", "outputFormat": "对于每个事件 $1$，输出一行一个整数表示答案。", "hint": "【数据范围】  \n对于 $100\\%$ 的数据，所有输入的整数在 $[0,10^5]$ 范围内。", "locale": "zh-CN"}}}
{"pid": "P4586", "type": "P", "difficulty": 7, "samples": [["3 \n0.00 0.00 \n1.00 0.00 \n0.00 4.00 \n10 \n0.00 0.00 \n0.00 3.00 \n1.00 6.00 \n2.00 2.00 \n3.00 5.00 \n5.00 3.00 \n6.00 3.00 \n9.00 5.00 \n10.00 5.00 \n11.00 3.00 \n0", "0.50\n3.05"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2015", "各省省选", "福建"], "title": "[FJOI2015] 最小覆盖双圆问题", "background": null, "description": "给定平面上 $n$ 个点 $(x_1,y_1),...,(x_n,y_n)$，找出2个半径相同的圆 $R_1$ 和 $R_2$，覆盖给定的 $n$ 个点，且半径最小。\n\n![](https://cdn.luogu.com.cn/upload/pic/18767.png)  \n\n设计一个算法，计算出所求最小覆盖双圆 $R_1$ 和 $R_2$ 的半径。", "inputFormat": "输入有多个测试实例。每个实例的第一行中给出正整数 $n$，表示平面上有 $n$ 个点。\n\n接下来的 $n$ 行中每行给出两个实数 $x, y$。\n\n最后一行有一个 $0$ 表示结束。", "outputFormat": "对于每组数据，输出最小的符合题意的圆的半径，保留两位小数。", "hint": "对于 $100\\%$ 的数据，$n \\leq 1000$，$|x_i|,|y_i| \\leq 10^5$，$T \\leq 10$。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2015] Minimum Double-Circle Cover Problem", "background": "", "description": "Given $n$ points on the plane $(x_1, y_1), \\ldots, (x_n, y_n)$, find two circles $R_1$ and $R_2$ with the same radius that cover all the given $n$ points, and the radius is as small as possible.\n\n![](https://cdn.luogu.com.cn/upload/pic/18767.png)  \n\nDesign an algorithm to compute the minimal radius of the two covering circles $R_1$ and $R_2$.", "inputFormat": "The input contains multiple test cases.  \nFor each case, the first line contains a positive integer $n$ ($n < 1000$), indicating there are $n$ points on the plane.  \nEach of the next $n$ lines contains two real numbers $x$ and $y$, with $-100000 \\le x \\le 100000$ and $-100000 \\le y \\le 100000$.  \nThe input ends with a line containing a single $0$.", "outputFormat": "For each test case, output the minimal radius of a circle that satisfies the requirement, keeping two decimal places.", "hint": "For 100% of the testdata, $n \\le 1000$, $|x_i|, |y_i| \\le 100000$, and $T \\le 10$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2015] 最小覆盖双圆问题", "background": null, "description": "给定平面上 $n$ 个点 $(x_1,y_1),...,(x_n,y_n)$，找出2个半径相同的圆 $R_1$ 和 $R_2$，覆盖给定的 $n$ 个点，且半径最小。\n\n![](https://cdn.luogu.com.cn/upload/pic/18767.png)  \n\n设计一个算法，计算出所求最小覆盖双圆 $R_1$ 和 $R_2$ 的半径。", "inputFormat": "输入有多个测试实例。每个实例的第一行中给出正整数 $n$，表示平面上有 $n$ 个点。\n\n接下来的 $n$ 行中每行给出两个实数 $x, y$。\n\n最后一行有一个 $0$ 表示结束。", "outputFormat": "对于每组数据，输出最小的符合题意的圆的半径，保留两位小数。", "hint": "对于 $100\\%$ 的数据，$n \\leq 1000$，$|x_i|,|y_i| \\leq 10^5$，$T \\leq 10$。", "locale": "zh-CN"}}}
{"pid": "P4587", "type": "P", "difficulty": 6, "samples": [["5\n1 2 4 9 10\n5\n1 1\n1 2\n1 3\n1 4\n1 5", "2\n4\n8\n8\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2016", "莫队", "各省省选", "福建", "树套树", "可持久化线段树", "ST 表", "离线处理"], "title": "[FJOI2016] 神秘数", "background": "", "description": "一个可重复数字集合 $S$ 的神秘数定义为最小的不能被 $S$ 的子集的和表示的正整数。例如 $S=\\{1,1,1,4,13\\}$，有：$1 = 1$，$2 = 1+1$，$3 = 1+1+1$，$4 = 4$，$5 = 4+1$，$6 = 4+1+1$，$7 = 4+1+1+1$。\n\n$8$ 无法表示为集合 $S$ 的子集的和，故集合 $S$ 的神秘数为 $8$。\n\n现给定长度为 $n$ 的**正整数**序列 $a$，$m$ 次询问，每次询问包含两个参数 $l,r$，你需要求出由 $a_l,a_{l+1},\\cdots,a_r$ 所组成的可重集合的神秘数。", "inputFormat": "第一行一个整数 $n$，表示数字个数。\n\n第二行 $n$ 个正整数，从 $1$ 编号。\n\n第三行一个整数 $m$，表示询问个数。", "outputFormat": "对于每个询问，输出一行对应的答案。", "hint": "对于 $100\\%$ 的数据点，$1\\le n,m\\le {10}^5$，$\\sum a\\le {10}^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2016] Mysterious Number", "background": "", "description": "The mysterious number of a multiset $S$ is defined as the smallest positive integer that cannot be represented as the sum of a submultiset of $S$. For example, with $S = \\{1,1,1,4,13\\}$, we have: $1 = 1$, $2 = 1+1$, $3 = 1+1+1$, $4 = 4$, $5 = 4+1$, $6 = 4+1+1$, $7 = 4+1+1+1$.\n\n$8$ cannot be represented as the sum of a submultiset of $S$, so the mysterious number of $S$ is $8$.\n\nYou are given a sequence $a$ of length $n$ consisting of positive integers, and $m$ queries. Each query contains two parameters $l, r$. You need to find the mysterious number of the multiset formed by $a_l, a_{l+1}, \\cdots, a_r$.", "inputFormat": "- The first line contains an integer $n$, the number of elements.\n- The second line contains $n$ positive integers $a_1, a_2, \\dots, a_n$, indexed from $1$.\n- The third line contains an integer $m$, the number of queries.\n- Each of the next $m$ lines contains two integers $l, r$.", "outputFormat": "For each query, output one line with the corresponding answer.", "hint": "For $100\\%$ of the testdata, $1 \\le n, m \\le 10^5$, $\\sum a_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2016] 神秘数", "background": "", "description": "一个可重复数字集合 $S$ 的神秘数定义为最小的不能被 $S$ 的子集的和表示的正整数。例如 $S=\\{1,1,1,4,13\\}$，有：$1 = 1$，$2 = 1+1$，$3 = 1+1+1$，$4 = 4$，$5 = 4+1$，$6 = 4+1+1$，$7 = 4+1+1+1$。\n\n$8$ 无法表示为集合 $S$ 的子集的和，故集合 $S$ 的神秘数为 $8$。\n\n现给定长度为 $n$ 的**正整数**序列 $a$，$m$ 次询问，每次询问包含两个参数 $l,r$，你需要求出由 $a_l,a_{l+1},\\cdots,a_r$ 所组成的可重集合的神秘数。", "inputFormat": "第一行一个整数 $n$，表示数字个数。\n\n第二行 $n$ 个正整数，从 $1$ 编号。\n\n第三行一个整数 $m$，表示询问个数。", "outputFormat": "对于每个询问，输出一行对应的答案。", "hint": "对于 $100\\%$ 的数据点，$1\\le n,m\\le {10}^5$，$\\sum a\\le {10}^9$。", "locale": "zh-CN"}}}
{"pid": "P4588", "type": "P", "difficulty": 4, "samples": [["1\n10 1000000000\n1 2\n2 1\n1 2\n1 10\n2 3\n2 4\n1 6\n1 7\n1 12\n2 7", "2\n1\n2\n20\n10\n1\n6\n42\n504\n84"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "线段树", "各省省选", "天津"], "title": "[TJOI2018] 数学计算", "background": null, "description": "小豆现在有一个数 $x$，初始值为 $1$。小豆有 $Q$ 次操作，操作有两种类型：\n\n`1 m`：将 $x$ 变为 $x \\times m$，并输出 $x \\bmod M$\n\n`2 pos`：将 $x$ 变为 $x$ 除以第 $pos$ 次操作所乘的数（保证第 $pos$ 次操作一定为类型 1，对于每一个类型 1 的操作至多会被除一次），并输出 $x \\bmod M$。", "inputFormat": "一共有  $t$ 组输入。\n\n对于每一组输入，第一行是两个数字 $Q,M$。\n\n接下来 $Q$ 行，每一行为操作类型 $op$，操作编号或所乘的数字 $m$（保证所有的输入都是合法的）。", "outputFormat": "对于每一个操作，输出一行，包含操作执行后的 $x \\bmod M$ 的值。", "hint": "对于 $20\\%$ 的数据，$1 \\le Q \\le 500$。\n\n对于 $100\\%$ 的数据，$1 \\le Q \\le 10^5$，$t \\le 5,1 \\lt M \\le 10^9$，$0 < m \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2018] Mathematical Calculation", "background": "", "description": "Xiaodou now has a number $x$, initially $1$. There are $Q$ operations of two types:\n\n`1 m`: set $x$ to $x \\times m$, then output $x \\bmod M$.\n\n`2 pos`: set $x$ to $x$ divided by the number multiplied in the $pos$-th operation (it is guaranteed that the $pos$-th operation is of type 1, and each type 1 operation will be divided at most once), then output $x \\bmod M$.", "inputFormat": "There are $t$ test cases.\n\nFor each test case, the first line contains two integers $Q, M$.\n\nThe next $Q$ lines each contain an operation, formatted as either `1 m` or `2 pos` (all inputs are guaranteed to be valid).", "outputFormat": "For each operation, output one line containing the value of $x \\bmod M$ after executing the operation.", "hint": "For $20\\%$ of the testdata, $1 \\le Q \\le 500$.\n\nFor $100\\%$ of the testdata, $1 \\le Q \\le 10^5$, $t \\le 5$, $1 \\lt M \\le 10^9$, $0 < m \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2018] 数学计算", "background": null, "description": "小豆现在有一个数 $x$，初始值为 $1$。小豆有 $Q$ 次操作，操作有两种类型：\n\n`1 m`：将 $x$ 变为 $x \\times m$，并输出 $x \\bmod M$\n\n`2 pos`：将 $x$ 变为 $x$ 除以第 $pos$ 次操作所乘的数（保证第 $pos$ 次操作一定为类型 1，对于每一个类型 1 的操作至多会被除一次），并输出 $x \\bmod M$。", "inputFormat": "一共有  $t$ 组输入。\n\n对于每一组输入，第一行是两个数字 $Q,M$。\n\n接下来 $Q$ 行，每一行为操作类型 $op$，操作编号或所乘的数字 $m$（保证所有的输入都是合法的）。", "outputFormat": "对于每一个操作，输出一行，包含操作执行后的 $x \\bmod M$ 的值。", "hint": "对于 $20\\%$ 的数据，$1 \\le Q \\le 500$。\n\n对于 $100\\%$ 的数据，$1 \\le Q \\le 10^5$，$t \\le 5,1 \\lt M \\le 10^9$，$0 < m \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P4589", "type": "P", "difficulty": 6, "samples": [["1 3\n1 0\n2 1 3\n3 0", "AK"], ["1 6\n1 2 2 3\n2 1 4\n3 1 4\n4 1 6\n5 0\n6 0", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "二分", "各省省选", "二分图", "天津"], "title": "[TJOI2018] 智力竞赛", "background": "", "description": "小豆报名参加智力竞赛，他带上了 $n$ 个好朋友作为亲友团一块来参加比赛。比赛规则如下：\n\n一共有 $m$ 道题目，每个人都有 $1$ 次答题机会，每次答题为选择一道题目回答，在回答正确后，可以继续回答这个题目的后续题目，直到答错题目或者没有后续题目。\n\n每个问题都会有一个价值，比赛最后参赛选手获得的奖励价值等价于该选手和他的亲友团没有回答的问题中的最低价值。\n\n我们现在知道小豆和他的亲友团实力非常强，能够做出这次竞赛中的所有题目。\n\n小豆想知道在知道题目和后续题目的条件下，他最大能获得的价值是多少？", "inputFormat": "第一行有两个整数 $n,m$。（$n\\leq50,m\\leq500$）\n\n接下来 $m$ 行，第 $i+1$ 行表示编号为 $i$ 的题目的题目信息，格式形如 $v_i,k_i,a_{i,1},a_{i,2},...,a_{i,k_i}$，其中 $v_i$ 表示该题目的价值，$k_i$ 表示这个题目的后续题目个数，$a_{i,1},a_{i,2},...,a_{i,k_i}$ 表示 $k_i$ 个后续题目的编号。", "outputFormat": "如果全部题目都能答对，则输出 `AK`，否则输出小豆可以获得的最高奖励价值。", "hint": "对于 $10\\%$ 的数据，有 $1<n,m\\leq10$。\n\n对于 $20\\%$ 的数据，有 $1<n,m\\leq100$。\n\n对于 $100\\%$ 的数据，有 $1<n\\leq50,1<m\\leq500,v_i\\leq10^9,k_i,a_{i,j}\\leq m$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2018] Intelligence Contest", "background": "", "description": "Xiaodou signed up for an intelligence contest. He brought $n$ good friends as his cheering group to take part in the contest together. The rules are as follows.\n\nThere are $m$ problems in total. Each person has $1$ chance to answer questions. In each attempt, they choose one problem to answer. After answering correctly, they may continue to answer the subsequent problems of this problem, until they answer a problem incorrectly or there is no subsequent problem.\n\nEach problem has a value. At the end of the contest, the reward value that a participant gets is equal to the minimum value among the problems that were not answered by this participant and his cheering group.\n\nNow we know that Xiaodou and his cheering group are very strong and can solve all the problems in this contest.\n\nXiaodou wants to know, given the information about the problems and their subsequent problems, what is the maximum value he can obtain.", "inputFormat": "The first line contains two integers $n,m$. ($n\\leq50,m\\leq500$).\n\nThe next $m$ lines describe the problems. Line $i+1$ gives the information of problem $i$, in the form $v_i,k_i,a_{i,1},a_{i,2},...,a_{i,k_i}$, where $v_i$ is the value of this problem, $k_i$ is the number of subsequent problems of this problem, and $a_{i,1},a_{i,2},...,a_{i,k_i}$ are the indices of these $k_i$ subsequent problems.", "outputFormat": "If all problems can be answered correctly, output `AK`. Otherwise, output the maximum reward value that Xiaodou can obtain.", "hint": "For $10\\%$ of the testdata, $1<n,m\\leq10$.\n\nFor $20\\%$ of the testdata, $1<n,m\\leq100$.\n\nFor $100\\%$ of the testdata, $1<n\\leq50,1<m\\leq500,v_i\\leq10^9,k_i,a_{i,j}\\leq m$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2018] 智力竞赛", "background": "", "description": "小豆报名参加智力竞赛，他带上了 $n$ 个好朋友作为亲友团一块来参加比赛。比赛规则如下：\n\n一共有 $m$ 道题目，每个人都有 $1$ 次答题机会，每次答题为选择一道题目回答，在回答正确后，可以继续回答这个题目的后续题目，直到答错题目或者没有后续题目。\n\n每个问题都会有一个价值，比赛最后参赛选手获得的奖励价值等价于该选手和他的亲友团没有回答的问题中的最低价值。\n\n我们现在知道小豆和他的亲友团实力非常强，能够做出这次竞赛中的所有题目。\n\n小豆想知道在知道题目和后续题目的条件下，他最大能获得的价值是多少？", "inputFormat": "第一行有两个整数 $n,m$。（$n\\leq50,m\\leq500$）\n\n接下来 $m$ 行，第 $i+1$ 行表示编号为 $i$ 的题目的题目信息，格式形如 $v_i,k_i,a_{i,1},a_{i,2},...,a_{i,k_i}$，其中 $v_i$ 表示该题目的价值，$k_i$ 表示这个题目的后续题目个数，$a_{i,1},a_{i,2},...,a_{i,k_i}$ 表示 $k_i$ 个后续题目的编号。", "outputFormat": "如果全部题目都能答对，则输出 `AK`，否则输出小豆可以获得的最高奖励价值。", "hint": "对于 $10\\%$ 的数据，有 $1<n,m\\leq10$。\n\n对于 $20\\%$ 的数据，有 $1<n,m\\leq100$。\n\n对于 $100\\%$ 的数据，有 $1<n\\leq50,1<m\\leq500,v_i\\leq10^9,k_i,a_{i,j}\\leq m$。", "locale": "zh-CN"}}}
{"pid": "P4590", "type": "P", "difficulty": 6, "samples": [["3 2\nNO", "1\n19\n6"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["字符串", "递推", "2018", "各省省选", "枚举", "有限状态自动机", "天津", "DP 套 DP"], "title": "[TJOI2018] 游园会", "background": null, "description": "小豆参加了 NOI 的游园会，会场上每完成一个项目就会获得一个奖章，奖章只会是 $\\texttt{N}$、$\\texttt{O}$、$\\texttt{I}$ 的字样。在会场上他收集到了 $K$ 个奖章组成的串。兑奖规则是奖章串和兑奖串的最长公共子序列长度为小豆最后奖励的等级。现在已知兑奖串长度为 $N$，并且在兑奖串上不会出现连续三个奖章为 $\\texttt{NOI}$，即奖章中不会出现子串 $\\texttt{NOI}$。现在小豆想知道各个奖励等级会对应多少个不同的合法兑奖串。", "inputFormat": "第一行两个数，$N, K$ 分别代表兑奖串的长度，小豆收集的奖章串的长度（$N\\leq1000,K\\leq15$）。\n\n第二行一共 $K$ 个字符，表示小豆得到的奖章串。", "outputFormat": "一共 $K+1$ 行，第 $i$ 行表示小豆最后奖励等级为 $i-1$ 的不同的合法兑奖串的个数，可能这个数会很大，结果对 $10^9+7$ 取模。", "hint": "### 样例解释\n\n最长公共子序列长度为 $0$ 的串有：$\\texttt{III}$;\n\n最长公共子序列长度为 $2$ 的串有：$\\texttt{NON}$、$\\texttt{NNO}$、$\\texttt{NOO}$、$\\texttt{ONO}$、$\\texttt{INO}$、$\\texttt{NIO}$；\n\n除去 $\\texttt{NOI}$，余下的 $19 = 26-6-1$ 种为最长公共子序列长度为 $1$。\n\n### 数据范围\n\n- 对于 $10\\%$ 的数据，$N\\leq10,K\\leq10$；\n- 对于 $30\\%$ 的数据，$N\\leq100,K\\leq4$；\n- 对于 $100\\%$ 的数据，$N\\leq1000,K\\leq15$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2018] Funfair", "background": "", "description": "Xiaodou participated in the NOI funfair. At the venue, each time he completes an activity he receives a medal, and each medal is labeled only with $\\texttt{N}$, $\\texttt{O}$, or $\\texttt{I}$. At the venue he collected a string consisting of $K$ medals. The redemption rule is that the length of the longest common subsequence between the medal string and a redemption string is Xiaodou’s final reward level. It is known that the redemption string has length $N$, and the substring $\\texttt{NOI}$ never appears in the redemption string, i.e., there is no occurrence of $\\texttt{NOI}$. Now Xiaodou wants to know, for each reward level, how many different valid redemption strings correspond to it.", "inputFormat": "The first line contains two integers, $N, K$, representing the length of the redemption string and the length of the medal string Xiaodou collected ($N\\leq1000,K\\leq15$).\n\nThe second line contains $K$ characters, representing the medal string Xiaodou obtained.", "outputFormat": "Output $K+1$ lines. The $i$-th line is the number of different valid redemption strings for which Xiaodou’s final reward level is $i-1$. This number can be large; output the result modulo $10^9+7$.", "hint": "Sample explanation:\n\nStrings whose longest common subsequence length is $0$: $\\texttt{III}$.\n\nStrings whose longest common subsequence length is $2$: $\\texttt{NON}$, $\\texttt{NNO}$, $\\texttt{NOO}$, $\\texttt{ONO}$, $\\texttt{INO}$, $\\texttt{NIO}$.\n\nExcluding $\\texttt{NOI}$, the remaining $19 = 26-6-1$ kinds have a longest common subsequence length of $1$.\n\nConstraints\n\n- For $10\\%$ of the testdata, $N\\leq10,K\\leq10$.\n- For $30\\%$ of the testdata, $N\\leq100,K\\leq4$.\n- For $100\\%$ of the testdata, $N\\leq1000,K\\leq15$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2018] 游园会", "background": null, "description": "小豆参加了 NOI 的游园会，会场上每完成一个项目就会获得一个奖章，奖章只会是 $\\texttt{N}$、$\\texttt{O}$、$\\texttt{I}$ 的字样。在会场上他收集到了 $K$ 个奖章组成的串。兑奖规则是奖章串和兑奖串的最长公共子序列长度为小豆最后奖励的等级。现在已知兑奖串长度为 $N$，并且在兑奖串上不会出现连续三个奖章为 $\\texttt{NOI}$，即奖章中不会出现子串 $\\texttt{NOI}$。现在小豆想知道各个奖励等级会对应多少个不同的合法兑奖串。", "inputFormat": "第一行两个数，$N, K$ 分别代表兑奖串的长度，小豆收集的奖章串的长度（$N\\leq1000,K\\leq15$）。\n\n第二行一共 $K$ 个字符，表示小豆得到的奖章串。", "outputFormat": "一共 $K+1$ 行，第 $i$ 行表示小豆最后奖励等级为 $i-1$ 的不同的合法兑奖串的个数，可能这个数会很大，结果对 $10^9+7$ 取模。", "hint": "### 样例解释\n\n最长公共子序列长度为 $0$ 的串有：$\\texttt{III}$;\n\n最长公共子序列长度为 $2$ 的串有：$\\texttt{NON}$、$\\texttt{NNO}$、$\\texttt{NOO}$、$\\texttt{ONO}$、$\\texttt{INO}$、$\\texttt{NIO}$；\n\n除去 $\\texttt{NOI}$，余下的 $19 = 26-6-1$ 种为最长公共子序列长度为 $1$。\n\n### 数据范围\n\n- 对于 $10\\%$ 的数据，$N\\leq10,K\\leq10$；\n- 对于 $30\\%$ 的数据，$N\\leq100,K\\leq4$；\n- 对于 $100\\%$ 的数据，$N\\leq1000,K\\leq15$。", "locale": "zh-CN"}}}
{"pid": "P4591", "type": "P", "difficulty": 6, "samples": [["2\nABC\n2 A AB\n2 C BC", "2"], ["2\nAAA\n2 A AA\n2 A AA", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "各省省选", "天津"], "title": "[TJOI2018] 碱基序列", "background": "", "description": "小豆参加了生物实验室。在实验室里，他主要研究蛋白质。他现在研究的蛋白质是由 $k$ 个氨基酸按一定顺序构成的。每一个氨基酸都可能有 $a$ 种碱基序列 $s_{i,j}$ 构成。\n\n现在小豆有一个碱基串 $s$，小豆想知道在这个碱基上都多少种不同的组合方式可能得到这个蛋白质。即求由 $k$ 段字符串有序合并成的字符串 $s_1$，有多少种不同方式能够匹配字符串 $s$，其中 $k$ 段字符串的选法不同，或者与 $s$ 匹配上的位置不同认为是不同的方式。", "inputFormat": "\n第一行一个数，表示这个蛋白质由 $k$ 个氨基酸组成。\n\n第二行一个字符串 $s$，表示小豆现在有的碱基串。\n\n第三行开始接下来 $k$ 行表示第 $i$ 个氨基酸可能的碱基序列，对于第 $i$ 个氨基酸，$a_i$ 表示这个氨基酸可能的碱基序列种数，接下来 $a_i$ 个字符串表示这 $a_i$ 种可能的碱基序列，用空格隔开。\n", "outputFormat": "输出一个数目标是不同的方案数（不同的方案数是指不同的子碱基串或者相同的碱基串不同的氨基酸排列方式）。\n\n答案对 $10^9+7$ 取模。", "hint": "### 样例 1 解释\n\n- 第一个选 $\\tt A$ 第二个选 $\\tt C$，得到 $\\tt AC$ 能够与 $\\tt ABC$ 产生 $0$ 种匹配方式；\n- 第一个选 $\\tt A$ 第二个选 $\\tt BC$，得到 $\\tt ABC$ 能够与 $\\tt ABC$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AB$ 第二个选 $\\tt C$，得到 $\\tt ABC$ 能够与 $\\tt ABC$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AB$ 第二个选 $\\tt BC$，得到 $\\tt ABBC$ 能够与 $\\tt ABC$ 产生 $0$ 种匹配方式。\n\n所以一共 $2$ 种。\n\n### 样例 2 解释\n\n- 第一个选 $\\tt A$ 第二个选 $\\tt A$，得到 $\\tt AA$ 能够与 $\\tt AAA$ 产生 $2$ 种匹配方式；\n- 第一个选 $\\tt A$ 第二个选 $\\tt AA$，得到 $\\tt AAA$ 能够与 $\\tt AAA$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AA$ 第二个选 $\\tt A$，得到 $\\tt AAA$ 能够与 $\\tt AAA$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AA$ 第二个选 $\\tt AA$,得到 $\\tt AAAA$ 能够与 $\\tt AAA$ 产生 $0$ 种匹配方式。\n\n所以一共 $4$ 种。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1\\leq k\\leq 25$，$1\\le |s|\\leq 10000$，$1\\le a_i\\leq 3$。\n- 对于 $100\\%$ 的数据，$1\\leq k\\leq100$，$1\\le |s|\\leq 10000$，$1\\le a_i \\leq10$。碱基序列的长度均不超过 $15$。字符集为大写字母。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2018] Base Sequence", "background": "", "description": "Xiaodou joined a biology laboratory. In the lab, he mainly studies proteins. The protein he is currently studying consists of $k$ amino acids in a fixed order. For each amino acid $i$, there are $a_i$ possible base sequences $s_{i,j}$.\n\nNow Xiaodou has a base string $s$, and he wants to know how many different combinations could produce this protein on this base string. That is, consider the string $s_1$ obtained by concatenating $k$ string segments in order, where for the $i$-th segment you choose one sequence from its $a_i$ options. Count how many different ways $s_1$ can match the string $s$ as a contiguous substring. Two ways are considered different if either the choices for the $k$ segments differ, or the matched positions in $s$ differ.", "inputFormat": "- The first line contains an integer indicating that the protein consists of $k$ amino acids.\n- The second line contains a string $s$, which is the current base string.\n- The next $k$ lines describe the possible base sequences for the $i$-th amino acid. For the $i$-th amino acid, the line starts with $a_i$, the number of possible base sequences, followed by $a_i$ strings representing these possible base sequences, separated by spaces.", "outputFormat": "Output a single integer: the number of different ways (either different substrings of $s$, or for the same substring, different choices of sequences for the amino acids). The answer is taken modulo $10^9+7$.", "hint": "### Sample 1 Explanation\n\n- First choose $\\tt A$, second choose $\\tt C$, obtaining $\\tt AC$, which matches $\\tt ABC$ in $0$ ways.\n- First choose $\\tt A$, second choose $\\tt BC$, obtaining $\\tt ABC$, which matches $\\tt ABC$ in $1$ way.\n- First choose $\\tt AB$, second choose $\\tt C$, obtaining $\\tt ABC$, which matches $\\tt ABC$ in $1$ way.\n- First choose $\\tt AB$, second choose $\\tt BC$, obtaining $\\tt ABBC$, which matches $\\tt ABC$ in $0$ ways.\n\nTherefore there are $2$ ways in total.\n\n### Sample 2 Explanation\n\n- First choose $\\tt A$, second choose $\\tt A$, obtaining $\\tt AA$, which matches $\\tt AAA$ in $2$ ways.\n- First choose $\\tt A$, second choose $\\tt AA$, obtaining $\\tt AAA$, which matches $\\tt AAA$ in $1$ way.\n- First choose $\\tt AA$, second choose $\\tt A$, obtaining $\\tt AAA$, which matches $\\tt AAA$ in $1$ way.\n- First choose $\\tt AA$, second choose $\\tt AA$, obtaining $\\tt AAAA$, which matches $\\tt AAA$ in $0$ ways.\n\nTherefore there are $4$ ways in total.\n\n### Constraints\n\n- For $30\\%$ of the testdata, $1 \\le k \\le 25$, $1 \\le |s| \\le 10000$, $1 \\le a_i \\le 3$.\n- For $100\\%$ of the testdata, $1 \\le k \\le 100$, $1 \\le |s| \\le 10000$, $1 \\le a_i \\le 10$. The length of each base sequence does not exceed $15$. The character set consists of uppercase letters.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2018] 碱基序列", "background": "", "description": "小豆参加了生物实验室。在实验室里，他主要研究蛋白质。他现在研究的蛋白质是由 $k$ 个氨基酸按一定顺序构成的。每一个氨基酸都可能有 $a$ 种碱基序列 $s_{i,j}$ 构成。\n\n现在小豆有一个碱基串 $s$，小豆想知道在这个碱基上都多少种不同的组合方式可能得到这个蛋白质。即求由 $k$ 段字符串有序合并成的字符串 $s_1$，有多少种不同方式能够匹配字符串 $s$，其中 $k$ 段字符串的选法不同，或者与 $s$ 匹配上的位置不同认为是不同的方式。", "inputFormat": "\n第一行一个数，表示这个蛋白质由 $k$ 个氨基酸组成。\n\n第二行一个字符串 $s$，表示小豆现在有的碱基串。\n\n第三行开始接下来 $k$ 行表示第 $i$ 个氨基酸可能的碱基序列，对于第 $i$ 个氨基酸，$a_i$ 表示这个氨基酸可能的碱基序列种数，接下来 $a_i$ 个字符串表示这 $a_i$ 种可能的碱基序列，用空格隔开。\n", "outputFormat": "输出一个数目标是不同的方案数（不同的方案数是指不同的子碱基串或者相同的碱基串不同的氨基酸排列方式）。\n\n答案对 $10^9+7$ 取模。", "hint": "### 样例 1 解释\n\n- 第一个选 $\\tt A$ 第二个选 $\\tt C$，得到 $\\tt AC$ 能够与 $\\tt ABC$ 产生 $0$ 种匹配方式；\n- 第一个选 $\\tt A$ 第二个选 $\\tt BC$，得到 $\\tt ABC$ 能够与 $\\tt ABC$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AB$ 第二个选 $\\tt C$，得到 $\\tt ABC$ 能够与 $\\tt ABC$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AB$ 第二个选 $\\tt BC$，得到 $\\tt ABBC$ 能够与 $\\tt ABC$ 产生 $0$ 种匹配方式。\n\n所以一共 $2$ 种。\n\n### 样例 2 解释\n\n- 第一个选 $\\tt A$ 第二个选 $\\tt A$，得到 $\\tt AA$ 能够与 $\\tt AAA$ 产生 $2$ 种匹配方式；\n- 第一个选 $\\tt A$ 第二个选 $\\tt AA$，得到 $\\tt AAA$ 能够与 $\\tt AAA$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AA$ 第二个选 $\\tt A$，得到 $\\tt AAA$ 能够与 $\\tt AAA$ 产生 $1$ 种匹配方式；\n- 第一个选 $\\tt AA$ 第二个选 $\\tt AA$,得到 $\\tt AAAA$ 能够与 $\\tt AAA$ 产生 $0$ 种匹配方式。\n\n所以一共 $4$ 种。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1\\leq k\\leq 25$，$1\\le |s|\\leq 10000$，$1\\le a_i\\leq 3$。\n- 对于 $100\\%$ 的数据，$1\\leq k\\leq100$，$1\\le |s|\\leq 10000$，$1\\le a_i \\leq10$。碱基序列的长度均不超过 $15$。字符集为大写字母。", "locale": "zh-CN"}}}
{"pid": "P4592", "type": "P", "difficulty": 6, "samples": [["7 5\n1 3 5 7 9 2 4\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n1 3 5\n2 4 6 3\n1 5 5\n2 5 7 2\n1 1 9", "7\n6\n12\n11\n14"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["贪心", "2018", "各省省选", "可持久化", "进制", "字典树 Trie", "天津"], "title": "[TJOI2018] 异或", "background": "", "description": "现在有一颗以 $1$ 为根节点的由 $n$ 个节点组成的树，节点从 $1$ 至 $n$ 编号。树上每个节点上都有一个权值 $v_i$。现在有 $q$ 次操作，操作如下：\n\n- $1~x~z$：查询节点 $x$ 的子树中的节点权值与 $z$ 异或结果的最大值。\n- $2~x~y~z$：查询节点 $x$ 到节点 $y$ 的简单路径上的节点的权值与 $z$ 异或结果最大值。", "inputFormat": "输入的第一行是两个整数，分别代表结点个数 $n$ 和询问个数 $q$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示点 $i$ 的的权值 $v_i$。\n\n接下来 $n-1$ 行，每行有两个整数 $u, v$，表示存在一条连结 $u$ 和 $v$ 的边。\n\n接下来 $q$ 行，每行首先有一个整数 $op$，代表操作类型。\n\n- 若 $op = 1$，则一个空格后有两个整数 $x, z$，代表查询节点 $x$ 的子树中的节点权值与 $z$ 异或结果的最大值。\n- 若 $op = 2$，则一个空格后有三个整数 $x, y, z$，代表查询节点 $x$ 到节点 $y$ 的简单路径上的节点的权值与 $z$ 异或结果最大值。", "outputFormat": "对于每一个查询，输出一行一个整数代表答案。", "hint": "#### 数据规模与约定\n\n\n- 对于 $10\\%$ 的数据，保证 $n, q \\leq 10^2$；\n- 对于 $20\\%$ 的数据，保证 $n, q \\leq 10^3$；\n- 对于 $40\\%$ 的数据，保证 $n, q \\leq 10^4$；\n- 对于 $100\\%$ 的数据，保证 $2\\leq n, q \\leq10^5$，$1 \\leq u, v, x, y \\leq n$，$1 \\leq op \\leq 2$，$1 \\leq v_i, z \\lt 2^{30}$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2018] XOR", "background": "", "description": "There is a tree with $n$ nodes, rooted at $1$, with nodes numbered from $1$ to $n$. Each node $i$ has a value $v_i$. There are $q$ operations as follows:\n\n- $1~x~z$: Query the maximum value of $v \\oplus z$ among nodes in the subtree of node $x$.\n- $2~x~y~z$: Query the maximum value of $v \\oplus z$ among nodes on the simple path from node $x$ to node $y$.", "inputFormat": "The first line contains two integers $n$ and $q$, representing the number of nodes and the number of queries.\n\nThe second line contains $n$ integers, where the $i$-th integer is the value $v_i$ of node $i$.\n\nEach of the next $n-1$ lines contains two integers $u, v$, indicating that there is an edge connecting $u$ and $v$.\n\nEach of the next $q$ lines starts with an integer $op$, indicating the type of operation.\n\n- If $op = 1$, then it is followed by two integers $x, z$, representing a query for the maximum value of $v \\oplus z$ among nodes in the subtree of node $x$.\n- If $op = 2$, then it is followed by three integers $x, y, z$, representing a query for the maximum value of $v \\oplus z$ among nodes on the simple path from node $x$ to node $y$.", "outputFormat": "For each query, output a single integer on one line representing the answer.", "hint": "Constraints\n\n- For $10\\%$ of the testdata, $n, q \\leq 10^2$.\n- For $20\\%$ of the testdata, $n, q \\leq 10^3$.\n- For $40\\%$ of the testdata, $n, q \\leq 10^4$.\n- For $100\\%$ of the testdata, $2 \\leq n, q \\leq 10^5$, $1 \\leq u, v, x, y \\leq n$, $1 \\leq op \\leq 2$, $1 \\leq v_i, z \\lt 2^{30}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2018] 异或", "background": "", "description": "现在有一颗以 $1$ 为根节点的由 $n$ 个节点组成的树，节点从 $1$ 至 $n$ 编号。树上每个节点上都有一个权值 $v_i$。现在有 $q$ 次操作，操作如下：\n\n- $1~x~z$：查询节点 $x$ 的子树中的节点权值与 $z$ 异或结果的最大值。\n- $2~x~y~z$：查询节点 $x$ 到节点 $y$ 的简单路径上的节点的权值与 $z$ 异或结果最大值。", "inputFormat": "输入的第一行是两个整数，分别代表结点个数 $n$ 和询问个数 $q$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示点 $i$ 的的权值 $v_i$。\n\n接下来 $n-1$ 行，每行有两个整数 $u, v$，表示存在一条连结 $u$ 和 $v$ 的边。\n\n接下来 $q$ 行，每行首先有一个整数 $op$，代表操作类型。\n\n- 若 $op = 1$，则一个空格后有两个整数 $x, z$，代表查询节点 $x$ 的子树中的节点权值与 $z$ 异或结果的最大值。\n- 若 $op = 2$，则一个空格后有三个整数 $x, y, z$，代表查询节点 $x$ 到节点 $y$ 的简单路径上的节点的权值与 $z$ 异或结果最大值。", "outputFormat": "对于每一个查询，输出一行一个整数代表答案。", "hint": "#### 数据规模与约定\n\n\n- 对于 $10\\%$ 的数据，保证 $n, q \\leq 10^2$；\n- 对于 $20\\%$ 的数据，保证 $n, q \\leq 10^3$；\n- 对于 $40\\%$ 的数据，保证 $n, q \\leq 10^4$；\n- 对于 $100\\%$ 的数据，保证 $2\\leq n, q \\leq10^5$，$1 \\leq u, v, x, y \\leq n$，$1 \\leq op \\leq 2$，$1 \\leq v_i, z \\lt 2^{30}$。", "locale": "zh-CN"}}}
{"pid": "P4593", "type": "P", "difficulty": 6, "samples": [["2\n10 1\n5\n4 2\n1\n2", "415\n135"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "递推", "2018", "各省省选", "天津", "差分"], "title": "[TJOI2018] 教科书般的亵渎", "background": null, "description": "小豆喜欢玩游戏，现在他在玩一个游戏遇到这样的场面，每个怪的血量为 $a_i$，且每个怪物血量均不相同，小豆手里有无限张“亵渎”。亵渎的效果是对所有的怪造成 $1$ 点伤害，如果有怪死亡，则再次施放该法术。我们认为血量为 $0$ 怪物死亡。\n\n小豆使用一张“亵渎”会获得一定的分数，分数计算如下，在使用一张“亵渎”之后，每一个被“亵渎”造成伤害的怪会令小豆获得 $x^k$ 的分数，其中 $x$ 是造成伤害前怪的血量为 $x$ 和需要杀死所有怪物所需的“亵渎”的张数 $k$ 。**注意：因怪死亡而重复释放的“亵渎”不计入 $k$ ,也不会使小豆的分数增加。**", "inputFormat": "第一行输入一个 $T$（$T\\leq10$），表示有多少组测试数据。\n\n每组测试数据第一行为 $n$，$m$，表示有当前怪物最高的血量 $n$，和 $m$ 种没有出现的血量。\n\n接下来 $m$ 行，每行 $1$ 个数 $a_i$，表示场上没有血量为 $a_i$ 的怪物。", "outputFormat": "一共 $T$ 行，每行一个数，第 $i$ 行表示第 $i$ 组测试数据中小豆的最后可以获得的分数，因为这个分数会很大需要模 $10^9+7$。", "hint": "- 对于 $10\\%$ 的数据，有 $m=0$；\n- 对于 $20\\%$ 的数据，有 $m\\leq1$；\n- 对于 $30\\%$ 的数据，有 $m\\leq2$\n- 对于 $40\\%$ 的数据，有 $m\\leq3$；\n- 对于 $50\\%$ 的数据，有 $m\\leq4$；\n- 对于 $60\\%$ 的数据，有 $m\\leq5$；\n- 对于 $100\\%$ 的数据，有 $m\\leq50$，$n\\leq10^{13}$，$1 \\le a_i <n$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2018] Textbook Defile", "background": "", "description": "Xiao Dou likes playing games. He is now facing a situation in a game where each monster has health $a_i$, and all monsters have distinct health values. Xiao Dou has an unlimited number of \"Defile\" cards. The effect of Defile is to deal $1$ damage to all monsters; if any monster dies, the spell is cast again. We consider a monster to be dead when its health reaches $0$.\n\nEach time Xiao Dou uses one \"Defile,\" he gets some score. The score is calculated as follows: after using a single \"Defile,\" every monster that is damaged by \"Defile\" grants Xiao Dou $x^k$ points, where $x$ is that monster’s health value before the damage is applied, and $k$ is the number of \"Defile\" cards needed to kill all monsters. Note: automatic re-casts of \"Defile\" caused by monster deaths do not count toward $k$, and they do not increase Xiao Dou’s score.", "inputFormat": "The first line contains an integer $T$ ($T \\le 10$), the number of test cases.\n\nFor each test case, the first line contains $n$, $m$, where $n$ is the maximum health value among the monsters, and $m$ is the number of health values that are missing.\n\nThe next $m$ lines each contain one number $a_i$, indicating that there is no monster with health $a_i$ on the field.", "outputFormat": "Output $T$ lines. The $i$-th line contains the final score Xiao Dou can obtain in the $i$-th test case, modulo $10^9+7$.", "hint": "- For $10\\%$ of the testdata, $m=0$.\n- For $20\\%$ of the testdata, $m \\le 1$.\n- For $30\\%$ of the testdata, $m \\le 2$.\n- For $40\\%$ of the testdata, $m \\le 3$.\n- For $50\\%$ of the testdata, $m \\le 4$.\n- For $60\\%$ of the testdata, $m \\le 5$.\n- For $100\\%$ of the testdata, $m \\le 50$, $n \\le 10^{13}$, $1 \\le a_i < n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2018] 教科书般的亵渎", "background": null, "description": "小豆喜欢玩游戏，现在他在玩一个游戏遇到这样的场面，每个怪的血量为 $a_i$，且每个怪物血量均不相同，小豆手里有无限张“亵渎”。亵渎的效果是对所有的怪造成 $1$ 点伤害，如果有怪死亡，则再次施放该法术。我们认为血量为 $0$ 怪物死亡。\n\n小豆使用一张“亵渎”会获得一定的分数，分数计算如下，在使用一张“亵渎”之后，每一个被“亵渎”造成伤害的怪会令小豆获得 $x^k$ 的分数，其中 $x$ 是造成伤害前怪的血量为 $x$ 和需要杀死所有怪物所需的“亵渎”的张数 $k$ 。**注意：因怪死亡而重复释放的“亵渎”不计入 $k$ ,也不会使小豆的分数增加。**", "inputFormat": "第一行输入一个 $T$（$T\\leq10$），表示有多少组测试数据。\n\n每组测试数据第一行为 $n$，$m$，表示有当前怪物最高的血量 $n$，和 $m$ 种没有出现的血量。\n\n接下来 $m$ 行，每行 $1$ 个数 $a_i$，表示场上没有血量为 $a_i$ 的怪物。", "outputFormat": "一共 $T$ 行，每行一个数，第 $i$ 行表示第 $i$ 组测试数据中小豆的最后可以获得的分数，因为这个分数会很大需要模 $10^9+7$。", "hint": "- 对于 $10\\%$ 的数据，有 $m=0$；\n- 对于 $20\\%$ 的数据，有 $m\\leq1$；\n- 对于 $30\\%$ 的数据，有 $m\\leq2$\n- 对于 $40\\%$ 的数据，有 $m\\leq3$；\n- 对于 $50\\%$ 的数据，有 $m\\leq4$；\n- 对于 $60\\%$ 的数据，有 $m\\leq5$；\n- 对于 $100\\%$ 的数据，有 $m\\leq50$，$n\\leq10^{13}$，$1 \\le a_i <n$。", "locale": "zh-CN"}}}
{"pid": "P4594", "type": "P", "difficulty": 4, "samples": [["2 \n1 \n1\n", "1.00000000"], ["3\n1 \n1 \n1\n", "1.50000000"], ["3 \n1 \n1 \n9\n", "1.90000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2011", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #5] BLOKOVI", "background": "", "description": "平面直角坐标系种有 $N$ 个质量为 $m_{i}$ ，长为 $2$，高为 $h$ 的矩形，使得：\n\n* 矩形的边缘与坐标轴平行；\n* 矩形的下层与 $y$坐标不重合，且为以下值：$0,h,2h,3h,\\dots,(N-1)h$；\n* 最低的矩形左下角的坐标为 $(-2,0)$，右下角与原点重合。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rjzp667k.png)\n\n定义一个矩阵的 X 中心是其下边的中点的 X 坐标。一个或多个矩形的 X 中心是其 X 中心的加权平均值。它的计算方法为：\n\n$$\nXbarycetre=\\frac{\\sum_{i}m_{i}\\times Xcentre(i)}{\\sum_{i}m_{i}}\n$$\n\n其中 `Xbarycetre` 表示一个或多个矩形的 X 中心，`Xcentre` 表示一个矩阵的 X 中心。\n\n换句话说，其值为每个矩形的质量乘以它的 X 中心之积除以矩形的总质量。\n\n对于每一个矩形，如果它**上面的矩形**的 X 中心与其的 X 中心的距离小于等于 $1$，则称这些矩形组成的排列是稳定的。\n\n例如，左图的排列是不稳定的，因为上面两个矩形的 X 中心到下面的矩形的X中心的距离大于 $1$。而右图的排列是稳定的。\n\n给出所有矩形的质量，求其可以组成的稳定排列中的矩形的最大 X 坐标。\n\n你不能改变矩形的顺序，它们从**基本**低到高给出。", "inputFormat": "第一行，一个整数 $N$，表示矩形的数量。\n\n接着 $N$ 行，每行一个整数 $m_{i}$，表示第 $i$ 个矩形的质量。", "outputFormat": "一行，一个小数，表示答案，答案在 $0.000001$ 的误差内均为正确。", "hint": "有 $30\\%$ 的数据，矩形的质量从大到小给出。\n\n$2\\le N\\le 3\\times 10^{5}$，$1\\le m_{i}\\le 10^{4}$。\n\n题目译自 [COCI 2011/2012 #5 T5](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2011/2012 #5] BLOKOVI", "background": "", "description": "In the 2D Cartesian coordinate system, there are $N$ rectangles with masses $m_i$, width $2$, and height $h$, such that:\n\n- The sides of each rectangle are parallel to the coordinate axes.\n- The bottom side of each rectangle does not lie on the $x$-axis, and its $y$-coordinate is one of the following values: $0, h, 2h, 3h, \\dots, (N-1)h$.\n- The lowest rectangle has its lower-left corner at $(-2, 0)$, and its lower-right corner coincides with the origin.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rjzp667k.png)\n\nDefine the $x$-center of a rectangle as the $x$-coordinate of the midpoint of its bottom side. The $x$-center of one or more rectangles is the weighted average of their $x$-centers, computed as:\n\n$$\nXbarycetre=\\frac{\\sum_{i}m_{i}\\times Xcentre(i)}{\\sum_{i}m_{i}}\n$$\n\nHere, `Xbarycetre` denotes the $x$-center of one or more rectangles, and `Xcentre` denotes the $x$-center of a rectangle.\n\nIn other words, it is the sum of (each rectangle’s mass times its $x$-center) divided by the total mass of the rectangles.\n\nFor each rectangle, if the distance between the $x$-center of the rectangles **above it** and its own $x$-center is at most $1$, then the arrangement formed by these rectangles is called stable.\n\nFor example, the arrangement in the left picture is unstable because the distance between the $x$-center of the top two rectangles and the $x$-center of the rectangle below them is greater than $1$. The arrangement in the right picture is stable.\n\nGiven the masses of all rectangles, find the maximum possible $x$-coordinate of the rectangles in a stable arrangement.\n\nYou are not allowed to change the order of the rectangles; they are given from **bottom** to top.", "inputFormat": "The first line contains an integer $N$, the number of rectangles.\n\nThe next $N$ lines each contain an integer $m_i$, the mass of the $i$-th rectangle.", "outputFormat": "Print one real number, the answer. Any answer within an error of $0.000001$ will be accepted.", "hint": "For $30\\%$ of the testdata, the rectangle masses are given in decreasing order.\n\nConstraints: $2\\le N\\le 3\\times 10^{5}$, $1\\le m_{i}\\le 10^{4}$.\n\nTranslated from [COCI 2011/2012 #5 T5](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2011/2012 #5] BLOKOVI", "background": "", "description": "平面直角坐标系种有 $N$ 个质量为 $m_{i}$ ，长为 $2$，高为 $h$ 的矩形，使得：\n\n* 矩形的边缘与坐标轴平行；\n* 矩形的下层与 $y$坐标不重合，且为以下值：$0,h,2h,3h,\\dots,(N-1)h$；\n* 最低的矩形左下角的坐标为 $(-2,0)$，右下角与原点重合。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rjzp667k.png)\n\n定义一个矩阵的 X 中心是其下边的中点的 X 坐标。一个或多个矩形的 X 中心是其 X 中心的加权平均值。它的计算方法为：\n\n$$\nXbarycetre=\\frac{\\sum_{i}m_{i}\\times Xcentre(i)}{\\sum_{i}m_{i}}\n$$\n\n其中 `Xbarycetre` 表示一个或多个矩形的 X 中心，`Xcentre` 表示一个矩阵的 X 中心。\n\n换句话说，其值为每个矩形的质量乘以它的 X 中心之积除以矩形的总质量。\n\n对于每一个矩形，如果它**上面的矩形**的 X 中心与其的 X 中心的距离小于等于 $1$，则称这些矩形组成的排列是稳定的。\n\n例如，左图的排列是不稳定的，因为上面两个矩形的 X 中心到下面的矩形的X中心的距离大于 $1$。而右图的排列是稳定的。\n\n给出所有矩形的质量，求其可以组成的稳定排列中的矩形的最大 X 坐标。\n\n你不能改变矩形的顺序，它们从**基本**低到高给出。", "inputFormat": "第一行，一个整数 $N$，表示矩形的数量。\n\n接着 $N$ 行，每行一个整数 $m_{i}$，表示第 $i$ 个矩形的质量。", "outputFormat": "一行，一个小数，表示答案，答案在 $0.000001$ 的误差内均为正确。", "hint": "有 $30\\%$ 的数据，矩形的质量从大到小给出。\n\n$2\\le N\\le 3\\times 10^{5}$，$1\\le m_{i}\\le 10^{4}$。\n\n题目译自 [COCI 2011/2012 #5 T5](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P4595", "type": "P", "difficulty": 5, "samples": [["6\nabcbab\n2\ncb\ncbab", "2"], ["4\nabab\n2\nbac\nbaba", "4"], ["6\nabcabc\n2\nabca\ncab", "1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2011", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #5] POPLOČAVANJE", "background": "注意：本题相对于原题缩小了空间限制，需要一些小技巧才能通过。", "description": "有一条由 $N$ 个英文小写字母组成的街道，市政府偶尔会更换街道上的瓷砖。但是，字母瓷砖的需求量很大，所以政府只有 $M$ 种字母瓷砖可供选择。\n\n第 $i$ 个瓦片图案由 $L_{i}$ 个字母组成。瓷砖不能旋转，也不能打碎，而且只能放置在瓷砖字母与街道上连续的字母子序列重合的地方。\n\n瓷砖可以重叠，且可以使用相同图案的多块瓷砖。如果一个街道不能被任何瓷砖覆盖，那么他就是不好的。\n\n求有多少个不好的街道。", "inputFormat": "第一行，一个整数 $N$，表示街道上的字母数。\n\n第二行有 $N$ 个小写字母，表示街道上的序列，由小写字母组成。\n\n第三行，一个整数 $M$，表示瓷砖数量。\n\n接着 $M$ 行，每行 $L_{i}$ 个小写字母，表示该瓷砖的图案。", "outputFormat": "一行，一个整数，表示方案数。", "hint": "$1\\le N\\le 3\\times 10^{5}$，$1\\le M\\le 5\\times 10^{3}$，$1\\le L_{i}\\le 5\\times 10^{3}$。\n\n题目译自 [COCI 2011/2012 #5 T6](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2011/2012 #5] POPLOČAVANJE", "background": "Note: Compared with the original problem, this version has a smaller memory limit. Some small tricks are needed to pass.", "description": "There is a street consisting of $N$ lowercase English letters. The city government occasionally replaces the tiles on the street. However, letter tiles are in high demand, so the government only has $M$ kinds of letter tiles to choose from.\n\nThe pattern of the $i$-th tile consists of $L_{i}$ letters. Tiles cannot be rotated or broken, and they can only be placed where the tile’s letters exactly match a contiguous substring of letters on the street.\n\nTiles may overlap, and multiple tiles with the same pattern may be used. If a street cannot be covered by any tiles, then it is bad.\n\nFind how many bad streets there are.", "inputFormat": "The first line contains an integer $N$, the number of letters on the street.\n\nThe second line contains $N$ lowercase letters, the sequence on the street.\n\nThe third line contains an integer $M$, the number of tiles.\n\nThe next $M$ lines each contain $L_{i}$ lowercase letters, describing the pattern of that tile.", "outputFormat": "Print one line with an integer, the number of bad streets.", "hint": "Constraints: $1\\le N\\le 3\\times 10^{5}$, $1\\le M\\le 5\\times 10^{3}$, $1\\le L_{i}\\le 5\\times 10^{3}$.\n\nTranslated from [COCI 2011/2012 #5 T6](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2011/2012 #5] POPLOČAVANJE", "background": "注意：本题相对于原题缩小了空间限制，需要一些小技巧才能通过。", "description": "有一条由 $N$ 个英文小写字母组成的街道，市政府偶尔会更换街道上的瓷砖。但是，字母瓷砖的需求量很大，所以政府只有 $M$ 种字母瓷砖可供选择。\n\n第 $i$ 个瓦片图案由 $L_{i}$ 个字母组成。瓷砖不能旋转，也不能打碎，而且只能放置在瓷砖字母与街道上连续的字母子序列重合的地方。\n\n瓷砖可以重叠，且可以使用相同图案的多块瓷砖。如果一个街道不能被任何瓷砖覆盖，那么他就是不好的。\n\n求有多少个不好的街道。", "inputFormat": "第一行，一个整数 $N$，表示街道上的字母数。\n\n第二行有 $N$ 个小写字母，表示街道上的序列，由小写字母组成。\n\n第三行，一个整数 $M$，表示瓷砖数量。\n\n接着 $M$ 行，每行 $L_{i}$ 个小写字母，表示该瓷砖的图案。", "outputFormat": "一行，一个整数，表示方案数。", "hint": "$1\\le N\\le 3\\times 10^{5}$，$1\\le M\\le 5\\times 10^{3}$，$1\\le L_{i}\\le 5\\times 10^{3}$。\n\n题目译自 [COCI 2011/2012 #5 T6](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P4596", "type": "P", "difficulty": 3, "samples": [["4\nNIVA\nHLAD\nHSIN\nDEDA\n", "2"], ["6\nBAKA\nBARA\nBALC\nCALC\nARHC\nBLIC\n", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2011", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #5] RAZBIBRIGA", "background": "", "description": "四个长度相同的单词可以拼成一个正方形，如下图，`\"HLAD\",\"NIVA\",\"HSIN\",\"DEDA\"` 拼成了一个 $4\\times 4$ 的正方形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7i3lhwgv.png)\n\n现在给你 $N$ 个等长的单词，求这些单词的子集可以拼成多少个不同的正方形，输出方案数。\n\n注意，**同一方格内不能有重复的单词**，如果两个单词至少有一个字符不同，那这两个单词就是不同的。", "inputFormat": "第一行，一个整数 $N$，表示单词数。\n\n接着 $N$ 行，每行一个单词，由大写字母组成，如题所示。", "outputFormat": "一行，一个整数，表示方案数。\n\n方案数可能很大，你需要开 `long long` 或 `int64`。", "hint": "$4\\le N\\le 10^{5}$。\n\n每个单词至多有 $10$ 个字符。\n\n单词由大写字母构成。\n\n题目译自 [COCI 2011/2012 #5 T4](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2011/2012 #5] RAZBIBRIGA", "background": "", "description": "Four words of the same length can be arranged into a square, as shown in the figure below. For example, `\"HLAD\"`, `\"NIVA\"`, `\"HSIN\"`, and `\"DEDA\"` form a $4\\times 4$ square.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7i3lhwgv.png)\n\nYou are given $N$ words of the same length. Find how many different squares can be formed by choosing a subset of these words, and output the number of valid arrangements.\n\nNote that **the same square cannot contain repeated words**. If two words differ in at least one character, then they are considered different words.", "inputFormat": "The first line contains an integer $N$, which is the number of words.\n\nThe next $N$ lines each contain one word consisting of uppercase letters, as described above.", "outputFormat": "Output one line containing an integer, the number of valid arrangements.\n\nThe answer may be very large, so you need to use `long long` or `int64`.", "hint": "Constraints: $4\\le N\\le 10^{5}$.\n\nEach word has at most $10$ characters.\n\nAll words consist of uppercase letters.\n\nThis problem is translated from [COCI 2011/2012 #5 T4](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2011/2012 #5] RAZBIBRIGA", "background": "", "description": "四个长度相同的单词可以拼成一个正方形，如下图，`\"HLAD\",\"NIVA\",\"HSIN\",\"DEDA\"` 拼成了一个 $4\\times 4$ 的正方形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7i3lhwgv.png)\n\n现在给你 $N$ 个等长的单词，求这些单词的子集可以拼成多少个不同的正方形，输出方案数。\n\n注意，**同一方格内不能有重复的单词**，如果两个单词至少有一个字符不同，那这两个单词就是不同的。", "inputFormat": "第一行，一个整数 $N$，表示单词数。\n\n接着 $N$ 行，每行一个单词，由大写字母组成，如题所示。", "outputFormat": "一行，一个整数，表示方案数。\n\n方案数可能很大，你需要开 `long long` 或 `int64`。", "hint": "$4\\le N\\le 10^{5}$。\n\n每个单词至多有 $10$ 个字符。\n\n单词由大写字母构成。\n\n题目译自 [COCI 2011/2012 #5 T4](https://hsin.hr/coci/archive/2011_2012/contest5_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P4597", "type": "P", "difficulty": 6, "samples": [["5\n3 2 -1 2 11\n", "4"], ["5\n2 1 1 1 1\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["O2优化", "斜率维护技巧 slope trick"], "title": "序列 sequence", "background": "原题 CF13C 数据加强版", "description": "给定一个序列，每次操作可以把某个数 $+1$ 或 $-1$。要求把序列变成非降数列。", "inputFormat": "第一行，输入一个整数 $n$（$n \\leq 5 \\times 10^5$），表示有 $n$ 个数字。  \n第二行输入 $n$ 个整数，整数的绝对值不超过 $10^9$。", "outputFormat": "输出一个数，表示最少的操作次数。", "hint": "对于 $100 \\%$ 的数据，$1 \\le n \\le 5 \\times {10}^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "Original problem CF13C, stronger testdata version.", "description": "Given a sequence, in each operation you may add $+1$ or $-1$ to any number. Make the sequence non-decreasing.", "inputFormat": "The first line contains an integer $n$ ($n \\le 5 \\times 10^5$), the number of elements.  \nThe second line contains $n$ integers; the absolute value of each integer does not exceed $10^9$.", "outputFormat": "Output a single number: the minimal number of operations.", "hint": "For $100\\%$ of the testdata, $1 \\le n \\le 5 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "序列 sequence", "background": "原题 CF13C 数据加强版", "description": "给定一个序列，每次操作可以把某个数 $+1$ 或 $-1$。要求把序列变成非降数列。", "inputFormat": "第一行，输入一个整数 $n$（$n \\leq 5 \\times 10^5$），表示有 $n$ 个数字。  \n第二行输入 $n$ 个整数，整数的绝对值不超过 $10^9$。", "outputFormat": "输出一个数，表示最少的操作次数。", "hint": "对于 $100 \\%$ 的数据，$1 \\le n \\le 5 \\times {10}^5$。", "locale": "zh-CN"}}}
{"pid": "P4598", "type": "P", "difficulty": 6, "samples": [["3\n-24 14 29 6 ", "3\n-4\n-3/2\n2/3 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2012", "各省省选", "河北"], "title": "[HEOI2012] Akai 的数学作业", "background": "这里是广袤无垠的宇宙\n\n这里是一泻千里的银河\n\n这里是独一无二的太阳系\n\n这里是蔚蓝色的地球\n\n这里，就是这里，是富饶的中国大陆！\n\n这里是神奇的河北大地\n\n这里是美丽的唐山\n\n这里是神话般的唐山一中\n\n这里是 Akai 曾经的教室", "description": "黑板上还留有当年 Akai 做过的数学作业，其实也并不是什么很困难的题目:\n\n“\n\n给出一个一元 $n$ 次方程： \n\n$$a_0 + a_1x + a_2x^2 +…+ a_nx^n= 0$$ \n\n求此方程的所有有理数解。 \n\n” \n\nAkai 至今还深刻记得当年熬夜奋战求解的时光\n\n他甚至还能记得浪费了多少草稿纸\n\n但是却怎么也想不起来最后的答案是多少了\n\n你能帮助他么？", "inputFormat": "第一行一个整数 $n$。第二行 $n+1$ 个整数，分别代表 $a_0$ 到$a_n$", "outputFormat": "第一行输出一个整数 $t$，表示有理数解的个数 \n\n接下来 $t$ 行，每行表示一个解 \n\n解以分数的形式输出，要求分子和分母互质，且分母必须是正整数 \n\n特殊的，如果这个解是一个整数，那么直接把这个数输出 \n\n等价的解只需要输出一次 \n\n所有解按照从小到大的顺序输出", "hint": "对于 30%的数据，$n\\leq10$ \n\n对于 100%的数据，$n\\leq100$，$|a_i| \\leq 1.3\\times10^8$，$a_n\\not= 0$\n\nHEOI 2012 Day1 Task1", "locale": "zh-CN", "translations": {"en": {"title": "[HEOI2012] Akai's Math Homework", "background": "Here lies the vast universe.\nHere flows the mighty Milky Way.\nHere is the one-and-only Solar System.\nHere is the blue Earth.\nHere, right here, is the fertile Chinese mainland.\nHere is the magical land of Hebei.\nHere is the beautiful city of Tangshan.\nHere is the mythical Tangshan No. 1 High School.\nHere is the classroom where Akai once studied.", "description": "On the blackboard remains a piece of math homework Akai once did. It is actually not a very difficult problem:\n\n\"Given a univariate polynomial equation of degree $n$:\n\n$$a_0 + a_1 x + a_2 x^2 + \\cdots + a_n x^n = 0$$\n\nFind all rational solutions of this equation.\"\n\nAkai still vividly remembers the nights he stayed up solving it.\nHe even remembers how much scrap paper he wasted.\nBut he just can’t recall the final answers.\nCan you help him?", "inputFormat": "The first line contains an integer $n$.\nThe second line contains $n + 1$ integers, representing $a_0$ to $a_n$.", "outputFormat": "Output an integer $t$ on the first line, the number of rational solutions.\nThen output $t$ lines, each containing one solution.\nEach solution must be printed as a fraction in lowest terms, with a positive denominator.\nIf a solution is an integer, output the integer directly.\nEquivalent solutions should be output only once.\nOutput all solutions in increasing order.", "hint": "- For 30% of the testdata, $n \\leq 10$.\n- For 100% of the testdata, $n \\leq 100$, $|a_i| \\leq 1.3 \\times 10^8$, $a_n \\ne 0$.\n\nHEOI 2012 Day 1 Task 1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HEOI2012] Akai 的数学作业", "background": "这里是广袤无垠的宇宙\n\n这里是一泻千里的银河\n\n这里是独一无二的太阳系\n\n这里是蔚蓝色的地球\n\n这里，就是这里，是富饶的中国大陆！\n\n这里是神奇的河北大地\n\n这里是美丽的唐山\n\n这里是神话般的唐山一中\n\n这里是 Akai 曾经的教室", "description": "黑板上还留有当年 Akai 做过的数学作业，其实也并不是什么很困难的题目:\n\n“\n\n给出一个一元 $n$ 次方程： \n\n$$a_0 + a_1x + a_2x^2 +…+ a_nx^n= 0$$ \n\n求此方程的所有有理数解。 \n\n” \n\nAkai 至今还深刻记得当年熬夜奋战求解的时光\n\n他甚至还能记得浪费了多少草稿纸\n\n但是却怎么也想不起来最后的答案是多少了\n\n你能帮助他么？", "inputFormat": "第一行一个整数 $n$。第二行 $n+1$ 个整数，分别代表 $a_0$ 到$a_n$", "outputFormat": "第一行输出一个整数 $t$，表示有理数解的个数 \n\n接下来 $t$ 行，每行表示一个解 \n\n解以分数的形式输出，要求分子和分母互质，且分母必须是正整数 \n\n特殊的，如果这个解是一个整数，那么直接把这个数输出 \n\n等价的解只需要输出一次 \n\n所有解按照从小到大的顺序输出", "hint": "对于 30%的数据，$n\\leq10$ \n\n对于 100%的数据，$n\\leq100$，$|a_i| \\leq 1.3\\times10^8$，$a_n\\not= 0$\n\nHEOI 2012 Day1 Task1", "locale": "zh-CN"}}}
