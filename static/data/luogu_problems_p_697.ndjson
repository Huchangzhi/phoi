{"pid": "P15127", "type": "P", "difficulty": 2, "samples": [["5\n1 2 3 4 5", "20"], ["10\n0 0 0 0 0 10000000 0 0 0 0", "90000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["递推", "排序", "2026", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 比赛结果", "background": "", "description": "来自信息学小组“卡皮巴拉编程”的学生们参加了一场比赛。根据比赛结果，第 $i$ 名学生获得了 $a_i$ 分。\n\n为了鼓励参与者，小组负责人亚历山大·伊戈列维奇决定给学生们发糖果。对于所有 $i$ 和 $j$，如果第 $i$ 名学生得分比第 $j$ 名学生高，那么负责人会给第 $i$ 名学生 $a_i - a_j$ 颗糖果。\n\n帮助负责人计算，他需要准备多少糖果来分发给学生们。", "inputFormat": "输入数据的第一行给定一个数字 $n$ —— 学生数量（$1 \\le n \\le 500\\,000$）。  \n\n第二行包含 $n$ 个整数 $a_i$ —— 小组成员在比赛中的成绩（$0 \\le a_i \\le 10^7$）。\n", "outputFormat": "输出一个数字 —— 需要准备分发给学生的糖果总数。", "hint": "### 注意\n请注意，此问题的答案可能超过 32 位整数变量的可能值，因此必须使用 64 位整数数据类型（Pascal 语言中的 `int64` 类型，C++ 中的 `long long` 类型，Java 和 C# 中的 `long` 类型）。\n\n### 样例解释\n在第一个样例中，第一名学生不会得到糖果，第二名学生将得到 1 颗糖果，第三名学生将得到 $1+2=3$ 颗糖果，第四名学生将得到 $1+2+3=6$ 颗糖果，第五名学生将得到 $1+2+3+4=10$ 颗糖果。\n\n### 评分规则\n每个子任务的分数仅在该子任务及其所有必需子任务的全部测试通过时授予。\n\n| **子任务** | **分值** | **额外限制** | **必需子任务** |\n|:----------:|:--------:|:------------:|:--------------:|\n| 1 | 15 | $1 \\le n \\le 1\\,000$ |  |\n| 2 | 5 | 所有 $a_i$ 相同 |  |\n| 3 | 5 | 对于任意 $i \\ne j$，有 $a_i \\ne a_j$，且 $1 \\le a_i \\le n$ |  |\n| 4 | 10 | $0 \\le a_i \\le 1$ |  |\n| 5 | 15 | $0 \\le a_i \\le 100$ | 4 |\n| 6 | 15 | $a_i$ 中最多有两个不同的值 | 2, 4 |\n| 7 | 35 | 无 | 1–6 |\n\n翻译由 DeepSeek 完成", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 比赛结果", "background": "", "description": "来自信息学小组“卡皮巴拉编程”的学生们参加了一场比赛。根据比赛结果，第 $i$ 名学生获得了 $a_i$ 分。\n\n为了鼓励参与者，小组负责人亚历山大·伊戈列维奇决定给学生们发糖果。对于所有 $i$ 和 $j$，如果第 $i$ 名学生得分比第 $j$ 名学生高，那么负责人会给第 $i$ 名学生 $a_i - a_j$ 颗糖果。\n\n帮助负责人计算，他需要准备多少糖果来分发给学生们。", "inputFormat": "输入数据的第一行给定一个数字 $n$ —— 学生数量（$1 \\le n \\le 500\\,000$）。  \n\n第二行包含 $n$ 个整数 $a_i$ —— 小组成员在比赛中的成绩（$0 \\le a_i \\le 10^7$）。\n", "outputFormat": "输出一个数字 —— 需要准备分发给学生的糖果总数。", "hint": "### 注意\n请注意，此问题的答案可能超过 32 位整数变量的可能值，因此必须使用 64 位整数数据类型（Pascal 语言中的 `int64` 类型，C++ 中的 `long long` 类型，Java 和 C# 中的 `long` 类型）。\n\n### 样例解释\n在第一个样例中，第一名学生不会得到糖果，第二名学生将得到 1 颗糖果，第三名学生将得到 $1+2=3$ 颗糖果，第四名学生将得到 $1+2+3=6$ 颗糖果，第五名学生将得到 $1+2+3+4=10$ 颗糖果。\n\n### 评分规则\n每个子任务的分数仅在该子任务及其所有必需子任务的全部测试通过时授予。\n\n| **子任务** | **分值** | **额外限制** | **必需子任务** |\n|:----------:|:--------:|:------------:|:--------------:|\n| 1 | 15 | $1 \\le n \\le 1\\,000$ |  |\n| 2 | 5 | 所有 $a_i$ 相同 |  |\n| 3 | 5 | 对于任意 $i \\ne j$，有 $a_i \\ne a_j$，且 $1 \\le a_i \\le n$ |  |\n| 4 | 10 | $0 \\le a_i \\le 1$ |  |\n| 5 | 15 | $0 \\le a_i \\le 100$ | 4 |\n| 6 | 15 | $a_i$ 中最多有两个不同的值 | 2, 4 |\n| 7 | 35 | 无 | 1–6 |\n\n翻译由 DeepSeek 完成", "locale": "zh-CN"}}}
{"pid": "P15128", "type": "P", "difficulty": 0, "samples": [["4 3\n2 2 3 2", "1 1\n2 1\n2 2\n3 2\n3 1\n4 1\n4 2\n4 3\n3 3\n2 3\n1 3\n1 2\n1 1"], ["3 5\n1 2 2 2", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "2026", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 跛脚国王", "background": "", "description": "跛脚国王在一个 $n \\times m$ 的棋盘上移动，每次从当前格子移动到相邻的边相邻格子。我们用 $(x, y)$ 表示第 $x$ 行第 $y$ 列的格子。\n\n跛脚国王必须访问所有格子，每个格子恰好经过一次，并回到起点。同时，棋盘上标出了两个相邻的格子：$(x_1, y_1)$ 和 $(x_2, y_2)$。在国王的棋盘遍历路径中，格子 $(x_1, y_1)$ 和 $(x_2, y_2)$ 必须连续出现：当国王到达其中一个格子后，必须立即移动到另一个格子。\n\n请找出一个满足条件的棋盘遍历顺序，或者确定这样的顺序不存在。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$（$2 \\le n, m \\le 1000$）—— 棋盘的尺寸。\n\n第二行包含四个整数 $x_1$, $y_1$, $x_2$, $y_2$ —— 两个相邻格子的坐标（$1 \\le x_1, x_2 \\le n$；$1 \\le y_1, y_2 \\le m$；$|x_1-x_2|+|y_1-y_2|=1$）。", "outputFormat": "如果不存在这样的棋盘遍历路径，输出一个整数 $-1$。\n\n否则，输出 $n \\times m + 1$ 对整数 —— 按遍历顺序排列的格子坐标，起点格子需要在开头和结尾各输出一次。\n", "hint": "### 样例解释\n\n图示展示了第一个样例的棋盘遍历路径。\n\n:::align{center}\n![](https://cdn.luogu.com.cn/upload/image_hosting/jvcqga7m.png)\n:::\n\n### 评分规则\n\n本题共有 50 个测试点，每个测试点独立计分，分值为 2 分。\n\n在本场比赛过程中，你会得知每个测试点的评测结果。\n\n翻译由 DeepSeek 完成。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 跛脚国王", "background": "", "description": "跛脚国王在一个 $n \\times m$ 的棋盘上移动，每次从当前格子移动到相邻的边相邻格子。我们用 $(x, y)$ 表示第 $x$ 行第 $y$ 列的格子。\n\n跛脚国王必须访问所有格子，每个格子恰好经过一次，并回到起点。同时，棋盘上标出了两个相邻的格子：$(x_1, y_1)$ 和 $(x_2, y_2)$。在国王的棋盘遍历路径中，格子 $(x_1, y_1)$ 和 $(x_2, y_2)$ 必须连续出现：当国王到达其中一个格子后，必须立即移动到另一个格子。\n\n请找出一个满足条件的棋盘遍历顺序，或者确定这样的顺序不存在。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$（$2 \\le n, m \\le 1000$）—— 棋盘的尺寸。\n\n第二行包含四个整数 $x_1$, $y_1$, $x_2$, $y_2$ —— 两个相邻格子的坐标（$1 \\le x_1, x_2 \\le n$；$1 \\le y_1, y_2 \\le m$；$|x_1-x_2|+|y_1-y_2|=1$）。", "outputFormat": "如果不存在这样的棋盘遍历路径，输出一个整数 $-1$。\n\n否则，输出 $n \\times m + 1$ 对整数 —— 按遍历顺序排列的格子坐标，起点格子需要在开头和结尾各输出一次。\n", "hint": "### 样例解释\n\n图示展示了第一个样例的棋盘遍历路径。\n\n:::align{center}\n![](https://cdn.luogu.com.cn/upload/image_hosting/jvcqga7m.png)\n:::\n\n### 评分规则\n\n本题共有 50 个测试点，每个测试点独立计分，分值为 2 分。\n\n在本场比赛过程中，你会得知每个测试点的评测结果。\n\n翻译由 DeepSeek 完成。", "locale": "zh-CN"}}}
{"pid": "P15129", "type": "P", "difficulty": 0, "samples": [["1 4\n4 4", "17"], ["2 2\n1 2\n2 1", "10"], ["3 5\n2 5\n3 4\n4 4", "4480"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2026", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 筹码放置", "background": "", "description": "给定一个大小为 $m \\times m$ 的方形棋盘。棋盘的行和列从 $1$ 到 $m$ 编号。\n\n需要在棋盘上放置筹码，使得每个格子内最多有一个筹码。同时，必须满足 $n$ 条限制。第 $i$ 条限制给出两个整数 $r_i$ 和 $c_i$，这意味着在坐标为 $[1 \\ldots r_i] \\times [1 \\ldots c_i]$ 的矩形区域内，最多只能放置一个筹码。\n\n要求计算满足所有限制的不同筹码放置方案的数量，并对 $10^9+7$ 取模后的余数。", "inputFormat": "输入数据的第一行包含两个整数 $n$ 和 $m$ —— 限制的数量和棋盘的尺寸（$1 \\le n \\leq 2 \\cdot 10^5$，$1 \\leq m \\le 10^9$）。\n\n接下来 $n$ 行，每行包含两个数字 $r_i$ 和 $c_i$（$1 \\le r_i, c_i \\le m$）。\n", "outputFormat": "输出一个数字 —— 允许的筹码放置方案数对 $10^9+7$ 取模的结果。", "hint": "### 样例解释\n\n在第一个样例中，整个棋盘上最多只能放置一个筹码。有 $4 \\times 4 = 16$ 种放置一个筹码的方案，以及 $1$ 种不放置任何筹码的方案。\n\n### 评分规则\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 3 | $n \\le 10, m \\le 4$ | --- |\n| 2 | 6 | $n = 1, m \\le 1000$ | --- |\n| 3 | 8 | $n \\le 10, m \\le 1000$ | 1, 2 |\n| 4 | 8 | $n \\le 15, m \\le 10^9$ | 1–3 |\n| 5 | 10 | $n \\le 2500, m \\le 100$ | 1 |\n| 6 | 10 | $n \\le 2500, m \\le 250$ | 1, 5 |\n| 7 | 10 | $n \\le 2500, m \\le 1000$ | 1–3, 5, 6 |\n| 8 | 10 | $n \\le 2500, m \\le 10^5$ | 1–3, 5–7 |\n| 9 | 15 | $n \\le 2 \\cdot 10^5, m \\le 2 \\cdot 10^5$ | 1–3, 5–8 |\n| 10 | 20 | 无额外限制 | 1–9 |\n\n翻译由 DeepSeek 完成", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 筹码放置", "background": "", "description": "给定一个大小为 $m \\times m$ 的方形棋盘。棋盘的行和列从 $1$ 到 $m$ 编号。\n\n需要在棋盘上放置筹码，使得每个格子内最多有一个筹码。同时，必须满足 $n$ 条限制。第 $i$ 条限制给出两个整数 $r_i$ 和 $c_i$，这意味着在坐标为 $[1 \\ldots r_i] \\times [1 \\ldots c_i]$ 的矩形区域内，最多只能放置一个筹码。\n\n要求计算满足所有限制的不同筹码放置方案的数量，并对 $10^9+7$ 取模后的余数。", "inputFormat": "输入数据的第一行包含两个整数 $n$ 和 $m$ —— 限制的数量和棋盘的尺寸（$1 \\le n \\leq 2 \\cdot 10^5$，$1 \\leq m \\le 10^9$）。\n\n接下来 $n$ 行，每行包含两个数字 $r_i$ 和 $c_i$（$1 \\le r_i, c_i \\le m$）。\n", "outputFormat": "输出一个数字 —— 允许的筹码放置方案数对 $10^9+7$ 取模的结果。", "hint": "### 样例解释\n\n在第一个样例中，整个棋盘上最多只能放置一个筹码。有 $4 \\times 4 = 16$ 种放置一个筹码的方案，以及 $1$ 种不放置任何筹码的方案。\n\n### 评分规则\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 3 | $n \\le 10, m \\le 4$ | --- |\n| 2 | 6 | $n = 1, m \\le 1000$ | --- |\n| 3 | 8 | $n \\le 10, m \\le 1000$ | 1, 2 |\n| 4 | 8 | $n \\le 15, m \\le 10^9$ | 1–3 |\n| 5 | 10 | $n \\le 2500, m \\le 100$ | 1 |\n| 6 | 10 | $n \\le 2500, m \\le 250$ | 1, 5 |\n| 7 | 10 | $n \\le 2500, m \\le 1000$ | 1–3, 5, 6 |\n| 8 | 10 | $n \\le 2500, m \\le 10^5$ | 1–3, 5–7 |\n| 9 | 15 | $n \\le 2 \\cdot 10^5, m \\le 2 \\cdot 10^5$ | 1–3, 5–8 |\n| 10 | 20 | 无额外限制 | 1–9 |\n\n翻译由 DeepSeek 完成", "locale": "zh-CN"}}}
{"pid": "P15130", "type": "P", "difficulty": 0, "samples": [["8\n5 3 4 3 6 2 1 4\n3\n1 8\n2 7\n4 4", "2\n2\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2026", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 超级跳跃", "background": "", "description": "在电脑游戏《超级跳跃》中，英雄在山峰的顶点之间跳跃，目标是到达插有旗帜的位置，并在该处完成关卡。\n\n游戏中的山脉由 $n$ 个连续排列的齿峰组成，第 $i$ 个齿峰位于位置 $i$，高度为 $h_i$。对于任意 $i < j$，英雄可以从齿峰 $i$ 沿直线跳跃到齿峰 $j$，条件是飞行路径上不会遇到其他齿峰。更正式地说，不存在这样的 $k$，使得 $i < k < j$ 且第 $k$ 个齿峰的顶点——坐标为 $(k, h_k)$ 的点——严格高于连接点 $(i, h_i)$ 和 $(j, h_j)$ 的线段。\n\n“战胜 AI”公司正在训练一个神经网络来控制游戏中的英雄。为了创建训练数据，需要回答多个查询：对于一对索引 $l, r$（$1 \\leq l \\leq r \\leq n$），确定从编号为 $l$ 的齿峰开始，英雄到达编号为 $r$ 的齿峰所需的最小跳跃次数。", "inputFormat": "输入数据的第一行包含一个数字 $n$（$1 \\leq n \\leq 10^5$）—— 齿峰的数量。  \n\n第二行包含 $n$ 个数字：$h_1, h_2, \\ldots, h_n$（$0 \\leq h_i \\leq 10^{12}$）—— 齿峰的高度。  \n\n第三行包含一个数字 $q$（$1 \\leq q \\leq 10^5$）—— 查询的数量。  \n\n接下来的 $q$ 行中，每行包含两个数字 $l_i, r_i$（$1 \\leq l_i \\leq r_i \\leq n$）—— 每个查询的参数。\n", "outputFormat": "对于每个查询，在单独的一行输出一个非负整数 —— 所需的最小跳跃次数。", "hint": "### 样例解释\n\n我们分析样例中给出的第二个查询。英雄从齿峰 2 到齿峰 7 的路径可以如下所示：\n\n:::align{center}\n![](https://cdn.luogu.com.cn/upload/image_hosting/tgk84opk.png)\n:::\n\n他将依次访问顶点 2、5 和 7，总共进行两次跳跃。\n\n### 评分规则\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 9 | $n, q \\leq 300$ | |\n| 2 | 9 | $n, q \\leq 5000$ | 1 |\n| 3 | 14 | $h_i \\leq 10$ | |\n| 4 | 21 | 存在 $k$，使得对于所有 $i$，满足 $l_i \\leq k \\leq r_i$ | |\n| 5 | 27 | $n, q \\leq 5 \\cdot 10^4$ | 1, 2 |\n| 6 | 20 | 无额外限制 | 1–5 |\n\n翻译由 DeepSeek 完成", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 超级跳跃", "background": "", "description": "在电脑游戏《超级跳跃》中，英雄在山峰的顶点之间跳跃，目标是到达插有旗帜的位置，并在该处完成关卡。\n\n游戏中的山脉由 $n$ 个连续排列的齿峰组成，第 $i$ 个齿峰位于位置 $i$，高度为 $h_i$。对于任意 $i < j$，英雄可以从齿峰 $i$ 沿直线跳跃到齿峰 $j$，条件是飞行路径上不会遇到其他齿峰。更正式地说，不存在这样的 $k$，使得 $i < k < j$ 且第 $k$ 个齿峰的顶点——坐标为 $(k, h_k)$ 的点——严格高于连接点 $(i, h_i)$ 和 $(j, h_j)$ 的线段。\n\n“战胜 AI”公司正在训练一个神经网络来控制游戏中的英雄。为了创建训练数据，需要回答多个查询：对于一对索引 $l, r$（$1 \\leq l \\leq r \\leq n$），确定从编号为 $l$ 的齿峰开始，英雄到达编号为 $r$ 的齿峰所需的最小跳跃次数。", "inputFormat": "输入数据的第一行包含一个数字 $n$（$1 \\leq n \\leq 10^5$）—— 齿峰的数量。  \n\n第二行包含 $n$ 个数字：$h_1, h_2, \\ldots, h_n$（$0 \\leq h_i \\leq 10^{12}$）—— 齿峰的高度。  \n\n第三行包含一个数字 $q$（$1 \\leq q \\leq 10^5$）—— 查询的数量。  \n\n接下来的 $q$ 行中，每行包含两个数字 $l_i, r_i$（$1 \\leq l_i \\leq r_i \\leq n$）—— 每个查询的参数。\n", "outputFormat": "对于每个查询，在单独的一行输出一个非负整数 —— 所需的最小跳跃次数。", "hint": "### 样例解释\n\n我们分析样例中给出的第二个查询。英雄从齿峰 2 到齿峰 7 的路径可以如下所示：\n\n:::align{center}\n![](https://cdn.luogu.com.cn/upload/image_hosting/tgk84opk.png)\n:::\n\n他将依次访问顶点 2、5 和 7，总共进行两次跳跃。\n\n### 评分规则\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 9 | $n, q \\leq 300$ | |\n| 2 | 9 | $n, q \\leq 5000$ | 1 |\n| 3 | 14 | $h_i \\leq 10$ | |\n| 4 | 21 | 存在 $k$，使得对于所有 $i$，满足 $l_i \\leq k \\leq r_i$ | |\n| 5 | 27 | $n, q \\leq 5 \\cdot 10^4$ | 1, 2 |\n| 6 | 20 | 无额外限制 | 1–5 |\n\n翻译由 DeepSeek 完成", "locale": "zh-CN"}}}
{"pid": "P15131", "type": "P", "difficulty": 3, "samples": [["3 3 3 3", "8"], ["4 2 1 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "数学", "2026", "分类讨论", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 长方体的染色", "background": "", "description": "工厂生产彩色立方体。制造时，取一个长方体木块作为坯料，尺寸为 $a \\times b \\times c$。通常先将其切割成 $a \\cdot b \\cdot c$ 个单位立方体，然后为每个立方体的所有面涂色。\n\n然而，由于使用“Coder 239” Vibe Coding 系统编写的机床程序出现错误，这次一切颠倒了过来：先对整个长方体的所有外表面进行涂色，然后再将其切割成单位立方体。因此，这批产品中不同立方体可能拥有不同数量的已涂色面。\n\n为了评估损失，需要计算恰好有 $k$ 个面被涂色的立方体的数量。", "inputFormat": "唯一一行包含四个数字：$a$、$b$、$c$（$1 \\le a, b, c \\le 10^5$）—— 长方体的尺寸，以及数字 $k$（$0 \\le k \\le 6$）—— 立方体被涂色的面数。", "outputFormat": "输出一个数字 —— 具有指定涂色面数的单位立方体的数量。", "hint": "### 评分规则\n\n本题共有 20 个测试点，每个测试点独立计分，分值为 5 分。\n\n在本场比赛过程中，你会得知每个测试点的评测结果。\n\n翻译由 DeepSeek 完成", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 长方体的染色", "background": "", "description": "工厂生产彩色立方体。制造时，取一个长方体木块作为坯料，尺寸为 $a \\times b \\times c$。通常先将其切割成 $a \\cdot b \\cdot c$ 个单位立方体，然后为每个立方体的所有面涂色。\n\n然而，由于使用“Coder 239” Vibe Coding 系统编写的机床程序出现错误，这次一切颠倒了过来：先对整个长方体的所有外表面进行涂色，然后再将其切割成单位立方体。因此，这批产品中不同立方体可能拥有不同数量的已涂色面。\n\n为了评估损失，需要计算恰好有 $k$ 个面被涂色的立方体的数量。", "inputFormat": "唯一一行包含四个数字：$a$、$b$、$c$（$1 \\le a, b, c \\le 10^5$）—— 长方体的尺寸，以及数字 $k$（$0 \\le k \\le 6$）—— 立方体被涂色的面数。", "outputFormat": "输出一个数字 —— 具有指定涂色面数的单位立方体的数量。", "hint": "### 评分规则\n\n本题共有 20 个测试点，每个测试点独立计分，分值为 5 分。\n\n在本场比赛过程中，你会得知每个测试点的评测结果。\n\n翻译由 DeepSeek 完成", "locale": "zh-CN"}}}
{"pid": "P15132", "type": "P", "difficulty": 0, "samples": [["8\nF\n5", "2"], ["2\nF9\nA", "60"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["位运算", "2026", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 位魔法", "background": "", "description": "给定三个非负整数 $b$, $l$ 和 $r$，它们以十六进制表示。\n\n提醒一下，十六进制（基数为 $16$）使用数字 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F，其中\nA 对应数字 $10$，B 对应 $11$，C 对应 $12$，D 对应 $13$，E 对应 $14$，F 对应 $15$。\n例如，十六进制数 1F 等于 $1 \\cdot 16 + 15 = 31$（十进制）。\n\n运算 $\\mathbin{\\&}$ 表示按位 AND（按位“与”）。考虑数字 $x$ 和 $b$ 的二进制表示，必要时在左边补零使它们长度相同。对于每一位 $i$：\n$$\n(x \\mathbin{\\&} b)_i =\n\\begin{cases}\n1, & \\text{如果 } x_i = 1 \\text{ 且 } b_i = 1,\\\\\n0, & \\text{否则。}\n\\end{cases}\n$$\n也就是说，只有当两个数在对应位都是 $1$ 时，结果的该位才为 $1$。\n\n要求找到满足 $l \\le x \\le r$ 且 $x \\mathbin{\\&} b = b$ 的整数 $x$ 的数量。输出该数量除以 $10^9 + 7$ 的余数。", "inputFormat": "输入数据包含三行：第一行是数字 $l$，第二行是数字 $r$，第三行是数字 $b$。\n\n每个数字以十六进制表示，没有前导零（除了数字本身是 0 的情况），并且由字符 0-9, A-F 组成。\n每行的长度不超过 $50\\,000$ 个字符。\n保证 $0 \\le l \\le r$。\n", "outputFormat": "输出一个整数 —— 满足题目条件的 $x$ 值的数量对 $10^9 + 7$ 取模的结果。\n\n答案以十进制表示，不带前导零。", "hint": "### 样例解释\n\n在第一个样例中，满足条件的 $x$ 值是十六进制数 D 和 F。\n\n### 评分规则\n\n每个子任务的分数仅在该子任务及其所有必需子任务的全部测试通过时授予。\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 10 | $0 \\le r, b < 16^4$，$l = 0$ | |\n| 2 | 5 | $0 \\le l, r, b < 16^4$ | 1 |\n| 3 | 10 | $0 \\le r, b < 16^7$，$l = 0$ | 1 |\n| 4 | 6 | $0 \\le l, r, b < 16^7$ | 1–3 |\n| 5 | 10 | $0 \\le r, b < 16^{15}$，$l = 0$ | 1, 3 |\n| 6 | 7 | $0 \\le l, r, b < 16^{15}$ | 1–5 |\n| 7 | 14 | $0 \\le r, b < 16^{1000}$，$l = 0$ | 1, 3, 5 |\n| 8 | 7 | $0 \\le l, r, b < 16^{1000}$ | 1–7 |\n| 9 | 11 | $0 \\le r, b < 16^{50\\,000}$，$l = 0$ | 1, 3, 5, 7 |\n| 10 | 12 | $0 \\le l, r < 16^{50\\,000}$，$b = 0$ | |\n| 11 | 8 | $0 \\le l, r, b < 16^{50\\,000}$ | 1–10 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 位魔法", "background": "", "description": "给定三个非负整数 $b$, $l$ 和 $r$，它们以十六进制表示。\n\n提醒一下，十六进制（基数为 $16$）使用数字 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F，其中\nA 对应数字 $10$，B 对应 $11$，C 对应 $12$，D 对应 $13$，E 对应 $14$，F 对应 $15$。\n例如，十六进制数 1F 等于 $1 \\cdot 16 + 15 = 31$（十进制）。\n\n运算 $\\mathbin{\\&}$ 表示按位 AND（按位“与”）。考虑数字 $x$ 和 $b$ 的二进制表示，必要时在左边补零使它们长度相同。对于每一位 $i$：\n$$\n(x \\mathbin{\\&} b)_i =\n\\begin{cases}\n1, & \\text{如果 } x_i = 1 \\text{ 且 } b_i = 1,\\\\\n0, & \\text{否则。}\n\\end{cases}\n$$\n也就是说，只有当两个数在对应位都是 $1$ 时，结果的该位才为 $1$。\n\n要求找到满足 $l \\le x \\le r$ 且 $x \\mathbin{\\&} b = b$ 的整数 $x$ 的数量。输出该数量除以 $10^9 + 7$ 的余数。", "inputFormat": "输入数据包含三行：第一行是数字 $l$，第二行是数字 $r$，第三行是数字 $b$。\n\n每个数字以十六进制表示，没有前导零（除了数字本身是 0 的情况），并且由字符 0-9, A-F 组成。\n每行的长度不超过 $50\\,000$ 个字符。\n保证 $0 \\le l \\le r$。\n", "outputFormat": "输出一个整数 —— 满足题目条件的 $x$ 值的数量对 $10^9 + 7$ 取模的结果。\n\n答案以十进制表示，不带前导零。", "hint": "### 样例解释\n\n在第一个样例中，满足条件的 $x$ 值是十六进制数 D 和 F。\n\n### 评分规则\n\n每个子任务的分数仅在该子任务及其所有必需子任务的全部测试通过时授予。\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 10 | $0 \\le r, b < 16^4$，$l = 0$ | |\n| 2 | 5 | $0 \\le l, r, b < 16^4$ | 1 |\n| 3 | 10 | $0 \\le r, b < 16^7$，$l = 0$ | 1 |\n| 4 | 6 | $0 \\le l, r, b < 16^7$ | 1–3 |\n| 5 | 10 | $0 \\le r, b < 16^{15}$，$l = 0$ | 1, 3 |\n| 6 | 7 | $0 \\le l, r, b < 16^{15}$ | 1–5 |\n| 7 | 14 | $0 \\le r, b < 16^{1000}$，$l = 0$ | 1, 3, 5 |\n| 8 | 7 | $0 \\le l, r, b < 16^{1000}$ | 1–7 |\n| 9 | 11 | $0 \\le r, b < 16^{50\\,000}$，$l = 0$ | 1, 3, 5, 7 |\n| 10 | 12 | $0 \\le l, r < 16^{50\\,000}$，$b = 0$ | |\n| 11 | 8 | $0 \\le l, r, b < 16^{50\\,000}$ | 1–10 |", "locale": "zh-CN"}}}
{"pid": "P15133", "type": "P", "difficulty": 7, "samples": [["6 3\n4 6 1 2 5 3\n2 5 2\n2 4 1\n1 6 6", "4\n9\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "扫描线", "2026", "单调栈", "ROIR（俄罗斯）"], "title": "[ROIR 2026] 最后的滑动窗口问题", "background": "", "description": "考虑一个数字数组 $b_1, \\dots, b_m$。该数组上长度为 $k$（$k \\le m$）的滑动窗口是指所有长度为 $k$ 的子段，即 $\\{b_1, \\dots, b_k\\},$ $\\{b_2, \\dots, b_{k + 1}\\},$ $\\dots,$ $\\{b_{m-k+1}, \\dots, b_m\\}$。\n\n给定一个长度为 $n$ 的数字数组 $a_1, \\dots, a_n$。回答关于该数组的 $q$ 个查询，查询形式如下：对于给定的 $l$、$r$、$k$，找出子段 $\\{a_l, \\dots, a_r\\}$ 上所有长度为 $k$ 的滑动窗口的最小值之和。", "inputFormat": "输入的第一行包含两个整数 $n$ 和 $q$（$1 \\le n, q \\le 100\\,000$）—— 数组的长度和查询的数量。\n\n第二行包含 $n$ 个整数 $a_1, \\dots, a_n$（$1 \\le a_i \\le 10^9$）—— 数组中数字的值。\n\n接下来的 $q$ 行包含查询。第 $i$ 行给出三个整数 $l_i$、$r_i$ 和 $k_i$（$1 \\le l \\le r \\le n$，$1 \\le k \\le r - l + 1$）—— 第 $i$ 个查询的子段左右边界以及滑动窗口的长度。", "outputFormat": "输出 $q$ 行，每行包含对应查询的答案。第 $i$ 行输出一个数字 —— 子段 $\\{a_{l_i}, \\dots, a_{r_i}\\}$ 上所有长度为 $k_i$ 的滑动窗口的最小值之和。", "hint": "| 子任务 | 分值 | 额外限制 | 依赖子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 6 | $n, q \\le 300$ | |\n| 2 | 12 | $n, q \\le 4000$ | 1 |\n| 3 | 8 | $n, q \\le 10\\,000$ | 1–2 |\n| 4 | 11 | $n \\le 4\\,000$ | 1–2 |\n| 5 | 10 | 所有查询中的 $k_i$ 相等 | |\n| 6 | 14 | $a_i \\le 2$ | |\n| 7 | 7 | $a_i \\le 20$ | 6 |\n| 8 | 15 | $l_i = 1, r_i = n$ | |\n| 9 | 17 | 无额外限制 | 1–8 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] 最后的滑动窗口问题", "background": "", "description": "考虑一个数字数组 $b_1, \\dots, b_m$。该数组上长度为 $k$（$k \\le m$）的滑动窗口是指所有长度为 $k$ 的子段，即 $\\{b_1, \\dots, b_k\\},$ $\\{b_2, \\dots, b_{k + 1}\\},$ $\\dots,$ $\\{b_{m-k+1}, \\dots, b_m\\}$。\n\n给定一个长度为 $n$ 的数字数组 $a_1, \\dots, a_n$。回答关于该数组的 $q$ 个查询，查询形式如下：对于给定的 $l$、$r$、$k$，找出子段 $\\{a_l, \\dots, a_r\\}$ 上所有长度为 $k$ 的滑动窗口的最小值之和。", "inputFormat": "输入的第一行包含两个整数 $n$ 和 $q$（$1 \\le n, q \\le 100\\,000$）—— 数组的长度和查询的数量。\n\n第二行包含 $n$ 个整数 $a_1, \\dots, a_n$（$1 \\le a_i \\le 10^9$）—— 数组中数字的值。\n\n接下来的 $q$ 行包含查询。第 $i$ 行给出三个整数 $l_i$、$r_i$ 和 $k_i$（$1 \\le l \\le r \\le n$，$1 \\le k \\le r - l + 1$）—— 第 $i$ 个查询的子段左右边界以及滑动窗口的长度。", "outputFormat": "输出 $q$ 行，每行包含对应查询的答案。第 $i$ 行输出一个数字 —— 子段 $\\{a_{l_i}, \\dots, a_{r_i}\\}$ 上所有长度为 $k_i$ 的滑动窗口的最小值之和。", "hint": "| 子任务 | 分值 | 额外限制 | 依赖子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 6 | $n, q \\le 300$ | |\n| 2 | 12 | $n, q \\le 4000$ | 1 |\n| 3 | 8 | $n, q \\le 10\\,000$ | 1–2 |\n| 4 | 11 | $n \\le 4\\,000$ | 1–2 |\n| 5 | 10 | 所有查询中的 $k_i$ 相等 | |\n| 6 | 14 | $a_i \\le 2$ | |\n| 7 | 7 | $a_i \\le 20$ | 6 |\n| 8 | 15 | $l_i = 1, r_i = n$ | |\n| 9 | 17 | 无额外限制 | 1–8 |", "locale": "zh-CN"}}}
{"pid": "P15134", "type": "P", "difficulty": 0, "samples": [["3\n2 2 0\n0 0\n1 1\n5 5 3\n0 1 2 3 4\n0 1 2 3 4\n5 5 4\n0 1 2 3 4\n0 1 2 3 4", "1\n4\n5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2026", "ROIR（俄罗斯）"], "title": "[ROIR 2026] XOR 染色", "background": "", "description": "给定两个非负整数数组 $A=[a_1, a_2, \\ldots, a_n]$ 和 $B=[b_1, b_2, \\ldots, b_m]$。\n\n定义 $S(i) = \\{j | (a_i \\oplus b_j) \\leq x\\}$。换句话说，$S(i)$ 是数组 $B$ 中所有满足 $a_i$ 与 $b_j$ 的按位异或结果不超过 $x$ 的下标 $j$ 的集合。\n\n请求出最小的数字 $k$，使得可以将数组 $A$ 中的元素染成 $k$ 种颜色，且满足：如果 $S(x)$ 与 $S(y)$ 相交，则 $x$ 和 $y$ 必须被染成不同的颜色。\n\n换言之，需要找到 $c_1, c_2, \\ldots, c_n$，使得 $1 \\le c_i \\le k$，并且如果 $S(x) \\cap S(y) \\neq \\varnothing$，则 $c_x \\neq c_y$。\n\n提醒一下，两个非负整数的按位“异或”（$\\oplus$，xor）定义如下：将两个数写作二进制形式，结果的第 $i$ 个二进制位为 1，当且仅当两个参数中恰好有一个在该位为 1。例如，$(14 \\text{ xor } 7) = (1110_2 \\oplus 0111_2) = 1001_2 = 9$。该操作在所有现代编程语言中都有实现，在 C++、Java 和 Python 中写作 `^`，在 Pascal 中写作 xor。", "inputFormat": "此题的输入包含多个测试用例。\n\n输入的第一行包含一个整数 $t$ $(1 \\le t \\le 100)$ —— 测试用例的数量。\n\n接下来是各个测试用例的描述。\n\n每个测试用例的第一行包含三个整数 $n$、$m$ 和 $x$（$1 \\le n, m \\le 500\\,000$，$0 \\leq x < 2^{30}$）。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$ —— 数组 $A$ 的元素（$0 \\le a_i < 2^{30}$）。\n\n第三行包含 $m$ 个整数 $b_1, b_2, \\ldots, b_m$ —— 数组 $B$ 的元素（$0 \\le b_i < 2^{30}$）。\n\n保证所有测试用例的 $n$ 值之和以及 $m$ 值之和均不超过 $500\\,000$。\n", "outputFormat": "对于每个测试用例，输出一个整数 —— 所求的最小 $k$。", "hint": "### 评分规则\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 5 | $n \\le 2$ | --- |\n| 2 | 5 | $n \\le 5$ | 1 |\n| 3 | 5 | $n \\le 15$ | 1, 2 |\n| 4 | 5 | $n \\le 100$ | 1–3 |\n| 5 | 5 | $n \\le 2\\,000$ | 1–4 |\n| 6 | 10 | $n \\le 5\\,000$ | 1–5 |\n| 7 | 5 | $n \\le 100\\,000$，$m = 2$ | --- |\n| 8 | 10 | $n \\leq 100\\,000$，$m = 3$ | --- |\n| 9 | 5 | $n, m \\le 100\\,000$；$a_i, b_i, k < 2$ | --- |\n| 10 | 10 | $n, m \\le 100\\,000$；$a_i, b_i, k < 4$ | 9 |\n| 11 | 35 | 无额外限制 | 1–10 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2026] XOR 染色", "background": "", "description": "给定两个非负整数数组 $A=[a_1, a_2, \\ldots, a_n]$ 和 $B=[b_1, b_2, \\ldots, b_m]$。\n\n定义 $S(i) = \\{j | (a_i \\oplus b_j) \\leq x\\}$。换句话说，$S(i)$ 是数组 $B$ 中所有满足 $a_i$ 与 $b_j$ 的按位异或结果不超过 $x$ 的下标 $j$ 的集合。\n\n请求出最小的数字 $k$，使得可以将数组 $A$ 中的元素染成 $k$ 种颜色，且满足：如果 $S(x)$ 与 $S(y)$ 相交，则 $x$ 和 $y$ 必须被染成不同的颜色。\n\n换言之，需要找到 $c_1, c_2, \\ldots, c_n$，使得 $1 \\le c_i \\le k$，并且如果 $S(x) \\cap S(y) \\neq \\varnothing$，则 $c_x \\neq c_y$。\n\n提醒一下，两个非负整数的按位“异或”（$\\oplus$，xor）定义如下：将两个数写作二进制形式，结果的第 $i$ 个二进制位为 1，当且仅当两个参数中恰好有一个在该位为 1。例如，$(14 \\text{ xor } 7) = (1110_2 \\oplus 0111_2) = 1001_2 = 9$。该操作在所有现代编程语言中都有实现，在 C++、Java 和 Python 中写作 `^`，在 Pascal 中写作 xor。", "inputFormat": "此题的输入包含多个测试用例。\n\n输入的第一行包含一个整数 $t$ $(1 \\le t \\le 100)$ —— 测试用例的数量。\n\n接下来是各个测试用例的描述。\n\n每个测试用例的第一行包含三个整数 $n$、$m$ 和 $x$（$1 \\le n, m \\le 500\\,000$，$0 \\leq x < 2^{30}$）。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$ —— 数组 $A$ 的元素（$0 \\le a_i < 2^{30}$）。\n\n第三行包含 $m$ 个整数 $b_1, b_2, \\ldots, b_m$ —— 数组 $B$ 的元素（$0 \\le b_i < 2^{30}$）。\n\n保证所有测试用例的 $n$ 值之和以及 $m$ 值之和均不超过 $500\\,000$。\n", "outputFormat": "对于每个测试用例，输出一个整数 —— 所求的最小 $k$。", "hint": "### 评分规则\n\n| 子任务 | 分值 | 额外限制 | 必要子任务 |\n|:-:|:-:|:-:|:-:|\n| 1 | 5 | $n \\le 2$ | --- |\n| 2 | 5 | $n \\le 5$ | 1 |\n| 3 | 5 | $n \\le 15$ | 1, 2 |\n| 4 | 5 | $n \\le 100$ | 1–3 |\n| 5 | 5 | $n \\le 2\\,000$ | 1–4 |\n| 6 | 10 | $n \\le 5\\,000$ | 1–5 |\n| 7 | 5 | $n \\le 100\\,000$，$m = 2$ | --- |\n| 8 | 10 | $n \\leq 100\\,000$，$m = 3$ | --- |\n| 9 | 5 | $n, m \\le 100\\,000$；$a_i, b_i, k < 2$ | --- |\n| 10 | 10 | $n, m \\le 100\\,000$；$a_i, b_i, k < 4$ | 9 |\n| 11 | 35 | 无额外限制 | 1–10 |", "locale": "zh-CN"}}}
