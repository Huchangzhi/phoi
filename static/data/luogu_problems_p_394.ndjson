{"pid": "P8991", "type": "P", "difficulty": 6, "samples": [["5\n-962 -445 -613 -9 920\n3\n1 5\n3 5\n1 3\n", "4080400 3\n846400 1\n4080400 3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "O2优化", "CTT（清华集训/北大集训）"], "title": "[北大集训 2021] 出题高手", "background": "CTT2021 D3T2", "description": "Alice 是一个出题高手。\n\nAlice 每天都会出一道题，这样 $n$ 天过去，她就出了 $n$ 道题了。\n\n第 $n+1$ 天，Alice 没有出题，她打算从之前的 $n$ 道题中选择若干道组成一个比赛。方便起见，她决定这些选择的题目得是**连续**的一个时间段出的，也就是这些题目必须形如：第 $l$ 天到第 $r$ 天出的所有题目（$1\\le l \\le r \\le n$）。\n\nAlice 还给每个题目一个评分，第 $i$ 个题目的评分为 $a_i(-1000 \\le a_i \\le 1001)$ ，评分越高代表这道题越偏智商，评分越低说明这道题越偏码力。\n\nAlice 希望组成的比赛具备特色，也即整体偏向代码或者整体偏向智商。一场以 Alice 第 $l$ 天到第 $r$ 天出的题目组成的比赛的特色程度定义为 $\\Large \\frac{(\\sum_l^r a_i)^2}{r-l+1}$ ，Alice 想要**最大化**这个特色程度。\n\n现在，对于 $m$ 个形如 $ql_i,qr_i$ 的询问，你需要回答如果将 Alice  能选择的题目限定在第 $ql_i$ 到 $qr_i$ 天出的题，Alice 能组成的特色程度最大的比赛的特色程度是多少，你需要以分数的形式输出这个特色程度。\n\n由于 Alice 出题的水平过于高超，你可以认为每道题的评分是**随机生成**的。\n", "inputFormat": "\n输入的第一行包含一个正整数 $n$。\n\n输入的第二行包含 $n$ 个整数 $a_1 \\dots a_n$，代表 Alice 对第 $i$ 天所出的题的评分。\n\n输入的第三行包含一个正整数 $m$。\n\n接下来 $m$ 行，每行输入两个正整数 $ql_i,qr_i$，表示询问。\n", "outputFormat": "共 $m$ 行，每行两个整数 $p_i,q_i$，满足 $\\gcd(p_i,q_i)=1$，表示答案为 $\\frac{p_i}{q_i}$，若答案为 $0$，则 $p_i=0$，$q_i=1$。", "hint": "| 子任务 |   $n=$   |   $m=$   | 分值 |\n| :----: | :------: | :------: | :--: |\n|  $1$   |  $2000$  | $100000$ | $5$  |\n|  $2$   | $100000$ |   $1$    | $15$ |\n|  $3$   | $500000$ |   $1$    | $30$ |\n|  $4$   | $100000$ |  $5000$  | $15$ |\n|  $5$   | $100000$ | $300000$ | $35$ |\n\n\n\n对于 第 $2$ 个和第 $3$ 个子任务，保证所有询问满足 $ql_i = 1$，$qr_i = n$。\n\n所有的 $a_i$ 保证满足 $-1000 \\le a_i \\le 1001$。且对于 $a_i$ ，数据生成方式为每次独立地从 $[-1000,1001]$ 中等概率随机选取一个整数。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[北大集训 2021] 出题高手", "background": "CTT2021 D3T2", "description": "Alice 是一个出题高手。\n\nAlice 每天都会出一道题，这样 $n$ 天过去，她就出了 $n$ 道题了。\n\n第 $n+1$ 天，Alice 没有出题，她打算从之前的 $n$ 道题中选择若干道组成一个比赛。方便起见，她决定这些选择的题目得是**连续**的一个时间段出的，也就是这些题目必须形如：第 $l$ 天到第 $r$ 天出的所有题目（$1\\le l \\le r \\le n$）。\n\nAlice 还给每个题目一个评分，第 $i$ 个题目的评分为 $a_i(-1000 \\le a_i \\le 1001)$ ，评分越高代表这道题越偏智商，评分越低说明这道题越偏码力。\n\nAlice 希望组成的比赛具备特色，也即整体偏向代码或者整体偏向智商。一场以 Alice 第 $l$ 天到第 $r$ 天出的题目组成的比赛的特色程度定义为 $\\Large \\frac{(\\sum_l^r a_i)^2}{r-l+1}$ ，Alice 想要**最大化**这个特色程度。\n\n现在，对于 $m$ 个形如 $ql_i,qr_i$ 的询问，你需要回答如果将 Alice  能选择的题目限定在第 $ql_i$ 到 $qr_i$ 天出的题，Alice 能组成的特色程度最大的比赛的特色程度是多少，你需要以分数的形式输出这个特色程度。\n\n由于 Alice 出题的水平过于高超，你可以认为每道题的评分是**随机生成**的。\n", "inputFormat": "\n输入的第一行包含一个正整数 $n$。\n\n输入的第二行包含 $n$ 个整数 $a_1 \\dots a_n$，代表 Alice 对第 $i$ 天所出的题的评分。\n\n输入的第三行包含一个正整数 $m$。\n\n接下来 $m$ 行，每行输入两个正整数 $ql_i,qr_i$，表示询问。\n", "outputFormat": "共 $m$ 行，每行两个整数 $p_i,q_i$，满足 $\\gcd(p_i,q_i)=1$，表示答案为 $\\frac{p_i}{q_i}$，若答案为 $0$，则 $p_i=0$，$q_i=1$。", "hint": "| 子任务 |   $n=$   |   $m=$   | 分值 |\n| :----: | :------: | :------: | :--: |\n|  $1$   |  $2000$  | $100000$ | $5$  |\n|  $2$   | $100000$ |   $1$    | $15$ |\n|  $3$   | $500000$ |   $1$    | $30$ |\n|  $4$   | $100000$ |  $5000$  | $15$ |\n|  $5$   | $100000$ | $300000$ | $35$ |\n\n\n\n对于 第 $2$ 个和第 $3$ 个子任务，保证所有询问满足 $ql_i = 1$，$qr_i = n$。\n\n所有的 $a_i$ 保证满足 $-1000 \\le a_i \\le 1001$。且对于 $a_i$ ，数据生成方式为每次独立地从 $[-1000,1001]$ 中等概率随机选取一个整数。\n", "locale": "zh-CN"}}}
{"pid": "P8992", "type": "P", "difficulty": 7, "samples": [["abbab\n5 0\n1 3\n2 4\n3 5\n1 4\n2 5\n", "4\n7\n6\n2\n8\n"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2021", "O2优化", "CTT（清华集训/北大集训）"], "title": "[北大集训 2021] 扑克比大小", "background": "CTT2021 D3T3", "description": "小 $Z$ 和小 $A$ 在玩扑克比大小。\n\n他们玩的扑克比大小规则如下：\n\n- 在游戏开始前，系统会给小 $Z$ 和小 $A$ 各发一堆手牌（两堆牌数量可能不相同），其中每张牌上写有一个小写字母。\n\n- 在游戏的每一轮，小 $Z$ 和小 $A$ 同时翻开**牌堆顶**的第一张牌，若两人翻开的牌不同，则牌上对应小写字母**更小**的那一方获胜；若两人翻开的牌相同，则他们会将翻开的牌塞入**牌堆底**，继续游戏，直到某方获胜为止。\n\n而系统实际上是从一个巨大的牌库里面发牌的，具体来说，假设牌库共有 $n$ 张牌，分别是 $a_1,a_2,\\cdots,a_n$，则系统会随机选择第 $l$ 张到第 $r$ 张牌发给玩家，换言之，玩家**从牌堆顶到牌堆底**的牌分别是 $a_l,a_{l+1},\\cdots,a_r$。\n\n现在小 $Z$ 和小 $A$ 一共要进行 $q$ 轮游戏，并且小 $Z$ 通过某种方式得知了系统在第 $i$ 轮发给小 $A$ 的牌为 $a_{l_i},a_{l_i+1},\\cdots,a_{r_i}$，小 $Z$ 想知道他一共有多少种可能的手牌能赢小 $A$。两堆手牌视为不同当且仅当两堆手牌数量不同，或存在一个位置 $d$ 使得两堆手牌中距离堆顶为 $d$ 的牌不同。\n", "inputFormat": "输入的第一行包含一个只包含小写字母的字符串 $a$ 。\n\n输入的第二行包含一个正整数 $q$ 和一个整数 $type$，其中 $type$ 表示数据类型。\n\n接下来 $q$ 行，第 $i$ 行包含两个整数 $l_i$ 和 $r_i$。\n", "outputFormat": "输出 $q$ 行，每行一个整数表示小 $Z$ 有多少种可能的手牌能赢小 $A$。\n", "hint": "对于所有数据，满足 $1\\le l_i\\le r_i\\le |a| \\le 5\\times 10^5$，$1\\le q \\le 5\\times 10^5$。\n\n| 子任务 | 得分  |     $n\\le$     |     $q\\le$     | $type$ |\n| :----: | :---: | :------------: | :------------: | :----: |\n|  $1$   |  $3$  |     $10^2$     |     $10^2$     |  $0$   |\n|  $2$   |  $3 $  |     $500$      |    $2,000$     |  $0$   |\n|  $3$   |  $4$  |    $2,000$     |    $2,000$     |  $0$   |\n|  $4$   |  $5$  | $2\\times 10^4$ |    $2,000$     |  $0$   |\n|  $5$   | $13$  |     $10^5$     |     $10^5$     |  $3$   |\n|  $6$   | $17$  |     $10^5$     |     $10^5$     |  $0$   |\n|  $7$   | $15$  | $5\\times 10^5$ | $5\\times 10^5$ |  $1$   |\n|  $8$   | $15 $ | $5\\times 10^5$ | $5\\times 10^5$ |  $2$   |\n|  $9$   | $25$  | $5\\times 10^5$ | $5\\times 10^5$ |  $0$   |\n\n\n\n\n数据类型 $type$ 的含义为：\n\n- $type=0$，数据无特殊限制。\n\n- $type=1$，保证 $\\exists 1\\le l'\\le r'\\le |a|$，$a_{l_i,r_i}+a_{l_i,r_i}=a_{l',r'}$。\n\n- $type=2$，保证 $\\forall r'-l'=r_i-l_i+1$，若 $a_{l',r'-1}=a_{l_i,r_i}$，则必有 $a_{r'}\\neq a_{l_i}$。\n\n- $type=3$，保证 $\\sum r_i-l_i \\le 10^5$。\n\n其中 $a_{l,r}$ 表示字符串 $a_la_{l+1}\\cdots a_r$；两个字符串 $a+b$ 的结果为 $a$ 和 $b$ 按顺序拼接的字符串。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[北大集训 2021] 扑克比大小", "background": "CTT2021 D3T3", "description": "小 $Z$ 和小 $A$ 在玩扑克比大小。\n\n他们玩的扑克比大小规则如下：\n\n- 在游戏开始前，系统会给小 $Z$ 和小 $A$ 各发一堆手牌（两堆牌数量可能不相同），其中每张牌上写有一个小写字母。\n\n- 在游戏的每一轮，小 $Z$ 和小 $A$ 同时翻开**牌堆顶**的第一张牌，若两人翻开的牌不同，则牌上对应小写字母**更小**的那一方获胜；若两人翻开的牌相同，则他们会将翻开的牌塞入**牌堆底**，继续游戏，直到某方获胜为止。\n\n而系统实际上是从一个巨大的牌库里面发牌的，具体来说，假设牌库共有 $n$ 张牌，分别是 $a_1,a_2,\\cdots,a_n$，则系统会随机选择第 $l$ 张到第 $r$ 张牌发给玩家，换言之，玩家**从牌堆顶到牌堆底**的牌分别是 $a_l,a_{l+1},\\cdots,a_r$。\n\n现在小 $Z$ 和小 $A$ 一共要进行 $q$ 轮游戏，并且小 $Z$ 通过某种方式得知了系统在第 $i$ 轮发给小 $A$ 的牌为 $a_{l_i},a_{l_i+1},\\cdots,a_{r_i}$，小 $Z$ 想知道他一共有多少种可能的手牌能赢小 $A$。两堆手牌视为不同当且仅当两堆手牌数量不同，或存在一个位置 $d$ 使得两堆手牌中距离堆顶为 $d$ 的牌不同。\n", "inputFormat": "输入的第一行包含一个只包含小写字母的字符串 $a$ 。\n\n输入的第二行包含一个正整数 $q$ 和一个整数 $type$，其中 $type$ 表示数据类型。\n\n接下来 $q$ 行，第 $i$ 行包含两个整数 $l_i$ 和 $r_i$。\n", "outputFormat": "输出 $q$ 行，每行一个整数表示小 $Z$ 有多少种可能的手牌能赢小 $A$。\n", "hint": "对于所有数据，满足 $1\\le l_i\\le r_i\\le |a| \\le 5\\times 10^5$，$1\\le q \\le 5\\times 10^5$。\n\n| 子任务 | 得分  |     $n\\le$     |     $q\\le$     | $type$ |\n| :----: | :---: | :------------: | :------------: | :----: |\n|  $1$   |  $3$  |     $10^2$     |     $10^2$     |  $0$   |\n|  $2$   |  $3 $  |     $500$      |    $2,000$     |  $0$   |\n|  $3$   |  $4$  |    $2,000$     |    $2,000$     |  $0$   |\n|  $4$   |  $5$  | $2\\times 10^4$ |    $2,000$     |  $0$   |\n|  $5$   | $13$  |     $10^5$     |     $10^5$     |  $3$   |\n|  $6$   | $17$  |     $10^5$     |     $10^5$     |  $0$   |\n|  $7$   | $15$  | $5\\times 10^5$ | $5\\times 10^5$ |  $1$   |\n|  $8$   | $15 $ | $5\\times 10^5$ | $5\\times 10^5$ |  $2$   |\n|  $9$   | $25$  | $5\\times 10^5$ | $5\\times 10^5$ |  $0$   |\n\n\n\n\n数据类型 $type$ 的含义为：\n\n- $type=0$，数据无特殊限制。\n\n- $type=1$，保证 $\\exists 1\\le l'\\le r'\\le |a|$，$a_{l_i,r_i}+a_{l_i,r_i}=a_{l',r'}$。\n\n- $type=2$，保证 $\\forall r'-l'=r_i-l_i+1$，若 $a_{l',r'-1}=a_{l_i,r_i}$，则必有 $a_{r'}\\neq a_{l_i}$。\n\n- $type=3$，保证 $\\sum r_i-l_i \\le 10^5$。\n\n其中 $a_{l,r}$ 表示字符串 $a_la_{l+1}\\cdots a_r$；两个字符串 $a+b$ 的结果为 $a$ 和 $b$ 按顺序拼接的字符串。", "locale": "zh-CN"}}}
{"pid": "P8993", "type": "P", "difficulty": 6, "samples": [["2 9\n14\n16", "2\n-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "O2优化", "CTT（清华集训/北大集训）"], "title": "[北大集训 2021] 算术", "background": "CTT2021 D4T1", "description": "今天，生活在 14 进制世界的小 Q 学习了一种判断给定的大数是否是 9 的倍数的方法。我们以 $(1BB40)_{14} = (70812)_{10}$ 作为例子描述该方法，下面设 $b=14$，$p=9$，下面的方法中所有的运算在 $b$ 进制下进行。\n\n1. 从低位往高位，将每个连续的 $k=2$ 位划分为一段。例子中，$(1BB40)_{b}$ 被划分为 $1 \\mid BB \\mid 40$ 三段。\n2. 从低位往高位从 $0$ 开始给每一段编号。例子中，第 $0$ 段为 $40$，第 $1$ 段为 $BB$，第 $2$ 段为 $1$。\n3. 对于第 $i$ 段计算出值 $b_i$：设第 $i$ 段在 $b$ 进制下的值为 $a_i$，如果 $i$ 为奇数则 $b_i$ 为满足 $(a_i+b_i) \\equiv 0 \\pmod p$ 的最小非负整数 $b_i$，如果 $i$ 为偶数则 $b_i$ 为满足 $(a_i-b_i) \\equiv 0 \\pmod p$ 的最小非负整数 $b_i$。例子中有 $b_0=2$，$b_1=6$，$b_2=1$。\n4. 将 $b_i$ 按照**下标大的在低位，下标小的在高位**的顺序顺次拼接，形成一个 $b$ 进制数并输出。例子中输出结果为 $(261)_{b} = (477)_{10}$。容易验证 $477$ 和 $70812$ 都是 $p$ 的倍数。\n\n可以证明上述方法输入和输出的数要么同时是 $p$ 的倍数，要么同时不是 $p$ 的倍数。而且数字的位数变少了，所以多做几次就可以得到一个很小的数，然后就可以简单地判断了。\n\n小 Q 深深地被这个算法吸引了，所以他想给出一个 $b,p$ 不同于 $14,9$ 时的通用方法。但是他发现，当上面的方法中 $b,p$ 的取值变化时，$k$ 不一定等于 $2$：有时会是 $1$，有时会大于 $2$，有时甚至不存在满足条件的 $k$。所以对于给定的 $b, p$，小 Q 想知道在 $b$ 进制下上述方法的第一步中**正整数** $k$ 的最小值，使得无论输入如何，输入和对应的输出要么同时是 $p$ 的倍数，要么同时不是 $p$ 的倍数，或者报告这样的 $k$ 不存在。\n\n注意 $p$ 不一定是质数。\n", "inputFormat": "**测试点有多组测试数据，保证同一测试点下的 $p$ 相同**。输入的第一行包含两个正整数 $T,p$，保证 $1 \\le T \\le 10^5$，$2 \\leq p \\le 10^{15}$，分别表示该组测试点的测试数据组数与方法的 $p$ 参数。\n\n接下来 $T$ 行每行输入一行一个整数 $b$ 表示每组测试数据的进制。保证 $2 \\leq p < b \\leq 10 \\times p$。\n\n**输入中的所有数字按照十进制给出。**\n", "outputFormat": "对于每组数据输出一行，若不存在合法的 $k$ 输出 `-1`，否则输出最小的满足条件的**正整数** $k$。\n", "hint": "| 子任务编号 | $2\\leq p\\leq$ | $1\\leq T\\leq$ | 分值 |\n| :--------: | :-----------: | :-----------: | :--: |\n|    $1$     |      $3$      |     $10$      | $5$  |\n|    $2$     |     $10$      |     $10$      | $5 $  |\n|    $3$     |    $10^2$     |    $10^2$     | $5$  |\n|    $4$     |    $10^4$     |    $10^2$     | $11$ |\n|    $5$     |    $10^6$     |    $10^2$     | $11 $ |\n|    $6$     |    $10^8$     |    $10^3$     | $11$ |\n|    $7$     |   $10^{10}$   |    $10^3$     | $11 $ |\n|    $8$     |   $10^{12}$   |    $10^3$     | $7$  |\n|    $9$     |   $10^{14}$   |    $10^4$     | $17$ |\n|    $10$    |   $10^{15}$   |    $10^5$     | $17 $ |\n\n\n\n\n\n为了选手们的身心健康，下发文件中的 `down.cpp` 中实现了大整数取模乘法函数 `mul(A, B, P)`，你需要保证 $A,B \\in [0,P-1]$，函数会返回 $(A \\times B) \\bmod P$。你可以自由选择使用或者不使用这份代码。**其中需要保证你调用时 $A,B,P$ 均不超过 $10^{15}$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[北大集训 2021] 算术", "background": "CTT2021 D4T1", "description": "今天，生活在 14 进制世界的小 Q 学习了一种判断给定的大数是否是 9 的倍数的方法。我们以 $(1BB40)_{14} = (70812)_{10}$ 作为例子描述该方法，下面设 $b=14$，$p=9$，下面的方法中所有的运算在 $b$ 进制下进行。\n\n1. 从低位往高位，将每个连续的 $k=2$ 位划分为一段。例子中，$(1BB40)_{b}$ 被划分为 $1 \\mid BB \\mid 40$ 三段。\n2. 从低位往高位从 $0$ 开始给每一段编号。例子中，第 $0$ 段为 $40$，第 $1$ 段为 $BB$，第 $2$ 段为 $1$。\n3. 对于第 $i$ 段计算出值 $b_i$：设第 $i$ 段在 $b$ 进制下的值为 $a_i$，如果 $i$ 为奇数则 $b_i$ 为满足 $(a_i+b_i) \\equiv 0 \\pmod p$ 的最小非负整数 $b_i$，如果 $i$ 为偶数则 $b_i$ 为满足 $(a_i-b_i) \\equiv 0 \\pmod p$ 的最小非负整数 $b_i$。例子中有 $b_0=2$，$b_1=6$，$b_2=1$。\n4. 将 $b_i$ 按照**下标大的在低位，下标小的在高位**的顺序顺次拼接，形成一个 $b$ 进制数并输出。例子中输出结果为 $(261)_{b} = (477)_{10}$。容易验证 $477$ 和 $70812$ 都是 $p$ 的倍数。\n\n可以证明上述方法输入和输出的数要么同时是 $p$ 的倍数，要么同时不是 $p$ 的倍数。而且数字的位数变少了，所以多做几次就可以得到一个很小的数，然后就可以简单地判断了。\n\n小 Q 深深地被这个算法吸引了，所以他想给出一个 $b,p$ 不同于 $14,9$ 时的通用方法。但是他发现，当上面的方法中 $b,p$ 的取值变化时，$k$ 不一定等于 $2$：有时会是 $1$，有时会大于 $2$，有时甚至不存在满足条件的 $k$。所以对于给定的 $b, p$，小 Q 想知道在 $b$ 进制下上述方法的第一步中**正整数** $k$ 的最小值，使得无论输入如何，输入和对应的输出要么同时是 $p$ 的倍数，要么同时不是 $p$ 的倍数，或者报告这样的 $k$ 不存在。\n\n注意 $p$ 不一定是质数。\n", "inputFormat": "**测试点有多组测试数据，保证同一测试点下的 $p$ 相同**。输入的第一行包含两个正整数 $T,p$，保证 $1 \\le T \\le 10^5$，$2 \\leq p \\le 10^{15}$，分别表示该组测试点的测试数据组数与方法的 $p$ 参数。\n\n接下来 $T$ 行每行输入一行一个整数 $b$ 表示每组测试数据的进制。保证 $2 \\leq p < b \\leq 10 \\times p$。\n\n**输入中的所有数字按照十进制给出。**\n", "outputFormat": "对于每组数据输出一行，若不存在合法的 $k$ 输出 `-1`，否则输出最小的满足条件的**正整数** $k$。\n", "hint": "| 子任务编号 | $2\\leq p\\leq$ | $1\\leq T\\leq$ | 分值 |\n| :--------: | :-----------: | :-----------: | :--: |\n|    $1$     |      $3$      |     $10$      | $5$  |\n|    $2$     |     $10$      |     $10$      | $5 $  |\n|    $3$     |    $10^2$     |    $10^2$     | $5$  |\n|    $4$     |    $10^4$     |    $10^2$     | $11$ |\n|    $5$     |    $10^6$     |    $10^2$     | $11 $ |\n|    $6$     |    $10^8$     |    $10^3$     | $11$ |\n|    $7$     |   $10^{10}$   |    $10^3$     | $11 $ |\n|    $8$     |   $10^{12}$   |    $10^3$     | $7$  |\n|    $9$     |   $10^{14}$   |    $10^4$     | $17$ |\n|    $10$    |   $10^{15}$   |    $10^5$     | $17 $ |\n\n\n\n\n\n为了选手们的身心健康，下发文件中的 `down.cpp` 中实现了大整数取模乘法函数 `mul(A, B, P)`，你需要保证 $A,B \\in [0,P-1]$，函数会返回 $(A \\times B) \\bmod P$。你可以自由选择使用或者不使用这份代码。**其中需要保证你调用时 $A,B,P$ 均不超过 $10^{15}$。**", "locale": "zh-CN"}}}
{"pid": "P8994", "type": "P", "difficulty": 6, "samples": [["0\n5 2\n1 2\n1 3\n2 4\n2 5\n1 0 1 0 1\n2 2\n4 4", "2\n1\n"], ["0\n10 10\n6 3\n7 4\n8 2\n2 1\n9 1\n1 3\n3 4\n4 5\n5 10\n0 0 1 1 1 0 1 1 0 0 \n8 3\n2 3\n7 10\n7 3\n6 7\n8 5\n9 8\n2 10\n5 4\n3 9\n", "1\n1\n0\n1\n1\n1\n0\n0\n2\n1\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "O2优化", "CTT（清华集训/北大集训）"], "title": "[北大集训 2021] 经典游戏", "background": "CTT2021 D4T2", "description": "某天，`C` 和 `K` 觉得很无聊，于是决定玩一个经典小游戏：\n\n在一棵有 $n$ 个结点的有根树上，标号为 $i$ 的节点上有 $a_i$ 个棋子。游戏时玩家轮流操作，每次可以将任意一个节点 $u$ 上的一个棋子放置到任意一个点 $v \\in U(u)$上，其中 $U(u)=subtree\\{u\\}\\setminus\\{u\\}$ ，表示 $u$ 的子树内（不包含 $u$ 本身）的点组成的集合。不能进行操作者失败。\n\n而 `C` 和 `K` 作为 `P**` 和 `T**` 的在读学生，这种一眼就能找出必胜策略的游戏实在是索然无味，于是两人觉得，每个人给自己一个特殊能力可能会比较有趣：\n\n`C` 在开始游戏之前，**可以选择**将当前树的树根 $R$ 换到与 $R$ 相邻的任意一个点 $R^{\\prime}$ 上。定义两个点相邻当且仅当这两个点有边直接相连。\n\n`K` 在开始游戏之前，**必须选择**树上的一个节点，在上面加上一颗棋子。\n\n`C` 和 `K` 决定玩 $m$ 局游戏。每局游戏的流程如下：\n\n1. 游戏开始前，`C` 和 `K` 会商量好，先在标号为 $x$ 的节点上放上一个棋子，然后将树根设为 $y$。\n2. 之后 `C` 可以选择是否发动特殊能力，`C` 决策完之后 `K` 可以选择是否发动特殊能力。\n3. 特殊能力的决策结束后，会在这棵树上进行一局 `C` 先手、`K` 后手的游戏。游戏完成后会将树上棋子的状态**还原到流程 `1` 结束后的状态**。\n\n`C` 觉得这个游戏可以出成一个简单题，于是他决定考考你：`C` 在每局游戏的第二步的时候，有多少种决策方式使得不管 `K` 如何进行特殊能力的操作，开始游戏时都存在**必胜策略**？两种决策方式不同，**当且仅当**两种决策**更换的树根** $R^{\\prime}$ **不同**，或者**两者中仅有一个没有发动特殊能力**。\n", "inputFormat": "第一行包括一个整数，表示该测试点所在的子任务的分数。你可以使用这个信息判断该测试点满足的特殊性质。特别的，下发样例中此行使用 $0$ 代替。\n\n第二行包含两个用空格隔开的正整数 $n, m$，表示树的节点数目以及游戏的轮数。树上的节点从 $1$ 到 $n$ 编号。\n\n接下来 $n-1$ 行，每行包含两个用空格隔开的正整数 $u_i,v_i$，满足 $1 \\le u_i,v_i \\le n$，表示编号为 $u_i$ 和 $v_i$ 的节点之间有边直接相连。\n\n接下来一行包含 $n$ 个用空格隔开的整数 $a_1,a_2,\\ldots,a_n$，满足 $0 \\leq a_1,a_2,\\ldots,a_n \\leq 10^9$。\n\n接下来 $m$ 行，每行包含两个用空格隔开的正整数 $x, y$ 描述一局游戏，满足 $1 \\le x,y \\le n$。\n", "outputFormat": "\n你需要输出 $m$ 行，其中第 $i$ 行应当包含一个非负整数 $x$ 表示第 $i$ 局游戏中，`C` 存在多少种使用特殊能力的决策方案，使得 `C` 在这局游戏中存在必胜策略。注意，**不使用特殊能力**也是一种**可能可行**的决策方案。\n", "hint": "| 子任务分数 | $1\\le n,m\\le$ | $\\max\\{a_1,a_2,\\dots,a_n\\}\\le$ |              特殊性质              |\n| :--------: | :-----------: | :----------------------------: | :--------------------------------: |\n|    $16$    |      $5$      |              $1$               |                 无                 |\n|    $15$    |     $300$     |              $1$               |                 无                 |\n|    $14$    |    $5000$     |             $10^9$             |                 无                 |\n|    $13$    |   $100000$    |             $10^9$             |        保证给出的树是一条链        |\n|    $12$    |   $100000$    |             $10^9$             | 保证给出的树存在一个点度数为 $n-1$ |\n|    $11$    |   $100000$    |             $10^9$             |   保证 $m$ 次游戏初始给定根一致    |\n|    $10$    |   $500000$    |             $10^9$             |                 无                 |\n|    $9$     |   $1000000$   |             $10^9$             |                 无                 |\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[北大集训 2021] 经典游戏", "background": "CTT2021 D4T2", "description": "某天，`C` 和 `K` 觉得很无聊，于是决定玩一个经典小游戏：\n\n在一棵有 $n$ 个结点的有根树上，标号为 $i$ 的节点上有 $a_i$ 个棋子。游戏时玩家轮流操作，每次可以将任意一个节点 $u$ 上的一个棋子放置到任意一个点 $v \\in U(u)$上，其中 $U(u)=subtree\\{u\\}\\setminus\\{u\\}$ ，表示 $u$ 的子树内（不包含 $u$ 本身）的点组成的集合。不能进行操作者失败。\n\n而 `C` 和 `K` 作为 `P**` 和 `T**` 的在读学生，这种一眼就能找出必胜策略的游戏实在是索然无味，于是两人觉得，每个人给自己一个特殊能力可能会比较有趣：\n\n`C` 在开始游戏之前，**可以选择**将当前树的树根 $R$ 换到与 $R$ 相邻的任意一个点 $R^{\\prime}$ 上。定义两个点相邻当且仅当这两个点有边直接相连。\n\n`K` 在开始游戏之前，**必须选择**树上的一个节点，在上面加上一颗棋子。\n\n`C` 和 `K` 决定玩 $m$ 局游戏。每局游戏的流程如下：\n\n1. 游戏开始前，`C` 和 `K` 会商量好，先在标号为 $x$ 的节点上放上一个棋子，然后将树根设为 $y$。\n2. 之后 `C` 可以选择是否发动特殊能力，`C` 决策完之后 `K` 可以选择是否发动特殊能力。\n3. 特殊能力的决策结束后，会在这棵树上进行一局 `C` 先手、`K` 后手的游戏。游戏完成后会将树上棋子的状态**还原到流程 `1` 结束后的状态**。\n\n`C` 觉得这个游戏可以出成一个简单题，于是他决定考考你：`C` 在每局游戏的第二步的时候，有多少种决策方式使得不管 `K` 如何进行特殊能力的操作，开始游戏时都存在**必胜策略**？两种决策方式不同，**当且仅当**两种决策**更换的树根** $R^{\\prime}$ **不同**，或者**两者中仅有一个没有发动特殊能力**。\n", "inputFormat": "第一行包括一个整数，表示该测试点所在的子任务的分数。你可以使用这个信息判断该测试点满足的特殊性质。特别的，下发样例中此行使用 $0$ 代替。\n\n第二行包含两个用空格隔开的正整数 $n, m$，表示树的节点数目以及游戏的轮数。树上的节点从 $1$ 到 $n$ 编号。\n\n接下来 $n-1$ 行，每行包含两个用空格隔开的正整数 $u_i,v_i$，满足 $1 \\le u_i,v_i \\le n$，表示编号为 $u_i$ 和 $v_i$ 的节点之间有边直接相连。\n\n接下来一行包含 $n$ 个用空格隔开的整数 $a_1,a_2,\\ldots,a_n$，满足 $0 \\leq a_1,a_2,\\ldots,a_n \\leq 10^9$。\n\n接下来 $m$ 行，每行包含两个用空格隔开的正整数 $x, y$ 描述一局游戏，满足 $1 \\le x,y \\le n$。\n", "outputFormat": "\n你需要输出 $m$ 行，其中第 $i$ 行应当包含一个非负整数 $x$ 表示第 $i$ 局游戏中，`C` 存在多少种使用特殊能力的决策方案，使得 `C` 在这局游戏中存在必胜策略。注意，**不使用特殊能力**也是一种**可能可行**的决策方案。\n", "hint": "| 子任务分数 | $1\\le n,m\\le$ | $\\max\\{a_1,a_2,\\dots,a_n\\}\\le$ |              特殊性质              |\n| :--------: | :-----------: | :----------------------------: | :--------------------------------: |\n|    $16$    |      $5$      |              $1$               |                 无                 |\n|    $15$    |     $300$     |              $1$               |                 无                 |\n|    $14$    |    $5000$     |             $10^9$             |                 无                 |\n|    $13$    |   $100000$    |             $10^9$             |        保证给出的树是一条链        |\n|    $12$    |   $100000$    |             $10^9$             | 保证给出的树存在一个点度数为 $n-1$ |\n|    $11$    |   $100000$    |             $10^9$             |   保证 $m$ 次游戏初始给定根一致    |\n|    $10$    |   $500000$    |             $10^9$             |                 无                 |\n|    $9$     |   $1000000$   |             $10^9$             |                 无                 |\n\n\n", "locale": "zh-CN"}}}
{"pid": "P8995", "type": "P", "difficulty": 7, "samples": [["5 2 3 2\n1 3 2\n1\n1\n", "3\n4\n"], ["10 4 5 5\n40 355 190 215 161\n3\n4\n0\n3\n4\n", "581\n460\n420\n541\n702\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "O2优化", "CTT（清华集训/北大集训）"], "title": "[北大集训 2021] 随机数据", "background": "CTT2021 D4T3", "description": "有 $n$ 件物品，用 $0, \\cdots, n-1$ 对它们编号，规定物品 $i$ 的价值为 $v_i$。\n\nA 和 B 正在轮流玩一个游戏，该游戏会进行多轮。\n\n每轮开始时，如果所有可用的物品都已经被取走，游戏将立刻结束。否则，A 必须选择一件未被取走的物品，将其取走。\n\n假设 A 取走的物品编号为 $i$。接下来，B 可以选择从物品 $(i - d + n) \\bmod n$ 和物品 $(i + d) \\bmod n$ 中选取一件未被取走的物品，将其取走；或者他可以选择跳过本次操作。随后游戏进入到下一轮。特别地，如果这两件物品都已经被取走了，B 只能选择跳过本次操作。\n\nA 和 B 都想最大化自己取走的物品的价值之和，我们假定 A 与 B 都采取了最优策略。\n\n此外，在游戏开始前，有一些物品可能是不可用的。在游戏过程中，不可用的物品将会被忽略，即：A 和 B 都不能取走不可用的物品；当所有可用的物品都已经被取走时，游戏立刻结束。\n\n初始时，所有物品都是可用的。你的程序需要支持 $q$ 次操作，每次操作的内容为：给定一个 $x$，如果物品 $x$ 是不可用的，它将变为可用的；如果它是可用的，它将变为不可用的。每次操作后，你需要回答：假设从当前状态开始游戏，游戏结束时 B 取走的物品的价值之和。\n\n不幸的是，这是一道 IO 题，**物品的数量可能会达到 $10^{16}$**。身为一个 OIer，你无法处理如此大规模的数据，因此 $v_i$ 将会用一种**特殊的方法**生成：给定一个长度为 $m$ 的数组 $w$，$v_i = w_{i \\bmod m}$。\n", "inputFormat": "输入的第一行包含四个**正整数** $n, d, m, q$，保证 $1 < n \\le 10^{16}, 1\\le d < n, 1 \\le m \\le 2\\times 10^4, q \\le 10^5$。\n\n输入的第二行包含 $m$ 个整数，第 $i$ 个整数表示 $w_{i-1}$ 的值，保证 $1 \\le w_i \\le 400$。\n\n接下来的 $q$ 行，每行包含一个整数 $x$，表示一次对物品 $x$ 的操作。保证 $0 \\le x < n$。\n", "outputFormat": "输出 $q$ 行，每行一个整数，对应一次操作之后的答案。\n", "hint": "Subtask 1 (5 pts) : $n \\le 20, q = 1$\n\nSubtask 2 (10 pts) : $n \\le 10^5, q = 1$\n\nSubtask 3 (15 pts) : $n, q \\le 10^5$\n\nSubtask 4 (30 pts) : $q = 1$\n\nSubtask 5 (40 pts) : 无特殊限制。\n\n如有需要，可以使用 `__int128` 处理 `long long` 乘法取模，下面是一个使用 `__int128` 计算 $a \\times b \\bmod m$ 的例子：\n\n```cpp\nlong long a = 1e15;\nlong long b = 1e15;\nlong long m = 12345678910;\nlong long c = ((__int128) a * b) % m;\n```\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[北大集训 2021] 随机数据", "background": "CTT2021 D4T3", "description": "有 $n$ 件物品，用 $0, \\cdots, n-1$ 对它们编号，规定物品 $i$ 的价值为 $v_i$。\n\nA 和 B 正在轮流玩一个游戏，该游戏会进行多轮。\n\n每轮开始时，如果所有可用的物品都已经被取走，游戏将立刻结束。否则，A 必须选择一件未被取走的物品，将其取走。\n\n假设 A 取走的物品编号为 $i$。接下来，B 可以选择从物品 $(i - d + n) \\bmod n$ 和物品 $(i + d) \\bmod n$ 中选取一件未被取走的物品，将其取走；或者他可以选择跳过本次操作。随后游戏进入到下一轮。特别地，如果这两件物品都已经被取走了，B 只能选择跳过本次操作。\n\nA 和 B 都想最大化自己取走的物品的价值之和，我们假定 A 与 B 都采取了最优策略。\n\n此外，在游戏开始前，有一些物品可能是不可用的。在游戏过程中，不可用的物品将会被忽略，即：A 和 B 都不能取走不可用的物品；当所有可用的物品都已经被取走时，游戏立刻结束。\n\n初始时，所有物品都是可用的。你的程序需要支持 $q$ 次操作，每次操作的内容为：给定一个 $x$，如果物品 $x$ 是不可用的，它将变为可用的；如果它是可用的，它将变为不可用的。每次操作后，你需要回答：假设从当前状态开始游戏，游戏结束时 B 取走的物品的价值之和。\n\n不幸的是，这是一道 IO 题，**物品的数量可能会达到 $10^{16}$**。身为一个 OIer，你无法处理如此大规模的数据，因此 $v_i$ 将会用一种**特殊的方法**生成：给定一个长度为 $m$ 的数组 $w$，$v_i = w_{i \\bmod m}$。\n", "inputFormat": "输入的第一行包含四个**正整数** $n, d, m, q$，保证 $1 < n \\le 10^{16}, 1\\le d < n, 1 \\le m \\le 2\\times 10^4, q \\le 10^5$。\n\n输入的第二行包含 $m$ 个整数，第 $i$ 个整数表示 $w_{i-1}$ 的值，保证 $1 \\le w_i \\le 400$。\n\n接下来的 $q$ 行，每行包含一个整数 $x$，表示一次对物品 $x$ 的操作。保证 $0 \\le x < n$。\n", "outputFormat": "输出 $q$ 行，每行一个整数，对应一次操作之后的答案。\n", "hint": "Subtask 1 (5 pts) : $n \\le 20, q = 1$\n\nSubtask 2 (10 pts) : $n \\le 10^5, q = 1$\n\nSubtask 3 (15 pts) : $n, q \\le 10^5$\n\nSubtask 4 (30 pts) : $q = 1$\n\nSubtask 5 (40 pts) : 无特殊限制。\n\n如有需要，可以使用 `__int128` 处理 `long long` 乘法取模，下面是一个使用 `__int128` 计算 $a \\times b \\bmod m$ 的例子：\n\n```cpp\nlong long a = 1e15;\nlong long b = 1e15;\nlong long m = 12345678910;\nlong long c = ((__int128) a * b) % m;\n```\n", "locale": "zh-CN"}}}
{"pid": "P8996", "type": "P", "difficulty": 6, "samples": [["6 3\n1 5 6 2 3 4\n1 2\n0 4\n1 5", "2\n2\n5"], ["6 6\n2 1 5 4 6 3\n0 1\n1 1\n0 3\n1 3\n0 6\n10 6", "2\n2\n5\n4\n3\n3"], ["10 10\n7 5 2 9 10 8 4 3 6 1\n3 1\n3 2\n3 3\n3 4\n3 5\n3 6\n3 7\n3 8\n3 9\n3 10", "2\n3\n6\n1\n7\n5\n8\n4\n9\n10"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "平衡树", "树状数组", "2022", "CEOI（中欧）"], "title": "[CEOI 2022] Abracadabra", "background": "", "description": "Tin 是一位著名的魔术师，他的一个经典魔术与洗牌有关。\n\nTin 会准备一套牌，总共 $n$ 张（保证 $n$ 为偶数），各编号为 $1\\sim n$，一开始的时候牌是乱的且倒扣在桌子上。紧接着他开始表演洗牌，在洗牌的任意时刻，观众都可以向 Tin 询问从底往上数第 $t$ 张牌是什么牌，很显然 Tin 一定会立即回答出正确答案。\n\n事实上，Tin 采用如下方式来完成这个魔术，首先他记下了一开始的 $n$ 张牌的顺序，接着采用如下技巧洗牌：\n\n1. 拿起自顶向下 $\\frac{n}{2}$ 张牌放在右手，自底向上 $\\frac{n}{2}$ 张牌放在左手，牌的正面对着桌子。\n1. 借助他的记忆，将左右手最底下的牌进行比较，将编号较小的那张牌放下，重复这个操作直到左右手一边为空。\n1. 将还有牌的那只手上的所有牌放下。\n\n请你写一个程序模拟 Tin 的魔术。", "inputFormat": "第一行两个整数 $N,Q$。\n\n接下来一行 $N$ 个整数 $p_i$，从底向上描述了整个牌堆。\n\n接下来 $Q$ 行，一行一个询问 $t,i$，表示询问 $t$ 次洗牌后自底向上第 $i$ 张牌编号是多少。", "outputFormat": "对于每一个询问，输出你的答案。", "hint": "### 样例 3 解释\n\n| 洗牌次数 |          自底向上的牌堆           |\n| :------: | :-----------------------------: |\n|   $0$    | $7\\ 5\\ 2\\ 9\\ 10\\ 8\\ 4\\ 3\\ 6\\ 1$ |\n|   $1$    | $7\\ 5\\ 2\\ 8\\ 4\\ 3\\ 6\\ 1\\ 9\\ 10$ |\n|   $2$    | $3\\ 6\\ 1\\ 7\\ 5\\ 2\\ 8\\ 4\\ 9\\ 10$ |\n|   $3$    | $2\\ 3\\ 6\\ 1\\ 7\\ 5\\ 8\\ 4\\ 9\\ 10$ |\n\n### 数据规模与约定\n\n对于全部数据，满足 $1\\le N\\le 2\\times 10^5$，$N$ 为偶数，$1\\le Q\\le 10^6$，$0\\le t\\le 10^9$，$p$ 为 $1\\sim n$ 的排列，$1\\le i\\le N$。\n\n| Subtask 编号 |       特殊限制        |   分数   |\n| :----------: | :------------------: | :------: |\n|   $1$\t    |   $N\\le 10^3$\t    |   $10$   |\n|   $2$\t    | 每一个询问的 $t$ 相同 | \t$40$ |\n|   $3$\t    |   $N,Q\\le 10^5$\t   |   $25$   |\n|   $4$\t    |      无特殊限制\t      |   $25$   |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2022] Abracadabra", "background": "", "description": "Tin 是一位著名的魔术师，他的一个经典魔术与洗牌有关。\n\nTin 会准备一套牌，总共 $n$ 张（保证 $n$ 为偶数），各编号为 $1\\sim n$，一开始的时候牌是乱的且倒扣在桌子上。紧接着他开始表演洗牌，在洗牌的任意时刻，观众都可以向 Tin 询问从底往上数第 $t$ 张牌是什么牌，很显然 Tin 一定会立即回答出正确答案。\n\n事实上，Tin 采用如下方式来完成这个魔术，首先他记下了一开始的 $n$ 张牌的顺序，接着采用如下技巧洗牌：\n\n1. 拿起自顶向下 $\\frac{n}{2}$ 张牌放在右手，自底向上 $\\frac{n}{2}$ 张牌放在左手，牌的正面对着桌子。\n1. 借助他的记忆，将左右手最底下的牌进行比较，将编号较小的那张牌放下，重复这个操作直到左右手一边为空。\n1. 将还有牌的那只手上的所有牌放下。\n\n请你写一个程序模拟 Tin 的魔术。", "inputFormat": "第一行两个整数 $N,Q$。\n\n接下来一行 $N$ 个整数 $p_i$，从底向上描述了整个牌堆。\n\n接下来 $Q$ 行，一行一个询问 $t,i$，表示询问 $t$ 次洗牌后自底向上第 $i$ 张牌编号是多少。", "outputFormat": "对于每一个询问，输出你的答案。", "hint": "### 样例 3 解释\n\n| 洗牌次数 |          自底向上的牌堆           |\n| :------: | :-----------------------------: |\n|   $0$    | $7\\ 5\\ 2\\ 9\\ 10\\ 8\\ 4\\ 3\\ 6\\ 1$ |\n|   $1$    | $7\\ 5\\ 2\\ 8\\ 4\\ 3\\ 6\\ 1\\ 9\\ 10$ |\n|   $2$    | $3\\ 6\\ 1\\ 7\\ 5\\ 2\\ 8\\ 4\\ 9\\ 10$ |\n|   $3$    | $2\\ 3\\ 6\\ 1\\ 7\\ 5\\ 8\\ 4\\ 9\\ 10$ |\n\n### 数据规模与约定\n\n对于全部数据，满足 $1\\le N\\le 2\\times 10^5$，$N$ 为偶数，$1\\le Q\\le 10^6$，$0\\le t\\le 10^9$，$p$ 为 $1\\sim n$ 的排列，$1\\le i\\le N$。\n\n| Subtask 编号 |       特殊限制        |   分数   |\n| :----------: | :------------------: | :------: |\n|   $1$\t    |   $N\\le 10^3$\t    |   $10$   |\n|   $2$\t    | 每一个询问的 $t$ 相同 | \t$40$ |\n|   $3$\t    |   $N,Q\\le 10^5$\t   |   $25$   |\n|   $4$\t    |      无特殊限制\t      |   $25$   |", "locale": "zh-CN"}}}
{"pid": "P8997", "type": "P", "difficulty": 5, "samples": [["min(min(?,?),min(?,?))", "1"], ["max(?,max(?,min(?,?)))", "2"], ["min(max(?,?),min(?,max(?,?)))", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "贪心", "递归", "2022", "CEOI（中欧）", "树的遍历"], "title": "[CEOI 2022] Homework", "background": null, "description": "这是 Helena 的数学作业中的一道题：\n\n我们定义合法表达式如下：\n\n- `?` 是合法表达式，这表示一个未知数。\n- 如果 $A,B$ 均为合法表达式，那么 $\\texttt{min(}A\\texttt{,}B\\texttt{)}$ 和 $\\texttt{max(}A\\texttt{,}B\\texttt{)}$ 均为合法表达式，这分别表示取左右两边的最大值/最小值。\n\n设 `?` 的个数为 $N$，现在给出一个合法表达式，将每一个问号替换为 $1\\sim N$ 中的任意一个数并且每一个数不能使用多次，可以得到多少种不同的答案？\n\n可怜的 Helena 并不会做，请你帮帮她。", "inputFormat": "仅一行一个字符串表示给出的合法表达式。", "outputFormat": "输出一个整数，表示不同答案的个数。", "hint": "### 样例 1 解释\n\n无论权值如何选择，最后的答案都会是 $\\min\\{1,2,3,4\\}$，也就是 $1$。\n\n### 样例 2 解释\n\n答案为 $4$ 的方案是： `4=max(4,max(3,min(2,1)))`，答案为 $3$ 的方案是 `3=max(3,max(2,min(1,4)))`，可以证明答案不可能为 $1$ 或 $2$。\n\n### 数据规模与约定\n\n对于全部数据，$2\\le N\\le 10^6$。\n\n| Subtask 编号 |                                   特殊限制                                   | 得分 |\n| :----------: | :--------------------------------------------------------------------------: | :--: |\n|     $1$      |                                   $N\\le 9$                                   | $10$ |\n|     $2$      |                                  $N\\le 16$                                   | $13$ |\n|     $3$      | 对于任意 $\\texttt{min(}A\\texttt{,}B\\texttt{)}$ 与 $\\texttt{max(}A\\texttt{,}B\\texttt{)}$，$A$ 和 $B$ 中有一个为 `?`。 | $13$ |\n|     $4$      |                                 $N\\le 10^3$                                  | $30$ |\n|     $5$      |                                  无特殊限制                                   | $34$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2022] Homework", "background": null, "description": "这是 Helena 的数学作业中的一道题：\n\n我们定义合法表达式如下：\n\n- `?` 是合法表达式，这表示一个未知数。\n- 如果 $A,B$ 均为合法表达式，那么 $\\texttt{min(}A\\texttt{,}B\\texttt{)}$ 和 $\\texttt{max(}A\\texttt{,}B\\texttt{)}$ 均为合法表达式，这分别表示取左右两边的最大值/最小值。\n\n设 `?` 的个数为 $N$，现在给出一个合法表达式，将每一个问号替换为 $1\\sim N$ 中的任意一个数并且每一个数不能使用多次，可以得到多少种不同的答案？\n\n可怜的 Helena 并不会做，请你帮帮她。", "inputFormat": "仅一行一个字符串表示给出的合法表达式。", "outputFormat": "输出一个整数，表示不同答案的个数。", "hint": "### 样例 1 解释\n\n无论权值如何选择，最后的答案都会是 $\\min\\{1,2,3,4\\}$，也就是 $1$。\n\n### 样例 2 解释\n\n答案为 $4$ 的方案是： `4=max(4,max(3,min(2,1)))`，答案为 $3$ 的方案是 `3=max(3,max(2,min(1,4)))`，可以证明答案不可能为 $1$ 或 $2$。\n\n### 数据规模与约定\n\n对于全部数据，$2\\le N\\le 10^6$。\n\n| Subtask 编号 |                                   特殊限制                                   | 得分 |\n| :----------: | :--------------------------------------------------------------------------: | :--: |\n|     $1$      |                                   $N\\le 9$                                   | $10$ |\n|     $2$      |                                  $N\\le 16$                                   | $13$ |\n|     $3$      | 对于任意 $\\texttt{min(}A\\texttt{,}B\\texttt{)}$ 与 $\\texttt{max(}A\\texttt{,}B\\texttt{)}$，$A$ 和 $B$ 中有一个为 `?`。 | $13$ |\n|     $4$      |                                 $N\\le 10^3$                                  | $30$ |\n|     $5$      |                                  无特殊限制                                   | $34$ |", "locale": "zh-CN"}}}
{"pid": "P8999", "type": "P", "difficulty": 7, "samples": [["3\n1 2\n2 3\n10 10\n10 20\n20 10", "1 2 3"], ["5\n1 2\n1 3\n1 4\n4 5\n10 10\n10 30\n30 10\n30 30\n20 25", "5 4 2 3 1"], ["6\n1 2\n2 3\n1 4\n4 5\n4 6\n10 60\n10 40\n40 50\n40 30\n70 30\n70 10", "6 5 4 1 2 3"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Special Judge", "CEOI（中欧）"], "title": "[CEOI 2022] Drawing", "background": "", "description": "给定平面上的 $N$ 个点，和一棵大小为 $N$ 的树 $T$，保证这棵树上每个点的度数至多为 $3$，树上节点按 $1\\sim N$ 编号。\n\n你需要为平面上的点使用 $1\\sim N$ 的编号重编号之后，对于所有树上的边 $e=(u,v)$，将平面上的点 $u$ 和平面上的点 $v$ 用线段连接后，任意两条线段除了在端点上相交没有其他的相交点。\n\n试构造一组方案，保证一定有解。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N-1$ 行，一行两个整数 $a,b$，表示有一条从 $a$ 连向 $b$ 的边。\n\n接下来 $N$ 行，一行两个整数 $x,y$，表示一个点的横纵坐标为 $(x,y)$。保证这 $N$ 个点两两不同，且没有任意三点共线。", "outputFormat": "输出一行 $N$ 个整数，第 $i$ 个数应为原本的第 $i$ 个点的标号。", "hint": "### 样例 3 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1sz6z9sk.png)\n\n蓝色数字表示所分配的编号，黑色数字表示原本的编号。\n\n### 数据规模与约定\n\n对于所有数据，保证 $0\\le x,y\\le 10^9$。\n\n| Subtask 编号 |                 特殊限制                  | 分数 |\n| :----------: | :--------------------------------------: | :--: |\n|     $1$      | $3\\le N\\le 2\\times 10^5$，所有点均在凸包上 | $10$ |\n|     $2$      |             $1\\le N\\le 4000$             | $15$ |\n|     $3$      |             $1\\le N\\le 10^4$             | $15$ |\n|     $4$      |         $1\\le N\\le 8\\times 10^4$         | $35$ |\n|     $5$      |         $1\\le N\\le 2\\times 10^5$         | $25$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2022] Drawing", "background": "", "description": "给定平面上的 $N$ 个点，和一棵大小为 $N$ 的树 $T$，保证这棵树上每个点的度数至多为 $3$，树上节点按 $1\\sim N$ 编号。\n\n你需要为平面上的点使用 $1\\sim N$ 的编号重编号之后，对于所有树上的边 $e=(u,v)$，将平面上的点 $u$ 和平面上的点 $v$ 用线段连接后，任意两条线段除了在端点上相交没有其他的相交点。\n\n试构造一组方案，保证一定有解。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N-1$ 行，一行两个整数 $a,b$，表示有一条从 $a$ 连向 $b$ 的边。\n\n接下来 $N$ 行，一行两个整数 $x,y$，表示一个点的横纵坐标为 $(x,y)$。保证这 $N$ 个点两两不同，且没有任意三点共线。", "outputFormat": "输出一行 $N$ 个整数，第 $i$ 个数应为原本的第 $i$ 个点的标号。", "hint": "### 样例 3 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1sz6z9sk.png)\n\n蓝色数字表示所分配的编号，黑色数字表示原本的编号。\n\n### 数据规模与约定\n\n对于所有数据，保证 $0\\le x,y\\le 10^9$。\n\n| Subtask 编号 |                 特殊限制                  | 分数 |\n| :----------: | :--------------------------------------: | :--: |\n|     $1$      | $3\\le N\\le 2\\times 10^5$，所有点均在凸包上 | $10$ |\n|     $2$      |             $1\\le N\\le 4000$             | $15$ |\n|     $3$      |             $1\\le N\\le 10^4$             | $15$ |\n|     $4$      |         $1\\le N\\le 8\\times 10^4$         | $35$ |\n|     $5$      |         $1\\le N\\le 2\\times 10^5$         | $25$ |", "locale": "zh-CN"}}}
{"pid": "P9000", "type": "P", "difficulty": 5, "samples": [["2 1 2\n1 3\n2", "1"], ["0 5 3\n\n1 2 3 4 5", "0 1 2 3 4"], ["3 3 3\n3 3 3\n3 3 3", "4.5 6 7.5"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2022", "CEOI（中欧）"], "title": "[CEOI 2022] Measures", "background": null, "description": "有 $N$ 个站在数轴上的人，他们的初始位置分别为 $a_1,a_2,\\ldots,a_N$，他们可以以 $1$ 个单位长度每秒的速度移动。\n\n因为众所周知的原因，他们需要保持社交距离，也就是说在任两个人之间距离至少为 $D$。\n\nAlenka 设计了一个 app 来快速求出这 $N$ 个人通过移动来保持社交距离的最小时间，现在她想要添加一个新功能：支持动态加入一个位置为 $b_i$ 的人。\n\n你需要实现一个程序完成这个功能。", "inputFormat": "第一行三个整数 $N,M,D$。\n\n接下来一行 $N$ 个整数 $a_1,\\ldots,a_N$，表示初始的 $N$ 个人。\n\n接下来一行 $M$ 个整数 $b_1,\\ldots,b_M$，表示顺次加入的 $M$ 个人。", "outputFormat": "输出一行 $M$ 个数，第 $i$ 个数表示加入第 $i$ 个人之后所花费的最小时间，你需要输出这个时间的精确值，不含末尾多余的 $0$。", "hint": "### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f3fmckzt.png)\n\n### 数据规模与约定\n\n对于全部数据，$1\\le D,a_1,\\ldots,a_N,b_1,\\ldots,b_M\\le 10^9$。\n\n| Subtask 编号 |                         特殊限制                         | 分数 |\n| :----------: | :-----------------------------------------------------: | :--: |\n|     $1$      |            $0\\le N\\le 2000$，$1\\le M\\le 10$             | $10$ |\n|     $2$      |        $0\\le N\\le 2\\times 10^5$，$1\\le M\\le 10$         | $14$ |\n|     $3$      | $N=0$，$1\\le M\\le 2\\times 10^5$，$b_1\\le \\cdots\\le b_M$ | $35$ |\n|     $4$      |             $N=0$，$1\\le M\\le 2\\times 10^5$             | $41$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2022] Measures", "background": null, "description": "有 $N$ 个站在数轴上的人，他们的初始位置分别为 $a_1,a_2,\\ldots,a_N$，他们可以以 $1$ 个单位长度每秒的速度移动。\n\n因为众所周知的原因，他们需要保持社交距离，也就是说在任两个人之间距离至少为 $D$。\n\nAlenka 设计了一个 app 来快速求出这 $N$ 个人通过移动来保持社交距离的最小时间，现在她想要添加一个新功能：支持动态加入一个位置为 $b_i$ 的人。\n\n你需要实现一个程序完成这个功能。", "inputFormat": "第一行三个整数 $N,M,D$。\n\n接下来一行 $N$ 个整数 $a_1,\\ldots,a_N$，表示初始的 $N$ 个人。\n\n接下来一行 $M$ 个整数 $b_1,\\ldots,b_M$，表示顺次加入的 $M$ 个人。", "outputFormat": "输出一行 $M$ 个数，第 $i$ 个数表示加入第 $i$ 个人之后所花费的最小时间，你需要输出这个时间的精确值，不含末尾多余的 $0$。", "hint": "### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f3fmckzt.png)\n\n### 数据规模与约定\n\n对于全部数据，$1\\le D,a_1,\\ldots,a_N,b_1,\\ldots,b_M\\le 10^9$。\n\n| Subtask 编号 |                         特殊限制                         | 分数 |\n| :----------: | :-----------------------------------------------------: | :--: |\n|     $1$      |            $0\\le N\\le 2000$，$1\\le M\\le 10$             | $10$ |\n|     $2$      |        $0\\le N\\le 2\\times 10^5$，$1\\le M\\le 10$         | $14$ |\n|     $3$      | $N=0$，$1\\le M\\le 2\\times 10^5$，$b_1\\le \\cdots\\le b_M$ | $35$ |\n|     $4$      |             $N=0$，$1\\le M\\le 2\\times 10^5$             | $41$ |", "locale": "zh-CN"}}}
{"pid": "P9001", "type": "P", "difficulty": 6, "samples": [["4 5\n1 0\n2 0\n1 3\n4 4\n3 2", "3\n5 2\n3 5\n3 1"], ["4 5\n0 0\n2 1\n3 1\n3 4\n2 4", "-1"], ["5 7\n1 0\n2 1\n2 3\n4 3\n5 4\n5 0\n0 0", "6\n2 1\n3 7\n4 7\n2 3\n5 4\n5 6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2022", "Special Judge", "CEOI（中欧）", "图论建模", "栈"], "title": "[CEOI 2022] Parking", "background": "", "description": "Valerija 在一家饭店的停车场工作，她负责礼貌地接待重要的客人，保管他们的车钥匙并帮助他们停车。\n\n一个晚上，她发现她管理的停车场中恰好有 $2N$ 辆车，它们共有 $N$ 种不同的颜色，每种颜色恰有两辆车。我们将颜色按 $1$ 到 $N$ 编号。\n\n停车场共有 $M$ 个车位，按 $1$ 到 $M$ 编号，每一个车位可以停下两辆车，一个车位只有一个入口，我们称靠近入口的为「顶上的车」，远离入口的为「底下的车」，一辆车可以从入口开出当且仅当没有车挡着它。Valerija 在停车的时候，保证每个车位要么空，要么停满两辆车，要么只有一辆底下的车。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/q0r8s8f5.png)\n\n这张图描述的是第一个样例，同时呈现了唯一的第一次驾驶。\n\nValerija 想要重新停放车使得每一对相同颜色的车都在一个车位里。我们并不关心车位对应什么颜色以及哪辆车在顶上哪辆车在底下。Valerija 将执行如下操作：\n\n- 驾驶一辆可以驶出车位的车，将车开到另一个车位，满足：\n    - 这个车位是空的，并把车停在底下的车位，或者，\n    - 这个车位有且只有一辆与当前驾驶的车颜色相同的车。\n    \nValerija 想知道最少的操作次数与操作方案，请你解决这个问题。", "inputFormat": "第一行两个整数 $N,M$。\n\n接下来 $M$ 行，一行两个整数 $b_i,t_i$，$b_i$ 表示停在这个车位底下的车的颜色，$t_i$ 表示停在这个车位顶上的车的颜色，如为 $0$，则表示这个车位底下/顶上的位置没有车。", "outputFormat": "如果没有办法完成要求，输出一行一个整数 $-1$。\n\n否则，第一行一个整数 $K$，表示最少的操作次数。\n\n接下来 $K$ 行，一行两个整数 $x_i,y_i$，表示第 $i$ 次操作将车位 $x_i$ 中可以驶出车位的车开到车位 $y_i$。\n\n注意到最短解可能不唯一，你只需要输出任意一种即可。", "hint": "### 样例 1 解释\n\n由题目描述中的图可以看出，这个样例只有唯一解。\n\n### 数据规模与约定\n\n对于全部数据，$1\\le N\\le M\\le 2\\times 10^5$。\n\n如果你的程序正确求出了最少的操作次数，但是方案构造错误，你将会获得对应点 $20\\%$ 的分数。\n\n| Subtask 编号 |                 特殊限制                  | 分数 |\n| :----------: | :--------------------------------------: | :--: |\n|     $1$      |                 $M\\le 4$                 | $10$ |\n|     $2$      |                $2N\\le M$                 | $10$ |\n|     $3$      | $N\\le 1000$，每个车位要么是空的要么是满的。 | $25$ |\n|     $4$      |       每个车位要么是空的要么是满的。        | $15$ |\n|     $5$      |               $N\\le 1000$                | $25$ |\n|     $6$      |                无特殊限制                 | $15$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2022] Parking", "background": "", "description": "Valerija 在一家饭店的停车场工作，她负责礼貌地接待重要的客人，保管他们的车钥匙并帮助他们停车。\n\n一个晚上，她发现她管理的停车场中恰好有 $2N$ 辆车，它们共有 $N$ 种不同的颜色，每种颜色恰有两辆车。我们将颜色按 $1$ 到 $N$ 编号。\n\n停车场共有 $M$ 个车位，按 $1$ 到 $M$ 编号，每一个车位可以停下两辆车，一个车位只有一个入口，我们称靠近入口的为「顶上的车」，远离入口的为「底下的车」，一辆车可以从入口开出当且仅当没有车挡着它。Valerija 在停车的时候，保证每个车位要么空，要么停满两辆车，要么只有一辆底下的车。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/q0r8s8f5.png)\n\n这张图描述的是第一个样例，同时呈现了唯一的第一次驾驶。\n\nValerija 想要重新停放车使得每一对相同颜色的车都在一个车位里。我们并不关心车位对应什么颜色以及哪辆车在顶上哪辆车在底下。Valerija 将执行如下操作：\n\n- 驾驶一辆可以驶出车位的车，将车开到另一个车位，满足：\n    - 这个车位是空的，并把车停在底下的车位，或者，\n    - 这个车位有且只有一辆与当前驾驶的车颜色相同的车。\n    \nValerija 想知道最少的操作次数与操作方案，请你解决这个问题。", "inputFormat": "第一行两个整数 $N,M$。\n\n接下来 $M$ 行，一行两个整数 $b_i,t_i$，$b_i$ 表示停在这个车位底下的车的颜色，$t_i$ 表示停在这个车位顶上的车的颜色，如为 $0$，则表示这个车位底下/顶上的位置没有车。", "outputFormat": "如果没有办法完成要求，输出一行一个整数 $-1$。\n\n否则，第一行一个整数 $K$，表示最少的操作次数。\n\n接下来 $K$ 行，一行两个整数 $x_i,y_i$，表示第 $i$ 次操作将车位 $x_i$ 中可以驶出车位的车开到车位 $y_i$。\n\n注意到最短解可能不唯一，你只需要输出任意一种即可。", "hint": "### 样例 1 解释\n\n由题目描述中的图可以看出，这个样例只有唯一解。\n\n### 数据规模与约定\n\n对于全部数据，$1\\le N\\le M\\le 2\\times 10^5$。\n\n如果你的程序正确求出了最少的操作次数，但是方案构造错误，你将会获得对应点 $20\\%$ 的分数。\n\n| Subtask 编号 |                 特殊限制                  | 分数 |\n| :----------: | :--------------------------------------: | :--: |\n|     $1$      |                 $M\\le 4$                 | $10$ |\n|     $2$      |                $2N\\le M$                 | $10$ |\n|     $3$      | $N\\le 1000$，每个车位要么是空的要么是满的。 | $25$ |\n|     $4$      |       每个车位要么是空的要么是满的。        | $15$ |\n|     $5$      |               $N\\le 1000$                | $25$ |\n|     $6$      |                无特殊限制                 | $15$ |", "locale": "zh-CN"}}}
{"pid": "P9002", "type": "P", "difficulty": 4, "samples": [["6\n4 2\n9 3\n1000 2\n1000 20\n28238934 154154154154154\n23389348458425 5", "3\n6\n49\n60\n28238934\n760"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "数位 DP", "进制"], "title": "[RC-07] 心跳", "background": "", "description": "对正整数 $x$，设 $f(x,B)$ 表示 $x$ 在 $B$ 进制下的数位和。说一个正整数 $p$ 是 $B$-好的，当且仅当对于任意正整数 $q<p$ 都有 $f(p,B)\\ge f(q,B)$。\n\n给定正整数 $n$ 和 $B$，计算有多少个 $\\le n$ 的正整数是 $B$-好的。", "inputFormat": "本题单个测试点内有多组数据。\n\n\n\n第一行是数据组数 $T$。\n\n接下来 $T$ 行，每行两个正整数 $n,B$。", "outputFormat": "输出 $T$ 行，每行一个非负整数，为答案。", "hint": "**样例解释**\n\n这里只解释第二组询问的输出。三进制下，$1,2,3,4,5,6,7,8,9$ 的数位和分别为 $1,2,1,2,3,2,3,4,1$，据此容易看出只有 $1,2,4,5,7,8$ 是 $3$-好的，所以输出 $6$。\n\n**数据范围**\n\n所有数据均满足：$1\\le T\\le 10^5$，$1\\le n\\le 10^{18}$，$2\\le B\\le 10^{18}$。\n\n- 子任务 $1$（$50$ 分）：$T\\le 10^4$，$n,B\\le 100$。\n- 子任务 $2$（$30$ 分）：$B=2$。\n- 子任务 $3$（$20$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-07] 心跳", "background": "", "description": "对正整数 $x$，设 $f(x,B)$ 表示 $x$ 在 $B$ 进制下的数位和。说一个正整数 $p$ 是 $B$-好的，当且仅当对于任意正整数 $q<p$ 都有 $f(p,B)\\ge f(q,B)$。\n\n给定正整数 $n$ 和 $B$，计算有多少个 $\\le n$ 的正整数是 $B$-好的。", "inputFormat": "本题单个测试点内有多组数据。\n\n\n\n第一行是数据组数 $T$。\n\n接下来 $T$ 行，每行两个正整数 $n,B$。", "outputFormat": "输出 $T$ 行，每行一个非负整数，为答案。", "hint": "**样例解释**\n\n这里只解释第二组询问的输出。三进制下，$1,2,3,4,5,6,7,8,9$ 的数位和分别为 $1,2,1,2,3,2,3,4,1$，据此容易看出只有 $1,2,4,5,7,8$ 是 $3$-好的，所以输出 $6$。\n\n**数据范围**\n\n所有数据均满足：$1\\le T\\le 10^5$，$1\\le n\\le 10^{18}$，$2\\le B\\le 10^{18}$。\n\n- 子任务 $1$（$50$ 分）：$T\\le 10^4$，$n,B\\le 100$。\n- 子任务 $2$（$30$ 分）：$B=2$。\n- 子任务 $3$（$20$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9003", "type": "P", "difficulty": 6, "samples": [["3\n4 2\n1 3\n4 4\n1 2 3 4\n10 4\n1 3 7 8", "NIT\nTIN\nNIT"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[RC-07] Game Theory", "background": "", "description": "给出长度为 $n$ 的 `01` 序列 $a_{1\\sim n}$，**序列中有偶数个 `1`**。NIT 和 TIN 轮流做以下操作，NIT 先手：\n\n- 选择位置 $i\\ (1\\le i\\le n)$，满足区间 $[1,i]$ 中有奇数个 `1`。再选择位置 $j\\ (i<j\\le n)$。将 $a_i,a_j$ 都取反（即，`0` 变 `1`，`1` 变 `0`）\n\n当整个序列中的所有元素都变为 `0` 时，当前轮到的人就无法操作，他就输了。假设 NIT 和 TIN 都*绝顶*聪明，谁会赢？可以证明，游戏总会结束。\n\n$n$ 可能很大，但序列中 $1$ 的个数不超过 $2\\times 10^5$。", "inputFormat": "**本题有多组数据。**\n\n输入的第一行是数据组数 $T$。\n\n接下来是每组数据的描述。每组数据的第一行是两个正整数 $n,m$，$m$ 为序列中 `1` 的个数，保证 $m$ 是偶数。\n\n接下来一行 $m$ 个**递增**的正整数，描述这些 `1` 的下标，下标从 $1$ 开始。", "outputFormat": "对每组数据，输出一行一个字符串 `NIT` 或 `TIN`，表示赢家的名字。", "hint": "**样例解释**\n\n第一组数据中，NIT 选择 $i=1,j=3$ 就能把全部位置都变成 0，使得 TIN 无法操作。\n\n第二组数据中，无论 NIT 先手怎么操作，都会剩下恰好两个 1 的位置。TIN 只需要选择这两个剩下的位置，就可以把全部位置都变成 0。\n\n第三组数据中，一种可能的游戏进程如下（注意该进程里，每一步不一定是最优的）：\n\n- NIT 选择 $i=2,j=3$ 并将这两个位置取反。现在 \n`1` 的位置在 $1,2,7,8$。\n- TIN 选择 $i=7,j=9$ 并将这两个位置取反。现在 \n`1` 的位置在 $1,2,8,9$。\n- NIT 选择 $i=1,j=5$ 并将这两个位置取反。现在 \n`1` 的位置在 $2,5,8,9$。\n- TIN 选择 $i=3,j=4$ 并将这两个位置取反。现在 \n`1` 的位置在 $2,3,4,5,8,9$。\n- NIT 选择 $i=4,j=5$ 并将这两个位置取反。现在 \n`1` 的位置在 $2,3,8,9$。\n- TIN 选择 $i=2,j=9$ 并将这两个位置取反。现在 \n`1` 的位置在 $3,8$。\n- NIT 选择 $i=3,j=8$ 并将这两个位置取反。现在序列里没有 `1` 了。\n- TIN 无法操作，NIT 获胜。\n\n**数据范围**\n\n对于所有数据，$1\\le T\\le 10^4$，$1\\le n\\le 10^{18}$，$2\\le m\\le 2\\times 10^5$，$\\sum m\\le 10^6$。保证 $m$ 是偶数，保证为 `1` 的下标是递增顺序给出的。\n\n- 子任务 1（$1$ 分）$T\\le 10^3$，$n\\le 10$。\n- 子任务 2（$9$ 分）序列中全是 `1`。\n- 子任务 3（$40$ 分）$T\\le 100$，$n\\le 100$。\n- 子任务 4（$10$ 分）$\\sum n\\le 10^6$。\n- 子任务 5（$40$ 分）没有任何附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-07] Game Theory", "background": "", "description": "给出长度为 $n$ 的 `01` 序列 $a_{1\\sim n}$，**序列中有偶数个 `1`**。NIT 和 TIN 轮流做以下操作，NIT 先手：\n\n- 选择位置 $i\\ (1\\le i\\le n)$，满足区间 $[1,i]$ 中有奇数个 `1`。再选择位置 $j\\ (i<j\\le n)$。将 $a_i,a_j$ 都取反（即，`0` 变 `1`，`1` 变 `0`）\n\n当整个序列中的所有元素都变为 `0` 时，当前轮到的人就无法操作，他就输了。假设 NIT 和 TIN 都*绝顶*聪明，谁会赢？可以证明，游戏总会结束。\n\n$n$ 可能很大，但序列中 $1$ 的个数不超过 $2\\times 10^5$。", "inputFormat": "**本题有多组数据。**\n\n输入的第一行是数据组数 $T$。\n\n接下来是每组数据的描述。每组数据的第一行是两个正整数 $n,m$，$m$ 为序列中 `1` 的个数，保证 $m$ 是偶数。\n\n接下来一行 $m$ 个**递增**的正整数，描述这些 `1` 的下标，下标从 $1$ 开始。", "outputFormat": "对每组数据，输出一行一个字符串 `NIT` 或 `TIN`，表示赢家的名字。", "hint": "**样例解释**\n\n第一组数据中，NIT 选择 $i=1,j=3$ 就能把全部位置都变成 0，使得 TIN 无法操作。\n\n第二组数据中，无论 NIT 先手怎么操作，都会剩下恰好两个 1 的位置。TIN 只需要选择这两个剩下的位置，就可以把全部位置都变成 0。\n\n第三组数据中，一种可能的游戏进程如下（注意该进程里，每一步不一定是最优的）：\n\n- NIT 选择 $i=2,j=3$ 并将这两个位置取反。现在 \n`1` 的位置在 $1,2,7,8$。\n- TIN 选择 $i=7,j=9$ 并将这两个位置取反。现在 \n`1` 的位置在 $1,2,8,9$。\n- NIT 选择 $i=1,j=5$ 并将这两个位置取反。现在 \n`1` 的位置在 $2,5,8,9$。\n- TIN 选择 $i=3,j=4$ 并将这两个位置取反。现在 \n`1` 的位置在 $2,3,4,5,8,9$。\n- NIT 选择 $i=4,j=5$ 并将这两个位置取反。现在 \n`1` 的位置在 $2,3,8,9$。\n- TIN 选择 $i=2,j=9$ 并将这两个位置取反。现在 \n`1` 的位置在 $3,8$。\n- NIT 选择 $i=3,j=8$ 并将这两个位置取反。现在序列里没有 `1` 了。\n- TIN 无法操作，NIT 获胜。\n\n**数据范围**\n\n对于所有数据，$1\\le T\\le 10^4$，$1\\le n\\le 10^{18}$，$2\\le m\\le 2\\times 10^5$，$\\sum m\\le 10^6$。保证 $m$ 是偶数，保证为 `1` 的下标是递增顺序给出的。\n\n- 子任务 1（$1$ 分）$T\\le 10^3$，$n\\le 10$。\n- 子任务 2（$9$ 分）序列中全是 `1`。\n- 子任务 3（$40$ 分）$T\\le 100$，$n\\le 100$。\n- 子任务 4（$10$ 分）$\\sum n\\le 10^6$。\n- 子任务 5（$40$ 分）没有任何附加限制。", "locale": "zh-CN"}}}
{"pid": "P9004", "type": "P", "difficulty": 6, "samples": [["5 3 23333", "1 0 0\n2 0 0\n6 0 0\n24 17 0\n120 904 1226"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[RC-07] Abnormal Permutation Tuples", "background": "", "description": "给出三个正整数 $n,m$ 和 $mod$。\n\n有多少个 $1\\sim n$ 的排列构成的有序 $m$ 元组，$(p_1,p_2,\\dots,p_m)$，满足：\n\n- 字典序：$p_1\\lt p_2\\lt \\dots\\lt p_m$\n- 逆序对数：$p_1\\gt p_2\\gt \\dots\\gt p_m$\n\n设 $f(n,m)$ 为答案模 $mod$ 的值。对于所有 $1\\le i\\le n,1\\le j\\le m$，请你输出 $f(i,j)$。\n", "inputFormat": "输入包含一行三个正整数 $n,m,mod$。", "outputFormat": "输出一个 $n\\times m$ 的矩阵，第 $i$ 行第 $j$ 列为 $f(i,j)$。", "hint": "保证 $2\\le mod\\le 10^9$，$1\\le n\\le 15$，$1\\le m\\le 30$。**注意，$n,m$ 不会同时取到 $15$ 和 $30$。**\n\n$n,m$ 的范围如下：\n \n- 子任务 1（$20$ 分）$n=7$，$m=30$。\n- 子任务 2（$10$ 分）$n=10$，$m=10$。\n- 子任务 3（$20$ 分）$n=11$，$m=10$。\n- 子任务 4（$10$ 分）$n=12$，$m=8$。\n- 子任务 5（$20$ 分）$n=13$，$m=15$。\n- 子任务 6（$10$ 分）$n=14$，$m=30$。\n- 子任务 7（$10$ 分）$n=15$，$m=20$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-07] Abnormal Permutation Tuples", "background": "", "description": "给出三个正整数 $n,m$ 和 $mod$。\n\n有多少个 $1\\sim n$ 的排列构成的有序 $m$ 元组，$(p_1,p_2,\\dots,p_m)$，满足：\n\n- 字典序：$p_1\\lt p_2\\lt \\dots\\lt p_m$\n- 逆序对数：$p_1\\gt p_2\\gt \\dots\\gt p_m$\n\n设 $f(n,m)$ 为答案模 $mod$ 的值。对于所有 $1\\le i\\le n,1\\le j\\le m$，请你输出 $f(i,j)$。\n", "inputFormat": "输入包含一行三个正整数 $n,m,mod$。", "outputFormat": "输出一个 $n\\times m$ 的矩阵，第 $i$ 行第 $j$ 列为 $f(i,j)$。", "hint": "保证 $2\\le mod\\le 10^9$，$1\\le n\\le 15$，$1\\le m\\le 30$。**注意，$n,m$ 不会同时取到 $15$ 和 $30$。**\n\n$n,m$ 的范围如下：\n \n- 子任务 1（$20$ 分）$n=7$，$m=30$。\n- 子任务 2（$10$ 分）$n=10$，$m=10$。\n- 子任务 3（$20$ 分）$n=11$，$m=10$。\n- 子任务 4（$10$ 分）$n=12$，$m=8$。\n- 子任务 5（$20$ 分）$n=13$，$m=15$。\n- 子任务 6（$10$ 分）$n=14$，$m=30$。\n- 子任务 7（$10$ 分）$n=15$，$m=20$。", "locale": "zh-CN"}}}
{"pid": "P9005", "type": "P", "difficulty": 6, "samples": [["1\n5", "125"], ["5\n2 3 4 5 6", "676736091"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[RC-07] 超超立方体", "background": "", "description": "有一个 $n$ 维 $(a_1-1)\\times (a_2-1)\\times \\dots \\times (a_n-1)$ 超立方体。左下角坐标为 $(1,1,\\dots,1)$，右上角坐标为 $(a_1,a_2,\\dots,a_n)$。\n\n考虑一个无向图，有 $a_1\\times a_2\\times \\dots \\times a_n$ 个有标号的结点。结点的标号分别为 $(x_1,\\dots,x_n)\\ (1\\le x_i\\le a_i)$，每个节点对应超立方体内部或者边界上一个整点。对于一对图上的顶点 $(U,V)\\ (U=(x_1,\\dots,x_n),V=(y_1,\\dots,y_n))$，它们之间有边相连当且仅当 $UV$ 平行于超立方体的一条棱。换句话说，也就是 $\\sum_{1\\le i\\le n}[x_i=y_i]=n-1$。\n\n计算该图生成树个数对 $998244353$ 取模的结果。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来一行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。", "outputFormat": "输出答案对 $998244353$ 取模的结果。", "hint": "所有数据均满足：$1\\le n\\le 100$，$2\\le a_i\\le 5000$。\n\n- 子任务 $1$（$5$ 分）：$n=1$。\n- 子任务 $2$（$5$ 分）：$n\\le 3,\\prod a_i\\le 500$。\n- 子任务 $3$（$10$ 分）：$n=2$。\n- 子任务 $4$（$80$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-07] 超超立方体", "background": "", "description": "有一个 $n$ 维 $(a_1-1)\\times (a_2-1)\\times \\dots \\times (a_n-1)$ 超立方体。左下角坐标为 $(1,1,\\dots,1)$，右上角坐标为 $(a_1,a_2,\\dots,a_n)$。\n\n考虑一个无向图，有 $a_1\\times a_2\\times \\dots \\times a_n$ 个有标号的结点。结点的标号分别为 $(x_1,\\dots,x_n)\\ (1\\le x_i\\le a_i)$，每个节点对应超立方体内部或者边界上一个整点。对于一对图上的顶点 $(U,V)\\ (U=(x_1,\\dots,x_n),V=(y_1,\\dots,y_n))$，它们之间有边相连当且仅当 $UV$ 平行于超立方体的一条棱。换句话说，也就是 $\\sum_{1\\le i\\le n}[x_i=y_i]=n-1$。\n\n计算该图生成树个数对 $998244353$ 取模的结果。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来一行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。", "outputFormat": "输出答案对 $998244353$ 取模的结果。", "hint": "所有数据均满足：$1\\le n\\le 100$，$2\\le a_i\\le 5000$。\n\n- 子任务 $1$（$5$ 分）：$n=1$。\n- 子任务 $2$（$5$ 分）：$n\\le 3,\\prod a_i\\le 500$。\n- 子任务 $3$（$10$ 分）：$n=2$。\n- 子任务 $4$（$80$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9006", "type": "P", "difficulty": 3, "samples": [["3 10", "90 90 90 90 90 90 90 90 90 90\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "语言月赛"], "title": "[入门赛 #9] 神树大人挥动魔杖 (Hard Version)", "background": "**本题与 Easy Version 题意完全相同，仅有 $n,k$ 的数据范围有所不同。**", "description": "神树大人挥动魔杖，召唤出了 $9 \\times 10^{n-1}$ 只家养小精灵。每只家养小精灵都有一个互不相同的 $n$ 位数编号 $a_i$。\n\n神树大人希望将这些家养小精灵分为 $k$ 组。第 $p$ 组的所有家养小精灵满足编号 $a_i$ 对 $k$ 取模余 $p-1$，即 $a_i \\equiv p-1 \\pmod k$。\n\n神树大人想要知道，每一组小精灵分别有多少只。由于答案可能很大，你只需要输出答案对 $100,000,007$ 取模的结果", "inputFormat": "输入共一行两个整数，依次为 $n,k$。", "outputFormat": "输出一行 $k$ 个整数，由空格分隔。第 $i$ 个整数代表第 $i$ 组小精灵的个数。", "hint": "对于 $100\\%$ 的数据，$1 \\le n \\le 5000$，$1 \\le k \\le 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #9] 神树大人挥动魔杖 (Hard Version)", "background": "**本题与 Easy Version 题意完全相同，仅有 $n,k$ 的数据范围有所不同。**", "description": "神树大人挥动魔杖，召唤出了 $9 \\times 10^{n-1}$ 只家养小精灵。每只家养小精灵都有一个互不相同的 $n$ 位数编号 $a_i$。\n\n神树大人希望将这些家养小精灵分为 $k$ 组。第 $p$ 组的所有家养小精灵满足编号 $a_i$ 对 $k$ 取模余 $p-1$，即 $a_i \\equiv p-1 \\pmod k$。\n\n神树大人想要知道，每一组小精灵分别有多少只。由于答案可能很大，你只需要输出答案对 $100,000,007$ 取模的结果", "inputFormat": "输入共一行两个整数，依次为 $n,k$。", "outputFormat": "输出一行 $k$ 个整数，由空格分隔。第 $i$ 个整数代表第 $i$ 组小精灵的个数。", "hint": "对于 $100\\%$ 的数据，$1 \\le n \\le 5000$，$1 \\le k \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P9007", "type": "P", "difficulty": 5, "samples": [["3\n2\n3\n4", "1\n3\n6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2023", "数论", "O2优化", "素数判断,质数,筛法", "逆元", "语言月赛"], "title": "[入门赛 #9] 最澄澈的空与海 (Hard Version)", "background": "材料 1：\n\n> 请小心地计算下面的算式：$138 - 108 \\div 6 = ?$  \n> 你大概难以置信，这个算式的计算结果竟然是 $5!$\n\n材料 2：\n\n> 对于一个正整数 $x$，$x! = 1 \\times 2 \\times \\cdots \\times (x - 1) \\times x$。我们称 $x!$ 为 $x$ 的阶乘。  \n> 特别的，$0! = 1$。\n\n显然，「$138 - 108 \\div 6 = 5$」是错误的，而「$(138 - 108) \\div 6 = 5$」是正确的，所以对材料 1 中的内容，部分读者会认为「作者没有搞清加减乘除的运算优先级关系而犯错」。\n\n然而，材料 1 最后一行的叹号并不是标点符号，而是材料 2 提到的「阶乘」。\n\n考虑到这一点，「$138 - 108 \\div 6 = 5! = 1 \\times 2 \\times \\cdots \\times 5 = 120$」显然就是正确的了。", "description": "然而，此题可能与上面的题目背景关系不是很大。\n\n我们会给你 $T$ 组数据，每组数据包括一个正整数 $n$。\n\n对于每组数据，请你帮助求出满足以下条件的整数三元组 $(x, y, z)$ 的组数：\n\n1. $x \\geq 0$，$z \\geq 1$。\n2. $x - y \\div z = n!$ 且 $(x - y) \\div z = \\dfrac{n!}{n}$。\n\n由于答案可能过大，因此你需要输出答案对 $998244353$ 取模后的结果。\n\n不难注意到答案有可能为 $\\infty$，这时请按照「输出格式」要求进行处理。\n\n**请注意此处应满足 $(x - y) \\div z = \\dfrac{n!}{n}$ 而不是 $= n$。**\n\n请注意这里的 $\\div$ 不是向下取整的整除，这显然意味着你需要保证 $y \\div z$ 和 $(x - y) \\div z$ 为整数。", "inputFormat": "输入共 $T + 1$ 行。\n\n第一行为一个整数 $T$。\n\n接下来 $T$ 行，每行一个整数 $n$。", "outputFormat": "输出共 $T$ 行，每行一个整数或一个字符串。\n\n对第 $i$ 行，如果对于输入数据中第 $i + 1$ 行的 $n$，满足 $x - y \\div z = n!$ 且 $(x - y) \\div z = \\dfrac{n!}{n}$ 的整数三元组 $(x, y, z)$ 有无限个，则输出一行 `inf`，否则输出满足条件的三元组的数量对 $998244353$ 取模后的结果。", "hint": "### 样例 1 解释\n\n样例中的具体三元组如下：\n\n| $n$ | 所有可能的三元组 |\n| :----------: | :----------: |\n| $2$ | $(2, 0, 2)$ |\n| $3$ | $\\begin{matrix}(8, 4, 2) & (5, -5, 5) & (6, 0, 3)\\end{matrix}$ |\n| $4$ | $\\begin{matrix}(19, -95, 19) & (21, -21, 7) & (24, 0, 4) \\\\ (27, 9, 3) & (20, -40, 10) & (36, 24, 2)\\end{matrix}$ |\n\n### 数据规模与约定\n\n对于前 $20\\%$ 的数据，保证 $T \\leq 10$，$n \\leq 10$。\n\n对于前 $40\\%$ 的数据，保证 $n \\leq 10 ^ 3$。\n\n对于另外 $20\\%$ 的数据，保证 $T = 1$。\n\n对于 $100\\%$ 的数据，保证 $1 \\leq T \\leq 10 ^ 5$，$1 \\leq n \\leq 10 ^ 6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #9] 最澄澈的空与海 (Hard Version)", "background": "材料 1：\n\n> 请小心地计算下面的算式：$138 - 108 \\div 6 = ?$  \n> 你大概难以置信，这个算式的计算结果竟然是 $5!$\n\n材料 2：\n\n> 对于一个正整数 $x$，$x! = 1 \\times 2 \\times \\cdots \\times (x - 1) \\times x$。我们称 $x!$ 为 $x$ 的阶乘。  \n> 特别的，$0! = 1$。\n\n显然，「$138 - 108 \\div 6 = 5$」是错误的，而「$(138 - 108) \\div 6 = 5$」是正确的，所以对材料 1 中的内容，部分读者会认为「作者没有搞清加减乘除的运算优先级关系而犯错」。\n\n然而，材料 1 最后一行的叹号并不是标点符号，而是材料 2 提到的「阶乘」。\n\n考虑到这一点，「$138 - 108 \\div 6 = 5! = 1 \\times 2 \\times \\cdots \\times 5 = 120$」显然就是正确的了。", "description": "然而，此题可能与上面的题目背景关系不是很大。\n\n我们会给你 $T$ 组数据，每组数据包括一个正整数 $n$。\n\n对于每组数据，请你帮助求出满足以下条件的整数三元组 $(x, y, z)$ 的组数：\n\n1. $x \\geq 0$，$z \\geq 1$。\n2. $x - y \\div z = n!$ 且 $(x - y) \\div z = \\dfrac{n!}{n}$。\n\n由于答案可能过大，因此你需要输出答案对 $998244353$ 取模后的结果。\n\n不难注意到答案有可能为 $\\infty$，这时请按照「输出格式」要求进行处理。\n\n**请注意此处应满足 $(x - y) \\div z = \\dfrac{n!}{n}$ 而不是 $= n$。**\n\n请注意这里的 $\\div$ 不是向下取整的整除，这显然意味着你需要保证 $y \\div z$ 和 $(x - y) \\div z$ 为整数。", "inputFormat": "输入共 $T + 1$ 行。\n\n第一行为一个整数 $T$。\n\n接下来 $T$ 行，每行一个整数 $n$。", "outputFormat": "输出共 $T$ 行，每行一个整数或一个字符串。\n\n对第 $i$ 行，如果对于输入数据中第 $i + 1$ 行的 $n$，满足 $x - y \\div z = n!$ 且 $(x - y) \\div z = \\dfrac{n!}{n}$ 的整数三元组 $(x, y, z)$ 有无限个，则输出一行 `inf`，否则输出满足条件的三元组的数量对 $998244353$ 取模后的结果。", "hint": "### 样例 1 解释\n\n样例中的具体三元组如下：\n\n| $n$ | 所有可能的三元组 |\n| :----------: | :----------: |\n| $2$ | $(2, 0, 2)$ |\n| $3$ | $\\begin{matrix}(8, 4, 2) & (5, -5, 5) & (6, 0, 3)\\end{matrix}$ |\n| $4$ | $\\begin{matrix}(19, -95, 19) & (21, -21, 7) & (24, 0, 4) \\\\ (27, 9, 3) & (20, -40, 10) & (36, 24, 2)\\end{matrix}$ |\n\n### 数据规模与约定\n\n对于前 $20\\%$ 的数据，保证 $T \\leq 10$，$n \\leq 10$。\n\n对于前 $40\\%$ 的数据，保证 $n \\leq 10 ^ 3$。\n\n对于另外 $20\\%$ 的数据，保证 $T = 1$。\n\n对于 $100\\%$ 的数据，保证 $1 \\leq T \\leq 10 ^ 5$，$1 \\leq n \\leq 10 ^ 6$。", "locale": "zh-CN"}}}
{"pid": "P9008", "type": "P", "difficulty": 3, "samples": [["4 2 2\n1 2\n2 3\n1 4\n1 3", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "语言月赛"], "title": "[入门赛 #9] 大碗宽面 (Hard Version)", "background": "\n**本题与 Easy Version 题意完全相同，仅有 $n$ 的数据范围和空间限制不同**。\n\n扶苏和她的朋友们在 Impart 酒店开派对。", "description": "算上扶苏，本次派对共有 $n$ 个人。但是，并不是任何两个人都互相认识，并且互相认识的人关系也未必好。\n\n具体而言，任意两个人可能是如下三种关系之一：\n1. 敌人\n2. 朋友\n3. 陌生人\n\n派对的一大重要活动是相互握手。对任意两个人 $u,v$，他们之间的握手情况遵循下面的规则：\n1. 如果 $u$ 和 $v$ 是朋友关系，那么他们一定握手一次。\n2. 如果 $u$ 和 $v$ 是敌人关系，那么他们一定**不**握手。\n3. 如果 $u$ 和 $v$ 是陌生人关系，且存在一个人 $w$，使得 $w$ 是 $u$ 和 $v$ 之一的朋友，同时是 $u,v$ 中另一人的敌人，则 $u$ 和 $v$ **不会**握手，否则 $u$ 和 $v$ 一定握手一次。\n\n对第三条规则，简单的说法是：一对陌生人之间，如果某一方的朋友是另一方的敌人，则不握手，否则握手。\n\n已知共有 $p$ 对人是朋友关系，$q$ 对人是敌人关系。除了这 $p + q$ 对人，其他每对人均为陌生人关系。\n\n请你求出本次派对一共握手了多少次。", "inputFormat": "第一行是三个整数，依次表示参加派对的人数 $n$，朋友关系的条数 $p$ 和敌人关系的条数 $q$。  \n接下来 $p$ 行，每行两个整数 $u,v$，表示 $u$ 和 $v$ 是朋友关系。  \n接下来 $q$ 行，每行两个整数 $u, v$，表示 $u$ 和 $v$ 是敌人关系。", "outputFormat": "输出一行一个整数，表示本次派对的握手次数。", "hint": "### 样例 1 解释\n\n共有 $(1,2), (1,3), (1,4), (2,3), (2,4), (3,4)$ $6$ 对人。\n- $(1,2)$ 是朋友，握手。\n- $(1,3)$ 是敌人，不握手。\n- $(1,4)$ 是敌人，不握手。\n- $(2,3)$ 是朋友，握手。\n- $(2,4)$ 是陌生人，但是 $1$ 是 $2$ 的朋友，也是 $4$ 的敌人，所以不握手。\n- $(3,4)$ 是陌生人，但是不存在任何一个人既是 $3$ 和 $4$ 之一的敌人也是另一个人的朋友，故握手。\n\n综上，一共握手 $3$ 次。\n\n### 数据规模与约定\n\n以下设 $m = p + q$，即 $m$ 是朋友和敌人关系条数之和。\n\n- 对 $100\\%$ 的数据，保证 $2 \\leq n \\leq 10^6$，$1 \\leq u, v \\leq n$，$0 \\leq p,q \\leq m \\leq 10^3$，$u \\neq v$。同一对敌人或朋友关系不会出现两次，不会有一对人同时是敌人或朋友关系。\n\nBy 一扶苏一", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #9] 大碗宽面 (Hard Version)", "background": "\n**本题与 Easy Version 题意完全相同，仅有 $n$ 的数据范围和空间限制不同**。\n\n扶苏和她的朋友们在 Impart 酒店开派对。", "description": "算上扶苏，本次派对共有 $n$ 个人。但是，并不是任何两个人都互相认识，并且互相认识的人关系也未必好。\n\n具体而言，任意两个人可能是如下三种关系之一：\n1. 敌人\n2. 朋友\n3. 陌生人\n\n派对的一大重要活动是相互握手。对任意两个人 $u,v$，他们之间的握手情况遵循下面的规则：\n1. 如果 $u$ 和 $v$ 是朋友关系，那么他们一定握手一次。\n2. 如果 $u$ 和 $v$ 是敌人关系，那么他们一定**不**握手。\n3. 如果 $u$ 和 $v$ 是陌生人关系，且存在一个人 $w$，使得 $w$ 是 $u$ 和 $v$ 之一的朋友，同时是 $u,v$ 中另一人的敌人，则 $u$ 和 $v$ **不会**握手，否则 $u$ 和 $v$ 一定握手一次。\n\n对第三条规则，简单的说法是：一对陌生人之间，如果某一方的朋友是另一方的敌人，则不握手，否则握手。\n\n已知共有 $p$ 对人是朋友关系，$q$ 对人是敌人关系。除了这 $p + q$ 对人，其他每对人均为陌生人关系。\n\n请你求出本次派对一共握手了多少次。", "inputFormat": "第一行是三个整数，依次表示参加派对的人数 $n$，朋友关系的条数 $p$ 和敌人关系的条数 $q$。  \n接下来 $p$ 行，每行两个整数 $u,v$，表示 $u$ 和 $v$ 是朋友关系。  \n接下来 $q$ 行，每行两个整数 $u, v$，表示 $u$ 和 $v$ 是敌人关系。", "outputFormat": "输出一行一个整数，表示本次派对的握手次数。", "hint": "### 样例 1 解释\n\n共有 $(1,2), (1,3), (1,4), (2,3), (2,4), (3,4)$ $6$ 对人。\n- $(1,2)$ 是朋友，握手。\n- $(1,3)$ 是敌人，不握手。\n- $(1,4)$ 是敌人，不握手。\n- $(2,3)$ 是朋友，握手。\n- $(2,4)$ 是陌生人，但是 $1$ 是 $2$ 的朋友，也是 $4$ 的敌人，所以不握手。\n- $(3,4)$ 是陌生人，但是不存在任何一个人既是 $3$ 和 $4$ 之一的敌人也是另一个人的朋友，故握手。\n\n综上，一共握手 $3$ 次。\n\n### 数据规模与约定\n\n以下设 $m = p + q$，即 $m$ 是朋友和敌人关系条数之和。\n\n- 对 $100\\%$ 的数据，保证 $2 \\leq n \\leq 10^6$，$1 \\leq u, v \\leq n$，$0 \\leq p,q \\leq m \\leq 10^3$，$u \\neq v$。同一对敌人或朋友关系不会出现两次，不会有一对人同时是敌人或朋友关系。\n\nBy 一扶苏一", "locale": "zh-CN"}}}
{"pid": "P9009", "type": "P", "difficulty": 2, "samples": [["3\n1 2 3", "2"], ["2", "Yes"], ["4\n1 2 3 4", "3"]], "limits": {"time": [1000, 1000, 1000], "memory": [524288, 524288, 524288]}, "tags": ["2023", "提交答案", "Special Judge", "O2优化", "语言月赛"], "title": "[入门赛 #9] 牵连的世界 (Hard Version)", "background": "\n这是一道 **hack 题**。在此类型的题目中，你将得到若干个问题和若干个解决对应问题的代码，但是给出的代码不能对于某些输入给出正确的输出。不能给出正确的输出的情况包括：\n\n1. 输出错误的结果。\n2. 运行超时。\n3. 产生一些运行时未定义行为。目前技术可检测的未定义行为仅包括数组越界。\n\n对于每个问题，你需要提交一份符合要求的输入数据，使得给定的代码不能给出正确的输出。你可以直接使用『提交答案』功能，也可以提交一份以任何语言写成的数据生成器。\n\n---\n**提示：如果你使用提交答案功能，请在提交其他题目时记得将语言改回你所使用的语言**", "description": "以下给出三个问题的题目描述：\n\n#### 问题 1\n\n给出 $n$ 个整数，求其中奇数的个数。\n\n#### 问题 2\n\n判定 $p$ 是否为质数。\n\n#### 问题 3\n\n给出 $n$ 个整数，第 $i$ 个为 $a_i$。找到最大的数 $p$，使得满足 $a_i \\ge p$ 的 $i$ 个数不小于 $\\lfloor \\dfrac{n}{2} \\rfloor$。", "inputFormat": "#### 问题 1\n\n输入包含两行。  \n第一行是一个整数，表示数列长度 $n$。  \n第二行有 $n$ 个以单个空格隔开的整数，依次表示 $a_1, a_2, \\dots a_n$。\n\n#### 问题 2\n\n输入包含一行一个整数 $p$。\n\n#### 问题 3\n\n输入包含两行。  \n第一行是一个整数，表示数列长度 $n$。  \n第二行有 $n$ 个以单个空格隔开的整数，依次表示 $a_1, a_2, \\dots a_n$。", "outputFormat": "#### 问题 1\n\n输出一行一个整数表示答案。\n\n#### 问题 2\n\n输出一行，若 $p$ 为质数，输出 `Yes`；否则输出 `No`。\n\n#### 问题 3\n\n输出一行一个整数表示答案。", "hint": "### 样例组与实际输入的说明\n\n三个样例分别对应三个问题的样例输入输出。\n\n如果你直接采用『提交答案』的方式，请分别将三个输入数据命名为 `1.in`、`2.in`、`3.in`，并打成 zip 压缩包进行提交；\n\n如果你采用提交数据生成器的方式，你的生成器可以从标准输入读入一个整数 $x$，满足 $1 \\leq x \\leq 3$，表示该测试点对应的问题编号，然后**输出对应的输入数据**。\n\n显然，你的程序不应该读入『输入格式』里提到的任何内容（而应该构造它们），也不应该输出『样例输出』里提到的任何内容（而是只输出你构造的输入数据）。你不应该使用样例测试你的程序，这只是对三个问题的样例说明。\n\n### 数据规模要求\n\n你给出的数据必须满足如下要求：\n\n1. 完全符合『输入格式』的规定，不能有多余的输入，但是可以有行末空格和文末回车。\n2. 数据中所有的数字都应为整数。\n3. 对于问题 1，$1 \\leq n \\leq 1000, -2 \\times 10^9 \\le a_i \\le 2 \\times 10^9$。\n4. 对于问题 2，$1 \\le p \\le 10^{12}$。\n5. 对于问题 3，$2 \\leq n \\leq 100$，$1 \\leq a_i \\leq 2 \\times 10^9$。\n\n### 目标代码\n\n你需要 hack 如下的代码：\n\n#### 问题 1\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n, ans = 0;\n  cin >> n;\n  for(int i = 1, x; i <= n; i++) {\n    cin >> x;\n    if(x % 2 == 1) ++ans;\n  }\n  cout << ans << endl;\n}\n```\n\n#### 问题 2\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nbool isprime(long long x) {\n    if(x == 1) return false;\n    for(int i = 2; i * i <= x; i++) {\n        if(x % i == 0) return false;\n    }\n    return true;\n}\n\nint main() {\n    long long p;\n    cin >> p;\n    if(isprime(p)) cout << \"Yes\" << endl;\n    else cout << \"No\";\n    return 0;\n}\n```\n\n#### 问题 3\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 1000 + 7;\n\nint n, a[MAXN];\n\nbool check(int x) {\n    int tot = 0;\n    for(int i = 1; i <= n; i++) {\n        if(a[i] >= x) ++tot;\n    }\n    return (tot >= (n / 2));\n}\n\nint main() {\n    cin >> n;\n    for(int i = 1; i <= n; i++) cin >> a[i];\n    int L = 1, R = 2000000000, ans;\n    while(L <= R) {\n        int mid = (L + R) / 2;\n        if(check(mid)) ans = mid, L = mid + 1;\n        else R = mid - 1;\n    }\n    cout << ans << endl;\n    return 0;\n}\n```\n\n目标代码的编译选项为 `-std=c++14 -fno-asm -O2`。编译器为洛谷提供的 g++。你可以在『在线 IDE』中选择 C++14 语言来获得完全相同的编译环境。\n\n### 判分说明\n\n本题共三个测试点，分别对应三个问题，测试点分值依次为 $30$分、$30$ 分、$40$ 分。\n\n#### 数据判定\n\n你给出的数据必须完全符合『数据规模要求』，否则将得到 Unaccepted 的结果。\n\n#### 超时判定\n\n程序每执行若干条指令，我们会检测一遍程序的运行时间。我们保证两次检测之间的指令条数是一个输入规模无关的量，也即每执行 $O(1)$ 条指令会进行一次检测。且两次检测之间的指令条数不会太多，一般不超过 $100$ 条 C++ 语句。\n\n如果程序的运行时间超过 $500 \\text{ms}$，则判定为程序运行超时，返回 accepted 结果。\n\n#### 结果错误判定\n\n如果程序在规定的时间内结束且给出了一个输出，我们会比较这个输出和**完全正确的输出**，如果二者不同，则判定为 hack 成功，返回 accepted 结果。\n\n#### 未定义行为判定\n\n我们会在每次**显式**的调用数组元素前判断数组下标是否超过数组范围，如果超过，则判定为 hack 成功，返回 accepted 结果。\n\n这就是说，如果你希望通过未定义行为进行 hack，只能对显式的调用数组元素的行为进行 hack。\n\n### 样例程序\n\n这是一份可以帮你理解你需要输出的内容的样例程序，**但它不能给出正确的 hack 数据**。直接提交此程序不会得分。\n\n```cpp\n#include <iostream>\n\nusing namespace std;\n\nint main() {\n  int taskId;\n  cin >> taskId;\n  if (taskId == 1) {\n    cout << \"\" <<endl;\n  } else if (taskId == 2) {\n    cout << \"\" << endl;\n  } else if (taskId == 3) {\n    cout << \"\" << endl;\n  } else { // 这个 else 不会被执行\n    cout << \"QiHai Nanami\" << endl;\n  }\n}\n```\n\n如果你使用『提交答案』功能，请务必保证打开压缩包后能且仅能**直接**看到三个 `.in` 文件。这就是说，文件结构必须是：\n\n```plain\nans.zip\n |---1.in\n |---2.in\n |---3.in\n```\n\n三个文件不应该被额外的文件夹包含，即文件结构不能是：\n\n```plain\nans.zip\n |---ans(folder)\n      |---1.in\n      |---2.in\n      |---3.in\n```\n\n### 关于评测信息的说明\n\n如果 hack 成功，对应测试点的信息为 accepted。如果返回其他信息，说明程序本身有误。\n\n例如，如果返回 TLE，不代表成功的将对应程序 hack 至超时，而是表示数据生成器本身运行超时，测试点不得分。\n\n特别的，返回 UKE 结果可能是数据不合法（有多余内容、缺少内容或数据范围不符合要求）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #9] 牵连的世界 (Hard Version)", "background": "\n这是一道 **hack 题**。在此类型的题目中，你将得到若干个问题和若干个解决对应问题的代码，但是给出的代码不能对于某些输入给出正确的输出。不能给出正确的输出的情况包括：\n\n1. 输出错误的结果。\n2. 运行超时。\n3. 产生一些运行时未定义行为。目前技术可检测的未定义行为仅包括数组越界。\n\n对于每个问题，你需要提交一份符合要求的输入数据，使得给定的代码不能给出正确的输出。你可以直接使用『提交答案』功能，也可以提交一份以任何语言写成的数据生成器。\n\n---\n**提示：如果你使用提交答案功能，请在提交其他题目时记得将语言改回你所使用的语言**", "description": "以下给出三个问题的题目描述：\n\n#### 问题 1\n\n给出 $n$ 个整数，求其中奇数的个数。\n\n#### 问题 2\n\n判定 $p$ 是否为质数。\n\n#### 问题 3\n\n给出 $n$ 个整数，第 $i$ 个为 $a_i$。找到最大的数 $p$，使得满足 $a_i \\ge p$ 的 $i$ 个数不小于 $\\lfloor \\dfrac{n}{2} \\rfloor$。", "inputFormat": "#### 问题 1\n\n输入包含两行。  \n第一行是一个整数，表示数列长度 $n$。  \n第二行有 $n$ 个以单个空格隔开的整数，依次表示 $a_1, a_2, \\dots a_n$。\n\n#### 问题 2\n\n输入包含一行一个整数 $p$。\n\n#### 问题 3\n\n输入包含两行。  \n第一行是一个整数，表示数列长度 $n$。  \n第二行有 $n$ 个以单个空格隔开的整数，依次表示 $a_1, a_2, \\dots a_n$。", "outputFormat": "#### 问题 1\n\n输出一行一个整数表示答案。\n\n#### 问题 2\n\n输出一行，若 $p$ 为质数，输出 `Yes`；否则输出 `No`。\n\n#### 问题 3\n\n输出一行一个整数表示答案。", "hint": "### 样例组与实际输入的说明\n\n三个样例分别对应三个问题的样例输入输出。\n\n如果你直接采用『提交答案』的方式，请分别将三个输入数据命名为 `1.in`、`2.in`、`3.in`，并打成 zip 压缩包进行提交；\n\n如果你采用提交数据生成器的方式，你的生成器可以从标准输入读入一个整数 $x$，满足 $1 \\leq x \\leq 3$，表示该测试点对应的问题编号，然后**输出对应的输入数据**。\n\n显然，你的程序不应该读入『输入格式』里提到的任何内容（而应该构造它们），也不应该输出『样例输出』里提到的任何内容（而是只输出你构造的输入数据）。你不应该使用样例测试你的程序，这只是对三个问题的样例说明。\n\n### 数据规模要求\n\n你给出的数据必须满足如下要求：\n\n1. 完全符合『输入格式』的规定，不能有多余的输入，但是可以有行末空格和文末回车。\n2. 数据中所有的数字都应为整数。\n3. 对于问题 1，$1 \\leq n \\leq 1000, -2 \\times 10^9 \\le a_i \\le 2 \\times 10^9$。\n4. 对于问题 2，$1 \\le p \\le 10^{12}$。\n5. 对于问题 3，$2 \\leq n \\leq 100$，$1 \\leq a_i \\leq 2 \\times 10^9$。\n\n### 目标代码\n\n你需要 hack 如下的代码：\n\n#### 问题 1\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n, ans = 0;\n  cin >> n;\n  for(int i = 1, x; i <= n; i++) {\n    cin >> x;\n    if(x % 2 == 1) ++ans;\n  }\n  cout << ans << endl;\n}\n```\n\n#### 问题 2\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nbool isprime(long long x) {\n    if(x == 1) return false;\n    for(int i = 2; i * i <= x; i++) {\n        if(x % i == 0) return false;\n    }\n    return true;\n}\n\nint main() {\n    long long p;\n    cin >> p;\n    if(isprime(p)) cout << \"Yes\" << endl;\n    else cout << \"No\";\n    return 0;\n}\n```\n\n#### 问题 3\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 1000 + 7;\n\nint n, a[MAXN];\n\nbool check(int x) {\n    int tot = 0;\n    for(int i = 1; i <= n; i++) {\n        if(a[i] >= x) ++tot;\n    }\n    return (tot >= (n / 2));\n}\n\nint main() {\n    cin >> n;\n    for(int i = 1; i <= n; i++) cin >> a[i];\n    int L = 1, R = 2000000000, ans;\n    while(L <= R) {\n        int mid = (L + R) / 2;\n        if(check(mid)) ans = mid, L = mid + 1;\n        else R = mid - 1;\n    }\n    cout << ans << endl;\n    return 0;\n}\n```\n\n目标代码的编译选项为 `-std=c++14 -fno-asm -O2`。编译器为洛谷提供的 g++。你可以在『在线 IDE』中选择 C++14 语言来获得完全相同的编译环境。\n\n### 判分说明\n\n本题共三个测试点，分别对应三个问题，测试点分值依次为 $30$分、$30$ 分、$40$ 分。\n\n#### 数据判定\n\n你给出的数据必须完全符合『数据规模要求』，否则将得到 Unaccepted 的结果。\n\n#### 超时判定\n\n程序每执行若干条指令，我们会检测一遍程序的运行时间。我们保证两次检测之间的指令条数是一个输入规模无关的量，也即每执行 $O(1)$ 条指令会进行一次检测。且两次检测之间的指令条数不会太多，一般不超过 $100$ 条 C++ 语句。\n\n如果程序的运行时间超过 $500 \\text{ms}$，则判定为程序运行超时，返回 accepted 结果。\n\n#### 结果错误判定\n\n如果程序在规定的时间内结束且给出了一个输出，我们会比较这个输出和**完全正确的输出**，如果二者不同，则判定为 hack 成功，返回 accepted 结果。\n\n#### 未定义行为判定\n\n我们会在每次**显式**的调用数组元素前判断数组下标是否超过数组范围，如果超过，则判定为 hack 成功，返回 accepted 结果。\n\n这就是说，如果你希望通过未定义行为进行 hack，只能对显式的调用数组元素的行为进行 hack。\n\n### 样例程序\n\n这是一份可以帮你理解你需要输出的内容的样例程序，**但它不能给出正确的 hack 数据**。直接提交此程序不会得分。\n\n```cpp\n#include <iostream>\n\nusing namespace std;\n\nint main() {\n  int taskId;\n  cin >> taskId;\n  if (taskId == 1) {\n    cout << \"\" <<endl;\n  } else if (taskId == 2) {\n    cout << \"\" << endl;\n  } else if (taskId == 3) {\n    cout << \"\" << endl;\n  } else { // 这个 else 不会被执行\n    cout << \"QiHai Nanami\" << endl;\n  }\n}\n```\n\n如果你使用『提交答案』功能，请务必保证打开压缩包后能且仅能**直接**看到三个 `.in` 文件。这就是说，文件结构必须是：\n\n```plain\nans.zip\n |---1.in\n |---2.in\n |---3.in\n```\n\n三个文件不应该被额外的文件夹包含，即文件结构不能是：\n\n```plain\nans.zip\n |---ans(folder)\n      |---1.in\n      |---2.in\n      |---3.in\n```\n\n### 关于评测信息的说明\n\n如果 hack 成功，对应测试点的信息为 accepted。如果返回其他信息，说明程序本身有误。\n\n例如，如果返回 TLE，不代表成功的将对应程序 hack 至超时，而是表示数据生成器本身运行超时，测试点不得分。\n\n特别的，返回 UKE 结果可能是数据不合法（有多余内容、缺少内容或数据范围不符合要求）。", "locale": "zh-CN"}}}
{"pid": "P9010", "type": "P", "difficulty": 2, "samples": [["4\nGHHG\n2 4 3 4", "1"], ["3\nGGH\n2 3 3", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "USACO", "2023"], "title": "[USACO23JAN] Leaders B", "background": "", "description": "Farmer John has $N$ cows $(2 \\le N \\le 10^5)$. Each cow has a breed that is either Guernsey or Holstein. As is often the case, the cows are standing in a line, numbered $1 \\cdots N$ in this order.\n\nOver the course of the day, each cow writes down a list of cows. Specifically, cow $i$\n's list contains the range of cows starting with herself (cow $i$) up to and including cow $E_i(i \\le E_i \\le N)$.\n\nFJ has recently discovered that each breed of cow has exactly one distinct leader. FJ does not know who the leaders are, but he knows that each leader must have a list that includes all the cows of their breed, or the other breed's leader (or both).\n\nHelp FJ count the number of pairs of cows that could be leaders. It is guaranteed that there is at least one possible pair. ", "inputFormat": "The first line contains $N$.\n\nThe second line contains a string of length $N$\n, with the ith character denoting the breed of the $i$-th cow (G meaning Guernsey and H meaning Holstein). It is guaranteed that there is at least one Guernsey and one Holstein.\n\nThe third line contains $E_1 \\cdots E_N$. ", "outputFormat": "Output the number of possible pairs of leaders. ", "hint": "### Explanation for Sample 1\n\nThe only valid leader pair is $(1,2)$. Cow $1$'s list contains the other breed's leader (cow $2$). Cow $2$'s list contains all cows of her breed (Holstein).\n\nNo other pairs are valid. For example, $(2,4)$\nis invalid since cow $4$'s list does not contain the other breed's leader, and it also does not contain all cows of her breed.\n\n### Explanation for Sample 2\n\nThere are two valid leader pairs, $(1,3)$ and $(2,3)$.\n\n### Scoring\n\n - Inputs $3-5$: $N \\le 100$  \n - Inputs $6-10$: $N \\le 3000$\n - Inputs $11-17$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Leaders B", "background": "", "description": "Farmer John has $N$ cows $(2 \\le N \\le 10^5)$. Each cow has a breed that is either Guernsey or Holstein. As is often the case, the cows are standing in a line, numbered $1 \\cdots N$ in this order.\n\nOver the course of the day, each cow writes down a list of cows. Specifically, cow $i$\n's list contains the range of cows starting with herself (cow $i$) up to and including cow $E_i(i \\le E_i \\le N)$.\n\nFJ has recently discovered that each breed of cow has exactly one distinct leader. FJ does not know who the leaders are, but he knows that each leader must have a list that includes all the cows of their breed, or the other breed's leader (or both).\n\nHelp FJ count the number of pairs of cows that could be leaders. It is guaranteed that there is at least one possible pair. ", "inputFormat": "The first line contains $N$.\n\nThe second line contains a string of length $N$\n, with the ith character denoting the breed of the $i$-th cow (G meaning Guernsey and H meaning Holstein). It is guaranteed that there is at least one Guernsey and one Holstein.\n\nThe third line contains $E_1 \\cdots E_N$. ", "outputFormat": "Output the number of possible pairs of leaders. ", "hint": "### Explanation for Sample 1\n\nThe only valid leader pair is $(1,2)$. Cow $1$'s list contains the other breed's leader (cow $2$). Cow $2$'s list contains all cows of her breed (Holstein).\n\nNo other pairs are valid. For example, $(2,4)$\nis invalid since cow $4$'s list does not contain the other breed's leader, and it also does not contain all cows of her breed.\n\n### Explanation for Sample 2\n\nThere are two valid leader pairs, $(1,3)$ and $(2,3)$.\n\n### Scoring\n\n - Inputs $3-5$: $N \\le 100$  \n - Inputs $6-10$: $N \\le 3000$\n - Inputs $11-17$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Leaders B", "background": "", "description": "农夫约翰有 $N$ 头牛 $(2 \\le N \\le 10^5)$。每头牛的品种要么是 Guernsey，要么是 Holstein。通常情况下，牛站成一排，按顺序编号为 $1 \\cdots N$。\n\n在一天的过程中，每头牛都会写下一个牛的列表。具体来说，第 $i$ 头牛的列表包含从她自己（第 $i$ 头牛）开始到包括第 $E_i(i \\le E_i \\le N)$ 头牛的范围。\n\nFJ 最近发现，每种牛的品种都有一个独特的领导者。FJ 不知道领导者是谁，但他知道每个领导者的列表必须包括其品种的所有牛，或者其他品种的领导者（或两者）。\n\n帮助 FJ 计算可能成为领导者的牛对数。保证至少有一对可能的领导者。", "inputFormat": "第一行包含 $N$。\n\n第二行包含一个长度为 $N$ 的字符串，其中第 $i$ 个字符表示第 $i$ 头牛的品种（G 表示 Guernsey，H 表示 Holstein）。保证至少有一个 Guernsey 和一个 Holstein。\n\n第三行包含 $E_1 \\cdots E_N$。", "outputFormat": "输出可能的领导者对数。", "hint": "### 样例 1 的解释\n\n唯一有效的领导者对是 $(1,2)$。第 1 头牛的列表包含其他品种的领导者（第 2 头牛）。第 2 头牛的列表包含她品种的所有牛（Holstein）。\n\n没有其他对是有效的。例如，$(2,4)$ 是无效的，因为第 4 头牛的列表不包含其他品种的领导者，也不包含她品种的所有牛。\n\n### 样例 2 的解释\n\n有两个有效的领导者对，$(1,3)$ 和 $(2,3)$。\n\n### 评分\n\n- 输入 $3-5$：$N \\le 100$\n- 输入 $6-10$：$N \\le 3000$\n- 输入 $11-17$：没有额外的限制。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9011", "type": "P", "difficulty": 2, "samples": [["2 4\n1 5 2\n7 9 3\n2 9 2 3\n1 6 2 8\n1 2 4 2\n6 9 1 5", "10"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "深度优先搜索 DFS", "差分"], "title": "[USACO23JAN] Air Cownditioning II B", "background": "", "description": "With the hottest recorded summer ever at Farmer John's farm, he needs a way to cool down his cows. Thus, he decides to invest in some air conditioners.\n\nFarmer John's $N$ cows $(1 \\le N \\le 20)$ live in a barn that contains a sequence of stalls in a row, numbered $1 \\cdots 100$. Cow $i$ occupies a range of these stalls, starting from stall $s_i$ and ending with stall $t_i$. The ranges of stalls occupied by different cows are all disjoint from each-other. Cows have different cooling requirements. Cow $i$ must be cooled by an amount $c_i$, meaning every stall occupied by cow $i$ must have its temperature reduced by at least $c_i$ units.\n\nThe barn contains $M$ air conditioners, labeled $1 \\cdots M (1 \\le M \\le 10)$. The $i$-th air conditioner costs $m_i$ units of money to operate $(1 \\le m_i \\le 1000)$ and cools the range of stalls starting from stall $a_i$ and ending with stall $b_i$. If running, the $i$-th air conditioner reduces the temperature of all the stalls in this range by $p_i (1 \\le p_i \\le 10^6)$. Ranges of stalls covered by air conditioners may potentially overlap.\n\nRunning a farm is no easy business, so FJ has a tight budget. Please determine the minimum amount of money he needs to spend to keep all of his cows comfortable. It is guaranteed that if FJ uses all of his conditioners, then all cows will be comfortable. ", "inputFormat": "The first line of input contains $N$ and $M$.\n\nThe next $N$ lines describe cows. The ith of these lines contains $s_i, t_i$, and $c_i$.\n\nThe next $M$ lines describe air conditioners. The ith of these lines contains $a_i, b_i, p_i$, and $m_i$.\n\nFor every input other than the sample, you can assume that $M=10$. ", "outputFormat": "Output a single integer telling the minimum amount of money FJ needs to spend to operate enough air conditioners to satisfy all his cows (with the conditions listed above). ", "hint": "### Explanation for Sample 1\n\nOne possible solution that results in the least amount of money spent is to select those that cool the intervals $[2,9], [1,2]$, and $[6,9]$, for a cost of $3+2+5=10$. ", "locale": "en", "translations": {"en": {"title": "[USACO23JAN] Air Cownditioning II B", "background": "", "description": "With the hottest recorded summer ever at Farmer John's farm, he needs a way to cool down his cows. Thus, he decides to invest in some air conditioners.\n\nFarmer John's $N$ cows $(1 \\le N \\le 20)$ live in a barn that contains a sequence of stalls in a row, numbered $1 \\cdots 100$. Cow $i$ occupies a range of these stalls, starting from stall $s_i$ and ending with stall $t_i$. The ranges of stalls occupied by different cows are all disjoint from each-other. Cows have different cooling requirements. Cow $i$ must be cooled by an amount $c_i$, meaning every stall occupied by cow $i$ must have its temperature reduced by at least $c_i$ units.\n\nThe barn contains $M$ air conditioners, labeled $1 \\cdots M (1 \\le M \\le 10)$. The $i$-th air conditioner costs $m_i$ units of money to operate $(1 \\le m_i \\le 1000)$ and cools the range of stalls starting from stall $a_i$ and ending with stall $b_i$. If running, the $i$-th air conditioner reduces the temperature of all the stalls in this range by $p_i (1 \\le p_i \\le 10^6)$. Ranges of stalls covered by air conditioners may potentially overlap.\n\nRunning a farm is no easy business, so FJ has a tight budget. Please determine the minimum amount of money he needs to spend to keep all of his cows comfortable. It is guaranteed that if FJ uses all of his conditioners, then all cows will be comfortable. ", "inputFormat": "The first line of input contains $N$ and $M$.\n\nThe next $N$ lines describe cows. The ith of these lines contains $s_i, t_i$, and $c_i$.\n\nThe next $M$ lines describe air conditioners. The ith of these lines contains $a_i, b_i, p_i$, and $m_i$.\n\nFor every input other than the sample, you can assume that $M=10$. ", "outputFormat": "Output a single integer telling the minimum amount of money FJ needs to spend to operate enough air conditioners to satisfy all his cows (with the conditions listed above). ", "hint": "### Explanation for Sample 1\n\nOne possible solution that results in the least amount of money spent is to select those that cool the intervals $[2,9], [1,2]$, and $[6,9]$, for a cost of $3+2+5=10$. ", "locale": "en"}, "zh-CN": {"title": "[USACO23JAN] Air Cownditioning II B", "background": "", "description": "农夫约翰的 $N$ 头奶牛 $(1≤N≤20)$ 住在一个谷仓里，谷仓里有连续的牛栏，编号为 $1-100$ 。 奶牛 $i$ 占据了编号 $[s_i,t_i]$ 的牛栏。 不同奶牛占据的牛栏范围是互不相交的。 奶牛有不同的冷却要求，奶牛 $i$ 占用的每个牛栏的温度必须至少降低 $c_i$ 单位。\n\n谷仓包含 $M$ 台空调，标记为 $1-M$ $(1\\le M\\le10)$。第 $i$ 台空调需要花费 $m_i$ 单位的金钱来运行 $(1\\le m_i \\le 1000)$ ，如果运行，第 $i$ 台空调将牛栏 $[a_i,b_i]$ 所有牛栏的温度降低 $p_i$（$1\\le p_i\\le10^6）$。 空调覆盖的牛栏范围可能会重叠。\n\n请帮助农夫约翰求出满足所有奶牛需求要花费的最少金钱。", "inputFormat": "第一行两个整数，分别为 $N$ 和 $M$。\n\n第 $2$ 至 $(N+1)$ 行，每行三个整数，分别为 $s_i$、$t_i$ 和 $c_i$ 。\n\n第 $(N+2)$ 至 $(M+N+1)$ 行，每行四个整数， 分别为 $a_i$、$b_i$、$p_i$ 和 $m_i$。", "outputFormat": "一个整数，表示最少花费的金钱。", "hint": "### 样例解释 1\n\n一种花费最少的可能解决方案是选择那些冷却区间为 $[2,9]$ 、$[1,2]$ 和 $[6,9]$ 的空调，成本为 $ 3+2+5=10$ .\n\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 20$， $1 \\le M \\le 10$, $ 1 \\le a_i, b_i, s_i, t_i \\le 100$, $1 \\le c_i, p_i \\le 10^6$， $1 \\le m_i \\le 1000$。", "locale": "zh-CN"}}}
