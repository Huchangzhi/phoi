{"pid": "P1824", "type": "P", "difficulty": 2, "samples": [["5 3\n1\n2\n8\n4\n9", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2005", "二分", "USACO"], "title": "[USACO05FEB] 进击的奶牛 Aggressive Cows G", "background": null, "description": "农夫约翰建造了一座有 $n$ 间牛舍的小屋，牛舍排在一条直线上，第 $i$ 间牛舍在 $x_i$ 的位置，但是约翰的 $m$ 头牛对小屋很不满意，因此经常互相攻击。约翰为了防止牛之间互相伤害，因此决定把每头牛都放在离其它牛尽可能远的牛舍。也就是要最大化最近的两头牛之间的距离。\n\n牛们并不喜欢这种布局，而且几头牛放在一个隔间里，它们就要发生争斗。为了不让牛互相伤害。约翰决定自己给牛分配隔间，使任意两头牛之间的最小距离尽可能的大，那么，这个最大的最小距离是多少呢？", "inputFormat": "第一行用空格分隔的两个整数 $n$ 和 $m$；\n\n下面 $n$ 行为 $n$ 个用空格隔开的整数，表示位置 $x_i$。", "outputFormat": "一行一个整数，表示最大的最小距离值。", "hint": "【样例解析】把牛放在 $1$，$4$，$8$ 这三个位置，距离是 $3$。容易证明最小距离已经最大。\n\n【数据范围】对于 $100\\%$ 的数据，$2 \\le n \\le 10^5$，$0 \\le x_i \\le 10^9$，$2 \\le m \\le n$。不保证 $x$ 数组单调递增。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Aggressive Cows G", "background": "", "description": "Farmer John built a barn with $n$ stalls arranged on a straight line; the $i$-th stall is at position $x_i$. His $m$ cows are unhappy and often fight, so he wants to place them so that each cow is as far as possible from the others. In other words, he wants to maximize the minimum distance between any two cows.\n\nCows do not like this layout, and if multiple cows share a stall, they will fight. To prevent conflicts, each stall can hold at most one cow. Determine the largest possible value of the minimum distance between any two cows.", "inputFormat": "The first line contains two integers $n$ and $m$.\n\nThe next $n$ lines each contain one integer $x_i$, representing the position of a stall.", "outputFormat": "Output a single integer: the maximum possible minimum distance.", "hint": "Sample Explanation: Place the cows at positions $1$, $4$, and $8$; the minimum distance is $3$. It is easy to prove that this minimum distance is already maximized.\n\nConstraints: For $100\\%$ of the testdata, $2 \\le n \\le 10^5$, $0 \\le x_i \\le 10^9$, $2 \\le m \\le n$. The array $x$ is not guaranteed to be in nondecreasing order.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] 进击的奶牛 Aggressive Cows G", "background": null, "description": "农夫约翰建造了一座有 $n$ 间牛舍的小屋，牛舍排在一条直线上，第 $i$ 间牛舍在 $x_i$ 的位置，但是约翰的 $m$ 头牛对小屋很不满意，因此经常互相攻击。约翰为了防止牛之间互相伤害，因此决定把每头牛都放在离其它牛尽可能远的牛舍。也就是要最大化最近的两头牛之间的距离。\n\n牛们并不喜欢这种布局，而且几头牛放在一个隔间里，它们就要发生争斗。为了不让牛互相伤害。约翰决定自己给牛分配隔间，使任意两头牛之间的最小距离尽可能的大，那么，这个最大的最小距离是多少呢？", "inputFormat": "第一行用空格分隔的两个整数 $n$ 和 $m$；\n\n下面 $n$ 行为 $n$ 个用空格隔开的整数，表示位置 $x_i$。", "outputFormat": "一行一个整数，表示最大的最小距离值。", "hint": "【样例解析】把牛放在 $1$，$4$，$8$ 这三个位置，距离是 $3$。容易证明最小距离已经最大。\n\n【数据范围】对于 $100\\%$ 的数据，$2 \\le n \\le 10^5$，$0 \\le x_i \\le 10^9$，$2 \\le m \\le n$。不保证 $x$ 数组单调递增。", "locale": "zh-CN"}}}
{"pid": "P1825", "type": "P", "difficulty": 3, "samples": [["5 6\n###=##\n#.W.##\n#.####\n#.@W##\n######\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "2011", "USACO", "广度优先搜索 BFS", "最短路"], "title": "[USACO11OPEN] Corn Maze S", "background": null, "description": "This past fall, Farmer John took the cows to visit a corn maze. But this wasn't just any corn maze: it featured several gravity-powered teleporter slides, which cause cows to teleport instantly from one point in the maze to another. The slides work in both directions: a cow can slide from the slide's start to the end instantly, or from the end to the start. If a cow steps on a space that hosts either end of a slide, she must use the slide.\n\nThe outside of the corn maze is entirely corn except for a single exit.\n\nThe maze can be represented by an N x M (2 <= N <= 300; 2 <= M <= 300) grid. Each grid element contains one of these items:\n\n\\* Corn (corn grid elements are impassable) \n\n\\* Grass (easy to pass through!) \n\n\\* A slide endpoint (which will transport a cow to the other endpoint) \n\n\\* The exit\n\nA cow can only move from one space to the next if they are adjacent and neither contains corn. Each grassy space has four potential neighbors to which a cow can travel. It takes 1 unit of time to move from a grassy space to an adjacent space; it takes 0 units of time to move from one slide endpoint to the other.\n\nCorn-filled spaces are denoted with an octothorpe (#). Grassy spaces are denoted with a period (.). Pairs of slide endpoints are denoted with the same uppercase letter (A-Z), and no two different slides have endpoints denoted with the same letter. The exit is denoted with the equals sign (=).\n\nBessie got lost. She knows where she is on the grid, and marked her current grassy space with the 'at' symbol (@). What is the minimum time she needs to move to the exit space?", "inputFormat": "Line 1: Two space separated integers: N and M\n\nLines 2..N+1: Line i+1 describes row i of the maze: M characters (no spaces)", "outputFormat": "Line 1: An integer, corresponding to the shortest time that Bessie needs to exit the maze.", "hint": "Sample Explanation:\n\n```plain\n###=##\n#.W.##\n#.####\n#.@W##\n######\n```\n\nThe endpoints of the only slide are marked with capital letters W.\n\nThe optimal strategy (which takes 3 units of time) is to: Move right to the slide endpoint using 1 unit of time, transport to the other endpoint using 0 units of time, move right using 1 unit of time, and move up to the exit using 1 unit of time.", "locale": "en", "translations": {"en": {"title": "[USACO11OPEN] Corn Maze S", "background": null, "description": "This past fall, Farmer John took the cows to visit a corn maze. But this wasn't just any corn maze: it featured several gravity-powered teleporter slides, which cause cows to teleport instantly from one point in the maze to another. The slides work in both directions: a cow can slide from the slide's start to the end instantly, or from the end to the start. If a cow steps on a space that hosts either end of a slide, she must use the slide.\n\nThe outside of the corn maze is entirely corn except for a single exit.\n\nThe maze can be represented by an N x M (2 <= N <= 300; 2 <= M <= 300) grid. Each grid element contains one of these items:\n\n\\* Corn (corn grid elements are impassable) \n\n\\* Grass (easy to pass through!) \n\n\\* A slide endpoint (which will transport a cow to the other endpoint) \n\n\\* The exit\n\nA cow can only move from one space to the next if they are adjacent and neither contains corn. Each grassy space has four potential neighbors to which a cow can travel. It takes 1 unit of time to move from a grassy space to an adjacent space; it takes 0 units of time to move from one slide endpoint to the other.\n\nCorn-filled spaces are denoted with an octothorpe (#). Grassy spaces are denoted with a period (.). Pairs of slide endpoints are denoted with the same uppercase letter (A-Z), and no two different slides have endpoints denoted with the same letter. The exit is denoted with the equals sign (=).\n\nBessie got lost. She knows where she is on the grid, and marked her current grassy space with the 'at' symbol (@). What is the minimum time she needs to move to the exit space?", "inputFormat": "Line 1: Two space separated integers: N and M\n\nLines 2..N+1: Line i+1 describes row i of the maze: M characters (no spaces)", "outputFormat": "Line 1: An integer, corresponding to the shortest time that Bessie needs to exit the maze.", "hint": "Sample Explanation:\n\n```plain\n###=##\n#.W.##\n#.####\n#.@W##\n######\n```\n\nThe endpoints of the only slide are marked with capital letters W.\n\nThe optimal strategy (which takes 3 units of time) is to: Move right to the slide endpoint using 1 unit of time, transport to the other endpoint using 0 units of time, move right using 1 unit of time, and move up to the exit using 1 unit of time.", "locale": "en"}, "zh-CN": {"title": "[USACO11OPEN] Corn Maze S", "background": "", "description": "去年秋天，农夫约翰带着奶牛们参观了一个玉米迷宫。但这不是一个普通的玉米迷宫：它有几个重力驱动的传送滑梯，可以让奶牛瞬间从迷宫中的一个点传送到另一个点。滑梯是双向的：奶牛可以瞬间从滑梯的起点滑到终点，或者从终点滑到起点。如果奶牛踩到滑梯的任一端，她必须使用滑梯。\n\n传送操作不能连续使用，即，传送一次之后，必须**通过非传送方式**移动至少一步才能再次进行传送。\n\n玉米迷宫的外部完全由玉米包围，只有一个出口。\n\n迷宫可以用一个 $N \\times M$（$2 \\leq N \\leq 300$；$2 \\leq M \\leq 300$）的网格表示。每个网格元素包含以下项目之一：\n\n* 玉米（玉米网格元素不可通行）\n* 草地（容易通过！）\n* 滑梯端点（会将奶牛传送到另一个端点）\n* 出口\n\n奶牛只能从一个空间移动到相邻的下一个空间，前提是它们相邻且都不包含玉米。每个草地空间有四个潜在的邻居可以让奶牛到达。从一个草地空间移动到相邻空间需要 $1$ 个时间单位；从一个滑梯端点移动到另一个端点需要 $0$ 个时间单位。\n\n填满玉米的空间用井号（`#`）表示。草地空间用英文句号（`.`）表示。滑梯端点对用相同的大写字母（`A` 到 `Z`）表示，并且没有两个不同的滑梯端点用相同的字母表示。出口用等号（`=`）表示。\n\n贝茜迷路了。她知道自己在网格中的位置，并用「at」符号（`@`）标记了她当前的草地空间。她需要的最短时间是多少才能移动到出口空间？", "inputFormat": "第一行：两个用空格隔开的整数 $N$ 和 $M$。\n\n第 $2 \\sim N+1$ 行：第 $i+1$ 行描述了迷宫中的第 $i$ 行的情况（共有 $M$ 个字符，每个字符之间没有空格）。", "outputFormat": "一个整数，表示起点到出口所需的最短时间。", "hint": "例如以下矩阵，$N=5,M=6$。\n\n```plain\n###=##\n#.W.##\n#.####\n#.@W##\n######\n```\n\n唯一的一个装置的结点用大写字母 $\\tt{W}$ 表示。\n\n最优方案为：先向右走到装置的结点，花费一个单位时间，再到装置的另一个结点上，花费 $0$ 个单位时间，然后再向右走一个，再向上走一个，到达出口处，总共花费了 $3$ 个单位时间。\n\n（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P1826", "type": "P", "difficulty": 4, "samples": [["1 10 3", "4\r\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["递推", "洛谷原创"], "title": "猴子选大王数据再加强版", "background": "", "description": "有 $n$ 只猴子围成一圈，顺时针编号依次为 $1, 2, 3,\\cdots, n$。从第一只猴子开始，不断进行如下操作：顺时针数恰好 $m$ 只猴子，使其出列，再从下一只猴子开始重新计数，如此循环，直到最后只剩下一只猴子。最后剩下来的猴子是这局游戏的获胜者。\n\n现在你需要对于 $n=a,a+1,\\cdots,b$ 计算出哪只猴子成为获胜者的次数最多，输出对应的编号。如果有多只猴子成为获胜者的次数均最多，将它们的编号从小到大输出。\n", "inputFormat": "输入共一行三个数 $a, b, m$，如题。\n", "outputFormat": "输出共两行。\n\n第一行输出获胜次数最多的猴子获胜的次数。\n\n第二行输出若干个数，为猴子的编号。\n", "hint": "### 样例解释\n\n| $n=$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| **大王编号** | $1$ | $2$ | $2$ | $1$ | $4$ | $1$ | $4$ | $7$ | $1$ | $4$ |\n\n因此最多的是 $1$ 号，共获胜了 $4$ 回。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq a \\leq b \\leq 10 ^ 6$，$m \\leq 3000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Monkey King Selection: Further Strengthened Testdata Version", "background": "", "description": "There are $n$ monkeys standing in a circle, numbered clockwise as $1, 2, 3, \\cdots, n$. Starting from the first monkey, repeatedly perform the following: count exactly $m$ monkeys clockwise, make that monkey leave the circle, then start counting again from the next monkey. Continue this process until only one monkey remains. The last remaining monkey is the winner of the game.\n\nNow, for $n = a, a + 1, \\cdots, b$, determine which monkey ID becomes the winner the most times, and output its ID. If multiple monkeys tie for the most wins, output their IDs in increasing order.", "inputFormat": "A single line containing three numbers $a, b, m$, as described.", "outputFormat": "Output two lines.\n\nThe first line outputs the maximum number of wins among all monkeys.\n\nThe second line outputs several numbers, which are the monkeys' IDs.", "hint": "### Sample Explanation\n\n| $n=$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| Winner ID | $1$ | $2$ | $2$ | $1$ | $4$ | $1$ | $4$ | $7$ | $1$ | $4$ |\n\nTherefore, monkey $1$ has the most wins, with $4$ wins.\n\n### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq a \\leq b \\leq 10^6$, $m \\leq 3000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "猴子选大王数据再加强版", "background": "", "description": "有 $n$ 只猴子围成一圈，顺时针编号依次为 $1, 2, 3,\\cdots, n$。从第一只猴子开始，不断进行如下操作：顺时针数恰好 $m$ 只猴子，使其出列，再从下一只猴子开始重新计数，如此循环，直到最后只剩下一只猴子。最后剩下来的猴子是这局游戏的获胜者。\n\n现在你需要对于 $n=a,a+1,\\cdots,b$ 计算出哪只猴子成为获胜者的次数最多，输出对应的编号。如果有多只猴子成为获胜者的次数均最多，将它们的编号从小到大输出。\n", "inputFormat": "输入共一行三个数 $a, b, m$，如题。\n", "outputFormat": "输出共两行。\n\n第一行输出获胜次数最多的猴子获胜的次数。\n\n第二行输出若干个数，为猴子的编号。\n", "hint": "### 样例解释\n\n| $n=$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| **大王编号** | $1$ | $2$ | $2$ | $1$ | $4$ | $1$ | $4$ | $7$ | $1$ | $4$ |\n\n因此最多的是 $1$ 号，共获胜了 $4$ 回。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq a \\leq b \\leq 10 ^ 6$，$m \\leq 3000$。\n", "locale": "zh-CN"}}}
{"pid": "P1827", "type": "P", "difficulty": 2, "samples": [["ABEDFCHG\nCBADEFGH \n", "AEFDBHGC"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "树形数据结构", "USACO", "递归", "构造"], "title": "[USACO3.4] 美国血统 American Heritage", "background": null, "description": "农夫约翰非常认真地对待他的奶牛们的血统。然而他不是一个真正优秀的记账员。他把他的奶牛们的家谱作成二叉树，并且把二叉树以更线性的“树的中序遍历”和“树的前序遍历”的符号加以记录而不是用图形的方法。\n\n你的任务是在被给予奶牛家谱的“树中序遍历”和“树前序遍历”的符号后，创建奶牛家谱的“树的后序遍历”的符号。每一头奶牛的姓名被译为一个唯一的字母。（你可能已经知道你可以在知道树的两种遍历以后可以经常地重建这棵树。）显然，这里的树不会有多于 $26$ 个的顶点。\n\n这是在样例输入和样例输出中的树的图形表达方式：\n\n\n```plain\n　　　　　　　　 C\n　　　　　　   /  \\\n　　　　　　  /　　\\\n　　　　　　 B　　  G\n　　　　　　/ \\　　/\n　　　　   A   D  H\n　　　　　　  / \\\n　　　　　　 E   F\n\n```\n\n附注：\n\n- 树的中序遍历是按照左子树，根，右子树的顺序访问节点；\n- 树的前序遍历是按照根，左子树，右子树的顺序访问节点；\n- 树的后序遍历是按照左子树，右子树，根的顺序访问节点。", "inputFormat": "第一行一个字符串，表示该树的中序遍历。\n\n第二行一个字符串，表示该树的前序遍历。", "outputFormat": "单独的一行表示该树的后序遍历。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.4", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.4] American Heritage", "background": "", "description": "Farmer John takes the ancestry of his cows very seriously, but he is not a great bookkeeper. He represents his cows’ family tree as a binary tree, and records it using the more linear notations of inorder traversal and preorder traversal, rather than drawing the tree.\n\nYour task is, given the notations of the cows’ family tree in inorder and preorder traversals, to produce the notation of the postorder traversal. Each cow’s name is encoded as a unique letter. (You may already know that a tree can often be reconstructed if you know two of its traversals.) Obviously, the tree has no more than $26$ vertices.\n\nHere is a graphical representation of the tree from the sample input and output:\n\n```plain\n　　　　　　　　 C\n　　　　　　   /  \\\n　　　　　　  /　　\\\n　　　　　　 B　　  G\n　　　　　　/ \\　　/\n　　　　   A   D  H\n　　　　　　  / \\\n　　　　　　 E   F\n\n```\n\nNotes:\n- Inorder traversal visits nodes in the order: left subtree, root, right subtree.\n- Preorder traversal visits nodes in the order: root, left subtree, right subtree.\n- Postorder traversal visits nodes in the order: left subtree, right subtree, root.", "inputFormat": "The first line contains a string representing the inorder traversal of the tree.\n\nThe second line contains a string representing the preorder traversal of the tree.", "outputFormat": "Output a single line representing the postorder traversal of the tree.", "hint": "Translation from NOCOW.\n\nUSACO Training Section 3.4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.4] 美国血统 American Heritage", "background": null, "description": "农夫约翰非常认真地对待他的奶牛们的血统。然而他不是一个真正优秀的记账员。他把他的奶牛们的家谱作成二叉树，并且把二叉树以更线性的“树的中序遍历”和“树的前序遍历”的符号加以记录而不是用图形的方法。\n\n你的任务是在被给予奶牛家谱的“树中序遍历”和“树前序遍历”的符号后，创建奶牛家谱的“树的后序遍历”的符号。每一头奶牛的姓名被译为一个唯一的字母。（你可能已经知道你可以在知道树的两种遍历以后可以经常地重建这棵树。）显然，这里的树不会有多于 $26$ 个的顶点。\n\n这是在样例输入和样例输出中的树的图形表达方式：\n\n\n```plain\n　　　　　　　　 C\n　　　　　　   /  \\\n　　　　　　  /　　\\\n　　　　　　 B　　  G\n　　　　　　/ \\　　/\n　　　　   A   D  H\n　　　　　　  / \\\n　　　　　　 E   F\n\n```\n\n附注：\n\n- 树的中序遍历是按照左子树，根，右子树的顺序访问节点；\n- 树的前序遍历是按照根，左子树，右子树的顺序访问节点；\n- 树的后序遍历是按照左子树，右子树，根的顺序访问节点。", "inputFormat": "第一行一个字符串，表示该树的中序遍历。\n\n第二行一个字符串，表示该树的前序遍历。", "outputFormat": "单独的一行表示该树的后序遍历。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.4", "locale": "zh-CN"}}}
{"pid": "P1828", "type": "P", "difficulty": 3, "samples": [["3 4 5\n2\n3\n4\n1 2 1\n1 3 5\n2 3 7\n2 4 3\n3 4 5", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "USACO", "队列"], "title": "[USACO3.2] 香甜的黄油 Sweet Butter", "background": "", "description": "Farmer John 发现了做出全威斯康辛州最甜的黄油的方法：糖。\n\n把糖放在一片牧场上，他知道 $N$ 只奶牛会过来舔它，这样就能做出能卖好价钱的超甜黄油。当然，他将付出额外的费用在奶牛上。\n\nFarmer John 很狡猾。像以前的 Pavlov，他知道他可以训练这些奶牛，让它们在听到铃声时去一个特定的牧场。他打算将糖放在那里然后下午发出铃声，以至他可以在晚上挤奶。\n\nFarmer John 知道每只奶牛都在各自喜欢的牧场（一个牧场不一定只有一头牛）。给出各头牛在的牧场和牧场间的路线，找出使所有牛到达的路程和最短的牧场（他将把糖放在那）。", "inputFormat": "第一行包含三个整数 $N,P,C$，分别表示奶牛数、牧场数和牧场间道路数。\n\n第二行到第 $N+1$ 行，每行一个整数，其中第 $i$ 行的整数表示第 $i-1$ 头奶牛所在的牧场号。\n\n第 $N+2$ 行到第 $N+C+1$ 行，每行包含三个整数 $A,B,D$，表示牧场号为 $A$ 和 $B$ 的两个牧场之间有一条长度为 $D$ 的双向道路相连。", "outputFormat": "输出一行一个整数，表示奶牛必须行走的最小的距离和。", "hint": "**数据范围**\n\n对于所有数据，$1 \\le N \\le 500$，$2 \\le P \\le 800$，$1 \\le A,B \\le P$，$1 \\le C \\le 1450$，$1 \\le D \\le 255$。\n\n---\n\n**样例解释**\n\n作图如下：\n\n```cpp\n          P2  \nP1 @--1--@ C1\n         |\n         | \n       5  7  3\n         |   \n         |     C3\n       C2 @--5--@\n          P3    P4\n```\n\n把糖放在4号牧场最优。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.2] Sweet Butter", "background": "", "description": "Farmer John has found a way to make the sweetest butter in all of Wisconsin: sugar.\n\nIf he puts sugar on a pasture, he knows $N$ cows will come and lick it, letting him make super-sweet butter that sells for a good price. Of course, the cows must walk to the sugar.\n\nFarmer John is cunning. Like Pavlov, he knows he can train the cows to go to a specific pasture when they hear a bell. He plans to put the sugar there and ring the bell in the afternoon so that he can milk them in the evening.\n\nFarmer John knows where each cow currently is (a pasture can have more than one cow). Given the current pasture of each cow and the roads between pastures, find the pasture that minimizes the sum of walking distances for all cows to reach it (he will place the sugar there).", "inputFormat": "- The first line contains three integers $N, P, C$, the number of cows, the number of pastures, and the number of roads, respectively.\n- Lines $2$ to $N+1$: each line contains one integer. Line $i$ gives the pasture index where cow $i$ is located.\n- Lines $N+2$ to $N+C+1$: each line contains three integers $A, B, D$, meaning there is an undirected road of length $D$ between pastures $A$ and $B$.", "outputFormat": "Output a single integer: the minimum possible sum of distances that all cows must walk.", "hint": "Constraints\n\nFor all testdata, $1 \\le N \\le 500$, $2 \\le P \\le 800$, $1 \\le A, B \\le P$, $1 \\le C \\le 1450$, $1 \\le D \\le 255$.\n\n---\n\nSample Explanation\n\nDiagram:\n\n```cpp\n          P2  \nP1 @--1--@ C1\n         |\n         | \n       5  7  3\n         |   \n         |     C3\n       C2 @--5--@\n          P3    P4\n```\n\nPutting the sugar at pasture $4$ is optimal.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.2] 香甜的黄油 Sweet Butter", "background": "", "description": "Farmer John 发现了做出全威斯康辛州最甜的黄油的方法：糖。\n\n把糖放在一片牧场上，他知道 $N$ 只奶牛会过来舔它，这样就能做出能卖好价钱的超甜黄油。当然，他将付出额外的费用在奶牛上。\n\nFarmer John 很狡猾。像以前的 Pavlov，他知道他可以训练这些奶牛，让它们在听到铃声时去一个特定的牧场。他打算将糖放在那里然后下午发出铃声，以至他可以在晚上挤奶。\n\nFarmer John 知道每只奶牛都在各自喜欢的牧场（一个牧场不一定只有一头牛）。给出各头牛在的牧场和牧场间的路线，找出使所有牛到达的路程和最短的牧场（他将把糖放在那）。", "inputFormat": "第一行包含三个整数 $N,P,C$，分别表示奶牛数、牧场数和牧场间道路数。\n\n第二行到第 $N+1$ 行，每行一个整数，其中第 $i$ 行的整数表示第 $i-1$ 头奶牛所在的牧场号。\n\n第 $N+2$ 行到第 $N+C+1$ 行，每行包含三个整数 $A,B,D$，表示牧场号为 $A$ 和 $B$ 的两个牧场之间有一条长度为 $D$ 的双向道路相连。", "outputFormat": "输出一行一个整数，表示奶牛必须行走的最小的距离和。", "hint": "**数据范围**\n\n对于所有数据，$1 \\le N \\le 500$，$2 \\le P \\le 800$，$1 \\le A,B \\le P$，$1 \\le C \\le 1450$，$1 \\le D \\le 255$。\n\n---\n\n**样例解释**\n\n作图如下：\n\n```cpp\n          P2  \nP1 @--1--@ C1\n         |\n         | \n       5  7  3\n         |   \n         |     C3\n       C2 @--5--@\n          P3    P4\n```\n\n把糖放在4号牧场最优。", "locale": "zh-CN"}}}
{"pid": "P1829", "type": "P", "difficulty": 6, "samples": [["4 5", "122"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "2010", "集训队互测", "O2优化", "莫比乌斯反演", "整除分块"], "title": "[国家集训队] Crash的数字表格 / JZPTAB", "background": "", "description": "今天的数学课上，Crash 小朋友学习了最小公倍数（Least Common Multiple）。对于两个正整数 $a$ 和 $b$，$\\text{lcm}(a,b)$ 表示能同时被 $a$ 和 $b$ 整除的最小正整数。例如，$\\text{lcm}(6, 8) = 24$。\n\n回到家后，Crash 还在想着课上学的东西，为了研究最小公倍数，他画了一张 $ n \\times m$ 的表格。每个格子里写了一个数字，其中第 $i$ 行第 $j$ 列的那个格子里写着数为 $\\text{lcm}(i, j)$。\n\n看着这个表格，Crash 想到了很多可以思考的问题。不过他最想解决的问题却是一个十分简单的问题：这个表格中所有数的和是多少。当 $n$ 和 $m$ 很大时，Crash 就束手无策了，因此他找到了聪明的你用程序帮他解决这个问题。由于最终结果可能会很大，Crash 只想知道表格里所有数的和对 $20101009$ 取模后的值。\n\n", "inputFormat": "输入包含一行两个整数，分别表示 $n$ 和 $m$。\n", "outputFormat": "输出一个正整数，表示表格中所有数的和对 $20101009$ 取模后的值。\n", "hint": "#### 样例输入输出 1 解释\n\n该表格为：\n\n|$1$|$2$|$3$|$4$|$5$|\n|:-:|:-:|:-:|:-:|:-:|\n|$2$|$2$|$6$|$4$|$10$|\n|$3$|$6$|$3$|$12$|$15$|\n|$4$|$4$|$12$|$4$|$20$|\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n, m \\le 10^3$。\n- 对于 $70\\%$ 的数据，保证 $n, m \\le 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m \\le 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Crash's Number Table / JZPTAB", "background": "", "description": "In today's math class, Crash learned about the Least Common Multiple. For two positive integers $a$ and $b$, $\\text{lcm}(a, b)$ denotes the smallest positive integer divisible by both $a$ and $b$. For example, $\\text{lcm}(6, 8) = 24$.\n\nAfter returning home, Crash was still thinking about what he learned. To study the Least Common Multiple, he drew an $n \\times m$ table. Each cell contains a number, where the cell in the $i$-th row and $j$-th column contains $\\text{lcm}(i, j)$.\n\nLooking at this table, Crash thought of many questions. The one he most wants to solve is very simple: what is the sum of all the numbers in this table? When $n$ and $m$ are large, Crash cannot handle it, so he asks you to write a program to compute the answer. Since the result can be very large, Crash only wants the sum modulo $20101009$.", "inputFormat": "The input contains one line with two integers $n$ and $m$.", "outputFormat": "Output one positive integer, the sum of all numbers in the table modulo $20101009$.", "hint": "Sample 1 Explanation:\n\nThe table is:\n\n| $1$ | $2$ | $3$ | $4$ | $5$ |\n|:-:|:-:|:-:|:-:|:-:|\n| $2$ | $2$ | $6$ | $4$ | $10$ |\n| $3$ | $6$ | $3$ | $12$ | $15$ |\n| $4$ | $4$ | $12$ | $4$ | $20$ |\n\nConstraints:\n- For $30\\%$ of the testdata, $n, m \\le 10^3$.\n- For $70\\%$ of the testdata, $n, m \\le 10^5$.\n- For $100\\%$ of the testdata, $1 \\le n, m \\le 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] Crash的数字表格 / JZPTAB", "background": "", "description": "今天的数学课上，Crash 小朋友学习了最小公倍数（Least Common Multiple）。对于两个正整数 $a$ 和 $b$，$\\text{lcm}(a,b)$ 表示能同时被 $a$ 和 $b$ 整除的最小正整数。例如，$\\text{lcm}(6, 8) = 24$。\n\n回到家后，Crash 还在想着课上学的东西，为了研究最小公倍数，他画了一张 $ n \\times m$ 的表格。每个格子里写了一个数字，其中第 $i$ 行第 $j$ 列的那个格子里写着数为 $\\text{lcm}(i, j)$。\n\n看着这个表格，Crash 想到了很多可以思考的问题。不过他最想解决的问题却是一个十分简单的问题：这个表格中所有数的和是多少。当 $n$ 和 $m$ 很大时，Crash 就束手无策了，因此他找到了聪明的你用程序帮他解决这个问题。由于最终结果可能会很大，Crash 只想知道表格里所有数的和对 $20101009$ 取模后的值。\n\n", "inputFormat": "输入包含一行两个整数，分别表示 $n$ 和 $m$。\n", "outputFormat": "输出一个正整数，表示表格中所有数的和对 $20101009$ 取模后的值。\n", "hint": "#### 样例输入输出 1 解释\n\n该表格为：\n\n|$1$|$2$|$3$|$4$|$5$|\n|:-:|:-:|:-:|:-:|:-:|\n|$2$|$2$|$6$|$4$|$10$|\n|$3$|$6$|$3$|$12$|$15$|\n|$4$|$4$|$12$|$4$|$20$|\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n, m \\le 10^3$。\n- 对于 $70\\%$ 的数据，保证 $n, m \\le 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m \\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P1830", "type": "P", "difficulty": 1, "samples": [["10 10 2 3\n1 1 5 5\n5 5 10 10\n3 2\n5 5\n7 1\n", "Y 1 1\nY 2 2\nN\n"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "轰炸III", "background": "一个大小为 $n\\times m$ 的城市遭到了 $x$ 次轰炸，每次都炸了一个每条边都与边界平行的矩形。\n", "description": "在轰炸后，有 $y$ 个关键点，指挥官想知道，它们有没有受到过轰炸，如果有，被炸了几次，最后一次是第几轮。\n", "inputFormat": "第一行共四个整数，分别为 $n,m,x,y$。\n\n接下来 $x$ 行，每行四个整数 $x_1,y_1,x_2,y_2$，表示被轰炸的矩形的左上角坐标和右下角坐标（比如 $1,3,7,10$ 就表示被轰炸的地方是从 $(1,3)$ 到 $(7,10)$ 的矩形）。\n\n接下来 $y$ 行，每行两个整数，表示这个关键点的坐标。\n", "outputFormat": "输出共 $y$ 行，每行第一个字符为 `Y` 或 `N`，表示是否被轰炸；若为 `Y`，在一个空格后为两个整数，表示被炸了几次和最后一次是第几轮。\n", "hint": "对于 $100\\%$ 数据，满足 $1\\le n,m\\le 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Bombing III", "background": "A city of size $n\\times m$ suffered $x$ bombings. Each time, a rectangle whose sides are parallel to the borders was bombed.", "description": "After the bombings, there are $y$ key points. The commander wants to know whether each of them was ever bombed; if yes, how many times, and in which round the last time occurred.", "inputFormat": "The first line contains four integers, $n,m,x,y$.\n\nThe next $x$ lines each contain four integers $x_1,y_1,x_2,y_2$, representing the top-left and bottom-right coordinates of the bombed rectangle (for example, $1,3,7,10$ means the bombed area is the rectangle from $(1,3)$ to $(7,10)$).\n\nThe next $y$ lines each contain two integers, representing the coordinates of a key point.", "outputFormat": "Output $y$ lines. In each line, the first character is `Y` or `N`, indicating whether it was bombed; if it is `Y`, then after a single space output two integers: the number of times it was bombed and the round number of the last time.", "hint": "For $100\\%$ of the testdata, $1\\le n,m\\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "轰炸III", "background": "一个大小为 $n\\times m$ 的城市遭到了 $x$ 次轰炸，每次都炸了一个每条边都与边界平行的矩形。\n", "description": "在轰炸后，有 $y$ 个关键点，指挥官想知道，它们有没有受到过轰炸，如果有，被炸了几次，最后一次是第几轮。\n", "inputFormat": "第一行共四个整数，分别为 $n,m,x,y$。\n\n接下来 $x$ 行，每行四个整数 $x_1,y_1,x_2,y_2$，表示被轰炸的矩形的左上角坐标和右下角坐标（比如 $1,3,7,10$ 就表示被轰炸的地方是从 $(1,3)$ 到 $(7,10)$ 的矩形）。\n\n接下来 $y$ 行，每行两个整数，表示这个关键点的坐标。\n", "outputFormat": "输出共 $y$ 行，每行第一个字符为 `Y` 或 `N`，表示是否被轰炸；若为 `Y`，在一个空格后为两个整数，表示被炸了几次和最后一次是第几轮。\n", "hint": "对于 $100\\%$ 数据，满足 $1\\le n,m\\le 100$。\n", "locale": "zh-CN"}}}
{"pid": "P1831", "type": "P", "difficulty": 6, "samples": [["7604 24324", "897"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "枚举", "数位 DP"], "title": "杠杆数", "background": "", "description": "如果把一个数的某一位当成支点，且左边的数字到这个点的力矩和等于右边的数字到这个点的力矩和，那么这个数就可以被叫成杠杆数。\n\n比如 $4139$ 就是杠杆数，把 $3$ 当成支点，我们有这样的等式：$4\\times 2+1\\times 1=9\\times 1$。\n\n给定区间 $[x,y]$，求出在 $[x,y]$ 中有几个杠杆数。", "inputFormat": "两个数，表示 $x,y$。", "outputFormat": "一个输出，表示区间 $[x,y]$ 中杠杆数的个数。\n", "hint": "### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$x \\le y \\le x+10^5$；\n- 对于 $100\\%$ 的数据，$1 \\le x \\le y \\le 10^{18}$。", "locale": "zh-CN", "translations": {"en": {"title": "Lever Numbers", "background": "", "description": "If we take one digit of a number as the fulcrum, and the sum of the moments of the digits to the left about this point equals the sum of the moments of the digits to the right about this point, then the number is called a lever number.\n\nFor example, $4139$ is a lever number. Taking $3$ as the fulcrum, we have the equation: $4 \\times 2 + 1 \\times 1 = 9 \\times 1$.\n\nGiven the interval $[x,y]$, find how many lever numbers are in $[x,y]$.", "inputFormat": "Two integers, $x,y$.", "outputFormat": "A single integer, the number of lever numbers in the interval $[x,y]$.", "hint": "Constraints\n\n- For $40\\%$ of the testdata, $x \\le y \\le x + 10^5$.\n- For $100\\%$ of the testdata, $1 \\le x \\le y \\le 10^{18}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "杠杆数", "background": "", "description": "如果把一个数的某一位当成支点，且左边的数字到这个点的力矩和等于右边的数字到这个点的力矩和，那么这个数就可以被叫成杠杆数。\n\n比如 $4139$ 就是杠杆数，把 $3$ 当成支点，我们有这样的等式：$4\\times 2+1\\times 1=9\\times 1$。\n\n给定区间 $[x,y]$，求出在 $[x,y]$ 中有几个杠杆数。", "inputFormat": "两个数，表示 $x,y$。", "outputFormat": "一个输出，表示区间 $[x,y]$ 中杠杆数的个数。\n", "hint": "### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$x \\le y \\le x+10^5$；\n- 对于 $100\\%$ 的数据，$1 \\le x \\le y \\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P1832", "type": "P", "difficulty": 2, "samples": [["7", "3"], ["20", "26"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "递推", "洛谷原创", "背包 DP", "素数判断,质数,筛法"], "title": "A+B Problem（再升级）", "background": "题目名称是吸引你点进来的。\n\n实际上该题还是很水的。\n", "description": "- $1+1=?$ 显然是 $2$。\n- $a+b=?$ P1001 回看不谢。\n- 哥德巴赫猜想 似乎已呈泛滥趋势。\n\n_以上纯属个人吐槽_\n\n给定一个正整数 $n$，求将其分解成若干个素数之和的方案总数。\n\n", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "一行一个整数表示方案总数。", "hint": "### 样例解释\n\n存在如下三种方案：\n\n- $7=7$。\n- $7=2+5$。\n- $7=2+2+3$。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据 $1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^3$。\n", "locale": "zh-CN", "translations": {"en": {"title": "A+B Problem (Another Upgrade)", "background": "The title is meant to attract you to click.\n\nIn fact, this problem is still quite easy.", "description": "- $1+1=?$ Obviously $2$.\n- $a+b=?$ See P1001, don't thank me.\n- Goldbach's conjecture seems to be everywhere.\n\n_The above is purely a personal rant._\n\nGiven a positive integer $n$, find the total number of ways to express it as a sum of prime numbers. The order of addends does not matter.", "inputFormat": "One line containing a positive integer $n$.", "outputFormat": "One line containing an integer representing the total number of ways.", "hint": "### Sample Explanation\n\nThere are the following three ways:\n\n- $7=7$.\n- $7=2+5$.\n- $7=2+2+3$.\n\n### Constraints\n\n- For $30\\%$ of the testdata, $1 \\le n \\le 10$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "A+B Problem（再升级）", "background": "题目名称是吸引你点进来的。\n\n实际上该题还是很水的。\n", "description": "- $1+1=?$ 显然是 $2$。\n- $a+b=?$ P1001 回看不谢。\n- 哥德巴赫猜想 似乎已呈泛滥趋势。\n\n_以上纯属个人吐槽_\n\n给定一个正整数 $n$，求将其分解成若干个素数之和的方案总数。\n\n", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "一行一个整数表示方案总数。", "hint": "### 样例解释\n\n存在如下三种方案：\n\n- $7=7$。\n- $7=2+5$。\n- $7=2+2+3$。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据 $1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P1833", "type": "P", "difficulty": 3, "samples": [["6:50 7:00 3\n2 1 0\n3 3 1\n4 5 4", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "洛谷原创", "背包 DP"], "title": "樱花", "background": "《爱与愁的故事第四弹·plant》第一章。", "description": "爱与愁大神后院里种了 $n$ 棵樱花树，每棵都有美学值 $C_i(0 < C_i \\le 200)$。爱与愁大神在每天上学前都会来赏花。爱与愁大神可是生物学霸，他懂得如何欣赏樱花：一种樱花树看一遍过，一种樱花树最多看 $P_i(0 \\le P_i \\le 100)$ 遍，一种樱花树可以看无数遍。但是看每棵樱花树都有一定的时间 $T_i(0 < T_i \\le 100)$。爱与愁大神离去上学的时间只剩下一小会儿了。求解看哪几棵樱花树能使美学值最高且爱与愁大神能准时（或提早）去上学。", "inputFormat": "共 $n+1$行：\n\n第 $1$ 行：现在时间 $T_s$（几时：几分），去上学的时间 $T_e$（几时：几分），爱与愁大神院子里有几棵樱花树 $n$。这里的 $T_s$，$T_e$ 格式为：`hh:mm`，其中 $0 \\leq hh \\leq 23$，$0 \\leq mm \\leq 59$，且 $hh,mm,n$ 均为正整数。\n\n第 $2$ 行到第 $n+1$ 行，每行三个正整数：看完第 $i$ 棵树的耗费时间 $T_i$，第 $i$ 棵树的美学值 $C_i$，看第 $i$ 棵树的次数 $P_i$（$P_i=0$ 表示无数次，$P_i$ 是其他数字表示最多可看的次数 $P_i$）。", "outputFormat": "只有一个整数，表示最大美学值。", "hint": "$100\\%$ 数据：$T_e-T_s \\leq 1000$（即开始时间距离结束时间不超过 $1000$ 分钟），$n \\leq 10000$。保证 $T_e,T_s$ 为同一天内的时间。\n\n样例解释：赏第一棵樱花树一次，赏第三棵樱花树 $2$ 次。", "locale": "zh-CN", "translations": {"en": {"title": "Cherry Blossoms", "background": "“The Story of Ai Yu Chou, Part 4 · plant”, Chapter 1.", "description": "Ai Yu Chou has planted $n$ cherry blossom trees in the backyard, each with an aesthetic value $C_i$ ($0 < C_i \\le 200$). Every morning before school, Ai Yu Chou enjoys the blossoms. As a biology ace, he knows how to appreciate them: each tree can be viewed at most $P_i$ times, where $P_i = 0$ means unlimited views; otherwise, at most $P_i$ times. Viewing tree $i$ once takes $T_i$ minutes ($0 < T_i \\le 100$). Only a short time remains before he must leave for school. Determine which trees to view (and how many times) to maximize the total aesthetic value while ensuring he can leave on time (or earlier).", "inputFormat": "There are $n+1$ lines.\n\nLine 1: current time $T_s$ (hour:minute), school departure time $T_e$ (hour:minute), and the number of trees $n$. The formats of $T_s$, $T_e$ are `hh:mm`, where $0 \\le hh \\le 23$, $0 \\le mm \\le 59$, and $n$ is a positive integer.\n\nLines $2$ to $n+1$: three positive integers per line: the time to view tree $i$ once $T_i$, the aesthetic value of tree $i$ $C_i$, and the allowed view count $P_i$ ($P_i = 0$ means unlimited; otherwise, at most $P_i$ times).", "outputFormat": "Output a single integer, the maximum total aesthetic value.", "hint": "Constraints: For $100\\%$ of the testdata, $T_e - T_s \\le 1000$ (i.e., the time from start to end does not exceed $1000$ minutes), and $n \\le 10000$. It is guaranteed that $T_e$ and $T_s$ are within the same day.\n\nSample explanation: view the first tree once, and the third tree $2$ times.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "樱花", "background": "《爱与愁的故事第四弹·plant》第一章。", "description": "爱与愁大神后院里种了 $n$ 棵樱花树，每棵都有美学值 $C_i(0 < C_i \\le 200)$。爱与愁大神在每天上学前都会来赏花。爱与愁大神可是生物学霸，他懂得如何欣赏樱花：一种樱花树看一遍过，一种樱花树最多看 $P_i(0 \\le P_i \\le 100)$ 遍，一种樱花树可以看无数遍。但是看每棵樱花树都有一定的时间 $T_i(0 < T_i \\le 100)$。爱与愁大神离去上学的时间只剩下一小会儿了。求解看哪几棵樱花树能使美学值最高且爱与愁大神能准时（或提早）去上学。", "inputFormat": "共 $n+1$行：\n\n第 $1$ 行：现在时间 $T_s$（几时：几分），去上学的时间 $T_e$（几时：几分），爱与愁大神院子里有几棵樱花树 $n$。这里的 $T_s$，$T_e$ 格式为：`hh:mm`，其中 $0 \\leq hh \\leq 23$，$0 \\leq mm \\leq 59$，且 $hh,mm,n$ 均为正整数。\n\n第 $2$ 行到第 $n+1$ 行，每行三个正整数：看完第 $i$ 棵树的耗费时间 $T_i$，第 $i$ 棵树的美学值 $C_i$，看第 $i$ 棵树的次数 $P_i$（$P_i=0$ 表示无数次，$P_i$ 是其他数字表示最多可看的次数 $P_i$）。", "outputFormat": "只有一个整数，表示最大美学值。", "hint": "$100\\%$ 数据：$T_e-T_s \\leq 1000$（即开始时间距离结束时间不超过 $1000$ 分钟），$n \\leq 10000$。保证 $T_e,T_s$ 为同一天内的时间。\n\n样例解释：赏第一棵樱花树一次，赏第三棵樱花树 $2$ 次。", "locale": "zh-CN"}}}
{"pid": "P1834", "type": "P", "difficulty": 5, "samples": [["2 3 5 7 ", "(((3*5)+2)+7)"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "速算游戏", "background": "", "description": "jyx 和 cyy 打赌，比谁 $24$ 点算得快，算得慢的那个人请客。$24$ 点的规则是这样的：给定 $4$ 个 $1\\sim 9$ 的整数，用括号改变运算顺序，通过加、减、乘、除中的一系列运算，得到整数 $24$。\n\n注意所有中间结果必须是整数（例如 $(2\\times 2)/4$ 是允许的，而 $2\\times (2/4)$ 是不允许的）。\n\n为了赢得这个比赛，请写一个程序帮助我作弊，快速地计算出 $24$ 点。", "inputFormat": "一行 $4$ 个整数，为给定的 $4$ 个数字。输入数据保证有解。\n", "outputFormat": "一行，以字符串的形式输出结果。注意将每一步的运算的括号补齐（例如 $(3+5)+6$ 和 $3\\times(5+6)$）。如果有多种解答，输出字典顺序最小的一个。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Quick Calculation Game", "background": "", "description": "jyx and cyy made a bet to see who can compute $24$ faster; the slower person treats. The rules of the $24$ Game are as follows: given $4$ integers from $1\\sim 9$, use parentheses to change the order of operations and perform a sequence of operations among addition, subtraction, multiplication, and division to obtain the integer $24$.\n\nNote that all intermediate results must be integers (for example, $(2\\times 2)/4$ is allowed, while $2\\times (2/4)$ is not allowed).\n\nTo win this match, please write a program to help me cheat by quickly computing $24$.", "inputFormat": "One line with $4$ integers, which are the given $4$ numbers. The input testdata is guaranteed to have a solution.", "outputFormat": "One line, output the result as a string. Make sure to include parentheses for every step of the operations (for example, $(3+5)+6$ and $3\\times(5+6)$). If there are multiple solutions, output the lexicographically smallest one.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "速算游戏", "background": "", "description": "jyx 和 cyy 打赌，比谁 $24$ 点算得快，算得慢的那个人请客。$24$ 点的规则是这样的：给定 $4$ 个 $1\\sim 9$ 的整数，用括号改变运算顺序，通过加、减、乘、除中的一系列运算，得到整数 $24$。\n\n注意所有中间结果必须是整数（例如 $(2\\times 2)/4$ 是允许的，而 $2\\times (2/4)$ 是不允许的）。\n\n为了赢得这个比赛，请写一个程序帮助我作弊，快速地计算出 $24$ 点。", "inputFormat": "一行 $4$ 个整数，为给定的 $4$ 个数字。输入数据保证有解。\n", "outputFormat": "一行，以字符串的形式输出结果。注意将每一步的运算的括号补齐（例如 $(3+5)+6$ 和 $3\\times(5+6)$）。如果有多种解答，输出字典顺序最小的一个。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1835", "type": "P", "difficulty": 3, "samples": [["2 11", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["NOI 导刊", "枚举", "素数判断,质数,筛法"], "title": "素数密度", "background": "UPD:\n\n- 2024.8.12：加入一组 Hack 数据。", "description": " 给定 $L,R$，请计算区间 $[L,R]$ 中素数的个数。\n\n   $1\\leq L\\leq R < 2^{31}$，$R-L\\leq 10^6$。", "inputFormat": "第一行，两个正整数 $L$ 和 $R$。", "outputFormat": "一行，一个整数，表示区间中素数的个数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Prime Density", "background": "Update:\n- 2024.8.12: Added a set of hack testdata.", "description": "Given $L,R$, please compute the number of primes in the interval $[L,R]$.\n\n$1\\leq L\\leq R < 2^{31}$，$R-L\\leq 10^6$。", "inputFormat": "The first line contains two positive integers $L$ and $R$.", "outputFormat": "One line containing a single integer, the number of primes in the interval.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "素数密度", "background": "UPD:\n\n- 2024.8.12：加入一组 Hack 数据。", "description": " 给定 $L,R$，请计算区间 $[L,R]$ 中素数的个数。\n\n   $1\\leq L\\leq R < 2^{31}$，$R-L\\leq 10^6$。", "inputFormat": "第一行，两个正整数 $L$ 和 $R$。", "outputFormat": "一行，一个整数，表示区间中素数的个数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1836", "type": "P", "difficulty": 4, "samples": [["3456789", "96342015 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊", "数位 DP"], "title": "数页码", "background": "", "description": "一本书的页码是从 $1\\sim n$ 编号的连续整数：$1,2,3,\\cdots,n$。请你求出全部页码中所有单个数字的和，例如第 $123$ 页，它的和就是 $ 1+2+3=6$。\n", "inputFormat": "一行一个整数 $n$。\n", "outputFormat": "一行，代表所有单个数字的和。\n", "hint": "$1\\le n\\le 10^9$", "locale": "zh-CN", "translations": {"en": {"title": "Sum of Page Digits", "background": "", "description": "A book’s page numbers are the consecutive integers from $1\\sim n$: $1,2,3,\\cdots,n$. Please compute the sum of all individual digits across all page numbers; for example, for page $123$, its sum is $ 1+2+3=6$.", "inputFormat": "A single integer $n$ on one line.", "outputFormat": "One line containing the sum of all individual digits.", "hint": "Constraints: $1\\le n\\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数页码", "background": "", "description": "一本书的页码是从 $1\\sim n$ 编号的连续整数：$1,2,3,\\cdots,n$。请你求出全部页码中所有单个数字的和，例如第 $123$ 页，它的和就是 $ 1+2+3=6$。\n", "inputFormat": "一行一个整数 $n$。\n", "outputFormat": "一行，代表所有单个数字的和。\n", "hint": "$1\\le n\\le 10^9$", "locale": "zh-CN"}}}
{"pid": "P1837", "type": "P", "difficulty": 5, "samples": [["AS 9S 6C KS \r\nJC QH AC KH \r\n7S QD JD KD \r\nQS TS JS 9H \r\n6D TD AD 8S \r\nQC TH KC 8D \r\n8C 9D TC 7C \r\n9C 7H JH 7D \r\n8H 6S AH 6H ", "0.589314"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "状压 DP"], "title": "单人纸牌", "background": "", "description": "单人纸牌游戏，共 $36$ 张牌分成 $9$ 叠，每叠 $4$ 张牌面向上。每次，游戏者可以从某两个不同的牌堆最顶上取出两张牌面相同的牌（如黑桃 $10$ 和梅花 $10$）并且一起拿走。如果最后所有纸牌都被取走，则游戏者就赢了，否则游戏者就输了。\n\nGeorge 很热衷于玩这个游戏，但是一旦有时有多种选择的方法，George 就不知道取哪一种好了，George 会从中随机地选择一种走，例如：顶上的 $9$ 张牌为 $\\tt KS,\\tt KH,\\tt KD,\\tt 9H,\\tt 8S,\\tt 8D,\\tt 7C,\\tt 7D,\\tt 6H$，显然有 $5$ 种取法：$\\tt (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)$，当然 George 取到每一种取法的概率都是 $1/5$。\n\n有一次，George 的朋友 Andrew 告诉他，这样做是很愚蠢的，不过 George 不相信，他认为如此玩最后成功的概率是非常大的。请写一个程序帮助 George 证明他的结论：计算按照他的策略，最后胜利的概率。", "inputFormat": "输入共 $9$ 行，每行 $4$ 组用空格分开的字串，每个字串两个字符，分别表示牌面和花色，按照从堆底到堆顶的顺序给出。\n", "outputFormat": "一行，最后胜利的概率，精确到小数点后 $6$ 位。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Single-Player Solitaire", "background": "", "description": "In a single-player solitaire game, a total of $36$ cards are divided into $9$ piles, each pile has $4$ face-up cards. Each time, the player may take two top cards from two different piles if they have the same rank (for example, a spade $10$ and a club $10$), and remove them together. If all cards are eventually removed, the player wins; otherwise, the player loses.\n\nGeorge is very keen on playing this game. However, whenever there are multiple choices, George does not know which one to take. He will randomly choose one from them. For example, suppose the $9$ top cards are $\\tt KS,\\tt KH,\\tt KD,\\tt 9H,\\tt 8S,\\tt 8D,\\tt 7C,\\tt 7D,\\tt 6H$. Clearly there are $5$ ways to take pairs: $\\tt (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)$. Of course, George chooses each option with probability $1/5$.\n\nOne day, George’s friend Andrew told him that this was foolish. But George did not believe it; he thinks that playing this way yields a very high chance of success. Please write a program to help George justify his claim: compute the probability of eventually winning when he follows this strategy.", "inputFormat": "The input consists of $9$ lines. Each line contains $4$ space-separated strings. Each string has two characters, representing the rank and suit, given in order from the bottom of the pile to the top.", "outputFormat": "Output one line: the final winning probability, to $6$ decimal places.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "单人纸牌", "background": "", "description": "单人纸牌游戏，共 $36$ 张牌分成 $9$ 叠，每叠 $4$ 张牌面向上。每次，游戏者可以从某两个不同的牌堆最顶上取出两张牌面相同的牌（如黑桃 $10$ 和梅花 $10$）并且一起拿走。如果最后所有纸牌都被取走，则游戏者就赢了，否则游戏者就输了。\n\nGeorge 很热衷于玩这个游戏，但是一旦有时有多种选择的方法，George 就不知道取哪一种好了，George 会从中随机地选择一种走，例如：顶上的 $9$ 张牌为 $\\tt KS,\\tt KH,\\tt KD,\\tt 9H,\\tt 8S,\\tt 8D,\\tt 7C,\\tt 7D,\\tt 6H$，显然有 $5$ 种取法：$\\tt (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)$，当然 George 取到每一种取法的概率都是 $1/5$。\n\n有一次，George 的朋友 Andrew 告诉他，这样做是很愚蠢的，不过 George 不相信，他认为如此玩最后成功的概率是非常大的。请写一个程序帮助 George 证明他的结论：计算按照他的策略，最后胜利的概率。", "inputFormat": "输入共 $9$ 行，每行 $4$ 组用空格分开的字串，每个字串两个字符，分别表示牌面和花色，按照从堆底到堆顶的顺序给出。\n", "outputFormat": "一行，最后胜利的概率，精确到小数点后 $6$ 位。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1838", "type": "P", "difficulty": 1, "samples": [["5237649\n", "xiaoa wins.\n"], ["539128647", "drew."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "三子棋I", "background": "", "description": "小 a 和 uim 喜欢互相切磋三子棋。三子棋大家都玩过是吗？就是在九宫格里面 OOXX（别想歪了），谁连成 $3$ 个就赢了。\n\n由于小 a 比较愚蠢，uim 总是让他先。\n\n我们用 $9$ 个数字表示棋盘位置：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n1 & 2 & 3 \\\\\\hline\n4 & 5 & 6 \\\\\\hline\n7 & 8 & 9 \\\\\\hline\n\\end{array}$$\n\n\n所有的棋谱都是已经结束的棋局，要么一方获胜，要么平局。\n\n今天，他们下了一下午的棋，小 a 为了提高技术，录下了很多棋谱。他想知道，一盘棋结束时，到底是谁赢。", "inputFormat": "一行，一串数字，表示落子的地点。小 a 总是先下。\n", "outputFormat": "一行，如果小 a 赢，输出 `xiaoa wins.`。如果 uim 赢，输出 `uim wins.`。如果平局，输出 `drew.`。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Tic-Tac-Toe I", "background": "", "description": "xiaoa and uim enjoy playing tic-tac-toe against each other. Tic-tac-toe is played on a $3 \\times 3$ grid by placing O and X; whoever connects $3$ in a line wins.\n\nSince xiaoa is less skilled, uim always lets him move first.\n\nWe use $9$ digits to represent the board positions:\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n1 & 2 & 3 \\\\\\hline\n4 & 5 & 6 \\\\\\hline\n7 & 8 & 9 \\\\\\hline\n\\end{array}$$\n\nAll recorded games are already finished: either one player wins, or it is a draw.\n\nToday, they played all afternoon. To improve his skills, xiaoa recorded many game logs. He wants to know who won when a game ends.", "inputFormat": "One line, a string of digits indicating the move positions. xiaoa always moves first.", "outputFormat": "One line. If xiaoa wins, output `xiaoa wins.`. If uim wins, output `uim wins.`. If it is a draw, output `drew.`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "三子棋I", "background": "", "description": "小 a 和 uim 喜欢互相切磋三子棋。三子棋大家都玩过是吗？就是在九宫格里面 OOXX（别想歪了），谁连成 $3$ 个就赢了。\n\n由于小 a 比较愚蠢，uim 总是让他先。\n\n我们用 $9$ 个数字表示棋盘位置：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n1 & 2 & 3 \\\\\\hline\n4 & 5 & 6 \\\\\\hline\n7 & 8 & 9 \\\\\\hline\n\\end{array}$$\n\n\n所有的棋谱都是已经结束的棋局，要么一方获胜，要么平局。\n\n今天，他们下了一下午的棋，小 a 为了提高技术，录下了很多棋谱。他想知道，一盘棋结束时，到底是谁赢。", "inputFormat": "一行，一串数字，表示落子的地点。小 a 总是先下。\n", "outputFormat": "一行，如果小 a 赢，输出 `xiaoa wins.`。如果 uim 赢，输出 `uim wins.`。如果平局，输出 `drew.`。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1839", "type": "P", "difficulty": 3, "samples": [["9 \r\n2 \r\n2  2 \r\n1  4 ", "Masha \r\nMissing"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["博弈论", "NOI 导刊", "记忆化搜索"], "title": "Play with Power", "background": null, "description": "Masha 和 Stas 正在玩一个游戏。在游戏的开始，给出一个数  $n$，同时有两个正整数  $a,b$，初始时满足 $a^b\\le n$。\n\nMasha 先手。每一回合，玩家要将 $a,b$ 的其中一个数加上  $1$，但不能使 $a^b>n$，否则该玩家输。\n\n现在，Masha 想知道，假如两人都使用最优策略，对于同一个 $n$ 和不同的 $a,b$，谁将获胜呢？", "inputFormat": "第一行一个数  $n$。\n\n第二行一个数  $t$，表示数据组数。\n\n接下来  $t$ 行，每行两个数  $a,b$，描述每组数据。", "outputFormat": "共  $t$ 行，对于每组数据：\n\n- 若 Masha 获胜，输出 `Masha`。\n- 若 Stas 获胜，输出 `Stas`。\n- 若平手，输出 `Missing`。", "hint": "#### 数据规模与约定\n\n- 对于  $30\\%$ 的数据，有  $1\\le n\\le 2 \\times 10^3$。\n- 对于  $100\\%$ 的数据，有  $1\\le n\\le 10^8$， $1\\le t\\le 100$， $1\\le a,b,a^b\\le n$。", "locale": "zh-CN", "translations": {"en": {"title": "Play with Power", "background": "", "description": "Masha and Stas are playing a game. At the start of the game, a number $n$ is given, along with two positive integers $a, b$, which initially satisfy $a^b \\le n$.\n\nMasha moves first. On each turn, a player must increase exactly one of $a$ or $b$ by $1$, but may not make $a^b > n$; otherwise that player loses.\n\nNow Masha wants to know, if both players play optimally, for the same $n$ and different $a, b$, who will win.", "inputFormat": "The first line contains a number $n$.\n\nThe second line contains a number $t$, the number of test cases.\n\nThe next $t$ lines each contain two numbers $a, b$, describing each test case.", "outputFormat": "Output $t$ lines, one for each test case:\n\n- If Masha wins, output `Masha`.\n- If Stas wins, output `Stas`.\n- If it is a draw, output `Missing`.", "hint": "Constraints\n\n- For 30% of the testdata, $1 \\le n \\le 2 \\times 10^3$.\n- For 100% of the testdata, $1 \\le n \\le 10^8$, $1 \\le t \\le 100$, $1 \\le a, b, a^b \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Play with Power", "background": null, "description": "Masha 和 Stas 正在玩一个游戏。在游戏的开始，给出一个数  $n$，同时有两个正整数  $a,b$，初始时满足 $a^b\\le n$。\n\nMasha 先手。每一回合，玩家要将 $a,b$ 的其中一个数加上  $1$，但不能使 $a^b>n$，否则该玩家输。\n\n现在，Masha 想知道，假如两人都使用最优策略，对于同一个 $n$ 和不同的 $a,b$，谁将获胜呢？", "inputFormat": "第一行一个数  $n$。\n\n第二行一个数  $t$，表示数据组数。\n\n接下来  $t$ 行，每行两个数  $a,b$，描述每组数据。", "outputFormat": "共  $t$ 行，对于每组数据：\n\n- 若 Masha 获胜，输出 `Masha`。\n- 若 Stas 获胜，输出 `Stas`。\n- 若平手，输出 `Missing`。", "hint": "#### 数据规模与约定\n\n- 对于  $30\\%$ 的数据，有  $1\\le n\\le 2 \\times 10^3$。\n- 对于  $100\\%$ 的数据，有  $1\\le n\\le 10^8$， $1\\le t\\le 100$， $1\\le a,b,a^b\\le n$。", "locale": "zh-CN"}}}
{"pid": "P1840", "type": "P", "difficulty": 3, "samples": [["10 3\n3 3\n5 7\n2 8", "9\n6\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树", "并查集", "颜色段均摊（珂朵莉树 ODT）", "NOI 导刊", "分块"], "title": "Color the Axis", "background": "", "description": "在一条数轴上有 $n$ 个点，分别是 $1,2,\\ldots,n$。一开始所有的点都被染成黑色。接着我们进行 $m$ 次操作，第 $i$ 次操作将 $[l_i,r_i]$ 这些点染成白色。请输出每个操作执行后剩余黑色点的个数。", "inputFormat": "输入一行为 $n$ 和 $m$。下面 $m$ 行每行两个数 $l_i$，$r_i$。", "outputFormat": "输出 $m$ 行，为每次操作后剩余黑色点的个数。", "hint": "- 对于 $30\\%$ 的数据，有 $1\\le n\\le2000$，$1\\le m\\le2000$；\n- 对于 $100\\%$ 的数据，有 $1\\le l_i\\le r_i\\le n\\le 2\\times 10^5$，$1\\le m\\le 2\\times10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Color the Axis", "background": "", "description": "On a number line there are $n$ points, namely $1, 2, \\ldots, n$. Initially, all points are colored black. Then we perform $m$ operations; in the $i$-th operation, the points in $[l_i,r_i]$ are painted white. Output the number of black points remaining after each operation.", "inputFormat": "The first line contains $n$ and $m$. Each of the next $m$ lines contains two integers $l_i$, $r_i$.", "outputFormat": "Output $m$ lines, where each line is the number of black points remaining after the corresponding operation.", "hint": "- For 30% of the testdata, $1\\le n\\le 2000$, $1\\le m\\le 2000$.\n- For 100% of the testdata, $1\\le l_i\\le r_i\\le n\\le 2\\times 10^5$, $1\\le m\\le 2\\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Color the Axis", "background": "", "description": "在一条数轴上有 $n$ 个点，分别是 $1,2,\\ldots,n$。一开始所有的点都被染成黑色。接着我们进行 $m$ 次操作，第 $i$ 次操作将 $[l_i,r_i]$ 这些点染成白色。请输出每个操作执行后剩余黑色点的个数。", "inputFormat": "输入一行为 $n$ 和 $m$。下面 $m$ 行每行两个数 $l_i$，$r_i$。", "outputFormat": "输出 $m$ 行，为每次操作后剩余黑色点的个数。", "hint": "- 对于 $30\\%$ 的数据，有 $1\\le n\\le2000$，$1\\le m\\le2000$；\n- 对于 $100\\%$ 的数据，有 $1\\le l_i\\le r_i\\le n\\le 2\\times 10^5$，$1\\le m\\le 2\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P1841", "type": "P", "difficulty": 5, "samples": [["4 4\n1 2 1\n2 3 1\n4 1 2\n4 3 2", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "图论", "2007", "各省省选", "江苏"], "title": "[JSOI2007] 重要的城市", "background": "", "description": "参加 jsoi 冬令营的同学最近发现，由于南航校内修路截断了原来通向计算中心的路，导致去的路程比原先增加了近一公里。而食堂门前施工虽然也截断了原来通向计算中心的路，却没有使路程增加，因为可以找到同样长度的路作替代。其实，问题的关键在于，路截断的地方是交通要点。\n\n同样的情况也出现在城市间的交通中。某些城市如果出了问题，可能会引起其他很多城市的交通不便。另一些城市则影响不到别的城市的交通。jsoi 冬令营的同学发现这是一个有趣的问题，于是决定研究这个问题。\n\n他们认为这样的城市是重要的：如果一个城市 $c$ 被破坏后，存在两个不同的城市 $a$ 和 $b$（$a, b$ 均不等于 $c$），$a$ 到 $b$ 的最短距离增长了（或不通），则城市 $c$ 是重要的。\n\njsoi 冬令营的同学面对着一张教练组交给他们的城市间交通图，他们希望能找出所有重要的城市。现在就请你来解决这个问题。", "inputFormat": "第一行两个整数 $N,M,N$ 为城市数，$M$ 为道路数。\n\n接下来 $M$ 行，每行三个整数，表示两个城市之间的无向边，以及之间的路的长度。", "outputFormat": "一行，按递增次序输出若干的数，表示重要的城市。如果不存在这样的城市，请输出 `No important cities.`。", "hint": "- 对于 $30\\%$ 的数据满足 $N\\le 20$；\n- 对于 $60\\%$ 的数据满足 $N\\le 100$；\n- 对于 $100\\%$ 的数据满足 $N\\le 200,M\\le \\frac{N\\times (N-1)}{2},0<c\\le 10000$。$c$ 即路的长度。\n\n保证不出现重边和自环。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2007] Important Cities", "background": "", "description": "Students attending the JSOI winter camp recently discovered that, due to road construction on the Nanhang campus cutting off the original route to the computing center, the travel distance increased by nearly one kilometer. However, although construction in front of the cafeteria also blocked the original route to the computing center, it did not increase the distance because an alternative route of the same length could be found. In fact, the key is that the blocked point is a critical junction.\n\nA similar situation occurs in intercity transportation. If certain cities have problems, they may cause inconvenience to traffic between many other cities. Other cities do not affect the traffic between other cities. The JSOI winter camp students found this to be an interesting problem and decided to study it.\n\nThey consider a city to be important if: after a city $c$ is destroyed, there exist two distinct cities $a$ and $b$ (with $a, b \\ne c$) such that the shortest distance from $a$ to $b$ increases (or becomes disconnected). In this case, city $c$ is important.\n\nGiven a transportation map between cities provided by the coaches, they want to find all important cities. Now please solve this problem.", "inputFormat": "The first line contains two integers $N$ and $M$: $N$ is the number of cities, and $M$ is the number of roads.\n\nThe next $M$ lines each contain three integers, representing an undirected edge between two cities and the length of the road between them.", "outputFormat": "Output a single line containing several numbers in increasing order, representing the important cities. If no such city exists, output `No important cities.`.", "hint": "- For $30\\%$ of the testdata, $N \\le 20$.\n- For $60\\%$ of the testdata, $N \\le 100$.\n- For $100\\%$ of the testdata, $N \\le 200$, $M \\le \\frac{N \\times (N - 1)}{2}$, $0 < c \\le 10000$. Here $c$ is the length of a road.\n\nThere are no multiple edges or self-loops.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2007] 重要的城市", "background": "", "description": "参加 jsoi 冬令营的同学最近发现，由于南航校内修路截断了原来通向计算中心的路，导致去的路程比原先增加了近一公里。而食堂门前施工虽然也截断了原来通向计算中心的路，却没有使路程增加，因为可以找到同样长度的路作替代。其实，问题的关键在于，路截断的地方是交通要点。\n\n同样的情况也出现在城市间的交通中。某些城市如果出了问题，可能会引起其他很多城市的交通不便。另一些城市则影响不到别的城市的交通。jsoi 冬令营的同学发现这是一个有趣的问题，于是决定研究这个问题。\n\n他们认为这样的城市是重要的：如果一个城市 $c$ 被破坏后，存在两个不同的城市 $a$ 和 $b$（$a, b$ 均不等于 $c$），$a$ 到 $b$ 的最短距离增长了（或不通），则城市 $c$ 是重要的。\n\njsoi 冬令营的同学面对着一张教练组交给他们的城市间交通图，他们希望能找出所有重要的城市。现在就请你来解决这个问题。", "inputFormat": "第一行两个整数 $N,M,N$ 为城市数，$M$ 为道路数。\n\n接下来 $M$ 行，每行三个整数，表示两个城市之间的无向边，以及之间的路的长度。", "outputFormat": "一行，按递增次序输出若干的数，表示重要的城市。如果不存在这样的城市，请输出 `No important cities.`。", "hint": "- 对于 $30\\%$ 的数据满足 $N\\le 20$；\n- 对于 $60\\%$ 的数据满足 $N\\le 100$；\n- 对于 $100\\%$ 的数据满足 $N\\le 200,M\\le \\frac{N\\times (N-1)}{2},0<c\\le 10000$。$c$ 即路的长度。\n\n保证不出现重边和自环。", "locale": "zh-CN"}}}
{"pid": "P1842", "type": "P", "difficulty": 3, "samples": [["3\n10 3\n2 5\n3 3", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2005", "USACO"], "title": "[USACO05NOV] 奶牛玩杂技", "background": "Farmer John 养了 $N$ 头牛，她们已经按 $1\\sim N$ 依次编上了号。FJ 所不知道的是，他的所有牛都梦想着从农场逃走，去参加马戏团的演出。可奶牛们很快发现她们那笨拙的蹄子根本无法在钢丝或晃动的的秋千上站稳（她们还尝试过把自己装在大炮里发射出去，但可想而知，结果是悲惨的） 。最终，她们决定练习一种最简单的杂技：把所有牛都摞在一起， 比如说， 第一头牛站在第二头的身上， 同时第二头牛又站在第三头牛的身上...最底下的是第 $N$ 头牛。", "description": "每头牛都有自己的体重以及力量，编号为 $i$ 的奶牛的体重为 $W_i$，力量为 $S_i$。\n\n当某头牛身上站着另一些牛时它就会在一定程度上被压扁，我们不妨把它被压扁的程度叫做它的压扁指数。对于任意的牛，她的压扁指数等于摞在她上面的所有奶牛的总重（当然不包括她自己）减去她的力量。奶牛们按照一定的顺序摞在一起后， 她们的总压扁指数就是被压得最扁的那头奶牛的压扁指数。\n\n你的任务就是帮助奶牛们找出一个摞在一起的顺序，使得总压扁指数最小。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行两个整数 $W_i$ 和 $S_i$。", "outputFormat": "一行一个整数表示最小总压扁指数。", "hint": "对于 $100\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le W_i \\le 10^4$，$1 \\le S_i \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05NOV] Cows Playing Acrobatics", "background": "Farmer John has $N$ cows, numbered $1\\sim N$ in order. What FJ does not know is that all his cows dream of escaping the farm to join the circus. They soon discover that their clumsy hooves cannot stand steadily on a tightrope or a swinging trapeze (they even tried loading themselves into a cannon, but the outcome, as you might guess, was tragic). In the end, they decide to practice the simplest acrobatics: stacking all the cows on top of each other. For example, the first cow stands on the second, the second stands on the third, and so on... the $N$-th cow is at the bottom.", "description": "Each cow has its own weight and strength. Cow $i$ has weight $W_i$ and strength $S_i$.\n\nWhen a cow has other cows standing on her, she gets squashed to some extent. We call this her \"squashed index.\" For any cow, her squashed index equals the total weight of all cows stacked above her (not including herself) minus her strength.\n\nAfter the cows are stacked in some order, their overall squashed index is the squashed index of the most squashed cow.\n\nYour task is to help the cows find an ordering that minimizes the overall squashed index.", "inputFormat": "The first line contains an integer $N$.\n\nThe next $N$ lines each contain two integers $W_i$ and $S_i$.", "outputFormat": "Output a single integer, the minimal overall squashed index.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le N \\le 5\\times 10^4$, $1 \\le W_i \\le 10^4$, $1 \\le S_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05NOV] 奶牛玩杂技", "background": "Farmer John 养了 $N$ 头牛，她们已经按 $1\\sim N$ 依次编上了号。FJ 所不知道的是，他的所有牛都梦想着从农场逃走，去参加马戏团的演出。可奶牛们很快发现她们那笨拙的蹄子根本无法在钢丝或晃动的的秋千上站稳（她们还尝试过把自己装在大炮里发射出去，但可想而知，结果是悲惨的） 。最终，她们决定练习一种最简单的杂技：把所有牛都摞在一起， 比如说， 第一头牛站在第二头的身上， 同时第二头牛又站在第三头牛的身上...最底下的是第 $N$ 头牛。", "description": "每头牛都有自己的体重以及力量，编号为 $i$ 的奶牛的体重为 $W_i$，力量为 $S_i$。\n\n当某头牛身上站着另一些牛时它就会在一定程度上被压扁，我们不妨把它被压扁的程度叫做它的压扁指数。对于任意的牛，她的压扁指数等于摞在她上面的所有奶牛的总重（当然不包括她自己）减去她的力量。奶牛们按照一定的顺序摞在一起后， 她们的总压扁指数就是被压得最扁的那头奶牛的压扁指数。\n\n你的任务就是帮助奶牛们找出一个摞在一起的顺序，使得总压扁指数最小。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行两个整数 $W_i$ 和 $S_i$。", "outputFormat": "一行一个整数表示最小总压扁指数。", "hint": "对于 $100\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le W_i \\le 10^4$，$1 \\le S_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1843", "type": "P", "difficulty": 3, "samples": [["3 2 1\n1\n2\n3", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "贪心", "二分"], "title": "奶牛晒衣服", "background": "熊大妈决定给每个牛宝宝都穿上可爱的婴儿装 。但是由于衣服很湿，为牛宝宝晒衣服就成了很不爽的事情。于是，熊大妈请你（奶牛）帮助她完成这个重任。\n", "description": "一件衣服在自然条件下用一秒的时间可以晒干 $a$ 点湿度。抠门的熊大妈只买了一台烘衣机 。使用用一秒烘衣机可以让一件衣服额外烘干 $b$ 点湿度（一秒晒干 $a+b$ 湿度），但在同一时间内只能烘一件衣服。现在有 $n$ 件衣服，第 $i$ 衣服的湿度为 $w_i$（保证互不相同），要你求出弄干所有衣服的最少时间（湿度为 $0$ 为干 ）。\n", "inputFormat": "第一行三个整数，分别为 $n,a,b$。  \n接下来 $2$ 到 $n+1$ 行，第 $i$ 行输入 $w_i$。", "outputFormat": "一行，弄干所有衣服的最少时间。\n", "hint": "### 样例解释\n\n让机器烘第三件衣服即可一秒完成。\n\n### 数据范围\n\n$1 \\le w_i,a,b,n \\le 5 \\times 10^5$", "locale": "zh-CN", "translations": {"en": {"title": "Cow Drying Clothes", "background": "Aunt Xiong (Xiong dama) decides to dress each calf in a cute baby outfit. However, since the clothes are very wet, drying them for the calves becomes an unpleasant task. So, Aunt Xiong asks you (the cow) to help her complete this important job.", "description": "In natural conditions, one second of sun-drying reduces a garment’s humidity by $a$ units. The stingy Aunt Xiong only bought one dryer. Using the dryer for one second additionally dries $b$ units of humidity for a single garment (i.e., in one second it can dry $a+b$ humidity), but at the same time only one garment can be machine-dried. There are $n$ garments, and the humidity of the $i$-th garment is $w_i$ (guaranteed to be pairwise distinct). Find the minimum time needed to dry all garments (a garment is considered dry when its humidity is $0$).", "inputFormat": "The first line contains three integers $n,a,b$.  \nThe next $n$ lines: on the $i$-th of these lines, input $w_i$.", "outputFormat": "Output one line: the minimum time to dry all garments.", "hint": "Sample Explanation\n\nDry the third garment with the machine to finish in one second.\n\nConstraints\n\n$1 \\le w_i,a,b,n \\le 5 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "奶牛晒衣服", "background": "熊大妈决定给每个牛宝宝都穿上可爱的婴儿装 。但是由于衣服很湿，为牛宝宝晒衣服就成了很不爽的事情。于是，熊大妈请你（奶牛）帮助她完成这个重任。\n", "description": "一件衣服在自然条件下用一秒的时间可以晒干 $a$ 点湿度。抠门的熊大妈只买了一台烘衣机 。使用用一秒烘衣机可以让一件衣服额外烘干 $b$ 点湿度（一秒晒干 $a+b$ 湿度），但在同一时间内只能烘一件衣服。现在有 $n$ 件衣服，第 $i$ 衣服的湿度为 $w_i$（保证互不相同），要你求出弄干所有衣服的最少时间（湿度为 $0$ 为干 ）。\n", "inputFormat": "第一行三个整数，分别为 $n,a,b$。  \n接下来 $2$ 到 $n+1$ 行，第 $i$ 行输入 $w_i$。", "outputFormat": "一行，弄干所有衣服的最少时间。\n", "hint": "### 样例解释\n\n让机器烘第三件衣服即可一秒完成。\n\n### 数据范围\n\n$1 \\le w_i,a,b,n \\le 5 \\times 10^5$", "locale": "zh-CN"}}}
