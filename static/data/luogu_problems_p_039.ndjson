{"pid": "P1781", "type": "P", "difficulty": 2, "samples": [["5\n98765\n12365\n87954\n1022356\n985678\n", "4\n1022356"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "高精度", "洛谷原创", "排序"], "title": "宇宙总统", "background": null, "description": "地球历公元 6036 年，全宇宙准备竞选一个最贤能的人当总统，共有 $n$ 个非凡拔尖的人竞选总统，现在票数已经统计完毕，请你算出谁能够当上总统。", "inputFormat": "第一行为一个整数 $n$，代表竞选总统的人数。\n\n接下来有 $n$ 行，分别为第一个候选人到第 $n$ 个候选人的票数。", "outputFormat": "共两行，第一行是一个整数 $m$，为当上总统的人的号数。\n\n第二行是当上总统的人的票数。", "hint": "$1 \\leq n \\leq 20$。\n\n票数可能会很大，可能会到 $100$ 位数字。数据保证不存在票数相同的候选人。", "locale": "zh-CN", "translations": {"en": {"title": "President of the Universe", "background": "", "description": "In the Earth calendar year 6036 AD, the entire universe is electing the most capable person as president. There are $n$ extraordinary candidates running for president. The votes have been fully counted; please determine who becomes the president.", "inputFormat": "The first line contains an integer $n$, the number of candidates.\n\nThe next $n$ lines contain the vote counts for candidates $1$ through $n$.", "outputFormat": "Output two lines. The first line is an integer $m$, the index of the elected candidate.\n\nThe second line is the elected candidate’s vote count.", "hint": "The vote count can be very large, up to $100$ digits.\n\n$1 \\leq n \\leq 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "宇宙总统", "background": null, "description": "地球历公元 6036 年，全宇宙准备竞选一个最贤能的人当总统，共有 $n$ 个非凡拔尖的人竞选总统，现在票数已经统计完毕，请你算出谁能够当上总统。", "inputFormat": "第一行为一个整数 $n$，代表竞选总统的人数。\n\n接下来有 $n$ 行，分别为第一个候选人到第 $n$ 个候选人的票数。", "outputFormat": "共两行，第一行是一个整数 $m$，为当上总统的人的号数。\n\n第二行是当上总统的人的票数。", "hint": "$1 \\leq n \\leq 20$。\n\n票数可能会很大，可能会到 $100$ 位数字。数据保证不存在票数相同的候选人。", "locale": "zh-CN"}}}
{"pid": "P1782", "type": "P", "difficulty": 5, "samples": [["2 1 10\n1 2 3\n3 4 1\n-1 8 -16", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "背包 DP"], "title": "旅行商的背包", "background": "", "description": "小 S 坚信任何问题都可以在多项式时间内解决，于是他准备亲自去当一回旅行商。在出发之前，他购进了一些物品。这些物品共有 $n$ 种，第 $i$ 种体积为 $V_i$，价值为 $W_i$，共有 $D_i$ 件。他的背包体积是 $C$。怎样装才能获得尽量多的收益呢？作为一名大神犇，他轻而易举的解决了这个问题。  \n\n然而，就在他出发前，他又收到了一批奇货。这些货共有 $m$ 件，第 $i$ 件的价值 $Y_i$ 与分配的体积 $X_i$ 之间的关系为：$Y_i=a_iX_i^2+b_iX_i+c_i$。这是件好事，但小 S 却不知道怎么处理了，于是他找到了一位超级神犇（也就是你），请你帮他解决这个问题。", "inputFormat": "第一行三个数 $n,m,C$，如题中所述；  \n\n以下 $n$ 行，每行有三个数 $V_i,W_i,D_i$，如题中所述；  \n\n以下 $m$ 行，每行有三个数 $a_i,b_i,c_i$，如题中所述。", "outputFormat": "仅一行，为最大的价值。\n", "hint": "### 样例解释\n\n前两种物品全部选走，最后一个奇货分给 $4$ 的体积，收益为$2 \\times 3+4 \\times 1+(-1) \\times 16+8 \\times 4+(-16)=10$。\n\n### 限制与约定\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^4$，$1 \\le m \\le 5$，$1 \\le C \\le 10^4$，$\n1 \\le W_i,V_i,D_i \\le 1000$，$-1000 \\le a_i,b_i,c_i \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "The Traveling Salesman's Knapsack", "background": "", "description": "Little S firmly believes that any problem can be solved in polynomial time, so he decides to be a traveling salesman for once. Before setting off, he bought some items. There are $n$ types of items; for the $i$-th type, the volume is $V_i$, the value is $W_i$, and there are $D_i$ items available. His knapsack has a capacity of $C$. How should he pack to obtain the maximum total value? As a top guru, he solved this easily.\n\nHowever, just before departure, he received another batch of special goods. There are $m$ such goods, and for the $i$-th one, the relationship between its value $Y_i$ and the allocated volume $X_i$ is: $Y_i = a_i X_i^2 + b_i X_i + c_i$. This is good news, but Little S does not know how to handle it, so he turns to a super guru (that is, you) to help him solve this problem.", "inputFormat": "The first line contains three integers $n, m, C$, as described above.  \nThe next $n$ lines each contain three integers $V_i, W_i, D_i$, as described above.  \nThe next $m$ lines each contain three integers $a_i, b_i, c_i$, as described above.", "outputFormat": "Output a single line: the maximum value.", "hint": "Sample explanation:  \nTake all of the first two types of items. Allocate volume $4$ to the last special good. The total value is $2 \\times 3 + 4 \\times 1 + (-1) \\times 16 + 8 \\times 4 + (-16) = 10$.\n\nConstraints and Notes  \nFor $100\\%$ of the testdata, $1 \\le n \\le 10^4$, $1 \\le m \\le 5$, $1 \\le C \\le 10^4$, $1 \\le W_i, V_i, D_i \\le 1000$, $-1000 \\le a_i, b_i, c_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "旅行商的背包", "background": "", "description": "小 S 坚信任何问题都可以在多项式时间内解决，于是他准备亲自去当一回旅行商。在出发之前，他购进了一些物品。这些物品共有 $n$ 种，第 $i$ 种体积为 $V_i$，价值为 $W_i$，共有 $D_i$ 件。他的背包体积是 $C$。怎样装才能获得尽量多的收益呢？作为一名大神犇，他轻而易举的解决了这个问题。  \n\n然而，就在他出发前，他又收到了一批奇货。这些货共有 $m$ 件，第 $i$ 件的价值 $Y_i$ 与分配的体积 $X_i$ 之间的关系为：$Y_i=a_iX_i^2+b_iX_i+c_i$。这是件好事，但小 S 却不知道怎么处理了，于是他找到了一位超级神犇（也就是你），请你帮他解决这个问题。", "inputFormat": "第一行三个数 $n,m,C$，如题中所述；  \n\n以下 $n$ 行，每行有三个数 $V_i,W_i,D_i$，如题中所述；  \n\n以下 $m$ 行，每行有三个数 $a_i,b_i,c_i$，如题中所述。", "outputFormat": "仅一行，为最大的价值。\n", "hint": "### 样例解释\n\n前两种物品全部选走，最后一个奇货分给 $4$ 的体积，收益为$2 \\times 3+4 \\times 1+(-1) \\times 16+8 \\times 4+(-16)=10$。\n\n### 限制与约定\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^4$，$1 \\le m \\le 5$，$1 \\le C \\le 10^4$，$\n1 \\le W_i,V_i,D_i \\le 1000$，$-1000 \\le a_i,b_i,c_i \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1783", "type": "P", "difficulty": 5, "samples": [["5 5\n1 5\n3 5\n5 5\n4 30\n2 15", "1.00"], ["100 2\n30 50\n90 100", "39.05"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "二分", "并查集", "最短路", "生成树"], "title": "海滩防御", "background": "", "description": "WLP 同学最近迷上了一款网络联机对战游戏（终于知道为毛 JOHNKRAM 每天刷洛谷效率那么低了），但是他却为了这个游戏很苦恼，因为他在海边的造船厂和仓库总是被敌方派人偷袭。于是，WLP 动用了他那丰满且充实的大脑（或许更偏向前者），想出了一个好主意，他把海滩分成垂直于海岸线的若干列，在其中的几列上放置几个信号塔，试图来监视整个海滩。然而，WLP 是一个非常心急的人，他把信号塔建好后才发现还需给信号塔供能，它们才能投入使用（这不是废话么），它们都有一个工作半径，一个圆形区域里的所有敌人都逃不过它们的监视，不过，WLP 发现，敌人们非常狡猾，除非他将道路完全封死，否则 WLP 的敌人可以走过一条任意弯曲的路（不一定走整点，但是不会出第 $0$ 列和第 $N$ 列构成的边界）来偷他的东西。\n\n于是，WLP 就思考了：到底需要给每个信号塔多大的工作半径，才能将从海滩到内地的路径完全封死呢？他再次动用了他那丰满且充实的大脑，想了一堂数学课，终于，还是没想出来。于是，他向 LZZ 神犇求助（额…… CSUNSHINE 的身份是不是暴露了）。\n\n终于，在 WLP：“ %^!\\*@#!\\*(\\*^!\\*#@\\$^&（此处省略无数卖萌场景）”的哀求下，LZZ 神犇写了一个程序，在一秒内就解决了问题。但是，邪恶的 LZZ 神犇决定要将这个难题共享给无数无辜的 OIer，所以，现在轮到你了。", "inputFormat": "第一行两个整数 $N$ 和 $M$，表示海滩被 WLP 分成的列数 $0,1,2,\\cdots,N$ 和信号塔个数。\n\n第 $2$ 至第 $M+1$ 行，每行两个数 $X_i$，$Y_i$ 表示 $1,2,3,\\cdots,M$ 号信号塔所在的列数和离开海滩的距离。", "outputFormat": "一行一个实数，表示最小的工作半径，保留两位小数。\n", "hint": "### 数据范围及约定\n\n- 对于 $10\\%$ 的数据：$1 \\le M \\le 10$，$1 \\le Y_i \\le 100$；\n- 对于 $30\\%$ 的数据：$1 \\le M \\le 50$，$1 \\le Y_i \\le 1,000$；\n- 对于 $80\\%$ 的数据：$1 \\le M \\le 500$，$1 \\le Y_i \\le 1,000$；\n- 对于 $100\\%$ 的数据：$1 \\le M \\le 800$，$1 \\le N \\le 1000$，$1 \\le X_i \\le N$，$1 \\le Y_i \\le 100,000$。\n\n### 提示\n\n注意，封锁海滩是指，敌人的深入程度是有限制的，若敌人绕过了所有的信号塔，并且可以长驱直入，那么就说明道路没有完全封锁。", "locale": "zh-CN", "translations": {"en": {"title": "Beach Defense", "background": "", "description": "Student WLP has recently become obsessed with an online multiplayer battle game (now he finally knows why JOHNKRAM’s daily Luogu grinding efficiency is so low), but he is troubled by the game, because his shipyard and warehouse by the sea are always raided by enemies. So WLP used his full and substantial brain (perhaps more of the former) and came up with a good idea: he divided the beach into several columns perpendicular to the coastline, and placed several signal towers on some of these columns, trying to monitor the entire beach. However, WLP is very impatient. After building the signal towers, he realized he still needed to power them for them to work (well, duh). Each tower has a working radius, and all enemies within a circular area cannot escape its surveillance. However, WLP found that the enemies are very cunning: unless he completely seals off the route, his enemies can take an arbitrarily curved path (not necessarily through integer points, but they will not leave the boundary formed by column $0$ and column $N$) to steal his stuff.\n\nSo WLP started thinking: what working radius should he give to each signal tower in order to completely block all paths from the beach to the inland? He once again used his full and substantial brain, thought for a math class, and still didn’t figure it out. Therefore, he asked the “shen-niao” LZZ for help (uh... did this expose CSUNSHINE’s identity?).\n\nFinally, after WLP’s pleading: “ %^!\\*@#!\\*(\\*^!\\*#@\\$^& (countless cute scenes omitted here)”, the mighty LZZ wrote a program and solved the problem within one second. But the evil LZZ decided to share this tough problem with countless innocent OIers, so now it’s your turn.", "inputFormat": "The first line contains two integers $N$ and $M$, representing the columns $0,1,2,\\cdots,N$ into which WLP divided the beach, and the number of signal towers.\n\nLines $2$ to $M+1$: each line contains two numbers $X_i$, $Y_i$, indicating the column index and the distance from the beach of the $i$-th ($1,2,3,\\cdots,M$) signal tower.", "outputFormat": "Output one real number: the minimal working radius, rounded to two decimal places.", "hint": "- Constraints and Conventions\n  - For $10\\%$ of the testdata: $1 \\le M \\le 10$, $1 \\le Y_i \\le 100$.\n  - For $30\\%$ of the testdata: $1 \\le M \\le 50$, $1 \\le Y_i \\le 1,000$.\n  - For $80\\%$ of the testdata: $1 \\le M \\le 500$, $1 \\le Y_i \\le 1,000$.\n  - For $100\\%$ of the testdata: $1 \\le M \\le 800$, $1 \\le N \\le 1000$, $1 \\le X_i \\le N$, $1 \\le Y_i \\le 100,000$.\n\n- Note  \n  “Blocking the beach” means that the enemy’s penetration depth is bounded. If the enemy can bypass all the signal towers and then advance indefinitely inland, the route is not completely blocked.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "海滩防御", "background": "", "description": "WLP 同学最近迷上了一款网络联机对战游戏（终于知道为毛 JOHNKRAM 每天刷洛谷效率那么低了），但是他却为了这个游戏很苦恼，因为他在海边的造船厂和仓库总是被敌方派人偷袭。于是，WLP 动用了他那丰满且充实的大脑（或许更偏向前者），想出了一个好主意，他把海滩分成垂直于海岸线的若干列，在其中的几列上放置几个信号塔，试图来监视整个海滩。然而，WLP 是一个非常心急的人，他把信号塔建好后才发现还需给信号塔供能，它们才能投入使用（这不是废话么），它们都有一个工作半径，一个圆形区域里的所有敌人都逃不过它们的监视，不过，WLP 发现，敌人们非常狡猾，除非他将道路完全封死，否则 WLP 的敌人可以走过一条任意弯曲的路（不一定走整点，但是不会出第 $0$ 列和第 $N$ 列构成的边界）来偷他的东西。\n\n于是，WLP 就思考了：到底需要给每个信号塔多大的工作半径，才能将从海滩到内地的路径完全封死呢？他再次动用了他那丰满且充实的大脑，想了一堂数学课，终于，还是没想出来。于是，他向 LZZ 神犇求助（额…… CSUNSHINE 的身份是不是暴露了）。\n\n终于，在 WLP：“ %^!\\*@#!\\*(\\*^!\\*#@\\$^&（此处省略无数卖萌场景）”的哀求下，LZZ 神犇写了一个程序，在一秒内就解决了问题。但是，邪恶的 LZZ 神犇决定要将这个难题共享给无数无辜的 OIer，所以，现在轮到你了。", "inputFormat": "第一行两个整数 $N$ 和 $M$，表示海滩被 WLP 分成的列数 $0,1,2,\\cdots,N$ 和信号塔个数。\n\n第 $2$ 至第 $M+1$ 行，每行两个数 $X_i$，$Y_i$ 表示 $1,2,3,\\cdots,M$ 号信号塔所在的列数和离开海滩的距离。", "outputFormat": "一行一个实数，表示最小的工作半径，保留两位小数。\n", "hint": "### 数据范围及约定\n\n- 对于 $10\\%$ 的数据：$1 \\le M \\le 10$，$1 \\le Y_i \\le 100$；\n- 对于 $30\\%$ 的数据：$1 \\le M \\le 50$，$1 \\le Y_i \\le 1,000$；\n- 对于 $80\\%$ 的数据：$1 \\le M \\le 500$，$1 \\le Y_i \\le 1,000$；\n- 对于 $100\\%$ 的数据：$1 \\le M \\le 800$，$1 \\le N \\le 1000$，$1 \\le X_i \\le N$，$1 \\le Y_i \\le 100,000$。\n\n### 提示\n\n注意，封锁海滩是指，敌人的深入程度是有限制的，若敌人绕过了所有的信号塔，并且可以长驱直入，那么就说明道路没有完全封锁。", "locale": "zh-CN"}}}
{"pid": "P1784", "type": "P", "difficulty": 3, "samples": [["8 0 0 0 0 0 0 0 0 \n0 0 3 6 0 0 0 0 0 \n0 7 0 0 9 0 2 0 0 \n0 5 0 0 0 7 0 0 0 \n0 0 0 0 4 5 7 0 0 \n0 0 0 1 0 0 0 3 0 \n0 0 1 0 0 0 0 6 8 \n0 0 8 5 0 0 0 1 0 \n0 9 0 0 0 0 4 0 0", "8 1 2 7 5 3 6 4 9 \n9 4 3 6 8 2 1 7 5 \n6 7 5 4 9 1 2 8 3 \n1 5 4 2 3 7 8 9 6 \n3 6 9 8 4 5 7 2 1 \n2 8 7 1 6 9 5 3 4 \n5 2 1 9 7 4 3 6 8 \n4 3 8 5 2 6 9 1 7 \n7 9 6 3 1 8 4 5 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 5000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["搜索", "Dancing Links"], "title": "数独", "background": null, "description": "数独是根据 $9 \\times 9$ 盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个粗线宫内的数字均含 $1 - 9$ ，不重复。每一道合格的数独谜题都有且仅有唯一答案，推理方法也以此为基础，任何无解或多解的题目都是不合格的。\n\n芬兰一位数学家号称设计出全球最难的“数独游戏”，并刊登在报纸上，让大家去挑战。\n\n这位数学家说，他相信只有“智慧最顶尖”的人才有可能破解这个“数独之谜”。\n\n据介绍，目前数独游戏的难度的等级有一到五级，一是入门等级，五则比较难。不过这位数学家说，他所设计的数独游戏难度等级是十一，可以说是所有数独游戏中，难度最高的等级。他还表示，他目前还没遇到解不出来的数独游戏，因此他认为“最具挑战性”的数独游戏并没有出现。", "inputFormat": "一个未填的数独。", "outputFormat": "填好的数独。", "hint": "2022-04-17 @farteryhr 贡献了三组 hack 数据。加入了其中两组。第三组过强（来源：<https://www.dcc.fc.up.pt/~acm/sudoku.pdf>），放在下边供自测。\n\n```\n9 0 0 8 0 0 0 0 0\n0 0 0 0 0 0 5 0 0 \n0 0 0 0 0 0 0 0 0 \n0 2 0 0 1 0 0 0 3\n0 1 0 0 0 0 0 6 0\n0 0 0 4 0 0 0 7 0\n7 0 8 6 0 0 0 0 0 \n0 0 0 0 3 0 1 0 0 \n4 0 0 0 0 0 2 0 0 \n```\n\n输出\n\n```\n9 7 2 8 5 3 6 1 4 \n1 4 6 2 7 9 5 3 8 \n5 8 3 1 4 6 7 2 9 \n6 2 4 7 1 8 9 5 3 \n8 1 7 3 9 5 4 6 2 \n3 5 9 4 6 2 8 7 1 \n7 9 8 6 2 1 3 4 5 \n2 6 5 9 3 4 1 8 7 \n4 3 1 5 8 7 2 9 6 \n```", "locale": "zh-CN", "translations": {"en": {"title": "Sudoku", "background": "", "description": "Sudoku is to infer the numbers for all remaining empty cells on a $9 \\times 9$ board from the given numbers, such that every row, every column, and each $3 \\times 3$ box contains the digits $1 - 9$ without repetition. Every valid Sudoku puzzle has exactly one solution; solving methods are based on this. Any puzzle with no solution or multiple solutions is invalid.\n\nA mathematician from Finland claimed to have designed the world’s hardest \"Sudoku game\" and published it in a newspaper for everyone to challenge.\n\nHe said he believes only people with \"the very top intelligence\" might be able to crack this \"Sudoku mystery.\"\n\nIt is said that the difficulty of Sudoku is usually graded from one to five, where one is beginner level and five is relatively difficult. However, this mathematician said the difficulty level of his design is eleven, which can be called the highest level among all Sudoku games. He also said that he has not yet encountered a Sudoku he could not solve, so he believes the \"most challenging\" Sudoku has not yet appeared.", "inputFormat": "An unsolved Sudoku: a $9 \\times 9$ grid where $0$ denotes an empty cell and $1$–$9$ are given digits. The numbers are separated by single spaces, one row per line.", "outputFormat": "The completed Sudoku, in the same format.", "hint": "On 2022-04-17, @farteryhr contributed three sets of hack testdata. Two were added. The third is too strong (source: <https://www.dcc.fc.up.pt/~acm/sudoku.pdf>), and is provided below for self-testing.\n\n```\n9 0 0 8 0 0 0 0 0\n0 0 0 0 0 0 5 0 0 \n0 0 0 0 0 0 0 0 0 \n0 2 0 0 1 0 0 0 3\n0 1 0 0 0 0 0 6 0\n0 0 0 4 0 0 0 7 0\n7 0 8 6 0 0 0 0 0 \n0 0 0 0 3 0 1 0 0 \n4 0 0 0 0 0 2 0 0 \n```\n\nOutput\n\n```\n9 7 2 8 5 3 6 1 4 \n1 4 6 2 7 9 5 3 8 \n5 8 3 1 4 6 7 2 9 \n6 2 4 7 1 8 9 5 3 \n8 1 7 3 9 5 4 6 2 \n3 5 9 4 6 2 8 7 1 \n7 9 8 6 2 1 3 4 5 \n2 6 5 9 3 4 1 8 7 \n4 3 1 5 8 7 2 9 6 \n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数独", "background": null, "description": "数独是根据 $9 \\times 9$ 盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个粗线宫内的数字均含 $1 - 9$ ，不重复。每一道合格的数独谜题都有且仅有唯一答案，推理方法也以此为基础，任何无解或多解的题目都是不合格的。\n\n芬兰一位数学家号称设计出全球最难的“数独游戏”，并刊登在报纸上，让大家去挑战。\n\n这位数学家说，他相信只有“智慧最顶尖”的人才有可能破解这个“数独之谜”。\n\n据介绍，目前数独游戏的难度的等级有一到五级，一是入门等级，五则比较难。不过这位数学家说，他所设计的数独游戏难度等级是十一，可以说是所有数独游戏中，难度最高的等级。他还表示，他目前还没遇到解不出来的数独游戏，因此他认为“最具挑战性”的数独游戏并没有出现。", "inputFormat": "一个未填的数独。", "outputFormat": "填好的数独。", "hint": "2022-04-17 @farteryhr 贡献了三组 hack 数据。加入了其中两组。第三组过强（来源：<https://www.dcc.fc.up.pt/~acm/sudoku.pdf>），放在下边供自测。\n\n```\n9 0 0 8 0 0 0 0 0\n0 0 0 0 0 0 5 0 0 \n0 0 0 0 0 0 0 0 0 \n0 2 0 0 1 0 0 0 3\n0 1 0 0 0 0 0 6 0\n0 0 0 4 0 0 0 7 0\n7 0 8 6 0 0 0 0 0 \n0 0 0 0 3 0 1 0 0 \n4 0 0 0 0 0 2 0 0 \n```\n\n输出\n\n```\n9 7 2 8 5 3 6 1 4 \n1 4 6 2 7 9 5 3 8 \n5 8 3 1 4 6 7 2 9 \n6 2 4 7 1 8 9 5 3 \n8 1 7 3 9 5 4 6 2 \n3 5 9 4 6 2 8 7 1 \n7 9 8 6 2 1 3 4 5 \n2 6 5 9 3 4 1 8 7 \n4 3 1 5 8 7 2 9 6 \n```", "locale": "zh-CN"}}}
{"pid": "P1785", "type": "P", "difficulty": 2, "samples": [["392 4 343", "Yes\nEh..\nOK"], ["392 1 101", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "漂亮的绝杀", "background": "话说 absi2011 的企鹅在和斗神塔第 $60$ 层的 Boss 战斗。\n\n不好，这局要输了，企鹅还剩 $4$ 血了 Boss 还有 $392$ 呢，哇，漂亮——红缨枪连击，$280$，$343$（暴击），绝杀！嗜血（$4$ 星，嗜血 $50\\%$），完胜（absi2011 的 $60$ 级企鹅贫血，就 $315$，玩过乐斗的别黑）！", "description": "\n别说这是个巧合，这类绝杀还真不少。\n\n现在假设 Boss 还剩下的血为 $x$，absi2011 的企鹅剩 $y$ 血，它拿出的武器的伤害最高是 $z$。它的武器有几率连击。\n\n他问你有无可能绝杀（可连击）。如果能，请先输出一行 `Yes`，否则输出 `No`。如果他给你的数据是错的，请输出 `Wrong Data`。\n\n数据有这么几种情况算错：$y\\leq 0$ 或 $y>315$ 或 $y\\geq x$ 或    $x>1800$（当前斗神塔 Boss 好像没有超过 $1800$ 血的）或 $z\\geq 1000$（红缨枪+天马流星拳+会心一击+残影+武器好手好像都达不到）或 $z\\leq 100$（absi2011 认为小于等于 $100$ 就不算绝杀了）。\n\n（输出 `Yes` 后）接下来，他还想问绝杀（就算最高伤害后）如果触发他的 $3$ 星嗜血 / $4$ 星嗜血 / $5$ 星吸星大法各能不能完胜。三星每次的嗜血嗜血量为 $33\\%\\times$ 伤害（下取整），四星每次的嗜血嗜血量为 $50\\%\\times$ 伤害（下取整），五星吸星大法嗜血量为 $100\\%\\times$ 伤害（这还真不用下取整）。两次要分开算。如果超过血上限就不再回血了。\n\n如果三星能就输出一行 `Great`，四星能就输出一行 `Eh..` 和一行 `OK`，五星能就输出两行 `Oh..` 和一行 `Yes , If he can get 5-star.`。\n\n如果都不行，那么输出三行 `No` 和他 $4$ 星嗜血后的血量。\n\n注意，有可能打一下 Boss 就死了，那么不能连击嗜血了。只能算打死 Boss 那下的嗜血。\n\nBoss 死掉当且仅当 Boss 血 $\\leq 0$（其实 $<0$ 会自动当成 $0$）。", "inputFormat": "\n一行三个整数，$x,y,z$。", "outputFormat": "\n如题目描述。", "hint": "### 提示\n\nBoss 死掉当且仅当 Boss 血 $ \\le 0$（其实 $<0$ 会自动当成 $=0$）\n\n### 数据规模\n\n对于 $30\\%$ 的数据，保证结果为 `Wrong Data` 或 `No` 或 `Yes`（回车）`Great`。\n\n对于另外 $30\\%$ 的数据，保证结果不为 `Wrong Data`。\n\n对于 $100\\%$ 的数据，保证 $-10000\\leq x\\leq 10000,-10000\\leq y\\leq 10000,-10000\\leq z\\leq 10000$，即使 `Wrong Data` 了\n\n### 题目来源\n\nfight.pet.qq.com\n\n\nabsi2011 授权原创题目。\n", "locale": "zh-CN", "translations": {"en": {"title": "A Brilliant Finisher", "background": "It is said that absi2011's penguin is fighting the Boss on floor $60$ of the Tower of the God of War.\n\nOh no, this round is going to be lost: the penguin has $4$ HP left while the Boss still has $392$. Wow, beautiful—Red Tassel Spear combo, $280$, $343$ (critical hit), finisher! Lifesteal ($4$ stars, $50\\%$ lifesteal), perfect victory (absi2011's level $60$ penguin has low max HP, only $315$. Those who have played Le Dou, don't mock it).", "description": "", "inputFormat": "", "outputFormat": "As described above:\n- If the data are wrong, print `Wrong Data`.\n- Otherwise, if a finisher is not possible, print `No`.\n- Otherwise, print `Yes`, then continue with the required lines for $3$-star / $4$-star / $5$-star as specified in the problem description.", "hint": "- Notes:\n  - The Boss dies if and only if the Boss’s HP $ \\le 0$ (in fact, if it becomes $<0$, it is automatically treated as $=0$).\n  - It is possible that the Boss dies in one hit; then the combo cannot continue, and only the lifesteal from the killing blow is counted.\n  - Max HP is $315$.\n\n- Constraints:\n  - For $30\\%$ of the testdata, it is guaranteed that the result is `Wrong Data` or `No` or `Yes` (newline) `Great`.\n  - For another $30\\%$ of the testdata, it is guaranteed that the result is not `Wrong Data`.\n  - For $100\\%$ of the testdata, it is guaranteed that $-10000\\leq x\\leq 10000$, $-10000\\leq y\\leq 10000$, $-10000\\leq z\\leq 10000$, even if it is `Wrong Data`.\n\n- Source:\n  - fight.pet.qq.com\n  - Original problem authorized by absi2011.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "漂亮的绝杀", "background": "话说 absi2011 的企鹅在和斗神塔第 $60$ 层的 Boss 战斗。\n\n不好，这局要输了，企鹅还剩 $4$ 血了 Boss 还有 $392$ 呢，哇，漂亮——红缨枪连击，$280$，$343$（暴击），绝杀！嗜血（$4$ 星，嗜血 $50\\%$），完胜（absi2011 的 $60$ 级企鹅贫血，就 $315$，玩过乐斗的别黑）！", "description": "\n别说这是个巧合，这类绝杀还真不少。\n\n现在假设 Boss 还剩下的血为 $x$，absi2011 的企鹅剩 $y$ 血，它拿出的武器的伤害最高是 $z$。它的武器有几率连击。\n\n他问你有无可能绝杀（可连击）。如果能，请先输出一行 `Yes`，否则输出 `No`。如果他给你的数据是错的，请输出 `Wrong Data`。\n\n数据有这么几种情况算错：$y\\leq 0$ 或 $y>315$ 或 $y\\geq x$ 或    $x>1800$（当前斗神塔 Boss 好像没有超过 $1800$ 血的）或 $z\\geq 1000$（红缨枪+天马流星拳+会心一击+残影+武器好手好像都达不到）或 $z\\leq 100$（absi2011 认为小于等于 $100$ 就不算绝杀了）。\n\n（输出 `Yes` 后）接下来，他还想问绝杀（就算最高伤害后）如果触发他的 $3$ 星嗜血 / $4$ 星嗜血 / $5$ 星吸星大法各能不能完胜。三星每次的嗜血嗜血量为 $33\\%\\times$ 伤害（下取整），四星每次的嗜血嗜血量为 $50\\%\\times$ 伤害（下取整），五星吸星大法嗜血量为 $100\\%\\times$ 伤害（这还真不用下取整）。两次要分开算。如果超过血上限就不再回血了。\n\n如果三星能就输出一行 `Great`，四星能就输出一行 `Eh..` 和一行 `OK`，五星能就输出两行 `Oh..` 和一行 `Yes , If he can get 5-star.`。\n\n如果都不行，那么输出三行 `No` 和他 $4$ 星嗜血后的血量。\n\n注意，有可能打一下 Boss 就死了，那么不能连击嗜血了。只能算打死 Boss 那下的嗜血。\n\nBoss 死掉当且仅当 Boss 血 $\\leq 0$（其实 $<0$ 会自动当成 $0$）。", "inputFormat": "\n一行三个整数，$x,y,z$。", "outputFormat": "\n如题目描述。", "hint": "### 提示\n\nBoss 死掉当且仅当 Boss 血 $ \\le 0$（其实 $<0$ 会自动当成 $=0$）\n\n### 数据规模\n\n对于 $30\\%$ 的数据，保证结果为 `Wrong Data` 或 `No` 或 `Yes`（回车）`Great`。\n\n对于另外 $30\\%$ 的数据，保证结果不为 `Wrong Data`。\n\n对于 $100\\%$ 的数据，保证 $-10000\\leq x\\leq 10000,-10000\\leq y\\leq 10000,-10000\\leq z\\leq 10000$，即使 `Wrong Data` 了\n\n### 题目来源\n\nfight.pet.qq.com\n\n\nabsi2011 授权原创题目。\n", "locale": "zh-CN"}}}
{"pid": "P1786", "type": "P", "difficulty": 3, "samples": [["9\r\nDrangonflyKang BangZhu 100000 66\r\nRenZaiJiangHu FuBangZhu 80000 60\r\nabsi2011 FuBangZhu 90000 60\r\nBingQiLingDeYanLei HuFa 89000 58\r\nLcey HuFa 30000 49\r\nBangYou3 ZhangLao 1000 1\r\nBangYou1 TangZhu 100 40\r\nBangYou2 JingYing 40000 10\r\nBangYou4 BangZhong 400 1", "DrangonflyKang BangZhu 66\r\nRenZaiJiangHu FuBangZhu 60\r\nabsi2011 FuBangZhu 60\r\nBingQiLingDeYanLei HuFa 58\r\nBangYou2 HuFa 10\r\nLcey ZhangLao 49\r\nBangYou1 ZhangLao 40\r\nBangYou3 ZhangLao 1\r\nBangYou4 ZhangLao 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "排序"], "title": "帮贡排序", "background": "> 帮派名号：星月家园\n> \n> 帮主尊号：Dragonfly Kang\n> \n> 帮派 ID：2685023\n> \n> 帮派等级：4\n> \n> 帮派人数：101/110\n> \n> 帮派技能：（？）\n\n“星月家园”资料，欢迎各位豆友加入 ^\\_^\n\n---\n\n在 absi2011 的帮派里，死号偏多。现在 absi2011 和帮主等人联合决定，要清除一些死号，加进一些新号，同时还要鼓励帮贡多的人，对帮派进行一番休整。", "description": "目前帮派内共最多有：\n\n- $1$ 位帮主（$\\texttt{BangZhu}$）\n- $2$ 位副帮主（$\\texttt{FuBangZhu}$）\n- $2$ 位护法（$\\texttt{HuFa}$）\n- $4$ 位长老（$\\texttt{ZhangLao}$）\n- $7$ 位堂主（$\\texttt{TangZhu}$）\n- $25$ 名精英（$\\texttt{JingYing}$）\n- 若干（数量不限）帮众（$\\texttt{BangZhong}$）\n\n保证以上职位是从高到低排列的。\n\n现在 absi2011 要对帮派内几乎所有人的职位全部调整一番。他发现这是个很难的事情。于是要求你帮他调整。\n\n他给你每个人的以下数据：\n\n- 名字\n- 原来职位\n- 帮贡\n- 等级\n\n他要按照以下关键字给帮派内的人（帮主、副帮主除外）按以下关键字排序：\n\n- 帮贡（从高到低）第一关键字\n- 在输入中出现的顺序（从前到后）第二关键字\n\n然后更新这些人的职位：\n\n- 第 $1 \\sim 2$ 名：护法\n- 第 $3 \\sim 6$ 名：长老\n- 第 $7 \\sim 13$ 名：堂主\n- 第 $14 \\sim 38$ 名：精英\n- 第 $39 \\sim (n-3)$ 名：帮众\n\n可是，乐斗的显示并不按帮贡排序而按职位和等级排序。\n\n他要你按照以下关键字排序并求出最后乐斗显示的列表（在他调整过职位后）：\n\n- 职位（从高到低）第一关键字\n- 等级（从高到低）第二关键字\n- 在输入中出现的顺序（从前到后）第三关键字\n\n注意：absi2011 无权调整帮主、副帮主的职位，包括他自己的。", "inputFormat": "第一行一个正整数 $n$，表示星月家园内帮友的人数。\n\n下面 $n$ 行每行两个字符串两个整数，表示每个人的名字、职位、帮贡、等级。", "outputFormat": "一共输出 $n$ 行，每行包括排序后乐斗显示的名字、职位、等级。", "hint": "对于 $10\\%$ 的数据，保证 $n=3$。\n\n对于 $40\\%$ 的数据，保证各个人的帮贡均为 $0$。\n\n对于 $100\\%$ 的数据，保证：\n\n- $3\\leq n\\leq 110$\n- $1\\leq$ 名字长度 $\\leq30$\n- 所有名字两两不同\n- 名字只包含 ASCII 可见字符\n- $0\\leq$ 各个人的帮贡 $\\leq10^9$\n- $1\\leq$ 各个人等级 $\\leq 150$\n- 职位必定为以下七个中的一个：\n  - $\\texttt{BangZhu}$\n  - $\\texttt{FuBangZhu}$\n  - $\\texttt{HuFa}$\n  - $\\texttt{ZhangLao}$\n  - $\\texttt{TangZhu}$\n  - $\\texttt{JingYing}$\n  - $\\texttt{BangZhong}$\n- 初始时帮派内最多有：\n  - $1$ 位帮主\n  - $2$ 位副帮主\n  - $2$ 位护法\n  - $4$ 位长老\n  - $7$ 位堂主\n  - $25$ 名精英\n- 恰好有一名帮主\n- 恰好有两名副帮主\n- 恰好有一名副帮主叫 absi2011\n\n【题目来源】\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN", "translations": {"en": {"title": "Contribution Sorting", "background": "> Guild name: Xingyue Homeland.\n> \n> Guild leader’s honorific: Dragonfly Kang.\n> \n> Guild ID: 2685023.\n> \n> Guild level: 4.\n> \n> Guild members: 101/110.\n> \n> Guild skills: (?).\n\nProfile of “Xingyue Homeland.” All friends are welcome to join ^\\_^.\n\n---\n\nThere are many inactive accounts in absi2011’s guild. Now absi2011 and the guild leader have decided to remove some inactive accounts, add some new members, and also encourage members with high contribution, giving the guild a thorough reorganization.\n\nSource: fight.pet.qq.com. Problem authorized by absi2011.", "description": "At present, the guild can have at most:\n- $1$ guild leader ($\\texttt{BangZhu}$).\n- $2$ vice leaders ($\\texttt{FuBangZhu}$).\n- $2$ guardians ($\\texttt{HuFa}$).\n- $4$ elders ($\\texttt{ZhangLao}$).\n- $7$ hall masters ($\\texttt{TangZhu}$).\n- $25$ elites ($\\texttt{JingYing}$).\n- Any number of regular members ($\\texttt{BangZhong}$).\n\nThe above positions are listed from highest to lowest.\n\nNow absi2011 is going to adjust almost everyone’s position in the guild. He finds this difficult, so he asks you to help.\n\nHe gives you, for each person:\n- Name.\n- Original position.\n- Contribution.\n- Level.\n\nHe wants to sort everyone in the guild except the guild leader and vice leaders by the following keys:\n- Contribution (descending), primary key.\n- Order of appearance in the input (from earlier to later), secondary key.\n\nThen update these people’s positions as follows:\n- Ranks $1$ to $2$: $\\texttt{HuFa}$.\n- Ranks $3$ to $6$: $\\texttt{ZhangLao}$.\n- Ranks $7$ to $13$: $\\texttt{TangZhu}$.\n- Ranks $14$ to $38$: $\\texttt{JingYing}$.\n- Ranks $39$ to $(n-3)$: $\\texttt{BangZhong}$.\n\nHowever, the “Le Dou” display does not sort by contribution, but by position and level.\n\nAfter updating positions, output the final list as “Le Dou” would display it, sorted by:\n- Position (descending), primary key.\n- Level (descending), secondary key.\n- Order of appearance in the input (from earlier to later), tertiary key.\n\nNote: absi2011 has no authority to adjust the positions of the guild leader or the vice leaders, including his own.", "inputFormat": "The first line contains a positive integer $n$, the number of members in Xingyue Homeland.\n\nEach of the next $n$ lines contains two strings and two integers: name, position, contribution, and level.", "outputFormat": "Output $n$ lines. Each line contains the name, position, and level in the order “Le Dou” displays after the adjustments.", "hint": "For $10\\%$ of the testdata, $n=3$.\n\nFor $40\\%$ of the testdata, all contributions are $0$.\n\nFor $100\\%$ of the testdata, it is guaranteed that:\n- $3 \\leq n \\leq 110$.\n- $1 \\leq$ name length $\\leq 30$.\n- All names are pairwise distinct.\n- Names contain only visible ASCII characters.\n- $0 \\leq$ contribution of each person $\\leq 10^9$.\n- $1 \\leq$ level of each person $\\leq 150$.\n- The position is always one of the following seven:\n  - $\\texttt{BangZhu}$.\n  - $\\texttt{FuBangZhu}$.\n  - $\\texttt{HuFa}$.\n  - $\\texttt{ZhangLao}$.\n  - $\\texttt{TangZhu}$.\n  - $\\texttt{JingYing}$.\n  - $\\texttt{BangZhong}$.\n- Initially, the guild has at most:\n  - $1$ guild leader.\n  - $2$ vice leaders.\n  - $2$ guardians.\n  - $4$ elders.\n  - $7$ hall masters.\n  - $25$ elites.\n- There is exactly one guild leader.\n- There are exactly two vice leaders.\n- Exactly one of the vice leaders is named absi2011.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "帮贡排序", "background": "> 帮派名号：星月家园\n> \n> 帮主尊号：Dragonfly Kang\n> \n> 帮派 ID：2685023\n> \n> 帮派等级：4\n> \n> 帮派人数：101/110\n> \n> 帮派技能：（？）\n\n“星月家园”资料，欢迎各位豆友加入 ^\\_^\n\n---\n\n在 absi2011 的帮派里，死号偏多。现在 absi2011 和帮主等人联合决定，要清除一些死号，加进一些新号，同时还要鼓励帮贡多的人，对帮派进行一番休整。", "description": "目前帮派内共最多有：\n\n- $1$ 位帮主（$\\texttt{BangZhu}$）\n- $2$ 位副帮主（$\\texttt{FuBangZhu}$）\n- $2$ 位护法（$\\texttt{HuFa}$）\n- $4$ 位长老（$\\texttt{ZhangLao}$）\n- $7$ 位堂主（$\\texttt{TangZhu}$）\n- $25$ 名精英（$\\texttt{JingYing}$）\n- 若干（数量不限）帮众（$\\texttt{BangZhong}$）\n\n保证以上职位是从高到低排列的。\n\n现在 absi2011 要对帮派内几乎所有人的职位全部调整一番。他发现这是个很难的事情。于是要求你帮他调整。\n\n他给你每个人的以下数据：\n\n- 名字\n- 原来职位\n- 帮贡\n- 等级\n\n他要按照以下关键字给帮派内的人（帮主、副帮主除外）按以下关键字排序：\n\n- 帮贡（从高到低）第一关键字\n- 在输入中出现的顺序（从前到后）第二关键字\n\n然后更新这些人的职位：\n\n- 第 $1 \\sim 2$ 名：护法\n- 第 $3 \\sim 6$ 名：长老\n- 第 $7 \\sim 13$ 名：堂主\n- 第 $14 \\sim 38$ 名：精英\n- 第 $39 \\sim (n-3)$ 名：帮众\n\n可是，乐斗的显示并不按帮贡排序而按职位和等级排序。\n\n他要你按照以下关键字排序并求出最后乐斗显示的列表（在他调整过职位后）：\n\n- 职位（从高到低）第一关键字\n- 等级（从高到低）第二关键字\n- 在输入中出现的顺序（从前到后）第三关键字\n\n注意：absi2011 无权调整帮主、副帮主的职位，包括他自己的。", "inputFormat": "第一行一个正整数 $n$，表示星月家园内帮友的人数。\n\n下面 $n$ 行每行两个字符串两个整数，表示每个人的名字、职位、帮贡、等级。", "outputFormat": "一共输出 $n$ 行，每行包括排序后乐斗显示的名字、职位、等级。", "hint": "对于 $10\\%$ 的数据，保证 $n=3$。\n\n对于 $40\\%$ 的数据，保证各个人的帮贡均为 $0$。\n\n对于 $100\\%$ 的数据，保证：\n\n- $3\\leq n\\leq 110$\n- $1\\leq$ 名字长度 $\\leq30$\n- 所有名字两两不同\n- 名字只包含 ASCII 可见字符\n- $0\\leq$ 各个人的帮贡 $\\leq10^9$\n- $1\\leq$ 各个人等级 $\\leq 150$\n- 职位必定为以下七个中的一个：\n  - $\\texttt{BangZhu}$\n  - $\\texttt{FuBangZhu}$\n  - $\\texttt{HuFa}$\n  - $\\texttt{ZhangLao}$\n  - $\\texttt{TangZhu}$\n  - $\\texttt{JingYing}$\n  - $\\texttt{BangZhong}$\n- 初始时帮派内最多有：\n  - $1$ 位帮主\n  - $2$ 位副帮主\n  - $2$ 位护法\n  - $4$ 位长老\n  - $7$ 位堂主\n  - $25$ 名精英\n- 恰好有一名帮主\n- 恰好有两名副帮主\n- 恰好有一名副帮主叫 absi2011\n\n【题目来源】\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN"}}}
{"pid": "P1787", "type": "P", "difficulty": 4, "samples": [["aabb\n", "2\n"], ["fqmdfnc\n", "21\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树状数组", "2024", "O2优化", "语言月赛"], "title": "[入门赛 #22] 非众数 Hard Version", "background": "本题是「非众数」的 Hard Version，$1 \\le n \\le 10^5$，感谢 @[yummy](https://www.luogu.com.cn/user/101694) 的贡献。", "description": "给定一个长度为 $n$ 的字符串 $s$，保证 $s$ 仅包含小写字母，求 $s$  的**非空子串**中**非众数串**的个数。\n\n> **定义：非空子串**\n>\n> 用 $s_i$ 表示 $s$ 中的第 $i$ 个字符（$1 \\leq i \\leq n$）。任取两个整数 $i, j$（$1 \\leq i \\leq j \\leq n$），将 $s_i, s_{i + 1}, \\cdots, s_{j}$ 截取出来按原序排列作为一个新的字符串，则这个字符串叫做 $s$ 的非空子串。  \n例如，当 $s = \\texttt{abcde}$ 时，$\\texttt{ab}, \\texttt{bcde}, \\texttt{c}, \\texttt{abcde}$ 都是 $s$ 的非空子串，而 $\\texttt{acd}, \\texttt{f}, \\texttt{ngioasd}, \\texttt{\" \"}$ 都不是 $s$ 的非空子串。\n\n> **定义：非众数串**\n>\n> 若字符串 $a$ 中出现次数最多的字符出现的次数不超过 $\\lfloor \\frac{|a|}{2} \\rfloor$，则称字符串 $a$ 为一个**非众数**串。其中 $\\lfloor x \\rfloor$ 代表 $\\leq x$ 的最大整数，$|a|$ 代表 $a$ 的长度。", "inputFormat": "一行一个字符串，表示 $s$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n其中 $\\texttt{ab,aabb}$ 是**非众数**非空子串。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，字符串由小写字母组成。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #22] 非众数 Hard Version", "background": "本题是「非众数」的 Hard Version，$1 \\le n \\le 10^5$，感谢 @[yummy](https://www.luogu.com.cn/user/101694) 的贡献。", "description": "给定一个长度为 $n$ 的字符串 $s$，保证 $s$ 仅包含小写字母，求 $s$  的**非空子串**中**非众数串**的个数。\n\n> **定义：非空子串**\n>\n> 用 $s_i$ 表示 $s$ 中的第 $i$ 个字符（$1 \\leq i \\leq n$）。任取两个整数 $i, j$（$1 \\leq i \\leq j \\leq n$），将 $s_i, s_{i + 1}, \\cdots, s_{j}$ 截取出来按原序排列作为一个新的字符串，则这个字符串叫做 $s$ 的非空子串。  \n例如，当 $s = \\texttt{abcde}$ 时，$\\texttt{ab}, \\texttt{bcde}, \\texttt{c}, \\texttt{abcde}$ 都是 $s$ 的非空子串，而 $\\texttt{acd}, \\texttt{f}, \\texttt{ngioasd}, \\texttt{\" \"}$ 都不是 $s$ 的非空子串。\n\n> **定义：非众数串**\n>\n> 若字符串 $a$ 中出现次数最多的字符出现的次数不超过 $\\lfloor \\frac{|a|}{2} \\rfloor$，则称字符串 $a$ 为一个**非众数**串。其中 $\\lfloor x \\rfloor$ 代表 $\\leq x$ 的最大整数，$|a|$ 代表 $a$ 的长度。", "inputFormat": "一行一个字符串，表示 $s$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n其中 $\\texttt{ab,aabb}$ 是**非众数**非空子串。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，字符串由小写字母组成。\n", "locale": "zh-CN"}}}
{"pid": "P1789", "type": "P", "difficulty": 2, "samples": [["5 1 0\n3 3\n", "12\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "【Mc生存】插火把", "background": null, "description": "话说有一天，linyorson 在“我的世界”中开了一个 $n \\times n$ 的方阵。现在他有 $m$ 个火把和 $k$ 个萤石，分别放在 $(x_1, y_1) \\sim (x_m, y_m)$ 和 $(o_1, p_1) \\sim (o_k, p_k)$ 的位置。已知没有光并且没放东西的地方会生成怪物，请问在这个方阵中有几个点会生成怪物？\n\n**注意，在本题中火把与萤石的照明范围与原版 Minecraft（我的世界）不尽相同，请以本题中的描述为准。**\n\n火把的照亮范围是：\n\n|暗|暗|光|暗|暗|\n|:-:|:-:|:-:|:-:|:-:|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**光**|**光**|**火把**|**光**|**光**|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**暗**|**暗**|**光**|**暗**|**暗**|\n\n萤石是：\n\n|**光**|**光**|**光**|**光**|**光**|\n|:-:|:-:|:-:|:-:|:-:|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**萤石**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|", "inputFormat": "输入共 $m + k + 1$ 行。\n\n第一行为两个正整数 $n, m$ 和一个非负整数 $k$。  \n第二到第 $m + 1$ 行每行两个正整数 $x_i, y_i$，表示各个火把的位置。  \n第 $m + 2$ 到第 $m + k + 1$ 行每行两个正整数 $o_i, p_i$，表示各个萤石的位置。\n\n数据中可能没有萤石，但一定有火把。", "outputFormat": "有几个点会生出怪物。", "hint": "数据保证 $1 \\le n \\le 100$，$1 \\leq m+k \\leq 25$，$1 \\leq m \\leq 25$，$0 \\leq k \\leq 5$。", "locale": "zh-CN", "translations": {"en": {"title": "【Mc Survival】Placing Torches", "background": "", "description": "One day, linyorson created an $n \\times n$ square grid in Minecraft. He has $m$ torches and $k$ glowstones, placed at positions $(x_1, y_1)$ through $(x_m, y_m)$ and $(o_1, p_1)$ through $(o_k, p_k)$, respectively. Any cell that has no light and has nothing placed on it will spawn monsters. How many cells in this grid will spawn monsters?\n\nNote: In this problem the illumination ranges of torches and glowstone are different from the original Minecraft. Please follow the description given here.\n\nP.S. The illumination range of a torch is:\n\n|Dark|Dark|Light|Dark|Dark|\n|:-:|:-:|:-:|:-:|:-:|\n|**Dark**|**Light**|**Light**|**Light**|**Dark**|\n|**Light**|**Light**|**Torch**|**Light**|**Light**|\n|**Dark**|**Light**|**Light**|**Light**|**Dark**|\n|**Dark**|**Dark**|**Light**|**Dark**|**Dark**|\n\nGlowstone:\n\n|**Light**|**Light**|**Light**|**Light**|**Light**|\n|:-:|:-:|:-:|:-:|:-:|\n|**Light**|**Light**|**Light**|**Light**|**Light**|\n|**Light**|**Light**|**Glowstone**|**Light**|**Light**|\n|**Light**|**Light**|**Light**|**Light**|**Light**|\n|**Light**|**Light**|**Light**|**Light**|**Light**|", "inputFormat": "There are $m + k + 1$ lines in total.  \nThe first line contains $n, m, k$.  \nLines $2$ through $m + 1$ give the positions of torches $x_i, y_i$.  \nLines $m + 2$ through $m + k + 1$ give the positions of glowstones $o_i, p_i$.\n\nNote: There may be no glowstone, but there is at least one torch.", "outputFormat": "Output the number of cells that will spawn monsters.", "hint": "Constraints: $1 \\le n \\le 100$, $1 \\le m + k \\le 25$, $1 \\le m \\le 25$, $0 \\le k \\le 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【Mc生存】插火把", "background": null, "description": "话说有一天，linyorson 在“我的世界”中开了一个 $n \\times n$ 的方阵。现在他有 $m$ 个火把和 $k$ 个萤石，分别放在 $(x_1, y_1) \\sim (x_m, y_m)$ 和 $(o_1, p_1) \\sim (o_k, p_k)$ 的位置。已知没有光并且没放东西的地方会生成怪物，请问在这个方阵中有几个点会生成怪物？\n\n**注意，在本题中火把与萤石的照明范围与原版 Minecraft（我的世界）不尽相同，请以本题中的描述为准。**\n\n火把的照亮范围是：\n\n|暗|暗|光|暗|暗|\n|:-:|:-:|:-:|:-:|:-:|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**光**|**光**|**火把**|**光**|**光**|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**暗**|**暗**|**光**|**暗**|**暗**|\n\n萤石是：\n\n|**光**|**光**|**光**|**光**|**光**|\n|:-:|:-:|:-:|:-:|:-:|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**萤石**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|", "inputFormat": "输入共 $m + k + 1$ 行。\n\n第一行为两个正整数 $n, m$ 和一个非负整数 $k$。  \n第二到第 $m + 1$ 行每行两个正整数 $x_i, y_i$，表示各个火把的位置。  \n第 $m + 2$ 到第 $m + k + 1$ 行每行两个正整数 $o_i, p_i$，表示各个萤石的位置。\n\n数据中可能没有萤石，但一定有火把。", "outputFormat": "有几个点会生出怪物。", "hint": "数据保证 $1 \\le n \\le 100$，$1 \\leq m+k \\leq 25$，$1 \\leq m \\leq 25$，$0 \\leq k \\leq 5$。", "locale": "zh-CN"}}}
{"pid": "P1790", "type": "P", "difficulty": 4, "samples": [["3 2", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "洛谷原创"], "title": "矩形分割", "background": "", "description": "有一个长为 $a$，宽为 $b$ 的矩形（$1 \\le a \\le 6$，$2 \\le b \\le 6$）。可以把这个矩形看作是 $a\\times b$ 个小方格。\n\n我们现在接到了这样的一个任务：请你计算出，把这个矩形分割成两个部分的方法总数。\n\n你不是可以任意地分割这个大的矩形，必须满足：\n\n分割后，每个部分，至少各自均有一个方格是在大矩形的最外边上（即大矩形最外面一环的方格）。\n\n", "inputFormat": "输入文件仅包含两个数字，$a$ 和 $b$。", "outputFormat": "输出仅有一行一个整数，表示分割的方案总数。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/buv0992j.png)", "locale": "zh-CN", "translations": {"en": {"title": "Rectangle Partition", "background": "", "description": "There is a rectangle of length $a$ and width $b$ ($1 \\le a \\le 6$, $2 \\le b \\le 6$). You can regard this rectangle as an $a\\times b$ grid of unit squares.\n\nWe are now given the following task: please compute the total number of ways to partition this rectangle into two parts.\n\nYou are not allowed to partition the large rectangle arbitrarily; it must satisfy:\n\nAfter the partition, each part must contain at least one cell that lies on the outer border of the large rectangle (that is, on the outermost ring of cells).", "inputFormat": "The input contains only two integers, $a$ and $b$.", "outputFormat": "Output a single line containing one integer, the total number of ways to partition.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/buv0992j.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "矩形分割", "background": "", "description": "有一个长为 $a$，宽为 $b$ 的矩形（$1 \\le a \\le 6$，$2 \\le b \\le 6$）。可以把这个矩形看作是 $a\\times b$ 个小方格。\n\n我们现在接到了这样的一个任务：请你计算出，把这个矩形分割成两个部分的方法总数。\n\n你不是可以任意地分割这个大的矩形，必须满足：\n\n分割后，每个部分，至少各自均有一个方格是在大矩形的最外边上（即大矩形最外面一环的方格）。\n\n", "inputFormat": "输入文件仅包含两个数字，$a$ 和 $b$。", "outputFormat": "输出仅有一行一个整数，表示分割的方案总数。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/buv0992j.png)", "locale": "zh-CN"}}}
{"pid": "P1791", "type": "P", "difficulty": 6, "samples": [["3\n3 5 100\n0 6 1\n6 0 2\n1 2 0", "1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["集训队互测", "网络流", "最小割"], "title": "[国家集训队] 人员雇佣", "background": "原《线段覆盖》请做P1803", "description": "作为一个富有经营头脑的富翁，小 $L$ 决定从本国最优秀的经理中雇佣一些来经营自己的公司。这些经理相互之间合作有一个贡献指数，（我们用 $E_{i,j}$ 表示 $i$ 经理对 $j$ 经理的了解程度），即当经理 $i$ 和经理 $j$ 同时被雇佣时，经理 $i$ 会对经理 $j$ 做出贡献，使得所赚得的利润增加 $E_{i,j}$。\n\n当然，雇佣每一个经理都需要花费一定的金钱 $A_i$，对于一些经理可能他做出的贡献不值得他的花费，那么作为一个聪明的人，小 $L$ 当然不会雇佣他。然而，那些没有被雇佣的人会被竞争对手所雇佣，这个时候那些人会对你雇佣的经理的工作造成影响，使得所赚得的利润减少 $E_{i,j}$（注意：这里的 $E_{i,j}$ 与上面的 $E_{i,j}$ 是同一个）。\n\n作为一个效率优先的人，小 $L$ 想雇佣一些人使得净利润最大。你可以帮助小 $L$ 解决这个问题吗？", "inputFormat": "第一行有一个整数，表示经理的个数。\n\n第二行有 $N$ 个整数 $A_i$ 表示雇佣每个经理需要花费的金钱。\n\n接下来的 $N$ 行中一行包含 $N$ 个数，表示 $E_{i,j}$，即经理 $i$ 对经理 $j$ 的了解程度。满足 $E_{i,j}=E_{j,i}$。", "outputFormat": "第一行包含一个整数，即所求出的最大值。", "hint": "- $20\\%$ 的数据中 $N\\le 10$；\n- $50\\%$ 的数据中 $N\\le 100$；\n- $100\\%$ 的数据中 $N\\le 1000$，$E_{i,j}<2^{31}$，$A_i<2^{31}$。\n\nFrom 林衍凯。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Personnel Hiring", "background": "For the original \"Segment Coverage,\" please solve P1803.", "description": "As a business-savvy tycoon, Xiao $L$ decides to hire some of the best managers in his country to run his company. There is a collaboration contribution index among these managers (we use $E_{i,j}$ to denote how well manager $i$ knows manager $j$). That is, when manager $i$ and manager $j$ are both hired, manager $i$ contributes to manager $j$, increasing the profit by $E_{i,j}$.\n\nOf course, hiring each manager costs some money $A_i$. For some managers, their contribution may not be worth the cost, so, being smart, Xiao $L$ will not hire them. However, those who are not hired will be hired by competitors. In that case, they will affect the work of the managers you hire, decreasing the profit by $E_{i,j}$ (note: this $E_{i,j}$ is the same as above).\n\nBeing efficiency-first, Xiao $L$ wants to hire some people to maximize the net profit. Can you help Xiao $L$ solve this problem?", "inputFormat": "- The first line contains an integer $N$, the number of managers.\n- The second line contains $N$ integers $A_i$, the cost to hire each manager.\n- The next $N$ lines each contain $N$ numbers, giving $E_{i,j}$, i.e., how well manager $i$ knows manager $j$. It holds that $E_{i,j} = E_{j,i}$.", "outputFormat": "The first line contains one integer, the maximum value.", "hint": "- For 20% of the testdata, $N \\le 10$.\n- For 50% of the testdata, $N \\le 100$.\n- For 100% of the testdata, $N \\le 1000$, $E_{i,j} < 2^{31}$, $A_i < 2^{31}$.\n\nFrom Lin Yankai.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 人员雇佣", "background": "原《线段覆盖》请做P1803", "description": "作为一个富有经营头脑的富翁，小 $L$ 决定从本国最优秀的经理中雇佣一些来经营自己的公司。这些经理相互之间合作有一个贡献指数，（我们用 $E_{i,j}$ 表示 $i$ 经理对 $j$ 经理的了解程度），即当经理 $i$ 和经理 $j$ 同时被雇佣时，经理 $i$ 会对经理 $j$ 做出贡献，使得所赚得的利润增加 $E_{i,j}$。\n\n当然，雇佣每一个经理都需要花费一定的金钱 $A_i$，对于一些经理可能他做出的贡献不值得他的花费，那么作为一个聪明的人，小 $L$ 当然不会雇佣他。然而，那些没有被雇佣的人会被竞争对手所雇佣，这个时候那些人会对你雇佣的经理的工作造成影响，使得所赚得的利润减少 $E_{i,j}$（注意：这里的 $E_{i,j}$ 与上面的 $E_{i,j}$ 是同一个）。\n\n作为一个效率优先的人，小 $L$ 想雇佣一些人使得净利润最大。你可以帮助小 $L$ 解决这个问题吗？", "inputFormat": "第一行有一个整数，表示经理的个数。\n\n第二行有 $N$ 个整数 $A_i$ 表示雇佣每个经理需要花费的金钱。\n\n接下来的 $N$ 行中一行包含 $N$ 个数，表示 $E_{i,j}$，即经理 $i$ 对经理 $j$ 的了解程度。满足 $E_{i,j}=E_{j,i}$。", "outputFormat": "第一行包含一个整数，即所求出的最大值。", "hint": "- $20\\%$ 的数据中 $N\\le 10$；\n- $50\\%$ 的数据中 $N\\le 100$；\n- $100\\%$ 的数据中 $N\\le 1000$，$E_{i,j}<2^{31}$，$A_i<2^{31}$。\n\nFrom 林衍凯。", "locale": "zh-CN"}}}
{"pid": "P1792", "type": "P", "difficulty": 5, "samples": [["7 3\n1 2 3 4 5 6 7", "15"], ["7 4\n1 2 3 4 5 6 7\n", "Error!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "线性数据结构", "堆", "集训队互测", "凸完全单调性（wqs 二分）", "链表", "反悔贪心"], "title": "[国家集训队] 种树", "background": null, "description": "A 城市有一个巨大的圆形广场，为了绿化环境和净化空气，市政![]()府决定沿圆形广场外圈种一圈树。\n\n园林部门得到指令后，初步规划出 $n$ 个种树的位置，顺时针编号 $1$ 到 $n$。并且每个位置都有一个美观度 $A_i$，如果在这里种树就可以得到这 $A_i$ 的美观度。但由于 A 城市土壤肥力欠佳，两棵树决不能种在相邻的位置（$i$ 号位置和 $i+1$ 号位置叫相邻位置。值得注意的是 $1$ 号和 $n$ 号也算相邻位置）。\n\n最终市![]()政![]()府给园林部门提供了 $m$ 棵树苗并要求全部种上，请你帮忙设计种树方案使得美观度总和最大。如果无法将 $m$ 棵树苗全部种上，给出无解信息。", "inputFormat": "输入的第一行包含两个正整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个代表 $A_i$。", "outputFormat": "输出一个整数，表示最佳植树方案可以得到的美观度。如果无解输出 `Error!`。", "hint": "数据编号|$n$ 的大小|数据编号| $n$ 的大小\n-|-|-|-\n$1$|$30$|$11$|$200$\n$2$|$35$|$12$|$2007$\n$3$|$40$|$13$|$2008$\n$4$|$45$|$14$|$2009$\n$5$|$50$|$15$|$2010$\n$6$|$55$|$16$|$2011$\n$7$|$60$|$17$|$2012$\n$8$|$65$|$18$|$199999$\n$9$|$200$|$19$|$199999$\n$10$|$200$|$20$|$200000$\n\n对于全部数据：$m\\le n$，$-1000\\le A_i\\le1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Planting Trees", "background": "", "description": "In City A, there is a huge circular plaza. To green the environment and purify the air, the municipal government![]() decided to plant a ring of trees along the outer edge of the circular plaza.\n\nAfter receiving the order, the parks department initially planned $n$ planting positions, numbered clockwise from $1$ to $n$. Each position has an aesthetic value $A_i$, and if a tree is planted there, you gain this $A_i$ value. However, due to poor soil fertility in City A, two trees must not be planted at adjacent positions (positions $i$ and $i+1$ are adjacent; note that positions $1$ and $n$ are also adjacent).\n\nFinally, the municipal government![]()![]() provided the parks department with $m$ saplings and requires that all of them be planted. Please design a planting plan to maximize the total aesthetic value. If it is impossible to plant all $m$ saplings, output that there is no solution.", "inputFormat": "The first line contains two positive integers $n, m$.\n\nThe second line contains $n$ integers, where the $i$-th integer represents $A_i$.", "outputFormat": "Output one integer, the maximum total aesthetic value achievable by the optimal planting plan. If there is no solution, output `Error!`.", "hint": "testdata ID | $n$ size | testdata ID | $n$ size\n-|-|-|-\n$1$ | $30$ | $11$ | $200$\n$2$ | $35$ | $12$ | $2007$\n$3$ | $40$ | $13$ | $2008$\n$4$ | $45$ | $14$ | $2009$\n$5$ | $50$ | $15$ | $2010$\n$6$ | $55$ | $16$ | $2011$\n$7$ | $60$ | $17$ | $2012$\n$8$ | $65$ | $18$ | $199999$\n$9$ | $200$ | $19$ | $199999$\n$10$ | $200$ | $20$ | $200000$\n\nFor all testdata: $m \\le n$, $-1000 \\le A_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 种树", "background": null, "description": "A 城市有一个巨大的圆形广场，为了绿化环境和净化空气，市政![]()府决定沿圆形广场外圈种一圈树。\n\n园林部门得到指令后，初步规划出 $n$ 个种树的位置，顺时针编号 $1$ 到 $n$。并且每个位置都有一个美观度 $A_i$，如果在这里种树就可以得到这 $A_i$ 的美观度。但由于 A 城市土壤肥力欠佳，两棵树决不能种在相邻的位置（$i$ 号位置和 $i+1$ 号位置叫相邻位置。值得注意的是 $1$ 号和 $n$ 号也算相邻位置）。\n\n最终市![]()政![]()府给园林部门提供了 $m$ 棵树苗并要求全部种上，请你帮忙设计种树方案使得美观度总和最大。如果无法将 $m$ 棵树苗全部种上，给出无解信息。", "inputFormat": "输入的第一行包含两个正整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个代表 $A_i$。", "outputFormat": "输出一个整数，表示最佳植树方案可以得到的美观度。如果无解输出 `Error!`。", "hint": "数据编号|$n$ 的大小|数据编号| $n$ 的大小\n-|-|-|-\n$1$|$30$|$11$|$200$\n$2$|$35$|$12$|$2007$\n$3$|$40$|$13$|$2008$\n$4$|$45$|$14$|$2009$\n$5$|$50$|$15$|$2010$\n$6$|$55$|$16$|$2011$\n$7$|$60$|$17$|$2012$\n$8$|$65$|$18$|$199999$\n$9$|$200$|$19$|$199999$\n$10$|$200$|$20$|$200000$\n\n对于全部数据：$m\\le n$，$-1000\\le A_i\\le1000$。", "locale": "zh-CN"}}}
{"pid": "P1793", "type": "P", "difficulty": 3, "samples": [["6 6\r\n1 2\r\n2 4\r\n2 3\r\n3 5\r\n4 5\r\n5 6\r\n", "2\r\n2 5\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["并查集", "NOI 导刊", "Tarjan", "双连通分量"], "title": "跑步", "background": "", "description": "新牛到部队，CG 要求它们每天早上搞晨跑，从 $A$ 农场跑到 $B$ 农场。从 $A$ 农场到 $B$ 农场中有 $n-2$ 个路口，分别标上号，$A$ 农场为 $1$ 号，$B$ 农场为 $n$ 号，路口分别为 $2,3,4,\\cdots,n-1$ 号，从 $A$ 农场到 $B$ 农场有很多条路径可以到达，而 CG 发现有的路口是必须经过的，即每条路径都经过的路口，CG 要把它们记录下来，这样 CG 就可以先到那个路口，观察新牛们有没有偷懒，而你的任务就是找出所有必经路口。", "inputFormat": "第一行两个用空格隔开的整数 $n\\ (3 \\le n \\le 2000)$ 和 $e\\ (1 \\le e \\le 8000)$。\n\n接下来从第 $2$ 到第 $e+1$ 行，每行两个用空格隔开的整数 $p$ 和 $q$，表示路口 $p$ 和 $q$ 之间有路径直达。\n\n输入数据保证必经路口一定存在，并且每个路口都和 $A$ 农场、$B$ 农场相连通。", "outputFormat": "第一行一个整数 $m$，表示必经路口的数目。\n\n第二行按从小到大的顺序依次输出每个必经路口的编号，每两个数之间用一个空格隔开。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Running", "background": "", "description": "New cows arrived at the unit. CG requires them to go for a morning run every day, from Farm $A$ to Farm $B$. Between Farm $A$ and Farm $B$ there are $n-2$ intersections, which are numbered: Farm $A$ is number $1$, Farm $B$ is number $n$, and the intersections are numbered $2,3,4,\\cdots,n-1$. There are many routes from Farm $A$ to Farm $B$. CG notices that some intersections are must-pass, meaning every route goes through them. CG wants to record them, so CG can go to such an intersection first to check whether the new cows are slacking. Your task is to find all must-pass intersections.", "inputFormat": "The first line contains two integers $n\\ (3 \\le n \\le 2000)$ and $e\\ (1 \\le e \\le 8000)$ separated by a space.\n\nFrom line $2$ to line $e+1$, each line contains two integers $p$ and $q$ separated by a space, indicating that there is a direct path between intersection $p$ and $q$.\n\nThe input guarantees that must-pass intersections exist, and every intersection is connected to both Farm $A$ and Farm $B$.", "outputFormat": "The first line contains an integer $m$, the number of must-pass intersections.\n\nOn the second line, output the indices of all must-pass intersections in increasing order, with a single space between every two numbers.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跑步", "background": "", "description": "新牛到部队，CG 要求它们每天早上搞晨跑，从 $A$ 农场跑到 $B$ 农场。从 $A$ 农场到 $B$ 农场中有 $n-2$ 个路口，分别标上号，$A$ 农场为 $1$ 号，$B$ 农场为 $n$ 号，路口分别为 $2,3,4,\\cdots,n-1$ 号，从 $A$ 农场到 $B$ 农场有很多条路径可以到达，而 CG 发现有的路口是必须经过的，即每条路径都经过的路口，CG 要把它们记录下来，这样 CG 就可以先到那个路口，观察新牛们有没有偷懒，而你的任务就是找出所有必经路口。", "inputFormat": "第一行两个用空格隔开的整数 $n\\ (3 \\le n \\le 2000)$ 和 $e\\ (1 \\le e \\le 8000)$。\n\n接下来从第 $2$ 到第 $e+1$ 行，每行两个用空格隔开的整数 $p$ 和 $q$，表示路口 $p$ 和 $q$ 之间有路径直达。\n\n输入数据保证必经路口一定存在，并且每个路口都和 $A$ 农场、$B$ 农场相连通。", "outputFormat": "第一行一个整数 $m$，表示必经路口的数目。\n\n第二行按从小到大的顺序依次输出每个必经路口的编号，每两个数之间用一个空格隔开。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1794", "type": "P", "difficulty": 2, "samples": [["6 5 \n4\n10 2 2\n20 3 2 \n40 4 3 \n30 3 3 \n", "50\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "背包 DP"], "title": "装备运输", "background": "", "description": "德国放松对英国的进攻后，把矛头指向了东边——苏联。$1943$ 年初，东线的战斗进行到白热化阶段。据可靠情报，$90$ 余万德国军队在库尔斯克准备发动浩大攻势。因此，朱可夫元帅要求你立即从远东的军工厂运输大量装备支援库尔斯克前线。列车司机告诉你，一趟列车最多可以容纳 $V$ 体积的武器装备，但是你可能不能装满，因为列车承受不了那么大的重量，一趟列车最多可以承载 $G$ 单位的重量。同时，军工厂仓库提供给你一份装备清单，详细记录了每件装备的体积、重量和火力。为了有效支援朱可夫元帅，你要找到一种方案，使得总火力值最大。", "inputFormat": "第一行两个整数 $V$ 和 $G$，表示最大体积和重量。\n\n第二行一个整数 $N$，表示仓库有 $N$ 件装备。\n\n第三到 $N+2$ 行，每行 $3$ 个数 $T_i,V_i,G_i$，表示各装备的火力值、体积和重量。", "outputFormat": "输出一个数，表示可能获得的最大火力值。\n", "hint": "对于 $100\\%$ 的数据，$1\\le V, G, N \\le 500$，$1 \\leq T_i, V_i, G_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Equipment Transport", "background": "", "description": "After relaxing its offensive against the United Kingdom, Germany turned its spearhead to the east—the Soviet Union. In early $1943$, the fighting on the Eastern Front reached a white-hot stage. According to reliable intelligence, more than $90$ ten-thousands of German troops were preparing a massive offensive at Kursk. Therefore, Marshal Zhukov requires you to immediately transport a large amount of equipment from the Far East military factories to support the Kursk front. The train driver tells you that a single train can hold at most $V$ volume of weapons and equipment, but you might not be able to fill it up because the train cannot withstand that much weight; a single train can carry at most $G$ units of weight. Meanwhile, the factory warehouse provides you with an equipment list detailing each item's volume, weight, and firepower. To effectively support Marshal Zhukov, you need to find a plan that maximizes the total firepower.", "inputFormat": "The first line contains two integers $V$ and $G$, representing the maximum volume and weight.\n\nThe second line contains an integer $N$, representing that the warehouse has $N$ pieces of equipment.\n\nThe $3$-rd to $N+2$-th lines each contain $3$ numbers $T_i,V_i,G_i$, representing each equipment's firepower, volume, and weight.", "outputFormat": "Output a single number, representing the maximum total firepower that can be obtained.", "hint": "Constraints: For $100\\%$ of the testdata, $1\\le V, G, N \\le 500$, $1 \\leq T_i, V_i, G_i \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "装备运输", "background": "", "description": "德国放松对英国的进攻后，把矛头指向了东边——苏联。$1943$ 年初，东线的战斗进行到白热化阶段。据可靠情报，$90$ 余万德国军队在库尔斯克准备发动浩大攻势。因此，朱可夫元帅要求你立即从远东的军工厂运输大量装备支援库尔斯克前线。列车司机告诉你，一趟列车最多可以容纳 $V$ 体积的武器装备，但是你可能不能装满，因为列车承受不了那么大的重量，一趟列车最多可以承载 $G$ 单位的重量。同时，军工厂仓库提供给你一份装备清单，详细记录了每件装备的体积、重量和火力。为了有效支援朱可夫元帅，你要找到一种方案，使得总火力值最大。", "inputFormat": "第一行两个整数 $V$ 和 $G$，表示最大体积和重量。\n\n第二行一个整数 $N$，表示仓库有 $N$ 件装备。\n\n第三到 $N+2$ 行，每行 $3$ 个数 $T_i,V_i,G_i$，表示各装备的火力值、体积和重量。", "outputFormat": "输出一个数，表示可能获得的最大火力值。\n", "hint": "对于 $100\\%$ 的数据，$1\\le V, G, N \\le 500$，$1 \\leq T_i, V_i, G_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1795", "type": "P", "difficulty": 2, "samples": [["4\n3\n14\n7\n6 \n", "0\n0\n1\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["NOI 导刊", "枚举", "构造"], "title": "无穷的序列", "background": "", "description": "有一个序列 $A$，元素为无穷多，$A_i=\\overline{1\\underbrace{000\\dots0}_{i-1 \\text{ 个 }0}}$。有另一个无穷序列 $B$，$B=\\overline{\\underbrace{A_1A_2A_3A_4\\dots}_{\\text{第 i 个为 }A_i}}$，其中 $\\overline{xy}$ 代表把 $x$ 和 $y$ 拼接在一起，更多数字同理。\n\n这样，无穷序列 $B$ 的前若干项表示为：$\\texttt{110100100010000100000}\\dots$\n\n请你找出无穷序列 $B$ 中指定位置上的数字。", "inputFormat": "第一行一个正整数 $N$ ，表示询问次数；\n\n接下来的 $N$ 行每行一个正整数 $a_i$，$a_i$ 表示在序列中的位置。", "outputFormat": "输出为 $N$ 行，每行为 $0$ 或 $1$ ，表示序列第  $a_i$ 位上的数字。", "hint": "对于 $100\\%$ 的数据，$N \\leq 1\\,500\\,000$，$a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Infinite Sequence", "background": null, "description": "There is a sequence $A$ with infinitely many elements, $A_i=\\overline{1\\underbrace{000\\dots0}_{i-1\\text{ zeros}}}$. There is another infinite sequence $B$, $B=\\overline{\\underbrace{A_1A_2A_3A_4\\dots}_{\\text{the }i\\text{-th is }A_i}}$, where $\\overline{xy}$ denotes concatenating $x$ and $y$, and similarly for more numbers.\n\nThus, the first several digits of the infinite sequence $B$ are: $\\texttt{110100100010000100000}\\dots$.\n\nPlease find the digit at the specified position in the infinite sequence $B$.", "inputFormat": "The first line contains a positive integer $N$, the number of queries.\n\nEach of the next $N$ lines contains a positive integer $a_i$, where $a_i$ denotes a position in sequence $B$.", "outputFormat": "Output $N$ lines, each being $0$ or $1$, representing the digit at position $a_i$ in the sequence.", "hint": "For $100\\%$ of the testdata, $N \\leq 1\\,500\\,000$, $a_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "无穷的序列", "background": "", "description": "有一个序列 $A$，元素为无穷多，$A_i=\\overline{1\\underbrace{000\\dots0}_{i-1 \\text{ 个 }0}}$。有另一个无穷序列 $B$，$B=\\overline{\\underbrace{A_1A_2A_3A_4\\dots}_{\\text{第 i 个为 }A_i}}$，其中 $\\overline{xy}$ 代表把 $x$ 和 $y$ 拼接在一起，更多数字同理。\n\n这样，无穷序列 $B$ 的前若干项表示为：$\\texttt{110100100010000100000}\\dots$\n\n请你找出无穷序列 $B$ 中指定位置上的数字。", "inputFormat": "第一行一个正整数 $N$ ，表示询问次数；\n\n接下来的 $N$ 行每行一个正整数 $a_i$，$a_i$ 表示在序列中的位置。", "outputFormat": "输出为 $N$ 行，每行为 $0$ 或 $1$ ，表示序列第  $a_i$ 位上的数字。", "hint": "对于 $100\\%$ 的数据，$N \\leq 1\\,500\\,000$，$a_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1796", "type": "P", "difficulty": 2, "samples": [["3\n2\n1 15 0\n1 5 0\n3\n1 -5 2 10 0\n1 3 0\n2 40 0\n2\n1 1 2 5 3 -5 0\n2 -19 3 -20 0", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "最短路"], "title": "汤姆斯的天堂梦", "background": "", "description": "汤姆斯生活在一个等级为 $0$ 的星球上。那里的环境极其恶劣，每天 $12$ 小时的工作和成堆的垃圾让人忍无可忍。他向往着等级为 $N$ 的星球上天堂般的生活。\n\n有一些航班将人从低等级的星球送上高一级的星球，有时需要向驾驶员支付一定金额的费用，有时却又可以得到一定的金钱。\n\n汤姆斯预先知道了从 $0$ 等级星球去 $N$ 等级星球所有的航线和需要支付（或者可以得到）的金钱，他想寻找一条价格最低（甚至获得金钱最多）的航线。", "inputFormat": "第一行一个正整数 $N$（$N \\le 100$），接下来的数据可分为 $N$ 个段落，每段的第一行一个整数 $K_i$（$K_i \\le 100$），表示等级为 $i$ 的星球有 $K_i$ 个。\n\n接下来的 $K_i$ 行中第 $j$ 行依次表示与等级为 $i$，编号为 $j$ 的星球相连的等级为 $i - 1$ 的星球的编号和此航线需要的费用（正数表示支出，负数表示收益，费用的绝对值不超过 $1000$）。\n\n每行以 $0$ 结束，每行的航线数 $\\le 100$。", "outputFormat": "输出所需（或所得）费用。正数表示支出，负数表示收益。", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le 100$，$1 \\le K_i \\le 100$。\n\n样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)", "locale": "zh-CN", "translations": {"en": {"title": "Thomas's Dream of Paradise", "background": "", "description": "Thomas lives on a planet at level $0$. The environment there is extremely harsh: $12$ hours of work every day and piles of garbage are unbearable. He longs for the heavenly life on a planet at level $N$.\n\nThere are flights that take people from a lower-level planet to a planet one level higher. Sometimes you need to pay a certain amount to the pilot, and sometimes you can receive some money.\n\nThomas knows in advance all routes from the level $0$ planet to the level $N$ planet and the amount to pay (or receive) for each route. He wants to find a route with the lowest total price (or the highest total earnings).", "inputFormat": "- The first line contains a positive integer $N$ ($N \\le 100$). The following data is divided into $N$ sections. In each section, the first line contains an integer $K_i$ ($K_i \\le 100$), indicating that there are $K_i$ planets at level $i$.\n- In the next $K_i$ lines, the $j$-th line describes the planets at level $i - 1$ that are connected to the planet at level $i$ with index $j$, followed by the cost for each such flight (a positive number means paying, a negative number means earning; the absolute value does not exceed $1000$). Each line consists of several “index cost” pairs and ends with a single $0$. Each line contains at most $100$ routes.", "outputFormat": "Output the required (or obtained) total cost. A positive number means paying, and a negative number means earning.", "hint": "For $100\\%$ of the testdata, $1 \\le N \\le 100$, $1 \\le K_i \\le 100$.\n\nSample explanation:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "汤姆斯的天堂梦", "background": "", "description": "汤姆斯生活在一个等级为 $0$ 的星球上。那里的环境极其恶劣，每天 $12$ 小时的工作和成堆的垃圾让人忍无可忍。他向往着等级为 $N$ 的星球上天堂般的生活。\n\n有一些航班将人从低等级的星球送上高一级的星球，有时需要向驾驶员支付一定金额的费用，有时却又可以得到一定的金钱。\n\n汤姆斯预先知道了从 $0$ 等级星球去 $N$ 等级星球所有的航线和需要支付（或者可以得到）的金钱，他想寻找一条价格最低（甚至获得金钱最多）的航线。", "inputFormat": "第一行一个正整数 $N$（$N \\le 100$），接下来的数据可分为 $N$ 个段落，每段的第一行一个整数 $K_i$（$K_i \\le 100$），表示等级为 $i$ 的星球有 $K_i$ 个。\n\n接下来的 $K_i$ 行中第 $j$ 行依次表示与等级为 $i$，编号为 $j$ 的星球相连的等级为 $i - 1$ 的星球的编号和此航线需要的费用（正数表示支出，负数表示收益，费用的绝对值不超过 $1000$）。\n\n每行以 $0$ 结束，每行的航线数 $\\le 100$。", "outputFormat": "输出所需（或所得）费用。正数表示支出，负数表示收益。", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le 100$，$1 \\le K_i \\le 100$。\n\n样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)", "locale": "zh-CN"}}}
{"pid": "P1797", "type": "P", "difficulty": 6, "samples": [["10\nDECODE_PATH 0\nDECODE_PATH 3 R 2 L 1 R 2\nENCODE_PATH 1 1\nENCODE_PATH 5 11\nLCA 2 3 3 5\nLCA 5439 19294 8291 29410\nANCESTOR 10 1 1\nANCESTOR 300 1000000000 1\nRANGE 1 1\nRANGE 11 8", "1 1\n11 4\n0\n2 L 2 R 4\n2 3\n148 525\n-1\n301 1\n0 1 1 0\n4 3 7 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Stern-Brocot 树", "模板题"], "title": "【模板】Stern-Brocot 树", "background": "这是一道模板题。（[来源](https://judge.yosupo.jp/problem/stern_brocot_tree)）\n\n为了帮小圆打败魔女之夜，你需要回答 Stern-Brocot 树上的询问。", "description": "\n约定：\n\n- 本题中，输入/输出的所有分数都必须是既约的。\n- 本题中，输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n\n### Task 1：ENCODE_PATH\n\n- 输入格式：`ENCODE_PATH` $p$ $q$；\n- 输出格式：$k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n\n给定分数 $\\dfrac{p}{q}$，你需要按照以下格式输出从 Stern-Brocot 树根走到节点 $\\dfrac{p}{q}$ 的路径：\n\n> $k$ $c_1$ $n_1$ $c_2$ $n_2$ $\\cdots$ $c_k$ $n_k$\n\n其中 $c_i\\in \\{\\texttt{L},\\texttt{R}\\}$ 表示走到左儿子或者右儿子，$n_i$ 表示重复 $c_i$ 操作几次。\n\n你需要保证 $\\forall 1\\le i\\lt k$，$c_i\\neq c_{i+1}$。\n\n### Task 2：DECODE_PATH\n\n- 输入格式：`DECODE_PATH` $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n- 输出格式：$p$ $q$。\n\n给定从 Stern-Brocot 树根出发的路径，格式如 Task 1 所述，输出节点上的分数。\n\n保证答案满足 $1\\le p,q\\le 10^9$。\n\n### Task 3：LCA\n\n给定 $\\dfrac{a}{b},\\dfrac{c}{d}$，输出 $\\dfrac{a}{b},\\dfrac{c}{d}$ 的 LCA 上的分数 $\\dfrac{p}{q}$。\n\n\n- 输入格式：`LCA` $a$ $b$ $c$ $d$；\n- 输出格式：$p$ $q$。\n\n### Task 4：ANCESTOR\n\n给定 $\\dfrac{a}{b},k$，输出 $\\dfrac{a}{b}$ 到根的链上，深度为 $k$ 的节点 $\\dfrac{p}{q}$ 的值。如果不存在，输出 $-1$。\n\n\n- 输入格式：`ANCESTOR` $k$ $a$ $b$；\n- 输出格式：$p$ $q$。\n- 数据范围：$1\\le k\\le 10^9$。\n\n### Task 5：RANGE\n\n给定 $\\dfrac{p}{q}$，记在 Stern-Brocot 树中，$\\dfrac{p}{q}$ 的子树中的所有分数构成的集合为 $S$。输出 $\\inf S=\\dfrac{a}{b}$ 和 $\\sup S=\\dfrac{c}{d}$。\n\n特别地，对于 $0$，输出 $0$ $1$；对于 $+\\infty$，输出 $1$ $0$。\n\n- 输入格式：`RANGE` $p$ $q$；\n- 输出格式：$a$ $b$ $c$ $d$。\n", "inputFormat": "第一行，一个正整数 $T$，表示数据组数；\n\n接下来 $T$ 行，每行若干个整数描述一个任务，格式见【题目描述】。", "outputFormat": "输出 $T$ 行，表示对应任务的答案，格式见【题目描述】。", "hint": "- $1\\le T\\le 10^5$；\n- 输入的所有分数都是既约的；\n- 输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Stern-Brocot Tree", "background": "This is a template problem. ([Source](https://judge.yosupo.jp/problem/stern_brocot_tree))\n\nTo help Xiaoyuan defeat the Witch’s Night, you need to answer queries on the Stern-Brocot tree.", "description": "Conventions:\n- In this problem, all fractions in the input/output must be in lowest terms.\n- In this problem, every input fraction $\\dfrac{p}{q}$ satisfies $1 \\le p,q \\le 10^9$.\n\nTask 1: ENCODE_PATH\n- Input format: `ENCODE_PATH` $p$ $q$;\n- Output format: $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$.\n\nGiven a fraction $\\dfrac{p}{q}$, output the path from the root of the Stern-Brocot tree to the node $\\dfrac{p}{q}$ in the following format:\n> $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n\nHere $c_i \\in \\{\\texttt{L}, \\texttt{R}\\}$ means go to the left or right child, and $n_i$ is how many times to repeat $c_i$. You must ensure $\\forall 1 \\le i < k$, $c_i \\ne c_{i+1}$.\n\nTask 2: DECODE_PATH\n- Input format: `DECODE_PATH` $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$;\n- Output format: $p$ $q$.\n\nGiven a path from the root in the same format as in Task 1, output the fraction on that node. It is guaranteed that the answer satisfies $1 \\le p,q \\le 10^9$.\n\nTask 3: LCA\n\nGiven $\\dfrac{a}{b}$ and $\\dfrac{c}{d}$, output the fraction $\\dfrac{p}{q}$ on the LCA of $\\dfrac{a}{b}$ and $\\dfrac{c}{d}$.\n- Input format: `LCA` $a$ $b$ $c$ $d$;\n- Output format: $p$ $q$.\n\nTask 4: ANCESTOR\n\nGiven $\\dfrac{a}{b}$ and $k$, output the value $\\dfrac{p}{q}$ of the node whose depth is $k$ on the chain from $\\dfrac{a}{b}$ up to the root. If it does not exist, output $-1$.\n- Input format: `ANCESTOR` $k$ $a$ $b$;\n- Output format: $p$ $q$.\n- Constraints: $1 \\le k \\le 10^9$.\n\nTask 5: RANGE\n\nGiven $\\dfrac{p}{q}$, let $S$ be the set of all fractions in the subtree of $\\dfrac{p}{q}$ in the Stern-Brocot tree. Output $\\inf S = \\dfrac{a}{b}$ and $\\sup S = \\dfrac{c}{d}$.\n\nIn particular, for $0$, output $0$ $1$; for $+\\infty$, output $1$ $0$.\n- Input format: `RANGE` $p$ $q$;\n- Output format: $a$ $b$ $c$ $d$.", "inputFormat": "The first line contains a positive integer $T$, the number of test cases.\n\nEach of the next $T$ lines describes one task, in the formats given in the Description.", "outputFormat": "Output $T$ lines, each containing the answer to the corresponding task, in the formats given in the Description.", "hint": "- $1 \\le T \\le 10^5$.\n- All input fractions are in lowest terms.\n- Every input fraction $\\dfrac{p}{q}$ satisfies $1 \\le p,q \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】Stern-Brocot 树", "background": "这是一道模板题。（[来源](https://judge.yosupo.jp/problem/stern_brocot_tree)）\n\n为了帮小圆打败魔女之夜，你需要回答 Stern-Brocot 树上的询问。", "description": "\n约定：\n\n- 本题中，输入/输出的所有分数都必须是既约的。\n- 本题中，输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n\n### Task 1：ENCODE_PATH\n\n- 输入格式：`ENCODE_PATH` $p$ $q$；\n- 输出格式：$k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n\n给定分数 $\\dfrac{p}{q}$，你需要按照以下格式输出从 Stern-Brocot 树根走到节点 $\\dfrac{p}{q}$ 的路径：\n\n> $k$ $c_1$ $n_1$ $c_2$ $n_2$ $\\cdots$ $c_k$ $n_k$\n\n其中 $c_i\\in \\{\\texttt{L},\\texttt{R}\\}$ 表示走到左儿子或者右儿子，$n_i$ 表示重复 $c_i$ 操作几次。\n\n你需要保证 $\\forall 1\\le i\\lt k$，$c_i\\neq c_{i+1}$。\n\n### Task 2：DECODE_PATH\n\n- 输入格式：`DECODE_PATH` $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n- 输出格式：$p$ $q$。\n\n给定从 Stern-Brocot 树根出发的路径，格式如 Task 1 所述，输出节点上的分数。\n\n保证答案满足 $1\\le p,q\\le 10^9$。\n\n### Task 3：LCA\n\n给定 $\\dfrac{a}{b},\\dfrac{c}{d}$，输出 $\\dfrac{a}{b},\\dfrac{c}{d}$ 的 LCA 上的分数 $\\dfrac{p}{q}$。\n\n\n- 输入格式：`LCA` $a$ $b$ $c$ $d$；\n- 输出格式：$p$ $q$。\n\n### Task 4：ANCESTOR\n\n给定 $\\dfrac{a}{b},k$，输出 $\\dfrac{a}{b}$ 到根的链上，深度为 $k$ 的节点 $\\dfrac{p}{q}$ 的值。如果不存在，输出 $-1$。\n\n\n- 输入格式：`ANCESTOR` $k$ $a$ $b$；\n- 输出格式：$p$ $q$。\n- 数据范围：$1\\le k\\le 10^9$。\n\n### Task 5：RANGE\n\n给定 $\\dfrac{p}{q}$，记在 Stern-Brocot 树中，$\\dfrac{p}{q}$ 的子树中的所有分数构成的集合为 $S$。输出 $\\inf S=\\dfrac{a}{b}$ 和 $\\sup S=\\dfrac{c}{d}$。\n\n特别地，对于 $0$，输出 $0$ $1$；对于 $+\\infty$，输出 $1$ $0$。\n\n- 输入格式：`RANGE` $p$ $q$；\n- 输出格式：$a$ $b$ $c$ $d$。\n", "inputFormat": "第一行，一个正整数 $T$，表示数据组数；\n\n接下来 $T$ 行，每行若干个整数描述一个任务，格式见【题目描述】。", "outputFormat": "输出 $T$ 行，表示对应任务的答案，格式见【题目描述】。", "hint": "- $1\\le T\\le 10^5$；\n- 输入的所有分数都是既约的；\n- 输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P1798", "type": "P", "difficulty": 3, "samples": [["5 2 4\r\n1 0\r\n3 0\r\n", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "NOI 导刊"], "title": "小明搬家", "background": "", "description": "小明要搬家了，大家都来帮忙。\n\n小明现在住在第 $N$ 楼，总共 $K$ 个人要把 $M$ 个大箱子搬上 $N$ 楼。\n\n最开始 $M$ 个箱子都在 $1$ 楼，但是经过一段混乱的搬运已经乱掉了。最后大家发现这样混乱地搬运过程效率太低了，于是总结出了提高效率的方法。\n\n大家的速度都是每分钟上（或下）一层楼。所有向上走的人手中都拿一个箱子，所有向下走的人手中都不拿箱子。到达第 $N$ 层立刻放下箱子向下走，到达第 $1$ 层立刻拿起箱子向上走。当一个人向上走，另一人向下走而在楼道里相遇时，向上走的人将手中的箱子交给另一人，两人同时反向。即原来拿箱子向上走的人不拿箱子向下走，原来不拿箱子向下走的人现拿着箱子向上走。\n\n求将所有箱子搬完所需的最短时间。", "inputFormat": "第一行 $N, K, M$，分别表示楼层数、人数、还放在一楼地上的箱子数。\n\n接下来 $K$ 行，每行两个数 $A_i,B_i$。\n\n$A_i$ 表示第 $i$ 人现所在的楼层数，$B_i$ 为 $0$ 或 $1$，为 $0$ 表示第 $i$ 人正拿着箱子向上走，为 $1$ 表示第 $i$ 人不拿箱子向下走。\n\n输入满足没有任意两人正在同一楼层，在第 $1$ 层的人一定正拿着箱子向上走，在第 $N$ 层的人一定正不拿箱子向下走。", "outputFormat": "仅包含一个整数，为搬完箱子的时间。\n", "hint": "对于 $30\\%$ 的数据，$K \\leq 100$，$M \\leq 100$；\n\n对于 $60\\%$ 的数据，$K \\leq 1000$，$M \\leq 10^9$;\n\n对于 $100\\%$ 的数据，$N \\le 10^9$，$K \\le 5 \\times 10^5$，$M \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Xiaoming Moves House", "background": "", "description": "Xiaoming is moving, and everyone comes to help.\n\nXiaoming now lives on floor $N$. In total, $K$ people need to carry $M$ large boxes up to floor $N$.\n\nAt the start, all $M$ boxes are on floor $1$. After a period of chaotic moving, things got messy. Everyone then realized the chaos was inefficient and agreed on a more efficient method:\n\n- Each person moves at a speed of one floor per minute, either up or down.\n- Everyone going up carries exactly one box; everyone going down carries no box.\n- Upon reaching floor $N$, a person immediately puts the box down and starts going down. Upon reaching floor $1$, a person immediately picks up a box and starts going up.\n- When a person going up meets a person going down on the stairs, the up-going person hands the box to the other person, and both reverse direction simultaneously. That is, the person who was carrying a box upward now goes downward without a box, and the person who was going downward without a box now goes upward carrying the box.\n\nFind the minimum time needed to finish moving all the boxes.", "inputFormat": "The first line contains $N, K, M$, denoting the number of floors, the number of people, and the number of boxes still lying on floor $1$.\n\nThe next $K$ lines each contain two integers $A_i, B_i$.\n\n$A_i$ is the current floor of the $i$-th person. $B_i$ is $0$ or $1$: $0$ means the $i$-th person is carrying a box and going up, and $1$ means the $i$-th person is going down without a box.\n\nIt is guaranteed that no two people are on the same floor at the same time; anyone on floor $1$ must be going up with a box, and anyone on floor $N$ must be going down without a box.", "outputFormat": "Output a single integer: the time to finish moving all the boxes.", "hint": "- For $30\\%$ of the testdata, $K \\leq 100$, $M \\leq 100$.\n- For $60\\%$ of the testdata, $K \\leq 1000$, $M \\leq 10^9$.\n- For $100\\%$ of the testdata, $N \\le 10^9$, $K \\le 5 \\times 10^5$, $M \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小明搬家", "background": "", "description": "小明要搬家了，大家都来帮忙。\n\n小明现在住在第 $N$ 楼，总共 $K$ 个人要把 $M$ 个大箱子搬上 $N$ 楼。\n\n最开始 $M$ 个箱子都在 $1$ 楼，但是经过一段混乱的搬运已经乱掉了。最后大家发现这样混乱地搬运过程效率太低了，于是总结出了提高效率的方法。\n\n大家的速度都是每分钟上（或下）一层楼。所有向上走的人手中都拿一个箱子，所有向下走的人手中都不拿箱子。到达第 $N$ 层立刻放下箱子向下走，到达第 $1$ 层立刻拿起箱子向上走。当一个人向上走，另一人向下走而在楼道里相遇时，向上走的人将手中的箱子交给另一人，两人同时反向。即原来拿箱子向上走的人不拿箱子向下走，原来不拿箱子向下走的人现拿着箱子向上走。\n\n求将所有箱子搬完所需的最短时间。", "inputFormat": "第一行 $N, K, M$，分别表示楼层数、人数、还放在一楼地上的箱子数。\n\n接下来 $K$ 行，每行两个数 $A_i,B_i$。\n\n$A_i$ 表示第 $i$ 人现所在的楼层数，$B_i$ 为 $0$ 或 $1$，为 $0$ 表示第 $i$ 人正拿着箱子向上走，为 $1$ 表示第 $i$ 人不拿箱子向下走。\n\n输入满足没有任意两人正在同一楼层，在第 $1$ 层的人一定正拿着箱子向上走，在第 $N$ 层的人一定正不拿箱子向下走。", "outputFormat": "仅包含一个整数，为搬完箱子的时间。\n", "hint": "对于 $30\\%$ 的数据，$K \\leq 100$，$M \\leq 100$；\n\n对于 $60\\%$ 的数据，$K \\leq 1000$，$M \\leq 10^9$;\n\n对于 $100\\%$ 的数据，$N \\le 10^9$，$K \\le 5 \\times 10^5$，$M \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1799", "type": "P", "difficulty": 4, "samples": [["5\r\n1 1 2 5 4\r\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊"], "title": "数列", "background": "", "description": "虽然 msh 长大了，但她还是很喜欢找点游戏自娱自乐。有一天，她在纸上写了一串数字：$1, 1, 2, 5, 4$。接着她擦掉了一个 $1$，结果发现剩下 $1, 2, 4$ 都在自己所在的位置上，即 $1$ 在第 $1$ 位，$2$ 在第 $2$ 位，$4$ 在第 $4$ 位。她希望擦掉某些数后，剩下的数列中在自己位置上的数尽量多。她发现这个游戏很好玩，于是开始乐此不疲地玩起来……不过她不能确定最多能有多少个数在自己的位置上，所以找到你，请你帮忙计算一下！\n", "inputFormat": "第一行为一个数 $n$，表示数列的长度。\n\n接下来一行为 $n$个用空格隔开的正整数，第 $i$ 行表示数 $A_i$。\n", "outputFormat": "一行一个整数，表示擦掉某些数后，最后剩下的数列中最多能有多少个数在自己的位置上，即 $A_i=i$ 最多能有多少。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n\\leq 20$；\n- 对于 $60\\%$ 的数据，$n\\leq 100$；\n- 对于 $100\\%$ 的数据，$n\\leq 10^3$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "", "description": "Although msh has grown up, she still likes to play little games to amuse herself. One day, she wrote a sequence of numbers on paper: $1, 1, 2, 5, 4$. Then she erased one $1$, and found that the remaining $1, 2, 4$ were all in their own positions, namely $1$ at position $1$, $2$ at position $2$, and $4$ at position $4$. She wants, after erasing some numbers, to make as many numbers as possible be in their own positions in the remaining sequence. She found this game very fun and kept playing it again and again, but she cannot determine the maximum possible count, so she asks you to compute it.", "inputFormat": "The first line contains an integer $n$, the length of the sequence.\n\nThe next line contains $n$ positive integers separated by spaces; the $i$-th number is $A_i$.", "outputFormat": "Output a single integer, the maximum possible number of elements that can be in their own positions in the remaining sequence after erasing some numbers, that is, after reindexing the remaining sequence from $1$, the maximum count of positions where the value equals its index.", "hint": "Constraints\n- For $20\\%$ of the testdata, $n \\leq 20$.\n- For $60\\%$ of the testdata, $n \\leq 100$.\n- For $100\\%$ of the testdata, $n \\leq 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列", "background": "", "description": "虽然 msh 长大了，但她还是很喜欢找点游戏自娱自乐。有一天，她在纸上写了一串数字：$1, 1, 2, 5, 4$。接着她擦掉了一个 $1$，结果发现剩下 $1, 2, 4$ 都在自己所在的位置上，即 $1$ 在第 $1$ 位，$2$ 在第 $2$ 位，$4$ 在第 $4$ 位。她希望擦掉某些数后，剩下的数列中在自己位置上的数尽量多。她发现这个游戏很好玩，于是开始乐此不疲地玩起来……不过她不能确定最多能有多少个数在自己的位置上，所以找到你，请你帮忙计算一下！\n", "inputFormat": "第一行为一个数 $n$，表示数列的长度。\n\n接下来一行为 $n$个用空格隔开的正整数，第 $i$ 行表示数 $A_i$。\n", "outputFormat": "一行一个整数，表示擦掉某些数后，最后剩下的数列中最多能有多少个数在自己的位置上，即 $A_i=i$ 最多能有多少。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n\\leq 20$；\n- 对于 $60\\%$ 的数据，$n\\leq 100$；\n- 对于 $100\\%$ 的数据，$n\\leq 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P1800", "type": "P", "difficulty": 5, "samples": [["3 20\r\n1 1\r\n2 4\r\n1 6\r\n", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "二分"], "title": "software", "background": null, "description": "一个软件开发公司同时要开发两个软件，并且要同时交付给用户，现在公司为了尽快完成这一任务，将每个软件划分成 $m$ 个模块，由公司里的 $n$ 位技术人员分工完成，每个技术人员完成同一软件的不同模块的所用的天数是相同的，并且是已知的，但完成不同软件的一个模块的时间是不同的，每个技术人员在同一时刻只能做一个模块，一个模块只能由一个人独立完成而不能由多人协同完成。一个技术人员在整个开发期内完成一个模块以后可以接着做任一软件的任一模块。写一个程序，求出公司最早能在什么时候交付软件。", "inputFormat": "输入文件第一行包含两个由空格隔开的整数 $n$ 和 $m$，其中 $1 \\le n \\le 100$，$1 \\le m \\le 100$，接下来的 $n$ 行每行包含两个用空格隔开的整数 $d_1$ 和 $d_2$，$d_1$ 表示该技术人员完成第一个软件中的一个模块所需的天数，$d_2$ 表示该技术人员完成第二个软件中的一个模块所需的天数，其中 $1 \\le d_1,d_2 \\le 100$。", "outputFormat": "输出文件仅有一行包含一个整数 $d$，表示公司最早能于 $d$ 天后交付软件。", "hint": "### 样例解释\n\n最快的方案是第一个技术人员完成第二个软件的 $18$ 个模块，用时 $18$ 天，第三个技术人员完成第一个软件的 $18$ 个模块，用时 $18$ 天，其余的模块由第二个技术人员完成，用时 $12$ 天，做完所有模块需要 $18$ 天。如果第一个技术人员完成第二个软件的 $17$ 个模块，第三个技术人员完成第一个软件的 $17$ 个模块，其余的模块由第二个技术人员完成，需要用时 $18$ 天，做完所有模块仍然需要 $18$ 天，所以少于 $18$ 天不可能做完所有模块。", "locale": "zh-CN", "translations": {"en": {"title": "Software", "background": "", "description": "A software development company needs to develop two software products and deliver them at the same time. To finish this task as soon as possible, each software is divided into $m$ modules to be completed by the company’s technicians. For each technician, the number of days required to complete any module of the same software is the same and known, but the time to complete a module of the other software may be different. At any given moment, each technician can work on at most one module, and each module must be completed independently by exactly one person; collaboration on a single module is not allowed. During the entire development period, after finishing a module, a technician may proceed to any module of either software. Write a program to determine the earliest day on which the company can deliver the software.", "inputFormat": "The first line contains two space-separated integers $n$ and $m$, where $1 \\le n \\le 100$, $1 \\le m \\le 100$. Each of the next $n$ lines contains two space-separated integers $d_1$ and $d_2$. Here, $d_1$ is the number of days this technician needs to complete one module of the first software, and $d_2$ is the number of days needed to complete one module of the second software, where $1 \\le d_1, d_2 \\le 100$.", "outputFormat": "Output a single line containing an integer $d$, indicating the earliest day after which the company can deliver the software.", "hint": "### Sample Explanation\n\nThe fastest plan is for the first technician to complete $18$ modules of the second software, taking $18$ days; the third technician completes $18$ modules of the first software, taking $18$ days; the remaining modules are completed by the second technician, taking $12$ days. Finishing all modules takes $18$ days. If the first technician completes $17$ modules of the second software and the third technician completes $17$ modules of the first software, and the remaining modules are completed by the second technician, it still takes $18$ days. Therefore, it is impossible to finish in fewer than $18$ days.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "software", "background": null, "description": "一个软件开发公司同时要开发两个软件，并且要同时交付给用户，现在公司为了尽快完成这一任务，将每个软件划分成 $m$ 个模块，由公司里的 $n$ 位技术人员分工完成，每个技术人员完成同一软件的不同模块的所用的天数是相同的，并且是已知的，但完成不同软件的一个模块的时间是不同的，每个技术人员在同一时刻只能做一个模块，一个模块只能由一个人独立完成而不能由多人协同完成。一个技术人员在整个开发期内完成一个模块以后可以接着做任一软件的任一模块。写一个程序，求出公司最早能在什么时候交付软件。", "inputFormat": "输入文件第一行包含两个由空格隔开的整数 $n$ 和 $m$，其中 $1 \\le n \\le 100$，$1 \\le m \\le 100$，接下来的 $n$ 行每行包含两个用空格隔开的整数 $d_1$ 和 $d_2$，$d_1$ 表示该技术人员完成第一个软件中的一个模块所需的天数，$d_2$ 表示该技术人员完成第二个软件中的一个模块所需的天数，其中 $1 \\le d_1,d_2 \\le 100$。", "outputFormat": "输出文件仅有一行包含一个整数 $d$，表示公司最早能于 $d$ 天后交付软件。", "hint": "### 样例解释\n\n最快的方案是第一个技术人员完成第二个软件的 $18$ 个模块，用时 $18$ 天，第三个技术人员完成第一个软件的 $18$ 个模块，用时 $18$ 天，其余的模块由第二个技术人员完成，用时 $12$ 天，做完所有模块需要 $18$ 天。如果第一个技术人员完成第二个软件的 $17$ 个模块，第三个技术人员完成第一个软件的 $17$ 个模块，其余的模块由第二个技术人员完成，需要用时 $18$ 天，做完所有模块仍然需要 $18$ 天，所以少于 $18$ 天不可能做完所有模块。", "locale": "zh-CN"}}}
{"pid": "P1801", "type": "P", "difficulty": 3, "samples": [["7 4\n3 1 -4 2 8 -1000 2\n1 2 6 6\n", "3\n3\n1\n2\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树", "平衡树", "堆", "NOI 导刊", "O2优化"], "title": "黑匣子", "background": "", "description": "Black Box 是一种原始的数据库。它可以储存一个整数数组，还有一个特别的变量 $i$。最开始的时候 Black Box 是空的．而 $i=0$。这个 Black Box 要处理一串命令。\n\n命令只有两种：\n\n- `ADD(x)`：把 $x$ 元素放进 Black Box;\n\n- `GET`：$i$ 加 $1$，然后输出 Black Box 中第 $i$ 小的数。\n\n记住：第 $i$ 小的数，就是 Black Box 里的数的按从小到大的顺序排序后的第 $i$ 个元素。\n\n我们来演示一下一个有11个命令的命令串。（如下表所示）\n\n| 序号 | 操作 | $i$ | 数据库 | 输出 |\n| :--: | :--- | :------: | ------ | :----: |\n|   1  | `ADD(3)`     |   $0$    |  $3$  | / |\n|   2  | `GET` |   $1$    |  $3$  | $3$ |\n|   3  |`ADD(1)`|$1$|$1,3$|/|\n|   4  |`GET`|$2$|$1,3$|$3$|\n|   5  |`ADD(-4)`|$2$|$-4,1,3$|/|\n|   6  |`ADD(2)`|$2$|$-4,1,2,3$|/|\n|   7  |`ADD(8)`|$2$|$-4,1,2,3,8$|/|\n|   8  |`ADD(-1000)`|$2$|$-1000,-4,1,2,3,8$|/|\n|   9  |`GET`|$3$|$-1000,-4,1,2,3,8$|$1$|\n|  10  |`GET`|$4$|$-1000,-4,1,2,3,8$|$2$|\n|  11  |`ADD(2)`|$4$|$-1000,-4,1,2,2,3,8$|/|\n\n现在要求找出对于给定的命令串的最好的处理方法。`ADD` 命令共有 $m$ 个，`GET` 命令共有 $n$ 个。现在用两个整数数组来表示命令串：\n\n1. $a_1,a_2,\\cdots,a_m$：一串将要被放进 Black Box 的元素。例如上面的例子中 $a=[3,1,-4,2,8,-1000,2]$。\n\n2. $u_1,u_2,\\cdots,u_n$：表示第 $u_i$ 个元素被放进了 Black Box 里后就出现一个 `GET` 命令。例如上面的例子中 $u=[1,2,6,6]$ 。输入数据不用判错。", "inputFormat": "第一行两个整数 $m$ 和 $n$，表示元素的个数和 `GET` 命令的个数。\n\n第二行共 $m$ 个整数，从左至右第 $i$ 个整数为 $a_i$，用空格隔开。\n\n第三行共 $n$ 个整数，从左至右第 $i$ 个整数为 $u_i$，用空格隔开。", "outputFormat": "输出 Black Box 根据命令串所得出的输出串，一个数字一行。 ", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，$1 \\leq n,m \\leq 10^{4}$。\n- 对于 $50\\%$ 的数据，$1 \\leq n,m \\leq 10^{5}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 2 \\times 10^{5},|a_i| \\leq 2 \\times 10^{9}$，保证 $u$ 序列单调不降。", "locale": "zh-CN", "translations": {"en": {"title": "Black Box", "background": "", "description": "Black Box is a primitive database. It can store an integer array and a special variable $i$. Initially, the Black Box is empty and $i = 0$. This Black Box needs to process a sequence of commands.\n\nThere are only two types of commands:\n- `ADD(x)`: insert element $x$ into the Black Box;\n- `GET`: increase $i$ by $1$, then output the $i$-th smallest number in the Black Box.\n\nRemember: the $i$-th smallest number is the $i$-th element in the Black Box when its numbers are sorted in ascending order.\n\nLet’s demonstrate a sequence of 11 commands (as shown in the table below).\n\n| No. | Operation | $i$ | Database | Output |\n| :--: | :--- | :------: | ------ | :----: |\n| 1 | `ADD(3)` | $0$ | $3$ | / |\n| 2 | `GET` | $1$ | $3$ | $3$ |\n| 3 | `ADD(1)` | $1$ | $1,3$ | / |\n| 4 | `GET` | $2$ | $1,3$ | $3$ |\n| 5 | `ADD(-4)` | $2$ | $-4,1,3$ | / |\n| 6 | `ADD(2)` | $2$ | $-4,1,2,3$ | / |\n| 7 | `ADD(8)` | $2$ | $-4,1,2,3,8$ | / |\n| 8 | `ADD(-1000)` | $2$ | $-1000,-4,1,2,3,8$ | / |\n| 9 | `GET` | $3$ | $-1000,-4,1,2,3,8$ | $1$ |\n| 10 | `GET` | $4$ | $-1000,-4,1,2,3,8$ | $2$ |\n| 11 | `ADD(2)` | $4$ | $-1000,-4,1,2,2,3,8$ | / |\n\nNow you are asked to determine the outputs for a given command sequence. There are $m$ `ADD` commands and $n$ `GET` commands. The command sequence is represented by two integer arrays:\n\n1. $a_1, a_2, \\cdots, a_m$: the sequence of elements to be inserted into the Black Box. For example, in the above example $a = [3, 1, -4, 2, 8, -1000, 2]$.\n2. $u_1, u_2, \\cdots, u_n$: after the $u_i$-th element has been inserted into the Black Box, a `GET` command appears. For example, in the above example $u = [1, 2, 6, 6]$. You do not need to validate the input.", "inputFormat": "- The first line contains two integers $m$ and $n$, the number of elements and the number of `GET` commands.\n- The second line contains $m$ integers. From left to right, the $i$-th integer is $a_i$, separated by spaces.\n- The third line contains $n$ integers. From left to right, the $i$-th integer is $u_i$, separated by spaces.", "outputFormat": "Output the sequence produced by the Black Box according to the command sequence, one number per line.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, $1 \\leq n, m \\leq 10^{4}$.\n- For $50\\%$ of the testdata, $1 \\leq n, m \\leq 10^{5}$.\n- For $100\\%$ of the testdata, $1 \\leq n, m \\leq 2 \\times 10^{5}$, $|a_i| \\leq 2 \\times 10^{9}$, and the sequence $u$ is non-decreasing.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "黑匣子", "background": "", "description": "Black Box 是一种原始的数据库。它可以储存一个整数数组，还有一个特别的变量 $i$。最开始的时候 Black Box 是空的．而 $i=0$。这个 Black Box 要处理一串命令。\n\n命令只有两种：\n\n- `ADD(x)`：把 $x$ 元素放进 Black Box;\n\n- `GET`：$i$ 加 $1$，然后输出 Black Box 中第 $i$ 小的数。\n\n记住：第 $i$ 小的数，就是 Black Box 里的数的按从小到大的顺序排序后的第 $i$ 个元素。\n\n我们来演示一下一个有11个命令的命令串。（如下表所示）\n\n| 序号 | 操作 | $i$ | 数据库 | 输出 |\n| :--: | :--- | :------: | ------ | :----: |\n|   1  | `ADD(3)`     |   $0$    |  $3$  | / |\n|   2  | `GET` |   $1$    |  $3$  | $3$ |\n|   3  |`ADD(1)`|$1$|$1,3$|/|\n|   4  |`GET`|$2$|$1,3$|$3$|\n|   5  |`ADD(-4)`|$2$|$-4,1,3$|/|\n|   6  |`ADD(2)`|$2$|$-4,1,2,3$|/|\n|   7  |`ADD(8)`|$2$|$-4,1,2,3,8$|/|\n|   8  |`ADD(-1000)`|$2$|$-1000,-4,1,2,3,8$|/|\n|   9  |`GET`|$3$|$-1000,-4,1,2,3,8$|$1$|\n|  10  |`GET`|$4$|$-1000,-4,1,2,3,8$|$2$|\n|  11  |`ADD(2)`|$4$|$-1000,-4,1,2,2,3,8$|/|\n\n现在要求找出对于给定的命令串的最好的处理方法。`ADD` 命令共有 $m$ 个，`GET` 命令共有 $n$ 个。现在用两个整数数组来表示命令串：\n\n1. $a_1,a_2,\\cdots,a_m$：一串将要被放进 Black Box 的元素。例如上面的例子中 $a=[3,1,-4,2,8,-1000,2]$。\n\n2. $u_1,u_2,\\cdots,u_n$：表示第 $u_i$ 个元素被放进了 Black Box 里后就出现一个 `GET` 命令。例如上面的例子中 $u=[1,2,6,6]$ 。输入数据不用判错。", "inputFormat": "第一行两个整数 $m$ 和 $n$，表示元素的个数和 `GET` 命令的个数。\n\n第二行共 $m$ 个整数，从左至右第 $i$ 个整数为 $a_i$，用空格隔开。\n\n第三行共 $n$ 个整数，从左至右第 $i$ 个整数为 $u_i$，用空格隔开。", "outputFormat": "输出 Black Box 根据命令串所得出的输出串，一个数字一行。 ", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，$1 \\leq n,m \\leq 10^{4}$。\n- 对于 $50\\%$ 的数据，$1 \\leq n,m \\leq 10^{5}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 2 \\times 10^{5},|a_i| \\leq 2 \\times 10^{9}$，保证 $u$ 序列单调不降。", "locale": "zh-CN"}}}
