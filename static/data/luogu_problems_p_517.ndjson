{"pid": "P11488", "type": "P", "difficulty": 6, "samples": [["23\n3\n1 1 2 3\n3\n1 6 2 2\n3\n1 7 1 4\n3\n2 12\n3\n2 13\n3\n1 3 1 2\n3\n2 7\n3\n2 3\n3\n1 5 2 3\n3\n2 6\n3\n2 5\n3", "1\n3\n5\n6\n5\n5\n6\n4\n3\n5\n3\n2"], ["16\n1 1 4 3\n3\n1 2 3 3\n3\n1 10 1000000000 2\n3\n1 1000000021 1 10\n3\n2 1000000027\n3\n2 23\n3\n1 12 1 1\n3\n1 2000000033 100000 1000000000\n3", "3\n6\n8\n12\n11\n7\n8\n1000000001"], ["18\n1 1 85 483\n1 32607 44 379\n2 45784\n1 46178 133 40\n3\n1 13506 152 357\n2 62124\n3\n1 70877 209 33\n3\n1 37299 429 158\n3\n1 31487 258 363\n2 159051\n3\n2 227162\n2 279608\n3", "902\n1257\n1257\n1415\n1778\n1778"], ["19\n1 1 189019619 113958\n2 800361853\n1 422490453 494478 254349561\n3\n2 1152812283\n2 1650380207\n3\n1 4033287043 23425848 3533684\n2 2666277906\n1 709388173 159264263 191915\n3\n2 3453785850\n2 8487830948768\n2 39677822722745\n2 167837684014594\n1 1534084935 1205975 21949299\n1 151207136 41249553 693236\n1 1121564684 68403 1385595730\n3", "254463518\n254463517\n254463516\n1386594833"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "离散化", "洛谷原创", "扫描线", "洛谷月赛"], "title": "「Cfz Round 5」Zhòng shù", "background": "> 我想要种一棵香蕉树 上面挂满我的所有祝福", "description": "小 C 喜欢种树。\n\n它种了一棵香蕉树，但是这棵树似乎需要人工维护才能生长。\n\n因此，它经常会在树上的某一个位置挂上一些「祝福」。所谓「祝福」，其实就是一条链。\n\n而有的时候树的一部分长得太好了，会导致整棵树长歪，所以它又不得不砍掉一部分。\n\n小 C 还喜欢众数，所以它会经常问你所有树上结点的深度中同一个深度最多的出现次数。\n\n具体来说，有一棵有根树，最初只有根结点 $1$，另外有一个变量 $n=1$。\n\n有如下三种操作：\n\n1. `x l k`：增加编号为 $n+1\\sim n+lk$ 的结点以及边\n$(x,n+1),(n+1,n+2),\\dots,(n+l-1,n+l)$；$(x,n+l+1),(n+l+1,n+l+2),\\dots,(n+2l-1,n+2l)$；$\\dots$；$(x+n+(k-1)l+1),(n+(k-1)l+1,n+(k-1)l+2),\\dots,(n+kl-1,n+kl)$。即在 $x$ 号结点下面挂了 $k$ 条长度为 $l$ 的链。这个操作执行之后 $n\\gets n+kl$。\n2. `x`：删除 $x$ 号结点及其子树。\n3. （无参数）查询所有结点的深度中，出现最多的那个深度的出现次数。", "inputFormat": "第一行包含一个整数 $m$，表示操作次数。\n\n接下来 $m$ 行，每行包含若干个整数，第一个整数 $op$ 表示当前操作种类，接下来的输入与上面的格式依次对应。", "outputFormat": "对于每个 $3$ 操作，输出一行一个整数表示答案。", "hint": "#### 「样例解释 #1」\n\n下面的图中，点的颜色代表被加入的时间。\n\n![](https://s21.ax1x.com/2024/12/09/pAHk3Hf.png)\n\n上图为经过三次 $1$ 操作（`1 1 2 3`，`1 6 2 2` 和 `1 7 1 4`）后的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHklut.png)\n\n上图为在刚才的基础上经过两次 `2` 操作（`2 12` 和 `2 13`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHk1DP.png)\n\n上图为刚才的基础上再经过一次 $1$ 操作（`1 3 1 2`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHkGE8.png)\n\n上图为刚才的基础上再经过两次 $2$ 操作（`2 7` 和 `2 3`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHkMjI.png)\n\n上图为刚才的基础上再经过一次 $1$ 操作（`1 5 2 3`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHkJUS.png)\n\n上图为经过所有操作后的树。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1\\le m\\le 10^5$；\n- $1$ 操作中的 $x$ 满足 $1\\le x\\le n$ 且 $x$ 号结点在树上依然存在，保证 $1 \\le l,k \\le 10^{18}$；\n- $2$ 操作中的 $x$ 满足 $1<x\\le n$ 且 $x$ 号结点在树上依然存在；\n- 任意时刻的 $n$ 满足 $n\\le 10^{18}$。\n\n**本题采用捆绑测试。**\n\n设操作过程中 $n$ 的最大值为 $k$。\n\n- Subtask 0（10 points）：$k \\le 5000$。\n- Subtask 1（20 points）：$k \\le 5 \\times 10^5$。\n- Subtask 2（20 points）：不存在 $2$ 操作。\n- Subtask 3（20 points）：$1$ 操作中 $l$ 的值为 $1$。\n- Subtask 4（30 points）：无特殊限制。", "locale": "zh-CN", "translations": {"en": {"title": "「Cfz Round 5」ˈplɑːntɪŋ triːz", "background": "> I want to plant a banana tree&emsp;with all my blessings hanging on it", "description": "Caca enjoys planting trees. He has planted a banana tree, but it seems only to grow with some artificial maintenance. So he will sometimes hang a *blessing* onto it. The so-called *blessing* is nothing but a chain. However, sometimes the tree is growing too well, leading the tree to become crooked. He has to do some pruning at times as well.\n\nCaca loves mode, so he frequently inquires about the maximum occurrence of a certain value in the multiset formed by the depths of all existing nodes on the tree.\n\nTo be specific, there is a rooted tree. Initially, it contains the only node labeled $1$ as the root. There is a variable $n = 1$. There will be three types of operations as follows:\n\n1. `x l k`: Attach $k$ chains, each of length $l$, under the node $x$. Formally, nodes labeled $(n + 1) \\sim (n + lk)$ will be added, and for each $1 \\leq i \\leq k$, edge $(x, n + (i - 1)l + 1)$, as well as for each $2 \\leq j \\leq k$, edges $(n + (i - 1)l + j - 1, n + (i - 1)l + j)$, will be added. Afterwards, set $n \\gets n + lk$.\n2. `x`: Prune all the nodes in the subtree of $x$.\n3. (No parameters): Inquiring about the maximum occurrence of a certain value in the multiset formed by the depths of all existing nodes on the tree.\n\nCaca will perform $m$ operations in a row. For each operation of type $3$, please tell him the correct answer.", "inputFormat": "The first line of input contains a single integer $m$.\n\nThen $m$ lines follow. Each line contains an operation. The first integer you read, denoted as $\\mathrm{op}$, indicates the type of the operation. Then some amount of parameters will be given in the same form above.", "outputFormat": "For each operation of type $3$, print the correct answer in a new line.", "hint": "#### Sample Explanation #1\n\nIn the following images, the color of the nodes represents the time they were added.\n\n![](https://s21.ax1x.com/2024/12/09/pAHk3Hf.png)\n\nThe above image shows the tree after three $1 $ operations ( `1 1 2 3`, `1 6 2 2`, and `1 7 1 4` ).\n\n![](https://s21.ax1x.com/2024/12/09/pAHklut.png)\n\nThe above image shows the tree that has undergone two $2$ operations ( `2 12` and `2 13` ) based on the previous one.\n\n![](https://s21.ax1x.com/2024/12/09/pAHk1DP.png)\n\nThe above image shows the tree that has undergone another $1$ operation ( `1 3 1 2` ) based on the previous one.\n\n![](https://s21.ax1x.com/2024/12/09/pAHkGE8.png)\n\nThe above image shows the tree after two additional $2$ operations ( `2 7` and `2 3` ) based on the previous one.\n\n![](https://s21.ax1x.com/2024/12/09/pAHkMjI.png)\n\nThe above image shows the tree that has undergone another $1$ operation ( `1 5 2 3` ) based on the previous one.\n\n![](https://s21.ax1x.com/2024/12/09/pAHkJUS.png)\n\nThe above image shows the tree after all operations have been performed.\n\n#### Constraints\n\nFor all test cases, it is guaranteed that:\n\n- $1\\le m\\le 10^5$;\n- The $x$ in the $1$ operation satisfies $1 \\le x \\le n$ and the $x$ node still exists on the tree, guaranteeing that $1 \\le l, k \\le 10^{18}$;\n- The $x$ in the $2$ operation satisfies $1 \\lt x \\le n$ and the $x$ node still exists on the tree;\n- At any given moment, $n$ satisfies $n \\le 10 ^ {18}$.\n\n**Subtasks are used in this task.**\n\n- Subtask 0 (10 points): $k \\le 5000$.\n- Subtask 1 (20 points): $k \\le 5 \\times 10^5$.\n- Subtask 2 (20 points): There is no $2$ operation.\n- Subtask 3 (20 points): The value of $l$ in the $1$ operation is $1$.\n- Subtask 4 (30 points): No further restrictions.", "locale": "en"}, "zh-CN": {"title": "「Cfz Round 5」Zhòng shù", "background": "> 我想要种一棵香蕉树 上面挂满我的所有祝福", "description": "小 C 喜欢种树。\n\n它种了一棵香蕉树，但是这棵树似乎需要人工维护才能生长。\n\n因此，它经常会在树上的某一个位置挂上一些「祝福」。所谓「祝福」，其实就是一条链。\n\n而有的时候树的一部分长得太好了，会导致整棵树长歪，所以它又不得不砍掉一部分。\n\n小 C 还喜欢众数，所以它会经常问你所有树上结点的深度中同一个深度最多的出现次数。\n\n具体来说，有一棵有根树，最初只有根结点 $1$，另外有一个变量 $n=1$。\n\n有如下三种操作：\n\n1. `x l k`：增加编号为 $n+1\\sim n+lk$ 的结点以及边\n$(x,n+1),(n+1,n+2),\\dots,(n+l-1,n+l)$；$(x,n+l+1),(n+l+1,n+l+2),\\dots,(n+2l-1,n+2l)$；$\\dots$；$(x+n+(k-1)l+1),(n+(k-1)l+1,n+(k-1)l+2),\\dots,(n+kl-1,n+kl)$。即在 $x$ 号结点下面挂了 $k$ 条长度为 $l$ 的链。这个操作执行之后 $n\\gets n+kl$。\n2. `x`：删除 $x$ 号结点及其子树。\n3. （无参数）查询所有结点的深度中，出现最多的那个深度的出现次数。", "inputFormat": "第一行包含一个整数 $m$，表示操作次数。\n\n接下来 $m$ 行，每行包含若干个整数，第一个整数 $op$ 表示当前操作种类，接下来的输入与上面的格式依次对应。", "outputFormat": "对于每个 $3$ 操作，输出一行一个整数表示答案。", "hint": "#### 「样例解释 #1」\n\n下面的图中，点的颜色代表被加入的时间。\n\n![](https://s21.ax1x.com/2024/12/09/pAHk3Hf.png)\n\n上图为经过三次 $1$ 操作（`1 1 2 3`，`1 6 2 2` 和 `1 7 1 4`）后的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHklut.png)\n\n上图为在刚才的基础上经过两次 `2` 操作（`2 12` 和 `2 13`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHk1DP.png)\n\n上图为刚才的基础上再经过一次 $1$ 操作（`1 3 1 2`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHkGE8.png)\n\n上图为刚才的基础上再经过两次 $2$ 操作（`2 7` 和 `2 3`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHkMjI.png)\n\n上图为刚才的基础上再经过一次 $1$ 操作（`1 5 2 3`）的树。\n\n![](https://s21.ax1x.com/2024/12/09/pAHkJUS.png)\n\n上图为经过所有操作后的树。\n\n#### 「数据范围」\n\n对于所有测试数据，保证：\n\n- $1\\le m\\le 10^5$；\n- $1$ 操作中的 $x$ 满足 $1\\le x\\le n$ 且 $x$ 号结点在树上依然存在，保证 $1 \\le l,k \\le 10^{18}$；\n- $2$ 操作中的 $x$ 满足 $1<x\\le n$ 且 $x$ 号结点在树上依然存在；\n- 任意时刻的 $n$ 满足 $n\\le 10^{18}$。\n\n**本题采用捆绑测试。**\n\n设操作过程中 $n$ 的最大值为 $k$。\n\n- Subtask 0（10 points）：$k \\le 5000$。\n- Subtask 1（20 points）：$k \\le 5 \\times 10^5$。\n- Subtask 2（20 points）：不存在 $2$ 操作。\n- Subtask 3（20 points）：$1$ 操作中 $l$ 的值为 $1$。\n- Subtask 4（30 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P11489", "type": "P", "difficulty": 7, "samples": [["2 3 1000 500\n0 0\n2 0\n3 1", "1000.0"], ["2 3 500 3000\n0 0\n2 0\n3 1", "3387.277541898787"], ["2 3 250 750\n0 0\n2 0\n3 1", "1000.0"], ["2 3 0 500\n0 0\n2 0\n3 1", "353.5533905932738"], ["3 4 0 10\n0 0\n10 0\n5 10\n5 5", "50.0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "Special Judge", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2023] Astronomer", "background": "", "description": "给定平面上 $n$ 个整点，一个正整数 $k$ 和非负整数 $s,t$，在所有至少覆盖了 $k$ 个点的圆中，设其半径为 $r$，圆心离原点（即 $(0,0)$）距离为 $d$，试求出 $tr+sd$ 的最小值。\n\n本题中的距离为欧几里得距离。", "inputFormat": "第一行四个非负整数 $k,n,s,t$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $x_i,y_i$ 表示第 $i$ 个点的坐标。", "outputFormat": "一行一个实数表示答案。若你的输出和标准答案的相对误差或绝对误差不超过 $\\varepsilon=10^{-6}$（在部分子任务中，$\\varepsilon$ 的值有变化），你的输出将被判定为正确。", "hint": "**【样例解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hj02g4q9.png)\n\n如图，样例 #3 中，最优方案是选择以 $(1,0)$ 为圆心而半径为 $r=1$ 的圆（图中粉色实心圆），代价为 $t\\cdot 1+s\\cdot 1=1\\,000$。\n\n图中的其它三个圆展示了样例 #1、样例 #2，样例 #4 的最优方案。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 700$，$-10^9\\le x_i,y_i\\le 10^9$，$0\\le s,t\\le 10^9$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $8$ | $t\\le s$ |\n| $2$ | $9$ | $n\\le 50$ 且 $s=0$ |\n| $3$ | $18$ | $s=0$ |\n| $4$ | $13$ | $n\\le 50$ |\n| $5$ | $14$ | $n\\le 350$ |\n| $6$ | $15$ | $\\varepsilon=0.1$ |\n| $7$ | $23$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2023] Astronomer", "background": "", "description": "给定平面上 $n$ 个整点，一个正整数 $k$ 和非负整数 $s,t$，在所有至少覆盖了 $k$ 个点的圆中，设其半径为 $r$，圆心离原点（即 $(0,0)$）距离为 $d$，试求出 $tr+sd$ 的最小值。\n\n本题中的距离为欧几里得距离。", "inputFormat": "第一行四个非负整数 $k,n,s,t$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $x_i,y_i$ 表示第 $i$ 个点的坐标。", "outputFormat": "一行一个实数表示答案。若你的输出和标准答案的相对误差或绝对误差不超过 $\\varepsilon=10^{-6}$（在部分子任务中，$\\varepsilon$ 的值有变化），你的输出将被判定为正确。", "hint": "**【样例解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hj02g4q9.png)\n\n如图，样例 #3 中，最优方案是选择以 $(1,0)$ 为圆心而半径为 $r=1$ 的圆（图中粉色实心圆），代价为 $t\\cdot 1+s\\cdot 1=1\\,000$。\n\n图中的其它三个圆展示了样例 #1、样例 #2，样例 #4 的最优方案。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 700$，$-10^9\\le x_i,y_i\\le 10^9$，$0\\le s,t\\le 10^9$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $8$ | $t\\le s$ |\n| $2$ | $9$ | $n\\le 50$ 且 $s=0$ |\n| $3$ | $18$ | $s=0$ |\n| $4$ | $13$ | $n\\le 50$ |\n| $5$ | $14$ | $n\\le 350$ |\n| $6$ | $15$ | $\\varepsilon=0.1$ |\n| $7$ | $23$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P11490", "type": "P", "difficulty": 5, "samples": [["3\n431\n121\n121", "? 1 2\n? 1 3\n? 2 3\n! 431 431 121"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "交互题", "Special Judge", "O2优化", "随机化", "BalticOI（波罗的海）"], "title": "[BalticOI 2023] Staring Contest", "background": "", "description": "**这是一道交互题**。\n\n有一个长度为 $n$ 的正整数序列 $a_1,a_2,\\cdots,a_n$，**它们两两不同**。每次询问你可以给定正整数  $1\\le i, j\\le n$，其中 $i\\neq j$，交互库会告诉你 $\\min(a_i,a_j)$。\n\n你需要确定序列 $a$。然而，显然最大的 $a_i$ 是无法确定的，因此你只需求出一个整数序列 $b_1,b_2,\\cdots,b_n$，满足对于所有 $i=1,2,\\cdots,n$，有 $b_i\\le a_i$，且最多有一个 $i$ 满足 $b_i\\neq a_i$。\n\n（搬题人注：你还需保证 $b_i$ 在 $[-2^{31},2^{31})$ 中。）\n\n**交互库不是自适应的。换而言之，序列 $a$ 在交互前已确定。**\n\n**【交互格式】**\n\n首先选手程序读入一行一个正整数 $n$。\n\n接下来选手可以进行若干次询问，每次询问形如 $\\texttt{?}\\ i\\ j$，其中 $i,j$ 为满足 $1\\le i,j\\le n$ 且 $i\\neq j$ 的正整数。\n\n每次询问后，你需要从标准输入中读入一个正整数，表示 $\\min(a_i,a_j)$ 的值。**你可以询问不超过 $3\\,000$ 次。**\n\n如果你确定了你要回答的序列 $b$，则输出一行 $\\texttt{!}\\ b_1\\ b_2\\ \\cdots\\ b_n$ 表示你的回答。**回答不计做询问。**\n\n**每次询问后，你需要清空缓冲区。**", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "**【样例解释】**\n\n一个可能的 $a$ 为 $[431,623,121]$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le n\\le 1\\,500$，$1\\le a_i\\le 86\\,400$，$a_i$ 两两不同。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $9$ | $n\\le 50$ |\n| $2$ | $11$ | $n\\le 1\\,000$ |\n| $3$ | $80$ | $1\\,000<n\\le 1\\,500$ |\n\n对于前两个子任务，你将获得满分当且仅当你正确的解决了该子任务中的每一个测试点，否则将获得零分。\n\n对于第三个子任务，你的得分为其所有测试点的最低分。其中，对于每个测试点，如果你的程序没有正确解决这个测试点，你将获得 $0$ 分。否则，设你询问了 $q$ 次。若 $q\\le n+25$，你将获得 $80$ 分。若 $q>3\\, 000$，你将获得 $0$ 分。否则，你将获得 $118.2-12\\ln(q-n)$ 分，四舍五入至最近的整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2023] Staring Contest", "background": "", "description": "**这是一道交互题**。\n\n有一个长度为 $n$ 的正整数序列 $a_1,a_2,\\cdots,a_n$，**它们两两不同**。每次询问你可以给定正整数  $1\\le i, j\\le n$，其中 $i\\neq j$，交互库会告诉你 $\\min(a_i,a_j)$。\n\n你需要确定序列 $a$。然而，显然最大的 $a_i$ 是无法确定的，因此你只需求出一个整数序列 $b_1,b_2,\\cdots,b_n$，满足对于所有 $i=1,2,\\cdots,n$，有 $b_i\\le a_i$，且最多有一个 $i$ 满足 $b_i\\neq a_i$。\n\n（搬题人注：你还需保证 $b_i$ 在 $[-2^{31},2^{31})$ 中。）\n\n**交互库不是自适应的。换而言之，序列 $a$ 在交互前已确定。**\n\n**【交互格式】**\n\n首先选手程序读入一行一个正整数 $n$。\n\n接下来选手可以进行若干次询问，每次询问形如 $\\texttt{?}\\ i\\ j$，其中 $i,j$ 为满足 $1\\le i,j\\le n$ 且 $i\\neq j$ 的正整数。\n\n每次询问后，你需要从标准输入中读入一个正整数，表示 $\\min(a_i,a_j)$ 的值。**你可以询问不超过 $3\\,000$ 次。**\n\n如果你确定了你要回答的序列 $b$，则输出一行 $\\texttt{!}\\ b_1\\ b_2\\ \\cdots\\ b_n$ 表示你的回答。**回答不计做询问。**\n\n**每次询问后，你需要清空缓冲区。**", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "**【样例解释】**\n\n一个可能的 $a$ 为 $[431,623,121]$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le n\\le 1\\,500$，$1\\le a_i\\le 86\\,400$，$a_i$ 两两不同。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $9$ | $n\\le 50$ |\n| $2$ | $11$ | $n\\le 1\\,000$ |\n| $3$ | $80$ | $1\\,000<n\\le 1\\,500$ |\n\n对于前两个子任务，你将获得满分当且仅当你正确的解决了该子任务中的每一个测试点，否则将获得零分。\n\n对于第三个子任务，你的得分为其所有测试点的最低分。其中，对于每个测试点，如果你的程序没有正确解决这个测试点，你将获得 $0$ 分。否则，设你询问了 $q$ 次。若 $q\\le n+25$，你将获得 $80$ 分。若 $q>3\\, 000$，你将获得 $0$ 分。否则，你将获得 $118.2-12\\ln(q-n)$ 分，四舍五入至最近的整数。", "locale": "zh-CN"}}}
{"pid": "P11491", "type": "P", "difficulty": 5, "samples": [["18 4 5 2\n8\n15", "29"], ["18 4 0 2\n8\n15", "18"], ["18 10 100 2\n8\n15", "20"], ["18 4 100 0", "418"], ["65 20 100 3\n14\n25\n33", "172"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["线段树", "2023", "O2优化", "动态规划优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2023] Tycho", "background": "", "description": "你在一条数轴上，初始（第 $0$ 秒末）你的坐标是 $0$，你要移动到坐标为 $b$ 的点上。每一秒，你都可以选择向前移动一步（坐标 $+1$）或等待（坐标不变）。给定正整数 $p$ 和非负整数 $d$，对于每个非负整数 $k\\ge 0$，若第 $kp$ 秒末，你的坐标不为 $0$，$b$，也不为给定的 $a_1,a_2,\\cdots,a_n$ 中的一个，则会产生 $d$ 的代价。你要最小化到达坐标为 $b$ 的点的时间和产生的代价之和。输出这个最小值。", "inputFormat": "第一行四个非负整数 $b,p,d,n$。\n\n接下来 $n$ 行，第 $i$ 行一个正整数 $a_i$。", "outputFormat": "一行一个非负整数表示答案。", "hint": "**【样例解释】**\n\n样例 #1 中，一种最优方案是先一直走到坐标为 $15$ 的点，等待 $1$ 秒，再花 $3$ 秒走到终点。总耗时 $19$ 秒，在第 $4$ 秒末和第 $12$ 秒末各产生了 $d=5$ 的代价。答案为 $19+2\\times5=29$。\n\n样例 #2 中，一种最优方案是直接走到终点，总耗时 $18$ 秒。因为 $d=0$，不会产生代价，答案为 $18$。\n\n样例 #3 中，一种最优方案是在原点等待 $2$ 秒再直接走到终点，总耗时 $20$ 秒，没有产生代价，答案为 $20$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le p<b\\le 10^{12}$，$0\\le d\\le 10^6$，$0\\le n\\le 10^5$，$n<b$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $8$ | $p\\le 10^6$ 且离开坐标为 $0$ 的点**后**不需要等待$^{[1]}$ |\n| $2$ | $5$ | $b\\le1\\,000$，$p\\le 100$，$n\\le 10$ |\n| $3$ | $7$ | $b\\le1\\,000$ |\n| $4$ | $15$ | $p\\le 10^6$，$n\\le 1\\,000$ |\n| $5$ | $20$ | $p\\le 100$ |\n| $6$ | $35$ | $p\\le 10^6$ |\n| $7$ | $10$ | 无特殊限制 |\n\n\n$[1]$：离开坐标为 $0$ 的点之前仍然可能需要等待。例如，样例 #2、样例 #3 和样例 #4 均符合子任务 $1$ 的要求。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2023] Tycho", "background": "", "description": "你在一条数轴上，初始（第 $0$ 秒末）你的坐标是 $0$，你要移动到坐标为 $b$ 的点上。每一秒，你都可以选择向前移动一步（坐标 $+1$）或等待（坐标不变）。给定正整数 $p$ 和非负整数 $d$，对于每个非负整数 $k\\ge 0$，若第 $kp$ 秒末，你的坐标不为 $0$，$b$，也不为给定的 $a_1,a_2,\\cdots,a_n$ 中的一个，则会产生 $d$ 的代价。你要最小化到达坐标为 $b$ 的点的时间和产生的代价之和。输出这个最小值。", "inputFormat": "第一行四个非负整数 $b,p,d,n$。\n\n接下来 $n$ 行，第 $i$ 行一个正整数 $a_i$。", "outputFormat": "一行一个非负整数表示答案。", "hint": "**【样例解释】**\n\n样例 #1 中，一种最优方案是先一直走到坐标为 $15$ 的点，等待 $1$ 秒，再花 $3$ 秒走到终点。总耗时 $19$ 秒，在第 $4$ 秒末和第 $12$ 秒末各产生了 $d=5$ 的代价。答案为 $19+2\\times5=29$。\n\n样例 #2 中，一种最优方案是直接走到终点，总耗时 $18$ 秒。因为 $d=0$，不会产生代价，答案为 $18$。\n\n样例 #3 中，一种最优方案是在原点等待 $2$ 秒再直接走到终点，总耗时 $20$ 秒，没有产生代价，答案为 $20$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le p<b\\le 10^{12}$，$0\\le d\\le 10^6$，$0\\le n\\le 10^5$，$n<b$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $8$ | $p\\le 10^6$ 且离开坐标为 $0$ 的点**后**不需要等待$^{[1]}$ |\n| $2$ | $5$ | $b\\le1\\,000$，$p\\le 100$，$n\\le 10$ |\n| $3$ | $7$ | $b\\le1\\,000$ |\n| $4$ | $15$ | $p\\le 10^6$，$n\\le 1\\,000$ |\n| $5$ | $20$ | $p\\le 100$ |\n| $6$ | $35$ | $p\\le 10^6$ |\n| $7$ | $10$ | 无特殊限制 |\n\n\n$[1]$：离开坐标为 $0$ 的点之前仍然可能需要等待。例如，样例 #2、样例 #3 和样例 #4 均符合子任务 $1$ 的要求。", "locale": "zh-CN"}}}
{"pid": "P11492", "type": "P", "difficulty": 5, "samples": [["3\n1 2\n2 3", "3"], ["4\n1 2\n1 3\n1 4", "7"], ["1", "0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "O2优化", "树形 DP", "BalticOI（波罗的海）"], "title": "[BalticOI 2023] Minequake", "background": "", "description": "给定一棵 $n$ 个结点的树，初始你要选择一个结点出发，接下来每一单位时间内都可以走到其相邻的一个结点。你需要访问每一个结点，求每个结点第一次被访问到的时间之和的最小值。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n-1$ 行，每行两个正整数 $u,v$，表示编号为 $u$ 的结点和编号为 $v$ 的结点之间有一条边。", "outputFormat": "一行一个非负整数表示答案。", "hint": "**【样例解释】**\n\n样例 #1 中，一种最优方案是 $1\\to 2\\to 3$，答案为 $0+1+2=3$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le u,v\\le n$，输入为一棵树。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $18$ | 不存在度数大于 $2$ 的结点 |\n| $2$ | $19$ | 至多存在一个度数大于 $2$ 的结点 |\n| $3$ | $20$ | $n\\le 10$ |\n| $4$ | $21$ | $n\\le 1\\,000$ |\n| $5$ | $22$ | 无特殊限制 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2023] Minequake", "background": "", "description": "给定一棵 $n$ 个结点的树，初始你要选择一个结点出发，接下来每一单位时间内都可以走到其相邻的一个结点。你需要访问每一个结点，求每个结点第一次被访问到的时间之和的最小值。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n-1$ 行，每行两个正整数 $u,v$，表示编号为 $u$ 的结点和编号为 $v$ 的结点之间有一条边。", "outputFormat": "一行一个非负整数表示答案。", "hint": "**【样例解释】**\n\n样例 #1 中，一种最优方案是 $1\\to 2\\to 3$，答案为 $0+1+2=3$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le u,v\\le n$，输入为一棵树。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $18$ | 不存在度数大于 $2$ 的结点 |\n| $2$ | $19$ | 至多存在一个度数大于 $2$ 的结点 |\n| $3$ | $20$ | $n\\le 10$ |\n| $4$ | $21$ | $n\\le 1\\,000$ |\n| $5$ | $22$ | 无特殊限制 |\n", "locale": "zh-CN"}}}
{"pid": "P11493", "type": "P", "difficulty": 7, "samples": [["4 2 10\n2 4 4 4 6 10\n0 3 5 8", "? -4 -3 -1 0 2 -1\n? 1 2 0 -2\n! 1 2 -3 -2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "交互题", "Special Judge", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2023] Mineral Deposits", "background": "", "description": "**这是一道交互题**。\n\n平面上有 $k$ 个**不同的**整点，其横纵坐标都在 $[-b,b]$ 中。每次询问你可以给定不超过 $2\\,000$（设为 $d$）**不同**的整点，交互库会告诉你所有这些整点到原先的整点的曼哈顿距离（共 $kd$ 个）的可重集。\n\n你要在 $w$ 次询问中求出这 $k$ 个整点，且所有询问的 $d$ 之和不能超过 $2\\times10^4$。\n\n平面上两个点 $(x_1,y_1)$ 和 $(x_2,y_2)$ 的曼哈顿距离定义为 $|x_1-x_2|+|y_1-y_2|$。 \n\n**【交互格式】**\n\n首先选手程序读入一行三个正整数 $b,k,w$。\n\n接下来选手可以进行不超过 $w$ 次询问，每次询问形如 $\\texttt{?}\\ s_1\\ t_1\\ s_2\\ t_2\\ \\cdots\\ s_d\\ t_d$，表示你询问的点为 $(s_1,t_1),(s_2,t_2),\\cdots,(s_d,t_d)$。你需要保证 $-10^8\\le s_i,t_i\\le 10^8$，且$d\\le 2\\,000$，且 $\\sum d\\le 2\\times10^4$ 且一个询问中的 $(s_i,t_i)$ 互不相同。\n\n每次询问后，你需要从标准输入中读入一行 $kd$ 个不降的非负整数，表示所有距离组成的可重集。\n\n如果你确定了所有 $k$ 个点的坐标，则输出一行 $\\texttt{!}\\ x_1\\ y_1\\ x_2\\ y_2\\ \\cdots\\ x_k\\ y_k$ 表示这 $k$ 个点的坐标为 $(x_1,y_1),(x_2,y_2),\\cdots,(x_k,y_k)$。**你可以以任意顺序输出这 $k$ 个点。**\n\n**每次询问后，你需要清空缓冲区。**", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "**【样例解释】**\n\n第一次询问得到的回答分别为 $2=|(-4)-(-3)|+|(-3)-(-2)|,4=|(-1)-1|+|0-2|,4=|2-1|+|(-1)-2|,4=|(-1)-(-3)|+|0-(-2)|,6=|2-(-3)|+|(-1)-(-2)|,10=|(-4)-1|+|(-3)-2|$。\n\n第二次询问得到的回答分别为 $0=|1-1|+|2-2|,3=|0-(-3)|+|(-2)-(-2)|,5=|0-1|+|(-2)-2|,8=|1-(-3)|+|2-(-2)|$。\n\n需要注意的是，样例仅为展示交互格式，给出的信息并不足以确定答案。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le b\\le 10^8$，$1\\le k\\le 20$，$2\\le w\\le 10^4$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $9$ | $k=1$，$w=10^4$ |\n| $2$ | $19$ | $w\\ge 500$ |\n| $3$ | $11$ | $w\\ge 210$ |\n| $4$ | $7$ | $w\\ge 130$ |\n| $5$ | $20$ | $w\\ge 3$，$b\\le 10^4$ |\n| $6$ | $15$ | $w\\ge 3$，$b\\le 10^7$ |\n| $7$ | $19$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2023] Mineral Deposits", "background": "", "description": "**这是一道交互题**。\n\n平面上有 $k$ 个**不同的**整点，其横纵坐标都在 $[-b,b]$ 中。每次询问你可以给定不超过 $2\\,000$（设为 $d$）**不同**的整点，交互库会告诉你所有这些整点到原先的整点的曼哈顿距离（共 $kd$ 个）的可重集。\n\n你要在 $w$ 次询问中求出这 $k$ 个整点，且所有询问的 $d$ 之和不能超过 $2\\times10^4$。\n\n平面上两个点 $(x_1,y_1)$ 和 $(x_2,y_2)$ 的曼哈顿距离定义为 $|x_1-x_2|+|y_1-y_2|$。 \n\n**【交互格式】**\n\n首先选手程序读入一行三个正整数 $b,k,w$。\n\n接下来选手可以进行不超过 $w$ 次询问，每次询问形如 $\\texttt{?}\\ s_1\\ t_1\\ s_2\\ t_2\\ \\cdots\\ s_d\\ t_d$，表示你询问的点为 $(s_1,t_1),(s_2,t_2),\\cdots,(s_d,t_d)$。你需要保证 $-10^8\\le s_i,t_i\\le 10^8$，且$d\\le 2\\,000$，且 $\\sum d\\le 2\\times10^4$ 且一个询问中的 $(s_i,t_i)$ 互不相同。\n\n每次询问后，你需要从标准输入中读入一行 $kd$ 个不降的非负整数，表示所有距离组成的可重集。\n\n如果你确定了所有 $k$ 个点的坐标，则输出一行 $\\texttt{!}\\ x_1\\ y_1\\ x_2\\ y_2\\ \\cdots\\ x_k\\ y_k$ 表示这 $k$ 个点的坐标为 $(x_1,y_1),(x_2,y_2),\\cdots,(x_k,y_k)$。**你可以以任意顺序输出这 $k$ 个点。**\n\n**每次询问后，你需要清空缓冲区。**", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "**【样例解释】**\n\n第一次询问得到的回答分别为 $2=|(-4)-(-3)|+|(-3)-(-2)|,4=|(-1)-1|+|0-2|,4=|2-1|+|(-1)-2|,4=|(-1)-(-3)|+|0-(-2)|,6=|2-(-3)|+|(-1)-(-2)|,10=|(-4)-1|+|(-3)-2|$。\n\n第二次询问得到的回答分别为 $0=|1-1|+|2-2|,3=|0-(-3)|+|(-2)-(-2)|,5=|0-1|+|(-2)-2|,8=|1-(-3)|+|2-(-2)|$。\n\n需要注意的是，样例仅为展示交互格式，给出的信息并不足以确定答案。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le b\\le 10^8$，$1\\le k\\le 20$，$2\\le w\\le 10^4$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $9$ | $k=1$，$w=10^4$ |\n| $2$ | $19$ | $w\\ge 500$ |\n| $3$ | $11$ | $w\\ge 210$ |\n| $4$ | $7$ | $w\\ge 130$ |\n| $5$ | $20$ | $w\\ge 3$，$b\\le 10^4$ |\n| $6$ | $15$ | $w\\ge 3$，$b\\le 10^7$ |\n| $7$ | $19$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P11494", "type": "P", "difficulty": 0, "samples": [["3\n10\n42\n1", "10\n52\n53"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2023] Sequence", "background": "", "description": "给定一个长度为 $n$ 的序列 $w_1,w_2,\\cdots,w_n$。称一个序列 $x_1,\\cdots,x_m$ 是好的，当且仅当每个 $x_i$ 都是 $[1,n]$ 中的正整数，且 $x_1=1$，且对于 $i=2,\\cdots,m$ 都有 $x_i=x_{i-1}+1$ 或存在正整数 $1\\le j,k<i$ 满足 $x_i=x_jx_k$。一个好序列的权值定义为 $\\sum\\limits_{i=1}^mw_{x_i}$。\n\n例如，若 $n=3$ 而 $w_1=10,w_2=42,w_3=1$，则 $[1,1]$ 为权值为 $20$ 的好序列，$[1,2]$ 为权值为 $52$ 的好序列，$[1,3]$ 不是好序列。\n\n对于每个 $v=1,2,\\cdots,n$，试求出所有包含 $v$ 的好序列的最小可能权值。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n$ 行，第 $i$ 行一个正整数 $w_i$。", "outputFormat": "输出 $n$ 行，第 $i$ 行一个正整数表示 $v=i$ 时的答案。", "hint": "**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 30\\,000$，$1\\le w_i\\le 10^6$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $11$ | $n\\le 10$ |\n| $2$ | $10$ | $n\\le 300$，$w_1=w_2=\\cdots=w_n=1$ |\n| $3$ | $10$ | $n\\le 300$，$w_1=w_2=\\cdots=w_n$ |\n| $4$ | $9$ | $n\\le 1\\,400$，$w_1=w_2=\\cdots=w_n=1$ |\n| $5$ | $45$ | $n\\le 5\\,000$ |\n| $6$ | $15$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2023] Sequence", "background": "", "description": "给定一个长度为 $n$ 的序列 $w_1,w_2,\\cdots,w_n$。称一个序列 $x_1,\\cdots,x_m$ 是好的，当且仅当每个 $x_i$ 都是 $[1,n]$ 中的正整数，且 $x_1=1$，且对于 $i=2,\\cdots,m$ 都有 $x_i=x_{i-1}+1$ 或存在正整数 $1\\le j,k<i$ 满足 $x_i=x_jx_k$。一个好序列的权值定义为 $\\sum\\limits_{i=1}^mw_{x_i}$。\n\n例如，若 $n=3$ 而 $w_1=10,w_2=42,w_3=1$，则 $[1,1]$ 为权值为 $20$ 的好序列，$[1,2]$ 为权值为 $52$ 的好序列，$[1,3]$ 不是好序列。\n\n对于每个 $v=1,2,\\cdots,n$，试求出所有包含 $v$ 的好序列的最小可能权值。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n$ 行，第 $i$ 行一个正整数 $w_i$。", "outputFormat": "输出 $n$ 行，第 $i$ 行一个正整数表示 $v=i$ 时的答案。", "hint": "**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 30\\,000$，$1\\le w_i\\le 10^6$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $11$ | $n\\le 10$ |\n| $2$ | $10$ | $n\\le 300$，$w_1=w_2=\\cdots=w_n=1$ |\n| $3$ | $10$ | $n\\le 300$，$w_1=w_2=\\cdots=w_n$ |\n| $4$ | $9$ | $n\\le 1\\,400$，$w_1=w_2=\\cdots=w_n=1$ |\n| $5$ | $45$ | $n\\le 5\\,000$ |\n| $6$ | $15$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P11495", "type": "P", "difficulty": 2, "samples": [["1\n5\n2", "4"], ["4\n9\n6", "0"]], "limits": {"time": [200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 两次测量 (Day 1)", "background": "翻译自 [ROIR 2019 D1T1](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "科学家们计划在 X-2019 星球上使用研究模块进行一次重要实验。在实验过程中，将进行两次测量：主要测量和控制测量。每次测量都需要 $1$ 小时，并且必须在研究模块开始工作后的整点开始。\n\n实验的数据将在测量结束后立即传输到轨道站。与轨道站的通信通道将在研究模块开始工作后的第 $l$ 到 $r$ 小时之间建立。此外，根据实验计划，两次测量之间，星球必须完成整数圈的自转。X-2019 星球自转一圈需要 $a$ 小时。\n\n因此，如果两次测量分别在第 $i$ 小时和第 $j$ 小时进行，则必须满足 $l \\le i < j \\le r$，且 $a\\mid j - i$。\n\n现在，科学家们需要知道，有多少种不同的可行的测量方案。\n\n简单来说，给定 $l,r,a$，你需要求出满足 $l \\le i < j \\le r$ 且 $a\\mid j - i$ 的整数对 $(i,j)$ 的数量。", "inputFormat": "输入三行，每行一个整数，分别是 $l,r,a$。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例解释：\n\n样例 $1$ 中的四种可行测量方案分别为 $(1,3),(1,5),(2,4),(3,5)$。\n\n样例 $2$ 中，通信通道的工作时间不足以进行两次测量。\n\n### 数据范围：\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le l,r,a\\le$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $30$ | $100$ |\n| $2$ | $30$ | $10^5$ |\n| $3$ | $40$ | $10^9$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 两次测量 (Day 1)", "background": "翻译自 [ROIR 2019 D1T1](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "科学家们计划在 X-2019 星球上使用研究模块进行一次重要实验。在实验过程中，将进行两次测量：主要测量和控制测量。每次测量都需要 $1$ 小时，并且必须在研究模块开始工作后的整点开始。\n\n实验的数据将在测量结束后立即传输到轨道站。与轨道站的通信通道将在研究模块开始工作后的第 $l$ 到 $r$ 小时之间建立。此外，根据实验计划，两次测量之间，星球必须完成整数圈的自转。X-2019 星球自转一圈需要 $a$ 小时。\n\n因此，如果两次测量分别在第 $i$ 小时和第 $j$ 小时进行，则必须满足 $l \\le i < j \\le r$，且 $a\\mid j - i$。\n\n现在，科学家们需要知道，有多少种不同的可行的测量方案。\n\n简单来说，给定 $l,r,a$，你需要求出满足 $l \\le i < j \\le r$ 且 $a\\mid j - i$ 的整数对 $(i,j)$ 的数量。", "inputFormat": "输入三行，每行一个整数，分别是 $l,r,a$。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例解释：\n\n样例 $1$ 中的四种可行测量方案分别为 $(1,3),(1,5),(2,4),(3,5)$。\n\n样例 $2$ 中，通信通道的工作时间不足以进行两次测量。\n\n### 数据范围：\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le l,r,a\\le$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $30$ | $100$ |\n| $2$ | $30$ | $10^5$ |\n| $3$ | $40$ | $10^9$ |", "locale": "zh-CN"}}}
{"pid": "P11496", "type": "P", "difficulty": 3, "samples": [["0", "0"], ["-5", "2"], ["2", "none"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 完全平方 (Day 1)", "background": "翻译自 [ROIR 2019 D1T2](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "我们知道序列 $0,0+1,0+1+3,0+1+3+5,\\dots,0+1+3+\\dots+(2i-1),\\dots$ 的第 $i$ 项是 $i^2$，即，这个序列里的数全部都是完全平方数。\n\n现在我们不让这个序列从 $0$ 开始，而是从 $k$ 开始：$k,k+1,k+1+3,k+1+3+5,\\dots,k+1+3+\\dots+(2i-1),\\dots$。\n\n你需要找到这个序列中最小的完全平方数，并输出它的算术平方根。", "inputFormat": "输入一个整数 $k$。", "outputFormat": "输出序列中最小的完全平方数的算术平方根，如果没有，输出 `none`。", "hint": "### 样例解释：\n\n- 样例 $1$ 中的序列即为题目中提到的完全平方数序列，其中最小的数是 $0$，$\\sqrt0=0$。\n- 样例 $2$ 中的序列为 $-5,-4,-1,4,11,20,\\dots$，其中最小的完全平方数是 $4$，$\\sqrt4=2$。\n- 样例 $3$ 中的序列为 $2,3,6,11,18,\\dots$，可以证明其中不存在完全平方数。\n\n### 数据范围：\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $7$ | $0\\le k\\le1000$ |\n| $2$ | $10$ | $0 \\leq k \\leq 10^5$ |\n| $3$ | $27$ | $0 \\leq k \\leq 10^{12}$ |\n| $4$ | $7$ | $-1000 \\leq k \\leq 1000$ |\n| $5$ | $10$ | $-10^5 \\leq k \\leq 10^5$ |\n| $6$ | $39$ | $-10^{12} \\leq k \\leq 10^{12}$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 完全平方 (Day 1)", "background": "翻译自 [ROIR 2019 D1T2](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "我们知道序列 $0,0+1,0+1+3,0+1+3+5,\\dots,0+1+3+\\dots+(2i-1),\\dots$ 的第 $i$ 项是 $i^2$，即，这个序列里的数全部都是完全平方数。\n\n现在我们不让这个序列从 $0$ 开始，而是从 $k$ 开始：$k,k+1,k+1+3,k+1+3+5,\\dots,k+1+3+\\dots+(2i-1),\\dots$。\n\n你需要找到这个序列中最小的完全平方数，并输出它的算术平方根。", "inputFormat": "输入一个整数 $k$。", "outputFormat": "输出序列中最小的完全平方数的算术平方根，如果没有，输出 `none`。", "hint": "### 样例解释：\n\n- 样例 $1$ 中的序列即为题目中提到的完全平方数序列，其中最小的数是 $0$，$\\sqrt0=0$。\n- 样例 $2$ 中的序列为 $-5,-4,-1,4,11,20,\\dots$，其中最小的完全平方数是 $4$，$\\sqrt4=2$。\n- 样例 $3$ 中的序列为 $2,3,6,11,18,\\dots$，可以证明其中不存在完全平方数。\n\n### 数据范围：\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $7$ | $0\\le k\\le1000$ |\n| $2$ | $10$ | $0 \\leq k \\leq 10^5$ |\n| $3$ | $27$ | $0 \\leq k \\leq 10^{12}$ |\n| $4$ | $7$ | $-1000 \\leq k \\leq 1000$ |\n| $5$ | $10$ | $-10^5 \\leq k \\leq 10^5$ |\n| $6$ | $39$ | $-10^{12} \\leq k \\leq 10^{12}$ |", "locale": "zh-CN"}}}
{"pid": "P11497", "type": "P", "difficulty": 5, "samples": [["1 1\n1\n1", "1\n1"], ["4 5\n4 1 2 4 4\n4 3 2 1", "7\n4 4 2 4 4 1 4"], ["2 2\n1 2\n2 1", "3\n2 2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 自动仓库 (Day 1)", "background": "翻译自 [ROIR 2019 D1T3](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "公司正在进行仓库自动化。仓库里存放着 $n$ 种商品，编号从 $1$ 到 $n$，每种商品存放在一个独立的房间里。编号为 $i$ 的商品存放在编号为 $i$ 的房间里。\n\n一个机器人负责从仓库取货。机器人使用特殊的电子卡片进入仓库的房间。卡片在机器人的一个专用卡槽中。机器人可以从卡槽中取出**最前端**的卡片。取出的卡片可以放回卡槽中的**任意位置**。\n\n为了进入一个房间，机器人按以下步骤操作：\n\n- 从卡槽中取出一个卡片，并放回卡槽中。\n- 重复这样的操作，直到卡槽最前端的卡片是它需要进入的房间的卡片。\n- 然后，取出这张卡片，使用它进入房间，并将其放回卡槽中。\n\n如果机器人总共取出了 $x$ 张卡片（包括最终打开房间的那张），我们说机器人为了进入这个房间进行了 $x$ 次操作。\n\n现在，机器人需要按顺序取出 $m$ 件商品 $a_{1}, a_{2}, \\dots, a_{m}$。最初，电子卡片在卡槽中的顺序为 $b_{1}, b_{2}, \\dots, b_{n}$。每个房间的卡片在卡槽中恰好有一张。\n\n取出商品所需的时间取决于机器人进入对应房间需要的操作次数。为了让机器人更快取出所有商品，你需要确定机器人放回取出卡片的位置，以最小化机器人的总操作次数。", "inputFormat": "第一行输入两个整数 $n$ 和 $m$，表示商品种类数和需要从仓库取出的商品数。\n\n第二行输入 $m$ 个整数 $a_{1}, a_{2}, \\dots, a_{m}$，表示需要按顺序取出的商品。\n\n第三行输入 $n$ 个不同的整数 $b_{1}, b_{2}, \\dots, b_{n}$，表示卡片在卡槽中的初始顺序。", "outputFormat": "第一行输出一个整数 $k$，表示机器人需要的最小操作次数。\n\n第二行输出 $k$ 个整数，即对于机器人的每次操作，需要将取出的卡片放回卡槽中的位置（从前到后的位置编号为 $1$ 到 $n$，也就是将其放回后这个卡片在卡槽中的位置编号）。\n\n如果有多种方法可以最小化总操作次数，可以输出任意一种。", "hint": "### 样例解释\n\n样例 $2$ 的所有操作如下：\n\n|操作|操作前|取出的卡片|打开的房间|卡片放回的位置|操作后|\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n|$1$|$\\mathbf{4}, 3 , 2 , 1$|$4$|$4$|$4$|$3,2,1, \\mathbf{4}$|\n|$2$|$\\mathbf{3}, 2, 1, 4$|$3$|-|$4$|$2,1,4, \\mathbf{3}$|\n|$3$|$\\mathbf{2} , 1 , 4 , 3$|$2$|-|$2$|$1, \\mathbf{2} , 4 , 3$|\n|$4$|$\\mathbf{1} , 2 , 4 , 3$|$1$|$1$|$4$|$2,4,3, \\mathbf{1}$|\n|$5$|$\\mathbf{2} , 4 , 3 , 1$|$2$|$2$|$4$|$4,3,1, \\mathbf{2}$|\n|$6$|$\\mathbf{4}, 3, 1, 2$|$4$|$4$|$1$|$\\mathbf{4} , 3 , 1 , 2$|\n|$7$|$\\mathbf{4} , 3 , 1 , 2$|$4$|$4$|$4$|$3,1,2,\\mathbf{4}$|\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $1 \\leq n=m \\leq 5 \\cdot 10^{4}$，$a_i=b_i$ |\n| $2$ | $10$ | $1 \\leq n= m \\leq 5 \\cdot 10^{4}$，$a_i=b_{n-i+1}$ |\n| $3$ | $31$ | $1 \\leq n, m \\leq 2000$ |\n| $4$ | $14$ | $1 \\leq n, m \\leq 5 \\cdot 10^{4}$，所有 $a_{i}$ 不同 |\n| $5$ | $14$ | $1 \\leq n \\leq 5 \\cdot 10^{4}, 1 \\leq m \\leq 10^{5}$ |\n| $6$ | $26$ | $1 \\leq n \\leq 3 \\cdot 10^{5}, 1 \\leq m \\leq 3 \\cdot 10^{5}$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 自动仓库 (Day 1)", "background": "翻译自 [ROIR 2019 D1T3](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "公司正在进行仓库自动化。仓库里存放着 $n$ 种商品，编号从 $1$ 到 $n$，每种商品存放在一个独立的房间里。编号为 $i$ 的商品存放在编号为 $i$ 的房间里。\n\n一个机器人负责从仓库取货。机器人使用特殊的电子卡片进入仓库的房间。卡片在机器人的一个专用卡槽中。机器人可以从卡槽中取出**最前端**的卡片。取出的卡片可以放回卡槽中的**任意位置**。\n\n为了进入一个房间，机器人按以下步骤操作：\n\n- 从卡槽中取出一个卡片，并放回卡槽中。\n- 重复这样的操作，直到卡槽最前端的卡片是它需要进入的房间的卡片。\n- 然后，取出这张卡片，使用它进入房间，并将其放回卡槽中。\n\n如果机器人总共取出了 $x$ 张卡片（包括最终打开房间的那张），我们说机器人为了进入这个房间进行了 $x$ 次操作。\n\n现在，机器人需要按顺序取出 $m$ 件商品 $a_{1}, a_{2}, \\dots, a_{m}$。最初，电子卡片在卡槽中的顺序为 $b_{1}, b_{2}, \\dots, b_{n}$。每个房间的卡片在卡槽中恰好有一张。\n\n取出商品所需的时间取决于机器人进入对应房间需要的操作次数。为了让机器人更快取出所有商品，你需要确定机器人放回取出卡片的位置，以最小化机器人的总操作次数。", "inputFormat": "第一行输入两个整数 $n$ 和 $m$，表示商品种类数和需要从仓库取出的商品数。\n\n第二行输入 $m$ 个整数 $a_{1}, a_{2}, \\dots, a_{m}$，表示需要按顺序取出的商品。\n\n第三行输入 $n$ 个不同的整数 $b_{1}, b_{2}, \\dots, b_{n}$，表示卡片在卡槽中的初始顺序。", "outputFormat": "第一行输出一个整数 $k$，表示机器人需要的最小操作次数。\n\n第二行输出 $k$ 个整数，即对于机器人的每次操作，需要将取出的卡片放回卡槽中的位置（从前到后的位置编号为 $1$ 到 $n$，也就是将其放回后这个卡片在卡槽中的位置编号）。\n\n如果有多种方法可以最小化总操作次数，可以输出任意一种。", "hint": "### 样例解释\n\n样例 $2$ 的所有操作如下：\n\n|操作|操作前|取出的卡片|打开的房间|卡片放回的位置|操作后|\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n|$1$|$\\mathbf{4}, 3 , 2 , 1$|$4$|$4$|$4$|$3,2,1, \\mathbf{4}$|\n|$2$|$\\mathbf{3}, 2, 1, 4$|$3$|-|$4$|$2,1,4, \\mathbf{3}$|\n|$3$|$\\mathbf{2} , 1 , 4 , 3$|$2$|-|$2$|$1, \\mathbf{2} , 4 , 3$|\n|$4$|$\\mathbf{1} , 2 , 4 , 3$|$1$|$1$|$4$|$2,4,3, \\mathbf{1}$|\n|$5$|$\\mathbf{2} , 4 , 3 , 1$|$2$|$2$|$4$|$4,3,1, \\mathbf{2}$|\n|$6$|$\\mathbf{4}, 3, 1, 2$|$4$|$4$|$1$|$\\mathbf{4} , 3 , 1 , 2$|\n|$7$|$\\mathbf{4} , 3 , 1 , 2$|$4$|$4$|$4$|$3,1,2,\\mathbf{4}$|\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $5$ | $1 \\leq n=m \\leq 5 \\cdot 10^{4}$，$a_i=b_i$ |\n| $2$ | $10$ | $1 \\leq n= m \\leq 5 \\cdot 10^{4}$，$a_i=b_{n-i+1}$ |\n| $3$ | $31$ | $1 \\leq n, m \\leq 2000$ |\n| $4$ | $14$ | $1 \\leq n, m \\leq 5 \\cdot 10^{4}$，所有 $a_{i}$ 不同 |\n| $5$ | $14$ | $1 \\leq n \\leq 5 \\cdot 10^{4}, 1 \\leq m \\leq 10^{5}$ |\n| $6$ | $26$ | $1 \\leq n \\leq 3 \\cdot 10^{5}, 1 \\leq m \\leq 3 \\cdot 10^{5}$ |", "locale": "zh-CN"}}}
{"pid": "P11498", "type": "P", "difficulty": 5, "samples": [["2 0 3", "9"], ["3 1 2\n1 2", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "数位 DP", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 机器学习 (Day 1)", "background": "翻译自 [ROIR 2019 D1T4](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "有一种新的机器学习方法。在训练过程中，程序会进行 $n$ 次迭代。每次迭代中，训练程序会在某个训练集上运行。\n\n训练集的复杂度从 $0$ 到 $k$ 不等。训练计划由一个整数数组 $[a_{1}, a_{2}, \\dots, a_{n}]$ 表示，其中 $0 \\leq a_{i} \\leq k$，$a_{i}$ 表示第 $i$ 次迭代中使用的训练集的复杂度。\n\n研究发现，训练计划的有效性取决于训练集复杂度的二进制表示。为了使计划有效，必须满足对于任意的 $1 \\leq i < j \\leq n$，都有 $(a_{i} \\operatorname{and} a_{j})=a_{i}$，其中 $\\operatorname{and}$ 是按位与。\n\n然而，持续使用相同复杂度的训练集不会带来学习进展。为了避免这种情况，训练计划必须满足 $m$ 个二元限制。每个二元限制由两个数字 $l_{i}$ 和 $r_{i}$ 表示，意味着 $a_{l_{i}} \\neq a_{r_{i}}$。\n\n实验室的工作人员希望找到满足所有二元限制的有效计划的数量。由于答案可能很大，你只需要求出答案对 $10^{9}+7$ 取模后的值。", "inputFormat": "第一行输入三个整数 $n, m, k$，分别表示训练迭代次数、二元限制的数量和训练集的最大复杂度。\n\n接下来 $m$ 行，每行输入一个二元限制。其中第 $i$ 行输入两个整数 $l_{i}, r_{i}$，表示 $a_{l_{i}} \\neq a_{r_{i}}$。保证所有二元限制都是不同的。", "outputFormat": "输出一个整数，表示满足所有二元限制的有效计划的数量对 $10^{9}+7$ 取模的结果。", "hint": "### 样例解释\n\n样例 $1$ 中所有可行的计划为：$[0,0],[0,1],[0,2],[0,3],[1,1],[1,3],[2,2],[2,3],[3,3]$。\n\n样例 $2$ 中所有可行的计划为：$[0,1,1],[0,2,2]$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le n\\le$ | $0\\le m\\le$ | $0\\le k\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $8$ | $500$ | $0$ | $500$ |\n| $2$ | $20$ | $3\\times10^5$ | $0$ | $10^7$ |\n| $3$ | $10$ | $3\\times10^5$ | $0$ | $10^{18}$ |\n| $4$ | $8$ | $50$ | $50$ | $50$ |\n| $5$ | $16$ | $2000$ | $2000$ | $10^7$ |\n| $6$ | $6$ | $2000$ | $2000$ | $10^{18}$ |\n| $7$ | $10$ | $3\\times10^5$ | $200$ | $10^7$ |\n| $8$ | $6$ | $3\\times10^5$ | $200$ | $10^{18}$ |\n| $9$ | $16$ | $3\\times10^5$ | $3\\times10^5$ | $10^{18}$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 机器学习 (Day 1)", "background": "翻译自 [ROIR 2019 D1T4](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day1.pdf)。", "description": "有一种新的机器学习方法。在训练过程中，程序会进行 $n$ 次迭代。每次迭代中，训练程序会在某个训练集上运行。\n\n训练集的复杂度从 $0$ 到 $k$ 不等。训练计划由一个整数数组 $[a_{1}, a_{2}, \\dots, a_{n}]$ 表示，其中 $0 \\leq a_{i} \\leq k$，$a_{i}$ 表示第 $i$ 次迭代中使用的训练集的复杂度。\n\n研究发现，训练计划的有效性取决于训练集复杂度的二进制表示。为了使计划有效，必须满足对于任意的 $1 \\leq i < j \\leq n$，都有 $(a_{i} \\operatorname{and} a_{j})=a_{i}$，其中 $\\operatorname{and}$ 是按位与。\n\n然而，持续使用相同复杂度的训练集不会带来学习进展。为了避免这种情况，训练计划必须满足 $m$ 个二元限制。每个二元限制由两个数字 $l_{i}$ 和 $r_{i}$ 表示，意味着 $a_{l_{i}} \\neq a_{r_{i}}$。\n\n实验室的工作人员希望找到满足所有二元限制的有效计划的数量。由于答案可能很大，你只需要求出答案对 $10^{9}+7$ 取模后的值。", "inputFormat": "第一行输入三个整数 $n, m, k$，分别表示训练迭代次数、二元限制的数量和训练集的最大复杂度。\n\n接下来 $m$ 行，每行输入一个二元限制。其中第 $i$ 行输入两个整数 $l_{i}, r_{i}$，表示 $a_{l_{i}} \\neq a_{r_{i}}$。保证所有二元限制都是不同的。", "outputFormat": "输出一个整数，表示满足所有二元限制的有效计划的数量对 $10^{9}+7$ 取模的结果。", "hint": "### 样例解释\n\n样例 $1$ 中所有可行的计划为：$[0,0],[0,1],[0,2],[0,3],[1,1],[1,3],[2,2],[2,3],[3,3]$。\n\n样例 $2$ 中所有可行的计划为：$[0,1,1],[0,2,2]$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le n\\le$ | $0\\le m\\le$ | $0\\le k\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $8$ | $500$ | $0$ | $500$ |\n| $2$ | $20$ | $3\\times10^5$ | $0$ | $10^7$ |\n| $3$ | $10$ | $3\\times10^5$ | $0$ | $10^{18}$ |\n| $4$ | $8$ | $50$ | $50$ | $50$ |\n| $5$ | $16$ | $2000$ | $2000$ | $10^7$ |\n| $6$ | $6$ | $2000$ | $2000$ | $10^{18}$ |\n| $7$ | $10$ | $3\\times10^5$ | $200$ | $10^7$ |\n| $8$ | $6$ | $3\\times10^5$ | $200$ | $10^{18}$ |\n| $9$ | $16$ | $3\\times10^5$ | $3\\times10^5$ | $10^{18}$ |", "locale": "zh-CN"}}}
{"pid": "P11499", "type": "P", "difficulty": 2, "samples": [["2\n7\n3", "3"], ["4\n10\n3", "4"]], "limits": {"time": [250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 故障火星车 (Day 2)", "background": "翻译自 [ROIR 2019 D2T1](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "执行国际任务的火星车出现了故障。为了恢复其正常工作，需要提高其电池的功率。\n\n火星车电池的功率用一个正整数表示。当前电池功率为 $a$，为了恢复火星车的工作，需要将其功率提高到 $b$。可以从地球向火星车发送 X 和 Y 这两种类型的特殊信号来改变电池功率：\n- X 信号可以将当前电池功率增加 $1$；\n- Y 信号可以将当前电池功率增加 $2$。\n\n由于一些特性，在提高功率的过程中，电池的功率不能是 $c$ 的倍数，否则火星车的电池将原地爆炸。\n\n你需要求出最少需要发送的信号的数量，使得火星车恢复正常工作。", "inputFormat": "输入包括三行，每行一个整数，分别是 $a,b,c$。保证 $c\\nmid a,c\\nmid b$。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例解释\n\n样例 $1$ 中，可以按顺序发送 Y，X，Y 信号，电池功率的变化为：$2\\to4\\to5\\to7$。\n\n样例 $2$ 中，可以按顺序发送 X，Y，X，Y 信号，电池功率的变化为：$4\\to5\\to7\\to8\\to10$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le a<b\\le$ | $2\\le c\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $25$ | $15$ | $15$ |\n| $2$ | $25$ | $10^5$ | $10^5$ |\n| $3$ | $25$ | $10^9$ | $2$ |\n| $4$ | $25$ | $10^9$ | $10^9$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 故障火星车 (Day 2)", "background": "翻译自 [ROIR 2019 D2T1](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "执行国际任务的火星车出现了故障。为了恢复其正常工作，需要提高其电池的功率。\n\n火星车电池的功率用一个正整数表示。当前电池功率为 $a$，为了恢复火星车的工作，需要将其功率提高到 $b$。可以从地球向火星车发送 X 和 Y 这两种类型的特殊信号来改变电池功率：\n- X 信号可以将当前电池功率增加 $1$；\n- Y 信号可以将当前电池功率增加 $2$。\n\n由于一些特性，在提高功率的过程中，电池的功率不能是 $c$ 的倍数，否则火星车的电池将原地爆炸。\n\n你需要求出最少需要发送的信号的数量，使得火星车恢复正常工作。", "inputFormat": "输入包括三行，每行一个整数，分别是 $a,b,c$。保证 $c\\nmid a,c\\nmid b$。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例解释\n\n样例 $1$ 中，可以按顺序发送 Y，X，Y 信号，电池功率的变化为：$2\\to4\\to5\\to7$。\n\n样例 $2$ 中，可以按顺序发送 X，Y，X，Y 信号，电池功率的变化为：$4\\to5\\to7\\to8\\to10$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le a<b\\le$ | $2\\le c\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $25$ | $15$ | $15$ |\n| $2$ | $25$ | $10^5$ | $10^5$ |\n| $3$ | $25$ | $10^9$ | $2$ |\n| $4$ | $25$ | $10^9$ | $10^9$ |", "locale": "zh-CN"}}}
{"pid": "P11500", "type": "P", "difficulty": 4, "samples": [["6 2", "4"], ["3 3", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2019", "Special Judge", "前缀和", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 间歇训练 (Day 2)", "background": "翻译自 [ROIR 2019 D2T2](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "体育学院开发了一种新的间歇训练方法。根据这种方法，运动员每天都要训练，但负荷的增加和减少必须交替进行。\n\n训练计划由一组正整数 $a_{1}, a_{2}, \\dots, a_{m}$ 组成，其中 $a_{i}$ 描述了运动员在第 $i$ 天的训练负荷。任何两个相邻的天数的负荷不能相同，即 $a_{i} \\neq a_{i+1}$。为了使负荷的增加和减少交替进行，$a$ 必须满足以下条件：如果 $a_{i}<a_{i+1}$，则 $a_{i+1}>a_{i+2}$；如果 $a_{i}>a_{i+1}$，则 $a_{i+1}<a_{i+2}$。\n\n在整个训练计划中，总负荷必须为 $n$，即 $\\sum\\limits_{i=1}^{m}a_i=n$。计划的天数没有限制，即 $m$ 可以是任意值，但第一天的负荷是固定的，$a_{1}=k$。\n\n学院管理层想知道有多少不同的训练计划符合上述要求。你只需要求出其对 $10^{9}+7$ 取模的结果。", "inputFormat": "输入两个整数 $n$ 和 $k$，保证 $1\\le k\\le n$。", "outputFormat": "输出符合要求的训练计划的数量对 $10^9+7$ 取模的结果。", "hint": "### 样例解释\n\n在样例 $1$ 中，符合要求的计划有 $[2,1,2,1], [2,1,3], [2,3,1], [2,4]$。\n\n在样例 $2$ 中，唯一符合要求的计划为 $[3]$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le n\\le$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $23$ | $10$ |\n| $2$ | $20$ | $30$ |\n| $3$ | $23$ | $500$ |\n| $4$ | $34$ | $5000$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 间歇训练 (Day 2)", "background": "翻译自 [ROIR 2019 D2T2](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "体育学院开发了一种新的间歇训练方法。根据这种方法，运动员每天都要训练，但负荷的增加和减少必须交替进行。\n\n训练计划由一组正整数 $a_{1}, a_{2}, \\dots, a_{m}$ 组成，其中 $a_{i}$ 描述了运动员在第 $i$ 天的训练负荷。任何两个相邻的天数的负荷不能相同，即 $a_{i} \\neq a_{i+1}$。为了使负荷的增加和减少交替进行，$a$ 必须满足以下条件：如果 $a_{i}<a_{i+1}$，则 $a_{i+1}>a_{i+2}$；如果 $a_{i}>a_{i+1}$，则 $a_{i+1}<a_{i+2}$。\n\n在整个训练计划中，总负荷必须为 $n$，即 $\\sum\\limits_{i=1}^{m}a_i=n$。计划的天数没有限制，即 $m$ 可以是任意值，但第一天的负荷是固定的，$a_{1}=k$。\n\n学院管理层想知道有多少不同的训练计划符合上述要求。你只需要求出其对 $10^{9}+7$ 取模的结果。", "inputFormat": "输入两个整数 $n$ 和 $k$，保证 $1\\le k\\le n$。", "outputFormat": "输出符合要求的训练计划的数量对 $10^9+7$ 取模的结果。", "hint": "### 样例解释\n\n在样例 $1$ 中，符合要求的计划有 $[2,1,2,1], [2,1,3], [2,3,1], [2,4]$。\n\n在样例 $2$ 中，唯一符合要求的计划为 $[3]$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | $1\\le n\\le$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $23$ | $10$ |\n| $2$ | $20$ | $30$ |\n| $3$ | $23$ | $500$ |\n| $4$ | $34$ | $5000$ |", "locale": "zh-CN"}}}
{"pid": "P11501", "type": "P", "difficulty": 4, "samples": [["4\n2\n4\n2\n1", "2"], ["3\n2\n-1\n2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2019", "Special Judge", "树形 DP", "基环树", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 探险队 (Day 2)", "background": "翻译自 [ROIR 2019 D2T3](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "需要派遣一支探险队前去探索邻近的星系。共有 $n$ 名候选人，编号从 $1$ 到 $n$，探险队成员需要从中选出。\n\n在候选人中进行了一次调查，每个人可以指出一个他不愿意与之一起参加探险的候选人。对于第 $i$ 个候选人，调查结果是一个整数 $a_{i}$，表示他不愿意与编号为 $a_i$ 的人一起参加探险。如果 $i$ 号候选人愿意与任何人一起参加探险，则 $a_{i} = -1$。\n\n你需要求出在满足所有派遣出的候选人的意愿的情况下，最大的可以派遣的人数。", "inputFormat": "第一行输入一个整数 $n$。\n\n接下来 $n$ 行，每行输入一个整数，分别是 $a_1,a_2,\\dots,a_n$。", "outputFormat": "输出一个整数，表示最大可以派遣的人数。", "hint": "数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $19$ | $n\\le20$ |\n| $2$ | $10$ | $a_1=-1$，$\\forall i>1,a_i=i-1$ |\n| $3$ | $15$ | $a_i<i$ |\n| $4$ | $13$ | $1\\le n\\le2000$ |\n| $5$ | $43$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$n\\le3\\times10^5$，$a_i=-1$ 或 $1\\le a_i\\le n$，且 $a_i\\ne i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 探险队 (Day 2)", "background": "翻译自 [ROIR 2019 D2T3](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "需要派遣一支探险队前去探索邻近的星系。共有 $n$ 名候选人，编号从 $1$ 到 $n$，探险队成员需要从中选出。\n\n在候选人中进行了一次调查，每个人可以指出一个他不愿意与之一起参加探险的候选人。对于第 $i$ 个候选人，调查结果是一个整数 $a_{i}$，表示他不愿意与编号为 $a_i$ 的人一起参加探险。如果 $i$ 号候选人愿意与任何人一起参加探险，则 $a_{i} = -1$。\n\n你需要求出在满足所有派遣出的候选人的意愿的情况下，最大的可以派遣的人数。", "inputFormat": "第一行输入一个整数 $n$。\n\n接下来 $n$ 行，每行输入一个整数，分别是 $a_1,a_2,\\dots,a_n$。", "outputFormat": "输出一个整数，表示最大可以派遣的人数。", "hint": "数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $19$ | $n\\le20$ |\n| $2$ | $10$ | $a_1=-1$，$\\forall i>1,a_i=i-1$ |\n| $3$ | $15$ | $a_i<i$ |\n| $4$ | $13$ | $1\\le n\\le2000$ |\n| $5$ | $43$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$n\\le3\\times10^5$，$a_i=-1$ 或 $1\\le a_i\\le n$，且 $a_i\\ne i$。", "locale": "zh-CN"}}}
{"pid": "P11502", "type": "P", "difficulty": 6, "samples": [["6 2\n8 6\n1 5\n6 3\n3 1\n4 7\n7 2", "YES\n1 4\n2 6\n3 5"], ["4 3\n1 -1 -1\n2 1 1\n3 -1 1\n4 1 -1", "NO"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "网络流", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2019] 配对 (Day 2)", "background": "翻译自 [ROIR 2019 D2T4](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "宇宙考古科学家在邻近星系的一颗行星上发现了 $n$ 件古代文物，并将它们编号为 $1$ 到 $n$。每件文物有 $k$ 个不同的参数，每个参数都是一个整数。文物 $i$ 的参数为 $a_{i, 1}, a_{i, 2}, \\dots, a_{i, k}$。他们惊奇的发现，所有文物的第一个参数都是不同的，即对于所有 $i \\neq j$，都有 $a_{i, 1} \\neq a_{j, 1}$。但是，其他参数可能相同。\n\n科学家们还发现了一段文字，根据这段文字，要激活文物，需要将它们按特定方案配对。称一个配对方案是有效的，当且仅当对于每个 $1\\le t\\le k$，可以确定一个数 $b_{t}$，使其在**每对文物**的第 $t$ 个参数值之间。也就是说，在这个配对方案中，对于所有配对的文物 $i$ 和 $j$，必须满足 $a_{i, t} \\leq b_{t} \\leq a_{j, t}$ 或 $a_{i, t} \\geq b_{t} \\geq a_{j, t}$。\n\n现在，科学家们想知道这段文字是否解读正确。为此，你需要需要判断是否存在有效的配对方案，使得所有文物可以两两正确配对。如果可以，你还需要找到这样一个配对方案。", "inputFormat": "第一行输入两个整数 $n$ 和 $k$，表示文物数量和参数数量。\n\n接下来 $n$ 行，每行包含 $k$ 个整数 $a_{i, 1}, a_{i, 2}, \\dots, a_{i, k}$，表示文物的参数。", "outputFormat": "如果不存在有效的配对方式，输出 `NO`。\n\n否则，第一行输出 `YES`。接下来 $\\frac n 2$ 行，每行包含两个整数，表示配对的文物编号。每个文物只能出现一次。\n\n如果有多个合法的配对方案，可以输出任意一个。", "hint": "### 样例解释\n\n样例 $1$ 中，一个合法的配对方案为 $(8, 6) - (3, 1), (1, 5) - (7, 2), (6, 3) - (4, 7)$。此时可以选择 $b_1=b_2=4$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n\\le10$ |\n| $2$ | $7$ | $k=1$ |\n| $3$ | $15$ | 对于任意 $t$，所有 $a_{i,t}$ 互不相同 |\n| $4$ | $15$ | $k\\le2$ |\n| $5$ | $26$ | $n\\le400$ |\n| $6$ | $27$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$2\\le n\\le2\\times10^5$，$n$ 为偶数，$1\\le k\\le7$，$|a_{i,j}|\\le10^9$，所有 $a_{i,1}$ 互不相同。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2019] 配对 (Day 2)", "background": "翻译自 [ROIR 2019 D2T4](https://neerc.ifmo.ru/school/archive/2018-2019/ru-olymp-regional-2019-day2.pdf)。", "description": "宇宙考古科学家在邻近星系的一颗行星上发现了 $n$ 件古代文物，并将它们编号为 $1$ 到 $n$。每件文物有 $k$ 个不同的参数，每个参数都是一个整数。文物 $i$ 的参数为 $a_{i, 1}, a_{i, 2}, \\dots, a_{i, k}$。他们惊奇的发现，所有文物的第一个参数都是不同的，即对于所有 $i \\neq j$，都有 $a_{i, 1} \\neq a_{j, 1}$。但是，其他参数可能相同。\n\n科学家们还发现了一段文字，根据这段文字，要激活文物，需要将它们按特定方案配对。称一个配对方案是有效的，当且仅当对于每个 $1\\le t\\le k$，可以确定一个数 $b_{t}$，使其在**每对文物**的第 $t$ 个参数值之间。也就是说，在这个配对方案中，对于所有配对的文物 $i$ 和 $j$，必须满足 $a_{i, t} \\leq b_{t} \\leq a_{j, t}$ 或 $a_{i, t} \\geq b_{t} \\geq a_{j, t}$。\n\n现在，科学家们想知道这段文字是否解读正确。为此，你需要需要判断是否存在有效的配对方案，使得所有文物可以两两正确配对。如果可以，你还需要找到这样一个配对方案。", "inputFormat": "第一行输入两个整数 $n$ 和 $k$，表示文物数量和参数数量。\n\n接下来 $n$ 行，每行包含 $k$ 个整数 $a_{i, 1}, a_{i, 2}, \\dots, a_{i, k}$，表示文物的参数。", "outputFormat": "如果不存在有效的配对方式，输出 `NO`。\n\n否则，第一行输出 `YES`。接下来 $\\frac n 2$ 行，每行包含两个整数，表示配对的文物编号。每个文物只能出现一次。\n\n如果有多个合法的配对方案，可以输出任意一个。", "hint": "### 样例解释\n\n样例 $1$ 中，一个合法的配对方案为 $(8, 6) - (3, 1), (1, 5) - (7, 2), (6, 3) - (4, 7)$。此时可以选择 $b_1=b_2=4$。\n\n### 数据范围\n\n数据中 Subtask 0 为样例。\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n\\le10$ |\n| $2$ | $7$ | $k=1$ |\n| $3$ | $15$ | 对于任意 $t$，所有 $a_{i,t}$ 互不相同 |\n| $4$ | $15$ | $k\\le2$ |\n| $5$ | $26$ | $n\\le400$ |\n| $6$ | $27$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，$2\\le n\\le2\\times10^5$，$n$ 为偶数，$1\\le k\\le7$，$|a_{i,j}|\\le10^9$，所有 $a_{i,1}$ 互不相同。\n\n", "locale": "zh-CN"}}}
{"pid": "P11503", "type": "P", "difficulty": 5, "samples": [["3 3\n#..\n...\n.##\n2\n1 3\n2 1\n", "4\n1\n"], ["5 5\n#...#\n..#..\n.....\n#...#\n#....\n5\n3 2\n2 5\n5 4\n4 5\n1 3\n", "9\n4\n9\n0\n1\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2018", "NordicOI（北欧）"], "title": "[NordicOI 2018] Nordic Camping", "background": "译自 Nordic Olympiad in Informatics 2018 [Nordic Camping](https://noi18.kattis.com/contests/noi18/problems/camping)。\n\nupd 2025/1/3 13:18：**本题原题未说明 $K$ 代表什么。搬题人经过 assert 认为是网格中 `#` 的个数。**", "description": "在北欧高地露营时，能否找到可靠的水源是生死攸关的问题。传统上，北欧露营者总是将帐篷搭在水源上，这样可以随时取水，而不必出门。北欧人的另一个奇怪传统是他们的帐篷。他们只使用正方形帐篷。\n\n北欧高地的营地可能非常崎岖。Jon 正在设置一个新营地，他已经调查了所有可用的区域，并将无法使用的区域标记出来。我们可以将营地建模为一个 $N \\times M$ 的网格，其中每个格子要么是崎岖的（不可用），要么是平坦的（可用）。\n\n对于每一个水源，你能帮助 Jon 确定能够覆盖该水源的最大正方形帐篷的大小吗？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/065umf6j.png)\n\n图1：第二个样例以及覆盖水源 $(3, 2)$ 的最大正方形帐篷的区域。这也恰好是覆盖水源 $(5, 4)$ 的最大正方形帐篷。", "inputFormat": "输入的第一行包含用空格分隔的两个整数 $N$ 和 $M$（$1 \\leq N,M$）。接下来是 $N$ 行，每行由 $M$ 个字符组成，代表网格。每个字符都是 `#` 或 `.`，其中 `.` 表示露营地的平坦的可用区域，`#` 表示崎岖的不可用区域。\n\n接下来是一行，其中只有一个整数 $Q$（$1\\leq Q$），即 Jon 考虑的水源数量。接下来的 $Q$ 行每行包含两个整数 $x$ 和 $y$ ($1 \\leq x \\leq N$，$1 \\leq y \\leq M$)，表示水源的位置 $(x, y)$（即网格中第 $x$ 行，第 $y$ 列是水源）。", "outputFormat": "对于 Jon 考虑的每一个水源，按照与输入相同的顺序，输出可以搭建在平坦的可用单元格上以覆盖特定水源的最大正方形帐篷的面积。\n\n请注意，帐篷不能只覆盖一个格子的部分位置。要么完全覆盖，要么与格子的交为空。", "hint": "你的解法将在一组子任务上进行评分。每个子任务包含多个测试用例。要获得子任务的分数，你的解法必须通过子任务中的所有测试用例。\n\n| 子任务 | 分数 | 限制条件                                   |\n| ------ | ---- | ------------------------------------------ |\n| $1$    | $20$ | $N,M\\leq 50$，$Q\\leq 1000$                 |\n| $2$    | $25$ | $N,M\\leq 800$，$K\\leq 10^5$，$Q\\leq 10^5$  |\n| $3$    | $20$ | $N\\leq 10$，$M\\leq 2000$，$Q\\leq 500$      |\n| $4$    | $35$ | $N,M\\leq 2000$，$K\\leq 10^5$，$Q\\leq 10^5$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2018] Nordic Camping", "background": "译自 Nordic Olympiad in Informatics 2018 [Nordic Camping](https://noi18.kattis.com/contests/noi18/problems/camping)。\n\nupd 2025/1/3 13:18：**本题原题未说明 $K$ 代表什么。搬题人经过 assert 认为是网格中 `#` 的个数。**", "description": "在北欧高地露营时，能否找到可靠的水源是生死攸关的问题。传统上，北欧露营者总是将帐篷搭在水源上，这样可以随时取水，而不必出门。北欧人的另一个奇怪传统是他们的帐篷。他们只使用正方形帐篷。\n\n北欧高地的营地可能非常崎岖。Jon 正在设置一个新营地，他已经调查了所有可用的区域，并将无法使用的区域标记出来。我们可以将营地建模为一个 $N \\times M$ 的网格，其中每个格子要么是崎岖的（不可用），要么是平坦的（可用）。\n\n对于每一个水源，你能帮助 Jon 确定能够覆盖该水源的最大正方形帐篷的大小吗？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/065umf6j.png)\n\n图1：第二个样例以及覆盖水源 $(3, 2)$ 的最大正方形帐篷的区域。这也恰好是覆盖水源 $(5, 4)$ 的最大正方形帐篷。", "inputFormat": "输入的第一行包含用空格分隔的两个整数 $N$ 和 $M$（$1 \\leq N,M$）。接下来是 $N$ 行，每行由 $M$ 个字符组成，代表网格。每个字符都是 `#` 或 `.`，其中 `.` 表示露营地的平坦的可用区域，`#` 表示崎岖的不可用区域。\n\n接下来是一行，其中只有一个整数 $Q$（$1\\leq Q$），即 Jon 考虑的水源数量。接下来的 $Q$ 行每行包含两个整数 $x$ 和 $y$ ($1 \\leq x \\leq N$，$1 \\leq y \\leq M$)，表示水源的位置 $(x, y)$（即网格中第 $x$ 行，第 $y$ 列是水源）。", "outputFormat": "对于 Jon 考虑的每一个水源，按照与输入相同的顺序，输出可以搭建在平坦的可用单元格上以覆盖特定水源的最大正方形帐篷的面积。\n\n请注意，帐篷不能只覆盖一个格子的部分位置。要么完全覆盖，要么与格子的交为空。", "hint": "你的解法将在一组子任务上进行评分。每个子任务包含多个测试用例。要获得子任务的分数，你的解法必须通过子任务中的所有测试用例。\n\n| 子任务 | 分数 | 限制条件                                   |\n| ------ | ---- | ------------------------------------------ |\n| $1$    | $20$ | $N,M\\leq 50$，$Q\\leq 1000$                 |\n| $2$    | $25$ | $N,M\\leq 800$，$K\\leq 10^5$，$Q\\leq 10^5$  |\n| $3$    | $20$ | $N\\leq 10$，$M\\leq 2000$，$Q\\leq 500$      |\n| $4$    | $35$ | $N,M\\leq 2000$，$K\\leq 10^5$，$Q\\leq 10^5$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P11504", "type": "P", "difficulty": 6, "samples": [["2 1 0.74\n0 2", "1"], ["4 100 0.1\n1 2 3 11", "13"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2018", "Special Judge", "NordicOI（北欧）"], "title": "[NordicOI 2018] French Fries", "background": "译自 Nordic Olympiad in Informatics 2018 [French Fries](https://noi18.kattis.com/contests/noi18/problems/fries)。", "description": "有无限多的人站成一排，这排人向左右两边都无限延伸。开始时选择了 $P$ 个不同的人，并给他们每人一根薯条。由于这有些不公平，所以每个人会同时将自己得到的薯条分成两半，一半给左边的人，一半给右边的人。然后他们重复这个过程，再进行 $T - 1$ 次操作。如果一个人在经过这 $T$ 次操作后，拥有至少 $L$ 根薯条（其中 $L$ 不一定是整数），那么他就吃饱了。有多少人会吃饱？", "inputFormat": "输入的第一行包含两个整数 $P$ 和 $T$（$1 \\leq P \\leq 3 \\cdot 10^5$，$1 \\leq T \\leq 5 \\cdot 10^7$），以及一个浮点数 $L$（$10^{-4} \\leq L \\leq 10$）。\n\n第二行的输入包含 $P$ 个不同的整数：这些整数表示最初得到薯条的人的编号。所有的人的编号值都在 $0$ 到 $10^7$ 之间。", "outputFormat": "输出一个整数：最终至少得到 $L$ 个薯条的人数。\n\n如果答案 $X$ 在得到至少 $0.8L$ 个薯条的人数和得到至少 $1.2L$ 个薯条的人数之间，则视为正确答案。", "hint": "在第一个样例中，编号为 $0$ 和 $2$ 的人最初各有一根薯条。然后他们将这些薯条分成两半，并把一半给相邻的人，编号为 $-1$ 和 $3$ 的人将各得到 $0.5$ 根薯条，而编号为 $1$ 的人将得到 $1$ 根薯条。吃饱的标准是 $0.74$ 根薯条；因此，只有编号为 $1$ 的人得到了足够的薯条。\n\n在第二个样例中，答案 $13$ 是准确的，但任何介于 $12$ 到 $15$ 之间的输出都将被接受。\n\n---\n\n你的解法将在一组子任务上进行评分。每个子任务包含多个测试用例。要获得子任务的分数，你的解法必须通过子任务中的所有测试用例。\n\n| 子任务 | 分数 | 限制条件                                                     |\n| ------ | ---- | ------------------------------------------------------------ |\n| $1$    | $10$ | $P\\leq 100$，$T\\leq 100$，所有初始编号都在 $0$ 到 $100$ 之间 |\n| $2$    | $14$ | $P\\leq 500$，$T\\leq 100$                                     |\n| $3$    | $17$ | $P\\leq 3\\cdot 10^5$，$T\\leq 100$                             |\n| $4$    | $13$ | $P\\leq 100$，$T\\leq 10^5$                                    |\n| $5$    | $20$ | $P\\leq 500$，$T\\leq 5\\cdot 10^7$                             |\n| $6$    | $26$ | $P\\leq 3\\cdot 10^5$，$T\\leq 5\\cdot 10^7$                     |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2018] French Fries", "background": "译自 Nordic Olympiad in Informatics 2018 [French Fries](https://noi18.kattis.com/contests/noi18/problems/fries)。", "description": "有无限多的人站成一排，这排人向左右两边都无限延伸。开始时选择了 $P$ 个不同的人，并给他们每人一根薯条。由于这有些不公平，所以每个人会同时将自己得到的薯条分成两半，一半给左边的人，一半给右边的人。然后他们重复这个过程，再进行 $T - 1$ 次操作。如果一个人在经过这 $T$ 次操作后，拥有至少 $L$ 根薯条（其中 $L$ 不一定是整数），那么他就吃饱了。有多少人会吃饱？", "inputFormat": "输入的第一行包含两个整数 $P$ 和 $T$（$1 \\leq P \\leq 3 \\cdot 10^5$，$1 \\leq T \\leq 5 \\cdot 10^7$），以及一个浮点数 $L$（$10^{-4} \\leq L \\leq 10$）。\n\n第二行的输入包含 $P$ 个不同的整数：这些整数表示最初得到薯条的人的编号。所有的人的编号值都在 $0$ 到 $10^7$ 之间。", "outputFormat": "输出一个整数：最终至少得到 $L$ 个薯条的人数。\n\n如果答案 $X$ 在得到至少 $0.8L$ 个薯条的人数和得到至少 $1.2L$ 个薯条的人数之间，则视为正确答案。", "hint": "在第一个样例中，编号为 $0$ 和 $2$ 的人最初各有一根薯条。然后他们将这些薯条分成两半，并把一半给相邻的人，编号为 $-1$ 和 $3$ 的人将各得到 $0.5$ 根薯条，而编号为 $1$ 的人将得到 $1$ 根薯条。吃饱的标准是 $0.74$ 根薯条；因此，只有编号为 $1$ 的人得到了足够的薯条。\n\n在第二个样例中，答案 $13$ 是准确的，但任何介于 $12$ 到 $15$ 之间的输出都将被接受。\n\n---\n\n你的解法将在一组子任务上进行评分。每个子任务包含多个测试用例。要获得子任务的分数，你的解法必须通过子任务中的所有测试用例。\n\n| 子任务 | 分数 | 限制条件                                                     |\n| ------ | ---- | ------------------------------------------------------------ |\n| $1$    | $10$ | $P\\leq 100$，$T\\leq 100$，所有初始编号都在 $0$ 到 $100$ 之间 |\n| $2$    | $14$ | $P\\leq 500$，$T\\leq 100$                                     |\n| $3$    | $17$ | $P\\leq 3\\cdot 10^5$，$T\\leq 100$                             |\n| $4$    | $13$ | $P\\leq 100$，$T\\leq 10^5$                                    |\n| $5$    | $20$ | $P\\leq 500$，$T\\leq 5\\cdot 10^7$                             |\n| $6$    | $26$ | $P\\leq 3\\cdot 10^5$，$T\\leq 5\\cdot 10^7$                     |\n\n", "locale": "zh-CN"}}}
{"pid": "P11505", "type": "P", "difficulty": 5, "samples": [["3 2\n1 2 2\n1 3 1", "2"], ["8 3\n3 7 2\n6 8 2\n4 5 5", "576"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2018", "NordicOI（北欧）"], "title": "[NordicOI 2018] Mysterious Array", "background": "译自 Nordic Olympiad in Informatics 2018 [Mysterious Array](https://noi18.kattis.com/contests/noi18/problems/mysterious)。", "description": "有一个数组，包含了 $1$ 到 $N$ 的排列（即每个数字在数组中出现一次）。该数组的元素编号是 $1$ 开始的。\n\n然而，你并不知道数组的具体内容。你会得到 $Q$ 条信息，信息的形式是“在编号 $a$ 和 $b$ 之间的最小值是多少”。\n\n你的任务是计算出符合这些查询的数组的数量。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $Q$（$1\\leq N,Q$）：数组的大小和条件的数量。\n\n接下来有 $Q$ 行描述信息。每行包含三个整数 $a$、$b$ 和 $x$（$1 \\leq a \\leq b \\leq N$ 且 $1 \\leq x \\leq N$）：表示在位置 $a$ 和 $b$ 之间的最小值为 $x$。\n\n注意，查询的结果可能不一致，并且有可能不存在符合这些查询的数组。", "outputFormat": "输出一个整数：数组的数量对 $10^9 + 7$ 取模的结果。", "hint": "在第一个样例中，数组的大小是 $3$，包含了数 $1$、$2$ 和 $3$ 的一个排列。此外，给定了以下信息：编号 $1$ 到 $2$ 之间的最小值是 $2$，编号 $1$ 到 $3$ 之间（即整个数组）的最小值是 $1$。只有两个数组符合这些条件：$[2, 3, 1]$ 和 $[3, 2, 1]$。\n\n在第二个样例中，有 $576$ 个数组符合给定的条件。\n\n---\n\n你的解法将在一组子任务上进行评分。每个子任务包含多个测试用例。要获得子任务的分数，你的解法必须通过子任务中的所有测试用例。\n\n| 子任务 | 分数 | 限制条件                    |\n| ------ | ---- | --------------------------- |\n| $1$    | $23$ | $1\\leq N,Q\\leq 10$          |\n| $2$    | $35$ | $1\\leq N,Q\\leq 1000$        |\n| $3$    | $42$ | $1\\leq N,Q\\leq 2\\cdot 10^5$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NordicOI 2018] Mysterious Array", "background": "译自 Nordic Olympiad in Informatics 2018 [Mysterious Array](https://noi18.kattis.com/contests/noi18/problems/mysterious)。", "description": "有一个数组，包含了 $1$ 到 $N$ 的排列（即每个数字在数组中出现一次）。该数组的元素编号是 $1$ 开始的。\n\n然而，你并不知道数组的具体内容。你会得到 $Q$ 条信息，信息的形式是“在编号 $a$ 和 $b$ 之间的最小值是多少”。\n\n你的任务是计算出符合这些查询的数组的数量。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $Q$（$1\\leq N,Q$）：数组的大小和条件的数量。\n\n接下来有 $Q$ 行描述信息。每行包含三个整数 $a$、$b$ 和 $x$（$1 \\leq a \\leq b \\leq N$ 且 $1 \\leq x \\leq N$）：表示在位置 $a$ 和 $b$ 之间的最小值为 $x$。\n\n注意，查询的结果可能不一致，并且有可能不存在符合这些查询的数组。", "outputFormat": "输出一个整数：数组的数量对 $10^9 + 7$ 取模的结果。", "hint": "在第一个样例中，数组的大小是 $3$，包含了数 $1$、$2$ 和 $3$ 的一个排列。此外，给定了以下信息：编号 $1$ 到 $2$ 之间的最小值是 $2$，编号 $1$ 到 $3$ 之间（即整个数组）的最小值是 $1$。只有两个数组符合这些条件：$[2, 3, 1]$ 和 $[3, 2, 1]$。\n\n在第二个样例中，有 $576$ 个数组符合给定的条件。\n\n---\n\n你的解法将在一组子任务上进行评分。每个子任务包含多个测试用例。要获得子任务的分数，你的解法必须通过子任务中的所有测试用例。\n\n| 子任务 | 分数 | 限制条件                    |\n| ------ | ---- | --------------------------- |\n| $1$    | $23$ | $1\\leq N,Q\\leq 10$          |\n| $2$    | $35$ | $1\\leq N,Q\\leq 1000$        |\n| $3$    | $42$ | $1\\leq N,Q\\leq 2\\cdot 10^5$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P11506", "type": "P", "difficulty": 2, "samples": [["7 3 2 3\n4\n1 19 20 50", "1\n7\n1\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2017] 校园 (Day 1)", "background": "翻译自 [ROIR 2017 D1T1](https://neerc.ifmo.ru/school/archive/2016-2017/ru-olymp-regional-2017-day1.pdf)。", "description": "新的拜特堡大学校园大楼有 $n$ 层，从下往上编号为 $1$ 到 $n$。学生宿舍分布在多个楼道中。\n\n在每个楼道中，楼层号是 $k$ 的倍数的楼层上有 $x$ 个房间，其他楼层上有 $y$ 个房间。\n\n每个楼道内的房间按顺序编号。第一层的房间编号最小，接着是第二层的房间编号，以此类推。第一个楼道的房间编号从 $1$ 开始，每个后续楼道的房间编号从上一个楼道房间最大编号的下一个数字开始。\n\n如下图所示，假设楼层数 $n = 7$，楼道数为 $3$，且 $k = 3$, $x = 2$, $y = 3$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n1792el9.png)\n\n为了便于学生住宿安排，校园管理方需要根据房间编号快速查找该房间所在的楼层。\n\n请编写一个程序，根据给定的 $n$, $k$, $x$, $y$，以及房间编号，确定每个房间所在的楼层。", "inputFormat": "第一行输入四个整数 $n,k,x,y$（$1 \\leq n \\leq 10^9$，$1 \\leq k \\leq n$，$1 \\leq x, y \\leq 10^9$）。\n\n第二行输入一个整数 $q$，表示需要查询编号的房间数量（$1 \\leq q \\leq 1000$）。  \n\n第三行输入 $q$ 个整数 $a_1, a_2, \\dots, a_q$，即查询的房间编号（$1 \\leq a_i \\leq 10^{18}$）。  \n\n可以认为大楼有足够多的楼道，保证所有查询的房间编号都存在。", "outputFormat": "对于每个询问，输出一行一个整数，表示该房间所在的楼层。", "hint": "| 子任务 | 分值 | $1\\le n\\le$ | $1\\le x,y\\le$ | $1\\le q\\le$ | $1\\le a_i\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $31$ | $10$ | $10$ | $1$ | $100$ |  |\n| $2$ | $19$ | $10^7$ | $10^9$ | $1$ | $10^7$ |  |\n| $3$ | $16$ | $10^9$ | $10^9$ | $1000$ | $10^{18}$ | $x=y$ |\n| $4$ | $34$ | $10^9$ | $10^9$ | $1000$ | $10^{18}$ |  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2017] 校园 (Day 1)", "background": "翻译自 [ROIR 2017 D1T1](https://neerc.ifmo.ru/school/archive/2016-2017/ru-olymp-regional-2017-day1.pdf)。", "description": "新的拜特堡大学校园大楼有 $n$ 层，从下往上编号为 $1$ 到 $n$。学生宿舍分布在多个楼道中。\n\n在每个楼道中，楼层号是 $k$ 的倍数的楼层上有 $x$ 个房间，其他楼层上有 $y$ 个房间。\n\n每个楼道内的房间按顺序编号。第一层的房间编号最小，接着是第二层的房间编号，以此类推。第一个楼道的房间编号从 $1$ 开始，每个后续楼道的房间编号从上一个楼道房间最大编号的下一个数字开始。\n\n如下图所示，假设楼层数 $n = 7$，楼道数为 $3$，且 $k = 3$, $x = 2$, $y = 3$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n1792el9.png)\n\n为了便于学生住宿安排，校园管理方需要根据房间编号快速查找该房间所在的楼层。\n\n请编写一个程序，根据给定的 $n$, $k$, $x$, $y$，以及房间编号，确定每个房间所在的楼层。", "inputFormat": "第一行输入四个整数 $n,k,x,y$（$1 \\leq n \\leq 10^9$，$1 \\leq k \\leq n$，$1 \\leq x, y \\leq 10^9$）。\n\n第二行输入一个整数 $q$，表示需要查询编号的房间数量（$1 \\leq q \\leq 1000$）。  \n\n第三行输入 $q$ 个整数 $a_1, a_2, \\dots, a_q$，即查询的房间编号（$1 \\leq a_i \\leq 10^{18}$）。  \n\n可以认为大楼有足够多的楼道，保证所有查询的房间编号都存在。", "outputFormat": "对于每个询问，输出一行一个整数，表示该房间所在的楼层。", "hint": "| 子任务 | 分值 | $1\\le n\\le$ | $1\\le x,y\\le$ | $1\\le q\\le$ | $1\\le a_i\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $31$ | $10$ | $10$ | $1$ | $100$ |  |\n| $2$ | $19$ | $10^7$ | $10^9$ | $1$ | $10^7$ |  |\n| $3$ | $16$ | $10^9$ | $10^9$ | $1000$ | $10^{18}$ | $x=y$ |\n| $4$ | $34$ | $10^9$ | $10^9$ | $1000$ | $10^{18}$ |  |", "locale": "zh-CN"}}}
{"pid": "P11507", "type": "P", "difficulty": 3, "samples": [["72 2 1 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2017] 计算器 (Day 1)", "background": "翻译自 [ROIR 2017 D1T2](https://neerc.ifmo.ru/school/archive/2016-2017/ru-olymp-regional-2017-day1.pdf)。", "description": "今天的信息技术课作业要求设计一个特殊的计算器，该计算器的工作方式如下：\n\n首先，用户输入一个正整数 $n$，该数字会被显示在屏幕上。然后，用户可以按下三个按钮：A，B 和 C。\n\n- 按下按钮 A 时，屏幕上的数字将除以 $2$，向下取整。例如，对于数字 $114$，执行此操作后结果为 $57$；对于数字 $191$，结果为 $95$。\n- 按下按钮 B 时，屏幕上的数字加 $1$，然后再除以 $2$，向下取整。例如，对于数字 $114$，执行此操作后结果为 $57$；对于数字 $191$，结果为 $96$。\n- 按下按钮 C 时，执行以下操作：如果屏幕上的数字大于 $0$，则减去 $1$ 后除以 $2$，向下取整；如果屏幕上的数字是 $0$，则数字保持不变。例如，对于数字 $114$，执行此操作后结果为 $56$；对于数字 $191$，结果为 $95$。\n\n用户输入了数字 $n$，并将按一定顺序按下操作按钮。具体地，用户将会按下按钮 A 共 $a$ 次，按下按钮 B 共 $b$ 次，按下按钮 C 共 $c$ 次。你需要求出在执行这些操作后最小可能得到的数字是多少。", "inputFormat": "输入一行四个整数 $n,a,b,c$（$1 \\leq n \\leq 10^{18}$，$0 \\leq a, b, c \\leq 60$）。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例解释\n\n用户可以依次按下按钮 B，A，C，A，屏幕上的数字将会这样变化：$72\\to36\\to18\\to8\\to4$。\n\n### 数据范围\n\n| 子任务 | 分值 | $1\\le n\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $26$ | $10^9$ | $0\\le a+b+c\\le7$ |\n| $2$ | $23$ | $10^{18}$ | $c=0$ |\n| $3$ | $24$ | $10^{18}$ | $b=0$ |\n| $4$ | $27$ | $10^{18}$ | 无特殊性质 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2017] 计算器 (Day 1)", "background": "翻译自 [ROIR 2017 D1T2](https://neerc.ifmo.ru/school/archive/2016-2017/ru-olymp-regional-2017-day1.pdf)。", "description": "今天的信息技术课作业要求设计一个特殊的计算器，该计算器的工作方式如下：\n\n首先，用户输入一个正整数 $n$，该数字会被显示在屏幕上。然后，用户可以按下三个按钮：A，B 和 C。\n\n- 按下按钮 A 时，屏幕上的数字将除以 $2$，向下取整。例如，对于数字 $114$，执行此操作后结果为 $57$；对于数字 $191$，结果为 $95$。\n- 按下按钮 B 时，屏幕上的数字加 $1$，然后再除以 $2$，向下取整。例如，对于数字 $114$，执行此操作后结果为 $57$；对于数字 $191$，结果为 $96$。\n- 按下按钮 C 时，执行以下操作：如果屏幕上的数字大于 $0$，则减去 $1$ 后除以 $2$，向下取整；如果屏幕上的数字是 $0$，则数字保持不变。例如，对于数字 $114$，执行此操作后结果为 $56$；对于数字 $191$，结果为 $95$。\n\n用户输入了数字 $n$，并将按一定顺序按下操作按钮。具体地，用户将会按下按钮 A 共 $a$ 次，按下按钮 B 共 $b$ 次，按下按钮 C 共 $c$ 次。你需要求出在执行这些操作后最小可能得到的数字是多少。", "inputFormat": "输入一行四个整数 $n,a,b,c$（$1 \\leq n \\leq 10^{18}$，$0 \\leq a, b, c \\leq 60$）。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例解释\n\n用户可以依次按下按钮 B，A，C，A，屏幕上的数字将会这样变化：$72\\to36\\to18\\to8\\to4$。\n\n### 数据范围\n\n| 子任务 | 分值 | $1\\le n\\le$ | 其它特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $26$ | $10^9$ | $0\\le a+b+c\\le7$ |\n| $2$ | $23$ | $10^{18}$ | $c=0$ |\n| $3$ | $24$ | $10^{18}$ | $b=0$ |\n| $4$ | $27$ | $10^{18}$ | 无特殊性质 |", "locale": "zh-CN"}}}
