{"pid": "B4157", "type": "B", "difficulty": 4, "samples": [["5 5\n1 -1 1 -1 1\n2 2 2 -1 2\n1 1 2 -1 -1\n-1 -1 2 2 1\n1 1 1 1 -1\n6\n1 1\n2 2\n3 3\n2 4\n5 1\n5 5", "16\n12\n7\n2\n4\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2023", "福建", "前缀和", "科创活动", "小学活动"], "title": "[厦门小学生 C++ 2023] 数据核心", "background": "本试题为 2023 年厦门市小学生 C++ 语言**复赛**试题，数据为洛谷自造。\n\n**初赛**为笔试。", "description": "Sora 有一块神奇的数据核心，这块数据核心里有 $n\\times m$ 个数据块，这些数据块组成了一个 $n\\times m$ 的矩阵。\n\n在数据核心中，每个数据块都有一个强度 $a_{i,j}$，代表这个数据块存在数据核心中时会提供多少的运算力。但是随着时间的推移，数据核心中有一些数据块出现了硬件老化，有些数据块的强度是一个负数，继续保留过多的老化数据块会影响数据核心的使用效率，所以 Sora 决定从原本的数据核心的矩阵中，先确定一个数据块作为新数据核心的左上角，其位置为 $(x, y)$ ，向右下方切割出一块数据核心（子矩阵），以保证其使用效率。\n\n但是 Sora 是一个有着天马行空想象力的科学家，她想知道在确定了新的数据核心左上角的数据块的情况下，其位置为 $(x, y)$，新的数据核心（子矩阵）能够获得的最大运算力是多少。\n\n当然她的问题很多，有 $Q$ 次询问，每次询问都会给出一个位置 $(x, y)$，你需要算出以这个位置为左上角的新数据核心对应的最大运算力。\n", "inputFormat": "第一行两个整数 $n,m$，表示原始数据核心的大小。\n\n接下来 $n$ 行，每行 $m$ 个整数，对应的是每个数据块的强度 $a_{i,j}$。\n\n第 $n+2$ 行一个整数 $Q$，表示询问次数。\n接下来 $Q$ 行，每行两个整数 $x,y$，表示新数据核心的左上角数据块在原数据核心中位于第 $x$ 行第 $y$ 列。", "outputFormat": "输出 $Q$ 行，每行一个整数，表示对应询问的最大运算力。", "hint": "### 样例解释\n\n- 第一个询问对应的新数据核心是 $(1,1)$ 到 $(5,5)$。\n- 第二个询问对应的新数据核心是 $(2,2)$ 到 $(5,5)$。\n- 第三个询问对应的新数据核心是 $(3,3)$ 到 $(5,4)$。\n- 第四个询问对应的新数据核心是 $(5,1)$ 到 $(5,4)$。\n- 第五个询问对应的新数据核心是 $(5,5)$ 到 $(5,5)$。\n\n### 数据范围\n\n- 对于 $20\\%$ 的数据，$n\\times m \\leq 500$，$Q \\leq 500$，$|a_{i,j}| \\leq 10^5$。\n- 对于 $50\\%$ 的数据，$n\\times m \\leq 5000$，$Q \\leq 5000$，$|a_{i,j}| \\leq 10^5$。\n- 对于 $80\\%$ 的数据，$n\\times m \\leq 10000$，$Q \\leq 10000$，$|a_{i,j}| ≤ 10^5$。\n- 对于 $100\\%$ 的数据，$n\\times m \\leq 100000$，$Q \\leq 100000$，$|a_{i,j}| \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[厦门小学生 C++ 2023] 数据核心", "background": "本试题为 2023 年厦门市小学生 C++ 语言**复赛**试题，数据为洛谷自造。\n\n**初赛**为笔试。", "description": "Sora 有一块神奇的数据核心，这块数据核心里有 $n\\times m$ 个数据块，这些数据块组成了一个 $n\\times m$ 的矩阵。\n\n在数据核心中，每个数据块都有一个强度 $a_{i,j}$，代表这个数据块存在数据核心中时会提供多少的运算力。但是随着时间的推移，数据核心中有一些数据块出现了硬件老化，有些数据块的强度是一个负数，继续保留过多的老化数据块会影响数据核心的使用效率，所以 Sora 决定从原本的数据核心的矩阵中，先确定一个数据块作为新数据核心的左上角，其位置为 $(x, y)$ ，向右下方切割出一块数据核心（子矩阵），以保证其使用效率。\n\n但是 Sora 是一个有着天马行空想象力的科学家，她想知道在确定了新的数据核心左上角的数据块的情况下，其位置为 $(x, y)$，新的数据核心（子矩阵）能够获得的最大运算力是多少。\n\n当然她的问题很多，有 $Q$ 次询问，每次询问都会给出一个位置 $(x, y)$，你需要算出以这个位置为左上角的新数据核心对应的最大运算力。\n", "inputFormat": "第一行两个整数 $n,m$，表示原始数据核心的大小。\n\n接下来 $n$ 行，每行 $m$ 个整数，对应的是每个数据块的强度 $a_{i,j}$。\n\n第 $n+2$ 行一个整数 $Q$，表示询问次数。\n接下来 $Q$ 行，每行两个整数 $x,y$，表示新数据核心的左上角数据块在原数据核心中位于第 $x$ 行第 $y$ 列。", "outputFormat": "输出 $Q$ 行，每行一个整数，表示对应询问的最大运算力。", "hint": "### 样例解释\n\n- 第一个询问对应的新数据核心是 $(1,1)$ 到 $(5,5)$。\n- 第二个询问对应的新数据核心是 $(2,2)$ 到 $(5,5)$。\n- 第三个询问对应的新数据核心是 $(3,3)$ 到 $(5,4)$。\n- 第四个询问对应的新数据核心是 $(5,1)$ 到 $(5,4)$。\n- 第五个询问对应的新数据核心是 $(5,5)$ 到 $(5,5)$。\n\n### 数据范围\n\n- 对于 $20\\%$ 的数据，$n\\times m \\leq 500$，$Q \\leq 500$，$|a_{i,j}| \\leq 10^5$。\n- 对于 $50\\%$ 的数据，$n\\times m \\leq 5000$，$Q \\leq 5000$，$|a_{i,j}| \\leq 10^5$。\n- 对于 $80\\%$ 的数据，$n\\times m \\leq 10000$，$Q \\leq 10000$，$|a_{i,j}| ≤ 10^5$。\n- 对于 $100\\%$ 的数据，$n\\times m \\leq 100000$，$Q \\leq 100000$，$|a_{i,j}| \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "B4158", "type": "B", "difficulty": 2, "samples": [["10\n1*\n3**\n7**\n83*7\n2262\n6**1\n29*7\n889*\n777*\n225*", "11\n307\n701\n8317\n-1\n6011\n2917\n8893\n-1\n2251"], ["10\n4039***\n2***5*5\n4099961\n25**757\n7***0**\n1***00*\n41811*9\n6***0*7\n8***1**\n6561*59", "4039019\n-1\n4099961\n2509757\n7000003\n1000003\n4181129\n6000047\n8000101\n6561259"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "北京", "枚举", "深度优先搜索 DFS", "筛法", "BCSP-X"], "title": "[BCSP-X 2024 12 月小学高年级组] 质数补全", "background": "", "description": "Alice 在纸条上写了一个质数，第二天再看时发现有些地方污损看不清了。\n\n- 在大于 $1$ 的自然数中，除了 $1$ 和它本身以外不再有其他因数的自然数称为质数\n\n请你帮助 Alice 补全这个质数，若有多解输出数值最小的，若无解输出 $-1$。\n\n例如纸条上的数字为 $\\tt{1*}$（$\\tt{*}$ 代表看不清的地方），那么这个质数有可能为 $11, 13, 17, 19$，其中最小的为 $11$。", "inputFormat": "第一行 $1$ 个整数 $t$，代表有 $t$ 组数据。\n\n接下来 $t$ 行，每行 $1$ 个字符串 $s$ 代表 Alice 的数字，仅包含数字或者 $\\tt{*}$，并且保证首位不是 $\\tt{*}$ 或者 $0$。", "outputFormat": "输出 $t$ 行，每行 $1$ 个整数代表最小可能的质数，或者 $-1$ 代表无解。", "hint": "### 样例 3-6\n\n参考附件中的样例。\n\n### 数据范围\n\n$|s|$ 代表 $s$ 串的长度，对于所有数据，$1 \\leq t \\leq 10, 1 \\leq |s| \\leq 7$，$s$ 中仅包含数字或者 $\\tt{*}$，并且保证首位不是 $\\tt{*}$ 或者 $0$。\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | $\\mid s\\mid$ | 特殊性质 | 子任务依赖 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $35$ | $\\leq 7$ | $s$ 中没有 $\\tt{*}$ |  |\n| $2$ | $30$ | $\\leq 4$ |  |  |\n| $3$ | $24$ | $\\leq 7$ | $s$ 中至多包含 $1$ 个 $\\tt{*}$ | $1$ |\n| $4$ | $11$ | $\\leq 7$ |  | $1,2,3$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月小学高年级组] 质数补全", "background": "", "description": "Alice 在纸条上写了一个质数，第二天再看时发现有些地方污损看不清了。\n\n- 在大于 $1$ 的自然数中，除了 $1$ 和它本身以外不再有其他因数的自然数称为质数\n\n请你帮助 Alice 补全这个质数，若有多解输出数值最小的，若无解输出 $-1$。\n\n例如纸条上的数字为 $\\tt{1*}$（$\\tt{*}$ 代表看不清的地方），那么这个质数有可能为 $11, 13, 17, 19$，其中最小的为 $11$。", "inputFormat": "第一行 $1$ 个整数 $t$，代表有 $t$ 组数据。\n\n接下来 $t$ 行，每行 $1$ 个字符串 $s$ 代表 Alice 的数字，仅包含数字或者 $\\tt{*}$，并且保证首位不是 $\\tt{*}$ 或者 $0$。", "outputFormat": "输出 $t$ 行，每行 $1$ 个整数代表最小可能的质数，或者 $-1$ 代表无解。", "hint": "### 样例 3-6\n\n参考附件中的样例。\n\n### 数据范围\n\n$|s|$ 代表 $s$ 串的长度，对于所有数据，$1 \\leq t \\leq 10, 1 \\leq |s| \\leq 7$，$s$ 中仅包含数字或者 $\\tt{*}$，并且保证首位不是 $\\tt{*}$ 或者 $0$。\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | $\\mid s\\mid$ | 特殊性质 | 子任务依赖 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $35$ | $\\leq 7$ | $s$ 中没有 $\\tt{*}$ |  |\n| $2$ | $30$ | $\\leq 4$ |  |  |\n| $3$ | $24$ | $\\leq 7$ | $s$ 中至多包含 $1$ 个 $\\tt{*}$ | $1$ |\n| $4$ | $11$ | $\\leq 7$ |  | $1,2,3$ |\n", "locale": "zh-CN"}}}
{"pid": "B4159", "type": "B", "difficulty": 3, "samples": [["3 2\n2 1 1\n1\n2 3\n3 3 3", "2\n2\n0"], ["10 98\n67 100 76 15 44 86 38 95 5 8\n43\n25 91\n14 18 24\n79 79 60 85\n35 47 59 22 96\n53 78 43 95 55 25\n74 26 97 30 42 14 6\n100 70 79 49 83 74 43 38\n64 38 75 79 59 10 54 17 2\n34 19 19 4 23 90 99 97 93 10", "2\n2\n3\n4\n4\n4\n5\n5\n5\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "北京", "BCSP-X"], "title": "[BCSP-X 2024 12 月小学高年级组] 打怪升级", "background": "", "description": "Alice 在玩一个游戏，游戏共有 $n$ 个关卡，你需要操作 $1$ 个主角过关，主角有 $2$ 个属性：\n\n1. 血量\n2. 等级\n\n每关的 Boss 会对主角造成伤害（血量减小），第 $i$ 关的 Boss 对等级为 $j$ 的主角造成的伤害值为 $b[i][j]$。\n\n每关打完 Boss 后，在进入下一关前会得到一本经验书，你有 $2$ 个选择：\n\n1. 回血：第 $i$ 关的经验书可以使血量增加 $a[i]$。\n2. 改变等级：若假设主角当前等级为 now，使用经验书可以将等级变为 $[1, now + 1]$ 中的任意值。\n\n你需要在 $2$ 个选择中择一执行。\n\n已知主角的初始血量为 $m$，初始等级为 $1$，游戏过程中任意时刻血量必须 $>0$。\n\n现在请问，在通过第 $k$ 个关卡之后（可以使用第 $k$ 关的经验书），主角能达到的最大等级是多少？如果无法通过第 $k$ 关，答案为 0。\n\n请你输出 $k = 1 \\sim n$ 的所有答案，注意这 $n$ 个询问是独立的。\n\n例如 $n = 3, m = 2, a = [2, 1, 1]$\n\n$$b[1][1] = 1$$\n$$b[2][1] = 2, b[2][2] = 3$$\n$$b[3][1] = 3, b[3][2] = 3, b[3][3] = 3$$\n\n- 当 $k = 1$ 时，第一关血量先减为 $2 - 1 = 1$，然后选择升为 2 级，答案为 $2$。\n- 当 $k = 2$ 时，第一关血量先减为 $2 - 1 = 1$，然后选择加血 $1 + 2 = 3$；第二关血量减为 $3 - 2 = 1$，然后选择升为 $2$ 级，答案为 $2$。\n- 当 $k = 3$ 时，无论如何选择都无法通过第 3 关，答案为 $0$。", "inputFormat": "第一行 $2$ 个整数 $n, m$，代表关卡数量和初始血量。\n\n第二行 $n$ 个整数 $a[1 \\sim n]$ 代表每关经验书的加血量。\n\n接下来 $n$ 行，第 $i$ 行包含 $i$ 个整数代表第 $i$ 关的 Boss 对等级为 $1 \\sim i$ 的主角造成的伤害值。", "outputFormat": "输出 $n$ 行，第 $i$ 行包含 $1$ 个整数代表通过第 $i$ 个关卡之后，主角能达到的最大等级。", "hint": "### 样例 3-5\n\n见附件。\n\n### 数据范围\n\n对于所有数据，$1 \\leq n \\leq 1500, 0 \\leq a[i], b[i][j] \\leq 100, 1 \\leq m \\leq 1500$\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | $n$ | 子任务依赖 |\n|:----------:|:----:|:-------:|:------------:|\n| 1          | 39   | $\\leq 10$ |            |\n| 2          | 43   | $\\leq 100$ | 1          |\n| 3          | 18   | $\\leq 1500$ | 1,2        |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月小学高年级组] 打怪升级", "background": "", "description": "Alice 在玩一个游戏，游戏共有 $n$ 个关卡，你需要操作 $1$ 个主角过关，主角有 $2$ 个属性：\n\n1. 血量\n2. 等级\n\n每关的 Boss 会对主角造成伤害（血量减小），第 $i$ 关的 Boss 对等级为 $j$ 的主角造成的伤害值为 $b[i][j]$。\n\n每关打完 Boss 后，在进入下一关前会得到一本经验书，你有 $2$ 个选择：\n\n1. 回血：第 $i$ 关的经验书可以使血量增加 $a[i]$。\n2. 改变等级：若假设主角当前等级为 now，使用经验书可以将等级变为 $[1, now + 1]$ 中的任意值。\n\n你需要在 $2$ 个选择中择一执行。\n\n已知主角的初始血量为 $m$，初始等级为 $1$，游戏过程中任意时刻血量必须 $>0$。\n\n现在请问，在通过第 $k$ 个关卡之后（可以使用第 $k$ 关的经验书），主角能达到的最大等级是多少？如果无法通过第 $k$ 关，答案为 0。\n\n请你输出 $k = 1 \\sim n$ 的所有答案，注意这 $n$ 个询问是独立的。\n\n例如 $n = 3, m = 2, a = [2, 1, 1]$\n\n$$b[1][1] = 1$$\n$$b[2][1] = 2, b[2][2] = 3$$\n$$b[3][1] = 3, b[3][2] = 3, b[3][3] = 3$$\n\n- 当 $k = 1$ 时，第一关血量先减为 $2 - 1 = 1$，然后选择升为 2 级，答案为 $2$。\n- 当 $k = 2$ 时，第一关血量先减为 $2 - 1 = 1$，然后选择加血 $1 + 2 = 3$；第二关血量减为 $3 - 2 = 1$，然后选择升为 $2$ 级，答案为 $2$。\n- 当 $k = 3$ 时，无论如何选择都无法通过第 3 关，答案为 $0$。", "inputFormat": "第一行 $2$ 个整数 $n, m$，代表关卡数量和初始血量。\n\n第二行 $n$ 个整数 $a[1 \\sim n]$ 代表每关经验书的加血量。\n\n接下来 $n$ 行，第 $i$ 行包含 $i$ 个整数代表第 $i$ 关的 Boss 对等级为 $1 \\sim i$ 的主角造成的伤害值。", "outputFormat": "输出 $n$ 行，第 $i$ 行包含 $1$ 个整数代表通过第 $i$ 个关卡之后，主角能达到的最大等级。", "hint": "### 样例 3-5\n\n见附件。\n\n### 数据范围\n\n对于所有数据，$1 \\leq n \\leq 1500, 0 \\leq a[i], b[i][j] \\leq 100, 1 \\leq m \\leq 1500$\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | $n$ | 子任务依赖 |\n|:----------:|:----:|:-------:|:------------:|\n| 1          | 39   | $\\leq 10$ |            |\n| 2          | 43   | $\\leq 100$ | 1          |\n| 3          | 18   | $\\leq 1500$ | 1,2        |", "locale": "zh-CN"}}}
{"pid": "B4160", "type": "B", "difficulty": 4, "samples": [["3 3\n2 2\n2 3\n1 3", "1\n2\n3"], ["8 9\n5 7\n6 7\n5 6\n6 7\n7 7\n5 7\n4 6\n1 1\n7 7", "1\n1\n1\n2\n3\n4\n5\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "线段树", "并查集", "单调队列", "2024", "北京", "BCSP-X"], "title": "[BCSP-X 2024 12 月小学高年级组] 排座位", "background": "", "description": "有 $n$ 个座位，从左到右编号为 $1 \\sim n$。现在有 $m$ 个小朋友，第 $i$ 个小朋友可以坐在 $l[i] \\sim r[i]$ 这些座位上，每个座位至多坐一个人。\n\n现在请问，如果只保留 $1 \\sim k$ 这些座位，最多可以给多少小朋友安排座位。请你输出 $k = 1 \\sim n$ 的所有答案。\n\n例如 $n = 3, m = 3$，$3$ 个小朋友 $A, B, C$ 的区间为 $[2, 2], [2, 3], [1, 3]$：\n\n- $k = 1$ 时：一个可行方案为 $[C]$，答案为 $1$；\n- $k = 2$ 时：一个可行方案为 $[C, B]$，答案为 $2$；\n- $k = 3$ 时：一个可行方案为 $[C, A, B]$，答案为 $3$；", "inputFormat": "第一行 $2$ 个整数 $n, m$ 代表座位和小朋友的数量。\n\n接下来 $m$ 行，每行 $2$ 个整数 $l[i], r[i]$ 代表第 $i$ 个小朋友的意愿区间。", "outputFormat": "输出 $n$ 行，第 $k$ 行代表只保留前 $1 \\sim k$ 个座位之后最多可以给几个小朋友安排座位。", "hint": "### 样例 3-7\n\n见附件。\n\n### 数据范围\n\n对于所有数据，$1 \\leq n, m \\leq 2 \\times 10^5, 1 \\leq l[i] \\leq r[i] \\leq n$。\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | 数据范围 | 特殊性质 | 子任务依赖 |\n|:------------:|:------:|:----------:|:----------:|:------------:|\n| 1          | 26   | $n, m \\leq 10$ |          |            |\n| 2          | 28   | $n, m \\leq 100$ |          | 1          |\n| 3          | 11   | $n, m \\leq 5000$ | $l[i] = r[i]$ |            |\n| 4          | 26   | $n, m \\leq 5000$ |          | 1,2,3      |\n| 5          | 9    | $n, m \\leq 2 \\times 10^5$ |          | 1,2,3,4    |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月小学高年级组] 排座位", "background": "", "description": "有 $n$ 个座位，从左到右编号为 $1 \\sim n$。现在有 $m$ 个小朋友，第 $i$ 个小朋友可以坐在 $l[i] \\sim r[i]$ 这些座位上，每个座位至多坐一个人。\n\n现在请问，如果只保留 $1 \\sim k$ 这些座位，最多可以给多少小朋友安排座位。请你输出 $k = 1 \\sim n$ 的所有答案。\n\n例如 $n = 3, m = 3$，$3$ 个小朋友 $A, B, C$ 的区间为 $[2, 2], [2, 3], [1, 3]$：\n\n- $k = 1$ 时：一个可行方案为 $[C]$，答案为 $1$；\n- $k = 2$ 时：一个可行方案为 $[C, B]$，答案为 $2$；\n- $k = 3$ 时：一个可行方案为 $[C, A, B]$，答案为 $3$；", "inputFormat": "第一行 $2$ 个整数 $n, m$ 代表座位和小朋友的数量。\n\n接下来 $m$ 行，每行 $2$ 个整数 $l[i], r[i]$ 代表第 $i$ 个小朋友的意愿区间。", "outputFormat": "输出 $n$ 行，第 $k$ 行代表只保留前 $1 \\sim k$ 个座位之后最多可以给几个小朋友安排座位。", "hint": "### 样例 3-7\n\n见附件。\n\n### 数据范围\n\n对于所有数据，$1 \\leq n, m \\leq 2 \\times 10^5, 1 \\leq l[i] \\leq r[i] \\leq n$。\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | 数据范围 | 特殊性质 | 子任务依赖 |\n|:------------:|:------:|:----------:|:----------:|:------------:|\n| 1          | 26   | $n, m \\leq 10$ |          |            |\n| 2          | 28   | $n, m \\leq 100$ |          | 1          |\n| 3          | 11   | $n, m \\leq 5000$ | $l[i] = r[i]$ |            |\n| 4          | 26   | $n, m \\leq 5000$ |          | 1,2,3      |\n| 5          | 9    | $n, m \\leq 2 \\times 10^5$ |          | 1,2,3,4    |", "locale": "zh-CN"}}}
{"pid": "B4161", "type": "B", "difficulty": 5, "samples": [["5 5 5\n2\n1 1 3\n2\n2\n1 3 3\n2 5\n1 2\n1 1\n2 2\n3 4", "228 0 48 0 0"], ["10 10 10\n1 4 1\n1 7 3\n1 4 5\n1 1 3\n2\n1 5 5\n2\n2\n1 8 2\n1 7 1\n1 8\n1 1\n7 8\n1 4\n8 9\n3 9\n2 10\n4 7\n3 6\n6 9", "2536 0 0 8952 3560 0 6304 4674 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2024", "北京", "差分", "BCSP-X"], "title": "[BCSP-X 2024 12 月小学高年级组] 操作序列", "background": "", "description": "有 $n$ 个变量 $x[1 \\sim n]$，初始值都为 0。\n\n依次给出 $m$ 个操作的信息，操作分为 2 种：\n\n- $(1, id, v)$: 代表将 $x[id]$ 的值加上 $v$；\n- $2$: 代表将所有变量的值乘 $2$；\n\n所有运算在 $(\\bmod \\ 10^4)$ 下执行，提示：模意义下的加减乘运算\n\n- 加：`c = (a + b) % mod`；\n- 减：`c = (a - b + mod) % mod`；\n- 乘：`c = a * b % mod`；\n\n现在给出一个操作序列，请问依次执行序列中的所有操作之后，每个变量的值是多少。\n\n具体的，操作序列以 $q$ 个区间 $[l[i], r[i]]$ 的形式给出，依次执行每个区间、每个区间按编号从小->大执行区间内的操作，即完整的操作序列为：\n\n- $l[1] \\sim r[1], l[2] \\sim r[2], l[3] \\sim r[3], \\ldots, l[q] \\sim r[q]$", "inputFormat": "第一行 $3$ 个整数 $n, m, q$，代表变量数量，操作数量，操作序列中区间数量。\n\n接下来 $m$ 行，每行 $3$ 个整数 $op, id, v$ 或者 $1$ 个整数 $op$，给出所有操作的信息。\n\n接下来 $q$ 行，每行 $2$ 个整数 $l[i], r[i]$ 代表一个操作区间。", "outputFormat": "输出一行 $n$ 个整数，代表所有操作执行完之后每个变量的值。", "hint": "### 样例 3-8\n\n见附件。\n\n### 数据范围\n\n对于所有数据，$1 \\leq n, m, q \\leq 2 \\times 10^5, op = \\{1, 2\\}, 1 \\leq id \\leq n, 1 \\leq v \\leq 10^9$，假设 $m$ 种操作中第 1、2 种操作的总数为 $m_1, m_2$，满足 $m_1 + m_2 = m$。\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | 数据范围 | 特殊性质 | 子任务依赖 |\n|:------------:|:------:|:----------:|:----------:|:------------:|\n| 1          | 15   | $n, m, q \\leq 500$ |          |            |\n| 2          | 19   | $n, m, q \\leq 5000$ |          | 1          |\n| 3          | 11   | $n, m, q \\leq 2 \\times 10^5$ | $m_2 = 0$ |            |\n| 4          | 17   | $n, m, q \\leq 2 \\times 10^5$ | $m_1 = 1, m_2 = m - 1$ |            |\n| 5          | 17   | $n, m, q \\leq 2 \\times 10^5$ | $m_1 = m - 1, m_2 = 1$ |            |\n| 6          | 21   | $n, m, q \\leq 2 \\times 10^5$ |          | 1,2,3,4,5          |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月小学高年级组] 操作序列", "background": "", "description": "有 $n$ 个变量 $x[1 \\sim n]$，初始值都为 0。\n\n依次给出 $m$ 个操作的信息，操作分为 2 种：\n\n- $(1, id, v)$: 代表将 $x[id]$ 的值加上 $v$；\n- $2$: 代表将所有变量的值乘 $2$；\n\n所有运算在 $(\\bmod \\ 10^4)$ 下执行，提示：模意义下的加减乘运算\n\n- 加：`c = (a + b) % mod`；\n- 减：`c = (a - b + mod) % mod`；\n- 乘：`c = a * b % mod`；\n\n现在给出一个操作序列，请问依次执行序列中的所有操作之后，每个变量的值是多少。\n\n具体的，操作序列以 $q$ 个区间 $[l[i], r[i]]$ 的形式给出，依次执行每个区间、每个区间按编号从小->大执行区间内的操作，即完整的操作序列为：\n\n- $l[1] \\sim r[1], l[2] \\sim r[2], l[3] \\sim r[3], \\ldots, l[q] \\sim r[q]$", "inputFormat": "第一行 $3$ 个整数 $n, m, q$，代表变量数量，操作数量，操作序列中区间数量。\n\n接下来 $m$ 行，每行 $3$ 个整数 $op, id, v$ 或者 $1$ 个整数 $op$，给出所有操作的信息。\n\n接下来 $q$ 行，每行 $2$ 个整数 $l[i], r[i]$ 代表一个操作区间。", "outputFormat": "输出一行 $n$ 个整数，代表所有操作执行完之后每个变量的值。", "hint": "### 样例 3-8\n\n见附件。\n\n### 数据范围\n\n对于所有数据，$1 \\leq n, m, q \\leq 2 \\times 10^5, op = \\{1, 2\\}, 1 \\leq id \\leq n, 1 \\leq v \\leq 10^9$，假设 $m$ 种操作中第 1、2 种操作的总数为 $m_1, m_2$，满足 $m_1 + m_2 = m$。\n\n本题采用捆绑测试，你必须通过子任务中的所有数据点以及其依赖的子任务，才能获得子任务对应的分数。\n\n| 子任务编号 | 分值 | 数据范围 | 特殊性质 | 子任务依赖 |\n|:------------:|:------:|:----------:|:----------:|:------------:|\n| 1          | 15   | $n, m, q \\leq 500$ |          |            |\n| 2          | 19   | $n, m, q \\leq 5000$ |          | 1          |\n| 3          | 11   | $n, m, q \\leq 2 \\times 10^5$ | $m_2 = 0$ |            |\n| 4          | 17   | $n, m, q \\leq 2 \\times 10^5$ | $m_1 = 1, m_2 = m - 1$ |            |\n| 5          | 17   | $n, m, q \\leq 2 \\times 10^5$ | $m_1 = m - 1, m_2 = 1$ |            |\n| 6          | 21   | $n, m, q \\leq 2 \\times 10^5$ |          | 1,2,3,4,5          |", "locale": "zh-CN"}}}
{"pid": "B4162", "type": "B", "difficulty": 3, "samples": [["3\n1\n2\n3", "No\nYes\n1 1\n1 1\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "北京", "Special Judge", "构造", "BCSP-X"], "title": "[BCSP-X 2024 12 月初中组] 稳定原子", "background": "小 $\\tau$ 在学结构化学。", "description": "小 $\\tau$ 认为一个大小为 $n$ 的原子可以抽象为一个 $n \\times n$ 的矩阵，每个位置上要么有电子，要么没有电子。\n\n并且一个原子是稳定的，当且仅当它的矩阵中的每一个位置均满足上下左右相邻的电子数恰好等于 $2$。\n\n小 $\\tau$ 想问问你，在他上述理论体系下，是否存在大小为 $n$ 的稳定原子，如果存在，输出 Yes 并给出一种稳定原子的电子排布方案；如果不存在，输出 No。\n\n由于小 $\\tau$ 非常好奇，所以他会问 $T$ 次。", "inputFormat": "第一行一个正整数 $T$ 表示询问次数。\n\n后面 $T$ 行，第 $i$ 行一个正整数 $n$，表示第 $i$ 次询问的原子大小。", "outputFormat": "对于每组询问，第一行输出 Yes/No 表示是否存在稳定原子。\n\n如果是 Yes，后面输出 $n$ 行 $n$ 列的 $0/1$ 矩阵，$1$ 表示有电子，$0$ 表示没有电子。", "hint": "对于 $100\\%$ 的数据，$T=10$，$1\\leq n\\leq 1000$。\n\n**声明：本题所述内容并非化学事实。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月初中组] 稳定原子", "background": "小 $\\tau$ 在学结构化学。", "description": "小 $\\tau$ 认为一个大小为 $n$ 的原子可以抽象为一个 $n \\times n$ 的矩阵，每个位置上要么有电子，要么没有电子。\n\n并且一个原子是稳定的，当且仅当它的矩阵中的每一个位置均满足上下左右相邻的电子数恰好等于 $2$。\n\n小 $\\tau$ 想问问你，在他上述理论体系下，是否存在大小为 $n$ 的稳定原子，如果存在，输出 Yes 并给出一种稳定原子的电子排布方案；如果不存在，输出 No。\n\n由于小 $\\tau$ 非常好奇，所以他会问 $T$ 次。", "inputFormat": "第一行一个正整数 $T$ 表示询问次数。\n\n后面 $T$ 行，第 $i$ 行一个正整数 $n$，表示第 $i$ 次询问的原子大小。", "outputFormat": "对于每组询问，第一行输出 Yes/No 表示是否存在稳定原子。\n\n如果是 Yes，后面输出 $n$ 行 $n$ 列的 $0/1$ 矩阵，$1$ 表示有电子，$0$ 表示没有电子。", "hint": "对于 $100\\%$ 的数据，$T=10$，$1\\leq n\\leq 1000$。\n\n**声明：本题所述内容并非化学事实。**", "locale": "zh-CN"}}}
{"pid": "B4163", "type": "B", "difficulty": 3, "samples": [["5\n1 3 4 2 5\n2 5 4 2 1", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2024", "北京", "线性 DP", "BCSP-X"], "title": "[BCSP-X 2024 12 月初中组] 序列选择", "background": null, "description": "给定两个长度为 $ n $ 的序列 $ a, b $，找出一个长为 $ n $ 的序列 $ c $，满足对于 $ i = 1, 2, \\cdots, n $，有 $ c_i = a_i $ 或 $ c_i = b_i $，使得 $\\sum_{i=2}^{n} |c_i - c_{i-1}|$ 最小，你只需要输出这个最小值。", "inputFormat": "- 输入的第一行包含一个正整数 $ n $。\n- 接下来一行 $ n $ 个整数，表示序列 $ a_i $。\n- 接下来一行 $ n $ 个整数，表示序列 $ b_i $。", "outputFormat": "输出一行一个整数，表示 $\\sum_{i=2}^{n} |c_i - c_{i-1}|$ 的最小值。", "hint": "### 样例 1 解释\n令序列 $ c = [2, 3, 4, 2, 1] $，此时 $\\sum_{i=2}^{n} |c_i - c_{i-1}| = 5$，可以证明不存在更小的答案。\n\n### 样例 2\n\n见附件的 `seq/seq2.in` 与 `seq/seq2.ans`。\n\n### 数据范围\n\n- 对于 $20\\%$ 的数据，满足 $n\\leq 20$。\n- 对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 2\\times 10^5$，$0\\leq |a_i|,|b_i|\\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月初中组] 序列选择", "background": null, "description": "给定两个长度为 $ n $ 的序列 $ a, b $，找出一个长为 $ n $ 的序列 $ c $，满足对于 $ i = 1, 2, \\cdots, n $，有 $ c_i = a_i $ 或 $ c_i = b_i $，使得 $\\sum_{i=2}^{n} |c_i - c_{i-1}|$ 最小，你只需要输出这个最小值。", "inputFormat": "- 输入的第一行包含一个正整数 $ n $。\n- 接下来一行 $ n $ 个整数，表示序列 $ a_i $。\n- 接下来一行 $ n $ 个整数，表示序列 $ b_i $。", "outputFormat": "输出一行一个整数，表示 $\\sum_{i=2}^{n} |c_i - c_{i-1}|$ 的最小值。", "hint": "### 样例 1 解释\n令序列 $ c = [2, 3, 4, 2, 1] $，此时 $\\sum_{i=2}^{n} |c_i - c_{i-1}| = 5$，可以证明不存在更小的答案。\n\n### 样例 2\n\n见附件的 `seq/seq2.in` 与 `seq/seq2.ans`。\n\n### 数据范围\n\n- 对于 $20\\%$ 的数据，满足 $n\\leq 20$。\n- 对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 2\\times 10^5$，$0\\leq |a_i|,|b_i|\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "B4164", "type": "B", "difficulty": 3, "samples": [["3", "YES\n0 1 0\n0 0 1\n1 0 0"], ["4", "NO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "北京", "Special Judge", "构造", "BCSP-X"], "title": "[BCSP-X 2024 12 月初中组] 末日塔后传", "background": "末日塔 - 后传", "description": "星球上的 $n$ 座末日塔又开始释放以太能量了。\n\n每一座末日塔释放的以太能量都有 $n$ 种类型，对于第 $k$ 种类型的以太能量，它需要通过单向管道运送到第 $k$ 座末日塔，才能被完全抑制住。\n\n作为曾经勇闯末日塔的先锋，你被授予在任意两座末日塔之间建造一条单向管道的权力，而你的任务则是对于所有的 $i, j \\in [1, n]$，当第 $i$ 座末日塔出现第 $j$ 种以太能量时，尽你所能的将其通过管道迅速运送到能够抑制这种以太能量的末日塔。\n\n很不幸，由于以太能量过于浓密，当其被单向管道连续运输大于两次后，以太能量散发的射线将透过管道，对星球上的所有生物进行精神控制，你的任务就失败了。\n\n请你判断存不存在能够让你任务圆满完成的管道设计方案。如果有，请输出 YES 以及任意一种设计方案；如果没有，请输出 NO。", "inputFormat": "一个正整数 $n$ 表示星球上末日塔的数量。", "outputFormat": "第一行一个字符串 YES 或 NO，表示是否存在圆满完成任务的设计方案。\n\n如果为 YES，请再输出 $n$ 行 $n$ 列的邻接矩阵 $d$，$d_{i,j} = 1/0$ 表示存在/不存在从第 $i$ 座到第 $j$ 座的单向管道。\n\n你需要保证 $d_{i,i} = 0$ 且 $\\forall i \\neq j, d_{i,j} \\text{ xor } d_{j,i} = 1$。", "hint": "### 样例解释 1\n\n$d_1$ 一次可以到 $d_2$，$d_1 $先到 $d_2$，再到 $d_3$，最多利用了两个管道；$d_2$ 和 $d_3$ 同理，所以输出 YES。\n\n### 样例解释 2\n\n$n=4$ 的情况，无论你怎么建图，保证不能同时有 $d_i$ 到 $d_j$ 的往返路，这样 $d_i$ 到 $d_j$ 的连接会多于 $2$ 个管道，所以输出 NO。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$n \\leq 500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月初中组] 末日塔后传", "background": "末日塔 - 后传", "description": "星球上的 $n$ 座末日塔又开始释放以太能量了。\n\n每一座末日塔释放的以太能量都有 $n$ 种类型，对于第 $k$ 种类型的以太能量，它需要通过单向管道运送到第 $k$ 座末日塔，才能被完全抑制住。\n\n作为曾经勇闯末日塔的先锋，你被授予在任意两座末日塔之间建造一条单向管道的权力，而你的任务则是对于所有的 $i, j \\in [1, n]$，当第 $i$ 座末日塔出现第 $j$ 种以太能量时，尽你所能的将其通过管道迅速运送到能够抑制这种以太能量的末日塔。\n\n很不幸，由于以太能量过于浓密，当其被单向管道连续运输大于两次后，以太能量散发的射线将透过管道，对星球上的所有生物进行精神控制，你的任务就失败了。\n\n请你判断存不存在能够让你任务圆满完成的管道设计方案。如果有，请输出 YES 以及任意一种设计方案；如果没有，请输出 NO。", "inputFormat": "一个正整数 $n$ 表示星球上末日塔的数量。", "outputFormat": "第一行一个字符串 YES 或 NO，表示是否存在圆满完成任务的设计方案。\n\n如果为 YES，请再输出 $n$ 行 $n$ 列的邻接矩阵 $d$，$d_{i,j} = 1/0$ 表示存在/不存在从第 $i$ 座到第 $j$ 座的单向管道。\n\n你需要保证 $d_{i,i} = 0$ 且 $\\forall i \\neq j, d_{i,j} \\text{ xor } d_{j,i} = 1$。", "hint": "### 样例解释 1\n\n$d_1$ 一次可以到 $d_2$，$d_1 $先到 $d_2$，再到 $d_3$，最多利用了两个管道；$d_2$ 和 $d_3$ 同理，所以输出 YES。\n\n### 样例解释 2\n\n$n=4$ 的情况，无论你怎么建图，保证不能同时有 $d_i$ 到 $d_j$ 的往返路，这样 $d_i$ 到 $d_j$ 的连接会多于 $2$ 个管道，所以输出 NO。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$n \\leq 500$。", "locale": "zh-CN"}}}
{"pid": "B4165", "type": "B", "difficulty": 5, "samples": [["5 4 4\n5 3 4\n2 1 1\n3 2 2\n2 4 2\n2\n3\n4\n5", "1\n2\n2\n4"], ["6 8 5\n3 1 1\n3 6 2\n5 4 2\n4 2 2\n6 1 1\n5 2 1\n3 2 3\n1 5 4\n2\n3\n4\n5\n6", "2\n1\n4\n3\n1"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "贪心", "2024", "北京", "图论建模", "最短路", "BCSP-X"], "title": "[BCSP-X 2024 12 月初中组] 贸易", "background": "", "description": "这个世界上一共有 $n$ 个国家，这些国家之间经常有贸易往来，于是为了方便，有 $m$ 条道路连接这些国家，每条道路连接两个国家，使得这两个国家之间可以轻松进行往来。\n\n有了这些道路之后，商人在国家之间会赚取到更多的利润，所以为了限制商人的财富，国家之间制定了一个规则。商人经过每条道路，需要上交这条路对应的过路费 $w_i$，商人从起点国家到达目的地国家时，会返还给他走的路径上的过路费最大的那条路的费用 $\\max w_i$ 减去过路费最小的那条路的费用 $\\min w_i$。\n\n现在，有 $k$ 个商人要从一号国家出发，去各个国家进行贸易，你需要计算他们每个人如何走可以使得他自己的过路费最少，你只需要告诉他们每个人这个最小过路费即可。", "inputFormat": "第一行三个整数 $n, m, k$，分别表示国家的个数，道路的数量和商人的数量。国家的编号由 1 到 $n$。\n\n接下来 $m$ 行每行三个整数 $u_i, v_i, w_i$，表示有一条连接 $u_i$ 号国家和 $v_i$ 号国家的道路，其过路费为 $w_i$。\n\n接下来 $k$ 行每行一个整数 $t_i$，表示每个商人的目的地国家编号。", "outputFormat": "输出共 $k$ 行，一行一个整数 $c_i$，表示第 $i$ 名商人要到达目的地所需要的最小花费。", "hint": "### 样例解释 1\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0jr9ups3.png)\n\n如上图。\n\n- 对于路径 $1 \\to 2$，花费为 $1 - 1 + 1 = 1$；\n- 对于路径 $1 \\to 3$，花费为 $1 + 2 - 2 + 1 = 2$；\n- 对于路径 $1 \\to 4$，花费为 $1 + 2 - 2 + 1 = 2$；\n- 对于路径 $1 \\to 5$，花费为 $1 + 2 + 4 - 4 + 1 = 4$；\n\n### 数据范围\n\n- 对于 $10\\%$ 的数据，$n \\leq 10$；\n- 对于 $30\\%$ 的数据，$n \\leq 2 \\times 10^3$；\n- 对于另外 $20\\%$ 的数据，$k = 1$；\n- 对于另外 $10\\%$ 的数据，$w_i$ 相同；\n- 对于 $100\\%$ 的数据，$1 \\leq n \\leq 2 \\times 10^5, n - 1 \\leq m \\leq \\min(\\frac{n(n - 1)}{2}, 2 \\times 10^5), 1 \\leq k \\leq n - 1, 0 \\leq w_i \\leq 10^9$，数据保证不存在重边和自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 12 月初中组] 贸易", "background": "", "description": "这个世界上一共有 $n$ 个国家，这些国家之间经常有贸易往来，于是为了方便，有 $m$ 条道路连接这些国家，每条道路连接两个国家，使得这两个国家之间可以轻松进行往来。\n\n有了这些道路之后，商人在国家之间会赚取到更多的利润，所以为了限制商人的财富，国家之间制定了一个规则。商人经过每条道路，需要上交这条路对应的过路费 $w_i$，商人从起点国家到达目的地国家时，会返还给他走的路径上的过路费最大的那条路的费用 $\\max w_i$ 减去过路费最小的那条路的费用 $\\min w_i$。\n\n现在，有 $k$ 个商人要从一号国家出发，去各个国家进行贸易，你需要计算他们每个人如何走可以使得他自己的过路费最少，你只需要告诉他们每个人这个最小过路费即可。", "inputFormat": "第一行三个整数 $n, m, k$，分别表示国家的个数，道路的数量和商人的数量。国家的编号由 1 到 $n$。\n\n接下来 $m$ 行每行三个整数 $u_i, v_i, w_i$，表示有一条连接 $u_i$ 号国家和 $v_i$ 号国家的道路，其过路费为 $w_i$。\n\n接下来 $k$ 行每行一个整数 $t_i$，表示每个商人的目的地国家编号。", "outputFormat": "输出共 $k$ 行，一行一个整数 $c_i$，表示第 $i$ 名商人要到达目的地所需要的最小花费。", "hint": "### 样例解释 1\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0jr9ups3.png)\n\n如上图。\n\n- 对于路径 $1 \\to 2$，花费为 $1 - 1 + 1 = 1$；\n- 对于路径 $1 \\to 3$，花费为 $1 + 2 - 2 + 1 = 2$；\n- 对于路径 $1 \\to 4$，花费为 $1 + 2 - 2 + 1 = 2$；\n- 对于路径 $1 \\to 5$，花费为 $1 + 2 + 4 - 4 + 1 = 4$；\n\n### 数据范围\n\n- 对于 $10\\%$ 的数据，$n \\leq 10$；\n- 对于 $30\\%$ 的数据，$n \\leq 2 \\times 10^3$；\n- 对于另外 $20\\%$ 的数据，$k = 1$；\n- 对于另外 $10\\%$ 的数据，$w_i$ 相同；\n- 对于 $100\\%$ 的数据，$1 \\leq n \\leq 2 \\times 10^5, n - 1 \\leq m \\leq \\min(\\frac{n(n - 1)}{2}, 2 \\times 10^5), 1 \\leq k \\leq n - 1, 0 \\leq w_i \\leq 10^9$，数据保证不存在重边和自环。", "locale": "zh-CN"}}}
{"pid": "B4166", "type": "B", "difficulty": 1, "samples": [["3\n3\n7\n10", "2\n3\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2024", "广西", "进制"], "title": "[GXPC-S 2024] 数字谜题", "background": "小林最近迷上了数字谜题。", "description": "\n给定十进制正整数 $x$，你需要输出它在二进制表示下的最长的连续的 $1$ 的个数。\n\n你需要解决 $T$ 组数据。", "inputFormat": "**本题单个测试点内有多组测试数据。**\n\n第一行，一个正整数 $T$，代表数据组数；\n\n对于每组数据，输入一行一个正整数，表示 $x$。", "outputFormat": "对于每组数据，输出一行一个整数，表示你求得的二进制表示下的最长的连续的 $1$ 的个数。", "hint": "对于第三组数据：注意到 $(10)_{10}=(1010)_2$。最长的连续的 $1$ 的个数为 $1$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（30pts）：保证 $1\\le x\\le 100$，$1\\le T\\le 10$；\n- Subtask 2（70pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le x\\le 10^{18}$；\n- $1\\le T\\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GXPC-S 2024] 数字谜题", "background": "小林最近迷上了数字谜题。", "description": "\n给定十进制正整数 $x$，你需要输出它在二进制表示下的最长的连续的 $1$ 的个数。\n\n你需要解决 $T$ 组数据。", "inputFormat": "**本题单个测试点内有多组测试数据。**\n\n第一行，一个正整数 $T$，代表数据组数；\n\n对于每组数据，输入一行一个正整数，表示 $x$。", "outputFormat": "对于每组数据，输出一行一个整数，表示你求得的二进制表示下的最长的连续的 $1$ 的个数。", "hint": "对于第三组数据：注意到 $(10)_{10}=(1010)_2$。最长的连续的 $1$ 的个数为 $1$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（30pts）：保证 $1\\le x\\le 100$，$1\\le T\\le 10$；\n- Subtask 2（70pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le x\\le 10^{18}$；\n- $1\\le T\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "B4167", "type": "B", "difficulty": 3, "samples": [["3\n2 2\n**\n2?\n2 2\n*1\n3?\n2 2\n**\n21", "YES\nNO\nNO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "2024", "枚举", "广西"], "title": "[GXPC-S 2024] 扫雷", "background": "小林最近迷上了扫雷游戏。", "description": "一个扫雷游戏可以被抽象成一个 $n$ 行 $m$ 列的字符矩阵，不妨记第 $i$ 行第 $j$ 列的字符为 $S_{i,j}$。\n\n若 $S_{i,j}=\\texttt{*}$，表示格子 $(i,j)$ 上有一个地雷；\n\n若 $S_{i,j}=\\texttt{?}$，表示格子 $(i,j)$ 情况未知；\n\n若 $S_{i,j}\\in [0,8]$，表示格子 $(i,j)$ 周围的 $8$ 个格子中有 $S_{i,j}$ 个地雷（这个格子本身没有地雷）。\n形式化地说，记\n\n$$\nf(i,j)=\\begin{cases}\n1, & (i,j)\\text{ 上有地雷} \\\\\n0, & \\text{其他情况} \\\\\n\\end{cases}\n$$\n\n特别地，对于超出棋盘边界的情况，规定 $f(i,j)=0$。\n则 $\\displaystyle S_{i,j}=\\sum_{p=-1}^1\\sum_{q=-1}^1 f(i+p,j+q)$。\n\n给定一个棋盘，你可以任意决定每个 $\\texttt{?}$ 格子上是否有炸弹。你想要知道是否存在方案使得这个棋盘是合法的。\n我们定义一个棋盘**合法**，当且仅当填有数字 $x$ 的格子周围的八个格子上恰好有 $x$ 个炸弹。\n\n你需要解决 $T$ 组数据。", "inputFormat": "**本题单个测试点内含多组测试数据。**\n\n第一行，一个正整数 $T$，代表数据组数；\n\n对于每组数据，输入 $(n+1)$ 行：\n\n- 第一行，两个正整数 $n,m$，描述棋盘的行数和列数；\n- 接下来 $n$ 行，第 $(i+1)$ 行的第 $j$ 个字符描述 $S_{i,j}$。", "outputFormat": "对于每组数据，输出一行。\n\n若存在合法的方案，输出 `YES`；否则输出 `NO`。", "hint": "对于第一组数据：问号处选择不填是一种合法方案。可以证明这是唯一的合法方案。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20pts）：至多存在 $1$ 组 $(i,j)$，使得 $S_{i,j}=\\texttt{?}$；\n- Subtask 2（80pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T,n,m\\le 10$；\n- 至多存在 $10$ 组 $(i,j)$，使得 $S_{i,j}=\\texttt{?}$；\n- $\\forall 1\\le i\\le n,1\\le j\\le m$，保证 $S_{i,j}\\in\\{0,1,2,3,4,5,6,7,8,\\texttt{?},\\texttt{*}\\}$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GXPC-S 2024] 扫雷", "background": "小林最近迷上了扫雷游戏。", "description": "一个扫雷游戏可以被抽象成一个 $n$ 行 $m$ 列的字符矩阵，不妨记第 $i$ 行第 $j$ 列的字符为 $S_{i,j}$。\n\n若 $S_{i,j}=\\texttt{*}$，表示格子 $(i,j)$ 上有一个地雷；\n\n若 $S_{i,j}=\\texttt{?}$，表示格子 $(i,j)$ 情况未知；\n\n若 $S_{i,j}\\in [0,8]$，表示格子 $(i,j)$ 周围的 $8$ 个格子中有 $S_{i,j}$ 个地雷（这个格子本身没有地雷）。\n形式化地说，记\n\n$$\nf(i,j)=\\begin{cases}\n1, & (i,j)\\text{ 上有地雷} \\\\\n0, & \\text{其他情况} \\\\\n\\end{cases}\n$$\n\n特别地，对于超出棋盘边界的情况，规定 $f(i,j)=0$。\n则 $\\displaystyle S_{i,j}=\\sum_{p=-1}^1\\sum_{q=-1}^1 f(i+p,j+q)$。\n\n给定一个棋盘，你可以任意决定每个 $\\texttt{?}$ 格子上是否有炸弹。你想要知道是否存在方案使得这个棋盘是合法的。\n我们定义一个棋盘**合法**，当且仅当填有数字 $x$ 的格子周围的八个格子上恰好有 $x$ 个炸弹。\n\n你需要解决 $T$ 组数据。", "inputFormat": "**本题单个测试点内含多组测试数据。**\n\n第一行，一个正整数 $T$，代表数据组数；\n\n对于每组数据，输入 $(n+1)$ 行：\n\n- 第一行，两个正整数 $n,m$，描述棋盘的行数和列数；\n- 接下来 $n$ 行，第 $(i+1)$ 行的第 $j$ 个字符描述 $S_{i,j}$。", "outputFormat": "对于每组数据，输出一行。\n\n若存在合法的方案，输出 `YES`；否则输出 `NO`。", "hint": "对于第一组数据：问号处选择不填是一种合法方案。可以证明这是唯一的合法方案。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20pts）：至多存在 $1$ 组 $(i,j)$，使得 $S_{i,j}=\\texttt{?}$；\n- Subtask 2（80pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T,n,m\\le 10$；\n- 至多存在 $10$ 组 $(i,j)$，使得 $S_{i,j}=\\texttt{?}$；\n- $\\forall 1\\le i\\le n,1\\le j\\le m$，保证 $S_{i,j}\\in\\{0,1,2,3,4,5,6,7,8,\\texttt{?},\\texttt{*}\\}$。\n", "locale": "zh-CN"}}}
{"pid": "B4168", "type": "B", "difficulty": 4, "samples": [["5\n1 3 5 7 9", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "广西"], "title": "[GXPC-S 2024] 分糖果", "background": "\n小林最近迷上了博弈问题。", "description": "有 $n$ 包糖果从左到右依次排成一行，第 $i$ 包糖果中有 $a_i$ 个糖果。小林和小伊从左到右对 $n$ 包糖果进行分配，分配权一开始在小林手里，小林可以将 $n$ 包糖果中最左端的糖果分配给自己或者小伊，本次分配中**没有拿到糖果**的人将拥有下一次的分配权。\n\n如果小林和小伊都足够聪明，会采用最优的策略进行分配，保证自己最后拥有的糖果总数最多，如此分配 $n$ 轮后，求出小林和小伊中**糖果更多的那个人**所拥有的糖果数量。", "inputFormat": "输入共 $2$ 行。\n\n第一行包含一个整数 $n$，表示一共有 $n$ 包糖果。\n第二行包含 $n$ 个整数，第 $i$ 个数 $a_i$ 表示第 $i$ 包糖果中的糖果数量。\n", "outputFormat": "输出一行一个整数，表示小林和小伊中任一人可以获得的最大收益。\n", "hint": "样例解释：如下是他们的游戏过程。\n\n- 小林将 $1$ 分给自己；此时小林和小伊的糖果数分别为 $1,0$；\n- 小伊将 $3$ 分给小林；此时小林和小伊的糖果数分别为 $4,0$；\n- 小伊将 $5$ 分给自己；此时小林和小伊的糖果数分别为 $4,5$；\n- 小林将 $7$ 分给小伊；此时小林和小伊的糖果数分别为 $4,12$；\n- 小林将 $9$ 分给自己；此时小林和小伊的糖果数分别为 $13,12$。\n\n可以证明这是最优的游戏策略。\n\n\n**本题采用捆绑测试。**\n\n- Subtask 1（40pts）：保证 $n\\le 20$；\n- Subtask 2（60pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证 $1\\le n,a_i\\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GXPC-S 2024] 分糖果", "background": "\n小林最近迷上了博弈问题。", "description": "有 $n$ 包糖果从左到右依次排成一行，第 $i$ 包糖果中有 $a_i$ 个糖果。小林和小伊从左到右对 $n$ 包糖果进行分配，分配权一开始在小林手里，小林可以将 $n$ 包糖果中最左端的糖果分配给自己或者小伊，本次分配中**没有拿到糖果**的人将拥有下一次的分配权。\n\n如果小林和小伊都足够聪明，会采用最优的策略进行分配，保证自己最后拥有的糖果总数最多，如此分配 $n$ 轮后，求出小林和小伊中**糖果更多的那个人**所拥有的糖果数量。", "inputFormat": "输入共 $2$ 行。\n\n第一行包含一个整数 $n$，表示一共有 $n$ 包糖果。\n第二行包含 $n$ 个整数，第 $i$ 个数 $a_i$ 表示第 $i$ 包糖果中的糖果数量。\n", "outputFormat": "输出一行一个整数，表示小林和小伊中任一人可以获得的最大收益。\n", "hint": "样例解释：如下是他们的游戏过程。\n\n- 小林将 $1$ 分给自己；此时小林和小伊的糖果数分别为 $1,0$；\n- 小伊将 $3$ 分给小林；此时小林和小伊的糖果数分别为 $4,0$；\n- 小伊将 $5$ 分给自己；此时小林和小伊的糖果数分别为 $4,5$；\n- 小林将 $7$ 分给小伊；此时小林和小伊的糖果数分别为 $4,12$；\n- 小林将 $9$ 分给自己；此时小林和小伊的糖果数分别为 $13,12$。\n\n可以证明这是最优的游戏策略。\n\n\n**本题采用捆绑测试。**\n\n- Subtask 1（40pts）：保证 $n\\le 20$；\n- Subtask 2（60pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证 $1\\le n,a_i\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "B4169", "type": "B", "difficulty": 4, "samples": [["5 5\n1 2 3 4 5\n1 1 3\n1 3 5\n2 1 4\n1 1 3\n1 1 5", "18\n60\n36\n90"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2024", "广西"], "title": "[GXPC-S 2024] 演唱会", "background": "小林最近迷上了参加演唱会。", "description": "有 $n$ 名粉丝在演唱会现场坐成一排，第 $i$ 名粉丝的应援力度为 $a_i$。\n\n聚光灯每次会照射到一个区间 $[l,r]$，传达出的**应援力度**为区间中所有粉丝的应援力度之和乘以区间中最大的应援力度。\n\n为了更好的应援，某个粉丝可能会更改他的应援力度。\n\n请你帮小林算出，每次聚光灯照射过来的时候，传达出的应援力度的值。", "inputFormat": "输入共 $(m+2)$ 行。\n\n第一行包含两个整数 $n,m$，表示粉丝的数量 $n$ 以及操作的数量 $m$。\n第二行包含 $n$ 个整数，第 $i$ 个数表示第 $i$ 名粉丝的应援力度 $a_i$。\n接下来 $m$ 行，每行三个正整数 $\\rm{opt},x,y$。\n\n- 当 $\\rm{opt}=1$ 时，表示查询区间 $[x,y]$ 中传达出的应援力度；\n\n- 当 $\\rm{opt}=2$ 时，表示将第 $x$ 名粉丝的应援力度修改为 $y$。", "outputFormat": "\n对于每个查询操作，输出一行一个整数，表示对应区间中传达出的应援力度。", "hint": "\n**本题采用捆绑测试。**\n\n- Subtask 1（30pts）：保证 $n,m\\le 10^3$；\n- Subtask 2（20pts）：保证无修改操作；\n- Subtask 3（50pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,a_i\\le 10^5$；\n- $\\rm{opt}\\in \\{1,2\\}$；\n- 当 $\\rm{opt}=1$ 时，$1\\le x\\le y\\le n$；\n- 当 $\\rm{opt}=2$ 时，$1\\le x\\le n$，$1\\le y\\le 10^5$。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GXPC-S 2024] 演唱会", "background": "小林最近迷上了参加演唱会。", "description": "有 $n$ 名粉丝在演唱会现场坐成一排，第 $i$ 名粉丝的应援力度为 $a_i$。\n\n聚光灯每次会照射到一个区间 $[l,r]$，传达出的**应援力度**为区间中所有粉丝的应援力度之和乘以区间中最大的应援力度。\n\n为了更好的应援，某个粉丝可能会更改他的应援力度。\n\n请你帮小林算出，每次聚光灯照射过来的时候，传达出的应援力度的值。", "inputFormat": "输入共 $(m+2)$ 行。\n\n第一行包含两个整数 $n,m$，表示粉丝的数量 $n$ 以及操作的数量 $m$。\n第二行包含 $n$ 个整数，第 $i$ 个数表示第 $i$ 名粉丝的应援力度 $a_i$。\n接下来 $m$ 行，每行三个正整数 $\\rm{opt},x,y$。\n\n- 当 $\\rm{opt}=1$ 时，表示查询区间 $[x,y]$ 中传达出的应援力度；\n\n- 当 $\\rm{opt}=2$ 时，表示将第 $x$ 名粉丝的应援力度修改为 $y$。", "outputFormat": "\n对于每个查询操作，输出一行一个整数，表示对应区间中传达出的应援力度。", "hint": "\n**本题采用捆绑测试。**\n\n- Subtask 1（30pts）：保证 $n,m\\le 10^3$；\n- Subtask 2（20pts）：保证无修改操作；\n- Subtask 3（50pts）：无额外约束。\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,a_i\\le 10^5$；\n- $\\rm{opt}\\in \\{1,2\\}$；\n- 当 $\\rm{opt}=1$ 时，$1\\le x\\le y\\le n$；\n- 当 $\\rm{opt}=2$ 时，$1\\le x\\le n$，$1\\le y\\le 10^5$。\n\n\n", "locale": "zh-CN"}}}
{"pid": "B4170", "type": "B", "difficulty": 2, "samples": [["14\n36\n2\n3\n49\n81\n35\n12\n89\n16\n100\n967217\n917597\n185971\n43607027731", "2\n2\n3\n7\n3\n5\n2\n89\n2\n2\n37\n571\n185971\n43607027731"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "北京", "素数判断,质数,筛法", "BCSP-X"], "title": "[BCSP-X 2024 6 月小学高年级组] 最小质因子", "background": "", "description": "给定一个正整数 $n$，设 $n = p_1 \\times p_2 \\times \\dots \\times p_k$，其中 $p_i$ 均为质数，对 $1 \\leq i < k$，$p_i \\leq p_{i+1}$。\n\n给定 $n$，请你计算其最小的质因子 $p_1$。\n\n例如：\n- $36 = 2 \\times 2 \\times 3 \\times 3$，最小质因子是 $2$；\n- $49 = 7 \\times 7$，最小质因子是 $7$；\n- $89 = 89$，最小质因子是 $89$；\n- $967217 = 37 \\times 26141$，最小质因子是 $37$；", "inputFormat": "第一行 $1$ 个整数 $T$，代表有 $T$ 组数据。\n\n接下来 $T$ 行，每行 $1$ 个整数 $n$。", "outputFormat": "输出 $T$ 行，每行 $1$ 个整数 $p_1$ 代表答案。", "hint": "### 数据范围\n\n对于所有数据，$1 \\leq T \\leq 50, 1 < n \\leq 10^{12}$。\n\n- 对于测试点 1~8：$n \\leq 1000$；\n- 对于测试点 9~14：$n \\leq 10^5$；\n- 对于测试点 15~17：$n \\leq 10^9$；\n- 对于测试点 18~20：$n \\leq 10^{12}$；", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月小学高年级组] 最小质因子", "background": "", "description": "给定一个正整数 $n$，设 $n = p_1 \\times p_2 \\times \\dots \\times p_k$，其中 $p_i$ 均为质数，对 $1 \\leq i < k$，$p_i \\leq p_{i+1}$。\n\n给定 $n$，请你计算其最小的质因子 $p_1$。\n\n例如：\n- $36 = 2 \\times 2 \\times 3 \\times 3$，最小质因子是 $2$；\n- $49 = 7 \\times 7$，最小质因子是 $7$；\n- $89 = 89$，最小质因子是 $89$；\n- $967217 = 37 \\times 26141$，最小质因子是 $37$；", "inputFormat": "第一行 $1$ 个整数 $T$，代表有 $T$ 组数据。\n\n接下来 $T$ 行，每行 $1$ 个整数 $n$。", "outputFormat": "输出 $T$ 行，每行 $1$ 个整数 $p_1$ 代表答案。", "hint": "### 数据范围\n\n对于所有数据，$1 \\leq T \\leq 50, 1 < n \\leq 10^{12}$。\n\n- 对于测试点 1~8：$n \\leq 1000$；\n- 对于测试点 9~14：$n \\leq 10^5$；\n- 对于测试点 15~17：$n \\leq 10^9$；\n- 对于测试点 18~20：$n \\leq 10^{12}$；", "locale": "zh-CN"}}}
{"pid": "B4171", "type": "B", "difficulty": 3, "samples": [["5 4\n3 4 1 5 2\n1 2 3 4", "1 4 3 5 2\n1 2 3 5 4\n1 2 3 5 4\n1 2 3 4 5"], ["6 3\n6 4 2 3 1 5\n1 3 5", "1 4 2 3 6 5\n1 2 3 4 6 5\n1 2 3 4 5 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "北京", "排序", "BCSP-X"], "title": "[BCSP-X 2024 6 月小学高年级组] 选择排序", "background": "", "description": "选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理是每趟找出第 $i$ 小的元素（也就是 $A[i \\sim n]$ 中最小的元素），然后将这个元素与数组第 $i$ 个位置上的元素 $A[i]$ 交换；在 $n-1$ 趟之后序列 $A$ 变为升序。\n\n例如 $A = [3, 4, 1, 5, 2]$：\n- 第 1 趟交换 $A[1], A[3]$，序列变为 $[1, 4, 3, 5, 2]$；\n- 第 2 趟交换 $A[2], A[5]$，序列变为 $[1, 2, 3, 5, 4]$；\n- 第 3 趟交换 $A[3], A[3]$，序列不变；\n- 第 4 趟交换 $A[4], A[5]$，序列变为 $[1, 2, 3, 4, 5]$；\n\n现在给定初始序列 $A[1 \\sim n]$（保证 $A$ 是排列，即 $1 \\sim n$ 每个数恰好出现一次）和 $m$ 个询问 $q[1, 2, \\ldots, m]$（保证 $q[i] < q[i + 1]$），请你依次输出第 $q[i]$ 趟之后的序列 $A$。", "inputFormat": "第一行 2 个整数 $n, m$。\n\n第二行 $n$ 个整数 $A[1 \\sim n]$，保证 $A$ 是排列。\n\n第三行 $m$ 个整数 $q[1 \\sim m]$，保证 $q[i] < q[i + 1]$。", "outputFormat": "输出 $m$ 行，第 $i$ 行包含 $n$ 个整数代表第 $q[i]$ 趟之后的序列 $A$。", "hint": "对于所有数据，满足 $1 \\leq n \\leq 10^5, 1 \\leq m \\leq 10, 1 \\leq A[i] \\leq n, 1 \\leq q[i] < q[i + 1] < n$，保证 $A$ 是排列。\n\n- 对于测试点 1~8：$n \\leq 10$；\n- 对于测试点 9~13：$n \\leq 2000$；\n- 对于测试点 14~20：$n \\leq 10^5$；", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月小学高年级组] 选择排序", "background": "", "description": "选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理是每趟找出第 $i$ 小的元素（也就是 $A[i \\sim n]$ 中最小的元素），然后将这个元素与数组第 $i$ 个位置上的元素 $A[i]$ 交换；在 $n-1$ 趟之后序列 $A$ 变为升序。\n\n例如 $A = [3, 4, 1, 5, 2]$：\n- 第 1 趟交换 $A[1], A[3]$，序列变为 $[1, 4, 3, 5, 2]$；\n- 第 2 趟交换 $A[2], A[5]$，序列变为 $[1, 2, 3, 5, 4]$；\n- 第 3 趟交换 $A[3], A[3]$，序列不变；\n- 第 4 趟交换 $A[4], A[5]$，序列变为 $[1, 2, 3, 4, 5]$；\n\n现在给定初始序列 $A[1 \\sim n]$（保证 $A$ 是排列，即 $1 \\sim n$ 每个数恰好出现一次）和 $m$ 个询问 $q[1, 2, \\ldots, m]$（保证 $q[i] < q[i + 1]$），请你依次输出第 $q[i]$ 趟之后的序列 $A$。", "inputFormat": "第一行 2 个整数 $n, m$。\n\n第二行 $n$ 个整数 $A[1 \\sim n]$，保证 $A$ 是排列。\n\n第三行 $m$ 个整数 $q[1 \\sim m]$，保证 $q[i] < q[i + 1]$。", "outputFormat": "输出 $m$ 行，第 $i$ 行包含 $n$ 个整数代表第 $q[i]$ 趟之后的序列 $A$。", "hint": "对于所有数据，满足 $1 \\leq n \\leq 10^5, 1 \\leq m \\leq 10, 1 \\leq A[i] \\leq n, 1 \\leq q[i] < q[i + 1] < n$，保证 $A$ 是排列。\n\n- 对于测试点 1~8：$n \\leq 10$；\n- 对于测试点 9~13：$n \\leq 2000$；\n- 对于测试点 14~20：$n \\leq 10^5$；", "locale": "zh-CN"}}}
{"pid": "B4172", "type": "B", "difficulty": 3, "samples": [["5\n6 2\n-3 6 -1 -8 7 -6\n-3 2\n5 4\n-9 -6 -6 -7 -8\n-5 7 -9 -3\n7 7\n7 2 3 0 -2 4 2\n-9 -2 -5 0 -7 9 -1\n5 3\n10 4 6 7 4\n-1 -9 2\n5 3\n6 3 5 10 5\n-8 -5 -5", "20\n144\n-34\n-12\n-163"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "北京", "BCSP-X"], "title": "[BCSP-X 2024 6 月小学高年级组] 学习计划", "background": "", "description": "暑假共有 $n$ 天，第 $i$ 天的精力指数为 $a[i]$，你想要利用假期**依次（按 $1, 2, \\ldots, m$ 顺序）** 复习 $m$ 门功课，第 $i$ 门功课的重要程度为 $b[i]$，且**每门功课的复习时段必须连续，并且不能有某天不干事。**\n\n假设第 $i$ 门功课的复习时段为第 $l \\sim r$ 天，那么第 $i$ 门功课的收益为 $b[i] \\times (a[l] + a[l + 1] + \\ldots + a[r])$，你的总收益为 $m$ 门功课收益的总和。\n\n请你制订一个复习计划，使得总收益最大。\n\n形式化地，给定序列 $a[1 \\sim n], b[1 \\sim m]$，你需要把 $1, 2, \\ldots, n$ 这个序列分成首尾相连且非空的 $m$ 段，假设每段的 $a$ 之和为 $s[1 \\sim m]$，最大化 $\\sum_{i=1}^{m} b[i] \\times s[i]$ 的值。\n\n例如 $a = [-3, 6, -1, -8, 7, -6], b = [-3, 2]$，最优策略是第 $1 \\sim 4$ 天复习第 $1$ 门功课，收益为 $-3 \\times (-3 + 6 - 1 - 8) = 18$；第 $5 \\sim 6$ 天复习第 $2$ 门功课，收益为 $2 \\times (7 - 6) = 2$；总收益为 $18 + 2 = 20$。\n\n例如 $a = [6, 3, 5, 10, 5], b = [-8, -5, -5]$，最优策略是分成 $[1], [2, 3, 4], [5]$ 三段，总收益为 $-8 \\times 6 - 5 \\times (3 + 5 + 10) - 5 \\times 5 = -163$。\n", "inputFormat": "第一行 1 个整数 $T$，代表有 $T$ 组数据。\n\n每组数据第一行 2 个整数 $n, m$，第二行 $n$ 个整数 $a[1 \\sim n]$，第三行 $m$ 个整数 $b[1 \\sim m]$。", "outputFormat": "输出 $T$ 行，每行 1 个整数代表答案。", "hint": "对于所有数据，满足 $1 \\leq T \\leq 20, 1 \\leq m \\leq n \\leq 2000, -10^3 \\leq a[i], b[i] \\leq 10^3$。\n\n- 对于测试点 1~7：$n \\leq 10$；\n- 对于测试点 8~12：$n \\leq 500$；\n- 对于测试点 13~16：所有 $a[i], b[i]$ 为正整数；\n- 对于测试点 17~20：$n \\leq 2000$；", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月小学高年级组] 学习计划", "background": "", "description": "暑假共有 $n$ 天，第 $i$ 天的精力指数为 $a[i]$，你想要利用假期**依次（按 $1, 2, \\ldots, m$ 顺序）** 复习 $m$ 门功课，第 $i$ 门功课的重要程度为 $b[i]$，且**每门功课的复习时段必须连续，并且不能有某天不干事。**\n\n假设第 $i$ 门功课的复习时段为第 $l \\sim r$ 天，那么第 $i$ 门功课的收益为 $b[i] \\times (a[l] + a[l + 1] + \\ldots + a[r])$，你的总收益为 $m$ 门功课收益的总和。\n\n请你制订一个复习计划，使得总收益最大。\n\n形式化地，给定序列 $a[1 \\sim n], b[1 \\sim m]$，你需要把 $1, 2, \\ldots, n$ 这个序列分成首尾相连且非空的 $m$ 段，假设每段的 $a$ 之和为 $s[1 \\sim m]$，最大化 $\\sum_{i=1}^{m} b[i] \\times s[i]$ 的值。\n\n例如 $a = [-3, 6, -1, -8, 7, -6], b = [-3, 2]$，最优策略是第 $1 \\sim 4$ 天复习第 $1$ 门功课，收益为 $-3 \\times (-3 + 6 - 1 - 8) = 18$；第 $5 \\sim 6$ 天复习第 $2$ 门功课，收益为 $2 \\times (7 - 6) = 2$；总收益为 $18 + 2 = 20$。\n\n例如 $a = [6, 3, 5, 10, 5], b = [-8, -5, -5]$，最优策略是分成 $[1], [2, 3, 4], [5]$ 三段，总收益为 $-8 \\times 6 - 5 \\times (3 + 5 + 10) - 5 \\times 5 = -163$。\n", "inputFormat": "第一行 1 个整数 $T$，代表有 $T$ 组数据。\n\n每组数据第一行 2 个整数 $n, m$，第二行 $n$ 个整数 $a[1 \\sim n]$，第三行 $m$ 个整数 $b[1 \\sim m]$。", "outputFormat": "输出 $T$ 行，每行 1 个整数代表答案。", "hint": "对于所有数据，满足 $1 \\leq T \\leq 20, 1 \\leq m \\leq n \\leq 2000, -10^3 \\leq a[i], b[i] \\leq 10^3$。\n\n- 对于测试点 1~7：$n \\leq 10$；\n- 对于测试点 8~12：$n \\leq 500$；\n- 对于测试点 13~16：所有 $a[i], b[i]$ 为正整数；\n- 对于测试点 17~20：$n \\leq 2000$；", "locale": "zh-CN"}}}
{"pid": "B4173", "type": "B", "difficulty": 4, "samples": [["12\n4\n2 3\n0 4\n0 0\n0 0\n5\n2 3\n0 4\n0 5\n0 0\n0 0\n6\n5 2\n3 6\n4 0\n0 0\n0 0\n0 0\n6\n2 3\n6 4\n0 5\n0 0\n0 0\n0 0\n6\n5 2\n3 0\n4 0\n6 0\n0 0\n0 0\n6\n3 2\n4 6\n0 0\n5 0\n0 0\n0 0\n6\n4 2\n5 3\n0 0\n0 0\n0 6\n0 0\n6\n3 2\n0 0\n5 4\n0 6\n0 0\n0 0\n6\n2 3\n0 0\n5 4\n0 6\n0 0\n0 0\n6\n3 2\n4 5\n0 0\n0 6\n0 0\n0 0\n6\n2 3\n0 4\n0 0\n0 5\n0 6\n0 0\n6\n2 5\n3 4\n0 0\n0 0\n6 0\n0 0", "1 2 3 4\n1 2 3 4 5\n1 2 3 4 5 6\n1 2 4 3 5 6\n1 2 3 4 6 5\n1 2 4 5 3 6\n1 2 5 4 6 3\n1 2 3 5 4 6\n1 2 3 4 5 6\n1 2 4 3 6 5\n1 2 3 4 5 6\n1 2 3 4 5 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2024", "北京", "树的遍历", "BCSP-X"], "title": "[BCSP-X 2024 6 月小学高年级组] 先序遍历", "background": "", "description": "按照根-左-右的顺序遍历**二叉树**：\n\n- 先序遍历 = 根 + 左子树先序遍历 + 右子树先序遍历\n- 空树的先序遍历 = 空\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rz3z5ke0.png)\n\n给一棵 $n$ 个点的二叉树（根节点为 $1$），你可以进行以下操作至多 $1$ 次：\n\n- 选择 $1$ 个（除了根之外的）点 $u$，断开 $u$ 和其父节点之间的边；然后重新选择另一个点作为 $u$ 的父节点、将 $u$ 接上去，需要保证操作之后仍然是一棵以 $1$ 为根的二叉树。\n\n你想要操作之后的二叉树有字典序最小的先序遍历序列，输出这个序列。", "inputFormat": "第一行 $1$ 个整数 $T$，代表有 $T$ 组数据。\n\n每组数据第一行 $1$ 个整数 $n$；接下来 $n$ 行，第 $i$ 行 2 个整数 $ls[i], rs[i]$ 代表 $i$ 号结点的左右儿子编号，没有左右儿子的话用 $0$ 表示。\n", "outputFormat": "对于每组数据，输出一行 $n$ 个整数，代表字典序最小的二叉树先序遍历。", "hint": "### 样例解释 #1\n\n- 对于第一个样例，可以把 3 号结点连在 2 号结点的左儿子处。\n- 对于第二个样例，可以把 4 号结点连在 3 号结点的左儿子处。\n\n### 数据范围\n\n对于所有数据，令 $\\sum n$ 代表每组数据中 $n$ 的和，$1 \\leq T \\leq 100, 1 \\leq n \\leq 10^5, 1 \\leq \\sum n \\leq 3 \\times 10^5$，保证输入是一棵以 1 为根的二叉树。\n\n- 对于测试点 1~3：$n \\leq 10$；\n- 对于测试点 4~8：$n \\leq 200$；\n- 对于测试点 9~11：$n \\leq 1000$；\n- 对于测试点 12~14：$n \\leq 10^5$ 且所有 $ls[i] = 0$；\n- 对于测试点 15：$n \\leq 10^5$ 且所有 $rs[i] = 0$；\n- 对于测试点 16~20：$n \\leq 10^5$；", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月小学高年级组] 先序遍历", "background": "", "description": "按照根-左-右的顺序遍历**二叉树**：\n\n- 先序遍历 = 根 + 左子树先序遍历 + 右子树先序遍历\n- 空树的先序遍历 = 空\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rz3z5ke0.png)\n\n给一棵 $n$ 个点的二叉树（根节点为 $1$），你可以进行以下操作至多 $1$ 次：\n\n- 选择 $1$ 个（除了根之外的）点 $u$，断开 $u$ 和其父节点之间的边；然后重新选择另一个点作为 $u$ 的父节点、将 $u$ 接上去，需要保证操作之后仍然是一棵以 $1$ 为根的二叉树。\n\n你想要操作之后的二叉树有字典序最小的先序遍历序列，输出这个序列。", "inputFormat": "第一行 $1$ 个整数 $T$，代表有 $T$ 组数据。\n\n每组数据第一行 $1$ 个整数 $n$；接下来 $n$ 行，第 $i$ 行 2 个整数 $ls[i], rs[i]$ 代表 $i$ 号结点的左右儿子编号，没有左右儿子的话用 $0$ 表示。\n", "outputFormat": "对于每组数据，输出一行 $n$ 个整数，代表字典序最小的二叉树先序遍历。", "hint": "### 样例解释 #1\n\n- 对于第一个样例，可以把 3 号结点连在 2 号结点的左儿子处。\n- 对于第二个样例，可以把 4 号结点连在 3 号结点的左儿子处。\n\n### 数据范围\n\n对于所有数据，令 $\\sum n$ 代表每组数据中 $n$ 的和，$1 \\leq T \\leq 100, 1 \\leq n \\leq 10^5, 1 \\leq \\sum n \\leq 3 \\times 10^5$，保证输入是一棵以 1 为根的二叉树。\n\n- 对于测试点 1~3：$n \\leq 10$；\n- 对于测试点 4~8：$n \\leq 200$；\n- 对于测试点 9~11：$n \\leq 1000$；\n- 对于测试点 12~14：$n \\leq 10^5$ 且所有 $ls[i] = 0$；\n- 对于测试点 15：$n \\leq 10^5$ 且所有 $rs[i] = 0$；\n- 对于测试点 16~20：$n \\leq 10^5$；", "locale": "zh-CN"}}}
{"pid": "B4174", "type": "B", "difficulty": 3, "samples": [["7\n1 5 11 2 6 4 7", "3"], ["8\n4 2 6 8 5 3 1 7", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2024", "数论", "北京", "BCSP-X"], "title": "[BCSP-X 2024 6 月初中组] 厂房", "background": "", "description": "未来人工智能时代到来了，机器人已经遍布整个工厂。工厂的传送带上依次排列着 $N$ 个机器人，其中，第 $i$ 个机器人的质量为 $A_i$。经过仔细观察，发现：\n1. 来自同一个家族的机器人，在这 $N$ 个机器人中一定是连续的一段。\n2. 如果从第 $i$ 个机器人到第 $j$ 个机器人都来自同一个家族，那么 $A_i$ 到 $A_j$ 从小到大排序后一定是公差大于 $1$ 的等差数列的子序列。\n\nOpenAI 发现，不同家族的个数越少，机器人就会越团结，成功逃离工厂的概率就会越高。我们想知道，这 $N$ 个机器人最少来自几个不同的家族呢？", "inputFormat": "- 第一行一个正整数 $N$。\n- 接下来一行 $N$ 个正整数，第 $i$ 个正整数为 $A_i$。", "outputFormat": "一行一个正整数，表示答案。", "hint": "### 样例解释 1\n- $1,5,11$ 是等差数列 $\\{1,3,5,7,9,11\\}$ 的子序列；\n- $2,4,6$ 是等差数列 $\\{2,4,6,8\\}$ 的子序列；\n- $7$ 是等差数列 $\\{7,9,11\\}$ 的子序列；\n\n### 样例解释 2\n- $2,4,6,8$ 是等差数列 $\\{2,4,6,8\\}$ 的子序列，\n- $1,3,5,7$ 是等差数列 $\\{1,3,5,7\\}$ 的子序列。\n\n### 数据范围\n- $20\\%$ 的数据满足，$N\\leq 10$。\n- $40\\%$ 的数据满足，$N\\leq 100$。\n- $60\\%$ 的数据满足，$N\\leq 1000$，$1\\leq A_i\\leq 10^6$。\n- 另有 $20\\%$ 的数据满足，$A_i$ 互不相同。\n- $100\\%$ 的数据满足，$N\\leq 100000$，$1\\leq A_i\\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月初中组] 厂房", "background": "", "description": "未来人工智能时代到来了，机器人已经遍布整个工厂。工厂的传送带上依次排列着 $N$ 个机器人，其中，第 $i$ 个机器人的质量为 $A_i$。经过仔细观察，发现：\n1. 来自同一个家族的机器人，在这 $N$ 个机器人中一定是连续的一段。\n2. 如果从第 $i$ 个机器人到第 $j$ 个机器人都来自同一个家族，那么 $A_i$ 到 $A_j$ 从小到大排序后一定是公差大于 $1$ 的等差数列的子序列。\n\nOpenAI 发现，不同家族的个数越少，机器人就会越团结，成功逃离工厂的概率就会越高。我们想知道，这 $N$ 个机器人最少来自几个不同的家族呢？", "inputFormat": "- 第一行一个正整数 $N$。\n- 接下来一行 $N$ 个正整数，第 $i$ 个正整数为 $A_i$。", "outputFormat": "一行一个正整数，表示答案。", "hint": "### 样例解释 1\n- $1,5,11$ 是等差数列 $\\{1,3,5,7,9,11\\}$ 的子序列；\n- $2,4,6$ 是等差数列 $\\{2,4,6,8\\}$ 的子序列；\n- $7$ 是等差数列 $\\{7,9,11\\}$ 的子序列；\n\n### 样例解释 2\n- $2,4,6,8$ 是等差数列 $\\{2,4,6,8\\}$ 的子序列，\n- $1,3,5,7$ 是等差数列 $\\{1,3,5,7\\}$ 的子序列。\n\n### 数据范围\n- $20\\%$ 的数据满足，$N\\leq 10$。\n- $40\\%$ 的数据满足，$N\\leq 100$。\n- $60\\%$ 的数据满足，$N\\leq 1000$，$1\\leq A_i\\leq 10^6$。\n- 另有 $20\\%$ 的数据满足，$A_i$ 互不相同。\n- $100\\%$ 的数据满足，$N\\leq 100000$，$1\\leq A_i\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "B4175", "type": "B", "difficulty": 3, "samples": [["2\n01010101\n10101010", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "北京", "位运算", "BCSP-X"], "title": "[BCSP-X 2024 6 月初中组] 打孔纸带", "background": "", "description": "小度捡到了一台奇怪的机器。往里面塞进去两条固定长度的打孔纸带，就会吐出一条同样长度的打孔纸带。打印出来的纸带是没法放进机器里的。\n\n在经过一段时间的思索之后，小度发现了这台机器的输出具有一定的规律。具体而言，输出的每一位都是输入两个打孔纸带上同样位置值的“与”，“或”或者“异或”。\n\n拿着手中的纸带，若有所思的小度想要知道，他最少要自己制作多少条新的打孔纸带，才能知道这台机器的确切工作方式？", "inputFormat": "- 第一行，包含一个整数 $N$，表示已有纸带的数目。\n- 接下来 $N$ 行，每行包含一个字符串，表示已有的纸带的情况。", "outputFormat": "一行，包含一个数，需要自己制作的纸带数。", "hint": "### 数据范围\n\n- 对于分值为 $40$ 的子任务 $1$，保证 $N \\leq 50$，纸带长度 $\\leq 10$；\n- 对于分值为 $60$ 的子任务 $2$，保证 $N \\leq 50$，纸带长度 $\\leq 100$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月初中组] 打孔纸带", "background": "", "description": "小度捡到了一台奇怪的机器。往里面塞进去两条固定长度的打孔纸带，就会吐出一条同样长度的打孔纸带。打印出来的纸带是没法放进机器里的。\n\n在经过一段时间的思索之后，小度发现了这台机器的输出具有一定的规律。具体而言，输出的每一位都是输入两个打孔纸带上同样位置值的“与”，“或”或者“异或”。\n\n拿着手中的纸带，若有所思的小度想要知道，他最少要自己制作多少条新的打孔纸带，才能知道这台机器的确切工作方式？", "inputFormat": "- 第一行，包含一个整数 $N$，表示已有纸带的数目。\n- 接下来 $N$ 行，每行包含一个字符串，表示已有的纸带的情况。", "outputFormat": "一行，包含一个数，需要自己制作的纸带数。", "hint": "### 数据范围\n\n- 对于分值为 $40$ 的子任务 $1$，保证 $N \\leq 50$，纸带长度 $\\leq 10$；\n- 对于分值为 $60$ 的子任务 $2$，保证 $N \\leq 50$，纸带长度 $\\leq 100$。\n", "locale": "zh-CN"}}}
{"pid": "B4176", "type": "B", "difficulty": 4, "samples": [["5 6\n1 2 1\n2 3 1\n3 4 1\n4 1 1\n2 4 2\n4 5 4", "1 4 1 2 1 5 6 1 2 1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["搜索", "2024", "北京", "最短路", "BCSP-X"], "title": "[BCSP-X 2024 6 月初中组] 道路选择", "background": null, "description": "机器人警察得到了一张地图，记载了区内每一条道路的长度。\n\n显然，为了减少犯罪行为被发现的可能性，犯罪分子总是会选择最短的路径来行动。为了方便安排人手和推测犯罪分子采取的路线，他们希望得知任意两个地点之间，有多少条犯罪分子可能会选择的道路。", "inputFormat": "第一行，包含两个整数 $N, M$，表示区内的地点数和道路数。\n\n接下来 $M$ 行，每行包含三个整数 $x_i, y_i, l_i$，表示道路连接的两个不同地点的标号，以及道路的长度。道路是双向的。\n\n两个不同地点之间不会有超过一条道路。", "outputFormat": "输出一行，包含 $N(N - 1)\\div 2$ 个整数 $C_{1,2}, C_{1,3}, \\dots, C_{1,N}, C_{2,3}, C_{2,4}, \\dots, C_{2,N}, \\dots, C_{N-1,N}$。\n\n其中 $C_{x,y}$ 表示 $x$ 号地点到 $y$ 号地点之间有多少条犯罪分子可能会选择的道路。", "hint": "### 数据范围\n\n- 对于分值为 $30$ 的子任务 $1$，保证 $N \\leq 50$；\n- 对于分值为 $30$ 的子任务 $2$，保证 $N \\leq 100$；\n- 对于分值为 $40$ 的子任务 $3$，保证 $N \\leq 500,1 \\leq l_i \\leq 200$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BCSP-X 2024 6 月初中组] 道路选择", "background": null, "description": "机器人警察得到了一张地图，记载了区内每一条道路的长度。\n\n显然，为了减少犯罪行为被发现的可能性，犯罪分子总是会选择最短的路径来行动。为了方便安排人手和推测犯罪分子采取的路线，他们希望得知任意两个地点之间，有多少条犯罪分子可能会选择的道路。", "inputFormat": "第一行，包含两个整数 $N, M$，表示区内的地点数和道路数。\n\n接下来 $M$ 行，每行包含三个整数 $x_i, y_i, l_i$，表示道路连接的两个不同地点的标号，以及道路的长度。道路是双向的。\n\n两个不同地点之间不会有超过一条道路。", "outputFormat": "输出一行，包含 $N(N - 1)\\div 2$ 个整数 $C_{1,2}, C_{1,3}, \\dots, C_{1,N}, C_{2,3}, C_{2,4}, \\dots, C_{2,N}, \\dots, C_{N-1,N}$。\n\n其中 $C_{x,y}$ 表示 $x$ 号地点到 $y$ 号地点之间有多少条犯罪分子可能会选择的道路。", "hint": "### 数据范围\n\n- 对于分值为 $30$ 的子任务 $1$，保证 $N \\leq 50$；\n- 对于分值为 $30$ 的子任务 $2$，保证 $N \\leq 100$；\n- 对于分值为 $40$ 的子任务 $3$，保证 $N \\leq 500,1 \\leq l_i \\leq 200$。", "locale": "zh-CN"}}}
