{"pid": "P7951", "type": "P", "difficulty": 7, "samples": [["3\n7 6\n8 6 0 6 1 1 10 \n5 6 2 9 1 2 7 \n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 6\n8 6 0 6 1 0 11 \n5 6 2 9 1 2 7 \n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 6\n8 6 0 6 1 1 10 \n5 6 2 9 1 2 6 \n1 2\n2 3\n3 4\n4 5\n5 6\n6 7", "Yes\n5\n7 6 5 -3\n6 5 4 -5\n5 4 3 -7\n4 3 2 -6\n3 2 1 -3\nNo\nNo\n"], ["2\n6 6\n10 -3 4 21 -2 11 \n4 4 8 8 8 9 \n1 2\n2 3\n3 4\n4 5\n5 6\n6 1\n6 6\n10 -3 4 21 -2 11 \n4 4 8 8 9 8 \n1 2\n2 3\n3 4\n4 5\n5 6\n6 1", "Yes\n6\n6 1 2 6\n1 2 3 1\n2 3 4 3\n3 4 5 9\n4 5 6 2\n5 6 1 5\nNo\n"], ["1\n6 9\n7 5 68 16 2 45\n42 11 42 17 14 17\n1 3\n1 4\n1 6\n1 5\n1 2\n2 5\n2 3\n4 6\n5 6", "Yes\n10\n1 4 6 1\n1 6 4 -6\n2 1 4 -9\n1 3 2 -17\n5 1 4 25\n2 1 6 32\n1 6 5 33\n4 1 3 39\n4 6 5 -46\n3 1 6 -99\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化"], "title": "[✗✓OI R1] 右方之火", "background": "> 「区区二十亿，区区两千年，根本就不够。」  \n> 「本大爷所拥有的力量可比你想象的还多哦。」\n\n你打不过右方之火。    \n但是为了证明你的想象力很丰富，你要做一道构造题。", "description": "你有一个 $n$ 个点 $m$ 条边的无向连通图，每个点有一个初始权值 $a_i$ 以及一个目标权值 $b_i$。现在你可以对这张图进行这样的操作：\n- 选择一个整数 $c$，需要满足 $|c| \\le 10^{18}$；\n- 选一条点数为 $3$，边数为 $2$ 的链；\n- 使得中间点的权值减去 $2c$，另外两个点的权值各加上 $c$。 \n\n问是否可以进行若干次操作使得最后每个点的权值都为 $b_i$。如果可以，你需要输出方案，操作次数不能超过 $4n$。\n\n**注意 $c$ 可以为负数。**", "inputFormat": "**本题有多组测试数据。**\n\n第一行一个正整数 $T$ ，表示测试数据的数量。  \n对于每组数据，第一行两个正整数 $n,m$，分别表示点数和边数。  \n接下来两行，每行各 $n$ 个正整数，表示初始权值 $a_i$ 和目标权值 $b_i$。  \n接下来 $m$ 行，每行两个整数 $u,v$，表示 $u$ 号点和 $v$ 号点之间有一条边，保证图连通，没有自环和重边。", "outputFormat": "对于每组数据，第一行输出一个字符串，若能够从初始权值变为目标权值，输出 `Yes` ，否则输出 `No`。**输出 `Yes` 和 `No` 的这一行不要有其他奇怪的字符，不然可能会被 checker 判成错误。**    \n第二行输出一个整数 $k(k\\le4n)$，表示构造方案共有 $k$ 步。    \n接下来 $k$ 行，每行四个整数 $x,y,z,c$ 满足 $1 \\le x,y,z \\le n$，$|c| \\le 10^{18}$，$(x,y),(y,z)\\in E$，表示 $a_x \\gets a_x+c,a_y \\gets a_y-2c,a_z \\gets a_z+c$。\n\n**本题采用 Special Judge。如果有多种答案，输出任意一种即可。**", "hint": "**本题采用多组测试数据，子任务评测。**\n\n对于 $100\\%$ 的数据，满足 $1\\le T \\leq 5 \\times 10^4$，$3 \\le n \\le 5 \\times 10^5$，$n-1 \\le m \\le 5 \\times 10^5$，$\\sum n,\\sum m \\leq 5\\times 10^5$，$|a_i|,|b_i| \\leq 10^7$。\n\n| subtask | $n,m,T$ | 特殊性质 | 分数\n| :----------: | :----------: | :-----------: | :-----------: |\n| 1 | $n,m\\le 20$，$T \\le 5$ | 无 | 10 |\n| 2 | $m=n-1$ | 保证第 $i$ 条边连接 $i$ 和 $(i+1)$ 号点 | 5 |\n| 3 | $m=n-1$ | 保证第 $i$ 条边连接 $1$ 和 $(i+1)$ 号点 | 5 |\n| 4 | $m=n-1$ | 无 | 10 |\n| 5 | $m=n$ | 保证图是一个环 | 10 |\n| 6 | $n,m\\le 200,T \\le 5$ | 无 | 10 |\n| 7 | $ n,m\\le 2000,T \\le 5$ | 无 | 20 |\n| 8 |  | 无 | 30 |\n\n**温馨提示：对于部分数据点 $T \\le 5$ 因此数据比较难造，看到只 WA 了少数几个点并不代表你的算法没有问题，请仔细思考算法的正确性。**  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bznsetls.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[✗✓OI R1] 右方之火", "background": "> 「区区二十亿，区区两千年，根本就不够。」  \n> 「本大爷所拥有的力量可比你想象的还多哦。」\n\n你打不过右方之火。    \n但是为了证明你的想象力很丰富，你要做一道构造题。", "description": "你有一个 $n$ 个点 $m$ 条边的无向连通图，每个点有一个初始权值 $a_i$ 以及一个目标权值 $b_i$。现在你可以对这张图进行这样的操作：\n- 选择一个整数 $c$，需要满足 $|c| \\le 10^{18}$；\n- 选一条点数为 $3$，边数为 $2$ 的链；\n- 使得中间点的权值减去 $2c$，另外两个点的权值各加上 $c$。 \n\n问是否可以进行若干次操作使得最后每个点的权值都为 $b_i$。如果可以，你需要输出方案，操作次数不能超过 $4n$。\n\n**注意 $c$ 可以为负数。**", "inputFormat": "**本题有多组测试数据。**\n\n第一行一个正整数 $T$ ，表示测试数据的数量。  \n对于每组数据，第一行两个正整数 $n,m$，分别表示点数和边数。  \n接下来两行，每行各 $n$ 个正整数，表示初始权值 $a_i$ 和目标权值 $b_i$。  \n接下来 $m$ 行，每行两个整数 $u,v$，表示 $u$ 号点和 $v$ 号点之间有一条边，保证图连通，没有自环和重边。", "outputFormat": "对于每组数据，第一行输出一个字符串，若能够从初始权值变为目标权值，输出 `Yes` ，否则输出 `No`。**输出 `Yes` 和 `No` 的这一行不要有其他奇怪的字符，不然可能会被 checker 判成错误。**    \n第二行输出一个整数 $k(k\\le4n)$，表示构造方案共有 $k$ 步。    \n接下来 $k$ 行，每行四个整数 $x,y,z,c$ 满足 $1 \\le x,y,z \\le n$，$|c| \\le 10^{18}$，$(x,y),(y,z)\\in E$，表示 $a_x \\gets a_x+c,a_y \\gets a_y-2c,a_z \\gets a_z+c$。\n\n**本题采用 Special Judge。如果有多种答案，输出任意一种即可。**", "hint": "**本题采用多组测试数据，子任务评测。**\n\n对于 $100\\%$ 的数据，满足 $1\\le T \\leq 5 \\times 10^4$，$3 \\le n \\le 5 \\times 10^5$，$n-1 \\le m \\le 5 \\times 10^5$，$\\sum n,\\sum m \\leq 5\\times 10^5$，$|a_i|,|b_i| \\leq 10^7$。\n\n| subtask | $n,m,T$ | 特殊性质 | 分数\n| :----------: | :----------: | :-----------: | :-----------: |\n| 1 | $n,m\\le 20$，$T \\le 5$ | 无 | 10 |\n| 2 | $m=n-1$ | 保证第 $i$ 条边连接 $i$ 和 $(i+1)$ 号点 | 5 |\n| 3 | $m=n-1$ | 保证第 $i$ 条边连接 $1$ 和 $(i+1)$ 号点 | 5 |\n| 4 | $m=n-1$ | 无 | 10 |\n| 5 | $m=n$ | 保证图是一个环 | 10 |\n| 6 | $n,m\\le 200,T \\le 5$ | 无 | 10 |\n| 7 | $ n,m\\le 2000,T \\le 5$ | 无 | 20 |\n| 8 |  | 无 | 30 |\n\n**温馨提示：对于部分数据点 $T \\le 5$ 因此数据比较难造，看到只 WA 了少数几个点并不代表你的算法没有问题，请仔细思考算法的正确性。**  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bznsetls.png)", "locale": "zh-CN"}}}
{"pid": "P7952", "type": "P", "difficulty": 7, "samples": [["6 6\n1 1 4 5 1 4\n1 2 2 4 1\n1 2\n1 1\n2 4\n1 2\n2 2\n1 1", "5\n5\n4\n5"], ["15 12\n512902574 823918122 595349487 580400545 453562767 72015781 850655655 442513356 619194214 644523811 935104539 371670625 477236621 785497862 282980318 \n1 2 2 1 2 6 2 2 4 9 6 4 12 1 \n2 5\n2 1\n2 1\n2 4\n2 15\n1 2\n1 3\n2 2\n2 7\n1 1\n1 2\n1 6", "3279191251\n0\n2309473383\n785497862\n0\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["O2优化"], "title": "[✗✓OI R1] 天动万象", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/rxbh6s4b.png)", "description": "帝君给了你一棵以 $1$ 为根的有根树，每个点有一个点权 $a_i$，要求支持以下几种操作：\n\n+ $\\texttt{1 u}$ 表示查询以 $u$ 为根的子树的最大值。\n+ $\\texttt{2 u}$ 表示将 $u$ 为根的子树内每一个节点的权值 **同时变为** 其所有 **儿子** 的权值之和，即对这棵子树执行 $\\forall x \\in \\operatorname{subtree}(u), a_x\\gets \\sum_{y\\in \\operatorname{son}(x)}a_y$。其中 **同时变为** 的意思是「某个点操作时认为其儿子停留在这次操作未进行前的状态」。", "inputFormat": "第一行两个正整数 $n,q$ 表示树的大小和询问组数。   \n第二行 $n$ 个正整数，第 $i$ 个数表示表示第 $i$ 个点的初始点权 $a_i$。  \n第三行 $(n-1)$ 个整数，其中第 $i$ 个整数 $\\mathit{fa}_{i+1}$ 表示第 $(i+1)$ 个节点的父亲编号。  \n接下来 $q$ 行，每行两个整数表示一次操作，具体格式见「题目描述」。", "outputFormat": "对于每次 $\\texttt{1}$ 操作输出一行一个整数表示答案。", "hint": "**【样例解释】**  \n\n修改前每个点的权值分别为 $1,1,4,5,1,4$。  \n第一次修改后变为 $1,1,4,1,0,4$。   \n第二次修改后变为 $1,5,0,0,0,4$。  \n\n[更直观的图片](https://www.luogu.com.cn/paste/blqun4u8)\n\n**【数据范围】**  \n\n**本题数据量较大，请注意常数优化。**\n\n对于 $100\\%$ 的数据，满足 $1\\le n, q \\le 10^6$，$1 \\le u \\le n$，$0 \\le a_i \\le 10^9$，$\\mathit{fa}_i < i$。\n\n以下是子任务（留空则表示无特殊性质），你必须通过一个子任务中的所有测试点以及该子任务依赖的所有测试点，才能获得这个子任务的分数：\n\n| 子任务编号 | $n, q$             | 子任务总分 | 特殊性质 | 依赖子任务 |\n| :--------: | :----------------: | :------: | :------: | :--------: |\n| 0   | $\\le 5\\times 10^3$ | 3        | E        |            |\n| 1   | $\\le 10^5$         | 6        | A, B     |            |\n| 2   |                    | 8        | C        |            |\n| 3   |                    | 4        | D        |            |\n| 4   |                    | 13       | E        | Subtask0   |\n| 5   |                    | 36       | B        | Subtask1   |\n| 6   |                    | 30       |          | Subtask0~5 |\n\n\n特殊性质：  \n\n+ 对于满足特殊性质 A 的测试点，保证每次 $1$ 操作 $u=1$。  \n+ 对于满足特殊性质 B 的测试点，保证每次 $2$ 操作 $u=1$。  \n+ 对于满足特殊性质 C 的测试点，保证对于所有节点 $i$， 满足 $\\mathit{fa}_i=i-1$，换句话说树的形态是一条链。  \n+ 对于满足特殊性质 D 的测试点，保证对于所有节点 $i$， 满足 $\\mathit{fa}_i=1$，换句话说树的形态是一个菊花。  \n+ 对于满足特殊性质 E 的测试点，保证数据随机，这里的数据随机指 $\\texttt{1}$ 操作和 $\\texttt{2}$ 操作等概率出现，$u$ 在 $[1, n]$ 内等概率随机，$\\mathit{fa}_i$ 在 $[1, i - 1]$ 内等概率随机。\n\n**提示：由于出题人很懒而且洛谷传不了很多数据点，因此本题数据可能较弱，而且为了避免赛事评测机压力导致的运行时间增加，本题放宽了时限，因此欢迎大家尝试用奇怪的乱搞通过本题。**\n\n> 只愿荡涤四方，护得浮世一隅。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[✗✓OI R1] 天动万象", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/rxbh6s4b.png)", "description": "帝君给了你一棵以 $1$ 为根的有根树，每个点有一个点权 $a_i$，要求支持以下几种操作：\n\n+ $\\texttt{1 u}$ 表示查询以 $u$ 为根的子树的最大值。\n+ $\\texttt{2 u}$ 表示将 $u$ 为根的子树内每一个节点的权值 **同时变为** 其所有 **儿子** 的权值之和，即对这棵子树执行 $\\forall x \\in \\operatorname{subtree}(u), a_x\\gets \\sum_{y\\in \\operatorname{son}(x)}a_y$。其中 **同时变为** 的意思是「某个点操作时认为其儿子停留在这次操作未进行前的状态」。", "inputFormat": "第一行两个正整数 $n,q$ 表示树的大小和询问组数。   \n第二行 $n$ 个正整数，第 $i$ 个数表示表示第 $i$ 个点的初始点权 $a_i$。  \n第三行 $(n-1)$ 个整数，其中第 $i$ 个整数 $\\mathit{fa}_{i+1}$ 表示第 $(i+1)$ 个节点的父亲编号。  \n接下来 $q$ 行，每行两个整数表示一次操作，具体格式见「题目描述」。", "outputFormat": "对于每次 $\\texttt{1}$ 操作输出一行一个整数表示答案。", "hint": "**【样例解释】**  \n\n修改前每个点的权值分别为 $1,1,4,5,1,4$。  \n第一次修改后变为 $1,1,4,1,0,4$。   \n第二次修改后变为 $1,5,0,0,0,4$。  \n\n[更直观的图片](https://www.luogu.com.cn/paste/blqun4u8)\n\n**【数据范围】**  \n\n**本题数据量较大，请注意常数优化。**\n\n对于 $100\\%$ 的数据，满足 $1\\le n, q \\le 10^6$，$1 \\le u \\le n$，$0 \\le a_i \\le 10^9$，$\\mathit{fa}_i < i$。\n\n以下是子任务（留空则表示无特殊性质），你必须通过一个子任务中的所有测试点以及该子任务依赖的所有测试点，才能获得这个子任务的分数：\n\n| 子任务编号 | $n, q$             | 子任务总分 | 特殊性质 | 依赖子任务 |\n| :--------: | :----------------: | :------: | :------: | :--------: |\n| 0   | $\\le 5\\times 10^3$ | 3        | E        |            |\n| 1   | $\\le 10^5$         | 6        | A, B     |            |\n| 2   |                    | 8        | C        |            |\n| 3   |                    | 4        | D        |            |\n| 4   |                    | 13       | E        | Subtask0   |\n| 5   |                    | 36       | B        | Subtask1   |\n| 6   |                    | 30       |          | Subtask0~5 |\n\n\n特殊性质：  \n\n+ 对于满足特殊性质 A 的测试点，保证每次 $1$ 操作 $u=1$。  \n+ 对于满足特殊性质 B 的测试点，保证每次 $2$ 操作 $u=1$。  \n+ 对于满足特殊性质 C 的测试点，保证对于所有节点 $i$， 满足 $\\mathit{fa}_i=i-1$，换句话说树的形态是一条链。  \n+ 对于满足特殊性质 D 的测试点，保证对于所有节点 $i$， 满足 $\\mathit{fa}_i=1$，换句话说树的形态是一个菊花。  \n+ 对于满足特殊性质 E 的测试点，保证数据随机，这里的数据随机指 $\\texttt{1}$ 操作和 $\\texttt{2}$ 操作等概率出现，$u$ 在 $[1, n]$ 内等概率随机，$\\mathit{fa}_i$ 在 $[1, i - 1]$ 内等概率随机。\n\n**提示：由于出题人很懒而且洛谷传不了很多数据点，因此本题数据可能较弱，而且为了避免赛事评测机压力导致的运行时间增加，本题放宽了时限，因此欢迎大家尝试用奇怪的乱搞通过本题。**\n\n> 只愿荡涤四方，护得浮世一隅。", "locale": "zh-CN"}}}
{"pid": "P7953", "type": "P", "difficulty": 7, "samples": [["3 3 114514 1919810 0 1", "831870297"], ["5 3 998244353 1000000007 1 1", "694472000"], ["21 17 233 234 5 17", "367211664"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "[✗✓OI R1] 逆转比特", "background": "myy 正在广东佛山游玩，所以他出了一道 [**高明**](https://baike.baidu.com/item/%E9%AB%98%E6%98%8E%E5%8C%BA/7747108?fr=aladdin) 的题目。", "description": "一个点在长为 $n$ 的只含有 0/1 的序列上随机游走，点的初始坐标为 $p$，重复进行以下操作：\n1. 当序列全为一种字符时，停止操作；\n2. 记点当前位置 $p$，等概率随机选择一个点 $q$，把点移动到 $q$，将 $q$ 处的字符的取反，总代价加上 $f(|p-q|)$，这里 $f(x)=Ax^2+Bx$，其中 $A,B$ 是两个给定常数；\n3. 回到第一条。\n\n你需要进行 $q$ 次修改，具体而言，每次修改包括\n1. 将序列第 $\\mathit{idx}$ 位的 0/1 翻转；\n2. 查询初始坐标为 $p$ 时，停止操作后的期望代价。\n\n**注意，一旦修改一直有效**。\n\n你需要输出 $q$ 次询问期望代价模 $998244353$ 的结果的异或和。\n\n考虑到输入输出量比较大，数据采用如下随机生成方式\n```cpp\nstruct Random {\n  unsigned long long X;\n  void init(unsigned long long seed) { X = seed; }\n  unsigned long long Rand() {\n    X ^= X << 13;\n    X ^= X >> 7;\n    X ^= X << 17;\n    return X;\n  }\n} R;\n```\n初始 01 串生成，会提供 $\\mathit{seed1}$。\n```cpp\nR.init(seed1);\nfor (int i = 1; i <= n; i++) seq[i] = R.Rand() & 1;\n```\n对于 $q$ 次询问，会提供 $\\mathit{seed2}$。\n```cpp\nR.init(seed2);\nfor (int i = 1; i <= q; i++) {\n  idx = R.Rand() % n + 1, p = R.Rand() % n + 1;\n  ans ^= query(idx, p);\n}\n```", "inputFormat": "一行六个整数 $n,q,\\mathit{seed1},\\mathit{seed2},A,B$，具体含义见「题目描述」。", "outputFormat": "一行一个整数 $\\mathit{ans}$，表示 $q$ 次询问期望代价模 $998244353$ 的结果的异或和。", "hint": "**【样例解释】**\n\n对样例一的解释：  \n三次询问分别为：$110$，$p=3$，答案为 $\\dfrac{11}{4}$；$010$，$p=3$，答案为 $\\dfrac{17}{6}$；$110$，$p=1$，答案为 $\\dfrac{11}{4}$。模 $998244353$ 意义下分别为 $249561091$、$831870297$ 和 $249561091$，异或和为 $831870297$。\n\n**【数据范围】**\n\n**本题采用子任务评测。**\n\n对于 $100\\%$ 的数据，满足 $3 \\leq n \\leq 3\\times10^6$，$1 \\leq q \\leq 3\\times10^6$，$0 \\leq A, B < 998244353$，$\\mathit{seed1}, \\mathit{seed2}\\in [0, 2^{64})$。\n\n| 子任务  |  $n\\le$   |  $q\\le$ | 特殊性质  | 子任务得分  | 依赖子任务 | 时间限制 |\n| :----: | :-----: | :-----: | :------: | :-------: |:----:|:----:|\n|   0    |    $5$    |     $5$   |    A     |      5    || 1s |\n|   1    |    $50$   |     $5$   |    /     |     18    |Subtask 0| 1s |\n|   2    |   $600$   |    $50$   |    /     |     12    |Subtask 0~1| 1s |\n|   3    |   $3000$  |   $3000$  |    A     |     10    |Subtask 0| 1s |\n|   4    |   $3000$  |  $3000$  |    /     |     10    |Subtask 0~3| 1s |\n|   5    | $3\\times10^6$ | $3\\times10^6$ |    /     |     45    |Subtask 0~4| 2s |\n\n特殊性质 A：$A = 0$。\n\n> 按照惯例，这里应该有一个有趣的后记，但是已经阿克月赛的你想必是没有耐心去看的，所以没有。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[✗✓OI R1] 逆转比特", "background": "myy 正在广东佛山游玩，所以他出了一道 [**高明**](https://baike.baidu.com/item/%E9%AB%98%E6%98%8E%E5%8C%BA/7747108?fr=aladdin) 的题目。", "description": "一个点在长为 $n$ 的只含有 0/1 的序列上随机游走，点的初始坐标为 $p$，重复进行以下操作：\n1. 当序列全为一种字符时，停止操作；\n2. 记点当前位置 $p$，等概率随机选择一个点 $q$，把点移动到 $q$，将 $q$ 处的字符的取反，总代价加上 $f(|p-q|)$，这里 $f(x)=Ax^2+Bx$，其中 $A,B$ 是两个给定常数；\n3. 回到第一条。\n\n你需要进行 $q$ 次修改，具体而言，每次修改包括\n1. 将序列第 $\\mathit{idx}$ 位的 0/1 翻转；\n2. 查询初始坐标为 $p$ 时，停止操作后的期望代价。\n\n**注意，一旦修改一直有效**。\n\n你需要输出 $q$ 次询问期望代价模 $998244353$ 的结果的异或和。\n\n考虑到输入输出量比较大，数据采用如下随机生成方式\n```cpp\nstruct Random {\n  unsigned long long X;\n  void init(unsigned long long seed) { X = seed; }\n  unsigned long long Rand() {\n    X ^= X << 13;\n    X ^= X >> 7;\n    X ^= X << 17;\n    return X;\n  }\n} R;\n```\n初始 01 串生成，会提供 $\\mathit{seed1}$。\n```cpp\nR.init(seed1);\nfor (int i = 1; i <= n; i++) seq[i] = R.Rand() & 1;\n```\n对于 $q$ 次询问，会提供 $\\mathit{seed2}$。\n```cpp\nR.init(seed2);\nfor (int i = 1; i <= q; i++) {\n  idx = R.Rand() % n + 1, p = R.Rand() % n + 1;\n  ans ^= query(idx, p);\n}\n```", "inputFormat": "一行六个整数 $n,q,\\mathit{seed1},\\mathit{seed2},A,B$，具体含义见「题目描述」。", "outputFormat": "一行一个整数 $\\mathit{ans}$，表示 $q$ 次询问期望代价模 $998244353$ 的结果的异或和。", "hint": "**【样例解释】**\n\n对样例一的解释：  \n三次询问分别为：$110$，$p=3$，答案为 $\\dfrac{11}{4}$；$010$，$p=3$，答案为 $\\dfrac{17}{6}$；$110$，$p=1$，答案为 $\\dfrac{11}{4}$。模 $998244353$ 意义下分别为 $249561091$、$831870297$ 和 $249561091$，异或和为 $831870297$。\n\n**【数据范围】**\n\n**本题采用子任务评测。**\n\n对于 $100\\%$ 的数据，满足 $3 \\leq n \\leq 3\\times10^6$，$1 \\leq q \\leq 3\\times10^6$，$0 \\leq A, B < 998244353$，$\\mathit{seed1}, \\mathit{seed2}\\in [0, 2^{64})$。\n\n| 子任务  |  $n\\le$   |  $q\\le$ | 特殊性质  | 子任务得分  | 依赖子任务 | 时间限制 |\n| :----: | :-----: | :-----: | :------: | :-------: |:----:|:----:|\n|   0    |    $5$    |     $5$   |    A     |      5    || 1s |\n|   1    |    $50$   |     $5$   |    /     |     18    |Subtask 0| 1s |\n|   2    |   $600$   |    $50$   |    /     |     12    |Subtask 0~1| 1s |\n|   3    |   $3000$  |   $3000$  |    A     |     10    |Subtask 0| 1s |\n|   4    |   $3000$  |  $3000$  |    /     |     10    |Subtask 0~3| 1s |\n|   5    | $3\\times10^6$ | $3\\times10^6$ |    /     |     45    |Subtask 0~4| 2s |\n\n特殊性质 A：$A = 0$。\n\n> 按照惯例，这里应该有一个有趣的后记，但是已经阿克月赛的你想必是没有耐心去看的，所以没有。", "locale": "zh-CN"}}}
{"pid": "P7954", "type": "P", "difficulty": 2, "samples": [["4 5\n2 0\n3 0\n4 0\n5 0", "0"], ["5 5\n3 1\n2 0\n13 1\n2 0\n10 1", "5"], ["6 10\n15 1\n12 1\n8 0\n10 1\n3 0\n1 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #6] PAPRIKA", "background": "", "description": "厨师 Marin 准备用 $n$ 个辣椒制作菜品。\n\n他决定用所有年龄不超过 $x$ 天的辣椒来制作菜品 A，用其他的所有辣椒制作菜品 B。\n\n每个辣椒都有自己的梦想，它们知道自己想要成为 A 还是 B。\n\n但它们不知道 $x$ 的值。为了最大化实现梦想的辣椒数量，它们会采取如下策略进行交换：\n\n- 第 1 个辣椒与第 2 个辣椒比较年龄，然后第 2 个辣椒与第 3 个辣椒比较年龄，依此类推，直到第 $n-1$ 和第 $n$ 个辣椒比较年龄。\n- 若当前比较二者的编号为 $i,j$，其中**当前年龄**较大的辣椒想成为菜品 A，**当前年龄**较小的辣椒想成为菜品 B，则它们会交换年龄。$^{[1]}$\n\n求出这样操作后实现梦想的辣椒数量。", "inputFormat": "第一行两个整数 $n,x$。\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$，分别表示第 $i$ 个辣椒的年龄与梦想。\n\n- 若 $b_i=1$，则表示第 $i$ 个辣椒想成为菜品 A。\n- 若 $b_i=0$，则表示第 $i$ 个辣椒想成为菜品 B。\n\n**根据这种定义，「题目描述」中 $^\\textbf{[1]}$ 更加严谨的表述为：**\\\n两个辣椒 $i,j$ 会交换年龄当且仅当 $a_i>a_j$ 且 $b_i=1$ 且 $b_j=0$。", "outputFormat": "仅一行一个整数，即实现梦想的辣椒数量。", "hint": "#### 样例 1 说明\n\n没有辣椒想成为菜品 A。\n\n#### 样例 2 说明\n\n每对辣椒都交换了年龄。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $1\\le n,x,a_i\\le 10^3$，$b_i\\in\\{0,1\\}$。\n\n#### 说明\n\n按原题配置，满分 50 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task A _**PAPRIKA**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #6] PAPRIKA", "background": "", "description": "厨师 Marin 准备用 $n$ 个辣椒制作菜品。\n\n他决定用所有年龄不超过 $x$ 天的辣椒来制作菜品 A，用其他的所有辣椒制作菜品 B。\n\n每个辣椒都有自己的梦想，它们知道自己想要成为 A 还是 B。\n\n但它们不知道 $x$ 的值。为了最大化实现梦想的辣椒数量，它们会采取如下策略进行交换：\n\n- 第 1 个辣椒与第 2 个辣椒比较年龄，然后第 2 个辣椒与第 3 个辣椒比较年龄，依此类推，直到第 $n-1$ 和第 $n$ 个辣椒比较年龄。\n- 若当前比较二者的编号为 $i,j$，其中**当前年龄**较大的辣椒想成为菜品 A，**当前年龄**较小的辣椒想成为菜品 B，则它们会交换年龄。$^{[1]}$\n\n求出这样操作后实现梦想的辣椒数量。", "inputFormat": "第一行两个整数 $n,x$。\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$，分别表示第 $i$ 个辣椒的年龄与梦想。\n\n- 若 $b_i=1$，则表示第 $i$ 个辣椒想成为菜品 A。\n- 若 $b_i=0$，则表示第 $i$ 个辣椒想成为菜品 B。\n\n**根据这种定义，「题目描述」中 $^\\textbf{[1]}$ 更加严谨的表述为：**\\\n两个辣椒 $i,j$ 会交换年龄当且仅当 $a_i>a_j$ 且 $b_i=1$ 且 $b_j=0$。", "outputFormat": "仅一行一个整数，即实现梦想的辣椒数量。", "hint": "#### 样例 1 说明\n\n没有辣椒想成为菜品 A。\n\n#### 样例 2 说明\n\n每对辣椒都交换了年龄。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $1\\le n,x,a_i\\le 10^3$，$b_i\\in\\{0,1\\}$。\n\n#### 说明\n\n按原题配置，满分 50 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task A _**PAPRIKA**_。", "locale": "zh-CN"}}}
{"pid": "P7955", "type": "P", "difficulty": 2, "samples": [["2\n4-4-2\n10-0-0\n10\nO\nO\nO\nO\nO\nO\nO\nO\nON\nNO", "NE\nDA"], ["3\n4-4-2\n3-5-2\n4-3-3\n11\nOV\nOV\nOVN\nOV\nOV\nV\nV\nN\nO\nO\nO", "DA\nDA\nNE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #6] NIKO", "background": "2018 年，俄罗斯，第 21 届世界杯。", "description": "为了方便，记 $\\tt O$ 表示防守球员，$\\tt V$ 表示中场球员，$\\tt N$ 表示进攻球员。\n\n教练有几个排阵方案 $O-V-N$，其中 $O,V,N$ 分别表示 $\\tt O,V,N$ 的数量。当然一定有 $O+V+N=10$。\n\n现在 $m$ 个球员都能担任 $\\tt O,V,N$ 中的某几个。教练想知道他的每种排阵方案能否实现。", "inputFormat": "第一行一个整数 $n$，表示教练的方案数量。\n\n接下来 $n$ 行，每行三个整数 $O_i,V_i,N_i$，描述每种方案。\n\n接下来一行一个整数 $m$，表示球员数量。\n\n接下来 $m$ 行描述每个球员能担任的角色。", "outputFormat": "共 $n$ 行。\n\n- 如果第 $i$ 个方案能被满足，在第 $i$ 行输出 `DA`。\n- 否则输出 `NE`。", "hint": "#### 样例 1 说明\n\n显然教练只能使用 10-0-0。\n\n#### 样例 2 说明\n\n- 对于 4-4-2，可以派 $1,2,9,10$ 作为 $\\tt O$，派 $4,5,6,7$ 作为 $\\tt V$，派 $3,8$ 作为 $\\tt N$。\n- 对于 3-5-2，可以派 $4,9,10$ 作为 $\\tt O$，派 $1,2,5,6$ 作为 $\\tt V$，派 $3,8$ 作为 $\\tt N$。\n- 对于 4-3-3，不可能，因为只有 $2$ 个球员能作为 $\\tt N$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le 10$，$10\\le m\\le 22$。\n\n#### 说明\n\n按原题配置，满分 80 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task B _**NIKO**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #6] NIKO", "background": "2018 年，俄罗斯，第 21 届世界杯。", "description": "为了方便，记 $\\tt O$ 表示防守球员，$\\tt V$ 表示中场球员，$\\tt N$ 表示进攻球员。\n\n教练有几个排阵方案 $O-V-N$，其中 $O,V,N$ 分别表示 $\\tt O,V,N$ 的数量。当然一定有 $O+V+N=10$。\n\n现在 $m$ 个球员都能担任 $\\tt O,V,N$ 中的某几个。教练想知道他的每种排阵方案能否实现。", "inputFormat": "第一行一个整数 $n$，表示教练的方案数量。\n\n接下来 $n$ 行，每行三个整数 $O_i,V_i,N_i$，描述每种方案。\n\n接下来一行一个整数 $m$，表示球员数量。\n\n接下来 $m$ 行描述每个球员能担任的角色。", "outputFormat": "共 $n$ 行。\n\n- 如果第 $i$ 个方案能被满足，在第 $i$ 行输出 `DA`。\n- 否则输出 `NE`。", "hint": "#### 样例 1 说明\n\n显然教练只能使用 10-0-0。\n\n#### 样例 2 说明\n\n- 对于 4-4-2，可以派 $1,2,9,10$ 作为 $\\tt O$，派 $4,5,6,7$ 作为 $\\tt V$，派 $3,8$ 作为 $\\tt N$。\n- 对于 3-5-2，可以派 $4,9,10$ 作为 $\\tt O$，派 $1,2,5,6$ 作为 $\\tt V$，派 $3,8$ 作为 $\\tt N$。\n- 对于 4-3-3，不可能，因为只有 $2$ 个球员能作为 $\\tt N$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le 10$，$10\\le m\\le 22$。\n\n#### 说明\n\n按原题配置，满分 80 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task B _**NIKO**_。", "locale": "zh-CN"}}}
{"pid": "P7956", "type": "P", "difficulty": 2, "samples": [["5 6\n.XXXX.\n...X..\n......\n#..###\n######", "......\n.XXXX.\n...X..\n#..###\n######"], ["9 7\nXXX.XXX\nX.XXX.X\nX..X..X\nX.....X\n.......\n.#...#.\n.##.##.\n.#####.\n#######", ".......\n.......\n.......\n.......\nXXX.XXX\nX#XXX#X\nX##X##X\nX#####X\n#######"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #6] METEOR", "background": "", "description": "你需要复原一幅流星坠落后的照片。\n\n流星坠落前的照片可以被看作是一个 $R\\times S$ 的字符矩阵。$\\texttt X$ 表示流星的一部分，$\\texttt \\#$ 表示地面，其他部分是空气，用 $\\texttt .$ 表示。所有 $\\texttt X$ 是联通的。\n\n注意到流星严格位于地面上方，即存在一行 $\\texttt .$ 使得 $\\texttt X$ 都在它上方且 $\\texttt \\#$ 都在它下方。照片最后一行必定都是 $\\texttt \\#$。\n\n请还原出流星落地后的照片，落地后流星与地面性质都未改变。", "inputFormat": "第一行两个整数 $R,S$。\n\n接下来 $R$ 行每行一个长度为 $S$ 的字符串，表示这个流星坠落前的照片。", "outputFormat": "一个 $R\\times S$ 的矩阵，表示你还原的流星坠落后的照片。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $3\\le R,S\\le 3\\times 10^3$，字符矩阵中的字符都是 $\\texttt{X \\# .}$ 中的一种。\n\n#### 说明\n\n按原题配置，满分 100 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task C _**METEOR**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #6] METEOR", "background": "", "description": "你需要复原一幅流星坠落后的照片。\n\n流星坠落前的照片可以被看作是一个 $R\\times S$ 的字符矩阵。$\\texttt X$ 表示流星的一部分，$\\texttt \\#$ 表示地面，其他部分是空气，用 $\\texttt .$ 表示。所有 $\\texttt X$ 是联通的。\n\n注意到流星严格位于地面上方，即存在一行 $\\texttt .$ 使得 $\\texttt X$ 都在它上方且 $\\texttt \\#$ 都在它下方。照片最后一行必定都是 $\\texttt \\#$。\n\n请还原出流星落地后的照片，落地后流星与地面性质都未改变。", "inputFormat": "第一行两个整数 $R,S$。\n\n接下来 $R$ 行每行一个长度为 $S$ 的字符串，表示这个流星坠落前的照片。", "outputFormat": "一个 $R\\times S$ 的矩阵，表示你还原的流星坠落后的照片。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $3\\le R,S\\le 3\\times 10^3$，字符矩阵中的字符都是 $\\texttt{X \\# .}$ 中的一种。\n\n#### 说明\n\n按原题配置，满分 100 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task C _**METEOR**_。", "locale": "zh-CN"}}}
{"pid": "P7957", "type": "P", "difficulty": 3, "samples": [["4 3", "1 4 2 3"], ["5 1", "-1"], ["5 5", "1 2 3 4 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #6] KRATKI", "background": "我们都非常熟悉「最长单调子序列」问题：\n\n>给定一个长度为 $n$ 的数列，你需要求出它的 LMS（即最长单调子序列）的长度。\\\n>**请注意**，这里「LMS」是指「递增子序列和递减子序列中**更长的一个**」。\\\n>即需要对 LIS 和 LDS 的长度取最大值。\n\n现在你需要解决一个 LMS 的逆问题。", "description": "给定数列的长度 $n$。\n\n你需要构造出一个 $n$ 的排列，使得它的 LMS 长度为 $k$。", "inputFormat": "仅一行两个整数 $n,k$。", "outputFormat": "如果无解，输出 $\\texttt{-1}$。\n\n否则输出一行 $n$ 个整数，即你构造的数列。\n\n**如果存在多组解，输出任意一种。**", "hint": "#### 样例 1 说明\n\n$\\{1,4,2,3\\}$ 的 **LMS** 为 $\\{1,2,3\\}$，长度为 $3$，符合要求。\n\n#### 数据规模与约定\n\n**本题采用 Special Judge。**\n\n对于 $100\\%$ 的数据，有 $1\\le k\\le n\\le 10^6$。\n\n#### 说明\n\n按原题配置，满分 120 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task D _**KRATKI**_。\n\n由于原数据没有一些特殊的数据，本题添加了数据 #11。如果你没通过它，会得到 120 Unaccept。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #6] KRATKI", "background": "我们都非常熟悉「最长单调子序列」问题：\n\n>给定一个长度为 $n$ 的数列，你需要求出它的 LMS（即最长单调子序列）的长度。\\\n>**请注意**，这里「LMS」是指「递增子序列和递减子序列中**更长的一个**」。\\\n>即需要对 LIS 和 LDS 的长度取最大值。\n\n现在你需要解决一个 LMS 的逆问题。", "description": "给定数列的长度 $n$。\n\n你需要构造出一个 $n$ 的排列，使得它的 LMS 长度为 $k$。", "inputFormat": "仅一行两个整数 $n,k$。", "outputFormat": "如果无解，输出 $\\texttt{-1}$。\n\n否则输出一行 $n$ 个整数，即你构造的数列。\n\n**如果存在多组解，输出任意一种。**", "hint": "#### 样例 1 说明\n\n$\\{1,4,2,3\\}$ 的 **LMS** 为 $\\{1,2,3\\}$，长度为 $3$，符合要求。\n\n#### 数据规模与约定\n\n**本题采用 Special Judge。**\n\n对于 $100\\%$ 的数据，有 $1\\le k\\le n\\le 10^6$。\n\n#### 说明\n\n按原题配置，满分 120 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task D _**KRATKI**_。\n\n由于原数据没有一些特殊的数据，本题添加了数据 #11。如果你没通过它，会得到 120 Unaccept。", "locale": "zh-CN"}}}
{"pid": "P7958", "type": "P", "difficulty": 4, "samples": [["3 3\n1 4 10\n5 2 6\n11 1 3", "9"], ["3 3\n1 3 1\n2 1 2\n1 1 1", "4"], ["5 6\n1 1 4 0 3 3\n4 4 9 7 11 13\n-3 -1 4 2 8 11\n1 5 9 5 9 10\n4 8 10 5 8 8", "15"]], "limits": {"time": [900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #6] NEO", "background": "", "description": "一个矩阵 $A$ 是「YF 矩阵」当且仅当满足：\n\n- $r,s>1$\n- $A_{1,1}+A_{r,s}\\le A_{1,s}+A_{r,1}$\n\n$r,s$ 分别表示矩阵 $A$ 的行数和列数。\n\n此外，如果一个矩阵的每个大小至少为 $2\\times2$ 的子矩阵都是「YF 矩阵」，我们就说这个矩阵是「Sept 矩阵」。\n\n给定一个矩阵 $A$，你需要求出 $A$ 的含有最多元素的是「Sept 矩阵」的子矩阵所含的元素数量。", "inputFormat": "第一行两个整数 $R,S$，分别表示 $A$ 的行数和列数。\n\n接下来 $R$ 行每行 $S$ 个整数，描述矩阵 $A$。", "outputFormat": "仅一行，即 $A$ 的最大的是「Sept 矩阵」的子矩阵所含的元素数量。\n\n若这样的子矩阵不存在，输出 $0$。", "hint": "#### 样例 3 说明\n\n最大的是「Sept 矩阵」的子矩阵的左上角与右下角坐标分别为 $(3,2),(5,6)$。\n\n#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，有 $R,S\\le 350$。\n- 对于 $100\\%$ 的数据，有 $2\\le R,S\\le 10^3$，$A_{i,j}\\in[-10^6,10^6]$。\n\n#### 说明\n\n按原题配置，满分 140 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task E _**NEO**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #6] NEO", "background": "", "description": "一个矩阵 $A$ 是「YF 矩阵」当且仅当满足：\n\n- $r,s>1$\n- $A_{1,1}+A_{r,s}\\le A_{1,s}+A_{r,1}$\n\n$r,s$ 分别表示矩阵 $A$ 的行数和列数。\n\n此外，如果一个矩阵的每个大小至少为 $2\\times2$ 的子矩阵都是「YF 矩阵」，我们就说这个矩阵是「Sept 矩阵」。\n\n给定一个矩阵 $A$，你需要求出 $A$ 的含有最多元素的是「Sept 矩阵」的子矩阵所含的元素数量。", "inputFormat": "第一行两个整数 $R,S$，分别表示 $A$ 的行数和列数。\n\n接下来 $R$ 行每行 $S$ 个整数，描述矩阵 $A$。", "outputFormat": "仅一行，即 $A$ 的最大的是「Sept 矩阵」的子矩阵所含的元素数量。\n\n若这样的子矩阵不存在，输出 $0$。", "hint": "#### 样例 3 说明\n\n最大的是「Sept 矩阵」的子矩阵的左上角与右下角坐标分别为 $(3,2),(5,6)$。\n\n#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，有 $R,S\\le 350$。\n- 对于 $100\\%$ 的数据，有 $2\\le R,S\\le 10^3$，$A_{i,j}\\in[-10^6,10^6]$。\n\n#### 说明\n\n按原题配置，满分 140 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task E _**NEO**_。", "locale": "zh-CN"}}}
{"pid": "P7959", "type": "P", "difficulty": 5, "samples": [["5 3\n1 -1 1 -1 1", "10\n1 1 1 2 2 3"], ["6 5\n2 5 4 1 3 5", "16\n3 2 1 1 5 4 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2014", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #6] WTF", "background": "", "description": "你有一个长度为 $n$ 的数组 $\\textbf A$，一个值域为 $[1,n-1]$ 的长度为 $n+1$ 的数组 $\\textbf{ID}$ 和一个整数 $r$。\n\n我们通过以下伪代码对数组 $\\textbf A$ 进行 Warshall-Turing-Fourier 变换 $^\\textsf{[1]}$：\n\n```cpp\nsum = 0\nfor i = 1 to n\n\tindex = min{ID[i], ID[i+1]}\n\tsum = sum + A[index]\n\tRorate(A, r)\nChange(A)\nfor i = 1 to n\n\tindex = max{ID[i], ID[i+1]}\n\tindex = index + 1\n\tsum = sum + A[index]\n\tRorate(A, r)\n```\n\n其中：\n- $\\texttt{Change}(\\textbf A)$ 表示把数组 $\\textbf A$ 中所有元素分别改成它们的相反数。\n- $\\texttt{Rorate}(\\textbf A,r)$ 表示把数组 $\\textbf A$ 复制两遍得到数组 $\\textbf B$，取 $\\textbf B[n-r+1,2n-r]$ 代替数组 $\\textbf A$。\\\n  即**向右旋转** $R$ 个位置。\n\n你已经知道数组 $\\textbf A$ 和整数 $r$，但你并不知道数组 $\\textbf{ID}$。\n\n你需要求出 WTF 变换后伪代码中 $\\text{sum}$ 可能的最大值。\n\n$\\textsf{[1]}$：实际上并不存在，当然也可以叫做「Sept 变换」。", "inputFormat": "第一行两个整数 $n,r$。\n\n接下来一行 $n$ 个整数，表示数组 $\\textbf A$。", "outputFormat": "第一行一个整数，即伪代码中 $\\text{sum}$ 可能的最大值。\n\n第二行 $n+1$ 个整数，即使得 $\\text{sum}$ 值最大的 $\\textbf{ID}$ 数组。\n\n**如果存在多组解，输出任意一种。**", "hint": "#### 判分方式\n\n如果输出只有第一行正确，可以得到 $50\\%$ 的分数。\n\n**但你必须保证第二行有 $\\bm{n+1}$ 个符合要求的数。**\n\n#### 数据规模与约定\n\n**本题采用 Special Judge。**\n\n- 对于 $20\\%$ 的数据，有 $n\\le 7$。\n- 对于 $60\\%$ 的数据，有 $n\\le 300$。\n- 对于 $100\\%$ 的数据，有 $2\\le n\\le 3\\times 10^3$，$1\\le r\\le n$，$\\textbf A[i]\\in[-10^4,10^4]$。\n\n你需要保证你构造的 $\\textbf{ID}[i]\\in[1,n-1]$。\n\n#### 说明\n\n按原题配置，满分 160 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task F _**WTF**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #6] WTF", "background": "", "description": "你有一个长度为 $n$ 的数组 $\\textbf A$，一个值域为 $[1,n-1]$ 的长度为 $n+1$ 的数组 $\\textbf{ID}$ 和一个整数 $r$。\n\n我们通过以下伪代码对数组 $\\textbf A$ 进行 Warshall-Turing-Fourier 变换 $^\\textsf{[1]}$：\n\n```cpp\nsum = 0\nfor i = 1 to n\n\tindex = min{ID[i], ID[i+1]}\n\tsum = sum + A[index]\n\tRorate(A, r)\nChange(A)\nfor i = 1 to n\n\tindex = max{ID[i], ID[i+1]}\n\tindex = index + 1\n\tsum = sum + A[index]\n\tRorate(A, r)\n```\n\n其中：\n- $\\texttt{Change}(\\textbf A)$ 表示把数组 $\\textbf A$ 中所有元素分别改成它们的相反数。\n- $\\texttt{Rorate}(\\textbf A,r)$ 表示把数组 $\\textbf A$ 复制两遍得到数组 $\\textbf B$，取 $\\textbf B[n-r+1,2n-r]$ 代替数组 $\\textbf A$。\\\n  即**向右旋转** $R$ 个位置。\n\n你已经知道数组 $\\textbf A$ 和整数 $r$，但你并不知道数组 $\\textbf{ID}$。\n\n你需要求出 WTF 变换后伪代码中 $\\text{sum}$ 可能的最大值。\n\n$\\textsf{[1]}$：实际上并不存在，当然也可以叫做「Sept 变换」。", "inputFormat": "第一行两个整数 $n,r$。\n\n接下来一行 $n$ 个整数，表示数组 $\\textbf A$。", "outputFormat": "第一行一个整数，即伪代码中 $\\text{sum}$ 可能的最大值。\n\n第二行 $n+1$ 个整数，即使得 $\\text{sum}$ 值最大的 $\\textbf{ID}$ 数组。\n\n**如果存在多组解，输出任意一种。**", "hint": "#### 判分方式\n\n如果输出只有第一行正确，可以得到 $50\\%$ 的分数。\n\n**但你必须保证第二行有 $\\bm{n+1}$ 个符合要求的数。**\n\n#### 数据规模与约定\n\n**本题采用 Special Judge。**\n\n- 对于 $20\\%$ 的数据，有 $n\\le 7$。\n- 对于 $60\\%$ 的数据，有 $n\\le 300$。\n- 对于 $100\\%$ 的数据，有 $2\\le n\\le 3\\times 10^3$，$1\\le r\\le n$，$\\textbf A[i]\\in[-10^4,10^4]$。\n\n你需要保证你构造的 $\\textbf{ID}[i]\\in[1,n-1]$。\n\n#### 说明\n\n按原题配置，满分 160 分。\n\n译自 **[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/)** [Contest #6](https://hsin.hr/coci/archive/2014_2015/contest6_tasks.pdf) Task F _**WTF**_。", "locale": "zh-CN"}}}
{"pid": "P7960", "type": "P", "difficulty": 3, "samples": [["4\n6\n33\n69\n300\n", "8\n36\n80\n-1\n"], ["5\n90\n99\n106\n114\n169\n", "92\n100\n109\n-1\n180\n"], ["见附件中的 number/number3.in", "见附件中的 number/number3.ans"], ["见附件中的 number/number4.in", "见附件中的 number/number4.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "NOIP 提高组", "O2优化", "素数判断,质数,筛法"], "title": "[NOIP2021] 报数", "background": "", "description": "报数游戏是一个广为流传的休闲小游戏。参加游戏的每个人要按一定顺序轮流报数，但如果下一个报的数是 $7$ 的倍数，或十进制表示中含有数字 $7$，就必须跳过这个数，否则就输掉了游戏。\n\n在一个风和日丽的下午，刚刚结束 SPC20nn 比赛的小 r 和小 z 闲得无聊玩起了这个报数游戏。但在只有两个人玩的情况下计算起来还是比较容易的，因此他们玩了很久也没分出胜负。此时小 z 灵光一闪，决定把这个游戏加强：任何一个十进制中含有数字 $7$ 的数，它的所有倍数都不能报出来！\n\n形式化地，设 $p(x)$ 表示 $x$ 的十进制表示中是否含有数字 $7$，若含有则 $p(x) = 1$，否则 $p(x) = 0$。则一个正整数 $x$ 不能被报出，当且仅当存在正整数 $y$ 和 $z$ ，使得 $x = yz$ 且 $p(y) = 1$。\n\n\n例如，如果小 r 报出了 $6$ ，由于 $7$ 不能报，所以小 z 下一个需要报 $8$；如果小 r 报出了 $33$，则由于 $34 = 17 \\times 2$，$35 = 7 \\times 5$ 都不能报，小 z 下一个需要报出 $36$ ；如果小 r 报出了 $69$，由于 $70 \\sim 79$ 的数都含有 $7$，小 z 下一个需要报出 $80$ 才行。\n\n现在小 r 的上一个数报出了 $x$，小 z 想快速算出他下一个数要报多少，不过他很快就发现这个游戏可比原版的游戏难算多了，于是他需要你的帮助。当然，如果小 r 报出的 x 本身是不能报出的，你也要快速反应过来小 r 输了才行。\n\n由于小 r 和小 z 玩了很长时间游戏，你也需要回答小 z 的很多个问题。", "inputFormat": "第一行，一个正整数 $T$ 表示小 z 询问的数量。\n\n接下来 $T$ 行，每行一个正整数 $x$，表示这一次小 r 报出的数。", "outputFormat": "输出共 $T$ 行，每行一个整数，如果小 r 这一次报出的数是不能报出的，输出 $-1$，否则输出小 z 下一次报出的数是多少。", "hint": "**【样例解释 #1】**\n\n这一组样例的前 $3$ 次询问在题目描述中已有解释。\n\n对于第 $4$ 次询问，由于 $300 = 75 \\times 4$，而 $75$ 中含有 $7$ ，所以小 r 直接输掉了游戏。\n\n**【数据范围】**\n\n对于 $10\\%$ 的数据，$T \\leq 10$，$x \\leq 100$。  \n对于 $30\\%$ 的数据，$T \\leq 100$，$x \\leq 1000$。  \n对于 $50\\%$ 的数据，$T \\leq 1000$，$x \\leq 10000$。  \n对于 $70\\%$ 的数据，$T \\leq 10000$，$x \\leq 2 \\times {10}^5$。  \n对于 $100\\%$ 的数据，$1 \\le T \\leq 2 \\times {10}^5$，$1 \\le x \\leq {10}^7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOIP2021] 报数", "background": "", "description": "报数游戏是一个广为流传的休闲小游戏。参加游戏的每个人要按一定顺序轮流报数，但如果下一个报的数是 $7$ 的倍数，或十进制表示中含有数字 $7$，就必须跳过这个数，否则就输掉了游戏。\n\n在一个风和日丽的下午，刚刚结束 SPC20nn 比赛的小 r 和小 z 闲得无聊玩起了这个报数游戏。但在只有两个人玩的情况下计算起来还是比较容易的，因此他们玩了很久也没分出胜负。此时小 z 灵光一闪，决定把这个游戏加强：任何一个十进制中含有数字 $7$ 的数，它的所有倍数都不能报出来！\n\n形式化地，设 $p(x)$ 表示 $x$ 的十进制表示中是否含有数字 $7$，若含有则 $p(x) = 1$，否则 $p(x) = 0$。则一个正整数 $x$ 不能被报出，当且仅当存在正整数 $y$ 和 $z$ ，使得 $x = yz$ 且 $p(y) = 1$。\n\n\n例如，如果小 r 报出了 $6$ ，由于 $7$ 不能报，所以小 z 下一个需要报 $8$；如果小 r 报出了 $33$，则由于 $34 = 17 \\times 2$，$35 = 7 \\times 5$ 都不能报，小 z 下一个需要报出 $36$ ；如果小 r 报出了 $69$，由于 $70 \\sim 79$ 的数都含有 $7$，小 z 下一个需要报出 $80$ 才行。\n\n现在小 r 的上一个数报出了 $x$，小 z 想快速算出他下一个数要报多少，不过他很快就发现这个游戏可比原版的游戏难算多了，于是他需要你的帮助。当然，如果小 r 报出的 x 本身是不能报出的，你也要快速反应过来小 r 输了才行。\n\n由于小 r 和小 z 玩了很长时间游戏，你也需要回答小 z 的很多个问题。", "inputFormat": "第一行，一个正整数 $T$ 表示小 z 询问的数量。\n\n接下来 $T$ 行，每行一个正整数 $x$，表示这一次小 r 报出的数。", "outputFormat": "输出共 $T$ 行，每行一个整数，如果小 r 这一次报出的数是不能报出的，输出 $-1$，否则输出小 z 下一次报出的数是多少。", "hint": "**【样例解释 #1】**\n\n这一组样例的前 $3$ 次询问在题目描述中已有解释。\n\n对于第 $4$ 次询问，由于 $300 = 75 \\times 4$，而 $75$ 中含有 $7$ ，所以小 r 直接输掉了游戏。\n\n**【数据范围】**\n\n对于 $10\\%$ 的数据，$T \\leq 10$，$x \\leq 100$。  \n对于 $30\\%$ 的数据，$T \\leq 100$，$x \\leq 1000$。  \n对于 $50\\%$ 的数据，$T \\leq 1000$，$x \\leq 10000$。  \n对于 $70\\%$ 的数据，$T \\leq 10000$，$x \\leq 2 \\times {10}^5$。  \n对于 $100\\%$ 的数据，$1 \\le T \\leq 2 \\times {10}^5$，$1 \\le x \\leq {10}^7$。", "locale": "zh-CN"}}}
{"pid": "P7961", "type": "P", "difficulty": 5, "samples": [["5 1 1\n2 1\n", "40\n"], ["见附件中的 sequence/sequence2.in", "见附件中的 sequence/sequence2.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2021", "NOIP 提高组", "O2优化", "排列组合"], "title": "[NOIP2021] 数列", "background": "", "description": "给定整数 $n, m, k$，和一个长度为 $m + 1$ 的正整数数组 $v_0, v_1, \\ldots, v_m$。\n\n对于一个长度为 $n$，下标从 $1$ 开始且每个元素均不超过 $m$ 的非负整数序列 $\\{a_i\\}$，我们定义它的权值为 $v_{a_1} \\times v_{a_2} \\times \\cdots \\times v_{a_n}$。\n\n当这样的序列 $\\{a_i\\}$ 满足整数 $S = 2^{a_1} + 2^{a_2} + \\cdots + 2^{a_n}$ 的二进制表示中 $1$ 的个数不超过 $k$ 时，我们认为 $\\{a_i\\}$ 是一个合法序列。\n\n计算所有合法序列 $\\{a_i\\}$ 的权值和对 $998244353$ 取模的结果。", "inputFormat": "输入第一行是三个整数 $n, m, k$。\n\n第二行 $m + 1$ 个整数，分别是 $v_0, v_1, \\ldots, v_m$。", "outputFormat": "仅一行一个整数，表示所有合法序列的权值和对 $998244353$ 取模的结果。", "hint": "**【样例解释 #1】**\n\n由于 $k = 1$，而且由 $n \\leq S \\leq n \\times 2^m$ 知道 $5 \\leq S \\leq 10$，合法的 $S$ 只有一种可能：$S = 8$，这要求 $a$ 中必须有 $2$ 个 $0$ 和 $3$ 个 $1$，于是有 $\\binom{5}{2} = 10$ 种可能的序列，每种序列的贡献都是 $v_0^2 v_1^3 = 4$，权值和为 $10 \\times 4 = 40$。\n\n**【数据范围】**\n\n对所有测试点保证 $1 \\leq k \\leq n \\leq 30$，$0 \\leq m \\leq 100$，$1 \\leq v_i < 998244353$。\n\n::cute-table{tuack}\n\n|    测试点    |  $n$  |   $k$    |  $m$   |\n| :----------: | :---: | :------: | :----: |\n|  $1 \\sim 4$  | $=8$  | $\\leq n$ |  $=9$  |\n|  $5 \\sim 7$  | $=30$ | ^ |  $=7$  |\n| $8 \\sim 10$  | ^ | ^ | $=12$  |\n| $11 \\sim 13$ | ^ |   $=1$   | $=100$ |\n| $14 \\sim 15$ | $=5$  | $\\leq n$ | $=50$  |\n|     $16$     | $=15$ | ^ | $=100$ |\n| $17 \\sim 18$ | $=30$ | ^ | $=30$  |\n| $19 \\sim 20$ | ^ | ^ | $=100$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOIP2021] 数列", "background": "", "description": "给定整数 $n, m, k$，和一个长度为 $m + 1$ 的正整数数组 $v_0, v_1, \\ldots, v_m$。\n\n对于一个长度为 $n$，下标从 $1$ 开始且每个元素均不超过 $m$ 的非负整数序列 $\\{a_i\\}$，我们定义它的权值为 $v_{a_1} \\times v_{a_2} \\times \\cdots \\times v_{a_n}$。\n\n当这样的序列 $\\{a_i\\}$ 满足整数 $S = 2^{a_1} + 2^{a_2} + \\cdots + 2^{a_n}$ 的二进制表示中 $1$ 的个数不超过 $k$ 时，我们认为 $\\{a_i\\}$ 是一个合法序列。\n\n计算所有合法序列 $\\{a_i\\}$ 的权值和对 $998244353$ 取模的结果。", "inputFormat": "输入第一行是三个整数 $n, m, k$。\n\n第二行 $m + 1$ 个整数，分别是 $v_0, v_1, \\ldots, v_m$。", "outputFormat": "仅一行一个整数，表示所有合法序列的权值和对 $998244353$ 取模的结果。", "hint": "**【样例解释 #1】**\n\n由于 $k = 1$，而且由 $n \\leq S \\leq n \\times 2^m$ 知道 $5 \\leq S \\leq 10$，合法的 $S$ 只有一种可能：$S = 8$，这要求 $a$ 中必须有 $2$ 个 $0$ 和 $3$ 个 $1$，于是有 $\\binom{5}{2} = 10$ 种可能的序列，每种序列的贡献都是 $v_0^2 v_1^3 = 4$，权值和为 $10 \\times 4 = 40$。\n\n**【数据范围】**\n\n对所有测试点保证 $1 \\leq k \\leq n \\leq 30$，$0 \\leq m \\leq 100$，$1 \\leq v_i < 998244353$。\n\n::cute-table{tuack}\n\n|    测试点    |  $n$  |   $k$    |  $m$   |\n| :----------: | :---: | :------: | :----: |\n|  $1 \\sim 4$  | $=8$  | $\\leq n$ |  $=9$  |\n|  $5 \\sim 7$  | $=30$ | ^ |  $=7$  |\n| $8 \\sim 10$  | ^ | ^ | $=12$  |\n| $11 \\sim 13$ | ^ |   $=1$   | $=100$ |\n| $14 \\sim 15$ | $=5$  | $\\leq n$ | $=50$  |\n|     $16$     | $=15$ | ^ | $=100$ |\n| $17 \\sim 18$ | $=30$ | ^ | $=30$  |\n| $19 \\sim 20$ | ^ | ^ | $=100$ |", "locale": "zh-CN"}}}
{"pid": "P7962", "type": "P", "difficulty": 6, "samples": [["4\n1 2 4 6\n", "52\n"], ["见附件中的 variance/variance2.in", "见附件中的 variance/variance2.ans"], ["见附件中的 variance/variance3.in", "见附件中的 variance/variance3.ans"], ["见附件中的 variance/variance4.in", "见附件中的 variance/variance4.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2021", "NOIP 提高组", "O2优化", "模拟退火", "动态规划优化"], "title": "[NOIP2021] 方差", "background": "", "description": "给定长度为 $n$ 的非严格递增正整数数列 $1 \\le a_1 \\le a_2 \\le \\cdots \\le a_n$。每次可以进行的操作是：任意选择一个正整数 $1 < i < n$，将 $a_i$ 变为 $a_{i - 1} + a_{i + 1} - a_i$。求在若干次操作之后，该数列的方差最小值是多少。请输出最小值乘以 $n^2$ 的结果。\n\n其中方差的定义为：数列中每个数与平均值的差的平方的平均值。更形式化地说，方差的定义为 $D = \\frac{1}{n} \\sum_{i = 1}^{n} {(a_i - \\bar a)}^2$，其中 $\\bar a = \\frac{1}{n} \\sum_{i = 1}^{n} a_i$。", "inputFormat": "输入的第一行包含一个正整数 $n$，保证 $n \\le {10}^4$。\n\n输入的第二行有 $n$ 个正整数，其中第 $i$ 个数字表示 $a_i$ 的值。数据保证 $1 \\le a_1 \\le a_2 \\le \\cdots \\le a_n$。", "outputFormat": "输出仅一行，包含一个非负整数，表示你所求的方差的最小值的 $n^2$ 倍。", "hint": "**【样例解释 #1】**\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 2, 4, 6)$，第一次操作得到的数列有 $(1, 3, 4, 6)$，第二次操作得到的新的数列有 $(1, 3, 5, 6)$。之后无法得到新的数列。\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 2, 4, 6)$，平均值为 $\\frac{13}{4}$，方差为 $\\frac{1}{4}({(1 - \\frac{13}{4})}^2 + {(2 - \\frac{13}{4})}^2 + {(4 - \\frac{13}{4})}^2 + {(6 - \\frac{13}{4})}^2) = \\frac{59}{16}$。\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 3, 4, 6)$，平均值为 $\\frac{7}{2}$，方差为 $\\frac{1}{4} ({(1 - \\frac{7}{2})}^2 + {(3 - \\frac{7}{2})}^2 + {(4 - \\frac{7}{2})}^2 + {(6 - \\frac{7}{2})}^2) = \\frac{13}{4}$。\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 3, 5, 6)$，平均值为 $\\frac{15}{4}$，方差为 $\\frac{1}{4} ({(1 - \\frac{15}{4})}^2 + {(3 - \\frac{15}{4})}^2 + {(5 - \\frac{15}{4})}^2 + {(6 - \\frac{15}{4})}^2) = \\frac{59}{16}$。\n\n**【数据范围】**\n\n| 测试点编号 | $n \\le$ | $a_i \\le$ |\n|:-:|:-:|:-:|\n| $1 \\sim 3$ | $4$ | $10$ |\n| $4 \\sim 5$ | $10$ | $40$ |\n| $6 \\sim 8$ | $15$ | $20$ |\n| $9 \\sim 12$ | $20$ | $300$ |\n| $13 \\sim 15$ | $50$ | $70$ |\n| $16 \\sim 18$ | $100$ | $40$ |\n| $19 \\sim 22$ | $400$ | $600$ |\n| $23 \\sim 25$ | ${10}^4$ | $50$ |\n\n对于所有的数据，保证 $1 \\le n \\le {10}^4$，$1 \\le a_i \\le 600$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOIP2021] 方差", "background": "", "description": "给定长度为 $n$ 的非严格递增正整数数列 $1 \\le a_1 \\le a_2 \\le \\cdots \\le a_n$。每次可以进行的操作是：任意选择一个正整数 $1 < i < n$，将 $a_i$ 变为 $a_{i - 1} + a_{i + 1} - a_i$。求在若干次操作之后，该数列的方差最小值是多少。请输出最小值乘以 $n^2$ 的结果。\n\n其中方差的定义为：数列中每个数与平均值的差的平方的平均值。更形式化地说，方差的定义为 $D = \\frac{1}{n} \\sum_{i = 1}^{n} {(a_i - \\bar a)}^2$，其中 $\\bar a = \\frac{1}{n} \\sum_{i = 1}^{n} a_i$。", "inputFormat": "输入的第一行包含一个正整数 $n$，保证 $n \\le {10}^4$。\n\n输入的第二行有 $n$ 个正整数，其中第 $i$ 个数字表示 $a_i$ 的值。数据保证 $1 \\le a_1 \\le a_2 \\le \\cdots \\le a_n$。", "outputFormat": "输出仅一行，包含一个非负整数，表示你所求的方差的最小值的 $n^2$ 倍。", "hint": "**【样例解释 #1】**\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 2, 4, 6)$，第一次操作得到的数列有 $(1, 3, 4, 6)$，第二次操作得到的新的数列有 $(1, 3, 5, 6)$。之后无法得到新的数列。\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 2, 4, 6)$，平均值为 $\\frac{13}{4}$，方差为 $\\frac{1}{4}({(1 - \\frac{13}{4})}^2 + {(2 - \\frac{13}{4})}^2 + {(4 - \\frac{13}{4})}^2 + {(6 - \\frac{13}{4})}^2) = \\frac{59}{16}$。\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 3, 4, 6)$，平均值为 $\\frac{7}{2}$，方差为 $\\frac{1}{4} ({(1 - \\frac{7}{2})}^2 + {(3 - \\frac{7}{2})}^2 + {(4 - \\frac{7}{2})}^2 + {(6 - \\frac{7}{2})}^2) = \\frac{13}{4}$。\n\n对于 $(a_1, a_2, a_3, a_4) = (1, 3, 5, 6)$，平均值为 $\\frac{15}{4}$，方差为 $\\frac{1}{4} ({(1 - \\frac{15}{4})}^2 + {(3 - \\frac{15}{4})}^2 + {(5 - \\frac{15}{4})}^2 + {(6 - \\frac{15}{4})}^2) = \\frac{59}{16}$。\n\n**【数据范围】**\n\n| 测试点编号 | $n \\le$ | $a_i \\le$ |\n|:-:|:-:|:-:|\n| $1 \\sim 3$ | $4$ | $10$ |\n| $4 \\sim 5$ | $10$ | $40$ |\n| $6 \\sim 8$ | $15$ | $20$ |\n| $9 \\sim 12$ | $20$ | $300$ |\n| $13 \\sim 15$ | $50$ | $70$ |\n| $16 \\sim 18$ | $100$ | $40$ |\n| $19 \\sim 22$ | $400$ | $600$ |\n| $23 \\sim 25$ | ${10}^4$ | $50$ |\n\n对于所有的数据，保证 $1 \\le n \\le {10}^4$，$1 \\le a_i \\le 600$。", "locale": "zh-CN"}}}
{"pid": "P7963", "type": "P", "difficulty": 7, "samples": [["1\n3 3 5\n13\n22\n23\n010\n233\n0 1 2 3\n1 2 2 1\n1 3 1 2\n0 2 3 2\n1 3 2 2\n", "4\n3\n3\n3\n2\n"], ["2\n2 3 4\n22\n33\n123\n0 2 1 2\n0 1 2 1\n1 2 1 3\n0 3 2 2\n3 2 3\n3\n1\n3\n32\n32\n0 2 1 2\n1 2 3 2\n0 1 2 2\n", "3\n4\n4\n2\n5\n5\n1\n"], ["见附件中的 chess/chess3.in", "见附件中的 chess/chess3.ans"], ["见附件中的 chess/chess4.in", "见附件中的 chess/chess4.ans"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["并查集", "2021", "NOIP 提高组", "O2优化", "线段树合并"], "title": "[NOIP2021] 棋局", "background": "在输了一晚上的麻将之后，小 z 和小 c 卸掉了手机上的所有牌类游戏。不过这怎么可能阻挡得了他们上课颓废的决心呢？现在他们的目光盯在了棋类游戏上，但他们两个除了天天下飞行棋以外，几乎所有棋类游戏都只懂个大概规则。\n\n“既然我们都会玩但只能玩一点点，不如我们自己搞个缝合怪出来吧！”\n\n于是，在他们的精心脑洞之下，一个融合了围棋、象棋与军棋的奇妙游戏诞生了……", "description": "游戏在一张长 $n$ 行宽 $m$ 列的网格形棋盘上进行，棋子落在网格的交叉点上，我们不妨记左上角的交叉点的坐标为 $(1,1)$，右下角的交叉点坐标为 $(n,m)$。\n\n棋子分为黑白两色，对局双方各执一方棋子。\n\n每个棋子除了颜色以外还有等级，不妨设 $\\mathit{col}_i$ 为棋子 $i$ 的颜色，$\\mathit{lv}_i$ 为棋子 $i$ 的等级。另外，棋盘上的网格线共有 $4$ 种状态，对于第 $i$ 条网格线，设其状态为 $\\mathit{opt}_i$。\n\n轮到每方下棋时，他可以选择棋盘上的一个己方棋子沿网格线进行移动到另一个交叉点，称为走子。形式化定义走子的过程如下：选择一个坐标序列 $(x_0,y_0),(x_1,y_1),\\ldots,(x_k,y_k)$，其中 $k$ 是任意选定的正整数，$(x_0,y_0)$ 是棋子初始的位置，$(x_k,y_k)$ 是棋子最终走到的位置，需要满足：\n\n- 对于任意 $i=0,1,\\ldots,k-1$，坐标 $(x_i,y_i)$ 和 $(x_{i+1},y_{i+1})$ 之间必须有网格线直接相连，也就是说**走子必须沿着网格线走**；\n- 对于任意 $i\\not=j$，必须有 $(x_i,y_i)\\ne(x_j,y_j)$，也就是说走子过程中不能经过重复位置，特别地 $(x_0,y_0)\\ne(x_k,y_k)$，也就是说**不能原地不动（或走回原地）**；\n- 对于任意 $i=1,\\ldots,k-1$，坐标 $(x_i,y_i)$ 上必须没有棋子，也就是说**走子时不能越过已有的棋子**；\n- 若 $(x_k,y_k)$ 上没有棋子，称为普通走子，否则称为吃子。在吃子过程中，设正在走的棋子颜色为 $\\mathit{col}_1$，等级为 $\\mathit{lv}_1$，被吃的棋子颜色为 $\\mathit{col}_2$，等级为 $\\mathit{lv}_2$，则必须满足 $\\mathit{col}_1\\ne\\mathit{col}_2,\\mathit{lv}_1\\geq\\mathit{lv}_2$，换句话说**只能吃与自己颜色不同，且等级不高于自己等级的棋子**。\n\n需要注意的是，由上述定义可以得出，不允许棋子在吃子后继续向前走。\n\n网格线的状态含义如下所述：\n\n- 如果 $\\mathit{opt}_i=0$，代表此路不通，走子时不能经过这条网格线；\n- 如果 $\\mathit{opt}_i=1$，代表这条网格线是一条“普通道路”，每次走子时棋子最多只能经过 $1$ 条普通道路。\n- 如果 $\\mathit{opt}_i=2$，代表这条网格线是一条“直行道路”，每次走子时棋子可以经过任意条直行道路，但只能**一直沿横向或一直沿纵向走，不能转弯**。如沿直行道路从 $(1,1)$ 经过 $(1,2)$ 走到 $(1,3)$ 是可以的，但是从 $(1,1)$ 经过 $(1,2)$ 走到 $(2,2)$ 不行。\n- 如果 $\\mathit{opt}_i=3$，代表这条网格线是一条“互通道路”，每次走子时棋子可以经过任意条互通道路，且中途可任意转弯。\n\n同时规定在一次走子过程中，**棋子经过的网格线的状态必须全部相同**，比如从 $(1,1)$ 经过直行道路走到 $(1,2)$ 再经过互通道路走到 $(1,3)$ 是不允许的。\n\n至于如何判断胜负等其它细节，与本题无关，故略去。\n\n小 z 和小 c 开发出这款棋类游戏后，为了提升水平，想了一个训练的策略：一开始棋盘是空的，然后小 c 会每次往棋盘的某个空交叉点上放一枚棋子，小 z 需要快速计算出：若选择这枚新放上的棋子进行一次走子，棋盘上一共有多少个位置是能被走到的？注意：因为这只是思维训练，他们并不会真的走这枚棋子。\n\n可怜的小 z 发现他的计算力不足以算出这个问题，只好向你求助。", "inputFormat": "每个测试点由多组数据组成。\n\n第一行：一个正整数 $T$ 表示数据组数。\n\n对于每组数据：\n\n第一行：三个正整数 $n, m, q$，分别表示棋盘的行数、列数和游戏的轮数。\n\n接下来 $n$ 行，每行为一个长 $m - 1$ 的字符串，每个字符为 $\\texttt{0}$、$\\texttt{1}$、$\\texttt{2}$、$\\texttt{3}$ 中的一个，第 $i$ 行第 $j$ 个字符表示交叉点 $(i, j)$ 连向交叉点 $(i, j + 1)$ 的网格线状态。 \n\n接下来 $n - 1$ 行，每行为一个长 $m$ 的字符串，每个字符为 $\\texttt{0}$、$\\texttt{1}$、$\\texttt{2}$、$\\texttt{3}$ 中的一个，第 $i$ 行第 $j$ 个字符表示交叉点 $(i, j)$ 连向交叉点 $(i + 1, j)$ 的网格线状态。\n\n接下来 $q$ 行，每行 $4$ 个非负整数 $\\mathit{col}_i , \\mathit{lv}_i , x_i , y_i$，表示在第 $i$ 轮有一枚颜色为 $\\mathit{col}_i$，等级为 $\\mathit{lv}_i$ 的棋子放在了交叉点 $(x_i , y_i)$ 上。其中 $\\mathit{col}_i = 0$ 表示黑子，$\\mathit{col}_i = 1$ 表示白子。保证之前交叉点 $(x_i , y_i)$ 上没有棋子。", "outputFormat": "对于每组数据输出 $q$ 行，每行一个非负整数，表示第 $i$ 枚棋子放置后能走到的交叉点数量。", "hint": "**【样例解释 #1】**\n\n放置棋子 $1$ 后，它能走到的位置为 $(2, 1),(2, 2),(3, 2),(3, 3)$。\n\n放置棋子 $2$ 后，它能走到的位置为 $(2, 2),(2, 3),(3, 1)$。\n\n放置棋子 $3$ 后，它能走到的位置为 $(1, 1),(1, 3),(2, 2)$。\n\n放置棋子 $4$ 后，它能走到的位置为 $(2, 2),(3, 1),(3, 3)$。\n\n放置棋子 $5$ 后，它能走到的位置为 $(2, 3),(3, 2)$。\n\n\n**【数据范围】**\n\n| 测试点编号 | $n \\times m \\le$ | $q \\le$ | 特殊性质 |\n|:-:|:-:|:-:|:-:|\n| $1 \\sim 2$ | $100$ | $50$ | 无 |\n| $3 \\sim 6$ | $5000$ | $2000$ | 无 |\n| $7 \\sim 8$ | $2 \\times {10}^5$ | ${10}^5$ | 不存在“直行道路”与“互通道路” |\n| $9 \\sim 11$ | $2 \\times {10}^5$ | ${10}^5$ | 不存在“互通道路” |\n| $12 \\sim 14$ | $2 \\times {10}^5$ | ${10}^5$ | 不存在“直行道路” |\n| $15 \\sim 16$ | $2 \\times {10}^5$ | ${10}^5$ | $\\mathit{lv}_i = i$ |\n| $17 \\sim 18$ | $2 \\times {10}^5$ | ${10}^5$ | $\\mathit{lv}_i = q - i + 1$ |\n| $19 \\sim 21$ | $2 \\times {10}^5$ | $2000$ | $n, m \\le 1000$ |\n| $22 \\sim 25$ | $2 \\times {10}^5$ | ${10}^5$ | 无 |\n\n对于 $100 \\%$ 的数据，$1 \\le T \\le 5$，$2 \\le n, m \\le {10}^5$，$4 \\le n \\times m \\le 2 \\times {10}^5$，$1 \\le q \\le \\min \\{ {10}^5, n \\times m \\}$，$1 \\le \\mathit{lv}_i \\le q$，$1 \\le x_i \\le n$，$1 \\le y_i \\le m$，$\\mathit{col}_i \\in \\{ 0, 1 \\}$。\n\n注：由于本题输入输出规模较大，建议使用较为快速的输入输出方式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOIP2021] 棋局", "background": "在输了一晚上的麻将之后，小 z 和小 c 卸掉了手机上的所有牌类游戏。不过这怎么可能阻挡得了他们上课颓废的决心呢？现在他们的目光盯在了棋类游戏上，但他们两个除了天天下飞行棋以外，几乎所有棋类游戏都只懂个大概规则。\n\n“既然我们都会玩但只能玩一点点，不如我们自己搞个缝合怪出来吧！”\n\n于是，在他们的精心脑洞之下，一个融合了围棋、象棋与军棋的奇妙游戏诞生了……", "description": "游戏在一张长 $n$ 行宽 $m$ 列的网格形棋盘上进行，棋子落在网格的交叉点上，我们不妨记左上角的交叉点的坐标为 $(1,1)$，右下角的交叉点坐标为 $(n,m)$。\n\n棋子分为黑白两色，对局双方各执一方棋子。\n\n每个棋子除了颜色以外还有等级，不妨设 $\\mathit{col}_i$ 为棋子 $i$ 的颜色，$\\mathit{lv}_i$ 为棋子 $i$ 的等级。另外，棋盘上的网格线共有 $4$ 种状态，对于第 $i$ 条网格线，设其状态为 $\\mathit{opt}_i$。\n\n轮到每方下棋时，他可以选择棋盘上的一个己方棋子沿网格线进行移动到另一个交叉点，称为走子。形式化定义走子的过程如下：选择一个坐标序列 $(x_0,y_0),(x_1,y_1),\\ldots,(x_k,y_k)$，其中 $k$ 是任意选定的正整数，$(x_0,y_0)$ 是棋子初始的位置，$(x_k,y_k)$ 是棋子最终走到的位置，需要满足：\n\n- 对于任意 $i=0,1,\\ldots,k-1$，坐标 $(x_i,y_i)$ 和 $(x_{i+1},y_{i+1})$ 之间必须有网格线直接相连，也就是说**走子必须沿着网格线走**；\n- 对于任意 $i\\not=j$，必须有 $(x_i,y_i)\\ne(x_j,y_j)$，也就是说走子过程中不能经过重复位置，特别地 $(x_0,y_0)\\ne(x_k,y_k)$，也就是说**不能原地不动（或走回原地）**；\n- 对于任意 $i=1,\\ldots,k-1$，坐标 $(x_i,y_i)$ 上必须没有棋子，也就是说**走子时不能越过已有的棋子**；\n- 若 $(x_k,y_k)$ 上没有棋子，称为普通走子，否则称为吃子。在吃子过程中，设正在走的棋子颜色为 $\\mathit{col}_1$，等级为 $\\mathit{lv}_1$，被吃的棋子颜色为 $\\mathit{col}_2$，等级为 $\\mathit{lv}_2$，则必须满足 $\\mathit{col}_1\\ne\\mathit{col}_2,\\mathit{lv}_1\\geq\\mathit{lv}_2$，换句话说**只能吃与自己颜色不同，且等级不高于自己等级的棋子**。\n\n需要注意的是，由上述定义可以得出，不允许棋子在吃子后继续向前走。\n\n网格线的状态含义如下所述：\n\n- 如果 $\\mathit{opt}_i=0$，代表此路不通，走子时不能经过这条网格线；\n- 如果 $\\mathit{opt}_i=1$，代表这条网格线是一条“普通道路”，每次走子时棋子最多只能经过 $1$ 条普通道路。\n- 如果 $\\mathit{opt}_i=2$，代表这条网格线是一条“直行道路”，每次走子时棋子可以经过任意条直行道路，但只能**一直沿横向或一直沿纵向走，不能转弯**。如沿直行道路从 $(1,1)$ 经过 $(1,2)$ 走到 $(1,3)$ 是可以的，但是从 $(1,1)$ 经过 $(1,2)$ 走到 $(2,2)$ 不行。\n- 如果 $\\mathit{opt}_i=3$，代表这条网格线是一条“互通道路”，每次走子时棋子可以经过任意条互通道路，且中途可任意转弯。\n\n同时规定在一次走子过程中，**棋子经过的网格线的状态必须全部相同**，比如从 $(1,1)$ 经过直行道路走到 $(1,2)$ 再经过互通道路走到 $(1,3)$ 是不允许的。\n\n至于如何判断胜负等其它细节，与本题无关，故略去。\n\n小 z 和小 c 开发出这款棋类游戏后，为了提升水平，想了一个训练的策略：一开始棋盘是空的，然后小 c 会每次往棋盘的某个空交叉点上放一枚棋子，小 z 需要快速计算出：若选择这枚新放上的棋子进行一次走子，棋盘上一共有多少个位置是能被走到的？注意：因为这只是思维训练，他们并不会真的走这枚棋子。\n\n可怜的小 z 发现他的计算力不足以算出这个问题，只好向你求助。", "inputFormat": "每个测试点由多组数据组成。\n\n第一行：一个正整数 $T$ 表示数据组数。\n\n对于每组数据：\n\n第一行：三个正整数 $n, m, q$，分别表示棋盘的行数、列数和游戏的轮数。\n\n接下来 $n$ 行，每行为一个长 $m - 1$ 的字符串，每个字符为 $\\texttt{0}$、$\\texttt{1}$、$\\texttt{2}$、$\\texttt{3}$ 中的一个，第 $i$ 行第 $j$ 个字符表示交叉点 $(i, j)$ 连向交叉点 $(i, j + 1)$ 的网格线状态。 \n\n接下来 $n - 1$ 行，每行为一个长 $m$ 的字符串，每个字符为 $\\texttt{0}$、$\\texttt{1}$、$\\texttt{2}$、$\\texttt{3}$ 中的一个，第 $i$ 行第 $j$ 个字符表示交叉点 $(i, j)$ 连向交叉点 $(i + 1, j)$ 的网格线状态。\n\n接下来 $q$ 行，每行 $4$ 个非负整数 $\\mathit{col}_i , \\mathit{lv}_i , x_i , y_i$，表示在第 $i$ 轮有一枚颜色为 $\\mathit{col}_i$，等级为 $\\mathit{lv}_i$ 的棋子放在了交叉点 $(x_i , y_i)$ 上。其中 $\\mathit{col}_i = 0$ 表示黑子，$\\mathit{col}_i = 1$ 表示白子。保证之前交叉点 $(x_i , y_i)$ 上没有棋子。", "outputFormat": "对于每组数据输出 $q$ 行，每行一个非负整数，表示第 $i$ 枚棋子放置后能走到的交叉点数量。", "hint": "**【样例解释 #1】**\n\n放置棋子 $1$ 后，它能走到的位置为 $(2, 1),(2, 2),(3, 2),(3, 3)$。\n\n放置棋子 $2$ 后，它能走到的位置为 $(2, 2),(2, 3),(3, 1)$。\n\n放置棋子 $3$ 后，它能走到的位置为 $(1, 1),(1, 3),(2, 2)$。\n\n放置棋子 $4$ 后，它能走到的位置为 $(2, 2),(3, 1),(3, 3)$。\n\n放置棋子 $5$ 后，它能走到的位置为 $(2, 3),(3, 2)$。\n\n\n**【数据范围】**\n\n| 测试点编号 | $n \\times m \\le$ | $q \\le$ | 特殊性质 |\n|:-:|:-:|:-:|:-:|\n| $1 \\sim 2$ | $100$ | $50$ | 无 |\n| $3 \\sim 6$ | $5000$ | $2000$ | 无 |\n| $7 \\sim 8$ | $2 \\times {10}^5$ | ${10}^5$ | 不存在“直行道路”与“互通道路” |\n| $9 \\sim 11$ | $2 \\times {10}^5$ | ${10}^5$ | 不存在“互通道路” |\n| $12 \\sim 14$ | $2 \\times {10}^5$ | ${10}^5$ | 不存在“直行道路” |\n| $15 \\sim 16$ | $2 \\times {10}^5$ | ${10}^5$ | $\\mathit{lv}_i = i$ |\n| $17 \\sim 18$ | $2 \\times {10}^5$ | ${10}^5$ | $\\mathit{lv}_i = q - i + 1$ |\n| $19 \\sim 21$ | $2 \\times {10}^5$ | $2000$ | $n, m \\le 1000$ |\n| $22 \\sim 25$ | $2 \\times {10}^5$ | ${10}^5$ | 无 |\n\n对于 $100 \\%$ 的数据，$1 \\le T \\le 5$，$2 \\le n, m \\le {10}^5$，$4 \\le n \\times m \\le 2 \\times {10}^5$，$1 \\le q \\le \\min \\{ {10}^5, n \\times m \\}$，$1 \\le \\mathit{lv}_i \\le q$，$1 \\le x_i \\le n$，$1 \\le y_i \\le m$，$\\mathit{col}_i \\in \\{ 0, 1 \\}$。\n\n注：由于本题输入输出规模较大，建议使用较为快速的输入输出方式。", "locale": "zh-CN"}}}
{"pid": "P7964", "type": "P", "difficulty": 1, "samples": [["3\nsection zivotinje\nsection boje\nsection voce", "1 zivotinje\n2 boje\n3 voce"], ["4\nsection zivotinje\nsubsection macke\nsubsection psi\nsubsubsection mops", "1 zivotinje\n1.1 macke\n1.2 psi\n1.2.1 mops"], ["4\nsection zivotinje\nsubsection psi\nsection voce\nsubsection ananas", "1 zivotinje\n1.1 psi\n2 voce\n2.1 ananas"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #2] Kaučuk", "background": "", "description": "Kaučuk 程序只有下列三种命令：\n\n- $\\texttt{section}$：创建新的一级标题，序号从 $1$ 开始标记。\n- $\\texttt{subsection}$：创建新的二级标题，序号在每个一级标题的基础上从 $1$ 开始标记。\n- $\\texttt{subsubsection}$：创建新的三级标题，序号在每个二级标题的基础上从 $1$ 开始标记。\n\n给定 $n$ 组命令及标题名称，输出所有标题序号及其名称。", "inputFormat": "第一行一个正整数 $n$，表示命令的数量。\n\n接下来的 $n$ 行，每行输入命令名称（$\\texttt{section}$、$\\texttt{subsection}$、$\\texttt{subsubsection}$ 之一）和标题名称。标题名称由不超过 $20$ 个小写英文字母组成。", "outputFormat": "共 $n$ 行，表示所有标题序号及其名称。", "hint": "**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$1 \\le n \\le 3$。\n- Subtask 2（10 pts）：只包含 $\\texttt{section}$ 命令。\n- Subtask 3（10 pts）：只包含 $\\texttt{section}$ 和 $\\texttt{subsection}$ 命令。\n- Subtask 4（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$n \\le 100$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 1 Kaučuk_。**\n\n**本题分值按 COCI 原题设置，满分 $50$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #2] Kaučuk", "background": "", "description": "Kaučuk 程序只有下列三种命令：\n\n- $\\texttt{section}$：创建新的一级标题，序号从 $1$ 开始标记。\n- $\\texttt{subsection}$：创建新的二级标题，序号在每个一级标题的基础上从 $1$ 开始标记。\n- $\\texttt{subsubsection}$：创建新的三级标题，序号在每个二级标题的基础上从 $1$ 开始标记。\n\n给定 $n$ 组命令及标题名称，输出所有标题序号及其名称。", "inputFormat": "第一行一个正整数 $n$，表示命令的数量。\n\n接下来的 $n$ 行，每行输入命令名称（$\\texttt{section}$、$\\texttt{subsection}$、$\\texttt{subsubsection}$ 之一）和标题名称。标题名称由不超过 $20$ 个小写英文字母组成。", "outputFormat": "共 $n$ 行，表示所有标题序号及其名称。", "hint": "**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$1 \\le n \\le 3$。\n- Subtask 2（10 pts）：只包含 $\\texttt{section}$ 命令。\n- Subtask 3（10 pts）：只包含 $\\texttt{section}$ 和 $\\texttt{subsection}$ 命令。\n- Subtask 4（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$n \\le 100$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 1 Kaučuk_。**\n\n**本题分值按 COCI 原题设置，满分 $50$。**", "locale": "zh-CN"}}}
{"pid": "P7965", "type": "P", "difficulty": 3, "samples": [["4 1 3\n1 2 4 3\n1 1\n1 2\n3 4", "DA\nNE\nDA"], ["4 2 4\n2 1 3 4\n1 2 4 3\n2 1\n3 4\n1 4\n2 3", "DA\nDA\nNE\nNE"], ["6 2 2\n2 1 4 5 3 6\n3 2 4 1 5 6\n1 5\n6 3", "DA\nNE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["并查集", "2021", "广度优先搜索 BFS", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #2] Kutije", "background": "", "description": "Matrin 有 $n$ 个箱子的玩具。箱子分别用序号 $1,2,3,\\cdots,n$ 表示。初始状态下，每个箱子中有一个与箱子编号相同的玩具。\n\nMatrin 邀请了 $m$ 位朋友来家玩玩具。他注意到，每一位朋友在玩完玩具之后，都会将原先位于 $i$ 号箱子内的玩具放入 $p_i$ 号箱内。\n\n给定 $q$ 组询问，每次可随意邀请朋友并自由选择顺序，同时每位朋友可以邀请任意多次。问是否存在一种方案，使得 $a$ 号玩具最终被放入 $b$ 号箱子中。", "inputFormat": "第一行三个正整数 $n,m,q$，分别表示箱子 / 玩具、朋友和询问的数量。\n\n接下来的 $m$ 行，每行 $n$ 个整数 $p_i$。数据保证 $p_i$ 是 $1 \\sim n$ 的一个排列。\n\n接下来的 $q$ 行，每行两个整数 $a,b$。", "outputFormat": "共 $q$ 行，每行输出一个字符串 $\\texttt{DA}$（是）或 $\\texttt{NE}$（否）。", "hint": "**【样例 1 解释】**\n\n- 询问 $1$：初始状态下，$1$ 号玩具已经在 $1$ 号箱子内，故输出 $\\texttt{DA}$。\n- 询问 $2$：第二组询问：无符合题意的方案，输出 $\\texttt{NE}$。\n- 询问 $3$：邀请 $1$ 号朋友前来即可，输出 $\\texttt{DA}$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（15 pts）：$m=1$。\n- Subtask 2（10 pts）：$1 \\le n,m,q \\le 100$；对于每组询问，若答案为 $\\texttt{DA}$，则保证存在一种邀请朋友数量不超过 $2$ 的方案。\n- Subtask 3（10 pts）：$1 \\le n,m,q \\le 100$。\n- Subtask 4（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 1000$，$1 \\le q \\le 5 \\times 10^5$，$1 \\le a,b \\le n$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 2 Kutije_。**\n\n**本题分值按 COCI 原题设置，满分 $70$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #2] Kutije", "background": "", "description": "Matrin 有 $n$ 个箱子的玩具。箱子分别用序号 $1,2,3,\\cdots,n$ 表示。初始状态下，每个箱子中有一个与箱子编号相同的玩具。\n\nMatrin 邀请了 $m$ 位朋友来家玩玩具。他注意到，每一位朋友在玩完玩具之后，都会将原先位于 $i$ 号箱子内的玩具放入 $p_i$ 号箱内。\n\n给定 $q$ 组询问，每次可随意邀请朋友并自由选择顺序，同时每位朋友可以邀请任意多次。问是否存在一种方案，使得 $a$ 号玩具最终被放入 $b$ 号箱子中。", "inputFormat": "第一行三个正整数 $n,m,q$，分别表示箱子 / 玩具、朋友和询问的数量。\n\n接下来的 $m$ 行，每行 $n$ 个整数 $p_i$。数据保证 $p_i$ 是 $1 \\sim n$ 的一个排列。\n\n接下来的 $q$ 行，每行两个整数 $a,b$。", "outputFormat": "共 $q$ 行，每行输出一个字符串 $\\texttt{DA}$（是）或 $\\texttt{NE}$（否）。", "hint": "**【样例 1 解释】**\n\n- 询问 $1$：初始状态下，$1$ 号玩具已经在 $1$ 号箱子内，故输出 $\\texttt{DA}$。\n- 询问 $2$：第二组询问：无符合题意的方案，输出 $\\texttt{NE}$。\n- 询问 $3$：邀请 $1$ 号朋友前来即可，输出 $\\texttt{DA}$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（15 pts）：$m=1$。\n- Subtask 2（10 pts）：$1 \\le n,m,q \\le 100$；对于每组询问，若答案为 $\\texttt{DA}$，则保证存在一种邀请朋友数量不超过 $2$ 的方案。\n- Subtask 3（10 pts）：$1 \\le n,m,q \\le 100$。\n- Subtask 4（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 1000$，$1 \\le q \\le 5 \\times 10^5$，$1 \\le a,b \\le n$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 2 Kutije_。**\n\n**本题分值按 COCI 原题设置，满分 $70$。**", "locale": "zh-CN"}}}
{"pid": "P7966", "type": "P", "difficulty": 6, "samples": [["1\n0 1", "1\n0 1"], ["2\n0 1\n1 2", "2\n0 1 3\n0 2 3"], ["3\n0 1\n0 2\n0 3", "4\n0 1 2 4\n3 1 2 7\n5 1 4 7\n6 2 4 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2021", "Special Judge", "广度优先搜索 BFS", "位运算", "构造", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #2] Hiperkocka", "background": "", "description": "给定一个 $n$ 维的超正方体。\n\n将该超正方体抽象为一个含 $2^n$ 个结点的图，结点分别用序号 $0,1,\\cdots,2^n-1$ 表示。两个结点 $x,y$ 联通，当且仅当 $x \\oplus y$ 为 $2$ 的整数幂。\n\n现需将若干棵含有 $n$ 条边的树 $T$ 放置于该超正方体中。结点分别用序号 $0,1,\\cdots,n$ 表示。给定每棵树的 $n$ 条边所连接的点的序号，则每一棵树需满足下列条件：\n\n- 每个树上的结点都与超正方体的其中一个结点一一对应\n- 每个结点互不相同\n- 每一棵树的每一条边所连接的两个结点在超正方体中所对应的两个结点在超正方体中有边相连（即对应的两个结点的异或值为 $2$ 的整数幂）\n- 每两棵树的边集在超正方体中所对应的边集不交，即超正方体中的每条边最多包含于一棵树中\n\n请给定一种放置方案，使得放在超正方体中的每一棵树都符合题意。", "inputFormat": "第一行一个正整数 $n$，表示超正方体的维数。\n\n接下来的 $n$ 行，每行两个整数 $x,y$，表示在每棵树 $T$ 中，有一条连接 $x,y$ 的边。", "outputFormat": "第一行输出放置的树的数目 $k$。\n\n接下来的 $k$ 行，每行输出 $n+1$ 个整数，表示这棵树的对应结点在超正方体中的结点编号。", "hint": "**【样例 3 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/58a0p43i.png)\n\n**【数据规模与约定】**\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 16$，$0 \\le x,y \\le n$，$x \\neq y$。\n\n**【提示与说明】**\n\n如果程序正确地放置了 $k$ 棵树，则每个测试点的得分为 $f(k) \\cdot 110$，其中：\n\n$$f(k)=\\begin{cases}\n\\dfrac{0.7k}{2^{n-1}} & (k \\lt 2^{n-1}) \\cr\n1 & (k=2^{n-1}) \\cr\n\\end{cases}$$\n\n若放置方式错误，则该测试点得分为 $0$。可以证明，总存在一种方式可以放置 $2^{n-1}$ 棵树。\n\n因评分方式特殊，本题启用自行编写的 [Special Judge](https://www.luogu.com.cn/discuss/738608)，欢迎大家 hack。\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 3 Hiperkocka_。**\n\n**本题在 COCI 原题中满分 $110$，但由于为了计算方便，将满分修改为 $26 \\times 5=130$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #2] Hiperkocka", "background": "", "description": "给定一个 $n$ 维的超正方体。\n\n将该超正方体抽象为一个含 $2^n$ 个结点的图，结点分别用序号 $0,1,\\cdots,2^n-1$ 表示。两个结点 $x,y$ 联通，当且仅当 $x \\oplus y$ 为 $2$ 的整数幂。\n\n现需将若干棵含有 $n$ 条边的树 $T$ 放置于该超正方体中。结点分别用序号 $0,1,\\cdots,n$ 表示。给定每棵树的 $n$ 条边所连接的点的序号，则每一棵树需满足下列条件：\n\n- 每个树上的结点都与超正方体的其中一个结点一一对应\n- 每个结点互不相同\n- 每一棵树的每一条边所连接的两个结点在超正方体中所对应的两个结点在超正方体中有边相连（即对应的两个结点的异或值为 $2$ 的整数幂）\n- 每两棵树的边集在超正方体中所对应的边集不交，即超正方体中的每条边最多包含于一棵树中\n\n请给定一种放置方案，使得放在超正方体中的每一棵树都符合题意。", "inputFormat": "第一行一个正整数 $n$，表示超正方体的维数。\n\n接下来的 $n$ 行，每行两个整数 $x,y$，表示在每棵树 $T$ 中，有一条连接 $x,y$ 的边。", "outputFormat": "第一行输出放置的树的数目 $k$。\n\n接下来的 $k$ 行，每行输出 $n+1$ 个整数，表示这棵树的对应结点在超正方体中的结点编号。", "hint": "**【样例 3 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/58a0p43i.png)\n\n**【数据规模与约定】**\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 16$，$0 \\le x,y \\le n$，$x \\neq y$。\n\n**【提示与说明】**\n\n如果程序正确地放置了 $k$ 棵树，则每个测试点的得分为 $f(k) \\cdot 110$，其中：\n\n$$f(k)=\\begin{cases}\n\\dfrac{0.7k}{2^{n-1}} & (k \\lt 2^{n-1}) \\cr\n1 & (k=2^{n-1}) \\cr\n\\end{cases}$$\n\n若放置方式错误，则该测试点得分为 $0$。可以证明，总存在一种方式可以放置 $2^{n-1}$ 棵树。\n\n因评分方式特殊，本题启用自行编写的 [Special Judge](https://www.luogu.com.cn/discuss/738608)，欢迎大家 hack。\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 3 Hiperkocka_。**\n\n**本题在 COCI 原题中满分 $110$，但由于为了计算方便，将满分修改为 $26 \\times 5=130$。**", "locale": "zh-CN"}}}
{"pid": "P7967", "type": "P", "difficulty": 6, "samples": [["1 10\n10", "10"], ["4 4\n1 1 1 1", "24"], ["3 4\n1 2 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #2] Magneti", "background": "", "description": "给定 $n$ 个磁铁和 $l$ 个空位，其中相邻空位之间的距离为 $1$，每个空位可放置一个磁铁。所有 $n$ 个磁铁都必须被放置。每个磁铁可以吸引距离小于 $r_i$ 的其它磁铁。\n\n求所有磁铁互不吸引的方案总数对 $10^9+7$ 取模的结果。", "inputFormat": "第一行两个正整数 $n,l$，分别表示磁铁和空位数量。\n\n第二行 $n$ 个整数 $r_i$。", "outputFormat": "输出方案总数对 $10^9+7$ 取模的结果。", "hint": "**【样例 2 解释】** 四个磁铁的所有排列都符合题意。\n\n**【样例 3 解释】**\n\n用 $\\texttt{1,2,3}$ 表示磁铁，$\\texttt \\_$ 表示空位，则所有方案为：$\\texttt{13\\_2}$、$\\texttt{31\\_2}$、$\\texttt{2\\_13}$ 和 $\\texttt{2\\_31}$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$r_1=r_2=\\cdots=r_n$。\n- Subtask 2（20 pts）：$1 \\le n \\le 10$。\n- Subtask 3（30 pts）：$1 \\le n \\le 30$，$n \\le l \\le 300$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 50$，$n \\le l \\le 10000$，$1 \\le r_i \\le l$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 4 Magneti_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #2] Magneti", "background": "", "description": "给定 $n$ 个磁铁和 $l$ 个空位，其中相邻空位之间的距离为 $1$，每个空位可放置一个磁铁。所有 $n$ 个磁铁都必须被放置。每个磁铁可以吸引距离小于 $r_i$ 的其它磁铁。\n\n求所有磁铁互不吸引的方案总数对 $10^9+7$ 取模的结果。", "inputFormat": "第一行两个正整数 $n,l$，分别表示磁铁和空位数量。\n\n第二行 $n$ 个整数 $r_i$。", "outputFormat": "输出方案总数对 $10^9+7$ 取模的结果。", "hint": "**【样例 2 解释】** 四个磁铁的所有排列都符合题意。\n\n**【样例 3 解释】**\n\n用 $\\texttt{1,2,3}$ 表示磁铁，$\\texttt \\_$ 表示空位，则所有方案为：$\\texttt{13\\_2}$、$\\texttt{31\\_2}$、$\\texttt{2\\_13}$ 和 $\\texttt{2\\_31}$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$r_1=r_2=\\cdots=r_n$。\n- Subtask 2（20 pts）：$1 \\le n \\le 10$。\n- Subtask 3（30 pts）：$1 \\le n \\le 30$，$n \\le l \\le 300$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 50$，$n \\le l \\le 10000$，$1 \\le r_i \\le l$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 4 Magneti_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN"}}}
{"pid": "P7968", "type": "P", "difficulty": 6, "samples": [["2\n1 1\n1 1\n3\n1 1\n2 2\n1 2", "1\n1\n2"], ["3\n1 1\n2 2\n3 3\n3\n1 1\n2 3\n1 3", "1\n1\n1"], ["5\n1 3\n3 3\n4 6\n2 3\n1 1\n3\n1 4\n3 5\n1 5", "3\n1\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #2] Osumnjičeni", "background": "", "description": "现有 $n$ 个嫌疑人。由于其身高的不确定性，只知道每个嫌疑人的身高范围 $[l_i,r_i]$。\n\n每次调查可以选取编号范围为 $[a,b]$ 内的所有嫌疑人，要求他们的身高范围没有交集。若嫌疑人在某次调查中出现，则目击者可以立即作出正确的判断。\n\n给定 $q$ 组询问，每次给出 $p_i,q_i$。求在嫌疑人锁定在 $[p_i,q_i]$ 范围内的前提下，最多需要进行多少次调查。", "inputFormat": "第一行一个正整数 $n$，表示嫌疑人的数量。\n\n接下来的 $n$ 行，每行两个正整数 $l_i,r_i$，表示第 $i$ 个嫌疑人的身高范围。\n\n接下来的一行，一个正整数 $q$，表示询问组数。\n\n接下来的 $q$ 行，每行两个正整数 $p_i,q_i$，表示一组询问。", "outputFormat": "共 $q$ 行，表示每组询问的答案。", "hint": "**【样例 3 解释】**\n\n- 询问 $1,3$：在 $[1,1],[2,3],[4,5]$ 范围内进行调查即可，答案为 $3$。\n- 询问 $2$：调查 $[3,5]$ 即可，答案为 $1$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$q=p_1=1$，$q_1=n$。\n- Subtask 2（10 pts）：$1 \\le n,q \\le 5000$。\n- Subtask 3（20 pts）：$1 \\le n \\le 5000$。\n- Subtask 4（20 pts）：$1 \\le q \\le 100$。\n- Subtask 5（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 2 \\times 10^5$，$1 \\le a \\le b \\le n$，$1 \\le l_i \\le r_i \\le 10^9$，$1 \\le p_i \\le q_i \\le n$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 5 Osumnjičeni_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #2] Osumnjičeni", "background": "", "description": "现有 $n$ 个嫌疑人。由于其身高的不确定性，只知道每个嫌疑人的身高范围 $[l_i,r_i]$。\n\n每次调查可以选取编号范围为 $[a,b]$ 内的所有嫌疑人，要求他们的身高范围没有交集。若嫌疑人在某次调查中出现，则目击者可以立即作出正确的判断。\n\n给定 $q$ 组询问，每次给出 $p_i,q_i$。求在嫌疑人锁定在 $[p_i,q_i]$ 范围内的前提下，最多需要进行多少次调查。", "inputFormat": "第一行一个正整数 $n$，表示嫌疑人的数量。\n\n接下来的 $n$ 行，每行两个正整数 $l_i,r_i$，表示第 $i$ 个嫌疑人的身高范围。\n\n接下来的一行，一个正整数 $q$，表示询问组数。\n\n接下来的 $q$ 行，每行两个正整数 $p_i,q_i$，表示一组询问。", "outputFormat": "共 $q$ 行，表示每组询问的答案。", "hint": "**【样例 3 解释】**\n\n- 询问 $1,3$：在 $[1,1],[2,3],[4,5]$ 范围内进行调查即可，答案为 $3$。\n- 询问 $2$：调查 $[3,5]$ 即可，答案为 $1$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$q=p_1=1$，$q_1=n$。\n- Subtask 2（10 pts）：$1 \\le n,q \\le 5000$。\n- Subtask 3（20 pts）：$1 \\le n \\le 5000$。\n- Subtask 4（20 pts）：$1 \\le q \\le 100$。\n- Subtask 5（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 2 \\times 10^5$，$1 \\le a \\le b \\le n$，$1 \\le l_i \\le r_i \\le 10^9$，$1 \\le p_i \\le q_i \\le n$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #2](https://hsin.hr/coci/contest2_tasks.pdf) _Task 5 Osumnjičeni_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN"}}}
{"pid": "P7969", "type": "P", "difficulty": 5, "samples": [["5 4 1\n?????", "4"], ["5 2 2\nA????", "6"], ["5 3 4\nAAAAA", "0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2021", "前缀和"], "title": "[KSN2021] Self Defence", "background": "", "description": "定义一个字符串的权值为它长度为 $M$ 且只包含一种字符的子串数量。\n\n例如字符串 ``ABBB``，在 $M=2$ 时的权值为 $2$。\n\n给定一个长度为 $N$ 的字符串，每个字符为 ``?``，``A`` 和 ``B`` 中的一个，你需要求出将每个 ``?`` 替换为 ``A`` 或 ``B`` 后，可以得到多少个权值为 $K$ 的字符串。\n\n答案对 $10^9+7$ 取模。", "inputFormat": "第一行输入三个整数 $N,M,K$。\n\n第二行输入一个长度为 $N$ 的字符串 $S$。", "outputFormat": "输出一个整数代表答案。", "hint": "**【样例解释】**\n\n对于第一组样例，以下为所有合法字符串：\n\n```plain\nAAAAB\nABBBB\nBAAAA\nBBBBA\n```\n\n对于第二组样例，以下为所有合法字符串：\n\n```plain\nAAABA\nAABAA\nAABBA\nABAAA\nABBAA\nABBBA\n```\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n* Subtask 1（5 points）：只存在一组数据，满足 $N=10$，$M=3$，$K=5$，$S=\\texttt{????A???B?}$。\n* Subtask 2（9 points）：$N\\le 20$。\n* Subtask 3（11 points）：$N\\le 200$。\n* Subtask 4（6 points）：$M=2$，$K=0$。\n* Subtask 5（9 points）：$K=0$。\n* Subtask 6（8 points）：$K\\le 1$。\n* Subtask 7（27 points）：$S$ 只包含 ``?``.\n* Subtask 8（25 points）：无特殊限制。\n\n对于所有数据，$1\\leq N\\leq 3000$，$1\\leq M\\leq N$，$0\\leq K\\leq N$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[KSN2021] Self Defence", "background": "", "description": "定义一个字符串的权值为它长度为 $M$ 且只包含一种字符的子串数量。\n\n例如字符串 ``ABBB``，在 $M=2$ 时的权值为 $2$。\n\n给定一个长度为 $N$ 的字符串，每个字符为 ``?``，``A`` 和 ``B`` 中的一个，你需要求出将每个 ``?`` 替换为 ``A`` 或 ``B`` 后，可以得到多少个权值为 $K$ 的字符串。\n\n答案对 $10^9+7$ 取模。", "inputFormat": "第一行输入三个整数 $N,M,K$。\n\n第二行输入一个长度为 $N$ 的字符串 $S$。", "outputFormat": "输出一个整数代表答案。", "hint": "**【样例解释】**\n\n对于第一组样例，以下为所有合法字符串：\n\n```plain\nAAAAB\nABBBB\nBAAAA\nBBBBA\n```\n\n对于第二组样例，以下为所有合法字符串：\n\n```plain\nAAABA\nAABAA\nAABBA\nABAAA\nABBAA\nABBBA\n```\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n* Subtask 1（5 points）：只存在一组数据，满足 $N=10$，$M=3$，$K=5$，$S=\\texttt{????A???B?}$。\n* Subtask 2（9 points）：$N\\le 20$。\n* Subtask 3（11 points）：$N\\le 200$。\n* Subtask 4（6 points）：$M=2$，$K=0$。\n* Subtask 5（9 points）：$K=0$。\n* Subtask 6（8 points）：$K\\le 1$。\n* Subtask 7（27 points）：$S$ 只包含 ``?``.\n* Subtask 8（25 points）：无特殊限制。\n\n对于所有数据，$1\\leq N\\leq 3000$，$1\\leq M\\leq N$，$0\\leq K\\leq N$。", "locale": "zh-CN"}}}
{"pid": "P7970", "type": "P", "difficulty": 5, "samples": [["6 5 4\n0 0 3 2\n0 2 1 3\n0 1 2 4\n5 4 5 4", "1\n1\n2\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["递归", "2021", "数位 DP", "位运算"], "title": "[KSN2021] Binary Sea", "background": "", "description": "有一个 $N\\times M$ 的网格，行列从 $0$ 开始，从左上到右下编号。\n\n第 $i$ 行，第 $j$ 列的格子是黑格当且仅当 $i\\text{ and }j=0$。\n\n两个黑格联通当且仅当它们都是黑格且它们可以经过若干个有**邻边**的黑格到达。\n\n给定 $Q$ 个矩形，左上角为 $(x_1,y_1)$，右下角为 $(x_2,y_2)$，你需要对于每个矩形求出所有的黑格形成了多少连通块。", "inputFormat": "第一行输入三个整数 $N,M,Q$，代表网格大小和询问数量。\n\n接下来 $Q$ 行，每行输入四个整数 $x_1,y_1,x_2,y_2$，代表询问矩形。", "outputFormat": "对于每组数据输出一行，包含一个整数，代表答案。", "hint": "**【样例解释】**\n\n以下为样例中四个询问的图示：\n\n![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q1.png) ![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q2.png) ![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q3.png) ![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q4.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n* Subtask 1（5 points）：只存在一组数据，满足 $N = M=12$，$Q=3$，每次询问的 $(x_1,y_1,x_2,y_2)$ 依次为 $(1,1,9,8)$，$(8,8,11,11)$ 和 $(4,3,5,9)$。\n* Subtask 2（11 points）：$N,M,Q\\le 200$。\n* Subtask 3（10 points）：$N,M,Q\\le 2000$，$x_1=x_2$。\n* Subtask 4（20 points）：$N,M,Q\\le 2000$。\n* Subtask 5（4 points）：$x_1=x_2=0$。\n* Subtask 6（6 points）：保证对于每个询问存在整数 $k$ 使得 $x_1=x_2=2^k$。\n* Subtask 7（29 points）：$x_1=x_2$。\n* Subtask 8（15 points）：无特殊限制。\n\n对于所有数据，$0\\leq x_1\\leq x_2<N\\leq 10^9$，$0\\leq y_1\\leq y_2<M\\leq 10^9$，$1\\leq Q\\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[KSN2021] Binary Sea", "background": "", "description": "有一个 $N\\times M$ 的网格，行列从 $0$ 开始，从左上到右下编号。\n\n第 $i$ 行，第 $j$ 列的格子是黑格当且仅当 $i\\text{ and }j=0$。\n\n两个黑格联通当且仅当它们都是黑格且它们可以经过若干个有**邻边**的黑格到达。\n\n给定 $Q$ 个矩形，左上角为 $(x_1,y_1)$，右下角为 $(x_2,y_2)$，你需要对于每个矩形求出所有的黑格形成了多少连通块。", "inputFormat": "第一行输入三个整数 $N,M,Q$，代表网格大小和询问数量。\n\n接下来 $Q$ 行，每行输入四个整数 $x_1,y_1,x_2,y_2$，代表询问矩形。", "outputFormat": "对于每组数据输出一行，包含一个整数，代表答案。", "hint": "**【样例解释】**\n\n以下为样例中四个询问的图示：\n\n![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q1.png) ![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q2.png) ![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q3.png) ![](https://api.tlx.toki.id/api/v2/problems/JIDPROGSepzakraFyFK27n5u3QV/render/sample-q4.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n* Subtask 1（5 points）：只存在一组数据，满足 $N = M=12$，$Q=3$，每次询问的 $(x_1,y_1,x_2,y_2)$ 依次为 $(1,1,9,8)$，$(8,8,11,11)$ 和 $(4,3,5,9)$。\n* Subtask 2（11 points）：$N,M,Q\\le 200$。\n* Subtask 3（10 points）：$N,M,Q\\le 2000$，$x_1=x_2$。\n* Subtask 4（20 points）：$N,M,Q\\le 2000$。\n* Subtask 5（4 points）：$x_1=x_2=0$。\n* Subtask 6（6 points）：保证对于每个询问存在整数 $k$ 使得 $x_1=x_2=2^k$。\n* Subtask 7（29 points）：$x_1=x_2$。\n* Subtask 8（15 points）：无特殊限制。\n\n对于所有数据，$0\\leq x_1\\leq x_2<N\\leq 10^9$，$0\\leq y_1\\leq y_2<M\\leq 10^9$，$1\\leq Q\\leq 10^5$。", "locale": "zh-CN"}}}
