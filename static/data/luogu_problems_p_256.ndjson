{"pid": "P6178", "type": "P", "difficulty": 6, "samples": [["5 8 0\n2 3 1\n1 2 3\n4 5 1\n4 2 2\n3 5 2\n3 4 3\n3 4 1\n3 3 5\n", "144\n"], ["5 9 1\n1 2 3\n3 2 1\n1 3 1\n2 4 2\n3 5 1\n4 3 4\n3 5 1\n5 4 1\n4 4 6\n", "72\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["图论", "矩阵树定理", "生成树", "高斯消元", "模板题"], "title": "【模板】Matrix-Tree 定理", "background": "", "description": "给定一张 $n$ 个结点 $m$ 条边的带权图（可能为无向图，可能为有向图）。\n\n定义其一个生成树 $T$ 的权值为 $T$ 中所有边权的乘积。\n\n求其所有不同生成树的权值之和，对 $10^9+7$ 取模。\n\n---\n\n注意：\n\n1. 本题中，有向图的生成树指的是 **以 $1$ 为根的外向树**；\n\n2. 两棵生成树 $T_1,T_2$ 不同，当且仅当存在存在一条边 $e$，满足 $e\\in T_1,\\ \\ e\\notin T_2$。", "inputFormat": "第一行：三个整数 $n,m,t$，分别表示图的结点数量，边的数量和图的类型（$t=0$ 时为无向图，$t=1$ 时为有向图）。\n\n接下来 $m$ 行：每行三个整数 $u,v,w$。\n\n如果 $t=0$，表示 $u,v$ 之间有一条权值为 $w$ 的无向边；\n\n如果 $t=1$，表示从 $u$ 到 $v$ 有一条权值为 $w$ 的有向边。", "outputFormat": "第一行：一个整数 $ans$，表示给定的图的生成树权值和对 $10^9+7$ 取模的结果。", "hint": "【样例 $1$ 解释】\n\n样例 $1$ 中的无向图如左图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pxtx9z5a.png)\n\n右图为其一个权值为 $3\\times 1\\times 2\\times 3=18$ 的生成树的例子。\n\n---\n\n【样例 $2$ 解释】\n\n样例 $2$ 中的有向图如左图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4276yln3.png)\n\n右图为其一个权值为 $1\\times 1\\times 1\\times 2=2$ 的生成树（以 $1$ 为根的外向树）的例子。\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 300,\\ \\ 1\\leq m\\leq 10^5,\\ \\ t\\in \\{0,1\\},\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^9$。\n\n对于测试点 $1,2,3,4,5,6$，$t=0$；对于测试点 $7,8,9,10,11$，$t=1$。\n\n图中 **可能** 存在重边和自环，重边算作多条边。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】Matrix-Tree 定理", "background": "", "description": "给定一张 $n$ 个结点 $m$ 条边的带权图（可能为无向图，可能为有向图）。\n\n定义其一个生成树 $T$ 的权值为 $T$ 中所有边权的乘积。\n\n求其所有不同生成树的权值之和，对 $10^9+7$ 取模。\n\n---\n\n注意：\n\n1. 本题中，有向图的生成树指的是 **以 $1$ 为根的外向树**；\n\n2. 两棵生成树 $T_1,T_2$ 不同，当且仅当存在存在一条边 $e$，满足 $e\\in T_1,\\ \\ e\\notin T_2$。", "inputFormat": "第一行：三个整数 $n,m,t$，分别表示图的结点数量，边的数量和图的类型（$t=0$ 时为无向图，$t=1$ 时为有向图）。\n\n接下来 $m$ 行：每行三个整数 $u,v,w$。\n\n如果 $t=0$，表示 $u,v$ 之间有一条权值为 $w$ 的无向边；\n\n如果 $t=1$，表示从 $u$ 到 $v$ 有一条权值为 $w$ 的有向边。", "outputFormat": "第一行：一个整数 $ans$，表示给定的图的生成树权值和对 $10^9+7$ 取模的结果。", "hint": "【样例 $1$ 解释】\n\n样例 $1$ 中的无向图如左图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pxtx9z5a.png)\n\n右图为其一个权值为 $3\\times 1\\times 2\\times 3=18$ 的生成树的例子。\n\n---\n\n【样例 $2$ 解释】\n\n样例 $2$ 中的有向图如左图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4276yln3.png)\n\n右图为其一个权值为 $1\\times 1\\times 1\\times 2=2$ 的生成树（以 $1$ 为根的外向树）的例子。\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 300,\\ \\ 1\\leq m\\leq 10^5,\\ \\ t\\in \\{0,1\\},\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^9$。\n\n对于测试点 $1,2,3,4,5,6$，$t=0$；对于测试点 $7,8,9,10,11$，$t=1$。\n\n图中 **可能** 存在重边和自环，重边算作多条边。", "locale": "zh-CN"}}}
{"pid": "P6179", "type": "P", "difficulty": 3, "samples": [["3\n1\n6\n4", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["贪心", "2015", "USACO", "排序"], "title": "[USACO15DEC] High Card Wins S", "background": "", "description": "Bessie 是纸牌游戏的忠实粉丝。对她而言，其他奶牛都算不上对手。更糟糕的是，其他奶牛在打牌时的行为都是完全能预测的。尽管如此，Bessie 知道取胜仍然是个挑战。\n\nBessie 和她的朋友 Elsie 正在玩一种纸牌游戏。这个游戏里要用到一副 $2N$ 张牌的套牌，编号从 $1$ 到 $2N$。Bessie 和 Elsie 每个人各分得 $N$ 张卡片。接下来进行 $N$ 轮比赛，Bessie 和 Elsie 每轮各出一张牌。每一轮谁的牌编号更大，谁就赢得了本轮的胜利。\n\nBessie 已经预测了 Elsie 的出牌顺序，请帮助 Bessie 算出她最多能赢多少轮。", "inputFormat": "第一行一个整数 $N$（$1 \\leq N \\leq 5 \\times 10^4$）。\n\n接下来 $N$ 行，第 $i$ 行一个整数，表示 Elsie 第 $i$ 轮出的牌。注意 Bessie 手中的 $N$ 张牌很容易从输入中推出。", "outputFormat": "输出 Bessie 最多能赢多少轮。", "hint": "Bessie 手中拿着 $2,3,5$ 三张牌。\n\n它第一轮出 $2$，第二轮出 $3$，第三轮出 $5$，从而赢得一，三两轮。可以证明不存在更优的方案。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO15DEC] High Card Wins S", "background": "", "description": "Bessie 是纸牌游戏的忠实粉丝。对她而言，其他奶牛都算不上对手。更糟糕的是，其他奶牛在打牌时的行为都是完全能预测的。尽管如此，Bessie 知道取胜仍然是个挑战。\n\nBessie 和她的朋友 Elsie 正在玩一种纸牌游戏。这个游戏里要用到一副 $2N$ 张牌的套牌，编号从 $1$ 到 $2N$。Bessie 和 Elsie 每个人各分得 $N$ 张卡片。接下来进行 $N$ 轮比赛，Bessie 和 Elsie 每轮各出一张牌。每一轮谁的牌编号更大，谁就赢得了本轮的胜利。\n\nBessie 已经预测了 Elsie 的出牌顺序，请帮助 Bessie 算出她最多能赢多少轮。", "inputFormat": "第一行一个整数 $N$（$1 \\leq N \\leq 5 \\times 10^4$）。\n\n接下来 $N$ 行，第 $i$ 行一个整数，表示 Elsie 第 $i$ 轮出的牌。注意 Bessie 手中的 $N$ 张牌很容易从输入中推出。", "outputFormat": "输出 Bessie 最多能赢多少轮。", "hint": "Bessie 手中拿着 $2,3,5$ 三张牌。\n\n它第一轮出 $2$，第二轮出 $3$，第三轮出 $5$，从而赢得一，三两轮。可以证明不存在更优的方案。", "locale": "zh-CN"}}}
{"pid": "P6180", "type": "P", "difficulty": 2, "samples": [["6 3\n2\n1\n1\n3\n2\n1\n1 6\n3 3\n2 4", "3 2 1\n1 0 0\n2 0 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2015", "USACO", "前缀和"], "title": "[USACO15DEC] Breed Counting S", "background": "", "description": "Farmer John 的 $N$ 头奶牛，从左到右编号为 $1 \\ldots N$，排成一队。\n\n所有牛都可以分为三个品种，每头牛都有一个品种编号（只能为 $1,2,3$ 中的一个）。FJ 有 $Q$ 个询问，每个询问希望求出某个区间内每个品种奶牛的数量。", "inputFormat": "第一行两个整数 $N,Q$（$1 \\leq N,Q \\leq 10^5$）。\n\n接下来 $N$ 行，每行一个整数，第 $i$ 个整数代表第 $i$ 头奶牛的品种编号。\n\n接下来 $Q$ 行，每行两个整数 $a,b$，表示第 $i$ 次查询的范围是 $[a,b]$。", "outputFormat": "对于每个查询，输出三个整数，分别是指定区间内品种 $1$ 的奶牛数量，品种 $2$ 的奶牛数量，品种 $3$ 的奶牛数量。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO15DEC] Breed Counting S", "background": "", "description": "Farmer John 的 $N$ 头奶牛，从左到右编号为 $1 \\ldots N$，排成一队。\n\n所有牛都可以分为三个品种，每头牛都有一个品种编号（只能为 $1,2,3$ 中的一个）。FJ 有 $Q$ 个询问，每个询问希望求出某个区间内每个品种奶牛的数量。", "inputFormat": "第一行两个整数 $N,Q$（$1 \\leq N,Q \\leq 10^5$）。\n\n接下来 $N$ 行，每行一个整数，第 $i$ 个整数代表第 $i$ 头奶牛的品种编号。\n\n接下来 $Q$ 行，每行两个整数 $a,b$，表示第 $i$ 次查询的范围是 $[a,b]$。", "outputFormat": "对于每个查询，输出三个整数，分别是指定区间内品种 $1$ 的奶牛数量，品种 $2$ 的奶牛数量，品种 $3$ 的奶牛数量。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P6181", "type": "P", "difficulty": 2, "samples": [["7\n3\n2\n3\n5\n4\n1\n6", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2010", "USACO", "枚举"], "title": "[USACO10OPEN] 山峰暸望 Mountain Watching S", "background": null, "description": "一天，Bessie 望着远处的山脉，在思考：“哪一座山最宽呢？”\n\nBessie 设法测量了 $N$ 个位置的高度 $h_i$（$1 \\leq N \\leq 10^5$，$1 \\leq h_i \\leq 10^9$）。一座山被定义为一个高度先不下降，后不上升的子序列。视野边缘的山脉也只会增加或减少高度。一座山的宽度被定义为这座山包含的位置数量。\n\n下面是一个例子：\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\n每座山都已经用字母标出来了。这里 `b` 山脉的宽度最大，为 $28$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $h_i$。", "outputFormat": "输出最宽的山的宽度。", "hint": "**【样例说明】**\n\n在最宽的山处测量到的高度为 $2, 3, 5, 4, 1$。其他的山包括 $3, 2$ 和 $1, 6$。\n\n---\n\n**【提示】**\n\n如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO10OPEN] 山峰暸望 Mountain Watching S", "background": null, "description": "一天，Bessie 望着远处的山脉，在思考：“哪一座山最宽呢？”\n\nBessie 设法测量了 $N$ 个位置的高度 $h_i$（$1 \\leq N \\leq 10^5$，$1 \\leq h_i \\leq 10^9$）。一座山被定义为一个高度先不下降，后不上升的子序列。视野边缘的山脉也只会增加或减少高度。一座山的宽度被定义为这座山包含的位置数量。\n\n下面是一个例子：\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\n每座山都已经用字母标出来了。这里 `b` 山脉的宽度最大，为 $28$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $h_i$。", "outputFormat": "输出最宽的山的宽度。", "hint": "**【样例说明】**\n\n在最宽的山处测量到的高度为 $2, 3, 5, 4, 1$。其他的山包括 $3, 2$ 和 $1, 6$。\n\n---\n\n**【提示】**\n\n如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。", "locale": "zh-CN"}}}
{"pid": "P6182", "type": "P", "difficulty": 4, "samples": [["12\na 5\na 3\na 7\ns\nt 2\na 2\nt 4\na 4\ns\nt 7\ns\ns", "5\n3\n7\n3\n5\n2\n7\n4\n7\n2\n5\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "USACO", "可持久化", "栈"], "title": "[USACO10OPEN] Time Travel S", "background": "", "description": "Farmer John 买了台时光机，这使得他可以方便地管理自己的奶牛群。\n\n他现在有 $N$ 个操作（$1 \\leq N \\leq 8 \\times 10^4$），每次操作仅可能是如下三种之一：\n\n1. `a x`：添加一头编号为 $x$ 的奶牛（$1 \\leq x \\leq 10^6$）。\n2. `s`：卖掉最近添加的奶牛（保证此时至少有一头奶牛）。\n3. `t x`：回到**第 $x$ 次操作前**的状态（保证第 $x$ 次操作存在）。\n\n你需要在 FJ 执行每次操作后输出他拥有的最新的奶牛的编号。特别地，如果没有奶牛，输出 $-1$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行描述一次操作。", "outputFormat": "第 $i$ 行输出第 $i$ 次操作后 FJ 拥有的最新的奶牛的编号。特别地，如果没有奶牛，输出 $-1$。", "hint": "下面是样例解释，其中拥有的奶牛已经按添加顺序排好。\n\n| 操作编号 | 操作  | 拥有的奶牛 | 输出 |\n| -------- | ----- | ---------- | ---- |\n| 1        | `a 5` | 5          | 5    |\n| 2        | `a 3` | 5,3        | 3    |\n| 3        | `a 7` | 5,3,7      | 7    |\n| 4        | `s`   | 5,3        | 3    |\n| 5        | `t 2` | 5          | 5    |\n| 6        | `a 2` | 5,2        | 2    |\n| 7        | `t 4` | 5,3,7      | 7    |\n| 8        | `a 4` | 5,3,7,4    | 4    |\n| 9        | `s`   | 5,3,7      | 7    |\n| 10       | `t 7` | 5,2        | 2    |\n| 11       | `s`   | 5          | 5    |\n| 12       | `s`   | /          | -1   |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO10OPEN] Time Travel S", "background": "", "description": "Farmer John 买了台时光机，这使得他可以方便地管理自己的奶牛群。\n\n他现在有 $N$ 个操作（$1 \\leq N \\leq 8 \\times 10^4$），每次操作仅可能是如下三种之一：\n\n1. `a x`：添加一头编号为 $x$ 的奶牛（$1 \\leq x \\leq 10^6$）。\n2. `s`：卖掉最近添加的奶牛（保证此时至少有一头奶牛）。\n3. `t x`：回到**第 $x$ 次操作前**的状态（保证第 $x$ 次操作存在）。\n\n你需要在 FJ 执行每次操作后输出他拥有的最新的奶牛的编号。特别地，如果没有奶牛，输出 $-1$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行描述一次操作。", "outputFormat": "第 $i$ 行输出第 $i$ 次操作后 FJ 拥有的最新的奶牛的编号。特别地，如果没有奶牛，输出 $-1$。", "hint": "下面是样例解释，其中拥有的奶牛已经按添加顺序排好。\n\n| 操作编号 | 操作  | 拥有的奶牛 | 输出 |\n| -------- | ----- | ---------- | ---- |\n| 1        | `a 5` | 5          | 5    |\n| 2        | `a 3` | 5,3        | 3    |\n| 3        | `a 7` | 5,3,7      | 7    |\n| 4        | `s`   | 5,3        | 3    |\n| 5        | `t 2` | 5          | 5    |\n| 6        | `a 2` | 5,2        | 2    |\n| 7        | `t 4` | 5,3,7      | 7    |\n| 8        | `a 4` | 5,3,7,4    | 4    |\n| 9        | `s`   | 5,3,7      | 7    |\n| 10       | `t 7` | 5,2        | 2    |\n| 11       | `s`   | 5          | 5    |\n| 12       | `s`   | /          | -1   |", "locale": "zh-CN"}}}
{"pid": "P6183", "type": "P", "difficulty": 2, "samples": [["3", "OOO\nOXO\nOXX\nOOX\nXOX\nXXX\nXXO\nXOO\nOOO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "USACO", "Special Judge", "深度优先搜索 DFS"], "title": "[USACO10MAR] The Rock Game S", "background": "", "description": "在奶牛回家休息和娱乐之前，Farmer John 希望它们通过玩游戏获得一些智力上的刺激。\n\n游戏板由 $n$ 个相同的洞组成，这些洞最初**都是空的**。一头母牛要么用石头盖住一个空的洞，要么揭开一个先前被盖住的洞。**游戏状态**的定义是所有洞是否被石头覆盖的情况。\n\n游戏的目标是让奶牛到达**每个可能的游戏状态**一次，最后回到初始状态。\n\n以下是他们其中一次游戏的示例（空的洞用 `O` 表示，用石头盖住的洞用 `X` 表示）：\n\n| 时刻 | 洞 1 | 洞 2 | 洞 3 | 描述 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | O | O | O | 一开始所有的洞都是空的 |\n| $1$ | O | O | X | 盖上洞 3 |\n| $2$ | X | O | X | 盖上洞 1 |\n| $3$ | X | O | O | 打开洞 3 |\n| $4$ | X | X | O | 盖上洞 2 |\n| $5$ | O | X | O | 打开洞 1 |\n| $6$ | O | X | X | 盖上洞 3 |\n| $7$ | X | X | X | 盖上洞 1 |\n\n现在牛被卡住玩不下去了！他们必须打开一个洞，然而不管他们打开哪个洞，他们都会到达一个他们已经到达过的状态。例如，如果他们从第二个洞中取出岩石，他们将到达他们在时刻 $2$ 已经访问过的状态（`X O X`）。\n\n下面是一个 3 个孔的有效解决方案：\n\n| 时间 | 洞 1 | 洞 2 | 洞 3 | 描述 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | O | O | O | 一开始所有的洞都是空的 |\n| $1$ | O | X | O | 盖上洞 2 |\n| $2$ | O | X | X | 盖上洞 3 |\n| $3$ | O | O | X | 打开洞 2 |\n| $4$ | X | O | X | 盖上洞 1 |\n| $5$ | X | X | X | 盖上洞 2 |\n| $6$ | X | X | O | 打开洞 3 |\n| $7$ | X | O | O | 打开洞 2 |\n| $8$ | O | O | O | 打开洞 1，恢复到原来的状态 |\n\n现在，奶牛们厌倦了这个游戏，它们想找你帮忙。\n\n给定 $n$，求游戏的有效解决方案序列。如果有多个解决方案，则输出**任意一个**。", "inputFormat": "仅一行，一个整数 $n$。", "outputFormat": "共 $2^n+1$ 行，每行一个长度为 $n$ 的字符串，其中只包含字符 `O` 和 `X`，该行中的第 $i$ 个字符表示第 $i$ 个孔在此状态下是被覆盖还是未覆盖，第一行和最后一行必须全部都是 `O`。", "hint": "#### 样例 1 说明\n\n见题目描述。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le15$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO10MAR] The Rock Game S", "background": "", "description": "在奶牛回家休息和娱乐之前，Farmer John 希望它们通过玩游戏获得一些智力上的刺激。\n\n游戏板由 $n$ 个相同的洞组成，这些洞最初**都是空的**。一头母牛要么用石头盖住一个空的洞，要么揭开一个先前被盖住的洞。**游戏状态**的定义是所有洞是否被石头覆盖的情况。\n\n游戏的目标是让奶牛到达**每个可能的游戏状态**一次，最后回到初始状态。\n\n以下是他们其中一次游戏的示例（空的洞用 `O` 表示，用石头盖住的洞用 `X` 表示）：\n\n| 时刻 | 洞 1 | 洞 2 | 洞 3 | 描述 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | O | O | O | 一开始所有的洞都是空的 |\n| $1$ | O | O | X | 盖上洞 3 |\n| $2$ | X | O | X | 盖上洞 1 |\n| $3$ | X | O | O | 打开洞 3 |\n| $4$ | X | X | O | 盖上洞 2 |\n| $5$ | O | X | O | 打开洞 1 |\n| $6$ | O | X | X | 盖上洞 3 |\n| $7$ | X | X | X | 盖上洞 1 |\n\n现在牛被卡住玩不下去了！他们必须打开一个洞，然而不管他们打开哪个洞，他们都会到达一个他们已经到达过的状态。例如，如果他们从第二个洞中取出岩石，他们将到达他们在时刻 $2$ 已经访问过的状态（`X O X`）。\n\n下面是一个 3 个孔的有效解决方案：\n\n| 时间 | 洞 1 | 洞 2 | 洞 3 | 描述 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | O | O | O | 一开始所有的洞都是空的 |\n| $1$ | O | X | O | 盖上洞 2 |\n| $2$ | O | X | X | 盖上洞 3 |\n| $3$ | O | O | X | 打开洞 2 |\n| $4$ | X | O | X | 盖上洞 1 |\n| $5$ | X | X | X | 盖上洞 2 |\n| $6$ | X | X | O | 打开洞 3 |\n| $7$ | X | O | O | 打开洞 2 |\n| $8$ | O | O | O | 打开洞 1，恢复到原来的状态 |\n\n现在，奶牛们厌倦了这个游戏，它们想找你帮忙。\n\n给定 $n$，求游戏的有效解决方案序列。如果有多个解决方案，则输出**任意一个**。", "inputFormat": "仅一行，一个整数 $n$。", "outputFormat": "共 $2^n+1$ 行，每行一个长度为 $n$ 的字符串，其中只包含字符 `O` 和 `X`，该行中的第 $i$ 个字符表示第 $i$ 个孔在此状态下是被覆盖还是未覆盖，第一行和最后一行必须全部都是 `O`。", "hint": "#### 样例 1 说明\n\n见题目描述。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le15$。", "locale": "zh-CN"}}}
{"pid": "P6184", "type": "P", "difficulty": 2, "samples": [["6", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "USACO"], "title": "[USACO08OCT] Building A Fence G", "background": "勤奋的 Farmer John 想要建造一个由四面围成的栅栏来关住那些奶牛。他现在有一块长度为$N$（$4 \\leq N \\leq 2,500$）的长木板，他需要把这块长木板切成边长均为正整数的四块，使得他能建造一个栅栏。 ", "description": "请问他有多少种不同的切割方式能使切割出来的木板围成一个四面的栅栏。 \n\n注意： \n\n1. 不要考虑对称性的问题，不需要去除对称的方案和类似的复杂问题；\n2. 栅栏围成的面积必须大于 0；\n3. 结果可以用 32 位整数存储。", "inputFormat": "一个整数 $N$。", "outputFormat": "Farmer John 能将木板分割开来并能围成四边形的方案数。", "hint": "Farmer John 有 10 种方法将木板分成四块：\n- (1, 1, 1 ,3);\n- (1, 1, 2, 2); \n- (1, 1, 3, 1); \n- (1, 2, 1, 2); \n- (1, 2, 2, 1); \n- (1, 3, 1, 1); \n- (2, 1, 1, 2); \n- (2, 1, 2, 1); \n- (2, 2, 1, 1);\n- (3, 1, 1, 1)。\n\n其中有四种情况是不能围成一个四边形的：\n- (1, 1, 1, 3),\n- (1, 1, 3, 1),\n- (1, 3, 1, 1),\n- (3, 1, 1, 1)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO08OCT] Building A Fence G", "background": "勤奋的 Farmer John 想要建造一个由四面围成的栅栏来关住那些奶牛。他现在有一块长度为$N$（$4 \\leq N \\leq 2,500$）的长木板，他需要把这块长木板切成边长均为正整数的四块，使得他能建造一个栅栏。 ", "description": "请问他有多少种不同的切割方式能使切割出来的木板围成一个四面的栅栏。 \n\n注意： \n\n1. 不要考虑对称性的问题，不需要去除对称的方案和类似的复杂问题；\n2. 栅栏围成的面积必须大于 0；\n3. 结果可以用 32 位整数存储。", "inputFormat": "一个整数 $N$。", "outputFormat": "Farmer John 能将木板分割开来并能围成四边形的方案数。", "hint": "Farmer John 有 10 种方法将木板分成四块：\n- (1, 1, 1 ,3);\n- (1, 1, 2, 2); \n- (1, 1, 3, 1); \n- (1, 2, 1, 2); \n- (1, 2, 2, 1); \n- (1, 3, 1, 1); \n- (2, 1, 1, 2); \n- (2, 1, 2, 1); \n- (2, 2, 1, 1);\n- (3, 1, 1, 1)。\n\n其中有四种情况是不能围成一个四边形的：\n- (1, 1, 1, 3),\n- (1, 1, 3, 1),\n- (1, 3, 1, 1),\n- (3, 1, 1, 1)。", "locale": "zh-CN"}}}
{"pid": "P6185", "type": "P", "difficulty": 5, "samples": [["3\n1 1\n1\n3\n1 1 1\n2 3\n1 2\n4 5\n1 1 2\n2 1 2\n1 1 2\n3 3\n1 2 3\n5 5 4\n1 1 2\n1 1 3\n2 2 3", "YES\nYES\nYES"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "并查集", "二分图", "NOI Online"], "title": "[NOI Online #1 提高组] 序列", "background": "## 由于本题数据较难构造，所以无法保证卡掉所有错误做法。\n\n", "description": "小 D 有一个长度为 $n$ 的整数序列 $a_{1 \\dots n}$，她想通过若干次操作把它变成序列 $b_i$。\n\n小 D 有 $m$ 种可选的操作，第 $i$ 种操作可使用三元组 $(t_i,u_i,v_i)$ 描述：若 $t_i=1$，则她可以使 $a_{u_i}$ 与 $a_{v_i}$ 都加一或都减一；若 $t_i=2$，则她可以使 $a_{u_i}$ 减一、$a_{v_i}$ 加一，或是 $a_{u_i}$ 加一、$a_{v_i}$ 减一，因此当 $u_i=v_i$ 时，这种操作相当于没有操作。\n\n小 D 可以以任意顺序执行操作，且每种操作都可进行无限次。现在给定序列与所有操作，请你帮她判断是否存在一种方案能将 $a_i$ 变为 $b_i$。题目保证两个序列长度都为 $n$。若方案存在请输出 `YES`，否则输出 `NO`。", "inputFormat": "本题输入文件包含多组数据。\n\n第一行一个正整数 $T$ 表示数据组数。对于每组数据：\n\n第一行两个整数 $n,m$，表示序列长度与操作种数。\n\n第二行 $n$ 个整数表示序列 $a_i$。\n\n第三行 $n$ 个整数表示序列 $b_i$。\n\n接下来 $m$ 行每行三个整数 $t_i,u_i,v_i$，第 $i$ 行描述操作 $i$。\n\n注意：同一个三元组 $(t_i,u_i,v_i)$ 可能在输入中出现多次。", "outputFormat": "对于每组数据输出一行一个字符串 `YES` 或 `NO` 表示答案。", "hint": "#### 样例 1 解释\n\n第一组数据：使用一次操作 $1$。  \n第二组数据：使用三次操作 $1$。  \n第三组数据：使用三次操作 $1$，令 $a_1,a_2$ 都增加 $3$，再使用一次操作 $2$，令 $a_1,a_3$ 都增加 $1$。\n\n---\n\n#### 数据范围与提示\n\n对于测试点 $1 \\sim 5$：$n=2$，$m=1$，$a_i,b_i \\le 99$，$u_1 \\ne v_1$，$t_1=1$。  \n对于测试点 $6 \\sim 10$：$n=2$，$m=1$，$a_i,b_i \\le 99$，$u_1 \\ne v_1$，$t_1=2$。  \n对于测试点 $11 \\sim 12$：$n=2$，$a_i,b_i \\le 99$，$u_i \\ne v_i$。  \n对于测试点 $13 \\sim 16$：$t_i=2$。  \n对于测试点 $17$：$n,m \\le 20$。  \n对于测试点 $18$：$n,m \\le 10^3$。  \n对于所有测试点：$1 \\le T \\le 10$，$1 \\le n,m \\le 10^5$，$1 \\le a_i,b_i \\le 10^9$，$t_i \\in \\{1,2\\}$，$1\\le u_i,v_i \\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #1 提高组] 序列", "background": "## 由于本题数据较难构造，所以无法保证卡掉所有错误做法。\n\n", "description": "小 D 有一个长度为 $n$ 的整数序列 $a_{1 \\dots n}$，她想通过若干次操作把它变成序列 $b_i$。\n\n小 D 有 $m$ 种可选的操作，第 $i$ 种操作可使用三元组 $(t_i,u_i,v_i)$ 描述：若 $t_i=1$，则她可以使 $a_{u_i}$ 与 $a_{v_i}$ 都加一或都减一；若 $t_i=2$，则她可以使 $a_{u_i}$ 减一、$a_{v_i}$ 加一，或是 $a_{u_i}$ 加一、$a_{v_i}$ 减一，因此当 $u_i=v_i$ 时，这种操作相当于没有操作。\n\n小 D 可以以任意顺序执行操作，且每种操作都可进行无限次。现在给定序列与所有操作，请你帮她判断是否存在一种方案能将 $a_i$ 变为 $b_i$。题目保证两个序列长度都为 $n$。若方案存在请输出 `YES`，否则输出 `NO`。", "inputFormat": "本题输入文件包含多组数据。\n\n第一行一个正整数 $T$ 表示数据组数。对于每组数据：\n\n第一行两个整数 $n,m$，表示序列长度与操作种数。\n\n第二行 $n$ 个整数表示序列 $a_i$。\n\n第三行 $n$ 个整数表示序列 $b_i$。\n\n接下来 $m$ 行每行三个整数 $t_i,u_i,v_i$，第 $i$ 行描述操作 $i$。\n\n注意：同一个三元组 $(t_i,u_i,v_i)$ 可能在输入中出现多次。", "outputFormat": "对于每组数据输出一行一个字符串 `YES` 或 `NO` 表示答案。", "hint": "#### 样例 1 解释\n\n第一组数据：使用一次操作 $1$。  \n第二组数据：使用三次操作 $1$。  \n第三组数据：使用三次操作 $1$，令 $a_1,a_2$ 都增加 $3$，再使用一次操作 $2$，令 $a_1,a_3$ 都增加 $1$。\n\n---\n\n#### 数据范围与提示\n\n对于测试点 $1 \\sim 5$：$n=2$，$m=1$，$a_i,b_i \\le 99$，$u_1 \\ne v_1$，$t_1=1$。  \n对于测试点 $6 \\sim 10$：$n=2$，$m=1$，$a_i,b_i \\le 99$，$u_1 \\ne v_1$，$t_1=2$。  \n对于测试点 $11 \\sim 12$：$n=2$，$a_i,b_i \\le 99$，$u_i \\ne v_i$。  \n对于测试点 $13 \\sim 16$：$t_i=2$。  \n对于测试点 $17$：$n,m \\le 20$。  \n对于测试点 $18$：$n,m \\le 10^3$。  \n对于所有测试点：$1 \\le T \\le 10$，$1 \\le n,m \\le 10^5$，$1 \\le a_i,b_i \\le 10^9$，$t_i \\in \\{1,2\\}$，$1\\le u_i,v_i \\le n$。", "locale": "zh-CN"}}}
{"pid": "P6186", "type": "P", "difficulty": 5, "samples": [["3 6\n1 2 3\n2 0\n1 1\n1 2\n2 0\n2 1\n2 2", "0\n2\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "线段树", "树状数组", "NOI Online"], "title": "[NOI Online #1 提高组] 冒泡排序", "background": "", "description": "给定一个 $1 ∼ n$ 的排列 $p_i$，接下来有 $m$ 次操作，操作共两种：\n1. 交换操作：给定 $x$，将当前排列中的第 $x$ 个数与第 $x+1$ 个数交换位置。\n2. 询问操作：给定 $k$，请你求出当前排列经过 $k$ 轮冒泡排序后的逆序对个数。\n对一个长度为 $n$ 的排列 $p_i$ 进行一轮冒泡排序的伪代码如下：\n```\nfor i = 1 to n-1:\n  if p[i] > p[i + 1]:\n    swap(p[i], p[i + 1])\n```", "inputFormat": "第一行两个整数 $n$，$m$，表示排列长度与操作个数。\n\n第二行 $n$ 个整数表示排列 $p_i$。\n\n接下来 $m$ 行每行两个整数 $t_i$，$c_i$，描述一次操作：\n- 若 $t_i=1$，则本次操作是交换操作，$x=c_i$；\n- 若 $t_i=2$，则本次操作是询问操作，$k=c_i$。", "outputFormat": "对于每次询问操作输出一行一个整数表示答案。", "hint": "#### 样例一解释\n第一次操作：排列为 $\\{1,2,3\\}$，经过 0 轮冒泡排序后为 $\\{1,2,3\\}$，$0$ 个逆序对。\n\n第二次操作：排列变为 $\\{2,1,3\\}$。\n\n第三次操作：排列变为 $\\{2,3,1\\}$。\n\n第四次操作：经过 $0$ 轮冒泡排序后排列变为 $\\{2,3,1\\}$，$2$ 个逆序对。\n\n第五次操作：经过 $1$ 轮冒泡排序后排列变为 $\\{2,1,3\\}$，$1$ 个逆序对。\n\n第六次操作：经过 $2$ 轮冒泡排序后排列变为 $\\{1,2,3\\}$，$0$ 个逆序对。\n\n---\n\n#### 数据范围与提示\n对于测试点 1 ∼ 2：$n,m \\leq 100$。\n\n对于测试点 3 ∼ 4：$n,m \\leq 2000$。\n\n对于测试点 5 ∼ 6：交换操作个数不超过 $100$。\n\n对于所有测试点：$2 \\leq n,m \\leq 2 \\times 10^5$，$t_i \\in \\{1,2\\}$，$1 \\leq x < n$，$0 \\leq k < 2^{31}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #1 提高组] 冒泡排序", "background": "", "description": "给定一个 $1 ∼ n$ 的排列 $p_i$，接下来有 $m$ 次操作，操作共两种：\n1. 交换操作：给定 $x$，将当前排列中的第 $x$ 个数与第 $x+1$ 个数交换位置。\n2. 询问操作：给定 $k$，请你求出当前排列经过 $k$ 轮冒泡排序后的逆序对个数。\n对一个长度为 $n$ 的排列 $p_i$ 进行一轮冒泡排序的伪代码如下：\n```\nfor i = 1 to n-1:\n  if p[i] > p[i + 1]:\n    swap(p[i], p[i + 1])\n```", "inputFormat": "第一行两个整数 $n$，$m$，表示排列长度与操作个数。\n\n第二行 $n$ 个整数表示排列 $p_i$。\n\n接下来 $m$ 行每行两个整数 $t_i$，$c_i$，描述一次操作：\n- 若 $t_i=1$，则本次操作是交换操作，$x=c_i$；\n- 若 $t_i=2$，则本次操作是询问操作，$k=c_i$。", "outputFormat": "对于每次询问操作输出一行一个整数表示答案。", "hint": "#### 样例一解释\n第一次操作：排列为 $\\{1,2,3\\}$，经过 0 轮冒泡排序后为 $\\{1,2,3\\}$，$0$ 个逆序对。\n\n第二次操作：排列变为 $\\{2,1,3\\}$。\n\n第三次操作：排列变为 $\\{2,3,1\\}$。\n\n第四次操作：经过 $0$ 轮冒泡排序后排列变为 $\\{2,3,1\\}$，$2$ 个逆序对。\n\n第五次操作：经过 $1$ 轮冒泡排序后排列变为 $\\{2,1,3\\}$，$1$ 个逆序对。\n\n第六次操作：经过 $2$ 轮冒泡排序后排列变为 $\\{1,2,3\\}$，$0$ 个逆序对。\n\n---\n\n#### 数据范围与提示\n对于测试点 1 ∼ 2：$n,m \\leq 100$。\n\n对于测试点 3 ∼ 4：$n,m \\leq 2000$。\n\n对于测试点 5 ∼ 6：交换操作个数不超过 $100$。\n\n对于所有测试点：$2 \\leq n,m \\leq 2 \\times 10^5$，$t_i \\in \\{1,2\\}$，$1 \\leq x < n$，$0 \\leq k < 2^{31}$。", "locale": "zh-CN"}}}
{"pid": "P6187", "type": "P", "difficulty": 5, "samples": [["6 4\n1 2 3 4 5 6\n0\n1\n2\n3", "91\n82\n85\n88"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["贪心", "2020", "NOI Online"], "title": "[NOI Online #1 提高组] 最小环", "background": "", "description": "给定一个长度为 $n$ 的正整数序列 $a_i$，下标从 $1$ 开始编号。我们将该序列视为一个首尾相邻的环，更具体地，对于下标为 $i$, $j(i \\leqslant j)$ 的两个数 $a_i$, $a_j$，它们的距离为 $\\min(j-i, i+n-j)$。\n\n现在再给定 $m$ 个整数 $k_1$, $k_2$,..., $k_m$，对每个 $k_i(i=1$, $2$,..., $m)$，你需要将上面的序列 $a_i$ 重新排列，使得环上任意两个距离为 $k_i$ 的数字的乘积之和最大。", "inputFormat": "第一行两个正整数 $n$, $m$，表示序列长度与询问数。\n\n接下来一行 $n$ 个正整数表示 $a_i$。\n\n接下来 $m$ 行每行一个非负整数表示 $k_i$。\n", "outputFormat": "共 $m$ 行，每行一个整数表示答案。", "hint": "#### 输入输出样例 1 解释\n- $k=0$ 时：答案为每个数平方的和。\n- $k=1$ 时：一种最优方案：$\\{3,1,2,4,6,5\\}$。答案为 $3 \\times 1 + 1 \\times 2 + 2 \\times 4 + 4 \\times 6 + 6 \\times 5 + 5 \\times 3 = 82$。\n- $k=2$ 时：一种最优方案：$\\{3,6,1,4,2,5\\}$。答案为 $3 \\times 1 + 1 \\times 2 + 2 \\times 3 + 6 \\times 4 + 4 \\times 5 + 5 \\times 6 = 85$。\n- $k=3$ 时，一个合法的排列是 $1,5,3,2,6,4$ ，答案为 $88$。注意这里答案不是 $44$。\n\n---\n\n#### 数据范围与提示\n对于所有测试数据：$1 \\leqslant m \\leqslant n \\leqslant 2 \\times 10^5$，$0 \\leqslant k \\leqslant \\lfloor n/2\\rfloor$，$1 \\leqslant a_i \\leqslant 10^5$。\n\n| 测试点编号 | $n \\leqslant$ | 特殊性质|\n| :--- | :--- | :--- |\n| 1 | $10$ | 无 |\n| 2 | $18$ | 无 |\n| 3 | $36$ | $n$ 为偶数且 $m=1$，$k=2$ |\n| 4,5 | $1000$ | $m \\leqslant 10$，$k=1$ |\n| 6 | $50$ | $m \\leqslant 10$，$k \\leqslant 2$ |\n| 7,8 | $3000$ | 无 |\n| 9,10 | $2 \\times 10^5$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #1 提高组] 最小环", "background": "", "description": "给定一个长度为 $n$ 的正整数序列 $a_i$，下标从 $1$ 开始编号。我们将该序列视为一个首尾相邻的环，更具体地，对于下标为 $i$, $j(i \\leqslant j)$ 的两个数 $a_i$, $a_j$，它们的距离为 $\\min(j-i, i+n-j)$。\n\n现在再给定 $m$ 个整数 $k_1$, $k_2$,..., $k_m$，对每个 $k_i(i=1$, $2$,..., $m)$，你需要将上面的序列 $a_i$ 重新排列，使得环上任意两个距离为 $k_i$ 的数字的乘积之和最大。", "inputFormat": "第一行两个正整数 $n$, $m$，表示序列长度与询问数。\n\n接下来一行 $n$ 个正整数表示 $a_i$。\n\n接下来 $m$ 行每行一个非负整数表示 $k_i$。\n", "outputFormat": "共 $m$ 行，每行一个整数表示答案。", "hint": "#### 输入输出样例 1 解释\n- $k=0$ 时：答案为每个数平方的和。\n- $k=1$ 时：一种最优方案：$\\{3,1,2,4,6,5\\}$。答案为 $3 \\times 1 + 1 \\times 2 + 2 \\times 4 + 4 \\times 6 + 6 \\times 5 + 5 \\times 3 = 82$。\n- $k=2$ 时：一种最优方案：$\\{3,6,1,4,2,5\\}$。答案为 $3 \\times 1 + 1 \\times 2 + 2 \\times 3 + 6 \\times 4 + 4 \\times 5 + 5 \\times 6 = 85$。\n- $k=3$ 时，一个合法的排列是 $1,5,3,2,6,4$ ，答案为 $88$。注意这里答案不是 $44$。\n\n---\n\n#### 数据范围与提示\n对于所有测试数据：$1 \\leqslant m \\leqslant n \\leqslant 2 \\times 10^5$，$0 \\leqslant k \\leqslant \\lfloor n/2\\rfloor$，$1 \\leqslant a_i \\leqslant 10^5$。\n\n| 测试点编号 | $n \\leqslant$ | 特殊性质|\n| :--- | :--- | :--- |\n| 1 | $10$ | 无 |\n| 2 | $18$ | 无 |\n| 3 | $36$ | $n$ 为偶数且 $m=1$，$k=2$ |\n| 4,5 | $1000$ | $m \\leqslant 10$，$k=1$ |\n| 6 | $50$ | $m \\leqslant 10$，$k \\leqslant 2$ |\n| 7,8 | $3000$ | 无 |\n| 9,10 | $2 \\times 10^5$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P6188", "type": "P", "difficulty": 2, "samples": [["1\n", "-1"], ["14\n", "1 1 1"], ["33\n", "1 2 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["数学", "2020", "枚举", "NOI Online"], "title": "[NOI Online #1 入门组] 文具订购", "background": "", "description": "小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：\n\n1. 圆规，每个 $7$ 元。\n2. 笔，每支 $4$ 元。\n3. 笔记本，每本 $3$ 元。\n\n小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：\n\n1. $n$ 元钱必须正好用光，即 $7a+4b+3c=n$。\n2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。\n3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。\n\n请你帮助小明求出满足条件的最优方案。可以证明若存在方案，则最优方案唯一。\n\n ", "inputFormat": "输入仅一行一个整数，代表班费数量 $n$。 ", "outputFormat": "如果问题无解，请输出 $-1$。\n\n否则输出一行三个用空格隔开的整数 $a, b, c$，分别代表圆规、笔、笔记本的个数。\n\n", "hint": "#### 样例输入输出 3 解释\n\n$a=2,b=4,c=1$ 也是满足条件 $1,2$ 的方案，但对于条件 $3$，该方案只买了 $7$ 个物品，不如 $a=1,b=2,c=6$ 的方案。 \n\n#### 数据规模与约定\n\n- 对于测试点 $1 \\sim 6$，保证 $n \\leq 14$。\n- 对于测试点 $7 \\sim 12$，保证 $n$ 是 $14$ 的倍数。\n- 对于测试点 $13 \\sim 18$，保证 $n \\leq 100$。\n- 对于全部的测试点，保证 $0 \\leq n \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #1 入门组] 文具订购", "background": "", "description": "小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：\n\n1. 圆规，每个 $7$ 元。\n2. 笔，每支 $4$ 元。\n3. 笔记本，每本 $3$ 元。\n\n小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：\n\n1. $n$ 元钱必须正好用光，即 $7a+4b+3c=n$。\n2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。\n3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。\n\n请你帮助小明求出满足条件的最优方案。可以证明若存在方案，则最优方案唯一。\n\n ", "inputFormat": "输入仅一行一个整数，代表班费数量 $n$。 ", "outputFormat": "如果问题无解，请输出 $-1$。\n\n否则输出一行三个用空格隔开的整数 $a, b, c$，分别代表圆规、笔、笔记本的个数。\n\n", "hint": "#### 样例输入输出 3 解释\n\n$a=2,b=4,c=1$ 也是满足条件 $1,2$ 的方案，但对于条件 $3$，该方案只买了 $7$ 个物品，不如 $a=1,b=2,c=6$ 的方案。 \n\n#### 数据规模与约定\n\n- 对于测试点 $1 \\sim 6$，保证 $n \\leq 14$。\n- 对于测试点 $7 \\sim 12$，保证 $n$ 是 $14$ 的倍数。\n- 对于测试点 $13 \\sim 18$，保证 $n \\leq 100$。\n- 对于全部的测试点，保证 $0 \\leq n \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6189", "type": "P", "difficulty": 6, "samples": [["4 44\n", "5"], ["66 666666\n", "323522"], ["66666 66666666\n", "45183149\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "数学", "2020", "NOI Online", "根号分治"], "title": "[NOI Online #1 入门组] 跑步", "background": "", "description": "小 H 是一个热爱运动的孩子，某天他想给自己制定一个跑步计划。小 H 计划跑 $n$ 米，其中第 $i(i \\geq 1)$ 分钟要跑 $x_i$ 米（$x_i$ 是正整数），但没有确定好总时长。\n\n由于随着跑步时间增加，小 H 会越来越累，所以小 H 的计划必须满足对于任意 $i(i >1)$ 都满足 $x_i \\leq x_{i-1}$。\n\n现在小 H 想知道一共有多少个不同的满足条件的计划，请你帮助他。两个计划不同当且仅当跑步的总时长不同，或者存在一个 $i$，使得两个计划中 $x_i$ 不相同。\n\n由于最后的答案可能很大，你只需要求出答案对 $p$ 取模的结果。 ", "inputFormat": "输入只有一行两个整数，代表总米数 $n$ 和模数 $p$。", "outputFormat": "输出一行一个整数，代表答案对 $p$ 取模的结果。", "hint": "#### 样例输入输出 1 解释\n\n五个不同的计划分别是：$\\{1,1,1,1\\}$，$\\{2,1,1\\}$，$\\{3,1\\}$，$\\{2,2\\}$，$\\{4\\}$。 \n\n---\n\n#### 数据规模与约定\n\n本题共 $10$ 个测试点，各测试点信息如下表。\n\n| 测试点编号 | $n \\leq$ | 测试点编号 | $n \\leq$ |\n| :----------: | :---------: | :----------: | :---------: |\n| $1$ | $5$ | $6$ | $2\\times 10^3$ |\n| $2$ | $10$ | $7$ | $5\\times 10^3$ |\n| $3$ | $50$ | $8$ | $2\\times 10^4$ |\n| $4$ | $100$ | $9$ | $5\\times 10^4$ |\n| $5$ | $500$ | $10$ | $10^5$|\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq p < 2^{30}$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI Online #1 Junior] Running", "background": "", "description": "Little H is a child who loves sports. One day, he wants to make a running plan for himself. Little H plans to run $n$ meters in total. In the $i$-th minute ($i \\geq 1$), he will run $x_i$ meters ($x_i$ is a positive integer), but the total duration is not fixed.\n\nAs the running time increases, Little H will get more and more tired, so his plan must satisfy that for any $i$ ($i > 1$), $x_i \\leq x_{i-1}$.\n\nNow Little H wants to know how many different plans satisfy the conditions. Two plans are different if and only if the total duration is different, or there exists an $i$ such that $x_i$ is different in the two plans.\n\nSince the final answer may be very large, you only need to output the result modulo $p$.", "inputFormat": "The input contains only one line with two integers, representing the total meters $n$ and the modulus $p$.", "outputFormat": "Output one line with one integer, representing the answer modulo $p$.", "hint": "#### Explanation of Sample Input/Output 1\n\nThe five different plans are: $\\{1,1,1,1\\}$, $\\{2,1,1\\}$, $\\{3,1\\}$, $\\{2,2\\}$, $\\{4\\}$.\n\n---\n\n#### Constraints\n\nThis problem has $10$ test points. The information for each test point is shown in the table below.\n\n| Test Point ID | $n \\leq$ | Test Point ID | $n \\leq$ |\n| :----------: | :---------: | :----------: | :---------: |\n| $1$ | $5$ | $6$ | $2\\times 10^3$ |\n| $2$ | $10$ | $7$ | $5\\times 10^3$ |\n| $3$ | $50$ | $8$ | $2\\times 10^4$ |\n| $4$ | $100$ | $9$ | $5\\times 10^4$ |\n| $5$ | $500$ | $10$ | $10^5$ |\n\nFor all test points, it is guaranteed that $1 \\leq n \\leq 10^5$, $1 \\leq p < 2^{30}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI Online #1 入门组] 跑步", "background": "", "description": "小 H 是一个热爱运动的孩子，某天他想给自己制定一个跑步计划。小 H 计划跑 $n$ 米，其中第 $i(i \\geq 1)$ 分钟要跑 $x_i$ 米（$x_i$ 是正整数），但没有确定好总时长。\n\n由于随着跑步时间增加，小 H 会越来越累，所以小 H 的计划必须满足对于任意 $i(i >1)$ 都满足 $x_i \\leq x_{i-1}$。\n\n现在小 H 想知道一共有多少个不同的满足条件的计划，请你帮助他。两个计划不同当且仅当跑步的总时长不同，或者存在一个 $i$，使得两个计划中 $x_i$ 不相同。\n\n由于最后的答案可能很大，你只需要求出答案对 $p$ 取模的结果。 ", "inputFormat": "输入只有一行两个整数，代表总米数 $n$ 和模数 $p$。", "outputFormat": "输出一行一个整数，代表答案对 $p$ 取模的结果。", "hint": "#### 样例输入输出 1 解释\n\n五个不同的计划分别是：$\\{1,1,1,1\\}$，$\\{2,1,1\\}$，$\\{3,1\\}$，$\\{2,2\\}$，$\\{4\\}$。 \n\n---\n\n#### 数据规模与约定\n\n本题共 $10$ 个测试点，各测试点信息如下表。\n\n| 测试点编号 | $n \\leq$ | 测试点编号 | $n \\leq$ |\n| :----------: | :---------: | :----------: | :---------: |\n| $1$ | $5$ | $6$ | $2\\times 10^3$ |\n| $2$ | $10$ | $7$ | $5\\times 10^3$ |\n| $3$ | $50$ | $8$ | $2\\times 10^4$ |\n| $4$ | $100$ | $9$ | $5\\times 10^4$ |\n| $5$ | $500$ | $10$ | $10^5$|\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq p < 2^{30}$。", "locale": "zh-CN"}}}
{"pid": "P6190", "type": "P", "difficulty": 6, "samples": [["4 3 2\n1 2 5\n2 3 4\n3 4 1\n", "-8"], ["2 2 2\n1 2 10\n2 1 1\n", "-19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "图论", "2020", "倍增", "矩阵加速", "最短路", "NOI Online"], "title": "[NOI Online #1 入门组] 魔法", "background": "", "description": "C 国由 $n$ 座城市与 $m$ 条有向道路组成，城市与道路都从 $1$ 开始编号，经过 $i$ 号道路需要 $t_i$ 的费用。\n\n现在你要从 $1$ 号城市出发去 $n$ 号城市，你可以施展最多 $k$ 次魔法，使得通过下一条道路时，需要的费用变为原来的相反数，即费用从 $t_i$ 变为 $-t_i$。请你算一算，你至少要花费多少费用才能完成这次旅程。\n\n注意：使用魔法只是改变一次的花费，而不改变一条道路自身的 $t_i$；最终的费用可以为负，并且一个城市可以经过多次（包括 $n$ 号城市）。 ", "inputFormat": "输入的第一行有三个整数，分别代表城市数 $n$，道路数 $m$ 和魔法次数限制 $k$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行三个整数。第 $(i + 1)$ 行的整数 $u_i, v_i, t_i$ 表示存在一条从 $u_i$ 到 $v_i$ 的单向道路，经过它需要花费 $t_i$。", "outputFormat": "输出一行一个整数表示最小的花费。", "hint": "#### 输入输出样例 1 解释\n\n依次经过 $1$ 号道路、$2$ 号道路、$3$ 号道路，并在经过 $1,2$ 号道路前使用魔法。 \n\n#### 输入输出样例 2 解释\n\n依次经过 $1$ 号道路、$2$ 号道路、$1$ 号道路，并在两次经过 $1$ 号道路前都使用魔法。 \n\n#### 数据规模与约定\n\n本题共 $20$ 个测试点，各测试点信息见下表。\n\n| 测试点编号 | $n \\leq$ | $m \\leq$ | $k \\leq$ | 无环 |\n| :----------: | :--------: | :---------: | :--------: | :----: |\n| $1 \\sim 2$ | $5$ | $20$ | $0$ | 不保证 |\n| $3 \\sim 4$ | $10$ | $20$ | $50$ | 不保证 |\n| $5 \\sim 6$ | $10$ | $20$ | $0$| 不保证 |\n| $7 \\sim 8$ | $20$ | $200$ | $50$ | 是 |\n| $9 \\sim 10$ | $20$ | $200$ | $0$ | 不保证 |\n| $11 \\sim 12$ | $100$ | $200$ | $50$ | 是 |\n| $13 \\sim 14$ | $100$ | $200$ | $50$ | 不保证 |\n| $15 \\sim 18$ | $100$ | $2500$ | $1000$ | 不保证 |\n| $19 \\sim 20$ | $100$ | $2500$ | $10^6$ | 不保证 |\n\n对于【无环】一栏为“是”的测试点，保证给出的图是一张有向无环图，否则不对图的形态做任何保证。\n\n对于全部的测试点，保证：\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 2500$，$0 \\leq k \\leq 10^6$。\n- $1 \\leq u_i, v_i \\leq n$，$1 \\leq t_i \\leq 10^9$。\n- 给出的图无重边和自环，且至少存在一条能从 $1$ 到达 $n$ 的路径。\n\n**民间数据使用 [CYaRon](https://github.com/luogu-dev/cyaron) 在 5 分钟内生成。如果发现数据有问题，请在讨论版发帖或私信 @[StudyingFather](/user/22030)**", "locale": "zh-CN", "translations": {"en": {"title": "[NOI Online #1 Junior] Magic", "background": "", "description": "Country C consists of $n$ cities and $m$ directed roads. Both cities and roads are numbered starting from $1$. Traversing road $i$ costs $t_i$.\n\nNow you want to travel from city $1$ to city $n$. You may cast magic at most $k$ times, so that when you traverse the next road, the cost becomes the opposite of the original, i.e. the cost changes from $t_i$ to $-t_i$. Please compute the minimum total cost needed to finish this trip.\n\nNote: Casting magic only changes the cost for one traversal, and does not change the road’s own $t_i$. The final total cost may be negative, and a city may be visited multiple times (including city $n$).", "inputFormat": "The first line contains three integers, representing the number of cities $n$, the number of roads $m$, and the limit on the number of times you can cast magic $k$.\n\nLines $2$ to $(m + 1)$ each contain three integers. On line $(i + 1)$, the integers $u_i, v_i, t_i$ indicate that there is a one-way road from $u_i$ to $v_i$, and traversing it costs $t_i$.", "outputFormat": "Output one integer in one line, representing the minimum total cost.", "hint": "#### Explanation for Sample Input/Output 1\n\nTraverse road $1$, road $2$, and road $3$ in order, and cast magic before traversing roads $1$ and $2$.\n\n#### Explanation for Sample Input/Output 2\n\nTraverse road $1$, road $2$, and road $1$ in order, and cast magic before both times you traverse road $1$.\n\n#### Constraints\n\nThis problem has $20$ test points. The information for each test point is shown in the table below.\n\n| Test Point ID | $n \\leq$ | $m \\leq$ | $k \\leq$ | Acyclic |\n| :----------: | :--------: | :---------: | :--------: | :----: |\n| $1 \\sim 2$ | $5$ | $20$ | $0$ | Not guaranteed |\n| $3 \\sim 4$ | $10$ | $20$ | $50$ | Not guaranteed |\n| $5 \\sim 6$ | $10$ | $20$ | $0$ | Not guaranteed |\n| $7 \\sim 8$ | $20$ | $200$ | $50$ | Yes |\n| $9 \\sim 10$ | $20$ | $200$ | $0$ | Not guaranteed |\n| $11 \\sim 12$ | $100$ | $200$ | $50$ | Yes |\n| $13 \\sim 14$ | $100$ | $200$ | $50$ | Not guaranteed |\n| $15 \\sim 18$ | $100$ | $2500$ | $1000$ | Not guaranteed |\n| $19 \\sim 20$ | $100$ | $2500$ | $10^6$ | Not guaranteed |\n\nFor test points where the “Acyclic” column is “Yes”, it is guaranteed that the given graph is a directed acyclic graph; otherwise, there is no guarantee about the graph structure.\n\nFor all test points, it is guaranteed that:\n- $1 \\leq n \\leq 100$, $1 \\leq m \\leq 2500$, $0 \\leq k \\leq 10^6$.\n- $1 \\leq u_i, v_i \\leq n$, $1 \\leq t_i \\leq 10^9$.\n- The given graph has no multiple edges or self-loops, and there exists at least one path from $1$ to $n$.\n\n**Unofficial testdata is generated within 5 minutes using [CYaRon](https://github.com/luogu-dev/cyaron). If you find any issues with the testdata, please post in the discussion board or send a private message to @[StudyingFather](/user/22030).**\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI Online #1 入门组] 魔法", "background": "", "description": "C 国由 $n$ 座城市与 $m$ 条有向道路组成，城市与道路都从 $1$ 开始编号，经过 $i$ 号道路需要 $t_i$ 的费用。\n\n现在你要从 $1$ 号城市出发去 $n$ 号城市，你可以施展最多 $k$ 次魔法，使得通过下一条道路时，需要的费用变为原来的相反数，即费用从 $t_i$ 变为 $-t_i$。请你算一算，你至少要花费多少费用才能完成这次旅程。\n\n注意：使用魔法只是改变一次的花费，而不改变一条道路自身的 $t_i$；最终的费用可以为负，并且一个城市可以经过多次（包括 $n$ 号城市）。 ", "inputFormat": "输入的第一行有三个整数，分别代表城市数 $n$，道路数 $m$ 和魔法次数限制 $k$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行三个整数。第 $(i + 1)$ 行的整数 $u_i, v_i, t_i$ 表示存在一条从 $u_i$ 到 $v_i$ 的单向道路，经过它需要花费 $t_i$。", "outputFormat": "输出一行一个整数表示最小的花费。", "hint": "#### 输入输出样例 1 解释\n\n依次经过 $1$ 号道路、$2$ 号道路、$3$ 号道路，并在经过 $1,2$ 号道路前使用魔法。 \n\n#### 输入输出样例 2 解释\n\n依次经过 $1$ 号道路、$2$ 号道路、$1$ 号道路，并在两次经过 $1$ 号道路前都使用魔法。 \n\n#### 数据规模与约定\n\n本题共 $20$ 个测试点，各测试点信息见下表。\n\n| 测试点编号 | $n \\leq$ | $m \\leq$ | $k \\leq$ | 无环 |\n| :----------: | :--------: | :---------: | :--------: | :----: |\n| $1 \\sim 2$ | $5$ | $20$ | $0$ | 不保证 |\n| $3 \\sim 4$ | $10$ | $20$ | $50$ | 不保证 |\n| $5 \\sim 6$ | $10$ | $20$ | $0$| 不保证 |\n| $7 \\sim 8$ | $20$ | $200$ | $50$ | 是 |\n| $9 \\sim 10$ | $20$ | $200$ | $0$ | 不保证 |\n| $11 \\sim 12$ | $100$ | $200$ | $50$ | 是 |\n| $13 \\sim 14$ | $100$ | $200$ | $50$ | 不保证 |\n| $15 \\sim 18$ | $100$ | $2500$ | $1000$ | 不保证 |\n| $19 \\sim 20$ | $100$ | $2500$ | $10^6$ | 不保证 |\n\n对于【无环】一栏为“是”的测试点，保证给出的图是一张有向无环图，否则不对图的形态做任何保证。\n\n对于全部的测试点，保证：\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 2500$，$0 \\leq k \\leq 10^6$。\n- $1 \\leq u_i, v_i \\leq n$，$1 \\leq t_i \\leq 10^9$。\n- 给出的图无重边和自环，且至少存在一条能从 $1$ 到达 $n$ 的路径。\n\n**民间数据使用 [CYaRon](https://github.com/luogu-dev/cyaron) 在 5 分钟内生成。如果发现数据有问题，请在讨论版发帖或私信 @[StudyingFather](/user/22030)**", "locale": "zh-CN"}}}
{"pid": "P6191", "type": "P", "difficulty": 3, "samples": [["4 2", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "递推", "2009", "USACO", "组合数学", "前缀和"], "title": "[USACO09FEB] Bulls And Cows S", "background": "一年一度的展会要来临了，Farmer John 想要把 $N$（$1 \\leq N \\leq 10^5$）只奶牛和公牛安排在单独的一行中。 John 发现最近公牛们非常好斗；假如两只公牛在这一行中靠的太近，他们就会吵架，以至于斗殴，破坏这和谐的环境。", "description": "John 非常的足智多谋，他计算出任何两只公牛之间至少要有 $K$（$0 \\leq K \\lt N$）只奶牛，这样才能避免斗殴。John 希望你帮助他计算一下有多少种安排方法，可避免任何斗殴的的发生。John 认为每头公牛都是一样的，每头奶牛都是一样的。因而，只要在一些相同的位置上有不同种类的牛，那这就算两种不同的方法。", "inputFormat": "两个整数 $N$ 和 $K$。", "outputFormat": "输出约翰可以安排的方法数。考虑到这个数可能很大，你只要输出对 $5\\,000\\,011$ 取模之后的结果就可以了。", "hint": "下面的就是 FJ 思考出可行的 6 种方案（C 代表奶牛，B 代表公牛）：\n- CCCC\n- BCCC\n- CBCC\n- CCBC\n- CCCB\n- BCCB", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO09FEB] Bulls And Cows S", "background": "一年一度的展会要来临了，Farmer John 想要把 $N$（$1 \\leq N \\leq 10^5$）只奶牛和公牛安排在单独的一行中。 John 发现最近公牛们非常好斗；假如两只公牛在这一行中靠的太近，他们就会吵架，以至于斗殴，破坏这和谐的环境。", "description": "John 非常的足智多谋，他计算出任何两只公牛之间至少要有 $K$（$0 \\leq K \\lt N$）只奶牛，这样才能避免斗殴。John 希望你帮助他计算一下有多少种安排方法，可避免任何斗殴的的发生。John 认为每头公牛都是一样的，每头奶牛都是一样的。因而，只要在一些相同的位置上有不同种类的牛，那这就算两种不同的方法。", "inputFormat": "两个整数 $N$ 和 $K$。", "outputFormat": "输出约翰可以安排的方法数。考虑到这个数可能很大，你只要输出对 $5\\,000\\,011$ 取模之后的结果就可以了。", "hint": "下面的就是 FJ 思考出可行的 6 种方案（C 代表奶牛，B 代表公牛）：\n- CCCC\n- BCCC\n- CBCC\n- CCBC\n- CCCB\n- BCCB", "locale": "zh-CN"}}}
{"pid": "P6192", "type": "P", "difficulty": 6, "samples": [["7 7 4\n1 2 3\n2 3 2\n4 3 9\n2 6 2\n4 5 3\n6 5 2\n7 6 4\n2 4 7 5\n", "11\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["图论", "最短路", "状压 DP", "模板题"], "title": "【模板】最小斯坦纳树", "background": "", "description": "给定一个包含 $n$ 个结点和 $m$ 条带权边的无向连通图 $G=(V,E)$。\n\n再给定包含 $k$ 个结点的点集 $S$，选出 $G$ 的子图 $G'=(V',E')$，使得：\n\n1. $S\\subseteq V'$；\n\n2. $G'$ 为连通图；\n\n3. $E'$ 中所有边的权值和最小。\n\n你只需要求出 $E'$ 中所有边的权值和。", "inputFormat": "第一行：三个整数 $n,m,k$，表示 $G$ 的结点数、边数和 $S$ 的大小。\n\n接下来 $m$ 行：每行三个整数 $u,v,w$，表示编号为 $u,v$ 的点之间有一条权值为 $w$ 的无向边。\n\n接下来一行：$k$ 个互不相同的正整数，表示 $S$ 的元素。", "outputFormat": "第一行：一个整数，表示 $E'$ 中边权和的最小值。", "hint": "【样例解释】\n\n样例中给出的图如下图所示，红色点为 $S$ 中的元素，红色边为 $E'$ 的元素，此时 $E'$ 中所有边的权值和为 $2+2+3+4=11$，达到最小值。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rdu06bwj.png)\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 100,\\ \\ 1\\leq m\\leq 500,\\ \\ 1\\leq k\\leq 10,\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^6$。\n\n保证给出的无向图连通，但 **可能** 存在重边和自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】最小斯坦纳树", "background": "", "description": "给定一个包含 $n$ 个结点和 $m$ 条带权边的无向连通图 $G=(V,E)$。\n\n再给定包含 $k$ 个结点的点集 $S$，选出 $G$ 的子图 $G'=(V',E')$，使得：\n\n1. $S\\subseteq V'$；\n\n2. $G'$ 为连通图；\n\n3. $E'$ 中所有边的权值和最小。\n\n你只需要求出 $E'$ 中所有边的权值和。", "inputFormat": "第一行：三个整数 $n,m,k$，表示 $G$ 的结点数、边数和 $S$ 的大小。\n\n接下来 $m$ 行：每行三个整数 $u,v,w$，表示编号为 $u,v$ 的点之间有一条权值为 $w$ 的无向边。\n\n接下来一行：$k$ 个互不相同的正整数，表示 $S$ 的元素。", "outputFormat": "第一行：一个整数，表示 $E'$ 中边权和的最小值。", "hint": "【样例解释】\n\n样例中给出的图如下图所示，红色点为 $S$ 中的元素，红色边为 $E'$ 的元素，此时 $E'$ 中所有边的权值和为 $2+2+3+4=11$，达到最小值。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rdu06bwj.png)\n\n---\n\n【数据范围】\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 100,\\ \\ 1\\leq m\\leq 500,\\ \\ 1\\leq k\\leq 10,\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^6$。\n\n保证给出的无向图连通，但 **可能** 存在重边和自环。", "locale": "zh-CN"}}}
{"pid": "P6193", "type": "P", "difficulty": 5, "samples": [["3 \n2 \n3 \n1", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "USACO"], "title": "[USACO07FEB] Cow Sorting G", "background": "", "description": "Farmer John 的 $n$（$1 \\leq n \\leq 10^5$）头牛一字排开。每头奶牛都有一个“脾气暴躁”水平，范围在 $1 \\ldots 10^5$，且任意两头奶牛的脾气暴躁值不相同。由于脾气暴躁的奶牛更有可能损坏 FJ 的挤奶设备，因此 FJ 希望对奶牛进行重新排序，以便按照脾气暴躁程度依此提升的顺序排列它们。\n\n在此过程中，任何两头奶牛（不一定相邻）的位置都可以互换。由于脾气暴躁的母牛难以移动，因此 FJ 总共需要 $X + Y$ 单位的时间来交换两只脾气暴躁程度为 $X$ 和 $Y$ 的母牛。请帮助 FJ 计算将奶牛按脾气暴躁程度的升序排序所需的最短时间。", "inputFormat": "第一行一个整数：$N$ 。\n\n接下来 $N$ 行每行包含一个整数 $a_i$，代表第 $i$ 头奶牛的脾气暴躁值。", "outputFormat": "输出将所有奶牛按按脾气暴躁程度的升序排序所需的最短时间。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO07FEB] Cow Sorting G", "background": "", "description": "Farmer John 的 $n$（$1 \\leq n \\leq 10^5$）头牛一字排开。每头奶牛都有一个“脾气暴躁”水平，范围在 $1 \\ldots 10^5$，且任意两头奶牛的脾气暴躁值不相同。由于脾气暴躁的奶牛更有可能损坏 FJ 的挤奶设备，因此 FJ 希望对奶牛进行重新排序，以便按照脾气暴躁程度依此提升的顺序排列它们。\n\n在此过程中，任何两头奶牛（不一定相邻）的位置都可以互换。由于脾气暴躁的母牛难以移动，因此 FJ 总共需要 $X + Y$ 单位的时间来交换两只脾气暴躁程度为 $X$ 和 $Y$ 的母牛。请帮助 FJ 计算将奶牛按脾气暴躁程度的升序排序所需的最短时间。", "inputFormat": "第一行一个整数：$N$ 。\n\n接下来 $N$ 行每行包含一个整数 $a_i$，代表第 $i$ 头奶牛的脾气暴躁值。", "outputFormat": "输出将所有奶牛按按脾气暴躁程度的升序排序所需的最短时间。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P6194", "type": "P", "difficulty": 2, "samples": [["........\n........\n........\n..B..R..\n........\n........\n........\n........\n", "11111011\n01110011\n10101011\n11000000\n10101011\n01110011\n11111011\n11111001\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "O2优化", "洛谷月赛"], "title": "[EER1] 苏联人", "background": "~~题目名称是吸引你点进来的。~~\n\n这是一道正常的题，和苏联没有任何关系。", "description": "你在打 EE Round 1，发现第一题非常无聊。于是你不打了，去下国际象棋了。\n\n结果你发现，由于神秘力量的影响，你的棋子只剩下若干黑色的战车，若干黑色的主教和一只白色的国王了。\n\n由于你很无聊，所以你把一些黑色棋子放在了 $8\\times 8$ 的棋盘上。\n\n由于你很无聊，所以你想知道，国王放在哪些格子是安全的。换句话说，有哪些格子不会被战车和主教攻击到。当然，**国王不能放在已经有棋子的地方**。\n\n为了防止你无聊透顶而不知道国际象棋的规则，这里给出以下提示（如果你知道规则那么可以跳过）：\n\n国际象棋中，战车可以横向、竖向移动，且格数不受限制。但**不能越过其他棋子**。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5symt5td.png)\n\n如图，黄色的格子为战车能走到（攻击到）的格子。\n\n国际象棋中，主教可以斜向移动，且格数不受限制。但**不能越过其他棋子**。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/skmw1njm.png)\n\n如图，黄色的格子为主教能走到（攻击到）的格子。\n\n简单来说，如果当前位置到目标位置的**线段**上存在其他棋子，则可以称为“越过了其他棋子”。\n\n如果目标位置是对方的棋子，那么移动到目标位置后，对方的棋子会被吃掉。\n\n更进一步地，你要找的所有位置，必须满足没有黑色棋子能一步走到。\n\n---\n\n如果你还是没有读懂，可以结合样例进行理解。", "inputFormat": "共 $8$ 行，每行 $8$ 个字符，表示棋盘的状态。\n\n其中 `.` 表示空位，`R` 表示战车，`B` 表示主教。", "outputFormat": "共 $8$ 行，每行 $8$ 个字符。若一个格子是可以放国王的，则输出 `1`，否则输出 `0`。", "hint": "对于 $100\\%$ 的数据，保证只会出现 `.`，`R`，`B` 三种字符。\n\n本题共有 $4$ 个子任务，每个子任务的限制如下：\n\n子任务 $1$（$10$ 分）：保证只会出现 `.`。\n\n子任务 $2$（$20$ 分）：保证只会出现一个 `R` 或一个 `B`（不同时出现）。\n\n子任务 $3$（$30$ 分）：保证只有一个 `.`。\n\n子任务 $4$（$40$ 分）：没有特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EER1] 苏联人", "background": "~~题目名称是吸引你点进来的。~~\n\n这是一道正常的题，和苏联没有任何关系。", "description": "你在打 EE Round 1，发现第一题非常无聊。于是你不打了，去下国际象棋了。\n\n结果你发现，由于神秘力量的影响，你的棋子只剩下若干黑色的战车，若干黑色的主教和一只白色的国王了。\n\n由于你很无聊，所以你把一些黑色棋子放在了 $8\\times 8$ 的棋盘上。\n\n由于你很无聊，所以你想知道，国王放在哪些格子是安全的。换句话说，有哪些格子不会被战车和主教攻击到。当然，**国王不能放在已经有棋子的地方**。\n\n为了防止你无聊透顶而不知道国际象棋的规则，这里给出以下提示（如果你知道规则那么可以跳过）：\n\n国际象棋中，战车可以横向、竖向移动，且格数不受限制。但**不能越过其他棋子**。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5symt5td.png)\n\n如图，黄色的格子为战车能走到（攻击到）的格子。\n\n国际象棋中，主教可以斜向移动，且格数不受限制。但**不能越过其他棋子**。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/skmw1njm.png)\n\n如图，黄色的格子为主教能走到（攻击到）的格子。\n\n简单来说，如果当前位置到目标位置的**线段**上存在其他棋子，则可以称为“越过了其他棋子”。\n\n如果目标位置是对方的棋子，那么移动到目标位置后，对方的棋子会被吃掉。\n\n更进一步地，你要找的所有位置，必须满足没有黑色棋子能一步走到。\n\n---\n\n如果你还是没有读懂，可以结合样例进行理解。", "inputFormat": "共 $8$ 行，每行 $8$ 个字符，表示棋盘的状态。\n\n其中 `.` 表示空位，`R` 表示战车，`B` 表示主教。", "outputFormat": "共 $8$ 行，每行 $8$ 个字符。若一个格子是可以放国王的，则输出 `1`，否则输出 `0`。", "hint": "对于 $100\\%$ 的数据，保证只会出现 `.`，`R`，`B` 三种字符。\n\n本题共有 $4$ 个子任务，每个子任务的限制如下：\n\n子任务 $1$（$10$ 分）：保证只会出现 `.`。\n\n子任务 $2$（$20$ 分）：保证只会出现一个 `R` 或一个 `B`（不同时出现）。\n\n子任务 $3$（$30$ 分）：保证只有一个 `.`。\n\n子任务 $4$（$40$ 分）：没有特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6195", "type": "P", "difficulty": 2, "samples": [["1 2", "7"], ["2 2", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["洛谷月赛"], "title": "[EER1] 迫害", "background": "\"In Germany they first came for the Communists,　\n\nand I didn't speak up because I wasn't a Communist.　　\n\nThen they came for the Jews,　　\n\nand I didn't speak up because I wasn't a Jew.　　\n\nThen they came for the trade unionists,　　\n\nand I didn't speak up because I wasn't a trade unionist.\n\nThen they came for the Catholics,　　\n\nand I didn't speak up because I was a Protestant.　　\n\nThen they came for me ,\n\nand by that time no one was left to speak up.\"\n\n-- Pastor Martin Niemöller\n\n”起初他们迫害共产党员，我没有说话，因为我不是马克思的信徒。\n\n后来他们迫害犹太人，我没有说话，因为我是日耳曼人。\n\n再后来他们迫害天主教徒，我没有说话，因为我是新教牧师。\n\n最后他们迫害到我头上，我环顾四周，却再也没有人能为我说话。”", "description": "有 $k$ 个人，X 要对这 $k$ 个人进行迫害。\n\n这 $k$ 个人，每一个人都拥有一个数字，分别从 $1$ 至 $k$。\n\nX 拥有 $n+m$ 个数字，这些数字为 $n$ 个 $1$ 和 $m$ 个大小可由 X 决定的数字（每个数字定好之后不能更换）。\n\nX 能对这些人进行迫害，当且仅当他能用手中若干个数的加和等于被迫害人的数字，一次迫害就成功了（不会消耗数字）。\n\n由于 X 的权利极大，又十分邪恶，他想要从第 $1$ 个人开始**一个一个**进行迫害行动。\n\n由于小 Z 也在这个被迫害的行列里，他十分的慌张，希望你来告诉他 X 能最多能从第一个人开始连续迫害多少个人。\n\n由于被迫害的人太多了，所以请将答案对 $1000000007$ 取模。", "inputFormat": "第一行两个整数 $n,m$，表示 X 有 $n$ 个 $1$，有 $m$ 个大小可自定的数。\n", "outputFormat": "请你告诉小 Z，X 能迫害多少个人。", "hint": "**【样例 1 解释】**\n\nX 选取 $2$ 个数分别为 $2,4$，可知能连续迫害 $7$ 个人。\n\n**【样例 2 解释】**\n\nX 选取 $2$ 个数分别为 $3,6$，可知能连续迫害 $11$ 个人。\n\n---\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（50 points）：$1 \\le n \\le 5$，$1 \\le m \\le 5$。\n- Subtask 2（30 points）：保证答案在取模前在 $10^{18}$ 之内。\n- Subtask 3（20 points）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^6 $，$1 \\le m \\le 10^9 $。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EER1] 迫害", "background": "\"In Germany they first came for the Communists,　\n\nand I didn't speak up because I wasn't a Communist.　　\n\nThen they came for the Jews,　　\n\nand I didn't speak up because I wasn't a Jew.　　\n\nThen they came for the trade unionists,　　\n\nand I didn't speak up because I wasn't a trade unionist.\n\nThen they came for the Catholics,　　\n\nand I didn't speak up because I was a Protestant.　　\n\nThen they came for me ,\n\nand by that time no one was left to speak up.\"\n\n-- Pastor Martin Niemöller\n\n”起初他们迫害共产党员，我没有说话，因为我不是马克思的信徒。\n\n后来他们迫害犹太人，我没有说话，因为我是日耳曼人。\n\n再后来他们迫害天主教徒，我没有说话，因为我是新教牧师。\n\n最后他们迫害到我头上，我环顾四周，却再也没有人能为我说话。”", "description": "有 $k$ 个人，X 要对这 $k$ 个人进行迫害。\n\n这 $k$ 个人，每一个人都拥有一个数字，分别从 $1$ 至 $k$。\n\nX 拥有 $n+m$ 个数字，这些数字为 $n$ 个 $1$ 和 $m$ 个大小可由 X 决定的数字（每个数字定好之后不能更换）。\n\nX 能对这些人进行迫害，当且仅当他能用手中若干个数的加和等于被迫害人的数字，一次迫害就成功了（不会消耗数字）。\n\n由于 X 的权利极大，又十分邪恶，他想要从第 $1$ 个人开始**一个一个**进行迫害行动。\n\n由于小 Z 也在这个被迫害的行列里，他十分的慌张，希望你来告诉他 X 能最多能从第一个人开始连续迫害多少个人。\n\n由于被迫害的人太多了，所以请将答案对 $1000000007$ 取模。", "inputFormat": "第一行两个整数 $n,m$，表示 X 有 $n$ 个 $1$，有 $m$ 个大小可自定的数。\n", "outputFormat": "请你告诉小 Z，X 能迫害多少个人。", "hint": "**【样例 1 解释】**\n\nX 选取 $2$ 个数分别为 $2,4$，可知能连续迫害 $7$ 个人。\n\n**【样例 2 解释】**\n\nX 选取 $2$ 个数分别为 $3,6$，可知能连续迫害 $11$ 个人。\n\n---\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（50 points）：$1 \\le n \\le 5$，$1 \\le m \\le 5$。\n- Subtask 2（30 points）：保证答案在取模前在 $10^{18}$ 之内。\n- Subtask 3（20 points）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^6 $，$1 \\le m \\le 10^9 $。", "locale": "zh-CN"}}}
{"pid": "P6196", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3", "9\n"], ["4\n19 26 8 17", "846"], ["6\n1 1 1 1 1 1", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["贪心", "洛谷月赛"], "title": "[EER1] 代价", "background": "> 个人的遭遇，命运的多舛都使我被迫成熟，这一切的代价都当是日后活下去的力量。\n——  三毛\n\n小 Z 喜欢玩数字游戏。", "description": "给出一个长度为 $n+2$ 的序列 $a_i$，其中第 $1$ 个数和第 $n+2$ 个数固定为 $1$。你每次可以选择序列中间的一个数删除（不能是第一个和最后一个），删除位置 $p$ 上的数的代价为 $a_{p-1} \\times a_p \\times a_{p+1}$。你需要执行这个操作直到无法操作为止。求最小的代价和。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，第 $i$ 个数表示 $a_{i+1}$。", "outputFormat": "一行一个正整数，表示最小的代价和。", "hint": "样例一解释：\n\n先删除 $3$，代价为 $6$，再删除 $2$，代价为 $2$，再删除 $1$，代价为 $1$。\n\n总代价为 $6+2+1=9$。\n\n---\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的测试点：$1 \\leq n \\leq 10^6$，$1 \\leq a_i \\leq 10^4$。\n\n本题共 $6$ 个子任务，各子任务的分值及约定如下：\n\n子任务 $1$（$1$ 分）：$a_i = 1$。\n\n子任务 $2$（$14$ 分）：$1 \\leq n \\leq 10$。\n\n子任务 $3$（$5$ 分）：$1 \\leq a_i \\leq 2$。\n\n子任务 $4$（$14$ 分）：$1 \\leq n \\leq 40$。\n\n子任务 $5$（$26$ 分）：$1 \\leq n \\leq 500$。\n\n子任务 $6$（$40$ 分）：无特殊限制。\n\n#### 特别感谢\n\nidea：smrsky\n\nsolu：CYJian\n\ndata：iostream", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EER1] 代价", "background": "> 个人的遭遇，命运的多舛都使我被迫成熟，这一切的代价都当是日后活下去的力量。\n——  三毛\n\n小 Z 喜欢玩数字游戏。", "description": "给出一个长度为 $n+2$ 的序列 $a_i$，其中第 $1$ 个数和第 $n+2$ 个数固定为 $1$。你每次可以选择序列中间的一个数删除（不能是第一个和最后一个），删除位置 $p$ 上的数的代价为 $a_{p-1} \\times a_p \\times a_{p+1}$。你需要执行这个操作直到无法操作为止。求最小的代价和。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，第 $i$ 个数表示 $a_{i+1}$。", "outputFormat": "一行一个正整数，表示最小的代价和。", "hint": "样例一解释：\n\n先删除 $3$，代价为 $6$，再删除 $2$，代价为 $2$，再删除 $1$，代价为 $1$。\n\n总代价为 $6+2+1=9$。\n\n---\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的测试点：$1 \\leq n \\leq 10^6$，$1 \\leq a_i \\leq 10^4$。\n\n本题共 $6$ 个子任务，各子任务的分值及约定如下：\n\n子任务 $1$（$1$ 分）：$a_i = 1$。\n\n子任务 $2$（$14$ 分）：$1 \\leq n \\leq 10$。\n\n子任务 $3$（$5$ 分）：$1 \\leq a_i \\leq 2$。\n\n子任务 $4$（$14$ 分）：$1 \\leq n \\leq 40$。\n\n子任务 $5$（$26$ 分）：$1 \\leq n \\leq 500$。\n\n子任务 $6$（$40$ 分）：无特殊限制。\n\n#### 特别感谢\n\nidea：smrsky\n\nsolu：CYJian\n\ndata：iostream", "locale": "zh-CN"}}}
{"pid": "P6197", "type": "P", "difficulty": 6, "samples": [["10 1 998244353\n3", "20"], ["40 2 1018429441\n1\n4", "-1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "O2优化", "洛谷月赛"], "title": "[EER1] 礼物", "background": "### Update：\n\n时限扩大到 3 秒。", "description": "小 Z 送了你一个数列，具体的，有 $a_1=1$，$a_2=2$，$a_i=2a_{i-1}+ka_{i-2}(3\\le i\\le n)$，其中 $n$ 是数列的长度，$k$ 是她设定的一个正整数参数。\n\n小 Z 告诉你一个秘密，这个数列是她精心挑选的，有着一种奇妙的性质 \"Prime-smooth\"—— 即对于 $n$ 以内的任何一个**质数** $p$，满足 $p\\mid a_p$（$\\mid$ 是整除记号）。\n\n你很好奇是不是真的有这回事，于是你写了一个质数发生器，进行了长达三天三夜的尝试，终于发现了几个反例：有 $m$ 个质数 $p_i$ 竟然不满足小 Z 所说的性质！\n\n由于你已经随机了很久，你相信别的质数 **一定满足** 性质。\n\n为了表明你和小 Z 心有灵犀，你现在想猜出小 Z 当时设定的参数 $k$，由于答案很大，你只需要求出最小的 $k$ 对一个质数 $c$ 取模即可。", "inputFormat": "第一行三个非负整数 $n,m,c$，它们与题面中含义相同。\n\n接下来 $m$ 行，每行一个正整数 $i$，表示对于从小到大数第 $i$ 个质数 $p_i$，不满足 $p_i\\mid a_{p_i}$。我们保证这个质数 $p_i\\le n$。注意：**不保证**这 $m$ 个数两两不同。", "outputFormat": "一行一个整数，为最小的 $k$ 对 $c$ 取模后的值。\n\n特别的，如果出现无解的情况，输出 $-1$。", "hint": "**【样例 1 解释】**\n\n注意第 $3$ 个质数是 $5$。\n\n当 $k=20$ 时，$a_2=2$，$a_3=24$，$a_7=19264$ 均符合 $p\\mid a_p$，并且 $a_5=656$ 符合 $p\\nmid a_p$。\n\n**【数据范围】**\n\n$10\\le n\\le 3\\times 10^8$。\n\n$n\\lt c\\lt 2^{30}$，$c=a\\cdot 2^d+1(d\\ge 18)$，保证 $c$ 是质数。\n\n$0\\le m\\le 20$。\n\n| 子任务编号 |    $n\\leq$     |    $m\\leq$     | 特殊性质 | 分值 |\n| :--------: | :------------: | :------------: | :------------: | :--: |\n|     1      | $10^6$ | $20$ ||  10   |\n|     2      | $5\\times 10^7$ | $20$ ||  20  |\n|     3      | $2\\times 10^8$ | $0$ ||  10  |\n|     4      | $2\\times 10^8$ | $6$ ||  10  |\n|     5      | $3\\times 10^8$ | $0$ | $c=998244353$ |  20  |\n|     6      | $3\\times 10^8$ | $0$ ||  20  |\n|     7      | $3\\times 10^8$ | $20$ ||  10  |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EER1] 礼物", "background": "### Update：\n\n时限扩大到 3 秒。", "description": "小 Z 送了你一个数列，具体的，有 $a_1=1$，$a_2=2$，$a_i=2a_{i-1}+ka_{i-2}(3\\le i\\le n)$，其中 $n$ 是数列的长度，$k$ 是她设定的一个正整数参数。\n\n小 Z 告诉你一个秘密，这个数列是她精心挑选的，有着一种奇妙的性质 \"Prime-smooth\"—— 即对于 $n$ 以内的任何一个**质数** $p$，满足 $p\\mid a_p$（$\\mid$ 是整除记号）。\n\n你很好奇是不是真的有这回事，于是你写了一个质数发生器，进行了长达三天三夜的尝试，终于发现了几个反例：有 $m$ 个质数 $p_i$ 竟然不满足小 Z 所说的性质！\n\n由于你已经随机了很久，你相信别的质数 **一定满足** 性质。\n\n为了表明你和小 Z 心有灵犀，你现在想猜出小 Z 当时设定的参数 $k$，由于答案很大，你只需要求出最小的 $k$ 对一个质数 $c$ 取模即可。", "inputFormat": "第一行三个非负整数 $n,m,c$，它们与题面中含义相同。\n\n接下来 $m$ 行，每行一个正整数 $i$，表示对于从小到大数第 $i$ 个质数 $p_i$，不满足 $p_i\\mid a_{p_i}$。我们保证这个质数 $p_i\\le n$。注意：**不保证**这 $m$ 个数两两不同。", "outputFormat": "一行一个整数，为最小的 $k$ 对 $c$ 取模后的值。\n\n特别的，如果出现无解的情况，输出 $-1$。", "hint": "**【样例 1 解释】**\n\n注意第 $3$ 个质数是 $5$。\n\n当 $k=20$ 时，$a_2=2$，$a_3=24$，$a_7=19264$ 均符合 $p\\mid a_p$，并且 $a_5=656$ 符合 $p\\nmid a_p$。\n\n**【数据范围】**\n\n$10\\le n\\le 3\\times 10^8$。\n\n$n\\lt c\\lt 2^{30}$，$c=a\\cdot 2^d+1(d\\ge 18)$，保证 $c$ 是质数。\n\n$0\\le m\\le 20$。\n\n| 子任务编号 |    $n\\leq$     |    $m\\leq$     | 特殊性质 | 分值 |\n| :--------: | :------------: | :------------: | :------------: | :--: |\n|     1      | $10^6$ | $20$ ||  10   |\n|     2      | $5\\times 10^7$ | $20$ ||  20  |\n|     3      | $2\\times 10^8$ | $0$ ||  10  |\n|     4      | $2\\times 10^8$ | $6$ ||  10  |\n|     5      | $3\\times 10^8$ | $0$ | $c=998244353$ |  20  |\n|     6      | $3\\times 10^8$ | $0$ ||  20  |\n|     7      | $3\\times 10^8$ | $20$ ||  10  |", "locale": "zh-CN"}}}
