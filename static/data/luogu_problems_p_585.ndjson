{"pid": "P12872", "type": "P", "difficulty": 4, "samples": [["6\n527559 483873 913413 181072 822487 853172", "8"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Python A] 上升序列构造", "background": "", "description": "小蓝手里有一个长度为 $n$ 的十进制正整数序列 $(a_1, a_2, \\cdots, a_n)$，他希望修改这个序列中的一些数使其变为一个上升序列，即满足对于所有的 $i$，$2 \\leq i \\leq n$，都有 $a_{i-1} < a_i$。他只能通过在这些正整数的十进制表示中增加数字 0 来构造这个上升序列，他想知道最少增加多少个 0 可以满足条件。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案，更改后的序列为 $(527559, 4083873, 9013413, 10081072, 80022487, 85003172)$，共增加 8 个 $0$。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n \\leq 10$；\n\n对于所有评测用例，$1 \\leq n \\leq 5000$，$1 \\leq a_i \\leq 10^6$。增加 0 之后允许超过 $10^6$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Python A] 上升序列构造", "background": "", "description": "小蓝手里有一个长度为 $n$ 的十进制正整数序列 $(a_1, a_2, \\cdots, a_n)$，他希望修改这个序列中的一些数使其变为一个上升序列，即满足对于所有的 $i$，$2 \\leq i \\leq n$，都有 $a_{i-1} < a_i$。他只能通过在这些正整数的十进制表示中增加数字 0 来构造这个上升序列，他想知道最少增加多少个 0 可以满足条件。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案，更改后的序列为 $(527559, 4083873, 9013413, 10081072, 80022487, 85003172)$，共增加 8 个 $0$。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n \\leq 10$；\n\n对于所有评测用例，$1 \\leq n \\leq 5000$，$1 \\leq a_i \\leq 10^6$。增加 0 之后允许超过 $10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P12873", "type": "P", "difficulty": 2, "samples": [["8\n1 2\n1 3\n1 4\n4 5\n4 6\n6 7\n7 8", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "2025", "树的遍历", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Python A] 哨兵", "background": "建议 Python 用户选择 PyPy3 提交本题。", "description": "小蓝是一位国王，他的王国里有 $n$ 座城市，通过 $n-1$ 条路来连通。他想在城市中部署三组哨兵 $A$、$B$、$C$，每组哨兵部署在一个城市里面，一个城市可以部署多组哨兵。其中 $A$ 到 $B$ 的距离需要和 $A$ 到 $C$ 的距离相同。小蓝想知道 $B$ 到 $C$ 的距离最大是多少。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n-1$ 行，每行包含两个正整数 $u_i, v_i$，用一个空格分隔，表示城市 $u_i$ 和城市 $v_i$ 之间有一条路。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案：$A$ 部署在 $5$，$B$ 部署在 $3$，$C$ 部署在 $7$。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n \\leq 500$；\n\n对于所有评测用例，$1 \\leq n \\leq 5000$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Python A] 哨兵", "background": "建议 Python 用户选择 PyPy3 提交本题。", "description": "小蓝是一位国王，他的王国里有 $n$ 座城市，通过 $n-1$ 条路来连通。他想在城市中部署三组哨兵 $A$、$B$、$C$，每组哨兵部署在一个城市里面，一个城市可以部署多组哨兵。其中 $A$ 到 $B$ 的距离需要和 $A$ 到 $C$ 的距离相同。小蓝想知道 $B$ 到 $C$ 的距离最大是多少。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n-1$ 行，每行包含两个正整数 $u_i, v_i$，用一个空格分隔，表示城市 $u_i$ 和城市 $v_i$ 之间有一条路。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案：$A$ 部署在 $5$，$B$ 部署在 $3$，$C$ 部署在 $7$。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n \\leq 500$；\n\n对于所有评测用例，$1 \\leq n \\leq 5000$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P12874", "type": "P", "difficulty": 3, "samples": [["7 2\n1 2 3\n2 4 5\n1 3 7\n3 5 3\n3 6 4\n6 7 2", "104"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "2025", "树的遍历", "最近公共祖先 LCA", "前缀和", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Python A] 巡逻", "background": "建议 Python 用户选择 PyPy3 提交本题。", "description": "边境森林中分布着若干重要的哨站，所有哨站之间由隐秘小径相连，形成一张天然的巡逻网络。这张网络的结构恰好是一棵树。为了防止敌人渗透，小蓝每天需要执行固定长度为 $k$ 的巡逻任务。每次巡逻从一个哨站出发，经过不重复地恰好 $k$ 条道路，最终到达另一个哨站。每条道路都有一定的危险值，巡逻路径上危险值的和代表该次巡逻时的风险。两次巡逻路径不相同当且仅当它们的起点不同或终点不同。\n\n现在指挥官希望知道，所有可能的长度为 $k$ 的巡逻路线的风险之和是多少？", "inputFormat": "输入的第一行包含两个正整数 $n, k$ ，用一个空格分隔。\n\n接下来 $n-1$ 行，每行包含三个正整数 $u_i, v_i, w_i$ ，相邻整数之间使用一个空格分隔。表示结点 $u_i$ 和结点 $v_i$ 之间有一条危险值为 $w_i$ 边。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n所有可能的路径及其风险值如下：\n\n- $1 \\rightarrow 2 \\rightarrow 4: 8$\n- $2 \\rightarrow 1 \\rightarrow 3: 10$\n- $1 \\rightarrow 3 \\rightarrow 5: 10$\n- $1 \\rightarrow 3 \\rightarrow 6: 11$\n- $5 \\rightarrow 3 \\rightarrow 6: 7$\n- $3 \\rightarrow 6 \\rightarrow 7: 6$\n\n以上路径反过来也是合法的，所以总共有 14 条不同的路径，风险之和为 104。\n\n**【评测用例规模与约定】**\n\n对于 40% 的评测用例，$1 \\leq n \\leq 500$；\n\n对于所有评测用例，$1 \\leq n \\leq 5000$，$1 \\leq k \\leq n$，$1 \\leq u_i, v_i \\leq n$，$1 \\leq w_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Python A] 巡逻", "background": "建议 Python 用户选择 PyPy3 提交本题。", "description": "边境森林中分布着若干重要的哨站，所有哨站之间由隐秘小径相连，形成一张天然的巡逻网络。这张网络的结构恰好是一棵树。为了防止敌人渗透，小蓝每天需要执行固定长度为 $k$ 的巡逻任务。每次巡逻从一个哨站出发，经过不重复地恰好 $k$ 条道路，最终到达另一个哨站。每条道路都有一定的危险值，巡逻路径上危险值的和代表该次巡逻时的风险。两次巡逻路径不相同当且仅当它们的起点不同或终点不同。\n\n现在指挥官希望知道，所有可能的长度为 $k$ 的巡逻路线的风险之和是多少？", "inputFormat": "输入的第一行包含两个正整数 $n, k$ ，用一个空格分隔。\n\n接下来 $n-1$ 行，每行包含三个正整数 $u_i, v_i, w_i$ ，相邻整数之间使用一个空格分隔。表示结点 $u_i$ 和结点 $v_i$ 之间有一条危险值为 $w_i$ 边。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n所有可能的路径及其风险值如下：\n\n- $1 \\rightarrow 2 \\rightarrow 4: 8$\n- $2 \\rightarrow 1 \\rightarrow 3: 10$\n- $1 \\rightarrow 3 \\rightarrow 5: 10$\n- $1 \\rightarrow 3 \\rightarrow 6: 11$\n- $5 \\rightarrow 3 \\rightarrow 6: 7$\n- $3 \\rightarrow 6 \\rightarrow 7: 6$\n\n以上路径反过来也是合法的，所以总共有 14 条不同的路径，风险之和为 104。\n\n**【评测用例规模与约定】**\n\n对于 40% 的评测用例，$1 \\leq n \\leq 500$；\n\n对于所有评测用例，$1 \\leq n \\leq 5000$，$1 \\leq k \\leq n$，$1 \\leq u_i, v_i \\leq n$，$1 \\leq w_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P12875", "type": "P", "difficulty": 4, "samples": [["5\n80 /api/admin/**\n60 /api/*/delete\n75 /*/config/system\n90 /api/users/*/password\n50 /static/**/execute\n8\n/api/users/profile\n/api/admin/users\n/api/config/delete\n/dev/config/system\n/static/js/execute\n/api/users/123/password\n/static/css/js/execute\n/api/admin", "SAFE\nALERT: 80\nALERT: 60\nALERT: 75\nALERT: 50\nALERT: 90\nALERT: 50\nALERT: 80"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Python A] 网络流量监控", "background": "2025-06-16 21:45 根据题意和样例，目前洛谷数据的 $q_i$ 中不带 `*` 通配符。如果蓝桥杯官方数据中证实带有通配符，那么我们会修改本题数据。", "description": "网络安全团队需要开发一个系统来监控和检测恶意网络流量。他们收集了一系列已知的恶意请求路径模式，每个模式都有一个对应的风险等级。你的任务是实现一个算法，检测给定的网络请求路径是否匹配这些模式，并返回匹配模式中最高的风险等级。下面是恶意请求路径的相关描述：\n\n### 路径格式\n- 路径由斜杠（/）分隔的若干段组成，如 `/api/users/profile`。\n- 路径总是以斜杠（/）开头。\n- 路径中的每一段可以是由小写英文字母和数字组成的非空字符串。当路径为路径模式时，路径中的一段还可以是通配符 `*` 或 `**`。\n\n### 通配符规则\n- 通配符包括单通配符（`*`）和双通配符（`**`），只能是路径模式中的完整一段。一个路径中最多有一段通配符，不能出现两个单通配符，不能出现两个双通配符，也不能同时出现单通配符和双通配符。\n- 单通配符（`*`）用于匹配路径中的任意一段。\n    - 例如：`/api/*/delete` 可以匹配 `/api/users/delete` 或 `/api/files/delete`，但不能匹配 `/api/admin/users/delete`。\n- 双通配符（`**`）用于匹配路径中的零段或连续多段。\n    - 例如：`/api/admin/**` 可以匹配 `/api/admin`、`/api/admin/users` 或 `/api/admin/users/profile`。\n    - 例如：`/static/**/execute` 可以匹配 `/static/execute`、\n`/static/js/execute` 或 `/static/css/js/execute`。\n\n### 风险评估\n- 每个恶意路径模式都有一个风险等级。\n- 如果一个请求同时匹配多个模式，返回风险等级最高的。\n- 如果不匹配任何模式，返回 `SAFE`。\n\n你需要实现一个算法，给定恶意请求路径模式集合和一系列网络请求路径，判断每个网络请求是否触发警报，并且返回触发的最高风险等级。", "inputFormat": "输入的第一行包含一个正整数 $n$ ，表示恶意路径模式的数量\n\n接下来 $n$ 行，每行包含一个整数 $l_i$ 和一个字符串 $p_i$ ，用一个空格分隔，表示一个恶意请求路径模式，$l_i$ 表示风险等级，$p_i$ 表示路径模式。\n\n接下来一行包含一个整数 $m$ ，表示要检测的网络请求数量。\n\n接下来 $m$ 行，每行包含一个字符串 $q_i$ ，表示一个网络请求路径。", "outputFormat": "对于每个网络请求路径，输出一行，包含检测结果。如果触发警报，输出 `ALERT: [风险等级]`；如果没有触发警报，输出 `SAFE`。", "hint": "**【样例说明】**\n\n1. `/api/users/profile` - 不匹配任何模式，所以是 SAFE。\n2. `/api/admin/users` - 匹配 `/api/admin/**`，风险等级 80。\n3. `/api/config/delete` - 匹配 `/api/*/delete`，其中 `*` 匹配 `config`，风险等级 60。\n4. `/dev/config/system` - 匹配 `/*/config/system`，其中 `*` 匹配 `dev`，风险等级 75。\n5. `/static/js/execute` - 匹配 `/static/**/execute`，其中 `**` 匹配 `js`，风险等级 50。\n6. `/api/users/123/password` - 匹配 /`api/users/*/password`，其中 `*` 匹配 `123`，风险等级 90。\n7. `/static/css/js/execute` - 匹配 `/static/**/execute`，其中 `**` 匹配 `css/js`，风险等级 50。\n8. `/api/admin` - 匹配 `/api/admin/**`，其中 `**` 匹配空（0 个段），风险等级 80。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$1 \\leq n \\leq 10, 1 \\leq m \\leq 10$；\n\n对于 $40\\%$ 的评测用例，$1 \\leq n \\leq 100, 1 \\leq m \\leq 100$；\n\n对于 $60\\%$ 的评测用例，$1 \\leq n \\leq 1000, 1 \\leq m \\leq 1000$；\n\n对于所有评测用例，$1 \\leq n \\leq 10,000$，$1 \\leq m \\leq 1000$，$1 \\leq l_i \\leq 50000$，$1 \\leq |p_i| \\leq 50$，$1 \\leq |q_i| \\leq 50$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Python A] 网络流量监控", "background": "2025-06-16 21:45 根据题意和样例，目前洛谷数据的 $q_i$ 中不带 `*` 通配符。如果蓝桥杯官方数据中证实带有通配符，那么我们会修改本题数据。", "description": "网络安全团队需要开发一个系统来监控和检测恶意网络流量。他们收集了一系列已知的恶意请求路径模式，每个模式都有一个对应的风险等级。你的任务是实现一个算法，检测给定的网络请求路径是否匹配这些模式，并返回匹配模式中最高的风险等级。下面是恶意请求路径的相关描述：\n\n### 路径格式\n- 路径由斜杠（/）分隔的若干段组成，如 `/api/users/profile`。\n- 路径总是以斜杠（/）开头。\n- 路径中的每一段可以是由小写英文字母和数字组成的非空字符串。当路径为路径模式时，路径中的一段还可以是通配符 `*` 或 `**`。\n\n### 通配符规则\n- 通配符包括单通配符（`*`）和双通配符（`**`），只能是路径模式中的完整一段。一个路径中最多有一段通配符，不能出现两个单通配符，不能出现两个双通配符，也不能同时出现单通配符和双通配符。\n- 单通配符（`*`）用于匹配路径中的任意一段。\n    - 例如：`/api/*/delete` 可以匹配 `/api/users/delete` 或 `/api/files/delete`，但不能匹配 `/api/admin/users/delete`。\n- 双通配符（`**`）用于匹配路径中的零段或连续多段。\n    - 例如：`/api/admin/**` 可以匹配 `/api/admin`、`/api/admin/users` 或 `/api/admin/users/profile`。\n    - 例如：`/static/**/execute` 可以匹配 `/static/execute`、\n`/static/js/execute` 或 `/static/css/js/execute`。\n\n### 风险评估\n- 每个恶意路径模式都有一个风险等级。\n- 如果一个请求同时匹配多个模式，返回风险等级最高的。\n- 如果不匹配任何模式，返回 `SAFE`。\n\n你需要实现一个算法，给定恶意请求路径模式集合和一系列网络请求路径，判断每个网络请求是否触发警报，并且返回触发的最高风险等级。", "inputFormat": "输入的第一行包含一个正整数 $n$ ，表示恶意路径模式的数量\n\n接下来 $n$ 行，每行包含一个整数 $l_i$ 和一个字符串 $p_i$ ，用一个空格分隔，表示一个恶意请求路径模式，$l_i$ 表示风险等级，$p_i$ 表示路径模式。\n\n接下来一行包含一个整数 $m$ ，表示要检测的网络请求数量。\n\n接下来 $m$ 行，每行包含一个字符串 $q_i$ ，表示一个网络请求路径。", "outputFormat": "对于每个网络请求路径，输出一行，包含检测结果。如果触发警报，输出 `ALERT: [风险等级]`；如果没有触发警报，输出 `SAFE`。", "hint": "**【样例说明】**\n\n1. `/api/users/profile` - 不匹配任何模式，所以是 SAFE。\n2. `/api/admin/users` - 匹配 `/api/admin/**`，风险等级 80。\n3. `/api/config/delete` - 匹配 `/api/*/delete`，其中 `*` 匹配 `config`，风险等级 60。\n4. `/dev/config/system` - 匹配 `/*/config/system`，其中 `*` 匹配 `dev`，风险等级 75。\n5. `/static/js/execute` - 匹配 `/static/**/execute`，其中 `**` 匹配 `js`，风险等级 50。\n6. `/api/users/123/password` - 匹配 /`api/users/*/password`，其中 `*` 匹配 `123`，风险等级 90。\n7. `/static/css/js/execute` - 匹配 `/static/**/execute`，其中 `**` 匹配 `css/js`，风险等级 50。\n8. `/api/admin` - 匹配 `/api/admin/**`，其中 `**` 匹配空（0 个段），风险等级 80。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$1 \\leq n \\leq 10, 1 \\leq m \\leq 10$；\n\n对于 $40\\%$ 的评测用例，$1 \\leq n \\leq 100, 1 \\leq m \\leq 100$；\n\n对于 $60\\%$ 的评测用例，$1 \\leq n \\leq 1000, 1 \\leq m \\leq 1000$；\n\n对于所有评测用例，$1 \\leq n \\leq 10,000$，$1 \\leq m \\leq 1000$，$1 \\leq l_i \\leq 50000$，$1 \\leq |p_i| \\leq 50$，$1 \\leq |q_i| \\leq 50$。", "locale": "zh-CN"}}}
{"pid": "P12876", "type": "P", "difficulty": 4, "samples": [["5", "1 1\n2 3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Python A] 杨辉三角", "background": "", "description": "小蓝最近迷上了杨辉三角, 杨辉三角是一个无限向下递增的数字三角形。下图展示了杨辉三角的前 $11$ 行：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ofo2lqoz.png)\n\n我们定义函数 $f(i)$ 表示数字 $i$ 在杨辉三角中出现的次数（其中 $i \\geq 2$）。\n\n现在，给定一个正整数 $n$（$n \\geq 2$），请你完成以下任务：\n- 对于所有满足 $2 \\leq x \\leq n$ 的整数 $x$，计算出对应的 $f(x)$；\n- 将所有具有相同 $f(x)$ 值的数字归为一组；\n- 统计并输出每个不同的 $f(x)$ 值出现了多少次。", "inputFormat": "输入一行包含一个正整数 $n$。\n", "outputFormat": "输出若干行。第 $i$ 行包含两个整数 $v_i, c_i$，用一个空格分隔，表示使得函数 $f(x) = v_i$ 的个数为 $c_i$。按照 $v_i$ 从小到大的顺序输出。", "hint": "**【样例说明】**\n\n$x$ 的取值范围是 $[2, 5]$，其中 $f(2) = 1$，$f(3) = f(4) = f(5) = 2$，即值为 $1$ 出现了 $1$ 次，值为 $2$ 出现了 $3$ 次。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$2 \\leq n \\leq 100$；\n\n对于 $40\\%$ 的评测用例，$2 \\leq n \\leq 1000$；\n\n对于 $60\\%$ 的评测用例，$2 \\leq n \\leq 10,000$；\n\n对于所有评测用例，$2 \\leq n \\leq 100,000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Python A] 杨辉三角", "background": "", "description": "小蓝最近迷上了杨辉三角, 杨辉三角是一个无限向下递增的数字三角形。下图展示了杨辉三角的前 $11$ 行：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ofo2lqoz.png)\n\n我们定义函数 $f(i)$ 表示数字 $i$ 在杨辉三角中出现的次数（其中 $i \\geq 2$）。\n\n现在，给定一个正整数 $n$（$n \\geq 2$），请你完成以下任务：\n- 对于所有满足 $2 \\leq x \\leq n$ 的整数 $x$，计算出对应的 $f(x)$；\n- 将所有具有相同 $f(x)$ 值的数字归为一组；\n- 统计并输出每个不同的 $f(x)$ 值出现了多少次。", "inputFormat": "输入一行包含一个正整数 $n$。\n", "outputFormat": "输出若干行。第 $i$ 行包含两个整数 $v_i, c_i$，用一个空格分隔，表示使得函数 $f(x) = v_i$ 的个数为 $c_i$。按照 $v_i$ 从小到大的顺序输出。", "hint": "**【样例说明】**\n\n$x$ 的取值范围是 $[2, 5]$，其中 $f(2) = 1$，$f(3) = f(4) = f(5) = 2$，即值为 $1$ 出现了 $1$ 次，值为 $2$ 出现了 $3$ 次。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$2 \\leq n \\leq 100$；\n\n对于 $40\\%$ 的评测用例，$2 \\leq n \\leq 1000$；\n\n对于 $60\\%$ 的评测用例，$2 \\leq n \\leq 10,000$；\n\n对于所有评测用例，$2 \\leq n \\leq 100,000$。", "locale": "zh-CN"}}}
{"pid": "P12877", "type": "P", "difficulty": 4, "samples": [["4\n2 3 4 5\n2 3 4 1", "1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "哈希 hashing", "KMP 算法", "差分", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Python A] 心意", "background": "", "description": "小蓝有一个序列 $a$，同时他的朋友小乔有一个序列 $b$。\n\n我们认为两个序列是和谐的，当且仅当存在某个数 $x$，使得对于所有的 $i$ 有 $a_i + x = b_i$。\n\n现在小蓝可以让序列 $a$ 旋转，即通过一次参数为 $k$ 的旋转可以将序列 $a_1, a_2, \\cdots, a_n$ 变为 $a_{1+k}, a_{2+k}, \\cdots, a_n, a_1, a_2, \\cdots, a_k$。\n\n小蓝希望知道，是否存在这样的旋转操作，能够让序列 $a$ 和 $b$ 是和谐的。\n\n输出共一行，一个自然数 $k$ 表示参数为 $k$ 的旋转操作能够让 $a, b$ 是和谐的，如果存在多个这样的 $k$，请输出最小的 $k$，如果不存在这样的 $k$，请输出 $-1$。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n\n第三行包含 $n$ 个正整数 $b_1, b_2, \\cdots, b_n$，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案，如果不存在，请输出整数 $-1$。", "hint": "**【样例说明】**\n\n小蓝可以让序列 $a$ 旋转得到 $3 \\ 4 \\ 5 \\ 2$，根据和谐序列的定义，令 $x = -1$，那么此时 $a, b$ 就是和谐的。\n\n**【评测用例规模与约定】**\n\n对于 $50\\%$ 的评测用例，$n \\leq 3000$；\n\n对于 $80\\%$ 的评测用例，对于任意 $i \\neq j$ 有 $a_i \\neq a_j$；\n\n对于所有评测用例，$1 \\leq n \\leq 5 \\times 10^5$，$1 \\leq a_i, b_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Python A] 心意", "background": "", "description": "小蓝有一个序列 $a$，同时他的朋友小乔有一个序列 $b$。\n\n我们认为两个序列是和谐的，当且仅当存在某个数 $x$，使得对于所有的 $i$ 有 $a_i + x = b_i$。\n\n现在小蓝可以让序列 $a$ 旋转，即通过一次参数为 $k$ 的旋转可以将序列 $a_1, a_2, \\cdots, a_n$ 变为 $a_{1+k}, a_{2+k}, \\cdots, a_n, a_1, a_2, \\cdots, a_k$。\n\n小蓝希望知道，是否存在这样的旋转操作，能够让序列 $a$ 和 $b$ 是和谐的。\n\n输出共一行，一个自然数 $k$ 表示参数为 $k$ 的旋转操作能够让 $a, b$ 是和谐的，如果存在多个这样的 $k$，请输出最小的 $k$，如果不存在这样的 $k$，请输出 $-1$。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n\n第三行包含 $n$ 个正整数 $b_1, b_2, \\cdots, b_n$，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案，如果不存在，请输出整数 $-1$。", "hint": "**【样例说明】**\n\n小蓝可以让序列 $a$ 旋转得到 $3 \\ 4 \\ 5 \\ 2$，根据和谐序列的定义，令 $x = -1$，那么此时 $a, b$ 就是和谐的。\n\n**【评测用例规模与约定】**\n\n对于 $50\\%$ 的评测用例，$n \\leq 3000$；\n\n对于 $80\\%$ 的评测用例，对于任意 $i \\neq j$ 有 $a_i \\neq a_j$；\n\n对于所有评测用例，$1 \\leq n \\leq 5 \\times 10^5$，$1 \\leq a_i, b_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P12878", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [1000], "memory": [262144]}, "tags": ["2025", "蓝桥杯国赛", "折半搜索 meet in the middle"], "title": "[蓝桥杯 2025 国 C] 拔河", "background": "", "description": "小蓝的学校正在举办一场拔河比赛，小蓝的任务是将队员分成实力尽可能平均的两组，这样比赛更加公平，观众也能够享受到更多的乐趣。\n\n具体地说，每个队员都有一个力量值，小蓝希望两组队员分别的力量值之和的差的绝对值尽可能小。\n\n40 位同学的力量值分别是：\n\n345590635693812, 411735179294186, 190029355501347, 973598561303630,\n18202819016954, 739089526396984, 41064501651340, 287075700776565,\n458062562307032, 723278851371706, 997720296178889, 470475557480472,\n329586527903215, 907379737442406, 631284976214798, 301204036247736,\n747294692547790, 914091289062262, 144070679727924, 988094642462741,\n413975599277375, 835461430976017, 344371572186185, 646160866308904,\n880407857470630, 794629069521762, 462180977651587, 342038139286302,\n854772507978666, 694223418935656, 567502001946067, 881035713848915,\n840605474892139, 324727089144326, 226008847101330, 65143946718125,\n499249957077991, 245803813100131, 447887480320685, 658036302578844.\n\n在试题文件夹中有一个文件 tug.txt ，里面保存着这 40 个数。\n\n请你帮小蓝求出这个最小的力量值之差的绝对值，注意：两组队员人数可以不同，每一个队员都必须被选入两组队伍中的某一组，不允许有队员被遗漏或重复分配。", "inputFormat": "", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 拔河", "background": "", "description": "小蓝的学校正在举办一场拔河比赛，小蓝的任务是将队员分成实力尽可能平均的两组，这样比赛更加公平，观众也能够享受到更多的乐趣。\n\n具体地说，每个队员都有一个力量值，小蓝希望两组队员分别的力量值之和的差的绝对值尽可能小。\n\n40 位同学的力量值分别是：\n\n345590635693812, 411735179294186, 190029355501347, 973598561303630,\n18202819016954, 739089526396984, 41064501651340, 287075700776565,\n458062562307032, 723278851371706, 997720296178889, 470475557480472,\n329586527903215, 907379737442406, 631284976214798, 301204036247736,\n747294692547790, 914091289062262, 144070679727924, 988094642462741,\n413975599277375, 835461430976017, 344371572186185, 646160866308904,\n880407857470630, 794629069521762, 462180977651587, 342038139286302,\n854772507978666, 694223418935656, 567502001946067, 881035713848915,\n840605474892139, 324727089144326, 226008847101330, 65143946718125,\n499249957077991, 245803813100131, 447887480320685, 658036302578844.\n\n在试题文件夹中有一个文件 tug.txt ，里面保存着这 40 个数。\n\n请你帮小蓝求出这个最小的力量值之差的绝对值，注意：两组队员人数可以不同，每一个队员都必须被选入两组队伍中的某一组，不允许有队员被遗漏或重复分配。", "inputFormat": "", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12879", "type": "P", "difficulty": 2, "samples": [["1 2 3", "0"], ["5 9 2", "3"], ["5 6 5", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "贪心", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 C] 打破规则", "background": "", "description": "蓝桥小镇的钟表铺里，工匠小蓝正在修复一座三针时钟。其中，时针的长度为 $A$，分针的长度为 $B$，秒针的长度为 $C$，均为正整数。制造商为追求独特的设计，设定了以下规则：\n\n- 三根指针的长度互不相同，即 $A \\neq B$，$A \\neq C$，$B \\neq C$；\n- 将三根指针的长度从大到小排序后，第二长的指针必须是时针（长度 $A$）或秒针（长度 $C$）。\n\n然而，这些规则会导致指针运行时相互干扰，影响时钟的稳定性。于是，小蓝决定调整指针长度，打破上述规则：要么三根指针的长度不互不相同（存在至少两根指针的长度相同），要么第二长的指针不是 $A$ 或 $C$。他可以执行以下三种操作：\n\n- 将时针的长度 $A$ 减少 1；\n- 将分针的长度 $B$ 减少 1；\n- 将秒针的长度 $C$ 减少 1。\n\n调整后的指针长度必须为正整数，即 $A, B, C > 0$。\n\n现在，请你帮助小蓝计算，打破制造商规则所需的最小操作次数。", "inputFormat": "输入一行包含三个正整数 $A, B, C$，相邻整数之间使用一个空格分隔，分别表示时针、分针和秒针的初始长度。", "outputFormat": "输出一行包含一个整数，表示打破制造商规则所需的最小操作次数。", "hint": "**【评测用例规模与约定】**\n\n对于 $50\\%$ 的评测用例，$1 \\leq A, B, C \\leq 100$；\n\n对于所有评测用例，$1 \\leq A, B, C \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 打破规则", "background": "", "description": "蓝桥小镇的钟表铺里，工匠小蓝正在修复一座三针时钟。其中，时针的长度为 $A$，分针的长度为 $B$，秒针的长度为 $C$，均为正整数。制造商为追求独特的设计，设定了以下规则：\n\n- 三根指针的长度互不相同，即 $A \\neq B$，$A \\neq C$，$B \\neq C$；\n- 将三根指针的长度从大到小排序后，第二长的指针必须是时针（长度 $A$）或秒针（长度 $C$）。\n\n然而，这些规则会导致指针运行时相互干扰，影响时钟的稳定性。于是，小蓝决定调整指针长度，打破上述规则：要么三根指针的长度不互不相同（存在至少两根指针的长度相同），要么第二长的指针不是 $A$ 或 $C$。他可以执行以下三种操作：\n\n- 将时针的长度 $A$ 减少 1；\n- 将分针的长度 $B$ 减少 1；\n- 将秒针的长度 $C$ 减少 1。\n\n调整后的指针长度必须为正整数，即 $A, B, C > 0$。\n\n现在，请你帮助小蓝计算，打破制造商规则所需的最小操作次数。", "inputFormat": "输入一行包含三个正整数 $A, B, C$，相邻整数之间使用一个空格分隔，分别表示时针、分针和秒针的初始长度。", "outputFormat": "输出一行包含一个整数，表示打破制造商规则所需的最小操作次数。", "hint": "**【评测用例规模与约定】**\n\n对于 $50\\%$ 的评测用例，$1 \\leq A, B, C \\leq 100$；\n\n对于所有评测用例，$1 \\leq A, B, C \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P12880", "type": "P", "difficulty": 4, "samples": [["6\n2 1 3 6 4 7", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "双指针 two-pointer", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 C] 数字配对", "background": "", "description": "小蓝有一个长度为 $n$ 的正整数数组 $A = [a_1, a_2, \\cdots, a_n]$，每当他从中拿出一对数 $(a_i, a_j)$，其中 $i < j$，他会得到它们的差 $b = a_j - a_i$。然而，他特别喜欢整数 $1$，所以他想知道在数组 $A$ 中最多同时能取出多少对正整数 $(a_i, a_j)$，每个数最多被取一次，使得它们的差为 $1$。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案：$(a_1, a_3), (a_4, a_6)$。\n\n提示：$(a_1, a_2)$ 的差为 $a_2 - a_1 = -1$，不是小蓝喜欢的。\n\n**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$1 \\leq n \\leq 10^3$，$1 \\leq a_i \\leq 10^3$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^6$，$1 \\leq a_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 数字配对", "background": "", "description": "小蓝有一个长度为 $n$ 的正整数数组 $A = [a_1, a_2, \\cdots, a_n]$，每当他从中拿出一对数 $(a_i, a_j)$，其中 $i < j$，他会得到它们的差 $b = a_j - a_i$。然而，他特别喜欢整数 $1$，所以他想知道在数组 $A$ 中最多同时能取出多少对正整数 $(a_i, a_j)$，每个数最多被取一次，使得它们的差为 $1$。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案：$(a_1, a_3), (a_4, a_6)$。\n\n提示：$(a_1, a_2)$ 的差为 $a_2 - a_1 = -1$，不是小蓝喜欢的。\n\n**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$1 \\leq n \\leq 10^3$，$1 \\leq a_i \\leq 10^3$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^6$，$1 \\leq a_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P12881", "type": "P", "difficulty": 3, "samples": [["6 2 2\n5 5 5 6 3 2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2025", "排序", "蓝桥杯国赛", "分类讨论"], "title": "[蓝桥杯 2025 国 C] 宗门大比", "background": "", "description": "小蓝所在宗门准备进行宗门大比，共有 $n$ 名弟子参与，从左到右站成一排。第 $i$ 名弟子的功力值为 $a_i$，小蓝是第 $k$ 名弟子。宗门大比将举行 $m$ 次切磋，每次切磋由两名弟子进行，其中功力值高的弟子将获胜，功力值低的弟子的功力值将减 $1$。如果切磋的两名弟子功力值相同则平局，切磋后两名弟子的功力值保持不变。同一名弟子可能参与多次切磋，也可能一次都不参与。一名弟子可以和多名弟子切磋，两人也可以进行多次切磋。\n\n切磋结束后，弟子们将按照功力值从高到低的顺序进入藏宝阁进行功法挑选，功力值相同的弟子按初始站位靠左的优先。小蓝想知道，如果他能规定每次切磋的人选，他在最优情况下能第几个进入藏宝阁？", "inputFormat": "输入的第一行包含三个正整数 $n, m, k$，相邻整数之间使用一个空格分隔。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案：第一次切磋 $(a_1, a_4)$，第二次切磋 $(a_1, a_6)$，最终功力值分别为 $4, 5, 5, 6, 3, 1$，小蓝 $a_2 = 5$ 排第二。\n\n**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$2 \\leq n \\leq 100$；\n\n对于所有评测用例，$2 \\leq n \\leq 500000$，$1 \\leq a_i \\leq 1000$，$1 \\leq k, m \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 宗门大比", "background": "", "description": "小蓝所在宗门准备进行宗门大比，共有 $n$ 名弟子参与，从左到右站成一排。第 $i$ 名弟子的功力值为 $a_i$，小蓝是第 $k$ 名弟子。宗门大比将举行 $m$ 次切磋，每次切磋由两名弟子进行，其中功力值高的弟子将获胜，功力值低的弟子的功力值将减 $1$。如果切磋的两名弟子功力值相同则平局，切磋后两名弟子的功力值保持不变。同一名弟子可能参与多次切磋，也可能一次都不参与。一名弟子可以和多名弟子切磋，两人也可以进行多次切磋。\n\n切磋结束后，弟子们将按照功力值从高到低的顺序进入藏宝阁进行功法挑选，功力值相同的弟子按初始站位靠左的优先。小蓝想知道，如果他能规定每次切磋的人选，他在最优情况下能第几个进入藏宝阁？", "inputFormat": "输入的第一行包含三个正整数 $n, m, k$，相邻整数之间使用一个空格分隔。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n其中一种方案：第一次切磋 $(a_1, a_4)$，第二次切磋 $(a_1, a_6)$，最终功力值分别为 $4, 5, 5, 6, 3, 1$，小蓝 $a_2 = 5$ 排第二。\n\n**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$2 \\leq n \\leq 100$；\n\n对于所有评测用例，$2 \\leq n \\leq 500000$，$1 \\leq a_i \\leq 1000$，$1 \\leq k, m \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P12882", "type": "P", "difficulty": 4, "samples": [["8 2\n5 2 7 5 5 9 3 7", "19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "单调队列", "2025", "动态规划优化", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 C] 数列染色", "background": "", "description": "有一个长度为 $n$ 的数列 $(a_1, a_2, \\cdots, a_n)$，初始时只有 $a_1$ 和 $a_n$ 是黑色的，其它数都是白色的。小蓝可以选择若干白色的数将其染黑，但是必须满足相邻的两个黑色的数之间最多包含 $k$ 个白色的数，他想让所有黑色的数的和尽可能小，请问他最少可以让所有黑色的数的和为多少。", "inputFormat": "输入的第一行包含两个整数 $n, k$，用一个空格分隔。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n选择染黑 $a_2, a_5$，黑色的数的和为 $5 + 2 + 5 + 7 = 19$。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$1 \\leq n \\leq 10$；\n\n对于 $50\\%$ 的评测用例，$1 \\leq n \\leq 5000$；\n\n对于所有评测用例，$0 \\leq k < n \\leq 10^5$，$1 \\leq a_i \\leq 10^6$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 数列染色", "background": "", "description": "有一个长度为 $n$ 的数列 $(a_1, a_2, \\cdots, a_n)$，初始时只有 $a_1$ 和 $a_n$ 是黑色的，其它数都是白色的。小蓝可以选择若干白色的数将其染黑，但是必须满足相邻的两个黑色的数之间最多包含 $k$ 个白色的数，他想让所有黑色的数的和尽可能小，请问他最少可以让所有黑色的数的和为多少。", "inputFormat": "输入的第一行包含两个整数 $n, k$，用一个空格分隔。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n选择染黑 $a_2, a_5$，黑色的数的和为 $5 + 2 + 5 + 7 = 19$。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$1 \\leq n \\leq 10$；\n\n对于 $50\\%$ 的评测用例，$1 \\leq n \\leq 5000$；\n\n对于所有评测用例，$0 \\leq k < n \\leq 10^5$，$1 \\leq a_i \\leq 10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P12883", "type": "P", "difficulty": 4, "samples": [["15\n1 1 1 1 2 2 1 2 2 2 1 1 1 1 1", "8760"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "组合数学", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 C] 正方形构造", "background": "", "description": "小蓝正在二维坐标系中构造正方形，他手上有 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，他想知道有多少个有序四元组 $(i, j, p, q)$ 满足 $i, j, p, q$ 互不相同，且四个点：$(0,0)$、$(-a_i, a_j)$、$(a_p, a_q)$、$(a_p - a_i, a_j + a_q)$ 能构成一个正方形？", "inputFormat": "输入的第一行包含一个正整数 $n$ 。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$ ，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。答案可能很大，请输出答案除以 $1000000007$ （即 $10^9 + 7$ ）的余数。", "hint": "**【样例说明】**\n\n可用的数一共有 $10$ 个 $1$ 和 $5$ 个 $2$。\n\n取 $a_i = 1, a_j = 2, a_p = 2, a_q = 1$ 时，有 $A_{10}^2 A_{5}^2 = 1800$ 种方案；\n\n取 $a_i = 2, a_j = 1, a_p = 1, a_q = 2$ 时，有 $A_{10}^2 A_{5}^2 = 1800$ 种方案；\n\n取 $a_i = 1, a_j = 1, a_p = 1, a_q = 1$ 时，有 $A_{10}^{4} = 5040$ 种方案；\n\n取 $a_i = 2, a_j = 2, a_p = 2, a_q = 2$ 时，有 $A_{5}^{4} = 120$ 种方案；\n\n总共有 $8760$ 种方案。\n\n**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$1 \\leq n \\leq 100$；\n\n对于所有评测用例，$1 \\leq n \\leq 1000000$，$1 \\leq a_i \\leq 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 正方形构造", "background": "", "description": "小蓝正在二维坐标系中构造正方形，他手上有 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$，他想知道有多少个有序四元组 $(i, j, p, q)$ 满足 $i, j, p, q$ 互不相同，且四个点：$(0,0)$、$(-a_i, a_j)$、$(a_p, a_q)$、$(a_p - a_i, a_j + a_q)$ 能构成一个正方形？", "inputFormat": "输入的第一行包含一个正整数 $n$ 。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\cdots, a_n$ ，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。答案可能很大，请输出答案除以 $1000000007$ （即 $10^9 + 7$ ）的余数。", "hint": "**【样例说明】**\n\n可用的数一共有 $10$ 个 $1$ 和 $5$ 个 $2$。\n\n取 $a_i = 1, a_j = 2, a_p = 2, a_q = 1$ 时，有 $A_{10}^2 A_{5}^2 = 1800$ 种方案；\n\n取 $a_i = 2, a_j = 1, a_p = 1, a_q = 2$ 时，有 $A_{10}^2 A_{5}^2 = 1800$ 种方案；\n\n取 $a_i = 1, a_j = 1, a_p = 1, a_q = 1$ 时，有 $A_{10}^{4} = 5040$ 种方案；\n\n取 $a_i = 2, a_j = 2, a_p = 2, a_q = 2$ 时，有 $A_{5}^{4} = 120$ 种方案；\n\n总共有 $8760$ 种方案。\n\n**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$1 \\leq n \\leq 100$；\n\n对于所有评测用例，$1 \\leq n \\leq 1000000$，$1 \\leq a_i \\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P12884", "type": "P", "difficulty": 4, "samples": [["233 1", "46"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "数位 DP", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 C] 整齐的数", "background": "", "description": "小蓝喜欢整齐的数，也就是对于一个数，他喜欢那些所有相邻数位上数字的差的绝对值之和较小的数。\n\n小蓝认为，如果一个数所有的相邻数位之间的差值的绝对值之和不超过 $m$ ，这个数就是整齐的。\n\n给定 $n, m$ ，请你帮小蓝求出 $n$ 以内有多少个非负整数是整齐的。", "inputFormat": "输入一行包含两个正整数 $n, m$ ，用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n符合输入要求的所有数分别为：\n\n- 0,1,2,3,4,5,6,7,8,9；\n- 10,11,12,21,22,23,32,33,34,43,44,45,54,55,56,65,66,67,76,77,78,87,88,89,98,99；\n- 100,110,111,112,122,211,221,222,223,233。\n\n**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$1 \\leq n \\leq 10^6$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^{18}$，$1 \\leq m \\leq 200$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 C] 整齐的数", "background": "", "description": "小蓝喜欢整齐的数，也就是对于一个数，他喜欢那些所有相邻数位上数字的差的绝对值之和较小的数。\n\n小蓝认为，如果一个数所有的相邻数位之间的差值的绝对值之和不超过 $m$ ，这个数就是整齐的。\n\n给定 $n, m$ ，请你帮小蓝求出 $n$ 以内有多少个非负整数是整齐的。", "inputFormat": "输入一行包含两个正整数 $n, m$ ，用一个空格分隔。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n符合输入要求的所有数分别为：\n\n- 0,1,2,3,4,5,6,7,8,9；\n- 10,11,12,21,22,23,32,33,34,43,44,45,54,55,56,65,66,67,76,77,78,87,88,89,98,99；\n- 100,110,111,112,122,211,221,222,223,233。\n\n**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$1 \\leq n \\leq 10^6$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^{18}$，$1 \\leq m \\leq 200$。", "locale": "zh-CN"}}}
{"pid": "P12885", "type": "P", "difficulty": 2, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["2025", "提交答案", "组合数学", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 农场监控", "background": "", "description": "一位农民正在规划他的高科技农场，他希望利用无人机和摄像头对农作物进行实时监控。为了实现这一目标，他将农场划分为一个 $2025 \\times 2025$ 的网格，其中每个网格单元代表一小块农田。整个网格中共有 $2026 \\times 2026$ 个顶点（即网格线相交形成的点），这些顶点可以作为监控设备的安装位置。\n\n为了提高监控效率，农民决定选择一个矩形区域进行重点监测。具体来说，他会选择网格中 4 个不同的顶点作为矩形的四个顶点，并且保证矩形的边必须平行于网格的水平或垂直方向。\n\n现在，请你帮助这位农民计算，总共有多少种方法，可以选择 4 个点，构成满足上述条件的矩形。两种选法被视为不同的方法当且仅当最后形成的矩形区域不同。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 农场监控", "background": "", "description": "一位农民正在规划他的高科技农场，他希望利用无人机和摄像头对农作物进行实时监控。为了实现这一目标，他将农场划分为一个 $2025 \\times 2025$ 的网格，其中每个网格单元代表一小块农田。整个网格中共有 $2026 \\times 2026$ 个顶点（即网格线相交形成的点），这些顶点可以作为监控设备的安装位置。\n\n为了提高监控效率，农民决定选择一个矩形区域进行重点监测。具体来说，他会选择网格中 4 个不同的顶点作为矩形的四个顶点，并且保证矩形的边必须平行于网格的水平或垂直方向。\n\n现在，请你帮助这位农民计算，总共有多少种方法，可以选择 4 个点，构成满足上述条件的矩形。两种选法被视为不同的方法当且仅当最后形成的矩形区域不同。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12886", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["2025", "组合数学", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 分配房子", "background": "", "description": "蓝桥小镇有 $20255202$ 栋楼房排成一列，每栋楼有两套房子：一套在一楼，一套在二楼。镇长决定将这些房子分配给本地居民或外来游客居住，并设定了如下规则：\n\n- 每一栋楼里，必须有一套是本地居民住，另一套是外来游客住。\n- 从本地居民住户中，分别往左、右看同一楼层的邻居。如果某个邻居也住着本地居民，就记录一次（如果某个本地居民的同一楼层的左、右邻居都是本地居民，记录两次）。最后把所有这样的记录加起来，总数是 $5202$。\n\n现在，请你计算出满足这两个规则的房子分配方案总数。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 分配房子", "background": "", "description": "蓝桥小镇有 $20255202$ 栋楼房排成一列，每栋楼有两套房子：一套在一楼，一套在二楼。镇长决定将这些房子分配给本地居民或外来游客居住，并设定了如下规则：\n\n- 每一栋楼里，必须有一套是本地居民住，另一套是外来游客住。\n- 从本地居民住户中，分别往左、右看同一楼层的邻居。如果某个邻居也住着本地居民，就记录一次（如果某个本地居民的同一楼层的左、右邻居都是本地居民，记录两次）。最后把所有这样的记录加起来，总数是 $5202$。\n\n现在，请你计算出满足这两个规则的房子分配方案总数。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12887", "type": "P", "difficulty": 2, "samples": [["4 2\nTTFF\nFTTF", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "贪心", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 答题数量", "background": "", "description": "小蓝从一间空荡的房间中醒来，眼前放着一张木桌，桌上摆放着两份密封的答案纸，一份属于他，另一份属于他的朋友。每张纸上都写着一个长度为 $N$ 的字符串，仅包含字符 $\\tt T$ 和 $\\tt F$ ——这是他们昨晚参加一场判断题考试后的答题记录。\n\n考试共有 $N$ 道题目，每题的答案只有两种可能：\n- $\\tt T$ 表示 $\\text{True}$（正确）\n- $\\tt F$ 表示 $\\text{False}$（错误）\n\n两人在相互隔离、无法交流的情况下各自完成了作答，并提交了自己的答案。\n\n今早，小蓝收到了一条神秘信息：\n> “你的朋友恰好答对了 $M$ 道题。”\n\n标准答案尚未公布，小蓝无法直接判断自己答对了多少题。然而，基于已知信息，小蓝希望评估出，在所有可能的标准答案中，他自己最多能答对多少题。现在，请你计算小蓝至多能答对的题目数量。", "inputFormat": "第一行包含两个整数 $N$ 和 $M$，分别表示题目数量和朋友答对的题目数量。\n\n第二行包含一个长度为 $N$、仅由字符 $\\text{T}$ 和 $\\text{F}$ 组成的字符串 $S$，表示小蓝的答案。\n\n第三行包含一个长度为 $N$、仅由字符 $\\text{T}$ 和 $\\text{F}$ 组成的字符串 $T$，表示朋友的答案。", "outputFormat": "输出一个整数，表示在所有可能的标准答案中，小蓝最多能答对的题目数量。", "hint": "**【评测用例规模与约定】**\n\n对于 $100\\%$ 的评测用例，$2 \\leq M \\leq N \\leq 10^5$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 答题数量", "background": "", "description": "小蓝从一间空荡的房间中醒来，眼前放着一张木桌，桌上摆放着两份密封的答案纸，一份属于他，另一份属于他的朋友。每张纸上都写着一个长度为 $N$ 的字符串，仅包含字符 $\\tt T$ 和 $\\tt F$ ——这是他们昨晚参加一场判断题考试后的答题记录。\n\n考试共有 $N$ 道题目，每题的答案只有两种可能：\n- $\\tt T$ 表示 $\\text{True}$（正确）\n- $\\tt F$ 表示 $\\text{False}$（错误）\n\n两人在相互隔离、无法交流的情况下各自完成了作答，并提交了自己的答案。\n\n今早，小蓝收到了一条神秘信息：\n> “你的朋友恰好答对了 $M$ 道题。”\n\n标准答案尚未公布，小蓝无法直接判断自己答对了多少题。然而，基于已知信息，小蓝希望评估出，在所有可能的标准答案中，他自己最多能答对多少题。现在，请你计算小蓝至多能答对的题目数量。", "inputFormat": "第一行包含两个整数 $N$ 和 $M$，分别表示题目数量和朋友答对的题目数量。\n\n第二行包含一个长度为 $N$、仅由字符 $\\text{T}$ 和 $\\text{F}$ 组成的字符串 $S$，表示小蓝的答案。\n\n第三行包含一个长度为 $N$、仅由字符 $\\text{T}$ 和 $\\text{F}$ 组成的字符串 $T$，表示朋友的答案。", "outputFormat": "输出一个整数，表示在所有可能的标准答案中，小蓝最多能答对的题目数量。", "hint": "**【评测用例规模与约定】**\n\n对于 $100\\%$ 的评测用例，$2 \\leq M \\leq N \\leq 10^5$。\n", "locale": "zh-CN"}}}
{"pid": "P12888", "type": "P", "difficulty": 2, "samples": [["2\n4 1\n5 2", "2\n3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 钟楼管理员", "background": "", "description": "小蓝是小镇钟楼的管理员，负责维护一座古老的时钟。这座时钟的表盘上刻有从 $1$ 到 $N$ 的连续整数，初始时指针指向 $1$。平时，小蓝通过顺时针或逆时针拨动指针调整时间：顺时针拨动一次，指针从当前数字 $x$ 移至 $x+1$（若 $x=N$，则移至 $1$）；逆时针拨动一次，指针从 $x$ 移至 $x-1$（若 $x=1$，则移至 $N$）。\n\n然而，一场突如其来的暴风雨损坏了钟楼。表盘因风沙侵蚀变得模糊不清，小蓝无法看清指针的当前位置；机械装置也因故障失灵，导致他拨动指针时方向随机——可能是顺时针或逆时针，且拨动前无法预测方向。\n\n小蓝记得暴风雨后他总共拨动了 $K$ 次指针。为了确定指针的最终位置，他希望计算出经过这 $K$ 次随机拨动后，指针最终可能指向的数字有多少个。\n\n现在，请你帮助小蓝解决这个问题。", "inputFormat": "输入的第一行包含一个整数 $T$，表示测试用例的数量。\n\n接下来 $T$ 行，每行包含两个整数 $N$ 和 $K$，分别表示表盘上的数字个数和小蓝拨动指针的次数。\n", "outputFormat": "输出共 $T$ 行，每行包含一个整数，表示经过 $K$ 次随机拨动后，指针最终可能指向的不同数字的个数。", "hint": "**【样例说明】**\n\n对于第一个样例 $N=4, K=1$，表盘有数字 $1, 2, 3, 4$，初始指针指向 $1$。拨动 $1$ 次后，可能顺时针移至 $2$，或逆时针移至 $4$，因此指针最终可能指向的数字有 $2$ 个。\n\n对于第二个样例 $N=5, K=2$，表盘有数字 $1, 2, 3, 4, 5$，初始指针指向 $1$。拨动 $2$ 次后，可能的结果为：顺时针两次至 $3$、顺时针再逆时针或逆时针再顺时针至 $1$、逆时针两次至 $4$，因此指针最终可能指向的数字有 $3$ 个。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$1 \\leq T \\leq 10^2$，$2 \\leq N \\leq 20$，$1 \\leq K \\leq 20$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq T \\leq 10^5$，$2 \\leq N \\leq 10^9$，$1 \\leq K \\leq 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 钟楼管理员", "background": "", "description": "小蓝是小镇钟楼的管理员，负责维护一座古老的时钟。这座时钟的表盘上刻有从 $1$ 到 $N$ 的连续整数，初始时指针指向 $1$。平时，小蓝通过顺时针或逆时针拨动指针调整时间：顺时针拨动一次，指针从当前数字 $x$ 移至 $x+1$（若 $x=N$，则移至 $1$）；逆时针拨动一次，指针从 $x$ 移至 $x-1$（若 $x=1$，则移至 $N$）。\n\n然而，一场突如其来的暴风雨损坏了钟楼。表盘因风沙侵蚀变得模糊不清，小蓝无法看清指针的当前位置；机械装置也因故障失灵，导致他拨动指针时方向随机——可能是顺时针或逆时针，且拨动前无法预测方向。\n\n小蓝记得暴风雨后他总共拨动了 $K$ 次指针。为了确定指针的最终位置，他希望计算出经过这 $K$ 次随机拨动后，指针最终可能指向的数字有多少个。\n\n现在，请你帮助小蓝解决这个问题。", "inputFormat": "输入的第一行包含一个整数 $T$，表示测试用例的数量。\n\n接下来 $T$ 行，每行包含两个整数 $N$ 和 $K$，分别表示表盘上的数字个数和小蓝拨动指针的次数。\n", "outputFormat": "输出共 $T$ 行，每行包含一个整数，表示经过 $K$ 次随机拨动后，指针最终可能指向的不同数字的个数。", "hint": "**【样例说明】**\n\n对于第一个样例 $N=4, K=1$，表盘有数字 $1, 2, 3, 4$，初始指针指向 $1$。拨动 $1$ 次后，可能顺时针移至 $2$，或逆时针移至 $4$，因此指针最终可能指向的数字有 $2$ 个。\n\n对于第二个样例 $N=5, K=2$，表盘有数字 $1, 2, 3, 4, 5$，初始指针指向 $1$。拨动 $2$ 次后，可能的结果为：顺时针两次至 $3$、顺时针再逆时针或逆时针再顺时针至 $1$、逆时针两次至 $4$，因此指针最终可能指向的数字有 $3$ 个。\n\n**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$1 \\leq T \\leq 10^2$，$2 \\leq N \\leq 20$，$1 \\leq K \\leq 20$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq T \\leq 10^5$，$2 \\leq N \\leq 10^9$，$1 \\leq K \\leq 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P12889", "type": "P", "difficulty": 2, "samples": [["5 2\n-1 2 -3 4 -5", "1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 情绪链路", "background": "", "description": "在数字社交媒体的浩瀚世界中，运营者小蓝负责维护一条情绪链路。这条链路由 $n$ 个用户节点依次排列而成，每个节点上记录着一个情绪值。具体地，第 $i$ 个节点的情绪值为 $a_i$，其中 $a_i$ 是一个整数，可能为正，也可能为负。\n\n为了改善整体情绪氛围，小蓝购买了一种名为“情绪放大器”的工具。该工具允许他选择一段**至少包含一个用户节点的连续区间**，并将这个区间内所有用户节点的情绪值都乘以一个整数 $k$。只是，工具启动成本高昂，小蓝只能使用它一次。\n\n现在，请你帮助小蓝计算，在经过这样一次操作后（一定要操作），所有用户节点的情绪值之和最大会是多少。", "inputFormat": "第一行包含两个整数 $n$ 和 $k$，分别表示情绪链路的长度和放大器的倍数。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$，表示每个用户节点的情绪值。", "outputFormat": "输出一行，包含一个整数，表示经过一次操作后，所有用户节点情绪值之和的最大可能值。", "hint": "**【样例说明】**\n\n最优的做法是选择区间 $[4]$ 并使用工具。使用后这 $n$ 个用户节点的情绪值依次为 $[-1, 2, -3, 8, -5]$，总和为 $1$。\n\n**【评测用例规模与约定】**\n\n对于 $30\\%$ 的评测用例，$2 \\leq n \\leq 10^3$，$1 \\leq k \\leq 10^3$，$-10^3 \\leq a_i \\leq 10^3$。\n\n对于 $100\\%$ 的评测用例，$2 \\leq n \\leq 10^5$，$1 \\leq k \\leq 10^5$，$-10^5 \\leq a_i \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 情绪链路", "background": "", "description": "在数字社交媒体的浩瀚世界中，运营者小蓝负责维护一条情绪链路。这条链路由 $n$ 个用户节点依次排列而成，每个节点上记录着一个情绪值。具体地，第 $i$ 个节点的情绪值为 $a_i$，其中 $a_i$ 是一个整数，可能为正，也可能为负。\n\n为了改善整体情绪氛围，小蓝购买了一种名为“情绪放大器”的工具。该工具允许他选择一段**至少包含一个用户节点的连续区间**，并将这个区间内所有用户节点的情绪值都乘以一个整数 $k$。只是，工具启动成本高昂，小蓝只能使用它一次。\n\n现在，请你帮助小蓝计算，在经过这样一次操作后（一定要操作），所有用户节点的情绪值之和最大会是多少。", "inputFormat": "第一行包含两个整数 $n$ 和 $k$，分别表示情绪链路的长度和放大器的倍数。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$，表示每个用户节点的情绪值。", "outputFormat": "输出一行，包含一个整数，表示经过一次操作后，所有用户节点情绪值之和的最大可能值。", "hint": "**【样例说明】**\n\n最优的做法是选择区间 $[4]$ 并使用工具。使用后这 $n$ 个用户节点的情绪值依次为 $[-1, 2, -3, 8, -5]$，总和为 $1$。\n\n**【评测用例规模与约定】**\n\n对于 $30\\%$ 的评测用例，$2 \\leq n \\leq 10^3$，$1 \\leq k \\leq 10^3$，$-10^3 \\leq a_i \\leq 10^3$。\n\n对于 $100\\%$ 的评测用例，$2 \\leq n \\leq 10^5$，$1 \\leq k \\leq 10^5$，$-10^5 \\leq a_i \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P12890", "type": "P", "difficulty": 4, "samples": [["3 2\n3 1 2", "2"], ["3 3\n1 2 3", "0"], ["3 2\n1 3 2", "-1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树状数组", "2025", "分治", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 道具摆放", "background": "", "description": "小蓝是社区剧团的道具员，他负责管理一排编号为 $1$ 到 $N$ 的道具箱。平常，这些道具箱会按编号升序排列在舞台上。\n\n今天晚上有一场重要的演出，演出开始前，导演小李递给小蓝一份清单，上面写着他想要的道具箱排列顺序：$P_1, P_2, \\ldots, P_N$。导演希望小蓝在演出过程中将这排箱子调整成这个顺序。由于舞台空间狭小，每次调整只能交换相邻两个箱子的位置。且每完成一次交换，舞台灯光就会闪烁一次作为提示。\n\n灯光系统有个特别的节奏设定：每进行 $M$ 次闪烁，灯光就会切换一种模式。为了配合这种节奏，导演强调：必须在某次灯光切换模式的那一瞬间完成所有调整工作。这意味着，小蓝完成调整所需的交换次数必须是 $M$ 的整数倍。\n\n现在，请你帮小蓝计算一下，他最少需要多少次交换操作才能按照导演的要求完成调整。如果无论如何都无法满足要求，则输出 $-1$。\n", "inputFormat": "第一行包含两个整数 $N$ 和 $M$，分别表示道具箱的数量和灯光模式切换的周期。\n\n第二行包含 $N$ 个整数 $P_1, P_2, \\ldots, P_N$，表示导演想要的道具箱排列顺序。", "outputFormat": "输出一个整数，表示最少需要的操作次数。如果无法满足导演的要求，则输出 $-1$。", "hint": "**【评测用例规模与约定】**\n\n对于 $50\\%$ 的评测用例，$1 \\leq N, M \\leq 10^2$，$1 \\leq P_i \\leq N$，$P_1, P_2, \\ldots, P_N$ 互不相同。\n\n对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10^5$，$1 \\leq M \\leq 10^9$，$1 \\leq P_i \\leq N$，$P_1, P_2, \\ldots, P_N$ 互不相同。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 道具摆放", "background": "", "description": "小蓝是社区剧团的道具员，他负责管理一排编号为 $1$ 到 $N$ 的道具箱。平常，这些道具箱会按编号升序排列在舞台上。\n\n今天晚上有一场重要的演出，演出开始前，导演小李递给小蓝一份清单，上面写着他想要的道具箱排列顺序：$P_1, P_2, \\ldots, P_N$。导演希望小蓝在演出过程中将这排箱子调整成这个顺序。由于舞台空间狭小，每次调整只能交换相邻两个箱子的位置。且每完成一次交换，舞台灯光就会闪烁一次作为提示。\n\n灯光系统有个特别的节奏设定：每进行 $M$ 次闪烁，灯光就会切换一种模式。为了配合这种节奏，导演强调：必须在某次灯光切换模式的那一瞬间完成所有调整工作。这意味着，小蓝完成调整所需的交换次数必须是 $M$ 的整数倍。\n\n现在，请你帮小蓝计算一下，他最少需要多少次交换操作才能按照导演的要求完成调整。如果无论如何都无法满足要求，则输出 $-1$。\n", "inputFormat": "第一行包含两个整数 $N$ 和 $M$，分别表示道具箱的数量和灯光模式切换的周期。\n\n第二行包含 $N$ 个整数 $P_1, P_2, \\ldots, P_N$，表示导演想要的道具箱排列顺序。", "outputFormat": "输出一个整数，表示最少需要的操作次数。如果无法满足导演的要求，则输出 $-1$。", "hint": "**【评测用例规模与约定】**\n\n对于 $50\\%$ 的评测用例，$1 \\leq N, M \\leq 10^2$，$1 \\leq P_i \\leq N$，$P_1, P_2, \\ldots, P_N$ 互不相同。\n\n对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10^5$，$1 \\leq M \\leq 10^9$，$1 \\leq P_i \\leq N$，$P_1, P_2, \\ldots, P_N$ 互不相同。\n", "locale": "zh-CN"}}}
{"pid": "P12891", "type": "P", "difficulty": 3, "samples": [["1", "7"], ["2", "35"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 Java B] 瓷砖填充", "background": "", "description": "在新建成的城市数学文化馆中，最引人注目的是一面宏大的展示墙。这面墙上嵌有一个特殊的矩形区域：它由两行瓷砖构成，每行有 $N$ 个格子，整体呈现出一个 $2 \\times N$ 的方格结构。为了致敬数学家欧几里得对数论的贡献，设计师构思了一项美学方案：他们计划使用三种特制的数字瓷砖——分别印有 $6$、$1$ 和 $5$，来填满这些格子，使得任意两个相邻瓷砖上的数字互质。\n\n瓷砖之间共有两种相邻关系：横向相邻（同一行中左右相邻的瓷砖）和纵向相邻（同一列中上下相邻的瓷砖）。无论是哪种相邻关系，它们所承载的数字都必须满足互质条件。\n\n作为受邀的技术顾问，现在，请你计算出在严格遵循上述互质规则的前提下，共有多少种不同的瓷砖填充方法。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。", "inputFormat": "输入一个整数 $N$，表示矩形区域的列数。\n", "outputFormat": "输出一个整数，表示符合互质条件的瓷砖填充方法的数量，对 $10^9 + 7$ 取余后的结果。", "hint": "**【评测用例规模与约定】**\n\n对于 $10\\%$ 的评测用例，$1 \\leq N \\leq 10$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10^5$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 Java B] 瓷砖填充", "background": "", "description": "在新建成的城市数学文化馆中，最引人注目的是一面宏大的展示墙。这面墙上嵌有一个特殊的矩形区域：它由两行瓷砖构成，每行有 $N$ 个格子，整体呈现出一个 $2 \\times N$ 的方格结构。为了致敬数学家欧几里得对数论的贡献，设计师构思了一项美学方案：他们计划使用三种特制的数字瓷砖——分别印有 $6$、$1$ 和 $5$，来填满这些格子，使得任意两个相邻瓷砖上的数字互质。\n\n瓷砖之间共有两种相邻关系：横向相邻（同一行中左右相邻的瓷砖）和纵向相邻（同一列中上下相邻的瓷砖）。无论是哪种相邻关系，它们所承载的数字都必须满足互质条件。\n\n作为受邀的技术顾问，现在，请你计算出在严格遵循上述互质规则的前提下，共有多少种不同的瓷砖填充方法。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。", "inputFormat": "输入一个整数 $N$，表示矩形区域的列数。\n", "outputFormat": "输出一个整数，表示符合互质条件的瓷砖填充方法的数量，对 $10^9 + 7$ 取余后的结果。", "hint": "**【评测用例规模与约定】**\n\n对于 $10\\%$ 的评测用例，$1 \\leq N \\leq 10$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10^5$。\n", "locale": "zh-CN"}}}
