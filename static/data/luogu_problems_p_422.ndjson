{"pid": "P9559", "type": "P", "difficulty": 3, "samples": [["2\n5\n10 5\n1 102\n10 100\n7 4\n9 50\n2\n1 100\n10 1", "8\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "二分", "2023", "山东", "O2优化", "省赛/邀请赛"], "title": "[SDCPC 2023] Fast and Fat", "background": "", "description": "You're participating in a team competition of trail running. There are $n$ members in your team where $v_i$ is the speed of the $i$-th member and $w_i$ is his/her weight.\n\nThe competition allows each team member to move alone or carry another team member on their back. When member $i$ carries member $j$, if member $i$'s weight is greater than or equal to member $j$'s weight, member $i$'s speed remains unchanged at $v_i$. However, if member $i$'s weight is less than member $j$'s weight, member $i$'s speed will decrease by the difference of their weight and becomes $v_i - (w_j - w_i)$. If member $i$'s speed will become negative, then member $i$ is not able to carry member $j$. Each member can only carry at most one other member. If a member is being carried, he/she cannot carry another member at the same time.\n\nFor all members not being carried, the speed of the slowest member is the speed of the whole team. Find the maximum possible speed of the whole team.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains an integer $n$ ($1 \\le n \\le 10^5$) indicating the number of team members.\n\nFor the following $n$ lines, the $i$-th line contains two integers $v_i$ and $w_i$ ($1 \\le v_i, w_i \\le 10^9$) indicating the speed and weight of the $i$-th member.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $10^5$.", "outputFormat": "For each test case output one line containing one integer indicating the maximum speed of the whole team.", "hint": "The optimal strategy for the sample test case is shown as follows:\n\n- Let member $1$ carry member $4$. As $w_1 > w_4$, member $1$'s speed remains unchanged, which is still $10$.\n- Let member $3$ carry member $2$. As $w_3 < w_2$, member $3$'s speed will decrease by $w_2 - w_3 = 2$ and becomes $10 - 2 = 8$.\n- Member $5$ shall move alone. His/Her speed is $9$.\n\nSo the answer is $8$.", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Fast and Fat", "background": "", "description": "You're participating in a team competition of trail running. There are $n$ members in your team where $v_i$ is the speed of the $i$-th member and $w_i$ is his/her weight.\n\nThe competition allows each team member to move alone or carry another team member on their back. When member $i$ carries member $j$, if member $i$'s weight is greater than or equal to member $j$'s weight, member $i$'s speed remains unchanged at $v_i$. However, if member $i$'s weight is less than member $j$'s weight, member $i$'s speed will decrease by the difference of their weight and becomes $v_i - (w_j - w_i)$. If member $i$'s speed will become negative, then member $i$ is not able to carry member $j$. Each member can only carry at most one other member. If a member is being carried, he/she cannot carry another member at the same time.\n\nFor all members not being carried, the speed of the slowest member is the speed of the whole team. Find the maximum possible speed of the whole team.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains an integer $n$ ($1 \\le n \\le 10^5$) indicating the number of team members.\n\nFor the following $n$ lines, the $i$-th line contains two integers $v_i$ and $w_i$ ($1 \\le v_i, w_i \\le 10^9$) indicating the speed and weight of the $i$-th member.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $10^5$.", "outputFormat": "For each test case output one line containing one integer indicating the maximum speed of the whole team.", "hint": "The optimal strategy for the sample test case is shown as follows:\n\n- Let member $1$ carry member $4$. As $w_1 > w_4$, member $1$'s speed remains unchanged, which is still $10$.\n- Let member $3$ carry member $2$. As $w_3 < w_2$, member $3$'s speed will decrease by $w_2 - w_3 = 2$ and becomes $10 - 2 = 8$.\n- Member $5$ shall move alone. His/Her speed is $9$.\n\nSo the answer is $8$.", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Fast and Fat", "background": "", "description": "您正在参加一场团体越野比赛。您的队伍共有 $n$ 名队员，其中第 $i$ 名队员的速度为 $v_i$，体重为 $w_i$。\n\n比赛允许每名队员独立行动，也允许一名队员背着另一名队员一起行动。当队员 $i$ 背着队员 $j$ 时，如果队员 $i$ 的体重大于等于队员 $j$，则队员 $i$ 的移动速度不会变化，仍然为 $v_i$；如果队员 $i$ 的体重小于队员 $j$，则队员 $i$ 的移动速度会减去两者的体重差值，即变为 $v_i - (w_j - w_i)$。如果队员 $i$ 的移动速度将变为负数，则队员 $i$ 无法背起队员 $j$。每名队员最多只能背负另一名队员，被背负的队员无法同时背负其他队员。\n\n所有未被背负的队员中，最慢的队员的速度，即为整个队伍的速度。求整个队伍能达到的最大速度。", "inputFormat": "有多组测试数据。第一行输入一个整数 $T$ 表示测试数据组数，对于每组测试数据：\n\n第一行输入一个整数 $n$（$1 \\le n \\le 10^5$）表示队员人数。\n\n对于接下来 $n$ 行，第 $i$ 行输入两个整数 $v_i$ 和 $w_i$（$1 \\le v_i, w_i \\le 10^9$）表示第 $i$ 名队员的速度和体重。\n\n保证所有数据中 $n$ 之和不超过 $10^5$。", "outputFormat": "每组数据输出一个整数，表示整个队伍可以达到的最大速度。\n\n**【样例解释】**\n\n样例数据的最优策略如下：\n\n- 队员 $1$ 背起队员 $4$。因为 $w_1 > w_4$，因此队员 $1$ 速度不变，仍然为 $10$。\n- 队员 $3$ 背起队员 $2$。因为 $w_3 < w_2$，因此队员 $3$ 的速度减少 $w_2 - w_3 = 2$，即速度变为 $10 - 2 = 8$。\n- 队员 $5$ 独立行动，速度为 $9$。\n\n因此答案为 $8$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9560", "type": "P", "difficulty": 4, "samples": [["4\n101 4 207 3 5\n8 3 16 100 1\n114 514 19 19 810\n1 1 3 1 1", "11\n2\n0\n-1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "2023", "山东", "O2优化", "省赛/邀请赛"], "title": "[SDCPC 2023] Math Problem", "background": "", "description": "Given two positive integers $n$ and $k$, you can perform the following two types of operations any number of times (including zero times):\n\n- Choose an integer $x$ which satisfies $0 \\leq x < k$, and change $n$ into $k\\cdot n+x$. It will cost you $a$ coins to perform this operation once. The integer $x$ you choose each time can be different.\n- Change $n$ into $\\lfloor \\frac{n}{k} \\rfloor$. It will cost you $b$ coins to perform this operation once. Note that $\\lfloor \\frac{n}{k} \\rfloor$ is the largest integer which is less than or equal to $\\frac{n}{k}$.\n\nGiven a positive integer $m$, calculate the minimum number of coins needed to change $n$ into a multiple of $m$. Please note that $0$ is a multiple of any positive integer.\n", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ ($1\\leq T\\leq 10^5$) indicating the number of test cases. For each test case:\n\nThe first line contains five integers $n$, $k$, $m$, $a$, $b$ ($1\\leq n\\leq 10^{18}$, $1\\leq k, m, a, b\\leq 10^9$).", "outputFormat": "For each test case output one line containing one integer, indicating the minimum number of coins needed to change $n$ into a multiple of $m$. If this goal cannot be achieved, output $-1$ instead.", "hint": "For the first sample test case, initially $n=101$. The optimal steps are shown as follows:\n\n- Firstly, perform the second type of operation once. Change $n$ into $\\lfloor \\frac{n}{4} \\rfloor=25$. This step costs $5$ coins.\n- Then, perform the first type of operation once. Choose $x = 3$ and change $n$ into $4\\cdot n+3=103$. This step costs $3$ coins.\n- Then, perform the first type of operation once. Choose $x = 2$ and change $n$ into $4\\cdot n+2=414$. This step costs $3$ coins.\n- As $414=2 \\times 207$, $n$ is a multiple of $m$. The total cost is $5+3+3=11$ coins.\n\nFor the second sample test case, perform the second type of operation twice will change $n$ into $0$. The total cost is $1 + 1 = 2$ coins.\n\nFor the third sample test case, as $n = 114 = 6 \\times 19$ is already a multiple of $m$, no operation is needed. The total cost is $0$ coins.", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Math Problem", "background": "", "description": "Given two positive integers $n$ and $k$, you can perform the following two types of operations any number of times (including zero times):\n\n- Choose an integer $x$ which satisfies $0 \\leq x < k$, and change $n$ into $k\\cdot n+x$. It will cost you $a$ coins to perform this operation once. The integer $x$ you choose each time can be different.\n- Change $n$ into $\\lfloor \\frac{n}{k} \\rfloor$. It will cost you $b$ coins to perform this operation once. Note that $\\lfloor \\frac{n}{k} \\rfloor$ is the largest integer which is less than or equal to $\\frac{n}{k}$.\n\nGiven a positive integer $m$, calculate the minimum number of coins needed to change $n$ into a multiple of $m$. Please note that $0$ is a multiple of any positive integer.\n", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ ($1\\leq T\\leq 10^5$) indicating the number of test cases. For each test case:\n\nThe first line contains five integers $n$, $k$, $m$, $a$, $b$ ($1\\leq n\\leq 10^{18}$, $1\\leq k, m, a, b\\leq 10^9$).", "outputFormat": "For each test case output one line containing one integer, indicating the minimum number of coins needed to change $n$ into a multiple of $m$. If this goal cannot be achieved, output $-1$ instead.", "hint": "For the first sample test case, initially $n=101$. The optimal steps are shown as follows:\n\n- Firstly, perform the second type of operation once. Change $n$ into $\\lfloor \\frac{n}{4} \\rfloor=25$. This step costs $5$ coins.\n- Then, perform the first type of operation once. Choose $x = 3$ and change $n$ into $4\\cdot n+3=103$. This step costs $3$ coins.\n- Then, perform the first type of operation once. Choose $x = 2$ and change $n$ into $4\\cdot n+2=414$. This step costs $3$ coins.\n- As $414=2 \\times 207$, $n$ is a multiple of $m$. The total cost is $5+3+3=11$ coins.\n\nFor the second sample test case, perform the second type of operation twice will change $n$ into $0$. The total cost is $1 + 1 = 2$ coins.\n\nFor the third sample test case, as $n = 114 = 6 \\times 19$ is already a multiple of $m$, no operation is needed. The total cost is $0$ coins.", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Math Problem", "background": "", "description": "给定两个正整数 $n$ 和 $k$，您可以进行以下两种操作任意次（包括零次）：\n\n- 选择一个整数 $x$ 满足 $0 \\leq x < k$，将 $n$ 变为 $k\\cdot n+x$。该操作每次花费 $a$ 枚金币。每次选择的整数 $x$ 可以不同。\n- 将 $n$ 变为 $\\lfloor \\frac{n}{k} \\rfloor$。该操作每次花费 $b$ 枚金币。其中 $\\lfloor \\frac{n}{k} \\rfloor$ 表示小于等于 $\\frac{n}{k}$ 的最大整数。\n\n给定正整数 $m$，求将 $n$ 变为 $m$ 的倍数最少需要花费几枚金币。请注意：$0$ 是任何正整数的倍数。", "inputFormat": "有多组测试数据。第一行输入一个整数 $T$（$1\\leq T\\leq 10^5$）表示测试数据组数。对于每组测试数据：\n\n第一行输入五个正整数 $n$，$k$，$m$，$a$，$b$（$1\\leq n\\leq 10^{18}$，$1\\leq k, m, a, b\\leq 10^9$）。", "outputFormat": "每组数据输出一行一个整数，代表将 $n$ 变为 $m$ 的倍数最少需要花费几枚金币。如果无法完成该目标，输出 $-1$。\n\n**【样例解释】**\n\n对于第一组样例数据，一开始 $n=101$，最优操作如下：\n\n- 首先进行一次第二种操作，将 $n$ 变为 $\\lfloor \\frac{n}{4} \\rfloor=25$，花费 $5$ 枚金币。\n- 接下来进行一次第一种操作，选择 $x = 3$，将 $n$ 变为 $4\\cdot n+3=103$，花费 $3$ 枚金币。\n- 接下来进行一次第一种操作，选择 $x = 2$，将 $n$ 变为 $4\\cdot n+2=414$，花费 $3$ 枚金币。\n- 此时 $414=2 \\times 207$，满足 $n$ 是 $m$ 的倍数。共花费 $5+3+3=11$ 枚金币。\n\n对于第二组样例数据，进行两次第二种操作将 $n$ 变为 $0$。共花费 $1 + 1 = 2$ 枚金币。\n\n对于第三组样例数据，因为 $n = 114 = 6 \\times 19$ 已经是 $m$ 的倍数，因此无需进行任何操作。共花费 $0$ 枚金币。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9561", "type": "P", "difficulty": 5, "samples": [["2\n3\n1 5 0\n3 6 1\n4 7 0\n3\n1 5 0\n7 9 1\n3 6 0", "5\n8"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "线段树", "2023", "山东", "O2优化", "省赛/邀请赛"], "title": "[SDCPC 2023] Colorful Segments", "background": "", "description": "Consider $n$ segments on the number axis, where the left endpoint of the $i$-th segment is $l_i$ and the right endpoint is $r_i$. Each segment has a color where the color of the $i$-th segment is $c_i$ ($0 \\le c_i \\le 1$). There are two types of colors, where $c_i = 0$ indicates a red segment and $c_i = 1$ indicates a blue segment.\n\nYou need to choose some segments (you can also choose no segments at all). If any two chosen segments overlap, then they must have the same color.\n\nCalculate the number of ways to choose segments.\n\nWe say segment $i$ overlaps with segment $j$, if there exists a real number $x$ satisfying both $l_i \\le x \\le r_i$ and $l_j \\le x \\le r_j$.\n\nWe say two ways of choosing segments are different, if there exists an integer $1 \\le k \\le n$ such that the $k$-th segment is chosen in one of the ways and is not chosen in the other.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains an integer $n$ ($1 \\le n \\le 10^5$) indicating the number of segments.\n\nFor the following $n$ lines, the $i$-th line contains three integers $l_i$, $r_i$ and $c_i$ ($1 \\le l_i \\le r_i \\le 10^9$, $0 \\le c_i \\le 1$) indicating the left and right endpoints and the color of the $i$-th segment.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $5 \\times 10^5$.", "outputFormat": "For each test case output one line containing one integer indicating the number of ways to choose segments. As the answer may be large, please output the answer modulo $998244353$.\n", "hint": "For the first sample test case, you cannot choose the $1$-st and the $2$-nd segment, or the $2$-nd and the $3$-rd segment at the same time, because they overlap with each other and have different colors.\n\nFor the second sample test case, as the $2$-nd segment does not overlap with the $1$-st and the $3$-rd segment, you can choose them arbitrary.", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Colorful Segments", "background": "", "description": "Consider $n$ segments on the number axis, where the left endpoint of the $i$-th segment is $l_i$ and the right endpoint is $r_i$. Each segment has a color where the color of the $i$-th segment is $c_i$ ($0 \\le c_i \\le 1$). There are two types of colors, where $c_i = 0$ indicates a red segment and $c_i = 1$ indicates a blue segment.\n\nYou need to choose some segments (you can also choose no segments at all). If any two chosen segments overlap, then they must have the same color.\n\nCalculate the number of ways to choose segments.\n\nWe say segment $i$ overlaps with segment $j$, if there exists a real number $x$ satisfying both $l_i \\le x \\le r_i$ and $l_j \\le x \\le r_j$.\n\nWe say two ways of choosing segments are different, if there exists an integer $1 \\le k \\le n$ such that the $k$-th segment is chosen in one of the ways and is not chosen in the other.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains an integer $n$ ($1 \\le n \\le 10^5$) indicating the number of segments.\n\nFor the following $n$ lines, the $i$-th line contains three integers $l_i$, $r_i$ and $c_i$ ($1 \\le l_i \\le r_i \\le 10^9$, $0 \\le c_i \\le 1$) indicating the left and right endpoints and the color of the $i$-th segment.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $5 \\times 10^5$.", "outputFormat": "For each test case output one line containing one integer indicating the number of ways to choose segments. As the answer may be large, please output the answer modulo $998244353$.\n", "hint": "For the first sample test case, you cannot choose the $1$-st and the $2$-nd segment, or the $2$-nd and the $3$-rd segment at the same time, because they overlap with each other and have different colors.\n\nFor the second sample test case, as the $2$-nd segment does not overlap with the $1$-st and the $3$-rd segment, you can choose them arbitrary.", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Colorful Segments", "background": "", "description": "考虑数轴上的 $n$ 条线段，其中第 $i$ 条线段的左端点为 $l_i$，右端点为 $r_i$。每一条线段都被涂上了颜色，其中第 $i$ 条线段的颜色为 $c_i$（$0 \\le c_i \\le 1$）。颜色共有两种，$c_i = 0$ 代表一条红色的线段，而 $c_i = 1$ 代表一条蓝色的线段。\n\n您需要选择若干条线段（可以不选择任何线段）。如果您选择的任意两条线段有重合，则这两条线段的颜色必须相同。\n\n求选择线段的不同方案数。\n\n称第 $i$ 条线段和第 $j$ 条线段有重合，若存在一个实数 $x$ 同时满足 $l_i \\le x \\le r_i$ 且 $l_j \\le x \\le r_j$。\n\n称两种选择线段的方案是不同的，若存在一个整数 $1 \\le k \\le n$，满足第 $k$ 条线段在其中一个方案中被选择，而在另一个方案中没有被选择。", "inputFormat": "有多组测试数据。第一行输入一个整数 $T$ 表示测试数据组数。对于每组测试数据：\n\n第一行输入一个整数 $n$（$1 \\le n \\le 10^5$）表示线段的数量。\n\n对于接下来 $n$ 行，第 $i$ 行输入三个整数 $l_i$，$r_i$ 和 $c_i$（$1 \\le l_i \\le r_i \\le 10^9$，$0 \\le c_i \\le 1$）表示第 $i$ 条线段的左右端点以及颜色。\n\n保证所有数据 $n$ 之和不超过 $5 \\times 10^5$。", "outputFormat": "每组数据输出一行一个整数表示选择线段的不同方案数。由于答案可能很大，请将答案对 $998244353$ 取模后输出。\n\n**【样例解释】**\n\n对于第一组样例数据，您不能同时选择第 $1$ 和第 $2$ 条线段，也不能同时选择第 $2$ 和第 $3$ 条线段，因为它们有重合且颜色不同。\n\n对于第二组样例数据，因为第 $2$ 条线段与第 $1$ 和第 $3$ 条线段都不重合，因此您可以任意选择线段。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9562", "type": "P", "difficulty": 3, "samples": [["3\n9\n3 -5 5 6 7 -1 9 1 2\n3\n-5 -4 -3\n3\n1 10 100\n", "30\n0\n0\n"]], "limits": {"time": [1000, 1000], "memory": [1048576, 1048576]}, "tags": ["贪心", "2023", "山东", "O2优化", "省赛/邀请赛"], "title": "[SDCPC 2023] Matching", "background": "", "description": "Given an integer sequence $a_1, a_2, \\cdots, a_n$ of length $n$, we construct an undirected graph $G$ from the sequence. More precisely, for all $1 \\le i < j \\le n$, if $i - j = a_i - a_j$, there will be an undirected edge in $G$ connecting vertices $i$ and $j$. The weight of the edge is $(a_i + a_j)$.\n\nFind a matching of $G$ so that the sum of weight of all edges in the matching is maximized, and output this maximized sum.\n\nRecall that a matching of an undirected graph means that we choose some edges from the graph such that any two edges have no common vertices. Specifically, not choosing any edge is also a matching.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains an integer $n$ ($2 \\le n \\le 10^5$) indicating the length of the sequence.\n\nThe second line contains $n$ integers $a_1, a_2, \\cdots, a_n$ ($-10^9 \\le a_i \\le 10^9$) indicating the sequence.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $5 \\times 10^5$.", "outputFormat": "For each test case output one line containing one integer indicating the maximum sum of weight of all edges in a matching.", "hint": "For the first sample test case, the optimal choice is to choose the three edges connecting vertex $3$ and $5$, vertex $4$ and $7$, and finally vertex $8$ and $9$. The sum of weight is $(5 + 7) + (6 + 9) + (1 + 2) = 30$.\n\nFor the second sample test case, as all edges have negative weights, the optimal matching should not choose any edge. The answer is $0$.\n\nFor the third sample test case, as there is no edge in the graph, the answer is $0$.", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Matching", "background": "", "description": "Given an integer sequence $a_1, a_2, \\cdots, a_n$ of length $n$, we construct an undirected graph $G$ from the sequence. More precisely, for all $1 \\le i < j \\le n$, if $i - j = a_i - a_j$, there will be an undirected edge in $G$ connecting vertices $i$ and $j$. The weight of the edge is $(a_i + a_j)$.\n\nFind a matching of $G$ so that the sum of weight of all edges in the matching is maximized, and output this maximized sum.\n\nRecall that a matching of an undirected graph means that we choose some edges from the graph such that any two edges have no common vertices. Specifically, not choosing any edge is also a matching.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains an integer $n$ ($2 \\le n \\le 10^5$) indicating the length of the sequence.\n\nThe second line contains $n$ integers $a_1, a_2, \\cdots, a_n$ ($-10^9 \\le a_i \\le 10^9$) indicating the sequence.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $5 \\times 10^5$.", "outputFormat": "For each test case output one line containing one integer indicating the maximum sum of weight of all edges in a matching.", "hint": "For the first sample test case, the optimal choice is to choose the three edges connecting vertex $3$ and $5$, vertex $4$ and $7$, and finally vertex $8$ and $9$. The sum of weight is $(5 + 7) + (6 + 9) + (1 + 2) = 30$.\n\nFor the second sample test case, as all edges have negative weights, the optimal matching should not choose any edge. The answer is $0$.\n\nFor the third sample test case, as there is no edge in the graph, the answer is $0$.", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Matching", "background": "", "description": "给定长度为 $n$ 的整数序列 $a_1, a_2, \\cdots, a_n$，我们将从该序列中构造出一张无向图 $G$。具体来说，对于所有 $1 \\le i < j \\le n$，若 $i - j = a_i - a_j$，则 $G$ 中将存在一条连接节点 $i$ 与 $j$ 的无向边，其边权为 $(a_i + a_j)$。\n\n求 $G$ 的一个匹配，使得该匹配中所有边的边权之和最大，并输出最大边权之和。\n\n请回忆：无向图的匹配，指的是从该无向图中选出一些边，使得任意两条边都没有公共的节点。特别地，不选任何边也是一个匹配。", "inputFormat": "有多组测试数据。第一行输入一个整数 $T$ 表示测试数据组数。对于每组测试数据：\n\n第一行输入一个整数 $n$（$2 \\le n \\le 10^5$）表示序列的长度。\n\n第二行输入 $n$ 个整数 $a_1, a_2, \\cdots, a_n$（$-10^9 \\le a_i \\le 10^9$）表示序列。\n\n保证所有数据中 $n$ 之和不超过 $5 \\times 10^5$。", "outputFormat": "每组数据输出一行一个整数，表示匹配的最大边权之和。\n\n**【样例解释】**\n\n对于第一组样例数据，最优方案是选择连接节点 $3$ 和 $5$，节点 $4$ 和 $7$，以及节点 $8$ 和 $9$ 的三条边，边权之和为 $(5 + 7) + (6 + 9) + (1 + 2) = 30$。\n\n对于第二组样例数据，由于每条边的边权都是负数，因此最优匹配不应该选择任何边，答案为 $0$。\n\n对于第三组样例数据，由于图中不存在任何边，因此答案为 $0$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9563", "type": "P", "difficulty": 7, "samples": [["3 3 1\n2 2\n", "21\n"], ["5 5 2\n2 1\n2 4\n", "126\n"]], "limits": {"time": [7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "山东", "O2优化", "容斥原理", "省赛/邀请赛"], "title": "[SDCPC 2023] Be Careful 2", "background": "", "description": "Little Cyan Fish has an $n \\times m$ rectangle located in a plane. The top-right corner of the rectangle is at $(n, m)$, while the bottom-left corner is at $(0, 0)$. There are $k$ banned points inside the rectangle. The $i$-th banned point is located at $(x_i, y_i)$.\n\nLittle Cyan Fish would like to draw a square inside the rectangle. However, he dislikes all the banned points, so there cannot be any banned points inside his square. Formally, Little Cyan Fish can draw a square with the bottom-left corner at $(x, y)$ and a side length $d$ if and only if:\n\n- Both $x$ and $y$ are non-negative integers while $d$ is a positive integer.\n- $0 \\leq x < x+d \\leq n$.\n- $0 \\leq y < y+d \\leq m$.\n- For each $1 \\leq i \\leq k$, the following condition must **NOT** be met:\n  - $x < x_i < x+d$ and $y < y_i < y+d$.\n\nPlease calculate the sum of the areas of all the squares that Little Cyan Fish can possibly draw. Since the answer could be huge, you need to output it modulo $998244353$.", "inputFormat": "The is only one test case in each test file.\n\nThe first line of the input contains three integers $n$, $m$ and $k$ ($2 \\leq n,m \\leq 10^9$, $1 \\leq k \\leq 5 \\times 10^3$) indicating the size of the rectangle and the number of banned points.\n\nFor the following $k$ lines, the $i$-th line contains two integers $x_i$ and $y_i$ ($0 < x_i < n$, $0 < y_i < m$) indicating the position of the $i$-th banned point. It is guaranteed that all the banned points are distinct.", "outputFormat": "Output one line containing one integer indicating the answer modulo $998244353$.", "hint": "For the first sample test case, Little Cyan Fish has $12$ ways to draw a square, illustrated as follows.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7ineydu5.png)\n\nThere are $9$ squares of side length $1$ and $3$ squares of side length $2$. So the answer is $9 \\times 1^2 + 3 \\times 2^2 = 21$.\n\nNote that the following plans are invalid since there's a banned point in the square.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qgn1qs0h.png)", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Be Careful 2", "background": "", "description": "Little Cyan Fish has an $n \\times m$ rectangle located in a plane. The top-right corner of the rectangle is at $(n, m)$, while the bottom-left corner is at $(0, 0)$. There are $k$ banned points inside the rectangle. The $i$-th banned point is located at $(x_i, y_i)$.\n\nLittle Cyan Fish would like to draw a square inside the rectangle. However, he dislikes all the banned points, so there cannot be any banned points inside his square. Formally, Little Cyan Fish can draw a square with the bottom-left corner at $(x, y)$ and a side length $d$ if and only if:\n\n- Both $x$ and $y$ are non-negative integers while $d$ is a positive integer.\n- $0 \\leq x < x+d \\leq n$.\n- $0 \\leq y < y+d \\leq m$.\n- For each $1 \\leq i \\leq k$, the following condition must **NOT** be met:\n  - $x < x_i < x+d$ and $y < y_i < y+d$.\n\nPlease calculate the sum of the areas of all the squares that Little Cyan Fish can possibly draw. Since the answer could be huge, you need to output it modulo $998244353$.", "inputFormat": "The is only one test case in each test file.\n\nThe first line of the input contains three integers $n$, $m$ and $k$ ($2 \\leq n,m \\leq 10^9$, $1 \\leq k \\leq 5 \\times 10^3$) indicating the size of the rectangle and the number of banned points.\n\nFor the following $k$ lines, the $i$-th line contains two integers $x_i$ and $y_i$ ($0 < x_i < n$, $0 < y_i < m$) indicating the position of the $i$-th banned point. It is guaranteed that all the banned points are distinct.", "outputFormat": "Output one line containing one integer indicating the answer modulo $998244353$.", "hint": "For the first sample test case, Little Cyan Fish has $12$ ways to draw a square, illustrated as follows.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7ineydu5.png)\n\nThere are $9$ squares of side length $1$ and $3$ squares of side length $2$. So the answer is $9 \\times 1^2 + 3 \\times 2^2 = 21$.\n\nNote that the following plans are invalid since there's a banned point in the square.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qgn1qs0h.png)", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Be Careful 2", "background": "", "description": "小青鱼有一个位于二维平面上的，大小为 $n \\times m$ 的矩形。矩形的右上角位于 $(n, m)$，而左下角位于 $(0, 0)$。矩形内部有 $k$ 个禁止点，第 $i$ 个禁止点位于 $(x_i, y_i)$。\n\n小青鱼想在矩形里画一个正方形。但由于小青鱼不喜欢禁止点，因此正方形的内部不能有任何禁止点。更正式地，小青鱼可以画一个左下角位于 $(x, y)$ 且边长为 $d$ 的正方形，当且仅当：\n\n- $x$ 和 $y$ 都是非负整数，$d$ 是一个正整数。\n- $0 \\leq x < x+d \\leq n$。\n- $0 \\leq y < y+d \\leq m$。\n- 每个 $1 \\leq i \\leq k$ 都 **不能** 满足以下条件：\n  - $x < x_i < x+d$ 且 $y < y_i < y+d$。\n\n请计算小青鱼可以画的正方形的总面积。由于答案可能很大，请将答案对 $998244353$ 取模后输出。", "inputFormat": "每个测试文件仅有一组测试数据。\n\n第一行输入三个整数 $n$，$m$ 和 $k$（$2 \\leq n,m \\leq 10^9$，$1 \\leq k \\leq 5 \\times 10^3$），表示矩形的大小和禁止点的数量。\n\n对于接下来 $k$ 行，第 $i$ 行输入两个整数 $x_i$ 和 $y_i$（$0 < x_i < n$，$0 < y_i < m$）表示第 $i$ 个禁止点的位置。保证所有禁止点互不相同。", "outputFormat": "输出一行一个整数，代表对 $998244353$ 取模后的答案。\n\n**【样例解释】**\n\n对于第一组样例数据，小青鱼有 $12$ 种方式画一个正方形，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7ineydu5.png)\n\n共有 $9$ 个边长为 $1$ 的正方形和 $3$ 个边长为 $2$ 的正方形。因此答案为 $9 \\times 1^2 + 3 \\times 2^2 = 21$。\n\n以下画正方形的方式是不合法的，因为正方形内有一个禁止点。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qgn1qs0h.png)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9564", "type": "P", "difficulty": 1, "samples": [["4 5\n", "Yes\n"], ["3 0\n", "Yes\n"], ["1 2\n", "No\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "山东", "O2优化", "枚举", "省赛/邀请赛"], "title": "[SDCPC 2023] Three Dice", "background": "", "description": "Dice are small, throwable objects with marked sides capable of landing in multiple positions. They are typically used to generate random values, especially in the context of tabletop games.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dsezqcgm.png)\n\nThe most common dice are small cubes, with faces numbered from $1$ to $6$. Number $n$ ($1 \\le n \\le 6$) is usually represented by a pattern of $n$ round dots, known as pips. Moreover, the pips on the $1$ and $4$ faces are colored red, while those on the $2$, $3$, $5$ and $6$ faces are black.\n\nLittle Cyan Fish has three dice. One day, he threw them onto a table, and then observed the uppermost faces. He claimed that the total number of the red pips facing up was exactly $A$, and the total number of the black pips facing up was exactly $B$.\n\nHowever, you find his claim doubtful. You want to verify whether it is possible to throw three dice such that the total number of red pips facing up is $A$, and the total number of black pips facing up is $B$.", "inputFormat": "There is only one test case in each test file.\n\nThe first line of the input contains two integers $A$ and $B$ ($0 \\leq A,B \\leq 100$), indicating the total number of red pips facing up and the number of black pips facing up.", "outputFormat": "Output one line. If it is possible for Little Cyan Fish to throw three dice such that the total number of red pips facing up is $A$, and the total number of black pips facing up is $B$ output `Yes`. Otherwise output `No`.", "hint": "In the first example, one possible solution is $4, 2, 3$.\n\nIn the second example, one possible solution is $1, 1, 1$.", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Three Dice", "background": "", "description": "Dice are small, throwable objects with marked sides capable of landing in multiple positions. They are typically used to generate random values, especially in the context of tabletop games.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dsezqcgm.png)\n\nThe most common dice are small cubes, with faces numbered from $1$ to $6$. Number $n$ ($1 \\le n \\le 6$) is usually represented by a pattern of $n$ round dots, known as pips. Moreover, the pips on the $1$ and $4$ faces are colored red, while those on the $2$, $3$, $5$ and $6$ faces are black.\n\nLittle Cyan Fish has three dice. One day, he threw them onto a table, and then observed the uppermost faces. He claimed that the total number of the red pips facing up was exactly $A$, and the total number of the black pips facing up was exactly $B$.\n\nHowever, you find his claim doubtful. You want to verify whether it is possible to throw three dice such that the total number of red pips facing up is $A$, and the total number of black pips facing up is $B$.", "inputFormat": "There is only one test case in each test file.\n\nThe first line of the input contains two integers $A$ and $B$ ($0 \\leq A,B \\leq 100$), indicating the total number of red pips facing up and the number of black pips facing up.", "outputFormat": "Output one line. If it is possible for Little Cyan Fish to throw three dice such that the total number of red pips facing up is $A$, and the total number of black pips facing up is $B$ output `Yes`. Otherwise output `No`.", "hint": "In the first example, one possible solution is $4, 2, 3$.\n\nIn the second example, one possible solution is $1, 1, 1$.", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Three Dice", "background": "", "description": "骰子，是一种各面带有标记，以生成随机数的小型可投掷道具，通常用于桌上游戏。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dsezqcgm.png)\n\n最常见的骰子是一种小正方体，每个面上被标记了从 $1$ 到 $6$ 的数字。数字 $n$（$1 \\le n \\le 6$）通常由 $n$ 个小圆点组成的图案来表示，其中 $1$ 号与 $4$ 号面的小圆点是红色的，而 $2$, $3$, $5$ 与 $6$ 号面的小圆点是黑色的。\n\n小青鱼手中有三只骰子。有一天，他将这三只骰子投掷在桌子上，并观察了朝上的那一个面。他发现所有朝上的面中，红色的点数之和恰好为 $A$，而黑色的点数之和恰好为 $B$。\n\n然而，您对小青鱼的发现感到怀疑。您想要确认是否有可能投掷出三只骰子，使得所有朝上的面中，红色的点数之和恰好为 $A$，而黑色的点数之和恰好为 $B$。", "inputFormat": "每个测试文件仅有一组测试数据。\n\n第一行输入两个整数 $A$ 和 $B$（$0 \\leq A,B \\leq 100$），表示朝上的红色点数之和与黑色点数之和。", "outputFormat": "输出一行。如果小青鱼有可能投掷出三只骰子使得所有朝上的面中，红色的点数之和恰好为 $A$，而黑色的点数之和恰好为 $B$，则输出 `Yes`。否则输出 `No`。\n\n**【样例解释】**\n\n在第一组样例中，其中一种合法的方案为 $4, 2, 3$。\n\n在第二组样例中，其中一种合法的方案为 $1, 1, 1$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9565", "type": "P", "difficulty": 4, "samples": [["9 8 4 5\n1 2 8\n1 3 7\n2 4 1\n3 4 14\n2 5 9\n4 5 7\n5 6 6\n3 7 15\n1 6\n2 7\n7 6\n1 8\n", "Yes\nNo\nYes\nNo\n"], ["3 4 1 4\n1 2 3\n1 2 5\n2 3 2\n2 3 6\n1 3\n", "Yes\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["并查集", "2023", "山东", "O2优化", "位运算", "省赛/邀请赛"], "title": "[SDCPC 2023] Not Another Path Query Problem", "background": "> What age is it that you are still solving traditional path query problems?", "description": "After reading the paper *Distributed Exact Shortest Paths in Sublinear Time*, you have learned how to solve the distributed single-source shortest paths problem in $\\mathcal{O}(D^{1/3} \\cdot (n \\log n)^{2/3})$. To give your knowledge good practice, Little Cyan Fish prepared the following practice task for you.\n\nLittle Cyan Fish has a graph consisting of $n$ vertices and $m$ bidirectional edges. The vertices are numbered from $1$ to $n$. The $i$-th edge connects vertex $u_i$ to vertex $v_i$ and is assigned a weight $w_i$.\n\nFor any path in the graph between two vertices $u$ and $v$, let's define the value of the path as the bitwise AND of the weights of all the edges in the path.\n\nAs a fan of high-value paths, Little Cyan Fish has set a constant threshold $V$. Little Cyan Fish loves a path if and only if its value is at least $V$.\n\nLittle Cyan Fish will now ask you $q$ queries, where the $i$-th query can be represented as a pair of integers $(u_i, v_i)$. For each query, your task is to determine if there exists a path from vertex $u_i$ to vertex $v_i$ that Little Cyan Fish would love it.", "inputFormat": "There is only one test case in each test file.\n\nThe first line contains four integers $n$, $m$, $q$ and $V$ ($1 \\le n \\le 10^5$, $0 \\le m \\le 5 \\times 10^5$, $1 \\leq q \\leq 5 \\times 10^5$, $0 \\leq V < 2^{60}$) indicating the number of vertices, the number of edges, the number of queries and the constant threshold.\n\nFor the following $m$ lines, the $i$-th line contains three integers $u_i$, $v_i$ and $w_i$ ($1 \\le u_i,v_i \\le n$, $u_i \\ne v_i$, $0 \\leq w_i < 2^{60}$), indicating a bidirectional edge between vertex $u_i$ and vertex $v_i$ with the weight $w_i$. There might be multiple edges connecting the same pair of vertices.\n\nFor the following $q$ lines, the $i$-th line contains two integers $u_i$ and $v_i$ ($1 \\leq u_i, v_i \\leq n$, $u_i \\ne v_i$), indicating a query.", "outputFormat": "For each query output one line. If there exists a path whose value is at least $V$ between vertex $u_i$ and $v_i$ output `Yes`, otherwise output `No`.", "hint": "We now use $\\&$ to represent the bitwise AND operation.\n\nThe first sample test case is shown as follows.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xdxp1um6.png)\n\n- For the first query, a valid path is $1 \\to 3 \\to 4 \\to 5 \\to 6$, whose value is $7 \\,\\&\\, 14 \\,\\&\\, 7 \\,\\&\\, 6 = 6 \\ge 5$.\n- For the third query, a valid path is $7 \\to 3 \\to 4 \\to 5 \\to 6$, whose value is $15 \\,\\&\\, 14 \\,\\&\\, 7 \\,\\&\\, 6  = 6 \\ge 5$.\n- For the fourth query, as there is no path between vertex $1$ and $8$, the answer is `No`.\n\nFor the only query of the second sample test case, we can consider the path consisting of the $2$-nd and the $4$-th edge. Its value is $5 \\,\\&\\, 6 = 4 \\ge 4$.", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Not Another Path Query Problem", "background": "> What age is it that you are still solving traditional path query problems?", "description": "After reading the paper *Distributed Exact Shortest Paths in Sublinear Time*, you have learned how to solve the distributed single-source shortest paths problem in $\\mathcal{O}(D^{1/3} \\cdot (n \\log n)^{2/3})$. To give your knowledge good practice, Little Cyan Fish prepared the following practice task for you.\n\nLittle Cyan Fish has a graph consisting of $n$ vertices and $m$ bidirectional edges. The vertices are numbered from $1$ to $n$. The $i$-th edge connects vertex $u_i$ to vertex $v_i$ and is assigned a weight $w_i$.\n\nFor any path in the graph between two vertices $u$ and $v$, let's define the value of the path as the bitwise AND of the weights of all the edges in the path.\n\nAs a fan of high-value paths, Little Cyan Fish has set a constant threshold $V$. Little Cyan Fish loves a path if and only if its value is at least $V$.\n\nLittle Cyan Fish will now ask you $q$ queries, where the $i$-th query can be represented as a pair of integers $(u_i, v_i)$. For each query, your task is to determine if there exists a path from vertex $u_i$ to vertex $v_i$ that Little Cyan Fish would love it.", "inputFormat": "There is only one test case in each test file.\n\nThe first line contains four integers $n$, $m$, $q$ and $V$ ($1 \\le n \\le 10^5$, $0 \\le m \\le 5 \\times 10^5$, $1 \\leq q \\leq 5 \\times 10^5$, $0 \\leq V < 2^{60}$) indicating the number of vertices, the number of edges, the number of queries and the constant threshold.\n\nFor the following $m$ lines, the $i$-th line contains three integers $u_i$, $v_i$ and $w_i$ ($1 \\le u_i,v_i \\le n$, $u_i \\ne v_i$, $0 \\leq w_i < 2^{60}$), indicating a bidirectional edge between vertex $u_i$ and vertex $v_i$ with the weight $w_i$. There might be multiple edges connecting the same pair of vertices.\n\nFor the following $q$ lines, the $i$-th line contains two integers $u_i$ and $v_i$ ($1 \\leq u_i, v_i \\leq n$, $u_i \\ne v_i$), indicating a query.", "outputFormat": "For each query output one line. If there exists a path whose value is at least $V$ between vertex $u_i$ and $v_i$ output `Yes`, otherwise output `No`.", "hint": "We now use $\\&$ to represent the bitwise AND operation.\n\nThe first sample test case is shown as follows.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xdxp1um6.png)\n\n- For the first query, a valid path is $1 \\to 3 \\to 4 \\to 5 \\to 6$, whose value is $7 \\,\\&\\, 14 \\,\\&\\, 7 \\,\\&\\, 6 = 6 \\ge 5$.\n- For the third query, a valid path is $7 \\to 3 \\to 4 \\to 5 \\to 6$, whose value is $15 \\,\\&\\, 14 \\,\\&\\, 7 \\,\\&\\, 6  = 6 \\ge 5$.\n- For the fourth query, as there is no path between vertex $1$ and $8$, the answer is `No`.\n\nFor the only query of the second sample test case, we can consider the path consisting of the $2$-nd and the $4$-th edge. Its value is $5 \\,\\&\\, 6 = 4 \\ge 4$.", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Not Another Path Query Problem", "background": "", "description": "**【题目背景】**\n\n> 都什么年代了还在做传统路径查询问题？\n\n\n在阅读《Distributed Exact Shortest Paths in Sublinear Time》这篇论文后，您学会了如何在 $\\mathcal{O}(D^{1/3} \\cdot (n \\log n)^{2/3})$ 的复杂度内解决分布式单源最短路问题。为了测试您是否真的学有所成，小青鱼为您准备了如下问题。\n\n小青鱼有一张包含 $n$ 个节点与 $m$ 条无向边的图，节点编号从 $1$ 到 $n$。第 $i$ 条边连接节点 $u_i$ 和 $v_i$，边权为 $w_i$。\n\n对于任意一条连接节点 $u$ 和 $v$ 的路径，定义路径的价值为路径上所有边的边权进行按位与（bitwise AND）计算的结果。\n\n小青鱼很喜欢高价值的路径，因此他设定了一个固定的阈值 $V$。称小青鱼喜爱一条路径，当且仅当这条路径的价值至少为 $V$。\n\n接下来，小青鱼将会提出 $q$ 次询问，第 $i$ 次询问可以用一对整数 $(u_i, v_i)$ 表示。对于每次询问，您需要判断节点 $u_i$ 到 $v_i$ 是否存在一条小青鱼喜爱的路径。", "inputFormat": "每个测试文件仅有一组测试数据。\n\n第一行输入四个整数 $n$，$m$，$q$ 和 $V$（$1 \\le n \\le 10^5$，$0 \\le m \\le 5 \\times 10^5$，$1 \\leq q \\leq 5 \\times 10^5$，$0 \\leq V < 2^{60}$）表示图中的节点数以及边数，小青鱼的询问数以及固定阈值。\n\n对于接下来 $m$ 行，第 $i$ 行输入三个整数 $u_i$，$v_i$ 和 $w_i$（$1 \\le u_i,v_i \\le n$，$u_i \\ne v_i$，$0 \\leq w_i < 2^{60}$）表示一条连接节点 $u_i$ 和 $v_i$ 的无向边，边权为 $w_i$。两个节点之间可能存在多条边。\n\n对于接下来 $q$ 行，第 $i$ 行输入两个整数 $u_i$ 和 $v_i$（$1 \\leq u_i, v_i \\leq n$，$u_i \\ne v_i$）表示一次询问。", "outputFormat": "每次询问输出一行。若节点 $u_i$ 和 $v_i$ 之间存在一条价值至少为 $V$ 的路径输出 `Yes`，否则输出 `No`。\n\n**【样例解释】**\n\n接下来我们用 $\\&$ 表示按位与计算。\n\n第一组样例数据解释如下。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xdxp1um6.png)\n\n- 对于第一次询问，一条合法的路径为 $1 \\to 3 \\to 4 \\to 5 \\to 6$，其价值为 $7 \\,\\&\\, 14 \\,\\&\\, 7 \\,\\&\\, 6 = 6 \\ge 5$。\n- 对于第三次询问，一条合法的路径为 $7 \\to 3 \\to 4 \\to 5 \\to 6$，其价值为 $15 \\,\\&\\, 14 \\,\\&\\, 7 \\,\\&\\, 6  = 6 \\ge 5$。\n- 对于第四次询问，因为节点 $1$ 与 $8$ 之间不存在任何路径，因此答案为 `No`。\n\n对于第二组样例数据仅有的一次询问，可以考虑由第 $2$ 和第 $4$ 条边组成的路径，其价值为 $5 \\,\\&\\, 6 = 4 \\ge 4$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9566", "type": "P", "difficulty": 5, "samples": [["5\n9 6\n1?010??01\n9 5\n1?010??01\n9 6\n100101101\n9 5\n100101101\n9 3\n????????1\n", "100100101\nImpossible\n100101101\nImpossible\n000000101\n"]], "limits": {"time": [1000, 1000], "memory": [1048576, 1048576]}, "tags": ["动态规划 DP", "贪心", "2023", "山东", "O2优化", "分类讨论", "省赛/邀请赛"], "title": "[SDCPC 2023] Difficult Constructive Problem", "background": "", "description": "Given a string $s_1s_2\\cdots s_n$ of length $n$ where $s_i \\in \\{\\text{0}, \\text{1}, \\text{?}\\}$ and an integer $k$, please fill out all the $\\text{?}$ with $\\text{0}$ or $\\text{1}$ such that the number of indices $i$ satisfying $1 \\le i < n$ and $s_i \\ne s_{i+1}$ equals to $k$. Different $\\text{?}$ can be replaced with different characters.\n\nTo make this problem even more difficult, we ask you to find the answer with the smallest possible lexicographic order if it exists.\n\nRecall that a string $a_1a_2\\cdots a_n$ of length $n$ is lexicographically smaller than another string $b_1b_2\\cdots b_n$ of length $n$ if there exists an integer $k$ ($1 \\le k \\le n$) such that $a_i = b_i$ for all $1 \\le i < k$ and $a_k < b_k$.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains two integers $n$ and $k$ ($1 \\le n \\le 10^5$, $0 \\le k < n$) indicating the length of the string and the required number of indices satisfying the condition.\n\nThe second line contains a string $s_1s_2,\\cdots s_n$ ($s_i \\in \\{\\text{0}, \\text{1}, \\text{?}\\}$).\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $10^6$.", "outputFormat": "For each test case output one line. If the answer exists output the lexicographically smallest one (you need to output the whole given string after filling out all the $\\text{?}$ and make this string the lexicographically smallest); Otherwise output `Impossible`.", "hint": "", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Difficult Constructive Problem", "background": "", "description": "Given a string $s_1s_2\\cdots s_n$ of length $n$ where $s_i \\in \\{\\text{0}, \\text{1}, \\text{?}\\}$ and an integer $k$, please fill out all the $\\text{?}$ with $\\text{0}$ or $\\text{1}$ such that the number of indices $i$ satisfying $1 \\le i < n$ and $s_i \\ne s_{i+1}$ equals to $k$. Different $\\text{?}$ can be replaced with different characters.\n\nTo make this problem even more difficult, we ask you to find the answer with the smallest possible lexicographic order if it exists.\n\nRecall that a string $a_1a_2\\cdots a_n$ of length $n$ is lexicographically smaller than another string $b_1b_2\\cdots b_n$ of length $n$ if there exists an integer $k$ ($1 \\le k \\le n$) such that $a_i = b_i$ for all $1 \\le i < k$ and $a_k < b_k$.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains two integers $n$ and $k$ ($1 \\le n \\le 10^5$, $0 \\le k < n$) indicating the length of the string and the required number of indices satisfying the condition.\n\nThe second line contains a string $s_1s_2,\\cdots s_n$ ($s_i \\in \\{\\text{0}, \\text{1}, \\text{?}\\}$).\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $10^6$.", "outputFormat": "For each test case output one line. If the answer exists output the lexicographically smallest one (you need to output the whole given string after filling out all the $\\text{?}$ and make this string the lexicographically smallest); Otherwise output `Impossible`.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Difficult Constructive Problem", "background": "", "description": "给定一个长度为 $n$ 的字符串 $s_1s_2\\cdots s_n$，其中 $s_i \\in \\{\\text{0}, \\text{1}, \\text{?}\\}$，另外给定一个整数 $k$，请将字符串中所有的 $\\text{?}$ 换成 $\\text{0}$ 或 $\\text{1}$，使得满足 $1 \\le i < n$ 且 $s_i \\ne s_{i+1}$ 的下标 $i$ 恰有 $k$ 个。不同的 $\\text{?}$ 可以用不同字符替换。\n\n为了让这题变得更加困难，我们要求您在答案存在的情况下，输出字典序最小的答案。\n\n请回忆：称长度为 $n$ 的字符串 $a_1a_2\\cdots a_n$ 的字典序小于长度为 $n$ 的字符串 $b_1b_2\\cdots b_n$，若存在一个整数 $k$（$1 \\le k \\le n$）使得对于所有 $1 \\le i < k$ 有 $a_i = b_i$，且 $a_k < b_k$。", "inputFormat": "有多组测试数据。第一行输入一个整数 $T$ 表示测试数据组数，对于每组测试数据：\n\n第一行输入两个整数 $n$ 和 $k$（$1 \\le n \\le 10^5$，$0 \\le k < n$）表示字符串的长度以及满足要求的下标数量。\n\n第二行输入一个字符串 $s_1s_2,\\cdots s_n$（$s_i \\in \\{\\text{0}, \\text{1}, \\text{?}\\}$）。\n\n保证所有数据 $n$ 之和不超过 $10^6$。", "outputFormat": "每组数据输出一行。若答案存在则输出字典序最小的答案（您需要输出将 $\\text{?}$ 替换之后的整个字符串，并让这个字符串的字典序最小），否则输出 `Impossible`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9567", "type": "P", "difficulty": 3, "samples": [["5 3 4\n", "Yes\n6\n5 1 -1 3\n1 2 1 3\n3 1 -2 1\n4 3 -1 -1\n4 5 1 -1\n2 5 1 -2\n"], ["1 1 1\n", "Yes\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "山东", "Special Judge", "O2优化", "构造", "省赛/邀请赛"], "title": "[SDCPC 2023] Puzzle: Sashigane", "background": "", "description": "Given a grid with $n$ rows and $n$ columns, there is exactly one black cell in the grid and all other cells are white. Let $(i, j)$ be the cell on the $i$-th row and the $j$-th column, this black cell is located at $(b_i, b_j)$.\n\nYou need to cover all white cells with some L-shapes, so that each white cell is covered by exactly one L-shape and the only black cell is not covered by any L-shape. L-shapes must not exceed the boundary of the grid.\n\nMore formally, an L-shape in the grid is uniquely determined by four integers $(r, c, h, w)$, where $(r, c)$ determines the turning point of the L-shape, and $h$ and $w$ determine the direction and lengths of the two arms of the L-shape. The four integers must satisfy $1 \\le r, c \\le n$, $1 \\le r + h \\le n$, $1 \\le c + w \\le n$, $h \\ne 0$, $w \\ne 0$.\n\n- If $h < 0$, then all cells $(i, c)$ satisfying $r + h \\le i \\le r$ belong to this L-shape; Otherwise if $h > 0$, all cells $(i, c)$ satisfying $r \\le i \\le r + h$ belong to this L-shape.\n- If $w < 0$, then all cells $(r, j)$ satisfying $c + w \\le j \\le c$ belong to this L-shape; Otherwise if $w > 0$, all cells $(r, j)$ satisfying $c \\le j \\le c + w$ belong to this L-shape.\n\nThe following image illustrates some L-shapes.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s4jgji61.png)", "inputFormat": "There is only one test case in each test file.\n\nThe first line contains three integers $n$, $b_i$ and $b_j$ ($1 \\le n \\le 10^3$, $1 \\le b_i, b_j \\le n$) indicating the size of the grid and the position of the black cell.", "outputFormat": "If a valid answer exists first output `Yes` in the first line, then in the second line output an integer $k$ ($0 \\leq k \\leq \\frac{n^2-1}{3}$) indicating the number of L-shapes to cover white cells. Then output $k$ lines where the $i$-th line contains four integers $r_i$, $c_i$, $h_i$, $w_i$ separated by a space indicating that the $i$-th L-shape is uniquely determined by $(r_i, c_i, h_i, w_i)$. If there are multiple valid answers you can print any of them.\n\nIf there is no valid answer, just output `No` in one line.", "hint": "We illustrate the first sample test case as follows.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nbrr3gun.png)", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Puzzle: Sashigane", "background": "", "description": "Given a grid with $n$ rows and $n$ columns, there is exactly one black cell in the grid and all other cells are white. Let $(i, j)$ be the cell on the $i$-th row and the $j$-th column, this black cell is located at $(b_i, b_j)$.\n\nYou need to cover all white cells with some L-shapes, so that each white cell is covered by exactly one L-shape and the only black cell is not covered by any L-shape. L-shapes must not exceed the boundary of the grid.\n\nMore formally, an L-shape in the grid is uniquely determined by four integers $(r, c, h, w)$, where $(r, c)$ determines the turning point of the L-shape, and $h$ and $w$ determine the direction and lengths of the two arms of the L-shape. The four integers must satisfy $1 \\le r, c \\le n$, $1 \\le r + h \\le n$, $1 \\le c + w \\le n$, $h \\ne 0$, $w \\ne 0$.\n\n- If $h < 0$, then all cells $(i, c)$ satisfying $r + h \\le i \\le r$ belong to this L-shape; Otherwise if $h > 0$, all cells $(i, c)$ satisfying $r \\le i \\le r + h$ belong to this L-shape.\n- If $w < 0$, then all cells $(r, j)$ satisfying $c + w \\le j \\le c$ belong to this L-shape; Otherwise if $w > 0$, all cells $(r, j)$ satisfying $c \\le j \\le c + w$ belong to this L-shape.\n\nThe following image illustrates some L-shapes.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s4jgji61.png)", "inputFormat": "There is only one test case in each test file.\n\nThe first line contains three integers $n$, $b_i$ and $b_j$ ($1 \\le n \\le 10^3$, $1 \\le b_i, b_j \\le n$) indicating the size of the grid and the position of the black cell.", "outputFormat": "If a valid answer exists first output `Yes` in the first line, then in the second line output an integer $k$ ($0 \\leq k \\leq \\frac{n^2-1}{3}$) indicating the number of L-shapes to cover white cells. Then output $k$ lines where the $i$-th line contains four integers $r_i$, $c_i$, $h_i$, $w_i$ separated by a space indicating that the $i$-th L-shape is uniquely determined by $(r_i, c_i, h_i, w_i)$. If there are multiple valid answers you can print any of them.\n\nIf there is no valid answer, just output `No` in one line.", "hint": "We illustrate the first sample test case as follows.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nbrr3gun.png)", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Puzzle: Sashigane", "background": "", "description": "给定一个 $n$ 行 $n$ 列的网格，网格中包含恰好一个黑色方格，其余方格均为白色。令 $(i, j)$ 表示位于第 $i$ 行第 $j$ 列的格子，这个黑色方格位于 $(b_i, b_j)$。\n\n您需要用若干 L 形覆盖所有白色格子，使得每个白色格子都恰好被一个 L 形所覆盖，同时唯一的黑色方格不能被任何 L 形覆盖。L 形不能超过网格的边界。\n\n更正式地，网格中的一个 L 形由四个整数 $(r, c, h, w)$ 唯一确定，其中 $(r, c)$ 确定了 L 形的转折点，$h$ 和 $w$ 确定了 L 形两臂的方向和长度。四个整数满足 $1 \\le r, c \\le n$，$1 \\le r + h \\le n$，$1 \\le c + w \\le n$，$h \\ne 0$，$w \\ne 0$。\n\n- 若 $h < 0$，则所有满足 $r + h \\le i \\le r$ 的格子 $(i, c)$ 均属于该 L 形；否则若 $h > 0$，则所有满足 $r \\le i \\le r + h$ 的格子 $(i, c)$ 均属于该 L 形。\n- 若 $w < 0$，则所有满足 $c + w \\le j \\le c$ 的格子 $(r, j)$ 均属于该 L 形；否则若 $w > 0$，则所有满足 $c \\le j \\le c + w$ 的格子 $(r, j)$ 均属于该 L 形。\n\n下图展示了几种 L 形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s4jgji61.png)", "inputFormat": "每个测试文件仅有一组测试数据。\n\n第一行输入三个整数 $n$，$b_i$，$b_j$（$1 \\le n \\le 10^3$，$1 \\le b_i, b_j \\le n$）表示网格的大小以及黑色格子的位置。", "outputFormat": "如果存在符合要求的覆盖方案，首先输出一行 `Yes`，接下来在第二行输出一个整数 $k$（$0 \\leq k \\leq \\frac{n^2-1}{3}$）表示覆盖白色格子的 L 形数量。接下来输出 $k$ 行，第 $i$ 行输出四个由单个空格分隔的整数 $r_i$，$c_i$，$h_i$ 和 $w_i$，表示第 $i$ 个 L 形由 $(r_i, c_i, h_i, w_i)$ 唯一确定。如果有多种合法答案，您可以输出任意一种。\n\n如果不存在符合要求的覆盖方案，仅需要输出一行 `No`。\n\n**【样例解释】**\n\n第一组样例数据展示如下。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nbrr3gun.png)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9568", "type": "P", "difficulty": 5, "samples": [["3\n3 1\n0 0\n1 0\n0 1\n8 3\n1 2\n3 1\n5 1\n7 3\n8 6\n5 8\n3 7\n1 5\n7 2\n3 6\n1 1\n3 1\n7 1\n8 1\n5 6\n4 6\n", "0.500000000000\n26.500000000000\n20.000000000000\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["计算几何", "2023", "山东", "Special Judge", "O2优化", "凸包", "省赛/邀请赛"], "title": "[SDCPC 2023] Computational Geometry", "background": "", "description": "Given a convex polygon $P$ with $n$ vertices, you need to choose three vertices of $P$, denoted as $a$, $b$ and $c$ in counter-clockwise order. There must be exactly $k$ edges from $b$ to $c$ in counter-clockwise order (that is to say, $a$ is not an endpoint of these $k$ edges).\n\nConsider cutting through $P$ with segment $ab$ and $ac$. Let $Q$ be the polygon consisting of $ab$, $ac$ and the $k$ edges between $b$ and $c$. It's easy to see that this polygon has $(k + 2)$ edges.\n\nFind the maximum possible area of $Q$.\n \nNote that $ab$ and $ac$ can overlap with edges of $P$.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains two integers $n$ and $k$ ($3 \\le n \\le 10^5$, $1 \\le k \\le n-2$) indicating the number of vertices of the convex polygon $P$ and the number of edges from $b$ to $c$ in counter-clockwise order.\n\nFor the following $n$ lines, the $i$-th line contains two integers $x_i$ and $y_i$ ($-10^9 \\le x_i, y_i \\le 10^9$) indicating the $x$ and $y$ coordinate of the $i$-th vertex of the convex polygon $P$. Vertices are given in counter-clockwise order. It's guaranteed that the area of the convex polygon is positive, and there are no two vertices with the same coordinate. It's possible that three vertices lie on the same line.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $10^5$.", "outputFormat": "For each test case output one line containing one real number indicating the maximum possible area of $Q$. Your answer will be considered correct if its relative or absolute error is less than $10^{-9}$.", "hint": "For the first sample test case, $Q$ is the whole triangle. Its area is $0.5$.\n\nThe second and third sample test case are shown below.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vwd5087f.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/twyillv0.png)", "locale": "en", "translations": {"en": {"title": "[SDCPC 2023] Computational Geometry", "background": "", "description": "Given a convex polygon $P$ with $n$ vertices, you need to choose three vertices of $P$, denoted as $a$, $b$ and $c$ in counter-clockwise order. There must be exactly $k$ edges from $b$ to $c$ in counter-clockwise order (that is to say, $a$ is not an endpoint of these $k$ edges).\n\nConsider cutting through $P$ with segment $ab$ and $ac$. Let $Q$ be the polygon consisting of $ab$, $ac$ and the $k$ edges between $b$ and $c$. It's easy to see that this polygon has $(k + 2)$ edges.\n\nFind the maximum possible area of $Q$.\n \nNote that $ab$ and $ac$ can overlap with edges of $P$.", "inputFormat": "There are multiple test cases. The first line of the input contains an integer $T$ indicating the number of test cases. For each test case:\n\nThe first line contains two integers $n$ and $k$ ($3 \\le n \\le 10^5$, $1 \\le k \\le n-2$) indicating the number of vertices of the convex polygon $P$ and the number of edges from $b$ to $c$ in counter-clockwise order.\n\nFor the following $n$ lines, the $i$-th line contains two integers $x_i$ and $y_i$ ($-10^9 \\le x_i, y_i \\le 10^9$) indicating the $x$ and $y$ coordinate of the $i$-th vertex of the convex polygon $P$. Vertices are given in counter-clockwise order. It's guaranteed that the area of the convex polygon is positive, and there are no two vertices with the same coordinate. It's possible that three vertices lie on the same line.\n\nIt's guaranteed that the sum of $n$ of all test cases will not exceed $10^5$.", "outputFormat": "For each test case output one line containing one real number indicating the maximum possible area of $Q$. Your answer will be considered correct if its relative or absolute error is less than $10^{-9}$.", "hint": "For the first sample test case, $Q$ is the whole triangle. Its area is $0.5$.\n\nThe second and third sample test case are shown below.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vwd5087f.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/twyillv0.png)", "locale": "en"}, "zh-CN": {"title": "[SDCPC 2023] Computational Geometry", "background": "", "description": "给定一个有 $n$ 个顶点的凸多边形 $P$，您需要选择 $P$ 的三个顶点，按逆时针顺序记为 $a$，$b$ 和 $c$。要求在 $b$ 沿逆时针方向到 $c$ 之间恰有 $k$ 条边（也就是说，$a$ 不是这 $k$ 条边的端点）。\n\n考虑用线段 $ab$ 和 $ac$ 将 $P$ 割开。将由线段 $ab$，$ac$，以及 $b$ 和 $c$ 之间的 $k$ 条边围成的 $(k + 2)$ 边形记作 $Q$。\n\n求 $Q$ 可能的最大面积。\n\n注意，$ab$ 和 $ac$ 可以与 $P$ 的边重合。", "inputFormat": "有多组测试数据。第一行输入一个整数 $T$ 表示测试数据组数。对于每组测试数据：\n\n第一行输入两个整数 $n$ 和 $k$（$3 \\le n \\le 10^5$，$1 \\le k \\le n-2$），表示凸多边形 $P$ 的顶点数和 $b$ 沿逆时针方向到 $c$ 之间的边数。\n\n对于接下来的 $n$ 行，第 $i$ 行输入两个整数 $x_i$ 和 $y_i$（$-10^9 \\le x_i, y_i \\le 10^9$），表示凸多边形 $P$ 第 $i$ 个顶点的 $x$ 坐标和 $y$ 坐标。顶点按逆时针顺序给出。保证凸多边形的面积为正，且没有顶点会重合。可能存在三个顶点位于同一条直线上的情况。\n\n保证所有数据 $n$ 之和不超过 $10^5$。", "outputFormat": "每组数据输出一行一个实数表示 $Q$ 的最大可能面积。只要您的答案的相对误差或绝对误差小于$10^{-9}$ 即视为正确。\n\n**【样例解释】**\n\n对于第一组样例数据，$Q$ 就是整个三角形，面积为 $0.5$.\n\n第二和第三组样例数据解释如下。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vwd5087f.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/twyillv0.png)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9569", "type": "P", "difficulty": 1, "samples": [["5 10\n1 1\n2 3\n3 7\n5 4\n3 3", "4"], ["20 131\n872 127\n228 17\n273 66\n306 78\n636 107\n878 110\n1141 122\n835 10\n247 28\n248 48\n65 4\n664 109\n267 96\n1103 87\n725 83\n231 119\n671 58\n825 52\n391 47\n573 100", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "O2优化"], "title": "「NnOI R2-T1」Khronostasis Katharsis", "background": "", "description": "$n$ 个气球被栓在水平地面上，初始高度均为 $0$ 米，初始时刻记为第 $0$ 秒。\n\n每个气球被剪断栓绳后会匀速上升，第 $i$ 个气球每秒上升 $v_i$ 米。\n\n现在已知第 $i$ 个气球会在第 $t_i$ 秒时被剪断栓绳，问第 $T$ 秒时最高的气球中编号最小的一个的编号。", "inputFormat": "第一行两个整数 $n,T$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $v_i,t_i$。", "outputFormat": "一行一个整数，表示答案。", "hint": "**【样例 1 解释】**\n\n第 10 秒时，五个气球的高度分别为 9,14,9,30,21 米。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，保证 $1\\le n,v_i\\le 10^5$，$0\\le t_i\\le T\\le 10^4$。\n\n**提示：本题开启捆绑测试。**\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& n \\le 1000 & 33 \\r\n\\textsf2& v_i\\ 相等 & 10 \\r\n\\textsf3& t_i \\ 相等 & 10 \\r\n\\textsf4& 无特殊限制 & 47 \\r\n\\end{array}\n$$\n\n### 题目来源\n\n|项目|人员|\n|:-:|:-:|\n|idea|EstasTonne|\n|data|EstasTonne|\n|check|船酱魔王|\n|solution|EstasTonne|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「NnOI R2-T1」Khronostasis Katharsis", "background": "", "description": "$n$ 个气球被栓在水平地面上，初始高度均为 $0$ 米，初始时刻记为第 $0$ 秒。\n\n每个气球被剪断栓绳后会匀速上升，第 $i$ 个气球每秒上升 $v_i$ 米。\n\n现在已知第 $i$ 个气球会在第 $t_i$ 秒时被剪断栓绳，问第 $T$ 秒时最高的气球中编号最小的一个的编号。", "inputFormat": "第一行两个整数 $n,T$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $v_i,t_i$。", "outputFormat": "一行一个整数，表示答案。", "hint": "**【样例 1 解释】**\n\n第 10 秒时，五个气球的高度分别为 9,14,9,30,21 米。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，保证 $1\\le n,v_i\\le 10^5$，$0\\le t_i\\le T\\le 10^4$。\n\n**提示：本题开启捆绑测试。**\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& n \\le 1000 & 33 \\r\n\\textsf2& v_i\\ 相等 & 10 \\r\n\\textsf3& t_i \\ 相等 & 10 \\r\n\\textsf4& 无特殊限制 & 47 \\r\n\\end{array}\n$$\n\n### 题目来源\n\n|项目|人员|\n|:-:|:-:|\n|idea|EstasTonne|\n|data|EstasTonne|\n|check|船酱魔王|\n|solution|EstasTonne|", "locale": "zh-CN"}}}
{"pid": "P9570", "type": "P", "difficulty": 2, "samples": [["3 4\nNYNY", "1 1 2 1"], ["5 3\nYYY", "No solution"], ["5 7\nNNNNNYN", "No solution"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化"], "title": "「NnOI R2-T2」Glaciaxion", "background": "", "description": "冰封的世界可以看作是 $ n $ 块初始时冷冻的冰川，这些冰川被编号为 $1 \\sim n$。\n\n探测器抵达后的 $ m $ 秒，每秒都会探测到一块冰川融化。\n\n当一块冰川第一次融化时，探测器返回 ```N```，否则返回 ```Y```。\n\n你需要根据探测器按顺序返回的信息，给出**字典序最小**的冰川融化过程的编号序列。如果不存在这样的编号序列，请输出 ```No solution``` 报告无解。", "inputFormat": "第一行两个整数 $ n,m $。\n\n接下来一行 $ m $ 个字符（`N` 或 `Y`，不加分隔），表示探测器按顺序返回的结果。", "outputFormat": "一行一个长度为 $ m $ 的整数序列（空格分隔），表示**字典序最小**的冰川融化过程的编号序列，或输出 ```No solution``` 报告无解。", "hint": "**【样例 1 解释】**\n\n第 1 秒，1 号冰川融化，这是其首次融化，返回 ```N```。\n\n第 2 秒，1 号冰川融化，这不是其首次融化，因为已经在第 1 秒融化过，返回 ```Y```。\n\n第 3 秒，2 号冰川融化，这是其首次融化，返回 ```N```。\n\n第 4 秒，1 号冰川融化，这不是其首次融化，因为已经在第 1,2 秒融化过，返回 ```Y```。\n\n**【数据范围】**\n\n对于 $ 100\\% $ 的数据，$ 1 \\le n,m \\le 10^6 $。\n\n**提示：本题开启捆绑测试。**\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& n,m\\le 8 & 23 \\r\n\\textsf2& n,m\\le 1000 & 25 \\r\n\\textsf3& 探测器返回结果只有一种字符 & 15 \\r\n\\textsf4& 保证有解 & 17 \\r\n\\textsf5& 无特殊限制 & 20 \\r\n\\end{array}\n$$\n\n### 题目来源\n\n| 项目 | 人员 |\n|:-:|:-:|\n| idea | 船酱魔王 |\n| data | 船酱魔王 |\n| check | EstasTonne |\n| solution | 船酱魔王 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「NnOI R2-T2」Glaciaxion", "background": "", "description": "冰封的世界可以看作是 $ n $ 块初始时冷冻的冰川，这些冰川被编号为 $1 \\sim n$。\n\n探测器抵达后的 $ m $ 秒，每秒都会探测到一块冰川融化。\n\n当一块冰川第一次融化时，探测器返回 ```N```，否则返回 ```Y```。\n\n你需要根据探测器按顺序返回的信息，给出**字典序最小**的冰川融化过程的编号序列。如果不存在这样的编号序列，请输出 ```No solution``` 报告无解。", "inputFormat": "第一行两个整数 $ n,m $。\n\n接下来一行 $ m $ 个字符（`N` 或 `Y`，不加分隔），表示探测器按顺序返回的结果。", "outputFormat": "一行一个长度为 $ m $ 的整数序列（空格分隔），表示**字典序最小**的冰川融化过程的编号序列，或输出 ```No solution``` 报告无解。", "hint": "**【样例 1 解释】**\n\n第 1 秒，1 号冰川融化，这是其首次融化，返回 ```N```。\n\n第 2 秒，1 号冰川融化，这不是其首次融化，因为已经在第 1 秒融化过，返回 ```Y```。\n\n第 3 秒，2 号冰川融化，这是其首次融化，返回 ```N```。\n\n第 4 秒，1 号冰川融化，这不是其首次融化，因为已经在第 1,2 秒融化过，返回 ```Y```。\n\n**【数据范围】**\n\n对于 $ 100\\% $ 的数据，$ 1 \\le n,m \\le 10^6 $。\n\n**提示：本题开启捆绑测试。**\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& n,m\\le 8 & 23 \\r\n\\textsf2& n,m\\le 1000 & 25 \\r\n\\textsf3& 探测器返回结果只有一种字符 & 15 \\r\n\\textsf4& 保证有解 & 17 \\r\n\\textsf5& 无特殊限制 & 20 \\r\n\\end{array}\n$$\n\n### 题目来源\n\n| 项目 | 人员 |\n|:-:|:-:|\n| idea | 船酱魔王 |\n| data | 船酱魔王 |\n| check | EstasTonne |\n| solution | 船酱魔王 |", "locale": "zh-CN"}}}
{"pid": "P9571", "type": "P", "difficulty": 4, "samples": [["6\n1 1 0\n1 -1 0\n2 2 1\n3 1 3\n2 2 1\n2 1 1", "2\n1\n0"], ["10\n1 1 0\n1 1 0\n2 1 1\n2 1 0\n2 2 5\n3 1 0\n2 2 5\n1 2 3\n1 3 4\n2 3 5", "0\n0\n2\n0\n1"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "O2优化"], "title": "「NnOI R2-T3」Horizon Blue", "background": "", "description": "小 C 喜欢在画板上画画。他进行了 $ n $ 次操作，每次操作有如下三种可能：\n\n- ```1 k b``` 代表小 C 绘制了一条解析式为 $ y=kx+b $ 的直线。\n- ```2 k b``` 代表小 C 询问你直线 $ y=kx+b $ 与多少条被绘制的直线有**恰好**一个公共点。\n- ```3 k b``` 代表小 C 擦除所有与直线 $ y=kx+b $ 有**至少**一个公共点的直线。\n\n**注意：两条重合的直线有无数个交点。**\n\n**注意：询问时重合的直线应分别计算。**", "inputFormat": "第一行一个整数 $ n $。\n\n接下来 $n$ 行，每行三个整数 $ 1/2/3,k,b $，代表一次操作。", "outputFormat": "对每次 ```2 k b``` 操作，输出满足要求的直线数量。", "hint": "**【样例 1 解释】**\n\n第 1 次操作，绘制直线 $ y=x $。\n\n第 2 次操作，绘制直线 $ y=-x $。\n\n第 3 次操作，可以发现直线 $ y=2x+1 $ 与前两条线相交。\n\n第 4 次操作，擦掉所有 $ y=x+3 $ 相交的线，直线 $ y=-x $ 被擦掉。\n\n第 5 次操作，$ y=2x+1 $ 显然与 $ y=x $ 相交。\n\n第 6 次操作，$ y=x+1 $ 与 $ y=x $ 斜率相等，是平行线，不相交。\n\n**【数据范围】**\n\n对于 $ 100\\% $ 的数据，$ 1 \\le n \\le 10^5 $，$ 1 \\le |k| \\le 10^5 $，$ 0 \\le |b| \\le 10^5 $。\n\n**提示：本题开启捆绑测试。**\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& n \\le 5000 & 27 \\r\n\\textsf2& \\vert k\\vert,\\vert b\\vert \\le 50 & 21 \\r\n\\textsf3& 无第\\ 3\\ 类操作 & 13 \\r\n\\textsf4& 第\\ i\\ 次操作满足\\ k=i & 14 \\r\n\\textsf5& 无特殊限制 & 25 \\r\n\\end{array}\n$$\n\n在赛后新添加的 hack 测试点将放入 subtask 6。\n\n### 题目来源\n\n| 项目 | 人员 |\n|:-:|:-:|\n| idea | 船酱魔王 |\n| data | 船酱魔王 |\n| check | EstasTonne |\n| solution | 船酱魔王 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「NnOI R2-T3」Horizon Blue", "background": "", "description": "小 C 喜欢在画板上画画。他进行了 $ n $ 次操作，每次操作有如下三种可能：\n\n- ```1 k b``` 代表小 C 绘制了一条解析式为 $ y=kx+b $ 的直线。\n- ```2 k b``` 代表小 C 询问你直线 $ y=kx+b $ 与多少条被绘制的直线有**恰好**一个公共点。\n- ```3 k b``` 代表小 C 擦除所有与直线 $ y=kx+b $ 有**至少**一个公共点的直线。\n\n**注意：两条重合的直线有无数个交点。**\n\n**注意：询问时重合的直线应分别计算。**", "inputFormat": "第一行一个整数 $ n $。\n\n接下来 $n$ 行，每行三个整数 $ 1/2/3,k,b $，代表一次操作。", "outputFormat": "对每次 ```2 k b``` 操作，输出满足要求的直线数量。", "hint": "**【样例 1 解释】**\n\n第 1 次操作，绘制直线 $ y=x $。\n\n第 2 次操作，绘制直线 $ y=-x $。\n\n第 3 次操作，可以发现直线 $ y=2x+1 $ 与前两条线相交。\n\n第 4 次操作，擦掉所有 $ y=x+3 $ 相交的线，直线 $ y=-x $ 被擦掉。\n\n第 5 次操作，$ y=2x+1 $ 显然与 $ y=x $ 相交。\n\n第 6 次操作，$ y=x+1 $ 与 $ y=x $ 斜率相等，是平行线，不相交。\n\n**【数据范围】**\n\n对于 $ 100\\% $ 的数据，$ 1 \\le n \\le 10^5 $，$ 1 \\le |k| \\le 10^5 $，$ 0 \\le |b| \\le 10^5 $。\n\n**提示：本题开启捆绑测试。**\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& n \\le 5000 & 27 \\r\n\\textsf2& \\vert k\\vert,\\vert b\\vert \\le 50 & 21 \\r\n\\textsf3& 无第\\ 3\\ 类操作 & 13 \\r\n\\textsf4& 第\\ i\\ 次操作满足\\ k=i & 14 \\r\n\\textsf5& 无特殊限制 & 25 \\r\n\\end{array}\n$$\n\n在赛后新添加的 hack 测试点将放入 subtask 6。\n\n### 题目来源\n\n| 项目 | 人员 |\n|:-:|:-:|\n| idea | 船酱魔王 |\n| data | 船酱魔王 |\n| check | EstasTonne |\n| solution | 船酱魔王 |", "locale": "zh-CN"}}}
{"pid": "P9572", "type": "P", "difficulty": 3, "samples": [["3 4 1 1\n23 34 53\n53 25 23 34", "3 2"], ["9 10 1 1\n15 12 26 21 26 21 23 12 23\n26 11 21 15 16 15 12 23 17 12", "7 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "洛谷原创", "O2优化"], "title": "「NnOI R2-T4」Colorful Days♪", "background": "", "description": "给出如下定义：\n\n1. 定义 $ AB $ 为 $ A $ 数组后拼接 $ B $ 数组。\n2. 定义 $ A^{0}=\\{\\} $（即空数组），且对 $i=1,2,3,\\cdots$，$ A^{i}=A^{i-1}A$。\n2. 定义 $ \\operatorname{LCS}(A,B) $ 为 $ A $ 数组和 $ B $ 数组的**最长公共子序列**长度。\n\n现给定长度为 $ n $ 的数组 $ S $ 和长度为 $ m $ 的数组 $ T $，数组中的数均为正整数。\n\n你现在需要找到最小的非负整数 $k$，使得 $ \\operatorname{LCS}(S^k,T) $ 最大。\n\n出题人很仁慈，如果你无法最小化 $k$，你也可以拿到一部分分数。", "inputFormat": "第一行四个整数 $ n,m,c_1,c_2 $，后两个整数为输出参数 0 或 1。\n\n第二行 $ n $ 个正整数，代表 $ S $ 数组。\n\n第三行 $ m $ 个正整数，代表 $ T $ 数组。", "outputFormat": "输出两个整数 $ c_1 \\cdot \\operatorname{LCS}(S^k,T)$ 和 $c_2\\cdot k$。", "hint": "**【样例 1 解释】**\n\n当 $k = 2$ 时，$S^k = \\text{\\{23 34 \\textcolor{red}{53 23 34} 53\\}}$，其中标红的是 $S^k$ 和 $T$ 的最长公共子序列。\n\n**【数据范围】**\n\n**提示：本题开启捆绑测试。**\n\n对于 $ 100\\% $ 的数据，保证 $ 1 \\le n,m,S_i,T_i \\le 10^6 $，$ c_1,c_2 \\in \\{0,1\\} $。\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& c_1=c_2=0 & 2 \\r\n\\textsf2& n \\le 10^3，m \\le 10^2 & 8 \\r\n\\textsf3& n \\le 10^4，m \\le 10^3 & 15 \\r\n\\textsf4& c_2=0 & 15 \\r\n\\textsf5& n,m \\le 10^5，S_i,T_i \\le 26 & 20 \\r\n\\textsf6& 无特殊限制 & 40 \\r\n\\end{array}\n$$\n\n在赛后新添加的 hack 测试点会加入 subtask7。\n\n### 题目来源\n\n| 项目 | 人员 |\n|:-:|:-:|\n|idea| 船酱魔王 |\n|data| 船酱魔王 |\n|check| Sudohry |\n|solution| 船酱魔王 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「NnOI R2-T4」Colorful Days♪", "background": "", "description": "给出如下定义：\n\n1. 定义 $ AB $ 为 $ A $ 数组后拼接 $ B $ 数组。\n2. 定义 $ A^{0}=\\{\\} $（即空数组），且对 $i=1,2,3,\\cdots$，$ A^{i}=A^{i-1}A$。\n2. 定义 $ \\operatorname{LCS}(A,B) $ 为 $ A $ 数组和 $ B $ 数组的**最长公共子序列**长度。\n\n现给定长度为 $ n $ 的数组 $ S $ 和长度为 $ m $ 的数组 $ T $，数组中的数均为正整数。\n\n你现在需要找到最小的非负整数 $k$，使得 $ \\operatorname{LCS}(S^k,T) $ 最大。\n\n出题人很仁慈，如果你无法最小化 $k$，你也可以拿到一部分分数。", "inputFormat": "第一行四个整数 $ n,m,c_1,c_2 $，后两个整数为输出参数 0 或 1。\n\n第二行 $ n $ 个正整数，代表 $ S $ 数组。\n\n第三行 $ m $ 个正整数，代表 $ T $ 数组。", "outputFormat": "输出两个整数 $ c_1 \\cdot \\operatorname{LCS}(S^k,T)$ 和 $c_2\\cdot k$。", "hint": "**【样例 1 解释】**\n\n当 $k = 2$ 时，$S^k = \\text{\\{23 34 \\textcolor{red}{53 23 34} 53\\}}$，其中标红的是 $S^k$ 和 $T$ 的最长公共子序列。\n\n**【数据范围】**\n\n**提示：本题开启捆绑测试。**\n\n对于 $ 100\\% $ 的数据，保证 $ 1 \\le n,m,S_i,T_i \\le 10^6 $，$ c_1,c_2 \\in \\{0,1\\} $。\n\n$$\n\\def\\r{\\cr\\hline}\n\\def\\None{\\text{None}}\n\\def\\arraystretch{1.5}\n\\begin{array}{c|c|c}\n\\textbf{Subtask} & \\textbf{Sp. Constraints} & \\textbf{Score}\\r\n\\textsf1& c_1=c_2=0 & 2 \\r\n\\textsf2& n \\le 10^3，m \\le 10^2 & 8 \\r\n\\textsf3& n \\le 10^4，m \\le 10^3 & 15 \\r\n\\textsf4& c_2=0 & 15 \\r\n\\textsf5& n,m \\le 10^5，S_i,T_i \\le 26 & 20 \\r\n\\textsf6& 无特殊限制 & 40 \\r\n\\end{array}\n$$\n\n在赛后新添加的 hack 测试点会加入 subtask7。\n\n### 题目来源\n\n| 项目 | 人员 |\n|:-:|:-:|\n|idea| 船酱魔王 |\n|data| 船酱魔王 |\n|check| Sudohry |\n|solution| 船酱魔王 |", "locale": "zh-CN"}}}
{"pid": "P9573", "type": "P", "difficulty": 3, "samples": [["3\n9 1\n5 2\n1 12345\n", "3 8 7 1 4 5 6 9 2\n1 5 3 2 4\n1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "Special Judge", "O2优化", "构造", "洛谷月赛"], "title": "「TAOI-2」核心共振", "background": "⚡超越一切震慑凡人⚡\n\n⚡带来终结机械降神⚡\n\n⚡风暴之力充满全身⚡\n\n⚡最后一击核心共振⚡", "description": "给定正整数 $p$ 和 $n$。对于一个排列，我们称其中相邻两项产生「共振」当且仅当这两个数的和为 $p$ 的倍数。\n\n请你构造一个 $1 \\sim n$ 的排列，最大化其中产生「共振」的次数。如果有多种方案，输出任意一种即可。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，代表数据的组数。\n\n对于每组测试数据，输入包含一行，为由空格隔开的两个正整数 $n$ 和 $p$。", "outputFormat": "对于每组测试数据，输出一行，包含由空格隔开的 $n$ 个正整数，代表你构造的排列。", "hint": "**本题采用捆绑测试。**\n\n+ Subtask 0（15 pts）：$n \\leq 9$，$T \\le 10$。\n+ Subtask 1（10 pts）：$p = 2$。\n+ Subtask 2（30 pts）：$p = 3$。\n+ Subtask 3（45 pts）：无特殊限制。\n\n对于所有数据，$1 \\leq n \\leq 10^5$，$1 \\leq p \\leq 10^8$，$1 \\leq T \\leq 10^4$，$1 \\leq \\sum n \\leq 3\\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-2」核心共振", "background": "⚡超越一切震慑凡人⚡\n\n⚡带来终结机械降神⚡\n\n⚡风暴之力充满全身⚡\n\n⚡最后一击核心共振⚡", "description": "给定正整数 $p$ 和 $n$。对于一个排列，我们称其中相邻两项产生「共振」当且仅当这两个数的和为 $p$ 的倍数。\n\n请你构造一个 $1 \\sim n$ 的排列，最大化其中产生「共振」的次数。如果有多种方案，输出任意一种即可。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，代表数据的组数。\n\n对于每组测试数据，输入包含一行，为由空格隔开的两个正整数 $n$ 和 $p$。", "outputFormat": "对于每组测试数据，输出一行，包含由空格隔开的 $n$ 个正整数，代表你构造的排列。", "hint": "**本题采用捆绑测试。**\n\n+ Subtask 0（15 pts）：$n \\leq 9$，$T \\le 10$。\n+ Subtask 1（10 pts）：$p = 2$。\n+ Subtask 2（30 pts）：$p = 3$。\n+ Subtask 3（45 pts）：无特殊限制。\n\n对于所有数据，$1 \\leq n \\leq 10^5$，$1 \\leq p \\leq 10^8$，$1 \\leq T \\leq 10^4$，$1 \\leq \\sum n \\leq 3\\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P9574", "type": "P", "difficulty": 4, "samples": [["6\n3\nTTT\n4\nBTTB\n5\nTBBTT\n6\nBTBTBB\n7\nBTTBTTB\n17\nTTBTBTTBTBTTTBTTB\n", "3\n2\n2\n1\n3\n5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "贪心", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「TAOI-2」Break Through the Barrier", "background": "", "description": "有一个由 $\\tt B$ 和 $\\tt T$ 组成的字符串。\n\n你可以进行如下操作：选择一个长度为 $4$ 的子串，其恰好等于 $\\texttt{BTTB}$，并将其修改为 $\\texttt{TBBT}$。你可以进行这种操作任意多次（也可以不操作）。\n\n定义一个字符串的权值为最长的 $\\texttt{T}$ 连续段长度。你需要通过如上操作使得字符串的权值尽可能大。输出这个最大值。\n\n+ 子串的定义：一个字符串 $b$ 被称为字符串 $a$ 的子串，当且仅当可以通过删除 $a$ 开头若干个（可以是 $0$ 个，下同）字符和结尾若干个字符得到 $b$。\n+ $\\texttt{T}$ 连续段的定义：一个原字符串的仅由 $\\texttt{T}$ 构成的子串。", "inputFormat": "第一行一个正整数 $T$ 表示数据组数。\n\n接下来每组数据，第一行一个正整数 $n$ 表示字符串长度，第二行一个长度为 $n$ 的字符串 $S$，表示题目中的字符串。", "outputFormat": "$T$ 行，每行一个非负整数，表示最长 $\\texttt{T}$ 连续段的长度。", "hint": "**本题采用捆绑测试。**\n\n记 $\\sum n$ 为所有数据中的 $n$ 的和。\n\n+ Subtask 0（5 pts）：$n \\leq 7$。\n+ Subtask 1（20 pts）：$T \\leq 10$，$n \\leq 10$。\n+ Subtask 2（25 pts）：$\\sum n \\leq 5000$。\n+ Subtask 3（5 pts）：保证给定的字符串无法进行任何操作。\n+ Subtask 4（45 pts）：无特殊限制。\n\n对于所有数据，$1 \\leq T \\leq 10^3$，$1 \\leq n \\leq 10^5$，$1 \\leq \\sum n \\leq 5\\times 10^5$，字符串只包含字符 `B` 和 `T`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-2」Break Through the Barrier", "background": "", "description": "有一个由 $\\tt B$ 和 $\\tt T$ 组成的字符串。\n\n你可以进行如下操作：选择一个长度为 $4$ 的子串，其恰好等于 $\\texttt{BTTB}$，并将其修改为 $\\texttt{TBBT}$。你可以进行这种操作任意多次（也可以不操作）。\n\n定义一个字符串的权值为最长的 $\\texttt{T}$ 连续段长度。你需要通过如上操作使得字符串的权值尽可能大。输出这个最大值。\n\n+ 子串的定义：一个字符串 $b$ 被称为字符串 $a$ 的子串，当且仅当可以通过删除 $a$ 开头若干个（可以是 $0$ 个，下同）字符和结尾若干个字符得到 $b$。\n+ $\\texttt{T}$ 连续段的定义：一个原字符串的仅由 $\\texttt{T}$ 构成的子串。", "inputFormat": "第一行一个正整数 $T$ 表示数据组数。\n\n接下来每组数据，第一行一个正整数 $n$ 表示字符串长度，第二行一个长度为 $n$ 的字符串 $S$，表示题目中的字符串。", "outputFormat": "$T$ 行，每行一个非负整数，表示最长 $\\texttt{T}$ 连续段的长度。", "hint": "**本题采用捆绑测试。**\n\n记 $\\sum n$ 为所有数据中的 $n$ 的和。\n\n+ Subtask 0（5 pts）：$n \\leq 7$。\n+ Subtask 1（20 pts）：$T \\leq 10$，$n \\leq 10$。\n+ Subtask 2（25 pts）：$\\sum n \\leq 5000$。\n+ Subtask 3（5 pts）：保证给定的字符串无法进行任何操作。\n+ Subtask 4（45 pts）：无特殊限制。\n\n对于所有数据，$1 \\leq T \\leq 10^3$，$1 \\leq n \\leq 10^5$，$1 \\leq \\sum n \\leq 5\\times 10^5$，字符串只包含字符 `B` 和 `T`。", "locale": "zh-CN"}}}
{"pid": "P9575", "type": "P", "difficulty": 5, "samples": [["3\n1 1 1", "-1"], ["4\n4 1 2 3", "3\n0001\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2023", "洛谷原创", "Special Judge", "O2优化", "构造", "洛谷月赛", "Ad-hoc"], "title": "「TAOI-2」喵了个喵 Ⅳ", "background": "小 S 共有 $n$ 只可爱的喵喵，第 $i$ 只喵喵有可爱度 $a_i$。小 S 想要把他的喵喵分成两组。考虑到小 S 的喵喵不像某些喵喵有九条命，他的喵喵只有一条，于是一只喵喵不能被同时分到两组内（请不要试图想象这个画面）。同时，如果一只喵喵没有被分到任意一组，他就会十分生气，很有可能导致小 S 失眠。\n\n当然，小 S 也希望两组的**组可爱度**相等。即存在一个正整数 $x$，使得其中一组的 $\\gcd(x, a_i)$ 之和等于另一组的 $\\gcd(x, a_i)$ 之和。请你判断是否可以使得小 S 可以将喵喵分成两组，并可以找出一个 $x$ 使得两组的**组可爱度**相等。", "description": "给定正整数 $n$ 及长度为 $n$ 的正整数序列 $a$，请你将 $a$ 划分为两个集合 $B, C$ 并给出正整数 $x$，使得 $\\sum_{y\\in B}\\gcd(x,y) = \\sum_{y\\in C}\\gcd(x,y)$。如果无解，输出 $-1$。\n\n你需要保证 $1 \\leq x \\leq 10^9$，保证在本题的数据约束下若有解则总有 $x \\leq 10^9$ 的解。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来一行为 $n$ 个正整数，其中第 $i$ 个表示 $a_i$。", "outputFormat": "如无解，仅输出一行一个整数 $-1$。否则：\n\n第一行输出一个正整数 $x$。\n\n第二行输出一个长度为 $n$ 的 $\\tt 01$ 串，第 $i$ 个数为 $\\tt 0$ 代表 $a_i$ 被划分到集合 $B$ 中，为 $\\tt 1$ 代表 $a_i$ 被划分到集合 $C$ 中。", "hint": "**本题采用捆绑测试。**\n\n+ Subtask 0（2 pts）：$n$ 为偶数。\n+ Subtask 1（8 pts）：$a_i$ 均为奇数。\n+ Subtask 2（15 pts）：$n \\leq 50$，$a_i \\leq 50$。\n+ Subtask 3（25 pts）：$n \\leq 10^3$，$a_i \\leq 10^3$。\n+ Subtask 4（50 pts）：无特殊限制。\n\n对于所有数据，$1 \\leq n \\leq 10^5$，$1 \\leq a_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-2」喵了个喵 Ⅳ", "background": "小 S 共有 $n$ 只可爱的喵喵，第 $i$ 只喵喵有可爱度 $a_i$。小 S 想要把他的喵喵分成两组。考虑到小 S 的喵喵不像某些喵喵有九条命，他的喵喵只有一条，于是一只喵喵不能被同时分到两组内（请不要试图想象这个画面）。同时，如果一只喵喵没有被分到任意一组，他就会十分生气，很有可能导致小 S 失眠。\n\n当然，小 S 也希望两组的**组可爱度**相等。即存在一个正整数 $x$，使得其中一组的 $\\gcd(x, a_i)$ 之和等于另一组的 $\\gcd(x, a_i)$ 之和。请你判断是否可以使得小 S 可以将喵喵分成两组，并可以找出一个 $x$ 使得两组的**组可爱度**相等。", "description": "给定正整数 $n$ 及长度为 $n$ 的正整数序列 $a$，请你将 $a$ 划分为两个集合 $B, C$ 并给出正整数 $x$，使得 $\\sum_{y\\in B}\\gcd(x,y) = \\sum_{y\\in C}\\gcd(x,y)$。如果无解，输出 $-1$。\n\n你需要保证 $1 \\leq x \\leq 10^9$，保证在本题的数据约束下若有解则总有 $x \\leq 10^9$ 的解。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来一行为 $n$ 个正整数，其中第 $i$ 个表示 $a_i$。", "outputFormat": "如无解，仅输出一行一个整数 $-1$。否则：\n\n第一行输出一个正整数 $x$。\n\n第二行输出一个长度为 $n$ 的 $\\tt 01$ 串，第 $i$ 个数为 $\\tt 0$ 代表 $a_i$ 被划分到集合 $B$ 中，为 $\\tt 1$ 代表 $a_i$ 被划分到集合 $C$ 中。", "hint": "**本题采用捆绑测试。**\n\n+ Subtask 0（2 pts）：$n$ 为偶数。\n+ Subtask 1（8 pts）：$a_i$ 均为奇数。\n+ Subtask 2（15 pts）：$n \\leq 50$，$a_i \\leq 50$。\n+ Subtask 3（25 pts）：$n \\leq 10^3$，$a_i \\leq 10^3$。\n+ Subtask 4（50 pts）：无特殊限制。\n\n对于所有数据，$1 \\leq n \\leq 10^5$，$1 \\leq a_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P9576", "type": "P", "difficulty": 6, "samples": [["aabbaaba\naba", "23"], ["ciaohallo\nciallo", "2"], ["babacbbaababbacbababbabbbaaabaabababbabbabababba\nababab", "1535"], ["sssssssssssssssssssssssssssssssssssss\nsss", "15470"], ["abcbbbcbcbcbacbacbaaabcbcbcbaabacbca\ncb", "3995"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "树状数组", "洛谷原创", "O2优化", "哈希 hashing", "洛谷月赛"], "title": "「TAOI-2」Ciallo～(∠・ω< )⌒★", "background": "柚子厨差不多得了。\n\n~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0nqiwonz.png)", "description": "小 δ 喜欢造词。他学习了一种造词方法。\n\n首先，他拥有一个「模板串」，设为 $s$。然后他会选择一对 $1 \\le l \\le r \\le |s|$，将 $s$ 的第 $l$ 至 $r$ 个字符删掉，把两边的字符串拼起来，他设得到的这个新字符串为 $s'$。\n\n接下来，他会选择一对新的 $1 \\le l' \\le r' \\le |s'|$，然后设 $s'$ 的第 $l'$ 至 $r'$ 个字符组成的字符串为 $s''$。他所造出的这个词就是 $s''$。\n\n例如，如果「模板串」为 $s=\\texttt{cciaohalloo}$，那么一种造词方法是，选择 $l=5$，$r=7$，得到 $s'=\\texttt{ccialloo}$，然后选择 $l'=2$，$r'=7$，得到 $s''=\\texttt{ciallo}$。\n\n现在小 δ 有一个「目标串」 $t$，他想知道有多少种不同的方案，可以使用「模板串」$s$ 造出单词 $t$。定义两种方案相同当且仅当选择的 $l,r,l',r'$ 均相同。", "inputFormat": "共两行，分别为字符串 $s$ 和 $t$。", "outputFormat": "共一行，代表造出「目标串」$t$ 的方案数。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 0（6 points）：$|s| \\le 400$，$|t| \\le 200$。\n- Subtask 1（10 points）：$|s| \\le 700$，$|t| \\le 300$。\n- Subtask 2（10 points）：$\\forall i,j,s_i=t_j$。\n- Subtask 3（10 points）：$|t|=1$。\n- Subtask 4（20 points）：$|s| \\le 10^4$，$|t| \\le 3 \\times 10^3$。\n- Subtask 5（14 points）：$|t|=2$。\n- Subtask 6（30 points）：无特殊限制。\n\n对于所有测试数据，$1 \\le |s| \\le 4 \\times 10^5$，$1 \\le |t| \\le 2 \\times 10^5$。$s,t$ 只包含小写英文字母。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「TAOI-2」Ciallo～(∠・ω< )⌒★", "background": "柚子厨差不多得了。\n\n~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)~(·<)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0nqiwonz.png)", "description": "小 δ 喜欢造词。他学习了一种造词方法。\n\n首先，他拥有一个「模板串」，设为 $s$。然后他会选择一对 $1 \\le l \\le r \\le |s|$，将 $s$ 的第 $l$ 至 $r$ 个字符删掉，把两边的字符串拼起来，他设得到的这个新字符串为 $s'$。\n\n接下来，他会选择一对新的 $1 \\le l' \\le r' \\le |s'|$，然后设 $s'$ 的第 $l'$ 至 $r'$ 个字符组成的字符串为 $s''$。他所造出的这个词就是 $s''$。\n\n例如，如果「模板串」为 $s=\\texttt{cciaohalloo}$，那么一种造词方法是，选择 $l=5$，$r=7$，得到 $s'=\\texttt{ccialloo}$，然后选择 $l'=2$，$r'=7$，得到 $s''=\\texttt{ciallo}$。\n\n现在小 δ 有一个「目标串」 $t$，他想知道有多少种不同的方案，可以使用「模板串」$s$ 造出单词 $t$。定义两种方案相同当且仅当选择的 $l,r,l',r'$ 均相同。", "inputFormat": "共两行，分别为字符串 $s$ 和 $t$。", "outputFormat": "共一行，代表造出「目标串」$t$ 的方案数。", "hint": "### 数据范围\n\n**本题采用捆绑测试**。\n\n- Subtask 0（6 points）：$|s| \\le 400$，$|t| \\le 200$。\n- Subtask 1（10 points）：$|s| \\le 700$，$|t| \\le 300$。\n- Subtask 2（10 points）：$\\forall i,j,s_i=t_j$。\n- Subtask 3（10 points）：$|t|=1$。\n- Subtask 4（20 points）：$|s| \\le 10^4$，$|t| \\le 3 \\times 10^3$。\n- Subtask 5（14 points）：$|t|=2$。\n- Subtask 6（30 points）：无特殊限制。\n\n对于所有测试数据，$1 \\le |s| \\le 4 \\times 10^5$，$1 \\le |t| \\le 2 \\times 10^5$。$s,t$ 只包含小写英文字母。", "locale": "zh-CN"}}}
{"pid": "P9577", "type": "P", "difficulty": 2, "samples": [["3 4 6", "2"], ["4 7 16", "4"], ["3 2 5", "1"], ["114 5141 919810", "62166352"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "洛谷月赛"], "title": "「Cfz Round 1」Dead Cells", "background": "Cidoai 上完生物课后，突发奇想出了这么一道题。\n\n太水了……吧。Cidoai 说着把这道题送给了你，让你去发掘这道题的快乐。", "description": "有一天，在第 $0$ 个小时，一个细胞生成了，每过 $a$ 小时，细胞的数量就变成当前的两倍，每过 $b$ 小时，细胞的数量就变成当前的一半（向上取整）。\n\n假如当前时间是 $a$ 和 $b$ 的公倍数，则细胞数量不变。问经过了 $k$ 小时后，细胞个数为多少，答案对 $998244353$ 取模。", "inputFormat": "一行 $3$ 个正整数，分别表示 $a,b,k$。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 【样例解释 #1】\n\n第 $1 \\sim 6$ 小时的细胞的数量分别为 $1,1,2,1,1,2$。\n\n#### 【数据范围】\n\n对于所有数据，$1 \\le a,b,k \\le 10^6$。\n\n**本题采用捆绑测试。**\n\n|子任务编号|分值|$k \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1$|$15$|$10^6$|保证 $a=b$|\n|$2$|$20$|$10^6$|保证 $a\\gt b$|\n|$3$|$25$|$20$|无|\n|$4$|$40$|$10^6$|无|\n\n#### 【提示】\n\n$\\dfrac{a}{2} \\equiv a \\times 499122177 \\pmod {998244353}$，即在对 $998244353$ 取模的情况下，您可以用 $a \\times 499122177$ 代替 $a \\div 2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 1」Dead Cells", "background": "Cidoai 上完生物课后，突发奇想出了这么一道题。\n\n太水了……吧。Cidoai 说着把这道题送给了你，让你去发掘这道题的快乐。", "description": "有一天，在第 $0$ 个小时，一个细胞生成了，每过 $a$ 小时，细胞的数量就变成当前的两倍，每过 $b$ 小时，细胞的数量就变成当前的一半（向上取整）。\n\n假如当前时间是 $a$ 和 $b$ 的公倍数，则细胞数量不变。问经过了 $k$ 小时后，细胞个数为多少，答案对 $998244353$ 取模。", "inputFormat": "一行 $3$ 个正整数，分别表示 $a,b,k$。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 【样例解释 #1】\n\n第 $1 \\sim 6$ 小时的细胞的数量分别为 $1,1,2,1,1,2$。\n\n#### 【数据范围】\n\n对于所有数据，$1 \\le a,b,k \\le 10^6$。\n\n**本题采用捆绑测试。**\n\n|子任务编号|分值|$k \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1$|$15$|$10^6$|保证 $a=b$|\n|$2$|$20$|$10^6$|保证 $a\\gt b$|\n|$3$|$25$|$20$|无|\n|$4$|$40$|$10^6$|无|\n\n#### 【提示】\n\n$\\dfrac{a}{2} \\equiv a \\times 499122177 \\pmod {998244353}$，即在对 $998244353$ 取模的情况下，您可以用 $a \\times 499122177$ 代替 $a \\div 2$。", "locale": "zh-CN"}}}
{"pid": "P9578", "type": "P", "difficulty": 3, "samples": [["4", "1 4 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "Special Judge", "O2优化", "构造", "洛谷月赛", "Ad-hoc"], "title": "「Cfz Round 1」Permutation", "background": "$1+2+3+\\cdots+n=\\dfrac {n\\times (n+1)} 2$。", "description": "给定一个正整数 $n$。\n\n我们定义，对于一个 $1$ 到 $n$ 的排列 $\\{x_n\\}$， $f(\\{x_n\\})=\\max\\limits_{i=1}^{n}(x_i+x_{(i \\bmod n)+1})-\\min\\limits_{i=1}^{n}(x_i+x_{(i \\bmod n)+1})$。\n\n你需要构造一个 $1$ 到 $n$ 的排列 $\\{p_n\\}$，使得对于任意一个 $1$ 到 $n$ 的排列 $\\{q_n\\}$，都有 $f(\\{p_n\\})\\le f(\\{q_n\\})$，并输出你构造的排列 $\\{p_n\\}$。", "inputFormat": "一个正整数 $n$。", "outputFormat": "$n$ 个整数，表示你构造的排列 $\\{p_n\\}$，之间用空格分隔。\n\n所有满足条件的输出均可通过。", "hint": "#### 【样例解释 #1】\n\n$f(\\{1,4,2,3\\})=2$，可以证明对于任意一个 $1$ 到 $n$ 的排列 $\\{q_n\\}$，都有 $f(\\{1,4,2,3\\})\\le f(\\{q_n\\})$。\n\n当然，$\\{1,3,2,4\\},\\{3,1,4,2\\},\\{4,1,3,2\\}$ 等也为合法的排列 $\\{p_n\\}$。\n\n#### 【数据范围】\n\n对于所有数据，$3 \\le n \\le 10^6$。\n\n**本题采用捆绑测试。**\n\n|子任务编号|分值|$n \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1$|$20$|$8$|无|\n|$2$|$25$|$10^6$|保证 $n \\equiv 0 \\pmod 2$|\n|$3$|$25$|$10^6$|保证 $n \\equiv 1 \\pmod 2$|\n|$4$|$30$|$10^6$|无|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 1」Permutation", "background": "$1+2+3+\\cdots+n=\\dfrac {n\\times (n+1)} 2$。", "description": "给定一个正整数 $n$。\n\n我们定义，对于一个 $1$ 到 $n$ 的排列 $\\{x_n\\}$， $f(\\{x_n\\})=\\max\\limits_{i=1}^{n}(x_i+x_{(i \\bmod n)+1})-\\min\\limits_{i=1}^{n}(x_i+x_{(i \\bmod n)+1})$。\n\n你需要构造一个 $1$ 到 $n$ 的排列 $\\{p_n\\}$，使得对于任意一个 $1$ 到 $n$ 的排列 $\\{q_n\\}$，都有 $f(\\{p_n\\})\\le f(\\{q_n\\})$，并输出你构造的排列 $\\{p_n\\}$。", "inputFormat": "一个正整数 $n$。", "outputFormat": "$n$ 个整数，表示你构造的排列 $\\{p_n\\}$，之间用空格分隔。\n\n所有满足条件的输出均可通过。", "hint": "#### 【样例解释 #1】\n\n$f(\\{1,4,2,3\\})=2$，可以证明对于任意一个 $1$ 到 $n$ 的排列 $\\{q_n\\}$，都有 $f(\\{1,4,2,3\\})\\le f(\\{q_n\\})$。\n\n当然，$\\{1,3,2,4\\},\\{3,1,4,2\\},\\{4,1,3,2\\}$ 等也为合法的排列 $\\{p_n\\}$。\n\n#### 【数据范围】\n\n对于所有数据，$3 \\le n \\le 10^6$。\n\n**本题采用捆绑测试。**\n\n|子任务编号|分值|$n \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1$|$20$|$8$|无|\n|$2$|$25$|$10^6$|保证 $n \\equiv 0 \\pmod 2$|\n|$3$|$25$|$10^6$|保证 $n \\equiv 1 \\pmod 2$|\n|$4$|$30$|$10^6$|无|", "locale": "zh-CN"}}}
