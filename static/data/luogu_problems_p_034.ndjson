{"pid": "P1681", "type": "P", "difficulty": 3, "samples": [["3 3\n0 1 0\n1 0 0\n1 1 1\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP"], "title": "最大正方形II", "background": "忙完了学校的事，v 神终于可以做他的“正事”：陪女朋友散步。一天，他和女朋友走着走着，不知不觉就来到了一个千里无烟的地方。v 神正要往回走，如发现了一块牌子，牌子上有一行小字和一张图，小字说道：“找到图上最大的交错正方形之后和我联系，这块地就是你的了。”在房价疯长的年代，v 神当然不愿错过这个机会，于是开始找了起来……以 v 神的能力当然找不出来了，你能帮 v 神找出来吗？", "description": "图上有一个矩阵，由 $N\\times M$ 个格子组成，这些格子由两种颜色构成，黑色和白色。请找到面积最大的且内部是黑白交错（即两个相连的正方形颜色不能相同）的正方形。", "inputFormat": "第一行两个整数 $N$ 和 $M$，分别表示行数和列数。接下来有 $N$ 行，每行 $M$ 个数，$0$ 或 $1$ 分别表示这个格子是黑色或白色。", "outputFormat": "仅有一行，表示满足条件最大正方形的边长。", "hint": "### 样例解释\n\n$(1,1)$ 到 $(2,2)$ 这个正方形是满足条件的，它的边长是 $2$。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$N \\le 20$；\n- 对于 $60\\%$ 的数据，$N \\le 300$；\n- 对于 $100\\%$ 的数据，$N \\le 1500$。", "locale": "zh-CN", "translations": {"en": {"title": "Largest Square II", "background": "After finishing his schoolwork, v 神 could finally do his \"real business\": taking a walk with his girlfriend. One day, as they walked, they unknowingly arrived at a desolate place. Just as v 神 was about to turn back, he noticed a sign. The sign had a line of small text and a picture. The small text said: \"Contact me after you find the largest alternating square in the picture, and this land will be yours.\" In an era of soaring housing prices, v 神 certainly did not want to miss this opportunity, so he started searching... Of course, with v 神's ability, he couldn't find it. Can you help v 神 find it?", "description": "There is a grid on the picture, consisting of $N\\times M$ cells. Each cell is colored either black or white. Find a square of maximum area whose interior is black-and-white alternating, that is, any two adjacent unit cells (sharing an edge) must not have the same color.", "inputFormat": "The first line contains two integers $N$ and $M$, denoting the number of rows and columns, respectively. Then follow $N$ lines, each containing $M$ numbers. Each number is $0$ or $1$, indicating that the cell is black or white, respectively.", "outputFormat": "Output a single line containing the side length of the largest square that satisfies the condition.", "hint": "Sample Explanation:\nThe square from $(1,1)$ to $(2,2)$ satisfies the condition, and its side length is $2$.\n\nConstraints:\n- For $30\\%$ of the testdata, $N \\le 20$.\n- For $60\\%$ of the testdata, $N \\le 300$.\n- For $100\\%$ of the testdata, $N \\le 1500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最大正方形II", "background": "忙完了学校的事，v 神终于可以做他的“正事”：陪女朋友散步。一天，他和女朋友走着走着，不知不觉就来到了一个千里无烟的地方。v 神正要往回走，如发现了一块牌子，牌子上有一行小字和一张图，小字说道：“找到图上最大的交错正方形之后和我联系，这块地就是你的了。”在房价疯长的年代，v 神当然不愿错过这个机会，于是开始找了起来……以 v 神的能力当然找不出来了，你能帮 v 神找出来吗？", "description": "图上有一个矩阵，由 $N\\times M$ 个格子组成，这些格子由两种颜色构成，黑色和白色。请找到面积最大的且内部是黑白交错（即两个相连的正方形颜色不能相同）的正方形。", "inputFormat": "第一行两个整数 $N$ 和 $M$，分别表示行数和列数。接下来有 $N$ 行，每行 $M$ 个数，$0$ 或 $1$ 分别表示这个格子是黑色或白色。", "outputFormat": "仅有一行，表示满足条件最大正方形的边长。", "hint": "### 样例解释\n\n$(1,1)$ 到 $(2,2)$ 这个正方形是满足条件的，它的边长是 $2$。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$N \\le 20$；\n- 对于 $60\\%$ 的数据，$N \\le 300$；\n- 对于 $100\\%$ 的数据，$N \\le 1500$。", "locale": "zh-CN"}}}
{"pid": "P1682", "type": "P", "difficulty": 3, "samples": [["4 5 1 2\n1 1\n2 3\n3 2\n4 2\n4 4\n1 4\n2 3\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "并查集", "深度优先搜索 DFS"], "title": "过家家", "background": "", "description": "有 $2n$ 个小学生来玩过家家游戏，其中有 $n$ 个男生，编号为 $1$ 到 $n$，另外 $n$ 个女生，编号也是 $1$ 到 $n$。每一个女生可以选择一个和她不吵嘴的男生来玩，除此之外，如果编号为 $X$ 的女生的朋友（也是女生，且编号为 $Y$）不和编号为 $Z$ 的男生吵嘴，那么 $X$ 也可以选择 $Z$。此外，朋友关系是可以传递的，比如 $a$ 和 $b$ 是朋友，$b$ 和 $c$ 是朋友，那么我们可以认为 $a$ 和 $c$ 也是朋友。注意，一个男生可以被多个女生选择为玩伴。\n\n当每一位女生都选择了玩伴，那么他们会开始新一轮游戏。在每一轮后，每个女生都会开始去找一个新的男生做玩伴（以前没选过）。而且每一个女生最多能强制 $k$ 个男生接受，无论他们以前是否吵嘴。\n\n现在你的任务就是确定这 $2n$ 个小学生最多能玩几轮游戏。\n", "inputFormat": "第一行有四个整数 $n,m,k,f$（$3 \\le n \\le 250$，$0 < m < n^{2}$，$0 \\le f < n$）。\n\n$n$ 表示有 $2n$ 个小学生，其中 $n$ 个男生 $n$ 个女生。\n\n接下来 $m$ 行，每行包含两个数字 $a,b$ 表示编号为 $a$ 的女生和编号为 $b$ 的男生从没吵嘴过。\n\n再接下来 $f$ 行，每行包含两个数字 $c,d$ 表示编号为 $c$ 的女生和编号为 $d$ 的女生是朋友。\n", "outputFormat": "对于每组数据，输出一个整数，表示 $2n$ 个小学生最多能玩几轮。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Playing House", "background": "", "description": "There are $2n$ elementary school students playing the “playing house” game: $n$ boys labeled $1$ to $n$, and $n$ girls labeled $1$ to $n$. Each girl may choose a boy with whom she does not quarrel as her partner. In addition, if girl $X$ has a friend (also a girl) $Y$ who does not quarrel with boy $Z$, then $X$ may also choose $Z$. Moreover, friendship is transitive: if $a$ and $b$ are friends, and $b$ and $c$ are friends, then $a$ and $c$ are also considered friends. Note that a boy may be chosen by multiple girls as their partner.\n\nOnce every girl has chosen a partner, they start a new round of the game. After each round, every girl looks for a new boy as her partner (one she has never chosen before). Also, each girl may, in total, force at most $k$ boys to accept her, regardless of whether they have quarreled before.\n\nYour task is to determine the maximum number of rounds the $2n$ students can play.", "inputFormat": "The first line contains four integers $n, m, k, f$ (Constraints: $3 \\le n \\le 250$, $0 < m < n^{2}$, $0 \\le f < n$).\n\nHere, $n$ means there are $2n$ students in total, with $n$ boys and $n$ girls.\n\nThe next $m$ lines each contain two integers $a, b$, indicating that girl $a$ and boy $b$ have never quarreled.\n\nThe next $f$ lines each contain two integers $c, d$, indicating that girls $c$ and $d$ are friends.", "outputFormat": "For each test, output one integer, the maximum number of rounds the $2n$ students can play.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "过家家", "background": "", "description": "有 $2n$ 个小学生来玩过家家游戏，其中有 $n$ 个男生，编号为 $1$ 到 $n$，另外 $n$ 个女生，编号也是 $1$ 到 $n$。每一个女生可以选择一个和她不吵嘴的男生来玩，除此之外，如果编号为 $X$ 的女生的朋友（也是女生，且编号为 $Y$）不和编号为 $Z$ 的男生吵嘴，那么 $X$ 也可以选择 $Z$。此外，朋友关系是可以传递的，比如 $a$ 和 $b$ 是朋友，$b$ 和 $c$ 是朋友，那么我们可以认为 $a$ 和 $c$ 也是朋友。注意，一个男生可以被多个女生选择为玩伴。\n\n当每一位女生都选择了玩伴，那么他们会开始新一轮游戏。在每一轮后，每个女生都会开始去找一个新的男生做玩伴（以前没选过）。而且每一个女生最多能强制 $k$ 个男生接受，无论他们以前是否吵嘴。\n\n现在你的任务就是确定这 $2n$ 个小学生最多能玩几轮游戏。\n", "inputFormat": "第一行有四个整数 $n,m,k,f$（$3 \\le n \\le 250$，$0 < m < n^{2}$，$0 \\le f < n$）。\n\n$n$ 表示有 $2n$ 个小学生，其中 $n$ 个男生 $n$ 个女生。\n\n接下来 $m$ 行，每行包含两个数字 $a,b$ 表示编号为 $a$ 的女生和编号为 $b$ 的男生从没吵嘴过。\n\n再接下来 $f$ 行，每行包含两个数字 $c,d$ 表示编号为 $c$ 的女生和编号为 $d$ 的女生是朋友。\n", "outputFormat": "对于每组数据，输出一个整数，表示 $2n$ 个小学生最多能玩几轮。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1683", "type": "P", "difficulty": 2, "samples": [["11 9\n.#.........\n.#.#######.\n.#.#.....#.\n.#.#.###.#.\n.#.#..@#.#.\n.#.#####.#.\n.#.......#.\n.#########.\n...........\n", "59"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "入门", "background": "", "description": "不是任何人都可以进入桃花岛的，黄药师最讨厌像郭靖一样呆头呆脑的人。所以，他在桃花岛的唯一入口处修了一条小路，这条小路全部用正方形瓷砖铺设而成。有的瓷砖可以踩，我们认为是安全的，而有的瓷砖一踩上去就会有喷出要命的毒气，那你就死翘翘了，我们认为是不安全的。你只能从一块安全的瓷砖上走到与他相邻的四块瓷砖中的任何一个上，但它也必须是安全的才行。\n\n由于你是黄蓉的朋友，她事先告诉你哪些砖是安全的、哪些砖是不安全的，并且她会指引你飞到第一块砖上（第一块砖可能在任意安全位置），现在她告诉你进入桃花岛的秘密就是：如果你能走过最多的瓷砖并且没有死，那么桃花岛的大门就会自动打开了，你就可以从当前位置直接飞进大门了。\n\n注意：瓷砖可以重复走过，但不能重复计数。\n", "inputFormat": "第一行两个正整数 $W$ 和 $H$，分别表示小路的宽度和长度。\n\n以下 $H$ 行为一个 $H\\times W$ 的字符矩阵。每一个字符代表一块瓷砖。其中，`.` 代表安全的砖，`#` 代表不安全的砖，`@` 代表第一块砖。", "outputFormat": "输出一行，只包括一个数，即你从第一块砖开始所能安全走过的最多的砖块个数（包括第一块砖）。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq W,H\\le 20$。", "locale": "zh-CN", "translations": {"en": {"title": "Beginner", "background": "", "description": "Not everyone can enter Peach Blossom Island. Huang Yaoshi hates dull people like Guo Jing. So he built a small path at the island’s only entrance, paved entirely with square tiles. Some tiles are safe to step on, while others will spray deadly poison gas the moment you step on them—you die immediately; we consider them unsafe. You can move from a safe tile to any of its four neighboring tiles, but the destination must also be safe.\n\nBecause you are a friend of Huang Rong, she tells you in advance which tiles are safe and which are unsafe, and she will guide you to fly onto the first tile (the first tile may be at any safe position). Now she tells you the secret to entering Peach Blossom Island: if you can walk over the maximum number of tiles without dying, the island gate will open automatically, and you can fly straight into the gate from your current position.\n\nNote: You may revisit tiles, but you must not count the same tile more than once.", "inputFormat": "The first line contains two positive integers $W$ and $H$, denoting the width and height of the path.\n\nThe following $H$ lines form an $H \\times W$ character matrix. Each character represents one tile. `.` denotes a safe tile, `#` denotes an unsafe tile, and `@` denotes the first tile.", "outputFormat": "Output one line containing a single integer: the maximum number of tiles you can safely visit starting from the first tile (including the first tile).", "hint": "Constraints\n\nFor all test points, it is guaranteed that $1 \\leq W, H \\leq 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "入门", "background": "", "description": "不是任何人都可以进入桃花岛的，黄药师最讨厌像郭靖一样呆头呆脑的人。所以，他在桃花岛的唯一入口处修了一条小路，这条小路全部用正方形瓷砖铺设而成。有的瓷砖可以踩，我们认为是安全的，而有的瓷砖一踩上去就会有喷出要命的毒气，那你就死翘翘了，我们认为是不安全的。你只能从一块安全的瓷砖上走到与他相邻的四块瓷砖中的任何一个上，但它也必须是安全的才行。\n\n由于你是黄蓉的朋友，她事先告诉你哪些砖是安全的、哪些砖是不安全的，并且她会指引你飞到第一块砖上（第一块砖可能在任意安全位置），现在她告诉你进入桃花岛的秘密就是：如果你能走过最多的瓷砖并且没有死，那么桃花岛的大门就会自动打开了，你就可以从当前位置直接飞进大门了。\n\n注意：瓷砖可以重复走过，但不能重复计数。\n", "inputFormat": "第一行两个正整数 $W$ 和 $H$，分别表示小路的宽度和长度。\n\n以下 $H$ 行为一个 $H\\times W$ 的字符矩阵。每一个字符代表一块瓷砖。其中，`.` 代表安全的砖，`#` 代表不安全的砖，`@` 代表第一块砖。", "outputFormat": "输出一行，只包括一个数，即你从第一块砖开始所能安全走过的最多的砖块个数（包括第一块砖）。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq W,H\\le 20$。", "locale": "zh-CN"}}}
{"pid": "P1684", "type": "P", "difficulty": 3, "samples": [["15\r\n1 2 3 1 2 1 2 3 3 2 1 1 3 2 2\r\n", "3\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心"], "title": "考验", "background": null, "description": "大家知道，黄药师不仅武功高超，而且酷爱音乐和诗歌。看到桃花岛来了个新客人，而且不是靠真武功进来的，就准备为难为难你。\n\n他写了一首 $N$ 行诗句的诗歌，美中不足的是这些诗句并不押韵，黄药师非常想遵循古诗的押韵。诗歌被分为若干段，每段都是四行诗。每一句诗都有一个韵脚，假如 $A$ 和 $B$ 表示两种不同的韵脚，每段四行诗的韵脚只可能是 `AABB`，`ABAB`，`ABBA` 和 `AAAA` 中的一种。\n\n黄药师将诗句的韵脚都编了号，具有相同编号的句子代表有相同的韵脚。现在，黄药师想删掉一些句子，使得剩下的都是遵循押韵规则的四行诗，而且不允许改变诗句的顺序。\n\n现在就问你：如何找出满足条件最长的诗歌？", "inputFormat": "第 $1$ 行为一个整数 $N\\ (1 \\le N \\le 4000)$，代表黄药师写的诗歌的句子数。\n\n第 $2$ 行为 $N$ 个整数，分别表示每一行诗的韵脚，这些数字都是不超过 $10^9$ 的正数，每个数之间用 $1$ 个空格隔开。", "outputFormat": "一行一个整数 $k$，为黄药师最多能够得到的四行诗个数。", "hint": "提示：\n\n删除第 $3$、$6$、$13$ 句诗，就可以分成 $3$ 个四行诗，分别为：\n\n- $1,2,4,5$；\n- $7,8,9,10$；\n- $11,12,14,15$。", "locale": "zh-CN", "translations": {"en": {"title": "Trial", "background": "", "description": "Everyone knows that Huang Yaoshi not only has superb martial arts, but also loves music and poetry. Seeing that a new guest has arrived on Peach Blossom Island, and that you did not enter by true martial arts, he decided to make things difficult for you.\n\nHe wrote a poem with $N$ lines. Unfortunately, these lines do not rhyme, but Huang Yaoshi really wants to follow the rhyming rules of classical poetry. The poem is divided into several stanzas, each of which has four lines. Every line has a rhyme. Suppose $A$ and $B$ are two different rhymes; then the rhyme scheme of each four-line stanza can only be one of `AABB`, `ABAB`, `ABBA`, or `AAAA`.\n\nHuang Yaoshi numbered the rhymes of all lines; lines with the same number have the same rhyme. Now he wants to delete some lines so that the remaining lines can be partitioned into four-line stanzas that follow the rhyming rules, and the order of lines cannot be changed.\n\nThe question is: how do you find the longest poem that satisfies the conditions?", "inputFormat": "The first line contains an integer $N$ ($1 \\le N \\le 4000$), the number of lines in the poem written by Huang Yaoshi.\n\nThe second line contains $N$ integers, representing the rhyme of each line. These numbers are positive and do not exceed $10^9$, and each number is separated by a single space.", "outputFormat": "Output a single integer k, the maximum number of four-line stanzas that Huang Yaoshi can obtain.", "hint": "Hint:\n\nBy deleting the 3rd, 6th, and 13th lines, the poem can be divided into 3 four-line stanzas:\n\n- 1, 2, 4, 5.\n- 7, 8, 9, 10.\n- 11, 12, 14, 15.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "考验", "background": null, "description": "大家知道，黄药师不仅武功高超，而且酷爱音乐和诗歌。看到桃花岛来了个新客人，而且不是靠真武功进来的，就准备为难为难你。\n\n他写了一首 $N$ 行诗句的诗歌，美中不足的是这些诗句并不押韵，黄药师非常想遵循古诗的押韵。诗歌被分为若干段，每段都是四行诗。每一句诗都有一个韵脚，假如 $A$ 和 $B$ 表示两种不同的韵脚，每段四行诗的韵脚只可能是 `AABB`，`ABAB`，`ABBA` 和 `AAAA` 中的一种。\n\n黄药师将诗句的韵脚都编了号，具有相同编号的句子代表有相同的韵脚。现在，黄药师想删掉一些句子，使得剩下的都是遵循押韵规则的四行诗，而且不允许改变诗句的顺序。\n\n现在就问你：如何找出满足条件最长的诗歌？", "inputFormat": "第 $1$ 行为一个整数 $N\\ (1 \\le N \\le 4000)$，代表黄药师写的诗歌的句子数。\n\n第 $2$ 行为 $N$ 个整数，分别表示每一行诗的韵脚，这些数字都是不超过 $10^9$ 的正数，每个数之间用 $1$ 个空格隔开。", "outputFormat": "一行一个整数 $k$，为黄药师最多能够得到的四行诗个数。", "hint": "提示：\n\n删除第 $3$、$6$、$13$ 句诗，就可以分成 $3$ 个四行诗，分别为：\n\n- $1,2,4,5$；\n- $7,8,9,10$；\n- $11,12,14,15$。", "locale": "zh-CN"}}}
{"pid": "P1685", "type": "P", "difficulty": 4, "samples": [["3 4 1 3 7\n1 2 5\n2 3 7\n2 3 10\n1 3 15\n", "56"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "拓扑排序"], "title": "游览", "background": null, "description": "顺利通过了黄药师的考验，下面就可以尽情游览桃花岛了！\n\n你要从桃花岛的西头开始一直玩到东头，然后在东头的码头离开。可是当你游玩了一次后，发现桃花岛的景色实在是非常的美丽！！！于是你还想乘船从桃花岛东头的码头回到西头，再玩一遍，但是桃花岛有个规矩：你可以游览无数遍，但是每次游玩的路线不能完全一样。\n\n我们把桃花岛抽象成了一个图，共 $n$ 个点代表路的相交处，$m$ 条边表示路，边是有向的（只能按照边的方向行走），且可能有连接相同两点的边。输入保证这个图没有环，而且从西头到东头至少存在一条路线。两条路线被认为是不同的当且仅当它们所经过的路不完全相同。\n\n你的任务是：把所有不同的路线游览完一共要花多少时间？", "inputFormat": "第一行为 $5$ 个整数 $n,m,s,t_0,t_1$，分别表示点数，边数，岛西头的编号，岛东头的编号（编号是从 $1$ 到 $n$）和你乘船从岛东头到西头一次的时间。\n\n以下 $m$ 行，每行 $3$ 个整数 $x,y,t$，表示从点 $x$ 到点 $y$ 有一条行走耗时为 $t$ 的路。\n\n每一行的多个数据之间用一个空格隔开。", "outputFormat": "假设总耗时为 $total$，则输出 $total\\ \\bmod 10000$ 的值（$total$ 对 $10000$ 取余）。", "hint": "【样例说明】\n\n共有 $3$ 条路径可以从点 $1$ 到点 $3$，分别是 $1-2-3$，$1-2-3$，$1-3$。\n\n时间计算为：\n\n$(5+7)+7        +(5+10)+7        +(15)=56$\n\n### 数据范围\n\n$2\\leq n\\leq 10^4$，$1\\leq m\\leq 5\\times 10^4$，$t_0\\leq 10^4$，$t_1\\leq 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Tour", "background": "", "description": "After you have successfully passed Huang Yaoshi (Huang Yaoshi)ʼs test, you can now freely tour Peach Blossom Island.\n\nYou start from the west end of the island and travel all the way to the east end, then leave from the pier at the east end. After one tour, you find the scenery of Peach Blossom Island so beautiful that you want to take a boat from the east pier back to the west end and tour again. However, there is a rule: you may tour any number of times, but the route taken each time cannot be exactly the same.\n\nWe model the island as a directed graph with $n$ vertices representing intersections and $m$ directed edges representing roads. Multiple edges between the same ordered pair of vertices may exist. The input guarantees that the graph has no cycles, and that there is at least one route from the west end to the east end. Two routes are considered different if and only if the exact sequence of edges they traverse is not identical.\n\nYour task: How much total time does it take to finish touring all different routes? Between two consecutive tours, you take the boat from the east end back to the west end once, which costs $t_0$ time. After the last tour, you leave from the east pier and do not return.", "inputFormat": "The first line contains $5$ integers $n, m, s, t, t_0$, representing the number of vertices, the number of edges, the index of the west end, the index of the east end (indices are from $1$ to $n$), and the time to take the boat once from the east end back to the west end.\n\nEach of the following $m$ lines contains $3$ integers $x, y, t$, indicating that there is a directed edge from vertex $x$ to vertex $y$ with travel time $t$.\n\nNumbers on each line are separated by a single space.", "outputFormat": "Assume the total time is $total$. Output the value of $total \\bmod 10000$ ($total$ modulo $10000$).", "hint": "[Sample Explanation]\n\nThere are $3$ routes from vertex $1$ to vertex $3$, namely $1-2-3$, $1-2-3$, and $1-3$.\n\nTime calculation:\n$ (5+7)+7 + (5+10)+7 + (15) = 56 $.\n\n### Constraints\n\n$2 \\le n \\le 10^4$, $1 \\le m \\le 5 \\times 10^4$, $t \\le 10^4$, $t_0 \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "游览", "background": null, "description": "顺利通过了黄药师的考验，下面就可以尽情游览桃花岛了！\n\n你要从桃花岛的西头开始一直玩到东头，然后在东头的码头离开。可是当你游玩了一次后，发现桃花岛的景色实在是非常的美丽！！！于是你还想乘船从桃花岛东头的码头回到西头，再玩一遍，但是桃花岛有个规矩：你可以游览无数遍，但是每次游玩的路线不能完全一样。\n\n我们把桃花岛抽象成了一个图，共 $n$ 个点代表路的相交处，$m$ 条边表示路，边是有向的（只能按照边的方向行走），且可能有连接相同两点的边。输入保证这个图没有环，而且从西头到东头至少存在一条路线。两条路线被认为是不同的当且仅当它们所经过的路不完全相同。\n\n你的任务是：把所有不同的路线游览完一共要花多少时间？", "inputFormat": "第一行为 $5$ 个整数 $n,m,s,t_0,t_1$，分别表示点数，边数，岛西头的编号，岛东头的编号（编号是从 $1$ 到 $n$）和你乘船从岛东头到西头一次的时间。\n\n以下 $m$ 行，每行 $3$ 个整数 $x,y,t$，表示从点 $x$ 到点 $y$ 有一条行走耗时为 $t$ 的路。\n\n每一行的多个数据之间用一个空格隔开。", "outputFormat": "假设总耗时为 $total$，则输出 $total\\ \\bmod 10000$ 的值（$total$ 对 $10000$ 取余）。", "hint": "【样例说明】\n\n共有 $3$ 条路径可以从点 $1$ 到点 $3$，分别是 $1-2-3$，$1-2-3$，$1-3$。\n\n时间计算为：\n\n$(5+7)+7        +(5+10)+7        +(15)=56$\n\n### 数据范围\n\n$2\\leq n\\leq 10^4$，$1\\leq m\\leq 5\\times 10^4$，$t_0\\leq 10^4$，$t_1\\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1686", "type": "P", "difficulty": 4, "samples": [["12\r\nNNNENNWWWSSW\r\n", "2 3 11 W"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "贪心"], "title": "挑战", "background": "", "description": "桃花岛其实也没什么好玩的，黄蓉经常偷偷跑到江湖上与洪七公等人玩。于是，黄药师就经常想一些游戏与女儿玩，为了是把黄蓉留在身边，江湖险恶啊！\n\n这次黄药师又想了一种模拟游戏，游戏是这样的：她把整个桃花岛划分成一个坐标系。游戏开始前，黄蓉站在平面坐标系的一个点上，而她的闺房在坐标系的另一个点上，任何时候，她可以从当前所在点跨一步达到她周围的上、下、左、右四个点，黄药师不断地说四个字“东（E）”、“南（S）”、“西（W）”、“北（N）”，则黄蓉就想象着不断地从一个点走到另一个点，直至到自己的闺房为止。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gso383g9.png)\n\n比如，黄蓉开始时站在 $\\rm A$ 点，她的家在 $\\rm B$ 点，黄药师连续说了一串：$\\verb!NNNENNWWWSSW!$，则走了如下一个线路。然后，黄药师会问黄蓉：中间有没有走“弯路”了？即有没有捷径好走？比如，下图中就有多条捷径，可以从 $\\rm C$ 走 $\\verb!NN!$ 而到 $\\rm E$，或走 $\\verb!WW!$ 直接到 $\\rm D$。\n\n注意：捷径必须是直线。\n\n黄药师听说你是一个程序设计高手，就想请你编个程序帮他测测这个游戏的难度，以便改进游戏规则后再让黄蓉挑战。\n\n你的任务是：找一条最短的捷径。\n", "inputFormat": "第一行是一个整数 $n$（$3\\le n\\le 2.5\\times 10^5$）表示黄药师所报出的字符串长度。\n\n第二行是一个由 $\\verb!N!,\\verb!E!,\\verb!S!,\\verb!W!$ 组成的字符串，都是大写字母且中间没有空格。\n\n我们把游戏的起点记为 $0$，把黄蓉的闺房（即游戏的终点）记为 $n$，中间的每一个落脚点都依次标记一个自然数。\n", "outputFormat": "输出只有一行，由 $3$ 个数字和 $1$ 个字符组成，中间用1个空格隔开。\n\n- 第 $1$ 个数字表示最短捷径的长度。\n- 第 $2$ 个数字表示最短捷径的开始点。\n- 第 $3$ 个数字表示最短捷径的结束点。\n- 最后一个字符表示最短捷径的方向（同样用 $\\verb!N!,\\verb!E!,\\verb!S!,\\verb!W!$ 中的一个表示）。\n\n如果最短捷径存在多个解，那么输出开始点标号最小的那一条。如果仍然有多个解，那么输出结束点标号最大的。数据保证一定存在满足条件的最短捷径。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Challenge", "background": "", "description": "There is not much fun on Peach Blossom Island, so Huang Rong often sneaks into the jianghu to play with Hong Qigong and others. Thus, Huang Yaoshi often comes up with games to play with his daughter, in order to keep Huang Rong by his side — the jianghu is dangerous!\n\nThis time, Huang Yaoshi devised a simulation game as follows: He divides the entire Peach Blossom Island into a coordinate grid. Before the game starts, Huang Rong stands at a point on the plane, and her boudoir is at another point on the grid. At any time, she can take one step from her current point to one of the four neighboring points: up, down, left, or right. Huang Yaoshi continuously calls out one of four words: “East (E)”, “South (S)”, “West (W)”, “North (N)”, and Huang Rong imagines herself moving from one point to another according to these directions until she reaches her boudoir.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gso383g9.png)\n\nFor example, suppose Huang Rong starts at point $\\rm A$, and her home is at point $\\rm B$. If Huang Yaoshi says the sequence $\\verb!NNNENNWWWSSW!$, then she will follow the path shown. Then Huang Yaoshi asks Huang Rong: Did you take any detours in the middle? In other words, is there any shortcut? For example, in the figure there are multiple shortcuts: from $\\rm C$ you can go $\\verb!NN!$ to reach $\\rm E$, or go $\\verb!WW!$ directly to $\\rm D$.\n\nNote: A shortcut must be a straight line.\n\nHuang Yaoshi heard that you are a programming expert and would like you to write a program to help him measure the difficulty of this game, so he can improve the rules before letting Huang Rong take on the challenge.\n\nYour task is: find one shortest shortcut.", "inputFormat": "The first line is an integer $n$ ($3 \\le n \\le 2.5\\times 10^5$) representing the length of the string spoken by Huang Yaoshi.\n\nThe second line is a string consisting of $\\verb!N!, \\verb!E!, \\verb!S!, \\verb!W!$, all uppercase letters with no spaces.\n\nWe label the starting point of the game as $0$, and Huang Rong’s boudoir (the ending point) as $n$. Each intermediate landing point is labeled with a natural number in order.", "outputFormat": "Output a single line consisting of $3$ numbers and $1$ character, separated by a single space.\n\n- The 1st number is the length of the shortest shortcut.\n- The 2nd number is the starting point of the shortest shortcut.\n- The 3rd number is the ending point of the shortest shortcut.\n- The last character is the direction of the shortest shortcut (also one of $\\verb!N!, \\verb!E!, \\verb!S!, \\verb!W!$).\n\nIf there are multiple shortest shortcuts, output the one with the smallest starting point label. If there is still a tie, output the one with the largest ending point label. The testdata guarantees that there exists a shortest shortcut satisfying the conditions.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "挑战", "background": "", "description": "桃花岛其实也没什么好玩的，黄蓉经常偷偷跑到江湖上与洪七公等人玩。于是，黄药师就经常想一些游戏与女儿玩，为了是把黄蓉留在身边，江湖险恶啊！\n\n这次黄药师又想了一种模拟游戏，游戏是这样的：她把整个桃花岛划分成一个坐标系。游戏开始前，黄蓉站在平面坐标系的一个点上，而她的闺房在坐标系的另一个点上，任何时候，她可以从当前所在点跨一步达到她周围的上、下、左、右四个点，黄药师不断地说四个字“东（E）”、“南（S）”、“西（W）”、“北（N）”，则黄蓉就想象着不断地从一个点走到另一个点，直至到自己的闺房为止。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gso383g9.png)\n\n比如，黄蓉开始时站在 $\\rm A$ 点，她的家在 $\\rm B$ 点，黄药师连续说了一串：$\\verb!NNNENNWWWSSW!$，则走了如下一个线路。然后，黄药师会问黄蓉：中间有没有走“弯路”了？即有没有捷径好走？比如，下图中就有多条捷径，可以从 $\\rm C$ 走 $\\verb!NN!$ 而到 $\\rm E$，或走 $\\verb!WW!$ 直接到 $\\rm D$。\n\n注意：捷径必须是直线。\n\n黄药师听说你是一个程序设计高手，就想请你编个程序帮他测测这个游戏的难度，以便改进游戏规则后再让黄蓉挑战。\n\n你的任务是：找一条最短的捷径。\n", "inputFormat": "第一行是一个整数 $n$（$3\\le n\\le 2.5\\times 10^5$）表示黄药师所报出的字符串长度。\n\n第二行是一个由 $\\verb!N!,\\verb!E!,\\verb!S!,\\verb!W!$ 组成的字符串，都是大写字母且中间没有空格。\n\n我们把游戏的起点记为 $0$，把黄蓉的闺房（即游戏的终点）记为 $n$，中间的每一个落脚点都依次标记一个自然数。\n", "outputFormat": "输出只有一行，由 $3$ 个数字和 $1$ 个字符组成，中间用1个空格隔开。\n\n- 第 $1$ 个数字表示最短捷径的长度。\n- 第 $2$ 个数字表示最短捷径的开始点。\n- 第 $3$ 个数字表示最短捷径的结束点。\n- 最后一个字符表示最短捷径的方向（同样用 $\\verb!N!,\\verb!E!,\\verb!S!,\\verb!W!$ 中的一个表示）。\n\n如果最短捷径存在多个解，那么输出开始点标号最小的那一条。如果仍然有多个解，那么输出结束点标号最大的。数据保证一定存在满足条件的最短捷径。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1687", "type": "P", "difficulty": 4, "samples": [["7 3\n1 119 119 1 120 120 118\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "机器人小Q", "background": null, "description": "成功派送完这个大单后，餐厅决定引入一名新成员：机器人小 Q。小 Q 的到来让餐厅的客源增加了不少，但是，一段时间之后，新的问题又出现了，小 Q 和我们可不一样，如果要让他工作的话，我们得给他输入能量以保持体力，而小 Q 的能量菜单表上已经按一定顺序给出了 $N$ 个单位的能量值，但是每个单位的能量由于来源不同，需要消耗一定的时间摄入。已知小 Q 每天充电的时间上限值为 $119$，如果时间超出的话就会自动崩溃，大家都想让小 Q 留下来，经过研究之后，决定派 HWX 和 XYF 去和老板谈判，考虑角度不一样，LXC 老板才不想听什么辛酸流泪史，他只想知道，若是想让小 Q 获得 $K$ 单位的能量（也就是能量表中可以不接受某些能量）最少需要几天来充电。", "inputFormat": "第一行，两个整数，$N,K$ 分别表示小 Q 的能量菜单上有 $N$ 个单位的能量，想获取其中的 $K$ 个。\n\n第二行，$N$个整数，分别是第 $i$ 个单位能量需要的充电时间。", "outputFormat": "仅一行，一个整数，为最少需要天数。\n\n如果永远不能达到题目要求，输出 `You can't do it.`", "hint": "### 样例解释\n\n只接收 $1,1,118$。显然这需要 $2$ 天。\n\n### 数据规模\n\n对于 $30\\%$ 的数据，有 $1\\le K\\le N\\le 20$。\n\n对于 $100\\%$ 的数据，有 $1\\le K\\le N\\le 3000$。", "locale": "zh-CN", "translations": {"en": {"title": "Robot Xiao Q", "background": "", "description": "After successfully delivering a big order, the restaurant decided to bring in a new member: Robot Xiao Q. Xiao Q’s arrival brought in many more customers, but after a while a new problem appeared. Unlike us, Xiao Q needs energy input to keep going. The energy menu already lists $N$ units of energy in a fixed order, but because their sources differ, ingesting each unit takes a certain amount of time. Xiao Q’s maximum charging time per day is $119$; if this limit is exceeded, he will crash automatically. Everyone wants Xiao Q to stay, so after some research, HWX and XYF went to negotiate with the boss. From LXC’s point of view, he does not want to hear any sob story; he only wants to know: to let Xiao Q obtain $K$ units of energy (that is, you may skip some units on the menu), what is the minimum number of days needed for charging?", "inputFormat": "The first line contains two integers $N, K$, meaning there are $N$ energy units on Xiao Q’s menu, and we want to obtain $K$ of them.\n\nThe second line contains $N$ integers, where the $i$‑th integer is the charging time required for the $i$‑th energy unit.", "outputFormat": "Output a single line containing one integer: the minimum number of days required.\n\nIf it is impossible to meet the requirement, output `You can't do it.`.", "hint": "### Sample Explanation\n\nAccept only $1,1,118$. Obviously, this takes $2$ days.\n\n### Constraints\n\nFor $30\\%$ of the testdata, $1 \\le K \\le N \\le 20$.\n\nFor $100\\%$ of the testdata, $1 \\le K \\le N \\le 3000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "机器人小Q", "background": null, "description": "成功派送完这个大单后，餐厅决定引入一名新成员：机器人小 Q。小 Q 的到来让餐厅的客源增加了不少，但是，一段时间之后，新的问题又出现了，小 Q 和我们可不一样，如果要让他工作的话，我们得给他输入能量以保持体力，而小 Q 的能量菜单表上已经按一定顺序给出了 $N$ 个单位的能量值，但是每个单位的能量由于来源不同，需要消耗一定的时间摄入。已知小 Q 每天充电的时间上限值为 $119$，如果时间超出的话就会自动崩溃，大家都想让小 Q 留下来，经过研究之后，决定派 HWX 和 XYF 去和老板谈判，考虑角度不一样，LXC 老板才不想听什么辛酸流泪史，他只想知道，若是想让小 Q 获得 $K$ 单位的能量（也就是能量表中可以不接受某些能量）最少需要几天来充电。", "inputFormat": "第一行，两个整数，$N,K$ 分别表示小 Q 的能量菜单上有 $N$ 个单位的能量，想获取其中的 $K$ 个。\n\n第二行，$N$个整数，分别是第 $i$ 个单位能量需要的充电时间。", "outputFormat": "仅一行，一个整数，为最少需要天数。\n\n如果永远不能达到题目要求，输出 `You can't do it.`", "hint": "### 样例解释\n\n只接收 $1,1,118$。显然这需要 $2$ 天。\n\n### 数据规模\n\n对于 $30\\%$ 的数据，有 $1\\le K\\le N\\le 20$。\n\n对于 $100\\%$ 的数据，有 $1\\le K\\le N\\le 3000$。", "locale": "zh-CN"}}}
{"pid": "P1688", "type": "P", "difficulty": 5, "samples": [["9\r\ncat\r\ndig\r\ndog\r\nfig\r\nfin\r\nfine\r\nfog\r\nlog\r\nwine\r\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "哈希 hashing", "字典树 Trie"], "title": "新单词接龙问题", "background": "", "description": "给定一个包含 $n$ 个单词的字典，定义字典序为单词在**本字典的顺序**。从中选择若干个单词，按**字典序**进行单词接龙，使得接龙的长度最大。\n\n新单词接龙的规则：\n\n1. 单词变换：单词 $w_i$ 添加一个字母，删除一个字母，或修改一个字母可以得到单词 $w_{i+1}$；\n2. 字典序接龙：$w_1,w_2,\\cdots,w_n$，满足字典序。", "inputFormat": "第一行一个整数 $n$（$1 \\le n \\le 25,000$），表示字典中单词的总数。接下来 $n$ 行，按字典序输入 $n$ 个单词，每行一个字符串，表示单词，单词仅由小写字母组成，长度在 $1$ 至 $16$ 以内。", "outputFormat": "输出一行一个整数，表示能获得的单词接龙的最大长度。", "hint": "### 样例解释\n\n长度为 $5$ 的单词接龙为：$\\texttt{dig}\\to \\texttt{fig}\\to \\texttt{fin}\\to \\texttt{fine}\\to\\texttt{wine}$。", "locale": "zh-CN", "translations": {"en": {"title": "New Word Ladder Problem", "background": "", "description": "Given a dictionary that contains $n$ words, define the dictionary order as the order within this dictionary (i.e., the given list order). Select some words and form a word ladder in dictionary order so that the ladder length is maximized.\n\nRules for the new word ladder:\n1. Word transformation: from $w_i$, adding one letter, deleting one letter, or changing one letter can obtain $w_{i+1}$.\n2. Dictionary-order chain: $w_1, w_2, \\cdots, w_k$ are in dictionary order.", "inputFormat": "The first line contains an integer $n$ ($1 \\le n \\le 25,000$), the total number of words in the dictionary. The next $n$ lines, in dictionary order, contain $n$ words, one string per line. Each word consists only of lowercase letters, and its length is between $1$ and $16$ inclusive.", "outputFormat": "Output a single integer on one line, the maximum possible length of the word ladder.", "hint": "Sample explanation:\n\nA word ladder of length $5$ is: $\\texttt{dig}\\to \\texttt{fig}\\to \\texttt{fin}\\to \\texttt{fine}\\to \\texttt{wine}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "新单词接龙问题", "background": "", "description": "给定一个包含 $n$ 个单词的字典，定义字典序为单词在**本字典的顺序**。从中选择若干个单词，按**字典序**进行单词接龙，使得接龙的长度最大。\n\n新单词接龙的规则：\n\n1. 单词变换：单词 $w_i$ 添加一个字母，删除一个字母，或修改一个字母可以得到单词 $w_{i+1}$；\n2. 字典序接龙：$w_1,w_2,\\cdots,w_n$，满足字典序。", "inputFormat": "第一行一个整数 $n$（$1 \\le n \\le 25,000$），表示字典中单词的总数。接下来 $n$ 行，按字典序输入 $n$ 个单词，每行一个字符串，表示单词，单词仅由小写字母组成，长度在 $1$ 至 $16$ 以内。", "outputFormat": "输出一行一个整数，表示能获得的单词接龙的最大长度。", "hint": "### 样例解释\n\n长度为 $5$ 的单词接龙为：$\\texttt{dig}\\to \\texttt{fig}\\to \\texttt{fin}\\to \\texttt{fine}\\to\\texttt{wine}$。", "locale": "zh-CN"}}}
{"pid": "P1689", "type": "P", "difficulty": 2, "samples": [["1+2=?\n", "3\n"], ["3 +? =  2\n", "-1"], ["3-?=2\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串"], "title": "方程求解", "background": null, "description": "给一个方程，形如 $X+Y=Z$ 或 $X-Y=Z$。给出了其中两个未知数，请求出第三个数。未知数用 `?` 表示，等式中也许会出现一些多余的空格。", "inputFormat": "输入一行一个字符串代表方程。", "outputFormat": "一行一个整数表示`?`代表的值。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数，保证 $0\\le X,Y,Z\\lt10^9$，输入的字符串一定为题目给定的形式且长度不超过 $10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Equation Solving", "background": "", "description": "Given an equation of the form $X+Y=Z$ or $X-Y=Z$. Among $X$, $Y$, and $Z$, two values are given, and the remaining one is represented by `?`. Compute the value of `?`. There may be extra spaces in the equation.", "inputFormat": "The input consists of a single line containing a string representing the equation.", "outputFormat": "Output one integer on a single line, which is the value represented by `?`.", "hint": "Constraints: For $100\\%$ of the testdata, it is guaranteed that $0 \\le X, Y, Z \\lt 10^9$, the input string always conforms to the specified format, and its length does not exceed $10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "方程求解", "background": null, "description": "给一个方程，形如 $X+Y=Z$ 或 $X-Y=Z$。给出了其中两个未知数，请求出第三个数。未知数用 `?` 表示，等式中也许会出现一些多余的空格。", "inputFormat": "输入一行一个字符串代表方程。", "outputFormat": "一行一个整数表示`?`代表的值。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数，保证 $0\\le X,Y,Z\\lt10^9$，输入的字符串一定为题目给定的形式且长度不超过 $10^6$。", "locale": "zh-CN"}}}
{"pid": "P1690", "type": "P", "difficulty": 3, "samples": [["2\n0 4\n5 0\n2\n1 2\n", "4\n"], ["3\n0 2 6\n1 0 4\n7 10 0\n1\n2\n", "6\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "枚举", "最短路"], "title": "贪婪的 Copy", "background": null, "description": "Copy 从卢牛那里听说在一片叫 yz 的神的领域埋藏着不少宝藏，于是 Copy 来到了这个被划分为 $n$ 个区域的神地。卢牛告诉了 Copy 这里共有 $n$ 个宝藏，分别放在第 $P_i$ 个 $(1\\le P_i\\le n)$ 区域。Copy 还得知了每个区域之间的距离。现在 Copy 从 $1$ 号区域出发，要获得所有的宝藏并到 $n$ 号区域离开。Copy 很懒，只好来找你为他寻找一条合适的线路，使得他走过的距离最短。", "inputFormat": "第一行一个正整数 $n(1\\le n\\le 100)$\n\n接下来一个 $n\\times n$ 的矩阵，第 $i+1$ 行第 $j$ 列的数字表示区域 $i,j$ 之间的距离。每个距离用空格隔开，距离保证 $i\\to j\\le 1000$。请注意的 $i \\to j$ 距离并不一定等于 $j\\to i$ 的距离。\n\n第 $n+2$ 行一个整数 $P(0\\le P\\le 10)$。\n\n第 $n+3$ 行共 $P$ 个用空格隔开的整数，表示有宝藏的区域编号。", "outputFormat": "一个整数，为 Copy 获得全部宝藏需要的最短距离。数据保证答案小于等于 $2^{31}-1$。", "hint": "- 对 $30\\%$ 的数据，$1\\le n\\le 15$，其余如题所述。\n- 对 $100\\%$ 的数据，全部数据范围如题所述。", "locale": "zh-CN", "translations": {"en": {"title": "Greedy Copy", "background": "", "description": "Copy heard from Lu Niu that many treasures are buried in a divine land called yz, so Copy came to this land, which is divided into $n$ regions. Lu Niu told Copy that there are in total $P$ treasures, each placed in region $P_i$ ($1 \\le P_i \\le n$). Copy also learned the distance between every pair of regions. Now Copy starts from region $1$, wants to collect all treasures, and leave from region $n$. Copy is lazy, so he asks you to find a suitable route that minimizes the total distance he needs to travel.", "inputFormat": "- The first line contains a positive integer $n$ ($1 \\le n \\le 100$).\n- The next $n$ lines each contain $n$ integers; the number in row $i$, column $j$ denotes the distance from region $i$ to region $j$. The numbers are separated by spaces, and each distance is at most $1000$. Note that the distance $i \\to j$ is not necessarily equal to $j \\to i$.\n- The next line contains an integer $P$ ($0 \\le P \\le 10$).\n- The next line contains $P$ integers separated by spaces, denoting the indices of the regions that contain treasures.", "outputFormat": "Output a single integer: the minimum total distance for Copy to collect all treasures and then reach region $n$. The testdata guarantees that the answer is at most $2^{31} - 1$.", "hint": "- For $30\\%$ of the testdata, $1 \\le n \\le 15$; the rest are as stated.\n- For $100\\%$ of the testdata, all constraints are as stated.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "贪婪的 Copy", "background": null, "description": "Copy 从卢牛那里听说在一片叫 yz 的神的领域埋藏着不少宝藏，于是 Copy 来到了这个被划分为 $n$ 个区域的神地。卢牛告诉了 Copy 这里共有 $n$ 个宝藏，分别放在第 $P_i$ 个 $(1\\le P_i\\le n)$ 区域。Copy 还得知了每个区域之间的距离。现在 Copy 从 $1$ 号区域出发，要获得所有的宝藏并到 $n$ 号区域离开。Copy 很懒，只好来找你为他寻找一条合适的线路，使得他走过的距离最短。", "inputFormat": "第一行一个正整数 $n(1\\le n\\le 100)$\n\n接下来一个 $n\\times n$ 的矩阵，第 $i+1$ 行第 $j$ 列的数字表示区域 $i,j$ 之间的距离。每个距离用空格隔开，距离保证 $i\\to j\\le 1000$。请注意的 $i \\to j$ 距离并不一定等于 $j\\to i$ 的距离。\n\n第 $n+2$ 行一个整数 $P(0\\le P\\le 10)$。\n\n第 $n+3$ 行共 $P$ 个用空格隔开的整数，表示有宝藏的区域编号。", "outputFormat": "一个整数，为 Copy 获得全部宝藏需要的最短距离。数据保证答案小于等于 $2^{31}-1$。", "hint": "- 对 $30\\%$ 的数据，$1\\le n\\le 15$，其余如题所述。\n- 对 $100\\%$ 的数据，全部数据范围如题所述。", "locale": "zh-CN"}}}
{"pid": "P1691", "type": "P", "difficulty": 6, "samples": [["5\n100 180 20\n30 60 30\n70 110 40\n10 40 50\n0 80 70", "200"], ["3\n50 60 10\n-42 -42 20\n25 0 10", "25"]], "limits": {"time": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2016", "ICPC", "WF"], "title": "[ICPC 2016 WF] Oil", "background": "", "description": "A large part of the world economy depends on oil, which is why research into new methods for finding\nand extracting oil is still active. Profits of oil companies depend in part on how efficiently they can\ndrill for oil. The International Crude Petroleum Consortium (ICPC) hopes that extensive computer\nsimulations will make it easier to determine how to drill oil wells in the best possible way.\n\nDrilling oil wells optimally is getting harder each day – the newly discovered oil deposits often do\nnot form a single body, but are split into many parts. The ICPC is currently concerned with stratified deposits, as illustrated in Figure G.1.\n\nTo simplify its analysis, the ICPC considers only the 2-dimensional case, where oil deposits are modeled\nas horizontal line segments parallel to the earth’s surface. The ICPC wants to know how to place a single\noil well to extract the maximum amount of oil. The oil well is drilled from the surface along a straight\nline and can extract oil from all deposits that it intersects on its way down, even if the intersection is at\nan endpoint of a deposit. One such well is shown as a dashed line in Figure G.1, hitting three deposits.\nIn this simple model the amount of oil contained in a deposit is equal to the width of the deposit. Can\nyou help the ICPC determine the maximum amount of oil that can be extracted by a single well?", "inputFormat": "The first line of input contains a single integer n ($1 ≤ n ≤ 2 000$), which is the number of oil deposits.\n\nThis is followed by $n$ lines, each describing a single deposit. These lines contain three integers $x_0$,\n$x_1$, and y giving the deposit’s position as the line segment with endpoints $(x_0, y)$ and $(x_1, y)$. These\nnumbers satisfy $|x_0|, |x_1| ≤ 10^6$\nand $1 ≤ y ≤ 10^6$\n. No two deposits will intersect, not even at a point.\n", "outputFormat": "Display the maximum amount of oil that can be extracted by a single oil well.", "hint": "", "locale": "en", "translations": {"en": {"title": "[ICPC 2016 WF] Oil", "background": "", "description": "A large part of the world economy depends on oil, which is why research into new methods for finding\nand extracting oil is still active. Profits of oil companies depend in part on how efficiently they can\ndrill for oil. The International Crude Petroleum Consortium (ICPC) hopes that extensive computer\nsimulations will make it easier to determine how to drill oil wells in the best possible way.\n\nDrilling oil wells optimally is getting harder each day – the newly discovered oil deposits often do\nnot form a single body, but are split into many parts. The ICPC is currently concerned with stratified deposits, as illustrated in Figure G.1.\n\nTo simplify its analysis, the ICPC considers only the 2-dimensional case, where oil deposits are modeled\nas horizontal line segments parallel to the earth’s surface. The ICPC wants to know how to place a single\noil well to extract the maximum amount of oil. The oil well is drilled from the surface along a straight\nline and can extract oil from all deposits that it intersects on its way down, even if the intersection is at\nan endpoint of a deposit. One such well is shown as a dashed line in Figure G.1, hitting three deposits.\nIn this simple model the amount of oil contained in a deposit is equal to the width of the deposit. Can\nyou help the ICPC determine the maximum amount of oil that can be extracted by a single well?", "inputFormat": "The first line of input contains a single integer n ($1 ≤ n ≤ 2 000$), which is the number of oil deposits.\n\nThis is followed by $n$ lines, each describing a single deposit. These lines contain three integers $x_0$,\n$x_1$, and y giving the deposit’s position as the line segment with endpoints $(x_0, y)$ and $(x_1, y)$. These\nnumbers satisfy $|x_0|, |x_1| ≤ 10^6$\nand $1 ≤ y ≤ 10^6$\n. No two deposits will intersect, not even at a point.\n", "outputFormat": "Display the maximum amount of oil that can be extracted by a single oil well.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[ICPC 2016 WF] Oil", "background": null, "description": "世界经济的很大一部分依赖于石油，这就是为什么对发现和开采石油的新方法的研究仍然活跃。石油公司的利润在一定程度上取决于他们能够多么有效地钻探石油。国际原油石油联盟（ICPC）希望通过广泛的计算机模拟来更容易地确定如何以最佳方式钻探油井。\n\n每天钻探油井变得越来越困难，因为新发现的油藏通常不是一个整体，而是分裂成许多部分。ICPC 目前关注的是分层沉积物。\n\n为了简化其分析，ICPC 只考虑二维情况，其中油藏被建模为与地球表面平行的水平线段。ICPC 想知道如何放置一个单独的油井以提取最大量的石油。油井沿着一条直线从地面钻井，并可以从其下降的路径上相交的所有沉积物中提取石油，即使相交点位于沉积物的端点处。图 G.1 中显示了一个这样的井，击中三个沉积物。在这个简单的模型中，一个沉积物中含有的石油量等于该沉积物的宽度。你能帮助 ICPC 确定通过一个单井可以提取的最大石油量吗？\n![](https://cdn.luogu.com.cn/upload/image_hosting/97ob9pkd.png)", "inputFormat": "输入的第一行包含一个整数 $n (1\\le n\\le 2000)$，表示油田的数量。\n\n接下来的 $n$ 行，每行描述一个沉积物。这些行包含三个整数 $x_0、x_1$ 和 $y$，表示沉积物的位置为线段，其端点为 $(x_0,y)$ 和 $(x_1,y)$。这些数字满足 $|x_0|,|x_1|≤10^6$。没有两个沉积物会相交，甚至不会在一点相交。", "outputFormat": "输出一个整数，表示单个油井可以提取的最大石油量。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1692", "type": "P", "difficulty": 3, "samples": [["7  10\n1  2\n1  4\n2  4\n2  3\n2  5\n2  6\n3  5\n3  6\n4  5\n5  6", "3\n1 0 1 0 0 0 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "洛谷原创"], "title": "部落卫队", "background": "", "description": "原始部落 byteland 中的居民们为了争夺有限的资源，经常发生冲突。几乎每个居民都有他的仇敌。部落酋长为了组织一支保卫部落的队伍，希望从部落的居民中选出最多的居民入伍，并保证队伍中任何 $2$ 个人都不是仇敌。\n\n给定 byteland 部落中居民间的仇敌关系，编程计算组成部落卫队的最佳方案。若有多种方案可行，输出字典序最大的方案。", "inputFormat": "第 $1$ 行有 $2$ 个正整数 $n$ 和 $m$，表示 byteland 部落中有 $n$ 个居民，居民间有 $m$ 个仇敌关系。居民编号为 $1,2, \\cdots ,n$。接下来的 $m$ 行中，每行有 $2$ 个正整数 $u$ 和 $v$，表示居民 $u$ 与居民 $v$ 是仇敌。", "outputFormat": "第 $1$ 行是部落卫队的人数；文件的第 $2$ 行是卫队组成 $x_i$，$1 \\le i \\le n$，$x_i=0$ 表示居民 $i$ 不在卫队中，$x_i=1$ 表示居民 $i$ 在卫队中。", "hint": "对于 $60\\%$ 数据：$n \\le 20$，$m \\le 100$。\n\n对于所有数据：$n \\le 100,m \\le 3000$。数据从所有合法数据从随机均匀取样。", "locale": "zh-CN", "translations": {"en": {"title": "Tribal Guard", "background": "", "description": "In the primitive Byteland tribe, residents often clash over limited resources. Almost every resident has enemies. To organize a force to defend the tribe, the chief wants to select as many residents as possible so that no two selected people are enemies.\n\nGiven the enmity relations among residents of the Byteland tribe, compute the optimal composition of the tribal guard. If multiple solutions are feasible, output the lexicographically largest one.", "inputFormat": "The first line contains two positive integers $n$ and $m$, indicating that there are $n$ residents in the Byteland tribe and $m$ enmity relations. Residents are numbered $1,2,\\cdots,n$. Each of the next $m$ lines contains two positive integers $u$ and $v$, indicating that residents $u$ and $v$ are enemies.", "outputFormat": "The first line is the number of people in the tribal guard. The second line contains the composition $x_i$, $1 \\le i \\le n$, where $x_i = 0$ means resident $i$ is not in the guard, and $x_i = 1$ means resident $i$ is in the guard.", "hint": "For $60\\%$ of the testdata: $n \\le 20$, $m \\le 100$.\n\nFor all testdata: $n \\le 100$, $m \\le 3000$. The testdata are uniformly sampled at random from all valid instances.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "部落卫队", "background": "", "description": "原始部落 byteland 中的居民们为了争夺有限的资源，经常发生冲突。几乎每个居民都有他的仇敌。部落酋长为了组织一支保卫部落的队伍，希望从部落的居民中选出最多的居民入伍，并保证队伍中任何 $2$ 个人都不是仇敌。\n\n给定 byteland 部落中居民间的仇敌关系，编程计算组成部落卫队的最佳方案。若有多种方案可行，输出字典序最大的方案。", "inputFormat": "第 $1$ 行有 $2$ 个正整数 $n$ 和 $m$，表示 byteland 部落中有 $n$ 个居民，居民间有 $m$ 个仇敌关系。居民编号为 $1,2, \\cdots ,n$。接下来的 $m$ 行中，每行有 $2$ 个正整数 $u$ 和 $v$，表示居民 $u$ 与居民 $v$ 是仇敌。", "outputFormat": "第 $1$ 行是部落卫队的人数；文件的第 $2$ 行是卫队组成 $x_i$，$1 \\le i \\le n$，$x_i=0$ 表示居民 $i$ 不在卫队中，$x_i=1$ 表示居民 $i$ 在卫队中。", "hint": "对于 $60\\%$ 数据：$n \\le 20$，$m \\le 100$。\n\n对于所有数据：$n \\le 100,m \\le 3000$。数据从所有合法数据从随机均匀取样。", "locale": "zh-CN"}}}
{"pid": "P1693", "type": "P", "difficulty": 2, "samples": [["4 7 9", "1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2019", "USACO", "O2优化", "排序", "分类讨论"], "title": "[USACO19FEB] Sleepy Cow Herding B", "background": "", "description": "Farmer John 的三头获奖奶牛 Bessie、Elsie 和 Mildred，总是会迷路走到农场上遥远的地方去！他需要你帮助将她们一起赶回来。\n\n农场的草地大体是一块狭长的区域——我们可以将其想象成一条数轴，奶牛可以占据数轴上的任意整数位置。这 $3$ 头奶牛现在正位于不同的整数位置，Farmer John 想要移动她们，使得她们占据三个相邻的位置（例如，位置 $6$、$7$、$8$）。\n\n不幸的是，奶牛们现在很困，Farmer John 要让她们集中精力听从命令移动并不容易。任意时刻，他只能使得一头处在“端点”（在所有奶牛中位置最小或最大）位置的奶牛移动。当他移动奶牛时，他可以命令她走到任意一个未被占用的整数位置，只要在新的位置上她不再是一个端点。可以看到随着时间的推移，这样的移动可以使奶牛们趋向越来越近。\n\n请求出使得奶牛们集中到相邻位置所进行的移动次数的最小和最大可能值。 ", "inputFormat": "输入包含一行，包括三个空格分隔的整数，为 Bessie、Elsie 和 Mildred 的位置。每个位置均为一个范围 $1\\ldots 10^9$ 内的整数。 ", "outputFormat": "输出的第一行包含 Farmer John 需要将奶牛们聚集起来所需进行的最小移动次数。第二行包含他将奶牛聚集起来能够进行的最大移动次数。", "hint": "### 样例解释 1\n\n最小移动次数为 $1$——如果 Farmer John 将位置 $4$ 的奶牛移动到位置 $8$，那么奶牛们就处在连续的位置 $7$、$8$、$9$。最大移动次数为 $2$。例如，位置 $9$ 的奶牛可以被移动到位置 $6$，然后位置 $7$ 的奶牛可以被移动到位置 $5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO19FEB] Sleepy Cow Herding B", "background": "", "description": "Farmer John 的三头获奖奶牛 Bessie、Elsie 和 Mildred，总是会迷路走到农场上遥远的地方去！他需要你帮助将她们一起赶回来。\n\n农场的草地大体是一块狭长的区域——我们可以将其想象成一条数轴，奶牛可以占据数轴上的任意整数位置。这 $3$ 头奶牛现在正位于不同的整数位置，Farmer John 想要移动她们，使得她们占据三个相邻的位置（例如，位置 $6$、$7$、$8$）。\n\n不幸的是，奶牛们现在很困，Farmer John 要让她们集中精力听从命令移动并不容易。任意时刻，他只能使得一头处在“端点”（在所有奶牛中位置最小或最大）位置的奶牛移动。当他移动奶牛时，他可以命令她走到任意一个未被占用的整数位置，只要在新的位置上她不再是一个端点。可以看到随着时间的推移，这样的移动可以使奶牛们趋向越来越近。\n\n请求出使得奶牛们集中到相邻位置所进行的移动次数的最小和最大可能值。 ", "inputFormat": "输入包含一行，包括三个空格分隔的整数，为 Bessie、Elsie 和 Mildred 的位置。每个位置均为一个范围 $1\\ldots 10^9$ 内的整数。 ", "outputFormat": "输出的第一行包含 Farmer John 需要将奶牛们聚集起来所需进行的最小移动次数。第二行包含他将奶牛聚集起来能够进行的最大移动次数。", "hint": "### 样例解释 1\n\n最小移动次数为 $1$——如果 Farmer John 将位置 $4$ 的奶牛移动到位置 $8$，那么奶牛们就处在连续的位置 $7$、$8$、$9$。最大移动次数为 $2$。例如，位置 $9$ 的奶牛可以被移动到位置 $6$，然后位置 $7$ 的奶牛可以被移动到位置 $5$。", "locale": "zh-CN"}}}
{"pid": "P1694", "type": "P", "difficulty": 3, "samples": [["5 6\n4 1\n4 2\n4 3\n2 5\n1 2\n1 5", "12133"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2019", "USACO", "O2优化"], "title": "[USACO19FEB] The Great Revegetation B", "background": "", "description": "长时间的干旱使得 Farmer John 的 $N$ 块草地上牧草匮乏。随着雨季即将到来，现在应当是重新种植的时候了。\n\n在 Farmer John 的储物棚里有四个桶，每个桶里装着一种不同的草种。他想要在每块草地上播种其中一种草。作为一名奶农，Farmer John 想要确保他的每头奶牛都能得到丰富的食谱。他的 $M$ 头奶牛每一头都有两块喜爱的草地，他想要确保这两块草地种植不同种类的草，从而每头奶牛都可以有两种草可供选择。Farmer John 知道没有一块草地受到多于 $3$ 头奶牛的喜爱。\n\n请帮助 Farmer John 选择每块草地所种的草的种类，使得所有奶牛的营养需求都得到满足。 ", "inputFormat": "输入的第一行包含 $2 \\leq N \\leq 100$ 和 $1 \\leq M \\leq 150$。以下 $M$ 行，每行包含两个范围为 $1 \\dots N$ 的整数，为 Farmer John 的一头奶牛喜欢的两块草地。", "outputFormat": "输出一个 $N$ 位数，每一位均为 $1\\ldots 4$ 之一，表示每一块草地上所种的草的种类。第一位对应草地 $1$ 的草的种类，第二位对应草地 $2$，以此类推。如果有多种可行的解，只需输出所有解中最小的 $N$ 位数。 ", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO19FEB] The Great Revegetation B", "background": "", "description": "长时间的干旱使得 Farmer John 的 $N$ 块草地上牧草匮乏。随着雨季即将到来，现在应当是重新种植的时候了。\n\n在 Farmer John 的储物棚里有四个桶，每个桶里装着一种不同的草种。他想要在每块草地上播种其中一种草。作为一名奶农，Farmer John 想要确保他的每头奶牛都能得到丰富的食谱。他的 $M$ 头奶牛每一头都有两块喜爱的草地，他想要确保这两块草地种植不同种类的草，从而每头奶牛都可以有两种草可供选择。Farmer John 知道没有一块草地受到多于 $3$ 头奶牛的喜爱。\n\n请帮助 Farmer John 选择每块草地所种的草的种类，使得所有奶牛的营养需求都得到满足。 ", "inputFormat": "输入的第一行包含 $2 \\leq N \\leq 100$ 和 $1 \\leq M \\leq 150$。以下 $M$ 行，每行包含两个范围为 $1 \\dots N$ 的整数，为 Farmer John 的一头奶牛喜欢的两块草地。", "outputFormat": "输出一个 $N$ 位数，每一位均为 $1\\ldots 4$ 之一，表示每一块草地上所种的草的种类。第一位对应草地 $1$ 的草的种类，第二位对应草地 $2$，以此类推。如果有多种可行的解，只需输出所有解中最小的 $N$ 位数。 ", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1695", "type": "P", "difficulty": 2, "samples": [["4\non 1 1\nnone 10 14\nnone 11 15\noff 2 3", "10 13\n8 12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2019", "USACO", "O2优化"], "title": "[USACO19FEB] Measuring Traffic B", "background": "", "description": "Farmer John 的农场边上的高速公路最近出现了引人注目的流量上升，或者至少 Farmer John 看起来是这样的。为了证实这件事，他打算用一组传感器测量公路上的车流量，每个传感器被用来测量一小段路面上的车流量的数值。\n\n不幸的是，某一天经过牛棚的时候，Farmer John 被绊倒了，装有传感器的盒子掉进了一个巨大的奶缸，之后它们就不能正常工作了。比起之前可以产生一个精确的车流量读数，现在每个传感器只能输出一个可能结果的范围。例如，一个传感器可能会给出范围 $[7,13]$，表示在这段路面上的车流量不小于 $7$，并且不大于 $13$。\n\n高速公路经过农场的这一段长 $N$ 英里，车辆仅从一个方向通过公路，从第 $1$ 英里驶向第 $N$ 英里。Farmer John 想要安装 $N$ 个传感器——每一个监测高速公路上 $1$ 英里长的路段。在其中某些路段上，有能够使得车辆进入高速公路的上匝道；在所有这样的路段上，Farmer John 会将传感器装在上匝道上，测量流入的（近似）车流量。在某些路段上有能够使得车辆离开高速公路的下匝道；在所有这样的路段上，Farmer John 会将传感器装在下匝道上。每一个路段包含至多一个匝道。如果在公路的一个路段上没有上匝道或下匝道，Farmer John就将传感器装在高速公路的主路上。\n\n给定 Farmer John 的 $N$ 个传感器的读数，请求出在高速公路第 $1$ 英里之前和第 $N$ 英里之后车流量的最为准确的可能范围。这些范围应当与所有 $N$ 个传感器的读数相一致。 ", "inputFormat": "输入的第一行包含 $N$（$1\\le N\\le 100$）。余下 $N$ 行每行按从第 $1$ 英里至第 $N$ 英里的顺序描述一段 $1$ 英里长的路段。每行包含一个字符串，为 `on`（如果这段路上有一个上匝道），`off`（如果这段路上有一个下匝道），或者是 `none`（如果这段路上没有匝道），然后是两个范围为 $0\\ldots 1000$ 的整数，表示这段路上的传感器的读数所给出的下界、上界。如果这段路上包含匝道，传感器读数来自于匝道，否则来自于主路。至少一个高速公路路段的描述会是 `none`。", "outputFormat": "输出的第一行包含两个整数，为第 $1$ 英里之前的车流量的最准确的可能范围。第二行包含两个整数，为第 $N$ 英里之后的车流量的最准确的可能范围。输入保证存在符合要求的解。 ", "hint": "### 样例解释 1\n\n在这个例子中，路段 $2$ 和路段 $3$ 的读数组合在一起告诉我们通过这两个路段的车流量为范围 $[11,14]$ 之间的某个值，因为只有这个范围与两个读数 $[10,14]$ 和 $[11,15]$ 均一致。在第 $1$ 英里，恰有 $1$ 单位的车辆通过上匝道进入，所以在第 $1$ 英里之前，车流量一定在范围 $[10,13]$ 之内。在第 $4$ 英里，$2$ 单位到 $3$ 单位之间的车辆通过下匝道离开，所以这段路之后可能的车流量范围为 $[8,12]$。 ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO19FEB] Measuring Traffic B", "background": "", "description": "Farmer John 的农场边上的高速公路最近出现了引人注目的流量上升，或者至少 Farmer John 看起来是这样的。为了证实这件事，他打算用一组传感器测量公路上的车流量，每个传感器被用来测量一小段路面上的车流量的数值。\n\n不幸的是，某一天经过牛棚的时候，Farmer John 被绊倒了，装有传感器的盒子掉进了一个巨大的奶缸，之后它们就不能正常工作了。比起之前可以产生一个精确的车流量读数，现在每个传感器只能输出一个可能结果的范围。例如，一个传感器可能会给出范围 $[7,13]$，表示在这段路面上的车流量不小于 $7$，并且不大于 $13$。\n\n高速公路经过农场的这一段长 $N$ 英里，车辆仅从一个方向通过公路，从第 $1$ 英里驶向第 $N$ 英里。Farmer John 想要安装 $N$ 个传感器——每一个监测高速公路上 $1$ 英里长的路段。在其中某些路段上，有能够使得车辆进入高速公路的上匝道；在所有这样的路段上，Farmer John 会将传感器装在上匝道上，测量流入的（近似）车流量。在某些路段上有能够使得车辆离开高速公路的下匝道；在所有这样的路段上，Farmer John 会将传感器装在下匝道上。每一个路段包含至多一个匝道。如果在公路的一个路段上没有上匝道或下匝道，Farmer John就将传感器装在高速公路的主路上。\n\n给定 Farmer John 的 $N$ 个传感器的读数，请求出在高速公路第 $1$ 英里之前和第 $N$ 英里之后车流量的最为准确的可能范围。这些范围应当与所有 $N$ 个传感器的读数相一致。 ", "inputFormat": "输入的第一行包含 $N$（$1\\le N\\le 100$）。余下 $N$ 行每行按从第 $1$ 英里至第 $N$ 英里的顺序描述一段 $1$ 英里长的路段。每行包含一个字符串，为 `on`（如果这段路上有一个上匝道），`off`（如果这段路上有一个下匝道），或者是 `none`（如果这段路上没有匝道），然后是两个范围为 $0\\ldots 1000$ 的整数，表示这段路上的传感器的读数所给出的下界、上界。如果这段路上包含匝道，传感器读数来自于匝道，否则来自于主路。至少一个高速公路路段的描述会是 `none`。", "outputFormat": "输出的第一行包含两个整数，为第 $1$ 英里之前的车流量的最准确的可能范围。第二行包含两个整数，为第 $N$ 英里之后的车流量的最准确的可能范围。输入保证存在符合要求的解。 ", "hint": "### 样例解释 1\n\n在这个例子中，路段 $2$ 和路段 $3$ 的读数组合在一起告诉我们通过这两个路段的车流量为范围 $[11,14]$ 之间的某个值，因为只有这个范围与两个读数 $[10,14]$ 和 $[11,15]$ 均一致。在第 $1$ 英里，恰有 $1$ 单位的车辆通过上匝道进入，所以在第 $1$ 英里之前，车流量一定在范围 $[10,13]$ 之内。在第 $4$ 英里，$2$ 单位到 $3$ 单位之间的车辆通过下匝道离开，所以这段路之后可能的车流量范围为 $[8,12]$。 ", "locale": "zh-CN"}}}
{"pid": "P1696", "type": "P", "difficulty": 2, "samples": [["2 1 7 4\n5 -1 10 3", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2018", "USACO", "O2优化"], "title": "[USACO18JAN] Blocked Billboard II B", "background": "", "description": "Bessie the cow used to have such a nice view from her barn, looking across road at a set of two billboards advertising delicious looking cow feed. Unfortunately, one of these billboards has recently been updated so it now advertises \"Farmer Larry's Lawnmowers\". Bessie is not a fan of lawnmowers since their only purpose, as far as she can tell, is cutting back the grass in her field that she finds so tasty (if you haven't noticed, much of Bessie's thought process revolves around food).\n\nFortunately, the remaining cow feed billboard is situated in front of the lawnmower billboard, potentially obscuring it.\n\nBessie, determined to remove the offensive lawnmower billboard completely from her view, hatches a risky plan. She plans to steal a large rectangular tarp from the barn and sneak out late at night to cover the remaining portion of the lawnmower billboard, so that she can no longer see any part of it.\n\nGiven the locations of the two billboards, please help Bessie compute the minimum area of the tarp she will need. Since the only tarps available in the barn are rectangular in size, Bessie observes that she may conceivably need a tarp whose area is slightly larger than the exposed area of the lawnmower billboard, as illustrated in the example below. The tarp may only be placed such that its sides are parallel to those of the other billboards (i.e., it cannot be \"tilted\"). ", "inputFormat": "The first line of input contains four space-separated integers: $x_1,y_1,x_2,y_2$, where $(x_1,y_1)$ and $(x_2,y_2)$ are the coordinates of the lower-left and upper-right corners of the lawnmower billboard in Bessie's 2D field of view. The next line contains four more integers, similarly specifying the lower-left and upper-right corners of the cow feed billboard. The cow feed billboard may obscure all, some, or none of the lawnmower billboard. All coordinates are in the range $-1000$ to $+1000$. ", "outputFormat": " Please output the minimum area of the tarp Bessie needs to use to cover part of the lawnmower billboard so that it becomes completely obscured. ", "hint": "### Sample Explanation 1\n\nHere, the cow feed billboard obscures the lower right corner of the lawnmower billboard, but this doesn't really help, since Bessie still needs to use a tarp whose size is as large as the entire lawnmower billboard. ", "locale": "en", "translations": {"en": {"title": "[USACO18JAN] Blocked Billboard II B", "background": "", "description": "Bessie the cow used to have such a nice view from her barn, looking across road at a set of two billboards advertising delicious looking cow feed. Unfortunately, one of these billboards has recently been updated so it now advertises \"Farmer Larry's Lawnmowers\". Bessie is not a fan of lawnmowers since their only purpose, as far as she can tell, is cutting back the grass in her field that she finds so tasty (if you haven't noticed, much of Bessie's thought process revolves around food).\n\nFortunately, the remaining cow feed billboard is situated in front of the lawnmower billboard, potentially obscuring it.\n\nBessie, determined to remove the offensive lawnmower billboard completely from her view, hatches a risky plan. She plans to steal a large rectangular tarp from the barn and sneak out late at night to cover the remaining portion of the lawnmower billboard, so that she can no longer see any part of it.\n\nGiven the locations of the two billboards, please help Bessie compute the minimum area of the tarp she will need. Since the only tarps available in the barn are rectangular in size, Bessie observes that she may conceivably need a tarp whose area is slightly larger than the exposed area of the lawnmower billboard, as illustrated in the example below. The tarp may only be placed such that its sides are parallel to those of the other billboards (i.e., it cannot be \"tilted\"). ", "inputFormat": "The first line of input contains four space-separated integers: $x_1,y_1,x_2,y_2$, where $(x_1,y_1)$ and $(x_2,y_2)$ are the coordinates of the lower-left and upper-right corners of the lawnmower billboard in Bessie's 2D field of view. The next line contains four more integers, similarly specifying the lower-left and upper-right corners of the cow feed billboard. The cow feed billboard may obscure all, some, or none of the lawnmower billboard. All coordinates are in the range $-1000$ to $+1000$. ", "outputFormat": " Please output the minimum area of the tarp Bessie needs to use to cover part of the lawnmower billboard so that it becomes completely obscured. ", "hint": "### Sample Explanation 1\n\nHere, the cow feed billboard obscures the lower right corner of the lawnmower billboard, but this doesn't really help, since Bessie still needs to use a tarp whose size is as large as the entire lawnmower billboard. ", "locale": "en"}, "zh-CN": {"title": "[USACO18JAN] Blocked Billboard II B", "background": "", "description": "奶牛 Bessie 曾经在她的谷仓里拥有如此美好的视野，可以看到马路对面两块广告牌，广告牌上宣传着看起来美味的牛饲料。不幸的是，其中一个广告牌最近更新了，现在宣传的是「农夫 Larry 的割草机」。Bessie 对割草机并不感兴趣，因为据她所知，割草机的唯一用途就是割掉她田里那些她觉得美味的草（如果你还没有注意到，Bessie 的思维过程大多围绕着食物）。\n\n幸运的是，剩下的牛饲料广告牌位于割草机广告牌的前面，可能会遮挡它。\n\nBessie 决心要完全从她的视野中移除这个令人讨厌的割草机广告牌，于是她想出了一个冒险的计划。她计划从谷仓里偷一块大矩形防水布，然后在深夜偷偷溜出去，盖住割草机广告牌的剩余部分，这样她就再也看不到它的任何部分了。\n\n给定两个广告牌的位置，请帮助 Bessie 计算她需要的最小防水布面积。由于谷仓里只有矩形大小的防水布，Bessie 观察到她可能需要一块面积稍大于割草机广告牌暴露面积的防水布，如下例所示。防水布只能放置在其边与其他广告牌的边平行的位置（即不能「倾斜」）。", "inputFormat": "输入的第一行包含四个用空格分隔的整数：$x_1, y_1, x_2, y_2$，其中 $(x_1, y_1)$ 和 $(x_2, y_2)$ 是 Bessie 的二维视野中割草机广告牌的左下角和右上角的坐标。下一行包含四个整数，同样指定牛饲料广告牌的左下角和右上角的坐标。牛饲料广告牌可能遮挡割草机广告牌的全部、部分或没有。所有坐标的范围是 $-1000$ 到 $+1000$。", "outputFormat": "请输出 Bessie 需要使用的防水布的最小面积，以覆盖割草机广告牌的部分，使其完全被遮挡。", "hint": "### 示例解释 1\n\n在这里，牛饲料广告牌遮挡了割草机广告牌的右下角，但这并没有真正帮助，因为 Bessie 仍然需要使用一块大小与整个割草机广告牌一样大的防水布。（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P1697", "type": "P", "difficulty": 1, "samples": [["3\n5 9\n1 4\n3 7", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2018", "USACO", "O2优化"], "title": "[USACO18JAN] Lifeguards B", "background": "本题翻译来自 deepseek-v3。", "description": "Farmer John 为他的奶牛们开设了一个游泳池，认为这将帮助它们放松并产更多的奶。\n\n为了确保安全，他雇佣了 $N$ 头奶牛作为救生员，每头奶牛的班次覆盖一天中的某个连续时间段。为简单起见，游泳池每天从时间 $t=0$ 开放到时间 $t=1000$，因此每个班次可以用两个整数描述，分别表示奶牛开始和结束其班次的时间。例如，一头救生员从时间 $t=4$ 开始到时间 $t=7$ 结束，覆盖了 $3$ 个单位的时间（注意端点表示时间点）。\n\n不幸的是，Farmer John 多雇佣了 $1$ 名救生员，超出了他的资金支持范围。鉴于他必须解雇恰好 $1$ 名救生员，剩下的救生员的班次能够覆盖的最长时间是多少？如果至少有一名救生员在场，则某个时间段被视为被覆盖。", "inputFormat": "输入的第一行包含 $N$（$1 \\leq N \\leq 100$）。接下来的 $N$ 行每行描述一名救生员，用两个范围在 $0 \\ldots 1000$ 的整数表示该救生员班次的开始和结束时间。所有端点都是唯一的。不同救生员的班次可能会重叠。", "outputFormat": "请输出一个数字，表示如果 Farmer John 解雇 $1$ 名救生员后，剩下的救生员的班次能够覆盖的最长时间。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO18JAN] Lifeguards B", "background": "本题翻译来自 deepseek-v3。", "description": "Farmer John 为他的奶牛们开设了一个游泳池，认为这将帮助它们放松并产更多的奶。\n\n为了确保安全，他雇佣了 $N$ 头奶牛作为救生员，每头奶牛的班次覆盖一天中的某个连续时间段。为简单起见，游泳池每天从时间 $t=0$ 开放到时间 $t=1000$，因此每个班次可以用两个整数描述，分别表示奶牛开始和结束其班次的时间。例如，一头救生员从时间 $t=4$ 开始到时间 $t=7$ 结束，覆盖了 $3$ 个单位的时间（注意端点表示时间点）。\n\n不幸的是，Farmer John 多雇佣了 $1$ 名救生员，超出了他的资金支持范围。鉴于他必须解雇恰好 $1$ 名救生员，剩下的救生员的班次能够覆盖的最长时间是多少？如果至少有一名救生员在场，则某个时间段被视为被覆盖。", "inputFormat": "输入的第一行包含 $N$（$1 \\leq N \\leq 100$）。接下来的 $N$ 行每行描述一名救生员，用两个范围在 $0 \\ldots 1000$ 的整数表示该救生员班次的开始和结束时间。所有端点都是唯一的。不同救生员的班次可能会重叠。", "outputFormat": "请输出一个数字，表示如果 Farmer John 解雇 $1$ 名救生员后，剩下的救生员的班次能够覆盖的最长时间。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1698", "type": "P", "difficulty": 2, "samples": [["6\n2\n4\n7\n7\n9\n3", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2018", "USACO", "O2优化", "排序"], "title": "[USACO18JAN] Out of Place B", "background": "本题翻译来自于 deepseek-v3。", "description": "Farmer John 雄心勃勃，计划尝试一件似乎从未顺利过的事情：他想为他的整个牛群拍一张照片。\n\n为了让照片看起来更美观，他希望奶牛们从矮到高排成一行。不幸的是，就在他让奶牛们按这种方式排好队后，总是捣乱的 Bessie 走出了队伍，并重新插入到队伍中的某个位置！\n\nFarmer John 希望通过交换奶牛对的方式让整个牛群重新排好队。请帮助他确定为了实现这一目标，他需要进行的最少交换次数。", "inputFormat": "输入的第一行包含 $N$（$2 \\leq N \\leq 100$）。接下来的 $N$ 行描述了 Bessie 捣乱后奶牛们的身高。每头奶牛的身高是一个范围在 $1 \\ldots 1,000,000$ 的整数。奶牛的身高可能相同。\n", "outputFormat": "请输出 Farmer John 需要交换奶牛对的最少次数，以实现正确的排序。交换不一定需要涉及相邻的奶牛。", "hint": "在这个例子中，Bessie 显然是身高为 $3$ 的奶牛。Farmer John 通过以下三次交换将奶牛们重新排序：\n\n2 4 7 7 9 3 - 原始队伍  \n2 4 7 7 3 9 - 交换最后两头奶牛  \n2 4 3 7 7 9 - 交换第一个 $7$ 和 $3$  \n2 3 4 7 7 9 - 交换 $4$ 和 $3$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO18JAN] Out of Place B", "background": "本题翻译来自于 deepseek-v3。", "description": "Farmer John 雄心勃勃，计划尝试一件似乎从未顺利过的事情：他想为他的整个牛群拍一张照片。\n\n为了让照片看起来更美观，他希望奶牛们从矮到高排成一行。不幸的是，就在他让奶牛们按这种方式排好队后，总是捣乱的 Bessie 走出了队伍，并重新插入到队伍中的某个位置！\n\nFarmer John 希望通过交换奶牛对的方式让整个牛群重新排好队。请帮助他确定为了实现这一目标，他需要进行的最少交换次数。", "inputFormat": "输入的第一行包含 $N$（$2 \\leq N \\leq 100$）。接下来的 $N$ 行描述了 Bessie 捣乱后奶牛们的身高。每头奶牛的身高是一个范围在 $1 \\ldots 1,000,000$ 的整数。奶牛的身高可能相同。\n", "outputFormat": "请输出 Farmer John 需要交换奶牛对的最少次数，以实现正确的排序。交换不一定需要涉及相邻的奶牛。", "hint": "在这个例子中，Bessie 显然是身高为 $3$ 的奶牛。Farmer John 通过以下三次交换将奶牛们重新排序：\n\n2 4 7 7 9 3 - 原始队伍  \n2 4 7 7 3 9 - 交换最后两头奶牛  \n2 4 3 7 7 9 - 交换第一个 $7$ 和 $3$  \n2 3 4 7 7 9 - 交换 $4$ 和 $3$", "locale": "zh-CN"}}}
{"pid": "P1699", "type": "P", "difficulty": 2, "samples": [["..........\n..........\n..........\n..B.......\n..........\n.....R....\n..........\n..........\n.....L....\n..........", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2019", "USACO", "O2优化", "广度优先搜索 BFS", "分类讨论"], "title": "[USACO19OPEN] Bucket Brigade B", "background": "", "description": "农场上起火了，奶牛们正在紧急赶去灭火！\n\n农场可以用一个像这样的 $10×10$ 的字符方阵来描述：\n\n```plain\n..........\n..........\n..........\n..B.......\n..........\n.....R....\n..........\n..........\n.....L....\n..........\n```\n\n字符 `B` 表示正着火的牛棚。字符 `L` 表示一个湖，而字符 `R` 表示农场上的一块巨大岩石。\n\n奶牛们想要沿着一条湖到牛棚之间的路径组成一条“水桶传递队列”，这样她们就可以沿着这条路径传递水桶来帮助灭火。当两头奶牛在东南西北四个方向上相邻时水桶可以在她们之间传递。这对于湖边的奶牛也是对的——奶牛只能在紧挨着湖的时候才能用水桶从湖里取水。类似地，奶牛只能在紧挨着牛棚的时候才能用水去灭牛棚的火。 \n\n请帮助求出奶牛们为了组成这样的“水桶传递队列”需要占据的 `.` 格子的最小数量。\n\n奶牛不能站在岩石所在的方格之内，此外保证牛棚和湖不是相邻的。 ", "inputFormat": "输入包含 $10$ 行，每行 $10$ 个字符，描述这个农场的布局。输入保证图案中恰有一个字符 `B`、一个字符 `L` 以及一个字符 `R`。 ", "outputFormat": "输出一个整数，为组成一条可行的水桶传递队列所需要的奶牛的最小数量。 ", "hint": "### 样例解释 1\n\n在这个例子中，以下是一个可行的方案，使用了最小数量的奶牛（$7$）：\n\n```plain\n..........\n..........\n..........\n..B.......\n..C.......\n..CC.R....\n...CCC....\n.....C....\n.....L....\n..........\n```", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO19OPEN] Bucket Brigade B", "background": "", "description": "农场上起火了，奶牛们正在紧急赶去灭火！\n\n农场可以用一个像这样的 $10×10$ 的字符方阵来描述：\n\n```plain\n..........\n..........\n..........\n..B.......\n..........\n.....R....\n..........\n..........\n.....L....\n..........\n```\n\n字符 `B` 表示正着火的牛棚。字符 `L` 表示一个湖，而字符 `R` 表示农场上的一块巨大岩石。\n\n奶牛们想要沿着一条湖到牛棚之间的路径组成一条“水桶传递队列”，这样她们就可以沿着这条路径传递水桶来帮助灭火。当两头奶牛在东南西北四个方向上相邻时水桶可以在她们之间传递。这对于湖边的奶牛也是对的——奶牛只能在紧挨着湖的时候才能用水桶从湖里取水。类似地，奶牛只能在紧挨着牛棚的时候才能用水去灭牛棚的火。 \n\n请帮助求出奶牛们为了组成这样的“水桶传递队列”需要占据的 `.` 格子的最小数量。\n\n奶牛不能站在岩石所在的方格之内，此外保证牛棚和湖不是相邻的。 ", "inputFormat": "输入包含 $10$ 行，每行 $10$ 个字符，描述这个农场的布局。输入保证图案中恰有一个字符 `B`、一个字符 `L` 以及一个字符 `R`。 ", "outputFormat": "输出一个整数，为组成一条可行的水桶传递队列所需要的奶牛的最小数量。 ", "hint": "### 样例解释 1\n\n在这个例子中，以下是一个可行的方案，使用了最小数量的奶牛（$7$）：\n\n```plain\n..........\n..........\n..........\n..B.......\n..C.......\n..CC.R....\n...CCC....\n.....C....\n.....L....\n..........\n```", "locale": "zh-CN"}}}
{"pid": "P1700", "type": "P", "difficulty": 2, "samples": [["3\n1 2\n3 2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "图论", "2019", "USACO", "O2优化", "广度优先搜索 BFS", "深度优先搜索 DFS"], "title": "[USACO19OPEN] Milk Factory B", "background": "", "description": "牛奶生意正红红火火！Farmer John 的牛奶加工厂内有 $N$ 个加工站，编号为 $1\\dots N$（$1\\le N\\le 100$），以及 $N−1$ 条通道，每条连接某两个加工站。（通道建设很昂贵，所以 Farmer John 选择使用了最小数量的通道，使得从每个加工站出发都可以到达所有其他加工站）。\n\n为了创新和提升效率，Farmer John 在每条通道上安装了传送带。不幸的是，当他意识到传送带是单向的已经太晚了，现在每条通道只能沿着一个方向通行了！所以现在的情况不再是从每个加工站出发都能够到达其他加工站了。\n\n然而，Farmer John 认为事情可能还不算完全失败，只要至少还存在一个加工站 $i$ 满足从其他每个加工站出发都可以到达加工站 $i$。注意从其他任意一个加工站 $j$ 前往加工站 $i$ 可能会经过 $i$ 和 $j$ 之间的一些中间站点。请帮助 Farmer John 求出是否存在这样的加工站 $i$。", "inputFormat": "输入的第一行包含一个整数 $N$，为加工站的数量。以下 $N−1$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，满足 $1\\le a_i,b_i\\le N$ 以及 $a_i\\neq b_i$。这表示有一条从加工站 $a_i$ 向加工站 $b_i$ 移动的传送带，仅允许沿从 $a_i$ 到 $b_i$ 的方向移动。", "outputFormat": "如果存在加工站 $i$ 满足可以从任意其他加工站出发都可以到达加工站 $i$，输出最小的满足条件的 $i$。否则，输出 $−1$。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO19OPEN] Milk Factory B", "background": "", "description": "牛奶生意正红红火火！Farmer John 的牛奶加工厂内有 $N$ 个加工站，编号为 $1\\dots N$（$1\\le N\\le 100$），以及 $N−1$ 条通道，每条连接某两个加工站。（通道建设很昂贵，所以 Farmer John 选择使用了最小数量的通道，使得从每个加工站出发都可以到达所有其他加工站）。\n\n为了创新和提升效率，Farmer John 在每条通道上安装了传送带。不幸的是，当他意识到传送带是单向的已经太晚了，现在每条通道只能沿着一个方向通行了！所以现在的情况不再是从每个加工站出发都能够到达其他加工站了。\n\n然而，Farmer John 认为事情可能还不算完全失败，只要至少还存在一个加工站 $i$ 满足从其他每个加工站出发都可以到达加工站 $i$。注意从其他任意一个加工站 $j$ 前往加工站 $i$ 可能会经过 $i$ 和 $j$ 之间的一些中间站点。请帮助 Farmer John 求出是否存在这样的加工站 $i$。", "inputFormat": "输入的第一行包含一个整数 $N$，为加工站的数量。以下 $N−1$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，满足 $1\\le a_i,b_i\\le N$ 以及 $a_i\\neq b_i$。这表示有一条从加工站 $a_i$ 向加工站 $b_i$ 移动的传送带，仅允许沿从 $a_i$ 到 $b_i$ 的方向移动。", "outputFormat": "如果存在加工站 $i$ 满足可以从任意其他加工站出发都可以到达加工站 $i$，输出最小的满足条件的 $i$。否则，输出 $−1$。", "hint": "", "locale": "zh-CN"}}}
