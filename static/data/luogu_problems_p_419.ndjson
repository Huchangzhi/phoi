{"pid": "P9499", "type": "P", "difficulty": 7, "samples": [["0\n2\n2\n1 5\n5 1\n4\n10\n1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000\n1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000\n1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000", "11\n172998509"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "贪心", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「RiOI-2」change", "background": "小 E 终于在今天收回了被妈妈保管的压岁钱。\n\n作为有远见的收藏家，小 E 知道，如果她从现在开始收集东西，以后就会变得值钱了。\n\n小 E 的世界里有一些纸币。她知道这些纸币未来的价值，但遗憾的是，这些纸币只能从小换到大。如何是好？", "description": "给定 $n$ 种物品，每种物品 $i$ 价值为 $v_i$，个数为 $c_i$。\n\n定义总价值为 $\\sum\\limits_{i=1}^nc_iv_i$，你可以进行一些（可能为 $0$）次操作来最大化总价值。\n\n一次操作为：选定一个 $i$ 满足 $c_i \\geq x_i$，让 $c_i\\gets c_i - x_i$，$c_{i+1}\\gets c_{i+1}+ 1$。\n\n输出最大的总价值对 $998,\\!244,\\!353$ 取模。\n\n**注意，你需要最大化总价值，再对 $998,\\!244,\\!353$ 取模，而不是最大化「总价值对 $998,\\!244,\\!353$ 取模的值」。**", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $\\text{sid}$，表示该测试数据所属子任务编号。\n\n第二行一个正整数 $t$，表示数据组数。对于每组数据：\n\n+ 输入共四行。\n+ 第一行，一个正整数 $n$，表示钱的种数。\n+ 第二行，$n$ 个非负整数分别表示 $v_1, v_2 \\dots v_n$。\n+ 第三行，$n$ 个非负整数分别表示 $c_1, c_2 \\dots c_n$。\n+ 第四行，$n - 1$ 个正整数分别表示 $x_1, x_2 \\dots x_{n - 1}$。", "outputFormat": "输出 $t$ 行，每行一个整数，表示物品总价值的最大值。所有答案对 $998244353$ 取模。", "hint": "### 样例解释\n\n对于样例的第一组数据，$v=[1,5]$，$c=[5,1]$，$x=[4]$。可以选定 $i=1$ 进行一次操作，此时 $c=[1,2]$，总价值为 $1\\cdot 1+5\\cdot 2=11$，可以证明它是最大的。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n下面是各 Subtask 的特殊性质，斜杠表示该栏无特殊限制。\n\n|$\\text{sid}=$| $\\sum n\\le$ | $c_i,v_i\\le$ | 特殊性质 |分值|\n| :-: | :---------: | :----------: | :------: | :-: |\n| $1$ | / | / | 特殊性质 A | $5$ |\n| $2$ | / | / | 特殊性质 B | $15$ |\n| $3$ | / | / | 特殊性质 C | $15$ |\n| $4$ | $300$ | $300$ | / | $15$ |\n| $5$ | $2000$ | $2000$ | / | $20$ |\n| $6$ | $2000$ | / | / | $15$ |\n| $7$ | / | / | / | $15$ |\n\n+ 特殊性质 A：$x_i = 10^9$。\n+ 特殊性质 B：$x_i = 1$。\n+ 特殊性质 C：所有 $c_i, v_i$ 均在 $[0, 10^5]$ 间均匀随机生成；所有 $x_i$ 均在 $[1, 10^5]$ 间均匀随机生成。\n\n对于所有数据，$1\\le t \\le 10^5$，$2\\le n$，$\\sum n\\le 2\\times 10^5$，$1\\le x_i\\le 10^9$，$0\\le c_i,v_i\\le 10^9$。\n\nupd：新增一组 hack 数据，$\\text{sid}$ 为 $7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「RiOI-2」change", "background": "小 E 终于在今天收回了被妈妈保管的压岁钱。\n\n作为有远见的收藏家，小 E 知道，如果她从现在开始收集东西，以后就会变得值钱了。\n\n小 E 的世界里有一些纸币。她知道这些纸币未来的价值，但遗憾的是，这些纸币只能从小换到大。如何是好？", "description": "给定 $n$ 种物品，每种物品 $i$ 价值为 $v_i$，个数为 $c_i$。\n\n定义总价值为 $\\sum\\limits_{i=1}^nc_iv_i$，你可以进行一些（可能为 $0$）次操作来最大化总价值。\n\n一次操作为：选定一个 $i$ 满足 $c_i \\geq x_i$，让 $c_i\\gets c_i - x_i$，$c_{i+1}\\gets c_{i+1}+ 1$。\n\n输出最大的总价值对 $998,\\!244,\\!353$ 取模。\n\n**注意，你需要最大化总价值，再对 $998,\\!244,\\!353$ 取模，而不是最大化「总价值对 $998,\\!244,\\!353$ 取模的值」。**", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $\\text{sid}$，表示该测试数据所属子任务编号。\n\n第二行一个正整数 $t$，表示数据组数。对于每组数据：\n\n+ 输入共四行。\n+ 第一行，一个正整数 $n$，表示钱的种数。\n+ 第二行，$n$ 个非负整数分别表示 $v_1, v_2 \\dots v_n$。\n+ 第三行，$n$ 个非负整数分别表示 $c_1, c_2 \\dots c_n$。\n+ 第四行，$n - 1$ 个正整数分别表示 $x_1, x_2 \\dots x_{n - 1}$。", "outputFormat": "输出 $t$ 行，每行一个整数，表示物品总价值的最大值。所有答案对 $998244353$ 取模。", "hint": "### 样例解释\n\n对于样例的第一组数据，$v=[1,5]$，$c=[5,1]$，$x=[4]$。可以选定 $i=1$ 进行一次操作，此时 $c=[1,2]$，总价值为 $1\\cdot 1+5\\cdot 2=11$，可以证明它是最大的。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n下面是各 Subtask 的特殊性质，斜杠表示该栏无特殊限制。\n\n|$\\text{sid}=$| $\\sum n\\le$ | $c_i,v_i\\le$ | 特殊性质 |分值|\n| :-: | :---------: | :----------: | :------: | :-: |\n| $1$ | / | / | 特殊性质 A | $5$ |\n| $2$ | / | / | 特殊性质 B | $15$ |\n| $3$ | / | / | 特殊性质 C | $15$ |\n| $4$ | $300$ | $300$ | / | $15$ |\n| $5$ | $2000$ | $2000$ | / | $20$ |\n| $6$ | $2000$ | / | / | $15$ |\n| $7$ | / | / | / | $15$ |\n\n+ 特殊性质 A：$x_i = 10^9$。\n+ 特殊性质 B：$x_i = 1$。\n+ 特殊性质 C：所有 $c_i, v_i$ 均在 $[0, 10^5]$ 间均匀随机生成；所有 $x_i$ 均在 $[1, 10^5]$ 间均匀随机生成。\n\n对于所有数据，$1\\le t \\le 10^5$，$2\\le n$，$\\sum n\\le 2\\times 10^5$，$1\\le x_i\\le 10^9$，$0\\le c_i,v_i\\le 10^9$。\n\nupd：新增一组 hack 数据，$\\text{sid}$ 为 $7$。", "locale": "zh-CN"}}}
{"pid": "P9500", "type": "P", "difficulty": 6, "samples": [["4\n0\n1755648 1755648\n0 353442899\n35281 18253\n99728538 70320626", "1000000001\n998244353\n35281\n66330831785160880538172878128228067748679057340064161580956433229228884846388176250309226257600174873157935217529307119972759542770571505108922703815887608877795159689067116959276902444827654683066165"], ["1\n1\n30 30", "030"], ["5\n0\n114514191 214748364\n414414414 515515515\n302813344 124821394\n123456789 987654321\n307210721 127012703", "4509169566936302030543528193\n6765800751328156020889260421\n6754420765703935546785979321\n4408846009459835952892074437\n3108033793065515131695113495"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "Special Judge", "O2优化", "构造", "洛谷月赛"], "title": "「RiOI-2」tnelat", "background": "小 E 是一名一年级的小学生。她正在学习如何阅读。\n\n如果在纸上写上 $998,\\!244,\\!353$，那么她就会读「三——五三四四——二八九九。」是的，她是从右往左读的。然后，她会把这个数理解为 $353,\\!442,\\!899$。\n\n不过这并不影响她交流——她只是不会读纸上的文字罢了。唯一的问题是，她现在要学习带余除法了，而老师说不定会在纸上画一些红色的叉叉。不过，那又如何？", "description": "对于一个长度为 $n$ 的**由数字组成的**字符串 $s=s_1s_2s_3\\cdots s_n$，定义它的权值为 $f(s)=\\sum\\limits_{i=1}^n 10^{n-i}s_i$。（也就是它代表的十进制数）定义它的反串为 $\\overline s=s_ns_{n-1}s_{n-2}\\cdots s_1$。例如，$s=\\texttt{0321}$ 的权值为 $f(s)=321$，反串为 $\\overline s=\\texttt{1230}$。  \n\n试构造一个字符串 $s$，使得 $|s|\\le 114514$，且 $f(s)\\equiv a\\pmod {998,\\!244,\\!353}$ 且 $f(\\overline s)\\equiv b\\pmod{998,\\!244,\\!353}$。如果 $c=0$，你还要保证 $s_1\\neq \\texttt0$ 且 $s_n\\neq \\texttt 0$。\n如果无解，仅输出整数 $-1$ 即可。", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$ 表示数据组数。\n\n第二行一个整数 $c$，意义如题目所述。\n\n接下来 $T$ 行，每行两个以空格隔开的自然数 $a, b$ 描述一组数据。", "outputFormat": "输出 $T$ 行，每行一个正整数表示你构造的数。\n\n**本题开启 Special Judge，只要你的输出符合要求即可得到该测试点的分数。**", "hint": "### 样例解释\n\n对于第一组样例的第一组数据，$s=\\overline{s}=\\texttt{1000000001}$，$f(s)=f(\\overline s)=1{,}000{,}000{,}001\\equiv 1{,}755{,}648\\pmod{998,\\!244,\\!353}$，所以它是一个可行解。\n\n### 数据规模与约定\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 分值 | $a,b$ | 特殊性质 | \n| :--------------: | :--: | :---: | :------: |\n| $0$ | $5$ | $ \\in [1, 9]$ | $a = b$ |\n| $1$ | $10$ | $ \\in [0, 9]$ | / |\n| $2$ | $15$ | $ \\in [0, 99]$ | / | \n| $3$ | $25$ | / | $a = 0$ |\n| $4$ | $25$ | / | $c = 1$ |\n| $5$ | $20$ | / | / |\n\n上表中的斜杠表示无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\leq T\\leq 30$，$c\\in\\{0,1\\}$，$0 \\leq a, b \\lt 998{,}244{,}353$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「RiOI-2」tnelat", "background": "小 E 是一名一年级的小学生。她正在学习如何阅读。\n\n如果在纸上写上 $998,\\!244,\\!353$，那么她就会读「三——五三四四——二八九九。」是的，她是从右往左读的。然后，她会把这个数理解为 $353,\\!442,\\!899$。\n\n不过这并不影响她交流——她只是不会读纸上的文字罢了。唯一的问题是，她现在要学习带余除法了，而老师说不定会在纸上画一些红色的叉叉。不过，那又如何？", "description": "对于一个长度为 $n$ 的**由数字组成的**字符串 $s=s_1s_2s_3\\cdots s_n$，定义它的权值为 $f(s)=\\sum\\limits_{i=1}^n 10^{n-i}s_i$。（也就是它代表的十进制数）定义它的反串为 $\\overline s=s_ns_{n-1}s_{n-2}\\cdots s_1$。例如，$s=\\texttt{0321}$ 的权值为 $f(s)=321$，反串为 $\\overline s=\\texttt{1230}$。  \n\n试构造一个字符串 $s$，使得 $|s|\\le 114514$，且 $f(s)\\equiv a\\pmod {998,\\!244,\\!353}$ 且 $f(\\overline s)\\equiv b\\pmod{998,\\!244,\\!353}$。如果 $c=0$，你还要保证 $s_1\\neq \\texttt0$ 且 $s_n\\neq \\texttt 0$。\n如果无解，仅输出整数 $-1$ 即可。", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$ 表示数据组数。\n\n第二行一个整数 $c$，意义如题目所述。\n\n接下来 $T$ 行，每行两个以空格隔开的自然数 $a, b$ 描述一组数据。", "outputFormat": "输出 $T$ 行，每行一个正整数表示你构造的数。\n\n**本题开启 Special Judge，只要你的输出符合要求即可得到该测试点的分数。**", "hint": "### 样例解释\n\n对于第一组样例的第一组数据，$s=\\overline{s}=\\texttt{1000000001}$，$f(s)=f(\\overline s)=1{,}000{,}000{,}001\\equiv 1{,}755{,}648\\pmod{998,\\!244,\\!353}$，所以它是一个可行解。\n\n### 数据规模与约定\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 分值 | $a,b$ | 特殊性质 | \n| :--------------: | :--: | :---: | :------: |\n| $0$ | $5$ | $ \\in [1, 9]$ | $a = b$ |\n| $1$ | $10$ | $ \\in [0, 9]$ | / |\n| $2$ | $15$ | $ \\in [0, 99]$ | / | \n| $3$ | $25$ | / | $a = 0$ |\n| $4$ | $25$ | / | $c = 1$ |\n| $5$ | $20$ | / | / |\n\n上表中的斜杠表示无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\leq T\\leq 30$，$c\\in\\{0,1\\}$，$0 \\leq a, b \\lt 998{,}244{,}353$。", "locale": "zh-CN"}}}
{"pid": "P9501", "type": "P", "difficulty": 7, "samples": [["9\n4 2 0\n9 9 -9\n9 3 3\n20 8 -12\n114 5 14\n191 9 81\n1036 854 104\n998244 353 4\n2147483 64 7", "12\n256\n108\n10000\n661235724\n741150826\n500003636\n222931421\n404094315"], ["6\n8 4 0\n12 4 0\n16 4 0\n20 4 0\n24 4 0\n28 4 0", "176\n1728\n26160\n368000\n5413856\n80212608"], ["4\n6 2 0\n10 2 0\n9 9 7\n9 3 6", "0\n0\n0\n0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "数论", "洛谷原创", "O2优化", "生成函数", "快速数论变换 NTT", "洛谷月赛"], "title": "「RiOI-2」likely", "background": "小 E 喜欢把东西排成环状，而不是一条链。\n\n近些天，她在学校学到了正负号。她把它们放在了环上，作为密码。\n\n然而，她现在已然忘却了，只看到草稿纸上的一个数字。那是什么？", "description": "对于一个长度为 $n$ 的仅包含 $\\pm1$ 的序列 $a_0\\dots a_{n-1}$，我们定义 $S(a, m) = \\displaystyle \\sum_{k = 0}^{n - 1} \\prod_{l = 0}^{m - 1} a_{(k + l) \\bmod n}$。\n\n给定 $n, m, k$，求在 $2^n$ 个不同的序列 $a$ 里，试求出有多少不同的 $a$ 满足 $S(a, m) = k$。\n\n答案对 $998,\\!244,\\!353$ 取模。", "inputFormat": "**本题有多组数据。**\n\n第一行，一个正整数 $T$ 表示测试数据组数。\n\n接下来 $T$ 行，每行三个整数，依次表示 $n, m, k$。", "outputFormat": "共 $T$ 行，每行一个整数，表示一组数据的答案。", "hint": "### 样例解释\n\n对于第一组样例的第一组数据，不符合要求的只有 $a=[1,1,1,1]$，$a=[-1,-1,-1,-1]$，$a=[1,-1,1,-1]$ 和 $a=[-1,1,-1,1]$，所以答案为 $2^4-4=12$。\n\n对于第一组样例的第二组数据，符合要求的只有 $a$ 中恰有奇数个 $-1$，所以答案为 $2^8=256$。\n\n### 数据规模与约定\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 分值 | $T \\leq$ | $\\sum n \\leq$ | $m \\leq$ |\n| :-: | :-: | :-: | :-: | :-: |\n| $0$ | $5$ | $1$ | $20$ | / |\n| $1$ | $10$ | $5$ | $10^5$ | $2$ |\n| $2$ | $10$ | $5$ | $10^5$ | $4$ |\n| $3$ | $15$ | / | $7\\times10^3$ | / |\n| $4$ | $20$ | / | $10^5$ | / |\n| $5$ | $40$ | / | / | / |\n\n对于所有数据，保证 $2 \\leq m \\leq n \\leq 5\\times 10^6$，$0 \\leq \\lvert k\\rvert \\leq n$，$1 \\leq T \\leq 10$，$\\sum n\\leq 5\\times10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「RiOI-2」likely", "background": "小 E 喜欢把东西排成环状，而不是一条链。\n\n近些天，她在学校学到了正负号。她把它们放在了环上，作为密码。\n\n然而，她现在已然忘却了，只看到草稿纸上的一个数字。那是什么？", "description": "对于一个长度为 $n$ 的仅包含 $\\pm1$ 的序列 $a_0\\dots a_{n-1}$，我们定义 $S(a, m) = \\displaystyle \\sum_{k = 0}^{n - 1} \\prod_{l = 0}^{m - 1} a_{(k + l) \\bmod n}$。\n\n给定 $n, m, k$，求在 $2^n$ 个不同的序列 $a$ 里，试求出有多少不同的 $a$ 满足 $S(a, m) = k$。\n\n答案对 $998,\\!244,\\!353$ 取模。", "inputFormat": "**本题有多组数据。**\n\n第一行，一个正整数 $T$ 表示测试数据组数。\n\n接下来 $T$ 行，每行三个整数，依次表示 $n, m, k$。", "outputFormat": "共 $T$ 行，每行一个整数，表示一组数据的答案。", "hint": "### 样例解释\n\n对于第一组样例的第一组数据，不符合要求的只有 $a=[1,1,1,1]$，$a=[-1,-1,-1,-1]$，$a=[1,-1,1,-1]$ 和 $a=[-1,1,-1,1]$，所以答案为 $2^4-4=12$。\n\n对于第一组样例的第二组数据，符合要求的只有 $a$ 中恰有奇数个 $-1$，所以答案为 $2^8=256$。\n\n### 数据规模与约定\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 分值 | $T \\leq$ | $\\sum n \\leq$ | $m \\leq$ |\n| :-: | :-: | :-: | :-: | :-: |\n| $0$ | $5$ | $1$ | $20$ | / |\n| $1$ | $10$ | $5$ | $10^5$ | $2$ |\n| $2$ | $10$ | $5$ | $10^5$ | $4$ |\n| $3$ | $15$ | / | $7\\times10^3$ | / |\n| $4$ | $20$ | / | $10^5$ | / |\n| $5$ | $40$ | / | / | / |\n\n对于所有数据，保证 $2 \\leq m \\leq n \\leq 5\\times 10^6$，$0 \\leq \\lvert k\\rvert \\leq n$，$1 \\leq T \\leq 10$，$\\sum n\\leq 5\\times10^6$。", "locale": "zh-CN"}}}
{"pid": "P9502", "type": "P", "difficulty": 1, "samples": [["7", "2"], ["8", "2"], ["1024", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "O2优化", "枚举"], "title": "『MGOI』Simple Round I | A. 魔法数字", "background": "> 目标越坚定的魔法士，越幸运。——殿堂魔法士 S", "description": "初级魔法士小 M 的魔法数字是 $2$。\n\n给定一个正整数 $n$，小 M 需要找到最大的 **偶数** $m$，使得 $2^m<n$。\n\n请你帮帮他。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个 **偶数** $m$，表示答案。", "hint": "**【数据范围】**\n\n对于前 $20\\%$ 的数据，$n = 2$。\n\n对于前 $60\\%$ 的数据，$n$ 为 $2$ 的幂次。\n\n对于 $100\\%$ 的数据，$2 \\le n \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MGOI』Simple Round I | A. 魔法数字", "background": "> 目标越坚定的魔法士，越幸运。——殿堂魔法士 S", "description": "初级魔法士小 M 的魔法数字是 $2$。\n\n给定一个正整数 $n$，小 M 需要找到最大的 **偶数** $m$，使得 $2^m<n$。\n\n请你帮帮他。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个 **偶数** $m$，表示答案。", "hint": "**【数据范围】**\n\n对于前 $20\\%$ 的数据，$n = 2$。\n\n对于前 $60\\%$ 的数据，$n$ 为 $2$ 的幂次。\n\n对于 $100\\%$ 的数据，$2 \\le n \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P9503", "type": "P", "difficulty": 1, "samples": [["5\nBBRWB", "5"], ["10\nBBBBBBBBBB", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化"], "title": "『MGOI』Simple Round I | B. 魔法照相馆", "background": "> 照片留下了值得留恋的瞬间，但对于魔法士来说最重要的是向前看。——殿堂魔法士 W", "description": "小 M 正在准备入学所必需的魔法士证件，因此他来到了纵深巷的魔法照相馆。\n\n在等待的时候，小 M 注意到魔法照相馆有三个幕布，颜色从左到右分别是红色、蓝色和白色。店主 zx 先生会根据客人的需求拉上或拉下这三个幕布，如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vpo182he.png)\n\n幕布摆放在左边，按照红蓝白的顺序排列。人则坐在幕布右边，而 zx 先生则站在最右边给人拍照。幕布从右往左数，第一个没有拉上的幕布颜色将成为照片的背景颜色。\n\n每次 zx 先生拉上或拉下一个幕布都需要消耗一个时间单位，而拍照不消耗时间。小 M 已经知道了他前面所有总共 $n$ 个客人的需求。在初始状态为 **全部拉下** 的情况下，请你帮助小 M 计算他至少需要等待多少个时间单位。", "inputFormat": "第一行一个整数 $n$。\n\n第二行一个由 `RBW` 三个大写字母组成的长度为 $n$ 的字符串，其中第 $i$ 个字符表示第 $i$ 个客人的需求，`R` 是红色，`B` 是蓝色，`W` 是白色。\n", "outputFormat": "一行一个整数，表示小 M 至少需要等待的时间单位。", "hint": "**【样例 1 解释】**\n\n开始三个幕布是全部拉下的。\n\n- 第一位客人要求蓝色，所以拉上白色，消耗一个时间单位。\n- 第二位客人要求蓝色，无需改动。\n- 第三位客人要求红色，所以在之前基础上拉上蓝色，消耗一个时间单位。\n- 第四位客人要求白色，所以拉下白色，消耗一个时间单位。\n- 第五位客人要求蓝色，所以拉上白色，拉下蓝色，消耗两个时间单位。\n\n共计消耗五个时间单位。\n\n**【数据范围】**\n\n本题共有五个测试点。\n\n| 测试点编号 | $n =$ | 特殊性质 |\n| :------------: | :----------: | :----------: |\n| $1$ | $1$ | 无 |\n| $2$ | $1000$| 有 |\n| $3$ | $1000$ | 无 |\n| $4$ | $10^5$ | 有 |\n| $5$ | $10^5$ | 无 |\n\n特殊性质：只出现 `W` 和 `B` 两种颜色。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MGOI』Simple Round I | B. 魔法照相馆", "background": "> 照片留下了值得留恋的瞬间，但对于魔法士来说最重要的是向前看。——殿堂魔法士 W", "description": "小 M 正在准备入学所必需的魔法士证件，因此他来到了纵深巷的魔法照相馆。\n\n在等待的时候，小 M 注意到魔法照相馆有三个幕布，颜色从左到右分别是红色、蓝色和白色。店主 zx 先生会根据客人的需求拉上或拉下这三个幕布，如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vpo182he.png)\n\n幕布摆放在左边，按照红蓝白的顺序排列。人则坐在幕布右边，而 zx 先生则站在最右边给人拍照。幕布从右往左数，第一个没有拉上的幕布颜色将成为照片的背景颜色。\n\n每次 zx 先生拉上或拉下一个幕布都需要消耗一个时间单位，而拍照不消耗时间。小 M 已经知道了他前面所有总共 $n$ 个客人的需求。在初始状态为 **全部拉下** 的情况下，请你帮助小 M 计算他至少需要等待多少个时间单位。", "inputFormat": "第一行一个整数 $n$。\n\n第二行一个由 `RBW` 三个大写字母组成的长度为 $n$ 的字符串，其中第 $i$ 个字符表示第 $i$ 个客人的需求，`R` 是红色，`B` 是蓝色，`W` 是白色。\n", "outputFormat": "一行一个整数，表示小 M 至少需要等待的时间单位。", "hint": "**【样例 1 解释】**\n\n开始三个幕布是全部拉下的。\n\n- 第一位客人要求蓝色，所以拉上白色，消耗一个时间单位。\n- 第二位客人要求蓝色，无需改动。\n- 第三位客人要求红色，所以在之前基础上拉上蓝色，消耗一个时间单位。\n- 第四位客人要求白色，所以拉下白色，消耗一个时间单位。\n- 第五位客人要求蓝色，所以拉上白色，拉下蓝色，消耗两个时间单位。\n\n共计消耗五个时间单位。\n\n**【数据范围】**\n\n本题共有五个测试点。\n\n| 测试点编号 | $n =$ | 特殊性质 |\n| :------------: | :----------: | :----------: |\n| $1$ | $1$ | 无 |\n| $2$ | $1000$| 有 |\n| $3$ | $1000$ | 无 |\n| $4$ | $10^5$ | 有 |\n| $5$ | $10^5$ | 无 |\n\n特殊性质：只出现 `W` 和 `B` 两种颜色。", "locale": "zh-CN"}}}
{"pid": "P9504", "type": "P", "difficulty": 3, "samples": [["3 3 1 3\n1 2 2\n1 3 5\n3 2 3", "4"], ["5 10 1 5\n2 1 3\n3 1 7\n4 2 4\n5 3 9\n5 1 7\n2 3 2\n5 4 6\n1 4 10\n5 2 5\n3 4 10", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "洛谷原创", "O2优化", "记忆化搜索"], "title": "『MGOI』Simple Round I | C. 魔法禁林", "background": "> 战斗的意义是为了生存，在这个竞争激烈的世界里，只有不断变强才能得以生存。——殿堂魔法士 S", "description": "开学的第一天，小 M 迫不及待地计划着前往神秘的禁林。\n\n小 M 拥有两个重要的属性，魔力值和生命值。非常特别的是，初始时，这两个值可以由小 M **任意决定**。\n\n禁林可以看作一张 $n$ 个点 $m$ 条边的无向简单连通图。小 M 将在禁林里面行走，从起点 $s$ 走到 $t$。\n\n每经过一条边，小 M 的**魔力值**都会减去 1。同时，每条边上有一个具有攻击力属性的魔兽，小 M 要与之战斗。若小 M 经过这条边之前的魔力值为 $k$，这条边上魔兽的攻击力为 $w$，那么经过这条边时发生的战斗将会消耗 $\\left\\lfloor \\dfrac{w}{k} \\right\\rfloor$ 的**生命值**。魔兽不会被打败，因此**多次经过同一条边，每次都会发生战斗**。\n\n**小 M 需要保证，当他的魔力值消耗完时，他的生命值为 0，且此时走到 $t$ 点。**\n\n你需要求出小 M 初始时需要的最小生命值。", "inputFormat": "第一行四个整数 $n,m,s,t$。\n\n接下来 $m$ 行，每行三个整数 $u,v,w$，表示编号为 $u\n,v$ 的点之间有一条边，边上魔兽的攻击力为 $w$。", "outputFormat": "一行一个整数，表示小 M 初始时需要的最小生命值。", "hint": "**【样例 1 解释】**\n\n初始时，小 M 选择魔力值为 $2$，生命值为 $4$。\n\n- $1\\rightarrow2$：魔力值剩余 $1$，生命值剩余 $4 - \\left\\lfloor \\frac{2}{2} \\right\\rfloor=3$。\n- $2\\rightarrow3$：魔力值剩余 $0$，生命值剩余 $3 - \\left\\lfloor \\frac{3}{1} \\right\\rfloor=0$。\n\n可以证明 $4$ 为小 M 初始时需要的最小生命值。\n\n**【数据范围】** \n\n**本题采用 Subtask 捆绑测试。**\n\n对于所有数据，$1 \\le n \\le 20000$，$1 \\le m \\le 40000$，$1\\le s,t,u,v\\le n$，$s\\ne t$，图为无向简单连通图，$0\\le w\\le 100$。\n\n| Subtask | $n$ | $m$ | $w\\le$ | 分值 |\n| :------------: | :----------: | :----------: | :-----------: | :----------------:|\n| $1$ | $5$ | $10$ | $10$ | $11$ |\n| $2$ | $2000$ | $4000$ | $10$ | $27$ |\n| $3$ | $20000$ | $40000$ | $1$ | $19$ |\n| $4$ | $20000$ | $40000$ | $100$ | $43$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MGOI』Simple Round I | C. 魔法禁林", "background": "> 战斗的意义是为了生存，在这个竞争激烈的世界里，只有不断变强才能得以生存。——殿堂魔法士 S", "description": "开学的第一天，小 M 迫不及待地计划着前往神秘的禁林。\n\n小 M 拥有两个重要的属性，魔力值和生命值。非常特别的是，初始时，这两个值可以由小 M **任意决定**。\n\n禁林可以看作一张 $n$ 个点 $m$ 条边的无向简单连通图。小 M 将在禁林里面行走，从起点 $s$ 走到 $t$。\n\n每经过一条边，小 M 的**魔力值**都会减去 1。同时，每条边上有一个具有攻击力属性的魔兽，小 M 要与之战斗。若小 M 经过这条边之前的魔力值为 $k$，这条边上魔兽的攻击力为 $w$，那么经过这条边时发生的战斗将会消耗 $\\left\\lfloor \\dfrac{w}{k} \\right\\rfloor$ 的**生命值**。魔兽不会被打败，因此**多次经过同一条边，每次都会发生战斗**。\n\n**小 M 需要保证，当他的魔力值消耗完时，他的生命值为 0，且此时走到 $t$ 点。**\n\n你需要求出小 M 初始时需要的最小生命值。", "inputFormat": "第一行四个整数 $n,m,s,t$。\n\n接下来 $m$ 行，每行三个整数 $u,v,w$，表示编号为 $u\n,v$ 的点之间有一条边，边上魔兽的攻击力为 $w$。", "outputFormat": "一行一个整数，表示小 M 初始时需要的最小生命值。", "hint": "**【样例 1 解释】**\n\n初始时，小 M 选择魔力值为 $2$，生命值为 $4$。\n\n- $1\\rightarrow2$：魔力值剩余 $1$，生命值剩余 $4 - \\left\\lfloor \\frac{2}{2} \\right\\rfloor=3$。\n- $2\\rightarrow3$：魔力值剩余 $0$，生命值剩余 $3 - \\left\\lfloor \\frac{3}{1} \\right\\rfloor=0$。\n\n可以证明 $4$ 为小 M 初始时需要的最小生命值。\n\n**【数据范围】** \n\n**本题采用 Subtask 捆绑测试。**\n\n对于所有数据，$1 \\le n \\le 20000$，$1 \\le m \\le 40000$，$1\\le s,t,u,v\\le n$，$s\\ne t$，图为无向简单连通图，$0\\le w\\le 100$。\n\n| Subtask | $n$ | $m$ | $w\\le$ | 分值 |\n| :------------: | :----------: | :----------: | :-----------: | :----------------:|\n| $1$ | $5$ | $10$ | $10$ | $11$ |\n| $2$ | $2000$ | $4000$ | $10$ | $27$ |\n| $3$ | $20000$ | $40000$ | $1$ | $19$ |\n| $4$ | $20000$ | $40000$ | $100$ | $43$ |", "locale": "zh-CN"}}}
{"pid": "P9505", "type": "P", "difficulty": 4, "samples": [["5 2\n3 0 1 4 2", "7"], ["10 3\n2 0 1 5 8 3 4 9 6 7", "53"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "洛谷原创", "O2优化"], "title": "『MGOI』Simple Round I | D. 魔法环", "background": "> 最好的武器不一定最适合，最适合的武器才最好。——\n殿堂魔法士 W", "description": "小 M 面临着激发自己魂器——魔法环的任务。\n\n魔法环上有 $n$ 个节点，每个节点上都有一个魔法精灵，每个魔法精灵都有一个固定的**魔供值**，这些魔供值形成一个 $0 \\sim n-1$ 的排列。\n\n小 M 可以选择激活或不激活一个魔法精灵，但为了激发魔法环，必须**至少**激活 $k(\\ge 2)$ 个魔法精灵。\n\n每个魔法精灵无论是否激活都会产生**附魔值**：\n\n- 对于一个被激活的魔法精灵，它产生的附魔值为它的魔供值的**平方**。\n- 对于一个未被激活的魔法精灵，它会在环上朝左右看，分别看向两边最近的被激活的魔法精灵。它会选择其中魔供值较大的一个作为「目标精灵」，产生的附魔值为这个「目标精灵」的魔供值与**看向这个「目标精灵」时视线经过的距离**的**乘积**。\n\n作为新手，小 M 希望在激活魔法环的前提下，使得所有魔法精灵的附魔值之和最小，从而更好地控制魔法环的能量。", "inputFormat": "第一行两个整数 $n,k$。\n\n第二行 $n$ 个整数，表示每个节点上魔法精灵的魔供值。", "outputFormat": "一行一个整数，表示最小附魔值之和。", "hint": "**【样例 1 解释】**\n\n激活魔供值为 $0$ 和 $1$ 的魔法精灵。\n\n- 魔供值为 $3$ 的魔法精灵，选择魔供值为 $1$ 的魔法精灵，产生的附魔值为 $1 \\times 3 = 3$。\n- 魔供值为 $0$ 的魔法精灵被激活，产生的附魔值为 $0^2=0$。\n- 魔供值为 $1$ 的魔法精灵被激活，产生的附魔值为 $1^2=1$。\n- 魔供值为 $4$ 的魔法精灵，选择魔供值为 $1$ 的魔法精灵，产生的附魔值为 $1 \\times 1 = 1$。\n- 魔供值为 $2$ 的魔法精灵，选择魔供值为 $1$ 的魔法精灵，产生的附魔值为 $1 \\times 2 = 2$。\n\n总共产生的附魔值为 $7$。\n  \n**【数据范围】** \n\n**本题采用 Subtask 捆绑测试。**\n\n对于所有数据，$2\\le k \\le n \\le 3000$，$k \\le 100$，每个节点上魔法精灵的魔供值形成一个 $0\\sim n-1$ 的排列。 \n\n| Subtask | $n$ | $k\\le$ | 分值 |  \n| :------------: | :----------: | :----------:|:----------------:|\n| $1$ | $10$ | $10$ | $13$ |\n| $2$ | $100$ | $100$ | $17$ | \n| $3$ | $300$ | $100$ | $21$ | \n| $4$ | $1000$ | $100$ | $23$ | \n| $5$ | $3000$ | $100$ | $26$ | ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MGOI』Simple Round I | D. 魔法环", "background": "> 最好的武器不一定最适合，最适合的武器才最好。——\n殿堂魔法士 W", "description": "小 M 面临着激发自己魂器——魔法环的任务。\n\n魔法环上有 $n$ 个节点，每个节点上都有一个魔法精灵，每个魔法精灵都有一个固定的**魔供值**，这些魔供值形成一个 $0 \\sim n-1$ 的排列。\n\n小 M 可以选择激活或不激活一个魔法精灵，但为了激发魔法环，必须**至少**激活 $k(\\ge 2)$ 个魔法精灵。\n\n每个魔法精灵无论是否激活都会产生**附魔值**：\n\n- 对于一个被激活的魔法精灵，它产生的附魔值为它的魔供值的**平方**。\n- 对于一个未被激活的魔法精灵，它会在环上朝左右看，分别看向两边最近的被激活的魔法精灵。它会选择其中魔供值较大的一个作为「目标精灵」，产生的附魔值为这个「目标精灵」的魔供值与**看向这个「目标精灵」时视线经过的距离**的**乘积**。\n\n作为新手，小 M 希望在激活魔法环的前提下，使得所有魔法精灵的附魔值之和最小，从而更好地控制魔法环的能量。", "inputFormat": "第一行两个整数 $n,k$。\n\n第二行 $n$ 个整数，表示每个节点上魔法精灵的魔供值。", "outputFormat": "一行一个整数，表示最小附魔值之和。", "hint": "**【样例 1 解释】**\n\n激活魔供值为 $0$ 和 $1$ 的魔法精灵。\n\n- 魔供值为 $3$ 的魔法精灵，选择魔供值为 $1$ 的魔法精灵，产生的附魔值为 $1 \\times 3 = 3$。\n- 魔供值为 $0$ 的魔法精灵被激活，产生的附魔值为 $0^2=0$。\n- 魔供值为 $1$ 的魔法精灵被激活，产生的附魔值为 $1^2=1$。\n- 魔供值为 $4$ 的魔法精灵，选择魔供值为 $1$ 的魔法精灵，产生的附魔值为 $1 \\times 1 = 1$。\n- 魔供值为 $2$ 的魔法精灵，选择魔供值为 $1$ 的魔法精灵，产生的附魔值为 $1 \\times 2 = 2$。\n\n总共产生的附魔值为 $7$。\n  \n**【数据范围】** \n\n**本题采用 Subtask 捆绑测试。**\n\n对于所有数据，$2\\le k \\le n \\le 3000$，$k \\le 100$，每个节点上魔法精灵的魔供值形成一个 $0\\sim n-1$ 的排列。 \n\n| Subtask | $n$ | $k\\le$ | 分值 |  \n| :------------: | :----------: | :----------:|:----------------:|\n| $1$ | $10$ | $10$ | $13$ |\n| $2$ | $100$ | $100$ | $17$ | \n| $3$ | $300$ | $100$ | $21$ | \n| $4$ | $1000$ | $100$ | $23$ | \n| $5$ | $3000$ | $100$ | $26$ | ", "locale": "zh-CN"}}}
{"pid": "P9506", "type": "P", "difficulty": 4, "samples": [], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2018", "交互题", "O2优化", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2018] Homecoming", "background": "翻译自 BalkanOI 2018 Day1 T2「Homecoming」；由于洛谷远慢于 loj，因此将时间限制从 300ms 调整至 500ms。", "description": "有 $N$ 门课程，分别编号为 $0$ 到 $N-1$。如果你 pass 了课程 $i$，你可以拿到 $A _ i$ 美刀。  \n有 $N$ 本教材，分别编号为 $0$ 到 $N-1$。$i$ 号教材的价格为 $B _ i$ 美刀。  \n如果你要 pass 课程 $i$，你需要购买编号为 $i, (i+1) \\bmod N, (i+2) \\bmod N, \\cdots, (i+K-1) \\bmod N$ 的课本。$K$ 为给定的常数。  \n你的目的是赚钱而非 pass 所有课程。请求出你最多能赚多少美刀。\n\n## 交互过程\n\n本题只支持 C++ 语言使用函数交互测评。**选手代码不需要也不能包含 `homecoming.h`，也不需要实现 `main` 函数。**\n\n选手程序需要实现如下函数：\n\n```\nlong long int solve(int N, int K, int *A, int *B);\n```\n\n在一次运行中这个函数可能会被调用多次。\n\n\n## 样例\n\n调用\n\n```\nsolve(3, 2,\n[40, 80, 100],\n[140, 0, 20])\n```\n\n的返回值为 $60$。\n\n", "inputFormat": "见「交互过程」。", "outputFormat": "见「交互过程」。", "hint": "### 数据范围及限制\n\n令所有对 `solve` 函数的调用中 $N$ 的总和为 $S_N$，$NK$ 的总和为 $S_{NK}$。那么：\n\n- $1\\le K\\le N\\le 2\\times 10^6$\n- $1\\le S_N\\le 2\\times 10^6$\n- $0\\le A_i,B_i\\le 10^9$\n\n详细子任务及附加限制如下表所示。\n\n| 子任务编号 | 附加限制 | 分值 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1\\le S_N\\le 500$ | $13$ |\n| $2$ | $1\\le S_N\\le 5000$ | $18$ |\n| $3$ | $1\\le S_{NK}\\le 2\\times 10^6$ | $31$ |\n| $4$ | 无附加限制 | $38$ |\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2018] Homecoming", "background": "翻译自 BalkanOI 2018 Day1 T2「Homecoming」；由于洛谷远慢于 loj，因此将时间限制从 300ms 调整至 500ms。", "description": "有 $N$ 门课程，分别编号为 $0$ 到 $N-1$。如果你 pass 了课程 $i$，你可以拿到 $A _ i$ 美刀。  \n有 $N$ 本教材，分别编号为 $0$ 到 $N-1$。$i$ 号教材的价格为 $B _ i$ 美刀。  \n如果你要 pass 课程 $i$，你需要购买编号为 $i, (i+1) \\bmod N, (i+2) \\bmod N, \\cdots, (i+K-1) \\bmod N$ 的课本。$K$ 为给定的常数。  \n你的目的是赚钱而非 pass 所有课程。请求出你最多能赚多少美刀。\n\n## 交互过程\n\n本题只支持 C++ 语言使用函数交互测评。**选手代码不需要也不能包含 `homecoming.h`，也不需要实现 `main` 函数。**\n\n选手程序需要实现如下函数：\n\n```\nlong long int solve(int N, int K, int *A, int *B);\n```\n\n在一次运行中这个函数可能会被调用多次。\n\n\n## 样例\n\n调用\n\n```\nsolve(3, 2,\n[40, 80, 100],\n[140, 0, 20])\n```\n\n的返回值为 $60$。\n\n", "inputFormat": "见「交互过程」。", "outputFormat": "见「交互过程」。", "hint": "### 数据范围及限制\n\n令所有对 `solve` 函数的调用中 $N$ 的总和为 $S_N$，$NK$ 的总和为 $S_{NK}$。那么：\n\n- $1\\le K\\le N\\le 2\\times 10^6$\n- $1\\le S_N\\le 2\\times 10^6$\n- $0\\le A_i,B_i\\le 10^9$\n\n详细子任务及附加限制如下表所示。\n\n| 子任务编号 | 附加限制 | 分值 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1\\le S_N\\le 500$ | $13$ |\n| $2$ | $1\\le S_N\\le 5000$ | $18$ |\n| $3$ | $1\\le S_{NK}\\le 2\\times 10^6$ | $31$ |\n| $4$ | 无附加限制 | $38$ |\n\n\n", "locale": "zh-CN"}}}
{"pid": "P9507", "type": "P", "difficulty": 6, "samples": [], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "交互题", "Special Judge", "栈", "构造", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2018] Popa", "background": "翻译自 BalkanOI 2018 Day2 T2「Popa」\n\n> *\"He's an outlaw and he's famous*  \n> *Andrii Popa the courageous.*  \n> *Day and night he rides,*  \n> *He takes his tribute from the main road*  \n> *And everywhere in the country*  \n> *The thief catchers are running away as fast as they can\"*\n> \n> *\\- [\"Andrii Popa\", Phoenix](https://music.163.com/song?id=508736536)*", "description": "Ghiță 有一个下标从 $0$ 开始的正整数序列 $S$。因为他是喀尔巴阡的国王，所以他想要构造一个节点编号为 $0,1,\\ldots ,N-1$ 的二叉树，满足：\n\n- 树的中序遍历按节点编号升序排列。二叉树的中序遍历由以根的左子节点（如果存在）为根形成的子树的中序遍历，根的节点编号和以根的右子节点（如果存在）为根形成的子树的中序遍历顺次连接组成。  \n- 如果 $x$ 是 $y$ 节点的父亲，那么 $S_x$ 整除 $S_y$。\n\n二叉树是一种树形结构，每个节点最多有两个子节点，分别称为左子节点和右子节点。\n\n不幸的是，著名的亡命之徒 Andrii Popa 偷走了序列 $S$，Ghiță 不能直接获取到。但对于任意两个连续的子序列 $[a,b]$ 和 $[c,d]$，他可以使用最先进的技术（他的手机）求出 $\\gcd[a,b]$ 是否等于 $\\gcd [c,d]$，其中 $\\gcd[x,y]$ 指 $S_x,S_{x+1},S_{x+2},\\ldots ,S_y$ 的最大公因数。不幸的是，这项技术十分昂贵——如果 Ghiță 使用超过 $Q$ 次，他将会支付一大笔罚金。请帮他在使用这项技术最多 $Q$ 次的情况下构建出他想要的树。保证这是可能的。任何合法的构建方案都可以被接受。\n\n### 交互\n\n本题只支持 C++ 语言使用函数交互。选手代码并不需要也不能包含 `popa.h`。\n\n选手需实现如下函数：\n\n```cpp\nint solve(int N, int* Left, int* Right);\n```\n\n函数需返回树的根节点，并且将 `Left[i]` 和 `Right[i]` 分别赋值为 $i$ 的左子节点和右子节点。如果节点 $i$ 没有左子节点，则 `Left[i]` 应被赋为 $-1$，如果节点 $i$ 没有右子节点，则 `Right[i]` 应被赋为 $-1$。`Left` 和 `Right` 分别指向两个空间已被分配好且长度恰好为 $N$ 的数组。\n\n函数 `solve` 在一次运行中会被调用最多 $5$ 次。我们建议谨慎使用全局变量。\n\n选手可以调用如下函数（注意，选手须在代码中声明此函数）：\n\n```cpp\nint query(int a, int b, int c, int d);\n```\n\n这个函数当且仅当 $\\gcd[a,b]=\\gcd[c,d]$ 时返回 $1$，其中 $0\\le a\\le b<n,0\\le c\\le d<N$，否则返回 $0$。\n\n\n### 样例\n\n例如 $S=[12, 4, 16, 2, 2, 20]$，一组交互过程如下：\n\n| 调用 `solve` | 调用 `query` | 调用 `solve` 之后 |\n| :-----------: | :-----------: | :-----------: |\n| `solve(6, Left, Right)` |  |  |\n|  | `query(0, 1, 3, 5)` 返回 $0$ |  |\n|  | `query(4, 5, 1, 3)` 返回 $1$ |  |\n|  |  | `solve` 返回值为 $3$；`Left` 指向 $[-1, 0, -1, 1, -1, -1]$；`Right` 指向 $[-1, 2, -1, 4, 5, -1]$ |\n\n样例中，Ghiță 国王想要的树形态如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y5whph6a.png)\n", "inputFormat": "见「交互」。\n\n", "outputFormat": "见「交互」。\n\n", "hint": "### 数据范围\n\n| 子任务编号 | 限制 | 分值 |\n| :----------: | :----------: | :----------: |\n| $1$ | $N=100,Q=10^4$ | $37$ |\n| $2$ | $N=10^3,Q=2\\times 10^4$ | $24$ |\n| $3$ | $N=10^3,Q=2\\times 10^3$ | $39$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2018] Popa", "background": "翻译自 BalkanOI 2018 Day2 T2「Popa」\n\n> *\"He's an outlaw and he's famous*  \n> *Andrii Popa the courageous.*  \n> *Day and night he rides,*  \n> *He takes his tribute from the main road*  \n> *And everywhere in the country*  \n> *The thief catchers are running away as fast as they can\"*\n> \n> *\\- [\"Andrii Popa\", Phoenix](https://music.163.com/song?id=508736536)*", "description": "Ghiță 有一个下标从 $0$ 开始的正整数序列 $S$。因为他是喀尔巴阡的国王，所以他想要构造一个节点编号为 $0,1,\\ldots ,N-1$ 的二叉树，满足：\n\n- 树的中序遍历按节点编号升序排列。二叉树的中序遍历由以根的左子节点（如果存在）为根形成的子树的中序遍历，根的节点编号和以根的右子节点（如果存在）为根形成的子树的中序遍历顺次连接组成。  \n- 如果 $x$ 是 $y$ 节点的父亲，那么 $S_x$ 整除 $S_y$。\n\n二叉树是一种树形结构，每个节点最多有两个子节点，分别称为左子节点和右子节点。\n\n不幸的是，著名的亡命之徒 Andrii Popa 偷走了序列 $S$，Ghiță 不能直接获取到。但对于任意两个连续的子序列 $[a,b]$ 和 $[c,d]$，他可以使用最先进的技术（他的手机）求出 $\\gcd[a,b]$ 是否等于 $\\gcd [c,d]$，其中 $\\gcd[x,y]$ 指 $S_x,S_{x+1},S_{x+2},\\ldots ,S_y$ 的最大公因数。不幸的是，这项技术十分昂贵——如果 Ghiță 使用超过 $Q$ 次，他将会支付一大笔罚金。请帮他在使用这项技术最多 $Q$ 次的情况下构建出他想要的树。保证这是可能的。任何合法的构建方案都可以被接受。\n\n### 交互\n\n本题只支持 C++ 语言使用函数交互。选手代码并不需要也不能包含 `popa.h`。\n\n选手需实现如下函数：\n\n```cpp\nint solve(int N, int* Left, int* Right);\n```\n\n函数需返回树的根节点，并且将 `Left[i]` 和 `Right[i]` 分别赋值为 $i$ 的左子节点和右子节点。如果节点 $i$ 没有左子节点，则 `Left[i]` 应被赋为 $-1$，如果节点 $i$ 没有右子节点，则 `Right[i]` 应被赋为 $-1$。`Left` 和 `Right` 分别指向两个空间已被分配好且长度恰好为 $N$ 的数组。\n\n函数 `solve` 在一次运行中会被调用最多 $5$ 次。我们建议谨慎使用全局变量。\n\n选手可以调用如下函数（注意，选手须在代码中声明此函数）：\n\n```cpp\nint query(int a, int b, int c, int d);\n```\n\n这个函数当且仅当 $\\gcd[a,b]=\\gcd[c,d]$ 时返回 $1$，其中 $0\\le a\\le b<n,0\\le c\\le d<N$，否则返回 $0$。\n\n\n### 样例\n\n例如 $S=[12, 4, 16, 2, 2, 20]$，一组交互过程如下：\n\n| 调用 `solve` | 调用 `query` | 调用 `solve` 之后 |\n| :-----------: | :-----------: | :-----------: |\n| `solve(6, Left, Right)` |  |  |\n|  | `query(0, 1, 3, 5)` 返回 $0$ |  |\n|  | `query(4, 5, 1, 3)` 返回 $1$ |  |\n|  |  | `solve` 返回值为 $3$；`Left` 指向 $[-1, 0, -1, 1, -1, -1]$；`Right` 指向 $[-1, 2, -1, 4, 5, -1]$ |\n\n样例中，Ghiță 国王想要的树形态如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y5whph6a.png)\n", "inputFormat": "见「交互」。\n\n", "outputFormat": "见「交互」。\n\n", "hint": "### 数据范围\n\n| 子任务编号 | 限制 | 分值 |\n| :----------: | :----------: | :----------: |\n| $1$ | $N=100,Q=10^4$ | $37$ |\n| $2$ | $N=10^3,Q=2\\times 10^4$ | $24$ |\n| $3$ | $N=10^3,Q=2\\times 10^3$ | $39$ |\n", "locale": "zh-CN"}}}
{"pid": "P9508", "type": "P", "difficulty": 2, "samples": [["3", "1 1 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化", "构造"], "title": "『STA - R3』存在", "background": "", "description": "构造一个长度为 $n$ 的序列，满足对于任意长度不小于 2 的子区间存在主元素。在此基础上，要求序列元素的种类数最大。其中序列的主元素定义为出现次数不小于序列长度的一半的数。\n\n你构造的数列中每个元素必须是 $0$ 到 $10^9$ 之间的整数。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行 $n$ 个整数，表示你构造出的序列。如果有多种答案，输出任意一种即可。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 1 (10pts)：$n\\le 5$。\n- Subtask 2 (40pts)：$n$ 是 $3$ 的倍数。\n- Subtask 3 (50pts)：无特殊限制。\n\n对于全部数据，$1\\le n\\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R3』存在", "background": "", "description": "构造一个长度为 $n$ 的序列，满足对于任意长度不小于 2 的子区间存在主元素。在此基础上，要求序列元素的种类数最大。其中序列的主元素定义为出现次数不小于序列长度的一半的数。\n\n你构造的数列中每个元素必须是 $0$ 到 $10^9$ 之间的整数。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行 $n$ 个整数，表示你构造出的序列。如果有多种答案，输出任意一种即可。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 1 (10pts)：$n\\le 5$。\n- Subtask 2 (40pts)：$n$ 是 $3$ 的倍数。\n- Subtask 3 (50pts)：无特殊限制。\n\n对于全部数据，$1\\le n\\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P9509", "type": "P", "difficulty": 4, "samples": [["4\n5\n1 1 1 1 1\n5\n1 2 3 4 5\n5\n1 1 1 1 6\n5\n-1 0 1 0 1", "Yes\nYes\nNo\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "O2优化", "背包 DP", "动态规划优化", "随机化", "bitset"], "title": "『STA - R3』Aulvwc", "background": "统计学是一门古老而迷人的学科。\n\n传说早在若干年前，一位名为惠普的神灵来到地球，发现了人类——另一种有智慧的物种……\n\n**已加入 Hack 数据，位于 Subtask 5，不计分。**", "description": "定义一个序列 $\\{a_n\\}$ 是分部平均的，当且仅当存在一个 $\\{1,2,\\cdots,n\\}$ 的划分 $S_1,S_2,\\cdots,S_k$（其中 $k>1$），满足对于每个整数 $1\\le i\\le k$，序列 $\\{a\\}$ 中以 $S_i$ 为下标的元素之平均数都是相等的**整数**。\n\n现在，给定序列 $\\{a_n\\}$，问它是否是分部平均的。\n\n如果你对于一些定义不很清楚，可以查阅最后的「提示」部分。\n\n", "inputFormat": "第一行，一个正整数 $q$，表示询问组数。\n\n对于每组询问，第一行一个正整数 $n$，描述序列长度。第二行 $n$ 个整数，表示序列 $\\{a_n\\}$。", "outputFormat": "$q$ 行，对于每组询问，如果序列是分部平均的，则输出 `Yes`，否则输出 `No`。", "hint": "### 提示\n一个集合 $S$ 的划分定义为一组集合 $U_1,U_2,\\cdots,U_k$，满足：\n- 对于所有 $i\\neq j$，有 $U_i\\cap U_j=\\varnothing$。\n- $U_1\\cup U_2\\cup\\cdots\\cup U_k=S$。\n\n一个序列 $\\{x_n\\}$ 的平均数定义为：\n$$\\bar x=\\dfrac{x_1+x_2+\\cdots+x_n}{n}=\\dfrac 1n\\sum_{i=1}^nx_i$$\n### 样例解释\n第一组数据的一种划分方案：$\\{1\\},\\{2\\},\\{3\\},\\{4\\},\\{5\\}$。\n\n第二组数据的一种划分方案：$\\{1,5\\},\\{2,4\\},\\{3\\}$。\n\n注意：划分方案所提供的集合是下标集合。\n\n### 数据范围\n\n**本题采用捆绑测试及子任务依赖。**\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n}\\le & \\textbf{分值} & \\textbf{特殊性质}&\\textbf{依赖子任务}\\\\\\hline\n\\textsf{1} & 10 & 5 & \\\\\\hline\n\\textsf{2} & 10^3 & 20 & \\sum a_i=0 \\\\\\hline\n\\textsf{3} & 100 & 25 & & \\sf1\\\\\\hline\n\\textsf{4} & 10^3 & 50 & & \\sf1\\texttt{,}\\ 3\\\\\\hline\n\\end{array}\n$$\n\n对于全部数据，$1\\le q\\le 10$，$2\\le n\\le 10^3$，$|a_i|\\le 5\\times10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R3』Aulvwc", "background": "统计学是一门古老而迷人的学科。\n\n传说早在若干年前，一位名为惠普的神灵来到地球，发现了人类——另一种有智慧的物种……\n\n**已加入 Hack 数据，位于 Subtask 5，不计分。**", "description": "定义一个序列 $\\{a_n\\}$ 是分部平均的，当且仅当存在一个 $\\{1,2,\\cdots,n\\}$ 的划分 $S_1,S_2,\\cdots,S_k$（其中 $k>1$），满足对于每个整数 $1\\le i\\le k$，序列 $\\{a\\}$ 中以 $S_i$ 为下标的元素之平均数都是相等的**整数**。\n\n现在，给定序列 $\\{a_n\\}$，问它是否是分部平均的。\n\n如果你对于一些定义不很清楚，可以查阅最后的「提示」部分。\n\n", "inputFormat": "第一行，一个正整数 $q$，表示询问组数。\n\n对于每组询问，第一行一个正整数 $n$，描述序列长度。第二行 $n$ 个整数，表示序列 $\\{a_n\\}$。", "outputFormat": "$q$ 行，对于每组询问，如果序列是分部平均的，则输出 `Yes`，否则输出 `No`。", "hint": "### 提示\n一个集合 $S$ 的划分定义为一组集合 $U_1,U_2,\\cdots,U_k$，满足：\n- 对于所有 $i\\neq j$，有 $U_i\\cap U_j=\\varnothing$。\n- $U_1\\cup U_2\\cup\\cdots\\cup U_k=S$。\n\n一个序列 $\\{x_n\\}$ 的平均数定义为：\n$$\\bar x=\\dfrac{x_1+x_2+\\cdots+x_n}{n}=\\dfrac 1n\\sum_{i=1}^nx_i$$\n### 样例解释\n第一组数据的一种划分方案：$\\{1\\},\\{2\\},\\{3\\},\\{4\\},\\{5\\}$。\n\n第二组数据的一种划分方案：$\\{1,5\\},\\{2,4\\},\\{3\\}$。\n\n注意：划分方案所提供的集合是下标集合。\n\n### 数据范围\n\n**本题采用捆绑测试及子任务依赖。**\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n}\\le & \\textbf{分值} & \\textbf{特殊性质}&\\textbf{依赖子任务}\\\\\\hline\n\\textsf{1} & 10 & 5 & \\\\\\hline\n\\textsf{2} & 10^3 & 20 & \\sum a_i=0 \\\\\\hline\n\\textsf{3} & 100 & 25 & & \\sf1\\\\\\hline\n\\textsf{4} & 10^3 & 50 & & \\sf1\\texttt{,}\\ 3\\\\\\hline\n\\end{array}\n$$\n\n对于全部数据，$1\\le q\\le 10$，$2\\le n\\le 10^3$，$|a_i|\\le 5\\times10^3$。", "locale": "zh-CN"}}}
{"pid": "P9510", "type": "P", "difficulty": 6, "samples": [["3\n2 100\n3 100\n4 100", "4\n18\n60"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "O2优化", "矩阵加速", "Fibonacci 数列"], "title": "『STA - R3』高维立方体", "background": "", "description": "如下定义斐波那契数列：\n$$\\operatorname{fib}(n)=\\begin{cases}1&n\\le 2\\\\\\operatorname{fib}(n-1)+\\operatorname{fib}(n-2)&n>2\\end{cases}$$\n\n现在我们定义一个函数（注意在 $n<1$ 时这个函数的值是 $0$）：\n\n$$f(n)=\\sum_{i=1}^n\\operatorname{fib}^2(i)$$\n\n由于求斐波那契数列的前缀和太简单了，你需要求出：\n$$\\sum_{i=1}^n\\operatorname{fib}(i)\\cdot(f(i-2)+\\operatorname{fib}^2(i)+\\operatorname{fib}(i))$$\n的值，答案对输入的 $p$ 取模。\n\n注：$\\operatorname{fib}^2(x)$ 表示 $\\operatorname{fib}(x)$ 的平方。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据的组数。\n\n对于每组数据，一行两个整数 $n,p$。", "outputFormat": "对于每组数据，输出一行一个整数，表示答案对 $p$ 取模后的结果。", "hint": "样例解释：\n\n对于第一组数据，$1\\times(0+1^2+1)+1\\times(0+1^2+1)=4$。\n\n对于第二组数据，$1\\times(0+1^2+1)+1\\times(0+1^2+1)+2\\times(1+2^2+2)=18$。  \n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 points）：$n \\le 10^7$，$p=10^9+7$。\n- Subtask 2（20 points）：$T\\le 10^4$，$n \\le 10^8$，$p=10^9+7$。\n- Subtask 3（5 points）：$p=2$。\n- Subtask 4（15 points）：$p\\le 5$。\n- Subtask 5（30 points）：$T\\le 10^4$，$n \\le 10^8$。\n- Subtask 6（25 points）：无特殊限制。\n\n对于所有数据，$1\\le T\\le 2\\times 10^5$，$1\\le n\\le 10^{18}$，$2\\le p\\le 10^9+7$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R3』高维立方体", "background": "", "description": "如下定义斐波那契数列：\n$$\\operatorname{fib}(n)=\\begin{cases}1&n\\le 2\\\\\\operatorname{fib}(n-1)+\\operatorname{fib}(n-2)&n>2\\end{cases}$$\n\n现在我们定义一个函数（注意在 $n<1$ 时这个函数的值是 $0$）：\n\n$$f(n)=\\sum_{i=1}^n\\operatorname{fib}^2(i)$$\n\n由于求斐波那契数列的前缀和太简单了，你需要求出：\n$$\\sum_{i=1}^n\\operatorname{fib}(i)\\cdot(f(i-2)+\\operatorname{fib}^2(i)+\\operatorname{fib}(i))$$\n的值，答案对输入的 $p$ 取模。\n\n注：$\\operatorname{fib}^2(x)$ 表示 $\\operatorname{fib}(x)$ 的平方。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据的组数。\n\n对于每组数据，一行两个整数 $n,p$。", "outputFormat": "对于每组数据，输出一行一个整数，表示答案对 $p$ 取模后的结果。", "hint": "样例解释：\n\n对于第一组数据，$1\\times(0+1^2+1)+1\\times(0+1^2+1)=4$。\n\n对于第二组数据，$1\\times(0+1^2+1)+1\\times(0+1^2+1)+2\\times(1+2^2+2)=18$。  \n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 points）：$n \\le 10^7$，$p=10^9+7$。\n- Subtask 2（20 points）：$T\\le 10^4$，$n \\le 10^8$，$p=10^9+7$。\n- Subtask 3（5 points）：$p=2$。\n- Subtask 4（15 points）：$p\\le 5$。\n- Subtask 5（30 points）：$T\\le 10^4$，$n \\le 10^8$。\n- Subtask 6（25 points）：无特殊限制。\n\n对于所有数据，$1\\le T\\le 2\\times 10^5$，$1\\le n\\le 10^{18}$，$2\\le p\\le 10^9+7$。\n", "locale": "zh-CN"}}}
{"pid": "P9511", "type": "P", "difficulty": 6, "samples": [["2 3 1\n1 2", "23068672"], ["3 5 2\n2 1 2", "23068666"], ["5 1000000000 1\n1 5 10 3 2", "68769\n"], ["5 1000000000 3\n1 5 10 3 2", "5430204"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数论", "O2优化", "杜教筛"], "title": "『STA - R3』大豆", "background": "大豆 (Soy / Soybean) 非常有前途。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/60aceba1.png)", "description": "对于一个序列 $\\{a\\}$，定义其大豆化 (Soybeanization) 序列 $\\{b\\}$ 由如下操作得到：\n1. 初始 $\\{b\\}$ 和 $\\{a\\}$ 相等。\n2. $n$ 从小到大遍历整个正整数集，对于每个 $n$，进行操作：\n   - $i$ 从小到大遍历整个不小于 2 的正整数集，对于每个 $i$，操作 $b_n\\gets b_n-b_{\\lfloor\\frac ni\\rfloor}$。\n   - 如果 $i>n$，结束过程。\n\n进而，定义一个序列的 $k$-大豆化序列为进行 $k$ 次大豆化操作后得到的序列。\n\n现在给你一个整数序列 $\\{t_n\\}$，将 $\\{t\\}$ 复制无穷遍得到序列 $\\{a\\}$，求 $\\{a\\}$ 的 $k$-大豆化序列的第 $m$ 项。\n\n序列下标从 1 开始。答案可能很大，对 $23068673$（一个质数）取模。", "inputFormat": "第一行，三个正整数 $n,m,k$。\n\n第二行，$n$ 个正整数，描述序列 $\\{t\\}$。", "outputFormat": "一行，表示答案，对 $23068673$ 取模。", "hint": "### 样例解释\n**样例 1 解释**\n\n按如下流程构造序列 $\\{b\\}$：\n- $b_1=a_1=1$。\n- $b_2=a_2-b_{\\lfloor\\frac 22\\rfloor}=a_2-b_1=1$。 \n- $b_3=a_3-b_{\\lfloor\\frac 32\\rfloor}-b_{\\lfloor\\frac 33\\rfloor}=a_3-b_1-b_1=-1$。\n\n从而，答案为 $b_3=-1\\equiv 23068672\\pmod{23068673}$。\n\n**样例 2 解释**\n\n第一次大豆化后的序列前 5 项：$2,\\,-1,\\,-2,\\,-1,\\ -4$。\n\n第二次大豆化后的序列前 5 项：$2,\\,-3,\\,-6,\\,-2,\\,-7$。\n\n所以答案为 $-7\\equiv 23068666\\pmod{23068673}$。\n### 数据范围\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{m}\\le & \\textbf{分值} & \\textbf{特殊性质} \\\\\\hline\n\\textsf{1} & 10^6 & 10 & \\\\\\hline\n\\textsf{2} & 10^9 & 20 & \\\\\\hline\n\\textsf{3} & 10^{10} & 20 & k=1  \\\\\\hline\n\\textsf{4} & 10^{10} & 50 & \\\\\\hline\\hline\n\\end{array}\n$$\n对于全部数据，$1\\le n\\le 10^4$，$1\\le m\\le 10^{10}$，$k\\in\\{1,2,3\\}$，$0\\le a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R3』大豆", "background": "大豆 (Soy / Soybean) 非常有前途。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/60aceba1.png)", "description": "对于一个序列 $\\{a\\}$，定义其大豆化 (Soybeanization) 序列 $\\{b\\}$ 由如下操作得到：\n1. 初始 $\\{b\\}$ 和 $\\{a\\}$ 相等。\n2. $n$ 从小到大遍历整个正整数集，对于每个 $n$，进行操作：\n   - $i$ 从小到大遍历整个不小于 2 的正整数集，对于每个 $i$，操作 $b_n\\gets b_n-b_{\\lfloor\\frac ni\\rfloor}$。\n   - 如果 $i>n$，结束过程。\n\n进而，定义一个序列的 $k$-大豆化序列为进行 $k$ 次大豆化操作后得到的序列。\n\n现在给你一个整数序列 $\\{t_n\\}$，将 $\\{t\\}$ 复制无穷遍得到序列 $\\{a\\}$，求 $\\{a\\}$ 的 $k$-大豆化序列的第 $m$ 项。\n\n序列下标从 1 开始。答案可能很大，对 $23068673$（一个质数）取模。", "inputFormat": "第一行，三个正整数 $n,m,k$。\n\n第二行，$n$ 个正整数，描述序列 $\\{t\\}$。", "outputFormat": "一行，表示答案，对 $23068673$ 取模。", "hint": "### 样例解释\n**样例 1 解释**\n\n按如下流程构造序列 $\\{b\\}$：\n- $b_1=a_1=1$。\n- $b_2=a_2-b_{\\lfloor\\frac 22\\rfloor}=a_2-b_1=1$。 \n- $b_3=a_3-b_{\\lfloor\\frac 32\\rfloor}-b_{\\lfloor\\frac 33\\rfloor}=a_3-b_1-b_1=-1$。\n\n从而，答案为 $b_3=-1\\equiv 23068672\\pmod{23068673}$。\n\n**样例 2 解释**\n\n第一次大豆化后的序列前 5 项：$2,\\,-1,\\,-2,\\,-1,\\ -4$。\n\n第二次大豆化后的序列前 5 项：$2,\\,-3,\\,-6,\\,-2,\\,-7$。\n\n所以答案为 $-7\\equiv 23068666\\pmod{23068673}$。\n### 数据范围\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{m}\\le & \\textbf{分值} & \\textbf{特殊性质} \\\\\\hline\n\\textsf{1} & 10^6 & 10 & \\\\\\hline\n\\textsf{2} & 10^9 & 20 & \\\\\\hline\n\\textsf{3} & 10^{10} & 20 & k=1  \\\\\\hline\n\\textsf{4} & 10^{10} & 50 & \\\\\\hline\\hline\n\\end{array}\n$$\n对于全部数据，$1\\le n\\le 10^4$，$1\\le m\\le 10^{10}$，$k\\in\\{1,2,3\\}$，$0\\le a_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P9512", "type": "P", "difficulty": 7, "samples": [["3\n110", "Accepted: 4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "交互题", "Special Judge", "O2优化", "JOI（日本）"], "title": "[JOI Open 2023] 古代机器 2 / Ancient Machine 2", "background": "**译自 [JOI Open 2023](https://contests.ioi-jp.org/open-2023/index.html) T1 「[古代の機械 2](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/ancient2/2023-open-ancient2-statement.pdf) / [Ancient Machine 2](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/ancient2/2023-open-ancient2-statement-en.pdf)」**\n\n**这是一道交互题。**\n\n**在提交本题前请务必仔细阅读以下内容。**\n\n本题只支持 C++ 语言提交（建议使用 C++14，请不要使用 C++14 (GCC9)）。\n\n由于洛谷特殊的交互机制，在提交本题时，请去掉代码中的 ```#include \"ancient2.h\"``` 语句，并将添加以下语句粘贴到代码最开头：\n\n```cpp\nint Query(int m, std::vector<int> a, std::vector<int> b);\n```", "description": "Bitaro 和 Bibako 是挖掘和调查 JOI 王国废墟的考古学家。在废墟中，Bitaro 发现了一块古老的石板，Bibako 发现了一台古老的机器。\n\n从研究结果中，Bitaro 发现石板上写有一个长为 $N$ 的字符串 $S$。字符串中每个字符要么是 `0`，要么是 `1`。然而，他还不知道字符串 $S$ 中的每个字符是什么。\n\n另一方面，从研究结果中，Bibako 弄清了如何使用机器。为了使用它，我们需要将石板放在机器上，输入一个整数 $m$ 和两个整数序列 $a,b$，然后做一次查询。这里整数 $m$ 和整数序列 $a,b$ 需满足如下条件：\n\n- 整数 $m$ 在 $1$ 和 $1\\ 002$ 之间（包括两端）。\n- 序列 $a$ 和 $b$ 的长度均为 $m$。\n- 序列 $a,b$ 中的元素都是 $0$ 和 $m-1$ 之间的整数（包括两端）。\n\n如果我们把石板放在机器上，输入一个整数 $m$ 和两个整数序列 $a,b$，然后做一次查询，机器会按如下方式操作并显示一个整数。\n\n1. 机器对其**内存区域**置 $0$。\n\n2. 机器进行如下的 $N$ 次操作。第 $i+1$ 次（$0\\le i\\le N-1$）操作按如下方式进行。\n\n   令 $x$ 表示机器内存区域中当前的整数。机器读取字符 $S_i$。这里，$S_i$ 是字符串 $S$ 中的第 $i$ 个字符（下标从 $0$ 开始）。\n\n   - 如果 $S_i$ 是 `0`，机器会将内存区域置为 $a_x$。其中 $a_x$ 是序列 $a$ 中第 $x$ 个元素（下标从 $0$ 开始）。\n   - 如果 $S_i$ 是 `1`，机器会将内存区域置为 $b_x$。其中 $b_x$ 是序列 $b$ 中第 $x$ 个元素（下标从 $0$ 开始）。\n\n3. 这个机器将展示内存区域中最终置为的整数。\n\n使用这个机器，Bitaro 想要确定石板上写的字符串。然而，因为这个机器十分脆弱，查询的次数不能超过 $1\\ 000$。此外，输入机器的整数 $m$ 的最大值需要越小越好。\n\n使用这个机器，写一个程序确定石板上写的字符串。\n\n**【实现细节】**\n\n你需要在程序一开始使用预处理指令 `#include` 引入库 `ancient2.h`。它应当实现如下函数。\n\n- `std::string Solve(int N)`\n\n  这个函数在每组测试数据中仅被调用一次。这个函数需要返回和石板上所写的字符串 $S$ 相同的字符串。\n\n  - 参数 `N` 表示石板上写的字符串 $S$ 的长度 $N$。\n  - 这个函数需要返回一个长度为 $N$ 的字符串。如果字符串长度不为 $N$，你的程序会被判为 **Wrong Answer [1]**。\n  - 返回值中每个字符要么是 `0`，要么是 `1`。如果该条件不满足，你的程序会被判为 **Wrong Answer [2]**。\n  - 返回值应当与石板上写的字符串 $S$ 相同。如果该条件不满足，你的程序会被判为 **Wrong Answer [3]**。\n\n  你的程序可以调用如下函数。\n\n  - `int Query(int m, std::vector<int> a, std::vector<int> b)`\n\n    使用这个函数，你的程序可以做一次查询。\n\n    - 参数 `m` 是输入机器的整数 $m$。\n    - 参数 `a`，`b` 是输入机器的两个整数序列 $a,b$。\n    - 返回值是当我们把石板放在机器上，并输入上述整数和序列，做一次查询是机器最后显示的整数。\n    - 参数 `m` 应当在 $1$ 和 $1\\ 002$ 之间（包括两端）。如果该条件不满足，你的程序会被判为 **Wrong Answer [4]**。\n    - 序列 `a` 和 `b` 的长度均应等于 $m$。如果该条件不满足，你的程序会被判为 **Wrong Answer [5]**。\n    - 序列 `a` 和 `b` 中元素均应在 $0$ 和 $m-1$ 之间（包括两端）。如果该条件不满足，你的程序会被判为 **Wrong Answer [6]**。\n    - 函数 `Query` 的调用次数不能超过 $1\\ 000$ 次。如果超过 $1\\ 000$ 次，你的程序会被判为 **Wrong Answer [7]**。\n    \n**【注意事项】**\n\n- 你的程序可以实现其它函数供内部使用，或者使用全局变量。\n- 你的程序禁止使用标准输入输出。你的程序禁止通过任何方式与其他文件通信。然而，你的程序可以将调试信息输出到标准错误输出。\n\n**【编译和测试运行】**\n\n你可以在「文件」中的「附加文件」下载样例 grader 来测试你的程序。「附加文件」中也包含一份你的程序的样例源程序。\n\n样例交互器是文件 `grader.cpp`。为了测试你的程序，你需要将 `grader.cpp`，`ancient2.cpp` 和 `ancient2.h` 三个文件放在同一文件夹下，并且执行如下命令编译你的程序。你也可以运行 `compile.sh` 来编译你的程序。\n\n```shell\ng++ -std=gnu++17 -O2 -o grader grader.cpp ancient2.cpp\n```\n\n当编译成功时，会生成一个可执行文件 `grader`。\n\n请注意，实际的交互器和样例不同。样例交互器会作为单进程运行，即它会从标准输入中读取输入数据，并输出结果到标准输出。", "inputFormat": "第一行一个整数 $N$。\n\n第二行一个长为 $N$ 的字符串 $S$。", "outputFormat": "样例交互器会输出如下内容到标准输出。\n\n- 如果你的程序被判为正确，它会输出 `Query` 函数中参数 `m` 的最大值，如 `Accepted: 22`。然而，如果你的程序没有调用 `Query` 函数并被判为正确，它会输出 `Accepted: 0`。\n- 如果你的程序被判为任一类的答案错误，样例交互器会输出其类别，如 `Wrong Answer [4]`。\n\n如果程序满足多种答案错误的类别，样例交互器只会输出其中一个。", "hint": "**【样例解释】**\n\n样例函数调用如下。\n\n| 对 `Solve` 的调用 |   返回值   |           对 `Query` 的调用            |    返回值     |\n| :---------------: | :--------: | :------------------------------------: | :-----------: |\n|    `Solve(3)`     |            |                              |               |\n|                   |   | `Query(4, [3, 3, 2, 2], [2, 2, 1, 0])` |      `3`      |\n|          |            |       `Query(2, [0, 1], [1, 0])`       |      `0`      |\n|                   |   |          `Query(1, [0], [0])`          | `0`  |\n|          |            |    `Query(3, [1, 1, 1], [1, 1, 1])`    |      `1`      |\n|                   |  `\"110\"`   |                                        |   |\n\n假设写在石板上的字符串 $S$ 是 `110`。如果我们把石板放在机器上，输入 $(m,a,b)=(4,[3,3,2,2],[2,2,1,0])$ 并做一次查询，机器将按如下方式操作。\n\n1. 机器将内存区域置为 $0$。\n2. 对于第一次操作，因为 $S_0$ 是 `1`，机器会将内存区域置为 $b_0$，即 $2$。\n3. 对于第二次操作，因为 $S_1$ 是 `1`，机器会将内存区域置为 $b_2$，即 $1$。\n4. 对于第三次操作，因为 $S_2$ 是 `0`，机器会将内存区域置为 $a_1$，即 $3$。\n5. 因为最终内存区域被置为的整数是 $3$，所以机器显示 $3$。\n\n注意这组样例输入不满足限制 $N=1\\ 000$。在文件中，`sample-02.txt` 满足这个限制。\n\n**【数据范围】**\n\n对于全部数据，满足：\n\n- $N=1\\ 000$\n- $S$ 是一个长为 $N$ 的字符串\n- $S$ 中的每个字符要么是 `0`，要么是 `1`\n\n对于每组数据，实际的交互器 **不是**适应性的。这意味着交互器在开始时答案就已经确定了。\n\n如果你的程序在任意一组数据上被判为任意一种答案错误，在本题你将获得 $0$ 分。\n\n如果你的程序在所有数据上都被判为正确，你的分数由 $M$ 确定，其中 $M$ 是所有数据的 `Query` 函数中参数 `m` 的最大值。然而，如果你的程序没有调用 `Query` 函数并且被判为正确，你的分数由 $M=0$ 确定。\n\n- 如果 $103\\le M\\le 1\\ 002$，你的得分为 $10+\\lfloor \\frac{(1002-M)^2}{9000}\\rfloor$\n- 如果 $0\\le M\\le 102$，你将获得 $100$ 分。\n\n这里 $\\lfloor x\\rfloor$ 表示不超过 $x$ 的最大整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2023] 古代机器 2 / Ancient Machine 2", "background": "**译自 [JOI Open 2023](https://contests.ioi-jp.org/open-2023/index.html) T1 「[古代の機械 2](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/ancient2/2023-open-ancient2-statement.pdf) / [Ancient Machine 2](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/ancient2/2023-open-ancient2-statement-en.pdf)」**\n\n**这是一道交互题。**\n\n**在提交本题前请务必仔细阅读以下内容。**\n\n本题只支持 C++ 语言提交（建议使用 C++14，请不要使用 C++14 (GCC9)）。\n\n由于洛谷特殊的交互机制，在提交本题时，请去掉代码中的 ```#include \"ancient2.h\"``` 语句，并将添加以下语句粘贴到代码最开头：\n\n```cpp\nint Query(int m, std::vector<int> a, std::vector<int> b);\n```", "description": "Bitaro 和 Bibako 是挖掘和调查 JOI 王国废墟的考古学家。在废墟中，Bitaro 发现了一块古老的石板，Bibako 发现了一台古老的机器。\n\n从研究结果中，Bitaro 发现石板上写有一个长为 $N$ 的字符串 $S$。字符串中每个字符要么是 `0`，要么是 `1`。然而，他还不知道字符串 $S$ 中的每个字符是什么。\n\n另一方面，从研究结果中，Bibako 弄清了如何使用机器。为了使用它，我们需要将石板放在机器上，输入一个整数 $m$ 和两个整数序列 $a,b$，然后做一次查询。这里整数 $m$ 和整数序列 $a,b$ 需满足如下条件：\n\n- 整数 $m$ 在 $1$ 和 $1\\ 002$ 之间（包括两端）。\n- 序列 $a$ 和 $b$ 的长度均为 $m$。\n- 序列 $a,b$ 中的元素都是 $0$ 和 $m-1$ 之间的整数（包括两端）。\n\n如果我们把石板放在机器上，输入一个整数 $m$ 和两个整数序列 $a,b$，然后做一次查询，机器会按如下方式操作并显示一个整数。\n\n1. 机器对其**内存区域**置 $0$。\n\n2. 机器进行如下的 $N$ 次操作。第 $i+1$ 次（$0\\le i\\le N-1$）操作按如下方式进行。\n\n   令 $x$ 表示机器内存区域中当前的整数。机器读取字符 $S_i$。这里，$S_i$ 是字符串 $S$ 中的第 $i$ 个字符（下标从 $0$ 开始）。\n\n   - 如果 $S_i$ 是 `0`，机器会将内存区域置为 $a_x$。其中 $a_x$ 是序列 $a$ 中第 $x$ 个元素（下标从 $0$ 开始）。\n   - 如果 $S_i$ 是 `1`，机器会将内存区域置为 $b_x$。其中 $b_x$ 是序列 $b$ 中第 $x$ 个元素（下标从 $0$ 开始）。\n\n3. 这个机器将展示内存区域中最终置为的整数。\n\n使用这个机器，Bitaro 想要确定石板上写的字符串。然而，因为这个机器十分脆弱，查询的次数不能超过 $1\\ 000$。此外，输入机器的整数 $m$ 的最大值需要越小越好。\n\n使用这个机器，写一个程序确定石板上写的字符串。\n\n**【实现细节】**\n\n你需要在程序一开始使用预处理指令 `#include` 引入库 `ancient2.h`。它应当实现如下函数。\n\n- `std::string Solve(int N)`\n\n  这个函数在每组测试数据中仅被调用一次。这个函数需要返回和石板上所写的字符串 $S$ 相同的字符串。\n\n  - 参数 `N` 表示石板上写的字符串 $S$ 的长度 $N$。\n  - 这个函数需要返回一个长度为 $N$ 的字符串。如果字符串长度不为 $N$，你的程序会被判为 **Wrong Answer [1]**。\n  - 返回值中每个字符要么是 `0`，要么是 `1`。如果该条件不满足，你的程序会被判为 **Wrong Answer [2]**。\n  - 返回值应当与石板上写的字符串 $S$ 相同。如果该条件不满足，你的程序会被判为 **Wrong Answer [3]**。\n\n  你的程序可以调用如下函数。\n\n  - `int Query(int m, std::vector<int> a, std::vector<int> b)`\n\n    使用这个函数，你的程序可以做一次查询。\n\n    - 参数 `m` 是输入机器的整数 $m$。\n    - 参数 `a`，`b` 是输入机器的两个整数序列 $a,b$。\n    - 返回值是当我们把石板放在机器上，并输入上述整数和序列，做一次查询是机器最后显示的整数。\n    - 参数 `m` 应当在 $1$ 和 $1\\ 002$ 之间（包括两端）。如果该条件不满足，你的程序会被判为 **Wrong Answer [4]**。\n    - 序列 `a` 和 `b` 的长度均应等于 $m$。如果该条件不满足，你的程序会被判为 **Wrong Answer [5]**。\n    - 序列 `a` 和 `b` 中元素均应在 $0$ 和 $m-1$ 之间（包括两端）。如果该条件不满足，你的程序会被判为 **Wrong Answer [6]**。\n    - 函数 `Query` 的调用次数不能超过 $1\\ 000$ 次。如果超过 $1\\ 000$ 次，你的程序会被判为 **Wrong Answer [7]**。\n    \n**【注意事项】**\n\n- 你的程序可以实现其它函数供内部使用，或者使用全局变量。\n- 你的程序禁止使用标准输入输出。你的程序禁止通过任何方式与其他文件通信。然而，你的程序可以将调试信息输出到标准错误输出。\n\n**【编译和测试运行】**\n\n你可以在「文件」中的「附加文件」下载样例 grader 来测试你的程序。「附加文件」中也包含一份你的程序的样例源程序。\n\n样例交互器是文件 `grader.cpp`。为了测试你的程序，你需要将 `grader.cpp`，`ancient2.cpp` 和 `ancient2.h` 三个文件放在同一文件夹下，并且执行如下命令编译你的程序。你也可以运行 `compile.sh` 来编译你的程序。\n\n```shell\ng++ -std=gnu++17 -O2 -o grader grader.cpp ancient2.cpp\n```\n\n当编译成功时，会生成一个可执行文件 `grader`。\n\n请注意，实际的交互器和样例不同。样例交互器会作为单进程运行，即它会从标准输入中读取输入数据，并输出结果到标准输出。", "inputFormat": "第一行一个整数 $N$。\n\n第二行一个长为 $N$ 的字符串 $S$。", "outputFormat": "样例交互器会输出如下内容到标准输出。\n\n- 如果你的程序被判为正确，它会输出 `Query` 函数中参数 `m` 的最大值，如 `Accepted: 22`。然而，如果你的程序没有调用 `Query` 函数并被判为正确，它会输出 `Accepted: 0`。\n- 如果你的程序被判为任一类的答案错误，样例交互器会输出其类别，如 `Wrong Answer [4]`。\n\n如果程序满足多种答案错误的类别，样例交互器只会输出其中一个。", "hint": "**【样例解释】**\n\n样例函数调用如下。\n\n| 对 `Solve` 的调用 |   返回值   |           对 `Query` 的调用            |    返回值     |\n| :---------------: | :--------: | :------------------------------------: | :-----------: |\n|    `Solve(3)`     |            |                              |               |\n|                   |   | `Query(4, [3, 3, 2, 2], [2, 2, 1, 0])` |      `3`      |\n|          |            |       `Query(2, [0, 1], [1, 0])`       |      `0`      |\n|                   |   |          `Query(1, [0], [0])`          | `0`  |\n|          |            |    `Query(3, [1, 1, 1], [1, 1, 1])`    |      `1`      |\n|                   |  `\"110\"`   |                                        |   |\n\n假设写在石板上的字符串 $S$ 是 `110`。如果我们把石板放在机器上，输入 $(m,a,b)=(4,[3,3,2,2],[2,2,1,0])$ 并做一次查询，机器将按如下方式操作。\n\n1. 机器将内存区域置为 $0$。\n2. 对于第一次操作，因为 $S_0$ 是 `1`，机器会将内存区域置为 $b_0$，即 $2$。\n3. 对于第二次操作，因为 $S_1$ 是 `1`，机器会将内存区域置为 $b_2$，即 $1$。\n4. 对于第三次操作，因为 $S_2$ 是 `0`，机器会将内存区域置为 $a_1$，即 $3$。\n5. 因为最终内存区域被置为的整数是 $3$，所以机器显示 $3$。\n\n注意这组样例输入不满足限制 $N=1\\ 000$。在文件中，`sample-02.txt` 满足这个限制。\n\n**【数据范围】**\n\n对于全部数据，满足：\n\n- $N=1\\ 000$\n- $S$ 是一个长为 $N$ 的字符串\n- $S$ 中的每个字符要么是 `0`，要么是 `1`\n\n对于每组数据，实际的交互器 **不是**适应性的。这意味着交互器在开始时答案就已经确定了。\n\n如果你的程序在任意一组数据上被判为任意一种答案错误，在本题你将获得 $0$ 分。\n\n如果你的程序在所有数据上都被判为正确，你的分数由 $M$ 确定，其中 $M$ 是所有数据的 `Query` 函数中参数 `m` 的最大值。然而，如果你的程序没有调用 `Query` 函数并且被判为正确，你的分数由 $M=0$ 确定。\n\n- 如果 $103\\le M\\le 1\\ 002$，你的得分为 $10+\\lfloor \\frac{(1002-M)^2}{9000}\\rfloor$\n- 如果 $0\\le M\\le 102$，你将获得 $100$ 分。\n\n这里 $\\lfloor x\\rfloor$ 表示不超过 $x$ 的最大整数。", "locale": "zh-CN"}}}
{"pid": "P9513", "type": "P", "difficulty": 7, "samples": [["2 3\n0 2\n1 0\n0\n1\n2\n", "2\n8\n12\n"], ["3 5\n0 0\n2 2\n5 5\n0\n1\n2\n3\n4\n", "3\n12\n21\n24\n26\n"], ["4 10\n-3 -3\n3 3\n-4 4\n4 -4\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n", "4\n16\n32\n48\n56\n56\n55\n56\n60\n64\n"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2023", "O2优化", "JOI（日本）"], "title": "[JOI Open 2023] 细胞自动机 / Cell Automaton", "background": "**译自 [JOI Open 2023](https://contests.ioi-jp.org/open-2023/index.html) T2 「[セルオートマトン](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/cell/2023-open-cell-statement.pdf) / [Cell Automaton](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/cell/2023-open-cell-statement-en.pdf)」**", "description": "我们有一个充分大的二维网格，网格由从上到下和从左到右的正方形单元格密铺而成。\n\n有一个单元格是坐标原点。令 $(x,y)$ 表示表示从原点向右移动 $x$ 个单元格，再向上移动 $y$ 个单元格所到达的单元格。这里，向左移动 $a$ 个单元格意味着向右移动 $-a$ 个单元格。类似地，向下移动 $a$ 个单元格意味着向上移动 $-a$ 个单元格。\n\n在时刻 $0$，单元格 $(X_1,Y_1),(X_2,Y_2),\\ldots,(X_N,Y_N)$ 是黑色的，其余单元格是白色的。\n\n对于 $t=0,1,2,\\ldots$，根据单元格在 $t$ 时刻的颜色，单元格在 $t+1$ 时刻的颜色按如下方法确定：\n\n- 如果在时刻 $t$ 时单元格是黑色，那么在时刻 $t+1$ 这个单元格变为灰色。\n- 如果在时刻 $t$ 时单元格是灰色，那么在时刻 $t+1$ 这个单元格变为白色。\n- 如果在时刻 $t$ 时单元格是白色，并且与其相邻的四个单元格（即，与其共边的四个单元格）中至少有一个在时刻 $t$ 是黑色的，那么在时刻 $t+1$ 这个单元格变为黑色。否则，它将在时刻 $t+1$ 保持白色。\n\n你有 $Q$ 次查询。对于第 $j$ 个查询，你应该回答在时刻 $T_j$ 时有多少黑色单元格。\n\n给定在时刻 $0$ 时的单元格颜色信息和查询，写一个程序回答询问。", "inputFormat": "第一行两个整数 $N,Q$。\n\n接下来 $N$ 行，每行两个整数 $X_i,Y_i$。\n\n接下来 $Q$ 行，每行一个整数 $T_j$。", "outputFormat": "输出 $Q$ 行，每行一个整数，表示在时刻 $T_j$ 时有多少黑色单元格。", "hint": "**【样例解释 #1】**\n\n下图展示了在时刻 $0$ 时的单元格情况。因为有 $2$ 个黑色单元格，所以第一个询问的回答是 $2$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6mmzh2tq.png)\n\n下图展示了在时刻 $1$ 时的单元格情况。因为有 $8$ 个黑色单元格，所以第二个询问的回答是 $8$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5gw87z0.png)\n\n下图展示了在时刻 $2$ 时的单元格情况。因为有 $12$ 个黑色单元格，所以第三个询问的回答是 $12$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2uavkaeg.png)\n\n这组样例满足子任务 $1,2,6,7$ 的限制。\n\n**【样例解释 #2】**\n\n这组样例满足子任务 $1,2,4,6,7$ 的限制。\n\n**【样例解释 #3】**\n\n这组样例满足子任务 $1,2,6,7$ 的限制。\n\n**【数据范围】**\n\n对于所有数据，满足：\n\n- $1\\le N\\le 10^5$\n- $1\\le Q\\le 5\\times 10^5$\n- $|X_i|,|Y_i|\\le 10^9$\n- $(X_i,Y_i)\\neq (X_j,Y_j)\\ (1\\le i < j\\le N)$\n- $0\\le T_j\\le 10^9$\n- $T_j<T_{j+1}$\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 |               附加限制                | 分值 |\n| :----: | :-----------------------------------: | :--: |\n|  $1$   |     $\\lvert X_i\\rvert ,\\lvert Y_i\\rvert \\le 50,T_j\\le 50$     | $4$  |\n|  $2$   | $\\lvert X_i\\rvert ,\\lvert Y_i\\rvert \\le 1\\ 000,T_j\\le 1\\ 000$ | $12$ |\n|  $3$   |             $X_i=Y_i,Q=1$             | $8$  |\n|  $4$   |               $X_i=Y_i$               | $8$  |\n|  $5$   |           $N\\le 2\\ 000,Q=1$           | $17$ |\n|  $6$   |             $N\\le 2\\ 000$             | $25$ |\n|  $7$   |              无附加限制               | $26$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2023] 细胞自动机 / Cell Automaton", "background": "**译自 [JOI Open 2023](https://contests.ioi-jp.org/open-2023/index.html) T2 「[セルオートマトン](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/cell/2023-open-cell-statement.pdf) / [Cell Automaton](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/cell/2023-open-cell-statement-en.pdf)」**", "description": "我们有一个充分大的二维网格，网格由从上到下和从左到右的正方形单元格密铺而成。\n\n有一个单元格是坐标原点。令 $(x,y)$ 表示表示从原点向右移动 $x$ 个单元格，再向上移动 $y$ 个单元格所到达的单元格。这里，向左移动 $a$ 个单元格意味着向右移动 $-a$ 个单元格。类似地，向下移动 $a$ 个单元格意味着向上移动 $-a$ 个单元格。\n\n在时刻 $0$，单元格 $(X_1,Y_1),(X_2,Y_2),\\ldots,(X_N,Y_N)$ 是黑色的，其余单元格是白色的。\n\n对于 $t=0,1,2,\\ldots$，根据单元格在 $t$ 时刻的颜色，单元格在 $t+1$ 时刻的颜色按如下方法确定：\n\n- 如果在时刻 $t$ 时单元格是黑色，那么在时刻 $t+1$ 这个单元格变为灰色。\n- 如果在时刻 $t$ 时单元格是灰色，那么在时刻 $t+1$ 这个单元格变为白色。\n- 如果在时刻 $t$ 时单元格是白色，并且与其相邻的四个单元格（即，与其共边的四个单元格）中至少有一个在时刻 $t$ 是黑色的，那么在时刻 $t+1$ 这个单元格变为黑色。否则，它将在时刻 $t+1$ 保持白色。\n\n你有 $Q$ 次查询。对于第 $j$ 个查询，你应该回答在时刻 $T_j$ 时有多少黑色单元格。\n\n给定在时刻 $0$ 时的单元格颜色信息和查询，写一个程序回答询问。", "inputFormat": "第一行两个整数 $N,Q$。\n\n接下来 $N$ 行，每行两个整数 $X_i,Y_i$。\n\n接下来 $Q$ 行，每行一个整数 $T_j$。", "outputFormat": "输出 $Q$ 行，每行一个整数，表示在时刻 $T_j$ 时有多少黑色单元格。", "hint": "**【样例解释 #1】**\n\n下图展示了在时刻 $0$ 时的单元格情况。因为有 $2$ 个黑色单元格，所以第一个询问的回答是 $2$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6mmzh2tq.png)\n\n下图展示了在时刻 $1$ 时的单元格情况。因为有 $8$ 个黑色单元格，所以第二个询问的回答是 $8$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5gw87z0.png)\n\n下图展示了在时刻 $2$ 时的单元格情况。因为有 $12$ 个黑色单元格，所以第三个询问的回答是 $12$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2uavkaeg.png)\n\n这组样例满足子任务 $1,2,6,7$ 的限制。\n\n**【样例解释 #2】**\n\n这组样例满足子任务 $1,2,4,6,7$ 的限制。\n\n**【样例解释 #3】**\n\n这组样例满足子任务 $1,2,6,7$ 的限制。\n\n**【数据范围】**\n\n对于所有数据，满足：\n\n- $1\\le N\\le 10^5$\n- $1\\le Q\\le 5\\times 10^5$\n- $|X_i|,|Y_i|\\le 10^9$\n- $(X_i,Y_i)\\neq (X_j,Y_j)\\ (1\\le i < j\\le N)$\n- $0\\le T_j\\le 10^9$\n- $T_j<T_{j+1}$\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 |               附加限制                | 分值 |\n| :----: | :-----------------------------------: | :--: |\n|  $1$   |     $\\lvert X_i\\rvert ,\\lvert Y_i\\rvert \\le 50,T_j\\le 50$     | $4$  |\n|  $2$   | $\\lvert X_i\\rvert ,\\lvert Y_i\\rvert \\le 1\\ 000,T_j\\le 1\\ 000$ | $12$ |\n|  $3$   |             $X_i=Y_i,Q=1$             | $8$  |\n|  $4$   |               $X_i=Y_i$               | $8$  |\n|  $5$   |           $N\\le 2\\ 000,Q=1$           | $17$ |\n|  $6$   |             $N\\le 2\\ 000$             | $25$ |\n|  $7$   |              无附加限制               | $26$ |", "locale": "zh-CN"}}}
{"pid": "P9514", "type": "P", "difficulty": 6, "samples": [["2 1 5\n1 4\n2 2\n0 0\n", "8\n"], ["3 4 100\n20 26\n81 56\n20 3\n58 71\n74 82\n95 61\n95 61\n", "2840\n"], ["5 7 5000\n1046 365\n4122 1166\n4009 2896\n1815 4065\n4372 1651\n2382 123\n1475 836\n3313 4005\n2579 568\n4300 4867\n1050 3214\n3589 4653\n", "10543092\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "O2优化", "JOI（日本）"], "title": "[JOI Open 2023] 花园 / Garden", "background": "**译自 [JOI Open 2023](https://contests.ioi-jp.org/open-2023/index.html) T3 「[庭園](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/garden/2023-open-garden-statement.pdf) / [Garden](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/garden/2023-open-garden-statement-en.pdf)」**", "description": "JOI 王国是一个神秘的王国，疆域辽阔无边。JOI 君是 JOI 国国王，他在计划分割疆域的一部分来建造他的花园。\n\nJOI 网络可以考虑成一个充分大的二维网格，网格由从上到下和从左到右的正方形单元格密铺而成。有一个单元格是坐标原点。令 $(x,y)$ 表示表示从原点向右移动 $x$ 个单元格，再向上移动 $y$ 个单元格所到达的单元格。这里，向左移动 $a$ 个单元格意味着向右移动 $-a$ 个单元格。类似地，向下移动 $a$ 个单元格意味着向上移动 $-a$ 个单元格。\n\n在领土内有一些艺术品。这些艺术品根据放置在领土上的方式分为 **A 类**和 **B 类**。\n\n- 有 $N$ 种 A 类艺术品。第 $i$ 种艺术品（$1\\le i\\le N$）放在每个形如 $(P_i+kD,Q_i+lD)$ 的单元格上，其中 $k,l$ 为整数。\n- 有 $M$ 种 B 类艺术品。第 $j$ 种艺术品（$1\\le j\\le M$）放在每个形如 $(R_j+kD,y)$（其中 $k,y$ 为整数）或 $(x,S_j+lD)$（其中 $l,x$ 为整数）的单元格上。\n\n注意一个单元格中可能包含多种不同类别的艺术品。\n\nJOI 君计划在网格中选择一个矩形区域建造花园。换句话说，他会选择四个整数 $a,b,c,d$。然后形如 $(x,y)$ 的单元格将构成 JOI 君的花园，其中 $x,y$ 是满足 $a\\le x\\le b,c\\le y\\le d$ 的整数。因为 JOI 君喜欢看到多种艺术品，对于任意 $N+M$ 种艺术品中的一种，JOI 君的花园中需要至少包含这种艺术品中的一个。另一方面，如果 JOI 君计划要建的花园过大，JOI 国的居民就会生气。因此，JOI 君希望最小化花园包含的单元格数使得满足上述条件。\n\n给定艺术品的信息，写一个程序计算 JOI 君的花园所包含的最小单元格数。", "inputFormat": "第一行三个整数 $N,M,D$。\n\n接下来 $N$ 行，每行两个整数 $P_i,Q_i$。\n\n接下来 $M$ 行，每行两个整数 $R_j,S_j$。", "outputFormat": "输出一行一个整数，表示 JOI 君的花园所包含的最小单元格数。", "hint": "**【样例解释 #1】**\n\n下图展示了 JOI 国领土中的满足 $0\\le x<10,0\\le y<10$ 的单元格 $(x,y)$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pnsc7qm4.png)\n\n在本图中，圆形和菱形分别表示 A 类和 B 类艺术品。圆形或菱形中的整数表示艺术品的种数。如果 JOI 君选择 $a=1,b=2,c=2,d=5$，JOI 君的花园就是黑色矩形区域。这种情况下，对于这三种艺术品，JOI 君的花园中至少会有每种中的一个。花园所占单元格数为 $8$。因为没有比这个花园占地更小且满足条件的花园了，因此输出 $8$。\n\n这组样例满足所有子任务的限制。\n\n**【样例解释 #2】**\n\n这组样例满足子任务 $1,4,5,6$ 的限制。\n\n**【样例解释 #3】**\n\n这组样例满足子任务 $1,5,6$ 的限制。\n\n**【数据范围】**\n\n对于所有数据，满足：\n\n- $N,M\\ge 1$\n- $N+M\\le 5\\times 10^5$\n- $1\\le D\\le 5\\ 000$\n- $0\\le P_i,Q_i,R_j,S_j<D$\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 |        附加限制        | 分值 |\n| :----: | :--------------------: | :--: |\n|  $1$   |        $M\\le 8$        | $15$ |\n|  $2$   | $D\\le 10,N+M\\le 5000$  | $6$  |\n|  $3$   | $D\\le 50,N+M\\le 5000$  | $8$  |\n|  $4$   | $D\\le 100,N+M\\le 5000$ | $16$ |\n|  $5$   |     $N+M\\le 5000$      | $30$ |\n|  $6$   |       无附加限制       | $25$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2023] 花园 / Garden", "background": "**译自 [JOI Open 2023](https://contests.ioi-jp.org/open-2023/index.html) T3 「[庭園](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/garden/2023-open-garden-statement.pdf) / [Garden](https://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2023/garden/2023-open-garden-statement-en.pdf)」**", "description": "JOI 王国是一个神秘的王国，疆域辽阔无边。JOI 君是 JOI 国国王，他在计划分割疆域的一部分来建造他的花园。\n\nJOI 网络可以考虑成一个充分大的二维网格，网格由从上到下和从左到右的正方形单元格密铺而成。有一个单元格是坐标原点。令 $(x,y)$ 表示表示从原点向右移动 $x$ 个单元格，再向上移动 $y$ 个单元格所到达的单元格。这里，向左移动 $a$ 个单元格意味着向右移动 $-a$ 个单元格。类似地，向下移动 $a$ 个单元格意味着向上移动 $-a$ 个单元格。\n\n在领土内有一些艺术品。这些艺术品根据放置在领土上的方式分为 **A 类**和 **B 类**。\n\n- 有 $N$ 种 A 类艺术品。第 $i$ 种艺术品（$1\\le i\\le N$）放在每个形如 $(P_i+kD,Q_i+lD)$ 的单元格上，其中 $k,l$ 为整数。\n- 有 $M$ 种 B 类艺术品。第 $j$ 种艺术品（$1\\le j\\le M$）放在每个形如 $(R_j+kD,y)$（其中 $k,y$ 为整数）或 $(x,S_j+lD)$（其中 $l,x$ 为整数）的单元格上。\n\n注意一个单元格中可能包含多种不同类别的艺术品。\n\nJOI 君计划在网格中选择一个矩形区域建造花园。换句话说，他会选择四个整数 $a,b,c,d$。然后形如 $(x,y)$ 的单元格将构成 JOI 君的花园，其中 $x,y$ 是满足 $a\\le x\\le b,c\\le y\\le d$ 的整数。因为 JOI 君喜欢看到多种艺术品，对于任意 $N+M$ 种艺术品中的一种，JOI 君的花园中需要至少包含这种艺术品中的一个。另一方面，如果 JOI 君计划要建的花园过大，JOI 国的居民就会生气。因此，JOI 君希望最小化花园包含的单元格数使得满足上述条件。\n\n给定艺术品的信息，写一个程序计算 JOI 君的花园所包含的最小单元格数。", "inputFormat": "第一行三个整数 $N,M,D$。\n\n接下来 $N$ 行，每行两个整数 $P_i,Q_i$。\n\n接下来 $M$ 行，每行两个整数 $R_j,S_j$。", "outputFormat": "输出一行一个整数，表示 JOI 君的花园所包含的最小单元格数。", "hint": "**【样例解释 #1】**\n\n下图展示了 JOI 国领土中的满足 $0\\le x<10,0\\le y<10$ 的单元格 $(x,y)$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pnsc7qm4.png)\n\n在本图中，圆形和菱形分别表示 A 类和 B 类艺术品。圆形或菱形中的整数表示艺术品的种数。如果 JOI 君选择 $a=1,b=2,c=2,d=5$，JOI 君的花园就是黑色矩形区域。这种情况下，对于这三种艺术品，JOI 君的花园中至少会有每种中的一个。花园所占单元格数为 $8$。因为没有比这个花园占地更小且满足条件的花园了，因此输出 $8$。\n\n这组样例满足所有子任务的限制。\n\n**【样例解释 #2】**\n\n这组样例满足子任务 $1,4,5,6$ 的限制。\n\n**【样例解释 #3】**\n\n这组样例满足子任务 $1,5,6$ 的限制。\n\n**【数据范围】**\n\n对于所有数据，满足：\n\n- $N,M\\ge 1$\n- $N+M\\le 5\\times 10^5$\n- $1\\le D\\le 5\\ 000$\n- $0\\le P_i,Q_i,R_j,S_j<D$\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 |        附加限制        | 分值 |\n| :----: | :--------------------: | :--: |\n|  $1$   |        $M\\le 8$        | $15$ |\n|  $2$   | $D\\le 10,N+M\\le 5000$  | $6$  |\n|  $3$   | $D\\le 50,N+M\\le 5000$  | $8$  |\n|  $4$   | $D\\le 100,N+M\\le 5000$ | $16$ |\n|  $5$   |     $N+M\\le 5000$      | $30$ |\n|  $6$   |       无附加限制       | $25$ |", "locale": "zh-CN"}}}
{"pid": "P9515", "type": "P", "difficulty": 2, "samples": [["3 20 10\n7 18\n3 5\n5 0", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 500, 500, 150, 150], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 10240, 10240]}, "tags": ["贪心", "O2优化"], "title": "「JOC-1A」限时签到", "background": "纵使寻不到身外的青春，\n\n也总得自己来一掷我身中的迟暮。\n\n但暗夜又在那里呢？\n\n现在没有星，没有月光以至没有笑的渺茫和爱的翔舞；\n\n青年们很平安，而我的面前又竟至于并且没有真的暗夜。\n\n绝望之为虚妄，正与希望相同！\n\n                                \n——@duanfeitong 摘自鲁迅《希望》", "description": "你现在一条笔直的公路上，我们不妨把这条公路看做成一条数轴，你现在在数轴原点的位置上，此外还有 $n$ 个签到处，第 $i$ 个签到处的坐标为 $x_i$，并且其将在你出发后的第 $a_i$ 个时刻开始营业，每个签到处只有在开始营业了之后你才可以进去签到（签到的时间可以忽略不计），你在每个时刻内至多可移动 $1$ 个单位，你必须在 $t$ 时刻或者在此之前到达坐标为 $f$ 的点（$f\\le t$），无论你在规定时间内何时到达 $f$ 点，从 $t$ 时刻起你就必须一直待在 $f$ 点，问你最多能去多少个签到处签到。**请注意，你不需要按照签到处的编号顺序签到。**", "inputFormat": "共 $n+1$ 行。\n\n第一行，三个整数 $n$、$t$ 和 $f$。\n\n接下来 $n$ 行，每行两个整数 $x_i$ 和 $a_i$。", "outputFormat": "共一行，一个非负整数，表示最多能去签到的签到处的数量。", "hint": "### 样例 $\\small\\text{1}$ 解释\n\n一种可行的行动方案如下：在 $5$ 时刻来到第三个签到处签到，然后在 $7$ 时刻来到第二个签到处签到，最后在 $14$ 时刻来到终点，可以证明最多只能去 $2$ 个签到处签到。\n\n### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| $\\textbf{Subtask}$ | $\\textbf{Number}$ | $\\textbf{Special conditions}$| $\\textbf{Points}$ | $\\textbf{Limit}$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $1-2$ | $n\\leq 10$ | $10$ | $\\small\\texttt{1s，128MB}$ |\n| $2$ | $3-4$ | $n\\leq 5\\times 10^3$ | $15$ | $\\small\\texttt{1s，128MB}$ |\n| $3$ | $5$ | $n\\leq 10^6$ | $25$ | $\\small\\texttt{1s，128MB}$  |\n| $4$ | $6-7$ | $f\\leq 10^5$ | $20$ | $\\small\\texttt{500ms，128MB}$ |\n| $5$ | $8-9$ | $n\\leq 10^6$ | $30$ | $\\small\\texttt{150ms，10MB}$ |\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^6$，$0\\leq f\\leq t\\leq 10^{18}$，$0\\leq x_i\\leq f$，$0\\leq a_i\\leq t$，**不保证签到处的坐标互不相同**。\n\n请注意：由于本题当 $n$ 接近 $10^7$ 时数据输入量过大，故我们决定在 $n\\leq 10^6$ 的数据上修改时间限制和空间限制以代替 $n\\leq 10^7$ 的数据的评测。\n\n**请注意，本题输入数据量较大，建议使用较快的读入方式。**\n\n---\n\n在我永恒的记忆里，\n\n你天真地微笑。\n\n在我年轻的心中，\n\n你是星星之火燃烧。\n\n——@duanfeitong 摘自祁子《童年》", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JOC-1A」限时签到", "background": "纵使寻不到身外的青春，\n\n也总得自己来一掷我身中的迟暮。\n\n但暗夜又在那里呢？\n\n现在没有星，没有月光以至没有笑的渺茫和爱的翔舞；\n\n青年们很平安，而我的面前又竟至于并且没有真的暗夜。\n\n绝望之为虚妄，正与希望相同！\n\n                                \n——@duanfeitong 摘自鲁迅《希望》", "description": "你现在一条笔直的公路上，我们不妨把这条公路看做成一条数轴，你现在在数轴原点的位置上，此外还有 $n$ 个签到处，第 $i$ 个签到处的坐标为 $x_i$，并且其将在你出发后的第 $a_i$ 个时刻开始营业，每个签到处只有在开始营业了之后你才可以进去签到（签到的时间可以忽略不计），你在每个时刻内至多可移动 $1$ 个单位，你必须在 $t$ 时刻或者在此之前到达坐标为 $f$ 的点（$f\\le t$），无论你在规定时间内何时到达 $f$ 点，从 $t$ 时刻起你就必须一直待在 $f$ 点，问你最多能去多少个签到处签到。**请注意，你不需要按照签到处的编号顺序签到。**", "inputFormat": "共 $n+1$ 行。\n\n第一行，三个整数 $n$、$t$ 和 $f$。\n\n接下来 $n$ 行，每行两个整数 $x_i$ 和 $a_i$。", "outputFormat": "共一行，一个非负整数，表示最多能去签到的签到处的数量。", "hint": "### 样例 $\\small\\text{1}$ 解释\n\n一种可行的行动方案如下：在 $5$ 时刻来到第三个签到处签到，然后在 $7$ 时刻来到第二个签到处签到，最后在 $14$ 时刻来到终点，可以证明最多只能去 $2$ 个签到处签到。\n\n### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n| $\\textbf{Subtask}$ | $\\textbf{Number}$ | $\\textbf{Special conditions}$| $\\textbf{Points}$ | $\\textbf{Limit}$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $1$ | $1-2$ | $n\\leq 10$ | $10$ | $\\small\\texttt{1s，128MB}$ |\n| $2$ | $3-4$ | $n\\leq 5\\times 10^3$ | $15$ | $\\small\\texttt{1s，128MB}$ |\n| $3$ | $5$ | $n\\leq 10^6$ | $25$ | $\\small\\texttt{1s，128MB}$  |\n| $4$ | $6-7$ | $f\\leq 10^5$ | $20$ | $\\small\\texttt{500ms，128MB}$ |\n| $5$ | $8-9$ | $n\\leq 10^6$ | $30$ | $\\small\\texttt{150ms，10MB}$ |\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^6$，$0\\leq f\\leq t\\leq 10^{18}$，$0\\leq x_i\\leq f$，$0\\leq a_i\\leq t$，**不保证签到处的坐标互不相同**。\n\n请注意：由于本题当 $n$ 接近 $10^7$ 时数据输入量过大，故我们决定在 $n\\leq 10^6$ 的数据上修改时间限制和空间限制以代替 $n\\leq 10^7$ 的数据的评测。\n\n**请注意，本题输入数据量较大，建议使用较快的读入方式。**\n\n---\n\n在我永恒的记忆里，\n\n你天真地微笑。\n\n在我年轻的心中，\n\n你是星星之火燃烧。\n\n——@duanfeitong 摘自祁子《童年》", "locale": "zh-CN"}}}
{"pid": "P9516", "type": "P", "difficulty": 1, "samples": [["100 14 9 55 85", "Red"], ["100 10 10 10 10", "Green"], ["0 0 0 0 0", "Gray"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "数学", "洛谷原创", "O2优化"], "title": "color", "background": "", "description": "洛谷的名字颜色和咕值直接挂钩，具体细则见 [洛谷咕值系统介绍](https://www.luogu.com.cn/discuss/83952)。\n\n给出某洛谷用户的五项咕值指标的得分，输出该用户的名字颜色。保证该用户不是棕名和紫名。", "inputFormat": "一行五个整数，分别表示该用户的基础信用、社区贡献、比赛情况、练习情况、获得成就得分。", "outputFormat": "一行一个字符串，表示该用户的名字颜色。这个字符串必须为 `Gray`，`Blue`，`Green`，`Orange`，`Red` 中的一个（区分大小写）。", "hint": "**【样例说明】**\n\n三个样例的咕值分别为 $263,140,0$，名字颜色分别为红、绿、灰。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，满足五项指标分数均 $\\le 10$；\n\n对于另外 $20\\%$ 的数据，满足五项指标分数均 $\\ge 90$；\n\n对于 $100\\%$ 的数据，保证五项指标分数均 $\\in [0, 100]$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "color", "background": "", "description": "洛谷的名字颜色和咕值直接挂钩，具体细则见 [洛谷咕值系统介绍](https://www.luogu.com.cn/discuss/83952)。\n\n给出某洛谷用户的五项咕值指标的得分，输出该用户的名字颜色。保证该用户不是棕名和紫名。", "inputFormat": "一行五个整数，分别表示该用户的基础信用、社区贡献、比赛情况、练习情况、获得成就得分。", "outputFormat": "一行一个字符串，表示该用户的名字颜色。这个字符串必须为 `Gray`，`Blue`，`Green`，`Orange`，`Red` 中的一个（区分大小写）。", "hint": "**【样例说明】**\n\n三个样例的咕值分别为 $263,140,0$，名字颜色分别为红、绿、灰。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，满足五项指标分数均 $\\le 10$；\n\n对于另外 $20\\%$ 的数据，满足五项指标分数均 $\\ge 90$；\n\n对于 $100\\%$ 的数据，保证五项指标分数均 $\\in [0, 100]$。", "locale": "zh-CN"}}}
{"pid": "P9517", "type": "P", "difficulty": 1, "samples": [["5\n0 0 0 1 0", "1"], ["6\n0 0 1 1 0 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "O2优化"], "title": "drink", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/8u8szw7z.png)", "description": "你面前有 $n$ 个瓶子，从左到右依次编号为 $1 \\sim n$，瓶子可能是空的也可能装着水。\n\n你可以选择一对 $l,r(l \\le r)$，然后把 $l\\sim r$ 号瓶子中的所有水全部喝完。你想一口气把桌上剩的水全喝完，请问你最少要拿起几个瓶子？\n\n你有可能一个瓶子都不需要拿起来。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数，第 $i$ 个整数为 $1$ 表示第 $i$ 个瓶子装着水，为 $0$ 表示第 $i$ 个瓶子是空的。", "outputFormat": "一行一个整数 $k$，表示最少拿起的瓶子数。", "hint": "**【样例说明】**\n\n样例 $1$ 中，拿起 $4$ 号瓶子即可。总共拿起 $1$ 个瓶子。\n\n样例 $2$ 中，拿起 $3\\sim 6$ 号瓶子可以将所有的水喝完。总共拿起 $4$ 个瓶子。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，保证 $n\\le 100$。\n\n对于 $60\\%$ 的数据，保证 $n\\le 2000$。\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$0\\le a_i\\le 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "drink", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/8u8szw7z.png)", "description": "你面前有 $n$ 个瓶子，从左到右依次编号为 $1 \\sim n$，瓶子可能是空的也可能装着水。\n\n你可以选择一对 $l,r(l \\le r)$，然后把 $l\\sim r$ 号瓶子中的所有水全部喝完。你想一口气把桌上剩的水全喝完，请问你最少要拿起几个瓶子？\n\n你有可能一个瓶子都不需要拿起来。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $n$ 个整数，第 $i$ 个整数为 $1$ 表示第 $i$ 个瓶子装着水，为 $0$ 表示第 $i$ 个瓶子是空的。", "outputFormat": "一行一个整数 $k$，表示最少拿起的瓶子数。", "hint": "**【样例说明】**\n\n样例 $1$ 中，拿起 $4$ 号瓶子即可。总共拿起 $1$ 个瓶子。\n\n样例 $2$ 中，拿起 $3\\sim 6$ 号瓶子可以将所有的水喝完。总共拿起 $4$ 个瓶子。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，保证 $n\\le 100$。\n\n对于 $60\\%$ 的数据，保证 $n\\le 2000$。\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$0\\le a_i\\le 1$。", "locale": "zh-CN"}}}
{"pid": "P9518", "type": "P", "difficulty": 3, "samples": [["14\nstart\narrive A\nstart\narrive B\narrive C\narrive D\nstart\nleave C\nleave D\nstart\narrive A\narrive D\nleave E\nstart", "Error\nOK\nA\nOK\nOK\nOK\nB C\nError\nOK\nA B\nError\nOK\nError\nC D"], ["3\narrive A\narrive B\narrive C", "OK\nOK\nOK"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "队列", "链表"], "title": "queue", "background": "你说的对，但是舞萌 DX 是一款后面忘了。", "description": "**补充说明：这里的排队和传统的排队有出入。正在游玩的人为队列的前两位，所以正在游玩视为正在排队。**\n\n机厅里有一台游戏机，每次可供最多两人同时游玩。但是来玩的人显然不止两个！这个时候他们就需要排队了，而你需要写一个程序维护这个队列，并在他人游玩结束后通知接下来上场的人。在整个过程中，有以下几种事件可能发生：\n\n- `start`：一局游戏开始。若这不是第一局游戏，则上一局的参与者**在这一局游戏开始前一瞬间**按照原本的顺序回到队尾。此时你应该按在队列中的顺序输出这一局上场的人的名字（正常来讲是队列前两位或者唯一一个人），若有两个则以空格分割。若这一局无人上场，则输出 `Error` 并忽略这条事件。\n\n- `arrive x`：$x$ 到达机厅并且将自己加入队尾，此时 $x$ 不应该在排队，否则输出 `Error` 并忽略这条事件。若该事件成功执行则输出 `OK`。\n\n- `leave x`：$x$ 离开机厅并离开队列。此时 $x$ 应该在排队但不应该在游玩，否则输出 `Error` 并忽略这条事件。若该事件成功执行则输出 `OK`。\n\n你需要维护队列信息，并输出上述事件中要求的输出。", "inputFormat": "第一行一个整数 $n$，表示事件条数。\n\n接下来 $n$ 行，每行表示一条事件。", "outputFormat": "按照题目要求输出 $n$ 行，表示程序对事件的响应。", "hint": "**【样例说明】**\n\n样例 $1$ 中发生了如下的事件：\n\n- 第一次 `start` 时队列并没有任何人，输出 `Error`。\n- `A` 随即加入队列。\n- 第二次 `start` 时仅有 `A` 一个人，所以输出 `A`。\n- `B, C, D` 随即依次加入队列。\n- 第三次 `start` 时 `B, C` 上场。\n- `C` 试图离开，但是他在游玩。所以输出 `Error`。\n- `D` 成功离开。\n- 第四次 `start` 时 `A, B` 上场。\n- `A` 试图加入队列，但是他已经在队列中。输出 `Error`。\n- `D` 重新加入队列。\n- `E` 试图离开，但是他根本不在排队，输出 `Error`。\n- 第五次 `start` 时 `C, D` 上场。\n\n样例 $2$ 中，`A, B, C` 依次入队，操作合法，输出三个 `OK`。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，保证 $n=1$。\n\n对于 $40\\%$ 的数据，保证 $n\\le 2000$。\n\n对于另外 $20\\%$ 的数据，保证没有 `leave` 操作。\n\n对于另外 $20\\%$ 的数据，人名只有可能是单个大写字母。\n\n对于 $100\\%$ 的数据，保证 $1 \\le n\\le 10^5$，人名仅含有大小写字母且长度不超过 $10$。\n\n**本题输入输出量较大，请注意使用合理的输入输出方式。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "queue", "background": "你说的对，但是舞萌 DX 是一款后面忘了。", "description": "**补充说明：这里的排队和传统的排队有出入。正在游玩的人为队列的前两位，所以正在游玩视为正在排队。**\n\n机厅里有一台游戏机，每次可供最多两人同时游玩。但是来玩的人显然不止两个！这个时候他们就需要排队了，而你需要写一个程序维护这个队列，并在他人游玩结束后通知接下来上场的人。在整个过程中，有以下几种事件可能发生：\n\n- `start`：一局游戏开始。若这不是第一局游戏，则上一局的参与者**在这一局游戏开始前一瞬间**按照原本的顺序回到队尾。此时你应该按在队列中的顺序输出这一局上场的人的名字（正常来讲是队列前两位或者唯一一个人），若有两个则以空格分割。若这一局无人上场，则输出 `Error` 并忽略这条事件。\n\n- `arrive x`：$x$ 到达机厅并且将自己加入队尾，此时 $x$ 不应该在排队，否则输出 `Error` 并忽略这条事件。若该事件成功执行则输出 `OK`。\n\n- `leave x`：$x$ 离开机厅并离开队列。此时 $x$ 应该在排队但不应该在游玩，否则输出 `Error` 并忽略这条事件。若该事件成功执行则输出 `OK`。\n\n你需要维护队列信息，并输出上述事件中要求的输出。", "inputFormat": "第一行一个整数 $n$，表示事件条数。\n\n接下来 $n$ 行，每行表示一条事件。", "outputFormat": "按照题目要求输出 $n$ 行，表示程序对事件的响应。", "hint": "**【样例说明】**\n\n样例 $1$ 中发生了如下的事件：\n\n- 第一次 `start` 时队列并没有任何人，输出 `Error`。\n- `A` 随即加入队列。\n- 第二次 `start` 时仅有 `A` 一个人，所以输出 `A`。\n- `B, C, D` 随即依次加入队列。\n- 第三次 `start` 时 `B, C` 上场。\n- `C` 试图离开，但是他在游玩。所以输出 `Error`。\n- `D` 成功离开。\n- 第四次 `start` 时 `A, B` 上场。\n- `A` 试图加入队列，但是他已经在队列中。输出 `Error`。\n- `D` 重新加入队列。\n- `E` 试图离开，但是他根本不在排队，输出 `Error`。\n- 第五次 `start` 时 `C, D` 上场。\n\n样例 $2$ 中，`A, B, C` 依次入队，操作合法，输出三个 `OK`。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，保证 $n=1$。\n\n对于 $40\\%$ 的数据，保证 $n\\le 2000$。\n\n对于另外 $20\\%$ 的数据，保证没有 `leave` 操作。\n\n对于另外 $20\\%$ 的数据，人名只有可能是单个大写字母。\n\n对于 $100\\%$ 的数据，保证 $1 \\le n\\le 10^5$，人名仅含有大小写字母且长度不超过 $10$。\n\n**本题输入输出量较大，请注意使用合理的输入输出方式。**", "locale": "zh-CN"}}}
