{"pid": "P5935", "type": "P", "difficulty": 5, "samples": [["2\n1 2 2\ndd\ngg\n\n3 3 3\naaa\naaa\nbaa\n\naaa\naaa\nbaa\n\naaa\naaa\nbcc\n", "d 0 0 0\ng 0 1 0\n\na 1 1 1\nb 1 2 0\nc 2 2 1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["搜索", "2012", "Special Judge", "枚举", "剪枝", "CTT（清华集训/北大集训）"], "title": "[清华集训 2012] 攻占黄金乡", "background": "《海猫鸣泣之时》EP8 终于在今年暑假的末尾出了汉化，作为整个作品中高人气人物古户绘梨花，自然也是在剧中大活跃。在攻占黄金乡的战役中担任了指挥官一职，而整个战役过程也都被记录在了图书之都中，方便后来人的复盘。", "description": "当时的战况如下，黄金乡可以看做是一个长方体空间，我们用 $(0,0,0)\\sim(n-1,m-1,k-1)$ 表示里面的每一个单位区域，绘梨花指挥了 $t$ 艘不同等级的战舰依靠魔法突然出现在了黄金乡的 $t$ 个不同的区域，之后从战舰上便源源不断地涌出山羊们。每一个单位时刻，山羊们会从自己所在的区域向四周 $6$ 个方向扩展一个区域（如果那个相邻的区域已经被占领了，就不扩展），如果两队山羊在同一时刻想占领同一区域，那么等级高的山羊优先占领。\n\n没过多久，黄金乡就变成了一片山羊海，但是作为指挥官的绘梨花却因茫茫多的山羊而找不到战舰所在的位置了，于是她将问题交给了身边的你——山羊君，作为一个急于立下战功然后回故乡找山羊子的青年将领，你自然不会放弃这个机会，于是很快就找到了战舰所在的位置，你的这份功绩自然也会被记录到图书之都的文书之中。", "inputFormat": "第一行一个数 $test$，表示数据组数，以下 $test$ 部分。\n\n每部分第一行 $3$ 个数 $n,m,k$，以下 $n$ 部分，每部分为 $m$ 行 $k$ 列的字符矩阵。\n\n第 $i$ 部分表示区域 $(i,0,0)\\sim(i,m-1,k-1)$ 中的战况。\n\n不同等级的山羊我们用不同的小写英文字母表示，字典序越小的字母表示山羊等级越高。\n\n相邻部分之间用空行隔开。", "outputFormat": "输出 $test$ 部分，每部分用空行隔开。\n\n每部分有 $t$ 行，$t$ 为该组数据中战舰的数目，每行格式为\n```plain\nch x y z\n```\n表示编号为 $ch$ 的战舰的位置为 $(x,y,z)$。\n\n战舰输出顺序无关，如果有多解，输出任意解即可。", "hint": "#### 数据规模和约定\n测试点 $1\\sim3$：$n=1,n\\times m\\times k\\leqslant10$\n\n测试点 $4\\sim6$：$n=1,n\\times m\\times k\\leqslant100$\n\n测试点 $7\\sim10$：$n=1,n\\times m\\times k\\leqslant500$\n\n测试点 $11\\sim20$：$n\\times m\\times k\\leqslant1500$\n\n对于所有数据 $test\\leqslant10,t\\leqslant26$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2012] 攻占黄金乡", "background": "《海猫鸣泣之时》EP8 终于在今年暑假的末尾出了汉化，作为整个作品中高人气人物古户绘梨花，自然也是在剧中大活跃。在攻占黄金乡的战役中担任了指挥官一职，而整个战役过程也都被记录在了图书之都中，方便后来人的复盘。", "description": "当时的战况如下，黄金乡可以看做是一个长方体空间，我们用 $(0,0,0)\\sim(n-1,m-1,k-1)$ 表示里面的每一个单位区域，绘梨花指挥了 $t$ 艘不同等级的战舰依靠魔法突然出现在了黄金乡的 $t$ 个不同的区域，之后从战舰上便源源不断地涌出山羊们。每一个单位时刻，山羊们会从自己所在的区域向四周 $6$ 个方向扩展一个区域（如果那个相邻的区域已经被占领了，就不扩展），如果两队山羊在同一时刻想占领同一区域，那么等级高的山羊优先占领。\n\n没过多久，黄金乡就变成了一片山羊海，但是作为指挥官的绘梨花却因茫茫多的山羊而找不到战舰所在的位置了，于是她将问题交给了身边的你——山羊君，作为一个急于立下战功然后回故乡找山羊子的青年将领，你自然不会放弃这个机会，于是很快就找到了战舰所在的位置，你的这份功绩自然也会被记录到图书之都的文书之中。", "inputFormat": "第一行一个数 $test$，表示数据组数，以下 $test$ 部分。\n\n每部分第一行 $3$ 个数 $n,m,k$，以下 $n$ 部分，每部分为 $m$ 行 $k$ 列的字符矩阵。\n\n第 $i$ 部分表示区域 $(i,0,0)\\sim(i,m-1,k-1)$ 中的战况。\n\n不同等级的山羊我们用不同的小写英文字母表示，字典序越小的字母表示山羊等级越高。\n\n相邻部分之间用空行隔开。", "outputFormat": "输出 $test$ 部分，每部分用空行隔开。\n\n每部分有 $t$ 行，$t$ 为该组数据中战舰的数目，每行格式为\n```plain\nch x y z\n```\n表示编号为 $ch$ 的战舰的位置为 $(x,y,z)$。\n\n战舰输出顺序无关，如果有多解，输出任意解即可。", "hint": "#### 数据规模和约定\n测试点 $1\\sim3$：$n=1,n\\times m\\times k\\leqslant10$\n\n测试点 $4\\sim6$：$n=1,n\\times m\\times k\\leqslant100$\n\n测试点 $7\\sim10$：$n=1,n\\times m\\times k\\leqslant500$\n\n测试点 $11\\sim20$：$n\\times m\\times k\\leqslant1500$\n\n对于所有数据 $test\\leqslant10,t\\leqslant26$", "locale": "zh-CN"}}}
{"pid": "P5936", "type": "P", "difficulty": 6, "samples": [["4\n0 0\n1 5\n4 2\n2 6\n1 2\n5 4\n4 5\n3 1", "2\n1\n4\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "1999", "POI（波兰）", "Special Judge", "凸包", "构造"], "title": "[POI 1999 R2] 飞弹", "background": "一场战争在 U 国与 A 国之间爆发了。", "description": "U 国的负责情报的长官得知，A 国在边界上已经事先布置了 $N$ 个坚实的地堡，这些地堡组成的防御体系将对 U 国的士兵构成极大的威胁！U 国国防部不得不在进攻之前先摧毁这些地堡！\n\n为了出奇制胜，U 国国防部决定：布置在边界的每一个飞弹发射点负责消灭一个地堡。\n\n为了给敌人一个措手不及，$N$ 个飞弹发射点将同时发射飞弹，每个飞弹均以直线全速前进，争取在短时间内给地堡群造成毁灭性的打击。\n\n但是，由于这些飞弹是地对地电子制导型的，两颗飞弹的飞行路线如果相交，电子信号将会互相干扰，从而偏离预定目标。\n\n作为军事顾问，国防部需要你来设计一个作战方案，事先确定每个飞弹点负责哪一个地堡，并且在所设计的方案中，飞弹的飞行线路不相交。\n\n情报部门已经将飞弹发射点和地堡的位置明确标在地图上，并保证这 $2N$ 个坐标点不存在三点共线。", "inputFormat": "第一行是一个数 $N$，表示飞弹发射点的个数，也是敌方地堡的个数。\n\n以下 $N$ 行，每行两个整数 $Rx_i$ 和 $Ry_i\\ (0\\le |Rx_i|,|Ry_i|\\le 10^4)$，第 $i+1$ 行表示第 $i$ 个飞弹发射点的坐标。\n\n再下面 $N$ 行，每行两个整数 $Wx_i$ 和 $Wy_i\\ (0\\le |Wx_i|,|Wy_i|\\le 10^4)$，第 $N+i+1$ 行表示第 $i$ 个地堡的坐标。", "outputFormat": "输出文件有 $N$ 行，第 $i$ 行一个整数 $P_i$ 表示第 $i$ 个飞弹发射点负责消灭第 $P_i$ 个地堡。", "hint": "对于 $100\\%$ 的数据，$1\\le N\\le 10000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1999 R2] 飞弹", "background": "一场战争在 U 国与 A 国之间爆发了。", "description": "U 国的负责情报的长官得知，A 国在边界上已经事先布置了 $N$ 个坚实的地堡，这些地堡组成的防御体系将对 U 国的士兵构成极大的威胁！U 国国防部不得不在进攻之前先摧毁这些地堡！\n\n为了出奇制胜，U 国国防部决定：布置在边界的每一个飞弹发射点负责消灭一个地堡。\n\n为了给敌人一个措手不及，$N$ 个飞弹发射点将同时发射飞弹，每个飞弹均以直线全速前进，争取在短时间内给地堡群造成毁灭性的打击。\n\n但是，由于这些飞弹是地对地电子制导型的，两颗飞弹的飞行路线如果相交，电子信号将会互相干扰，从而偏离预定目标。\n\n作为军事顾问，国防部需要你来设计一个作战方案，事先确定每个飞弹点负责哪一个地堡，并且在所设计的方案中，飞弹的飞行线路不相交。\n\n情报部门已经将飞弹发射点和地堡的位置明确标在地图上，并保证这 $2N$ 个坐标点不存在三点共线。", "inputFormat": "第一行是一个数 $N$，表示飞弹发射点的个数，也是敌方地堡的个数。\n\n以下 $N$ 行，每行两个整数 $Rx_i$ 和 $Ry_i\\ (0\\le |Rx_i|,|Ry_i|\\le 10^4)$，第 $i+1$ 行表示第 $i$ 个飞弹发射点的坐标。\n\n再下面 $N$ 行，每行两个整数 $Wx_i$ 和 $Wy_i\\ (0\\le |Wx_i|,|Wy_i|\\le 10^4)$，第 $N+i+1$ 行表示第 $i$ 个地堡的坐标。", "outputFormat": "输出文件有 $N$ 行，第 $i$ 行一个整数 $P_i$ 表示第 $i$ 个飞弹发射点负责消灭第 $P_i$ 个地堡。", "hint": "对于 $100\\%$ 的数据，$1\\le N\\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P5937", "type": "P", "difficulty": 4, "samples": [["10\n5\n1 2 even\n3 4 odd\n5 6 even\n1 6 even\n7 10 odd", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["1999", "并查集", "离散化", "CEOI（中欧）"], "title": "[CEOI 1999] Parity Game", "background": "", "description": "Alice 和 Bob 在玩一个游戏：他写一个由 $0$ 和 $1$ 组成的序列。Alice 选其中的一段（比如第 $3$ 位到第 $5$ 位），问他这段里面有奇数个 $1$ 还是偶数个 $1$。Bob 回答你的问题，然后 Alice 继续问。Alice 要检查 Bob 的答案，指出在 Bob 的第几个回答一定有问题。有问题的意思就是存在一个 $01$ 序列满足这个回答前的所有回答，而且不存在序列满足这个回答前的所有回答及这个回答。", "inputFormat": "第 $1$ 行一个整数 $n$，是这个 $01$ 序列的长度。\n\n第 $2$ 行一个整数 $m$，是问题和答案的个数。\n\n第 $3$ 行开始是问题和答案，每行先有两个整数，表示你询问的段的开始位置和结束位置。然后是 Bob 的回答。`odd`表示有奇数个 $1$，`even` 表示有偶数个 $1$。", "outputFormat": "输出一行，一个数 $x$，表示存在一个 $01$ 序列满足第 $1$ 到第 $x$ 个回答，但是不存在序列满足第 $1$ 到第 $x+1$ 个回答。如果所有回答都没问题，你就输出所有回答的个数。", "hint": "对于 $100\\%$ 的数据，$1 \\le  n \\leq 10^9$，$m \\leq 5 \\times 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 1999] Parity Game", "background": "", "description": "Alice 和 Bob 在玩一个游戏：他写一个由 $0$ 和 $1$ 组成的序列。Alice 选其中的一段（比如第 $3$ 位到第 $5$ 位），问他这段里面有奇数个 $1$ 还是偶数个 $1$。Bob 回答你的问题，然后 Alice 继续问。Alice 要检查 Bob 的答案，指出在 Bob 的第几个回答一定有问题。有问题的意思就是存在一个 $01$ 序列满足这个回答前的所有回答，而且不存在序列满足这个回答前的所有回答及这个回答。", "inputFormat": "第 $1$ 行一个整数 $n$，是这个 $01$ 序列的长度。\n\n第 $2$ 行一个整数 $m$，是问题和答案的个数。\n\n第 $3$ 行开始是问题和答案，每行先有两个整数，表示你询问的段的开始位置和结束位置。然后是 Bob 的回答。`odd`表示有奇数个 $1$，`even` 表示有偶数个 $1$。", "outputFormat": "输出一行，一个数 $x$，表示存在一个 $01$ 序列满足第 $1$ 到第 $x$ 个回答，但是不存在序列满足第 $1$ 到第 $x+1$ 个回答。如果所有回答都没问题，你就输出所有回答的个数。", "hint": "对于 $100\\%$ 的数据，$1 \\le  n \\leq 10^9$，$m \\leq 5 \\times 10^3$。", "locale": "zh-CN"}}}
{"pid": "P5938", "type": "P", "difficulty": 0, "samples": [["6\n1 7 4 1 E\n3 9 11 8 S\n6 7 10 4 N\n8 3 10 1 N\n11 4 13 1 E\n14 8 20 7 W", "1\n2\n5\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["1999", "POI（波兰）"], "title": "[POI 1999 R3] 祭坛问题", "background": "在中国民间，人们相信鬼只能沿直线移动。\n\n在修建寺庙时，那是非常重要的。", "description": "寺庙要修建在四边分别平行于南北西东的矩形位置之上。两个矩形不能有公共交点。入口位于四堵墙中一堵的中间，门的宽度等于墙长度的一半。祭坛出现在寺庙的中间，矩形的对角线在那里相交。\n\n鬼魂在这个点出现，那么寺庙被亵渎，当且仅当存在从祭坛射出的一束光线，通过入口到外面而且不与其他寺庙（位于建筑区域平行的地带）的墙壁相交或接触，这种情形才可能发生，也就是能在建筑区域从祭坛到无穷远处画一条直线而不碰到任何墙。", "inputFormat": "第一行输入一个整数 $n$。\n\n接下来 $n$ 行，第 $i+1$ 行有第 $i$ 个寺庙的描述。寺庙的描述由四个非负的不大于 $8000$ 的整数（前两个数字是寺庙的西北角的坐标，后两个是相对的东南角的坐标）和一个字母 `E`,`W`,`S` 或 `N`（入口所在的墙的方位）组成（`E`-东，`W`-西，`S`-南，`N`-北）。两两之间由单空格隔开。", "outputFormat": "接下来的几行，你的程序应该按升序写下可能被鬼魂亵渎的寺庙编号。每一个编号占一行。如果没有编号则输出 `BRAK`。", "hint": "### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/uacmj7y9.png)\n\n### 数据范围\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1999 R3] 祭坛问题", "background": "在中国民间，人们相信鬼只能沿直线移动。\n\n在修建寺庙时，那是非常重要的。", "description": "寺庙要修建在四边分别平行于南北西东的矩形位置之上。两个矩形不能有公共交点。入口位于四堵墙中一堵的中间，门的宽度等于墙长度的一半。祭坛出现在寺庙的中间，矩形的对角线在那里相交。\n\n鬼魂在这个点出现，那么寺庙被亵渎，当且仅当存在从祭坛射出的一束光线，通过入口到外面而且不与其他寺庙（位于建筑区域平行的地带）的墙壁相交或接触，这种情形才可能发生，也就是能在建筑区域从祭坛到无穷远处画一条直线而不碰到任何墙。", "inputFormat": "第一行输入一个整数 $n$。\n\n接下来 $n$ 行，第 $i+1$ 行有第 $i$ 个寺庙的描述。寺庙的描述由四个非负的不大于 $8000$ 的整数（前两个数字是寺庙的西北角的坐标，后两个是相对的东南角的坐标）和一个字母 `E`,`W`,`S` 或 `N`（入口所在的墙的方位）组成（`E`-东，`W`-西，`S`-南，`N`-北）。两两之间由单空格隔开。", "outputFormat": "接下来的几行，你的程序应该按升序写下可能被鬼魂亵渎的寺庙编号。每一个编号占一行。如果没有编号则输出 `BRAK`。", "hint": "### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/uacmj7y9.png)\n\n### 数据范围\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P5939", "type": "P", "difficulty": 4, "samples": [["5\n2 3\n3 4\n4 5\n1 6\n12 27", "3"], ["6\n1 6\n10 8\n1 5\n2 20\n4 4\n6 2", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["1998", "POI（波兰）"], "title": "[POI 1998 R3] 折线", "background": null, "description": "给定二维直角坐标系。\n\n我们要求一条折线只能从左边到右边一笔画过去，并且折线的每一段和 $x$ 轴的夹角在 $[-45^\\circ, 45^\\circ]$ 之间。\n\n一条满足上述要求的折线被称为平直折线。\n\n给定坐标系上的 $n$ 个格点，最少需要画多少条平直折线才能覆盖所有的点呢？", "inputFormat": "第一行一个正整数 $n$，表示点的数目。\n\n接下来 $n$ 行，每行两个整数 $x_i,y_i$，表示第 $i$ 个点的坐标。", "outputFormat": "仅一行一个整数，表示最少需要的平直折线数量。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 30000$，$0\\le x_i,y_i\\le 30000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1998 R3] 折线", "background": null, "description": "给定二维直角坐标系。\n\n我们要求一条折线只能从左边到右边一笔画过去，并且折线的每一段和 $x$ 轴的夹角在 $[-45^\\circ, 45^\\circ]$ 之间。\n\n一条满足上述要求的折线被称为平直折线。\n\n给定坐标系上的 $n$ 个格点，最少需要画多少条平直折线才能覆盖所有的点呢？", "inputFormat": "第一行一个正整数 $n$，表示点的数目。\n\n接下来 $n$ 行，每行两个整数 $x_i,y_i$，表示第 $i$ 个点的坐标。", "outputFormat": "仅一行一个整数，表示最少需要的平直折线数量。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 30000$，$0\\le x_i,y_i\\le 30000$。", "locale": "zh-CN"}}}
{"pid": "P5940", "type": "P", "difficulty": 6, "samples": [["2\n0 5\n3 3", "-4 -1 1 3 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["1997", "POI（波兰）"], "title": "[POI 1997] 跳", "background": "在一个无限长的棋盘上玩一种跳棋游戏。", "description": "其中棋盘被划分成许多区域，每一个区域中可以放置多个的棋子。\n\n规定某一个区域的编号为 $0$，在它开始往左边连续的区域编号为 $-1,-2,-3,…,$在它的右边连续区域编号为 $1,2,3,…,$ ，若区域 $P$ 有棋子，那么棋子有两种跳法：\n\n- 向左跳：则方格 $P-1$ 和 $ P-2 $ 中应增加一枚棋子，方格 $P$ 中应减少一枚棋子。 \n\n- 向右跳：则方格 $P$ 和 $P+1$ 中应减少一枚棋子，方格 $P+2$ 中应增加一枚棋子。\n\n对于给定的初始棋局，经过若干步跳棋后，总可以找到一种目标，就是任意两个相邻的区域棋子数目不超过 $1$ 。\n\n你的任务是对给定的一种初始棋局，找到最终的目标棋局。", "inputFormat": "第一行为一个正整数 $n$， 表示棋盘中放置棋子的状态数。\n\n下面的 $n$ 行描述了每个状态，由两个用空格分隔的整数组成，第一个整数表示区域的位置（不超过 $10^4$），第二个整数表示该区域放置的棋子数目（不超过 $10^8$）。", "outputFormat": "输出最终的棋局，这一行包含若干个整数，其中每一个整数为有棋子的区域编号，所有的区域按从小到大排列。", "hint": "对于 $100\\%$ 的数据，$1\\le n \\le 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1997] 跳", "background": "在一个无限长的棋盘上玩一种跳棋游戏。", "description": "其中棋盘被划分成许多区域，每一个区域中可以放置多个的棋子。\n\n规定某一个区域的编号为 $0$，在它开始往左边连续的区域编号为 $-1,-2,-3,…,$在它的右边连续区域编号为 $1,2,3,…,$ ，若区域 $P$ 有棋子，那么棋子有两种跳法：\n\n- 向左跳：则方格 $P-1$ 和 $ P-2 $ 中应增加一枚棋子，方格 $P$ 中应减少一枚棋子。 \n\n- 向右跳：则方格 $P$ 和 $P+1$ 中应减少一枚棋子，方格 $P+2$ 中应增加一枚棋子。\n\n对于给定的初始棋局，经过若干步跳棋后，总可以找到一种目标，就是任意两个相邻的区域棋子数目不超过 $1$ 。\n\n你的任务是对给定的一种初始棋局，找到最终的目标棋局。", "inputFormat": "第一行为一个正整数 $n$， 表示棋盘中放置棋子的状态数。\n\n下面的 $n$ 行描述了每个状态，由两个用空格分隔的整数组成，第一个整数表示区域的位置（不超过 $10^4$），第二个整数表示该区域放置的棋子数目（不超过 $10^8$）。", "outputFormat": "输出最终的棋局，这一行包含若干个整数，其中每一个整数为有棋子的区域编号，所有的区域按从小到大排列。", "hint": "对于 $100\\%$ 的数据，$1\\le n \\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P5941", "type": "P", "difficulty": 2, "samples": [["14\n5\n10\n12\n15\n17\n20\n21\n22\n24\n26\n27\n30\n31\n33", "24\n5\n12\n21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["1997", "POI（波兰）"], "title": "[POI 1997] ADDON", "background": "科学家们发现了一种新的放射性元素——`ADDON`。`ADDON` 是已知的效率最高的核燃料，因此他们决定建立一个 `ADDON` 核反应堆。", "description": "根据计划，一间燃料室是一根竖直的管子。燃料棒（即装有 `ADDON` 的圆筒）将一根叠一根的被放进燃料室里，搭建成一个圆柱。燃料棒具有不同的高度。\n\n核反应循环开始于将燃料棒放进燃料室中。接下来的步骤才是点火。麻烦的是，圆柱的高度不能是任意的——只有某些特定的高度才能保证反应的安全。这样的高度被称作稳定高度。\n\n现在，反应堆的设计师们面临着两个任务：确定燃料室的高度以及选择一个用于制造 `ADDON` 的燃料棒的高度集合。\n\n我们说一个高度集合是安全的（对于一个特定高度的燃料室），则有：\n\n- 对于任意一根由高度属于这个集合的燃料棒搭建而成的，且高度不超过燃料室的高度的圆柱，它的高度一定是稳定的。\n\n\n我们说一个高度集合是完备的（对于一个特定高度的燃料室），则有：\n\n- 对于任意一根高度是稳定的,并且其高度不超过燃料室高度的圆柱，都一定能够由高度属于该集合的燃料棒搭建而成。\n\n\n现在要写一个程序：\n- 1. 读入一个稳定高度的集合；\n- 2. 找出存在一个安全且完备的高度集合的核燃料室的最大可能值；\n- 3. 对于找到的核燃料室，找出一个元素个数最少的安全且完备的高度集合；\n- 4. 将结果输出。", "inputFormat": "第一行是一个自然数 $n$，代表所给的稳定高度的个数。\n\n接下来的 $n$ 行，每行是一个不超过 $10000$ 的正整数。这些数按照升序给出，代表了稳定高度。", "outputFormat": "第一行是找到的燃料室高度的最大可能值。\n\n接下来的每行按照升序给出你所找到的高度集合中的一个元素。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le10000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1997] ADDON", "background": "科学家们发现了一种新的放射性元素——`ADDON`。`ADDON` 是已知的效率最高的核燃料，因此他们决定建立一个 `ADDON` 核反应堆。", "description": "根据计划，一间燃料室是一根竖直的管子。燃料棒（即装有 `ADDON` 的圆筒）将一根叠一根的被放进燃料室里，搭建成一个圆柱。燃料棒具有不同的高度。\n\n核反应循环开始于将燃料棒放进燃料室中。接下来的步骤才是点火。麻烦的是，圆柱的高度不能是任意的——只有某些特定的高度才能保证反应的安全。这样的高度被称作稳定高度。\n\n现在，反应堆的设计师们面临着两个任务：确定燃料室的高度以及选择一个用于制造 `ADDON` 的燃料棒的高度集合。\n\n我们说一个高度集合是安全的（对于一个特定高度的燃料室），则有：\n\n- 对于任意一根由高度属于这个集合的燃料棒搭建而成的，且高度不超过燃料室的高度的圆柱，它的高度一定是稳定的。\n\n\n我们说一个高度集合是完备的（对于一个特定高度的燃料室），则有：\n\n- 对于任意一根高度是稳定的,并且其高度不超过燃料室高度的圆柱，都一定能够由高度属于该集合的燃料棒搭建而成。\n\n\n现在要写一个程序：\n- 1. 读入一个稳定高度的集合；\n- 2. 找出存在一个安全且完备的高度集合的核燃料室的最大可能值；\n- 3. 对于找到的核燃料室，找出一个元素个数最少的安全且完备的高度集合；\n- 4. 将结果输出。", "inputFormat": "第一行是一个自然数 $n$，代表所给的稳定高度的个数。\n\n接下来的 $n$ 行，每行是一个不超过 $10000$ 的正整数。这些数按照升序给出，代表了稳定高度。", "outputFormat": "第一行是找到的燃料室高度的最大可能值。\n\n接下来的每行按照升序给出你所找到的高度集合中的一个元素。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le10000$。", "locale": "zh-CN"}}}
{"pid": "P5942", "type": "P", "difficulty": 2, "samples": [["5\n1\n2\n3\n4\n5", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "POI（波兰）"], "title": "[POI 2002] 敌对球迷", "background": "在一个信息王国里决定在两个敌对的球队： LINUKS 和 MICROSOFT 之间举行球赛。", "description": "由于两个球队的球迷结怨甚深，所以要将他们安排在两个距离尽量遥远的城市里，而且只允许他们从电视中看球赛。\n\n信息王国是个岛国，它所有的城市都建在海岸上。沿着海岛周边有一条双向的环行公路。有两种方法可以从每一个城市到达另一个城市：顺时针和逆时针方向。这种双向环行公路方案中较短的距离是城市之间的距离。\n\n现在，你需要计算出把敌对球迷分隔的最大距离。", "inputFormat": "第一行输入一个正整数 $n$，表示海岛上城市的数目。\n\n在接下来的 $n$ 行中输入相邻城市间环行公路的长度。每一行中包含了一个整数。\n\n第 $i+1$ 行为 $i$ 的城市和编号为 $i+1$ 的城市之间公路段的长度，第 $n+1$ 行为城市 $n$ 和城市 $1$ 之间路程的长度。\n环行公路的总长度不超过 $10^9$。", "outputFormat": "一行一个数表示可以将球迷分隔的最大距离。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 50 000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2002] 敌对球迷", "background": "在一个信息王国里决定在两个敌对的球队： LINUKS 和 MICROSOFT 之间举行球赛。", "description": "由于两个球队的球迷结怨甚深，所以要将他们安排在两个距离尽量遥远的城市里，而且只允许他们从电视中看球赛。\n\n信息王国是个岛国，它所有的城市都建在海岸上。沿着海岛周边有一条双向的环行公路。有两种方法可以从每一个城市到达另一个城市：顺时针和逆时针方向。这种双向环行公路方案中较短的距离是城市之间的距离。\n\n现在，你需要计算出把敌对球迷分隔的最大距离。", "inputFormat": "第一行输入一个正整数 $n$，表示海岛上城市的数目。\n\n在接下来的 $n$ 行中输入相邻城市间环行公路的长度。每一行中包含了一个整数。\n\n第 $i+1$ 行为 $i$ 的城市和编号为 $i+1$ 的城市之间公路段的长度，第 $n+1$ 行为城市 $n$ 和城市 $1$ 之间路程的长度。\n环行公路的总长度不超过 $10^9$。", "outputFormat": "一行一个数表示可以将球迷分隔的最大距离。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 50 000$。", "locale": "zh-CN"}}}
{"pid": "P5943", "type": "P", "difficulty": 4, "samples": [["5\n0 1 0 1 0\n0 0 0 0 0\n0 0 0 0 1\n1 0 0 0 0\n0 1 0 0 0", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2002", "POI（波兰）"], "title": "[POI 2002] 最大的园地", "background": "", "description": "在一个 $n\\times n$ 的正方形内找到最大的由 `0` 组成的矩形，输出它的面积。", "inputFormat": "输入的第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行 $n$ 个数，描述这个正方形。", "outputFormat": "输出其中最大的由 `0` 组成的矩形的面积。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 2000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2002] 最大的园地", "background": "", "description": "在一个 $n\\times n$ 的正方形内找到最大的由 `0` 组成的矩形，输出它的面积。", "inputFormat": "输入的第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行 $n$ 个数，描述这个正方形。", "outputFormat": "输出其中最大的由 `0` 组成的矩形的面积。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 2000$。", "locale": "zh-CN"}}}
{"pid": "P5944", "type": "P", "difficulty": 6, "samples": [["4\n1 4 3 2", "NIE"], ["4\n1 4 2 3", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "POI（波兰）"], "title": "[POI 2002] 出圈游戏", "background": "", "description": "有编号从 $1$ 到 $n$ 的 $n$ 个小朋友在玩一种出圈的游戏,编号为 $i+1 $ 的小朋友站在编号为 $i $ 小朋友左边。编号为 $1 $ 的小朋友站在编号为 $n$ 的小朋友左边。首先编号为 $1$ 的小朋友开始报数，接着站在左边的小朋友顺序报数，直到数到某个数字 $K$ 时就出圈。直到所有的小朋友都出圈，则游戏完毕。\n\n现在给出出圈的顺序，求最小的 $K$。", "inputFormat": "第一行有一个正整数 $n$。\n\n第二行有 $n$ 个整数 $a_i$。其中第 $i$ 个整数表示编号为 $i$ 的小朋友第 $a_i$ 个出圈。", "outputFormat": "求最小的 $K$，如果不存在，则输出一个单词 `NIE`。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 20$。\n\n---\n\n$\\text{upd 2022.8.24}$：新增加一组 Hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2002] 出圈游戏", "background": "", "description": "有编号从 $1$ 到 $n$ 的 $n$ 个小朋友在玩一种出圈的游戏,编号为 $i+1 $ 的小朋友站在编号为 $i $ 小朋友左边。编号为 $1 $ 的小朋友站在编号为 $n$ 的小朋友左边。首先编号为 $1$ 的小朋友开始报数，接着站在左边的小朋友顺序报数，直到数到某个数字 $K$ 时就出圈。直到所有的小朋友都出圈，则游戏完毕。\n\n现在给出出圈的顺序，求最小的 $K$。", "inputFormat": "第一行有一个正整数 $n$。\n\n第二行有 $n$ 个整数 $a_i$。其中第 $i$ 个整数表示编号为 $i$ 的小朋友第 $a_i$ 个出圈。", "outputFormat": "求最小的 $K$，如果不存在，则输出一个单词 `NIE`。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 20$。\n\n---\n\n$\\text{upd 2022.8.24}$：新增加一组 Hack 数据。", "locale": "zh-CN"}}}
{"pid": "P5945", "type": "P", "difficulty": 5, "samples": [["2 20 4 3", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2002", "POI（波兰）"], "title": "[POI 2002] 协议", "background": "Z 在一个通讯公司工作。 目前他承担了公司的网络协议设计任务。", "description": "目前他致力于通过一条电缆从一台电脑向另一台电脑发送数据。\n\n在这条电缆中有 $k$ 种不同的电平， 每秒电平会变化 $\\frac{1}{n}$ 次 (我们称 $\\frac{1}{n}$ 秒为一个脉冲)。 一个数据包包含 $m$ 个连续的脉冲。(即每 $\\frac{m}{n}$ 秒发送一个数据包)。\n\n由于技术原因, 每个包里的电平不能一直稳定为一个常数, 而是需要多次改变。 严格地讲, 包含连续 $l$ 个电平相同的脉冲的数据包将不能被发送。 注意相邻两个数据包互不影响。\n\n如果可能被发送的数据包共有 $x$ 种， 那么单个数据包会包含 $\\log_2x$ 位信息(可以为一个小数)。Z 想知道在 $1$ 秒内最多能发送多少位信息。", "inputFormat": "输入一行四个整数：电平种类 $k$， 脉冲频率 $n$， 单个数据包大小 $m$， 在一个数据包中不能连续保持相同电平的脉冲的数目 $l$， 在这个范围内电平至少要改变一次。", "outputFormat": "输出一个整数，为一秒内最大能发送信息的位数，答案向下取整。", "hint": "对于 $100\\%$ 的数据，$2 \\le k \\le 10$，$1 \\le n \\le 1000$，$ 1 \\le m \\le 100$，$2 \\le l \\le m$，$\\frac{n}{m}$ 是一个不超过 $10$ 的整数。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2002] 协议", "background": "Z 在一个通讯公司工作。 目前他承担了公司的网络协议设计任务。", "description": "目前他致力于通过一条电缆从一台电脑向另一台电脑发送数据。\n\n在这条电缆中有 $k$ 种不同的电平， 每秒电平会变化 $\\frac{1}{n}$ 次 (我们称 $\\frac{1}{n}$ 秒为一个脉冲)。 一个数据包包含 $m$ 个连续的脉冲。(即每 $\\frac{m}{n}$ 秒发送一个数据包)。\n\n由于技术原因, 每个包里的电平不能一直稳定为一个常数, 而是需要多次改变。 严格地讲, 包含连续 $l$ 个电平相同的脉冲的数据包将不能被发送。 注意相邻两个数据包互不影响。\n\n如果可能被发送的数据包共有 $x$ 种， 那么单个数据包会包含 $\\log_2x$ 位信息(可以为一个小数)。Z 想知道在 $1$ 秒内最多能发送多少位信息。", "inputFormat": "输入一行四个整数：电平种类 $k$， 脉冲频率 $n$， 单个数据包大小 $m$， 在一个数据包中不能连续保持相同电平的脉冲的数目 $l$， 在这个范围内电平至少要改变一次。", "outputFormat": "输出一个整数，为一秒内最大能发送信息的位数，答案向下取整。", "hint": "对于 $100\\%$ 的数据，$2 \\le k \\le 10$，$1 \\le n \\le 1000$，$ 1 \\le m \\le 100$，$2 \\le l \\le m$，$\\frac{n}{m}$ 是一个不超过 $10$ 的整数。\n", "locale": "zh-CN"}}}
{"pid": "P5946", "type": "P", "difficulty": 5, "samples": [["30 10 5", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "POI（波兰）"], "title": "[POI 2002] B-Smooth 数", "background": "", "description": "$B$ 是一个正整数。\n\n 如果一个自然数 $n$ 被称为 B-smooth 数,那么它的质因子中没有任何一个超过 $B$。 \n\n我们说和 $n$ 等价的一个 B-smooth 数是指它能够表示成小于或等于  $B$ 的正整数乘积。 \n\n你的任务是对给定的闭区间 $[n,n+m]$，求出他们中的 B-smooth 数的个数。", "inputFormat": "第一行是三个整数 $n,m$ 和 $B$。", "outputFormat": "求出 B-smooth 数的个数。", "hint": "对于 $100\\%$的数据，$1\\le n\\le 2\\times 10^9$， $1\\le m\\le 10^8$， $1\\le B\\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2002] B-Smooth 数", "background": "", "description": "$B$ 是一个正整数。\n\n 如果一个自然数 $n$ 被称为 B-smooth 数,那么它的质因子中没有任何一个超过 $B$。 \n\n我们说和 $n$ 等价的一个 B-smooth 数是指它能够表示成小于或等于  $B$ 的正整数乘积。 \n\n你的任务是对给定的闭区间 $[n,n+m]$，求出他们中的 B-smooth 数的个数。", "inputFormat": "第一行是三个整数 $n,m$ 和 $B$。", "outputFormat": "求出 B-smooth 数的个数。", "hint": "对于 $100\\%$的数据，$1\\le n\\le 2\\times 10^9$， $1\\le m\\le 10^8$， $1\\le B\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P5947", "type": "P", "difficulty": 5, "samples": [["5\n2 0\n7 4\n4 5\n5 3\n8 15", "1\n2\n1\n0\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2003", "POI（波兰）"], "title": "[POI 2003] Trinomial", "background": "", "description": "求 $(x^2+x+1)^n$ 的第 $i$ 项系数。", "inputFormat": "第一行一个数 $k$ 表示数据的组数。\n\n接下来的 $k$ 行，每行两个整数 $n,i$。\n\n", "outputFormat": "对于每组数据，输出 $x_i \\bmod 3$ 之后的结果。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le k \\le 10000$，$0\\le n\\le 10^{15}$，$0\\le i\\le 2\\times n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2003] Trinomial", "background": "", "description": "求 $(x^2+x+1)^n$ 的第 $i$ 项系数。", "inputFormat": "第一行一个数 $k$ 表示数据的组数。\n\n接下来的 $k$ 行，每行两个整数 $n,i$。\n\n", "outputFormat": "对于每组数据，输出 $x_i \\bmod 3$ 之后的结果。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le k \\le 10000$，$0\\le n\\le 10^{15}$，$0\\le i\\le 2\\times n$。", "locale": "zh-CN"}}}
{"pid": "P5948", "type": "P", "difficulty": 4, "samples": [["6 4\n2\n1\n3\n1\n4\n4\n1\n2", "42\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2003", "POI（波兰）", "排序"], "title": "[POI 2003 R1] Chocolate", "background": null, "description": "有一块 $n\\times m$ 的矩形巧克力，准备将它切成 $n\\times m$ 块。\n\n巧克力上共有 $n-1$ 条横线和 $m-1$ 条竖线，你每次可以沿着其中的一条横线或竖线将巧克力切开，无论切割的长短，沿着每条横线切一次的代价依次为 $y_1,y_2,\\dots,y_{n-1}$，而沿竖线切割的代价依次为 $x_1,x_2,\\dots,x_{m-1}$。\n\n例如，对于下图 $6\\times 4$ 的巧克力：\n![](https://cdn.luogu.com.cn/upload/image_hosting/s0j2oloj.png)\n\n我们先沿着三条横线切割，需要 $3$ 刀，得到 $4$ 条巧克力，然后再将这 $4$ 条巧克力沿竖线切割，每条都需要 $5$ 刀，则最终所花费的代价为 $y_1+y_2+y_3+4\\times (x_1+x_2+x_3+x_4+x_5)$。\n\n当然，上述简单切法不见得是最优切法，那么怎样切割该块巧克力，花费的代价最少呢？", "inputFormat": "第一行为两个整数 $n$ 和 $m$。\n\n接下来 $n-1$ 行，每行一个整数，分别代表 $x_1,x_2,\\dots,x_{n-1}$。\n\n接下来 $m-1$ 行，每行一个整数，分别代表 $y_1,y_2,\\dots,y_{m-1}$。", "outputFormat": "输出一整数，为切割巧克力的最小代价。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10000$，$1\\le m\\le 10000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2003 R1] Chocolate", "background": null, "description": "有一块 $n\\times m$ 的矩形巧克力，准备将它切成 $n\\times m$ 块。\n\n巧克力上共有 $n-1$ 条横线和 $m-1$ 条竖线，你每次可以沿着其中的一条横线或竖线将巧克力切开，无论切割的长短，沿着每条横线切一次的代价依次为 $y_1,y_2,\\dots,y_{n-1}$，而沿竖线切割的代价依次为 $x_1,x_2,\\dots,x_{m-1}$。\n\n例如，对于下图 $6\\times 4$ 的巧克力：\n![](https://cdn.luogu.com.cn/upload/image_hosting/s0j2oloj.png)\n\n我们先沿着三条横线切割，需要 $3$ 刀，得到 $4$ 条巧克力，然后再将这 $4$ 条巧克力沿竖线切割，每条都需要 $5$ 刀，则最终所花费的代价为 $y_1+y_2+y_3+4\\times (x_1+x_2+x_3+x_4+x_5)$。\n\n当然，上述简单切法不见得是最优切法，那么怎样切割该块巧克力，花费的代价最少呢？", "inputFormat": "第一行为两个整数 $n$ 和 $m$。\n\n接下来 $n-1$ 行，每行一个整数，分别代表 $x_1,x_2,\\dots,x_{n-1}$。\n\n接下来 $m-1$ 行，每行一个整数，分别代表 $y_1,y_2,\\dots,y_{m-1}$。", "outputFormat": "输出一整数，为切割巧克力的最小代价。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10000$，$1\\le m\\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P5949", "type": "P", "difficulty": 2, "samples": [["2\n4\n1\n2\n1\n2\n3\n1\n2\n3", "YES\nNO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2000", "BalticOI（波罗的海）"], "title": "[BalticOI 2000] Division expression", "background": "", "description": "除法表达式有如下的形式:  \n\n$X_1/X_2/X_3.../X_n$ ，其中 $X_i$ 是正整数且 $X_i\\le 10^9$， 除法表达式应当按照从左到右的顺序求。\n\n例如表达式 $1/2/1/2$的值为 $1/4$。\n\n但可以在表达式中加入括号来改变计算顺序，例如 $(1/2)/(1/2)$ 的值为 $1$.现给出一个除法表达式 $E$，求是告诉是否可以通过增加括号来使其结果为整数。", "inputFormat": "第一行一个整数 $D$，代表有 $D$ 组数据。\n\n每组数据先给出一个数字 $N$，代表这组数据将有 $N$ 个数。\n\n接下来每行有 $N$ 个数。", "outputFormat": "如果能使得表达式的值为一个整数，则输出 `YES` ，否则为`NO`。", "hint": "对于 $100\\%$ 的数据，$1\\le D\\le10$，$1\\le n\\le10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2000] Division expression", "background": "", "description": "除法表达式有如下的形式:  \n\n$X_1/X_2/X_3.../X_n$ ，其中 $X_i$ 是正整数且 $X_i\\le 10^9$， 除法表达式应当按照从左到右的顺序求。\n\n例如表达式 $1/2/1/2$的值为 $1/4$。\n\n但可以在表达式中加入括号来改变计算顺序，例如 $(1/2)/(1/2)$ 的值为 $1$.现给出一个除法表达式 $E$，求是告诉是否可以通过增加括号来使其结果为整数。", "inputFormat": "第一行一个整数 $D$，代表有 $D$ 组数据。\n\n每组数据先给出一个数字 $N$，代表这组数据将有 $N$ 个数。\n\n接下来每行有 $N$ 个数。", "outputFormat": "如果能使得表达式的值为一个整数，则输出 `YES` ，否则为`NO`。", "hint": "对于 $100\\%$ 的数据，$1\\le D\\le10$，$1\\le n\\le10^4$。", "locale": "zh-CN"}}}
{"pid": "P5950", "type": "P", "difficulty": 6, "samples": [["3 4 5 4 3 4 5 4 3 4", "49999999499999999949999999973"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2000", "字典树 Trie", "BalticOI（波罗的海）"], "title": "[BalticOI 2000] Stickers", "background": "", "description": "Charles 在商店里买了很多很多盒装的不干胶，所有不干胶上都印着 $0-9$ 中的某个数字。\n\n每个盒里装的各种不干胶数目都一样：有 $i_0$个数字 $0$，$ i_1$ 个数字 $1 ,…,i_9$ 个数字 $9$，且每盒中各种数字的不干胶数目都不超过 $9$。\n\n最开始，所有的盒子都是关着的，Charles 每次打开一个新的盒子，然后从已经打开的盒子中取出需要的不干胶拼成一个数，第一次拼成 $1$ ，第二次拼成 $2$ …第N次拼成 $N$ 。为了拼成数 $N$，Charles需要为N的每一个数字使用一张不干胶。\n\n例如，再打开第 $2070$ 的盒子以后，为了拼成数 $2070$ ，它需要从已经打开的盒子（无论是以前打开的还是这次打开的）中取出一个 $2$，两个 $0$ 和一个 $7$。\n\n取出的不干胶可以在之后使用。如果某次打开了一个盒子以后无法拼成相应的数，Charles 就停止工作。给出 $i_0,i_1,i_2,…,i_9$ 的值，编程计算 Charles 一共能拼出多少个数。例如，如果每盒中有各种数字的不干胶恰一张，则 Charles 一共可以拼出 $199990$ 个数。", "inputFormat": "输入包含 $10$ 个 $1$ 位整数：$i_0, i_1, i_2, i_3, i_4, i_5, i_6, i_7, i_8, i_9$，其中 $i_j$ 表示在每个盒子中，写着数字 $j$ 的不干胶的数目。", "outputFormat": "输出能拼出多少个数。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2000] Stickers", "background": "", "description": "Charles 在商店里买了很多很多盒装的不干胶，所有不干胶上都印着 $0-9$ 中的某个数字。\n\n每个盒里装的各种不干胶数目都一样：有 $i_0$个数字 $0$，$ i_1$ 个数字 $1 ,…,i_9$ 个数字 $9$，且每盒中各种数字的不干胶数目都不超过 $9$。\n\n最开始，所有的盒子都是关着的，Charles 每次打开一个新的盒子，然后从已经打开的盒子中取出需要的不干胶拼成一个数，第一次拼成 $1$ ，第二次拼成 $2$ …第N次拼成 $N$ 。为了拼成数 $N$，Charles需要为N的每一个数字使用一张不干胶。\n\n例如，再打开第 $2070$ 的盒子以后，为了拼成数 $2070$ ，它需要从已经打开的盒子（无论是以前打开的还是这次打开的）中取出一个 $2$，两个 $0$ 和一个 $7$。\n\n取出的不干胶可以在之后使用。如果某次打开了一个盒子以后无法拼成相应的数，Charles 就停止工作。给出 $i_0,i_1,i_2,…,i_9$ 的值，编程计算 Charles 一共能拼出多少个数。例如，如果每盒中有各种数字的不干胶恰一张，则 Charles 一共可以拼出 $199990$ 个数。", "inputFormat": "输入包含 $10$ 个 $1$ 位整数：$i_0, i_1, i_2, i_3, i_4, i_5, i_6, i_7, i_8, i_9$，其中 $i_j$ 表示在每个盒子中，写着数字 $j$ 的不干胶的数目。", "outputFormat": "输出能拼出多少个数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P5951", "type": "P", "difficulty": 2, "samples": [["100 10 500\n1\n1 0.5", "5.0050000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2003", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2003] Barrel", "background": "大水池子。\n", "description": "给定一个水池的底面积 $S$ 和高 $H$。\n\n现在其中有体积为 $V$ 的水量，放入 $n$ 个立方体，给出每个立方体的棱长和密度，请你求出水池中水池的高度。\n\n注：此处我们忽视空气的任何作用力， 认为正方体之间互不接触且不会在水中旋转， 且认为水的密度为 $1$。", "inputFormat": "第一行三个整数 $S,H,V$。\n\n第二行为一个整数 $n$。\n\n接下来的 $n$ 行，每行两个实数，为这个立方体的棱长和密度。", "outputFormat": "输出最终水面的高度。答案误差不超过 $10^{-7}$ 即可。", "hint": "对于 $100\\%$ 的数据，$1\\le S,H,V\\le10000$，$1\\le n\\le 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2003] Barrel", "background": "大水池子。\n", "description": "给定一个水池的底面积 $S$ 和高 $H$。\n\n现在其中有体积为 $V$ 的水量，放入 $n$ 个立方体，给出每个立方体的棱长和密度，请你求出水池中水池的高度。\n\n注：此处我们忽视空气的任何作用力， 认为正方体之间互不接触且不会在水中旋转， 且认为水的密度为 $1$。", "inputFormat": "第一行三个整数 $S,H,V$。\n\n第二行为一个整数 $n$。\n\n接下来的 $n$ 行，每行两个实数，为这个立方体的棱长和密度。", "outputFormat": "输出最终水面的高度。答案误差不超过 $10^{-7}$ 即可。", "hint": "对于 $100\\%$ 的数据，$1\\le S,H,V\\le10000$，$1\\le n\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P5952", "type": "P", "difficulty": 5, "samples": [["3 2 2\n1\n1\n1\n1 2\n1 1", "65\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2018", "POI（波兰）", "生成树"], "title": "[POI 2018] 水箱", "background": "", "description": "在地面上有一个水箱，它的俯视图被划分成了 $n$ 行 $m$ 列个方格，相邻两个方格之间有一堵厚度可以忽略不计的墙，水箱与外界之间有一堵高度无穷大的墙，因此水不可能漏到外面。已知水箱内每个格子的高度只能是 $[0,H]$ 之间的整数，请统计有多少可能的水位情况。\n\n因为答案可能很大，请对 $10^9+7$ 取模输出。\n\n我们说两种情况是不同的当且仅当存在至少一个方格的水位在两个情况中不同。", "inputFormat": "第一行包含三个正整数 $n,m,H$。\n接下来 $n$ 行，每行 $m-1$ 个整数$ a[i][j](1\\le a[i][j]\\le H)$，表示 $(i,j)$ 和 $(i,j+1)$ 之间的墙的高度。\n\n接下来 $n-1$ 行，每行 $m$ 个整数 $b[i][j](1\\le b[i][j]\\le H)$ ，表示 $(i,j)$ 和 $(i+1,j)$ 之间的墙的高度。", "outputFormat": "输出一行一个整数，即方案数模 $10^9+7$ 的结果。", "hint": "对于 $100\\%$ 的数据，$n\\times m\\le500000$，$1\\le H\\le10^9$。\n\n----\n\n### 样例解释：\n\n要么全部格子水位都是 $2$，要么全部格子水位都在 $[0,1]$ 之间，共 $1+2^6=65$ 种情况。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018] 水箱", "background": "", "description": "在地面上有一个水箱，它的俯视图被划分成了 $n$ 行 $m$ 列个方格，相邻两个方格之间有一堵厚度可以忽略不计的墙，水箱与外界之间有一堵高度无穷大的墙，因此水不可能漏到外面。已知水箱内每个格子的高度只能是 $[0,H]$ 之间的整数，请统计有多少可能的水位情况。\n\n因为答案可能很大，请对 $10^9+7$ 取模输出。\n\n我们说两种情况是不同的当且仅当存在至少一个方格的水位在两个情况中不同。", "inputFormat": "第一行包含三个正整数 $n,m,H$。\n接下来 $n$ 行，每行 $m-1$ 个整数$ a[i][j](1\\le a[i][j]\\le H)$，表示 $(i,j)$ 和 $(i,j+1)$ 之间的墙的高度。\n\n接下来 $n-1$ 行，每行 $m$ 个整数 $b[i][j](1\\le b[i][j]\\le H)$ ，表示 $(i,j)$ 和 $(i+1,j)$ 之间的墙的高度。", "outputFormat": "输出一行一个整数，即方案数模 $10^9+7$ 的结果。", "hint": "对于 $100\\%$ 的数据，$n\\times m\\le500000$，$1\\le H\\le10^9$。\n\n----\n\n### 样例解释：\n\n要么全部格子水位都是 $2$，要么全部格子水位都在 $[0,1]$ 之间，共 $1+2^6=65$ 种情况。", "locale": "zh-CN"}}}
{"pid": "P5953", "type": "P", "difficulty": 5, "samples": [["3 5 2\n1 5 3 3 3\n4 1 3 3 4\n4 2 4 4 3", "4 20"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "POI（波兰）", "O2优化"], "title": "[POI 2018] Różnorodność", "background": "", "description": "给定一个 $n$ 行 $m$ 列的矩阵，请对于每个长宽均为 $k$ 的连续子正方形，统计里面出现过的数值的种类数。", "inputFormat": "第一行包含三个正整数 $n,m,k$\n接下来 $n$ 行，每行 $m$ 个正整数 $a[i][j](1<=a[i][j]<=100000)$ ，表示矩阵中每个位置的数值。", "outputFormat": "输出一行两个整数 $M$ 和 $ S$。\n设 $f(i,j)$ 表示以 $(i,j)$ 为左上角的正方形内出现过的数值的种类数，则 $M$ 表示 $f$ 的最大值，$ S$ 表示 $f$ 的总和。", "hint": "对于 $100\\%$ 的数据，$n,m\\le3000$，$k\\le \\min(n,m)$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018] Różnorodność", "background": "", "description": "给定一个 $n$ 行 $m$ 列的矩阵，请对于每个长宽均为 $k$ 的连续子正方形，统计里面出现过的数值的种类数。", "inputFormat": "第一行包含三个正整数 $n,m,k$\n接下来 $n$ 行，每行 $m$ 个正整数 $a[i][j](1<=a[i][j]<=100000)$ ，表示矩阵中每个位置的数值。", "outputFormat": "输出一行两个整数 $M$ 和 $ S$。\n设 $f(i,j)$ 表示以 $(i,j)$ 为左上角的正方形内出现过的数值的种类数，则 $M$ 表示 $f$ 的最大值，$ S$ 表示 $f$ 的总和。", "hint": "对于 $100\\%$ 的数据，$n,m\\le3000$，$k\\le \\min(n,m)$。", "locale": "zh-CN"}}}
{"pid": "P5954", "type": "P", "difficulty": 5, "samples": [["3 2 1\n1 3\n2 3\n3", "3"], ["4 4 1\n1 2\n1 3\n2 4\n3 4\n4", "1 2 3 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2013", "各省省选", "江苏", "拓扑排序", "bitset"], "title": "[JSOI2013] 侦探 JYY", "background": "", "description": "JSOI 的世界里一共有 $N$ 个不同的事件（依次由 $1$ 到 $N$ 编号），以及 $M$ 条线索。每一条线索对应一个二元组 $(x,y)$，表示事件 $x$ 发生会导致事件 $y$ 发生。\n\n**注意： 线索是单向的，也就是如果 $y$ 发生了，并不代表 $x$ 一定会发生。**\n\n线索是有传递性的， 即如果存在线索 $(x,y)$ 以及 $(y,z)$， 那么 $x$ 发生则会导致 $z$ 发生。\n\n同时由于世界是合理的，任意一个事件 $x$ 一定不会通过某些线索导致事件 $x$ 本身发生。\n\n另外，整个世界仅包含这 $M$ 条线索， 我们不认为一些事件会凭空发生（就像福尔摩斯永远不会认为诡异的凶杀案是源于神的谴责）。具体而言，对于某个事件 $x$， 如果 $x$ 发生了，并且存在某个事件可能导致 $x$ 发生，那么一定至少有一个可能导致 $x$ 发生的事件发生了。\n\n现在已知世界上的 $M$ 条线索，以及 $D$ 个已经发生的事件，那么由此推断，\n哪些事件一定已经发生了呢？", "inputFormat": "第一行包含用空格隔开的三个整数，分别为 $N$，$M$ 和 $D$。\n\n接下来 $M$ 行，每行两个整数 $x$，$y$ 表示线索 $(x,y)$， 满足 $1\\leq x,y\\leq N$。\n\n接下来 $D$ 行为 $D$ 个 $1$ 到 $N$ 之间不同的整数， 表示已知的已经发生的事件。", "outputFormat": "包含一行至少 $D$ 个由空格隔开的严格递增的正整数， 表示根据 $M$ 条线索以及 $D$ 个已知事件 JYY 所能推断出的一定发生了的事件。", "hint": "### 样例解释\n\n在第一个样例中，由于事件 $1$ 和事件 $2$ 这两个事件中的任何一个发生都会导致事件 $3$ 发生，所以我们并不能确定到底哪个事件发生了。\n\n在第二个样例中，由于事件 $4$ 发生了，所以事件 $2$ 和事件 $3$ 中至少有一个发生了。而不论哪一个发生了，都可以推出事件 $1$ 发生了。\n\n最终由于事件 $1$ 发生了，使得我们可以推断出，所有 $4$ 个事件都必然发生了。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\leq D\\leq N\\leq 10^3,1\\leq M\\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2013] 侦探 JYY", "background": "", "description": "JSOI 的世界里一共有 $N$ 个不同的事件（依次由 $1$ 到 $N$ 编号），以及 $M$ 条线索。每一条线索对应一个二元组 $(x,y)$，表示事件 $x$ 发生会导致事件 $y$ 发生。\n\n**注意： 线索是单向的，也就是如果 $y$ 发生了，并不代表 $x$ 一定会发生。**\n\n线索是有传递性的， 即如果存在线索 $(x,y)$ 以及 $(y,z)$， 那么 $x$ 发生则会导致 $z$ 发生。\n\n同时由于世界是合理的，任意一个事件 $x$ 一定不会通过某些线索导致事件 $x$ 本身发生。\n\n另外，整个世界仅包含这 $M$ 条线索， 我们不认为一些事件会凭空发生（就像福尔摩斯永远不会认为诡异的凶杀案是源于神的谴责）。具体而言，对于某个事件 $x$， 如果 $x$ 发生了，并且存在某个事件可能导致 $x$ 发生，那么一定至少有一个可能导致 $x$ 发生的事件发生了。\n\n现在已知世界上的 $M$ 条线索，以及 $D$ 个已经发生的事件，那么由此推断，\n哪些事件一定已经发生了呢？", "inputFormat": "第一行包含用空格隔开的三个整数，分别为 $N$，$M$ 和 $D$。\n\n接下来 $M$ 行，每行两个整数 $x$，$y$ 表示线索 $(x,y)$， 满足 $1\\leq x,y\\leq N$。\n\n接下来 $D$ 行为 $D$ 个 $1$ 到 $N$ 之间不同的整数， 表示已知的已经发生的事件。", "outputFormat": "包含一行至少 $D$ 个由空格隔开的严格递增的正整数， 表示根据 $M$ 条线索以及 $D$ 个已知事件 JYY 所能推断出的一定发生了的事件。", "hint": "### 样例解释\n\n在第一个样例中，由于事件 $1$ 和事件 $2$ 这两个事件中的任何一个发生都会导致事件 $3$ 发生，所以我们并不能确定到底哪个事件发生了。\n\n在第二个样例中，由于事件 $4$ 发生了，所以事件 $2$ 和事件 $3$ 中至少有一个发生了。而不论哪一个发生了，都可以推出事件 $1$ 发生了。\n\n最终由于事件 $1$ 发生了，使得我们可以推断出，所有 $4$ 个事件都必然发生了。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1\\leq D\\leq N\\leq 10^3,1\\leq M\\leq 10^5$。", "locale": "zh-CN"}}}
