{"pid": "P1884", "type": "P", "difficulty": 4, "samples": [["2\n0 5 4 1\n2 4 6 2\n", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "线段树", "USACO", "离散化", "扫描线", "差分"], "title": "[USACO12FEB] Overplanting S", "background": null, "description": "在一个笛卡尔平面坐标系里（则 $X$ 轴向右是正方向，$Y$ 轴向上是正方向），有 $N\\ (1 \\le N \\le 1000)$ 个矩形，第 $i$ 个矩形的左上角坐标是 $(x_1,y_1)$，右下角坐标是 $(x_2,y_2)$。问这 $N$ 个矩形所覆盖的面积是多少？\n\n注意：被重复覆盖的区域的面积只算一次。", "inputFormat": "第一行，一个整数 $N\\ (1 \\le N \\le 1000)$。\n\n接下来有 $N$ 行，每行描述一个矩形的信息，分别是矩形的 $x_1,y_1,x_2,y_2(-10^8 \\le x_1,y_1,x_2,y_2 \\le 10^8)$。", "outputFormat": "一个整数，被 $N$ 个矩形覆盖的区域的面积。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[USACO12FEB] Overplanting S", "background": null, "description": "Farmer John has purchased a new machine that is capable of planting grass within any rectangular region of his farm that is \"axially aligned\" (i.e., with vertical and horizontal sides). Unfortunately, the machine malfunctions one day and plants grass in not one, but N (1 <= N <= 1000) different rectangular regions, some of which may even overlap.\n\nGiven the rectangular regions planted with grass, please help FJ compute the total area in his farm that is now covered with grass.", "inputFormat": null, "outputFormat": null, "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO12FEB] Overplanting S", "background": null, "description": "在一个笛卡尔平面坐标系里（则 $X$ 轴向右是正方向，$Y$ 轴向上是正方向），有 $N\\ (1 \\le N \\le 1000)$ 个矩形，第 $i$ 个矩形的左上角坐标是 $(x_1,y_1)$，右下角坐标是 $(x_2,y_2)$。问这 $N$ 个矩形所覆盖的面积是多少？\n\n注意：被重复覆盖的区域的面积只算一次。", "inputFormat": "第一行，一个整数 $N\\ (1 \\le N \\le 1000)$。\n\n接下来有 $N$ 行，每行描述一个矩形的信息，分别是矩形的 $x_1,y_1,x_2,y_2(-10^8 \\le x_1,y_1,x_2,y_2 \\le 10^8)$。", "outputFormat": "一个整数，被 $N$ 个矩形覆盖的区域的面积。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1885", "type": "P", "difficulty": 3, "samples": [["11", "m"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "递归", "分治"], "title": "Moo", "background": null, "description": "奶牛 Bessie 最近在学习字符串操作，它用如下的规则逐一的构造出新的字符串：\n\n$S(0) =$ `moo`\n\n$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`\n\n$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`\n\n$\\dots$\n\nBessie 就这样产生字符串，直到最后产生的那个字符串长度不小于读入的整数 $N$ 才停止。\n\n通过上面观察，可以发现第 $k$ 个字符串是由：第 $k-1$ 个字符串 $+$ `m` $+$  $(k+2$ 个 $o) +$ 第 $k-1$ 个字符串连接起来的。\n\n现在的问题是：给出一个整数 $N (1 \\leq N \\leq 10^9)$，问第 $N$ 个字符是字母 `m` 还是 `o`？", "inputFormat": "一个正整数 $N$。", "outputFormat": "一个字符，`m` 或者 `o`。", "hint": "**样例解释：**\n\n由题目所知：字符串 $S(0)$ 是 `moo`, 现在要求第 $11$ 个字符，显然字符串 $S(0)$ 不够长；\n\n同样 $S(1)$ 的长度是 $10$，也不够长；$S(2)$ 的长度是 $25$，够长了，$S(2)$ 的第 $11$ 个字符是 `m`，所以答案就输出 `m`。\n\n**数据范围：**\n\n$1\\leq N\\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Moo", "background": "", "description": "Cow Bessie has recently been studying string operations. She constructs new strings one by one using the following rules:\n\n$S(0) =$ `moo`.\n\n$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`.\n\n$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`.\n\n$\\dots$\n\nBessie keeps generating strings until the length of the last generated string is at least the input integer $N$.\n\nFrom the above, we can see that the $k$-th string is formed by concatenating: the $(k-1)$-th string $+$ `m` $+$ $(k+2$ 个 $o) +$ the $(k-1)$-th string.\n\nNow the problem is: given an integer $N$ ($1 \\leq N \\leq 10^9$), determine whether the $N$-th character is the letter `m` or `o`.", "inputFormat": "A single positive integer $N$.", "outputFormat": "A single character, `m` or `o`.", "hint": "**Sample explanation:**\n\nAs stated, string $S(0)$ is `moo`. We need the $11$-th character, and clearly $S(0)$ is not long enough. Likewise, the length of $S(1)$ is $10$, still not enough. The length of $S(2)$ is $25$, which is enough. The $11$-th character of $S(2)$ is `m`, so the answer is `m`.\n\n**Constraints:**\n\n$1\\leq N\\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Moo", "background": null, "description": "奶牛 Bessie 最近在学习字符串操作，它用如下的规则逐一的构造出新的字符串：\n\n$S(0) =$ `moo`\n\n$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`\n\n$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`\n\n$\\dots$\n\nBessie 就这样产生字符串，直到最后产生的那个字符串长度不小于读入的整数 $N$ 才停止。\n\n通过上面观察，可以发现第 $k$ 个字符串是由：第 $k-1$ 个字符串 $+$ `m` $+$  $(k+2$ 个 $o) +$ 第 $k-1$ 个字符串连接起来的。\n\n现在的问题是：给出一个整数 $N (1 \\leq N \\leq 10^9)$，问第 $N$ 个字符是字母 `m` 还是 `o`？", "inputFormat": "一个正整数 $N$。", "outputFormat": "一个字符，`m` 或者 `o`。", "hint": "**样例解释：**\n\n由题目所知：字符串 $S(0)$ 是 `moo`, 现在要求第 $11$ 个字符，显然字符串 $S(0)$ 不够长；\n\n同样 $S(1)$ 的长度是 $10$，也不够长；$S(2)$ 的长度是 $25$，够长了，$S(2)$ 的第 $11$ 个字符是 `m`，所以答案就输出 `m`。\n\n**数据范围：**\n\n$1\\leq N\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1886", "type": "P", "difficulty": 3, "samples": [["8 3\n1 3 -1 -3 5 3 6 7", "-1 -3 -3 -3 3 3\n3 3 5 5 6 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["单调队列", "队列", "模板题"], "title": "【模板】单调队列 / 滑动窗口", "background": "", "description": "有一个长为 $n$ 的序列 $a$，以及一个大小为 $k$ 的窗口。现在这个窗口从左边开始向右滑动，每次滑动一个单位，求出每次滑动后窗口中的最小值和最大值。\n\n例如，对于序列 $[1,3,-1,-3,5,3,6,7]$ 以及 $k = 3$，有如下过程：\n\n$$\\def\\arraystretch{1.2}\n\\begin{array}{|c|c|c|}\\hline\n\\textsf{窗口位置} & \\textsf{最小值} & \\textsf{最大值} \\\\ \\hline\n\\verb![1   3  -1] -3   5   3   6   7 ! & -1 & 3 \\\\ \\hline\n\\verb! 1  [3  -1  -3]  5   3   6   7 ! & -3 & 3 \\\\ \\hline\n\\verb! 1   3 [-1  -3   5]  3   6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1 [-3   5   3]  6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1  -3  [5   3   6]  7 ! & 3 & 6 \\\\ \\hline\n\\verb! 1   3  -1  -3   5  [3   6   7]! & 3 & 7 \\\\ \\hline\n\\end{array}\n$$", "inputFormat": "输入一共有两行，第一行有两个正整数 $n,k$；\\\n第二行有 $n$ 个整数，表示序列 $a$。", "outputFormat": "输出共两行，第一行为每次窗口滑动的最小值；   \n第二行为每次窗口滑动的最大值。", "hint": "【数据范围】    \n对于 $50\\%$ 的数据，$1 \\le n \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le n \\le 10^6$，$a_i \\in [-2^{31},2^{31})$。", "locale": "zh-CN", "translations": {"en": {"title": "Sliding Window / [Template] Monotonic Queue", "background": "", "description": "There is a sequence $a$ of length $n$ and a window of size $k$. The window slides from left to right, moving one position at a time. After each slide, find the minimum and maximum values within the window.\n\nFor example, for the sequence $[1,3,-1,-3,5,3,6,7]$ and $k = 3$, the process is as follows:\n\n$$\\def\\arraystretch{1.2}\n\\begin{array}{|c|c|c|}\\hline\n\\textsf{Window position} & \\textsf{Minimum} & \\textsf{Maximum} \\\\ \\hline\n\\verb![1   3  -1] -3   5   3   6   7 ! & -1 & 3 \\\\ \\hline\n\\verb! 1  [3  -1  -3]  5   3   6   7 ! & -3 & 3 \\\\ \\hline\n\\verb! 1   3 [-1  -3   5]  3   6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1 [-3   5   3]  6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1  -3  [5   3   6]  7 ! & 3 & 6 \\\\ \\hline\n\\verb! 1   3  -1  -3   5  [3   6   7]! & 3 & 7 \\\\ \\hline\n\\end{array}\n$$", "inputFormat": "The input has two lines. The first line contains two positive integers $n, k$.  \nThe second line contains $n$ integers representing the sequence $a$.", "outputFormat": "Output two lines. The first line contains the minimum of the window after each slide.  \nThe second line contains the maximum of the window after each slide.", "hint": "[Constraints]  \nFor 50% of the testdata, $1 \\le n \\le 10^5$.  \nFor 100% of the testdata, $1 \\le k \\le n \\le 10^6$, $a_i \\in [-2^{31}, 2^{31})$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】单调队列 / 滑动窗口", "background": "", "description": "有一个长为 $n$ 的序列 $a$，以及一个大小为 $k$ 的窗口。现在这个窗口从左边开始向右滑动，每次滑动一个单位，求出每次滑动后窗口中的最小值和最大值。\n\n例如，对于序列 $[1,3,-1,-3,5,3,6,7]$ 以及 $k = 3$，有如下过程：\n\n$$\\def\\arraystretch{1.2}\n\\begin{array}{|c|c|c|}\\hline\n\\textsf{窗口位置} & \\textsf{最小值} & \\textsf{最大值} \\\\ \\hline\n\\verb![1   3  -1] -3   5   3   6   7 ! & -1 & 3 \\\\ \\hline\n\\verb! 1  [3  -1  -3]  5   3   6   7 ! & -3 & 3 \\\\ \\hline\n\\verb! 1   3 [-1  -3   5]  3   6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1 [-3   5   3]  6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1  -3  [5   3   6]  7 ! & 3 & 6 \\\\ \\hline\n\\verb! 1   3  -1  -3   5  [3   6   7]! & 3 & 7 \\\\ \\hline\n\\end{array}\n$$", "inputFormat": "输入一共有两行，第一行有两个正整数 $n,k$；\\\n第二行有 $n$ 个整数，表示序列 $a$。", "outputFormat": "输出共两行，第一行为每次窗口滑动的最小值；   \n第二行为每次窗口滑动的最大值。", "hint": "【数据范围】    \n对于 $50\\%$ 的数据，$1 \\le n \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le n \\le 10^6$，$a_i \\in [-2^{31},2^{31})$。", "locale": "zh-CN"}}}
{"pid": "P1887", "type": "P", "difficulty": 1, "samples": [["6 3", "2 2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "洛谷原创"], "title": "乘积最大3", "background": "", "description": "请你找出 $M$ 个和为 $N$ 的正整数，他们的乘积要尽可能的大。\n\n输出字典序最小的一种方案。\n", "inputFormat": "一行，两个正整数 $N,M$\n", "outputFormat": "$M$ 个和为 $N$ 的，乘积尽可能的大的正整数。\n", "hint": "对于100%的数据，$1 \\le N \\le 10^{9},1 \\le M \\le 10^{6}$。数据保证 $N \\geq M$。", "locale": "zh-CN", "translations": {"en": {"title": "Maximum Product 3", "background": "", "description": "Find $M$ positive integers that sum to $N$ such that their product is as large as possible. Among all optimal solutions, output the lexicographically smallest one.", "inputFormat": "One line containing two positive integers $N, M$.", "outputFormat": "Output $M$ positive integers that sum to $N$ and whose product is as large as possible, separated by spaces. The sequence should be the lexicographically smallest among all optimal solutions.", "hint": "For 100% of the testdata, $1 \\le N \\le 10^{9}$, $1 \\le M \\le 10^{6}$. It is guaranteed that $N \\ge M$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "乘积最大3", "background": "", "description": "请你找出 $M$ 个和为 $N$ 的正整数，他们的乘积要尽可能的大。\n\n输出字典序最小的一种方案。\n", "inputFormat": "一行，两个正整数 $N,M$\n", "outputFormat": "$M$ 个和为 $N$ 的，乘积尽可能的大的正整数。\n", "hint": "对于100%的数据，$1 \\le N \\le 10^{9},1 \\le M \\le 10^{6}$。数据保证 $N \\geq M$。", "locale": "zh-CN"}}}
{"pid": "P1888", "type": "P", "difficulty": 1, "samples": [["3 5 4", "3/5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "排序", "最大公约数 gcd"], "title": "三角函数", "background": "", "description": "输入一组勾股数 $a,b,c（a\\neq b\\neq c）$，用分数格式输出其较小锐角的正弦值。（要求约分。）\n", "inputFormat": "一行，包含三个正整数，即勾股数 $a,b,c$（无大小顺序）。\n", "outputFormat": "一行，包含一个分数，即较小锐角的正弦值\n", "hint": "数据保证：$a,b,c$ 为正整数且 $\\in [1,10^9]$。", "locale": "zh-CN", "translations": {"en": {"title": "Trigonometric Functions", "background": "", "description": "Given a Pythagorean triple $a,b,c（a\\neq b\\neq c）$, output the sine of its smaller acute angle in fractional form. Reduce it to lowest terms.", "inputFormat": "One line containing three positive integers, i.e., the Pythagorean triple $a,b,c$ (in any order).", "outputFormat": "One line containing a fraction, which is the sine of the smaller acute angle.", "hint": "The testdata guarantees that $a,b,c$ are positive integers and $\\in [1,10^9]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "三角函数", "background": "", "description": "输入一组勾股数 $a,b,c（a\\neq b\\neq c）$，用分数格式输出其较小锐角的正弦值。（要求约分。）\n", "inputFormat": "一行，包含三个正整数，即勾股数 $a,b,c$（无大小顺序）。\n", "outputFormat": "一行，包含一个分数，即较小锐角的正弦值\n", "hint": "数据保证：$a,b,c$ 为正整数且 $\\in [1,10^9]$。", "locale": "zh-CN"}}}
{"pid": "P1889", "type": "P", "difficulty": 3, "samples": [["5\n1 2\n2 2\n1 3\n3 -2\n3 3", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "排序"], "title": "士兵站队", "background": null, "description": "在一个划分成网格的操场上，$n$ 个士兵散乱地站在网格点上，由整数坐标 $(x,y)$ 表示。\n\n士兵们可以沿网格边上、下、左、右移动一步，但在同时刻任一网格点上只能有 1 名士兵。\n\n按照军官的命令，他们要整齐地列成一个水平队列，即排成队列，即排成 $(x,y),(x+1,y),\\ldots,(x+n-1,y)$。请求出如何选择 $x$ 和 $y$ 的值才能使士兵们以最少的总移动步数排成一列。", "inputFormat": "输入的第一行是一个整数，代表士兵数 $n$。\n\n第 $2$ 到 $(n + 1)$ 行，每行 $2$ 个整数，第 $(i + 1)$ 行的整数 $x_i, y_i$ 代表第 $i$ 个士兵的坐标。", "outputFormat": "输出一行一个整数，代表答案。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^4$，$-10^4 \\leq x,y \\leq 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Soldiers Line Up", "background": "", "description": "On a grid-partitioned playground, $n$ soldiers are scattered on grid points, each represented by integer coordinates $(x, y)$.\n\nA soldier can move one step up, down, left, or right along grid edges, but at any moment, at most one soldier may occupy any grid point.\n\nBy order, they must form a neat horizontal lineup, that is, the sequence $(x, y), (x+1, y), \\ldots, (x+n-1, y)$. Determine how to choose $x$ and $y$ so that the total number of steps taken by all soldiers to line up is minimized.", "inputFormat": "The first line contains an integer $n$ — the number of soldiers.\n\nLines $2$ to $n+1$ each contain $2$ integers. On line $i+1$, the integers $x_i, y_i$ denote the coordinates of the $i$-th soldier.", "outputFormat": "Output a single integer on one line — the answer.", "hint": "Constraints: For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^4$, $-10^4 \\leq x, y \\leq 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "士兵站队", "background": null, "description": "在一个划分成网格的操场上，$n$ 个士兵散乱地站在网格点上，由整数坐标 $(x,y)$ 表示。\n\n士兵们可以沿网格边上、下、左、右移动一步，但在同时刻任一网格点上只能有 1 名士兵。\n\n按照军官的命令，他们要整齐地列成一个水平队列，即排成队列，即排成 $(x,y),(x+1,y),\\ldots,(x+n-1,y)$。请求出如何选择 $x$ 和 $y$ 的值才能使士兵们以最少的总移动步数排成一列。", "inputFormat": "输入的第一行是一个整数，代表士兵数 $n$。\n\n第 $2$ 到 $(n + 1)$ 行，每行 $2$ 个整数，第 $(i + 1)$ 行的整数 $x_i, y_i$ 代表第 $i$ 个士兵的坐标。", "outputFormat": "输出一行一个整数，代表答案。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^4$，$-10^4 \\leq x,y \\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1890", "type": "P", "difficulty": 3, "samples": [["5 3\r\n4 12 3 6 7\r\n1 3\r\n2 3\r\n5 5\r\n", "1\r\n3\r\n7\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "线段树", "最大公约数 gcd", "ST 表"], "title": "gcd 区间", "background": null, "description": "给定 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n$m$ 次询问，每次询问给定一个区间 $[l,r]$，输出 $a_l,a_{l+1},\\dots,a_r$ 的最大公因数。", "inputFormat": "第一行两个整数 $n,m$。  \n第二行 $n$ 个整数表示 $a_1,a_2,\\dots,a_n$。  \n以下 $m$ 行，每行两个整数 $l, r$ 表示询问区间的左右端点。", "outputFormat": "共 $m$ 行，每行表示一个询问的答案。", "hint": "- 对于 $30\\%$ 的数据，$1\\leq n \\leq 100$，$1\\leq m \\leq 10$；  \n- 对于 $60\\%$ 的数据，$1\\leq m \\leq 1000$；\n- 对于 $100\\%$ 的数据，$1 \\leq l \\leq r \\leq n \\leq 1000$，$1\\leq m \\leq 10^6$，$1 \\leq a_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "GCD Interval", "background": "", "description": "Given $n$ positive integers $a_1, a_2, \\dots, a_n$.\n\nThere are $m$ queries. For each query, given an interval $[l, r]$, output the greatest common divisor of $a_l, a_{l+1}, \\dots, a_r$.", "inputFormat": "The first line contains two integers $n, m$.  \nThe second line contains $n$ integers representing $a_1, a_2, \\dots, a_n$.  \nEach of the next $m$ lines contains two integers $l, r$ representing the left and right endpoints of the query interval.", "outputFormat": "Print $m$ lines, each line is the answer to one query.", "hint": "- For $30\\%$ of the testdata, $1 \\leq n \\leq 100$, $1 \\leq m \\leq 10$.  \n- For $60\\%$ of the testdata, $1 \\leq m \\leq 1000$.  \n- For $100\\%$ of the testdata, $1 \\leq l \\leq r \\leq n \\leq 1000$, $1 \\leq m \\leq 10^6$, $1 \\leq a_i \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "gcd 区间", "background": null, "description": "给定 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n$m$ 次询问，每次询问给定一个区间 $[l,r]$，输出 $a_l,a_{l+1},\\dots,a_r$ 的最大公因数。", "inputFormat": "第一行两个整数 $n,m$。  \n第二行 $n$ 个整数表示 $a_1,a_2,\\dots,a_n$。  \n以下 $m$ 行，每行两个整数 $l, r$ 表示询问区间的左右端点。", "outputFormat": "共 $m$ 行，每行表示一个询问的答案。", "hint": "- 对于 $30\\%$ 的数据，$1\\leq n \\leq 100$，$1\\leq m \\leq 10$；  \n- 对于 $60\\%$ 的数据，$1\\leq m \\leq 1000$；\n- 对于 $100\\%$ 的数据，$1 \\leq l \\leq r \\leq n \\leq 1000$，$1\\leq m \\leq 10^6$，$1 \\leq a_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1891", "type": "P", "difficulty": 5, "samples": [["3\n1\n2\n5\n", "1\r\n4\r\n55"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "欧拉函数"], "title": "疯狂 LCM", "background": "众所周知，czmppppp 是数学大神犇。一天，他给众蒟蒻们出了一道数论题，蒟蒻们都惊呆了。", "description": "给定 $n$，求\n\n$$\\sum_{i = 1}^n \\operatorname{lcm}(i, n)$$\n\n其中 $\\operatorname{lcm}(i, j)$ 表示 $i$ 和 $j$ 的最小公倍数。", "inputFormat": "**本题单测试点内有多组数据**。\n\n输入的第一行是一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行一个整数，表示一组数据的 $n$。", "outputFormat": "对于每组数据，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $T \\leq 5$，$n \\leq 10^5$。\n- 对于 $100\\%$ 的数据，$1 \\leq T \\leq 3 \\times 10^5$，$1 \\leq n \\leq 10^6$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Crazy LCM", "background": "As we all know, czmppppp is a math genius. One day, he gave the newbies a number theory problem, and they were all shocked.", "description": "Given $n$, compute\n$$\\sum_{i = 1}^n \\operatorname{lcm}(i, n)$$\nwhere $\\operatorname{lcm}(i, j)$ denotes the least common multiple of $i$ and $j$.", "inputFormat": "**There are multiple test cases in a single test point.**\n\nThe first line contains an integer $T$, the number of test cases.\n\nThe next $T$ lines each contain one integer $n$.", "outputFormat": "For each test case, output one line with a single integer representing the answer.", "hint": "- Constraints:\n  - For $30\\%$ of the testdata, $T \\leq 5$, $n \\leq 10^5$.\n  - For $100\\%$ of the testdata, $1 \\leq T \\leq 3 \\times 10^5$, $1 \\leq n \\leq 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "疯狂 LCM", "background": "众所周知，czmppppp 是数学大神犇。一天，他给众蒟蒻们出了一道数论题，蒟蒻们都惊呆了。", "description": "给定 $n$，求\n\n$$\\sum_{i = 1}^n \\operatorname{lcm}(i, n)$$\n\n其中 $\\operatorname{lcm}(i, j)$ 表示 $i$ 和 $j$ 的最小公倍数。", "inputFormat": "**本题单测试点内有多组数据**。\n\n输入的第一行是一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行一个整数，表示一组数据的 $n$。", "outputFormat": "对于每组数据，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $T \\leq 5$，$n \\leq 10^5$。\n- 对于 $100\\%$ 的数据，$1 \\leq T \\leq 3 \\times 10^5$，$1 \\leq n \\leq 10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P1892", "type": "P", "difficulty": 4, "samples": [["6\n4\nE 1 4\nF 3 5\nF 4 6\nE 1 2", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "2003", "并查集", "图遍历", "BalticOI（波罗的海）"], "title": "[BalticOI 2003] 团伙", "background": "", "description": "现在有 $n$ 个人，他们之间有两种关系：朋友和敌人。我们知道：\n\n- 一个人的朋友的朋友是朋友\n- 一个人的敌人的敌人是朋友\n\n现在要对这些人进行组团。两个人在一个团体内当且仅当这两个人是朋友。请求出这些人中最多可能有的团体数。", "inputFormat": "第一行输入一个整数 $n$ 代表人数。\n\n第二行输入一个整数 $m$ 表示接下来要列出 $m$ 个关系。\n\n接下来 $m$ 行，每行一个字符 $opt$ 和两个整数 $p,q$，分别代表关系（朋友或敌人），有关系的两个人之中的第一个人和第二个人。其中 $opt$ 有两种可能：\n\n- 如果 $opt$ 为 `F`，则表明 $p$ 和 $q$ 是朋友。\n- 如果 $opt$ 为 `E`，则表明 $p$ 和 $q$ 是敌人。", "outputFormat": "一行一个整数代表最多的团体数。", "hint": "对于 $100\\%$ 的数据，$2 \\le n \\le 1000$，$1 \\le m \\le 5000$，$1 \\le p,q \\le n$。", "locale": "zh-CN", "translations": {"en": {"title": "[BalticOI 2003] Gangs", "background": "", "description": "There are $n$ people, and between any two people there are two kinds of relations: friend and enemy. We know:\n\n- A person's friend's friend is also a friend.\n- A person's enemy's enemy is a friend.\n\nWe want to form groups. Two people are in the same group if and only if they are friends. Find the maximum possible number of groups among these people.", "inputFormat": "The first line contains an integer $n$, the number of people.\n\nThe second line contains an integer $m$, meaning that $m$ relations follow.\n\nEach of the next $m$ lines contains a character $opt$ and two integers $p, q$, representing the type of relation (friend or enemy), the first person, and the second person among the two who have a relation. The character $opt$ has two possibilities:\n- If $opt$ is `F`, then $p$ and $q$ are friends.\n- If $opt$ is `E`, then $p$ and $q$ are enemies.", "outputFormat": "Output a single integer on one line: the maximum number of groups.", "hint": "For $100\\%$ of the testdata, $2 \\le n \\le 1000$, $1 \\le m \\le 5000$, $1 \\le p, q \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[BalticOI 2003] 团伙", "background": "", "description": "现在有 $n$ 个人，他们之间有两种关系：朋友和敌人。我们知道：\n\n- 一个人的朋友的朋友是朋友\n- 一个人的敌人的敌人是朋友\n\n现在要对这些人进行组团。两个人在一个团体内当且仅当这两个人是朋友。请求出这些人中最多可能有的团体数。", "inputFormat": "第一行输入一个整数 $n$ 代表人数。\n\n第二行输入一个整数 $m$ 表示接下来要列出 $m$ 个关系。\n\n接下来 $m$ 行，每行一个字符 $opt$ 和两个整数 $p,q$，分别代表关系（朋友或敌人），有关系的两个人之中的第一个人和第二个人。其中 $opt$ 有两种可能：\n\n- 如果 $opt$ 为 `F`，则表明 $p$ 和 $q$ 是朋友。\n- 如果 $opt$ 为 `E`，则表明 $p$ 和 $q$ 是敌人。", "outputFormat": "一行一个整数代表最多的团体数。", "hint": "对于 $100\\%$ 的数据，$2 \\le n \\le 1000$，$1 \\le m \\le 5000$，$1 \\le p,q \\le n$。", "locale": "zh-CN"}}}
{"pid": "P1893", "type": "P", "difficulty": 2, "samples": [["7\n3\n2\n3\n5\n4\n1\n6\n", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2010", "USACO", "枚举"], "title": "[USACO10OPEN] 山峰暸望 Mountain Watching S", "background": null, "description": "一天，Bessie 望着远处的山脉，在思考：“哪一座山最宽呢？”\n\nBessie 设法测量了 $N$ 个位置的高度 $h_i$（$1 \\leq N \\leq 10^4$，$1 \\leq h_i \\leq 10^9$）。一座山被定义为一个高度先不下降，后不上升的子序列。视野边缘的山脉也只会增加或减少高度。一座山的宽度被定义为这座山包含的位置数量。\n\n下面是一个例子：\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\n每座山都已经用字母标出来了。这里 `b` 山脉的宽度最大，为 $28$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $h_i$。", "outputFormat": "输出最宽的山的宽度。", "hint": "**【样例说明】**\n\n在最宽的山处测量到的高度为 $2, 3, 5, 4, 1$。其他的山包括 $3, 2$ 和 $1, 6$。\n\n---\n\n**【提示】**\n\n如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO10OPEN] Mountain Watching S", "background": "", "description": "One day, Bessie gazed at the distant mountains and wondered, \"Which mountain is the widest?\"\n\nBessie managed to measure the heights $h_i$ at $N$ positions ($1 \\leq N \\leq 10^4$, $1 \\leq h_i \\leq 10^9$). A mountain is defined as a contiguous subsequence whose heights first do not decrease and then do not increase. Mountains at the edges of the view may only increase or only decrease in height. The width of a mountain is defined as the number of positions it contains.\n\nHere is an example:\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\nEach mountain has been labeled with letters. Here, the mountain labeled `b` has the maximum width, which is 28.", "inputFormat": "The first line contains an integer $N$.\n\nThe next $N$ lines each contain an integer $h_i$.", "outputFormat": "Output the width of the widest mountain.", "hint": "Sample explanation:\n\nAt the widest mountain, the measured heights are 2, 3, 5, 4, 1. Other mountains include 3, 2 and 1, 6.\n\n---\n\nHint:\n\nIf you know the highest part of a mountain (the peak), you will find it easy to determine its width.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO10OPEN] 山峰暸望 Mountain Watching S", "background": null, "description": "一天，Bessie 望着远处的山脉，在思考：“哪一座山最宽呢？”\n\nBessie 设法测量了 $N$ 个位置的高度 $h_i$（$1 \\leq N \\leq 10^4$，$1 \\leq h_i \\leq 10^9$）。一座山被定义为一个高度先不下降，后不上升的子序列。视野边缘的山脉也只会增加或减少高度。一座山的宽度被定义为这座山包含的位置数量。\n\n下面是一个例子：\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\n每座山都已经用字母标出来了。这里 `b` 山脉的宽度最大，为 $28$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $h_i$。", "outputFormat": "输出最宽的山的宽度。", "hint": "**【样例说明】**\n\n在最宽的山处测量到的高度为 $2, 3, 5, 4, 1$。其他的山包括 $3, 2$ 和 $1, 6$。\n\n---\n\n**【提示】**\n\n如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。", "locale": "zh-CN"}}}
{"pid": "P1894", "type": "P", "difficulty": 4, "samples": [["5 5\n2 2 5\n3 2 3 4\n2 1 5\n3 1 2 5\n1 2", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["USACO", "二分图"], "title": "[USACO4.2] 完美的牛栏The Perfect Stall", "background": "", "description": "农夫约翰上个星期刚刚建好了他的新牛棚，他使用了最新的挤奶技术。\n\n不幸的是，由于工程问题，每个牛栏都不一样。\n\n第一个星期，农夫约翰随便地让奶牛们进入牛栏，但是问题很快地显露出来：每头奶牛都只愿意在她们喜欢的那些牛栏中产奶。\n\n上个星期，农夫约翰刚刚收集到了奶牛们的爱好的信息（每头奶牛喜欢在哪些牛栏产奶）。\n\n一个牛栏只能容纳一头奶牛，当然，一头奶牛只能在一个牛栏中产奶。\n\n给出奶牛们的爱好的信息，计算最大分配方案。", "inputFormat": "第一行为两个整数，$n$ 和 $m$。$n$ 是农夫约翰的奶牛数量，$m$ 是新牛棚的牛栏数量。\n\n第二行到第 $n+1$ 行 一共 $n$ 行，每行对应若干个整数一只奶牛。第一个数字 $s_i$ 是这头奶牛愿意在其中产奶的牛栏的数目。后面的 $s_i$ 个数表示这些牛栏的编号。牛栏的编号限定在区间 $[1,m]$ 中，在同一行，一个牛栏不会被列出两次。\n", "outputFormat": "只有一行，为一个整数，表示最多能分配到的牛栏的数量。", "hint": "$0\\le n,m\\le 200$，$0\\le s_i\\le m$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.2] The Perfect Stall", "background": "", "description": "Last week, Farmer John finished building his new barn, using the latest milking technology.\n\nUnfortunately, due to construction issues, every stall is different.\n\nIn the first week, Farmer John let the cows enter the stalls at random, but problems quickly appeared: each cow will only produce milk in the stalls she likes.\n\nLast week, Farmer John collected the cows’ preferences (for each cow, which stalls she likes to use).\n\nA stall can hold only one cow, and of course, a cow can be assigned to at most one stall.\n\nGiven the cows’ preferences, compute the maximum assignment.", "inputFormat": "The first line contains two integers, $n$ and $m$. $n$ is the number of Farmer John’s cows, and $m$ is the number of stalls in the new barn.\n\nLines $2$ through $n+1$ (a total of $n$ lines) each describe one cow and contain several integers. The first number $s_i$ is the number of stalls this cow is willing to use. The next $s_i$ numbers are the indices of those stalls. Stall indices are in the range $[1,m]$. On the same line, no stall is listed twice.", "outputFormat": "Output a single line with one integer, the maximum number of stalls that can be assigned.", "hint": "$0 \\le n,m \\le 200$, $0 \\le s_i \\le m$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.2] 完美的牛栏The Perfect Stall", "background": "", "description": "农夫约翰上个星期刚刚建好了他的新牛棚，他使用了最新的挤奶技术。\n\n不幸的是，由于工程问题，每个牛栏都不一样。\n\n第一个星期，农夫约翰随便地让奶牛们进入牛栏，但是问题很快地显露出来：每头奶牛都只愿意在她们喜欢的那些牛栏中产奶。\n\n上个星期，农夫约翰刚刚收集到了奶牛们的爱好的信息（每头奶牛喜欢在哪些牛栏产奶）。\n\n一个牛栏只能容纳一头奶牛，当然，一头奶牛只能在一个牛栏中产奶。\n\n给出奶牛们的爱好的信息，计算最大分配方案。", "inputFormat": "第一行为两个整数，$n$ 和 $m$。$n$ 是农夫约翰的奶牛数量，$m$ 是新牛棚的牛栏数量。\n\n第二行到第 $n+1$ 行 一共 $n$ 行，每行对应若干个整数一只奶牛。第一个数字 $s_i$ 是这头奶牛愿意在其中产奶的牛栏的数目。后面的 $s_i$ 个数表示这些牛栏的编号。牛栏的编号限定在区间 $[1,m]$ 中，在同一行，一个牛栏不会被列出两次。\n", "outputFormat": "只有一行，为一个整数，表示最多能分配到的牛栏的数量。", "hint": "$0\\le n,m\\le 200$，$0\\le s_i\\le m$。", "locale": "zh-CN"}}}
{"pid": "P1895", "type": "P", "difficulty": 4, "samples": [["2\n3\n8\n", "2\n2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "数字序列", "background": "", "description": "定义函数 $\\mathrm{tostring}(n)$ 表示将数字 $n$ 按照 $10$ 进制写成字符串。例如，$\\mathrm{tostring}(12345)={\\tt 12345}$。由此，\n\n- 定义字符串 $S_n={\\tt 1+2+3+4+\\cdots}+\\mathrm{tostring}(n)$；\n- 定义字符串 $S_{\\infin}=S_1+S_2+S_3+S_4+\\cdots$\n\n例如，$S_{\\infty}$ 的前若干项为：\n\n$$\\tt 112123123412345123456123456712345678123456789123456789101234567891011\\cdots$$\n\n现在询问 $S_{\\infin}$ 的第 $i$ 位是什么字符。\n", "inputFormat": "第一行为正整数 $t\\ (1 \\le t \\le 10)$，表示测试数据组数。\n\n接下来 $t$ 行，每行一个正整数 $i\\ (1 \\le i \\le 2^{31}-1)$，表示一次询问。", "outputFormat": "对于每一个 $i$，输出对应位置上的数字。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Digit Sequence", "background": "", "description": "Define the function $\\mathrm{tostring}(n)$ as writing the number $n$ in base $10$ as a string. For example, $\\mathrm{tostring}(12345)={\\tt 12345}$. Based on this,\n\n- Define the string $S_n={\\tt 1+2+3+4+\\cdots}+\\mathrm{tostring}(n)$.\n- Define the string $S_{\\infty}=S_1+S_2+S_3+S_4+\\cdots$.\n\nFor example, the beginning of $S_{\\infty}$ is:\n\n$$\\tt 112123123412345123456123456712345678123456789123456789101234567891011\\cdots$$\n\nNow, for a given $i$, determine the character at position $i$ of $S_{\\infty}$.", "inputFormat": "The first line contains a positive integer $t\\ (1 \\le t \\le 10)$, the number of testcases.\n\nThe next $t$ lines each contain one positive integer $i\\ (1 \\le i \\le 2^{31}-1)$, representing a query.", "outputFormat": "For each $i$, output the digit at the corresponding position.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数字序列", "background": "", "description": "定义函数 $\\mathrm{tostring}(n)$ 表示将数字 $n$ 按照 $10$ 进制写成字符串。例如，$\\mathrm{tostring}(12345)={\\tt 12345}$。由此，\n\n- 定义字符串 $S_n={\\tt 1+2+3+4+\\cdots}+\\mathrm{tostring}(n)$；\n- 定义字符串 $S_{\\infin}=S_1+S_2+S_3+S_4+\\cdots$\n\n例如，$S_{\\infty}$ 的前若干项为：\n\n$$\\tt 112123123412345123456123456712345678123456789123456789101234567891011\\cdots$$\n\n现在询问 $S_{\\infin}$ 的第 $i$ 位是什么字符。\n", "inputFormat": "第一行为正整数 $t\\ (1 \\le t \\le 10)$，表示测试数据组数。\n\n接下来 $t$ 行，每行一个正整数 $i\\ (1 \\le i \\le 2^{31}-1)$，表示一次询问。", "outputFormat": "对于每一个 $i$，输出对应位置上的数字。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1896", "type": "P", "difficulty": 5, "samples": [["3 2\n", "16\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2005", "四川", "各省省选", "深度优先搜索 DFS", "轮廓线 DP", "状压 DP"], "title": "[SCOI2005] 互不侵犯", "background": "", "description": "在 $N \\times N$ 的棋盘里面放 $K$ 个国王，使他们互不攻击，共有多少种摆放方案。国王能攻击到它上下左右，以及左上左下右上右下八个方向上附近的各一个格子，共 $8$ 个格子。", "inputFormat": "只有一行，包含两个数 $N,K$。", "outputFormat": "所得的方案数\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 9$，$0 \\le K \\le N\\times N$。\n\n---\n\n$\\text{upd 2018.4.25}$：数据有加强。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2005] Mutual Non-Attack", "background": "", "description": "On an $N \\times N$ chessboard, place $K$ kings so that they do not attack each other. How many placement schemes are there? A king can attack one square in each of the eight directions: up, down, left, right, and the four diagonals (upper-left, lower-left, upper-right, lower-right), for a total of $8$ squares.", "inputFormat": "There is only one line containing two integers $N,K$.", "outputFormat": "The number of such arrangements.", "hint": "### Constraints and Conventions\n\nFor all testdata, $1 \\le N \\le 9$, $0 \\le K \\le N\\times N$.\n\n---\n\n$\\text{upd 2018.4.25}$: The testdata has been strengthened.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2005] 互不侵犯", "background": "", "description": "在 $N \\times N$ 的棋盘里面放 $K$ 个国王，使他们互不攻击，共有多少种摆放方案。国王能攻击到它上下左右，以及左上左下右上右下八个方向上附近的各一个格子，共 $8$ 个格子。", "inputFormat": "只有一行，包含两个数 $N,K$。", "outputFormat": "所得的方案数\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 9$，$0 \\le K \\le N\\times N$。\n\n---\n\n$\\text{upd 2018.4.25}$：数据有加强。", "locale": "zh-CN"}}}
{"pid": "P1897", "type": "P", "difficulty": 1, "samples": [["4\n2 4 3 2 ", "59"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "排序"], "title": "电梯里的尴尬", "background": "细心的同学发现，小W最近喜欢乘电梯上上下下，究其原因，也许只有小W自己知道：在电梯里经常可以遇到他心中的OI大神 lxl。\n\n电梯其实是个很神奇的地方，只有在电梯里，小W才有勇气如此近距离接近大神，虽然觉得有点不自在，但次数多了，大神也习惯了小W的存在，甚至熟悉到仿佛不说上句话自己也都觉得不合适了。可是，他们的谈话也仅仅限于今天天气不错啊或是你吃了吗之类的，往往在对方微笑点头后就再次陷入难堪的沉默之中。", "description": "于是，小W便在搭讪大神的同时，也关注着电梯中显示的楼层数字，并且他注意到电梯每向上运行一层需要 $6$ 秒钟，向下运行一层需要 $4$ 秒钟，每开门一次需要 $5$ 秒（如果有人到达才开门），并且每下一个人需要加 $1$ 秒。\n\n特别指出，电梯最开始在 $0$ 层，并且最后必须再回到 $0$ 层才算一趟任务结束。假设在开始的时候已知电梯内的每个人要去的楼层，你能计算出完成本趟任务需要的总时间吗?\n\n这是个很简单的问题，要知道，小W已经修炼到快速心算出结果的境界，现在你来编程试试吧！", "inputFormat": "共 $2$ 行\n\n第 $1$ 行，一个正整数 $n$，表示乘坐电梯的人数。\n\n第 $2$ 行，$n$ 个正整数，$a_{i}$ 表示第 $i$ 个人要去的楼层。", "outputFormat": "仅 $1$ 行，一个正整数，表示完成这趟任务需要的时间。", "hint": "对于 $60\\%$ 的数据 $0<n<10^4$\n\n对于 $100\\%$ 的数据 $0<n<10^5$，$0<a_{i}\\leq 2\\times 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "The Awkwardness in the Elevator", "background": "Careful students have noticed that lately, Xiao W likes to ride the elevator up and down. As for the reason, perhaps only Xiao W knows: in the elevator, he often runs into the OI “da shen” lxl in his heart.\n\nThe elevator is actually a magical place. Only in the elevator does Xiao W have the courage to get so close to the “da shen.” Although he feels a bit uneasy, after many encounters, the “da shen” has gotten used to Xiao W’s presence, even to the point where it feels inappropriate not to say something. However, their conversation is limited to things like “Nice weather today” or “Have you eaten?”, and often, after a polite smile and nod, they fall back into an awkward silence.", "description": "So, while trying to strike up a conversation with the “da shen,” Xiao W also watches the floor number displayed in the elevator. He notices that going up one floor takes $6$ seconds, going down one floor takes $4$ seconds, each door opening takes $5$ seconds (only if someone arrives and the elevator stops), and each person getting off adds $1$ second.\n\nIt is specifically stated that the elevator starts on floor $0$, and it must return to floor $0$ at the end for the trip to be considered finished. Assuming that at the beginning we know the destination floor of every person currently inside the elevator, can you compute the total time needed to complete this trip?\n\nThis is a very simple problem. You should know that Xiao W has already trained himself to quickly do the mental arithmetic. Now you try to program it!", "inputFormat": "There are $2$ lines.\n\nThe first line contains a positive integer $n$, the number of people riding the elevator.\n\nThe second line contains $n$ positive integers. $a_{i}$ denotes the destination floor of the $i$-th person.", "outputFormat": "Output one line containing a positive integer — the time needed to complete this trip.", "hint": "For $60\\%$ of the testdata, $0<n<10^4$.\n\nFor $100\\%$ of the testdata, $0<n<10^5$, $0<a_{i}\\leq 2\\times 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "电梯里的尴尬", "background": "细心的同学发现，小W最近喜欢乘电梯上上下下，究其原因，也许只有小W自己知道：在电梯里经常可以遇到他心中的OI大神 lxl。\n\n电梯其实是个很神奇的地方，只有在电梯里，小W才有勇气如此近距离接近大神，虽然觉得有点不自在，但次数多了，大神也习惯了小W的存在，甚至熟悉到仿佛不说上句话自己也都觉得不合适了。可是，他们的谈话也仅仅限于今天天气不错啊或是你吃了吗之类的，往往在对方微笑点头后就再次陷入难堪的沉默之中。", "description": "于是，小W便在搭讪大神的同时，也关注着电梯中显示的楼层数字，并且他注意到电梯每向上运行一层需要 $6$ 秒钟，向下运行一层需要 $4$ 秒钟，每开门一次需要 $5$ 秒（如果有人到达才开门），并且每下一个人需要加 $1$ 秒。\n\n特别指出，电梯最开始在 $0$ 层，并且最后必须再回到 $0$ 层才算一趟任务结束。假设在开始的时候已知电梯内的每个人要去的楼层，你能计算出完成本趟任务需要的总时间吗?\n\n这是个很简单的问题，要知道，小W已经修炼到快速心算出结果的境界，现在你来编程试试吧！", "inputFormat": "共 $2$ 行\n\n第 $1$ 行，一个正整数 $n$，表示乘坐电梯的人数。\n\n第 $2$ 行，$n$ 个正整数，$a_{i}$ 表示第 $i$ 个人要去的楼层。", "outputFormat": "仅 $1$ 行，一个正整数，表示完成这趟任务需要的时间。", "hint": "对于 $60\\%$ 的数据 $0<n<10^4$\n\n对于 $100\\%$ 的数据 $0<n<10^5$，$0<a_{i}\\leq 2\\times 10^7$。", "locale": "zh-CN"}}}
{"pid": "P1898", "type": "P", "difficulty": 2, "samples": [["DLLSS\n478", "100\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "搜索"], "title": "缘分计算", "background": "缘分是一个外国人难以理解的中文名词。大致说来，缘分是一种冥冥中将两人（通常是情人）结合的力量。仅管这是种迷信，很多人——特别是女生——喜欢去计算它。\n\n不幸的是，644 也是这样。有天，她问 DL：“甜心，可以算一下我们的缘分吗？”唉，DL 真的很讨厌这问题，但他无法拒绝。还好，DL 是个程序设计师，所以他只要找到一个看来不错的算法并写成一个缘分计算器就可以了。在网络上搜寻了几个小时后，他决定采用以下的缘分算法：", "description": "第一步：取出姓名的缩写（abbreviation）并接在一起。例如，如果这对恋人叫 JiangYunFan 和 TangYuRou，他们的缩写就是 JYFTYR。第二步：将每个字母用数字字符串取代。用 $\\mathrm{ST}$ 来取代 $\\tt A$，$\\mathrm{ST}+1$ 来取代 $\\tt B$，$\\mathrm{ST}+2$ 来取代 $\\tt C$，……，$\\mathrm{ST}+25$ 来取代 $Z$，其中 $\\mathrm{ST}$ 为一个已知的正整数。例如，如果 $\\mathrm{ST}=81$，$\\tt A$ 就被 $81$ 取代，$\\tt B$ 就被 $82$ 取代，……，$\\tt Z$ 则被 $106$ 取代。上面的例子 JYFTYR 则被 $901058610010598$ 取代。\n\n第三步：重复以下操作：将相邻的两位数相加，并写下和的个位数。不难发现这个操作每进行一次，这个数字字符串就会少一位数。当这个数字变成 $100$ 或不超过两位数（第一位是 $0$ 也算两位数）时，这个程序便停止。所得的数字就是两人的缘分。用上面的例子来说，处理的过程如下：\n\n- $901058610010598$；\n- $91153471011547$；\n- $0268718112691$；\n- ……\n- $374$；\n- $01$。\n\n所以如果 $\\mathrm{ST}=81$，JiangYunFan 和 TangYuRou 的缘分便只有 $1$。\n\n惨了！DL 很了解 644。他知道即使这个程序计算出的缘分高达 $99$ 她仍然会不高兴。更何况 644 还对其余很多对恋人间的缘分感兴趣，要是他一个个计算会太繁琐。如果告诉你一对恋人的姓名和一个 $\\mathrm{ST}$ 值，你能编一个程序算出他们的缘分吗？", "inputFormat": "第一行包含一个仅含大写字母且长度为 $L$ 的字符串。\n\n第二行包含一个正整数 $\\mathrm{ST}$，含义如题目所述。\n", "outputFormat": "输出仅一行，包含一个整数，表示两人的缘分。\n", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 的数据，$4 ≤ L ≤ 10$，$1 ≤ \\mathrm{ST} ≤ 10000$。\n\n### 注意\n\n如果你和你的恋人的缘分不是 $100$，不要伤心。这没有什么大不了的。", "locale": "zh-CN", "translations": {"en": {"title": "Yuanfen Calculation", "background": "Yuanfen is a Chinese term that is hard for foreigners to understand. Roughly speaking, yuanfen is a mysterious force that brings two people (usually lovers) together. Although it's superstitious, many people—especially girls—like to calculate it.\n\nUnfortunately, 644 is like that too. One day, she asked DL, “Honey, could you calculate our yuanfen?” Sigh, DL really dislikes this question, but he couldn’t refuse. Luckily, DL is a programmer, so he only needed to find a reasonable-looking algorithm and write a yuanfen calculator. After searching online for several hours, he decided to use the following yuanfen algorithm.", "description": "Step 1: Take the initials (abbreviation) of the names and concatenate them. For example, if the lovers are named JiangYunFan and TangYuRou, their initials are JYFTYR.\n\nStep 2: Replace each letter with a string of digits. Replace $\\tt A$ with $\\mathrm{ST}$, $\\tt B$ with $\\mathrm{ST}+1$, $\\tt C$ with $\\mathrm{ST}+2$, …, and $Z$ with $\\mathrm{ST}+25$, where $\\mathrm{ST}$ is a known positive integer. For example, if $\\mathrm{ST}=81$, then $\\tt A$ is replaced by $81$, $\\tt B$ by $82$, …, and $\\tt Z$ by $106$. The example JYFTYR becomes $901058610010598$.\n\nStep 3: Repeat the following operation: add each pair of adjacent digits, and write down the ones digit of the sum. It is easy to see that each time this operation is performed, the digit string becomes one digit shorter. When the number becomes $100$ or has no more than two digits (a two-digit number with a leading $0$ also counts), the program stops. The resulting number is the couple’s yuanfen. For the example above, the process is as follows:\n- 901058610010598;\n- 91153471011547;\n- 0268718112691;\n- ...\n- 374;\n- 01.\n\nSo if $\\mathrm{ST}=81$, the yuanfen between JiangYunFan and TangYuRou is only $1$.\n\nOh no! DL knows 644 very well. He knows that even if the program calculates a yuanfen as high as $99$, she still won’t be happy. What’s worse, 644 is also curious about the yuanfen of many other couples, and it would be too tedious to compute them one by one. Given the couple’s initials string and a value of $\\mathrm{ST}$, can you write a program to compute their yuanfen?", "inputFormat": "The first line contains a string of length $L$ consisting only of uppercase letters.\n\nThe second line contains a positive integer $\\mathrm{ST}$, as defined in the statement.", "outputFormat": "Output a single line containing an integer, which is the couple’s yuanfen.", "hint": "### Constraints\n\nFor $100\\%$ of the testdata, $4 \\le L \\le 10$, $1 \\le \\mathrm{ST} \\le 10000$.\n\n### Note\n\nIf your yuanfen with your lover is not $100$, don’t be sad. It’s not a big deal.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "缘分计算", "background": "缘分是一个外国人难以理解的中文名词。大致说来，缘分是一种冥冥中将两人（通常是情人）结合的力量。仅管这是种迷信，很多人——特别是女生——喜欢去计算它。\n\n不幸的是，644 也是这样。有天，她问 DL：“甜心，可以算一下我们的缘分吗？”唉，DL 真的很讨厌这问题，但他无法拒绝。还好，DL 是个程序设计师，所以他只要找到一个看来不错的算法并写成一个缘分计算器就可以了。在网络上搜寻了几个小时后，他决定采用以下的缘分算法：", "description": "第一步：取出姓名的缩写（abbreviation）并接在一起。例如，如果这对恋人叫 JiangYunFan 和 TangYuRou，他们的缩写就是 JYFTYR。第二步：将每个字母用数字字符串取代。用 $\\mathrm{ST}$ 来取代 $\\tt A$，$\\mathrm{ST}+1$ 来取代 $\\tt B$，$\\mathrm{ST}+2$ 来取代 $\\tt C$，……，$\\mathrm{ST}+25$ 来取代 $Z$，其中 $\\mathrm{ST}$ 为一个已知的正整数。例如，如果 $\\mathrm{ST}=81$，$\\tt A$ 就被 $81$ 取代，$\\tt B$ 就被 $82$ 取代，……，$\\tt Z$ 则被 $106$ 取代。上面的例子 JYFTYR 则被 $901058610010598$ 取代。\n\n第三步：重复以下操作：将相邻的两位数相加，并写下和的个位数。不难发现这个操作每进行一次，这个数字字符串就会少一位数。当这个数字变成 $100$ 或不超过两位数（第一位是 $0$ 也算两位数）时，这个程序便停止。所得的数字就是两人的缘分。用上面的例子来说，处理的过程如下：\n\n- $901058610010598$；\n- $91153471011547$；\n- $0268718112691$；\n- ……\n- $374$；\n- $01$。\n\n所以如果 $\\mathrm{ST}=81$，JiangYunFan 和 TangYuRou 的缘分便只有 $1$。\n\n惨了！DL 很了解 644。他知道即使这个程序计算出的缘分高达 $99$ 她仍然会不高兴。更何况 644 还对其余很多对恋人间的缘分感兴趣，要是他一个个计算会太繁琐。如果告诉你一对恋人的姓名和一个 $\\mathrm{ST}$ 值，你能编一个程序算出他们的缘分吗？", "inputFormat": "第一行包含一个仅含大写字母且长度为 $L$ 的字符串。\n\n第二行包含一个正整数 $\\mathrm{ST}$，含义如题目所述。\n", "outputFormat": "输出仅一行，包含一个整数，表示两人的缘分。\n", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 的数据，$4 ≤ L ≤ 10$，$1 ≤ \\mathrm{ST} ≤ 10000$。\n\n### 注意\n\n如果你和你的恋人的缘分不是 $100$，不要伤心。这没有什么大不了的。", "locale": "zh-CN"}}}
{"pid": "P1899", "type": "P", "difficulty": 5, "samples": [["2 10\n10\n20 100\n", "100\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "递归", "NOI 导刊"], "title": "魔法物品", "background": "", "description": "\n有两种类型的物品：普通物品和魔法物品。普通物品没有魔法属性，而魔法物品拥有一些魔法属性。每种普通物品有一个价值 $P$，但每种魔法物品有两种价值：鉴定前的价值 $P_1$ 和鉴定后的价值 $P_2$（当然，$P_2$ 总是大于 $P_1$）。\n\n为了鉴定一个魔法物品，你需要购买一个鉴定卷轴，用它来鉴定魔法物品。鉴定完一件魔法物品以后，鉴定卷轴便会消失。每个鉴定卷轴将会消耗 $P_i$ 元钱。如果没有足够的钱，你将无法购买任何鉴定卷轴。    \n现在，你正在一个集市中，同时拥有很多物品。你知道每件物品的价值并且想要出售全部物品。那么，你最多能够获得多少钱呢？\n\n你可以假定：\n\n- 开始的时候你没有钱。\n- 所有的魔法物品都还没有被鉴定。\n- 只要你有足够的钱，你可以购买任意多的鉴定卷轴。", "inputFormat": "第一行有两个整数 $N$ 和 $P_i$（$1 \\le P_i \\le 5000$），表示你拥有的物品数和一个鉴定卷轴的价格。  \n接下来 $N$ 行，每行给出一件物品的价格。  \n对于每件普通物品行仅有一个整数 $P$（$1 \\le P \\le 10000$）。  \n对于每件魔法物品,那一行将会有两个整数 $P_1$ 和 $P_2$（$1 \\le P_1 < P_2 \\le 10000$）。", "outputFormat": "输出一个整数表示你最多能够获得多少钱。", "hint": "对于 $30\\%$ 的数据，$1\\le N \\le 50$。  \n对于 $100\\%$ 的数据，$1 \\le N \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Magic Items", "background": "", "description": "There are two types of items: ordinary items and magic items. Ordinary items have no magical properties, while magic items have some magical attributes. Each ordinary item has a single value $P$, but each magic item has two values: the value before identification $P_1$ and the value after identification $P_2$ (of course, $P_2$ is always greater than $P_1$).\n\nTo identify a magic item, you need to buy an identification scroll and use it on the magic item. After you identify one magic item, the scroll is consumed. Each identification scroll costs $P_i$ coins. If you do not have enough money, you cannot buy any identification scroll.\n\nYou are at a bazaar and currently hold many items. You know the value of each item and want to sell all of them. What is the maximum amount of money you can obtain?\n\nYou may assume:\n- You start with no money.\n- All magic items are initially unidentifed.\n- As long as you have enough money, you may buy any number of identification scrolls.", "inputFormat": "The first line contains two integers $N$ and $P_i$ ($1 \\le P_i \\le 5000$), denoting the number of items you own and the price of one identification scroll.  \nThe next $N$ lines each describe one item.  \nFor each ordinary item, the line contains a single integer $P$ ($1 \\le P \\le 10000$).  \nFor each magic item, the line contains two integers $P_1$ and $P_2$ ($1 \\le P_1 < P_2 \\le 10000$).", "outputFormat": "Output a single integer: the maximum amount of money you can obtain.", "hint": "For $30\\%$ of the testdata, $1 \\le N \\le 50$.  \nFor $100\\%$ of the testdata, $1 \\le N \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "魔法物品", "background": "", "description": "\n有两种类型的物品：普通物品和魔法物品。普通物品没有魔法属性，而魔法物品拥有一些魔法属性。每种普通物品有一个价值 $P$，但每种魔法物品有两种价值：鉴定前的价值 $P_1$ 和鉴定后的价值 $P_2$（当然，$P_2$ 总是大于 $P_1$）。\n\n为了鉴定一个魔法物品，你需要购买一个鉴定卷轴，用它来鉴定魔法物品。鉴定完一件魔法物品以后，鉴定卷轴便会消失。每个鉴定卷轴将会消耗 $P_i$ 元钱。如果没有足够的钱，你将无法购买任何鉴定卷轴。    \n现在，你正在一个集市中，同时拥有很多物品。你知道每件物品的价值并且想要出售全部物品。那么，你最多能够获得多少钱呢？\n\n你可以假定：\n\n- 开始的时候你没有钱。\n- 所有的魔法物品都还没有被鉴定。\n- 只要你有足够的钱，你可以购买任意多的鉴定卷轴。", "inputFormat": "第一行有两个整数 $N$ 和 $P_i$（$1 \\le P_i \\le 5000$），表示你拥有的物品数和一个鉴定卷轴的价格。  \n接下来 $N$ 行，每行给出一件物品的价格。  \n对于每件普通物品行仅有一个整数 $P$（$1 \\le P \\le 10000$）。  \n对于每件魔法物品,那一行将会有两个整数 $P_1$ 和 $P_2$（$1 \\le P_1 < P_2 \\le 10000$）。", "outputFormat": "输出一个整数表示你最多能够获得多少钱。", "hint": "对于 $30\\%$ 的数据，$1\\le N \\le 50$。  \n对于 $100\\%$ 的数据，$1 \\le N \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1900", "type": "P", "difficulty": 3, "samples": [["100 10\n1 2 3 4 5 6 7 11 12 13 \n", "13\n1 3 5 7 9 20 31 75 86 97\n"]], "limits": {"time": [750, 750, 750, 750, 750, 750, 750, 750, 750, 750], "memory": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000]}, "tags": ["数学"], "title": "自我数", "background": "#题目有加强\n", "description": "在 1949 年印度数学家 D. R. Daprekar 发现了一类称作 Self-Numbers 的数。对于每一个正整数 $n$，我们定义 $d(n)$ 为 $n$ 加上它每一位数字的和。例如， $d(75) = 75 + 7 + 5 = 87$。给定任意正整数 $n$ 作为一个起点，都能构造出一个无限递增的序列：$n, d(n), d(d(n)), d(d(d(n))), \\ldots$ 例如，如果你从 $33$ 开始，下一个数是 $33 + 3 + 3 = 39$，再下一个为 $39 + 3 + 9 = 51$，再再下一个为 $51 + 5 + 1 = 57$，因此你所产生的序列就像这样：$33, 39, 51, 57, 69, 84, 96, 111, 114, 120, 123, 129, 141, \\ldots$。数字 $n$ 被称作 $d(n)$ 的发生器。在上面的这个序列中，$33$ 是 $39$ 的发生器，$39$ 是 $51$ 的发生器，$51$ 是 $57$ 的发生器等等。有一些数有超过一个发生器，如 $101$ 的发生器可以是 $91$ 和 $100$。一个没有发生器的数被称作 Self-Number。如前 $13$ 个 Self-Number 为 $1, 3, 5, 7, 9, 20, 31, 42, 53, 64, 75, 86, 97$。我们将第 $i$ 个 Self-Number 表示为 $a_i$，所以 $a_1 = 1, a_2 = 3, a_3 = 5, \\ldots$。\n", "inputFormat": "输入包含整数 $N, K, s_1, \\ldots, s_K$，其中 $1 \\le N \\le {10}^7$、$1 \\le K \\le 5000$，以空格和换行分割。\n", "outputFormat": "在第一行你需要输出一个数，这个数表示在闭区间 $[1, N]$ 中 Self-Number 的数量。第二行必须包含以空格划分的 $K$ 个数，表示 $a_{s_1}, \\ldots, a_{s_K}$，这里保证所有的 $a_{s_1}, \\ldots, a_{s_K}$ 都小于 $N$。（例如，如果 $N = 100$，$s_k$ 可以为 $1 \\sim 13$，但不能为 $14$，因为 $a_{14} = 108 > 100$）\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le {10}^7$，$1 \\le K \\le 5000$。", "locale": "zh-CN", "translations": {"en": {"title": "Self Numbers", "background": "The problem has been strengthened.", "description": "In 1949, Indian mathematician D. R. Daprekar discovered a class of numbers called Self-Numbers. For every positive integer $n$, we define $d(n)$ as $n$ plus the sum of its digits. For example, $d(75) = 75 + 7 + 5 = 87$. Given any positive integer $n$ as a starting point, we can construct an infinite increasing sequence: $n, d(n), d(d(n)), d(d(d(n))), \\ldots$ For example, if you start from $33$, the next number is $33 + 3 + 3 = 39$, the next is $39 + 3 + 9 = 51$, and the one after that is $51 + 5 + 1 = 57$, so the sequence you generate looks like this: $33, 39, 51, 57, 69, 84, 96, 111, 114, 120, 123, 129, 141, \\ldots$ The number $n$ is called a generator of $d(n)$. In the sequence above, $33$ is a generator of $39$, $39$ is a generator of $51$, $51$ is a generator of $57$, and so on. Some numbers have more than one generator, such as $101$, whose generators can be $91$ and $100$. A number with no generator is called a Self-Number. The first $13$ Self-Numbers are $1, 3, 5, 7, 9, 20, 31, 42, 53, 64, 75, 86, 97$. We denote the $i$-th Self-Number by $a_i$, so $a_1 = 1, a_2 = 3, a_3 = 5, \\ldots$.", "inputFormat": "The input contains integers $N, K, s_1, \\ldots, s_K$, where $1 \\le N \\le {10}^7$ and $1 \\le K \\le 5000$, separated by spaces and newlines.", "outputFormat": "On the first line, output a single number: the count of Self-Numbers in the closed interval $[1, N]$. The second line must contain $K$ numbers separated by spaces, namely $a_{s_1}, \\ldots, a_{s_K}$. It is guaranteed that all of $a_{s_1}, \\ldots, a_{s_K}$ are less than $N$. (For example, if $N = 100$, $s_k$ can be from $1$ to $13$, but not $14$, because $a_{14} = 108 > 100$.)", "hint": "For $100\\%$ of the testdata, $1 \\le N \\le {10}^7$ and $1 \\le K \\le 5000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "自我数", "background": "#题目有加强\n", "description": "在 1949 年印度数学家 D. R. Daprekar 发现了一类称作 Self-Numbers 的数。对于每一个正整数 $n$，我们定义 $d(n)$ 为 $n$ 加上它每一位数字的和。例如， $d(75) = 75 + 7 + 5 = 87$。给定任意正整数 $n$ 作为一个起点，都能构造出一个无限递增的序列：$n, d(n), d(d(n)), d(d(d(n))), \\ldots$ 例如，如果你从 $33$ 开始，下一个数是 $33 + 3 + 3 = 39$，再下一个为 $39 + 3 + 9 = 51$，再再下一个为 $51 + 5 + 1 = 57$，因此你所产生的序列就像这样：$33, 39, 51, 57, 69, 84, 96, 111, 114, 120, 123, 129, 141, \\ldots$。数字 $n$ 被称作 $d(n)$ 的发生器。在上面的这个序列中，$33$ 是 $39$ 的发生器，$39$ 是 $51$ 的发生器，$51$ 是 $57$ 的发生器等等。有一些数有超过一个发生器，如 $101$ 的发生器可以是 $91$ 和 $100$。一个没有发生器的数被称作 Self-Number。如前 $13$ 个 Self-Number 为 $1, 3, 5, 7, 9, 20, 31, 42, 53, 64, 75, 86, 97$。我们将第 $i$ 个 Self-Number 表示为 $a_i$，所以 $a_1 = 1, a_2 = 3, a_3 = 5, \\ldots$。\n", "inputFormat": "输入包含整数 $N, K, s_1, \\ldots, s_K$，其中 $1 \\le N \\le {10}^7$、$1 \\le K \\le 5000$，以空格和换行分割。\n", "outputFormat": "在第一行你需要输出一个数，这个数表示在闭区间 $[1, N]$ 中 Self-Number 的数量。第二行必须包含以空格划分的 $K$ 个数，表示 $a_{s_1}, \\ldots, a_{s_K}$，这里保证所有的 $a_{s_1}, \\ldots, a_{s_K}$ 都小于 $N$。（例如，如果 $N = 100$，$s_k$ 可以为 $1 \\sim 13$，但不能为 $14$，因为 $a_{14} = 108 > 100$）\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le {10}^7$，$1 \\le K \\le 5000$。", "locale": "zh-CN"}}}
{"pid": "P1901", "type": "P", "difficulty": 3, "samples": [["3\n4 2 \n3 5 \n6 10\n", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊", "栈", "单调栈"], "title": "发射站", "background": "", "description": "某地有 $N$ 个能量发射站排成一行，每个发射站 $i$ 都有不相同的高度 $H_i$，并能向两边（两端的发射站只能向一边）同时发射能量值为 $V_i$ 的能量，发出的能量只被两边**最近的且比它高**的发射站接收。显然，每个发射站发来的能量有可能被 $0$ 或 $1$ 或 $2$ 个其他发射站所接受。\n\n请计算出接收最多能量的发射站接收的能量是多少。\n", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n第 $2$ 到 $N+1$ 行，第 $i+1$ 行有两个整数 $H_i$ 和 $V_i$，表示第 $i$ 个发射站的高度和发射的能量值。", "outputFormat": "输出仅一行，表示接收最多能量的发射站接收到的能量值。答案不超过 32 位带符号整数的表示范围。\n", "hint": "对于 $40\\%$ 的数据，$1\\le N\\le 5000,1\\le H_i\\le 10^5,1\\le V_i\\le 10^4$。\n\n对于 $70\\%$ 的数据，$1\\le N\\le 10^5,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^6,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Transmitter Stations", "background": "", "description": "There are $N$ energy transmitter stations arranged in a line. Each station $i$ has a pairwise distinct height $H_i$ and can simultaneously emit energy of value $V_i$ to both sides (stations at the ends can emit only to one side). The emitted energy is received only by the **nearest and taller** station on each side. Clearly, the energy from a station may be received by $0$, $1$, or $2$ other stations.\n\nPlease compute the amount of energy received by the station that receives the most energy.", "inputFormat": "The first line contains an integer $N$.\n\nLines $2$ through $N+1$: line $i+1$ contains two integers $H_i$ and $V_i$, denoting the height of the $i$-th station and the value of the energy it emits.", "outputFormat": "Output a single line containing the maximum energy received by any station. The answer fits in a 32-bit signed integer.", "hint": "For $40\\%$ of the testdata, $1\\le N\\le 5000, 1\\le H_i\\le 10^5, 1\\le V_i\\le 10^4$.\n\nFor $70\\%$ of the testdata, $1\\le N\\le 10^5, 1\\le H_i\\le 2\\times 10^9, 1\\le V_i\\le 10^4$.\n\nFor $100\\%$ of the testdata, $1\\le N\\le 10^6, 1\\le H_i\\le 2\\times 10^9, 1\\le V_i\\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "发射站", "background": "", "description": "某地有 $N$ 个能量发射站排成一行，每个发射站 $i$ 都有不相同的高度 $H_i$，并能向两边（两端的发射站只能向一边）同时发射能量值为 $V_i$ 的能量，发出的能量只被两边**最近的且比它高**的发射站接收。显然，每个发射站发来的能量有可能被 $0$ 或 $1$ 或 $2$ 个其他发射站所接受。\n\n请计算出接收最多能量的发射站接收的能量是多少。\n", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n第 $2$ 到 $N+1$ 行，第 $i+1$ 行有两个整数 $H_i$ 和 $V_i$，表示第 $i$ 个发射站的高度和发射的能量值。", "outputFormat": "输出仅一行，表示接收最多能量的发射站接收到的能量值。答案不超过 32 位带符号整数的表示范围。\n", "hint": "对于 $40\\%$ 的数据，$1\\le N\\le 5000,1\\le H_i\\le 10^5,1\\le V_i\\le 10^4$。\n\n对于 $70\\%$ 的数据，$1\\le N\\le 10^5,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^6,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1902", "type": "P", "difficulty": 3, "samples": [["4 2\n0 0 \n3 5 \n2 4 \n0 0 \n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分", "NOI 导刊", "广度优先搜索 BFS"], "title": "刺杀大使", "background": null, "description": "某组织正在策划一起对某大使的刺杀行动。他们来到了使馆，准备完成此次刺杀，要进入使馆首先必须通过使馆前的防御迷阵。\n\n迷阵由 $n\\times m$ 个相同的小房间组成，每个房间与相邻四个房间之间有门可通行。在第 $n$ 行的 $m$ 个房间里有 $m$ 个机关，这些机关必须全部打开才可以进入大使馆。而第 $1$ 行的 $m$ 个房间有 $m$ 扇向外打开的门，是迷阵的入口。除了第 $1$ 行和第 $n$ 行的房间外，每个房间都被使馆的安保人员安装了激光杀伤装置，将会对进入房间的人造成一定的伤害。第 $i$ 行第 $j$ 列 造成的伤害值为 $p_{i,j}$（第 $1$ 行和第 $n$ 行的 $p$ 值全部为 $0$）。\n\n现在某组织打算以最小伤害代价进入迷阵，打开全部机关，显然，他们可以选择任意多的人从任意的门进入，但必须到达第 $n$ 行的每个房间。一个士兵受到的伤害值为他到达某个机关的路径上所有房间的伤害值中的最大值，整个部队受到的伤害值为所有士兵的伤害值中的最大值。现在，这个恐怖组织掌握了迷阵的情况，他们需要提前知道怎么安排士兵的行进路线可以使得整个部队的伤害值最小。", "inputFormat": "第一行有两个整数 $n,m$，表示迷阵的大小。\n\n接下来 $n$ 行，每行 $m$ 个数，第 $i$ 行第 $j$ 列的数表示 $p_{i,j}$。", "outputFormat": "输出一个数，表示最小伤害代价。", "hint": "- $50\\%$ 的数据，$n,m \\leq 100$；\n- $100\\%$ 的数据，$n,m \\leq 1000$，$p_{i,j} \\leq 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Assassinate the Ambassador", "background": "", "description": "A certain organization is planning the assassination of an ambassador. They arrive at the embassy and prepare to carry out the plan. To enter the embassy, they must first get through the defensive maze in front of it.\n\nThe maze consists of $n \\times m$ identical small rooms. Each room is connected by doors to its four neighboring rooms. In row $n$, there are $m$ mechanisms located in its $m$ rooms, and all of these mechanisms must be switched on to enter the embassy. The $m$ rooms in row $1$ each has a door that opens to the outside; these are the entrances to the maze. Except for the rooms in rows $1$ and $n$, every room has a laser damage device installed by the embassy’s security, which will inflict some damage on anyone entering the room. The damage value of the room at row $i$, column $j$ is $p_{i,j}$ (all $p$ values in rows $1$ and $n$ are $0$).\n\nThe organization wants to enter the maze and switch on all mechanisms with the minimum damage cost. They may send any number of people through any entrances, but they must reach every room in row $n$. A soldier’s damage is the maximum damage value among all rooms on his path to some mechanism. The whole team’s damage is the maximum among the damages of all soldiers. Given full knowledge of the maze, they need to determine how to arrange the routes so that the team’s damage is minimized.", "inputFormat": "The first line contains two integers $n, m$, representing the size of the maze.\n\nThen follow $n$ lines, each containing $m$ numbers. The number at row $i$, column $j$ is $p_{i,j}$.", "outputFormat": "Output a single number representing the minimum damage cost.", "hint": "- For $50\\%$ of the testdata, $n, m \\leq 100$.\n- For $100\\%$ of the testdata, $n, m \\leq 1000$, $p_{i,j} \\leq 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "刺杀大使", "background": null, "description": "某组织正在策划一起对某大使的刺杀行动。他们来到了使馆，准备完成此次刺杀，要进入使馆首先必须通过使馆前的防御迷阵。\n\n迷阵由 $n\\times m$ 个相同的小房间组成，每个房间与相邻四个房间之间有门可通行。在第 $n$ 行的 $m$ 个房间里有 $m$ 个机关，这些机关必须全部打开才可以进入大使馆。而第 $1$ 行的 $m$ 个房间有 $m$ 扇向外打开的门，是迷阵的入口。除了第 $1$ 行和第 $n$ 行的房间外，每个房间都被使馆的安保人员安装了激光杀伤装置，将会对进入房间的人造成一定的伤害。第 $i$ 行第 $j$ 列 造成的伤害值为 $p_{i,j}$（第 $1$ 行和第 $n$ 行的 $p$ 值全部为 $0$）。\n\n现在某组织打算以最小伤害代价进入迷阵，打开全部机关，显然，他们可以选择任意多的人从任意的门进入，但必须到达第 $n$ 行的每个房间。一个士兵受到的伤害值为他到达某个机关的路径上所有房间的伤害值中的最大值，整个部队受到的伤害值为所有士兵的伤害值中的最大值。现在，这个恐怖组织掌握了迷阵的情况，他们需要提前知道怎么安排士兵的行进路线可以使得整个部队的伤害值最小。", "inputFormat": "第一行有两个整数 $n,m$，表示迷阵的大小。\n\n接下来 $n$ 行，每行 $m$ 个数，第 $i$ 行第 $j$ 列的数表示 $p_{i,j}$。", "outputFormat": "输出一个数，表示最小伤害代价。", "hint": "- $50\\%$ 的数据，$n,m \\leq 100$；\n- $100\\%$ 的数据，$n,m \\leq 1000$，$p_{i,j} \\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P1903", "type": "P", "difficulty": 5, "samples": [["6 5\n1 2 3 4 5 5\nQ 1 4\nQ 2 6\nR 1 2\nQ 1 4\nQ 2 6", "4\n4\n3\n4\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["莫队", "集训队互测", "O2优化", "树套树", "分块", "模板题"], "title": "【模板】带修莫队 / [国家集训队] 数颜色 / 维护队列", "background": "", "description": "墨墨购买了一套 $N$ 支彩色画笔（其中有些颜色可能相同），摆成一排，你需要回答墨墨的提问。墨墨会向你发布如下指令：\n\n1. $Q\\ L\\ R$ 代表询问你从第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。\n\n2. $R\\ P\\ C$ 把第 $P$ 支画笔替换为颜色 $C$。\n\n为了满足墨墨的要求，你知道你需要干什么了吗？", "inputFormat": "第 $1$ 行两个整数 $N$，$M$，分别代表初始画笔的数量以及墨墨会做的事情的个数。\n\n第 $2$ 行 $N$ 个整数，分别代表初始画笔排中第 $i$ 支画笔的颜色。\n\n第 $3$ 行到第 $2+M$ 行，每行分别代表墨墨会做的一件事情，格式见题干部分。", "outputFormat": "对于每一个 Query 的询问，你需要在对应的行中给出一个数字，代表第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。", "hint": "对于 $30\\%$ 的数据，$n,m \\leq 10000$；\n\n对于 $60\\%$ 的数据，$n,m \\leq 50000$；\n\n对于所有数据，$n,m \\leq 133333$。\n\n所有的输入数据中出现的所有整数均大于等于 $1$ 且不超过 $10^6$。\n\n本题可能轻微卡常数。\n\n来源：bzoj2120\n\n本题数据为洛谷自造数据，使用 [CYaRon](https://github.com/luogu-dev/cyaron) 耗时 5 分钟完成数据制作。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Count Colors / Maintain Queue / [Template] Mo's Algorithm with Modifications", "background": "", "description": "Momo bought a set of $N$ colored pens (some colors may be the same) and lined them up in a row. You need to answer Momo's requests. Momo will issue the following operations:\n\n1. $Q\\ L\\ R$: Query how many distinct colors appear among the pens from the $L$-th to the $R$-th (inclusive).\n\n2. $R\\ P\\ C$: Replace the $P$-th pen's color with $C$.\n\nTo satisfy Momo's requests, can you process these operations?", "inputFormat": "The first line contains two integers $N$, $M$, representing the initial number of pens and the number of operations, respectively.\n\nThe second line contains $N$ integers, where the $i$-th integer is the color of the $i$-th pen in the initial row.\n\nFrom line $3$ to line $2+M$, each line describes one operation; see the description above for the format.", "outputFormat": "For each query operation, output a single integer on its own line: the number of distinct colors among the pens from the $L$-th to the $R$-th.", "hint": "For 30% of the testdata, $n,m \\leq 10000$.\n\nFor 60% of the testdata, $n,m \\leq 50000$.\n\nFor all testdata, $n,m \\leq 133333$.\n\nAll integers appearing in the input are between $1$ and $10^6$ inclusive.\n\nThis problem may be slightly tight on constant factors.\n\nSource: bzoj2120.\n\nThe testdata for this problem are created by Luogu, using [CYaRon](https://github.com/luogu-dev/cyaron), and took 5 minutes to generate.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】带修莫队 / [国家集训队] 数颜色 / 维护队列", "background": "", "description": "墨墨购买了一套 $N$ 支彩色画笔（其中有些颜色可能相同），摆成一排，你需要回答墨墨的提问。墨墨会向你发布如下指令：\n\n1. $Q\\ L\\ R$ 代表询问你从第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。\n\n2. $R\\ P\\ C$ 把第 $P$ 支画笔替换为颜色 $C$。\n\n为了满足墨墨的要求，你知道你需要干什么了吗？", "inputFormat": "第 $1$ 行两个整数 $N$，$M$，分别代表初始画笔的数量以及墨墨会做的事情的个数。\n\n第 $2$ 行 $N$ 个整数，分别代表初始画笔排中第 $i$ 支画笔的颜色。\n\n第 $3$ 行到第 $2+M$ 行，每行分别代表墨墨会做的一件事情，格式见题干部分。", "outputFormat": "对于每一个 Query 的询问，你需要在对应的行中给出一个数字，代表第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。", "hint": "对于 $30\\%$ 的数据，$n,m \\leq 10000$；\n\n对于 $60\\%$ 的数据，$n,m \\leq 50000$；\n\n对于所有数据，$n,m \\leq 133333$。\n\n所有的输入数据中出现的所有整数均大于等于 $1$ 且不超过 $10^6$。\n\n本题可能轻微卡常数。\n\n来源：bzoj2120\n\n本题数据为洛谷自造数据，使用 [CYaRon](https://github.com/luogu-dev/cyaron) 耗时 5 分钟完成数据制作。", "locale": "zh-CN"}}}
