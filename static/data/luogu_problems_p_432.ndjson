{"pid": "P9760", "type": "P", "difficulty": 6, "samples": [["4 4\n3 4 1 2\n1 2\n2 3\n3 4\n4 1", "-1 -1 -1 -1"], ["8 9\n2 3 2 1 6 5 6 7\n1 2\n1 3\n2 4\n3 4\n4 5\n4 6\n6 7\n5 7\n4 8", "1 2 2 2 1 1 1 1"], ["9 8\n1 9 1 1 1 9 9 9 1\n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 8\n8 9", "0 1 1 2 1 1 2 1 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #3] Skrivača", "background": "", "description": "Marin 和 Luka 正在他们的房子里玩一个流行的儿童游戏——捉迷藏。这个房子共有 $n$ 个房间，有 $m$ 对房间通过一扇门连接。房间从 $1$ 到 $n$ 编号，并且任意两个房间之间是存在道路相连通的。\n\nLuka 想出了一个躲藏策略：当 Marin 进入房间 $v$ 时，Luka 会躲在房间 $a_v$ 里。在游戏的开始 Marin 选择他开始找人的房间 $v_0$，Luka 躲在房间 $a_{v_0}$里。在游戏的每一个回合，首先由 Marin 选择一个与当前相邻房间 $u$ 并进入。随后 Luka 知道 Marin 在房间 $u$ 中所以参照他的躲藏方式他会躲到房间 $a_u$ 中。注意到 Luka 可以选择任何抵达房间 $a_u$ 的路线并且在游戏的一个回合中他可以经过任意数量的房间。\n\n定义 Marin 找到了 Luka 为当他们两个都在同一个房间中的时候，这时游戏结束。\n\nMarin 发现了 Luka 的躲藏策略，所以她想要你考虑从每一个房间出发时，她是否可以在有限回合找到 Luka。如果可以，计算在理想状态下（Marin 尽可能减少回合数，Luka 尽可能增加回合数）最少需要的回合数。", "inputFormat": "第一行两个整数 $n,m$，分别表示房间的数量和相连房间的对数。\n\n第二行 $n$ 个整数 $a_i$，表示 Luka 的躲藏策略。\n\n在接下来的 $m$ 行中，每行两个整数 $x_i,y_i$，表示这两个房间是相连的。任意两个房间最多只有一条直接相连的道路。", "outputFormat": "一行 $n$ 个数，表示最少需要的回合数。如果无法在有限步中结束游戏，输出 $-1$。", "hint": "**【样例解释 #2】**\n\nMarin 第一回合从房间 $4$ 进入房间 $8$，第二回合回到房间 $4$。Luka 需要经过房间 $4$ 才能从房间 $7$ 到房间 $1$。所以可以在两个回合找到。\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n\\le 1000,m\\le2000$ |\n| $2$ | $25$ | $m=n-1$ |\n|$3$ | $30$| Luka 的躲藏策略满足他永远不会躲在与 Marin 当前所在房间相邻或相同的房间，并且房子的结构满足游戏可以在最多有 $5$ 个不同房间独立于 Luka 的躲藏策略之外的情况下结束游戏。 \n| $4$ | $40$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\leq n \\leq 2\\times10^5,n-1\\le m\\le \\min(5\\times 10^5,\\dfrac{n\\times (n-1)}{2}), 1\\le a_i,x_i,y_i\\le n,x_i\\neq y_i$。\n\n本题满分 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #3] Skrivača", "background": "", "description": "Marin 和 Luka 正在他们的房子里玩一个流行的儿童游戏——捉迷藏。这个房子共有 $n$ 个房间，有 $m$ 对房间通过一扇门连接。房间从 $1$ 到 $n$ 编号，并且任意两个房间之间是存在道路相连通的。\n\nLuka 想出了一个躲藏策略：当 Marin 进入房间 $v$ 时，Luka 会躲在房间 $a_v$ 里。在游戏的开始 Marin 选择他开始找人的房间 $v_0$，Luka 躲在房间 $a_{v_0}$里。在游戏的每一个回合，首先由 Marin 选择一个与当前相邻房间 $u$ 并进入。随后 Luka 知道 Marin 在房间 $u$ 中所以参照他的躲藏方式他会躲到房间 $a_u$ 中。注意到 Luka 可以选择任何抵达房间 $a_u$ 的路线并且在游戏的一个回合中他可以经过任意数量的房间。\n\n定义 Marin 找到了 Luka 为当他们两个都在同一个房间中的时候，这时游戏结束。\n\nMarin 发现了 Luka 的躲藏策略，所以她想要你考虑从每一个房间出发时，她是否可以在有限回合找到 Luka。如果可以，计算在理想状态下（Marin 尽可能减少回合数，Luka 尽可能增加回合数）最少需要的回合数。", "inputFormat": "第一行两个整数 $n,m$，分别表示房间的数量和相连房间的对数。\n\n第二行 $n$ 个整数 $a_i$，表示 Luka 的躲藏策略。\n\n在接下来的 $m$ 行中，每行两个整数 $x_i,y_i$，表示这两个房间是相连的。任意两个房间最多只有一条直接相连的道路。", "outputFormat": "一行 $n$ 个数，表示最少需要的回合数。如果无法在有限步中结束游戏，输出 $-1$。", "hint": "**【样例解释 #2】**\n\nMarin 第一回合从房间 $4$ 进入房间 $8$，第二回合回到房间 $4$。Luka 需要经过房间 $4$ 才能从房间 $7$ 到房间 $1$。所以可以在两个回合找到。\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n\\le 1000,m\\le2000$ |\n| $2$ | $25$ | $m=n-1$ |\n|$3$ | $30$| Luka 的躲藏策略满足他永远不会躲在与 Marin 当前所在房间相邻或相同的房间，并且房子的结构满足游戏可以在最多有 $5$ 个不同房间独立于 Luka 的躲藏策略之外的情况下结束游戏。 \n| $4$ | $40$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\leq n \\leq 2\\times10^5,n-1\\le m\\le \\min(5\\times 10^5,\\dfrac{n\\times (n-1)}{2}), 1\\le a_i,x_i,y_i\\le n,x_i\\neq y_i$。\n\n本题满分 $110$ 分。", "locale": "zh-CN"}}}
{"pid": "P9761", "type": "P", "difficulty": 2, "samples": [["20\n10 4\n5 3", "65"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 两台机器 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T1 [ Два станка](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "有两台机器，第一台机器需要 $a$ 分钟启动，接下来每分钟会制造 $x$ 个零件，第二台机器需要 $b$ 分钟启动，接下来每分钟会制造 $y$ 个零件，两个机器不能同时位于启动过程中。\n\n共有 $k$ 分钟，问最多能制造多少个零件。", "inputFormat": "第一行为一个整数 $k$。\n\n第二行为两个整数 $a,x$。\n\n第三行为两个整数 $b,y$。", "outputFormat": "仅一行一个整数，表示最多能制造的零件个数。", "hint": "【样例解释】：\n\n如果先启动第二台机器，接着启动第一台机器，可制作 $3\\times 15+5\\times 4=65$ 个零件。\n\n【数据范围】：\n\n对于所有子任务，有 $0\\le k,a,x,b,y\\le 10^9$，最终答案可以用 `long long` 存下。\n\n| 子任务编号 | 特殊限制 | 分值 |\n| :-: | :-: | :-: |\n|$1$|$a=x=0$| $17$ |\n|$2$|$a=b=0$| $14$ |\n|$3$|$a=b$| $20$ |\n|$4$|$x=y$| $20$ |\n|$5$|无| $29$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 两台机器 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T1 [ Два станка](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "有两台机器，第一台机器需要 $a$ 分钟启动，接下来每分钟会制造 $x$ 个零件，第二台机器需要 $b$ 分钟启动，接下来每分钟会制造 $y$ 个零件，两个机器不能同时位于启动过程中。\n\n共有 $k$ 分钟，问最多能制造多少个零件。", "inputFormat": "第一行为一个整数 $k$。\n\n第二行为两个整数 $a,x$。\n\n第三行为两个整数 $b,y$。", "outputFormat": "仅一行一个整数，表示最多能制造的零件个数。", "hint": "【样例解释】：\n\n如果先启动第二台机器，接着启动第一台机器，可制作 $3\\times 15+5\\times 4=65$ 个零件。\n\n【数据范围】：\n\n对于所有子任务，有 $0\\le k,a,x,b,y\\le 10^9$，最终答案可以用 `long long` 存下。\n\n| 子任务编号 | 特殊限制 | 分值 |\n| :-: | :-: | :-: |\n|$1$|$a=x=0$| $17$ |\n|$2$|$a=b=0$| $14$ |\n|$3$|$a=b$| $20$ |\n|$4$|$x=y$| $20$ |\n|$5$|无| $29$ |", "locale": "zh-CN"}}}
{"pid": "P9762", "type": "P", "difficulty": 3, "samples": [["5\n1 3\n4 7\n1 10\n3 3\n3 5", "V 3\nV 5\nV 8\nH 3\nV 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "2021", "三分", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 分割数表 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T2 [ Разбиение таблицы](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "有一个 $n\\times m$ 的数表 $a$，$a_{i,j}=(i-1)\\times m+j$。\n\n现在将这个数表分成两个数表 $x,y$，使得 $\\max\\{\\sum x,\\sum y\\}$ 最小。\n\n形象化地来说，您可以确定一个 $i$，然后在数表的第 $i-1$ 列与第 $i$ 列间竖切一刀，或者在第 $i-1$ 行与第 $i$ 行间横切一刀，所得到的两个数表分为 $x,y$。\n\n请构造一组方案。", "inputFormat": "**本题多组数据。**\n\n第一行为一个整数 $t$。\n\n接下来 $t$ 行，一行两个整数 $n,m$，表示本次询问的数表大小。", "outputFormat": "对于每一个询问，输出一个字符 $c$ 和一个整数 $x$。\n\n如果您想要竖切，$c$ 为 `V`，$x$ 为您确定的 $i$。\n\n如果您想要横切，$c$ 为 `H`，$x$ 为您确定的 $i$。\n\n如果有多解，请输出竖切的一种，如果还有多解，输出 $x$ 最小的一种。", "hint": "【数据范围】：\n\n对于所有子任务，有 $1\\le t\\le 10^5$，$1\\le n,m\\le 10^9$，$2\\le n\\times m\\le 10^9$。\n\n| 子任务编号 |数据范围 | 分值 |\n| :-: | :-: | :-: |\n|$1$|$t=1$，$n,m\\le 100$| $20$ |\n|$2$|$t=1$，$n,m\\le 2\\times 10^3$| $14$ |\n|$3$|$t=1$，$n,m\\le 10^7$| $15$ |\n|$4$| $t\\le 10^3$，$n\\times m\\le10^4$ | $16$|\n|$5$|$n=1$| $15$ |\n|$6$|无特殊限制| $20$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 分割数表 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T2 [ Разбиение таблицы](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "有一个 $n\\times m$ 的数表 $a$，$a_{i,j}=(i-1)\\times m+j$。\n\n现在将这个数表分成两个数表 $x,y$，使得 $\\max\\{\\sum x,\\sum y\\}$ 最小。\n\n形象化地来说，您可以确定一个 $i$，然后在数表的第 $i-1$ 列与第 $i$ 列间竖切一刀，或者在第 $i-1$ 行与第 $i$ 行间横切一刀，所得到的两个数表分为 $x,y$。\n\n请构造一组方案。", "inputFormat": "**本题多组数据。**\n\n第一行为一个整数 $t$。\n\n接下来 $t$ 行，一行两个整数 $n,m$，表示本次询问的数表大小。", "outputFormat": "对于每一个询问，输出一个字符 $c$ 和一个整数 $x$。\n\n如果您想要竖切，$c$ 为 `V`，$x$ 为您确定的 $i$。\n\n如果您想要横切，$c$ 为 `H`，$x$ 为您确定的 $i$。\n\n如果有多解，请输出竖切的一种，如果还有多解，输出 $x$ 最小的一种。", "hint": "【数据范围】：\n\n对于所有子任务，有 $1\\le t\\le 10^5$，$1\\le n,m\\le 10^9$，$2\\le n\\times m\\le 10^9$。\n\n| 子任务编号 |数据范围 | 分值 |\n| :-: | :-: | :-: |\n|$1$|$t=1$，$n,m\\le 100$| $20$ |\n|$2$|$t=1$，$n,m\\le 2\\times 10^3$| $14$ |\n|$3$|$t=1$，$n,m\\le 10^7$| $15$ |\n|$4$| $t\\le 10^3$，$n\\times m\\le10^4$ | $16$|\n|$5$|$n=1$| $15$ |\n|$6$|无特殊限制| $20$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P9763", "type": "P", "difficulty": 4, "samples": [["5AC5A2C", "3 6 A\n1 2 C"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 基因突变 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T3 [ Изменённая ДНК](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "我们规定，一个合法的基因串仅包括 `A`、`G`、`C` 与 `T`。\n\n我们规定，任何一个合法基因串都有一个压缩串，压缩串将原基因字符串中连续的字母压缩成这个字母的个数后跟这个字母，个数如为 $1$，则省略。\n\n例子：`AAAAACAAAAACC` 的压缩串为 `5AC5A2C`。\n\n现在有一个合法基因串 $S$，其压缩串为 $T$，您可以对这个合法基因串做一次操作，操作可以有如下三种：\n\n- 在 $S$ 的第 $x$ 个字符后插入一个字符 $Z$。\n- 删除 $S$ 的第 $x$ 个字符。\n- 将 $S$ 的第 $x$ 个字符替换为另一个字符 $Z$。\n\n设 $S$ 经过操作后变为 $S'$，$S'$ 的压缩串为 $T'$，求使得 $T'$ 的长度最小化或最大化的一种操作方案。", "inputFormat": "一行一个字符串 $T$。", "outputFormat": "输出共两行，第一行为使 $T'$ 长度最小化的一种方案，第二行为使 $T'$ 长度最大化的一种方案。\n\n方案输出格式如下：\n\n- 如果您想要使用 $1$ 操作，输出格式类似 `1 x Z`。\n- 如果您想要使用 $2$ 操作，输出格式类似 `2 x`。\n- 如果您想要使用 $3$ 操作，输出格式类似 `3 x Z`。", "hint": "【样例解释】：\n\n$S=$ `AAAAACAAAAACC`。\n\n使用 `3 6 A` 的操作后 $S'=$ `AAAAAAAAAAACC`，$T'=$ `11A2C`。\n\n使用 `1 2 C` 的操作后 $S'=$ `AACAAACAAAAACC`，$T'=$ `2AC3AC5A2C`。\n\n【数据范围】：\n\n对于所有子任务，有 $1\\le |T|\\le 10^5$，$1\\le |S|\\le 10^9$。\n\n\n| 子任务编号 |数据范围| 分值 |\n|:-:|:-:|:-:|\n|$1$|$\\lvert T\\rvert\\le \\lvert S\\rvert\\le 10$|$9$ |\n|$2$|$\\lvert T\\rvert\\le 100$，$\\lvert S\\rvert\\le 10^4$|$17$|\n|$3$|$\\lvert T\\rvert\\le 10^3$，$\\lvert S\\rvert\\le 10^5$|$21$|\n|$4$|$\\lvert S\\rvert\\le 10^7$|$11$|\n|$5$|无特殊限制|$42$|\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 基因突变 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T3 [ Изменённая ДНК](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "我们规定，一个合法的基因串仅包括 `A`、`G`、`C` 与 `T`。\n\n我们规定，任何一个合法基因串都有一个压缩串，压缩串将原基因字符串中连续的字母压缩成这个字母的个数后跟这个字母，个数如为 $1$，则省略。\n\n例子：`AAAAACAAAAACC` 的压缩串为 `5AC5A2C`。\n\n现在有一个合法基因串 $S$，其压缩串为 $T$，您可以对这个合法基因串做一次操作，操作可以有如下三种：\n\n- 在 $S$ 的第 $x$ 个字符后插入一个字符 $Z$。\n- 删除 $S$ 的第 $x$ 个字符。\n- 将 $S$ 的第 $x$ 个字符替换为另一个字符 $Z$。\n\n设 $S$ 经过操作后变为 $S'$，$S'$ 的压缩串为 $T'$，求使得 $T'$ 的长度最小化或最大化的一种操作方案。", "inputFormat": "一行一个字符串 $T$。", "outputFormat": "输出共两行，第一行为使 $T'$ 长度最小化的一种方案，第二行为使 $T'$ 长度最大化的一种方案。\n\n方案输出格式如下：\n\n- 如果您想要使用 $1$ 操作，输出格式类似 `1 x Z`。\n- 如果您想要使用 $2$ 操作，输出格式类似 `2 x`。\n- 如果您想要使用 $3$ 操作，输出格式类似 `3 x Z`。", "hint": "【样例解释】：\n\n$S=$ `AAAAACAAAAACC`。\n\n使用 `3 6 A` 的操作后 $S'=$ `AAAAAAAAAAACC`，$T'=$ `11A2C`。\n\n使用 `1 2 C` 的操作后 $S'=$ `AACAAACAAAAACC`，$T'=$ `2AC3AC5A2C`。\n\n【数据范围】：\n\n对于所有子任务，有 $1\\le |T|\\le 10^5$，$1\\le |S|\\le 10^9$。\n\n\n| 子任务编号 |数据范围| 分值 |\n|:-:|:-:|:-:|\n|$1$|$\\lvert T\\rvert\\le \\lvert S\\rvert\\le 10$|$9$ |\n|$2$|$\\lvert T\\rvert\\le 100$，$\\lvert S\\rvert\\le 10^4$|$17$|\n|$3$|$\\lvert T\\rvert\\le 10^3$，$\\lvert S\\rvert\\le 10^5$|$21$|\n|$4$|$\\lvert S\\rvert\\le 10^7$|$11$|\n|$5$|无特殊限制|$42$|\n", "locale": "zh-CN"}}}
{"pid": "P9764", "type": "P", "difficulty": 6, "samples": [["3\n1 7\n3\n1 8\n6\n2 8\n1 6", "Yes\n2 1 3"], ["1\n1 7\n5", "Yes\n1"], ["1\n3 10\n2 5 9", "No"], ["3\n1 5\n3\n1 3\n3\n1 6\n3", "No"], ["4\n1 5\n0\n1 0\n0\n1 3\n3\n1 0\n0", "Yes\n3 2 1 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "图论", "2021", "Special Judge", "图论建模", "欧拉回路", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 绳子 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T4 [ Антенна](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "有 $n$ 根绳子，第 $i$ 根绳子长 $s_i$ cm，有 $m_i$ 个节点，第 $j$ 个节点在离绳子左端点 $p_{i,j}$ cm 处。\n\n试构造一组从左至右连接绳子的方案，设该方案的绳子顺序为 $q$，$q$ 显然会是 $1\\sim n$ 的一个排列，且满足如下要求：将第 $q_i$ 根绳子的右端点与第 $q_{i+1}$ 根绳子的左端点相接后 $(1\\le i<n)$，相邻的节点间的距离相等。\n\n显然有可能没有方案，这个时候请输出 `No`。", "inputFormat": "第一行为一个整数 $n$。\n\n接下来共 $2\\times n$ 行：\n\n- 第 $2\\times i(1\\le i\\le n)$ 行为两个整数 $m_i$ 与 $s_i$。\n- 第 $2\\times i+1(1\\le i\\le n)$ 行为 $m_i$ 个整数 $p_{i,j}$。", "outputFormat": "若可以构造一组方案，输出 `Yes`，接下来再输出一行 $n$ 个整数 $q_i$。\n\n若无解，输出 `No`。", "hint": "【样例解释1】：\n\n![](https://s1.ax1x.com/2023/04/28/p9lIjVH.png)\n![p9lIOqe.png](https://s1.ax1x.com/2023/04/28/p9lIOqe.png)\n\n【数据范围】：\n\n对于所有子任务，均有 $1\\le n\\le 10^5$，$1\\le m_i\\le 10^5$，$0\\le s_i\\le 10^9$，$0\\le p_{i,1}<p_{i,2}<\\cdots<p_{i,m_i}\\le s_i$，$\\sum m_i\\le 10^5$。\n\n| 子任务编号 |特殊限制| 分值 |\n| :-: | :-: | :--: |\n|$1$| $n\\le 8$，$m_i=1$，$s_i\\le 100$ | $8$  |\n|$2$|$n\\le 8$，$s_i\\le 100$| $8$  |\n|$3$|$n\\le 10^3$| $21$ |\n|$4$|$\\sum m_i>n$| $21$ |\n|$5$|$s_i\\le 100$| $21$ |\n|$6$|无特殊限制| $21$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 绳子 (Day 1)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day1 T4 [ Антенна](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day1.pdf)**。", "description": "有 $n$ 根绳子，第 $i$ 根绳子长 $s_i$ cm，有 $m_i$ 个节点，第 $j$ 个节点在离绳子左端点 $p_{i,j}$ cm 处。\n\n试构造一组从左至右连接绳子的方案，设该方案的绳子顺序为 $q$，$q$ 显然会是 $1\\sim n$ 的一个排列，且满足如下要求：将第 $q_i$ 根绳子的右端点与第 $q_{i+1}$ 根绳子的左端点相接后 $(1\\le i<n)$，相邻的节点间的距离相等。\n\n显然有可能没有方案，这个时候请输出 `No`。", "inputFormat": "第一行为一个整数 $n$。\n\n接下来共 $2\\times n$ 行：\n\n- 第 $2\\times i(1\\le i\\le n)$ 行为两个整数 $m_i$ 与 $s_i$。\n- 第 $2\\times i+1(1\\le i\\le n)$ 行为 $m_i$ 个整数 $p_{i,j}$。", "outputFormat": "若可以构造一组方案，输出 `Yes`，接下来再输出一行 $n$ 个整数 $q_i$。\n\n若无解，输出 `No`。", "hint": "【样例解释1】：\n\n![](https://s1.ax1x.com/2023/04/28/p9lIjVH.png)\n![p9lIOqe.png](https://s1.ax1x.com/2023/04/28/p9lIOqe.png)\n\n【数据范围】：\n\n对于所有子任务，均有 $1\\le n\\le 10^5$，$1\\le m_i\\le 10^5$，$0\\le s_i\\le 10^9$，$0\\le p_{i,1}<p_{i,2}<\\cdots<p_{i,m_i}\\le s_i$，$\\sum m_i\\le 10^5$。\n\n| 子任务编号 |特殊限制| 分值 |\n| :-: | :-: | :--: |\n|$1$| $n\\le 8$，$m_i=1$，$s_i\\le 100$ | $8$  |\n|$2$|$n\\le 8$，$s_i\\le 100$| $8$  |\n|$3$|$n\\le 10^3$| $21$ |\n|$4$|$\\sum m_i>n$| $21$ |\n|$5$|$s_i\\le 100$| $21$ |\n|$6$|无特殊限制| $21$ |", "locale": "zh-CN"}}}
{"pid": "P9765", "type": "P", "difficulty": 1, "samples": [["30 12 7\n18 1 2021", "b"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 日期 (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T1  [Календарь на Альфе Центавра](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。", "description": "在一颗外星球上，一年有 $m$ 个月，一个月有 $d$ 天，一周有 $w$ 天。\n\n为了区分每一周的每一天，人类使用了星期几来说明，而这颗外星球上的居民使用小写英文字母 `a`$\\sim$`z` 来表示每一周的每一天。\n\n已知 $1$ 年 $1$ 月 $1$ 日对应星期 `a`，求 $k$ 年 $j$ 月 $i$ 日对应星期几。", "inputFormat": "第一行为三个整数 $d,m,w$。\n\n第二行为三个整数 $i,j,k$。", "outputFormat": "仅一行一个字母，表示 $k$ 年 $j$ 月 $i$ 日对应星期几。", "hint": "【数据范围】：\n\n对于所有子任务，都有 $1\\le d,m\\le 100$，$1\\le w\\le 26$，$1\\le i\\le d$，$1\\le j\\le m$，$1\\le k\\le 10^9$。\n\n| 子任务编号 |      特殊限制      | 分值 |\n| :--------: | :----------------: | :--: |\n|    $1$     |      $d=m=1$       | $16$ |\n|    $2$     | $m=1$，$k\\le 10^7$ | $16$ |\n|    $3$     |      $i=j=1$       | $17$ |\n|    $4$     |       $k=1$        | $17$ |\n|    $5$     |     $k\\le 100$     | $17$ |\n|    $6$     |     无特殊限制     | $17$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 日期 (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T1  [Календарь на Альфе Центавра](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。", "description": "在一颗外星球上，一年有 $m$ 个月，一个月有 $d$ 天，一周有 $w$ 天。\n\n为了区分每一周的每一天，人类使用了星期几来说明，而这颗外星球上的居民使用小写英文字母 `a`$\\sim$`z` 来表示每一周的每一天。\n\n已知 $1$ 年 $1$ 月 $1$ 日对应星期 `a`，求 $k$ 年 $j$ 月 $i$ 日对应星期几。", "inputFormat": "第一行为三个整数 $d,m,w$。\n\n第二行为三个整数 $i,j,k$。", "outputFormat": "仅一行一个字母，表示 $k$ 年 $j$ 月 $i$ 日对应星期几。", "hint": "【数据范围】：\n\n对于所有子任务，都有 $1\\le d,m\\le 100$，$1\\le w\\le 26$，$1\\le i\\le d$，$1\\le j\\le m$，$1\\le k\\le 10^9$。\n\n| 子任务编号 |      特殊限制      | 分值 |\n| :--------: | :----------------: | :--: |\n|    $1$     |      $d=m=1$       | $16$ |\n|    $2$     | $m=1$，$k\\le 10^7$ | $16$ |\n|    $3$     |      $i=j=1$       | $17$ |\n|    $4$     |       $k=1$        | $17$ |\n|    $5$     |     $k\\le 100$     | $17$ |\n|    $6$     |     无特殊限制     | $17$ |", "locale": "zh-CN"}}}
{"pid": "P9766", "type": "P", "difficulty": 3, "samples": [["700\n0", "777"], ["700\n1", "700"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 好数 (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T2  [Числа](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。\n", "description": "定义第一类好数为所有数位上的数字均相同的数。\n\n定义第二类好数为满足如下任意一个条件的数：\n- 为第一类好数。\n- 设 $t$ 为数的位数，则有 $t-1$ 位数上的数字相同，且无前导零。\n\n现给定一个 $x$，求出 $\\ge x$ 的第一个第 $k+1$ 类好数 $y$。", "inputFormat": "第一行一个整数 $x$。\n\n第二行一个整数 $k$。", "outputFormat": "一行一个整数 $y$。", "hint": "对于所有子任务 $1\\le x\\le 10^{17}$，$k\\in\\{0,1\\}$。\n\n| 子任务编号 |        特殊限制         | 分值 |\n| :--------: | :---------------------: | :--: |\n|    $1$     | $1\\le x\\le 10^5$，$k=0$ | $15$ |\n|    $2$     |          $k=0$          | $20$ |\n|    $3$     |    $1\\le x\\le 10^5$     | $21$ |\n|    $4$     |       无特殊限制        | $44$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 好数 (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T2  [Числа](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。\n", "description": "定义第一类好数为所有数位上的数字均相同的数。\n\n定义第二类好数为满足如下任意一个条件的数：\n- 为第一类好数。\n- 设 $t$ 为数的位数，则有 $t-1$ 位数上的数字相同，且无前导零。\n\n现给定一个 $x$，求出 $\\ge x$ 的第一个第 $k+1$ 类好数 $y$。", "inputFormat": "第一行一个整数 $x$。\n\n第二行一个整数 $k$。", "outputFormat": "一行一个整数 $y$。", "hint": "对于所有子任务 $1\\le x\\le 10^{17}$，$k\\in\\{0,1\\}$。\n\n| 子任务编号 |        特殊限制         | 分值 |\n| :--------: | :---------------------: | :--: |\n|    $1$     | $1\\le x\\le 10^5$，$k=0$ | $15$ |\n|    $2$     |          $k=0$          | $20$ |\n|    $3$     |    $1\\le x\\le 10^5$     | $21$ |\n|    $4$     |       无特殊限制        | $44$ |", "locale": "zh-CN"}}}
{"pid": "P9767", "type": "P", "difficulty": 4, "samples": [["2 2 2", "1 2\n2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["搜索", "2021", "Special Judge", "随机化", "Ad-hoc", "ROIR（俄罗斯）"], "title": "[ROIR 2021] 染色 (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T3  [Хорошие раскраски](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。", "description": "用 $c$ 种颜色对一个 $n\\times m$ 的矩阵染色，要求对于任意 $1\\le x_1<x_2\\le n$，$1\\le y_1<y_2\\le m$，$(x_1,y_1)$，$(x_2,y_1)$，$(x_1,y_2)$，$(x_2,y_2)$ 所染的颜色不完全相同。\n\n试构造一组方案。\n\n数据保证有解。", "inputFormat": "一行三个整数 $n,m,c$。", "outputFormat": "输出 $n$ 行，每一行 $m$ 个范围在 $1\\sim c$ 的整数，表示染色的颜色种类。", "hint": "- 对于 $25\\%$ 的数据，$c=2$。\n- 对于另外 $75\\%$ 的数据，$c=3$。\n- 对于 $100\\%$ 的数据，$2\\le n,m\\le 10$，$2\\le c\\le 3$。\n\n注：附件为本题的 Special Judge，供大家调试。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] 染色 (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T3  [Хорошие раскраски](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。", "description": "用 $c$ 种颜色对一个 $n\\times m$ 的矩阵染色，要求对于任意 $1\\le x_1<x_2\\le n$，$1\\le y_1<y_2\\le m$，$(x_1,y_1)$，$(x_2,y_1)$，$(x_1,y_2)$，$(x_2,y_2)$ 所染的颜色不完全相同。\n\n试构造一组方案。\n\n数据保证有解。", "inputFormat": "一行三个整数 $n,m,c$。", "outputFormat": "输出 $n$ 行，每一行 $m$ 个范围在 $1\\sim c$ 的整数，表示染色的颜色种类。", "hint": "- 对于 $25\\%$ 的数据，$c=2$。\n- 对于另外 $75\\%$ 的数据，$c=3$。\n- 对于 $100\\%$ 的数据，$2\\le n,m\\le 10$，$2\\le c\\le 3$。\n\n注：附件为本题的 Special Judge，供大家调试。", "locale": "zh-CN"}}}
{"pid": "P9768", "type": "P", "difficulty": 5, "samples": [["123\n123\n246", "6"], ["01\n02\n03", "1"], ["01211\n12099\n23300", "4"], ["121\n214\n999", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "ROIR（俄罗斯）"], "title": "[ROIR 2021] A+B (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T4  [A+B](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。", "description": "有三个长为 $n$ 的可能含前导零的整数 $a,b,c$，按如下方式排成三行 $n$ 列：\n\n```\na\nb\nc\n```\n问有多少种不同的**列**的排列方式，使得被横着念出来的三个整数 $x,y,z$ 有 $x+y=z$ 成立且三个整数均没有前导零。\n\n排列方式的个数可能很多，输出其 $\\bmod \\ 10^9+7$ 即可。", "inputFormat": "第一行为一个长 $n$ 的整数 $a$。\n\n第二行为一个长 $n$ 的整数 $b$。\n\n第三行为一个长 $n$ 的整数 $c$。", "outputFormat": "一行一个整数，表示不同的排列方式的个数对 $10^9+7$ 取模的结果。", "hint": "【样例解释1】：所有排列方式均可。\n\n【样例解释2】：我们只计算 $10+20=30$，而不计算 $01+02=03$，因为 $03$ 含前导零。\n\n【样例解释3】：显然有 $10121 + 21909 = 32030$ 与 $12101 + 20919 = 33020$ 两种合法等式，但由于有两个相同的列，所以它们都有两种方式得到答案，总方案数为 $2\\times 2=4$。\n\n【数据范围】：\n\n对于所有子任务，有 $2\\le n\\le 2\\times 10^5$。\n\n| 子任务编号 |特殊限制| 分值 |\n| :-: | :-: | :-: |\n|$1$|$n\\le 6$| $7$  |\n|$2$|$n\\le 18$| $14$ |\n|$3$| $n\\le 200$，读入的数字中不含 $0$ | $15$ |\n|$4$|$n\\le 200$| $5$  |\n|$5$| $n\\le 750$，读入的数字中不含 $0$ | $17$ |\n|$6$|$n\\le 750$| $5$  |\n|$7$|读入的数字中不含 $0$| $20$ |\n|$8$|无特殊限制| $17$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2021] A+B (Day 2)", "background": "**译自 [ROIR 2021](http://neerc.ifmo.ru/school/archive/2020-2021.html) Day2 T4  [A+B](http://neerc.ifmo.ru/school/archive/2020-2021/ru-olymp-regional-2021-day2.pdf)**。", "description": "有三个长为 $n$ 的可能含前导零的整数 $a,b,c$，按如下方式排成三行 $n$ 列：\n\n```\na\nb\nc\n```\n问有多少种不同的**列**的排列方式，使得被横着念出来的三个整数 $x,y,z$ 有 $x+y=z$ 成立且三个整数均没有前导零。\n\n排列方式的个数可能很多，输出其 $\\bmod \\ 10^9+7$ 即可。", "inputFormat": "第一行为一个长 $n$ 的整数 $a$。\n\n第二行为一个长 $n$ 的整数 $b$。\n\n第三行为一个长 $n$ 的整数 $c$。", "outputFormat": "一行一个整数，表示不同的排列方式的个数对 $10^9+7$ 取模的结果。", "hint": "【样例解释1】：所有排列方式均可。\n\n【样例解释2】：我们只计算 $10+20=30$，而不计算 $01+02=03$，因为 $03$ 含前导零。\n\n【样例解释3】：显然有 $10121 + 21909 = 32030$ 与 $12101 + 20919 = 33020$ 两种合法等式，但由于有两个相同的列，所以它们都有两种方式得到答案，总方案数为 $2\\times 2=4$。\n\n【数据范围】：\n\n对于所有子任务，有 $2\\le n\\le 2\\times 10^5$。\n\n| 子任务编号 |特殊限制| 分值 |\n| :-: | :-: | :-: |\n|$1$|$n\\le 6$| $7$  |\n|$2$|$n\\le 18$| $14$ |\n|$3$| $n\\le 200$，读入的数字中不含 $0$ | $15$ |\n|$4$|$n\\le 200$| $5$  |\n|$5$| $n\\le 750$，读入的数字中不含 $0$ | $17$ |\n|$6$|$n\\le 750$| $5$  |\n|$7$|读入的数字中不含 $0$| $20$ |\n|$8$|无特殊限制| $17$ |", "locale": "zh-CN"}}}
{"pid": "P9769", "type": "P", "difficulty": 3, "samples": [["10 3 1\n2\n", "3\n"], ["100 6 3\n2 3 5\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "单调队列", "2023", "O2优化", "动态规划优化", "高校校赛"], "title": "[HUSTFC 2023] 简单的加法乘法计算题", "background": "", "description": "JokerShaco 有一个数字 $x$，最开始 $x=0$，他想要把 $x$ 变成 $y$。为了达到这个目标，他可以利用两个集合 $A$ 和 $B$。其中集合 $A$ 包含 $n$ 个元素，分别是从 $1$ 到 $n$ 的所有正整数；集合 $B$ 包含 $m$ 个元素。每次它可以对 $x$ 进行如下任意次操作：\n- 选择 $A$ 中的一个元素 $a$，令 $x$ 加上 $a$。\n- 选择 $B$ 中的一个元素 $b$，令 $x$ 乘以 $b$。\n\n已知 $y$，$n$，$m$ 和 $B$ 中 $m$ 个元素的具体值，JokerShaco 想知道让 $x$ 变成 $y$ 的最少操作次数。", "inputFormat": "第一行包含三个整数 $y\\ (1\\le y\\le 5\\cdot 10^6)$，$n\\ (1\\le n\\le 5\\cdot 10^6)$ 和 $m\\ (1\\le m\\le 10)$，其含义如题目所述。\n\n第二行包含 $m$ 个正整数，其中第 $i$ 个表示 $B$ 中的第 $i$ 个元素 $b_i\\ (1\\le b_i\\le 5\\cdot 10^6)$。", "outputFormat": "输出一个整数，表示让 $x$ 变成 $y$ 的最少操作次数。在题目条件下可知一定能将 $x$ 变成 $y$。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 简单的加法乘法计算题", "background": "", "description": "JokerShaco 有一个数字 $x$，最开始 $x=0$，他想要把 $x$ 变成 $y$。为了达到这个目标，他可以利用两个集合 $A$ 和 $B$。其中集合 $A$ 包含 $n$ 个元素，分别是从 $1$ 到 $n$ 的所有正整数；集合 $B$ 包含 $m$ 个元素。每次它可以对 $x$ 进行如下任意次操作：\n- 选择 $A$ 中的一个元素 $a$，令 $x$ 加上 $a$。\n- 选择 $B$ 中的一个元素 $b$，令 $x$ 乘以 $b$。\n\n已知 $y$，$n$，$m$ 和 $B$ 中 $m$ 个元素的具体值，JokerShaco 想知道让 $x$ 变成 $y$ 的最少操作次数。", "inputFormat": "第一行包含三个整数 $y\\ (1\\le y\\le 5\\cdot 10^6)$，$n\\ (1\\le n\\le 5\\cdot 10^6)$ 和 $m\\ (1\\le m\\le 10)$，其含义如题目所述。\n\n第二行包含 $m$ 个正整数，其中第 $i$ 个表示 $B$ 中的第 $i$ 个元素 $b_i\\ (1\\le b_i\\le 5\\cdot 10^6)$。", "outputFormat": "输出一个整数，表示让 $x$ 变成 $y$ 的最少操作次数。在题目条件下可知一定能将 $x$ 变成 $y$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9770", "type": "P", "difficulty": 6, "samples": [["5\n0 0 1 2 3\n", "1 2 1 2 1 "], ["11\n0 0 0 0 2 1 0 0 3 0 1\n", "1 2 3 1 2 1 1 2 3 4 1 "]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 逆 KMP", "background": "", "description": "Walk Alone 是一个字符串大师，但是他已经对传统的字符串算法感到无聊，如 KMP 算法，所以他最近在思考逆向的 KMP。下面是他提出的问题：\n\n给你一个长度为 $n$ 的整数序列 $a$，对于任意的整数 $i\\ (1\\le i\\le n)$，满足 $0\\le a_i<i$。你需要构造另一个整数序列 $s$，满足以下条件：\n- 序列 $s$ 的长度为 $n$，并且其中任意元素 $s_i$ 满足 $1\\le s_i\\le n$；\n- 对于所有的整数 $i\\ (1\\le i\\le n)$ 和 $j\\ (1\\le j\\le a_i)$，满足 $s_{j}=s_{i-a_i+j}$；\n- 满足上述条件的前提下，序列 $s$ 中出现的不同元素的数量**最多**。\n\n当然，Walk Alone 可以很轻松地解决这道题，但他想把这道题当作对你的考验。\n", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 2\\cdot 10^5)$，表示序列 $a$ 的长度。\n\n第二行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $a_i\\ (0\\le a_i<i)$。", "outputFormat": "输出用空格间隔的 $n$ 个整数，其中第 $i$ 个整数定义为 $s_i$。如果存在多个合法答案，请输出字典序最小的那个。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 逆 KMP", "background": "", "description": "Walk Alone 是一个字符串大师，但是他已经对传统的字符串算法感到无聊，如 KMP 算法，所以他最近在思考逆向的 KMP。下面是他提出的问题：\n\n给你一个长度为 $n$ 的整数序列 $a$，对于任意的整数 $i\\ (1\\le i\\le n)$，满足 $0\\le a_i<i$。你需要构造另一个整数序列 $s$，满足以下条件：\n- 序列 $s$ 的长度为 $n$，并且其中任意元素 $s_i$ 满足 $1\\le s_i\\le n$；\n- 对于所有的整数 $i\\ (1\\le i\\le n)$ 和 $j\\ (1\\le j\\le a_i)$，满足 $s_{j}=s_{i-a_i+j}$；\n- 满足上述条件的前提下，序列 $s$ 中出现的不同元素的数量**最多**。\n\n当然，Walk Alone 可以很轻松地解决这道题，但他想把这道题当作对你的考验。\n", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 2\\cdot 10^5)$，表示序列 $a$ 的长度。\n\n第二行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $a_i\\ (0\\le a_i<i)$。", "outputFormat": "输出用空格间隔的 $n$ 个整数，其中第 $i$ 个整数定义为 $s_i$。如果存在多个合法答案，请输出字典序最小的那个。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9771", "type": "P", "difficulty": 2, "samples": [["5\n1 2 3 5 4\n", "1\n"], ["3\n3 2 1\n", "0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 排列排序问题", "background": "", "description": "JokerShaco 有一个长度为 $n$ 的排列 $p$，他认为一个排列必须是有序的，所以他打算将其进行排序。\n\n他可以对这个排列进行如下操作：\n- 将这个排列切割成若干个序列（也可以不切割，保持原样），每个序列至少含有一个元素；\n- 选择其中一些序列并将它们翻转；\n- 将这些序列按照他的意愿重新组合拼接得到一个新的排列。\n\nJokerShaco 认为切割操作非常累，他想知道如果必须把这个排列变得有序，至少需要切割多少次。\n\n一个长度为 $n$ 的排列的定义为，包含从 $1$ 到 $n$ 这 $n$ 个不同的整数的序列，每个整数恰好出现一次。\n\n序列翻转的定义为，假设存在一个长度为 $m$ 的序列 $[a_1,a_2,\\dots,a_{m-1},a_m]$，那么将这个序列翻转后将会得到 $[a_m,a_{m-1},\\dots,a_2,a_1]$。", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 10^6$)，表示排列 $p$ 的长度。\n\n第二行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $p_i$。保证输入的 $p$ 一定是长度为 $n$ 的排列。", "outputFormat": "输出一个整数，表示将排列 $p$ 变得有序所需的最少切割次数。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 排列排序问题", "background": "", "description": "JokerShaco 有一个长度为 $n$ 的排列 $p$，他认为一个排列必须是有序的，所以他打算将其进行排序。\n\n他可以对这个排列进行如下操作：\n- 将这个排列切割成若干个序列（也可以不切割，保持原样），每个序列至少含有一个元素；\n- 选择其中一些序列并将它们翻转；\n- 将这些序列按照他的意愿重新组合拼接得到一个新的排列。\n\nJokerShaco 认为切割操作非常累，他想知道如果必须把这个排列变得有序，至少需要切割多少次。\n\n一个长度为 $n$ 的排列的定义为，包含从 $1$ 到 $n$ 这 $n$ 个不同的整数的序列，每个整数恰好出现一次。\n\n序列翻转的定义为，假设存在一个长度为 $m$ 的序列 $[a_1,a_2,\\dots,a_{m-1},a_m]$，那么将这个序列翻转后将会得到 $[a_m,a_{m-1},\\dots,a_2,a_1]$。", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 10^6$)，表示排列 $p$ 的长度。\n\n第二行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $p_i$。保证输入的 $p$ 一定是长度为 $n$ 的排列。", "outputFormat": "输出一个整数，表示将排列 $p$ 变得有序所需的最少切割次数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9772", "type": "P", "difficulty": 3, "samples": [["1\n", "Kelin\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 网格染色", "background": "", "description": "有一个由 $n\\times n$ 个小正方形组成的网格图，其中每个小正方形的边长为 $1$，Walk Alone 和 Kelin 在这上面进行一场染色游戏，游戏的规则如下：\n- Walk Alone 和 Kelin 轮流进行操作，Walk Alone 先手。\n- 当轮到 Walk Alone 操作时，他选择一条尚未被染色的正方形边框并将其染成**红色**。操作结束时，如果这条边框是一个（或两个）正方形最后一条被染色的边框，则自动将该正方形也同样染成**红色**。\n- 当轮到 Kelin 操作时，他选择一条尚未被染色的正方形边框并将其染成**蓝色**。操作结束时，如果这条边框是一个（或两个）正方形最后一条被染色的边框，则自动将该正方形也同样染成**蓝色**。\n- 当所有的边框都被染色后，游戏结束。此时染成自己所属颜色的正方形数量更多的一方获胜；或者当数量相等时，达成平局。\n\n例如，在 $2\\times 2$ 的网格图中，一种可能的游戏过程如下：\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/zkbfy296.png)\n\n已知网格图的边长 $n$，如果两人都积极进行游戏（按照最优策略，尽可能地让自己获胜，或者在自己无法获胜的前提下尽可能地达成平局），请你推断哪一方会获胜或达成平局。\n", "inputFormat": "一行包含一个整数 $n\\ (1\\le n\\le 10^9$)，表示网格图的边长。", "outputFormat": "如果 Walk Alone 获胜，输出 `Walk Alone`；否则如果 Kelin 获胜，输出 `Kelin`；否则平局输出 `Draw`。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 网格染色", "background": "", "description": "有一个由 $n\\times n$ 个小正方形组成的网格图，其中每个小正方形的边长为 $1$，Walk Alone 和 Kelin 在这上面进行一场染色游戏，游戏的规则如下：\n- Walk Alone 和 Kelin 轮流进行操作，Walk Alone 先手。\n- 当轮到 Walk Alone 操作时，他选择一条尚未被染色的正方形边框并将其染成**红色**。操作结束时，如果这条边框是一个（或两个）正方形最后一条被染色的边框，则自动将该正方形也同样染成**红色**。\n- 当轮到 Kelin 操作时，他选择一条尚未被染色的正方形边框并将其染成**蓝色**。操作结束时，如果这条边框是一个（或两个）正方形最后一条被染色的边框，则自动将该正方形也同样染成**蓝色**。\n- 当所有的边框都被染色后，游戏结束。此时染成自己所属颜色的正方形数量更多的一方获胜；或者当数量相等时，达成平局。\n\n例如，在 $2\\times 2$ 的网格图中，一种可能的游戏过程如下：\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/zkbfy296.png)\n\n已知网格图的边长 $n$，如果两人都积极进行游戏（按照最优策略，尽可能地让自己获胜，或者在自己无法获胜的前提下尽可能地达成平局），请你推断哪一方会获胜或达成平局。\n", "inputFormat": "一行包含一个整数 $n\\ (1\\le n\\le 10^9$)，表示网格图的边长。", "outputFormat": "如果 Walk Alone 获胜，输出 `Walk Alone`；否则如果 Kelin 获胜，输出 `Kelin`；否则平局输出 `Draw`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9773", "type": "P", "difficulty": 6, "samples": [["3\n1 3\n2 3\n1 2\n0", "2\n"], ["6\n2 5\n3 6\n2 5\n4 6\n1 3\n1 4\n8", "28\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 序列配对", "background": "", "description": "你有一个长度为 $n$ 的序列 $a_1,a_2,\\dots,a_n$，初始序列内任意元素 $a_i=0$。\n\n之后会告诉你 $n$ 组配对信息，每组配对信息形如整数对 $(l,r)$，表示将 $a_l$ 和 $a_r$ 进行配对。在配对之后，你必须执行下面两种操作之一（不可全选）：\n- 令 $a_l$ 加 $1$，随后 $a_r$ 减 $1$。\n- 令 $a_r$ 加 $1$，随后 $a_l$ 减 $1$。\n\n你得知这些配对信息遵循着一个奇妙的规定：在 $n$ 组整数对内的 $2n$ 个整数中，每个序列的下标都恰好出现 $2$ 次！\n\n此时你想知道，在所有操作方案中，使 $\\sum_{i=1}^n{a_i}^2=k$ 的方案数，由于答案可能会很大，你只需要求出其对 $998\\,244\\,353$ 取模后的结果。\n", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 2\\cdot 10^5)$，表示序列的长度。\n\n接下来 $n$ 行，其中第 $i$ 行包含两个整数 $l_i,r_i\\ (1\\le l\\le r \\le n)$，表示第 $i$ 组配对信息。保证输入的这 $2n$ 个整数符合题目要求。\n\n最后一行包含一个整数 $k\\ (0\\le k \\le 10^9)$，其含义如题目所述。", "outputFormat": "输出一个整数，表示使 $\\sum_{i=1}^n{a_i}^2=k$ 的方案数对 $998\\,244\\,353$ 取模后的结果。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 序列配对", "background": "", "description": "你有一个长度为 $n$ 的序列 $a_1,a_2,\\dots,a_n$，初始序列内任意元素 $a_i=0$。\n\n之后会告诉你 $n$ 组配对信息，每组配对信息形如整数对 $(l,r)$，表示将 $a_l$ 和 $a_r$ 进行配对。在配对之后，你必须执行下面两种操作之一（不可全选）：\n- 令 $a_l$ 加 $1$，随后 $a_r$ 减 $1$。\n- 令 $a_r$ 加 $1$，随后 $a_l$ 减 $1$。\n\n你得知这些配对信息遵循着一个奇妙的规定：在 $n$ 组整数对内的 $2n$ 个整数中，每个序列的下标都恰好出现 $2$ 次！\n\n此时你想知道，在所有操作方案中，使 $\\sum_{i=1}^n{a_i}^2=k$ 的方案数，由于答案可能会很大，你只需要求出其对 $998\\,244\\,353$ 取模后的结果。\n", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 2\\cdot 10^5)$，表示序列的长度。\n\n接下来 $n$ 行，其中第 $i$ 行包含两个整数 $l_i,r_i\\ (1\\le l\\le r \\le n)$，表示第 $i$ 组配对信息。保证输入的这 $2n$ 个整数符合题目要求。\n\n最后一行包含一个整数 $k\\ (0\\le k \\le 10^9)$，其含义如题目所述。", "outputFormat": "输出一个整数，表示使 $\\sum_{i=1}^n{a_i}^2=k$ 的方案数对 $998\\,244\\,353$ 取模后的结果。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9774", "type": "P", "difficulty": 4, "samples": [["3 7\n11\n45\n14", "4\n1\n2\n"], ["2 10007\n1919\n810", "3152\n3679\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 新取模运算", "background": "", "description": "在这道题中，我们定义一个新的运算符号 $\\oplus$ 并将其称为新取模运算。\n\n当计算 $x \\oplus y$ 时，如果 $x$ 不是 $y$ 的倍数，则得到 $x$ 除以 $y$ 的余数; 否则令 $x$ 不断除以 $y$ 直到 $x$ 不再是 $y$ 的倍数，假设它为 $x'$，然后得到 $x'$ 除以 $y$ 的余数。例如，$4\\oplus 5=4$，$20\\oplus 5=4$，$100\\oplus 5=4$。\n\n给定一个质数 $p$，接下来会有多组询问，对于每次询问会给出一个整数 $n$，你需要计算出 $n!\\oplus p$ 的值。其中 $n!$ 是 $n$ 的阶乘，即所有小于等于 $n$ 的正整数的乘积。", "inputFormat": "第一行包含两个整数 $T\\ (1\\le T\\le 10^5)$ 和 $p\\ (2\\le p\\le 10^6)$，分别表示询问的次数和给定的质数。\n\n接下来 $T$ 行，每行包含一个整数 $n\\ (1\\le n\\le 10^{18})$，含义如题目所述。", "outputFormat": "对于每次询问，输出一行包含一个整数，即 $n!\\oplus p$ 的值。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 新取模运算", "background": "", "description": "在这道题中，我们定义一个新的运算符号 $\\oplus$ 并将其称为新取模运算。\n\n当计算 $x \\oplus y$ 时，如果 $x$ 不是 $y$ 的倍数，则得到 $x$ 除以 $y$ 的余数; 否则令 $x$ 不断除以 $y$ 直到 $x$ 不再是 $y$ 的倍数，假设它为 $x'$，然后得到 $x'$ 除以 $y$ 的余数。例如，$4\\oplus 5=4$，$20\\oplus 5=4$，$100\\oplus 5=4$。\n\n给定一个质数 $p$，接下来会有多组询问，对于每次询问会给出一个整数 $n$，你需要计算出 $n!\\oplus p$ 的值。其中 $n!$ 是 $n$ 的阶乘，即所有小于等于 $n$ 的正整数的乘积。", "inputFormat": "第一行包含两个整数 $T\\ (1\\le T\\le 10^5)$ 和 $p\\ (2\\le p\\le 10^6)$，分别表示询问的次数和给定的质数。\n\n接下来 $T$ 行，每行包含一个整数 $n\\ (1\\le n\\le 10^{18})$，含义如题目所述。", "outputFormat": "对于每次询问，输出一行包含一个整数，即 $n!\\oplus p$ 的值。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9775", "type": "P", "difficulty": 5, "samples": [["4\n1 2 3 4\n2 3 2 3\n2 7\n3 6\n4 5\n", "75 207 390 974 "]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 广义线段树", "background": "", "description": "对于任意长度为 $n$ 的序列 $a$，可以基于 $a$ 建立一个广义线段树。广义线段树是一个有 $(2n-1)$ 个节点的带权二叉树，对于每个编号为 $p$ 的节点，都有两个属性 $L_p$ 和 $R_p$，表示其维护的区间为 $[L_p,R_p]$，同时其权值 $M_p =\\prod_{i=L_p}^{R_p}a_i$ 。另外，广义线段树还满足如下性质：\n- 所有编号为 $p\\in [n,2n-1]$ 的节点是叶节点，同时 $L_p = R_p = p + 1 - n$。\n- 所有编号为 $p\\in [1,n-1]$ 的节点是非叶节点，其必定有左儿子 $X_p$ 和右儿子 $Y_p$，且 $p < X_p < Y_p$。节点 $p$ 维护的区间为左右儿子维护区间之并，且保证维护区间连续。形式化地，有 $R_{X_p}=L_{Y_p}-1$，且 $L_p=L_{X_p}$，$R_p=R_{Y_p}$。\n\n例如，下面是一个基于 $n=4$ 的序列 $a=\\{1, 2, 3, 4\\}$ 建立的广义线段树（节点内整数对 $(p,M_p)$ 分别表示编号和权值）。可以发现，广义线段树的形态并不唯一。\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/de71i68l.png)\n\n对这个广义线段树而言：\n- $[L_7, R_7] = [4, 4]$，故 $M_7 = a_4$\n- $[L_6, R_6] = [3, 3]$，故 $M_6 = a_3$\n- $[L_5, R_5] = [2, 2]$，故 $M_5 = a_2$\n- $[L_4, R_4] = [1, 1]$，故 $M_4 = a_1$\n- $[L_3, R_3] = [L_4, R_5] = [1, 2]$，故 $M_3 = a_1 \\times a_2$\n- $[L_2, R_2] = [L_3, R_6] = [1, 3]$，故 $M_2 = a_1 \\times a_2 \\times a_3$\n- $[L_1, R_1] = [L_2, R_7] = [1, 4]$，故 $M_1 = a_1 \\times a_2 \\times a_3 \\times a_4$\n\n分别给定长度为 $n$ 的序列 $a$，$b$ 以及节点数为 $(2n-1)$ 的广义线段树 $T$ 的形态（即每个节点的左右儿子编号），然后你需要执行 $n$ 次操作，第 $i$ 次操作为将 $a_i$ 变成 $a_i\\times b_i$。\n\n每次操作结束后，你需要基于修改后的序列 $a$ 建立与 $T$ 形态相同的广义线段树，并求出所有节点的权值和，即 $\\sum_{i=1}^{2n-1}M_i$。由于结果可能会非常大，你只需要求出其对 $998\\,244\\,353$ 取模后的值。", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 5\\cdot 10^5)$，表示序列 $a$ 和 $b$ 的长度。\n\n第二行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $a_i\\ (1 \\le a_i < 998\\,244\\,353)$。\n\n第三行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $b_i\\ (1 \\le b_i < 998\\,244\\,353)$。\n\n接下来 $n-1$ 行，其中第 $i$ 行包含两个整数 $X_i,Y_i\\ (i<X_i<Y_i\\le 2n-1)$，分别表示节点 $i$ 的左右儿子编号。保证输入的广义线段树形态符合题目要求。", "outputFormat": "输出一行用空格间隔的 $n$ 个整数，其中第 $i$ 个整数表示第 $i$ 次修改后的答案对 $998\\,244\\,353$ 取模后的值。", "hint": "样例中广义线段树的形态和题面中的例子相同。\n\n第一次修改后，$a_1$ 变为 $a_1 \\times b_1 = 1 \\times 2 = 2$，因而新的 $a = \\{2, 2, 3, 4\\}$。可以计算出：\n- $M_7 = a_4 = 4$\n- $M_6 = a_3 = 3$\n- $M_5 = a_2 = 2$\n- $M_4 = a_1 = 2$\n- $M_3 = a_1 \\times a_2 = 2 \\times 2 = 4$\n- $M_2 = a_1 \\times a_2 \\times a_3 = 2 \\times 2 \\times 3 = 12$\n- $M_1 = a_1 \\times a_2 \\times a_3 \\times a_4 = 2 \\times 2 \\times 3 \\times 4 = 48$\n\n故权值之和为 $M_1 + M_2 + \\ldots + M_7 = 75$。\n\n第二次修改后，$a_2$ 变为 $a_2 \\times b_2 = 2 \\times 3 = 6$。后续的操作与第一次操作类似，此处不再赘述。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 广义线段树", "background": "", "description": "对于任意长度为 $n$ 的序列 $a$，可以基于 $a$ 建立一个广义线段树。广义线段树是一个有 $(2n-1)$ 个节点的带权二叉树，对于每个编号为 $p$ 的节点，都有两个属性 $L_p$ 和 $R_p$，表示其维护的区间为 $[L_p,R_p]$，同时其权值 $M_p =\\prod_{i=L_p}^{R_p}a_i$ 。另外，广义线段树还满足如下性质：\n- 所有编号为 $p\\in [n,2n-1]$ 的节点是叶节点，同时 $L_p = R_p = p + 1 - n$。\n- 所有编号为 $p\\in [1,n-1]$ 的节点是非叶节点，其必定有左儿子 $X_p$ 和右儿子 $Y_p$，且 $p < X_p < Y_p$。节点 $p$ 维护的区间为左右儿子维护区间之并，且保证维护区间连续。形式化地，有 $R_{X_p}=L_{Y_p}-1$，且 $L_p=L_{X_p}$，$R_p=R_{Y_p}$。\n\n例如，下面是一个基于 $n=4$ 的序列 $a=\\{1, 2, 3, 4\\}$ 建立的广义线段树（节点内整数对 $(p,M_p)$ 分别表示编号和权值）。可以发现，广义线段树的形态并不唯一。\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/de71i68l.png)\n\n对这个广义线段树而言：\n- $[L_7, R_7] = [4, 4]$，故 $M_7 = a_4$\n- $[L_6, R_6] = [3, 3]$，故 $M_6 = a_3$\n- $[L_5, R_5] = [2, 2]$，故 $M_5 = a_2$\n- $[L_4, R_4] = [1, 1]$，故 $M_4 = a_1$\n- $[L_3, R_3] = [L_4, R_5] = [1, 2]$，故 $M_3 = a_1 \\times a_2$\n- $[L_2, R_2] = [L_3, R_6] = [1, 3]$，故 $M_2 = a_1 \\times a_2 \\times a_3$\n- $[L_1, R_1] = [L_2, R_7] = [1, 4]$，故 $M_1 = a_1 \\times a_2 \\times a_3 \\times a_4$\n\n分别给定长度为 $n$ 的序列 $a$，$b$ 以及节点数为 $(2n-1)$ 的广义线段树 $T$ 的形态（即每个节点的左右儿子编号），然后你需要执行 $n$ 次操作，第 $i$ 次操作为将 $a_i$ 变成 $a_i\\times b_i$。\n\n每次操作结束后，你需要基于修改后的序列 $a$ 建立与 $T$ 形态相同的广义线段树，并求出所有节点的权值和，即 $\\sum_{i=1}^{2n-1}M_i$。由于结果可能会非常大，你只需要求出其对 $998\\,244\\,353$ 取模后的值。", "inputFormat": "第一行包含一个整数 $n\\ (1\\le n\\le 5\\cdot 10^5)$，表示序列 $a$ 和 $b$ 的长度。\n\n第二行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $a_i\\ (1 \\le a_i < 998\\,244\\,353)$。\n\n第三行包含 $n$ 个整数，其中第 $i$ 个整数定义为 $b_i\\ (1 \\le b_i < 998\\,244\\,353)$。\n\n接下来 $n-1$ 行，其中第 $i$ 行包含两个整数 $X_i,Y_i\\ (i<X_i<Y_i\\le 2n-1)$，分别表示节点 $i$ 的左右儿子编号。保证输入的广义线段树形态符合题目要求。", "outputFormat": "输出一行用空格间隔的 $n$ 个整数，其中第 $i$ 个整数表示第 $i$ 次修改后的答案对 $998\\,244\\,353$ 取模后的值。", "hint": "样例中广义线段树的形态和题面中的例子相同。\n\n第一次修改后，$a_1$ 变为 $a_1 \\times b_1 = 1 \\times 2 = 2$，因而新的 $a = \\{2, 2, 3, 4\\}$。可以计算出：\n- $M_7 = a_4 = 4$\n- $M_6 = a_3 = 3$\n- $M_5 = a_2 = 2$\n- $M_4 = a_1 = 2$\n- $M_3 = a_1 \\times a_2 = 2 \\times 2 = 4$\n- $M_2 = a_1 \\times a_2 \\times a_3 = 2 \\times 2 \\times 3 = 12$\n- $M_1 = a_1 \\times a_2 \\times a_3 \\times a_4 = 2 \\times 2 \\times 3 \\times 4 = 48$\n\n故权值之和为 $M_1 + M_2 + \\ldots + M_7 = 75$。\n\n第二次修改后，$a_2$ 变为 $a_2 \\times b_2 = 2 \\times 3 = 6$。后续的操作与第一次操作类似，此处不再赘述。", "locale": "zh-CN"}}}
{"pid": "P9776", "type": "P", "difficulty": 6, "samples": [["5\n1 2 3 3 2 1 7 7\n5\n1 2 4 3\n3 1 5\n2 5 7 5\n3 2 5\n3 1 5\n", "18\n29\n38\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 狭义线段树", "background": "", "description": "你打算建立一棵有 $(2n - 1)$ 个节点，其中有 $n$ 个叶子节点的二叉树。具体地，建立这棵树的伪代码如图所示。\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/eex8x40p.png)\n\n不难发现，节点 $1$ 是根节点，并且所有节点的编号与其 DFS 序相同。另外，你认为叶子节点十分重要，因此你按照节点编号从小到大又把这 $n$ 个叶子节点分别称为 $1$ 号叶子，$2$ 号叶子，$\\dots$，$n$ 号叶子。叶子节点会被其上方的节点管辖，具体来说，如果 $i$ 号叶子在节点 $j$ 的子树内，则称节点 $j$ 管辖 $i$ 号叶子，不妨用 $g(j,i)=1$ 表示；否则若节点 $j$ 不管辖 $i$ 号叶子，则 $g(j,i)=0$。注意，叶子节点同时也管辖自己本身。\n\n同时，你认为一个好的二叉树要有点权，于是对于节点 $i$，定义其点权为 $v_i$。初始所有节点的点权都为 $0$。\n\n在一次梦中，你正在改造这棵二叉树。你将会对这棵二叉树依次执行 $q$ 次操作，每次操作的格式和描述如下：\n- $1\\ s\\ t\\ v$：对于所有的整数 $i\\ (i\\in [s,t])$，将节点 $i$ 的点权加 $v$。\n- $2\\ s\\ t\\ v$：令 $\\mathcal{S}={\\textstyle \\bigcup_{i\\in [s,t]}}S_i$，其中 $S_i$ 表示节点 $i$ 管辖的叶子节点的集合。然后对于 $\\mathcal{S}$ 中所有叶子节点，将其点权加 $v$。注意 $\\mathcal{S}$ 是不重复集合，即在本次操作中，每个叶子节点最多被修改一次。\n- $3\\ l\\ r$：计算 $\\sum^{r}_{i=l}f(i)\\bmod 998\\,244\\,353$，其中 $f(i)$ 表示管辖 $i$ 号叶子的所有节点的点权之和，即 $f(i)=\\sum_{g(j,i)=1}{v_j}$。\n\n你还想再加点操作，但是早八的铃声把你吵醒了，不过你还是决定实现一下这个奇思妙想。", "inputFormat": "第一行包含一个整数 $n\\ (3\\le n\\le 10^5)$，表示二叉树中叶子节点的数量。\n\n第二行包含 $(2n-2)$ 个整数，其中第 $i$ 个整数表示节点 $i+1$ 的父亲节点编号。保证给出的树的形态与节点编号和题目所描述的相同。\n\n第三行包含一个整数 $q\\ (3\\le q\\le 10^5)$，表示操作次数。\n\n接下来 $q$ 行，每行第一个整数 $opt\\ (opt\\in [1, 3])$ 表示操作类型，若 $opt=1$ 或 $opt=2$，则紧跟三个整数 $s,t,v\\ (1\\le s\\le t\\le 2n-1,\\ 0\\le v<998\\,244\\,353)$，表示一次修改操作；若 $opt=3$，则紧跟两个整数 $l,r\\ (1\\le l\\le r\\le n)$，表示一次询问操作。所有参数的含义如题目所述。", "outputFormat": "对于每个 $opt=3$ 的操作，输出一行一个整数，表示本次询问的结果。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 狭义线段树", "background": "", "description": "你打算建立一棵有 $(2n - 1)$ 个节点，其中有 $n$ 个叶子节点的二叉树。具体地，建立这棵树的伪代码如图所示。\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/eex8x40p.png)\n\n不难发现，节点 $1$ 是根节点，并且所有节点的编号与其 DFS 序相同。另外，你认为叶子节点十分重要，因此你按照节点编号从小到大又把这 $n$ 个叶子节点分别称为 $1$ 号叶子，$2$ 号叶子，$\\dots$，$n$ 号叶子。叶子节点会被其上方的节点管辖，具体来说，如果 $i$ 号叶子在节点 $j$ 的子树内，则称节点 $j$ 管辖 $i$ 号叶子，不妨用 $g(j,i)=1$ 表示；否则若节点 $j$ 不管辖 $i$ 号叶子，则 $g(j,i)=0$。注意，叶子节点同时也管辖自己本身。\n\n同时，你认为一个好的二叉树要有点权，于是对于节点 $i$，定义其点权为 $v_i$。初始所有节点的点权都为 $0$。\n\n在一次梦中，你正在改造这棵二叉树。你将会对这棵二叉树依次执行 $q$ 次操作，每次操作的格式和描述如下：\n- $1\\ s\\ t\\ v$：对于所有的整数 $i\\ (i\\in [s,t])$，将节点 $i$ 的点权加 $v$。\n- $2\\ s\\ t\\ v$：令 $\\mathcal{S}={\\textstyle \\bigcup_{i\\in [s,t]}}S_i$，其中 $S_i$ 表示节点 $i$ 管辖的叶子节点的集合。然后对于 $\\mathcal{S}$ 中所有叶子节点，将其点权加 $v$。注意 $\\mathcal{S}$ 是不重复集合，即在本次操作中，每个叶子节点最多被修改一次。\n- $3\\ l\\ r$：计算 $\\sum^{r}_{i=l}f(i)\\bmod 998\\,244\\,353$，其中 $f(i)$ 表示管辖 $i$ 号叶子的所有节点的点权之和，即 $f(i)=\\sum_{g(j,i)=1}{v_j}$。\n\n你还想再加点操作，但是早八的铃声把你吵醒了，不过你还是决定实现一下这个奇思妙想。", "inputFormat": "第一行包含一个整数 $n\\ (3\\le n\\le 10^5)$，表示二叉树中叶子节点的数量。\n\n第二行包含 $(2n-2)$ 个整数，其中第 $i$ 个整数表示节点 $i+1$ 的父亲节点编号。保证给出的树的形态与节点编号和题目所描述的相同。\n\n第三行包含一个整数 $q\\ (3\\le q\\le 10^5)$，表示操作次数。\n\n接下来 $q$ 行，每行第一个整数 $opt\\ (opt\\in [1, 3])$ 表示操作类型，若 $opt=1$ 或 $opt=2$，则紧跟三个整数 $s,t,v\\ (1\\le s\\le t\\le 2n-1,\\ 0\\le v<998\\,244\\,353)$，表示一次修改操作；若 $opt=3$，则紧跟两个整数 $l,r\\ (1\\le l\\le r\\le n)$，表示一次询问操作。所有参数的含义如题目所述。", "outputFormat": "对于每个 $opt=3$ 的操作，输出一行一个整数，表示本次询问的结果。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9777", "type": "P", "difficulty": 4, "samples": [["998244353 10 1\n", "10"], ["998244353 2 3\n", "2"], ["100 4 5\n", "24"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "矩阵加速", "高校校赛"], "title": "[HUSTFC 2023] Fujisaki 讨厌数学", "background": "", "description": "众所周知，Fujisaki 在微积分（一）（上）、微积分（一）（下）、线性代数、离散数学（一）、概率论与数理统计这些课程中，只取得了非常低的分数，这导致他十分痛恨高等数学，因此他给大家带来了一道初等数学题。\n\n已知 $x+x^{-1}=k$，其中 $k$ 是一个整数且 $k\\ge 2$，Fujisaki 想让你帮他求出 $x^n+x^{-n}$ 的值。可以证明对于任意的整数 $n \\ge 0$，这个值都是一个整数。由于结果可能会非常大，你只需要求出其对 $M$ 取模后的值。", "inputFormat": "一行包含三个整数 $M\\ (3\\le M\\le 998\\,244\\,353)$，$k\\ (2\\le k<M)$ 和 $n\\ (0\\le n\\le 10^{18})$，其含义如题目所述。", "outputFormat": "输出一个整数，表示答案对 $M$ 取模后的值。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] Fujisaki 讨厌数学", "background": "", "description": "众所周知，Fujisaki 在微积分（一）（上）、微积分（一）（下）、线性代数、离散数学（一）、概率论与数理统计这些课程中，只取得了非常低的分数，这导致他十分痛恨高等数学，因此他给大家带来了一道初等数学题。\n\n已知 $x+x^{-1}=k$，其中 $k$ 是一个整数且 $k\\ge 2$，Fujisaki 想让你帮他求出 $x^n+x^{-n}$ 的值。可以证明对于任意的整数 $n \\ge 0$，这个值都是一个整数。由于结果可能会非常大，你只需要求出其对 $M$ 取模后的值。", "inputFormat": "一行包含三个整数 $M\\ (3\\le M\\le 998\\,244\\,353)$，$k\\ (2\\le k<M)$ 和 $n\\ (0\\le n\\le 10^{18})$，其含义如题目所述。", "outputFormat": "输出一个整数，表示答案对 $M$ 取模后的值。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9778", "type": "P", "difficulty": 5, "samples": [["3\nAAA\nAA\nAA\n", "12"], ["3\nACGC\nCTAT\nACAT\n", "1"], ["4\nA\nC\nT\nG\n", "0"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 基因编辑", "background": "", "description": "绮月有 $n$ 条 DNA 碱基序列 $S_1,S_2,\\dots S_n$，每条碱基序列可以用一个仅包含 `A`、`C`、`G` 和 `T` 这四种大写字母的字符串表示。\n\n绮月可以拼合两条 DNA 碱基序列，具体操作为将前一条碱基序列的一个前缀（可以为空）和后一条的一个后缀（可以为空）结合，如 `ACGC` 与 `CTAT` 拼合就有可能得到 `ACGCTAT`、`ACGCCTAT`、`ACAT` 或 `T`。\n\n绮月据此定义，一个三元组 $(i,j,k)$ 是好的，当且仅当 $1\\le i,j,k \\le n$，$i\\ne k$，$j \\ne k$，且 $S_i$ 与 $S_j$ 拼合可以得到 $S_k$。\n\n绮月想知道好的三元组的数量。", "inputFormat": "第一行包含一个整数 $n\\ (3\\le n\\le 2\\times 10^5)$，表示碱基序列的数量。\n\n接下来 $n$ 行，每行包含一个字符串，其中第 $i$ 个字符串定义为碱基序列 $S_i\\ (1\\le |S_i|\\le 2\\times 10^6)$。保证 $\\sum |S_i| \\le 2 \\times 10^6$。", "outputFormat": "输出一个整数，表示好的三元组的数量。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 基因编辑", "background": "", "description": "绮月有 $n$ 条 DNA 碱基序列 $S_1,S_2,\\dots S_n$，每条碱基序列可以用一个仅包含 `A`、`C`、`G` 和 `T` 这四种大写字母的字符串表示。\n\n绮月可以拼合两条 DNA 碱基序列，具体操作为将前一条碱基序列的一个前缀（可以为空）和后一条的一个后缀（可以为空）结合，如 `ACGC` 与 `CTAT` 拼合就有可能得到 `ACGCTAT`、`ACGCCTAT`、`ACAT` 或 `T`。\n\n绮月据此定义，一个三元组 $(i,j,k)$ 是好的，当且仅当 $1\\le i,j,k \\le n$，$i\\ne k$，$j \\ne k$，且 $S_i$ 与 $S_j$ 拼合可以得到 $S_k$。\n\n绮月想知道好的三元组的数量。", "inputFormat": "第一行包含一个整数 $n\\ (3\\le n\\le 2\\times 10^5)$，表示碱基序列的数量。\n\n接下来 $n$ 行，每行包含一个字符串，其中第 $i$ 个字符串定义为碱基序列 $S_i\\ (1\\le |S_i|\\le 2\\times 10^6)$。保证 $\\sum |S_i| \\le 2 \\times 10^6$。", "outputFormat": "输出一个整数，表示好的三元组的数量。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9779", "type": "P", "difficulty": 1, "samples": [["1\n", "1\n"], ["2\n", "3\n"], ["3\n", "7\n"], ["15", "32767\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2023", "O2优化", "高校校赛"], "title": "[HUSTFC 2023] 不定项选择题", "background": "![1](https://cdn.luogu.com.cn/upload/image_hosting/4rdg9szz.png)", "description": "有一道共 $n$ 个选项的不定项选择题，它的答案至少包含一个选项，由于题目与选项的内容晦涩难懂，你打算通过尝试每一种可能的答案来通过这道题。\n\n初始时所有选项都没有被勾选，你可以执行任意次下述操作：\n- 勾选一个当前未被勾选的选项。\n- 取消勾选一个当前已被勾选的选项。\n\n当你勾选中的选项与答案一致时，你将会立即通过此题。在开始尝试前，你产生了一个疑问：在最坏的情况下，至少需要操作多少次才可以通过这道题？", "inputFormat": "一行包含一个整数 $n\\ (1\\le n \\le 20)$，表示选项的数量。", "outputFormat": "输出一个整数，表示在最坏情况下通过题目的最少操作次数。", "hint": "图片与题目无关。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[HUSTFC 2023] 不定项选择题", "background": "![1](https://cdn.luogu.com.cn/upload/image_hosting/4rdg9szz.png)", "description": "有一道共 $n$ 个选项的不定项选择题，它的答案至少包含一个选项，由于题目与选项的内容晦涩难懂，你打算通过尝试每一种可能的答案来通过这道题。\n\n初始时所有选项都没有被勾选，你可以执行任意次下述操作：\n- 勾选一个当前未被勾选的选项。\n- 取消勾选一个当前已被勾选的选项。\n\n当你勾选中的选项与答案一致时，你将会立即通过此题。在开始尝试前，你产生了一个疑问：在最坏的情况下，至少需要操作多少次才可以通过这道题？", "inputFormat": "一行包含一个整数 $n\\ (1\\le n \\le 20)$，表示选项的数量。", "outputFormat": "输出一个整数，表示在最坏情况下通过题目的最少操作次数。", "hint": "图片与题目无关。", "locale": "zh-CN"}}}
