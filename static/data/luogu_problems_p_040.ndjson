{"pid": "P1802", "type": "P", "difficulty": 2, "samples": [["6 8\n21 52 1\n21 70 5\n21 48 2\n14 38 3\n14 36 1\n14 36 2\n", "1060"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "5 倍经验日", "background": "现在乐斗有活动了！每打一个人可以获得 5 倍经验！absi2011 却无奈的看着那一些比他等级高的好友，想着能否把他们干掉。干掉能拿不少经验的。", "description": "现在 absi2011 拿出了 $x$ 个迷你装药物（嗑药打人可耻…），准备开始与那些人打了。\n\n由于迷你装药物每个只能用一次，所以 absi2011 要谨慎的使用这些药。悲剧的是，用药量没达到最少打败该人所需的属性药药量，则打这个人必输。例如他用 $2$ 个药去打别人，别人却表明 $3$ 个药才能打过，那么相当于你输了并且这两个属性药浪费了。\n\n现在有 $n$ 个好友，给定失败时可获得的经验、胜利时可获得的经验，打败他至少需要的药量。\n\n要求求出最大经验 $s$，输出 $5s$。", "inputFormat": "第一行两个数，$n$ 和 $x$。\n\n后面 $n$ 行每行三个数，分别表示失败时获得的经验 $\\mathit{lose}_i$，胜利时获得的经验 $\\mathit{win}_i$ 和打过要至少使用的药数量 $\\mathit{use}_i$。", "outputFormat": "一个整数，最多获得的经验的五倍。", "hint": "**【Hint】**\n\n五倍经验活动的时候，absi2011 总是吃体力药水而不是这种属性药。\n\n**【数据范围】**\n\n- 对于 $10\\%$ 的数据，保证 $x=0$。\n- 对于 $30\\%$ 的数据，保证 $0\\le n\\le 10$，$0\\le x\\le 20$。\n- 对于 $60\\%$ 的数据，保证 $0\\le n,x\\le 100$， $10<lose_i,win_i\\le 100$，$0\\le use_i\\le 5$。\n- 对于 $100\\%$ 的数据，保证 $0\\le n,x\\le 10^3$，$0<lose_i\\le win_i\\le 10^6$，$0\\le use_i\\le 10^3$。\n\n**【题目来源】**\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN", "translations": {"en": {"title": "5x Experience Day", "background": "The game \"Le Dou\" now has an event! Each fight grants 5x experience! absi2011 helplessly looks at those higher-level friends, wondering if he can beat them. Beating them would yield quite a lot of experience.", "description": "Now absi2011 has taken out $x$ mini attribute potions (taking potions to fight is shameful...), and is ready to fight those people.\n\nSince each mini attribute potion can only be used once, absi2011 must use them carefully. Unfortunately, if the amount of potions used does not reach the minimum required to defeat someone, then that fight is a guaranteed loss. For example, if he uses $2$ potions to fight someone, but it actually takes $3$ potions to win, then you lose, and those two attribute potions are wasted.\n\nThere are $n$ friends. For each, you are given the experience for losing, the experience for winning, and the minimum number of potions required to defeat that friend.\n\nFind the maximum experience $s$, and output $5s$.", "inputFormat": "The first line contains two integers, $n$ and $x$.\n\nEach of the next $n$ lines contains three integers, representing the experience gained on a loss $\\mathit{lose}_i$, the experience gained on a win $\\mathit{win}_i$, and the minimum number of potions required to defeat that friend $\\mathit{use}_i$.", "outputFormat": "A single integer, which is five times the maximum obtainable experience.", "hint": "- Hint:\n  During the 5x experience event, absi2011 always uses stamina potions instead of these attribute potions.\n\n- Constraints:\n  - For $10\\%$ of the testdata, it is guaranteed that $x = 0$.\n  - For $30\\%$ of the testdata, it is guaranteed that $0 \\le n \\le 10$, $0 \\le x \\le 20$.\n  - For $60\\%$ of the testdata, it is guaranteed that $0 \\le n, x \\le 100$, $10 < \\mathit{lose}_i, \\mathit{win}_i \\le 100$, $0 \\le \\mathit{use}_i \\le 5$.\n  - For $100\\%$ of the testdata, it is guaranteed that $0 \\le n, x \\le 10^3$, $0 < \\mathit{lose}_i \\le \\mathit{win}_i \\le 10^6$, $0 \\le \\mathit{use}_i \\le 10^3$.\n\n- Problem Source:\n  fight.pet.qq.com.\n  Authorized by absi2011.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "5 倍经验日", "background": "现在乐斗有活动了！每打一个人可以获得 5 倍经验！absi2011 却无奈的看着那一些比他等级高的好友，想着能否把他们干掉。干掉能拿不少经验的。", "description": "现在 absi2011 拿出了 $x$ 个迷你装药物（嗑药打人可耻…），准备开始与那些人打了。\n\n由于迷你装药物每个只能用一次，所以 absi2011 要谨慎的使用这些药。悲剧的是，用药量没达到最少打败该人所需的属性药药量，则打这个人必输。例如他用 $2$ 个药去打别人，别人却表明 $3$ 个药才能打过，那么相当于你输了并且这两个属性药浪费了。\n\n现在有 $n$ 个好友，给定失败时可获得的经验、胜利时可获得的经验，打败他至少需要的药量。\n\n要求求出最大经验 $s$，输出 $5s$。", "inputFormat": "第一行两个数，$n$ 和 $x$。\n\n后面 $n$ 行每行三个数，分别表示失败时获得的经验 $\\mathit{lose}_i$，胜利时获得的经验 $\\mathit{win}_i$ 和打过要至少使用的药数量 $\\mathit{use}_i$。", "outputFormat": "一个整数，最多获得的经验的五倍。", "hint": "**【Hint】**\n\n五倍经验活动的时候，absi2011 总是吃体力药水而不是这种属性药。\n\n**【数据范围】**\n\n- 对于 $10\\%$ 的数据，保证 $x=0$。\n- 对于 $30\\%$ 的数据，保证 $0\\le n\\le 10$，$0\\le x\\le 20$。\n- 对于 $60\\%$ 的数据，保证 $0\\le n,x\\le 100$， $10<lose_i,win_i\\le 100$，$0\\le use_i\\le 5$。\n- 对于 $100\\%$ 的数据，保证 $0\\le n,x\\le 10^3$，$0<lose_i\\le win_i\\le 10^6$，$0\\le use_i\\le 10^3$。\n\n**【题目来源】**\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN"}}}
{"pid": "P1803", "type": "P", "difficulty": 2, "samples": [["3\n0 2\n2 4\n1 3\n", "2\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "排序"], "title": "凌乱的yyy / 线段覆盖", "background": "**Python 用户可以尝试使用 pypy3 提交试题。**\n\n快 noip 了，yyy 很紧张！\n", "description": "现在各大 oj 上有 $n$ 个比赛，每个比赛的开始、结束的时间点是知道的。\n\nyyy 认为，参加越多的比赛，noip 就能考的越好（假的）。\n\n所以，他想知道他最多能参加几个比赛。\n\n由于 yyy 是蒟蒻，如果要参加一个比赛必须善始善终，而且不能同时参加 $2$ 个及以上的比赛。", "inputFormat": "第一行是一个整数 $n$，接下来 $n$ 行每行是 $2$ 个整数 $a_{i},b_{i}\\ (a_{i}<b_{i})$，表示比赛开始、结束的时间。", "outputFormat": "一个整数最多参加的比赛数目。\n", "hint": "- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $50\\%$ 的数据，$n \\le 10^3$；\n- 对于 $70\\%$ 的数据，$n \\le 10^{5}$；\n- 对于 $100\\%$ 的数据，$1\\le n \\le 10^{6}$，$0 \\le a_{i} < b_{i} \\le 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Messy yyy / Segment Coverage", "background": "Python users can try submitting with pypy3.\n\nNOIP is coming soon, and yyy is very nervous!", "description": "There are $n$ contests on various OJ sites, and the start and end times of each contest are known.\n\nyyy believes that the more contests he attends, the better he will do in NOIP (not really). So, he wants to know the maximum number of contests he can attend.\n\nSince yyy is a \"juruo\" (rookie), if he decides to attend a contest, he must see it through from start to finish, and he cannot attend $2$ or more contests at the same time.", "inputFormat": "The first line contains an integer $n$. The next $n$ lines each contain $2$ integers $a_{i},b_{i}\\ (a_{i}<b_{i})$, representing the start and end times of a contest.", "outputFormat": "Output a single integer: the maximum number of contests he can attend.", "hint": "- For $20\\%$ of the testdata, $n \\le 10$.\n- For $50\\%$ of the testdata, $n \\le 10^3$.\n- For $70\\%$ of the testdata, $n \\le 10^{5}$.\n- For $100\\%$ of the testdata, $1\\le n \\le 10^{6}$, $0 \\le a_{i} < b_{i} \\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "凌乱的yyy / 线段覆盖", "background": "**Python 用户可以尝试使用 pypy3 提交试题。**\n\n快 noip 了，yyy 很紧张！\n", "description": "现在各大 oj 上有 $n$ 个比赛，每个比赛的开始、结束的时间点是知道的。\n\nyyy 认为，参加越多的比赛，noip 就能考的越好（假的）。\n\n所以，他想知道他最多能参加几个比赛。\n\n由于 yyy 是蒟蒻，如果要参加一个比赛必须善始善终，而且不能同时参加 $2$ 个及以上的比赛。", "inputFormat": "第一行是一个整数 $n$，接下来 $n$ 行每行是 $2$ 个整数 $a_{i},b_{i}\\ (a_{i}<b_{i})$，表示比赛开始、结束的时间。", "outputFormat": "一个整数最多参加的比赛数目。\n", "hint": "- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $50\\%$ 的数据，$n \\le 10^3$；\n- 对于 $70\\%$ 的数据，$n \\le 10^{5}$；\n- 对于 $100\\%$ 的数据，$1\\le n \\le 10^{6}$，$0 \\le a_{i} < b_{i} \\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P1805", "type": "P", "difficulty": 5, "samples": [["4\r\n1 0 1 0", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["高精度", "递推", "NOI 导刊", "线性递推"], "title": "关灯", "background": "", "description": "在某条道路上，有 $n$ 盏灯排成一排，它们有的是开着的，有的是关着的。\n\n由于天马上就要亮了，上级给了你一个任务：把所有的灯都关掉。\n\n只不过，这些灯都比较智能，不会被轻易关掉。它们的开或关遵循如下规则：\n\n- 每一步只能开或关一盏灯。\n- 编号为 $1$ 的灯可以随意开或关。\n- 如果编号为 $1, 2, \\cdots,k-1$ 的灯都关上了了，并且编号为 $k$ 的灯在开着，我们可以随意开或关第 $k+1$ 盏灯。\n\n在关灯之前，请你计算：至少要多少步才能关上所有灯？", "inputFormat": "第 $1$ 行一个整数 $n$，表示灯的个数。\n\n第 $2$ 行有 $n$ 个整数，如果第 $i$ 个整数 $O_i=0$，表示第 $i$ 个盏灯初始的时候是关着的；如果 $O_i=1$，表示第 $i$ 盏灯初始的时候是开着的。", "outputFormat": "共一行一个整数，表示最少需要多少步才能关上所有灯。\n", "hint": "【输出解释】\n\n- 初始状态 $1010$；\n- 第 $1$ 步 $1110$；\n- 第 $2$ 步 $0110$；\n- 第 $3$ 步 $0100$；\n- 第 $4$ 步 $1100$；\n- 第 $5$ 步 $1000$；\n- 第 $6$ 步 $0000$。\n\n### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$n \\le 30$；\n- 对于 $70\\%$ 的数据，$n \\le 300$；\n- 对于 $100\\%$ 的数据，$n \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Turning Off the Lights", "background": "", "description": "Along a road, there are $n$ lights in a row; some are on, and some are off.\n\nDawn is about to break, and you are given a task: turn all the lights off.\n\nHowever, these lights are rather smart and cannot be turned off easily. Their on/off behavior follows the rules below:\n- In each step, you may turn on or off exactly one light.\n- The light with index $1$ can be turned on or off freely.\n- If lights $1, 2, \\cdots, k-1$ are all off and light $k$ is on, then you may freely turn on or off light $k+1$.\n\nBefore turning off the lights, please compute the minimum number of steps needed to turn all the lights off.", "inputFormat": "The first line contains an integer $n$, the number of lights.\n\nThe second line contains $n$ integers. If the $i$-th integer $O_i = 0$, the $i$-th light is initially off; if $O_i = 1$, the $i$-th light is initially on.", "outputFormat": "Output a single integer on one line, the minimum number of steps required to turn off all the lights.", "hint": "[Output Explanation]\n- Initial state: 1010.\n- Step 1: 1110.\n- Step 2: 0110.\n- Step 3: 0100.\n- Step 4: 1100.\n- Step 5: 1000.\n- Step 6: 0000.\n\nConstraints\n- For $40\\%$ of the testdata, $n \\le 30$.\n- For $70\\%$ of the testdata, $n \\le 300$.\n- For $100\\%$ of the testdata, $n \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "关灯", "background": "", "description": "在某条道路上，有 $n$ 盏灯排成一排，它们有的是开着的，有的是关着的。\n\n由于天马上就要亮了，上级给了你一个任务：把所有的灯都关掉。\n\n只不过，这些灯都比较智能，不会被轻易关掉。它们的开或关遵循如下规则：\n\n- 每一步只能开或关一盏灯。\n- 编号为 $1$ 的灯可以随意开或关。\n- 如果编号为 $1, 2, \\cdots,k-1$ 的灯都关上了了，并且编号为 $k$ 的灯在开着，我们可以随意开或关第 $k+1$ 盏灯。\n\n在关灯之前，请你计算：至少要多少步才能关上所有灯？", "inputFormat": "第 $1$ 行一个整数 $n$，表示灯的个数。\n\n第 $2$ 行有 $n$ 个整数，如果第 $i$ 个整数 $O_i=0$，表示第 $i$ 个盏灯初始的时候是关着的；如果 $O_i=1$，表示第 $i$ 盏灯初始的时候是开着的。", "outputFormat": "共一行一个整数，表示最少需要多少步才能关上所有灯。\n", "hint": "【输出解释】\n\n- 初始状态 $1010$；\n- 第 $1$ 步 $1110$；\n- 第 $2$ 步 $0110$；\n- 第 $3$ 步 $0100$；\n- 第 $4$ 步 $1100$；\n- 第 $5$ 步 $1000$；\n- 第 $6$ 步 $0000$。\n\n### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$n \\le 30$；\n- 对于 $70\\%$ 的数据，$n \\le 300$；\n- 对于 $100\\%$ 的数据，$n \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1806", "type": "P", "difficulty": 3, "samples": [["212", "995645335"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "NOI 导刊", "组合数学"], "title": "跑步", "background": "", "description": "路人甲准备跑 $n$ 圈来锻炼自己的身体，他准备分多次（$\\gt1$）跑完，每次都跑正整数圈，然后休息下再继续跑。\n\n为了有效地提高自己的体能，他决定每次跑的圈数都必须比上次跑的多。\n\n可以假设他刚开始跑了 $0$ 圈，那么请问他可以有多少种跑完这 $n$ 圈的方案？", "inputFormat": "一行一个整数，代表 $n$。", "outputFormat": "一个整数表示跑完这 $n$ 圈的方案数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$。", "locale": "zh-CN", "translations": {"en": {"title": "Running", "background": "", "description": "Passerby A plans to run $n$ laps to exercise. He intends to finish in multiple sessions ($\\gt 1$), running a positive integer number of laps each time, then resting before continuing.\n\nTo effectively improve his fitness, he decides that the number of laps he runs each time must be greater than the previous time.\n\nAssuming he has run $0$ laps at the start, how many ways are there for him to finish these $n$ laps?", "inputFormat": "A single line containing an integer $n$.", "outputFormat": "A single integer representing the number of ways to finish the $n$ laps.", "hint": "#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $5 \\le n \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跑步", "background": "", "description": "路人甲准备跑 $n$ 圈来锻炼自己的身体，他准备分多次（$\\gt1$）跑完，每次都跑正整数圈，然后休息下再继续跑。\n\n为了有效地提高自己的体能，他决定每次跑的圈数都必须比上次跑的多。\n\n可以假设他刚开始跑了 $0$ 圈，那么请问他可以有多少种跑完这 $n$ 圈的方案？", "inputFormat": "一行一个整数，代表 $n$。", "outputFormat": "一个整数表示跑完这 $n$ 圈的方案数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$。", "locale": "zh-CN"}}}
{"pid": "P1807", "type": "P", "difficulty": 3, "samples": [["2 1\n1 2 1", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "图论", "NOI 导刊", "广度优先搜索 BFS", "拓扑排序", "最短路"], "title": "最长路", "background": "", "description": "设 $G$ 为有 $n$ 个顶点的带权有向无环图，$G$ 中各顶点的编号为 $1$ 到 $n$，请设计算法，计算图 $G$ 中 $1, n$ 间的最长路径。", "inputFormat": "输入的第一行有两个整数，分别代表图的点数 $n$ 和边数 $m$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行 $3$ 个整数 $u, v, w$（$u<v$），代表存在一条从 $u$ 到  $v$ 边权为 $w$ 的边。", "outputFormat": "输出一行一个整数，代表 $1$ 到 $n$ 的最长路。\n\n若 $1$ 无法到达 $n$，请输出 $-1$。", "hint": "**【数据规模与约定】**\n\n- 对于 $20\\%$的数据，$n \\leq 100$，$m \\leq 10^3$。\n- 对于 $40\\%$ 的数据，$n \\leq 10^3$，$m \\leq 10^{4}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n \\leq 1500$，$0 \\leq m \\leq 5 \\times 10^4$，$1 \\leq u, v \\leq n$，$-10^5 \\leq w \\leq 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Longest Path", "background": "", "description": "Let $G$ be a weighted directed acyclic graph with $n$ vertices, labeled from $1$ to $n$. Design an algorithm to compute the longest path from $1$ to $n$ in $G$.", "inputFormat": "The first line contains two integers, the number of vertices $n$ and the number of edges $m$.\n\nLines $2$ to $(m + 1)$ each contain three integers $u, v, w$ ($u<v$), indicating there is a directed edge from $u$ to $v$ with weight $w$.", "outputFormat": "Output a single integer on one line, representing the length of the longest path from $1$ to $n$.\n\nIf $1$ cannot reach $n$, output $-1$.", "hint": "Constraints\n\n- For $20\\%$ of the testdata, $n \\leq 100$, $m \\leq 10^3$.\n- For $40\\%$ of the testdata, $n \\leq 10^3$, $m \\leq 10^{4}$.\n- For $100\\%$ of the testdata, $1 \\leq n \\leq 1500$, $0 \\leq m \\leq 5 \\times 10^4$, $1 \\leq u, v \\leq n$, $-10^5 \\leq w \\leq 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最长路", "background": "", "description": "设 $G$ 为有 $n$ 个顶点的带权有向无环图，$G$ 中各顶点的编号为 $1$ 到 $n$，请设计算法，计算图 $G$ 中 $1, n$ 间的最长路径。", "inputFormat": "输入的第一行有两个整数，分别代表图的点数 $n$ 和边数 $m$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行 $3$ 个整数 $u, v, w$（$u<v$），代表存在一条从 $u$ 到  $v$ 边权为 $w$ 的边。", "outputFormat": "输出一行一个整数，代表 $1$ 到 $n$ 的最长路。\n\n若 $1$ 无法到达 $n$，请输出 $-1$。", "hint": "**【数据规模与约定】**\n\n- 对于 $20\\%$的数据，$n \\leq 100$，$m \\leq 10^3$。\n- 对于 $40\\%$ 的数据，$n \\leq 10^3$，$m \\leq 10^{4}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n \\leq 1500$，$0 \\leq m \\leq 5 \\times 10^4$，$1 \\leq u, v \\leq n$，$-10^5 \\leq w \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1808", "type": "P", "difficulty": 2, "samples": [["3 \nAABAC \nCBAAA \nAAABB", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "NOI 导刊", "排序"], "title": "单词分类", "background": "", "description": "Oliver 为了学好英语决定苦背单词，但很快他发现要直接记住杂乱无章的单词非常困难，他决定对单词进行分类。\n\n两个单词可以分为一类当且仅当组成这两个单词的各个字母的数量均相等。\n\n例如 $\\verb!AABAC!$，它和 $\\verb!CBAAA!$ 就可以归为一类，而和 $\\verb!AAABB!$ 就不是一类。\n\n现在Oliver有 $N$ 个单词，所有单词均由大写字母组成，每个单词的长度不超过 $100$。你要告诉 Oliver 这些单词会被分成几类。\n", "inputFormat": "输入文件的第一行为单词个数 $N$，以下 $N$ 行每行为一个单词。", "outputFormat": "输出文件仅包含一个数，表示这 $N$ 个单词分成的类数。\n", "hint": "- 对于 $70\\%$ 的数据满足 $1\\le N \\le 100$；\n- 对于 $100\\%$ 的数据满足 $1\\le N \\le 10000$。", "locale": "zh-CN", "translations": {"en": {"title": "Word Classification", "background": "", "description": "Oliver decides to memorize English vocabulary, but he soon finds it hard to remember disordered words directly, so he decides to classify them.\n\nTwo words belong to the same class if and only if the counts of each letter in the two words are equal.\n\nFor example, $\\verb!AABAC!$ and $\\verb!CBAAA!$ can be grouped into the same class, whereas $\\verb!AAABB!$ is not in the same class.\n\nNow Oliver has $N$ words. All words consist of uppercase letters, and each word has a length of at most $100$. You need to tell Oliver how many classes these words are divided into.", "inputFormat": "The first line contains the number of words $N$. Each of the next $N$ lines contains one word.", "outputFormat": "Output a single integer, which is the number of classes into which these $N$ words are divided.", "hint": "- For $70\\%$ of the testdata, $1 \\le N \\le 100$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "单词分类", "background": "", "description": "Oliver 为了学好英语决定苦背单词，但很快他发现要直接记住杂乱无章的单词非常困难，他决定对单词进行分类。\n\n两个单词可以分为一类当且仅当组成这两个单词的各个字母的数量均相等。\n\n例如 $\\verb!AABAC!$，它和 $\\verb!CBAAA!$ 就可以归为一类，而和 $\\verb!AAABB!$ 就不是一类。\n\n现在Oliver有 $N$ 个单词，所有单词均由大写字母组成，每个单词的长度不超过 $100$。你要告诉 Oliver 这些单词会被分成几类。\n", "inputFormat": "输入文件的第一行为单词个数 $N$，以下 $N$ 行每行为一个单词。", "outputFormat": "输出文件仅包含一个数，表示这 $N$ 个单词分成的类数。\n", "hint": "- 对于 $70\\%$ 的数据满足 $1\\le N \\le 100$；\n- 对于 $100\\%$ 的数据满足 $1\\le N \\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P1809", "type": "P", "difficulty": 4, "samples": [["4\n6\n7\n10\n15\n", "42\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "NOI 导刊"], "title": "过河问题", "background": null, "description": "有一个大晴天，Oliver 与同学们一共 $N$ 人出游，他们走到一条河的东岸边，想要过河到西岸。而东岸边有一条小船。 \n\n船太小了，一次只能乘坐两人。每个人都有一个渡河时间 $T$，船划到对岸的时间等于船上渡河时间较长的人所用时间。 \n\n现在已知 $N$ 个人的渡河时间 $T$，Oliver 想要你告诉他，他们最少要花费多少时间，才能使所有人都过河。 \n\n注意，只有船在东岸（西岸）的人才能坐上船划到对岸。", "inputFormat": "输入文件第一行为人数 $N$，以下有 $N$ 行，每行一个数。 \n\n第 $i+1$ 行的数为第 $i$ 个人的渡河时间。", "outputFormat": "输出文件仅包含一个数，表示所有人都渡过河的最少渡河时间。", "hint": "### 数据范围\n\n对于 $40\\%$ 的数据满足 $N\\le8$。 \n\n对于 $100\\%$ 的数据满足 $4\\le N\\le10^5,1\\le T\\leq 10^7$。\n\n\n### 样例解释\n\n- 初始：东岸 $\\{1,2,3,4\\}$，西岸 $\\{\\}$；\n- 第一次：东岸 $\\{3,4\\}$，西岸 $\\{1,2\\}$，时间 $7$；\n- 第二次：东岸 $\\{1,3,4\\}$，西岸 $\\{2\\}$，时间 $6$；\n- 第三次：东岸 $\\{1\\}$，西岸 $\\{2,3,4\\}$，时间 $15$；\n- 第四次：东岸 $\\{1,2\\}$，西岸 $\\{3,4\\}$ 时间 $7$；\n- 第五次：东岸 $\\{\\}$，西岸 $\\{1,2,3,4\\}$ 时间 $7$。\n\n所以总时间为 $7+6+15+7+7=42$，没有比这个更优的方案。", "locale": "zh-CN", "translations": {"en": {"title": "River Crossing Problem", "background": "", "description": "On a sunny day, Oliver and his classmates, $N$ people in total, come to the east bank of a river and want to cross to the west bank. There is a small boat on the east bank.\n\nThe boat is very small and can carry at most two people at a time. Each person has a crossing time $T$, and the time of a trip equals the longer crossing time among the people on the boat.\n\nGiven the crossing times $T$ of all $N$ people, Oliver wants you to tell him the minimum total time needed for everyone to cross the river.\n\nNote that only people on the bank where the boat currently is (east or west) may board the boat to row to the other side.", "inputFormat": "The first line contains the number of people $N$. The next $N$ lines each contain one number.\n\nThe number on the $(i+1)$-th line is the crossing time of the $i$-th person.", "outputFormat": "Output a single number, the minimum total time for all people to cross the river.", "hint": "Constraints\n\nFor $40\\%$ of the testdata, $N \\le 8$.\nFor $100\\%$ of the testdata, $N \\le 10^5, T \\le 10^7$.\n\nSample Explanation\n\n- Initial: east bank {1, 2, 3, 4}, west bank {}.\n- First: east bank {3, 4}, west bank {1, 2}, time 7.\n- Second: east bank {1, 3, 4}, west bank {2}, time 6.\n- Third: east bank {1}, west bank {2, 3, 4}, time 15.\n- Fourth: east bank {1, 2}, west bank {3, 4}, time 7.\n- Fifth: east bank {}, west bank {1, 2, 3, 4}, time 7.\n\nSo the total time is $7+6+15+7+7=42$, and there is no better plan.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "过河问题", "background": null, "description": "有一个大晴天，Oliver 与同学们一共 $N$ 人出游，他们走到一条河的东岸边，想要过河到西岸。而东岸边有一条小船。 \n\n船太小了，一次只能乘坐两人。每个人都有一个渡河时间 $T$，船划到对岸的时间等于船上渡河时间较长的人所用时间。 \n\n现在已知 $N$ 个人的渡河时间 $T$，Oliver 想要你告诉他，他们最少要花费多少时间，才能使所有人都过河。 \n\n注意，只有船在东岸（西岸）的人才能坐上船划到对岸。", "inputFormat": "输入文件第一行为人数 $N$，以下有 $N$ 行，每行一个数。 \n\n第 $i+1$ 行的数为第 $i$ 个人的渡河时间。", "outputFormat": "输出文件仅包含一个数，表示所有人都渡过河的最少渡河时间。", "hint": "### 数据范围\n\n对于 $40\\%$ 的数据满足 $N\\le8$。 \n\n对于 $100\\%$ 的数据满足 $4\\le N\\le10^5,1\\le T\\leq 10^7$。\n\n\n### 样例解释\n\n- 初始：东岸 $\\{1,2,3,4\\}$，西岸 $\\{\\}$；\n- 第一次：东岸 $\\{3,4\\}$，西岸 $\\{1,2\\}$，时间 $7$；\n- 第二次：东岸 $\\{1,3,4\\}$，西岸 $\\{2\\}$，时间 $6$；\n- 第三次：东岸 $\\{1\\}$，西岸 $\\{2,3,4\\}$，时间 $15$；\n- 第四次：东岸 $\\{1,2\\}$，西岸 $\\{3,4\\}$ 时间 $7$；\n- 第五次：东岸 $\\{\\}$，西岸 $\\{1,2,3,4\\}$ 时间 $7$。\n\n所以总时间为 $7+6+15+7+7=42$，没有比这个更优的方案。", "locale": "zh-CN"}}}
{"pid": "P1811", "type": "P", "difficulty": 3, "samples": [["4 4 2\n1 2\n2 3\n3 4\n1 3\n1 2 3\n1 3 4", "4 \n1 3 2 3 4 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["NOI 导刊", "Special Judge", "O2优化", "广度优先搜索 BFS"], "title": "最短路", "background": null, "description": "给定一个包含 $N$ 个点，$M$ 条边的无向图，每条边的边权均为 $1$。\n\n再给定 $K$ 个三元组 $(A,B,C)$，表示从 $A$ 点走到 $B$ 点后不能往 $C$ 点走。注意三元组是有序的，如可以从 $B$ 点走到 $A$ 点再走到 $C$。\n\n现在你要在 $K$ 个三元组的限制下，找出 $1$ 号点到 $N$ 号点的最短路径，并输出任意一条合法路径，会有 Check 检查你的输出。", "inputFormat": "输入文件第一行有三个数 $N$，$M$，$K$，意义如题目所述。\n\n接下来 $M$ 行每行两个数 $A$，$B$，表示 $A$，$B$ 间有一条边。\n\n再下面 $K$ 行，每行三个数 $(A,B,C)$ 描述一个三元组。", "outputFormat": "输出文件共两行数，第一行一个数 $S$ 表示最短路径长度。\n\n第二行 $S+1$ 个数，表示从 $1$ 到 $N$ 所经过的节点。", "hint": "对于 $40\\%$ 的数据满足 $N \\le 10$，$M \\le 20$，$K \\le 5$。\n\n对于 $100\\%$ 的数据满足 $N \\le 3000$，$M \\le 20000$，$K \\le 100000$。", "locale": "zh-CN", "translations": {"en": {"title": "Shortest Path", "background": "", "description": "Given an undirected graph with $N$ vertices and $M$ edges, where each edge has weight $1$.\n\nYou are also given $K$ ordered triples $(A,B,C)$, meaning that after moving from $A$ to $B$, you are not allowed to move to $C$. Note that the triples are ordered; for example, it is allowed to go from $B$ to $A$ and then to $C$.\n\nUnder the constraints given by the $K$ triples, find the shortest path from node $1$ to node $N$, and output any valid path. A Check will verify your output.", "inputFormat": "The first line contains three integers $N$, $M$, $K$, as described above.\n\nEach of the next $M$ lines contains two integers $A$, $B$, indicating there is an edge between $A$ and $B$.\n\nEach of the next $K$ lines contains three integers $(A,B,C)$ describing one triple.", "outputFormat": "Output consists of two lines. The first line contains a single integer $S$, the length of the shortest path.\n\nThe second line contains $S+1$ integers, the sequence of nodes visited from $1$ to $N$.", "hint": "For 40% of the testdata, $N \\le 10$, $M \\le 20$, $K \\le 5$.\n\nFor 100% of the testdata, $N \\le 3000$, $M \\le 20000$, $K \\le 100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最短路", "background": null, "description": "给定一个包含 $N$ 个点，$M$ 条边的无向图，每条边的边权均为 $1$。\n\n再给定 $K$ 个三元组 $(A,B,C)$，表示从 $A$ 点走到 $B$ 点后不能往 $C$ 点走。注意三元组是有序的，如可以从 $B$ 点走到 $A$ 点再走到 $C$。\n\n现在你要在 $K$ 个三元组的限制下，找出 $1$ 号点到 $N$ 号点的最短路径，并输出任意一条合法路径，会有 Check 检查你的输出。", "inputFormat": "输入文件第一行有三个数 $N$，$M$，$K$，意义如题目所述。\n\n接下来 $M$ 行每行两个数 $A$，$B$，表示 $A$，$B$ 间有一条边。\n\n再下面 $K$ 行，每行三个数 $(A,B,C)$ 描述一个三元组。", "outputFormat": "输出文件共两行数，第一行一个数 $S$ 表示最短路径长度。\n\n第二行 $S+1$ 个数，表示从 $1$ 到 $N$ 所经过的节点。", "hint": "对于 $40\\%$ 的数据满足 $N \\le 10$，$M \\le 20$，$K \\le 5$。\n\n对于 $100\\%$ 的数据满足 $N \\le 3000$，$M \\le 20000$，$K \\le 100000$。", "locale": "zh-CN"}}}
{"pid": "P1812", "type": "P", "difficulty": 5, "samples": [["-[-3,5] \n[3,5]+[-10,1] \n[3,5]-[-10,1] \n[3,5]*[-10,1] \n(([3,5]/[-10,-0.1])/-[2,2]) ", "[-5.000,3.000] \n[-7.000,6.000] \n[2.000,15.000] \n[-50.000,5.000] \n[0.150,25.000]"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递归"], "title": "区间运算", "background": "", "description": "区间运算是数学的一个领域。在区间运算中，常量和变量并不表示为一个单独、精确的值，而是表示为一个有着上界和下界的区间或范围。在普通的运算中，一个数量可以表示为数轴上的一个点；而在区间运算中，一个数量表示数轴上的一段，例如 $[3,5]$ 表示数轴上从 $3$ 到 $5$ 的一段。当精确的数值表示为区间时，上界与下界是相同的，如 $5$ 表示为区间即为 $[5,5]$。\n\n两个区间的运算，是指一个区间中的每个点与另一个区间中的每个点所做的运算，通过运算所得的所有点的集合即为运算的结果。例如，$[3,5]+[-10,1]=[-7,6]$。你的任务是写一个可以根据单行表达式进行取相反数、加、减、乘、除等基本的区间运算的程序。下面是一些运算的例子：\n\n- 取相反数：$-[-3,5]=[-5,3]$；\n- 加法：$[3,5]+[-10,1]=[-7,6]$；\n- 减法：$[3,5]-[-10,1]=[2,15]$；\n- 乘法：$[3,5]\\times [-10,1]=[-50,5]$；\n- 除法：$[3,5]\\div [-10,-0.1]=[-50,-0.3]$。", "inputFormat": "程序的输入包含一行或多行区间运算的中缀表达式，每个区间都表示为 $[\\min,\\max]$，表达式中包括括号、负号（$\\verb!-!$）、加号（$\\verb!+!$）、减号（$\\verb!-!$）、乘号（$\\verb!*!$）和除号（$\\verb!/!$），括号可能是嵌套的。每一行中都有可能有空格，但空格不会在表示区间的括号 $[\\min,\\max]$ 中间或负号后出现。程序不需要处理科学记数法，如 $\\verb!2E6!=2\\times 10^6$。每一行都不超过 $80$ 个字符。运算采用标准的优先级规则。下面按优先级递减的顺序给出各个算符：\n\n- $\\verb!(!,\\verb!)!$ 括号；\n- $\\verb!-!$ 取相反数；\n- $\\verb!*!,\\verb!/!$，乘法和除法，同级运算按从左到右的顺序；\n- $\\verb!+!,\\verb!-!$，加法和减法，同级运算按从左到右的顺序。", "outputFormat": "对于输入文件中每一行的表达式，以 $[\\min,\\max]$（均保留 $3$ 位小数）的形式输出运算结果。每个结果占一行。结果中不应有空格。在运算中，如果将一个包含 $0$ 的区间用作除数，则输出 `Division by zero`。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Interval Arithmetic", "background": "", "description": "Interval arithmetic is a branch of mathematics. In interval arithmetic, constants and variables are not represented by a single exact value, but by an interval or range with a lower and an upper bound. In ordinary arithmetic, a quantity can be represented as a point on the number line; in interval arithmetic, a quantity is represented as a segment on the number line, for example, $[3,5]$ denotes the segment from $3$ to $5$. When an exact number is represented as an interval, the upper and lower bounds are identical, e.g., $5$ as an interval is $[5,5]$.\n\nAn operation on two intervals means applying the operation to every point in one interval with every point in the other interval; the set of all resulting points is the result of the operation. For example, $[3,5]+[-10,1]=[-7,6]$. Your task is to write a program that can perform the basic interval operations of unary negation, addition, subtraction, multiplication, and division according to a single-line expression. Here are some examples:\n- Negation: $-[-3,5]=[-5,3]$.\n- Addition: $[3,5]+[-10,1]=[-7,6]$.\n- Subtraction: $[3,5]-[-10,1]=[2,15]$.\n- Multiplication: $[3,5]\\times [-10,1]=[-50,5]$.\n- Division: $[3,5]\\div [-10,-0.1]=[-50,-0.3]$.", "inputFormat": "The input consists of one or more lines, each containing an infix expression over intervals. Each interval is written as $[\\min,\\max]$. Expressions may include parentheses, the minus sign ($\\verb!-!$), plus ($\\verb!+!$), minus ($\\verb!-!$), multiplication ($\\verb!*!$), and division ($\\verb!/!$); parentheses may be nested. A line may contain spaces, but no space appears inside the brackets of an interval $[\\min,\\max]$ or immediately after a minus sign. Scientific notation need not be handled, e.g., $\\verb!2E6!=2\\times 10^6$. Each line contains at most $80$ characters. Operations follow the standard precedence rules. Operators are listed below in decreasing order of precedence:\n- $\\verb!(!,\\verb!)!$ parentheses.\n- $\\verb!-!$ unary negation.\n- $\\verb!*!,\\verb!/!$ multiplication and division; operators of the same precedence are evaluated from left to right.\n- $\\verb!+!,\\verb!-!$ addition and subtraction; operators of the same precedence are evaluated from left to right.", "outputFormat": "For each input line, output the result as $[\\min,\\max]$ (both endpoints rounded to $3$ decimal places). Print one result per line. There must be no spaces in the output. During evaluation, if an interval that contains $0$ is used as a divisor, output `Division by zero`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "区间运算", "background": "", "description": "区间运算是数学的一个领域。在区间运算中，常量和变量并不表示为一个单独、精确的值，而是表示为一个有着上界和下界的区间或范围。在普通的运算中，一个数量可以表示为数轴上的一个点；而在区间运算中，一个数量表示数轴上的一段，例如 $[3,5]$ 表示数轴上从 $3$ 到 $5$ 的一段。当精确的数值表示为区间时，上界与下界是相同的，如 $5$ 表示为区间即为 $[5,5]$。\n\n两个区间的运算，是指一个区间中的每个点与另一个区间中的每个点所做的运算，通过运算所得的所有点的集合即为运算的结果。例如，$[3,5]+[-10,1]=[-7,6]$。你的任务是写一个可以根据单行表达式进行取相反数、加、减、乘、除等基本的区间运算的程序。下面是一些运算的例子：\n\n- 取相反数：$-[-3,5]=[-5,3]$；\n- 加法：$[3,5]+[-10,1]=[-7,6]$；\n- 减法：$[3,5]-[-10,1]=[2,15]$；\n- 乘法：$[3,5]\\times [-10,1]=[-50,5]$；\n- 除法：$[3,5]\\div [-10,-0.1]=[-50,-0.3]$。", "inputFormat": "程序的输入包含一行或多行区间运算的中缀表达式，每个区间都表示为 $[\\min,\\max]$，表达式中包括括号、负号（$\\verb!-!$）、加号（$\\verb!+!$）、减号（$\\verb!-!$）、乘号（$\\verb!*!$）和除号（$\\verb!/!$），括号可能是嵌套的。每一行中都有可能有空格，但空格不会在表示区间的括号 $[\\min,\\max]$ 中间或负号后出现。程序不需要处理科学记数法，如 $\\verb!2E6!=2\\times 10^6$。每一行都不超过 $80$ 个字符。运算采用标准的优先级规则。下面按优先级递减的顺序给出各个算符：\n\n- $\\verb!(!,\\verb!)!$ 括号；\n- $\\verb!-!$ 取相反数；\n- $\\verb!*!,\\verb!/!$，乘法和除法，同级运算按从左到右的顺序；\n- $\\verb!+!,\\verb!-!$，加法和减法，同级运算按从左到右的顺序。", "outputFormat": "对于输入文件中每一行的表达式，以 $[\\min,\\max]$（均保留 $3$ 位小数）的形式输出运算结果。每个结果占一行。结果中不应有空格。在运算中，如果将一个包含 $0$ 的区间用作除数，则输出 `Division by zero`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1813", "type": "P", "difficulty": 5, "samples": [["4 5 1 4 \r\n1 2 0 1 1 \r\n1 2 0 1 2 \r\n1 3 1 3 2 \r\n2 4 3 4 1 \r\n3 4 3 4 1 ", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "拯救小 tim", "background": "", "description": "小 tim 在游乐场，有一天终于逃了出来！但是不小心又被游乐场的工作人员发现了…所以你的任务是安全地把小 tim 护送回家。但是，A 市复杂的交通状况给你出了一大难题。 \n\nA 市一共有 $n$ 个路口，$m$ 条单行马路。但是，每条马路都只有一段时间是开放的。为了安全，你必须选择一条护送路线，使得小 tim 在路上的时间最短，即到家的时刻减去离开游乐场的时刻最短。", "inputFormat": "第一行 $4$ 个数，分别是 $n,m,s,t$。基地在路口 $s$，码头在路口 $t$。\n\n接下来 $m$ 行每行 $5$ 个数 $x,y,b,e,c$ 表示一条 $x$ 路口到 $y$ 路口的单行线，在 $b$ 时刻到 $e$ 时刻之间开放，需要 $c$ 的时间通过这条路（必须保证行进在路中间时，路一直开放，否则小 tim 会被捉住）。两个路口之间可能会有多条道路。一开始的时刻是 $0$（当然，你可以不用马上出发，在基地多呆一段时间）。\n\n如果不存在任何一种方案使得小 tim 能成功到达码头，输出 `Impossible`。", "outputFormat": "一行，为小 tim 在路上停留的最短时间。", "hint": "**【样例解释 #1】**\n\n最优方案应该是，在 $1$ 号点停留至时刻 $1$，然后走到 $3$ 号点，然后走到 $4$ 号点。到达时刻为时刻 $4$。tim 在路上的时间为 $4-1=3$。\n\n### 数据范围\n\n对于所有测试数据：\n- $2\\leqslant n\\leqslant100$，$0\\leqslant m\\leqslant1000$，$1\\leqslant s,t\\leqslant n$，$s\\not=t$；\n- $1\\leqslant x,y\\leqslant n$，$0\\leqslant b,e,c\\leqslant10000$，$b<e$。", "locale": "zh-CN", "translations": {"en": {"title": "Save Little Tim", "background": "", "description": "Little Tim was in an amusement park and finally escaped one day! But he was accidentally spotted by the staff again… So your task is to safely escort Little Tim home. However, the complex traffic in City A gives you a big challenge.\n\nCity A has $n$ intersections and $m$ one-way roads. Each road is only open during a certain time interval. For safety, you must choose an escort route that minimizes Tim’s time on the road, that is, minimize the arrival time minus the time when he leaves the amusement park.", "inputFormat": "The first line contains $4$ numbers, $n,m,s,t$. The base is at intersection $s$, and the dock is at intersection $t$.\n\nEach of the next $m$ lines contains $5$ numbers $x,y,b,e,c$, describing a directed road from intersection $x$ to intersection $y$, which is open from time $b$ to time $e$, and takes $c$ time to traverse (you must ensure that the road remains open during the entire traversal; otherwise Tim will be caught). There may be multiple roads between two intersections. The start time is $0$ (of course, you don’t have to depart immediately; you may wait at the base).\n\nIf no plan exists that allows Tim to reach the dock, output `Impossible`.", "outputFormat": "Output one line: the minimal time Tim spends on the road.", "hint": "[Sample Explanation #1]\n\nThe optimal plan is to stay at node $1$ until time $1$, then go to node $3$, then go to node $4$. The arrival time is $4$. Tim’s time on the road is $4-1=3$.\n\nConstraints\n\nFor all testdata:\n- $2\\leqslant n\\leqslant 100$, $0\\leqslant m\\leqslant 1000$, $1\\leqslant s,t\\leqslant n$, $s\\not= t$.\n- $1\\leqslant x,y\\leqslant n$, $0\\leqslant b,e,c\\leqslant 10000$, $b< e$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "拯救小 tim", "background": "", "description": "小 tim 在游乐场，有一天终于逃了出来！但是不小心又被游乐场的工作人员发现了…所以你的任务是安全地把小 tim 护送回家。但是，A 市复杂的交通状况给你出了一大难题。 \n\nA 市一共有 $n$ 个路口，$m$ 条单行马路。但是，每条马路都只有一段时间是开放的。为了安全，你必须选择一条护送路线，使得小 tim 在路上的时间最短，即到家的时刻减去离开游乐场的时刻最短。", "inputFormat": "第一行 $4$ 个数，分别是 $n,m,s,t$。基地在路口 $s$，码头在路口 $t$。\n\n接下来 $m$ 行每行 $5$ 个数 $x,y,b,e,c$ 表示一条 $x$ 路口到 $y$ 路口的单行线，在 $b$ 时刻到 $e$ 时刻之间开放，需要 $c$ 的时间通过这条路（必须保证行进在路中间时，路一直开放，否则小 tim 会被捉住）。两个路口之间可能会有多条道路。一开始的时刻是 $0$（当然，你可以不用马上出发，在基地多呆一段时间）。\n\n如果不存在任何一种方案使得小 tim 能成功到达码头，输出 `Impossible`。", "outputFormat": "一行，为小 tim 在路上停留的最短时间。", "hint": "**【样例解释 #1】**\n\n最优方案应该是，在 $1$ 号点停留至时刻 $1$，然后走到 $3$ 号点，然后走到 $4$ 号点。到达时刻为时刻 $4$。tim 在路上的时间为 $4-1=3$。\n\n### 数据范围\n\n对于所有测试数据：\n- $2\\leqslant n\\leqslant100$，$0\\leqslant m\\leqslant1000$，$1\\leqslant s,t\\leqslant n$，$s\\not=t$；\n- $1\\leqslant x,y\\leqslant n$，$0\\leqslant b,e,c\\leqslant10000$，$b<e$。", "locale": "zh-CN"}}}
{"pid": "P1814", "type": "P", "difficulty": 5, "samples": [["1   \r\n20 \r\n31117532   \r\n0 ", "X\n((X)X(X))X\n(X(X(((X(X))X(X))X(X))))X(((X((X)X((X)X)))X)X)"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递归", "Catalan 数"], "title": "数的序号", "background": "", "description": "我们可以用下面的方案给二叉树标号：\n\n- 空树的序号为 $0$。\n- 只有一个根结点的树序号为 $1$。\n- 所有包含 $m$ 个结点的二叉树的序号一定比任何一个包含 $m+1$ 个结点的二叉树的序号小。\n- 对于任何一棵二叉树，设其左子树序号为 $L$，右子树序号为 $R$，且它有 $m$ 个结点，若它的序号为 $n$，则所有序号大于 $n$ 的 $m$ 个结点的二叉树，要么左子树序号大于 $L$，要么左子树序号等于 $L$ 且右子树序号大于 $R$。\n\n例如，编号为 $0$ 到 $5$ 的六棵树形状如下：\n\n```plain\n0   1   2       3   4       5 \n    X   X       X   X       X\n         \\     /     \\       \\\n          X   X       X       X\n                       \\     /\n                        X   X\n```\n\n你的任务就是对给定的序号，输出该序号所对应的二叉树。\n", "inputFormat": "**本题有多组数据。**\n\n输入的每行有一个非负整数 $n$，$n=0$ 表示输入结束，此时**不需要**输出 $n=0$ 的空树。", "outputFormat": "对于每组数据，输出一行，代表序号 $n$ 对应的树。\n\n一棵二叉树的表示为 `(L)X(R)`，其中 $L,R$ 分别是左子树和右子树的表示，如一侧为空则省略，例如只有左子树则表示为 `(L)X`。", "hint": "### 数据规模与约定\n\n对于所有测试点，保证 $1\\le n\\le 5\\times10^8$，数据组数不超过 $50$。", "locale": "zh-CN", "translations": {"en": {"title": "Index of a Binary Tree", "background": "", "description": "We can label binary trees using the following scheme:\n\n- The empty tree has index $0$.\n- The tree with only a root node has index $1$.\n- All binary trees with $m$ nodes have indices smaller than any binary tree with $m+1$ nodes.\n- For any binary tree, let its left-subtree index be $L$, its right-subtree index be $R$, and it have $m$ nodes. If its index is $n$, then for all $m$-node binary trees whose indices are greater than $n$, either their left-subtree index is greater than $L$, or their left-subtree index equals $L$ and their right-subtree index is greater than $R$.\n\nFor example, the six trees with indices $0$ through $5$ have the following shapes:\n\n```plain\n0   1   2       3   4       5 \n    X   X       X   X       X\n         \\     /     \\       \\\n          X   X       X       X\n                       \\     /\n                        X   X\n```\n\nYour task is to output the binary tree corresponding to a given index.", "inputFormat": "This problem has multiple test cases.\n\nEach line contains a non-negative integer $n$. $n=0$ indicates the end of input, and you do not need to output the empty tree for $n=0$.", "outputFormat": "For each test case, output one line representing the tree corresponding to index $n$.\n\nA binary tree is represented as `(L)X(R)`, where $L$ and $R$ are the representations of the left and right subtrees, respectively. If one side is empty, omit it; for example, if there is only a left subtree, it is represented as `(L)X`.", "hint": "### Constraints\n\n对于所有测试点，保证 $1\\le n\\le 5\\times10^8$，数据组数不超过 $50$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数的序号", "background": "", "description": "我们可以用下面的方案给二叉树标号：\n\n- 空树的序号为 $0$。\n- 只有一个根结点的树序号为 $1$。\n- 所有包含 $m$ 个结点的二叉树的序号一定比任何一个包含 $m+1$ 个结点的二叉树的序号小。\n- 对于任何一棵二叉树，设其左子树序号为 $L$，右子树序号为 $R$，且它有 $m$ 个结点，若它的序号为 $n$，则所有序号大于 $n$ 的 $m$ 个结点的二叉树，要么左子树序号大于 $L$，要么左子树序号等于 $L$ 且右子树序号大于 $R$。\n\n例如，编号为 $0$ 到 $5$ 的六棵树形状如下：\n\n```plain\n0   1   2       3   4       5 \n    X   X       X   X       X\n         \\     /     \\       \\\n          X   X       X       X\n                       \\     /\n                        X   X\n```\n\n你的任务就是对给定的序号，输出该序号所对应的二叉树。\n", "inputFormat": "**本题有多组数据。**\n\n输入的每行有一个非负整数 $n$，$n=0$ 表示输入结束，此时**不需要**输出 $n=0$ 的空树。", "outputFormat": "对于每组数据，输出一行，代表序号 $n$ 对应的树。\n\n一棵二叉树的表示为 `(L)X(R)`，其中 $L,R$ 分别是左子树和右子树的表示，如一侧为空则省略，例如只有左子树则表示为 `(L)X`。", "hint": "### 数据规模与约定\n\n对于所有测试点，保证 $1\\le n\\le 5\\times10^8$，数据组数不超过 $50$。", "locale": "zh-CN"}}}
{"pid": "P1815", "type": "P", "difficulty": 3, "samples": [["18 \nNWWWWWWWWWWSESSSWS \n20 \nSSSWWNENNNNNWWWWSSSS \n30 \nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE \n13 \nSWWWWWWWWWNEE \n0", "The worm successfully made all 18 moves. \nThe worm ran into itself on move 9. \nThe worm ran off the board on move 21. \nThe worm successfully made all 13 moves."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "蠕虫游戏", "background": "", "description": "蠕虫是一个古老的电脑游戏，它有许多版本。但所有版本都有一个共同的规则：操纵一条蠕虫在屏幕上转圈，并试着去避免撞到自己或障碍物。\n\n这里我们将模拟一个简单的版本。游戏将在 $50 \\times 50$ 的棋盘上进行，棋盘的左上角为 $(1,1)$，蠕虫在初始时是一串 $20$ 个相连的方格。所谓相连是指方格在水平或垂直方向上相接。蠕虫开始时是水平地伸展开的，从 $(25,11)$ 到 $(25,30)$。其中 $(25,30)$ 是它的头。蠕虫只能向东 $\\verb!E!$、西 $\\verb!W!$、南 $\\verb!S!$、北 $\\verb!N!$ 四个方向移动，但不能向自己移动，因此在开始时向西 $\\verb!W!$ 是不允许的。每次移动时，蠕虫向给定的方向移动，一次只移一格，并且保持它的长度不变。因此只有蠕虫的头和尾所占据的方格在移动一步后被改变。注意：蠕虫的头能移动到虫尾刚刚让出的空格。\n\n你将被给定一系列移动指令并模拟虫的移动，直到蠕虫撞上了自己，或者蠕虫越出了棋盘，或者蠕虫成功地完成了这些指令。在前两种情况下你应当忽略剩下的指令。", "inputFormat": "每个输入文件包含了多组数据，每个数据占两行。\n\n第一行是一个整数 $n\\ (n<100)$，表示移动指令的指令数（以 $n=0$ 表示输入结束）；\n\n第二行包括了 $n$ 个字符，只有可能是 $\\verb!ESWN!$ 中的一种，字符之间没有空格，表示移动的指令。", "outputFormat": "每个数据输出一行，格式为以下 $3$ 种中的一种： \n\n- $\\texttt{The worm ran into itself on move \\textrm{\\it m}.}$\n- $\\texttt{The worm ran off the board on move \\textrm{\\it m}.}$\n- $\\texttt{The worm successfully made all \\textrm{\\it m} moves.}$\n\n其中，$m$ 是你要决定输出的步数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Worm Game", "background": "# Description\n\nWorm is a classic computer game with many versions, but they all share a common rule: you control a worm that turns on the screen and try to avoid colliding with itself or with obstacles.\n\nHere we simulate a simple version. The game is played on a $50 \\times 50$ board, with the top-left corner at $(1, 1)$. Initially, the worm occupies a chain of $20$ connected cells. “Connected” means adjacent horizontally or vertically. The worm starts stretched horizontally from $(25, 11)$ to $(25, 30)$, where $(25, 30)$ is its head. The worm can move only East \\verb!E!, West \\verb!W!, South \\verb!S!, and North \\verb!N!, but it cannot move into itself, so moving West \\verb!W! at the very beginning is not allowed. On each move, the worm moves one cell in the given direction and keeps its length unchanged. Therefore, only the cells occupied by the head and the tail change after one step. Note: the head may move into the cell just vacated by the tail.\n\nYou are given a sequence of move instructions and must simulate the worm’s movement until the worm runs into itself, the worm goes off the board, or the worm successfully completes all the instructions. In the first two cases, you should ignore any remaining instructions.", "description": "Worm is a classic computer game with many versions, but they all share a common rule: you control a worm that turns on the screen and try to avoid colliding with itself or with obstacles.\n\nHere we simulate a simple version. The game is played on a $50 \\times 50$ board, with the top-left corner at $(1, 1)$. Initially, the worm occupies a chain of $20$ connected cells. “Connected” means adjacent horizontally or vertically. The worm starts stretched horizontally from $(25, 11)$ to $(25, 30)$, where $(25, 30)$ is its head. The worm can move only East \\verb!E!, West \\verb!W!, South \\verb!S!, and North \\verb!N!, but it cannot move into itself, so moving West \\verb!W! at the very beginning is not allowed. On each move, the worm moves one cell in the given direction and keeps its length unchanged. Therefore, only the cells occupied by the head and the tail change after one step. Note: the head may move into the cell just vacated by the tail.\n\nYou are given a sequence of move instructions and must simulate the worm’s movement until the worm runs into itself, the worm goes off the board, or the worm successfully completes all the instructions. In the first two cases, you should ignore any remaining instructions.\n\n# Description", "inputFormat": "Each input file contains multiple test cases, each taking two lines.\n\nThe first line is an integer $n\\ (n<100)$, the number of move instructions (with $n=0$ indicating the end of input).\n\nThe second line contains $n$ characters, each one of \\verb!ESWN!, with no spaces, representing the move instructions.", "outputFormat": "For each test case, output one line, in one of the following $3$ formats:\n- \\texttt{The worm ran into itself on move \\textrm{\\it m}.}\n- \\texttt{The worm ran off the board on move \\textrm{\\it m}.}\n- \\texttt{The worm successfully made all \\textrm{\\it m} moves.}\n\nHere, $m$ is the step number you must determine.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "蠕虫游戏", "background": "", "description": "蠕虫是一个古老的电脑游戏，它有许多版本。但所有版本都有一个共同的规则：操纵一条蠕虫在屏幕上转圈，并试着去避免撞到自己或障碍物。\n\n这里我们将模拟一个简单的版本。游戏将在 $50 \\times 50$ 的棋盘上进行，棋盘的左上角为 $(1,1)$，蠕虫在初始时是一串 $20$ 个相连的方格。所谓相连是指方格在水平或垂直方向上相接。蠕虫开始时是水平地伸展开的，从 $(25,11)$ 到 $(25,30)$。其中 $(25,30)$ 是它的头。蠕虫只能向东 $\\verb!E!$、西 $\\verb!W!$、南 $\\verb!S!$、北 $\\verb!N!$ 四个方向移动，但不能向自己移动，因此在开始时向西 $\\verb!W!$ 是不允许的。每次移动时，蠕虫向给定的方向移动，一次只移一格，并且保持它的长度不变。因此只有蠕虫的头和尾所占据的方格在移动一步后被改变。注意：蠕虫的头能移动到虫尾刚刚让出的空格。\n\n你将被给定一系列移动指令并模拟虫的移动，直到蠕虫撞上了自己，或者蠕虫越出了棋盘，或者蠕虫成功地完成了这些指令。在前两种情况下你应当忽略剩下的指令。", "inputFormat": "每个输入文件包含了多组数据，每个数据占两行。\n\n第一行是一个整数 $n\\ (n<100)$，表示移动指令的指令数（以 $n=0$ 表示输入结束）；\n\n第二行包括了 $n$ 个字符，只有可能是 $\\verb!ESWN!$ 中的一种，字符之间没有空格，表示移动的指令。", "outputFormat": "每个数据输出一行，格式为以下 $3$ 种中的一种： \n\n- $\\texttt{The worm ran into itself on move \\textrm{\\it m}.}$\n- $\\texttt{The worm ran off the board on move \\textrm{\\it m}.}$\n- $\\texttt{The worm successfully made all \\textrm{\\it m} moves.}$\n\n其中，$m$ 是你要决定输出的步数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1816", "type": "P", "difficulty": 3, "samples": [["10 3\n1 2 3 4 5 6 7 8 9 10\n2 7\n3 9\n1 10", "2 3 1"]], "limits": {"time": [400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "倍增", "树状数组", "ST 表"], "title": "忠诚", "background": null, "description": "老管家是一个聪明能干的人。他为财主工作了整整 $10$ 年。财主为了让自已账目更加清楚，要求管家每天记  $k$ 次账。由于管家聪明能干，因而管家总是让财主十分满意。\n\n但是由于一些人的挑拨，财主还是对管家产生了怀疑。于是他决定用一种特别的方法来判断管家的忠诚。他把每次的账目按 $1, 2, 3, \\ldots$ 编号，然后不定时地问管家这样的问题：在 $a$ 到 $b$ 号账中最少的一笔是多少？\n\n为了让管家没时间作假，他总是一次问多个问题。", "inputFormat": "第一行输入两个数 $m, n$，表示有 $m$ 笔账和 $n$ 个问题。  \n第二行输入 $m$ 个数，分别表示账目的钱数 $x_i$。  \n接下来 $n$ 行分别输入 $n$ 个问题，每行 $2$ 个数字，分别表示开始的账目编号 $a$ 和结束的账目编号 $b$。", "outputFormat": "第一行输出每个问题的答案，每个答案中间以一个空格分隔。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq 10^5$，$1 \\leq n \\leq 10^5$，$0 \\le x_i \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Loyalty", "background": "", "description": "The old butler is a smart and capable man. He has worked for the master for $10$ full years. To make his accounts clearer, the master requires the butler to record the accounts $k$ times each day. Because the butler is smart and capable, he always keeps the master very satisfied.\n\nHowever, after some people sowed discord, the master still became suspicious of the butler. So he decided to use a special method to judge the butler’s \"loyalty\". He numbers each account entry as $1, 2, 3, \\ldots$, and from time to time asks the butler questions like: among the entries numbered from $a$ to $b$, what is the minimum amount?\n\nTo leave the butler no time to falsify, he always asks multiple questions at once.", "inputFormat": "The first line contains two integers $m, n$, indicating there are $m$ account entries and $n$ queries.\nThe second line contains $m$ numbers, representing the amounts of each account entry.\nThe next $n$ lines each describe a query, with $2$ numbers per line, denoting the starting index $a$ and the ending index $b$.", "outputFormat": "Output the answers to all queries in one line, separated by single spaces.", "hint": "For $100\\%$ of the testdata, $1 \\leq m \\leq 10^5$, $1 \\leq n \\leq 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "忠诚", "background": null, "description": "老管家是一个聪明能干的人。他为财主工作了整整 $10$ 年。财主为了让自已账目更加清楚，要求管家每天记  $k$ 次账。由于管家聪明能干，因而管家总是让财主十分满意。\n\n但是由于一些人的挑拨，财主还是对管家产生了怀疑。于是他决定用一种特别的方法来判断管家的忠诚。他把每次的账目按 $1, 2, 3, \\ldots$ 编号，然后不定时地问管家这样的问题：在 $a$ 到 $b$ 号账中最少的一笔是多少？\n\n为了让管家没时间作假，他总是一次问多个问题。", "inputFormat": "第一行输入两个数 $m, n$，表示有 $m$ 笔账和 $n$ 个问题。  \n第二行输入 $m$ 个数，分别表示账目的钱数 $x_i$。  \n接下来 $n$ 行分别输入 $n$ 个问题，每行 $2$ 个数字，分别表示开始的账目编号 $a$ 和结束的账目编号 $b$。", "outputFormat": "第一行输出每个问题的答案，每个答案中间以一个空格分隔。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq 10^5$，$1 \\leq n \\leq 10^5$，$0 \\le x_i \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1817", "type": "P", "difficulty": 5, "samples": [["1 2   \n", "2   \n"], ["2 3\n", "30\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "轮廓线 DP", "状压 DP"], "title": "棋盘染色", "background": "", "description": "给定一个 $N \\times M$ 的网格，每个格子可以染成黑色或者白色，要求所有黑色格子连通，所有白色格子连通，并且至少有一个黑色格子贴边，至少有一个白色格子贴边。问有多少种染色方法？ ", "inputFormat": "第一行有两个正整数 $N, M$。", "outputFormat": "只有一个正整数表示答案。\n", "hint": "对于 $100 \\%$ 的数据：$1 \\le N \\le 7$，$1 \\le M \\le 8$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Grid Coloring", "background": "", "description": "Given an $N \\times M$ grid, each cell can be colored black or white. All black cells must be connected, all white cells must be connected, and at least one black cell is on the border while at least one white cell is on the border. How many valid colorings are there?", "inputFormat": "The first line contains two positive integers $N, M$.", "outputFormat": "Output a single positive integer representing the answer.", "hint": "Constraints: For $100 \\%$ of the testdata: $1 \\le N \\le 7$, $1 \\le M \\le 8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "棋盘染色", "background": "", "description": "给定一个 $N \\times M$ 的网格，每个格子可以染成黑色或者白色，要求所有黑色格子连通，所有白色格子连通，并且至少有一个黑色格子贴边，至少有一个白色格子贴边。问有多少种染色方法？ ", "inputFormat": "第一行有两个正整数 $N, M$。", "outputFormat": "只有一个正整数表示答案。\n", "hint": "对于 $100 \\%$ 的数据：$1 \\le N \\le 7$，$1 \\le M \\le 8$。\n", "locale": "zh-CN"}}}
{"pid": "P1818", "type": "P", "difficulty": 5, "samples": [["9.5 2.0 12 \r\n4.4 3.4 12478   \r\n10 3.4 23577", "86   \r\n5094   \r\n63033"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "NOI 导刊"], "title": "电影投票", "background": "", "description": "有一个投票系统可以给电影评分，规定每票都必须投 $1$ 到 $10$ 的整数。现在希望投尽量少的票让一个电影的平均分数低于某个值。", "inputFormat": "多组数据，对于每组数据只有一行，有两个带 $1$ 位小数的实数 $X$ 、 $Y$ 和一个正整数 $N$，表示一部电影的平均得分保留 $1$ 位小数后的结果和 XP 期望的平均得分保留一位小数后的结果，并且该电影已经被投了 $N$ 次票了。保证 $Y$ 小于等于 $X$。", "outputFormat": "对于每组数据，输出一个正整数 $\\mathit{ans}$，表示最坏情况下只要 XP 投 $\\mathit{ans}$ 张票，一定能让这部电影的平均得分保留一位小数后小于等于 $Y$。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1\\le N \\le 100$，$1\\le T \\le 100$；\n- 对于 $100\\%$ 的数据，$1\\le T \\le 10^4$，$X,Y\\in[1,10]$，$1\\le N \\le 10^6$。\n\n### 注意事项\n\n保留一位小数采取四舍五入保留法。实数可能会有精度误差。", "locale": "zh-CN", "translations": {"en": {"title": "Movie Voting", "background": "", "description": "There is a voting system that rates movies, where each vote must be an integer from $1$ to $10$. We want to cast as few votes as possible so that a movie’s average score falls below a certain value.", "inputFormat": "Multiple test cases. Each test case consists of a single line containing two real numbers with exactly one decimal place $X$, $Y$, and a positive integer $N$. Here, $X$ is the movie’s current average score rounded to one decimal place, $Y$ is XP’s desired average score rounded to one decimal place, and the movie has already received $N$ votes. It is guaranteed that $Y \\le X$. Process until EOF.", "outputFormat": "For each test case, output a positive integer $\\mathit{ans}$, meaning that in the worst case, as long as XP casts $\\mathit{ans}$ votes, it is guaranteed that the movie’s average score rounded to one decimal place will be less than or equal to $Y$.", "hint": "### Constraints and Agreements\n\n- For $30\\%$ of the testdata, $1 \\le N \\le 100$, $1 \\le T \\le 100$.\n- For $100\\%$ of the testdata, $1 \\le T \\le 10^4$, $X, Y \\in [1, 10]$, $1 \\le N \\le 10^6$.\n\n### Notes\n\nRound to one decimal place using the round half up method. Real numbers may have precision errors.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "电影投票", "background": "", "description": "有一个投票系统可以给电影评分，规定每票都必须投 $1$ 到 $10$ 的整数。现在希望投尽量少的票让一个电影的平均分数低于某个值。", "inputFormat": "多组数据，对于每组数据只有一行，有两个带 $1$ 位小数的实数 $X$ 、 $Y$ 和一个正整数 $N$，表示一部电影的平均得分保留 $1$ 位小数后的结果和 XP 期望的平均得分保留一位小数后的结果，并且该电影已经被投了 $N$ 次票了。保证 $Y$ 小于等于 $X$。", "outputFormat": "对于每组数据，输出一个正整数 $\\mathit{ans}$，表示最坏情况下只要 XP 投 $\\mathit{ans}$ 张票，一定能让这部电影的平均得分保留一位小数后小于等于 $Y$。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1\\le N \\le 100$，$1\\le T \\le 100$；\n- 对于 $100\\%$ 的数据，$1\\le T \\le 10^4$，$X,Y\\in[1,10]$，$1\\le N \\le 10^6$。\n\n### 注意事项\n\n保留一位小数采取四舍五入保留法。实数可能会有精度误差。", "locale": "zh-CN"}}}
{"pid": "P1819", "type": "P", "difficulty": 6, "samples": [["4   \naabb   \nabab   \nbaba\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "公共子序列", "background": "", "description": "求 $3$ 个字符序列有多少个不同的公共子序列，不包括空序列。", "inputFormat": "第一行为一个正整数 $n$，表示 $3$ 个序列的长度。\n\n接下来 $3$ 行，每行一个无空格长度为 $n$ 的字符序列。只包含小写字母 `a` 到 `z`。", "outputFormat": "一行一个正整数 $ans$，对 $10^8$ 取模。", "hint": "#### 样例 1解释\n\n对于唯一的一个样例，有 $5$ 种子序列，分别是 `a`，`ab`，`aa`，`bb`，`b`。\n\n#### 数据范围与约定\n\n- 对于 $30\\%$ 的数据，保证 $1 \\le n \\le 10$；\n- 对于 $70\\%$ 的数据，保证 $1 \\le n \\le 50$；\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 150$。", "locale": "zh-CN", "translations": {"en": {"title": "Common Subsequences", "background": "", "description": "Find how many distinct common subsequences the $3$ character sequences share, excluding the empty sequence.", "inputFormat": "The first line contains a positive integer $n$, denoting the length of the $3$ sequences.\nThe next $3$ lines each contain a length-$n$ character sequence without spaces. Only lowercase letters `a` to `z` are used.", "outputFormat": "One line with a positive integer $ans$, taken modulo $10^8$.", "hint": "#### Sample 1 Explanation\n\nFor the single sample, there are $5$ subsequences: `a`, `ab`, `aa`, `bb`, `b`.\n\n#### Constraints and Conventions\n\n- For $30\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 10$.\n- For $70\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 50$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 150$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "公共子序列", "background": "", "description": "求 $3$ 个字符序列有多少个不同的公共子序列，不包括空序列。", "inputFormat": "第一行为一个正整数 $n$，表示 $3$ 个序列的长度。\n\n接下来 $3$ 行，每行一个无空格长度为 $n$ 的字符序列。只包含小写字母 `a` 到 `z`。", "outputFormat": "一行一个正整数 $ans$，对 $10^8$ 取模。", "hint": "#### 样例 1解释\n\n对于唯一的一个样例，有 $5$ 种子序列，分别是 `a`，`ab`，`aa`，`bb`，`b`。\n\n#### 数据范围与约定\n\n- 对于 $30\\%$ 的数据，保证 $1 \\le n \\le 10$；\n- 对于 $70\\%$ 的数据，保证 $1 \\le n \\le 50$；\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 150$。", "locale": "zh-CN"}}}
{"pid": "P1820", "type": "P", "difficulty": 6, "samples": [["4 4\n1 2 3 4", "1 4"], ["9 13\n1 1 1 2 3 4 5 6 7 8 9 9 9", "1 2 3 4 5 6 7 8 9"], ["2 2\n1 2", "QAQ"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "图论建模", "有限状态自动机"], "title": "麻将 加强加强版", "background": "此题为 [P4050](/problem/P4050) 与 [P6454](/problem/P6454) 的加强版。\n\n小 A 喜欢打麻将。", "description": "小 A 找到了一副奇怪的麻将牌：只有一种 $1,2,\\cdots,n$ 的数牌，且每种牌都有**无穷多张**。\n\n定义「雀头」为两张一样的牌（如 $2,2$，$7,7$），「刻子」为三张一样的牌（如 $1,1,1$，$4,4,4$），「顺子」为三张序数相邻的牌（如 $1,2,3$，$9,10,11$，注意 $1$ 与 $n$ 不相邻）。「顺子」与「刻子」统称「面子」。\n\n假如你能把你的手牌分为若干组「面子」（**可以相同**）以及一组「雀头」，那么你就可以「和牌」。\n\n假如某副手牌加上某张牌后可以「和牌」，则称这副手牌「听」这张牌。\n\n现在小 A 随意摸了 $k$ 张牌，他想知道他「听」哪些牌。", "inputFormat": "第一行两个正整数 $n,k$，分别表示牌的范围和小 A 手上牌的张数。\n\n接下来一行 $k$ 个整数 $a_1,a_2,\\cdots,a_k$ 给出小 A 的手牌，每个数表示小 Z 手上的一张牌。", "outputFormat": "第一行若干个正整数，表示小 A「听」哪些牌。**请按照升序输出。**\n\n特殊地，如果小 A 不「听」任何牌，请输出 `QAQ`。", "hint": "#### 【样例解释】\n\n- 样例一解释：两种情况，`11/234` 与 `123/44`。\n- 样例二解释：此牌型为「纯正九莲宝灯」，可以「听」所有数牌。\n\n#### 【数据范围】\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$1\\leq k\\leq 16$。\n- Subtask 2（10 pts）：$1\\leq k\\leq 400$。\n- Subtask 3（30 pts）：$1\\leq k\\leq 10^3$。\n- Subtask 4（30 pts）：$1\\leq k\\leq 3\\times10^4$。\n- Subtask 5（20 pts）：无特殊限制。\n\n对于所有数据，$1\\leq a_i\\leq n\\leq k\\leq 2\\times10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Mahjong - Enhanced-Enhanced Version", "background": "This problem is a strengthened version of [P4050](/problem/P4050) and [P6454](/problem/P6454).\n\nXiao A likes playing Mahjong.", "description": "Xiao A found a strange set of Mahjong tiles: it only has number tiles $1,2,\\cdots,n$, and there are infinitely many copies of each tile.\n\nA \"pair\" is two identical tiles (e.g., $2,2$, $7,7$). A \"triplet\" is three identical tiles (e.g., $1,1,1$, $4,4,4$). A \"sequence\" is three tiles with consecutive ranks (e.g., $1,2,3$, $9,10,11$; note that $1$ and $n$ are not adjacent). \"Sequence\" and \"triplet\" are collectively called \"melds.\"\n\nIf you can divide your hand into several \"melds\" (duplicates allowed) plus one \"pair,\" then you can \"complete the hand\" (i.e., win).\n\nIf adding a certain tile to a hand allows it to \"complete the hand,\" then the hand is said to be \"waiting for\" that tile.\n\nNow Xiao A has randomly drawn $k$ tiles. He wants to know which tiles he is \"waiting for.\"", "inputFormat": "The first line contains two positive integers $n,k$, representing the tile range and the number of tiles in Xiao A's hand.\n\nThe next line contains $k$ integers $a_1,a_2,\\cdots,a_k$ giving Xiao A's hand. Each number represents one tile in Xiao A's hand.", "outputFormat": "Output several positive integers on the first line, indicating which tiles Xiao A is \"waiting for.\" Please output them in ascending order.\n\nIf Xiao A is not \"waiting for\" any tile, output `QAQ`.", "hint": "- Sample 1 explanation: two cases, `11/234` and `123/44`.\n- Sample 2 explanation: this shape is the \"pure Nine Gates\" (纯正九莲宝灯), so it \"waits for\" every number tile.\n\nConstraints\n\n- This problem uses bundled testdata.\n- Subtask 1 (10 pts): $1\\leq k\\leq 16$.\n- Subtask 2 (10 pts): $1\\leq k\\leq 400$.\n- Subtask 3 (30 pts): $1\\leq k\\leq 10^3$.\n- Subtask 4 (30 pts): $1\\leq k\\leq 3\\times10^4$.\n- Subtask 5 (20 pts): no special constraints.\n\nFor all testdata, $1\\leq a_i\\leq n\\leq k\\leq 2\\times10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "麻将 加强加强版", "background": "此题为 [P4050](/problem/P4050) 与 [P6454](/problem/P6454) 的加强版。\n\n小 A 喜欢打麻将。", "description": "小 A 找到了一副奇怪的麻将牌：只有一种 $1,2,\\cdots,n$ 的数牌，且每种牌都有**无穷多张**。\n\n定义「雀头」为两张一样的牌（如 $2,2$，$7,7$），「刻子」为三张一样的牌（如 $1,1,1$，$4,4,4$），「顺子」为三张序数相邻的牌（如 $1,2,3$，$9,10,11$，注意 $1$ 与 $n$ 不相邻）。「顺子」与「刻子」统称「面子」。\n\n假如你能把你的手牌分为若干组「面子」（**可以相同**）以及一组「雀头」，那么你就可以「和牌」。\n\n假如某副手牌加上某张牌后可以「和牌」，则称这副手牌「听」这张牌。\n\n现在小 A 随意摸了 $k$ 张牌，他想知道他「听」哪些牌。", "inputFormat": "第一行两个正整数 $n,k$，分别表示牌的范围和小 A 手上牌的张数。\n\n接下来一行 $k$ 个整数 $a_1,a_2,\\cdots,a_k$ 给出小 A 的手牌，每个数表示小 Z 手上的一张牌。", "outputFormat": "第一行若干个正整数，表示小 A「听」哪些牌。**请按照升序输出。**\n\n特殊地，如果小 A 不「听」任何牌，请输出 `QAQ`。", "hint": "#### 【样例解释】\n\n- 样例一解释：两种情况，`11/234` 与 `123/44`。\n- 样例二解释：此牌型为「纯正九莲宝灯」，可以「听」所有数牌。\n\n#### 【数据范围】\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$1\\leq k\\leq 16$。\n- Subtask 2（10 pts）：$1\\leq k\\leq 400$。\n- Subtask 3（30 pts）：$1\\leq k\\leq 10^3$。\n- Subtask 4（30 pts）：$1\\leq k\\leq 3\\times10^4$。\n- Subtask 5（20 pts）：无特殊限制。\n\n对于所有数据，$1\\leq a_i\\leq n\\leq k\\leq 2\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P1821", "type": "P", "difficulty": 3, "samples": [["4 8 2\n1 2 4\n1 3 2\n1 4 7\n2 1 1\n2 3 5\n3 1 2\n3 4 4\n4 2 3\n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2007", "USACO", "O2优化", "最短路"], "title": "[USACO07FEB] Cow Party S", "background": "", "description": "寒假到了，$n$ 头牛都要去参加一场在编号为 $x$ 的牛的农场举行的派对，农场之间有 $m$ 条有向路，每条路都有一定的长度。\n\n每头牛参加完派对后都必须回家，无论是去参加派对还是回家，每头牛都会选择最短路径，求这 $n$ 头牛的最短路径（一个来回）中最长的一条路径长度。\n", "inputFormat": "第一行有三个整数，分别表示牛的数量 $n$，道路数 $m$ 和派对农场编号 $x$。  \n接下来 $m$ 行，每行三个整数 $u, v, w$，表示存在一条由 $u$ 通向 $v$ 的长度为 $w$ 的道路。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/rl3com2y.png)\n\n### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\leq n \\leq 10^3$，$1 \\leq m \\leq 10^5$，$1 \\leq u,v \\leq n$，$1 \\leq w \\leq 10^2$，保证从任何一个结点出发都能到达 $x$ 号结点，且从 $x$ 出发可以到达其他所有节点。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO07FEB] Cow Party S", "background": "", "description": "Winter break has arrived, and $n$ cows are going to attend a party held at the farm of the cow numbered $x$. There are $m$ directed roads between farms, and each road has a certain length.\n\nAfter the party, every cow must return home. Whether going to the party or going back home, each cow will choose the shortest path. Among these $n$ cows, find the maximum length of a shortest round-trip path.", "inputFormat": "The first line contains three integers representing the number of cows $n$, the number of roads $m$, and the party farm index $x$.  \nThe next $m$ lines each contain three integers $u, v, w$, indicating that there is a road from $u$ to $v$ with length $w$.", "outputFormat": "Output one line with one integer representing the answer.", "hint": "Sample 1 Explanation\n![](https://cdn.luogu.com.cn/upload/image_hosting/rl3com2y.png)\n\nConstraints\nFor all test points, it is guaranteed that $1 \\leq x \\leq n \\leq 10^3$, $1 \\leq m \\leq 10^5$, $1 \\leq u, v \\leq n$, $1 \\leq w \\leq 10^2$. It is guaranteed that from any node you can reach node $x$, and from $x$ you can reach all other nodes.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO07FEB] Cow Party S", "background": "", "description": "寒假到了，$n$ 头牛都要去参加一场在编号为 $x$ 的牛的农场举行的派对，农场之间有 $m$ 条有向路，每条路都有一定的长度。\n\n每头牛参加完派对后都必须回家，无论是去参加派对还是回家，每头牛都会选择最短路径，求这 $n$ 头牛的最短路径（一个来回）中最长的一条路径长度。\n", "inputFormat": "第一行有三个整数，分别表示牛的数量 $n$，道路数 $m$ 和派对农场编号 $x$。  \n接下来 $m$ 行，每行三个整数 $u, v, w$，表示存在一条由 $u$ 通向 $v$ 的长度为 $w$ 的道路。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/rl3com2y.png)\n\n### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\leq n \\leq 10^3$，$1 \\leq m \\leq 10^5$，$1 \\leq u,v \\leq n$，$1 \\leq w \\leq 10^2$，保证从任何一个结点出发都能到达 $x$ 号结点，且从 $x$ 出发可以到达其他所有节点。", "locale": "zh-CN"}}}
{"pid": "P1822", "type": "P", "difficulty": 6, "samples": [["1\n9", "1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "广度优先搜索 BFS"], "title": "魔法指纹", "background": null, "description": "对于任意一个至少两位的正整数 $n$，按如下方式定义 $\\mathrm{magic}(n)$：将 $n$ 按十进制顺序写下来，依次对相邻两个数写下差的绝对值。这样，得到了一个新数，去掉前导 $0$，则定义为 $\\mathrm{magic}(n)$。特别地，若 $n$ 为一位数，则 $\\mathrm{magic}(n)=n$。\n\n例如：$\\mathrm{magic}(5913)=482$，$\\mathrm{magic}(1198)=081=81$，$\\mathrm{magic}(666)=00=0$。\n\n对任意一个数 $n$，反复迭代计算 $\\mathrm{magic}$ 值直到 $n$ 变成一个一位数，可以得到一个序列 $[n,\\mathrm{magic}(n),\\mathrm{magic}(\\mathrm{magic}(n)),\\cdots]$。最后的这个值称为数 $n$ 的 $\\mathrm{magic}$ 指纹。\n\n例如，对于 $n=5913$，我们得到序列：$[5913,482,46,2]$。所以 $5913$ 的 $\\mathrm{magic}$ 指纹为 $2$。\n\n若一个数的 $\\mathrm{magic}$ 指纹为 $7$，则认为这个数是个幸运数。\n\n现在，给定 $A,B$，计算出 $[A,B]$ 中有多少个数是幸运数。", "inputFormat": "输入两行，每行一个数。第一行是 $A$，第二行表示 $B$。", "outputFormat": "输出 $[A,B]$ 中有多少个数是幸运数。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 数据，$B \\le 10^4$。\n- 对于 $100\\%$ 数据，$0<A \\le B \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Magic Fingerprint", "background": "", "description": "For any positive integer $n$ with at least two digits, define $\\mathrm{magic}(n)$ as follows: write down the digits of $n$ in decimal order, and for each adjacent pair of digits, write the absolute value of their difference. This yields a new number; remove any leading zeros, and define the result as $\\mathrm{magic}(n)$. In particular, if $n$ is a single-digit number, then $\\mathrm{magic}(n)=n$.\n\nFor example: $\\mathrm{magic}(5913)=482$, $\\mathrm{magic}(1198)=081=81$, $\\mathrm{magic}(666)=00=0$.\n\nFor any number $n$, repeatedly apply $\\mathrm{magic}$ until $n$ becomes a single-digit number; this produces a sequence $[n,\\mathrm{magic}(n),\\mathrm{magic}(\\mathrm{magic}(n)),\\cdots]$. The final value is called the $\\mathrm{magic}$ fingerprint of $n$.\n\nFor example, for $n=5913$, we get the sequence $[5913,482,46,2]$. Thus, the $\\mathrm{magic}$ fingerprint of $5913$ is $2$.\n\nIf a number’s $\\mathrm{magic}$ fingerprint is $7$, we consider it a lucky number.\n\nNow, given $A, B$, compute how many numbers in $[A,B]$ are lucky numbers.", "inputFormat": "The input consists of two lines, one number per line. The first line is $A$, and the second line is $B$.", "outputFormat": "Output how many numbers in $[A,B]$ are lucky numbers.", "hint": "### Constraints and Conventions\n\n- For $30\\%$ of the testdata, $B \\le 10^4$.\n- For $100\\%$ of the testdata, $0 < A \\le B \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "魔法指纹", "background": null, "description": "对于任意一个至少两位的正整数 $n$，按如下方式定义 $\\mathrm{magic}(n)$：将 $n$ 按十进制顺序写下来，依次对相邻两个数写下差的绝对值。这样，得到了一个新数，去掉前导 $0$，则定义为 $\\mathrm{magic}(n)$。特别地，若 $n$ 为一位数，则 $\\mathrm{magic}(n)=n$。\n\n例如：$\\mathrm{magic}(5913)=482$，$\\mathrm{magic}(1198)=081=81$，$\\mathrm{magic}(666)=00=0$。\n\n对任意一个数 $n$，反复迭代计算 $\\mathrm{magic}$ 值直到 $n$ 变成一个一位数，可以得到一个序列 $[n,\\mathrm{magic}(n),\\mathrm{magic}(\\mathrm{magic}(n)),\\cdots]$。最后的这个值称为数 $n$ 的 $\\mathrm{magic}$ 指纹。\n\n例如，对于 $n=5913$，我们得到序列：$[5913,482,46,2]$。所以 $5913$ 的 $\\mathrm{magic}$ 指纹为 $2$。\n\n若一个数的 $\\mathrm{magic}$ 指纹为 $7$，则认为这个数是个幸运数。\n\n现在，给定 $A,B$，计算出 $[A,B]$ 中有多少个数是幸运数。", "inputFormat": "输入两行，每行一个数。第一行是 $A$，第二行表示 $B$。", "outputFormat": "输出 $[A,B]$ 中有多少个数是幸运数。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 数据，$B \\le 10^4$。\n- 对于 $100\\%$ 数据，$0<A \\le B \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1823", "type": "P", "difficulty": 4, "samples": [["7 \n2 \n4 \n1 \n2 \n2 \n5 \n1", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "单调栈", "COI（克罗地亚）"], "title": "[COI 2007] Patrik 音乐会的等待", "background": "", "description": "$n$ 个人正在排队进入一个音乐会。人们等得很无聊，于是他们开始转来转去，想在队伍里寻找自己的熟人。\n\n队列中任意两个人 $a$ 和 $b$，如果他们是相邻或他们之间没有人比 $a$ 或 $b$ 高，那么他们是可以互相看得见的。\n\n写一个程序计算出有多少对人可以互相看见。", "inputFormat": "输入的第一行包含一个整数 $n$，表示队伍中共有 $n$ 个人。\n\n接下来的 $n$ 行中，每行包含一个整数，表示人的高度，以毫微米(等于 $10^{-9}$ 米)为单位，这些高度分别表示队伍中人的身高。", "outputFormat": "输出仅有一行，包含一个数 $s$，表示队伍中共有 $s$ 对人可以互相看见。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\le$ 每个人的高度 $< 2^{31}$，$1 \\le n \\le 5\\times 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[COI 2007] Patrik: Waiting at the Concert", "background": "", "description": "$n$ people are standing in a queue to enter a concert. People are bored, so they start turning around to look for their acquaintances in the line.\n\nFor any two people $a$ and $b$ in the queue, they can see each other if they are adjacent, or if there is no one between them who is taller than both $a$ and $b$.\n\nWrite a program to compute how many pairs of people can see each other.", "inputFormat": "The first line contains an integer $n$, the number of people in the queue.\n\nEach of the next $n$ lines contains an integer, the height of a person, in nanometers (equal to $10^{-9}$ meters). These heights correspond to the people in the queue.", "outputFormat": "Output a single line containing a number $s$, the total number of pairs of people who can see each other.", "hint": "Constraints\n\nFor all test points, $1 \\le$ each person’s height $< 2^{31}$, and $1 \\le n \\le 5 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COI 2007] Patrik 音乐会的等待", "background": "", "description": "$n$ 个人正在排队进入一个音乐会。人们等得很无聊，于是他们开始转来转去，想在队伍里寻找自己的熟人。\n\n队列中任意两个人 $a$ 和 $b$，如果他们是相邻或他们之间没有人比 $a$ 或 $b$ 高，那么他们是可以互相看得见的。\n\n写一个程序计算出有多少对人可以互相看见。", "inputFormat": "输入的第一行包含一个整数 $n$，表示队伍中共有 $n$ 个人。\n\n接下来的 $n$ 行中，每行包含一个整数，表示人的高度，以毫微米(等于 $10^{-9}$ 米)为单位，这些高度分别表示队伍中人的身高。", "outputFormat": "输出仅有一行，包含一个数 $s$，表示队伍中共有 $s$ 对人可以互相看见。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\le$ 每个人的高度 $< 2^{31}$，$1 \\le n \\le 5\\times 10^5$。", "locale": "zh-CN"}}}
