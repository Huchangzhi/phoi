{"pid": "P6382", "type": "P", "difficulty": 1, "samples": [["MDA7U16D\n", "0 0 0 1 0\n"], ["ZJOI2020", "1 1 1 1 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "洛谷月赛"], "title": "『MdOI R2』Car", "background": "", "description": "在 MdOI 市，为了推行环保，在城区内将限制某些车辆的通行，简称限行。一辆车是否被限行的依据是车牌号和当天的日期。\n\n车牌号的编码方式是这样的：\n\n- 前三位均为大写字母，表示所在的地区。\n\n- 后五位为大写字母或数字，为识别码。**保证至少有一个数字**。\n\n- 车牌号的尾号是从右往左的第一个数字。\n\nMdOI 市在本题的编码方式下前三位是 `MDA`。例如，MdOI 市有一辆识别码为 `6780P` 的车，它的车牌号就是 `MDA6780P`，尾号是 $0$。\n\n在 MdOI 市，限行规则如下：\n\n1. 对于外来车（即前三位编号非 `MDA`），工作日（星期一至星期五）均限行。\n2. 对于其他本地车，每天会限行某些尾号的汽车。星期一至星期五的限行尾号如下：\n\n|   日期   |   星期一   |   星期二   |   星期三   |   星期四   |   星期五   |\n| :------: | :--------: | :--------: | :--------: | :--------: | :--------: |\n| 限行尾号 | $1$ 和 $9$ | $2$ 和 $8$ | $3$ 和 $7$ | $4$ 和 $6$ | $5$ 和 $0$ |\n\n小 C 告诉了你她的车牌号，她想知道，她的车在星期一到星期五中的哪些日期会被限行。请你帮帮她。\n\n", "inputFormat": "一行一个长度为 $8$ 的字符串，表示小 C 的车牌号。", "outputFormat": "输出 $5$ 个数字，每个数字为 $0$ 或 $1$，分别表示星期一至星期五小 C 的车是否被限行。$1$ 表示限行，$0$ 表示不限行。", "hint": "【帮助与提示】\n\n为方便选手调试代码，本题额外提供三组样例。由于样例较小，故放在一个剪贴板内。\n\n[附加样例](https://www.luogu.com.cn/paste/g8pxrrh3)\n\n---\n\n【样例解释】\n   \n对于样例一，这个车牌号前三位为 `MDA`，因此是本地车牌。而尾号是 $6$，因此周四被限行。   \n  \n对于样例二，这个车牌号前三位为 `ZJO`，是外地车牌，因此周一至周五均被限行。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试，即通过一个子任务的所有测试点才能拿到对应的分数。**\n|子任务编号|特殊性质|分值|\n|:-:|:-:|:-:|\n|Subtask 1|前 $3$ 位不是`MDA`|$30$|\n|Subtask 2|最后一位一定是数字|$30$|\n|Subtask 3|无|$40$|\n\n对于所有数据，满足前三位一定是大写英文字母，后面五位可能包含大写字母或者数字，且至少有一个数字。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Car", "background": "", "description": "在 MdOI 市，为了推行环保，在城区内将限制某些车辆的通行，简称限行。一辆车是否被限行的依据是车牌号和当天的日期。\n\n车牌号的编码方式是这样的：\n\n- 前三位均为大写字母，表示所在的地区。\n\n- 后五位为大写字母或数字，为识别码。**保证至少有一个数字**。\n\n- 车牌号的尾号是从右往左的第一个数字。\n\nMdOI 市在本题的编码方式下前三位是 `MDA`。例如，MdOI 市有一辆识别码为 `6780P` 的车，它的车牌号就是 `MDA6780P`，尾号是 $0$。\n\n在 MdOI 市，限行规则如下：\n\n1. 对于外来车（即前三位编号非 `MDA`），工作日（星期一至星期五）均限行。\n2. 对于其他本地车，每天会限行某些尾号的汽车。星期一至星期五的限行尾号如下：\n\n|   日期   |   星期一   |   星期二   |   星期三   |   星期四   |   星期五   |\n| :------: | :--------: | :--------: | :--------: | :--------: | :--------: |\n| 限行尾号 | $1$ 和 $9$ | $2$ 和 $8$ | $3$ 和 $7$ | $4$ 和 $6$ | $5$ 和 $0$ |\n\n小 C 告诉了你她的车牌号，她想知道，她的车在星期一到星期五中的哪些日期会被限行。请你帮帮她。\n\n", "inputFormat": "一行一个长度为 $8$ 的字符串，表示小 C 的车牌号。", "outputFormat": "输出 $5$ 个数字，每个数字为 $0$ 或 $1$，分别表示星期一至星期五小 C 的车是否被限行。$1$ 表示限行，$0$ 表示不限行。", "hint": "【帮助与提示】\n\n为方便选手调试代码，本题额外提供三组样例。由于样例较小，故放在一个剪贴板内。\n\n[附加样例](https://www.luogu.com.cn/paste/g8pxrrh3)\n\n---\n\n【样例解释】\n   \n对于样例一，这个车牌号前三位为 `MDA`，因此是本地车牌。而尾号是 $6$，因此周四被限行。   \n  \n对于样例二，这个车牌号前三位为 `ZJO`，是外地车牌，因此周一至周五均被限行。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试，即通过一个子任务的所有测试点才能拿到对应的分数。**\n|子任务编号|特殊性质|分值|\n|:-:|:-:|:-:|\n|Subtask 1|前 $3$ 位不是`MDA`|$30$|\n|Subtask 2|最后一位一定是数字|$30$|\n|Subtask 3|无|$40$|\n\n对于所有数据，满足前三位一定是大写英文字母，后面五位可能包含大写字母或者数字，且至少有一个数字。", "locale": "zh-CN"}}}
{"pid": "P6383", "type": "P", "difficulty": 6, "samples": [["4\n1 4\n2 3\n3 4\n", "2"], ["11\n1 4\n2 6\n3 11\n4 6\n5 6\n6 7\n7 9\n8 9\n9 10\n10 11\n", "4605"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "树形数据结构", "构造", "洛谷月赛"], "title": "『MdOI R2』Resurrection", "background": "如果你不清楚本题的某些定义，可以阅读【说明/提示】部分。", "description": "有一棵包含 $n$ 个节点的树 $T$，它的所有边依次编号为 $1$ 至 $n-1$。\n\n保证对于 $T$ 中任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n按照如下步骤生成一张包含 $n$ 个节点的无向图 $G$：\n\n选取一个 $1 \\sim n-1$ 的排列 $p$，然后依次进行 $n-1$ 次操作。在进行第 $i$ 次操作时，首先删除树 $T$ 中编号为 $p_i$ 的边 $(a,b)$，然后，记 $u$ 和 $v$ 分别为当前树 $T$ 中与 $a,b$ 联通的所有点中，编号最大的点，并在图 $G$ 的 $u$ 号点和 $v$ 号点之间连一条边。\n\n求对于给定的树 $T$，按上述方式一共可以生成多少种本质不同的图 $G$。图 $G_1$ 和 $G_2$ 本质不同当且仅当存在 $u$ 和 $v$ 满足在 $G_1$ 中不存在边 $(u,v)$，而 $G_2$ 中存在。 \n\n因为答案可能很大，你只需要求出答案对 $998244353$ 取模的值。\n", "inputFormat": "第一行一个整数 $n$，表示树 $T$ 中的节点数量。\n\n接下来 $n-1$ 行，第 $i$ 行两个整数 $u,v$，表示在 $T$ 中编号为 $i$ 的边是 $(u,v)$。", "outputFormat": "一行一个整数，答案对 $998244353$ 取模的值。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。  \n\n[样例输入](https://www.luogu.com.cn/paste/09anxo5k) [样例输出](https://www.luogu.com.cn/paste/3idipkty)      \n\n---\n\n【样例解释】\n\n样例一中可能生成的图 $G$ 如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aaq591b7.png)\n\n当 $p = \\{1,2,3\\},\\{2,1,3\\},\\{2,3,1\\}$ 时将生成右侧的图，否则将生成左侧的图。\n\n对于样例二，我有一个绝妙的解释，只可惜这里空白的位置太小，写不下。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n \\leq 3 \\times 10^3$，$1 \\leq u,v \\leq n$。\n\n保证，输入的边形成一棵树，且对于任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n| 子任务编号 | $n\\leq$ |         特殊性质          | 分值 |\n| :--------: | :-----: | :-----------------------: | :--: |\n| Subtask 1  |   $5$   |            无             | $32$ |\n| Subtask 2  |  $14$   |            无             | $16$ |\n| Subtask 3  | $10^3$  | 所有节点都与 $n$ 号点直接相连 | $1$  |\n| Subtask 4  | $10^3$  |     树的形态是一条链      | $7$  |\n| Subtask 5  |  $50$   |            无             | $22$ |\n| Subtask 6  | $3 \\times 10^3$  |            无             | $22$ |\n\n---\n\n下面是本题用到的一些定义：\n\n- 一棵树是一张有 $n$ 个节点，$n-1$ 条边的无向连通图。\n\n- 边 $(u,v)$ 表示连接点 $u$ 和点 $v$ 的一条边。\n\n- 一条路径是一个序列 $p_1,p_2 \\ldots p_k$ ，满足对于任意 $1 \\leq i < k$，边 $(p_i,p_{i+1})$ 都存在于 $T$ 中，且 **没有被之前的操作删除**。\n\n- 点 $u$ 和 $v$ 联通当且仅当存在一条路径 $p_1,p_2 \\ldots p_k$ 满足 $p_1=u$ 且 $p_k=v$。任何一个点都和自己联通。\n\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Resurrection", "background": "如果你不清楚本题的某些定义，可以阅读【说明/提示】部分。", "description": "有一棵包含 $n$ 个节点的树 $T$，它的所有边依次编号为 $1$ 至 $n-1$。\n\n保证对于 $T$ 中任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n按照如下步骤生成一张包含 $n$ 个节点的无向图 $G$：\n\n选取一个 $1 \\sim n-1$ 的排列 $p$，然后依次进行 $n-1$ 次操作。在进行第 $i$ 次操作时，首先删除树 $T$ 中编号为 $p_i$ 的边 $(a,b)$，然后，记 $u$ 和 $v$ 分别为当前树 $T$ 中与 $a,b$ 联通的所有点中，编号最大的点，并在图 $G$ 的 $u$ 号点和 $v$ 号点之间连一条边。\n\n求对于给定的树 $T$，按上述方式一共可以生成多少种本质不同的图 $G$。图 $G_1$ 和 $G_2$ 本质不同当且仅当存在 $u$ 和 $v$ 满足在 $G_1$ 中不存在边 $(u,v)$，而 $G_2$ 中存在。 \n\n因为答案可能很大，你只需要求出答案对 $998244353$ 取模的值。\n", "inputFormat": "第一行一个整数 $n$，表示树 $T$ 中的节点数量。\n\n接下来 $n-1$ 行，第 $i$ 行两个整数 $u,v$，表示在 $T$ 中编号为 $i$ 的边是 $(u,v)$。", "outputFormat": "一行一个整数，答案对 $998244353$ 取模的值。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。  \n\n[样例输入](https://www.luogu.com.cn/paste/09anxo5k) [样例输出](https://www.luogu.com.cn/paste/3idipkty)      \n\n---\n\n【样例解释】\n\n样例一中可能生成的图 $G$ 如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aaq591b7.png)\n\n当 $p = \\{1,2,3\\},\\{2,1,3\\},\\{2,3,1\\}$ 时将生成右侧的图，否则将生成左侧的图。\n\n对于样例二，我有一个绝妙的解释，只可惜这里空白的位置太小，写不下。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n \\leq 3 \\times 10^3$，$1 \\leq u,v \\leq n$。\n\n保证，输入的边形成一棵树，且对于任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n| 子任务编号 | $n\\leq$ |         特殊性质          | 分值 |\n| :--------: | :-----: | :-----------------------: | :--: |\n| Subtask 1  |   $5$   |            无             | $32$ |\n| Subtask 2  |  $14$   |            无             | $16$ |\n| Subtask 3  | $10^3$  | 所有节点都与 $n$ 号点直接相连 | $1$  |\n| Subtask 4  | $10^3$  |     树的形态是一条链      | $7$  |\n| Subtask 5  |  $50$   |            无             | $22$ |\n| Subtask 6  | $3 \\times 10^3$  |            无             | $22$ |\n\n---\n\n下面是本题用到的一些定义：\n\n- 一棵树是一张有 $n$ 个节点，$n-1$ 条边的无向连通图。\n\n- 边 $(u,v)$ 表示连接点 $u$ 和点 $v$ 的一条边。\n\n- 一条路径是一个序列 $p_1,p_2 \\ldots p_k$ ，满足对于任意 $1 \\leq i < k$，边 $(p_i,p_{i+1})$ 都存在于 $T$ 中，且 **没有被之前的操作删除**。\n\n- 点 $u$ 和 $v$ 联通当且仅当存在一条路径 $p_1,p_2 \\ldots p_k$ 满足 $p_1=u$ 且 $p_k=v$。任何一个点都和自己联通。\n\n\n\n", "locale": "zh-CN"}}}
{"pid": "P6384", "type": "P", "difficulty": 7, "samples": [["6\n4 4\n2 4 4\n3 4\n1\n2 4 4\n3 4", "2304\n64\n186\n32\n72"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "矩阵运算", "O2优化", "莫比乌斯反演", "线性代数", "高斯消元", "洛谷月赛", "杜教筛"], "title": "『MdOI R2』Quo Vadis", "background": "「终于……终于要到离别的时候了呢。」\n\n『好吧。这一次过去之后，我们可能就再也不能相会了呢……』\n\n「无论如何，还是要离别的……」\n\n『我理解你。感谢你这些天陪伴在我身旁。』\n\n「我也一样。如果可以的话，我真希望能继续陪伴在你身边。」\n\n『分别之后，我也不是现在的我了……』\n\n『至少不像现在这样。』\n\n「离开你之后，我也不会像现在这样了……」\n\n『君往何处？君欲往何处？君莫走，君莫走！若要走，请带上我！』\n\n……\n\n「所以……所以现在我们该怎么办？」\n\n『就让我们纵然歌舞于其中吧！』\n\n耳畔响起了小提琴和手风琴的声音，它是那么熟悉，而又那么陌生……", "description": "在小 M 离别之前，他给小 K 留了一张纸条——\n\n如果你能完成他的话，我将有可能会再次与你相遇。\n\n给定一个**无限大**的矩阵 $A$，其中 $A_{i,j}=ij\\gcd(i,j)$。\n\n接下来有 $m$ 个操作，每行 $1$ 至 $3$ 个整数，意义如下：\n\n$1$：对矩阵 $A$ 进行高斯消元，使之成为一个上三角矩阵。\n\n**注意**：这里，高斯消元中只允许将一行的某一个倍数加到另一行上，不允许交换任意两行，不允许将某行乘上一个倍数，保证这样之后仍然可以得到上三角矩阵，并且保证消元之后的矩阵的每个元素均为非负整数。\n\n$2\\ x\\ y$：求出当前矩阵的 $A_{x,y}$。\n\n$3\\ x$：求出 $\\sum\\limits_{i=1}^{x}\\sum\\limits_{j=1}^{x}A_{i,j}$。\n\n$4\\ x$：设 $B$ 是一个 $x$ 阶矩阵，其中 $B_{i,j}=A_{i,j}$，你需要求出 $\\det B$。   \n\n**上述所有答案对 $998244353$ 取模**。\n\n如果你不知道什么是行列式，请点[这里](https://oi-wiki.org/math/gauss/#_12)，其中 $\\text{det}$ 表示求矩阵的行列式。\n\n~~在你完成了小 M 给小 K 的任务之后，你可以来看小提琴和手风琴的谱子。~~", "inputFormat": "第一行一个整数 $m$。\n\n接下来 $m$ 行，每行 $1\\sim 3$ 个整数，表示操作。", "outputFormat": "若干行，表示你的答案对 $998244353$ 取模后的值。", "hint": "【帮助与提示】     \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。\n\n[样例输入1](https://www.luogu.com.cn/paste/p2w7kxik) [样例输出1](https://www.luogu.com.cn/paste/2tqpm5zj)\n\n[样例输入2](https://www.luogu.com.cn/paste/u20duxjv) [样例输出2](https://www.luogu.com.cn/paste/jcn7ohaw)\n\n-----\n\n【样例解释】\n\n注意到询问的 $x$ 和 $y$ 范围都不大于 $4$，所以我们考虑使用 $A$ 左上角的 $4\\times 4$ 子矩阵进行解释，容易证明这不会造成任何影响。\n\n在高斯消元之前，矩阵为 $\\begin{pmatrix}1&2&3&4\\\\2&8&6&16\\\\3&6&27&12\\\\4&16&12&64\\end{pmatrix}$，高斯消元后则为 $\\begin{pmatrix}1&2&3&4\\\\0&4&0&8\\\\0&0&18&0\\\\0&0&0&32\\end{pmatrix}$。\n\n----\n\n【数据范围】\n\n| 子任务编号 | $1$ 操作是否存在 | $1$ 操作前 $2$ 操作中 $x,y \\leq$ | $1$ 操作后 $2$ 操作中 $x,y \\leq$ | $1$ 操作前 $3$ 操作中 $x \\leq$ | $1$ 操作后 $3$ 操作中 $x \\leq$ | $4$ 操作中 $x \\leq$ | 分值 |\n| :--------: | :--------------: | :------------------------------: | :------------------------------: |  :------------------------------:  | :----------------------------: | :-------------------: | :----: |\n| Subtask 1  |        否        |              $5000$              |              不存在              |             $500$              |             不存在             | 不存在              | $4$  |\n| Subtask 2  |        否        |            $10^{18}$             |              不存在              |             $500$              |             不存在             | 不存在              | $13$ |\n| Subtask 3  |        否        |            $10^{18}$             |              不存在              |        $5 \\times 10^6$         |             不存在             | $50$                | $15$ |\n| Subtask 4  |        否        |            $10^{18}$             |              不存在              |             $10^8$             |             不存在             | $100$               | $16$ |\n| Subtask 5  |        是        |            $10^{18}$             |              $100$               |        $5 \\times 10^6$         |             $100$              | 不存在              | $17$ |\n| Subtask 6  |        是        |            $10^{18}$             |          $5\\times 10^5$          |             $10^8$             |             $10^3$             | $100$               | $17$ |\n| Subtask 7  |        是        |            $10^{18}$             |              $5 \\times 10^6$              |             $10^8$             |         $5\\times 10^6$         | $5\\times 10^6$      | $18$ |\n\n对于 $100\\%$ 的数据，$1 \\leq m\\leq 10^5$，$1$ 操作前的所有 $3$ 操作中 $\\sum x$ 不大于每一个测试点 $x$ 范围的 $10$ 倍。\n\n保证 $1$ 操作出现不超过 $1$ 次。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Quo Vadis", "background": "「终于……终于要到离别的时候了呢。」\n\n『好吧。这一次过去之后，我们可能就再也不能相会了呢……』\n\n「无论如何，还是要离别的……」\n\n『我理解你。感谢你这些天陪伴在我身旁。』\n\n「我也一样。如果可以的话，我真希望能继续陪伴在你身边。」\n\n『分别之后，我也不是现在的我了……』\n\n『至少不像现在这样。』\n\n「离开你之后，我也不会像现在这样了……」\n\n『君往何处？君欲往何处？君莫走，君莫走！若要走，请带上我！』\n\n……\n\n「所以……所以现在我们该怎么办？」\n\n『就让我们纵然歌舞于其中吧！』\n\n耳畔响起了小提琴和手风琴的声音，它是那么熟悉，而又那么陌生……", "description": "在小 M 离别之前，他给小 K 留了一张纸条——\n\n如果你能完成他的话，我将有可能会再次与你相遇。\n\n给定一个**无限大**的矩阵 $A$，其中 $A_{i,j}=ij\\gcd(i,j)$。\n\n接下来有 $m$ 个操作，每行 $1$ 至 $3$ 个整数，意义如下：\n\n$1$：对矩阵 $A$ 进行高斯消元，使之成为一个上三角矩阵。\n\n**注意**：这里，高斯消元中只允许将一行的某一个倍数加到另一行上，不允许交换任意两行，不允许将某行乘上一个倍数，保证这样之后仍然可以得到上三角矩阵，并且保证消元之后的矩阵的每个元素均为非负整数。\n\n$2\\ x\\ y$：求出当前矩阵的 $A_{x,y}$。\n\n$3\\ x$：求出 $\\sum\\limits_{i=1}^{x}\\sum\\limits_{j=1}^{x}A_{i,j}$。\n\n$4\\ x$：设 $B$ 是一个 $x$ 阶矩阵，其中 $B_{i,j}=A_{i,j}$，你需要求出 $\\det B$。   \n\n**上述所有答案对 $998244353$ 取模**。\n\n如果你不知道什么是行列式，请点[这里](https://oi-wiki.org/math/gauss/#_12)，其中 $\\text{det}$ 表示求矩阵的行列式。\n\n~~在你完成了小 M 给小 K 的任务之后，你可以来看小提琴和手风琴的谱子。~~", "inputFormat": "第一行一个整数 $m$。\n\n接下来 $m$ 行，每行 $1\\sim 3$ 个整数，表示操作。", "outputFormat": "若干行，表示你的答案对 $998244353$ 取模后的值。", "hint": "【帮助与提示】     \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。\n\n[样例输入1](https://www.luogu.com.cn/paste/p2w7kxik) [样例输出1](https://www.luogu.com.cn/paste/2tqpm5zj)\n\n[样例输入2](https://www.luogu.com.cn/paste/u20duxjv) [样例输出2](https://www.luogu.com.cn/paste/jcn7ohaw)\n\n-----\n\n【样例解释】\n\n注意到询问的 $x$ 和 $y$ 范围都不大于 $4$，所以我们考虑使用 $A$ 左上角的 $4\\times 4$ 子矩阵进行解释，容易证明这不会造成任何影响。\n\n在高斯消元之前，矩阵为 $\\begin{pmatrix}1&2&3&4\\\\2&8&6&16\\\\3&6&27&12\\\\4&16&12&64\\end{pmatrix}$，高斯消元后则为 $\\begin{pmatrix}1&2&3&4\\\\0&4&0&8\\\\0&0&18&0\\\\0&0&0&32\\end{pmatrix}$。\n\n----\n\n【数据范围】\n\n| 子任务编号 | $1$ 操作是否存在 | $1$ 操作前 $2$ 操作中 $x,y \\leq$ | $1$ 操作后 $2$ 操作中 $x,y \\leq$ | $1$ 操作前 $3$ 操作中 $x \\leq$ | $1$ 操作后 $3$ 操作中 $x \\leq$ | $4$ 操作中 $x \\leq$ | 分值 |\n| :--------: | :--------------: | :------------------------------: | :------------------------------: |  :------------------------------:  | :----------------------------: | :-------------------: | :----: |\n| Subtask 1  |        否        |              $5000$              |              不存在              |             $500$              |             不存在             | 不存在              | $4$  |\n| Subtask 2  |        否        |            $10^{18}$             |              不存在              |             $500$              |             不存在             | 不存在              | $13$ |\n| Subtask 3  |        否        |            $10^{18}$             |              不存在              |        $5 \\times 10^6$         |             不存在             | $50$                | $15$ |\n| Subtask 4  |        否        |            $10^{18}$             |              不存在              |             $10^8$             |             不存在             | $100$               | $16$ |\n| Subtask 5  |        是        |            $10^{18}$             |              $100$               |        $5 \\times 10^6$         |             $100$              | 不存在              | $17$ |\n| Subtask 6  |        是        |            $10^{18}$             |          $5\\times 10^5$          |             $10^8$             |             $10^3$             | $100$               | $17$ |\n| Subtask 7  |        是        |            $10^{18}$             |              $5 \\times 10^6$              |             $10^8$             |         $5\\times 10^6$         | $5\\times 10^6$      | $18$ |\n\n对于 $100\\%$ 的数据，$1 \\leq m\\leq 10^5$，$1$ 操作前的所有 $3$ 操作中 $\\sum x$ 不大于每一个测试点 $x$ 范围的 $10$ 倍。\n\n保证 $1$ 操作出现不超过 $1$ 次。", "locale": "zh-CN"}}}
{"pid": "P6385", "type": "P", "difficulty": 7, "samples": [["8 2\ndacdaaaa\n5 8 1\n1 4 5", "5\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 3000, 2000, 2000, 2000, 2000, 2000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["字符串", "动态规划 DP", "贪心", "后缀自动机 SAM", "O2优化", "广度优先搜索 BFS", "动态树 LCT", "分块", "后缀树", "洛谷月赛"], "title": "『MdOI R2』Little Goth", "background": "小 M 和小 B 是一对好朋友，她们很喜欢爬山。", "description": "山可以抽象为一个长为 $n$ 的字符串 $S$，串中仅包含小写字母。\n\n对于一个字符串 $S$，我们定义 $|S|$ 表示串的长度，$S_{L\\ldots R}$ 表示由 $S$ 中从左往右数，第 $L$ 个字符到第 $R$ 个字符依次连接形成的字符串。\n\n小 M 一开始的位置是 $i$，她想要到达位置在 $k$ 处的山顶，而小 B 则要帮助她。为此，她们需要进行一系列操作。\n\n她们**必须**在所有操作之前使用**一次**位于 $p$ 处的传送法阵，通过施展法术，可以使小 B 的位置变为任意满足 $j \\geq i$ 且 $S_{i \\ldots j} = S_{p \\ldots p + (j-i)}$ 的 $j$。但同时，她们需要付出 $n-j$ 的代价。保证这样的 $j$ 存在。\n\n之后，假设小 M ，小 B 的位置分别为 $i$ 和 $j$，她们可以任意次进行下列操作中的一种：\n\n- 让小 M 爬，即令 $i=i+1$ 或 $i = i-1$。如果这一步操作之后 $i>j$，则 令 $j=i$。\n\n- 让小 B 爬，即令 $j=j+1$ 或 $j=j-1$。如果这一步操作之后 $i>j$，则令 $i=j$。\n\n- 使用螺旋升天，具体而言，选择两个下标 $l$ 和 $r$，满足 $S_{l \\ldots r} = S_{i \\ldots j}$，然后令 $i=l,j=r$。\n\n出于某些原因，任何一次操作结束后，需要保证 $1 \\leq i , j \\leq n$。进行一次上述任意一种操作，都需要付出 $1$ 的代价。\n\n爬山是很累的，因此她们想知道，至少需要付出多少代价才能让小 M 到达山顶，也就是让 $i=k$。又因为她们很喜欢爬山，她们有很多组询问要问你。", "inputFormat": "第一行两个整数，$n$ 和 $q$，表示串 $S$ 的长度和询问的个数。\n\n第二行一个长度为 $n$ 的字符串 $S$，仅包含小写字母。\n\n接下来 $q$ 行，每行三个整数 $i,p$ 和 $k$，表明小 M 的位置，传送法阵位置和山顶的位置。", "outputFormat": "共 $q$ 行，第 $i$ 行一个整数，表示对于第 $i$ 个询问给定的 $i,p$ 和 $k$，至少需要付出多少代价，才能让小 M 到达山顶，也就是，让小 M 的位置 $i=k$。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/j7u8z9ir) [样例输出](https://www.luogu.com.cn/paste/fh19p0a4)\n\n--------\n【样例解释】\n\n对于样例的第一组询问，使用传送法术时，只能令 $j=5$，付出 $8-5=3$ 的代价。之后，首先使用一次第三种操作，选择 $l=2,r=2$，令 $i=l,j=r$，然后使用一次第一种操作，令 $i-1$，即可使 $i=k$，一共付出 $5$ 的代价。\n\n对于第二组询问，可以选择 $j=2$，付出 $8-2=6$ 的代价，然后使用一次第三种操作，选取 $l=4,r=5$ 并使 $i=l,j=r$，然后进行一次第一种操作，令 $i+1$ 即可使 $i=k$。一共付出 $8$ 的代价。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n,q \\leq 3\\times 10^4$，$S$ 中仅包含小写字母。\n\n| 子任务编号 |      $n\\leq$      |     $q \\leq$      |      特殊性质       | 分值 | 时间限制 |\n| :--------: | :---------------: | :---------------: | :-----------------: | :--: | :------: |\n| Subtask 1  |       $15$        |       $15$        |         无          | $3$  |    1s    |\n| Subtask 2  |       $80$        |       $80$        |         无          | $14$ |    1s    |\n| Subtask 3  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |   $S$ 中仅包含`a`   | $8$  |    3s    |\n| Subtask 4  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |        $S_1$        | $7$ |    3s    |\n| Subtask 5  |       $400$       |       $400$       |         无          | $9$  |    1s    |\n| Subtask 6  |  $2\\times 10^4$   |  $2 \\times 10^4$  | 所有询问的 $k$ 相同 | $10$ |    3s    |\n| Subtask 7  |      $10^3$       |      $10^3$       |         无          | $10$ |    2s    |\n| Subtask 8  | $1.5 \\times 10^4$ | $1.5 \\times 10^4$ |         无          | $11$ |    3s    |\n| Subtask 9  |  $3 \\times 10^4$  |  $3 \\times 10^4$  |         无          | $28$ |    3s    |\n\n\n\n性质 $S_1$ 是，对于给定的 $p$，满足条件的 $j$ 唯一。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Little Goth", "background": "小 M 和小 B 是一对好朋友，她们很喜欢爬山。", "description": "山可以抽象为一个长为 $n$ 的字符串 $S$，串中仅包含小写字母。\n\n对于一个字符串 $S$，我们定义 $|S|$ 表示串的长度，$S_{L\\ldots R}$ 表示由 $S$ 中从左往右数，第 $L$ 个字符到第 $R$ 个字符依次连接形成的字符串。\n\n小 M 一开始的位置是 $i$，她想要到达位置在 $k$ 处的山顶，而小 B 则要帮助她。为此，她们需要进行一系列操作。\n\n她们**必须**在所有操作之前使用**一次**位于 $p$ 处的传送法阵，通过施展法术，可以使小 B 的位置变为任意满足 $j \\geq i$ 且 $S_{i \\ldots j} = S_{p \\ldots p + (j-i)}$ 的 $j$。但同时，她们需要付出 $n-j$ 的代价。保证这样的 $j$ 存在。\n\n之后，假设小 M ，小 B 的位置分别为 $i$ 和 $j$，她们可以任意次进行下列操作中的一种：\n\n- 让小 M 爬，即令 $i=i+1$ 或 $i = i-1$。如果这一步操作之后 $i>j$，则 令 $j=i$。\n\n- 让小 B 爬，即令 $j=j+1$ 或 $j=j-1$。如果这一步操作之后 $i>j$，则令 $i=j$。\n\n- 使用螺旋升天，具体而言，选择两个下标 $l$ 和 $r$，满足 $S_{l \\ldots r} = S_{i \\ldots j}$，然后令 $i=l,j=r$。\n\n出于某些原因，任何一次操作结束后，需要保证 $1 \\leq i , j \\leq n$。进行一次上述任意一种操作，都需要付出 $1$ 的代价。\n\n爬山是很累的，因此她们想知道，至少需要付出多少代价才能让小 M 到达山顶，也就是让 $i=k$。又因为她们很喜欢爬山，她们有很多组询问要问你。", "inputFormat": "第一行两个整数，$n$ 和 $q$，表示串 $S$ 的长度和询问的个数。\n\n第二行一个长度为 $n$ 的字符串 $S$，仅包含小写字母。\n\n接下来 $q$ 行，每行三个整数 $i,p$ 和 $k$，表明小 M 的位置，传送法阵位置和山顶的位置。", "outputFormat": "共 $q$ 行，第 $i$ 行一个整数，表示对于第 $i$ 个询问给定的 $i,p$ 和 $k$，至少需要付出多少代价，才能让小 M 到达山顶，也就是，让小 M 的位置 $i=k$。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/j7u8z9ir) [样例输出](https://www.luogu.com.cn/paste/fh19p0a4)\n\n--------\n【样例解释】\n\n对于样例的第一组询问，使用传送法术时，只能令 $j=5$，付出 $8-5=3$ 的代价。之后，首先使用一次第三种操作，选择 $l=2,r=2$，令 $i=l,j=r$，然后使用一次第一种操作，令 $i-1$，即可使 $i=k$，一共付出 $5$ 的代价。\n\n对于第二组询问，可以选择 $j=2$，付出 $8-2=6$ 的代价，然后使用一次第三种操作，选取 $l=4,r=5$ 并使 $i=l,j=r$，然后进行一次第一种操作，令 $i+1$ 即可使 $i=k$。一共付出 $8$ 的代价。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n,q \\leq 3\\times 10^4$，$S$ 中仅包含小写字母。\n\n| 子任务编号 |      $n\\leq$      |     $q \\leq$      |      特殊性质       | 分值 | 时间限制 |\n| :--------: | :---------------: | :---------------: | :-----------------: | :--: | :------: |\n| Subtask 1  |       $15$        |       $15$        |         无          | $3$  |    1s    |\n| Subtask 2  |       $80$        |       $80$        |         无          | $14$ |    1s    |\n| Subtask 3  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |   $S$ 中仅包含`a`   | $8$  |    3s    |\n| Subtask 4  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |        $S_1$        | $7$ |    3s    |\n| Subtask 5  |       $400$       |       $400$       |         无          | $9$  |    1s    |\n| Subtask 6  |  $2\\times 10^4$   |  $2 \\times 10^4$  | 所有询问的 $k$ 相同 | $10$ |    3s    |\n| Subtask 7  |      $10^3$       |      $10^3$       |         无          | $10$ |    2s    |\n| Subtask 8  | $1.5 \\times 10^4$ | $1.5 \\times 10^4$ |         无          | $11$ |    3s    |\n| Subtask 9  |  $3 \\times 10^4$  |  $3 \\times 10^4$  |         无          | $28$ |    3s    |\n\n\n\n性质 $S_1$ 是，对于给定的 $p$，满足条件的 $j$ 唯一。\n\n", "locale": "zh-CN"}}}
{"pid": "P6386", "type": "P", "difficulty": 1, "samples": [["2 2 3 3\n1 3 4\n", "both\none\nnone"], ["2 3 4 5\n4 9 5\n", "one\nnone\nnone\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] VAUVAU", "background": "", "description": "在一个小村子里，邮递员、送奶工、垃圾清理工每天早晨都面临着同样的难题：18 号房子的门前有两条看门狗。他们所不知道的是，这两条狗的表现是有迹可循的。\n\n当一天开始时，其中一条狗会先暴躁 $a$ 分钟，然后安静 $b$ 分钟，而另一条狗则会先暴躁 $c$ 分钟，然后安静 $d$ 分钟。这两条狗在一天中会无限地重复上述行为。\n\n给定这三个人到达 18 号房子的时刻，请求出该时刻有几条狗是处于暴躁状态的。", "inputFormat": "第一行有四个整数，分别表示 $a, b, c, d$，其意义见【题目描述】。\n\n第二行有三个整数，分别表示邮递员到达的时刻 $p$，送奶工到达的时刻 $m$ 和垃圾清理工到达的时刻 $g$。", "outputFormat": "输出三行每行一个字符串，依次表示邮递员、送奶工、垃圾清理工到达时有几条狗处于暴躁状态。\n\n- 如果没有狗处于暴躁状态，输出 `none`。\n- 如果恰好有一条狗处于暴躁状态，输出 `one`。\n- 如果两条狗都处于暴躁状态，输出 `both`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a, b, c, d, p, m, g \\lt 10^3$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T1  VAUVAU***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2007/2008 #4] VAUVAU", "background": "", "description": "In a small village, the postman, the milkman, and the garbage collector face the same problem every morning: there are two guard dogs in front of House 18. What they do not know is that the dogs’ behavior follows a pattern.\n\nAt the start of a day, one dog will be aggressive for $a$ minutes, then calm for $b$ minutes. The other dog will be aggressive for $c$ minutes, then calm for $d$ minutes. Both dogs repeat this behavior endlessly throughout the day.\n\nGiven the times when these three people arrive at House 18, determine how many dogs are aggressive at each time.", "inputFormat": "The first line contains four integers $a, b, c, d$, as described in the statement.\n\nThe second line contains three integers: the time $p$ when the postman arrives, the time $m$ when the milkman arrives, and the time $g$ when the garbage collector arrives.", "outputFormat": "Output three lines, each containing one string, in order for the postman, milkman, and garbage collector. The string indicates how many dogs are aggressive when they arrive.\n\n- If no dog is aggressive, output `none`.\n- If exactly one dog is aggressive, output `one`.\n- If both dogs are aggressive, output `both`.", "hint": "#### Constraints\n\nFor all testdata, it is guaranteed that $1 \\leq a, b, c, d, p, m, g \\lt 10^3$.\n\n#### Notes\n\n**Translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T1 VAUVAU***。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2007/2008 #4] VAUVAU", "background": "", "description": "在一个小村子里，邮递员、送奶工、垃圾清理工每天早晨都面临着同样的难题：18 号房子的门前有两条看门狗。他们所不知道的是，这两条狗的表现是有迹可循的。\n\n当一天开始时，其中一条狗会先暴躁 $a$ 分钟，然后安静 $b$ 分钟，而另一条狗则会先暴躁 $c$ 分钟，然后安静 $d$ 分钟。这两条狗在一天中会无限地重复上述行为。\n\n给定这三个人到达 18 号房子的时刻，请求出该时刻有几条狗是处于暴躁状态的。", "inputFormat": "第一行有四个整数，分别表示 $a, b, c, d$，其意义见【题目描述】。\n\n第二行有三个整数，分别表示邮递员到达的时刻 $p$，送奶工到达的时刻 $m$ 和垃圾清理工到达的时刻 $g$。", "outputFormat": "输出三行每行一个字符串，依次表示邮递员、送奶工、垃圾清理工到达时有几条狗处于暴躁状态。\n\n- 如果没有狗处于暴躁状态，输出 `none`。\n- 如果恰好有一条狗处于暴躁状态，输出 `one`。\n- 如果两条狗都处于暴躁状态，输出 `both`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a, b, c, d, p, m, g \\lt 10^3$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T1  VAUVAU***。", "locale": "zh-CN"}}}
{"pid": "P6387", "type": "P", "difficulty": 2, "samples": [["156\n", "165"], ["330\n", "0"], ["27711\n", "71127"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] VECI", "background": "", "description": "给定一个正整数 $x$，请找到一个最小的数字 $y$，使得数字 $0$ 到 $9$ 在 $y$ 中的出现次数与在 $x$ 中的出现次数分别对应相等，且 $x \\lt y$。\n", "inputFormat": "输入只有一行一个整数，表示 $x$。", "outputFormat": "输出一行一个整数表示答案。若这样的 $y$ 不存在请输出 $0$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\lt 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T2   VECI***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2007/2008 #4] VECI", "background": "", "description": "Given a positive integer $x$, find the smallest integer $y$ such that the number of occurrences of each digit $0$ to $9$ in $y$ is respectively equal to that in $x$, and $x \\lt y$.", "inputFormat": "The input contains only one line with an integer $x$.", "outputFormat": "Output one line with an integer representing the answer. If such a $y$ does not exist, output $0$.", "hint": "#### Constraints\n\nFor all testdata, it is guaranteed that $1 \\leq x \\lt 10^6$.\n\n#### Notes\n\n**Translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T2 VECI***.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2007/2008 #4] VECI", "background": "", "description": "给定一个正整数 $x$，请找到一个最小的数字 $y$，使得数字 $0$ 到 $9$ 在 $y$ 中的出现次数与在 $x$ 中的出现次数分别对应相等，且 $x \\lt y$。\n", "inputFormat": "输入只有一行一个整数，表示 $x$。", "outputFormat": "输出一行一个整数表示答案。若这样的 $y$ 不存在请输出 $0$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\lt 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T2   VECI***。", "locale": "zh-CN"}}}
{"pid": "P6388", "type": "P", "difficulty": 2, "samples": [["dcbagfekjih", "abcdefghijk"], ["mobitel", "bometil"], ["anakonda", "aanadnok"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] LEKTIRA", "background": "", "description": "给定一个字符串，请你将其分成三段，并将每一段倒序后按照分段的顺序输出。由于方案有多种，请输出答案字典序最小的那一种。", "inputFormat": "输入一行为一个字符串，表示待分段的串。", "outputFormat": "输出一行为一个字符串，表示答案串，需要保证字典序最小。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入的字符串长度在 $3\\sim 50$ 之间。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T3 LEKTIRA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4] LEKTIRA", "background": "", "description": "给定一个字符串，请你将其分成三段，并将每一段倒序后按照分段的顺序输出。由于方案有多种，请输出答案字典序最小的那一种。", "inputFormat": "输入一行为一个字符串，表示待分段的串。", "outputFormat": "输出一行为一个字符串，表示答案串，需要保证字典序最小。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入的字符串长度在 $3\\sim 50$ 之间。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T3 LEKTIRA***。", "locale": "zh-CN"}}}
{"pid": "P6389", "type": "P", "difficulty": 3, "samples": [["8 3\n4 4 4", "0 2 4"], ["10 5\n7 5 1 2 3", "3 3 9 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2007", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4]  MUZICARI", "background": "", "description": "在一场音乐会上，一支有 $n$ 名乐师的乐队共连续演奏 $t$ 分钟，但每名乐师都有自己想要休息的时长。对于第 $i$ 名乐师，他想休息 $a_i$ 分钟。但为了整体的和谐，不能有**三个及以上**的乐师在同一个时刻休息（但是可以在上一个乐师刚刚结束的时刻开始下一个人的休息）。\n\n请你安排每名乐师开始休息的时刻。", "inputFormat": "输入第一行为两个整数 $t,n$。\n\n第二行为 $n$ 个整数 $a_1,\\dots ,a_n$，表示每名乐师希望休息的时长。", "outputFormat": "输出一行 $n$ 个整数，表示安排每名乐师的开始休息的时刻，按照输入的顺序输出每名乐师。\n\n**注意：尽管方案可能不唯一，但数据保证方案一定存在，本题使用SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le t\\le 5000$，$1\\le n\\le 500$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T4  MUZICARI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4]  MUZICARI", "background": "", "description": "在一场音乐会上，一支有 $n$ 名乐师的乐队共连续演奏 $t$ 分钟，但每名乐师都有自己想要休息的时长。对于第 $i$ 名乐师，他想休息 $a_i$ 分钟。但为了整体的和谐，不能有**三个及以上**的乐师在同一个时刻休息（但是可以在上一个乐师刚刚结束的时刻开始下一个人的休息）。\n\n请你安排每名乐师开始休息的时刻。", "inputFormat": "输入第一行为两个整数 $t,n$。\n\n第二行为 $n$ 个整数 $a_1,\\dots ,a_n$，表示每名乐师希望休息的时长。", "outputFormat": "输出一行 $n$ 个整数，表示安排每名乐师的开始休息的时刻，按照输入的顺序输出每名乐师。\n\n**注意：尽管方案可能不唯一，但数据保证方案一定存在，本题使用SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le t\\le 5000$，$1\\le n\\le 500$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T4  MUZICARI***。", "locale": "zh-CN"}}}
{"pid": "P6390", "type": "P", "difficulty": 4, "samples": [["3\n3 4\n2 5\n1 6", "3\n1 6\n2 5\n3 4"], ["5\n10 30\n20 40\n30 50\n10 60\n30 40", "3\n10 60\n30 50\n30 40"], ["6\n1 4\n1 5\n1 6\n1 7\n2 5\n3 5", "5\n1 7\n1 6\n1 5\n2 5\n3 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] POKLON", "background": "", "description": "给定 $n$ 个区间，Mirko 想要构造一些区间，满足后续的区间是前面区间的子区间，且区间里的每个数都包含在给定的区间里。", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行两个整数 $[A,B]$，表示一个给定的区间。", "outputFormat": "输出第一行为一个整数 $k$，表示可以构造出的区间数。\n\n接下来的 $k$ 行，每行两个整数，依次表示构造的区间。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le A<B\\le 10^6$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T5 POKLON***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4] POKLON", "background": "", "description": "给定 $n$ 个区间，Mirko 想要构造一些区间，满足后续的区间是前面区间的子区间，且区间里的每个数都包含在给定的区间里。", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行两个整数 $[A,B]$，表示一个给定的区间。", "outputFormat": "输出第一行为一个整数 $k$，表示可以构造出的区间数。\n\n接下来的 $k$ 行，每行两个整数，依次表示构造的区间。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le A<B\\le 10^6$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T5 POKLON***。", "locale": "zh-CN"}}}
{"pid": "P6391", "type": "P", "difficulty": 0, "samples": [["0 1\n-1 0\n1 0\n0 -1\n0 -3", "DRRUUULLDD"], ["-2 0\n-1 -1\n0 -2\n1 0\n0 1", "URRDLLURUULDDLLLDR"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] KOCKE", "background": "", "description": "在一个平面直角坐标系中，有一个位于坐标 $(0,0)$ 点的机器人。每次可以向上下左右移动一格。还有 $5$ 个分布于不同位置的磁石。\n\n机器人每次移动都可以推动他目的地那一格的磁石。但是当两块磁石有一个面互相接触时（即处于相邻坐标），它们就会互相吸引而构成一个整体。机器人推其中的任何一块都会对这个整体造成同样的效果。\n\n请你给出机器人的一种移动方案，使得经过移动能使这 $5$ 块磁石构成一个 `T` 形（不能旋转）。", "inputFormat": "输入共 $5$ 行，每行包含两个整数 $x,y$，描述一块磁石的位置。\n\n数据保证不会有任何两块磁石位于相同的或者相邻的坐标。", "outputFormat": "输出一行一个字符串，表示磁石移动的方案，种类如下：\n\n- `L`：向左移动一格；\n- `R`：向右移动一格；\n- `U`：向上移动一格；\n- `D`：向下移动一格。\n\n至多有 $9999$ 步。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $-5\\le x,y\\le 5$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T6 KOCKE***。\n\n**感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供SPJ！**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4] KOCKE", "background": "", "description": "在一个平面直角坐标系中，有一个位于坐标 $(0,0)$ 点的机器人。每次可以向上下左右移动一格。还有 $5$ 个分布于不同位置的磁石。\n\n机器人每次移动都可以推动他目的地那一格的磁石。但是当两块磁石有一个面互相接触时（即处于相邻坐标），它们就会互相吸引而构成一个整体。机器人推其中的任何一块都会对这个整体造成同样的效果。\n\n请你给出机器人的一种移动方案，使得经过移动能使这 $5$ 块磁石构成一个 `T` 形（不能旋转）。", "inputFormat": "输入共 $5$ 行，每行包含两个整数 $x,y$，描述一块磁石的位置。\n\n数据保证不会有任何两块磁石位于相同的或者相邻的坐标。", "outputFormat": "输出一行一个字符串，表示磁石移动的方案，种类如下：\n\n- `L`：向左移动一格；\n- `R`：向右移动一格；\n- `U`：向上移动一格；\n- `D`：向下移动一格。\n\n至多有 $9999$ 步。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $-5\\le x,y\\le 5$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T6 KOCKE***。\n\n**感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供SPJ！**", "locale": "zh-CN"}}}
{"pid": "P6392", "type": "P", "difficulty": 3, "samples": [["30 1\n", "1000"], ["60 15\n", "31457300"], ["2020 412", "133047246"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2020"], "title": "中意", "background": "（背景改编自百度贴吧/南北组备用吧/呆萌南北日常/F8984，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n&emsp;&emsp;在这样的时间，这样的情形下她与她面面相望却不动一步，只有一个可能——她在等。  \n&emsp;&emsp;等她求助，等她妥协，等她心甘情愿。  \n&emsp;&emsp;洛天依想这厮做事儿还真是欠扁，看着手机屏幕上跳出的字：“还不过来？”  \n&emsp;&emsp;她毫不客气的回道：“你想让我过到哪儿去呀？”  \n&emsp;&emsp;“如果除了到了身边来，还有别的路可以走的话。”  \n&emsp;&emsp;当然妥协的乐正大小姐虽然嘴里叨念着，提着路上买的双皮奶和蛋挞，仍是乖乖先迈动了步子。  \n&emsp;&emsp;刚一开门，小吃货果然乖乖扑进怀里了。  \n&emsp;&emsp;“不能全吃哦，来做个游戏吧！”  \n&emsp;&emsp;“坏蛋阿绫。”", "description": "**和题意有关的句子已加粗。**\n\n&emsp;&emsp;“首先，有一个神奇的数字 $a$。”  \n&emsp;&emsp;“天依很饿呢，**所以就给天依 $2^{a+2}$ 个蛋挞吧。**”  \n&emsp;&emsp;“我还要！”  \n&emsp;&emsp;“那……还有一个神奇的数字 $b$，**天依可以获得 $b$ 倍的蛋挞哦！**”  \n&emsp;&emsp;**“哇！那我就有 $k=b \\times 2^{a+2}$ 个蛋挞啦！**”  \n&emsp;&emsp;“天依还喜欢整百数呢，**所以凑个整，给 $p=\\lceil \\frac{k}{25}\\rceil \\times 100$ 个蛋挞吧！**”  \n&emsp;&emsp;“阿绫太好啦！”  \n&emsp;&emsp;“呐\\~给你。”阿绫笑着抚过天依的脑袋，从袋子里拿出寥寥几个蛋挞。  \n&emsp;&emsp;“欸？！”  \n&emsp;&emsp;“最后，天依不能吃太多哦，**所以 $p$ 要对 $\\color{black} 998 \\color{red}3 \\color{black} 44353$ 取模。**”  \n&emsp;&emsp;“…果然是坏蛋。”  \n\n现在天依想知道，对于阿绫给出的 $a$ 和 $b$，自己究竟能吃到几个蛋挞，即 $p \\bmod \\color{black} 998 \\color{red}3 \\color{black} 44353$ 的结果是多少？\n\n注：$\\lceil x \\rceil$ 指 $x$ 向上取整。", "inputFormat": "一行两个整数，分别表示 $b$ 和 $a$。\n\n**请注意输入顺序。**", "outputFormat": "一行一个整数 $p$，表示天依能得到的蛋挞个数。", "hint": "#### 样例解释 #2\n\n$k=60 \\times 2^{(15+2)}=7864320$，$p=\\lceil \\frac{k}{25} \\rceil \\times 100 =31457300$。\n\n------------\n#### 数据范围\n**本题采用捆绑测试。**\n\n- Subtask 1（20 Points），$a,b \\leq 100$ 且 $b \\equiv 0 \\pmod{25}$。   \n- Subtask 2（50 Points），$b \\leq 10^9$。   \n- Subtask 3（30 Points），数据无特殊限制。\n\n对于 $100 \\%$ 的数据，$20 \\leq b \\leq 10^{10010}$，$1 \\leq a \\leq 10^{18}+8$。\n\n------------\n\n#### 题目背景 ( 续 )\n\n&emsp;&emsp;还是万分纠结地看着天依手中甜腻的早餐，“一大早吃这么甜，摄入糖分过多会促使动脉硬化，会……”  \n&emsp;&emsp;洛天依打断她：“那你想不想更甜一点？”  \n&emsp;&emsp;“嗯？”  \n&emsp;&emsp;洛天依踮起脚轻轻地在她的右脸颊印下一个吻，“乐正绫，我好中意你呀。”  \n&emsp;&emsp;乐正绫愣了愣，问：“你说什么？”  \n&emsp;&emsp;洛天依脸红了红，转过身小口咀嚼着蛋挞：“听不懂算了。”  \n&emsp;&emsp;“我也好中意你呀。”像羽毛一样轻柔的声音，撩过两人的心尖。  \n&emsp;&emsp;口中的蛋挞果真又甜腻上几分了呢。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "中意", "background": "（背景改编自百度贴吧/南北组备用吧/呆萌南北日常/F8984，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n&emsp;&emsp;在这样的时间，这样的情形下她与她面面相望却不动一步，只有一个可能——她在等。  \n&emsp;&emsp;等她求助，等她妥协，等她心甘情愿。  \n&emsp;&emsp;洛天依想这厮做事儿还真是欠扁，看着手机屏幕上跳出的字：“还不过来？”  \n&emsp;&emsp;她毫不客气的回道：“你想让我过到哪儿去呀？”  \n&emsp;&emsp;“如果除了到了身边来，还有别的路可以走的话。”  \n&emsp;&emsp;当然妥协的乐正大小姐虽然嘴里叨念着，提着路上买的双皮奶和蛋挞，仍是乖乖先迈动了步子。  \n&emsp;&emsp;刚一开门，小吃货果然乖乖扑进怀里了。  \n&emsp;&emsp;“不能全吃哦，来做个游戏吧！”  \n&emsp;&emsp;“坏蛋阿绫。”", "description": "**和题意有关的句子已加粗。**\n\n&emsp;&emsp;“首先，有一个神奇的数字 $a$。”  \n&emsp;&emsp;“天依很饿呢，**所以就给天依 $2^{a+2}$ 个蛋挞吧。**”  \n&emsp;&emsp;“我还要！”  \n&emsp;&emsp;“那……还有一个神奇的数字 $b$，**天依可以获得 $b$ 倍的蛋挞哦！**”  \n&emsp;&emsp;**“哇！那我就有 $k=b \\times 2^{a+2}$ 个蛋挞啦！**”  \n&emsp;&emsp;“天依还喜欢整百数呢，**所以凑个整，给 $p=\\lceil \\frac{k}{25}\\rceil \\times 100$ 个蛋挞吧！**”  \n&emsp;&emsp;“阿绫太好啦！”  \n&emsp;&emsp;“呐\\~给你。”阿绫笑着抚过天依的脑袋，从袋子里拿出寥寥几个蛋挞。  \n&emsp;&emsp;“欸？！”  \n&emsp;&emsp;“最后，天依不能吃太多哦，**所以 $p$ 要对 $\\color{black} 998 \\color{red}3 \\color{black} 44353$ 取模。**”  \n&emsp;&emsp;“…果然是坏蛋。”  \n\n现在天依想知道，对于阿绫给出的 $a$ 和 $b$，自己究竟能吃到几个蛋挞，即 $p \\bmod \\color{black} 998 \\color{red}3 \\color{black} 44353$ 的结果是多少？\n\n注：$\\lceil x \\rceil$ 指 $x$ 向上取整。", "inputFormat": "一行两个整数，分别表示 $b$ 和 $a$。\n\n**请注意输入顺序。**", "outputFormat": "一行一个整数 $p$，表示天依能得到的蛋挞个数。", "hint": "#### 样例解释 #2\n\n$k=60 \\times 2^{(15+2)}=7864320$，$p=\\lceil \\frac{k}{25} \\rceil \\times 100 =31457300$。\n\n------------\n#### 数据范围\n**本题采用捆绑测试。**\n\n- Subtask 1（20 Points），$a,b \\leq 100$ 且 $b \\equiv 0 \\pmod{25}$。   \n- Subtask 2（50 Points），$b \\leq 10^9$。   \n- Subtask 3（30 Points），数据无特殊限制。\n\n对于 $100 \\%$ 的数据，$20 \\leq b \\leq 10^{10010}$，$1 \\leq a \\leq 10^{18}+8$。\n\n------------\n\n#### 题目背景 ( 续 )\n\n&emsp;&emsp;还是万分纠结地看着天依手中甜腻的早餐，“一大早吃这么甜，摄入糖分过多会促使动脉硬化，会……”  \n&emsp;&emsp;洛天依打断她：“那你想不想更甜一点？”  \n&emsp;&emsp;“嗯？”  \n&emsp;&emsp;洛天依踮起脚轻轻地在她的右脸颊印下一个吻，“乐正绫，我好中意你呀。”  \n&emsp;&emsp;乐正绫愣了愣，问：“你说什么？”  \n&emsp;&emsp;洛天依脸红了红，转过身小口咀嚼着蛋挞：“听不懂算了。”  \n&emsp;&emsp;“我也好中意你呀。”像羽毛一样轻柔的声音，撩过两人的心尖。  \n&emsp;&emsp;口中的蛋挞果真又甜腻上几分了呢。", "locale": "zh-CN"}}}
{"pid": "P6393", "type": "P", "difficulty": 4, "samples": [["5\n6 8\n22 8\n15 4\n23 4\n31 4", "2\n-1\n4\n5\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "O2优化"], "title": "隔离的日子", "background": "（背景改编自 百度贴吧/南北组备用吧/呆萌南北日常/F9023，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n### 数据已修复。 \n\n&emsp;&emsp;一天又一天，每到深夜房间里又只余下手机屏幕的亮光，洛天依总会有一种与世界割离的失落感。  \n&emsp;&emsp;闷在被子里孤独的想哭的日子里，她开始想念起哪些忙于工作带着一点点畏惧、忐忑和烦恼的小日子。  \n&emsp;&emsp;毒辣的阳光，想出门的心，不想被晒黑的小心思交织在一起，占据心间的便是这些复杂的小情绪。  \n&emsp;&emsp;如果可以还行要一份水果拼盘，阿绫总说她不能贪凉，所以趁着阿绫大意的时候把双手浸入打满水的水桶中，瞄着阿绫那无可奈何的眼神，心情舒爽啊。  \n&emsp;&emsp;每到深夜回想起来仍会觉得回味无穷，可孤单一人时将水龙头拧开胳膊冲刷而过的冰凉感却寻不着那时的快乐。  \n&emsp;&emsp;都说对生活选择短暂遗忘时，就会收获一丁点儿的快乐。  \n&emsp;&emsp;可是为什么脑海里的那些场景却越发清晰？  \n&emsp;&emsp;以往每逢休假，暖暖的阳光隔着玻璃照进来，阿绫就躺在摇椅上，她便可以赖在阿绫怀里软软的趴着，一个中午的就这么过去了，宛如养成系手游般堪是消磨时间的良方。  \n&emsp;&emsp;还有街角那家糖炒栗子，拉着阿绫站在店铺门前看着油亮的栗子在翻炒机理跳着舞，被炸开的缝里透出诱人的气息。  \n&emsp;&emsp;缠着阿绫买上几斤装好，恼人的阿绫却不肯给她，只是无比淡定地从袋子里捞出一粒，轻轻一捏，板栗便爆开了，轻轻一掰，栗子肉完完整整地出现在她的面前。这时她只需要张嘴，阿绫只会宠溺的将栗子喂到她的嘴里，只需看见她眯眼满足的表情，阿绫也会露出开心的笑。  \n&emsp;&emsp;不禁泛起苦笑，自己还有一套对栗子的深入研究呢——", "description": "以前，天依会把买来的 $n$ 个栗子排成一行，从左至右编号为：$1,2,\\cdots ,n$，第 $i$ 颗栗子有甜度 $a_i$ 和咸度 $b_i$。\n\n天依认为甜和咸应该进行均衡的搭配，所以她定义了一个完美搭配 $(i,j)$，其中 $i,j$ 是两个栗子的下标。具体的，称 $(i,j)$ 为一个完美搭配，当且仅当 $j$ 是所有满足 $i<j \\leq n$ 并且 $(a_j-b_i) \\times (b_j+b_i)=a_j \\times b_i + a_i \\times b_j$ 的 $j$ 中**最小的一个**。不难发现当 $i$ 一定，完美搭配唯一确定。\n   \n现在天依想知道，对于每个栗子 $i$，哪个栗子和它形成完美搭配？", "inputFormat": "第一行一个整数 $n$，表示天依把 $n$ 个栗子排成了一行。  \n\n接下来 $n$ 行，每行两个整数 $a_i$ 和 $b_i$，分别表示第 $i$ 颗栗子的甜度和咸度。", "outputFormat": "输出共 $n$ 行，每行一个整数，第 $i$ 行表示第 $i$ 颗栗子的**完美搭配 $(i,j)$** 中的 $j$。\n\n特殊地，如果不存在 $j$ 与 $i$ 形成**完美搭配**，那么第 $i$ 行输出一个 `-1`。", "hint": "#### 样例解释 #1\n\n第一个栗子：$(22 - 8) \\times (8 + 8) = 22 \\times 8 + 6 \\times 8$，所以输出为 $2$。\n\n第二个栗子没有满足条件的完美搭配。\n\n第三个栗子：$(23 - 4) \\times (4 + 4) = 23 \\times 4 + 15 \\times 4$，所以输出为 $4$。\n\n第四个栗子：$(31 - 4) \\times (4 + 4) = 31 \\times 4 + 23 \\times 4$ ，所以输出为 $5$。\n\n因为第五个栗子是最后一个栗子，所以没有满足条件的完美搭配。\n\n---\n\n#### 数据范围 \n**本题采用捆绑测试。**\n\n- Subtask 1（30 Points），$n \\leq 10^3$。\n- Subtask 2（70 Points），$n \\leq 5 \\times 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^4$，$1 \\leq a_i \\leq 10^9$，$1 \\leq b_i \\leq 100$。\n\n---\n\n### 题目背景 ( 续 )\n&emsp;&emsp;味道愈发的真实，栗子的香气仿佛仍绕在鼻尖……  \n&emsp;&emsp;味道？洛天依猛然起身走出卧室隔着一道门栏，望着她。  \n&emsp;&emsp;“你是不是傻？我现在在隔离呀，你来干什么？”有惊喜有忧虑洛天依骤然哭泣出声。  \n&emsp;&emsp;乐正绫挠挠头，栗子的温热隔着纸袋传到手心，像寒冷日子里抱在手中的暖宝宝。  \n&emsp;&emsp;“我回程的列车上有感染病例，我也需要被隔离了，他们问我家在哪里，我说了你的地址。”  \n&emsp;&emsp;乐正绫剥开壳，捏了一颗放进小哭包的嘴里。  \n&emsp;&emsp;栗子香在两人嘴角飘荡，“时间又得加长了啊……”天依微微喘着气嘟囔道，心底却是多了几分期待的快乐，其实如果有阿绫在的话，也不是不可以在房间多待段时间的。  \n&emsp;&emsp;“啊，很抱歉呢。”乐正绫轻笑着。不知道是因为再次珍贵的时间，还是手指抚摸过天依泛红的唇角。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "隔离的日子", "background": "（背景改编自 百度贴吧/南北组备用吧/呆萌南北日常/F9023，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n### 数据已修复。 \n\n&emsp;&emsp;一天又一天，每到深夜房间里又只余下手机屏幕的亮光，洛天依总会有一种与世界割离的失落感。  \n&emsp;&emsp;闷在被子里孤独的想哭的日子里，她开始想念起哪些忙于工作带着一点点畏惧、忐忑和烦恼的小日子。  \n&emsp;&emsp;毒辣的阳光，想出门的心，不想被晒黑的小心思交织在一起，占据心间的便是这些复杂的小情绪。  \n&emsp;&emsp;如果可以还行要一份水果拼盘，阿绫总说她不能贪凉，所以趁着阿绫大意的时候把双手浸入打满水的水桶中，瞄着阿绫那无可奈何的眼神，心情舒爽啊。  \n&emsp;&emsp;每到深夜回想起来仍会觉得回味无穷，可孤单一人时将水龙头拧开胳膊冲刷而过的冰凉感却寻不着那时的快乐。  \n&emsp;&emsp;都说对生活选择短暂遗忘时，就会收获一丁点儿的快乐。  \n&emsp;&emsp;可是为什么脑海里的那些场景却越发清晰？  \n&emsp;&emsp;以往每逢休假，暖暖的阳光隔着玻璃照进来，阿绫就躺在摇椅上，她便可以赖在阿绫怀里软软的趴着，一个中午的就这么过去了，宛如养成系手游般堪是消磨时间的良方。  \n&emsp;&emsp;还有街角那家糖炒栗子，拉着阿绫站在店铺门前看着油亮的栗子在翻炒机理跳着舞，被炸开的缝里透出诱人的气息。  \n&emsp;&emsp;缠着阿绫买上几斤装好，恼人的阿绫却不肯给她，只是无比淡定地从袋子里捞出一粒，轻轻一捏，板栗便爆开了，轻轻一掰，栗子肉完完整整地出现在她的面前。这时她只需要张嘴，阿绫只会宠溺的将栗子喂到她的嘴里，只需看见她眯眼满足的表情，阿绫也会露出开心的笑。  \n&emsp;&emsp;不禁泛起苦笑，自己还有一套对栗子的深入研究呢——", "description": "以前，天依会把买来的 $n$ 个栗子排成一行，从左至右编号为：$1,2,\\cdots ,n$，第 $i$ 颗栗子有甜度 $a_i$ 和咸度 $b_i$。\n\n天依认为甜和咸应该进行均衡的搭配，所以她定义了一个完美搭配 $(i,j)$，其中 $i,j$ 是两个栗子的下标。具体的，称 $(i,j)$ 为一个完美搭配，当且仅当 $j$ 是所有满足 $i<j \\leq n$ 并且 $(a_j-b_i) \\times (b_j+b_i)=a_j \\times b_i + a_i \\times b_j$ 的 $j$ 中**最小的一个**。不难发现当 $i$ 一定，完美搭配唯一确定。\n   \n现在天依想知道，对于每个栗子 $i$，哪个栗子和它形成完美搭配？", "inputFormat": "第一行一个整数 $n$，表示天依把 $n$ 个栗子排成了一行。  \n\n接下来 $n$ 行，每行两个整数 $a_i$ 和 $b_i$，分别表示第 $i$ 颗栗子的甜度和咸度。", "outputFormat": "输出共 $n$ 行，每行一个整数，第 $i$ 行表示第 $i$ 颗栗子的**完美搭配 $(i,j)$** 中的 $j$。\n\n特殊地，如果不存在 $j$ 与 $i$ 形成**完美搭配**，那么第 $i$ 行输出一个 `-1`。", "hint": "#### 样例解释 #1\n\n第一个栗子：$(22 - 8) \\times (8 + 8) = 22 \\times 8 + 6 \\times 8$，所以输出为 $2$。\n\n第二个栗子没有满足条件的完美搭配。\n\n第三个栗子：$(23 - 4) \\times (4 + 4) = 23 \\times 4 + 15 \\times 4$，所以输出为 $4$。\n\n第四个栗子：$(31 - 4) \\times (4 + 4) = 31 \\times 4 + 23 \\times 4$ ，所以输出为 $5$。\n\n因为第五个栗子是最后一个栗子，所以没有满足条件的完美搭配。\n\n---\n\n#### 数据范围 \n**本题采用捆绑测试。**\n\n- Subtask 1（30 Points），$n \\leq 10^3$。\n- Subtask 2（70 Points），$n \\leq 5 \\times 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^4$，$1 \\leq a_i \\leq 10^9$，$1 \\leq b_i \\leq 100$。\n\n---\n\n### 题目背景 ( 续 )\n&emsp;&emsp;味道愈发的真实，栗子的香气仿佛仍绕在鼻尖……  \n&emsp;&emsp;味道？洛天依猛然起身走出卧室隔着一道门栏，望着她。  \n&emsp;&emsp;“你是不是傻？我现在在隔离呀，你来干什么？”有惊喜有忧虑洛天依骤然哭泣出声。  \n&emsp;&emsp;乐正绫挠挠头，栗子的温热隔着纸袋传到手心，像寒冷日子里抱在手中的暖宝宝。  \n&emsp;&emsp;“我回程的列车上有感染病例，我也需要被隔离了，他们问我家在哪里，我说了你的地址。”  \n&emsp;&emsp;乐正绫剥开壳，捏了一颗放进小哭包的嘴里。  \n&emsp;&emsp;栗子香在两人嘴角飘荡，“时间又得加长了啊……”天依微微喘着气嘟囔道，心底却是多了几分期待的快乐，其实如果有阿绫在的话，也不是不可以在房间多待段时间的。  \n&emsp;&emsp;“啊，很抱歉呢。”乐正绫轻笑着。不知道是因为再次珍贵的时间，还是手指抚摸过天依泛红的唇角。", "locale": "zh-CN"}}}
{"pid": "P6394", "type": "P", "difficulty": 4, "samples": [["3 4\n1 1 1 1", "5"], ["10 9\n9 6 8 7 9 6 5 4 3", "68345"], ["10 5\n2 2 2 2 1", "impossible"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "递推", "2020", "前缀和"], "title": "樱花，还有你", "background": "Dear Ling,   \n&emsp;&emsp;呐，你知道吗？听说樱花飘落的速度是秒速五厘米哦。    \n&emsp;&emsp;……所以，再等等吧！三月，武汉大学，樱花就快来了呢。  \n&emsp;&emsp;你一定会陪我一起看吧，在酥软的阳光下，我会悄悄牵起你的手，感受你熟悉的温度，糟糕，脸儿也不小心被粉嫩嫩的樱花映红的呢。  \n&emsp;&emsp;对了，一定记得带口罩！你那时还是有些虚弱吧。但天依会保护你的！  \n&emsp;&emsp;还有啊，樱花还可以做好多好多的点心呢！收集一些飘落樱花吧，我想喝樱花茶，还想吃樱饼，你一定要亲手给我做嗷！", "description": "**与题意有关的句子已加粗。**\n\n但别急，我们就这样彳亍而行吧，**需不着停留或回头**，前面不是**还有 $k$ 棵樱花树么**？我算了算，你可要收集**恰好 $n$ 朵樱花**。我还发现，在第 $i$ 棵树下**最多**能收集到 $s_i$ 朵樱花（收集了 $0$ 朵樱花也算收集了樱花）。  \n\n呐，考考你吧！你有多少种方案能够收集到**恰好 $n$ 朵樱花**呢？\n\n**特殊地，如果你收集不到 $n$ 朵樱花，请告诉我 `impossible`。**   \n\n注意：如果你早早地收集到了 $n$ 朵樱花，你可以立刻告诉我，也可以陪我继续向前走，一直到第 $k$ 棵樱花树下收集了樱花后就必须交差啦！期间你在任何一棵树收集完樱花后就告诉我，形成的方案都是不同的哦！", "inputFormat": "第一行两个正整数 $n,k$，表示要收集 $n$ 朵樱花，而前方还有 $k$ 棵樱花树。  \n\n接下来一行 $k$ 个正整数 $s_1,s_2,\\cdots,s_k$，其中 $s_i$ 表示最多在第 $i$ 棵樱花树下收集到 $s_i$ 朵樱花。", "outputFormat": "一行一个整数，表示恰好收集到 $n$ 朵樱花的方案数。      \n\n**由于答案可能太大，请输出答案对 $10086001$ 取模后的值。**\n\n特殊地，如果收集不到 $n$ 朵樱花，请输出一个字符串 `impossible`。", "hint": "#### 样例解释 #1\n我们以下列方式表示一种方案：$(a_1,a_2,\\cdots,a_{len})$，其中 $\\sum_{i=1}^{len} a_i =n$，$len$ 表示在第 $len$ 棵樱花树下收集完樱花后就交差了，$a_i$ 表示在第 $i$ 棵树下收集了 $a_i$ 朵樱花。\n\n那么有下列 $5$ 种方案：$(1,1,1)$，$(1,1,1,0)$，$(0,1,1,1)$，$(1,0,1,1)$，$(1,1,0,1)$。\n\n---\n\n#### 样例解释 #3\n最多能收集到 $9$ 朵樱花，所以不能收集到 $10$ 朵樱花，输出 `impossible`。\n\n---\n\n#### 数据范围\n**本题采用捆绑测试。**\n- Subtask 1（5 Points），$\\sum s_i < n$。\n- Subtask 2（20 Points），$n,k \\leq 20$。\n- Subtask 3（55 Points），$n,k \\leq 5\\times 10^2$。\n- Subtask 4（20 Points），$n,k \\leq 5\\times 10^3$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,k \\leq 5\\times 10^3$，$0 \\leq s_i \\leq n$。\n\n---\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;何等聪明的你一定会站在某棵树下，捧着 $n$ 朵可爱的樱花，像孩子似的向我邀功吧。  \n&emsp;&emsp;那就别怪我成全你哦，我会轻跳起来，环住你的脖子，揭起你的口罩，尝一尝你的嘴唇。  \n&emsp;&emsp;你会不会说，“像樱花一样甜”呢？  \n&emsp;&emsp;反正，我的脸一定已经像樱花一样红了吧。  \n&emsp;&emsp;……  \n&emsp;&emsp;当你看到这封信，别哭呀……  \n&emsp;&emsp;冬天从这座城市夺走的，春天会补偿我们的。  \n&emsp;&emsp;待你好了，陪我去看樱花，可好？  \n\nYours,   \nYi", "locale": "zh-CN", "translations": {"zh-CN": {"title": "樱花，还有你", "background": "Dear Ling,   \n&emsp;&emsp;呐，你知道吗？听说樱花飘落的速度是秒速五厘米哦。    \n&emsp;&emsp;……所以，再等等吧！三月，武汉大学，樱花就快来了呢。  \n&emsp;&emsp;你一定会陪我一起看吧，在酥软的阳光下，我会悄悄牵起你的手，感受你熟悉的温度，糟糕，脸儿也不小心被粉嫩嫩的樱花映红的呢。  \n&emsp;&emsp;对了，一定记得带口罩！你那时还是有些虚弱吧。但天依会保护你的！  \n&emsp;&emsp;还有啊，樱花还可以做好多好多的点心呢！收集一些飘落樱花吧，我想喝樱花茶，还想吃樱饼，你一定要亲手给我做嗷！", "description": "**与题意有关的句子已加粗。**\n\n但别急，我们就这样彳亍而行吧，**需不着停留或回头**，前面不是**还有 $k$ 棵樱花树么**？我算了算，你可要收集**恰好 $n$ 朵樱花**。我还发现，在第 $i$ 棵树下**最多**能收集到 $s_i$ 朵樱花（收集了 $0$ 朵樱花也算收集了樱花）。  \n\n呐，考考你吧！你有多少种方案能够收集到**恰好 $n$ 朵樱花**呢？\n\n**特殊地，如果你收集不到 $n$ 朵樱花，请告诉我 `impossible`。**   \n\n注意：如果你早早地收集到了 $n$ 朵樱花，你可以立刻告诉我，也可以陪我继续向前走，一直到第 $k$ 棵樱花树下收集了樱花后就必须交差啦！期间你在任何一棵树收集完樱花后就告诉我，形成的方案都是不同的哦！", "inputFormat": "第一行两个正整数 $n,k$，表示要收集 $n$ 朵樱花，而前方还有 $k$ 棵樱花树。  \n\n接下来一行 $k$ 个正整数 $s_1,s_2,\\cdots,s_k$，其中 $s_i$ 表示最多在第 $i$ 棵樱花树下收集到 $s_i$ 朵樱花。", "outputFormat": "一行一个整数，表示恰好收集到 $n$ 朵樱花的方案数。      \n\n**由于答案可能太大，请输出答案对 $10086001$ 取模后的值。**\n\n特殊地，如果收集不到 $n$ 朵樱花，请输出一个字符串 `impossible`。", "hint": "#### 样例解释 #1\n我们以下列方式表示一种方案：$(a_1,a_2,\\cdots,a_{len})$，其中 $\\sum_{i=1}^{len} a_i =n$，$len$ 表示在第 $len$ 棵樱花树下收集完樱花后就交差了，$a_i$ 表示在第 $i$ 棵树下收集了 $a_i$ 朵樱花。\n\n那么有下列 $5$ 种方案：$(1,1,1)$，$(1,1,1,0)$，$(0,1,1,1)$，$(1,0,1,1)$，$(1,1,0,1)$。\n\n---\n\n#### 样例解释 #3\n最多能收集到 $9$ 朵樱花，所以不能收集到 $10$ 朵樱花，输出 `impossible`。\n\n---\n\n#### 数据范围\n**本题采用捆绑测试。**\n- Subtask 1（5 Points），$\\sum s_i < n$。\n- Subtask 2（20 Points），$n,k \\leq 20$。\n- Subtask 3（55 Points），$n,k \\leq 5\\times 10^2$。\n- Subtask 4（20 Points），$n,k \\leq 5\\times 10^3$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,k \\leq 5\\times 10^3$，$0 \\leq s_i \\leq n$。\n\n---\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;何等聪明的你一定会站在某棵树下，捧着 $n$ 朵可爱的樱花，像孩子似的向我邀功吧。  \n&emsp;&emsp;那就别怪我成全你哦，我会轻跳起来，环住你的脖子，揭起你的口罩，尝一尝你的嘴唇。  \n&emsp;&emsp;你会不会说，“像樱花一样甜”呢？  \n&emsp;&emsp;反正，我的脸一定已经像樱花一样红了吧。  \n&emsp;&emsp;……  \n&emsp;&emsp;当你看到这封信，别哭呀……  \n&emsp;&emsp;冬天从这座城市夺走的，春天会补偿我们的。  \n&emsp;&emsp;待你好了，陪我去看樱花，可好？  \n\nYours,   \nYi", "locale": "zh-CN"}}}
{"pid": "P6395", "type": "P", "difficulty": 6, "samples": [["2 1 2", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "2020", "组合数学", "期望"], "title": "千年食谱颂", "background": "$$\\texttt{事在人    命在天}$$\n$$\\texttt{亘古滔滔转眼间}$$\n$$\\texttt{唯席上}$$\n$$\\texttt{千年丰盛永不变}$$\n\n&emsp;&emsp;“阿绫，今天是我的第 $15$ 个 $15$ 岁生日呀！”  \n&emsp;&emsp;“哦……阿绫今天回不了家嗷。”  \n&emsp;&emsp;早晨九点，迷迷糊糊睁开双眼的小灰毛悄悄用手戳了戳自己的身旁，却只感受到枕头的淡淡的温暖。  \n&emsp;&emsp;“明明是人家的生日嘛，又要加班……”把手机扔在一边，叠好被子，走近床边，垂着手轻轻拨开窗帘，刺眼的阳光轻易地冲散了另一个人的温度。  \n&emsp;&emsp;“好无聊啊！”  \n&emsp;&emsp;就这样熬到了晚上，却发现冰箱已经空空如也。要不……去美食节转转？  \n&emsp;&emsp;今天正好是魔都一年一度的美食节，本来以为阿绫会陪自己，天依可是做好了无比详细的攻略。但现在，阿绫不在，计划也随之落空。穿一身清凉的休闲装，带上钱包，天依还是决定，不能在食物上辜负自己！  \n&emsp;&emsp;天依的手才刚刚搭上门把手，轻轻一拉，便猛然打开，竟被恋人拥入怀中……  \n&emsp;&emsp;星光，灯火，美食，还有……天依小小的舌头轻轻舔着蓝莓味的甜筒，一边悄悄打量着身旁的恋人。修长的身段优雅从容地迈着步子，头顶标志性的红色呆毛就像那希望的烛光闪烁，漫天灯火，在那暗红色的明眸里缓缓流动……阿绫转过身，目光撞上那双碧绿的眼眸。  \n&emsp;&emsp;“天依，天依。想什么呢？”   \n&emsp;&emsp;看着恋人害羞地撇过脸，耳根子却不争气地红了起来，阿绫又动起了坏心思。她慢慢靠近恋人的脸庞，轻轻嘬了一口粉嫩的嘴唇。  \n&emsp;&emsp;“干嘛啦阿绫，这里那么多人……”嘴上这么说着，天依却又不自觉地凑向阿绫。阿绫牵起恋人的手。“走，带你把这儿吃个遍！”", "description": "美食节上一共有 $n$ 个店铺，初始 ( 第 $0$ 时刻 ) 时天依都没有品尝过。天依的 flag 是将它们尽数品尝。所以**从第一个时刻起**，天依会在每一个时刻**等概率地选取 $n$ 个店铺中的一个品尝**。不过，由于食客众多，许多店铺会出现食材短缺的情况而不得不中途撤场。**当一个店铺撤场后，会有一个新的 ( 以前从未出现的 ) 店铺立即进场**，我们称其为一次**撤场事件**。阿绫知道所有撤场事件会在**相邻两个时刻间**发生，且每个店铺在每个时刻间撤场的概率都是 $p$。   \n\n天依凑过毛茸茸的脑袋问阿绫：“期望在第几个时刻，在场的 $n$ 个店铺都被我品尝过呢？”", "inputFormat": "一行三个整数 $n,a,b$，表示有 $n$ 个店铺，撤场概率 $p=\\dfrac{a}{b}$。", "outputFormat": "一行一个整数，表示你的答案。\n\n**由于答案可能是一个小数，为了避免损失精度，请输出答案对 $998244353$ 模意义下的值。**", "hint": "#### 数据范围\n对于不同的测试点，我们约定如下数据规模及其性质：\n\n|             测试点编号              | $n \\leq$ | 特殊性质 1 | 特殊性质 2 |\n| :---------------------------------: | :------: | :--------: | :--------: |\n|           $1 \\sim 2$            |  $500$   | $\\sqrt{}$  |     $\\times$      |\n|  $3 \\sim 8$   |  $500$   |     $\\times$      |     $\\times$      |\n|         $9 \\sim 11$          |  $3000$  |     $\\times$      | $\\sqrt{}$  |\n| $12 \\sim 25$ |  $3000$  |     $\\times$      |     $\\times$      |\n\n**特殊性质 1**：$a=0$。\n\n**特殊性质 2**：$a=1,b=2$。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 3000,0 \\le a<b<998244353$。   \n\n------------\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;阿绫注视着丝毫不顾忌吃相的天依，又好气又好笑。但看着包里黑卡的钱少了一个又一个 $0$ ，脸色越来越沉……  \n&emsp;&emsp;“喂，阴阳头，再送张卡来！”只好冲着哥哥发怒气的阿绫挂掉电话，又挂上了一副温柔的笑颜。  \n&emsp;&emsp;“阿绫，阿绫你也尝尝吧。”天依可算想起了没怎么吃的阿绫。  \n&emsp;&emsp;“不急，晚上回家，还有大餐等着我呢。”阿绫冲天依笑着，邪魅地笑着。  \n&emsp;&emsp;“唔，所以大餐是什么呢？”天依想不明白，但总觉得有些不安。   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“你还是老样子呢，天依。”", "locale": "zh-CN", "translations": {"zh-CN": {"title": "千年食谱颂", "background": "$$\\texttt{事在人    命在天}$$\n$$\\texttt{亘古滔滔转眼间}$$\n$$\\texttt{唯席上}$$\n$$\\texttt{千年丰盛永不变}$$\n\n&emsp;&emsp;“阿绫，今天是我的第 $15$ 个 $15$ 岁生日呀！”  \n&emsp;&emsp;“哦……阿绫今天回不了家嗷。”  \n&emsp;&emsp;早晨九点，迷迷糊糊睁开双眼的小灰毛悄悄用手戳了戳自己的身旁，却只感受到枕头的淡淡的温暖。  \n&emsp;&emsp;“明明是人家的生日嘛，又要加班……”把手机扔在一边，叠好被子，走近床边，垂着手轻轻拨开窗帘，刺眼的阳光轻易地冲散了另一个人的温度。  \n&emsp;&emsp;“好无聊啊！”  \n&emsp;&emsp;就这样熬到了晚上，却发现冰箱已经空空如也。要不……去美食节转转？  \n&emsp;&emsp;今天正好是魔都一年一度的美食节，本来以为阿绫会陪自己，天依可是做好了无比详细的攻略。但现在，阿绫不在，计划也随之落空。穿一身清凉的休闲装，带上钱包，天依还是决定，不能在食物上辜负自己！  \n&emsp;&emsp;天依的手才刚刚搭上门把手，轻轻一拉，便猛然打开，竟被恋人拥入怀中……  \n&emsp;&emsp;星光，灯火，美食，还有……天依小小的舌头轻轻舔着蓝莓味的甜筒，一边悄悄打量着身旁的恋人。修长的身段优雅从容地迈着步子，头顶标志性的红色呆毛就像那希望的烛光闪烁，漫天灯火，在那暗红色的明眸里缓缓流动……阿绫转过身，目光撞上那双碧绿的眼眸。  \n&emsp;&emsp;“天依，天依。想什么呢？”   \n&emsp;&emsp;看着恋人害羞地撇过脸，耳根子却不争气地红了起来，阿绫又动起了坏心思。她慢慢靠近恋人的脸庞，轻轻嘬了一口粉嫩的嘴唇。  \n&emsp;&emsp;“干嘛啦阿绫，这里那么多人……”嘴上这么说着，天依却又不自觉地凑向阿绫。阿绫牵起恋人的手。“走，带你把这儿吃个遍！”", "description": "美食节上一共有 $n$ 个店铺，初始 ( 第 $0$ 时刻 ) 时天依都没有品尝过。天依的 flag 是将它们尽数品尝。所以**从第一个时刻起**，天依会在每一个时刻**等概率地选取 $n$ 个店铺中的一个品尝**。不过，由于食客众多，许多店铺会出现食材短缺的情况而不得不中途撤场。**当一个店铺撤场后，会有一个新的 ( 以前从未出现的 ) 店铺立即进场**，我们称其为一次**撤场事件**。阿绫知道所有撤场事件会在**相邻两个时刻间**发生，且每个店铺在每个时刻间撤场的概率都是 $p$。   \n\n天依凑过毛茸茸的脑袋问阿绫：“期望在第几个时刻，在场的 $n$ 个店铺都被我品尝过呢？”", "inputFormat": "一行三个整数 $n,a,b$，表示有 $n$ 个店铺，撤场概率 $p=\\dfrac{a}{b}$。", "outputFormat": "一行一个整数，表示你的答案。\n\n**由于答案可能是一个小数，为了避免损失精度，请输出答案对 $998244353$ 模意义下的值。**", "hint": "#### 数据范围\n对于不同的测试点，我们约定如下数据规模及其性质：\n\n|             测试点编号              | $n \\leq$ | 特殊性质 1 | 特殊性质 2 |\n| :---------------------------------: | :------: | :--------: | :--------: |\n|           $1 \\sim 2$            |  $500$   | $\\sqrt{}$  |     $\\times$      |\n|  $3 \\sim 8$   |  $500$   |     $\\times$      |     $\\times$      |\n|         $9 \\sim 11$          |  $3000$  |     $\\times$      | $\\sqrt{}$  |\n| $12 \\sim 25$ |  $3000$  |     $\\times$      |     $\\times$      |\n\n**特殊性质 1**：$a=0$。\n\n**特殊性质 2**：$a=1,b=2$。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 3000,0 \\le a<b<998244353$。   \n\n------------\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;阿绫注视着丝毫不顾忌吃相的天依，又好气又好笑。但看着包里黑卡的钱少了一个又一个 $0$ ，脸色越来越沉……  \n&emsp;&emsp;“喂，阴阳头，再送张卡来！”只好冲着哥哥发怒气的阿绫挂掉电话，又挂上了一副温柔的笑颜。  \n&emsp;&emsp;“阿绫，阿绫你也尝尝吧。”天依可算想起了没怎么吃的阿绫。  \n&emsp;&emsp;“不急，晚上回家，还有大餐等着我呢。”阿绫冲天依笑着，邪魅地笑着。  \n&emsp;&emsp;“唔，所以大餐是什么呢？”天依想不明白，但总觉得有些不安。   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“你还是老样子呢，天依。”", "locale": "zh-CN"}}}
{"pid": "P6396", "type": "P", "difficulty": 6, "samples": [["ababa\n2\n3 2 4 2 1\n3\n1 5\n2 3\n1 3", "0\n5\n3"], ["aaaaaa\n1\n3 1 4 1 10\n2\n2 4\n2 3", "7\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "动态规划 DP", "图论", "贪心", "2020", "倍增", "最短路", "回文自动机 PAM"], "title": "要有光", "background": "$$ \\text{Der mir zeigt wo ich bin}$$   \n$$_\\texttt{告诉我身在何方}  $$\n$$\\text{Divano}$$   \n$$_\\texttt{神啊}$$  \n$$\\text{Sei mein Licht}  $$\n$$_\\texttt{做我的光}$$\n$$\\text{Ich sm chte mich dir schenken}$$  \n$$_\\texttt{我愿将自己赐予与你}$$\n$$\\text{Noch vor dem Sonnenaufgang}$$  \n$$_\\texttt{在晨曦来临之前}$$\n\n\n&emsp;&emsp;那时正值春深，丛林里生灵闹哄哄地雀跃，享受着空气中升腾的灵气。  \n&emsp;&emsp;“嗖”的一声，一团银灰色的小东西突然从她眼前的地面划过，要不是腾起的尘土在阳光下悠闲地闪烁，她甚至怀疑是自己花了眼。  \n&emsp;&emsp;紧接着，又“嗖”的一声，这次她看清楚了，是一只雪白的幼龄狐妖，“还……有点可爱。”  \n&emsp;&emsp;“真走运，捉了这只，就可以交差啦。”她，虽年少却赫赫有名的除妖师，绫，急忙跟了上去。", "description": "万物有灵，法术亦是如此。任何法术都等价为一段**仅包括大小写字母**的字符串 $S=s_1s_2\\dots s_n$，现规定如下几种法术记号：\n\n- **元素**。即字符串中的每个字符。在本题中，元素仅为大小写字母。\n- **法术大小**。即字符串长度。记号为 $|S|$ 。\n- **空法术**。大小为 $0$ 的法术为空法术。\n- **等法术**。对于法术 $S,T$ 。当且仅当 $|S|=|T|,\\forall i \\leq |S| , s_i = t_i$ 时，称 $S$ 与 $T$ 为等法术，记为 $S=T$  。\n- **逆法术**。设现有法术 $S=s_1s_2\\dots s_n$，称法术 $T$ 是 $S$ 的逆法术，当且仅当 $|S|=|T|$ 且 $\\forall i \\leq |S| , s_i=t_{n-i+1}$。本题将 $T$ 记作 $S_r$。\n- **逆法术对**。称两法术 $S$，$T$ 构成逆法术对 $(S,T)$，当且仅当 $T=S_r$。\n- **归法术**。设现有法术 $S$，称 $S$ 为归法术当且仅当 $S$ 对应的字符串为**回文串**。特别地，**空法术被视作归法术**。\n- **子法术**。设现有法术 $S$ ，则对于 $1\\le i\\le j\\le |S|$ ，称 $T=s_is_{i+1}\\dots s_j$ 为 $S$ 的子法术，并规定子法术的记号 $S[i,j]$ 。当 $i>j$ 时，$S[i,j]$ 为空法术。\n\n---\n\n现在，绫有一个法术源 $S_0$, 而她已经凝练出了一个初始的法术 $S=S_0$。对于每种妖魔，都有一个法术弱点  $T$。绫的法术性火，而火系法术又以淬光之术为上等。所以绫想要练习淬光之术。只要绫通过以下淬光法术变换使 $S=T$，就能轻易击败妖魔：\n\n- **光归**。对于**任意非空法术** $S$，保留其**最大归法术后缀**。若$|S|=n$即取一个最小的 $i \\in [1,n]$ 使得 $S[i+1,n]$ 为归法术，并令 $S \\leftarrow T$。**允许 $T$ 为空法术**。消耗时间 $A$。\n- **光辉**。对于**归法术** $S$，在 $S_0$ 中寻找一个**子归法术** $T$，满足 $S$ 为 $T$ 的**最大归法术后缀**（其定义见 \"光归\" ），并令 $S\\leftarrow T$。**空法术**被认为是**任何法术的后缀**。消耗时间 $B$。\n- **光隐**。对于**非空归法术** $S$，$|S|=n$ 删去其长度相等且长度**不大于 $k$ **的**前缀与后缀**。即取一个 $i\\in[1,\\min\\{k,\\lfloor\\frac{n-1}2\\rfloor\\}]$，使 $T=S[1+i,n-i]$，并令 $S\\leftarrow T$。特别地，$T$ **不可以为空法术**，消耗时间 $C$。\n- **光腾**。对于**非空归法术** $S,|S|=n$，在其左右加上一对逆法术对。即取一逆法术对 $(P,Q)$，设 $|P|=|Q|=l$，使 $T=p_1p_2\\dots p_ls_1s_2\\dots s_nq_1q_2\\dots q_l$，且 $T$ **须为 $S_{0}$ 的子法术** ，并令 $S\\leftarrow T$。消耗时间 $D$。\n- **光弋**。对于**任意非空法术** $S,|S|=n$ ，在其前端加入任意元素。即取一个元素 $a$，使 $T=as_1s_2\\dots s_n$，并令 $S\\leftarrow T$，消耗时间 $E$。光弋变换玄妙莫测，绫还没有熟练掌握此法术变换。所以**在使用此变换之后，无法再使用其它类型的法术变换**。\n\n现在绫想知道，对于不同妖魔的法术弱点 $T$，自己至少要消耗多少时间进行如上法术变换使 $S=T$。**每组询问间互不干扰**。\n", "inputFormat": "第一行输入一个**仅包含大小写字母**的字符串，表示绫的法术源 $S_0$。由题意，初始法术 $S=S_0$。  \n\n第二行输入一个正整数 $k$，表示**光隐**变换所允许删去前缀后缀的最长长度。  \n\n第三行输入五个正整数 $A,B,C,D,E$，表示每种法术变换的消耗时间。   \n\n第四行一个正整数 $q$，表示询问组数。  \n\n接下来 $q$ 行，每行包含两个正整数 $l,r$，表示一种妖魔的法术弱点为 $T=S_0[l,r]$。\n", "outputFormat": "对于每个询问，输出一行一个整数，表示第 $i$ 个询问的答案。", "hint": "#### 样例解释 #1\n\n对于第一个询问，因为 $T=\\texttt{\"ababa\"}=S$，不需要操作。\n\n对于第二个询问，$T=\\texttt{\"ba\"}$，最优策略为先使用一次**光隐**，得到 $S'=\\texttt{\"a\"}$；接着使用一次**光弋**，在 $S'$ 前添加元素 $\\texttt{'b'}$ 得到 $S''=\\texttt{\"ba\"}=T$，耗时 $4+1=5$。\n \n对于第三个询问，$T=\\texttt{\"aba\"}$，最优策略为使用一次**光归**，得到 $S'=\\texttt{\"aba\"}=T$。耗时 $3$。\n\n------------\n#### 数据范围\n对于不同的测试点，我们约定数据规模如下:\n\n| 测试点编号 | $\\left\\vert S \\right\\vert,\\left\\vert T \\right\\vert \\le$ | $q\\le$ | 特殊限制 |\n|:-:|:-:|:-:|:-:|\n| $1 \\sim 5$ | $10^3$ | $10^3$ | 无 |\n| $6 \\sim 9$ | $10^5$ | $10^5$ | 初始法术只有一种元素 |\n| $10 \\sim 20$ | $10^5$ | $10^5$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\le q,|S| \\leq 10^5$，$1 \\leq A,B,C,D,E \\leq 10^9$，$1 \\leq l \\leq r \\leq |S|$，$1 \\leq k \\leq 5$。\n\n------------\n### 题目背景 ( 续 )\n&emsp;&emsp;这边，绫还在摸索着变换法术，却感觉腰间的令牌被抓了一下。“喂？！”  \n&emsp;&emsp;只见一个披头散发的少女正半跪着扒在她的腰间，左手还提着银灰色毛发的小兔子的一对耳朵，“你……是刚才那只狐狸？”绫尴尬地收回法术，不自觉地伸出手揉了揉少女头顶雪白的兽耳，心想着这只狐狸精得有多傻。“我可是除妖师哟，你不怕吗？”  \n&emsp;&emsp;“……绫？”少女并没有理会绫的话，只是努力地认出了令牌上刻着的名字。  \n&emsp;&emsp;绫好奇的目光撞上了少女璀璨的碧绿双眸，又不经意间扫过小巧的鼻梁，玲珑的小嘴，白皙的脖子，但再随着如凝的肌肤滑下……  \n&emsp;&emsp;一直被视作男儿的绫哪见过这般风景，只觉得自己大脑当了机，还隐约嗅到出自鼻腔的铁锈味儿，身体便向后靠倒在一棵树干上，连忙用双手捂住滚烫的脸颊。  \n&emsp;&emsp;“绫？绫？你怎么啦？！”少女心急地凑上去，绫吓得下意识往后退，却忘记身后是一棵粗壮的树干。“欸，绫手上的，是血吗……”双眼紧闭的绫听得出来少女像是被吓到了，看来还是一只没开过荤的狐狸精呢。  \n&emsp;&emsp;“绫……你没事吧……”少女分明带着哭腔，小心翼翼地学着自己还是小狐狸的时候妈妈照顾自己的方式，在绫的身上东摸西摸。  \n&emsp;&emsp;“我，我没事……”绫已经不敢想象究竟是哪些部位在触碰自己的皮肤了，“你……你先变回狐狸……快！”绫当然想把少女推开，却又怎么敢伸出手触碰少女呢？  \n&emsp;&emsp;少女闻言，一怔，但还是乖乖变回了一只狐狸，还不忘叼起几欲逃走的兔子。  \n&emsp;&emsp;绫赶忙收拾了自己的窘相，惊恐地扶着树干，确认自己的人身安全后，轻轻捏住小狐狸的后颈，提起在地上的两小只。  \n&emsp;&emsp;“以后不许再胡乱变成人形了，听到没有！”绫后怕地警告着小狐狸，却见右手的小狐狸直勾勾地盯着左手的小兔子，而左手的小兔子好像想钻进自己的手心里，哪有听她的话呀……  \n&emsp;&emsp;“哎，算了……”绫把小狐狸放在肩头，把似乎吓晕的小兔子递给她，“一会儿再吃哦。”（雨兔兔：我好难qwq。）  \n&emsp;&emsp;“就算……捡了一只宠物吧。”绫心里想着。  \n\n&emsp;&emsp;（未完待续www……）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "要有光", "background": "$$ \\text{Der mir zeigt wo ich bin}$$   \n$$_\\texttt{告诉我身在何方}  $$\n$$\\text{Divano}$$   \n$$_\\texttt{神啊}$$  \n$$\\text{Sei mein Licht}  $$\n$$_\\texttt{做我的光}$$\n$$\\text{Ich sm chte mich dir schenken}$$  \n$$_\\texttt{我愿将自己赐予与你}$$\n$$\\text{Noch vor dem Sonnenaufgang}$$  \n$$_\\texttt{在晨曦来临之前}$$\n\n\n&emsp;&emsp;那时正值春深，丛林里生灵闹哄哄地雀跃，享受着空气中升腾的灵气。  \n&emsp;&emsp;“嗖”的一声，一团银灰色的小东西突然从她眼前的地面划过，要不是腾起的尘土在阳光下悠闲地闪烁，她甚至怀疑是自己花了眼。  \n&emsp;&emsp;紧接着，又“嗖”的一声，这次她看清楚了，是一只雪白的幼龄狐妖，“还……有点可爱。”  \n&emsp;&emsp;“真走运，捉了这只，就可以交差啦。”她，虽年少却赫赫有名的除妖师，绫，急忙跟了上去。", "description": "万物有灵，法术亦是如此。任何法术都等价为一段**仅包括大小写字母**的字符串 $S=s_1s_2\\dots s_n$，现规定如下几种法术记号：\n\n- **元素**。即字符串中的每个字符。在本题中，元素仅为大小写字母。\n- **法术大小**。即字符串长度。记号为 $|S|$ 。\n- **空法术**。大小为 $0$ 的法术为空法术。\n- **等法术**。对于法术 $S,T$ 。当且仅当 $|S|=|T|,\\forall i \\leq |S| , s_i = t_i$ 时，称 $S$ 与 $T$ 为等法术，记为 $S=T$  。\n- **逆法术**。设现有法术 $S=s_1s_2\\dots s_n$，称法术 $T$ 是 $S$ 的逆法术，当且仅当 $|S|=|T|$ 且 $\\forall i \\leq |S| , s_i=t_{n-i+1}$。本题将 $T$ 记作 $S_r$。\n- **逆法术对**。称两法术 $S$，$T$ 构成逆法术对 $(S,T)$，当且仅当 $T=S_r$。\n- **归法术**。设现有法术 $S$，称 $S$ 为归法术当且仅当 $S$ 对应的字符串为**回文串**。特别地，**空法术被视作归法术**。\n- **子法术**。设现有法术 $S$ ，则对于 $1\\le i\\le j\\le |S|$ ，称 $T=s_is_{i+1}\\dots s_j$ 为 $S$ 的子法术，并规定子法术的记号 $S[i,j]$ 。当 $i>j$ 时，$S[i,j]$ 为空法术。\n\n---\n\n现在，绫有一个法术源 $S_0$, 而她已经凝练出了一个初始的法术 $S=S_0$。对于每种妖魔，都有一个法术弱点  $T$。绫的法术性火，而火系法术又以淬光之术为上等。所以绫想要练习淬光之术。只要绫通过以下淬光法术变换使 $S=T$，就能轻易击败妖魔：\n\n- **光归**。对于**任意非空法术** $S$，保留其**最大归法术后缀**。若$|S|=n$即取一个最小的 $i \\in [1,n]$ 使得 $S[i+1,n]$ 为归法术，并令 $S \\leftarrow T$。**允许 $T$ 为空法术**。消耗时间 $A$。\n- **光辉**。对于**归法术** $S$，在 $S_0$ 中寻找一个**子归法术** $T$，满足 $S$ 为 $T$ 的**最大归法术后缀**（其定义见 \"光归\" ），并令 $S\\leftarrow T$。**空法术**被认为是**任何法术的后缀**。消耗时间 $B$。\n- **光隐**。对于**非空归法术** $S$，$|S|=n$ 删去其长度相等且长度**不大于 $k$ **的**前缀与后缀**。即取一个 $i\\in[1,\\min\\{k,\\lfloor\\frac{n-1}2\\rfloor\\}]$，使 $T=S[1+i,n-i]$，并令 $S\\leftarrow T$。特别地，$T$ **不可以为空法术**，消耗时间 $C$。\n- **光腾**。对于**非空归法术** $S,|S|=n$，在其左右加上一对逆法术对。即取一逆法术对 $(P,Q)$，设 $|P|=|Q|=l$，使 $T=p_1p_2\\dots p_ls_1s_2\\dots s_nq_1q_2\\dots q_l$，且 $T$ **须为 $S_{0}$ 的子法术** ，并令 $S\\leftarrow T$。消耗时间 $D$。\n- **光弋**。对于**任意非空法术** $S,|S|=n$ ，在其前端加入任意元素。即取一个元素 $a$，使 $T=as_1s_2\\dots s_n$，并令 $S\\leftarrow T$，消耗时间 $E$。光弋变换玄妙莫测，绫还没有熟练掌握此法术变换。所以**在使用此变换之后，无法再使用其它类型的法术变换**。\n\n现在绫想知道，对于不同妖魔的法术弱点 $T$，自己至少要消耗多少时间进行如上法术变换使 $S=T$。**每组询问间互不干扰**。\n", "inputFormat": "第一行输入一个**仅包含大小写字母**的字符串，表示绫的法术源 $S_0$。由题意，初始法术 $S=S_0$。  \n\n第二行输入一个正整数 $k$，表示**光隐**变换所允许删去前缀后缀的最长长度。  \n\n第三行输入五个正整数 $A,B,C,D,E$，表示每种法术变换的消耗时间。   \n\n第四行一个正整数 $q$，表示询问组数。  \n\n接下来 $q$ 行，每行包含两个正整数 $l,r$，表示一种妖魔的法术弱点为 $T=S_0[l,r]$。\n", "outputFormat": "对于每个询问，输出一行一个整数，表示第 $i$ 个询问的答案。", "hint": "#### 样例解释 #1\n\n对于第一个询问，因为 $T=\\texttt{\"ababa\"}=S$，不需要操作。\n\n对于第二个询问，$T=\\texttt{\"ba\"}$，最优策略为先使用一次**光隐**，得到 $S'=\\texttt{\"a\"}$；接着使用一次**光弋**，在 $S'$ 前添加元素 $\\texttt{'b'}$ 得到 $S''=\\texttt{\"ba\"}=T$，耗时 $4+1=5$。\n \n对于第三个询问，$T=\\texttt{\"aba\"}$，最优策略为使用一次**光归**，得到 $S'=\\texttt{\"aba\"}=T$。耗时 $3$。\n\n------------\n#### 数据范围\n对于不同的测试点，我们约定数据规模如下:\n\n| 测试点编号 | $\\left\\vert S \\right\\vert,\\left\\vert T \\right\\vert \\le$ | $q\\le$ | 特殊限制 |\n|:-:|:-:|:-:|:-:|\n| $1 \\sim 5$ | $10^3$ | $10^3$ | 无 |\n| $6 \\sim 9$ | $10^5$ | $10^5$ | 初始法术只有一种元素 |\n| $10 \\sim 20$ | $10^5$ | $10^5$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\le q,|S| \\leq 10^5$，$1 \\leq A,B,C,D,E \\leq 10^9$，$1 \\leq l \\leq r \\leq |S|$，$1 \\leq k \\leq 5$。\n\n------------\n### 题目背景 ( 续 )\n&emsp;&emsp;这边，绫还在摸索着变换法术，却感觉腰间的令牌被抓了一下。“喂？！”  \n&emsp;&emsp;只见一个披头散发的少女正半跪着扒在她的腰间，左手还提着银灰色毛发的小兔子的一对耳朵，“你……是刚才那只狐狸？”绫尴尬地收回法术，不自觉地伸出手揉了揉少女头顶雪白的兽耳，心想着这只狐狸精得有多傻。“我可是除妖师哟，你不怕吗？”  \n&emsp;&emsp;“……绫？”少女并没有理会绫的话，只是努力地认出了令牌上刻着的名字。  \n&emsp;&emsp;绫好奇的目光撞上了少女璀璨的碧绿双眸，又不经意间扫过小巧的鼻梁，玲珑的小嘴，白皙的脖子，但再随着如凝的肌肤滑下……  \n&emsp;&emsp;一直被视作男儿的绫哪见过这般风景，只觉得自己大脑当了机，还隐约嗅到出自鼻腔的铁锈味儿，身体便向后靠倒在一棵树干上，连忙用双手捂住滚烫的脸颊。  \n&emsp;&emsp;“绫？绫？你怎么啦？！”少女心急地凑上去，绫吓得下意识往后退，却忘记身后是一棵粗壮的树干。“欸，绫手上的，是血吗……”双眼紧闭的绫听得出来少女像是被吓到了，看来还是一只没开过荤的狐狸精呢。  \n&emsp;&emsp;“绫……你没事吧……”少女分明带着哭腔，小心翼翼地学着自己还是小狐狸的时候妈妈照顾自己的方式，在绫的身上东摸西摸。  \n&emsp;&emsp;“我，我没事……”绫已经不敢想象究竟是哪些部位在触碰自己的皮肤了，“你……你先变回狐狸……快！”绫当然想把少女推开，却又怎么敢伸出手触碰少女呢？  \n&emsp;&emsp;少女闻言，一怔，但还是乖乖变回了一只狐狸，还不忘叼起几欲逃走的兔子。  \n&emsp;&emsp;绫赶忙收拾了自己的窘相，惊恐地扶着树干，确认自己的人身安全后，轻轻捏住小狐狸的后颈，提起在地上的两小只。  \n&emsp;&emsp;“以后不许再胡乱变成人形了，听到没有！”绫后怕地警告着小狐狸，却见右手的小狐狸直勾勾地盯着左手的小兔子，而左手的小兔子好像想钻进自己的手心里，哪有听她的话呀……  \n&emsp;&emsp;“哎，算了……”绫把小狐狸放在肩头，把似乎吓晕的小兔子递给她，“一会儿再吃哦。”（雨兔兔：我好难qwq。）  \n&emsp;&emsp;“就算……捡了一只宠物吧。”绫心里想着。  \n\n&emsp;&emsp;（未完待续www……）", "locale": "zh-CN"}}}
{"pid": "P6397", "type": "P", "difficulty": 4, "samples": [["3.000 \n2 \n0.000 \n6.000\n", "1.500"], ["2.000 \n4 \n0.000 \n4.000 \n4.000 \n8.000\n", "1.000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "Special Judge", "COI（克罗地亚）"], "title": "[COI 2008] GLASNICI", "background": "", "description": "一条直线上有 $n$ 个信使，将他们按照从左至右的顺序以 $1$ 至 $n$ 编号。换句话说，设 $i$ 号信使的的坐标为 $d_i$，则对于 $1 \\leq i \\lt n$， $d_i \\leq d_{i + 1}$。\n\n信使传递一条消息的方法如下：\n\n- 在任意时刻（不一定是整数时刻），任一信使（无论是否已知消息）都可以自由选择向左移动或者向右移动或者原地不动。其移动的速度为每秒 $1$ 单位长度。\n- 当两个信使相距不超过一给定实数 $k$ 时，双方可以进行消息传递，也即如果两人中有一人已知该消息，则两人都知道了该消息。消息传递是瞬间发生的，不消耗时间。\n\n现在 $1$ 号信使得到了一条消息，请求出最小的让所有信使都得到该消息的用时。", "inputFormat": "第一行有一个实数，表示可以进行消息传递的最大距离 $k$。\n\n第二行有一个整数，表示信使的个数 $n$。\n\n第 $3$ 到第 $(n + 2)$ 行，每行一个实数，第 $(i + 2)$ 行的实数 $d_i$ 表示信使 $i$ 的坐标。", "outputFormat": "**本题使用 Special Judge**。\n\n输出一行一个实数表示答案。当你的输出与标准答案相差不超过 $10^{-3}$ 即可得到对应测试点的分数。因此建议您**至少保留四位小数**。", "hint": "#### 样例 1 解释\n\n在前 $1.5$ 秒，$1$ 号信使向右走，$2$ 号信使向左走。\n\n第 $1.5$ 秒时，$1$ 号信使在坐标 $1.5$ 处，$2$ 号信使在坐标 $4.5$ 处，二者距离不超过 $3$，可以进行消息传递。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 10^5$，$0 \\leq k \\leq 10^6$。\n- $0 \\leq d_i \\leq 10^9$，且对于任意的 $1 \\leq i \\lt n$，都有 $d_i \\leq d_{i + 1}$。\n- 输入的实数小数点后均有 $3$ 位数字。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T1 GLASNICI***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"en": {"title": "[COI 2008] GLASNICI", "background": "", "description": "There are $n$ messengers on a straight line. Number them from $1$ to $n$ in order from left to right. In other words, let the coordinate of messenger $i$ be $d_i$. Then for $1 \\leq i \\lt n$, we have $d_i \\leq d_{i + 1}$.\n\nMessengers pass a message in the following way:\n\n- At any moment (not necessarily an integer time), any messenger (whether they already know the message or not) may freely choose to move left, move right, or stay still. Their speed is $1$ unit length per second.\n- When the distance between two messengers is no more than a given real number $k$, they can pass the message. That is, if at least one of them knows the message, then both of them will know it. Message passing happens instantly and takes no time.\n\nNow messenger $1$ has obtained a message. Find the minimum time needed to make all messengers obtain the message.", "inputFormat": "The first line contains a real number, the maximum distance $k$ within which message passing is possible.\n\nThe second line contains an integer, the number of messengers $n$.\n\nLines $3$ to $(n + 2)$ each contain a real number. The real number on line $(i + 2)$ is $d_i$, the coordinate of messenger $i$.", "outputFormat": "**This problem uses Special Judge**.\n\nOutput one real number in one line, the answer. If your output differs from the standard answer by at most $10^{-3}$, you can get the score for the corresponding test point. Therefore, it is recommended that you **keep at least four digits after the decimal point**.", "hint": "#### Sample 1 Explanation\n\nIn the first $1.5$ seconds, messenger $1$ walks to the right, and messenger $2$ walks to the left.\n\nAt time $1.5$ seconds, messenger $1$ is at coordinate $1.5$, and messenger $2$ is at coordinate $4.5$. The distance between them is no more than $3$, so they can pass the message.\n\n#### Constraints and Notes\n\nFor all test points, it is guaranteed that:\n\n- $1 \\leq n \\leq 10^5$, $0 \\leq k \\leq 10^6$.\n- $0 \\leq d_i \\leq 10^9$, and for any $1 \\leq i \\lt n$, we have $d_i \\leq d_{i + 1}$.\n- In the input, each real number has exactly $3$ digits after the decimal point.\n\n#### Note\n\n**This problem is translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T1 GLASNICI***. The translation and SPJ are provided by [一扶苏一](https://www.luogu.com.cn/user/65363).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COI 2008] GLASNICI", "background": "", "description": "一条直线上有 $n$ 个信使，将他们按照从左至右的顺序以 $1$ 至 $n$ 编号。换句话说，设 $i$ 号信使的的坐标为 $d_i$，则对于 $1 \\leq i \\lt n$， $d_i \\leq d_{i + 1}$。\n\n信使传递一条消息的方法如下：\n\n- 在任意时刻（不一定是整数时刻），任一信使（无论是否已知消息）都可以自由选择向左移动或者向右移动或者原地不动。其移动的速度为每秒 $1$ 单位长度。\n- 当两个信使相距不超过一给定实数 $k$ 时，双方可以进行消息传递，也即如果两人中有一人已知该消息，则两人都知道了该消息。消息传递是瞬间发生的，不消耗时间。\n\n现在 $1$ 号信使得到了一条消息，请求出最小的让所有信使都得到该消息的用时。", "inputFormat": "第一行有一个实数，表示可以进行消息传递的最大距离 $k$。\n\n第二行有一个整数，表示信使的个数 $n$。\n\n第 $3$ 到第 $(n + 2)$ 行，每行一个实数，第 $(i + 2)$ 行的实数 $d_i$ 表示信使 $i$ 的坐标。", "outputFormat": "**本题使用 Special Judge**。\n\n输出一行一个实数表示答案。当你的输出与标准答案相差不超过 $10^{-3}$ 即可得到对应测试点的分数。因此建议您**至少保留四位小数**。", "hint": "#### 样例 1 解释\n\n在前 $1.5$ 秒，$1$ 号信使向右走，$2$ 号信使向左走。\n\n第 $1.5$ 秒时，$1$ 号信使在坐标 $1.5$ 处，$2$ 号信使在坐标 $4.5$ 处，二者距离不超过 $3$，可以进行消息传递。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 10^5$，$0 \\leq k \\leq 10^6$。\n- $0 \\leq d_i \\leq 10^9$，且对于任意的 $1 \\leq i \\lt n$，都有 $d_i \\leq d_{i + 1}$。\n- 输入的实数小数点后均有 $3$ 位数字。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T1 GLASNICI***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6398", "type": "P", "difficulty": 5, "samples": [["10 3\n5\n4\n5\n8\n7\n6\n", "5 \n4 6 \n4 6 \n6 8 \n6 8 \n6 8"], ["15 4\n6\n6\n14\n11\n3\n8\n5\n", "10\n3 6\n11 14 \n11 14\n3 6\n5 8\n3 6"], ["1000 301\n3\n300\n500\n700\n", "401\n300 600\n350 650\n400 700"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "Special Judge", "COI（克罗地亚）"], "title": "[COI 2008] KOLEKCIJA", "background": "", "description": "Igor 有一个包含 $n$ 首歌的歌单，歌曲从 $1$ 至 $n$ 编号，他今天要听 $m$ 首歌。\n\n当播放第 $i$ 首歌时，连续 $k$ 首歌的信息会被显示在一个列表上，这连续 $k$ 首歌必须包含第 $i$ 首歌，但是没有其他要求。\n\n当一首歌被显示在列表上时，它的信息会被读取一次。如果一首歌多次被显示在列表上，他的信息也**只会被读取一次**（无论两次显示是否连续）。\n\n请给出一种方案，使得系统读取歌曲信息的次数**最少**。", "inputFormat": "第一行有两个整数，分别表示歌单的歌曲数 $n$ 和给定的参数 $k$。\n\n第二行有一个整数，表示 Igor 要听的歌曲数 $m$。\n\n第 $3$ 到第 $(m + 2)$ 行，每行一个整数，表示 Igor 要听的第 $i$ 首歌的编号 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $t$，表示读取歌曲信息的最少次数。\n\n第 $2$ 到第 $(m + 1)$ 行，每行两个整数，第 $(i + 1)$ 行的 $l_i, r_i$，表示听第 $i$ 首歌的时候显示第 $l_i$ 到第 $r_i$ 首歌的信息。\n\n你的输出需要保证 $r_i - l_i + 1 = k$，$1 \\leq l_i \\lt r_i \\leq n$，且按照你给出的方案读取的歌曲数为 $t$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq k \\lt n \\leq 10^9$，$1 \\leq m \\leq 3 \\times 10^5$。\n- $1 \\leq a_i \\leq n$，$a_i$ 互不相同。\n\n#### 计分标准\n\n- 如果输出的数字不足 $(2 \\cdot m + 1)$ 个，或输出第一行的数字 $t$ 与答案不同，则获得测试点 $0\\%$ 的分数。\n- 如果 $t$ 与答案相同，输出方案错误，则获得该测试点 $50\\%$ 的分数。\n- 如果 $t$ 与答案相同，且输出方案正确，则获得该测试点 $100\\%$ 的分数。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T2 KOLEKCIJA***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"en": {"title": "[COI 2008] KOLEKCIJA", "background": "", "description": "Igor has a playlist containing $n$ songs, numbered from $1$ to $n$. Today he is going to listen to $m$ songs.\n\nWhen playing the $i$-th song, the information of $k$ consecutive songs will be shown in a list. These $k$ consecutive songs must include the $i$-th song, and there are no other requirements.\n\nWhen a song is shown in the list, its information will be read once. If a song is shown in the list multiple times, its information will **only be read once** (no matter whether the two displays are consecutive).\n\nPlease give a plan that makes the number of songs whose information gets read **as small as possible**.", "inputFormat": "The first line contains two integers, representing the number of songs in the playlist $n$ and the given parameter $k$.\n\nThe second line contains one integer, representing the number of songs Igor will listen to, $m$.\n\nLines $3$ to $(m + 2)$ each contain one integer, representing the index $a_i$ of the $i$-th song Igor will listen to.", "outputFormat": "**This problem uses a Special Judge.**\n\nIn the first line, output an integer $t$, the minimum number of times song information is read.\n\nIn lines $2$ to $(m + 1)$, output two integers per line. On line $(i + 1)$, output $l_i, r_i$, meaning that when listening to the $i$-th song, the information of songs from $l_i$ to $r_i$ is displayed.\n\nYour output must satisfy $r_i - l_i + 1 = k$, $1 \\leq l_i \\lt r_i \\leq n$, and the number of songs read according to your plan is $t$.", "hint": "#### Constraints\n\nFor all test cases, it is guaranteed that:\n\n- $1 \\leq k \\lt n \\leq 10^9$, $1 \\leq m \\leq 3 \\times 10^5$.\n- $1 \\leq a_i \\leq n$, and all $a_i$ are pairwise distinct.\n\n#### Scoring\n\n- If the number of output numbers is less than $(2 \\cdot m + 1)$, or the number $t$ in the first line is different from the answer, you will get $0\\%$ of the score for that test point.\n- If $t$ is the same as the answer but the output plan is incorrect, you will get $50\\%$ of the score for that test point.\n- If $t$ is the same as the answer and the output plan is correct, you will get $100\\%$ of the score for that test point.\n\n#### Notes\n\n**This problem is translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T2 KOLEKCIJA***. The translation and SPJ are provided by [一扶苏一](https://www.luogu.com.cn/user/65363).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COI 2008] KOLEKCIJA", "background": "", "description": "Igor 有一个包含 $n$ 首歌的歌单，歌曲从 $1$ 至 $n$ 编号，他今天要听 $m$ 首歌。\n\n当播放第 $i$ 首歌时，连续 $k$ 首歌的信息会被显示在一个列表上，这连续 $k$ 首歌必须包含第 $i$ 首歌，但是没有其他要求。\n\n当一首歌被显示在列表上时，它的信息会被读取一次。如果一首歌多次被显示在列表上，他的信息也**只会被读取一次**（无论两次显示是否连续）。\n\n请给出一种方案，使得系统读取歌曲信息的次数**最少**。", "inputFormat": "第一行有两个整数，分别表示歌单的歌曲数 $n$ 和给定的参数 $k$。\n\n第二行有一个整数，表示 Igor 要听的歌曲数 $m$。\n\n第 $3$ 到第 $(m + 2)$ 行，每行一个整数，表示 Igor 要听的第 $i$ 首歌的编号 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $t$，表示读取歌曲信息的最少次数。\n\n第 $2$ 到第 $(m + 1)$ 行，每行两个整数，第 $(i + 1)$ 行的 $l_i, r_i$，表示听第 $i$ 首歌的时候显示第 $l_i$ 到第 $r_i$ 首歌的信息。\n\n你的输出需要保证 $r_i - l_i + 1 = k$，$1 \\leq l_i \\lt r_i \\leq n$，且按照你给出的方案读取的歌曲数为 $t$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq k \\lt n \\leq 10^9$，$1 \\leq m \\leq 3 \\times 10^5$。\n- $1 \\leq a_i \\leq n$，$a_i$ 互不相同。\n\n#### 计分标准\n\n- 如果输出的数字不足 $(2 \\cdot m + 1)$ 个，或输出第一行的数字 $t$ 与答案不同，则获得测试点 $0\\%$ 的分数。\n- 如果 $t$ 与答案相同，输出方案错误，则获得该测试点 $50\\%$ 的分数。\n- 如果 $t$ 与答案相同，且输出方案正确，则获得该测试点 $100\\%$ 的分数。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T2 KOLEKCIJA***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6399", "type": "P", "difficulty": 5, "samples": [["31\n9\n15\n25\n30\n6\n9\n19\n24\n27\n4", "6"], ["10000\n5\n52\n4\n9\n25\n27", "9953"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2008", "COI（克罗地亚）"], "title": "[COI 2008] TAMNICA", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/4mwkg9lv.png)\n\n现在有一个无限大的迷宫，数字如图方式排列。两个数字之间的黑线表示有一堵墙隔开，如果没有则可以互相到达。\n\n你从 $1$ 出发，出口在 $n$ 。现在由于地震，有一些墙倒了，这正好便利了你的通行。趁着人们的慌乱，你需要经过尽可能少的数字来迅速出逃。请你算出出逃最少需要的步数。", "inputFormat": "输入第一行为一个整数 $n$ ，表示出口所在的格子。\n\n第二行为一个整数 $k$，表示因地震倒塌的墙的数量。\n\n接下来的 $k$ 行，每行一个整数 $b$，表示一堵倒塌的墙的一侧的数字。\n\n另一侧的数字 $a$ 没有给出，但已知 $a<b$，所以你可以自己推导出 $a$ 的值，进而得出是哪堵墙倒塌了。当然，有些数字（比如 $2,3,5,7,10,13$） 永远不会是 $b$ 数字。", "outputFormat": "输出一行一个整数，表示最少需要经过的数字的数量（不包含 $1$）。", "hint": "#### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nrsqftne.png)\n\n对于样例 $1$ 的地震后迷宫的状态如图所示。\n\n$1-4-15-14-13-30-31$ 这条线路溜得最快。共经过了 $6$ 个数字。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n\\le 10^6$；\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^{15}$，$1\\le k\\le 10^5$，$4\\le b\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T3 TAMNICA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2008] TAMNICA", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/4mwkg9lv.png)\n\n现在有一个无限大的迷宫，数字如图方式排列。两个数字之间的黑线表示有一堵墙隔开，如果没有则可以互相到达。\n\n你从 $1$ 出发，出口在 $n$ 。现在由于地震，有一些墙倒了，这正好便利了你的通行。趁着人们的慌乱，你需要经过尽可能少的数字来迅速出逃。请你算出出逃最少需要的步数。", "inputFormat": "输入第一行为一个整数 $n$ ，表示出口所在的格子。\n\n第二行为一个整数 $k$，表示因地震倒塌的墙的数量。\n\n接下来的 $k$ 行，每行一个整数 $b$，表示一堵倒塌的墙的一侧的数字。\n\n另一侧的数字 $a$ 没有给出，但已知 $a<b$，所以你可以自己推导出 $a$ 的值，进而得出是哪堵墙倒塌了。当然，有些数字（比如 $2,3,5,7,10,13$） 永远不会是 $b$ 数字。", "outputFormat": "输出一行一个整数，表示最少需要经过的数字的数量（不包含 $1$）。", "hint": "#### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nrsqftne.png)\n\n对于样例 $1$ 的地震后迷宫的状态如图所示。\n\n$1-4-15-14-13-30-31$ 这条线路溜得最快。共经过了 $6$ 个数字。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n\\le 10^6$；\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^{15}$，$1\\le k\\le 10^5$，$4\\le b\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T3 TAMNICA***。", "locale": "zh-CN"}}}
{"pid": "P6400", "type": "P", "difficulty": 6, "samples": [["20 30", "2"], ["145 192", "4"], ["2224222 2224222", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2008", "COI（克罗地亚）"], "title": "[COI 2008] UMNOZAK", "background": "", "description": "定义一个正整数的位数积为其每一个数位的数字相乘的结果。例如：\n\n$2612$ 的位数积为：$2\\times 6\\times 1\\times 2=24$。\n\n定义一个正整数的自积为这个数乘它的位数积之后的结果。例如：\n\n$2612$ 的自积为：$2612\\times 24=62688$。\n\n给定两个整数 $A,B$，请你求出自积在 $[A,B]$ 这个区间内的正整数的个数。", "inputFormat": "输入一行两个整数 $A,B$。", "outputFormat": "输出一行一个整数，表示有多少个正整数的自积在区间 $[A,B]$ 内。", "hint": "#### 样例 2 解释\n\n共有 $19,24,32,41$ 这些正整数符合要求，他们的自积分别是 $171,192,192,164$。\n\n#### 数据规模与约定\n\n- 对于 $25\\%$ 的数据，$A\\le B\\le 10^8$；\n- 对于另 $15\\%$ 的数据，$A\\le B\\le 10^{12}$；\n- 对于 $100\\%$ 的数据，$1\\le A\\le B< 10^{18}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T4 UMNOZAK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2008] UMNOZAK", "background": "", "description": "定义一个正整数的位数积为其每一个数位的数字相乘的结果。例如：\n\n$2612$ 的位数积为：$2\\times 6\\times 1\\times 2=24$。\n\n定义一个正整数的自积为这个数乘它的位数积之后的结果。例如：\n\n$2612$ 的自积为：$2612\\times 24=62688$。\n\n给定两个整数 $A,B$，请你求出自积在 $[A,B]$ 这个区间内的正整数的个数。", "inputFormat": "输入一行两个整数 $A,B$。", "outputFormat": "输出一行一个整数，表示有多少个正整数的自积在区间 $[A,B]$ 内。", "hint": "#### 样例 2 解释\n\n共有 $19,24,32,41$ 这些正整数符合要求，他们的自积分别是 $171,192,192,164$。\n\n#### 数据规模与约定\n\n- 对于 $25\\%$ 的数据，$A\\le B\\le 10^8$；\n- 对于另 $15\\%$ 的数据，$A\\le B\\le 10^{12}$；\n- 对于 $100\\%$ 的数据，$1\\le A\\le B< 10^{18}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T4 UMNOZAK***。", "locale": "zh-CN"}}}
{"pid": "P6401", "type": "P", "difficulty": 2, "samples": [["2 3 4 5 6 7 8 9 1\nklor", "44#444555666"], ["7 8 9 1 2 3 6 5 4\ndjevojka", "68662227778#885"], ["9 8 7 6 5 4 3 2 1\nskakavac", "33335585582228#888 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #2] MOBITEL", "background": "", "description": "蚱蜢 Marko 高兴地在草地上跳来跳去。他不小心，他的手机掉进了水坑。他的手机现在触键弄湿了，键盘的工作方式完全不可预知！所有的数字键都坏了。当我们按下其中一个键时，手机就好像我们按下了另一个键一样。幸运的是，没有两个键按下后的作用是一样的，所以 Marko 仍然可以写出所有的字母。\n\n蚱蜢 Marko 正在做一些实验以找出每个键的动作。现在他想给他的女朋友写封信。因为他只是一只蚱蜢，所以它需要你帮忙。\n\n对于那些不记得手机的按键是如何工作的人，这里有一个简短的描述。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdpj2gk9.png)\n\n这张图片显示了我们可以通过按那个键（在一个没有掉进水坑的工作手机上）得到的带有字母的按键。例如，如果我们想要字母 `a`，我们将按一次键 2，如果我们想要字母 `b`，我们将按两次键 2。如果我们想连续用同一个键写两个字母，我们必须按一次键 `#`。例如，如果要编写字符串 `klor`，我们将按以下顺序按键：`55#555666777`。", "inputFormat": "第一行输入包含 $9$ 个整数。第一个整数表示按下键 `1` 的作用相当于原来的哪个键，第二个表示按下键 `2` 的作用相当于原来的哪个键，第三个表示表示按下键 `3` 的作用相当于原来的哪个键，依此类推。马尔科不会使用 `*` 和 `0` 键。键 `#` 不会坏。\n\n第二行输入包含一个字符串 $s$，该字符串仅由英文字母表中的小写字母组成，表示蚱蜢 Marko 想要打出的字符串。", "outputFormat": "第一行也是唯一一行，输出可以打印出蚱蜢 Marko 所想要的字符串需要按的键序列。", "hint": "#### 样例 1 说明\n\n所有键的功能都向右移动一个位置，因此输出与题目中的示例语句中的示例略有不同。\n\n#### 数据规模与约定\n\n令 $|s|$ 为字符串 $s$ 的长度，则对于 $100\\%$ 的数据，都有 $1\\le |s|\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T1 MOBITEL_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #2] MOBITEL", "background": "", "description": "蚱蜢 Marko 高兴地在草地上跳来跳去。他不小心，他的手机掉进了水坑。他的手机现在触键弄湿了，键盘的工作方式完全不可预知！所有的数字键都坏了。当我们按下其中一个键时，手机就好像我们按下了另一个键一样。幸运的是，没有两个键按下后的作用是一样的，所以 Marko 仍然可以写出所有的字母。\n\n蚱蜢 Marko 正在做一些实验以找出每个键的动作。现在他想给他的女朋友写封信。因为他只是一只蚱蜢，所以它需要你帮忙。\n\n对于那些不记得手机的按键是如何工作的人，这里有一个简短的描述。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdpj2gk9.png)\n\n这张图片显示了我们可以通过按那个键（在一个没有掉进水坑的工作手机上）得到的带有字母的按键。例如，如果我们想要字母 `a`，我们将按一次键 2，如果我们想要字母 `b`，我们将按两次键 2。如果我们想连续用同一个键写两个字母，我们必须按一次键 `#`。例如，如果要编写字符串 `klor`，我们将按以下顺序按键：`55#555666777`。", "inputFormat": "第一行输入包含 $9$ 个整数。第一个整数表示按下键 `1` 的作用相当于原来的哪个键，第二个表示按下键 `2` 的作用相当于原来的哪个键，第三个表示表示按下键 `3` 的作用相当于原来的哪个键，依此类推。马尔科不会使用 `*` 和 `0` 键。键 `#` 不会坏。\n\n第二行输入包含一个字符串 $s$，该字符串仅由英文字母表中的小写字母组成，表示蚱蜢 Marko 想要打出的字符串。", "outputFormat": "第一行也是唯一一行，输出可以打印出蚱蜢 Marko 所想要的字符串需要按的键序列。", "hint": "#### 样例 1 说明\n\n所有键的功能都向右移动一个位置，因此输出与题目中的示例语句中的示例略有不同。\n\n#### 数据规模与约定\n\n令 $|s|$ 为字符串 $s$ 的长度，则对于 $100\\%$ 的数据，都有 $1\\le |s|\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T1 MOBITEL_。**", "locale": "zh-CN"}}}
