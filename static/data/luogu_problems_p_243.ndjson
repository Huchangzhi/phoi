{"pid": "P5914", "type": "P", "difficulty": 4, "samples": [["4\n6\n7\n10\n15", "42"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2004", "POI（波兰）"], "title": "[POI 2004] MOS", "background": "一个夜晚一些旅行者想要过桥。", "description": "他们只有一个火把。\n- 火把的亮光最多允许两个旅行者同时过桥。\n- 没有火把或者多于 $2$ 个人则不能过桥。\n\n每个旅行者过桥都需要特定的时间，两个旅行者同时过桥时时间应该算较慢的那个。现在我们想知道所有旅行者最少要花费多少时间才能全部过桥?", "inputFormat": "第一行一个数 $n$ 表示旅行者的总数。\n\n接下来 $n$ 行表示所有旅行者的过桥时间，时间从小到大排列。", "outputFormat": "输出一个数表示最少过桥时间。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le10^5$，过桥时间均不超过 $10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[POI 2004] MOS", "background": "One night, some travelers want to cross a bridge.", "description": "They only have one torch.\n- The light from the torch allows at most two travelers to cross the bridge at the same time.\n- Without the torch, or with more than $2$ people, they cannot cross.\n\nEach traveler needs a specific amount of time to cross the bridge. When two travelers cross together, the time is counted as the slower one. Now we want to know the minimum total time needed for all travelers to cross the bridge.", "inputFormat": "The first line contains an integer $n$, the total number of travelers.\n\nThe next $n$ lines give the crossing times of all travelers, sorted from small to large.", "outputFormat": "Output one number, the minimum total crossing time.", "hint": "For $100\\%$ of the testdata, $1 \\le n \\le 10^5$, and each crossing time does not exceed $10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[POI 2004] MOS", "background": "一个夜晚一些旅行者想要过桥。", "description": "他们只有一个火把。\n- 火把的亮光最多允许两个旅行者同时过桥。\n- 没有火把或者多于 $2$ 个人则不能过桥。\n\n每个旅行者过桥都需要特定的时间，两个旅行者同时过桥时时间应该算较慢的那个。现在我们想知道所有旅行者最少要花费多少时间才能全部过桥?", "inputFormat": "第一行一个数 $n$ 表示旅行者的总数。\n\n接下来 $n$ 行表示所有旅行者的过桥时间，时间从小到大排列。", "outputFormat": "输出一个数表示最少过桥时间。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le10^5$，过桥时间均不超过 $10^9$。", "locale": "zh-CN"}}}
{"pid": "P5915", "type": "P", "difficulty": 7, "samples": [["3 2", "2"], ["7 7", "818503"], ["114514 233", "782307368"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "递推", "矩阵加速", "快速傅里叶变换 FFT"], "title": "冬至", "background": ">春生秋死，不知冬至。", "description": "给你 $1 \\sim k$ 的整数，你可以选其中的数，组成长度为 $n$ 的串（可重复使用），且不能有子串是 $1\\sim k$ 的排列。\n  \n问方案总数模 $998244353$。", "inputFormat": "一行两个正整数 $n,k$。", "outputFormat": "一行一个整数，表示方案总数模 $998244353$ 的值。", "hint": "【样例 1 解释】  \n可以组成的合法排列有：$1,1,1$ 和 $2,2,2$  \n其余均不合法，都含有 $1 \\sim 2$ 的排列，因此答案为 $2$。\n\n【样例 2 解释】  \n总共有 $7^7$ 种情况，其中有 $7!$ 个不合法（即 $1 \\sim 7$ 的排列情况数），答案为 $7^7-7!$，即 $818503$。\n\n【数据范围】   \n对于 $100\\%$ 的数据，$1\\le k \\le 10^4$，$1\\le n \\le 10^9$。\n  \nBy：毕克", "locale": "zh-CN", "translations": {"en": {"title": "Winter Solstice", "background": "> Spring is born and autumn dies, not knowing the Winter Solstice.", "description": "You are given the integers $1 \\sim k$. You may choose numbers from them to form a string of length $n$ (repetition is allowed), and no substring is allowed to be a permutation of $1 \\sim k$.\n\nFind the total number of valid strings modulo $998244353$.", "inputFormat": "A single line with two positive integers $n, k$.", "outputFormat": "A single line with one integer, the total number of valid strings modulo $998244353$.", "hint": "[Sample 1 Explanation]  \nThe valid strings that can be formed are: $1,1,1$ and $2,2,2$.  \nAll others are invalid, because they contain a permutation of $1 \\sim 2$. Therefore, the answer is $2$.\n\n[Sample 2 Explanation]  \nThere are $7^7$ strings in total. Among them, $7!$ are invalid (i.e. the number of permutations of $1 \\sim 7$).  \nSo the answer is $7^7-7!$, which is $818503$.\n\n[Constraints]  \nFor all testdata, $1\\le k \\le 10^4$, $1\\le n \\le 10^9$.\n\nBy: Bike (毕克).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "冬至", "background": ">春生秋死，不知冬至。", "description": "给你 $1 \\sim k$ 的整数，你可以选其中的数，组成长度为 $n$ 的串（可重复使用），且不能有子串是 $1\\sim k$ 的排列。\n  \n问方案总数模 $998244353$。", "inputFormat": "一行两个正整数 $n,k$。", "outputFormat": "一行一个整数，表示方案总数模 $998244353$ 的值。", "hint": "【样例 1 解释】  \n可以组成的合法排列有：$1,1,1$ 和 $2,2,2$  \n其余均不合法，都含有 $1 \\sim 2$ 的排列，因此答案为 $2$。\n\n【样例 2 解释】  \n总共有 $7^7$ 种情况，其中有 $7!$ 个不合法（即 $1 \\sim 7$ 的排列情况数），答案为 $7^7-7!$，即 $818503$。\n\n【数据范围】   \n对于 $100\\%$ 的数据，$1\\le k \\le 10^4$，$1\\le n \\le 10^9$。\n  \nBy：毕克", "locale": "zh-CN"}}}
{"pid": "P5916", "type": "P", "difficulty": 3, "samples": [["2\n2\n0 0\n0 0 1\n3\n1 2\n3 4 5", "Case 1: 0.00000\nCase 2: 58.42574"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2014", "各省省选", "福建"], "title": "[FJOI2014] 病毒防护带", "background": "众所周知，在国王胖哥的带领下， K 国国泰民安，空前繁荣，但今天 K 国却遇到了空前的危机。", "description": "在 K 国境内同时发现了 $n$ 个未知的病毒，每个病毒会从它被发现的位置开始感染 K 国的土地， K 国可以看做是一个无限大的二维平面，而病毒的感染形状可以看做是一个不断扩大的圆形区域，即在 $t$ 时间这个病毒会感染半径为 $t$ 的圆形土地，这个圆形的圆心为发现这个病毒的位置。\n\n但是万幸的是， K 国有独特的病毒防护带可以杀死这些病毒，所以 K 国国王胖哥在刚发现病毒之时就开始着手进行杀毒工作，所谓的病毒防护带可以看成是一条直线，可以选定建立在 K 国的任意位置，即可以放置在 K 国所表示的平面上的任意位置，一旦病毒在扩散的过程中接触到这个防护带，病毒就会死亡，它感染的土地面积就固定为这个病毒死亡时所占的土地面积。注意由于防护带的建立十分昂贵， K 国最多只能建立一条病毒防护带。\n\n现在胖哥想知道要如何设立这个病毒防护带，才能使每个病毒感染的平均面积最小，即被感染的总土地面积除以病毒数 $n$，每个病毒可以独立看待，即任意一个病毒的死亡不会影响到其他的病毒。注意如果同一个区域被多个病毒感染，那么在计算被感染的土地面积时需要计算多次，即若有一个病毒在位置 $(0,0)$ 被发现，一个病毒在位置 $(1,1)$ 被发现，它们都在 $t=1$ 时接触到防护带死亡，那么此时 K 国被感染的面积为 $p_i\\times2$，病毒感染的平均面积为 $p_i$。\n\n由于 K 国有举世无双的安全监测系统和卫生防护系统，可以认为在病毒防护带建立完毕之后病毒才开始进行扩散。若病毒出现在病毒防护带上，他感染的土地面积可以看做 $0$。\n\n请编程输出在最优决策下，这些病毒感染的平均面积。", "inputFormat": "第 $1$ 行中给出正整数 $Q$，表示该组数据中有多少组测试样例。\n\n每组样例首先输入一个整数 $n$，表示该组样例中病毒的个数。\n\n之后一行输入两个正整数 $x,y$，表示第一个病毒的坐标。\n\n之后一行输入三个正整数 $a,b,c$，如果第 $i$ 个病毒的坐标为 $(x, y)$，那么第 $i+1$ 个病毒的坐标为 $(x',y')$，其中$x'=(a\\times x^2+b\\times x+c)\\bmod107$，$y'=(a\\times y^2+b\\times y+c)\\bmod107$，其中 $\\bmod$ 是取模运算符号。", "outputFormat": "首先输出样例编号，之后输出在最优决策下，这些病毒会感染的K国的土地面积，答案保留 $5$ 位小数，详见输出示例，请严格按照输出实例中的格式输出。", "hint": "对于 $100\\%$ 的数据，满足 $0\\le Q\\times n \\le 10^7$，$0\\le x,y,a,b,c\\le100$，$Q\\le n$，$0<n\\le1000000$", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2014] Virus Defense Belt", "background": "As everyone knows, under the leadership of King Pang Ge, Country K is peaceful and prosperous like never before. But today, Country K has encountered an unprecedented crisis.", "description": "Within Country K, $n$ unknown viruses have been discovered at the same time. Each virus starts infecting the land of Country K from the position where it is discovered. Country K can be viewed as an infinite 2D plane, and the infected region of a virus can be viewed as a continuously expanding circular area. That is, at time $t$, the virus infects a circle of radius $t$, with the center at the discovery position of that virus.\n\nFortunately, Country K has a unique virus defense belt that can kill these viruses. So King Pang Ge began disinfection work immediately after discovering the viruses. The so-called virus defense belt can be considered as a straight line, which can be placed at any position on the plane representing Country K. Once a virus touches this defense belt during its spread, it dies, and its infected land area becomes fixed as the area it occupied at the moment of death. Note that building the defense belt is very expensive, so Country K can build at most one virus defense belt.\n\nNow Pang Ge wants to know how to place this virus defense belt so that the average infected area of each virus is minimized, i.e. the total infected land area divided by the number of viruses $n$. Each virus can be considered independently, meaning the death of any one virus does not affect the others. Note that if the same region is infected by multiple viruses, it must be counted multiple times when computing the infected land area. For example, if one virus is discovered at $(0,0)$ and another at $(1,1)$, and both touch the defense belt and die at $t=1$, then the infected area of Country K at this time is $p_i\\times2$, and the average infected area per virus is $p_i$.\n\nSince Country K has a world-class security monitoring system and public health protection system, you may assume that viruses start spreading only after the defense belt has been built. If a virus appears on the defense belt, its infected land area can be considered as $0$.\n\nPlease write a program to output, under the optimal decision, the average infected area of these viruses.", "inputFormat": "The 1st line contains a positive integer $Q$, indicating how many test cases are in this dataset.\n\nFor each test case, first input an integer $n$, indicating the number of viruses in this test case.\n\nThen one line contains two positive integers $x,y$, indicating the coordinates of the first virus.\n\nThen one line contains three positive integers $a,b,c$. If the coordinates of the $i$-th virus are $(x, y)$, then the coordinates of the $(i+1)$-th virus are $(x',y')$, where $x'=(a\\times x^2+b\\times x+c)\\bmod107$, $y'=(a\\times y^2+b\\times y+c)\\bmod107$. Here $\\bmod$ is the modulo operator.", "outputFormat": "First output the sample index, then output, under the optimal decision, the land area of Country K that will be infected by these viruses. Print the answer with $5$ digits after the decimal point. See the output example for details. Please strictly follow the format in the output example.", "hint": "For $100\\%$ of the data, it holds that $0\\le Q\\times n \\le 10^7$, $0\\le x,y,a,b,c\\le100$, $Q\\le n$, $0<n\\le1000000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2014] 病毒防护带", "background": "众所周知，在国王胖哥的带领下， K 国国泰民安，空前繁荣，但今天 K 国却遇到了空前的危机。", "description": "在 K 国境内同时发现了 $n$ 个未知的病毒，每个病毒会从它被发现的位置开始感染 K 国的土地， K 国可以看做是一个无限大的二维平面，而病毒的感染形状可以看做是一个不断扩大的圆形区域，即在 $t$ 时间这个病毒会感染半径为 $t$ 的圆形土地，这个圆形的圆心为发现这个病毒的位置。\n\n但是万幸的是， K 国有独特的病毒防护带可以杀死这些病毒，所以 K 国国王胖哥在刚发现病毒之时就开始着手进行杀毒工作，所谓的病毒防护带可以看成是一条直线，可以选定建立在 K 国的任意位置，即可以放置在 K 国所表示的平面上的任意位置，一旦病毒在扩散的过程中接触到这个防护带，病毒就会死亡，它感染的土地面积就固定为这个病毒死亡时所占的土地面积。注意由于防护带的建立十分昂贵， K 国最多只能建立一条病毒防护带。\n\n现在胖哥想知道要如何设立这个病毒防护带，才能使每个病毒感染的平均面积最小，即被感染的总土地面积除以病毒数 $n$，每个病毒可以独立看待，即任意一个病毒的死亡不会影响到其他的病毒。注意如果同一个区域被多个病毒感染，那么在计算被感染的土地面积时需要计算多次，即若有一个病毒在位置 $(0,0)$ 被发现，一个病毒在位置 $(1,1)$ 被发现，它们都在 $t=1$ 时接触到防护带死亡，那么此时 K 国被感染的面积为 $p_i\\times2$，病毒感染的平均面积为 $p_i$。\n\n由于 K 国有举世无双的安全监测系统和卫生防护系统，可以认为在病毒防护带建立完毕之后病毒才开始进行扩散。若病毒出现在病毒防护带上，他感染的土地面积可以看做 $0$。\n\n请编程输出在最优决策下，这些病毒感染的平均面积。", "inputFormat": "第 $1$ 行中给出正整数 $Q$，表示该组数据中有多少组测试样例。\n\n每组样例首先输入一个整数 $n$，表示该组样例中病毒的个数。\n\n之后一行输入两个正整数 $x,y$，表示第一个病毒的坐标。\n\n之后一行输入三个正整数 $a,b,c$，如果第 $i$ 个病毒的坐标为 $(x, y)$，那么第 $i+1$ 个病毒的坐标为 $(x',y')$，其中$x'=(a\\times x^2+b\\times x+c)\\bmod107$，$y'=(a\\times y^2+b\\times y+c)\\bmod107$，其中 $\\bmod$ 是取模运算符号。", "outputFormat": "首先输出样例编号，之后输出在最优决策下，这些病毒会感染的K国的土地面积，答案保留 $5$ 位小数，详见输出示例，请严格按照输出实例中的格式输出。", "hint": "对于 $100\\%$ 的数据，满足 $0\\le Q\\times n \\le 10^7$，$0\\le x,y,a,b,c\\le100$，$Q\\le n$，$0<n\\le1000000$", "locale": "zh-CN"}}}
{"pid": "P5917", "type": "P", "difficulty": 4, "samples": [["1 2\n2 3\n3 4\n4 5", "40\n4 10\n5 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2001", "IOI"], "title": "[IOI 1995] 铺放矩形块", "background": "", "description": "给定 $ 4 $ 个矩形块，找出一个最小的封闭矩形将这 $ 4 $ 个矩形块放入，但不得相互重叠。所谓最小矩形指该矩形面积最小。\n\n所有 $ 4 $ 个矩形块的边都与封闭矩形的边相平行。\n\n可能存在满足条件且有着同样面积的各种不同的封闭矩形， 你应该输出所有这些封闭矩形的边长。\n", "inputFormat": "输入文件共有 $ 4 $ 行。每一行用两个正整数来表示一个给定的矩形块的两个边长。矩形块的每条边的边长范围最小是 $ 1 $，最大是 $ 50 $。", "outputFormat": "输出文件的总行数为解的总数加 $ 1 $。第一行是一个整数， 代表封闭矩形的最小面积（子任务 $ A $）。接下来的每一行都表示一个解，由数 $ P $ 和数$ Q $ 来表示，并且 $ P \\leq Q $（子任务 $ B $）。这些行必须根据 $ P $ 的大小按升序排列，$ P $ 小的行在前，大的在后。且所有行都应是不同的。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 1995] Placing Rectangular Blocks", "background": "", "description": "Given $4$ rectangles, find a smallest enclosing rectangle that can contain all $4$ rectangles without overlapping. “Smallest” means the enclosing rectangle has the minimum area.\n\nAll sides of the $4$ rectangles are parallel to the sides of the enclosing rectangle.\n\nThere may be multiple different enclosing rectangles with the same minimum area. You should output the side lengths of all such enclosing rectangles.", "inputFormat": "The input has $4$ lines. Each line contains two positive integers representing the two side lengths of one given rectangle. The side length of each rectangle is at least $1$ and at most $50$.", "outputFormat": "The total number of output lines is the number of solutions plus $1$. The first line is an integer representing the minimum area of the enclosing rectangle (Subtask $A$). Each following line represents one solution, given by two numbers $P$ and $Q$, with $P \\leq Q$ (Subtask $B$). These lines must be sorted in increasing order of $P$ (smaller $P$ first). All lines must be distinct.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 1995] 铺放矩形块", "background": "", "description": "给定 $ 4 $ 个矩形块，找出一个最小的封闭矩形将这 $ 4 $ 个矩形块放入，但不得相互重叠。所谓最小矩形指该矩形面积最小。\n\n所有 $ 4 $ 个矩形块的边都与封闭矩形的边相平行。\n\n可能存在满足条件且有着同样面积的各种不同的封闭矩形， 你应该输出所有这些封闭矩形的边长。\n", "inputFormat": "输入文件共有 $ 4 $ 行。每一行用两个正整数来表示一个给定的矩形块的两个边长。矩形块的每条边的边长范围最小是 $ 1 $，最大是 $ 50 $。", "outputFormat": "输出文件的总行数为解的总数加 $ 1 $。第一行是一个整数， 代表封闭矩形的最小面积（子任务 $ A $）。接下来的每一行都表示一个解，由数 $ P $ 和数$ Q $ 来表示，并且 $ P \\leq Q $（子任务 $ B $）。这些行必须根据 $ P $ 的大小按升序排列，$ P $ 小的行在前，大的在后。且所有行都应是不同的。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P5918", "type": "P", "difficulty": 6, "samples": [["4", "5\n1 4 8 6 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "各省省选", "福建", "Special Judge"], "title": "[FJOI2015] 金币换位问题", "background": "", "description": "给定一个 $n$，最开始序列长这样：\n\n$$\n\\underbrace{\\tt 111\\cdots11}_{n \\text{ 个 } 1}\\underbrace{\\tt 000\\cdots00}_{n \\text{ 个 } 0}\\verb!__!\n$$\n\n现在要求用最少的交换步数，使得最终的序列为\n\n$$\n\\underbrace{\\tt 101010\\cdots 1010}_{2\\times n \\text{ 个 } 01 \\text{ 交替排列}}\\verb!__!\n$$\n\n所谓交换是指**将相邻两个非空格的数一起挪到两个空格上**。\n\n例如，下面是 $n=4$ 时的一组合法解：\n\n- 初始状态：$\\verb!11110000__!$。\n- 第 $1$ 步：$\\verb!__11000011!$。\n- 第 $2$ 步：$\\verb!101__00011!$。\n- 第 $3$ 步：$\\verb!1010100__1!$。\n- 第 $4$ 步：$\\verb!10101__001!$。\n- 第 $5$ 步：$\\verb!10101010__!$。\n\n可以证明，最少的操作次数就是 $5$ 步。", "inputFormat": "输入共一行一个整数 $n$。\n", "outputFormat": "第一行输出最少移动步数。\n\n接下来一行为移动方案，只要输出被移动的两个非空格格子左边那个的编号。详见样例。", "hint": "对于 $100\\%$ 的数据，$2<n\\le 2\\times 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[FJOI2015] Coin Swapping Problem", "background": "", "description": "Given an integer $n$, the initial sequence looks like this:\n\n$$\n\\underbrace{\\tt 111\\cdots11}_{n \\text{ ones}}\\underbrace{\\tt 000\\cdots00}_{n \\text{ zeros}}\\verb!__!\n$$\n\nNow you need to use the minimum number of swaps to make the final sequence become:\n\n$$\n\\underbrace{\\tt 101010\\cdots 1010}_{2\\times n \\text{ digits with alternating } 0 \\text{ and } 1}\\verb!__!\n$$\n\nA swap means **moving two adjacent non-blank digits together onto the two blanks**.\n\nFor example, the following is a valid solution when $n=4$:\n\n- Initial state: $\\verb!11110000__!$.\n- Step $1$: $\\verb!__11000011!$.\n- Step $2$: $\\verb!101__00011!$.\n- Step $3$: $\\verb!1010100__1!$.\n- Step $4$: $\\verb!10101__001!$.\n- Step $5$: $\\verb!10101010__!$.\n\nIt can be proven that the minimum number of operations is $5$.", "inputFormat": "The input contains one line with an integer $n$.", "outputFormat": "Output the minimum number of moves in the first line.\n\nIn the next line, output a move plan. You only need to output the index of the left one of the two moved non-blank cells. See the sample for details.", "hint": "For $100\\%$ of the testdata, $2<n\\le 2\\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[FJOI2015] 金币换位问题", "background": "", "description": "给定一个 $n$，最开始序列长这样：\n\n$$\n\\underbrace{\\tt 111\\cdots11}_{n \\text{ 个 } 1}\\underbrace{\\tt 000\\cdots00}_{n \\text{ 个 } 0}\\verb!__!\n$$\n\n现在要求用最少的交换步数，使得最终的序列为\n\n$$\n\\underbrace{\\tt 101010\\cdots 1010}_{2\\times n \\text{ 个 } 01 \\text{ 交替排列}}\\verb!__!\n$$\n\n所谓交换是指**将相邻两个非空格的数一起挪到两个空格上**。\n\n例如，下面是 $n=4$ 时的一组合法解：\n\n- 初始状态：$\\verb!11110000__!$。\n- 第 $1$ 步：$\\verb!__11000011!$。\n- 第 $2$ 步：$\\verb!101__00011!$。\n- 第 $3$ 步：$\\verb!1010100__1!$。\n- 第 $4$ 步：$\\verb!10101__001!$。\n- 第 $5$ 步：$\\verb!10101010__!$。\n\n可以证明，最少的操作次数就是 $5$ 步。", "inputFormat": "输入共一行一个整数 $n$。\n", "outputFormat": "第一行输出最少移动步数。\n\n接下来一行为移动方案，只要输出被移动的两个非空格格子左边那个的编号。详见样例。", "hint": "对于 $100\\%$ 的数据，$2<n\\le 2\\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P5919", "type": "P", "difficulty": 6, "samples": [["2\n5\n14", "2 1 4 5 3\n2 3 1 5 6 7 4 9 10 11 12 13 14 8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2004", "POI（波兰）", "数论", "背包 DP"], "title": "[POI 2004] MAK", "background": null, "description": "置换就是 $n$ 个元素 $1$ 对 $1$ 的函数映射$p:\\{1,2,\\ldots,n\\}\\to\\{1,2,\\ldots,n\\}$，一个置换 $p$ 的 `order` 等于最小的 $k\\ge1$，且对所有的 $i=1,2,...,n$ 都满足：\n$$p(p(...(p(i))...))=i$$\n（共 $k$ 次）\n\n\n举个例子，对于 $3$ 个元素的 `order` $p(1)=3,p(2)=2,p(3)=1$ 为 $ 2$，因为$p(p(1))=1,p(p(2))=2,p(p(3))=3$。\n\n对于给定的 $n$ 我们想要一个长度为 $n$ 的置换的 `order` 尽量大。比如说长度为 $5$ 的置换的 order 最大为 $6$。\n\n一个例子就是 $p(1)=4,p(2)=5,p(3)=2,p(4)=1,p(5)=3$。\n\n对于所有使得 `order` 最大的置换中，我们要找到字典序最小的那个。\n\n更精确来说，我们说置换 $p$ 小于置换 $r$，即存在一个 $i$，使得对于所有 $j<i$ 都满足 $p(j)=r(j)$ 且 $p(i)<r(i)$。那么对于长度为 $5$ 的置换中最小的那个为 $p(1)=2,p(2)=1,p(3)=4,p(4)=5,p(5)=3$。", "inputFormat": "第一行一个数 $d$ 表示一共 $d$ 组数据。\n\n接下来 $d$ 行表示长度为 $n_1,n_2,...,n_d$。", "outputFormat": "输出 $d$ 行每行一个最优置换。", "hint": "对于 $100\\%$ 的数据，$1\\le d\\le10$，$1\\le n_i\\le10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[POI 2004] MAK", "background": "", "description": "A permutation is a one-to-one function mapping of $n$ elements $p:\\{1,2,\\ldots,n\\}\\to\\{1,2,\\ldots,n\\}$. The `order` of a permutation $p$ is the smallest $k\\ge 1$ such that for all $i=1,2,\\ldots,n$, the following holds:\n$$p(p(\\ldots(p(i))\\ldots))=i$$\n($k$ times in total).\n\nFor example, for $3$ elements, the permutation with `order` $2$ is $p(1)=3,p(2)=2,p(3)=1$, because $p(p(1))=1,p(p(2))=2,p(p(3))=3$.\n\nFor a given $n$, we want a permutation of length $n$ whose `order` is as large as possible. For example, among permutations of length $5$, the maximum possible order is $6$.\n\nOne example is $p(1)=4,p(2)=5,p(3)=2,p(4)=1,p(5)=3$.\n\nAmong all permutations that achieve the maximum `order`, we need to find the lexicographically smallest one.\n\nMore precisely, we say permutation $p$ is smaller than permutation $r$ if there exists an $i$ such that for all $j<i$ we have $p(j)=r(j)$ and $p(i)<r(i)$. Then, among permutations of length $5$, the smallest one is $p(1)=2,p(2)=1,p(3)=4,p(4)=5,p(5)=3$.", "inputFormat": "The first line contains an integer $d$, meaning there are $d$ test cases.\n\nThe next $d$ lines give the lengths $n_1,n_2,\\ldots,n_d$.", "outputFormat": "Output $d$ lines, each containing one optimal permutation.", "hint": "For $100\\%$ of the testdata, $1\\le d\\le 10$ and $1\\le n_i\\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[POI 2004] MAK", "background": null, "description": "置换就是 $n$ 个元素 $1$ 对 $1$ 的函数映射$p:\\{1,2,\\ldots,n\\}\\to\\{1,2,\\ldots,n\\}$，一个置换 $p$ 的 `order` 等于最小的 $k\\ge1$，且对所有的 $i=1,2,...,n$ 都满足：\n$$p(p(...(p(i))...))=i$$\n（共 $k$ 次）\n\n\n举个例子，对于 $3$ 个元素的 `order` $p(1)=3,p(2)=2,p(3)=1$ 为 $ 2$，因为$p(p(1))=1,p(p(2))=2,p(p(3))=3$。\n\n对于给定的 $n$ 我们想要一个长度为 $n$ 的置换的 `order` 尽量大。比如说长度为 $5$ 的置换的 order 最大为 $6$。\n\n一个例子就是 $p(1)=4,p(2)=5,p(3)=2,p(4)=1,p(5)=3$。\n\n对于所有使得 `order` 最大的置换中，我们要找到字典序最小的那个。\n\n更精确来说，我们说置换 $p$ 小于置换 $r$，即存在一个 $i$，使得对于所有 $j<i$ 都满足 $p(j)=r(j)$ 且 $p(i)<r(i)$。那么对于长度为 $5$ 的置换中最小的那个为 $p(1)=2,p(2)=1,p(3)=4,p(4)=5,p(5)=3$。", "inputFormat": "第一行一个数 $d$ 表示一共 $d$ 组数据。\n\n接下来 $d$ 行表示长度为 $n_1,n_2,...,n_d$。", "outputFormat": "输出 $d$ 行每行一个最优置换。", "hint": "对于 $100\\%$ 的数据，$1\\le d\\le10$，$1\\le n_i\\le10^4$。", "locale": "zh-CN"}}}
{"pid": "P5920", "type": "P", "difficulty": 5, "samples": [["6 5\n7 3\n3 4\n3 3\n6 1\n1 1\n5 5\n5 5\n3 1", "22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2005", "IOI"], "title": "[IOI 2005] gar", "background": " Byteman 拥有镇上最漂亮的花园。", "description": "他在自己的花园里面种了 $N$ 朵玫瑰花。\n\n夏天来了，所有的花都开的非常的漂亮。 Byteman 开始意识到自己没有能力看管自己花园里的所有的花，所以他决定雇佣两个园丁来帮助他。\n\n他想在花园中选择两块矩形的区域分别交给两个园丁看管。而且这两个矩形区域必须不能相交或者重叠，并且每一个区域要恰好包含 $K$ 朵玫瑰花。\n\nByteman 想要给这两块矩形区域的周围安上栅栏，但是他现在手头比较紧，所以他希望自己花的钱尽量的少。你的任务就是帮助 Byteman 选择两块矩形的区域,使得它们在满足条件的情况下周长和最小。 \n\nByteman 的花园有 $L$ 米长，$W$ 米宽。花园被分成了 $L\\times W$ 个大小相同 $1\\times1$ 的方格。我们以平行与花园的两边建立起一个坐标系。所有的方格的坐标 $(x,y)$ 满足 $1\\leq x\\leq L,1\\leq y\\leq W$。每个方格内可能会有任意数目的玫瑰。 \n\n所选的矩形区域的两边必须跟花园的两边平行，并且矩形区域的四个角的坐标必须是整数。对于 $1\\le L_1\\le L_2\\le L$ 并且 $1\\le W_1\\le W_2\\le W$，一个矩形区域的四个角为 $(L_1,W_1),(L_1,W_2)$，$(L_2,W_1)$ 和 $(L_2,W_2)$: \n\n* 这个矩形内所包含的点的坐标 $(x,y)$ 满足$L_1\\le x\\le L_2$并且$W_1\\le y\\le W_2$。\n\n* 这个矩形的周长是 $2\\times (L_2-L_1+1)+2\\times (W_2-W_1+1)$。所选的两块矩形不能重叠或者相交。也就是它们不能有公共的方格。即使它们有公共的边，计算周长的时候也要分别计算。", "inputFormat": "第一行是 $L$ 和 $W$。\n\n第二行是 $N$ 和 $K$。\n\n接下来 $N$ 行为 $N$ 朵玫瑰的坐标。", "outputFormat": "输出仅有一行，为最小周长。\n\n如果不存在满足题意的矩形，则输出`NO`。", "hint": "对于$100\\%$的数据，$1\\le L,W\\le250$，$2\\le n\\le5000,1\\le k\\le \\frac{n}{2}$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2005] gar", "background": " Byteman 拥有镇上最漂亮的花园。", "description": "他在自己的花园里面种了 $N$ 朵玫瑰花。\n\n夏天来了，所有的花都开的非常的漂亮。 Byteman 开始意识到自己没有能力看管自己花园里的所有的花，所以他决定雇佣两个园丁来帮助他。\n\n他想在花园中选择两块矩形的区域分别交给两个园丁看管。而且这两个矩形区域必须不能相交或者重叠，并且每一个区域要恰好包含 $K$ 朵玫瑰花。\n\nByteman 想要给这两块矩形区域的周围安上栅栏，但是他现在手头比较紧，所以他希望自己花的钱尽量的少。你的任务就是帮助 Byteman 选择两块矩形的区域,使得它们在满足条件的情况下周长和最小。 \n\nByteman 的花园有 $L$ 米长，$W$ 米宽。花园被分成了 $L\\times W$ 个大小相同 $1\\times1$ 的方格。我们以平行与花园的两边建立起一个坐标系。所有的方格的坐标 $(x,y)$ 满足 $1\\leq x\\leq L,1\\leq y\\leq W$。每个方格内可能会有任意数目的玫瑰。 \n\n所选的矩形区域的两边必须跟花园的两边平行，并且矩形区域的四个角的坐标必须是整数。对于 $1\\le L_1\\le L_2\\le L$ 并且 $1\\le W_1\\le W_2\\le W$，一个矩形区域的四个角为 $(L_1,W_1),(L_1,W_2)$，$(L_2,W_1)$ 和 $(L_2,W_2)$: \n\n* 这个矩形内所包含的点的坐标 $(x,y)$ 满足$L_1\\le x\\le L_2$并且$W_1\\le y\\le W_2$。\n\n* 这个矩形的周长是 $2\\times (L_2-L_1+1)+2\\times (W_2-W_1+1)$。所选的两块矩形不能重叠或者相交。也就是它们不能有公共的方格。即使它们有公共的边，计算周长的时候也要分别计算。", "inputFormat": "第一行是 $L$ 和 $W$。\n\n第二行是 $N$ 和 $K$。\n\n接下来 $N$ 行为 $N$ 朵玫瑰的坐标。", "outputFormat": "输出仅有一行，为最小周长。\n\n如果不存在满足题意的矩形，则输出`NO`。", "hint": "对于$100\\%$的数据，$1\\le L,W\\le250$，$2\\le n\\le5000,1\\le k\\le \\frac{n}{2}$", "locale": "zh-CN"}}}
{"pid": "P5921", "type": "P", "difficulty": 5, "samples": [["12\n2 3\n3 9\n9 6\n8 5\n5 7\n7 6\n4 5\n5 1\n1 4\n4 2\n2 8\n8 6", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["1999", "POI（波兰）"], "title": "[POI 1999 R3] 原始生物", "background": "鸣谢 `@Jiangly` 提出错误，`@NaCly_Fish` 修改数据。", "description": "原始生物的遗传密码是一个自然数的序列 $K=\\{a_1,\\dots,a_n\\}$。\n\n原始生物的特征是指在遗传密码 $K$ 中连续出现的数对 $(l,r)$，即存在自然数 $i$ 使得 $l=a_i$ 且 $r=a_{i+1}$。保证不存在 $(p,p)$ 形式的特征。\n\n### 任务\n\n请设计一个程序：\n- 读入一系列的特征；\n- 计算包含这些特征的最短的遗传密码的长度；\n- 将结果输出。", "inputFormat": "第一行是一个整数 $n$，表示特征的总数。\n\n在接下来的 $n$ 行里，每行都是一对由空格分隔的自然数 $l$ 和 $r$，表示数对 $(l,r)$ 是原始生物的特征之一。\n\n输入文件中的特征**可能会有重复**，请过滤掉。", "outputFormat": "仅一行一个整数，表示包含这些特征的最短的遗传密码的长度。", "hint": "### 样例解释\n$\\{8,5,1,4,2,3,9,6,4,5,7,6,2,8,6\\}$ 是一个符合题意的遗传密码。\n\n### 数据范围\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le l,r\\le 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1999 R3] 原始生物", "background": "鸣谢 `@Jiangly` 提出错误，`@NaCly_Fish` 修改数据。", "description": "原始生物的遗传密码是一个自然数的序列 $K=\\{a_1,\\dots,a_n\\}$。\n\n原始生物的特征是指在遗传密码 $K$ 中连续出现的数对 $(l,r)$，即存在自然数 $i$ 使得 $l=a_i$ 且 $r=a_{i+1}$。保证不存在 $(p,p)$ 形式的特征。\n\n### 任务\n\n请设计一个程序：\n- 读入一系列的特征；\n- 计算包含这些特征的最短的遗传密码的长度；\n- 将结果输出。", "inputFormat": "第一行是一个整数 $n$，表示特征的总数。\n\n在接下来的 $n$ 行里，每行都是一对由空格分隔的自然数 $l$ 和 $r$，表示数对 $(l,r)$ 是原始生物的特征之一。\n\n输入文件中的特征**可能会有重复**，请过滤掉。", "outputFormat": "仅一行一个整数，表示包含这些特征的最短的遗传密码的长度。", "hint": "### 样例解释\n$\\{8,5,1,4,2,3,9,6,4,5,7,6,2,8,6\\}$ 是一个符合题意的遗传密码。\n\n### 数据范围\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le l,r\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P5923", "type": "P", "difficulty": 4, "samples": [["8\n0\n3\n5\n4\n6\n2\n1\n7\n", "1\n2 5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2004", "IOI", "单调栈"], "title": "[IOI 2004] empodia 障碍段", "background": "古数学及哲学家毕氏相信自然之本质为数学。\n\n现代生物学家研究生物数列。", "description": "生物数列为满足下列条件的 $M$ 个整数所成的数列：\n\n- 包含 $0, 1, \\cdots, M-1$ 中的所有数字。\n- 起始数字为 $0$，最后一个数字为 $M - 1$。\n- 数列中 $E+1$ 不可以紧接在 $E$ 之后。\n\n生物数列的连续子数列称为数段。如果一个数段的：\n\n- 起点为该数段最小的数字。\n\n- 终点为该数段最大的数字且与起点不是同一个数字。\n\n- 且介于这两个数字之间所有的整数都出现在这个数段中。\n\n则称这个数段为框段。\n\n如果框段中并不包含更短的框段，则称之为障碍段。\n\n以 `(0,3,5,4,6,2,1,7)` 这个生物数列为例。 \n\n整个生物数列是一个框段，可是它包含了另外一框段 `(3,5,4,6)`，因此该生物数列不是障碍段。而框段 `(3,5,4,6)` 并不包含任何更短的框段，所以它是一个障碍段，而且是此生物数列中唯一的障碍段。请写一个程序，在输入生物数列后，输出所有的障碍段。", "inputFormat": "第一行为单一整数 $M$，代表生物数列的长度。 \n\n生物数列中的数字依序出现在接下来的 $M$ 行，每一行有一个整数。", "outputFormat": "第一行为一整数 $H$，代表该生物数列中的障碍段的个数。\n\n接下来的 $H$ 行，将每一个障碍段，依照起点在原输入生物数列中出现的顺序，依序输出。\n\n每行以 $2$ 个整数 $A$ 与 $B$ 代表一个障碍段并以一个空格分开。\n\n原输入生物数列第 $A$ 个元素为该障碍段的起点，而第 $B$ 个元素为该障碍段的终点。", "hint": "对于 $100\\%$ 的数据，$M\\le1100000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2004] empodia 障碍段", "background": "古数学及哲学家毕氏相信自然之本质为数学。\n\n现代生物学家研究生物数列。", "description": "生物数列为满足下列条件的 $M$ 个整数所成的数列：\n\n- 包含 $0, 1, \\cdots, M-1$ 中的所有数字。\n- 起始数字为 $0$，最后一个数字为 $M - 1$。\n- 数列中 $E+1$ 不可以紧接在 $E$ 之后。\n\n生物数列的连续子数列称为数段。如果一个数段的：\n\n- 起点为该数段最小的数字。\n\n- 终点为该数段最大的数字且与起点不是同一个数字。\n\n- 且介于这两个数字之间所有的整数都出现在这个数段中。\n\n则称这个数段为框段。\n\n如果框段中并不包含更短的框段，则称之为障碍段。\n\n以 `(0,3,5,4,6,2,1,7)` 这个生物数列为例。 \n\n整个生物数列是一个框段，可是它包含了另外一框段 `(3,5,4,6)`，因此该生物数列不是障碍段。而框段 `(3,5,4,6)` 并不包含任何更短的框段，所以它是一个障碍段，而且是此生物数列中唯一的障碍段。请写一个程序，在输入生物数列后，输出所有的障碍段。", "inputFormat": "第一行为单一整数 $M$，代表生物数列的长度。 \n\n生物数列中的数字依序出现在接下来的 $M$ 行，每一行有一个整数。", "outputFormat": "第一行为一整数 $H$，代表该生物数列中的障碍段的个数。\n\n接下来的 $H$ 行，将每一个障碍段，依照起点在原输入生物数列中出现的顺序，依序输出。\n\n每行以 $2$ 个整数 $A$ 与 $B$ 代表一个障碍段并以一个空格分开。\n\n原输入生物数列第 $A$ 个元素为该障碍段的起点，而第 $B$ 个元素为该障碍段的终点。", "hint": "对于 $100\\%$ 的数据，$M\\le1100000$。", "locale": "zh-CN"}}}
{"pid": "P5924", "type": "P", "difficulty": 4, "samples": [["21 11\n4\n10 4\n6 2\n7 5\n15 10", "10"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2004", "IOI", "记忆化搜索"], "title": "[IOI 2004] Phidias 菲迪亚斯神", "background": "有名的希腊雕刻神菲迪亚斯正在为他下一座雄伟的雕像作准备。", "description": "为了这座雕像他需要大小为 $W_1\\times H_1,W_2\\times H_2, ...,W_N \\times H_N$ 的矩形大理石板。\n\n最近菲迪亚斯获得一块矩形大理石块。菲迪亚斯想把这块石板切成所需要的大小。\n\n石板或是石板所切割出的部分都可以由垂直(或水平)方向纵贯(或是横贯)加以切割到底成为两块矩形石板，同时切割出的这两块矩形石板都必须具有整数的宽度与高度。\n\n石板只能以此种方法加以切割，同时石板不能粘合成较大石板。\n\n因为石板具有花纹，所以石板也不能旋转。\n\n如果菲迪亚斯切割出一块 $A\\times B$ 的石板，则此石板不能被当成 $B\\times A$ 的石板使用，除非 $A$ 等于 $B$。对每一种所需石板大小菲迪亚斯可切割出零或更多块石板。如果当所有的切割完成时，一块产生出的石板并不是任何所需要的大小，则此石板成为废料。\n\n菲迪亚斯想知道如何切割最初的石板，才能让所产生的废料最少。\n\n例如，下图中的原始石板宽度为 $21$ 且高度为 $11$，而所需石板大小为 $10\\times4,6\\times 2, 7\\times5$ 及 $15\\times 10$, 则最小废料总面积为 $10$。下图同时画出最小废料总面积为 $10$ 的切割方法：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s48ydewh.png)\n\n你的工作是写一个程序由给定的原始石板大小及所需要的各种石板大小计算出最小的废料总面积。", "inputFormat": "第一行为两个整数。\n\n第一个整数 $W$ 为原始石板的宽度，第二个整数 $H$ 为原始石板的高度。\n\n第二行为一个整数 $N$，代表所需石板种类数目。以下 $N$ 行为各种所需石板的大小。\n\n每一行为两个整数，第一个整数为所需石板宽度 $W_i$，第二个整数为所需石板宽度 $H_i$ 。\n", "outputFormat": "为一行且仅包含一个整数，代表最小废料总面积。", "hint": "对于 $100\\%$ 的数据，$1\\le W,H\\le600$，$0\\le N\\le 200$，$1 \\le W_i \\le W$，$1 \\le H_i \\le H$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2004] Phidias 菲迪亚斯神", "background": "有名的希腊雕刻神菲迪亚斯正在为他下一座雄伟的雕像作准备。", "description": "为了这座雕像他需要大小为 $W_1\\times H_1,W_2\\times H_2, ...,W_N \\times H_N$ 的矩形大理石板。\n\n最近菲迪亚斯获得一块矩形大理石块。菲迪亚斯想把这块石板切成所需要的大小。\n\n石板或是石板所切割出的部分都可以由垂直(或水平)方向纵贯(或是横贯)加以切割到底成为两块矩形石板，同时切割出的这两块矩形石板都必须具有整数的宽度与高度。\n\n石板只能以此种方法加以切割，同时石板不能粘合成较大石板。\n\n因为石板具有花纹，所以石板也不能旋转。\n\n如果菲迪亚斯切割出一块 $A\\times B$ 的石板，则此石板不能被当成 $B\\times A$ 的石板使用，除非 $A$ 等于 $B$。对每一种所需石板大小菲迪亚斯可切割出零或更多块石板。如果当所有的切割完成时，一块产生出的石板并不是任何所需要的大小，则此石板成为废料。\n\n菲迪亚斯想知道如何切割最初的石板，才能让所产生的废料最少。\n\n例如，下图中的原始石板宽度为 $21$ 且高度为 $11$，而所需石板大小为 $10\\times4,6\\times 2, 7\\times5$ 及 $15\\times 10$, 则最小废料总面积为 $10$。下图同时画出最小废料总面积为 $10$ 的切割方法：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s48ydewh.png)\n\n你的工作是写一个程序由给定的原始石板大小及所需要的各种石板大小计算出最小的废料总面积。", "inputFormat": "第一行为两个整数。\n\n第一个整数 $W$ 为原始石板的宽度，第二个整数 $H$ 为原始石板的高度。\n\n第二行为一个整数 $N$，代表所需石板种类数目。以下 $N$ 行为各种所需石板的大小。\n\n每一行为两个整数，第一个整数为所需石板宽度 $W_i$，第二个整数为所需石板宽度 $H_i$ 。\n", "outputFormat": "为一行且仅包含一个整数，代表最小废料总面积。", "hint": "对于 $100\\%$ 的数据，$1\\le W,H\\le600$，$0\\le N\\le 200$，$1 \\le W_i \\le W$，$1 \\le H_i \\le H$。\n\n", "locale": "zh-CN"}}}
{"pid": "P5925", "type": "P", "difficulty": 2, "samples": [["3\n3 5\n1 2\n4 3\n6 3\n5 2\n2 1", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "POI（波兰）"], "title": "[POI 2007] 天然气管道Gaz", "background": "Mary 试图控制成都的天然气市场。", "description": "专家已经标示出了最好的天然气井和中转站在成都的地图。现在需要将中转\n站和天然气井连接起来。\n\n每个中转站必须被连接到正好一个钻油井，反之亦然。 \n\nMary 特别指名，建设的天然气管道必须从某个天然气井开始，向南或者向东建设。\n\nMary 想知道怎么连接每个天然气井和中转站，使得需要的天然气管道的总长度最小。保证有解。", "inputFormat": "第一行为一个正整数 $n$，表示天然气井的数量（中转站的数量与之相等）。\n\n接下来 $n$ 行，每行两个整数 $x_i$ 和 $y_i$，表示天然气井的坐标。向东走则 $x$ 坐标增加，向北走则 $y$ 坐标增加接下来 $n$ 行，每行两个数 $x_j$ 和 $y_j$，表示中转站的坐标。", "outputFormat": "第一行包含一个数，表示最短的连接管道长度。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le50000$，$0\\le x_i,y_i,x_j,y_j\\le100000$\n\n------\n\n## 样例解释：\n![](https://cdn.luogu.com.cn/upload/image_hosting/rwhyfbkm.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2007] 天然气管道Gaz", "background": "Mary 试图控制成都的天然气市场。", "description": "专家已经标示出了最好的天然气井和中转站在成都的地图。现在需要将中转\n站和天然气井连接起来。\n\n每个中转站必须被连接到正好一个钻油井，反之亦然。 \n\nMary 特别指名，建设的天然气管道必须从某个天然气井开始，向南或者向东建设。\n\nMary 想知道怎么连接每个天然气井和中转站，使得需要的天然气管道的总长度最小。保证有解。", "inputFormat": "第一行为一个正整数 $n$，表示天然气井的数量（中转站的数量与之相等）。\n\n接下来 $n$ 行，每行两个整数 $x_i$ 和 $y_i$，表示天然气井的坐标。向东走则 $x$ 坐标增加，向北走则 $y$ 坐标增加接下来 $n$ 行，每行两个数 $x_j$ 和 $y_j$，表示中转站的坐标。", "outputFormat": "第一行包含一个数，表示最短的连接管道长度。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le50000$，$0\\le x_i,y_i,x_j,y_j\\le100000$\n\n------\n\n## 样例解释：\n![](https://cdn.luogu.com.cn/upload/image_hosting/rwhyfbkm.png)", "locale": "zh-CN"}}}
{"pid": "P5926", "type": "P", "difficulty": 6, "samples": [["5 3\n1 4 2 6 7\n2 3\n3 4\n2 5", "2\n4\n1"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2009", "各省省选", "江苏", "O2优化"], "title": "[JSOI2009] 面试的考验", "background": "", "description": "求区间最接近且不相等的两数之差的绝对值。\n\n**注：最接近指数值上最接近**", "inputFormat": "第一行输入两个整数 $N,Q$，分别代表序列的长度和询问的个数。\n\n第二行包含 $N$ 个由一个空格分开的正整数，代表了整个序列，从左向右依次编号为 $A_1, A_2……A_n$。\n\n接下来 $Q$ 行，每行两个整数 $i,j$ 表示了一个询问区间。\n\n输入数据保证 $1\\le i<j\\le N$。", "outputFormat": "对于每一个询问输出一行，为所问区间中最接近两个数之差的绝对值。", "hint": "对于 $100\\%$ 的数据，$1\\le N,Q\\le10^5,1\\le A_i\\le10^9$。\n\n数据为全部**纯随机**生成。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2009] 面试的考验", "background": "", "description": "求区间最接近且不相等的两数之差的绝对值。\n\n**注：最接近指数值上最接近**", "inputFormat": "第一行输入两个整数 $N,Q$，分别代表序列的长度和询问的个数。\n\n第二行包含 $N$ 个由一个空格分开的正整数，代表了整个序列，从左向右依次编号为 $A_1, A_2……A_n$。\n\n接下来 $Q$ 行，每行两个整数 $i,j$ 表示了一个询问区间。\n\n输入数据保证 $1\\le i<j\\le N$。", "outputFormat": "对于每一个询问输出一行，为所问区间中最接近两个数之差的绝对值。", "hint": "对于 $100\\%$ 的数据，$1\\le N,Q\\le10^5,1\\le A_i\\le10^9$。\n\n数据为全部**纯随机**生成。", "locale": "zh-CN"}}}
{"pid": "P5927", "type": "P", "difficulty": 5, "samples": [["4      \n2  3    \n3  4    \n1  2    \n4  1   ", "2  6    "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "各省省选", "江苏", "单调栈"], "title": "[JSOI2010] 下棋问题", "background": "有一个新的益智游戏。\n\n", "description": "该游戏由 A 和 B 两人轮流在一个 $1000000\\times1000000$ 的方格棋盘上的网格线交点下棋，网格线交点的坐标以 $(x,y)$ 表示，$(0, 0)$ 代表棋盘最左下角的点。\n\n每一个棋子放置的位置不可以与任何其它棋子在同一坐标上，棋盘上新增加一个棋子时，棋盘上的计数器会自动算出以目前棋盘上棋子所能够围成的 `无障碍四方形` 个数。 \n\n`无障碍四方形` 是指以任意两个棋子所定义出的四方形内部不含其它棋子，每下一个棋子后所算出的 `无障碍四方形` 个数即为下该棋子的得分数。每位下棋者的总分即是该下棋者每个所下棋子的得分数总和。\n\n请写一个程序计算 A 和 B 两位下棋者的累计总分。", "inputFormat": "第一行输入只有一个整数 $n$，代表此盘棋共下了 $n$ 个棋子。\n\n接下来的 $n$ 行，每一行有两个整数，依序代表这 $n$ 个棋子所放置的位置。", "outputFormat": "请输出两个整数，分别代表该盘棋两位下棋者的累计得分数。A 的分数在前，B 的分数在后，中间用一个空格隔开。", "hint": "对于 $100\\%$ 的数据， $1\\le n\\le5000$，$0\\le x,y\\le 1,000,000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2010] 下棋问题", "background": "有一个新的益智游戏。\n\n", "description": "该游戏由 A 和 B 两人轮流在一个 $1000000\\times1000000$ 的方格棋盘上的网格线交点下棋，网格线交点的坐标以 $(x,y)$ 表示，$(0, 0)$ 代表棋盘最左下角的点。\n\n每一个棋子放置的位置不可以与任何其它棋子在同一坐标上，棋盘上新增加一个棋子时，棋盘上的计数器会自动算出以目前棋盘上棋子所能够围成的 `无障碍四方形` 个数。 \n\n`无障碍四方形` 是指以任意两个棋子所定义出的四方形内部不含其它棋子，每下一个棋子后所算出的 `无障碍四方形` 个数即为下该棋子的得分数。每位下棋者的总分即是该下棋者每个所下棋子的得分数总和。\n\n请写一个程序计算 A 和 B 两位下棋者的累计总分。", "inputFormat": "第一行输入只有一个整数 $n$，代表此盘棋共下了 $n$ 个棋子。\n\n接下来的 $n$ 行，每一行有两个整数，依序代表这 $n$ 个棋子所放置的位置。", "outputFormat": "请输出两个整数，分别代表该盘棋两位下棋者的累计得分数。A 的分数在前，B 的分数在后，中间用一个空格隔开。", "hint": "对于 $100\\%$ 的数据， $1\\le n\\le5000$，$0\\le x,y\\le 1,000,000$。", "locale": "zh-CN"}}}
{"pid": "P5928", "type": "P", "difficulty": 6, "samples": [["4 3\n-1 0 0 10\n-1 -1 -1 2\n-1 1 -1 2\n-1 -2 -1 1\n0 2\n0 -2\n1 0", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2014", "模拟退火", "凸包", "半平面交", "CTT（清华集训/北大集训）"], "title": "[清华集训 2014] 文学", "background": "", "description": "巨酱和主席是一对好朋友。他们都很喜欢读书，经常一起阅读相关领域书籍，进行系统的学习。一天主席列出了一份列表，里面共 $p$ 本书，其中不乏《约翰克里斯多夫》，《名人传》等名著。作为一名在文学上有很高修养的知名青年，巨酱打算用尽量少的时间把这份列表中的所有书籍都读完。\n\n作为一名文化人，巨酱阅读书籍的方式也与一般人不同。他使用一种叫做“批量阅读”的阅读方式。首先他根据自己的喜好，对每本书给出了个参数 $x,y$，其中 $i$ 本书的两个参数为 $x_i,y_i$。当然，由于巨酱独特的口味，可能有两本不同的书，它们的 $x,y$ 参数均相同。而每次阅读的时候，他会设置三个系数 $a, b, c$，所有满足 $a \\times x+b \\times y \\leq c$ 的书籍都可以通过这次“批量阅读”读完，这次批量阅读总共需要 $w$ 的时间。\n现在，巨酱有 $n$ 种 “批量阅读”的方案，第 $i$ 种“批量阅读”三个参数为 $a_i,b_i,c_i$，需要的时间为 $w_i$。现在巨酱打算从这 $n$ 种“批量阅读”中选出若干，使得巨酱可以用尽量少的时间读完所有的书。现在我们想知道，巨酱最少用多少时间？", "inputFormat": "第一行两个正整数 $n,p$，分别表示“批量阅读”的方案数以及书的数量。\n\n接下来 $n$ 行，每行四个整数，其中第 $i$ 行包含四个整数 $a_i,b_i,c_i,w_i$，表示第 $i$ 种“批量阅读”的方案。\n\n接下来 $p$ 行，每行两个整数，其中第 $i$ 行包含两个整数 $x_i,y_i$，表示第 $i$ 本书的参数。", "outputFormat": "一行一个整数，表示最少需要的时间。若无论如何也无法读完全部书籍，则输出 $−1$。", "hint": "对于 $100\\%$ 的测试数据，$1 \\leq n,p \\leq 100，−10^6 \\leq a_i,b_i,c_i,x_i,y_i \\leq 10^6， 0 \\lt w_i \\leq 10^6$，且保证对于任何一种“批量阅读”方案，其 $a_i$ 与 $b_i$ 不会同时为 $0$。且不存在 $i, j$（$i$ 不等于 $j$）使得 $a_i \\times b_j=a_j \\times b_i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2014] 文学", "background": "", "description": "巨酱和主席是一对好朋友。他们都很喜欢读书，经常一起阅读相关领域书籍，进行系统的学习。一天主席列出了一份列表，里面共 $p$ 本书，其中不乏《约翰克里斯多夫》，《名人传》等名著。作为一名在文学上有很高修养的知名青年，巨酱打算用尽量少的时间把这份列表中的所有书籍都读完。\n\n作为一名文化人，巨酱阅读书籍的方式也与一般人不同。他使用一种叫做“批量阅读”的阅读方式。首先他根据自己的喜好，对每本书给出了个参数 $x,y$，其中 $i$ 本书的两个参数为 $x_i,y_i$。当然，由于巨酱独特的口味，可能有两本不同的书，它们的 $x,y$ 参数均相同。而每次阅读的时候，他会设置三个系数 $a, b, c$，所有满足 $a \\times x+b \\times y \\leq c$ 的书籍都可以通过这次“批量阅读”读完，这次批量阅读总共需要 $w$ 的时间。\n现在，巨酱有 $n$ 种 “批量阅读”的方案，第 $i$ 种“批量阅读”三个参数为 $a_i,b_i,c_i$，需要的时间为 $w_i$。现在巨酱打算从这 $n$ 种“批量阅读”中选出若干，使得巨酱可以用尽量少的时间读完所有的书。现在我们想知道，巨酱最少用多少时间？", "inputFormat": "第一行两个正整数 $n,p$，分别表示“批量阅读”的方案数以及书的数量。\n\n接下来 $n$ 行，每行四个整数，其中第 $i$ 行包含四个整数 $a_i,b_i,c_i,w_i$，表示第 $i$ 种“批量阅读”的方案。\n\n接下来 $p$ 行，每行两个整数，其中第 $i$ 行包含两个整数 $x_i,y_i$，表示第 $i$ 本书的参数。", "outputFormat": "一行一个整数，表示最少需要的时间。若无论如何也无法读完全部书籍，则输出 $−1$。", "hint": "对于 $100\\%$ 的测试数据，$1 \\leq n,p \\leq 100，−10^6 \\leq a_i,b_i,c_i,x_i,y_i \\leq 10^6， 0 \\lt w_i \\leq 10^6$，且保证对于任何一种“批量阅读”方案，其 $a_i$ 与 $b_i$ 不会同时为 $0$。且不存在 $i, j$（$i$ 不等于 $j$）使得 $a_i \\times b_j=a_j \\times b_i$。", "locale": "zh-CN"}}}
{"pid": "P5929", "type": "P", "difficulty": 4, "samples": [["11\n3\n21\n14\n6\n18\n10\n2\n15\n12\n3\n2\n2", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["1999", "POI（波兰）"], "title": "[POI 1999 R3] 地图", "background": "一个人口统计办公室要绘制一张地图。", "description": "由于技术的原因只能使用少量的颜色。两个有相同或相近人口的区域在地图应用相同的颜色。例如一种颜色 $k$，则 $A(k)$ 是相应的数，则有：\n- 在用颜色 $k$ 的区域中至少有一半的区域的人口不大于 $A(k)$；\n- 在用颜色 $k$ 的区域中至少有一半的区域的人口不小于 $A(k)$。\n\n区域颜色误差是该区域的人口与 $A(k)$ 差的绝对值。累计误差是所有区域颜色误差的总和。我们要求出一种最佳的染色方案，使得累计误差最小。", "inputFormat": "第一行有一个整数 $n$，表示区域数。\n\n在第二行中的数 $m$ 表示颜色数。\n\n在接下来的 $n$ 行中每行有一个非负整数，表示一个区域的人口。\n\n人口都不超过 $2^{30}$。", "outputFormat": "输出一个整数，表示最小的累计误差。", "hint": "对于 $100\\%$ 的数据，$10 < n < 3000$，$2 \\le m \\le 10$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1999 R3] 地图", "background": "一个人口统计办公室要绘制一张地图。", "description": "由于技术的原因只能使用少量的颜色。两个有相同或相近人口的区域在地图应用相同的颜色。例如一种颜色 $k$，则 $A(k)$ 是相应的数，则有：\n- 在用颜色 $k$ 的区域中至少有一半的区域的人口不大于 $A(k)$；\n- 在用颜色 $k$ 的区域中至少有一半的区域的人口不小于 $A(k)$。\n\n区域颜色误差是该区域的人口与 $A(k)$ 差的绝对值。累计误差是所有区域颜色误差的总和。我们要求出一种最佳的染色方案，使得累计误差最小。", "inputFormat": "第一行有一个整数 $n$，表示区域数。\n\n在第二行中的数 $m$ 表示颜色数。\n\n在接下来的 $n$ 行中每行有一个非负整数，表示一个区域的人口。\n\n人口都不超过 $2^{30}$。", "outputFormat": "输出一个整数，表示最小的累计误差。", "hint": "对于 $100\\%$ 的数据，$10 < n < 3000$，$2 \\le m \\le 10$。", "locale": "zh-CN"}}}
{"pid": "P5930", "type": "P", "difficulty": 4, "samples": [["3 6\n3 3 4 4 4 2\n3 1 3 2 1 4\n7 3 1 6 4 1", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["1999", "POI（波兰）"], "title": "[POI 1999 R3] 降水", "background": null, "description": "遥远的地方有一块土地。它被划分成 $N\\times M$ 个正方形小块，每块面积是一平方英寸，第 $i$ 行第 $j$ 列的小块可以表示成 $(i,j)$。这块土地高低不平，每一小块地 $(i,j)$ 都有自己的高度 $H(i,j)$（单位是英寸）。\n\n一场倾盆大雨后，这块地由于地势高低不同，许多低洼地方都积存了不少降水。假如你已经知道这块土地的详细信息，你能求出它最多能积存多少立方英寸的降水么？", "inputFormat": "输入文件第一行有两个数 $N,M$，表示土地的规模是 $N\\times M$ 平方英寸。\n\n接下来 $N$ 行，每行有 $M$ 个整数，表示每块地的高度（每个整数在 $[1,10000]$ 内，以英寸为单位）。", "outputFormat": "仅一行一个整数，表示土地中最多能积存多少立方英寸的水。", "hint": "对于 $100\\%$ 的数据，$1\\le N,M \\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1999 R3] 降水", "background": null, "description": "遥远的地方有一块土地。它被划分成 $N\\times M$ 个正方形小块，每块面积是一平方英寸，第 $i$ 行第 $j$ 列的小块可以表示成 $(i,j)$。这块土地高低不平，每一小块地 $(i,j)$ 都有自己的高度 $H(i,j)$（单位是英寸）。\n\n一场倾盆大雨后，这块地由于地势高低不同，许多低洼地方都积存了不少降水。假如你已经知道这块土地的详细信息，你能求出它最多能积存多少立方英寸的降水么？", "inputFormat": "输入文件第一行有两个数 $N,M$，表示土地的规模是 $N\\times M$ 平方英寸。\n\n接下来 $N$ 行，每行有 $M$ 个整数，表示每块地的高度（每个整数在 $[1,10000]$ 内，以英寸为单位）。", "outputFormat": "仅一行一个整数，表示土地中最多能积存多少立方英寸的水。", "hint": "对于 $100\\%$ 的数据，$1\\le N,M \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P5931", "type": "P", "difficulty": 4, "samples": [["3\n2 1 0.5\n2 0.5 3\n4 3 4", "1.000\n0.750\n4.000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2015", "三分", "Special Judge", "CTT（清华集训/北大集训）"], "title": "[清华集训 2015] 灯泡", "background": "$2022$ 年，评测数据发生了翻天覆地的变化，请 $2022$ 年前通过此题的人重新交一遍。", "description": "相比 Wildleopard 的家，他的弟弟 Mildleopard 比较穷。他的房子是狭窄的，而且在他的房间里仅有一个灯泡。每天晚上，他徘徊在自己狭小的房子里，思考如何赚更多的钱。有一天，他发现他的影子的长度随着他在灯泡和墙壁之间走动时会发生变化。一个突然的想法出现在他的脑海里，他想知道在房间里他的影子的最大长度。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/i78578mk.png)", "inputFormat": "输入文件的第一行包含一个整数 $T$，表示测试数据的组数。\n\n对于每组测试数据仅有一行包含三个实数 $H,h$ 和 $D$，$H$ 表示灯泡的高度，$h$ 表示 Mildleopard 的身高，$D$ 表示灯泡和墙的水平距离。", "outputFormat": "输出文件共 $T$ 行，每组数据占一行，表示影子的最大长度 $L$。当你的输出与标准输出的绝对误差不超过 $10^{-3}$ 即视作通过。", "hint": "$1\\le T \\le 100,0.01 \\le H,h,D \\le 1000,H-h\\ge 0.01$，保证 $H,h,D$ 最多由 $6$ 位小数构成。", "locale": "zh-CN", "translations": {"en": {"title": "[Tsinghua Training 2015] Light Bulb", "background": "In $2022$, the judging testdata changed a lot. Please ask anyone who passed this problem before $2022$ to submit again.", "description": "Compared with Wildleopard’s home, his younger brother Mildleopard is poorer. His house is narrow, and there is only one light bulb in his room. Every night, he walks around in his small house, thinking about how to earn more money. One day, he found that the length of his shadow changes as he walks between the light bulb and the wall. A sudden idea came to his mind: he wants to know the maximum possible length of his shadow in the room.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/i78578mk.png)", "inputFormat": "The first line contains an integer $T$, the number of test cases.\n\nFor each test case, there is one line containing three real numbers $H$, $h$, and $D$. $H$ is the height of the light bulb, $h$ is Mildleopard’s height, and $D$ is the horizontal distance between the light bulb and the wall.", "outputFormat": "Output $T$ lines. For each test case, output one line with the maximum shadow length $L$. Your answer is accepted if the absolute error compared with the standard output is at most $10^{-3}$.", "hint": "Constraints: $1 \\le T \\le 100$, $0.01 \\le H, h, D \\le 1000$, $H - h \\ge 0.01$. It is guaranteed that $H$, $h$, and $D$ have at most $6$ digits after the decimal point.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[清华集训 2015] 灯泡", "background": "$2022$ 年，评测数据发生了翻天覆地的变化，请 $2022$ 年前通过此题的人重新交一遍。", "description": "相比 Wildleopard 的家，他的弟弟 Mildleopard 比较穷。他的房子是狭窄的，而且在他的房间里仅有一个灯泡。每天晚上，他徘徊在自己狭小的房子里，思考如何赚更多的钱。有一天，他发现他的影子的长度随着他在灯泡和墙壁之间走动时会发生变化。一个突然的想法出现在他的脑海里，他想知道在房间里他的影子的最大长度。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/i78578mk.png)", "inputFormat": "输入文件的第一行包含一个整数 $T$，表示测试数据的组数。\n\n对于每组测试数据仅有一行包含三个实数 $H,h$ 和 $D$，$H$ 表示灯泡的高度，$h$ 表示 Mildleopard 的身高，$D$ 表示灯泡和墙的水平距离。", "outputFormat": "输出文件共 $T$ 行，每组数据占一行，表示影子的最大长度 $L$。当你的输出与标准输出的绝对误差不超过 $10^{-3}$ 即视作通过。", "hint": "$1\\le T \\le 100,0.01 \\le H,h,D \\le 1000,H-h\\ge 0.01$，保证 $H,h,D$ 最多由 $6$ 位小数构成。", "locale": "zh-CN"}}}
{"pid": "P5932", "type": "P", "difficulty": 4, "samples": [["6\n\n0 1 2\n\n2 4 3\n\n4 2 0\n\n0 5 4", "TAK"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["1999", "POI（波兰）"], "title": "[POI 1999 R1] 多边形之战", "background": "多边形之战是一个双人游戏。", "description": "游戏在一个有 $n$ 个顶点的凸多边形上进行，这个凸多边形的 $n-3$ 条对角线将多边形分成 $n-2$ 个三角形，这 $n-3$ 条对角线在多边形的顶点相交。\n\n三角形中的一个被染成黑色，其余是白色。双方轮流进行游戏，当轮到一方时，他必须沿着画好的对角线，从多边形上切下一个三角形。切下黑色三角形的一方获胜。\n- 注：如果连接一个多边形中任意两点的线段都完全包含于这个多边形，则称这个多边形为凸多边形。", "inputFormat": "第一行是一个整数 $n$。表示多边形的顶点数，多边形的顶点从 $0$ 到 $n-1$ 顺时针标号。\n\n接着的 $n-2$ 行描述组成多边形的三角形，其中第 $i+1\\ (1 \\le i \\le n-2)$ 行有三个空格分隔的非负整数 $a, b, c$，它们是第 $i$ 个三角形的顶点编号，第一个给出的三角形是黑色的。", "outputFormat": "唯一一行应包含一个单词：\n- `TAK`，表示先走的一方有必胜策略。\n- `NIE`，表示先走的一方没有必胜策略。", "hint": "对于 $100\\%$ 的数据，$4 \\le n \\le 50000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 1999 R1] 多边形之战", "background": "多边形之战是一个双人游戏。", "description": "游戏在一个有 $n$ 个顶点的凸多边形上进行，这个凸多边形的 $n-3$ 条对角线将多边形分成 $n-2$ 个三角形，这 $n-3$ 条对角线在多边形的顶点相交。\n\n三角形中的一个被染成黑色，其余是白色。双方轮流进行游戏，当轮到一方时，他必须沿着画好的对角线，从多边形上切下一个三角形。切下黑色三角形的一方获胜。\n- 注：如果连接一个多边形中任意两点的线段都完全包含于这个多边形，则称这个多边形为凸多边形。", "inputFormat": "第一行是一个整数 $n$。表示多边形的顶点数，多边形的顶点从 $0$ 到 $n-1$ 顺时针标号。\n\n接着的 $n-2$ 行描述组成多边形的三角形，其中第 $i+1\\ (1 \\le i \\le n-2)$ 行有三个空格分隔的非负整数 $a, b, c$，它们是第 $i$ 个三角形的顶点编号，第一个给出的三角形是黑色的。", "outputFormat": "唯一一行应包含一个单词：\n- `TAK`，表示先走的一方有必胜策略。\n- `NIE`，表示先走的一方没有必胜策略。", "hint": "对于 $100\\%$ 的数据，$4 \\le n \\le 50000$。", "locale": "zh-CN"}}}
{"pid": "P5933", "type": "P", "difficulty": 6, "samples": [["3\n0 2 3\n2 0 4\n3 4 0\n", "50"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2012", "CTT（清华集训/北大集训）", "状压 DP"], "title": "[清华集训 2012] 串珠子", "background": "", "description": "铭铭有 $n$ 个十分漂亮的珠子和若干根颜色不同的绳子。现在铭铭想用绳子把所有的珠子连成一个整体。\n\n现在已知所有的珠子互不相同，用整数 $1$ 到 $n$ 编号。对于第 $i$ 个珠子和第 $j$ 个珠子，可以选择不用绳子连接，或者在 $c_{i,j}$ 根不同颜色的绳子中选择一根将它们连接。如果把珠子看作点，把绳子看作边，将所有珠子连成一个整体即为所有点构成一个连通图。特别地，珠子不能和自己连接。\n\n铭铭希望知道总共有多少种不同的方案将所有珠子连成一个整体。由于答案可能很大，因此只需输出答案对 $1000000007$ 取模的结果。", "inputFormat": "输入第一行包含一个正整数 $n$，表示珠子的个数。接下来 $n$ 行，每行包含 $n$ 个非负整数，用空格隔开。这 $n$ 行中，第 $i$ 行第 $j$ 个数为 $c_{i,j}$。", "outputFormat": "输出一行一个整数，为连接方案数对 $1000000007$ 取模的结果。", "hint": "#### 样例解释\n按每对珠子是否连接有以下四类连接方法。\n\n![Picture](https://s2.ax1x.com/2020/01/19/1C1K1I.png)\n\n每类连接方法包含的方法数为包含的边对应的绳子的 $c_{i,j}$ 之积。\n\n其中图(1)有 $2\\times3\\times4=24$ 种，图(2)有 $2\\times4=8$ 种，图(3)有 $2\\times3=6$ 种，图(4)有 $3\\times4=12$ 种。共 $50$ 种。\n\n#### 数据规模和约定\n对于 $100\\%$ 的数据，$n$ 为正整数，所有的 $c_{i,j}$ 为非负整数且不超过 $1000000007$。保证 $c_{i,j}=c_{j,i}$。每组数据的 $n$ 值如下表所示。\n\n|编号|1|2|3|4|5|6|7|8|9|10|\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n|$n$|$8$|$9$|$9$|$10$|$11$|$12$|$13$|$14$|$15$|$16$|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2012] 串珠子", "background": "", "description": "铭铭有 $n$ 个十分漂亮的珠子和若干根颜色不同的绳子。现在铭铭想用绳子把所有的珠子连成一个整体。\n\n现在已知所有的珠子互不相同，用整数 $1$ 到 $n$ 编号。对于第 $i$ 个珠子和第 $j$ 个珠子，可以选择不用绳子连接，或者在 $c_{i,j}$ 根不同颜色的绳子中选择一根将它们连接。如果把珠子看作点，把绳子看作边，将所有珠子连成一个整体即为所有点构成一个连通图。特别地，珠子不能和自己连接。\n\n铭铭希望知道总共有多少种不同的方案将所有珠子连成一个整体。由于答案可能很大，因此只需输出答案对 $1000000007$ 取模的结果。", "inputFormat": "输入第一行包含一个正整数 $n$，表示珠子的个数。接下来 $n$ 行，每行包含 $n$ 个非负整数，用空格隔开。这 $n$ 行中，第 $i$ 行第 $j$ 个数为 $c_{i,j}$。", "outputFormat": "输出一行一个整数，为连接方案数对 $1000000007$ 取模的结果。", "hint": "#### 样例解释\n按每对珠子是否连接有以下四类连接方法。\n\n![Picture](https://s2.ax1x.com/2020/01/19/1C1K1I.png)\n\n每类连接方法包含的方法数为包含的边对应的绳子的 $c_{i,j}$ 之积。\n\n其中图(1)有 $2\\times3\\times4=24$ 种，图(2)有 $2\\times4=8$ 种，图(3)有 $2\\times3=6$ 种，图(4)有 $3\\times4=12$ 种。共 $50$ 种。\n\n#### 数据规模和约定\n对于 $100\\%$ 的数据，$n$ 为正整数，所有的 $c_{i,j}$ 为非负整数且不超过 $1000000007$。保证 $c_{i,j}=c_{j,i}$。每组数据的 $n$ 值如下表所示。\n\n|编号|1|2|3|4|5|6|7|8|9|10|\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n|$n$|$8$|$9$|$9$|$10$|$11$|$12$|$13$|$14$|$15$|$16$|", "locale": "zh-CN"}}}
{"pid": "P5934", "type": "P", "difficulty": 6, "samples": [["3 2\n3 2 1\n1 2 3\n1 2 2\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2012", "网络流", "最小割", "CTT（清华集训/北大集训）"], "title": "[清华集训 2012] 最小生成树", "background": "", "description": "给定一个边带正权的连通无向图 $G=(V,E)$，其中 $N=|V|,M=|E|$，$N$ 个点从 $1$ 到 $N$ 依次编号，给定三个正整数 $u,v$ 和 $L(u\\ne v)$，假设现在加入一条边权为 $L$ 的边 $(u,v)$，那么需要删掉最少多少条边，才能够使得这条边既可能出现在最小生成树上，也可能出现在最大生成树上？", "inputFormat": "第一行包含用空格隔开的两个整数，分别为 $N$ 和 $M$；\n\n接下来 $M$ 行，每行包含三个正整数 $u,v$ 和 $w$ 表示图 $G$ 存在一条边权为 $w$ 的边 $u,v$。\n\n最后一行包含用空格隔开的三个整数，分别为 $u,v$ 和 $L$；\n\n数据保证图中没有自环。", "outputFormat": "输出一行一个整数表示最少需要删掉的边的数量。", "hint": "#### 样例解释\n我们只需把边 $(1,2)$ 删除即可，删除并加入新边之后，图中的生成树唯一。\n\n#### 数据规模与约定\n对于 $20\\%$ 的数据满足 $N\\leqslant10,M\\leqslant20,L\\leqslant20$；\n\n对于 $50\\%$ 的数据满足 $N\\leqslant300,M\\leqslant3000,L\\leqslant200$；\n\n对于 $100\\%$ 的数据满足 $N\\leqslant20000,M\\leqslant200000,L\\leqslant20000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2012] 最小生成树", "background": "", "description": "给定一个边带正权的连通无向图 $G=(V,E)$，其中 $N=|V|,M=|E|$，$N$ 个点从 $1$ 到 $N$ 依次编号，给定三个正整数 $u,v$ 和 $L(u\\ne v)$，假设现在加入一条边权为 $L$ 的边 $(u,v)$，那么需要删掉最少多少条边，才能够使得这条边既可能出现在最小生成树上，也可能出现在最大生成树上？", "inputFormat": "第一行包含用空格隔开的两个整数，分别为 $N$ 和 $M$；\n\n接下来 $M$ 行，每行包含三个正整数 $u,v$ 和 $w$ 表示图 $G$ 存在一条边权为 $w$ 的边 $u,v$。\n\n最后一行包含用空格隔开的三个整数，分别为 $u,v$ 和 $L$；\n\n数据保证图中没有自环。", "outputFormat": "输出一行一个整数表示最少需要删掉的边的数量。", "hint": "#### 样例解释\n我们只需把边 $(1,2)$ 删除即可，删除并加入新边之后，图中的生成树唯一。\n\n#### 数据规模与约定\n对于 $20\\%$ 的数据满足 $N\\leqslant10,M\\leqslant20,L\\leqslant20$；\n\n对于 $50\\%$ 的数据满足 $N\\leqslant300,M\\leqslant3000,L\\leqslant200$；\n\n对于 $100\\%$ 的数据满足 $N\\leqslant20000,M\\leqslant200000,L\\leqslant20000$。", "locale": "zh-CN"}}}
