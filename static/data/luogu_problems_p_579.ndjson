{"pid": "P12751", "type": "P", "difficulty": 4, "samples": [["8 3\n3 4 1\n2 3 3\n3 2 2", "0 1 2 1 3 1 0 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "POI（波兰）", "根号分治"], "title": "[POI 2017 R2] 集装箱 Shipping containers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5059)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi24-2/dashboard/) [Kontenery](https://szkopul.edu.pl/problemset/problem/oNnWY6ZuzzhvG-jCmijiXkIk/statement/)**\n\n工程师 Bajtazar 负责管理一个集装箱装卸坡道。坡道由 $n$ 个连续位置组成，编号从 $1$ 至 $n$。每位位置上，起重机可堆放任意数量的集装箱，层层叠放。\n\n部分集装箱装有危险物质，需避免过于密集堆放。\n\nBajtazar 收到 $k$ 项起重机操作指令，第 $i$ 项操作形如 $(a_i, \\ell_i, d_i)$，表示从位置 $a_i$ 开始，每隔 $d_i$ 个位置放置一个集装箱，共放置 $\\ell_i$ 个（即在位置 $a_i, a_i+d_i, a_i+2d_i, \\ldots, a_i+(\\ell_i-1)d_i$ 各放一个）。他想知道所有操作完成后，每位位置上的集装箱数量。", "inputFormat": "第一行包含两个正整数 $n, k$，分别表示坡道位置数量和操作数量。\n\n接下来的 $k$ 行描述操作，第 $i$ 行包含三个正整数 $a_i, \\ell_i, d_i$，满足 $a_i+(\\ell_i-1)d_i \\leq n$。当 $\\ell_i=1$ 时，保证 $d_i=1$。", "outputFormat": "输出一行，包含 $n$ 个整数 $c_1, c_2, \\ldots, c_n$，其中 $c_i$ 表示所有操作完成后位置 $i$ 上的集装箱数量。", "hint": "**样例 1 解释**\n\n每个集装箱上的编号对应将其放置在坡道上的操作序号。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/49gtt0eh.png)\n\n**附加样例**\n\n1. $n=10, k=10$，随机样例。  \n2. $n=11000, k=999, a_i=\\ell_i=i+1, d_i=10$，对于 $i=1, 2, \\ldots, k$。  \n3. $n=100000, k=100000, \\ell_1=\\ell_2=\\ldots=\\ell_k=1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 1000, k \\leq 2000$ | $21$ |\n| $2$    | $n, k \\leq 100000, d_1=d_2=\\ldots=d_k$ | $33$ |\n| $3$    | $n, k \\leq 100000$       | $46$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R2] 集装箱 Shipping containers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5059)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi24-2/dashboard/) [Kontenery](https://szkopul.edu.pl/problemset/problem/oNnWY6ZuzzhvG-jCmijiXkIk/statement/)**\n\n工程师 Bajtazar 负责管理一个集装箱装卸坡道。坡道由 $n$ 个连续位置组成，编号从 $1$ 至 $n$。每位位置上，起重机可堆放任意数量的集装箱，层层叠放。\n\n部分集装箱装有危险物质，需避免过于密集堆放。\n\nBajtazar 收到 $k$ 项起重机操作指令，第 $i$ 项操作形如 $(a_i, \\ell_i, d_i)$，表示从位置 $a_i$ 开始，每隔 $d_i$ 个位置放置一个集装箱，共放置 $\\ell_i$ 个（即在位置 $a_i, a_i+d_i, a_i+2d_i, \\ldots, a_i+(\\ell_i-1)d_i$ 各放一个）。他想知道所有操作完成后，每位位置上的集装箱数量。", "inputFormat": "第一行包含两个正整数 $n, k$，分别表示坡道位置数量和操作数量。\n\n接下来的 $k$ 行描述操作，第 $i$ 行包含三个正整数 $a_i, \\ell_i, d_i$，满足 $a_i+(\\ell_i-1)d_i \\leq n$。当 $\\ell_i=1$ 时，保证 $d_i=1$。", "outputFormat": "输出一行，包含 $n$ 个整数 $c_1, c_2, \\ldots, c_n$，其中 $c_i$ 表示所有操作完成后位置 $i$ 上的集装箱数量。", "hint": "**样例 1 解释**\n\n每个集装箱上的编号对应将其放置在坡道上的操作序号。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/49gtt0eh.png)\n\n**附加样例**\n\n1. $n=10, k=10$，随机样例。  \n2. $n=11000, k=999, a_i=\\ell_i=i+1, d_i=10$，对于 $i=1, 2, \\ldots, k$。  \n3. $n=100000, k=100000, \\ell_1=\\ell_2=\\ldots=\\ell_k=1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 1000, k \\leq 2000$ | $21$ |\n| $2$    | $n, k \\leq 100000, d_1=d_2=\\ldots=d_k$ | $33$ |\n| $3$    | $n, k \\leq 100000$       | $46$ |", "locale": "zh-CN"}}}
{"pid": "P12752", "type": "P", "difficulty": 0, "samples": [["7 6 9 3\n1 1\n6 4\n0 0 3 2\n3 1 6 3\n3 0 5 1\n5 0 7 1\n6 1 7 3\n0 2 3 6\n3 3 5 5\n3 5 5 6\n5 3 7 6\n4 2\n5 2\n4 4\n", "4"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "POI（波兰）"], "title": "[POI 2017 R2] 城堡 Castle", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5060)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi24-2/dashboard/) [Zamek](https://szkopul.edu.pl/problemset/problem/7Lmwi_qxvuplTPlhRuci1UBt/statement/)**\n\n一群寻宝者得到了一份城堡地牢的地图，地图标注了隐藏的宝藏位置。地图基于方格网格，网格点坐标为整数，左下角为 $(0,0)$，右上角为 $(w, h)$。地牢分为 $n$ 个房间，每间房间为矩形，边沿网格线，房间内部互不重叠，完整覆盖地牢区域。两房间间若对应矩形边相邻（仅顶点相接不足以连通），则存在直接通道。\n\n寻宝者位于地图某点，宝藏位于另一点。需计算寻宝者最少经过多少房间，从起始点到达宝藏。难点在于，部分房间可能含有危险区域，为安全起见，寻宝者应避免进入此类房间。", "inputFormat": "第一行包含四个整数 $w, h, n, m$ $(w, h \\geq 2, n \\geq 1, m \\geq 0)$，分别表示地图宽度、高度、房间数量和危险区域数量。\n\n第二行包含两个整数 $x_P, y_P$，表示寻宝者的起始坐标。\n\n第三行包含两个整数 $x_S, y_S$，表示宝藏的坐标。\n\n接下来的 $n$ 行描述房间，第 $i$ 行包含四个整数 $x_1, y_1, x_2, y_2$，表示第 $i$ 个房间为对角顶点为 $(x_1, y_1)$ 和 $(x_2, y_2)$ 的矩形。\n\n接下来的 $m$ 行描述危险区域，第 $i$ 行包含两个整数 $x, y$，表示第 $i$ 个危险区域的坐标。\n\n保证寻宝者和宝藏所在房间无危险区域，所有坐标满足 $0 \\leq x \\leq w, 0 \\leq y \\leq h$，且寻宝者、宝藏和危险区域均位于某房间内部。", "outputFormat": "输出一行，包含一个整数，表示寻宝者从 $(x_P, y_P)$ 到 $(x_S, y_S)$ 最少需经过的房间数量，且不进入含危险区域的房间。寻宝路径无需沿网格线（见图示）。保证存在至少一条合法路径。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/79j70myh.png)\n\n令 $W=1000000000, N=1000000$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $w, h \\leq 2000, n, m \\leq 1000$ | $13$ |\n| $2$    | $w, h \\leq 2000, n, m \\leq N$ | $18$ |\n| $3$    | $w, h \\leq W, n, m \\leq 1000$ | $18$ |\n| $4$    | $w, h \\leq W, n \\leq N, m=0$ | $25$ |\n| $5$    | $w, h \\leq W, n, m \\leq N$ | $26$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R2] 城堡 Castle", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5060)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi24-2/dashboard/) [Zamek](https://szkopul.edu.pl/problemset/problem/7Lmwi_qxvuplTPlhRuci1UBt/statement/)**\n\n一群寻宝者得到了一份城堡地牢的地图，地图标注了隐藏的宝藏位置。地图基于方格网格，网格点坐标为整数，左下角为 $(0,0)$，右上角为 $(w, h)$。地牢分为 $n$ 个房间，每间房间为矩形，边沿网格线，房间内部互不重叠，完整覆盖地牢区域。两房间间若对应矩形边相邻（仅顶点相接不足以连通），则存在直接通道。\n\n寻宝者位于地图某点，宝藏位于另一点。需计算寻宝者最少经过多少房间，从起始点到达宝藏。难点在于，部分房间可能含有危险区域，为安全起见，寻宝者应避免进入此类房间。", "inputFormat": "第一行包含四个整数 $w, h, n, m$ $(w, h \\geq 2, n \\geq 1, m \\geq 0)$，分别表示地图宽度、高度、房间数量和危险区域数量。\n\n第二行包含两个整数 $x_P, y_P$，表示寻宝者的起始坐标。\n\n第三行包含两个整数 $x_S, y_S$，表示宝藏的坐标。\n\n接下来的 $n$ 行描述房间，第 $i$ 行包含四个整数 $x_1, y_1, x_2, y_2$，表示第 $i$ 个房间为对角顶点为 $(x_1, y_1)$ 和 $(x_2, y_2)$ 的矩形。\n\n接下来的 $m$ 行描述危险区域，第 $i$ 行包含两个整数 $x, y$，表示第 $i$ 个危险区域的坐标。\n\n保证寻宝者和宝藏所在房间无危险区域，所有坐标满足 $0 \\leq x \\leq w, 0 \\leq y \\leq h$，且寻宝者、宝藏和危险区域均位于某房间内部。", "outputFormat": "输出一行，包含一个整数，表示寻宝者从 $(x_P, y_P)$ 到 $(x_S, y_S)$ 最少需经过的房间数量，且不进入含危险区域的房间。寻宝路径无需沿网格线（见图示）。保证存在至少一条合法路径。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/79j70myh.png)\n\n令 $W=1000000000, N=1000000$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $w, h \\leq 2000, n, m \\leq 1000$ | $13$ |\n| $2$    | $w, h \\leq 2000, n, m \\leq N$ | $18$ |\n| $3$    | $w, h \\leq W, n, m \\leq 1000$ | $18$ |\n| $4$    | $w, h \\leq W, n \\leq N, m=0$ | $25$ |\n| $5$    | $w, h \\leq W, n, m \\leq N$ | $26$ |", "locale": "zh-CN"}}}
{"pid": "P12753", "type": "P", "difficulty": 5, "samples": [["7 3\n1 2 5\n2 3 11\n2 4 2\n5 2 6\n1 6 1\n7 1 1", "34"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["贪心", "2017", "POI（波兰）", "树链剖分"], "title": "[POI 2017 R3] 披萨配送员 Pizza delivery", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5061)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Dostawca pizzy](https://szkopul.edu.pl/problemset/problem/q_HBwDECevrQ2iQh1wT6ssx2/statement/)**\n\n拜托城是一座风景如画的城市，拥有 $n$ 个路口，通过 $n-1$ 条双向道路相连。每路口旁有一户人家，其中之一是 Bajtazar 的披萨店。拜托城的居民酷爱披萨，每日清晨，Bajtazar 烘焙 $n-1$ 张披萨，挨家挨户送达（除自家外）。\n\n为避免披萨冷却，Bajtazar 为配送车配备了尖端加热器，但其耗能极高，他希望尽量缩短使用时间。他的策略是：装载若干披萨，开启加热器，送至部分住户，送完最后一张后关闭加热器，返回披萨店。他最多愿意进行 $k$ 次配送，想知道送完所有披萨所需的最短加热器运行时间。\n\n加热器在停留期间（Bajtazar 送披萨上门时）的运行时间可忽略。", "inputFormat": "第一行包含两个正整数 $n, k$，分别表示拜托城的路口数量和 Bajtazar 最多愿意进行的配送次数。路口编号为 $1$ 至 $n$，披萨店位于路口 $1$。\n\n接下来的 $n-1$ 行描述路网，第 $i$ 行包含三个正整数 $a_i, b_i, c_i$ $(a_i, b_i \\leq n, a_i \\neq b_i)$，表示路口 $a_i$ 和 $b_i$ 间有一条双向道路，单向通行需 $c_i$ 分钟。路网保证任意两路口间可达（不一定直接）。", "outputFormat": "输出一行，包含一个整数，表示 Bajtazar 配送所有披萨所需的最短加热器运行时间（分钟）。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5ybl7frg.png)\n\nBajtazar 进行三次配送：$1 \\rightarrow 2 \\rightarrow 4 \\rightarrow 2 \\rightarrow 5 \\rightsquigarrow 1$（加热器运行 $15$ 分钟），$1 \\rightarrow 2 \\rightarrow 3 \\rightsquigarrow 1$（$16$ 分钟），$1 \\rightarrow 6 \\rightarrow 1 \\rightarrow 7 \\rightsquigarrow 1$（$3$ 分钟）。\n\n**附加样例**\n\n1. $n=15, k=3$，小型完全二叉树，通往叶子的道路通行时间 $6$ 分钟，其余道路 $1$ 分钟。\n2. $n=2000, k=100$，披萨店直达所有路口，大型随机通行时间。\n3. $n=50000, k=1000$，披萨店直达两个路口，其中之一可达其余所有路口，所有通行时间为 $1$。\n\n所有测试数据满足 $n \\geq 2, k \\geq 1, 1 \\leq c_i \\leq 1000000$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, k \\leq 10$           | $12$ |\n| $2$    | $n, k \\leq 2000$         | $24$ |\n| $3$    | $n, k \\leq 100000$ 且 $n \\cdot k \\leq 4000000$ | $28$ |\n| $4$    | $n, k \\leq 100000$       | $36$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R3] 披萨配送员 Pizza delivery", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5061)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Dostawca pizzy](https://szkopul.edu.pl/problemset/problem/q_HBwDECevrQ2iQh1wT6ssx2/statement/)**\n\n拜托城是一座风景如画的城市，拥有 $n$ 个路口，通过 $n-1$ 条双向道路相连。每路口旁有一户人家，其中之一是 Bajtazar 的披萨店。拜托城的居民酷爱披萨，每日清晨，Bajtazar 烘焙 $n-1$ 张披萨，挨家挨户送达（除自家外）。\n\n为避免披萨冷却，Bajtazar 为配送车配备了尖端加热器，但其耗能极高，他希望尽量缩短使用时间。他的策略是：装载若干披萨，开启加热器，送至部分住户，送完最后一张后关闭加热器，返回披萨店。他最多愿意进行 $k$ 次配送，想知道送完所有披萨所需的最短加热器运行时间。\n\n加热器在停留期间（Bajtazar 送披萨上门时）的运行时间可忽略。", "inputFormat": "第一行包含两个正整数 $n, k$，分别表示拜托城的路口数量和 Bajtazar 最多愿意进行的配送次数。路口编号为 $1$ 至 $n$，披萨店位于路口 $1$。\n\n接下来的 $n-1$ 行描述路网，第 $i$ 行包含三个正整数 $a_i, b_i, c_i$ $(a_i, b_i \\leq n, a_i \\neq b_i)$，表示路口 $a_i$ 和 $b_i$ 间有一条双向道路，单向通行需 $c_i$ 分钟。路网保证任意两路口间可达（不一定直接）。", "outputFormat": "输出一行，包含一个整数，表示 Bajtazar 配送所有披萨所需的最短加热器运行时间（分钟）。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5ybl7frg.png)\n\nBajtazar 进行三次配送：$1 \\rightarrow 2 \\rightarrow 4 \\rightarrow 2 \\rightarrow 5 \\rightsquigarrow 1$（加热器运行 $15$ 分钟），$1 \\rightarrow 2 \\rightarrow 3 \\rightsquigarrow 1$（$16$ 分钟），$1 \\rightarrow 6 \\rightarrow 1 \\rightarrow 7 \\rightsquigarrow 1$（$3$ 分钟）。\n\n**附加样例**\n\n1. $n=15, k=3$，小型完全二叉树，通往叶子的道路通行时间 $6$ 分钟，其余道路 $1$ 分钟。\n2. $n=2000, k=100$，披萨店直达所有路口，大型随机通行时间。\n3. $n=50000, k=1000$，披萨店直达两个路口，其中之一可达其余所有路口，所有通行时间为 $1$。\n\n所有测试数据满足 $n \\geq 2, k \\geq 1, 1 \\leq c_i \\leq 1000000$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, k \\leq 10$           | $12$ |\n| $2$    | $n, k \\leq 2000$         | $24$ |\n| $3$    | $n, k \\leq 100000$ 且 $n \\cdot k \\leq 4000000$ | $28$ |\n| $4$    | $n, k \\leq 100000$       | $36$ |", "locale": "zh-CN"}}}
{"pid": "P12754", "type": "P", "difficulty": 0, "samples": [["12\n3 9\n0 4\n2 5\n0 0\n6 0\n7 8\n0 0\n0 0\n10 12\n11 0\n0 0\n0 0\n6\n11 8\n8 6\n11 7\n1 2\n4 10\n3 3", "NIE\nTAK\nTAK\nTAK\nNIE\nTAK"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "POI（波兰）"], "title": "[POI 2017 R3] 米达斯 Midas", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5062)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Midas](https://szkopul.edu.pl/problemset/problem/wrTmzO9-dzEbLtsRUCdMV2_W/statement/)**\n\nBajtazar，米达斯国王的御用工程师，奉命建造了一座迷宫。原计划迷宫的房间用于展示珍奇展品，但实际上，它成了为国王金库增收巨额金币的工具。\n\n迷宫由多个房间和连接它们的通道组成，入口位于房间 $1$。每间房间的通道分叉，可选择左或右通道离开（部分通道可能被封锁，无法通行）。通道只分叉，不汇合。游客携带收费装置，每次通过通道需支付金币，费用取决于已付金币总数及所选通道：左通道费用等于此前总费用，右通道费用比此前总费用多 $1$ 金币。\n\n这种复杂的收费机制旨在掩盖实际游览成本，但给游客带来不便。Bajtazar 决定协助游客，聘请你编写程序回答以下查询：若游客持有恰好从入口到房间 $x$ 所需的金币，能否用同样金币从入口到达房间 $y$？", "inputFormat": "第一行包含一个正整数 $n$，表示迷宫房间数量，房间编号为 $1$ 至 $n$，入口位于房间 $1$。\n\n接下来的 $n$ 行描述迷宫，第 $i$ 行包含两个整数 $l_i, r_i$ $(0 \\leq l_i, r_i \\leq n)$。若 $l_i > 0$，表示从房间 $i$ 的左通道可达房间 $l_i$；若 $l_i = 0$，左通道被封锁。$r_i$ 类似描述右通道。从房间 $1$ 出发，可达所有其他房间。\n\n下一行包含一个正整数 $z$，表示查询数量。\n\n接下来的 $z$ 行描述查询，第 $i$ 行包含两个整数 $x_i, y_i$ $(1 \\leq x_i, y_i \\leq n)$，表示查询：从入口到房间 $x_i$ 所需金币是否足够到达房间 $y_i$。", "outputFormat": "输出 $z$ 行，若第 $i$ 个查询的答案为是，在第 $i$ 行输出 `TAK`，否则输出 `NIE`。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dv93to84.png)\n\n图示描绘了示例中的迷宫：房间用圆圈表示，通道费用标注于方框内。从上至下、选择左或右分支对应迷宫中的左或右路。例如，访问房间 $3$ 需支付 $3+1+1+1=3+3$ 金币；访问房间 $11$ 需支付 $1+1+3+1=4$ 金币，不足以到达房间 $8$（需 $0+1+1+2=5$ 金币），对应第一个查询的 `NIE`。\n\n**附加样例**\n\n1. $n=7$，房间形成完全二叉树，$z=49$，查询所有房间对。\n2. $n=2^{15}-1$，房间形成完全二叉树，$z=n+1$，查询相邻叶子对，每对有两次查询（一次 `TAK`，一次 `NIE`）。\n3. $n=1000000$，左路形成长度 $n/2$ 的路径，每房间有右通道分支，$z=10$，随机查询。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$        | $n \\leq 20, z \\leq 50$    | $15$ |\n| $2$        | $n \\leq 1000, z \\leq 1000$ | $9$  |\n| $3$        | $n \\leq 1000, z \\leq 1000000$ | $14$ |\n| $4$       | $n \\leq 1000000, z \\leq 1000$ | $11$ |\n| $5$        | $n \\leq 1000000, z \\leq 1000000$ | $51$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R3] 米达斯 Midas", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5062)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Midas](https://szkopul.edu.pl/problemset/problem/wrTmzO9-dzEbLtsRUCdMV2_W/statement/)**\n\nBajtazar，米达斯国王的御用工程师，奉命建造了一座迷宫。原计划迷宫的房间用于展示珍奇展品，但实际上，它成了为国王金库增收巨额金币的工具。\n\n迷宫由多个房间和连接它们的通道组成，入口位于房间 $1$。每间房间的通道分叉，可选择左或右通道离开（部分通道可能被封锁，无法通行）。通道只分叉，不汇合。游客携带收费装置，每次通过通道需支付金币，费用取决于已付金币总数及所选通道：左通道费用等于此前总费用，右通道费用比此前总费用多 $1$ 金币。\n\n这种复杂的收费机制旨在掩盖实际游览成本，但给游客带来不便。Bajtazar 决定协助游客，聘请你编写程序回答以下查询：若游客持有恰好从入口到房间 $x$ 所需的金币，能否用同样金币从入口到达房间 $y$？", "inputFormat": "第一行包含一个正整数 $n$，表示迷宫房间数量，房间编号为 $1$ 至 $n$，入口位于房间 $1$。\n\n接下来的 $n$ 行描述迷宫，第 $i$ 行包含两个整数 $l_i, r_i$ $(0 \\leq l_i, r_i \\leq n)$。若 $l_i > 0$，表示从房间 $i$ 的左通道可达房间 $l_i$；若 $l_i = 0$，左通道被封锁。$r_i$ 类似描述右通道。从房间 $1$ 出发，可达所有其他房间。\n\n下一行包含一个正整数 $z$，表示查询数量。\n\n接下来的 $z$ 行描述查询，第 $i$ 行包含两个整数 $x_i, y_i$ $(1 \\leq x_i, y_i \\leq n)$，表示查询：从入口到房间 $x_i$ 所需金币是否足够到达房间 $y_i$。", "outputFormat": "输出 $z$ 行，若第 $i$ 个查询的答案为是，在第 $i$ 行输出 `TAK`，否则输出 `NIE`。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dv93to84.png)\n\n图示描绘了示例中的迷宫：房间用圆圈表示，通道费用标注于方框内。从上至下、选择左或右分支对应迷宫中的左或右路。例如，访问房间 $3$ 需支付 $3+1+1+1=3+3$ 金币；访问房间 $11$ 需支付 $1+1+3+1=4$ 金币，不足以到达房间 $8$（需 $0+1+1+2=5$ 金币），对应第一个查询的 `NIE`。\n\n**附加样例**\n\n1. $n=7$，房间形成完全二叉树，$z=49$，查询所有房间对。\n2. $n=2^{15}-1$，房间形成完全二叉树，$z=n+1$，查询相邻叶子对，每对有两次查询（一次 `TAK`，一次 `NIE`）。\n3. $n=1000000$，左路形成长度 $n/2$ 的路径，每房间有右通道分支，$z=10$，随机查询。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$        | $n \\leq 20, z \\leq 50$    | $15$ |\n| $2$        | $n \\leq 1000, z \\leq 1000$ | $9$  |\n| $3$        | $n \\leq 1000, z \\leq 1000000$ | $14$ |\n| $4$       | $n \\leq 1000000, z \\leq 1000$ | $11$ |\n| $5$        | $n \\leq 1000000, z \\leq 1000000$ | $51$ |", "locale": "zh-CN"}}}
{"pid": "P12755", "type": "P", "difficulty": 0, "samples": [["3 4\n1 2 3\n1 3\n1 2\n2 3", "3\n1\n1\n2"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "POI（波兰）"], "title": "[POI 2017 R3] 评分 Grades", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5063)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Oceny](https://szkopul.edu.pl/problemset/problem/0KG8REkSLNnY5sVkm7Aei_R7/statement/)**\n\n体育老师班上有 $n$ 名学生。学年即将结束，是时候为每位学生评定期末成绩了。老师根据学生运动能力，为每人分配了一个从 $1$ 到 $n$ 的数值 $a_i$，数值越大表示运动能力越强，每位学生的 $a_i$ 各不相同。课堂开始时，学生按顺序排成一列，老师从左到右依次评分。评分范围从 $1$ 到 $n$，共有 $n$ 种不同分数。\n\n老师希望评分满足以下要求：\n- 对于任意两学生 $v$ 和 $u$，若 $v$ 的运动能力强于 $u$，则 $v$ 的分数不得低于 $u$，否则显失公平。\n- 对于任意两学生 $v$ 和 $u$，若 $v$ 站在 $u$ 右侧，晚于 $u$ 被评分，则 $v$ 的分数不得低于 $u$，以免其感到失落。\n- 在满足上述条件的前提下，老师希望尽可能使用多种不同分数。\n\n每节课学生以某种顺序排队。老师习惯固定顺序，但应学生请求，同意每两节课间有两名学生互换位置。老师尚未决定在哪节课评分。帮助他编写程序，计算每节课若在当时评分，最多能使用多少种不同分数。", "inputFormat": "第一行包含两个正整数 $n, z$，分别表示学生人数和剩余课次。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$ $(1 \\leq a_i \\leq n)$，表示首节课按排队顺序的学生运动能力值，互不相同。\n\n接下来的 $z-1$ 行描述位置交换，第 $i$ 行包含两个整数 $p_i, q_i$ $(1 \\leq p_i < q_i \\leq n)$，表示第 $i$ 节课后，站在位置 $p_i$ 和 $q_i$ 的学生将在下节课前互换位置。", "outputFormat": "输出 $z$ 行，第 $i$ 行包含一个整数，表示第 $i$ 节课评分时，老师最多能使用的不同分数种类。", "hint": "**样例 1 解释**\n\n首节课学生顺序为 $1,2,3$，每人可获不同分数。第 $2$ 节课顺序为 $3,2,1$，第 3 节课为 $2,3,1$，这两节课学生 $1$ 因能力最低且最后评分，分数不得高于或低于他人。第 $4$ 节课顺序为 $2,1,3$，学生 $3$ 可获更高分数，学生 $1$ 和 $2$ 须同分。\n\n**附加样例**\n\n1. 小型样例，首节课奇数位置学生能力高于偶数位置，最后一节按能力升序排列。\n2. $n=2000, z=n/2+1$，奇数 $i$ 的 $a_i=i+1$，偶数 $i$ 的 $a_i=i-1$，$p_i=2i-1, q_i=2i$（连续学生对交换），分数种类从 $n/2$ 增至 $n$。\n3. $n=z=300000, a_i=i$（学生按能力升序），$p_i=i, q_i=i+1$（学生 $n$ 依次与所有人交换），分数种类从 $n$ 降至 $1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, z \\leq 2000$ | $24$ |\n| $2$    | $n \\leq 2000, z \\leq 300000$ | $8$  |\n| $3$    | $n, z \\leq 100000$       | $30$ |\n| $4$    | $n \\leq 1000000, z \\leq 300000$，最多 $15$ 种分数 | $10$ |\n| $5$    | $n \\leq 1000000, z \\leq 300000$，仅与相邻学生交换 | $20$ |\n| $6$    | $n \\leq 1000000, z \\leq 300000$ | $8$ ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R3] 评分 Grades", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5063)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Oceny](https://szkopul.edu.pl/problemset/problem/0KG8REkSLNnY5sVkm7Aei_R7/statement/)**\n\n体育老师班上有 $n$ 名学生。学年即将结束，是时候为每位学生评定期末成绩了。老师根据学生运动能力，为每人分配了一个从 $1$ 到 $n$ 的数值 $a_i$，数值越大表示运动能力越强，每位学生的 $a_i$ 各不相同。课堂开始时，学生按顺序排成一列，老师从左到右依次评分。评分范围从 $1$ 到 $n$，共有 $n$ 种不同分数。\n\n老师希望评分满足以下要求：\n- 对于任意两学生 $v$ 和 $u$，若 $v$ 的运动能力强于 $u$，则 $v$ 的分数不得低于 $u$，否则显失公平。\n- 对于任意两学生 $v$ 和 $u$，若 $v$ 站在 $u$ 右侧，晚于 $u$ 被评分，则 $v$ 的分数不得低于 $u$，以免其感到失落。\n- 在满足上述条件的前提下，老师希望尽可能使用多种不同分数。\n\n每节课学生以某种顺序排队。老师习惯固定顺序，但应学生请求，同意每两节课间有两名学生互换位置。老师尚未决定在哪节课评分。帮助他编写程序，计算每节课若在当时评分，最多能使用多少种不同分数。", "inputFormat": "第一行包含两个正整数 $n, z$，分别表示学生人数和剩余课次。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$ $(1 \\leq a_i \\leq n)$，表示首节课按排队顺序的学生运动能力值，互不相同。\n\n接下来的 $z-1$ 行描述位置交换，第 $i$ 行包含两个整数 $p_i, q_i$ $(1 \\leq p_i < q_i \\leq n)$，表示第 $i$ 节课后，站在位置 $p_i$ 和 $q_i$ 的学生将在下节课前互换位置。", "outputFormat": "输出 $z$ 行，第 $i$ 行包含一个整数，表示第 $i$ 节课评分时，老师最多能使用的不同分数种类。", "hint": "**样例 1 解释**\n\n首节课学生顺序为 $1,2,3$，每人可获不同分数。第 $2$ 节课顺序为 $3,2,1$，第 3 节课为 $2,3,1$，这两节课学生 $1$ 因能力最低且最后评分，分数不得高于或低于他人。第 $4$ 节课顺序为 $2,1,3$，学生 $3$ 可获更高分数，学生 $1$ 和 $2$ 须同分。\n\n**附加样例**\n\n1. 小型样例，首节课奇数位置学生能力高于偶数位置，最后一节按能力升序排列。\n2. $n=2000, z=n/2+1$，奇数 $i$ 的 $a_i=i+1$，偶数 $i$ 的 $a_i=i-1$，$p_i=2i-1, q_i=2i$（连续学生对交换），分数种类从 $n/2$ 增至 $n$。\n3. $n=z=300000, a_i=i$（学生按能力升序），$p_i=i, q_i=i+1$（学生 $n$ 依次与所有人交换），分数种类从 $n$ 降至 $1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, z \\leq 2000$ | $24$ |\n| $2$    | $n \\leq 2000, z \\leq 300000$ | $8$  |\n| $3$    | $n, z \\leq 100000$       | $30$ |\n| $4$    | $n \\leq 1000000, z \\leq 300000$，最多 $15$ 种分数 | $10$ |\n| $5$    | $n \\leq 1000000, z \\leq 300000$，仅与相邻学生交换 | $20$ |\n| $6$    | $n \\leq 1000000, z \\leq 300000$ | $8$ ", "locale": "zh-CN"}}}
{"pid": "P12756", "type": "P", "difficulty": 0, "samples": [["9 2 4\n3 7 10 12 12 13 13 24 25", "19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "POI（波兰）"], "title": "[POI 2017 R3] 烤三明治 Panini", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5064)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Zapiekanki](https://szkopul.edu.pl/problemset/problem/w-dbshXVyRol4LIT9jeP-bNn/statement/)**\n\nBajtazar 在拜托尼亚经营一家烤三明治摊位，其产品以卓越的品质和独特的风味闻名遐迩。多年来，他稳固了市场地位，赢得了忠实顾客群。\n\n每天有 $k$ 位顾客光顾，第 $i$ 位在时刻 $t_i$ 到达，每人点一份三明治。Bajtazar 重视顾客体验，恨不得立刻交付订单，但烤箱有限制：一次最多烤 $z$ 份三明治，耗时 $d$，期间无法打开烤箱。他希望顾客的总等待时间最短，可在顾客到达前开始烤制，但必须在顾客到达时烤好——没人爱吃凉三明治。Bajtazar 在时刻 $0$ 到达摊位。\n\n假设 Bajtazar 知晓每位顾客的到达时间，并采用最优烤制策略，顾客的总等待时间是多少？", "inputFormat": "第一行包含三个正整数 $k, z, d$，分别表示顾客数量、烤箱容量和烤制时间。\n\n第二行包含 $k$ 个整数 $t_1, t_2, \\ldots, t_k$ $(0 \\leq t_1 \\leq t_2 \\leq \\ldots \\leq t_k)$，其中 $t_i$ 表示第 $i$ 位顾客的到达时刻。", "outputFormat": "输出一行，包含一个整数，表示采用最优烤制策略时，顾客的总等待时间。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vm0nktrr.png)\n\n在最优烤制策略中（见图示），Bajtazar 在时刻 $0, 6, 10, 14, 21$ 启动烤箱。首次仅烤一份三明治，之后每次烤两份。烤制时间以灰色表示，顾客等待时间以黑色表示。\n\n**附加样例**\n\n1. $k=z=10, d=1$，所有顾客在时刻 $0$ 到达。\n2. $k=2000, z=5, d=200$，顾客到达间隔大于 $d$。\n3. $k=3000, z=7, d=1000000$，一半顾客在时刻 $0$ 到达，另一半在时刻 $t_{\\frac{k}{2}+i}=i$ 到达。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $z \\leq k \\leq 200, d \\leq 200, t_k \\leq 10000$ | $20$ |\n| $2$    | $z \\leq k \\leq 200, d, t_k \\leq 1000000$ | $30$ |\n| $3$    | $z \\leq k \\leq 3000, d, t_k \\leq 1000000$ | $50$ |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R3] 烤三明治 Panini", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5064)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Zapiekanki](https://szkopul.edu.pl/problemset/problem/w-dbshXVyRol4LIT9jeP-bNn/statement/)**\n\nBajtazar 在拜托尼亚经营一家烤三明治摊位，其产品以卓越的品质和独特的风味闻名遐迩。多年来，他稳固了市场地位，赢得了忠实顾客群。\n\n每天有 $k$ 位顾客光顾，第 $i$ 位在时刻 $t_i$ 到达，每人点一份三明治。Bajtazar 重视顾客体验，恨不得立刻交付订单，但烤箱有限制：一次最多烤 $z$ 份三明治，耗时 $d$，期间无法打开烤箱。他希望顾客的总等待时间最短，可在顾客到达前开始烤制，但必须在顾客到达时烤好——没人爱吃凉三明治。Bajtazar 在时刻 $0$ 到达摊位。\n\n假设 Bajtazar 知晓每位顾客的到达时间，并采用最优烤制策略，顾客的总等待时间是多少？", "inputFormat": "第一行包含三个正整数 $k, z, d$，分别表示顾客数量、烤箱容量和烤制时间。\n\n第二行包含 $k$ 个整数 $t_1, t_2, \\ldots, t_k$ $(0 \\leq t_1 \\leq t_2 \\leq \\ldots \\leq t_k)$，其中 $t_i$ 表示第 $i$ 位顾客的到达时刻。", "outputFormat": "输出一行，包含一个整数，表示采用最优烤制策略时，顾客的总等待时间。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vm0nktrr.png)\n\n在最优烤制策略中（见图示），Bajtazar 在时刻 $0, 6, 10, 14, 21$ 启动烤箱。首次仅烤一份三明治，之后每次烤两份。烤制时间以灰色表示，顾客等待时间以黑色表示。\n\n**附加样例**\n\n1. $k=z=10, d=1$，所有顾客在时刻 $0$ 到达。\n2. $k=2000, z=5, d=200$，顾客到达间隔大于 $d$。\n3. $k=3000, z=7, d=1000000$，一半顾客在时刻 $0$ 到达，另一半在时刻 $t_{\\frac{k}{2}+i}=i$ 到达。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $z \\leq k \\leq 200, d \\leq 200, t_k \\leq 10000$ | $20$ |\n| $2$    | $z \\leq k \\leq 200, d, t_k \\leq 1000000$ | $30$ |\n| $3$    | $z \\leq k \\leq 3000, d, t_k \\leq 1000000$ | $50$ |\n", "locale": "zh-CN"}}}
{"pid": "P12758", "type": "P", "difficulty": 6, "samples": [["3 3\n1 2\n2 3\n3 1\n1 1 0\n1\n7\nD 1\nM 2\nD 1\nM 3\nD 2\nK 2\nD 2", "1 0 0\n1\n-1\n1\n0"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "POI（波兰）", "生成树", "位运算"], "title": "[POI 2017 R3] 奇偶路口 Crossroads of parity", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5066)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Rozdroża parzystości](https://szkopul.edu.pl/problemset/problem/-7cqC3RrH4e-Ar7DWy4GKzLv/statement/)**\n\nBajtazar 掌管拜托尼亚王国新设立的公国，辖内有 $n$ 座城市。公国尚在建设初期，尚未修筑任何道路。Bajtazar 规划了 $m$ 条双向道路，每条连接两座城市。若全部建成，可实现任意城市间连通。然而，他缺乏设计经验，道路规划效率低下，每条新路的建设难度远超之前所有道路之和。他估算第 $i$ 条路的建设成本为 $2^i$ 拜托币。\n\n不幸的是，拜托尼亚掀起一股「奇偶」热潮，居民对道路数的奇偶性极度执着。部分城市的居民认为偶数道路象征和谐与平静，要求其城市连出的道路数为偶数；其他城市居民则视奇数为独立与活力的象征，要求道路数为奇数。\n\nBajtazar 需重新规划，选择部分道路，满足所有城市的奇偶要求，并尽量降低总成本。但拜托尼亚公共采购法有时要求剔除 $k-1$ 个最便宜的方案，因此他需构建满足居民要求的第 $k$ 便宜的道路网。注意，居民不再要求道路网连通所有城市，尽管原计划具备此特性，但奇偶要求可能与之冲突。\n\n更糟的是，拜托尼亚议会频繁修改采购法，变更 $k$ 值，居民也常改变偏好，忽而崇尚偶数，忽而迷恋奇数。Bajtazar 必须随之调整规划。帮助他展现慷慨与高效的治理能力，适应居民多变的需求，设计应建的道路网！", "inputFormat": "第一行包含两个整数 $n, m$ $(1 \\leq n, m \\leq 500000)$，分别表示城市数量和可建道路数量。\n\n接下来的 $m$ 行描述道路，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i, b_i \\leq n, a_i \\neq b_i)$，表示可建连接城市 $a_i$ 和 $b_i$ 的双向道路，成本为 $2^i$ 拜托币。每对城市至多出现一次。\n\n下一行包含 $n$ 个整数 $p_1, \\ldots, p_n$，若 $p_i=0$，第 $i$ 个城市居民偏好偶数道路数；若 $p_i=1$，偏好奇数。\n\n下一行包含整数 $k$ $(1 \\leq k \\leq 10^{18})$，表示 Bajtazar 考虑第 $k$ 便宜的满足居民要求的道路网（$k=1$ 为最便宜）。不同方案成本均不同。\n\n下一行包含整数 $q$ $(0 \\leq q \\leq 500000)$，表示查询数量，随后 $q$ 行描述查询。每行包含字符 $c$ 和整数 $v$：\n- 若 $c=\\texttt{M}$，城市 $v$ $(1 \\leq v \\leq n)$ 的居民改变偏好（偶变奇，奇变偶）。\n- 若 $c=\\texttt{K}$，采购法变更，Bajtazar 考虑第 $v$ $(1 \\leq v \\leq 10^{18})$ 便宜的道路网。\n- 若 $c=\\texttt{D}$，Bajtazar 询问当前道路网是否包含第 $v$ $(1 \\leq v \\leq m)$ 条路（成本 $2^v$）。", "outputFormat": "第一行输出初始道路网（居民偏好变更前），包含 $m$ 个整数，第 $i$ 个为 $1$ 表示建第 $i$ 条路，为 $0$ 表示不建，保证存在合法方案。\n\n接下来的行对应 $c=\\texttt{D}$ 的查询。若当前道路网不存在（因居民偏好变更或方案不足被剔除），输出 $-1$；若存在，输出 $1$ 表示当前方案包含第 $v$ 条路，输出 $0$ 表示不包含。", "hint": "**样例 1 解释**\n\n有三座城市和三条路形成环。最便宜的道路网满足城市 $1,2$ 奇数、城市 $3$ 偶数要求，仅包含路 $1-2$（成本 $2$）。不存在仅一个城市有奇数道路的方案。城市 $1,3$ 奇数、城市 $2$ 偶数的方案有两种：较便宜的包含路 $1-2, 2-3$（成本 $2+4=6$），较贵的包含路 $1-3$（成本 $8$）。\n\n**附加样例**\n\n1. $n=6, m=15, q=50$，每对城市间有路，无 $\\texttt{K}$ 类型查询。\n2. $n=10, m=10, q=84$，路形成环，$\\texttt{D}$ 类型查询时总有两种可行方案。\n3. $n=101, m=150$，$50$ 个三角形，每相邻三角形共享一顶点，全为偶数要求，$k=2^{50}$，无查询。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $k=1, q=0$（仅最便宜方案，无查询） | $32$ |\n| $2$    | $q=0$（无查询）          | $25$ |\n| $3$    | 仅 $\\texttt{M}$ 或 $\\texttt{D}$ 类型查询 | $30$ |\n| $4$    | 无附加限制               | $13$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2017 R3] 奇偶路口 Crossroads of parity", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5066)。", "description": "**题目译自 [XXIV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi24-3/dashboard/) [Rozdroża parzystości](https://szkopul.edu.pl/problemset/problem/-7cqC3RrH4e-Ar7DWy4GKzLv/statement/)**\n\nBajtazar 掌管拜托尼亚王国新设立的公国，辖内有 $n$ 座城市。公国尚在建设初期，尚未修筑任何道路。Bajtazar 规划了 $m$ 条双向道路，每条连接两座城市。若全部建成，可实现任意城市间连通。然而，他缺乏设计经验，道路规划效率低下，每条新路的建设难度远超之前所有道路之和。他估算第 $i$ 条路的建设成本为 $2^i$ 拜托币。\n\n不幸的是，拜托尼亚掀起一股「奇偶」热潮，居民对道路数的奇偶性极度执着。部分城市的居民认为偶数道路象征和谐与平静，要求其城市连出的道路数为偶数；其他城市居民则视奇数为独立与活力的象征，要求道路数为奇数。\n\nBajtazar 需重新规划，选择部分道路，满足所有城市的奇偶要求，并尽量降低总成本。但拜托尼亚公共采购法有时要求剔除 $k-1$ 个最便宜的方案，因此他需构建满足居民要求的第 $k$ 便宜的道路网。注意，居民不再要求道路网连通所有城市，尽管原计划具备此特性，但奇偶要求可能与之冲突。\n\n更糟的是，拜托尼亚议会频繁修改采购法，变更 $k$ 值，居民也常改变偏好，忽而崇尚偶数，忽而迷恋奇数。Bajtazar 必须随之调整规划。帮助他展现慷慨与高效的治理能力，适应居民多变的需求，设计应建的道路网！", "inputFormat": "第一行包含两个整数 $n, m$ $(1 \\leq n, m \\leq 500000)$，分别表示城市数量和可建道路数量。\n\n接下来的 $m$ 行描述道路，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i, b_i \\leq n, a_i \\neq b_i)$，表示可建连接城市 $a_i$ 和 $b_i$ 的双向道路，成本为 $2^i$ 拜托币。每对城市至多出现一次。\n\n下一行包含 $n$ 个整数 $p_1, \\ldots, p_n$，若 $p_i=0$，第 $i$ 个城市居民偏好偶数道路数；若 $p_i=1$，偏好奇数。\n\n下一行包含整数 $k$ $(1 \\leq k \\leq 10^{18})$，表示 Bajtazar 考虑第 $k$ 便宜的满足居民要求的道路网（$k=1$ 为最便宜）。不同方案成本均不同。\n\n下一行包含整数 $q$ $(0 \\leq q \\leq 500000)$，表示查询数量，随后 $q$ 行描述查询。每行包含字符 $c$ 和整数 $v$：\n- 若 $c=\\texttt{M}$，城市 $v$ $(1 \\leq v \\leq n)$ 的居民改变偏好（偶变奇，奇变偶）。\n- 若 $c=\\texttt{K}$，采购法变更，Bajtazar 考虑第 $v$ $(1 \\leq v \\leq 10^{18})$ 便宜的道路网。\n- 若 $c=\\texttt{D}$，Bajtazar 询问当前道路网是否包含第 $v$ $(1 \\leq v \\leq m)$ 条路（成本 $2^v$）。", "outputFormat": "第一行输出初始道路网（居民偏好变更前），包含 $m$ 个整数，第 $i$ 个为 $1$ 表示建第 $i$ 条路，为 $0$ 表示不建，保证存在合法方案。\n\n接下来的行对应 $c=\\texttt{D}$ 的查询。若当前道路网不存在（因居民偏好变更或方案不足被剔除），输出 $-1$；若存在，输出 $1$ 表示当前方案包含第 $v$ 条路，输出 $0$ 表示不包含。", "hint": "**样例 1 解释**\n\n有三座城市和三条路形成环。最便宜的道路网满足城市 $1,2$ 奇数、城市 $3$ 偶数要求，仅包含路 $1-2$（成本 $2$）。不存在仅一个城市有奇数道路的方案。城市 $1,3$ 奇数、城市 $2$ 偶数的方案有两种：较便宜的包含路 $1-2, 2-3$（成本 $2+4=6$），较贵的包含路 $1-3$（成本 $8$）。\n\n**附加样例**\n\n1. $n=6, m=15, q=50$，每对城市间有路，无 $\\texttt{K}$ 类型查询。\n2. $n=10, m=10, q=84$，路形成环，$\\texttt{D}$ 类型查询时总有两种可行方案。\n3. $n=101, m=150$，$50$ 个三角形，每相邻三角形共享一顶点，全为偶数要求，$k=2^{50}$，无查询。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $k=1, q=0$（仅最便宜方案，无查询） | $32$ |\n| $2$    | $q=0$（无查询）          | $25$ |\n| $3$    | 仅 $\\texttt{M}$ 或 $\\texttt{D}$ 类型查询 | $30$ |\n| $4$    | 无附加限制               | $13$ |", "locale": "zh-CN"}}}
{"pid": "P12759", "type": "P", "difficulty": 0, "samples": [["5\n4 3 2 1 0\n4 0 3 3 0\n1 3\n2 1\n4 2\n5 1", "TAK\n4"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R2] 转账 Transfers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5067)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Przelewy](https://szkopul.edu.pl/problemset/problem/o4N9I1hFMnpCUm0sjmIEYx_2/statement/)**\n\nBajtazar 和朋友们计划清算最近一起露营的费用。他们共有 $n$ 人，第 $i$ 人的银行账户初始余额为 $x_i$ 拜托币，结算后应为 $y_i$ 拜托币。\n\n拜托尼亚的银行转账费用高昂，幸好银行推出了一项奇特的促销活动。每人可在银行系统内任意添加好友，关系对称：若 $A$ 将 $B$ 设为好友，则 $B$ 自动将 $A$ 设为好友，且无人可自设为好友。促销允许每人免费向所有好友同时转账 $1$ 拜托币，无次数限制。\n\n朋友们构建了一个包含 $n-1$ 条好友关系的网络，确保任意两人直接或间接相连（即通过普通转账可实现任意两人间资金转移）。他们想知道，是否仅用促销的转账操作，就能通过此网络完成结算。银行允许账户余额为负。", "inputFormat": "第一行包含一个整数 $n$ $(n \\geq 2)$，表示朋友人数，编号为 $1$ 至 $n$。\n\n第二行包含 $n$ 个整数 $x_1, x_2, \\ldots, x_n$ $(0 \\leq x_i \\leq W)$，表示初始余额。\n\n第三行包含 $n$ 个整数 $y_1, y_2, \\ldots, y_n$ $(0 \\leq y_i \\leq W)$，表示目标余额。\n\n接下来的 $n-1$ 行定义好友关系，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i, b_i \\leq n, a_i \\neq b_i)$，表示编号为 $a_i$ 和 $b_i$ 的朋友互为好友。", "outputFormat": "第一行输出 `TAK` 或 `NIE`，表示是否仅用促销转账完成结算。\n\n若为 `TAK`，第二行输出一个整数，表示所需的最少转账操作次数。", "hint": "下表展示了一种用四次促销转账完成结算的方式，各行表示每次转账后的账户余额。\n\n| 朋友编号 | $1$ | $2$ | $3$ | $4$ | $5$ |\n|:----------:|:-----:|:-----:|:-----:|:-----:|:-----:|\n| 初始余额 | $4$ | $3$ | $2$ | $1$ | $0$ |\n| $2$ 转账（至 $1,4$） | $5$ | $1$ | $2$ | $2$ | $0$ |\n| $5$ 转账（至 $1$） | $6$ | $1$ | $2$ | $2$ | $-1$ |\n| $2$ 再次转账（至 $1,4$） | $7$ | $-1$ | $2$ | $3$ | $-1$ |\n| $1$ 转账（至 $2,3,5$） | $4$ | $0$ | $3$ | $3$ | $0$ |\n\n**附加样例**\n\n1. $n=3, x_1=1, x_2=x_3=y_1=y_2=y_3=0$，答案 `NIE`。  \n2. $n=1000$，好友网络为星形，答案 `TAK`。  \n3. $n=1000000$，好友网络为线形，答案 `TAK`。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 10, W \\leq 5$    | $20$ |\n| $2$    | $n \\leq 1000, W \\leq 1000000$ | $30$ |\n| $3$    | $n \\leq 1000000, W \\leq 1000000$ | $50$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R2] 转账 Transfers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5067)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Przelewy](https://szkopul.edu.pl/problemset/problem/o4N9I1hFMnpCUm0sjmIEYx_2/statement/)**\n\nBajtazar 和朋友们计划清算最近一起露营的费用。他们共有 $n$ 人，第 $i$ 人的银行账户初始余额为 $x_i$ 拜托币，结算后应为 $y_i$ 拜托币。\n\n拜托尼亚的银行转账费用高昂，幸好银行推出了一项奇特的促销活动。每人可在银行系统内任意添加好友，关系对称：若 $A$ 将 $B$ 设为好友，则 $B$ 自动将 $A$ 设为好友，且无人可自设为好友。促销允许每人免费向所有好友同时转账 $1$ 拜托币，无次数限制。\n\n朋友们构建了一个包含 $n-1$ 条好友关系的网络，确保任意两人直接或间接相连（即通过普通转账可实现任意两人间资金转移）。他们想知道，是否仅用促销的转账操作，就能通过此网络完成结算。银行允许账户余额为负。", "inputFormat": "第一行包含一个整数 $n$ $(n \\geq 2)$，表示朋友人数，编号为 $1$ 至 $n$。\n\n第二行包含 $n$ 个整数 $x_1, x_2, \\ldots, x_n$ $(0 \\leq x_i \\leq W)$，表示初始余额。\n\n第三行包含 $n$ 个整数 $y_1, y_2, \\ldots, y_n$ $(0 \\leq y_i \\leq W)$，表示目标余额。\n\n接下来的 $n-1$ 行定义好友关系，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i, b_i \\leq n, a_i \\neq b_i)$，表示编号为 $a_i$ 和 $b_i$ 的朋友互为好友。", "outputFormat": "第一行输出 `TAK` 或 `NIE`，表示是否仅用促销转账完成结算。\n\n若为 `TAK`，第二行输出一个整数，表示所需的最少转账操作次数。", "hint": "下表展示了一种用四次促销转账完成结算的方式，各行表示每次转账后的账户余额。\n\n| 朋友编号 | $1$ | $2$ | $3$ | $4$ | $5$ |\n|:----------:|:-----:|:-----:|:-----:|:-----:|:-----:|\n| 初始余额 | $4$ | $3$ | $2$ | $1$ | $0$ |\n| $2$ 转账（至 $1,4$） | $5$ | $1$ | $2$ | $2$ | $0$ |\n| $5$ 转账（至 $1$） | $6$ | $1$ | $2$ | $2$ | $-1$ |\n| $2$ 再次转账（至 $1,4$） | $7$ | $-1$ | $2$ | $3$ | $-1$ |\n| $1$ 转账（至 $2,3,5$） | $4$ | $0$ | $3$ | $3$ | $0$ |\n\n**附加样例**\n\n1. $n=3, x_1=1, x_2=x_3=y_1=y_2=y_3=0$，答案 `NIE`。  \n2. $n=1000$，好友网络为星形，答案 `TAK`。  \n3. $n=1000000$，好友网络为线形，答案 `TAK`。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 10, W \\leq 5$    | $20$ |\n| $2$    | $n \\leq 1000, W \\leq 1000000$ | $30$ |\n| $3$    | $n \\leq 1000000, W \\leq 1000000$ | $50$ |", "locale": "zh-CN"}}}
{"pid": "P12760", "type": "P", "difficulty": 4, "samples": [["7 7\n1 4\n1 6\n4 2\n6 2\n2 1\n5 3\n3 7", "3\n3\n1\n3\n2\n3\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2018", "POI（波兰）", "强连通分量", "Tarjan"], "title": "[POI 2018 R2] 自行车道 Bike paths", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5068)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Drogi rowerowe](https://szkopul.edu.pl/problemset/problem/aKKSmtjWTtDOEHDqnmQ3-eAA/statement/)**\n\n拜托城国王 Bajtazar 倾听民意，决定将部分预算盈余用于修建自行车道。皇家道路顾问已设计了一套单向自行车道网络，连接各路口，但经国王要求进行了多次修改。网络由连接路口 $u$ 到 $v$ 的单向路段组成。从路口 $u$ 到 $v$ 的路径定义为任意一串不同路口序列 $u=v_0, v_1, \\ldots, v_k=v$，其中每对连续路口 $v_i, v_{i+1}$ $(0 \\leq i < k)$ 由从 $v_i$ 到 $v_{i+1}$ 的路段连接。\n\n国王要求网络「公平」，即满足：若从路口 $v$ 无法到达路口 $u$（不存在从 $v$ 到 $u$ 的路径），则从 $u$ 到 $v$ 至多只有一条路径。国王认为，这能避免路口 $v$ 的居民嫉妒路口 $u$ 的居民。\n\n市民自行车委员会获取了这一公平网络的设计，却对此不满，认为它不便于城市出行。他们需提交报告，急需确凿数据。你需计算网络的通达度，即对于每个路口 $v$，计算从 $v$ 可达的路口数量。", "inputFormat": "第一行包含两个整数 $n, m$ $(n \\geq 2, m \\geq 1)$，分别表示拜托城的路口数量和路段数量，路口编号为 $1$ 至 $n$。\n\n接下来的 $m$ 行描述网络，每行包含两个整数 $a, b$ $(1 \\leq a, b \\leq n, a \\neq b)$，表示存在从路口 $a$ 到 $b$ 的单向路段。每对有序对 $(a, b)$ 至多出现一次，保证网络公平。", "outputFormat": "输出 $n$ 行，第 $i$ 行包含一个整数，表示从路口 $i$ 可达的路口数量。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hvqu1a0f.png)\n\n**附加样例**\n\n1. $n=25, m=600$，每路口到其他路口均有路段。\n2. $n=55, m=54$，含孤立路口及长度 $2$ 至 $10$ 的独立环。\n3. $n=50000, m=49999$，所有路口在一条路径上。\n4. $n=50000, m=50000$，所有路口在一个环上。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 60$              | $12$ |\n| $2$    | $n, m \\leq 5000$         | $8$  |\n| $3$    | $n \\leq 50000, m \\leq 100000$，若 $u > v$，则无从 $u$ 到 $v$ 的路径 | $18$ |\n| $4$    | $n \\leq 50000, m \\leq 100000$，若从 $u$ 可达 $v$，则 $v$ 不可达 $u$ | $18$ |\n| $5$    | $n \\leq 50000, m \\leq 100000$ | $44$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R2] 自行车道 Bike paths", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5068)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Drogi rowerowe](https://szkopul.edu.pl/problemset/problem/aKKSmtjWTtDOEHDqnmQ3-eAA/statement/)**\n\n拜托城国王 Bajtazar 倾听民意，决定将部分预算盈余用于修建自行车道。皇家道路顾问已设计了一套单向自行车道网络，连接各路口，但经国王要求进行了多次修改。网络由连接路口 $u$ 到 $v$ 的单向路段组成。从路口 $u$ 到 $v$ 的路径定义为任意一串不同路口序列 $u=v_0, v_1, \\ldots, v_k=v$，其中每对连续路口 $v_i, v_{i+1}$ $(0 \\leq i < k)$ 由从 $v_i$ 到 $v_{i+1}$ 的路段连接。\n\n国王要求网络「公平」，即满足：若从路口 $v$ 无法到达路口 $u$（不存在从 $v$ 到 $u$ 的路径），则从 $u$ 到 $v$ 至多只有一条路径。国王认为，这能避免路口 $v$ 的居民嫉妒路口 $u$ 的居民。\n\n市民自行车委员会获取了这一公平网络的设计，却对此不满，认为它不便于城市出行。他们需提交报告，急需确凿数据。你需计算网络的通达度，即对于每个路口 $v$，计算从 $v$ 可达的路口数量。", "inputFormat": "第一行包含两个整数 $n, m$ $(n \\geq 2, m \\geq 1)$，分别表示拜托城的路口数量和路段数量，路口编号为 $1$ 至 $n$。\n\n接下来的 $m$ 行描述网络，每行包含两个整数 $a, b$ $(1 \\leq a, b \\leq n, a \\neq b)$，表示存在从路口 $a$ 到 $b$ 的单向路段。每对有序对 $(a, b)$ 至多出现一次，保证网络公平。", "outputFormat": "输出 $n$ 行，第 $i$ 行包含一个整数，表示从路口 $i$ 可达的路口数量。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hvqu1a0f.png)\n\n**附加样例**\n\n1. $n=25, m=600$，每路口到其他路口均有路段。\n2. $n=55, m=54$，含孤立路口及长度 $2$ 至 $10$ 的独立环。\n3. $n=50000, m=49999$，所有路口在一条路径上。\n4. $n=50000, m=50000$，所有路口在一个环上。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 60$              | $12$ |\n| $2$    | $n, m \\leq 5000$         | $8$  |\n| $3$    | $n \\leq 50000, m \\leq 100000$，若 $u > v$，则无从 $u$ 到 $v$ 的路径 | $18$ |\n| $4$    | $n \\leq 50000, m \\leq 100000$，若从 $u$ 可达 $v$，则 $v$ 不可达 $u$ | $18$ |\n| $5$    | $n \\leq 50000, m \\leq 100000$ | $44$ |", "locale": "zh-CN"}}}
{"pid": "P12761", "type": "P", "difficulty": 6, "samples": [["2\n11 4\n1 4\n6 8\n2 7\n9 10\n3 2\n1 2\n2 3", "3 5\n2 1\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2018", "线段树", "POI（波兰）", "Special Judge"], "title": "[POI 2018 R2] 列车员 Conductor", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5069)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Konduktor](https://szkopul.edu.pl/problemset/problem/lbADmW7d353d0F0iw4kXTjsl/statement/)**\n\nBajtazar 是拜托尼亚最热门铁路线的列车员。这条线路途经 $m$ 个车站，编号从 $1$ 至 $m$。乘客可在任意车站上下车，为确保所有人持有效票，Bajtazar 需在每对连续车站间查票，但这显然效率低下。\n\n为此，他决定更系统地解决问题。他选出 $n$ 条最热门的乘客路线，每条路线以一对 $a_i, b_i$ 表示，意为乘客在车站 $a_i$ 上车，$b_i$ 下车。Bajtazar 希望以最少的查票次数，确保每条路线上的乘客至少被查一次，即每条路线 $a_i$ 至 $b_i$ 间至少有一次查票。查票不得在车站停靠时进行。\n\n此外，固定查票时机不明智。常客若摸清规律，可能调整路线避开查票。因此，Bajtazar 还想知道所有可能的查票方案。两方案不同，若存在一对连续车站，在一方案中查票而在另一方案中不查。为初步了解，他需计算方案数对 $1000000007$ 取模的结果。", "inputFormat": "第一行包含一个整数 $z$ $(z \\geq 1)$，表示测试数据组数。随后为各组描述。\n\n每组第一行包含两个整数 $m, n$ $(1 \\leq m \\leq 10^9, 1 \\leq n)$，分别表示车站数和路线数。\n\n接下来的 $n$ 行描述路线，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i < b_i \\leq m)$，表示第 $i$ 条路线从车站 $a_i$ 上车，$b_i$ 下车。每对有序对 $(a_i, b_i)$ 至多出现一次。", "outputFormat": "输出 $z$ 行，每行对应一组测试数据，包含两个整数，分别表示满足 Bajtazar 要求的最少查票次数及查票方案数对 $1000000007$ 取模。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y34jmqx1.png)\n\n第一组测试需覆盖四条路线，至少查票三次。一种方案在车站 $2,6,9$ 离站后查票，其余方案为 $\\{2,7,9\\}, \\{3,6,9\\}, \\{3,7,9\\}, \\{1,6,9\\}$，共五种。第二组测试需覆盖两条路线，至少查票两次，仅一种方案。\n\n**附加样例**\n\n1. $n=4, m=10$。\n2. $n=3000$，路线 $i$ 与 $i+1$ 相交，$i=1,\\ldots,n-1$。 \n3. $n=100000$，所有路线区间互不包含。\n4. $n=100000$，一次查票可覆盖所有乘客。\n\n所有附加样例中 $z=1$。\n\n$N$ 为所有 $z$ 组测试数据的 $n$ 之和。若程序仅正确输出最少查票次数（每行仍需输出两个整数，第二个整数为 $32$ 位有符号整数），可获 $20\\%$ 分数。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $z \\leq 10, n \\leq 15$   | $10$ |\n| $2$    | $z \\leq 100, N \\leq 5000$ | $10$ |\n| $3$    | $z \\leq 100, N \\leq 500000$，至多三次查票可覆盖所有乘客 | $15$ |\n| $4$    | $z \\leq 100, N \\leq 500000$，任意三路线区间交集为空 | $15$ |\n| $5$    | $z \\leq 100, N \\leq 500000$ | $50$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R2] 列车员 Conductor", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5069)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Konduktor](https://szkopul.edu.pl/problemset/problem/lbADmW7d353d0F0iw4kXTjsl/statement/)**\n\nBajtazar 是拜托尼亚最热门铁路线的列车员。这条线路途经 $m$ 个车站，编号从 $1$ 至 $m$。乘客可在任意车站上下车，为确保所有人持有效票，Bajtazar 需在每对连续车站间查票，但这显然效率低下。\n\n为此，他决定更系统地解决问题。他选出 $n$ 条最热门的乘客路线，每条路线以一对 $a_i, b_i$ 表示，意为乘客在车站 $a_i$ 上车，$b_i$ 下车。Bajtazar 希望以最少的查票次数，确保每条路线上的乘客至少被查一次，即每条路线 $a_i$ 至 $b_i$ 间至少有一次查票。查票不得在车站停靠时进行。\n\n此外，固定查票时机不明智。常客若摸清规律，可能调整路线避开查票。因此，Bajtazar 还想知道所有可能的查票方案。两方案不同，若存在一对连续车站，在一方案中查票而在另一方案中不查。为初步了解，他需计算方案数对 $1000000007$ 取模的结果。", "inputFormat": "第一行包含一个整数 $z$ $(z \\geq 1)$，表示测试数据组数。随后为各组描述。\n\n每组第一行包含两个整数 $m, n$ $(1 \\leq m \\leq 10^9, 1 \\leq n)$，分别表示车站数和路线数。\n\n接下来的 $n$ 行描述路线，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i < b_i \\leq m)$，表示第 $i$ 条路线从车站 $a_i$ 上车，$b_i$ 下车。每对有序对 $(a_i, b_i)$ 至多出现一次。", "outputFormat": "输出 $z$ 行，每行对应一组测试数据，包含两个整数，分别表示满足 Bajtazar 要求的最少查票次数及查票方案数对 $1000000007$ 取模。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y34jmqx1.png)\n\n第一组测试需覆盖四条路线，至少查票三次。一种方案在车站 $2,6,9$ 离站后查票，其余方案为 $\\{2,7,9\\}, \\{3,6,9\\}, \\{3,7,9\\}, \\{1,6,9\\}$，共五种。第二组测试需覆盖两条路线，至少查票两次，仅一种方案。\n\n**附加样例**\n\n1. $n=4, m=10$。\n2. $n=3000$，路线 $i$ 与 $i+1$ 相交，$i=1,\\ldots,n-1$。 \n3. $n=100000$，所有路线区间互不包含。\n4. $n=100000$，一次查票可覆盖所有乘客。\n\n所有附加样例中 $z=1$。\n\n$N$ 为所有 $z$ 组测试数据的 $n$ 之和。若程序仅正确输出最少查票次数（每行仍需输出两个整数，第二个整数为 $32$ 位有符号整数），可获 $20\\%$ 分数。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $z \\leq 10, n \\leq 15$   | $10$ |\n| $2$    | $z \\leq 100, N \\leq 5000$ | $10$ |\n| $3$    | $z \\leq 100, N \\leq 500000$，至多三次查票可覆盖所有乘客 | $15$ |\n| $4$    | $z \\leq 100, N \\leq 500000$，任意三路线区间交集为空 | $15$ |\n| $5$    | $z \\leq 100, N \\leq 500000$ | $50$ |", "locale": "zh-CN"}}}
{"pid": "P12762", "type": "P", "difficulty": 5, "samples": [["11 7\nP 5 30 10\nZ 6 7\nP 10 22 5\nZ 6 7\nZ 6 6\nU 5\nZ 6 6\n", "15\n19\n22\n2\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2018", "线段树", "POI（波兰）", "差分"], "title": "[POI 2018 R2] 电信中继站 Transceivers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5070)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Przekaźniki telekomunikacyjne](https://szkopul.edu.pl/problemset/problem/GmAagCBetbskP0qiKlgVd-6A/statement/)**\n\n国王 Bajtazar 顺应时代潮流，决定为拜托尼亚王国铺设移动电话网络，覆盖所有村庄和城市。这些地点分布在一条笔直的道路上，可视为数轴。\n\n新任命的电信顾问需要一个程序，测试中继站天线杆的位置。每根天线杆顶端装有中继站，由参数 $s$ 和 $a$ 描述。在杆位置 $x$，信号强度为 $s$；在其他点，信号强度随距离线性下降，即在点 $x \\pm d$，强度为 $\\max(0, s - a \\cdot d)$。\n\n道路上某点的信号覆盖强度为所有中继站信号强度的总和。\n\n程序需支持添加或移除天线杆，以及查询某段整数点平均信号覆盖强度的操作。", "inputFormat": "第一行包含两个整数 $n, m$ $(n \\geq 2, m \\geq 1)$，分别表示道路长度和操作数量。\n\n接下来的 $m$ 行描述操作，每行以单个字符开头，表示操作类型，后跟一至三个整数：\n- $\\texttt{P}\\ x\\ s\\ a$：在点 $x$ 架设天线杆，安装中继站，参数为 $s, a$ $(1 \\leq x \\leq n, 1 \\leq s, a \\leq 100000)$。\n- $\\texttt{U}\\ x$：移除点 $x$ $(1 \\leq x \\leq n)$ 的天线杆。\n- $\\texttt{Z}\\ x_1\\ x_2$：查询区间 $[x_1, x_2]$ 内所有整数点 $x$ $(x_1 \\leq x \\leq x_2, 1 \\leq x_1 \\leq x_2 \\leq n)$ 的平均信号覆盖强度。\n\n各行数据以单空格分隔。保证操作 $\\texttt{P}$ 时点 $x$ 无天线杆，操作 $\\texttt{U}$ 时点 $x$ 有天线杆。", "outputFormat": "输出与输入中 $\\texttt{Z}$ 操作数量相同的行，每行包含一个整数，表示对应查询的平均信号覆盖强度，向下取整。", "hint": "**样例 1 解释**\n\n| 操作 | 结果 | 说明 |\n|:------:|:------:|:------:|\n| $\\texttt{P}\\ 5\\ 30\\ 10$ | - | 在点 $x=5$ 架设天线杆，中继站参数 $s=30, a=10$。 |\n| $\\texttt{Z}\\ 6\\ 7$ | $15$ | 点 $6$ 信号强度为 $30-10=20$，点 $7$ 为 $30-2 \\cdot 10=10$，区间 $[6,7]$ 整数点的平均强度为 $(20+10)/2=15$。 |\n| $\\texttt{P}\\ 10\\ 22\\ 5$ | - | 在点 $x=10$ 架设天线杆，中继站参数 $s=22, a=5$。 |\n| $\\texttt{Z}\\ 6\\ 7$ | $19$ | 两杆存在，点 $6$ 强度为 $20+2=22$，点 $7$ 为 $10+7=17$，平均强度为 $(22+17)/2=19.5$，向下取整为 $19$。 |\n| $\\texttt{Z}\\ 6\\ 6$ | $22$ | 点 $6$ 强度为 $22$，平均为 $22$。 |\n| $\\texttt{U}\\ 5$ | - | 移除点 $x=5$ 的天线杆。 |\n| $\\texttt{Z}\\ 6\\ 6$ | $2$ | 点 $6$ 强度为 $2$（仅剩 $x=10$ 的中继站）。 |\n\n**附加样例**\n\n1. $n=101, m=500$，道路首尾中各一杆，随机查询。\n2. $n=300000$，点 $1$ 有一杆，$s=100000, a=100$，查询各前缀 $[1, i]$ 的平均强度，$1 \\leq i \\leq 300000$。\n3. $n=300000, m=500000$，每点有杆，$s=1000, a=1$，查询整条路的平均强度。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, m \\leq 2000$         | $8$  |\n| $2$    | $n \\leq 300000, m \\leq 500000$，$\\texttt{Z}$ 操作在所有 $\\texttt{P}$、$\\texttt{U}$ 操作后 | $24$ |\n| $3$    | $n \\leq 300000, m \\leq 500000$，同时最多 $50$ 个中继站 | $16$ |\n| $4$    | $n \\leq 300000, m \\leq 500000$，$\\texttt{Z}$ 操作总有 $x_1=x_2$ | $15$ |\n| $5$    | $n, m \\leq 100000$       | $15$ |\n| $6$    | $n \\leq 300000, m \\leq 500000$，$\\texttt{P}$ 操作总有 $a=1$ | $12$ |\n| $7$    | $n \\leq 300000, m \\leq 500000$ | $10$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R2] 电信中继站 Transceivers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5070)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Przekaźniki telekomunikacyjne](https://szkopul.edu.pl/problemset/problem/GmAagCBetbskP0qiKlgVd-6A/statement/)**\n\n国王 Bajtazar 顺应时代潮流，决定为拜托尼亚王国铺设移动电话网络，覆盖所有村庄和城市。这些地点分布在一条笔直的道路上，可视为数轴。\n\n新任命的电信顾问需要一个程序，测试中继站天线杆的位置。每根天线杆顶端装有中继站，由参数 $s$ 和 $a$ 描述。在杆位置 $x$，信号强度为 $s$；在其他点，信号强度随距离线性下降，即在点 $x \\pm d$，强度为 $\\max(0, s - a \\cdot d)$。\n\n道路上某点的信号覆盖强度为所有中继站信号强度的总和。\n\n程序需支持添加或移除天线杆，以及查询某段整数点平均信号覆盖强度的操作。", "inputFormat": "第一行包含两个整数 $n, m$ $(n \\geq 2, m \\geq 1)$，分别表示道路长度和操作数量。\n\n接下来的 $m$ 行描述操作，每行以单个字符开头，表示操作类型，后跟一至三个整数：\n- $\\texttt{P}\\ x\\ s\\ a$：在点 $x$ 架设天线杆，安装中继站，参数为 $s, a$ $(1 \\leq x \\leq n, 1 \\leq s, a \\leq 100000)$。\n- $\\texttt{U}\\ x$：移除点 $x$ $(1 \\leq x \\leq n)$ 的天线杆。\n- $\\texttt{Z}\\ x_1\\ x_2$：查询区间 $[x_1, x_2]$ 内所有整数点 $x$ $(x_1 \\leq x \\leq x_2, 1 \\leq x_1 \\leq x_2 \\leq n)$ 的平均信号覆盖强度。\n\n各行数据以单空格分隔。保证操作 $\\texttt{P}$ 时点 $x$ 无天线杆，操作 $\\texttt{U}$ 时点 $x$ 有天线杆。", "outputFormat": "输出与输入中 $\\texttt{Z}$ 操作数量相同的行，每行包含一个整数，表示对应查询的平均信号覆盖强度，向下取整。", "hint": "**样例 1 解释**\n\n| 操作 | 结果 | 说明 |\n|:------:|:------:|:------:|\n| $\\texttt{P}\\ 5\\ 30\\ 10$ | - | 在点 $x=5$ 架设天线杆，中继站参数 $s=30, a=10$。 |\n| $\\texttt{Z}\\ 6\\ 7$ | $15$ | 点 $6$ 信号强度为 $30-10=20$，点 $7$ 为 $30-2 \\cdot 10=10$，区间 $[6,7]$ 整数点的平均强度为 $(20+10)/2=15$。 |\n| $\\texttt{P}\\ 10\\ 22\\ 5$ | - | 在点 $x=10$ 架设天线杆，中继站参数 $s=22, a=5$。 |\n| $\\texttt{Z}\\ 6\\ 7$ | $19$ | 两杆存在，点 $6$ 强度为 $20+2=22$，点 $7$ 为 $10+7=17$，平均强度为 $(22+17)/2=19.5$，向下取整为 $19$。 |\n| $\\texttt{Z}\\ 6\\ 6$ | $22$ | 点 $6$ 强度为 $22$，平均为 $22$。 |\n| $\\texttt{U}\\ 5$ | - | 移除点 $x=5$ 的天线杆。 |\n| $\\texttt{Z}\\ 6\\ 6$ | $2$ | 点 $6$ 强度为 $2$（仅剩 $x=10$ 的中继站）。 |\n\n**附加样例**\n\n1. $n=101, m=500$，道路首尾中各一杆，随机查询。\n2. $n=300000$，点 $1$ 有一杆，$s=100000, a=100$，查询各前缀 $[1, i]$ 的平均强度，$1 \\leq i \\leq 300000$。\n3. $n=300000, m=500000$，每点有杆，$s=1000, a=1$，查询整条路的平均强度。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, m \\leq 2000$         | $8$  |\n| $2$    | $n \\leq 300000, m \\leq 500000$，$\\texttt{Z}$ 操作在所有 $\\texttt{P}$、$\\texttt{U}$ 操作后 | $24$ |\n| $3$    | $n \\leq 300000, m \\leq 500000$，同时最多 $50$ 个中继站 | $16$ |\n| $4$    | $n \\leq 300000, m \\leq 500000$，$\\texttt{Z}$ 操作总有 $x_1=x_2$ | $15$ |\n| $5$    | $n, m \\leq 100000$       | $15$ |\n| $6$    | $n \\leq 300000, m \\leq 500000$，$\\texttt{P}$ 操作总有 $a=1$ | $12$ |\n| $7$    | $n \\leq 300000, m \\leq 500000$ | $10$ |", "locale": "zh-CN"}}}
{"pid": "P12763", "type": "P", "difficulty": 6, "samples": [["3 5\n2 5 1", "0\n2 3 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2018", "POI（波兰）", "Special Judge"], "title": "[POI 2018 R2] 诗集 Book of poetry", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5071)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Tomik poezji](https://szkopul.edu.pl/problemset/problem/Hhip15j-8Ro2dOb_4oB98C-G/statement/)**\n\n著名诗人 Bajtazar 计划出版一本诗集，收录他的 $n$ 首最新诗作。每页可印刷 $s$ 行文字，诗作按顺序逐一印刷，中间无间隔。每首诗包含标题（占一行）及其后续正文，第 $i$ 首诗的正文占 $a_i$ 行。\n\n为美观起见，标题不得印刷在页面最后一行。若前一首诗结束于页面倒数第二行，则该页最后一行需留空。Bajtazar 的诗作顺序未定，不同排列可能导致不同数量的空行。他想找出一种诗作排列，尽量减少诗集内的空行数。", "inputFormat": "第一行包含两个整数 $n, s$ $(n \\geq 1, 2 \\leq s \\leq 1000000)$，分别表示诗作数量和每页行数。诗作编号为 $1$ 至 $n$。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$ $(1 \\leq a_i \\leq 1000000)$，表示各诗作正文的行数。", "outputFormat": "输出两行：\n\n第一行包含一个整数 $k$，表示诗集中最少的空行数。\n\n第二行包含 $n$ 个互不相同的整数（范围 $[1, n]$），表示一种需 $k$ 空行的诗作排列，数字间以单空格分隔。若有多解，输出任意一种。", "hint": "**样例 1 解释**\n\n按顺序印刷（$1,2,3$），诗作间有一空行：\n\n$$\n\\begin{array}{|c|}\n\\hline\n\\texttt{1111} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{2222} \\\\\n\\texttt{WWWW} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{....} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{3333} \\\\\n\\texttt{WWWW} \\\\\n\\\\\n\\\\\n\\\\\n\\hline\n\\end{array}\n$$\n\n最优排列（$2,3,1$）无空行：\n\n$$\n\\begin{array}{|c|}\n\\hline\n\\texttt{2222} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{WWWW} \\\\\n\\texttt{3333} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{1111} \\\\\n\\texttt{WWWW} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{WWWW} \\\\\n\\\\\n\\\\\n\\\\\n\\\\\n\\hline\n\\end{array}\n$$\n\n**附加样例**\n\n1. $n=5, s=2$。\n2. $n=1000, s=100, a_i=98$，每种排列需 $999$ 空行。\n3. $n=1000, s=1003, a_i=i$，诗作 $i$ 和 $n+1-i$ 恰填满一页，无空行。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 10$              | $10$ |\n| $2$    | $n \\leq 500000$，$a_i$ 两两不同，$a_i \\leq s$ | $20$ |\n| $3$    | $n \\leq 1000$            | $25$ |\n| $4$    | $n \\leq 500000$          | $45$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R2] 诗集 Book of poetry", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5071)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — II etap](https://sio2.mimuw.edu.pl/c/oi25-2/dashboard/) [Tomik poezji](https://szkopul.edu.pl/problemset/problem/Hhip15j-8Ro2dOb_4oB98C-G/statement/)**\n\n著名诗人 Bajtazar 计划出版一本诗集，收录他的 $n$ 首最新诗作。每页可印刷 $s$ 行文字，诗作按顺序逐一印刷，中间无间隔。每首诗包含标题（占一行）及其后续正文，第 $i$ 首诗的正文占 $a_i$ 行。\n\n为美观起见，标题不得印刷在页面最后一行。若前一首诗结束于页面倒数第二行，则该页最后一行需留空。Bajtazar 的诗作顺序未定，不同排列可能导致不同数量的空行。他想找出一种诗作排列，尽量减少诗集内的空行数。", "inputFormat": "第一行包含两个整数 $n, s$ $(n \\geq 1, 2 \\leq s \\leq 1000000)$，分别表示诗作数量和每页行数。诗作编号为 $1$ 至 $n$。\n\n第二行包含 $n$ 个整数 $a_1, a_2, \\ldots, a_n$ $(1 \\leq a_i \\leq 1000000)$，表示各诗作正文的行数。", "outputFormat": "输出两行：\n\n第一行包含一个整数 $k$，表示诗集中最少的空行数。\n\n第二行包含 $n$ 个互不相同的整数（范围 $[1, n]$），表示一种需 $k$ 空行的诗作排列，数字间以单空格分隔。若有多解，输出任意一种。", "hint": "**样例 1 解释**\n\n按顺序印刷（$1,2,3$），诗作间有一空行：\n\n$$\n\\begin{array}{|c|}\n\\hline\n\\texttt{1111} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{2222} \\\\\n\\texttt{WWWW} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{....} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{3333} \\\\\n\\texttt{WWWW} \\\\\n\\\\\n\\\\\n\\\\\n\\hline\n\\end{array}\n$$\n\n最优排列（$2,3,1$）无空行：\n\n$$\n\\begin{array}{|c|}\n\\hline\n\\texttt{2222} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{WWWW} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{WWWW} \\\\\n\\texttt{3333} \\\\\n\\texttt{WWWW} \\\\\n\\texttt{1111} \\\\\n\\texttt{WWWW} \\\\\n\\hline\n\\end{array}\n\\begin{array}{|c|}\n\\hline\n\\texttt{WWWW} \\\\\n\\\\\n\\\\\n\\\\\n\\\\\n\\hline\n\\end{array}\n$$\n\n**附加样例**\n\n1. $n=5, s=2$。\n2. $n=1000, s=100, a_i=98$，每种排列需 $999$ 空行。\n3. $n=1000, s=1003, a_i=i$，诗作 $i$ 和 $n+1-i$ 恰填满一页，无空行。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 10$              | $10$ |\n| $2$    | $n \\leq 500000$，$a_i$ 两两不同，$a_i \\leq s$ | $20$ |\n| $3$    | $n \\leq 1000$            | $25$ |\n| $4$    | $n \\leq 500000$          | $45$ |", "locale": "zh-CN"}}}
{"pid": "P12764", "type": "P", "difficulty": 6, "samples": [["3\n-1 3\n-1 -2\n4 0", "41"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R3] 两个棋子 Two stones", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5072)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Dwa pionki](https://szkopul.edu.pl/problemset/problem/vl-wrtcyzmOumStUcnXGiQTm/statement/)**\n\n在无限网格的点 $(0,0)$ 上放置了两个棋子。每个棋子有 $n$ 种允许的移动方式（两棋子移动方式相同）。每种移动由一个整数组成的向量描述。每个棋子可将每种移动使用至多一次，顺序任意。两棋子可执行相同的移动。描述移动的向量可能重复，每棋子可使用每个重复向量。\n\n目标是移动棋子，使两者间的欧几里得距离尽可能大。求这一最大距离的平方。", "inputFormat": "第一行包含一个正整数 $n$，表示棋子的移动方式数量。\n\n接下来的 $n$ 行，每行包含两个整数 $x_i, y_i$ $(-10^4 \\leq x_i, y_i \\leq 10^4)$，表示描述棋子移动的向量 $[x_i, y_i]$。", "outputFormat": "输出一个整数，表示可使两棋子相距最大距离的平方。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/46s3oqjz.png)\n\n图示展示了最优解：第一个棋子执行向量 $[4,0]$ 和 $[-1,3]$ 的移动，第二个棋子执行向量 $[-1,-2]$ 的移动。\n\n**附加样例**\n\n1. $n=5$，向量为 $[0,0], [1,0], [0,-1], [-1,0], [0,1]$。\n2. $n=100$，向量为 $[i,j]$，其中 $i,j \\in \\{1,2,\\ldots,10\\}$。\n3. $n=200000$，所有向量为 $[-1,-1]$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 20$              | $15$ |\n| $2$    | $n \\leq 2000$            | $45$ |\n| $3$    | $n \\leq 200000$          | $40$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 两个棋子 Two stones", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5072)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Dwa pionki](https://szkopul.edu.pl/problemset/problem/vl-wrtcyzmOumStUcnXGiQTm/statement/)**\n\n在无限网格的点 $(0,0)$ 上放置了两个棋子。每个棋子有 $n$ 种允许的移动方式（两棋子移动方式相同）。每种移动由一个整数组成的向量描述。每个棋子可将每种移动使用至多一次，顺序任意。两棋子可执行相同的移动。描述移动的向量可能重复，每棋子可使用每个重复向量。\n\n目标是移动棋子，使两者间的欧几里得距离尽可能大。求这一最大距离的平方。", "inputFormat": "第一行包含一个正整数 $n$，表示棋子的移动方式数量。\n\n接下来的 $n$ 行，每行包含两个整数 $x_i, y_i$ $(-10^4 \\leq x_i, y_i \\leq 10^4)$，表示描述棋子移动的向量 $[x_i, y_i]$。", "outputFormat": "输出一个整数，表示可使两棋子相距最大距离的平方。", "hint": "**样例 1 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/46s3oqjz.png)\n\n图示展示了最优解：第一个棋子执行向量 $[4,0]$ 和 $[-1,3]$ 的移动，第二个棋子执行向量 $[-1,-2]$ 的移动。\n\n**附加样例**\n\n1. $n=5$，向量为 $[0,0], [1,0], [0,-1], [-1,0], [0,1]$。\n2. $n=100$，向量为 $[i,j]$，其中 $i,j \\in \\{1,2,\\ldots,10\\}$。\n3. $n=200000$，所有向量为 $[-1,-1]$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 20$              | $15$ |\n| $2$    | $n \\leq 2000$            | $45$ |\n| $3$    | $n \\leq 200000$          | $40$ |", "locale": "zh-CN"}}}
{"pid": "P12765", "type": "P", "difficulty": 6, "samples": [["9\nCBBSSBCSC", "6"], ["5\nBBBBC", "5"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R3] 三座塔 2 Three towers 2", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5073)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Trzy wieże 2](https://szkopul.edu.pl/problemset/problem/VAWioeFeAgo2s3xeUQAd_amg/statement/)**\n\n小朋友 Bitoni 热爱玩耍。他在房间里将 $n$ 个积木排成一列，每块积木为白色、灰色或黑色三种颜色之一。Bitoni 想挑选一段连续的积木，用这些积木搭建三座塔。\n\nBitoni 将搭建三座塔：白色积木建白塔，灰色积木建灰塔，黑色积木建黑塔。若某颜色积木在选段中缺失，对应塔的高度为 $0$。三座塔的高度必须互不相同（即每座塔的积木数不同）。Bitoni 必须使用所有选中的积木。帮助 Bitoni 编写程序，找出满足他要求的最长连续积木段。", "inputFormat": "第一行包含一个正整数 $n$，表示积木数量。\n\n第二行包含一个长度为 $n$ 的字符串 $a_1 a_2 \\ldots a_n$，其中 $a_i$ 为字母 $\\texttt{B}$、$\\texttt{S}$ 或 $\\texttt{C}$，分别表示第 $i$ 块积木的颜色（$\\texttt{B}$ 为白色，$\\texttt{S}$ 为灰色，$\\texttt{C}$ 为黑色）。", "outputFormat": "输出一行：若无法从任何连续积木段建满足要求的塔，输出 `NIE`；否则，输出一个整数，表示满足 Bitoni 要求的最长连续积木段的积木数。", "hint": "**样例 1 解释**\n\nBitoni 可选长度为 $6$ 的积木段 BSSBCS，搭建灰塔（$3$ 块）、白塔（$2$ 块）、黑塔（$1$ 块）。\n\n**附加样例**\n\n1. $n=2500$，积木序列为 $\\texttt{B}^{1248} \\texttt{C}\\underline{\\texttt{SB}^{1250}}$（$\\texttt{B}^{k}$ 表示 B 重复 $k$ 次），最长可选段已标出。\n2. $n=1000000$，积木序列为 $\\texttt{BSCBSCBSC...BSCBSCB}$，答案 `NIE`。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 2500$            | $30$ |\n| $2$    | $n \\leq 1000000$         | $70$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 三座塔 2 Three towers 2", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5073)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Trzy wieże 2](https://szkopul.edu.pl/problemset/problem/VAWioeFeAgo2s3xeUQAd_amg/statement/)**\n\n小朋友 Bitoni 热爱玩耍。他在房间里将 $n$ 个积木排成一列，每块积木为白色、灰色或黑色三种颜色之一。Bitoni 想挑选一段连续的积木，用这些积木搭建三座塔。\n\nBitoni 将搭建三座塔：白色积木建白塔，灰色积木建灰塔，黑色积木建黑塔。若某颜色积木在选段中缺失，对应塔的高度为 $0$。三座塔的高度必须互不相同（即每座塔的积木数不同）。Bitoni 必须使用所有选中的积木。帮助 Bitoni 编写程序，找出满足他要求的最长连续积木段。", "inputFormat": "第一行包含一个正整数 $n$，表示积木数量。\n\n第二行包含一个长度为 $n$ 的字符串 $a_1 a_2 \\ldots a_n$，其中 $a_i$ 为字母 $\\texttt{B}$、$\\texttt{S}$ 或 $\\texttt{C}$，分别表示第 $i$ 块积木的颜色（$\\texttt{B}$ 为白色，$\\texttt{S}$ 为灰色，$\\texttt{C}$ 为黑色）。", "outputFormat": "输出一行：若无法从任何连续积木段建满足要求的塔，输出 `NIE`；否则，输出一个整数，表示满足 Bitoni 要求的最长连续积木段的积木数。", "hint": "**样例 1 解释**\n\nBitoni 可选长度为 $6$ 的积木段 BSSBCS，搭建灰塔（$3$ 块）、白塔（$2$ 块）、黑塔（$1$ 块）。\n\n**附加样例**\n\n1. $n=2500$，积木序列为 $\\texttt{B}^{1248} \\texttt{C}\\underline{\\texttt{SB}^{1250}}$（$\\texttt{B}^{k}$ 表示 B 重复 $k$ 次），最长可选段已标出。\n2. $n=1000000$，积木序列为 $\\texttt{BSCBSCBSC...BSCBSCB}$，答案 `NIE`。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 2500$            | $30$ |\n| $2$    | $n \\leq 1000000$         | $70$ |", "locale": "zh-CN"}}}
{"pid": "P12766", "type": "P", "difficulty": 6, "samples": [["2\n9 11\n999 1010", "1\n3"]], "limits": {"time": [4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R3] 完备数 Complete numbers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5074)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Liczby kompletne](https://szkopul.edu.pl/problemset/problem/GfNdWdsmfgHxoByl0ETuZW9c/statement/)**\n\n我们将一个自然数称为完备数，若其十进制位数等于其约数个数。例如，$13$ 是完备数，因其有 $2$ 位数字和 $2$ 个约数（$1, 13$）。同样，$1006$ 也是完备数，因其有 $4$ 位数字和 $4$ 个约数（$1, 2, 503, 1006$）。给定 $t$ 个区间，需计算每个区间内完备数的数量。", "inputFormat": "第一行包含一个自然数 $t$ $(1 \\leq t \\leq 1000)$，表示待处理的区间数量。\n\n接下来的 $t$ 行描述各区间，每行包含两个整数 $a, b$ $(1 \\leq a \\leq b)$，表示区间 $[a, b]$。", "outputFormat": "输出 $t$ 行，每行包含一个整数，表示输入中对应区间的完备数数量。", "hint": "**样例 1 解释**\n\n上述区间中的完备数分别为 $11$ 以及 $1003, 1006, 1007$。\n\n**附加样例**\n\n1. $t=10, a=1, b=\\{10, 20, 30, 40, 50, 60, 70, 80, 90, 100\\}$。\n2. $t=1, a=960, b=1160$，结果为 $44$。\n3. $t=1, a=4825000, b=4827000$，结果为 $1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $b \\leq 10^3$            | $16$ |\n| $2$    | $b \\leq 10^6$            | $23$ |\n| $3$    | $b \\leq 10^7$，且 $d(a)=d(b)$ 且 $d(a)$ 为奇数 | $19$ |\n| $4$    | $b \\leq 10^7$            | $16$ |\n| $5$    | $t \\leq 5, b-a \\leq 5000000, b \\leq 10^9$ | $12$ |\n| $6$    | $b \\leq 10^9$            | $14$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 完备数 Complete numbers", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5074)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Liczby kompletne](https://szkopul.edu.pl/problemset/problem/GfNdWdsmfgHxoByl0ETuZW9c/statement/)**\n\n我们将一个自然数称为完备数，若其十进制位数等于其约数个数。例如，$13$ 是完备数，因其有 $2$ 位数字和 $2$ 个约数（$1, 13$）。同样，$1006$ 也是完备数，因其有 $4$ 位数字和 $4$ 个约数（$1, 2, 503, 1006$）。给定 $t$ 个区间，需计算每个区间内完备数的数量。", "inputFormat": "第一行包含一个自然数 $t$ $(1 \\leq t \\leq 1000)$，表示待处理的区间数量。\n\n接下来的 $t$ 行描述各区间，每行包含两个整数 $a, b$ $(1 \\leq a \\leq b)$，表示区间 $[a, b]$。", "outputFormat": "输出 $t$ 行，每行包含一个整数，表示输入中对应区间的完备数数量。", "hint": "**样例 1 解释**\n\n上述区间中的完备数分别为 $11$ 以及 $1003, 1006, 1007$。\n\n**附加样例**\n\n1. $t=10, a=1, b=\\{10, 20, 30, 40, 50, 60, 70, 80, 90, 100\\}$。\n2. $t=1, a=960, b=1160$，结果为 $44$。\n3. $t=1, a=4825000, b=4827000$，结果为 $1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $b \\leq 10^3$            | $16$ |\n| $2$    | $b \\leq 10^6$            | $23$ |\n| $3$    | $b \\leq 10^7$，且 $d(a)=d(b)$ 且 $d(a)$ 为奇数 | $19$ |\n| $4$    | $b \\leq 10^7$            | $16$ |\n| $5$    | $t \\leq 5, b-a \\leq 5000000, b \\leq 10^9$ | $12$ |\n| $6$    | $b \\leq 10^9$            | $14$ |", "locale": "zh-CN"}}}
{"pid": "P12767", "type": "P", "difficulty": 6, "samples": [["6\n0 0 1\n0 4 1\n4 0 1\n4 4 1\n1 2 -1\n2 6 -5", "3"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "计算几何", "2018", "POI（波兰）", "动态规划优化", "扫描线", "极角排序"], "title": "[POI 2018 R3] 围栏 Fence", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5075)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Ogrodzenie](https://szkopul.edu.pl/problemset/problem/guoc36QCEe4q47qruYB7HBV-/statement/)**\n\n农夫 Bajtazar 刚购置了一块土地，上面生长着 $n$ 株植物。其中一些是果树，每年带来非负收益（果实价值不等）；另一些是杂草，只会造成损失（占用空间和阳光）。\n\nBajtazar 为每株植物估算了留下它的收益或损失。然而，拜托尼亚禁止破坏自然，他无法随意移除带来损失的植物。幸好，他需为土地建围栏，于是突发奇想：何必围住整块土地？只围住收益最大的部分即可！\n\nBajtazar 请你帮忙设计最优围栏。围栏需经济高效：他将选择部分植物，用弹性网固定于其上，围成的区域必须是面积大于 $0$ 的凸多边形。请帮助 Bajtazar 挑选支撑网的植物，最大化围栏内植物的收益总和。", "inputFormat": "第一行包含一个整数 $n$ $(n \\geq 3)$，表示土地上植物数量。\n\n接下来的 $n$ 行描述各植物，第 $i$ 行包含三个整数 $x_i, y_i, v_i$ $(-10^9 \\leq x_i, y_i \\leq 10^9, -10^9 \\leq v_i \\leq 10^9)$，分别表示第 $i$ 株植物在直角坐标系中的位置 $(x_i, y_i)$ 及其收益（若 $v_i$ 为负则为损失）。保证任意三株植物不在同一直线上。", "outputFormat": "输出一行，包含一个整数，表示围栏内植物可实现的最大收益总和。", "hint": "**样例 1 解释**\n\n图示展示了一种最大收益为 $3$ 的围栏设置。另一种同样最优的方案是固定网于点 $(0,0), (4,0), (4,4)$ 的植物。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yncytel8.png)\n\n**附加样例**\n\n1. $n=8$，围住所有植物最优。\n2. $n=100, x_i=i, y_i=i^2 \\bmod 101, v_i=50-i$，植物排列形似甲虫。\n3. $n=300$，植物构成凸多边形顶点，每隔一株收益 $1$，另一株损失 $1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 20$              | $30$ |\n| $2$    | $n \\leq 100$             | $40$ |\n| $3$    | $n \\leq 300$             | $30$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 围栏 Fence", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5075)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Ogrodzenie](https://szkopul.edu.pl/problemset/problem/guoc36QCEe4q47qruYB7HBV-/statement/)**\n\n农夫 Bajtazar 刚购置了一块土地，上面生长着 $n$ 株植物。其中一些是果树，每年带来非负收益（果实价值不等）；另一些是杂草，只会造成损失（占用空间和阳光）。\n\nBajtazar 为每株植物估算了留下它的收益或损失。然而，拜托尼亚禁止破坏自然，他无法随意移除带来损失的植物。幸好，他需为土地建围栏，于是突发奇想：何必围住整块土地？只围住收益最大的部分即可！\n\nBajtazar 请你帮忙设计最优围栏。围栏需经济高效：他将选择部分植物，用弹性网固定于其上，围成的区域必须是面积大于 $0$ 的凸多边形。请帮助 Bajtazar 挑选支撑网的植物，最大化围栏内植物的收益总和。", "inputFormat": "第一行包含一个整数 $n$ $(n \\geq 3)$，表示土地上植物数量。\n\n接下来的 $n$ 行描述各植物，第 $i$ 行包含三个整数 $x_i, y_i, v_i$ $(-10^9 \\leq x_i, y_i \\leq 10^9, -10^9 \\leq v_i \\leq 10^9)$，分别表示第 $i$ 株植物在直角坐标系中的位置 $(x_i, y_i)$ 及其收益（若 $v_i$ 为负则为损失）。保证任意三株植物不在同一直线上。", "outputFormat": "输出一行，包含一个整数，表示围栏内植物可实现的最大收益总和。", "hint": "**样例 1 解释**\n\n图示展示了一种最大收益为 $3$ 的围栏设置。另一种同样最优的方案是固定网于点 $(0,0), (4,0), (4,4)$ 的植物。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yncytel8.png)\n\n**附加样例**\n\n1. $n=8$，围住所有植物最优。\n2. $n=100, x_i=i, y_i=i^2 \\bmod 101, v_i=50-i$，植物排列形似甲虫。\n3. $n=300$，植物构成凸多边形顶点，每隔一株收益 $1$，另一株损失 $1$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 20$              | $30$ |\n| $2$    | $n \\leq 100$             | $40$ |\n| $3$    | $n \\leq 300$             | $30$ |", "locale": "zh-CN"}}}
{"pid": "P12768", "type": "P", "difficulty": 6, "samples": [["5\n1 2 4 3 5\n2 3 5 1 4\n3 1 5 2 4\n4\n2 4\n4 2\n1 5\n5 1", "TAK\nTAK\nTAK\nNIE"]], "limits": {"time": [3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R3] 三人编程锦标赛 Triinformathlon", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5076)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Turniej trójinformatyczny](https://szkopul.edu.pl/problemset/problem/URPMk7vthz60i1J3MT3XbIIO/statement/)**\n\n**请注意本题的空间限制。**\n\n拜托尼亚的程序员深受国民敬仰。因此，近年来的电视节目《三人编程锦标赛》收视率屡创新高。本届锦标赛有 $n$ 名选手（编号 $1$ 至 $n$），他们角逐三项编程赛事（分别是限时实现后缀树、调试 SIO2 系统和解决图灵测试）。每项赛事均公布完整排名，明确每位选手的名次，且无并列情况。\n\n每位拜托尼亚居民都支持某位选手，他们热衷于无休止的争论——尤其在社交媒体上——讨论某选手是否比另一位更优秀。三项赛事使得「更优秀」的定义颇为模糊，增添了讨论的火药味。\n\nBajtazar 希望满足居民的期待，开发一款应用，快速比较锦标赛选手的成绩。他引入了以下关系：\n\n若满足以下至少一项，选手 $a$ 在道德上优于选手 $b$：\n\n- 在三项赛事中至少两项，选手 $a$ 的名次优于 $b$；\n- 存在选手 $c$，使得 $a$ 在道德上优于 $c$，且 $c$ 在道德上优于 $b$。\n\nBajtazar 的创业公司近期订单繁忙，比较选手的算法任务全权委托给你。编写程序，根据三项赛事的选手排名，回答 $m$ 个查询：「选手 $a$ 是否在道德上优于选手 $b$？」", "inputFormat": "第一行包含一个整数 $n$ $(n \\geq 2)$，表示锦标赛选手数量。\n\n第二行包含 $n$ 个互不相同的整数，范围 $[1, n]$，表示第一项赛事中各选手的名次。\n\n第三行和第四行类似，分别表示第二项和第三项赛事的排名，格式相同。\n\n第五行包含一个整数 $m$ $(m \\geq 1)$，表示查询数量。\n\n接下来的 $m$ 行描述查询，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i, b_i \\leq n, a_i \\neq b_i)$，表示查询「选手 $a_i$ 是否在道德上优于选手 $b_i$？」。", "outputFormat": "输出 $m$ 行，第 $i$ 行包含一个字符串 `TAK` 或 `NIE`，表示第 $i$ 个查询的答案。", "hint": "**样例 1 解释**\n\n选手 $2$ 在道德上优于选手 $4$，因其在第一和第三项赛事中名次优于 $4$。\n\n反之，选手 $4$ 也在道德上优于选手 $2$，因 $4$ 在第二和第三项赛事中优于选手 $1$，而 $1$ 在第一和第二项赛事中优于 $2$。\n\n选手 $1$ 在道德上优于选手 $5$，因其在所有赛事中名次均优于 $5$。\n\n选手 $5$ 未在道德上优于选手 $1$，因仅在至少两项赛事中优于选手 $3$，但 $3$ 未在任何两项赛事中优于其他选手。\n\n**附加样例**\n\n1. $n=10, m=90$，所有排名随机，查询覆盖所有可能。\n2. $n=1000, m=1000$，三项赛事排名相同，查询随机。\n3. $n=100000, m=10$，第一项赛事排名 $1,2,\\ldots,n$，第二项排名 $n,n-1,\\ldots,1$，第三项排名随机，查询 $10$ 个，随机生成。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, m \\leq 100$          | $9$  |\n| $2$    | $n \\leq 300, m \\leq 100000$ | $10$ |\n| $3$    | $n \\leq 1000, m \\leq 1000000$ | $18$ |\n| $4$    | $n \\leq 100000, m \\leq 10$ | $27$ |\n| $5$    | $n \\leq 500000, m \\leq 1000000$ | $36$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 三人编程锦标赛 Triinformathlon", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5076)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Turniej trójinformatyczny](https://szkopul.edu.pl/problemset/problem/URPMk7vthz60i1J3MT3XbIIO/statement/)**\n\n**请注意本题的空间限制。**\n\n拜托尼亚的程序员深受国民敬仰。因此，近年来的电视节目《三人编程锦标赛》收视率屡创新高。本届锦标赛有 $n$ 名选手（编号 $1$ 至 $n$），他们角逐三项编程赛事（分别是限时实现后缀树、调试 SIO2 系统和解决图灵测试）。每项赛事均公布完整排名，明确每位选手的名次，且无并列情况。\n\n每位拜托尼亚居民都支持某位选手，他们热衷于无休止的争论——尤其在社交媒体上——讨论某选手是否比另一位更优秀。三项赛事使得「更优秀」的定义颇为模糊，增添了讨论的火药味。\n\nBajtazar 希望满足居民的期待，开发一款应用，快速比较锦标赛选手的成绩。他引入了以下关系：\n\n若满足以下至少一项，选手 $a$ 在道德上优于选手 $b$：\n\n- 在三项赛事中至少两项，选手 $a$ 的名次优于 $b$；\n- 存在选手 $c$，使得 $a$ 在道德上优于 $c$，且 $c$ 在道德上优于 $b$。\n\nBajtazar 的创业公司近期订单繁忙，比较选手的算法任务全权委托给你。编写程序，根据三项赛事的选手排名，回答 $m$ 个查询：「选手 $a$ 是否在道德上优于选手 $b$？」", "inputFormat": "第一行包含一个整数 $n$ $(n \\geq 2)$，表示锦标赛选手数量。\n\n第二行包含 $n$ 个互不相同的整数，范围 $[1, n]$，表示第一项赛事中各选手的名次。\n\n第三行和第四行类似，分别表示第二项和第三项赛事的排名，格式相同。\n\n第五行包含一个整数 $m$ $(m \\geq 1)$，表示查询数量。\n\n接下来的 $m$ 行描述查询，第 $i$ 行包含两个整数 $a_i, b_i$ $(1 \\leq a_i, b_i \\leq n, a_i \\neq b_i)$，表示查询「选手 $a_i$ 是否在道德上优于选手 $b_i$？」。", "outputFormat": "输出 $m$ 行，第 $i$ 行包含一个字符串 `TAK` 或 `NIE`，表示第 $i$ 个查询的答案。", "hint": "**样例 1 解释**\n\n选手 $2$ 在道德上优于选手 $4$，因其在第一和第三项赛事中名次优于 $4$。\n\n反之，选手 $4$ 也在道德上优于选手 $2$，因 $4$ 在第二和第三项赛事中优于选手 $1$，而 $1$ 在第一和第二项赛事中优于 $2$。\n\n选手 $1$ 在道德上优于选手 $5$，因其在所有赛事中名次均优于 $5$。\n\n选手 $5$ 未在道德上优于选手 $1$，因仅在至少两项赛事中优于选手 $3$，但 $3$ 未在任何两项赛事中优于其他选手。\n\n**附加样例**\n\n1. $n=10, m=90$，所有排名随机，查询覆盖所有可能。\n2. $n=1000, m=1000$，三项赛事排名相同，查询随机。\n3. $n=100000, m=10$，第一项赛事排名 $1,2,\\ldots,n$，第二项排名 $n,n-1,\\ldots,1$，第三项排名随机，查询 $10$ 个，随机生成。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n, m \\leq 100$          | $9$  |\n| $2$    | $n \\leq 300, m \\leq 100000$ | $10$ |\n| $3$    | $n \\leq 1000, m \\leq 1000000$ | $18$ |\n| $4$    | $n \\leq 100000, m \\leq 10$ | $27$ |\n| $5$    | $n \\leq 500000, m \\leq 1000000$ | $36$ |", "locale": "zh-CN"}}}
{"pid": "P12769", "type": "P", "difficulty": 0, "samples": [["3\nT 5\nW 7\nT 4\n3\nW 6\nT 6\nW 6", "13"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R3] 两根长棒 Two long candy sticks", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5077)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Dwa długie lizaki](https://szkopul.edu.pl/problemset/problem/Kmofhbw9cTx06gSZg-C5MiBU/statement/)**\n\nBajtazar 在巴托城经营一家糖果店，当地儿童最爱的是草莓香草棒棒糖。这些棒棒糖由不同长度的段组成，每段为单一口味，香草和草莓交替出现。\n\nBitek 和 Bajtok 来到店里，每人想买一支棒棒糖。Bajtazar 知道，若卖给他们的棒棒糖草莓和香草的含量不同，两个男孩定会争吵谁的更好。他们并不在意段的顺序或长度，只求总量相同。\n\n店内恰有两支长序列棒棒糖，Bajtazar 想从第一支取一段卖给 Bitek，第二支取一段卖给 Bajtok。他允许在段内断裂，但卖出的片段需保持完整。\n\n请帮助 Bajtazar 确定如何分割两支棒棒糖，使卖给男孩的片段尽可能长，且草莓与香草含量完全相同。", "inputFormat": "输入依次描述两支长序列棒棒糖，格式相同。每支棒棒糖的描述如下：\n  \n第一行包含一个正整数 $m$，表示棒棒糖的段数。\n\n接下来的 $m$ 行，每行包含一个字符 $t_i$ 和一个正整数 $a_i$，表示第 $i$ 段的类型：T 表示草莓，W 表示香草；$a_i$ 表示该段长度（单位：厘米）。\n\n保证相邻两段类型不同。", "outputFormat": "输出一行，包含一个整数，表示可从两支棒棒糖各取一段的最大长度，且两段草莓及香草含量相同。", "hint": "**样例 1 解释**\n\nBajtazar 可卖给男孩各含 $1$ 厘米草莓和 $2$ 厘米香草的片段。从第一支棒棒糖取整支（长度 $3$ 厘米，$2$ 厘米草莓，$1$ 厘米香草）。从第二支棒棒糖取前 $3$ 厘米（$1$ 厘米香草，$2$ 厘米草莓）。\n\n**附加样例**\n\n1. 第一支棒棒糖首段为香草，长度 $30$ 厘米，后续段 $1$ 厘米，$m=3$；第二支棒棒糖草莓、香草段交互，长度 $1,2$ 厘米，$m=5$，正确结果为 $8$。\n2. 两支棒棒糖各 $m=10$，草莓、香草段交替出现，第一支段长 $1,2,3,\\ldots,10$，第二支 $2,1,4,3,6,5,8,7,9,10$，正确结果为 $15$。\n3. 两支棒棒糖各 $m=1000$，第一支自草莓始，第二支自香草始，所有段长 $1$ 厘米，正确结果为 $1000$。\n\n令 $m_{\\text{max}}$ 表示输入的最大段数，$n_{\\text{max}}$ 表示棒棒糖的最大总长度。保证每个测试点满足 $n_{\\text{max}} \\leq 10^9, m_{\\text{max}} \\leq 10^5$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n_{\\text{max}} \\leq 15$ | $15$ |\n| $2$    | $n_{\\text{max}} \\leq 3000$ | $12$ |\n| $3$    | $n_{\\text{max}} \\leq 500000, m_{\\text{max}} \\leq 15$ | $15$ |\n| $4$    | $m_{\\text{max}} \\leq 150$ | $8$  |\n| $5$    | $n_{\\text{max}} \\leq 500000, m_{\\text{max}} \\leq 300$ | $15$ |\n| $6$    | $m_{\\text{max}} \\leq 300$ | $15$ |\n| $7$    | $n_{\\text{max}} \\leq 5000000$ | $10$ |\n| $8$    | 无附加限制               | $30$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 两根长棒 Two long candy sticks", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5077)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Dwa długie lizaki](https://szkopul.edu.pl/problemset/problem/Kmofhbw9cTx06gSZg-C5MiBU/statement/)**\n\nBajtazar 在巴托城经营一家糖果店，当地儿童最爱的是草莓香草棒棒糖。这些棒棒糖由不同长度的段组成，每段为单一口味，香草和草莓交替出现。\n\nBitek 和 Bajtok 来到店里，每人想买一支棒棒糖。Bajtazar 知道，若卖给他们的棒棒糖草莓和香草的含量不同，两个男孩定会争吵谁的更好。他们并不在意段的顺序或长度，只求总量相同。\n\n店内恰有两支长序列棒棒糖，Bajtazar 想从第一支取一段卖给 Bitek，第二支取一段卖给 Bajtok。他允许在段内断裂，但卖出的片段需保持完整。\n\n请帮助 Bajtazar 确定如何分割两支棒棒糖，使卖给男孩的片段尽可能长，且草莓与香草含量完全相同。", "inputFormat": "输入依次描述两支长序列棒棒糖，格式相同。每支棒棒糖的描述如下：\n  \n第一行包含一个正整数 $m$，表示棒棒糖的段数。\n\n接下来的 $m$ 行，每行包含一个字符 $t_i$ 和一个正整数 $a_i$，表示第 $i$ 段的类型：T 表示草莓，W 表示香草；$a_i$ 表示该段长度（单位：厘米）。\n\n保证相邻两段类型不同。", "outputFormat": "输出一行，包含一个整数，表示可从两支棒棒糖各取一段的最大长度，且两段草莓及香草含量相同。", "hint": "**样例 1 解释**\n\nBajtazar 可卖给男孩各含 $1$ 厘米草莓和 $2$ 厘米香草的片段。从第一支棒棒糖取整支（长度 $3$ 厘米，$2$ 厘米草莓，$1$ 厘米香草）。从第二支棒棒糖取前 $3$ 厘米（$1$ 厘米香草，$2$ 厘米草莓）。\n\n**附加样例**\n\n1. 第一支棒棒糖首段为香草，长度 $30$ 厘米，后续段 $1$ 厘米，$m=3$；第二支棒棒糖草莓、香草段交互，长度 $1,2$ 厘米，$m=5$，正确结果为 $8$。\n2. 两支棒棒糖各 $m=10$，草莓、香草段交替出现，第一支段长 $1,2,3,\\ldots,10$，第二支 $2,1,4,3,6,5,8,7,9,10$，正确结果为 $15$。\n3. 两支棒棒糖各 $m=1000$，第一支自草莓始，第二支自香草始，所有段长 $1$ 厘米，正确结果为 $1000$。\n\n令 $m_{\\text{max}}$ 表示输入的最大段数，$n_{\\text{max}}$ 表示棒棒糖的最大总长度。保证每个测试点满足 $n_{\\text{max}} \\leq 10^9, m_{\\text{max}} \\leq 10^5$。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n_{\\text{max}} \\leq 15$ | $15$ |\n| $2$    | $n_{\\text{max}} \\leq 3000$ | $12$ |\n| $3$    | $n_{\\text{max}} \\leq 500000, m_{\\text{max}} \\leq 15$ | $15$ |\n| $4$    | $m_{\\text{max}} \\leq 150$ | $8$  |\n| $5$    | $n_{\\text{max}} \\leq 500000, m_{\\text{max}} \\leq 300$ | $15$ |\n| $6$    | $m_{\\text{max}} \\leq 300$ | $15$ |\n| $7$    | $n_{\\text{max}} \\leq 5000000$ | $10$ |\n| $8$    | 无附加限制               | $30$ |", "locale": "zh-CN"}}}
{"pid": "P12770", "type": "P", "difficulty": 4, "samples": [["3\n8 3\n12 2\n9 4\n2 1 3\n3\n1 3\n1 2\n2 3", "4/1\nNIE\n1/1\n2/1"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2018", "POI（波兰）"], "title": "[POI 2018 R3] 出租车 Taxis", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5078)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Taksówki](https://szkopul.edu.pl/problemset/problem/pxbqUTPy3IuPDul9FdT2_Sth/statement/)**\n\nBajtazar 是《出租车与你》杂志的主编，每年发布拜托尼亚最便宜出租车公司排行榜。新一期排行榜即将来袭。\n\n每家出租车公司 $i$ 的乘车费用由两部分组成：\n- 固定上车费 $s_i$，与行程距离无关；\n- 行程费，距离 $d$（单位：拜托米）乘以每拜托米的单价 $c_i$。\n\n每家公司有固定的 $s_i$ 和 $c_i$ 参数。\n\nBajtazar 希望综合多种标准制定排行，但为避免偏见指控，他决定仅以价格为依据。他设定了理想的排行榜，希望通过选择一个正数（不一定为整数）的行程距离 $d$，使 $d$ 拜托米的费用排序与理想排行一致，允许自行处理平局情况。\n\n然而，各公司试图贿赂 Bajtazar，且服务标准时有变动，导致理想排行频繁调整。编写程序，帮助他在每次调整后确定合适的距离参数 $d$。", "inputFormat": "第一行包含一个自然数 $n$，表示出租车公司数量。\n\n接下来的 $n$ 行描述各公司，每行包含两个自然数 $s_i, c_i$，分别表示上车费和每拜托米费用。\n\n下一行包含 $n$ 个互不相同的自然数（范围 $[1, n]$），表示 Bajtazar 的初始理想排行（第 $i$ 个数为应排在第 $i$ 位的公司编号）。\n\n再下一行包含一个自然数 $q$，表示调整次数。\n\n接下来的 $q$ 行描述调整，每行包含两个不同的自然数 $a_i, b_i$，表示将排行中第 $a_i$ 位与第 $b_i$ 位交换。", "outputFormat": "输出 $q+1$ 行，第 $i$ 行包含一个正有理数，表示使排行与前 $i-1$ 次调整后一致的距离 $d$，以不可约分数 $x/y$ 形式输出，$x, y \\leq 10^9$。**若有多个 $d$ 满足条件，你需要输出最小的合法的 $d$。**\n\n若无解，输出 `NIE`。", "hint": "**样例 1 解释**\n\n为实现排行 $2,1,3$，Bajtazar 可设 $d=4$，费用为 $8+3d=20, 12+2d=20, 9+4d=25$。公司 $1$ 和 $2$ 费用相等，可按理想顺序排列。交换第 $1$ 位和第 $3$ 位得 $3,1,2$，无任何 $d$ 可实现。再次交换第 $3$ 位和第 $2$ 位得 $1,3,2$，设 $d=1$，费用为 $11, 14, 13$。最后交换第 $2$ 位和第 $3$ 位得 $1,2,3$，设 $d=2$，费用为 $14, 16, 17$。\n\n**附加样例**\n\n1. $n=10, q=10$，满足子任务 $4$ 的随机样例。\n2. $n=10, q=10$，随机样例。\n3. $n=10, q=10$，$d=1/3$ 时各公司费用相同。\n4. $n=1000, q=1000$，仅一种可能排行：任意 $d$ 下公司 $1$ 比 $2$ 便宜，$2$ 比 $3$ 便宜，依此类推，初始排行如此。每偶数次调整交换两位置，奇数次调整复原。\n\n所有测试点满足 $1 \\leq n \\leq 500000, 0 \\leq q \\leq 5000000, 1 \\leq s_i, c_i \\leq 10^9$。\n\n详细子任务附加限制及分值如下表所示。「无并列」表示任意正 $d$ 至多一对不同公司费用相等；「无 `NIE`」表示答案不含 `NIE`。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$     | $q=0$，无并列              | $10$ |\n| $2$     | $n, q \\leq 2000$，无并列 | $10$ |\n| $3$     | $n \\leq 2000$，无并列 | $25$ |\n| $4$     | 无 `NIE`                  | $30$ |\n| $5$     | 无附加限制           | $25$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 出租车 Taxis", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5078)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Taksówki](https://szkopul.edu.pl/problemset/problem/pxbqUTPy3IuPDul9FdT2_Sth/statement/)**\n\nBajtazar 是《出租车与你》杂志的主编，每年发布拜托尼亚最便宜出租车公司排行榜。新一期排行榜即将来袭。\n\n每家出租车公司 $i$ 的乘车费用由两部分组成：\n- 固定上车费 $s_i$，与行程距离无关；\n- 行程费，距离 $d$（单位：拜托米）乘以每拜托米的单价 $c_i$。\n\n每家公司有固定的 $s_i$ 和 $c_i$ 参数。\n\nBajtazar 希望综合多种标准制定排行，但为避免偏见指控，他决定仅以价格为依据。他设定了理想的排行榜，希望通过选择一个正数（不一定为整数）的行程距离 $d$，使 $d$ 拜托米的费用排序与理想排行一致，允许自行处理平局情况。\n\n然而，各公司试图贿赂 Bajtazar，且服务标准时有变动，导致理想排行频繁调整。编写程序，帮助他在每次调整后确定合适的距离参数 $d$。", "inputFormat": "第一行包含一个自然数 $n$，表示出租车公司数量。\n\n接下来的 $n$ 行描述各公司，每行包含两个自然数 $s_i, c_i$，分别表示上车费和每拜托米费用。\n\n下一行包含 $n$ 个互不相同的自然数（范围 $[1, n]$），表示 Bajtazar 的初始理想排行（第 $i$ 个数为应排在第 $i$ 位的公司编号）。\n\n再下一行包含一个自然数 $q$，表示调整次数。\n\n接下来的 $q$ 行描述调整，每行包含两个不同的自然数 $a_i, b_i$，表示将排行中第 $a_i$ 位与第 $b_i$ 位交换。", "outputFormat": "输出 $q+1$ 行，第 $i$ 行包含一个正有理数，表示使排行与前 $i-1$ 次调整后一致的距离 $d$，以不可约分数 $x/y$ 形式输出，$x, y \\leq 10^9$。**若有多个 $d$ 满足条件，你需要输出最小的合法的 $d$。**\n\n若无解，输出 `NIE`。", "hint": "**样例 1 解释**\n\n为实现排行 $2,1,3$，Bajtazar 可设 $d=4$，费用为 $8+3d=20, 12+2d=20, 9+4d=25$。公司 $1$ 和 $2$ 费用相等，可按理想顺序排列。交换第 $1$ 位和第 $3$ 位得 $3,1,2$，无任何 $d$ 可实现。再次交换第 $3$ 位和第 $2$ 位得 $1,3,2$，设 $d=1$，费用为 $11, 14, 13$。最后交换第 $2$ 位和第 $3$ 位得 $1,2,3$，设 $d=2$，费用为 $14, 16, 17$。\n\n**附加样例**\n\n1. $n=10, q=10$，满足子任务 $4$ 的随机样例。\n2. $n=10, q=10$，随机样例。\n3. $n=10, q=10$，$d=1/3$ 时各公司费用相同。\n4. $n=1000, q=1000$，仅一种可能排行：任意 $d$ 下公司 $1$ 比 $2$ 便宜，$2$ 比 $3$ 便宜，依此类推，初始排行如此。每偶数次调整交换两位置，奇数次调整复原。\n\n所有测试点满足 $1 \\leq n \\leq 500000, 0 \\leq q \\leq 5000000, 1 \\leq s_i, c_i \\leq 10^9$。\n\n详细子任务附加限制及分值如下表所示。「无并列」表示任意正 $d$ 至多一对不同公司费用相等；「无 `NIE`」表示答案不含 `NIE`。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$     | $q=0$，无并列              | $10$ |\n| $2$     | $n, q \\leq 2000$，无并列 | $10$ |\n| $3$     | $n \\leq 2000$，无并列 | $25$ |\n| $4$     | 无 `NIE`                  | $30$ |\n| $5$     | 无附加限制           | $25$ |", "locale": "zh-CN"}}}
{"pid": "P12771", "type": "P", "difficulty": 6, "samples": [["4 13 5\n3 2 2 1", "12\n6 2 9 8"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2018", "POI（波兰）", "Special Judge", "快速数论变换 NTT"], "title": "[POI 2018 R3] 多项式 Polynomial", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5079)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Wielomian](https://szkopul.edu.pl/problemset/problem/9JvSAnyf5d1FlPAEXEdUAtCz/statement/)**\n\nBajtazar 在数学课上行为不端，作为惩罚，他需计算一个具有 $n$ 个整数系数的长多项式 $W$：\n\n$$\nW(x) = a_0 + a_1 x + a_2 x^2 + \\ldots + a_{n-2} x^{n-2} + a_{n-1} x^{n-1}\n$$\n\n在点 $q^1, q^2, \\ldots, q^n$ 处的取值。为便于老师检查，他需先给出这些取值之和除以 $m$ 的余数，再给出各取值除以 $m$ 的余数。\n\nBajtazar 不仅调皮，还很懒惰，他请你帮忙，自己却跑去派对了。临走前，他提醒你：$n$ 是 $2$ 的幂，且 $q^n$ 除以 $m$ 的余数为 $1$（即 $q^n \\bmod m = 1$）。他认为这些性质可大幅减少计算量。", "inputFormat": "第一行包含三个整数 $n, m, q$（$n \\geq 1$，$n$ 为 $2$ 的幂，$2 \\leq m \\leq 10^9$，$1 \\leq q < m$，$q^n \\bmod m = 1$）。\n\n第二行包含 $n$ 个整数 $a_0, a_1, \\ldots, a_{n-1}$ $(0 \\leq a_i \\leq 10^9)$，表示多项式系数。", "outputFormat": "第一行输出一个整数，表示多项式 $W$ 在点 $q^1, q^2, \\ldots, q^n$ 的取值之和除以 $m$ 的余数。\n\n第二行输出 $n$ 个整数，表示 $W(q^1), W(q^2), \\ldots, W(q^n)$ 除以 $m$ 的余数，空格分隔。", "hint": "**样例 1 解释**\n\n多项式为 $W(x) = 3 + 2x + 2x^2 + x^3$，其在各点取值为 $W(5) = 188$，$W(5^2) = 16928$，$W(5^3) = 1984628$，$W(5^4) = 244923128$。第一行输出 $188 + 16928 + 1984628 + 244923128 = 246924872$ 除以 $13$ 的余数，即 $12$。第二行输出各取值除以 $13$ 的余数：$188 \\bmod 13 = 6$，$16928 \\bmod 13 = 2$，$1984628 \\bmod 13 = 9$，$244923128 \\bmod 13 = 8$。\n\n**附加样例**\n\n1. $n=8, m=10, q=3$。\n2. $n=256, m=10^9, q=m-1$。\n3. $n=2^{13}, m=17, q=6$。\n4. $n=2^{20}, m=1114129, q=2$。\n\n若和正确但某取值错误，程序可获得 $40\\%$ 的分数，且第二行需输出 $n$ 个 $[0, m-1]$ 范围的数。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 2^{10}$          | $17$ |\n| $2$    | $n \\leq 2^{15}$          | $9$  |\n| $3$    | $n \\leq 2^{20}$          | $74$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2018 R3] 多项式 Polynomial", "background": "翻译来自于 [LibreOJ](https://loj.ac/p/5079)。", "description": "**题目译自 [XXV Olimpiada Informatyczna — III etap](https://sio2.mimuw.edu.pl/c/oi25-3/dashboard/) [Wielomian](https://szkopul.edu.pl/problemset/problem/9JvSAnyf5d1FlPAEXEdUAtCz/statement/)**\n\nBajtazar 在数学课上行为不端，作为惩罚，他需计算一个具有 $n$ 个整数系数的长多项式 $W$：\n\n$$\nW(x) = a_0 + a_1 x + a_2 x^2 + \\ldots + a_{n-2} x^{n-2} + a_{n-1} x^{n-1}\n$$\n\n在点 $q^1, q^2, \\ldots, q^n$ 处的取值。为便于老师检查，他需先给出这些取值之和除以 $m$ 的余数，再给出各取值除以 $m$ 的余数。\n\nBajtazar 不仅调皮，还很懒惰，他请你帮忙，自己却跑去派对了。临走前，他提醒你：$n$ 是 $2$ 的幂，且 $q^n$ 除以 $m$ 的余数为 $1$（即 $q^n \\bmod m = 1$）。他认为这些性质可大幅减少计算量。", "inputFormat": "第一行包含三个整数 $n, m, q$（$n \\geq 1$，$n$ 为 $2$ 的幂，$2 \\leq m \\leq 10^9$，$1 \\leq q < m$，$q^n \\bmod m = 1$）。\n\n第二行包含 $n$ 个整数 $a_0, a_1, \\ldots, a_{n-1}$ $(0 \\leq a_i \\leq 10^9)$，表示多项式系数。", "outputFormat": "第一行输出一个整数，表示多项式 $W$ 在点 $q^1, q^2, \\ldots, q^n$ 的取值之和除以 $m$ 的余数。\n\n第二行输出 $n$ 个整数，表示 $W(q^1), W(q^2), \\ldots, W(q^n)$ 除以 $m$ 的余数，空格分隔。", "hint": "**样例 1 解释**\n\n多项式为 $W(x) = 3 + 2x + 2x^2 + x^3$，其在各点取值为 $W(5) = 188$，$W(5^2) = 16928$，$W(5^3) = 1984628$，$W(5^4) = 244923128$。第一行输出 $188 + 16928 + 1984628 + 244923128 = 246924872$ 除以 $13$ 的余数，即 $12$。第二行输出各取值除以 $13$ 的余数：$188 \\bmod 13 = 6$，$16928 \\bmod 13 = 2$，$1984628 \\bmod 13 = 9$，$244923128 \\bmod 13 = 8$。\n\n**附加样例**\n\n1. $n=8, m=10, q=3$。\n2. $n=256, m=10^9, q=m-1$。\n3. $n=2^{13}, m=17, q=6$。\n4. $n=2^{20}, m=1114129, q=2$。\n\n若和正确但某取值错误，程序可获得 $40\\%$ 的分数，且第二行需输出 $n$ 个 $[0, m-1]$ 范围的数。\n\n详细子任务附加限制及分值如下表所示。\n\n| 子任务 | 附加限制 | 分值 |\n| :---: | :--: | :---: |\n| $1$    | $n \\leq 2^{10}$          | $17$ |\n| $2$    | $n \\leq 2^{15}$          | $9$  |\n| $3$    | $n \\leq 2^{20}$          | $74$ |", "locale": "zh-CN"}}}
