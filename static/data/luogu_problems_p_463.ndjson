{"pid": "P10390", "type": "P", "difficulty": 5, "samples": [["5\n3 6 2 2 7", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["高精度", "2024", "容斥原理", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 因数计数", "background": "", "description": "小蓝随手写出了含有 $n$ 个正整数的数组 $\\{a_1, a_2,\\cdots, a_n\\}$，他发现可以轻松地算出有多少个有序二元组 $(i, j)$ 满足 $a_j$ 是 $a_i$ 的一个因数。因此他定义一个整数对 $(x_1, y_1)$ 是一个整数对 $(x_2, y_2)$ 的“因数”当且仅当 $x_1$ 和 $y_1$ 分别是 $x_2$ 和 $y_2$ 的因数。他想知道有多少个有序四元组 $(i, j, k, l)$ 满足 $(a_i\n, a_j)$ 是 $(a_k, a_l)$ 的因数，其中 $i, j, k, l$ 互不相等。", "inputFormat": "输入的第一行包含一个正整数 $n$。  \n第二行包含 $n$ 个正整数 $a_1, a_2,\\cdots, a_n $，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "四元组 $(1, 4, 2, 3) $：$(3, 2)$ 为 $(6, 2)$ 的因子；  \n四元组 $(1, 3, 2, 4) $：$(3, 2)$ 为 $(6, 2)$ 的因子；  \n四元组 $(4, 1, 3, 2) $：$(2, 3)$ 为 $(2, 6)$ 的因子；  \n四元组 $(3, 1, 4, 2) $：$(2, 3)$ 为 $(2, 6)$ 的因子。\n\n对于 $20\\%$ 的评测用例，$n ≤ 50 $；  \n对于 $40\\%$ 的评测用例，$n ≤ 10^4$；  \n对于所有评测用例，$1 ≤ n ≤ 10^5 ，1 ≤ a_i ≤ 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 因数计数", "background": "", "description": "小蓝随手写出了含有 $n$ 个正整数的数组 $\\{a_1, a_2,\\cdots, a_n\\}$，他发现可以轻松地算出有多少个有序二元组 $(i, j)$ 满足 $a_j$ 是 $a_i$ 的一个因数。因此他定义一个整数对 $(x_1, y_1)$ 是一个整数对 $(x_2, y_2)$ 的“因数”当且仅当 $x_1$ 和 $y_1$ 分别是 $x_2$ 和 $y_2$ 的因数。他想知道有多少个有序四元组 $(i, j, k, l)$ 满足 $(a_i\n, a_j)$ 是 $(a_k, a_l)$ 的因数，其中 $i, j, k, l$ 互不相等。", "inputFormat": "输入的第一行包含一个正整数 $n$。  \n第二行包含 $n$ 个正整数 $a_1, a_2,\\cdots, a_n $，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "四元组 $(1, 4, 2, 3) $：$(3, 2)$ 为 $(6, 2)$ 的因子；  \n四元组 $(1, 3, 2, 4) $：$(3, 2)$ 为 $(6, 2)$ 的因子；  \n四元组 $(4, 1, 3, 2) $：$(2, 3)$ 为 $(2, 6)$ 的因子；  \n四元组 $(3, 1, 4, 2) $：$(2, 3)$ 为 $(2, 6)$ 的因子。\n\n对于 $20\\%$ 的评测用例，$n ≤ 50 $；  \n对于 $40\\%$ 的评测用例，$n ≤ 10^4$；  \n对于所有评测用例，$1 ≤ n ≤ 10^5 ，1 ≤ a_i ≤ 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10391", "type": "P", "difficulty": 4, "samples": [["4 2\n1 2 3 1\n1 2\n1 3\n2 4\n4 3\n1 4", "3\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "最近公共祖先 LCA", "蓝桥杯省赛", "状压 DP"], "title": "[蓝桥杯 2024 省 A] 零食采购", "background": "", "description": "小蓝准备去星际旅行，出发前想在本星系采购一些零食，星系内有 $n$ 颗星球，由 $n-1$ 条航路连接为连通图，第 $i$ 颗星球卖第 $c_i$ 种零食特产。小蓝想出了 $q$ 个采购方案，第 $i$ 个方案的起点为星球 $s_i$ ，终点为星球 $t_i$ ，对于每种采购方案，小蓝将从起点走最短的航路到终点，并且可以购买所有经过的星球上的零食（包括起点终点），请计算每种采购方案最多能买多少种不同的零食。", "inputFormat": "输入的第一行包含两个正整数 $n$，$q$，用一个空格分隔。  \n第二行包含 $n$ 个整数 $c_1,c_2,\\cdots, c_n$，相邻整数之间使用一个空格分隔。  \n接下来 $n - 1$ 行，第 $i$ 行包含两个整数 $u_i,v_i$，用一个空格分隔，表示一条\n航路将星球 $u_i$ 与 $v_i$ 相连。  \n接下来 $q$ 行，第 $i$ 行包含两个整数 $s_i\n, t_i $，用一个空格分隔，表示一个采购方案。", "outputFormat": "输出 $q$ 行，每行包含一个整数，依次表示每个采购方案的答案。", "hint": "第一个方案路线为 $\\{4, 2, 1, 3\\}$，可以买到第 $1, 2, 3$ 种零食；  \n第二个方案路线为 $\\{1, 2, 4\\}$，可以买到第 $1, 2$ 种零食。\n\n对于 20% 的评测用例，$1 ≤ n, q ≤ 5000 $；    \n对于所有评测用例，$1 ≤ n, q ≤ 10^5，1 ≤ c_i ≤ 20，1 ≤ u_i\n, v_i ≤ n，1 ≤ s_i\n, t_i ≤ n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 零食采购", "background": "", "description": "小蓝准备去星际旅行，出发前想在本星系采购一些零食，星系内有 $n$ 颗星球，由 $n-1$ 条航路连接为连通图，第 $i$ 颗星球卖第 $c_i$ 种零食特产。小蓝想出了 $q$ 个采购方案，第 $i$ 个方案的起点为星球 $s_i$ ，终点为星球 $t_i$ ，对于每种采购方案，小蓝将从起点走最短的航路到终点，并且可以购买所有经过的星球上的零食（包括起点终点），请计算每种采购方案最多能买多少种不同的零食。", "inputFormat": "输入的第一行包含两个正整数 $n$，$q$，用一个空格分隔。  \n第二行包含 $n$ 个整数 $c_1,c_2,\\cdots, c_n$，相邻整数之间使用一个空格分隔。  \n接下来 $n - 1$ 行，第 $i$ 行包含两个整数 $u_i,v_i$，用一个空格分隔，表示一条\n航路将星球 $u_i$ 与 $v_i$ 相连。  \n接下来 $q$ 行，第 $i$ 行包含两个整数 $s_i\n, t_i $，用一个空格分隔，表示一个采购方案。", "outputFormat": "输出 $q$ 行，每行包含一个整数，依次表示每个采购方案的答案。", "hint": "第一个方案路线为 $\\{4, 2, 1, 3\\}$，可以买到第 $1, 2, 3$ 种零食；  \n第二个方案路线为 $\\{1, 2, 4\\}$，可以买到第 $1, 2$ 种零食。\n\n对于 20% 的评测用例，$1 ≤ n, q ≤ 5000 $；    \n对于所有评测用例，$1 ≤ n, q ≤ 10^5，1 ≤ c_i ≤ 20，1 ≤ u_i\n, v_i ≤ n，1 ≤ s_i\n, t_i ≤ n$。", "locale": "zh-CN"}}}
{"pid": "P10392", "type": "P", "difficulty": 5, "samples": [["3 3\n1 3 2", "3 2 -1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "线段树", "2024", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 封印宝石", "background": "", "description": "在一次探险中，勇者小蓝发现了 $n$ 颗闪烁着奇异光芒的宝石，每颗宝石都蕴含着魔法能量，分别记作 $a_1, a_2,\\cdots, a_n$。小蓝计划用 $n$ 个特制的魔法盒子来封\n印这些宝石，防止其魔法能量被滥用。  \n封印宝石会消耗小蓝的体力，具体地，将第 $i$ 颗宝石放入第 $j$ 个盒子会消耗小蓝 $i - j$ 点体力（注：需满足 $j ≤ i$ 才能将第 $i$ 颗宝石放入第 $j$ 个盒子进行有效的封印）。小蓝也可以选择将魔法盒留空，以保存体力供后续使用。  \n此外，为了避免魔力相冲，每个盒子最多存放一颗宝石（每个宝石也只能放进一个盒子），且任意两个相邻盒子不能存放魔力值相同的宝石，相邻的盒子允许同时为空。  \n小蓝初始的体力值为 $k$。在不超出体力限制的条件下，小蓝希望找出一种宝石的放置方法，使得宝石的魔力值在这 $n$ 个盒子中的排列顺序具有最大的字典序（注：未放置宝石的盒子在此序列中记为 $-1$）。  \n作为勇者小蓝的追随者，请你帮他找出这一放置宝石的方法。  \n\n**字典序的解释**： 在本题中，字典序的大小是按照宝石的魔力值进行比较的。对于两个长度同为 $L$ 的魔力值序列 $a$ 和 $b$，如果存在一个位置 $i$，使得 $a_j = b_j$ 对所有 $1 ≤ j < i$ 成立，但是 $a_i < b_i$，则序列 $a$ 在字典序上小于序列 $b$。  \n反之，如果 $a_i > b_i$，则序列 $a$ 在字典序上大于序列 $b$。如果不存在这样的 $i$，则序列 $a$ 和序列 $b$ 的字典序相等。", "inputFormat": "输入的第一行包含两个整数 $n$ 和 $k $，用一个空格分隔，分别表示宝石的数量和小蓝的初始体力值。  \n第二行包含 $n$ 个整数 $a_1, a_2,\\cdots , a_n $，相邻整数之间使用一个空格分隔，分别表示每颗宝石的魔法能量值。", "outputFormat": "输出一行包含 $n$ 个整数，相邻整数之间使用一个空格分隔，表示每个魔法盒中宝石的魔法能量值。如果某个魔法盒为空，则对应位置输出 $-1$。", "hint": "在开始放置宝石之前，体力为 $3$，宝石在盒子中的排列为 $[-1, -1, -1]$。  \n1. 将第 $2$ 个宝石放进第 $1$ 个盒子，得到 $[3, -1, -1]$，体力剩余 $2$。\n2. 将第 $3$ 个宝石放进第 $2$ 个盒子，得到 $[3, 2, -1]$，体力剩余 $1$。  \n\n最后宝石在盒子中的排列为 $[3, 2, −1]$。显然，没有比这更优的放置方法。\n\n对于 $20\\%$ 的评测用例，$1 ≤ n ≤ 5 × 10^3 ，0 ≤ k ≤ 3 × 10^6 ，1 ≤ a_i ≤ 10^5$。  \n对于所有评测用例，$1 ≤ n ≤ 10^5 ，0 ≤ k ≤ 10^9 ，1 ≤ a_i ≤ 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 封印宝石", "background": "", "description": "在一次探险中，勇者小蓝发现了 $n$ 颗闪烁着奇异光芒的宝石，每颗宝石都蕴含着魔法能量，分别记作 $a_1, a_2,\\cdots, a_n$。小蓝计划用 $n$ 个特制的魔法盒子来封\n印这些宝石，防止其魔法能量被滥用。  \n封印宝石会消耗小蓝的体力，具体地，将第 $i$ 颗宝石放入第 $j$ 个盒子会消耗小蓝 $i - j$ 点体力（注：需满足 $j ≤ i$ 才能将第 $i$ 颗宝石放入第 $j$ 个盒子进行有效的封印）。小蓝也可以选择将魔法盒留空，以保存体力供后续使用。  \n此外，为了避免魔力相冲，每个盒子最多存放一颗宝石（每个宝石也只能放进一个盒子），且任意两个相邻盒子不能存放魔力值相同的宝石，相邻的盒子允许同时为空。  \n小蓝初始的体力值为 $k$。在不超出体力限制的条件下，小蓝希望找出一种宝石的放置方法，使得宝石的魔力值在这 $n$ 个盒子中的排列顺序具有最大的字典序（注：未放置宝石的盒子在此序列中记为 $-1$）。  \n作为勇者小蓝的追随者，请你帮他找出这一放置宝石的方法。  \n\n**字典序的解释**： 在本题中，字典序的大小是按照宝石的魔力值进行比较的。对于两个长度同为 $L$ 的魔力值序列 $a$ 和 $b$，如果存在一个位置 $i$，使得 $a_j = b_j$ 对所有 $1 ≤ j < i$ 成立，但是 $a_i < b_i$，则序列 $a$ 在字典序上小于序列 $b$。  \n反之，如果 $a_i > b_i$，则序列 $a$ 在字典序上大于序列 $b$。如果不存在这样的 $i$，则序列 $a$ 和序列 $b$ 的字典序相等。", "inputFormat": "输入的第一行包含两个整数 $n$ 和 $k $，用一个空格分隔，分别表示宝石的数量和小蓝的初始体力值。  \n第二行包含 $n$ 个整数 $a_1, a_2,\\cdots , a_n $，相邻整数之间使用一个空格分隔，分别表示每颗宝石的魔法能量值。", "outputFormat": "输出一行包含 $n$ 个整数，相邻整数之间使用一个空格分隔，表示每个魔法盒中宝石的魔法能量值。如果某个魔法盒为空，则对应位置输出 $-1$。", "hint": "在开始放置宝石之前，体力为 $3$，宝石在盒子中的排列为 $[-1, -1, -1]$。  \n1. 将第 $2$ 个宝石放进第 $1$ 个盒子，得到 $[3, -1, -1]$，体力剩余 $2$。\n2. 将第 $3$ 个宝石放进第 $2$ 个盒子，得到 $[3, 2, -1]$，体力剩余 $1$。  \n\n最后宝石在盒子中的排列为 $[3, 2, −1]$。显然，没有比这更优的放置方法。\n\n对于 $20\\%$ 的评测用例，$1 ≤ n ≤ 5 × 10^3 ，0 ≤ k ≤ 3 × 10^6 ，1 ≤ a_i ≤ 10^5$。  \n对于所有评测用例，$1 ≤ n ≤ 10^5 ，0 ≤ k ≤ 10^9 ，1 ≤ a_i ≤ 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10393", "type": "P", "difficulty": 2, "samples": [["3\n0 0 0", "0 0 0 \n0 0 0"], ["5\n1 1 1 1 -1", "1 1 1 -1 1 \n1 1 -1 1 1"], ["3\n1 2 3", "3 1 2\n2 3 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "洛谷原创", "Special Judge", "O2优化", "洛谷月赛"], "title": "无限循环？", "background": "你是一只小青蛙。\n\n你被关进了塞拉飞舞监狱。\n\n生活有点压抑，小青蛙幻想自己走出了塞拉飞舞监狱。\n\n生活过于压抑，小青蛙开始反抗塞拉飞舞监狱。\n\n小青蛙孤立无援，又被关进了塞拉飞舞监狱。\n\n……\n\n循环不是无限的。如此往复，总有一天，他会将塞拉飞舞这黑暗的牢笼冲破！", "description": "小青蛙暂时被困在了循环里，这个循环可以看作一个有 $n$ 个点的环（$n$ 为奇数），每个点 $i$ 有点权 $a_i$。\n\n对于所有的 $1 \\leq i < n$，点 $i$ 和点 $i+1$ 之间有一条边，边权为 $w_i$；点 $1$ 和点 $n$ 之间有一条边，边权为 $w_n$。\n\n这个环的边权和点权有奇妙的关系：对于任意一条边 $i$，其边权 $w_i$ 都必然满足关系 $w_i=\\dfrac12(a_i+a_{i+1})$，其中 $w_n=\\dfrac12(a_1+a_{n})$，当环中任意一条边的边权改变的时候，它的所有点点权会**随之改变**，直到所有点权都能与边权满足上述关系。\n\n现在青蛙掌握了 $w_1\\sim w_n$ 的值，而且他可以交换其中任意两条边的权值任意次（即任意打乱边权）。现在青蛙需要给出两组安排 $w_1\\sim w_n$ 的方案，分别使得 $1$ 号点点权**在所有的排列方案中最大** / **最小**。\n\n然而由于青蛙陷入了无限循环，他的脑子十分混乱，于是他向你寻求帮助，你需要帮他构造这样两组方案。\n\n**题目保证 $\\boldsymbol n$ 为奇数**。", "inputFormat": "第一行一个整数 $n$ 。\n\n第二行共 $n$ 个整数，第 $i$ 个数 $w_i$ 表示第 $i$ 条边的权值。", "outputFormat": "两行，每行 $n$ 个整数表示答案。\n\n第一行 $n$ 个整数从 $w_1'\\sim w_n'$ 表示一组方案使得 $1$ 号点权值最大。\n\n第二行 $n$ 个整数从 $w_1''\\sim w_n''$ 表示一组方案使得 $1$ 号点权值最小。\n\n本题采用 `special judge` 评测，也就是说，如果有多种可能的答案，你可以输出任意一种。\n", "hint": "**【样例 #1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j7x81nq5.png)\n\n其中红色数字表示点权，黑色数字表示边权，蓝色数字表示点的编号。\n\n可以证明，这种方案下的 $1$ 号点权既最小，又最大。\n\n**【样例 #2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ku8797x8.png)\n\n其中红色表示点权，黑色表示边权，蓝色表示点的号码。\n\n可以证明，这两种方案下的 $1$ 号点权分别取到最大和最小。需要注意的是，这**不一定**是**唯一解**。\n\n---\n\n**【数据规模与约定】**\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 数据范围 | 分数 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $n=3$ | $20$ | $\\rm A$ |\n| $2$ | $n=3$ | $20$ | 无 |\n| $3$ | $n\\leq 10^6$ | $20$ | $\\rm B$ |\n| $4$ | $n\\leq 10^6$ | $20$ | $\\rm C$ |\n| $5$ | $n\\leq 10^6$ | $20$ | 无 |\n\n- 特殊性质 $\\rm A$ ：保证 $\\{w\\}$ 是由 $\\{-1,0,1\\}$ 任意打乱之后得到的一个序列。\n- 特殊性质 $\\rm B$ ：保证 $n \\ge 3$，且对于所有 $i\\in [2,n]$，有 $w_i$ 相同。\n- 特殊性质 $\\rm C$ ：保证 $n\\ge 3$，且对于所有 $i\\in [3,n]$，有 $w_i$ 相同。\n- 对于 $100\\%$ 的数据， $1\\leq n\\leq 10^6$ 且为奇数， $|w_i|\\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "无限循环？", "background": "你是一只小青蛙。\n\n你被关进了塞拉飞舞监狱。\n\n生活有点压抑，小青蛙幻想自己走出了塞拉飞舞监狱。\n\n生活过于压抑，小青蛙开始反抗塞拉飞舞监狱。\n\n小青蛙孤立无援，又被关进了塞拉飞舞监狱。\n\n……\n\n循环不是无限的。如此往复，总有一天，他会将塞拉飞舞这黑暗的牢笼冲破！", "description": "小青蛙暂时被困在了循环里，这个循环可以看作一个有 $n$ 个点的环（$n$ 为奇数），每个点 $i$ 有点权 $a_i$。\n\n对于所有的 $1 \\leq i < n$，点 $i$ 和点 $i+1$ 之间有一条边，边权为 $w_i$；点 $1$ 和点 $n$ 之间有一条边，边权为 $w_n$。\n\n这个环的边权和点权有奇妙的关系：对于任意一条边 $i$，其边权 $w_i$ 都必然满足关系 $w_i=\\dfrac12(a_i+a_{i+1})$，其中 $w_n=\\dfrac12(a_1+a_{n})$，当环中任意一条边的边权改变的时候，它的所有点点权会**随之改变**，直到所有点权都能与边权满足上述关系。\n\n现在青蛙掌握了 $w_1\\sim w_n$ 的值，而且他可以交换其中任意两条边的权值任意次（即任意打乱边权）。现在青蛙需要给出两组安排 $w_1\\sim w_n$ 的方案，分别使得 $1$ 号点点权**在所有的排列方案中最大** / **最小**。\n\n然而由于青蛙陷入了无限循环，他的脑子十分混乱，于是他向你寻求帮助，你需要帮他构造这样两组方案。\n\n**题目保证 $\\boldsymbol n$ 为奇数**。", "inputFormat": "第一行一个整数 $n$ 。\n\n第二行共 $n$ 个整数，第 $i$ 个数 $w_i$ 表示第 $i$ 条边的权值。", "outputFormat": "两行，每行 $n$ 个整数表示答案。\n\n第一行 $n$ 个整数从 $w_1'\\sim w_n'$ 表示一组方案使得 $1$ 号点权值最大。\n\n第二行 $n$ 个整数从 $w_1''\\sim w_n''$ 表示一组方案使得 $1$ 号点权值最小。\n\n本题采用 `special judge` 评测，也就是说，如果有多种可能的答案，你可以输出任意一种。\n", "hint": "**【样例 #1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j7x81nq5.png)\n\n其中红色数字表示点权，黑色数字表示边权，蓝色数字表示点的编号。\n\n可以证明，这种方案下的 $1$ 号点权既最小，又最大。\n\n**【样例 #2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ku8797x8.png)\n\n其中红色表示点权，黑色表示边权，蓝色表示点的号码。\n\n可以证明，这两种方案下的 $1$ 号点权分别取到最大和最小。需要注意的是，这**不一定**是**唯一解**。\n\n---\n\n**【数据规模与约定】**\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 数据范围 | 分数 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $n=3$ | $20$ | $\\rm A$ |\n| $2$ | $n=3$ | $20$ | 无 |\n| $3$ | $n\\leq 10^6$ | $20$ | $\\rm B$ |\n| $4$ | $n\\leq 10^6$ | $20$ | $\\rm C$ |\n| $5$ | $n\\leq 10^6$ | $20$ | 无 |\n\n- 特殊性质 $\\rm A$ ：保证 $\\{w\\}$ 是由 $\\{-1,0,1\\}$ 任意打乱之后得到的一个序列。\n- 特殊性质 $\\rm B$ ：保证 $n \\ge 3$，且对于所有 $i\\in [2,n]$，有 $w_i$ 相同。\n- 特殊性质 $\\rm C$ ：保证 $n\\ge 3$，且对于所有 $i\\in [3,n]$，有 $w_i$ 相同。\n- 对于 $100\\%$ 的数据， $1\\leq n\\leq 10^6$ 且为奇数， $|w_i|\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10394", "type": "P", "difficulty": 4, "samples": [["3\n3 2\n4 4\n5 5", "1\n3\n2\n"], ["5\n4 3\n4 4\n4 5\n4 6\n4 7", "2\n3\n3\n4\n4\n"], ["3\n1145 1499\n12344 123456\n114514 1919810", "2\n41\n17"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "洛谷原创", "O2优化", "洛谷月赛"], "title": "接连不断！", "background": "小青蛙被关进了监狱的小黑屋里，他遭受了接连不断的折磨，无论是肉体上还是精神上。\n\n他的精神萎靡不振，他的身体行动迟缓。\n\n有些东西被暂时的压制了，但这些东西越是被压制，它反弹时威力就越大。\n\n他需要一个契机。", "description": "青蛙有 $m+1$ 个无向图，编号为 $0\\sim m$。每个图的点集都是 $V$，点集 $V$ 包含 $n$ 个点，编号为 $0\\sim n-1$。起初所有的图都没有边存在。\n\n接下来，在编号为 $x$ 的图中，对于所有在 $[0, n - 1]$ 中的编号 $i$，青蛙会将编号为 $i$ 的点与编号为 $(i\\cdot x)\\bmod n$ 的点连一条无向边。\n\n他想知道这 $m+1$ 个图中有多少个图是**连通的**，这个问题交给你来回答。\n\n注：\n1. $\\bmod$ 表示取模，$a\\bmod b$ 表示 $a$ 除以 $b$ 得到的余数。\n2. 在一张图中，若在点集内任意两个不同的点 $x, y$ 之间存在至少一条路径，则我们称这个图是**连通的**。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行两个整数 $n,m$，含义同上。", "outputFormat": "共 $T$ 行，每行一个整数表示答案。", "hint": "**【样例 #1 解释】**\n\n询问 1：\n\n| 图的编号 | 边集 | 图是否连通 |\n| :------: | :-----------------: | :--------: |\n|   $0$    | $(0,0),(1,0),(2,0)$ |     是     |\n|   $1$    | $(0,0),(1,1),(2,2)$ |     否     |\n|   $2$    | $(0,0),(1,2),(2,1)$ |     否     |\n\n询问 2：\n\n| 图的编号 |    边集    | 图是否连通 |\n| :------: | :-----------------------: | :--------: |\n|   $0$    | $(0,0),(1,0),(2,0),(3,0)$ |     是     |\n|   $1$    | $(0,0),(1,1),(2,2),(3,3)$ |     否     |\n|   $2$    | $(0,0),(1,2),(2,0),(3,2)$ |     是     |\n|   $3$    | $(0,0),(1,3),(2,2),(3,1)$ |     否     |\n|   $4$    | $(0,0),(1,0),(2,0),(3,0)$ |     是     |\n\n询问 3：\n\n| 图的编号 |   边集    | 图是否连通 |\n| :------: | :-----------------------: | :--------: |\n|   $0$    | $(0,0),(1,0),(2,0),(3,0),(4,0)$ |     是     |\n|   $1$    | $(0,0),(1,1),(2,2),(3,3),(4,4)$ |     否     |\n|   $2$    | $(0,0),(1,2),(2,4),(3,1),(4,3)$ |     否     |\n|   $3$    | $(0,0),(1,3),(2,1),(3,4),(4,2)$ |     否     |\n|   $4$    | $(0,0),(1,4),(2,3),(3,2),(4,1)$ |     否     |\n|   $5$    | $(0,0),(1,0),(2,0),(3,0),(4,0)$ |     是     |\n\n所以答案分别为 $1, 3, 2$。\n\n---\n\n**【数据规模与约定】**\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 数据范围 | 分数 |\n| :---: | :---: | :---: |\n| $1$ | $n,m\\le 200$ | $15$ |\n| $2$ | $n,m\\le 3000$ | $30$ |\n| $3$ | $n,m\\le 10^7$ | $15$ |\n| $4$ | $n\\le 3000,m \\le10^{14}$ | $15$ |\n| $5$ | $n,m\\le 10^{14}$ | $25$ |\n\n- 对于 $100\\%$ 的数据，保证 $1\\le T\\le 5,1\\le n,m\\le 10^{14}$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "接连不断！", "background": "小青蛙被关进了监狱的小黑屋里，他遭受了接连不断的折磨，无论是肉体上还是精神上。\n\n他的精神萎靡不振，他的身体行动迟缓。\n\n有些东西被暂时的压制了，但这些东西越是被压制，它反弹时威力就越大。\n\n他需要一个契机。", "description": "青蛙有 $m+1$ 个无向图，编号为 $0\\sim m$。每个图的点集都是 $V$，点集 $V$ 包含 $n$ 个点，编号为 $0\\sim n-1$。起初所有的图都没有边存在。\n\n接下来，在编号为 $x$ 的图中，对于所有在 $[0, n - 1]$ 中的编号 $i$，青蛙会将编号为 $i$ 的点与编号为 $(i\\cdot x)\\bmod n$ 的点连一条无向边。\n\n他想知道这 $m+1$ 个图中有多少个图是**连通的**，这个问题交给你来回答。\n\n注：\n1. $\\bmod$ 表示取模，$a\\bmod b$ 表示 $a$ 除以 $b$ 得到的余数。\n2. 在一张图中，若在点集内任意两个不同的点 $x, y$ 之间存在至少一条路径，则我们称这个图是**连通的**。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行两个整数 $n,m$，含义同上。", "outputFormat": "共 $T$ 行，每行一个整数表示答案。", "hint": "**【样例 #1 解释】**\n\n询问 1：\n\n| 图的编号 | 边集 | 图是否连通 |\n| :------: | :-----------------: | :--------: |\n|   $0$    | $(0,0),(1,0),(2,0)$ |     是     |\n|   $1$    | $(0,0),(1,1),(2,2)$ |     否     |\n|   $2$    | $(0,0),(1,2),(2,1)$ |     否     |\n\n询问 2：\n\n| 图的编号 |    边集    | 图是否连通 |\n| :------: | :-----------------------: | :--------: |\n|   $0$    | $(0,0),(1,0),(2,0),(3,0)$ |     是     |\n|   $1$    | $(0,0),(1,1),(2,2),(3,3)$ |     否     |\n|   $2$    | $(0,0),(1,2),(2,0),(3,2)$ |     是     |\n|   $3$    | $(0,0),(1,3),(2,2),(3,1)$ |     否     |\n|   $4$    | $(0,0),(1,0),(2,0),(3,0)$ |     是     |\n\n询问 3：\n\n| 图的编号 |   边集    | 图是否连通 |\n| :------: | :-----------------------: | :--------: |\n|   $0$    | $(0,0),(1,0),(2,0),(3,0),(4,0)$ |     是     |\n|   $1$    | $(0,0),(1,1),(2,2),(3,3),(4,4)$ |     否     |\n|   $2$    | $(0,0),(1,2),(2,4),(3,1),(4,3)$ |     否     |\n|   $3$    | $(0,0),(1,3),(2,1),(3,4),(4,2)$ |     否     |\n|   $4$    | $(0,0),(1,4),(2,3),(3,2),(4,1)$ |     否     |\n|   $5$    | $(0,0),(1,0),(2,0),(3,0),(4,0)$ |     是     |\n\n所以答案分别为 $1, 3, 2$。\n\n---\n\n**【数据规模与约定】**\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 数据范围 | 分数 |\n| :---: | :---: | :---: |\n| $1$ | $n,m\\le 200$ | $15$ |\n| $2$ | $n,m\\le 3000$ | $30$ |\n| $3$ | $n,m\\le 10^7$ | $15$ |\n| $4$ | $n\\le 3000,m \\le10^{14}$ | $15$ |\n| $5$ | $n,m\\le 10^{14}$ | $25$ |\n\n- 对于 $100\\%$ 的数据，保证 $1\\le T\\le 5,1\\le n,m\\le 10^{14}$。\n", "locale": "zh-CN"}}}
{"pid": "P10395", "type": "P", "difficulty": 5, "samples": [["3 4\n1 2 3\n1 3 2 2", "2"], ["5 5\n1 2 3 4 4\n1 2 3 3 3", "1"], ["5 10\n1 2 3 4 5\n1 2 2 3 2 2 2 4 5 4", "3"], ["10 2\n1 2 1 2 2 2 2 2 2 2\n2 2", "-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "洛谷原创", "O2优化", "洛谷月赛"], "title": "青蛙寻青。", "background": "数次失败后，小青蛙的思想开始发生变化。\n\n他开始寻找自己为青蛙之本。\n\n他开始寻找其他青蛙帮忙。\n\n他在发生蜕变。\n\n他在升华。\n\n他，将变成光！\n\n他给自己取了新名字 —— 青蛙青（qwq），因为名字很可爱。", "description": "白色光可以被分解成青色光还有很多其他颜色的光。\n\n$\\{a\\}$ 是一个长度为 $n$，有 $k$ 种不同颜色的序列，第 $i$ 个元素颜色为 $a_i$（保证颜色 $1\\sim k$ 都在 $a$ 中出现过）。\n\n$\\{b\\}$ 是一个长度为 $m$ 的序列，第 $i$ 个元素颜色为 $b_i$（保证每个 $b_i$ 都是 $k$ 种颜色中的一种，但不保证 $k$ 种颜色都在 $b$ 中出现过）。我们可以修改 $b$ 中若干个位置的颜色，得到一个长度仍为 $m$ 的序列 $b'$。\n\n我们对 $b'$ 与 $a$ 中颜色相同的点连这种颜色的一条线段。\n\n如 $n=3,m=4,k=3,a=\\{1,2,3\\},b'=\\{1,3,2,2\\}$，它们之间的连线是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kmi8og83.png)\n\n要求**不同颜色的线段两两不交**，**且 $k$ 种颜色都要在 $b$ 中出现**，请问最少修改次数是多少？\n\n形式化的，设你修改后的符合要求的序列为 $b'$，那么你需要最小化：\n\n$$\n\\sum_{i=1}^{m}[b_i\\ne b'_i]\n$$\n\n对于上述 $a=\\{1,2,3\\},b'=\\{1,3,2,2\\}$ 的情况，它们之间的连线（红色的 $2$ 与紫色 $3$ 之间）出现了相交。\n\n但如果我们把 $b$ 修改成 $\\{1,2,3,3\\}$，它们之间的连线没有相交，满足上述条件：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9a1ljv02.png)\n\n注意：\n\n- $b' = \\{1,1,4,5\\}$ 的情况连线也没有相交，但是 $b'$ 包含了 $k$ 种颜色之外的颜色（有 $4$ 和 $5$），因此这个 $b'$ 不合法。\n- $b' = \\{1,1,1,1\\}$ 的情况连线也没有相交，但是 $b'$ 中没有包含 $1\\sim k$ 中所有的颜色（没有 $2$ 和 $3$），因此这个 $b'$ 也不合法。\n\n特别的，如果无论怎样修改都无法满足要求，请输出 `-1`。", "inputFormat": "第一行共两个整数 $n,m$，分别表示序列 $a,b$ 的元素个数。\n\n第二行共 $n$ 个整数，第 $i$ 个整数表示 $a_i$。\n\n第三行共 $m$ 个整数，第 $i$ 个整数表示 $b_i$。", "outputFormat": "一行，一个整数，表示满足要求的最小修改次数。\n\n如果无论怎样修改都无法满足要求，请输出 `-1`。", "hint": "**【样例 #1 解释】**\n\n将 $\\{1,3,2,2\\}$ 修改为 $\\{1,2,2,3\\}$。\n\n可以证明这是修改次数最少的方式。\n\n**【样例 #2 解释】**\n\n将 $\\{1,2,3,3,3\\}$ 修改为 $\\{1,2,3,3,4\\}$。\n\n可以证明这是修改次数最少的方式。\n\n---\n\n**本题开启捆绑测试以及子任务依赖。**\n\n**本题时限 2s。**\n\n|$\\text{Subtask}$| $n,m\\le$ | 分数 | 子任务依赖 |\n|:---:|:---:|:---:|:---:|\n| $1$ | $5$ | $5$ | 无 |\n| $2$ | $5000$| $35$ | $1$ |\n| $3$ | $10^5$| $30$ | $1,2$ |\n| $4$ | $2\\times 10^6$| $30$ | $1,2,3$ |\n\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m\\le 2\\times 10^6$，$1\\le a_i,b_i \\le n$。设 $\\max\\limits_{i=1}^n{a_i} = k$，保证 $1\\sim k$ 均在 $a$ 中出现过，且 $1\\le k \\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "青蛙寻青。", "background": "数次失败后，小青蛙的思想开始发生变化。\n\n他开始寻找自己为青蛙之本。\n\n他开始寻找其他青蛙帮忙。\n\n他在发生蜕变。\n\n他在升华。\n\n他，将变成光！\n\n他给自己取了新名字 —— 青蛙青（qwq），因为名字很可爱。", "description": "白色光可以被分解成青色光还有很多其他颜色的光。\n\n$\\{a\\}$ 是一个长度为 $n$，有 $k$ 种不同颜色的序列，第 $i$ 个元素颜色为 $a_i$（保证颜色 $1\\sim k$ 都在 $a$ 中出现过）。\n\n$\\{b\\}$ 是一个长度为 $m$ 的序列，第 $i$ 个元素颜色为 $b_i$（保证每个 $b_i$ 都是 $k$ 种颜色中的一种，但不保证 $k$ 种颜色都在 $b$ 中出现过）。我们可以修改 $b$ 中若干个位置的颜色，得到一个长度仍为 $m$ 的序列 $b'$。\n\n我们对 $b'$ 与 $a$ 中颜色相同的点连这种颜色的一条线段。\n\n如 $n=3,m=4,k=3,a=\\{1,2,3\\},b'=\\{1,3,2,2\\}$，它们之间的连线是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kmi8og83.png)\n\n要求**不同颜色的线段两两不交**，**且 $k$ 种颜色都要在 $b$ 中出现**，请问最少修改次数是多少？\n\n形式化的，设你修改后的符合要求的序列为 $b'$，那么你需要最小化：\n\n$$\n\\sum_{i=1}^{m}[b_i\\ne b'_i]\n$$\n\n对于上述 $a=\\{1,2,3\\},b'=\\{1,3,2,2\\}$ 的情况，它们之间的连线（红色的 $2$ 与紫色 $3$ 之间）出现了相交。\n\n但如果我们把 $b$ 修改成 $\\{1,2,3,3\\}$，它们之间的连线没有相交，满足上述条件：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9a1ljv02.png)\n\n注意：\n\n- $b' = \\{1,1,4,5\\}$ 的情况连线也没有相交，但是 $b'$ 包含了 $k$ 种颜色之外的颜色（有 $4$ 和 $5$），因此这个 $b'$ 不合法。\n- $b' = \\{1,1,1,1\\}$ 的情况连线也没有相交，但是 $b'$ 中没有包含 $1\\sim k$ 中所有的颜色（没有 $2$ 和 $3$），因此这个 $b'$ 也不合法。\n\n特别的，如果无论怎样修改都无法满足要求，请输出 `-1`。", "inputFormat": "第一行共两个整数 $n,m$，分别表示序列 $a,b$ 的元素个数。\n\n第二行共 $n$ 个整数，第 $i$ 个整数表示 $a_i$。\n\n第三行共 $m$ 个整数，第 $i$ 个整数表示 $b_i$。", "outputFormat": "一行，一个整数，表示满足要求的最小修改次数。\n\n如果无论怎样修改都无法满足要求，请输出 `-1`。", "hint": "**【样例 #1 解释】**\n\n将 $\\{1,3,2,2\\}$ 修改为 $\\{1,2,2,3\\}$。\n\n可以证明这是修改次数最少的方式。\n\n**【样例 #2 解释】**\n\n将 $\\{1,2,3,3,3\\}$ 修改为 $\\{1,2,3,3,4\\}$。\n\n可以证明这是修改次数最少的方式。\n\n---\n\n**本题开启捆绑测试以及子任务依赖。**\n\n**本题时限 2s。**\n\n|$\\text{Subtask}$| $n,m\\le$ | 分数 | 子任务依赖 |\n|:---:|:---:|:---:|:---:|\n| $1$ | $5$ | $5$ | 无 |\n| $2$ | $5000$| $35$ | $1$ |\n| $3$ | $10^5$| $30$ | $1,2$ |\n| $4$ | $2\\times 10^6$| $30$ | $1,2,3$ |\n\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m\\le 2\\times 10^6$，$1\\le a_i,b_i \\le n$。设 $\\max\\limits_{i=1}^n{a_i} = k$，保证 $1\\sim k$ 均在 $a$ 中出现过，且 $1\\le k \\le n$。", "locale": "zh-CN"}}}
{"pid": "P10396", "type": "P", "difficulty": 7, "samples": [["", "2 3\n4\n1 1 i R\n1 2 c 1 2 R D\n1 3 + 2 L\n2 2 o 1 2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "洛谷原创", "提交答案", "Special Judge", "O2优化", "洛谷月赛"], "title": "健将青蛙……", "background": "小青蛙在打破监狱后，注重身体的锻炼。\n\n他成为了一只运动**健将**。\n\n他的故事还在继续……", "description": "**这是一道提交答案题。**\n\n你的大脑需要被锻炼。\n\n你是一个 bot。你有一个大小为 $300$ 的内存条（下标为 $1\\sim 300$），初始时全为 $0$。每个内存条中存储着一个 $32$ 位整数（即 C++ 中的 `int`）。\n\n你需要构造一个网格图，某些网格上的节点有一个指令，机器人根据指令进行操作和移动。\n\n下文把有指令的节点称作特殊节点。\n\n节点上的指令有如下几种：\n\n- 增减：将内存条某个位置上的整数增、减 $1$，并向指定的方向移动一步；\n- 比较：比较内存条中下标为 $i,j$ 的数的大小，并根据大小向指定方向移动一步；\n- 输入：机器人将从这里出发，并向指定方向移动一步，**该节点不应被重复经过**；\n- 输出：机器人到达该节点时结束行动并输出指定位置的值。\n\n**其中输入、输出节点必须存在且唯一。**\n\n任务：\n\n1. 在初始内存条下标 $1,2$ 位置中读入 $a,b$，输出 $a+b$。保证 $0\\leq a,b\\leq 100$。\n2. 在初始内存条下标 $1$ 位置中读入 $a$，输出 $2^a$。保证 $0\\leq a\\leq 20$。\n3. 在初始内存条下标 $1$ 位置中读入 $a$，输出 $a^2$。保证 $1\\leq a\\leq 1000$。\n4. 在初始内存条下标 $1,2$ 位置中读入 $a,b$，输出 $a\\oplus b$。保证 $0\\leq a,b<2^{19}$。\n5. 在初始内存条下标 $1\\sim 51$ 位置中读入 $n=50,a_1,a_2\\dotsc,a_n$，输出升序排序后的 $a_1\\sim a_n$。保证 $0\\leq a_i\\leq100$。\n6. 在初始内存条下标 $1\\sim 59$ 位置中读入 $n=30,u_1,v_1\\dotsc,u_{n-1},v_{n-1}$，表示由 $n$ 个节点，$n-1$ 条边 $u_i,v_i$ 组成的树，要求输出给定树的直径长度（定义为树上最长的简单路径所包含的边数），保证 $1\\leq u_i,v_i\\leq n$。\n\n你需要保证机器人从输入节点出发能到达输出节点，并且中途不会访问到非特殊节点，且移动次数 $\\leq 5\\times 10^7$。", "inputFormat": "", "outputFormat": "**本题使用 `Special Judge` 判定答案正误。**\n\n针对题目给定的 $6$ 个任务，你需要分别提交你的输出文件 `robot1.out~robot6.out`。\n\n对于每个文件，你的输出应为以下格式：\n\n第一行输出两个正整数 $n,m$ 表示网格大小为 $n$ 行 $m$ 列。你需要保证 $n\\times m\\leq 10^7$。\n\n第二行输出一个正整数 $k$ 表示特殊节点数量。其中 $1\\leq k \\leq n \\times m$。\n\n接下来 $k$ 行每行格式如下：\n\n前两个输出的整数 $x,y$ 表示特殊节点所在位置为第 $x$ 行第 $y$ 列，其中 $1\\leq x\\leq n,1\\leq y\\leq m$，且所有 $(x,y)$ 互不相同，接下来按照节点类型输出不同内容：\n\n- 若为自增节点，则输出 `+`，自减节点输出 `-`，并输出一个整数表示自增/自减的内存下标 $i$，其中 $1\\leq i\\leq 300$，最后输出一个 `LRUD` 中的字符表示移动方向（分别对应左右上下，下同）。\n- 若为比较节点，则输出 `c`，接下来两个整数 $i,j$ 表示比较的下标，你需要保证 $1\\leq i,j\\leq 300$。最后输出两个 `LRUD` 中的字符分别表示 $i$ 下标中的数大于 $j$ 下标中的数时的移动方向和 $i$ 下标中的数小于等于 $j$ 下标中的数时的移动方向。\n- 若为输入节点则输出 `i`，并输出一个 `LRUD` 中的字符表示移动方向。\n- 若为输出节点则输出 `o`，并输出一个整数 $p$ 表示输出大小，接下来 $p$ 个 **互不相同的整数** $a_1\\sim a_p$ 表示你要输出的内存条中的下标，你需要保证 $1\\leq p,a_i\\leq 300$。\n\n**你需要保证给出的特殊节点中输入、输出节点必须存在且唯一。**", "hint": "上述样例给出了一个读入 $a,b$，输出 $\\max(a,b)$ 的程序。\n\n------------\n\n\n评分方式：若你的输出格式错误或给出结果错误，则获得 $0$ 分。否则对于每个测试点，你的得分与 $n\\times m$ 的大小有关。每个测试点有 $2$ 个评分参数 $c_1,c_2$，若你的 $n\\times m\\leq c_1$ 则获得该测试点满分，否则若 $c_1< n\\times m\\leq c_2$ 则获得该测试点 $60\\%$ 分数，否则获得 $40\\%$ 的分数。\n\n| Task Id | $c_1 =$ | $c_2 =$ | pts |\n| :----------: | :----------: | :----------: | :----------: |\n| 1 | $6$ | $9$ | $10$ |\n| 2 | $9$ | $12$ | $15$ |\n| 3 | $9$ | $10$ | $15$ |\n| 4 | $35$ | $48$ | $20$ |\n| 5 | $499$ | $999$ | $20$ |\n| 6 | $3\\times 10^3$ | $3\\times 10^5$ | $20$ |\n\n\n\n------------\n\n本题下发 `附件.zip` 中含有对解题有帮助的文件。\n\n- `./checker/checker.cpp`，其实现与评测时使用的 `Special Judge` 大致相同，\n- `./toy/index.html` 可在浏览器中使用。其为本题的网页版可视化工具，使用方法参见内部的 `instruction`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "健将青蛙……", "background": "小青蛙在打破监狱后，注重身体的锻炼。\n\n他成为了一只运动**健将**。\n\n他的故事还在继续……", "description": "**这是一道提交答案题。**\n\n你的大脑需要被锻炼。\n\n你是一个 bot。你有一个大小为 $300$ 的内存条（下标为 $1\\sim 300$），初始时全为 $0$。每个内存条中存储着一个 $32$ 位整数（即 C++ 中的 `int`）。\n\n你需要构造一个网格图，某些网格上的节点有一个指令，机器人根据指令进行操作和移动。\n\n下文把有指令的节点称作特殊节点。\n\n节点上的指令有如下几种：\n\n- 增减：将内存条某个位置上的整数增、减 $1$，并向指定的方向移动一步；\n- 比较：比较内存条中下标为 $i,j$ 的数的大小，并根据大小向指定方向移动一步；\n- 输入：机器人将从这里出发，并向指定方向移动一步，**该节点不应被重复经过**；\n- 输出：机器人到达该节点时结束行动并输出指定位置的值。\n\n**其中输入、输出节点必须存在且唯一。**\n\n任务：\n\n1. 在初始内存条下标 $1,2$ 位置中读入 $a,b$，输出 $a+b$。保证 $0\\leq a,b\\leq 100$。\n2. 在初始内存条下标 $1$ 位置中读入 $a$，输出 $2^a$。保证 $0\\leq a\\leq 20$。\n3. 在初始内存条下标 $1$ 位置中读入 $a$，输出 $a^2$。保证 $1\\leq a\\leq 1000$。\n4. 在初始内存条下标 $1,2$ 位置中读入 $a,b$，输出 $a\\oplus b$。保证 $0\\leq a,b<2^{19}$。\n5. 在初始内存条下标 $1\\sim 51$ 位置中读入 $n=50,a_1,a_2\\dotsc,a_n$，输出升序排序后的 $a_1\\sim a_n$。保证 $0\\leq a_i\\leq100$。\n6. 在初始内存条下标 $1\\sim 59$ 位置中读入 $n=30,u_1,v_1\\dotsc,u_{n-1},v_{n-1}$，表示由 $n$ 个节点，$n-1$ 条边 $u_i,v_i$ 组成的树，要求输出给定树的直径长度（定义为树上最长的简单路径所包含的边数），保证 $1\\leq u_i,v_i\\leq n$。\n\n你需要保证机器人从输入节点出发能到达输出节点，并且中途不会访问到非特殊节点，且移动次数 $\\leq 5\\times 10^7$。", "inputFormat": "", "outputFormat": "**本题使用 `Special Judge` 判定答案正误。**\n\n针对题目给定的 $6$ 个任务，你需要分别提交你的输出文件 `robot1.out~robot6.out`。\n\n对于每个文件，你的输出应为以下格式：\n\n第一行输出两个正整数 $n,m$ 表示网格大小为 $n$ 行 $m$ 列。你需要保证 $n\\times m\\leq 10^7$。\n\n第二行输出一个正整数 $k$ 表示特殊节点数量。其中 $1\\leq k \\leq n \\times m$。\n\n接下来 $k$ 行每行格式如下：\n\n前两个输出的整数 $x,y$ 表示特殊节点所在位置为第 $x$ 行第 $y$ 列，其中 $1\\leq x\\leq n,1\\leq y\\leq m$，且所有 $(x,y)$ 互不相同，接下来按照节点类型输出不同内容：\n\n- 若为自增节点，则输出 `+`，自减节点输出 `-`，并输出一个整数表示自增/自减的内存下标 $i$，其中 $1\\leq i\\leq 300$，最后输出一个 `LRUD` 中的字符表示移动方向（分别对应左右上下，下同）。\n- 若为比较节点，则输出 `c`，接下来两个整数 $i,j$ 表示比较的下标，你需要保证 $1\\leq i,j\\leq 300$。最后输出两个 `LRUD` 中的字符分别表示 $i$ 下标中的数大于 $j$ 下标中的数时的移动方向和 $i$ 下标中的数小于等于 $j$ 下标中的数时的移动方向。\n- 若为输入节点则输出 `i`，并输出一个 `LRUD` 中的字符表示移动方向。\n- 若为输出节点则输出 `o`，并输出一个整数 $p$ 表示输出大小，接下来 $p$ 个 **互不相同的整数** $a_1\\sim a_p$ 表示你要输出的内存条中的下标，你需要保证 $1\\leq p,a_i\\leq 300$。\n\n**你需要保证给出的特殊节点中输入、输出节点必须存在且唯一。**", "hint": "上述样例给出了一个读入 $a,b$，输出 $\\max(a,b)$ 的程序。\n\n------------\n\n\n评分方式：若你的输出格式错误或给出结果错误，则获得 $0$ 分。否则对于每个测试点，你的得分与 $n\\times m$ 的大小有关。每个测试点有 $2$ 个评分参数 $c_1,c_2$，若你的 $n\\times m\\leq c_1$ 则获得该测试点满分，否则若 $c_1< n\\times m\\leq c_2$ 则获得该测试点 $60\\%$ 分数，否则获得 $40\\%$ 的分数。\n\n| Task Id | $c_1 =$ | $c_2 =$ | pts |\n| :----------: | :----------: | :----------: | :----------: |\n| 1 | $6$ | $9$ | $10$ |\n| 2 | $9$ | $12$ | $15$ |\n| 3 | $9$ | $10$ | $15$ |\n| 4 | $35$ | $48$ | $20$ |\n| 5 | $499$ | $999$ | $20$ |\n| 6 | $3\\times 10^3$ | $3\\times 10^5$ | $20$ |\n\n\n\n------------\n\n本题下发 `附件.zip` 中含有对解题有帮助的文件。\n\n- `./checker/checker.cpp`，其实现与评测时使用的 `Special Judge` 大致相同，\n- `./toy/index.html` 可在浏览器中使用。其为本题的网页版可视化工具，使用方法参见内部的 `instruction`。", "locale": "zh-CN"}}}
{"pid": "P10397", "type": "P", "difficulty": 1, "samples": [["9\nstd::freopen(\"5k.sync.closer\",\"r\",stdin);\nstd::freopen(\"5k.sync.closer\",\"r\",stdout);\nstd::freopen(\"5k.sync.closer\",\"r\",stderr);\nstd::freopen(\"5k.sync.closer\",\"w\",stdin);\nstd::freopen(\"5k.sync.closer\",\"w\",stdout);\nstd::freopen(\"5k.sync.closer\",\"w\",stderr);\nstd::freopen(\"5k.sync.closer\",\"a\",stdin);\nstd::freopen(\"5k.sync.closer\",\"a\",stdout);\nstd::freopen(\"5k.sync.closer\",\"a\",stderr);\n", "5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n5k.sync.closer\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "O2优化"], "title": "『STA - R5』5k.sync.closer", "background": "", "description": "给定一条 [`std::freopen`](https://zh.cppreference.com/w/cpp/io/c/freopen) 语句，输出其操作的文件名称。\n\n形式化地，[`std::freopen`](https://zh.cppreference.com/w/cpp/io/c/freopen) 语句都应该恰好是\n\n```cpp\nstd::freopen(\"<title>\",\"<mode>\",<stream>);\n```\n\n其中 `<title>` 为其操作的文件名称。其至少包含一个字符，并且只可能包含下列几种字符：\n- 大写英文字符；\n- 小写英文字符；\n- 阿拉伯数字；\n- 英文半角句点 `.`。\n\n`<mode>` 为文件访问标记，其只可能为 `r`、`w`、`a` 中的一种。`<stream>` 为文件流，其只可能为 `stdin`、`stdout`、`stderr` 中的一种。\n\t\n你需要回答 $T$ 次询问。", "inputFormat": "**本题单个测试点内含有多组询问。**\n\n第一行一个正整数 $T$，代表询问次数。\n\n对于每组询问：一行一个字符串，代表一条 [`std::freopen`](https://zh.cppreference.com/w/cpp/io/c/freopen) 语句。", "outputFormat": "对于每组询问，输出一行一个字符串，代表其操作的文件名称。", "hint": "**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le T \\le 1000$。\n- 每条语句的长度均不超过 $1000$。\n\n具体部分分分配如下：\n\n- Subtask 1 (30pts)：保证文件名为 `5k.sync.closer`。\n- Subtask 2 (30pts)：保证文件名长度为 $1$。\n- Subtask 3 (40pts)：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R5』5k.sync.closer", "background": "", "description": "给定一条 [`std::freopen`](https://zh.cppreference.com/w/cpp/io/c/freopen) 语句，输出其操作的文件名称。\n\n形式化地，[`std::freopen`](https://zh.cppreference.com/w/cpp/io/c/freopen) 语句都应该恰好是\n\n```cpp\nstd::freopen(\"<title>\",\"<mode>\",<stream>);\n```\n\n其中 `<title>` 为其操作的文件名称。其至少包含一个字符，并且只可能包含下列几种字符：\n- 大写英文字符；\n- 小写英文字符；\n- 阿拉伯数字；\n- 英文半角句点 `.`。\n\n`<mode>` 为文件访问标记，其只可能为 `r`、`w`、`a` 中的一种。`<stream>` 为文件流，其只可能为 `stdin`、`stdout`、`stderr` 中的一种。\n\t\n你需要回答 $T$ 次询问。", "inputFormat": "**本题单个测试点内含有多组询问。**\n\n第一行一个正整数 $T$，代表询问次数。\n\n对于每组询问：一行一个字符串，代表一条 [`std::freopen`](https://zh.cppreference.com/w/cpp/io/c/freopen) 语句。", "outputFormat": "对于每组询问，输出一行一个字符串，代表其操作的文件名称。", "hint": "**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le T \\le 1000$。\n- 每条语句的长度均不超过 $1000$。\n\n具体部分分分配如下：\n\n- Subtask 1 (30pts)：保证文件名为 `5k.sync.closer`。\n- Subtask 2 (30pts)：保证文件名长度为 $1$。\n- Subtask 3 (40pts)：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P10398", "type": "P", "difficulty": 5, "samples": [["3\n1\n7\n3\n6 7 3\n4\n2 8 5 6\n", "Alice\nBob\nAlice\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "博弈论", "O2优化"], "title": "『STA - R5』Remove and Decrease Game", "background": "", "description": "给定 $n$ 堆石子，第 $i$ 堆有 $a_i$ 个，**保证 $\\bm{a_i}$ 互不相同**。\n\nAlice 和 Bob 轮流执行以下两种操作中的一种，并在操作后移除石子数为 $0$ 的石子堆。Alice 先手，不能执行操作的人判负。\n\n- 对于每堆石子均取走一个石子。\n- 移除石子数量最小的一堆石子。\n\n在两人均采取最优策略的情况下，问谁可以获胜。你需要回答 $T$ 次询问。", "inputFormat": "**本题单个测试点内含有多组询问。**\n\n第一行一个正整数 $T$，代表询问次数。\n\n对于每组询问：第一行一个正整数 $n$，代表石子堆数。第二行 $n$ 个正整数，第 $i$ 个正整数代表 $a_i$。", "outputFormat": "对于每组询问，输出一行 `Alice` 或 `Bob`，表示谁会获胜。", "hint": "**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le T \\le 2 \\times 10^5$；\n- $1 \\le n \\le 2 \\times 10^5$；\n- $1 \\le a_i \\le 10^9$；\n- $a_i$ 互不相同；\n- $\\sum n \\le 2 \\times 10^5$。\n\n具体部分分分配如下：\n\n|Subtask 编号|数据范围|分值|\n|:--------:|:--------:|:--------:|\n|1|$n \\le 2$|$3$|\n|2|$a_i \\le 1000$, $\\sum n \\le 10^4$|$23$|\n|3|$\\sum n^2 \\le 2 \\times 10^6$|$23$|\n|4|$10^8 \\le a_i \\le 10^9$|$23$|\n|5|无特殊限制|$28$|\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R5』Remove and Decrease Game", "background": "", "description": "给定 $n$ 堆石子，第 $i$ 堆有 $a_i$ 个，**保证 $\\bm{a_i}$ 互不相同**。\n\nAlice 和 Bob 轮流执行以下两种操作中的一种，并在操作后移除石子数为 $0$ 的石子堆。Alice 先手，不能执行操作的人判负。\n\n- 对于每堆石子均取走一个石子。\n- 移除石子数量最小的一堆石子。\n\n在两人均采取最优策略的情况下，问谁可以获胜。你需要回答 $T$ 次询问。", "inputFormat": "**本题单个测试点内含有多组询问。**\n\n第一行一个正整数 $T$，代表询问次数。\n\n对于每组询问：第一行一个正整数 $n$，代表石子堆数。第二行 $n$ 个正整数，第 $i$ 个正整数代表 $a_i$。", "outputFormat": "对于每组询问，输出一行 `Alice` 或 `Bob`，表示谁会获胜。", "hint": "**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le T \\le 2 \\times 10^5$；\n- $1 \\le n \\le 2 \\times 10^5$；\n- $1 \\le a_i \\le 10^9$；\n- $a_i$ 互不相同；\n- $\\sum n \\le 2 \\times 10^5$。\n\n具体部分分分配如下：\n\n|Subtask 编号|数据范围|分值|\n|:--------:|:--------:|:--------:|\n|1|$n \\le 2$|$3$|\n|2|$a_i \\le 1000$, $\\sum n \\le 10^4$|$23$|\n|3|$\\sum n^2 \\le 2 \\times 10^6$|$23$|\n|4|$10^8 \\le a_i \\le 10^9$|$23$|\n|5|无特殊限制|$28$|\n", "locale": "zh-CN"}}}
{"pid": "P10399", "type": "P", "difficulty": 6, "samples": [["5 4\n48 52 8 27 34 \n3 4 3 2 2 \n2 2 3\n2 1 5\n1 1 34 4\n2 1 3\n", "72\n133333711\n333333468"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "『STA - R5』ReLyna", "background": "![](https://pic.imgdb.cn/item/661a29dd68eb93571321ac89.webp)", "description": "你手中有一个数字 $x$。走到位置 $i$ 时你可以将手中的数字变为 $x+a_i$ 或 $x\\times b_i$。\n\n有 $m$ 次操作。\n\n- `1 x y z`，执行 $a_x\\gets y$，$b_x\\gets z$。\n\n- `2 l r`，查询若你从 $[l,r]$ 的所有子区间中等概率选择一个子区间 $[l',r']$，则你从 $l'$ 走到 $r'$ 后手中的数的最大值的期望是多少？答案对 $10^9+7$ 取模。每次行动开始前你手中的数字都会归零。\n\n如果你不知道有理数如何取模，可以参考 [P2613 有理数取余](https://www.luogu.com.cn/problem/P2613)。\n\n可参考样例解释理解题意。", "inputFormat": "第一行两个整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个整数代表 $a_i$。\n\n第三行 $n$ 个整数，第 $i$ 个整数代表 $b_i$。\n\n后 $m$ 行每行描述一次操作，格式见题目描述。", "outputFormat": "对于每个询问，输出对应的期望。答案对 $10^9+7$ 取模。", "hint": "**样例解释**\n\n对于第一次询问，令 $f(i,j)$ 为你从 $i$ 开始顺次走到 $j$ 后手中的数的最大值，则答案为 $\\frac{1}{3}[f(2,2)+f(2,3)+f(3,3)]=\\frac{1}{3}(52+156+8)=72$。\n\n**数据范围**\n\n| 子任务编号 | $n$ | $m$ | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| Subtask #1 | $50$ | $50$ | 无 | 5 |\n| Subtask #2 | $500$ | $500$ | 无 | 5 |\n| Subtask #3 | $10^5$ | $10^5$ | 保证任何时刻 $a_i=1$ | 25 |\n| Subtask #4 | $10^5$ | $50$ | 无 | 25 |\n| Subtask #5 | $10^5$ | $10^5$ | 没有修改操作 | 25 |\n| Subtask #6 | $10^5$ | $10^5$ | 无 | 15 |\n\n对于所有数据，$1\\le n,m\\le 10^5$，$0<a_i<10^9+7$，$1<b_i<10^9+7$，保证操作合法，保证所有输入均为整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R5』ReLyna", "background": "![](https://pic.imgdb.cn/item/661a29dd68eb93571321ac89.webp)", "description": "你手中有一个数字 $x$。走到位置 $i$ 时你可以将手中的数字变为 $x+a_i$ 或 $x\\times b_i$。\n\n有 $m$ 次操作。\n\n- `1 x y z`，执行 $a_x\\gets y$，$b_x\\gets z$。\n\n- `2 l r`，查询若你从 $[l,r]$ 的所有子区间中等概率选择一个子区间 $[l',r']$，则你从 $l'$ 走到 $r'$ 后手中的数的最大值的期望是多少？答案对 $10^9+7$ 取模。每次行动开始前你手中的数字都会归零。\n\n如果你不知道有理数如何取模，可以参考 [P2613 有理数取余](https://www.luogu.com.cn/problem/P2613)。\n\n可参考样例解释理解题意。", "inputFormat": "第一行两个整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个整数代表 $a_i$。\n\n第三行 $n$ 个整数，第 $i$ 个整数代表 $b_i$。\n\n后 $m$ 行每行描述一次操作，格式见题目描述。", "outputFormat": "对于每个询问，输出对应的期望。答案对 $10^9+7$ 取模。", "hint": "**样例解释**\n\n对于第一次询问，令 $f(i,j)$ 为你从 $i$ 开始顺次走到 $j$ 后手中的数的最大值，则答案为 $\\frac{1}{3}[f(2,2)+f(2,3)+f(3,3)]=\\frac{1}{3}(52+156+8)=72$。\n\n**数据范围**\n\n| 子任务编号 | $n$ | $m$ | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| Subtask #1 | $50$ | $50$ | 无 | 5 |\n| Subtask #2 | $500$ | $500$ | 无 | 5 |\n| Subtask #3 | $10^5$ | $10^5$ | 保证任何时刻 $a_i=1$ | 25 |\n| Subtask #4 | $10^5$ | $50$ | 无 | 25 |\n| Subtask #5 | $10^5$ | $10^5$ | 没有修改操作 | 25 |\n| Subtask #6 | $10^5$ | $10^5$ | 无 | 15 |\n\n对于所有数据，$1\\le n,m\\le 10^5$，$0<a_i<10^9+7$，$1<b_i<10^9+7$，保证操作合法，保证所有输入均为整数。", "locale": "zh-CN"}}}
{"pid": "P10400", "type": "P", "difficulty": 7, "samples": [], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["提交答案", "Special Judge", "O2优化"], "title": "『STA - R5』消失的计算机", "background": "", "description": "**本题为提交答案题。**\n\n后台有一个正整数 $n$（你不知道 $n$ 具体的值）。\n\n你有 $10^3$ 个变量 $p_1,p_2,\\cdots,p_{10^3}$，初始 $p_1=n$，$p_2=p_3=\\cdots=p_{10^3}=0$。\n\n你需要写一个程序完成一些任务，程序包含下面几种语句可供使用：\n- `new x`，令 $n\\gets n+1$，$p_x\\gets n$。\n- `dec x`，令 $p_x\\gets p_x-1$。\n- `assign x y`，令 $p_x\\gets p_y$。\n- `iftry x goto l`，如果 $p_x \\ge 0$，跳转到第 $l$ 条语句。\n- `ifeq x y goto l`，如果 $p_x = p_y$，跳转到第 $l$ 条语句。\n- `ifneq x y goto l`，如果 $p_x\\neq p_y$，跳转到第 $l$ 条语句。\n\n对于后三种语句，**如果当前语句是第 $\\bm{l_0}$ 条，那么要求 $\\bm{l<l_0}$。**\n\n你不得使用超过 $1000$ 条语句或是标号超过 $1000$ 的变量。你的程序实际语句运行次数不得超过 $10^5$。\n\n令程序执行前的 $n$ 值为程序的输入，程序执行后的 $n$ 值为程序的输出，你需要分别完成下面 $10$ 个任务：\n\n1. 输入 $n$，输出 $2n$。\n1. 输入 $n$，输出 $\\binom n2$。\n1. 输入 $n$，输出 $600$。\n1. 输入 $n$，输出 $n + 1$。\n1. 输入 $n$，输出 $n^2 - 1$。\n1. 输入 $n$，输出 $n + 2000$。\n1. 输入 $n$，输出 $n + \\lfloor \\log_2 n\\rfloor$。\n1. 输入 $n$，输出 $n + \\left(n \\bmod 2\\right) + 1$。\n1. 输入 $n$，输出 $n+\\gcd(n, n - 4) + 1$。\n1. 输入 $n$，输出一个满足 $|x-n\\ln n|\\le 30$ 的正整数 $x$。\n\n**注：子任务按长度排序，与难度无关。**", "inputFormat": "该题为提交答案型试题，每个测试点对应的任务见【题目描述】。", "outputFormat": "针对给定的 $10$ 个任务，你需要分别提交你的输出文件 ``1.out`` ~ ``10.out``。\n\n每个文件需要输出若干行。\n\n第一行一个非负整数 $L$，代表你使用的语句数量。\n\n接下来 $L$ 行，每行一个语句。", "hint": "**评分标准**\n\n对于每个测试点，其内部会评测若干组测试数据。\n\n若你的输出出现下列情况，那么该测试点不得分：\n\n- 输出与要求不符。\n- 实际语句运行次数大于 $10^5$。\n- 出现无法识别或不合法的语句。\n- 使用超过 $1000$ 条语句或是标号超过 $1000$ 的变量。\n\n否则设对应子任务的评分标准为 $L_0$，那么你的得分为：\n\n$$\\mathrm{score}=\\begin{cases}11&L_0>L\\\\\\Big\\lfloor\\frac{10}{\\exp\\left(1-\\frac {L_0}L\\right)}\\Big\\rfloor&\\text{otherwise.}\\end{cases}$$\n\n下面给出各个任务对应的评分标准 $L_0$:\n\n| 编号 | $1$ | $2$ | $3$ | $4$ | $5$| $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: |  :-: | :-: | :-: | :-: | :-: |\n| $L_0$ | $3$ | $9$ | $233$ | $1$ | $10$| $29$ | $14$ | $7$ | $18$ | $14$ |\n\n**数据范围**\n\n保证 $5 \\le n \\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R5』消失的计算机", "background": "", "description": "**本题为提交答案题。**\n\n后台有一个正整数 $n$（你不知道 $n$ 具体的值）。\n\n你有 $10^3$ 个变量 $p_1,p_2,\\cdots,p_{10^3}$，初始 $p_1=n$，$p_2=p_3=\\cdots=p_{10^3}=0$。\n\n你需要写一个程序完成一些任务，程序包含下面几种语句可供使用：\n- `new x`，令 $n\\gets n+1$，$p_x\\gets n$。\n- `dec x`，令 $p_x\\gets p_x-1$。\n- `assign x y`，令 $p_x\\gets p_y$。\n- `iftry x goto l`，如果 $p_x \\ge 0$，跳转到第 $l$ 条语句。\n- `ifeq x y goto l`，如果 $p_x = p_y$，跳转到第 $l$ 条语句。\n- `ifneq x y goto l`，如果 $p_x\\neq p_y$，跳转到第 $l$ 条语句。\n\n对于后三种语句，**如果当前语句是第 $\\bm{l_0}$ 条，那么要求 $\\bm{l<l_0}$。**\n\n你不得使用超过 $1000$ 条语句或是标号超过 $1000$ 的变量。你的程序实际语句运行次数不得超过 $10^5$。\n\n令程序执行前的 $n$ 值为程序的输入，程序执行后的 $n$ 值为程序的输出，你需要分别完成下面 $10$ 个任务：\n\n1. 输入 $n$，输出 $2n$。\n1. 输入 $n$，输出 $\\binom n2$。\n1. 输入 $n$，输出 $600$。\n1. 输入 $n$，输出 $n + 1$。\n1. 输入 $n$，输出 $n^2 - 1$。\n1. 输入 $n$，输出 $n + 2000$。\n1. 输入 $n$，输出 $n + \\lfloor \\log_2 n\\rfloor$。\n1. 输入 $n$，输出 $n + \\left(n \\bmod 2\\right) + 1$。\n1. 输入 $n$，输出 $n+\\gcd(n, n - 4) + 1$。\n1. 输入 $n$，输出一个满足 $|x-n\\ln n|\\le 30$ 的正整数 $x$。\n\n**注：子任务按长度排序，与难度无关。**", "inputFormat": "该题为提交答案型试题，每个测试点对应的任务见【题目描述】。", "outputFormat": "针对给定的 $10$ 个任务，你需要分别提交你的输出文件 ``1.out`` ~ ``10.out``。\n\n每个文件需要输出若干行。\n\n第一行一个非负整数 $L$，代表你使用的语句数量。\n\n接下来 $L$ 行，每行一个语句。", "hint": "**评分标准**\n\n对于每个测试点，其内部会评测若干组测试数据。\n\n若你的输出出现下列情况，那么该测试点不得分：\n\n- 输出与要求不符。\n- 实际语句运行次数大于 $10^5$。\n- 出现无法识别或不合法的语句。\n- 使用超过 $1000$ 条语句或是标号超过 $1000$ 的变量。\n\n否则设对应子任务的评分标准为 $L_0$，那么你的得分为：\n\n$$\\mathrm{score}=\\begin{cases}11&L_0>L\\\\\\Big\\lfloor\\frac{10}{\\exp\\left(1-\\frac {L_0}L\\right)}\\Big\\rfloor&\\text{otherwise.}\\end{cases}$$\n\n下面给出各个任务对应的评分标准 $L_0$:\n\n| 编号 | $1$ | $2$ | $3$ | $4$ | $5$| $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: |  :-: | :-: | :-: | :-: | :-: |\n| $L_0$ | $3$ | $9$ | $233$ | $1$ | $10$| $29$ | $14$ | $7$ | $18$ | $14$ |\n\n**数据范围**\n\n保证 $5 \\le n \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P10401", "type": "P", "difficulty": 3, "samples": [["6 1\n1 1 4 5 1 4\n1 6", "18"], ["7 10\n1 9 1 9 8 1 0\n1 2\n1 3\n1 4\n1 5\n1 6\n1 7\n2 6\n3 5\n4 7\n2 7", "11\n0\n20\n8\n21\n8\n23\n25\n24\n11"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["洛谷原创", "O2优化", "枚举", "前缀和", "离线处理"], "title": "「XSOI-R1」区间操作 (opt)", "background": "小 A 喜欢区间操作问题。", "description": "小 A 给你了一个长度为 $n$ 的序列 $a$，并给你了 $q$ 组询问。\n\n对于每组询问，小 A 会给你两个正整数 $l,r$，你需要求出 $(a_l) \\oplus (a_l+a_{l+1}) \\oplus (a_l+a_{l+1}+a_{l+2}) \\oplus \\dots \\oplus (a_l + a_{l+1} + a_{l+2} + \\dots + a_r)$ 的值。\n\n其中 $\\oplus$ 表示异或运算。", "inputFormat": "第一行两个正整数 $n,q$，\n\n之后一行 $n$ 个整数 $a_i$，\n\n之后 $q$ 行每行两个正整数 $l,r$。", "outputFormat": "共 $q$ 行，\n\n每行一个整数表示你的答案。", "hint": "**【样例解释 #1】**\n\n$1 \\oplus (1 + 1) \\oplus (1 + 1 + 4) \\oplus (1 + 1 + 4 + 5) \\oplus (1 + 1 + 4 + 5 + 1) \\oplus (1 + 1 + 4 + 5 + 1 + 4) = 18$。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 0（13 pts）：保证 $n,q \\le 10^2$。\n\n- Subtask 1（28 pts）：保证 $n,q \\le 10^4$。\n\n- Subtask 2（19 pts）：保证 $a_i \\le 10^4$。\n\n- Subtask 3（7 pts）：保证 $n \\le 10^2$。\n\n- Subtask 4（17 pts）：保证 $a_i$ 均为 $2$ 的非负整数次幂。\n\n- Subtask 5（16 pts）：无特殊限制。\n\n对于所有测试数据，$1 \\le l \\le r \\le n \\le 10^4$，$1 \\le q \\le 10^6$，$0 \\le a_i \\le 10^{10}$。\n\nupd（2024.7.3）：添加一组 hack 数据，减少一组数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「XSOI-R1」区间操作 (opt)", "background": "小 A 喜欢区间操作问题。", "description": "小 A 给你了一个长度为 $n$ 的序列 $a$，并给你了 $q$ 组询问。\n\n对于每组询问，小 A 会给你两个正整数 $l,r$，你需要求出 $(a_l) \\oplus (a_l+a_{l+1}) \\oplus (a_l+a_{l+1}+a_{l+2}) \\oplus \\dots \\oplus (a_l + a_{l+1} + a_{l+2} + \\dots + a_r)$ 的值。\n\n其中 $\\oplus$ 表示异或运算。", "inputFormat": "第一行两个正整数 $n,q$，\n\n之后一行 $n$ 个整数 $a_i$，\n\n之后 $q$ 行每行两个正整数 $l,r$。", "outputFormat": "共 $q$ 行，\n\n每行一个整数表示你的答案。", "hint": "**【样例解释 #1】**\n\n$1 \\oplus (1 + 1) \\oplus (1 + 1 + 4) \\oplus (1 + 1 + 4 + 5) \\oplus (1 + 1 + 4 + 5 + 1) \\oplus (1 + 1 + 4 + 5 + 1 + 4) = 18$。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 0（13 pts）：保证 $n,q \\le 10^2$。\n\n- Subtask 1（28 pts）：保证 $n,q \\le 10^4$。\n\n- Subtask 2（19 pts）：保证 $a_i \\le 10^4$。\n\n- Subtask 3（7 pts）：保证 $n \\le 10^2$。\n\n- Subtask 4（17 pts）：保证 $a_i$ 均为 $2$ 的非负整数次幂。\n\n- Subtask 5（16 pts）：无特殊限制。\n\n对于所有测试数据，$1 \\le l \\le r \\le n \\le 10^4$，$1 \\le q \\le 10^6$，$0 \\le a_i \\le 10^{10}$。\n\nupd（2024.7.3）：添加一组 hack 数据，减少一组数据。", "locale": "zh-CN"}}}
{"pid": "P10402", "type": "P", "difficulty": 3, "samples": [["5 25 3\n3 3 3 3 3", "5\nadd 1\nadd 2\nsub 3\nsub 4\nadd 5\n"], ["3 9 3\n1 3 3", "5\nsqrt 2\nsqrt 3\nadd 1\nmul 2\nmul 3\n"], ["3 9 77\n4 5 4", "4\nadd 1\nadd 2\npow 2\nsub 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "洛谷原创", "Special Judge", "O2优化", "构造"], "title": "「XSOI-R1」凑点", "background": "", "description": "小 T 会给你一个长度为 $n$ 的整数数列，你手上有一个数 $x$，初始为 $0$，你可以执行以下操作，使得最终 $x$ 与 $c$ 的差小于 $10^{-4}$。\n\n你可以对 $x$ 进行至多 $k$ 次操作：\n\n- `add i`，对计数器 $x$ 加上 $a_i$，然后 $a_i$ 不能再进行任何操作。\n\n- `sub i`，对计数器 $x$ 减上 $a_i$，然后 $a_i$ 不能再进行任何操作。\n\n- `mul i`，对计数器 $x$ 乘上 $a_i$，然后 $a_i$ 不能再进行任何操作。\n\n- `sqrt i`，将 $a_i$ 赋值为 $\\sqrt {a_i}$，每个 $a_i$ 只能开方一次。\n\n- `pow f`，将计数器 $x$ 变为 $x^f$，$f$ 可以为浮点数。\n\n所有 $a_i$ 都必须给 $x$ 进行一次加或减或乘操作。\n\n在运算过程中，$a_i$ 和 $x$ 的值均不能超过 $10^{10}$。题目保证有解，如有多种方案，输出一种即可。\n\n本题精度要求较大，请提高算法的精度。", "inputFormat": "第一行三个整数 $n$，$k$，$c$。\n\n第二行 $n$ 个整数，表示序列 $a$。", "outputFormat": "第一行一个整数表示总操作数 $g$。\n\n接下来 $g$ 行为你的操作序列。", "hint": "**【样例解释 #1】**\n\n- $x$ 加上 $a_1$，此时 $x$ 为 $3$。\n\n- $x$ 加上 $a_2$，此时 $x$ 为 $6$。\n\n- $x$ 减去 $a_3$，此时 $x$ 为 $3$。\n\n- $x$ 减去 $a_4$，此时 $x$ 为 $0$。\n\n- $x$ 加上 $a_5$，此时 $x$ 为 $3$。\n\n**【样例解释 #2】**\n\n- 将 $a_2$ 开根号，此时 $a=[1,\\sqrt3,3]$。\n\n- 将 $a_3$ 开根号，此时 $a=[1,\\sqrt3,\\sqrt3]$。\n\n- $x$ 加上 $a_1$，此时 $x$ 为 $1$。\n\n- $x$ 乘上 $a_2$，此时 $x$ 为 $\\sqrt3$。\n\n- $x$ 乘上 $a_3$，此时 $x$ 为 $3$。\n\n**【样例解释 #3】**\n\n- $x$ 加上 $a_1$，此时 $x$ 为 $4$。\n\n- $x$ 加上 $a_2$，此时 $x$ 为 $9$。\n\n- 将 $x$ 变为 $x^2$，此时 $x$ 为 $81$。\n\n- 将 $x$ 减去 $a_3$，此时 $x$ 为 $77$。\n\n### 数据规模与约定\n\n\n**本题采用捆绑测试。**\n\n- subtask 0（10 pts）：$n\\leq 5$，$k=n^2$，保证可以使用加与减的运算得到解。\n\n- subtask 1（20 pts）：$n \\leq 5$，$k=n^2$，保证可以可以使用加、减、乘、开方运算得到解。\n\n- subtask 2（15 pts）：$n \\leq 10$，$a_i \\leq 2$，$k=n+1$。\n\n- subtask 3（55 pts）：$k=n+1$。\n\n对于所有数据：$0 \\leq n \\leq 10^{5}$，$\\sum_{i=1}^{n}{a_i} \\le 10^{10}$，$0 \\leq c\\leq 10^{10}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「XSOI-R1」凑点", "background": "", "description": "小 T 会给你一个长度为 $n$ 的整数数列，你手上有一个数 $x$，初始为 $0$，你可以执行以下操作，使得最终 $x$ 与 $c$ 的差小于 $10^{-4}$。\n\n你可以对 $x$ 进行至多 $k$ 次操作：\n\n- `add i`，对计数器 $x$ 加上 $a_i$，然后 $a_i$ 不能再进行任何操作。\n\n- `sub i`，对计数器 $x$ 减上 $a_i$，然后 $a_i$ 不能再进行任何操作。\n\n- `mul i`，对计数器 $x$ 乘上 $a_i$，然后 $a_i$ 不能再进行任何操作。\n\n- `sqrt i`，将 $a_i$ 赋值为 $\\sqrt {a_i}$，每个 $a_i$ 只能开方一次。\n\n- `pow f`，将计数器 $x$ 变为 $x^f$，$f$ 可以为浮点数。\n\n所有 $a_i$ 都必须给 $x$ 进行一次加或减或乘操作。\n\n在运算过程中，$a_i$ 和 $x$ 的值均不能超过 $10^{10}$。题目保证有解，如有多种方案，输出一种即可。\n\n本题精度要求较大，请提高算法的精度。", "inputFormat": "第一行三个整数 $n$，$k$，$c$。\n\n第二行 $n$ 个整数，表示序列 $a$。", "outputFormat": "第一行一个整数表示总操作数 $g$。\n\n接下来 $g$ 行为你的操作序列。", "hint": "**【样例解释 #1】**\n\n- $x$ 加上 $a_1$，此时 $x$ 为 $3$。\n\n- $x$ 加上 $a_2$，此时 $x$ 为 $6$。\n\n- $x$ 减去 $a_3$，此时 $x$ 为 $3$。\n\n- $x$ 减去 $a_4$，此时 $x$ 为 $0$。\n\n- $x$ 加上 $a_5$，此时 $x$ 为 $3$。\n\n**【样例解释 #2】**\n\n- 将 $a_2$ 开根号，此时 $a=[1,\\sqrt3,3]$。\n\n- 将 $a_3$ 开根号，此时 $a=[1,\\sqrt3,\\sqrt3]$。\n\n- $x$ 加上 $a_1$，此时 $x$ 为 $1$。\n\n- $x$ 乘上 $a_2$，此时 $x$ 为 $\\sqrt3$。\n\n- $x$ 乘上 $a_3$，此时 $x$ 为 $3$。\n\n**【样例解释 #3】**\n\n- $x$ 加上 $a_1$，此时 $x$ 为 $4$。\n\n- $x$ 加上 $a_2$，此时 $x$ 为 $9$。\n\n- 将 $x$ 变为 $x^2$，此时 $x$ 为 $81$。\n\n- 将 $x$ 减去 $a_3$，此时 $x$ 为 $77$。\n\n### 数据规模与约定\n\n\n**本题采用捆绑测试。**\n\n- subtask 0（10 pts）：$n\\leq 5$，$k=n^2$，保证可以使用加与减的运算得到解。\n\n- subtask 1（20 pts）：$n \\leq 5$，$k=n^2$，保证可以可以使用加、减、乘、开方运算得到解。\n\n- subtask 2（15 pts）：$n \\leq 10$，$a_i \\leq 2$，$k=n+1$。\n\n- subtask 3（55 pts）：$k=n+1$。\n\n对于所有数据：$0 \\leq n \\leq 10^{5}$，$\\sum_{i=1}^{n}{a_i} \\le 10^{10}$，$0 \\leq c\\leq 10^{10}$。", "locale": "zh-CN"}}}
{"pid": "P10403", "type": "P", "difficulty": 4, "samples": [["5\n2 3 6 3 9", "8"], ["5\n2 2 2 2 2", "16"], ["9\n6 2 3 6 4 6 8 2 5", "19"]], "limits": {"time": [750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750, 750], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "二分", "2024", "洛谷原创", "O2优化", "枚举", "ST 表", "双指针 two-pointer"], "title": "「XSOI-R1」跳跃游戏", "background": "本来可怜的 $\\texttt{MhxMa}$ 想出这道题，但是已经被 $\\texttt{Ferm\\_Tawn}$ 抢了，此时 $\\texttt{MhxMa}$ 坐在电脑面前，看着马上要造好的数据，想象着自己的题难倒一大片选手的梦想破灭了。", "description": "这是一个跳跃游戏。在游戏中你可以跳到任意位置，其中有 $n$ 个点：$1 , 2 , 3, \\cdots , n$，跳到那里会有奖励分数 $a_1 , a_2 , \\cdots , a_n$。\n\n显然，这个游戏很简单，$\\texttt{MhxMa}$ 没过多久就获得了所有分数，于是改进了代码，添加了经验值这个参数。\n\n对于有奖励分数的 $n$ 个点，若从点 $x$ 跳到点 $y$，会获得经验值 $\\operatorname{score}_{x , y}(1\\le x\\le y\\le n)$：\n\n$$\\operatorname{score}_{x,y}=\\begin{cases}\\operatorname{len}  & \\operatorname{gcd}(a_x , a_{x+1} , \\dots , a_y)=2 , \\operatorname{len \\ mod} 2 = 0  \\\\ \\operatorname{len} &\\gcd(a_x , a_{x + 1} , \\dots , a_y)=3 , \\operatorname{len \\ mod} 2 = 1\\\\ 0 & \\operatorname{others} \\end{cases}$$\n\n其中，$\\operatorname {len}$ 表示区间的长度，即 $y-x+1$。\n\n**对于每一对位置 $(x,y)$，多次跳跃只会获得一次经验值。**\n\n为了向 $\\texttt{MhxMa}$ 展现你的编程实力，你决定写一个代码算出这个游戏能刷到的最大经验值。", "inputFormat": "输入共两行。\n\n输入第一行包含一个整数 $n$。\n\n第二行包含 $n$ 个整数 $a_i$。", "outputFormat": "输出一个整数，表示答案。", "hint": "**请使用较快的读入方式。**\n\n### 样例解释 #1\n\n$\\operatorname{score_{2 , 2}}= 1$。\n\n$\\operatorname{score_{2 , 4}}= 3$。\n\n$\\operatorname{score_{3 , 5}}= 3$。\n\n$\\operatorname{score_{4 , 4}}= 1$。\n\n$1+3+3+1=8$。\n\n### 样例解释 #2\n\n$\\operatorname{score_{1 , 2}}= 2$。\n\n$\\operatorname{score_{1 , 4}}= 4$。\n\n$\\operatorname{score_{2 , 3}}= 2$。\n\n$\\operatorname{score_{2 , 5}}= 4$。\n\n$\\operatorname{score_{3 , 4}}= 2$。\n\n$\\operatorname{score_{4 , 5}}= 2$。\n\n$2+ 4 + 2 + 4 + 2 + 2 = 16$。\n\n------------\n### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n- Subtask 0（20 pts）：$n \\le 10^2$。 \n\n- Subtask 1（10 pts）：$n \\le 2 \\times 10^3$。\n\n- Subtask 2（20 pts）：$n \\le 10^4$。\n\n- Subtask 3（50 pts）：$n \\le 6 \\times 10^5 $。\n\n\n对于所有测试数据，$1 \\le n \\le 6 \\times 10^5$，$1 \\le a_i \\le 10^7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「XSOI-R1」跳跃游戏", "background": "本来可怜的 $\\texttt{MhxMa}$ 想出这道题，但是已经被 $\\texttt{Ferm\\_Tawn}$ 抢了，此时 $\\texttt{MhxMa}$ 坐在电脑面前，看着马上要造好的数据，想象着自己的题难倒一大片选手的梦想破灭了。", "description": "这是一个跳跃游戏。在游戏中你可以跳到任意位置，其中有 $n$ 个点：$1 , 2 , 3, \\cdots , n$，跳到那里会有奖励分数 $a_1 , a_2 , \\cdots , a_n$。\n\n显然，这个游戏很简单，$\\texttt{MhxMa}$ 没过多久就获得了所有分数，于是改进了代码，添加了经验值这个参数。\n\n对于有奖励分数的 $n$ 个点，若从点 $x$ 跳到点 $y$，会获得经验值 $\\operatorname{score}_{x , y}(1\\le x\\le y\\le n)$：\n\n$$\\operatorname{score}_{x,y}=\\begin{cases}\\operatorname{len}  & \\operatorname{gcd}(a_x , a_{x+1} , \\dots , a_y)=2 , \\operatorname{len \\ mod} 2 = 0  \\\\ \\operatorname{len} &\\gcd(a_x , a_{x + 1} , \\dots , a_y)=3 , \\operatorname{len \\ mod} 2 = 1\\\\ 0 & \\operatorname{others} \\end{cases}$$\n\n其中，$\\operatorname {len}$ 表示区间的长度，即 $y-x+1$。\n\n**对于每一对位置 $(x,y)$，多次跳跃只会获得一次经验值。**\n\n为了向 $\\texttt{MhxMa}$ 展现你的编程实力，你决定写一个代码算出这个游戏能刷到的最大经验值。", "inputFormat": "输入共两行。\n\n输入第一行包含一个整数 $n$。\n\n第二行包含 $n$ 个整数 $a_i$。", "outputFormat": "输出一个整数，表示答案。", "hint": "**请使用较快的读入方式。**\n\n### 样例解释 #1\n\n$\\operatorname{score_{2 , 2}}= 1$。\n\n$\\operatorname{score_{2 , 4}}= 3$。\n\n$\\operatorname{score_{3 , 5}}= 3$。\n\n$\\operatorname{score_{4 , 4}}= 1$。\n\n$1+3+3+1=8$。\n\n### 样例解释 #2\n\n$\\operatorname{score_{1 , 2}}= 2$。\n\n$\\operatorname{score_{1 , 4}}= 4$。\n\n$\\operatorname{score_{2 , 3}}= 2$。\n\n$\\operatorname{score_{2 , 5}}= 4$。\n\n$\\operatorname{score_{3 , 4}}= 2$。\n\n$\\operatorname{score_{4 , 5}}= 2$。\n\n$2+ 4 + 2 + 4 + 2 + 2 = 16$。\n\n------------\n### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n- Subtask 0（20 pts）：$n \\le 10^2$。 \n\n- Subtask 1（10 pts）：$n \\le 2 \\times 10^3$。\n\n- Subtask 2（20 pts）：$n \\le 10^4$。\n\n- Subtask 3（50 pts）：$n \\le 6 \\times 10^5 $。\n\n\n对于所有测试数据，$1 \\le n \\le 6 \\times 10^5$，$1 \\le a_i \\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P10404", "type": "P", "difficulty": 4, "samples": [["4\n45 66\n100 140\n2 90\n114514 1919810", "4\n6\n23\n13321"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["洛谷原创", "O2优化", "素数判断,质数,筛法"], "title": "「XSOI-R1」原神数", "background": "", "description": "原神数 $x$ 需要同时满足以下条件：\n\n- $x$ 为质数。\n\n- $x$ 的十进制位两两不同。\n\n比如 $131$ 不是原神数，因为他的百位和个位相等；$42$ 也不是，因为不是质数；$17$ 就是一个原神数。\n\n有 $q$ 次询问，现在要你求出 $l$ 到 $r$ 之间的原神数数量。", "inputFormat": "第一行一个正整数 $q$。\n\n接下来 $q$ 行每行两个正整数 $l$，$r$。", "outputFormat": "$q$ 行 $q$ 个正整数，表示答案。", "hint": "**【样例解释 #1】**\n\n在 $100 \\sim 140$ 之间的原神数有 $103,107,109,127,137,139$，共 $6$ 个。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- subtask 0（15 pts）：$1 \\le l \\le r \\le 10^2$。\n\n- subtask 1（15 pts）：$1 \\le l \\le r \\le 10^4$。\n\n- subtask 2（35 pts）：$1 \\le l \\le r \\le 10^7$。\n\n- subtask 3（35 pts）：$1 \\le l \\le r \\le 10^{18}$。\n\n对于所有数据，保证 $1 \\leq l \\leq r \\leq 10^{18}$，$1 \\leq q\\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「XSOI-R1」原神数", "background": "", "description": "原神数 $x$ 需要同时满足以下条件：\n\n- $x$ 为质数。\n\n- $x$ 的十进制位两两不同。\n\n比如 $131$ 不是原神数，因为他的百位和个位相等；$42$ 也不是，因为不是质数；$17$ 就是一个原神数。\n\n有 $q$ 次询问，现在要你求出 $l$ 到 $r$ 之间的原神数数量。", "inputFormat": "第一行一个正整数 $q$。\n\n接下来 $q$ 行每行两个正整数 $l$，$r$。", "outputFormat": "$q$ 行 $q$ 个正整数，表示答案。", "hint": "**【样例解释 #1】**\n\n在 $100 \\sim 140$ 之间的原神数有 $103,107,109,127,137,139$，共 $6$ 个。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- subtask 0（15 pts）：$1 \\le l \\le r \\le 10^2$。\n\n- subtask 1（15 pts）：$1 \\le l \\le r \\le 10^4$。\n\n- subtask 2（35 pts）：$1 \\le l \\le r \\le 10^7$。\n\n- subtask 3（35 pts）：$1 \\le l \\le r \\le 10^{18}$。\n\n对于所有数据，保证 $1 \\leq l \\leq r \\leq 10^{18}$，$1 \\leq q\\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10405", "type": "P", "difficulty": 2, "samples": [["3\n1\n5\n10", "1\n5\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": [], "title": "「SMOI-R1」Queue", "background": "签到题……", "description": "有一个人数为 $n$ 的队伍，队伍中第 $i$ 个人编号为 $i$。\n\n从第一个人依次给后面的那个人传一个数，直到传到第 $n$ 个人。给后面的那个人传数的规则为：\n\n- 第一个人的数为 $1$。\n- 如果这个人的编号为奇数，那么给后面的人传的数是他现在的数**按位与**上后面那个人的编号。\n- 如果这个人的编号为偶数，那么给后面的人传的数是他现在的数**按位异或**上后面那个人的编号。\n\n求出传给第 $n$ 个人的数字。但是求一个的太好求了，所以你要求 $t$ 种情况的。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $t$，表示数据组数。\n\n对于每组数据：\n\n只有一个数 $n$，代表队伍人数。", "outputFormat": "对于每组数据，输出一个数，代表传给第 $n$ 个人的数字。", "hint": "### 样例解释\n\n对于第二组数据：\n\n- 第一个人向下一个人传的数是 $1\\operatorname{and}2=0$。\n- 第二个人向下一个人传的数是 $0\\operatorname{xor}3=3$。\n- 第三个人向下一个人传的数是 $3\\operatorname{and}4=0$。\n- 第四个人向下一个人传的数是 $0\\operatorname{xor}5=5$。\n\n所以答案是 $5$。\n\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask 编号|$t\\leq$| $n\\leq$| 分值\n-|-|-|-\n$1$|$10^2$|$10^5$|$20$\n$2$|$10^6$|$10^7$|$20$\n$3$|$10^6$|$10^{18}$|$60$\n\n对于 $100\\%$ 的数据,保证 $1\\le t\\le10^6,1\\le n\\le 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SMOI-R1」Queue", "background": "签到题……", "description": "有一个人数为 $n$ 的队伍，队伍中第 $i$ 个人编号为 $i$。\n\n从第一个人依次给后面的那个人传一个数，直到传到第 $n$ 个人。给后面的那个人传数的规则为：\n\n- 第一个人的数为 $1$。\n- 如果这个人的编号为奇数，那么给后面的人传的数是他现在的数**按位与**上后面那个人的编号。\n- 如果这个人的编号为偶数，那么给后面的人传的数是他现在的数**按位异或**上后面那个人的编号。\n\n求出传给第 $n$ 个人的数字。但是求一个的太好求了，所以你要求 $t$ 种情况的。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $t$，表示数据组数。\n\n对于每组数据：\n\n只有一个数 $n$，代表队伍人数。", "outputFormat": "对于每组数据，输出一个数，代表传给第 $n$ 个人的数字。", "hint": "### 样例解释\n\n对于第二组数据：\n\n- 第一个人向下一个人传的数是 $1\\operatorname{and}2=0$。\n- 第二个人向下一个人传的数是 $0\\operatorname{xor}3=3$。\n- 第三个人向下一个人传的数是 $3\\operatorname{and}4=0$。\n- 第四个人向下一个人传的数是 $0\\operatorname{xor}5=5$。\n\n所以答案是 $5$。\n\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask 编号|$t\\leq$| $n\\leq$| 分值\n-|-|-|-\n$1$|$10^2$|$10^5$|$20$\n$2$|$10^6$|$10^7$|$20$\n$3$|$10^6$|$10^{18}$|$60$\n\n对于 $100\\%$ 的数据,保证 $1\\le t\\le10^6,1\\le n\\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P10406", "type": "P", "difficulty": 5, "samples": [["3\n3 1 1\n3 1 2\n4 1 2 1\n2 3", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树形 DP"], "title": "「SMOI-R1」Company", "background": "LAR 被老板炒了，下面都是他的梦。", "description": "城市中有 $n$ 所公司，第 $i$ 所公司有 $m_i$ 个人。\n\n一所公司可以用一棵**根为 $1$ 的**树来表示，**最初时**节点 $1$ 是老板，每个节点的子节点都是他的下属，每个节点的父节点都是他的上司。第 $i$ 棵树的大小为 $m_i$，节点从 $1$ 到 $m_i$ 编号。\n\n公司很多，政府管理起来非常麻烦，所以政府想让 LAR 把这些公司合并起来。两所公司要合并起来，需要**一所**公司的一名**最初没有下属**的人（员工或**老板**）成为**另一所**公司现在的**老板的上司**。当两个公司合并完，两所公司就是**一所公司**了。\n\n只有**互为上司和下属**的两个人才认识。\n\nmyz 是第 $1$ 棵树的节点 $x$，ljs 是第 $2$ 棵树的节点 $y$。因为 myz 和 ljs 性格十分不相符（他们不认识），所以 LAR 想让他们的**关系越远越好**。\n\n互相认识的人距离为 $1$，**两人的关系**定义为两人的人际关系网上的最短距离（可以简单认为是最终形成的树中两点的最短距离）。例如，$1$ 认识 $2$，$2$ 认识 $3$，那么 $1$ 和 $3$ 的关系就是 $2$。", "inputFormat": "第一行有一个整数 $n$，代表公司数量。\n\n第二行到第 $n+1$ 行中，第 $i + 1$ 行第一个整数是 $m_i$，代表第 $i$ 所公司的人的数量。接下来有 $m_i - 1$ 个整数，第 $j$ 个数代表这棵树中节点 $j+1$ 的上司。\n\n第 $n+2$ 行有两个整数 $x$ 和 $y$，代表 myz 是第 $1$ 棵树的节点 $x$，ljs 是第 $2$ 棵树的节点 $y$。", "outputFormat": "输出一个整数，代表 myz 和 ljs 关系的最大值。", "hint": "### 样例解释\n在还没有进行合并操作时，城市中公司如下（括号中的数是节点**初始时**所在的公司）：\n![](https://cdn.luogu.com.cn/upload/image_hosting/1g1uvci4.png)\n\n想要让关系值最大，可以让最终的公司形成下图的样子：\n![](https://cdn.luogu.com.cn/upload/image_hosting/cj518ep6.png)\n\n答案为 $8$。\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask编号|$n\\leq$|$\\sum m \\leq$|特殊情况|分值\n-|-|-|-|-\n$1$|$2$|$10^3$|无|$20$\n$2$|$10^5$|$10^6$|$x = 1$，$y=1$|$20$\n$3$|$10^5$|$10^6$|所有树都是随机树|$20$\n$4$|$10^5$|$10^6$|无|$40$\n\n**随机树产生规则**：对于节点 $i$ （$2 \\le i \\le m$）的上司从 $1$ 到 $i - 1$ 中**等概率**产生。\n\n对于 $100\\%$ 的数据，$2\\leq n\\leq 10^5$，$1 \\le m_i$，$\\sum m \\leq 10^6$，$1\\leq x\\leq m_1$，$1\\leq y\\leq m_2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SMOI-R1」Company", "background": "LAR 被老板炒了，下面都是他的梦。", "description": "城市中有 $n$ 所公司，第 $i$ 所公司有 $m_i$ 个人。\n\n一所公司可以用一棵**根为 $1$ 的**树来表示，**最初时**节点 $1$ 是老板，每个节点的子节点都是他的下属，每个节点的父节点都是他的上司。第 $i$ 棵树的大小为 $m_i$，节点从 $1$ 到 $m_i$ 编号。\n\n公司很多，政府管理起来非常麻烦，所以政府想让 LAR 把这些公司合并起来。两所公司要合并起来，需要**一所**公司的一名**最初没有下属**的人（员工或**老板**）成为**另一所**公司现在的**老板的上司**。当两个公司合并完，两所公司就是**一所公司**了。\n\n只有**互为上司和下属**的两个人才认识。\n\nmyz 是第 $1$ 棵树的节点 $x$，ljs 是第 $2$ 棵树的节点 $y$。因为 myz 和 ljs 性格十分不相符（他们不认识），所以 LAR 想让他们的**关系越远越好**。\n\n互相认识的人距离为 $1$，**两人的关系**定义为两人的人际关系网上的最短距离（可以简单认为是最终形成的树中两点的最短距离）。例如，$1$ 认识 $2$，$2$ 认识 $3$，那么 $1$ 和 $3$ 的关系就是 $2$。", "inputFormat": "第一行有一个整数 $n$，代表公司数量。\n\n第二行到第 $n+1$ 行中，第 $i + 1$ 行第一个整数是 $m_i$，代表第 $i$ 所公司的人的数量。接下来有 $m_i - 1$ 个整数，第 $j$ 个数代表这棵树中节点 $j+1$ 的上司。\n\n第 $n+2$ 行有两个整数 $x$ 和 $y$，代表 myz 是第 $1$ 棵树的节点 $x$，ljs 是第 $2$ 棵树的节点 $y$。", "outputFormat": "输出一个整数，代表 myz 和 ljs 关系的最大值。", "hint": "### 样例解释\n在还没有进行合并操作时，城市中公司如下（括号中的数是节点**初始时**所在的公司）：\n![](https://cdn.luogu.com.cn/upload/image_hosting/1g1uvci4.png)\n\n想要让关系值最大，可以让最终的公司形成下图的样子：\n![](https://cdn.luogu.com.cn/upload/image_hosting/cj518ep6.png)\n\n答案为 $8$。\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask编号|$n\\leq$|$\\sum m \\leq$|特殊情况|分值\n-|-|-|-|-\n$1$|$2$|$10^3$|无|$20$\n$2$|$10^5$|$10^6$|$x = 1$，$y=1$|$20$\n$3$|$10^5$|$10^6$|所有树都是随机树|$20$\n$4$|$10^5$|$10^6$|无|$40$\n\n**随机树产生规则**：对于节点 $i$ （$2 \\le i \\le m$）的上司从 $1$ 到 $i - 1$ 中**等概率**产生。\n\n对于 $100\\%$ 的数据，$2\\leq n\\leq 10^5$，$1 \\le m_i$，$\\sum m \\leq 10^6$，$1\\leq x\\leq m_1$，$1\\leq y\\leq m_2$。", "locale": "zh-CN"}}}
{"pid": "P10407", "type": "P", "difficulty": 5, "samples": [["2\n2 3", "33"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "单调队列"], "title": "「SMOI-R1」Game", "background": "myz 很喜欢玩一款病毒游戏。", "description": "在这个游戏里，一开始有 $n$ 个病毒，每个病毒的危害值为 $1$。\n\n每隔一段时间，病毒就会变异，会分裂成两个病毒，右边的病毒会比左边的病毒危害值多 $1$，变异过的病毒不会再变异。\n\n每个病毒有个变异极限 $b_i$，当这个病毒变异到 $b_i$ 时，这个病毒就会停止变异。也就是说，第 $i$ 个病毒最后都会分裂成一个危害值为 $\\{1,2,3,\\ldots,b_i\\}$ 的病毒序列，当所有病毒变异完时，游戏开始，最终变异完的序列是 $\\{1,2,3,\\ldots,b_1,1,2,3,\\ldots,b_2,\\ldots,1,2,3,\\ldots,b_n\\}$。\n\n每次游戏，系统会选择一个区间，myz 需要把这个区间的病毒全部杀死，如果这个区间内的病毒的危害值的最大值是 $x$，那么 myz 需要花费 $x$ 的能量才能消灭它们。\n\n因为不知道系统会选择哪个区间，myz 想知道每个区间需要消耗的**能量值之和**。\n\n由于答案太大了，myz 想让你把答案对 $998244353$ 取模。", "inputFormat": "第一行有一个整数 $n$，表示最开始有 $n$ 个病毒。\n\n第二行有 $n$ 个整数，第 $i$ 个整数是 $b_i$，表示第 $i$ 个病毒的变异上限。", "outputFormat": "一个整数，表示 myz 需要消耗的能量值之和，答案对 $998244353$ 取模。", "hint": "### 样例解释\n第一个样例，病毒最后分裂成 $\\{1,2,1,2,3\\}$，区间  $[1,1],[1,2],[1,3],[1,4],[1,5],[2,2],[2,3],[2,4],[2,5],[3,3],[3,4],[3,5],[4,4],[4,5],[5,5]$ 的最小代价和就是 $1+2+2+2+3+2+2+2+3+1+2+3+2+3+3=33$。\n\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask 编号|$n\\leq$|$b_i\\leq$|特殊性质|分值\n-|-|-|-|-\n$1$|$10^2$|$10^2$|无|$20$\n$2$|$10^4$|$10^2$|无|$20$\n$3$|$10^6$|$10^9$|A|$20$\n$4$|$10^6$|$10^9$|无|$40$\n\n**特殊性质 A**： $b_1 \\leq b_2 \\leq \\ldots \\leq b_n$。\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le10^6$，$1\\le b_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SMOI-R1」Game", "background": "myz 很喜欢玩一款病毒游戏。", "description": "在这个游戏里，一开始有 $n$ 个病毒，每个病毒的危害值为 $1$。\n\n每隔一段时间，病毒就会变异，会分裂成两个病毒，右边的病毒会比左边的病毒危害值多 $1$，变异过的病毒不会再变异。\n\n每个病毒有个变异极限 $b_i$，当这个病毒变异到 $b_i$ 时，这个病毒就会停止变异。也就是说，第 $i$ 个病毒最后都会分裂成一个危害值为 $\\{1,2,3,\\ldots,b_i\\}$ 的病毒序列，当所有病毒变异完时，游戏开始，最终变异完的序列是 $\\{1,2,3,\\ldots,b_1,1,2,3,\\ldots,b_2,\\ldots,1,2,3,\\ldots,b_n\\}$。\n\n每次游戏，系统会选择一个区间，myz 需要把这个区间的病毒全部杀死，如果这个区间内的病毒的危害值的最大值是 $x$，那么 myz 需要花费 $x$ 的能量才能消灭它们。\n\n因为不知道系统会选择哪个区间，myz 想知道每个区间需要消耗的**能量值之和**。\n\n由于答案太大了，myz 想让你把答案对 $998244353$ 取模。", "inputFormat": "第一行有一个整数 $n$，表示最开始有 $n$ 个病毒。\n\n第二行有 $n$ 个整数，第 $i$ 个整数是 $b_i$，表示第 $i$ 个病毒的变异上限。", "outputFormat": "一个整数，表示 myz 需要消耗的能量值之和，答案对 $998244353$ 取模。", "hint": "### 样例解释\n第一个样例，病毒最后分裂成 $\\{1,2,1,2,3\\}$，区间  $[1,1],[1,2],[1,3],[1,4],[1,5],[2,2],[2,3],[2,4],[2,5],[3,3],[3,4],[3,5],[4,4],[4,5],[5,5]$ 的最小代价和就是 $1+2+2+2+3+2+2+2+3+1+2+3+2+3+3=33$。\n\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask 编号|$n\\leq$|$b_i\\leq$|特殊性质|分值\n-|-|-|-|-\n$1$|$10^2$|$10^2$|无|$20$\n$2$|$10^4$|$10^2$|无|$20$\n$3$|$10^6$|$10^9$|A|$20$\n$4$|$10^6$|$10^9$|无|$40$\n\n**特殊性质 A**： $b_1 \\leq b_2 \\leq \\ldots \\leq b_n$。\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le10^6$，$1\\le b_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10408", "type": "P", "difficulty": 5, "samples": [["2 5\n1 2 3 2\n1 2\n2 0 4\n1 2\n2 3 1\n1 3", "4\n7\n10"]], "limits": {"time": [680, 680, 680, 680, 680, 680, 680, 680, 680, 680], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "根号分治"], "title": "「SMOI-R1」Apple", "background": "**为了卡掉错误算法，我们把时限改为 680ms。**", "description": "LAR 有 $2^n$ 个苹果，苹果用 $0$ 到 $2^n - 1$ 编号，编号为 $i$ 的苹果的价值是 $v_i$。\n\n如果 $A\\operatorname{or}B=A$，那么可以说 $A$ 包含 $B$（$\\operatorname{or}$ 是按位或）。\n\n因为 LAR 的苹果太多了，所以他不知道如何挑选苹果。他想进行一些操作，方便他吃苹果。\n\n总共有两种操作，共 $q$ 个操作：\n\n- $1\\ S$ ，询问所有编号被 $S$ 包含的苹果的价值总和。\n- $2\\ S\\ A$ ，改变编号为 $S$ 的苹果的价值为 $A$（将 $v_S$ 改为 $A$）。", "inputFormat": "第一行有两个整数 $n$ 和 $q$。$q$ 代表操作次数。\n\n第二行有 $2^n$ 个数，第 $i$ 个数代表 $v_{i-1}$ 的值。\n\n接下来有 $q$ 行，每行代表 LAR 要进行的一个操作，详细见上文。", "outputFormat": "对于每个操作 $1$，输出一个数，代表这个询问的答案。", "hint": "### 样例解释\n初始时 $v=[1,2,3,2]$。\n\n第一个操作时询问所有编号被 $2$ 包含的苹果的价值总和。被 $2$ 包含的数为 $0,2$，所以答案为 $v_0 + v_2=4$。\n\n第二个操作是把 $v_0$ 改为 $4$，此时 $v=[4,2,3,2]$。\n\n第三个操作时询问所有编号被 $2$ 包含的苹果的价值总和。被 $2$ 包含的数为 $0,2$，所以答案为 $v_0 + v_2=7$。\n\n第四个操作是把 $v_3$ 改为 $1$，此时 $v=[4,2,3,1]$。\n\n第五个操作时询问所有编号被 $3$ 包含的苹果的价值总和。被 $3$ 包含的数为 $0,1,2,3$，所以答案为 $v_0 + v_1 + v_2 + v_3=10$。\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask 编号|$n\\leq$|$q\\leq$|特殊性质|分值\n-|-|-|-|-\n$1$|$10$|$10^4$|无|$10$\n$2$|$16$|$3\\times 10^5$|无|$20$\n$3$|$20$|$3\\times10^5$|只有操作 1|$10$\n$4$|$20$|$10^5$|无|$20$\n$5$|$20$|$3\\times10^5$|无|$40$\n\n对于 $100\\%$ 的数据，保证 $1\\le n \\leq 20$ ，$1 \\le q\\leq3\\times10^5$，$0\\leq v_i\\leq 2^{31}-1$ 。\n\n**提示**：本题输入量较大，请使用快读。请注意代码**常数**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SMOI-R1」Apple", "background": "**为了卡掉错误算法，我们把时限改为 680ms。**", "description": "LAR 有 $2^n$ 个苹果，苹果用 $0$ 到 $2^n - 1$ 编号，编号为 $i$ 的苹果的价值是 $v_i$。\n\n如果 $A\\operatorname{or}B=A$，那么可以说 $A$ 包含 $B$（$\\operatorname{or}$ 是按位或）。\n\n因为 LAR 的苹果太多了，所以他不知道如何挑选苹果。他想进行一些操作，方便他吃苹果。\n\n总共有两种操作，共 $q$ 个操作：\n\n- $1\\ S$ ，询问所有编号被 $S$ 包含的苹果的价值总和。\n- $2\\ S\\ A$ ，改变编号为 $S$ 的苹果的价值为 $A$（将 $v_S$ 改为 $A$）。", "inputFormat": "第一行有两个整数 $n$ 和 $q$。$q$ 代表操作次数。\n\n第二行有 $2^n$ 个数，第 $i$ 个数代表 $v_{i-1}$ 的值。\n\n接下来有 $q$ 行，每行代表 LAR 要进行的一个操作，详细见上文。", "outputFormat": "对于每个操作 $1$，输出一个数，代表这个询问的答案。", "hint": "### 样例解释\n初始时 $v=[1,2,3,2]$。\n\n第一个操作时询问所有编号被 $2$ 包含的苹果的价值总和。被 $2$ 包含的数为 $0,2$，所以答案为 $v_0 + v_2=4$。\n\n第二个操作是把 $v_0$ 改为 $4$，此时 $v=[4,2,3,2]$。\n\n第三个操作时询问所有编号被 $2$ 包含的苹果的价值总和。被 $2$ 包含的数为 $0,2$，所以答案为 $v_0 + v_2=7$。\n\n第四个操作是把 $v_3$ 改为 $1$，此时 $v=[4,2,3,1]$。\n\n第五个操作时询问所有编号被 $3$ 包含的苹果的价值总和。被 $3$ 包含的数为 $0,1,2,3$，所以答案为 $v_0 + v_1 + v_2 + v_3=10$。\n### 数据范围\n**本题采用捆绑测试**。\n\nsubtask 编号|$n\\leq$|$q\\leq$|特殊性质|分值\n-|-|-|-|-\n$1$|$10$|$10^4$|无|$10$\n$2$|$16$|$3\\times 10^5$|无|$20$\n$3$|$20$|$3\\times10^5$|只有操作 1|$10$\n$4$|$20$|$10^5$|无|$20$\n$5$|$20$|$3\\times10^5$|无|$40$\n\n对于 $100\\%$ 的数据，保证 $1\\le n \\leq 20$ ，$1 \\le q\\leq3\\times10^5$，$0\\leq v_i\\leq 2^{31}-1$ 。\n\n**提示**：本题输入量较大，请使用快读。请注意代码**常数**。", "locale": "zh-CN"}}}
{"pid": "P10409", "type": "P", "difficulty": 1, "samples": [["14:00", "14:00"], ["09:07", "09:07"], ["03:22", "27:22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「QFOI R2」水落溪流浅浅", "background": "", "description": "小 R 是一个可爱的女孩子，某天晚上 $23$ 点她在提交作业时，发现截止时间是当天凌晨 $0$ 点。为了避免悲剧再次发生，她向你介绍“$30$ 小时制”。\n\n$30$ 小时制的一天长度依然为 $24$ 小时，只是每天的时间范围从 $00:00\\sim 23:59$ 变成了 $06:00\\sim 29:59$。其中，对于 $24$ 小时制下在 $06:00\\sim 23:59$ 之间的时间，其表示方式不变，而到了次日 $00:00$ 以后，保持日期不变，时间的小时部分继续增加，直到到达次日 $06:00$。\n\n例如，下表是一些时间的对应关系：\n\n|$24$ 小时制|$30$ 小时制|\n|:-:|:-:|\n|$2024$ 年 $2$ 月 $13$ 日 $06:00$|$2024$ 年 $2$ 月 $13$ 日 $06:00$|\n|$2024$ 年 $2$ 月 $13$ 日 $12:00$|$2024$ 年 $2$ 月 $13$ 日 $12:00$|\n|$2024$ 年 $2$ 月 $13$ 日 $18:00$|$2024$ 年 $2$ 月 $13$ 日 $18:00$|\n|$2024$ 年 $2$ 月 $14$ 日 $00:00$|$2024$ 年 $2$ 月 $13$ 日 $24:00$|\n|$2024$ 年 $2$ 月 $14$ 日 $05:59$|$2024$ 年 $2$ 月 $13$ 日 $29:59$|\n|$2024$ 年 $2$ 月 $14$ 日 $06:00$|$2024$ 年 $2$ 月 $14$ 日 $06:00$|\n\n现给定一个 $24$ 小时制时间，请将其转化为 $30$ 小时制。\n\n由于小 R 也认为闰年处理很烦，因此你不需要告诉她日期，只需要告诉她时间即可。", "inputFormat": "一行一个字符串，格式为 `hh:mm`，表示一个 $24$ 小时制时间。特别地，若小时和分钟不足两位数，会补前导零至两位。", "outputFormat": "一行一个字符串，格式为 `hh:mm`，表示对应的 $30$ 小时制时间。若小时和分钟不足两位数，你同样需要补前导零至两位。你不需要考虑日期是否变化。", "hint": "**样例 $1$ 解释**\n\n$14:00$ 属于 $06:00\\sim 23:59$ 的范围，因此表示方式不变。\n\n---\n\n**数据范围**\n\n本题不采用捆绑测试。\n\n对于全部数据：保证输入为【输入格式】中约定合法的 $24$ 小时制时间。\n\n---\n\n**提示**\n\n【题目描述】部分的表格提供了更多可供使用的样例。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「QFOI R2」水落溪流浅浅", "background": "", "description": "小 R 是一个可爱的女孩子，某天晚上 $23$ 点她在提交作业时，发现截止时间是当天凌晨 $0$ 点。为了避免悲剧再次发生，她向你介绍“$30$ 小时制”。\n\n$30$ 小时制的一天长度依然为 $24$ 小时，只是每天的时间范围从 $00:00\\sim 23:59$ 变成了 $06:00\\sim 29:59$。其中，对于 $24$ 小时制下在 $06:00\\sim 23:59$ 之间的时间，其表示方式不变，而到了次日 $00:00$ 以后，保持日期不变，时间的小时部分继续增加，直到到达次日 $06:00$。\n\n例如，下表是一些时间的对应关系：\n\n|$24$ 小时制|$30$ 小时制|\n|:-:|:-:|\n|$2024$ 年 $2$ 月 $13$ 日 $06:00$|$2024$ 年 $2$ 月 $13$ 日 $06:00$|\n|$2024$ 年 $2$ 月 $13$ 日 $12:00$|$2024$ 年 $2$ 月 $13$ 日 $12:00$|\n|$2024$ 年 $2$ 月 $13$ 日 $18:00$|$2024$ 年 $2$ 月 $13$ 日 $18:00$|\n|$2024$ 年 $2$ 月 $14$ 日 $00:00$|$2024$ 年 $2$ 月 $13$ 日 $24:00$|\n|$2024$ 年 $2$ 月 $14$ 日 $05:59$|$2024$ 年 $2$ 月 $13$ 日 $29:59$|\n|$2024$ 年 $2$ 月 $14$ 日 $06:00$|$2024$ 年 $2$ 月 $14$ 日 $06:00$|\n\n现给定一个 $24$ 小时制时间，请将其转化为 $30$ 小时制。\n\n由于小 R 也认为闰年处理很烦，因此你不需要告诉她日期，只需要告诉她时间即可。", "inputFormat": "一行一个字符串，格式为 `hh:mm`，表示一个 $24$ 小时制时间。特别地，若小时和分钟不足两位数，会补前导零至两位。", "outputFormat": "一行一个字符串，格式为 `hh:mm`，表示对应的 $30$ 小时制时间。若小时和分钟不足两位数，你同样需要补前导零至两位。你不需要考虑日期是否变化。", "hint": "**样例 $1$ 解释**\n\n$14:00$ 属于 $06:00\\sim 23:59$ 的范围，因此表示方式不变。\n\n---\n\n**数据范围**\n\n本题不采用捆绑测试。\n\n对于全部数据：保证输入为【输入格式】中约定合法的 $24$ 小时制时间。\n\n---\n\n**提示**\n\n【题目描述】部分的表格提供了更多可供使用的样例。", "locale": "zh-CN"}}}
