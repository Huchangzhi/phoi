{"pid": "P11388", "type": "P", "difficulty": 2, "samples": [["5 2\n5 4 8 7 2", "1 1 0 1 1"], ["5 3\n10 15 14 8 9", "1 0 0 1 1"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["二分", "2024", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #1] 飞跃 / Skokovi", "background": "\n译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T2。$\\texttt{5s,0.5G}$。满分为 $75$。", "description": "\n有 $n$ 朵花，此外有一个正整数 $k$。第 $i$ 朵花的高度为 $a_i$。\n\n一开始，Filip 在第 $1$ 朵花上。\n\n当她在第 $i$ 朵花上时，她可以飞跃到第 $j$ 朵花上，当且仅当：\n\n- $i\\lt j$；\n- $|a_i-a_j|\\le k$。\n\nFilip 想要知道她能够飞跃到哪些花上。", "inputFormat": "\n第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "\n$n$ 个整数，第 $i$ 个整数为 $\\texttt{0}$，代表不能跳到第 $i$ 朵花上；第 $i$ 个整数为 $\\texttt{1}$，代表可以跳到第 $i$ 朵花上。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；\n- $1\\le a_i,k\\le 10^9$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^5$ | A    |   $ 25 $   |  \n| $ 2 $    | $10^3$ |   |  $ 25 $   |  \n| $ 3 $    | $2\\times 10^5$  | | $ 25 $   |\n\n- 特殊性质 A：$\\forall 1\\le i\\lt n$，$a_i\\lt a_{i+1}$。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #1] 飞跃 / Skokovi", "background": "\n译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T2。$\\texttt{5s,0.5G}$。满分为 $75$。", "description": "\n有 $n$ 朵花，此外有一个正整数 $k$。第 $i$ 朵花的高度为 $a_i$。\n\n一开始，Filip 在第 $1$ 朵花上。\n\n当她在第 $i$ 朵花上时，她可以飞跃到第 $j$ 朵花上，当且仅当：\n\n- $i\\lt j$；\n- $|a_i-a_j|\\le k$。\n\nFilip 想要知道她能够飞跃到哪些花上。", "inputFormat": "\n第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "\n$n$ 个整数，第 $i$ 个整数为 $\\texttt{0}$，代表不能跳到第 $i$ 朵花上；第 $i$ 个整数为 $\\texttt{1}$，代表可以跳到第 $i$ 朵花上。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；\n- $1\\le a_i,k\\le 10^9$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^5$ | A    |   $ 25 $   |  \n| $ 2 $    | $10^3$ |   |  $ 25 $   |  \n| $ 3 $    | $2\\times 10^5$  | | $ 25 $   |\n\n- 特殊性质 A：$\\forall 1\\le i\\lt n$，$a_i\\lt a_{i+1}$。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11389", "type": "P", "difficulty": 3, "samples": [["3\n1 2\n1 3\n3\n1 2\n1 2\n1 3", "DA\nDA\nDA\nDA"], ["4\n2 1\n2 3\n1 4\n4\n4 1\n4 1\n3 2\n1 4", "DA\nNE\nDA\nDA\nNE"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #1] 等级 / Hijerarhija", "background": "\n译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T3。$\\texttt{3s,0.5G}$。满分为 $90$。", "description": "\n有 $n$ 个节点，给定 $(n-1)$ 对点之间的父子关系。\n\n有 $m$ 个修改，每次给定一对父子，将它们的关系反转（即，原来的父亲变成儿子，儿子变成父亲）。\n\n在第一次修改前，和每次修改后，输出这张图是否是一棵有根树。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $(n-1)$ 行，每行两个正整数 $u,v$，表示 $u$ 是 $v$ 的父亲。\n\n接下来一行，一个正整数 $m$。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示一次修改。保证 $u,v$ 是父子关系。", "outputFormat": "\n输出 $(m+1)$ 行：\n\n在对应时刻，若是有根树，输出 $\\texttt{DA}$（克罗地亚语「是」）；否则输出 $\\texttt{NE}$（克罗地亚语「否」）。\n\n**保证至少有一个回答是 $\\texttt{DA}$**。", "hint": "对于 $100\\%$ 的数据，保证：\n\n- $2\\le n\\le 3\\times 10^5$；    \n- $0\\le m\\le 10^6$；\n- $1\\le u,v\\le n$，$u\\neq v$。\n- **至少有一个回答是 $\\texttt{DA}$**。\n\n\n| 子任务编号 | $n,m\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $300$ | A    |   $ 7 $   |  \n| $ 2 $    | $300$ |  |  $ 12 $   |  \n| $ 3 $    | $10^3$  |  | $ 16 $   |\n| $ 4 $    | $3\\times 10^5$  | A | $ 15 $   |\n| $ 5 $    | $3\\times 10^5$  | B | $ 23 $   |\n| $ 6 $    | $3\\times 10^5$  | | $ 17 $   |\n\n- 特殊性质 A：$m=0$。\n- 特殊性质 B：对于 $\\forall 1\\le i\\lt n$，$(i,i+1)$ 间有父子关系。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #1] 等级 / Hijerarhija", "background": "\n译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T3。$\\texttt{3s,0.5G}$。满分为 $90$。", "description": "\n有 $n$ 个节点，给定 $(n-1)$ 对点之间的父子关系。\n\n有 $m$ 个修改，每次给定一对父子，将它们的关系反转（即，原来的父亲变成儿子，儿子变成父亲）。\n\n在第一次修改前，和每次修改后，输出这张图是否是一棵有根树。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $(n-1)$ 行，每行两个正整数 $u,v$，表示 $u$ 是 $v$ 的父亲。\n\n接下来一行，一个正整数 $m$。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示一次修改。保证 $u,v$ 是父子关系。", "outputFormat": "\n输出 $(m+1)$ 行：\n\n在对应时刻，若是有根树，输出 $\\texttt{DA}$（克罗地亚语「是」）；否则输出 $\\texttt{NE}$（克罗地亚语「否」）。\n\n**保证至少有一个回答是 $\\texttt{DA}$**。", "hint": "对于 $100\\%$ 的数据，保证：\n\n- $2\\le n\\le 3\\times 10^5$；    \n- $0\\le m\\le 10^6$；\n- $1\\le u,v\\le n$，$u\\neq v$。\n- **至少有一个回答是 $\\texttt{DA}$**。\n\n\n| 子任务编号 | $n,m\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $300$ | A    |   $ 7 $   |  \n| $ 2 $    | $300$ |  |  $ 12 $   |  \n| $ 3 $    | $10^3$  |  | $ 16 $   |\n| $ 4 $    | $3\\times 10^5$  | A | $ 15 $   |\n| $ 5 $    | $3\\times 10^5$  | B | $ 23 $   |\n| $ 6 $    | $3\\times 10^5$  | | $ 17 $   |\n\n- 特殊性质 A：$m=0$。\n- 特殊性质 B：对于 $\\forall 1\\le i\\lt n$，$(i,i+1)$ 间有父子关系。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11390", "type": "P", "difficulty": 6, "samples": [["3 1\n1 2 1", "6"], ["6 3\n6 5 6 4 5 5", "1"], ["6 2\n5 4 5 2 6 5", "5"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树", "2024", "容斥原理", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #1] 教师 / Učiteljica", "background": "译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T4。$\\texttt{5s,0.5G}$。满分为 $120$。", "description": "给定长度为 $n$ 的正整数序列 $a_1,a_2,\\cdots,a_n$。给定常数 $k$。\n\n求出满足以下条件的二元组 $(l,r)$ 的数量：\n\n- $1\\le l\\le r\\le n$；\n- 对于任意 $1\\le i\\le k$，都存在一个数 $x$，使得 $x$ 在 $a_l,a_{l+1},\\ldots,a_r$ 间出现**恰好** $i$ 次。", "inputFormat": "\n第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "\n输出一行一个整数，表示答案。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 10^5$；    \n- $1\\le k\\le 4$；\n- $1\\le a_i\\le n$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $10^3$ |  |   $ 20 $   |  \n| $ 2 $    | $10^5$ | A  |  $ 15 $   |  \n| $ 3 $    | $10^5$ | B  |  $ 35 $   |  \n| $ 4 $    | $10^5$ |  |  $ 50 $   |  \n\n- 特殊性质 A：$1\\le a_i\\le k$。\n- 特殊性质 B：$k=1$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #1] 教师 / Učiteljica", "background": "译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T4。$\\texttt{5s,0.5G}$。满分为 $120$。", "description": "给定长度为 $n$ 的正整数序列 $a_1,a_2,\\cdots,a_n$。给定常数 $k$。\n\n求出满足以下条件的二元组 $(l,r)$ 的数量：\n\n- $1\\le l\\le r\\le n$；\n- 对于任意 $1\\le i\\le k$，都存在一个数 $x$，使得 $x$ 在 $a_l,a_{l+1},\\ldots,a_r$ 间出现**恰好** $i$ 次。", "inputFormat": "\n第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "\n输出一行一个整数，表示答案。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 10^5$；    \n- $1\\le k\\le 4$；\n- $1\\le a_i\\le n$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $10^3$ |  |   $ 20 $   |  \n| $ 2 $    | $10^5$ | A  |  $ 15 $   |  \n| $ 3 $    | $10^5$ | B  |  $ 35 $   |  \n| $ 4 $    | $10^5$ |  |  $ 50 $   |  \n\n- 特殊性质 A：$1\\le a_i\\le k$。\n- 特殊性质 B：$k=1$。\n\n", "locale": "zh-CN"}}}
{"pid": "P11391", "type": "P", "difficulty": 6, "samples": [["4 \n1 3", "3"], ["5\n1 3\n3 5", "6"], ["6\n2 4\n4 6\n6 2", "11"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "树形 DP", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #1] 疑惑 / Zbunjenost", "background": "译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T5。$\\texttt{5s,0.5G}$。满分为 $120$。", "description": "给定一个 $n$ 个顶点的凸包和它的三角剖分。\n\n可以认为点按照顺时针顺序标号 $1\\sim n$，也就是说，$\\forall 1\\le i\\le n$，点 $i$ 和点 $(i\\bmod n+1)$ 间有边相连。\n\n定义一条长度为 $m$（$m\\ge 3$）的**简单回路** $a_0,a_1,\\cdots,a_{m-1}$ 为满足以下条件的序列：\n\n- $\\forall i\\in [0,m)$，$1\\le a_i\\le n$；\n- $\\forall 0\\le i\\lt j\\lt m$，$a_i\\neq a_j$；\n- $\\forall i\\in [0,m)$，顶点 $a_i,a_{(i+1)\\bmod m}$ 间有边相连。\n\n\n定义两条回路**本质相同**，当且仅当一条回路可以通过翻转（reverse）或者循环移位或者翻转+循环移位得到另一条回路。\n\n求出凸包内本质不同的回路条数，对 $(10^9+7)$ 取模。", "inputFormat": "\n第一行，一个正整数 $n$。\n\n接下来 $(n-3)$ 行，每行两个正整数 $x,y$，描述三角剖分的一条边。", "outputFormat": "\n输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。", "hint": "\n#### 样例解释\n\n- 样例 $1$ 解释：$[1,2,3]$，$[1,4,3]$，$[1,2,3,4]$ 是合法的回路。\n- 样例 $2$ 解释：$[1, 2, 3]$，$[1, 3, 5]$，$[3, 4, 5]$，$[1, 2, 3, 5]$，$[1, 3, 4, 5]$，$[1, 2, 3, 4, 5]$ 是合法的回路。\n- 样例 $3$ 解释：$[1, 2, 6]$，$[2, 3, 4]$，$[4, 5, 6]$，$[2, 4, 6]$，$[1, 2, 4, 6]$，$[2, 3, 4, 6]$，$[2, 4, 5, 6]$，$[1, 2, 3, 4, 6]$，$[2, 3, 4, 5, 6]$，$[1, 2, 4, 5, 6]$，$[1, 2, 3, 4, 5, 6]$ 是合法的回路。\n\n#### 子任务\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；  \n- 给定的是合法三角剖分。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $15$ |  |   $ 13 $   |  \n| $ 2 $    | $300$ |   |  $ 18 $   |  \n| $ 3 $    | $2\\times 10^3$ |   |  $ 34 $   |  \n| $ 4 $    | $2\\times 10^5$ | A  |  $ 15 $   |  \n| $ 5 $    | $2\\times 10^5$ |  |  $ 40 $   |  \n\n- 特殊性质 A：$\\forall 3\\le i\\le n-1$，点 $1$ 与点 $i$ 间有边相连。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #1] 疑惑 / Zbunjenost", "background": "译自 [COCI 2024/2025 #1](https://hsin.hr/coci/) T5。$\\texttt{5s,0.5G}$。满分为 $120$。", "description": "给定一个 $n$ 个顶点的凸包和它的三角剖分。\n\n可以认为点按照顺时针顺序标号 $1\\sim n$，也就是说，$\\forall 1\\le i\\le n$，点 $i$ 和点 $(i\\bmod n+1)$ 间有边相连。\n\n定义一条长度为 $m$（$m\\ge 3$）的**简单回路** $a_0,a_1,\\cdots,a_{m-1}$ 为满足以下条件的序列：\n\n- $\\forall i\\in [0,m)$，$1\\le a_i\\le n$；\n- $\\forall 0\\le i\\lt j\\lt m$，$a_i\\neq a_j$；\n- $\\forall i\\in [0,m)$，顶点 $a_i,a_{(i+1)\\bmod m}$ 间有边相连。\n\n\n定义两条回路**本质相同**，当且仅当一条回路可以通过翻转（reverse）或者循环移位或者翻转+循环移位得到另一条回路。\n\n求出凸包内本质不同的回路条数，对 $(10^9+7)$ 取模。", "inputFormat": "\n第一行，一个正整数 $n$。\n\n接下来 $(n-3)$ 行，每行两个正整数 $x,y$，描述三角剖分的一条边。", "outputFormat": "\n输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。", "hint": "\n#### 样例解释\n\n- 样例 $1$ 解释：$[1,2,3]$，$[1,4,3]$，$[1,2,3,4]$ 是合法的回路。\n- 样例 $2$ 解释：$[1, 2, 3]$，$[1, 3, 5]$，$[3, 4, 5]$，$[1, 2, 3, 5]$，$[1, 3, 4, 5]$，$[1, 2, 3, 4, 5]$ 是合法的回路。\n- 样例 $3$ 解释：$[1, 2, 6]$，$[2, 3, 4]$，$[4, 5, 6]$，$[2, 4, 6]$，$[1, 2, 4, 6]$，$[2, 3, 4, 6]$，$[2, 4, 5, 6]$，$[1, 2, 3, 4, 6]$，$[2, 3, 4, 5, 6]$，$[1, 2, 4, 5, 6]$，$[1, 2, 3, 4, 5, 6]$ 是合法的回路。\n\n#### 子任务\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；  \n- 给定的是合法三角剖分。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $15$ |  |   $ 13 $   |  \n| $ 2 $    | $300$ |   |  $ 18 $   |  \n| $ 3 $    | $2\\times 10^3$ |   |  $ 34 $   |  \n| $ 4 $    | $2\\times 10^5$ | A  |  $ 15 $   |  \n| $ 5 $    | $2\\times 10^5$ |  |  $ 40 $   |  \n\n- 特殊性质 A：$\\forall 3\\le i\\le n-1$，点 $1$ 与点 $i$ 间有边相连。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11392", "type": "P", "difficulty": 6, "samples": [["5\n5 2 1 5 3\n3\n1 4\n2 5\n1 5", "12\n9\n12"], ["5\n5 4 4 5 4\n1\n1 5", "14"], ["15\n12 96 100 61 54 66 37 34 58 21 21 1 13 50 81\n12\n1 15\n3 12\n11 14\n1 13\n5 9\n4 6\n6 14\n2 5\n4 15\n1 7\n1 10\n8 13", "277\n227\n72\n262\n178\n181\n174\n257\n208\n262\n262\n113"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2019", "线段树", "JOI（日本）", "单调栈"], "title": "[JOI Open 2019] 三级跳 / Triple Jump", "background": null, "description": "**译自 [JOI Open 2019](https://contests.ioi-jp.org/open-2019/index.html) T1 「三段跳び」**\n\n有一条路，包含 $N$ 段，编号 $1\\sim N$。第 $i$ 段有一个强度 $A_i$。\n\nJOI 君，有天赋的体育明星，准备来三段跳。一个三段跳包含三次连续的跳跃。令 $a,b,c$ 分别表示 JOI-kun 三次起跳的段编号，他们需要满足以下条件。\n\n- $a<b<c$。含义是每次起跳的编号需要递增。\n- $b-a\\le c-b$。含义是第一次起跳跨越的距离需要小于等于第二次的。\n\nJOI 君准备进行 $Q$ 次三段跳。在第 $j$ 次（$1\\le j\\le Q$）中，他需要在区间 $[L_j,R_j]$ 中的编号起跳，也就是要满足 $L_j\\le a<b<c\\le R_j$。\n\nJOI 君 想要选择恰当的位置起跳。对于每次三段跳，JOI 君想知道他起跳的这些位置的强度和，最大是多少。\n\n写一个程序，给定段数和三段跳的信息。对于每个三段跳，计算他起跳的这些位置的强度和，最大是多少。", "inputFormat": "第 $1$ 行 $1$ 个整数 $N$。\n\n第 $2$ 行 $N$ 个整数，代表 $A_1,A_2,\\cdots,A_n$。\n\n第 $3$ 行 $1$ 个整数 $Q$。\n\n第 $4\\sim 4+Q-1$ 行，每行两个整数 $L_i,R_i$。", "outputFormat": "输出 $Q$ 行。每行输出一个整数，表示答案。", "hint": "#### 样例解释：\n\n在第一次跳跃中，JOI 君可以选择 $1,2,4$ 段，从而达到最大加和 $12$。\n\n在第二次跳跃中，JOI 君可以选择 $3,4,5$ 段，从而达到最大加和 $9$。如果选择 $2,4,5$，虽然和是 $10$，但是 $b-a\\le c-b$ 没有满足。\n\n在第三次跳跃中，JOI 君可以选择 $1,2,4$ 段，从而达到最大加和 $12$。如果选择 $1,4,5$，虽然和是 $13$，但是 $b-a\\le c-b$ 没有满足。\n\n#### 数据范围：\n\n- $3 \\le N \\le 5 \\times 10^5$。\n- $1 \\le A_i \\le 10^8 (1 \\le i \\le N)$。\n- $1 \\le Q \\le 5 \\times 10^5$。\n- $1 \\le L_j < L_j + 2 \\le R_j \\le N (1 \\le j \\le Q)$。\n\n#### 子任务：\n\n1. （5 分）$N\\le 100$，$Q\\le 100$。\n2. （14 分）$N\\le 5000$。\n3. （27 分）$N\\le 2\\times 10^5$，$Q=1$，$L_1=1$，$R_1=N$。\n4. （54 分）无额外约束。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2019] 三级跳 / Triple Jump", "background": null, "description": "**译自 [JOI Open 2019](https://contests.ioi-jp.org/open-2019/index.html) T1 「三段跳び」**\n\n有一条路，包含 $N$ 段，编号 $1\\sim N$。第 $i$ 段有一个强度 $A_i$。\n\nJOI 君，有天赋的体育明星，准备来三段跳。一个三段跳包含三次连续的跳跃。令 $a,b,c$ 分别表示 JOI-kun 三次起跳的段编号，他们需要满足以下条件。\n\n- $a<b<c$。含义是每次起跳的编号需要递增。\n- $b-a\\le c-b$。含义是第一次起跳跨越的距离需要小于等于第二次的。\n\nJOI 君准备进行 $Q$ 次三段跳。在第 $j$ 次（$1\\le j\\le Q$）中，他需要在区间 $[L_j,R_j]$ 中的编号起跳，也就是要满足 $L_j\\le a<b<c\\le R_j$。\n\nJOI 君 想要选择恰当的位置起跳。对于每次三段跳，JOI 君想知道他起跳的这些位置的强度和，最大是多少。\n\n写一个程序，给定段数和三段跳的信息。对于每个三段跳，计算他起跳的这些位置的强度和，最大是多少。", "inputFormat": "第 $1$ 行 $1$ 个整数 $N$。\n\n第 $2$ 行 $N$ 个整数，代表 $A_1,A_2,\\cdots,A_n$。\n\n第 $3$ 行 $1$ 个整数 $Q$。\n\n第 $4\\sim 4+Q-1$ 行，每行两个整数 $L_i,R_i$。", "outputFormat": "输出 $Q$ 行。每行输出一个整数，表示答案。", "hint": "#### 样例解释：\n\n在第一次跳跃中，JOI 君可以选择 $1,2,4$ 段，从而达到最大加和 $12$。\n\n在第二次跳跃中，JOI 君可以选择 $3,4,5$ 段，从而达到最大加和 $9$。如果选择 $2,4,5$，虽然和是 $10$，但是 $b-a\\le c-b$ 没有满足。\n\n在第三次跳跃中，JOI 君可以选择 $1,2,4$ 段，从而达到最大加和 $12$。如果选择 $1,4,5$，虽然和是 $13$，但是 $b-a\\le c-b$ 没有满足。\n\n#### 数据范围：\n\n- $3 \\le N \\le 5 \\times 10^5$。\n- $1 \\le A_i \\le 10^8 (1 \\le i \\le N)$。\n- $1 \\le Q \\le 5 \\times 10^5$。\n- $1 \\le L_j < L_j + 2 \\le R_j \\le N (1 \\le j \\le Q)$。\n\n#### 子任务：\n\n1. （5 分）$N\\le 100$，$Q\\le 100$。\n2. （14 分）$N\\le 5000$。\n3. （27 分）$N\\le 2\\times 10^5$，$Q=1$，$L_1=1$，$R_1=N$。\n4. （54 分）无额外约束。", "locale": "zh-CN"}}}
{"pid": "P11393", "type": "P", "difficulty": 5, "samples": [["5\n0 0\n1 0\n2 3\n3 3\n4 0", "Yes"], ["5\n0 0\n1 2\n2 4\n3 2\n4 0", "No"], ["2\n1 1\n2 1", "No"], ["2\n1 1\n2 2", "Yes"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 524288, 524288, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2019", "JOI（日本）"], "title": "[JOI Open 2019] 汇款 / Remittance", "background": "", "description": "**译自 [JOI Open 2019](https://contests.ioi-jp.org/open-2019/index.html) T2 「送金」**\n\nJOI 王国的河狸湖边有 $N$ 座房子，按逆时针方向给房子从 $1$ 到 $N$ 编号。\n\n站在湖所在的位置看，每一座房子可以给它左边相邻的房子汇款，即：对于房子 $i\\ (1\\le i\\le N-1)$，它左边的房子是房子 $i+1$，对于房子 $N$，它左边的房子为房子 $1$。然而，汇一笔款的手续费等于汇款金额。汇款金额必须是一个整数。当你汇款的时候，你必须交手续费，所以汇款钱数和手续费之和不能超出房子里的钱数。\n\n目前，房子 $i\\ (1\\le i\\le N)$ 里有 $A_i$ 元。另一方面，从收税的角度来看，我们希望房子 $i$ 里的钱数等于 $B_i$。因此你希望利用汇款系统使得房间 $i$ 里钱数等于 $B_i$ 元。你不能通过除给别的房子汇款和交手续费之外的方式花掉钱。\n\n给定每座房子目前有的钱数和期望钱数，写一个程序判断能否使得每间房子都达到期望的钱数。", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n第 $2\\sim N+1$ 行，每行两个整数 $A_i,B_i$，分别表示房子 $i$ 的目前钱数和期望钱数，用空格隔开。", "outputFormat": "如果可以满足要求，输出 `Yes`，否则输出 `No`。", "hint": "#### 数据范围：\n\n$2\\le N\\le 10^6$，$0\\le A_i\\le 10^9$（$1\\le i\\le N$），$0\\le B_i\\le 10^9$（$1\\le i\\le N$）。\n\n#### 子任务：\n\n1. （15 分）$N\\le 7$，$A_i\\le 5$，$B_i\\le 5$（$1\\le i\\le N$）。\n2. （40 分）$N\\le 20$。\n3. （45 分）没有额外约束。\n\n#### 样例解释：\n\n举例来说，你可以按照以下支付方式，满足要求。\n\n1. 房子 $5\\to 1$，支付 $2$ 元。花费 $2$ 元。\n2. 房子 $1\\to 2$，支付 $1$ 元。花费 $1$ 元。\n3. 房子 $2\\to 3$，支付 $1$ 元。花费 $1$ 元。\n\n你不能以任何方式满足要求。\n\n注意钱必须以 $1$ 元作为单位支付。\n\n你不需要使用支付系统。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2019] 汇款 / Remittance", "background": "", "description": "**译自 [JOI Open 2019](https://contests.ioi-jp.org/open-2019/index.html) T2 「送金」**\n\nJOI 王国的河狸湖边有 $N$ 座房子，按逆时针方向给房子从 $1$ 到 $N$ 编号。\n\n站在湖所在的位置看，每一座房子可以给它左边相邻的房子汇款，即：对于房子 $i\\ (1\\le i\\le N-1)$，它左边的房子是房子 $i+1$，对于房子 $N$，它左边的房子为房子 $1$。然而，汇一笔款的手续费等于汇款金额。汇款金额必须是一个整数。当你汇款的时候，你必须交手续费，所以汇款钱数和手续费之和不能超出房子里的钱数。\n\n目前，房子 $i\\ (1\\le i\\le N)$ 里有 $A_i$ 元。另一方面，从收税的角度来看，我们希望房子 $i$ 里的钱数等于 $B_i$。因此你希望利用汇款系统使得房间 $i$ 里钱数等于 $B_i$ 元。你不能通过除给别的房子汇款和交手续费之外的方式花掉钱。\n\n给定每座房子目前有的钱数和期望钱数，写一个程序判断能否使得每间房子都达到期望的钱数。", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n第 $2\\sim N+1$ 行，每行两个整数 $A_i,B_i$，分别表示房子 $i$ 的目前钱数和期望钱数，用空格隔开。", "outputFormat": "如果可以满足要求，输出 `Yes`，否则输出 `No`。", "hint": "#### 数据范围：\n\n$2\\le N\\le 10^6$，$0\\le A_i\\le 10^9$（$1\\le i\\le N$），$0\\le B_i\\le 10^9$（$1\\le i\\le N$）。\n\n#### 子任务：\n\n1. （15 分）$N\\le 7$，$A_i\\le 5$，$B_i\\le 5$（$1\\le i\\le N$）。\n2. （40 分）$N\\le 20$。\n3. （45 分）没有额外约束。\n\n#### 样例解释：\n\n举例来说，你可以按照以下支付方式，满足要求。\n\n1. 房子 $5\\to 1$，支付 $2$ 元。花费 $2$ 元。\n2. 房子 $1\\to 2$，支付 $1$ 元。花费 $1$ 元。\n3. 房子 $2\\to 3$，支付 $1$ 元。花费 $1$ 元。\n\n你不能以任何方式满足要求。\n\n注意钱必须以 $1$ 元作为单位支付。\n\n你不需要使用支付系统。", "locale": "zh-CN"}}}
{"pid": "P11394", "type": "P", "difficulty": 7, "samples": [["6 3 4\nSWNEES\n2 1 1 2\n1 0 1 3\n1 1 2 2", "8\n8"], ["4 4 4\nEWWE\n1 2 1 2\n1 1 1 1\n0 0 0 0\n2 2 2 4", "3\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2019", "JOI（日本）"], "title": "[JOI Open 2019] 病毒实验 / Virus Experiment", "background": null, "description": "**译自 [JOI Open 2019](https://contests.ioi-jp.org/open-2019/index.html) T3 「ウイルス実験」**\n\nJOI 公司研究了新型病毒 `JOI virus`。JOI 公司希望通过用该病毒影响在 IOI 岛的动物做实验。\n\nIOI 岛呈矩形。有 $R-1$ 条从西向东的平行道路，和 $C-1$ 条从北向南的平行道路。她们将岛分割成 $RC$ 个部分。每部分只有一只动物。我们称居住在北部第 $i$，西部第 $j$ 部分的动物为 `动物(i,j)`（$1\\le i\\le R$，$1\\le j\\le C$）。\n\n在 IOI 岛上，一天有 $M$ 个时间段。我们管第 $k$ 个叫 `时间段k`。风总是从某方向吹来：北方，南方，东方和西方。基于时间段，风向可能改变。如果时间段相同，风向总是不变，这和在哪一天无关。\n\n每只动物有一个状态 `抵抗力`。动物 $(i,j)$ 的抵抗力表示为一个非负整数 $U_{i,j}$。\n\n- 如果 $U_{i,j}=0$,说明动物 $(i,j)$ 有很高的抵抗力，使得它不被 JOI virus 感染。\n- 如果 $U_{i,j}$ 是一个正整数，说明动物 $(i,j)$ 可能被感染。如果下面条件连续成立了 $U_{i,j}$ 时间段，则他/她会从下一个时间段开始被感染。\n\n  -- 从风向处相邻的动物已经被传染。 \n  \n  注意最后一个时间段和下一天的第一个时间段是连续的。\n  \n为了实验，我们希望至少感染 $1$ 只动物，但是我们不希望感染过多的动物。在开始，我们选择一只作为第一个被感染的。我们不能选择 $U_{i,j}=0$ 的动物 $(i,j)$ 作为第一个被感染的个体。\n\n给定每个时间段的风向和每只动物的抵抗力。编写程序计算经过了 $10^{100}$ 天后最少被感染了个体数，和达成此目标刚开始能选择的个体有几种。", "inputFormat": "第 $1$ 行三个整数 $M,R,C$。\n\n第 $2$ 行一个字符串 $D$。\n\n第 $3\\sim3+R-1$ 行，每行 $C$ 个整数。第 $i-3+1$ 行第 $j$ 列的数表示 $U_{i,j}$。\n\n$D$ 是长 $M$ 的字符串表示风向。D 包含 $4$ 种字符：$\\texttt N$, $\\texttt S$, $\\texttt W$, $\\texttt E$。分别表示北南西东。第 $k$ 个字符（$1\\le k\\le M$）表示第 $k$ 个时间段的风向。", "outputFormat": "第 $1$ 行一个数表示最少被感染个体数。\n\n第 $2$ 行一个数表示使得被感染的个体最少，初始时有几种选法。", "hint": "#### 样例解释：\n\n让我们考虑选择动物 $(3,1)$ 作为初始被感染个体的情况。\n\n对于动物 $(2,1)$，在第 $1$ 天的时间段 $1$，刮南风，且南边相邻动物已经被感染，所以他/她会从第 $1$ 天的时间段 $2$ 被感染。\n\n对于动物 $(3,2)$，在第 $1$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，所以他/她会从第 $1$ 天的时间段 $3$ 被感染。\n\n对于动物 $(1,1)$，在第 $1$ 天的时间段 $6$，刮南风，且南边相邻动物已经被感染，且在第 $2$ 天的时间段 $1$，刮南风，且南边相邻动物已经被感染，所以他/她会从第 $2$ 天的时间段 $2$ 被感染。\n\n对于动物 $(1,2)$，在第 $2$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，所以他/她会从第 $2$ 天的时间段 $3$ 被感染。\n\n对于动物 $(1,3)$，在第 $3$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，所以他/她会从第 $3$ 天的时间段 $3$ 被感染。\n\n对于动物 $(2,3)$，在第 $3$ 天的时间段 $3$，刮北风，且北边相邻动物已经被感染，所以他/她会从第 $3$ 天的时间段 $4$ 被感染。\n\n对于动物 $(3,3)$，在第 $4$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，且在第 $4$ 天的时间段 $3$，刮北风，且北边相邻动物已经被感染。所以他/她会从第 $4$ 天的时间段 $4$ 被感染。\n\n没有更多动物会被感染。所以当选择 动物 $(3,1)$ 作为初始被感染者时，经过 $10^{100}$ 天，$8$ 只动物会被感染。\n\n不论选哪只动物作为初始被感染者，我们都无法使得 $10^{100}$ 天后被感染的动物数量小于 $8$，所以输出的第一行是 $8$。如果我们选择动物 $(1,1)$，$(1,2)$，$(1,3)$，$(2,1)$，$(2,3)$，$(3,1)$，$(3,2)$ 或 $(3,3)$ 作为初始被感染者，在 $10^{100}$ 天后被感染的个数都是 $8$。所以第二行应当输出 $8$。\n\n这个样例满足 `子任务1` 的约束条件。\n\n#### 数据范围：\n\n$1\\le M\\le 10^5$，$1\\le R\\le 800$，$1\\le C\\le 800$。\n\n$D$ 是一个长度为 $M$ 的字符串，只包含 $\\texttt N$, $\\texttt S$, $\\texttt W$, $\\texttt E$。\n\n$0\\le U_{i,j}\\le 10^5$（$1\\le i\\le R$，$1\\le j\\le C$）。\n\n至少有一对 $(i,j)$ 满足 $1\\le U_{i,j}$（$1\\le i\\le R$，$1\\le j\\le C$）。\n\n#### 子任务：\n\n1. （14 分）$D$ 只包含 $\\texttt W$ 和 $\\texttt E$。\n2. （6 分）$1\\le W\\le 50$，$1\\le C\\le 50$。\n3. （80 分）无额外约束。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2019] 病毒实验 / Virus Experiment", "background": null, "description": "**译自 [JOI Open 2019](https://contests.ioi-jp.org/open-2019/index.html) T3 「ウイルス実験」**\n\nJOI 公司研究了新型病毒 `JOI virus`。JOI 公司希望通过用该病毒影响在 IOI 岛的动物做实验。\n\nIOI 岛呈矩形。有 $R-1$ 条从西向东的平行道路，和 $C-1$ 条从北向南的平行道路。她们将岛分割成 $RC$ 个部分。每部分只有一只动物。我们称居住在北部第 $i$，西部第 $j$ 部分的动物为 `动物(i,j)`（$1\\le i\\le R$，$1\\le j\\le C$）。\n\n在 IOI 岛上，一天有 $M$ 个时间段。我们管第 $k$ 个叫 `时间段k`。风总是从某方向吹来：北方，南方，东方和西方。基于时间段，风向可能改变。如果时间段相同，风向总是不变，这和在哪一天无关。\n\n每只动物有一个状态 `抵抗力`。动物 $(i,j)$ 的抵抗力表示为一个非负整数 $U_{i,j}$。\n\n- 如果 $U_{i,j}=0$,说明动物 $(i,j)$ 有很高的抵抗力，使得它不被 JOI virus 感染。\n- 如果 $U_{i,j}$ 是一个正整数，说明动物 $(i,j)$ 可能被感染。如果下面条件连续成立了 $U_{i,j}$ 时间段，则他/她会从下一个时间段开始被感染。\n\n  -- 从风向处相邻的动物已经被传染。 \n  \n  注意最后一个时间段和下一天的第一个时间段是连续的。\n  \n为了实验，我们希望至少感染 $1$ 只动物，但是我们不希望感染过多的动物。在开始，我们选择一只作为第一个被感染的。我们不能选择 $U_{i,j}=0$ 的动物 $(i,j)$ 作为第一个被感染的个体。\n\n给定每个时间段的风向和每只动物的抵抗力。编写程序计算经过了 $10^{100}$ 天后最少被感染了个体数，和达成此目标刚开始能选择的个体有几种。", "inputFormat": "第 $1$ 行三个整数 $M,R,C$。\n\n第 $2$ 行一个字符串 $D$。\n\n第 $3\\sim3+R-1$ 行，每行 $C$ 个整数。第 $i-3+1$ 行第 $j$ 列的数表示 $U_{i,j}$。\n\n$D$ 是长 $M$ 的字符串表示风向。D 包含 $4$ 种字符：$\\texttt N$, $\\texttt S$, $\\texttt W$, $\\texttt E$。分别表示北南西东。第 $k$ 个字符（$1\\le k\\le M$）表示第 $k$ 个时间段的风向。", "outputFormat": "第 $1$ 行一个数表示最少被感染个体数。\n\n第 $2$ 行一个数表示使得被感染的个体最少，初始时有几种选法。", "hint": "#### 样例解释：\n\n让我们考虑选择动物 $(3,1)$ 作为初始被感染个体的情况。\n\n对于动物 $(2,1)$，在第 $1$ 天的时间段 $1$，刮南风，且南边相邻动物已经被感染，所以他/她会从第 $1$ 天的时间段 $2$ 被感染。\n\n对于动物 $(3,2)$，在第 $1$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，所以他/她会从第 $1$ 天的时间段 $3$ 被感染。\n\n对于动物 $(1,1)$，在第 $1$ 天的时间段 $6$，刮南风，且南边相邻动物已经被感染，且在第 $2$ 天的时间段 $1$，刮南风，且南边相邻动物已经被感染，所以他/她会从第 $2$ 天的时间段 $2$ 被感染。\n\n对于动物 $(1,2)$，在第 $2$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，所以他/她会从第 $2$ 天的时间段 $3$ 被感染。\n\n对于动物 $(1,3)$，在第 $3$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，所以他/她会从第 $3$ 天的时间段 $3$ 被感染。\n\n对于动物 $(2,3)$，在第 $3$ 天的时间段 $3$，刮北风，且北边相邻动物已经被感染，所以他/她会从第 $3$ 天的时间段 $4$ 被感染。\n\n对于动物 $(3,3)$，在第 $4$ 天的时间段 $2$，刮西风，且西边相邻动物已经被感染，且在第 $4$ 天的时间段 $3$，刮北风，且北边相邻动物已经被感染。所以他/她会从第 $4$ 天的时间段 $4$ 被感染。\n\n没有更多动物会被感染。所以当选择 动物 $(3,1)$ 作为初始被感染者时，经过 $10^{100}$ 天，$8$ 只动物会被感染。\n\n不论选哪只动物作为初始被感染者，我们都无法使得 $10^{100}$ 天后被感染的动物数量小于 $8$，所以输出的第一行是 $8$。如果我们选择动物 $(1,1)$，$(1,2)$，$(1,3)$，$(2,1)$，$(2,3)$，$(3,1)$，$(3,2)$ 或 $(3,3)$ 作为初始被感染者，在 $10^{100}$ 天后被感染的个数都是 $8$。所以第二行应当输出 $8$。\n\n这个样例满足 `子任务1` 的约束条件。\n\n#### 数据范围：\n\n$1\\le M\\le 10^5$，$1\\le R\\le 800$，$1\\le C\\le 800$。\n\n$D$ 是一个长度为 $M$ 的字符串，只包含 $\\texttt N$, $\\texttt S$, $\\texttt W$, $\\texttt E$。\n\n$0\\le U_{i,j}\\le 10^5$（$1\\le i\\le R$，$1\\le j\\le C$）。\n\n至少有一对 $(i,j)$ 满足 $1\\le U_{i,j}$（$1\\le i\\le R$，$1\\le j\\le C$）。\n\n#### 子任务：\n\n1. （14 分）$D$ 只包含 $\\texttt W$ 和 $\\texttt E$。\n2. （6 分）$1\\le W\\le 50$，$1\\le C\\le 50$。\n3. （80 分）无额外约束。", "locale": "zh-CN"}}}
{"pid": "P11395", "type": "P", "difficulty": 1, "samples": [["4\nyummy or yucky?\neat or stick?\nrua or eat?\neat or eat?\n", "yummy\nstick\nrua\nor\n"], ["7\nsaint or sinner?\ntobe or nottobe?\nad or able?\neating or eaten?\nor or or?\nand or and?\noneplusoneistwo or oneplusoneisthree?\n", "sinner\ntobe\nable\neaten\nor\nand\noneplusoneistwo\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "洛谷原创", "Special Judge", "洛谷月赛"], "title": "喵喵喵幼儿园", "background": "", "description": "喵喵喵群里面，吃喵喵是坏文明。\n\n现在群友有 $q$ 个问题，每个问题形如 `A or B?`，其中 $A,B$ 为仅含小写字母的非空字符串。\n\n对于每个问题，你可以回答 $A$ 或 $B$ 中的任意一个不是 `eat` 的字符串。特别地，如果 $A$ 和 $B$ 都是 `eat`，你需要回答 `or`。", "inputFormat": "输入的第一行有一个正整数 $q$，表示问题的数量。\n\n之后有 $q$ 行，每行有一个问题。", "outputFormat": "对于每个问题，输出一行一个字符串，表示你对于这个问题的答案。", "hint": "【样例 1 解释】\n\n- 对于第一个问题，你可以从 `yummy` 和 `yucky` 两个单词中的任意一个，所以既可以回答 `yummy` 也可以回答 `yucky`。**注意：在这个问题输出 `or` 将导致答案错误。**\n- 对于第二个问题，因为第一个单词是 `eat`，要避开，因此**必须**输出 `stick`。\n- 对于第三个问题，因为第二个单词是 `eat`，要避开，因此**必须**输出 `rua`。\n- 对于第四个问题，两个单词都是 `eat`，所以要输出 `or`。\n\n【样例 2 解释】\n\n本样例共有 $32$ 种本质不同的输出（除了第 $5,6$ 个问题的两个字符串一样外，其他问题都有两种可能答案），这里仅展示其中一种可能的输出。\n\n【数据范围】\n\n对于全部数据，保证 $1\\le q\\le 100$，每个问题中的字符串 $A,B$ 均不超过 $100$ 个字符，且仅含有小写字符。\n\n本题共有 $6$ 个测试点，不同测试点的分值和特殊性质见下表：\n\n|测试点编号|特殊性质|分值|\n|:-:|:-:|:-:|\n|1|$A,B$ 都不是 `eat`|$19$|\n|2|$A$ 一定是 `eat`，$B$ 一定不是 `eat`|$22$|\n|3|$B$ 一定是 `eat`|$11$|\n|4|$A$ 一定是 `eat`|$12$|\n|5|$A,B$ 一定有一个不是 `eat`|$13$|\n|6|无特殊性质|$23$|\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "喵喵喵幼儿园", "background": "", "description": "喵喵喵群里面，吃喵喵是坏文明。\n\n现在群友有 $q$ 个问题，每个问题形如 `A or B?`，其中 $A,B$ 为仅含小写字母的非空字符串。\n\n对于每个问题，你可以回答 $A$ 或 $B$ 中的任意一个不是 `eat` 的字符串。特别地，如果 $A$ 和 $B$ 都是 `eat`，你需要回答 `or`。", "inputFormat": "输入的第一行有一个正整数 $q$，表示问题的数量。\n\n之后有 $q$ 行，每行有一个问题。", "outputFormat": "对于每个问题，输出一行一个字符串，表示你对于这个问题的答案。", "hint": "【样例 1 解释】\n\n- 对于第一个问题，你可以从 `yummy` 和 `yucky` 两个单词中的任意一个，所以既可以回答 `yummy` 也可以回答 `yucky`。**注意：在这个问题输出 `or` 将导致答案错误。**\n- 对于第二个问题，因为第一个单词是 `eat`，要避开，因此**必须**输出 `stick`。\n- 对于第三个问题，因为第二个单词是 `eat`，要避开，因此**必须**输出 `rua`。\n- 对于第四个问题，两个单词都是 `eat`，所以要输出 `or`。\n\n【样例 2 解释】\n\n本样例共有 $32$ 种本质不同的输出（除了第 $5,6$ 个问题的两个字符串一样外，其他问题都有两种可能答案），这里仅展示其中一种可能的输出。\n\n【数据范围】\n\n对于全部数据，保证 $1\\le q\\le 100$，每个问题中的字符串 $A,B$ 均不超过 $100$ 个字符，且仅含有小写字符。\n\n本题共有 $6$ 个测试点，不同测试点的分值和特殊性质见下表：\n\n|测试点编号|特殊性质|分值|\n|:-:|:-:|:-:|\n|1|$A,B$ 都不是 `eat`|$19$|\n|2|$A$ 一定是 `eat`，$B$ 一定不是 `eat`|$22$|\n|3|$B$ 一定是 `eat`|$11$|\n|4|$A$ 一定是 `eat`|$12$|\n|5|$A,B$ 一定有一个不是 `eat`|$13$|\n|6|无特殊性质|$23$|\n", "locale": "zh-CN"}}}
{"pid": "P11396", "type": "P", "difficulty": 3, "samples": [["4\n2 1 4 3\n", "1 4 2 3\n"], ["6\n6 5 4 3 2 1\n", "1 2 3 4 5 6\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "洛谷月赛"], "title": "排队", "background": "", "description": "第一届喵喵喵编程大赛即将开始，本次比赛有 $n$ 只喵喵参赛，编号依次为 $1,2,\\ldots, n$，已经分成了若干组，每一组喵喵的编号都是连续的一段。\n\n根据报名情况，你已经知道第 $i$ 只喵喵会第 $p_i$ 个到达现场，保证 $p_i$ 构成 $1\\sim n$ 的排列。\n\n一组喵喵的到达时间被定义为这一组喵喵中**最早到达**的喵喵的到达时间。\n\n喵喵的排队规则如下：\n\n- 先把所有的喵喵组按每组喵喵的到达时间从小到大排序。\n- 然后对于同一组喵喵，按照每只喵喵的到达时间从小到大排序。\n\n按照这个排队规则，可以得到一个新的排列 $q_1,\\ldots,q_n$，其中 $q_i$ 表示从前往后第 $i$ 只喵喵的**到达时间**。\n\n你已经知道了所有 $p_i$，但是不清楚喵喵的分组，你想知道排列 $q_1,q_2,\\ldots,q_n$ 的字典序最大可能是什么。", "inputFormat": "输入的第一行有一个正整数 $n$，表示喵喵数量。\n\n第二行有 $n$ 个正整数 $p_1,p_2,\\ldots,p_n$，表示每只喵喵的到达顺序。", "outputFormat": "输出一行 $n$ 个正整数，表示 $q$ 的字典序最大可能。", "hint": "【样例 1 解释】\n\n所有可能的分组情况有 $8$ 种可能，下面分别列出：\n\n|分组情况|最终排列 $q$|\n|:-:|:-:|\n|$(2)(1)(4)(3)$|$1,2,3,4$|\n|$(2)(1)(4,3)$|$1,2,3,4$|\n|$(2)(1,4)(3)$|$1,4,2,3$|\n|$(2)(1,4,3)$|$1,3,4,2$|\n|$(2,1)(4)(3)$|$1,2,3,4$|\n|$(2,1)(4,3)$|$1,2,3,4$|\n|$(2,1,4)(3)$|$1,2,4,3$|\n|$(2,1,4,3)$|$1,2,3,4$|\n\n关于表格，我们以 $(2)(1,4,3)$ 这个分组方式为例，演示排队结果的计算：\n\n- 首先 $(2)$ 这组喵喵的到达时间为第 $2$，$(1,4,3)$ 这组喵喵的到达时间为第 $1$，从而 $(1,4,3)$ 排在前面。\n- 然后 $(1,4,3)$ 这组喵喵内部按照到达时间排序，得到 $1,3,4$；$(2)$ 这组喵喵内部按照到达时间排序得到 $2$。\n- 最后把每组喵喵的排序结果拼起来，得到 $1,3,4,2$。\n\n【样例 2 解释】\n\n读者不难验证，无论喵喵怎么分组，因为无论组内还是组外都是从小到大排序的，所以 $q_i$ 永远是 $1,2,3,4,5,6$。\n\n【数据范围】\n\n对于全体数据，保证 $1\\le n\\le 3\\times 10^5$，且 $p_i$ 构成 $1\\sim n$ 的一个排列。\n\n|子任务编号|$n\\le$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|\n|1|$3$||11|\n|2|$16$||16|\n|3|$2000$||22|\n|4|$3\\times 10^5$|A|17|\n|5|$3\\times 10^5$||34|\n\n- 特殊性质 A：存在 $1\\le k\\le n$ 使得 $p_1>p_2>\\ldots >p_{k-1}> p_k < p_{k+1}<\\ldots < p_n$。例如，样例 2 就是 $k=6$ 的情形。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "排队", "background": "", "description": "第一届喵喵喵编程大赛即将开始，本次比赛有 $n$ 只喵喵参赛，编号依次为 $1,2,\\ldots, n$，已经分成了若干组，每一组喵喵的编号都是连续的一段。\n\n根据报名情况，你已经知道第 $i$ 只喵喵会第 $p_i$ 个到达现场，保证 $p_i$ 构成 $1\\sim n$ 的排列。\n\n一组喵喵的到达时间被定义为这一组喵喵中**最早到达**的喵喵的到达时间。\n\n喵喵的排队规则如下：\n\n- 先把所有的喵喵组按每组喵喵的到达时间从小到大排序。\n- 然后对于同一组喵喵，按照每只喵喵的到达时间从小到大排序。\n\n按照这个排队规则，可以得到一个新的排列 $q_1,\\ldots,q_n$，其中 $q_i$ 表示从前往后第 $i$ 只喵喵的**到达时间**。\n\n你已经知道了所有 $p_i$，但是不清楚喵喵的分组，你想知道排列 $q_1,q_2,\\ldots,q_n$ 的字典序最大可能是什么。", "inputFormat": "输入的第一行有一个正整数 $n$，表示喵喵数量。\n\n第二行有 $n$ 个正整数 $p_1,p_2,\\ldots,p_n$，表示每只喵喵的到达顺序。", "outputFormat": "输出一行 $n$ 个正整数，表示 $q$ 的字典序最大可能。", "hint": "【样例 1 解释】\n\n所有可能的分组情况有 $8$ 种可能，下面分别列出：\n\n|分组情况|最终排列 $q$|\n|:-:|:-:|\n|$(2)(1)(4)(3)$|$1,2,3,4$|\n|$(2)(1)(4,3)$|$1,2,3,4$|\n|$(2)(1,4)(3)$|$1,4,2,3$|\n|$(2)(1,4,3)$|$1,3,4,2$|\n|$(2,1)(4)(3)$|$1,2,3,4$|\n|$(2,1)(4,3)$|$1,2,3,4$|\n|$(2,1,4)(3)$|$1,2,4,3$|\n|$(2,1,4,3)$|$1,2,3,4$|\n\n关于表格，我们以 $(2)(1,4,3)$ 这个分组方式为例，演示排队结果的计算：\n\n- 首先 $(2)$ 这组喵喵的到达时间为第 $2$，$(1,4,3)$ 这组喵喵的到达时间为第 $1$，从而 $(1,4,3)$ 排在前面。\n- 然后 $(1,4,3)$ 这组喵喵内部按照到达时间排序，得到 $1,3,4$；$(2)$ 这组喵喵内部按照到达时间排序得到 $2$。\n- 最后把每组喵喵的排序结果拼起来，得到 $1,3,4,2$。\n\n【样例 2 解释】\n\n读者不难验证，无论喵喵怎么分组，因为无论组内还是组外都是从小到大排序的，所以 $q_i$ 永远是 $1,2,3,4,5,6$。\n\n【数据范围】\n\n对于全体数据，保证 $1\\le n\\le 3\\times 10^5$，且 $p_i$ 构成 $1\\sim n$ 的一个排列。\n\n|子任务编号|$n\\le$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|\n|1|$3$||11|\n|2|$16$||16|\n|3|$2000$||22|\n|4|$3\\times 10^5$|A|17|\n|5|$3\\times 10^5$||34|\n\n- 特殊性质 A：存在 $1\\le k\\le n$ 使得 $p_1>p_2>\\ldots >p_{k-1}> p_k < p_{k+1}<\\ldots < p_n$。例如，样例 2 就是 $k=6$ 的情形。", "locale": "zh-CN"}}}
{"pid": "P11397", "type": "P", "difficulty": 4, "samples": [["4", "9"], ["114", "785"], ["114514", "1930181"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "数论", "洛谷原创", "洛谷月赛", "Ad-hoc"], "title": "界分数", "background": "[标分数](https://www.luogu.com.cn/problem/P8319)", "description": "定义函数 $f(x)$：\n\n有一个 $\\frac{0}{x}$ 的分数。你可以进行以下两种操作直到这个分数为 $1$：\n\n1. 分子 $+1$，然后如果这个分数可以约分，约分到最简形式。\n2. 分子分母同时 $+1$，然后如果这个分数可以约分，约分到最简形式。\n\n$f(x)$ 的值为最小操作次数。\n\n给定 $n$，求 $\\sum\\limits_{i=1}^n f(i) \\bmod 998244353$。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个自然数，表示答案。", "hint": "【样例解释】\n\n$f(1)=1$，$f(2)=2$，$f(3)=3$，$f(4)=3$（$\\frac{1}{4}\\rightarrow\\frac{1}{2}\\rightarrow 1$）。\n\n【数据范围】\n\n对于全部数据，$1\\le n \\le 10^{18}$。\n\n**本题采用捆绑测试。**\n\n| Subtask 编号 | 特殊性质 | 分值 |\n| -----------: | -----------: |-----------: |\n| 0 | $n=5$ | $5$ |\n| 1 | $n\\le 10$ | $20$ |\n| 2 | $n\\le 10^3$ | $40$ |\n| 3 | $n\\le 10^6$ | $25$ |\n| 4 | 无特殊性质 | $10$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "界分数", "background": "[标分数](https://www.luogu.com.cn/problem/P8319)", "description": "定义函数 $f(x)$：\n\n有一个 $\\frac{0}{x}$ 的分数。你可以进行以下两种操作直到这个分数为 $1$：\n\n1. 分子 $+1$，然后如果这个分数可以约分，约分到最简形式。\n2. 分子分母同时 $+1$，然后如果这个分数可以约分，约分到最简形式。\n\n$f(x)$ 的值为最小操作次数。\n\n给定 $n$，求 $\\sum\\limits_{i=1}^n f(i) \\bmod 998244353$。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个自然数，表示答案。", "hint": "【样例解释】\n\n$f(1)=1$，$f(2)=2$，$f(3)=3$，$f(4)=3$（$\\frac{1}{4}\\rightarrow\\frac{1}{2}\\rightarrow 1$）。\n\n【数据范围】\n\n对于全部数据，$1\\le n \\le 10^{18}$。\n\n**本题采用捆绑测试。**\n\n| Subtask 编号 | 特殊性质 | 分值 |\n| -----------: | -----------: |-----------: |\n| 0 | $n=5$ | $5$ |\n| 1 | $n\\le 10$ | $20$ |\n| 2 | $n\\le 10^3$ | $40$ |\n| 3 | $n\\le 10^6$ | $25$ |\n| 4 | 无特殊性质 | $10$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P11398", "type": "P", "difficulty": 6, "samples": [["0 4 5\n2 1 3 3 1 1 1 2\n2 0\n1 4 6\n2 6\n1 3 8\n2 7\n", "2\n4\n1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["倍增", "洛谷原创", "分块", "洛谷月赛"], "title": "众数", "background": "", "description": "你有 $n$ 个数对 $(a_1,b_1),\\ldots,(a_n,b_n)$。\n\n定义**下标** $i(1\\le i\\le n)$ 的权值为将 $a_1$ 个 $b_1$，$a_2$ 个 $b_2$，...，$a_i$ 个 $b_i$ 拼接在一起后形成的数组的**最大众数**（特别地，若所有数出现次数相同则为最大数）乘以 $a_i$。\n\n接下来你有 $m$ 个操作，分两种：\n- `1 x y`，将 $a_x$ 增加 $y$。**保证 $y$ 非负。**\n- `2 q`，求最小的正整数 $k$ 使得**下标** $n-k+1 \\sim n$ 的权值异或和为 $q$。\n\n2 操作保证有解，且所有答案之和（记为 $\\sum k$）不超过 $5\\times 10^7$。", "inputFormat": "输入的第一行有三个正整数 $T,n,m$，分别表示测试点编号（样例为 $0$，Hack 数据是 $26\\sim 100$ 之间的自然数）、数对个数和操作个数。\n\n第二行有 $2n$ 个正整数 $a_1,b_1,a_2,b_2,\\ldots,a_n,b_n$，其中第 $2i-1$ 和第 $2i$ 个数分别表示第 $i$ 个数对的 $a_i,b_i$。\n\n之后有 $m$ 行，每行有一个操作，格式见题目描述。", "outputFormat": "对于每个 2 操作，输出一行一个正整数表示答案。", "hint": "【样例解释】\n\n最开始的四个数组为 $(2,1), (3,3),(1,1),(1,2)$。以计算下标 $2,4$ 的权值为例展示权值的计算方法：\n\n- 要计算下标 $2$ 的权值，就要把 $2$ 个 $1$、$3$ 个 $3$ 拼在一起得到 $[1,1,3,3,3]$，最大众数为 $3$；$a_2=3$，所以权值为 $3\\times 3 = 9$。\n- 要计算下标 $4$ 的权值，就要把 $2$ 个 $1$、$3$ 个 $3$、$1$ 个 $1$、$1$ 个 $2$ 拼在一起得 $[1,1,3,3,3,1,2]$，最大众数为 $3$；$a_4=1$，所以权值为 $3\\times 1=3$。\n\n以此类推，可知下标 $1,2,3,4$ 的权值依次为 $2,9,3,3$。当 $k=2$ 时，$3,4$ 的权值异或和 $3\\oplus 3$ 恰为 $0$，符合题意。\n\n接下来将 $a_4$ 增加 $6$ 变成 $7$，显然前 $3$ 个下标权值不变，下标 $4$ 的权值变成 $2\\times 7=14$。此时所有下标权值异或和 $2\\oplus 9\\oplus 3\\oplus 14=6$，符合题意，所以此时 $k=4$。\n\n然后把 $a_3$ 增加 $8$ 变成 $9$。现在 $1\\sim 4$ 的权值依次为 $2,9,9,7$，此时 $k=1,3$ 时对应的权值异或和都是 $7$，此时取更小的 $k$，所以输出 $1$。\n\n【数据范围】\n\n记 $L$ 为所有操作结束后，所有 $a_i$ 的最大值（例如样例中，$L=9$。）\n\n|测试点编号|$n,m\\le$|特殊性质|\n|:-:|:-:|:-:|\n|$1\\sim 2$|$30$|$a_i,y\\le 30$|\n|$3\\sim 4$|$500$||\n|$5\\sim 7$|$2000$||\n|$8\\sim 9$|$3\\times 10^5$|只有 2 操作|\n|$10$|$3\\times 10^5$|$b_i=1$|\n|$11\\sim 12$|$3\\times 10^5$|$b_i\\le 2$|\n|$13\\sim 15$|$3\\times 10^5$|$\\sum k\\le 5\\times 10^5$|\n|$16\\sim 19$|$3\\times 10^5$|$k\\le 300$|\n|$20\\sim 25$ |$3\\times 10^5$||\n\n对于全部数据，保证 $3\\le n,m\\le 3\\times 10^5$，且 $1\\le b_i\\le n$，$1\\le a_i\\le L\\le 10^9$。\n\n2 操作保证有解，且 $\\sum k\\le 5\\times 10^7$。\n\n**提示：本题读入量较大，建议选用较快的输入输出方式。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "众数", "background": "", "description": "你有 $n$ 个数对 $(a_1,b_1),\\ldots,(a_n,b_n)$。\n\n定义**下标** $i(1\\le i\\le n)$ 的权值为将 $a_1$ 个 $b_1$，$a_2$ 个 $b_2$，...，$a_i$ 个 $b_i$ 拼接在一起后形成的数组的**最大众数**（特别地，若所有数出现次数相同则为最大数）乘以 $a_i$。\n\n接下来你有 $m$ 个操作，分两种：\n- `1 x y`，将 $a_x$ 增加 $y$。**保证 $y$ 非负。**\n- `2 q`，求最小的正整数 $k$ 使得**下标** $n-k+1 \\sim n$ 的权值异或和为 $q$。\n\n2 操作保证有解，且所有答案之和（记为 $\\sum k$）不超过 $5\\times 10^7$。", "inputFormat": "输入的第一行有三个正整数 $T,n,m$，分别表示测试点编号（样例为 $0$，Hack 数据是 $26\\sim 100$ 之间的自然数）、数对个数和操作个数。\n\n第二行有 $2n$ 个正整数 $a_1,b_1,a_2,b_2,\\ldots,a_n,b_n$，其中第 $2i-1$ 和第 $2i$ 个数分别表示第 $i$ 个数对的 $a_i,b_i$。\n\n之后有 $m$ 行，每行有一个操作，格式见题目描述。", "outputFormat": "对于每个 2 操作，输出一行一个正整数表示答案。", "hint": "【样例解释】\n\n最开始的四个数组为 $(2,1), (3,3),(1,1),(1,2)$。以计算下标 $2,4$ 的权值为例展示权值的计算方法：\n\n- 要计算下标 $2$ 的权值，就要把 $2$ 个 $1$、$3$ 个 $3$ 拼在一起得到 $[1,1,3,3,3]$，最大众数为 $3$；$a_2=3$，所以权值为 $3\\times 3 = 9$。\n- 要计算下标 $4$ 的权值，就要把 $2$ 个 $1$、$3$ 个 $3$、$1$ 个 $1$、$1$ 个 $2$ 拼在一起得 $[1,1,3,3,3,1,2]$，最大众数为 $3$；$a_4=1$，所以权值为 $3\\times 1=3$。\n\n以此类推，可知下标 $1,2,3,4$ 的权值依次为 $2,9,3,3$。当 $k=2$ 时，$3,4$ 的权值异或和 $3\\oplus 3$ 恰为 $0$，符合题意。\n\n接下来将 $a_4$ 增加 $6$ 变成 $7$，显然前 $3$ 个下标权值不变，下标 $4$ 的权值变成 $2\\times 7=14$。此时所有下标权值异或和 $2\\oplus 9\\oplus 3\\oplus 14=6$，符合题意，所以此时 $k=4$。\n\n然后把 $a_3$ 增加 $8$ 变成 $9$。现在 $1\\sim 4$ 的权值依次为 $2,9,9,7$，此时 $k=1,3$ 时对应的权值异或和都是 $7$，此时取更小的 $k$，所以输出 $1$。\n\n【数据范围】\n\n记 $L$ 为所有操作结束后，所有 $a_i$ 的最大值（例如样例中，$L=9$。）\n\n|测试点编号|$n,m\\le$|特殊性质|\n|:-:|:-:|:-:|\n|$1\\sim 2$|$30$|$a_i,y\\le 30$|\n|$3\\sim 4$|$500$||\n|$5\\sim 7$|$2000$||\n|$8\\sim 9$|$3\\times 10^5$|只有 2 操作|\n|$10$|$3\\times 10^5$|$b_i=1$|\n|$11\\sim 12$|$3\\times 10^5$|$b_i\\le 2$|\n|$13\\sim 15$|$3\\times 10^5$|$\\sum k\\le 5\\times 10^5$|\n|$16\\sim 19$|$3\\times 10^5$|$k\\le 300$|\n|$20\\sim 25$ |$3\\times 10^5$||\n\n对于全部数据，保证 $3\\le n,m\\le 3\\times 10^5$，且 $1\\le b_i\\le n$，$1\\le a_i\\le L\\le 10^9$。\n\n2 操作保证有解，且 $\\sum k\\le 5\\times 10^7$。\n\n**提示：本题读入量较大，建议选用较快的输入输出方式。**", "locale": "zh-CN"}}}
{"pid": "P11399", "type": "P", "difficulty": 3, "samples": [["6\n7 5 4 1 2 8", "ZYBZYB"], ["5\n1 2 6 1 1", "Internationale!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Special Judge", "Code+"], "title": "[Code+#8 初赛] 集合划分", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "小 B、小 Y 和小 Z 是形影不离的好朋友，同时也是坚定的 xx 主义者。\n\n这天，他们得到了 $n$ 块蛋糕，第 $i$ 块重量是 $a_i$。 蛋糕不能切开，只能整块地分给某一个人；蛋糕更不能浪费，即每块蛋糕都应归于三个人中的一个。\n\n他们都具有大公无私的奉献精神，因此毫不在意自己分到的蛋糕重量比其他人小；但本着“主义高于友谊”的原则，他们必须保证任何两个人分到的蛋糕重量之和都严格大于第三个人，否则分到重量最小的两个人就会联合起来把旧世界打个落花流水。\n\n由于生产力过度发达，蛋糕的数量和重量都已经远远超出他们的人脑计算能力，于是他们前来请教掌握计算机技术的你，希望你能为他们给出一组合理的分配方案，或确定该方案不存在。", "inputFormat": "输入共包含两行。\n\n第一行输入一个正整数 $n$。\n\n第二行输入 $n$ 个正整数 $a_1,a_2,…,a_n$。", "outputFormat": "若不存在合法的分配方案，输出 `Internationale!`。\n\n若存在，则输出一个长度为 $n$ 的字符串，每个字符均为 `B`、`Y`、`Z` 中的一个，第 $i$ 个字符代表第 $i$ 块蛋糕的归属。\n\n若有多组合法方案，给出任意一组即可。", "hint": "**本题采用子任务评测。你必须通过一个子任务内的全部测试点，才能获得对应的分数。**\n\n对于全部数据，$3\\le n\\le 2\\times 10^5,\\ 1\\le a_i\\le 10^9$。\n\n子任务 $1$（$10$ 分）：保证 $n=3$。\n\n子任务 $2$（$16$ 分）：保证 $n\\le 16$。\n\n子任务 $3$（$16$ 分）：保证 $n\\le 10^3,a_i\\le n$。\n\n子任务 $4$（$28$ 分）：保证存在合法解。\n\n子任务 $5$（$30$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 初赛] 集合划分", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "小 B、小 Y 和小 Z 是形影不离的好朋友，同时也是坚定的 xx 主义者。\n\n这天，他们得到了 $n$ 块蛋糕，第 $i$ 块重量是 $a_i$。 蛋糕不能切开，只能整块地分给某一个人；蛋糕更不能浪费，即每块蛋糕都应归于三个人中的一个。\n\n他们都具有大公无私的奉献精神，因此毫不在意自己分到的蛋糕重量比其他人小；但本着“主义高于友谊”的原则，他们必须保证任何两个人分到的蛋糕重量之和都严格大于第三个人，否则分到重量最小的两个人就会联合起来把旧世界打个落花流水。\n\n由于生产力过度发达，蛋糕的数量和重量都已经远远超出他们的人脑计算能力，于是他们前来请教掌握计算机技术的你，希望你能为他们给出一组合理的分配方案，或确定该方案不存在。", "inputFormat": "输入共包含两行。\n\n第一行输入一个正整数 $n$。\n\n第二行输入 $n$ 个正整数 $a_1,a_2,…,a_n$。", "outputFormat": "若不存在合法的分配方案，输出 `Internationale!`。\n\n若存在，则输出一个长度为 $n$ 的字符串，每个字符均为 `B`、`Y`、`Z` 中的一个，第 $i$ 个字符代表第 $i$ 块蛋糕的归属。\n\n若有多组合法方案，给出任意一组即可。", "hint": "**本题采用子任务评测。你必须通过一个子任务内的全部测试点，才能获得对应的分数。**\n\n对于全部数据，$3\\le n\\le 2\\times 10^5,\\ 1\\le a_i\\le 10^9$。\n\n子任务 $1$（$10$ 分）：保证 $n=3$。\n\n子任务 $2$（$16$ 分）：保证 $n\\le 16$。\n\n子任务 $3$（$16$ 分）：保证 $n\\le 10^3,a_i\\le n$。\n\n子任务 $4$（$28$ 分）：保证存在合法解。\n\n子任务 $5$（$30$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P11400", "type": "P", "difficulty": 0, "samples": [["3 2 2 2\n1 2\n2 3\n2 3 5\n2 6\n2 2\n3 3", "2 1"], ["3 3 3 2\n1 2\n2 3\n1 3\n3 3 5\n3 3 3\n1 1\n2 1", "FAIL"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Code+"], "title": "[Code+#8 初赛] 打怪游戏", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "你正在玩一个打怪的小游戏。游戏在一张地图上进行，你的任务是手持武器，消灭地图上的所有怪物。\n\n地图上有 $n$ 座城市，$m$ 条无向道路相连这些城市，使得所有的城市都能通过道路直接或间接相连。每个城市上有一个怪物，第 $i$ 座城市的怪物血量是 $a_i$ 。\n\n最初，你有 $k$ 把武器，第 $i$ 把武器的耐久值为 $b_i$ 。\n\n你可以任选一个城市出发，沿道路行进。每当你第一次到达某个城市时，你需要与那里的怪物作战。作战规则为：你按照编号顺序使用手里的第一把武器，如果武器当前的耐久不低于怪物的血量，你就可以打死怪物，但武器会减少相当于怪物血量的耐久值；如果当前的武器耐久低于怪物血量，你便不能用这把武器打怪，需要立刻将这把武器丢弃并换下一把；如果你没有武器可换了，你就输掉了游戏。\n\n同时，地图上有 $q$ 个道具，分布在不同的城市，第 $i$ 个道具位于城市 $c_i$，其属性值为 $d_i$。每当你打死一个城市的怪物之后，如果这个城市有道具，你获得之。道具的作用是当你打怪的时候，你可以事先对怪使用一个道具使得怪的血量减少 $d_i$，减少到 $0$ 为止。每个道具最多只能被使用一次，每个怪只能被使用至多一个道具，注意道具并不需要获得后立刻使用。\n\n请问：你能否战胜所有的怪？如果能，请求出最优策略（即使用的武器数量 $x$ 最少，如有并列则最后一把使用的武器的剩余耐久 $y$ 最高），并输出 $x$ 和 $y$；如果不能取胜，只需输出一个字符串 `FAIL`。", "inputFormat": "第 $1$ 行，$4$ 个非负整数 $n,m,k,q$。\n\n接下来 $m$ 行，每行 $2$ 个正整数 $u_i,v_i$，表示一条连接城市 $u_i$ 与 $v_i$ 的道路。\n\n接下来 $1$ 行， $n$ 个正整数 $a_i$，表示怪物的血量。\n\n接下来 $1$ 行，$k$ 个正整数 $b_i$，表示武器的初始耐久值。\n\n接下来 $q$ 行，每行 $2$ 个正整数 $c_i,d_i$，描述一个道具。", "outputFormat": "输出共一行，如果存在获胜策略，输出 $2$ 个正整数 $x,y$，表示最优策略下使用了前 $x$ 把武器，最后一把使用的武器的剩余耐久是 $y$；如果不能取胜，输出一个字符串 `FAIL`。", "hint": "**【样例 #1 解释】**\n\n你的最优策略是先打城市 $3$ 的怪物。虽然你会直接丢弃武器 $1$，但你接下来可以凭借道具在不消耗耐久的前提下战胜城市 $2$ 和城市 $1$ 的怪物。如果选择先打城市 $1$ 的怪物，最后武器 $2$ 将只剩 $0$ 点耐久。\n\n**【样例 #2 解释】**\n\n因为你不能把两个道具都对城市 $3$ 的怪物使用，因此你无论如何也打不赢它。\n\n**【数据范围】**\n\n对于全部数据，$1\\leq n \\leq 18$，$n-1\\leq m \\leq n(n-1)/2$，$1\\leq k \\leq n$，$0\\leq q \\leq min(n,8)$，$1 \\leq a_i,b_i \\leq 10^9$，$1 \\leq c_i \\leq n$，$1 \\leq d_i \\leq 10^9$，$1 \\leq u_i,v_i \\leq n$，$u_i \\neq v_i$。保证所有 $c_i$ 互不相同，保证任何一对城市之间最多只有一条道路直接相连，且保证给出的图联通。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 初赛] 打怪游戏", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "你正在玩一个打怪的小游戏。游戏在一张地图上进行，你的任务是手持武器，消灭地图上的所有怪物。\n\n地图上有 $n$ 座城市，$m$ 条无向道路相连这些城市，使得所有的城市都能通过道路直接或间接相连。每个城市上有一个怪物，第 $i$ 座城市的怪物血量是 $a_i$ 。\n\n最初，你有 $k$ 把武器，第 $i$ 把武器的耐久值为 $b_i$ 。\n\n你可以任选一个城市出发，沿道路行进。每当你第一次到达某个城市时，你需要与那里的怪物作战。作战规则为：你按照编号顺序使用手里的第一把武器，如果武器当前的耐久不低于怪物的血量，你就可以打死怪物，但武器会减少相当于怪物血量的耐久值；如果当前的武器耐久低于怪物血量，你便不能用这把武器打怪，需要立刻将这把武器丢弃并换下一把；如果你没有武器可换了，你就输掉了游戏。\n\n同时，地图上有 $q$ 个道具，分布在不同的城市，第 $i$ 个道具位于城市 $c_i$，其属性值为 $d_i$。每当你打死一个城市的怪物之后，如果这个城市有道具，你获得之。道具的作用是当你打怪的时候，你可以事先对怪使用一个道具使得怪的血量减少 $d_i$，减少到 $0$ 为止。每个道具最多只能被使用一次，每个怪只能被使用至多一个道具，注意道具并不需要获得后立刻使用。\n\n请问：你能否战胜所有的怪？如果能，请求出最优策略（即使用的武器数量 $x$ 最少，如有并列则最后一把使用的武器的剩余耐久 $y$ 最高），并输出 $x$ 和 $y$；如果不能取胜，只需输出一个字符串 `FAIL`。", "inputFormat": "第 $1$ 行，$4$ 个非负整数 $n,m,k,q$。\n\n接下来 $m$ 行，每行 $2$ 个正整数 $u_i,v_i$，表示一条连接城市 $u_i$ 与 $v_i$ 的道路。\n\n接下来 $1$ 行， $n$ 个正整数 $a_i$，表示怪物的血量。\n\n接下来 $1$ 行，$k$ 个正整数 $b_i$，表示武器的初始耐久值。\n\n接下来 $q$ 行，每行 $2$ 个正整数 $c_i,d_i$，描述一个道具。", "outputFormat": "输出共一行，如果存在获胜策略，输出 $2$ 个正整数 $x,y$，表示最优策略下使用了前 $x$ 把武器，最后一把使用的武器的剩余耐久是 $y$；如果不能取胜，输出一个字符串 `FAIL`。", "hint": "**【样例 #1 解释】**\n\n你的最优策略是先打城市 $3$ 的怪物。虽然你会直接丢弃武器 $1$，但你接下来可以凭借道具在不消耗耐久的前提下战胜城市 $2$ 和城市 $1$ 的怪物。如果选择先打城市 $1$ 的怪物，最后武器 $2$ 将只剩 $0$ 点耐久。\n\n**【样例 #2 解释】**\n\n因为你不能把两个道具都对城市 $3$ 的怪物使用，因此你无论如何也打不赢它。\n\n**【数据范围】**\n\n对于全部数据，$1\\leq n \\leq 18$，$n-1\\leq m \\leq n(n-1)/2$，$1\\leq k \\leq n$，$0\\leq q \\leq min(n,8)$，$1 \\leq a_i,b_i \\leq 10^9$，$1 \\leq c_i \\leq n$，$1 \\leq d_i \\leq 10^9$，$1 \\leq u_i,v_i \\leq n$，$u_i \\neq v_i$。保证所有 $c_i$ 互不相同，保证任何一对城市之间最多只有一条道路直接相连，且保证给出的图联通。", "locale": "zh-CN"}}}
{"pid": "P11401", "type": "P", "difficulty": 6, "samples": [["ababa\n5 2 3 4 1", "3 3 2 2 1"], ["aaaa\n3 2 3 4", "2 3 2 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Code+"], "title": "[Code+#8 初赛] 普勒亚", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "魔法少女小七得到了一个神奇的长度为 $n$ 的字符串 $s$，每个位置对应有一个魔法值 $a_i$。每次她可以使用一个长度为 $l$ 的子串作为咒语。对于长度为 $l$ 的咒语 $t$，它的魔力是它在 $s$ 中出现的每个位置的右端点 $pos_j$（即 $\\forall i \\in [0,l),\\ s_{pos_j-i}=t_{l-i}$）的魔法值 $a_{pos_j}$ 从左往右连成的序列的**前缀最大值**个数。\n\n对于每个 $i \\in [1,n]$，小七想知道 $s$ 中所有长度为 $i$ 的咒语（两个咒语不同当且仅当其对应的字符串内容不同）的魔力之和。你能帮帮她吗？她会给你一个开心魔法作为报酬！\n\n**前缀最大值**：对于序列 $W$ 来说 $W_i$ 是前缀最大值当且仅当对于任何 $j<i$ 都有 $W_j<W_i$。", "inputFormat": "第 $1$ 行，一个长度为 $n$ 的字符串 $s$。\n\n第 $2$ 行，$n$ 个正整数表示对应的魔法值 $a_i$。", "outputFormat": "输出 $1$ 行 $n$ 个正整数，第 $i$ 个数表示长度为 $i$ 的咒语的魔法值之和。", "hint": "**【样例 #1 解释】**\n\n长度为 $1$ 的子串有 `a` 和 `b` 两种，分别构成序列 `5 3 1` 和 `2 4`，各自的前缀最大值个数为 $1$ 和 $2$。\n\n长度为 $2$ 的子串有 `ab` 和 `ba` 两种，分别构成序列 `2 4` 和 `3 1`，各自的前缀最大值个数为 $2$ 和 $1$。\n\n长度为 $3$ 的子串有 `aba` 和 `bab` 两种，构成序列 `3 1` 和 `4`，各自的前缀最大值个数为 $1$ 和 $1$。\n\n长度为 $4$ 的子串有 `abab` 和 `baba` 两种，构成序列 `4` 和 `1` ，各自的前缀最大值个数为 $1$ 和 $1$。\n\n长度为 $5$ 的子串有 `ababa` 一种，构成序列 `1`，前缀最大值个数为 $1$。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，$n \\le 100$。\n\n对于另外 $20\\%$ 的数据，$n \\le 5000$。\n\n对于另外 $20\\%$ 的数据，$s$ 中只有字符 `a`。\n\n对于 $100\\%$ 的数据，保证 $n \\le 100,000$，$s$ 中只包含小写英文字母。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 初赛] 普勒亚", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "魔法少女小七得到了一个神奇的长度为 $n$ 的字符串 $s$，每个位置对应有一个魔法值 $a_i$。每次她可以使用一个长度为 $l$ 的子串作为咒语。对于长度为 $l$ 的咒语 $t$，它的魔力是它在 $s$ 中出现的每个位置的右端点 $pos_j$（即 $\\forall i \\in [0,l),\\ s_{pos_j-i}=t_{l-i}$）的魔法值 $a_{pos_j}$ 从左往右连成的序列的**前缀最大值**个数。\n\n对于每个 $i \\in [1,n]$，小七想知道 $s$ 中所有长度为 $i$ 的咒语（两个咒语不同当且仅当其对应的字符串内容不同）的魔力之和。你能帮帮她吗？她会给你一个开心魔法作为报酬！\n\n**前缀最大值**：对于序列 $W$ 来说 $W_i$ 是前缀最大值当且仅当对于任何 $j<i$ 都有 $W_j<W_i$。", "inputFormat": "第 $1$ 行，一个长度为 $n$ 的字符串 $s$。\n\n第 $2$ 行，$n$ 个正整数表示对应的魔法值 $a_i$。", "outputFormat": "输出 $1$ 行 $n$ 个正整数，第 $i$ 个数表示长度为 $i$ 的咒语的魔法值之和。", "hint": "**【样例 #1 解释】**\n\n长度为 $1$ 的子串有 `a` 和 `b` 两种，分别构成序列 `5 3 1` 和 `2 4`，各自的前缀最大值个数为 $1$ 和 $2$。\n\n长度为 $2$ 的子串有 `ab` 和 `ba` 两种，分别构成序列 `2 4` 和 `3 1`，各自的前缀最大值个数为 $2$ 和 $1$。\n\n长度为 $3$ 的子串有 `aba` 和 `bab` 两种，构成序列 `3 1` 和 `4`，各自的前缀最大值个数为 $1$ 和 $1$。\n\n长度为 $4$ 的子串有 `abab` 和 `baba` 两种，构成序列 `4` 和 `1` ，各自的前缀最大值个数为 $1$ 和 $1$。\n\n长度为 $5$ 的子串有 `ababa` 一种，构成序列 `1`，前缀最大值个数为 $1$。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，$n \\le 100$。\n\n对于另外 $20\\%$ 的数据，$n \\le 5000$。\n\n对于另外 $20\\%$ 的数据，$s$ 中只有字符 `a`。\n\n对于 $100\\%$ 的数据，保证 $n \\le 100,000$，$s$ 中只包含小写英文字母。", "locale": "zh-CN"}}}
{"pid": "P11402", "type": "P", "difficulty": 6, "samples": [["2 199932539\n1\n6", "1\n10"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2022", "Code+"], "title": "[Code+#8 初赛] 图", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "本题中，对于一个无重边自环的无向图，称图上的一条道路为**简单路**当且仅当其不经过重复节点。即，假设该道路经过的节点依次为 $(u_1,u_2,\\cdots,u_k)$，则这条道路为简单路当且仅当 $u_1,u_2,\\cdots,u_k$ 两两不同。\n\n给出大质数 $P$ 和 $q$ 次询问，每组询问给出正整数 $n$，你需要求出满足以下所有条件的**有标号**无向图个数，对 $P$ 取模：\n\n1. 图有 $n$ 个节点且不存在重边与自环；\n2. 图上不存在边数为 $3$ 的简单路，即图上无法找到四个两两不同的节点 $u_1,u_2,u_3,u_4$ 满足 $(u_1,u_2),(u_2,u_3),(u_3,u_4)$ 均在图中；\n3. 在满足条件 1 和 2 的基础上，图的边数最多。", "inputFormat": "输入的第一行包含两个正整数 $q$, $P$，保证 $q \\le 100,000$，分别表示询问次数和模数。\n\n接下来 $q$ 行每行包含一个正整数 $n$，保证 $n \\le 3 \\times 10^7$，描述一次询问。", "outputFormat": "对于每组询问输出一行一个非负整数，表示满足条件的有标号无向图个数对 $P$ 取模的值。", "hint": "**【样例解释】**\n\n以下样例解释将用 $1$ 到 $n$ 之间的整数给每个节点进行编号。\n\n对于第一组询问，只有边集为 $\\varnothing$ 的图满足条件。\n\n对于第二组询问，其中两个满足条件的图的边集分别为 ${(1,2)(2,3)(1,3)(4,5)(5,6)(4,6)}$ 和 ${(1,3)(3,5)(1,5)(2,4)(4,6)(2,6)}$。\n\n**【数据范围】**\n\n对于全部数据，保证 $10^8\\lt P\\lt 10^9$ 且 $P$ 是素数。\n\n本题共 $5$ 个测试点：\n\n测试点 $1$ 保证 $n,q\\le8$，分值为 $20$ 分；\n\n测试点 $2$ 保证 $n,q\\le200$，分值为 $15$ 分；\n\n测试点 $3$ 保证 $n,q\\le3000$，分值为 $15$ 分；\n\n测试点 $4$ 保证 $n\\le500,000,q\\le100,000$，分值为 $20$ 分；\n\n测试点 $5$ 保证 $n\\le3\\times10^7,q\\le100,000$，分值为 $30$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 初赛] 图", "background": "搬运自 [Code+ #8 初赛](https://gitlink.org.cn/thusaa/codeplus8pre)。", "description": "本题中，对于一个无重边自环的无向图，称图上的一条道路为**简单路**当且仅当其不经过重复节点。即，假设该道路经过的节点依次为 $(u_1,u_2,\\cdots,u_k)$，则这条道路为简单路当且仅当 $u_1,u_2,\\cdots,u_k$ 两两不同。\n\n给出大质数 $P$ 和 $q$ 次询问，每组询问给出正整数 $n$，你需要求出满足以下所有条件的**有标号**无向图个数，对 $P$ 取模：\n\n1. 图有 $n$ 个节点且不存在重边与自环；\n2. 图上不存在边数为 $3$ 的简单路，即图上无法找到四个两两不同的节点 $u_1,u_2,u_3,u_4$ 满足 $(u_1,u_2),(u_2,u_3),(u_3,u_4)$ 均在图中；\n3. 在满足条件 1 和 2 的基础上，图的边数最多。", "inputFormat": "输入的第一行包含两个正整数 $q$, $P$，保证 $q \\le 100,000$，分别表示询问次数和模数。\n\n接下来 $q$ 行每行包含一个正整数 $n$，保证 $n \\le 3 \\times 10^7$，描述一次询问。", "outputFormat": "对于每组询问输出一行一个非负整数，表示满足条件的有标号无向图个数对 $P$ 取模的值。", "hint": "**【样例解释】**\n\n以下样例解释将用 $1$ 到 $n$ 之间的整数给每个节点进行编号。\n\n对于第一组询问，只有边集为 $\\varnothing$ 的图满足条件。\n\n对于第二组询问，其中两个满足条件的图的边集分别为 ${(1,2)(2,3)(1,3)(4,5)(5,6)(4,6)}$ 和 ${(1,3)(3,5)(1,5)(2,4)(4,6)(2,6)}$。\n\n**【数据范围】**\n\n对于全部数据，保证 $10^8\\lt P\\lt 10^9$ 且 $P$ 是素数。\n\n本题共 $5$ 个测试点：\n\n测试点 $1$ 保证 $n,q\\le8$，分值为 $20$ 分；\n\n测试点 $2$ 保证 $n,q\\le200$，分值为 $15$ 分；\n\n测试点 $3$ 保证 $n,q\\le3000$，分值为 $15$ 分；\n\n测试点 $4$ 保证 $n\\le500,000,q\\le100,000$，分值为 $20$ 分；\n\n测试点 $5$ 保证 $n\\le3\\times10^7,q\\le100,000$，分值为 $30$ 分。", "locale": "zh-CN"}}}
{"pid": "P11403", "type": "P", "difficulty": 5, "samples": [], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "交互题", "Special Judge", "通信题", "RMI（罗马尼亚）"], "title": "[RMI 2020] 软盘 / Floppy", "background": "\n译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D1T1。$\\texttt{0.5s,0.25G}$。\n\n不要 $\\texttt{\\#include \"floppy.h\"}$。\n\n在文件头加入如下的语句：\n\n```cpp\n#include <string>\nvoid save_to_floppy(const std::string&);\n```", "description": "\n**这是一道通信题。**\n\n有一个长度为 $N$ 的整数序列 $v_0,v_1,\\cdots,v_{N-1}$，其中**元素两两不同**。\n\n有 $M$ 个询问，形如：给定 $[l,r]$，求出 $x\\in [l,r]$ 使得 $v_x=\\max\\{v_l,v_{l+1},\\cdots,v_{r}\\}$。\n\n请你将这个序列压缩成一个 $\\texttt{01}$ 串保存在软盘上，并只使用这个 $\\texttt{01}$ 串回答这些询问。\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nvoid read_array(int subtask_id, const std::vector<int> &v);\nstd::vector<int> solve_queries(int subtask_id, \n    int N, const std::string &bits, \n    const std::vector<int> &a,\n    const std::vector<int> &b);\n```\n\n你可以调用以下的函数。\n\n```cpp\nvoid save_to_floppy(const std::string &bits);\n```\n#### 第一次运行\n\n交互库将会调用 `read_array` 函数恰好一次。参数的含义：\n- `subtask_id`：子任务编号。\n- `v`：数列 $v$。\n\n随后，调用 `save_to_floppy` 函数**恰好一次**，传入一个 $\\texttt{01}$ 串，表示你要存储的信息。\n\n#### 第二次运行\n\n交互库将会调用 `solve_queries` 函数恰好一次。参数的含义：\n- `subtask_id`：子任务编号。\n- `N`：$v$ 的长度。\n- `bits`：软盘上的信息。\n- `a`, `b`：每次询问的左右端点。\n\n设有 $M$ 次询问，返回一个长度为 $M$ 的 `std::vector<int>` 表示每次询问的答案。\n\n", "inputFormat": "", "outputFormat": "", "hint": "\n对于 $100\\%$ 的数据，保证：\n- $1\\le N\\le 4\\times 10^4$；\n- $1\\le M\\le 8\\times 10^4$；\n- $-10^9\\le v_i\\le 10^9$。\n\n你保存的 $\\texttt{01}$ 串最长为 $2\\times 10^5$。超出限制，得 $0$ 分。\n\n| 子任务编号 | $N\\le  $ | $M\\le$ | 特殊性质 | 计分方式 | 得分 |  \n| :--: | :--: |  :--: | :--: |:--: | :--: |\n| $ 1 $    | $ 500 $  | $10^3$ | A | I | $7$ | \n| $ 2 $    | $ 10^4 $  | $2\\times 10^4$ |  | II | $21$ | \n| $ 3 $    | $ 4\\times 10^4 $  | $8\\times 10^4$ |  | III | $72$ |\n\n- 特殊性质 A：$0\\le v_i\\lt N$。\n- 计分方式 $\\text{I}$：正确回答每个询问，得满分；否则得零分。\n- 计分方式 $\\text{II}$：令 $\\texttt{01}$ 串长度为 $L$，得分为 $21\\cdot \\min(1,1/2^{L/N-1-\\log_2 N})$。\n- 计分方式 $\\text{III}$：令 $\\texttt{01}$ 串长度为 $L$，得分为 $72\\cdot \\min(1,1/2^{L/N-2})$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RMI 2020] 软盘 / Floppy", "background": "\n译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D1T1。$\\texttt{0.5s,0.25G}$。\n\n不要 $\\texttt{\\#include \"floppy.h\"}$。\n\n在文件头加入如下的语句：\n\n```cpp\n#include <string>\nvoid save_to_floppy(const std::string&);\n```", "description": "\n**这是一道通信题。**\n\n有一个长度为 $N$ 的整数序列 $v_0,v_1,\\cdots,v_{N-1}$，其中**元素两两不同**。\n\n有 $M$ 个询问，形如：给定 $[l,r]$，求出 $x\\in [l,r]$ 使得 $v_x=\\max\\{v_l,v_{l+1},\\cdots,v_{r}\\}$。\n\n请你将这个序列压缩成一个 $\\texttt{01}$ 串保存在软盘上，并只使用这个 $\\texttt{01}$ 串回答这些询问。\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nvoid read_array(int subtask_id, const std::vector<int> &v);\nstd::vector<int> solve_queries(int subtask_id, \n    int N, const std::string &bits, \n    const std::vector<int> &a,\n    const std::vector<int> &b);\n```\n\n你可以调用以下的函数。\n\n```cpp\nvoid save_to_floppy(const std::string &bits);\n```\n#### 第一次运行\n\n交互库将会调用 `read_array` 函数恰好一次。参数的含义：\n- `subtask_id`：子任务编号。\n- `v`：数列 $v$。\n\n随后，调用 `save_to_floppy` 函数**恰好一次**，传入一个 $\\texttt{01}$ 串，表示你要存储的信息。\n\n#### 第二次运行\n\n交互库将会调用 `solve_queries` 函数恰好一次。参数的含义：\n- `subtask_id`：子任务编号。\n- `N`：$v$ 的长度。\n- `bits`：软盘上的信息。\n- `a`, `b`：每次询问的左右端点。\n\n设有 $M$ 次询问，返回一个长度为 $M$ 的 `std::vector<int>` 表示每次询问的答案。\n\n", "inputFormat": "", "outputFormat": "", "hint": "\n对于 $100\\%$ 的数据，保证：\n- $1\\le N\\le 4\\times 10^4$；\n- $1\\le M\\le 8\\times 10^4$；\n- $-10^9\\le v_i\\le 10^9$。\n\n你保存的 $\\texttt{01}$ 串最长为 $2\\times 10^5$。超出限制，得 $0$ 分。\n\n| 子任务编号 | $N\\le  $ | $M\\le$ | 特殊性质 | 计分方式 | 得分 |  \n| :--: | :--: |  :--: | :--: |:--: | :--: |\n| $ 1 $    | $ 500 $  | $10^3$ | A | I | $7$ | \n| $ 2 $    | $ 10^4 $  | $2\\times 10^4$ |  | II | $21$ | \n| $ 3 $    | $ 4\\times 10^4 $  | $8\\times 10^4$ |  | III | $72$ |\n\n- 特殊性质 A：$0\\le v_i\\lt N$。\n- 计分方式 $\\text{I}$：正确回答每个询问，得满分；否则得零分。\n- 计分方式 $\\text{II}$：令 $\\texttt{01}$ 串长度为 $L$，得分为 $21\\cdot \\min(1,1/2^{L/N-1-\\log_2 N})$。\n- 计分方式 $\\text{III}$：令 $\\texttt{01}$ 串长度为 $L$，得分为 $72\\cdot \\min(1,1/2^{L/N-2})$。\n", "locale": "zh-CN"}}}
{"pid": "P11404", "type": "P", "difficulty": 5, "samples": [["axxyxxyb\n0 3\n1 1\n0 2\n3 2", "1\n1\n1\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "交互题", "RMI（罗马尼亚）"], "title": "[RMI 2020] 蝶变 / Brperm", "background": "译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D1T2。$\\texttt{2s,0.25G}$。\n\n「我，也会有蜕变成蝶的一天吗？」\n\n**附件提供了 Sample grader**。\n\n提交时，**不需要**引入 `brperm.h`。\n", "description": "\n**这是一道（函数式）交互题。**\n\n定义一个长度为 $2^k$ 的序列 $[a_0,a_1,\\cdots,a_{2^k-1}]$ **蝶变**之后的结果为 $[a_{\\operatorname{rev}(0)},a_{\\operatorname{rev}(1)},\\cdots,a_{\\operatorname{rev}(2^k-1)}]$，其中 $\\operatorname{rev}(i)$ 表示将 $i$ 的二进制表示下最低 $k$ 位翻转（reverse）后得到的结果。更为具体地说，令 $i=\\overline{b_kb_{k-1}\\cdots b_1}$，则 $\\operatorname{rev}(i)=\\overline{b_1b_{2}\\cdots b_k}$。\n\n定义一个长度为 $2^k$ 的序列是**美的**，当且仅当蝶变后的序列与原序列相同。\n\n给定一个长度为 $N$ 的字符串 $s$，字符集为小写英文字母。$Q$ 次询问给定 $i,k$，问 $s[i:i+2^k-1]$ 是否是美的。\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nvoid init(int N, const char s[]);\nint query(int i, int k);\n```\n\n交互库会调用 `init` 函数恰好一次。参数的含义：\n- `N`：字符串长度。\n- `s`：字符串。\n\n接下来调用 $Q$ 次 `query` 函数。这里，$0\\le i\\lt N$。\n\n**注意：不保证 $\\textcolor{red}{i+2^k\\le N}$**。如果 $i+2^k\\gt N$，返回 $0$ 即可。\n\n返回 `1`，代表所查询的子串是美的；否则代表它不是美的。\n", "inputFormat": "这里提供的是 Sample grader 的输入格式。\n\n第一行，一个字符串 $s$。\n\n接下来若干行，每行两个正整数 $i,k$ 描述一次询问。输入直到 EOF。\n", "outputFormat": "这里提供的是 Sample grader 的输出格式。\n\n对于每个询问，输出一行一个整数 $\\texttt{0}/\\texttt{1}$，表示答案。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le N,Q\\le 5\\times 10^5$。\n\n\n| 子任务编号 | $N,Q\\le  $ |  特殊性质 | 得分 |  \n| :--: | :--: |  :--: | :--: |\n| $ 1 $    | $ 10^3 $  |  | $13$ | \n| $ 2 $    | $ 10^5 $  |  |  $37$ | \n| $ 3 $    | $ 5\\times 10^5 $  | A |  $17$ |\n| $ 4 $    | $ 5\\times 10^5 $  |  |  $33$ |\n\n- 特殊性质 A：$s$ 中只有字母 $\\texttt{a},\\texttt{b}$，且每个字母是以某个固定比例独立随机从字符集中选取的。\n\n**注意：不保证 $\\textcolor{red}{i+2^k\\le N}$**。如果 $i+2^k\\gt N$，返回 $0$ 即可。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RMI 2020] 蝶变 / Brperm", "background": "译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D1T2。$\\texttt{2s,0.25G}$。\n\n「我，也会有蜕变成蝶的一天吗？」\n\n**附件提供了 Sample grader**。\n\n提交时，**不需要**引入 `brperm.h`。\n", "description": "\n**这是一道（函数式）交互题。**\n\n定义一个长度为 $2^k$ 的序列 $[a_0,a_1,\\cdots,a_{2^k-1}]$ **蝶变**之后的结果为 $[a_{\\operatorname{rev}(0)},a_{\\operatorname{rev}(1)},\\cdots,a_{\\operatorname{rev}(2^k-1)}]$，其中 $\\operatorname{rev}(i)$ 表示将 $i$ 的二进制表示下最低 $k$ 位翻转（reverse）后得到的结果。更为具体地说，令 $i=\\overline{b_kb_{k-1}\\cdots b_1}$，则 $\\operatorname{rev}(i)=\\overline{b_1b_{2}\\cdots b_k}$。\n\n定义一个长度为 $2^k$ 的序列是**美的**，当且仅当蝶变后的序列与原序列相同。\n\n给定一个长度为 $N$ 的字符串 $s$，字符集为小写英文字母。$Q$ 次询问给定 $i,k$，问 $s[i:i+2^k-1]$ 是否是美的。\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nvoid init(int N, const char s[]);\nint query(int i, int k);\n```\n\n交互库会调用 `init` 函数恰好一次。参数的含义：\n- `N`：字符串长度。\n- `s`：字符串。\n\n接下来调用 $Q$ 次 `query` 函数。这里，$0\\le i\\lt N$。\n\n**注意：不保证 $\\textcolor{red}{i+2^k\\le N}$**。如果 $i+2^k\\gt N$，返回 $0$ 即可。\n\n返回 `1`，代表所查询的子串是美的；否则代表它不是美的。\n", "inputFormat": "这里提供的是 Sample grader 的输入格式。\n\n第一行，一个字符串 $s$。\n\n接下来若干行，每行两个正整数 $i,k$ 描述一次询问。输入直到 EOF。\n", "outputFormat": "这里提供的是 Sample grader 的输出格式。\n\n对于每个询问，输出一行一个整数 $\\texttt{0}/\\texttt{1}$，表示答案。", "hint": "\n对于 $100\\%$ 的数据，保证 $1\\le N,Q\\le 5\\times 10^5$。\n\n\n| 子任务编号 | $N,Q\\le  $ |  特殊性质 | 得分 |  \n| :--: | :--: |  :--: | :--: |\n| $ 1 $    | $ 10^3 $  |  | $13$ | \n| $ 2 $    | $ 10^5 $  |  |  $37$ | \n| $ 3 $    | $ 5\\times 10^5 $  | A |  $17$ |\n| $ 4 $    | $ 5\\times 10^5 $  |  |  $33$ |\n\n- 特殊性质 A：$s$ 中只有字母 $\\texttt{a},\\texttt{b}$，且每个字母是以某个固定比例独立随机从字符集中选取的。\n\n**注意：不保证 $\\textcolor{red}{i+2^k\\le N}$**。如果 $i+2^k\\gt N$，返回 $0$ 即可。\n", "locale": "zh-CN"}}}
{"pid": "P11405", "type": "P", "difficulty": 6, "samples": [["8 3\n3 2 9 8 7 11 3 4", "720026253"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "交互题", "RMI（罗马尼亚）"], "title": "[RMI 2020] 秘鲁 / Peru", "background": "译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D1T3。$\\texttt{0.2s,0.25G}$。", "description": "**这是一道（函数式）交互题。**\n\n有 $N$ 只甲虫在桌面上排成一行，从左到右编号为 $0\\sim N-1$。第 $i$ 只甲虫的**体力**为 $S_i$。\n\n每次可以选择**连续的**至多 $K$ 只甲虫，用 $E$ 的力量去击打它们。被击打的甲虫，若体力**不大于** $E$，则会死亡，否则无事发生。**死亡的甲虫会留在原地，可以击打死亡的甲虫。**\n\n可以多次击打甲虫，每次 $E$ 的大小可以不同。\n\n定义 $f(i)$ 为：杀死最左边的 $i$ 只甲虫，需要力量和的最小值。对于 $i=1,2,\\cdots,N$，求出 $f(i)$。\n\n为了减小输出量，你只需要求出 $\\displaystyle \\left(\\sum_{1\\le i\\le N} f(i)\\cdot 23^{N-i}\\right)\\bmod (10^9+7)$。\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nint solve(int N, int K, int S[]);\n```\n\n交互库会调用 `solve` 函数恰好一次。参数的含义：\n- `N`：甲虫数量。\n- `K`：一次击打最多击打的连续甲虫数。\n- `S`：每只甲虫的体力。\n\n返回一个整数表示 $\\displaystyle \\left(\\sum_{1\\le i\\le N} f(i)\\cdot 23^{N-i}\\right)\\bmod (10^9+7)$。", "inputFormat": "Sample grader 按照如下格式读取输入：\n\n第一行，两个正整数 $N,K$；\n\n第二行，$N$ 个正整数 $S_0,S_1,\\cdots,S_{N-1}$。", "outputFormat": "Sample grader 输出一个整数，表示选手返回的答案。", "hint": "#### 样例解释\n\n$f$ 的值分别为 $3,3,9,12,12,20,23,23$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le K\\le N\\le 2.5\\times 10^6$；\n- $1\\le S_i\\le 2\\times 10^9$。\n\n\n| 子任务编号 | $N,Q\\le  $ |  得分 |  \n| :--: | :--: |  :--: | \n| $ 1 $    | $ 2\\times 10^3 $  |  $18$ | \n| $ 2 $    | $ 4\\times 10^5 $  |  $31$ | \n| $ 3 $    | $ 2.5\\times 10^6 $  | $51$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RMI 2020] 秘鲁 / Peru", "background": "译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D1T3。$\\texttt{0.2s,0.25G}$。", "description": "**这是一道（函数式）交互题。**\n\n有 $N$ 只甲虫在桌面上排成一行，从左到右编号为 $0\\sim N-1$。第 $i$ 只甲虫的**体力**为 $S_i$。\n\n每次可以选择**连续的**至多 $K$ 只甲虫，用 $E$ 的力量去击打它们。被击打的甲虫，若体力**不大于** $E$，则会死亡，否则无事发生。**死亡的甲虫会留在原地，可以击打死亡的甲虫。**\n\n可以多次击打甲虫，每次 $E$ 的大小可以不同。\n\n定义 $f(i)$ 为：杀死最左边的 $i$ 只甲虫，需要力量和的最小值。对于 $i=1,2,\\cdots,N$，求出 $f(i)$。\n\n为了减小输出量，你只需要求出 $\\displaystyle \\left(\\sum_{1\\le i\\le N} f(i)\\cdot 23^{N-i}\\right)\\bmod (10^9+7)$。\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nint solve(int N, int K, int S[]);\n```\n\n交互库会调用 `solve` 函数恰好一次。参数的含义：\n- `N`：甲虫数量。\n- `K`：一次击打最多击打的连续甲虫数。\n- `S`：每只甲虫的体力。\n\n返回一个整数表示 $\\displaystyle \\left(\\sum_{1\\le i\\le N} f(i)\\cdot 23^{N-i}\\right)\\bmod (10^9+7)$。", "inputFormat": "Sample grader 按照如下格式读取输入：\n\n第一行，两个正整数 $N,K$；\n\n第二行，$N$ 个正整数 $S_0,S_1,\\cdots,S_{N-1}$。", "outputFormat": "Sample grader 输出一个整数，表示选手返回的答案。", "hint": "#### 样例解释\n\n$f$ 的值分别为 $3,3,9,12,12,20,23,23$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le K\\le N\\le 2.5\\times 10^6$；\n- $1\\le S_i\\le 2\\times 10^9$。\n\n\n| 子任务编号 | $N,Q\\le  $ |  得分 |  \n| :--: | :--: |  :--: | \n| $ 1 $    | $ 2\\times 10^3 $  |  $18$ | \n| $ 2 $    | $ 4\\times 10^5 $  |  $31$ | \n| $ 3 $    | $ 2.5\\times 10^6 $  | $51$ |", "locale": "zh-CN"}}}
{"pid": "P11406", "type": "P", "difficulty": 6, "samples": [["10\n1 2 -3 0 1 -4 3 2 -1 1\n3\n1 10\n1 5\n2 9", "4\n2\n2"]], "limits": {"time": [600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600], "memory": [20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480, 20480]}, "tags": ["2020", "RMI（罗马尼亚）"], "title": "[RMI 2020] 零和 / Sum Zero", "background": "译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D2T1。$\\texttt{0.6s,\\textcolor{red}{20M}}$。\n\n**请注意本题非同寻常的空间限制。**\n", "description": "\n给定长度为 $N$ 的数列 $c_1,\\cdots,c_N$。\n\n$Q$ 次询问给定 $L,R$，求出最多能够选出多少个 $[L,R]$ 的**不交**子区间，满足每个子区间内 $c_i$ 的和均为 $0$。\n\n", "inputFormat": "\n第一行，一个正整数 $N$。\n\n第二行，$N$ 个整数 $c_1,\\cdots,c_N$。\n\n第三行，一个正整数 $Q$。\n\n接下来 $Q$ 行，每行两个正整数 $L,R$。", "outputFormat": "\n输出 $Q$ 行，每行一个整数表示答案。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N,Q\\le 4\\times 10^5$；\n- $-10^9\\le c_i\\le 10^9$；\n- $1\\le L\\le R\\le N$。\n\n\n| 子任务编号 | $N,Q\\le  $ |  得分 |  \n| :--: | :--: |  :--: | \n| $ 1 $    | $ 5\\times 10^3 $  |  $22$ | \n| $ 2 $    | $  10^5 $  |  $39$ | \n| $ 3 $    | $ 4\\times 10^5 $  | $39$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RMI 2020] 零和 / Sum Zero", "background": "译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D2T1。$\\texttt{0.6s,\\textcolor{red}{20M}}$。\n\n**请注意本题非同寻常的空间限制。**\n", "description": "\n给定长度为 $N$ 的数列 $c_1,\\cdots,c_N$。\n\n$Q$ 次询问给定 $L,R$，求出最多能够选出多少个 $[L,R]$ 的**不交**子区间，满足每个子区间内 $c_i$ 的和均为 $0$。\n\n", "inputFormat": "\n第一行，一个正整数 $N$。\n\n第二行，$N$ 个整数 $c_1,\\cdots,c_N$。\n\n第三行，一个正整数 $Q$。\n\n接下来 $Q$ 行，每行两个正整数 $L,R$。", "outputFormat": "\n输出 $Q$ 行，每行一个整数表示答案。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N,Q\\le 4\\times 10^5$；\n- $-10^9\\le c_i\\le 10^9$；\n- $1\\le L\\le R\\le N$。\n\n\n| 子任务编号 | $N,Q\\le  $ |  得分 |  \n| :--: | :--: |  :--: | \n| $ 1 $    | $ 5\\times 10^3 $  |  $22$ | \n| $ 2 $    | $  10^5 $  |  $39$ | \n| $ 3 $    | $ 4\\times 10^5 $  | $39$ |", "locale": "zh-CN"}}}
{"pid": "P11407", "type": "P", "difficulty": 7, "samples": [["1\n1 10000 10000\n1 0\n", ""]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "交互题", "Special Judge", "RMI（罗马尼亚）"], "title": "[RMI 2020] 寻线 / Nice Lines", "background": "\n译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D2T2。$\\texttt{0.2s,0.25G}$。\n\n**不需要引入头文件**。在文件头加入\n\n```cpp\nlong double query(long double x, long double y);\nvoid the_lines_are(std::vector<int> a, std::vector<int> b);\n```\n\n以评测。\n\n---\n\n交互库地址：\n- checker.cpp：[https://www.luogu.com.cn/paste/9l2ikcx9](https://www.luogu.com.cn/paste/9l2ikcx9)\n- interactive_lib.cpp：[https://www.luogu.com.cn/paste/m4jysztc](https://www.luogu.com.cn/paste/m4jysztc)\n\n为了减少计算 Eculidean 距离时的精度损失，本题交互库使用了 [tiger2005](https://www.luogu.com.cn/user/60864) 的 [高精度小数类](https://www.luogu.com.cn/article/5dhvt1ck)（感谢 tiger2005 老师）。计算结果将保留小数点后 $50$ 位然后转换到 `long double`。\n\n为了让交互库不 TLE，我们将时限开大到 3s。\n\n如果发现 SPJ 有锅（具体而言，在其他地方可以通过），请联系搬题人。如果发现高精度小数类有锅，请联系 tiger2005。\n", "description": "\n**这是一道（函数式）交互题。**\n\n二维笛卡尔坐标系上有 $N$ 条直线，描述为 $f_i(x)=a_ix+b_i$。其中，$a_i,b_i$ 为整数，且 $|a_i|,|b_i|\\le 10^4$。\n\n每次可以选择一个**实数点** $P$，询问 $P$ 到这 $N$ 条直线的（欧几里得）距离之和。通过询问找出这 $N$ 条直线的解析式。\n\n有两个参数限制询问次数：\n- 欲获得满分，询问次数应不大于 $q$； \n- 欲获得非零分，询问次数应不大于 $Q$。 \n\n此外，**保证直线两两不平行。**\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nvoid solve(int subtask_id, int N);\n```\n\n交互库会调用 `solve` 函数恰好一次。参数的含义：\n- `subtask_id`：子任务编号。\n- `N`：直线数量。\n\n你可以调用以下的函数：\n\n```cpp\nlong double query(long double x, long double y);\n```\n\n调用此函数，返回点 $(x,y)$ 到每条直线的（欧几里得）距离和。**你需要保证 $|x|,|y|\\le 10^{12}$。**\n\n```cpp\nvoid the_lines_are(std::vector<int> a, std::vector<int> b)\n```\n\n调用此函数恰好一次，描述你找到的 $N$ 条直线。\n", "inputFormat": "Sample Grader 按照以下格式读取输入：\n\n第一行，一个正整数 $\\mathrm{id}$，表示子任务编号；\n\n第二行，三个正整数 $n,Q,q$；\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$。\n\n注意你需要自行修改 Sample Grader 的 `compute_query()` 以获得正确的距离计算结果。\n", "outputFormat": "Sample Grader 将输出选手程序回答的 $n$ 条直线，以及使用的询问次数。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^2$；\n- $-10^4\\le a_i,b_i\\le 10^4$；\n- **直线两两不平行。**\n\n\n| 子任务编号 | $N  $ |  $q=$ | $Q=$ | 特殊性质 | 得分 |  \n| :--: | :--: |  :--: |  :--: |:--: | :--: |\n| $ 1 $    | $ =1 $  | $10^4$ | $10^4$ ||$11$ | \n| $ 2 $    | $ =2 $  | $10^4$ | $10^4$ ||$13$ | \n| $ 3 $    | $ =3 $  | $10^4$ | $10^4$ ||$7$ |\n| $ 4 $    | $ \\le 100 $  | $402$ | $10^4$ | A |$19$ |\n| $ 5 $    | $ \\le 30 $  | $402$ | $10^4$ ||$23$ |\n| $ 6 $    | $ \\le 100 $  | $402$ | $10^4$ ||$27$ |\n\n特殊性质 A：$|a_i|,|b_i|\\le 500$。\n\n计分方式：令你询问了 $x$ 次，则得分系数 $k$ 计算公式如下\n\n$$k=\\begin{cases}\n1, & x\\le q \\\\\n\\displaystyle 1-0.7\\cdot \\frac{x-q}{Q-q} & q\\lt x\\le Q \\\\\n0, & x\\gt Q\n\\end{cases}\n$$\n\n每个子任务得分为得分系数的最小值乘上子任务满分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RMI 2020] 寻线 / Nice Lines", "background": "\n译自 [8th Romanian Master of Informatics, RMI 2020](https://rmi.lbi.ro/rmi_2020/) D2T2。$\\texttt{0.2s,0.25G}$。\n\n**不需要引入头文件**。在文件头加入\n\n```cpp\nlong double query(long double x, long double y);\nvoid the_lines_are(std::vector<int> a, std::vector<int> b);\n```\n\n以评测。\n\n---\n\n交互库地址：\n- checker.cpp：[https://www.luogu.com.cn/paste/9l2ikcx9](https://www.luogu.com.cn/paste/9l2ikcx9)\n- interactive_lib.cpp：[https://www.luogu.com.cn/paste/m4jysztc](https://www.luogu.com.cn/paste/m4jysztc)\n\n为了减少计算 Eculidean 距离时的精度损失，本题交互库使用了 [tiger2005](https://www.luogu.com.cn/user/60864) 的 [高精度小数类](https://www.luogu.com.cn/article/5dhvt1ck)（感谢 tiger2005 老师）。计算结果将保留小数点后 $50$ 位然后转换到 `long double`。\n\n为了让交互库不 TLE，我们将时限开大到 3s。\n\n如果发现 SPJ 有锅（具体而言，在其他地方可以通过），请联系搬题人。如果发现高精度小数类有锅，请联系 tiger2005。\n", "description": "\n**这是一道（函数式）交互题。**\n\n二维笛卡尔坐标系上有 $N$ 条直线，描述为 $f_i(x)=a_ix+b_i$。其中，$a_i,b_i$ 为整数，且 $|a_i|,|b_i|\\le 10^4$。\n\n每次可以选择一个**实数点** $P$，询问 $P$ 到这 $N$ 条直线的（欧几里得）距离之和。通过询问找出这 $N$ 条直线的解析式。\n\n有两个参数限制询问次数：\n- 欲获得满分，询问次数应不大于 $q$； \n- 欲获得非零分，询问次数应不大于 $Q$。 \n\n此外，**保证直线两两不平行。**\n\n### 实现细节\n\n你不需要，也不应该实现 main 函数。\n\n你需要实现以下的函数：\n\n```cpp\nvoid solve(int subtask_id, int N);\n```\n\n交互库会调用 `solve` 函数恰好一次。参数的含义：\n- `subtask_id`：子任务编号。\n- `N`：直线数量。\n\n你可以调用以下的函数：\n\n```cpp\nlong double query(long double x, long double y);\n```\n\n调用此函数，返回点 $(x,y)$ 到每条直线的（欧几里得）距离和。**你需要保证 $|x|,|y|\\le 10^{12}$。**\n\n```cpp\nvoid the_lines_are(std::vector<int> a, std::vector<int> b)\n```\n\n调用此函数恰好一次，描述你找到的 $N$ 条直线。\n", "inputFormat": "Sample Grader 按照以下格式读取输入：\n\n第一行，一个正整数 $\\mathrm{id}$，表示子任务编号；\n\n第二行，三个正整数 $n,Q,q$；\n\n接下来 $n$ 行，每行两个整数 $a_i,b_i$。\n\n注意你需要自行修改 Sample Grader 的 `compute_query()` 以获得正确的距离计算结果。\n", "outputFormat": "Sample Grader 将输出选手程序回答的 $n$ 条直线，以及使用的询问次数。", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 10^2$；\n- $-10^4\\le a_i,b_i\\le 10^4$；\n- **直线两两不平行。**\n\n\n| 子任务编号 | $N  $ |  $q=$ | $Q=$ | 特殊性质 | 得分 |  \n| :--: | :--: |  :--: |  :--: |:--: | :--: |\n| $ 1 $    | $ =1 $  | $10^4$ | $10^4$ ||$11$ | \n| $ 2 $    | $ =2 $  | $10^4$ | $10^4$ ||$13$ | \n| $ 3 $    | $ =3 $  | $10^4$ | $10^4$ ||$7$ |\n| $ 4 $    | $ \\le 100 $  | $402$ | $10^4$ | A |$19$ |\n| $ 5 $    | $ \\le 30 $  | $402$ | $10^4$ ||$23$ |\n| $ 6 $    | $ \\le 100 $  | $402$ | $10^4$ ||$27$ |\n\n特殊性质 A：$|a_i|,|b_i|\\le 500$。\n\n计分方式：令你询问了 $x$ 次，则得分系数 $k$ 计算公式如下\n\n$$k=\\begin{cases}\n1, & x\\le q \\\\\n\\displaystyle 1-0.7\\cdot \\frac{x-q}{Q-q} & q\\lt x\\le Q \\\\\n0, & x\\gt Q\n\\end{cases}\n$$\n\n每个子任务得分为得分系数的最小值乘上子任务满分。", "locale": "zh-CN"}}}
