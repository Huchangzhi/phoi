{"pid": "P6729", "type": "P", "difficulty": 7, "samples": [["5\n1 2\n1 3\n1 4\n2 5\n5\n1 4\n1 1\n1 2\n1 5\n2 2", "1\n1\n1\n2\n1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "WC"], "title": "[WC2020] 有根树", "background": "", "description": "给定一棵包含 $n$ 个结点的有根树，结点从 $1\\sim n$ 编号，1 号点为根结点。小明有一个结点集合 $S$，对于 $S$ 中的结点 $u$，他定义 $w_u$ 的值为 $u$ 的子树中（包括 $u$ 本身）被包含在集合 $S$ 内的结点数，为了方便叙述，对于不在 $S$ 中的结点，我们认为其 $w_u=0$。\n\n接下来，小明需要你选择一个包含根结点的连通块 $C$。记 $a$ 表示连通块 $C$ 中被包含在集合 $S$ 内的结点数，$b$ 表示不在连通块 $C$ 中的结点的 $w$ 值最大值，若不存在不在 $C$ 中的结点，则 $b = 0$，小明希望你能最小化 $\\max(a,b)$。\n\n小明觉得这个问题还比较简单，所以还给出了 $q$ 次操作，每次会令集合 $S$ 加入或删除一个结点，请你对每次操作后的集合 $S$ 给出 $\\max(a,b)$ 的最小值。", "inputFormat": "第一行一个正整数 $n$ 表示结点数。\n\n接下来 $n-1$ 行，每行两个整数 $x,y$，表示树上的一条边 $(x,y)$。\n\n接下来一行一个正整数 $q$ 表示操作数。\n\n接下来 $q$ 行，每行两个数 $t,v$ 表示一次操作。若 $t=1$ 则该操作为将结点 $v$ 加入 $S$，保证操作前 $v \\notin S$。若 $t=2$ 则该操作为将结点 $v$ 从 $S$ 中删去，保证操作前 $v\\in S$。\n初始时 $S$ 为空集。", "outputFormat": "每次操作后，输出一行一个整数表示答案。", "hint": "#### 样例解释\n\n第一次操作后 $S=\\{4\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=0,b=1$。\n\n第二次操作后 $S=\\{1,4\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=1,b=1$。\n\n第三次操作后 $S=\\{1,2,4\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=1,b=1$。\n\n第四次操作后 $S=\\{1,2,4,5\\}$，一个选择方案为 $C=\\{1,2\\}$，此时 $a=2,b=1$。\n\n第五次操作后 $S=\\{1,4,5\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=1,b=1$。\n\n#### 数据范围\n\n对于所有测试点：$1\\le n\\le 5\\times 10^5$，$1\\le q\\le 10^6$，$1\\le x,y,v\\le n$，$t\\in \\{1,2\\}$。\n\n| 测试点编号  | $n\\leq$        | $q\\leq$        | 特殊限制 |\n| ----------- | -------------- | -------------- | -------- |\n| $1\\sim 2$   | $100$          | $500$          | 无       |\n| $3\\sim 4$   | $2\\times 10^4$ | $2\\times 10^4$ |    无|\n| $5\\sim 6$   | $10^5$         | $2\\times 10^5$ | A        |\n| $7\\sim 8$   | $2\\times 10^5$ | $4\\times 10^5$ | B        |\n| $9\\sim 11$  | $2\\times 10^5$ | $4\\times 10^5$       | C              | \n| $12\\sim 16$ | $2\\times 10^5$ | $4\\times 10^5$ | 无             | \n| $17\\sim 20$ | $5\\times 10^5$ | $10^6$         |         无 |\n\n\n表格中特殊限制一栏符号的含义为：\n\nA：任意时刻集合 $S$ 的大小不超过 50。\n\nB：树的形态是一条链且 1 号结点度数为 1。\n\nC：树上每个结点的双亲结点编号小于它本身，$n=q$ 且第 $i$ 次操作为将 $i$ 号点加入 $S$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[WC2020] 有根树", "background": "", "description": "给定一棵包含 $n$ 个结点的有根树，结点从 $1\\sim n$ 编号，1 号点为根结点。小明有一个结点集合 $S$，对于 $S$ 中的结点 $u$，他定义 $w_u$ 的值为 $u$ 的子树中（包括 $u$ 本身）被包含在集合 $S$ 内的结点数，为了方便叙述，对于不在 $S$ 中的结点，我们认为其 $w_u=0$。\n\n接下来，小明需要你选择一个包含根结点的连通块 $C$。记 $a$ 表示连通块 $C$ 中被包含在集合 $S$ 内的结点数，$b$ 表示不在连通块 $C$ 中的结点的 $w$ 值最大值，若不存在不在 $C$ 中的结点，则 $b = 0$，小明希望你能最小化 $\\max(a,b)$。\n\n小明觉得这个问题还比较简单，所以还给出了 $q$ 次操作，每次会令集合 $S$ 加入或删除一个结点，请你对每次操作后的集合 $S$ 给出 $\\max(a,b)$ 的最小值。", "inputFormat": "第一行一个正整数 $n$ 表示结点数。\n\n接下来 $n-1$ 行，每行两个整数 $x,y$，表示树上的一条边 $(x,y)$。\n\n接下来一行一个正整数 $q$ 表示操作数。\n\n接下来 $q$ 行，每行两个数 $t,v$ 表示一次操作。若 $t=1$ 则该操作为将结点 $v$ 加入 $S$，保证操作前 $v \\notin S$。若 $t=2$ 则该操作为将结点 $v$ 从 $S$ 中删去，保证操作前 $v\\in S$。\n初始时 $S$ 为空集。", "outputFormat": "每次操作后，输出一行一个整数表示答案。", "hint": "#### 样例解释\n\n第一次操作后 $S=\\{4\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=0,b=1$。\n\n第二次操作后 $S=\\{1,4\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=1,b=1$。\n\n第三次操作后 $S=\\{1,2,4\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=1,b=1$。\n\n第四次操作后 $S=\\{1,2,4,5\\}$，一个选择方案为 $C=\\{1,2\\}$，此时 $a=2,b=1$。\n\n第五次操作后 $S=\\{1,4,5\\}$，一个选择方案为 $C=\\{1\\}$，此时 $a=1,b=1$。\n\n#### 数据范围\n\n对于所有测试点：$1\\le n\\le 5\\times 10^5$，$1\\le q\\le 10^6$，$1\\le x,y,v\\le n$，$t\\in \\{1,2\\}$。\n\n| 测试点编号  | $n\\leq$        | $q\\leq$        | 特殊限制 |\n| ----------- | -------------- | -------------- | -------- |\n| $1\\sim 2$   | $100$          | $500$          | 无       |\n| $3\\sim 4$   | $2\\times 10^4$ | $2\\times 10^4$ |    无|\n| $5\\sim 6$   | $10^5$         | $2\\times 10^5$ | A        |\n| $7\\sim 8$   | $2\\times 10^5$ | $4\\times 10^5$ | B        |\n| $9\\sim 11$  | $2\\times 10^5$ | $4\\times 10^5$       | C              | \n| $12\\sim 16$ | $2\\times 10^5$ | $4\\times 10^5$ | 无             | \n| $17\\sim 20$ | $5\\times 10^5$ | $10^6$         |         无 |\n\n\n表格中特殊限制一栏符号的含义为：\n\nA：任意时刻集合 $S$ 的大小不超过 50。\n\nB：树的形态是一条链且 1 号结点度数为 1。\n\nC：树上每个结点的双亲结点编号小于它本身，$n=q$ 且第 $i$ 次操作为将 $i$ 号点加入 $S$。", "locale": "zh-CN"}}}
{"pid": "P6730", "type": "P", "difficulty": 7, "samples": [["4 7\n1 3 4 6\n", "17"], ["8 9\n1 2 3 4 5 6 7 8", "532"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "WC"], "title": "[WC2020] 猜数游戏", "background": "", "description": "黑板上写有 $n$ 个互不相等且都小于 $p$ 的正整数 $a_1, a_2, \\cdots, a_n$。小 J 想用这些数字和小 M 玩一个猜数游戏。\n\n游戏规则十分简单：游戏开始时，小 J 会从这些数字中随机选择若干个让小 M 来猜，而小 M 则可以通过若干次**询问**来确定小 J 选择了哪些数字。\n\n每一次**询问**的模式如下：小 M 可以任意指定一个数字 $a_k$，若它是小 J 所选择的数字之一，则小 J 会告诉小 M 他所选择的数字中所有能表示成 $(a_k)^m \\bmod p$ 的数，其中 $m$ 是任意正整数，$\\bmod$ 表示求二者做带余除法后的余数。反之，若 $a_k$ 没有被小 J 选中，则小 J 只会告诉小 M $a_k$ 没有被选中。\n\n游戏会在小 M 确定小 J 所选中的所有数字后立刻结束。\n\n例如，若 $n=4$，$p=7$，数字 $\\{a_n\\}$ 按下标顺序依次为 $\\{1, 3, 4, 6\\}$，小 J 选定的数字为 $\\{1, 4, 6\\}$，一种可能的游戏进行的过程（并非是最优过程）如下：\n\n| 小 M 的询问 | 小 J 的反馈                           |\n| ----------- | ------------------------------------- |\n| $a_2 = 3$   | $a_2$ 没有被选中                      |\n| $a_4 = 6$   | $6(= 6^1 \\bmod 7)$，$1(=6^2 \\bmod 7)$ |\n| $a_3 = 4$   | $4(= 4^1 \\bmod 7)$，$1(=4^3 \\bmod 7)$ |\n\n$3$ 次询问后小 J 所选出的所有数都已被小 M 确定，游戏结束。\n\n小 M 还有作业没有写完，因此他需要对游戏进行的时间进行评估。他想知道为了使游戏结束，他所需要做出询问的最小次数的期望 $S$ 是多少。\n\n为了避免精度误差，你需要输出答案乘 $(2^n - 1)$ 后模 $998244353$ 的余数。在本题中，你可以认为小 J 每次在选数时会在集合 $\\{a_1, a_2, \\cdots, a_n\\}$ 的全部**非空子集**中等概率地选择一个，在这个前提下可以证明 $(2^n - 1) \\times S$ 一定是一个整数。", "inputFormat": "第一行两个正整数 $n$ 和 $p$。\n\n第二行 $n$ 个正整数，依次表示 $a_1, a_2, \\cdots, a_n$。", "outputFormat": "仅一行一个整数表示答案。", "hint": "#### 样例1解释\n\n下表给出了小 J 所选的子集与小 M 最小询问次数的关系：\n\n| 小 J 所选的子集                                              | 最优的询问集合 |\n| ------------------------------------------------------------ | -------------- |\n| $\\{1\\}$                                                      | $\\{1\\}$        |\n| $\\{3\\}, \\{3, 4\\}, \\{3, 6\\}, \\{3, 4, 6\\}, \\{1, 3\\}, \\{1, 3, 4\\}, \\{1, 3, 6\\}, \\{1, 3, 4, 6\\}$ | $\\{3\\}$        |\n| $\\{4\\}, \\{1, 4\\}$                                            | $\\{4\\}$        |\n| $\\{6\\}, \\{1, 6\\}$                                            | $\\{6\\}$        |\n| $\\{4, 6\\}, \\{1, 4, 6\\}$                                      | $\\{4,6\\}$      |\n\n因此最小询问次数的期望 $S = \\frac{17}{15}$。\n\n#### 数据范围\n\n对于所有测试点：$1 \\leq n \\leq 5000$，$3 \\leq p \\leq 10^8$，$1 \\leq a_i < p\\ (1 \\leq i \\leq n)$ 且 $a_i$ 两两不同。\n\n对于所有编号为奇数的测试点，保证 $p$ 是一个素数；对于所有编号为偶数的测试点，保证存在奇素数 $q$ 和正整数 $k > 1$ 使得 $p = q^k$。\n\n| 测试点编号 | $n\\leq$ | $p\\le$ | 特殊性质 | 测试点编号 | $n\\leq$ | $p\\le$ | 特殊性质 |\n| ---------- | ------- | ------ | -------- | ---------- | ------- | ------ | -------- |\n| $1$        | $10$    | $100$  | 无       | $2$        | $10$    | $100$  | 无       |\n| $3$   |$10$|$100$|无| $4$|$10$|$100$|无|\n| $5$        | $200$   | $5000$|无 | $6$      | $200$      | $5000$  |     无   | \n| $7$        | $300$   | $10^6$ |无| $8$      | $300$      | $10^6$  | 无|\n| $9$|$300$ |$10^6$  | A| $10$   | $300$   | $10^6$ |B|\n| $11$       | $5000$  | $10^7$ |A| $12$     | $5000$     | $10^7$  | 无     | \n| $13$|$5000$|$10^7$  | 无     | $14$   | $5000$|$10^7$| 无|\n| $15$|$5000$  | $10^8$  | A      | $16$     | $5000$|$10^8$     | B|\n| $17$       | $5000$|$10^8$|无      | $18$ |$5000$|$10^8$| 无       | \n| $19$       | $5000$|$10^8$|无      | $20$ |$5000$|$10^8$| 无       | \n\n特殊性质 A：在模 $p$ 意义下 $3^i\\ (1 \\leq i \\leq p - 1)$ 两两不同余。\n\n特殊性质 B：对所有的 $1 \\leq i \\leq n$ 都有 $(a_i, p) > 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[WC2020] 猜数游戏", "background": "", "description": "黑板上写有 $n$ 个互不相等且都小于 $p$ 的正整数 $a_1, a_2, \\cdots, a_n$。小 J 想用这些数字和小 M 玩一个猜数游戏。\n\n游戏规则十分简单：游戏开始时，小 J 会从这些数字中随机选择若干个让小 M 来猜，而小 M 则可以通过若干次**询问**来确定小 J 选择了哪些数字。\n\n每一次**询问**的模式如下：小 M 可以任意指定一个数字 $a_k$，若它是小 J 所选择的数字之一，则小 J 会告诉小 M 他所选择的数字中所有能表示成 $(a_k)^m \\bmod p$ 的数，其中 $m$ 是任意正整数，$\\bmod$ 表示求二者做带余除法后的余数。反之，若 $a_k$ 没有被小 J 选中，则小 J 只会告诉小 M $a_k$ 没有被选中。\n\n游戏会在小 M 确定小 J 所选中的所有数字后立刻结束。\n\n例如，若 $n=4$，$p=7$，数字 $\\{a_n\\}$ 按下标顺序依次为 $\\{1, 3, 4, 6\\}$，小 J 选定的数字为 $\\{1, 4, 6\\}$，一种可能的游戏进行的过程（并非是最优过程）如下：\n\n| 小 M 的询问 | 小 J 的反馈                           |\n| ----------- | ------------------------------------- |\n| $a_2 = 3$   | $a_2$ 没有被选中                      |\n| $a_4 = 6$   | $6(= 6^1 \\bmod 7)$，$1(=6^2 \\bmod 7)$ |\n| $a_3 = 4$   | $4(= 4^1 \\bmod 7)$，$1(=4^3 \\bmod 7)$ |\n\n$3$ 次询问后小 J 所选出的所有数都已被小 M 确定，游戏结束。\n\n小 M 还有作业没有写完，因此他需要对游戏进行的时间进行评估。他想知道为了使游戏结束，他所需要做出询问的最小次数的期望 $S$ 是多少。\n\n为了避免精度误差，你需要输出答案乘 $(2^n - 1)$ 后模 $998244353$ 的余数。在本题中，你可以认为小 J 每次在选数时会在集合 $\\{a_1, a_2, \\cdots, a_n\\}$ 的全部**非空子集**中等概率地选择一个，在这个前提下可以证明 $(2^n - 1) \\times S$ 一定是一个整数。", "inputFormat": "第一行两个正整数 $n$ 和 $p$。\n\n第二行 $n$ 个正整数，依次表示 $a_1, a_2, \\cdots, a_n$。", "outputFormat": "仅一行一个整数表示答案。", "hint": "#### 样例1解释\n\n下表给出了小 J 所选的子集与小 M 最小询问次数的关系：\n\n| 小 J 所选的子集                                              | 最优的询问集合 |\n| ------------------------------------------------------------ | -------------- |\n| $\\{1\\}$                                                      | $\\{1\\}$        |\n| $\\{3\\}, \\{3, 4\\}, \\{3, 6\\}, \\{3, 4, 6\\}, \\{1, 3\\}, \\{1, 3, 4\\}, \\{1, 3, 6\\}, \\{1, 3, 4, 6\\}$ | $\\{3\\}$        |\n| $\\{4\\}, \\{1, 4\\}$                                            | $\\{4\\}$        |\n| $\\{6\\}, \\{1, 6\\}$                                            | $\\{6\\}$        |\n| $\\{4, 6\\}, \\{1, 4, 6\\}$                                      | $\\{4,6\\}$      |\n\n因此最小询问次数的期望 $S = \\frac{17}{15}$。\n\n#### 数据范围\n\n对于所有测试点：$1 \\leq n \\leq 5000$，$3 \\leq p \\leq 10^8$，$1 \\leq a_i < p\\ (1 \\leq i \\leq n)$ 且 $a_i$ 两两不同。\n\n对于所有编号为奇数的测试点，保证 $p$ 是一个素数；对于所有编号为偶数的测试点，保证存在奇素数 $q$ 和正整数 $k > 1$ 使得 $p = q^k$。\n\n| 测试点编号 | $n\\leq$ | $p\\le$ | 特殊性质 | 测试点编号 | $n\\leq$ | $p\\le$ | 特殊性质 |\n| ---------- | ------- | ------ | -------- | ---------- | ------- | ------ | -------- |\n| $1$        | $10$    | $100$  | 无       | $2$        | $10$    | $100$  | 无       |\n| $3$   |$10$|$100$|无| $4$|$10$|$100$|无|\n| $5$        | $200$   | $5000$|无 | $6$      | $200$      | $5000$  |     无   | \n| $7$        | $300$   | $10^6$ |无| $8$      | $300$      | $10^6$  | 无|\n| $9$|$300$ |$10^6$  | A| $10$   | $300$   | $10^6$ |B|\n| $11$       | $5000$  | $10^7$ |A| $12$     | $5000$     | $10^7$  | 无     | \n| $13$|$5000$|$10^7$  | 无     | $14$   | $5000$|$10^7$| 无|\n| $15$|$5000$  | $10^8$  | A      | $16$     | $5000$|$10^8$     | B|\n| $17$       | $5000$|$10^8$|无      | $18$ |$5000$|$10^8$| 无       | \n| $19$       | $5000$|$10^8$|无      | $20$ |$5000$|$10^8$| 无       | \n\n特殊性质 A：在模 $p$ 意义下 $3^i\\ (1 \\leq i \\leq p - 1)$ 两两不同余。\n\n特殊性质 B：对所有的 $1 \\leq i \\leq n$ 都有 $(a_i, p) > 1$。", "locale": "zh-CN"}}}
{"pid": "P6731", "type": "P", "difficulty": 7, "samples": [["1 10\n1 1\n1 1\n0", "-1\n"], ["3 10\n5 4\n1 30\n1 30\n2 3\n2 3\n3 30\n6 6\n1 1\n1 30\n2 1\n2 30\n3 9\n3 10\n1 0\n1 10\n1\n1 1 5 2 6 35 ", "10\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "O2优化", "WC"], "title": "[WC2020] 选课", "background": "### 提醒：\n\n本题目前的官方数据有部分与数据范围不符。\n\n**令 $P$ 为限制涉及到的课程数目，保证 $P\\leq12$。**\n\n**有一个测试点不满足 $T \\geq \\sum s_i$。**", "description": "随着期末考试的结束，一年一度的选课环节又拉开了帷幕。\n\n小 C 是一个热爱学习的好学生，他给自己定了一个小目标：在新的学期至少修够 $T$ 学分。从教务处给出的公告上看，本次可供选择的课程一共有 $m$ 种分类，第 $i$ 种分类中有 $n_i$ 门课程。小 C 根据公告的内容，提高了自己的学习目标：在所有课程至少修满 $T$ 学分的基础上，第 $i$ 种分类（$i=1,2,\\cdots,m$）至少修够 $s_i$ 的学分。同时，聪明的小 C 凭借自己的经验，计算出了学习每门课程所能得到的学分和所需要消耗的脑力值。不仅如此，他还发现，有些课程之间存在特殊的关系：同时学习某两门内容相似的课程，可能会减少脑力值的消耗；同时学习某两门十分硬核的课，可能会增加脑力值的消耗；某两门课程时间冲突，则无法同时学习。\n\n小 C 希望能够花费最少的脑力值来达到他的目标。你能帮小 C 计算出达到目标所需要的最小脑力值吗？", "inputFormat": "第一行两个正整数 $m,T$，表示分类种数和总共需要修够的学分数。\n\n接下来 $m$ 段输入，对于第 $i$ 段输入：\n\n第一行有两个非负整数 $n_i,s_i$，表示第 $i$ 种分类的所有课程数和需要修够的学分。\n\n第 $j+1$（$1\\le j\\le n_i$）行有两个正整数 $w_{i,j},c_{i,j}$，表示选修第 $i$ 种分类中的第 $j$ 门课能获得的学分和需要消耗的脑力。\n\n$m$ 段输入之后，有一个非负整数 $p$，表示关系的条数。\n\n接下来 $p$ 行每行一条关系，每一条关系可表示为以下 3 种形式之一（以下所有输入数据均为正整数）：\n\n$1\\ x_1\\ y_1\\ x_2\\ y_2\\ c$，表示同时修第 $x_1$ 种分类中的第 $y_1$ 门课和第 $x_2$ 种分类中的第 $y_2$ 门课，可以减少 $c$ 的消耗。\n\n$2\\ x_1\\ y_1\\ x_2\\ y_2\\ c$，表示同时修第 $x_1$ 种分类中的第 $y_1$ 门课和第 $x_2$ 种分类中的第 $y_2$ 门课，需要增加 $c$ 的消耗。\n\n$3\\ x_1\\ y_1\\ x_2\\ y_2$，表示第 $x_1$ 种分类中的第 $y_1$ 门课和第 $x_2$ 种分类中的第 $y_2$ 门课不能同时修。", "outputFormat": "输出文件只有一行，包含一个整数，表示达到目标所需要的最小脑力值。如果无法达到小 C 的目标，请输出 `-1`。", "hint": "#### 样例1解释\n\n即使学习所有课程，总学分仍无法达到小 C 的要求，故输出 `-1`。\n\n#### 样例2解释\n\n一种可能的选法为：第一种分类中选择第 4、5 门课，第二种分类选择第 1、3、6 门课，第3种分类不选课程（选法不唯一）。\n\n#### 数据范围\n\n设 $N=\\sum_{i=1}^{m} n_i$，$M$ 为消耗脑力值的最大值（包括有关系的课程中增加或减少的消耗）。\n\n对于 $5\\%$ 的数据：$N\\le 5$。\n\n对于 $10\\%$ 的数据：$N\\le 15$。\n\n有另外 $10\\%$ 的数据：$N\\le 1000$，$p=0$。\n\n有另外 $10\\%$ 的数据：$w_i=1$，$p=0$。\n\n有另外 $10\\%$ 的数据：$T=\\sum_{i=1}^{m} s_i$，$p=0$。\n\n有另外 $10\\%$ 的数据：$N\\le 10^4$，$M\\le 50$，且有关系的课程在同一分类中。\n\n有另外 $10\\%$ 的数据：$N\\le 5\\times 10^4$，$M\\le 50$。\n\n对于 $100\\%$ 的数据：$N\\le 5\\times 10^5$，$M\\le 200$，$0\\le T-\\sum_{i=1}^{m} s_i\\le 40$，$m\\le 5\\times 10^4$，$p\\le 12$，$w_{i,j}\\in\\{1,2,3\\}$。\n\n**官方数据有误，经测试，$p$ 最大为 $66$**\n\n数据保证任意两种课程至多只有一种关系。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[WC2020] 选课", "background": "### 提醒：\n\n本题目前的官方数据有部分与数据范围不符。\n\n**令 $P$ 为限制涉及到的课程数目，保证 $P\\leq12$。**\n\n**有一个测试点不满足 $T \\geq \\sum s_i$。**", "description": "随着期末考试的结束，一年一度的选课环节又拉开了帷幕。\n\n小 C 是一个热爱学习的好学生，他给自己定了一个小目标：在新的学期至少修够 $T$ 学分。从教务处给出的公告上看，本次可供选择的课程一共有 $m$ 种分类，第 $i$ 种分类中有 $n_i$ 门课程。小 C 根据公告的内容，提高了自己的学习目标：在所有课程至少修满 $T$ 学分的基础上，第 $i$ 种分类（$i=1,2,\\cdots,m$）至少修够 $s_i$ 的学分。同时，聪明的小 C 凭借自己的经验，计算出了学习每门课程所能得到的学分和所需要消耗的脑力值。不仅如此，他还发现，有些课程之间存在特殊的关系：同时学习某两门内容相似的课程，可能会减少脑力值的消耗；同时学习某两门十分硬核的课，可能会增加脑力值的消耗；某两门课程时间冲突，则无法同时学习。\n\n小 C 希望能够花费最少的脑力值来达到他的目标。你能帮小 C 计算出达到目标所需要的最小脑力值吗？", "inputFormat": "第一行两个正整数 $m,T$，表示分类种数和总共需要修够的学分数。\n\n接下来 $m$ 段输入，对于第 $i$ 段输入：\n\n第一行有两个非负整数 $n_i,s_i$，表示第 $i$ 种分类的所有课程数和需要修够的学分。\n\n第 $j+1$（$1\\le j\\le n_i$）行有两个正整数 $w_{i,j},c_{i,j}$，表示选修第 $i$ 种分类中的第 $j$ 门课能获得的学分和需要消耗的脑力。\n\n$m$ 段输入之后，有一个非负整数 $p$，表示关系的条数。\n\n接下来 $p$ 行每行一条关系，每一条关系可表示为以下 3 种形式之一（以下所有输入数据均为正整数）：\n\n$1\\ x_1\\ y_1\\ x_2\\ y_2\\ c$，表示同时修第 $x_1$ 种分类中的第 $y_1$ 门课和第 $x_2$ 种分类中的第 $y_2$ 门课，可以减少 $c$ 的消耗。\n\n$2\\ x_1\\ y_1\\ x_2\\ y_2\\ c$，表示同时修第 $x_1$ 种分类中的第 $y_1$ 门课和第 $x_2$ 种分类中的第 $y_2$ 门课，需要增加 $c$ 的消耗。\n\n$3\\ x_1\\ y_1\\ x_2\\ y_2$，表示第 $x_1$ 种分类中的第 $y_1$ 门课和第 $x_2$ 种分类中的第 $y_2$ 门课不能同时修。", "outputFormat": "输出文件只有一行，包含一个整数，表示达到目标所需要的最小脑力值。如果无法达到小 C 的目标，请输出 `-1`。", "hint": "#### 样例1解释\n\n即使学习所有课程，总学分仍无法达到小 C 的要求，故输出 `-1`。\n\n#### 样例2解释\n\n一种可能的选法为：第一种分类中选择第 4、5 门课，第二种分类选择第 1、3、6 门课，第3种分类不选课程（选法不唯一）。\n\n#### 数据范围\n\n设 $N=\\sum_{i=1}^{m} n_i$，$M$ 为消耗脑力值的最大值（包括有关系的课程中增加或减少的消耗）。\n\n对于 $5\\%$ 的数据：$N\\le 5$。\n\n对于 $10\\%$ 的数据：$N\\le 15$。\n\n有另外 $10\\%$ 的数据：$N\\le 1000$，$p=0$。\n\n有另外 $10\\%$ 的数据：$w_i=1$，$p=0$。\n\n有另外 $10\\%$ 的数据：$T=\\sum_{i=1}^{m} s_i$，$p=0$。\n\n有另外 $10\\%$ 的数据：$N\\le 10^4$，$M\\le 50$，且有关系的课程在同一分类中。\n\n有另外 $10\\%$ 的数据：$N\\le 5\\times 10^4$，$M\\le 50$。\n\n对于 $100\\%$ 的数据：$N\\le 5\\times 10^5$，$M\\le 200$，$0\\le T-\\sum_{i=1}^{m} s_i\\le 40$，$m\\le 5\\times 10^4$，$p\\le 12$，$w_{i,j}\\in\\{1,2,3\\}$。\n\n**官方数据有误，经测试，$p$ 最大为 $66$**\n\n数据保证任意两种课程至多只有一种关系。", "locale": "zh-CN"}}}
{"pid": "P6732", "type": "P", "difficulty": 4, "samples": [["1\n1.0 1.0\n2.0 2.0\n1.0 2.0\n2.0 1.0\n0.0 0.0\n-0.5 -0.5\n0.0 -1.0\n0.5 -0.5", "0.0 1.0 0.5"]], "limits": {"time": [1000, 1000, 1000], "memory": [131072, 131072, 131072]}, "tags": ["计算几何", "2020", "Special Judge", "枚举"], "title": "「Wdsr-2」方分", "background": "", "description": "平面直角坐标系上有两个相离的正方形 $A$ 和 $B$。请找到任意一条直线把它们分隔到直线的两侧。\n\n**注意：这条直线不应该和正方形有公共点。**", "inputFormat": "**输入包含多组数据**。\n\n第一行输入一个正整数 $T$ ，代表数据组数。\n\n对于每组数据，共有 $8$ 行，每行 $2$ 个实数，描述一个点的 $x$ 轴坐标和 $y$ 轴坐标。前四行表示正方形 $A$ 四个顶点的坐标，后四行表示正方形 $B$ 四个顶点的坐标。\n\n保证这四个顶点坐标一定能构成一个正方形，但顺序可以是任意的。两个正方形一定是相离的。\n\n**没有**保证正方形的边和坐标轴平行！", "outputFormat": "对于每组数据，输出一行三个实数 $a,b,c$，表示你找到的直线方程是 $ax+by=c$。", "hint": "$1\\le T\\le 10000$。\n\n输入的坐标绝对值不超过 $10^3$，小数点后最多有 $3$ 位数字。\n\n**SPJ 使用双精度浮点数计算验证你的答案，请尽可能地避免精度误差。**\n\n避免精度误差的方式有：不要输出绝对值过大或过小的数字，输出尽可能多的小数点后位数，比较大小时使用 eps，等等。\n\n赛后已加入 Hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2」方分", "background": "", "description": "平面直角坐标系上有两个相离的正方形 $A$ 和 $B$。请找到任意一条直线把它们分隔到直线的两侧。\n\n**注意：这条直线不应该和正方形有公共点。**", "inputFormat": "**输入包含多组数据**。\n\n第一行输入一个正整数 $T$ ，代表数据组数。\n\n对于每组数据，共有 $8$ 行，每行 $2$ 个实数，描述一个点的 $x$ 轴坐标和 $y$ 轴坐标。前四行表示正方形 $A$ 四个顶点的坐标，后四行表示正方形 $B$ 四个顶点的坐标。\n\n保证这四个顶点坐标一定能构成一个正方形，但顺序可以是任意的。两个正方形一定是相离的。\n\n**没有**保证正方形的边和坐标轴平行！", "outputFormat": "对于每组数据，输出一行三个实数 $a,b,c$，表示你找到的直线方程是 $ax+by=c$。", "hint": "$1\\le T\\le 10000$。\n\n输入的坐标绝对值不超过 $10^3$，小数点后最多有 $3$ 位数字。\n\n**SPJ 使用双精度浮点数计算验证你的答案，请尽可能地避免精度误差。**\n\n避免精度误差的方式有：不要输出绝对值过大或过小的数字，输出尽可能多的小数点后位数，比较大小时使用 eps，等等。\n\n赛后已加入 Hack 数据。", "locale": "zh-CN"}}}
{"pid": "P6733", "type": "P", "difficulty": 4, "samples": [["5 1\n1 5\n4 2\n5 3\n2 3\n1 4", "4.500"]], "limits": {"time": [1000, 1000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "二分", "Special Judge", "O2优化", "排序", "双指针 two-pointer"], "title": "「Wdsr-2」间歇泉", "background": "**Problem Number:** $\\textit{08}$", "description": "有一个间歇泉，冒出了 $n$ 杯水，由于一些原因，每杯水的温度、体积不同。第 $i$ 杯水的温度为 $c_i$，体积为 $a_i$。\n\n现在混合任意**两**杯水，每混合两杯水都会得到一个新的温度值，求可能得到的第 $k$ 高的温度值（不计热量损失）。\n\n**你的答案建议至少保留小数点后 $\\bm3$ 位（与标准答案之差在 $\\bm{10^{-2}}$ 以内即视为通过）。**", "inputFormat": "第一行一个数 $n,k$，意义如题述。\n\n接下来 $n$ 行，每行两个数 $a_i,c_i$。", "outputFormat": "一行一个实数，表示混合后的水的第 $k$ 高温度。", "hint": "#### 样例 1 说明\n\n第 $1$ 和第 $5$ 杯水混合，得到 $4.5$ 的温度值。可以发现，这是可能得到的最高水温。\n\n#### 样例 2\n\n见题目附件中 $\\textbf{\\textit{pour2.in/pour2.ans}}$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- $\\textbf{Subtask 1}\\text{ (10 pts)}$：$1\\le n\\le 10$。\n- $\\textbf{Subtask 2}\\text{ (40 pts)}$：保证 $k=1$。\n- $\\textbf{Subtask 3}\\text{ (50 pts)}$：无特殊限制。\n- $\\textbf{Subtask 4}\\text{ (0 pts)}$：Hack 数据。\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le 10^5$，$1\\le k\\le \\dfrac{n \\times (n - 1)}{2}$，$1\\le a_i,c_i\\le 10^9$。\n\n子任务 2/3/4 时限 $\\text{2 s}$，子任务 1 时限 $\\text{1 s}$。\n\n#### 前置知识\n\n对于两杯体积、温度分别为 $(a_i,c_i),(a_j,c_j)$ 的水，混合后温度为：\n\n$$\nT=\\dfrac{a_ic_i+a_jc_j}{a_i+a_j}\n$$\n\n#### 说明\n\n本题数据采用 [SvRan](https://github.com/Sept0913/SvRan) 生成，仅用时 $3\\min$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2」间歇泉", "background": "**Problem Number:** $\\textit{08}$", "description": "有一个间歇泉，冒出了 $n$ 杯水，由于一些原因，每杯水的温度、体积不同。第 $i$ 杯水的温度为 $c_i$，体积为 $a_i$。\n\n现在混合任意**两**杯水，每混合两杯水都会得到一个新的温度值，求可能得到的第 $k$ 高的温度值（不计热量损失）。\n\n**你的答案建议至少保留小数点后 $\\bm3$ 位（与标准答案之差在 $\\bm{10^{-2}}$ 以内即视为通过）。**", "inputFormat": "第一行一个数 $n,k$，意义如题述。\n\n接下来 $n$ 行，每行两个数 $a_i,c_i$。", "outputFormat": "一行一个实数，表示混合后的水的第 $k$ 高温度。", "hint": "#### 样例 1 说明\n\n第 $1$ 和第 $5$ 杯水混合，得到 $4.5$ 的温度值。可以发现，这是可能得到的最高水温。\n\n#### 样例 2\n\n见题目附件中 $\\textbf{\\textit{pour2.in/pour2.ans}}$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- $\\textbf{Subtask 1}\\text{ (10 pts)}$：$1\\le n\\le 10$。\n- $\\textbf{Subtask 2}\\text{ (40 pts)}$：保证 $k=1$。\n- $\\textbf{Subtask 3}\\text{ (50 pts)}$：无特殊限制。\n- $\\textbf{Subtask 4}\\text{ (0 pts)}$：Hack 数据。\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le 10^5$，$1\\le k\\le \\dfrac{n \\times (n - 1)}{2}$，$1\\le a_i,c_i\\le 10^9$。\n\n子任务 2/3/4 时限 $\\text{2 s}$，子任务 1 时限 $\\text{1 s}$。\n\n#### 前置知识\n\n对于两杯体积、温度分别为 $(a_i,c_i),(a_j,c_j)$ 的水，混合后温度为：\n\n$$\nT=\\dfrac{a_ic_i+a_jc_j}{a_i+a_j}\n$$\n\n#### 说明\n\n本题数据采用 [SvRan](https://github.com/Sept0913/SvRan) 生成，仅用时 $3\\min$。", "locale": "zh-CN"}}}
{"pid": "P6734", "type": "P", "difficulty": 6, "samples": [["4 0", "5"], ["4 1\n1 1", "3"], ["20 10\n5 1\n12 0\n17 0\n3 1\n7 1\n13 0\n8 1\n18 1\n2 1\n19 0", "344"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "数学", "2020", "矩阵运算", "洛谷原创", "分治", "动态规划优化", "矩阵加速", "矩阵乘法"], "title": "「Wdsr-2」阴阳玉", "background": "博丽灵梦有一块好大好大的阴阳玉，它是是博丽灵梦的主要武器之一。\n\n但是阴阳玉的能量来源，源自主人的灵力聚集力量，因此，灵梦在平时总是需要对其进行保养。简单来说，灵梦会使用灵力，来获取阴阳玉所需的能量。\n\n", "description": "灵力有阴阳之分。初始的时候，灵梦只有两个阳灵力，它们围成了一个圈。每次，灵梦可以进行以下两种操作：\n\n- 在两个灵力直接加入一个阳灵力。\n\n- 移走一个阳灵力。\n\n为了保持稳定，任何时候这个圈上的灵力都**不应该少于两个**。\n\n由于灵力的阴阳并不稳定，因此一旦某个灵力周围发生改变（多出一个灵力，或减少一个灵力），它就会从阳变成阴，或从阴变成阳。不过，如果只是周边灵力的性质改变，那么它就不会发生变化。\n\n灵梦会不断调节灵力，直到它**最终**变成 $n$ 个（中途可能多于 $n$ 个）。然后，灵梦会从某个点**依次**按照顺时针或逆时针取下每个灵力。它会形成一条链。灵梦会用链上的能量，来加强她的阴阳玉。\n\n做到这一点非常容易。但是灵梦非常好奇，一共可能形成多少种不同的**链**。\n\n由于灵梦的偏好，她可能会有 $m$ 个限制条件。第 $i$ 个条件 $(p_i,c_i)$ ，规定了链上第 $p_i$ 个灵力应该为何种灵力。若 $c_i=0$ ，则应该为阴灵力；否则为阳。\n\n由于可能结果太大，灵梦只需要得到答案对 $998244353$ 取模的结果。\n\n两个链不同，当且仅当存在一个位置的点颜色不同。", "inputFormat": "第一行为一个正整数 $n$ 和一个非负整数 $m$ 。\n\n当 $m=0$ 时无约束条件。否则接下来会有 $m$ 行，每行两个非负整数 $p_i,c_i$ ，含义如上。", "outputFormat": "一行，一个非负整数，表示所有链的可能种类总数对 $998244353$ 取模的值。", "hint": "#### 样例解释\n\n对于样例一，可能存在以下两种构造方式：\n\n![pic3.JPG/The \"2\"-th of the \"1\"-st.](https://i.loli.net/2020/07/17/VQn8MB7fxJsA1Rr.jpg)\n\n其中， $\\tt ADD$ 表示增加一个阳灵力，$\\tt RMV$ 表示移走一个阳灵力。\n\n将得到的两个环分别拆开，一共可以得到以下五种链：\n\n- 环一：**阳—阳—阳—阳**。\n\n- 环二：**阳—阳—阴—阴**，**阳—阴—阴—阳**，**阴—阴—阳—阳**，**阴—阳—阳—阴**。\n\n因此答案为 $5$ 。\n\n对于样例二，我们限定了链上第一个灵力为阳。因此结果为 $3$ 。\n\n#### 数据范围\n\n$$\\def\\t{\\text}\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|}\\hline\n\\textbf{Subtask} & n\\t{ 的范围} & m\\t{ 的范围} & \\t{分值}\\cr\\hline\n1 & n\\le 16 & m\\le 16 & 15 \\cr \\hline\n2 & n\\le 10^6 &  m\\le 5\\times 10^3 & 40 \\cr \\hline\n3 & n\\le 10^{18} & m=0 & 15 \\cr \\hline\n4 & n\\le 10^{18} & m\\le 5\\times 10^3 & 30 \\cr \\hline\n\\end{array}$$\n\n此外，对于全部数据，有 $1\\le p_i\\le n,c_i\\in \\{0,1\\}, 0\\le m\\le n$ 且 $p_i$ 各不相同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2」阴阳玉", "background": "博丽灵梦有一块好大好大的阴阳玉，它是是博丽灵梦的主要武器之一。\n\n但是阴阳玉的能量来源，源自主人的灵力聚集力量，因此，灵梦在平时总是需要对其进行保养。简单来说，灵梦会使用灵力，来获取阴阳玉所需的能量。\n\n", "description": "灵力有阴阳之分。初始的时候，灵梦只有两个阳灵力，它们围成了一个圈。每次，灵梦可以进行以下两种操作：\n\n- 在两个灵力直接加入一个阳灵力。\n\n- 移走一个阳灵力。\n\n为了保持稳定，任何时候这个圈上的灵力都**不应该少于两个**。\n\n由于灵力的阴阳并不稳定，因此一旦某个灵力周围发生改变（多出一个灵力，或减少一个灵力），它就会从阳变成阴，或从阴变成阳。不过，如果只是周边灵力的性质改变，那么它就不会发生变化。\n\n灵梦会不断调节灵力，直到它**最终**变成 $n$ 个（中途可能多于 $n$ 个）。然后，灵梦会从某个点**依次**按照顺时针或逆时针取下每个灵力。它会形成一条链。灵梦会用链上的能量，来加强她的阴阳玉。\n\n做到这一点非常容易。但是灵梦非常好奇，一共可能形成多少种不同的**链**。\n\n由于灵梦的偏好，她可能会有 $m$ 个限制条件。第 $i$ 个条件 $(p_i,c_i)$ ，规定了链上第 $p_i$ 个灵力应该为何种灵力。若 $c_i=0$ ，则应该为阴灵力；否则为阳。\n\n由于可能结果太大，灵梦只需要得到答案对 $998244353$ 取模的结果。\n\n两个链不同，当且仅当存在一个位置的点颜色不同。", "inputFormat": "第一行为一个正整数 $n$ 和一个非负整数 $m$ 。\n\n当 $m=0$ 时无约束条件。否则接下来会有 $m$ 行，每行两个非负整数 $p_i,c_i$ ，含义如上。", "outputFormat": "一行，一个非负整数，表示所有链的可能种类总数对 $998244353$ 取模的值。", "hint": "#### 样例解释\n\n对于样例一，可能存在以下两种构造方式：\n\n![pic3.JPG/The \"2\"-th of the \"1\"-st.](https://i.loli.net/2020/07/17/VQn8MB7fxJsA1Rr.jpg)\n\n其中， $\\tt ADD$ 表示增加一个阳灵力，$\\tt RMV$ 表示移走一个阳灵力。\n\n将得到的两个环分别拆开，一共可以得到以下五种链：\n\n- 环一：**阳—阳—阳—阳**。\n\n- 环二：**阳—阳—阴—阴**，**阳—阴—阴—阳**，**阴—阴—阳—阳**，**阴—阳—阳—阴**。\n\n因此答案为 $5$ 。\n\n对于样例二，我们限定了链上第一个灵力为阳。因此结果为 $3$ 。\n\n#### 数据范围\n\n$$\\def\\t{\\text}\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|}\\hline\n\\textbf{Subtask} & n\\t{ 的范围} & m\\t{ 的范围} & \\t{分值}\\cr\\hline\n1 & n\\le 16 & m\\le 16 & 15 \\cr \\hline\n2 & n\\le 10^6 &  m\\le 5\\times 10^3 & 40 \\cr \\hline\n3 & n\\le 10^{18} & m=0 & 15 \\cr \\hline\n4 & n\\le 10^{18} & m\\le 5\\times 10^3 & 30 \\cr \\hline\n\\end{array}$$\n\n此外，对于全部数据，有 $1\\le p_i\\le n,c_i\\in \\{0,1\\}, 0\\le m\\le n$ 且 $p_i$ 各不相同。", "locale": "zh-CN"}}}
{"pid": "P6735", "type": "P", "difficulty": 6, "samples": [["4 2 0\n", "20\n"], ["4 2 1\n1 1 1 1\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020", "区间 DP", "组合数学"], "title": "「Wdsr-2」环", "background": "", "description": "Kagamine Rin 有一个圆环，上面均匀分布着 $n$ 个点，这些点之间连接着 $m$ 条线段。\n\n突然有一天，这些线段全都不见了。\n\nRin 想要找回这些线段，但是她不记得线段的分布。她只记得，这些线段中任意两条都不相交。\n\n**注意：只在端点处相交不算相交；重合不算相交。** 下面的样例解释有助于理解本题中的定义。\n\nRin 有时还会记得一些额外的信息，她可能还会告诉你每个点上连接的线段数。\n\n现在 Rin 想要知道，符合她的记忆的方案数有多少种。由于结果可能很大，你只需要输出答案对 $1000000007$ 取模的结果（模数是一个质数）。\n", "inputFormat": "第一行输入三个整数 $n,m,type$。\n\n如果 $type=1$，接下来一行输入 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 个点上连接的线段数。数据保证 $\\sum_{i=1}^na_i=2m$。\n", "outputFormat": "输出只有一个整数，表示合法的方案数对 $1000000007$ 取模的结果。\n", "hint": "样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/82pgikk2.png)\n\n**Update：上图第二行第三个画错了，它的竖应该在右边**\n\n\n如上图，有 $20$ 种方案满足样例 $1$ 的要求，而只有最后两种方案满足样例 $2$ 的要求。\n\n------\n\n**本题采用捆绑测试**，数据范围遵守如下约定：\n\nsubtask | $n\\le$ | $m\\le$ | $type$ | 分数\n:-:|:-:|:-:|:-:|:-:\n$0$ | $8$ | $8$ | $0$ | $10$\n$1$ | $50$ | $50$ | $0$ | $10$\n$2$ | $4000$ | $4000$ | $0$ | $15$\n$3$ | $8$ | $8$ | $1$ | $10$\n$4$ | $50$ | $50$ | $1$ | $15$\n$5$ | $600$ | $600$ | $1$ | $20$\n$6$ | $4000$ | $4000$ | $1$ | $20$\n\n对于所有数据，有 $2\\le n\\le 4000,1\\le m\\le 4000,type\\in \\{0,1\\}, a_i \\ge 0$。若 $type=1$ 则保证 $\\sum_{i=1}^na_i=2m$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2」环", "background": "", "description": "Kagamine Rin 有一个圆环，上面均匀分布着 $n$ 个点，这些点之间连接着 $m$ 条线段。\n\n突然有一天，这些线段全都不见了。\n\nRin 想要找回这些线段，但是她不记得线段的分布。她只记得，这些线段中任意两条都不相交。\n\n**注意：只在端点处相交不算相交；重合不算相交。** 下面的样例解释有助于理解本题中的定义。\n\nRin 有时还会记得一些额外的信息，她可能还会告诉你每个点上连接的线段数。\n\n现在 Rin 想要知道，符合她的记忆的方案数有多少种。由于结果可能很大，你只需要输出答案对 $1000000007$ 取模的结果（模数是一个质数）。\n", "inputFormat": "第一行输入三个整数 $n,m,type$。\n\n如果 $type=1$，接下来一行输入 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 个点上连接的线段数。数据保证 $\\sum_{i=1}^na_i=2m$。\n", "outputFormat": "输出只有一个整数，表示合法的方案数对 $1000000007$ 取模的结果。\n", "hint": "样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/82pgikk2.png)\n\n**Update：上图第二行第三个画错了，它的竖应该在右边**\n\n\n如上图，有 $20$ 种方案满足样例 $1$ 的要求，而只有最后两种方案满足样例 $2$ 的要求。\n\n------\n\n**本题采用捆绑测试**，数据范围遵守如下约定：\n\nsubtask | $n\\le$ | $m\\le$ | $type$ | 分数\n:-:|:-:|:-:|:-:|:-:\n$0$ | $8$ | $8$ | $0$ | $10$\n$1$ | $50$ | $50$ | $0$ | $10$\n$2$ | $4000$ | $4000$ | $0$ | $15$\n$3$ | $8$ | $8$ | $1$ | $10$\n$4$ | $50$ | $50$ | $1$ | $15$\n$5$ | $600$ | $600$ | $1$ | $20$\n$6$ | $4000$ | $4000$ | $1$ | $20$\n\n对于所有数据，有 $2\\le n\\le 4000,1\\le m\\le 4000,type\\in \\{0,1\\}, a_i \\ge 0$。若 $type=1$ 则保证 $\\sum_{i=1}^na_i=2m$。", "locale": "zh-CN"}}}
{"pid": "P6736", "type": "P", "difficulty": 6, "samples": [["3\n2 1 1 3\n3 1 2 7\n7 1 2 4", "0\n2\n-1"], ["3\n2 2 4 7\n3 2 4 6\n5 2 1 3", "2\n-1\n0"], ["3\n4 3 5 8\n2 3 9 11\n6 3 1 5", "-1\n3\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "递归", "数论", "洛谷原创", "O2优化", "哈希 hashing", "欧拉降幂", "大步小步算法 BSGS"], "title": "「Wdsr-2」白泽教育", "background": "上白泽慧音在给雾之湖的妖精们讲课。\n\n某天，慧音在上数学课时，提到了一种非常有趣的记号：**高德纳箭号表示法**。它可以用来描述非常巨大的数字。~~比如紫的年龄。~~\n\n对于非负整数 $a, b$ 和正整数 $n$，高德纳箭号表示法的定义为：\n\n$$a \\uparrow^n b = \\begin{cases}\n1\\ (b = 0) \\\\\na^b\\ (n = 1\\ \\operatorname{and}\\ b > 0) \\\\\na \\uparrow^{n - 1} (a \\uparrow^n (b - 1))\\ (n > 1\\ \\operatorname{and}\\ b > 0)\n\\end{cases}$$\n\n一些简单的例子：\n\n- $2 \\uparrow 31 = 2^{31} = 2147483648$\n\n- $2 \\uparrow \\uparrow 4 = 2^{2^{2^2}} = 2^{2^4} = 2^{16} = 65536$\n\n注：\n1. $a \\uparrow b$ 与 $a \\uparrow^1 b$ 相同；\n\n2. $a \\uparrow \\uparrow b$ 与 $a \\uparrow^2 b$ 相同；\n\n3. 请注意幂运算的顺序。", "description": "慧音希望琪露诺解决以下关于 $x$ 的方程：\n\n$$a \\uparrow^n x \\equiv b \\pmod p$$\n\n其中，$a, n, b, p$ 为已知的常数，$x$ 为未知数。\n\n琪露诺被高德纳箭号表示法搞得云里雾里的，但是她不想被头槌。你能帮帮她吗？", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行，四个整数 $a, n, b, p$。", "outputFormat": "对于每组数据，输出一行，一个整数，如果原方程有解，输出该方程的最小非负整数解；否则，输出 $-1$。", "hint": "**本题开启捆绑测试。**\n\n| Subtask | $n$ | $p$ | $T$ | 分值 | 时限 |\n| :------: | :------: | :------: | :------: | :------: | :------: |\n| $1$ | $n = 1$ | $2 \\leq p \\leq 10^9$ 且 $p$ 为质数 | $1 \\leq T \\leq 100$ | $15 \\operatorname{pts}$ | $2.00 \\operatorname{s}$ |\n| $2$ | $n = 2$ | 无特殊限制 | $1 \\leq T \\leq 5 \\times 10^3$ | $25 \\operatorname{pts}$ | $1.00 \\operatorname{s}$ |\n| $3$ | $n = 3$ | 无特殊限制 | 无特殊限制 | $60 \\operatorname{pts}$ | $2.00 \\operatorname{s}$ |\n\n对于 $100\\%$ 的数据，$1 \\leq a \\leq 10^9$，$1 \\leq n \\leq 3$，$0 \\leq b < p \\leq 10^9$，$1 \\leq T \\leq 2 \\times 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-2」白泽教育", "background": "上白泽慧音在给雾之湖的妖精们讲课。\n\n某天，慧音在上数学课时，提到了一种非常有趣的记号：**高德纳箭号表示法**。它可以用来描述非常巨大的数字。~~比如紫的年龄。~~\n\n对于非负整数 $a, b$ 和正整数 $n$，高德纳箭号表示法的定义为：\n\n$$a \\uparrow^n b = \\begin{cases}\n1\\ (b = 0) \\\\\na^b\\ (n = 1\\ \\operatorname{and}\\ b > 0) \\\\\na \\uparrow^{n - 1} (a \\uparrow^n (b - 1))\\ (n > 1\\ \\operatorname{and}\\ b > 0)\n\\end{cases}$$\n\n一些简单的例子：\n\n- $2 \\uparrow 31 = 2^{31} = 2147483648$\n\n- $2 \\uparrow \\uparrow 4 = 2^{2^{2^2}} = 2^{2^4} = 2^{16} = 65536$\n\n注：\n1. $a \\uparrow b$ 与 $a \\uparrow^1 b$ 相同；\n\n2. $a \\uparrow \\uparrow b$ 与 $a \\uparrow^2 b$ 相同；\n\n3. 请注意幂运算的顺序。", "description": "慧音希望琪露诺解决以下关于 $x$ 的方程：\n\n$$a \\uparrow^n x \\equiv b \\pmod p$$\n\n其中，$a, n, b, p$ 为已知的常数，$x$ 为未知数。\n\n琪露诺被高德纳箭号表示法搞得云里雾里的，但是她不想被头槌。你能帮帮她吗？", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行，四个整数 $a, n, b, p$。", "outputFormat": "对于每组数据，输出一行，一个整数，如果原方程有解，输出该方程的最小非负整数解；否则，输出 $-1$。", "hint": "**本题开启捆绑测试。**\n\n| Subtask | $n$ | $p$ | $T$ | 分值 | 时限 |\n| :------: | :------: | :------: | :------: | :------: | :------: |\n| $1$ | $n = 1$ | $2 \\leq p \\leq 10^9$ 且 $p$ 为质数 | $1 \\leq T \\leq 100$ | $15 \\operatorname{pts}$ | $2.00 \\operatorname{s}$ |\n| $2$ | $n = 2$ | 无特殊限制 | $1 \\leq T \\leq 5 \\times 10^3$ | $25 \\operatorname{pts}$ | $1.00 \\operatorname{s}$ |\n| $3$ | $n = 3$ | 无特殊限制 | 无特殊限制 | $60 \\operatorname{pts}$ | $2.00 \\operatorname{s}$ |\n\n对于 $100\\%$ 的数据，$1 \\leq a \\leq 10^9$，$1 \\leq n \\leq 3$，$0 \\leq b < p \\leq 10^9$，$1 \\leq T \\leq 2 \\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P6737", "type": "P", "difficulty": 5, "samples": [["2\n3 3 1\n4 7 2", "###\n#.x\n#o#\n\n.o.####\n.#..x.#\n...##.#\n###o..."]], "limits": {"time": [5000], "memory": [512000]}, "tags": ["贪心", "2016", "提交答案", "Special Judge", "构造", "BalticOI（波罗的海）"], "title": "[BalticOI 2016] 迷宫 (Day2)", "background": "", "description": "您看到了一道题\n\n> 给定一个迷宫，迷宫中有四种方块：\n> \n> - `.` 地板，可以走\n> - `#` 墙壁，不可以走，也不可以穿过\n> - `x` 基地\n> - `o` 硬币\n>\n> 您的任务就是求从基地开始，可以向上，向下，向左，向右走，最后回到基地得到的硬币数的最大值。\n\n您想知道，给定迷宫的大小为 $n \\times m$，并且给定答案为 $k$，能构造出的一个迷宫。\n\n因为您创造了 $t$ 道这样的题，所以您要构造 $t$ 个迷宫。", "inputFormat": "第一行一个整数 $t$ 代表要构造的迷宫数。     \n接下来 $t$ 行每行三个整数 $n,m,k$ 代表迷宫大小和最终答案。", "outputFormat": "对于每个要构造的数据，输出 $n$ 行，每行 $m$ 个字符代表这个迷宫。      \n两个迷宫之间要有一个空行。", "hint": "#### 数据说明与评分策略\n\n**本题为提交答案题**，输入数据请从附加文件中获取。\n\n一共有 $1$ 组 $t=50$ 的输入输出文件，您提交答案的答案包里的文件应为 `maze.out`。\n\n我们定义：\n\n- 您得到的迷宫的难度 $x$ 为从基地开始获取所有金币的最短路长度。\n- 官方得到的迷宫的难度 $d$ 为从基地开始获取所有金币的最短路长度。\n\n**本题采用 Special Judge**。于每个构造出的迷宫，您可以得到\n\n$$\\max(0,100-3(d-x))$$\n\n的分数。\n\n感谢 spj 提供者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n#### 说明\n\n翻译自 [BalticOI 2016 Day2 B Maze](https://boi.cses.fi/files/boi2016_day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2016] 迷宫 (Day2)", "background": "", "description": "您看到了一道题\n\n> 给定一个迷宫，迷宫中有四种方块：\n> \n> - `.` 地板，可以走\n> - `#` 墙壁，不可以走，也不可以穿过\n> - `x` 基地\n> - `o` 硬币\n>\n> 您的任务就是求从基地开始，可以向上，向下，向左，向右走，最后回到基地得到的硬币数的最大值。\n\n您想知道，给定迷宫的大小为 $n \\times m$，并且给定答案为 $k$，能构造出的一个迷宫。\n\n因为您创造了 $t$ 道这样的题，所以您要构造 $t$ 个迷宫。", "inputFormat": "第一行一个整数 $t$ 代表要构造的迷宫数。     \n接下来 $t$ 行每行三个整数 $n,m,k$ 代表迷宫大小和最终答案。", "outputFormat": "对于每个要构造的数据，输出 $n$ 行，每行 $m$ 个字符代表这个迷宫。      \n两个迷宫之间要有一个空行。", "hint": "#### 数据说明与评分策略\n\n**本题为提交答案题**，输入数据请从附加文件中获取。\n\n一共有 $1$ 组 $t=50$ 的输入输出文件，您提交答案的答案包里的文件应为 `maze.out`。\n\n我们定义：\n\n- 您得到的迷宫的难度 $x$ 为从基地开始获取所有金币的最短路长度。\n- 官方得到的迷宫的难度 $d$ 为从基地开始获取所有金币的最短路长度。\n\n**本题采用 Special Judge**。于每个构造出的迷宫，您可以得到\n\n$$\\max(0,100-3(d-x))$$\n\n的分数。\n\n感谢 spj 提供者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n#### 说明\n\n翻译自 [BalticOI 2016 Day2 B Maze](https://boi.cses.fi/files/boi2016_day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6738", "type": "P", "difficulty": 6, "samples": [], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "交互题", "Special Judge", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2014] Cop and Robber (Day1)", "background": "**本题为交互题。**\n\n### 请使用 C++14/C++17 提交以避免不必要的 CE。\n\n### 你需要将你的函数包裹在 `extern \"C\" { }` 中，具体的，一种包裹方式如下：\n\n```cpp\nextern \"C\" {\n\tconst int N = 500;\n\tint start(int n, bool a[N][N]) {\n\t\t// ...\n\t}\n\tint nextMove(int x) {\n\t\t// ...\n\t}\n}\n```", "description": "警察抓小偷，每名警察会选择一个街角进行把守，每次警察可以选择不动或者挪动到相邻的角落，小偷初始也在一个街角，因为他知道地图，所以他会选择最好的策略进行移动，但是小偷不能原地不动。\n\n每一轮先是警察进行移动，然后是小偷进行移动，有下面两种结局：\n\n1. 小偷能够一直躲避警察\n2. 在一个街角上，小偷和警察相遇了，小偷被逮捕了\n\n求警察能不能抓到小偷，能的话输出最小轮数。\n\n您的代码必须以小偷一方为优胜策略方。\n\n#### 交互策略\n\n你需要写两个函数与交互器进行交互，函数原型分别为：\n\n```cpp\nint start(int N, bool A[MAX_N][MAX_N]);\nint nextMove(int R);\n```\n\n - 其中 `start(N, A)`传入以下参数：\n\n   - $N$——街角的数量（街角以 $0$ 到 $N - 1$ 编号）；\n\n   - $A$——一个二维数组描述小巷：对于所有的 $0 \\le i,\\,j \\le N-1$，若 $i$ 与 $j$ 不连通，则 $A[i,j]=\\texttt{false}$，否则 $A[i,j]=\\texttt{true}$\n\n    所有小巷都是双向的（即对于所有 $i$ 和 $j$，$A[i,j]=A[j,i]$），并且不会出现自环（即对于所有 $i$，$A[i,i]=\\texttt{false}$）。此外，你可以假设警察总能从其他街角通过小巷到达一个街角。\n\n 如果警察可能在由参数描述的地图上抓到强盗，函数`start`应该返回警察与强盗相遇的街角编号。否则返回 $-1$。\n\n - 而 `nextMove(R)` 传入参数 $R$，表示当前强盗的所在的街角编号。该函数应返回这次移动之后警察所在的街角编号。\n\n函数 `start` 必定会在第一次调用函数 `nextMove` 调用一次。如果 `start` 返回了 $-1$，那么 `nextMove` 将不会被调用。否则，`nextMove` 会被反复调用直到追捕行动结束。更确切地说，只要满足以下情况之一，程序必须终止：\n\n - `nextMove` 返回了一个不合法的移动；\n\n - 强盗能够一直躲避警察；\n\n - 强盗被抓住了。", "inputFormat": "None", "outputFormat": "None", "hint": "#### 样例说明\n\n对于样例 $1$，图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bfbwyie4.png)\n\n函数调用过程如下：\n\n|函数调用|函数返回|\n|:-:|:-:|\n|`start(4, [[0, 1, 1, 1], [1, 0, 0, 0], [1, 0, 0, 0], [1, 0, 0, 0]])`|`3`|\n|`nextMove(1)`|`3`|\n|`nextMove(0)`|`0`|\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（16 pts）：无重边。\n- Subtask 2（14 pts）：地图为网格形，如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/be35kglq.png)\n\n- Subtask 3（30 pts）：$2 \\le N \\le 100$。\n- Subtask 4（40 pts）：$2 \\le N$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 500$。\n\n感谢交互库和 spj 作者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n**本题强制 $O2$ 优化。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day1 A Cop and Robber](https://boi.cses.fi/files/boi2014_day1.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2014] Cop and Robber (Day1)", "background": "**本题为交互题。**\n\n### 请使用 C++14/C++17 提交以避免不必要的 CE。\n\n### 你需要将你的函数包裹在 `extern \"C\" { }` 中，具体的，一种包裹方式如下：\n\n```cpp\nextern \"C\" {\n\tconst int N = 500;\n\tint start(int n, bool a[N][N]) {\n\t\t// ...\n\t}\n\tint nextMove(int x) {\n\t\t// ...\n\t}\n}\n```", "description": "警察抓小偷，每名警察会选择一个街角进行把守，每次警察可以选择不动或者挪动到相邻的角落，小偷初始也在一个街角，因为他知道地图，所以他会选择最好的策略进行移动，但是小偷不能原地不动。\n\n每一轮先是警察进行移动，然后是小偷进行移动，有下面两种结局：\n\n1. 小偷能够一直躲避警察\n2. 在一个街角上，小偷和警察相遇了，小偷被逮捕了\n\n求警察能不能抓到小偷，能的话输出最小轮数。\n\n您的代码必须以小偷一方为优胜策略方。\n\n#### 交互策略\n\n你需要写两个函数与交互器进行交互，函数原型分别为：\n\n```cpp\nint start(int N, bool A[MAX_N][MAX_N]);\nint nextMove(int R);\n```\n\n - 其中 `start(N, A)`传入以下参数：\n\n   - $N$——街角的数量（街角以 $0$ 到 $N - 1$ 编号）；\n\n   - $A$——一个二维数组描述小巷：对于所有的 $0 \\le i,\\,j \\le N-1$，若 $i$ 与 $j$ 不连通，则 $A[i,j]=\\texttt{false}$，否则 $A[i,j]=\\texttt{true}$\n\n    所有小巷都是双向的（即对于所有 $i$ 和 $j$，$A[i,j]=A[j,i]$），并且不会出现自环（即对于所有 $i$，$A[i,i]=\\texttt{false}$）。此外，你可以假设警察总能从其他街角通过小巷到达一个街角。\n\n 如果警察可能在由参数描述的地图上抓到强盗，函数`start`应该返回警察与强盗相遇的街角编号。否则返回 $-1$。\n\n - 而 `nextMove(R)` 传入参数 $R$，表示当前强盗的所在的街角编号。该函数应返回这次移动之后警察所在的街角编号。\n\n函数 `start` 必定会在第一次调用函数 `nextMove` 调用一次。如果 `start` 返回了 $-1$，那么 `nextMove` 将不会被调用。否则，`nextMove` 会被反复调用直到追捕行动结束。更确切地说，只要满足以下情况之一，程序必须终止：\n\n - `nextMove` 返回了一个不合法的移动；\n\n - 强盗能够一直躲避警察；\n\n - 强盗被抓住了。", "inputFormat": "None", "outputFormat": "None", "hint": "#### 样例说明\n\n对于样例 $1$，图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bfbwyie4.png)\n\n函数调用过程如下：\n\n|函数调用|函数返回|\n|:-:|:-:|\n|`start(4, [[0, 1, 1, 1], [1, 0, 0, 0], [1, 0, 0, 0], [1, 0, 0, 0]])`|`3`|\n|`nextMove(1)`|`3`|\n|`nextMove(0)`|`0`|\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（16 pts）：无重边。\n- Subtask 2（14 pts）：地图为网格形，如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/be35kglq.png)\n\n- Subtask 3（30 pts）：$2 \\le N \\le 100$。\n- Subtask 4（40 pts）：$2 \\le N$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 500$。\n\n感谢交互库和 spj 作者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n**本题强制 $O2$ 优化。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day1 A Cop and Robber](https://boi.cses.fi/files/boi2014_day1.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6739", "type": "P", "difficulty": 4, "samples": [["7\nABXCABC", "ABC"], ["6\nABCDEF", "NOT POSSIBLE"], ["9\nABABABABA", "NOT UNIQUE"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "哈希 hashing", "BalticOI（波罗的海）"], "title": "[BalticOI 2014] Three Friends (Day1)", "background": "", "description": "有一个字符串 $S$，对他进行操作：\n\n1. 将 $S$ 复制为两份，存在字符串 $T$ 中\n2. 在 $T$ 的某一位置上插入一个字符，得到字符串 $U$\n\n现在给定 $U$，求 $S$。", "inputFormat": "第一行一个整数 $N$ 代表 $U$ 的长度。   \n第二行 $N$ 个字符代表字符串 $U$。", "outputFormat": "- 如果不能通过上述的步骤从 $S$ 推到 $U$，输出 `NOT POSSIBLE`。\n- 如果从 $U$ 得到的 $S$ 不是唯一的，输出 `NOT UNIQUE`。\n- 否则，输出一个字符串 $S$。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（35 pts）：$N \\le 2001$。\n- Subtask 2（65 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$2 \\le N \\le 2 \\times 10^6+1$，保证 $U$ 中只包含大写字母。\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day1 B Three Friends](https://boi.cses.fi/files/boi2014_day1.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2014] Three Friends (Day1)", "background": "", "description": "有一个字符串 $S$，对他进行操作：\n\n1. 将 $S$ 复制为两份，存在字符串 $T$ 中\n2. 在 $T$ 的某一位置上插入一个字符，得到字符串 $U$\n\n现在给定 $U$，求 $S$。", "inputFormat": "第一行一个整数 $N$ 代表 $U$ 的长度。   \n第二行 $N$ 个字符代表字符串 $U$。", "outputFormat": "- 如果不能通过上述的步骤从 $S$ 推到 $U$，输出 `NOT POSSIBLE`。\n- 如果从 $U$ 得到的 $S$ 不是唯一的，输出 `NOT UNIQUE`。\n- 否则，输出一个字符串 $S$。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（35 pts）：$N \\le 2001$。\n- Subtask 2（65 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$2 \\le N \\le 2 \\times 10^6+1$，保证 $U$ 中只包含大写字母。\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day1 B Three Friends](https://boi.cses.fi/files/boi2014_day1.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6740", "type": "P", "difficulty": 6, "samples": [["6\n7 8 9 5 1 2", "47"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2014] Sequence (Day1)", "background": "", "description": "现在有 $K$ 个连续正整数，每个整数你只能看见其中一位数字，求最开始的数 $N$ 的最小值。", "inputFormat": "第一行一个整数 $K$ 代表数列长度。      \n第二行 $K$ 的整数代表你能看见的数字。", "outputFormat": "一行一个整数代表 $N$ 的最小值。", "hint": "#### 样例说明\n\n对于样例 $1$，使得 $N$ 最小的数列为 $47,48,49,50,51,52$，$N$ 的最小值为 $47$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（9 pts）：$N,K \\le 1000$。\n- Subtask 2（33 pts）：$K \\le 1000$。\n- Subtask 3（25 pts）：给定的数位都相等。\n- Subtask 4（33 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le K \\le 10^5$。\n\n**本题强制 O2 优化。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day1 C Sequence](http://www.boi2014.lmio.lt/tasks/sequence-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2014] Sequence (Day1)", "background": "", "description": "现在有 $K$ 个连续正整数，每个整数你只能看见其中一位数字，求最开始的数 $N$ 的最小值。", "inputFormat": "第一行一个整数 $K$ 代表数列长度。      \n第二行 $K$ 的整数代表你能看见的数字。", "outputFormat": "一行一个整数代表 $N$ 的最小值。", "hint": "#### 样例说明\n\n对于样例 $1$，使得 $N$ 最小的数列为 $47,48,49,50,51,52$，$N$ 的最小值为 $47$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（9 pts）：$N,K \\le 1000$。\n- Subtask 2（33 pts）：$K \\le 1000$。\n- Subtask 3（25 pts）：给定的数位都相等。\n- Subtask 4（33 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le K \\le 10^5$。\n\n**本题强制 O2 优化。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day1 C Sequence](http://www.boi2014.lmio.lt/tasks/sequence-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6741", "type": "P", "difficulty": 5, "samples": [["10\n0 0\n1 0\n1 1\n3 1\n3 5\n2 5\n2 3\n1 3\n1 2\n0 2", "1 2 3 2"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2014] Demarcation (Day2)", "background": "", "description": "给定一个多边形，求画一条线段将这个多边形分为两个全等的多边形。\n\n需要保证这条线段与坐标轴平行。", "inputFormat": "第一行一个整数 $N$ 代表这个多边形由 $N$ 个点组成。  \n接下来 $N$ 行每行两个整数 $X_i,Y_i$ 代表多边形的一个点 $(X_i,Y_i)$。", "outputFormat": "如果不可以分为两个全等的多边形，输出一个字符串 `NO`。  \n如果可以，输出四个整数 $x_1,y_1,x_2,y_2$ 代表线段 $(x_1,y_1)\\to (x_2,y_2)$。", "hint": "#### 样例说明\n\n对于样例 $1$，如下图所示，可以分成两个全等的多边形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ueohtd3.png)\n\n同理，输出 `3 2 1 2` 也可。\n\n对于样例 $2$，如下图所示，不可以分为两个全等的多边形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yl64yxp9.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（12 pts）：保证有解。\n- Subtask 2（15 pts）：$N \\le 200$。\n- Subtask 3（23 pts）：$N \\le 2000$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$4 \\le N \\le 10^5$。\n\n**本题采用 Special Judge。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day2 A Demarcation](https://boi.cses.fi/files/boi2014_day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2014] Demarcation (Day2)", "background": "", "description": "给定一个多边形，求画一条线段将这个多边形分为两个全等的多边形。\n\n需要保证这条线段与坐标轴平行。", "inputFormat": "第一行一个整数 $N$ 代表这个多边形由 $N$ 个点组成。  \n接下来 $N$ 行每行两个整数 $X_i,Y_i$ 代表多边形的一个点 $(X_i,Y_i)$。", "outputFormat": "如果不可以分为两个全等的多边形，输出一个字符串 `NO`。  \n如果可以，输出四个整数 $x_1,y_1,x_2,y_2$ 代表线段 $(x_1,y_1)\\to (x_2,y_2)$。", "hint": "#### 样例说明\n\n对于样例 $1$，如下图所示，可以分成两个全等的多边形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ueohtd3.png)\n\n同理，输出 `3 2 1 2` 也可。\n\n对于样例 $2$，如下图所示，不可以分为两个全等的多边形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yl64yxp9.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（12 pts）：保证有解。\n- Subtask 2（15 pts）：$N \\le 200$。\n- Subtask 3（23 pts）：$N \\le 2000$。\n- Subtask 4（50 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$4 \\le N \\le 10^5$。\n\n**本题采用 Special Judge。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day2 A Demarcation](https://boi.cses.fi/files/boi2014_day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6742", "type": "P", "difficulty": 5, "samples": [["4 4\n.#.C\n.#.#\n....\nS...", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2014] Portals (Day2)", "background": "", "description": "给定一个 $R\\times C$ 的迷宫，每个格子都有一种方块：\n\n- `#` 墙，不可以走，不可以穿过\n- `.` 路，可以走\n- `S` 出生点，玩家从这里开始走，只有一个\n- `C` 终点，玩家要到达这里，只有一个\n\n现在要对迷宫进行扩容，周围要增加一个方块 `#`，变成 $(R+2)\\times (C+2)$ 的迷宫。\n\n并且在任何时候，它都可以向上、左、下、右四个方向中的一个发射传送门。当一个传送门被发射，它会一直向发射的方向飞行，直到碰触到墙壁。这时，传送门会被放置在这堵墙上。\n\n走一格需要 $1$ 的时间，穿梭传送门也需要 $1$ 的时间。\n\n求从出生点到终点最少需要多少时间。\n\n如果很难理解题意，请配合样例进行理解。", "inputFormat": "第一行两个整数 $R,C$ 代表迷宫大小。     \n接下来 $R$ 行每行 $C$ 个字符代表迷宫。", "outputFormat": "一行一个整数代表到达终点的最小时间。", "hint": "#### 样例说明\n\n对于样例 $1$，我们把迷宫模拟出来并且在周围加上 `#` 之后，如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5d381oik.png)\n\n人形物体为 `S`，蛋糕形物体为 `C`。\n\n如图所示，至少需要 $4$ 的时间。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（11 pts）：$R,C \\le 10$。\n- Subtask 2（20 pts）：$R,C \\le 50$。\n- Subtask 3（20 pts）：$R,C \\le 200$，每个 `.` 周围都至少有一个 `#`。\n- Subtask 4（19 pts）：$R,C  \\le 200$。\n- Subtask 5（30 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le R,C \\le 1000$。\n\n**本题强制 $O2$ 优化。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day2 B Portals](https://boi.cses.fi/files/boi2014_day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2014] Portals (Day2)", "background": "", "description": "给定一个 $R\\times C$ 的迷宫，每个格子都有一种方块：\n\n- `#` 墙，不可以走，不可以穿过\n- `.` 路，可以走\n- `S` 出生点，玩家从这里开始走，只有一个\n- `C` 终点，玩家要到达这里，只有一个\n\n现在要对迷宫进行扩容，周围要增加一个方块 `#`，变成 $(R+2)\\times (C+2)$ 的迷宫。\n\n并且在任何时候，它都可以向上、左、下、右四个方向中的一个发射传送门。当一个传送门被发射，它会一直向发射的方向飞行，直到碰触到墙壁。这时，传送门会被放置在这堵墙上。\n\n走一格需要 $1$ 的时间，穿梭传送门也需要 $1$ 的时间。\n\n求从出生点到终点最少需要多少时间。\n\n如果很难理解题意，请配合样例进行理解。", "inputFormat": "第一行两个整数 $R,C$ 代表迷宫大小。     \n接下来 $R$ 行每行 $C$ 个字符代表迷宫。", "outputFormat": "一行一个整数代表到达终点的最小时间。", "hint": "#### 样例说明\n\n对于样例 $1$，我们把迷宫模拟出来并且在周围加上 `#` 之后，如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5d381oik.png)\n\n人形物体为 `S`，蛋糕形物体为 `C`。\n\n如图所示，至少需要 $4$ 的时间。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（11 pts）：$R,C \\le 10$。\n- Subtask 2（20 pts）：$R,C \\le 50$。\n- Subtask 3（20 pts）：$R,C \\le 200$，每个 `.` 周围都至少有一个 `#`。\n- Subtask 4（19 pts）：$R,C  \\le 200$。\n- Subtask 5（30 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le R,C \\le 1000$。\n\n**本题强制 $O2$ 优化。**\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day2 B Portals](https://boi.cses.fi/files/boi2014_day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6743", "type": "P", "difficulty": 5, "samples": [["10 15\n1 3\n5 1\n2 3\n9 2\n3 4\n6 3\n4 5\n7 4\n4 8\n5 7\n8 5\n6 7\n7 8\n8 10\n10 9", "2 3 4 5 8 10 9\n7 8 4\n1 5 7 6 3"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["搜索", "2014", "Special Judge", "深度优先搜索 DFS", "BalticOI（波罗的海）"], "title": "[BalticOI 2014] Senior Postmen (Day2)", "background": "", "description": "给定一张 $N$ 点 $M$ 边的连通无向图，求从中找出若干个简单环，使得：\n\n- 这些环没有重复的边。\n- 这些环覆盖了所有的点和边。\n\n简单环即为不重复经过点的环。\n\n保证图无重边，保证有解。", "inputFormat": "第一行两个整数 $N,M$ 代表点数和边数。       \n接下来 $M$ 行每行两个整数 $u,v$ 代表一条边。", "outputFormat": "若干行每行若干个整数代表一个简单环。", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z5q8d4du.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（38 pts）：$N \\le 2000$，$M \\le 10^5$。\n- Subtask 2（17 pts）：$N,M \\le 10^5$。\n- Subtask 3（45 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$3 \\le N,M \\le 5 \\times 10^5$。\n\n**本题使用 Special Judge。**\n\n感谢 spj 提供者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day2 C Senior Postmen](https://boi.cses.fi/files/boi2014_day2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2014] Senior Postmen (Day2)", "background": "", "description": "给定一张 $N$ 点 $M$ 边的连通无向图，求从中找出若干个简单环，使得：\n\n- 这些环没有重复的边。\n- 这些环覆盖了所有的点和边。\n\n简单环即为不重复经过点的环。\n\n保证图无重边，保证有解。", "inputFormat": "第一行两个整数 $N,M$ 代表点数和边数。       \n接下来 $M$ 行每行两个整数 $u,v$ 代表一条边。", "outputFormat": "若干行每行若干个整数代表一个简单环。", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z5q8d4du.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（38 pts）：$N \\le 2000$，$M \\le 10^5$。\n- Subtask 2（17 pts）：$N,M \\le 10^5$。\n- Subtask 3（45 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$3 \\le N,M \\le 5 \\times 10^5$。\n\n**本题使用 Special Judge。**\n\n感谢 spj 提供者 @[tiger2005](https://www.luogu.com.cn/user/60864)。\n\n#### 说明\n\n翻译自 [BalticOI 2014 Day2 C Senior Postmen](https://boi.cses.fi/files/boi2014_day2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6744", "type": "P", "difficulty": 0, "samples": [["7\n1 3 1 9\n4 7 2 8\n11 15 4 12\n10 12 15 19\n16 23 16 22\n20 22 13 25\n30 31 30 31", "3 8"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2011", "Special Judge", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2011] trapezoid", "background": "", "description": "考虑两条水平的直线，这两条线之间会有 $N$ 个梯形。\n\n如果两个梯形不相交，则称他们在一个独立集内。\n\n您需要求出最大的独立集大小和这种独立集的个数。\n\n由于独立集的个数可能很多，请输出其 $\\bmod\\ 30013$ 的值。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来 $N$ 行，每行四个整数 $a_i,b_i,c_i,d_i$，分别表示第 $i$ 个梯形的左上，右上，左下和右下顶点。", "outputFormat": "仅一行两个整数，表示最大的独立集大小和这种独立集的个数。\n\n由于独立集的个数可能很多，请输出其 $\\bmod\\ 30013$ 的值。", "hint": "#### 样例解释\n下面这个图不怎么准确，但是应该够用：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tlwnkrg6.png)\n\n#### 数据范围及限制\n- 对于 $50\\%$ 的数据，保证 $N\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^5$，$1\\le a_i,b_i,c_i,d_i\\le 10^9$，没有两个梯形具有相同的顶点。\n\n#### SPJ 计分标准\n如果您只回答对了第一个问题，得该测试点 $40\\%$ 的分数。\n\n所以，如果您只会第一个问题，也请在第二个问题瞎输出一点。\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 2](http://www.boi2011.ro/boi2011/?pagina=probleme) [T3 trapezoid](http://www.boi2011.ro/resurse/tasks/trapezoid.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2011] trapezoid", "background": "", "description": "考虑两条水平的直线，这两条线之间会有 $N$ 个梯形。\n\n如果两个梯形不相交，则称他们在一个独立集内。\n\n您需要求出最大的独立集大小和这种独立集的个数。\n\n由于独立集的个数可能很多，请输出其 $\\bmod\\ 30013$ 的值。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来 $N$ 行，每行四个整数 $a_i,b_i,c_i,d_i$，分别表示第 $i$ 个梯形的左上，右上，左下和右下顶点。", "outputFormat": "仅一行两个整数，表示最大的独立集大小和这种独立集的个数。\n\n由于独立集的个数可能很多，请输出其 $\\bmod\\ 30013$ 的值。", "hint": "#### 样例解释\n下面这个图不怎么准确，但是应该够用：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tlwnkrg6.png)\n\n#### 数据范围及限制\n- 对于 $50\\%$ 的数据，保证 $N\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^5$，$1\\le a_i,b_i,c_i,d_i\\le 10^9$，没有两个梯形具有相同的顶点。\n\n#### SPJ 计分标准\n如果您只回答对了第一个问题，得该测试点 $40\\%$ 的分数。\n\n所以，如果您只会第一个问题，也请在第二个问题瞎输出一点。\n\n#### 说明\n本题译自 [Balkan Olympiad in Informatics 2011](http://www.boi2011.ro/boi2011/) [Day 2](http://www.boi2011.ro/boi2011/?pagina=probleme) [T3 trapezoid](http://www.boi2011.ro/resurse/tasks/trapezoid.pdf)。", "locale": "zh-CN"}}}
{"pid": "P6745", "type": "P", "difficulty": 1, "samples": [["9 7", "1000000007"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "字符串", "洛谷月赛"], "title": "『MdOI R3』Number", "background": "", "description": "生活中我们会碰到一些特殊数字，这些数字使用一些特殊表达方式后会方便记忆和使用。比如说，$10^9+7$ 就非常常见——它相比于 $1000000007$，更方便选手看清数字而不必数 $0$，而且没有科学计数法的精度损失。\n\n你现在有一个形如 $10^{k}+x$ 的数字，请还原成一般写法。", "inputFormat": "一行两个整数 $k,x$。", "outputFormat": "一行一个整数表示 $10^k+x$。", "hint": "【样例解释】   \n\n$10^9+7=1000000007$。\n\n更多样例请[到这里](https://www.luogu.com.cn/paste/8lbtjwuk)领取。\n\n【数据范围】   \n\n**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。\n|子任务编号|$x<$|$k\\le$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|:-:|\n|1|$10$|$9$||12|\n|2|$10$|$500$||15|\n|3|$10^{18}$|$18$||8|\n|4|$10^{18}$|$500$|$k\\ge18$|25|\n|5|$10^{18}$|$500$||40|\n\n对于所有数据，$0\\le x<10^{18}$，$0\\leq k\\leq 500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R3』Number", "background": "", "description": "生活中我们会碰到一些特殊数字，这些数字使用一些特殊表达方式后会方便记忆和使用。比如说，$10^9+7$ 就非常常见——它相比于 $1000000007$，更方便选手看清数字而不必数 $0$，而且没有科学计数法的精度损失。\n\n你现在有一个形如 $10^{k}+x$ 的数字，请还原成一般写法。", "inputFormat": "一行两个整数 $k,x$。", "outputFormat": "一行一个整数表示 $10^k+x$。", "hint": "【样例解释】   \n\n$10^9+7=1000000007$。\n\n更多样例请[到这里](https://www.luogu.com.cn/paste/8lbtjwuk)领取。\n\n【数据范围】   \n\n**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。\n|子任务编号|$x<$|$k\\le$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|:-:|\n|1|$10$|$9$||12|\n|2|$10$|$500$||15|\n|3|$10^{18}$|$18$||8|\n|4|$10^{18}$|$500$|$k\\ge18$|25|\n|5|$10^{18}$|$500$||40|\n\n对于所有数据，$0\\le x<10^{18}$，$0\\leq k\\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P6746", "type": "P", "difficulty": 2, "samples": [["9 36 1 3", "4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["数学", "贪心", "洛谷月赛"], "title": "『MdOI R3』Operations", "background": "这是这场比赛唯一一道没有题目背景的题，这就是本题的题目背景。", "description": "给定非负整数 $a,b$，有两种操作：\n\n1. 任意选择一个正整数 $x$，将两数都减去 $x$，执行一次该操作的代价为 $c$；\n2. 任意选择一个正整数 $x$，将两数其中一个数乘以 $x$，另一个除以 $x$ 后向下取整，执行一次该操作的代价为 $d$。\n\n在这里，向下取整指使一个数变为**不大于它的最大的整数**，比如 $3.5$ 向下取整为 $3$，$-0.07$ 向下取整为 $-1$。\n\n选择的 $x$ 可以为任意正整数。在操作的过程中，可以把 $a,b$ 变为负数。\n\n你可以任意多次对这两个数操作，求将 $a,b$ 都变成 $0$ 的代价最小值。", "inputFormat": "一行四个整数 $a,b,c,d$，用空格隔开，分别表示 $a,b$ 的初始值和两种操作的代价。", "outputFormat": "一行一个整数，表示代价的最小值。", "hint": "【样例解释】\n\n先使用一次 $2$ 操作，选择 $x=2$，将 $a$ 乘 $2$，将 $b$ 除以 $2$，得 $a=18,b=18$。  \n再使用一次 $1$ 操作，选择 $x=18$，将两个数都减去 $18$，得 $a=0,b=0$。  \n可以证明没有比上述操作代价更小的方案。\n\n更多样例请[到这里](https://www.luogu.com.cn/paste/fnvd95y2)领取。\n\n【数据范围】  \n\n**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。\n| 子任务编号 | $a=0$ | $b=0$ | $a=b$ | $c=1,d\\geq 10^5$ | $c \\geq 10^5,d=1$ | 分值 |\n| :--------: | :------: | :------: | :--------: | :----------------: | :----------------: | :--: |\n|     $1$      |    $\\surd$     |    $\\surd$     |            |                    |                    |  10  |\n|     $2$      |    $\\surd$     |          |            |                    |                    |  10  |\n|     $3$      |          |          |     $\\surd$      |         $\\surd$          |                    |  10  |\n|     $4$      |          |          |          | $\\surd$ |                  |  10  |\n|     $5$      |          |          | $\\surd$ |                  | $\\surd$ |  10  |\n|     $6$      |          |          |            |                    |         $\\surd$   |  10  |\n|     $7$      |          |          |            |                    |                    |  40  |\n\n特殊性质如上所示，其中，$\\surd$ 表示保证有该特殊性质，空格表示不保证有该性质。\n\n对于所有数据，$0\\leq a,b,c,d \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R3』Operations", "background": "这是这场比赛唯一一道没有题目背景的题，这就是本题的题目背景。", "description": "给定非负整数 $a,b$，有两种操作：\n\n1. 任意选择一个正整数 $x$，将两数都减去 $x$，执行一次该操作的代价为 $c$；\n2. 任意选择一个正整数 $x$，将两数其中一个数乘以 $x$，另一个除以 $x$ 后向下取整，执行一次该操作的代价为 $d$。\n\n在这里，向下取整指使一个数变为**不大于它的最大的整数**，比如 $3.5$ 向下取整为 $3$，$-0.07$ 向下取整为 $-1$。\n\n选择的 $x$ 可以为任意正整数。在操作的过程中，可以把 $a,b$ 变为负数。\n\n你可以任意多次对这两个数操作，求将 $a,b$ 都变成 $0$ 的代价最小值。", "inputFormat": "一行四个整数 $a,b,c,d$，用空格隔开，分别表示 $a,b$ 的初始值和两种操作的代价。", "outputFormat": "一行一个整数，表示代价的最小值。", "hint": "【样例解释】\n\n先使用一次 $2$ 操作，选择 $x=2$，将 $a$ 乘 $2$，将 $b$ 除以 $2$，得 $a=18,b=18$。  \n再使用一次 $1$ 操作，选择 $x=18$，将两个数都减去 $18$，得 $a=0,b=0$。  \n可以证明没有比上述操作代价更小的方案。\n\n更多样例请[到这里](https://www.luogu.com.cn/paste/fnvd95y2)领取。\n\n【数据范围】  \n\n**本题采用捆绑测试**，换言之，你只有通过一个子任务的所有测试点，才可以拿到该子任务对应分数。\n| 子任务编号 | $a=0$ | $b=0$ | $a=b$ | $c=1,d\\geq 10^5$ | $c \\geq 10^5,d=1$ | 分值 |\n| :--------: | :------: | :------: | :--------: | :----------------: | :----------------: | :--: |\n|     $1$      |    $\\surd$     |    $\\surd$     |            |                    |                    |  10  |\n|     $2$      |    $\\surd$     |          |            |                    |                    |  10  |\n|     $3$      |          |          |     $\\surd$      |         $\\surd$          |                    |  10  |\n|     $4$      |          |          |          | $\\surd$ |                  |  10  |\n|     $5$      |          |          | $\\surd$ |                  | $\\surd$ |  10  |\n|     $6$      |          |          |            |                    |         $\\surd$   |  10  |\n|     $7$      |          |          |            |                    |                    |  40  |\n\n特殊性质如上所示，其中，$\\surd$ 表示保证有该特殊性质，空格表示不保证有该性质。\n\n对于所有数据，$0\\leq a,b,c,d \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6747", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3 \n2 \n10 \n1", "3\n-1"], ["1\n0\n1\n1073741824000000", "1073741824000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "洛谷月赛"], "title": "『MdOI R3』Teleport", "background": "凯瑞甘从帝国的围攻下，击毁了大天使号，乘着雷诺的飞船逃了出来，到了休伯利安号上。\n\n“吉米？”凯瑞甘着急地四处寻找着。\n\n“很抱歉，我们没能救出他”马特·霍纳向凯瑞甘走来。\n\n“你丢下了他？”凯瑞甘回想起曾经的自己被蒙斯克丢下，便起了杀心，用灵能将马特抓了起来。\n\n“不是的，凯瑞甘，我们受到了帝国的伏击，现在必须，马上离开，过会可以回头来找他”马特解释道。\n\n“这里没有我们！你走吧，我自己去找他。”凯瑞甘放下了马特，回头坐着雷诺的回到了星球上。\n\n“警告，警告，敌军突破能量场。”帝国的舰队突破了马特舰队设下的能量场，控制着钢铁舰队折越到了这里，并对休伯利安号发起猛烈的攻击。\n\n“立即进行折越，我们必须马上离开！”马特·霍纳下令道。", "description": "马特·霍纳想要控制休伯利安号进行折越，想要进行折越，就要激活休伯利安号上的所有 $n$ 个位点。\n\n休伯利安号上有 $n$ 个位点，每个位点有 $a_i$ 点能量，为了激活，马特·霍纳会消耗 $k\\times n$ 点地嗪，这 $k\\times n$ 点地嗪会平均分给 $n$ 个位点，每个位点在接受 $k$ 点地嗪后会激发，得到 $a_i \\operatorname{xor} k$ 点高能，所有位点的高能总和为这次折越的消耗 $S$。\n\n为了能够快速的进行折越，马特·霍纳决定用最多的 $k\\times n$ 点地嗪，但可惜的是，如果地嗪使用太多，使得消耗 $S$ 超过限制值 $m$ ，那么休伯利安号就会不堪重负，最终爆炸。\n\n现在，你的任务是帮助马特·霍纳找到这个最大的 $k$ ，使得休伯利安号能在安全的前提下尽可能快的折越走。如果任何情况下都不能安全的折越走，则输出 $-1$ 。\n\n这里的 $\\operatorname{xor}$ 表示的是位运算中的按位异或运算。", "inputFormat": "第一行一个整数 $n$ 表示位点数量。  \n\n第二行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$ 表示每个位点拥有的能量。   \n\n第三行一个数 $q$ 表示询问次数。\n\n接下来 $q$ 行表示 $q$ 次询问，每行一个数 $m$。", "outputFormat": "对于每次询问输出一行一个非负整数，表示最大的 $k$。若无解，输出 $-1$ 。", "hint": "对于第一个询问，最大的 $k$ 为 $3$ ，此时 $S=2+1+0=3 \\le 10$ ，可证没有更大的 $k$ 满足条件。\n\n对于第二个询问，没有任何 $k$ 满足条件。\n|数据点  |$n$  |$a_i$  | $m$ | $q$ |\n| :------: | :------: | :-------: | :-------: | :----------: |\n|$1$|$\\le 10$|$\\le 2^{20}$| $\\le 2^{20}$| $=1$ |\n|$2$| $\\le 10^3$|$\\le10^3$|$\\le10^3$|$\\le 10^3$|\n|$3$|$\\le 10^3$  | $\\le 2^{30}$ | $\\le 10^3$ | $\\le 10^3$ |\n|$4\\sim 6$| $\\le 10^5$| $\\le 2^{20}$ | $\\le 10^6$ | $\\le 10^5$ |\n|$7\\sim 10$| $\\le 10^5$ | $\\le 2^{30}$ | $\\le 2^{30}\\times10^6$ | $\\le 10^5$ |\n**本题不进行捆绑测试。**\n\n所有测试点的数据范围如上所示。对于所有数据，$0<n,q\\leq 10^5,\\ 0\\leq a_i\\leq 2^{30},\\ 0\\leq m\\leq 2^{30}\\times 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R3』Teleport", "background": "凯瑞甘从帝国的围攻下，击毁了大天使号，乘着雷诺的飞船逃了出来，到了休伯利安号上。\n\n“吉米？”凯瑞甘着急地四处寻找着。\n\n“很抱歉，我们没能救出他”马特·霍纳向凯瑞甘走来。\n\n“你丢下了他？”凯瑞甘回想起曾经的自己被蒙斯克丢下，便起了杀心，用灵能将马特抓了起来。\n\n“不是的，凯瑞甘，我们受到了帝国的伏击，现在必须，马上离开，过会可以回头来找他”马特解释道。\n\n“这里没有我们！你走吧，我自己去找他。”凯瑞甘放下了马特，回头坐着雷诺的回到了星球上。\n\n“警告，警告，敌军突破能量场。”帝国的舰队突破了马特舰队设下的能量场，控制着钢铁舰队折越到了这里，并对休伯利安号发起猛烈的攻击。\n\n“立即进行折越，我们必须马上离开！”马特·霍纳下令道。", "description": "马特·霍纳想要控制休伯利安号进行折越，想要进行折越，就要激活休伯利安号上的所有 $n$ 个位点。\n\n休伯利安号上有 $n$ 个位点，每个位点有 $a_i$ 点能量，为了激活，马特·霍纳会消耗 $k\\times n$ 点地嗪，这 $k\\times n$ 点地嗪会平均分给 $n$ 个位点，每个位点在接受 $k$ 点地嗪后会激发，得到 $a_i \\operatorname{xor} k$ 点高能，所有位点的高能总和为这次折越的消耗 $S$。\n\n为了能够快速的进行折越，马特·霍纳决定用最多的 $k\\times n$ 点地嗪，但可惜的是，如果地嗪使用太多，使得消耗 $S$ 超过限制值 $m$ ，那么休伯利安号就会不堪重负，最终爆炸。\n\n现在，你的任务是帮助马特·霍纳找到这个最大的 $k$ ，使得休伯利安号能在安全的前提下尽可能快的折越走。如果任何情况下都不能安全的折越走，则输出 $-1$ 。\n\n这里的 $\\operatorname{xor}$ 表示的是位运算中的按位异或运算。", "inputFormat": "第一行一个整数 $n$ 表示位点数量。  \n\n第二行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$ 表示每个位点拥有的能量。   \n\n第三行一个数 $q$ 表示询问次数。\n\n接下来 $q$ 行表示 $q$ 次询问，每行一个数 $m$。", "outputFormat": "对于每次询问输出一行一个非负整数，表示最大的 $k$。若无解，输出 $-1$ 。", "hint": "对于第一个询问，最大的 $k$ 为 $3$ ，此时 $S=2+1+0=3 \\le 10$ ，可证没有更大的 $k$ 满足条件。\n\n对于第二个询问，没有任何 $k$ 满足条件。\n|数据点  |$n$  |$a_i$  | $m$ | $q$ |\n| :------: | :------: | :-------: | :-------: | :----------: |\n|$1$|$\\le 10$|$\\le 2^{20}$| $\\le 2^{20}$| $=1$ |\n|$2$| $\\le 10^3$|$\\le10^3$|$\\le10^3$|$\\le 10^3$|\n|$3$|$\\le 10^3$  | $\\le 2^{30}$ | $\\le 10^3$ | $\\le 10^3$ |\n|$4\\sim 6$| $\\le 10^5$| $\\le 2^{20}$ | $\\le 10^6$ | $\\le 10^5$ |\n|$7\\sim 10$| $\\le 10^5$ | $\\le 2^{30}$ | $\\le 2^{30}\\times10^6$ | $\\le 10^5$ |\n**本题不进行捆绑测试。**\n\n所有测试点的数据范围如上所示。对于所有数据，$0<n,q\\leq 10^5,\\ 0\\leq a_i\\leq 2^{30},\\ 0\\leq m\\leq 2^{30}\\times 10^6$。", "locale": "zh-CN"}}}
{"pid": "P6748", "type": "P", "difficulty": 5, "samples": [["7 100\n50 25 25 12 12 12 12\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7", "148"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "贪心", "O2优化", "洛谷月赛"], "title": "『MdOI R3』Fallen Lord", "background": "统治着世界，统治着寂寞。", "description": "L 国有 $n$ 个城市，它们之间有 $n-1$ 条道路，形成了一棵树的结构。\n\n国王 L 派遣了一些军队来驻守这些道路，驻守每一条道路的军队战斗力都可以被量化为 $[1,m]$ 中的整数。\n\n每个城市都有一个城主，第 $i$ 个城主有一个忍耐度 $a_i$。如果国王 L 在与第 $i$ 个城市相连的所有道路上驻守的军队战斗力的**中位数**超过了**城主**的忍耐度，那么**城主**就会认为国王不信任他而产生谋反的心理。\n\n国王 L 当然不希望有人造反，但他又想使驻守道路的军队的总战斗力**最大**来保证国防安全。现在他找到了 L 国最强的 OIer —— 您，去来帮助他解决这个问题。\n\n如果无论如何安排军队都会有人想要造反，那么输出 `-1`。\n\n**注：对于任意 $k$ 个数，它们的中位数是将这些数从小到大排序后第 $\\left\\lfloor\\dfrac{k}{2}\\right\\rfloor+1$ 个数。**", "inputFormat": "第一行两个正整数，表示 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个数表示 $a_i$。\n\n接下来 $n-1$ 行，每行两个数 $u_i,v_i$，表示一条直接连接城市 $u_i$ 与城市 $v_i$ 的道路。\n\n**输入数据保证构成一棵树**。", "outputFormat": "一行一个整数，表示最大的总战斗力。", "hint": "更多样例请[到这里](https://www.luogu.com.cn/paste/0wcdzik5)领取。\n\n对于所有数据，$1\\le u_i,v_i \\le n\\le 5\\times 10^5$，$n\\ge 2$，$1\\le a_i\\le m\\le 10^9$。  \n\n|子任务编号|$n\\leq$|$m\\leq$|其他性质|分值|\n|:-:|:-:|:-:|:-:|:-:|\n|1|$8$|$8$|无|$5$|\n|2||$1$|无|$1$|\n|3|||树的形态为一条链|$10$|\n|4|||存在度数为 $n-1$ 的节点|$12$|\n|5|$10^5$||每个节点度数 $\\le 6$|$17$|\n|6|$5\\times 10^3$||无|$20$|\n|7|||无|$35$|\n\n其中，留空的表示和 $100\\%$ 的数据范围限制相同。\n### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/ipkyy6az.png)\n\n如图驻守 $n-1=6$ 条道路的军队战斗力（按照输入中的顺序）依次为 $50,50,12,12,12,12$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R3』Fallen Lord", "background": "统治着世界，统治着寂寞。", "description": "L 国有 $n$ 个城市，它们之间有 $n-1$ 条道路，形成了一棵树的结构。\n\n国王 L 派遣了一些军队来驻守这些道路，驻守每一条道路的军队战斗力都可以被量化为 $[1,m]$ 中的整数。\n\n每个城市都有一个城主，第 $i$ 个城主有一个忍耐度 $a_i$。如果国王 L 在与第 $i$ 个城市相连的所有道路上驻守的军队战斗力的**中位数**超过了**城主**的忍耐度，那么**城主**就会认为国王不信任他而产生谋反的心理。\n\n国王 L 当然不希望有人造反，但他又想使驻守道路的军队的总战斗力**最大**来保证国防安全。现在他找到了 L 国最强的 OIer —— 您，去来帮助他解决这个问题。\n\n如果无论如何安排军队都会有人想要造反，那么输出 `-1`。\n\n**注：对于任意 $k$ 个数，它们的中位数是将这些数从小到大排序后第 $\\left\\lfloor\\dfrac{k}{2}\\right\\rfloor+1$ 个数。**", "inputFormat": "第一行两个正整数，表示 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个数表示 $a_i$。\n\n接下来 $n-1$ 行，每行两个数 $u_i,v_i$，表示一条直接连接城市 $u_i$ 与城市 $v_i$ 的道路。\n\n**输入数据保证构成一棵树**。", "outputFormat": "一行一个整数，表示最大的总战斗力。", "hint": "更多样例请[到这里](https://www.luogu.com.cn/paste/0wcdzik5)领取。\n\n对于所有数据，$1\\le u_i,v_i \\le n\\le 5\\times 10^5$，$n\\ge 2$，$1\\le a_i\\le m\\le 10^9$。  \n\n|子任务编号|$n\\leq$|$m\\leq$|其他性质|分值|\n|:-:|:-:|:-:|:-:|:-:|\n|1|$8$|$8$|无|$5$|\n|2||$1$|无|$1$|\n|3|||树的形态为一条链|$10$|\n|4|||存在度数为 $n-1$ 的节点|$12$|\n|5|$10^5$||每个节点度数 $\\le 6$|$17$|\n|6|$5\\times 10^3$||无|$20$|\n|7|||无|$35$|\n\n其中，留空的表示和 $100\\%$ 的数据范围限制相同。\n### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/ipkyy6az.png)\n\n如图驻守 $n-1=6$ 条道路的军队战斗力（按照输入中的顺序）依次为 $50,50,12,12,12,12$。", "locale": "zh-CN"}}}
