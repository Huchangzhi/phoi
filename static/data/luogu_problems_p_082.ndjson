{"pid": "P2662", "type": "P", "difficulty": 5, "samples": [["2 1\n7\n11", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2002", "最短路", "WC"], "title": "[WC2002] 牛场围栏", "background": "小 L 通过泥萌的帮助，成功解决了二叉树的修改问题，并因此写了一篇论文，成功保送了叉院（羡慕不？）\n\n勤奋又勤思的他在研究生时期成功转系，考入了北京大学光华管理学院！毕业后，凭着自己积累下的浓厚经济学与计算机学的基础，成功建设了一个现代化奶牛场！", "description": "奶牛们十分聪明，于是在牛场建围栏时打算和小 L 斗智斗勇！小 L 有 $N$ 种可以建造围栏的木料，长度分别是 $l_1,l_2,\\dots,l_N$，每种长度的木料无限。\n\n修建时，他将把所有选中的木料拼接在一起，因此围栏的长度就是他使用的木料长度之和。但是聪明的小 L 很快发现很多长度都是不能由这些木料长度相加得到的，于是决定在必要的时候把这些木料砍掉一部分以后再使用。\n\n不过由于小 L 比较节约，他给自己规定：任何一根木料最多只能削短 $M$ 米。当然，每根木料削去的木料长度不需要都一样。不过由于测量工具太原始，小 L 只能准确的削去整数米的木料，因此，如果他有两种长度分别是 $7$ 和 $11$ 的木料，每根最多只能砍掉 $1$ 米，那么实际上就有 $4$ 种可以使用的木料长度，分别是 $6,7,10,11$。        \n\n因为小 L 相信自己的奶牛举世无双，于是让他们自己设计围栏。奶牛们不愿意自己和同伴在游戏时受到围栏的限制，于是想刁难一下小 L，希望小 L 的木料无论经过怎样的加工，长度之和都不可能得到他们设计的围栏总长度。不过小 L 知道，如果围栏的长度太小，小 L 很快就能发现它是不能修建好的。因此他希望得到你的帮助，找出无法修建的最大围栏长度。\n\n这一定难不倒聪明的你吧！如果你能帮小 L 解决这个问题，也许他会把最后的资产分给你 $\\frac{1}{8}$ 哦！", "inputFormat": "输入的第一行包含两个整数 $N,M$，分别表示木料的种类和每根木料削去的最大值。\n\n以下各行每行一个整数 $l_i\\ (1<l_i<3000)$，表示第 $i$ 根木料的原始长度。", "outputFormat": "输出仅一行，包含一个整数，表示不能修建的最大围栏长度。如果任何长度的围栏都可以修建或者这个最大值不存在，输出 `-1`。", "hint": "对于 $40 \\%$ 的数据，$1<N<10$，$0\\le M<300$。\n\n对于 $100 \\%$ 的数据，$1<N<100$，$0\\le M<3000$。", "locale": "zh-CN", "translations": {"en": {"title": "[WC2002] Cattle Farm Fence", "background": "With the help of “nimeng” (泥萌), Xiao L successfully solved the problem of modifying binary trees. He then wrote a paper and was directly admitted to “Cha Yuan” (叉院). Envious?\n\nDiligent and thoughtful, he later switched fields in graduate school and entered the Guanghua School of Management at Peking University. After graduation, with his strong background in economics and computer science, he built a modern dairy farm.", "description": "The cows are very clever, so when building the fence they decided to compete with Xiao L in wits. Xiao L has $N$ types of lumber available for building fences, with lengths $l_1, l_2, \\dots, l_N$. Each type is available in unlimited quantity.\n\nDuring construction, he will join all selected pieces end to end, so the fence length equals the sum of the lengths of the pieces he uses. However, Xiao L soon realized that many target lengths cannot be obtained by summing these lumber lengths, so he decided that, when necessary, he would cut some lumber shorter before use.\n\nSince Xiao L is thrifty, he set a rule for himself: any single piece may be shortened by at most $M$ meters. The amount cut from each piece does not need to be the same. Due to primitive measuring tools, he can only cut an integer number of meters. Therefore, if he has two types of lumber with lengths $7$ and $11$, and each piece can be cut by at most $1$ meter, then in effect there are $4$ usable lengths: $6, 7, 10, 11$.\n\nBelieving his cows are unrivaled, he let them design the fence themselves. The cows want to avoid being constrained by the fence during play, so they try to make things difficult for Xiao L by choosing a fence length such that, no matter how he processes the lumber, the sum of lengths can never equal their designed total. But Xiao L knows that if the fence length is too small, he can quickly determine it is impossible to build. Thus, he wants your help to find the maximum fence length that cannot be constructed.\n\nSurely this won’t stump you. If you can help Xiao L solve this problem, he might even give you $\\frac{1}{8}$ of his final assets!", "inputFormat": "The first line contains two integers $N, M$, the number of lumber types and the maximum amount each piece can be shortened.\n\nThe next $N$ lines each contain an integer $l_i$ ($1 < l_i < 3000$), the original length of the $i$-th type of lumber.", "outputFormat": "Output a single integer: the maximum fence length that cannot be constructed. If every fence length can be constructed or this maximum does not exist, output `-1`.", "hint": "- For $40\\%$ of the testdata, $1 < N < 10$, $0 \\le M < 300$.\n- For $100\\%$ of the testdata, $1 < N < 100$, $0 \\le M < 3000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[WC2002] 牛场围栏", "background": "小 L 通过泥萌的帮助，成功解决了二叉树的修改问题，并因此写了一篇论文，成功保送了叉院（羡慕不？）\n\n勤奋又勤思的他在研究生时期成功转系，考入了北京大学光华管理学院！毕业后，凭着自己积累下的浓厚经济学与计算机学的基础，成功建设了一个现代化奶牛场！", "description": "奶牛们十分聪明，于是在牛场建围栏时打算和小 L 斗智斗勇！小 L 有 $N$ 种可以建造围栏的木料，长度分别是 $l_1,l_2,\\dots,l_N$，每种长度的木料无限。\n\n修建时，他将把所有选中的木料拼接在一起，因此围栏的长度就是他使用的木料长度之和。但是聪明的小 L 很快发现很多长度都是不能由这些木料长度相加得到的，于是决定在必要的时候把这些木料砍掉一部分以后再使用。\n\n不过由于小 L 比较节约，他给自己规定：任何一根木料最多只能削短 $M$ 米。当然，每根木料削去的木料长度不需要都一样。不过由于测量工具太原始，小 L 只能准确的削去整数米的木料，因此，如果他有两种长度分别是 $7$ 和 $11$ 的木料，每根最多只能砍掉 $1$ 米，那么实际上就有 $4$ 种可以使用的木料长度，分别是 $6,7,10,11$。        \n\n因为小 L 相信自己的奶牛举世无双，于是让他们自己设计围栏。奶牛们不愿意自己和同伴在游戏时受到围栏的限制，于是想刁难一下小 L，希望小 L 的木料无论经过怎样的加工，长度之和都不可能得到他们设计的围栏总长度。不过小 L 知道，如果围栏的长度太小，小 L 很快就能发现它是不能修建好的。因此他希望得到你的帮助，找出无法修建的最大围栏长度。\n\n这一定难不倒聪明的你吧！如果你能帮小 L 解决这个问题，也许他会把最后的资产分给你 $\\frac{1}{8}$ 哦！", "inputFormat": "输入的第一行包含两个整数 $N,M$，分别表示木料的种类和每根木料削去的最大值。\n\n以下各行每行一个整数 $l_i\\ (1<l_i<3000)$，表示第 $i$ 根木料的原始长度。", "outputFormat": "输出仅一行，包含一个整数，表示不能修建的最大围栏长度。如果任何长度的围栏都可以修建或者这个最大值不存在，输出 `-1`。", "hint": "对于 $40 \\%$ 的数据，$1<N<10$，$0\\le M<300$。\n\n对于 $100 \\%$ 的数据，$1<N<100$，$0\\le M<3000$。", "locale": "zh-CN"}}}
{"pid": "P2663", "type": "P", "difficulty": 2, "samples": [["8\n77\n77\n56\n77\n84\n77\n56\n46", "273"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "O2优化"], "title": "越越的组队", "background": null, "description": "班级要组织一场综合能力竞赛，班里共有 $n$ 位学生，将分成两队互相竞争。\n\n老师找到了越越并给了越越一张全班同学综合能力测试的成绩，要求他从全班同学中选出**一半**，并要求这些同学综合能力测试的成绩之和在**不超过班级总分一半**的前提下尽量达到最高。这样分成的两队实力是最平均的。越越堆着满脸的笑容找到了你，你就帮他写一个程序吧。", "inputFormat": "第一行有一个整数，表示班级的学生人数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $a_i$ 表示第 $i$ 位同学的成绩。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n班级总分为 $550$，总分的一半是 $275$，选择成绩分别为 $56,77,84,56$ 的同学可以达到总分 $273$，是不超过 $275$ 的最大值。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 100$，$0 \\leq a_i \\leq 100$，数据保证 $n$ 均为偶数。", "locale": "zh-CN", "translations": {"en": {"title": "Yueyue's Team Formation", "background": "", "description": "The class is organizing a comprehensive ability competition. There are $n$ students in the class, and they will be divided into two teams to compete against each other.\n\nThe teacher gave Yueyue (pinyin) a list of the comprehensive ability test scores for the whole class and asked him to select exactly half of the students, such that the sum of their test scores is as large as possible without exceeding half of the class's total score. This makes the two teams as balanced as possible. Yueyue, smiling, came to you; please help him write a program.", "inputFormat": "The first line contains an integer representing the number of students $n$.\n\nFrom line $2$ to line $(n + 1)$, each line contains one integer. The integer on line $(i + 1)$, $a_i$, represents the score of the $i$-th student.", "outputFormat": "Output one integer on a single line representing the answer.", "hint": "#### Explanation for Sample 1\n\nThe class total score is $550$, and half of the total is $275$. Choosing students with scores $56,77,84,56$ gives a sum of $273$, which is the maximum that does not exceed $275$.\n\n#### Constraints\n\nFor all test points, it is guaranteed that $1 \\leq n \\leq 100$, $0 \\leq a_i \\leq 100$, and $n$ is even.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "越越的组队", "background": null, "description": "班级要组织一场综合能力竞赛，班里共有 $n$ 位学生，将分成两队互相竞争。\n\n老师找到了越越并给了越越一张全班同学综合能力测试的成绩，要求他从全班同学中选出**一半**，并要求这些同学综合能力测试的成绩之和在**不超过班级总分一半**的前提下尽量达到最高。这样分成的两队实力是最平均的。越越堆着满脸的笑容找到了你，你就帮他写一个程序吧。", "inputFormat": "第一行有一个整数，表示班级的学生人数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $a_i$ 表示第 $i$ 位同学的成绩。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n班级总分为 $550$，总分的一半是 $275$，选择成绩分别为 $56,77,84,56$ 的同学可以达到总分 $273$，是不超过 $275$ 的最大值。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 100$，$0 \\leq a_i \\leq 100$，数据保证 $n$ 均为偶数。", "locale": "zh-CN"}}}
{"pid": "P2664", "type": "P", "difficulty": 6, "samples": [["5\n1 2 3 2 3\n1 2\n2 3\n2 4\n1 5", "10\n9\n11\n9\n12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["点分治", "洛谷原创", "洛谷比赛"], "title": "树上游戏", "background": "", "description": "lrb 有一棵树，树的每个节点有个颜色。给一个长度为 $n$ 的颜色序列，定义 $s(i,j)$ 为 $i$ 到 $j$ 的颜色数量。以及\n\n$$sum_i=\\sum_{j=1}^n s(i, j)$$\n\n现在他想让你求出所有的 $sum_i$。\n", "inputFormat": "第一行为一个整数 $n$，表示树节点的数量。\n\n\n第二行为 $n$ 个整数，分别表示 $n$ 个节点的颜色 $c_1,c_2\\ldots c_n$。\n\n\n接下来 $n-1$ 行，每行为两个整数 $x,y$，表示 $x$ 和 $y$ 之间有一条边。", "outputFormat": "输出 $n$ 行，第 $i$ 行为 $sum_i$。\n", "hint": "$$sum_1=s(1,1)+s(1,2)+s(1,3)+s(1,4)+s(1,5)=1+2+3+2+2=10$$\n$$sum_2=s(2,1)+s(2,2)+s(2,3)+s(2,4)+s(2,5)=2+1+2+1+3=9$$\n$$sum_3=s(3,1)+s(3,2)+s(3,3)+s(3,4)+s(3,5)=3+2+1+2+3=11$$\n$$sum_4=s(4,1)+s(4,2)+s(4,3)+s(4,4)+s(4,5)=2+1+2+1+3=9$$\n$$sum_5=s(5,1)+s(5,2)+s(5,3)+s(5,4)+s(5,5)=2+3+3+3+1=12$$\n\n\n对于 $40\\%$ 的数据，$n\\leq 2000$。\n\n对于 $100\\%$ 的数据，$1\\leq n,c_i\\leq 10^5$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Game on a Tree", "background": "", "description": "lrb has a tree, and each node has a color. Given a color sequence of length $n$, define $s(i, j)$ as the number of distinct colors on the simple path from node $i$ to node $j$.\n\n$$sum_i=\\sum_{j=1}^n s(i, j)$$\n\nNow he wants you to compute all $sum_i$.\n\nFor $40\\%$ of the testdata, $n \\leq 2000$.\nFor $100\\%$ of the testdata, $1 \\leq n, c_i \\leq 10^5$.", "inputFormat": "The first line contains an integer $n$, the number of nodes in the tree.\n\nThe second line contains $n$ integers, the colors of the $n$ nodes: $c_1, c_2, \\ldots, c_n$.\n\nEach of the next $n-1$ lines contains two integers $x, y$, meaning there is an edge between $x$ and $y$.", "outputFormat": "Output $n$ lines. The $i$-th line should be $sum_i$.", "hint": "$$sum_1=s(1,1)+s(1,2)+s(1,3)+s(1,4)+s(1,5)=1+2+3+2+2=10$$\n$$sum_2=s(2,1)+s(2,2)+s(2,3)+s(2,4)+s(2,5)=2+1+2+1+3=9$$\n$$sum_3=s(3,1)+s(3,2)+s(3,3)+s(3,4)+s(3,5)=3+2+1+2+3=11$$\n$$sum_4=s(4,1)+s(4,2)+s(4,3)+s(4,4)+s(4,5)=2+1+2+1+3=9$$\n$$sum_5=s(5,1)+s(5,2)+s(5,3)+s(5,4)+s(5,5)=2+3+3+3+1=12$$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "树上游戏", "background": "", "description": "lrb 有一棵树，树的每个节点有个颜色。给一个长度为 $n$ 的颜色序列，定义 $s(i,j)$ 为 $i$ 到 $j$ 的颜色数量。以及\n\n$$sum_i=\\sum_{j=1}^n s(i, j)$$\n\n现在他想让你求出所有的 $sum_i$。\n", "inputFormat": "第一行为一个整数 $n$，表示树节点的数量。\n\n\n第二行为 $n$ 个整数，分别表示 $n$ 个节点的颜色 $c_1,c_2\\ldots c_n$。\n\n\n接下来 $n-1$ 行，每行为两个整数 $x,y$，表示 $x$ 和 $y$ 之间有一条边。", "outputFormat": "输出 $n$ 行，第 $i$ 行为 $sum_i$。\n", "hint": "$$sum_1=s(1,1)+s(1,2)+s(1,3)+s(1,4)+s(1,5)=1+2+3+2+2=10$$\n$$sum_2=s(2,1)+s(2,2)+s(2,3)+s(2,4)+s(2,5)=2+1+2+1+3=9$$\n$$sum_3=s(3,1)+s(3,2)+s(3,3)+s(3,4)+s(3,5)=3+2+1+2+3=11$$\n$$sum_4=s(4,1)+s(4,2)+s(4,3)+s(4,4)+s(4,5)=2+1+2+1+3=9$$\n$$sum_5=s(5,1)+s(5,2)+s(5,3)+s(5,4)+s(5,5)=2+3+3+3+1=12$$\n\n\n对于 $40\\%$ 的数据，$n\\leq 2000$。\n\n对于 $100\\%$ 的数据，$1\\leq n,c_i\\leq 10^5$。\n", "locale": "zh-CN"}}}
{"pid": "P2665", "type": "P", "difficulty": 3, "samples": [["4 \n-1 1 \n-2 0 \n0 0 \n1 1", "4 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2008", "USACO", "枚举"], "title": "[USACO08FEB] Game of Lines S", "background": null, "description": "FJ 最近发明了一个游戏，来考验自命不凡的贝茜。\n\n游戏开始的时候，FJ 会给贝茜一块画着 $N (2 \\le N \\le 200)$ 个不重合的点的木板，其中第 $i$ 个点的横、纵坐标分别为 $X_i$ 和 $Y_i (-1000 \\le X_i \\le 1000, -1000 \\le Y_i \\le 1000)$。\n\n贝茜可以选两个点画一条过它们的直线，当且仅当平面上不存在与画出直线平行的直线。游戏结束时贝茜的得分，就是她画出的直线的总条数。为了在游戏中胜出，贝茜找到了你，希望你帮她计算一下最大可能得分。", "inputFormat": "第 $1$ 行：输入一个正整数：$N$。\n\n第 $2 \\sim N+1$ 行：第 $i+1$ 行用 $2$ 个用空格隔开的整数 $X_i,Y_i$，描述了点 $i$ 的坐标。", "outputFormat": "第 $1$ 行：输出一个整数，表示贝茜的最大得分，即她能画出的互不平行的线段数。", "hint": "样例解释：\n\n贝茜能画出以下 $4$ 种斜率的直线：$-1$，$0$，$\\dfrac{1}{3}$ 以及 $1$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO08FEB] Game of Lines S", "background": null, "description": "Farmer John has challenged Bessie to the following game: FJ has a board with dots marked at N (2 ≤ N ≤ 200) distinct lattice points. Dot i has the integer coordinates Xi and Yi (-1,000 ≤ Xi ≤ 1,000; -1,000 ≤ Yi ≤ 1,000).\n\nBessie can score a point in the game by picking two of the dots and drawing a straight line between them; however, she is not allowed to draw a line if she has already drawn another line that is parallel to that line. Bessie would like to know her chances of winning, so she has asked you to help find the maximum score she can obtain.", "inputFormat": null, "outputFormat": null, "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO08FEB] Game of Lines S", "background": null, "description": "FJ 最近发明了一个游戏，来考验自命不凡的贝茜。\n\n游戏开始的时候，FJ 会给贝茜一块画着 $N (2 \\le N \\le 200)$ 个不重合的点的木板，其中第 $i$ 个点的横、纵坐标分别为 $X_i$ 和 $Y_i (-1000 \\le X_i \\le 1000, -1000 \\le Y_i \\le 1000)$。\n\n贝茜可以选两个点画一条过它们的直线，当且仅当平面上不存在与画出直线平行的直线。游戏结束时贝茜的得分，就是她画出的直线的总条数。为了在游戏中胜出，贝茜找到了你，希望你帮她计算一下最大可能得分。", "inputFormat": "第 $1$ 行：输入一个正整数：$N$。\n\n第 $2 \\sim N+1$ 行：第 $i+1$ 行用 $2$ 个用空格隔开的整数 $X_i,Y_i$，描述了点 $i$ 的坐标。", "outputFormat": "第 $1$ 行：输出一个整数，表示贝茜的最大得分，即她能画出的互不平行的线段数。", "hint": "样例解释：\n\n贝茜能画出以下 $4$ 种斜率的直线：$-1$，$0$，$\\dfrac{1}{3}$ 以及 $1$。", "locale": "zh-CN"}}}
{"pid": "P2666", "type": "P", "difficulty": 2, "samples": [["4", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2007", "USACO", "枚举"], "title": "[USACO07OCT] Bessie's Secret Pasture S", "background": "", "description": "Farmmer John 最近收割了几乎无限多块牧草，将它们堆放在空地上。这些牧草都是正方形的，而且都有非负整数长度的边长（当然有 $0$）。一天它的奶牛 Bessie 发现了这些美味的牧草，于是希望把它们种在自己的秘密牧场上。他总将草皮分割成 $1\\times1$ 的小块，以放入他牧场上的 $N$ 个格子中。\n\nBessie 感兴趣的是，她若选取四块会有多少种不同方法。如果 $N=4$，那么她就有 $5$ 种不同分法：$(1,1,1,1), (2,0,0,0), (0,2,0,0),(0,0,2,0),(0,0,0,2)$，括号内数表示边长。注意这里不讲究顺序，如 $(1,2,3,4)$ 与 $(4,3,2,1)$ 是两种不同方法。\n", "inputFormat": "仅一行，一个整数 $N$ 。\n", "outputFormat": "同样为一行，包含一个整数，为方案总数。\n", "hint": "对于 $100\\%$ 的数据，$1\\le N\\le10000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[USACO07OCT] Bessie's Secret Pasture S", "background": "", "description": "Farmer John recently harvested an almost infinite number of sod patches and stacked them in an open area. These patches are all squares with nonnegative integer side lengths (including $0$). One day his cow Bessie discovered these delicious sod patches and wants to plant them in her secret pasture. She divides the sod into $1\\times1$ unit pieces to place them into the $N$ cells of her pasture.\n\nBessie is interested in how many different ways there are if she chooses four patches. If $N=4$, then she has $5$ different ways: (1,1,1,1), (2,0,0,0), (0,2,0,0), (0,0,2,0), (0,0,0,2); the numbers in parentheses denote side lengths. Note that order matters; for example, (1,2,3,4) and (4,3,2,1) are two different ways.", "inputFormat": "A single line with one integer $N$.", "outputFormat": "A single line containing one integer: the total number of ways.", "hint": "Constraints: For 100% of the testdata, $1\\le N\\le10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO07OCT] Bessie's Secret Pasture S", "background": "", "description": "Farmmer John 最近收割了几乎无限多块牧草，将它们堆放在空地上。这些牧草都是正方形的，而且都有非负整数长度的边长（当然有 $0$）。一天它的奶牛 Bessie 发现了这些美味的牧草，于是希望把它们种在自己的秘密牧场上。他总将草皮分割成 $1\\times1$ 的小块，以放入他牧场上的 $N$ 个格子中。\n\nBessie 感兴趣的是，她若选取四块会有多少种不同方法。如果 $N=4$，那么她就有 $5$ 种不同分法：$(1,1,1,1), (2,0,0,0), (0,2,0,0),(0,0,2,0),(0,0,0,2)$，括号内数表示边长。注意这里不讲究顺序，如 $(1,2,3,4)$ 与 $(4,3,2,1)$ 是两种不同方法。\n", "inputFormat": "仅一行，一个整数 $N$ 。\n", "outputFormat": "同样为一行，包含一个整数，为方案总数。\n", "hint": "对于 $100\\%$ 的数据，$1\\le N\\le10000$。\n", "locale": "zh-CN"}}}
{"pid": "P2667", "type": "P", "difficulty": 5, "samples": [["5 7\n3 1 4 1 2\nA 1 3 2\nQ 2\nA 1 4 1\nQ 1\nA 1 4 1\nQ 2\nQ 1", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "各省省选", "天津"], "title": "[TJOI2012] 防御", "background": "", "description": "在一个塔防小游戏中，有很多防线。每条防线由一排 $n$ 个独立的防御体 $[1 : n]$ 进行防御。\n\n游戏过程中，会不断有敌人对防线进行攻击，每次攻击会指定防御体 $[l : r]$ 进行攻击力为 $a$ 的攻击。第一防线具有护甲，护甲承受攻击后，对应的防御体所受到的伤害为攻击力，但护甲承受的伤害总量到达一定程度后就会破碎，此时防御体所受的伤害加倍。目前第一防线的力量充足，玩家致力于对后面的防线的建设，不过为确认游戏进度和第一防线的情况，玩家会不时地将鼠标移动到第一防线的某个防御体上，以查看其所受到的伤害。\n", "inputFormat": "第一行，两个整数 $n$ 和 $q$，分别表示防御体个数以及攻击和查询的总数。\n\n第二行，$n$ 个数，表示每个防御体护甲的承受能力 $p_i$ 。\n\n接下来 $q$ 行，每行可能具有如下形式：\n\n`A l r a` 表示对防御体 $l,l+1,\\cdots,r$ 进行攻击力为 $a$ 的攻击；\n\n`Q x` 表示查询防御体 $x$ 目前所受到的伤害，初始时伤害为 $0$ 。\n", "outputFormat": "一行，一个整数，表示所有查询结果之和对 ${10}^9+9$ 取模的余数。\n", "hint": "**【样例解释】**\n\n3/0 1/0 4/0 1/0 2/0\n\n[A 1 3 2]\n\n1/2 2 2/2 1/0 2/0\n\n[Q 2] ! 2\n\n[A 1 4 1]\n\n3 4 1/3 1 2/0\n\n[Q 1] -> 3\n\n[A 1 4 1]\n\n5 6 4 3 2/0\n\n[Q 2] -> 6\n\n[Q 1] -> 5\n\n**【数据范围】**\n\n$30 \\%$ 的数据， $q \\le 10^3$。\n\n$100 \\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le q \\le 10^5$，$0 \\le p_i \\le 10^6$，$0 \\le a \\le 10^4$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2012] Defense", "background": "", "description": "In a tower defense mini-game, there are many defense lines. Each defense line is defended by a row of $n$ independent defense units $[1 : n]$.\n\nDuring the game, enemies keep attacking the defense line. Each attack specifies defense units $[l : r]$ and applies an attack with attack power $a$. The first defense line has armor. After the armor takes an attack, the corresponding defense unit suffers damage equal to the attack power. However, once the total damage absorbed by the armor reaches a certain limit, it breaks, and from then on the damage the defense unit takes is doubled. The first defense line is currently strong, and the player is focusing on building the later lines. To monitor the game progress and the status of the first defense line, the player occasionally moves the mouse over a defense unit in the first defense line to view the damage it has taken.", "inputFormat": "The first line contains two integers $n$ and $q$, denoting the number of defense units and the total number of attacks and queries.\n\nThe second line contains $n$ numbers, denoting the armor capacity $p_i$ of each defense unit.\n\nThen follow $q$ lines, each in one of the following forms:\n\n`A l r a` means applying an attack with attack power $a$ to defense units $l, l+1, \\cdots, r$;\n\n`Q x` means querying the current damage taken by defense unit $x$, with initial damage being $0$.", "outputFormat": "One line containing one integer: the sum of all query results modulo ${10}^9+9$.", "hint": "【Sample Explanation】\n\n3/0 1/0 4/0 1/0 2/0\n\n[A 1 3 2]\n\n1/2 2 2/2 1/0 2/0\n\n[Q 2] ! 2\n\n[A 1 4 1]\n\n3 4 1/3 1 2/0\n\n[Q 1] -> 3\n\n[A 1 4 1]\n\n5 6 4 3 2/0\n\n[Q 2] -> 6\n\n[Q 1] -> 5\n\n【Constraints】\n\nFor 30% of the testdata, $q \\le 10^3$.\n\nFor 100% of the testdata, $1 \\le n \\le 10^5$, $1 \\le q \\le 10^5$, $0 \\le p_i \\le 10^6$, $0 \\le a \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2012] 防御", "background": "", "description": "在一个塔防小游戏中，有很多防线。每条防线由一排 $n$ 个独立的防御体 $[1 : n]$ 进行防御。\n\n游戏过程中，会不断有敌人对防线进行攻击，每次攻击会指定防御体 $[l : r]$ 进行攻击力为 $a$ 的攻击。第一防线具有护甲，护甲承受攻击后，对应的防御体所受到的伤害为攻击力，但护甲承受的伤害总量到达一定程度后就会破碎，此时防御体所受的伤害加倍。目前第一防线的力量充足，玩家致力于对后面的防线的建设，不过为确认游戏进度和第一防线的情况，玩家会不时地将鼠标移动到第一防线的某个防御体上，以查看其所受到的伤害。\n", "inputFormat": "第一行，两个整数 $n$ 和 $q$，分别表示防御体个数以及攻击和查询的总数。\n\n第二行，$n$ 个数，表示每个防御体护甲的承受能力 $p_i$ 。\n\n接下来 $q$ 行，每行可能具有如下形式：\n\n`A l r a` 表示对防御体 $l,l+1,\\cdots,r$ 进行攻击力为 $a$ 的攻击；\n\n`Q x` 表示查询防御体 $x$ 目前所受到的伤害，初始时伤害为 $0$ 。\n", "outputFormat": "一行，一个整数，表示所有查询结果之和对 ${10}^9+9$ 取模的余数。\n", "hint": "**【样例解释】**\n\n3/0 1/0 4/0 1/0 2/0\n\n[A 1 3 2]\n\n1/2 2 2/2 1/0 2/0\n\n[Q 2] ! 2\n\n[A 1 4 1]\n\n3 4 1/3 1 2/0\n\n[Q 1] -> 3\n\n[A 1 4 1]\n\n5 6 4 3 2/0\n\n[Q 2] -> 6\n\n[Q 1] -> 5\n\n**【数据范围】**\n\n$30 \\%$ 的数据， $q \\le 10^3$。\n\n$100 \\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le q \\le 10^5$，$0 \\le p_i \\le 10^6$，$0 \\le a \\le 10^4$。\n", "locale": "zh-CN"}}}
{"pid": "P2668", "type": "P", "difficulty": 5, "samples": [["1 8\n7 4\n8 4\n9 1\n10 4\n11 1\n5 1\n1 4\n1 1", "3\n"], ["1 17\n12 3\n4 3\n2 3\n5 4\n10 2\n3 3\n12 2\n0 1\n1 3\n10 1\n6 2\n12 1\n11 3\n5 2\n12 4\n2 2\n7 2\n", "6\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000]}, "tags": ["模拟", "搜索", "贪心", "2015", "NOIP 提高组", "深度优先搜索 DFS"], "title": "[NOIP 2015 提高组] 斗地主", "background": "NOIP2015 Day1T3", "description": "牛牛最近迷上了一种叫斗地主的扑克游戏。斗地主是一种使用黑桃、红心、梅花、方片的 $A$ 到 $K$ 加上大小王的共 $54$ 张牌来进行的扑克牌游戏。在斗地主中，牌的大小关系根据牌的数码表示如下：$3<4<5<6<7<8<9<10<J<Q<K<A<2<\\text{小王}<\\text{大王}$，而花色并不对牌的大小产生影响。每一局游戏中，一副手牌由 $n$ 张牌组成。游戏者每次可以根据规定的牌型进行出牌，首先打光自己的手牌一方取得游戏的胜利。\n\n现在，牛牛只想知道，对于自己的若干组手牌，分别最少需要多少次出牌可以将它们打光。请你帮他解决这个问题。\n\n需要注意的是，本题中游戏者每次可以出手的牌型与一般的斗地主相似而略有不同。具体规则如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1827.png) \n\n**本题数据随机，不支持hack，要hack或强力数据请点击[这里](https://www.luogu.org/problem/P2540)**。\n", "inputFormat": "第一行包含用空格隔开的 $2$ 个正整数 $T,n$，表示手牌的组数以及每组手牌的张数。\n\n接下来 $T$ 组数据，每组数据 $n$ 行，每行一个非负整数对 $a_i,b_i$，表示一张牌，其中 $a_i$ 表示牌的数码，$b_i$ 表示牌的花色，中间用空格隔开。特别的，我们用 $1$ 来表示数码 $A$，$11$ 表示数码 $J$，$12$ 表示数码 $Q$，$13$ 表示数码 $K$；黑桃、红心、梅花、方片分别用 $1-4$ 来表示；小王的表示方法为 `0 1`，大王的表示方法为 `0 2`。", "outputFormat": "共 $T$ 行，每行一个整数，表示打光第 $i$ 组手牌的最少次数。", "hint": "**样例 1 说明**\n\n共有 $1$ 组手牌，包含 $8$ 张牌：方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$，黑桃 $5$，方片 $A$ 以及黑桃 $A$。可以通过打单顺子（方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$），单张牌（黑桃 $5$）以及对子牌（黑桃 $A$以及方片 $A$）在 $3$ 次内打光。\n\n对于不同的测试点， 我们约定手牌组数 $T$ 与张数 $n$ 的规模如下：\n\n| 测试点编号 | $T=$ | $n=$ |\n| :------: | :----: | :----: |\n|  1       |  $100$   |  $2$  |\n|  2       |  $100$   |  $2$  |\n|  3       |  $100$   |  $3$  |\n|  4       |  $100$   |  $3$  |\n|  5       |  $100$   |  $4$  |\n|  6       |  $100$   |  $4$  |\n|  7       |  $100$   |  $10$  |\n|  8       |  $100$   |  $11$  |\n|  9       |  $100$   |  $12$  |\n|  10       |  $100$   |  $13$  |\n|  11       |  $100$   |  $14$  |\n|  12       |  $100$   |  $15$  |\n|  13       |  $10$   |  $16$  |\n|  14       |  $10$   |  $17$  |\n|  15       |  $10$   |  $18$  |\n|  16       |  $10$   |  $19$  |\n|  17       |  $10$   |  $20$  |\n|  18       |  $10$   |  $21$  |\n|  19       |  $10$   |  $22$  |\n|  20       |  $10$   |  $23$  |\n\n数据保证：所有的手牌都是随机生成的。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Senior] Dou Dizhu", "background": "NOIP 2015 Day 1 T3.", "description": "Niuniu has recently become obsessed with a card game called Dou Dizhu. Dou Dizhu is a card game played with a standard deck consisting of spades, hearts, clubs, and diamonds from $A$ to $K$, plus the two jokers, for a total of $54$ cards. In Dou Dizhu, the rank order of the cards is represented by their face values as follows: $3<4<5<6<7<8<9<10<J<Q<K<A<2<\\text{small Joker}<\\text{big Joker}$, and suits do not affect the rank. In each round, a hand consists of $n$ cards. Each turn, a player may play according to the allowed patterns. The first player to play all of their cards wins the game.\n\nNow, Niuniu only wants to know, for several sets of hands, the minimum number of plays required to play out each of them. Please help him solve this problem.\n\nNote that in this problem, the playable patterns per turn are similar to those in standard Dou Dizhu but slightly different. The specific rules are as follows:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1827.png) \n\nThe testdata for this problem is random and hacks are not supported. To hack or use stronger testdata please click [here](https://www.luogu.org/problem/P2540).", "inputFormat": "The first line contains two positive integers $T, n$ separated by a space, representing the number of hand sets and the number of cards in each hand.\n\nThen follow $T$ groups of data. Each group contains $n$ lines, each line containing a pair of nonnegative integers $a_i, b_i$ representing a card, where $a_i$ is the rank and $b_i$ is the suit, separated by a space. Specifically, we use $1$ to represent rank $A$, $11$ to represent rank $J$, $12$ to represent rank $Q$, and $13$ to represent rank $K$; spades, hearts, clubs, and diamonds are represented by $1$–$4$, respectively; the small joker is represented by `0 1`, and the big joker is represented by `0 2`.", "outputFormat": "Output $T$ lines. Each line contains an integer representing the minimum number of plays needed to play out the $i$-th hand set.", "hint": "Sample 1 explanation:\n\nThere is $1$ hand set with $8$ cards: diamond $7$, diamond $8$, spade $9$, diamond $10$, spade $J$, spade $5$, diamond $A$, and spade $A$. You can finish in $3$ plays by playing a straight of singles (diamond $7$, diamond $8$, spade $9$, diamond $10$, spade $J$), a single (spade $5$), and a pair (spade $A$ and diamond $A$).\n\nFor different test points, we define the scales of the number of hand sets $T$ and the number of cards $n$ as follows:\n\n| Test point ID | $T=$ | $n=$ |\n| :------: | :----: | :----: |\n|  1       |  $100$   |  $2$  |\n|  2       |  $100$   |  $2$  |\n|  3       |  $100$   |  $3$  |\n|  4       |  $100$   |  $3$  |\n|  5       |  $100$   |  $4$  |\n|  6       |  $100$   |  $4$  |\n|  7       |  $100$   |  $10$  |\n|  8       |  $100$   |  $11$  |\n|  9       |  $100$   |  $12$  |\n|  10       |  $100$   |  $13$  |\n|  11       |  $100$   |  $14$  |\n|  12       |  $100$   |  $15$  |\n|  13       |  $10$   |  $16$  |\n|  14       |  $10$   |  $17$  |\n|  15       |  $10$   |  $18$  |\n|  16       |  $10$   |  $19$  |\n|  17       |  $10$   |  $20$  |\n|  18       |  $10$   |  $21$  |\n|  19       |  $10$   |  $22$  |\n|  20       |  $10$   |  $23$  |\n\nIt is guaranteed that all hands are randomly generated.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 提高组] 斗地主", "background": "NOIP2015 Day1T3", "description": "牛牛最近迷上了一种叫斗地主的扑克游戏。斗地主是一种使用黑桃、红心、梅花、方片的 $A$ 到 $K$ 加上大小王的共 $54$ 张牌来进行的扑克牌游戏。在斗地主中，牌的大小关系根据牌的数码表示如下：$3<4<5<6<7<8<9<10<J<Q<K<A<2<\\text{小王}<\\text{大王}$，而花色并不对牌的大小产生影响。每一局游戏中，一副手牌由 $n$ 张牌组成。游戏者每次可以根据规定的牌型进行出牌，首先打光自己的手牌一方取得游戏的胜利。\n\n现在，牛牛只想知道，对于自己的若干组手牌，分别最少需要多少次出牌可以将它们打光。请你帮他解决这个问题。\n\n需要注意的是，本题中游戏者每次可以出手的牌型与一般的斗地主相似而略有不同。具体规则如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1827.png) \n\n**本题数据随机，不支持hack，要hack或强力数据请点击[这里](https://www.luogu.org/problem/P2540)**。\n", "inputFormat": "第一行包含用空格隔开的 $2$ 个正整数 $T,n$，表示手牌的组数以及每组手牌的张数。\n\n接下来 $T$ 组数据，每组数据 $n$ 行，每行一个非负整数对 $a_i,b_i$，表示一张牌，其中 $a_i$ 表示牌的数码，$b_i$ 表示牌的花色，中间用空格隔开。特别的，我们用 $1$ 来表示数码 $A$，$11$ 表示数码 $J$，$12$ 表示数码 $Q$，$13$ 表示数码 $K$；黑桃、红心、梅花、方片分别用 $1-4$ 来表示；小王的表示方法为 `0 1`，大王的表示方法为 `0 2`。", "outputFormat": "共 $T$ 行，每行一个整数，表示打光第 $i$ 组手牌的最少次数。", "hint": "**样例 1 说明**\n\n共有 $1$ 组手牌，包含 $8$ 张牌：方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$，黑桃 $5$，方片 $A$ 以及黑桃 $A$。可以通过打单顺子（方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$），单张牌（黑桃 $5$）以及对子牌（黑桃 $A$以及方片 $A$）在 $3$ 次内打光。\n\n对于不同的测试点， 我们约定手牌组数 $T$ 与张数 $n$ 的规模如下：\n\n| 测试点编号 | $T=$ | $n=$ |\n| :------: | :----: | :----: |\n|  1       |  $100$   |  $2$  |\n|  2       |  $100$   |  $2$  |\n|  3       |  $100$   |  $3$  |\n|  4       |  $100$   |  $3$  |\n|  5       |  $100$   |  $4$  |\n|  6       |  $100$   |  $4$  |\n|  7       |  $100$   |  $10$  |\n|  8       |  $100$   |  $11$  |\n|  9       |  $100$   |  $12$  |\n|  10       |  $100$   |  $13$  |\n|  11       |  $100$   |  $14$  |\n|  12       |  $100$   |  $15$  |\n|  13       |  $10$   |  $16$  |\n|  14       |  $10$   |  $17$  |\n|  15       |  $10$   |  $18$  |\n|  16       |  $10$   |  $19$  |\n|  17       |  $10$   |  $20$  |\n|  18       |  $10$   |  $21$  |\n|  19       |  $10$   |  $22$  |\n|  20       |  $10$   |  $23$  |\n\n数据保证：所有的手牌都是随机生成的。\n", "locale": "zh-CN"}}}
{"pid": "P2669", "type": "P", "difficulty": 1, "samples": [["6", "14"], ["1000\n", "29820\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "2015", "NOIP 普及组"], "title": "[NOIP 2015 普及组] 金币", "background": "NOIP2015 普及组 T1", "description": "国王将金币作为工资，发放给忠诚的骑士。第一天，骑士收到一枚金币；之后两天（第二天和第三天），每天收到两枚金币；之后三天（第四、五、六天），每天收到三枚金币；之后四天（第七、八、九、十天），每天收到四枚金币……；这种工资发放模式会一直这样延续下去：当连续 $n$ 天每天收到 $n$ 枚金币后，骑士会在之后的连续 $n+1$ 天里，每天收到 $n+1$ 枚金币。\n\n请计算在前 $k$ 天里，骑士一共获得了多少金币。", "inputFormat": "一个正整数 $k$，表示发放金币的天数。", "outputFormat": "一个正整数，即骑士收到的金币数。\n", "hint": "**【样例 1 说明】**\n\n骑士第一天收到一枚金币；第二天和第三天，每天收到两枚金币；第四、五、六天，每天收到三枚金币。因此一共收到 $1+2+2+3+3+3=14$ 枚金币。\n\n\n对于 $100\\%$ 的数据，$1\\le k\\le 10^4$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Junior] Gold Coins", "background": "NOIP 2015 Junior T1.", "description": "The king pays his loyal knight in gold coins. On day 1, the knight receives 1 coin; then for the next two days (days 2 and 3), he receives 2 coins per day; then for the next three days (days 4, 5, and 6), he receives 3 coins per day; then for the next four days (days 7, 8, 9, and 10), he receives 4 coins per day; and so on. This payment pattern continues indefinitely: after receiving $n$ coins per day for $n$ consecutive days, the knight will receive $n+1$ coins per day for the next $n+1$ consecutive days.\n\nPlease compute how many coins the knight has received in the first $k$ days.", "inputFormat": "A positive integer $k$, representing the number of days of coin distribution.", "outputFormat": "A positive integer, the number of coins the knight receives.", "hint": "[Sample 1 Explanation]\n\nOn day 1 the knight receives 1 coin; on days 2 and 3, he receives 2 coins per day; on days 4, 5, and 6, he receives 3 coins per day. Therefore the total is $1+2+2+3+3+3=14$ coins.\n\nConstraints: For 100% of the testdata, $1 \\le k \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 普及组] 金币", "background": "NOIP2015 普及组 T1", "description": "国王将金币作为工资，发放给忠诚的骑士。第一天，骑士收到一枚金币；之后两天（第二天和第三天），每天收到两枚金币；之后三天（第四、五、六天），每天收到三枚金币；之后四天（第七、八、九、十天），每天收到四枚金币……；这种工资发放模式会一直这样延续下去：当连续 $n$ 天每天收到 $n$ 枚金币后，骑士会在之后的连续 $n+1$ 天里，每天收到 $n+1$ 枚金币。\n\n请计算在前 $k$ 天里，骑士一共获得了多少金币。", "inputFormat": "一个正整数 $k$，表示发放金币的天数。", "outputFormat": "一个正整数，即骑士收到的金币数。\n", "hint": "**【样例 1 说明】**\n\n骑士第一天收到一枚金币；第二天和第三天，每天收到两枚金币；第四、五、六天，每天收到三枚金币。因此一共收到 $1+2+2+3+3+3=14$ 枚金币。\n\n\n对于 $100\\%$ 的数据，$1\\le k\\le 10^4$。\n", "locale": "zh-CN"}}}
{"pid": "P2670", "type": "P", "difficulty": 1, "samples": [["3 3\n*??\n???\n?*?\n", "*10\n221\n1*1"], ["2 3\n?*?\n*??", "2*1\n*21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "搜索", "2015", "NOIP 普及组", "枚举"], "title": "[NOIP 2015 普及组] 扫雷游戏", "background": "NOIP2015 普及组 T2", "description": "扫雷游戏是一款十分经典的单机小游戏。在 $n$ 行 $m$ 列的雷区中有一些格子含有地雷（称之为地雷格），其他格子不含地雷（称之为非地雷格）。玩家翻开一个非地雷格时，该格将会出现一个数字——提示周围格子中有多少个是地雷格。游戏的目标是在不翻出任何地雷格的条件下，找出所有的非地雷格。\n\n现在给出 $n$ 行 $m$ 列的雷区中的地雷分布，要求计算出每个非地雷格周围的地雷格数。\n\n注：一个格子的周围格子包括其上、下、左、右、左上、右上、左下、右下八个方向上与之直接相邻的格子。\n", "inputFormat": "第一行是用一个空格隔开的两个整数 $n$ 和 $m$，分别表示雷区的行数和列数。\n\n接下来 $n$ 行，每行 $m$ 个字符，描述了雷区中的地雷分布情况。字符 $\\texttt{*}$ 表示相应格子是地雷格，字符 $\\texttt{?}$ 表示相应格子是非地雷格。相邻字符之间无分隔符。\n", "outputFormat": "输出文件包含 $n$ 行，每行 $m$ 个字符，描述整个雷区。用 $\\texttt{*}$ 表示地雷格，用周围的地雷个数表示非地雷格。相邻字符之间无分隔符。\n", "hint": "对于 $100\\%$的数据，$1≤n≤100, 1≤m≤100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Junior] Minesweeper", "background": "NOIP 2015 Junior T2.", "description": "Minesweeper is a classic single-player mini game. In an $n$-row by $m$-column minefield, some cells contain mines (called mine cells), and the other cells do not (called non-mine cells). When the player reveals a non-mine cell, the cell shows a number indicating how many of its neighboring cells are mine cells. The goal is to find all non-mine cells without revealing any mine cell.\n\nGiven the distribution of mines in an $n$-row by $m$-column minefield, compute for every non-mine cell the number of neighboring mine cells.\n\nNote: The neighboring cells of a cell include the eight directly adjacent cells in the up, down, left, right, upper-left, upper-right, lower-left, and lower-right directions.", "inputFormat": "The first line contains two integers $n$ and $m$ separated by a space, representing the number of rows and columns of the minefield, respectively.\n\nThen follow $n$ lines, each with $m$ characters, describing the distribution of mines in the minefield. The character $\\texttt{*}$ indicates a mine cell, and the character $\\texttt{?}$ indicates a non-mine cell. There are no delimiters between adjacent characters.", "outputFormat": "The output contains $n$ lines, each with $m$ characters, describing the entire minefield. Use $\\texttt{*}$ for mine cells, and use the number of neighboring mines for non-mine cells. There are no delimiters between adjacent characters.", "hint": "For $100\\%$ of the testdata, $1 \\le n \\le 100$, $1 \\le m \\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 普及组] 扫雷游戏", "background": "NOIP2015 普及组 T2", "description": "扫雷游戏是一款十分经典的单机小游戏。在 $n$ 行 $m$ 列的雷区中有一些格子含有地雷（称之为地雷格），其他格子不含地雷（称之为非地雷格）。玩家翻开一个非地雷格时，该格将会出现一个数字——提示周围格子中有多少个是地雷格。游戏的目标是在不翻出任何地雷格的条件下，找出所有的非地雷格。\n\n现在给出 $n$ 行 $m$ 列的雷区中的地雷分布，要求计算出每个非地雷格周围的地雷格数。\n\n注：一个格子的周围格子包括其上、下、左、右、左上、右上、左下、右下八个方向上与之直接相邻的格子。\n", "inputFormat": "第一行是用一个空格隔开的两个整数 $n$ 和 $m$，分别表示雷区的行数和列数。\n\n接下来 $n$ 行，每行 $m$ 个字符，描述了雷区中的地雷分布情况。字符 $\\texttt{*}$ 表示相应格子是地雷格，字符 $\\texttt{?}$ 表示相应格子是非地雷格。相邻字符之间无分隔符。\n", "outputFormat": "输出文件包含 $n$ 行，每行 $m$ 个字符，描述整个雷区。用 $\\texttt{*}$ 表示地雷格，用周围的地雷个数表示非地雷格。相邻字符之间无分隔符。\n", "hint": "对于 $100\\%$的数据，$1≤n≤100, 1≤m≤100$。\n", "locale": "zh-CN"}}}
{"pid": "P2671", "type": "P", "difficulty": 4, "samples": [["6 2\n5 5 3 2 2 2\n2 2 1 1 2 1", "82\n"], ["15 4\n5 10 8 2 2 2 9 9 7 7 5 6 4 2 4\n2 2 3 3 4 3 3 2 4 4 4 4 1 1 1", "1388"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "线性数据结构", "NOIP 普及组", "排序", "前缀和"], "title": "[NOIP 2015 普及组] 求和", "background": "NOIP2015 普及组 T3", "description": "一条狭长的纸带被均匀划分出了 $n$ 个格子，格子编号从 $1$ 到 $n$。每个格子上都染了一种颜色 $color_i$ 用 $[1,m]$ 当中的一个整数表示），并且写了一个数字 $number_i$。\n\n| 编号 | 1 | 2 | 3 | 4 | 5 | 6 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| **颜色和数字** | $\\color{blue}{5}$ | $\\color{blue}{5}$ | $\\color{red}{3}$ | $\\color{red}{2}$ | $\\color{blue}{2}$ | $\\color{red}{2}$ |\n\n定义一种特殊的三元组：$(x,y,z)$，其中 $x,y,z$ 都代表纸带上格子的编号，这里的三元组要求满足以下两个条件：\n\n1. $x,y,z$ 都是整数，$x<y<z,y-x=z-y$。\n\n2. $color_x=color_z$。\n\n满足上述条件的三元组的分数规定为 $(x+z) \\times (number_x+number_z)$。整个纸带的分数规定为所有满足条件的三元组的分数的和。这个分数可能会很大，你只要输出整个纸带的分数除以 $10007$ 所得的余数即可。", "inputFormat": "第一行是用一个空格隔开的两个正整数 $n$ 和 $m$，$n$ 表示纸带上格子的个数，$m$ 表示纸带上颜色的种类数。\n\n第二行有 $n$ 用空格隔开的正整数，第 $i$ 个数字表示纸带上编号为 $i$ 格子上面写的数字 $number_i$。\n\n第三行有 $n$ 用空格隔开的正整数，第 $i$ 数字表示纸带上编号为 $i$ 格子染的颜色 $color_i$。", "outputFormat": "一个整数，表示所求的纸带分数除以 $10007$ 所得的余数。", "hint": "**样例 1 解释**\n\n纸带如题目描述中的图所示。\n\n所有满足条件的三元组为：$(1, 3, 5), (4, 5, 6)$。\n\n所以纸带的分数为 $(1 + 5) \\times (5 + 2) + (4 + 6) \\times (2 + 2) = 42 + 40 = 82$。\n\n\n对于第 $1$ 组至第 $2$ 组数据， $1 ≤ n ≤ 100, 1 ≤ m ≤ 5$；\n\n对于第 $3$ 组至第 $4$ 组数据，$1 ≤ n ≤ 3000, 1 ≤ m ≤ 100$；\n\n对于第 $5$ 组至第 $ 6 $ 组数据，$1 ≤ n ≤ 10^5, 1 ≤ m ≤ 10^5$，且不存在出现次数超过 $ 20 $ 的颜色；\n\n对于全部 $10$ 组数据，$1 ≤ n ≤ 10^5, 1 ≤ m ≤ 10^5, 1 ≤ color_i ≤ m,1≤number_i≤10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Junior] Sum", "background": "NOIP 2015 Junior T3.", "description": "A long narrow strip of paper is evenly divided into $n$ cells, numbered from $1$ to $n$. Each cell is colored with a color $color_i$ (represented by an integer from $[1, m]$), and a number $number_i$ is written on it.\n\n| Index | 1 | 2 | 3 | 4 | 5 | 6 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| **Color and number** | $\\color{blue}{5}$ | $\\color{blue}{5}$ | $\\color{red}{3}$ | $\\color{red}{2}$ | $\\color{blue}{2}$ | $\\color{red}{2}$ |\n\nDefine a special triplet $(x, y, z)$, where $x$, $y$, $z$ are indices of cells on the strip, satisfying both of the following conditions:\n\n1. $x$, $y$, $z$ are integers, $x < y < z$, $y - x = z - y$.\n2. $color_x = color_z$.\n\nThe score of such a triplet is defined as $(x+z) \\times (number_x+number_z)$. The score of the entire strip is the sum of the scores of all triplets that satisfy the conditions. This score can be very large; you only need to output the remainder when the total score is divided by $10007$.", "inputFormat": "The first line contains two positive integers $n$ and $m$ separated by a space. $n$ is the number of cells on the strip, and $m$ is the number of colors.\n\nThe second line contains $n$ positive integers separated by spaces; the $i$-th number is the number $number_i$ written on cell $i$.\n\nThe third line contains $n$ positive integers separated by spaces; the $i$-th number is the color $color_i$ of cell $i$.", "outputFormat": "A single integer, the remainder of the total score modulo $10007$.", "hint": "Sample 1 Explanation.\n\nThe strip is as shown in the figure in the problem description.\n\nAll valid triplets are: $(1, 3, 5)$, $(4, 5, 6)$.\n\nTherefore, the total score is $(1 + 5) \\times (5 + 2) + (4 + 6) \\times (2 + 2) = 42 + 40 = 82$.\n\nConstraints:\n- For testdata groups $1$ to $2$, $1 \\le n \\le 100$, $1 \\le m \\le 5$.\n- For testdata groups $3$ to $4$, $1 \\le n \\le 3000$, $1 \\le m \\le 100$.\n- For testdata groups $5$ to $6$, $1 \\le n \\le 10^5$, $1 \\le m \\le 10^5$, and no color appears more than $20$ times.\n- For all $10$ testdata groups, $1 \\le n \\le 10^5$, $1 \\le m \\le 10^5$, $1 \\le color_i \\le m$, $1 \\le number_i \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 普及组] 求和", "background": "NOIP2015 普及组 T3", "description": "一条狭长的纸带被均匀划分出了 $n$ 个格子，格子编号从 $1$ 到 $n$。每个格子上都染了一种颜色 $color_i$ 用 $[1,m]$ 当中的一个整数表示），并且写了一个数字 $number_i$。\n\n| 编号 | 1 | 2 | 3 | 4 | 5 | 6 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| **颜色和数字** | $\\color{blue}{5}$ | $\\color{blue}{5}$ | $\\color{red}{3}$ | $\\color{red}{2}$ | $\\color{blue}{2}$ | $\\color{red}{2}$ |\n\n定义一种特殊的三元组：$(x,y,z)$，其中 $x,y,z$ 都代表纸带上格子的编号，这里的三元组要求满足以下两个条件：\n\n1. $x,y,z$ 都是整数，$x<y<z,y-x=z-y$。\n\n2. $color_x=color_z$。\n\n满足上述条件的三元组的分数规定为 $(x+z) \\times (number_x+number_z)$。整个纸带的分数规定为所有满足条件的三元组的分数的和。这个分数可能会很大，你只要输出整个纸带的分数除以 $10007$ 所得的余数即可。", "inputFormat": "第一行是用一个空格隔开的两个正整数 $n$ 和 $m$，$n$ 表示纸带上格子的个数，$m$ 表示纸带上颜色的种类数。\n\n第二行有 $n$ 用空格隔开的正整数，第 $i$ 个数字表示纸带上编号为 $i$ 格子上面写的数字 $number_i$。\n\n第三行有 $n$ 用空格隔开的正整数，第 $i$ 数字表示纸带上编号为 $i$ 格子染的颜色 $color_i$。", "outputFormat": "一个整数，表示所求的纸带分数除以 $10007$ 所得的余数。", "hint": "**样例 1 解释**\n\n纸带如题目描述中的图所示。\n\n所有满足条件的三元组为：$(1, 3, 5), (4, 5, 6)$。\n\n所以纸带的分数为 $(1 + 5) \\times (5 + 2) + (4 + 6) \\times (2 + 2) = 42 + 40 = 82$。\n\n\n对于第 $1$ 组至第 $2$ 组数据， $1 ≤ n ≤ 100, 1 ≤ m ≤ 5$；\n\n对于第 $3$ 组至第 $4$ 组数据，$1 ≤ n ≤ 3000, 1 ≤ m ≤ 100$；\n\n对于第 $5$ 组至第 $ 6 $ 组数据，$1 ≤ n ≤ 10^5, 1 ≤ m ≤ 10^5$，且不存在出现次数超过 $ 20 $ 的颜色；\n\n对于全部 $10$ 组数据，$1 ≤ n ≤ 10^5, 1 ≤ m ≤ 10^5, 1 ≤ color_i ≤ m,1≤number_i≤10^5$。", "locale": "zh-CN"}}}
{"pid": "P2672", "type": "P", "difficulty": 5, "samples": [["5\n1 2 3 4 5\n1 2 3 4 5", "15\n19\n22\n24\n25"], ["5\n1 2 2 4 5\n5 4 3 4 1", "12\n17\n21\n24\n27"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2015", "线段树", "树状数组", "NOIP 普及组", "优先队列"], "title": "[NOIP 2015 普及组] 推销员", "background": "NOIP2015 普及组 T4", "description": "阿明是一名推销员，他奉命到螺丝街推销他们公司的产品。螺丝街是一条死胡同，出口与入口是同一个，街道的一侧是围墙，另一侧是住户。螺丝街一共有 $N$ 家住户，第 $i$ 家住户到入口的距离为 $S_i$ 米。由于同一栋房子里可以有多家住户，所以可能有多家住户与入口的距离相等。阿明会从入口进入，依次向螺丝街的 $X$ 家住户推销产品，然后再原路走出去。\n\n阿明每走 $1$ 米就会积累 $1$ 点疲劳值，向第 $i$ 家住户推销产品会积累 $A_i$ 点疲劳值。阿明是工作狂，他想知道，对于不同的 $X$，在不走多余的路的前提下，他最多可以积累多少点疲劳值。", "inputFormat": "第一行有一个正整数 $N$，表示螺丝街住户的数量。\n\n接下来的一行有 $N$ 个非负整数，其中第 $i$ 个整数 $S_i$ 表示第 $i$ 家住户到入口的距离。数据保证 $S_1 \\le S_2 \\le \\cdots \\le S_n <10^8$。\n\n接下来的一行有 $N$ 个正整数，其中第 $i$ 个整数 $A_i$ 表示向第 $i$ 户住户推销产品会积累的疲劳值。数据保证 $A_i<1000$。", "outputFormat": "输出 $N$ 行，每行一个正整数，第 $i$ 行整数表示当 $X=i$ 时，阿明最多积累的疲劳值。", "hint": "**输入输出样例 1 说明**\n\n$X=1$：向住户 $5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $5$，总疲劳值为 $15$。\n\n$X=2$：向住户 $4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $4+5$，总疲劳值为 $5+5+4+5=19$。\n\n$X=3$：向住户 $3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值 $3+4+5$，总疲劳值为 $5+5+3+4+5=22$。\n\n$X=4$：向住户 $2,3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值 $2+3+4+5$，总疲劳值 $5+5+2+3+4+5=24$。\n\n$X=5$：向住户 $1,2,3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值 $1+2+3+4+5$，总疲劳值 $5+5+1+2+3+4+5=25$。\n\n\n**输入输出样例 2 说明**\n\n$X=1$：向住户 $4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $4$，总疲劳值 $4+4+4=12$。\n\n$X=2$：向住户 $1,4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $5+4$，总疲劳值 $4+4+5+4=17$。\n\n$X=3$：向住户 $1,2,4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $5+4+4$，总疲劳值 $4+4+5+4+4=21$。\n\n$X=4$：向住户 $1,2,3,4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $5+4+3+4$，总疲劳值 $4+4+5+4+3+4=24$。或者向住户 $1,2,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $5+4+4+1$，总疲劳值 $5+5+5+4+4+1=24$。\n\n$X=5$：向住户 $1,2,3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $5+4+3+4+1$，总疲劳值 $5+5+5+4+3+4+1=27$。\n\n**数据范围**\n\n对于 $20\\%$ 的数据，$1 \\le N \\le20$；  \n对于 $40\\%$ 的数据，$1\\le N \\le 100$；  \n对于 $60\\%$ 的数据，$1 \\le N \\le 1000$；  \n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Junior] Salesman", "background": "NOIP 2015 Junior T4.", "description": "A Ming is a salesman. He is assigned to promote his company’s products on Screw Street. Screw Street is a dead-end; the exit and entrance are the same. One side of the street is a wall, and the other side has households. There are $N$ households on Screw Street, and the $i$-th household is $S_i$ meters from the entrance. Because multiple households can live in the same building, several households may be at the same distance from the entrance. A Ming will enter from the entrance, promote products to $X$ households on Screw Street one by one, and then walk back along the same route.\n\nFor every $1$ meter he walks, he accumulates $1$ fatigue point. Promoting to the $i$-th household accumulates $A_i$ fatigue points. A Ming is a workaholic. He wants to know, for different values of $X$, under the premise of not walking any extra distance, what is the maximum total fatigue he can accumulate.", "inputFormat": "The first line contains a positive integer $N$, the number of households on Screw Street.\n\nThe next line contains $N$ non-negative integers; the $i$-th integer $S_i$ is the distance from the $i$-th household to the entrance. It is guaranteed that $S_1 \\le S_2 \\le \\cdots \\le S_n <10^8$.\n\nThe next line contains $N$ positive integers; the $i$-th integer $A_i$ is the fatigue accumulated by promoting to the $i$-th household. It is guaranteed that $A_i<1000$.", "outputFormat": "Output $N$ lines, each with one positive integer. The integer on the $i$-th line denotes the maximum total fatigue when $X=i$.", "hint": "Explanation for Sample 1:\n\n$X=1$: promote to household $5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $5$, and the total fatigue is $15$.\n\n$X=2$: promote to households $4,5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $4+5$, and the total fatigue is $5+5+4+5=19$.\n\n$X=3$: promote to households $3,4,5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $3+4+5$, and the total fatigue is $5+5+3+4+5=22$.\n\n$X=4$: promote to households $2,3,4,5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $2+3+4+5$, and the total fatigue is $5+5+2+3+4+5=24$.\n\n$X=5$: promote to households $1,2,3,4,5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $1+2+3+4+5$, and the total fatigue is $5+5+1+2+3+4+5=25$.\n\nExplanation for Sample 2:\n\n$X=1$: promote to household $4$. The round-trip walking fatigue is $4+4$, the promotion fatigue is $4$, and the total fatigue is $4+4+4=12$.\n\n$X=2$: promote to households $1,4$. The round-trip walking fatigue is $4+4$, the promotion fatigue is $5+4$, and the total fatigue is $4+4+5+4=17$.\n\n$X=3$: promote to households $1,2,4$. The round-trip walking fatigue is $4+4$, the promotion fatigue is $5+4+4$, and the total fatigue is $4+4+5+4+4=21$.\n\n$X=4$: promote to households $1,2,3,4$. The round-trip walking fatigue is $4+4$, the promotion fatigue is $5+4+3+4$, and the total fatigue is $4+4+5+4+3+4=24$. Or promote to households $1,2,4,5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $5+4+4+1$, and the total fatigue is $5+5+5+4+4+1=24$.\n\n$X=5$: promote to households $1,2,3,4,5$. The round-trip walking fatigue is $5+5$, the promotion fatigue is $5+4+3+4+1$, and the total fatigue is $5+5+5+4+3+4+1=27$.\n\nConstraints:\n\nFor $20\\%$ of the testdata, $1 \\le N \\le 20$.\nFor $40\\%$ of the testdata, $1 \\le N \\le 100$.\nFor $60\\%$ of the testdata, $1 \\le N \\le 1000$.\nFor $100\\%$ of the testdata, $1 \\le N \\le 100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 普及组] 推销员", "background": "NOIP2015 普及组 T4", "description": "阿明是一名推销员，他奉命到螺丝街推销他们公司的产品。螺丝街是一条死胡同，出口与入口是同一个，街道的一侧是围墙，另一侧是住户。螺丝街一共有 $N$ 家住户，第 $i$ 家住户到入口的距离为 $S_i$ 米。由于同一栋房子里可以有多家住户，所以可能有多家住户与入口的距离相等。阿明会从入口进入，依次向螺丝街的 $X$ 家住户推销产品，然后再原路走出去。\n\n阿明每走 $1$ 米就会积累 $1$ 点疲劳值，向第 $i$ 家住户推销产品会积累 $A_i$ 点疲劳值。阿明是工作狂，他想知道，对于不同的 $X$，在不走多余的路的前提下，他最多可以积累多少点疲劳值。", "inputFormat": "第一行有一个正整数 $N$，表示螺丝街住户的数量。\n\n接下来的一行有 $N$ 个非负整数，其中第 $i$ 个整数 $S_i$ 表示第 $i$ 家住户到入口的距离。数据保证 $S_1 \\le S_2 \\le \\cdots \\le S_n <10^8$。\n\n接下来的一行有 $N$ 个正整数，其中第 $i$ 个整数 $A_i$ 表示向第 $i$ 户住户推销产品会积累的疲劳值。数据保证 $A_i<1000$。", "outputFormat": "输出 $N$ 行，每行一个正整数，第 $i$ 行整数表示当 $X=i$ 时，阿明最多积累的疲劳值。", "hint": "**输入输出样例 1 说明**\n\n$X=1$：向住户 $5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $5$，总疲劳值为 $15$。\n\n$X=2$：向住户 $4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $4+5$，总疲劳值为 $5+5+4+5=19$。\n\n$X=3$：向住户 $3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值 $3+4+5$，总疲劳值为 $5+5+3+4+5=22$。\n\n$X=4$：向住户 $2,3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值 $2+3+4+5$，总疲劳值 $5+5+2+3+4+5=24$。\n\n$X=5$：向住户 $1,2,3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值 $1+2+3+4+5$，总疲劳值 $5+5+1+2+3+4+5=25$。\n\n\n**输入输出样例 2 说明**\n\n$X=1$：向住户 $4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $4$，总疲劳值 $4+4+4=12$。\n\n$X=2$：向住户 $1,4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $5+4$，总疲劳值 $4+4+5+4=17$。\n\n$X=3$：向住户 $1,2,4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $5+4+4$，总疲劳值 $4+4+5+4+4=21$。\n\n$X=4$：向住户 $1,2,3,4$ 推销，往返走路的疲劳值为 $4+4$，推销的疲劳值为 $5+4+3+4$，总疲劳值 $4+4+5+4+3+4=24$。或者向住户 $1,2,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $5+4+4+1$，总疲劳值 $5+5+5+4+4+1=24$。\n\n$X=5$：向住户 $1,2,3,4,5$ 推销，往返走路的疲劳值为 $5+5$，推销的疲劳值为 $5+4+3+4+1$，总疲劳值 $5+5+5+4+3+4+1=27$。\n\n**数据范围**\n\n对于 $20\\%$ 的数据，$1 \\le N \\le20$；  \n对于 $40\\%$ 的数据，$1\\le N \\le 100$；  \n对于 $60\\%$ 的数据，$1 \\le N \\le 1000$；  \n对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P2673", "type": "P", "difficulty": 5, "samples": [["11 20", "6179775280"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "《瞿葩的数字游戏》T1-数字王国的门神", "background": "一来到数字王国的大门，我们就看到硕大的两个数字 $8$ 和 $9$ 分别镭射（请不要吐槽这个词……）在两侧大门。于是瞿葩心想，这有什么意义呢？于是他找到了你。", "description": "鬼知道 $89$ 有什么意义啊 TAT，但是瞿葩知道，$89$ 是 Fibonacci 数列的第二个非孪生质数。（还有哦，因为 $89$ 被镭射在了门上……所以之后的故事（题目）中都不会出现 $89$……但是这道题要计算 $89$）\n\n那么看来这个现象与 Fibonacci 数列有关系咯，所以现在瞿葩想知道，Fibonacci 数列的累积和中的第 $M$ 位到第 $N$ 位，累积和就是第 $1$ 项 $\\times 10^K$ 到第 $K$ 项 $\\times10^1$ 的总和，即\n\n$$\\lim _ {K \\to \\infty} \\sum _ {i = 1} ^ K F _ i \\times 10 ^ {K - i}$$\n\n$F _ i$ 表示 Fibonacci 数列的第 $i$ 项，通项公式和递推式如下：\n\n- 通项公式：$\\displaystyle F _ i = \\frac{1}{\\sqrt{5}}\\left[\\left(\\frac{1 + \\sqrt{5}}{2}\\right) ^ i - \\left(\\frac{1 - \\sqrt{5}}{2}\\right) ^ i\\right]$；\n- 递推式：$F _ i = F _ {i - 1} + F _ {i - 2}$。\n\n请你写一个程序帮帮他。\n\n任务：给定 $M, N$，要求输出累积和的第 $M \\sim N$ 位。\n\n一开始的累积和：$1123595505\\cdots$。", "inputFormat": "两个整数 $M, N$。", "outputFormat": "累积和第 $M \\sim N$ 位数字，不省略首尾的 $0$。", "hint": "当然有 $10\\le M\\le N\\le 2 \\times 10 ^ 5$，因为前 $10$ 位瞿葩已经算出来了，知道 $2\\times 10 ^ 5$ 以后的数字位也没什么用是吧 \\\\\\(\\^o\\^\\)\\/ 而且瞿葩只想研究一点点，所以其中 $0<N-M+1\\le2000$。不过正是因为瞿葩最多只要得到 $2000$ 位结果，所以他要求你的程序要在 1s 内出结果。", "locale": "zh-CN", "translations": {"en": {"title": "“Qu Pa's Number Game” T1 - Gatekeeper of the Number Kingdom", "background": "As soon as we arrive at the gate of the Number Kingdom, we see two huge numbers, 8 and 9, “laser-engraved” (please don't nitpick this word...) on the two sides of the gate. Qu Pa wonders what this means, so he comes to you.", "description": "Who knows what 89 means, TAT. But Qu Pa knows that 89 is the second non-twin prime in the Fibonacci sequence. (Also, since 89 is laser-engraved on the gate... 89 will not appear in the later stories (problems)... but in this problem we still need to compute with 89.)\n\nSo it seems this phenomenon is related to the Fibonacci sequence. Now Qu Pa wants to know the digits from position M to position N of the cumulative sum formed from the Fibonacci sequence. The “cumulative sum” is the total from the 1st term times $10^{K}$ to the $K$-th term times $10^{1}$, i.e.,\n\n ![](https://cdn.luogu.com.cn/upload/pic/1733.png)          \n\nPlease write a program to help him.\n\nTask: Given $M$, $N$, output the digits from position $M$ to $N$ of the cumulative sum.\n\nThe beginning of the cumulative sum: 1123595505...", "inputFormat": "Two integers $M$ and $N$.", "outputFormat": "The digits from position $M$ to position $N$ of the cumulative sum, without omitting leading or trailing zeros.", "hint": "Constraints: $10 \\le M \\le N \\le 200000$. Since Qu Pa has already computed the first 10 digits, there is no use in knowing the digits after position 200000, right? Also, $0 < N - M + 1 \\le 2000$. Precisely because Qu Pa needs at most 2000 digits, he requires your program to finish within 1 s.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "《瞿葩的数字游戏》T1-数字王国的门神", "background": "一来到数字王国的大门，我们就看到硕大的两个数字 $8$ 和 $9$ 分别镭射（请不要吐槽这个词……）在两侧大门。于是瞿葩心想，这有什么意义呢？于是他找到了你。", "description": "鬼知道 $89$ 有什么意义啊 TAT，但是瞿葩知道，$89$ 是 Fibonacci 数列的第二个非孪生质数。（还有哦，因为 $89$ 被镭射在了门上……所以之后的故事（题目）中都不会出现 $89$……但是这道题要计算 $89$）\n\n那么看来这个现象与 Fibonacci 数列有关系咯，所以现在瞿葩想知道，Fibonacci 数列的累积和中的第 $M$ 位到第 $N$ 位，累积和就是第 $1$ 项 $\\times 10^K$ 到第 $K$ 项 $\\times10^1$ 的总和，即\n\n$$\\lim _ {K \\to \\infty} \\sum _ {i = 1} ^ K F _ i \\times 10 ^ {K - i}$$\n\n$F _ i$ 表示 Fibonacci 数列的第 $i$ 项，通项公式和递推式如下：\n\n- 通项公式：$\\displaystyle F _ i = \\frac{1}{\\sqrt{5}}\\left[\\left(\\frac{1 + \\sqrt{5}}{2}\\right) ^ i - \\left(\\frac{1 - \\sqrt{5}}{2}\\right) ^ i\\right]$；\n- 递推式：$F _ i = F _ {i - 1} + F _ {i - 2}$。\n\n请你写一个程序帮帮他。\n\n任务：给定 $M, N$，要求输出累积和的第 $M \\sim N$ 位。\n\n一开始的累积和：$1123595505\\cdots$。", "inputFormat": "两个整数 $M, N$。", "outputFormat": "累积和第 $M \\sim N$ 位数字，不省略首尾的 $0$。", "hint": "当然有 $10\\le M\\le N\\le 2 \\times 10 ^ 5$，因为前 $10$ 位瞿葩已经算出来了，知道 $2\\times 10 ^ 5$ 以后的数字位也没什么用是吧 \\\\\\(\\^o\\^\\)\\/ 而且瞿葩只想研究一点点，所以其中 $0<N-M+1\\le2000$。不过正是因为瞿葩最多只要得到 $2000$ 位结果，所以他要求你的程序要在 1s 内出结果。", "locale": "zh-CN"}}}
{"pid": "P2674", "type": "P", "difficulty": 3, "samples": [["2\n36\n1000000\n", "3 4\n4 204\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "洛谷原创"], "title": "《瞿葩的数字游戏》T2-多边形数", "background": "数字王国里有一类特殊的数，它们叫做多边形数。并且国王 $1$ 规定数字间的联姻只能在同为一种多边形数中进行。（请不要吐槽这个规定……）\n\n瞿葩对这个现象十分好奇，见 $36$ 和 $10$ 这一对情侣在散步，便上前询问 $36$ 它是什么多边形数。可是 $36$ 拍拍脑门，想了想说：“我也不知道啊，你去问问国王吧。”\n\n看来国民们并不知道自己是什么多边形数啊，国王 $1$ 急的发愁。国王 $1$ 只知道多边形数怎么计算，但是多边形数要怎么给国民做解释呢，干脆这样解释吧：可以排成正多边形的整数都是多边形数。当然多边形数可以分为三边（角）形数、四边形数（正方形数）、五边形数、六边形数……\n", "description": "**此题为规律题，请自行寻找规律，以锻炼数学归纳能力！！**\n\n我们拿三角形数做例子：图中的 $1$、$3$、$6$、$10$ 就是三角形数。\n\n ![](https://cdn.luogu.com.cn/upload/pic/1742.png) \n\n任务：求出 $N$ 是哪一种多边形数（假设 $N$ 是 $K$ 边形数），比如我们求出 $36$ 是三边形数和四边形数（貌似叫做三角形数和正方形数呵）。若不是多边形数，输出 Poor + 该数字。若同时是多种多边形数，输出最小的一个和第二小的一个。每个读入文件里有 $ng$ 组数据。\n", "inputFormat": "先是一个数 $ng$，然后 $ng$ 行，每行一个整数。\n", "outputFormat": "$ng$ 行，$N$ 相应的 $K_1$ 和 $K_2$，若不是多边形数，输出 Poor + 该数字。（中间无空格）\n", "hint": "### 数据范围及约定\n\n对于 $20\\%$ 的数据，$1 \\le K_1,K_2 \\le 6$；\n\n对于 $100\\%$ 的数据， $1 \\le N \\le 10^6$，$1 \\le ng \\le 10^2$。\n\n如果同时是多种多边形数，设 $K_1$ 为最小的 $K$，$K_2$ 为次小的 $K$。\n\n国王 $1$：“你可以发现四边形数（正方形数）就是平方数这个规律吗？为方便理解，我给出前几个多边形数表。”（表中可以看出，正六边形不包括正中心的那个点，以此类推）\n\n| 自然数 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| 三角形数 | $1$ | $3$ | $6$ | $10$ | $15$ | $21$ | $28$ | $36$ |\n| 正方形数 | $1$ | $4$ | $9$ | $16$ | $25$ | $36$ | $49$ | $64$ |\n| 五边形数 | $1$ | $5$ | $12$ | $22$ | $35$ | $51$ | $70$ | $92$ |\n| 六边形数 | $1$ | $6$ | $15$ | $28$ | $45$ | $66$ | $91$ | $120$ |\n", "locale": "zh-CN", "translations": {"en": {"title": "Qupa's Number Game T2 - Polygonal Numbers", "background": "In the Kingdom of Numbers, there is a special class of numbers called polygonal numbers. King $1$ also decreed that marriages between numbers can only happen within the same type of polygonal numbers. (Please don't complain about this rule...)\n\nQupa became very curious about this phenomenon. Seeing the couple $36$ and $10$ taking a walk, Qupa asked $36$ which kind of polygonal number it was. But $36$ patted its head and said, \"I don't know either. Go ask the king.\"\n\nIt seems the citizens do not know which polygonal numbers they are, and King $1$ is worried. King $1$ only knows how to compute polygonal numbers, but how should he explain this to the citizens? He decides to explain it this way: any integer that can be arranged into a regular polygon is a polygonal number. Polygonal numbers include triangular numbers, square numbers, pentagonal numbers, hexagonal numbers, and so on.", "description": "This is a pattern-finding problem. Please discover the pattern yourself to practice mathematical induction!!\n\nLet’s take triangular numbers as an example: the numbers $1$, $3$, $6$, $10$ in the figure are triangular numbers.\n\n![](https://cdn.luogu.com.cn/upload/pic/1742.png)\n\nTask: determine which kinds of polygonal numbers $N$ belongs to (assume $N$ is a $K$-gonal number). For example, we can find that $36$ is both a triangular number and a square number. If it is not a polygonal number, output Poor + that number. If it is multiple types of polygonal numbers at the same time, output the smallest $K$ and the second smallest $K$. Each input file contains $ng$ test cases.", "inputFormat": "First a number $ng$, then $ng$ lines, each containing one integer.", "outputFormat": "Output $ng$ lines. For each $N$, output the corresponding $K_1$ and $K_2$. If $N$ is not a polygonal number, output Poor + that number (no spaces in between).", "hint": "### Constraints and Notes\n\nFor $20\\%$ of the testdata, $1 \\le K_1, K_2 \\le 6$.\n\nFor $100\\%$ of the testdata, $1 \\le N \\le 10^6$, $1 \\le ng \\le 10^2$.\n\nIf $N$ is multiple types of polygonal numbers at the same time, let $K_1$ be the smallest $K$, and $K_2$ be the second smallest $K$.\n\nKing $1$: \"Can you discover the pattern that square numbers are just perfect squares? To make it easier to understand, I’ll provide a table of the first few polygonal numbers.\" (From the table you can see that a regular hexagon does not include the very center point, and similarly for others.)\n\n| Natural numbers | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| Triangular numbers | $1$ | $3$ | $6$ | $10$ | $15$ | $21$ | $28$ | $36$ |\n| Square numbers | $1$ | $4$ | $9$ | $16$ | $25$ | $36$ | $49$ | $64$ |\n| Pentagonal numbers | $1$ | $5$ | $12$ | $22$ | $35$ | $51$ | $70$ | $92$ |\n| Hexagonal numbers | $1$ | $6$ | $15$ | $28$ | $45$ | $66$ | $91$ | $120$ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "《瞿葩的数字游戏》T2-多边形数", "background": "数字王国里有一类特殊的数，它们叫做多边形数。并且国王 $1$ 规定数字间的联姻只能在同为一种多边形数中进行。（请不要吐槽这个规定……）\n\n瞿葩对这个现象十分好奇，见 $36$ 和 $10$ 这一对情侣在散步，便上前询问 $36$ 它是什么多边形数。可是 $36$ 拍拍脑门，想了想说：“我也不知道啊，你去问问国王吧。”\n\n看来国民们并不知道自己是什么多边形数啊，国王 $1$ 急的发愁。国王 $1$ 只知道多边形数怎么计算，但是多边形数要怎么给国民做解释呢，干脆这样解释吧：可以排成正多边形的整数都是多边形数。当然多边形数可以分为三边（角）形数、四边形数（正方形数）、五边形数、六边形数……\n", "description": "**此题为规律题，请自行寻找规律，以锻炼数学归纳能力！！**\n\n我们拿三角形数做例子：图中的 $1$、$3$、$6$、$10$ 就是三角形数。\n\n ![](https://cdn.luogu.com.cn/upload/pic/1742.png) \n\n任务：求出 $N$ 是哪一种多边形数（假设 $N$ 是 $K$ 边形数），比如我们求出 $36$ 是三边形数和四边形数（貌似叫做三角形数和正方形数呵）。若不是多边形数，输出 Poor + 该数字。若同时是多种多边形数，输出最小的一个和第二小的一个。每个读入文件里有 $ng$ 组数据。\n", "inputFormat": "先是一个数 $ng$，然后 $ng$ 行，每行一个整数。\n", "outputFormat": "$ng$ 行，$N$ 相应的 $K_1$ 和 $K_2$，若不是多边形数，输出 Poor + 该数字。（中间无空格）\n", "hint": "### 数据范围及约定\n\n对于 $20\\%$ 的数据，$1 \\le K_1,K_2 \\le 6$；\n\n对于 $100\\%$ 的数据， $1 \\le N \\le 10^6$，$1 \\le ng \\le 10^2$。\n\n如果同时是多种多边形数，设 $K_1$ 为最小的 $K$，$K_2$ 为次小的 $K$。\n\n国王 $1$：“你可以发现四边形数（正方形数）就是平方数这个规律吗？为方便理解，我给出前几个多边形数表。”（表中可以看出，正六边形不包括正中心的那个点，以此类推）\n\n| 自然数 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| 三角形数 | $1$ | $3$ | $6$ | $10$ | $15$ | $21$ | $28$ | $36$ |\n| 正方形数 | $1$ | $4$ | $9$ | $16$ | $25$ | $36$ | $49$ | $64$ |\n| 五边形数 | $1$ | $5$ | $12$ | $22$ | $35$ | $51$ | $70$ | $92$ |\n| 六边形数 | $1$ | $6$ | $15$ | $28$ | $45$ | $66$ | $91$ | $120$ |\n", "locale": "zh-CN"}}}
{"pid": "P2675", "type": "P", "difficulty": 5, "samples": [["4", "24"], ["1125", "700"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "贪心", "洛谷原创", "组合数学", "Lucas 定理"], "title": "《瞿葩的数字游戏》T3-三角圣地", "background": "国王 1 带大家到了数字王国的中心：三角圣地。", "description": "数字王国的中心是由一个倒三角构成。\n\n倒三角一共 $N$ 层，从上往下第 $i$ 层有 $N-i+1$ 个数字。倒三角的第 $1$ 层必须是 $1 \\sim N$ 的全排列之一，即必须使用 $1 \\sim N$ 之间的所有数字且不能重复。从第 $2$ 层开始以后每一层的数字都是由其左上方和右上方两个数字相加得到的。例如，下面是一个合法的倒三角形：\n\n```plain\n1   2   3   4\n  3   5   7\n    8   12\n      20\n```\n\n这个倒三角形的 $N$ 为 $4$，其最后一层的数字为 $20$。\n\n数字王国称最后一层的数字为“基”，请你编程求出“基”的最大值对 $10007$ 取模的结果。", "inputFormat": "一行，一个整数 $N$，表示倒三角的层数。", "outputFormat": "一行一个整数，表示 $N$ 层倒三角“基”的最大值对 $10007$ 取模的结果。", "hint": "### 样例解释\n\n一种可行的方案为：\n\n```plain\n1   3   4   2\n  4   7   6\n    11  13\n      24\n```\n\n可以证明没有比这更好的方法。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$N \\le 100$。\n\n对于 $50\\%$ 的数据，$N \\le 3000$。\n\n对于 $100\\%$ 的数据，$0 \\le N \\le {10}^6$。", "locale": "zh-CN", "translations": {"en": {"title": "\"Qu Pa's Number Game\" T3 - Triangle Sanctuary", "background": "King 1 leads everyone to the center of the Kingdom of Numbers: the Triangle Sanctuary.", "description": "The center of the Kingdom of Numbers is formed by an inverted triangle.\n\nThe inverted triangle has $N$ layers. The $i$-th layer from top to bottom contains $N - i + 1$ numbers. The first layer must be one of the permutations of $1 \\sim N$, that is, it must use all numbers from $1$ to $N$ without repetition. Starting from the second layer, each number is obtained by adding the two numbers above it to the left and right. For example, the following is a valid inverted triangle:\n\n```plain\n1   2   3   4\n  3   5   7\n    8   12\n      20\n```\n\nThis inverted triangle has $N = 4$, and the last-layer number is $20$.\n\nThe Kingdom of Numbers calls the last-layer number the 'base'. Please write a program to compute the maximum value of the 'base' modulo $10007$.", "inputFormat": "One line containing an integer $N$, representing the number of layers of the inverted triangle.", "outputFormat": "One line containing an integer, which is the maximum possible 'base' for $N$ layers modulo $10007$.", "hint": "- Sample Explanation\n\nOne feasible arrangement is:\n\n```plain\n1   3   4   2\n  4   7   6\n    11  13\n      24\n```\n\nIt can be proved that there is no better method.\n\n- Constraints\n\nFor $20\\%$ of the testdata, $N \\le 100$.\n\nFor $50\\%$ of the testdata, $N \\le 3000$.\n\nFor $100\\%$ of the testdata, $0 \\le N \\le {10}^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "《瞿葩的数字游戏》T3-三角圣地", "background": "国王 1 带大家到了数字王国的中心：三角圣地。", "description": "数字王国的中心是由一个倒三角构成。\n\n倒三角一共 $N$ 层，从上往下第 $i$ 层有 $N-i+1$ 个数字。倒三角的第 $1$ 层必须是 $1 \\sim N$ 的全排列之一，即必须使用 $1 \\sim N$ 之间的所有数字且不能重复。从第 $2$ 层开始以后每一层的数字都是由其左上方和右上方两个数字相加得到的。例如，下面是一个合法的倒三角形：\n\n```plain\n1   2   3   4\n  3   5   7\n    8   12\n      20\n```\n\n这个倒三角形的 $N$ 为 $4$，其最后一层的数字为 $20$。\n\n数字王国称最后一层的数字为“基”，请你编程求出“基”的最大值对 $10007$ 取模的结果。", "inputFormat": "一行，一个整数 $N$，表示倒三角的层数。", "outputFormat": "一行一个整数，表示 $N$ 层倒三角“基”的最大值对 $10007$ 取模的结果。", "hint": "### 样例解释\n\n一种可行的方案为：\n\n```plain\n1   3   4   2\n  4   7   6\n    11  13\n      24\n```\n\n可以证明没有比这更好的方法。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$N \\le 100$。\n\n对于 $50\\%$ 的数据，$N \\le 3000$。\n\n对于 $100\\%$ 的数据，$0 \\le N \\le {10}^6$。", "locale": "zh-CN"}}}
{"pid": "P2676", "type": "P", "difficulty": 2, "samples": [["6 40\n6\n18\n11\n13\n19\n11", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2007", "USACO", "排序"], "title": "[USACO07DEC] Bookshelf B", "background": null, "description": "Farmer John 最近为奶牛们的图书馆添置了一个巨大的书架，尽管它是如此的大，但它还是几乎瞬间就被各种各样的书塞满了。现在，只有书架的顶上还留有一点空间。\n\n所有 $N(1 \\le N \\le 20,000)$ 头奶牛都有一个确定的身高 $H_i(1 \\le H_i \\le 10,000)$。设所有奶牛身高的和为 $S$。书架的高度为 $B$，并且保证 $1 \\le B \\le S < 2,000,000,007$。\n\n为了够到比最高的那头奶牛还要高的书架顶，奶牛们不得不像演杂技一般，一头站在另一头的背上，叠成一座“奶牛塔”。当然，这个塔的高度，就是塔中所有奶牛的身高之和。为了往书架顶上放东西，所有奶牛的身高和必须不小于书架的高度。\n\n显然，塔中的奶牛数目越多，整座塔就越不稳定，于是奶牛们希望在能够到书架顶的前提下，让塔中奶牛的数目尽量少。现在，奶牛们找到了你，希望你帮她们计算这个最小的数目。", "inputFormat": "* 第 $1$ 行：2 个用空格隔开的整数：$N$ 和 $B$；\n* 第 $2\\dots N+1$ 行：第 $i+1$ 行是 $1$ 个整数：$H_i$。", "outputFormat": "* 第 $1$ 行：输出 $1$ 个整数，即最少要多少头奶牛叠成塔，才能够到书架顶部。", "hint": "输入说明：\n\n一共有 $6$ 头奶牛，书架的高度为 $40$，奶牛们的身高在 $6\\dots19$ 之间。\n\n\n输出说明：\n\n一种只用 $3$ 头奶牛就达到高度 $40$ 的方法：$18+11+13$。当然还有其他方法，在此不一一列出了。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO07DEC] Bookshelf B", "background": "", "description": "Farmer John recently added a huge bookshelf to the cows' library. Even though it is very large, it was almost instantly filled with all kinds of books. Now, only a little space remains at the very top of the shelf.\n\nAll $N(1 \\le N \\le 20,000)$ cows each have a fixed height $H_i(1 \\le H_i \\le 10,000)$. Let the sum of all cows' heights be $S$. The bookshelf has height $B$, and it is guaranteed that $1 \\le B \\le S < 2,000,000,007$.\n\nTo reach the top of the bookshelf, which is higher than the tallest cow, the cows have to perform an acrobatic act by standing on each other's backs, forming a \"cow tower.\" The height of the tower is the sum of the heights of all cows in it. To place items on the top of the bookshelf, the total height of the cows must be at least the height of the bookshelf.\n\nObviously, the more cows in the tower, the less stable it becomes. Therefore, the cows want to use as few cows as possible while still being able to reach the top of the bookshelf. They ask you to compute this minimum number.", "inputFormat": "- Line $1$: Two integers separated by a space: $N$ and $B$.\n- Lines $2\\dots N+1$: Line $i+1$ contains $1$ integer: $H_i$.", "outputFormat": "- Line $1$: Output $1$ integer — the minimum number of cows needed to stack into a tower to reach the top of the bookshelf.", "hint": "Input description:\n\nThere are $6$ cows, the bookshelf height is $40$, and the cows’ heights are between $6\\dots19$.\n\nOutput description:\n\nOne way to reach height $40$ using only $3$ cows: $18+11+13$. Of course, there are other ways, which are not listed here.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO07DEC] Bookshelf B", "background": null, "description": "Farmer John 最近为奶牛们的图书馆添置了一个巨大的书架，尽管它是如此的大，但它还是几乎瞬间就被各种各样的书塞满了。现在，只有书架的顶上还留有一点空间。\n\n所有 $N(1 \\le N \\le 20,000)$ 头奶牛都有一个确定的身高 $H_i(1 \\le H_i \\le 10,000)$。设所有奶牛身高的和为 $S$。书架的高度为 $B$，并且保证 $1 \\le B \\le S < 2,000,000,007$。\n\n为了够到比最高的那头奶牛还要高的书架顶，奶牛们不得不像演杂技一般，一头站在另一头的背上，叠成一座“奶牛塔”。当然，这个塔的高度，就是塔中所有奶牛的身高之和。为了往书架顶上放东西，所有奶牛的身高和必须不小于书架的高度。\n\n显然，塔中的奶牛数目越多，整座塔就越不稳定，于是奶牛们希望在能够到书架顶的前提下，让塔中奶牛的数目尽量少。现在，奶牛们找到了你，希望你帮她们计算这个最小的数目。", "inputFormat": "* 第 $1$ 行：2 个用空格隔开的整数：$N$ 和 $B$；\n* 第 $2\\dots N+1$ 行：第 $i+1$ 行是 $1$ 个整数：$H_i$。", "outputFormat": "* 第 $1$ 行：输出 $1$ 个整数，即最少要多少头奶牛叠成塔，才能够到书架顶部。", "hint": "输入说明：\n\n一共有 $6$ 头奶牛，书架的高度为 $40$，奶牛们的身高在 $6\\dots19$ 之间。\n\n\n输出说明：\n\n一种只用 $3$ 头奶牛就达到高度 $40$ 的方法：$18+11+13$。当然还有其他方法，在此不一一列出了。", "locale": "zh-CN"}}}
{"pid": "P2677", "type": "P", "difficulty": 2, "samples": [["5 16\n3\n1\n3\n5\n6", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2007", "USACO"], "title": "[USACO07DEC] Bookshelf 2 B", "background": null, "description": "Farmer John 最近为奶牛们的图书馆添置了一个巨大的书架，尽管它是如此的大，但它还是几乎瞬间就被各种各样的书塞满了。现在，只有书架的顶上还留有一点空间。所有 $N(1\\le N\\le20)$ 头奶牛都有一个确定的身高 $H_i(1\\le H_i\\le1,000,000$（好高的奶牛 >_<）$)$。设所有奶牛身高的和为 $S$。书架的高度为 $B$，并且保证 $1\\le B\\le S$。为了够到比最高的那头奶牛还要高的书架顶，奶牛们不得不象演杂技一般，一头站在另一头的背上，叠成一座“奶牛塔”。当然，这个塔的高度，就是塔中所有奶牛的身高之和。为了往书架顶上放东西，所有奶牛的身高和必须不小于书架的高度。塔叠得越高便越不稳定，于是奶牛们希望找到一种方案，使得叠出的塔在高度不小于书架高度的情况下，高度尽可能小。你也可以猜到你的任务了：写一个程序，计算奶牛们叠成的塔在满足要求的情况下，最少要比书架高多少。", "inputFormat": "第 $1$ 行：$2$ 个用空格隔开的整数：$N$ 和 $B$。\n\n第 $2 \\sim N+1$ 行：第 $i+1$ 行是 $1$ 个整数：$H_i$。", "outputFormat": "第 $1$ 行: 输出 $1$ 个非负整数，即奶牛们叠成的塔最少比书架高的高度。", "hint": "输出说明：\n\n我们选用奶牛 $1$、$3$、$4$、$5$ 叠成塔，她们的总高度为 $3+3+5+6=17$。任何方案都无法叠出高度为 $16$ 的塔，于是答案为 $1$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO07DEC] Bookshelf 2 B", "background": "", "description": "Farmer John recently added a huge bookshelf to the cows' library. Although it is very large, it was almost instantly filled with all kinds of books. Now, only a bit of space remains at the top of the shelf. All $N$ cows ($1 \\le N \\le 20$) each have a fixed height $H_i$ ($1 \\le H_i \\le 1{,}000{,}000$) (such tall cows >_<). Let the sum of all cow heights be $S$. The shelf height is $B$, and it is guaranteed that $1 \\le B \\le S$.\n\nTo reach the top of the shelf, which is higher than the tallest cow, the cows have to perform acrobatics: one stands on another's back, forming a “cow tower.” The height of the tower is the sum of the heights of the cows in it. To place items on the top of the shelf, the sum of the heights of the cows in the tower must be at least the shelf height.\n\nThe taller the tower, the more unstable it becomes, so the cows want to find a plan such that, among all towers with height at least $B$, the height is as small as possible. Your task is to write a program to compute, under this requirement, how much taller than the shelf the tower must be, minimized.", "inputFormat": "Line $1$: Two space-separated integers: $N$ and $B$.\n\nLines $2$ to $N+1$: Line $i+1$ contains a single integer $H_i$.", "outputFormat": "Line $1$: Output a non-negative integer, the minimal amount by which the tower’s height exceeds the shelf height.", "hint": "We choose cows $1$, $3$, $4$, and $5$ to form a tower; their total height is $3+3+5+6=17$. No arrangement can form a tower of height $16$, so the answer is $1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO07DEC] Bookshelf 2 B", "background": null, "description": "Farmer John 最近为奶牛们的图书馆添置了一个巨大的书架，尽管它是如此的大，但它还是几乎瞬间就被各种各样的书塞满了。现在，只有书架的顶上还留有一点空间。所有 $N(1\\le N\\le20)$ 头奶牛都有一个确定的身高 $H_i(1\\le H_i\\le1,000,000$（好高的奶牛 >_<）$)$。设所有奶牛身高的和为 $S$。书架的高度为 $B$，并且保证 $1\\le B\\le S$。为了够到比最高的那头奶牛还要高的书架顶，奶牛们不得不象演杂技一般，一头站在另一头的背上，叠成一座“奶牛塔”。当然，这个塔的高度，就是塔中所有奶牛的身高之和。为了往书架顶上放东西，所有奶牛的身高和必须不小于书架的高度。塔叠得越高便越不稳定，于是奶牛们希望找到一种方案，使得叠出的塔在高度不小于书架高度的情况下，高度尽可能小。你也可以猜到你的任务了：写一个程序，计算奶牛们叠成的塔在满足要求的情况下，最少要比书架高多少。", "inputFormat": "第 $1$ 行：$2$ 个用空格隔开的整数：$N$ 和 $B$。\n\n第 $2 \\sim N+1$ 行：第 $i+1$ 行是 $1$ 个整数：$H_i$。", "outputFormat": "第 $1$ 行: 输出 $1$ 个非负整数，即奶牛们叠成的塔最少比书架高的高度。", "hint": "输出说明：\n\n我们选用奶牛 $1$、$3$、$4$、$5$ 叠成塔，她们的总高度为 $3+3+5+6=17$。任何方案都无法叠出高度为 $16$ 的塔，于是答案为 $1$。", "locale": "zh-CN"}}}
{"pid": "P2678", "type": "P", "difficulty": 3, "samples": [["25 5 2 \n2\n11\n14\n17 \n21", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2015", "二分", "NOIP 提高组"], "title": "[NOIP 2015 提高组] 跳石头", "background": "NOIP2015 Day2T1", "description": "一年一度的“跳石头”比赛又要开始了！\n\n这项比赛将在一条笔直的河道中进行，河道中分布着一些巨大岩石。组委会已经选择好了两块岩石作为比赛起点和终点。在起点和终点之间，有 $N$ 块岩石（不含起点和终点的岩石）。在比赛过程中，选手们将从起点出发，每一步跳向相邻的岩石，直至到达终点。\n\n为了提高比赛难度，组委会计划移走一些岩石，使得选手们在比赛过程中的最短跳跃距离尽可能长。由于预算限制，组委会至多从起点和终点之间移走 $M$ 块岩石（不能移走起点和终点的岩石）。", "inputFormat": "第一行包含三个整数 $L,N,M$，分别表示起点到终点的距离，起点和终点之间的岩石数，以及组委会至多移走的岩石数。保证 $L \\geq 1$ 且 $N \\geq M \\geq 0$。\n\n接下来 $N$ 行，每行一个整数，第 $i$ 行的整数 $D_i\\,( 0 < D_i < L)$， 表示第 $i$ 块岩石与起点的距离。这些岩石按与起点距离从小到大的顺序给出，且不会有两个岩石出现在同一个位置。", "outputFormat": "一个整数，即最短跳跃距离的最大值。", "hint": "### 输入输出样例 1 说明\n\n将与起点距离为 $2$ 和 $14$ 的两个岩石移走后，最短的跳跃距离为 $4$（从与起点距离 $17$ 的岩石跳到距离 $21$ 的岩石，或者从距离 $21$ 的岩石跳到终点）。\n\n### 数据规模与约定\n\n对于 $20\\%$的数据，$0 \\le M \\le N \\le 10$。    \n对于 $50\\%$ 的数据，$0 \\le M \\le N \\le 100$。  \n对于 $100\\%$ 的数据，$0 \\le M \\le N \\le 50000,1 \\le L \n \\le 10^9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Senior] Jumping Stones", "background": "NOIP 2015 Day 2 T1.", "description": "The annual \"Jumping Stones\" competition is about to begin.\n\nThe competition takes place in a straight river channel where some huge rocks are distributed. The organizing committee has chosen two rocks as the start and the finish. Between the start and the finish, there are $N$ rocks (excluding the start and finish rocks). During the competition, participants start from the start rock and jump to an adjacent rock at each step until they reach the finish.\n\nTo increase the difficulty, the committee plans to remove some rocks so that the minimum jump distance during the competition is as large as possible. Due to budget limits, the committee can remove at most $M$ rocks between the start and the finish (the start and finish rocks cannot be removed).", "inputFormat": "The first line contains three integers $L, N, M$, representing the distance from the start to the finish, the number of rocks between the start and the finish, and the maximum number of rocks the committee may remove, respectively. It is guaranteed that $L \\geq 1$ and $N \\geq M \\geq 0$.\n\nThe next $N$ lines each contain one integer. On the $i$-th line, the integer $D_i\\,(0 < D_i < L)$ denotes the distance from the start to the $i$-th rock. These rocks are given in increasing order of distance from the start, and no two rocks are at the same position.", "outputFormat": "Output a single integer, which is the maximum possible minimum jump distance.", "hint": "### Explanation for Sample Input/Output 1\n\nAfter removing the two rocks at distances $2$ and $14$ from the start, the minimum jump distance becomes $4$ (either when jumping from the rock at distance $17$ to the rock at distance $21$, or from the rock at distance $21$ to the finish).\n\n### Constraints\n\n- For $20\\%$ of the testdata, $0 \\le M \\le N \\le 10$.\n- For $50\\%$ of the testdata, $0 \\le M \\le N \\le 100$.\n- For $100\\%$ of the testdata, $0 \\le M \\le N \\le 50000$, $1 \\le L \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 提高组] 跳石头", "background": "NOIP2015 Day2T1", "description": "一年一度的“跳石头”比赛又要开始了！\n\n这项比赛将在一条笔直的河道中进行，河道中分布着一些巨大岩石。组委会已经选择好了两块岩石作为比赛起点和终点。在起点和终点之间，有 $N$ 块岩石（不含起点和终点的岩石）。在比赛过程中，选手们将从起点出发，每一步跳向相邻的岩石，直至到达终点。\n\n为了提高比赛难度，组委会计划移走一些岩石，使得选手们在比赛过程中的最短跳跃距离尽可能长。由于预算限制，组委会至多从起点和终点之间移走 $M$ 块岩石（不能移走起点和终点的岩石）。", "inputFormat": "第一行包含三个整数 $L,N,M$，分别表示起点到终点的距离，起点和终点之间的岩石数，以及组委会至多移走的岩石数。保证 $L \\geq 1$ 且 $N \\geq M \\geq 0$。\n\n接下来 $N$ 行，每行一个整数，第 $i$ 行的整数 $D_i\\,( 0 < D_i < L)$， 表示第 $i$ 块岩石与起点的距离。这些岩石按与起点距离从小到大的顺序给出，且不会有两个岩石出现在同一个位置。", "outputFormat": "一个整数，即最短跳跃距离的最大值。", "hint": "### 输入输出样例 1 说明\n\n将与起点距离为 $2$ 和 $14$ 的两个岩石移走后，最短的跳跃距离为 $4$（从与起点距离 $17$ 的岩石跳到距离 $21$ 的岩石，或者从距离 $21$ 的岩石跳到终点）。\n\n### 数据规模与约定\n\n对于 $20\\%$的数据，$0 \\le M \\le N \\le 10$。    \n对于 $50\\%$ 的数据，$0 \\le M \\le N \\le 100$。  \n对于 $100\\%$ 的数据，$0 \\le M \\le N \\le 50000,1 \\le L \n \\le 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P2679", "type": "P", "difficulty": 4, "samples": [["6 3 1 \naabaab \naab", "2"], ["6 3 2 \naabaab \naab", "7"], ["6 3 3 \naabaab \naab", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "动态规划 DP", "2015", "NOIP 提高组", "O2优化", "枚举"], "title": "[NOIP 2015 提高组] 子串", "background": "NOIP2015 Day2T2", "description": "有两个仅包含小写英文字母的字符串 $A$ 和 $B$。\n\n现在要从字符串 $A$ 中取出 $k$ 个互不重叠的非空子串，然后把这 $k$ 个子串按照其在字符串 $A$ 中出现的顺序依次连接起来得到一个新的字符串。请问有多少种方案可以使得这个新串与字符串 $B$ 相等？\n\n注意：子串取出的位置不同也认为是不同的方案。", "inputFormat": "第一行是三个正整数 $n,m,k$，分别表示字符串 $A$ 的长度，字符串 $B$ 的长度，以及问题描述中所提到的 $k$，每两个整数之间用一个空格隔开。\n\n第二行包含一个长度为 $n$ 的字符串，表示字符串 $A$。\n\n第三行包含一个长度为 $m$ 的字符串，表示字符串 $B$。", "outputFormat": "一个整数，表示所求方案数。\n\n由于答案可能很大，所以这里要求输出答案对 $1000000007(10^9 + 7)$ 取模的结果。", "hint": "**样例解释**\n\n所有合法方案如下：（加下划线的部分表示取出的字串）\n\n样例 $1$：$\\texttt{\\underline{aab}\\,aab,aab\\,\\underline{aab}}$。  \n样例 $2$：$\\texttt{\\underline{a}\\,\\underline{ab}\\,aab,\\underline{a}\\,aba\\,\\underline{ab},a\\,\\underline{a}\\,ba\\,\\underline{ab},aab\\,\\underline{a}\\,\\underline{ab},\\underline{aa}\\,\\underline{b}\\,aab,\\underline{aa}\\,baa\\,\\underline{b},aab\\,\\underline{aa}\\,\\underline{b}}$。  \n样例 $3$：$\\texttt{\\underline{a}\\,\\underline{a}\\,\\underline{b}\\,aab,\\underline{a}\\,\\underline{a}\\,baa\\,\\underline{b},\\underline{a}\\,ab\\,\\underline{a}\\,a\\,\\underline{b},\\underline{a}\\,aba\\,\\underline{a}\\,\\underline{b},a\\,\\underline{a}\\,b\\,\\underline{a}\\,a\\,\\underline{b},a\\,\\underline{a}\\,ba\\,\\underline{a}\\,\\underline{b},aab\\,\\underline{a}\\,\\underline{a}\\,\\underline{b}}$。\n\n**数据范围**\n\n对于第 $1$ 组数据：$1\\le n\\le 500,1\\le m\\le 50,k=1$;  \n对于第 $2$ 组至第 $3$ 组数据：$1\\le n\\le 500,1\\le m\\le 50,k=2$;  \n对于第 $4$ 组至第 $5$ 组数据：$1\\le n\\le 500,1\\le m\\le 50,k=m$;   \n对于第 $1$ 组至第 $7$ 组数据：$\\le n\\le 500,1\\le m\\le 50,1\\le k\\le m$;  \n对于第 $1$ 组至第 $9$ 组数据：$1\\le n\\le 1000,1\\le m\\le 100,1\\le k\\le m$;   \n对于所有 $10$ 组数据：$1\\le n\\le 1000,1\\le m\\le 200,1\\le k\\le m$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Senior] Substring", "background": "NOIP 2015 Day2T2.", "description": "There are two strings $A$ and $B$ consisting only of lowercase English letters.\n\nWe will select $k$ pairwise non-overlapping, non-empty substrings from string $A$, then concatenate these $k$ substrings in the order they appear in $A$ to obtain a new string. How many ways are there to make this new string equal to string $B$?\n\nNote: Different selection positions are considered different ways.", "inputFormat": "The first line contains three positive integers $n, m, k$, representing the length of string $A$, the length of string $B$, and the $k$ mentioned in the problem statement, respectively. Each pair of integers is separated by a single space.\n\nThe second line contains a string of length $n$, which is string $A$.\n\nThe third line contains a string of length $m$, which is string $B$.", "outputFormat": "Output a single integer, the number of required ways.\n\nSince the answer may be large, output the result modulo $1000000007$.", "hint": "**Sample Explanation**\n\nAll valid ways are as follows (the underlined parts indicate the selected substrings):\n\nSample 1: $\\texttt{\\underline{aab}\\,aab,aab\\,\\underline{aab}}$.\n\nSample 2: $\\texttt{\\underline{a}\\,\\underline{ab}\\,aab,\\underline{a}\\,aba\\,\\underline{ab},a\\,\\underline{a}\\,ba\\,\\underline{ab},aab\\,\\underline{a}\\,\\underline{ab},\\underline{aa}\\,\\underline{b}\\,aab,\\underline{aa}\\,baa\\,\\underline{b},aab\\,\\underline{aa}\\,\\underline{b}}$.\n\nSample 3: $\\texttt{\\underline{a}\\,\\underline{a}\\,\\underline{b}\\,aab,\\underline{a}\\,\\underline{a}\\,baa\\,\\underline{b},\\underline{a}\\,ab\\,\\underline{a}\\,a\\,\\underline{b},\\underline{a}\\,aba\\,\\underline{a}\\,\\underline{b},a\\,\\underline{a}\\,b\\,\\underline{a}\\,a\\,\\underline{b},a\\,\\underline{a}\\,ba\\,\\underline{a}\\,\\underline{b},aab\\,\\underline{a}\\,\\underline{a}\\,\\underline{b}}$.\n\n**Constraints**\n\nFor testdata 1: $1 \\le n \\le 500, 1 \\le m \\le 50, k = 1$;\n\nFor testdata 2 to 3: $1 \\le n \\le 500, 1 \\le m \\le 50, k = 2$;\n\nFor testdata 4 to 5: $1 \\le n \\le 500, 1 \\le m \\le 50, k = m$;\n\nFor testdata 1 to 7: $1 \\le n \\le 500, 1 \\le m \\le 50, 1 \\le k \\le m$;\n\nFor testdata 1 to 9: $1 \\le n \\le 1000, 1 \\le m \\le 100, 1 \\le k \\le m$;\n\nFor all 10 testdata sets: $1 \\le n \\le 1000, 1 \\le m \\le 200, 1 \\le k \\le m$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 提高组] 子串", "background": "NOIP2015 Day2T2", "description": "有两个仅包含小写英文字母的字符串 $A$ 和 $B$。\n\n现在要从字符串 $A$ 中取出 $k$ 个互不重叠的非空子串，然后把这 $k$ 个子串按照其在字符串 $A$ 中出现的顺序依次连接起来得到一个新的字符串。请问有多少种方案可以使得这个新串与字符串 $B$ 相等？\n\n注意：子串取出的位置不同也认为是不同的方案。", "inputFormat": "第一行是三个正整数 $n,m,k$，分别表示字符串 $A$ 的长度，字符串 $B$ 的长度，以及问题描述中所提到的 $k$，每两个整数之间用一个空格隔开。\n\n第二行包含一个长度为 $n$ 的字符串，表示字符串 $A$。\n\n第三行包含一个长度为 $m$ 的字符串，表示字符串 $B$。", "outputFormat": "一个整数，表示所求方案数。\n\n由于答案可能很大，所以这里要求输出答案对 $1000000007(10^9 + 7)$ 取模的结果。", "hint": "**样例解释**\n\n所有合法方案如下：（加下划线的部分表示取出的字串）\n\n样例 $1$：$\\texttt{\\underline{aab}\\,aab,aab\\,\\underline{aab}}$。  \n样例 $2$：$\\texttt{\\underline{a}\\,\\underline{ab}\\,aab,\\underline{a}\\,aba\\,\\underline{ab},a\\,\\underline{a}\\,ba\\,\\underline{ab},aab\\,\\underline{a}\\,\\underline{ab},\\underline{aa}\\,\\underline{b}\\,aab,\\underline{aa}\\,baa\\,\\underline{b},aab\\,\\underline{aa}\\,\\underline{b}}$。  \n样例 $3$：$\\texttt{\\underline{a}\\,\\underline{a}\\,\\underline{b}\\,aab,\\underline{a}\\,\\underline{a}\\,baa\\,\\underline{b},\\underline{a}\\,ab\\,\\underline{a}\\,a\\,\\underline{b},\\underline{a}\\,aba\\,\\underline{a}\\,\\underline{b},a\\,\\underline{a}\\,b\\,\\underline{a}\\,a\\,\\underline{b},a\\,\\underline{a}\\,ba\\,\\underline{a}\\,\\underline{b},aab\\,\\underline{a}\\,\\underline{a}\\,\\underline{b}}$。\n\n**数据范围**\n\n对于第 $1$ 组数据：$1\\le n\\le 500,1\\le m\\le 50,k=1$;  \n对于第 $2$ 组至第 $3$ 组数据：$1\\le n\\le 500,1\\le m\\le 50,k=2$;  \n对于第 $4$ 组至第 $5$ 组数据：$1\\le n\\le 500,1\\le m\\le 50,k=m$;   \n对于第 $1$ 组至第 $7$ 组数据：$\\le n\\le 500,1\\le m\\le 50,1\\le k\\le m$;  \n对于第 $1$ 组至第 $9$ 组数据：$1\\le n\\le 1000,1\\le m\\le 100,1\\le k\\le m$;   \n对于所有 $10$ 组数据：$1\\le n\\le 1000,1\\le m\\le 200,1\\le k\\le m$。", "locale": "zh-CN"}}}
{"pid": "P2680", "type": "P", "difficulty": 5, "samples": [["6 3 \n1 2 3 \n1 6 4 \n3 1 7 \n4 3 6 \n3 5 5 \n3 6 \n2 5 \n4 5", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["图论", "2015", "二分", "NOIP 提高组", "最近公共祖先 LCA", "树链剖分", "差分"], "title": "[NOIP 2015 提高组] 运输计划", "background": "NOIP2015 Day2T3", "description": "公元 $2044$ 年，人类进入了宇宙纪元。\n\nL 国有 $n$ 个星球，还有 $n-1$ 条双向航道，每条航道建立在两个星球之间，这 $n-1$ 条航道连通了 L 国的所有星球。\n\n小 P 掌管一家物流公司， 该公司有很多个运输计划，每个运输计划形如：有一艘物流飞船需要从 $u_i$ 号星球沿最快的宇航路径飞行到 $v_i$ 号星球去。显然，飞船驶过一条航道是需要时间的，对于航道 $j$，任意飞船驶过它所花费的时间为 $t_j$，并且任意两艘飞船之间不会产生任何干扰。\n\n为了鼓励科技创新， L 国国王同意小 P 的物流公司参与 L 国的航道建设，即允许小 P 把某一条航道改造成虫洞，飞船驶过虫洞不消耗时间。\n\n在虫洞的建设完成前小 P 的物流公司就预接了 $m$ 个运输计划。在虫洞建设完成后，这 $m$ 个运输计划会同时开始，所有飞船一起出发。当这 $m$ 个运输计划都完成时，小 P 的物流公司的阶段性工作就完成了。\n\n如果小 P 可以自由选择将哪一条航道改造成虫洞， 试求出小 P 的物流公司完成阶段性工作所需要的最短时间是多少？", "inputFormat": "第一行包括两个正整数 $n, m$，表示 L 国中星球的数量及小 P 公司预接的运输计划的数量，星球从 $1$ 到 $n$ 编号。\n\n接下来 $n-1$ 行描述航道的建设情况，其中第 $i$ 行包含三个整数 $a_i, b_i$ 和 $t_i$，表示第 $i$ 条双向航道修建在 $a_i$ 与 $b_i$ 两个星球之间，任意飞船驶过它所花费的时间为 $t_i$。  \n\n接下来 $m$ 行描述运输计划的情况，其中第 $j$ 行包含两个正整数 $u_j$ 和 $v_j$，表示第 $j$ 个运输计划是从 $u_j$ 号星球飞往 $v_j$ 号星球。", "outputFormat": "一个整数，表示小 P 的物流公司完成阶段性工作所需要的最短时间。", "hint": "所有测试数据的范围和特点如下表所示\n\n| 测试点编号 | $n = $ | $m = $ | 约定 | \n| :-: | :-: | :-: | :-: |\n| 1 | $100$ | $1$ | |\n| 2 | ^ | $100$ | 第 $i$ 条航道连接 $i$ 号星球与 $i + 1$ 号星球 |\n| 3 | ^ | ^ | |\n| 4 | $2000$ | $1$ | ^ |\n| 5 | $1000$ | $1000$ | 第 $i$ 条航道连接 $i$ 号星球与 $i + 1$ 号星球 | \n| 6 | $2000$ | $2000$ | ^ |\n| 7 | $3000$ | $3000$ | ^ |\n| 8 | $1000$ | $1000$ | |\n| 9 | $2000$ | $2000$ | ^ |\n| 10 | $3000$ | $3000$ | ^ |\n| 11 | $80000$ | $1$ | ^ |\n| 12 | $100000$ | ^ | ^ |\n| 13 | $70000$ | $70000$ | 第 $i$ 条航道连接 $i$ 号星球与 $i + 1$ 号星球 |\n| 14 | $80000$ | $80000$ |^ |\n| 15 | $90000$ | $90000$ | ^ |\n| 16 | $100000$ | $100000$ | ^ |\n| 17 | $80000$ | $80000$ | |\n| 18 | $90000$ | $90000$ | ^ |\n| 19 | $100000$ | $100000$ | ^ |\n| 20 | $300000$ | $300000$ | ^ |\n| 所有数据 | | | $1 \\le a _ i, b _ i, u _ j, v _ j \\le n$，$0 \\le t _ i \\le 1000$ |\n\n**请注意常数因子带来的程序效率上的影响。**", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Senior] Transportation Plan", "background": "NOIP 2015 Day 2 T3.", "description": "In the year $2044$, humanity entered the cosmic era.\n\nCountry L has $n$ planets and $n-1$ bidirectional routes. Each route is built between two planets, and these $n-1$ routes connect all the planets in Country L.\n\nXiao P runs a logistics company that has many transportation plans. Each plan is as follows: a cargo spaceship needs to travel from planet $u_i$ to planet $v_i$ along the fastest space route. Obviously, traversing a route takes time. For route $j$, any spaceship takes time $t_j$ to traverse it, and any two spaceships do not interfere with each other.\n\nTo encourage technological innovation, the king of Country L allows Xiao P’s logistics company to participate in route construction, that is, to transform one route into a wormhole. Traversing the wormhole takes no time.\n\nBefore the wormhole is completed, Xiao P’s company has already pre-booked $m$ transportation plans. After the wormhole is completed, these $m$ plans will start simultaneously, and all spaceships depart together. When all $m$ plans are completed, Xiao P’s company finishes this phase of work.\n\nIf Xiao P can freely choose which route to convert into a wormhole, find the minimum time required for the company to complete this phase of work.", "inputFormat": "The first line contains two positive integers $n, m$, representing the number of planets in Country L and the number of transportation plans pre-booked by Xiao P’s company. Planets are numbered from $1$ to $n$.\n\nThe next $n-1$ lines describe the construction of the routes. The $i$-th line contains three integers $a_i, b_i$, and $t_i$, indicating that the $i$-th bidirectional route is built between planets $a_i$ and $b_i$, and any spaceship takes time $t_i$ to traverse it.  \n\nThe next $m$ lines describe the transportation plans. The $j$-th line contains two positive integers $u_j$ and $v_j$, indicating that the $j$-th plan is to travel from planet $u_j$ to planet $v_j$.", "outputFormat": "Output one integer, the minimum time required for Xiao P’s logistics company to complete this phase of work.", "hint": "The Constraints and characteristics of all testdata are shown in the table below.\n\n| Test point ID | $n = $ | $m = $ | Convention | \n| :-: | :-: | :-: | :-: |\n| 1 | $100$ | $1$ | |\n| 2 | ^ | $100$ | The $i$-th route connects planet $i$ and planet $i + 1$. |\n| 3 | ^ | ^ | |\n| 4 | $2000$ | $1$ | ^ |\n| 5 | $1000$ | $1000$ | The $i$-th route connects planet $i$ and planet $i + 1$. | \n| 6 | $2000$ | $2000$ | ^ |\n| 7 | $3000$ | $3000$ | ^ |\n| 8 | $1000$ | $1000$ | |\n| 9 | $2000$ | $2000$ | ^ |\n| 10 | $3000$ | $3000$ | ^ |\n| 11 | $80000$ | $1$ | ^ |\n| 12 | $100000$ | ^ | ^ |\n| 13 | $70000$ | $70000$ | The $i$-th route connects planet $i$ and planet $i + 1$. |\n| 14 | $80000$ | $80000$ | ^ |\n| 15 | $90000$ | $90000$ | ^ |\n| 16 | $100000$ | $100000$ | ^ |\n| 17 | $80000$ | $80000$ | |\n| 18 | $90000$ | $90000$ | ^ |\n| 19 | $100000$ | $100000$ | ^ |\n| 20 | $300000$ | $300000$ | ^ |\n| All testdata | | | $1 \\le a _ i, b _ i, u _ j, v _ j \\le n$，$0 \\le t _ i \\le 1000$ |\n\nPlease pay attention to the impact of constant factors on program efficiency.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 提高组] 运输计划", "background": "NOIP2015 Day2T3", "description": "公元 $2044$ 年，人类进入了宇宙纪元。\n\nL 国有 $n$ 个星球，还有 $n-1$ 条双向航道，每条航道建立在两个星球之间，这 $n-1$ 条航道连通了 L 国的所有星球。\n\n小 P 掌管一家物流公司， 该公司有很多个运输计划，每个运输计划形如：有一艘物流飞船需要从 $u_i$ 号星球沿最快的宇航路径飞行到 $v_i$ 号星球去。显然，飞船驶过一条航道是需要时间的，对于航道 $j$，任意飞船驶过它所花费的时间为 $t_j$，并且任意两艘飞船之间不会产生任何干扰。\n\n为了鼓励科技创新， L 国国王同意小 P 的物流公司参与 L 国的航道建设，即允许小 P 把某一条航道改造成虫洞，飞船驶过虫洞不消耗时间。\n\n在虫洞的建设完成前小 P 的物流公司就预接了 $m$ 个运输计划。在虫洞建设完成后，这 $m$ 个运输计划会同时开始，所有飞船一起出发。当这 $m$ 个运输计划都完成时，小 P 的物流公司的阶段性工作就完成了。\n\n如果小 P 可以自由选择将哪一条航道改造成虫洞， 试求出小 P 的物流公司完成阶段性工作所需要的最短时间是多少？", "inputFormat": "第一行包括两个正整数 $n, m$，表示 L 国中星球的数量及小 P 公司预接的运输计划的数量，星球从 $1$ 到 $n$ 编号。\n\n接下来 $n-1$ 行描述航道的建设情况，其中第 $i$ 行包含三个整数 $a_i, b_i$ 和 $t_i$，表示第 $i$ 条双向航道修建在 $a_i$ 与 $b_i$ 两个星球之间，任意飞船驶过它所花费的时间为 $t_i$。  \n\n接下来 $m$ 行描述运输计划的情况，其中第 $j$ 行包含两个正整数 $u_j$ 和 $v_j$，表示第 $j$ 个运输计划是从 $u_j$ 号星球飞往 $v_j$ 号星球。", "outputFormat": "一个整数，表示小 P 的物流公司完成阶段性工作所需要的最短时间。", "hint": "所有测试数据的范围和特点如下表所示\n\n| 测试点编号 | $n = $ | $m = $ | 约定 | \n| :-: | :-: | :-: | :-: |\n| 1 | $100$ | $1$ | |\n| 2 | ^ | $100$ | 第 $i$ 条航道连接 $i$ 号星球与 $i + 1$ 号星球 |\n| 3 | ^ | ^ | |\n| 4 | $2000$ | $1$ | ^ |\n| 5 | $1000$ | $1000$ | 第 $i$ 条航道连接 $i$ 号星球与 $i + 1$ 号星球 | \n| 6 | $2000$ | $2000$ | ^ |\n| 7 | $3000$ | $3000$ | ^ |\n| 8 | $1000$ | $1000$ | |\n| 9 | $2000$ | $2000$ | ^ |\n| 10 | $3000$ | $3000$ | ^ |\n| 11 | $80000$ | $1$ | ^ |\n| 12 | $100000$ | ^ | ^ |\n| 13 | $70000$ | $70000$ | 第 $i$ 条航道连接 $i$ 号星球与 $i + 1$ 号星球 |\n| 14 | $80000$ | $80000$ |^ |\n| 15 | $90000$ | $90000$ | ^ |\n| 16 | $100000$ | $100000$ | ^ |\n| 17 | $80000$ | $80000$ | |\n| 18 | $90000$ | $90000$ | ^ |\n| 19 | $100000$ | $100000$ | ^ |\n| 20 | $300000$ | $300000$ | ^ |\n| 所有数据 | | | $1 \\le a _ i, b _ i, u _ j, v _ j \\le n$，$0 \\le t _ i \\le 1000$ |\n\n**请注意常数因子带来的程序效率上的影响。**", "locale": "zh-CN"}}}
{"pid": "P2681", "type": "P", "difficulty": 2, "samples": [["5 3\n1 1 2 2 1\n0 1 4\n1 2 3\n0 1 4", "1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2016", "洛谷原创", "洛谷月赛"], "title": "众数", "background": "Alice 和 Bob 玩游戏。\n\n", "description": "Alice 现在有一个序列 $a_1,a_2,...a_n$。\n\n现在她需要 Bob 支持询问一个区间内的众数,还要支持修改一个位置的 $a_i$。", "inputFormat": "第一行两个整数 $n,m$。\n\n第二行 $n$ 个整数，表示 $a_1,...,a_n$。\n\n接下来 $m$ 行，每行三个整数 $flag,x,y$。\n\n如果 $flag=0$，表示询问 $\\big[x,y\\big]$ 区间内的众数，如果有多个输出较小的。\n\n如果 $flag=1$，表示将 $a_x$ 改为 $y$。", "outputFormat": "对于每个 $flag=0$ 的询问，每行输出一个整数表示答案。", "hint": "对于 $100\\%$ 的数据 $n,m \\le 1000$。\n\n对于查询操作满足 $x\\le y$。\n\n任意时刻 $0<a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Mode", "background": "Alice and Bob are playing a game.", "description": "Alice has a sequence $a_1,a_2,...a_n$. Now she needs Bob to support querying the mode within a range, and also support modifying a position $a_i$.", "inputFormat": "The first line contains two integers $n, m$.\n\nThe second line contains $n$ integers, representing $a_1,...,a_n$.\n\nThe next $m$ lines each contain three integers $flag, x, y$.\n\nIf $flag=0$, it queries the mode in the range $\\big[x,y\\big]$. If there are multiple, output the smaller one.\n\nIf $flag=1$, it sets $a_x$ to $y$.", "outputFormat": "For each query with $flag=0$, output one integer per line representing the answer.", "hint": "For 100% of the testdata, $n, m \\le 1000$.\n\nFor all query operations, $x \\le y$.\n\nAt any time $0 < a_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "众数", "background": "Alice 和 Bob 玩游戏。\n\n", "description": "Alice 现在有一个序列 $a_1,a_2,...a_n$。\n\n现在她需要 Bob 支持询问一个区间内的众数,还要支持修改一个位置的 $a_i$。", "inputFormat": "第一行两个整数 $n,m$。\n\n第二行 $n$ 个整数，表示 $a_1,...,a_n$。\n\n接下来 $m$ 行，每行三个整数 $flag,x,y$。\n\n如果 $flag=0$，表示询问 $\\big[x,y\\big]$ 区间内的众数，如果有多个输出较小的。\n\n如果 $flag=1$，表示将 $a_x$ 改为 $y$。", "outputFormat": "对于每个 $flag=0$ 的询问，每行输出一个整数表示答案。", "hint": "对于 $100\\%$ 的数据 $n,m \\le 1000$。\n\n对于查询操作满足 $x\\le y$。\n\n任意时刻 $0<a_i\\le 10^9$。", "locale": "zh-CN"}}}
