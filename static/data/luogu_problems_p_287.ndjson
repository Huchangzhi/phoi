{"pid": "P6810", "type": "P", "difficulty": 5, "samples": [["5 7 9", "5"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "数论", "洛谷原创", "最大公约数 gcd"], "title": "「MCOI-02」Convex Hull 凸包", "background": "一场比赛需要一道签到题。", "description": "Leasier 玩 MC 被逮到了，所以他只好算出下面这个式子的值。\n\n$$\\displaystyle\\sum_{i = 1}^n \\sum_{j = 1}^m \\tau(i) \\tau(j) \\tau(\\gcd(i, j))$$\n\n由于结果可能很大，所以你只需要求出结果对 $p$ 取模的值。\n\n如果您对本题的数学符号有疑问，请到「提示」区查看提示。", "inputFormat": "一行，三个整数 $n, m, p$。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "#### 数据规模和约定\n**本题开启捆绑测试。**\n\n| Subtask | $n, m$ | 分值 |\n| :------: | :------: | :------: |\n| $1$ | $1 \\leq n, m \\leq 10^3$ | $15 \\operatorname{pts}$ |\n| $2$ | $1 \\leq n, m \\leq 10^5$ | $25 \\operatorname{pts}$ |\n| $3$ | $1 \\leq n, m \\leq 10^6$ | $30 \\operatorname{pts}$ |\n| $4$ | 无特殊限制 | $30 \\operatorname{pts}$ |\n\n对于 $100\\%$ 的数据，$1 \\leq n, m \\leq 2 \\times 10^6$，$1 \\leq p \\leq 10^9$。\n#### 提示\n作为对萌新友好的签到题，肯定是要给提示的。\n\n- $\\sum$ 为求和符号，比如 $\\displaystyle\\sum_{i = 1}^n i$ 代表 $1 + 2 + \\cdots + n$。\n- $\\tau$ 表示约数个数，比如 $\\tau(6) = 4$。\n- $\\gcd$ 是最大公约数，比如 $\\gcd(12, 15) = 3$。\n#### 说明\nMinecraft OI Round 2 A\n\n- Maker：Leasier\n- Tester：happydef", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-02」Convex Hull 凸包", "background": "一场比赛需要一道签到题。", "description": "Leasier 玩 MC 被逮到了，所以他只好算出下面这个式子的值。\n\n$$\\displaystyle\\sum_{i = 1}^n \\sum_{j = 1}^m \\tau(i) \\tau(j) \\tau(\\gcd(i, j))$$\n\n由于结果可能很大，所以你只需要求出结果对 $p$ 取模的值。\n\n如果您对本题的数学符号有疑问，请到「提示」区查看提示。", "inputFormat": "一行，三个整数 $n, m, p$。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "#### 数据规模和约定\n**本题开启捆绑测试。**\n\n| Subtask | $n, m$ | 分值 |\n| :------: | :------: | :------: |\n| $1$ | $1 \\leq n, m \\leq 10^3$ | $15 \\operatorname{pts}$ |\n| $2$ | $1 \\leq n, m \\leq 10^5$ | $25 \\operatorname{pts}$ |\n| $3$ | $1 \\leq n, m \\leq 10^6$ | $30 \\operatorname{pts}$ |\n| $4$ | 无特殊限制 | $30 \\operatorname{pts}$ |\n\n对于 $100\\%$ 的数据，$1 \\leq n, m \\leq 2 \\times 10^6$，$1 \\leq p \\leq 10^9$。\n#### 提示\n作为对萌新友好的签到题，肯定是要给提示的。\n\n- $\\sum$ 为求和符号，比如 $\\displaystyle\\sum_{i = 1}^n i$ 代表 $1 + 2 + \\cdots + n$。\n- $\\tau$ 表示约数个数，比如 $\\tau(6) = 4$。\n- $\\gcd$ 是最大公约数，比如 $\\gcd(12, 15) = 3$。\n#### 说明\nMinecraft OI Round 2 A\n\n- Maker：Leasier\n- Tester：happydef", "locale": "zh-CN"}}}
{"pid": "P6811", "type": "P", "difficulty": 6, "samples": [["10 6\n1 1 4 5 1 4", "11\n11\n833\n944\n11\n833"], ["1000000 1\n114514", "945636198"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "数学"], "title": "「MCOI-02」Build Battle 建筑大师", "background": "WAPER 爱玩 hypixel（世界上最大的 Minecraft 小游戏服务器） 建筑大师！\n\n提示：在本题中，羊毛属于一种方块。", "description": "现在 WAPER 准备玩 $q$ 局建筑大师。在第 $i$ 局游戏的开始，WAPER 会选定一个参数 $m_i$，并 **按顺序** 放置 $n$ 个有颜色的羊毛，羊毛颜色的排列如下：\n\n$$1,\\ 2,\\ ...\\ ,\\ m_i-1,\\ m_i,\\ 1,\\ 2,\\ ...\\ ,m_i-1\\ ,m_i\\ ,\\ ...\\ (n-1) \\ \\bmod \\  m_i+1$$\n\n例如 $n=7,m=3$ 时，颜色排列如下：\n\n$$1\\ ,2,\\ 3,\\ 1,\\ 2,\\ 3,\\ 1$$\n\n现在 WAPER 准备打破一些方块（可以一个也不打破，也可以全部打破），WAPER 想知道这样可以产生多少种不同的颜色序列。（两个颜色序列不同当且仅当其长度不同或某一位置的羊毛颜色不同）\n\n因为答案太大，所以输出答案对 $10^9+7$ 取模的结果。\n\n（其实就是询问这个序列本质不同的子序列对 $10^9+7$ 取模的结果）", "inputFormat": "第一行两个整数 $n$ 和 $q$ 代表羊毛数和局数。       \n第二行 $q$ 个整数 $m_i$ 代表参数。", "outputFormat": "$q$ 行，每行一个整数代表答案。    \n答案对 $10^9+7$ 取模。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）$\\ \\ $：$n \\le 20$，$q=1$。\n- Subtask 2（15 pts）：$n \\le 10^3$，$q=1$。\n- Subtask 3（15 pts）：$\\max\\{m_i\\} \\le 20$，$q=1$。\n- Subtask 4（25 pts）：$q=1$。\n- Subtask 5（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 10^6$，$1 \\le m_i \\le n$。\n\n#### 说明\n\nMinecraft OI Round 2 B\n\n- Maker：WAPER420\n- Tester：灵空\n\n$样例不是出题人写的！！！！！！！！$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-02」Build Battle 建筑大师", "background": "WAPER 爱玩 hypixel（世界上最大的 Minecraft 小游戏服务器） 建筑大师！\n\n提示：在本题中，羊毛属于一种方块。", "description": "现在 WAPER 准备玩 $q$ 局建筑大师。在第 $i$ 局游戏的开始，WAPER 会选定一个参数 $m_i$，并 **按顺序** 放置 $n$ 个有颜色的羊毛，羊毛颜色的排列如下：\n\n$$1,\\ 2,\\ ...\\ ,\\ m_i-1,\\ m_i,\\ 1,\\ 2,\\ ...\\ ,m_i-1\\ ,m_i\\ ,\\ ...\\ (n-1) \\ \\bmod \\  m_i+1$$\n\n例如 $n=7,m=3$ 时，颜色排列如下：\n\n$$1\\ ,2,\\ 3,\\ 1,\\ 2,\\ 3,\\ 1$$\n\n现在 WAPER 准备打破一些方块（可以一个也不打破，也可以全部打破），WAPER 想知道这样可以产生多少种不同的颜色序列。（两个颜色序列不同当且仅当其长度不同或某一位置的羊毛颜色不同）\n\n因为答案太大，所以输出答案对 $10^9+7$ 取模的结果。\n\n（其实就是询问这个序列本质不同的子序列对 $10^9+7$ 取模的结果）", "inputFormat": "第一行两个整数 $n$ 和 $q$ 代表羊毛数和局数。       \n第二行 $q$ 个整数 $m_i$ 代表参数。", "outputFormat": "$q$ 行，每行一个整数代表答案。    \n答案对 $10^9+7$ 取模。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（5 pts）$\\ \\ $：$n \\le 20$，$q=1$。\n- Subtask 2（15 pts）：$n \\le 10^3$，$q=1$。\n- Subtask 3（15 pts）：$\\max\\{m_i\\} \\le 20$，$q=1$。\n- Subtask 4（25 pts）：$q=1$。\n- Subtask 5（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 10^6$，$1 \\le m_i \\le n$。\n\n#### 说明\n\nMinecraft OI Round 2 B\n\n- Maker：WAPER420\n- Tester：灵空\n\n$样例不是出题人写的！！！！！！！！$", "locale": "zh-CN"}}}
{"pid": "P6812", "type": "P", "difficulty": 4, "samples": [["7 5\n1 9 1 9 8 1 0\n2 1 3\n1 3 4 9\n2 1 4\n1 5 6 11\n2 2 6", "No\nYes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "O2优化"], "title": "「MCOI-02」Ancestor 先辈", "background": "这题跟 MC 有关的就是题目背景出现了三次 MC，提示说明出现了一次 MC。\n\n```\n           ▃▆█▇▄▖\n       ▟◤▖　　　  ◥█  \n   ◢◤ 　  ◢▐　　     ▐▉\n ▗◤　  　   ▂ ▗▖　 ▕ █▎\n ◤　▗▅▖ ◥▄　 ▀▀▀◣　█▊\n▐　▕▎  ◥▖◣◤　 　　◢██\n█◣　◥▅█▀　     　▐███◤\n▐█▙▂　　　      ◢███◤\n　◥██◣　　　　 ◢▄◤\n　　　▀██▅▇▀▎▇\n```", "description": "对于两个序列 $a,b$，如果满足：\n\n$$ \\forall i \\leq \\min(n,m),s.t.\\ a_i \\leq b_i $$\n\n那么我们称 $a$ 比 $b$ 屑（$n$ 为 $a$ 的长度，$m$ 为 $b$ 的长度）。\n\n如果对于一个序列 $a$，它比它的所有后缀都屑，那么我们称这个序列为先辈。\n\n给定一个长为 $n$ 的序列 $a_i$，共有 $k$ 次操作，包括以下两种：\n\n- `1 l r x` 区间 $[l,r]$ 加上 $x$。\n- `2 l r` 查询区间 $[l,r]$ 是不是先辈。", "inputFormat": "第一行两个整数 $n,k$ 代表序列长度与操作数。     \n第二行 $n$ 个整数 $a_i$ 代表数列每一项的值。    \n接下来 $k$ 行每行首先三个整数 $opt,l,r$：\n\n- 如果 $opt=1$，接下来一个整数 $x$ 代表操作 $1$。\n- 如果 $opt=2$，代表操作 $2$。\n\n**由于数据故障，$r$ 可能取到 $n+1$，请在这类情况下自行令 $r=n$，谢谢。**", "outputFormat": "对于每个操作 $2$，输出询问结果。", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n1. 询问区间 $[1,3]$ 是否为先辈，不是，输出 `No`。\n2. 区间 $[3,4]$ 加上 $9$，现在序列为 $\\{1,9,10,18,8,1,0\\}$。\n3. 询问区间 $[1,4]$ 是否为先辈，是，输出 `Yes`。\n4. 区间 $[5,6]$ 加上 $11$，现在序列为 $\\{1,9,10,18,19,12,0\\}$。\n5. 询问区间 $[2,6]$ 是否为先辈，不是，输出 `No`。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（1 pts）$\\ \\ $：询问操作的区间长度均为 $1$。\n- Subtask 2（9 pts）$\\ \\ $：$n,k \\le 10^3$。\n- Subtask 3（10 pts）：$n,k\\le 5\\times 10^3$。\n- Subtask 4（10 pts）：只有查询操作。\n- Subtask 5（10 pts）：修改操作的数量不超过 $100$。\n- Subtask 6（20 pts）：$n,k \\le 10^5$。\n- Subtask 7（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^6$，$|a_i|,|x| \\le 10^9$。\n\n**本题强制 $O2$ 优化。**\n\n#### 说明\n\nMinecraft OI Round 2 C\n\n- Maker：happydef\n- Tester：tarjin", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-02」Ancestor 先辈", "background": "这题跟 MC 有关的就是题目背景出现了三次 MC，提示说明出现了一次 MC。\n\n```\n           ▃▆█▇▄▖\n       ▟◤▖　　　  ◥█  \n   ◢◤ 　  ◢▐　　     ▐▉\n ▗◤　  　   ▂ ▗▖　 ▕ █▎\n ◤　▗▅▖ ◥▄　 ▀▀▀◣　█▊\n▐　▕▎  ◥▖◣◤　 　　◢██\n█◣　◥▅█▀　     　▐███◤\n▐█▙▂　　　      ◢███◤\n　◥██◣　　　　 ◢▄◤\n　　　▀██▅▇▀▎▇\n```", "description": "对于两个序列 $a,b$，如果满足：\n\n$$ \\forall i \\leq \\min(n,m),s.t.\\ a_i \\leq b_i $$\n\n那么我们称 $a$ 比 $b$ 屑（$n$ 为 $a$ 的长度，$m$ 为 $b$ 的长度）。\n\n如果对于一个序列 $a$，它比它的所有后缀都屑，那么我们称这个序列为先辈。\n\n给定一个长为 $n$ 的序列 $a_i$，共有 $k$ 次操作，包括以下两种：\n\n- `1 l r x` 区间 $[l,r]$ 加上 $x$。\n- `2 l r` 查询区间 $[l,r]$ 是不是先辈。", "inputFormat": "第一行两个整数 $n,k$ 代表序列长度与操作数。     \n第二行 $n$ 个整数 $a_i$ 代表数列每一项的值。    \n接下来 $k$ 行每行首先三个整数 $opt,l,r$：\n\n- 如果 $opt=1$，接下来一个整数 $x$ 代表操作 $1$。\n- 如果 $opt=2$，代表操作 $2$。\n\n**由于数据故障，$r$ 可能取到 $n+1$，请在这类情况下自行令 $r=n$，谢谢。**", "outputFormat": "对于每个操作 $2$，输出询问结果。", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n1. 询问区间 $[1,3]$ 是否为先辈，不是，输出 `No`。\n2. 区间 $[3,4]$ 加上 $9$，现在序列为 $\\{1,9,10,18,8,1,0\\}$。\n3. 询问区间 $[1,4]$ 是否为先辈，是，输出 `Yes`。\n4. 区间 $[5,6]$ 加上 $11$，现在序列为 $\\{1,9,10,18,19,12,0\\}$。\n5. 询问区间 $[2,6]$ 是否为先辈，不是，输出 `No`。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（1 pts）$\\ \\ $：询问操作的区间长度均为 $1$。\n- Subtask 2（9 pts）$\\ \\ $：$n,k \\le 10^3$。\n- Subtask 3（10 pts）：$n,k\\le 5\\times 10^3$。\n- Subtask 4（10 pts）：只有查询操作。\n- Subtask 5（10 pts）：修改操作的数量不超过 $100$。\n- Subtask 6（20 pts）：$n,k \\le 10^5$。\n- Subtask 7（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^6$，$|a_i|,|x| \\le 10^9$。\n\n**本题强制 $O2$ 优化。**\n\n#### 说明\n\nMinecraft OI Round 2 C\n\n- Maker：happydef\n- Tester：tarjin", "locale": "zh-CN"}}}
{"pid": "P6813", "type": "P", "difficulty": 5, "samples": [["5\n1 2 1 2 1\n1 5 1\n1 2 2\n2 3 1\n2 4 2", "256"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": [], "title": "「MCOI-02」Glass 玻璃", "background": "小 S 进入了一个服务器，这个服务器有一个游戏叫“树上的玻璃”。", "description": "首先给定一棵树，每个点上有 $V_i$ 个玻璃，每条边上有权值 $W_i$。\n\n每次操作小 S 可以选择两个节点 $u,v(u\\ne v)$，从节点 $u$ 到节点 $v$ 的唯一路径上，**边和** 为路径上所有边的权值和，即 $\\sum W_i$，**点和** 为路径上所有点（包括 $u,v$）的玻璃数和，即 $\\sum V_i$。小 S 将可以获得 **边和** 和 **点和** 的乘积的分数，即 $\\sum W_i\\times\\sum V_i$。\n\n任意两次操作不能完全相同，$(u,v)$ 和 $(v,u)$ 被看作是两种操作。\n\n但是有时候这颗树太过庞大，小 S 需要你的帮助。他需要你告诉他，经过 $N(N-1)$ 次操作后，总共能得到多少分。结果可能很大，你只需要输出答案对 $998244353$ 取模的结果。", "inputFormat": "第一行一个整数 $N$ 表示树的节点数。      \n第二行 $N$ 个整数，第 $i$ 个数 $V_i$ 表示节点 $i$ 的玻璃数。   \n接下来 $N-1$ 行，每行三个数 $x,y,z$，表示节点 $x,y$ 之间连有一条权值为 $z$ 的树边。", "outputFormat": "一个整数，即总共能得到的分对 $998244353$ 取模。", "hint": "#### 样例说明\n\n对于样例 $1$，树的形态如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4yfdr3b6.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n|子任务编号  | $N$ | $V_i,W_i$ | 特殊性质 | 分值 |时限|\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| 1 | $\\le200$ | $\\lt 2^3$ |  | $3$ |$\\rm 1s$|\n| 2 | $\\le10^3$ | $\\lt2^3$ |  | $6$ |$\\rm 1s$|\n| 3 | $\\le6\\times10^3$ | $\\lt2^8$ |  | $11$ |$\\rm 1s$|\n| 4 | $\\le2\\times 10^5$ | $\\lt 2^8$ | 存在度数为 $N-1$ 的节点 | $12$ |$\\rm 1s$|\n| 5 | $\\le2\\times10^5$ |  | 树的形态为一条链 | $13$ |$\\rm 1s$|\n| 6 | $\\le2\\times10^5$ |  |  | $21$ |$\\rm 1s$|\n| 7 | $\\le2\\times10^6$ |  |  | $34$ |$\\rm 2s$|\n\n对于 $100\\%$ 的数据，$0\\le V_i,W_i\\lt2^\n{16}$，$1 \\le N\\le2\\times10^6$。\n\n#### 说明\n\nMinecraft OI Round 2 D\n\n- Maker：Inf_Voltage\n- Tester：tarjin\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-02」Glass 玻璃", "background": "小 S 进入了一个服务器，这个服务器有一个游戏叫“树上的玻璃”。", "description": "首先给定一棵树，每个点上有 $V_i$ 个玻璃，每条边上有权值 $W_i$。\n\n每次操作小 S 可以选择两个节点 $u,v(u\\ne v)$，从节点 $u$ 到节点 $v$ 的唯一路径上，**边和** 为路径上所有边的权值和，即 $\\sum W_i$，**点和** 为路径上所有点（包括 $u,v$）的玻璃数和，即 $\\sum V_i$。小 S 将可以获得 **边和** 和 **点和** 的乘积的分数，即 $\\sum W_i\\times\\sum V_i$。\n\n任意两次操作不能完全相同，$(u,v)$ 和 $(v,u)$ 被看作是两种操作。\n\n但是有时候这颗树太过庞大，小 S 需要你的帮助。他需要你告诉他，经过 $N(N-1)$ 次操作后，总共能得到多少分。结果可能很大，你只需要输出答案对 $998244353$ 取模的结果。", "inputFormat": "第一行一个整数 $N$ 表示树的节点数。      \n第二行 $N$ 个整数，第 $i$ 个数 $V_i$ 表示节点 $i$ 的玻璃数。   \n接下来 $N-1$ 行，每行三个数 $x,y,z$，表示节点 $x,y$ 之间连有一条权值为 $z$ 的树边。", "outputFormat": "一个整数，即总共能得到的分对 $998244353$ 取模。", "hint": "#### 样例说明\n\n对于样例 $1$，树的形态如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4yfdr3b6.png)\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n|子任务编号  | $N$ | $V_i,W_i$ | 特殊性质 | 分值 |时限|\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| 1 | $\\le200$ | $\\lt 2^3$ |  | $3$ |$\\rm 1s$|\n| 2 | $\\le10^3$ | $\\lt2^3$ |  | $6$ |$\\rm 1s$|\n| 3 | $\\le6\\times10^3$ | $\\lt2^8$ |  | $11$ |$\\rm 1s$|\n| 4 | $\\le2\\times 10^5$ | $\\lt 2^8$ | 存在度数为 $N-1$ 的节点 | $12$ |$\\rm 1s$|\n| 5 | $\\le2\\times10^5$ |  | 树的形态为一条链 | $13$ |$\\rm 1s$|\n| 6 | $\\le2\\times10^5$ |  |  | $21$ |$\\rm 1s$|\n| 7 | $\\le2\\times10^6$ |  |  | $34$ |$\\rm 2s$|\n\n对于 $100\\%$ 的数据，$0\\le V_i,W_i\\lt2^\n{16}$，$1 \\le N\\le2\\times10^6$。\n\n#### 说明\n\nMinecraft OI Round 2 D\n\n- Maker：Inf_Voltage\n- Tester：tarjin\n", "locale": "zh-CN"}}}
{"pid": "P6814", "type": "P", "difficulty": 7, "samples": [["3\n9 2 3\n3 8\n2 5 6\n6 2 2\n5 6\n2 4\n7 1 1\n3\n4", "C\nB\nR"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2009", "PA（波兰）"], "title": "[PA 2009] Circular Game", "background": "", "description": "一个大小为 $m$ 的轮盘，上面有 $a$ 个白棋子，$b$ 个黑棋子。\n\n白棋先行，每次可以走到一个中间没有任何棋子的位。\n\n例如下图中，$8$ 号棋子可以走到 $1、7、9$ 中任意一个位置。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u9d5ifjt.png?x-oss-process=image/resize,m_lfit,h_300,w_300)", "inputFormat": "输入的第一行包含一个整数 $t$，表示数据组数。\n\n对于每组数据的第一行有三个整数 $m$，$a$ 和 $b$ ，表示棋盘的长度、白色棋子的数量和黑色棋子的数量。\n\n对于每组数据的第二行，有一个递增的整数序列，代表白色棋子的位置。\n\n对于每组数据的第三行有一个递增的整数序列，代表黑子的位置。", "outputFormat": "对于每组数据输出一个单一的字符：$B$ 、$C$ 或 $R$。\n\n若白棋胜输出 $B$，若黑棋胜输出 $C$，\n若永不结束，输出 $R$。", "hint": "$1\\leq m \\leq 10^9,1\\leq \\sum a+ b \\leq 10^6 $", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2009] Circular Game", "background": "", "description": "一个大小为 $m$ 的轮盘，上面有 $a$ 个白棋子，$b$ 个黑棋子。\n\n白棋先行，每次可以走到一个中间没有任何棋子的位。\n\n例如下图中，$8$ 号棋子可以走到 $1、7、9$ 中任意一个位置。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u9d5ifjt.png?x-oss-process=image/resize,m_lfit,h_300,w_300)", "inputFormat": "输入的第一行包含一个整数 $t$，表示数据组数。\n\n对于每组数据的第一行有三个整数 $m$，$a$ 和 $b$ ，表示棋盘的长度、白色棋子的数量和黑色棋子的数量。\n\n对于每组数据的第二行，有一个递增的整数序列，代表白色棋子的位置。\n\n对于每组数据的第三行有一个递增的整数序列，代表黑子的位置。", "outputFormat": "对于每组数据输出一个单一的字符：$B$ 、$C$ 或 $R$。\n\n若白棋胜输出 $B$，若黑棋胜输出 $C$，\n若永不结束，输出 $R$。", "hint": "$1\\leq m \\leq 10^9,1\\leq \\sum a+ b \\leq 10^6 $", "locale": "zh-CN"}}}
{"pid": "P6815", "type": "P", "difficulty": 5, "samples": [["5 7\n1 5 3 4 2\n1 2\n2 3\n5 2\n4 3\n3 1\n1 4\n5 1", "14"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2009", "枚举", "根号分治", "PA（波兰）"], "title": "[PA 2009] Cakes", "background": null, "description": "全国各地的糕点师都来到了蛋糕大会上来。在一个大会上，有一个为 $3$ 个糕点师共同制作蛋糕的比赛。每个团队（三个糕点师）最多可以制作一个蛋糕，一个糕点师可以属于多个团队。不幸的是有一些糕点师们互相不认可对方，他们并不会与对方合作。\n\n我们知道每个糕点师需要多重的面粉来烘烤蛋糕。对于一个三人团队，需要的面粉是其成员中需要面粉的最大值。比赛需要保证每个可能的三人团队都可以做一个蛋糕。你的任务是计算比赛期间所使用的总面粉量。", "inputFormat": "第一行：两个整数 $n$ 和 $m$（$1 \\le n \\le 10^5$，$1 \\le m \\le 2.5\\times 10^5$）表示糕点师的数量和互相认可的糕点师对的数量。\n\n第二行：$n$ 个整数 $p_1, p_2, \\dots, p_n$（$1 \\le p_i \\le 10^6$）表示每个糕点师的面粉需求。\n\n接下来的 $m$ 行：每行包含两个不同的整数 $a_i, b_i$（$1 \\le a_i, b_i \\le n$，$a_i \\ne b_i$）表示 $a_i$ 和 $b_i$ 两个糕点师互相认可。没有一对互相认可的糕点师出现超过一次。", "outputFormat": "一行一个整数，表示所有比赛期间使用的总面粉量。", "hint": "#### 样例解释\n\n有如下团队：$(1,2,3),(1,2,5),(1,3,4)$，分别需要 $5,5,4$ 的面粉，总共需要 $5+5+4=14$ 的面粉。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2009] Cakes", "background": null, "description": "全国各地的糕点师都来到了蛋糕大会上来。在一个大会上，有一个为 $3$ 个糕点师共同制作蛋糕的比赛。每个团队（三个糕点师）最多可以制作一个蛋糕，一个糕点师可以属于多个团队。不幸的是有一些糕点师们互相不认可对方，他们并不会与对方合作。\n\n我们知道每个糕点师需要多重的面粉来烘烤蛋糕。对于一个三人团队，需要的面粉是其成员中需要面粉的最大值。比赛需要保证每个可能的三人团队都可以做一个蛋糕。你的任务是计算比赛期间所使用的总面粉量。", "inputFormat": "第一行：两个整数 $n$ 和 $m$（$1 \\le n \\le 10^5$，$1 \\le m \\le 2.5\\times 10^5$）表示糕点师的数量和互相认可的糕点师对的数量。\n\n第二行：$n$ 个整数 $p_1, p_2, \\dots, p_n$（$1 \\le p_i \\le 10^6$）表示每个糕点师的面粉需求。\n\n接下来的 $m$ 行：每行包含两个不同的整数 $a_i, b_i$（$1 \\le a_i, b_i \\le n$，$a_i \\ne b_i$）表示 $a_i$ 和 $b_i$ 两个糕点师互相认可。没有一对互相认可的糕点师出现超过一次。", "outputFormat": "一行一个整数，表示所有比赛期间使用的总面粉量。", "hint": "#### 样例解释\n\n有如下团队：$(1,2,3),(1,2,5),(1,3,4)$，分别需要 $5,5,4$ 的面粉，总共需要 $5+5+4=14$ 的面粉。", "locale": "zh-CN"}}}
{"pid": "P6816", "type": "P", "difficulty": 7, "samples": [["aaaabaabaaaba", "10\naabaa"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2009", "PA（波兰）"], "title": "[PA 2009] Quasi-template", "background": "", "description": "定义一个串 $s$ 能匹配 $S$ 当且仅当 $s$ 能可超出头尾地覆盖\n$S$ 且长度不超过 $S$，且 $s$ 必须是 $S$ 的子串。\n\n如下图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gpq807qg.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n给定 $S$ ，求不同的 $s$ 的个数以及长度最短的 $s$，如有多解，输出字典序最小的。", "inputFormat": "一行一个字符串 $S$。", "outputFormat": "第一行一个整数表示方案数。\n\n第二行一个字符串，表示长度最短的 $s$，如有多解，输出字典序最小的。", "hint": "符合条件的串：\naaaabaabaaab, aaaabaabaaaba, aaabaaba, aaabaabaa, aaabaabaaa, aaabaabaaaba, aabaa, aabaabaa, aabaabaaa, abaabaaa.\n\n$S$ 的长度 $\\leq 2\\times 10^5$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2009] Quasi-template", "background": "", "description": "定义一个串 $s$ 能匹配 $S$ 当且仅当 $s$ 能可超出头尾地覆盖\n$S$ 且长度不超过 $S$，且 $s$ 必须是 $S$ 的子串。\n\n如下图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gpq807qg.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n给定 $S$ ，求不同的 $s$ 的个数以及长度最短的 $s$，如有多解，输出字典序最小的。", "inputFormat": "一行一个字符串 $S$。", "outputFormat": "第一行一个整数表示方案数。\n\n第二行一个字符串，表示长度最短的 $s$，如有多解，输出字典序最小的。", "hint": "符合条件的串：\naaaabaabaaab, aaaabaabaaaba, aaabaaba, aaabaabaa, aaabaabaaa, aaabaabaaaba, aabaa, aabaabaa, aabaabaaa, abaabaaa.\n\n$S$ 的长度 $\\leq 2\\times 10^5$", "locale": "zh-CN"}}}
{"pid": "P6817", "type": "P", "difficulty": 6, "samples": [["6\n7 4 10 8 7 1", "5 3"]], "limits": {"time": [1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800, 1800], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2013", "PA（波兰）"], "title": "[PA 2013] Filary", "background": "", "description": "给定长度为 $n$ 的数列 $a$，从中选取 $k$ 个数使得这 $k$ 个数模 $m$ 相等，其中 $m\\geq 2$。\n\n求出 $k$ 的最大值，并在 $k$ 最大的前提下最大化 $m$。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，表示数列 $a$。", "outputFormat": "一行两个数 $k,m$。", "hint": "$2\\leq n\\leq 10^5$，$1\\leq a_i\\leq 10^7$，保证有解，且不存在所有 $a_i$ 都相等的情况。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2013] Filary", "background": "", "description": "给定长度为 $n$ 的数列 $a$，从中选取 $k$ 个数使得这 $k$ 个数模 $m$ 相等，其中 $m\\geq 2$。\n\n求出 $k$ 的最大值，并在 $k$ 最大的前提下最大化 $m$。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，表示数列 $a$。", "outputFormat": "一行两个数 $k,m$。", "hint": "$2\\leq n\\leq 10^5$，$1\\leq a_i\\leq 10^7$，保证有解，且不存在所有 $a_i$ 都相等的情况。", "locale": "zh-CN"}}}
{"pid": "P6818", "type": "P", "difficulty": 7, "samples": [["9 7\n1 1\n1 3\n3 3\n3 1\n6 5\n6 6\n7 3\n3\n0 4 0 4\n2 7 0 7\n3 7 3 6", "4.0\n10.0\n6.0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2013", "PA（波兰）"], "title": "[PA 2013] Działka", "background": "", "description": "给定 $k\\times k$ 平面中的 $n$ 个点，$m$ 次询问，每次询问一个边平行于坐标轴的矩形内部（包含边界）的点构成的凸包面积。", "inputFormat": "第一行两个正整数 $k,n$。\n\n接下来 $n$ 行，第 $i$ 行包含两个整数 $x_i,y_i$ 表示第 $i$ 个点的坐标。\n\n之后一行一个数 $m$。\n\n之后 $m$ 行，第 $i$ 行包含四个数 $a_i,b_i,c_i,d_i)$，表示询问左下角为 $(a_i,c_i)$，右上角为 $(b_i,d_i)$ 的矩形。\n", "outputFormat": "对于每个询问输出一行表示面积。保留小数点后一位。", "hint": "$1\\leq k\\leq 10^6$，$3\\leq n\\leq 3\\times 10^3$，$1\\leq m\\leq 10^6$，$0\\leq x_i,y_i,a_i,b_i,c_i,d_i\\leq k，a_i<c_i,b_i<d_i$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2013] Działka", "background": "", "description": "给定 $k\\times k$ 平面中的 $n$ 个点，$m$ 次询问，每次询问一个边平行于坐标轴的矩形内部（包含边界）的点构成的凸包面积。", "inputFormat": "第一行两个正整数 $k,n$。\n\n接下来 $n$ 行，第 $i$ 行包含两个整数 $x_i,y_i$ 表示第 $i$ 个点的坐标。\n\n之后一行一个数 $m$。\n\n之后 $m$ 行，第 $i$ 行包含四个数 $a_i,b_i,c_i,d_i)$，表示询问左下角为 $(a_i,c_i)$，右上角为 $(b_i,d_i)$ 的矩形。\n", "outputFormat": "对于每个询问输出一行表示面积。保留小数点后一位。", "hint": "$1\\leq k\\leq 10^6$，$3\\leq n\\leq 3\\times 10^3$，$1\\leq m\\leq 10^6$，$0\\leq x_i,y_i,a_i,b_i,c_i,d_i\\leq k，a_i<c_i,b_i<d_i$。", "locale": "zh-CN"}}}
{"pid": "P6819", "type": "P", "difficulty": 6, "samples": [["2", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2012", "PA（波兰）"], "title": "[PA 2012] Binary Dodgeball", "background": "PA 2012 Round 6。", "description": "有 $n$ 个盒子，开始时每个盒子中有一个棋子。\n\n\n两位选手轮流操作，每次可以选择一个 $i$ 号盒子中的棋子和一个正整数 $p$，将棋子移到编号为 $2^p\\times i$ 的盒子中。若编号为 $2^p\\times i$ 的盒子中已有棋子了，则这两个棋子都会被移出盒子。不能移动者输。\n\n求第 $k$ 小的 $n$，使得**后**手能赢得游戏。", "inputFormat": "仅一行，包含一个正整数 $k$。", "outputFormat": "仅一行，包含一个正整数 $n$。", "hint": "对于 $100\\%$ 的数据，$1\\le k<10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2012] Binary Dodgeball", "background": "PA 2012 Round 6。", "description": "有 $n$ 个盒子，开始时每个盒子中有一个棋子。\n\n\n两位选手轮流操作，每次可以选择一个 $i$ 号盒子中的棋子和一个正整数 $p$，将棋子移到编号为 $2^p\\times i$ 的盒子中。若编号为 $2^p\\times i$ 的盒子中已有棋子了，则这两个棋子都会被移出盒子。不能移动者输。\n\n求第 $k$ 小的 $n$，使得**后**手能赢得游戏。", "inputFormat": "仅一行，包含一个正整数 $k$。", "outputFormat": "仅一行，包含一个正整数 $n$。", "hint": "对于 $100\\%$ 的数据，$1\\le k<10^9$。", "locale": "zh-CN"}}}
{"pid": "P6820", "type": "P", "difficulty": 5, "samples": [["3\n1 2 3\n3 2 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "PA（波兰）"], "title": "[PA 2012 Finals] Two Cakes", "background": "", "description": "你有两个 $1\\sim n$ 的排列。你用左手和右手分别从左到右写两个排列，每只手每写一个数需要 $1$ 单位时间，两只手可以同时工作。若你两只手不能同时写同一个数，那你至少需要多久写完这两个排列呢？", "inputFormat": "第一行一个正整数 $n$。\n\n接下来一行 $n$ 个整数，为一个 $1\\sim n$ 的排列。\n\n接下来一行 $n$ 个整数，为另一个 $1\\sim n$ 的排列。", "outputFormat": "仅一个整数，为最短时间。", "hint": "**样例解释**\n\n第一单位时间：左手写 $1$，右手写 $3$。\n\n第二单位时间：左手写 $2$。\n\n第三单位时间：右手写 $2$。\n\n第四单位时间：左手写 $3$，右手写 $1$。\n\n**数据范围**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2012 Finals] Two Cakes", "background": "", "description": "你有两个 $1\\sim n$ 的排列。你用左手和右手分别从左到右写两个排列，每只手每写一个数需要 $1$ 单位时间，两只手可以同时工作。若你两只手不能同时写同一个数，那你至少需要多久写完这两个排列呢？", "inputFormat": "第一行一个正整数 $n$。\n\n接下来一行 $n$ 个整数，为一个 $1\\sim n$ 的排列。\n\n接下来一行 $n$ 个整数，为另一个 $1\\sim n$ 的排列。", "outputFormat": "仅一个整数，为最短时间。", "hint": "**样例解释**\n\n第一单位时间：左手写 $1$，右手写 $3$。\n\n第二单位时间：左手写 $2$。\n\n第三单位时间：右手写 $2$。\n\n第四单位时间：左手写 $3$，右手写 $1$。\n\n**数据范围**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P6821", "type": "P", "difficulty": 6, "samples": [["5 2\n7 -3 4 -9 5", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "O2优化", "PA（波兰）"], "title": "[PA 2012] Tanie linie", "background": "PA 2012 R5.", "description": "给定含 $n$ 个数的序列，求至多 $k$ 个不相交子段的和的最大值。", "inputFormat": "第一行两个正整数 $n,k$。\n\n接下来一行 $n$ 个整数，为这个序列。", "outputFormat": "输出一个整数，为答案。", "hint": "对于 $100\\%$ 的数据，$1\\le k\\le n\\le 10^6$。序列内所有数在 $[-10^9,10^9]$ 内。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2012] Tanie linie", "background": "PA 2012 R5.", "description": "给定含 $n$ 个数的序列，求至多 $k$ 个不相交子段的和的最大值。", "inputFormat": "第一行两个正整数 $n,k$。\n\n接下来一行 $n$ 个整数，为这个序列。", "outputFormat": "输出一个整数，为答案。", "hint": "对于 $100\\%$ 的数据，$1\\le k\\le n\\le 10^6$。序列内所有数在 $[-10^9,10^9]$ 内。", "locale": "zh-CN"}}}
{"pid": "P6822", "type": "P", "difficulty": 6, "samples": [["4 5\n1 2 5\n1 3 2\n2 3 1\n2 4 4\n3 4 8", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2012", "PA（波兰）"], "title": "[PA 2012 Finals] Tax", "background": "", "description": "给出一个 $n$ 个点 $m$ 条边的无向图，经过一个点的代价是进入和离开这个点的两条边的边权的较大值，求从起点 $1$ 到点 $n$ 的最小代价。起点的代价是离开起点的边的边权，终点的代价是进入终点的边的边权。", "inputFormat": "第一行两个数 $n,m$，分别表示点数和边数。\n\n接下来 $m$ 行，每行三个数 $a,b,c$，表示 $a,b$ 之间存在一条长度为 $c$ 的边。\n\n", "outputFormat": "一行一个数，表示答案。", "hint": "$1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times 10^5$，$1\\leq c\\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2012 Finals] Tax", "background": "", "description": "给出一个 $n$ 个点 $m$ 条边的无向图，经过一个点的代价是进入和离开这个点的两条边的边权的较大值，求从起点 $1$ 到点 $n$ 的最小代价。起点的代价是离开起点的边的边权，终点的代价是进入终点的边的边权。", "inputFormat": "第一行两个数 $n,m$，分别表示点数和边数。\n\n接下来 $m$ 行，每行三个数 $a,b,c$，表示 $a,b$ 之间存在一条长度为 $c$ 的边。\n\n", "outputFormat": "一行一个数，表示答案。", "hint": "$1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times 10^5$，$1\\leq c\\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P6823", "type": "P", "difficulty": 2, "samples": [["5 5\n1\n2\n3 2 4\n4\n3 1 5", "5 4 3 2 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "「EZEC-4」paulzrm Loves Array", "background": "原题面：\n\n$\\color{gray}\\text{zrmpaul}$ has an array consisting of $n$ integers: $a_1,a_2,...,a_n$. The initial value of $a_i$ is $i(1\\le i\\le n)$. There are $m$ operations, including four types as follows.\n\nType $1$: `1` sort the array.   \nType $2$: `2` sort the array and reverse it.   \nType $3$: `3 x y` swap $a_x,a_y$. **It is guaranteed that $x$ is not equal to $y$, and $1\\leq x ,y \\leq n$**.    \nType $4$: `4` reverse the array.\n\nYou need to output the array after $m$ operations.\n\nFirst line with two intergers $n,m(1\\leq n,m\\leq 10^6)$.\n\nNext $m$ lines are the operations.\n\nOne line, $n$ numbers, the array.", "description": "小 Z 有一个下标从 $1$ 开始并且长度为 $n$ 的序列，初始时下标为 $i$ 位置的数字为 $i$。有 $m$ 个操作，每个操作会是以下四种之一。\n\n- `1` 对序列从小到大进行排序。\n- `2` 对序列从小到大进行排序后将其翻转，(译者注：就是从大到小排序）。\n- `3 x y` 将下标为 $x,y$ 的数交换位置。保证 $x\\neq y$ 且 $1\\le x,y\\le n$。\n- `4` 将序列翻转。\n\n你要输出在 $m$ 次操作后的序列。", "inputFormat": "第一行两个整数 $n,m$ ，表示序列的长度以及操作的数量。\n\n接下来 $m$ 行，每行一个操作。保证操作合法。", "outputFormat": "一行包含 $n$ 个整数，表示操作后的序列。", "hint": "【数据范围】\n\n**【本题采用捆绑测试】**\n\nsubtask 1（24pts）: $1\\leq n,m\\leq 2 \\times 10^3$ 。\n\nsubtask 2（13pts）: 没有操作三。\n\nsubtask 3（63pts）: $1\\leq n,m\\leq 10^6$ 。\n\n\n【样例解释】\n\n序列经过的操作为：\n> $1, 2, 3, 4, 5$     \n$1, 2, 3, 4, 5$   \n$5, 4, 3, 2, 1$   \n$5, 2, 3, 4, 1$   \n$1, 4, 3, 2, 5$   \n$5, 4, 3, 2, 1$\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-4」paulzrm Loves Array", "background": "原题面：\n\n$\\color{gray}\\text{zrmpaul}$ has an array consisting of $n$ integers: $a_1,a_2,...,a_n$. The initial value of $a_i$ is $i(1\\le i\\le n)$. There are $m$ operations, including four types as follows.\n\nType $1$: `1` sort the array.   \nType $2$: `2` sort the array and reverse it.   \nType $3$: `3 x y` swap $a_x,a_y$. **It is guaranteed that $x$ is not equal to $y$, and $1\\leq x ,y \\leq n$**.    \nType $4$: `4` reverse the array.\n\nYou need to output the array after $m$ operations.\n\nFirst line with two intergers $n,m(1\\leq n,m\\leq 10^6)$.\n\nNext $m$ lines are the operations.\n\nOne line, $n$ numbers, the array.", "description": "小 Z 有一个下标从 $1$ 开始并且长度为 $n$ 的序列，初始时下标为 $i$ 位置的数字为 $i$。有 $m$ 个操作，每个操作会是以下四种之一。\n\n- `1` 对序列从小到大进行排序。\n- `2` 对序列从小到大进行排序后将其翻转，(译者注：就是从大到小排序）。\n- `3 x y` 将下标为 $x,y$ 的数交换位置。保证 $x\\neq y$ 且 $1\\le x,y\\le n$。\n- `4` 将序列翻转。\n\n你要输出在 $m$ 次操作后的序列。", "inputFormat": "第一行两个整数 $n,m$ ，表示序列的长度以及操作的数量。\n\n接下来 $m$ 行，每行一个操作。保证操作合法。", "outputFormat": "一行包含 $n$ 个整数，表示操作后的序列。", "hint": "【数据范围】\n\n**【本题采用捆绑测试】**\n\nsubtask 1（24pts）: $1\\leq n,m\\leq 2 \\times 10^3$ 。\n\nsubtask 2（13pts）: 没有操作三。\n\nsubtask 3（63pts）: $1\\leq n,m\\leq 10^6$ 。\n\n\n【样例解释】\n\n序列经过的操作为：\n> $1, 2, 3, 4, 5$     \n$1, 2, 3, 4, 5$   \n$5, 4, 3, 2, 1$   \n$5, 2, 3, 4, 1$   \n$1, 4, 3, 2, 5$   \n$5, 4, 3, 2, 1$\n\n", "locale": "zh-CN"}}}
{"pid": "P6824", "type": "P", "difficulty": 4, "samples": [["3 5\n2\n3\n4", "3"], ["4 625\n879\n480\n671\n853\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "字典树 Trie", "差分"], "title": "「EZEC-4」可乐", "background": "很久以前，有一个 pigstd，非常迷恋美味的可乐。为了得到美味的可乐，他几乎用尽了所有的钱，他甚至对自己的 npy 也漠不关心~~其实是因为他没有 npy~~，更不爱好看戏。除非买了新可乐，才会坐上马车出门炫耀一番。每一天，每个钟头他都要喝上一瓶新可乐。\n\npigstd 最近又买了许多箱新可乐——当然，这些可乐只有聪明的人才能喝到。", "description": "pigstd 现在有 $n$ 箱可乐，第 $i$ 箱可乐上标着一个正整数 $a_{i}$。\n\n若 pigstd 的聪明值为一个非负整数 $x$，对于第 $i$ 箱可乐，如果 $(a_{i} \\oplus x )\\le k$，那么 pigstd 就能喝到这箱可乐。\n\n现在 pigstd 告诉了你 $k$ 与序列 $a$，你可以决定 pigstd 的聪明值 $x$，使得他能喝到的可乐的箱数最大。求出这个最大值。", "inputFormat": "第一行两个由空格分隔开的整数 $n,k$。\n\n接下来 $n$ 行，每行一个整数 $a_i$，表示第 $i$ 箱可乐上标的数。", "outputFormat": "一行一个正整数，表示 pigstd 最多能喝到的可乐的箱数。", "hint": "### 提示\n\n**pigstd 的聪明值 $x$ 可以为 $0$。**\n\n### 样例解释\n\n样例 1 解释：容易构造当 $x = 0$ 时，可以喝到所有可乐。\n\n样例 2 解释：容易构造 $x = 913$，可以喝到所有可乐。\n\n**样例解释未必是唯一的方法。**\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（29 points）：$1 \\le n,k,a_{i} \\le 1000$。\n\n- Subtask 2（1 points）：$a_{i} \\le k$。\n\n- Subtask 3（70 points）：无特殊限制。\n\n对于所有数据，保证 $1 \\le n,k,a_{i} \\le 10^6$。\n\n$\\oplus$ 代表异或，如果您不知道什么是异或，请单击[这里](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677?fr=aladdin)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-4」可乐", "background": "很久以前，有一个 pigstd，非常迷恋美味的可乐。为了得到美味的可乐，他几乎用尽了所有的钱，他甚至对自己的 npy 也漠不关心~~其实是因为他没有 npy~~，更不爱好看戏。除非买了新可乐，才会坐上马车出门炫耀一番。每一天，每个钟头他都要喝上一瓶新可乐。\n\npigstd 最近又买了许多箱新可乐——当然，这些可乐只有聪明的人才能喝到。", "description": "pigstd 现在有 $n$ 箱可乐，第 $i$ 箱可乐上标着一个正整数 $a_{i}$。\n\n若 pigstd 的聪明值为一个非负整数 $x$，对于第 $i$ 箱可乐，如果 $(a_{i} \\oplus x )\\le k$，那么 pigstd 就能喝到这箱可乐。\n\n现在 pigstd 告诉了你 $k$ 与序列 $a$，你可以决定 pigstd 的聪明值 $x$，使得他能喝到的可乐的箱数最大。求出这个最大值。", "inputFormat": "第一行两个由空格分隔开的整数 $n,k$。\n\n接下来 $n$ 行，每行一个整数 $a_i$，表示第 $i$ 箱可乐上标的数。", "outputFormat": "一行一个正整数，表示 pigstd 最多能喝到的可乐的箱数。", "hint": "### 提示\n\n**pigstd 的聪明值 $x$ 可以为 $0$。**\n\n### 样例解释\n\n样例 1 解释：容易构造当 $x = 0$ 时，可以喝到所有可乐。\n\n样例 2 解释：容易构造 $x = 913$，可以喝到所有可乐。\n\n**样例解释未必是唯一的方法。**\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（29 points）：$1 \\le n,k,a_{i} \\le 1000$。\n\n- Subtask 2（1 points）：$a_{i} \\le k$。\n\n- Subtask 3（70 points）：无特殊限制。\n\n对于所有数据，保证 $1 \\le n,k,a_{i} \\le 10^6$。\n\n$\\oplus$ 代表异或，如果您不知道什么是异或，请单击[这里](https://baike.baidu.com/item/%E5%BC%82%E6%88%96/10993677?fr=aladdin)。", "locale": "zh-CN"}}}
{"pid": "P6825", "type": "P", "difficulty": 6, "samples": [["2\n2 1000000007\n3 998244353", "19\n752"], ["2\n4 998244353\n123456 1000000007", "66420\n3252328"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 3200, 3200, 3200, 3200, 3200, 6000, 6000, 6000, 6000, 6000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "O2优化"], "title": "「EZEC-4」求和", "background": "", "description": "给定正整数 $n$ 的值，求出下面这个式子的值：\n\n$$\\displaystyle\\sum_{i = 1}^n \\sum_{j = 1}^n \\gcd(i,j)^{i + j}$$\n\n由于结果可能很大，所以你只需要求出结果对 $p$ 取模的值。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行，两个正整数 $n, p$。", "outputFormat": "对于每组数据，输出一行，一个正整数，表示所求的值。", "hint": "\n**本题开启 O2 优化和捆绑测试。**\n\n**为了卡掉错解开大了数据范围，请注意常数因子对程序产生的影响。**\n\n### 样例解释\n#### 样例 #1\n对于第一组数据：$\\operatorname{ans} = \\gcd(1, 1)^2 + \\gcd(1, 2)^3 + \\gcd(2, 1)^3 + \\gcd(2, 2)^4 = 1^2 + 1^3 + 1^3 + 2^4 = 3 + 16 = 19$。所以答案为 $19 \\bmod (10^9 + 7) = 19$。\n### 数据范围\n\n| Subtask | $\\sum n$ | 分值 | 时限 |\n| :------: | :------: | :------: | :------: |\n| $1$ | $1 \\leq \\sum n \\leq 500$ | $10 \\operatorname{pts}$ | $1.00 \\operatorname{s}$ |\n| $2$ | $1 \\leq \\sum n \\leq 5 \\times 10^5$ | $40 \\operatorname{pts}$ | $3.20 \\operatorname{s}$ |\n| $3$ | 无特殊限制 | $50 \\operatorname{pts}$ | $6.00 \\operatorname{s}$ |\n\n对于 $100\\%$ 的数据，$1 \\leq \\sum n \\leq 1.5 \\times 10^6$，$2 \\leq p \\leq 2^{31} - 1$ 且 $p$ 为质数，$1 \\leq T \\leq 2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-4」求和", "background": "", "description": "给定正整数 $n$ 的值，求出下面这个式子的值：\n\n$$\\displaystyle\\sum_{i = 1}^n \\sum_{j = 1}^n \\gcd(i,j)^{i + j}$$\n\n由于结果可能很大，所以你只需要求出结果对 $p$ 取模的值。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行，两个正整数 $n, p$。", "outputFormat": "对于每组数据，输出一行，一个正整数，表示所求的值。", "hint": "\n**本题开启 O2 优化和捆绑测试。**\n\n**为了卡掉错解开大了数据范围，请注意常数因子对程序产生的影响。**\n\n### 样例解释\n#### 样例 #1\n对于第一组数据：$\\operatorname{ans} = \\gcd(1, 1)^2 + \\gcd(1, 2)^3 + \\gcd(2, 1)^3 + \\gcd(2, 2)^4 = 1^2 + 1^3 + 1^3 + 2^4 = 3 + 16 = 19$。所以答案为 $19 \\bmod (10^9 + 7) = 19$。\n### 数据范围\n\n| Subtask | $\\sum n$ | 分值 | 时限 |\n| :------: | :------: | :------: | :------: |\n| $1$ | $1 \\leq \\sum n \\leq 500$ | $10 \\operatorname{pts}$ | $1.00 \\operatorname{s}$ |\n| $2$ | $1 \\leq \\sum n \\leq 5 \\times 10^5$ | $40 \\operatorname{pts}$ | $3.20 \\operatorname{s}$ |\n| $3$ | 无特殊限制 | $50 \\operatorname{pts}$ | $6.00 \\operatorname{s}$ |\n\n对于 $100\\%$ 的数据，$1 \\leq \\sum n \\leq 1.5 \\times 10^6$，$2 \\leq p \\leq 2^{31} - 1$ 且 $p$ 为质数，$1 \\leq T \\leq 2$。", "locale": "zh-CN"}}}
{"pid": "P6826", "type": "P", "difficulty": 6, "samples": [["1\n2 3 5", "20"], ["2\n23333 23333 233233\n114514 19260817 1919810   ", "356712294\n125194507"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "枚举", "前缀和"], "title": "「EZEC-4」月下轻花舞", "background": ">月下的轻花，随轻风飘舞，勾起了你我的记忆......\n\n![](http://p1.music.126.net/mi-oogxsSXkHwPACQRsxgw==/109951163115816964.jpg?param=557y315)", "description": "在轻花林中，有从 $l$ 到 $r$ 编号的轻花树，编号为 $i$ 的树有 $i-1$ 棵，轻花林很美，所以每棵树上都有编号为 $1\\sim n$ 的 $n$ 朵轻花，编号为 $i$ 的树上编号为 $j$ 的轻花落下会产生大小为 $\\left\\lceil\\log_ij\\right\\rceil$ 的魅力值。  \n\n夜幕降临，所有树上的所有轻花全部落下，花痴（雾）tlx 想知道总共有多大的魅力值，但是只算一次太简单了，所以他会设置不同情境询问你 $T$ 次，不过由于答案很大，你只需要告诉他魅力值总和对 $998244353$ 取模的结果。    \n\n**一句话题意**： $T$ 组询问，每次给定三个整数 $l,r,n$，求出下式的值： \n\n$$\\sum_{i=l}^r(i-1)\\sum_{j=1}^n \\left\\lceil\\log_ij\\right\\rceil\\;\\;\\bmod998244353$$", "inputFormat": "第一行一个整数 $T$，代表询问个数。  \n\n接下来 $T$ 行，每行三个整数 $l,r,n$，分别代表树编号的起始值，终止值，以及一棵树上轻花的朵数。", "outputFormat": "共 $T$ 行，每行一个整数，代表每一个询问的结果对 $998244353$ 取模的结果。", "hint": "**【数据范围与约束】**   \n\n**本题采用捆绑测试，具体约束如下：**  \n\n- Subtask 1 $(1\\text{ pts})$：$T=1$，$n=1$；   \n- Subtask 2 $(9\\text{ pts})$：$l=r=2$；   \n- Subtask 3 $(10\\text{ pts})$：$T=1$，$n\\leq 10^3$，$r\\leq 10^3$；   \n- Subtask 4 $(10\\text{ pts})$：$l=r\\not=2$；      \n- Subtask 5 $(20\\text{ pts})$：$T=1$，$n\\leq 10^6$；\n- Subtask 6 $(20\\text{ pts})$：$T=1$，$r\\leq 10^6$；\n- Subtask 7 $(20\\text{ pts})$：$T\\leq 3000$；\n- Subtask 8 $(10\\text{ pts})$：无特殊限制，时间限制 $1.5\\;\\text{s}$。\n\n对于所有数据，满足：  \n\n$1\\leq T\\leq 10^5$，$1\\leq n\\leq 10^{18}$，$2\\leq l\\leq r\\leq 10^{18}$。  \n\n**注意：在具体约束中没有提到的数据范围均为极限数据范围。**\n\n\n\n------------\n\n\n**【样例解释 #1】**   \n\n$$\\left\\lceil\\log_21\\right\\rceil+\\left\\lceil\\log_22\\right\\rceil+\\left\\lceil\\log_23\\right\\rceil+\\left\\lceil\\log_24\\right\\rceil+\\left\\lceil\\log_25\\right\\rceil=8$$\n\n$$\\left\\lceil\\log_31\\right\\rceil+\\left\\lceil\\log_32\\right\\rceil+\\left\\lceil\\log_33\\right\\rceil+\\left\\lceil\\log_34\\right\\rceil+\\left\\lceil\\log_35\\right\\rceil=6$$   \n\n故：\n\n$$ans=8×(2-1)+6×(3-1)=20$$   \n\n对于样例 #2，我相信您聪明的大脑可以分分钟得到答案的。\n\n\n\n------------\n\n**【其他提示】**  \n\n如果你不了解对数（$\\log$）运算,可以查看[这里](https://baike.baidu.com/item/对数公式/5557846?fr=aladdin)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-4」月下轻花舞", "background": ">月下的轻花，随轻风飘舞，勾起了你我的记忆......\n\n![](http://p1.music.126.net/mi-oogxsSXkHwPACQRsxgw==/109951163115816964.jpg?param=557y315)", "description": "在轻花林中，有从 $l$ 到 $r$ 编号的轻花树，编号为 $i$ 的树有 $i-1$ 棵，轻花林很美，所以每棵树上都有编号为 $1\\sim n$ 的 $n$ 朵轻花，编号为 $i$ 的树上编号为 $j$ 的轻花落下会产生大小为 $\\left\\lceil\\log_ij\\right\\rceil$ 的魅力值。  \n\n夜幕降临，所有树上的所有轻花全部落下，花痴（雾）tlx 想知道总共有多大的魅力值，但是只算一次太简单了，所以他会设置不同情境询问你 $T$ 次，不过由于答案很大，你只需要告诉他魅力值总和对 $998244353$ 取模的结果。    \n\n**一句话题意**： $T$ 组询问，每次给定三个整数 $l,r,n$，求出下式的值： \n\n$$\\sum_{i=l}^r(i-1)\\sum_{j=1}^n \\left\\lceil\\log_ij\\right\\rceil\\;\\;\\bmod998244353$$", "inputFormat": "第一行一个整数 $T$，代表询问个数。  \n\n接下来 $T$ 行，每行三个整数 $l,r,n$，分别代表树编号的起始值，终止值，以及一棵树上轻花的朵数。", "outputFormat": "共 $T$ 行，每行一个整数，代表每一个询问的结果对 $998244353$ 取模的结果。", "hint": "**【数据范围与约束】**   \n\n**本题采用捆绑测试，具体约束如下：**  \n\n- Subtask 1 $(1\\text{ pts})$：$T=1$，$n=1$；   \n- Subtask 2 $(9\\text{ pts})$：$l=r=2$；   \n- Subtask 3 $(10\\text{ pts})$：$T=1$，$n\\leq 10^3$，$r\\leq 10^3$；   \n- Subtask 4 $(10\\text{ pts})$：$l=r\\not=2$；      \n- Subtask 5 $(20\\text{ pts})$：$T=1$，$n\\leq 10^6$；\n- Subtask 6 $(20\\text{ pts})$：$T=1$，$r\\leq 10^6$；\n- Subtask 7 $(20\\text{ pts})$：$T\\leq 3000$；\n- Subtask 8 $(10\\text{ pts})$：无特殊限制，时间限制 $1.5\\;\\text{s}$。\n\n对于所有数据，满足：  \n\n$1\\leq T\\leq 10^5$，$1\\leq n\\leq 10^{18}$，$2\\leq l\\leq r\\leq 10^{18}$。  \n\n**注意：在具体约束中没有提到的数据范围均为极限数据范围。**\n\n\n\n------------\n\n\n**【样例解释 #1】**   \n\n$$\\left\\lceil\\log_21\\right\\rceil+\\left\\lceil\\log_22\\right\\rceil+\\left\\lceil\\log_23\\right\\rceil+\\left\\lceil\\log_24\\right\\rceil+\\left\\lceil\\log_25\\right\\rceil=8$$\n\n$$\\left\\lceil\\log_31\\right\\rceil+\\left\\lceil\\log_32\\right\\rceil+\\left\\lceil\\log_33\\right\\rceil+\\left\\lceil\\log_34\\right\\rceil+\\left\\lceil\\log_35\\right\\rceil=6$$   \n\n故：\n\n$$ans=8×(2-1)+6×(3-1)=20$$   \n\n对于样例 #2，我相信您聪明的大脑可以分分钟得到答案的。\n\n\n\n------------\n\n**【其他提示】**  \n\n如果你不了解对数（$\\log$）运算,可以查看[这里](https://baike.baidu.com/item/对数公式/5557846?fr=aladdin)。", "locale": "zh-CN"}}}
{"pid": "P6827", "type": "P", "difficulty": 6, "samples": [["3 \n((()())(()\n(() 4\n() 2\n()()() 5", "32"], ["3\n())()))()\n()) 9\n()() 8\n())) 7", "73"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化", "分块", "状压 DP"], "title": "「EZEC-4」括号", "background": "> 离景似是昨日，转眼却已经年$\\newline$ 往事依旧，物是全非\n\n", "description": "给一个由小括号组成的序列和 $n$ 个括号串，要你在序列中匹配允许不连续的子串。\n\n母序列的每个括号最多被匹配一次。\n\n一种可能的不连续子串匹配方式为 ```)()(``` 中匹配 ``` ))(``` 。\n\n每个括号串有一个值 $v$，代表对这个串每匹配一个括号得到的价值。\n\n每个括号串均可以多次匹配，可以随时停止匹配，但是不能在未匹配完一个括号串的情况下开始匹配其他括号串。\n\n注意如果你跳过了母序列的某几个括号去匹配后面的，那么你将不能返回前面继续进行匹配。\n\n求匹配能得到的最大值。", "inputFormat": "第一行一个整数 $n$，表示括号串的个数。\n\n第二行一个字符串 $k$，表示给出的母序列。\n\n接下来 $n$ 行，每行一个括号串 $a$ 和一个数字 $v$。在这 $n$ 行中，第 $i$ 行的字符 $a_i,v_i$ 表示一个存在的括号串以及匹配这个括号串内一个括号所能得到的价值。\n\n\n\n", "outputFormat": "一个数 $r$，表示能取得的最大值。", "hint": "【温馨提示】\n\n**为了卡掉错解开大了数据范围，请注意常数因子对程序产生的影响。**\n\n【数据范围】\n\n**本题使用捆绑测试。**\n\n对于 $100\\%$ 的数据， $1 \\le n \\le 500, 1 \\le len(k) \\le 10^4, 1 \\le len(a) \\le 300,0 \\le v \\le 10^3$。\n\n| Subtask | $ n \\le$ | $ len(k) \\le$ | $ len(a) \\le$ |   时间 | 分值|特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |:----------: | :----------: |:----------: |\n| $1$ | $10$ | $7$| $7$ | $1\\text s$ |$5$|保证最优解每个 a 最多只用一次 |\n| $2$ | $10$ | $50$| $8$| $1\\text s$|$5$|数据随机，若 AC subtask3 则不计入总分|\n| $3$ | $10$ | $1000$| $8$| $1\\text s$|$10$|保证最优解每个 a 最多只用一次|\n| $4$ | $100$ | $10^4$ | $8$ | $1\\text s$ |$15$| 无 |\n| $5$ | $500$ | $10^4$ | $8$ | $1\\text s$ |$10$| 无 |\n| $6$ | $500$ | $10^4$ | $300$| $2.2\\text s$ |$60$| 无|\n\n【样例 $1$ 解释】\n\n最佳方案为先匹配 ```(()``` ，后匹配 ```()()()``` （ 注意最多只能匹配到 ```()()``` ），答案为 $4\\times3 + 5 \\times 4 = 32$。\n\n一种可行的匹配方法为方括号括起来的部分 ```(【(()()】)(【()】``` 。\n\n而若先匹配 ```(()``` ，再匹配 ```()``` ，最后匹配 ```(()``` 的价值为 $4\\times 3 + 2\\times 2 + 4\\times 3 = 28$，并非最佳方案。\n\n注意我们不能先匹配 ```(()``` ，再匹配 ```()()()``` 中一个括号，最后匹配 ```(()``` ，因为我们可以随时停止匹配，但不能在未匹配完某个串的情况下开始匹配另一个串。\n\n【样例 $2$ 解释】\n\n最佳方案先匹配 ```())```，再匹配 ```()))``` 最后匹配 ```())``` （ 注意最多只能匹配到 ```()``` ）, 答案为 $9\\times 3 + 7 \\times 4 + 9 \\times 2 = 73$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-4」括号", "background": "> 离景似是昨日，转眼却已经年$\\newline$ 往事依旧，物是全非\n\n", "description": "给一个由小括号组成的序列和 $n$ 个括号串，要你在序列中匹配允许不连续的子串。\n\n母序列的每个括号最多被匹配一次。\n\n一种可能的不连续子串匹配方式为 ```)()(``` 中匹配 ``` ))(``` 。\n\n每个括号串有一个值 $v$，代表对这个串每匹配一个括号得到的价值。\n\n每个括号串均可以多次匹配，可以随时停止匹配，但是不能在未匹配完一个括号串的情况下开始匹配其他括号串。\n\n注意如果你跳过了母序列的某几个括号去匹配后面的，那么你将不能返回前面继续进行匹配。\n\n求匹配能得到的最大值。", "inputFormat": "第一行一个整数 $n$，表示括号串的个数。\n\n第二行一个字符串 $k$，表示给出的母序列。\n\n接下来 $n$ 行，每行一个括号串 $a$ 和一个数字 $v$。在这 $n$ 行中，第 $i$ 行的字符 $a_i,v_i$ 表示一个存在的括号串以及匹配这个括号串内一个括号所能得到的价值。\n\n\n\n", "outputFormat": "一个数 $r$，表示能取得的最大值。", "hint": "【温馨提示】\n\n**为了卡掉错解开大了数据范围，请注意常数因子对程序产生的影响。**\n\n【数据范围】\n\n**本题使用捆绑测试。**\n\n对于 $100\\%$ 的数据， $1 \\le n \\le 500, 1 \\le len(k) \\le 10^4, 1 \\le len(a) \\le 300,0 \\le v \\le 10^3$。\n\n| Subtask | $ n \\le$ | $ len(k) \\le$ | $ len(a) \\le$ |   时间 | 分值|特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |:----------: | :----------: |:----------: |\n| $1$ | $10$ | $7$| $7$ | $1\\text s$ |$5$|保证最优解每个 a 最多只用一次 |\n| $2$ | $10$ | $50$| $8$| $1\\text s$|$5$|数据随机，若 AC subtask3 则不计入总分|\n| $3$ | $10$ | $1000$| $8$| $1\\text s$|$10$|保证最优解每个 a 最多只用一次|\n| $4$ | $100$ | $10^4$ | $8$ | $1\\text s$ |$15$| 无 |\n| $5$ | $500$ | $10^4$ | $8$ | $1\\text s$ |$10$| 无 |\n| $6$ | $500$ | $10^4$ | $300$| $2.2\\text s$ |$60$| 无|\n\n【样例 $1$ 解释】\n\n最佳方案为先匹配 ```(()``` ，后匹配 ```()()()``` （ 注意最多只能匹配到 ```()()``` ），答案为 $4\\times3 + 5 \\times 4 = 32$。\n\n一种可行的匹配方法为方括号括起来的部分 ```(【(()()】)(【()】``` 。\n\n而若先匹配 ```(()``` ，再匹配 ```()``` ，最后匹配 ```(()``` 的价值为 $4\\times 3 + 2\\times 2 + 4\\times 3 = 28$，并非最佳方案。\n\n注意我们不能先匹配 ```(()``` ，再匹配 ```()()()``` 中一个括号，最后匹配 ```(()``` ，因为我们可以随时停止匹配，但不能在未匹配完某个串的情况下开始匹配另一个串。\n\n【样例 $2$ 解释】\n\n最佳方案先匹配 ```())```，再匹配 ```()))``` 最后匹配 ```())``` （ 注意最多只能匹配到 ```()``` ）, 答案为 $9\\times 3 + 7 \\times 4 + 9 \\times 2 = 73$。", "locale": "zh-CN"}}}
{"pid": "P6828", "type": "P", "difficulty": 7, "samples": [["6 108616 6\n1 0 8 6 1 6", "22 772456230 866731294 299746576 978045696 394365866"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "任意模数 Chirp Z-Transform", "background": "大家应该知道原时空限是 1.23s 345MB。", "description": "给定一个 $n$ 项多项式 $P(x)$ 以及 $c, m$，请计算 $P(c^0),P(c^1),\\dots,P(c^{m-1})$。所有答案都对 $10^9+7$ 取模。", "inputFormat": "第一行三个正整数 $n,c,m$。  \n第二行 $n$ 个非负整数 $a_0,a_1,\\dots,a_{n-1}$，由低到高表示 $P(x)$ 的系数。\n", "outputFormat": "一行 $m$ 个正整数，第 $i$ 个数表示 $P(c^{i-1})$。", "hint": "对于 $100\\%$ 的数据，$1\\le n,m\\le 6\\cdot10^5,0\\le c,a_i<10^9+7$.  \n| 测试点编号 | $n,m$ 限制 |\n| :-----------: | :-----------: |\n| $1$ | $n=m=1000$ |\n| $2$ | $n=m=64000$ |\n| $3$ | $n=m=5\\cdot10^5$ |\n| $4$ | $n=5\\cdot10^5,m=6\\cdot10^5$ |\n| $5$ | $n=6\\cdot10^5,m=5\\cdot10^5$ |\n\n出题人很遗憾由于精度和洛谷自带资料限制无法开到 $10^6$。  \n提示：$7$ 次 $FFT$ 可能过不了。  \n提示：出题人没有用 `long double`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "任意模数 Chirp Z-Transform", "background": "大家应该知道原时空限是 1.23s 345MB。", "description": "给定一个 $n$ 项多项式 $P(x)$ 以及 $c, m$，请计算 $P(c^0),P(c^1),\\dots,P(c^{m-1})$。所有答案都对 $10^9+7$ 取模。", "inputFormat": "第一行三个正整数 $n,c,m$。  \n第二行 $n$ 个非负整数 $a_0,a_1,\\dots,a_{n-1}$，由低到高表示 $P(x)$ 的系数。\n", "outputFormat": "一行 $m$ 个正整数，第 $i$ 个数表示 $P(c^{i-1})$。", "hint": "对于 $100\\%$ 的数据，$1\\le n,m\\le 6\\cdot10^5,0\\le c,a_i<10^9+7$.  \n| 测试点编号 | $n,m$ 限制 |\n| :-----------: | :-----------: |\n| $1$ | $n=m=1000$ |\n| $2$ | $n=m=64000$ |\n| $3$ | $n=m=5\\cdot10^5$ |\n| $4$ | $n=5\\cdot10^5,m=6\\cdot10^5$ |\n| $5$ | $n=6\\cdot10^5,m=5\\cdot10^5$ |\n\n出题人很遗憾由于精度和洛谷自带资料限制无法开到 $10^6$。  \n提示：$7$ 次 $FFT$ 可能过不了。  \n提示：出题人没有用 `long double`。", "locale": "zh-CN"}}}
{"pid": "P6829", "type": "P", "difficulty": 7, "samples": [], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2020", "线段树", "倍增", "IOI", "交互题"], "title": "[IOI 2020] 植物比较", "background": "**这是一道交互题**。\n\n本题仅支持 C++ 系列语言，提交时不需要包含 `plant.h` 头文件。", "description": "植物学家 Hazel 参观过新加坡植物园的一个特别展览。在这次展览中，有 $n$ 棵 **高度互不相同** 的植物，它们排成了一个圆。这些植物按顺时针方向从 $0$ 到 $n-1$ 编号，植物 $n-1 $ 与植物 $0$ 是相邻的。\n\n对于每棵植物 $i\\ (0 \\le i \\le n-1$)，Hazel 将它与顺时针方向的后 $k-1$ 棵植物进行比较，记录下数值 $r[i]$ 以表示这 $k-1$ 棵植物中有多少棵的高度大于植物 $i$。因此，每个 $r[i]$ 的数值是由某段连续 $k$ 棵植物的相对高度决定的。\n\n例如，假设 $n=5$，$k=3$，$i=3$。植物 $3$ 顺时针方向的后 $k-1=2$ 棵植物是植物 $4$ 和植物 $0$。如果植物 $4$ 比植物 $3$ 高，且植物 $0$ 比植物 $3$ 矮，那么 Hazel 将会记录 $r[3]=1$。\n\n你可以假设 Hazel 记录的数值 $r[i]$ 都是正确的。也就是说，这些植物至少存在一组互不相同的高度符合 Hazel 所记录的数值。\n\n本题要求你比较 $q$ 对植物的高度。由于你没有机会参观这次展览，你仅有的信息来源是 Hazel 的笔记本，其中记录了 $k$ 和序列 $r[0],\\ldots, r[n-1]$ 的值。\n\n对于每对需要比较的植物 $x$ 和 $y$（$x$ 和 $y$ 不同），判定它们符合以下哪种情况：\n\n- 植物 $x$ 一定比植物 $y$ 高：对于任意一组符合数组 $r$ 且互不相同的高度 $h[0],\\ldots h[n-1]$，都有 $h[x] > h[y]$。\n- 植物 $x$ 一定比植物 $y$ 矮：对于任意一组符合数组 $r$ 且互不相同的高度 $h[0],\\ldots h[n-1]$，都有 $h[x]<h[y]$。\n- 该比较没有定论：以上两种情况都不成立。\n\n#### 实现细节\n\n要求你实现以下函数：\n```cpp\nvoid init(int k, std::vector<int> r)\n```\n- $k$：决定每个 $r[i]$ 数值的连续植物的棵数。\n- $r$：一个大小为 $n$ 的数组，其中 $r[i]$ 是植物 $i$ 顺时针方向的后 $k-1$ 棵植物中比它高的棵数。\n- 该函数恰好被调用一次，且在对 `compare_plants` 的任何调用前。\n```cpp\nint compare_plants(int x, int y)\n```\n- $x,y$ ：待比较的植物的编号。\n- 该函数应该返回：\n\t- $1$，如果植物 $x$ 一定比植物 $y$ 高，\n\t- $-1$，如果植物 $x$ 一定比植物 $y$ 矮，\n\t- $0$，如果该比较没有定论。\n- 该函数恰好被调用 $q$ 次。", "inputFormat": "", "outputFormat": "", "hint": "#### 样例说明\n\n#### 例 1\n\n考虑以下调用：\n```cpp\ninit(3, [0, 1, 1, 2])\n```\n假设评测程序调用了 `compare_plants(0, 2)`。由 $r[0]=0$ 可以推断植物 $2$ 不比植物 $0$ 高，因此该调用应该返回 $1$。\n\n假设评测程序接下来调用了 `compare_plants(1, 2)`。由于对每组符合以上条件的植物高度，都有植物 $1$ 比物 $2$ 矮，因此该调用应该返回 $-1$。\n\n#### 例 2\n\n考虑以下调用：\n```cpp\ninit(2, [0, 1, 0, 1])\n```\n假设评测程序调用了 `compare_plants(0, 3)`。由 $r[3]=1$ 可以推断植物 $0$ 比植物 $3$ 高，因此该调用应该返回 $1$。\n\n假设评测程序接下来调用了 `compare_plants(1, 3)`。两组高度 $[3,1,4,2]$ 和 $[3,2,4,1]$ 都符合 Hazel 的观测记录，由于在第一种情况中植物 $1$ 比植物 $3$ 矮，而在第二种情况中它比植物 $3$ 高，因此该调用应该返回 $0$。\n\n#### 约束条件\n\n- $2\\le k\\le n\\le 200\\ 000$\n- $1\\le q\\le 200\\ 000$\n- $0 \\le r[i]\\le k-1$（对所有 $0 \\le i \\le n-1$）\n- $0\\le x<y\\le n-1$\n- 存在一组或多组 **互不相同的高度** 符合数组 $r$ 记录的情况\n\n#### 子任务\n\n1. （5 分）$k=2$\n2. （14 分）$n \\le 5000,2 \\cdot k > n$\n3. （13 分）$2 \\cdot k > n$\n4. （17 分）每次 `compare_plants` 调用的正确答案是 $1$ 或 $-1$\n5. （11 分）$n\\le 300, q\\le \\frac{n\\cdot (n-1)}{2}$\n6. （15 分）每次调用 `compare_plants` 时有 $x=0$\n7. （25 分）没有附加约束条件\n\n#### 评测程序示例\n\n评测程序示例以如下格式读取输⼊数据：\n\n第 $1$ 行：$n\\ k\\ q$     \n第 $2$ 行：$r[0]\\ r[1]\\ \\cdots\\ r[n-1]$        \n第 $3+i\\ (0\\le i\\le q-1)$ 行：$x\\ y$，表⽰第 $i$ 次调用 `compare_plants` 时的参数\n\n评测程序示例以如下格式打印你的答案：\n\n第 $1+i\\ (0\\le i\\le q-1)$ 行：第 $i$ 次调用 `compare_plants` 的返回值", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2020] 植物比较", "background": "**这是一道交互题**。\n\n本题仅支持 C++ 系列语言，提交时不需要包含 `plant.h` 头文件。", "description": "植物学家 Hazel 参观过新加坡植物园的一个特别展览。在这次展览中，有 $n$ 棵 **高度互不相同** 的植物，它们排成了一个圆。这些植物按顺时针方向从 $0$ 到 $n-1$ 编号，植物 $n-1 $ 与植物 $0$ 是相邻的。\n\n对于每棵植物 $i\\ (0 \\le i \\le n-1$)，Hazel 将它与顺时针方向的后 $k-1$ 棵植物进行比较，记录下数值 $r[i]$ 以表示这 $k-1$ 棵植物中有多少棵的高度大于植物 $i$。因此，每个 $r[i]$ 的数值是由某段连续 $k$ 棵植物的相对高度决定的。\n\n例如，假设 $n=5$，$k=3$，$i=3$。植物 $3$ 顺时针方向的后 $k-1=2$ 棵植物是植物 $4$ 和植物 $0$。如果植物 $4$ 比植物 $3$ 高，且植物 $0$ 比植物 $3$ 矮，那么 Hazel 将会记录 $r[3]=1$。\n\n你可以假设 Hazel 记录的数值 $r[i]$ 都是正确的。也就是说，这些植物至少存在一组互不相同的高度符合 Hazel 所记录的数值。\n\n本题要求你比较 $q$ 对植物的高度。由于你没有机会参观这次展览，你仅有的信息来源是 Hazel 的笔记本，其中记录了 $k$ 和序列 $r[0],\\ldots, r[n-1]$ 的值。\n\n对于每对需要比较的植物 $x$ 和 $y$（$x$ 和 $y$ 不同），判定它们符合以下哪种情况：\n\n- 植物 $x$ 一定比植物 $y$ 高：对于任意一组符合数组 $r$ 且互不相同的高度 $h[0],\\ldots h[n-1]$，都有 $h[x] > h[y]$。\n- 植物 $x$ 一定比植物 $y$ 矮：对于任意一组符合数组 $r$ 且互不相同的高度 $h[0],\\ldots h[n-1]$，都有 $h[x]<h[y]$。\n- 该比较没有定论：以上两种情况都不成立。\n\n#### 实现细节\n\n要求你实现以下函数：\n```cpp\nvoid init(int k, std::vector<int> r)\n```\n- $k$：决定每个 $r[i]$ 数值的连续植物的棵数。\n- $r$：一个大小为 $n$ 的数组，其中 $r[i]$ 是植物 $i$ 顺时针方向的后 $k-1$ 棵植物中比它高的棵数。\n- 该函数恰好被调用一次，且在对 `compare_plants` 的任何调用前。\n```cpp\nint compare_plants(int x, int y)\n```\n- $x,y$ ：待比较的植物的编号。\n- 该函数应该返回：\n\t- $1$，如果植物 $x$ 一定比植物 $y$ 高，\n\t- $-1$，如果植物 $x$ 一定比植物 $y$ 矮，\n\t- $0$，如果该比较没有定论。\n- 该函数恰好被调用 $q$ 次。", "inputFormat": "", "outputFormat": "", "hint": "#### 样例说明\n\n#### 例 1\n\n考虑以下调用：\n```cpp\ninit(3, [0, 1, 1, 2])\n```\n假设评测程序调用了 `compare_plants(0, 2)`。由 $r[0]=0$ 可以推断植物 $2$ 不比植物 $0$ 高，因此该调用应该返回 $1$。\n\n假设评测程序接下来调用了 `compare_plants(1, 2)`。由于对每组符合以上条件的植物高度，都有植物 $1$ 比物 $2$ 矮，因此该调用应该返回 $-1$。\n\n#### 例 2\n\n考虑以下调用：\n```cpp\ninit(2, [0, 1, 0, 1])\n```\n假设评测程序调用了 `compare_plants(0, 3)`。由 $r[3]=1$ 可以推断植物 $0$ 比植物 $3$ 高，因此该调用应该返回 $1$。\n\n假设评测程序接下来调用了 `compare_plants(1, 3)`。两组高度 $[3,1,4,2]$ 和 $[3,2,4,1]$ 都符合 Hazel 的观测记录，由于在第一种情况中植物 $1$ 比植物 $3$ 矮，而在第二种情况中它比植物 $3$ 高，因此该调用应该返回 $0$。\n\n#### 约束条件\n\n- $2\\le k\\le n\\le 200\\ 000$\n- $1\\le q\\le 200\\ 000$\n- $0 \\le r[i]\\le k-1$（对所有 $0 \\le i \\le n-1$）\n- $0\\le x<y\\le n-1$\n- 存在一组或多组 **互不相同的高度** 符合数组 $r$ 记录的情况\n\n#### 子任务\n\n1. （5 分）$k=2$\n2. （14 分）$n \\le 5000,2 \\cdot k > n$\n3. （13 分）$2 \\cdot k > n$\n4. （17 分）每次 `compare_plants` 调用的正确答案是 $1$ 或 $-1$\n5. （11 分）$n\\le 300, q\\le \\frac{n\\cdot (n-1)}{2}$\n6. （15 分）每次调用 `compare_plants` 时有 $x=0$\n7. （25 分）没有附加约束条件\n\n#### 评测程序示例\n\n评测程序示例以如下格式读取输⼊数据：\n\n第 $1$ 行：$n\\ k\\ q$     \n第 $2$ 行：$r[0]\\ r[1]\\ \\cdots\\ r[n-1]$        \n第 $3+i\\ (0\\le i\\le q-1)$ 行：$x\\ y$，表⽰第 $i$ 次调用 `compare_plants` 时的参数\n\n评测程序示例以如下格式打印你的答案：\n\n第 $1+i\\ (0\\le i\\le q-1)$ 行：第 $i$ 次调用 `compare_plants` 的返回值", "locale": "zh-CN"}}}
