{"pid": "P1661", "type": "P", "difficulty": 3, "samples": [["2\r\n0 0\r\n5 5", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "树形数据结构", "二分", "并查集", "生成树"], "title": "扩散", "background": "", "description": "一个点每过一个单位时间就会向四个方向扩散一个距离，如图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cd4e53lw.png)\n\n两个点 $a$ 、 $b$ 连通，记作 $e(a,b)$，当且仅当 $a,b$ 的扩散区域有公共部分。连通块的定义是块内的任意两个点 $u,v$ 都必定存在路径 $e(u,a_0),e(a_0,a_1),\\cdots,e(a_k,v)$。给定平面上的 $n$ 个点，问最早什么时刻它们形成一个连通块。\n", "inputFormat": "第一行一个数 $n$，以下 $n$ 行，每行一个点坐标。", "outputFormat": "一个数，表示最早的时刻所有点形成连通块。\n", "hint": "### 数据范围及约定\n\n对于 $20\\%$ 的数据，满足 $1 \\le N \\le 5;1 \\le X_i,Y_i \\le 50$。\n\n对于 $100\\%$ 的数据，满足 $1 \\le N \\le 50$，$1 \\le X_i,Y_i \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Diffusion", "background": "", "description": "Each point expands by a distance of 1 in the four cardinal directions every unit of time, as shown in the figure.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cd4e53lw.png)\n\nTwo points $a$ and $b$ are connected, denoted $e(a,b)$, if and only if the expansion regions of $a$ and $b$ have a nonempty intersection. A connected component is defined so that for any two points $u$ and $v$ within the component, there exists a path $e(u,a_0), e(a_0,a_1), \\cdots, e(a_k,v)$. Given $n$ points on the plane, find the earliest time when they form a single connected component.", "inputFormat": "The first line contains an integer $n$. Each of the next $n$ lines contains two integers $X_i$ and $Y_i$, the coordinates of a point.", "outputFormat": "Output a single number, representing the earliest time when all points form a single connected component.", "hint": "Constraints\n\n- For $20\\%$ of the testdata, $1 \\le n \\le 5$, $1 \\le X_i, Y_i \\le 50$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 50$, $1 \\le X_i, Y_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "扩散", "background": "", "description": "一个点每过一个单位时间就会向四个方向扩散一个距离，如图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cd4e53lw.png)\n\n两个点 $a$ 、 $b$ 连通，记作 $e(a,b)$，当且仅当 $a,b$ 的扩散区域有公共部分。连通块的定义是块内的任意两个点 $u,v$ 都必定存在路径 $e(u,a_0),e(a_0,a_1),\\cdots,e(a_k,v)$。给定平面上的 $n$ 个点，问最早什么时刻它们形成一个连通块。\n", "inputFormat": "第一行一个数 $n$，以下 $n$ 行，每行一个点坐标。", "outputFormat": "一个数，表示最早的时刻所有点形成连通块。\n", "hint": "### 数据范围及约定\n\n对于 $20\\%$ 的数据，满足 $1 \\le N \\le 5;1 \\le X_i,Y_i \\le 50$。\n\n对于 $100\\%$ 的数据，满足 $1 \\le N \\le 50$，$1 \\le X_i,Y_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1662", "type": "P", "difficulty": 5, "samples": [["1000", "1311"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学"], "title": "数7", "background": "", "description": "$1337$ 个人排成一个圈，从 $1$ 号人开始报数，初始方向是 $1,2,3\\dots$。如果某个人报的数是 $7$ 的倍数或数字中含有 $7$，那么报数的方向就反一下。问报数字 $X$ 的是第几号人？\n\n**比如初始 $20$ 个数字的情况是：**\n\n| 数字 $X$ | 报的人的编号 |\n| :----------: | :----------: |\n| $1$ | $1$ |\n| $2$ | $2$ |\n| $3$ | $3$ |\n| $4$ | $4$ |\n| $5$ | $5$ |\n| $6$ | $6$ |\n| $7$ | $7$ |\n| $8$ | $6$ |\n| $9$ | $5$ |\n| $10$ | $4$ |\n| $11$ | $3$ |\n| $12$ | $2$ |\n| $13$ | $1$ |\n| $14$ | $1337$ |\n| $15$ | $1$ |\n| $16$ | $2$ |\n| $17$ | $3$ |\n| $18$ | $2$ |\n| $19$ | $1$ |\n| $20$ | $1337$ |\n", "inputFormat": "一行一个整数 $X$。", "outputFormat": "一行一个整数，表示最终报数字 $X$ 的是第几号人。", "hint": "**【数据规模与约定】**\n\n对于 $30\\%$ 的数据，满足 $X\\leq10^6$；\n\n对于 $90\\%$ 的数据，满足 $X\\leq10^8$；\n\n对于 $100\\%$ 的数据，满足 $X\\leq10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Counting 7", "background": "", "description": "There are $1337$ people standing in a circle. Starting from person $1$, they count numbers; the initial direction is $1,2,3\\dots$. If the number someone says is a multiple of $7$ or contains the digit $7$, then the counting direction flips. Which numbered person says number $X$?\n\n**For example, for the first $20$ numbers:**\n\n| Number $X$ | Index of the person who says it |\n| :----------: | :----------: |\n| $1$ | $1$ |\n| $2$ | $2$ |\n| $3$ | $3$ |\n| $4$ | $4$ |\n| $5$ | $5$ |\n| $6$ | $6$ |\n| $7$ | $7$ |\n| $8$ | $6$ |\n| $9$ | $5$ |\n| $10$ | $4$ |\n| $11$ | $3$ |\n| $12$ | $2$ |\n| $13$ | $1$ |\n| $14$ | $1337$ |\n| $15$ | $1$ |\n| $16$ | $2$ |\n| $17$ | $3$ |\n| $18$ | $2$ |\n| $19$ | $1$ |\n| $20$ | $1337$ |", "inputFormat": "One line containing an integer $X$.", "outputFormat": "One line containing an integer, the index of the person who says number $X$.", "hint": "**Constraints**\n\nFor $30\\%$ of the testdata, $X\\leq10^6$.\n\nFor $90\\%$ of the testdata, $X\\leq10^8$.\n\nFor $100\\%$ of the testdata, $X\\leq10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数7", "background": "", "description": "$1337$ 个人排成一个圈，从 $1$ 号人开始报数，初始方向是 $1,2,3\\dots$。如果某个人报的数是 $7$ 的倍数或数字中含有 $7$，那么报数的方向就反一下。问报数字 $X$ 的是第几号人？\n\n**比如初始 $20$ 个数字的情况是：**\n\n| 数字 $X$ | 报的人的编号 |\n| :----------: | :----------: |\n| $1$ | $1$ |\n| $2$ | $2$ |\n| $3$ | $3$ |\n| $4$ | $4$ |\n| $5$ | $5$ |\n| $6$ | $6$ |\n| $7$ | $7$ |\n| $8$ | $6$ |\n| $9$ | $5$ |\n| $10$ | $4$ |\n| $11$ | $3$ |\n| $12$ | $2$ |\n| $13$ | $1$ |\n| $14$ | $1337$ |\n| $15$ | $1$ |\n| $16$ | $2$ |\n| $17$ | $3$ |\n| $18$ | $2$ |\n| $19$ | $1$ |\n| $20$ | $1337$ |\n", "inputFormat": "一行一个整数 $X$。", "outputFormat": "一行一个整数，表示最终报数字 $X$ 的是第几号人。", "hint": "**【数据规模与约定】**\n\n对于 $30\\%$ 的数据，满足 $X\\leq10^6$；\n\n对于 $90\\%$ 的数据，满足 $X\\leq10^8$；\n\n对于 $100\\%$ 的数据，满足 $X\\leq10^9$。", "locale": "zh-CN"}}}
{"pid": "P1663", "type": "P", "difficulty": 5, "samples": [["6\n0 0\n10 0\n11 1\n15 1\n16 0\n25 0", "3.00"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分", "三分", "Special Judge"], "title": "山", "background": "", "description": "给出一座山，如图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9goc0bar.png)\n\n现在要在山上的某个部位装一盏灯，使得这座山的任何一个部位都能够被看到。\n\n\n给出最小的 $y$ 坐标，如图的 `+` 号处就是 $y$ 坐标最小的安装灯的地方。\n", "inputFormat": "第一行一个数 $N$，表示这座山由 $N$ 个点构成；\n\n接下来 $N$ 行从左到右给出了这座山的构造情况，每行两个数 $X_i, Y_i$，表示一个折点，保证 $X_i > X_{i-1}$。\n", "outputFormat": "仅输出一行，为最小的 $y$ 坐标，当你的答案与标准答案相差不超过 $0.01$ 时，则被认为是正确的。\n", "hint": "数据规模：\n\n$30 \\%$ 的数据，$1 \\le N \\le 50$；\n\n\n$100 \\%$ 的数据，$1 \\le N \\le 5000$；$0 \\le X_i, Y_i \\le 100000$，保证答案不超过 $1000000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Mountain", "background": "", "description": "Given a mountain as shown in the figure.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9goc0bar.png)\n\nYou need to place a lamp somewhere on the mountain so that every part of the mountain is visible.\n\nOutput the minimum $y$-coordinate. As shown, the `+` mark indicates the installation point with the minimum $y$-coordinate.", "inputFormat": "The first line contains an integer $N$, indicating that the mountain consists of $N$ points.\n\nThe next $N$ lines, from left to right, describe the mountain. Each line contains two numbers $X_i, Y_i$ representing a vertex, and it is guaranteed that $X_i > X_{i-1}$.", "outputFormat": "Output a single line with the minimum $y$-coordinate. Your answer is considered correct if it differs from the standard answer by no more than $0.01$.", "hint": "Constraints:\n\n$30 \\%$ of the testdata, $1 \\le N \\le 50$.\n\n$100 \\%$ of the testdata, $1 \\le N \\le 5000$; $0 \\le X_i, Y_i \\le 100000$, and the answer is guaranteed to be no more than $1000000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "山", "background": "", "description": "给出一座山，如图。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9goc0bar.png)\n\n现在要在山上的某个部位装一盏灯，使得这座山的任何一个部位都能够被看到。\n\n\n给出最小的 $y$ 坐标，如图的 `+` 号处就是 $y$ 坐标最小的安装灯的地方。\n", "inputFormat": "第一行一个数 $N$，表示这座山由 $N$ 个点构成；\n\n接下来 $N$ 行从左到右给出了这座山的构造情况，每行两个数 $X_i, Y_i$，表示一个折点，保证 $X_i > X_{i-1}$。\n", "outputFormat": "仅输出一行，为最小的 $y$ 坐标，当你的答案与标准答案相差不超过 $0.01$ 时，则被认为是正确的。\n", "hint": "数据规模：\n\n$30 \\%$ 的数据，$1 \\le N \\le 50$；\n\n\n$100 \\%$ 的数据，$1 \\le N \\le 5000$；$0 \\le X_i, Y_i \\le 100000$，保证答案不超过 $1000000$。\n", "locale": "zh-CN"}}}
{"pid": "P1664", "type": "P", "difficulty": 2, "samples": [["12\n1\n1\n1\n1\n1\n0\n0\n0\n1\n0\n1\n1", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创", "洛谷比赛"], "title": "每日打卡心情好", "background": "在洛谷中，打卡不只是一个简单的鼠标点击动作，通过每天在洛谷打卡，可以清晰地记录下自己在洛谷学习的足迹。通过每天打卡，来不断地暗示自己：我又在洛谷学习了一天，进而帮助自己培养恒心、耐心、细心。此外，通过打卡，还可以获取经验值奖励，经验值的多少在一定程度上反映了你在洛谷的资历和成就。通过打卡累积活跃值，渐渐升级，会让你感觉“离神犇越来越近了”。", "description": "洛谷的打卡系统与其他网站的打卡系统一样，连续打卡天数越多，每次打卡获得的奖励也就越多，同时连续天数加上一天。然而，于其他网站只要一天不打卡，连续天数就要清零。与其他网站不同的是，洛谷的打卡更具有人性化，如果多天不打卡，连续天数仅仅只是减少，当遗漏天数越少，减少的天数也就越少。规则是减少 $2^{n-1}$ 天，$n$ 为连续遗漏天数。连续天数在下一次打卡时清算，打卡连续天数不会小于 $0$。也就是说，如果每隔一天打卡，那么连续天数就不会变了。\n\n当连续天数达到以下天数时，给予不同的活跃值奖励：\n\n$1$ 天：奖励 $1$（千里之行，始于足下）\n\n$3$ 天：奖励 $2$（坚持 $3$ 天了，加油！）\n\n$7$ 天：奖励 $3$（曜日轮回）\n\n$30$ 天：奖励 $4$（月圆月缺，习惯养成）\n\n$120$ 天：奖励 $5$（坚持四个月了！）\n\n$365$ 天：奖励 $6$（一年四季都坚持下来了！真不容易！）\n\n小 a $N$ 天前在洛谷注册了一个账号，虽然当时立志每天都要打卡，但发现这不太容易做到。现在知道他 $N$ 天的的打卡记录，小 a 希望得知他通过打卡，在 $N$ 天能获得多少活跃值？", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $1$ 或 $0$，代表当天是否打过卡。", "outputFormat": "一个整数，表示获得的活跃值！", "hint": "第 $1$ 天：$1$ // 开始打卡！获得 $1$ 点经验，共 $1$ 点，连续 $1$ 天。\n\n第 $2$ 天：$1$ // 获得 $1$ 点经验，共 $2$ 点，连续 $2$ 天。\n\n第 $3$ 天：$1$ // 获得 $2$ 点经验，共 $4$ 点，连续 $3$ 天。\n\n第 $4$ 天：$1$ // 获得 $2$ 点经验，共 $6$ 点，连续 $4$ 天\n\n第 $5$ 天：$1$ // 获得 $2$ 点经验，共 $8$ 点，连续 $5$ 天\n\n第 $6$ 天：$0$ // 由于要去趟火星，没有网络不得已而断签\n\n第 $7$ 天：$0$\n\n第 $8$ 天：$0$\n\n第 $9$ 天：$1$ // 我回来了，可惜连续天数变成 $5-4=1$ 天了 TQT…… 获得 $1$ 点经验，共 $9$ 点，连续 $2$ 天\n\n第 $10$ 天：$0$ // 啊，事情太多给忘了\n\n第 $11$ 天：$1$ // 连续天数变成 $2-1=1$ 天。获得 $1$ 点经验，共 $10$ 点，连续 $2$ 天。\n\n第 $12$ 天：$1$ // 获得 $2$ 点经验，共 $12$ 点，连续 $3$ 天。\n\n小 a：弄个自动打卡机，怎么样？\n\nkkksc03：这不符合洛谷的规则的！\n\n$1\\leq N\\leq 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "Feel Good With Daily Check-in", "background": "On Luogu, checking in is not just a simple mouse click. By checking in every day on Luogu, you can clearly record your learning footprint on Luogu. By checking in daily, you keep reminding yourself: I studied on Luogu for another day, which helps cultivate perseverance, patience, and carefulness. In addition, by checking in, you can gain experience points as rewards; the amount of experience points reflects your seniority and achievements on Luogu to some extent. By accumulating activity points from check-ins and leveling up gradually, you will feel “closer and closer to the gods.”", "description": "Luogu’s check-in system is similar to other websites: the more consecutive days you check in, the more rewards you get each time, and the consecutive days increase by one. However, on other websites, if you miss a day, your consecutive days reset to zero. Unlike other websites, Luogu is more user-friendly: if you miss multiple days, your consecutive days only decrease, and the fewer the missed days, the fewer days are deducted. The rule is to reduce by $2^{n-1}$ days, where $n$ is the number of consecutively missed days. The streak is settled at the next check-in, and the streak will not go below $0$. In other words, if you check in every other day, the streak will remain unchanged.\n\nWhen the streak reaches the following lengths, different activity point rewards are given:\n\n$1$ day: reward $1$ (A journey of a thousand miles begins with a single step).\n\n$3$ days: reward $2$ (You’ve kept it up for $3$ days, keep going!).\n\n$7$ days: reward $3$ (The weekly cycle).\n\n$30$ days: reward $4$ (From full moon to crescent, habits are formed).\n\n$120$ days: reward $5$ (You’ve persisted for four months!).\n\n$365$ days: reward $6$ (You kept it up for all four seasons! Not easy!).\n\nXiao A registered a Luogu account $N$ days ago. Although he vowed to check in every day, he found it hard to keep. Now that we know his check-in record for $N$ days, Xiao A wants to know how many activity points he can obtain from check-ins in $N$ days.", "inputFormat": "The first line contains an integer $N$.\n\nThe next $N$ lines each contain an integer $1$ or $0$, indicating whether he checked in on that day.", "outputFormat": "Output a single integer, the total activity points obtained.", "hint": "Day $1$: $1$ // Start checking in! Gain $1$ activity point, total $1$, streak $1$ day.\n\nDay $2$: $1$ // Gain $1$ activity point, total $2$, streak $2$ days.\n\nDay $3$: $1$ // Gain $2$ activity points, total $4$, streak $3$ days.\n\nDay $4$: $1$ // Gain $2$ activity points, total $6$, streak $4$ days.\n\nDay $5$: $1$ // Gain $2$ activity points, total $8$, streak $5$ days.\n\nDay $6$: $0$ // Going to Mars, no internet, had to miss a check-in.\n\nDay $7$: $0$.\n\nDay $8$: $0$.\n\nDay $9$: $1$ // I’m back, but unfortunately the streak became $5-4=1$ day... TQT... Gain $1$ activity point, total $9$, streak $2$ days.\n\nDay $10$: $0$ // Ah, too many things to do, forgot it.\n\nDay $11$: $1$ // Streak became $2-1=1$ day. Gain $1$ activity point, total $10$, streak $2$ days.\n\nDay $12$: $1$ // Gain $2$ activity points, total $12$, streak $3$ days.\n\nXiao A: How about making an automatic check-in machine?\n\nkkksc03: That does not comply with Luogu’s rules!\n\nConstraints: $1 \\leq N \\leq 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "每日打卡心情好", "background": "在洛谷中，打卡不只是一个简单的鼠标点击动作，通过每天在洛谷打卡，可以清晰地记录下自己在洛谷学习的足迹。通过每天打卡，来不断地暗示自己：我又在洛谷学习了一天，进而帮助自己培养恒心、耐心、细心。此外，通过打卡，还可以获取经验值奖励，经验值的多少在一定程度上反映了你在洛谷的资历和成就。通过打卡累积活跃值，渐渐升级，会让你感觉“离神犇越来越近了”。", "description": "洛谷的打卡系统与其他网站的打卡系统一样，连续打卡天数越多，每次打卡获得的奖励也就越多，同时连续天数加上一天。然而，于其他网站只要一天不打卡，连续天数就要清零。与其他网站不同的是，洛谷的打卡更具有人性化，如果多天不打卡，连续天数仅仅只是减少，当遗漏天数越少，减少的天数也就越少。规则是减少 $2^{n-1}$ 天，$n$ 为连续遗漏天数。连续天数在下一次打卡时清算，打卡连续天数不会小于 $0$。也就是说，如果每隔一天打卡，那么连续天数就不会变了。\n\n当连续天数达到以下天数时，给予不同的活跃值奖励：\n\n$1$ 天：奖励 $1$（千里之行，始于足下）\n\n$3$ 天：奖励 $2$（坚持 $3$ 天了，加油！）\n\n$7$ 天：奖励 $3$（曜日轮回）\n\n$30$ 天：奖励 $4$（月圆月缺，习惯养成）\n\n$120$ 天：奖励 $5$（坚持四个月了！）\n\n$365$ 天：奖励 $6$（一年四季都坚持下来了！真不容易！）\n\n小 a $N$ 天前在洛谷注册了一个账号，虽然当时立志每天都要打卡，但发现这不太容易做到。现在知道他 $N$ 天的的打卡记录，小 a 希望得知他通过打卡，在 $N$ 天能获得多少活跃值？", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $1$ 或 $0$，代表当天是否打过卡。", "outputFormat": "一个整数，表示获得的活跃值！", "hint": "第 $1$ 天：$1$ // 开始打卡！获得 $1$ 点经验，共 $1$ 点，连续 $1$ 天。\n\n第 $2$ 天：$1$ // 获得 $1$ 点经验，共 $2$ 点，连续 $2$ 天。\n\n第 $3$ 天：$1$ // 获得 $2$ 点经验，共 $4$ 点，连续 $3$ 天。\n\n第 $4$ 天：$1$ // 获得 $2$ 点经验，共 $6$ 点，连续 $4$ 天\n\n第 $5$ 天：$1$ // 获得 $2$ 点经验，共 $8$ 点，连续 $5$ 天\n\n第 $6$ 天：$0$ // 由于要去趟火星，没有网络不得已而断签\n\n第 $7$ 天：$0$\n\n第 $8$ 天：$0$\n\n第 $9$ 天：$1$ // 我回来了，可惜连续天数变成 $5-4=1$ 天了 TQT…… 获得 $1$ 点经验，共 $9$ 点，连续 $2$ 天\n\n第 $10$ 天：$0$ // 啊，事情太多给忘了\n\n第 $11$ 天：$1$ // 连续天数变成 $2-1=1$ 天。获得 $1$ 点经验，共 $10$ 点，连续 $2$ 天。\n\n第 $12$ 天：$1$ // 获得 $2$ 点经验，共 $12$ 点，连续 $3$ 天。\n\n小 a：弄个自动打卡机，怎么样？\n\nkkksc03：这不符合洛谷的规则的！\n\n$1\\leq N\\leq 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1665", "type": "P", "difficulty": 3, "samples": [["7\r\n0 0\r\n0 1\r\n1 0\r\n1 1\r\n1 2\r\n2 1\r\n2 2", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "正方形计数", "background": "", "description": "给定平面上 $N$ 个点，你需要计算以其中 $4$ 个点为顶点的正方形的个数。注意这里的正方形边不一定需要和坐标轴平行。\n", "inputFormat": "第一行一个数 $N$。\n\n接下来 $N$ 行每行两个数，表示点的坐标。\n", "outputFormat": "一个数表示正方形的个数。\n", "hint": "对于 $20\\%$ 的数据，满足 $1\\leq N\\leq 20$。\n\n对于 $100\\%$ 的数据，满足 $1\\leq N\\leq 500$，$-50\\leq X_i, Y_i\\leq 50$，点不会重合。", "locale": "zh-CN", "translations": {"en": {"title": "Square Counting", "background": "", "description": "Given $N$ points on a plane, you need to count the number of squares whose vertices are among these points. Note that the square’s sides do not need to be parallel to the coordinate axes.", "inputFormat": "The first line contains an integer $N$.\n\nEach of the next $N$ lines contains two numbers, representing the coordinates of a point.", "outputFormat": "Output a single number, the number of squares.", "hint": "For $20\\%$ of the testdata, $1 \\leq N \\leq 20$.\n\nFor $100\\%$ of the testdata, $1 \\leq N \\leq 500$, $-50 \\leq X_i, Y_i \\leq 50$, and the points are distinct.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "正方形计数", "background": "", "description": "给定平面上 $N$ 个点，你需要计算以其中 $4$ 个点为顶点的正方形的个数。注意这里的正方形边不一定需要和坐标轴平行。\n", "inputFormat": "第一行一个数 $N$。\n\n接下来 $N$ 行每行两个数，表示点的坐标。\n", "outputFormat": "一个数表示正方形的个数。\n", "hint": "对于 $20\\%$ 的数据，满足 $1\\leq N\\leq 20$。\n\n对于 $100\\%$ 的数据，满足 $1\\leq N\\leq 500$，$-50\\leq X_i, Y_i\\leq 50$，点不会重合。", "locale": "zh-CN"}}}
{"pid": "P1666", "type": "P", "difficulty": 5, "samples": [["3\r\nhello\r\nhell\r\nhi", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索"], "title": "前缀单词", "background": "", "description": "一组单词是安全的，当且仅当不存在一个单词是另一个单词的前缀，这样才能保证数据不容易被误解。现在你手上有一个单词集合 $S$，你需要计算有多少个子集是安全的。\n\n注意空集永远是安全的。", "inputFormat": "第一行一个数 $n$，表示集合的大小，以下 $n$ 行。每行一个由 $\\verb!a!\\cdots\\verb!z!$ 构成的字符串。", "outputFormat": "安全子集的个数。\n", "hint": "### 数据范围及约定\n\n- 对 $30\\%$ 的数据，满足 $1 \\le n \\le 10$。\n- 对于 $100\\%$ 的数据，满足 $1 \\le n \\le 50$，字符串长度 $ \\le 50$，没有两个字符串是完全相同的。", "locale": "zh-CN", "translations": {"en": {"title": "Prefix Words", "background": "", "description": "A set of words is safe if and only if no word is a prefix of another word; this ensures that the data is not easily misunderstood. Now you have a word set $S$, and you need to count how many of its subsets are safe.\n\nNote that the empty set is always safe.", "inputFormat": "The first line contains an integer $n$, the size of the set. Then $n$ lines follow. Each line contains a string consisting of \\verb!a!\\cdots\\verb!z!.", "outputFormat": "The number of safe subsets.", "hint": "### Constraints and Conventions\n\n- For $30\\%$ of the testdata, it holds that $1 \\le n \\le 10$.\n- For $100\\%$ of the testdata, it holds that $1 \\le n \\le 50$, string length $\\le 50$, and no two strings are exactly the same.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "前缀单词", "background": "", "description": "一组单词是安全的，当且仅当不存在一个单词是另一个单词的前缀，这样才能保证数据不容易被误解。现在你手上有一个单词集合 $S$，你需要计算有多少个子集是安全的。\n\n注意空集永远是安全的。", "inputFormat": "第一行一个数 $n$，表示集合的大小，以下 $n$ 行。每行一个由 $\\verb!a!\\cdots\\verb!z!$ 构成的字符串。", "outputFormat": "安全子集的个数。\n", "hint": "### 数据范围及约定\n\n- 对 $30\\%$ 的数据，满足 $1 \\le n \\le 10$。\n- 对于 $100\\%$ 的数据，满足 $1 \\le n \\le 50$，字符串长度 $ \\le 50$，没有两个字符串是完全相同的。", "locale": "zh-CN"}}}
{"pid": "P1667", "type": "P", "difficulty": 5, "samples": [["5\r\n13\r\n-3 \r\n-4\r\n-5\r\n62", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["离散化"], "title": "数列", "background": "", "description": "给定一个长度是 $n$ 的数列 $A$ ，我们称一个数列是完美的，当且仅当对于其任意子段的和都是正的。\n\n现在你有一个操作可以改变数列，选择一个区间 $[l,r]$ 满足 $\\sum\\limits_{i = l}^r A_i < 0$ ,其中 $1 < l \\le r < n$。\n\n令 $S = \\sum\\limits_{i = l}^r A_i$ ，对于 $A_{l - 1}$ 和 $A_{r + 1}$ 分别加上 $S$，$A_l$ 和 $A_r$ 分别减去 $S$（如果 $l = r$ 就减两次）。问最少几次这样的操作使得最终数列是完美的。", "inputFormat": "第 $1$ 行一个数 $n$ ，以下 $n$ 个数。\n\n第 $2$ 行至第 $n + 1$ 行，第 $i$ 行一个数 $A_i$。", "outputFormat": "一个数表示最少的操作次数，如果无解输出 $-1$。", "hint": "### 样例解释\n\n首先选择区间 $[2,4]$，之后数列变成 $1,9,-4,7,50$，然后选择 $[3,3]$，数列变成 $1,5,4,3,50$\n\n### 限制与约定\n\n对于 $20\\%$ 的数据，满足 $1 \\le N \\le 5$ ;\n\n对于 $100\\%$ 的数据，满足 $1 \\le N \\le 10^5$ ;  $1 \\le |A_i| < 2^{31}$", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "", "description": "Given a sequence $A$ of length $n$, we call a sequence \"perfect\" if and only if the sum of any of its subarrays is positive.\n\nYou have an operation that can modify the sequence: choose an interval $[l,r]$ satisfying $\\sum\\limits_{i = l}^r A_i < 0$, where $1 < l \\le r < n$.\n\nLet $S = \\sum\\limits_{i = l}^r A_i$. Add $S$ to $A_{l - 1}$ and $A_{r + 1}$, and subtract $S$ from $A_l$ and $A_r$ (if $l = r$, subtract twice). Find the minimum number of such operations needed to make the sequence perfect.", "inputFormat": "The first line contains an integer $n$.\n\nLines $2$ through $n + 1$: the $i$-th line contains an integer $A_i$.", "outputFormat": "Output a single integer: the minimum number of operations. If there is no solution, output $-1$.", "hint": "Sample explanation:\n\nFirst choose the interval $[2,4]$, then the sequence becomes $1,9,-4,7,50$. Then choose $[3,3]$, the sequence becomes $1,5,4,3,50$.\n\nConstraints:\n\n- For $20\\%$ of the testdata, $1 \\le n \\le 5$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 10^5$; $1 \\le |A_i| < 2^{31}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列", "background": "", "description": "给定一个长度是 $n$ 的数列 $A$ ，我们称一个数列是完美的，当且仅当对于其任意子段的和都是正的。\n\n现在你有一个操作可以改变数列，选择一个区间 $[l,r]$ 满足 $\\sum\\limits_{i = l}^r A_i < 0$ ,其中 $1 < l \\le r < n$。\n\n令 $S = \\sum\\limits_{i = l}^r A_i$ ，对于 $A_{l - 1}$ 和 $A_{r + 1}$ 分别加上 $S$，$A_l$ 和 $A_r$ 分别减去 $S$（如果 $l = r$ 就减两次）。问最少几次这样的操作使得最终数列是完美的。", "inputFormat": "第 $1$ 行一个数 $n$ ，以下 $n$ 个数。\n\n第 $2$ 行至第 $n + 1$ 行，第 $i$ 行一个数 $A_i$。", "outputFormat": "一个数表示最少的操作次数，如果无解输出 $-1$。", "hint": "### 样例解释\n\n首先选择区间 $[2,4]$，之后数列变成 $1,9,-4,7,50$，然后选择 $[3,3]$，数列变成 $1,5,4,3,50$\n\n### 限制与约定\n\n对于 $20\\%$ 的数据，满足 $1 \\le N \\le 5$ ;\n\n对于 $100\\%$ 的数据，满足 $1 \\le N \\le 10^5$ ;  $1 \\le |A_i| < 2^{31}$", "locale": "zh-CN"}}}
{"pid": "P1668", "type": "P", "difficulty": 4, "samples": [["3 10\n1 7\n3 6\n6 10", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "图论", "贪心", "2004", "线段树", "USACO", "最短路", "ST 表"], "title": "[USACO04DEC] Cleaning Shifts S", "background": null, "description": "一天有 $T(1\\le T\\le 10^6)$ 个时段。约翰正打算安排他的 $N(1\\le N\\le 2.5\\times 10^4)$ 只奶牛来值班，打扫打扫牛棚卫生。每只奶牛都有自己的空闲时间段 $ [S_i,E_i](1\\le S_i\\le E_i\\le T)$，只能把空闲的奶牛安排出来值班。而且，每个时间段必须有奶牛在值班。\n\n那么，最少需要动用多少奶牛参与值班呢？如果没有办法安排出合理的方案，就输出 $-1$。", "inputFormat": "第 $1$ 行：$N$，$T$。\n\n第 $2$ 到 $N+1$ 行：$S_i$，$E_i$。", "outputFormat": "一行，输出最少安排的奶牛数。", "hint": "$1\\le T\\le 10^6$，$N\\le 2.5\\times 10^4$，$1\\le S_i\\le E_i\\le T$。\n\n$\\text{Update On 2023/08/08}$：添加了一组hack数据，详情见[这里](https://www.luogu.com.cn/discuss/613052)。叉掉了时间复杂度为 $\\mathcal O(nt)$ 的错解。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO04DEC] Cleaning Shifts S", "background": "", "description": "There are $T(1\\le T\\le 10^6)$ time slots in a day. John plans to schedule his $N(1\\le N\\le 2.5\\times 10^4)$ cows to be on duty to clean the barn. Each cow has her own available interval $ [S_i,E_i](1\\le S_i\\le E_i\\le T)$ and only cows who are free can be scheduled. Moreover, every time slot must have a cow on duty.\n\nWhat is the minimum number of cows required to cover all time slots? If it is impossible to make a valid schedule, output $-1$.", "inputFormat": "The first line: $N$, $T$.\n\nLines $2$ to $N+1$: $S_i$, $E_i$.", "outputFormat": "One line, output the minimum number of cows.", "hint": "$1\\le T\\le 10^6$，$N\\le 2.5\\times 10^4$，$1\\le S_i\\le E_i\\le T$。\n\n$\\text{Update On 2023/08/08}$：Added a set of hack testdata, see details [here](https://www.luogu.com.cn/discuss/613052). Ruled out wrong solutions with time complexity $\\mathcal O(nt)$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO04DEC] Cleaning Shifts S", "background": null, "description": "一天有 $T(1\\le T\\le 10^6)$ 个时段。约翰正打算安排他的 $N(1\\le N\\le 2.5\\times 10^4)$ 只奶牛来值班，打扫打扫牛棚卫生。每只奶牛都有自己的空闲时间段 $ [S_i,E_i](1\\le S_i\\le E_i\\le T)$，只能把空闲的奶牛安排出来值班。而且，每个时间段必须有奶牛在值班。\n\n那么，最少需要动用多少奶牛参与值班呢？如果没有办法安排出合理的方案，就输出 $-1$。", "inputFormat": "第 $1$ 行：$N$，$T$。\n\n第 $2$ 到 $N+1$ 行：$S_i$，$E_i$。", "outputFormat": "一行，输出最少安排的奶牛数。", "hint": "$1\\le T\\le 10^6$，$N\\le 2.5\\times 10^4$，$1\\le S_i\\le E_i\\le T$。\n\n$\\text{Update On 2023/08/08}$：添加了一组hack数据，详情见[这里](https://www.luogu.com.cn/discuss/613052)。叉掉了时间复杂度为 $\\mathcal O(nt)$ 的错解。", "locale": "zh-CN"}}}
{"pid": "P1669", "type": "P", "difficulty": 3, "samples": [["5 8\n1 2 3\n1 3 7\n2 3 10\n2 4 4\n2 5 8\n3 4 6\n3 5 2\n4 5 17", "42"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2004", "USACO", "生成树"], "title": "[USACO04DEC] Bad Cowtractors S", "background": "", "description": "奶牛贝茜被雇去建设 $N(2\\le N\\le 10^3)$ 个牛棚间的互联网。她已经勘探出 $M(1\\le M\\le 2\\times 10^4)$ 条可建的线路，每条线路连接两个牛棚，而且会花费 $C(1\\le C\\le 10^5)$。农夫约翰吝啬得很，他希望建设费用最少甚至他都不想给贝茜工钱。贝茜得知工钱要告吹，决定报复。她打算选择建一些线路，把所有牛棚连接在一起，让约翰花费最大。但是她不能造出环来，这样约翰就会发现。", "inputFormat": "第 $1$ 行：$N$，$M$。\n\n第 $2$ 到 $M+1$ 行：三个整数，表示一条可能线路的两个端点和费用。", "outputFormat": "一行，表示最大的花费。如果不能建成合理的线路，就输出 $-1$。", "hint": "$2\\le N\\le 10^3$，$1\\le M\\le 2\\times 10^4$，$1\\le C\\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO04DEC] Bad Cowtractors S", "background": "", "description": "Bessie the cow was hired to build the internet among $N$ ($2 \\le N \\le 10^3$) barns. She has surveyed $M$ ($1 \\le M \\le 2 \\times 10^4$) buildable links; each link connects two barns and costs $C$ ($1 \\le C \\le 10^5$). Farmer John is very stingy; he wants the total cost minimized, and he does not even want to pay Bessie. Learning that her pay will be canceled, Bessie decides to retaliate. She plans to choose some links to connect all barns together, making John pay as much as possible. However, she cannot create cycles; otherwise John would notice.", "inputFormat": "Line $1$: $N$, $M$.\n\nLines $2$ to $M + 1$: three integers, the two endpoints of a possible link and its cost.", "outputFormat": "One line, the maximum possible total cost. If it is impossible to form a valid set of links, output $-1$.", "hint": "Constraints: $2 \\le N \\le 10^3$, $1 \\le M \\le 2 \\times 10^4$, $1 \\le C \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO04DEC] Bad Cowtractors S", "background": "", "description": "奶牛贝茜被雇去建设 $N(2\\le N\\le 10^3)$ 个牛棚间的互联网。她已经勘探出 $M(1\\le M\\le 2\\times 10^4)$ 条可建的线路，每条线路连接两个牛棚，而且会花费 $C(1\\le C\\le 10^5)$。农夫约翰吝啬得很，他希望建设费用最少甚至他都不想给贝茜工钱。贝茜得知工钱要告吹，决定报复。她打算选择建一些线路，把所有牛棚连接在一起，让约翰花费最大。但是她不能造出环来，这样约翰就会发现。", "inputFormat": "第 $1$ 行：$N$，$M$。\n\n第 $2$ 到 $M+1$ 行：三个整数，表示一条可能线路的两个端点和费用。", "outputFormat": "一行，表示最大的花费。如果不能建成合理的线路，就输出 $-1$。", "hint": "$2\\le N\\le 10^3$，$1\\le M\\le 2\\times 10^4$，$1\\le C\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1670", "type": "P", "difficulty": 3, "samples": [["10\n1 2\n2 3\n3 4\n4 5\n6 7\n7 8\n8 9\n9 10\n3 8", "3\n8\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2004", "USACO", "深度优先搜索 DFS", "树的重心"], "title": "[USACO04DEC] Tree Cutting S", "background": "", "description": "约翰意识到贝茜建设网络花费了他巨额的经费，就把她解雇了。贝茜很愤怒，打算狠狠报复。她打算破坏刚建成的约翰的网络。约翰的网络是树形的，连接着 $N$ 个牛棚。她打算切断某一个牛棚的电源，使和这个牛棚相连的所有电缆全部中断。之后，就会存在若干子网络。为保证破坏够大，每一个子网的牛棚数不得超过总牛棚数的一半，那哪些牛棚值得破坏呢？", "inputFormat": "第 $1$ 行：一个整数 $N$。\n\n第 $2$ 到 $N$ 行：每行输入两个整数，表示一条电缆的两个端点。", "outputFormat": "按从小到大的顺序，输出所有值得破坏的牛棚。如果没有一个值得破坏，就输出 `NONE`。", "hint": "$1\\le N\\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO04DEC] Tree Cutting S", "background": "", "description": "John realized that Bessie’s network cost him a lot and fired her. Angry, Bessie plans to take revenge. She wants to damage John’s newly built network. John’s network is a tree connecting $N$ barns. She plans to cut power to one barn, causing all cables incident to that barn to be disconnected. Afterwards, the network will split into several subnetworks. To ensure the damage is large enough, in each subnetwork the number of barns must be no more than half of the total number of barns. Which barns are worth sabotaging?", "inputFormat": "Line $1$: an integer $N$.\n\nLines $2$ to $N$: each line contains two integers, the endpoints of a cable.", "outputFormat": "Output, in increasing order, all barns that are worth sabotaging. If none are worth sabotaging, output `NONE`.", "hint": "$1 \\le N \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO04DEC] Tree Cutting S", "background": "", "description": "约翰意识到贝茜建设网络花费了他巨额的经费，就把她解雇了。贝茜很愤怒，打算狠狠报复。她打算破坏刚建成的约翰的网络。约翰的网络是树形的，连接着 $N$ 个牛棚。她打算切断某一个牛棚的电源，使和这个牛棚相连的所有电缆全部中断。之后，就会存在若干子网络。为保证破坏够大，每一个子网的牛棚数不得超过总牛棚数的一半，那哪些牛棚值得破坏呢？", "inputFormat": "第 $1$ 行：一个整数 $N$。\n\n第 $2$ 到 $N$ 行：每行输入两个整数，表示一条电缆的两个端点。", "outputFormat": "按从小到大的顺序，输出所有值得破坏的牛棚。如果没有一个值得破坏，就输出 `NONE`。", "hint": "$1\\le N\\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1671", "type": "P", "difficulty": 3, "samples": [["HHHHH\nJHJHJ\nHHHHH\nHJHHJ\nHHHHH", "2"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["搜索", "2005", "USACO"], "title": "[USACO05FEB] Rigging the Bovine Election S", "background": "", "description": "农场被划分为 $5\\times 5$ 的格子，每个格子中都有一头奶牛，并且只有荷斯坦（标记为 `H`）和杰西（标记为 `J`）两个品种。如果一头奶牛在另一头上下左右四个格子中的任一格里，我们说它们相连。奶牛要大选了。现在杰西奶牛们想选择 $7$ 头相连的奶牛，划成一个竞选区，使得其中它们品种的奶牛比荷斯坦的多。\n\n要求你编写一个程序求出方案总数。\n", "inputFormat": "$5$ 行，表示农场的情况。", "outputFormat": "输出划区方案总数。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Rigging the Bovine Election S", "background": "", "description": "The farm is divided into a $5\\times 5$ grid, with one cow in each cell, and only two breeds: Holstein (denoted by `H`) and Jersey (denoted by `J`). If one cow is in any of the four cells directly above, below, left, or right of another cow, they are considered connected. The Jersey cows want to form an election district by selecting $7$ connected cows such that the number of Jersey cows in the district is greater than the number of Holsteins.\n\nWrite a program to compute the total number of such districts.", "inputFormat": "$5$ lines describing the farm. Each line is a string of length $5$ consisting only of the characters `H` and `J`.", "outputFormat": "Output the total number of valid districts.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] Rigging the Bovine Election S", "background": "", "description": "农场被划分为 $5\\times 5$ 的格子，每个格子中都有一头奶牛，并且只有荷斯坦（标记为 `H`）和杰西（标记为 `J`）两个品种。如果一头奶牛在另一头上下左右四个格子中的任一格里，我们说它们相连。奶牛要大选了。现在杰西奶牛们想选择 $7$ 头相连的奶牛，划成一个竞选区，使得其中它们品种的奶牛比荷斯坦的多。\n\n要求你编写一个程序求出方案总数。\n", "inputFormat": "$5$ 行，表示农场的情况。", "outputFormat": "输出划区方案总数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1672", "type": "P", "difficulty": 3, "samples": [["3 14 4 10\n1 9\n5 8\n8 12", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2005", "USACO", "差分"], "title": "[USACO05FEB] Feed Accounting S", "background": "", "description": "约翰想知道上一船饲料是什么时候运到的。在饲料运到之前，他的牛正好把仓库里原来的饲料全吃光了。他收到运来的 $F1(1\\le F1\\le 10^6)$ 千克饲料。遗憾的是，他已经不记得这是哪一天的事情了。到第 $D(1\\le D\\le 2\\times 10^3)$ 天为止，仓库里还剩下 $F2(1\\le F2\\le F1)$ 千克饲料。\n\n约翰养了 $C(1\\le C\\le 100)$ 头牛，每头牛每天都吃掉恰好 $1$ 千克饲料。由于不同的原因，牛们从某一天开始在仓库吃饲料，又在某一天离开仓库，所以不同的两天可能会有差距很大的饲料消耗量。每头牛在来的那天和离开的那天都在仓库吃饲料。给出今天的日期 $D$，写一个程序，判断饲料**最近**一次运到是在什么时候。今天牛们已经吃过饲料了，并且饲料运到的那天牛们还没有吃过饲料。\n\n**如果最终的答案有多个可能，请输出最大的（即，最近的）那一个。**", "inputFormat": "第 $1$ 行：四个整数 $C$，$F1$，$F2$，$D$，用空格隔开。\n\n第 $2$ 到 $C+1$ 行：每行是用空格隔开的两个数字，分别表示一头牛来仓库吃饲料的时间和离开的时间。", "outputFormat": "一个正整数，即上一船饲料运到的时间。", "hint": "### 样例解释\n\n上一次运来了 $14$ 千克饲料，现在饲料还剩下 $4$ 千克。最近 $10$ 天里，有 $3$ 头牛来吃过饲料。\n\n约翰在第 $6$ 天收到 $14$ 千克饲料，当天吃掉 $2$ 千克，第 $7$ 天吃掉 $2$ 千克，第 $8$ 天吃掉 $3$ 千克，第 $9$ 天吃掉 $2$ 千克，第 $10$ 天吃掉 $1$ 千克，正好还剩 $4$ 千克。\n\n### 数据规模\n\n$1\\le F2\\le F1\\le 10^6$，$1\\le D\\le 2\\times 10^3$，$1\\le C\\le 100$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Feed Accounting S", "background": "", "description": "John wants to know when the previous shipment of feed arrived. Before that shipment arrived, his cows had just finished all the feed that was originally in the barn. He received $F1(1\\le F1\\le 10^6)$ kilograms of feed. Unfortunately, he no longer remembers which day that was. By day $D(1\\le D\\le 2\\times 10^3)$, there are still $F2(1\\le F2\\le F1)$ kilograms of feed left in the barn.\n\nJohn has $C(1\\le C\\le 100)$ cows, and each cow eats exactly $1$ kilogram of feed per day. Due to various reasons, each cow starts eating at the barn on some day and leaves on some day, so the feed consumption may vary greatly between different days. Each cow eats on both the day it arrives and the day it leaves. Given today’s day $D$, write a program to determine when the feed was most recently delivered. Today the cows have already eaten, and on the delivery day the cows had not yet eaten.\n\n**If there are multiple possible answers, output the largest one (i.e., the most recent).**", "inputFormat": "Line $1$: Four integers $C$, $F1$, $F2$, $D$, separated by spaces.\n\nLines $2$ to $C+1$: Each line contains two integers separated by spaces, representing the day a cow starts eating at the barn and the day it leaves.", "outputFormat": "A single positive integer: the day when the previous shipment of feed arrived.", "hint": "Sample Explanation\n\nThe previous shipment delivered $14$ kilograms of feed, and there are now $4$ kilograms left. In the last $10$ days, $3$ cows have come to eat.\n\nJohn received $14$ kilograms of feed on day $6$. They ate $2$ kilograms on day $6$, $2$ kilograms on day $7$, $3$ kilograms on day $8$, $2$ kilograms on day $9$, and $1$ kilogram on day $10$, leaving exactly $4$ kilograms.\n\nConstraints\n\n$1\\le F2\\le F1\\le 10^6$, $1\\le D\\le 2\\times 10^3$, $1\\le C\\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] Feed Accounting S", "background": "", "description": "约翰想知道上一船饲料是什么时候运到的。在饲料运到之前，他的牛正好把仓库里原来的饲料全吃光了。他收到运来的 $F1(1\\le F1\\le 10^6)$ 千克饲料。遗憾的是，他已经不记得这是哪一天的事情了。到第 $D(1\\le D\\le 2\\times 10^3)$ 天为止，仓库里还剩下 $F2(1\\le F2\\le F1)$ 千克饲料。\n\n约翰养了 $C(1\\le C\\le 100)$ 头牛，每头牛每天都吃掉恰好 $1$ 千克饲料。由于不同的原因，牛们从某一天开始在仓库吃饲料，又在某一天离开仓库，所以不同的两天可能会有差距很大的饲料消耗量。每头牛在来的那天和离开的那天都在仓库吃饲料。给出今天的日期 $D$，写一个程序，判断饲料**最近**一次运到是在什么时候。今天牛们已经吃过饲料了，并且饲料运到的那天牛们还没有吃过饲料。\n\n**如果最终的答案有多个可能，请输出最大的（即，最近的）那一个。**", "inputFormat": "第 $1$ 行：四个整数 $C$，$F1$，$F2$，$D$，用空格隔开。\n\n第 $2$ 到 $C+1$ 行：每行是用空格隔开的两个数字，分别表示一头牛来仓库吃饲料的时间和离开的时间。", "outputFormat": "一个正整数，即上一船饲料运到的时间。", "hint": "### 样例解释\n\n上一次运来了 $14$ 千克饲料，现在饲料还剩下 $4$ 千克。最近 $10$ 天里，有 $3$ 头牛来吃过饲料。\n\n约翰在第 $6$ 天收到 $14$ 千克饲料，当天吃掉 $2$ 千克，第 $7$ 天吃掉 $2$ 千克，第 $8$ 天吃掉 $3$ 千克，第 $9$ 天吃掉 $2$ 千克，第 $10$ 天吃掉 $1$ 千克，正好还剩 $4$ 千克。\n\n### 数据规模\n\n$1\\le F2\\le F1\\le 10^6$，$1\\le D\\le 2\\times 10^3$，$1\\le C\\le 100$。", "locale": "zh-CN"}}}
{"pid": "P1673", "type": "P", "difficulty": 3, "samples": [["6 5\n1 3\n3 2\n2 3\n3 1\n2 5\n5 4", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2005", "USACO", "最短路"], "title": "[USACO05FEB] Part Acquisition S", "background": "", "description": "奶牛们接到了寻找一种新型挤奶机的任务，为此它们准备依次经过 $N(1\\le N\\le 5\\times 10^4)$ 颗行星，在行星上进行交易。为了方便，奶牛们已经给可能出现的 $K(1\\le K\\le 10^3)$ 种货物进行了由 $1$ 到 $K$ 的标号。由于这些行星都不是十分发达。没有流通的货币，所以在每个市场里都只能用固定的一种货物去换取另一种货物。奶牛们带着一种上好的饲料从地球出发，希望在使用的物品的种类数量最少的情况下，最终得到所需要的机器。饲料的标号为 $1$，所需要的机器的标号为 $K$。如果任务无法完成，输出 $-1$。", "inputFormat": "第 $1$ 行是两个数字 $N$ 和 $K$。\n\n第 $2$ 到 $N+1$ 行，每行是两个数字 $A_i$ 和 $B_i$，表示第 $i$ 颗行星为得到 $A_i$ 愿意提供 $B_i$。", "outputFormat": "输出最少经手物品数。", "hint": "奶牛们至少需要 $4$ 种不同标号的物品，先用 $1$ 去交换 $3$，再用 $3$ 去交换 $2$，最后用 $2$ 交换得到 $5$。\n\n$1\\le N\\le 5\\times 10^4$，$1\\le K\\le 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Part Acquisition S", "background": "# Description\n\nThe cows have been tasked with finding a new milking machine. To do so, they plan to pass through $N(1\\le N\\le 5\\times 10^4)$ planets in sequence and trade on them. For convenience, the $K(1\\le K\\le 10^3)$ possible kinds of goods have been labeled from $1$ to $K$. Since these planets are not very developed and there is no circulating currency, in each market you can only exchange one fixed item for another fixed item. The cows depart Earth carrying a premium feed and hope to obtain the required machine while minimizing the number of distinct item types used. The feed is labeled $1$, and the required machine is labeled $K$. If the task cannot be completed, output $-1$.", "description": "", "inputFormat": "", "outputFormat": "Output the minimum number of distinct item types.", "hint": "The cows need at least $4$ different labels: first exchange $1$ for $3$, then $3$ for $2$, and finally $2$ for $5$.\n\n$1\\le N\\le 5\\times 10^4$, $1\\le K\\le 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] Part Acquisition S", "background": "", "description": "奶牛们接到了寻找一种新型挤奶机的任务，为此它们准备依次经过 $N(1\\le N\\le 5\\times 10^4)$ 颗行星，在行星上进行交易。为了方便，奶牛们已经给可能出现的 $K(1\\le K\\le 10^3)$ 种货物进行了由 $1$ 到 $K$ 的标号。由于这些行星都不是十分发达。没有流通的货币，所以在每个市场里都只能用固定的一种货物去换取另一种货物。奶牛们带着一种上好的饲料从地球出发，希望在使用的物品的种类数量最少的情况下，最终得到所需要的机器。饲料的标号为 $1$，所需要的机器的标号为 $K$。如果任务无法完成，输出 $-1$。", "inputFormat": "第 $1$ 行是两个数字 $N$ 和 $K$。\n\n第 $2$ 到 $N+1$ 行，每行是两个数字 $A_i$ 和 $B_i$，表示第 $i$ 颗行星为得到 $A_i$ 愿意提供 $B_i$。", "outputFormat": "输出最少经手物品数。", "hint": "奶牛们至少需要 $4$ 种不同标号的物品，先用 $1$ 去交换 $3$，再用 $3$ 去交换 $2$，最后用 $2$ 交换得到 $5$。\n\n$1\\le N\\le 5\\times 10^4$，$1\\le K\\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1674", "type": "P", "difficulty": 6, "samples": [["7 9 2\n1 2 2\n2 3 5\n3 7 5\n1 4 1\n4 3 1\n4 5 7\n5 7 1\n1 6 3\n6 7 3", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2005", "二分", "USACO", "网络流"], "title": "[USACO05FEB] Secret Milking Machine G", "background": "", "description": "约翰正在制造一台新型的挤奶机，但他不希望别人知道。他希望尽可能久地隐藏这个秘密。他把挤奶机藏在他的农场里，使它不被发现。\n\n在挤奶机制造的过程中，他需要去挤奶机所在的地方 $T$ 次。他的农场里有秘密的地道，但约翰只在返回的时候用它。农场被划分成 $N$ 块区域，用 $1$ 到 $200$ 标号。这些区域被 $P$ 条道路连接，每条路有一个小于 $10^6$ 的长度 $L$。两块区域之间可能有多条道路连接。为了减少被发现的可能，约翰不会两次经过农场上的任何一条道路。当然了，他希望走最短的路。\n\n请帮助约翰寻找这 $T$ 次从仓库走到挤奶机所在地的路线。仓库是区域 $1$，挤奶机所在地是区域 $N$。我们现在要求的是约翰经过的这些道路中最长的路的长度最小是多少，当然他不能重复走某一条路。\n\n请注意，我们要求的不是最短的总路程长度，而是所经过的直接连接两个区域的道路中最长的道路的最小长度。数据保证约翰可以找到 $T$ 条没有重复的从仓库到挤奶机所在区域的路。", "inputFormat": "第 $1$ 行是 $3$ 个整数 $N$、$P$ 和 $T$，用空格隔开。\n\n第 $2$ 到 $P+1$ 行，每行包括 $3$ 个整数，$A_i$，$B_i$，$L_i$。表示区域 $A_i$、$B_i$ 之间有一条长度为 $L_i$ 的道路。", "outputFormat": "输出只有一行，包含一个整数，即约翰经过的这些道路中最长的路的最小长度。", "hint": "选择 $1-2-3-7$ 和 $1-6-7$ 两条路线．这些路线中最长路的最小长度是 $5$。\n\n对于 $100\\%$ 的数据满足：$2\\le N\\le 200$，$1\\le P\\le 4\\times 10^4$，$1\\le T\\le 200$，每条路的长度 $\\le 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Secret Milking Machine G", "background": "", "description": "John is building a new milking machine, but he does not want others to know. He wants to keep this secret for as long as possible. He hides the machine somewhere on his farm so it will not be found.\n\nDuring the manufacturing process, he needs to go to the machine’s location $T$ times. His farm has secret tunnels, but John uses them only on the return trip. The farm is divided into $N$ regions, labeled from $1$ to $N$. These regions are connected by $P$ roads, each road has a length $L$ less than $10^6$. There may be multiple roads between two regions. To reduce the chance of being discovered, John will not traverse any road on the farm more than once. Of course, he wants the routes to be as short as possible.\n\nPlease help John find $T$ routes from the warehouse to the milking machine’s location. The warehouse is region $1$, and the milking machine is at region $N$. We ask for the minimal possible value of the length of the longest road among all the roads John will traverse, subject to the condition that no road is reused.\n\nNote that we are not minimizing the total route length. We are minimizing the maximum length among the roads that directly connect two regions (i.e., edges). The testdata guarantees that John can find $T$ routes from the warehouse to region $N$ without reusing any road.", "inputFormat": "The first line contains $3$ integers $N$, $P$, and $T$, separated by spaces.\n\nLines $2$ to $P+1$: each line contains $3$ integers $A_i$, $B_i$, and $L_i$, indicating there is a road between regions $A_i$ and $B_i$ with length $L_i$.", "outputFormat": "Output a single line containing one integer: the minimal possible value of the longest road’s length among those John traverses.", "hint": "Choose routes $1-2-3-7$ and $1-6-7$. The minimal possible value of the longest road among these routes is $5$.\n\nFor $100\\%$ of the testdata: $2 \\le N \\le 200$, $1 \\le P \\le 4 \\times 10^4$, $1 \\le T \\le 200$, and each road length $\\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] Secret Milking Machine G", "background": "", "description": "约翰正在制造一台新型的挤奶机，但他不希望别人知道。他希望尽可能久地隐藏这个秘密。他把挤奶机藏在他的农场里，使它不被发现。\n\n在挤奶机制造的过程中，他需要去挤奶机所在的地方 $T$ 次。他的农场里有秘密的地道，但约翰只在返回的时候用它。农场被划分成 $N$ 块区域，用 $1$ 到 $200$ 标号。这些区域被 $P$ 条道路连接，每条路有一个小于 $10^6$ 的长度 $L$。两块区域之间可能有多条道路连接。为了减少被发现的可能，约翰不会两次经过农场上的任何一条道路。当然了，他希望走最短的路。\n\n请帮助约翰寻找这 $T$ 次从仓库走到挤奶机所在地的路线。仓库是区域 $1$，挤奶机所在地是区域 $N$。我们现在要求的是约翰经过的这些道路中最长的路的长度最小是多少，当然他不能重复走某一条路。\n\n请注意，我们要求的不是最短的总路程长度，而是所经过的直接连接两个区域的道路中最长的道路的最小长度。数据保证约翰可以找到 $T$ 条没有重复的从仓库到挤奶机所在区域的路。", "inputFormat": "第 $1$ 行是 $3$ 个整数 $N$、$P$ 和 $T$，用空格隔开。\n\n第 $2$ 到 $P+1$ 行，每行包括 $3$ 个整数，$A_i$，$B_i$，$L_i$。表示区域 $A_i$、$B_i$ 之间有一条长度为 $L_i$ 的道路。", "outputFormat": "输出只有一行，包含一个整数，即约翰经过的这些道路中最长的路的最小长度。", "hint": "选择 $1-2-3-7$ 和 $1-6-7$ 两条路线．这些路线中最长路的最小长度是 $5$。\n\n对于 $100\\%$ 的数据满足：$2\\le N\\le 200$，$1\\le P\\le 4\\times 10^4$，$1\\le T\\le 200$，每条路的长度 $\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P1675", "type": "P", "difficulty": 5, "samples": [["2\n510\n500\n500\n670\n400\n310", "1\n2\n3\n6\n5\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2005", "USACO", "Special Judge", "随机化"], "title": "[USACO05FEB] Jersey Politics G", "background": "", "description": "在 Wisconsin（地名），有 $3 \\times k$ 个城市，依次标号为 $1, 2, \\cdots, 3 \\times k$，每个城市共有 $1000$ 头奶牛。Jersey（人名）在这些城市中各占有 $w _ 1, w _ 2, \\cdots, w _ {3 \\times k}$（$0 \\leq w _ i \\leq 1000$）头奶牛。\n\n你需要将这些城市平分为 $3$ 组。显然，此时每组城市中总共有 $1000 \\times k$ 头奶牛。\n\n你需要保证，在至少两组城市中，Jersey 占有的奶牛总数**严格大于** $1000 \\times k$ 的一半。\n\n数据保证有解，求一种可行的分配方案。\n\n", "inputFormat": "第一行一个整数 $k$。\n\n然后 $3\\times k$ 行，一行一个整数 $w_i$。", "outputFormat": "输出有三组，第 $i$ 组输出 $k$ 行，表示第 $i$ 个区域的城市编号。", "hint": "可能会有多组解，输出任意一组即可。\n\n$1\\le k\\le 60$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Jersey Politics G", "background": "", "description": "In the newest census of Jersey Cows and Holstein Cows, Wisconsincows have earned three stalls in the Barn of Representatives. The Jersey Cows currently control the state's redistricting committee. They want to partition the state into three equally sized voting districts such that the Jersey Cows are guaranteed to win elections in at least two of the districts.\n\nWisconsin has $3K (1 \\leq K \\leq 60)$ cities of $1,000$ cows, numbered $1\\dots 3K$, each with a known number (range: $0\\dots 1,000$) of Jersey Cows. Find a way to partition the state into three districts, each with $K$ cities, such that the Jersey Cows have the majority percentage in at least two of districts.\n\nAll supplied input datasets are solvable.", "inputFormat": "- Line $1$: A single integer, $K$\n- Lines $2\\dots 3K+1$: One integer per line, the number of cows in each city that are Jersey Cows.  Line $i+1$ contains city $i$'s cow census.", "outputFormat": "- Lines $1\\dots K$: $K$ lines that are the city numbers in district one, one per line\n\n- Lines $K+1\\dots 2K$: $K$ lines that are the city numbers in district two,one per line\n\n- Lines $2K+1\\dots 3K$: $K$ lines that are the city numbers in district three, one per line", "hint": "Other solutions might be possible. Note that `2 3` would NOT be a district won by the Jerseys, as they would be exactly half of the cows.", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] Jersey Politics G", "background": "", "description": "在 Wisconsin（地名），有 $3 \\times k$ 个城市，依次标号为 $1, 2, \\cdots, 3 \\times k$，每个城市共有 $1000$ 头奶牛。Jersey（人名）在这些城市中各占有 $w _ 1, w _ 2, \\cdots, w _ {3 \\times k}$（$0 \\leq w _ i \\leq 1000$）头奶牛。\n\n你需要将这些城市平分为 $3$ 组。显然，此时每组城市中总共有 $1000 \\times k$ 头奶牛。\n\n你需要保证，在至少两组城市中，Jersey 占有的奶牛总数**严格大于** $1000 \\times k$ 的一半。\n\n数据保证有解，求一种可行的分配方案。\n\n", "inputFormat": "第一行一个整数 $k$。\n\n然后 $3\\times k$ 行，一行一个整数 $w_i$。", "outputFormat": "输出有三组，第 $i$ 组输出 $k$ 行，表示第 $i$ 个区域的城市编号。", "hint": "可能会有多组解，输出任意一组即可。\n\n$1\\le k\\le 60$。", "locale": "zh-CN"}}}
{"pid": "P1676", "type": "P", "difficulty": 7, "samples": [["1", "5"], ["2", "13"], ["5", "81"], ["19", "1129"], ["100", "31417"], ["30000", "2827432965"], ["10000000", "314159265350589"], ["500000000", "785398163397389961"], ["16000000000", "804247719318986163169"], ["700000000000", "1539380400258998682200449"]], "limits": {"time": [250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 3000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "2024", "数论", "洛谷原创", "O2优化", "单调栈", "Stern-Brocot 树"], "title": "「CMOI R0」Parallel Universe Shifter / Lattices in Circle", "background": "$$\\text{Answer}=\\pi n^2+\\mathrm O(n^{\\frac{517}{824}}).$$\n\n![](bilibili:BV1RM4m1U7oU)\n\n$\\small\\color{white}/35^{\\text{th}}\\text{Problem by AtC}.$", "description": "求与原点距离不超过 $n(1\\leq n\\leq 10^{12})$ 的整点个数。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个正整数，即答案。注意它可能大于 $2^{64}$。", "hint": "### 样例 $1$ 解释\n\n符合条件的 $5$ 个点是 $(0,0),(1,0),(0,1),(0,-1),(-1,0)$。\n\n### 数据范围\n\n|$\\text{Subtask}$|$\\text{Special Constraints}$|$\\text{Time Limit}$|$\\text{Points}$|\n| :----------: | :----------: | :----------: | :----------: |\n|$1$|$1\\leq n\\leq 2\\times 10^3$|$0.25\\text s$|$1$|\n|$2$|$10^4\\leq n\\leq 10^7$|$1\\text s$|$4$|\n|$3$|$10^8\\leq n\\leq 10^9$|$1\\text s$|$10$|\n|$4$|$10^9\\leq n\\leq 10^{10}$|$3\\text s$|$15$|\n|$5$|$10^{10}\\leq n\\leq 10^{11}$|$4\\text s$|$30$|\n|$6$|$10^{11}\\leq n\\leq 10^{12}$|$4\\text s$|$40$|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「CMOI R0」Parallel Universe Shifter / Lattices in Circle", "background": "$$\\text{Answer}=\\pi n^2+\\mathrm O(n^{\\frac{517}{824}}).$$\n\n![](bilibili:BV1RM4m1U7oU)\n\n$\\small\\color{white}/35^{\\text{th}}\\text{Problem by AtC}.$", "description": "求与原点距离不超过 $n(1\\leq n\\leq 10^{12})$ 的整点个数。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个正整数，即答案。注意它可能大于 $2^{64}$。", "hint": "### 样例 $1$ 解释\n\n符合条件的 $5$ 个点是 $(0,0),(1,0),(0,1),(0,-1),(-1,0)$。\n\n### 数据范围\n\n|$\\text{Subtask}$|$\\text{Special Constraints}$|$\\text{Time Limit}$|$\\text{Points}$|\n| :----------: | :----------: | :----------: | :----------: |\n|$1$|$1\\leq n\\leq 2\\times 10^3$|$0.25\\text s$|$1$|\n|$2$|$10^4\\leq n\\leq 10^7$|$1\\text s$|$4$|\n|$3$|$10^8\\leq n\\leq 10^9$|$1\\text s$|$10$|\n|$4$|$10^9\\leq n\\leq 10^{10}$|$3\\text s$|$15$|\n|$5$|$10^{10}\\leq n\\leq 10^{11}$|$4\\text s$|$30$|\n|$6$|$10^{11}\\leq n\\leq 10^{12}$|$4\\text s$|$40$|", "locale": "zh-CN"}}}
{"pid": "P1677", "type": "P", "difficulty": 2, "samples": [["5\n7 1 3 11 4", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2018", "USACO", "O2优化", "排序", "深度优先搜索 DFS"], "title": "[USACO18FEB] Hoofball B", "background": null, "description": "为了准备即将到来的蹄球锦标赛，Farmer John 正在训练他的 $N$ 头奶牛（方便起见，编号为 $1\\ldots N$，其中 $1\\le N\\le 100$）进行传球。这些奶牛在牛棚一侧沿直线排列，第 $i$ 号奶牛位于距离牛棚 $x_i$ 的地方（$1\\le x_i\\le 1000$）。每头奶牛都在不同的位置上。\n\n在训练开始的时候，Farmer John 会将若干个球传给不同的奶牛。当第 $i$ 号奶牛接到球时，无论是从 Farmer John 或是从另一头奶牛传来的，她会将球传给最近的奶牛（如果有多头奶牛与她距离相同，她会传给其中 $x_i$ 更小的那头）。为了使所有奶牛都有机会练习到传球，Farmer John 想要确保每头奶牛都持球至少一次。帮助他求出为了达到这一目的他开始时至少要传出的球的数量。假设他在开始的时候能将球传给最适当的一组奶牛。", "inputFormat": "输入的第一行包含 $N$。第二行包含 $N$ 个用空格分隔的整数，其中第 $i$ 个整数为 $x_i$。", "outputFormat": "输出 Farmer John 开始的时候最少需要传出的球的数量，使得所有奶牛至少持球一次。", "hint": "在上面的样例中，Farmer John 应该将球传给位于 $x=1$ 的奶牛和位于 $x=11$ 的奶牛。位于 $x=1$ 的奶牛会将她的球传给位于 $x=3$ 的奶牛，在此之后这个球会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。位于 $x=11$ 的奶牛会将她的球传给位于 $x=7$ 的奶牛，然后球会被传给位于 $x=4$ 的奶牛，在此之后这个球也会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。这样的话，所有的奶牛都会至少一次接到球（可能从 Farmer John，也可能从另一头奶牛）。\n\n可以看出，不存在这样一头奶牛，Farmer John 可以将球传给她之后所有奶牛最终都能被传到球。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO18FEB] Hoofball B", "background": null, "description": "为了准备即将到来的蹄球锦标赛，Farmer John 正在训练他的 $N$ 头奶牛（方便起见，编号为 $1\\ldots N$，其中 $1\\le N\\le 100$）进行传球。这些奶牛在牛棚一侧沿直线排列，第 $i$ 号奶牛位于距离牛棚 $x_i$ 的地方（$1\\le x_i\\le 1000$）。每头奶牛都在不同的位置上。\n\n在训练开始的时候，Farmer John 会将若干个球传给不同的奶牛。当第 $i$ 号奶牛接到球时，无论是从 Farmer John 或是从另一头奶牛传来的，她会将球传给最近的奶牛（如果有多头奶牛与她距离相同，她会传给其中 $x_i$ 更小的那头）。为了使所有奶牛都有机会练习到传球，Farmer John 想要确保每头奶牛都持球至少一次。帮助他求出为了达到这一目的他开始时至少要传出的球的数量。假设他在开始的时候能将球传给最适当的一组奶牛。", "inputFormat": "输入的第一行包含 $N$。第二行包含 $N$ 个用空格分隔的整数，其中第 $i$ 个整数为 $x_i$。", "outputFormat": "输出 Farmer John 开始的时候最少需要传出的球的数量，使得所有奶牛至少持球一次。", "hint": "在上面的样例中，Farmer John 应该将球传给位于 $x=1$ 的奶牛和位于 $x=11$ 的奶牛。位于 $x=1$ 的奶牛会将她的球传给位于 $x=3$ 的奶牛，在此之后这个球会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。位于 $x=11$ 的奶牛会将她的球传给位于 $x=7$ 的奶牛，然后球会被传给位于 $x=4$ 的奶牛，在此之后这个球也会在位于 $x=3$ 的奶牛和位于 $x=4$ 的奶牛之间来回传递。这样的话，所有的奶牛都会至少一次接到球（可能从 Farmer John，也可能从另一头奶牛）。\n\n可以看出，不存在这样一头奶牛，Farmer John 可以将球传给她之后所有奶牛最终都能被传到球。", "locale": "zh-CN"}}}
{"pid": "P1678", "type": "P", "difficulty": 2, "samples": [["4 3\n513 598 567 689\n500 600 550\n", "32"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "贪心", "二分", "排序"], "title": "烦恼的高考志愿", "background": "计算机竞赛小组的神牛 V 神终于结束了高考，然而作为班长的他还不能闲下来，班主任老 t 给了他一个艰巨的任务：帮同学找出最合理的大学填报方案。可是 v 神太忙了，身后还有一群小姑娘等着和他约会，于是他想到了同为计算机竞赛小组的你，请你帮他完成这个艰巨的任务。", "description": "现有 $m$ 所学校，每所学校预计分数线是 $a_i$。有 $n$ 位学生，估分分别为 $b_i$。\n\n根据 $n$ 位学生的估分情况，分别给每位学生推荐一所学校，要求学校的预计分数线和学生的估分相差最小（可高可低，毕竟是估分嘛），这个最小值为不满意度。求所有学生不满意度和的最小值。", "inputFormat": "第一行读入两个整数 $m,n$。\n\n第二行共有 $m$ 个数，表示 $m$ 个学校的预计录取分数。\n\n第三行有 $n$ 个数，表示 $n$ 个学生的估分成绩。", "outputFormat": "输出一行，为最小的不满度之和。", "hint": "数据范围：\n\n对于 $30\\%$ 的数据，$1\\leq n,m\\leq10^3$，估分和录取线 $\\leq10^4$；\n\n对于 $100\\%$ 的数据，$1\\leq n,m\\leq10^5$，估分和录取线 $\\leq 10^6$ 且均为非负整数。", "locale": "zh-CN", "translations": {"en": {"title": "Troubles with Gaokao Choices", "background": "The ace of the computer competition club, V Shen, has finally finished the Gaokao. However, as the class monitor, he still cannot take a break. His homeroom teacher, Lao t, gave him a daunting task: help his classmates find the most reasonable college application plan. But V Shen is too busy, with a group of girls waiting to date him, so he turned to you, a fellow member of the computer competition club, to help complete this task.", "description": "There are $m$ schools, each with an expected cutoff score $a_i$. There are $n$ students, with estimated scores $b_i$.\n\nBased on the estimated scores of the $n$ students, recommend one school to each student such that the difference between the school’s expected cutoff score and the student’s estimated score is minimized (either higher or lower—after all, it’s just an estimate). This minimum difference is called dissatisfaction. Find the minimum possible sum of dissatisfaction over all students.", "inputFormat": "The first line contains two integers $m, n$.\n\nThe second line contains $m$ numbers, representing the expected cutoff scores of the $m$ schools.\n\nThe third line contains $n$ numbers, representing the estimated scores of the $n$ students.", "outputFormat": "Output one line, the minimum sum of dissatisfaction.", "hint": "Constraints:\n\nFor $30\\%$ of the testdata, $1 \\le n, m \\le 10^3$, and the estimated scores and cutoffs are $\\le 10^4$.\n\nFor $100\\%$ of the testdata, $1 \\le n, m \\le 10^5$, the estimated scores and cutoffs are $\\le 10^6$, and all are non-negative integers.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "烦恼的高考志愿", "background": "计算机竞赛小组的神牛 V 神终于结束了高考，然而作为班长的他还不能闲下来，班主任老 t 给了他一个艰巨的任务：帮同学找出最合理的大学填报方案。可是 v 神太忙了，身后还有一群小姑娘等着和他约会，于是他想到了同为计算机竞赛小组的你，请你帮他完成这个艰巨的任务。", "description": "现有 $m$ 所学校，每所学校预计分数线是 $a_i$。有 $n$ 位学生，估分分别为 $b_i$。\n\n根据 $n$ 位学生的估分情况，分别给每位学生推荐一所学校，要求学校的预计分数线和学生的估分相差最小（可高可低，毕竟是估分嘛），这个最小值为不满意度。求所有学生不满意度和的最小值。", "inputFormat": "第一行读入两个整数 $m,n$。\n\n第二行共有 $m$ 个数，表示 $m$ 个学校的预计录取分数。\n\n第三行有 $n$ 个数，表示 $n$ 个学生的估分成绩。", "outputFormat": "输出一行，为最小的不满度之和。", "hint": "数据范围：\n\n对于 $30\\%$ 的数据，$1\\leq n,m\\leq10^3$，估分和录取线 $\\leq10^4$；\n\n对于 $100\\%$ 的数据，$1\\leq n,m\\leq10^5$，估分和录取线 $\\leq 10^6$ 且均为非负整数。", "locale": "zh-CN"}}}
{"pid": "P1679", "type": "P", "difficulty": 2, "samples": [["706", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "动态规划 DP", "搜索", "数学", "背包 DP"], "title": "神奇的四次方数", "background": "在你的帮助下，v 神终于帮同学找到了最合适的大学，接下来就要通知同学了。在班级里负责联络网的是 dm 同学，于是 v 神便找到了 dm 同学，可 dm 同学正在忙于研究一道有趣的数学题，为了请 dm 出山，v 神只好请你帮忙解决这道题了。", "description": "将一个整数 $m$ 分解为 $n$ 个四次方数的和的形式，要求 $n$ 最小。例如，当 $m=706$ 时，因为 $706=5^4+3^4$，所以有 $n=2$。可以证明此时 $n$ 最小。", "inputFormat": "一行，一个整数 $m$。", "outputFormat": "一行，一个整数 $n$。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$m \\le 5000$；\n- 对于 $100\\%$ 的数据，$m \\le 100,000$。", "locale": "zh-CN", "translations": {"en": {"title": "Magical Fourth Power Numbers", "background": "With your help, v 神 (v shen) finally found the most suitable university for a classmate, and now it is time to inform them. The classmate in charge of the contact network in the class is dm, so v 神 went to find dm. However, dm was busy studying an interesting math problem. To invite dm to help, v 神 asked you to solve this problem.", "description": "Decompose an integer $m$ into a sum of $n$ fourth powers, with $n$ being as small as possible. For example, when $m=706$, since $706=5^4+3^4$, we have $n=2$. It can be proven that in this case $n$ is minimal.", "inputFormat": "One line, an integer $m$.", "outputFormat": "One line, an integer $n$.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, $m \\le 5000$.\n- For $100\\%$ of the testdata, $m \\le 100{,}000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "神奇的四次方数", "background": "在你的帮助下，v 神终于帮同学找到了最合适的大学，接下来就要通知同学了。在班级里负责联络网的是 dm 同学，于是 v 神便找到了 dm 同学，可 dm 同学正在忙于研究一道有趣的数学题，为了请 dm 出山，v 神只好请你帮忙解决这道题了。", "description": "将一个整数 $m$ 分解为 $n$ 个四次方数的和的形式，要求 $n$ 最小。例如，当 $m=706$ 时，因为 $706=5^4+3^4$，所以有 $n=2$。可以证明此时 $n$ 最小。", "inputFormat": "一行，一个整数 $m$。", "outputFormat": "一行，一个整数 $n$。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$m \\le 5000$；\n- 对于 $100\\%$ 的数据，$m \\le 100,000$。", "locale": "zh-CN"}}}
{"pid": "P1680", "type": "P", "difficulty": 4, "samples": [["10 3\r\n1\r\n2\r\n3\r\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "组合数学", "排列组合"], "title": "奇怪的分组", "background": "终于解出了 dm 同学的难题，dm 同学同意帮 v 神联络。可 dm 同学有个习惯，就是联络同学的时候喜欢分组联络，而且分组的方式也很特别，要求第 $i$ 组的的人数必须大于他指定的个数 $C_i$。在 dm 同学联络的时候，v 神在想，按照 dm 同学的规则一共可以有多少种方案呢？他想啊想，终于……没想出来。于是他又想到了聪明的你，你能帮 v 神算出按照 dm 同学的规则有多少种分组方案吗？", "description": "v 神的班级共有 $N$ 个人，dm 同学想把同学分成 $M$ 组联络，要求第 $i$ 组的人数必须大于给定的正整数 $C_i$，求有多少不同的方案（两个是相同的方案当且仅当对于任意的一队 $i$，两个方案的第 $i$ 组同学数量相等）。由于结果很大，所以你只需要输出模 $10^9+7$ 的值。", "inputFormat": "第一行两个整数 $N$ 和 $M$，后面有 $M$ 行，每行一个整数，表示 $C_i$。", "outputFormat": "仅有一行，一个整数，方案数模 $10^9+7$ 的值。", "hint": "### 样例解释\n\n方案有三种，每组的个数分别是 $(3,3,4)$，$(2,4,4)$，$(2,3,5)$。\n\n### 数据范围约定\n\n对于 $30\\%$ 的数据，$N,M\\le 10$。\n\n对于 $60\\%$ 的数据，$N,M\\le 1000$。\n\n对于 $100\\%$ 的数据，$1\\le N ,M\\le 10^6$，$1\\le C_i\\le 1000$。\n\n数据保证至少有一个方案。", "locale": "zh-CN", "translations": {"en": {"title": "Strange Grouping", "background": "After finally solving classmate dm’s difficult problem, dm agreed to help contact “V-shen”. However, dm has a habit: when contacting classmates, he prefers to contact them in groups, and the grouping method is special — the number of people in the $i$-th group must be greater than a specified number $C_i$. While dm was contacting people, “V-shen” wondered how many grouping plans there could be under dm’s rules. He thought and thought, but still couldn’t figure it out. So he turned to you for help: can you compute how many grouping plans there are according to dm’s rules?", "description": "There are $N$ people in V-shen’s class. dm wants to split them into $M$ groups. The number of people in the $i$-th group must be greater than the given positive integer $C_i$. How many different plans are there? Two plans are considered the same if and only if, for every $i$, the sizes of the $i$-th group are equal in both plans. Since the answer can be large, output it modulo $10^9+7$.", "inputFormat": "The first line contains two integers $N$ and $M$. The next $M$ lines each contain one integer, denoting $C_i$.", "outputFormat": "Output a single line containing one integer — the number of plans modulo $10^9+7$.", "hint": "Sample Explanation:\nThere are three plans, with group sizes $(3, 3, 4)$, $(2, 4, 4)$, and $(2, 3, 5)$.\n\nConstraints:\n- For $30\\%$ of the testdata, $N, M \\le 10$.\n- For $60\\%$ of the testdata, $N, M \\le 1000$.\n- For $100\\%$ of the testdata, $1 \\le N, M \\le 10^6$, $1 \\le C_i \\le 1000$.\n\nThe testdata guarantees that there is at least one valid plan.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "奇怪的分组", "background": "终于解出了 dm 同学的难题，dm 同学同意帮 v 神联络。可 dm 同学有个习惯，就是联络同学的时候喜欢分组联络，而且分组的方式也很特别，要求第 $i$ 组的的人数必须大于他指定的个数 $C_i$。在 dm 同学联络的时候，v 神在想，按照 dm 同学的规则一共可以有多少种方案呢？他想啊想，终于……没想出来。于是他又想到了聪明的你，你能帮 v 神算出按照 dm 同学的规则有多少种分组方案吗？", "description": "v 神的班级共有 $N$ 个人，dm 同学想把同学分成 $M$ 组联络，要求第 $i$ 组的人数必须大于给定的正整数 $C_i$，求有多少不同的方案（两个是相同的方案当且仅当对于任意的一队 $i$，两个方案的第 $i$ 组同学数量相等）。由于结果很大，所以你只需要输出模 $10^9+7$ 的值。", "inputFormat": "第一行两个整数 $N$ 和 $M$，后面有 $M$ 行，每行一个整数，表示 $C_i$。", "outputFormat": "仅有一行，一个整数，方案数模 $10^9+7$ 的值。", "hint": "### 样例解释\n\n方案有三种，每组的个数分别是 $(3,3,4)$，$(2,4,4)$，$(2,3,5)$。\n\n### 数据范围约定\n\n对于 $30\\%$ 的数据，$N,M\\le 10$。\n\n对于 $60\\%$ 的数据，$N,M\\le 1000$。\n\n对于 $100\\%$ 的数据，$1\\le N ,M\\le 10^6$，$1\\le C_i\\le 1000$。\n\n数据保证至少有一个方案。", "locale": "zh-CN"}}}
