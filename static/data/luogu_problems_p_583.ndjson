{"pid": "P12832", "type": "P", "difficulty": 3, "samples": [["2\n3 2\n4 1", "2\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2025", "数论", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 数字轮盘", "background": "", "description": "“数字轮盘”是一款益智游戏，基于一个带有指针的圆形轮盘展开。轮盘边缘按顺时针刻有数字 1 至 $N$，初始时指针指向 1。\n\n游戏分为两阶段：旋转轮盘和恢复轮盘。\n\n第一阶段，将轮盘顺时针旋转 $K$ 次。每次旋转，数字依次后移一位，指针指向的数字随之改变。例如，对于 $N = 4$ 的轮盘，初始状态为 1, 2, 3, 4（指针指向 1），旋转一次变为 4, 1, 2, 3（指针指向 4），再旋转一次变为 3, 4, 1, 2（指针指向 3），依此类推。\n\n第二阶段，小蓝需通过操作恢复初始状态，每次操作包含以下两步：\n- 第一步：翻转以指针为起点、顺时针方向的前 $N - 1$ 个数字的顺序。\n- 第二步：翻转除指针外的 $N - 1$ 个数字的顺序。\n\n例如，对 $N = 4$，状态为 4, 1, 2, 3（指针指向 4）进行一次操作：\n- 第一步：翻转 4, 1, 2，变为 2, 1, 4, 3（指针指向 2）。\n- 第二步：翻转 1, 4, 3，变为 2, 3, 4, 1（指针指向 2）。\n\n现在，给定轮盘的数字个数 $N$ 和旋转次数 $K$，请计算小蓝最少需要几次操作才能恢复初始状态。如果无法恢复初始状态，则输出 -1。\n", "inputFormat": "输入的第一行包含一个整数 $T$，表示测试用例的数量。\n\n接下来 $T$ 行，每行包含两个整数 $N$ 和 $K$，分别表示轮盘上的数字个数和旋转次数。", "outputFormat": "输出共 $T$ 行，每行包含一个整数，表示最少需要的操作次数。如果无法恢复初始状态，则输出 $-1$。", "hint": "**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$1 \\leq T \\leq 10^2$，$2 \\leq N \\leq 500$，$0 \\leq K \\leq 500$。\n\n对于 100% 的评测用例，$1 \\leq T \\leq 10^5$，$2 \\leq N \\leq 10^9$，$0 \\leq K \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 数字轮盘", "background": "", "description": "“数字轮盘”是一款益智游戏，基于一个带有指针的圆形轮盘展开。轮盘边缘按顺时针刻有数字 1 至 $N$，初始时指针指向 1。\n\n游戏分为两阶段：旋转轮盘和恢复轮盘。\n\n第一阶段，将轮盘顺时针旋转 $K$ 次。每次旋转，数字依次后移一位，指针指向的数字随之改变。例如，对于 $N = 4$ 的轮盘，初始状态为 1, 2, 3, 4（指针指向 1），旋转一次变为 4, 1, 2, 3（指针指向 4），再旋转一次变为 3, 4, 1, 2（指针指向 3），依此类推。\n\n第二阶段，小蓝需通过操作恢复初始状态，每次操作包含以下两步：\n- 第一步：翻转以指针为起点、顺时针方向的前 $N - 1$ 个数字的顺序。\n- 第二步：翻转除指针外的 $N - 1$ 个数字的顺序。\n\n例如，对 $N = 4$，状态为 4, 1, 2, 3（指针指向 4）进行一次操作：\n- 第一步：翻转 4, 1, 2，变为 2, 1, 4, 3（指针指向 2）。\n- 第二步：翻转 1, 4, 3，变为 2, 3, 4, 1（指针指向 2）。\n\n现在，给定轮盘的数字个数 $N$ 和旋转次数 $K$，请计算小蓝最少需要几次操作才能恢复初始状态。如果无法恢复初始状态，则输出 -1。\n", "inputFormat": "输入的第一行包含一个整数 $T$，表示测试用例的数量。\n\n接下来 $T$ 行，每行包含两个整数 $N$ 和 $K$，分别表示轮盘上的数字个数和旋转次数。", "outputFormat": "输出共 $T$ 行，每行包含一个整数，表示最少需要的操作次数。如果无法恢复初始状态，则输出 $-1$。", "hint": "**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$1 \\leq T \\leq 10^2$，$2 \\leq N \\leq 500$，$0 \\leq K \\leq 500$。\n\n对于 100% 的评测用例，$1 \\leq T \\leq 10^5$，$2 \\leq N \\leq 10^9$，$0 \\leq K \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P12833", "type": "P", "difficulty": 3, "samples": [["2\n3\n5", "0\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2025", "蓝桥杯国赛", "线性 DP"], "title": "[蓝桥杯 2025 国 B] 斐波那契字符串", "background": "", "description": "斐波那契字符串 $S$ 是由 $\\tt 0$ 和 $\\tt 1$ 所组成的字符串，其生成规则如下：\n- $S_1 = \\tt 0$。\n- $S_2 = \\tt 1$。\n- 对于任意正整数 $n (n \\geq 3)$，$S_n = S_{n-2} + S_{n-1}$（“+”表示字符串拼接）。\n\n例如：$S_3 = 01$、$S_4 = 101$、$S_5 = 01101$。\n\n在斐波那契字符串 $S$ 中，定义逆序对为满足以下条件的整数对 $(i, j)$:\n- $1 \\leq i < j \\leq |S|$（其中 $|S|$ 表示 $S$ 的长度）。\n- $S[i] = 1$（第 $i$ 个字符为 $\\tt 1$）并且 $S[j] = 0$（第 $j$ 个字符为 $\\tt 0$）。\n\n现在，给定一个正整数 $N$，请你计算出 $S_N$ 中所有逆序对 $(i, j)$ 的总数。由于结果可能很大，请输出其对 $10^9 + 7$ 取余后的值。", "inputFormat": "输入的第一行包含一个整数 $T$，表示测试用例的数量。\n\n接下来的 $T$ 行，每行包含一个整数 $N$，表示要计算的斐波那契字符串的序号。", "outputFormat": "对于每个测试用例，输出一行，包含一个整数，表示 $S_N$ 中所有逆序对的总数对 $10^9 + 7$ 取余后的结果。", "hint": "**【样例说明】**\n\n对于 $N = 3$，$S_3 = 01$，逆序对总数为 0。\n\n对于 $N = 5$，$S_5 = 01101$，逆序对为 $(2, 4)$、$(3, 4)$，总数为 2。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq T \\leq 20$，$3 \\leq N \\leq 35$。\n\n对于 100% 的评测用例，$1 \\leq T \\leq 10^5$，$3 \\leq N \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 斐波那契字符串", "background": "", "description": "斐波那契字符串 $S$ 是由 $\\tt 0$ 和 $\\tt 1$ 所组成的字符串，其生成规则如下：\n- $S_1 = \\tt 0$。\n- $S_2 = \\tt 1$。\n- 对于任意正整数 $n (n \\geq 3)$，$S_n = S_{n-2} + S_{n-1}$（“+”表示字符串拼接）。\n\n例如：$S_3 = 01$、$S_4 = 101$、$S_5 = 01101$。\n\n在斐波那契字符串 $S$ 中，定义逆序对为满足以下条件的整数对 $(i, j)$:\n- $1 \\leq i < j \\leq |S|$（其中 $|S|$ 表示 $S$ 的长度）。\n- $S[i] = 1$（第 $i$ 个字符为 $\\tt 1$）并且 $S[j] = 0$（第 $j$ 个字符为 $\\tt 0$）。\n\n现在，给定一个正整数 $N$，请你计算出 $S_N$ 中所有逆序对 $(i, j)$ 的总数。由于结果可能很大，请输出其对 $10^9 + 7$ 取余后的值。", "inputFormat": "输入的第一行包含一个整数 $T$，表示测试用例的数量。\n\n接下来的 $T$ 行，每行包含一个整数 $N$，表示要计算的斐波那契字符串的序号。", "outputFormat": "对于每个测试用例，输出一行，包含一个整数，表示 $S_N$ 中所有逆序对的总数对 $10^9 + 7$ 取余后的结果。", "hint": "**【样例说明】**\n\n对于 $N = 3$，$S_3 = 01$，逆序对总数为 0。\n\n对于 $N = 5$，$S_5 = 01101$，逆序对为 $(2, 4)$、$(3, 4)$，总数为 2。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq T \\leq 20$，$3 \\leq N \\leq 35$。\n\n对于 100% 的评测用例，$1 \\leq T \\leq 10^5$，$3 \\leq N \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P12834", "type": "P", "difficulty": 3, "samples": [["2 2 2", "LQQL"], ["2 2 3", "LQLQ"], ["2 2 4", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 项链排列", "background": "", "description": "小蓝有 $A$ 颗蓝珠（用字符 'L' 表示）和 $B$ 颗桥珠（用字符 'Q' 表示），他打算用这些珠子串成一条项链。他认为项链的美感主要体现在其视觉“变化”上：当项链中任意两个相邻的珠子种类不同时，就记为产生了一次“变化”。\n\n为了系统地研究不同排列的美感，小蓝将每一种项链的排列方式表示为一个长度为 $A + B$ 的字符串。这个字符串由 $A$ 个字符 'L' 和 $B$ 个字符 'Q' 组成。相应地，一条项链的“变化次数”即为这个字符串中，所有相邻且不相同的字符对的数目。\n\n例如，如果项链的排列是“LLQLQ”，那么：\n- 第 1 个 'L' 和第 2 个 'L' 相同，无变化。\n- 第 2 个 'L' 和第 3 个 'Q' 不同，产生了 1 次变化。\n- 第 3 个 'Q' 和第 4 个 'L' 不同，产生了 1 次变化。\n- 第 4 个 'L' 和第 5 个 'Q' 不同，产生了 1 次变化。\n\n排列“LLQLQ”的总“变化次数”为 3。\n\n现在，小蓝希望找到一种项链排列，使其总“变化次数”恰好为 $C$。对此，请你帮他在所有满足这一条件的排列中，找出字典序最小的那一个。如果不存在任何满足条件的排列方式，则输出 -1。", "inputFormat": "输入仅一行，包含三个整数 $A，B$ 和 $C$，分别表示蓝珠数量、桥珠数量和目标变化次数。\n", "outputFormat": "输出一个长度为 $A + B$ 的字符串，表示字典序最小的满足条件的排列。如果不存在这样的排列，则输出 $-1$。\n", "hint": "**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$0 \\leq A, B, C \\leq 100$，$1 \\leq A + B \\leq 200$。\n\n对于 100% 的评测用例，$0 \\leq A, B, C \\leq 10^6$，$1 \\leq A + B \\leq 2 \\times 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 项链排列", "background": "", "description": "小蓝有 $A$ 颗蓝珠（用字符 'L' 表示）和 $B$ 颗桥珠（用字符 'Q' 表示），他打算用这些珠子串成一条项链。他认为项链的美感主要体现在其视觉“变化”上：当项链中任意两个相邻的珠子种类不同时，就记为产生了一次“变化”。\n\n为了系统地研究不同排列的美感，小蓝将每一种项链的排列方式表示为一个长度为 $A + B$ 的字符串。这个字符串由 $A$ 个字符 'L' 和 $B$ 个字符 'Q' 组成。相应地，一条项链的“变化次数”即为这个字符串中，所有相邻且不相同的字符对的数目。\n\n例如，如果项链的排列是“LLQLQ”，那么：\n- 第 1 个 'L' 和第 2 个 'L' 相同，无变化。\n- 第 2 个 'L' 和第 3 个 'Q' 不同，产生了 1 次变化。\n- 第 3 个 'Q' 和第 4 个 'L' 不同，产生了 1 次变化。\n- 第 4 个 'L' 和第 5 个 'Q' 不同，产生了 1 次变化。\n\n排列“LLQLQ”的总“变化次数”为 3。\n\n现在，小蓝希望找到一种项链排列，使其总“变化次数”恰好为 $C$。对此，请你帮他在所有满足这一条件的排列中，找出字典序最小的那一个。如果不存在任何满足条件的排列方式，则输出 -1。", "inputFormat": "输入仅一行，包含三个整数 $A，B$ 和 $C$，分别表示蓝珠数量、桥珠数量和目标变化次数。\n", "outputFormat": "输出一个长度为 $A + B$ 的字符串，表示字典序最小的满足条件的排列。如果不存在这样的排列，则输出 $-1$。\n", "hint": "**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$0 \\leq A, B, C \\leq 100$，$1 \\leq A + B \\leq 200$。\n\n对于 100% 的评测用例，$0 \\leq A, B, C \\leq 10^6$，$1 \\leq A + B \\leq 2 \\times 10^6$。", "locale": "zh-CN"}}}
{"pid": "P12835", "type": "P", "difficulty": 4, "samples": [["1", "10"], ["11", "30"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "二分", "2025", "数位 DP", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 蓝桥星数字", "background": "", "description": "地球上，我们习惯用十进制数字来记录万物，从个位、十位，逐级向上构成了我们熟悉的自然数体系。\n\n然而，在遥远的蓝桥星，数字的排列和解读方式却与我们截然不同。蓝桥星人并不单纯地以数值大小来衡量一个数字，他们更注重数字内部蕴含的“节奏感”。因此，对他们而言，任何一个有效的数字，其从左到右每一位上的数字奇偶性都必须是交替出现的。\n\n例如，对于 10 这个数字，其十位是奇数 1，个位是偶数 0，呈现奇偶交替，因此 10 是个有效的数字。而对于 13 这个数字，其十位是奇数 1，个位也是奇数 3，不符合奇偶交替的条件，因此 13 不是个有效的数字。\n\n根据这个规则，蓝桥星的数字序列从 10 开始，依次为 $10, 12, 14, 16, 18, 21, 23, 25, 27, 29, 30, \\ldots$。\n\n只不过，随着文明的发展，蓝桥星人需要一种方法，来快速找到第 $N$ 个符合这种奇偶交替规则的数字，以满足其日益增长的数字处理需求。现在，请你帮助蓝桥星人，编写程序找出并输出第 $N$ 个符合奇偶交替规则的数字。\n", "inputFormat": "输入包含一个正整数 $N$，表示需要查找第 $N$ 个符合规则的数字。\n", "outputFormat": "输出一个整数，表示第 $N$ 个符合奇偶交替规则的数字。", "hint": "**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq N \\leq 10^5$。\n\n对于 100% 的评测用例，$1 \\leq N \\leq 10^{12}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 蓝桥星数字", "background": "", "description": "地球上，我们习惯用十进制数字来记录万物，从个位、十位，逐级向上构成了我们熟悉的自然数体系。\n\n然而，在遥远的蓝桥星，数字的排列和解读方式却与我们截然不同。蓝桥星人并不单纯地以数值大小来衡量一个数字，他们更注重数字内部蕴含的“节奏感”。因此，对他们而言，任何一个有效的数字，其从左到右每一位上的数字奇偶性都必须是交替出现的。\n\n例如，对于 10 这个数字，其十位是奇数 1，个位是偶数 0，呈现奇偶交替，因此 10 是个有效的数字。而对于 13 这个数字，其十位是奇数 1，个位也是奇数 3，不符合奇偶交替的条件，因此 13 不是个有效的数字。\n\n根据这个规则，蓝桥星的数字序列从 10 开始，依次为 $10, 12, 14, 16, 18, 21, 23, 25, 27, 29, 30, \\ldots$。\n\n只不过，随着文明的发展，蓝桥星人需要一种方法，来快速找到第 $N$ 个符合这种奇偶交替规则的数字，以满足其日益增长的数字处理需求。现在，请你帮助蓝桥星人，编写程序找出并输出第 $N$ 个符合奇偶交替规则的数字。\n", "inputFormat": "输入包含一个正整数 $N$，表示需要查找第 $N$ 个符合规则的数字。\n", "outputFormat": "输出一个整数，表示第 $N$ 个符合奇偶交替规则的数字。", "hint": "**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq N \\leq 10^5$。\n\n对于 100% 的评测用例，$1 \\leq N \\leq 10^{12}$。", "locale": "zh-CN"}}}
{"pid": "P12836", "type": "P", "difficulty": 3, "samples": [["6\n4 3 2 1 7 9", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "贪心", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 翻倍", "background": "", "description": "给定 $n$ 个正整数 $A_1, A_2, \\ldots, A_n$，每次操作可以选择任意一个数翻倍。\n\n请输出让序列单调不下降，也就是每个数都不小于上一个数，最少需要操作多少次？", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $A_1, A_2, \\ldots, A_n$。", "outputFormat": "输出一个整数表示需要的最小操作次数。", "hint": "**【样例说明】**\n\n可以将序列变为: $4, 6, 8, 8, 14, 18$，总计需要 $0 + 1 + 2 + 3 + 1 + 1 = 8$ 次操作。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$n \\leq 10, A_i \\leq 100$。\n\n对于 50% 的评测用例，$n \\leq 5000, A_i < 2^{32}$，保证存在操作可以在所有 $A_i$ 小于 $2^{32}$ 的情况下满足题目要求。\n\n对于 100% 的评测用例，$1 \\leq n \\leq 2 \\times 10^5, 1 \\leq A_i < 2^{32}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 翻倍", "background": "", "description": "给定 $n$ 个正整数 $A_1, A_2, \\ldots, A_n$，每次操作可以选择任意一个数翻倍。\n\n请输出让序列单调不下降，也就是每个数都不小于上一个数，最少需要操作多少次？", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $A_1, A_2, \\ldots, A_n$。", "outputFormat": "输出一个整数表示需要的最小操作次数。", "hint": "**【样例说明】**\n\n可以将序列变为: $4, 6, 8, 8, 14, 18$，总计需要 $0 + 1 + 2 + 3 + 1 + 1 = 8$ 次操作。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$n \\leq 10, A_i \\leq 100$。\n\n对于 50% 的评测用例，$n \\leq 5000, A_i < 2^{32}$，保证存在操作可以在所有 $A_i$ 小于 $2^{32}$ 的情况下满足题目要求。\n\n对于 100% 的评测用例，$1 \\leq n \\leq 2 \\times 10^5, 1 \\leq A_i < 2^{32}$。", "locale": "zh-CN"}}}
{"pid": "P12837", "type": "P", "difficulty": 5, "samples": [["2", "650"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2025", "组合数学", "容斥原理", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 近似回文字符串", "background": "", "description": "小蓝，一位昔日的编程大神，如今却因找不到工作，转行成了飞天大盗。近日，他正筹划着盗取蓝桥王国的至宝——水晶项链。\n\n水晶项链被珍藏在一个固若金汤的保险库中，要想开启保险库，就必须破解保险库的密码。利用编程技能，小蓝截获情报，得知这个密码是一个长度为 $N$，且仅由小写英文字母构成的“近似回文字符串”。\n\n一个字符串 $S$ 被称为“近似回文字符串”需满足以下条件：\n\n1. $S$ 本身不是回文串。\n2. 从 $S$ 中删除一个字符后，剩下的字符串是回文串。\n\n例如，当 $S = \\text{abbac}$ 时，$S$ 不是回文，但删除最后一个字符 $\\text{c}$ 后得到的 $\\text{abba}$ 是回文，所以 $S$ 是“近似回文字符串”。\n\n现在，请你帮助小蓝计算长度为 $N$ 的“近似回文字符串”的数量，为转行做飞天大盗的小蓝提供助力。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。\n", "inputFormat": "输入一行，包含一个整数 $N$，表示密码字符串的长度。\n", "outputFormat": "输出一个整数，表示长度为 $N$ 的“近似回文字符串”的数量对 $10^9 + 7$ 取余后的结果。", "hint": "**【评测用例规模与约定】**\n\n对于 10% 的评测用例，$2 \\leq N \\leq 6$。\n\n对于 100% 的评测用例，$2 \\leq N \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 近似回文字符串", "background": "", "description": "小蓝，一位昔日的编程大神，如今却因找不到工作，转行成了飞天大盗。近日，他正筹划着盗取蓝桥王国的至宝——水晶项链。\n\n水晶项链被珍藏在一个固若金汤的保险库中，要想开启保险库，就必须破解保险库的密码。利用编程技能，小蓝截获情报，得知这个密码是一个长度为 $N$，且仅由小写英文字母构成的“近似回文字符串”。\n\n一个字符串 $S$ 被称为“近似回文字符串”需满足以下条件：\n\n1. $S$ 本身不是回文串。\n2. 从 $S$ 中删除一个字符后，剩下的字符串是回文串。\n\n例如，当 $S = \\text{abbac}$ 时，$S$ 不是回文，但删除最后一个字符 $\\text{c}$ 后得到的 $\\text{abba}$ 是回文，所以 $S$ 是“近似回文字符串”。\n\n现在，请你帮助小蓝计算长度为 $N$ 的“近似回文字符串”的数量，为转行做飞天大盗的小蓝提供助力。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。\n", "inputFormat": "输入一行，包含一个整数 $N$，表示密码字符串的长度。\n", "outputFormat": "输出一个整数，表示长度为 $N$ 的“近似回文字符串”的数量对 $10^9 + 7$ 取余后的结果。", "hint": "**【评测用例规模与约定】**\n\n对于 10% 的评测用例，$2 \\leq N \\leq 6$。\n\n对于 100% 的评测用例，$2 \\leq N \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P12838", "type": "P", "difficulty": 3, "samples": [["aabcbabacdab\n3\n1 1 2 2\n1 10 6 9\n4 7 9 12", "0\n1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["字符串", "二分", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 子串去重", "background": null, "description": "给定一个字符串 $S$ 以及若干组询问，每个询问包含两个区间 $(L_a, R_a)$, $(L_b, R_b)$，你需要判定 $S_{L_a}, S_{L_a+1}, \\ldots, S_{R_a}$ 与 $S_{L_b}, S_{L_b+1}, \\ldots, S_{R_b}$ 去重后有多少个位置上的字符是不同的。\n\n这里的去重指的是每个子串对于每种字符，只保留第一个出现的那个，后续出现的直接丢弃。\n\n例如 $\\tt{aabcbac}$ 在选中区间 $[1,5]$ 时，得到子串 $\\tt{aabcb}$，去重后为 $\\tt{abc}$，选中区间 $[3,6]$ 时得到 $\\tt{bcba}$，去重后为 $\\tt{bca}$。\n\n特别地，两个长度不同的子串中，较长串的多出的部分每个位置都视为不同。", "inputFormat": "输入第一行包含一个字符串 $S$。\n\n第二行包含一个整数 $m$，表示询问次数。\n\n接下来 $m$ 行，每行包含四个整数，表示一次询问。", "outputFormat": "输出共 $m$ 行，每行一个整数对应每次询问的答案。", "hint": "**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$|S| \\leq 10$, $m = 1$。\n\n对于 $60\\%$ 的评测用例，$|S|, m \\leq 5000$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq |S|, m \\leq 10^5$, $1 \\leq L_a \\leq R_a \\leq |S|$, $1 \\leq L_b \\leq R_b \\leq |S|$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 子串去重", "background": null, "description": "给定一个字符串 $S$ 以及若干组询问，每个询问包含两个区间 $(L_a, R_a)$, $(L_b, R_b)$，你需要判定 $S_{L_a}, S_{L_a+1}, \\ldots, S_{R_a}$ 与 $S_{L_b}, S_{L_b+1}, \\ldots, S_{R_b}$ 去重后有多少个位置上的字符是不同的。\n\n这里的去重指的是每个子串对于每种字符，只保留第一个出现的那个，后续出现的直接丢弃。\n\n例如 $\\tt{aabcbac}$ 在选中区间 $[1,5]$ 时，得到子串 $\\tt{aabcb}$，去重后为 $\\tt{abc}$，选中区间 $[3,6]$ 时得到 $\\tt{bcba}$，去重后为 $\\tt{bca}$。\n\n特别地，两个长度不同的子串中，较长串的多出的部分每个位置都视为不同。", "inputFormat": "输入第一行包含一个字符串 $S$。\n\n第二行包含一个整数 $m$，表示询问次数。\n\n接下来 $m$ 行，每行包含四个整数，表示一次询问。", "outputFormat": "输出共 $m$ 行，每行一个整数对应每次询问的答案。", "hint": "**【评测用例规模与约定】**\n\n对于 $40\\%$ 的评测用例，$|S| \\leq 10$, $m = 1$。\n\n对于 $60\\%$ 的评测用例，$|S|, m \\leq 5000$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq |S|, m \\leq 10^5$, $1 \\leq L_a \\leq R_a \\leq |S|$, $1 \\leq L_b \\leq R_b \\leq |S|$。", "locale": "zh-CN"}}}
{"pid": "P12839", "type": "P", "difficulty": 5, "samples": [["2 2 4\n1 1 0\n1 2 0\n2 1 0\n2 2 1", "0"], ["3 3 2\n1 1 0\n2 2 1", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["并查集", "2025", "组合数学", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 B] 涂格子", "background": "", "description": "小蓝正在玩一个涂格子的游戏。他有一个大小为 $n \\times m$ 的矩阵，他要给这个矩阵中的每个格子都涂上黑色或白色。小蓝希望最终涂完的格子像国际象棋棋盘一样整齐。具体来说，他希望每一个同色连通块都是矩形，且与上下左右四个异色的矩形相邻（如果存在的话）。下图中第一行的两个涂色方案是合法的，第二行的两个涂色方案是不合法的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ewqwlkxf.png)\n\n同时小蓝希望 $k$ 个格子具有特定的颜色。其中第 $i$ 个格子位置是 $(x_i, y_i)$，具有特定的颜色 $c_i$。你需要帮助他求出符合要求的合法涂色方案有多少种。因为方案数可能很大，请对 $998244353$ 取模后输出。", "inputFormat": "输入第一行包含三个正整数 $n, m, k$，含义如问题描述所述。\n\n接下来 $k$ 行，每行三个正整数 $x_i, y_i, c_i$，表示格子 $(x_i, y_i)$ 必须被涂成颜色 $c_i$。**注意 $x_i, y_i$ 可能重复出现。**\n", "outputFormat": "输出共一个整数，表示答案。", "hint": "**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$n \\times m \\leq 20$。\n\n对于 $50\\%$ 的评测用例，$n, m, k \\leq 5000$。\n\n另存在 $30\\%$ 的评测用例，$c_i = 0$。\n\n另存在 $10\\%$ 的评测用例，$k = 0$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq n, m \\leq 10^9$，$1 \\leq k \\leq 3 \\times 10^5$，$1 \\leq x_i \\leq n$，$1 \\leq y_i \\leq m$，$c_i \\in \\{0, 1\\}$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 B] 涂格子", "background": "", "description": "小蓝正在玩一个涂格子的游戏。他有一个大小为 $n \\times m$ 的矩阵，他要给这个矩阵中的每个格子都涂上黑色或白色。小蓝希望最终涂完的格子像国际象棋棋盘一样整齐。具体来说，他希望每一个同色连通块都是矩形，且与上下左右四个异色的矩形相邻（如果存在的话）。下图中第一行的两个涂色方案是合法的，第二行的两个涂色方案是不合法的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ewqwlkxf.png)\n\n同时小蓝希望 $k$ 个格子具有特定的颜色。其中第 $i$ 个格子位置是 $(x_i, y_i)$，具有特定的颜色 $c_i$。你需要帮助他求出符合要求的合法涂色方案有多少种。因为方案数可能很大，请对 $998244353$ 取模后输出。", "inputFormat": "输入第一行包含三个正整数 $n, m, k$，含义如问题描述所述。\n\n接下来 $k$ 行，每行三个正整数 $x_i, y_i, c_i$，表示格子 $(x_i, y_i)$ 必须被涂成颜色 $c_i$。**注意 $x_i, y_i$ 可能重复出现。**\n", "outputFormat": "输出共一个整数，表示答案。", "hint": "**【评测用例规模与约定】**\n\n对于 $20\\%$ 的评测用例，$n \\times m \\leq 20$。\n\n对于 $50\\%$ 的评测用例，$n, m, k \\leq 5000$。\n\n另存在 $30\\%$ 的评测用例，$c_i = 0$。\n\n另存在 $10\\%$ 的评测用例，$k = 0$。\n\n对于 $100\\%$ 的评测用例，$1 \\leq n, m \\leq 10^9$，$1 \\leq k \\leq 3 \\times 10^5$，$1 \\leq x_i \\leq n$，$1 \\leq y_i \\leq m$，$c_i \\in \\{0, 1\\}$。\n", "locale": "zh-CN"}}}
{"pid": "P12840", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["数学", "2025", "组合数学", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] OCR 校正", "background": "", "description": "小蓝维护着一套 OCR 文字识别系统。最近，系统频繁地将数字 0 和英文字母 O 混淆，这让他十分头疼。一次测试中，系统将一串长度为 2025 的、全部由数字 0 组成的字符串识别成了一个长度相同的字符串，但其中只有首尾两个字符被正确识别为数字 0，其余部分都被错误地识别成了字母 O。\n\n为了校正识别结果，小蓝需将所有的字母 O 替换回数字 0。只是，出于安全的考虑，该系统不允许直接批量修改所有字母 O，而是设定了如下替换规则:\n\n1. 首次操作，可任意选择一个字母 O，将其替换为数字 0；\n2. 后续操作，选择一个与数字 0 相邻的字母 O，将其替换为数字 0；\n3. 重复上述步骤，直到所有字母 O 都被替换为数字 0。\n\n小蓝想知道，在满足上述替换规则的情况下，总共有多少种不同的替换顺序可以将所有字母 O 替换为数字 0。两种替换顺序被视为不同的，当且仅当它们在某一步骤中选择了不同位置的字符。\n\n现在，请你帮他计算这个数量。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。", "inputFormat": "", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个范围在 0 至 $10^9 + 6$ 的整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] OCR 校正", "background": "", "description": "小蓝维护着一套 OCR 文字识别系统。最近，系统频繁地将数字 0 和英文字母 O 混淆，这让他十分头疼。一次测试中，系统将一串长度为 2025 的、全部由数字 0 组成的字符串识别成了一个长度相同的字符串，但其中只有首尾两个字符被正确识别为数字 0，其余部分都被错误地识别成了字母 O。\n\n为了校正识别结果，小蓝需将所有的字母 O 替换回数字 0。只是，出于安全的考虑，该系统不允许直接批量修改所有字母 O，而是设定了如下替换规则:\n\n1. 首次操作，可任意选择一个字母 O，将其替换为数字 0；\n2. 后续操作，选择一个与数字 0 相邻的字母 O，将其替换为数字 0；\n3. 重复上述步骤，直到所有字母 O 都被替换为数字 0。\n\n小蓝想知道，在满足上述替换规则的情况下，总共有多少种不同的替换顺序可以将所有字母 O 替换为数字 0。两种替换顺序被视为不同的，当且仅当它们在某一步骤中选择了不同位置的字符。\n\n现在，请你帮他计算这个数量。由于答案可能很大，你只需给出其对 $10^9 + 7$ 取余后的结果即可。", "inputFormat": "", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个范围在 0 至 $10^9 + 6$ 的整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12841", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["数学", "2025", "提交答案", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 小蓝的生日礼物", "background": "", "description": "2025 年 6 月 15 日是小蓝的生日，他的妈妈为他准备了一盒特别的生日礼物：8 张印有数字的卡片，上面分别写着 0, 0, 2, 2, 5, 5, 1, 6。\n\n小蓝想用这些卡片拼凑出三角形。他的想法是，从卡片中选择至少一张卡片，组成一个数字，作为三角形的一条边长。例如，他可以选择卡片 2, 5, 1，组成 251、215、521、512、125、152 等数字。在组合数字时，不允许出现前导 0，也不允许组合出值为 0 的数（无法成为三角形的边）。\n\n为了拼成一个三角形，他需要用同样的方法，再选择一些卡片组成第二个数字，作为三角形的第二条边长，然后再选择一些卡片组成第三个数字，作为三角形的第三条边长。\n\n需要注意的是，在每次组成边长时，每张卡片只能使用一次。也就是说，如果卡片 6 已经被用来组成第一个边长，那么在组成第二个和第三个边长时，就不能再使用这张卡片 6 了。\n\n现在，小蓝想知道，他总共可以拼凑出多少个不同的三角形？这里不同的三角形指的是三条边长所构成的集合不同。例如，边长为 $\\{1, 2, 3\\}$ 和 $\\{2, 3, 4\\}$ 的三角形被认为是不同的，而边长为 $\\{2, 5, 6\\}$ 和 $\\{5, 2, 6\\}$ 的三角形则被认为是相同的。", "inputFormat": "", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 小蓝的生日礼物", "background": "", "description": "2025 年 6 月 15 日是小蓝的生日，他的妈妈为他准备了一盒特别的生日礼物：8 张印有数字的卡片，上面分别写着 0, 0, 2, 2, 5, 5, 1, 6。\n\n小蓝想用这些卡片拼凑出三角形。他的想法是，从卡片中选择至少一张卡片，组成一个数字，作为三角形的一条边长。例如，他可以选择卡片 2, 5, 1，组成 251、215、521、512、125、152 等数字。在组合数字时，不允许出现前导 0，也不允许组合出值为 0 的数（无法成为三角形的边）。\n\n为了拼成一个三角形，他需要用同样的方法，再选择一些卡片组成第二个数字，作为三角形的第二条边长，然后再选择一些卡片组成第三个数字，作为三角形的第三条边长。\n\n需要注意的是，在每次组成边长时，每张卡片只能使用一次。也就是说，如果卡片 6 已经被用来组成第一个边长，那么在组成第二个和第三个边长时，就不能再使用这张卡片 6 了。\n\n现在，小蓝想知道，他总共可以拼凑出多少个不同的三角形？这里不同的三角形指的是三条边长所构成的集合不同。例如，边长为 $\\{1, 2, 3\\}$ 和 $\\{2, 3, 4\\}$ 的三角形被认为是不同的，而边长为 $\\{2, 5, 6\\}$ 和 $\\{5, 2, 6\\}$ 的三角形则被认为是相同的。", "inputFormat": "", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12842", "type": "P", "difficulty": 3, "samples": [["8\n5 4 10 4 20 5 4 5", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "枚举", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 土地整平计划", "background": "", "description": "小蓝作为一个二维生物快乐地生活在二维坐标系中，他最近得到了一块土地，他想把这块土地整平用于修建花园。具体来说，这块土地从左到右长度为 $n$ 格，第 $i$ 格的高度为 $h_i (i \\in [1, n])$。小蓝每次可以花费代价 $w$ 将一段连续的区间 $[l, r]$ 中的土地高度都变为 $w$，其中 $l \\leq r$，这段区间需要满足以下三组条件之一：\n\n1. $l = 1$, $r < n$，且对于 $i \\in [l, r]$ 有 $h_i \\neq h_{r+1}$，此时代价 $w = h_{r+1}$；\n2. $l > 1$, $r = n$，且对于 $i \\in [l, r]$ 有 $h_i \\neq h_{l-1}$，此时代价 $w = h_{l-1}$；\n3. $1 < l \\leq r < n$，$h_{l-1} = h_{r+1}$，且对于 $i \\in [l, r]$ 有 $h_i \\neq h_{l-1}$，此时代价 $w = h_{l-1} = h_{r+1}$。\n\n小蓝希望在若干次操作之后将这块土地整平，即所有格子的高度都相等，并且花费的代价总和最小。请你帮助他计算一下最小花费。\n", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $h_1, h_2, \\ldots, h_n$，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n选择将土地高度都变为 $5$，只需操作两次：将 $[2,5]$ 和 $[7,7]$ 的高度都变为 $5$，代价总和为 $10$。\n\n**【评测用例规模与约定】**\n\n对于 50% 的评测用例，$1 \\leq n \\leq 5000$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^6$，$1 \\leq h_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 土地整平计划", "background": "", "description": "小蓝作为一个二维生物快乐地生活在二维坐标系中，他最近得到了一块土地，他想把这块土地整平用于修建花园。具体来说，这块土地从左到右长度为 $n$ 格，第 $i$ 格的高度为 $h_i (i \\in [1, n])$。小蓝每次可以花费代价 $w$ 将一段连续的区间 $[l, r]$ 中的土地高度都变为 $w$，其中 $l \\leq r$，这段区间需要满足以下三组条件之一：\n\n1. $l = 1$, $r < n$，且对于 $i \\in [l, r]$ 有 $h_i \\neq h_{r+1}$，此时代价 $w = h_{r+1}$；\n2. $l > 1$, $r = n$，且对于 $i \\in [l, r]$ 有 $h_i \\neq h_{l-1}$，此时代价 $w = h_{l-1}$；\n3. $1 < l \\leq r < n$，$h_{l-1} = h_{r+1}$，且对于 $i \\in [l, r]$ 有 $h_i \\neq h_{l-1}$，此时代价 $w = h_{l-1} = h_{r+1}$。\n\n小蓝希望在若干次操作之后将这块土地整平，即所有格子的高度都相等，并且花费的代价总和最小。请你帮助他计算一下最小花费。\n", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个正整数 $h_1, h_2, \\ldots, h_n$，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n选择将土地高度都变为 $5$，只需操作两次：将 $[2,5]$ 和 $[7,7]$ 的高度都变为 $5$，代价总和为 $10$。\n\n**【评测用例规模与约定】**\n\n对于 50% 的评测用例，$1 \\leq n \\leq 5000$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^6$，$1 \\leq h_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P12843", "type": "P", "difficulty": 3, "samples": [["1 16 5 21 8", "2028\n2032"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 生日相遇问题", "background": "", "description": "小蓝和小乔是好朋友，他们想知道在未来的日子里，什么时候他们的生日会在同一个星期几。已知小蓝的生日是 $m$ 月 $d_1$ 日，小乔的生日是 $n$ 月 $d_2$ 日，请你计算从今年开始（今年为 2025 年），未来 $k$ 年内（包括今年，即年份在区间 $[2025, 2025 + k)$ 中），他们生日在同一个星期几的年份有哪些。\n\n提示：\n- 闰年的判断规则为：年份能被 $4$ 整除但不能被 $100$ 整除，或能被 $400$ 整除。闰年的 $2$ 月有 $29$ 天，非闰年的 $2$ 月有 $28$ 天。\n- 如果某人的生日是 $2$ 月 $29$ 日，那么在非闰年中，他/她的生日将被视为 $2$ 月 $28$ 日进行计算。\n- 保证输入日期均为合法日期。", "inputFormat": "输入一行包含五个正整数 $m, d_1, n, d_2, k$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出若干行，每行包含一个整数，表示小蓝和小乔生日在同一个星期几的年份（从今年开始计算，按照年份从小到大的顺序输出）。如果在未来 $k$ 年内没有这样的年份，输出英文 No Answer。", "hint": "**【样例说明】**\n\n此样例中，小蓝的生日是 1 月 16 日，小乔的生日是 5 月 21 日。\n\n从 2025 到 2032 年间，满足题意的是：\n\n- 2028 年，1 月 16 日是星期日，5 月 21 日也是星期日。\n- 2032 年，1 月 16 日是星期五，5 月 21 日也是星期五。\n\n**【评测用例规模与约定】**\n\n对于 25% 的评测用例，$1 \\leq k \\leq 10$；\n\n对于 50% 的评测用例，$1 \\leq k \\leq 20$；\n\n对于 75% 的评测用例，$1 \\leq k \\leq 30$；\n\n对于所有评测用例，$1 \\leq k \\leq 50$，$1 \\leq m, n \\leq 12$，$1 \\leq d_1, d_2 \\leq 31$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 生日相遇问题", "background": "", "description": "小蓝和小乔是好朋友，他们想知道在未来的日子里，什么时候他们的生日会在同一个星期几。已知小蓝的生日是 $m$ 月 $d_1$ 日，小乔的生日是 $n$ 月 $d_2$ 日，请你计算从今年开始（今年为 2025 年），未来 $k$ 年内（包括今年，即年份在区间 $[2025, 2025 + k)$ 中），他们生日在同一个星期几的年份有哪些。\n\n提示：\n- 闰年的判断规则为：年份能被 $4$ 整除但不能被 $100$ 整除，或能被 $400$ 整除。闰年的 $2$ 月有 $29$ 天，非闰年的 $2$ 月有 $28$ 天。\n- 如果某人的生日是 $2$ 月 $29$ 日，那么在非闰年中，他/她的生日将被视为 $2$ 月 $28$ 日进行计算。\n- 保证输入日期均为合法日期。", "inputFormat": "输入一行包含五个正整数 $m, d_1, n, d_2, k$，相邻整数之间使用一个空格分隔。\n", "outputFormat": "输出若干行，每行包含一个整数，表示小蓝和小乔生日在同一个星期几的年份（从今年开始计算，按照年份从小到大的顺序输出）。如果在未来 $k$ 年内没有这样的年份，输出英文 No Answer。", "hint": "**【样例说明】**\n\n此样例中，小蓝的生日是 1 月 16 日，小乔的生日是 5 月 21 日。\n\n从 2025 到 2032 年间，满足题意的是：\n\n- 2028 年，1 月 16 日是星期日，5 月 21 日也是星期日。\n- 2032 年，1 月 16 日是星期五，5 月 21 日也是星期五。\n\n**【评测用例规模与约定】**\n\n对于 25% 的评测用例，$1 \\leq k \\leq 10$；\n\n对于 50% 的评测用例，$1 \\leq k \\leq 20$；\n\n对于 75% 的评测用例，$1 \\leq k \\leq 30$；\n\n对于所有评测用例，$1 \\leq k \\leq 50$，$1 \\leq m, n \\leq 12$，$1 \\leq d_1, d_2 \\leq 31$。", "locale": "zh-CN"}}}
{"pid": "P12844", "type": "P", "difficulty": 4, "samples": [["6\n1 2\n1 3\n3 4\n3 5\n5 6", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "树形 DP", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 树", "background": "", "description": "给定一棵树，你需要从树上选择若干个点，使得选择的任意两点之间的距离均大于 $2$。\n\n输出符合条件的选择的方案数（可以选中任意个，但不能不选）。由于答案可能很大，你只需要输出答案对 $998244353$ 取模的结果。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n - 1$ 行，每行包含两个正整数 $u_i, v_i$，用一个空格分隔，表示结点 $u_i$ 和结点 $v_i$ 之间有一条边。保证给定的图是一棵树。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【评测用例规模与约定】**\n\n对于 40% 的评测用例，$1 \\leq n \\leq 20$；\n\n对于 80% 的评测用例，$1 \\leq n \\leq 5000$；\n\n对于所有评测用例，$1 \\leq n \\leq 3 \\times 10^5$，$u_i \\neq v_i$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 树", "background": "", "description": "给定一棵树，你需要从树上选择若干个点，使得选择的任意两点之间的距离均大于 $2$。\n\n输出符合条件的选择的方案数（可以选中任意个，但不能不选）。由于答案可能很大，你只需要输出答案对 $998244353$ 取模的结果。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n - 1$ 行，每行包含两个正整数 $u_i, v_i$，用一个空格分隔，表示结点 $u_i$ 和结点 $v_i$ 之间有一条边。保证给定的图是一棵树。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【评测用例规模与约定】**\n\n对于 40% 的评测用例，$1 \\leq n \\leq 20$；\n\n对于 80% 的评测用例，$1 \\leq n \\leq 5000$；\n\n对于所有评测用例，$1 \\leq n \\leq 3 \\times 10^5$，$u_i \\neq v_i$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P12845", "type": "P", "difficulty": 6, "samples": [["5\n3 1 1\n1 0 2\n6 2 1\n9 4 2\n10 1 1\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["图论", "贪心", "线段树", "2025", "图论建模", "强连通分量", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 连锁反应【数据强度待检验】", "background": "数据强度可能较弱，可能会不定期更新。", "description": "小蓝在数轴上放置了 $n$ 枚炸弹，第 $i$ 枚炸弹的位置为 $p_i$，其爆炸范围为 $[p_i - l_i, p_i + r_i]$。当一枚炸弹爆炸时，其范围内的所有其他未爆炸的炸弹均会被引爆。小蓝希望知道至少需要主动引爆多少枚炸弹，才能使得所有炸弹都爆炸。\n", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n$ 行，每行包含三个整数 $p_i, l_i, r_i$，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n主动引爆炸弹 $2, 4$，即可引爆所有炸弹。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n \\leq 2000$；\n\n对于另外 20% 的评测用例，$l_i = 0$；\n\n对于所有评测用例，$1 \\leq n \\leq 200000$，$0 \\leq p_i, l_i, r_i \\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 连锁反应【数据强度待检验】", "background": "数据强度可能较弱，可能会不定期更新。", "description": "小蓝在数轴上放置了 $n$ 枚炸弹，第 $i$ 枚炸弹的位置为 $p_i$，其爆炸范围为 $[p_i - l_i, p_i + r_i]$。当一枚炸弹爆炸时，其范围内的所有其他未爆炸的炸弹均会被引爆。小蓝希望知道至少需要主动引爆多少枚炸弹，才能使得所有炸弹都爆炸。\n", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n$ 行，每行包含三个整数 $p_i, l_i, r_i$，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n主动引爆炸弹 $2, 4$，即可引爆所有炸弹。\n\n**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n \\leq 2000$；\n\n对于另外 20% 的评测用例，$l_i = 0$；\n\n对于所有评测用例，$1 \\leq n \\leq 200000$，$0 \\leq p_i, l_i, r_i \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P12846", "type": "P", "difficulty": 5, "samples": [["5 8\n1 0 0 1 0\n1 2 3\n4 1 5\n2 3 5\n4 2 5\n3 1 5\n4 2 3\n3 1 4\n4 1 5", "3\n3\n0\n5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["线段树", "2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 翻转硬币", "background": "", "description": "给定 $n$ 个硬币的初始状态，以及 $m$ 次如下类型的操作：\n\n1. $1 \\ x \\ y$: 将 $[x, y]$ 之间的硬币每隔一个翻转一个，即翻转 $x, x+2, x+4, \\cdots, x+2t \\ (x+2t \\leq y)$；\n2. $2 \\ x \\ y$: 将 $[x, y]$ 之间的硬币每隔两个翻转一个，即翻转 $x, x+3, x+6, \\cdots, x+3t \\ (x+3t \\leq y)$；\n3. $3 \\ x \\ y$: 将 $[x, y]$ 之间的硬币全部翻转；\n4. $4 \\ x \\ y$: 查询 $[x, y]$ 之间正面朝上的硬币个数。", "inputFormat": "输入的第一行包含两个正整数 $n, m$，用一个空格分隔，分别表示硬币数和操作数。\n\n第二行包含 $n$ 个整数 $f_1, f_2, \\cdots, f_n$，相邻整数之间使用一个空格分隔，表示每个硬币的初始状态，其中 $f_i = 0$ 表示第 $i$ 个硬币为反面朝上，$f_i = 1$ 表示第 $i$ 个硬币为正面朝上。\n\n接下来 $m$ 行，每行包含三个正整数 $a_i, x_i, y_i$，相邻整数之间使用一个空格分隔，表示一次操作。", "outputFormat": "输出若干行。对于每次查询操作（$4 \\ x \\ y$），输出一行包含一个整数表示该查询的答案。", "hint": "**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n, m \\leq 5000$；\n\n对于另外 20% 的评测用例，$1 \\leq n, m \\leq 10^5$，且没有 $1 \\ x \\ y$ 类型的操作；\n\n对于另外 20% 的评测用例，$1 \\leq n, m \\leq 10^5$，且没有 $2 \\ x \\ y$ 类型的操作；\n\n对于所有评测用例，$1 \\leq n \\leq 5 \\times 10^5$，$1 \\leq m \\leq 10^5$，$f_i \\in \\{0, 1\\}$，$a_i \\in \\{1, 2, 3, 4\\}$，$1 \\leq x_i \\leq y_i \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 翻转硬币", "background": "", "description": "给定 $n$ 个硬币的初始状态，以及 $m$ 次如下类型的操作：\n\n1. $1 \\ x \\ y$: 将 $[x, y]$ 之间的硬币每隔一个翻转一个，即翻转 $x, x+2, x+4, \\cdots, x+2t \\ (x+2t \\leq y)$；\n2. $2 \\ x \\ y$: 将 $[x, y]$ 之间的硬币每隔两个翻转一个，即翻转 $x, x+3, x+6, \\cdots, x+3t \\ (x+3t \\leq y)$；\n3. $3 \\ x \\ y$: 将 $[x, y]$ 之间的硬币全部翻转；\n4. $4 \\ x \\ y$: 查询 $[x, y]$ 之间正面朝上的硬币个数。", "inputFormat": "输入的第一行包含两个正整数 $n, m$，用一个空格分隔，分别表示硬币数和操作数。\n\n第二行包含 $n$ 个整数 $f_1, f_2, \\cdots, f_n$，相邻整数之间使用一个空格分隔，表示每个硬币的初始状态，其中 $f_i = 0$ 表示第 $i$ 个硬币为反面朝上，$f_i = 1$ 表示第 $i$ 个硬币为正面朝上。\n\n接下来 $m$ 行，每行包含三个正整数 $a_i, x_i, y_i$，相邻整数之间使用一个空格分隔，表示一次操作。", "outputFormat": "输出若干行。对于每次查询操作（$4 \\ x \\ y$），输出一行包含一个整数表示该查询的答案。", "hint": "**【评测用例规模与约定】**\n\n对于 20% 的评测用例，$1 \\leq n, m \\leq 5000$；\n\n对于另外 20% 的评测用例，$1 \\leq n, m \\leq 10^5$，且没有 $1 \\ x \\ y$ 类型的操作；\n\n对于另外 20% 的评测用例，$1 \\leq n, m \\leq 10^5$，且没有 $2 \\ x \\ y$ 类型的操作；\n\n对于所有评测用例，$1 \\leq n \\leq 5 \\times 10^5$，$1 \\leq m \\leq 10^5$，$f_i \\in \\{0, 1\\}$，$a_i \\in \\{1, 2, 3, 4\\}$，$1 \\leq x_i \\leq y_i \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P12847", "type": "P", "difficulty": 5, "samples": [["5", "69984"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "矩阵加速", "线性代数", "蓝桥杯国赛", "欧拉降幂"], "title": "[蓝桥杯 2025 国 A] 斐波那契数列", "background": "", "description": "斐波那契数列是一个满足如下要求的数列\n\n$$\\begin{cases} F_1 = 1 \\\\ F_2 = 1 \\\\ F_i = F_{i-1} + F_{i-2} \\ (i > 2) \\end{cases}$$\n\n我们规定一个类似的数列满足\n\n$$\\begin{cases} G_1 = 2 \\\\ G_2 = 3 \\\\ G_i = G_{i-1} \\times G_{i-2} \\ (i > 2) \\end{cases}$$\n\n求该数列 $G$ 的前 $n$ 项的乘积对 $998244353$ 取模的结果。", "inputFormat": "输入一行包含一个正整数 $n$。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【评测用例规模与约定】**\n\n对于 70% 的评测用例，$n \\leq 10^6$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 斐波那契数列", "background": "", "description": "斐波那契数列是一个满足如下要求的数列\n\n$$\\begin{cases} F_1 = 1 \\\\ F_2 = 1 \\\\ F_i = F_{i-1} + F_{i-2} \\ (i > 2) \\end{cases}$$\n\n我们规定一个类似的数列满足\n\n$$\\begin{cases} G_1 = 2 \\\\ G_2 = 3 \\\\ G_i = G_{i-1} \\times G_{i-2} \\ (i > 2) \\end{cases}$$\n\n求该数列 $G$ 的前 $n$ 项的乘积对 $998244353$ 取模的结果。", "inputFormat": "输入一行包含一个正整数 $n$。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【评测用例规模与约定】**\n\n对于 70% 的评测用例，$n \\leq 10^6$；\n\n对于所有评测用例，$1 \\leq n \\leq 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P12848", "type": "P", "difficulty": 5, "samples": [["5\n4 1 2 3", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2025", "蓝桥杯国赛", "Ad-hoc"], "title": "[蓝桥杯 2025 国 A] 游戏", "background": "", "description": "小蓝正在进行一个游戏。这个游戏有 $n$ 个槽位和 $n-1$ 个石块，初始时第 $n$ 个槽位是空的，其余每个槽位都有一个石块，对于两个相连的槽位 $u, v$，若 $u$ 是空的，那么小蓝可以将 $v$ 里的石块移到 $u$ 中。开始时，对于任意的 $1 \\leq i < n$，第 $i$ 个槽位和第 $i+1$ 个槽位是相连的。游戏的最终目的是将每一个编号为 $i$ 的石块移动到编号为 $i$ 的槽位中。\n\n小蓝在经过几次简单的尝试后发现，这个游戏并不一定有解，但好在他可以花费 1 的代价，任选两个槽位使它们相连。小蓝希望你帮他求出，至少要花费多少的代价，能够让这个游戏有解。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n-1$ 个正整数 $a_1, a_2, \\cdots, a_{n-1}$，相邻整数之间使用一个空格分隔，分别表示初始第 $i$ 个槽位内石块的编号，保证 $a_i$ 各不相同。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n小蓝可以令槽位 1 和槽位 5 相连，然后将石块 4 移动到槽位 5，将石块 1 移动到槽位 1，将石块 2 移动到槽位 2，将石块 3 移动到槽位 3，将石块 4 移动到槽位 4，即可完成游戏的目标。\n\n**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$n \\leq 5$；\n\n对于 50% 的评测用例，最小代价不超过 1；\n\n对于所有评测用例，$1 \\leq n \\leq 3 \\times 10^5$，$1 \\leq a_i < n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 游戏", "background": "", "description": "小蓝正在进行一个游戏。这个游戏有 $n$ 个槽位和 $n-1$ 个石块，初始时第 $n$ 个槽位是空的，其余每个槽位都有一个石块，对于两个相连的槽位 $u, v$，若 $u$ 是空的，那么小蓝可以将 $v$ 里的石块移到 $u$ 中。开始时，对于任意的 $1 \\leq i < n$，第 $i$ 个槽位和第 $i+1$ 个槽位是相连的。游戏的最终目的是将每一个编号为 $i$ 的石块移动到编号为 $i$ 的槽位中。\n\n小蓝在经过几次简单的尝试后发现，这个游戏并不一定有解，但好在他可以花费 1 的代价，任选两个槽位使它们相连。小蓝希望你帮他求出，至少要花费多少的代价，能够让这个游戏有解。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n第二行包含 $n-1$ 个正整数 $a_1, a_2, \\cdots, a_{n-1}$，相邻整数之间使用一个空格分隔，分别表示初始第 $i$ 个槽位内石块的编号，保证 $a_i$ 各不相同。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n小蓝可以令槽位 1 和槽位 5 相连，然后将石块 4 移动到槽位 5，将石块 1 移动到槽位 1，将石块 2 移动到槽位 2，将石块 3 移动到槽位 3，将石块 4 移动到槽位 4，即可完成游戏的目标。\n\n**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$n \\leq 5$；\n\n对于 50% 的评测用例，最小代价不超过 1；\n\n对于所有评测用例，$1 \\leq n \\leq 3 \\times 10^5$，$1 \\leq a_i < n$。", "locale": "zh-CN"}}}
{"pid": "P12849", "type": "P", "difficulty": 5, "samples": [["4\n1 2 1\n1 3 1\n1 4 2", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2025", "蓝桥杯国赛"], "title": "[蓝桥杯 2025 国 A] 公路", "background": "", "description": "小蓝居住的国家有 $n$ 座城市，城市与城市之间由 $n-1$ 条公路连接，而且任意两个城市都可以通过公路互相到达。\n\n这个国家的公路由几个公司共同修建，如果小蓝希望通过某条公路，就必须持有修建这条公路的公司的通行证，但只要申请一次通行证，就可以在每一条这个公司修建的公路上通行。\n\n小蓝经常要在不同城市之间旅行，每次他要从一个城市到另一个不同的城市，都需要根据需要通过的公路申请相应的通行证。具体来说，如果小蓝的路线经过了一条或者更多条 A 公司修建的公路，小蓝就需要申请一次 A 公司的通行证。\n\n现在小蓝希望知道，对于这 $n \\times (n-1)$ 种不同的情况，他需要申请通行证的次数总共是多少。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n-1$ 行，每行包含三个正整数 $u_i, v_i, w_i$，相邻整数之间使用一个空格分隔，表示城市 $u_i$ 和城市 $v_i$ 之间有一条由公司 $w_i$ 修建的公路。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n下表给出了每种情况需要申请的通行证数量，总和为 16。\n\n|  | 1 | 2 | 3 | 4 |\n| --- | --- | --- | --- | --- |\n| 1 | / | 1 | 1 | 1 |\n| 2 | 1 | / | 1 | 2 |\n| 3 | 1 | 1 | / | 2 |\n| 4 | 1 | 2 | 2 | / |\n\n**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$1 \\leq n \\leq 300$；\n\n对于另外 20% 的评测用例，$u_i = i$，$v_i = i + 1$；\n\n对于另外 20% 的评测用例，$u_i = 1$，$v_i = i + 1$；\n\n对于 80% 的评测用例，$1 \\leq n \\leq 50000$；\n\n对于所有评测用例，$1 \\leq w_i, u_i, v_i \\leq n \\leq 500000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2025 国 A] 公路", "background": "", "description": "小蓝居住的国家有 $n$ 座城市，城市与城市之间由 $n-1$ 条公路连接，而且任意两个城市都可以通过公路互相到达。\n\n这个国家的公路由几个公司共同修建，如果小蓝希望通过某条公路，就必须持有修建这条公路的公司的通行证，但只要申请一次通行证，就可以在每一条这个公司修建的公路上通行。\n\n小蓝经常要在不同城市之间旅行，每次他要从一个城市到另一个不同的城市，都需要根据需要通过的公路申请相应的通行证。具体来说，如果小蓝的路线经过了一条或者更多条 A 公司修建的公路，小蓝就需要申请一次 A 公司的通行证。\n\n现在小蓝希望知道，对于这 $n \\times (n-1)$ 种不同的情况，他需要申请通行证的次数总共是多少。", "inputFormat": "输入的第一行包含一个正整数 $n$。\n\n接下来 $n-1$ 行，每行包含三个正整数 $u_i, v_i, w_i$，相邻整数之间使用一个空格分隔，表示城市 $u_i$ 和城市 $v_i$ 之间有一条由公司 $w_i$ 修建的公路。\n", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "**【样例说明】**\n\n下表给出了每种情况需要申请的通行证数量，总和为 16。\n\n|  | 1 | 2 | 3 | 4 |\n| --- | --- | --- | --- | --- |\n| 1 | / | 1 | 1 | 1 |\n| 2 | 1 | / | 1 | 2 |\n| 3 | 1 | 1 | / | 2 |\n| 4 | 1 | 2 | 2 | / |\n\n**【评测用例规模与约定】**\n\n对于 30% 的评测用例，$1 \\leq n \\leq 300$；\n\n对于另外 20% 的评测用例，$u_i = i$，$v_i = i + 1$；\n\n对于另外 20% 的评测用例，$u_i = 1$，$v_i = i + 1$；\n\n对于 80% 的评测用例，$1 \\leq n \\leq 50000$；\n\n对于所有评测用例，$1 \\leq w_i, u_i, v_i \\leq n \\leq 500000$。", "locale": "zh-CN"}}}
{"pid": "P12850", "type": "P", "difficulty": 0, "samples": [["6 3", "1 2 5\n1 3 4\n2 0 0\n2 0 0\n1 6 7\n2 0 8\n1 0 9\n1 0 0\n1 0 0"], ["0 2", "-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "Special Judge", "ICPC", "NERC/NEERC"], "title": "[NERC 2020 Online] Almost Balanced Tree", "background": "", "description": "Consider a binary tree, each node has a weight equal to 1 or 2. The weight of a subtree is the sum of weights of all nodes in the subtree. The weight of an empty tree is 0.\n\nThe binary tree is $\\emph{almost balanced}$ if for each node, the difference of weights of its children subtrees is at most 1 (if one of the children is missing, its weight is considered to be 0).\n\nHere is an example of an almost balanced binary tree:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1q3xfqru.png)\n\nYour task is to build any almost balanced binary tree with exactly $A$ nodes of weight 1 and $B$ nodes of weight 2, or to say that it is impossible.", "inputFormat": "The input contains two non-negative integers $A$ and $B$ ($1\\le A+B\\le 100\\,000$).\n", "outputFormat": "Assign indices from 1 to $A+B$ to the nodes of your tree, node 1 should be the root of the tree. Output $A+B$ lines, one for each node. Each line should contain three integers --- the weight of the node, and the indices of the left and the right children of the node. If the corresponding child is missing, output 0 instead.\n\nIf it is impossible to construct an almost balanced tree, output $-1$.\n\nIf there are multiple possible answers, output any one of them.", "hint": "", "locale": "en", "translations": {"en": {"title": "[NERC 2020 Online] Almost Balanced Tree", "background": "", "description": "Consider a binary tree, each node has a weight equal to 1 or 2. The weight of a subtree is the sum of weights of all nodes in the subtree. The weight of an empty tree is 0.\n\nThe binary tree is $\\emph{almost balanced}$ if for each node, the difference of weights of its children subtrees is at most 1 (if one of the children is missing, its weight is considered to be 0).\n\nHere is an example of an almost balanced binary tree:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1q3xfqru.png)\n\nYour task is to build any almost balanced binary tree with exactly $A$ nodes of weight 1 and $B$ nodes of weight 2, or to say that it is impossible.", "inputFormat": "The input contains two non-negative integers $A$ and $B$ ($1\\le A+B\\le 100\\,000$).\n", "outputFormat": "Assign indices from 1 to $A+B$ to the nodes of your tree, node 1 should be the root of the tree. Output $A+B$ lines, one for each node. Each line should contain three integers --- the weight of the node, and the indices of the left and the right children of the node. If the corresponding child is missing, output 0 instead.\n\nIf it is impossible to construct an almost balanced tree, output $-1$.\n\nIf there are multiple possible answers, output any one of them.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[NERC 2020 Online] Almost Balanced Tree", "background": "", "description": "考虑一棵二叉树，其中每个节点的权值为 1 或 2。一个子树的权值是该子树中所有节点权值的总和。空树的权值为 0。\n\n如果对于每个节点，其左右子树的权值之差不超过 1（如果某个子节点缺失，则其权值视为 0），那么这棵二叉树是**近似平衡**的。\n\n以下是一个近似平衡二叉树的示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1q3xfqru.png)\n\n你的任务是构建一棵恰好包含 $A$ 个权值为 1 的节点和 $B$ 个权值为 2 的节点的近似平衡二叉树，或者判定这是不可能的。\n", "inputFormat": "输入包含两个非负整数 $A$ 和 $B$（$1 \\le A + B \\le 100\\,000$）。\n", "outputFormat": "为树的节点分配从 1 到 $A + B$ 的编号，其中节点 1 应为树的根节点。输出 $A + B$ 行，每行对应一个节点。每行应包含三个整数——节点的权值，以及该节点的左右子节点的编号。如果对应的子节点不存在，则输出 0。\n\n如果无法构建近似平衡树，则输出 $-1$。\n\n如果存在多个可能的解，输出其中任意一个即可。", "hint": "翻译由 DeepSeek V3 完成", "locale": "zh-CN"}}}
{"pid": "P12851", "type": "P", "difficulty": 0, "samples": [["SEND\nMORE\n3\nFUN\nHONEY\nMONEY", "1\nMONEY"], ["DUB\nUPSPEAK\n279496\n... not shown ...", "2\nUPMAKER\nUPTAKEN"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "ICPC", "NERC/NEERC"], "title": "[NERC 2020 Online] Brain-teaser", "background": "", "description": "There is a type of a brain-teaser known as $\\emph{cryptoarithmetics}$. The classic example, published in the July 1924 issue of Strand Magazine by Henry Dudeney, is:\n\n$$\\begin{array}{cccccc}\n  &        & \\tt{S} & \\tt{E} & \\tt{N} & \\tt{D} \\\\\n+ &        & \\tt{M} & \\tt{O} & \\tt{R} & \\tt{E} \\\\\n\\hline \n= & \\tt{M} & \\tt{O} & \\tt{N} & \\tt{E} & \\tt{Y}\n\\end{array}$$\n\nA solution to such a puzzle is an assignment of letters to decimal digits from 0 to 9 that satisfies the following constraints:\n\n- Each letter must represent a different decimal digit.\n- The leading digit of each number must not be zero.\n- The result must be a correct equality --- the sum of the first two decimal numbers is equal to the third one.\n\nThe only solution to the above puzzle is $\\tt{O} = 0$, $\\tt{M} = 1$, $\\tt{Y} = 2$, $\\tt{E} = 5$,  $\\tt{N} = 6$, $\\tt{D} = 7$, $\\tt{R} = 8$, and $\\tt{S} = 9$, producing the following equality: $9567 + 1085 = 10652$.\n\nA $\\emph{good}$ brain-teaser, like the classic one, has a unique solution. You are given the first two words in a~brain-teaser and your task is to find all the possible third words from the given dictionary that produce a good brain-teaser with a unique solution.", "inputFormat": "The first and the second lines of the input contain a word each --- two addends of the brain-teaser. The~third line of the input contains an integer $n$ --- the number of words in the dictionary, followed by $n$~lines with the dictionary words. The words in the dictionary are lexicographically ordered.\n\nAll words in the input consist of 2 to 15 uppercase letters. All the tests, with the exception of the first test, use the same dictionary of $279\\,496$ Collins Dictionary Scrabble Words (2019). The first two words come from this dictionary, too. Note that you can find the second test with the full dictionary inside the downloadable file with the problem examples. It is provided together with the problem statements.", "outputFormat": "On the first line output a single integer $m$ --- the number of words from the dictionary that produce a good brain-teaser with the first two given words. On the next $m$ lines output the words in the same order as in the dictionary.", "hint": "", "locale": "en", "translations": {"en": {"title": "[NERC 2020 Online] Brain-teaser", "background": "", "description": "There is a type of a brain-teaser known as $\\emph{cryptoarithmetics}$. The classic example, published in the July 1924 issue of Strand Magazine by Henry Dudeney, is:\n\n$$\\begin{array}{cccccc}\n  &        & \\tt{S} & \\tt{E} & \\tt{N} & \\tt{D} \\\\\n+ &        & \\tt{M} & \\tt{O} & \\tt{R} & \\tt{E} \\\\\n\\hline \n= & \\tt{M} & \\tt{O} & \\tt{N} & \\tt{E} & \\tt{Y}\n\\end{array}$$\n\nA solution to such a puzzle is an assignment of letters to decimal digits from 0 to 9 that satisfies the following constraints:\n\n- Each letter must represent a different decimal digit.\n- The leading digit of each number must not be zero.\n- The result must be a correct equality --- the sum of the first two decimal numbers is equal to the third one.\n\nThe only solution to the above puzzle is $\\tt{O} = 0$, $\\tt{M} = 1$, $\\tt{Y} = 2$, $\\tt{E} = 5$,  $\\tt{N} = 6$, $\\tt{D} = 7$, $\\tt{R} = 8$, and $\\tt{S} = 9$, producing the following equality: $9567 + 1085 = 10652$.\n\nA $\\emph{good}$ brain-teaser, like the classic one, has a unique solution. You are given the first two words in a~brain-teaser and your task is to find all the possible third words from the given dictionary that produce a good brain-teaser with a unique solution.", "inputFormat": "The first and the second lines of the input contain a word each --- two addends of the brain-teaser. The~third line of the input contains an integer $n$ --- the number of words in the dictionary, followed by $n$~lines with the dictionary words. The words in the dictionary are lexicographically ordered.\n\nAll words in the input consist of 2 to 15 uppercase letters. All the tests, with the exception of the first test, use the same dictionary of $279\\,496$ Collins Dictionary Scrabble Words (2019). The first two words come from this dictionary, too. Note that you can find the second test with the full dictionary inside the downloadable file with the problem examples. It is provided together with the problem statements.", "outputFormat": "On the first line output a single integer $m$ --- the number of words from the dictionary that produce a good brain-teaser with the first two given words. On the next $m$ lines output the words in the same order as in the dictionary.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[NERC 2020 Online] Brain-teaser", "background": "", "description": "有一种被称为**数字谜题**（cryptoarithmetics）的智力游戏。经典的例子由 Henry Dudeney 在 1924 年 7 月的《Strand Magazine》上发表：\n\n$$\\begin{array}{cccccc}\n  &        & \\tt{S} & \\tt{E} & \\tt{N} & \\tt{D} \\\\\n+ &        & \\tt{M} & \\tt{O} & \\tt{R} & \\tt{E} \\\\\n\\hline \n= & \\tt{M} & \\tt{O} & \\tt{N} & \\tt{E} & \\tt{Y}\n\\end{array}$$\n\n这类谜题的解法需要将字母分配到 0 到 9 的十进制数字上，并满足以下约束条件：\n\n- 每个字母必须对应一个不同的十进制数字。\n- 每个数字的首位不能为零。\n- 等式必须成立——即前两个数字的和等于第三个数字。\n\n上述谜题的唯一解是 $\\tt{O} = 0$，$\\tt{M} = 1$，$\\tt{Y} = 2$，$\\tt{E} = 5$，$\\tt{N} = 6$，$\\tt{D} = 7$，$\\tt{R} = 8$，$\\tt{S} = 9$，对应的等式为：$9567 + 1085 = 10652$。\n\n一个**好的**数字谜题（如经典示例）具有唯一解。题目会给出谜题的前两个单词，你的任务是从给定的字典中找出所有可能的第三个单词，使得它们与给定的前两个单词组合成一个具有唯一解的好谜题。", "inputFormat": "输入的第一行和第二行各包含一个单词——谜题的两个加数。输入的第三行包含一个整数 $n$，表示字典中的单词数量，随后是 $n$ 行字典中的单词。字典中的单词按字典序排列。\n\n输入中的所有单词由 2 到 15 个大写字母组成。除第一个测试点外，所有测试均使用相同的字典——包含 $279\\,496$ 个单词的 2019 版 Collins Dictionary Scrabble Words。前两个单词也来自该字典。注意，你可以在可下载的问题示例文件中找到包含完整字典的第二个测试点，该文件与题目描述一同提供。\n", "outputFormat": "第一行输出一个整数 $m$——字典中能与前两个给定单词组合成好谜题的单词数量。接下来的 $m$ 行按字典序输出这些单词。\n", "hint": "翻译由 DeepSeek V3 完成", "locale": "zh-CN"}}}
