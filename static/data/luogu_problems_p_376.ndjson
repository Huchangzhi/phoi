{"pid": "P8626", "type": "P", "difficulty": 6, "samples": [["7 10 4\n1 3 10\n2 6 9\n4 1 5\n3 7 4\n3 6 9\n1 5 8\n2 7 4\n3 2 10\n1 7 6\n7 6 9\n1 7 1 0\n1 7 3 1\n2 5 1 0\n3 7 2 1", "9\n6\n8\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "生成树", "蓝桥杯省赛", "根号分治"], "title": "[蓝桥杯 2015 省 A] 灾后重建", "background": "", "description": "Pear 市一共有 $N$（$ \\le 50000$）个居民点，居民点之间有 $M$（$ \\le 2\\times 10^5$）条双向道路相连。这些居民点两两之间都可以通过双向道路到达。这种情况一直持续到最近，一次严重的地震毁坏了全部 $M$ 条道路。\n\n震后，Pear 打算修复其中一些道路，修理第 $i$ 条道路需要 $P_i$ 的时间。不过，Pear 并不打算让全部的点连通，而是选择一些标号特殊的点让他们连通。\n\nPear 有 $Q$（$ \\le 50000$）次询问，每次询问，他会选择所有编号在 $[l,r]$ 之间，并且编号 $\\bmod{K}=C$ 的点，修理一些路使得它们连通。由于所有道路的修理可以同时开工，所以完成修理的时间取决于花费时间最长的一条路，即涉及到的道路中 $P_i$ 的最大值。\n\n你能帮助 Pear 计算出每次询问时需要花费的最少时间么？这里询问是独立的，也就是上一个询问里的修理计划并没有付诸行动。", "inputFormat": "第一行三个正整数 $N$、$M$、$Q$，含义如题面所述。\n\n接下来 $M$ 行，每行三个正整数 $X_i$、$Y_i$、$P_i$，表示一条连接 $X_i$ 和 $Y_i$ 的双向道路，修复需要 $P_i$ 的时间。可能有自环，可能有重边。$1 \\le P_i \\le 10^6$。\n\n接下来 $Q$ 行，每行四个正整数 $L_i$、$R_i$、$K_i$、$C_i$，表示这次询问的点是 $[L_i,R_i]$ 区间中所有编号 $\\bmod{K_i}=C_i$ 的点。保证参与询问的点至少有两个。", "outputFormat": "输出 $Q$ 行，每行一个正整数表示对应询问的答案。", "hint": "对于 $20\\%$ 的数据，$N,M,Q \\le 30$。\n\n对于 $40\\%$ 的数据，$N,M,Q \\le 2000$。\n\n对于 $100\\%$ 的数据，$N \\le 50000,M \\le 2 \\times 10^5,Q \\le 50000.P_i \\le 10^6.L_i,R_i,K_i$ 均在 $[1,N]$ 范围内，$C_i$ 在 $[0,K_i)$ 范围内。\n\n时限 5 秒, 256M。\n\n蓝桥杯 2015 年省赛 A 组 J 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 省 A] 灾后重建", "background": "", "description": "Pear 市一共有 $N$（$ \\le 50000$）个居民点，居民点之间有 $M$（$ \\le 2\\times 10^5$）条双向道路相连。这些居民点两两之间都可以通过双向道路到达。这种情况一直持续到最近，一次严重的地震毁坏了全部 $M$ 条道路。\n\n震后，Pear 打算修复其中一些道路，修理第 $i$ 条道路需要 $P_i$ 的时间。不过，Pear 并不打算让全部的点连通，而是选择一些标号特殊的点让他们连通。\n\nPear 有 $Q$（$ \\le 50000$）次询问，每次询问，他会选择所有编号在 $[l,r]$ 之间，并且编号 $\\bmod{K}=C$ 的点，修理一些路使得它们连通。由于所有道路的修理可以同时开工，所以完成修理的时间取决于花费时间最长的一条路，即涉及到的道路中 $P_i$ 的最大值。\n\n你能帮助 Pear 计算出每次询问时需要花费的最少时间么？这里询问是独立的，也就是上一个询问里的修理计划并没有付诸行动。", "inputFormat": "第一行三个正整数 $N$、$M$、$Q$，含义如题面所述。\n\n接下来 $M$ 行，每行三个正整数 $X_i$、$Y_i$、$P_i$，表示一条连接 $X_i$ 和 $Y_i$ 的双向道路，修复需要 $P_i$ 的时间。可能有自环，可能有重边。$1 \\le P_i \\le 10^6$。\n\n接下来 $Q$ 行，每行四个正整数 $L_i$、$R_i$、$K_i$、$C_i$，表示这次询问的点是 $[L_i,R_i]$ 区间中所有编号 $\\bmod{K_i}=C_i$ 的点。保证参与询问的点至少有两个。", "outputFormat": "输出 $Q$ 行，每行一个正整数表示对应询问的答案。", "hint": "对于 $20\\%$ 的数据，$N,M,Q \\le 30$。\n\n对于 $40\\%$ 的数据，$N,M,Q \\le 2000$。\n\n对于 $100\\%$ 的数据，$N \\le 50000,M \\le 2 \\times 10^5,Q \\le 50000.P_i \\le 10^6.L_i,R_i,K_i$ 均在 $[1,N]$ 范围内，$C_i$ 在 $[0,K_i)$ 范围内。\n\n时限 5 秒, 256M。\n\n蓝桥杯 2015 年省赛 A 组 J 题。", "locale": "zh-CN"}}}
{"pid": "P8627", "type": "P", "difficulty": 1, "samples": [["100", "149"], ["101", "151"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "2015", "蓝桥杯省赛"], "title": "[蓝桥杯 2015 省 A] 饮料换购", "background": "", "description": "乐羊羊饮料厂正在举办一次促销优惠活动。乐羊羊 C 型饮料，凭 $3$ 个瓶盖可以再换一瓶 C 型饮料，并且可以一直循环下去(但不允许暂借或赊账)。\n\n请你计算一下，如果小明不浪费瓶盖，尽量地参加活动，那么，对于他初始买入的 $n$ 瓶饮料，最后他一共能喝到多少瓶饮料。\n", "inputFormat": "一个整数 $n$，表示开始购买的饮料数量。（$0<n<10000$）", "outputFormat": "一个整数，表示实际得到的饮料数。", "hint": "2015 年蓝桥杯省赛 A 组 H 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 省 A] 饮料换购", "background": "", "description": "乐羊羊饮料厂正在举办一次促销优惠活动。乐羊羊 C 型饮料，凭 $3$ 个瓶盖可以再换一瓶 C 型饮料，并且可以一直循环下去(但不允许暂借或赊账)。\n\n请你计算一下，如果小明不浪费瓶盖，尽量地参加活动，那么，对于他初始买入的 $n$ 瓶饮料，最后他一共能喝到多少瓶饮料。\n", "inputFormat": "一个整数 $n$，表示开始购买的饮料数量。（$0<n<10000$）", "outputFormat": "一个整数，表示实际得到的饮料数。", "hint": "2015 年蓝桥杯省赛 A 组 H 题。", "locale": "zh-CN"}}}
{"pid": "P8628", "type": "P", "difficulty": 3, "samples": [["5\nA + - + -\n- + - - +\n- + + + -\n+ - + - +\nB + - + -", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "广度优先搜索 BFS", "最短路", "队列", "蓝桥杯国赛"], "title": "[蓝桥杯 2015 国 AC] 穿越雷区", "background": "", "description": "$X$ 星的坦克战车很奇怪，它必须交替地穿越正能量辐射区和负能量辐射区才能保持正常运转，否则将报废。\n\n某坦克需要从 $A$ 区到 $B$ 区去（$A$，$B$ 区本身是安全区，没有正能量或负能量特征），怎样走才能路径最短？\n\n已知的地图是一个方阵，上面用字母标出了 $A$，$B$ 区，其它区都标了正号或负号分别表示正负能量辐射区。\n\n例如：\n\n```\nA + - + -\n- + - - +\n- + + + -\n+ - + - +\nB + - + -\n```\n\n坦克车只能水平或垂直方向上移动到相邻的区。\n", "inputFormat": "输入第一行是一个整数 $n$，表示方阵的大小，$4 \\le n<100$。\n\n接下来是 $n$ 行，每行有 $n$ 个数据，可能是 `A`，`B`，`+`，`-` 中的某一个，中间用空格分开。", "outputFormat": "要求输出一个整数，表示坦克从 $A$ 区到 $B$ 区的最少移动步数。\n\n如果没有方案，则输出 $-1$。", "hint": "时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 AC] 穿越雷区", "background": "", "description": "$X$ 星的坦克战车很奇怪，它必须交替地穿越正能量辐射区和负能量辐射区才能保持正常运转，否则将报废。\n\n某坦克需要从 $A$ 区到 $B$ 区去（$A$，$B$ 区本身是安全区，没有正能量或负能量特征），怎样走才能路径最短？\n\n已知的地图是一个方阵，上面用字母标出了 $A$，$B$ 区，其它区都标了正号或负号分别表示正负能量辐射区。\n\n例如：\n\n```\nA + - + -\n- + - - +\n- + + + -\n+ - + - +\nB + - + -\n```\n\n坦克车只能水平或垂直方向上移动到相邻的区。\n", "inputFormat": "输入第一行是一个整数 $n$，表示方阵的大小，$4 \\le n<100$。\n\n接下来是 $n$ 行，每行有 $n$ 个数据，可能是 `A`，`B`，`+`，`-` 中的某一个，中间用空格分开。", "outputFormat": "要求输出一个整数，表示坦克从 $A$ 区到 $B$ 区的最少移动步数。\n\n如果没有方案，则输出 $-1$。", "hint": "时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN"}}}
{"pid": "P8629", "type": "P", "difficulty": 3, "samples": [["2 31", "5"], ["97 2218388550399401452619230609499", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["高精度", "2015", "二分", "蓝桥杯国赛"], "title": "[蓝桥杯 2015 国 C] 机器人繁殖", "background": "", "description": "X 星系的机器人可以自动复制自己。它们用 $1$ 年的时间可以复制出 $2$ 个自己，然后就失去复制能力。\n每年X星系都会选出 $1$ 个新出生的机器人发往太空。也就是说，如果X星系原有机器人 $5$ 个，  \n$1$ 年后总数是：$5 + 9 = 14$  \n$2$ 年后总数是：$5 + 9 + 17 = 31$\n\n如果已经探测经过 $n$ 年后的机器人总数 $s$，你能算出最初有多少机器人吗？", "inputFormat": "输入一行两个数字 $n$ 和 $s$，用空格分开，含义如上。$n$ 不大于 $100$，$s$ 位数不超过 $50$ 位。", "outputFormat": "要求输出一行，一个整数，表示最初有机器人多少个。", "hint": "时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 C] 机器人繁殖", "background": "", "description": "X 星系的机器人可以自动复制自己。它们用 $1$ 年的时间可以复制出 $2$ 个自己，然后就失去复制能力。\n每年X星系都会选出 $1$ 个新出生的机器人发往太空。也就是说，如果X星系原有机器人 $5$ 个，  \n$1$ 年后总数是：$5 + 9 = 14$  \n$2$ 年后总数是：$5 + 9 + 17 = 31$\n\n如果已经探测经过 $n$ 年后的机器人总数 $s$，你能算出最初有多少机器人吗？", "inputFormat": "输入一行两个数字 $n$ 和 $s$，用空格分开，含义如上。$n$ 不大于 $100$，$s$ 位数不超过 $50$ 位。", "outputFormat": "要求输出一行，一个整数，表示最初有机器人多少个。", "hint": "时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN"}}}
{"pid": "P8630", "type": "P", "difficulty": 3, "samples": [["aaaabbbbaabbcccc\n2\naaaabbbb\nabcabccc", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "哈希 hashing", "蓝桥杯国赛"], "title": "[蓝桥杯 2015 国 B] 密文搜索", "background": "", "description": "福尔摩斯从 X 星收到一份资料，全部是小写字母组成。\n\n他的助手提供了另一份资料：许多长度为 $8$ 的密码列表。\n\n福尔摩斯发现，这些密码是被打乱后隐藏在先前那份资料中的。\n\n请你编写一个程序，从第一份资料中搜索可能隐藏密码的位置。要考虑密码的所有排列可能性。", "inputFormat": "输入第一行：一个字符串 $s$，全部由小写字母组成，长度小于 $1024 \\times 1024$。\n\n紧接着一行是一个整数 $n,$ 表示以下有 $n$ 行密码，$1 \\le n \\le 1000$。\n\n紧接着是 $n$ 行字符串，都是小写字母组成，长度都为 $8$。", "outputFormat": "一个整数，表示每行密码的所有排列在 $s$ 中匹配次数的总和。", "hint": "第一个密码匹配了 $3$ 次，第二个密码匹配了 $1$ 次，一共 $4$ 次。\n\n时限 3 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 B] 密文搜索", "background": "", "description": "福尔摩斯从 X 星收到一份资料，全部是小写字母组成。\n\n他的助手提供了另一份资料：许多长度为 $8$ 的密码列表。\n\n福尔摩斯发现，这些密码是被打乱后隐藏在先前那份资料中的。\n\n请你编写一个程序，从第一份资料中搜索可能隐藏密码的位置。要考虑密码的所有排列可能性。", "inputFormat": "输入第一行：一个字符串 $s$，全部由小写字母组成，长度小于 $1024 \\times 1024$。\n\n紧接着一行是一个整数 $n,$ 表示以下有 $n$ 行密码，$1 \\le n \\le 1000$。\n\n紧接着是 $n$ 行字符串，都是小写字母组成，长度都为 $8$。", "outputFormat": "一个整数，表示每行密码的所有排列在 $s$ 中匹配次数的总和。", "hint": "第一个密码匹配了 $3$ 次，第二个密码匹配了 $1$ 次，一共 $4$ 次。\n\n时限 3 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN"}}}
{"pid": "P8631", "type": "P", "difficulty": 6, "samples": [["10\nbbaaabcaba", "38"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "枚举", "前缀和", "Manacher 算法", "蓝桥杯国赛"], "title": "[蓝桥杯 2015 国 AC] 切开字符串", "background": "", "description": "Pear 有一个字符串，不过他希望把它切成两段。\n\n这是一个长度为 $N$（$ \\le 10^5$）的字符串。\n\nPear 希望选择一个位置，把字符串不重复不遗漏地切成两段，长度分别是 $t$ 和 $N-t$（这两段都必须非空）。\n\nPear 用如下方式评估切割的方案：\n\n定义“正回文子串”为：长度为奇数的回文子串。\n\n设切成的两段字符串中，前一段中有 $A$ 个不相同的正回文子串，后一段中有 $B$ 个不相同的非正回文子串，则该方案的得分为 $A \\times B$。\n\n注意，后一段中的 $B$ 表示的是：“ ... 非正回文 ... ”，而不是：“ ... 正回文 ... ”。\n\n那么所有的切割方案中，$A \\times B$ 的最大值是多少呢？", "inputFormat": "输入第一行一个正整数 $N$（$ \\le 10^5$）\n\n接下来一行一个字符串，长度为 $N$。该字符串仅包含小写英文字母。", "outputFormat": "一行一个正整数，表示所求的 $A \\times B$ 的最大值。", "hint": "对于 $20\\%$ 的数据，$N \\le 100$。\n\n对于 $40\\%$ 的数据，$N \\le 1000$。\n\n对于 $100\\%$ 的数据，$N \\le 10^5$。\n\n时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 AC] 切开字符串", "background": "", "description": "Pear 有一个字符串，不过他希望把它切成两段。\n\n这是一个长度为 $N$（$ \\le 10^5$）的字符串。\n\nPear 希望选择一个位置，把字符串不重复不遗漏地切成两段，长度分别是 $t$ 和 $N-t$（这两段都必须非空）。\n\nPear 用如下方式评估切割的方案：\n\n定义“正回文子串”为：长度为奇数的回文子串。\n\n设切成的两段字符串中，前一段中有 $A$ 个不相同的正回文子串，后一段中有 $B$ 个不相同的非正回文子串，则该方案的得分为 $A \\times B$。\n\n注意，后一段中的 $B$ 表示的是：“ ... 非正回文 ... ”，而不是：“ ... 正回文 ... ”。\n\n那么所有的切割方案中，$A \\times B$ 的最大值是多少呢？", "inputFormat": "输入第一行一个正整数 $N$（$ \\le 10^5$）\n\n接下来一行一个字符串，长度为 $N$。该字符串仅包含小写英文字母。", "outputFormat": "一行一个正整数，表示所求的 $A \\times B$ 的最大值。", "hint": "对于 $20\\%$ 的数据，$N \\le 100$。\n\n对于 $40\\%$ 的数据，$N \\le 1000$。\n\n对于 $100\\%$ 的数据，$N \\le 10^5$。\n\n时限 1 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN"}}}
{"pid": "P8632", "type": "P", "difficulty": 6, "samples": [["6 10\n1 3\n2 2\n4 5\n5 20\n6 5\n8 7", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2015", "斜率优化", "蓝桥杯国赛"], "title": "[蓝桥杯 2015 国 B] 居民集会", "background": "", "description": "蓝桥村的居民都生活在一条公路的边上，公路的长度为 $L$，每户家庭的位置都用这户家庭到公路的起点的距离来计算，第 $i$ 户家庭距起点的距离为 $d_i$。\n\n每年，蓝桥村都要举行一次集会。今年，由于村里的人口太多，村委会决定要在 $4$ 个地方举行集会，其中 $3$ 个位于公路中间，$1$ 个位最公路的终点。\n\n已知每户家庭都会向着远离公路起点的方向去参加集会，参加集会的路程开销为家庭内的人数 $t_i$ 与距离的乘积。\n\n给定每户家庭的位置 $d_i$ 和人数 $t_i$，请为村委会寻找最好的集会举办地：$p_1,p_2,p_3,p_4(p_1 \\le p_2 \\le p_3 \\le p_4=L),$ 使得村内所有人的路程开销和最小。", "inputFormat": "输入的第一行包含两个整数 $n,L$，分别表示蓝桥村的家庭数和公路长度。\n\n接下来 $n$ 行，每行两个整数 $d_i,t_i$，分别表示第 $i$ 户家庭距离公路起点的距离和家庭中的人数。", "outputFormat": "输出一行，包含一个整数，表示村内所有人路程的开销和。", "hint": "【样例说明】\n\n在距起点 $2,5,8,10$ 这 $4$ 个地方集会，$6$ 个家庭需要的走的距离分别为 $1,0,1,0,2,0$，总的路程开销为 $1 \\times 3+0 \\times 2+1 \\times 5+0 \\times 20+2 \\times 5+0 \\times 7=18$。\n\n【数据规模与约定】\n\n对于 $10\\%$ 的评测数据，$1 \\le n \\le 300$。\n\n对于 $30\\%$ 的评测数据，$1 \\le n \\le 2000$，$1 \\le L \\le 10000$，$0 \\le d_i \\le L$，$d_i \\le d_i+1$，$0 \\le t_i \\le 20$。\n\n对于 $100\\%$ 的评测数据，$1 \\le n \\le 10^5$，$1 \\le L \\le 10^6$，$0 \\le d_i \\le L$，$d_i \\le d_i+1$，$0 \\le t_i \\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 B] 居民集会", "background": "", "description": "蓝桥村的居民都生活在一条公路的边上，公路的长度为 $L$，每户家庭的位置都用这户家庭到公路的起点的距离来计算，第 $i$ 户家庭距起点的距离为 $d_i$。\n\n每年，蓝桥村都要举行一次集会。今年，由于村里的人口太多，村委会决定要在 $4$ 个地方举行集会，其中 $3$ 个位于公路中间，$1$ 个位最公路的终点。\n\n已知每户家庭都会向着远离公路起点的方向去参加集会，参加集会的路程开销为家庭内的人数 $t_i$ 与距离的乘积。\n\n给定每户家庭的位置 $d_i$ 和人数 $t_i$，请为村委会寻找最好的集会举办地：$p_1,p_2,p_3,p_4(p_1 \\le p_2 \\le p_3 \\le p_4=L),$ 使得村内所有人的路程开销和最小。", "inputFormat": "输入的第一行包含两个整数 $n,L$，分别表示蓝桥村的家庭数和公路长度。\n\n接下来 $n$ 行，每行两个整数 $d_i,t_i$，分别表示第 $i$ 户家庭距离公路起点的距离和家庭中的人数。", "outputFormat": "输出一行，包含一个整数，表示村内所有人路程的开销和。", "hint": "【样例说明】\n\n在距起点 $2,5,8,10$ 这 $4$ 个地方集会，$6$ 个家庭需要的走的距离分别为 $1,0,1,0,2,0$，总的路程开销为 $1 \\times 3+0 \\times 2+1 \\times 5+0 \\times 20+2 \\times 5+0 \\times 7=18$。\n\n【数据规模与约定】\n\n对于 $10\\%$ 的评测数据，$1 \\le n \\le 300$。\n\n对于 $30\\%$ 的评测数据，$1 \\le n \\le 2000$，$1 \\le L \\le 10000$，$0 \\le d_i \\le L$，$d_i \\le d_i+1$，$0 \\le t_i \\le 20$。\n\n对于 $100\\%$ 的评测数据，$1 \\le n \\le 10^5$，$1 \\le L \\le 10^6$，$0 \\le d_i \\le L$，$d_i \\le d_i+1$，$0 \\le t_i \\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P8633", "type": "P", "difficulty": 6, "samples": [["3 2 2\n1 2\n3 2", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "枚举", "Pólya 定理", "蓝桥杯国赛"], "title": "[蓝桥杯 2015 国 B] 模型染色", "background": "", "description": "在电影《超能陆战队》中，小宏可以使用他的微型机器人组合成各种各样的形状。\n\n现在他用他的微型机器人拼成了一个大玩具给小朋友们玩。为了更加美观，他决定给玩具染色。\n\n小宏的玩具由 $n$ 个球型的端点和 $m$ 段连接这些端点之间的边组成。下图给出了一个由 $5$ 个球型端点和 $4$ 条边组成的玩具，看上去很像一个分子的球棍模型。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sefn3dug.png)\n\n由于小宏的微型机器人很灵活，这些球型端点可以在空间中任意移动，同时连接相邻两个球型端点的边可以任意的伸缩，这样一个玩具可以变换出不同的形状。在变换的过程中，边不会增加，也不会减少。\n\n小宏想给他的玩具染上不超过 $k$ 种颜色，这样玩具看上去会不一样。如果通过变换可以使得玩具变成完全相同的颜色模式，则认为是本质相同的染色。现在小宏想知道，可能有多少种本质不同的染色。", "inputFormat": "输入的第一行包含三个整数 $n,m,k$，分别表示小宏的玩具上的端点数、边数和小宏可能使用的颜色数。端点从 $1$ 到 $n$ 编号。\n\n接下来 $m$ 行每行两个整数 $a,b$，表示第 $a$ 个端点和第 $b$ 个端点之间有一条边。输入保证不会出现两条相同的边。", "outputFormat": "输出一行，表示本质不同的染色的方案数。由于方案数可能很多，请输入方案数除 $10007$ 的余数。", "hint": "**【样例说明】**\n\n令 $(a,b,c)$ 表示第一个端点染成 $a$，第二个端点染成 $b$，第三个端点染成 $c$，则下面 $6$ 种本质不同的染色：$(1,1,1),(1,1,2),(1,2,1),(1,2,2),(2,1,2),(2,2,2)$。\n\n而 $(2,1,1)$ 与 $(1,1,2)$ 是本质相同的，$(2,2,1)$ 与 $(2,1,2)$ 是本质相同的。\n\n**【数据规模与约定】**\n\n对于 $20\\%$ 的评测数据，$1 \\le n \\le 5$，$1 \\le k \\le 2$。\n\n对于 $50\\%$ 的评测数据，$1 \\le n \\le 10$，$1 \\le k \\le 8$。\n\n对于 $100\\%$ 的评测数据，$1 \\le n \\le 10$，$1 \\le m \\le 45$，$1 \\le k \\le 30$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 B] 模型染色", "background": "", "description": "在电影《超能陆战队》中，小宏可以使用他的微型机器人组合成各种各样的形状。\n\n现在他用他的微型机器人拼成了一个大玩具给小朋友们玩。为了更加美观，他决定给玩具染色。\n\n小宏的玩具由 $n$ 个球型的端点和 $m$ 段连接这些端点之间的边组成。下图给出了一个由 $5$ 个球型端点和 $4$ 条边组成的玩具，看上去很像一个分子的球棍模型。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sefn3dug.png)\n\n由于小宏的微型机器人很灵活，这些球型端点可以在空间中任意移动，同时连接相邻两个球型端点的边可以任意的伸缩，这样一个玩具可以变换出不同的形状。在变换的过程中，边不会增加，也不会减少。\n\n小宏想给他的玩具染上不超过 $k$ 种颜色，这样玩具看上去会不一样。如果通过变换可以使得玩具变成完全相同的颜色模式，则认为是本质相同的染色。现在小宏想知道，可能有多少种本质不同的染色。", "inputFormat": "输入的第一行包含三个整数 $n,m,k$，分别表示小宏的玩具上的端点数、边数和小宏可能使用的颜色数。端点从 $1$ 到 $n$ 编号。\n\n接下来 $m$ 行每行两个整数 $a,b$，表示第 $a$ 个端点和第 $b$ 个端点之间有一条边。输入保证不会出现两条相同的边。", "outputFormat": "输出一行，表示本质不同的染色的方案数。由于方案数可能很多，请输入方案数除 $10007$ 的余数。", "hint": "**【样例说明】**\n\n令 $(a,b,c)$ 表示第一个端点染成 $a$，第二个端点染成 $b$，第三个端点染成 $c$，则下面 $6$ 种本质不同的染色：$(1,1,1),(1,1,2),(1,2,1),(1,2,2),(2,1,2),(2,2,2)$。\n\n而 $(2,1,1)$ 与 $(1,1,2)$ 是本质相同的，$(2,2,1)$ 与 $(2,1,2)$ 是本质相同的。\n\n**【数据规模与约定】**\n\n对于 $20\\%$ 的评测数据，$1 \\le n \\le 5$，$1 \\le k \\le 2$。\n\n对于 $50\\%$ 的评测数据，$1 \\le n \\le 10$，$1 \\le k \\le 8$。\n\n对于 $100\\%$ 的评测数据，$1 \\le n \\le 10$，$1 \\le m \\le 45$，$1 \\le k \\le 30$。", "locale": "zh-CN"}}}
{"pid": "P8634", "type": "P", "difficulty": 6, "samples": [["4 4", "2"], ["2 6", "4"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "蓝桥杯国赛", "状压 DP"], "title": "[蓝桥杯 2015 国 A] 铺瓷砖", "background": "", "description": "为了让蓝桥杯竞赛更顺利的进行，主办方决定给竞赛的机房重新铺放瓷砖。机房可以看成一个 $n \\times m$ 的矩形，而这次使用的瓷砖比较特别，有两种形状，如【图1】所示。在铺放瓷砖时，可以旋转。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/velq3nup.png)\n\n主办方想知道，如果使用这两种瓷砖把机房铺满，有多少种方案。\n", "inputFormat": "输入的第一行包含两个整数，分别表示机房两个方向的长度。", "outputFormat": "输出一个整数，表示可行的方案数。这个数可能很大，请输出这个数除以 $65521$ 的余数。", "hint": "**【样例说明】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rktm7ut2.png)\n\n**【数据规模与约定】**\n\n对于 $20\\%$ 的数据，$1 \\le n,m \\le 5$。\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 100$，$1 \\le m \\le 5$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^{15}$，$1 \\le m \\le 6$。\n\n时限 5 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 国 A] 铺瓷砖", "background": "", "description": "为了让蓝桥杯竞赛更顺利的进行，主办方决定给竞赛的机房重新铺放瓷砖。机房可以看成一个 $n \\times m$ 的矩形，而这次使用的瓷砖比较特别，有两种形状，如【图1】所示。在铺放瓷砖时，可以旋转。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/velq3nup.png)\n\n主办方想知道，如果使用这两种瓷砖把机房铺满，有多少种方案。\n", "inputFormat": "输入的第一行包含两个整数，分别表示机房两个方向的长度。", "outputFormat": "输出一个整数，表示可行的方案数。这个数可能很大，请输出这个数除以 $65521$ 的余数。", "hint": "**【样例说明】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rktm7ut2.png)\n\n**【数据规模与约定】**\n\n对于 $20\\%$ 的数据，$1 \\le n,m \\le 5$。\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 100$，$1 \\le m \\le 5$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^{15}$，$1 \\le m \\le 6$。\n\n时限 5 秒, 512M。蓝桥杯 2015 年第六届国赛", "locale": "zh-CN"}}}
{"pid": "P8635", "type": "P", "difficulty": 2, "samples": [["5", "0 0 1 2"], ["12", "0 2 2 2"], ["773535", "1 1 267 838"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "枚举", "蓝桥杯省赛"], "title": "[蓝桥杯 2016 省 AB] 四平方和", "background": "", "description": "四平方和定理，又称为拉格朗日定理：\n\n每个正整数都可以表示为至多 $4$ 个正整数的平方和。\n\n如果把 $0$ 包括进去，就正好可以表示为 $4$ 个数的平方和。\n\n比如：\n\n$5=0^2+0^2+1^2+2^2$。\n\n$7=1^2+1^2+1^2+2^2$。\n\n对于一个给定的正整数，可能存在多种平方和的表示法。\n\n要求你对 $4$ 个数排序使得 $0 \\le a \\le b \\le c \\le d$。\n\n并对所有的可能表示法按 $a,b,c,d$ 为联合主键升序排列，最后输出第一个表示法。", "inputFormat": "程序输入为一个正整数 $N(N<5\\times10^6)$。", "outputFormat": "要求输出 $4$ 个非负整数，按从小到大排序，中间用空格分开。", "hint": "时限 3 秒, 256M。蓝桥杯 2016 年第七届省赛\n\n蓝桥杯 2016 年省赛 A 组 H 题（B 组 H 题）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 省 AB] 四平方和", "background": "", "description": "四平方和定理，又称为拉格朗日定理：\n\n每个正整数都可以表示为至多 $4$ 个正整数的平方和。\n\n如果把 $0$ 包括进去，就正好可以表示为 $4$ 个数的平方和。\n\n比如：\n\n$5=0^2+0^2+1^2+2^2$。\n\n$7=1^2+1^2+1^2+2^2$。\n\n对于一个给定的正整数，可能存在多种平方和的表示法。\n\n要求你对 $4$ 个数排序使得 $0 \\le a \\le b \\le c \\le d$。\n\n并对所有的可能表示法按 $a,b,c,d$ 为联合主键升序排列，最后输出第一个表示法。", "inputFormat": "程序输入为一个正整数 $N(N<5\\times10^6)$。", "outputFormat": "要求输出 $4$ 个非负整数，按从小到大排序，中间用空格分开。", "hint": "时限 3 秒, 256M。蓝桥杯 2016 年第七届省赛\n\n蓝桥杯 2016 年省赛 A 组 H 题（B 组 H 题）。", "locale": "zh-CN"}}}
{"pid": "P8636", "type": "P", "difficulty": 3, "samples": [["3\n1250 200 32", "25/4"], ["4\n3125 32 32 200", "5/2"], ["3\n549755813888 524288 2", "4/1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "数论", "蓝桥杯省赛"], "title": "[蓝桥杯 2016 省 AB] 最大比例", "background": "", "description": "X 星球的某个大奖赛设了 $M$ 级奖励。每个级别的奖金是一个正整数。\n\n并且，相邻的两个级别间的比例是个固定值。\n\n也就是说：所有级别的奖金数构成了一个等比数列。比如：\n\n$$16,24,36,54$$\n\n其等比值为：$3/2$。\n\n现在，我们随机调查了一些获奖者的奖金数。\n\n请你据此推算可能的最大的等比值。", "inputFormat": "第一行为数字 $N(0<N<100)$，表示接下的一行包含 $N$ 个正整数。\n\n第二行 $N$ 个正整数 $X_i(X_i<10^{12})$，用空格分开。每个整数表示调查到的某人的奖金数额。\n", "outputFormat": "一个形如 $A/B$ 的分数，要求 $A$、$B$ 互质。表示可能的最大比例系数。\n\n测试数据保证了输入格式正确，并且最大比例是存在的。", "hint": "时限 3 秒, 256M。蓝桥杯 2016 年第七届省赛\n\n蓝桥杯 2016 年省赛 A 组 J 题（B 组 J 题）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 省 AB] 最大比例", "background": "", "description": "X 星球的某个大奖赛设了 $M$ 级奖励。每个级别的奖金是一个正整数。\n\n并且，相邻的两个级别间的比例是个固定值。\n\n也就是说：所有级别的奖金数构成了一个等比数列。比如：\n\n$$16,24,36,54$$\n\n其等比值为：$3/2$。\n\n现在，我们随机调查了一些获奖者的奖金数。\n\n请你据此推算可能的最大的等比值。", "inputFormat": "第一行为数字 $N(0<N<100)$，表示接下的一行包含 $N$ 个正整数。\n\n第二行 $N$ 个正整数 $X_i(X_i<10^{12})$，用空格分开。每个整数表示调查到的某人的奖金数额。\n", "outputFormat": "一个形如 $A/B$ 的分数，要求 $A$、$B$ 互质。表示可能的最大比例系数。\n\n测试数据保证了输入格式正确，并且最大比例是存在的。", "hint": "时限 3 秒, 256M。蓝桥杯 2016 年第七届省赛\n\n蓝桥杯 2016 年省赛 A 组 J 题（B 组 J 题）。", "locale": "zh-CN"}}}
{"pid": "P8637", "type": "P", "difficulty": 3, "samples": [["5\n3 1 2 5 4", "3"], ["5\n5 4 3 2 1", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2016", "蓝桥杯省赛"], "title": "[蓝桥杯 2016 省 B] 交换瓶子", "background": "", "description": "有 $N$ 个瓶子，编号 $1 \\sim N$，放在架子上。\n\n比如有 $5$ 个瓶子：\n\n$$2,1,3,5,4$$\n\n要求每次拿起 $2$ 个瓶子，交换它们的位置。\n\n经过若干次后，使得瓶子的序号为：\n\n$$1,2,3,4,5$$\n\n对于这么简单的情况，显然，至少需要交换 $2$ 次就可以复位。\n\n如果瓶子更多呢？你可以通过编程来解决。\n\n", "inputFormat": "第一行：一个正整数 $N$（$N<10000$），表示瓶子的数目。\n\n第二行：$N$ 个正整数，用空格分开，表示瓶子目前的排列情况。", "outputFormat": "输出数据为一行一个正整数，表示至少交换多少次，才能完成排序。", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届省赛\n\n蓝桥杯 2016 年省赛 B 组 I 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 省 B] 交换瓶子", "background": "", "description": "有 $N$ 个瓶子，编号 $1 \\sim N$，放在架子上。\n\n比如有 $5$ 个瓶子：\n\n$$2,1,3,5,4$$\n\n要求每次拿起 $2$ 个瓶子，交换它们的位置。\n\n经过若干次后，使得瓶子的序号为：\n\n$$1,2,3,4,5$$\n\n对于这么简单的情况，显然，至少需要交换 $2$ 次就可以复位。\n\n如果瓶子更多呢？你可以通过编程来解决。\n\n", "inputFormat": "第一行：一个正整数 $N$（$N<10000$），表示瓶子的数目。\n\n第二行：$N$ 个正整数，用空格分开，表示瓶子目前的排列情况。", "outputFormat": "输出数据为一行一个正整数，表示至少交换多少次，才能完成排序。", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届省赛\n\n蓝桥杯 2016 年省赛 B 组 I 题。", "locale": "zh-CN"}}}
{"pid": "P8638", "type": "P", "difficulty": 3, "samples": [["ABCBA", "0"], ["ABDCDCBABC", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "字符串", "贪心", "2016", "蓝桥杯省赛"], "title": "[蓝桥杯 2016 省 A] 密码脱落", "background": "", "description": "X 星球的考古学家发现了一批古代留下来的密码。\n\n这些密码是由 A、B、C、D 四种植物的种子串成的序列。\n\n仔细分析发现，这些密码串当初应该是前后对称的（也就是我们说的回文串）。\n\n由于年代久远，其中许多种子脱落了，因而可能会失去镜像的特征。\n\n你的任务是：\n\n给定一个现在看到的密码串，计算一下从当初的状态，它要至少脱落多少个种子，才可能会变成现在的样子。", "inputFormat": "输入一行，表示现在看到的密码串。（长度不大于 $1000$）", "outputFormat": "要求输出一个正整数，表示至少脱落了多少个种子。", "hint": "蓝桥杯 2016 年省赛 A 组 I 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 省 A] 密码脱落", "background": "", "description": "X 星球的考古学家发现了一批古代留下来的密码。\n\n这些密码是由 A、B、C、D 四种植物的种子串成的序列。\n\n仔细分析发现，这些密码串当初应该是前后对称的（也就是我们说的回文串）。\n\n由于年代久远，其中许多种子脱落了，因而可能会失去镜像的特征。\n\n你的任务是：\n\n给定一个现在看到的密码串，计算一下从当初的状态，它要至少脱落多少个种子，才可能会变成现在的样子。", "inputFormat": "输入一行，表示现在看到的密码串。（长度不大于 $1000$）", "outputFormat": "要求输出一个正整数，表示至少脱落了多少个种子。", "hint": "蓝桥杯 2016 年省赛 A 组 I 题。", "locale": "zh-CN"}}}
{"pid": "P8639", "type": "P", "difficulty": 6, "samples": [["3 4\nEEEE\nEENE\nNEEE", "31"]], "limits": {"time": [4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "蓝桥杯国赛", "状压 DP"], "title": "[蓝桥杯 2016 国 B] 生成树计数", "background": "", "description": "给定一个 $n×m$ 的格点图，包含 $n$ 行 $m$ 列共 $n×m$ 个顶点，相邻的顶点之间有一条边。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n56tzo5w.png)\n\n给出了一个 $3×4$ 的格点图的例子。\n\n如果在图中删除部分顶点和其相邻的边，如上图删除第 $2$ 行第 $3$ 列和第 $3$ 行第 $1$ 列的顶点后，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/alcq3m2c.png)\n\n图的生成树指包含图中的所有顶点和其中的一部分边，使得任意两个顶点之间都有由边构成的唯一路径。如果两个生成树包含有不同的边即被认为不同，则上图中共有 $31$ 种不同的生成树，其中 a 边不选有 $10$ 种，a 边选有 $21$ 种。\n\n给出格点图中保留的顶点的信息，请计算该图一共有多少种不同的生成树。", "inputFormat": "输入的第一行包含两个整数 $n$，$m$，用空格分隔，表示格点图的行数和列数。\n\n接下来 $n$ 行，每行 $m$ 个字母（中间没有分隔字符），每个字母必然是大写 `E` 或大写 `N`，`E` 表示对应的顶点存在，`N` 表示对应的顶点不存在。保证存在至少一个顶点。", "outputFormat": "输出一行，包含一个整数，表示生成树的个数。答案可能很大，你只需要计算答案除以 $1000000007$（即 $10^9+7$） 的余数即可。", "hint": "对于 $10\\%$ 的数据，$1\\le n\\le2$。\n\n对于 $30\\%$ 的数据，$1\\le n\\le3$。\n\n对于 $40\\%$ 的数据，$1\\le n\\le4$。\n\n对于 $50\\%$ 的数据，$1\\le n\\le5$。\n\n另有 $20\\%$ 的数据，$1\\le n\\times m\\le12$。\n\n另有 $10\\%$ 的数据，$1\\le m\\le15$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le6，1\\le m\\le10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 B] 生成树计数", "background": "", "description": "给定一个 $n×m$ 的格点图，包含 $n$ 行 $m$ 列共 $n×m$ 个顶点，相邻的顶点之间有一条边。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n56tzo5w.png)\n\n给出了一个 $3×4$ 的格点图的例子。\n\n如果在图中删除部分顶点和其相邻的边，如上图删除第 $2$ 行第 $3$ 列和第 $3$ 行第 $1$ 列的顶点后，如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/alcq3m2c.png)\n\n图的生成树指包含图中的所有顶点和其中的一部分边，使得任意两个顶点之间都有由边构成的唯一路径。如果两个生成树包含有不同的边即被认为不同，则上图中共有 $31$ 种不同的生成树，其中 a 边不选有 $10$ 种，a 边选有 $21$ 种。\n\n给出格点图中保留的顶点的信息，请计算该图一共有多少种不同的生成树。", "inputFormat": "输入的第一行包含两个整数 $n$，$m$，用空格分隔，表示格点图的行数和列数。\n\n接下来 $n$ 行，每行 $m$ 个字母（中间没有分隔字符），每个字母必然是大写 `E` 或大写 `N`，`E` 表示对应的顶点存在，`N` 表示对应的顶点不存在。保证存在至少一个顶点。", "outputFormat": "输出一行，包含一个整数，表示生成树的个数。答案可能很大，你只需要计算答案除以 $1000000007$（即 $10^9+7$） 的余数即可。", "hint": "对于 $10\\%$ 的数据，$1\\le n\\le2$。\n\n对于 $30\\%$ 的数据，$1\\le n\\le3$。\n\n对于 $40\\%$ 的数据，$1\\le n\\le4$。\n\n对于 $50\\%$ 的数据，$1\\le n\\le5$。\n\n另有 $20\\%$ 的数据，$1\\le n\\times m\\le12$。\n\n另有 $10\\%$ 的数据，$1\\le m\\le15$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le6，1\\le m\\le10^5$。", "locale": "zh-CN"}}}
{"pid": "P8640", "type": "P", "difficulty": 6, "samples": [["10\n1 1\n1 1\n1 1\n1 1\n1 1\n1 1\n1 1\n1 1\n1 1\n1 1\n9\n1 2 8\n1 2 6\n2 8 10\n3 5 10\n1 1 2\n1 2 1\n2 5 5\n1 4 8\n1 4 5", "100\n450\n855\n1341\n1341\n811\n923\n338\n923"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2016", "平衡树", "蓝桥杯国赛"], "title": "[蓝桥杯 2016 国 A] 圆圈舞", "background": "", "description": "春天温暖的阳光照耀着大地，正是草原上的小动物们最快乐的时候。小动物们在草原上开了一个舞会，欢度这美好的时光。\n\n舞会上最重要的一个环节就是跳圆舞曲，$n$ 只小动物手拉手围成一大圈，随着音乐跳起来。在跳的过程中，小动物们可能会变换队形。它们的变换方式是动物 A 松开自己右手，动物 B 松开自己的左手，动物 A 和 B 手拉到一起，而它们对应的松开的手（如果有的话）也拉到一起。\n\n例如，假设有 $10$ 只小动物，按顺序围成一圈，动物 $1$ 的右手拉着动物 $2$ 的左手，动物 $2$ 的右手拉着动物 $3$ 的左手，依次类推，最后动物 $10$ 的右手拉着动物 $1$ 的左手。如果通过动物 $2$ 和 $8$ 变换队形，则动物 $2$ 的右手拉着动物 $8$ 的左手，而对应的动物 $3$ 的左手拉着动物 $7$ 的右手，这样形成了 `1-2-8-9-10` 和 `3-4-5-6-7` 两个圈。如果此时通过动物 $2$ 和 $6$ 变换队形，则将形成 `1-2-6-7-3-4-5-8-9-10` 一个大圈。注意，如果此时通过动物 $1$ 和 $2$ 变换队形，那么队形不会改变，因为动物 $1$ 的右手和动物 $2$ 的左手松开后又拉到一起了。\n\n在跳舞的过程中，每个动物 $i$ 都有一个欢乐值 $H_i$ 和一个感动值 $F_i$。\n\n如果两个动物在一个圈中，欢乐值会彼此影响，产生欢乐能量。如果两个动物 $i, j(i\\neq j)$ 在同一个大小为 $t$ 的圈中，而动物 $i$ 在动物 $j$ 右手的第 $p$ 个位置（动物 $j$ 右手的第 $1$ 个位置就是动物 $j$ 右手所拉着的动物，而第 $2$ 个位置就是右手第 $1$ 个位置的动物右手拉着的动物，依次类推），则产生的欢乐能量为 $(t-p)\\times H_j\\times F_i$。在跳舞的过程中，动物们的欢乐值和感动值有可能发生变化。\n\n圆舞曲开始的时候，所有的动物按编号顺序围成一个圈，动物 $n$ 右手的第 $i$ 个位置正好是动物 $i$。现在已知小动物们变换队形的过程和欢乐值、感动值变化的过程，求每次变换后所有动物所产生的欢迎能量之和。", "inputFormat": "输入的第一行包含一个整数 $n$，表示动物的数量。\n\n接下来 $n$ 行，每行两个用空格分隔的整数 $H_i$，$F_i$，按编号顺序给出每只动物的欢乐值和感动值。\n接下来一行包含一个整数 $m$，表示队形、欢乐值、感动值的变化次数。\n\n接下来 $m$ 行，每行三个用空格分隔的整数 $k$，$p$，$q$，当 $k=1$ 时，表示小动物们通过动物 $p$ 和动物 $q$ 变换了队形，当 $k=2$ 时，表示动物 $p$ 的欢乐值变为 $q$，当 $k=3$ 时，表示动物 $p$ 的感动值变为了 $q$。", "outputFormat": "输出 $m$ 行，每行一个整数，表示每次变化后所有动物产生的能量之和。\n\n答案可能很大，你需要计算答案除以 $1000000007$（即 $10^9+7$） 的余数。\n", "hint": "对于 $20\\%$ 的数据，$2\\le n,m\\le100$。\n\n对于 $30\\%$ 的数据，$2\\le n,m\\le1000$。\n\n另有 $20\\%$ 的数据，只有 $k=1$ 的操作且 $H_i$，$F_i$ 均为 $1$。\n\n另有 $20\\%$ 的数据，只有 $k=1$ 或 $2$ 的操作且 $F_i$ 均为 $1$。\n\n对于 $100\\%$ 的数据，$2\\le n,m\\le10^5$，$0\\le H_i,F_i\\le10^9$，$1\\le k\\le3$，$k=1$ 时 $1\\le p,q\\le n$ 且 $p\\neq q$，$k=2$ 或 $3$ 时 $1\\le p\\le n$ 且 $0\\le q\\le10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 A] 圆圈舞", "background": "", "description": "春天温暖的阳光照耀着大地，正是草原上的小动物们最快乐的时候。小动物们在草原上开了一个舞会，欢度这美好的时光。\n\n舞会上最重要的一个环节就是跳圆舞曲，$n$ 只小动物手拉手围成一大圈，随着音乐跳起来。在跳的过程中，小动物们可能会变换队形。它们的变换方式是动物 A 松开自己右手，动物 B 松开自己的左手，动物 A 和 B 手拉到一起，而它们对应的松开的手（如果有的话）也拉到一起。\n\n例如，假设有 $10$ 只小动物，按顺序围成一圈，动物 $1$ 的右手拉着动物 $2$ 的左手，动物 $2$ 的右手拉着动物 $3$ 的左手，依次类推，最后动物 $10$ 的右手拉着动物 $1$ 的左手。如果通过动物 $2$ 和 $8$ 变换队形，则动物 $2$ 的右手拉着动物 $8$ 的左手，而对应的动物 $3$ 的左手拉着动物 $7$ 的右手，这样形成了 `1-2-8-9-10` 和 `3-4-5-6-7` 两个圈。如果此时通过动物 $2$ 和 $6$ 变换队形，则将形成 `1-2-6-7-3-4-5-8-9-10` 一个大圈。注意，如果此时通过动物 $1$ 和 $2$ 变换队形，那么队形不会改变，因为动物 $1$ 的右手和动物 $2$ 的左手松开后又拉到一起了。\n\n在跳舞的过程中，每个动物 $i$ 都有一个欢乐值 $H_i$ 和一个感动值 $F_i$。\n\n如果两个动物在一个圈中，欢乐值会彼此影响，产生欢乐能量。如果两个动物 $i, j(i\\neq j)$ 在同一个大小为 $t$ 的圈中，而动物 $i$ 在动物 $j$ 右手的第 $p$ 个位置（动物 $j$ 右手的第 $1$ 个位置就是动物 $j$ 右手所拉着的动物，而第 $2$ 个位置就是右手第 $1$ 个位置的动物右手拉着的动物，依次类推），则产生的欢乐能量为 $(t-p)\\times H_j\\times F_i$。在跳舞的过程中，动物们的欢乐值和感动值有可能发生变化。\n\n圆舞曲开始的时候，所有的动物按编号顺序围成一个圈，动物 $n$ 右手的第 $i$ 个位置正好是动物 $i$。现在已知小动物们变换队形的过程和欢乐值、感动值变化的过程，求每次变换后所有动物所产生的欢迎能量之和。", "inputFormat": "输入的第一行包含一个整数 $n$，表示动物的数量。\n\n接下来 $n$ 行，每行两个用空格分隔的整数 $H_i$，$F_i$，按编号顺序给出每只动物的欢乐值和感动值。\n接下来一行包含一个整数 $m$，表示队形、欢乐值、感动值的变化次数。\n\n接下来 $m$ 行，每行三个用空格分隔的整数 $k$，$p$，$q$，当 $k=1$ 时，表示小动物们通过动物 $p$ 和动物 $q$ 变换了队形，当 $k=2$ 时，表示动物 $p$ 的欢乐值变为 $q$，当 $k=3$ 时，表示动物 $p$ 的感动值变为了 $q$。", "outputFormat": "输出 $m$ 行，每行一个整数，表示每次变化后所有动物产生的能量之和。\n\n答案可能很大，你需要计算答案除以 $1000000007$（即 $10^9+7$） 的余数。\n", "hint": "对于 $20\\%$ 的数据，$2\\le n,m\\le100$。\n\n对于 $30\\%$ 的数据，$2\\le n,m\\le1000$。\n\n另有 $20\\%$ 的数据，只有 $k=1$ 的操作且 $H_i$，$F_i$ 均为 $1$。\n\n另有 $20\\%$ 的数据，只有 $k=1$ 或 $2$ 的操作且 $F_i$ 均为 $1$。\n\n对于 $100\\%$ 的数据，$2\\le n,m\\le10^5$，$0\\le H_i,F_i\\le10^9$，$1\\le k\\le3$，$k=1$ 时 $1\\le p,q\\le n$ 且 $p\\neq q$，$k=2$ 或 $3$ 时 $1\\le p\\le n$ 且 $0\\le q\\le10^9$。", "locale": "zh-CN"}}}
{"pid": "P8641", "type": "P", "difficulty": 2, "samples": [["3\n1 2 3", "1"], ["3\n2 1 3", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2016", "枚举", "蓝桥杯国赛"], "title": "[蓝桥杯 2016 国 C] 赢球票", "background": "", "description": "某机构举办球票大奖赛。获奖选手有机会赢得若干张球票。\n\n主持人拿出 $N$ 张卡片（上面写着 $1 \\sim N$ 的数字），打乱顺序，排成一个圆圈。\n\n你可以从任意一张卡片开始顺时针数数 $:1,2,3 \\cdots $。\n\n如果数到的数字刚好和卡片上的数字相同，则把该卡片收入囊中，从下一个卡片重新数数。\n\n直到再无法收获任何卡片，游戏结束。囊中卡片数字的和就是赢得球票的张数。\n\n比如：\n\n卡片排列是：$1,2,3$。\n\n我们从 $1$ 号卡开始数，就把 $1$ 号卡拿走。再从 $2$ 号卡开始，但数的数字无法与卡片对上，\n\n很快数字越来越大，不可能再拿走卡片了。因此这次我们只赢得了 $1$ 张球票。\n\n还不算太坏！如果我们开始就傻傻地从 $2$ 或 $3$ 号卡片数起，那就一张卡片都拿不到了。\n\n如果运气好，卡片排列是 $2,1,3$。\n\n那我们可以顺利拿到所有的卡片！\n\n本题的目标就是：已知顺时针卡片序列。\n\n随便你从哪里开始数，求最多能赢多少张球票（就是收入囊中的卡片数字之和）", "inputFormat": "第一行一个整数 $N(N<100)$，表示卡片数目。\n\n第二行 $N$ 个整数，表示顺时针排列的卡片。", "outputFormat": "一行，一个整数，表示最好情况下能赢得多少张球票。", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 C] 赢球票", "background": "", "description": "某机构举办球票大奖赛。获奖选手有机会赢得若干张球票。\n\n主持人拿出 $N$ 张卡片（上面写着 $1 \\sim N$ 的数字），打乱顺序，排成一个圆圈。\n\n你可以从任意一张卡片开始顺时针数数 $:1,2,3 \\cdots $。\n\n如果数到的数字刚好和卡片上的数字相同，则把该卡片收入囊中，从下一个卡片重新数数。\n\n直到再无法收获任何卡片，游戏结束。囊中卡片数字的和就是赢得球票的张数。\n\n比如：\n\n卡片排列是：$1,2,3$。\n\n我们从 $1$ 号卡开始数，就把 $1$ 号卡拿走。再从 $2$ 号卡开始，但数的数字无法与卡片对上，\n\n很快数字越来越大，不可能再拿走卡片了。因此这次我们只赢得了 $1$ 张球票。\n\n还不算太坏！如果我们开始就傻傻地从 $2$ 或 $3$ 号卡片数起，那就一张卡片都拿不到了。\n\n如果运气好，卡片排列是 $2,1,3$。\n\n那我们可以顺利拿到所有的卡片！\n\n本题的目标就是：已知顺时针卡片序列。\n\n随便你从哪里开始数，求最多能赢多少张球票（就是收入囊中的卡片数字之和）", "inputFormat": "第一行一个整数 $N(N<100)$，表示卡片数目。\n\n第二行 $N$ 个整数，表示顺时针排列的卡片。", "outputFormat": "一行，一个整数，表示最好情况下能赢得多少张球票。", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届国赛", "locale": "zh-CN"}}}
{"pid": "P8642", "type": "P", "difficulty": 0, "samples": [["4\n2 4 3 4\n4 3 3 3", "0 4 5 1 2 3 7 11 10 9 13 14 15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["搜索", "2016", "蓝桥杯国赛"], "title": "[蓝桥杯 2016 国 AC] 路径之谜（疑似错题）", "background": "本题疑似为错题，不保证存在对于任意合法输入都能在时限内给出答案的算法。为了保证本题尽可能可做，我们已经根据蓝桥杯中本题实际的测试数据范围进行缩小，原数据范围 $N\\leq 20$ 应该完全无解。\n\n本题为搜索题，本题不接受 hack 数据。[关于此类题目的详细内容。](https://www.luogu.com.cn/paste/pf94n89x)", "description": "小明冒充 $X$ 星球的骑士，进入了一个奇怪的城堡。\n\n城堡里边什么都没有，只有方形石头铺成的地面。\n\n假设城堡地面是 $n\\times n$ 个方格。如图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ku6hk346.png)\n\n按习俗，骑士要从西北角走到东南角。\n\n可以横向或纵向移动，但不能斜着走，也不能跳跃。\n\n每走到一个新方格，就要向正北方和正西方各射一箭。\n\n（城堡的西墙和北墙内各有 $n$ 个靶子）\n\n同一个方格只允许经过一次。但不必做完所有的方格。\n\n如果只给出靶子上箭的数目，你能推断出骑士的行走路线吗？\n\n有时是可以的，比如如图中的例子。\n\n本题的要求就是已知箭靶数字，求骑士的行走路径（测试数据保证路径唯一）", "inputFormat": "第一行一个整数 $N(1\\leq N\\leq 10)$，表示地面有 $N \\times N$ 个方格。\n\n第二行 $N$ 个整数，空格分开，表示北边的箭靶上的数字（自西向东）\n\n第三行 $N$ 个整数，空格分开，表示西边的箭靶上的数字（自北向南）", "outputFormat": "一行若干个整数，表示骑士路径。\n\n为了方便表示，我们约定每个小格子用一个数字代表，从西北角开始编号 $:0,1,2,3 \\cdots $。\n\n比如，图中的方块编号为：\n\n```\n0  1  2  3\n4  5  6  7\n8  9  10 11\n12 13 14 15\n```", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 AC] 路径之谜（疑似错题）", "background": "本题疑似为错题，不保证存在对于任意合法输入都能在时限内给出答案的算法。为了保证本题尽可能可做，我们已经根据蓝桥杯中本题实际的测试数据范围进行缩小，原数据范围 $N\\leq 20$ 应该完全无解。\n\n本题为搜索题，本题不接受 hack 数据。[关于此类题目的详细内容。](https://www.luogu.com.cn/paste/pf94n89x)", "description": "小明冒充 $X$ 星球的骑士，进入了一个奇怪的城堡。\n\n城堡里边什么都没有，只有方形石头铺成的地面。\n\n假设城堡地面是 $n\\times n$ 个方格。如图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ku6hk346.png)\n\n按习俗，骑士要从西北角走到东南角。\n\n可以横向或纵向移动，但不能斜着走，也不能跳跃。\n\n每走到一个新方格，就要向正北方和正西方各射一箭。\n\n（城堡的西墙和北墙内各有 $n$ 个靶子）\n\n同一个方格只允许经过一次。但不必做完所有的方格。\n\n如果只给出靶子上箭的数目，你能推断出骑士的行走路线吗？\n\n有时是可以的，比如如图中的例子。\n\n本题的要求就是已知箭靶数字，求骑士的行走路径（测试数据保证路径唯一）", "inputFormat": "第一行一个整数 $N(1\\leq N\\leq 10)$，表示地面有 $N \\times N$ 个方格。\n\n第二行 $N$ 个整数，空格分开，表示北边的箭靶上的数字（自西向东）\n\n第三行 $N$ 个整数，空格分开，表示西边的箭靶上的数字（自北向南）", "outputFormat": "一行若干个整数，表示骑士路径。\n\n为了方便表示，我们约定每个小格子用一个数字代表，从西北角开始编号 $:0,1,2,3 \\cdots $。\n\n比如，图中的方块编号为：\n\n```\n0  1  2  3\n4  5  6  7\n8  9  10 11\n12 13 14 15\n```", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届国赛", "locale": "zh-CN"}}}
{"pid": "P8643", "type": "P", "difficulty": 5, "samples": [["3 2 2\nATC\nTCG\nACG", "2"], ["4 3 3\nAAA\nAAAA\nAAA\nAAA", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2016", "哈希 hashing", "蓝桥杯国赛"], "title": "[蓝桥杯 2016 国 AC] 碱基", "background": "", "description": "生物学家正在对 $n$ 个物种进行研究。\n\n其中第 $i$ 个物种的 DNA 序列为 $s[i]$，其中的第 $j$ 个碱基为 $s[i][j],$ 碱基一定是 `A`,`G`,`C`,`T` 之一。\n\n生物学家想找到这些生物中一部分生物的一些共性，他们现在关注那些至少在 $m$ 个生物中出现的长度为 $k$ 的连续碱基序列。准确的说，科学家关心的序列用 $2m$ 元组 $(i_1,p_1,i_2,p_2 \\cdots ,i_m,p_m)$ 表示，\n\n满足：\n\n$$1 \\le i_1<i_2< \\cdots <i_m \\le n$$\n\n且对于所有 $q(0 \\le q<k)$，\n\n$$s[i_1][p_1+q]=s[i_2][p_2+q]= \\cdots =s[i_m][p_m+q]$$\n\n现在给定所有生物的 DNA 序列，请告诉科学家有多少的 $2m$ 元组是需要关注的。如果两个 $2m$ 元组有任何一个位置不同，则认为是不同的元组。", "inputFormat": "输入的第一行包含三个整数 $n$，$m$，$k$，两个整数之间用一个空格分隔，意义如题目所述。\n\n接下来 $n$ 行，每行一个字符串表示一种生物的 DNA 序列。\n\nDNA 序列从 $1$ 至 $n$ 编号，每个序列中的碱基从 $1$ 开始依次编号，不同的生物的 DNA 序列长度可能不同。", "outputFormat": "输出一个整数，表示关注的元组个数。\n\n答案可能很大，你需要输出答案除以 $1000000007(10^9+7)$ 的余数。", "hint": "### 数据规模与约定\n\n对于 $20\\%$ 的数据，$k \\le 5,$ 所有字符串总长 $L$ 满足 $L \\le 100$。\n\n对于 $30\\%$ 的数据，$L \\le 10000$。\n\n对于 $60\\%$ 的数据，$L \\le 30000$。\n\n对于 $100\\%$ 的数据，$n \\le 5,m \\le 5,1 \\le k \\le L \\le 10^5$。\n\n保证所有 DNA 序列不为空且只会包含`A`,`G`,`C`,`T` 四种字母。\n\n时限 1 秒, 256M。蓝桥杯 2016 年第七届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 AC] 碱基", "background": "", "description": "生物学家正在对 $n$ 个物种进行研究。\n\n其中第 $i$ 个物种的 DNA 序列为 $s[i]$，其中的第 $j$ 个碱基为 $s[i][j],$ 碱基一定是 `A`,`G`,`C`,`T` 之一。\n\n生物学家想找到这些生物中一部分生物的一些共性，他们现在关注那些至少在 $m$ 个生物中出现的长度为 $k$ 的连续碱基序列。准确的说，科学家关心的序列用 $2m$ 元组 $(i_1,p_1,i_2,p_2 \\cdots ,i_m,p_m)$ 表示，\n\n满足：\n\n$$1 \\le i_1<i_2< \\cdots <i_m \\le n$$\n\n且对于所有 $q(0 \\le q<k)$，\n\n$$s[i_1][p_1+q]=s[i_2][p_2+q]= \\cdots =s[i_m][p_m+q]$$\n\n现在给定所有生物的 DNA 序列，请告诉科学家有多少的 $2m$ 元组是需要关注的。如果两个 $2m$ 元组有任何一个位置不同，则认为是不同的元组。", "inputFormat": "输入的第一行包含三个整数 $n$，$m$，$k$，两个整数之间用一个空格分隔，意义如题目所述。\n\n接下来 $n$ 行，每行一个字符串表示一种生物的 DNA 序列。\n\nDNA 序列从 $1$ 至 $n$ 编号，每个序列中的碱基从 $1$ 开始依次编号，不同的生物的 DNA 序列长度可能不同。", "outputFormat": "输出一个整数，表示关注的元组个数。\n\n答案可能很大，你需要输出答案除以 $1000000007(10^9+7)$ 的余数。", "hint": "### 数据规模与约定\n\n对于 $20\\%$ 的数据，$k \\le 5,$ 所有字符串总长 $L$ 满足 $L \\le 100$。\n\n对于 $30\\%$ 的数据，$L \\le 10000$。\n\n对于 $60\\%$ 的数据，$L \\le 30000$。\n\n对于 $100\\%$ 的数据，$n \\le 5,m \\le 5,1 \\le k \\le L \\le 10^5$。\n\n保证所有 DNA 序列不为空且只会包含`A`,`G`,`C`,`T` 四种字母。\n\n时限 1 秒, 256M。蓝桥杯 2016 年第七届国赛", "locale": "zh-CN"}}}
{"pid": "P8644", "type": "P", "difficulty": 4, "samples": [["1 2", "3"], ["3 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "枚举", "蓝桥杯国赛"], "title": "[蓝桥杯 2016 国 B] 机器人塔", "background": "", "description": "X 星球的机器人表演拉拉队有两种服装，A 和 B。\n\n他们这次表演的是搭机器人塔。\n\n类似：\n\n```\n     A\n    B B\n   A B A\n  A A B B\n B B B A B\nA B A B B A\n```\n\n队内的组塔规则是：\n\nA 只能站在 AA 或 BB 的肩上。\n\nB 只能站在 AB 或 BA 的肩上。\n\n你的任务是帮助拉拉队计算一下，在给定 A 与 B 的人数时，可以组成多少种花样的塔。", "inputFormat": "输入一行两个整数 $M$ 和 $N$，空格分开（$0<M,N<N+M\\leq231$，保证存在 $k\\in \\mathbb{N}$，$N+M=\\frac{k(k-1)}{2}$），分别表示 A、B 的人数。", "outputFormat": "要求输出一个整数，表示可以产生的花样种数。", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 B] 机器人塔", "background": "", "description": "X 星球的机器人表演拉拉队有两种服装，A 和 B。\n\n他们这次表演的是搭机器人塔。\n\n类似：\n\n```\n     A\n    B B\n   A B A\n  A A B B\n B B B A B\nA B A B B A\n```\n\n队内的组塔规则是：\n\nA 只能站在 AA 或 BB 的肩上。\n\nB 只能站在 AB 或 BA 的肩上。\n\n你的任务是帮助拉拉队计算一下，在给定 A 与 B 的人数时，可以组成多少种花样的塔。", "inputFormat": "输入一行两个整数 $M$ 和 $N$，空格分开（$0<M,N<N+M\\leq231$，保证存在 $k\\in \\mathbb{N}$，$N+M=\\frac{k(k-1)}{2}$），分别表示 A、B 的人数。", "outputFormat": "要求输出一个整数，表示可以产生的花样种数。", "hint": "时限 1 秒, 256M。蓝桥杯 2016 年第七届", "locale": "zh-CN"}}}
{"pid": "P8645", "type": "P", "difficulty": 5, "samples": [["5\n3 3\n6 4\n4 1\n1 -1\n0 4", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["计算几何", "2016", "数论", "蓝桥杯国赛"], "title": "[蓝桥杯 2016 国 B] 广场舞", "background": "", "description": "LQ 市的市民广场是一个多边形，广场上铺满了大理石的地板砖。\n\n地板砖铺得方方正正，就像坐标轴纸一样。\n\n以某四块砖相接的点为原点，地板砖的两条边为两个正方向，一块砖的边长为横纵坐标的单位长度，则所有横纵坐标都为整数的点都是四块砖的交点（如果在广场内）。\n\n广场的砖单调无趣，却给跳广场舞的市民们提供了绝佳的参照物。每天傍晚，都会有大批市民前来跳舞。\n\n舞者每次都会选一块完整的砖来跳舞，两个人不会选择同一块砖，如果一块砖在广场边上导致缺角或者边不完整，则没人会选这块砖。\n\n（广场形状的例子参考图）\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kjgaxse9.png)\n\n现在，告诉你广场的形状，请帮 LQ 市的市长计算一下，同一时刻最多有多少市民可以在广场跳舞。", "inputFormat": "输入的第一行包含一个整数 $n$，表示广场是 $n$ 边形的（因此有 $n$ 个顶点）。\n\n接下来 $n$ 行，每行两个整数，依次表示 $n$ 边形每个顶点的坐标（也就是说广场边缘拐弯的地方都在砖的顶角上。数据保证广场是一个简单多边形。", "outputFormat": "输出一个整数，表示最多有多少市民可以在广场跳舞。", "hint": "**【样例说明】**\n\n广场如图所示，一共有 $7$ 块完整的地板砖，因此最多能有 $7$ 位市民一起跳舞。\n\n**【数据规模与约定】**\n\n对于 $30\\%$ 的数据，$n$ 不超过 $100$，横纵坐标的绝对值均不超过 $100$。\n\n对于 $50\\%$ 的数据，$n$ 不超过 $1000$，横纵坐标的绝对值均不超过 $1000$。\n\n对于 $100\\%$ 的数据，$n$ 不超过 $1000$，横纵坐标的绝对值均不超过 $10^8$。\n\n时限 1 秒, 256M。蓝桥杯 2016 年第七届", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2016 国 B] 广场舞", "background": "", "description": "LQ 市的市民广场是一个多边形，广场上铺满了大理石的地板砖。\n\n地板砖铺得方方正正，就像坐标轴纸一样。\n\n以某四块砖相接的点为原点，地板砖的两条边为两个正方向，一块砖的边长为横纵坐标的单位长度，则所有横纵坐标都为整数的点都是四块砖的交点（如果在广场内）。\n\n广场的砖单调无趣，却给跳广场舞的市民们提供了绝佳的参照物。每天傍晚，都会有大批市民前来跳舞。\n\n舞者每次都会选一块完整的砖来跳舞，两个人不会选择同一块砖，如果一块砖在广场边上导致缺角或者边不完整，则没人会选这块砖。\n\n（广场形状的例子参考图）\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kjgaxse9.png)\n\n现在，告诉你广场的形状，请帮 LQ 市的市长计算一下，同一时刻最多有多少市民可以在广场跳舞。", "inputFormat": "输入的第一行包含一个整数 $n$，表示广场是 $n$ 边形的（因此有 $n$ 个顶点）。\n\n接下来 $n$ 行，每行两个整数，依次表示 $n$ 边形每个顶点的坐标（也就是说广场边缘拐弯的地方都在砖的顶角上。数据保证广场是一个简单多边形。", "outputFormat": "输出一个整数，表示最多有多少市民可以在广场跳舞。", "hint": "**【样例说明】**\n\n广场如图所示，一共有 $7$ 块完整的地板砖，因此最多能有 $7$ 位市民一起跳舞。\n\n**【数据规模与约定】**\n\n对于 $30\\%$ 的数据，$n$ 不超过 $100$，横纵坐标的绝对值均不超过 $100$。\n\n对于 $50\\%$ 的数据，$n$ 不超过 $1000$，横纵坐标的绝对值均不超过 $1000$。\n\n对于 $100\\%$ 的数据，$n$ 不超过 $1000$，横纵坐标的绝对值均不超过 $10^8$。\n\n时限 1 秒, 256M。蓝桥杯 2016 年第七届", "locale": "zh-CN"}}}
