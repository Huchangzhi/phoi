{"pid": "P6310", "type": "P", "difficulty": 5, "samples": [["4 4\n1 2 2\n1 3 3\n2 4 1\n3 4 4\n2 1 3 2", "1 1 1 -1 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020"], "title": "「Wdsr-1」仓库建设", "background": "有一天，人间之里出现了饥荒。", "description": "因为幻想乡倡导“幻想乡命运共同体”意识，河童们决定帮助人类修建一些粮仓防止饥荒再次发生。\n\n人间之里有 $n$ 座城市和 $m$ 条双向道路，第 $i$ 条道路连接 $u_i，v_i$ 两座城市，长度为 $w_i$ 个单位。\n\n由于每座城市的科技水平不同，从不同城市出发的运粮车的储油量不同。第 $i$ 座城市的运粮车的储油量只能支持运粮车行驶 $x_i$ 个单位。当然，城市与城市之间是友好的，无论到达哪个城市，热心的当地民众都会给运粮车**加满油**。\n\n河童科技高度发达，所以仓库容纳的粮食可以视作无限。只有粮仓能发出运粮车。\n\n现在要选择一些城市建设仓库，使得每一个城市都可以从粮仓中得到粮食。为了节约资源，河童希望仓库的数量最小。\n\n但妖怪有时会占据一个城市，所以需要算出在任意一个城市不能建设粮仓时需要的最小粮仓数。", "inputFormat": "第一行两个整数 $n，m$，意义如题面所述。\n\n接下来 $m$ 行每行 3 个整数 $u_i，v_i，w_i$，意义如题面所述。\n\n接下来一行 $n$ 个整数 $x_i$，意义如题面所述。", "outputFormat": "输出一行 $n+1$ 个整数。  \n\n第一个整数表示最少需要多少粮仓；接下来 $n$ 个整数，第 $i$ 个整数表示 $i$ 号城市不能建粮仓所需的最小的粮仓数。\n\n**如果第 $i$ 个城市不能建粮仓时，其他城市建粮仓不能到达这个城市，则输出**` -1`。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/jg6fg91l.png)\n\n这是样例画出来的图，显然在 3 号城市建立粮仓就可以解决问题，当 3 号城市不能建粮仓时，其他的城市无论怎么建粮仓，粮食也运不到 3 号城市，输出 ```-1```。\n\n---\n\n#### 数据范围\n\n对于 $25\\%$ 的数据，保证 $1\\le n，m\\le 10 ^ 3$。  \n\n对于另外 $25\\%$ 的数据，保证 $m=n-1$。  \n\n对于 $100\\%$ 的数据，保证 $1\\le n，m \\le 3\\times 10^5，1\\le u_i，v_i\\le n，1\\le w_i，x_i\\le 10^6$，保证图联通。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-1」仓库建设", "background": "有一天，人间之里出现了饥荒。", "description": "因为幻想乡倡导“幻想乡命运共同体”意识，河童们决定帮助人类修建一些粮仓防止饥荒再次发生。\n\n人间之里有 $n$ 座城市和 $m$ 条双向道路，第 $i$ 条道路连接 $u_i，v_i$ 两座城市，长度为 $w_i$ 个单位。\n\n由于每座城市的科技水平不同，从不同城市出发的运粮车的储油量不同。第 $i$ 座城市的运粮车的储油量只能支持运粮车行驶 $x_i$ 个单位。当然，城市与城市之间是友好的，无论到达哪个城市，热心的当地民众都会给运粮车**加满油**。\n\n河童科技高度发达，所以仓库容纳的粮食可以视作无限。只有粮仓能发出运粮车。\n\n现在要选择一些城市建设仓库，使得每一个城市都可以从粮仓中得到粮食。为了节约资源，河童希望仓库的数量最小。\n\n但妖怪有时会占据一个城市，所以需要算出在任意一个城市不能建设粮仓时需要的最小粮仓数。", "inputFormat": "第一行两个整数 $n，m$，意义如题面所述。\n\n接下来 $m$ 行每行 3 个整数 $u_i，v_i，w_i$，意义如题面所述。\n\n接下来一行 $n$ 个整数 $x_i$，意义如题面所述。", "outputFormat": "输出一行 $n+1$ 个整数。  \n\n第一个整数表示最少需要多少粮仓；接下来 $n$ 个整数，第 $i$ 个整数表示 $i$ 号城市不能建粮仓所需的最小的粮仓数。\n\n**如果第 $i$ 个城市不能建粮仓时，其他城市建粮仓不能到达这个城市，则输出**` -1`。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/jg6fg91l.png)\n\n这是样例画出来的图，显然在 3 号城市建立粮仓就可以解决问题，当 3 号城市不能建粮仓时，其他的城市无论怎么建粮仓，粮食也运不到 3 号城市，输出 ```-1```。\n\n---\n\n#### 数据范围\n\n对于 $25\\%$ 的数据，保证 $1\\le n，m\\le 10 ^ 3$。  \n\n对于另外 $25\\%$ 的数据，保证 $m=n-1$。  \n\n对于 $100\\%$ 的数据，保证 $1\\le n，m \\le 3\\times 10^5，1\\le u_i，v_i\\le n，1\\le w_i，x_i\\le 10^6$，保证图联通。", "locale": "zh-CN"}}}
{"pid": "P6312", "type": "P", "difficulty": 3, "samples": [["5\nkajak", "TAK"], ["0\nkanu", "NIE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 4096]}, "tags": ["2018", "PA（波兰）"], "title": "[PA 2018] Palindrom", "background": "", "description": "**译自 [PA 2018](https://sio2.mimuw.edu.pl/c/pa-2018-1/dashboard/)  Runda 3 [Palindrom](https://sio2.mimuw.edu.pl/c/pa-2018-1/p/pal/)**\n\n**请特别注意本题的内存限制。**\n\n给出一个字符串，请你判断其是否为回文串。\n\n回文串是指从左往右读与从右往左读完全相同。", "inputFormat": "第一行一个整数 $n$。在有些数据中它代表了字符串的长度，有些数据中 $n=0$ （即不告诉你长度）。\n\n第二行一个字符串，即需要判断的串。", "outputFormat": "如果是回文串，则输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据范围\n\n**本题采用捆绑测试**\n\n对于 $100\\%$ 的数据，保证字符串长度不超过 $2\\times 10^7$。\n\n您可以假设在任何测试数据中都有 $n>0$ 或者 $n=0$。\n\n感谢 @[Infinite_Eternity](/user/897776) 提供的测试数据！\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2018] Palindrom", "background": "", "description": "**译自 [PA 2018](https://sio2.mimuw.edu.pl/c/pa-2018-1/dashboard/)  Runda 3 [Palindrom](https://sio2.mimuw.edu.pl/c/pa-2018-1/p/pal/)**\n\n**请特别注意本题的内存限制。**\n\n给出一个字符串，请你判断其是否为回文串。\n\n回文串是指从左往右读与从右往左读完全相同。", "inputFormat": "第一行一个整数 $n$。在有些数据中它代表了字符串的长度，有些数据中 $n=0$ （即不告诉你长度）。\n\n第二行一个字符串，即需要判断的串。", "outputFormat": "如果是回文串，则输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据范围\n\n**本题采用捆绑测试**\n\n对于 $100\\%$ 的数据，保证字符串长度不超过 $2\\times 10^7$。\n\n您可以假设在任何测试数据中都有 $n>0$ 或者 $n=0$。\n\n感谢 @[Infinite_Eternity](/user/897776) 提供的测试数据！\n", "locale": "zh-CN"}}}
{"pid": "P6313", "type": "P", "difficulty": 7, "samples": [["2 1\n3 1 1\n6 1 1", "YES\n1 1\n1 4"], ["3 1\n13 2 2\n7 3 1\n19 3 4", "YES\n1 10\n1 1\n1 2"], ["7 2\n15 1 1\n14 1 1\n18 1 1\n21 1 1\n9 4 6\n22 2 5\n5 4 3", "YES\n2 13\n1 1\n1 16\n1 19\n1 2\n2 16\n2 1"], ["3 1\n7 3 1\n13 2 3\n19 3 4", "NO"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "Special Judge", "eJOI（欧洲）"], "title": "[eJOI 2018] 护照", "background": null, "description": "Gleb 是来自 Innopolis 的著名编程老师，他计划接下来参加 $n$ 场编程训练营。每场训练营会在不同的国家举办。他要申请每个国家的签证。\n\n对于第 $i$ 场训练营，Gleb 知道出发日期 $s_i$，持续时长 $len_i$，和在该国申请签证需要的时间 $t_i$。Gleb 有 $P$ 本有效的护照并且他需要决定用哪本护照来申请签证。\n\n第 $i$ 场训练营 Gleb 将在第 $s_i$ 天早上出发，在第 $s_i+len_i-1$ 天傍晚返回。\n\n如果要在第 $d$ 天申请签证，Gleb 当天中午必须在 Innopolis。这意味着 Gleb 在参加训练营期间不能申请签证，包括第一天和最后一天。如果一场训练营结束后紧接着 Gleb 要去参加第二场训练营，他也无法在此期间申请签证。Gleb 最早可以申请签证的时间是第 $1$ 天。\n\n在第 $d$ 天申请完第 $i$ 个国家的签证后，Gleb 会在第 $d+t_i$ 天中午获得该国的护照（即使当天 Gleb 不在 Innopolis）。\n\n如果第 $s_i$ 天早上 Gleb 没有相应国家的护照，他就无法参加第 $i$ 场训练营。**注意，当时护照不能在办理签证的使馆里面。**\n\n请你帮助 Gleb 找到一种申请签证的方案，使他可以顺利参加所有的训练营。", "inputFormat": "输入第一行两个整数 $n,P$，分别表示训练营的个数和 Gleb 拥有的护照的个数。\n\n接下来 $n$ 行，每行三个整数 $s_i,len_i,t_i$，表示第 $i$ 场训练营的开始时间，持续时长和对应国家办理签证所需时间。\n\n保证每场都不相交。", "outputFormat": "**本题存在 Special Judge**。\n\n如果没有方案使得 Gleb 参加所有训练营，只用输出 `NO`。\n\n否则，第一行输出 `YES`。\n\n接下来输出 $n$ 行，每行两个整数分别表示对于每个训练营 Gleb 申请该国签证所用的护照的编号和他申请签证的日期。\n\n输出顺序需要与输入顺序一致。日期从 $1$ 开始编号，护照编号 $1\\cdots P$。", "hint": "#### 【样例解释】\n\n#### 样例一解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2degmc3.png)\n\n每个单元格代表一天。矩形代表某一次训练营，从某一天早上开始，在某一天晚上结束。带角的矩形某一次申请签证的过程，从某一天中午开始，在某一天中午结束。一场训练营与他对应的申请签证的过程颜色相同。\n\n#### 样例二解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8rql971w.png)\n\n#### 样例三解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ek61oh53.png)\n\n上面代表第一个护照，下面代表第二个护照。\n\n---\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共 9 个子任务**。\n\n- Subtask 1（5 pts）：$n\\leq 2$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 2（8 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 3（7 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等；\n- Subtask 4（12 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$，$P=1$；\n- Subtask 5（13 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$；\n- Subtask 6（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$，$P=1$；\n- Subtask 7（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$；\n- Subtask 8（15 pts）：$n\\leq 20$；\n- Subtask 9（10 pts）：无特殊限制。\n\n对于全部的测试点，保证 $1\\leq n\\leq 22$，$1\\leq P\\leq 2$，$1\\leq s_i,len_i,t_i\\leq 10^9$。\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem B「Passports」。\n\n说明：翻译自翻。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[eJOI 2018] 护照", "background": null, "description": "Gleb 是来自 Innopolis 的著名编程老师，他计划接下来参加 $n$ 场编程训练营。每场训练营会在不同的国家举办。他要申请每个国家的签证。\n\n对于第 $i$ 场训练营，Gleb 知道出发日期 $s_i$，持续时长 $len_i$，和在该国申请签证需要的时间 $t_i$。Gleb 有 $P$ 本有效的护照并且他需要决定用哪本护照来申请签证。\n\n第 $i$ 场训练营 Gleb 将在第 $s_i$ 天早上出发，在第 $s_i+len_i-1$ 天傍晚返回。\n\n如果要在第 $d$ 天申请签证，Gleb 当天中午必须在 Innopolis。这意味着 Gleb 在参加训练营期间不能申请签证，包括第一天和最后一天。如果一场训练营结束后紧接着 Gleb 要去参加第二场训练营，他也无法在此期间申请签证。Gleb 最早可以申请签证的时间是第 $1$ 天。\n\n在第 $d$ 天申请完第 $i$ 个国家的签证后，Gleb 会在第 $d+t_i$ 天中午获得该国的护照（即使当天 Gleb 不在 Innopolis）。\n\n如果第 $s_i$ 天早上 Gleb 没有相应国家的护照，他就无法参加第 $i$ 场训练营。**注意，当时护照不能在办理签证的使馆里面。**\n\n请你帮助 Gleb 找到一种申请签证的方案，使他可以顺利参加所有的训练营。", "inputFormat": "输入第一行两个整数 $n,P$，分别表示训练营的个数和 Gleb 拥有的护照的个数。\n\n接下来 $n$ 行，每行三个整数 $s_i,len_i,t_i$，表示第 $i$ 场训练营的开始时间，持续时长和对应国家办理签证所需时间。\n\n保证每场都不相交。", "outputFormat": "**本题存在 Special Judge**。\n\n如果没有方案使得 Gleb 参加所有训练营，只用输出 `NO`。\n\n否则，第一行输出 `YES`。\n\n接下来输出 $n$ 行，每行两个整数分别表示对于每个训练营 Gleb 申请该国签证所用的护照的编号和他申请签证的日期。\n\n输出顺序需要与输入顺序一致。日期从 $1$ 开始编号，护照编号 $1\\cdots P$。", "hint": "#### 【样例解释】\n\n#### 样例一解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2degmc3.png)\n\n每个单元格代表一天。矩形代表某一次训练营，从某一天早上开始，在某一天晚上结束。带角的矩形某一次申请签证的过程，从某一天中午开始，在某一天中午结束。一场训练营与他对应的申请签证的过程颜色相同。\n\n#### 样例二解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8rql971w.png)\n\n#### 样例三解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ek61oh53.png)\n\n上面代表第一个护照，下面代表第二个护照。\n\n---\n\n#### 【数据规模与约定】\n\n**本题采用多测试点捆绑测试，共 9 个子任务**。\n\n- Subtask 1（5 pts）：$n\\leq 2$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 2（8 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等，$P=1$；\n- Subtask 3（7 pts）：$n\\leq 10$，$s_i,len_i,t_i\\leq 100$，所有 $t_i$ 均相等；\n- Subtask 4（12 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$，$P=1$；\n- Subtask 5（13 pts）：$n\\leq 16$，$s_i,len_i,t_i\\leq 100$；\n- Subtask 6（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$，$P=1$；\n- Subtask 7（15 pts）：$n\\leq 18$，$s_i,len_i,t_i\\leq 10^7$；\n- Subtask 8（15 pts）：$n\\leq 20$；\n- Subtask 9（10 pts）：无特殊限制。\n\n对于全部的测试点，保证 $1\\leq n\\leq 22$，$1\\leq P\\leq 2$，$1\\leq s_i,len_i,t_i\\leq 10^9$。\n\n---\n\n来源：[eJOI2018](http://ejoi2018.org/) Problem B「Passports」。\n\n说明：翻译自翻。", "locale": "zh-CN"}}}
{"pid": "P6314", "type": "P", "difficulty": 2, "samples": [["7\n8\n10\n13\n15\n19\n20\n23\n25 ", "7\n8\n10\n13\n19\n20\n23 "], ["8\n6\n5\n1\n37\n30\n28\n22\n36 ", "8\n6\n5\n1\n30\n28\n22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] PATULJCI", "background": "", "description": "白雪公主原本有 $7$ 个小矮人，但某天她遇到了 $9$ 个小矮人。\n\n这九个小矮人都自称是白雪公主 $7$ 个小矮人中的一个。他们每人戴着一顶帽子，每个帽子上面写着 $[1,99]$ 这个区间内的一个数字。\n\n白雪公主知道，她的 $7$ 个小矮人的帽子数字之和是 $100$。\n\n她想请你确定，哪 $7$ 个小矮人是她自己的。", "inputFormat": "输入共 $9$ 行，每行一个数描述这个小矮人的帽子上的数字。", "outputFormat": "输出共 $7$ 行，每行为一个符合要求的小矮人的帽子的数字。按照输入的顺序给出答案。", "hint": "#### 数据规模与约定\n\n输入数据均为小于 $100$ 的正整数，且保证有且仅有一组解。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T1 PATULJCI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] PATULJCI", "background": "", "description": "白雪公主原本有 $7$ 个小矮人，但某天她遇到了 $9$ 个小矮人。\n\n这九个小矮人都自称是白雪公主 $7$ 个小矮人中的一个。他们每人戴着一顶帽子，每个帽子上面写着 $[1,99]$ 这个区间内的一个数字。\n\n白雪公主知道，她的 $7$ 个小矮人的帽子数字之和是 $100$。\n\n她想请你确定，哪 $7$ 个小矮人是她自己的。", "inputFormat": "输入共 $9$ 行，每行一个数描述这个小矮人的帽子上的数字。", "outputFormat": "输出共 $7$ 行，每行为一个符合要求的小矮人的帽子的数字。按照输入的顺序给出答案。", "hint": "#### 数据规模与约定\n\n输入数据均为小于 $100$ 的正整数，且保证有且仅有一组解。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T1 PATULJCI***", "locale": "zh-CN"}}}
{"pid": "P6315", "type": "P", "difficulty": 2, "samples": [["ABCD\nEFGH\nIJKL\nM.NO ", "2"], [".BCD\nEAGH\nIJFL\nMNOK ", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] NPUZZLE", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/tiliraoh.png)\n\n给定一个 $4\\times 4$ 的方格棋盘，里面有 $A\\sim O$ 这 $15$ 个字母，还有一个 `.` （表示空位），字母的标准位置如图所示。\n\n现在有一个被打乱的棋盘，你需要计算出所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "inputFormat": "输入共 $4$ 行，每行 $4$ 个字符描述了这个棋盘。", "outputFormat": "输出一行一个整数，为所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T2 NPUZZLE***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] NPUZZLE", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/tiliraoh.png)\n\n给定一个 $4\\times 4$ 的方格棋盘，里面有 $A\\sim O$ 这 $15$ 个字母，还有一个 `.` （表示空位），字母的标准位置如图所示。\n\n现在有一个被打乱的棋盘，你需要计算出所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "inputFormat": "输入共 $4$ 行，每行 $4$ 个字符描述了这个棋盘。", "outputFormat": "输出一行一个整数，为所有字母从当前位置到自己的标准位置的[曼哈顿距离](https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB/743092?fr=aladdin)之和。", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T2 NPUZZLE***", "locale": "zh-CN"}}}
{"pid": "P6316", "type": "P", "difficulty": 3, "samples": [["4\n...D\n..C.\n.B..\nA... ", "4"], ["5\n..T..\nA....\n.FE.R\n....X\nS.... ", "3"], ["10\n....AB....\n..C....D..\n.E......F.\n...G..H...\nI........J\nK........L\n...M..N...\n.O......P.\n..Q....R..\n....ST....", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] TROJKE", "background": "", "description": "给定一个 $n\\times n$ 的方格纸，每个格子可能有一个大写字母，也可能为空。不会有同一个字母在方格纸中出现两次。\n\n你在一条线上找到三个字母，使得这条线穿过三个字母所在的格子的中心。\n\n请你求出方格纸上还有多少条这样的线。", "inputFormat": "输入第一行为一个整数 $n$，表示方格纸的边长。\n\n接下来的 $n$ 行，每行 $n$ 个字符，每个字符可能为一个大写字母或 `.`（空）。", "outputFormat": "输出一行一个整数，表示方格纸上这种线的数量。", "hint": "#### 样例 1 解释\n\n注意在第一个样例中，任意三个字母都处在同一条线上，这时的答案相当于 $C^{3}_{4}=4$。\n\n----\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 100$，不会有同一个字母在方格纸中出现两次。\n\n---\n\n#### 说明\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T3 TROJKE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] TROJKE", "background": "", "description": "给定一个 $n\\times n$ 的方格纸，每个格子可能有一个大写字母，也可能为空。不会有同一个字母在方格纸中出现两次。\n\n你在一条线上找到三个字母，使得这条线穿过三个字母所在的格子的中心。\n\n请你求出方格纸上还有多少条这样的线。", "inputFormat": "输入第一行为一个整数 $n$，表示方格纸的边长。\n\n接下来的 $n$ 行，每行 $n$ 个字符，每个字符可能为一个大写字母或 `.`（空）。", "outputFormat": "输出一行一个整数，表示方格纸上这种线的数量。", "hint": "#### 样例 1 解释\n\n注意在第一个样例中，任意三个字母都处在同一条线上，这时的答案相当于 $C^{3}_{4}=4$。\n\n----\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 100$，不会有同一个字母在方格纸中出现两次。\n\n---\n\n#### 说明\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T3 TROJKE***。", "locale": "zh-CN"}}}
{"pid": "P6317", "type": "P", "difficulty": 3, "samples": [["5\n1 1\n1 2\n1 3\n1 4\n1 5 ", "10\n1 D\n2 D\n3 D\n4 D\n1 D\n2 D\n3 D\n1 D\n2 D\n1 D"], ["5\n2 3\n3 2\n3 3\n3 4\n4 3 ", "8\n1 R\n1 R\n2 U\n2 U\n4 D\n4 D\n5 L\n5 L"], ["6\n1 1\n1 2\n2 1\n5 6\n6 5\n6 6", "8\n2 R\n2 D\n3 D\n3 R\n4 U\n4 L\n5 L\n5 U "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["数学", "贪心", "2006", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3]  TENKICI", "background": "", "description": "在一个 $n\\times n$ 的棋盘上，有 $n$ 辆坦克，每辆坦克可以攻击到自己所在的行和列上的所有格子。\n\n刚开始一个孩子正在畅快淋漓地玩着这局自己心目中的“二战”，但是他的母亲突然就叫他吃饭了。\n\n他十分不舍，并打算对这些坦克进行若干次移动，每次向上、下、左、右任意方向移动一辆坦克一个格子的距离。\n\n他现在想请你解决，最少需要多少次才能使得这 $n$ 个坦克互相无法攻击到？当然，为了不动脑子并快点去吃饭，你还需给出对应的方案之一。", "inputFormat": "输入第一行一个整数 $n$，表示棋盘的边长以及坦克的数量。\n\n接下来的 $n$ 行，每行两个整数 $r,c$，表示母亲叫他吃饭时这辆坦克所处的位置为第 $r$ 行第 $c$ 列。\n\n行和列分别从上到下，从左到右，用 $1\\sim n$ 标号。在任意时刻任何两辆坦克都不能处于相同的位置。\n\n", "outputFormat": "输出第一行为一个整数 $k$，表示最少的移动次数。\n\n接下来的 $k$ 行，每行先输出一个整数，表示此次将要移动的坦克；再输出一个字符，为`L`（左），`R`（右），`U`（上），`D`（下）之一，表示移动的方向。\n\n**正确的移动序列可能不唯一，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$，$1\\le r,c\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T4 TENKICI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3]  TENKICI", "background": "", "description": "在一个 $n\\times n$ 的棋盘上，有 $n$ 辆坦克，每辆坦克可以攻击到自己所在的行和列上的所有格子。\n\n刚开始一个孩子正在畅快淋漓地玩着这局自己心目中的“二战”，但是他的母亲突然就叫他吃饭了。\n\n他十分不舍，并打算对这些坦克进行若干次移动，每次向上、下、左、右任意方向移动一辆坦克一个格子的距离。\n\n他现在想请你解决，最少需要多少次才能使得这 $n$ 个坦克互相无法攻击到？当然，为了不动脑子并快点去吃饭，你还需给出对应的方案之一。", "inputFormat": "输入第一行一个整数 $n$，表示棋盘的边长以及坦克的数量。\n\n接下来的 $n$ 行，每行两个整数 $r,c$，表示母亲叫他吃饭时这辆坦克所处的位置为第 $r$ 行第 $c$ 列。\n\n行和列分别从上到下，从左到右，用 $1\\sim n$ 标号。在任意时刻任何两辆坦克都不能处于相同的位置。\n\n", "outputFormat": "输出第一行为一个整数 $k$，表示最少的移动次数。\n\n接下来的 $k$ 行，每行先输出一个整数，表示此次将要移动的坦克；再输出一个字符，为`L`（左），`R`（右），`U`（上），`D`（下）之一，表示移动的方向。\n\n**正确的移动序列可能不唯一，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$，$1\\le r,c\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T4 TENKICI***", "locale": "zh-CN"}}}
{"pid": "P6319", "type": "P", "difficulty": 5, "samples": [["2 1\nA 2 1 ", "1\nA 1 2 "], ["4 3\nB 1 2\nA 4 3\nB 1 4 ", "2\nA 1 2\nB 4 3 "], ["6 5\nA 1 4\nB 2 5\nB 4 2\nB 6 3\nA 3 5 ", "3\nA 4 5\nB 6 5\nA 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2006", "树状数组", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #3] LISTA", "background": "Mirko 收到了一份礼物——一个崭新的双向链表！", "description": "这个长度为 $n$ 的链表包含 $1\\sim n$ 这 $n$ 个节点，从左到右排列。\n\n可以对这个链表执行两种操作：\n\n- `A x y`：把 $x$ 节点放到 $y$ 节点前。\n\n- `B x y`：把 $x$ 节点放到 $y$ 节点后。\n\n#### 例如：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2es5c1p0.png)\n\n这是一个有 $6$ 个节点的链表的初始状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uv7dpgu2.png)\n\n这是进行操作 `A 1 4` 后的链表状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4j3104vm.png)\n\n这是再进行操作 `B 3 5` 后的链表状态。\n\nMirko 把这个链表玩了几个小时。每进行一次操作，他都会在纸上记录下来。\n\n当他兴致已尽，打算把链表恢复时，他惊讶地发现自己不知道最快的恢复方法，因为他只知道这些节点的结束位置。\n\n请你运用 `A` `B` 两个操作，找出操作数最少的恢复方案并输出每一次的操作。", "inputFormat": "输入第一行为两个整数 $n,k$，表示链表的节点个数和 Mirko 的操作次数。\n\n接下来的 $k$ 行，每行描述一个 Mirko 在纸上记录下来的操作，格式如题目描述所示。", "outputFormat": "输出第一行为一个整数 $K$，表示最少的恢复方案。\n\n接下来的 $K$ 行，每行描述一个恢复时的操作，格式与输入相同。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2\\le n\\le 5\\times 10^5$，$0\\le k\\le 1\\times 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T6 BICIKLI***\n\n感谢 @[andyli](https://www.luogu.com.cn/user/84282) 提供SPJ。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #3] LISTA", "background": "Mirko 收到了一份礼物——一个崭新的双向链表！", "description": "这个长度为 $n$ 的链表包含 $1\\sim n$ 这 $n$ 个节点，从左到右排列。\n\n可以对这个链表执行两种操作：\n\n- `A x y`：把 $x$ 节点放到 $y$ 节点前。\n\n- `B x y`：把 $x$ 节点放到 $y$ 节点后。\n\n#### 例如：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2es5c1p0.png)\n\n这是一个有 $6$ 个节点的链表的初始状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uv7dpgu2.png)\n\n这是进行操作 `A 1 4` 后的链表状态。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4j3104vm.png)\n\n这是再进行操作 `B 3 5` 后的链表状态。\n\nMirko 把这个链表玩了几个小时。每进行一次操作，他都会在纸上记录下来。\n\n当他兴致已尽，打算把链表恢复时，他惊讶地发现自己不知道最快的恢复方法，因为他只知道这些节点的结束位置。\n\n请你运用 `A` `B` 两个操作，找出操作数最少的恢复方案并输出每一次的操作。", "inputFormat": "输入第一行为两个整数 $n,k$，表示链表的节点个数和 Mirko 的操作次数。\n\n接下来的 $k$ 行，每行描述一个 Mirko 在纸上记录下来的操作，格式如题目描述所示。", "outputFormat": "输出第一行为一个整数 $K$，表示最少的恢复方案。\n\n接下来的 $K$ 行，每行描述一个恢复时的操作，格式与输入相同。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$2\\le n\\le 5\\times 10^5$，$0\\le k\\le 1\\times 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #3](https://hsin.hr/coci/archive/2006_2007/contest3_tasks.pdf) *T6 BICIKLI***\n\n感谢 @[andyli](https://www.luogu.com.cn/user/84282) 提供SPJ。", "locale": "zh-CN"}}}
{"pid": "P6320", "type": "P", "difficulty": 1, "samples": [["5 3 4\n3\n4\n5\n6\n7 ", "DA\nDA\nDA\nNE\nNE "], ["2 12 17\n21\n20 ", "NE\nDA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4] SIBICE", "background": "年轻的 Mirko 把火柴扔的到处都是。他的母亲希望他将火柴放入盒子中。", "description": "Mirko 现在要放置 $n$ 根火柴，他有一个 $w\\times h$ 的矩形盒子。\n\n他现在想请你进行判断这 $n$ 根火柴每一个是否能够放入这个盒子。\n\n我们可以把盒子看成一个平面，只需要判断火柴是否能够在这个平面内放下即可。", "inputFormat": "输入第一行为三个整数 $n,w,h$。\n\n接下来的 $n$ 行，每行一个 $[1,1000]$ 区间内的整数，表示一根火柴的长度。", "outputFormat": "输出共 $n$ 行，对于每根火柴，输出 `DA` 表示能放下，否则输出 `NE` 表示放不下。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 50$，$1\\le w,h\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T1 SIBICE***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4] SIBICE", "background": "年轻的 Mirko 把火柴扔的到处都是。他的母亲希望他将火柴放入盒子中。", "description": "Mirko 现在要放置 $n$ 根火柴，他有一个 $w\\times h$ 的矩形盒子。\n\n他现在想请你进行判断这 $n$ 根火柴每一个是否能够放入这个盒子。\n\n我们可以把盒子看成一个平面，只需要判断火柴是否能够在这个平面内放下即可。", "inputFormat": "输入第一行为三个整数 $n,w,h$。\n\n接下来的 $n$ 行，每行一个 $[1,1000]$ 区间内的整数，表示一根火柴的长度。", "outputFormat": "输出共 $n$ 行，对于每根火柴，输出 `DA` 表示能放下，否则输出 `NE` 表示放不下。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 50$，$1\\le w,h\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T1 SIBICE***", "locale": "zh-CN"}}}
{"pid": "P6321", "type": "P", "difficulty": 1, "samples": [["3 3 1 2\n.x.\nx.x\n.x. ", "..xx..\nxx..xx\n..xx.. "], ["3 3 2 1\n.x.\nx.x\n.x.", ".x.\n.x.\nx.x\nx.x\n.x.\n.x."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4]  SKENER", "background": "Mirko 在拿放大镜看杂志。", "description": "他正在看一面 $r$ 行 $c$ 列的杂志。放大镜有两个参数 $zr,zc$，表示把每个字符都转换成一个 $zr$ 行 $zc$ 列的矩阵。\n\n给出原始杂志，请你帮他找出杂志在放大镜下的影像。", "inputFormat": "输入第一行四个整数 $r,c,zr,zc$。\n\n接下来的 $r$ 行，每行 $c$ 个字符。字符可能为数字，字母或 `.`。", "outputFormat": "输出一个 $r\\times zr$ 行，$c\\times zc$ 列的矩阵，表示放大镜下的影像。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 50$，$1\\le zr,zc\\le 5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T2 SKENER***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4]  SKENER", "background": "Mirko 在拿放大镜看杂志。", "description": "他正在看一面 $r$ 行 $c$ 列的杂志。放大镜有两个参数 $zr,zc$，表示把每个字符都转换成一个 $zr$ 行 $zc$ 列的矩阵。\n\n给出原始杂志，请你帮他找出杂志在放大镜下的影像。", "inputFormat": "输入第一行四个整数 $r,c,zr,zc$。\n\n接下来的 $r$ 行，每行 $c$ 个字符。字符可能为数字，字母或 `.`。", "outputFormat": "输出一个 $r\\times zr$ 行，$c\\times zc$ 列的矩阵，表示放大镜下的影像。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 50$，$1\\le zr,zc\\le 5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T2 SKENER***", "locale": "zh-CN"}}}
{"pid": "P6322", "type": "P", "difficulty": 2, "samples": [["3\n8 4 2", "2/1\n4/1"], ["4\n12 3 8 4", "4/1\n3/2\n3/1"], ["4\n300 1 1 300", "300/1\n300/1\n1/1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4] PRSTENI", "background": "", "description": "有 $n$ 个半径不同的圆环，把它们依次放在地上摆成一行，使得除了第一个和最后一个环，其他的圆环都能接触到相邻两个环。\n\n请你求出当第一个环转动了 $1$ 圈时，其他每个环都转动了多少圈。\n\n由于答案可能不是整数，所以请用最简分数的形式表示，格式见样例。", "inputFormat": "输入第一行为一个整数 $n$，为圆环的个数。\n\n第二行为 $n$ 个整数，依次表示每个圆环的半径。", "outputFormat": "输出共 $n-1$ 行，表示除第一个圆环外，其他圆环所转动的圈数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 100$，半径长度在 $1\\sim 1000$ 之间（含端点） 。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T3 PRSTENI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4] PRSTENI", "background": "", "description": "有 $n$ 个半径不同的圆环，把它们依次放在地上摆成一行，使得除了第一个和最后一个环，其他的圆环都能接触到相邻两个环。\n\n请你求出当第一个环转动了 $1$ 圈时，其他每个环都转动了多少圈。\n\n由于答案可能不是整数，所以请用最简分数的形式表示，格式见样例。", "inputFormat": "输入第一行为一个整数 $n$，为圆环的个数。\n\n第二行为 $n$ 个整数，依次表示每个圆环的半径。", "outputFormat": "输出共 $n-1$ 行，表示除第一个圆环外，其他圆环所转动的圈数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 100$，半径长度在 $1\\sim 1000$ 之间（含端点） 。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T3 PRSTENI***", "locale": "zh-CN"}}}
{"pid": "P6323", "type": "P", "difficulty": 3, "samples": [["10 1", "9"], ["4 3", "6"], ["9 13", "17957"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["动态规划 DP", "2006", "前缀和", "COCI（克罗地亚）", "线性 DP"], "title": "[COCI 2006/2007 #4] ZBRKA", "background": "", "description": "在一个长度为 $n$ 的排列中找出逆序对数量恰好为 $c$ 的排列总数。（$\\bmod \\ 10^9+7$）", "inputFormat": "输入共一行为两个整数 $n,c$。", "outputFormat": "输出逆序对数量恰好为 $c$ 的排列总数。（$\\bmod \\ 10^9+7$）", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^3$，$1\\le c\\le 10^4$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T4 ZBRKA***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4] ZBRKA", "background": "", "description": "在一个长度为 $n$ 的排列中找出逆序对数量恰好为 $c$ 的排列总数。（$\\bmod \\ 10^9+7$）", "inputFormat": "输入共一行为两个整数 $n,c$。", "outputFormat": "输出逆序对数量恰好为 $c$ 的排列总数。（$\\bmod \\ 10^9+7$）", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^3$，$1\\le c\\le 10^4$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T4 ZBRKA***", "locale": "zh-CN"}}}
{"pid": "P6324", "type": "P", "difficulty": 3, "samples": [["2", "3 1 2"], ["3", "3 1 7 5 6 2 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4]  JOGURT", "background": "", "description": "给定一棵完全二叉树，共 $n$ 层。\n\n我们将根节点记为在第 $0$ 层，根节点的两个子节点记为在第 $1$ 层，以此类推。\n\n现在，我们要把 $1\\sim 2^n-1$ 这 $2^n-1$ 个数字不重复无遗漏的分别填入每个节点，使得对于任意的 $d$，以第 $d$ 层的一个节点为根，它的左右子树分别的数字之和的差的绝对值等于 $2^d$。\n\n请你给出一个可行的方案，只需输出这个方案的[先序遍历](https://baike.baidu.com/item/%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86/6442839?fr=aladdin)即可。", "inputFormat": "输入一行一个整数 $n$，表示树的层数。", "outputFormat": "输出一行 $2^n-1$ 个 $1\\sim 2^n-1$ 的整数，用空格隔开，为一个可能的先序遍历。\n\n**如果有多种答案，输出任意一种即可，本题使用 SPJ**。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 15$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T5 JOGURT***\n\n感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供SPJ！", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4]  JOGURT", "background": "", "description": "给定一棵完全二叉树，共 $n$ 层。\n\n我们将根节点记为在第 $0$ 层，根节点的两个子节点记为在第 $1$ 层，以此类推。\n\n现在，我们要把 $1\\sim 2^n-1$ 这 $2^n-1$ 个数字不重复无遗漏的分别填入每个节点，使得对于任意的 $d$，以第 $d$ 层的一个节点为根，它的左右子树分别的数字之和的差的绝对值等于 $2^d$。\n\n请你给出一个可行的方案，只需输出这个方案的[先序遍历](https://baike.baidu.com/item/%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86/6442839?fr=aladdin)即可。", "inputFormat": "输入一行一个整数 $n$，表示树的层数。", "outputFormat": "输出一行 $2^n-1$ 个 $1\\sim 2^n-1$ 的整数，用空格隔开，为一个可能的先序遍历。\n\n**如果有多种答案，输出任意一种即可，本题使用 SPJ**。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 15$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T5 JOGURT***\n\n感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供SPJ！", "locale": "zh-CN"}}}
{"pid": "P6325", "type": "P", "difficulty": 6, "samples": [["6\nD 3 1\nD 2 2\nD 1 3\nP 1\nP 2\nP 3", "NE\nNE\nNE"], ["6\nD 8 8\nD 2 4\nD 5 6\nP 2\nD 6 2\nP 4", "3\n1"], ["7\nD 5 2\nD 5 3\nP 1\nD 7 1\nD 8 7\nP 3\nP 2", "2\n4\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2006", "分块", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #4]  ISPITI", "background": "Mirko 的村子要进行一场考试。", "description": "考试在即，学生们赶快加紧了复习的进度。每个学生都有两个能力系数 $A\\ B$。\n\n我们认为一个学生会向另一个学生求助，当且仅当另一个学生的 $A$ 和 $B$ 都不小于这个学生。\n\n现在给出 $n$ 条指令，有以下两种类型：\n\n- `D A B` 来了一个学生，他的两个能力系数为 $A$ 和 $B$。\n\n- `P i` 第 $i$ 个学生想知道找谁帮忙。为了不大材小用，如果有多人可以求助，他会首先选择系数 $B$ 相差最小的。如果 $B$ 相同，则首选 $A$ 相差最小的。\n\n其中学生的编号由入场的顺序从 $1$ 开始依次编排。", "inputFormat": "输入第一行为一个整数 $n$ ，表示指令的总数。\n\n接下来的 $n$ 行，每行一个指令，具体格式参照题目描述。\n\n保证不会存在任意两个学生的两个指数都相同。", "outputFormat": "对于每一个 `P i`，输出一个整数，为第 $i$ 个学生想向哪个编号的学生求助。如果这个学生没有可以求助的对象，则输出 `NE`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 2\\times 10^5$，$1\\le A,B\\le 2\\times 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T6  ISPITI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #4]  ISPITI", "background": "Mirko 的村子要进行一场考试。", "description": "考试在即，学生们赶快加紧了复习的进度。每个学生都有两个能力系数 $A\\ B$。\n\n我们认为一个学生会向另一个学生求助，当且仅当另一个学生的 $A$ 和 $B$ 都不小于这个学生。\n\n现在给出 $n$ 条指令，有以下两种类型：\n\n- `D A B` 来了一个学生，他的两个能力系数为 $A$ 和 $B$。\n\n- `P i` 第 $i$ 个学生想知道找谁帮忙。为了不大材小用，如果有多人可以求助，他会首先选择系数 $B$ 相差最小的。如果 $B$ 相同，则首选 $A$ 相差最小的。\n\n其中学生的编号由入场的顺序从 $1$ 开始依次编排。", "inputFormat": "输入第一行为一个整数 $n$ ，表示指令的总数。\n\n接下来的 $n$ 行，每行一个指令，具体格式参照题目描述。\n\n保证不会存在任意两个学生的两个指数都相同。", "outputFormat": "对于每一个 `P i`，输出一个整数，为第 $i$ 个学生想向哪个编号的学生求助。如果这个学生没有可以求助的对象，则输出 `NE`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 2\\times 10^5$，$1\\le A,B\\le 2\\times 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #4](https://hsin.hr/coci/archive/2006_2007/contest4_tasks.pdf) *T6  ISPITI***", "locale": "zh-CN"}}}
{"pid": "P6326", "type": "P", "difficulty": 6, "samples": [["1\n3 2\n1 2 3\n1 1 1\n1 2 1\n1 2\n1 3", "4"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["点分治", "单调队列", "O2优化", "背包 DP"], "title": "Shopping", "background": "", "description": "马上就是小苗的生日了，为了给小苗准备礼物，小葱兴冲冲地来到了商店街。商店街有 $n$ 个商店，并且它们之间的道路构成了一棵树的形状。\n\n第 $i$ 个商店只卖第 $i$ 种物品，小苗对于这种物品的喜爱度是 $w_i$，物品的价格为 $c_i$，物品的库存是 $d_i$。但是商店街有一项奇怪的规定：如果在商店 $u,v$ 买了东西，并且有一个商店 $p$ 在 $u$ 到 $v$ 的路径上，那么必须要在商店 $p$ 买东西。小葱身上有 $m$ 元钱，他想要尽量让小苗开心，所以他希望最大化小苗对买到物品的喜爱度之和。\n\n这种小问题对于小葱来说当然不在话下，但是他的身边没有电脑，于是他打电话给同为OI选手的你，你能帮帮他吗？\n\n", "inputFormat": "输入第一行一个正整数 $T$ ，表示测试数据组数。\n\n对于每组数据，\n\n第一行两个正整数 $n,m$  。\n\n第二行 $n$ 个非负整数 $w_1,w_2...w_n$ 。\n\n第三行 $n$ 个正整数 $c_1,c_2...c_n$ 。\n\n第四行 $n$ 个正整数 $d_1,d_2...d_n$ 。\n\n接下来 $n-1$ 行每行两个正整数 $u,v$ 表示 $u$ 和 $v$之间有一条道路。", "outputFormat": "输出共 $T$ 行，每行一个整数，表示最大的喜爱度之和。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\leq n\\le 500$，$1\\le m\\le 4000$，$1\\le T \\le 5$，$0\\le w_i\\le 4000$，$1 \\leq c_i \\leq m$，$1\\le d_i\\le 2500$。\n\n#### 说明\n\n题目来源：BZOJ4182。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Shopping", "background": "", "description": "马上就是小苗的生日了，为了给小苗准备礼物，小葱兴冲冲地来到了商店街。商店街有 $n$ 个商店，并且它们之间的道路构成了一棵树的形状。\n\n第 $i$ 个商店只卖第 $i$ 种物品，小苗对于这种物品的喜爱度是 $w_i$，物品的价格为 $c_i$，物品的库存是 $d_i$。但是商店街有一项奇怪的规定：如果在商店 $u,v$ 买了东西，并且有一个商店 $p$ 在 $u$ 到 $v$ 的路径上，那么必须要在商店 $p$ 买东西。小葱身上有 $m$ 元钱，他想要尽量让小苗开心，所以他希望最大化小苗对买到物品的喜爱度之和。\n\n这种小问题对于小葱来说当然不在话下，但是他的身边没有电脑，于是他打电话给同为OI选手的你，你能帮帮他吗？\n\n", "inputFormat": "输入第一行一个正整数 $T$ ，表示测试数据组数。\n\n对于每组数据，\n\n第一行两个正整数 $n,m$  。\n\n第二行 $n$ 个非负整数 $w_1,w_2...w_n$ 。\n\n第三行 $n$ 个正整数 $c_1,c_2...c_n$ 。\n\n第四行 $n$ 个正整数 $d_1,d_2...d_n$ 。\n\n接下来 $n-1$ 行每行两个正整数 $u,v$ 表示 $u$ 和 $v$之间有一条道路。", "outputFormat": "输出共 $T$ 行，每行一个整数，表示最大的喜爱度之和。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\leq n\\le 500$，$1\\le m\\le 4000$，$1\\le T \\le 5$，$0\\le w_i\\le 4000$，$1 \\leq c_i \\leq m$，$1\\le d_i\\le 2500$。\n\n#### 说明\n\n题目来源：BZOJ4182。", "locale": "zh-CN"}}}
{"pid": "P6327", "type": "P", "difficulty": 5, "samples": [["5\n1 3 1 5 5\n5\n1 5 5 5\n2 3 3\n2 1 5\n2 2 2\n2 4 4", "0.8\n0.3\n0.1\n-1.0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2012", "线段树", "O2优化"], "title": "区间加区间 sin 和", "background": "", "description": "给出一个长度为 $n$ 的整数序列 $a_1,a_2,\\ldots,a_n$，进行 $m$ 次操作，操作分为两类。\n\n操作 $1$：给出 $l,r,v$，将 $a_l,a_{l+1},\\ldots,a_r$ 分别加上 $v$。\n\n操作 $2$：给出 $l,r$，询问 $\\sum\\limits_{i=l}^{r}\\sin(a_i)$。", "inputFormat": "第一行一个整数 $n$。\n\n接下来一行 $n$ 个整数表示 $a_1,a_2,\\ldots,a_n$。\n\n接下来一行一个整数 $m$。\n\n接下来 $m$ 行，每行表示一个操作，操作 $1$ 表示为 `1 l r v`，操作 $2$ 表示为 `2 l r`。\n", "outputFormat": "对每个操作 $2$，输出一行，表示答案，四舍五入保留一位小数。\n\n保证答案的绝对值大于 $0.1$，且答案的准确值的小数点后第二位不是 $4$ 或 $5$。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：ccz181078，Data：nzhtl1477\n\n保证 $1\\leq n,m,a_i,v\\leq 2\\times 10^5$，$1\\leq l\\leq r\\leq n$。保证所有输入的数都是正整数。", "locale": "zh-CN", "translations": {"en": {"title": "Range Add and Range Sine Sum", "background": "", "description": "Given an integer sequence $a_1,a_2,\\ldots,a_n$ of length $n$, perform $m$ operations. There are two types of operations.\n\nOperation $1$: given $l,r,v$, add $v$ to each of $a_l,a_{l+1},\\ldots,a_r$.\n\nOperation $2$: given $l,r$, query $\\sum\\limits_{i=l}^{r}\\sin(a_i)$.", "inputFormat": "The first line contains an integer $n$.\n\nThe next line contains $n$ integers representing $a_1,a_2,\\ldots,a_n$.\n\nThe next line contains an integer $m$.\n\nThe next $m$ lines each describe an operation. Operation $1$ is written as `1 l r v`, and operation $2$ is written as `2 l r`.", "outputFormat": "For each operation $2$, output one line with the answer, rounded to one decimal place.\n\nIt is guaranteed that the absolute value of the answer is greater than $0.1$, and that the second digit after the decimal point of the exact answer is not $4$ or $5$.", "hint": "Idea: nzhtl1477, Solution: nzhtl1477, Code: ccz181078, Data: nzhtl1477.\n\nConstraints: $1\\leq n,m,a_i,v\\leq 2\\times 10^5$, $1\\leq l\\leq r\\leq n$. It is guaranteed that all input numbers are positive integers.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "区间加区间 sin 和", "background": "", "description": "给出一个长度为 $n$ 的整数序列 $a_1,a_2,\\ldots,a_n$，进行 $m$ 次操作，操作分为两类。\n\n操作 $1$：给出 $l,r,v$，将 $a_l,a_{l+1},\\ldots,a_r$ 分别加上 $v$。\n\n操作 $2$：给出 $l,r$，询问 $\\sum\\limits_{i=l}^{r}\\sin(a_i)$。", "inputFormat": "第一行一个整数 $n$。\n\n接下来一行 $n$ 个整数表示 $a_1,a_2,\\ldots,a_n$。\n\n接下来一行一个整数 $m$。\n\n接下来 $m$ 行，每行表示一个操作，操作 $1$ 表示为 `1 l r v`，操作 $2$ 表示为 `2 l r`。\n", "outputFormat": "对每个操作 $2$，输出一行，表示答案，四舍五入保留一位小数。\n\n保证答案的绝对值大于 $0.1$，且答案的准确值的小数点后第二位不是 $4$ 或 $5$。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：ccz181078，Data：nzhtl1477\n\n保证 $1\\leq n,m,a_i,v\\leq 2\\times 10^5$，$1\\leq l\\leq r\\leq n$。保证所有输入的数都是正整数。", "locale": "zh-CN"}}}
{"pid": "P6328", "type": "P", "difficulty": 5, "samples": [["5 6 6\n2 3\n1 3\n2 5\n1 3\n3 2\n2 5\n1\n3 1\n1\n1 1\n1\n1 4\n1\t\n5 2\n1\n1 4\n2\n1 0\n5 1", "3\n2\n4\n3\n4\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000]}, "tags": ["2015", "O2优化", "bitset"], "title": "我是仙人掌", "background": "我遵守了...  \n约...约定  \n![](https://cdn.luogu.com.cn/upload/pic/45543.png)  \n【你非常努力啊】  \n我非常非常努力哦...  \n![](https://cdn.luogu.com.cn/upload/pic/45545.png)  \n【虽然昨天也说过这句话了...】   \n【欢迎回来，珂朵莉】  \n![](https://cdn.luogu.com.cn/upload/pic/45546.png)  \n我回来了...  \n终于说出口了...  \n【是啊，我终于听见了】  \n红色的头发，会不会奇怪？  \n【很漂亮的颜色，和你很搭哦】   \n是吗...  \n我...我已经没事了  \n【真的吗？身体状况没问题吗？】   \n【要是硬撑的话，我可不会饶过你啊】  \n没事的，做饭啊洗衣服啊，还留着很多活要干呢   \n【可别太拼了哦】  \n![](https://cdn.luogu.com.cn/upload/pic/45547.png)  \n哼，你就做好心理准备等着吧  \n![](https://cdn.luogu.com.cn/upload/pic/45548.png)  ", "description": "珂朵莉给你一个无向图，每次查询的时候给一堆二元组 $(x_i,y_i)$。\n\n求图中有多少个点 $u$ 与至少一个这次询问给出的二元组 $(x_i,y_i)$ 满足 \n $\\mathrm{dist}(u,x_i)\\leq y_i$，$\\mathrm{dist}$ 表示这两个点在图中的距离。\n\n如果不连通 $\\mathrm{dist} = +\\infty$。", "inputFormat": "第一行三个整数表示 $n,m,q$。\n\n$n$ 表示顶点个数，$m$ 表示边数。\n\n之后 $m$ 行每行两个整数 $x,y$ 表示这两个点之间连有一条边~，边权都为 $1$。\n\n之后 $q$ 次询问，每个询问先给你一个整数 $a$。\n\n之后 $a$ 行每行两个整数，$x,y$ ，表示一个二元组。\n\n", "outputFormat": "$q$ 行，每行一个数表示这次询问的答案。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：nzhtl1477，Data：nzhtl1477\n\n$1\\leq n\\leq 1000$，$1\\leq m,q \\leq 10^5$，$\\sum a\\leq2.1\\times 10^6$。  ", "locale": "zh-CN", "translations": {"en": {"title": "I Am a Cactus.", "background": "I kept the...  \nagreement... an agreement.  \n![](https://cdn.luogu.com.cn/upload/pic/45543.png)  \n【You are working very hard.】  \nI am working very, very hard...  \n![](https://cdn.luogu.com.cn/upload/pic/45545.png)  \n【Even though you said that yesterday too...】  \n【Welcome back, Chtholly.】  \n![](https://cdn.luogu.com.cn/upload/pic/45546.png)  \nI'm back...  \nI finally said it out loud...  \n【Yes, I finally heard it.】  \nWill red hair look strange?  \n【It is a very pretty color, it suits you well.】  \nReally...  \nI... I'm fine now.  \n【Really? Is your condition okay?】  \n【If you are forcing yourself, I won't let you off.】  \nIt's fine. Cooking, laundry... there is still a lot of work to do.  \n【Don't push yourself too hard.】  \n![](https://cdn.luogu.com.cn/upload/pic/45547.png)  \nHmph, just be mentally prepared and wait.  \n![](https://cdn.luogu.com.cn/upload/pic/45548.png)", "description": "Chtholly gives you an undirected graph. In each query, you are given a set of pairs $(x_i, y_i)$.\n\nFind how many vertices $u$ in the graph satisfy, for at least one pair $(x_i, y_i)$ in this query,\n$\\mathrm{dist}(u, x_i) \\leq y_i$, where $\\mathrm{dist}$ denotes the distance between the two vertices in the graph.\n\nIf two vertices are disconnected, then $\\mathrm{dist} = +\\infty$.", "inputFormat": "The first line contains three integers $n, m, q$.\n\n$n$ is the number of vertices, and $m$ is the number of edges.\n\nThen follow $m$ lines, each containing two integers $x, y$, indicating that there is an edge between these two vertices. All edge weights are $1$.\n\nThen there are $q$ queries. For each query, you are first given an integer $a$.\n\nThen follow $a$ lines, each containing two integers $x, y$, representing a pair.", "outputFormat": "Output $q$ lines. Each line contains one integer, the answer to the corresponding query.", "hint": "Idea: nzhtl1477, Solution: nzhtl1477, Code: nzhtl1477, Data: nzhtl1477.\n\nConstraints: $1 \\leq n \\leq 1000$, $1 \\leq m, q \\leq 10^5$, $\\sum a \\leq 2.1 \\times 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "我是仙人掌", "background": "我遵守了...  \n约...约定  \n![](https://cdn.luogu.com.cn/upload/pic/45543.png)  \n【你非常努力啊】  \n我非常非常努力哦...  \n![](https://cdn.luogu.com.cn/upload/pic/45545.png)  \n【虽然昨天也说过这句话了...】   \n【欢迎回来，珂朵莉】  \n![](https://cdn.luogu.com.cn/upload/pic/45546.png)  \n我回来了...  \n终于说出口了...  \n【是啊，我终于听见了】  \n红色的头发，会不会奇怪？  \n【很漂亮的颜色，和你很搭哦】   \n是吗...  \n我...我已经没事了  \n【真的吗？身体状况没问题吗？】   \n【要是硬撑的话，我可不会饶过你啊】  \n没事的，做饭啊洗衣服啊，还留着很多活要干呢   \n【可别太拼了哦】  \n![](https://cdn.luogu.com.cn/upload/pic/45547.png)  \n哼，你就做好心理准备等着吧  \n![](https://cdn.luogu.com.cn/upload/pic/45548.png)  ", "description": "珂朵莉给你一个无向图，每次查询的时候给一堆二元组 $(x_i,y_i)$。\n\n求图中有多少个点 $u$ 与至少一个这次询问给出的二元组 $(x_i,y_i)$ 满足 \n $\\mathrm{dist}(u,x_i)\\leq y_i$，$\\mathrm{dist}$ 表示这两个点在图中的距离。\n\n如果不连通 $\\mathrm{dist} = +\\infty$。", "inputFormat": "第一行三个整数表示 $n,m,q$。\n\n$n$ 表示顶点个数，$m$ 表示边数。\n\n之后 $m$ 行每行两个整数 $x,y$ 表示这两个点之间连有一条边~，边权都为 $1$。\n\n之后 $q$ 次询问，每个询问先给你一个整数 $a$。\n\n之后 $a$ 行每行两个整数，$x,y$ ，表示一个二元组。\n\n", "outputFormat": "$q$ 行，每行一个数表示这次询问的答案。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：nzhtl1477，Data：nzhtl1477\n\n$1\\leq n\\leq 1000$，$1\\leq m,q \\leq 10^5$，$\\sum a\\leq2.1\\times 10^6$。  ", "locale": "zh-CN"}}}
{"pid": "P6329", "type": "P", "difficulty": 6, "samples": [["8 1\n1 10 100 1000 10000 100000 1000000 10000000\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n3 8\n0 3 1", "11100101"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["点分治", "树状数组", "O2优化", "模板题"], "title": "【模板】点分树 / 震波", "background": "模板题，没有 $rap$ 。", "description": "在一片土地上有 $n$ 个城市，通过 $n-1$ 条无向边互相连接，形成一棵树的结构，相邻两个城市的距离为 $1$，其中第 $i$ 个城市的价值为 $value_i$。\n\n不幸的是，这片土地常常发生地震，并且随着时代的发展，城市的价值也往往会发生变动。\n\n接下来你需要在线处理 $m$ 次操作：\n\n`0 x k` 表示发生了一次地震，震中城市为 $x$，影响范围为 $k$，所有与 $x$ 距离不超过 $k$ 的城市都将受到影响，该次地震造成的经济损失为所有受影响城市的价值和。\n\n`1 x y` 表示第 $x$ 个城市的价值变成了 $y$ 。\n\n为了体现程序的在线性，操作中的 $x$、$y$、$k$ 都需要异或你程序上一次的输出来解密，如果之前没有输出，则默认上一次的输出为 $0$ 。\n\n", "inputFormat": "第一行包含两个正整数 $n$ 和 $m$ 。\n\n第二行包含 $n$ 个正整数，第 $i$ 个数表示 $value_i$ 。\n\n接下来 $n-1$ 行，每行包含两个正整数 $u$、$v$，表示 $u$ 和 $v$ 之间有一条无向边。\n\n接下来 $m$ 行，每行包含三个数，表示 $m$ 次操作。", "outputFormat": "包含若干行，对于每个询问输出一行一个正整数表示答案。", "hint": "#### 数据规模与约定\n\n对于 $100 \\%$ 的数据，有 $1\\leq n,m\\leq 10^5, 1\\leq u,v,x\\leq n, 1\\leq value_i,y\\leq 10^4,0\\leq k\\leq n-1$ 。\n\nupd：样例范围与题目真实数据范围不同，以提示中给出的数据范围为准。\n\n#### 说明\n题目来源：BZOJ3730。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】点分树 / 震波", "background": "模板题，没有 $rap$ 。", "description": "在一片土地上有 $n$ 个城市，通过 $n-1$ 条无向边互相连接，形成一棵树的结构，相邻两个城市的距离为 $1$，其中第 $i$ 个城市的价值为 $value_i$。\n\n不幸的是，这片土地常常发生地震，并且随着时代的发展，城市的价值也往往会发生变动。\n\n接下来你需要在线处理 $m$ 次操作：\n\n`0 x k` 表示发生了一次地震，震中城市为 $x$，影响范围为 $k$，所有与 $x$ 距离不超过 $k$ 的城市都将受到影响，该次地震造成的经济损失为所有受影响城市的价值和。\n\n`1 x y` 表示第 $x$ 个城市的价值变成了 $y$ 。\n\n为了体现程序的在线性，操作中的 $x$、$y$、$k$ 都需要异或你程序上一次的输出来解密，如果之前没有输出，则默认上一次的输出为 $0$ 。\n\n", "inputFormat": "第一行包含两个正整数 $n$ 和 $m$ 。\n\n第二行包含 $n$ 个正整数，第 $i$ 个数表示 $value_i$ 。\n\n接下来 $n-1$ 行，每行包含两个正整数 $u$、$v$，表示 $u$ 和 $v$ 之间有一条无向边。\n\n接下来 $m$ 行，每行包含三个数，表示 $m$ 次操作。", "outputFormat": "包含若干行，对于每个询问输出一行一个正整数表示答案。", "hint": "#### 数据规模与约定\n\n对于 $100 \\%$ 的数据，有 $1\\leq n,m\\leq 10^5, 1\\leq u,v,x\\leq n, 1\\leq value_i,y\\leq 10^4,0\\leq k\\leq n-1$ 。\n\nupd：样例范围与题目真实数据范围不同，以提示中给出的数据范围为准。\n\n#### 说明\n题目来源：BZOJ3730。", "locale": "zh-CN"}}}
{"pid": "P6330", "type": "P", "difficulty": 1, "samples": [["5 5\n5 7\n7 5", "7 7"], ["30 20\n10 10\n10 20", "30 10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #1]  CETVRTA", "background": "", "description": "给出坐标系中一个矩形的三个顶点的坐标，请你确定第四个顶点的坐标并输出。\n\n保证矩形的边与坐标轴平行。", "inputFormat": "共 $3$ 行，每行两个 $1\\sim 1000$ 之间的整数（含端点），表示这个矩形一个顶点的坐标。", "outputFormat": "输出一行两个整数，表示第四个顶点的坐标。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T1 CETVRTA***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #1]  CETVRTA", "background": "", "description": "给出坐标系中一个矩形的三个顶点的坐标，请你确定第四个顶点的坐标并输出。\n\n保证矩形的边与坐标轴平行。", "inputFormat": "共 $3$ 行，每行两个 $1\\sim 1000$ 之间的整数（含端点），表示这个矩形一个顶点的坐标。", "outputFormat": "输出一行两个整数，表示第四个顶点的坐标。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T1 CETVRTA***", "locale": "zh-CN"}}}
{"pid": "P6331", "type": "P", "difficulty": 3, "samples": [["  ooo  \n  ooo  \nooooooo\nooo.ooo\nooooooo\n  ooo  \n  ooo  ", "4"], ["  ooo  \n  ooo  \n..ooo..\noo...oo\n..ooo..\n  ooo  \n  ooo   ", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #1]  PEG", "background": "", "description": "给定一个 $7\\times 7$ 的矩阵，表示一个跳棋棋盘。\n\n其中，棋盘的第一二行和倒数第一二行的首位两列都是空格（如果不能理解可观察样例），其余格子 `o` 表示有棋子，`.` 表示没有。\n\n每次对于一个棋子，如果它的上、下、左、右有相邻的棋子，且那个方向棋子的另一面是个空格，那么它就可以跳过去，并把那一块被跳跃的棋子从棋盘上拿走，记为一次移动。\n\n请你求出这个棋盘最多能进行多少次移动。\n", "inputFormat": "输入一个棋盘。", "outputFormat": "输出最多能移动的次数。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T2 PEG***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #1]  PEG", "background": "", "description": "给定一个 $7\\times 7$ 的矩阵，表示一个跳棋棋盘。\n\n其中，棋盘的第一二行和倒数第一二行的首位两列都是空格（如果不能理解可观察样例），其余格子 `o` 表示有棋子，`.` 表示没有。\n\n每次对于一个棋子，如果它的上、下、左、右有相邻的棋子，且那个方向棋子的另一面是个空格，那么它就可以跳过去，并把那一块被跳跃的棋子从棋盘上拿走，记为一次移动。\n\n请你求出这个棋盘最多能进行多少次移动。\n", "inputFormat": "输入一个棋盘。", "outputFormat": "输出最多能移动的次数。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T2 PEG***", "locale": "zh-CN"}}}
{"pid": "P6332", "type": "P", "difficulty": 4, "samples": [["3\n2 6 16\n20 50", "49"], ["3\n2 6 16\n3 15", "11"], ["3\n2 6 16\n1 7", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "Special Judge", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #1] PRINOVA", "background": "", "description": "给定一个长度为 $n$ 的偶数序列 $p_1,\\dots,p_n$ 和两个整数 $A,B$，请你找出一个奇数 $X\\in [A,B]$，使得 $\\min{\\{|X-p_i|}\\}$ 最大。", "inputFormat": "输入第一行为一个整数 $n$，表示序列的长度。\n\n第二行 $n$ 个数 $p_1,\\dots,p_n$，描述这个偶数数列。\n\n第三行为两个整数 $A,B$，意义如题目描述所示。", "outputFormat": "输出一行一个整数，表示你的答案。\n\n**如果有多种答案，打印任意一种即可，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$2\\le p_i\\le 10^9$，$1\\le A,B \\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T3 PRINOVA***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #1] PRINOVA", "background": "", "description": "给定一个长度为 $n$ 的偶数序列 $p_1,\\dots,p_n$ 和两个整数 $A,B$，请你找出一个奇数 $X\\in [A,B]$，使得 $\\min{\\{|X-p_i|}\\}$ 最大。", "inputFormat": "输入第一行为一个整数 $n$，表示序列的长度。\n\n第二行 $n$ 个数 $p_1,\\dots,p_n$，描述这个偶数数列。\n\n第三行为两个整数 $A,B$，意义如题目描述所示。", "outputFormat": "输出一行一个整数，表示你的答案。\n\n**如果有多种答案，打印任意一种即可，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$2\\le p_i\\le 10^9$，$1\\le A,B \\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T3 PRINOVA***", "locale": "zh-CN"}}}
{"pid": "P6333", "type": "P", "difficulty": 5, "samples": [["6\n()()()", "1"], ["10\n(?([?)]?}?", "3"], ["16\n???[???????]????", "92202"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #1] ZAPIS", "background": "", "description": "定义一个规则括号序列如下：\n\n- 空串是规则括号序列。\n\n- 如果 A 是规则括号序列，那么 `(`A`)` `[`A`]` `{`A`}` 都是规则括号序列。\n\n- 如果 A,B 都是规则括号序列，那个序列 AB 也是规则括号序列。\n\nIvica 发现了一个长度为 $n$ 的疑似规则括号序列的串。但有一些字符已经模糊不清了，用 `?` 表示。\n\n他想请你帮忙计算有多少种可能的情况使得这个疑似的串为规则括号序列。", "inputFormat": "输入第一行为一个整数 $n$，表示这个疑似的串。\n\n第二行为 $n$ 个字符，可能为 `?` `{` `}` `[` `]` `(` `)`中的任何字符。", "outputFormat": "输出一行一个整数，表示情况的总数。因为答案可能很大，所以只需输出答案的 **后 $5$ 位**。（如果不足 $5$ 位不需要补前导 $0$）", "hint": "#### 样例 $2$ 解释\n\n所有可能的情况： `({([()])})` `()([()]{})` `([([])]{})`。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 200$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T4 ZAPIS***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #1] ZAPIS", "background": "", "description": "定义一个规则括号序列如下：\n\n- 空串是规则括号序列。\n\n- 如果 A 是规则括号序列，那么 `(`A`)` `[`A`]` `{`A`}` 都是规则括号序列。\n\n- 如果 A,B 都是规则括号序列，那个序列 AB 也是规则括号序列。\n\nIvica 发现了一个长度为 $n$ 的疑似规则括号序列的串。但有一些字符已经模糊不清了，用 `?` 表示。\n\n他想请你帮忙计算有多少种可能的情况使得这个疑似的串为规则括号序列。", "inputFormat": "输入第一行为一个整数 $n$，表示这个疑似的串。\n\n第二行为 $n$ 个字符，可能为 `?` `{` `}` `[` `]` `(` `)`中的任何字符。", "outputFormat": "输出一行一个整数，表示情况的总数。因为答案可能很大，所以只需输出答案的 **后 $5$ 位**。（如果不足 $5$ 位不需要补前导 $0$）", "hint": "#### 样例 $2$ 解释\n\n所有可能的情况： `({([()])})` `()([()]{})` `([([])]{})`。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 200$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T4 ZAPIS***", "locale": "zh-CN"}}}
{"pid": "P6334", "type": "P", "difficulty": 4, "samples": [["5 4\n1 2 3 4 5", "2"], ["6 3\n1 2 4 5 6 3", "1"], ["7 4\n5 7 2 4 3 1 6", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #1] SREDNJI", "background": "", "description": "给定一个长度为 $n$ 的 $1\\sim n$ 的排列 $a_1,\\dots ,a_n$，请你找出这个排列有多少个长度为奇数的**子串**的中位数为 $B$。\n\n- 子串定义：把这个排列从开头（可能无）和从结尾（可能无）分别删去一些数后得到的剩下的数列。\n\n- 中位数定义：将一个数列从小到大排序后排在中间的那个数字。", "inputFormat": "输入第一行为两个整数 $n,B$。\n\n第二行包含 $n$ 个整数，为一个 $1\\sim n$ 的排列。", "outputFormat": "输出中位数为 $B$ 的长度为奇数的子串的个数。", "hint": "#### 样例 $3$ 解释\n\n所有可能的情况： `4` `7 2 4` `5 7 2 4 3` `5 7 2 4 3 1 6`。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le B\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T5 SREDNJI***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #1] SREDNJI", "background": "", "description": "给定一个长度为 $n$ 的 $1\\sim n$ 的排列 $a_1,\\dots ,a_n$，请你找出这个排列有多少个长度为奇数的**子串**的中位数为 $B$。\n\n- 子串定义：把这个排列从开头（可能无）和从结尾（可能无）分别删去一些数后得到的剩下的数列。\n\n- 中位数定义：将一个数列从小到大排序后排在中间的那个数字。", "inputFormat": "输入第一行为两个整数 $n,B$。\n\n第二行包含 $n$ 个整数，为一个 $1\\sim n$ 的排列。", "outputFormat": "输出中位数为 $B$ 的长度为奇数的子串的个数。", "hint": "#### 样例 $3$ 解释\n\n所有可能的情况： `4` `7 2 4` `5 7 2 4 3` `5 7 2 4 3 1 6`。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le B\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T5 SREDNJI***", "locale": "zh-CN"}}}
{"pid": "P6335", "type": "P", "difficulty": 6, "samples": [["4 3\n1 2\n1 3\n2 4", "2"], ["6 6\n1 2\n1 3\n2 4\n3 4\n3 5\n5 6", "5"], ["5 6\n1 2\n2 3\n3 4\n4 5\n5 3\n3 1", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["动态规划 DP", "2007", "O2优化", "Tarjan", "双连通分量", "仙人掌", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #1] STAZA", "background": "", "description": "一场自行车比赛将在一个国家举行。全国的交通网络由 $n$ 个城市组成，编号为 $1\\sim n$，由 $m$ 条双向道路连接。我们定义以下术语：\n\n- 一条路线是一系列道路，当且仅当这些道路每条都从上一条道路的结束城市出发。\n\n- 一条简单路线是指一条不经过一个城市一次以上的道路。\n\n- 环是一条起点与终点相同的简单路线。\n\n对于任意两个城市之间，保证至少有一条路线，且每条整个交通系统中的每条道路最多是一个环的一部分。\n\n\n你的任务是找到满足以下两个约束条件的最长路线：\n\n- 路线可以从任何城市开始，但必须在城市 $1$ 结束。\n\n- 这条路线可以多次访问同一个城市，但不能经过同一条道路超过一次。\n\n请你输出最长的路线的长度。", "inputFormat": "输入第一行为两个整数 $n,m$，表示城市的数量和道路的数量。\n\n接下来的 $m$ 行，每行两个整数 $a,b$，描述一条连接 $a,b$ 的双向道路。\n\n保证不会出现两个城市直接由多条道路连接。", "outputFormat": "输出最长路线的长度。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^4$，$1\\le m\\le 2n-2$，$1\\le a,b\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T6 STAZA***", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #1] STAZA", "background": "", "description": "一场自行车比赛将在一个国家举行。全国的交通网络由 $n$ 个城市组成，编号为 $1\\sim n$，由 $m$ 条双向道路连接。我们定义以下术语：\n\n- 一条路线是一系列道路，当且仅当这些道路每条都从上一条道路的结束城市出发。\n\n- 一条简单路线是指一条不经过一个城市一次以上的道路。\n\n- 环是一条起点与终点相同的简单路线。\n\n对于任意两个城市之间，保证至少有一条路线，且每条整个交通系统中的每条道路最多是一个环的一部分。\n\n\n你的任务是找到满足以下两个约束条件的最长路线：\n\n- 路线可以从任何城市开始，但必须在城市 $1$ 结束。\n\n- 这条路线可以多次访问同一个城市，但不能经过同一条道路超过一次。\n\n请你输出最长的路线的长度。", "inputFormat": "输入第一行为两个整数 $n,m$，表示城市的数量和道路的数量。\n\n接下来的 $m$ 行，每行两个整数 $a,b$，描述一条连接 $a,b$ 的双向道路。\n\n保证不会出现两个城市直接由多条道路连接。", "outputFormat": "输出最长路线的长度。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^4$，$1\\le m\\le 2n-2$，$1\\le a,b\\le n$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #1](https://hsin.hr/coci/archive/2007_2008/contest1_tasks.pdf) *T6 STAZA***", "locale": "zh-CN"}}}
{"pid": "P6336", "type": "P", "difficulty": 1, "samples": [["0 1 2 2 2 7", "1 0 0 0 0 1"], ["2 1 2 1 2 1", "-1 0 0 1 0 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #2] BIJELE", "background": "Mirko 在阁楼发现了一套残缺的棋子。", "description": "对于一套正确的棋子，应该包含：\n\n- 一个国王；\n- 一个皇后；\n- 两个车；\n- 两个象；\n- 两个马；\n- 八个兵。\n\n现在给出这套残缺的棋子中每种棋子分别有多少个，请你求出需要如何添加或删除棋子来凑出完整的棋盘。", "inputFormat": "输入一行六个数，依次表示国王，皇后，车，象，马，兵的数量。这些数字都在 $0\\sim 10$ 之间（包含端点）。", "outputFormat": "输出一行六个数，依次表示国王，皇后，车，象，马，兵需要添加或删除的数量。用正数来表示添加，用负数来表示删除。", "hint": "\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T1 BIJELE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #2] BIJELE", "background": "Mirko 在阁楼发现了一套残缺的棋子。", "description": "对于一套正确的棋子，应该包含：\n\n- 一个国王；\n- 一个皇后；\n- 两个车；\n- 两个象；\n- 两个马；\n- 八个兵。\n\n现在给出这套残缺的棋子中每种棋子分别有多少个，请你求出需要如何添加或删除棋子来凑出完整的棋盘。", "inputFormat": "输入一行六个数，依次表示国王，皇后，车，象，马，兵的数量。这些数字都在 $0\\sim 10$ 之间（包含端点）。", "outputFormat": "输出一行六个数，依次表示国王，皇后，车，象，马，兵需要添加或删除的数量。用正数来表示添加，用负数来表示删除。", "hint": "\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T1 BIJELE***。", "locale": "zh-CN"}}}
{"pid": "P6337", "type": "P", "difficulty": 1, "samples": [["1", "2"], ["3", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #2] CRNE", "background": "", "description": "在一个矩形棋盘上，切与矩形的边平行的 $n$ 次，问最多棋盘能被切成多少块？", "inputFormat": "输入一行一个整数 $n$。", "outputFormat": "输出一行一个整数表示棋盘最多被分成的块数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T2 CRNE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #2] CRNE", "background": "", "description": "在一个矩形棋盘上，切与矩形的边平行的 $n$ 次，问最多棋盘能被切成多少块？", "inputFormat": "输入一行一个整数 $n$。", "outputFormat": "输出一行一个整数表示棋盘最多被分成的块数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T2 CRNE***。", "locale": "zh-CN"}}}
{"pid": "P6338", "type": "P", "difficulty": 1, "samples": [["4 4\nluka\no#a#\nkula\ni#a#", "kala"], ["4 4\nluka\no#a#\nkula\ni#as", "as"], ["4 5\nadaca\nda##b\nabb#b\nabbac", "abb"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #2] PRVA", "background": "", "description": "给定一个 $r\\times c$ 的符号方阵组成的填词游戏，里面由小写字母和 `#` 组成。\n\n一个单词指的是在方阵中从左到右或从上到下把经过的字母依次相连（不得包含 `#`）形成的字母串。不一定要整行或整列都包含，且这个字母串的长度至少为 $2$。对于竖向的单词，头尾的上方或者下方要么顶着 `#`，要么处于边界；横向单词的左右也需要符合这个要求。\n\n请你求出字典序最小的单词。", "inputFormat": "输入第一行为两个整数 $r,c$，表示方阵的行数和列数。\n\n接下来的 $r$ 行，每行 $c$ 个字符，描述这个方阵。", "outputFormat": "输出一行若干个字母，表示字典序最小的单词。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le r,c\\le 20$。\n\n#### 说明\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T3 PRVA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #2] PRVA", "background": "", "description": "给定一个 $r\\times c$ 的符号方阵组成的填词游戏，里面由小写字母和 `#` 组成。\n\n一个单词指的是在方阵中从左到右或从上到下把经过的字母依次相连（不得包含 `#`）形成的字母串。不一定要整行或整列都包含，且这个字母串的长度至少为 $2$。对于竖向的单词，头尾的上方或者下方要么顶着 `#`，要么处于边界；横向单词的左右也需要符合这个要求。\n\n请你求出字典序最小的单词。", "inputFormat": "输入第一行为两个整数 $r,c$，表示方阵的行数和列数。\n\n接下来的 $r$ 行，每行 $c$ 个字符，描述这个方阵。", "outputFormat": "输出一行若干个字母，表示字典序最小的单词。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le r,c\\le 20$。\n\n#### 说明\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T3 PRVA***。", "locale": "zh-CN"}}}
{"pid": "P6339", "type": "P", "difficulty": 4, "samples": [["3\n2\n1\n3", "1\n0\n0"], ["5\n5\n4\n3\n2\n1", "4\n3\n2\n1\n0"], ["7\n5\n4\n3\n7\n1\n2\n6", "4\n2\n3\n0\n2\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #2] TURBO", "background": "", "description": "给定一个长度为 $n$ 的 $1\\sim n$ 的排列，你需要对其进行从小到大的排序，排序的规则如下：\n\n- 第一个阶段，将数字 $1$  通过与和它相邻的数字的交换来放置到 $1$ 号下标上。\n- 第二个阶段，将数字 $n$ 进行如上同样的操作来放置到 $n$ 号下标上。\n- 第三个阶段，将数字 $2$ 进行如上同样的操作来放置到 $2$ 号下标上。\n- 第四个阶段，将数字 $n-1$ 进行如上同样的操作来放置到 $n-1$ 号下标上。\n\n以此类推。\n\n对于每一个阶段，输出交换的次数。\n", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行一个整数。描述了一个 $1\\sim n$ 的排列。", "outputFormat": "输出共 $n$ 行，对于每个阶段，输出交换的次数。", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $n<100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T4 TURBO***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #2] TURBO", "background": "", "description": "给定一个长度为 $n$ 的 $1\\sim n$ 的排列，你需要对其进行从小到大的排序，排序的规则如下：\n\n- 第一个阶段，将数字 $1$  通过与和它相邻的数字的交换来放置到 $1$ 号下标上。\n- 第二个阶段，将数字 $n$ 进行如上同样的操作来放置到 $n$ 号下标上。\n- 第三个阶段，将数字 $2$ 进行如上同样的操作来放置到 $2$ 号下标上。\n- 第四个阶段，将数字 $n-1$ 进行如上同样的操作来放置到 $n-1$ 号下标上。\n\n以此类推。\n\n对于每一个阶段，输出交换的次数。\n", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行一个整数。描述了一个 $1\\sim n$ 的排列。", "outputFormat": "输出共 $n$ 行，对于每个阶段，输出交换的次数。", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $n<100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T4 TURBO***。", "locale": "zh-CN"}}}
{"pid": "P6340", "type": "P", "difficulty": 5, "samples": [["3\n5\n5\n5", "2\n1\n2"], ["4\n20\n15\n17\n14", "5\n8\n2\n7"], ["5\n7\n8\n9\n10\n11", "4\n1\n3\n5\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["数学", "2007", "Special Judge", "构造", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #2] KEMIJA", "background": "", "description": "请你构造一个由 $n$ 个数字围成的环，使得环中的所有数都加上其相邻两个数之后的结果等于给定的目标环。", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行一个整数，表示给定的目标环。", "outputFormat": "输出共 $n$ 行，每行一个整数。描述你构造的环。\n\n**可能存在多种构造方法，本题使用SPJ。**", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $n<100$。\n- 对于 $100\\%$ 的数据，保证 $3\\le n\\le 10^4$，给定的目标环中的数字不超过 $10^9$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T5 KEMIJA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #2] KEMIJA", "background": "", "description": "请你构造一个由 $n$ 个数字围成的环，使得环中的所有数都加上其相邻两个数之后的结果等于给定的目标环。", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行一个整数，表示给定的目标环。", "outputFormat": "输出共 $n$ 行，每行一个整数。描述你构造的环。\n\n**可能存在多种构造方法，本题使用SPJ。**", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $n<100$。\n- 对于 $100\\%$ 的数据，保证 $3\\le n\\le 10^4$，给定的目标环中的数字不超过 $10^9$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T5 KEMIJA***。", "locale": "zh-CN"}}}
{"pid": "P6341", "type": "P", "difficulty": 2, "samples": [["3\n4 2\n2 1\n1 3", "1"], ["4\n5 0\n2 6\n8 6\n5 7", "0"], ["5\n-1 1\n-1 0\n0 0\n1 0\n1 1", "7"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #2]  PRAVOKUTNI", "background": "", "description": "给出平面内的 $n$ 个点，计算有多少不同的直角三角形，满足其顶点均为给出的点。\n\n两个直角三角形不同当且仅当它们存在至少一个顶点不同。", "inputFormat": "输入第一行包含一个整数 $n$，表示点的数量。\n\n接下来的 $n$ 行，每行两个整数，表示一个点的坐标。\n\n", "outputFormat": "输出直角三角形的数量。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 1500$，坐标的数值在 $-10^9$ 和 $10^9$ 之间，且不存在任何两个点的坐标相同。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T6  PRAVOKUTNI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #2]  PRAVOKUTNI", "background": "", "description": "给出平面内的 $n$ 个点，计算有多少不同的直角三角形，满足其顶点均为给出的点。\n\n两个直角三角形不同当且仅当它们存在至少一个顶点不同。", "inputFormat": "输入第一行包含一个整数 $n$，表示点的数量。\n\n接下来的 $n$ 行，每行两个整数，表示一个点的坐标。\n\n", "outputFormat": "输出直角三角形的数量。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $3\\le n\\le 1500$，坐标的数值在 $-10^9$ 和 $10^9$ 之间，且不存在任何两个点的坐标相同。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #2](https://hsin.hr/coci/archive/2007_2008/contest2_tasks.pdf) *T6  PRAVOKUTNI***。", "locale": "zh-CN"}}}
{"pid": "P6342", "type": "P", "difficulty": 5, "samples": [["2", "4 5\n1 2\n2 1\n3 4\n4 3\n1 4"], ["6", "4 4\n1 2\n2 3\n3 4\n4 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2017", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2017] Vera 与道路建设", "background": "", "description": "Vera 喜欢远足，因此她要建立自己的公路网。公路网包含 $v$ 个地点，这些地点分别编号为 $1,2,...,v$。公路网由 $e$ 条连接 $a_i$ 和 $b_i$ 的双向道路组成。保证图联通，允许有重边。\n\nVera 认为满足先从 $a$ 走到 $b$ 然后再回到 $a$，使得每条道路被通过不超过一次且满足 $a < b$ 的两个地点 $a,b$ 是一对 **完美点对**。她认为如果公路网恰好包含 $k$ 个完美点对，那么她的公路网就是美丽的。\n\n给定 $k$，帮 Vera 找到美丽公路网。", "inputFormat": "输入只有一行，为一个整数 $k$。", "outputFormat": "按照以下格式输出一个美丽公路网：\n\n- 第一行为顶点的数量 $v$ 与边数 $e$；\n\n- 下面的 $e$ 行每行应包含代表从 $a_i$ 至 $b_i$ 有一条边的两个整数 $a_i$ 与 $b_i$（$1 \\le i \\le e$）。\n\n道路的输出顺序无关紧要。如果有多个美丽公路网，你可以输出它们中的任意一个。", "hint": "#### 样例解释\n\n对于样例 $1$，完美点对为 `1,2` 和 `3,4`。\n\n对于样例 $2$，每个点对都是完美点对。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（12 points）：$0 \\le k \\le 10^3$；\n- Subtask 2（24 points）：$0 \\le k \\le 10^5$；\n- Subtask 3（64 points）：$0 \\le k \\le 10^7$。\n\n对于全部的测试点，保证 $0 \\le k \\le 10^7$，$1 \\le v,e \\le 5 \\times 10^3$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Trail Building](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2750)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] Vera 与道路建设", "background": "", "description": "Vera 喜欢远足，因此她要建立自己的公路网。公路网包含 $v$ 个地点，这些地点分别编号为 $1,2,...,v$。公路网由 $e$ 条连接 $a_i$ 和 $b_i$ 的双向道路组成。保证图联通，允许有重边。\n\nVera 认为满足先从 $a$ 走到 $b$ 然后再回到 $a$，使得每条道路被通过不超过一次且满足 $a < b$ 的两个地点 $a,b$ 是一对 **完美点对**。她认为如果公路网恰好包含 $k$ 个完美点对，那么她的公路网就是美丽的。\n\n给定 $k$，帮 Vera 找到美丽公路网。", "inputFormat": "输入只有一行，为一个整数 $k$。", "outputFormat": "按照以下格式输出一个美丽公路网：\n\n- 第一行为顶点的数量 $v$ 与边数 $e$；\n\n- 下面的 $e$ 行每行应包含代表从 $a_i$ 至 $b_i$ 有一条边的两个整数 $a_i$ 与 $b_i$（$1 \\le i \\le e$）。\n\n道路的输出顺序无关紧要。如果有多个美丽公路网，你可以输出它们中的任意一个。", "hint": "#### 样例解释\n\n对于样例 $1$，完美点对为 `1,2` 和 `3,4`。\n\n对于样例 $2$，每个点对都是完美点对。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（12 points）：$0 \\le k \\le 10^3$；\n- Subtask 2（24 points）：$0 \\le k \\le 10^5$；\n- Subtask 3（64 points）：$0 \\le k \\le 10^7$。\n\n对于全部的测试点，保证 $0 \\le k \\le 10^7$，$1 \\le v,e \\le 5 \\times 10^3$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Trail Building](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2750)。", "locale": "zh-CN"}}}
{"pid": "P6343", "type": "P", "difficulty": 6, "samples": [["10 6", "5 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2017", "CCO（加拿大）"], "title": "[CCO 2017] 矩形帝国的霸业", "background": "", "description": "很久很久以前，矩形帝国统治了笛卡尔大陆。帝国繁荣昌盛，在无尽的战争与征服之中，帝国的土地一天天扩大。\n\n矩形帝国实行 **矩形区域制**。这些地区都满足三个特殊标准。\n\n1. 帝国的领土被划分为各个地区，且每一片土地属于且只属于一个地区；\n\n2. 在地图上观察时，每个区域的形状必须是矩形且长边的长度是短边长度的两倍；\n\n3. 区域各边的长度必须是整数，以 $Ξ$ 为单位（$Ξ$ 是矩形帝国的计量单位）。\n\n帝国最初建立的时候，它由一个单一的区域组成。从那时起，为了扩充疆域，帝国会不断征服邻近区域。每当帝国控制一个新的区域时，他们总是建立一个独立的新区域，新区占用刚获得的全部土地。这意味的帝国只在乎他们想要征服的土地的几何属性。你可以假设没有两次征服出现在同一个地方。\n\n帝国只能通过增加新区来扩充疆域。此外，每个地区一旦添加，就不会被修改或和另外一个合并。\n\n矩形帝国的最后一个标准，是确保帝国的整体形状是一个矩形。不过，大矩形的长宽比可以不满足 $2:1$。\n\n帝国的长度是 $n$，宽度是 $m$（以 $Ξ$ 为单位）。你的任务是估计在 $n \\times m$ 的大小下帝国的区域数。在所有可能的情况下，帝国的最小区域数和最大区域数分别是什么？", "inputFormat": "输入只有一行两个整数，分别为 $n,m$。", "outputFormat": "输出只有一行两个整数，第一个是最小的区域数，第二个是最大的区域数。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gskw7c28.png)\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$1 \\le n,m \\le 10^3$；\n- Subtask 2（32 points）：$1 \\le n,m \\le 10^6$；\n- Subtask 3（48 points）：$1 \\le n,m \\le 10^8$。\n\n对于全部的测试点，保证 $1 \\le n,m \\le 10^8$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Cartesian Conquest](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2751)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 矩形帝国的霸业", "background": "", "description": "很久很久以前，矩形帝国统治了笛卡尔大陆。帝国繁荣昌盛，在无尽的战争与征服之中，帝国的土地一天天扩大。\n\n矩形帝国实行 **矩形区域制**。这些地区都满足三个特殊标准。\n\n1. 帝国的领土被划分为各个地区，且每一片土地属于且只属于一个地区；\n\n2. 在地图上观察时，每个区域的形状必须是矩形且长边的长度是短边长度的两倍；\n\n3. 区域各边的长度必须是整数，以 $Ξ$ 为单位（$Ξ$ 是矩形帝国的计量单位）。\n\n帝国最初建立的时候，它由一个单一的区域组成。从那时起，为了扩充疆域，帝国会不断征服邻近区域。每当帝国控制一个新的区域时，他们总是建立一个独立的新区域，新区占用刚获得的全部土地。这意味的帝国只在乎他们想要征服的土地的几何属性。你可以假设没有两次征服出现在同一个地方。\n\n帝国只能通过增加新区来扩充疆域。此外，每个地区一旦添加，就不会被修改或和另外一个合并。\n\n矩形帝国的最后一个标准，是确保帝国的整体形状是一个矩形。不过，大矩形的长宽比可以不满足 $2:1$。\n\n帝国的长度是 $n$，宽度是 $m$（以 $Ξ$ 为单位）。你的任务是估计在 $n \\times m$ 的大小下帝国的区域数。在所有可能的情况下，帝国的最小区域数和最大区域数分别是什么？", "inputFormat": "输入只有一行两个整数，分别为 $n,m$。", "outputFormat": "输出只有一行两个整数，第一个是最小的区域数，第二个是最大的区域数。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gskw7c28.png)\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$1 \\le n,m \\le 10^3$；\n- Subtask 2（32 points）：$1 \\le n,m \\le 10^6$；\n- Subtask 3（48 points）：$1 \\le n,m \\le 10^8$。\n\n对于全部的测试点，保证 $1 \\le n,m \\le 10^8$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Cartesian Conquest](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2751)。", "locale": "zh-CN"}}}
{"pid": "P6344", "type": "P", "difficulty": 5, "samples": [["5 6\n1 2 1\n3 4 2\n4 5 3\n6 3 4\n7 1 5\n2 6\n7 8\n5 9\n11 2\n10 7\n4 5", "1\n8\n0\n6\n4\n3"]], "limits": {"time": [12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "CCO（加拿大）"], "title": "[CCO 2017] Vera 与现代艺术", "background": "", "description": "在受到大画家毕加索的启发后，Vera 决定创造她的杰作。她有一张可以被简化成无限大的二维平面的画布。Vera 喜欢 $2$ 的整数次幂 $(1,2,4,8,16,...)$，并且将以 $2$ 的整数幂为步长给一些点染色。\n\nVera 将会染 $n$ 次，第 $i$ 次染色可以用三个整数 $x_i,y_i,v_i$ 描述。令 $a_i$ 为最大的不大于 $x_i$ 的 $2$ 的整数次幂，$b_i$ 为最大的不大于 $y_i$ 的 $2$ 的整数次幂，Vera 会用第 $v_i$ 种颜色在所有坐标满足 $(x_i+a_ip,y_i+b_iq)$ 的点上染色（ $p,q$ 为非负整数）。一个点可以被不同的颜色分别染多次，也可以被同种颜色重复染多次，一个点的颜色为所有染过这个点的颜色之和。\n\n接下来 Vera 将提出 $Q$ 个问题。对于第 $j$ 个问题，她希望知道坐标为 $(r_j,c_j)$ 的点是什么颜色。如果一个点没有被染过色，这个点的颜色就为 $0$。\n\n因为你被迫做 Vera 的助手，你不得不回答 Vera 的问题。", "inputFormat": "第一行包括两个整数 $n,Q$，用一个空格分隔。\n\n接下来 $n$ 行，每行三个空格隔开的整数 $x_i,y_i,v_i$，表示用第 $v_i$ 种颜色进行题目中的染色操作，参数为 $x_i$ 和 $y_i$。\n\n再接下来 $Q$ 行，每行两个空格隔开的整数 $r_j,c_j$，表示询问点 $(r_j,c_j)$ 的颜色。", "outputFormat": "输出共有 $Q$ 行，每行一个整数，第 $j$ 行的整数表示点 $(r_j,c_j)$ 的颜色。", "hint": "#### 样例解释\n\n令颜色 $1,2,3,4,5$ 分别为红色、蓝色、绿色、橙色和紫色。\n\n令 $p,q$ 为非负整数，则：\n\n- 坐标为 $(1+p,2+2q)$ 的点被染成了红色；\n- 坐标为 $(3+2p,4+4q)$ 的点被染成了蓝色；\n- 坐标为 $(4+4p,5+4q)$ 的点被染成了绿色；\n- 坐标为 $(6+4p,3+2q)$ 的点被染成了橙色；\n- 坐标为 $(7+4p,1+q)$ 的点被染成了紫色；\n\n从 $(0,0)$ 到 $(11,11)$ 的坐标纸如图所示：\n\n我们可以发现：\n\n- $(2,6)$ 被染成了红色，所以它的颜色为 $1$；\n- $(7,8)$ 被染成了红色、蓝色和紫色，所以它的颜色为 $1+2+5=8$；\n- $(5,9)$ 没有被染色，所以它的颜色为 $0$；\n- $(11,2)$ 被染成了红色和紫色，所以它的颜色为 $1+5=6$；\n- $(10,7)$ 被染成了橙色，所以它的颜色为 $4$；\n- $(4,5)$ 被染成了绿色，所以它的颜色为 $3$。\n\n![](https://i.loli.net/2018/08/08/5b6af80174186.png)\n\n#### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^3$ ；\n- 对于另外 $20\\%$ 的数据，$y_i = 1(1 \\le i \\le n)$；\n- 对于另外 $20\\%$ 的数据，$1 \\le n,Q \\le 10^5$ 且 $1 \\le r_j,c_j \\le 10^9(1 \\le j \\le Q)$。\n- 对于 $100\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^5$，$1 \\le i \\le n$，$1 \\le v_i \\le 10^4$，$1 \\le x_i,y_i,r_j,c_j  \\le 10^{18}$，$1 \\le j \\le Q$。\n\n由于评测机原因，该题只保留最后 $10$ 个数据。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Modern Art](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2752)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] Vera 与现代艺术", "background": "", "description": "在受到大画家毕加索的启发后，Vera 决定创造她的杰作。她有一张可以被简化成无限大的二维平面的画布。Vera 喜欢 $2$ 的整数次幂 $(1,2,4,8,16,...)$，并且将以 $2$ 的整数幂为步长给一些点染色。\n\nVera 将会染 $n$ 次，第 $i$ 次染色可以用三个整数 $x_i,y_i,v_i$ 描述。令 $a_i$ 为最大的不大于 $x_i$ 的 $2$ 的整数次幂，$b_i$ 为最大的不大于 $y_i$ 的 $2$ 的整数次幂，Vera 会用第 $v_i$ 种颜色在所有坐标满足 $(x_i+a_ip,y_i+b_iq)$ 的点上染色（ $p,q$ 为非负整数）。一个点可以被不同的颜色分别染多次，也可以被同种颜色重复染多次，一个点的颜色为所有染过这个点的颜色之和。\n\n接下来 Vera 将提出 $Q$ 个问题。对于第 $j$ 个问题，她希望知道坐标为 $(r_j,c_j)$ 的点是什么颜色。如果一个点没有被染过色，这个点的颜色就为 $0$。\n\n因为你被迫做 Vera 的助手，你不得不回答 Vera 的问题。", "inputFormat": "第一行包括两个整数 $n,Q$，用一个空格分隔。\n\n接下来 $n$ 行，每行三个空格隔开的整数 $x_i,y_i,v_i$，表示用第 $v_i$ 种颜色进行题目中的染色操作，参数为 $x_i$ 和 $y_i$。\n\n再接下来 $Q$ 行，每行两个空格隔开的整数 $r_j,c_j$，表示询问点 $(r_j,c_j)$ 的颜色。", "outputFormat": "输出共有 $Q$ 行，每行一个整数，第 $j$ 行的整数表示点 $(r_j,c_j)$ 的颜色。", "hint": "#### 样例解释\n\n令颜色 $1,2,3,4,5$ 分别为红色、蓝色、绿色、橙色和紫色。\n\n令 $p,q$ 为非负整数，则：\n\n- 坐标为 $(1+p,2+2q)$ 的点被染成了红色；\n- 坐标为 $(3+2p,4+4q)$ 的点被染成了蓝色；\n- 坐标为 $(4+4p,5+4q)$ 的点被染成了绿色；\n- 坐标为 $(6+4p,3+2q)$ 的点被染成了橙色；\n- 坐标为 $(7+4p,1+q)$ 的点被染成了紫色；\n\n从 $(0,0)$ 到 $(11,11)$ 的坐标纸如图所示：\n\n我们可以发现：\n\n- $(2,6)$ 被染成了红色，所以它的颜色为 $1$；\n- $(7,8)$ 被染成了红色、蓝色和紫色，所以它的颜色为 $1+2+5=8$；\n- $(5,9)$ 没有被染色，所以它的颜色为 $0$；\n- $(11,2)$ 被染成了红色和紫色，所以它的颜色为 $1+5=6$；\n- $(10,7)$ 被染成了橙色，所以它的颜色为 $4$；\n- $(4,5)$ 被染成了绿色，所以它的颜色为 $3$。\n\n![](https://i.loli.net/2018/08/08/5b6af80174186.png)\n\n#### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^3$ ；\n- 对于另外 $20\\%$ 的数据，$y_i = 1(1 \\le i \\le n)$；\n- 对于另外 $20\\%$ 的数据，$1 \\le n,Q \\le 10^5$ 且 $1 \\le r_j,c_j \\le 10^9(1 \\le j \\le Q)$。\n- 对于 $100\\%$ 的数据，$1 \\le n,Q \\le 2 \\times 10^5$，$1 \\le i \\le n$，$1 \\le v_i \\le 10^4$，$1 \\le x_i,y_i,r_j,c_j  \\le 10^{18}$，$1 \\le j \\le Q$。\n\n由于评测机原因，该题只保留最后 $10$ 个数据。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/index.html) Day1「[Vera and Modern Art](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day1.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2752)。", "locale": "zh-CN"}}}
{"pid": "P6345", "type": "P", "difficulty": 6, "samples": [["5\n1 5 2 1 4", "0 1 2 3 4 5 6 8 "], ["5\n5 1 5 1 5", "0 4 8"], ["5\n5 1 4 1 5", "0 1 3 4 5 6 7 8 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2017", "CCO（加拿大）", "bitset"], "title": "[CCO 2017] 接雨滴", "background": "", "description": "晚上，夜黑风高，大雨疯狂地从天而降。\n\nLucy 想要接住一些雨滴，但她只有有限的工具。她有一套不同高度的柱子来接住雨滴。每根柱子的高度为整数，宽度为 $1$。她排列好柱子之后，就会用其他器具夹紧柱子，来让雨滴顺利地储存在柱子的间隙里。你可以认为雨滴的数量是无限的。\n\n举个例子，如果 Lucy 有高度分别为 $(1,5,2,1,4)$ 的五根柱子，她可以这样排列柱子。\n\n```\n *   \n *  *\n *  *\n ** *\n*****\n```\n\n这样会接住 $5r$ 雨滴（$r$ 代表 $1$ 个单位的雨滴）。\n\n**为了方便表述，我们定义 $r$ 为雨滴的单位。**\n\n```\n *   \n *RR*\n *RR*\n **R*\n*****\n```\n\n当然了，她也可以这样摆放柱子，这样可以接住 $6r$ 雨滴。\n\n```\n *   \n *RR*\n *RR*\n**RR*\n*****\n```\n\n再举一个例子，如果柱子的高度分别为 $(5,1,5,1,5)$，Lucy 可以接住 $8r$ 雨滴。\n\n```\n*R*R*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\n最后一个例子，如果柱子的高度分别为 $(5,1,4,1,5)$，她可以接住 $9r$ 雨滴。\n\n```\n*RRR*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\nLucy 有 $n$ 个高度为 $h_1,h_2,...,h_n$ 的柱子。她想知道，在所有可能的摆放方案中，所有可能的雨滴量（以 $r$ 为单位）是多少。（具体可看样例解释）", "inputFormat": "第一行有一个整数 $n$，表示柱子的个数；\n\n第二行包含 $n$ 个整数 $h_i$，表示柱子的高度 。", "outputFormat": "输出只有一行，把所有可能接住的雨滴数量（以 $r$ 为单位）按照升序输出。", "hint": "#### 样例解释\n\n参见上文的三个例子。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\le 10$；\n- Subtask 2（40 points）：$2 \\le n \\le 50$；\n- Subtask 3（40 points）：$2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n对于全部的测试点，保证 $2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Rainfall Capture](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2753)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 接雨滴", "background": "", "description": "晚上，夜黑风高，大雨疯狂地从天而降。\n\nLucy 想要接住一些雨滴，但她只有有限的工具。她有一套不同高度的柱子来接住雨滴。每根柱子的高度为整数，宽度为 $1$。她排列好柱子之后，就会用其他器具夹紧柱子，来让雨滴顺利地储存在柱子的间隙里。你可以认为雨滴的数量是无限的。\n\n举个例子，如果 Lucy 有高度分别为 $(1,5,2,1,4)$ 的五根柱子，她可以这样排列柱子。\n\n```\n *   \n *  *\n *  *\n ** *\n*****\n```\n\n这样会接住 $5r$ 雨滴（$r$ 代表 $1$ 个单位的雨滴）。\n\n**为了方便表述，我们定义 $r$ 为雨滴的单位。**\n\n```\n *   \n *RR*\n *RR*\n **R*\n*****\n```\n\n当然了，她也可以这样摆放柱子，这样可以接住 $6r$ 雨滴。\n\n```\n *   \n *RR*\n *RR*\n**RR*\n*****\n```\n\n再举一个例子，如果柱子的高度分别为 $(5,1,5,1,5)$，Lucy 可以接住 $8r$ 雨滴。\n\n```\n*R*R*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\n最后一个例子，如果柱子的高度分别为 $(5,1,4,1,5)$，她可以接住 $9r$ 雨滴。\n\n```\n*RRR*\n*R*R*\n*R*R*\n*R*R*\n*****\n```\n\nLucy 有 $n$ 个高度为 $h_1,h_2,...,h_n$ 的柱子。她想知道，在所有可能的摆放方案中，所有可能的雨滴量（以 $r$ 为单位）是多少。（具体可看样例解释）", "inputFormat": "第一行有一个整数 $n$，表示柱子的个数；\n\n第二行包含 $n$ 个整数 $h_i$，表示柱子的高度 。", "outputFormat": "输出只有一行，把所有可能接住的雨滴数量（以 $r$ 为单位）按照升序输出。", "hint": "#### 样例解释\n\n参见上文的三个例子。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\le 10$；\n- Subtask 2（40 points）：$2 \\le n \\le 50$；\n- Subtask 3（40 points）：$2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n对于全部的测试点，保证 $2 \\le n \\le 500$，$1 \\le h_i \\le 50$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Rainfall Capture](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2753)。", "locale": "zh-CN"}}}
{"pid": "P6346", "type": "P", "difficulty": 6, "samples": [["4\n3 3\n1 2\n0 5\n3 4", "3"], ["5\n0 9\n1 8\n2 7\n3 6\n4 5", "0"], ["3\n0 6\n2 7\n3 8", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "CCO（加拿大）"], "title": "[CCO 2017] 专业网络", "background": "", "description": "Kevin 正在一个社区中开发他的专业网络。不幸的是，他是个外地人，还不认识社区中的任何人。但是他可以与 $n$ 个人建立朋友关系 。\n\n然而，社区里没几个人想与一个外地人交朋友。Kevin 想交朋友的 $n$ 个人都有类似但不同的与外地人交友的准则。在 Kevin 已经直接认识了社区中的 $a_i$ 个人后，第 $i$ 个人就愿意与 Kevin 交朋友了，否则 Kevin 就要付出 $b_i$ 的代价与他成为朋友。\n\n你的任务是，使 Kevin 与这 $n$ 个人都交上朋友，并且最小化他付出的代价。", "inputFormat": "第一行包含一个整数 $n$。\n\n接下来的 $n$ 行，每行包含两个整数 $a_i,b_i$。", "outputFormat": "输出一行一个整数，表示 Kevin 付出的最小代价。", "hint": "#### 样例解释\n\n对于样例 $1$：Kevin 可以立即与 $3$ 号人成为朋友，因为已经建立了这个朋友关系，他也能与 $2$ 号人成为朋友。他需要付出 $3$ 的代价与 $1$ 号人成为朋友，这样他一共有 $3$ 个朋友，使得他能与 $4$ 号人成为朋友。\n\n对于样例 $2$：Kevin 不用付出任何代价就能和所有人成为朋友。\n\n对于样例 $3$：Kevin 应该立即与 $1$ 号人成为朋友，然后付出 $8$ 的代价与 $3$ 号人成为朋友， 最后与 $2$ 号人建立朋友关系。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $4$ 个子任务。**\n\n- Subtask 1（15 points）：所有的 $b_i$ 都等于 $1$；\n- Subtask 2（30 points）：$1 \\le n \\le 10$；\n- Subtask 3（30 points）：$1 \\le n \\le 10^3$。\n- Subtask 4（25 points）：$1 \\le n \\le 2 \\times 10^5$。\n\n对于全部的测试点，保证 $1 \\le n \\le 2 \\times 10^5$，$1 \\le i \\le n$，$0 \\le a_i \\le n$，$0 \\le b_i \\le 10^4$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Professional Network](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2754)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 专业网络", "background": "", "description": "Kevin 正在一个社区中开发他的专业网络。不幸的是，他是个外地人，还不认识社区中的任何人。但是他可以与 $n$ 个人建立朋友关系 。\n\n然而，社区里没几个人想与一个外地人交朋友。Kevin 想交朋友的 $n$ 个人都有类似但不同的与外地人交友的准则。在 Kevin 已经直接认识了社区中的 $a_i$ 个人后，第 $i$ 个人就愿意与 Kevin 交朋友了，否则 Kevin 就要付出 $b_i$ 的代价与他成为朋友。\n\n你的任务是，使 Kevin 与这 $n$ 个人都交上朋友，并且最小化他付出的代价。", "inputFormat": "第一行包含一个整数 $n$。\n\n接下来的 $n$ 行，每行包含两个整数 $a_i,b_i$。", "outputFormat": "输出一行一个整数，表示 Kevin 付出的最小代价。", "hint": "#### 样例解释\n\n对于样例 $1$：Kevin 可以立即与 $3$ 号人成为朋友，因为已经建立了这个朋友关系，他也能与 $2$ 号人成为朋友。他需要付出 $3$ 的代价与 $1$ 号人成为朋友，这样他一共有 $3$ 个朋友，使得他能与 $4$ 号人成为朋友。\n\n对于样例 $2$：Kevin 不用付出任何代价就能和所有人成为朋友。\n\n对于样例 $3$：Kevin 应该立即与 $1$ 号人成为朋友，然后付出 $8$ 的代价与 $3$ 号人成为朋友， 最后与 $2$ 号人建立朋友关系。\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $4$ 个子任务。**\n\n- Subtask 1（15 points）：所有的 $b_i$ 都等于 $1$；\n- Subtask 2（30 points）：$1 \\le n \\le 10$；\n- Subtask 3（30 points）：$1 \\le n \\le 10^3$。\n- Subtask 4（25 points）：$1 \\le n \\le 2 \\times 10^5$。\n\n对于全部的测试点，保证 $1 \\le n \\le 2 \\times 10^5$，$1 \\le i \\le n$，$0 \\le a_i \\le n$，$0 \\le b_i \\le 10^4$。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Professional Network](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2754)。", "locale": "zh-CN"}}}
{"pid": "P6347", "type": "P", "difficulty": 6, "samples": [["2 4\n4 2 3 0\n1 5 6 7", "2\n2 1 1\n1 1 1"], ["4 2\n2 3\n5 0\n4 1\n6 7", "7\n1 1 1\n2 1 1\n1 2 1\n1 3 1\n2 1 2\n1 1 1\n2 1 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2017] 移动数组", "background": "", "description": "给你一个二维数组。我们只能通过 **移动(Shift)** 操作来改动这个数组。一次移动操作可以将一行元素向左（或向右）移几个单位；或将一列元素向上（或向下）移几个单位。如果被移动的元素越界，则将越界元素移动到该行或列的另一侧。\n\n举个例子：\n\n```\n0 1 2 3\n4 5 6 7\n8 9 10 11\n12 13 14 15\n```\n\n将第二列向下移动 $1$ 个单位（或向上移动 $3$ 个单位），二维数组将会变成这样：\n\n```\n0 13 2 3\n4 1 6 7\n8 5 10 11\n12 9 14 15\n```\n\n一次移动 $k$ 个单位的 **左移** 操作等价于移动 $n-k$ 个单位的 **右移** 操作。在列上的变换同样。\n\n因此，我们规定只有 **下移** 和 **右移** 操作。\n\n在一个 $n \\times m$ 的二维数组中，所有的数各不相同，且 $Num_{ij} \\in [0,n-1]$（规定第 $i$ 行 $j$ 列的数编号为 $Num_{ij}$）。\n\n在第一个例子中，我们给你的二维数组非常 **和谐**，我们叫它 **和谐数组 (Solved)**。一个二维数组当且仅当第一行的元素按照升序编号分别为从 $0$ 到 $m-1$，第二行元素为从 $m$ 到 $2m-1$，以此类推时，我们称它为 **和谐数组**。\n\n你的任务是找到一系列的操作，使得二维数组变成 **和谐数组**。", "inputFormat": "第一行为两个整数 $n,m$；\n\n下面的 $n$ 行将会包含 $m$ 个代表二维数组的正整数。", "outputFormat": "第一行输出移动的步数 $k$（$1\\leq k\\leq 10 ^ 5$）。\n\n下面的 $k$ 行输出：`1 i r` （$1 \\le i \\le n$，$0 \\le r < m$），代表使第 $i$ 行 **右移** $r$ 格，或 `2 j d` （$1 \\le j \\le m$，$0 \\le d <n$），代表使第 $j$ 列 **下移** $d$ 格。\n\n如果数组本身就是和谐数组，输出 $0$。", "hint": "#### 样例解释\n\n对于样例 $1$：经过如下变换\n\n```\n4 2 3 0  -> 1 2 3 0 -> 0 1 2 3\n1 5 6 7     4 5 6 7    4 5 6 7\n```\n\n对于样例 $2$：经过如下变换\n\n```\n2 3      3 2      6 2      6 2      6 2      1 2      2 1      0 1\n5 0   -> 5 0   -> 3 0   -> 0 3   -> 0 3   -> 4 3   -> 4 3   -> 2 3\n4 1      4 1      5 1      5 1      1 5      6 5      6 5      4 5\n6 7      6 7      4 7      4 7      4 7      0 7      0 7      6 7\n```\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\times m \\le 8$；\n- Subtask 2（40 points）：$1 \\le k \\le 2$；\n- Subtask 3（40 points）：无特殊限制。\n\n对于全部的测试点，保证 $2 \\le n,m \\le 100$，$1 \\le k \\le 10^5$，保证 $n,m$ 为偶数。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Shifty Grid](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2755)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2017] 移动数组", "background": "", "description": "给你一个二维数组。我们只能通过 **移动(Shift)** 操作来改动这个数组。一次移动操作可以将一行元素向左（或向右）移几个单位；或将一列元素向上（或向下）移几个单位。如果被移动的元素越界，则将越界元素移动到该行或列的另一侧。\n\n举个例子：\n\n```\n0 1 2 3\n4 5 6 7\n8 9 10 11\n12 13 14 15\n```\n\n将第二列向下移动 $1$ 个单位（或向上移动 $3$ 个单位），二维数组将会变成这样：\n\n```\n0 13 2 3\n4 1 6 7\n8 5 10 11\n12 9 14 15\n```\n\n一次移动 $k$ 个单位的 **左移** 操作等价于移动 $n-k$ 个单位的 **右移** 操作。在列上的变换同样。\n\n因此，我们规定只有 **下移** 和 **右移** 操作。\n\n在一个 $n \\times m$ 的二维数组中，所有的数各不相同，且 $Num_{ij} \\in [0,n-1]$（规定第 $i$ 行 $j$ 列的数编号为 $Num_{ij}$）。\n\n在第一个例子中，我们给你的二维数组非常 **和谐**，我们叫它 **和谐数组 (Solved)**。一个二维数组当且仅当第一行的元素按照升序编号分别为从 $0$ 到 $m-1$，第二行元素为从 $m$ 到 $2m-1$，以此类推时，我们称它为 **和谐数组**。\n\n你的任务是找到一系列的操作，使得二维数组变成 **和谐数组**。", "inputFormat": "第一行为两个整数 $n,m$；\n\n下面的 $n$ 行将会包含 $m$ 个代表二维数组的正整数。", "outputFormat": "第一行输出移动的步数 $k$（$1\\leq k\\leq 10 ^ 5$）。\n\n下面的 $k$ 行输出：`1 i r` （$1 \\le i \\le n$，$0 \\le r < m$），代表使第 $i$ 行 **右移** $r$ 格，或 `2 j d` （$1 \\le j \\le m$，$0 \\le d <n$），代表使第 $j$ 列 **下移** $d$ 格。\n\n如果数组本身就是和谐数组，输出 $0$。", "hint": "#### 样例解释\n\n对于样例 $1$：经过如下变换\n\n```\n4 2 3 0  -> 1 2 3 0 -> 0 1 2 3\n1 5 6 7     4 5 6 7    4 5 6 7\n```\n\n对于样例 $2$：经过如下变换\n\n```\n2 3      3 2      6 2      6 2      6 2      1 2      2 1      0 1\n5 0   -> 5 0   -> 3 0   -> 0 3   -> 0 3   -> 4 3   -> 4 3   -> 2 3\n4 1      4 1      5 1      5 1      1 5      6 5      6 5      4 5\n6 7      6 7      4 7      4 7      4 7      0 7      0 7      6 7\n```\n\n#### 数据范围及约定\n\n**本题采用多测试点捆绑测试，共有 $3$ 个子任务。**\n\n- Subtask 1（20 points）：$2 \\le n \\times m \\le 8$；\n- Subtask 2（40 points）：$1 \\le k \\le 2$；\n- Subtask 3（40 points）：无特殊限制。\n\n对于全部的测试点，保证 $2 \\le n,m \\le 100$，$1 \\le k \\le 10^5$，保证 $n,m$ 为偶数。\n\n来源：[CCO 2017](https://cemc.math.uwaterloo.ca/contests/computing/2017/) Day2「[Shifty Grid](https://cemc.math.uwaterloo.ca/contests/computing/2017/stage%202/day2.pdf)」。\n\n说明：翻译来自 [LOJ](https://loj.ac/problem/2755)。", "locale": "zh-CN"}}}
{"pid": "P6348", "type": "P", "difficulty": 6, "samples": [["5 3 4\n1 2 4 5\n5 5 4 4\n1 1 3 3", "1\n1\n2\n0\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2011", "线段树", "O2优化", "最短路", "PA（波兰）"], "title": "[PA 2011] Journeys", "background": "", "description": "一个星球上有 $n$ 个国家和许多双向道路，国家用 $1\\sim n$ 编号。\n\n但是道路实在太多了，不能用通常的方法表示。于是我们以如下方式表示道路：$(a,b),(c,d)$ 表示，对于任意两个国家 $x,y$，如果 $a\\le x\\le b,c\\le y\\le d$，那么在 $x,y$ 之间有一条道路。\n\n首都位于 $P$ 号国家。你想知道 $P$ 号国家到任意一个国家最少需要经过几条道路。保证 $P$ 号国家能到任意一个国家。", "inputFormat": "第一行三个整数 $n,m,P$。\n\n之后 $m$ 行，每行 $4$ 个整数 $a,b,c,d$。", "outputFormat": "$n$ 行，第 $i$ 行表示 $P$ 号国家到第 $i$ 个国家最少需要经过几条路。", "hint": "对于所有测试点，保证 $1\\le n\\le 5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le a\\le b\\le n$，$1\\le c\\le d\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Journeys", "background": "", "description": "一个星球上有 $n$ 个国家和许多双向道路，国家用 $1\\sim n$ 编号。\n\n但是道路实在太多了，不能用通常的方法表示。于是我们以如下方式表示道路：$(a,b),(c,d)$ 表示，对于任意两个国家 $x,y$，如果 $a\\le x\\le b,c\\le y\\le d$，那么在 $x,y$ 之间有一条道路。\n\n首都位于 $P$ 号国家。你想知道 $P$ 号国家到任意一个国家最少需要经过几条道路。保证 $P$ 号国家能到任意一个国家。", "inputFormat": "第一行三个整数 $n,m,P$。\n\n之后 $m$ 行，每行 $4$ 个整数 $a,b,c,d$。", "outputFormat": "$n$ 行，第 $i$ 行表示 $P$ 号国家到第 $i$ 个国家最少需要经过几条路。", "hint": "对于所有测试点，保证 $1\\le n\\le 5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le a\\le b\\le n$，$1\\le c\\le d\\le n$。", "locale": "zh-CN"}}}
{"pid": "P6349", "type": "P", "difficulty": 6, "samples": [["3 3\n2 5\n1 3\n6 6\n3 5\n1 10\n7 9", "2\n3\n0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2011", "莫队", "O2优化", "K-D Tree", "PA（波兰）"], "title": "[PA 2011] Kangaroos", "background": "", "description": "给出长为 $n$ 的序列 $a$，第 $i$ 个元素是一个区间 $[l_i,r_i]$。\n\n$m$ 次询问，给出 $A,B$，求出 $a$ 中最长的区间（即这个序列中的一段），使得这个区间内每个区间都与 $[A,B]$ 有交集。输出这个最长区间的长度。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $l_i,r_i$。\n\n接下来 $m$ 行，每行两个整数 $A,B$，为一次询问。", "outputFormat": "输出 $m$ 行，每行一个整数，为询问的答案。", "hint": "$1\\le n\\le 5\\times 10^4$，$1\\le m\\le 2\\times 10^5$，$1\\le l_i\\le r_i\\le 10^9$，$1\\le A\\le B\\le 10^9$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Kangaroos", "background": "", "description": "给出长为 $n$ 的序列 $a$，第 $i$ 个元素是一个区间 $[l_i,r_i]$。\n\n$m$ 次询问，给出 $A,B$，求出 $a$ 中最长的区间（即这个序列中的一段），使得这个区间内每个区间都与 $[A,B]$ 有交集。输出这个最长区间的长度。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $l_i,r_i$。\n\n接下来 $m$ 行，每行两个整数 $A,B$，为一次询问。", "outputFormat": "输出 $m$ 行，每行一个整数，为询问的答案。", "hint": "$1\\le n\\le 5\\times 10^4$，$1\\le m\\le 2\\times 10^5$，$1\\le l_i\\le r_i\\le 10^9$，$1\\le A\\le B\\le 10^9$", "locale": "zh-CN"}}}
{"pid": "P6350", "type": "P", "difficulty": 7, "samples": [["4 6\n1010\n010110\n1\n5 2 1 1 8", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "枚举", "快速傅里叶变换 FFT", "PA（波兰）"], "title": "[PA 2011] Laser Pool", "background": "", "description": "在一个 $n\\times m$ 的网格（左下角为 $(1,1)$，右上角为 $(m,n)$）里有一个小球（可以视为一个点），其中横向和纵向都有一些光线，$q$ 次询问，每次给出小球的初始位置，方向，速度和运动时间（具体方式见输入格式），求出小球触碰光线的次数，如果碰到交点只算一次。\n\n当小球触碰到边界时，会发生反弹，也就是说，假设当前每秒 $x$ 坐标增加 $vx$，$y$ 增加 $vy$，如果碰到上下边界，则 $vy$ 变为 $-vy$，如果碰到左右边界，将 $vx$ 变为 $-vx$，如果仍不理解可以见样例解释的图片。", "inputFormat": "第一行两个整数 $n,m$，表示网格的行数和列数。\n\n接下来一行一个长为 $n$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一行有光线，否则表示没有。\n\n接下来一行一个长为 $m$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一列有光线，否则表示没有。\n\n接下来一行一个数 $q$，表示询问次数。\n\n下面 $q$ 行，每五个整数 $x,y,vx,vy,t$ 表示小球初始时在 $(x,y)$，每秒 $x$ 增加 $vx$，$y$ 坐标增加 $vy$，总共运动 $t$ 秒。保证 $vx,vy$ 均为 $1$ 或 $-1$。", "outputFormat": "对于每一次询问，输出一行一个数，表示小球触碰光线的次数。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/qclq5mux.png)\n\n$1\\leq n,m\\leq 10^5$，$1\\leq q\\leq 10^4$，$1\\leq t \\leq 10^9$，保证球的初始位置在网格内且不在边界上，$vx,vy$ 均为 $1$ 或 $-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Laser Pool", "background": "", "description": "在一个 $n\\times m$ 的网格（左下角为 $(1,1)$，右上角为 $(m,n)$）里有一个小球（可以视为一个点），其中横向和纵向都有一些光线，$q$ 次询问，每次给出小球的初始位置，方向，速度和运动时间（具体方式见输入格式），求出小球触碰光线的次数，如果碰到交点只算一次。\n\n当小球触碰到边界时，会发生反弹，也就是说，假设当前每秒 $x$ 坐标增加 $vx$，$y$ 增加 $vy$，如果碰到上下边界，则 $vy$ 变为 $-vy$，如果碰到左右边界，将 $vx$ 变为 $-vx$，如果仍不理解可以见样例解释的图片。", "inputFormat": "第一行两个整数 $n,m$，表示网格的行数和列数。\n\n接下来一行一个长为 $n$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一行有光线，否则表示没有。\n\n接下来一行一个长为 $m$ 的 $01$ 串，如果第 $i$ 个数为 $1$，则表示这一列有光线，否则表示没有。\n\n接下来一行一个数 $q$，表示询问次数。\n\n下面 $q$ 行，每五个整数 $x,y,vx,vy,t$ 表示小球初始时在 $(x,y)$，每秒 $x$ 增加 $vx$，$y$ 坐标增加 $vy$，总共运动 $t$ 秒。保证 $vx,vy$ 均为 $1$ 或 $-1$。", "outputFormat": "对于每一次询问，输出一行一个数，表示小球触碰光线的次数。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/qclq5mux.png)\n\n$1\\leq n,m\\leq 10^5$，$1\\leq q\\leq 10^4$，$1\\leq t \\leq 10^9$，保证球的初始位置在网格内且不在边界上，$vx,vy$ 均为 $1$ 或 $-1$。", "locale": "zh-CN"}}}
{"pid": "P6351", "type": "P", "difficulty": 6, "samples": [["7 8 7\n1 2\n1 3\n1 4\n2 3\n3 4\n3 7\n7 4\n5 6\nZ 1 4\nP 1 3\nP 2 4\nZ 1 3\nP 1 3\nZ 6 5\nP 5 6\n", "TAK\nTAK\nNIE\nNIE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "并查集", "生成树", "最近公共祖先 LCA", "PA（波兰）"], "title": "[PA 2011] Hard Choice", "background": "", "description": "有一个 $n$ 个点，$m$ 条边的无向图。\n\n有 $q$ 次询问，每次询问包含一个字符 $opt$ 和两个整数 $x,y$。\n\n若 $opt$ 为 $Z$，表示一次删除操作，删去边 $x,y$，保证 $x,y$ 这条边之前没有被删除，但不保证图上存在边（也就是说，可能会删去所有的边）。\n\n若 $opt$ 为 $P$，表示一次询问，询问 $x,y$ 之间是否有两条完全不同的路径，这里的完全不同指没有经过相同的边，但可以经过相同的点。", "inputFormat": "第一行三个整数 $n,m,q$，意义同题面。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示 $x,y$ 之间存在一条无向边。\n\n接下来 $q$ 行，每行包含一个字符 $opt$ 和两个整数 $x,y$，意义同题面。\n\n", "outputFormat": "对于每一次 $opt$ 为 $P$ 的询问，如果存在两条完全不同的路径，输出一行一个字符串 TAK，否则输出一行一个字符串 NIE。", "hint": "$2\\leq n\\leq 10^5$，$1\\leq m,q\\leq 10^5$，保证输入数据合法且不存在重边和自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2011] Hard Choice", "background": "", "description": "有一个 $n$ 个点，$m$ 条边的无向图。\n\n有 $q$ 次询问，每次询问包含一个字符 $opt$ 和两个整数 $x,y$。\n\n若 $opt$ 为 $Z$，表示一次删除操作，删去边 $x,y$，保证 $x,y$ 这条边之前没有被删除，但不保证图上存在边（也就是说，可能会删去所有的边）。\n\n若 $opt$ 为 $P$，表示一次询问，询问 $x,y$ 之间是否有两条完全不同的路径，这里的完全不同指没有经过相同的边，但可以经过相同的点。", "inputFormat": "第一行三个整数 $n,m,q$，意义同题面。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示 $x,y$ 之间存在一条无向边。\n\n接下来 $q$ 行，每行包含一个字符 $opt$ 和两个整数 $x,y$，意义同题面。\n\n", "outputFormat": "对于每一次 $opt$ 为 $P$ 的询问，如果存在两条完全不同的路径，输出一行一个字符串 TAK，否则输出一行一个字符串 NIE。", "hint": "$2\\leq n\\leq 10^5$，$1\\leq m,q\\leq 10^5$，保证输入数据合法且不存在重边和自环。", "locale": "zh-CN"}}}
{"pid": "P6352", "type": "P", "difficulty": 1, "samples": [["4 6 8", "10"], ["10 1 4", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] CETIRI", "background": "", "description": "你原本有 $4$ 个数，它们从小到大排序后构成了等差数列。\n\n但是现在丢失了一个数，并且其余的三个数的顺序也被打乱了。\n\n请你找出第四个数。", "inputFormat": "输入一行三个整数。保证这些数字在 $-100\\sim 100$ 之间。", "outputFormat": "输出一行一个数，为第四个数。\n\n**方案可能不是唯一的，但保证一定存在，本题使用SPJ。**", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T1 CETIRI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] CETIRI", "background": "", "description": "你原本有 $4$ 个数，它们从小到大排序后构成了等差数列。\n\n但是现在丢失了一个数，并且其余的三个数的顺序也被打乱了。\n\n请你找出第四个数。", "inputFormat": "输入一行三个整数。保证这些数字在 $-100\\sim 100$ 之间。", "outputFormat": "输出一行一个数，为第四个数。\n\n**方案可能不是唯一的，但保证一定存在，本题使用SPJ。**", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T1 CETIRI***。", "locale": "zh-CN"}}}
{"pid": "P6353", "type": "P", "difficulty": 2, "samples": [["1010", "12"], ["11001100", "314"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["模拟", "2007", "进制", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] OKTALNI", "background": "", "description": "给你一个二进制的数字，请将其转换到八进制。\n\n---\n\n可以使用如下转换方法：\n\n- 如果二进制的数字的位数不能被三整除，则在左侧补 $0$ 直到数字位数是 $3$ 的倍数。\n- 将这个二进制数每三位分成一组。\n- 每组的二进制可用如下表格所示的数字替换。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tcwf1oqm.png)\n\n现在请你完成这个操作，并输出最终的八进制结果。", "inputFormat": "输入一行一个二进制数。\n\n保证位数不超过 $100$，并且首位为 $1$。", "outputFormat": "输出一行一个八进制数。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T2 OKTALNI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] OKTALNI", "background": "", "description": "给你一个二进制的数字，请将其转换到八进制。\n\n---\n\n可以使用如下转换方法：\n\n- 如果二进制的数字的位数不能被三整除，则在左侧补 $0$ 直到数字位数是 $3$ 的倍数。\n- 将这个二进制数每三位分成一组。\n- 每组的二进制可用如下表格所示的数字替换。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tcwf1oqm.png)\n\n现在请你完成这个操作，并输出最终的八进制结果。", "inputFormat": "输入一行一个二进制数。\n\n保证位数不超过 $100$，并且首位为 $1$。", "outputFormat": "输出一行一个八进制数。", "hint": "#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T2 OKTALNI***。", "locale": "zh-CN"}}}
{"pid": "P6354", "type": "P", "difficulty": 2, "samples": [["bok", "bok"], ["koaski", "kakosi"], ["boudonuimilcbsai", "bombonisuuladici"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["模拟", "字符串", "2007", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] TAJNA", "background": "", "description": "使用一种加密算法。\n\n设字符串的长度为 $n$，则构造一个矩阵，使得 $r\\times c=n$ 且在 $r\\le c$ 的情况下使得 $r$ 尽量大。\n\n然后把给定的明文按照由上到下，从左到右的顺序填充这个 $r\\times c$ 的矩阵。\n\n得到的密文就是把矩阵按照从左到右，从上到下的顺序输出的字符串。\n\n给定你明文，请你输出密文。", "inputFormat": "一行一个字符串，表示明文。", "outputFormat": "一行一个字符串，表示密文。", "hint": "#### 样例 3 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n13lgixw.png)\n\n共 $16$ 个字符，对于矩阵的长宽，可以选择 $1\\times 16$，$2\\times 8$ 和 $4\\times 4$ 这三种，因为要求 $r$ 尽量大，所以选择 $4\\times 4$。\n\n然后进行填充，填充的结果如上图所示。\n\n最后从左到右，从上到下输出每个字符即可。 \n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入字符串只含小写字母，长度不超过 $100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T3 TAJNA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] TAJNA", "background": "", "description": "使用一种加密算法。\n\n设字符串的长度为 $n$，则构造一个矩阵，使得 $r\\times c=n$ 且在 $r\\le c$ 的情况下使得 $r$ 尽量大。\n\n然后把给定的明文按照由上到下，从左到右的顺序填充这个 $r\\times c$ 的矩阵。\n\n得到的密文就是把矩阵按照从左到右，从上到下的顺序输出的字符串。\n\n给定你明文，请你输出密文。", "inputFormat": "一行一个字符串，表示明文。", "outputFormat": "一行一个字符串，表示密文。", "hint": "#### 样例 3 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n13lgixw.png)\n\n共 $16$ 个字符，对于矩阵的长宽，可以选择 $1\\times 16$，$2\\times 8$ 和 $4\\times 4$ 这三种，因为要求 $r$ 尽量大，所以选择 $4\\times 4$。\n\n然后进行填充，填充的结果如上图所示。\n\n最后从左到右，从上到下输出每个字符即可。 \n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入字符串只含小写字母，长度不超过 $100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T3 TAJNA***。", "locale": "zh-CN"}}}
{"pid": "P6355", "type": "P", "difficulty": 3, "samples": [["3\n4 2\n2 1\n1 3", "0"], ["5\n1 2\n2 1\n2 2\n2 3\n3 2", "4"], ["6\n10 10\n20 10\n10 20\n20 20\n30 20\n30 30", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] DEJAVU", "background": "", "description": "给出平面内的 $n$ 个点，计算有多少不同的直角三角形，满足其顶点均为给出的点，**且直角边均平行于坐标轴**。\n\n两个直角三角形不同当且仅当它们存在至少一个顶点不同。", "inputFormat": "输入第一行包含一个整数 $n$，表示点的数量。\n\n接下来的 $n$ 行，每行两个整数，表示一个点的坐标。\n\n", "outputFormat": "输出直角三角形的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $n<100$；\n- 对于 $70\\%$ 的数据，保证 $n<10^4$；\n- 对于 $100\\%$ 的数据，保证 $3\\le n\\le 10^5$，坐标的数值在 $1$ 和 $10^5$ 之间，且不存在任何两个点的坐标相同。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T4 DEJAVU***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] DEJAVU", "background": "", "description": "给出平面内的 $n$ 个点，计算有多少不同的直角三角形，满足其顶点均为给出的点，**且直角边均平行于坐标轴**。\n\n两个直角三角形不同当且仅当它们存在至少一个顶点不同。", "inputFormat": "输入第一行包含一个整数 $n$，表示点的数量。\n\n接下来的 $n$ 行，每行两个整数，表示一个点的坐标。\n\n", "outputFormat": "输出直角三角形的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $n<100$；\n- 对于 $70\\%$ 的数据，保证 $n<10^4$；\n- 对于 $100\\%$ 的数据，保证 $3\\le n\\le 10^5$，坐标的数值在 $1$ 和 $10^5$ 之间，且不存在任何两个点的坐标相同。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T4 DEJAVU***。", "locale": "zh-CN"}}}
{"pid": "P6356", "type": "P", "difficulty": 4, "samples": [["1 9 5", "1\n5"], ["1 100 10", "9\n19"], ["11111 99999 24", "5445\n11499"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] CUDAK", "background": "", "description": "求出在区间 $[A,B]$ 中有多少个整数的各位数字之和是 $S$。并请找出最小的那个整数。", "inputFormat": "输入一行三个整数 $A,B,S$。\n\n", "outputFormat": "输出共两行，第一行为整数的个数，第二行为最小的整数。\n\n输入数据保证至少有一个这样的数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le A,B\\le 10^{15}$，$1\\le S\\le 135$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T5 CUDAK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] CUDAK", "background": "", "description": "求出在区间 $[A,B]$ 中有多少个整数的各位数字之和是 $S$。并请找出最小的那个整数。", "inputFormat": "输入一行三个整数 $A,B,S$。\n\n", "outputFormat": "输出共两行，第一行为整数的个数，第二行为最小的整数。\n\n输入数据保证至少有一个这样的数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le A,B\\le 10^{15}$，$1\\le S\\le 135$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T5 CUDAK***。", "locale": "zh-CN"}}}
{"pid": "P6357", "type": "P", "difficulty": 4, "samples": [["4 3\n1234\n1 4\n1 4\n1 4", "10\n14\n18"], ["4 4\n1234\n1 1\n1 2\n1 3\n1 4", "1\n4\n9\n16"], ["7 5\n9081337\n1 3\n3 7\n1 3\n3 7\n1 3", "17\n23\n1\n19\n5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2007", "线段树", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #3] REDOKS", "background": "", "description": "给定一串长度为 $n$ 的数字，数字为 $0\\sim 9$ 之间的任意一个，下标从 $1$ 记起。\n\n然后进行 $m$ 次区间查询，每次查找区间 $[A,B]$ 的区间和，并在查询结束后将区间里的每一个数都 $+1$。特殊地，如果 $+1$ 前的数字为 $9$，那么 $+1$ 之后就变成了 $0$。\n\n请输出每次查询的区间和。", "inputFormat": "输入第一行包含两个整数 $n,m$。\n\n第二行 $n$ 个数字字符，字符间无空格。\n\n接下来的 $m$ 行，每行两个整数 $A,B$，表示查询区间 $[A,B]$。", "outputFormat": "输出共 $m$ 行，每行为一次查询的区间和。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 2.5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le A,B\\le n$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T6 REDOKS***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #3] REDOKS", "background": "", "description": "给定一串长度为 $n$ 的数字，数字为 $0\\sim 9$ 之间的任意一个，下标从 $1$ 记起。\n\n然后进行 $m$ 次区间查询，每次查找区间 $[A,B]$ 的区间和，并在查询结束后将区间里的每一个数都 $+1$。特殊地，如果 $+1$ 前的数字为 $9$，那么 $+1$ 之后就变成了 $0$。\n\n请输出每次查询的区间和。", "inputFormat": "输入第一行包含两个整数 $n,m$。\n\n第二行 $n$ 个数字字符，字符间无空格。\n\n接下来的 $m$ 行，每行两个整数 $A,B$，表示查询区间 $[A,B]$。", "outputFormat": "输出共 $m$ 行，每行为一次查询的区间和。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 2.5\\times 10^5$，$1\\le m\\le 10^5$，$1\\le A,B\\le n$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #3](https://hsin.hr/coci/archive/2007_2008/contest3_tasks.pdf) *T6 REDOKS***。", "locale": "zh-CN"}}}
{"pid": "P6358", "type": "P", "difficulty": 7, "samples": [["233 888 251", "60539267"], ["11451 45149 8100", "728539702"], ["114514 233333 101010", "830578369"], ["198245 285628 157293", "121742791"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "递推", "倍增", "O2优化", "快速傅里叶变换 FFT"], "title": "鬼故事 加强版", "background": "", "description": "[原题链接](https://www.luogu.com.cn/problem/P5126)\n\n给定 $l,r,k$，求：\n$$\\sum_{i=l}^r \\prod_{j=i}^{i+k-1}f_j$$\n其中 $f_0= 0$，$f_1 = 1$，$f_n = f_{n-1}+f_{n-2} \\ (n \\geq 2)$。  \n作为良心（迫真）出题人，你只需要将答案对 $998244353$ 取模。\n\n", "inputFormat": "输入一行三个正整数 $l,r,k$。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【数据范围】     \n对于 $30\\%$ 的数据，$1\\le k \\le 1000$；  \n对于 $70\\%$ 的数据，$1\\le k \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le 5 \\times 10^5$，$1\\le l \\le r \\le 10^{18}$。\n\n**请注意常数优化。**\n\n由于 $l,r$ 开到高精度范围也没什么意义，因此这里就改为 $10^{18}$ 了。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "鬼故事 加强版", "background": "", "description": "[原题链接](https://www.luogu.com.cn/problem/P5126)\n\n给定 $l,r,k$，求：\n$$\\sum_{i=l}^r \\prod_{j=i}^{i+k-1}f_j$$\n其中 $f_0= 0$，$f_1 = 1$，$f_n = f_{n-1}+f_{n-2} \\ (n \\geq 2)$。  \n作为良心（迫真）出题人，你只需要将答案对 $998244353$ 取模。\n\n", "inputFormat": "输入一行三个正整数 $l,r,k$。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【数据范围】     \n对于 $30\\%$ 的数据，$1\\le k \\le 1000$；  \n对于 $70\\%$ 的数据，$1\\le k \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le 5 \\times 10^5$，$1\\le l \\le r \\le 10^{18}$。\n\n**请注意常数优化。**\n\n由于 $l,r$ 开到高精度范围也没什么意义，因此这里就改为 $10^{18}$ 了。", "locale": "zh-CN"}}}
{"pid": "P6359", "type": "P", "difficulty": 4, "samples": [["4\n4 2200 700\n2 1800 10\n20 2550 9999\n4 2000 750\n3\n1 1500 300\n6 1900 1500\n3 2400 4550", "350"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "CEOI（中欧）"], "title": "[CEOI 2018] Cloud computing", "background": "译自 CEOI2018 Day1 T1. [Cloud Computing](https://ceoi2018.pl/wp-content/uploads/2018/08/clo.pdf)。", "description": "Johnny 创立了 Bytecomp，一家提供云计算能力的公司。这样的公司通常拥有许多快速的计算机，可以让客户在上面进行计算。\n\nJohnny 仍然没有购买任何机器。他去了一家计算机商店，收到了一个包含所有 $n$ 台可用的计算机的清单。每台计算机都可以用三个属性描述：处理器内核数 $c_i$，时钟频率 $f_i$ 和价格 $v_i$。这样的计算机包含 $c_i$ 个独立的内核，所以他们可以被分配不同的任务。\n\n当客户订购资源时，她会指定所需的内核数 $C_j$ 和最小的时钟频率 $F_j$。订单还包含客户愿意支付的价格 $V_j$。如果接受订单，Bytecomp 需要提供客户所需计算能力的独占访问权。Johnny 需要选择 $C_j$ 个核心（可能来自不同的计算机），且它们的时钟频率至少为 $F_j$，这些核心不能被分配给其它订单。\n\n帮助 Johnny 赚尽可能多的钱：接受一个最优的订单子集，选择所有计算机的一个子集来满足所有接受了的订单。你的目标是最大化利润，即为客户提供计算能力的收入与购买计算机的成本之差。", "inputFormat": "标准输入的第一行包含一个整数 $n$，表示商店中可用计算机的数量。\n\n接下来 $n$ 行，每行描述一台计算机，包含三个空格隔开的整数 $c_i, f_i, v_i$，分别表示内核数，时钟频率和价格。\n\n接下来一行一个整数 $m$，表示客户的订单数量。\n\n接下来 $m$ 行，每行描述一个订单，包含三个空格隔开的整数 $C_j, F_j, V_j$，分别表示需要的核心数，最低的允许的时钟频率以及预算。", "outputFormat": "标准输出唯一的一行包含一个整数，表示能够得到的最大利润。", "hint": "#### 样例解释\n\n一共有四台可用的计算机和三个订单。\n\n最佳方案是购买两台价格为 $700$ 和 $750$（总计 $1450$）的四内核的计算机，然后接受前两个订单获得 $300+1500=1800$ 的收益。\n\n我们获得了四个时钟频率为 $2000$ 的内核，和四个时钟频率为 $2200$ 的内核。可以将其中六个分配给第二个订单（需要 $1900$ 的时钟频率），再将其中一个分配给第一个订单（需要 $1500$ 的时钟频率），剩下一个核心不使用，这是允许的。\n\n总利润为 $1800-1450=350$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 2\\times 10^3,\\ 1\\le c_i,C_i\\le 50,\\ 1\\le f_i,F_i,v_i,V_i\\le 10^9$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n \\le 15$ | $18$ |\n| $2$ | $m \\le 15$ | $18$ |\n| $3$ | $n,m \\le 100$，$c_i = C_j = 1$ | $18$ |\n| $4$ | $f_i = F_j = 1$ | $18$ |\n| $5$ | $v_i = V_j = 1$ | $18$ |\n| $6$ | 无附加限制 | $10$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] Cloud computing", "background": "译自 CEOI2018 Day1 T1. [Cloud Computing](https://ceoi2018.pl/wp-content/uploads/2018/08/clo.pdf)。", "description": "Johnny 创立了 Bytecomp，一家提供云计算能力的公司。这样的公司通常拥有许多快速的计算机，可以让客户在上面进行计算。\n\nJohnny 仍然没有购买任何机器。他去了一家计算机商店，收到了一个包含所有 $n$ 台可用的计算机的清单。每台计算机都可以用三个属性描述：处理器内核数 $c_i$，时钟频率 $f_i$ 和价格 $v_i$。这样的计算机包含 $c_i$ 个独立的内核，所以他们可以被分配不同的任务。\n\n当客户订购资源时，她会指定所需的内核数 $C_j$ 和最小的时钟频率 $F_j$。订单还包含客户愿意支付的价格 $V_j$。如果接受订单，Bytecomp 需要提供客户所需计算能力的独占访问权。Johnny 需要选择 $C_j$ 个核心（可能来自不同的计算机），且它们的时钟频率至少为 $F_j$，这些核心不能被分配给其它订单。\n\n帮助 Johnny 赚尽可能多的钱：接受一个最优的订单子集，选择所有计算机的一个子集来满足所有接受了的订单。你的目标是最大化利润，即为客户提供计算能力的收入与购买计算机的成本之差。", "inputFormat": "标准输入的第一行包含一个整数 $n$，表示商店中可用计算机的数量。\n\n接下来 $n$ 行，每行描述一台计算机，包含三个空格隔开的整数 $c_i, f_i, v_i$，分别表示内核数，时钟频率和价格。\n\n接下来一行一个整数 $m$，表示客户的订单数量。\n\n接下来 $m$ 行，每行描述一个订单，包含三个空格隔开的整数 $C_j, F_j, V_j$，分别表示需要的核心数，最低的允许的时钟频率以及预算。", "outputFormat": "标准输出唯一的一行包含一个整数，表示能够得到的最大利润。", "hint": "#### 样例解释\n\n一共有四台可用的计算机和三个订单。\n\n最佳方案是购买两台价格为 $700$ 和 $750$（总计 $1450$）的四内核的计算机，然后接受前两个订单获得 $300+1500=1800$ 的收益。\n\n我们获得了四个时钟频率为 $2000$ 的内核，和四个时钟频率为 $2200$ 的内核。可以将其中六个分配给第二个订单（需要 $1900$ 的时钟频率），再将其中一个分配给第一个订单（需要 $1500$ 的时钟频率），剩下一个核心不使用，这是允许的。\n\n总利润为 $1800-1450=350$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le 2\\times 10^3,\\ 1\\le c_i,C_i\\le 50,\\ 1\\le f_i,F_i,v_i,V_i\\le 10^9$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n \\le 15$ | $18$ |\n| $2$ | $m \\le 15$ | $18$ |\n| $3$ | $n,m \\le 100$，$c_i = C_j = 1$ | $18$ |\n| $4$ | $f_i = F_j = 1$ | $18$ |\n| $5$ | $v_i = V_j = 1$ | $18$ |\n| $6$ | 无附加限制 | $10$ |", "locale": "zh-CN"}}}
{"pid": "P6360", "type": "P", "difficulty": 4, "samples": [["6 2\n1 2 1 3 2 1\n2\n1\n2", "2 1 1 1 1\n4 4 4 4 4"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2018", "CEOI（中欧）"], "title": "[CEOI 2018] Lottery", "background": "译自 CEOI2018 Day1 T3. [Lottery](https://ceoi2018.pl/wp-content/uploads/2018/08/lot.pdf)。", "description": "**请注意特殊的内存限制。**\n\n长期以来，你一直是 Bytelotto 的忠实粉丝，但你的家人一直告诉你所有这样的游戏都是在浪费钱。你觉得这肯定是因为他们缺少技巧。你有一个很棒的计划，每个人都将很快看到你赢得游戏。\n\n游戏类型很多，你对其中之一感兴趣：Bitlotto。游戏规则很简单，每天随机抽取一个数字作为中奖数字。你记下了连续 $n$ 天的中奖数字 $a_1, a_2, \\ldots, a_n$。你确信这当中存在某种规律，尤其是连续 $l$ 天的区间中。你的家人仍然不相信你，所以说服他们的唯一方法是可靠的数学。\n\n一共有 $n-l+1$ 个长度为 $l$ 的区间。第 $i$ 个区间从 $i$ 开始，因此它包含元素 $a_i, a_{i+1}, \\ldots, a_{i+l-1}$。定义两个区间的距离为他们对应位置上的数字不相等的数量。形式化地说，第 $x$ 个区间与第 $y$ 个区间的距离为满足 $a_{x+i}\\ne a_{y+i}$ 的位置 $i\\ (0\\le i < l)$ 的数量。然后我们定义两个区间是 $k$-相似的当且仅当这两个区间的距离不超过 $k$。\n\n现在给出连续 $n$ 天的中奖数字和 $q$ 个询问，每个询问给出一个整数 $k_j$，你需要对序列中的每个长度为 $l$ 的区间，求出与该区间 $k_j$-相似的区间个数（不包括本身）。", "inputFormat": "标准输入的第一行包含两个整数 $n,l$，分别表示天数和你需要分析的区间长度。\n\n第二行包含 $n$ 个空格隔开的整数 $a_1, a_2, \\ldots, a_n$，$a_i$ 表示第 $i$ 天的中奖数字。\n\n第三行包含一个整数 $q$，表示询问次数。\n\n接下来 $q$ 行，每行包含一个整数 $k_j$，表示第 $j$ 个询问的相似参数。", "outputFormat": "输出 $q$ 行，第 $j$ 行包含 $n-l+1$ 个空格隔开的整数，表示第 $j$ 个询问的答案。一行中的第 $i$ 个数表示与第 $i$ 个区间 $k_j$-相似的不包括本身的区间数量。", "hint": "#### 样例解释\n\n整个序列有五个长度为 $2$ 的区间：\n\n- 第一个区间包含 $1$ $2$；\n- 第二个区间包含 $2$ $1$；\n- 第三个区间包含 $1$ $3$；\n- 第四个区间包含 $3$ $2$；\n- 第五个区间包含 $2$ $1$。\n\n共有两个询问。\n\n第一个询问 $k=1$。第一个和第三个区间——$1$ $2$ 和 $1$ $3$——只有第二个位置不同，所以他们的距离为 $1$。类似地，第一个和第四个区间——$1$ $2$ 和 $3$ $2$——只有第一个位置不同，所以他们的距离为 $1$。与第一个区间 $1$-相似的区间只有这两个，所以第一个数输出 $2$。\n\n第二个询问 $k=2$，所有区间都是 $2$-相似的。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^4,\\ 1\\le a_i\\le 10^9,\\ 1\\le q\\le 100,\\ 0\\le k_j\\le l$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--------: | :------------: | :--: |\n|    $1$     |  $n \\le 300$  | $25$ |\n|    $2$     | $n \\le 2000$  | $20$ |\n|    $3$     | $q=1, k_1=0$ | $20$ |\n|    $4$     |     $q=1$      | $15$ |\n|    $5$     |   无附加限制   | $20$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] Lottery", "background": "译自 CEOI2018 Day1 T3. [Lottery](https://ceoi2018.pl/wp-content/uploads/2018/08/lot.pdf)。", "description": "**请注意特殊的内存限制。**\n\n长期以来，你一直是 Bytelotto 的忠实粉丝，但你的家人一直告诉你所有这样的游戏都是在浪费钱。你觉得这肯定是因为他们缺少技巧。你有一个很棒的计划，每个人都将很快看到你赢得游戏。\n\n游戏类型很多，你对其中之一感兴趣：Bitlotto。游戏规则很简单，每天随机抽取一个数字作为中奖数字。你记下了连续 $n$ 天的中奖数字 $a_1, a_2, \\ldots, a_n$。你确信这当中存在某种规律，尤其是连续 $l$ 天的区间中。你的家人仍然不相信你，所以说服他们的唯一方法是可靠的数学。\n\n一共有 $n-l+1$ 个长度为 $l$ 的区间。第 $i$ 个区间从 $i$ 开始，因此它包含元素 $a_i, a_{i+1}, \\ldots, a_{i+l-1}$。定义两个区间的距离为他们对应位置上的数字不相等的数量。形式化地说，第 $x$ 个区间与第 $y$ 个区间的距离为满足 $a_{x+i}\\ne a_{y+i}$ 的位置 $i\\ (0\\le i < l)$ 的数量。然后我们定义两个区间是 $k$-相似的当且仅当这两个区间的距离不超过 $k$。\n\n现在给出连续 $n$ 天的中奖数字和 $q$ 个询问，每个询问给出一个整数 $k_j$，你需要对序列中的每个长度为 $l$ 的区间，求出与该区间 $k_j$-相似的区间个数（不包括本身）。", "inputFormat": "标准输入的第一行包含两个整数 $n,l$，分别表示天数和你需要分析的区间长度。\n\n第二行包含 $n$ 个空格隔开的整数 $a_1, a_2, \\ldots, a_n$，$a_i$ 表示第 $i$ 天的中奖数字。\n\n第三行包含一个整数 $q$，表示询问次数。\n\n接下来 $q$ 行，每行包含一个整数 $k_j$，表示第 $j$ 个询问的相似参数。", "outputFormat": "输出 $q$ 行，第 $j$ 行包含 $n-l+1$ 个空格隔开的整数，表示第 $j$ 个询问的答案。一行中的第 $i$ 个数表示与第 $i$ 个区间 $k_j$-相似的不包括本身的区间数量。", "hint": "#### 样例解释\n\n整个序列有五个长度为 $2$ 的区间：\n\n- 第一个区间包含 $1$ $2$；\n- 第二个区间包含 $2$ $1$；\n- 第三个区间包含 $1$ $3$；\n- 第四个区间包含 $3$ $2$；\n- 第五个区间包含 $2$ $1$。\n\n共有两个询问。\n\n第一个询问 $k=1$。第一个和第三个区间——$1$ $2$ 和 $1$ $3$——只有第二个位置不同，所以他们的距离为 $1$。类似地，第一个和第四个区间——$1$ $2$ 和 $3$ $2$——只有第一个位置不同，所以他们的距离为 $1$。与第一个区间 $1$-相似的区间只有这两个，所以第一个数输出 $2$。\n\n第二个询问 $k=2$，所有区间都是 $2$-相似的。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^4,\\ 1\\le a_i\\le 10^9,\\ 1\\le q\\le 100,\\ 0\\le k_j\\le l$。\n\n所有测试数据被划分成若干个有附加限制的子任务，每个子任务中包含若干测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--------: | :------------: | :--: |\n|    $1$     |  $n \\le 300$  | $25$ |\n|    $2$     | $n \\le 2000$  | $20$ |\n|    $3$     | $q=1, k_1=0$ | $20$ |\n|    $4$     |     $q=1$      | $15$ |\n|    $5$     |   无附加限制   | $20$ |", "locale": "zh-CN"}}}
{"pid": "P6361", "type": "P", "difficulty": 7, "samples": [["4\n4 1 1 5", "2\n2\n1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "CEOI（中欧）"], "title": "[CEOI 2018] Fibonacci representations", "background": "译自 CEOI2018 Day2 T1. [Fibonacci Representations](https://ceoi2018.pl/wp-content/uploads/2018/08/fib.pdf)。", "description": "我们定义斐波那契数列为\n$$\n\\begin{aligned}\nF_1&=1\\\\\nF_2&=2\\\\\nF_n&=F_{n-1}+F_{n-2} \\text{ for } n \\ge 3\n\\end{aligned}\n$$\n序列的前面若干项为 $1,2,3,5,8,13,21,\\ldots$。\n\n对一个正整数 $p$，定义 $X(p)$ 为将 $p$ 用若干个**不同的**斐波那契数的和表示的方案数，两个方案不同当且仅当有一个斐波那契数恰好只在其中一个方案中出现。\n\n给定一个长度为 $n$ 的正整数序列 $a_1,a_2,\\ldots,a_n$，对于他的一个非空前缀 $a_1,a_2,\\ldots,a_k$，我们定义 $p_k=F_{a_1}+F_{a_2}+\\cdots+F_{a_k}$。\n\n你的任务是对于所有 $k=1, 2, \\ldots, n$，求出 $X(p_k)$ 对 $10^9+7$ 取模的值。", "inputFormat": "标准输入的第一行一个整数 $n$。\n\n第二行 $n$ 个用空格隔开的整数 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "标准输出包含 $n$ 行，在第 $k$ 行输出 $X(p_k)$ 对 $10^9+7$ 取模后的值。", "hint": "#### 样例解释\n\n$p_k$ 的值如下：\n$$\n\\begin{aligned}\np_1&=F_4=5\\\\\np_2&=F_4+F_1=5+1=6\\\\\np_3&=F_4+F_1+F_1=5+1+1=7\\\\\np_4&=F_4+F_1+F_1+F_5=5+1+1+8=15\n\\end{aligned}\n$$\n\n$5$ 可以用两种方法表示：$F_2+F_3$ 和单独的 $F_4$（即分别为 $2+3$ 和 $5$），所以 $X(p_1)=2$。\n\n我们有 $X(p_2)=2$ 因为 $p_2=1+5=2+3$。\n\n将 $7$ 表示成若干不同的斐波那契数之和的唯一一种方案是 $2+5$。\n\n最后，$15$ 可以表示成 $2+13$ 和 $2+5+8$（两种方案）。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5,\\ 1\\le a_i\\le 10^9$。\n\n所有测试数据被划分成以下若干个有附加限制的子任务。每个子任务中包含若干个测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n, a_i \\leq 15$ | $5$ |\n| $2$ | $n, a_i \\leq 100$ | $20$ |\n| $3$ | $n \\leq 100$，$a_i$ 是不同的完全平方数 | $15$ |\n| $4$ | $n \\leq 100$ | $10$ |\n| $5$ | $a_i$ 是不同的偶数 | $15$ |\n| $6$ | 无附加限制 | $35$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2018] Fibonacci representations", "background": "译自 CEOI2018 Day2 T1. [Fibonacci Representations](https://ceoi2018.pl/wp-content/uploads/2018/08/fib.pdf)。", "description": "我们定义斐波那契数列为\n$$\n\\begin{aligned}\nF_1&=1\\\\\nF_2&=2\\\\\nF_n&=F_{n-1}+F_{n-2} \\text{ for } n \\ge 3\n\\end{aligned}\n$$\n序列的前面若干项为 $1,2,3,5,8,13,21,\\ldots$。\n\n对一个正整数 $p$，定义 $X(p)$ 为将 $p$ 用若干个**不同的**斐波那契数的和表示的方案数，两个方案不同当且仅当有一个斐波那契数恰好只在其中一个方案中出现。\n\n给定一个长度为 $n$ 的正整数序列 $a_1,a_2,\\ldots,a_n$，对于他的一个非空前缀 $a_1,a_2,\\ldots,a_k$，我们定义 $p_k=F_{a_1}+F_{a_2}+\\cdots+F_{a_k}$。\n\n你的任务是对于所有 $k=1, 2, \\ldots, n$，求出 $X(p_k)$ 对 $10^9+7$ 取模的值。", "inputFormat": "标准输入的第一行一个整数 $n$。\n\n第二行 $n$ 个用空格隔开的整数 $a_1,a_2,\\ldots,a_n$。", "outputFormat": "标准输出包含 $n$ 行，在第 $k$ 行输出 $X(p_k)$ 对 $10^9+7$ 取模后的值。", "hint": "#### 样例解释\n\n$p_k$ 的值如下：\n$$\n\\begin{aligned}\np_1&=F_4=5\\\\\np_2&=F_4+F_1=5+1=6\\\\\np_3&=F_4+F_1+F_1=5+1+1=7\\\\\np_4&=F_4+F_1+F_1+F_5=5+1+1+8=15\n\\end{aligned}\n$$\n\n$5$ 可以用两种方法表示：$F_2+F_3$ 和单独的 $F_4$（即分别为 $2+3$ 和 $5$），所以 $X(p_1)=2$。\n\n我们有 $X(p_2)=2$ 因为 $p_2=1+5=2+3$。\n\n将 $7$ 表示成若干不同的斐波那契数之和的唯一一种方案是 $2+5$。\n\n最后，$15$ 可以表示成 $2+13$ 和 $2+5+8$（两种方案）。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5,\\ 1\\le a_i\\le 10^9$。\n\n所有测试数据被划分成以下若干个有附加限制的子任务。每个子任务中包含若干个测试点。\n\n| 子任务 | 附加限制 | 分值 |\n| :--: | :---: | :--: |\n| $1$ | $n, a_i \\leq 15$ | $5$ |\n| $2$ | $n, a_i \\leq 100$ | $20$ |\n| $3$ | $n \\leq 100$，$a_i$ 是不同的完全平方数 | $15$ |\n| $4$ | $n \\leq 100$ | $10$ |\n| $5$ | $a_i$ 是不同的偶数 | $15$ |\n| $6$ | 无附加限制 | $35$ |", "locale": "zh-CN"}}}
{"pid": "P6362", "type": "P", "difficulty": 7, "samples": [["4\n0 0\n1 2\n-1 2\n0 4", "6.472136"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["计算几何", "Special Judge", "O2优化", "分治", "生成树", "凸包"], "title": "平面欧几里得最小生成树", "background": "2025/06/13 @[ケロシ](https://www.luogu.com.cn/user/511639) 加入十组 hack 数据，位于 Subtask 1。", "description": "平面上有 $n$ 个点，第 $i$ 个点坐标为 $(x_i, y_i)$。连接 $i, j$ 两点的边权为 $\\sqrt{(x_i - x_j) ^ 2 + (y_i - y_j) ^ 2}$。求最小生成树的边权之和。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示答案。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$  内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n该样例中，最小生成树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p0dtxt2l.png)\n\n边权之和为 $2 \\sqrt{5} + 2 \\approx 6.47213595500$。\n\n---\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n \\le 5000$。\n- 对于 $100\\%$ 的数据，$3 \\le n \\le 10 ^ 5$，$\\lvert x_i \\rvert, \\lvert y_i \\rvert \\le 10 ^ 5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "平面欧几里得最小生成树", "background": "2025/06/13 @[ケロシ](https://www.luogu.com.cn/user/511639) 加入十组 hack 数据，位于 Subtask 1。", "description": "平面上有 $n$ 个点，第 $i$ 个点坐标为 $(x_i, y_i)$。连接 $i, j$ 两点的边权为 $\\sqrt{(x_i - x_j) ^ 2 + (y_i - y_j) ^ 2}$。求最小生成树的边权之和。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示答案。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$  内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n该样例中，最小生成树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p0dtxt2l.png)\n\n边权之和为 $2 \\sqrt{5} + 2 \\approx 6.47213595500$。\n\n---\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n \\le 5000$。\n- 对于 $100\\%$ 的数据，$3 \\le n \\le 10 ^ 5$，$\\lvert x_i \\rvert, \\lvert y_i \\rvert \\le 10 ^ 5$。", "locale": "zh-CN"}}}
{"pid": "P6363", "type": "P", "difficulty": 2, "samples": [["6 3\n70 A\n80 A\n65 B\n95 B\n85 C\n90 C\n70 90 100\n95 88 85\n30 47 100", "93 B\n92 C\n89 C\n76 A\n75 B\n70 A"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 软件工程实习", "background": "", "description": "某大学的《软件工程》必修课分为理论和实践部分。理论部分由该校教授完成授课；而实践部分是由第三方的公司主导，需要同学们在五周时间内自学 HTML、css、JavaScript、vue、Python、django 等技术，并组队完成一个真实的互联网商业应用。\n\n参与这个课程的有 $n(0\\le n \\le 1000)$ 个学生，分成了不超过 $26$ 个队伍，每个队伍用 `A` 到 `Z` 来表示。每个队伍都会完成一个项目，并以队伍为单位，给所有队伍（包括自己队伍）打分，范围是 $0$ 到 $100$ 的整数。\n\n为了平息学生对这门课产生的出多问题的不满（比如工作量太大、时间过于紧张、考核方式不公平等），老师决定使用一种“看起来”很公平的方式来决定每组队伍的项目得分：\n\n对于某个队伍，首先计算所有队伍（包括自己）给这个队伍评分的平均值，然后剔除掉和这个平均值差别超过 $15$ 分的评分（保证不会出现所有的评分全部被剔除的情况），最后再对剩余的评分求平均值，四舍五入取整后作为这个队伍的项目得分。\n\n对于每一个同学，我们已经得知他们的队伍代号和理论成绩（也是 $0$ 到 $100$ 分的整数）。这位同学的最后得分就是 $60\\%$ 的理论成绩加上 $40\\%$ 的所在队伍的项目得分，然后四舍五入取整。\n\n现在老师想知道所有同学的分数排行。请按最后得分从高到低的顺序，输出每位同学的得分和他所在的队伍。", "inputFormat": "第一行两个整数 $n$ 和 $k$，分别表示学生数和队伍数。\n\n接下来 $n$ 行，每行一个整数 $s_i$ 和一个大写字母 $c_i$，表示第 $i$ 个选手的理论分数和队伍编号。保证队伍编号范围是从 `A` 开始后连续 $k$ 个字母中的一个。\n\n接下来 $k$ 行，每行 $k$ 个整数。其中第 $i$ 行第 $j$ 列的整数 $a_{i,j}$ 表示第 $i$ 个队伍给第 $j$ 个队伍的评分，当 $i=j$ 时，就是自评。", "outputFormat": "输出 $n$ 行表示答案，得分高的同学优先输出，得分相同时队伍编号较小的同学优先输出。对于每一行，先输出这位同学成绩，然后输出代表他的队伍编号的大写英文字母。", "hint": "A 组收到的分数分别是 $70,95,30$，其平均分为 $65$，则 $95,30$  被作为无效成绩剔除，因此 A 组的项目得分是 $70$ 分。  \nB 组收到的分数分别是 $90,88,47$，其平均分为 $75$，则 $47$  被作为无效成绩剔除，因此 B 组的项目得分是 $89$ 分。  \nC 组收到的分数分别是 $100,85,100$，其平均分为 $95$，没有打分被剔除，因此 C 组的项目得分是 $95$ 分。  \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 软件工程实习", "background": "", "description": "某大学的《软件工程》必修课分为理论和实践部分。理论部分由该校教授完成授课；而实践部分是由第三方的公司主导，需要同学们在五周时间内自学 HTML、css、JavaScript、vue、Python、django 等技术，并组队完成一个真实的互联网商业应用。\n\n参与这个课程的有 $n(0\\le n \\le 1000)$ 个学生，分成了不超过 $26$ 个队伍，每个队伍用 `A` 到 `Z` 来表示。每个队伍都会完成一个项目，并以队伍为单位，给所有队伍（包括自己队伍）打分，范围是 $0$ 到 $100$ 的整数。\n\n为了平息学生对这门课产生的出多问题的不满（比如工作量太大、时间过于紧张、考核方式不公平等），老师决定使用一种“看起来”很公平的方式来决定每组队伍的项目得分：\n\n对于某个队伍，首先计算所有队伍（包括自己）给这个队伍评分的平均值，然后剔除掉和这个平均值差别超过 $15$ 分的评分（保证不会出现所有的评分全部被剔除的情况），最后再对剩余的评分求平均值，四舍五入取整后作为这个队伍的项目得分。\n\n对于每一个同学，我们已经得知他们的队伍代号和理论成绩（也是 $0$ 到 $100$ 分的整数）。这位同学的最后得分就是 $60\\%$ 的理论成绩加上 $40\\%$ 的所在队伍的项目得分，然后四舍五入取整。\n\n现在老师想知道所有同学的分数排行。请按最后得分从高到低的顺序，输出每位同学的得分和他所在的队伍。", "inputFormat": "第一行两个整数 $n$ 和 $k$，分别表示学生数和队伍数。\n\n接下来 $n$ 行，每行一个整数 $s_i$ 和一个大写字母 $c_i$，表示第 $i$ 个选手的理论分数和队伍编号。保证队伍编号范围是从 `A` 开始后连续 $k$ 个字母中的一个。\n\n接下来 $k$ 行，每行 $k$ 个整数。其中第 $i$ 行第 $j$ 列的整数 $a_{i,j}$ 表示第 $i$ 个队伍给第 $j$ 个队伍的评分，当 $i=j$ 时，就是自评。", "outputFormat": "输出 $n$ 行表示答案，得分高的同学优先输出，得分相同时队伍编号较小的同学优先输出。对于每一行，先输出这位同学成绩，然后输出代表他的队伍编号的大写英文字母。", "hint": "A 组收到的分数分别是 $70,95,30$，其平均分为 $65$，则 $95,30$  被作为无效成绩剔除，因此 A 组的项目得分是 $70$ 分。  \nB 组收到的分数分别是 $90,88,47$，其平均分为 $75$，则 $47$  被作为无效成绩剔除，因此 B 组的项目得分是 $89$ 分。  \nC 组收到的分数分别是 $100,85,100$，其平均分为 $95$，没有打分被剔除，因此 C 组的项目得分是 $95$ 分。  \n", "locale": "zh-CN"}}}
{"pid": "P6364", "type": "P", "difficulty": 2, "samples": [["5\n3 4 5 4 3", "9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 1024 程序员节发橙子", "background": "", "description": "每年的 1024 程序员节日，黑马程序员都会举办大型的庆祝活动。今年的程序员节也不例外，每个班级的同学都发了橙子。\n\n班级里有 $n$ 名同学从前到后排成一排，且已经得知了这些同学的成绩，其中第 $i$ 名同学的成绩是 $a_i$。班主任想根据同学们上个阶段的考试成绩来评定发橙子的数量。为了激励成绩优秀同学，发橙子时需要满足如下要求：\n\n- 相邻同学中成绩好的同学的橙子必须更多。若相邻的同学成绩一样，则它们分到的数量必须平等。\n- 每个同学至少分配一个橙子\n\n由于预算有限，班主任希望在符合要求的情况下发出尽可能少的橙子。请问，至少需要准备多少橙子呢？", "inputFormat": "第一行是一个整数 $n$，表示学生数量。\n\n接下来一行有 $n$ 个整数，第 $i$ 个整数 $a_i$，表示第 $i$ 个同学的成绩。", "outputFormat": "输出答案，也就是需要最少准备多少个橙子。", "hint": "#### 样例 1 解释\n\n每位同学拿到的橙子的数量分别是 $1,2,3,2,1$，所以至少需要准备 $9$ 个。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^6$，$0 \\leq a_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 1024 程序员节发橙子", "background": "", "description": "每年的 1024 程序员节日，黑马程序员都会举办大型的庆祝活动。今年的程序员节也不例外，每个班级的同学都发了橙子。\n\n班级里有 $n$ 名同学从前到后排成一排，且已经得知了这些同学的成绩，其中第 $i$ 名同学的成绩是 $a_i$。班主任想根据同学们上个阶段的考试成绩来评定发橙子的数量。为了激励成绩优秀同学，发橙子时需要满足如下要求：\n\n- 相邻同学中成绩好的同学的橙子必须更多。若相邻的同学成绩一样，则它们分到的数量必须平等。\n- 每个同学至少分配一个橙子\n\n由于预算有限，班主任希望在符合要求的情况下发出尽可能少的橙子。请问，至少需要准备多少橙子呢？", "inputFormat": "第一行是一个整数 $n$，表示学生数量。\n\n接下来一行有 $n$ 个整数，第 $i$ 个整数 $a_i$，表示第 $i$ 个同学的成绩。", "outputFormat": "输出答案，也就是需要最少准备多少个橙子。", "hint": "#### 样例 1 解释\n\n每位同学拿到的橙子的数量分别是 $1,2,3,2,1$，所以至少需要准备 $9$ 个。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^6$，$0 \\leq a_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6365", "type": "P", "difficulty": 3, "samples": [["4\n21 9\n28 9\n28 3\n17 4", "21"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 众数出现的次数", "background": "", "description": "传智专修学员的课堂上，为了活跃气氛，并巩固位运算的知识，同学们玩起了一个游戏。\n\n班级里有 $n(n\\le10^6)$ 名同学，每位同学都获得了两张卡，红卡或者黑卡。每张卡上都有一个不超过 $10^9$ 的非负整数。第 $i$ 位同学手里红卡数字是 $a_i$ ，黑卡数字是 $b_i$。\n\n现在需要每位同学出牌。每位同学可以直接将红卡上的数字打出，或者将自己的红卡上的数字和自己黑卡数字进行按位异或操作后的结果打出。最后老师会收集所有同学打出的数字。\n\n这些数字中出现次数最多的数字是众数。在所有同学合作的最优策略下，我们希望众数对应数字出现的次数尽可能多。请问出现次数最多的数字是多少呢？", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，其中第 $i$ 行时非负整数 $a_i,b_i$ 代表第 $i$ 名同学手上红卡和黑卡的数字。", "outputFormat": "一个整数，表示答案。如果有多个解，请输出最小的那个。", "hint": "样例解释：\n\n众数出现次数最多是 $3$ 次，有如下两种方法：\n\n- $1$ 号同学直接出红卡，$2$ 号同学出红黑异或，$3$ 号同学随便出，$4$ 号同学出红黑异或。这样 $1,2,4$ 号同学都可以打出 $21$。\n- $1$ 号同学出红黑异或，$2$ 号同学直接出红卡，$3$ 号同学直接出红卡，$4$ 号同学随便出。这样 $1,2,3$ 号同学都可以打出 $28$。\n\n所以 $21$ 和 $28$ 都是出现次数最多的众数，因为最多可以出现 $3$ 次，不存在出现 $4$ 次的方案。但是由于要求如果有多解输出小的，请输出 $21$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 众数出现的次数", "background": "", "description": "传智专修学员的课堂上，为了活跃气氛，并巩固位运算的知识，同学们玩起了一个游戏。\n\n班级里有 $n(n\\le10^6)$ 名同学，每位同学都获得了两张卡，红卡或者黑卡。每张卡上都有一个不超过 $10^9$ 的非负整数。第 $i$ 位同学手里红卡数字是 $a_i$ ，黑卡数字是 $b_i$。\n\n现在需要每位同学出牌。每位同学可以直接将红卡上的数字打出，或者将自己的红卡上的数字和自己黑卡数字进行按位异或操作后的结果打出。最后老师会收集所有同学打出的数字。\n\n这些数字中出现次数最多的数字是众数。在所有同学合作的最优策略下，我们希望众数对应数字出现的次数尽可能多。请问出现次数最多的数字是多少呢？", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，其中第 $i$ 行时非负整数 $a_i,b_i$ 代表第 $i$ 名同学手上红卡和黑卡的数字。", "outputFormat": "一个整数，表示答案。如果有多个解，请输出最小的那个。", "hint": "样例解释：\n\n众数出现次数最多是 $3$ 次，有如下两种方法：\n\n- $1$ 号同学直接出红卡，$2$ 号同学出红黑异或，$3$ 号同学随便出，$4$ 号同学出红黑异或。这样 $1,2,4$ 号同学都可以打出 $21$。\n- $1$ 号同学出红黑异或，$2$ 号同学直接出红卡，$3$ 号同学直接出红卡，$4$ 号同学随便出。这样 $1,2,3$ 号同学都可以打出 $28$。\n\n所以 $21$ 和 $28$ 都是出现次数最多的众数，因为最多可以出现 $3$ 次，不存在出现 $4$ 次的方案。但是由于要求如果有多解输出小的，请输出 $21$。", "locale": "zh-CN"}}}
{"pid": "P6366", "type": "P", "difficulty": 4, "samples": [["15", "3"], ["FF", "3"], ["10", "No"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["传智杯"], "title": "[传智杯 #2 初赛] 特殊的翻转", "background": "", "description": "k 老师在研究一段病毒程序的代码。这段代码是由一段长度不超过 $10^6$ 的十六进制字符（也就是 `0` 到 `9` 和 `A` 到 `F`）组成的信息。现在 k 老师要将其转换为二进制的 0/1 串（这个时候需要确保最高位是 1）。然后对这个 0/1 串进行“翻转”操作。\n\n对于每次“翻转”操作，k 老师可以选择这个 0/1 串中的其中一位，将这一位和这一位相邻的两位，一共三位，分别进行“翻转”（也就是 0 变 1，1 变 0）。如果指定的这一位是序列的开头或者结尾，那么翻转这一位和存在的相邻位即可。\n\nk 老师想知道，如何用最少的“翻转”步骤，将这个 0/1 串变为全 0 的串。", "inputFormat": "一个十六进制的字符串，由 `0` 到 `9` 和 `A` 到 `F` 构成。", "outputFormat": "最少能将其变为全 0 串需要的“翻转”步骤次数。如果无论如何都不能将其变为全 0 串，则输出 `No`。", "hint": "样例解释：\n\n十六进制的 15 对应二进制的 10101，翻转第 1/3/5 位，就可以全部变为 0。\n\n十六进制的 FF 对应二进制的 11111111，翻转第 2/5/8 位，就可以全部变为 0。\n\n十六进制的 10 对应二进制的 10000，无法全变为 0。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 初赛] 特殊的翻转", "background": "", "description": "k 老师在研究一段病毒程序的代码。这段代码是由一段长度不超过 $10^6$ 的十六进制字符（也就是 `0` 到 `9` 和 `A` 到 `F`）组成的信息。现在 k 老师要将其转换为二进制的 0/1 串（这个时候需要确保最高位是 1）。然后对这个 0/1 串进行“翻转”操作。\n\n对于每次“翻转”操作，k 老师可以选择这个 0/1 串中的其中一位，将这一位和这一位相邻的两位，一共三位，分别进行“翻转”（也就是 0 变 1，1 变 0）。如果指定的这一位是序列的开头或者结尾，那么翻转这一位和存在的相邻位即可。\n\nk 老师想知道，如何用最少的“翻转”步骤，将这个 0/1 串变为全 0 的串。", "inputFormat": "一个十六进制的字符串，由 `0` 到 `9` 和 `A` 到 `F` 构成。", "outputFormat": "最少能将其变为全 0 串需要的“翻转”步骤次数。如果无论如何都不能将其变为全 0 串，则输出 `No`。", "hint": "样例解释：\n\n十六进制的 15 对应二进制的 10101，翻转第 1/3/5 位，就可以全部变为 0。\n\n十六进制的 FF 对应二进制的 11111111，翻转第 2/5/8 位，就可以全部变为 0。\n\n十六进制的 10 对应二进制的 10000，无法全变为 0。\n", "locale": "zh-CN"}}}
{"pid": "P6367", "type": "P", "difficulty": 1, "samples": [["4\nmirko\nstanko\nstanko\nstanko\n", "1"], ["17\na\nb\nb\na\na\na\nc\na\nb\nb\nc\nb\nb\nb\nb\nb\nb\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] PRASE", "background": "", "description": "孩子们正在餐桌旁吃午餐，共有 $n$ 份食物，孩子们会按照从 $1$ 至 $n$ 的顺序依次取走这 $n$ 份食物。\n\n当某个孩子取走了一份食物时，如果这个他之前已经取走的食物份数（不包括当前这一份）比其他人取走的食物份数之和还要多，那么他的妈妈就会提醒他注意自己不礼貌的行为。注意，虽然被妈妈提醒了，但是他仍然会取走这份食物。换句话说，妈妈的提醒对孩子的行为没有任何影响。\n\n给定 $n$ 份食物分别被哪个孩子取走了，请求出妈妈们一共提醒了多少次。", "inputFormat": "第一行是一个整数，代表食物的份数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个字符串，第 $(i + 1)$ 行的字符串 $s_i$ 表示取走第 $i$ 份食物的孩子的名字。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n当取到第 $3$ 份食物时，stanko 已取走的食物（不包括当前这份）的份数是一份，而其他人也总共取走了一份，所以 stanko 的妈妈不会提醒他注意礼貌。\n\n当取到第 $4$ 份食物时，stanko 已经取走两份食物，其他人总共取走了一份食物，因此妈妈会提醒他。\n\n---\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$\n- $1 \\leq |s_i| \\leq 20$，$s_i$ 中只含小写英文字母。$|s_i|$ 表示字符串 $s_i$ 的长度。\n\n---\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T1  PRASE***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2006/2007 #6] PRASE", "background": "", "description": "Children are having lunch at the table. There are $n$ portions of food, and the children take these $n$ portions one by one in order from $1$ to $n$.\n\nWhen a child takes a portion, if the number of portions he has already taken before this moment (excluding the current portion) is greater than the total number of portions taken by all other children, then his mom will remind him to mind his manners. Note that even if he is reminded, he will still take this portion. In other words, the reminder does not affect the child's behavior.\n\nGiven which child takes each of the $n$ portions, determine the total number of reminders given by the moms.", "inputFormat": "The first line contains an integer $n$, the number of portions.\n\nLines $2$ to $n + 1$: each line contains a string. The string on the $(i + 1)$-th line, $s_i$, is the name of the child who takes the $i$-th portion.", "outputFormat": "Output a single integer: the answer.", "hint": "#### Sample 1 Explanation\n\nWhen the $3$rd portion is taken, stanko has previously taken $1$ portion (excluding the current one), and the others have also taken $1$ portion in total, so stanko’s mom does not remind him.\n\nWhen the $4$th portion is taken, stanko has already taken $2$ portions, while the others have taken $1$ portion in total, so his mom reminds him.\n\n---\n\n#### Constraints\n\nFor all test cases, it is guaranteed that:\n- $1 \\leq n \\leq 100$.\n- $1 \\leq |s_i| \\leq 20$, and $s_i$ contains only lowercase English letters. $|s_i|$ denotes the length of the string.\n\n---\n\n#### Note\n\nProblem translated from [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T1 PRASE*.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #6] PRASE", "background": "", "description": "孩子们正在餐桌旁吃午餐，共有 $n$ 份食物，孩子们会按照从 $1$ 至 $n$ 的顺序依次取走这 $n$ 份食物。\n\n当某个孩子取走了一份食物时，如果这个他之前已经取走的食物份数（不包括当前这一份）比其他人取走的食物份数之和还要多，那么他的妈妈就会提醒他注意自己不礼貌的行为。注意，虽然被妈妈提醒了，但是他仍然会取走这份食物。换句话说，妈妈的提醒对孩子的行为没有任何影响。\n\n给定 $n$ 份食物分别被哪个孩子取走了，请求出妈妈们一共提醒了多少次。", "inputFormat": "第一行是一个整数，代表食物的份数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个字符串，第 $(i + 1)$ 行的字符串 $s_i$ 表示取走第 $i$ 份食物的孩子的名字。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n当取到第 $3$ 份食物时，stanko 已取走的食物（不包括当前这份）的份数是一份，而其他人也总共取走了一份，所以 stanko 的妈妈不会提醒他注意礼貌。\n\n当取到第 $4$ 份食物时，stanko 已经取走两份食物，其他人总共取走了一份食物，因此妈妈会提醒他。\n\n---\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$\n- $1 \\leq |s_i| \\leq 20$，$s_i$ 中只含小写英文字母。$|s_i|$ 表示字符串 $s_i$ 的长度。\n\n---\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T1  PRASE***。", "locale": "zh-CN"}}}
{"pid": "P6368", "type": "P", "difficulty": 2, "samples": [["2 2\n#.\n.#\n3 3\n", "#..#\n.##.\n.#..\n#..#"], ["3 3\n###\n###\n###\n1 4\n", "###.##\n######\n######\n######\n######\n######"], ["5 4\n#.#.\n#.##\n#.##\n....\n.#.#\n10 5\n", "#.#..#.#\n#.####.#\n#.####.#\n........\n.#.##.#.\n.#.##.#.\n........\n#.####.#\n#.####.#\n#.#.##.#"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] MAGIJA", "background": "知名魔术师 Al'Dimi Kartimi 需要你帮助他来设计他扑克牌的背面图案。", "description": "众所周知，扑克牌的背面是一个矩形，通过做两边的中垂线可以将矩形分成相等的四部分。\n\nAl'Dimi Kartimi 首先绘制了左上角部分的图案，图案共有 $r$ 行 $m$ 列，由字符 `#` 和字符 `.` 组成。绘制完后，他将该图案沿矩形垂直方向的中垂线镜面对称地绘制了矩形右上角的部分。然后他沿矩形水平方向的中垂线镜面对称地绘制了矩形的下半部分。\n\n在绘制后，Al'Dimi Kartimi 会故意犯一个小错误，以此来帮助他识别这是哪张扑克牌的背面。具体的，他会选择第 $x$ 行第 $y$ 列的字符，若该字符是 `#`，则将其改成 `.`，否则将其改成 `#`。\n\n下面是三个背面图案的例子（错误的字符以灰色高亮）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p7lah31.png)\n\n给定左上角的图案以及 $x, y$，请输出整张扑克牌背面的图案。", "inputFormat": "第一行有两个整数，分别表示左上角图案的行数 $r$ 和列数 $c$。\n\n第 $2$ 到第 $(r + 1)$ 行，每行一个长度为 $c$ 的字符串，第 $(i + 1)$ 行的第 $j$ 个字符 $s_{i, j}$ 表示图案第 $i$ 行第 $j$ 列的字符。\n\n第 $(r + 2)$ 行有两个整数，分别表示小错误所在的行数 $x$ 和列数 $y$。", "outputFormat": "输出 $2r$ 行，每行一个长度为 $2c$ 的字符串，表示整个背面的图案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq r, c \\leq 50$。\n- $1 \\leq x \\leq 2r$，$1 \\leq y \\leq 2c$。\n- $s_{i, j} \\in \\{\\texttt \\#, \\texttt . \\}$\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T2   MAGIJA***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2006/2007 #6] MAGIJA", "background": "The famous magician Al'Dimi Kartimi needs your help to design the back pattern of his playing cards.", "description": "As we all know, the back of a playing card is a rectangle. By drawing the perpendicular bisectors of its two sides, the rectangle can be divided into four equal parts.\n\nAl'Dimi Kartimi first draws the pattern in the upper-left part. The pattern has $r$ rows and $c$ columns, and consists of the characters `#` and `.`. After finishing, he mirrors this pattern across the vertical midline of the rectangle to draw the upper-right part. Then he mirrors the entire upper half across the horizontal midline to draw the lower half.\n\nAfter drawing, Al'Dimi Kartimi will intentionally make a small mistake so that he can identify which card back it is. Specifically, he chooses the character in row $x$, column $y$: if it is `#`, he changes it to `.`, otherwise he changes it to `#`.\n\nBelow are three examples of card back patterns (the wrong character is highlighted in gray).\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p7lah31.png)\n\nGiven the upper-left pattern and $x, y$, output the full pattern of the entire card back.", "inputFormat": "The first line contains two integers, representing the number of rows $r$ and the number of columns $c$ of the upper-left pattern.\n\nLines $2$ to $(r + 1)$ each contain a string of length $c$. The $j$-th character $s_{i, j}$ in line $(i + 1)$ represents the character in row $i$, column $j$ of the pattern.\n\nLine $(r + 2)$ contains two integers, representing the row $x$ and column $y$ of the small mistake.", "outputFormat": "Output $2r$ lines, each a string of length $2c$, representing the full back pattern.", "hint": "#### Constraints\n\nFor all test cases, it is guaranteed that:\n\n- $1 \\leq r, c \\leq 50$.\n- $1 \\leq x \\leq 2r$, $1 \\leq y \\leq 2c$.\n- $s_{i, j} \\in \\{\\texttt \\#, \\texttt . \\}$\n\n#### Notes\n\n**This problem is translated from [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T2   MAGIJA***。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #6] MAGIJA", "background": "知名魔术师 Al'Dimi Kartimi 需要你帮助他来设计他扑克牌的背面图案。", "description": "众所周知，扑克牌的背面是一个矩形，通过做两边的中垂线可以将矩形分成相等的四部分。\n\nAl'Dimi Kartimi 首先绘制了左上角部分的图案，图案共有 $r$ 行 $m$ 列，由字符 `#` 和字符 `.` 组成。绘制完后，他将该图案沿矩形垂直方向的中垂线镜面对称地绘制了矩形右上角的部分。然后他沿矩形水平方向的中垂线镜面对称地绘制了矩形的下半部分。\n\n在绘制后，Al'Dimi Kartimi 会故意犯一个小错误，以此来帮助他识别这是哪张扑克牌的背面。具体的，他会选择第 $x$ 行第 $y$ 列的字符，若该字符是 `#`，则将其改成 `.`，否则将其改成 `#`。\n\n下面是三个背面图案的例子（错误的字符以灰色高亮）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p7lah31.png)\n\n给定左上角的图案以及 $x, y$，请输出整张扑克牌背面的图案。", "inputFormat": "第一行有两个整数，分别表示左上角图案的行数 $r$ 和列数 $c$。\n\n第 $2$ 到第 $(r + 1)$ 行，每行一个长度为 $c$ 的字符串，第 $(i + 1)$ 行的第 $j$ 个字符 $s_{i, j}$ 表示图案第 $i$ 行第 $j$ 列的字符。\n\n第 $(r + 2)$ 行有两个整数，分别表示小错误所在的行数 $x$ 和列数 $y$。", "outputFormat": "输出 $2r$ 行，每行一个长度为 $2c$ 的字符串，表示整个背面的图案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq r, c \\leq 50$。\n- $1 \\leq x \\leq 2r$，$1 \\leq y \\leq 2c$。\n- $s_{i, j} \\in \\{\\texttt \\#, \\texttt . \\}$\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T2   MAGIJA***。", "locale": "zh-CN"}}}
{"pid": "P6369", "type": "P", "difficulty": 2, "samples": [["3\nXOC\nXOC\nX..", "X"], ["4\n....\n..A.\nAAB.\n.B.B", "ongoing"], ["3\nABB\nAAA\nBBA", "A"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] MARATON", "background": "", "description": "给定一个 $n\\times n$ 的正方形棋盘，几位玩家在上面玩三子棋。\n\n三子棋的规则是每位玩家轮流写下一个字母，同一名玩家的字母相同。当有一名玩家在行、列或者斜线上连续组成了 $3$ 个自己的字母时，即为获胜。\n\n给定棋盘的当前状态，请找出获胜的玩家。\n", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行 $n$ 个字符，可能为大写字母或 `.`（表示没人在这下棋）。", "outputFormat": "输出一行一个大小字母，表示获胜的玩家所写的那种字母。\n\n如果没有人获胜，则输出 `ongoing`。\n\n数据保证最多只有一个人获胜。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 30$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T3 MARATON***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] MARATON", "background": "", "description": "给定一个 $n\\times n$ 的正方形棋盘，几位玩家在上面玩三子棋。\n\n三子棋的规则是每位玩家轮流写下一个字母，同一名玩家的字母相同。当有一名玩家在行、列或者斜线上连续组成了 $3$ 个自己的字母时，即为获胜。\n\n给定棋盘的当前状态，请找出获胜的玩家。\n", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行 $n$ 个字符，可能为大写字母或 `.`（表示没人在这下棋）。", "outputFormat": "输出一行一个大小字母，表示获胜的玩家所写的那种字母。\n\n如果没有人获胜，则输出 `ongoing`。\n\n数据保证最多只有一个人获胜。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 30$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T3 MARATON***。", "locale": "zh-CN"}}}
{"pid": "P6370", "type": "P", "difficulty": 4, "samples": [["5 4\n....\n....\nX...\n....\n....\n4\n1\n1\n1\n1", "....\nO...\nX...\n....\nOOO."], ["7 6\n......\n......\n...XX.\n......\n......\n.XX...\n......\n6\n1\n4\n4\n6\n4\n4", "......\n...O..\n...XX.\n......\n.OO...\n.XX...\nO..O.O"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["模拟", "2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] KAMEN", "background": "", "description": "在一个 $r\\times c$ 的方阵里，有些点是 `.`，表示为空；有些点是 `X`，表示这里是一堵墙。\n\n我们可以认为这个方阵在竖直方向放置。\n\n有一个人在这 $c$ 列的第一行会抛下 $n$ 块石头，用 `O` 来表示。如果这一个石头由于重力作用会向下滚动。具体来说，就是会从第一行向最后一行滚动，规则如下：\n\n- 如果下一个格子是空格，那么向下运动一格。\n- 如果下一个格子是墙或者已经到了第 $r$ 行，则停止滚动并停在原处。\n- 如果下一个格子是一块停止的石头，则如果在左侧和左下方为空格时首选滚动到左侧的那一行，否则如果右侧和右下方为空格，则滚动到右侧的那一行。如果两侧都不为空，则石头静止不在移动。\n\n只有前一块石头永久静止后，下一块石头才会被抛下。\n\n请你输出最终方阵的状态。\n\n\n", "inputFormat": "输入第一行为两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个字符，每个字符可能为 `.` 或 `X`。\n\n下一行为一个整数 $n$，表示石头的数量。\n\n接下来的 $n$ 行，每行一个整数 $1\\le x\\le c$，表示这个石头位于第 $x$ 列被抛下，按照输入顺序依次抛下。", "outputFormat": "输出一个 $r\\times c$ 的方阵，包含 `.` `X` `O`，为最终石头都抛完后的状态。", "hint": "#### 样例 1 解释\n\n$4$ 块石头依次在第一列被抛下。第一块石头被唯一一堵墙堵住。这样剩下的石头都可以向右滚动一列。第二块石头毫无障碍地下落，第三四块分别落在了它的左边和右边。\n\n#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，保证 $r\\le 30$。\n- 对于 $100\\%$ 的数据，保证 $1\\le r\\le 3\\times 10^4$，$1\\le c\\le 30$，$1\\le n\\le 10^5$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T4 KAMEN***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] KAMEN", "background": "", "description": "在一个 $r\\times c$ 的方阵里，有些点是 `.`，表示为空；有些点是 `X`，表示这里是一堵墙。\n\n我们可以认为这个方阵在竖直方向放置。\n\n有一个人在这 $c$ 列的第一行会抛下 $n$ 块石头，用 `O` 来表示。如果这一个石头由于重力作用会向下滚动。具体来说，就是会从第一行向最后一行滚动，规则如下：\n\n- 如果下一个格子是空格，那么向下运动一格。\n- 如果下一个格子是墙或者已经到了第 $r$ 行，则停止滚动并停在原处。\n- 如果下一个格子是一块停止的石头，则如果在左侧和左下方为空格时首选滚动到左侧的那一行，否则如果右侧和右下方为空格，则滚动到右侧的那一行。如果两侧都不为空，则石头静止不在移动。\n\n只有前一块石头永久静止后，下一块石头才会被抛下。\n\n请你输出最终方阵的状态。\n\n\n", "inputFormat": "输入第一行为两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个字符，每个字符可能为 `.` 或 `X`。\n\n下一行为一个整数 $n$，表示石头的数量。\n\n接下来的 $n$ 行，每行一个整数 $1\\le x\\le c$，表示这个石头位于第 $x$ 列被抛下，按照输入顺序依次抛下。", "outputFormat": "输出一个 $r\\times c$ 的方阵，包含 `.` `X` `O`，为最终石头都抛完后的状态。", "hint": "#### 样例 1 解释\n\n$4$ 块石头依次在第一列被抛下。第一块石头被唯一一堵墙堵住。这样剩下的石头都可以向右滚动一列。第二块石头毫无障碍地下落，第三四块分别落在了它的左边和右边。\n\n#### 数据规模与约定\n\n- 对于 $60\\%$ 的数据，保证 $r\\le 30$。\n- 对于 $100\\%$ 的数据，保证 $1\\le r\\le 3\\times 10^4$，$1\\le c\\le 30$，$1\\le n\\le 10^5$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T4 KAMEN***。", "locale": "zh-CN"}}}
{"pid": "P6371", "type": "P", "difficulty": 6, "samples": [["2 1 20\n0123456789", "10"], ["6 100 9294\n23689", "111"], ["5 4395 9999999999\n12346789", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "数位 DP", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] V", "background": "", "description": "使用给定的数字，组成一些在 $[A,B]$ 之间的数使得这些数每个都能被 $X$ 整除。", "inputFormat": "输入第一行包含三个整数 $X,A,B$。\n\n第二行为一个数字串，表示可以使用的数字。一个数字可以使用多次，数字不会重复出现。", "outputFormat": "输出一行一个整数，表示在 $[A,B]$ 这个区间用这些给定的数字能组成多少个被 $X$ 整除的数字。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1\\le X\\lt 10^{11}$，$1\\le A\\le B\\lt 10^{11}$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T5 V***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] V", "background": "", "description": "使用给定的数字，组成一些在 $[A,B]$ 之间的数使得这些数每个都能被 $X$ 整除。", "inputFormat": "输入第一行包含三个整数 $X,A,B$。\n\n第二行为一个数字串，表示可以使用的数字。一个数字可以使用多次，数字不会重复出现。", "outputFormat": "输出一行一个整数，表示在 $[A,B]$ 这个区间用这些给定的数字能组成多少个被 $X$ 整除的数字。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1\\le X\\lt 10^{11}$，$1\\le A\\le B\\lt 10^{11}$。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T5 V***。", "locale": "zh-CN"}}}
{"pid": "P6372", "type": "P", "difficulty": 0, "samples": [["3\n1 1 1 1 3 3\n1 3 3 1 6 6\n1 4 4 1 5 5", "2"], ["3\n15 10 10 15 20 20\n10 15 10 20 15 20\n10 10 15 20 20 15", "3"], ["5\n4 4 5 4 3 2\n5 3 2 4 3 1\n5 4 3 1 1 3\n1 4 3 1 5 4\n5 5 4 5 4 2", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #6] PROSTOR", "background": "", "description": "给定三维空间内的 $n$ 个长方体的位置，请你判断有多少对矩形会互相有重合的部分。（如果仅有一个点也会被计入结果）", "inputFormat": "输入第一行为一个整数 $n$，表示矩形的数量。\n\n接下来的 $n$ 行，每行六个整数。前三个数表示这个矩形左下角顶点的坐标，后三个数表示这个矩形右上角顶点的坐标。", "outputFormat": "输出一行一个整数，表示有重合的矩形对数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，坐标介于 $1\\sim 999$ 之间，保证每个矩形平行于一个坐标面。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T6 PROSTOR***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #6] PROSTOR", "background": "", "description": "给定三维空间内的 $n$ 个长方体的位置，请你判断有多少对矩形会互相有重合的部分。（如果仅有一个点也会被计入结果）", "inputFormat": "输入第一行为一个整数 $n$，表示矩形的数量。\n\n接下来的 $n$ 行，每行六个整数。前三个数表示这个矩形左下角顶点的坐标，后三个数表示这个矩形右上角顶点的坐标。", "outputFormat": "输出一行一个整数，表示有重合的矩形对数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，坐标介于 $1\\sim 999$ 之间，保证每个矩形平行于一个坐标面。\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #6](https://hsin.hr/coci/archive/2006_2007/contest6_tasks.pdf) *T6 PROSTOR***。", "locale": "zh-CN"}}}
{"pid": "P6373", "type": "P", "difficulty": 5, "samples": [["4 3\nIOOI\n2 1 4\n1 1 O\n2 1 2", "2\n0"], ["10 10\nIIOOIOIIIO\n1 1 I\n2 1 7\n1 5 O\n2 5 9\n1 4 I\n1 10 I\n2 1 10\n2 5 10\n2 2 8\n2 3 9", "11\n0\n34\n0\n11\n6\n"]], "limits": {"time": [2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200, 2200], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "线段树"], "title": "「StOI-1」IOI计数", "background": "蒻`L_C_A`想了解一下`IOI`，可他太菜了，看不懂题目，只会数数。", "description": "给定一个长度为 $n$ 字符串 $S$ ，同时进行 $m$ 次操作：      \n操作1：$1$ $x$ $c$ 表示将第 $x$ 个字符改为 $c$（ $c$ 只会为 `I` 或 `O` ）。       \n操作2：$2$ $l$ $r$ 询问字符串 $S$ 中有多少对三元组 $(i,j,k)$ 满足：   \n$S_{i}=$ `I` ,$S_{j}=$ `O` ,$S_{k}=$ `I` 并且 $l≤i<j<k≤r$ 。", "inputFormat": "输入第一行两个正整数 $n$ 和 $m$ 。     \n接下来一行是长度为 $n$ 的字符串 $s$ ，接下来 $m$ 行是操作。   \n含义均如题。\n", "outputFormat": "输出若干行：对于所有操作2，输出查询的答案，要求每个答案之间换行。", "hint": "对于 $20$% 的数据：$1 ≤ n,m ≤ 100$，$1 ≤ l ≤ r ≤ n$；  \n对于另 $20$% 的数据：$1 ≤ n ≤ $ $10^{5}$，$m = 1$，$ 1 ≤ l ≤ r ≤ n$；    \n对于另 $20$% 的数据：$1 ≤ n,m ≤  $ $10^{5}$，$l=1,r=n$；   \n对于 $100$% 的数据：$1 ≤ n,m ≤ $ $5$ $\\times$ $10^{5}$，$1 ≤ l ≤ r ≤ n$。\n\n所有数据保证合法。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「StOI-1」IOI计数", "background": "蒻`L_C_A`想了解一下`IOI`，可他太菜了，看不懂题目，只会数数。", "description": "给定一个长度为 $n$ 字符串 $S$ ，同时进行 $m$ 次操作：      \n操作1：$1$ $x$ $c$ 表示将第 $x$ 个字符改为 $c$（ $c$ 只会为 `I` 或 `O` ）。       \n操作2：$2$ $l$ $r$ 询问字符串 $S$ 中有多少对三元组 $(i,j,k)$ 满足：   \n$S_{i}=$ `I` ,$S_{j}=$ `O` ,$S_{k}=$ `I` 并且 $l≤i<j<k≤r$ 。", "inputFormat": "输入第一行两个正整数 $n$ 和 $m$ 。     \n接下来一行是长度为 $n$ 的字符串 $s$ ，接下来 $m$ 行是操作。   \n含义均如题。\n", "outputFormat": "输出若干行：对于所有操作2，输出查询的答案，要求每个答案之间换行。", "hint": "对于 $20$% 的数据：$1 ≤ n,m ≤ 100$，$1 ≤ l ≤ r ≤ n$；  \n对于另 $20$% 的数据：$1 ≤ n ≤ $ $10^{5}$，$m = 1$，$ 1 ≤ l ≤ r ≤ n$；    \n对于另 $20$% 的数据：$1 ≤ n,m ≤  $ $10^{5}$，$l=1,r=n$；   \n对于 $100$% 的数据：$1 ≤ n,m ≤ $ $5$ $\\times$ $10^{5}$，$1 ≤ l ≤ r ≤ n$。\n\n所有数据保证合法。\n", "locale": "zh-CN"}}}
{"pid": "P6374", "type": "P", "difficulty": 5, "samples": [["10 5\n1 2\n1 3\n2 4\n2 5\n2 10\n5 6\n3 7\n7 8\n7 9\n4 6 2\n4 10 1\n6 8 3\n9 10 2\n4 10 5\n", "7\n0\n1\n4\n0\n"], ["5 3\n1 3\n1 5\n3 4\n3 2\n5 2 3\n5 2 1\n2 4 5\n", "2\n1\n0"], ["20 10\n1 2\n1 3\n1 4\n2 5\n2 6\n3 10\n4 13\n4 14\n6 7\n6 8\n10 11\n4 15\n4 16\n8 9\n11 12\n16 17\n16 18\n16 19\n17 20\n15 19 16\n1 12 1\n20 20 20\n7 7 8\n1 8 3\n5 20 2\n2 9 6\n9 12 1\n9 12 2\n9 12 3", "4\n16\n20\n0\n0\n5\n2\n10\n2\n1\n"]], "limits": {"time": [1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["最近公共祖先 LCA"], "title": "「StOI-1」树上询问", "background": null, "description": "给定一棵 $n$ 个点的无根树，有 $q$ 次询问。\n\n每次询问给一个参数三元组 $(a,b,c)$ ，求有多少个 $i$ 满足这棵树在以 $i$ 为根的情况下 $a$ 和 $b$ 的 [LCA](https://www.luogu.com.cn/problem/P3379) 为 $c$ 。", "inputFormat": "第一行 $2$ 个数，为 $n$ 和 $q$ 。\n\n接下来 $n-1$ 行，每行 $2$ 个数，表示树的一条边。\n\n接下来 $q$ 行，每行 $3$ 个数，为 $(a,b,c)$。", "outputFormat": "共 $q$ 行，每行一个数，为对于每个三元组的 $i$ 的个数。", "hint": "---\n\n#### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7o3nd26o.png)\n\n第一个查询的 $i$ 为 3 和 4。\n\n第二个查询的 $i$ 为 1。\n\n---\n\n#### 数据范围\n\n#### 本题按子任务测试：\n\n$subtask1 (20pts)$：$1 \\leq n \\leq$ $1000$ ，$1 \\leq q \\leq$ $500$ 。\n\n$subtask2 (15pts)$：$1 \\leq n \\leq$ $10^{5}$，$1 \\leq q \\leq$ $10^{5}$，树退化成链 。\n\n$subtask3 (25pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $10^{5}$，数据**不随机** 。\n\n$subtask4 (40pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n对于所有数据：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n注：数据强度不高，不必卡常与快读快输。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「StOI-1」树上询问", "background": null, "description": "给定一棵 $n$ 个点的无根树，有 $q$ 次询问。\n\n每次询问给一个参数三元组 $(a,b,c)$ ，求有多少个 $i$ 满足这棵树在以 $i$ 为根的情况下 $a$ 和 $b$ 的 [LCA](https://www.luogu.com.cn/problem/P3379) 为 $c$ 。", "inputFormat": "第一行 $2$ 个数，为 $n$ 和 $q$ 。\n\n接下来 $n-1$ 行，每行 $2$ 个数，表示树的一条边。\n\n接下来 $q$ 行，每行 $3$ 个数，为 $(a,b,c)$。", "outputFormat": "共 $q$ 行，每行一个数，为对于每个三元组的 $i$ 的个数。", "hint": "---\n\n#### 样例 2 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7o3nd26o.png)\n\n第一个查询的 $i$ 为 3 和 4。\n\n第二个查询的 $i$ 为 1。\n\n---\n\n#### 数据范围\n\n#### 本题按子任务测试：\n\n$subtask1 (20pts)$：$1 \\leq n \\leq$ $1000$ ，$1 \\leq q \\leq$ $500$ 。\n\n$subtask2 (15pts)$：$1 \\leq n \\leq$ $10^{5}$，$1 \\leq q \\leq$ $10^{5}$，树退化成链 。\n\n$subtask3 (25pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $10^{5}$，数据**不随机** 。\n\n$subtask4 (40pts)$：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n对于所有数据：$1 \\leq n \\leq$ $5$ $\\times$ $10^{5}$，$1 \\leq q \\leq $ $2$ $\\times$ $10^{5}$ 。\n\n注：数据强度不高，不必卡常与快读快输。", "locale": "zh-CN"}}}
{"pid": "P6375", "type": "P", "difficulty": 6, "samples": [["4\n1 3 3 7\n", "332748121"], ["3\n1 3 2", "2"], ["10\n1 2 2 2 4 3 2 6 5 9", "384244861"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "树状数组", "期望"], "title": "「StOI-1」小Z的旅行", "background": "", "description": "一块空地，有$n$座山，每座山有一个高度值$h$。小Z在最高的山上，要去最低的山。\n\n他有如下移动方案：\n\n$1.$ 移动到一座比当前山低的山；\n\n$2.$ 移动到和当前山一样高的山（不可停留在当前山），对于每一高度只能执行一次该方案（即不可以连续 $3$ 次或以上到达同一高度的山）。\n\n每次移动都会耗费体力值，耗费的体力值为两座山的水平距离（若从第 $i$ 座山移动到第 $j$ 座山，则耗费 |$i-j$| 点体力值）。\n\n小Z**每次**若有多种方案移动，则会**等概率**选择任意一种，求耗费体力值的期望对 $998,244,353$ 取余后的结果。", "inputFormat": "第一行一个正整数 $n$ ，表示山的个数。\n接下来一行 $n$ 个正整数，表示每座山的高度。", "outputFormat": "一个整数，表示最终答案对 $998,244,353$ 取余后的结果。", "hint": "---\n\n#### 样例1解释\n\n取模前值为 $\\frac{10}{3}$。\n\n有如下方案（数字代表山的编号）：\n\n1. $(4,1)$ 概率 $\\frac{1}{3}$ ， 耗费体力值 $3$ ；\n\n2. $(4,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n3. $(4,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n4. $(4,3,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ； \n\n5. $(4,2,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $5$ 。\n\n---\n\n#### 数据范围\n\n对于 $50$% 的数据：$1 ≤ n ≤ 1000$，$1 ≤ h ≤ 10^{9}$；  \n对于 $100$% 的数据：$1 ≤ n ≤ 500000$，$1 ≤ h ≤ 10^{9}$。\n\n所有数据：最低和最高的山高度唯一。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「StOI-1」小Z的旅行", "background": "", "description": "一块空地，有$n$座山，每座山有一个高度值$h$。小Z在最高的山上，要去最低的山。\n\n他有如下移动方案：\n\n$1.$ 移动到一座比当前山低的山；\n\n$2.$ 移动到和当前山一样高的山（不可停留在当前山），对于每一高度只能执行一次该方案（即不可以连续 $3$ 次或以上到达同一高度的山）。\n\n每次移动都会耗费体力值，耗费的体力值为两座山的水平距离（若从第 $i$ 座山移动到第 $j$ 座山，则耗费 |$i-j$| 点体力值）。\n\n小Z**每次**若有多种方案移动，则会**等概率**选择任意一种，求耗费体力值的期望对 $998,244,353$ 取余后的结果。", "inputFormat": "第一行一个正整数 $n$ ，表示山的个数。\n接下来一行 $n$ 个正整数，表示每座山的高度。", "outputFormat": "一个整数，表示最终答案对 $998,244,353$ 取余后的结果。", "hint": "---\n\n#### 样例1解释\n\n取模前值为 $\\frac{10}{3}$。\n\n有如下方案（数字代表山的编号）：\n\n1. $(4,1)$ 概率 $\\frac{1}{3}$ ， 耗费体力值 $3$ ；\n\n2. $(4,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n3. $(4,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ；\n\n4. $(4,3,2,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $3$ ； \n\n5. $(4,2,3,1)$ 概率 $\\frac{1}{3}$ $\\times$ $\\frac{1}{2}$ ，耗费体力值 $5$ 。\n\n---\n\n#### 数据范围\n\n对于 $50$% 的数据：$1 ≤ n ≤ 1000$，$1 ≤ h ≤ 10^{9}$；  \n对于 $100$% 的数据：$1 ≤ n ≤ 500000$，$1 ≤ h ≤ 10^{9}$。\n\n所有数据：最低和最高的山高度唯一。", "locale": "zh-CN"}}}
{"pid": "P6376", "type": "P", "difficulty": 7, "samples": [["2 2 1\n0 0\n1 0", "4.098204131080311"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "Special Judge", "O2优化", "PA（波兰）"], "title": "[PA 2010] The Goat", "background": "", "description": "平面上有 $n$ 个点。重复 $k$ 次以下操作：随机选择一个点，并以这个点为圆心作半径为 $r$ 的圆。求最后所有圆面积并的期望。", "inputFormat": "第一行三个整数 $n,k,r$。\n\n接下来 $n$ 行，每行两个整数 $x,y$，为一个点。", "outputFormat": "输出面积并的期望。误差在 $10^{-2}$ 以内算对。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le n,k\\le 10^3$，$1\\le r\\le 10^3$，$|x|,|y|\\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] The Goat", "background": "", "description": "平面上有 $n$ 个点。重复 $k$ 次以下操作：随机选择一个点，并以这个点为圆心作半径为 $r$ 的圆。求最后所有圆面积并的期望。", "inputFormat": "第一行三个整数 $n,k,r$。\n\n接下来 $n$ 行，每行两个整数 $x,y$，为一个点。", "outputFormat": "输出面积并的期望。误差在 $10^{-2}$ 以内算对。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le n,k\\le 10^3$，$1\\le r\\le 10^3$，$|x|,|y|\\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P6377", "type": "P", "difficulty": 7, "samples": [["8\n1 2 0 3 7 4 0 9\n", "17 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "PA（波兰）"], "title": "[PA 2010] Termites", "background": "", "description": "有一个长度为 $n$ 的数列 $a$，两名玩家轮流行动，每次可以选择一个与 $0$ 相邻的数字，得到数字大小的得分，并将它变为 $0$。求如果两个人都采取最优策略，两个人的得分。", "inputFormat": "第一行一个整数 $n$，意义如题面。\n\n接下来一行 $n$ 个整数，表示这个数列。", "outputFormat": "一行两个整数，表示两个人都采取最优策略的答案。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 10^6$，且对于任何一个 $a$ 中的元素 $x$，都保证 $0\\leq x\\leq 10^6$ 且至少存在一个 $0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] Termites", "background": "", "description": "有一个长度为 $n$ 的数列 $a$，两名玩家轮流行动，每次可以选择一个与 $0$ 相邻的数字，得到数字大小的得分，并将它变为 $0$。求如果两个人都采取最优策略，两个人的得分。", "inputFormat": "第一行一个整数 $n$，意义如题面。\n\n接下来一行 $n$ 个整数，表示这个数列。", "outputFormat": "一行两个整数，表示两个人都采取最优策略的答案。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 10^6$，且对于任何一个 $a$ 中的元素 $x$，都保证 $0\\leq x\\leq 10^6$ 且至少存在一个 $0$。", "locale": "zh-CN"}}}
{"pid": "P6378", "type": "P", "difficulty": 6, "samples": [["6 5 2\n1 2\n3 1\n1 4\n5 2\n6 2\n3 3 4 2\n3 1 6 5", "TAK"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2010", "2-SAT", "Tarjan", "PA（波兰）"], "title": "[PA 2010] Riddle", "background": "", "description": "$n$ 个点 $m$ 条边的无向图被分成 $k$ 个部分。每个部分包含一些点。\n\n请选择一些关键点，使得每个部分**恰**有一个关键点，且每条边**至少**有一个端点是关键点。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n接下来 $m$ 行，每行两个整数 $a,b$，表示有一条 $a,b$ 间的边。\n\n接下来 $k$ 行，每行第一个整数为 $w$，表示这个部分有 $w$ 个点；接下来 $w$ 个整数，为在这个部分中的点的编号。", "outputFormat": "若可能选出请输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le k,w\\le n\\le 10^6$，$\\sum w=n$，$1\\le a,b\\le n$，$0\\le m\\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] Riddle", "background": "", "description": "$n$ 个点 $m$ 条边的无向图被分成 $k$ 个部分。每个部分包含一些点。\n\n请选择一些关键点，使得每个部分**恰**有一个关键点，且每条边**至少**有一个端点是关键点。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n接下来 $m$ 行，每行两个整数 $a,b$，表示有一条 $a,b$ 间的边。\n\n接下来 $k$ 行，每行第一个整数为 $w$，表示这个部分有 $w$ 个点；接下来 $w$ 个整数，为在这个部分中的点的编号。", "outputFormat": "若可能选出请输出 `TAK`，否则输出 `NIE`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1\\le k,w\\le n\\le 10^6$，$\\sum w=n$，$1\\le a,b\\le n$，$0\\le m\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P6379", "type": "P", "difficulty": 6, "samples": [["5 6\n1 2\n1 3\n2 3\n3 2\n2 4\n3 4", "2\n2\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2010", "Special Judge", "O2优化", "PA（波兰）"], "title": "[PA 2010] Planning the Roadworks", "background": null, "description": "给定一个 $n$ 个点，$m$ 条边的有向图，求一个边集使得删去这个边集之后原图连通性不变（能达到的仍然能到达），且再删去任意一条边都会改变原图连通性。\n\n请给出一种可行的方案。", "inputFormat": "第一行两个整数 $n$,$m$。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示存在一条从 $x$ 到 $y$ 的有向边。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $k$，表示边集的大小。\n\n接下来 $k$ 行，每行输出一个整数 $e_i$，表示删掉输入的第 $e_i$ 条边。\n\n输入的边的编号从 $1$ 开始。", "hint": "#### 样例 1 解释\n\n一种可行的方案是，删除输入的第 $2$ 条边 $(1, 3)$ 和第 $6$ 条边 $(3, 4)$。\n\n---\n\n#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 5000$，$1\\leq m\\leq100000$，给定的图没有重边和自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2010] Planning the Roadworks", "background": null, "description": "给定一个 $n$ 个点，$m$ 条边的有向图，求一个边集使得删去这个边集之后原图连通性不变（能达到的仍然能到达），且再删去任意一条边都会改变原图连通性。\n\n请给出一种可行的方案。", "inputFormat": "第一行两个整数 $n$,$m$。\n\n接下来 $m$ 行，每行两个数 $x,y$，表示存在一条从 $x$ 到 $y$ 的有向边。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $k$，表示边集的大小。\n\n接下来 $k$ 行，每行输出一个整数 $e_i$，表示删掉输入的第 $e_i$ 条边。\n\n输入的边的编号从 $1$ 开始。", "hint": "#### 样例 1 解释\n\n一种可行的方案是，删除输入的第 $2$ 条边 $(1, 3)$ 和第 $6$ 条边 $(3, 4)$。\n\n---\n\n#### 数据规模与约定\n对于全部的测试点，保证 $1\\leq n\\leq 5000$，$1\\leq m\\leq100000$，给定的图没有重边和自环。", "locale": "zh-CN"}}}
{"pid": "P6380", "type": "P", "difficulty": 3, "samples": [["2 2\n01", "10"], ["10 1 \n1", "-1"], ["6 6\n110100", "601210"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "贪心", "洛谷月赛"], "title": "『MdOI R2』Mayuri", "background": "「万由里……怎么会？为什么你要……」\n\n『我是灵力的结晶体，实施了封印，我当然会消失，不是吗？』\n\n「封印？但是你和我……」\n\n『第一次见面不能封印吗？笨蛋，我可是从大家的灵力里出生的，怎么可能讨厌你？从一出生，我就爱着你。』\n\n「万由里……」\n\n『虽然我竭力不让自己去想，但我一定是很羡慕大家……』\n\n「等一下，万由里，不要消失……」\n\n『但是我还是有一件能向大家炫耀的事，只有我和士道一样……』\n\n「一样？」\n\n『我已经不再是只为了消失而出生的生命。因为我遇见了你……已经足够了。』\n\n「万由里……」\n\n『谢谢你，士道。 』\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9w6a0deg.png)", "description": "在离开这个世界前，万由里想要寻找属于她的 Lucky Number。\n\n万由里会给出一个数 $a$，以及一个长度为 $b$ 的 01 串 $S$。\n\n简单的说，她的 Lucky Number 是满足以下条件的**正整数** $n$：\n\n - $n$ 的位数为 $b$ 且不含前导 $0$。\n\n - 若 $S$ 的第 $i$ 位为 $1$，则 $n$ 的前 $i$ 位组成的数是 $a$ 的倍数，否则 $n$ 的前 $i$ 位组成的数不是 $a$ 的倍数。\n\n对于一个数，前 $i$ 位组成的数是指这个数前 $i$ 个数码依次拼接形成的数。例如 $312311$ 前 $3$ 位组成的数为 $312$，前 $5$ 位组成的数为 $31231$。\n\n\n现在，请你帮助万由里计算一下，她的 Lucky Number 是多少。\n\n由于满足条件的数可能会有多个，你需要输出**最小**的一个。若不存在，则请输出 `-1`。", "inputFormat": "输入数据由两行构成。\n\n第一行两个整数 $a,b$，意义见题目描述。\n\n第二行一个长度为 $b$ 的字符串 $S$。", "outputFormat": "一行，满足条件的**最小**的数 $n$。如果不存在满足条件的数，输出 `-1`。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/5gnn8mg0) [样例输出](https://www.luogu.com.cn/paste/sgxjkbjd)\n\n------\n【样例解释】\n\n对于样例一，$10$ 是 $2$ 位数，且 $10$ 的前 $1$ 位组成的数 $1$ 不是 $2$ 的倍数，而前 $2$ 位组成的数 $10$ 是 $2$ 的倍数。由于 $10$ 已经是最小的两位数，故不存在比 $10$ 更小的满足条件的数。\n\n对于样例二，我们需要构造一个 $1$ 位数，满足这个 $1$ 位数整除 $10$。显然，这样的数不存在。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试**\n\n\n| 子任务编号 | $a \\leq$ | $b\\le$  | 分值   |\n| ---------- | -------- | :------ | ------ |\n| Subtask 1  | $10$     | $ 1$    | $20$   |\n| Subtask 2  | $10 $    | $2$     | $20$  |\n| Subtask 3  | $10 $    | $ 6$    | $20$  |\n| Subtask 4  | $ 2$     | $ 18$   | $20$ |\n| Subtask 5  | $ 10$    | $ 10^5$ | $20$ |\n\n\n对于全部数据，保证 $2\\le a\\le 10$，$1\\le b\\le 10^5$，$S$ 中只包含 `0` 和 `1`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Mayuri", "background": "「万由里……怎么会？为什么你要……」\n\n『我是灵力的结晶体，实施了封印，我当然会消失，不是吗？』\n\n「封印？但是你和我……」\n\n『第一次见面不能封印吗？笨蛋，我可是从大家的灵力里出生的，怎么可能讨厌你？从一出生，我就爱着你。』\n\n「万由里……」\n\n『虽然我竭力不让自己去想，但我一定是很羡慕大家……』\n\n「等一下，万由里，不要消失……」\n\n『但是我还是有一件能向大家炫耀的事，只有我和士道一样……』\n\n「一样？」\n\n『我已经不再是只为了消失而出生的生命。因为我遇见了你……已经足够了。』\n\n「万由里……」\n\n『谢谢你，士道。 』\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9w6a0deg.png)", "description": "在离开这个世界前，万由里想要寻找属于她的 Lucky Number。\n\n万由里会给出一个数 $a$，以及一个长度为 $b$ 的 01 串 $S$。\n\n简单的说，她的 Lucky Number 是满足以下条件的**正整数** $n$：\n\n - $n$ 的位数为 $b$ 且不含前导 $0$。\n\n - 若 $S$ 的第 $i$ 位为 $1$，则 $n$ 的前 $i$ 位组成的数是 $a$ 的倍数，否则 $n$ 的前 $i$ 位组成的数不是 $a$ 的倍数。\n\n对于一个数，前 $i$ 位组成的数是指这个数前 $i$ 个数码依次拼接形成的数。例如 $312311$ 前 $3$ 位组成的数为 $312$，前 $5$ 位组成的数为 $31231$。\n\n\n现在，请你帮助万由里计算一下，她的 Lucky Number 是多少。\n\n由于满足条件的数可能会有多个，你需要输出**最小**的一个。若不存在，则请输出 `-1`。", "inputFormat": "输入数据由两行构成。\n\n第一行两个整数 $a,b$，意义见题目描述。\n\n第二行一个长度为 $b$ 的字符串 $S$。", "outputFormat": "一行，满足条件的**最小**的数 $n$。如果不存在满足条件的数，输出 `-1`。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/5gnn8mg0) [样例输出](https://www.luogu.com.cn/paste/sgxjkbjd)\n\n------\n【样例解释】\n\n对于样例一，$10$ 是 $2$ 位数，且 $10$ 的前 $1$ 位组成的数 $1$ 不是 $2$ 的倍数，而前 $2$ 位组成的数 $10$ 是 $2$ 的倍数。由于 $10$ 已经是最小的两位数，故不存在比 $10$ 更小的满足条件的数。\n\n对于样例二，我们需要构造一个 $1$ 位数，满足这个 $1$ 位数整除 $10$。显然，这样的数不存在。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试**\n\n\n| 子任务编号 | $a \\leq$ | $b\\le$  | 分值   |\n| ---------- | -------- | :------ | ------ |\n| Subtask 1  | $10$     | $ 1$    | $20$   |\n| Subtask 2  | $10 $    | $2$     | $20$  |\n| Subtask 3  | $10 $    | $ 6$    | $20$  |\n| Subtask 4  | $ 2$     | $ 18$   | $20$ |\n| Subtask 5  | $ 10$    | $ 10^5$ | $20$ |\n\n\n对于全部数据，保证 $2\\le a\\le 10$，$1\\le b\\le 10^5$，$S$ 中只包含 `0` 和 `1`。", "locale": "zh-CN"}}}
{"pid": "P6381", "type": "P", "difficulty": 5, "samples": [["5 7 2\n2 5 2 5\n5 3 18 9\n2 4 6 7\n4 3 6 3\n2 1 24 2\n1 4 6 8\n1 5 8 4", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "数学", "图论", "拓扑排序", "素数判断,质数,筛法", "洛谷月赛"], "title": "『MdOI R2』Odyssey", "background": "超越音速的极限，不及瑰丽多变的极光；\n\n微弱的脉冲，开拓原本一片混沌的天地；\n\n沉郁的蓝缓缓闪动，史诗的红迎接巅峰；\n\n血色的夕阳尽头，是将夜的星辰；\n\n夜半的满天星空，也会被来自地狱的硝烟掩盖；\n\n炽红炼狱消逝，只金色遗迹永存。\n\n在这里等待着每一位的，都是一段艰苦而璀璨的旅程。", "description": "若正整数 $a$ 与 $b$ 满足：\n\n- $a$ 与 $b$ 的积是一个正整数的 $k$ 次方，即存在正整数 $c$ 使得 $ab=c^k$。\n\n那么我们称 $(a,b)$ 为一组**完美数对**。\n\n---\n\n有一个包含 $n$ 个结点和 $m$ 条边的**有向无环图**，这张图中的每条边都有权值和长度两个属性。\n\n如果一条路径 $P$ 满足**以下条件之一**，则称其为一条**完美路径**：\n\n- $P$ 中仅包含一条边。\n\n- $P$ 从其起点开始依次为 $e_1, e_2, e_3, \\ldots e_p$ 这 $p\\ (p\\ge 2)$ 条边，对于任意的 $1\\leq i\\leq p-1$，$e_i$ 的权值和 $e_{i+1}$ 的权值组成完美数对。\n\n你需要求出图中最长完美路径的长度，一条路径的长度定义为这条路径上所有边的长度之和。", "inputFormat": "第一行：三个整数 $n,m,k$，分别表示有向无环图的结点数、边数和完美数对的参数。\n\n接下来 $m$ 行：每行四个整数 $u,v,w,l$，表示有一条权值为 $w$，长度为 $l$ 的有向边从 $u$ 连向 $v$。", "outputFormat": "第一行：一个整数 $ans$，表示最长完美路径的长度。", "hint": "【帮助与提示】  \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。  \n\n[样例输入1](https://www.luogu.com.cn/paste/wx1lz6m2) [样例输出1](https://www.luogu.com.cn/paste/28xe7f0x)      \n\n[样例输入2](https://www.luogu.com.cn/paste/efgwngs5) [样例输出2](https://www.luogu.com.cn/paste/5hcpoayt)   \n\n----\n\n【样例解释】\n\n样例中给出的有向无环图如图所示，其中边上的红色数字为边的权值，黑色数字为边的长度：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w6x03ksd.png)\n\n最长完美路径为 $2\\to 5\\to 3$，因为这两条边的权值 $2$ 和 $18$ 满足 $2\\times 18=6^2$，是完美数对，此路径长度为 $5+9=14$。\n\n此外，$2\\to 1\\to 4\\to 3,\\ \\ 2\\to 4\\to 3,\\ \\ 1\\to 5\\to 3$ 等也是完美路径，但不是最长的。\n\n图中，$2\\to 1\\to 5\\to 3$ 长度为 $15$，是一条更长的路径，但它并不是完美路径，因为前两个边权 $24$ 和 $8$ 的乘积为 $192$，不是正整数的平方，即 $(24,8)$ 不是完美数对。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 10^5,\\ \\ 1\\leq m\\leq 2\\times 10^5,\\ \\ 1\\leq k\\leq 10,\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^5,\\ \\ 1\\leq l\\leq 10^4$。\n\n给出的图**不保证弱连通**，图中从一个点到另一个点**可能**存在多条边，但保证给出的图是有向无环图。\n\n| 子任务编号 | $n\\leq$ |     $m\\leq$      | $w\\leq$ | $k\\leq$ |  特殊性质  | 分值 |\n| :--------: | :-----: | :--------------: | :-----: | :-----: | :--------: | :--: |\n| Subtask 1  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $1$   |     无     | $18$ |\n| Subtask 2  |  $10$   |       $10$       |  $100$  |  $2$   |     无     | $12$ |\n| Subtask 3  |  $600$  | $1.5\\times 10^3$ | $10^3$  |   $2$   |     无     | $10$ |\n| Subtask 4  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   | $w$ 为素数 | $15$ |\n| Subtask 5  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   |     无     | $15$ |\n| Subtask 6  |  $600$  | $1.5\\times 10^3$ | $10^3$  |  $5$   |     无     | $10$ |\n| Subtask 7  | $10^5$  |  $2\\times 10^5$  | $10^5$  |  $10$   |     无     | $20$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Odyssey", "background": "超越音速的极限，不及瑰丽多变的极光；\n\n微弱的脉冲，开拓原本一片混沌的天地；\n\n沉郁的蓝缓缓闪动，史诗的红迎接巅峰；\n\n血色的夕阳尽头，是将夜的星辰；\n\n夜半的满天星空，也会被来自地狱的硝烟掩盖；\n\n炽红炼狱消逝，只金色遗迹永存。\n\n在这里等待着每一位的，都是一段艰苦而璀璨的旅程。", "description": "若正整数 $a$ 与 $b$ 满足：\n\n- $a$ 与 $b$ 的积是一个正整数的 $k$ 次方，即存在正整数 $c$ 使得 $ab=c^k$。\n\n那么我们称 $(a,b)$ 为一组**完美数对**。\n\n---\n\n有一个包含 $n$ 个结点和 $m$ 条边的**有向无环图**，这张图中的每条边都有权值和长度两个属性。\n\n如果一条路径 $P$ 满足**以下条件之一**，则称其为一条**完美路径**：\n\n- $P$ 中仅包含一条边。\n\n- $P$ 从其起点开始依次为 $e_1, e_2, e_3, \\ldots e_p$ 这 $p\\ (p\\ge 2)$ 条边，对于任意的 $1\\leq i\\leq p-1$，$e_i$ 的权值和 $e_{i+1}$ 的权值组成完美数对。\n\n你需要求出图中最长完美路径的长度，一条路径的长度定义为这条路径上所有边的长度之和。", "inputFormat": "第一行：三个整数 $n,m,k$，分别表示有向无环图的结点数、边数和完美数对的参数。\n\n接下来 $m$ 行：每行四个整数 $u,v,w,l$，表示有一条权值为 $w$，长度为 $l$ 的有向边从 $u$ 连向 $v$。", "outputFormat": "第一行：一个整数 $ans$，表示最长完美路径的长度。", "hint": "【帮助与提示】  \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。  \n\n[样例输入1](https://www.luogu.com.cn/paste/wx1lz6m2) [样例输出1](https://www.luogu.com.cn/paste/28xe7f0x)      \n\n[样例输入2](https://www.luogu.com.cn/paste/efgwngs5) [样例输出2](https://www.luogu.com.cn/paste/5hcpoayt)   \n\n----\n\n【样例解释】\n\n样例中给出的有向无环图如图所示，其中边上的红色数字为边的权值，黑色数字为边的长度：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w6x03ksd.png)\n\n最长完美路径为 $2\\to 5\\to 3$，因为这两条边的权值 $2$ 和 $18$ 满足 $2\\times 18=6^2$，是完美数对，此路径长度为 $5+9=14$。\n\n此外，$2\\to 1\\to 4\\to 3,\\ \\ 2\\to 4\\to 3,\\ \\ 1\\to 5\\to 3$ 等也是完美路径，但不是最长的。\n\n图中，$2\\to 1\\to 5\\to 3$ 长度为 $15$，是一条更长的路径，但它并不是完美路径，因为前两个边权 $24$ 和 $8$ 的乘积为 $192$，不是正整数的平方，即 $(24,8)$ 不是完美数对。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：$1\\leq n\\leq 10^5,\\ \\ 1\\leq m\\leq 2\\times 10^5,\\ \\ 1\\leq k\\leq 10,\\ \\ 1\\leq u,v\\leq n,\\ \\ 1\\leq w\\leq 10^5,\\ \\ 1\\leq l\\leq 10^4$。\n\n给出的图**不保证弱连通**，图中从一个点到另一个点**可能**存在多条边，但保证给出的图是有向无环图。\n\n| 子任务编号 | $n\\leq$ |     $m\\leq$      | $w\\leq$ | $k\\leq$ |  特殊性质  | 分值 |\n| :--------: | :-----: | :--------------: | :-----: | :-----: | :--------: | :--: |\n| Subtask 1  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $1$   |     无     | $18$ |\n| Subtask 2  |  $10$   |       $10$       |  $100$  |  $2$   |     无     | $12$ |\n| Subtask 3  |  $600$  | $1.5\\times 10^3$ | $10^3$  |   $2$   |     无     | $10$ |\n| Subtask 4  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   | $w$ 为素数 | $15$ |\n| Subtask 5  | $10^5$  |  $2\\times 10^5$  | $10^5$  |   $2$   |     无     | $15$ |\n| Subtask 6  |  $600$  | $1.5\\times 10^3$ | $10^3$  |  $5$   |     无     | $10$ |\n| Subtask 7  | $10^5$  |  $2\\times 10^5$  | $10^5$  |  $10$   |     无     | $20$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P6382", "type": "P", "difficulty": 1, "samples": [["MDA7U16D\n", "0 0 0 1 0\n"], ["ZJOI2020", "1 1 1 1 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "洛谷月赛"], "title": "『MdOI R2』Car", "background": "", "description": "在 MdOI 市，为了推行环保，在城区内将限制某些车辆的通行，简称限行。一辆车是否被限行的依据是车牌号和当天的日期。\n\n车牌号的编码方式是这样的：\n\n- 前三位均为大写字母，表示所在的地区。\n\n- 后五位为大写字母或数字，为识别码。**保证至少有一个数字**。\n\n- 车牌号的尾号是从右往左的第一个数字。\n\nMdOI 市在本题的编码方式下前三位是 `MDA`。例如，MdOI 市有一辆识别码为 `6780P` 的车，它的车牌号就是 `MDA6780P`，尾号是 $0$。\n\n在 MdOI 市，限行规则如下：\n\n1. 对于外来车（即前三位编号非 `MDA`），工作日（星期一至星期五）均限行。\n2. 对于其他本地车，每天会限行某些尾号的汽车。星期一至星期五的限行尾号如下：\n\n|   日期   |   星期一   |   星期二   |   星期三   |   星期四   |   星期五   |\n| :------: | :--------: | :--------: | :--------: | :--------: | :--------: |\n| 限行尾号 | $1$ 和 $9$ | $2$ 和 $8$ | $3$ 和 $7$ | $4$ 和 $6$ | $5$ 和 $0$ |\n\n小 C 告诉了你她的车牌号，她想知道，她的车在星期一到星期五中的哪些日期会被限行。请你帮帮她。\n\n", "inputFormat": "一行一个长度为 $8$ 的字符串，表示小 C 的车牌号。", "outputFormat": "输出 $5$ 个数字，每个数字为 $0$ 或 $1$，分别表示星期一至星期五小 C 的车是否被限行。$1$ 表示限行，$0$ 表示不限行。", "hint": "【帮助与提示】\n\n为方便选手调试代码，本题额外提供三组样例。由于样例较小，故放在一个剪贴板内。\n\n[附加样例](https://www.luogu.com.cn/paste/g8pxrrh3)\n\n---\n\n【样例解释】\n   \n对于样例一，这个车牌号前三位为 `MDA`，因此是本地车牌。而尾号是 $6$，因此周四被限行。   \n  \n对于样例二，这个车牌号前三位为 `ZJO`，是外地车牌，因此周一至周五均被限行。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试，即通过一个子任务的所有测试点才能拿到对应的分数。**\n|子任务编号|特殊性质|分值|\n|:-:|:-:|:-:|\n|Subtask 1|前 $3$ 位不是`MDA`|$30$|\n|Subtask 2|最后一位一定是数字|$30$|\n|Subtask 3|无|$40$|\n\n对于所有数据，满足前三位一定是大写英文字母，后面五位可能包含大写字母或者数字，且至少有一个数字。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Car", "background": "", "description": "在 MdOI 市，为了推行环保，在城区内将限制某些车辆的通行，简称限行。一辆车是否被限行的依据是车牌号和当天的日期。\n\n车牌号的编码方式是这样的：\n\n- 前三位均为大写字母，表示所在的地区。\n\n- 后五位为大写字母或数字，为识别码。**保证至少有一个数字**。\n\n- 车牌号的尾号是从右往左的第一个数字。\n\nMdOI 市在本题的编码方式下前三位是 `MDA`。例如，MdOI 市有一辆识别码为 `6780P` 的车，它的车牌号就是 `MDA6780P`，尾号是 $0$。\n\n在 MdOI 市，限行规则如下：\n\n1. 对于外来车（即前三位编号非 `MDA`），工作日（星期一至星期五）均限行。\n2. 对于其他本地车，每天会限行某些尾号的汽车。星期一至星期五的限行尾号如下：\n\n|   日期   |   星期一   |   星期二   |   星期三   |   星期四   |   星期五   |\n| :------: | :--------: | :--------: | :--------: | :--------: | :--------: |\n| 限行尾号 | $1$ 和 $9$ | $2$ 和 $8$ | $3$ 和 $7$ | $4$ 和 $6$ | $5$ 和 $0$ |\n\n小 C 告诉了你她的车牌号，她想知道，她的车在星期一到星期五中的哪些日期会被限行。请你帮帮她。\n\n", "inputFormat": "一行一个长度为 $8$ 的字符串，表示小 C 的车牌号。", "outputFormat": "输出 $5$ 个数字，每个数字为 $0$ 或 $1$，分别表示星期一至星期五小 C 的车是否被限行。$1$ 表示限行，$0$ 表示不限行。", "hint": "【帮助与提示】\n\n为方便选手调试代码，本题额外提供三组样例。由于样例较小，故放在一个剪贴板内。\n\n[附加样例](https://www.luogu.com.cn/paste/g8pxrrh3)\n\n---\n\n【样例解释】\n   \n对于样例一，这个车牌号前三位为 `MDA`，因此是本地车牌。而尾号是 $6$，因此周四被限行。   \n  \n对于样例二，这个车牌号前三位为 `ZJO`，是外地车牌，因此周一至周五均被限行。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试，即通过一个子任务的所有测试点才能拿到对应的分数。**\n|子任务编号|特殊性质|分值|\n|:-:|:-:|:-:|\n|Subtask 1|前 $3$ 位不是`MDA`|$30$|\n|Subtask 2|最后一位一定是数字|$30$|\n|Subtask 3|无|$40$|\n\n对于所有数据，满足前三位一定是大写英文字母，后面五位可能包含大写字母或者数字，且至少有一个数字。", "locale": "zh-CN"}}}
{"pid": "P6383", "type": "P", "difficulty": 6, "samples": [["4\n1 4\n2 3\n3 4\n", "2"], ["11\n1 4\n2 6\n3 11\n4 6\n5 6\n6 7\n7 9\n8 9\n9 10\n10 11\n", "4605"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "树形数据结构", "构造", "洛谷月赛"], "title": "『MdOI R2』Resurrection", "background": "如果你不清楚本题的某些定义，可以阅读【说明/提示】部分。", "description": "有一棵包含 $n$ 个节点的树 $T$，它的所有边依次编号为 $1$ 至 $n-1$。\n\n保证对于 $T$ 中任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n按照如下步骤生成一张包含 $n$ 个节点的无向图 $G$：\n\n选取一个 $1 \\sim n-1$ 的排列 $p$，然后依次进行 $n-1$ 次操作。在进行第 $i$ 次操作时，首先删除树 $T$ 中编号为 $p_i$ 的边 $(a,b)$，然后，记 $u$ 和 $v$ 分别为当前树 $T$ 中与 $a,b$ 联通的所有点中，编号最大的点，并在图 $G$ 的 $u$ 号点和 $v$ 号点之间连一条边。\n\n求对于给定的树 $T$，按上述方式一共可以生成多少种本质不同的图 $G$。图 $G_1$ 和 $G_2$ 本质不同当且仅当存在 $u$ 和 $v$ 满足在 $G_1$ 中不存在边 $(u,v)$，而 $G_2$ 中存在。 \n\n因为答案可能很大，你只需要求出答案对 $998244353$ 取模的值。\n", "inputFormat": "第一行一个整数 $n$，表示树 $T$ 中的节点数量。\n\n接下来 $n-1$ 行，第 $i$ 行两个整数 $u,v$，表示在 $T$ 中编号为 $i$ 的边是 $(u,v)$。", "outputFormat": "一行一个整数，答案对 $998244353$ 取模的值。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。  \n\n[样例输入](https://www.luogu.com.cn/paste/09anxo5k) [样例输出](https://www.luogu.com.cn/paste/3idipkty)      \n\n---\n\n【样例解释】\n\n样例一中可能生成的图 $G$ 如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aaq591b7.png)\n\n当 $p = \\{1,2,3\\},\\{2,1,3\\},\\{2,3,1\\}$ 时将生成右侧的图，否则将生成左侧的图。\n\n对于样例二，我有一个绝妙的解释，只可惜这里空白的位置太小，写不下。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n \\leq 3 \\times 10^3$，$1 \\leq u,v \\leq n$。\n\n保证，输入的边形成一棵树，且对于任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n| 子任务编号 | $n\\leq$ |         特殊性质          | 分值 |\n| :--------: | :-----: | :-----------------------: | :--: |\n| Subtask 1  |   $5$   |            无             | $32$ |\n| Subtask 2  |  $14$   |            无             | $16$ |\n| Subtask 3  | $10^3$  | 所有节点都与 $n$ 号点直接相连 | $1$  |\n| Subtask 4  | $10^3$  |     树的形态是一条链      | $7$  |\n| Subtask 5  |  $50$   |            无             | $22$ |\n| Subtask 6  | $3 \\times 10^3$  |            无             | $22$ |\n\n---\n\n下面是本题用到的一些定义：\n\n- 一棵树是一张有 $n$ 个节点，$n-1$ 条边的无向连通图。\n\n- 边 $(u,v)$ 表示连接点 $u$ 和点 $v$ 的一条边。\n\n- 一条路径是一个序列 $p_1,p_2 \\ldots p_k$ ，满足对于任意 $1 \\leq i < k$，边 $(p_i,p_{i+1})$ 都存在于 $T$ 中，且 **没有被之前的操作删除**。\n\n- 点 $u$ 和 $v$ 联通当且仅当存在一条路径 $p_1,p_2 \\ldots p_k$ 满足 $p_1=u$ 且 $p_k=v$。任何一个点都和自己联通。\n\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Resurrection", "background": "如果你不清楚本题的某些定义，可以阅读【说明/提示】部分。", "description": "有一棵包含 $n$ 个节点的树 $T$，它的所有边依次编号为 $1$ 至 $n-1$。\n\n保证对于 $T$ 中任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n按照如下步骤生成一张包含 $n$ 个节点的无向图 $G$：\n\n选取一个 $1 \\sim n-1$ 的排列 $p$，然后依次进行 $n-1$ 次操作。在进行第 $i$ 次操作时，首先删除树 $T$ 中编号为 $p_i$ 的边 $(a,b)$，然后，记 $u$ 和 $v$ 分别为当前树 $T$ 中与 $a,b$ 联通的所有点中，编号最大的点，并在图 $G$ 的 $u$ 号点和 $v$ 号点之间连一条边。\n\n求对于给定的树 $T$，按上述方式一共可以生成多少种本质不同的图 $G$。图 $G_1$ 和 $G_2$ 本质不同当且仅当存在 $u$ 和 $v$ 满足在 $G_1$ 中不存在边 $(u,v)$，而 $G_2$ 中存在。 \n\n因为答案可能很大，你只需要求出答案对 $998244353$ 取模的值。\n", "inputFormat": "第一行一个整数 $n$，表示树 $T$ 中的节点数量。\n\n接下来 $n-1$ 行，第 $i$ 行两个整数 $u,v$，表示在 $T$ 中编号为 $i$ 的边是 $(u,v)$。", "outputFormat": "一行一个整数，答案对 $998244353$ 取模的值。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。  \n\n[样例输入](https://www.luogu.com.cn/paste/09anxo5k) [样例输出](https://www.luogu.com.cn/paste/3idipkty)      \n\n---\n\n【样例解释】\n\n样例一中可能生成的图 $G$ 如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aaq591b7.png)\n\n当 $p = \\{1,2,3\\},\\{2,1,3\\},\\{2,3,1\\}$ 时将生成右侧的图，否则将生成左侧的图。\n\n对于样例二，我有一个绝妙的解释，只可惜这里空白的位置太小，写不下。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n \\leq 3 \\times 10^3$，$1 \\leq u,v \\leq n$。\n\n保证，输入的边形成一棵树，且对于任意一个节点 $u$ ，从 $u$ 到 $n$ 号节点的简单路径都不经过任何编号小于 $u$ 的节点。\n\n| 子任务编号 | $n\\leq$ |         特殊性质          | 分值 |\n| :--------: | :-----: | :-----------------------: | :--: |\n| Subtask 1  |   $5$   |            无             | $32$ |\n| Subtask 2  |  $14$   |            无             | $16$ |\n| Subtask 3  | $10^3$  | 所有节点都与 $n$ 号点直接相连 | $1$  |\n| Subtask 4  | $10^3$  |     树的形态是一条链      | $7$  |\n| Subtask 5  |  $50$   |            无             | $22$ |\n| Subtask 6  | $3 \\times 10^3$  |            无             | $22$ |\n\n---\n\n下面是本题用到的一些定义：\n\n- 一棵树是一张有 $n$ 个节点，$n-1$ 条边的无向连通图。\n\n- 边 $(u,v)$ 表示连接点 $u$ 和点 $v$ 的一条边。\n\n- 一条路径是一个序列 $p_1,p_2 \\ldots p_k$ ，满足对于任意 $1 \\leq i < k$，边 $(p_i,p_{i+1})$ 都存在于 $T$ 中，且 **没有被之前的操作删除**。\n\n- 点 $u$ 和 $v$ 联通当且仅当存在一条路径 $p_1,p_2 \\ldots p_k$ 满足 $p_1=u$ 且 $p_k=v$。任何一个点都和自己联通。\n\n\n\n", "locale": "zh-CN"}}}
{"pid": "P6384", "type": "P", "difficulty": 7, "samples": [["6\n4 4\n2 4 4\n3 4\n1\n2 4 4\n3 4", "2304\n64\n186\n32\n72"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "矩阵运算", "O2优化", "莫比乌斯反演", "线性代数", "高斯消元", "洛谷月赛", "杜教筛"], "title": "『MdOI R2』Quo Vadis", "background": "「终于……终于要到离别的时候了呢。」\n\n『好吧。这一次过去之后，我们可能就再也不能相会了呢……』\n\n「无论如何，还是要离别的……」\n\n『我理解你。感谢你这些天陪伴在我身旁。』\n\n「我也一样。如果可以的话，我真希望能继续陪伴在你身边。」\n\n『分别之后，我也不是现在的我了……』\n\n『至少不像现在这样。』\n\n「离开你之后，我也不会像现在这样了……」\n\n『君往何处？君欲往何处？君莫走，君莫走！若要走，请带上我！』\n\n……\n\n「所以……所以现在我们该怎么办？」\n\n『就让我们纵然歌舞于其中吧！』\n\n耳畔响起了小提琴和手风琴的声音，它是那么熟悉，而又那么陌生……", "description": "在小 M 离别之前，他给小 K 留了一张纸条——\n\n如果你能完成他的话，我将有可能会再次与你相遇。\n\n给定一个**无限大**的矩阵 $A$，其中 $A_{i,j}=ij\\gcd(i,j)$。\n\n接下来有 $m$ 个操作，每行 $1$ 至 $3$ 个整数，意义如下：\n\n$1$：对矩阵 $A$ 进行高斯消元，使之成为一个上三角矩阵。\n\n**注意**：这里，高斯消元中只允许将一行的某一个倍数加到另一行上，不允许交换任意两行，不允许将某行乘上一个倍数，保证这样之后仍然可以得到上三角矩阵，并且保证消元之后的矩阵的每个元素均为非负整数。\n\n$2\\ x\\ y$：求出当前矩阵的 $A_{x,y}$。\n\n$3\\ x$：求出 $\\sum\\limits_{i=1}^{x}\\sum\\limits_{j=1}^{x}A_{i,j}$。\n\n$4\\ x$：设 $B$ 是一个 $x$ 阶矩阵，其中 $B_{i,j}=A_{i,j}$，你需要求出 $\\det B$。   \n\n**上述所有答案对 $998244353$ 取模**。\n\n如果你不知道什么是行列式，请点[这里](https://oi-wiki.org/math/gauss/#_12)，其中 $\\text{det}$ 表示求矩阵的行列式。\n\n~~在你完成了小 M 给小 K 的任务之后，你可以来看小提琴和手风琴的谱子。~~", "inputFormat": "第一行一个整数 $m$。\n\n接下来 $m$ 行，每行 $1\\sim 3$ 个整数，表示操作。", "outputFormat": "若干行，表示你的答案对 $998244353$ 取模后的值。", "hint": "【帮助与提示】     \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。\n\n[样例输入1](https://www.luogu.com.cn/paste/p2w7kxik) [样例输出1](https://www.luogu.com.cn/paste/2tqpm5zj)\n\n[样例输入2](https://www.luogu.com.cn/paste/u20duxjv) [样例输出2](https://www.luogu.com.cn/paste/jcn7ohaw)\n\n-----\n\n【样例解释】\n\n注意到询问的 $x$ 和 $y$ 范围都不大于 $4$，所以我们考虑使用 $A$ 左上角的 $4\\times 4$ 子矩阵进行解释，容易证明这不会造成任何影响。\n\n在高斯消元之前，矩阵为 $\\begin{pmatrix}1&2&3&4\\\\2&8&6&16\\\\3&6&27&12\\\\4&16&12&64\\end{pmatrix}$，高斯消元后则为 $\\begin{pmatrix}1&2&3&4\\\\0&4&0&8\\\\0&0&18&0\\\\0&0&0&32\\end{pmatrix}$。\n\n----\n\n【数据范围】\n\n| 子任务编号 | $1$ 操作是否存在 | $1$ 操作前 $2$ 操作中 $x,y \\leq$ | $1$ 操作后 $2$ 操作中 $x,y \\leq$ | $1$ 操作前 $3$ 操作中 $x \\leq$ | $1$ 操作后 $3$ 操作中 $x \\leq$ | $4$ 操作中 $x \\leq$ | 分值 |\n| :--------: | :--------------: | :------------------------------: | :------------------------------: |  :------------------------------:  | :----------------------------: | :-------------------: | :----: |\n| Subtask 1  |        否        |              $5000$              |              不存在              |             $500$              |             不存在             | 不存在              | $4$  |\n| Subtask 2  |        否        |            $10^{18}$             |              不存在              |             $500$              |             不存在             | 不存在              | $13$ |\n| Subtask 3  |        否        |            $10^{18}$             |              不存在              |        $5 \\times 10^6$         |             不存在             | $50$                | $15$ |\n| Subtask 4  |        否        |            $10^{18}$             |              不存在              |             $10^8$             |             不存在             | $100$               | $16$ |\n| Subtask 5  |        是        |            $10^{18}$             |              $100$               |        $5 \\times 10^6$         |             $100$              | 不存在              | $17$ |\n| Subtask 6  |        是        |            $10^{18}$             |          $5\\times 10^5$          |             $10^8$             |             $10^3$             | $100$               | $17$ |\n| Subtask 7  |        是        |            $10^{18}$             |              $5 \\times 10^6$              |             $10^8$             |         $5\\times 10^6$         | $5\\times 10^6$      | $18$ |\n\n对于 $100\\%$ 的数据，$1 \\leq m\\leq 10^5$，$1$ 操作前的所有 $3$ 操作中 $\\sum x$ 不大于每一个测试点 $x$ 范围的 $10$ 倍。\n\n保证 $1$ 操作出现不超过 $1$ 次。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Quo Vadis", "background": "「终于……终于要到离别的时候了呢。」\n\n『好吧。这一次过去之后，我们可能就再也不能相会了呢……』\n\n「无论如何，还是要离别的……」\n\n『我理解你。感谢你这些天陪伴在我身旁。』\n\n「我也一样。如果可以的话，我真希望能继续陪伴在你身边。」\n\n『分别之后，我也不是现在的我了……』\n\n『至少不像现在这样。』\n\n「离开你之后，我也不会像现在这样了……」\n\n『君往何处？君欲往何处？君莫走，君莫走！若要走，请带上我！』\n\n……\n\n「所以……所以现在我们该怎么办？」\n\n『就让我们纵然歌舞于其中吧！』\n\n耳畔响起了小提琴和手风琴的声音，它是那么熟悉，而又那么陌生……", "description": "在小 M 离别之前，他给小 K 留了一张纸条——\n\n如果你能完成他的话，我将有可能会再次与你相遇。\n\n给定一个**无限大**的矩阵 $A$，其中 $A_{i,j}=ij\\gcd(i,j)$。\n\n接下来有 $m$ 个操作，每行 $1$ 至 $3$ 个整数，意义如下：\n\n$1$：对矩阵 $A$ 进行高斯消元，使之成为一个上三角矩阵。\n\n**注意**：这里，高斯消元中只允许将一行的某一个倍数加到另一行上，不允许交换任意两行，不允许将某行乘上一个倍数，保证这样之后仍然可以得到上三角矩阵，并且保证消元之后的矩阵的每个元素均为非负整数。\n\n$2\\ x\\ y$：求出当前矩阵的 $A_{x,y}$。\n\n$3\\ x$：求出 $\\sum\\limits_{i=1}^{x}\\sum\\limits_{j=1}^{x}A_{i,j}$。\n\n$4\\ x$：设 $B$ 是一个 $x$ 阶矩阵，其中 $B_{i,j}=A_{i,j}$，你需要求出 $\\det B$。   \n\n**上述所有答案对 $998244353$ 取模**。\n\n如果你不知道什么是行列式，请点[这里](https://oi-wiki.org/math/gauss/#_12)，其中 $\\text{det}$ 表示求矩阵的行列式。\n\n~~在你完成了小 M 给小 K 的任务之后，你可以来看小提琴和手风琴的谱子。~~", "inputFormat": "第一行一个整数 $m$。\n\n接下来 $m$ 行，每行 $1\\sim 3$ 个整数，表示操作。", "outputFormat": "若干行，表示你的答案对 $998244353$ 取模后的值。", "hint": "【帮助与提示】     \n\n为方便选手测试代码，本题额外提供两组附加样例供选手使用。\n\n[样例输入1](https://www.luogu.com.cn/paste/p2w7kxik) [样例输出1](https://www.luogu.com.cn/paste/2tqpm5zj)\n\n[样例输入2](https://www.luogu.com.cn/paste/u20duxjv) [样例输出2](https://www.luogu.com.cn/paste/jcn7ohaw)\n\n-----\n\n【样例解释】\n\n注意到询问的 $x$ 和 $y$ 范围都不大于 $4$，所以我们考虑使用 $A$ 左上角的 $4\\times 4$ 子矩阵进行解释，容易证明这不会造成任何影响。\n\n在高斯消元之前，矩阵为 $\\begin{pmatrix}1&2&3&4\\\\2&8&6&16\\\\3&6&27&12\\\\4&16&12&64\\end{pmatrix}$，高斯消元后则为 $\\begin{pmatrix}1&2&3&4\\\\0&4&0&8\\\\0&0&18&0\\\\0&0&0&32\\end{pmatrix}$。\n\n----\n\n【数据范围】\n\n| 子任务编号 | $1$ 操作是否存在 | $1$ 操作前 $2$ 操作中 $x,y \\leq$ | $1$ 操作后 $2$ 操作中 $x,y \\leq$ | $1$ 操作前 $3$ 操作中 $x \\leq$ | $1$ 操作后 $3$ 操作中 $x \\leq$ | $4$ 操作中 $x \\leq$ | 分值 |\n| :--------: | :--------------: | :------------------------------: | :------------------------------: |  :------------------------------:  | :----------------------------: | :-------------------: | :----: |\n| Subtask 1  |        否        |              $5000$              |              不存在              |             $500$              |             不存在             | 不存在              | $4$  |\n| Subtask 2  |        否        |            $10^{18}$             |              不存在              |             $500$              |             不存在             | 不存在              | $13$ |\n| Subtask 3  |        否        |            $10^{18}$             |              不存在              |        $5 \\times 10^6$         |             不存在             | $50$                | $15$ |\n| Subtask 4  |        否        |            $10^{18}$             |              不存在              |             $10^8$             |             不存在             | $100$               | $16$ |\n| Subtask 5  |        是        |            $10^{18}$             |              $100$               |        $5 \\times 10^6$         |             $100$              | 不存在              | $17$ |\n| Subtask 6  |        是        |            $10^{18}$             |          $5\\times 10^5$          |             $10^8$             |             $10^3$             | $100$               | $17$ |\n| Subtask 7  |        是        |            $10^{18}$             |              $5 \\times 10^6$              |             $10^8$             |         $5\\times 10^6$         | $5\\times 10^6$      | $18$ |\n\n对于 $100\\%$ 的数据，$1 \\leq m\\leq 10^5$，$1$ 操作前的所有 $3$ 操作中 $\\sum x$ 不大于每一个测试点 $x$ 范围的 $10$ 倍。\n\n保证 $1$ 操作出现不超过 $1$ 次。", "locale": "zh-CN"}}}
{"pid": "P6385", "type": "P", "difficulty": 7, "samples": [["8 2\ndacdaaaa\n5 8 1\n1 4 5", "5\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 3000, 2000, 2000, 2000, 2000, 2000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["字符串", "动态规划 DP", "贪心", "后缀自动机 SAM", "O2优化", "广度优先搜索 BFS", "动态树 LCT", "分块", "后缀树", "洛谷月赛"], "title": "『MdOI R2』Little Goth", "background": "小 M 和小 B 是一对好朋友，她们很喜欢爬山。", "description": "山可以抽象为一个长为 $n$ 的字符串 $S$，串中仅包含小写字母。\n\n对于一个字符串 $S$，我们定义 $|S|$ 表示串的长度，$S_{L\\ldots R}$ 表示由 $S$ 中从左往右数，第 $L$ 个字符到第 $R$ 个字符依次连接形成的字符串。\n\n小 M 一开始的位置是 $i$，她想要到达位置在 $k$ 处的山顶，而小 B 则要帮助她。为此，她们需要进行一系列操作。\n\n她们**必须**在所有操作之前使用**一次**位于 $p$ 处的传送法阵，通过施展法术，可以使小 B 的位置变为任意满足 $j \\geq i$ 且 $S_{i \\ldots j} = S_{p \\ldots p + (j-i)}$ 的 $j$。但同时，她们需要付出 $n-j$ 的代价。保证这样的 $j$ 存在。\n\n之后，假设小 M ，小 B 的位置分别为 $i$ 和 $j$，她们可以任意次进行下列操作中的一种：\n\n- 让小 M 爬，即令 $i=i+1$ 或 $i = i-1$。如果这一步操作之后 $i>j$，则 令 $j=i$。\n\n- 让小 B 爬，即令 $j=j+1$ 或 $j=j-1$。如果这一步操作之后 $i>j$，则令 $i=j$。\n\n- 使用螺旋升天，具体而言，选择两个下标 $l$ 和 $r$，满足 $S_{l \\ldots r} = S_{i \\ldots j}$，然后令 $i=l,j=r$。\n\n出于某些原因，任何一次操作结束后，需要保证 $1 \\leq i , j \\leq n$。进行一次上述任意一种操作，都需要付出 $1$ 的代价。\n\n爬山是很累的，因此她们想知道，至少需要付出多少代价才能让小 M 到达山顶，也就是让 $i=k$。又因为她们很喜欢爬山，她们有很多组询问要问你。", "inputFormat": "第一行两个整数，$n$ 和 $q$，表示串 $S$ 的长度和询问的个数。\n\n第二行一个长度为 $n$ 的字符串 $S$，仅包含小写字母。\n\n接下来 $q$ 行，每行三个整数 $i,p$ 和 $k$，表明小 M 的位置，传送法阵位置和山顶的位置。", "outputFormat": "共 $q$ 行，第 $i$ 行一个整数，表示对于第 $i$ 个询问给定的 $i,p$ 和 $k$，至少需要付出多少代价，才能让小 M 到达山顶，也就是，让小 M 的位置 $i=k$。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/j7u8z9ir) [样例输出](https://www.luogu.com.cn/paste/fh19p0a4)\n\n--------\n【样例解释】\n\n对于样例的第一组询问，使用传送法术时，只能令 $j=5$，付出 $8-5=3$ 的代价。之后，首先使用一次第三种操作，选择 $l=2,r=2$，令 $i=l,j=r$，然后使用一次第一种操作，令 $i-1$，即可使 $i=k$，一共付出 $5$ 的代价。\n\n对于第二组询问，可以选择 $j=2$，付出 $8-2=6$ 的代价，然后使用一次第三种操作，选取 $l=4,r=5$ 并使 $i=l,j=r$，然后进行一次第一种操作，令 $i+1$ 即可使 $i=k$。一共付出 $8$ 的代价。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n,q \\leq 3\\times 10^4$，$S$ 中仅包含小写字母。\n\n| 子任务编号 |      $n\\leq$      |     $q \\leq$      |      特殊性质       | 分值 | 时间限制 |\n| :--------: | :---------------: | :---------------: | :-----------------: | :--: | :------: |\n| Subtask 1  |       $15$        |       $15$        |         无          | $3$  |    1s    |\n| Subtask 2  |       $80$        |       $80$        |         无          | $14$ |    1s    |\n| Subtask 3  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |   $S$ 中仅包含`a`   | $8$  |    3s    |\n| Subtask 4  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |        $S_1$        | $7$ |    3s    |\n| Subtask 5  |       $400$       |       $400$       |         无          | $9$  |    1s    |\n| Subtask 6  |  $2\\times 10^4$   |  $2 \\times 10^4$  | 所有询问的 $k$ 相同 | $10$ |    3s    |\n| Subtask 7  |      $10^3$       |      $10^3$       |         无          | $10$ |    2s    |\n| Subtask 8  | $1.5 \\times 10^4$ | $1.5 \\times 10^4$ |         无          | $11$ |    3s    |\n| Subtask 9  |  $3 \\times 10^4$  |  $3 \\times 10^4$  |         无          | $28$ |    3s    |\n\n\n\n性质 $S_1$ 是，对于给定的 $p$，满足条件的 $j$ 唯一。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R2』Little Goth", "background": "小 M 和小 B 是一对好朋友，她们很喜欢爬山。", "description": "山可以抽象为一个长为 $n$ 的字符串 $S$，串中仅包含小写字母。\n\n对于一个字符串 $S$，我们定义 $|S|$ 表示串的长度，$S_{L\\ldots R}$ 表示由 $S$ 中从左往右数，第 $L$ 个字符到第 $R$ 个字符依次连接形成的字符串。\n\n小 M 一开始的位置是 $i$，她想要到达位置在 $k$ 处的山顶，而小 B 则要帮助她。为此，她们需要进行一系列操作。\n\n她们**必须**在所有操作之前使用**一次**位于 $p$ 处的传送法阵，通过施展法术，可以使小 B 的位置变为任意满足 $j \\geq i$ 且 $S_{i \\ldots j} = S_{p \\ldots p + (j-i)}$ 的 $j$。但同时，她们需要付出 $n-j$ 的代价。保证这样的 $j$ 存在。\n\n之后，假设小 M ，小 B 的位置分别为 $i$ 和 $j$，她们可以任意次进行下列操作中的一种：\n\n- 让小 M 爬，即令 $i=i+1$ 或 $i = i-1$。如果这一步操作之后 $i>j$，则 令 $j=i$。\n\n- 让小 B 爬，即令 $j=j+1$ 或 $j=j-1$。如果这一步操作之后 $i>j$，则令 $i=j$。\n\n- 使用螺旋升天，具体而言，选择两个下标 $l$ 和 $r$，满足 $S_{l \\ldots r} = S_{i \\ldots j}$，然后令 $i=l,j=r$。\n\n出于某些原因，任何一次操作结束后，需要保证 $1 \\leq i , j \\leq n$。进行一次上述任意一种操作，都需要付出 $1$ 的代价。\n\n爬山是很累的，因此她们想知道，至少需要付出多少代价才能让小 M 到达山顶，也就是让 $i=k$。又因为她们很喜欢爬山，她们有很多组询问要问你。", "inputFormat": "第一行两个整数，$n$ 和 $q$，表示串 $S$ 的长度和询问的个数。\n\n第二行一个长度为 $n$ 的字符串 $S$，仅包含小写字母。\n\n接下来 $q$ 行，每行三个整数 $i,p$ 和 $k$，表明小 M 的位置，传送法阵位置和山顶的位置。", "outputFormat": "共 $q$ 行，第 $i$ 行一个整数，表示对于第 $i$ 个询问给定的 $i,p$ 和 $k$，至少需要付出多少代价，才能让小 M 到达山顶，也就是，让小 M 的位置 $i=k$。", "hint": "【帮助与提示】\n\n为方便选手测试代码，本题额外提供一组附加样例供选手使用。\n\n[样例输入](https://www.luogu.com.cn/paste/j7u8z9ir) [样例输出](https://www.luogu.com.cn/paste/fh19p0a4)\n\n--------\n【样例解释】\n\n对于样例的第一组询问，使用传送法术时，只能令 $j=5$，付出 $8-5=3$ 的代价。之后，首先使用一次第三种操作，选择 $l=2,r=2$，令 $i=l,j=r$，然后使用一次第一种操作，令 $i-1$，即可使 $i=k$，一共付出 $5$ 的代价。\n\n对于第二组询问，可以选择 $j=2$，付出 $8-2=6$ 的代价，然后使用一次第三种操作，选取 $l=4,r=5$ 并使 $i=l,j=r$，然后进行一次第一种操作，令 $i+1$ 即可使 $i=k$。一共付出 $8$ 的代价。\n\n---\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于全部数据，保证 $1 \\leq n,q \\leq 3\\times 10^4$，$S$ 中仅包含小写字母。\n\n| 子任务编号 |      $n\\leq$      |     $q \\leq$      |      特殊性质       | 分值 | 时间限制 |\n| :--------: | :---------------: | :---------------: | :-----------------: | :--: | :------: |\n| Subtask 1  |       $15$        |       $15$        |         无          | $3$  |    1s    |\n| Subtask 2  |       $80$        |       $80$        |         无          | $14$ |    1s    |\n| Subtask 3  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |   $S$ 中仅包含`a`   | $8$  |    3s    |\n| Subtask 4  |  $2 \\times 10^4$  |  $2 \\times 10^4$  |        $S_1$        | $7$ |    3s    |\n| Subtask 5  |       $400$       |       $400$       |         无          | $9$  |    1s    |\n| Subtask 6  |  $2\\times 10^4$   |  $2 \\times 10^4$  | 所有询问的 $k$ 相同 | $10$ |    3s    |\n| Subtask 7  |      $10^3$       |      $10^3$       |         无          | $10$ |    2s    |\n| Subtask 8  | $1.5 \\times 10^4$ | $1.5 \\times 10^4$ |         无          | $11$ |    3s    |\n| Subtask 9  |  $3 \\times 10^4$  |  $3 \\times 10^4$  |         无          | $28$ |    3s    |\n\n\n\n性质 $S_1$ 是，对于给定的 $p$，满足条件的 $j$ 唯一。\n\n", "locale": "zh-CN"}}}
{"pid": "P6386", "type": "P", "difficulty": 1, "samples": [["2 2 3 3\n1 3 4\n", "both\none\nnone"], ["2 3 4 5\n4 9 5\n", "one\nnone\nnone\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] VAUVAU", "background": "", "description": "在一个小村子里，邮递员、送奶工、垃圾清理工每天早晨都面临着同样的难题：18 号房子的门前有两条看门狗。他们所不知道的是，这两条狗的表现是有迹可循的。\n\n当一天开始时，其中一条狗会先暴躁 $a$ 分钟，然后安静 $b$ 分钟，而另一条狗则会先暴躁 $c$ 分钟，然后安静 $d$ 分钟。这两条狗在一天中会无限地重复上述行为。\n\n给定这三个人到达 18 号房子的时刻，请求出该时刻有几条狗是处于暴躁状态的。", "inputFormat": "第一行有四个整数，分别表示 $a, b, c, d$，其意义见【题目描述】。\n\n第二行有三个整数，分别表示邮递员到达的时刻 $p$，送奶工到达的时刻 $m$ 和垃圾清理工到达的时刻 $g$。", "outputFormat": "输出三行每行一个字符串，依次表示邮递员、送奶工、垃圾清理工到达时有几条狗处于暴躁状态。\n\n- 如果没有狗处于暴躁状态，输出 `none`。\n- 如果恰好有一条狗处于暴躁状态，输出 `one`。\n- 如果两条狗都处于暴躁状态，输出 `both`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a, b, c, d, p, m, g \\lt 10^3$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T1  VAUVAU***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2007/2008 #4] VAUVAU", "background": "", "description": "In a small village, the postman, the milkman, and the garbage collector face the same problem every morning: there are two guard dogs in front of House 18. What they do not know is that the dogs’ behavior follows a pattern.\n\nAt the start of a day, one dog will be aggressive for $a$ minutes, then calm for $b$ minutes. The other dog will be aggressive for $c$ minutes, then calm for $d$ minutes. Both dogs repeat this behavior endlessly throughout the day.\n\nGiven the times when these three people arrive at House 18, determine how many dogs are aggressive at each time.", "inputFormat": "The first line contains four integers $a, b, c, d$, as described in the statement.\n\nThe second line contains three integers: the time $p$ when the postman arrives, the time $m$ when the milkman arrives, and the time $g$ when the garbage collector arrives.", "outputFormat": "Output three lines, each containing one string, in order for the postman, milkman, and garbage collector. The string indicates how many dogs are aggressive when they arrive.\n\n- If no dog is aggressive, output `none`.\n- If exactly one dog is aggressive, output `one`.\n- If both dogs are aggressive, output `both`.", "hint": "#### Constraints\n\nFor all testdata, it is guaranteed that $1 \\leq a, b, c, d, p, m, g \\lt 10^3$.\n\n#### Notes\n\n**Translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T1 VAUVAU***。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2007/2008 #4] VAUVAU", "background": "", "description": "在一个小村子里，邮递员、送奶工、垃圾清理工每天早晨都面临着同样的难题：18 号房子的门前有两条看门狗。他们所不知道的是，这两条狗的表现是有迹可循的。\n\n当一天开始时，其中一条狗会先暴躁 $a$ 分钟，然后安静 $b$ 分钟，而另一条狗则会先暴躁 $c$ 分钟，然后安静 $d$ 分钟。这两条狗在一天中会无限地重复上述行为。\n\n给定这三个人到达 18 号房子的时刻，请求出该时刻有几条狗是处于暴躁状态的。", "inputFormat": "第一行有四个整数，分别表示 $a, b, c, d$，其意义见【题目描述】。\n\n第二行有三个整数，分别表示邮递员到达的时刻 $p$，送奶工到达的时刻 $m$ 和垃圾清理工到达的时刻 $g$。", "outputFormat": "输出三行每行一个字符串，依次表示邮递员、送奶工、垃圾清理工到达时有几条狗处于暴躁状态。\n\n- 如果没有狗处于暴躁状态，输出 `none`。\n- 如果恰好有一条狗处于暴躁状态，输出 `one`。\n- 如果两条狗都处于暴躁状态，输出 `both`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a, b, c, d, p, m, g \\lt 10^3$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T1  VAUVAU***。", "locale": "zh-CN"}}}
{"pid": "P6387", "type": "P", "difficulty": 2, "samples": [["156\n", "165"], ["330\n", "0"], ["27711\n", "71127"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] VECI", "background": "", "description": "给定一个正整数 $x$，请找到一个最小的数字 $y$，使得数字 $0$ 到 $9$ 在 $y$ 中的出现次数与在 $x$ 中的出现次数分别对应相等，且 $x \\lt y$。\n", "inputFormat": "输入只有一行一个整数，表示 $x$。", "outputFormat": "输出一行一个整数表示答案。若这样的 $y$ 不存在请输出 $0$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\lt 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T2   VECI***。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2007/2008 #4] VECI", "background": "", "description": "Given a positive integer $x$, find the smallest integer $y$ such that the number of occurrences of each digit $0$ to $9$ in $y$ is respectively equal to that in $x$, and $x \\lt y$.", "inputFormat": "The input contains only one line with an integer $x$.", "outputFormat": "Output one line with an integer representing the answer. If such a $y$ does not exist, output $0$.", "hint": "#### Constraints\n\nFor all testdata, it is guaranteed that $1 \\leq x \\lt 10^6$.\n\n#### Notes\n\n**Translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T2 VECI***.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2007/2008 #4] VECI", "background": "", "description": "给定一个正整数 $x$，请找到一个最小的数字 $y$，使得数字 $0$ 到 $9$ 在 $y$ 中的出现次数与在 $x$ 中的出现次数分别对应相等，且 $x \\lt y$。\n", "inputFormat": "输入只有一行一个整数，表示 $x$。", "outputFormat": "输出一行一个整数表示答案。若这样的 $y$ 不存在请输出 $0$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\lt 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T2   VECI***。", "locale": "zh-CN"}}}
{"pid": "P6388", "type": "P", "difficulty": 2, "samples": [["dcbagfekjih", "abcdefghijk"], ["mobitel", "bometil"], ["anakonda", "aanadnok"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] LEKTIRA", "background": "", "description": "给定一个字符串，请你将其分成三段，并将每一段倒序后按照分段的顺序输出。由于方案有多种，请输出答案字典序最小的那一种。", "inputFormat": "输入一行为一个字符串，表示待分段的串。", "outputFormat": "输出一行为一个字符串，表示答案串，需要保证字典序最小。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入的字符串长度在 $3\\sim 50$ 之间。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T3 LEKTIRA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4] LEKTIRA", "background": "", "description": "给定一个字符串，请你将其分成三段，并将每一段倒序后按照分段的顺序输出。由于方案有多种，请输出答案字典序最小的那一种。", "inputFormat": "输入一行为一个字符串，表示待分段的串。", "outputFormat": "输出一行为一个字符串，表示答案串，需要保证字典序最小。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证输入的字符串长度在 $3\\sim 50$ 之间。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T3 LEKTIRA***。", "locale": "zh-CN"}}}
{"pid": "P6389", "type": "P", "difficulty": 3, "samples": [["8 3\n4 4 4", "0 2 4"], ["10 5\n7 5 1 2 3", "3 3 9 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2007", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4]  MUZICARI", "background": "", "description": "在一场音乐会上，一支有 $n$ 名乐师的乐队共连续演奏 $t$ 分钟，但每名乐师都有自己想要休息的时长。对于第 $i$ 名乐师，他想休息 $a_i$ 分钟。但为了整体的和谐，不能有**三个及以上**的乐师在同一个时刻休息（但是可以在上一个乐师刚刚结束的时刻开始下一个人的休息）。\n\n请你安排每名乐师开始休息的时刻。", "inputFormat": "输入第一行为两个整数 $t,n$。\n\n第二行为 $n$ 个整数 $a_1,\\dots ,a_n$，表示每名乐师希望休息的时长。", "outputFormat": "输出一行 $n$ 个整数，表示安排每名乐师的开始休息的时刻，按照输入的顺序输出每名乐师。\n\n**注意：尽管方案可能不唯一，但数据保证方案一定存在，本题使用SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le t\\le 5000$，$1\\le n\\le 500$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T4  MUZICARI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4]  MUZICARI", "background": "", "description": "在一场音乐会上，一支有 $n$ 名乐师的乐队共连续演奏 $t$ 分钟，但每名乐师都有自己想要休息的时长。对于第 $i$ 名乐师，他想休息 $a_i$ 分钟。但为了整体的和谐，不能有**三个及以上**的乐师在同一个时刻休息（但是可以在上一个乐师刚刚结束的时刻开始下一个人的休息）。\n\n请你安排每名乐师开始休息的时刻。", "inputFormat": "输入第一行为两个整数 $t,n$。\n\n第二行为 $n$ 个整数 $a_1,\\dots ,a_n$，表示每名乐师希望休息的时长。", "outputFormat": "输出一行 $n$ 个整数，表示安排每名乐师的开始休息的时刻，按照输入的顺序输出每名乐师。\n\n**注意：尽管方案可能不唯一，但数据保证方案一定存在，本题使用SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le t\\le 5000$，$1\\le n\\le 500$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T4  MUZICARI***。", "locale": "zh-CN"}}}
{"pid": "P6390", "type": "P", "difficulty": 4, "samples": [["3\n3 4\n2 5\n1 6", "3\n1 6\n2 5\n3 4"], ["5\n10 30\n20 40\n30 50\n10 60\n30 40", "3\n10 60\n30 50\n30 40"], ["6\n1 4\n1 5\n1 6\n1 7\n2 5\n3 5", "5\n1 7\n1 6\n1 5\n2 5\n3 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] POKLON", "background": "", "description": "给定 $n$ 个区间，Mirko 想要构造一些区间，满足后续的区间是前面区间的子区间，且区间里的每个数都包含在给定的区间里。", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行两个整数 $[A,B]$，表示一个给定的区间。", "outputFormat": "输出第一行为一个整数 $k$，表示可以构造出的区间数。\n\n接下来的 $k$ 行，每行两个整数，依次表示构造的区间。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le A<B\\le 10^6$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T5 POKLON***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4] POKLON", "background": "", "description": "给定 $n$ 个区间，Mirko 想要构造一些区间，满足后续的区间是前面区间的子区间，且区间里的每个数都包含在给定的区间里。", "inputFormat": "输入第一行为一个整数 $n$。\n\n接下来的 $n$ 行，每行两个整数 $[A,B]$，表示一个给定的区间。", "outputFormat": "输出第一行为一个整数 $k$，表示可以构造出的区间数。\n\n接下来的 $k$ 行，每行两个整数，依次表示构造的区间。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le A<B\\le 10^6$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T5 POKLON***。", "locale": "zh-CN"}}}
{"pid": "P6391", "type": "P", "difficulty": 0, "samples": [["0 1\n-1 0\n1 0\n0 -1\n0 -3", "DRRUUULLDD"], ["-2 0\n-1 -1\n0 -2\n1 0\n0 1", "URRDLLURUULDDLLLDR"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2007/2008 #4] KOCKE", "background": "", "description": "在一个平面直角坐标系中，有一个位于坐标 $(0,0)$ 点的机器人。每次可以向上下左右移动一格。还有 $5$ 个分布于不同位置的磁石。\n\n机器人每次移动都可以推动他目的地那一格的磁石。但是当两块磁石有一个面互相接触时（即处于相邻坐标），它们就会互相吸引而构成一个整体。机器人推其中的任何一块都会对这个整体造成同样的效果。\n\n请你给出机器人的一种移动方案，使得经过移动能使这 $5$ 块磁石构成一个 `T` 形（不能旋转）。", "inputFormat": "输入共 $5$ 行，每行包含两个整数 $x,y$，描述一块磁石的位置。\n\n数据保证不会有任何两块磁石位于相同的或者相邻的坐标。", "outputFormat": "输出一行一个字符串，表示磁石移动的方案，种类如下：\n\n- `L`：向左移动一格；\n- `R`：向右移动一格；\n- `U`：向上移动一格；\n- `D`：向下移动一格。\n\n至多有 $9999$ 步。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $-5\\le x,y\\le 5$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T6 KOCKE***。\n\n**感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供SPJ！**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2007/2008 #4] KOCKE", "background": "", "description": "在一个平面直角坐标系中，有一个位于坐标 $(0,0)$ 点的机器人。每次可以向上下左右移动一格。还有 $5$ 个分布于不同位置的磁石。\n\n机器人每次移动都可以推动他目的地那一格的磁石。但是当两块磁石有一个面互相接触时（即处于相邻坐标），它们就会互相吸引而构成一个整体。机器人推其中的任何一块都会对这个整体造成同样的效果。\n\n请你给出机器人的一种移动方案，使得经过移动能使这 $5$ 块磁石构成一个 `T` 形（不能旋转）。", "inputFormat": "输入共 $5$ 行，每行包含两个整数 $x,y$，描述一块磁石的位置。\n\n数据保证不会有任何两块磁石位于相同的或者相邻的坐标。", "outputFormat": "输出一行一个字符串，表示磁石移动的方案，种类如下：\n\n- `L`：向左移动一格；\n- `R`：向右移动一格；\n- `U`：向上移动一格；\n- `D`：向下移动一格。\n\n至多有 $9999$ 步。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $-5\\le x,y\\le 5$。\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [CONTEST #4](https://hsin.hr/coci/archive/2007_2008/contest4_tasks.pdf) *T6 KOCKE***。\n\n**感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供SPJ！**", "locale": "zh-CN"}}}
{"pid": "P6392", "type": "P", "difficulty": 3, "samples": [["30 1\n", "1000"], ["60 15\n", "31457300"], ["2020 412", "133047246"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2020"], "title": "中意", "background": "（背景改编自百度贴吧/南北组备用吧/呆萌南北日常/F8984，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n&emsp;&emsp;在这样的时间，这样的情形下她与她面面相望却不动一步，只有一个可能——她在等。  \n&emsp;&emsp;等她求助，等她妥协，等她心甘情愿。  \n&emsp;&emsp;洛天依想这厮做事儿还真是欠扁，看着手机屏幕上跳出的字：“还不过来？”  \n&emsp;&emsp;她毫不客气的回道：“你想让我过到哪儿去呀？”  \n&emsp;&emsp;“如果除了到了身边来，还有别的路可以走的话。”  \n&emsp;&emsp;当然妥协的乐正大小姐虽然嘴里叨念着，提着路上买的双皮奶和蛋挞，仍是乖乖先迈动了步子。  \n&emsp;&emsp;刚一开门，小吃货果然乖乖扑进怀里了。  \n&emsp;&emsp;“不能全吃哦，来做个游戏吧！”  \n&emsp;&emsp;“坏蛋阿绫。”", "description": "**和题意有关的句子已加粗。**\n\n&emsp;&emsp;“首先，有一个神奇的数字 $a$。”  \n&emsp;&emsp;“天依很饿呢，**所以就给天依 $2^{a+2}$ 个蛋挞吧。**”  \n&emsp;&emsp;“我还要！”  \n&emsp;&emsp;“那……还有一个神奇的数字 $b$，**天依可以获得 $b$ 倍的蛋挞哦！**”  \n&emsp;&emsp;**“哇！那我就有 $k=b \\times 2^{a+2}$ 个蛋挞啦！**”  \n&emsp;&emsp;“天依还喜欢整百数呢，**所以凑个整，给 $p=\\lceil \\frac{k}{25}\\rceil \\times 100$ 个蛋挞吧！**”  \n&emsp;&emsp;“阿绫太好啦！”  \n&emsp;&emsp;“呐\\~给你。”阿绫笑着抚过天依的脑袋，从袋子里拿出寥寥几个蛋挞。  \n&emsp;&emsp;“欸？！”  \n&emsp;&emsp;“最后，天依不能吃太多哦，**所以 $p$ 要对 $\\color{black} 998 \\color{red}3 \\color{black} 44353$ 取模。**”  \n&emsp;&emsp;“…果然是坏蛋。”  \n\n现在天依想知道，对于阿绫给出的 $a$ 和 $b$，自己究竟能吃到几个蛋挞，即 $p \\bmod \\color{black} 998 \\color{red}3 \\color{black} 44353$ 的结果是多少？\n\n注：$\\lceil x \\rceil$ 指 $x$ 向上取整。", "inputFormat": "一行两个整数，分别表示 $b$ 和 $a$。\n\n**请注意输入顺序。**", "outputFormat": "一行一个整数 $p$，表示天依能得到的蛋挞个数。", "hint": "#### 样例解释 #2\n\n$k=60 \\times 2^{(15+2)}=7864320$，$p=\\lceil \\frac{k}{25} \\rceil \\times 100 =31457300$。\n\n------------\n#### 数据范围\n**本题采用捆绑测试。**\n\n- Subtask 1（20 Points），$a,b \\leq 100$ 且 $b \\equiv 0 \\pmod{25}$。   \n- Subtask 2（50 Points），$b \\leq 10^9$。   \n- Subtask 3（30 Points），数据无特殊限制。\n\n对于 $100 \\%$ 的数据，$20 \\leq b \\leq 10^{10010}$，$1 \\leq a \\leq 10^{18}+8$。\n\n------------\n\n#### 题目背景 ( 续 )\n\n&emsp;&emsp;还是万分纠结地看着天依手中甜腻的早餐，“一大早吃这么甜，摄入糖分过多会促使动脉硬化，会……”  \n&emsp;&emsp;洛天依打断她：“那你想不想更甜一点？”  \n&emsp;&emsp;“嗯？”  \n&emsp;&emsp;洛天依踮起脚轻轻地在她的右脸颊印下一个吻，“乐正绫，我好中意你呀。”  \n&emsp;&emsp;乐正绫愣了愣，问：“你说什么？”  \n&emsp;&emsp;洛天依脸红了红，转过身小口咀嚼着蛋挞：“听不懂算了。”  \n&emsp;&emsp;“我也好中意你呀。”像羽毛一样轻柔的声音，撩过两人的心尖。  \n&emsp;&emsp;口中的蛋挞果真又甜腻上几分了呢。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "中意", "background": "（背景改编自百度贴吧/南北组备用吧/呆萌南北日常/F8984，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n&emsp;&emsp;在这样的时间，这样的情形下她与她面面相望却不动一步，只有一个可能——她在等。  \n&emsp;&emsp;等她求助，等她妥协，等她心甘情愿。  \n&emsp;&emsp;洛天依想这厮做事儿还真是欠扁，看着手机屏幕上跳出的字：“还不过来？”  \n&emsp;&emsp;她毫不客气的回道：“你想让我过到哪儿去呀？”  \n&emsp;&emsp;“如果除了到了身边来，还有别的路可以走的话。”  \n&emsp;&emsp;当然妥协的乐正大小姐虽然嘴里叨念着，提着路上买的双皮奶和蛋挞，仍是乖乖先迈动了步子。  \n&emsp;&emsp;刚一开门，小吃货果然乖乖扑进怀里了。  \n&emsp;&emsp;“不能全吃哦，来做个游戏吧！”  \n&emsp;&emsp;“坏蛋阿绫。”", "description": "**和题意有关的句子已加粗。**\n\n&emsp;&emsp;“首先，有一个神奇的数字 $a$。”  \n&emsp;&emsp;“天依很饿呢，**所以就给天依 $2^{a+2}$ 个蛋挞吧。**”  \n&emsp;&emsp;“我还要！”  \n&emsp;&emsp;“那……还有一个神奇的数字 $b$，**天依可以获得 $b$ 倍的蛋挞哦！**”  \n&emsp;&emsp;**“哇！那我就有 $k=b \\times 2^{a+2}$ 个蛋挞啦！**”  \n&emsp;&emsp;“天依还喜欢整百数呢，**所以凑个整，给 $p=\\lceil \\frac{k}{25}\\rceil \\times 100$ 个蛋挞吧！**”  \n&emsp;&emsp;“阿绫太好啦！”  \n&emsp;&emsp;“呐\\~给你。”阿绫笑着抚过天依的脑袋，从袋子里拿出寥寥几个蛋挞。  \n&emsp;&emsp;“欸？！”  \n&emsp;&emsp;“最后，天依不能吃太多哦，**所以 $p$ 要对 $\\color{black} 998 \\color{red}3 \\color{black} 44353$ 取模。**”  \n&emsp;&emsp;“…果然是坏蛋。”  \n\n现在天依想知道，对于阿绫给出的 $a$ 和 $b$，自己究竟能吃到几个蛋挞，即 $p \\bmod \\color{black} 998 \\color{red}3 \\color{black} 44353$ 的结果是多少？\n\n注：$\\lceil x \\rceil$ 指 $x$ 向上取整。", "inputFormat": "一行两个整数，分别表示 $b$ 和 $a$。\n\n**请注意输入顺序。**", "outputFormat": "一行一个整数 $p$，表示天依能得到的蛋挞个数。", "hint": "#### 样例解释 #2\n\n$k=60 \\times 2^{(15+2)}=7864320$，$p=\\lceil \\frac{k}{25} \\rceil \\times 100 =31457300$。\n\n------------\n#### 数据范围\n**本题采用捆绑测试。**\n\n- Subtask 1（20 Points），$a,b \\leq 100$ 且 $b \\equiv 0 \\pmod{25}$。   \n- Subtask 2（50 Points），$b \\leq 10^9$。   \n- Subtask 3（30 Points），数据无特殊限制。\n\n对于 $100 \\%$ 的数据，$20 \\leq b \\leq 10^{10010}$，$1 \\leq a \\leq 10^{18}+8$。\n\n------------\n\n#### 题目背景 ( 续 )\n\n&emsp;&emsp;还是万分纠结地看着天依手中甜腻的早餐，“一大早吃这么甜，摄入糖分过多会促使动脉硬化，会……”  \n&emsp;&emsp;洛天依打断她：“那你想不想更甜一点？”  \n&emsp;&emsp;“嗯？”  \n&emsp;&emsp;洛天依踮起脚轻轻地在她的右脸颊印下一个吻，“乐正绫，我好中意你呀。”  \n&emsp;&emsp;乐正绫愣了愣，问：“你说什么？”  \n&emsp;&emsp;洛天依脸红了红，转过身小口咀嚼着蛋挞：“听不懂算了。”  \n&emsp;&emsp;“我也好中意你呀。”像羽毛一样轻柔的声音，撩过两人的心尖。  \n&emsp;&emsp;口中的蛋挞果真又甜腻上几分了呢。", "locale": "zh-CN"}}}
{"pid": "P6393", "type": "P", "difficulty": 4, "samples": [["5\n6 8\n22 8\n15 4\n23 4\n31 4", "2\n-1\n4\n5\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "O2优化"], "title": "隔离的日子", "background": "（背景改编自 百度贴吧/南北组备用吧/呆萌南北日常/F9023，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n### 数据已修复。 \n\n&emsp;&emsp;一天又一天，每到深夜房间里又只余下手机屏幕的亮光，洛天依总会有一种与世界割离的失落感。  \n&emsp;&emsp;闷在被子里孤独的想哭的日子里，她开始想念起哪些忙于工作带着一点点畏惧、忐忑和烦恼的小日子。  \n&emsp;&emsp;毒辣的阳光，想出门的心，不想被晒黑的小心思交织在一起，占据心间的便是这些复杂的小情绪。  \n&emsp;&emsp;如果可以还行要一份水果拼盘，阿绫总说她不能贪凉，所以趁着阿绫大意的时候把双手浸入打满水的水桶中，瞄着阿绫那无可奈何的眼神，心情舒爽啊。  \n&emsp;&emsp;每到深夜回想起来仍会觉得回味无穷，可孤单一人时将水龙头拧开胳膊冲刷而过的冰凉感却寻不着那时的快乐。  \n&emsp;&emsp;都说对生活选择短暂遗忘时，就会收获一丁点儿的快乐。  \n&emsp;&emsp;可是为什么脑海里的那些场景却越发清晰？  \n&emsp;&emsp;以往每逢休假，暖暖的阳光隔着玻璃照进来，阿绫就躺在摇椅上，她便可以赖在阿绫怀里软软的趴着，一个中午的就这么过去了，宛如养成系手游般堪是消磨时间的良方。  \n&emsp;&emsp;还有街角那家糖炒栗子，拉着阿绫站在店铺门前看着油亮的栗子在翻炒机理跳着舞，被炸开的缝里透出诱人的气息。  \n&emsp;&emsp;缠着阿绫买上几斤装好，恼人的阿绫却不肯给她，只是无比淡定地从袋子里捞出一粒，轻轻一捏，板栗便爆开了，轻轻一掰，栗子肉完完整整地出现在她的面前。这时她只需要张嘴，阿绫只会宠溺的将栗子喂到她的嘴里，只需看见她眯眼满足的表情，阿绫也会露出开心的笑。  \n&emsp;&emsp;不禁泛起苦笑，自己还有一套对栗子的深入研究呢——", "description": "以前，天依会把买来的 $n$ 个栗子排成一行，从左至右编号为：$1,2,\\cdots ,n$，第 $i$ 颗栗子有甜度 $a_i$ 和咸度 $b_i$。\n\n天依认为甜和咸应该进行均衡的搭配，所以她定义了一个完美搭配 $(i,j)$，其中 $i,j$ 是两个栗子的下标。具体的，称 $(i,j)$ 为一个完美搭配，当且仅当 $j$ 是所有满足 $i<j \\leq n$ 并且 $(a_j-b_i) \\times (b_j+b_i)=a_j \\times b_i + a_i \\times b_j$ 的 $j$ 中**最小的一个**。不难发现当 $i$ 一定，完美搭配唯一确定。\n   \n现在天依想知道，对于每个栗子 $i$，哪个栗子和它形成完美搭配？", "inputFormat": "第一行一个整数 $n$，表示天依把 $n$ 个栗子排成了一行。  \n\n接下来 $n$ 行，每行两个整数 $a_i$ 和 $b_i$，分别表示第 $i$ 颗栗子的甜度和咸度。", "outputFormat": "输出共 $n$ 行，每行一个整数，第 $i$ 行表示第 $i$ 颗栗子的**完美搭配 $(i,j)$** 中的 $j$。\n\n特殊地，如果不存在 $j$ 与 $i$ 形成**完美搭配**，那么第 $i$ 行输出一个 `-1`。", "hint": "#### 样例解释 #1\n\n第一个栗子：$(22 - 8) \\times (8 + 8) = 22 \\times 8 + 6 \\times 8$，所以输出为 $2$。\n\n第二个栗子没有满足条件的完美搭配。\n\n第三个栗子：$(23 - 4) \\times (4 + 4) = 23 \\times 4 + 15 \\times 4$，所以输出为 $4$。\n\n第四个栗子：$(31 - 4) \\times (4 + 4) = 31 \\times 4 + 23 \\times 4$ ，所以输出为 $5$。\n\n因为第五个栗子是最后一个栗子，所以没有满足条件的完美搭配。\n\n---\n\n#### 数据范围 \n**本题采用捆绑测试。**\n\n- Subtask 1（30 Points），$n \\leq 10^3$。\n- Subtask 2（70 Points），$n \\leq 5 \\times 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^4$，$1 \\leq a_i \\leq 10^9$，$1 \\leq b_i \\leq 100$。\n\n---\n\n### 题目背景 ( 续 )\n&emsp;&emsp;味道愈发的真实，栗子的香气仿佛仍绕在鼻尖……  \n&emsp;&emsp;味道？洛天依猛然起身走出卧室隔着一道门栏，望着她。  \n&emsp;&emsp;“你是不是傻？我现在在隔离呀，你来干什么？”有惊喜有忧虑洛天依骤然哭泣出声。  \n&emsp;&emsp;乐正绫挠挠头，栗子的温热隔着纸袋传到手心，像寒冷日子里抱在手中的暖宝宝。  \n&emsp;&emsp;“我回程的列车上有感染病例，我也需要被隔离了，他们问我家在哪里，我说了你的地址。”  \n&emsp;&emsp;乐正绫剥开壳，捏了一颗放进小哭包的嘴里。  \n&emsp;&emsp;栗子香在两人嘴角飘荡，“时间又得加长了啊……”天依微微喘着气嘟囔道，心底却是多了几分期待的快乐，其实如果有阿绫在的话，也不是不可以在房间多待段时间的。  \n&emsp;&emsp;“啊，很抱歉呢。”乐正绫轻笑着。不知道是因为再次珍贵的时间，还是手指抚摸过天依泛红的唇角。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "隔离的日子", "background": "（背景改编自 百度贴吧/南北组备用吧/呆萌南北日常/F9023，作者 [落墨成白](https://tieba.baidu.com/home/main/?un=%E8%93%93%E8%90%BD%E9%B1%BC&ie=utf-8&id=tb.1.a8bcbb73.CMcL9PXngjHz-dKRJ7_T4A&fr=frs)）\n\n### 数据已修复。 \n\n&emsp;&emsp;一天又一天，每到深夜房间里又只余下手机屏幕的亮光，洛天依总会有一种与世界割离的失落感。  \n&emsp;&emsp;闷在被子里孤独的想哭的日子里，她开始想念起哪些忙于工作带着一点点畏惧、忐忑和烦恼的小日子。  \n&emsp;&emsp;毒辣的阳光，想出门的心，不想被晒黑的小心思交织在一起，占据心间的便是这些复杂的小情绪。  \n&emsp;&emsp;如果可以还行要一份水果拼盘，阿绫总说她不能贪凉，所以趁着阿绫大意的时候把双手浸入打满水的水桶中，瞄着阿绫那无可奈何的眼神，心情舒爽啊。  \n&emsp;&emsp;每到深夜回想起来仍会觉得回味无穷，可孤单一人时将水龙头拧开胳膊冲刷而过的冰凉感却寻不着那时的快乐。  \n&emsp;&emsp;都说对生活选择短暂遗忘时，就会收获一丁点儿的快乐。  \n&emsp;&emsp;可是为什么脑海里的那些场景却越发清晰？  \n&emsp;&emsp;以往每逢休假，暖暖的阳光隔着玻璃照进来，阿绫就躺在摇椅上，她便可以赖在阿绫怀里软软的趴着，一个中午的就这么过去了，宛如养成系手游般堪是消磨时间的良方。  \n&emsp;&emsp;还有街角那家糖炒栗子，拉着阿绫站在店铺门前看着油亮的栗子在翻炒机理跳着舞，被炸开的缝里透出诱人的气息。  \n&emsp;&emsp;缠着阿绫买上几斤装好，恼人的阿绫却不肯给她，只是无比淡定地从袋子里捞出一粒，轻轻一捏，板栗便爆开了，轻轻一掰，栗子肉完完整整地出现在她的面前。这时她只需要张嘴，阿绫只会宠溺的将栗子喂到她的嘴里，只需看见她眯眼满足的表情，阿绫也会露出开心的笑。  \n&emsp;&emsp;不禁泛起苦笑，自己还有一套对栗子的深入研究呢——", "description": "以前，天依会把买来的 $n$ 个栗子排成一行，从左至右编号为：$1,2,\\cdots ,n$，第 $i$ 颗栗子有甜度 $a_i$ 和咸度 $b_i$。\n\n天依认为甜和咸应该进行均衡的搭配，所以她定义了一个完美搭配 $(i,j)$，其中 $i,j$ 是两个栗子的下标。具体的，称 $(i,j)$ 为一个完美搭配，当且仅当 $j$ 是所有满足 $i<j \\leq n$ 并且 $(a_j-b_i) \\times (b_j+b_i)=a_j \\times b_i + a_i \\times b_j$ 的 $j$ 中**最小的一个**。不难发现当 $i$ 一定，完美搭配唯一确定。\n   \n现在天依想知道，对于每个栗子 $i$，哪个栗子和它形成完美搭配？", "inputFormat": "第一行一个整数 $n$，表示天依把 $n$ 个栗子排成了一行。  \n\n接下来 $n$ 行，每行两个整数 $a_i$ 和 $b_i$，分别表示第 $i$ 颗栗子的甜度和咸度。", "outputFormat": "输出共 $n$ 行，每行一个整数，第 $i$ 行表示第 $i$ 颗栗子的**完美搭配 $(i,j)$** 中的 $j$。\n\n特殊地，如果不存在 $j$ 与 $i$ 形成**完美搭配**，那么第 $i$ 行输出一个 `-1`。", "hint": "#### 样例解释 #1\n\n第一个栗子：$(22 - 8) \\times (8 + 8) = 22 \\times 8 + 6 \\times 8$，所以输出为 $2$。\n\n第二个栗子没有满足条件的完美搭配。\n\n第三个栗子：$(23 - 4) \\times (4 + 4) = 23 \\times 4 + 15 \\times 4$，所以输出为 $4$。\n\n第四个栗子：$(31 - 4) \\times (4 + 4) = 31 \\times 4 + 23 \\times 4$ ，所以输出为 $5$。\n\n因为第五个栗子是最后一个栗子，所以没有满足条件的完美搭配。\n\n---\n\n#### 数据范围 \n**本题采用捆绑测试。**\n\n- Subtask 1（30 Points），$n \\leq 10^3$。\n- Subtask 2（70 Points），$n \\leq 5 \\times 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^4$，$1 \\leq a_i \\leq 10^9$，$1 \\leq b_i \\leq 100$。\n\n---\n\n### 题目背景 ( 续 )\n&emsp;&emsp;味道愈发的真实，栗子的香气仿佛仍绕在鼻尖……  \n&emsp;&emsp;味道？洛天依猛然起身走出卧室隔着一道门栏，望着她。  \n&emsp;&emsp;“你是不是傻？我现在在隔离呀，你来干什么？”有惊喜有忧虑洛天依骤然哭泣出声。  \n&emsp;&emsp;乐正绫挠挠头，栗子的温热隔着纸袋传到手心，像寒冷日子里抱在手中的暖宝宝。  \n&emsp;&emsp;“我回程的列车上有感染病例，我也需要被隔离了，他们问我家在哪里，我说了你的地址。”  \n&emsp;&emsp;乐正绫剥开壳，捏了一颗放进小哭包的嘴里。  \n&emsp;&emsp;栗子香在两人嘴角飘荡，“时间又得加长了啊……”天依微微喘着气嘟囔道，心底却是多了几分期待的快乐，其实如果有阿绫在的话，也不是不可以在房间多待段时间的。  \n&emsp;&emsp;“啊，很抱歉呢。”乐正绫轻笑着。不知道是因为再次珍贵的时间，还是手指抚摸过天依泛红的唇角。", "locale": "zh-CN"}}}
{"pid": "P6394", "type": "P", "difficulty": 4, "samples": [["3 4\n1 1 1 1", "5"], ["10 9\n9 6 8 7 9 6 5 4 3", "68345"], ["10 5\n2 2 2 2 1", "impossible"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "递推", "2020", "前缀和"], "title": "樱花，还有你", "background": "Dear Ling,   \n&emsp;&emsp;呐，你知道吗？听说樱花飘落的速度是秒速五厘米哦。    \n&emsp;&emsp;……所以，再等等吧！三月，武汉大学，樱花就快来了呢。  \n&emsp;&emsp;你一定会陪我一起看吧，在酥软的阳光下，我会悄悄牵起你的手，感受你熟悉的温度，糟糕，脸儿也不小心被粉嫩嫩的樱花映红的呢。  \n&emsp;&emsp;对了，一定记得带口罩！你那时还是有些虚弱吧。但天依会保护你的！  \n&emsp;&emsp;还有啊，樱花还可以做好多好多的点心呢！收集一些飘落樱花吧，我想喝樱花茶，还想吃樱饼，你一定要亲手给我做嗷！", "description": "**与题意有关的句子已加粗。**\n\n但别急，我们就这样彳亍而行吧，**需不着停留或回头**，前面不是**还有 $k$ 棵樱花树么**？我算了算，你可要收集**恰好 $n$ 朵樱花**。我还发现，在第 $i$ 棵树下**最多**能收集到 $s_i$ 朵樱花（收集了 $0$ 朵樱花也算收集了樱花）。  \n\n呐，考考你吧！你有多少种方案能够收集到**恰好 $n$ 朵樱花**呢？\n\n**特殊地，如果你收集不到 $n$ 朵樱花，请告诉我 `impossible`。**   \n\n注意：如果你早早地收集到了 $n$ 朵樱花，你可以立刻告诉我，也可以陪我继续向前走，一直到第 $k$ 棵樱花树下收集了樱花后就必须交差啦！期间你在任何一棵树收集完樱花后就告诉我，形成的方案都是不同的哦！", "inputFormat": "第一行两个正整数 $n,k$，表示要收集 $n$ 朵樱花，而前方还有 $k$ 棵樱花树。  \n\n接下来一行 $k$ 个正整数 $s_1,s_2,\\cdots,s_k$，其中 $s_i$ 表示最多在第 $i$ 棵樱花树下收集到 $s_i$ 朵樱花。", "outputFormat": "一行一个整数，表示恰好收集到 $n$ 朵樱花的方案数。      \n\n**由于答案可能太大，请输出答案对 $10086001$ 取模后的值。**\n\n特殊地，如果收集不到 $n$ 朵樱花，请输出一个字符串 `impossible`。", "hint": "#### 样例解释 #1\n我们以下列方式表示一种方案：$(a_1,a_2,\\cdots,a_{len})$，其中 $\\sum_{i=1}^{len} a_i =n$，$len$ 表示在第 $len$ 棵樱花树下收集完樱花后就交差了，$a_i$ 表示在第 $i$ 棵树下收集了 $a_i$ 朵樱花。\n\n那么有下列 $5$ 种方案：$(1,1,1)$，$(1,1,1,0)$，$(0,1,1,1)$，$(1,0,1,1)$，$(1,1,0,1)$。\n\n---\n\n#### 样例解释 #3\n最多能收集到 $9$ 朵樱花，所以不能收集到 $10$ 朵樱花，输出 `impossible`。\n\n---\n\n#### 数据范围\n**本题采用捆绑测试。**\n- Subtask 1（5 Points），$\\sum s_i < n$。\n- Subtask 2（20 Points），$n,k \\leq 20$。\n- Subtask 3（55 Points），$n,k \\leq 5\\times 10^2$。\n- Subtask 4（20 Points），$n,k \\leq 5\\times 10^3$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,k \\leq 5\\times 10^3$，$0 \\leq s_i \\leq n$。\n\n---\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;何等聪明的你一定会站在某棵树下，捧着 $n$ 朵可爱的樱花，像孩子似的向我邀功吧。  \n&emsp;&emsp;那就别怪我成全你哦，我会轻跳起来，环住你的脖子，揭起你的口罩，尝一尝你的嘴唇。  \n&emsp;&emsp;你会不会说，“像樱花一样甜”呢？  \n&emsp;&emsp;反正，我的脸一定已经像樱花一样红了吧。  \n&emsp;&emsp;……  \n&emsp;&emsp;当你看到这封信，别哭呀……  \n&emsp;&emsp;冬天从这座城市夺走的，春天会补偿我们的。  \n&emsp;&emsp;待你好了，陪我去看樱花，可好？  \n\nYours,   \nYi", "locale": "zh-CN", "translations": {"zh-CN": {"title": "樱花，还有你", "background": "Dear Ling,   \n&emsp;&emsp;呐，你知道吗？听说樱花飘落的速度是秒速五厘米哦。    \n&emsp;&emsp;……所以，再等等吧！三月，武汉大学，樱花就快来了呢。  \n&emsp;&emsp;你一定会陪我一起看吧，在酥软的阳光下，我会悄悄牵起你的手，感受你熟悉的温度，糟糕，脸儿也不小心被粉嫩嫩的樱花映红的呢。  \n&emsp;&emsp;对了，一定记得带口罩！你那时还是有些虚弱吧。但天依会保护你的！  \n&emsp;&emsp;还有啊，樱花还可以做好多好多的点心呢！收集一些飘落樱花吧，我想喝樱花茶，还想吃樱饼，你一定要亲手给我做嗷！", "description": "**与题意有关的句子已加粗。**\n\n但别急，我们就这样彳亍而行吧，**需不着停留或回头**，前面不是**还有 $k$ 棵樱花树么**？我算了算，你可要收集**恰好 $n$ 朵樱花**。我还发现，在第 $i$ 棵树下**最多**能收集到 $s_i$ 朵樱花（收集了 $0$ 朵樱花也算收集了樱花）。  \n\n呐，考考你吧！你有多少种方案能够收集到**恰好 $n$ 朵樱花**呢？\n\n**特殊地，如果你收集不到 $n$ 朵樱花，请告诉我 `impossible`。**   \n\n注意：如果你早早地收集到了 $n$ 朵樱花，你可以立刻告诉我，也可以陪我继续向前走，一直到第 $k$ 棵樱花树下收集了樱花后就必须交差啦！期间你在任何一棵树收集完樱花后就告诉我，形成的方案都是不同的哦！", "inputFormat": "第一行两个正整数 $n,k$，表示要收集 $n$ 朵樱花，而前方还有 $k$ 棵樱花树。  \n\n接下来一行 $k$ 个正整数 $s_1,s_2,\\cdots,s_k$，其中 $s_i$ 表示最多在第 $i$ 棵樱花树下收集到 $s_i$ 朵樱花。", "outputFormat": "一行一个整数，表示恰好收集到 $n$ 朵樱花的方案数。      \n\n**由于答案可能太大，请输出答案对 $10086001$ 取模后的值。**\n\n特殊地，如果收集不到 $n$ 朵樱花，请输出一个字符串 `impossible`。", "hint": "#### 样例解释 #1\n我们以下列方式表示一种方案：$(a_1,a_2,\\cdots,a_{len})$，其中 $\\sum_{i=1}^{len} a_i =n$，$len$ 表示在第 $len$ 棵樱花树下收集完樱花后就交差了，$a_i$ 表示在第 $i$ 棵树下收集了 $a_i$ 朵樱花。\n\n那么有下列 $5$ 种方案：$(1,1,1)$，$(1,1,1,0)$，$(0,1,1,1)$，$(1,0,1,1)$，$(1,1,0,1)$。\n\n---\n\n#### 样例解释 #3\n最多能收集到 $9$ 朵樱花，所以不能收集到 $10$ 朵樱花，输出 `impossible`。\n\n---\n\n#### 数据范围\n**本题采用捆绑测试。**\n- Subtask 1（5 Points），$\\sum s_i < n$。\n- Subtask 2（20 Points），$n,k \\leq 20$。\n- Subtask 3（55 Points），$n,k \\leq 5\\times 10^2$。\n- Subtask 4（20 Points），$n,k \\leq 5\\times 10^3$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,k \\leq 5\\times 10^3$，$0 \\leq s_i \\leq n$。\n\n---\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;何等聪明的你一定会站在某棵树下，捧着 $n$ 朵可爱的樱花，像孩子似的向我邀功吧。  \n&emsp;&emsp;那就别怪我成全你哦，我会轻跳起来，环住你的脖子，揭起你的口罩，尝一尝你的嘴唇。  \n&emsp;&emsp;你会不会说，“像樱花一样甜”呢？  \n&emsp;&emsp;反正，我的脸一定已经像樱花一样红了吧。  \n&emsp;&emsp;……  \n&emsp;&emsp;当你看到这封信，别哭呀……  \n&emsp;&emsp;冬天从这座城市夺走的，春天会补偿我们的。  \n&emsp;&emsp;待你好了，陪我去看樱花，可好？  \n\nYours,   \nYi", "locale": "zh-CN"}}}
{"pid": "P6395", "type": "P", "difficulty": 6, "samples": [["2 1 2", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "2020", "组合数学", "期望"], "title": "千年食谱颂", "background": "$$\\texttt{事在人    命在天}$$\n$$\\texttt{亘古滔滔转眼间}$$\n$$\\texttt{唯席上}$$\n$$\\texttt{千年丰盛永不变}$$\n\n&emsp;&emsp;“阿绫，今天是我的第 $15$ 个 $15$ 岁生日呀！”  \n&emsp;&emsp;“哦……阿绫今天回不了家嗷。”  \n&emsp;&emsp;早晨九点，迷迷糊糊睁开双眼的小灰毛悄悄用手戳了戳自己的身旁，却只感受到枕头的淡淡的温暖。  \n&emsp;&emsp;“明明是人家的生日嘛，又要加班……”把手机扔在一边，叠好被子，走近床边，垂着手轻轻拨开窗帘，刺眼的阳光轻易地冲散了另一个人的温度。  \n&emsp;&emsp;“好无聊啊！”  \n&emsp;&emsp;就这样熬到了晚上，却发现冰箱已经空空如也。要不……去美食节转转？  \n&emsp;&emsp;今天正好是魔都一年一度的美食节，本来以为阿绫会陪自己，天依可是做好了无比详细的攻略。但现在，阿绫不在，计划也随之落空。穿一身清凉的休闲装，带上钱包，天依还是决定，不能在食物上辜负自己！  \n&emsp;&emsp;天依的手才刚刚搭上门把手，轻轻一拉，便猛然打开，竟被恋人拥入怀中……  \n&emsp;&emsp;星光，灯火，美食，还有……天依小小的舌头轻轻舔着蓝莓味的甜筒，一边悄悄打量着身旁的恋人。修长的身段优雅从容地迈着步子，头顶标志性的红色呆毛就像那希望的烛光闪烁，漫天灯火，在那暗红色的明眸里缓缓流动……阿绫转过身，目光撞上那双碧绿的眼眸。  \n&emsp;&emsp;“天依，天依。想什么呢？”   \n&emsp;&emsp;看着恋人害羞地撇过脸，耳根子却不争气地红了起来，阿绫又动起了坏心思。她慢慢靠近恋人的脸庞，轻轻嘬了一口粉嫩的嘴唇。  \n&emsp;&emsp;“干嘛啦阿绫，这里那么多人……”嘴上这么说着，天依却又不自觉地凑向阿绫。阿绫牵起恋人的手。“走，带你把这儿吃个遍！”", "description": "美食节上一共有 $n$ 个店铺，初始 ( 第 $0$ 时刻 ) 时天依都没有品尝过。天依的 flag 是将它们尽数品尝。所以**从第一个时刻起**，天依会在每一个时刻**等概率地选取 $n$ 个店铺中的一个品尝**。不过，由于食客众多，许多店铺会出现食材短缺的情况而不得不中途撤场。**当一个店铺撤场后，会有一个新的 ( 以前从未出现的 ) 店铺立即进场**，我们称其为一次**撤场事件**。阿绫知道所有撤场事件会在**相邻两个时刻间**发生，且每个店铺在每个时刻间撤场的概率都是 $p$。   \n\n天依凑过毛茸茸的脑袋问阿绫：“期望在第几个时刻，在场的 $n$ 个店铺都被我品尝过呢？”", "inputFormat": "一行三个整数 $n,a,b$，表示有 $n$ 个店铺，撤场概率 $p=\\dfrac{a}{b}$。", "outputFormat": "一行一个整数，表示你的答案。\n\n**由于答案可能是一个小数，为了避免损失精度，请输出答案对 $998244353$ 模意义下的值。**", "hint": "#### 数据范围\n对于不同的测试点，我们约定如下数据规模及其性质：\n\n|             测试点编号              | $n \\leq$ | 特殊性质 1 | 特殊性质 2 |\n| :---------------------------------: | :------: | :--------: | :--------: |\n|           $1 \\sim 2$            |  $500$   | $\\sqrt{}$  |     $\\times$      |\n|  $3 \\sim 8$   |  $500$   |     $\\times$      |     $\\times$      |\n|         $9 \\sim 11$          |  $3000$  |     $\\times$      | $\\sqrt{}$  |\n| $12 \\sim 25$ |  $3000$  |     $\\times$      |     $\\times$      |\n\n**特殊性质 1**：$a=0$。\n\n**特殊性质 2**：$a=1,b=2$。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 3000,0 \\le a<b<998244353$。   \n\n------------\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;阿绫注视着丝毫不顾忌吃相的天依，又好气又好笑。但看着包里黑卡的钱少了一个又一个 $0$ ，脸色越来越沉……  \n&emsp;&emsp;“喂，阴阳头，再送张卡来！”只好冲着哥哥发怒气的阿绫挂掉电话，又挂上了一副温柔的笑颜。  \n&emsp;&emsp;“阿绫，阿绫你也尝尝吧。”天依可算想起了没怎么吃的阿绫。  \n&emsp;&emsp;“不急，晚上回家，还有大餐等着我呢。”阿绫冲天依笑着，邪魅地笑着。  \n&emsp;&emsp;“唔，所以大餐是什么呢？”天依想不明白，但总觉得有些不安。   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“你还是老样子呢，天依。”", "locale": "zh-CN", "translations": {"zh-CN": {"title": "千年食谱颂", "background": "$$\\texttt{事在人    命在天}$$\n$$\\texttt{亘古滔滔转眼间}$$\n$$\\texttt{唯席上}$$\n$$\\texttt{千年丰盛永不变}$$\n\n&emsp;&emsp;“阿绫，今天是我的第 $15$ 个 $15$ 岁生日呀！”  \n&emsp;&emsp;“哦……阿绫今天回不了家嗷。”  \n&emsp;&emsp;早晨九点，迷迷糊糊睁开双眼的小灰毛悄悄用手戳了戳自己的身旁，却只感受到枕头的淡淡的温暖。  \n&emsp;&emsp;“明明是人家的生日嘛，又要加班……”把手机扔在一边，叠好被子，走近床边，垂着手轻轻拨开窗帘，刺眼的阳光轻易地冲散了另一个人的温度。  \n&emsp;&emsp;“好无聊啊！”  \n&emsp;&emsp;就这样熬到了晚上，却发现冰箱已经空空如也。要不……去美食节转转？  \n&emsp;&emsp;今天正好是魔都一年一度的美食节，本来以为阿绫会陪自己，天依可是做好了无比详细的攻略。但现在，阿绫不在，计划也随之落空。穿一身清凉的休闲装，带上钱包，天依还是决定，不能在食物上辜负自己！  \n&emsp;&emsp;天依的手才刚刚搭上门把手，轻轻一拉，便猛然打开，竟被恋人拥入怀中……  \n&emsp;&emsp;星光，灯火，美食，还有……天依小小的舌头轻轻舔着蓝莓味的甜筒，一边悄悄打量着身旁的恋人。修长的身段优雅从容地迈着步子，头顶标志性的红色呆毛就像那希望的烛光闪烁，漫天灯火，在那暗红色的明眸里缓缓流动……阿绫转过身，目光撞上那双碧绿的眼眸。  \n&emsp;&emsp;“天依，天依。想什么呢？”   \n&emsp;&emsp;看着恋人害羞地撇过脸，耳根子却不争气地红了起来，阿绫又动起了坏心思。她慢慢靠近恋人的脸庞，轻轻嘬了一口粉嫩的嘴唇。  \n&emsp;&emsp;“干嘛啦阿绫，这里那么多人……”嘴上这么说着，天依却又不自觉地凑向阿绫。阿绫牵起恋人的手。“走，带你把这儿吃个遍！”", "description": "美食节上一共有 $n$ 个店铺，初始 ( 第 $0$ 时刻 ) 时天依都没有品尝过。天依的 flag 是将它们尽数品尝。所以**从第一个时刻起**，天依会在每一个时刻**等概率地选取 $n$ 个店铺中的一个品尝**。不过，由于食客众多，许多店铺会出现食材短缺的情况而不得不中途撤场。**当一个店铺撤场后，会有一个新的 ( 以前从未出现的 ) 店铺立即进场**，我们称其为一次**撤场事件**。阿绫知道所有撤场事件会在**相邻两个时刻间**发生，且每个店铺在每个时刻间撤场的概率都是 $p$。   \n\n天依凑过毛茸茸的脑袋问阿绫：“期望在第几个时刻，在场的 $n$ 个店铺都被我品尝过呢？”", "inputFormat": "一行三个整数 $n,a,b$，表示有 $n$ 个店铺，撤场概率 $p=\\dfrac{a}{b}$。", "outputFormat": "一行一个整数，表示你的答案。\n\n**由于答案可能是一个小数，为了避免损失精度，请输出答案对 $998244353$ 模意义下的值。**", "hint": "#### 数据范围\n对于不同的测试点，我们约定如下数据规模及其性质：\n\n|             测试点编号              | $n \\leq$ | 特殊性质 1 | 特殊性质 2 |\n| :---------------------------------: | :------: | :--------: | :--------: |\n|           $1 \\sim 2$            |  $500$   | $\\sqrt{}$  |     $\\times$      |\n|  $3 \\sim 8$   |  $500$   |     $\\times$      |     $\\times$      |\n|         $9 \\sim 11$          |  $3000$  |     $\\times$      | $\\sqrt{}$  |\n| $12 \\sim 25$ |  $3000$  |     $\\times$      |     $\\times$      |\n\n**特殊性质 1**：$a=0$。\n\n**特殊性质 2**：$a=1,b=2$。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 3000,0 \\le a<b<998244353$。   \n\n------------\n\n#### 题目背景 ( 续 )\n&emsp;&emsp;阿绫注视着丝毫不顾忌吃相的天依，又好气又好笑。但看着包里黑卡的钱少了一个又一个 $0$ ，脸色越来越沉……  \n&emsp;&emsp;“喂，阴阳头，再送张卡来！”只好冲着哥哥发怒气的阿绫挂掉电话，又挂上了一副温柔的笑颜。  \n&emsp;&emsp;“阿绫，阿绫你也尝尝吧。”天依可算想起了没怎么吃的阿绫。  \n&emsp;&emsp;“不急，晚上回家，还有大餐等着我呢。”阿绫冲天依笑着，邪魅地笑着。  \n&emsp;&emsp;“唔，所以大餐是什么呢？”天依想不明白，但总觉得有些不安。   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“你还是老样子呢，天依。”", "locale": "zh-CN"}}}
{"pid": "P6396", "type": "P", "difficulty": 6, "samples": [["ababa\n2\n3 2 4 2 1\n3\n1 5\n2 3\n1 3", "0\n5\n3"], ["aaaaaa\n1\n3 1 4 1 10\n2\n2 4\n2 3", "7\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "动态规划 DP", "图论", "贪心", "2020", "倍增", "最短路", "回文自动机 PAM"], "title": "要有光", "background": "$$ \\text{Der mir zeigt wo ich bin}$$   \n$$_\\texttt{告诉我身在何方}  $$\n$$\\text{Divano}$$   \n$$_\\texttt{神啊}$$  \n$$\\text{Sei mein Licht}  $$\n$$_\\texttt{做我的光}$$\n$$\\text{Ich sm chte mich dir schenken}$$  \n$$_\\texttt{我愿将自己赐予与你}$$\n$$\\text{Noch vor dem Sonnenaufgang}$$  \n$$_\\texttt{在晨曦来临之前}$$\n\n\n&emsp;&emsp;那时正值春深，丛林里生灵闹哄哄地雀跃，享受着空气中升腾的灵气。  \n&emsp;&emsp;“嗖”的一声，一团银灰色的小东西突然从她眼前的地面划过，要不是腾起的尘土在阳光下悠闲地闪烁，她甚至怀疑是自己花了眼。  \n&emsp;&emsp;紧接着，又“嗖”的一声，这次她看清楚了，是一只雪白的幼龄狐妖，“还……有点可爱。”  \n&emsp;&emsp;“真走运，捉了这只，就可以交差啦。”她，虽年少却赫赫有名的除妖师，绫，急忙跟了上去。", "description": "万物有灵，法术亦是如此。任何法术都等价为一段**仅包括大小写字母**的字符串 $S=s_1s_2\\dots s_n$，现规定如下几种法术记号：\n\n- **元素**。即字符串中的每个字符。在本题中，元素仅为大小写字母。\n- **法术大小**。即字符串长度。记号为 $|S|$ 。\n- **空法术**。大小为 $0$ 的法术为空法术。\n- **等法术**。对于法术 $S,T$ 。当且仅当 $|S|=|T|,\\forall i \\leq |S| , s_i = t_i$ 时，称 $S$ 与 $T$ 为等法术，记为 $S=T$  。\n- **逆法术**。设现有法术 $S=s_1s_2\\dots s_n$，称法术 $T$ 是 $S$ 的逆法术，当且仅当 $|S|=|T|$ 且 $\\forall i \\leq |S| , s_i=t_{n-i+1}$。本题将 $T$ 记作 $S_r$。\n- **逆法术对**。称两法术 $S$，$T$ 构成逆法术对 $(S,T)$，当且仅当 $T=S_r$。\n- **归法术**。设现有法术 $S$，称 $S$ 为归法术当且仅当 $S$ 对应的字符串为**回文串**。特别地，**空法术被视作归法术**。\n- **子法术**。设现有法术 $S$ ，则对于 $1\\le i\\le j\\le |S|$ ，称 $T=s_is_{i+1}\\dots s_j$ 为 $S$ 的子法术，并规定子法术的记号 $S[i,j]$ 。当 $i>j$ 时，$S[i,j]$ 为空法术。\n\n---\n\n现在，绫有一个法术源 $S_0$, 而她已经凝练出了一个初始的法术 $S=S_0$。对于每种妖魔，都有一个法术弱点  $T$。绫的法术性火，而火系法术又以淬光之术为上等。所以绫想要练习淬光之术。只要绫通过以下淬光法术变换使 $S=T$，就能轻易击败妖魔：\n\n- **光归**。对于**任意非空法术** $S$，保留其**最大归法术后缀**。若$|S|=n$即取一个最小的 $i \\in [1,n]$ 使得 $S[i+1,n]$ 为归法术，并令 $S \\leftarrow T$。**允许 $T$ 为空法术**。消耗时间 $A$。\n- **光辉**。对于**归法术** $S$，在 $S_0$ 中寻找一个**子归法术** $T$，满足 $S$ 为 $T$ 的**最大归法术后缀**（其定义见 \"光归\" ），并令 $S\\leftarrow T$。**空法术**被认为是**任何法术的后缀**。消耗时间 $B$。\n- **光隐**。对于**非空归法术** $S$，$|S|=n$ 删去其长度相等且长度**不大于 $k$ **的**前缀与后缀**。即取一个 $i\\in[1,\\min\\{k,\\lfloor\\frac{n-1}2\\rfloor\\}]$，使 $T=S[1+i,n-i]$，并令 $S\\leftarrow T$。特别地，$T$ **不可以为空法术**，消耗时间 $C$。\n- **光腾**。对于**非空归法术** $S,|S|=n$，在其左右加上一对逆法术对。即取一逆法术对 $(P,Q)$，设 $|P|=|Q|=l$，使 $T=p_1p_2\\dots p_ls_1s_2\\dots s_nq_1q_2\\dots q_l$，且 $T$ **须为 $S_{0}$ 的子法术** ，并令 $S\\leftarrow T$。消耗时间 $D$。\n- **光弋**。对于**任意非空法术** $S,|S|=n$ ，在其前端加入任意元素。即取一个元素 $a$，使 $T=as_1s_2\\dots s_n$，并令 $S\\leftarrow T$，消耗时间 $E$。光弋变换玄妙莫测，绫还没有熟练掌握此法术变换。所以**在使用此变换之后，无法再使用其它类型的法术变换**。\n\n现在绫想知道，对于不同妖魔的法术弱点 $T$，自己至少要消耗多少时间进行如上法术变换使 $S=T$。**每组询问间互不干扰**。\n", "inputFormat": "第一行输入一个**仅包含大小写字母**的字符串，表示绫的法术源 $S_0$。由题意，初始法术 $S=S_0$。  \n\n第二行输入一个正整数 $k$，表示**光隐**变换所允许删去前缀后缀的最长长度。  \n\n第三行输入五个正整数 $A,B,C,D,E$，表示每种法术变换的消耗时间。   \n\n第四行一个正整数 $q$，表示询问组数。  \n\n接下来 $q$ 行，每行包含两个正整数 $l,r$，表示一种妖魔的法术弱点为 $T=S_0[l,r]$。\n", "outputFormat": "对于每个询问，输出一行一个整数，表示第 $i$ 个询问的答案。", "hint": "#### 样例解释 #1\n\n对于第一个询问，因为 $T=\\texttt{\"ababa\"}=S$，不需要操作。\n\n对于第二个询问，$T=\\texttt{\"ba\"}$，最优策略为先使用一次**光隐**，得到 $S'=\\texttt{\"a\"}$；接着使用一次**光弋**，在 $S'$ 前添加元素 $\\texttt{'b'}$ 得到 $S''=\\texttt{\"ba\"}=T$，耗时 $4+1=5$。\n \n对于第三个询问，$T=\\texttt{\"aba\"}$，最优策略为使用一次**光归**，得到 $S'=\\texttt{\"aba\"}=T$。耗时 $3$。\n\n------------\n#### 数据范围\n对于不同的测试点，我们约定数据规模如下:\n\n| 测试点编号 | $\\left\\vert S \\right\\vert,\\left\\vert T \\right\\vert \\le$ | $q\\le$ | 特殊限制 |\n|:-:|:-:|:-:|:-:|\n| $1 \\sim 5$ | $10^3$ | $10^3$ | 无 |\n| $6 \\sim 9$ | $10^5$ | $10^5$ | 初始法术只有一种元素 |\n| $10 \\sim 20$ | $10^5$ | $10^5$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\le q,|S| \\leq 10^5$，$1 \\leq A,B,C,D,E \\leq 10^9$，$1 \\leq l \\leq r \\leq |S|$，$1 \\leq k \\leq 5$。\n\n------------\n### 题目背景 ( 续 )\n&emsp;&emsp;这边，绫还在摸索着变换法术，却感觉腰间的令牌被抓了一下。“喂？！”  \n&emsp;&emsp;只见一个披头散发的少女正半跪着扒在她的腰间，左手还提着银灰色毛发的小兔子的一对耳朵，“你……是刚才那只狐狸？”绫尴尬地收回法术，不自觉地伸出手揉了揉少女头顶雪白的兽耳，心想着这只狐狸精得有多傻。“我可是除妖师哟，你不怕吗？”  \n&emsp;&emsp;“……绫？”少女并没有理会绫的话，只是努力地认出了令牌上刻着的名字。  \n&emsp;&emsp;绫好奇的目光撞上了少女璀璨的碧绿双眸，又不经意间扫过小巧的鼻梁，玲珑的小嘴，白皙的脖子，但再随着如凝的肌肤滑下……  \n&emsp;&emsp;一直被视作男儿的绫哪见过这般风景，只觉得自己大脑当了机，还隐约嗅到出自鼻腔的铁锈味儿，身体便向后靠倒在一棵树干上，连忙用双手捂住滚烫的脸颊。  \n&emsp;&emsp;“绫？绫？你怎么啦？！”少女心急地凑上去，绫吓得下意识往后退，却忘记身后是一棵粗壮的树干。“欸，绫手上的，是血吗……”双眼紧闭的绫听得出来少女像是被吓到了，看来还是一只没开过荤的狐狸精呢。  \n&emsp;&emsp;“绫……你没事吧……”少女分明带着哭腔，小心翼翼地学着自己还是小狐狸的时候妈妈照顾自己的方式，在绫的身上东摸西摸。  \n&emsp;&emsp;“我，我没事……”绫已经不敢想象究竟是哪些部位在触碰自己的皮肤了，“你……你先变回狐狸……快！”绫当然想把少女推开，却又怎么敢伸出手触碰少女呢？  \n&emsp;&emsp;少女闻言，一怔，但还是乖乖变回了一只狐狸，还不忘叼起几欲逃走的兔子。  \n&emsp;&emsp;绫赶忙收拾了自己的窘相，惊恐地扶着树干，确认自己的人身安全后，轻轻捏住小狐狸的后颈，提起在地上的两小只。  \n&emsp;&emsp;“以后不许再胡乱变成人形了，听到没有！”绫后怕地警告着小狐狸，却见右手的小狐狸直勾勾地盯着左手的小兔子，而左手的小兔子好像想钻进自己的手心里，哪有听她的话呀……  \n&emsp;&emsp;“哎，算了……”绫把小狐狸放在肩头，把似乎吓晕的小兔子递给她，“一会儿再吃哦。”（雨兔兔：我好难qwq。）  \n&emsp;&emsp;“就算……捡了一只宠物吧。”绫心里想着。  \n\n&emsp;&emsp;（未完待续www……）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "要有光", "background": "$$ \\text{Der mir zeigt wo ich bin}$$   \n$$_\\texttt{告诉我身在何方}  $$\n$$\\text{Divano}$$   \n$$_\\texttt{神啊}$$  \n$$\\text{Sei mein Licht}  $$\n$$_\\texttt{做我的光}$$\n$$\\text{Ich sm chte mich dir schenken}$$  \n$$_\\texttt{我愿将自己赐予与你}$$\n$$\\text{Noch vor dem Sonnenaufgang}$$  \n$$_\\texttt{在晨曦来临之前}$$\n\n\n&emsp;&emsp;那时正值春深，丛林里生灵闹哄哄地雀跃，享受着空气中升腾的灵气。  \n&emsp;&emsp;“嗖”的一声，一团银灰色的小东西突然从她眼前的地面划过，要不是腾起的尘土在阳光下悠闲地闪烁，她甚至怀疑是自己花了眼。  \n&emsp;&emsp;紧接着，又“嗖”的一声，这次她看清楚了，是一只雪白的幼龄狐妖，“还……有点可爱。”  \n&emsp;&emsp;“真走运，捉了这只，就可以交差啦。”她，虽年少却赫赫有名的除妖师，绫，急忙跟了上去。", "description": "万物有灵，法术亦是如此。任何法术都等价为一段**仅包括大小写字母**的字符串 $S=s_1s_2\\dots s_n$，现规定如下几种法术记号：\n\n- **元素**。即字符串中的每个字符。在本题中，元素仅为大小写字母。\n- **法术大小**。即字符串长度。记号为 $|S|$ 。\n- **空法术**。大小为 $0$ 的法术为空法术。\n- **等法术**。对于法术 $S,T$ 。当且仅当 $|S|=|T|,\\forall i \\leq |S| , s_i = t_i$ 时，称 $S$ 与 $T$ 为等法术，记为 $S=T$  。\n- **逆法术**。设现有法术 $S=s_1s_2\\dots s_n$，称法术 $T$ 是 $S$ 的逆法术，当且仅当 $|S|=|T|$ 且 $\\forall i \\leq |S| , s_i=t_{n-i+1}$。本题将 $T$ 记作 $S_r$。\n- **逆法术对**。称两法术 $S$，$T$ 构成逆法术对 $(S,T)$，当且仅当 $T=S_r$。\n- **归法术**。设现有法术 $S$，称 $S$ 为归法术当且仅当 $S$ 对应的字符串为**回文串**。特别地，**空法术被视作归法术**。\n- **子法术**。设现有法术 $S$ ，则对于 $1\\le i\\le j\\le |S|$ ，称 $T=s_is_{i+1}\\dots s_j$ 为 $S$ 的子法术，并规定子法术的记号 $S[i,j]$ 。当 $i>j$ 时，$S[i,j]$ 为空法术。\n\n---\n\n现在，绫有一个法术源 $S_0$, 而她已经凝练出了一个初始的法术 $S=S_0$。对于每种妖魔，都有一个法术弱点  $T$。绫的法术性火，而火系法术又以淬光之术为上等。所以绫想要练习淬光之术。只要绫通过以下淬光法术变换使 $S=T$，就能轻易击败妖魔：\n\n- **光归**。对于**任意非空法术** $S$，保留其**最大归法术后缀**。若$|S|=n$即取一个最小的 $i \\in [1,n]$ 使得 $S[i+1,n]$ 为归法术，并令 $S \\leftarrow T$。**允许 $T$ 为空法术**。消耗时间 $A$。\n- **光辉**。对于**归法术** $S$，在 $S_0$ 中寻找一个**子归法术** $T$，满足 $S$ 为 $T$ 的**最大归法术后缀**（其定义见 \"光归\" ），并令 $S\\leftarrow T$。**空法术**被认为是**任何法术的后缀**。消耗时间 $B$。\n- **光隐**。对于**非空归法术** $S$，$|S|=n$ 删去其长度相等且长度**不大于 $k$ **的**前缀与后缀**。即取一个 $i\\in[1,\\min\\{k,\\lfloor\\frac{n-1}2\\rfloor\\}]$，使 $T=S[1+i,n-i]$，并令 $S\\leftarrow T$。特别地，$T$ **不可以为空法术**，消耗时间 $C$。\n- **光腾**。对于**非空归法术** $S,|S|=n$，在其左右加上一对逆法术对。即取一逆法术对 $(P,Q)$，设 $|P|=|Q|=l$，使 $T=p_1p_2\\dots p_ls_1s_2\\dots s_nq_1q_2\\dots q_l$，且 $T$ **须为 $S_{0}$ 的子法术** ，并令 $S\\leftarrow T$。消耗时间 $D$。\n- **光弋**。对于**任意非空法术** $S,|S|=n$ ，在其前端加入任意元素。即取一个元素 $a$，使 $T=as_1s_2\\dots s_n$，并令 $S\\leftarrow T$，消耗时间 $E$。光弋变换玄妙莫测，绫还没有熟练掌握此法术变换。所以**在使用此变换之后，无法再使用其它类型的法术变换**。\n\n现在绫想知道，对于不同妖魔的法术弱点 $T$，自己至少要消耗多少时间进行如上法术变换使 $S=T$。**每组询问间互不干扰**。\n", "inputFormat": "第一行输入一个**仅包含大小写字母**的字符串，表示绫的法术源 $S_0$。由题意，初始法术 $S=S_0$。  \n\n第二行输入一个正整数 $k$，表示**光隐**变换所允许删去前缀后缀的最长长度。  \n\n第三行输入五个正整数 $A,B,C,D,E$，表示每种法术变换的消耗时间。   \n\n第四行一个正整数 $q$，表示询问组数。  \n\n接下来 $q$ 行，每行包含两个正整数 $l,r$，表示一种妖魔的法术弱点为 $T=S_0[l,r]$。\n", "outputFormat": "对于每个询问，输出一行一个整数，表示第 $i$ 个询问的答案。", "hint": "#### 样例解释 #1\n\n对于第一个询问，因为 $T=\\texttt{\"ababa\"}=S$，不需要操作。\n\n对于第二个询问，$T=\\texttt{\"ba\"}$，最优策略为先使用一次**光隐**，得到 $S'=\\texttt{\"a\"}$；接着使用一次**光弋**，在 $S'$ 前添加元素 $\\texttt{'b'}$ 得到 $S''=\\texttt{\"ba\"}=T$，耗时 $4+1=5$。\n \n对于第三个询问，$T=\\texttt{\"aba\"}$，最优策略为使用一次**光归**，得到 $S'=\\texttt{\"aba\"}=T$。耗时 $3$。\n\n------------\n#### 数据范围\n对于不同的测试点，我们约定数据规模如下:\n\n| 测试点编号 | $\\left\\vert S \\right\\vert,\\left\\vert T \\right\\vert \\le$ | $q\\le$ | 特殊限制 |\n|:-:|:-:|:-:|:-:|\n| $1 \\sim 5$ | $10^3$ | $10^3$ | 无 |\n| $6 \\sim 9$ | $10^5$ | $10^5$ | 初始法术只有一种元素 |\n| $10 \\sim 20$ | $10^5$ | $10^5$ | 无 |\n\n对于 $100\\%$ 的数据，$1 \\le q,|S| \\leq 10^5$，$1 \\leq A,B,C,D,E \\leq 10^9$，$1 \\leq l \\leq r \\leq |S|$，$1 \\leq k \\leq 5$。\n\n------------\n### 题目背景 ( 续 )\n&emsp;&emsp;这边，绫还在摸索着变换法术，却感觉腰间的令牌被抓了一下。“喂？！”  \n&emsp;&emsp;只见一个披头散发的少女正半跪着扒在她的腰间，左手还提着银灰色毛发的小兔子的一对耳朵，“你……是刚才那只狐狸？”绫尴尬地收回法术，不自觉地伸出手揉了揉少女头顶雪白的兽耳，心想着这只狐狸精得有多傻。“我可是除妖师哟，你不怕吗？”  \n&emsp;&emsp;“……绫？”少女并没有理会绫的话，只是努力地认出了令牌上刻着的名字。  \n&emsp;&emsp;绫好奇的目光撞上了少女璀璨的碧绿双眸，又不经意间扫过小巧的鼻梁，玲珑的小嘴，白皙的脖子，但再随着如凝的肌肤滑下……  \n&emsp;&emsp;一直被视作男儿的绫哪见过这般风景，只觉得自己大脑当了机，还隐约嗅到出自鼻腔的铁锈味儿，身体便向后靠倒在一棵树干上，连忙用双手捂住滚烫的脸颊。  \n&emsp;&emsp;“绫？绫？你怎么啦？！”少女心急地凑上去，绫吓得下意识往后退，却忘记身后是一棵粗壮的树干。“欸，绫手上的，是血吗……”双眼紧闭的绫听得出来少女像是被吓到了，看来还是一只没开过荤的狐狸精呢。  \n&emsp;&emsp;“绫……你没事吧……”少女分明带着哭腔，小心翼翼地学着自己还是小狐狸的时候妈妈照顾自己的方式，在绫的身上东摸西摸。  \n&emsp;&emsp;“我，我没事……”绫已经不敢想象究竟是哪些部位在触碰自己的皮肤了，“你……你先变回狐狸……快！”绫当然想把少女推开，却又怎么敢伸出手触碰少女呢？  \n&emsp;&emsp;少女闻言，一怔，但还是乖乖变回了一只狐狸，还不忘叼起几欲逃走的兔子。  \n&emsp;&emsp;绫赶忙收拾了自己的窘相，惊恐地扶着树干，确认自己的人身安全后，轻轻捏住小狐狸的后颈，提起在地上的两小只。  \n&emsp;&emsp;“以后不许再胡乱变成人形了，听到没有！”绫后怕地警告着小狐狸，却见右手的小狐狸直勾勾地盯着左手的小兔子，而左手的小兔子好像想钻进自己的手心里，哪有听她的话呀……  \n&emsp;&emsp;“哎，算了……”绫把小狐狸放在肩头，把似乎吓晕的小兔子递给她，“一会儿再吃哦。”（雨兔兔：我好难qwq。）  \n&emsp;&emsp;“就算……捡了一只宠物吧。”绫心里想着。  \n\n&emsp;&emsp;（未完待续www……）", "locale": "zh-CN"}}}
{"pid": "P6397", "type": "P", "difficulty": 4, "samples": [["3.000 \n2 \n0.000 \n6.000\n", "1.500"], ["2.000 \n4 \n0.000 \n4.000 \n4.000 \n8.000\n", "1.000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "Special Judge", "COI（克罗地亚）"], "title": "[COI 2008] GLASNICI", "background": "", "description": "一条直线上有 $n$ 个信使，将他们按照从左至右的顺序以 $1$ 至 $n$ 编号。换句话说，设 $i$ 号信使的的坐标为 $d_i$，则对于 $1 \\leq i \\lt n$， $d_i \\leq d_{i + 1}$。\n\n信使传递一条消息的方法如下：\n\n- 在任意时刻（不一定是整数时刻），任一信使（无论是否已知消息）都可以自由选择向左移动或者向右移动或者原地不动。其移动的速度为每秒 $1$ 单位长度。\n- 当两个信使相距不超过一给定实数 $k$ 时，双方可以进行消息传递，也即如果两人中有一人已知该消息，则两人都知道了该消息。消息传递是瞬间发生的，不消耗时间。\n\n现在 $1$ 号信使得到了一条消息，请求出最小的让所有信使都得到该消息的用时。", "inputFormat": "第一行有一个实数，表示可以进行消息传递的最大距离 $k$。\n\n第二行有一个整数，表示信使的个数 $n$。\n\n第 $3$ 到第 $(n + 2)$ 行，每行一个实数，第 $(i + 2)$ 行的实数 $d_i$ 表示信使 $i$ 的坐标。", "outputFormat": "**本题使用 Special Judge**。\n\n输出一行一个实数表示答案。当你的输出与标准答案相差不超过 $10^{-3}$ 即可得到对应测试点的分数。因此建议您**至少保留四位小数**。", "hint": "#### 样例 1 解释\n\n在前 $1.5$ 秒，$1$ 号信使向右走，$2$ 号信使向左走。\n\n第 $1.5$ 秒时，$1$ 号信使在坐标 $1.5$ 处，$2$ 号信使在坐标 $4.5$ 处，二者距离不超过 $3$，可以进行消息传递。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 10^5$，$0 \\leq k \\leq 10^6$。\n- $0 \\leq d_i \\leq 10^9$，且对于任意的 $1 \\leq i \\lt n$，都有 $d_i \\leq d_{i + 1}$。\n- 输入的实数小数点后均有 $3$ 位数字。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T1 GLASNICI***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"en": {"title": "[COI 2008] GLASNICI", "background": "", "description": "There are $n$ messengers on a straight line. Number them from $1$ to $n$ in order from left to right. In other words, let the coordinate of messenger $i$ be $d_i$. Then for $1 \\leq i \\lt n$, we have $d_i \\leq d_{i + 1}$.\n\nMessengers pass a message in the following way:\n\n- At any moment (not necessarily an integer time), any messenger (whether they already know the message or not) may freely choose to move left, move right, or stay still. Their speed is $1$ unit length per second.\n- When the distance between two messengers is no more than a given real number $k$, they can pass the message. That is, if at least one of them knows the message, then both of them will know it. Message passing happens instantly and takes no time.\n\nNow messenger $1$ has obtained a message. Find the minimum time needed to make all messengers obtain the message.", "inputFormat": "The first line contains a real number, the maximum distance $k$ within which message passing is possible.\n\nThe second line contains an integer, the number of messengers $n$.\n\nLines $3$ to $(n + 2)$ each contain a real number. The real number on line $(i + 2)$ is $d_i$, the coordinate of messenger $i$.", "outputFormat": "**This problem uses Special Judge**.\n\nOutput one real number in one line, the answer. If your output differs from the standard answer by at most $10^{-3}$, you can get the score for the corresponding test point. Therefore, it is recommended that you **keep at least four digits after the decimal point**.", "hint": "#### Sample 1 Explanation\n\nIn the first $1.5$ seconds, messenger $1$ walks to the right, and messenger $2$ walks to the left.\n\nAt time $1.5$ seconds, messenger $1$ is at coordinate $1.5$, and messenger $2$ is at coordinate $4.5$. The distance between them is no more than $3$, so they can pass the message.\n\n#### Constraints and Notes\n\nFor all test points, it is guaranteed that:\n\n- $1 \\leq n \\leq 10^5$, $0 \\leq k \\leq 10^6$.\n- $0 \\leq d_i \\leq 10^9$, and for any $1 \\leq i \\lt n$, we have $d_i \\leq d_{i + 1}$.\n- In the input, each real number has exactly $3$ digits after the decimal point.\n\n#### Note\n\n**This problem is translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T1 GLASNICI***. The translation and SPJ are provided by [一扶苏一](https://www.luogu.com.cn/user/65363).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COI 2008] GLASNICI", "background": "", "description": "一条直线上有 $n$ 个信使，将他们按照从左至右的顺序以 $1$ 至 $n$ 编号。换句话说，设 $i$ 号信使的的坐标为 $d_i$，则对于 $1 \\leq i \\lt n$， $d_i \\leq d_{i + 1}$。\n\n信使传递一条消息的方法如下：\n\n- 在任意时刻（不一定是整数时刻），任一信使（无论是否已知消息）都可以自由选择向左移动或者向右移动或者原地不动。其移动的速度为每秒 $1$ 单位长度。\n- 当两个信使相距不超过一给定实数 $k$ 时，双方可以进行消息传递，也即如果两人中有一人已知该消息，则两人都知道了该消息。消息传递是瞬间发生的，不消耗时间。\n\n现在 $1$ 号信使得到了一条消息，请求出最小的让所有信使都得到该消息的用时。", "inputFormat": "第一行有一个实数，表示可以进行消息传递的最大距离 $k$。\n\n第二行有一个整数，表示信使的个数 $n$。\n\n第 $3$ 到第 $(n + 2)$ 行，每行一个实数，第 $(i + 2)$ 行的实数 $d_i$ 表示信使 $i$ 的坐标。", "outputFormat": "**本题使用 Special Judge**。\n\n输出一行一个实数表示答案。当你的输出与标准答案相差不超过 $10^{-3}$ 即可得到对应测试点的分数。因此建议您**至少保留四位小数**。", "hint": "#### 样例 1 解释\n\n在前 $1.5$ 秒，$1$ 号信使向右走，$2$ 号信使向左走。\n\n第 $1.5$ 秒时，$1$ 号信使在坐标 $1.5$ 处，$2$ 号信使在坐标 $4.5$ 处，二者距离不超过 $3$，可以进行消息传递。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 10^5$，$0 \\leq k \\leq 10^6$。\n- $0 \\leq d_i \\leq 10^9$，且对于任意的 $1 \\leq i \\lt n$，都有 $d_i \\leq d_{i + 1}$。\n- 输入的实数小数点后均有 $3$ 位数字。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T1 GLASNICI***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6398", "type": "P", "difficulty": 5, "samples": [["10 3\n5\n4\n5\n8\n7\n6\n", "5 \n4 6 \n4 6 \n6 8 \n6 8 \n6 8"], ["15 4\n6\n6\n14\n11\n3\n8\n5\n", "10\n3 6\n11 14 \n11 14\n3 6\n5 8\n3 6"], ["1000 301\n3\n300\n500\n700\n", "401\n300 600\n350 650\n400 700"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "Special Judge", "COI（克罗地亚）"], "title": "[COI 2008] KOLEKCIJA", "background": "", "description": "Igor 有一个包含 $n$ 首歌的歌单，歌曲从 $1$ 至 $n$ 编号，他今天要听 $m$ 首歌。\n\n当播放第 $i$ 首歌时，连续 $k$ 首歌的信息会被显示在一个列表上，这连续 $k$ 首歌必须包含第 $i$ 首歌，但是没有其他要求。\n\n当一首歌被显示在列表上时，它的信息会被读取一次。如果一首歌多次被显示在列表上，他的信息也**只会被读取一次**（无论两次显示是否连续）。\n\n请给出一种方案，使得系统读取歌曲信息的次数**最少**。", "inputFormat": "第一行有两个整数，分别表示歌单的歌曲数 $n$ 和给定的参数 $k$。\n\n第二行有一个整数，表示 Igor 要听的歌曲数 $m$。\n\n第 $3$ 到第 $(m + 2)$ 行，每行一个整数，表示 Igor 要听的第 $i$ 首歌的编号 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $t$，表示读取歌曲信息的最少次数。\n\n第 $2$ 到第 $(m + 1)$ 行，每行两个整数，第 $(i + 1)$ 行的 $l_i, r_i$，表示听第 $i$ 首歌的时候显示第 $l_i$ 到第 $r_i$ 首歌的信息。\n\n你的输出需要保证 $r_i - l_i + 1 = k$，$1 \\leq l_i \\lt r_i \\leq n$，且按照你给出的方案读取的歌曲数为 $t$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq k \\lt n \\leq 10^9$，$1 \\leq m \\leq 3 \\times 10^5$。\n- $1 \\leq a_i \\leq n$，$a_i$ 互不相同。\n\n#### 计分标准\n\n- 如果输出的数字不足 $(2 \\cdot m + 1)$ 个，或输出第一行的数字 $t$ 与答案不同，则获得测试点 $0\\%$ 的分数。\n- 如果 $t$ 与答案相同，输出方案错误，则获得该测试点 $50\\%$ 的分数。\n- 如果 $t$ 与答案相同，且输出方案正确，则获得该测试点 $100\\%$ 的分数。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T2 KOLEKCIJA***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"en": {"title": "[COI 2008] KOLEKCIJA", "background": "", "description": "Igor has a playlist containing $n$ songs, numbered from $1$ to $n$. Today he is going to listen to $m$ songs.\n\nWhen playing the $i$-th song, the information of $k$ consecutive songs will be shown in a list. These $k$ consecutive songs must include the $i$-th song, and there are no other requirements.\n\nWhen a song is shown in the list, its information will be read once. If a song is shown in the list multiple times, its information will **only be read once** (no matter whether the two displays are consecutive).\n\nPlease give a plan that makes the number of songs whose information gets read **as small as possible**.", "inputFormat": "The first line contains two integers, representing the number of songs in the playlist $n$ and the given parameter $k$.\n\nThe second line contains one integer, representing the number of songs Igor will listen to, $m$.\n\nLines $3$ to $(m + 2)$ each contain one integer, representing the index $a_i$ of the $i$-th song Igor will listen to.", "outputFormat": "**This problem uses a Special Judge.**\n\nIn the first line, output an integer $t$, the minimum number of times song information is read.\n\nIn lines $2$ to $(m + 1)$, output two integers per line. On line $(i + 1)$, output $l_i, r_i$, meaning that when listening to the $i$-th song, the information of songs from $l_i$ to $r_i$ is displayed.\n\nYour output must satisfy $r_i - l_i + 1 = k$, $1 \\leq l_i \\lt r_i \\leq n$, and the number of songs read according to your plan is $t$.", "hint": "#### Constraints\n\nFor all test cases, it is guaranteed that:\n\n- $1 \\leq k \\lt n \\leq 10^9$, $1 \\leq m \\leq 3 \\times 10^5$.\n- $1 \\leq a_i \\leq n$, and all $a_i$ are pairwise distinct.\n\n#### Scoring\n\n- If the number of output numbers is less than $(2 \\cdot m + 1)$, or the number $t$ in the first line is different from the answer, you will get $0\\%$ of the score for that test point.\n- If $t$ is the same as the answer but the output plan is incorrect, you will get $50\\%$ of the score for that test point.\n- If $t$ is the same as the answer and the output plan is correct, you will get $100\\%$ of the score for that test point.\n\n#### Notes\n\n**This problem is translated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T2 KOLEKCIJA***. The translation and SPJ are provided by [一扶苏一](https://www.luogu.com.cn/user/65363).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COI 2008] KOLEKCIJA", "background": "", "description": "Igor 有一个包含 $n$ 首歌的歌单，歌曲从 $1$ 至 $n$ 编号，他今天要听 $m$ 首歌。\n\n当播放第 $i$ 首歌时，连续 $k$ 首歌的信息会被显示在一个列表上，这连续 $k$ 首歌必须包含第 $i$ 首歌，但是没有其他要求。\n\n当一首歌被显示在列表上时，它的信息会被读取一次。如果一首歌多次被显示在列表上，他的信息也**只会被读取一次**（无论两次显示是否连续）。\n\n请给出一种方案，使得系统读取歌曲信息的次数**最少**。", "inputFormat": "第一行有两个整数，分别表示歌单的歌曲数 $n$ 和给定的参数 $k$。\n\n第二行有一个整数，表示 Igor 要听的歌曲数 $m$。\n\n第 $3$ 到第 $(m + 2)$ 行，每行一个整数，表示 Igor 要听的第 $i$ 首歌的编号 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n请在第一行输出一个整数 $t$，表示读取歌曲信息的最少次数。\n\n第 $2$ 到第 $(m + 1)$ 行，每行两个整数，第 $(i + 1)$ 行的 $l_i, r_i$，表示听第 $i$ 首歌的时候显示第 $l_i$ 到第 $r_i$ 首歌的信息。\n\n你的输出需要保证 $r_i - l_i + 1 = k$，$1 \\leq l_i \\lt r_i \\leq n$，且按照你给出的方案读取的歌曲数为 $t$。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq k \\lt n \\leq 10^9$，$1 \\leq m \\leq 3 \\times 10^5$。\n- $1 \\leq a_i \\leq n$，$a_i$ 互不相同。\n\n#### 计分标准\n\n- 如果输出的数字不足 $(2 \\cdot m + 1)$ 个，或输出第一行的数字 $t$ 与答案不同，则获得测试点 $0\\%$ 的分数。\n- 如果 $t$ 与答案相同，输出方案错误，则获得该测试点 $50\\%$ 的分数。\n- 如果 $t$ 与答案相同，且输出方案正确，则获得该测试点 $100\\%$ 的分数。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T2 KOLEKCIJA***，翻译与 SPJ 均来自[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6399", "type": "P", "difficulty": 5, "samples": [["31\n9\n15\n25\n30\n6\n9\n19\n24\n27\n4", "6"], ["10000\n5\n52\n4\n9\n25\n27", "9953"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2008", "COI（克罗地亚）"], "title": "[COI 2008] TAMNICA", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/4mwkg9lv.png)\n\n现在有一个无限大的迷宫，数字如图方式排列。两个数字之间的黑线表示有一堵墙隔开，如果没有则可以互相到达。\n\n你从 $1$ 出发，出口在 $n$ 。现在由于地震，有一些墙倒了，这正好便利了你的通行。趁着人们的慌乱，你需要经过尽可能少的数字来迅速出逃。请你算出出逃最少需要的步数。", "inputFormat": "输入第一行为一个整数 $n$ ，表示出口所在的格子。\n\n第二行为一个整数 $k$，表示因地震倒塌的墙的数量。\n\n接下来的 $k$ 行，每行一个整数 $b$，表示一堵倒塌的墙的一侧的数字。\n\n另一侧的数字 $a$ 没有给出，但已知 $a<b$，所以你可以自己推导出 $a$ 的值，进而得出是哪堵墙倒塌了。当然，有些数字（比如 $2,3,5,7,10,13$） 永远不会是 $b$ 数字。", "outputFormat": "输出一行一个整数，表示最少需要经过的数字的数量（不包含 $1$）。", "hint": "#### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nrsqftne.png)\n\n对于样例 $1$ 的地震后迷宫的状态如图所示。\n\n$1-4-15-14-13-30-31$ 这条线路溜得最快。共经过了 $6$ 个数字。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n\\le 10^6$；\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^{15}$，$1\\le k\\le 10^5$，$4\\le b\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T3 TAMNICA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2008] TAMNICA", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/4mwkg9lv.png)\n\n现在有一个无限大的迷宫，数字如图方式排列。两个数字之间的黑线表示有一堵墙隔开，如果没有则可以互相到达。\n\n你从 $1$ 出发，出口在 $n$ 。现在由于地震，有一些墙倒了，这正好便利了你的通行。趁着人们的慌乱，你需要经过尽可能少的数字来迅速出逃。请你算出出逃最少需要的步数。", "inputFormat": "输入第一行为一个整数 $n$ ，表示出口所在的格子。\n\n第二行为一个整数 $k$，表示因地震倒塌的墙的数量。\n\n接下来的 $k$ 行，每行一个整数 $b$，表示一堵倒塌的墙的一侧的数字。\n\n另一侧的数字 $a$ 没有给出，但已知 $a<b$，所以你可以自己推导出 $a$ 的值，进而得出是哪堵墙倒塌了。当然，有些数字（比如 $2,3,5,7,10,13$） 永远不会是 $b$ 数字。", "outputFormat": "输出一行一个整数，表示最少需要经过的数字的数量（不包含 $1$）。", "hint": "#### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nrsqftne.png)\n\n对于样例 $1$ 的地震后迷宫的状态如图所示。\n\n$1-4-15-14-13-30-31$ 这条线路溜得最快。共经过了 $6$ 个数字。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n\\le 10^6$；\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^{15}$，$1\\le k\\le 10^5$，$4\\le b\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T3 TAMNICA***。", "locale": "zh-CN"}}}
{"pid": "P6400", "type": "P", "difficulty": 6, "samples": [["20 30", "2"], ["145 192", "4"], ["2224222 2224222", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2008", "COI（克罗地亚）"], "title": "[COI 2008] UMNOZAK", "background": "", "description": "定义一个正整数的位数积为其每一个数位的数字相乘的结果。例如：\n\n$2612$ 的位数积为：$2\\times 6\\times 1\\times 2=24$。\n\n定义一个正整数的自积为这个数乘它的位数积之后的结果。例如：\n\n$2612$ 的自积为：$2612\\times 24=62688$。\n\n给定两个整数 $A,B$，请你求出自积在 $[A,B]$ 这个区间内的正整数的个数。", "inputFormat": "输入一行两个整数 $A,B$。", "outputFormat": "输出一行一个整数，表示有多少个正整数的自积在区间 $[A,B]$ 内。", "hint": "#### 样例 2 解释\n\n共有 $19,24,32,41$ 这些正整数符合要求，他们的自积分别是 $171,192,192,164$。\n\n#### 数据规模与约定\n\n- 对于 $25\\%$ 的数据，$A\\le B\\le 10^8$；\n- 对于另 $15\\%$ 的数据，$A\\le B\\le 10^{12}$；\n- 对于 $100\\%$ 的数据，$1\\le A\\le B< 10^{18}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T4 UMNOZAK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COI 2008] UMNOZAK", "background": "", "description": "定义一个正整数的位数积为其每一个数位的数字相乘的结果。例如：\n\n$2612$ 的位数积为：$2\\times 6\\times 1\\times 2=24$。\n\n定义一个正整数的自积为这个数乘它的位数积之后的结果。例如：\n\n$2612$ 的自积为：$2612\\times 24=62688$。\n\n给定两个整数 $A,B$，请你求出自积在 $[A,B]$ 这个区间内的正整数的个数。", "inputFormat": "输入一行两个整数 $A,B$。", "outputFormat": "输出一行一个整数，表示有多少个正整数的自积在区间 $[A,B]$ 内。", "hint": "#### 样例 2 解释\n\n共有 $19,24,32,41$ 这些正整数符合要求，他们的自积分别是 $171,192,192,164$。\n\n#### 数据规模与约定\n\n- 对于 $25\\%$ 的数据，$A\\le B\\le 10^8$；\n- 对于另 $15\\%$ 的数据，$A\\le B\\le 10^{12}$；\n- 对于 $100\\%$ 的数据，$1\\le A\\le B< 10^{18}$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [COI2008](https://hsin.hr/coci/archive/2007_2008/olympiad_tasks.pdf) *T4 UMNOZAK***。", "locale": "zh-CN"}}}
{"pid": "P6401", "type": "P", "difficulty": 2, "samples": [["2 3 4 5 6 7 8 9 1\nklor", "44#444555666"], ["7 8 9 1 2 3 6 5 4\ndjevojka", "68662227778#885"], ["9 8 7 6 5 4 3 2 1\nskakavac", "33335585582228#888 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #2] MOBITEL", "background": "", "description": "蚱蜢 Marko 高兴地在草地上跳来跳去。他不小心，他的手机掉进了水坑。他的手机现在触键弄湿了，键盘的工作方式完全不可预知！所有的数字键都坏了。当我们按下其中一个键时，手机就好像我们按下了另一个键一样。幸运的是，没有两个键按下后的作用是一样的，所以 Marko 仍然可以写出所有的字母。\n\n蚱蜢 Marko 正在做一些实验以找出每个键的动作。现在他想给他的女朋友写封信。因为他只是一只蚱蜢，所以它需要你帮忙。\n\n对于那些不记得手机的按键是如何工作的人，这里有一个简短的描述。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdpj2gk9.png)\n\n这张图片显示了我们可以通过按那个键（在一个没有掉进水坑的工作手机上）得到的带有字母的按键。例如，如果我们想要字母 `a`，我们将按一次键 2，如果我们想要字母 `b`，我们将按两次键 2。如果我们想连续用同一个键写两个字母，我们必须按一次键 `#`。例如，如果要编写字符串 `klor`，我们将按以下顺序按键：`55#555666777`。", "inputFormat": "第一行输入包含 $9$ 个整数。第一个整数表示按下键 `1` 的作用相当于原来的哪个键，第二个表示按下键 `2` 的作用相当于原来的哪个键，第三个表示表示按下键 `3` 的作用相当于原来的哪个键，依此类推。马尔科不会使用 `*` 和 `0` 键。键 `#` 不会坏。\n\n第二行输入包含一个字符串 $s$，该字符串仅由英文字母表中的小写字母组成，表示蚱蜢 Marko 想要打出的字符串。", "outputFormat": "第一行也是唯一一行，输出可以打印出蚱蜢 Marko 所想要的字符串需要按的键序列。", "hint": "#### 样例 1 说明\n\n所有键的功能都向右移动一个位置，因此输出与题目中的示例语句中的示例略有不同。\n\n#### 数据规模与约定\n\n令 $|s|$ 为字符串 $s$ 的长度，则对于 $100\\%$ 的数据，都有 $1\\le |s|\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T1 MOBITEL_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #2] MOBITEL", "background": "", "description": "蚱蜢 Marko 高兴地在草地上跳来跳去。他不小心，他的手机掉进了水坑。他的手机现在触键弄湿了，键盘的工作方式完全不可预知！所有的数字键都坏了。当我们按下其中一个键时，手机就好像我们按下了另一个键一样。幸运的是，没有两个键按下后的作用是一样的，所以 Marko 仍然可以写出所有的字母。\n\n蚱蜢 Marko 正在做一些实验以找出每个键的动作。现在他想给他的女朋友写封信。因为他只是一只蚱蜢，所以它需要你帮忙。\n\n对于那些不记得手机的按键是如何工作的人，这里有一个简短的描述。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdpj2gk9.png)\n\n这张图片显示了我们可以通过按那个键（在一个没有掉进水坑的工作手机上）得到的带有字母的按键。例如，如果我们想要字母 `a`，我们将按一次键 2，如果我们想要字母 `b`，我们将按两次键 2。如果我们想连续用同一个键写两个字母，我们必须按一次键 `#`。例如，如果要编写字符串 `klor`，我们将按以下顺序按键：`55#555666777`。", "inputFormat": "第一行输入包含 $9$ 个整数。第一个整数表示按下键 `1` 的作用相当于原来的哪个键，第二个表示按下键 `2` 的作用相当于原来的哪个键，第三个表示表示按下键 `3` 的作用相当于原来的哪个键，依此类推。马尔科不会使用 `*` 和 `0` 键。键 `#` 不会坏。\n\n第二行输入包含一个字符串 $s$，该字符串仅由英文字母表中的小写字母组成，表示蚱蜢 Marko 想要打出的字符串。", "outputFormat": "第一行也是唯一一行，输出可以打印出蚱蜢 Marko 所想要的字符串需要按的键序列。", "hint": "#### 样例 1 说明\n\n所有键的功能都向右移动一个位置，因此输出与题目中的示例语句中的示例略有不同。\n\n#### 数据规模与约定\n\n令 $|s|$ 为字符串 $s$ 的长度，则对于 $100\\%$ 的数据，都有 $1\\le |s|\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T1 MOBITEL_。**", "locale": "zh-CN"}}}
{"pid": "P6402", "type": "P", "difficulty": 2, "samples": [["3\nleo\nkiki\neden\neden\nkiki\n", "leo"], ["5\nmarina\njosipa\nnikola\nvinko\nfilipa\njosipa\nfilipa\nmarina\nnikola\n", "vinko"], ["4\nmislav\nstanko\nmislav\nana\nstanko\nana\nmislav\n", "mislav"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #2] UTRKA", "background": "", "description": "许多本地和国际的休闲跑步者都渴望参加今年的萨格勒布马拉松！这是一场 42125 米长的传统比赛。一个奇怪的统计信息是，今年每个参赛者除了一个以外都设法完成了比赛。\n\n请帮助组织者根据注册参赛者名单和排名表，确定**未完成比赛**的参赛者的身份。", "inputFormat": "第一行输入包含整数 $n$，即参赛者人数。\n\n以下 $n$ 行中的每一行都包含注册参赛者的姓名。\n\n其他的 $n-1$ 行包含完成比赛者的姓名，按他们完成比赛的顺序排列。参赛者的名字由英文字母组成。参赛者的名字**不一定是唯一的**。", "outputFormat": "第一行也是唯一一行，输出必须包含未完成比赛的参赛者的姓名。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，有 $1\\le n\\le 10^3$。\n- 对于 $100\\%$ 的数据，有 $1\\le n\\le 10^5$。\n\n令 $|s|$ 为参赛者姓名的长度，则对于所有合法的姓名，都有 $1\\le |s|\\le 20$，且姓名只由**小写字符**组成。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T2 UTRKA_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #2] UTRKA", "background": "", "description": "许多本地和国际的休闲跑步者都渴望参加今年的萨格勒布马拉松！这是一场 42125 米长的传统比赛。一个奇怪的统计信息是，今年每个参赛者除了一个以外都设法完成了比赛。\n\n请帮助组织者根据注册参赛者名单和排名表，确定**未完成比赛**的参赛者的身份。", "inputFormat": "第一行输入包含整数 $n$，即参赛者人数。\n\n以下 $n$ 行中的每一行都包含注册参赛者的姓名。\n\n其他的 $n-1$ 行包含完成比赛者的姓名，按他们完成比赛的顺序排列。参赛者的名字由英文字母组成。参赛者的名字**不一定是唯一的**。", "outputFormat": "第一行也是唯一一行，输出必须包含未完成比赛的参赛者的姓名。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，有 $1\\le n\\le 10^3$。\n- 对于 $100\\%$ 的数据，有 $1\\le n\\le 10^5$。\n\n令 $|s|$ 为参赛者姓名的长度，则对于所有合法的姓名，都有 $1\\le |s|\\le 20$，且姓名只由**小写字符**组成。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T2 UTRKA_。**", "locale": "zh-CN"}}}
{"pid": "P6403", "type": "P", "difficulty": 3, "samples": [["4 1\n9 12 5 13", "1"], ["6 2\n16 2 1 7 5 10", "1"], ["6 3\n7 9 8 3 6 5 ", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #2] STUDENTSKO", "background": null, "description": "一年一度的萨格勒布大学学生乒乓球团体赛将于下周六举行！每队由 $k$ 名学生组成。$n$ 个兴奋的学生们正在排队等候登记。Krešo 在登记处工作。他真的不想做他的工作，所以他决定不让学生选择团队。他决定第一组将由第一个排队的 $k$ 名学生组成，第二组由下面的 $k$ 名学生组成，第三组由后面的 $k$ 名学生组成，以此类推。（$n\\equiv 0\\pmod k$，因此没有人剩余。）\n\nAnte 用一个整数来估计每个玩家的技能。他希望第一队拥有最弱的 $k$ 个球员，第二队拥有第二弱的 $k$ 个球员，依此类推，最后一队拥有最强的 $k$ 个球员。\n\nKrešo 刚刚休息了一下，Ante 决定转移排队的学生以达到自己的目标。他转移学生的方式是告诉一个学生从队列中走出来，在另一个学生后面排队，或者走到队列的前面。每转移一个学生花费一分钟。Krešo 有可能随时从休息中回来，所以 Ante 需要尽快实现他的目标。帮助 Ante 确定实现目标所需的最少分钟数。", "inputFormat": "第一行输入包含整数 $n$ 和 $k$，满足 $n\\bmod k=0$。\n\n第二行包含 $n$ 个空格分隔的整数 $v_i$，表示第 $i$ 个站在队列中的玩家技能的水平。\n\n所有参赛者都有不同水平的技能。", "outputFormat": "仅一行，即转移学生所用的最短分钟数。", "hint": "#### 样例 3 说明\n\nAnte 应该将技能等级为 $5,6$ 和 $3$ 的学生移到队列的前面，花了三分钟。\n\n#### 数据范围与约定\n\n- 对于 $30\\%$ 的数据，有 $1\\le n\\le 20$。\n- 对于 $100\\%$ 的数据，有 $1\\le k\\le n\\le 5\\times 10^3$。\n\n对于所有合法的 $v_i$，都有 $1\\le v_i\\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T3 STUDENTSKO_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #2] STUDENTSKO", "background": null, "description": "一年一度的萨格勒布大学学生乒乓球团体赛将于下周六举行！每队由 $k$ 名学生组成。$n$ 个兴奋的学生们正在排队等候登记。Krešo 在登记处工作。他真的不想做他的工作，所以他决定不让学生选择团队。他决定第一组将由第一个排队的 $k$ 名学生组成，第二组由下面的 $k$ 名学生组成，第三组由后面的 $k$ 名学生组成，以此类推。（$n\\equiv 0\\pmod k$，因此没有人剩余。）\n\nAnte 用一个整数来估计每个玩家的技能。他希望第一队拥有最弱的 $k$ 个球员，第二队拥有第二弱的 $k$ 个球员，依此类推，最后一队拥有最强的 $k$ 个球员。\n\nKrešo 刚刚休息了一下，Ante 决定转移排队的学生以达到自己的目标。他转移学生的方式是告诉一个学生从队列中走出来，在另一个学生后面排队，或者走到队列的前面。每转移一个学生花费一分钟。Krešo 有可能随时从休息中回来，所以 Ante 需要尽快实现他的目标。帮助 Ante 确定实现目标所需的最少分钟数。", "inputFormat": "第一行输入包含整数 $n$ 和 $k$，满足 $n\\bmod k=0$。\n\n第二行包含 $n$ 个空格分隔的整数 $v_i$，表示第 $i$ 个站在队列中的玩家技能的水平。\n\n所有参赛者都有不同水平的技能。", "outputFormat": "仅一行，即转移学生所用的最短分钟数。", "hint": "#### 样例 3 说明\n\nAnte 应该将技能等级为 $5,6$ 和 $3$ 的学生移到队列的前面，花了三分钟。\n\n#### 数据范围与约定\n\n- 对于 $30\\%$ 的数据，有 $1\\le n\\le 20$。\n- 对于 $100\\%$ 的数据，有 $1\\le k\\le n\\le 5\\times 10^3$。\n\n对于所有合法的 $v_i$，都有 $1\\le v_i\\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T3 STUDENTSKO_。**", "locale": "zh-CN"}}}
{"pid": "P6404", "type": "P", "difficulty": 4, "samples": [["5 3\n2 2 2\n2 2 1\n1 1 1\n2 1 2\n1 2 1", "27"], ["4 3\n1 1 1\n1 1 1\n2 2 2\n2 2 2", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "O2优化", "COCI（克罗地亚）", "单调栈"], "title": "[COCI 2014/2015 #2] BOB", "background": "", "description": "Bob 是一位著名的建设者。他买了地，想盖房子。不幸的是，问题是土地的地形，土地不同地方的海拔不一定一样。\n\n这块地呈长方形，宽 $n$ 米，长 $m$ 米。它可以分为 $n\\times m$ 个方格（见图片）。Bob 的房子将被塑造成一个长方形，它的边与土地的边平行，其顶点与正方形的顶点重合。Bob 的房子所覆盖的所有土地必须具有相同的高度，以防倒塌。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aedp5fq2.png)\n\n请计算出 Bob 建房的方法数。\n\n**形式化地**，求出一个矩阵中所有元素均相等的子矩阵个数。", "inputFormat": "第一行输入包含整数 $n$ 和 $m$。\n\n以下 $n$ 行中的每一行都包含 $m$ 个整数 $a_{i,j}$，分别是每平方土地的海拔高度。\n\n**由于输入量很大，请使用更快的输入方法。**", "outputFormat": "仅一行，即 Bob 建房的方法数。", "hint": "#### 样例 1 说明\n\n一些可能的房屋位置是分别以 $(0,0)-(1,1),(0,0)-(0,2)$ （高度为 $2$）$(2,0)-(2,2),(1,2)-(2,2)$（高度为 $1$）为左上角顶点和右下角顶点的矩形。括号中的第一个数字表示行号，第二个数字表示列号（坐标以 $0$ 开始）。\n\n#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，有 $1\\le n,m\\le 50$。\n- 对于 $60\\%$ 的数据，有 $1\\le n,m\\le 500$。\n- 对于 $100\\%$ 的数据，有 $1\\le n,m\\le 10^3$。\n\n对于所有合法的 $a_{i,j}$，都有 $1\\le a_{i,j}\\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T4 BOB_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #2] BOB", "background": "", "description": "Bob 是一位著名的建设者。他买了地，想盖房子。不幸的是，问题是土地的地形，土地不同地方的海拔不一定一样。\n\n这块地呈长方形，宽 $n$ 米，长 $m$ 米。它可以分为 $n\\times m$ 个方格（见图片）。Bob 的房子将被塑造成一个长方形，它的边与土地的边平行，其顶点与正方形的顶点重合。Bob 的房子所覆盖的所有土地必须具有相同的高度，以防倒塌。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aedp5fq2.png)\n\n请计算出 Bob 建房的方法数。\n\n**形式化地**，求出一个矩阵中所有元素均相等的子矩阵个数。", "inputFormat": "第一行输入包含整数 $n$ 和 $m$。\n\n以下 $n$ 行中的每一行都包含 $m$ 个整数 $a_{i,j}$，分别是每平方土地的海拔高度。\n\n**由于输入量很大，请使用更快的输入方法。**", "outputFormat": "仅一行，即 Bob 建房的方法数。", "hint": "#### 样例 1 说明\n\n一些可能的房屋位置是分别以 $(0,0)-(1,1),(0,0)-(0,2)$ （高度为 $2$）$(2,0)-(2,2),(1,2)-(2,2)$（高度为 $1$）为左上角顶点和右下角顶点的矩形。括号中的第一个数字表示行号，第二个数字表示列号（坐标以 $0$ 开始）。\n\n#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，有 $1\\le n,m\\le 50$。\n- 对于 $60\\%$ 的数据，有 $1\\le n,m\\le 500$。\n- 对于 $100\\%$ 的数据，有 $1\\le n,m\\le 10^3$。\n\n对于所有合法的 $a_{i,j}$，都有 $1\\le a_{i,j}\\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T4 BOB_。**", "locale": "zh-CN"}}}
{"pid": "P6405", "type": "P", "difficulty": 5, "samples": [["3\n1 2 3\n3 2 2\n5 2 1\n3 2 1\n1 2 1\n1 2 3\n", "7"], ["2\n3 1\n3 3\n2 5\n2 5\n", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "并查集", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #2] ŠUMA", "background": "", "description": "森林可以抽象为一个 $n\\times n$ 的矩阵，每个元素描述一棵树的高度。\n\nMirko 为每棵树测量了它们一年生长的米数。**注意：如果一棵树一年长 $5$ 米，半年就会长 $2.5$ 米。**\n\nMirko 想知道，若已知森林里所有树木的当前高度及生长速度，如果这些树继续以它们当时生长的速度生长，那么所有高度相同的连成一组的树的的树的棵数最大会是多少。\n\n两棵树或一组树是相邻的条件如下：\n\n- 如果两棵树在矩阵中共享一条公共边，则它们是**相邻的**。\n- 如果有从第一棵树到第二棵树的相邻树序列，则两棵树是**相邻的**。\n- 如果组中的每对树都是相邻的，则一组树是**相邻的**。", "inputFormat": "第一行仅一个整数 $n$。\n\n接下来 $n$ 行，每行包含 $n$ 个整数。第 $i$ 行第 $j$ 个数指 $h_{i,j}$，表示第 $i$ 行第 $j$ 列中树的初始高度，以米为单位。\n\n接下来 $n$ 行，每行 $n$ 个整数。第 $i$ 行第 $j$ 个数指 $v_{i,j}$，表示第 $i$ 行第 $j$ 列中树的生长速度，以米为单位。\n\n**由于输入量较大，请使用更快的输入方法。**", "outputFormat": "仅一行一个整数，即为题中所求。", "hint": "#### 样例 2 说明\n\n$8$ 个月后，位于 $(0,0),(0,1),(1,0)$ 的树木高度将达到 $\\dfrac{13}{3}$ 米，这 $3$ 棵树是相邻的一组树，所以应该输出 `3`。\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据。有 $1\\le n\\le 70$。\n- 对于 $100\\%$ 的数据，有 $1\\le n\\le 700$。\n\n对于所有合法的 $h_{i,j}$ 和 $v_{i,j}$，都有 $1\\le h_{i,j},v_{i,j}\\le 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T5 ŠUMA_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #2] ŠUMA", "background": "", "description": "森林可以抽象为一个 $n\\times n$ 的矩阵，每个元素描述一棵树的高度。\n\nMirko 为每棵树测量了它们一年生长的米数。**注意：如果一棵树一年长 $5$ 米，半年就会长 $2.5$ 米。**\n\nMirko 想知道，若已知森林里所有树木的当前高度及生长速度，如果这些树继续以它们当时生长的速度生长，那么所有高度相同的连成一组的树的的树的棵数最大会是多少。\n\n两棵树或一组树是相邻的条件如下：\n\n- 如果两棵树在矩阵中共享一条公共边，则它们是**相邻的**。\n- 如果有从第一棵树到第二棵树的相邻树序列，则两棵树是**相邻的**。\n- 如果组中的每对树都是相邻的，则一组树是**相邻的**。", "inputFormat": "第一行仅一个整数 $n$。\n\n接下来 $n$ 行，每行包含 $n$ 个整数。第 $i$ 行第 $j$ 个数指 $h_{i,j}$，表示第 $i$ 行第 $j$ 列中树的初始高度，以米为单位。\n\n接下来 $n$ 行，每行 $n$ 个整数。第 $i$ 行第 $j$ 个数指 $v_{i,j}$，表示第 $i$ 行第 $j$ 列中树的生长速度，以米为单位。\n\n**由于输入量较大，请使用更快的输入方法。**", "outputFormat": "仅一行一个整数，即为题中所求。", "hint": "#### 样例 2 说明\n\n$8$ 个月后，位于 $(0,0),(0,1),(1,0)$ 的树木高度将达到 $\\dfrac{13}{3}$ 米，这 $3$ 棵树是相邻的一组树，所以应该输出 `3`。\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据。有 $1\\le n\\le 70$。\n- 对于 $100\\%$ 的数据，有 $1\\le n\\le 700$。\n\n对于所有合法的 $h_{i,j}$ 和 $v_{i,j}$，都有 $1\\le h_{i,j},v_{i,j}\\le 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST #2](https://hsin.hr/coci/archive/2014_2015/contest2_tasks.pdf) _T5 ŠUMA_。**", "locale": "zh-CN"}}}
{"pid": "P6406", "type": "P", "difficulty": 6, "samples": [["4\n2\n4\n1\n4", "109"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "线段树", "递归", "O2优化", "分治", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #2] Norma", "background": "", "description": "给定一个正整数序列 $a_1,a_2,\\cdots,a_n$ ，求\n\n$$\\sum_{i=1}^{n}\\sum_{j=i}^{n}(j-i+1)\\min(a_i,a_{i+1},\\cdots,a_j)\\max(a_i,a_{i+1},\\cdots,a_j)$$", "inputFormat": "第一行一个整数 $n$ 。  \n接下来 $n$ 行，每行一个正整数，表示输入序列 $a_1,a_2,\\cdots,a_n$ 。", "outputFormat": "输出答案对 $10^9$ 取模后的结果。", "hint": "对于 $100\\%$ 的数据，$1 \\le n \\leq 5\\times 10^5$，$1 \\le a_i \\le 10^8$。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2014/2015 #2] Norma", "background": "", "description": "Given a positive integer sequence $a_1,a_2,\\cdots,a_n$, compute\n\n$$\\sum_{i=1}^{n}\\sum_{j=i}^{n}(j-i+1)\\min(a_i,a_{i+1},\\cdots,a_j)\\max(a_i,a_{i+1},\\cdots,a_j)$$", "inputFormat": "The first line contains an integer $n$.  \nThe next $n$ lines each contain a positive integer, representing the input sequence $a_1,a_2,\\cdots,a_n$.", "outputFormat": "Output the result modulo $10^9$.", "hint": "For $100\\%$ of the testdata, $1 \\le n \\leq 5\\times 10^5$, $1 \\le a_i \\le 10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2014/2015 #2] Norma", "background": "", "description": "给定一个正整数序列 $a_1,a_2,\\cdots,a_n$ ，求\n\n$$\\sum_{i=1}^{n}\\sum_{j=i}^{n}(j-i+1)\\min(a_i,a_{i+1},\\cdots,a_j)\\max(a_i,a_{i+1},\\cdots,a_j)$$", "inputFormat": "第一行一个整数 $n$ 。  \n接下来 $n$ 行，每行一个正整数，表示输入序列 $a_1,a_2,\\cdots,a_n$ 。", "outputFormat": "输出答案对 $10^9$ 取模后的结果。", "hint": "对于 $100\\%$ 的数据，$1 \\le n \\leq 5\\times 10^5$，$1 \\le a_i \\le 10^8$。", "locale": "zh-CN"}}}
{"pid": "P6407", "type": "P", "difficulty": 6, "samples": [["8 8 0 A", "32"], ["7 6 6 C\n3 1\n3 6\n5 3\n5 4\n5 7\n6 7", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "各省省选", "山东", "O2优化"], "title": "[SDOI2012] 棋盘覆盖", "background": "", "description": "在一个 $n\\times m$ 的棋盘内，有 $K$ 个方格被称为特殊方格。我们要使用一组俄罗斯方块来覆盖这个棋盘，保证特殊方格不能被覆盖，非特殊方格只能被一个俄罗斯方块覆盖，求最多能容纳的俄罗斯方块的数量。\n\n已知有以下三组俄罗斯方块，一个棋盘可能用其中的某一组。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8ck63qab.png)", "inputFormat": "第一行三个整数 $n,m,K$ 和一个字符 `type` 为所用的俄罗斯方块组。\n\n接下来 $K$ 行每行两个整数 $x,y$ 表示第 $x$ 行第 $y$ 列为特殊方格。", "outputFormat": "一个整数，为所求的答案。", "hint": "对于测试点 $1\\sim 6$，$1\\le n,m\\le 100$，$0\\le K\\le nm$，`type` 为 `A`；\n\n对于测试点 $7\\sim 12$，$2\\le n=m\\le 2^{2\\times 10^5}$，$n,m$ 为 $2$ 的整数次幂，$K=1$，`type` 为 `B`；\n\n对于测试点 $13\\sim 21$，$1\\le n,m\\le 11$，$0\\le K\\le nm$，`type` 为 `C`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SDOI2012] 棋盘覆盖", "background": "", "description": "在一个 $n\\times m$ 的棋盘内，有 $K$ 个方格被称为特殊方格。我们要使用一组俄罗斯方块来覆盖这个棋盘，保证特殊方格不能被覆盖，非特殊方格只能被一个俄罗斯方块覆盖，求最多能容纳的俄罗斯方块的数量。\n\n已知有以下三组俄罗斯方块，一个棋盘可能用其中的某一组。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8ck63qab.png)", "inputFormat": "第一行三个整数 $n,m,K$ 和一个字符 `type` 为所用的俄罗斯方块组。\n\n接下来 $K$ 行每行两个整数 $x,y$ 表示第 $x$ 行第 $y$ 列为特殊方格。", "outputFormat": "一个整数，为所求的答案。", "hint": "对于测试点 $1\\sim 6$，$1\\le n,m\\le 100$，$0\\le K\\le nm$，`type` 为 `A`；\n\n对于测试点 $7\\sim 12$，$2\\le n=m\\le 2^{2\\times 10^5}$，$n,m$ 为 $2$ 的整数次幂，$K=1$，`type` 为 `B`；\n\n对于测试点 $13\\sim 21$，$1\\le n,m\\le 11$，$0\\le K\\le nm$，`type` 为 `C`。", "locale": "zh-CN"}}}
{"pid": "P6408", "type": "P", "difficulty": 1, "samples": [["5 4 4 5\n5 4 4 4\n5 5 4 4\n5 5 5 4\n4 4 4 5 \n", "4 19 \n"], ["4 4 3 3\n5 4 3 5\n5 5 2 4\n5 5 5 1\n4 4 4 4 \n", "2 17 \n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #3] PET", "background": "", "description": "在一项受欢迎的比赛 _Dinner for Five_ 中，有 $5$ 名选手和 $4$ 名裁判，这 $4$ 个裁判会对每一道菜用 $1 \\sim 5$ 的数字进行评估，每位选手的总分即是所有裁判评分的总和，参赛者按照其评分顺序从 $1$ 到 $5$ 进行编号。\n\n请你编写一个程序，输出评分最高的选手的编号以及其分数。", "inputFormat": "输入共 $5$ 行，每一行有 $4$ 个正整数，表示每位裁判对第 $i$ 位选手的评分。\n\n输入数据将确保胜者是唯一的。", "outputFormat": "输出仅 $1$ 行，有 $2$ 个正整数，中间有一个空格，分别表示评分最高的选手以及其分数。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) *T1 PET*。**\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #3] PET", "background": "", "description": "在一项受欢迎的比赛 _Dinner for Five_ 中，有 $5$ 名选手和 $4$ 名裁判，这 $4$ 个裁判会对每一道菜用 $1 \\sim 5$ 的数字进行评估，每位选手的总分即是所有裁判评分的总和，参赛者按照其评分顺序从 $1$ 到 $5$ 进行编号。\n\n请你编写一个程序，输出评分最高的选手的编号以及其分数。", "inputFormat": "输入共 $5$ 行，每一行有 $4$ 个正整数，表示每位裁判对第 $i$ 位选手的评分。\n\n输入数据将确保胜者是唯一的。", "outputFormat": "输出仅 $1$ 行，有 $2$ 个正整数，中间有一个空格，分别表示评分最高的选手以及其分数。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) *T1 PET*。**\n", "locale": "zh-CN"}}}
{"pid": "P6409", "type": "P", "difficulty": 1, "samples": [["zepelepenapa papapripikapa", "zelena paprika"], ["bapas jepe doposapadnapa opovapa kepemipijapa", "bas je dosadna ova kemija"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #3] KEMIJA", "background": "Luka 天天上课走神。", "description": "Luka 又在化学课上鬼混了！他不是在写化学方程式，而是在写一句奇怪的话。\n\nLuka 通过在每一个元音字母（$\\texttt{a}$，$\\texttt{e}$，$\\texttt{i}$，$\\texttt{o}$，$\\texttt{u}$）后面加上 $\\texttt{p}$ 再加上原来的元音字母的方式加密这一个单词，如  $\\texttt{kemija}$ 变成  $\\texttt{kepemipijapa}$， $\\texttt{paprika}$ 变成  $\\texttt{papapripikapa}$ 。\n\n老师想知道调皮的 Luka 写了些什么，请你帮助老师，写出一个解密程序。", "inputFormat": "一行一个字符串 $s$，表示加密后的句子，数据保证不会有前导空格与尾随空格，但句子中间可能出现空格。", "outputFormat": "一行一个字符串，表示解密后的句子。", "hint": "#### 数据范围\n\n令 $|s|$ 为 $s$ 的长度，则 $1 \\leq |s| \\leq 100$，数据保证字符串的内容一定是小写字母或空格。\n\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) *T2 KEMIJA*。**\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #3] KEMIJA", "background": "Luka 天天上课走神。", "description": "Luka 又在化学课上鬼混了！他不是在写化学方程式，而是在写一句奇怪的话。\n\nLuka 通过在每一个元音字母（$\\texttt{a}$，$\\texttt{e}$，$\\texttt{i}$，$\\texttt{o}$，$\\texttt{u}$）后面加上 $\\texttt{p}$ 再加上原来的元音字母的方式加密这一个单词，如  $\\texttt{kemija}$ 变成  $\\texttt{kepemipijapa}$， $\\texttt{paprika}$ 变成  $\\texttt{papapripikapa}$ 。\n\n老师想知道调皮的 Luka 写了些什么，请你帮助老师，写出一个解密程序。", "inputFormat": "一行一个字符串 $s$，表示加密后的句子，数据保证不会有前导空格与尾随空格，但句子中间可能出现空格。", "outputFormat": "一行一个字符串，表示解密后的句子。", "hint": "#### 数据范围\n\n令 $|s|$ 为 $s$ 的长度，则 $1 \\leq |s| \\leq 100$，数据保证字符串的内容一定是小写字母或空格。\n\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) *T2 KEMIJA*。**\n\n", "locale": "zh-CN"}}}
{"pid": "P6410", "type": "P", "difficulty": 3, "samples": [["..9......\n.....4...\n.......4.\n.........\n.4.......\n.........\n.........\n.........\n......... \n", "4.9......\n.....4...\n.......4.\n.........\n.4.......\n.........\n.........\n.........\n......... \n"], ["...1...6.\n18...9...\n..7.642..\n2.9..6.5.\n.43...72.\n.6.3..9.1\n..265.1..\n...2...97\n.5...3... ", "524137869\n186529473\n397864215\n219476358\n843915726\n765382941\n972658134\n638241597\n451793682 "], ["1........\n..1......\n.......1.\n.........\n.........\n.........\n.........\n.........\n......... \n", "ERROR \n"], ["........2\n....1....\n1........\n......1..\n.........\n.........\n.........\n.......1.\n......... \n", "ERROR "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #3] CROSS", "background": "在数独游戏中，目标是将 $1 \\sim 9$ 的整数放入 $9 \\times 9$ 网格中，这样每行每列以及 $9$ 个 $3 \\times 3$ 框的每一个都包含所有 $9$ 个数字不重复的数字。开始 $9 \\times 9$ 的方格纸已部分填充，因此可以从逻辑上推导出其他单元格的值。 \n\n数独有很多难题，解决越困难的往往需要越复杂的分析方法。 ", "description": "在这道题中，你需要用到最简单的方法，即交叉影线。\n\n在方格之中，我们选择 $9$ 个数字中的 $1$ 个，并针对网格中每个出现的数字划掉相应的行，列和 $3 \\times 3$ 的框。 寻找一个的 $3 \\times 3$ 区域，将号码的位置并将其放置在此处。\n\n系统会为您提供部分填充的网格。您的任务是重复使用交叉影线的方法，对于不同的数字，直到无法再对任何数字进行推论。  \n\n下面的第一张图片显示了一个非常稀疏的数独。但是，即使如此稀疏，但在此网格中仍然可以使用交叉阴影线推断左上角单元格中的数字为 $4$，如第二张图片。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6mjuqfi9.png)\n\n\n另外，在下列情况下，您需要输出 $\\tt ERROR$：\n- 数字在网格中的初始放置无效。\n- 在所有的 $3 \\times 3$ 框中无法填写此数字。", "inputFormat": "输入有 $9$ 行，每行 $9$ 个字符。每个字符将是一个在 $1$ 到 $9$ 之间，或是一个 $\\tt .$，表示空。", "outputFormat": "如果输入有效且求解时没有矛盾，则应在相同的位置输出网格给出的格式。\n\n如果可以使用交叉阴影线推导出其值，则填充单元格。 \n\n否则输出 $\\tt ERROR$。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) *T3 CROSS*。**\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #3] CROSS", "background": "在数独游戏中，目标是将 $1 \\sim 9$ 的整数放入 $9 \\times 9$ 网格中，这样每行每列以及 $9$ 个 $3 \\times 3$ 框的每一个都包含所有 $9$ 个数字不重复的数字。开始 $9 \\times 9$ 的方格纸已部分填充，因此可以从逻辑上推导出其他单元格的值。 \n\n数独有很多难题，解决越困难的往往需要越复杂的分析方法。 ", "description": "在这道题中，你需要用到最简单的方法，即交叉影线。\n\n在方格之中，我们选择 $9$ 个数字中的 $1$ 个，并针对网格中每个出现的数字划掉相应的行，列和 $3 \\times 3$ 的框。 寻找一个的 $3 \\times 3$ 区域，将号码的位置并将其放置在此处。\n\n系统会为您提供部分填充的网格。您的任务是重复使用交叉影线的方法，对于不同的数字，直到无法再对任何数字进行推论。  \n\n下面的第一张图片显示了一个非常稀疏的数独。但是，即使如此稀疏，但在此网格中仍然可以使用交叉阴影线推断左上角单元格中的数字为 $4$，如第二张图片。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6mjuqfi9.png)\n\n\n另外，在下列情况下，您需要输出 $\\tt ERROR$：\n- 数字在网格中的初始放置无效。\n- 在所有的 $3 \\times 3$ 框中无法填写此数字。", "inputFormat": "输入有 $9$ 行，每行 $9$ 个字符。每个字符将是一个在 $1$ 到 $9$ 之间，或是一个 $\\tt .$，表示空。", "outputFormat": "如果输入有效且求解时没有矛盾，则应在相同的位置输出网格给出的格式。\n\n如果可以使用交叉阴影线推导出其值，则填充单元格。 \n\n否则输出 $\\tt ERROR$。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) *T3 CROSS*。**\n\n", "locale": "zh-CN"}}}
{"pid": "P6411", "type": "P", "difficulty": 5, "samples": [["3 3\nA 3\nB 2\nC 4\n3\n1 2 3 \n", "AAB\nACC\nBCC \n"], ["4 4\nA 4\nB 4\nC 4\nD 4\n4\n1 2 3 4 \n", "AABB\nAACC\nBCDD\nBCDD "], ["4 5\nE 4\nA 3\nB 3\nC 3\nD 3\n2\n2 4 \n", "AC\nBE\nDE\nED \n"], ["4 6\nF 1\nE 3\nA 3\nB 3\nC 3\nD 3\n4\n1 2 3 4 \n", "IMPOSSIBLE "]], "limits": {"time": [200, 200, 200, 200, 200, 200, 200, 200, 200, 200], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #3] MATRICA", "background": "", "description": "您需要构造一个 $n\\times n$ 字符矩阵 $M$。\n\n这个字符矩阵有如下几条限制：\n1. $M_{i,j}=M_{j,i}(1\\le i,j\\le n)$。\n1. 必须恰好含有 $a_i$ 个字符 $c_i$。\n\n因为构造的方案有很多种，所以你需要输出方案中字典序最小的。\n\n因为输出太多不好，所有你只需要输出 $p$ 列，具体的方案将会在输入格式中声明。\n\n如果无解，请输出 `IMPOSSIBLE`。", "inputFormat": "第一行为两个整数 $n$ 和 $k$，$k$ 表示限制 $2$ 的条数。\n\n接下来 $k$ 行，每一行为一个大写字母和一个整数，分别为 $c_i$ 和 $a_i$。\n\n接下来一行为一个整数 $p$。\n\n接下来一行 $p$ 个整数，表示你需要输出的列的标号，保证按升序出现。\n", "outputFormat": "为一个 $n$ 行 $p$ 列的字符矩阵，如果无解，请输出 `IMPOSSIBLE`。", "hint": "#### 数据范围与限制\n- 对于 $60\\%$ 的数据，保证 $n\\le 300$。\n- 对于 $80\\%$ 的数据，保证 $n\\le 3\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 3\\times 10^4$，$1\\le k\\le 26$，$\\sum a_i=n^2$，$c_i\\neq c_j$，$1\\le p\\le 50$。\n\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) T4 MATRICA。 ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #3] MATRICA", "background": "", "description": "您需要构造一个 $n\\times n$ 字符矩阵 $M$。\n\n这个字符矩阵有如下几条限制：\n1. $M_{i,j}=M_{j,i}(1\\le i,j\\le n)$。\n1. 必须恰好含有 $a_i$ 个字符 $c_i$。\n\n因为构造的方案有很多种，所以你需要输出方案中字典序最小的。\n\n因为输出太多不好，所有你只需要输出 $p$ 列，具体的方案将会在输入格式中声明。\n\n如果无解，请输出 `IMPOSSIBLE`。", "inputFormat": "第一行为两个整数 $n$ 和 $k$，$k$ 表示限制 $2$ 的条数。\n\n接下来 $k$ 行，每一行为一个大写字母和一个整数，分别为 $c_i$ 和 $a_i$。\n\n接下来一行为一个整数 $p$。\n\n接下来一行 $p$ 个整数，表示你需要输出的列的标号，保证按升序出现。\n", "outputFormat": "为一个 $n$ 行 $p$ 列的字符矩阵，如果无解，请输出 `IMPOSSIBLE`。", "hint": "#### 数据范围与限制\n- 对于 $60\\%$ 的数据，保证 $n\\le 300$。\n- 对于 $80\\%$ 的数据，保证 $n\\le 3\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 3\\times 10^4$，$1\\le k\\le 26$，$\\sum a_i=n^2$，$c_i\\neq c_j$，$1\\le p\\le 50$。\n\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) T4 MATRICA。 ", "locale": "zh-CN"}}}
{"pid": "P6412", "type": "P", "difficulty": 5, "samples": [["4\n1\n2\n3\n4 \n", "0\n1\n3\n6\n"], ["5\n3\n2\n4\n1\n5 \n", "0\n1\n2\n4\n6 "], ["8\n3\n5\n1\n6\n8\n7\n2\n4 \n", "0\n1\n2\n4\n7\n11\n13\n15 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "线段树", "COCI（克罗地亚）", "链表", "单调栈"], "title": "[COCI 2008/2009 #3] BST", "background": "", "description": "现在有一个 $1\\sim n$ 的排列 $a$，将序列中的元素依次放进一个 BST 里，求 BST 中插入函数的执行次数。\n\n**注意：第一个数已经作为 BST 的根。**\n\n如果您无法理解上面说的话，这里有一份伪代码：\n\n```\ninsert( number x, node n )\n    c+1;\n    if x is less than the number in node n\n        if n has no left child\n            create a new node with the number x and set it to be the left child of node n\n     else\n         insert(x, left child of node n)\n     else (x is greater than the number in node n)\n         if n has no right child\n             create a new node with the number x and set it to be the right child of node n\n         else\n             insert(x, right child of node n) \n```\n您需要求的就是上面的 insert 函数每进行一次后 $c$ 的值。\n\n**再次注意：第一个数已经作为 BST 的根。**", "inputFormat": "第一行，一个整数 $n$，表示排列 $a$ 的长度。\n\n接下来 $n$ 行，每行一个整数，第 $i$ 行为 $a_i$。", "outputFormat": "共 $n$ 行，一行一个整数，表示上面的 insert 函数每进行一次后 $c$ 的值。", "hint": "#### 数据范围及限制\n- 对于 $50\\%$ 的数据，保证 $n\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 3\\times 10^5$，$1\\le a_i\\le n$，$a_i$ 互不相同。\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) T5 BST。 ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #3] BST", "background": "", "description": "现在有一个 $1\\sim n$ 的排列 $a$，将序列中的元素依次放进一个 BST 里，求 BST 中插入函数的执行次数。\n\n**注意：第一个数已经作为 BST 的根。**\n\n如果您无法理解上面说的话，这里有一份伪代码：\n\n```\ninsert( number x, node n )\n    c+1;\n    if x is less than the number in node n\n        if n has no left child\n            create a new node with the number x and set it to be the left child of node n\n     else\n         insert(x, left child of node n)\n     else (x is greater than the number in node n)\n         if n has no right child\n             create a new node with the number x and set it to be the right child of node n\n         else\n             insert(x, right child of node n) \n```\n您需要求的就是上面的 insert 函数每进行一次后 $c$ 的值。\n\n**再次注意：第一个数已经作为 BST 的根。**", "inputFormat": "第一行，一个整数 $n$，表示排列 $a$ 的长度。\n\n接下来 $n$ 行，每行一个整数，第 $i$ 行为 $a_i$。", "outputFormat": "共 $n$ 行，一行一个整数，表示上面的 insert 函数每进行一次后 $c$ 的值。", "hint": "#### 数据范围及限制\n- 对于 $50\\%$ 的数据，保证 $n\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 3\\times 10^5$，$1\\le a_i\\le n$，$a_i$ 互不相同。\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) T5 BST。 ", "locale": "zh-CN"}}}
{"pid": "P6413", "type": "P", "difficulty": 6, "samples": [["4 3\n1 2 5\n2 3 5\n3 4 5 \n", "3\n4\n3 "], ["4 4\n1 2 5\n2 3 5\n3 4 5\n1 4 8 \n", "2\n3\n2\n1 "], ["5 8\n1 2 20\n1 3 2\n2 3 2\n4 2 3\n4 2 3\n3 4 5\n4 3 5\n5 4 20 \n", "0\n4\n6\n6\n6\n7\n2\n6 "], ["4 4\n1 2 1\n2 3 1\n1 3 2\n3 4 1\n", "3\n4\n2\n4"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "拓扑排序", "最短路", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #3] NAJKRACI", "background": "", "description": "有一个含 $n$ 个点，$m$ 条边的**有向图**。\n\n对于每一条边，求出它被任意两点的最短路径经过的次数对 $10^9+7$ 取模的值。\n\n如果 $A, B$ 两点之间有多条最短路，每条最短路都要计算一遍。你可以参考样例 $4$ 中第 $3, 4$ 条边的输出来理解这句话。", "inputFormat": "第一行两个整数 $n$ 和 $m$。\n\n接下来 $m$ 行，每行三个整数 $x$ ，$y$，$d$，即有一条 $x$ 到 $y$ 的有向边，边权为 $d$。", "outputFormat": "共 $m$ 行，每一行输出一个整数，第 $i$ 行的数表示在第 $i+1$ 行读入的边被任意两点的最短路径经过的次数对 $10^9+7$ 取模的值。", "hint": "#### 数据范围与约定\n- 对于 $30\\%$ 的数据，保证 $n\\le 15$，$m\\le 30$。\n- 对于 $60\\%$ 的数据，保证 $n\\le 300$，$m\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 1.5\\times 10^3$，$1\\le m\\le 5\\times 10^3$，$a\\neq b$，$1\\le a,b\\le n$，$1\\le d\\le 10^4$。\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) T6 NAJKRACI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #3] NAJKRACI", "background": "", "description": "有一个含 $n$ 个点，$m$ 条边的**有向图**。\n\n对于每一条边，求出它被任意两点的最短路径经过的次数对 $10^9+7$ 取模的值。\n\n如果 $A, B$ 两点之间有多条最短路，每条最短路都要计算一遍。你可以参考样例 $4$ 中第 $3, 4$ 条边的输出来理解这句话。", "inputFormat": "第一行两个整数 $n$ 和 $m$。\n\n接下来 $m$ 行，每行三个整数 $x$ ，$y$，$d$，即有一条 $x$ 到 $y$ 的有向边，边权为 $d$。", "outputFormat": "共 $m$ 行，每一行输出一个整数，第 $i$ 行的数表示在第 $i+1$ 行读入的边被任意两点的最短路径经过的次数对 $10^9+7$ 取模的值。", "hint": "#### 数据范围与约定\n- 对于 $30\\%$ 的数据，保证 $n\\le 15$，$m\\le 30$。\n- 对于 $60\\%$ 的数据，保证 $n\\le 300$，$m\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 1.5\\times 10^3$，$1\\le m\\le 5\\times 10^3$，$a\\neq b$，$1\\le a,b\\le n$，$1\\le d\\le 10^4$。\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #3](https://hsin.hr/coci/archive/2008_2009/contest3_tasks.pdf) T6 NAJKRACI。", "locale": "zh-CN"}}}
{"pid": "P6414", "type": "P", "difficulty": 1, "samples": [["1\n2", "2"], ["4\n3 2 3 5", "3 1 5 11"], ["5\n1 2 2 3 4", "1 3 2 6 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #1] PROSJEK", "background": "", "description": "有一个数列 $a$，现在按照下列公式求出一个数列 $b$：\n\n$$b_i=\\frac{ \\sum^i_{j=1} a_j }{i}$$\n\n给你数列 $b$，请求出数列 $a$。", "inputFormat": "第一行一个整数 $n$ ，表示数列 $b$ 的长度。\n\n接下来一行 $n$ 个整数，表示数列 $b$。", "outputFormat": "一行 $n$ 个整数，表示数列 $a$。", "hint": "#### 样例输入输出 3 解释\n当数列 $a=1,3,2,6,8$ 时，数列 $b=\\frac{1}{1},\\frac{1+3}{2},\\frac{1+3+2}{3},\\frac{1+3+2+6}{4},\\frac{1+3+2+6+8}{5}$，即 $b=1,2,2,3,4$。\n\n#### 数据规模与约定\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$1\\le a_i,b_i\\le 10^9$。\n\n#### 说明\n**本题总分 $50$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T1 PROSJEK。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #1] PROSJEK", "background": "", "description": "有一个数列 $a$，现在按照下列公式求出一个数列 $b$：\n\n$$b_i=\\frac{ \\sum^i_{j=1} a_j }{i}$$\n\n给你数列 $b$，请求出数列 $a$。", "inputFormat": "第一行一个整数 $n$ ，表示数列 $b$ 的长度。\n\n接下来一行 $n$ 个整数，表示数列 $b$。", "outputFormat": "一行 $n$ 个整数，表示数列 $a$。", "hint": "#### 样例输入输出 3 解释\n当数列 $a=1,3,2,6,8$ 时，数列 $b=\\frac{1}{1},\\frac{1+3}{2},\\frac{1+3+2}{3},\\frac{1+3+2+6}{4},\\frac{1+3+2+6+8}{5}$，即 $b=1,2,2,3,4$。\n\n#### 数据规模与约定\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$1\\le a_i,b_i\\le 10^9$。\n\n#### 说明\n**本题总分 $50$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T1 PROSJEK。", "locale": "zh-CN"}}}
{"pid": "P6415", "type": "P", "difficulty": 2, "samples": [["3\n3 4\n5 7\n4 3", "16"], ["4\n5 1\n1 5\n10 5\n5 10", "81"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #1] KLOPKA", "background": "", "description": "在平面直角坐标系上有 $n$ 个点。\n\n现在要用一个正方形将点框起来，使得每一个点都能在正方形的内部或边上。要求这个正方形的边平行于坐标轴。\n\n求出这个正方形的最小面积。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行两个整数 $x,y$，表示一个点的横纵坐标。", "outputFormat": "一行一个整数，表示正方形的最小面积。", "hint": "#### 样例输入输出 1 解释\n一个方案是正方形的右上角在 $(7,7)$，左下角在 $(3,3)$。\n#### 数据规模与约定\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 20$，$1\\le x,y\\le 100$。\n#### 说明\n**本题总分 $80$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T2 KLOPKA。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #1] KLOPKA", "background": "", "description": "在平面直角坐标系上有 $n$ 个点。\n\n现在要用一个正方形将点框起来，使得每一个点都能在正方形的内部或边上。要求这个正方形的边平行于坐标轴。\n\n求出这个正方形的最小面积。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行两个整数 $x,y$，表示一个点的横纵坐标。", "outputFormat": "一行一个整数，表示正方形的最小面积。", "hint": "#### 样例输入输出 1 解释\n一个方案是正方形的右上角在 $(7,7)$，左下角在 $(3,3)$。\n#### 数据规模与约定\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 20$，$1\\le x,y\\le 100$。\n#### 说明\n**本题总分 $80$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T2 KLOPKA。", "locale": "zh-CN"}}}
{"pid": "P6416", "type": "P", "difficulty": 3, "samples": [["6\nJANJETINA\n5\n1 J\n1 A\n6 N\n6 I\n5 E", "1\n0\n2\n1\n1"], ["5\nA\n5\n1 A\n2 A\n3 A\n4 A\n5 B", "1\n2\n3\n4\n0"], ["3\nAB\n3\n2 A\n2 B\n3 B", "1\n1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "二分", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #1] PIRAMIDA", "background": "Zoran 和 Tomislav 今天很无聊。", "description": "于是，他们把他们喜欢的字符串 `JANJETINA` 按照一定规律在一个塔上从左到右从上到下写了一遍又一遍。\n\n这是塔只有六层的情况：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ja46bpf9.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n现在他们想考你一个问题：给定字符串 $s$ 与塔的层数 $n$，将这个字符串在塔上写一遍又一遍，接下来会有 $k$ 个问题，第 $i$ 次问你字符 $c_i$ 在第 $a_i$ 层出现了几次。", "inputFormat": "第一行一个整数 $n$。\n\n第二行一个字符串 $s$。\n\n第三行一个整数 $k$。\n\n接下来 $k$ 行，第 $i$ 行为一个整数 $a_i$ 和一个字符 $c_i$。", "outputFormat": "对于每个问题，输出一行一个整数，表示答案。", "hint": "#### 样例输入输出 1 解释\n\n为题目中的例子。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n\\le 10^3$。\n- 对于 $70\\%$ 的数据，保证 $|s|\\le 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 10^{18}$，$1\\le |s|\\le 10^6$，$1\\le k\\le 5\\times 10^4$，$1\\le a_i\\le n$，输入中涉及的字符均为大写字母。\n\n#### 说明\n**本题总分 $100$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T3 PIRAMIDA。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #1] PIRAMIDA", "background": "Zoran 和 Tomislav 今天很无聊。", "description": "于是，他们把他们喜欢的字符串 `JANJETINA` 按照一定规律在一个塔上从左到右从上到下写了一遍又一遍。\n\n这是塔只有六层的情况：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ja46bpf9.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n现在他们想考你一个问题：给定字符串 $s$ 与塔的层数 $n$，将这个字符串在塔上写一遍又一遍，接下来会有 $k$ 个问题，第 $i$ 次问你字符 $c_i$ 在第 $a_i$ 层出现了几次。", "inputFormat": "第一行一个整数 $n$。\n\n第二行一个字符串 $s$。\n\n第三行一个整数 $k$。\n\n接下来 $k$ 行，第 $i$ 行为一个整数 $a_i$ 和一个字符 $c_i$。", "outputFormat": "对于每个问题，输出一行一个整数，表示答案。", "hint": "#### 样例输入输出 1 解释\n\n为题目中的例子。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n\\le 10^3$。\n- 对于 $70\\%$ 的数据，保证 $|s|\\le 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 10^{18}$，$1\\le |s|\\le 10^6$，$1\\le k\\le 5\\times 10^4$，$1\\le a_i\\le n$，输入中涉及的字符均为大写字母。\n\n#### 说明\n**本题总分 $100$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T3 PIRAMIDA。", "locale": "zh-CN"}}}
{"pid": "P6417", "type": "P", "difficulty": 4, "samples": [["3\n2\n1\n1\n", "2"], ["3\n2\n3\n1\n", "1\n"], ["7\n3\n3\n4\n5\n6\n4\n4", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #1] MAFIJA", "background": "", "description": "有 $n$ 个人，其中有一些人是平民，有一些人是坏蛋。\n\n现在，平民们想揪出所有的坏蛋，于是 $n$ 个人都指认了一个人是坏蛋。\n\n如果一个人是平民，他会随便乱指认，否则，他会指认一个平民。\n\n求出最多的坏蛋个数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个整数 $k$，第 $i$ 行表示第 $i$ 个人指认了第 $k$ 个人。", "outputFormat": "仅一行一个整数，表示最多的坏蛋个数。", "hint": "#### 样例解释\n#### 样例输入输出 1 解释\n坏蛋可以是第 $2$ 个人和第 $3$ 个人。\n#### 样例输入输出 2 解释\n坏蛋可能是所有人，但是只能是其中的一个人，因为再多一个坏蛋的话会有坏蛋指控坏蛋的情况发生。\n\n#### 数据范围与限制\n- 对于 $40$ 分的数据，保证 $n\\le 15$。\n- 对于 $80$ 分的数据，保证 $n\\le 2\\times 10^4$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 5\\times 10^5$，$1\\le k\\le n$。\n\n#### 说明\n**本题总分 $120$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T4 MAFIJA。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #1] MAFIJA", "background": "", "description": "有 $n$ 个人，其中有一些人是平民，有一些人是坏蛋。\n\n现在，平民们想揪出所有的坏蛋，于是 $n$ 个人都指认了一个人是坏蛋。\n\n如果一个人是平民，他会随便乱指认，否则，他会指认一个平民。\n\n求出最多的坏蛋个数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，每行一个整数 $k$，第 $i$ 行表示第 $i$ 个人指认了第 $k$ 个人。", "outputFormat": "仅一行一个整数，表示最多的坏蛋个数。", "hint": "#### 样例解释\n#### 样例输入输出 1 解释\n坏蛋可以是第 $2$ 个人和第 $3$ 个人。\n#### 样例输入输出 2 解释\n坏蛋可能是所有人，但是只能是其中的一个人，因为再多一个坏蛋的话会有坏蛋指控坏蛋的情况发生。\n\n#### 数据范围与限制\n- 对于 $40$ 分的数据，保证 $n\\le 15$。\n- 对于 $80$ 分的数据，保证 $n\\le 2\\times 10^4$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 5\\times 10^5$，$1\\le k\\le n$。\n\n#### 说明\n**本题总分 $120$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T4 MAFIJA。", "locale": "zh-CN"}}}
{"pid": "P6418", "type": "P", "difficulty": 5, "samples": [["5 1 2\n1\n1\n1\n1\n1", "7"], ["11 2 3\n1\n2\n1\n2\n1\n2\n1\n2\n1\n2\n1", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2014", "背包 DP", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #1] ZABAVA", "background": "", "description": "一座新的公寓开放了，这座公寓有 $m$ 栋楼。\n\n现在会有 $n$ 个学生，每一天都会进来一个人。\n\n一栋楼进来一个人后，会进行一场派对，派对会有与当前人数相等的吵闹指数。\n\n但是，现在可以进行 $k$ 次操作，每一次操作可以将一栋楼里的全部学生踢出这座新公寓。\n\n请注意，学生先进楼，然后才能进行操作。\n\n现在求出最小吵闹指数的相加之和。\n\n你不必使用完全部的操作。", "inputFormat": "第一行为三个整数 $n,m,k$。\n\n接下来 $n$ 行，一行一个整数 $p$，第 $i$ 行表示在第 $i$ 天，第 $i$ 个同学搬进了第 $p$ 栋楼。", "outputFormat": "仅一行，表示最小吵闹指数的相加之和。", "hint": "#### 样例说明\n#### 样例输入输出 1 说明\n可以在第一天和第三天清空第一栋楼，这样每一天的吵闹指数为 $1,1,2,1,2$，如果不清空每一天的吵闹指数为 $1,2,3,4,5$。\n#### 样例输入输出 2 说明\n在第四天和第八天清空第一栋楼，在第六天清空第二栋楼，这样每一天的吵闹指数为 $1,1,2,2,1,3,2,1,1,2,2$。\n#### 数据范围及限制\n- 对于 $40$ 分的数据，保证 $m=1$。\n- 对于 $60$ 分的数据，保证 $n\\le 10^3$。\n- 对于 $80$ 分的数据，保证 $n\\le 5\\times 10^4$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^6$，$1\\le m\\le 100$，$1\\le k\\le 500$，$1\\le p\\le m$。\n\n#### 说明\n**本题总分 $140$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T5 ZABAVA。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #1] ZABAVA", "background": "", "description": "一座新的公寓开放了，这座公寓有 $m$ 栋楼。\n\n现在会有 $n$ 个学生，每一天都会进来一个人。\n\n一栋楼进来一个人后，会进行一场派对，派对会有与当前人数相等的吵闹指数。\n\n但是，现在可以进行 $k$ 次操作，每一次操作可以将一栋楼里的全部学生踢出这座新公寓。\n\n请注意，学生先进楼，然后才能进行操作。\n\n现在求出最小吵闹指数的相加之和。\n\n你不必使用完全部的操作。", "inputFormat": "第一行为三个整数 $n,m,k$。\n\n接下来 $n$ 行，一行一个整数 $p$，第 $i$ 行表示在第 $i$ 天，第 $i$ 个同学搬进了第 $p$ 栋楼。", "outputFormat": "仅一行，表示最小吵闹指数的相加之和。", "hint": "#### 样例说明\n#### 样例输入输出 1 说明\n可以在第一天和第三天清空第一栋楼，这样每一天的吵闹指数为 $1,1,2,1,2$，如果不清空每一天的吵闹指数为 $1,2,3,4,5$。\n#### 样例输入输出 2 说明\n在第四天和第八天清空第一栋楼，在第六天清空第二栋楼，这样每一天的吵闹指数为 $1,1,2,2,1,3,2,1,1,2,2$。\n#### 数据范围及限制\n- 对于 $40$ 分的数据，保证 $m=1$。\n- 对于 $60$ 分的数据，保证 $n\\le 10^3$。\n- 对于 $80$ 分的数据，保证 $n\\le 5\\times 10^4$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^6$，$1\\le m\\le 100$，$1\\le k\\le 500$，$1\\le p\\le m$。\n\n#### 说明\n**本题总分 $140$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2014/2015](https://hsin.hr/coci/archive/2014_2015) [Contest #1](https://hsin.hr/coci/archive/2014_2015/contest1_tasks.pdf) T5 ZABAVA。", "locale": "zh-CN"}}}
{"pid": "P6419", "type": "P", "difficulty": 6, "samples": [["7 2\n1 2 4\n1 3 1\n2 5 1\n2 4 2\n4 7 3\n4 6 2\n3\n7", "11\n15\n10\n13\n16\n15\n10"], ["5 2\n2 5 1\n2 4 1\n1 2 2\n1 3 2\n4\n5\n", "5\n3\n7\n2\n2\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2014", "树形 DP", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #1] Kamp", "background": null, "description": "一棵树 $n$ 个点，$n-1$ 条边，经过每条边都要花费一定的时间，任意两个点都是联通的。\n\n有 $K$ 个人（分布在 $K$ 个不同的点）要集中到一个点举行聚会。\n\n聚会结束后需要一辆车从举行聚会的这点出发，先让所有人都上车，再把这 $K$ 个人分别送回去。\n\n请你回答，对于 $i=1 \\sim n$ ，如果在第 $i$ 个点举行聚会，司机最少需要多少时间把 $K$ 个人都送回家。", "inputFormat": "第一行两个整数 $n,K$ 。\n\n接下来 $n-1$ 行，每行三个数 $x,y,z$ 表示 $x$ 到 $y$ 之间有一条需要花费 $z$ 时间的边。\n\n接下来 $K$ 行，每行一个数，表示 $K$ 个人的分布。", "outputFormat": "输出 $n$ 个数。\n\n第 $i$ 行的数表示：如果在第 $i$ 个点举行聚会，司机需要的最少时间。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n\\le 2\\times 10^3$。\n- 对于 $100\\%$ 的数据， $1 \\le K \\le n \\leq 5\\times 10^5$，$1 \\le x,y \\le n$，$1 \\le z \\le 10^8$ 。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2014/2015 #1] Kamp", "background": "", "description": "There is a tree with $n$ nodes and $n-1$ edges. Passing through each edge costs a certain amount of time, and any two nodes are connected.\n\nThere are $K$ people (located at $K$ different nodes) who want to gather at one node for a party.\n\nAfter the party ends, a car needs to start from the party node, pick up all people into the car, and then send these $K$ people back to their respective homes.\n\nPlease answer: for $i = 1 \\sim n$, if the party is held at node $i$, what is the minimum time the driver needs to send all $K$ people back home.", "inputFormat": "The first line contains two integers $n, K$.\n\nThe next $n-1$ lines each contain three numbers $x, y, z$, meaning there is an edge between $x$ and $y$ that costs $z$ time.\n\nThe next $K$ lines each contain one number, indicating the locations of the $K$ people.", "outputFormat": "Output $n$ numbers.\n\nThe number on line $i$ means: if the party is held at node $i$, the minimum time the driver needs.", "hint": "#### Constraints\n\n- For $50\\%$ of the testdata, $n \\le 2 \\times 10^3$.\n- For $100\\%$ of the testdata, $1 \\le K \\le n \\le 5 \\times 10^5$, $1 \\le x, y \\le n$, $1 \\le z \\le 10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2014/2015 #1] Kamp", "background": null, "description": "一棵树 $n$ 个点，$n-1$ 条边，经过每条边都要花费一定的时间，任意两个点都是联通的。\n\n有 $K$ 个人（分布在 $K$ 个不同的点）要集中到一个点举行聚会。\n\n聚会结束后需要一辆车从举行聚会的这点出发，先让所有人都上车，再把这 $K$ 个人分别送回去。\n\n请你回答，对于 $i=1 \\sim n$ ，如果在第 $i$ 个点举行聚会，司机最少需要多少时间把 $K$ 个人都送回家。", "inputFormat": "第一行两个整数 $n,K$ 。\n\n接下来 $n-1$ 行，每行三个数 $x,y,z$ 表示 $x$ 到 $y$ 之间有一条需要花费 $z$ 时间的边。\n\n接下来 $K$ 行，每行一个数，表示 $K$ 个人的分布。", "outputFormat": "输出 $n$ 个数。\n\n第 $i$ 行的数表示：如果在第 $i$ 个点举行聚会，司机需要的最少时间。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n\\le 2\\times 10^3$。\n- 对于 $100\\%$ 的数据， $1 \\le K \\le n \\leq 5\\times 10^5$，$1 \\le x,y \\le n$，$1 \\le z \\le 10^8$ 。", "locale": "zh-CN"}}}
{"pid": "P6420", "type": "P", "difficulty": 1, "samples": [["1 2 3 4", "3"], ["4 4 3 4", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #2] KORNISLAV", "background": "", "description": "乌龟 Kornislav 从来没有什么有趣的事。 由于他将生活三百年，他一直在努力寻找消磨时间的方法。 这个周末，他开始玩“面积最大的矩形”这个游戏。\n首先，Kornislav 需要四个正整数。他通过向一个方向移动，旋转 $90°$ ，在新方向上行走等方式来形成一个图案。Kornislav 总共进行了三个 $90°$ 旋转，并走过了四条线段。\n当朝某个方向行走时，他的步数必须等于四个所选整数中的一个，并且每个整数只能成为一条线段的长度。根据 Kornislav 使用这四个整数的顺序，他的步行将形成各种形状，其中也包括一些未封闭的图案。\n编写一个程序，计算出乌龟的行进轨迹可以形成的最大矩形面积。", "inputFormat": "一行四个整数 $a,b,c,d$，表示 Kornislav 挑选的四个整数。", "outputFormat": "一行一个整数，表示 Kornislav 的行进轨迹所能形成的最大矩形面积。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $1<a,b,c,d<100$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) KORNISLAV，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #2] KORNISLAV", "background": "", "description": "乌龟 Kornislav 从来没有什么有趣的事。 由于他将生活三百年，他一直在努力寻找消磨时间的方法。 这个周末，他开始玩“面积最大的矩形”这个游戏。\n首先，Kornislav 需要四个正整数。他通过向一个方向移动，旋转 $90°$ ，在新方向上行走等方式来形成一个图案。Kornislav 总共进行了三个 $90°$ 旋转，并走过了四条线段。\n当朝某个方向行走时，他的步数必须等于四个所选整数中的一个，并且每个整数只能成为一条线段的长度。根据 Kornislav 使用这四个整数的顺序，他的步行将形成各种形状，其中也包括一些未封闭的图案。\n编写一个程序，计算出乌龟的行进轨迹可以形成的最大矩形面积。", "inputFormat": "一行四个整数 $a,b,c,d$，表示 Kornislav 挑选的四个整数。", "outputFormat": "一行一个整数，表示 Kornislav 的行进轨迹所能形成的最大矩形面积。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $1<a,b,c,d<100$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) KORNISLAV，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6421", "type": "P", "difficulty": 1, "samples": [["7 3", "6"], ["15 12", "7"], ["10 7", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "数学", "2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #2] RESETO", "background": "", "description": "埃拉托色尼筛法是一种著名的素数筛法，可以查找所有直至 $n$ 的素数。该算法的步骤是：\n1. 写下 $2$ 到 $n$ 之间的所有整数（包括 $2$ 和 $n$）。\n2. 找到尚未删除的最小数，并将其命名为 $p$； 则 $p$ 是素数。\n3. 划掉 $p$ 及其所有尚未划掉的倍数。\n4. 如果尚有数未被划掉，请转到步骤 $2$。\n\n编写一个程序，给定 $n$ 和 $k$，找出第 $k$ 个被删除的整数。", "inputFormat": "一行两个整数 $n$ 和 $k$，其具体含义请见题目描述。", "outputFormat": "一行一个整数，表示第 $k$ 个被划掉的整数。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $2 \\leq k < n \\leq 1000$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) RESETO，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #2] RESETO", "background": "", "description": "埃拉托色尼筛法是一种著名的素数筛法，可以查找所有直至 $n$ 的素数。该算法的步骤是：\n1. 写下 $2$ 到 $n$ 之间的所有整数（包括 $2$ 和 $n$）。\n2. 找到尚未删除的最小数，并将其命名为 $p$； 则 $p$ 是素数。\n3. 划掉 $p$ 及其所有尚未划掉的倍数。\n4. 如果尚有数未被划掉，请转到步骤 $2$。\n\n编写一个程序，给定 $n$ 和 $k$，找出第 $k$ 个被删除的整数。", "inputFormat": "一行两个整数 $n$ 和 $k$，其具体含义请见题目描述。", "outputFormat": "一行一个整数，表示第 $k$ 个被划掉的整数。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $2 \\leq k < n \\leq 1000$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) RESETO，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6423", "type": "P", "difficulty": 3, "samples": [["12\n1\n3 1\n1\n5 1", "5"], ["20 \n2\n3 2\n1 3\n3\n3 1\n4 1\n5 1", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #2] SVADA", "background": "", "description": "当地的动物园已经获得了一个大型开放式花园，动物可以像在其自然栖息地中那样随意移动，并以平常的恶作剧来招待游客。\n\n最受欢迎的动物是猴子。随着他们的攀登，跳跃和其他坎，他们使老老游客都感到高兴。\n\n一种猴子专门研究爬高大的树木和摘椰子。另一种专门研究它们的开放性。\n有 $n$ 只第一种猴子（编号 $1$ 到 $n$）和 $m$ 种第二种猴子（编号 $1$ 到 $m$）。\n\n第一种猴子的第 $k$ 只需要 $A_k$ 秒才能在树上找到一个好地方，然后摘下第一个椰子。之后，猴子每 $B_k$ 秒产生一个新的椰子。\n\n第二种猴子的第 $k$ 只需要 $C_k$ 秒的时间才能找到打开椰子的好工具，然后打开第一个椰子。之后，猴子每 $D_k$ 秒打开另一个椰子。\n\n不幸的是，第二种猴子非常具有攻击性，因此这两种类型可能不会同时出现在花园中。因此，动物园管理员会在第一类猴子摘下所有椰子后立刻赶走它们。类似地，如果打开所有椰子后，相同类型的猴子停留时间过长，则会发生争斗。因此，动物园管理员将在它们打开所有椰子后将它们送走。\n\n动物园管理员需要在所有椰子都被采摘后立即到达，然后在猴子将它们全部打开后立即返回。猴子进入或离开花园所需的时间也很小。\n\nTomislav 特别喜欢第二种猴子，但到来时总是看不见它们。请帮助他计算第二种猴子到达的时间（他知道猴子在花园里度过的总时间，但不知道花园里椰子的数量）。", "inputFormat": "第一行一个整数 $t$，表示猴子在花园中度过的总时间，以秒为单位。\n\n第二行一个整数 $n$，表示第一种猴子的只数。\n\n以下 $n$ 行，每行两个整数 $A_k$ 和 $B_k$，表示第 $k$ 只第一种猴子的两个相关数据，具体解释请参照题目描述。\n\n接下来一行一个整数 $m$，表示第二种猴子的只数。\n\n以下 $m$ 行，每行两个整数 $C_k$ 和 $D_k$，表示第 $k$ 只第二种猴子的两个相关数据，具体解释请参照题目描述。", "outputFormat": "一行一个整数，表示第一种猴子到来到第二种猴子到来之间的秒数。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $1 \\leq t \\leq 1 \\times 10^9,1 \\leq n,m \\leq 100,1 \\leq A_k,B_k,C_k,D_k \\leq 1 \\times 10^9$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) SVADA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #2] SVADA", "background": "", "description": "当地的动物园已经获得了一个大型开放式花园，动物可以像在其自然栖息地中那样随意移动，并以平常的恶作剧来招待游客。\n\n最受欢迎的动物是猴子。随着他们的攀登，跳跃和其他坎，他们使老老游客都感到高兴。\n\n一种猴子专门研究爬高大的树木和摘椰子。另一种专门研究它们的开放性。\n有 $n$ 只第一种猴子（编号 $1$ 到 $n$）和 $m$ 种第二种猴子（编号 $1$ 到 $m$）。\n\n第一种猴子的第 $k$ 只需要 $A_k$ 秒才能在树上找到一个好地方，然后摘下第一个椰子。之后，猴子每 $B_k$ 秒产生一个新的椰子。\n\n第二种猴子的第 $k$ 只需要 $C_k$ 秒的时间才能找到打开椰子的好工具，然后打开第一个椰子。之后，猴子每 $D_k$ 秒打开另一个椰子。\n\n不幸的是，第二种猴子非常具有攻击性，因此这两种类型可能不会同时出现在花园中。因此，动物园管理员会在第一类猴子摘下所有椰子后立刻赶走它们。类似地，如果打开所有椰子后，相同类型的猴子停留时间过长，则会发生争斗。因此，动物园管理员将在它们打开所有椰子后将它们送走。\n\n动物园管理员需要在所有椰子都被采摘后立即到达，然后在猴子将它们全部打开后立即返回。猴子进入或离开花园所需的时间也很小。\n\nTomislav 特别喜欢第二种猴子，但到来时总是看不见它们。请帮助他计算第二种猴子到达的时间（他知道猴子在花园里度过的总时间，但不知道花园里椰子的数量）。", "inputFormat": "第一行一个整数 $t$，表示猴子在花园中度过的总时间，以秒为单位。\n\n第二行一个整数 $n$，表示第一种猴子的只数。\n\n以下 $n$ 行，每行两个整数 $A_k$ 和 $B_k$，表示第 $k$ 只第一种猴子的两个相关数据，具体解释请参照题目描述。\n\n接下来一行一个整数 $m$，表示第二种猴子的只数。\n\n以下 $m$ 行，每行两个整数 $C_k$ 和 $D_k$，表示第 $k$ 只第二种猴子的两个相关数据，具体解释请参照题目描述。", "outputFormat": "一行一个整数，表示第一种猴子到来到第二种猴子到来之间的秒数。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $1 \\leq t \\leq 1 \\times 10^9,1 \\leq n,m \\leq 100,1 \\leq A_k,B_k,C_k,D_k \\leq 1 \\times 10^9$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) SVADA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6424", "type": "P", "difficulty": 5, "samples": [["P*P", "6"], ["L*R", "25"], ["**", "33"], ["LLLLLRRRRRLLLLLRRRRRLLLLLRRRRRLLLLL", "35400942560"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #2] SETNJA", "background": "", "description": "在二叉树中：\n\n- 每个节点都有两个孩子——一个左孩子和一个右孩子。\n- 如果节点标记为整数 $x$，则其左子节点标记为 $2x$，右子节点标记为 $2x+1$。\n- 树的根标为 $1$。\n\n在二叉树上从根开始遍历。遍历中的每一步要么是跳到左孩子上，要么是跳到右孩子上，或暂停休息（停留在同一节点上）。\n\n用由字符 `L`，`R` 和 `P` 组成的字符串描述遍历过程。\n\n- `L `表示跳到左孩子；\n- `R `表示跳到右孩子；\n- `P `表示暂停一轮操作。\n\n$walk$ 的值是我们最终到达的节点的标签。例如，`LR` 的 $walk$ 值为 $5$，而 `RPP` 的 $walk$ 值为 $3$。\n\n一次遍历由 `L`，`R`，`P` 和 `*` 描述。每个 `*` 可以是三个动作中的任何一个。  例如， `L*R` 可能代表 `LLR`，`LRR` 和 `LPR`。集合 `**` 可能代表 `LL`，`LR`，`LP`，`RL`，`RR`，`RP`，`PL`，`PR ` 和 `PP`。\n\n最后，一次遍历后的 $walk$ 的总值是该次遍历中所有可能的遍历顺序的每一步所形成的 $walk$ 的值的总和。\n\n计算给定遍历顺序后的 $walk$ 的总值。", "inputFormat": "一行一个字符串，表示遍历顺序。", "outputFormat": "一行一个整数，表示 $walk$ 的总值。", "hint": "#### 数据规模与约定\n- 对于 $30\\%$ 的数据，保证输入的字符串中无 `*` 字符。\n- 对于 $50\\%$ 的数据，保证输入的字符串中至多有三个 `*` 字符。\n- 对于 $100\\%$ 的数据，保证输入字符串长度小于 $10000$，字符串的每一位只可能是 `L`，`R`，`P`，`*`。\n#### 说明\n- #### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) SETNJA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #2] SETNJA", "background": "", "description": "在二叉树中：\n\n- 每个节点都有两个孩子——一个左孩子和一个右孩子。\n- 如果节点标记为整数 $x$，则其左子节点标记为 $2x$，右子节点标记为 $2x+1$。\n- 树的根标为 $1$。\n\n在二叉树上从根开始遍历。遍历中的每一步要么是跳到左孩子上，要么是跳到右孩子上，或暂停休息（停留在同一节点上）。\n\n用由字符 `L`，`R` 和 `P` 组成的字符串描述遍历过程。\n\n- `L `表示跳到左孩子；\n- `R `表示跳到右孩子；\n- `P `表示暂停一轮操作。\n\n$walk$ 的值是我们最终到达的节点的标签。例如，`LR` 的 $walk$ 值为 $5$，而 `RPP` 的 $walk$ 值为 $3$。\n\n一次遍历由 `L`，`R`，`P` 和 `*` 描述。每个 `*` 可以是三个动作中的任何一个。  例如， `L*R` 可能代表 `LLR`，`LRR` 和 `LPR`。集合 `**` 可能代表 `LL`，`LR`，`LP`，`RL`，`RR`，`RP`，`PL`，`PR ` 和 `PP`。\n\n最后，一次遍历后的 $walk$ 的总值是该次遍历中所有可能的遍历顺序的每一步所形成的 $walk$ 的值的总和。\n\n计算给定遍历顺序后的 $walk$ 的总值。", "inputFormat": "一行一个字符串，表示遍历顺序。", "outputFormat": "一行一个整数，表示 $walk$ 的总值。", "hint": "#### 数据规模与约定\n- 对于 $30\\%$ 的数据，保证输入的字符串中无 `*` 字符。\n- 对于 $50\\%$ 的数据，保证输入的字符串中至多有三个 `*` 字符。\n- 对于 $100\\%$ 的数据，保证输入字符串长度小于 $10000$，字符串的每一位只可能是 `L`，`R`，`P`，`*`。\n#### 说明\n- #### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) SETNJA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6425", "type": "P", "difficulty": 6, "samples": [["5\n1 4\n2 2\n4 1\n3 5\n5 3\nLUR", "9.0\n6.5\n2.5"], ["8\n1 6\n2 4\n3 1\n4 2\n5 7\n6 5\n7 9\n8 3\nURDLUU", "34.0\n24.0\n16.5\n14.0\n9.5\n5.0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #2] CAVLI", "background": "", "description": "Mirko 在阁楼上发现了一块木板和 $n$ 个钉子。 Mirko 尽快将钉子钉在板上。 通过坐标平面对板进行建模，钉子作为其中的点。 没有两个钉子具有相同的 $x$ 或 $y$ 坐标。\n为了继续玩乐，Mirko 偷走了姐姐的松紧发带，将其散布在所有的钉子上，然后放开。 松紧带自然在钉子周围收紧。\n\n然后，Mirko 重复这些步骤，保证在板上至少留下三个钉子：\n\n1. 记录下由发圈围成的图形面积；\n\n2. 在板上选择最左边，最右边，最上面或最下面的钉子。\n\n3. 从板上卸下选择的钉子； 松紧带再次把仍留在板上的最靠外钉子绑起来。\n   现在我们知道 Mirko 在每次执行步骤 $2$ 时选择的钉子，编写一个程序来计算在每次执行步骤 $1$ 时计算出的图形面积的大小。", "inputFormat": "第一行一个整数 $n$，表示钉子的个数。\n\n接下来 $n$ 行，每行两个整数 $x_i$ 和 $y_i$，用空格隔开，表示第 $i$ 个钉子的坐标。\n\n下面一行一个字符串，由 $n-2$ 个字符组成，这些字符可能为 `L`，`R`，`U`，`D`，分别表示 Mirko 选择拔掉的钉子。这四个字符的含义如下：\n\n- `L` 表示拔掉最左边的钉子（横坐标最小的钉子）；\n- `R` 表示拔掉最右边的钉子（横坐标最大的钉子）；\n- `U` 表示拔掉最上方的钉子（纵坐标最大的钉子）；\n- `D` 表示拔掉最下方的钉子（纵坐标最小的钉子）。", "outputFormat": "共 $n-2$ 行，每行一个浮点数，表示每一次执行步骤 $1$ 时计算出的图形面积的大小，保留一位小数。", "hint": "#### 样例 #2 解释：\n![](https://cdn.luogu.com.cn/upload/image_hosting/y16d8wid.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/qefp7alq.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/puomeovd.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/lp53b1zy.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/6rgbxuyo.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/5g5xhv94.png)\n\n以上是对于样例 #2 的输入数据，程序应该按顺序模拟的六个步骤。\n#### 数据规模与约定\n- 对于 $50\\%$ 的数据，保证 $3 \\leq n \\leq 1000$。\n- 对于 $100\\%$ 的数据，保证 $3 \\leq n \\leq 3 \\times 10^5$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) CAVLI，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #2] CAVLI", "background": "", "description": "Mirko 在阁楼上发现了一块木板和 $n$ 个钉子。 Mirko 尽快将钉子钉在板上。 通过坐标平面对板进行建模，钉子作为其中的点。 没有两个钉子具有相同的 $x$ 或 $y$ 坐标。\n为了继续玩乐，Mirko 偷走了姐姐的松紧发带，将其散布在所有的钉子上，然后放开。 松紧带自然在钉子周围收紧。\n\n然后，Mirko 重复这些步骤，保证在板上至少留下三个钉子：\n\n1. 记录下由发圈围成的图形面积；\n\n2. 在板上选择最左边，最右边，最上面或最下面的钉子。\n\n3. 从板上卸下选择的钉子； 松紧带再次把仍留在板上的最靠外钉子绑起来。\n   现在我们知道 Mirko 在每次执行步骤 $2$ 时选择的钉子，编写一个程序来计算在每次执行步骤 $1$ 时计算出的图形面积的大小。", "inputFormat": "第一行一个整数 $n$，表示钉子的个数。\n\n接下来 $n$ 行，每行两个整数 $x_i$ 和 $y_i$，用空格隔开，表示第 $i$ 个钉子的坐标。\n\n下面一行一个字符串，由 $n-2$ 个字符组成，这些字符可能为 `L`，`R`，`U`，`D`，分别表示 Mirko 选择拔掉的钉子。这四个字符的含义如下：\n\n- `L` 表示拔掉最左边的钉子（横坐标最小的钉子）；\n- `R` 表示拔掉最右边的钉子（横坐标最大的钉子）；\n- `U` 表示拔掉最上方的钉子（纵坐标最大的钉子）；\n- `D` 表示拔掉最下方的钉子（纵坐标最小的钉子）。", "outputFormat": "共 $n-2$ 行，每行一个浮点数，表示每一次执行步骤 $1$ 时计算出的图形面积的大小，保留一位小数。", "hint": "#### 样例 #2 解释：\n![](https://cdn.luogu.com.cn/upload/image_hosting/y16d8wid.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/qefp7alq.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/puomeovd.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/lp53b1zy.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/6rgbxuyo.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/5g5xhv94.png)\n\n以上是对于样例 #2 的输入数据，程序应该按顺序模拟的六个步骤。\n#### 数据规模与约定\n- 对于 $50\\%$ 的数据，保证 $3 \\leq n \\leq 1000$。\n- 对于 $100\\%$ 的数据，保证 $3 \\leq n \\leq 3 \\times 10^5$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #2](https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf) CAVLI，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6426", "type": "P", "difficulty": 1, "samples": [["2 3 5", "1"], ["3 5 9", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #1] SKOCIMIS", "background": "", "description": "三只袋鼠在沙漠里的一条数轴上玩耍，每只袋鼠都占据一个不同的整数点。在一次移动中，一只不在中间的袋鼠跳进另两只袋鼠之间的空间。两只袋鼠决不能占据同一位置。\n\n请让它们尽可能久地玩耍。", "inputFormat": "三个整数 $A,B,C$，表示三只袋鼠最初的位置。", "outputFormat": "输出袋鼠们最多能移动的次数。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，$0 < A < B < C < 100$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) SKOCIMIS，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #1] SKOCIMIS", "background": "", "description": "三只袋鼠在沙漠里的一条数轴上玩耍，每只袋鼠都占据一个不同的整数点。在一次移动中，一只不在中间的袋鼠跳进另两只袋鼠之间的空间。两只袋鼠决不能占据同一位置。\n\n请让它们尽可能久地玩耍。", "inputFormat": "三个整数 $A,B,C$，表示三只袋鼠最初的位置。", "outputFormat": "输出袋鼠们最多能移动的次数。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，$0 < A < B < C < 100$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) SKOCIMIS，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6427", "type": "P", "difficulty": 2, "samples": [["5\nBAACC", "3\nBruno"], ["9\nAAAABBBBB", "4\nAdrian\nBruno\nGoran"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #1] PTICE", "background": null, "description": "Adrian 、Bruno 和 Goran 想加入鸟类爱好者俱乐部。然而，他们并不知道所有的申请者都必须通过加入俱乐部的考试。考试由 $n$ 道题组成，每道题有三个可能的答案：`A`、`B` 和 `C`。\n\n不幸的是，他们不能区分各种鸟类，所以他们试图猜测正确的答案。每一个男孩都有一套关于哪一种答案序列最有效的理论：\n\nAdrian 声称最好的顺序是：`A`，`B`，`C`，`A`，`B`，`C`，`A`，`B`，`C`，`A`，`B`，`C`……\n\nBruno 确信这样更好：`B`，`A`，`B`，`C`，`B`，`A`，`B`，`C`，`B`，`A`，`B`，`C`……\n\nGoran 嘲笑他们，并使用这个序列：`C`，`C`，`A`，`A`，`B`，`B`，`C`，`C`，`A`，`A`，`B`，`B`……\n\n写一个程序，根据给出的正确答案，确定三个人中谁对的题目最多。", "inputFormat": "第一行一个整数 $n$，表示考试的题目数量。\n\n第二行一个长度为 $n$ 的字符串（只包含`A`、`B`、`C`三种字符），表示考试的正确答案。", "outputFormat": "第一行输出一个整数 $m$，表示三个人中做对题目最多的数量。\n\n从第二行开始，输出答对题目数最多的人的名字（每行一个，按照字典序输出）。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $1\\le n\\le 100$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) PTICE，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #1] PTICE", "background": null, "description": "Adrian 、Bruno 和 Goran 想加入鸟类爱好者俱乐部。然而，他们并不知道所有的申请者都必须通过加入俱乐部的考试。考试由 $n$ 道题组成，每道题有三个可能的答案：`A`、`B` 和 `C`。\n\n不幸的是，他们不能区分各种鸟类，所以他们试图猜测正确的答案。每一个男孩都有一套关于哪一种答案序列最有效的理论：\n\nAdrian 声称最好的顺序是：`A`，`B`，`C`，`A`，`B`，`C`，`A`，`B`，`C`，`A`，`B`，`C`……\n\nBruno 确信这样更好：`B`，`A`，`B`，`C`，`B`，`A`，`B`，`C`，`B`，`A`，`B`，`C`……\n\nGoran 嘲笑他们，并使用这个序列：`C`，`C`，`A`，`A`，`B`，`B`，`C`，`C`，`A`，`A`，`B`，`B`……\n\n写一个程序，根据给出的正确答案，确定三个人中谁对的题目最多。", "inputFormat": "第一行一个整数 $n$，表示考试的题目数量。\n\n第二行一个长度为 $n$ 的字符串（只包含`A`、`B`、`C`三种字符），表示考试的正确答案。", "outputFormat": "第一行输出一个整数 $m$，表示三个人中做对题目最多的数量。\n\n从第二行开始，输出答对题目数最多的人的名字（每行一个，按照字典序输出）。", "hint": "#### 数据规模与约定\n对于 $100\\%$ 的数据，有 $1\\le n\\le 100$。\n#### 说明\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) PTICE，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6428", "type": "P", "difficulty": 3, "samples": [["3 3\nxx.\nxxx\n...", "1 1 2\n2 3 1"], ["4 6\nxx....\nxx.xxx\n...xxx\n...xxx", "1 1 2\n2 4 3"], ["5 5\n.....\nxxx..\nxxxx.\nxxxx.\n.xxx.", "2 1 3\n3 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #1] MRAVOJED", "background": "", "description": "考古学家最近发现了希腊罗马建筑的遗迹。该遗迹可以建模成为为 $r \\times c$ 正方形单元的网格。对于每一个位置，考古学家已经确定是否有建筑存在。\n\n他们详细检查了这些文物后得出结论，该地点包含两座不同时期的建筑，两座建筑的平面图都是正方形的。\n\n由于这些建筑在时间上来自不同的时期，它们的楼层平面可能重叠。\n\n为每栋建筑确定可能的位置和大小（平面图所占广场的边长）。", "inputFormat": "第一行两个整数 $r$ 和 $c$，表示遗迹的长宽。\n\n以下 $r$ 行每行 $c$ 个字符，其中`.`表示该地无遗址被发现，`x`表示该地有遗址被发现。", "outputFormat": "对于每一个建筑，输出其左上角顶点的坐标（$2$ 个数字）和其边长（$1$ 个数字），每两个数字之间用空格隔开。", "hint": "#### 提示\n解决方案可能不唯一。\n#### 数据规模与约定\n对于 $100\\%$ 的数据，保证存在解决方案，有 $1 \\leq r \\leq 100,1 \\leq c \\leq 100$。\n#### 说明\n题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) MRAVOJED，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n#### 鸣谢\n感谢 @[y0y68](https://www.luogu.com.cn/user/115668) 提供的 SPJ。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #1] MRAVOJED", "background": "", "description": "考古学家最近发现了希腊罗马建筑的遗迹。该遗迹可以建模成为为 $r \\times c$ 正方形单元的网格。对于每一个位置，考古学家已经确定是否有建筑存在。\n\n他们详细检查了这些文物后得出结论，该地点包含两座不同时期的建筑，两座建筑的平面图都是正方形的。\n\n由于这些建筑在时间上来自不同的时期，它们的楼层平面可能重叠。\n\n为每栋建筑确定可能的位置和大小（平面图所占广场的边长）。", "inputFormat": "第一行两个整数 $r$ 和 $c$，表示遗迹的长宽。\n\n以下 $r$ 行每行 $c$ 个字符，其中`.`表示该地无遗址被发现，`x`表示该地有遗址被发现。", "outputFormat": "对于每一个建筑，输出其左上角顶点的坐标（$2$ 个数字）和其边长（$1$ 个数字），每两个数字之间用空格隔开。", "hint": "#### 提示\n解决方案可能不唯一。\n#### 数据规模与约定\n对于 $100\\%$ 的数据，保证存在解决方案，有 $1 \\leq r \\leq 100,1 \\leq c \\leq 100$。\n#### 说明\n题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) MRAVOJED，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n#### 鸣谢\n感谢 @[y0y68](https://www.luogu.com.cn/user/115668) 提供的 SPJ。", "locale": "zh-CN"}}}
{"pid": "P6429", "type": "P", "difficulty": 5, "samples": [["10 10\n6", "5"], ["3 5\n11", "8"], ["10 10\n100", "51"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #1] JEZ", "background": "", "description": "有一个长为 $r$ 宽为 $c$ 的矩形，将其划分为 $r\\times c$ 个 $1\\times 1$ 的小矩形。\n\n**行数从上到下从 $0$ 到 $r-1$ 编号，列数从左到右从 $0$ 到 $c-1$ 编号。**\n\n每个小矩形都有颜色，如果一个小矩形的行数为 $x$，列数为 $y$，则：\n- 若 $x\\oplus y=x+y$ 这个小矩形为灰色。\n- 反之，则为白色。\n\n下左图为 $r=c=10$ 的情况：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g7uxh6zh.png)\n\n现在有人沿着上右图的轨迹沿着这个矩形走 $k$ 步，求他走了多少个灰色格子。", "inputFormat": "第一行为两个整数 $r$ 和 $c$。\n\n第二行为一个整数 $k$。", "outputFormat": "一行，表示他走的灰色格子的个数。", "hint": "#### 数据规模与约定\n- 对于 $50\\%$ 的数据，保证 $k\\le 10^6$。\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 10^6$，$1\\le k\\le r\\times c$，答案在 $32$ 位整数范围之内。\n#### 说明：\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) JEZ，译者 @[菜鸟一只](https://www.luogu.com.cn/user/175829)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #1] JEZ", "background": "", "description": "有一个长为 $r$ 宽为 $c$ 的矩形，将其划分为 $r\\times c$ 个 $1\\times 1$ 的小矩形。\n\n**行数从上到下从 $0$ 到 $r-1$ 编号，列数从左到右从 $0$ 到 $c-1$ 编号。**\n\n每个小矩形都有颜色，如果一个小矩形的行数为 $x$，列数为 $y$，则：\n- 若 $x\\oplus y=x+y$ 这个小矩形为灰色。\n- 反之，则为白色。\n\n下左图为 $r=c=10$ 的情况：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g7uxh6zh.png)\n\n现在有人沿着上右图的轨迹沿着这个矩形走 $k$ 步，求他走了多少个灰色格子。", "inputFormat": "第一行为两个整数 $r$ 和 $c$。\n\n第二行为一个整数 $k$。", "outputFormat": "一行，表示他走的灰色格子的个数。", "hint": "#### 数据规模与约定\n- 对于 $50\\%$ 的数据，保证 $k\\le 10^6$。\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 10^6$，$1\\le k\\le r\\times c$，答案在 $32$ 位整数范围之内。\n#### 说明：\n#### 题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) JEZ，译者 @[菜鸟一只](https://www.luogu.com.cn/user/175829)。", "locale": "zh-CN"}}}
{"pid": "P6430", "type": "P", "difficulty": 5, "samples": [["4\n1 1\n1 2 3 4\n2 3 4 5\n3 4 5 6\n4 5 6 7 ", "4"], ["5\n3 3\n20 16 25 17 12\n11 13 13 30 17\n15 29 10 26 11\n27 19 14 24 22\n23 21 28 18 13 \n", "21"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [35840, 35840, 35840, 35840, 35840, 35840, 35840, 35840, 35840, 35840]}, "tags": ["2008", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #1] SKAKAVAC", "background": "一只蚱蜢在花田。", "description": "花田是一个 $n\\times n$ 的正方形，每一朵花都有它的编号，$f_{i,j}$ 就代表第 $i$ 行，第 $j$ 列的编号。\n\n现在蚱蜢在第 $r$ 行，第 $c$ 列。\n\n蚱蜢决定去看一看新世界，于是它决定在遵守以下规则的情况下尽可能多的跳到花朵上。\n\n如果它要从 $(r_1,c_1)$ 跳到 $(r_2,c_2)$ 需满足以下条件中的一个：\n\n- $|r_1-r_2|=1$ 且$|c_1-c_2|>1$，\n- $|c_1-c_2|=1$ 且$|r_1-r_2|>1$，\n\n并且，$f_{r_2,c_2}>f_{r_1,c_1}$。\n\n请你求出蚱蜢最多能经过几朵花。\n", "inputFormat": "第一行只有一个整数 $n$。\n\n第二行有两个整数 $r$，$c$。\n\n接下来 $n$ 行，每行 $n$ 个整数，代表 $f$ 数组。", "outputFormat": "一个整数，代表蚱蜢最多能经过几朵花。", "hint": "#### 数据规模与约定\n- 对于 $50\\%$ 的数据，$n\\le 100$。\n- 对于 $80\\%$ 的数据，$n\\le 10^3$。\n- 对于 $100\\%$ 的数据，$1\\le n\\le 1.5\\times 10^3$，$1\\le r,c\\le n$，$1\\le f_{i,j}\\le 10^6$。\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) T5 SKAKAVAC。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #1] SKAKAVAC", "background": "一只蚱蜢在花田。", "description": "花田是一个 $n\\times n$ 的正方形，每一朵花都有它的编号，$f_{i,j}$ 就代表第 $i$ 行，第 $j$ 列的编号。\n\n现在蚱蜢在第 $r$ 行，第 $c$ 列。\n\n蚱蜢决定去看一看新世界，于是它决定在遵守以下规则的情况下尽可能多的跳到花朵上。\n\n如果它要从 $(r_1,c_1)$ 跳到 $(r_2,c_2)$ 需满足以下条件中的一个：\n\n- $|r_1-r_2|=1$ 且$|c_1-c_2|>1$，\n- $|c_1-c_2|=1$ 且$|r_1-r_2|>1$，\n\n并且，$f_{r_2,c_2}>f_{r_1,c_1}$。\n\n请你求出蚱蜢最多能经过几朵花。\n", "inputFormat": "第一行只有一个整数 $n$。\n\n第二行有两个整数 $r$，$c$。\n\n接下来 $n$ 行，每行 $n$ 个整数，代表 $f$ 数组。", "outputFormat": "一个整数，代表蚱蜢最多能经过几朵花。", "hint": "#### 数据规模与约定\n- 对于 $50\\%$ 的数据，$n\\le 100$。\n- 对于 $80\\%$ 的数据，$n\\le 10^3$。\n- 对于 $100\\%$ 的数据，$1\\le n\\le 1.5\\times 10^3$，$1\\le r,c\\le n$，$1\\le f_{i,j}\\le 10^6$。\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) T5 SKAKAVAC。", "locale": "zh-CN"}}}
{"pid": "P6431", "type": "P", "difficulty": 6, "samples": [["4\n1 2\n2 3\n3 4 ", "2\n3 4\n4 2 \n"], ["7\n1 3\n2 3\n2 7\n4 3\n7 5\n3 6 \n", "3\n2 3\n7 3 "]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2008", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #1] KRTICA", "background": "", "description": "有一棵 $n$ 个点的树，边权都为 $1$。\n\n现在想删去一条边，增加一条边，使得最远的两个点距离最短。", "inputFormat": "第一行为一个整数 $n$。\n\n接下来 $n-1$ 行，每行两个整数 $a$ 和 $b$，表示有树上有一条从 $a$ 到 $b$ 的无向边。", "outputFormat": "**本题存在 SPJ**。\n\n第一行只有一个整数，表示删去一条边，增加一条边后最远的两个点的距离。\n\n第二行两个整数，表示被删掉的一条边。\n\n第三行两个整数，表示被增加的一条边。", "hint": "#### 数据规模与约定\n- 对于 $40\\%$ 的数据，保证 $n\\le 30$。\n- 对于 $70\\%$ 的数据，保证 $n\\le 3\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 3\\times 10^5$，$1\\le a,b\\le n$。\n\n---\n\n#### 计分标准\n\n- 如果输出的第一行不正确，得 $0$ 分。\n- 如果输出得第一行正确，但是剩下的数字不正确或数量不足四个，得对应测试点 $70\\%$ 的分数。\n- 如果输出第一行正确，且给出的方案是可行且正确的，得到对应测试点 $100\\%$ 的分数。\n\n---\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) T6 KRTICA。\n\nSPJ provided by @Tweetuzki ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #1] KRTICA", "background": "", "description": "有一棵 $n$ 个点的树，边权都为 $1$。\n\n现在想删去一条边，增加一条边，使得最远的两个点距离最短。", "inputFormat": "第一行为一个整数 $n$。\n\n接下来 $n-1$ 行，每行两个整数 $a$ 和 $b$，表示有树上有一条从 $a$ 到 $b$ 的无向边。", "outputFormat": "**本题存在 SPJ**。\n\n第一行只有一个整数，表示删去一条边，增加一条边后最远的两个点的距离。\n\n第二行两个整数，表示被删掉的一条边。\n\n第三行两个整数，表示被增加的一条边。", "hint": "#### 数据规模与约定\n- 对于 $40\\%$ 的数据，保证 $n\\le 30$。\n- 对于 $70\\%$ 的数据，保证 $n\\le 3\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 3\\times 10^5$，$1\\le a,b\\le n$。\n\n---\n\n#### 计分标准\n\n- 如果输出的第一行不正确，得 $0$ 分。\n- 如果输出得第一行正确，但是剩下的数字不正确或数量不足四个，得对应测试点 $70\\%$ 的分数。\n- 如果输出第一行正确，且给出的方案是可行且正确的，得到对应测试点 $100\\%$ 的分数。\n\n---\n#### 说明\n本题译自 [Croatian Open Competition in Informatics 2008/2009](https://hsin.hr/coci/archive/2008_2009) [Contest #1](https://hsin.hr/coci/archive/2008_2009/contest1_tasks.pdf) T6 KRTICA。\n\nSPJ provided by @Tweetuzki ", "locale": "zh-CN"}}}
{"pid": "P6432", "type": "P", "difficulty": 3, "samples": [["20 20 3\n2 2 18 18 2\n0 8 19 19 3\n8 0 10 19 4", "1 91\n2 84\n3 187\n4 38"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["USACO"], "title": "[USACO3.1] 形成的区域 Shaping Regions", "background": "", "description": "$n$ 个不同颜色且不透明的长方形被放在一张宽为 $a$ 长为 $b$ 的白纸上。它们的边于白纸的边缘平行，且所有的长方形都放置在白纸内。\n\n现在将他们重叠，重叠后会出现不同形状的各种颜色，你需要求出每种颜色的面积。\n\n白纸的左下角的坐标为原点 $(0,0)$，且坐标轴平行于白纸边缘。", "inputFormat": "输入数据共 $n+1$ 行。\n\n第一行三个整数，$a,b,n$。\n\n第二到 $n+1$ 行，每行五个整数，$llx,lly,urx,ury,color$，表示一个长方形的左下角和右上角的坐标以及颜色编号。**注：颜色 1 和底部白纸的颜色相同**。", "outputFormat": "一个所有能被看到颜色和该颜色的总面积的汇总，一行内格式为编号和面积，即使颜色的区域不是连续的，仍可以输出，并且按 $color$ 的增序排序输出，不要输出没有区域的颜色。", "hint": "**样例输入输出 1 解释**\n\n白纸经过各层覆盖后，各种颜色的面积分别为 $91,84,187,38$。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^3$，$1 \\leq a,b \\leq 10^4$，$1 \\leq llx,lly,urx,ury \\leq a,b$，$1 \\leq color \\leq n+1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO3.1] 形成的区域 Shaping Regions", "background": "", "description": "$n$ 个不同颜色且不透明的长方形被放在一张宽为 $a$ 长为 $b$ 的白纸上。它们的边于白纸的边缘平行，且所有的长方形都放置在白纸内。\n\n现在将他们重叠，重叠后会出现不同形状的各种颜色，你需要求出每种颜色的面积。\n\n白纸的左下角的坐标为原点 $(0,0)$，且坐标轴平行于白纸边缘。", "inputFormat": "输入数据共 $n+1$ 行。\n\n第一行三个整数，$a,b,n$。\n\n第二到 $n+1$ 行，每行五个整数，$llx,lly,urx,ury,color$，表示一个长方形的左下角和右上角的坐标以及颜色编号。**注：颜色 1 和底部白纸的颜色相同**。", "outputFormat": "一个所有能被看到颜色和该颜色的总面积的汇总，一行内格式为编号和面积，即使颜色的区域不是连续的，仍可以输出，并且按 $color$ 的增序排序输出，不要输出没有区域的颜色。", "hint": "**样例输入输出 1 解释**\n\n白纸经过各层覆盖后，各种颜色的面积分别为 $91,84,187,38$。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^3$，$1 \\leq a,b \\leq 10^4$，$1 \\leq llx,lly,urx,ury \\leq a,b$，$1 \\leq color \\leq n+1$。", "locale": "zh-CN"}}}
{"pid": "P6433", "type": "P", "difficulty": 4, "samples": [["3 10 1\n6 9\n7 2\n1 8", "15"], ["5 20 2\n5 3 \n9 7\n2 6\n7 8\n1 2", "38"], ["3 6 2\n5 4\n3 3\n3 3", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "贪心"], "title": "「EZEC-1」出题", "background": "你是一个毒瘤出题人。", "description": "已知你有 $n$ 道毒瘤题，已经出好了题面，但数据还没出好。你还剩下 $m$ 的时间，每道题的毒瘤程度为 $a_{i}$，出数据的时间是 $x_{i}$，你有 $k$ 个老师，每个老师可以把一道题的毒瘤程度翻倍（每道题目最多被翻倍一次）。你的父母由于坚决反对你出公开赛，抢走了你的一道题，现在老师和父母的行动你都可以控制，但每位老师和父母的行为必须执行，请问你要怎么做，才能使出的题毒瘤程度之和最大？", "inputFormat": "第一行三个整数：$n,m,k$。\n\n接下来 $n$ 行，每行 $2$ 个整数，分别是 $a_{i},x_{i}$。", "outputFormat": "一个整数，最大的毒瘤程度之和。", "hint": "【样例解释】\n\n样例 $1$ ：\n\n你控制你的父母拿走 $T1$ ，然后配 $T2$ 和 $T3$ 的数据，同时将 $T2$ 的毒瘤值翻倍，所以毒瘤值最大是 $15$\n\n------------\n\n【数据范围】\n\n对于 $30\\%$ 的数据，$ 0 \\le x_{i} \\le m $，$0 \\le m \\le 100 $，$2 \\le n \\le 10$，$ k<n$。\n\n对于另外 $20\\%$ 的数据，保证 $k=0$。\n\n对于 $100\\%$ 的数据，$0 \\le a_{i} \\le 1000$，$ 0 \\le x_{i} \\le m $，$0 \\le m \\le 1000 $，$0 \\le n \\le 100$，$ k<n$。\n\nupd in 2020.7.6：添加一组 hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-1」出题", "background": "你是一个毒瘤出题人。", "description": "已知你有 $n$ 道毒瘤题，已经出好了题面，但数据还没出好。你还剩下 $m$ 的时间，每道题的毒瘤程度为 $a_{i}$，出数据的时间是 $x_{i}$，你有 $k$ 个老师，每个老师可以把一道题的毒瘤程度翻倍（每道题目最多被翻倍一次）。你的父母由于坚决反对你出公开赛，抢走了你的一道题，现在老师和父母的行动你都可以控制，但每位老师和父母的行为必须执行，请问你要怎么做，才能使出的题毒瘤程度之和最大？", "inputFormat": "第一行三个整数：$n,m,k$。\n\n接下来 $n$ 行，每行 $2$ 个整数，分别是 $a_{i},x_{i}$。", "outputFormat": "一个整数，最大的毒瘤程度之和。", "hint": "【样例解释】\n\n样例 $1$ ：\n\n你控制你的父母拿走 $T1$ ，然后配 $T2$ 和 $T3$ 的数据，同时将 $T2$ 的毒瘤值翻倍，所以毒瘤值最大是 $15$\n\n------------\n\n【数据范围】\n\n对于 $30\\%$ 的数据，$ 0 \\le x_{i} \\le m $，$0 \\le m \\le 100 $，$2 \\le n \\le 10$，$ k<n$。\n\n对于另外 $20\\%$ 的数据，保证 $k=0$。\n\n对于 $100\\%$ 的数据，$0 \\le a_{i} \\le 1000$，$ 0 \\le x_{i} \\le m $，$0 \\le m \\le 1000 $，$0 \\le n \\le 100$，$ k<n$。\n\nupd in 2020.7.6：添加一组 hack 数据。", "locale": "zh-CN"}}}
{"pid": "P6434", "type": "P", "difficulty": 5, "samples": [["4 3 2 3\n7 5 3 1", "1\n11"], ["5 2 4 4\n1 4 5 20 80", "3\n100"], ["20 3 2 5\n88 24 35 53 5 44 45 30 29 43 46 33 21 24 64 43 23 71 63 53 ", "33\n153"], ["5 5 2 4\n1 2 3 4 5", "0\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "贪心"], "title": "「EZEC-1」甜品", "background": "小 X 最喜欢甜品了！\n\n马上就要开学了，但是小 X 并没有写完作业，他十分悲伤地走在街上。忽然，他发现了一家新开的甜品店，悲伤的心情一消而散，随即信步走进甜品店。", "description": "小 X 发现，店里总共有 $n$ 种甜品，而他想挑选其中的 $k$ 种，并按照一定的顺序来品尝。\n\n每种甜品都有一个美味值 $a_i$，小 X 吃甜品的顺序是有讲究的，他不想使连续两种甜品之间的美味值相差太小，不然他将无法品味出两种甜品之间的差别；但他也不想使连续两种甜品之间的美味值相差太大，否则他将受不了这巨大的味觉冲击。他十分纠结，不知道该如何选择，于是他向你求助。\n\n你要从 $n$ 种甜品中选择 $k$ 种甜品，并且第 $i$  种甜品（ $i \\in [ 2 , k ] $）需要满足如下两个条件：\n\n- 第 $i$ 种甜品的美味值必须**大于等于**第 $i-1$ 种甜品的 $l$ 倍。\n\n- 第 $i$ 种甜品的美味值必须**小于等于**第 $i-1$ 种甜品的 $r$ 倍。\n\n问现在你有多少种方案？$k$ 种甜品的美味值之和最大为多少？\n\n因为答案太大，所以两个问题你都需要对 $1000000007$($10^9+7$)  取模。\n\n#### 注：方案总数只考虑 $k$ 种甜品的搭配，不考虑排列顺序。即若存在某 $k$ 种甜品，按照不同顺序品尝都满足条件，仍然只算一种方案。", "inputFormat": "第一行：四个正整数：$n,k,l,r $。\n\n第二行：$n$ 个正整数：$a_i$。", "outputFormat": "第一行一个整数，表示总方案数。\n\n第二行一个整数，表示美味值之和的最大值。\n\n若没有答案，均直接输出 $0$ 。", "hint": "【样例解释】\n\n样例1：只能选 $(4,3,1)$，共 $1$ 种。\n\n样例2：$(1,2)$ 或 $(3,4)$ 或 $(4,5)$，共 $3$ 种。美味值之和最大的是 $ (4,5)$，为 $100$。\n\n------------\n\n【 数据范围】\n| 测试点编号 | $n\\le$ | $k\\le$ | $a_i\\le$ |\n| :----------: | :----------: | :----------: | :----------: | \n|$1 \\sim 4$ | $20$ | $3$ | $100$ | \n| $5 \\sim 8$ | $10^3$ | $4$ | $10^3$ | \n| $9 \\sim 12$ | $10^5$ | $10$ | $10^5$ | \n| $13 \\sim 16$ | $2\\times 10^6$ | $10$ | $10^9$ | \n| $17 \\sim 20$ | $2\\times 10^6$ | $10$ | $10^9$ | \n- 对于 $90\\%$ 的数据，$a_i$ 随机生成。\n- 对于 $100\\%$ 的数据，$k \\le 10$，$k \\le n \\le 2\\times 10^6$，$1 \\le l \\le r \\le 10$，$a_i \\le 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-1」甜品", "background": "小 X 最喜欢甜品了！\n\n马上就要开学了，但是小 X 并没有写完作业，他十分悲伤地走在街上。忽然，他发现了一家新开的甜品店，悲伤的心情一消而散，随即信步走进甜品店。", "description": "小 X 发现，店里总共有 $n$ 种甜品，而他想挑选其中的 $k$ 种，并按照一定的顺序来品尝。\n\n每种甜品都有一个美味值 $a_i$，小 X 吃甜品的顺序是有讲究的，他不想使连续两种甜品之间的美味值相差太小，不然他将无法品味出两种甜品之间的差别；但他也不想使连续两种甜品之间的美味值相差太大，否则他将受不了这巨大的味觉冲击。他十分纠结，不知道该如何选择，于是他向你求助。\n\n你要从 $n$ 种甜品中选择 $k$ 种甜品，并且第 $i$  种甜品（ $i \\in [ 2 , k ] $）需要满足如下两个条件：\n\n- 第 $i$ 种甜品的美味值必须**大于等于**第 $i-1$ 种甜品的 $l$ 倍。\n\n- 第 $i$ 种甜品的美味值必须**小于等于**第 $i-1$ 种甜品的 $r$ 倍。\n\n问现在你有多少种方案？$k$ 种甜品的美味值之和最大为多少？\n\n因为答案太大，所以两个问题你都需要对 $1000000007$($10^9+7$)  取模。\n\n#### 注：方案总数只考虑 $k$ 种甜品的搭配，不考虑排列顺序。即若存在某 $k$ 种甜品，按照不同顺序品尝都满足条件，仍然只算一种方案。", "inputFormat": "第一行：四个正整数：$n,k,l,r $。\n\n第二行：$n$ 个正整数：$a_i$。", "outputFormat": "第一行一个整数，表示总方案数。\n\n第二行一个整数，表示美味值之和的最大值。\n\n若没有答案，均直接输出 $0$ 。", "hint": "【样例解释】\n\n样例1：只能选 $(4,3,1)$，共 $1$ 种。\n\n样例2：$(1,2)$ 或 $(3,4)$ 或 $(4,5)$，共 $3$ 种。美味值之和最大的是 $ (4,5)$，为 $100$。\n\n------------\n\n【 数据范围】\n| 测试点编号 | $n\\le$ | $k\\le$ | $a_i\\le$ |\n| :----------: | :----------: | :----------: | :----------: | \n|$1 \\sim 4$ | $20$ | $3$ | $100$ | \n| $5 \\sim 8$ | $10^3$ | $4$ | $10^3$ | \n| $9 \\sim 12$ | $10^5$ | $10$ | $10^5$ | \n| $13 \\sim 16$ | $2\\times 10^6$ | $10$ | $10^9$ | \n| $17 \\sim 20$ | $2\\times 10^6$ | $10$ | $10^9$ | \n- 对于 $90\\%$ 的数据，$a_i$ 随机生成。\n- 对于 $100\\%$ 的数据，$k \\le 10$，$k \\le n \\le 2\\times 10^6$，$1 \\le l \\le r \\le 10$，$a_i \\le 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P6435", "type": "P", "difficulty": 5, "samples": [["1 1 1 1 1000000007", "1"], ["4 2 3 1 1000000007", "381"], ["23 19 17 0 1000000007", "323147645"], ["233 233 233 233 1000000000", "770969703"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递归", "矩阵运算", "矩阵加速", "矩阵乘法"], "title": "「EZEC-1」数列", "background": "", "description": "给你一个正整数 $n$，有数列 $1,2,3,...,n$。\n\n分别求相邻两项中左边一项的 $a$ 倍与右边一项的 $b$ 倍的和再加上 $c$，得到一个有 $n-1$ 项的新数列：\n\n $1\\times a+2\\times b+c,2\\times a+3\\times b +c,...,(n-1)\\times a+n\\times b+c$。\n\n对这个新数列重复上述操作得到若干数列，最后的数列只有一项，求最后这个项对 $p$ 取模的值。", "inputFormat": "一行，五个**非负**整数 $n,a,b,c,p$。", "outputFormat": "一个整数，表示答案对 $p$ 取模的值。", "hint": "【样例解释】\n\n样例 2：\n\n各数列分别为：\n```\n1 2 3 4\n9 14 19\n61 86\n381\n```\n\n------------\n\n【数据范围】\n\n| 测试点编号 | $n\\le$ | $p\\le$ | $a,b\\le$| $c\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n|$1\\sim 4$ | $10^3$ | $10^9+7$ | $10$ |$10$|\n|$5\\sim 8$ | $10^6$ | $10^{14}$ | $10^3$ |$10^3$|\n|$9,10$ | $10^9$ | $10^9+7$ | $1$ |$0$|\n|$11,12$ | $10^9$ | $10^9+7$ | $1$ |$10^9$|\n|$13,14$ | $10^{18}$ | $10^9+7$ | $1$ |$10^9$|\n|$15,16$ | $10^{18}$ | $10^9+7$ | $10^9$|$10^9$|\n|$17 \\sim 20$ | $10^{18}$ | $10^{14}$ | $10^9$|$10^9$|\n\n- 对于 $80 \\% $ 的数据，满足 $p$ 为质数。\n\n- 对于 $100 \\% $ 的数据，满足 $1\\le n\\le 10^{18}$，$1\\le p \\le 10^{14}$，$1 \\le a,b\\le 10^9$，$0\\le c \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-1」数列", "background": "", "description": "给你一个正整数 $n$，有数列 $1,2,3,...,n$。\n\n分别求相邻两项中左边一项的 $a$ 倍与右边一项的 $b$ 倍的和再加上 $c$，得到一个有 $n-1$ 项的新数列：\n\n $1\\times a+2\\times b+c,2\\times a+3\\times b +c,...,(n-1)\\times a+n\\times b+c$。\n\n对这个新数列重复上述操作得到若干数列，最后的数列只有一项，求最后这个项对 $p$ 取模的值。", "inputFormat": "一行，五个**非负**整数 $n,a,b,c,p$。", "outputFormat": "一个整数，表示答案对 $p$ 取模的值。", "hint": "【样例解释】\n\n样例 2：\n\n各数列分别为：\n```\n1 2 3 4\n9 14 19\n61 86\n381\n```\n\n------------\n\n【数据范围】\n\n| 测试点编号 | $n\\le$ | $p\\le$ | $a,b\\le$| $c\\le$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n|$1\\sim 4$ | $10^3$ | $10^9+7$ | $10$ |$10$|\n|$5\\sim 8$ | $10^6$ | $10^{14}$ | $10^3$ |$10^3$|\n|$9,10$ | $10^9$ | $10^9+7$ | $1$ |$0$|\n|$11,12$ | $10^9$ | $10^9+7$ | $1$ |$10^9$|\n|$13,14$ | $10^{18}$ | $10^9+7$ | $1$ |$10^9$|\n|$15,16$ | $10^{18}$ | $10^9+7$ | $10^9$|$10^9$|\n|$17 \\sim 20$ | $10^{18}$ | $10^{14}$ | $10^9$|$10^9$|\n\n- 对于 $80 \\% $ 的数据，满足 $p$ 为质数。\n\n- 对于 $100 \\% $ 的数据，满足 $1\\le n\\le 10^{18}$，$1\\le p \\le 10^{14}$，$1 \\le a,b\\le 10^9$，$0\\le c \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6436", "type": "P", "difficulty": 6, "samples": [["5 3 20 4 2\n1 2 5 5\n2 3 5 5\n2 4 7 10\n1 5 4 1", "7\n4"], ["5 2 6 3 2\n1 2 5 3\n2 3 8 6\n1 4 8 2\n2 5 4 6", "5\n3"], ["5 0 23 4 1\n1 2 21 26\n1 3 14 16\n3 4 4 5\n1 5 19 18", "no solution"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 256000, 256000, 256000, 512000, 512000, 512000]}, "tags": ["搜索", "图论", "二分", "最短路", "Tarjan", "最近公共祖先 LCA"], "title": "「EZEC-1」越狱", "background": "由于监狱长 PF 的疏忽，罪犯小 E 找到了机会越狱。\n\n然而，不学无术的小 E 不懂得保密。PF 很快发现了他的计划，并对他展开了追捕。\n\n因为小 E 自己造船，而狱长 PF 坐的是官方的船，所以在每条航道上的表现不一样，通过时间可能不同。具体见输入格式。\n\n为了不饿肚子，小 E 准备买一个包来装食物。", "description": "小 E 的逃跑路线可以被看作是在 $n$ 个岛屿上，这些岛屿由 $n-1$ 条航线两两相连。\n\n每个岛上都有足够的补给。**假设他每在海上航行一天，就要花费一个单位的食物**。黑心老板规定，**能装 $k$ 单位的食物的背包将会卖 $k$ 万元**。\n\nPF 可以命令在任意两个**通过时间不超过 $d$**，**并且岛 $v$ 到岛 $u$ 的航线上至少有 $q$ 个岛屿**（**不包括 $u$ 和 $v$**）的岛屿 $u$ 与 $v$ 之间建立一条双向航线，通过这条航线的时间为 $\\left\\lfloor \\dfrac{time(u \\to v)}{2}\\right\\rfloor$。由于经济问题，**他只能建造一条额外的航线**。\n\n小 E 可以根据官方给出的航线（**包括新增的航线**）确认 PF 到每个岛上的**最短时间**。\n\nPF 将会在 $t$ 时发现小 E 逃走并开始追击。\n\n为了节省钱，同时逃脱 PF 的追捕，小 E 想请你帮他编一个程序，计算最小的 $k$，使得他能够顺利逃脱到至少 $l$ 个岛屿。\n\n**补给不需要时间，中途抓住也算抓住，同时到达则不算。**\n\n**在岛屿上进行补给不需要时间，可以无限进行补给，只要背包装得下。**\n\n题意概括：\n\n有两个人 $a$，$b$ 和一颗 $n$ 个节点组成的树，$a$ 比 $b$早出发 $t$ 秒。如果两个节点之间通过时间不超过 $d$ 则 $b$ 可以在这两点之间建一条通过时间为 $\\left\\lfloor \\dfrac{time(u \\to v)}{2}\\right\\rfloor$ 的线路，求一个方案使 $a$ 至少到 $l$ 个点的最短时间不比 $b$ 长，并在此基础下要求岛屿之间距离最大值尽量小。", "inputFormat": "第一行五个整数，$n,t,d,l,q$，表示岛屿的数量，PF 发现的时间，建立航线要求的通过时间范围，至少要到达的岛屿数量，以及建立航线所要求的中间岛屿的数量。他们的出发点均为点 $1$ 。\n\n接下来 $n-1$ 行，每行四个整数 $u,v,p_i,e_i$，表示岛屿 $u$ 和岛屿 $v$ 之间有一条道路。$p_i$ 表示小 E 走这条航线的时间，$e_i$ 表示 PF 走这条航线的时间。**航线为双向** 。", "outputFormat": "若有解，输出共两行。\n\n第一行一个整数 $k$，表示最小能够逃脱所需要的钱数（单位：万元）。\n\n第二行一个整数 $r$，表示用 $k$ 万元买背包时的能跑到的岛屿数量（ $1$ 号岛也算在内）。\n\n若无解，只需输出 \"no solution\" (引号不需要输出)。", "hint": "【样例解释】\n\n样例 $1$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sc3vdm8k.png)\n\n对于样例 $1$，最后能到的点为 $1,2,4,5$，最小花费为 $7$。由于狱长 PF 从点 $3\\to 5$ 要经过点为 $5\\to1\\to2\\to3$，满足中间的点数 $\\ge q$，故狱长 PF 可以连边点 $3$ 和点 $5$。如果狱长 PF 选择连边 $5\\to3$，那么到点 $3$ 的时间为 $3+1+ \\left\\lfloor \\dfrac{1+5+5}{2}\\right\\rfloor = 9$。而小 E 到点 $3$ 的最短时间为 $5 + 5 = 10$，不满足条件，故无论 $k$ 的大小，点 $3$ 都是不可到达的。\n\n\n------------\n\n【数据范围】\n\n| 测试点编号 | $n\\le$ | $t\\le$ | $p_i,e_i\\le$ |    $d\\le$    | 时间限制| 空间限制 |特点|\n| :----------: | :----------: | :----------: | :----------: | :----------: |:-----: | :----------: |:----------: |\n|$1$ | $10$ | $50$ | $50$ | $50$ |$1s$ | $128M$ |加边操作 不影响答案|\n|$2$ | $16$ | $50$ | $50$ | $50$ |$1s$ | $128M$ |无|\n| $3,4$ | $500$ | ${500}$ | ${500}$ |$500$ | $1s$ |  $128M$ |加边操作 不影响答案|\n| $5$ | $500$ | ${500}$ | ${500}$ |${500}$ | $1s$ |  $128M$ |$q = 0$|\n| $6,7$ | $500$ | ${500}$ | ${500}$ |${500}$ | $1s$ |  $128M$ |无|\n| $8$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $128M$ |加边操作 不影响答案|\n| $9,10$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $128M$ |$q = 0$|\n| $11 \\sim 14$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $128M$ |无|\n| $15$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $256M$ |无|\n| $16$ | $\\small{7.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ |  $2s$ | $256M$ |无|\n| $17$ | $\\small{7.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ |  $1s$ | $256M$ |无|\n| $18 \\sim 20$ | $\\small{7.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ |  $3s$ |$512M$ |无|\n\n对于 $100 \\%$ 的数据，$n\\le 7.5\\times 10^3$，$1\\le l\\le n$，$0\\le t \\le 10^8$，$0 \\le u_i<v_i \\le n$，$1\\le p_i,e_i,d\\le 10^8$，$0\\le q\\le 20$。\n\n**保证可能新建立的双向航线方案数不超过 $5 \\times 10^6$**。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「EZEC-1」越狱", "background": "由于监狱长 PF 的疏忽，罪犯小 E 找到了机会越狱。\n\n然而，不学无术的小 E 不懂得保密。PF 很快发现了他的计划，并对他展开了追捕。\n\n因为小 E 自己造船，而狱长 PF 坐的是官方的船，所以在每条航道上的表现不一样，通过时间可能不同。具体见输入格式。\n\n为了不饿肚子，小 E 准备买一个包来装食物。", "description": "小 E 的逃跑路线可以被看作是在 $n$ 个岛屿上，这些岛屿由 $n-1$ 条航线两两相连。\n\n每个岛上都有足够的补给。**假设他每在海上航行一天，就要花费一个单位的食物**。黑心老板规定，**能装 $k$ 单位的食物的背包将会卖 $k$ 万元**。\n\nPF 可以命令在任意两个**通过时间不超过 $d$**，**并且岛 $v$ 到岛 $u$ 的航线上至少有 $q$ 个岛屿**（**不包括 $u$ 和 $v$**）的岛屿 $u$ 与 $v$ 之间建立一条双向航线，通过这条航线的时间为 $\\left\\lfloor \\dfrac{time(u \\to v)}{2}\\right\\rfloor$。由于经济问题，**他只能建造一条额外的航线**。\n\n小 E 可以根据官方给出的航线（**包括新增的航线**）确认 PF 到每个岛上的**最短时间**。\n\nPF 将会在 $t$ 时发现小 E 逃走并开始追击。\n\n为了节省钱，同时逃脱 PF 的追捕，小 E 想请你帮他编一个程序，计算最小的 $k$，使得他能够顺利逃脱到至少 $l$ 个岛屿。\n\n**补给不需要时间，中途抓住也算抓住，同时到达则不算。**\n\n**在岛屿上进行补给不需要时间，可以无限进行补给，只要背包装得下。**\n\n题意概括：\n\n有两个人 $a$，$b$ 和一颗 $n$ 个节点组成的树，$a$ 比 $b$早出发 $t$ 秒。如果两个节点之间通过时间不超过 $d$ 则 $b$ 可以在这两点之间建一条通过时间为 $\\left\\lfloor \\dfrac{time(u \\to v)}{2}\\right\\rfloor$ 的线路，求一个方案使 $a$ 至少到 $l$ 个点的最短时间不比 $b$ 长，并在此基础下要求岛屿之间距离最大值尽量小。", "inputFormat": "第一行五个整数，$n,t,d,l,q$，表示岛屿的数量，PF 发现的时间，建立航线要求的通过时间范围，至少要到达的岛屿数量，以及建立航线所要求的中间岛屿的数量。他们的出发点均为点 $1$ 。\n\n接下来 $n-1$ 行，每行四个整数 $u,v,p_i,e_i$，表示岛屿 $u$ 和岛屿 $v$ 之间有一条道路。$p_i$ 表示小 E 走这条航线的时间，$e_i$ 表示 PF 走这条航线的时间。**航线为双向** 。", "outputFormat": "若有解，输出共两行。\n\n第一行一个整数 $k$，表示最小能够逃脱所需要的钱数（单位：万元）。\n\n第二行一个整数 $r$，表示用 $k$ 万元买背包时的能跑到的岛屿数量（ $1$ 号岛也算在内）。\n\n若无解，只需输出 \"no solution\" (引号不需要输出)。", "hint": "【样例解释】\n\n样例 $1$：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sc3vdm8k.png)\n\n对于样例 $1$，最后能到的点为 $1,2,4,5$，最小花费为 $7$。由于狱长 PF 从点 $3\\to 5$ 要经过点为 $5\\to1\\to2\\to3$，满足中间的点数 $\\ge q$，故狱长 PF 可以连边点 $3$ 和点 $5$。如果狱长 PF 选择连边 $5\\to3$，那么到点 $3$ 的时间为 $3+1+ \\left\\lfloor \\dfrac{1+5+5}{2}\\right\\rfloor = 9$。而小 E 到点 $3$ 的最短时间为 $5 + 5 = 10$，不满足条件，故无论 $k$ 的大小，点 $3$ 都是不可到达的。\n\n\n------------\n\n【数据范围】\n\n| 测试点编号 | $n\\le$ | $t\\le$ | $p_i,e_i\\le$ |    $d\\le$    | 时间限制| 空间限制 |特点|\n| :----------: | :----------: | :----------: | :----------: | :----------: |:-----: | :----------: |:----------: |\n|$1$ | $10$ | $50$ | $50$ | $50$ |$1s$ | $128M$ |加边操作 不影响答案|\n|$2$ | $16$ | $50$ | $50$ | $50$ |$1s$ | $128M$ |无|\n| $3,4$ | $500$ | ${500}$ | ${500}$ |$500$ | $1s$ |  $128M$ |加边操作 不影响答案|\n| $5$ | $500$ | ${500}$ | ${500}$ |${500}$ | $1s$ |  $128M$ |$q = 0$|\n| $6,7$ | $500$ | ${500}$ | ${500}$ |${500}$ | $1s$ |  $128M$ |无|\n| $8$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $128M$ |加边操作 不影响答案|\n| $9,10$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $128M$ |$q = 0$|\n| $11 \\sim 14$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $128M$ |无|\n| $15$ | $\\small{2.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ | $1s$ | $256M$ |无|\n| $16$ | $\\small{7.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ |  $2s$ | $256M$ |无|\n| $17$ | $\\small{7.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ |  $1s$ | $256M$ |无|\n| $18 \\sim 20$ | $\\small{7.5 \\times 10^3}$ | $10^8$ | $10^8$ |$10^8$ |  $3s$ |$512M$ |无|\n\n对于 $100 \\%$ 的数据，$n\\le 7.5\\times 10^3$，$1\\le l\\le n$，$0\\le t \\le 10^8$，$0 \\le u_i<v_i \\le n$，$1\\le p_i,e_i,d\\le 10^8$，$0\\le q\\le 20$。\n\n**保证可能新建立的双向航线方案数不超过 $5 \\times 10^6$**。\n", "locale": "zh-CN"}}}
{"pid": "P6437", "type": "P", "difficulty": 1, "samples": [["5 21\n5 6 7 8 9", "21"], ["10 500\n93 181 245 214 315 36 185 138 216 295\n", "497"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2011", "O2优化", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #6] JACK", "background": "", "description": "给定 $n$ 个正整数 $a_1 \\dots a_n$，请从中选择 $3$ 个数字，满足他们的和不大于给定的整数 $m$，请求出这个和最大可能是多少。", "inputFormat": "第一行有两个整数，分别表示数字个数 $n$ 和给定的整数 $m$。\n\n第二行有 $n$ 个整数，表示给定的 $n$ 个数字 $a_i$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 100$，$6 \\leq m \\leq 3 \\times 10^5$，$1 \\leq a_i \\leq 10^5$，数据保证有解。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T1 JACK***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2011/2012 #6] JACK", "background": "", "description": "给定 $n$ 个正整数 $a_1 \\dots a_n$，请从中选择 $3$ 个数字，满足他们的和不大于给定的整数 $m$，请求出这个和最大可能是多少。", "inputFormat": "第一行有两个整数，分别表示数字个数 $n$ 和给定的整数 $m$。\n\n第二行有 $n$ 个整数，表示给定的 $n$ 个数字 $a_i$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 100$，$6 \\leq m \\leq 3 \\times 10^5$，$1 \\leq a_i \\leq 10^5$，数据保证有解。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T1 JACK***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6438", "type": "P", "difficulty": 2, "samples": [["1 2\n###########\n#....#****#\n#....#****#\n#....#....#\n#....#....#\n###########\n", "1 0 1 0 0"], ["2 3\n################\n#****#****#****#\n#****#****#****#\n#****#....#****#\n#....#....#****#\n################\n#....#****#****#\n#....#****#....#\n#....#....#....#\n#....#....#....#\n################\n", "1 1 2 1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2011", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #6] PROZORI", "background": "春天来了，人们渐渐的开始拉下了自己的百叶窗。", "description": "我们把一扇百叶窗用一个 $4 \\times 4$ 的方阵表示。其中每一行要么全是字符 `*`，要么全是字符 `.`。百叶窗只会有下面五种状态：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m7i17zos.png)\n\n对面的大楼共有 $n$ 层，每层有 $m$ 扇窗户。给定大楼的窗户状态表示，请求出上面五种状态的百叶窗各有几扇。", "inputFormat": "第一行有两个整数，分别表示大楼的层数 $n$ 和窗户数 $m$。\n\n下面 $(5n + 1)$ 行，每行 $(5m + 1)$ 个字符，描述大楼的窗户。窗户的边框用 `#` 表示，内部只有可能是上面给出的五种状态。你可以阅读样例来更好的理解输入格式。", "outputFormat": "输出一行五个用空格隔开的整数，依次表示上述五种状态的百叶窗各有几扇。", "hint": "#### 样例 1 解释\n\n- 以第 $2$ 行第 $2$ 列为左上角，第 $5$ 行第 $5$ 列为右下角的是一扇窗户，是第一种状态。\n- 以第 $2$ 行第 $7$ 列为左上角，第 $5$ 行第 $10$ 列为右下角的是另一扇窗户，是第三种状态。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n, m \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T2 PROZORI***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2011/2012 #6] PROZORI", "background": "春天来了，人们渐渐的开始拉下了自己的百叶窗。", "description": "我们把一扇百叶窗用一个 $4 \\times 4$ 的方阵表示。其中每一行要么全是字符 `*`，要么全是字符 `.`。百叶窗只会有下面五种状态：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m7i17zos.png)\n\n对面的大楼共有 $n$ 层，每层有 $m$ 扇窗户。给定大楼的窗户状态表示，请求出上面五种状态的百叶窗各有几扇。", "inputFormat": "第一行有两个整数，分别表示大楼的层数 $n$ 和窗户数 $m$。\n\n下面 $(5n + 1)$ 行，每行 $(5m + 1)$ 个字符，描述大楼的窗户。窗户的边框用 `#` 表示，内部只有可能是上面给出的五种状态。你可以阅读样例来更好的理解输入格式。", "outputFormat": "输出一行五个用空格隔开的整数，依次表示上述五种状态的百叶窗各有几扇。", "hint": "#### 样例 1 解释\n\n- 以第 $2$ 行第 $2$ 列为左上角，第 $5$ 行第 $5$ 列为右下角的是一扇窗户，是第一种状态。\n- 以第 $2$ 行第 $7$ 列为左上角，第 $5$ 行第 $10$ 列为右下角的是另一扇窗户，是第三种状态。\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n, m \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T2 PROZORI***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6439", "type": "P", "difficulty": 3, "samples": [["(0/(0))", "(0/0)\n0/(0)\n0/0"], ["(2+(2*2)+2)", "(2+2*2+2)\n2+(2*2)+2\n2+2*2+2"], ["(1+(2*(3+4)))", "(1+(2*3+4))\n(1+2*(3+4))\n(1+2*3+4)\n1+(2*(3+4))\n1+(2*3+4)\n1+2*(3+4)\n1+2*3+4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2011", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #6] ZAGRADE", "background": "", "description": "给定一个算术表达式，有些部分用括号括起来表示优先级的不同。请你删除一些互相匹配的括号对，并输出所以删除的方案。按照字典序输出。\n\n比如，给定一个算术表达式 `(2+(2*2)+2)`，所有合法的方案为 `(2+2*2+2)` `2+(2*2)+2` `2+2*2+2`。而 `(2+2*2)+2` `2+(2*2+2)` 并不合法，因为删除的括号对不互相匹配。", "inputFormat": "输入一行一个算术表达式。", "outputFormat": "输出不同的通过删除合法的括号对获得的算术表达式。按照字典序输出。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证给出的算术表达式的长度不超过 $200$，输入仅包含 `+` `-` `*` `/` `(` `)`。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T3 ZAGRADE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2011/2012 #6] ZAGRADE", "background": "", "description": "给定一个算术表达式，有些部分用括号括起来表示优先级的不同。请你删除一些互相匹配的括号对，并输出所以删除的方案。按照字典序输出。\n\n比如，给定一个算术表达式 `(2+(2*2)+2)`，所有合法的方案为 `(2+2*2+2)` `2+(2*2)+2` `2+2*2+2`。而 `(2+2*2)+2` `2+(2*2+2)` 并不合法，因为删除的括号对不互相匹配。", "inputFormat": "输入一行一个算术表达式。", "outputFormat": "输出不同的通过删除合法的括号对获得的算术表达式。按照字典序输出。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证给出的算术表达式的长度不超过 $200$，输入仅包含 `+` `-` `*` `/` `(` `)`。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T3 ZAGRADE***。", "locale": "zh-CN"}}}
{"pid": "P6440", "type": "P", "difficulty": 3, "samples": [["1", "0"], ["4", "2\n-5000 -5000 5000 5000\n5000 -5000 -5000 5000"], ["7", "3\n-5000 5000 0 -5000\n-2000 -5000 5000 5000\n-5000 0 5000 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2011", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #6] REZ【征集SPJ】", "background": "## 本题征集SPJ，有意提供者可发帖并@题目提供者或私信。", "description": "有一个由蓝莓、草莓和巧克力制成的矩形蛋糕。它的形状类似一个广场，左下角坐标为 $(-5000,-5000)$，右上角坐标为 $(5000,5000)$。（坐标系的单位是毫米）面积为 $100$ 平方米。\n\n专业人员强烈建议用湿刀和干勺子食用这块蛋糕。并且：\n\n- 每一刀的起始点都在蛋糕的边上；\n- 一次切割不能完全切割在蛋糕的边上；\n- 没有任何两刀有相同的起点和终点；也就是说，所有的切割线都是不同的。\n\n只有在切割完最后一次后才能进行分离和计数。也就是说，在切割蛋糕的过程中，蛋糕始终保持矩形不变。\n\n请你找出：最少要切几刀才能把蛋糕切成至少 $k$ 块？并输出每一刀的起点和终点坐标。", "inputFormat": "输入一行一个整数 $k$，表示至少把蛋糕切成的块数。", "outputFormat": "输出第一行为一个整数 $n$，表示最少的刀数。\n\n接下来的 $n$ 行，每行四个整数。分别为这一刀起点的坐标和终点的坐标。\n\n对于蛋糕边上的每个点，保证 $\\max(|x|,|y|)=5000$。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le k\\le 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T4 REZ***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2011/2012 #6] REZ【征集SPJ】", "background": "## 本题征集SPJ，有意提供者可发帖并@题目提供者或私信。", "description": "有一个由蓝莓、草莓和巧克力制成的矩形蛋糕。它的形状类似一个广场，左下角坐标为 $(-5000,-5000)$，右上角坐标为 $(5000,5000)$。（坐标系的单位是毫米）面积为 $100$ 平方米。\n\n专业人员强烈建议用湿刀和干勺子食用这块蛋糕。并且：\n\n- 每一刀的起始点都在蛋糕的边上；\n- 一次切割不能完全切割在蛋糕的边上；\n- 没有任何两刀有相同的起点和终点；也就是说，所有的切割线都是不同的。\n\n只有在切割完最后一次后才能进行分离和计数。也就是说，在切割蛋糕的过程中，蛋糕始终保持矩形不变。\n\n请你找出：最少要切几刀才能把蛋糕切成至少 $k$ 块？并输出每一刀的起点和终点坐标。", "inputFormat": "输入一行一个整数 $k$，表示至少把蛋糕切成的块数。", "outputFormat": "输出第一行为一个整数 $n$，表示最少的刀数。\n\n接下来的 $n$ 行，每行四个整数。分别为这一刀起点的坐标和终点的坐标。\n\n对于蛋糕边上的每个点，保证 $\\max(|x|,|y|)=5000$。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le k\\le 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T4 REZ***。", "locale": "zh-CN"}}}
{"pid": "P6441", "type": "P", "difficulty": 4, "samples": [["2 2\n1 3 2\n2 6 4", "3\n1 3 2\n2 6 4"], ["3 2\n3 3 4\n1 6 4\n1 1 2", "2\n3 3 4\n1 1 2"], ["5 3\n6 6 4\n6 2 7\n3 1 3\n4 1 5\n6 2 6", "2\n6 2 7\n4 1 5\n6 2 6"]], "limits": {"time": [7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2011", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #6] PASTELE", "background": "Mirko 收到了一份礼物。\n\n", "description": "这份礼物共包含 $n$ 支蜡笔。每只蜡笔的颜色由色光三原色组成：红、绿、蓝。分别用参数 $R_i,G_i,B_i$ 表示。这只蜡笔的颜色就由这三个参数来决定。\n\n对于两支蜡笔 $i,j$，我们定义它们之间的差异值为 $\\max(|R_i-R_j|,|G_i-G_j|,|B_i-B_j|)$。定义一些蜡笔的色彩值为这些蜡笔中任意两支蜡笔差异值的最大值。\n\n给出这 $n$ 支蜡笔的特征值，请找出 $k$ 支蜡笔，使得色彩值最小。", "inputFormat": "输入第一行为两个整数 $n,k$。\n\n接下来的 $n$ 行，每行三个整数 $R_i,G_i,B_i$，表示第 $i$ 支蜡笔的颜色参数。", "outputFormat": "输出第一行为一个整数，表示 $k$ 支蜡笔的色彩值的最小值。\n\n接下来的 $k$ 行，每行三个整数，描述这 $k$ 支蜡笔都由哪些蜡笔组成。\n\n**由于方案的组成可能不唯一，本题使用SPJ**。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $R_i,G_i,B_i\\le 20$；\n- 对于另 $30\\%$ 的数据，保证 $R_i,G_i,B_i\\le 50$；\n- 对于 $100\\%$ 的数据，保证 $2\\le k\\le n\\le 10^5$，$0\\le R_i,G_i,B_i\\le 256$，$0\\le k_i\\le m$。\n\n#### 提示\n\n请注意常数因子对程序效率造成的影响。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T5 PASTELE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2011/2012 #6] PASTELE", "background": "Mirko 收到了一份礼物。\n\n", "description": "这份礼物共包含 $n$ 支蜡笔。每只蜡笔的颜色由色光三原色组成：红、绿、蓝。分别用参数 $R_i,G_i,B_i$ 表示。这只蜡笔的颜色就由这三个参数来决定。\n\n对于两支蜡笔 $i,j$，我们定义它们之间的差异值为 $\\max(|R_i-R_j|,|G_i-G_j|,|B_i-B_j|)$。定义一些蜡笔的色彩值为这些蜡笔中任意两支蜡笔差异值的最大值。\n\n给出这 $n$ 支蜡笔的特征值，请找出 $k$ 支蜡笔，使得色彩值最小。", "inputFormat": "输入第一行为两个整数 $n,k$。\n\n接下来的 $n$ 行，每行三个整数 $R_i,G_i,B_i$，表示第 $i$ 支蜡笔的颜色参数。", "outputFormat": "输出第一行为一个整数，表示 $k$ 支蜡笔的色彩值的最小值。\n\n接下来的 $k$ 行，每行三个整数，描述这 $k$ 支蜡笔都由哪些蜡笔组成。\n\n**由于方案的组成可能不唯一，本题使用SPJ**。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $R_i,G_i,B_i\\le 20$；\n- 对于另 $30\\%$ 的数据，保证 $R_i,G_i,B_i\\le 50$；\n- 对于 $100\\%$ 的数据，保证 $2\\le k\\le n\\le 10^5$，$0\\le R_i,G_i,B_i\\le 256$，$0\\le k_i\\le m$。\n\n#### 提示\n\n请注意常数因子对程序效率造成的影响。\n\n#### 说明\n\n**题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T5 PASTELE***。", "locale": "zh-CN"}}}
{"pid": "P6442", "type": "P", "difficulty": 5, "samples": [["3 3\n3 1 2 3\n3 1 2 3\n3 1 2 3", "7"], ["3 3\n1 1\n1 2\n1 3", "1"], ["4 5\n2 2 3\n2 1 2\n4 1 2 3 5\n4 1 2 4 5", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2011", "O2优化", "前缀和", "容斥原理", "差分", "COCI（克罗地亚）", "状压 DP"], "title": "[COCI 2011/2012 #6] KOŠARE", "background": "", "description": "在一个废弃的阁楼里放置有 $n$ 个箱子，这些箱子里存放着 $m$ 种玩具。对于第 $i$ 个箱子，它里面有 $k_i$ 个玩具（不同的箱子里可能有相同的玩具）。\n\n现在你需要选出一部分箱子，使得它们中共有 $m$ 种玩具（即所有种类的玩具都包含）。求选择的方案总数（$\\bmod\\ 10^9+7$）。", "inputFormat": "输入第一行包含两个整数 $n,m$。\n\n接下来的 $n$ 行，每行首先输入一个整数 $k_i$；接下来 $k_i$ 个数表示第 $i$ 个箱子里所含的玩具情况。", "outputFormat": "输入一行一个整数，为方案总数（$\\bmod\\ 10^9+7$）。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n\\le 100$，$m\\le 15$；\n- 对于 $70\\%$ 的数据，保证 $m\\le 15$；\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 1\\times 10^6$，$1\\le m\\le 20$，$0\\le k_i\\le m$。\n\n#### 说明\n\n- **题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T6 KOŠARE***。\n- 感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 的翻译支持！", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2011/2012 #6] KOŠARE", "background": "", "description": "在一个废弃的阁楼里放置有 $n$ 个箱子，这些箱子里存放着 $m$ 种玩具。对于第 $i$ 个箱子，它里面有 $k_i$ 个玩具（不同的箱子里可能有相同的玩具）。\n\n现在你需要选出一部分箱子，使得它们中共有 $m$ 种玩具（即所有种类的玩具都包含）。求选择的方案总数（$\\bmod\\ 10^9+7$）。", "inputFormat": "输入第一行包含两个整数 $n,m$。\n\n接下来的 $n$ 行，每行首先输入一个整数 $k_i$；接下来 $k_i$ 个数表示第 $i$ 个箱子里所含的玩具情况。", "outputFormat": "输入一行一个整数，为方案总数（$\\bmod\\ 10^9+7$）。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n\\le 100$，$m\\le 15$；\n- 对于 $70\\%$ 的数据，保证 $m\\le 15$；\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 1\\times 10^6$，$1\\le m\\le 20$，$0\\le k_i\\le m$。\n\n#### 说明\n\n- **题目译自 [COCI2011-2012](https://hsin.hr/coci/archive/2011_2012/) [CONTEST #6](https://hsin.hr/coci/archive/2011_2012/contest6_tasks.pdf) *T6 KOŠARE***。\n- 感谢 @[一扶苏一](https://www.luogu.com.cn/user/65363) 的翻译支持！", "locale": "zh-CN"}}}
{"pid": "P6443", "type": "P", "difficulty": 1, "samples": [["6 3 2", "2"], ["2 1 1", "0"], ["6 10 3", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #1] TIMSKO", "background": "", "description": "有一所大学每年都会举办一场信息学竞赛，竞赛中，每支队伍由 $1$ 名男生和  $2$ 名女生组成。一所学院的院长为了减少对手，把其他对手安排在一个遥远的国家进行实习，被派去实习的对手将无法参加比赛。所有选手中，女性选手的数量为 $m$，男性选手的数量为 $n$，可以派去实习的对手数量为 $k$。院长必须创建能参加比赛的队伍。你的任务是输出可以创建的最大团队数。", "inputFormat": "输入数据共一行。\n\n一行三个整数，$m,n,k$，含义如题所示。", "outputFormat": "输出数据共一行。\n\n一行一个整数，$ans$，表示可以组成的最大团队数。", "hint": "**样例输入输出 1 解释**\n\n院长就可以派一男一女去实习，这样就变成了：$m=5$，$n=2$，分成两队（一个女生没有队伍），所以答案为 $2$。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$0 \\leq n,m \\leq 100$，$0 \\leq k \\leq m+n$。\n\n---\n\n**说明**\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T1 TIMSKO*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #1] TIMSKO", "background": "", "description": "有一所大学每年都会举办一场信息学竞赛，竞赛中，每支队伍由 $1$ 名男生和  $2$ 名女生组成。一所学院的院长为了减少对手，把其他对手安排在一个遥远的国家进行实习，被派去实习的对手将无法参加比赛。所有选手中，女性选手的数量为 $m$，男性选手的数量为 $n$，可以派去实习的对手数量为 $k$。院长必须创建能参加比赛的队伍。你的任务是输出可以创建的最大团队数。", "inputFormat": "输入数据共一行。\n\n一行三个整数，$m,n,k$，含义如题所示。", "outputFormat": "输出数据共一行。\n\n一行一个整数，$ans$，表示可以组成的最大团队数。", "hint": "**样例输入输出 1 解释**\n\n院长就可以派一男一女去实习，这样就变成了：$m=5$，$n=2$，分成两队（一个女生没有队伍），所以答案为 $2$。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$0 \\leq n,m \\leq 100$，$0 \\leq k \\leq m+n$。\n\n---\n\n**说明**\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T1 TIMSKO*。**", "locale": "zh-CN"}}}
{"pid": "P6444", "type": "P", "difficulty": 2, "samples": [["1\n1 5 \n", "1 1\n"], ["3\n3 5\n4 5\n1 3 \n", "2 5\n"], ["4\n2 1\n3 2\n5 3\n2 5 \n", "2 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2010", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #1] PROFESOR", "background": "", "description": "在一个较长的教室中，$n$ 张桌子排成一排，每张桌子坐着 $2$ 个学生。\n学生之所以胡思乱想是因为他们即将参加美术课，而他们的老师正计划对他们进行检查。\n\n每个学生都学习过美术，但是只学习了一定水平。 这位教授可以通过脸上的表情告诉他们他们学了多少。 这位教授是一名艺术家，每个年级都使用不同的彩色铅笔。不幸的是，今天他只带了 $1$ 支铅笔。\n\n为了使考试看起来公平，他想选择 $2$ 张桌子，并从他所选择的 $2$ 张桌子（包括所选的桌子）之间的每张桌子中向 $1$ 位学生提问。 重要的是所有受试学生都应获得相同的成绩，因此他可以用唯一的铅笔将其写下来。\n\n教授想知道他可以通过这种方式检查的最大学生人数，以及学生将获得的分数。\n", "inputFormat": "输入数据共 $n+1$ 行。\n\n第一行包含一个整数 $n$，含义如题所示。\n\n接下来的 $n$ 行，每行包含两个整数：$a_i$ 和 $b_i$，分别表示坐在课桌 $i$ 上的学生的成绩。", "outputFormat": "输出数据共一行。\n\n第一行包含 $2$ 个数字，并用一个空格隔开，分别表示教授可以考核的最大学生人数以及这些学生将获得的分数。\n\n如果有多种解决方案，请输出分数最小的解决方案。", "hint": "#### 数据范围\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le a_i, b_i \\leq 5$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T2 PROFESOR*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #1] PROFESOR", "background": "", "description": "在一个较长的教室中，$n$ 张桌子排成一排，每张桌子坐着 $2$ 个学生。\n学生之所以胡思乱想是因为他们即将参加美术课，而他们的老师正计划对他们进行检查。\n\n每个学生都学习过美术，但是只学习了一定水平。 这位教授可以通过脸上的表情告诉他们他们学了多少。 这位教授是一名艺术家，每个年级都使用不同的彩色铅笔。不幸的是，今天他只带了 $1$ 支铅笔。\n\n为了使考试看起来公平，他想选择 $2$ 张桌子，并从他所选择的 $2$ 张桌子（包括所选的桌子）之间的每张桌子中向 $1$ 位学生提问。 重要的是所有受试学生都应获得相同的成绩，因此他可以用唯一的铅笔将其写下来。\n\n教授想知道他可以通过这种方式检查的最大学生人数，以及学生将获得的分数。\n", "inputFormat": "输入数据共 $n+1$ 行。\n\n第一行包含一个整数 $n$，含义如题所示。\n\n接下来的 $n$ 行，每行包含两个整数：$a_i$ 和 $b_i$，分别表示坐在课桌 $i$ 上的学生的成绩。", "outputFormat": "输出数据共一行。\n\n第一行包含 $2$ 个数字，并用一个空格隔开，分别表示教授可以考核的最大学生人数以及这些学生将获得的分数。\n\n如果有多种解决方案，请输出分数最小的解决方案。", "hint": "#### 数据范围\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le a_i, b_i \\leq 5$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T2 PROFESOR*。**", "locale": "zh-CN"}}}
{"pid": "P6445", "type": "P", "difficulty": 2, "samples": [["1", "4"], ["2", "7"], ["3", "44"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #1] SRETAN", "background": "", "description": "已知 $4$ 和 $7$ 是幸运数字，而其他数字不是幸运数字。如果一个整数中只包含十进制表示法中的幸运数字，则这个整数是幸运的。你需要求出第 $k$ 个幸运的正整数。", "inputFormat": "输入数据共一行。\n\n一行一个整数 $k$，含义如题所示。", "outputFormat": "输出数据共一行。\n\n一行一个整数，表示答案。", "hint": "**样例输入输出 1 解释**\n\n因为是正整数，所以第一个一定是数字 $4$。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$1 \\leq k \\leq 10^9$。\n\n---\n\n**说明**\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T3 SRETAN*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #1] SRETAN", "background": "", "description": "已知 $4$ 和 $7$ 是幸运数字，而其他数字不是幸运数字。如果一个整数中只包含十进制表示法中的幸运数字，则这个整数是幸运的。你需要求出第 $k$ 个幸运的正整数。", "inputFormat": "输入数据共一行。\n\n一行一个整数 $k$，含义如题所示。", "outputFormat": "输出数据共一行。\n\n一行一个整数，表示答案。", "hint": "**样例输入输出 1 解释**\n\n因为是正整数，所以第一个一定是数字 $4$。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$1 \\leq k \\leq 10^9$。\n\n---\n\n**说明**\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T3 SRETAN*。**", "locale": "zh-CN"}}}
{"pid": "P6446", "type": "P", "difficulty": 3, "samples": [["3\n3 4 5\n6 7 8 \n", "3\n"], ["4\n1 2 3 4\n3 1 1 0 \n", "6"], ["4\n5 4 5 5\n1 5 0 1 \n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "递推", "2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #1] TABOVI", "background": "Zvonkec 是在一家小公司工作的程序员。\n", "description": "Zvonkec 每天都必须重构一个源代码文件。令他大为沮丧的是，源代码的代码风格很奇怪。他尤其会受到缩进不均匀的困扰，即缩进每行的制表符（即键盘上的 `Tab`）的数量。\n\n幸运的是，他的编辑器具有命令来选择一组连续的行，并从每行的开头添加或删除字符。请你帮助 Zvonkec 尽快整理代码。\n\n给出的行数为 $n$，在每行开始处指定当前制表符数量的序列以及在每行开始处指定所需制表符数量的序列。\n\nZvonkec 可以执行许多命令，包括：\n\n- 选择任意数量的连续行。\n- 向每条选定行的开头添加或删除单个制表符。\n\n无论选择多少行，以上两个动作都包含一个命令。\n\n应该注意的是，禁止从一行中删除的制表符比在一行的开始处实际显示的要多，因为编辑器将开始删除除制表符以外的字符。\n\n要求您计算整理代码所需的最少命令数。", "inputFormat": "输入数据共三行。\n\n第一行，一个正整数 $n$。\n\n第二行有 $n$ 个整数 $p_i$，表示在进行任何编辑之前在第 $i$ 行的开头的制表符数。\n\n第三行有 $n$ 个整数 $k_i$，表示 Zvonkec 在第 $i$ 行的开头想要的制表符数。", "outputFormat": "输出数据共一行。\n\n第一行，一个正整数，表示问题编号中指定的所需编号。", "hint": "#### 数据范围\n- 对于 $70\\%$ 的数据，$1 \\leq n \\leq 100$，$0 \\le p_i \\le 80$，$0 \\leq k_i \\leq 80$。\n- 对于 $100\\%$ 的数据，$1 \\leq n \\le 1000$，$0 \\le p_i \\le 80$，$0 \\leq k_i \\leq 80$。\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T5 TABOVI*。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #1] TABOVI", "background": "Zvonkec 是在一家小公司工作的程序员。\n", "description": "Zvonkec 每天都必须重构一个源代码文件。令他大为沮丧的是，源代码的代码风格很奇怪。他尤其会受到缩进不均匀的困扰，即缩进每行的制表符（即键盘上的 `Tab`）的数量。\n\n幸运的是，他的编辑器具有命令来选择一组连续的行，并从每行的开头添加或删除字符。请你帮助 Zvonkec 尽快整理代码。\n\n给出的行数为 $n$，在每行开始处指定当前制表符数量的序列以及在每行开始处指定所需制表符数量的序列。\n\nZvonkec 可以执行许多命令，包括：\n\n- 选择任意数量的连续行。\n- 向每条选定行的开头添加或删除单个制表符。\n\n无论选择多少行，以上两个动作都包含一个命令。\n\n应该注意的是，禁止从一行中删除的制表符比在一行的开始处实际显示的要多，因为编辑器将开始删除除制表符以外的字符。\n\n要求您计算整理代码所需的最少命令数。", "inputFormat": "输入数据共三行。\n\n第一行，一个正整数 $n$。\n\n第二行有 $n$ 个整数 $p_i$，表示在进行任何编辑之前在第 $i$ 行的开头的制表符数。\n\n第三行有 $n$ 个整数 $k_i$，表示 Zvonkec 在第 $i$ 行的开头想要的制表符数。", "outputFormat": "输出数据共一行。\n\n第一行，一个正整数，表示问题编号中指定的所需编号。", "hint": "#### 数据范围\n- 对于 $70\\%$ 的数据，$1 \\leq n \\leq 100$，$0 \\le p_i \\le 80$，$0 \\leq k_i \\leq 80$。\n- 对于 $100\\%$ 的数据，$1 \\leq n \\le 1000$，$0 \\le p_i \\le 80$，$0 \\leq k_i \\leq 80$。\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T5 TABOVI*。**", "locale": "zh-CN"}}}
{"pid": "P6447", "type": "P", "difficulty": 6, "samples": [["6\n1 5 4 3 2 6\n1 2 5 4 3 6", "2"], ["5\n1 5 3 2 4\n1 5 4 2 3 ", "5\n3\n5\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2010", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #1] ŽABE", "background": null, "description": "国王有 $n$ 个仆人。他把仆人排成一圈，每个仆人面向下一个仆人的后面。\n\n每个仆人都有一个编号，序列总是从编号为 $1$ 的仆人开始。如果一个仆人插到前面的那位仆人前，这个操作就被视为一次插队。例如：仆人编号为 `1 5 4 3 2 6`，编号为 $2$ 的仆人插队了 $2$ 个位置，则得到：`1 2 5 4 3 6`。\n\n> 注：每个人面朝序列的右边。\n\n当国王宣布数字 $b$ 时，编号为 $b$ 的仆人就要向前插队 $b$ 格。国王希望宣布一些指令以便将原始序列变为他希望的序列。\n\n给你原始序列以及国王希望的序列，你需要求出国王依次下发的指令。数据保证原始序列和国王希望的序列不相等。", "inputFormat": "输入数据共三行。\n\n第一行一个整数 $n$，含义如题所示。\n\n第二行 $n$ 个整数 $a_i$，表示原始序列。\n\n第三行 $n$ 个整数 $k_i$，表示国王希望的序列。", "outputFormat": "输出数据共 $m$ 行。\n\n每行一个整数 $b$，含义如题所示。\n\n注：$m$ 表示国王操作的次数。", "hint": "**样例输入输出 1 解释**\n\n仆人编号为 `1 5 4 3 2 6`，编号为 $2$ 的仆人插队了 $2$ 个位置，则得到：`1 2 5 4 3 6`。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$3 \\leq n \\leq 100$，$1 \\leq m \\leq 10^5$，$1 \\leq a_i,k_i \\leq 100$，$1 \\leq b \\leq n$。\n\n---\n\n**说明**\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T6 ŽABE*。**\n\n感谢 [我谔谔](/user/127284) 提供的 Special Judge。\n\n感谢 [aaron0919](/user/818165) 修复了一个错误。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #1] ŽABE", "background": null, "description": "国王有 $n$ 个仆人。他把仆人排成一圈，每个仆人面向下一个仆人的后面。\n\n每个仆人都有一个编号，序列总是从编号为 $1$ 的仆人开始。如果一个仆人插到前面的那位仆人前，这个操作就被视为一次插队。例如：仆人编号为 `1 5 4 3 2 6`，编号为 $2$ 的仆人插队了 $2$ 个位置，则得到：`1 2 5 4 3 6`。\n\n> 注：每个人面朝序列的右边。\n\n当国王宣布数字 $b$ 时，编号为 $b$ 的仆人就要向前插队 $b$ 格。国王希望宣布一些指令以便将原始序列变为他希望的序列。\n\n给你原始序列以及国王希望的序列，你需要求出国王依次下发的指令。数据保证原始序列和国王希望的序列不相等。", "inputFormat": "输入数据共三行。\n\n第一行一个整数 $n$，含义如题所示。\n\n第二行 $n$ 个整数 $a_i$，表示原始序列。\n\n第三行 $n$ 个整数 $k_i$，表示国王希望的序列。", "outputFormat": "输出数据共 $m$ 行。\n\n每行一个整数 $b$，含义如题所示。\n\n注：$m$ 表示国王操作的次数。", "hint": "**样例输入输出 1 解释**\n\n仆人编号为 `1 5 4 3 2 6`，编号为 $2$ 的仆人插队了 $2$ 个位置，则得到：`1 2 5 4 3 6`。\n\n---\n\n**数据规模与约定**\n\n对于 $100\\%$ 的数据，$3 \\leq n \\leq 100$，$1 \\leq m \\leq 10^5$，$1 \\leq a_i,k_i \\leq 100$，$1 \\leq b \\leq n$。\n\n---\n\n**说明**\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #1](https://hsin.hr/coci/archive/2010_2011/contest1_tasks.pdf) *T6 ŽABE*。**\n\n感谢 [我谔谔](/user/127284) 提供的 Special Judge。\n\n感谢 [aaron0919](/user/818165) 修复了一个错误。", "locale": "zh-CN"}}}
{"pid": "P6448", "type": "P", "difficulty": 2, "samples": [["2 1 5 3 4\n", "1 2 5 3 4\n1 2 3 5 4\n1 2 3 4 5"], ["2 3 4 5 1\n", "2 3 4 1 5\n2 3 1 4 5\n2 1 3 4 5\n1 2 3 4 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #4] MJEHURIC", "background": null, "description": "给定五个数字组成的序列 $a$，$1 \\sim 5$ 在这五个数字中均恰好出现一次。现在请按照如下操作对序列进行排序。\n\n1. 若 $a_1 > a_2$，则交换 $a_1$ 和 $a_2$。\n2. 若 $a_2 > a_3$，则交换 $a_2$ 和 $a_3$。\n3. 若 $a_3 > a_4$，则交换 $a_3$ 和 $a_4$。\n4. 若 $a_4 > a_5$，则交换 $a_4$ 和 $a_5$。\n5. 如果序列没有变成 $\\{1, 2, 3, 4, 5\\}$，则回到第一步，继续排序。\n\n请在**每次交换**后输出当前序列。", "inputFormat": "输入只有一行五个数，表示序列 $a$。", "outputFormat": "输出若干行，每行输出五个用空格隔开的整数，表示一次交换后的序列。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a_i \\leq 5$，$a_i$ 互不相同，且不是单调递增的。\n\n#### 提示\n\n可以证明，交换次数不超过 $25$ 次。\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T1 MJEHURIC***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #4] MJEHURIC", "background": null, "description": "给定五个数字组成的序列 $a$，$1 \\sim 5$ 在这五个数字中均恰好出现一次。现在请按照如下操作对序列进行排序。\n\n1. 若 $a_1 > a_2$，则交换 $a_1$ 和 $a_2$。\n2. 若 $a_2 > a_3$，则交换 $a_2$ 和 $a_3$。\n3. 若 $a_3 > a_4$，则交换 $a_3$ 和 $a_4$。\n4. 若 $a_4 > a_5$，则交换 $a_4$ 和 $a_5$。\n5. 如果序列没有变成 $\\{1, 2, 3, 4, 5\\}$，则回到第一步，继续排序。\n\n请在**每次交换**后输出当前序列。", "inputFormat": "输入只有一行五个数，表示序列 $a$。", "outputFormat": "输出若干行，每行输出五个用空格隔开的整数，表示一次交换后的序列。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a_i \\leq 5$，$a_i$ 互不相同，且不是单调递增的。\n\n#### 提示\n\n可以证明，交换次数不超过 $25$ 次。\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T1 MJEHURIC***。", "locale": "zh-CN"}}}
{"pid": "P6449", "type": "P", "difficulty": 2, "samples": [["1 1\n", "Thursday"], ["17 1\n", "Saturday\n"], ["25 9\n", "Friday"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #4] DATUM", "background": null, "description": "给定一个 $2009$ 年的日期，请确定这一天是周几。", "inputFormat": "输入只有一行两个整数 $d$，$m$，其中 $m$ 表示月份，$d$ 表示该月的哪一天。", "outputFormat": "输出一行一个字符串，表示答案。对于一周中每天的对应输出如下：\n\n| 日期 |    输出     |\n| :--: | :---------: |\n| 周一 |  `Monday`   |\n| 周二 |  `Tuesday`  |\n| 周三 | `Wednesday` |\n| 周四 | `Thursday`  |\n| 周五 |  `Friday`   |\n| 周六 | `Saturday`  |\n| 周日 |  `Sunday`   |", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证给出的日期是一个真实存在于 $2009$ 年的日期。\n\n#### 提示\n\n- $2009$ 年 $1$ 月 $1$ 日是周四。\n- 请注意输入时先输入日再输入月。\n\n#### 说明\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T2 DATUM***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #4] DATUM", "background": null, "description": "给定一个 $2009$ 年的日期，请确定这一天是周几。", "inputFormat": "输入只有一行两个整数 $d$，$m$，其中 $m$ 表示月份，$d$ 表示该月的哪一天。", "outputFormat": "输出一行一个字符串，表示答案。对于一周中每天的对应输出如下：\n\n| 日期 |    输出     |\n| :--: | :---------: |\n| 周一 |  `Monday`   |\n| 周二 |  `Tuesday`  |\n| 周三 | `Wednesday` |\n| 周四 | `Thursday`  |\n| 周五 |  `Friday`   |\n| 周六 | `Saturday`  |\n| 周日 |  `Sunday`   |", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证给出的日期是一个真实存在于 $2009$ 年的日期。\n\n#### 提示\n\n- $2009$ 年 $1$ 月 $1$ 日是周四。\n- 请注意输入时先输入日再输入月。\n\n#### 说明\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T2 DATUM***。", "locale": "zh-CN"}}}
{"pid": "P6450", "type": "P", "difficulty": 2, "samples": [["3 5\ndamir\nmarko\ndarko\n45", "  d\n m a\nd a m\n a r i\n  r k r\n   k o\n    o"], ["3 5\ndamir\nmarko\ndarko\n90", "dmd\naaa\nrrm\nkki\noor"], ["5 5\nabcde\nbcdef\ncdefg\ndefgh\nefghi\n315", "    e\n   d f\n  c e g\n b d f h\na c e g i\n b d f h\n  c e g\n   d f\n    e "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #4] ROT", "background": "", "description": "给定一个 $r\\times c$ 的由字符组成的方桌，你需要输出这个桌子按顺时针方向旋转 $k$ 度之后的状态。\n\n保证 $k$ 为 $45$ 的倍数。", "inputFormat": "输入第一行为两个整数 $r,c$，表示方桌的行数和列数。\n\n接下来的 $r$ 行，每行 $c$ 个字符，表示这个字符方桌初始排列状态。\n\n接下来的一行为一个整数 $k$，表示顺时针旋转的角度。", "outputFormat": "输出这个方桌最终旋转的状态。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le r,c\\le 10$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T3 ROT***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #4] ROT", "background": "", "description": "给定一个 $r\\times c$ 的由字符组成的方桌，你需要输出这个桌子按顺时针方向旋转 $k$ 度之后的状态。\n\n保证 $k$ 为 $45$ 的倍数。", "inputFormat": "输入第一行为两个整数 $r,c$，表示方桌的行数和列数。\n\n接下来的 $r$ 行，每行 $c$ 个字符，表示这个字符方桌初始排列状态。\n\n接下来的一行为一个整数 $k$，表示顺时针旋转的角度。", "outputFormat": "输出这个方桌最终旋转的状态。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le r,c\\le 10$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T3 ROT***。", "locale": "zh-CN"}}}
{"pid": "P6451", "type": "P", "difficulty": 4, "samples": [["4\n0001\n0001\n0011\n1110", "1\n0001\n0001\n0011\n1111"], ["4\n1111\n1111\n1111\n1111", "6\n0011\n0011\n0111\n1101"], ["8\n01010001\n10100011\n01010111\n10101111\n01010111\n10100011\n01010001\n10100000", "16\n00000001\n00000011\n00000111\n00001111\n11110111\n11110011\n11110001\n11110000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #4] SLIKAR", "background": "Josip 是一个奇怪的画家。", "description": "他想画一幅由 $n\\times n$ 个像素点组成的画。其中 $n$ 是 $2$ 的幂次（如 $1,2,4,8,16,\\dots$）。每个像素点将会被着色为黑色或者白色。Josip 目前已经知道他的理想画作了。\n\n他将按照如下步骤作画：\n\n- 如果整幅画是一个像素点，那么他将依照自己的目标把这个像素点涂成黑色或者白色。\n\n- 否则，他会将正方形分为四个更小的正方形，然后：\n\n1. 从中选择一个正方形全部涂成白色。\n1. 再从剩下的三个正方形中选择一个全部涂成黑色。\n1. 把剩下的两个正方形当成一幅新的画作，重复上述步骤。\n\n很快他就发现把心目中的画作完完整整的画出来是不可能的。所以，他希望你来编写一个程序，使得画出的一幅画与他心目中的理想画作的差异尽量小。\n\n两张画作之间的差异为颜色不同的像素点的数目。", "inputFormat": "输入第一行为一个整数 $n$，表示画作的边长。\n\n接下来的 $n$ 行，每行 $n$ 个为 $0$ 或 $1$ 的数字，表示理想状态当前像素点为黑色或者白色。", "outputFormat": "输出第一行一个整数，表示最小的差异值。\n\n接下来的 $n$ 行，每行 $n$ 个为 $0$ 或 $1$ 的数字，表示实际上当前像素的颜色。\n\n**注意：染色的方案可能有多种，输出任意一种即可，本题使用SPJ**。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n\\le 8$；\n- 对于 $100\\%$ 的数据，$1\\le n\\le 512$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T4 SLIKAR***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #4] SLIKAR", "background": "Josip 是一个奇怪的画家。", "description": "他想画一幅由 $n\\times n$ 个像素点组成的画。其中 $n$ 是 $2$ 的幂次（如 $1,2,4,8,16,\\dots$）。每个像素点将会被着色为黑色或者白色。Josip 目前已经知道他的理想画作了。\n\n他将按照如下步骤作画：\n\n- 如果整幅画是一个像素点，那么他将依照自己的目标把这个像素点涂成黑色或者白色。\n\n- 否则，他会将正方形分为四个更小的正方形，然后：\n\n1. 从中选择一个正方形全部涂成白色。\n1. 再从剩下的三个正方形中选择一个全部涂成黑色。\n1. 把剩下的两个正方形当成一幅新的画作，重复上述步骤。\n\n很快他就发现把心目中的画作完完整整的画出来是不可能的。所以，他希望你来编写一个程序，使得画出的一幅画与他心目中的理想画作的差异尽量小。\n\n两张画作之间的差异为颜色不同的像素点的数目。", "inputFormat": "输入第一行为一个整数 $n$，表示画作的边长。\n\n接下来的 $n$ 行，每行 $n$ 个为 $0$ 或 $1$ 的数字，表示理想状态当前像素点为黑色或者白色。", "outputFormat": "输出第一行一个整数，表示最小的差异值。\n\n接下来的 $n$ 行，每行 $n$ 个为 $0$ 或 $1$ 的数字，表示实际上当前像素的颜色。\n\n**注意：染色的方案可能有多种，输出任意一种即可，本题使用SPJ**。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$n\\le 8$；\n- 对于 $100\\%$ 的数据，$1\\le n\\le 512$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T4 SLIKAR***。", "locale": "zh-CN"}}}
{"pid": "P6452", "type": "P", "difficulty": 6, "samples": [["1 1\n3", "2\n2\n5"], ["2 3\n4", "0\n16\n8"], ["7 11\n1000000", "6723409\n2301730\n9974861"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #4] TREZOR", "background": null, "description": "在平面直角坐标系中，有一个以 $(1,-A)$ 和 $(L,B)$ 为对角线上的两个端点的矩形。这个矩形内有 $L\\times (A+1+B)$ 个点。\n\n现在有两名警卫分别在 $(0,-A)$ 和 $(0,B)$ 两个点。他们都看向这个矩形。如果他的视线（为一条射线）与矩形内的一个点之间有其他点阻隔，那么他就看不到这个点。\n\n对于每一个点：\n\n- 如果它能被两个警卫都看到，那么就认为它是非常安全的；\n- 如果只能被其中一个警卫都看到，那么就认为它是安全的；\n- 如果两个警卫都看不到它，那么就认为它是危险的。\n\n给定 $A,B,L$，你需要找出非常安全的点、安全的点和危险的点分别的数量。", "inputFormat": "输入第一行为两个整数 $A,B$。\n\n第二行为一个整数 $L$。", "outputFormat": "输出共 $3$ 行。每行一个整数，依次为危险、安全、非常安全的点的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$L\\le 1000$；\n- 对于另 $25\\%$ 的数据，$A,B\\le 100$；\n- 对于 $100\\%$ 的数据，$1\\le A,B\\le 2000$，$1\\le L\\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T5 TREZOR***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #4] TREZOR", "background": null, "description": "在平面直角坐标系中，有一个以 $(1,-A)$ 和 $(L,B)$ 为对角线上的两个端点的矩形。这个矩形内有 $L\\times (A+1+B)$ 个点。\n\n现在有两名警卫分别在 $(0,-A)$ 和 $(0,B)$ 两个点。他们都看向这个矩形。如果他的视线（为一条射线）与矩形内的一个点之间有其他点阻隔，那么他就看不到这个点。\n\n对于每一个点：\n\n- 如果它能被两个警卫都看到，那么就认为它是非常安全的；\n- 如果只能被其中一个警卫都看到，那么就认为它是安全的；\n- 如果两个警卫都看不到它，那么就认为它是危险的。\n\n给定 $A,B,L$，你需要找出非常安全的点、安全的点和危险的点分别的数量。", "inputFormat": "输入第一行为两个整数 $A,B$。\n\n第二行为一个整数 $L$。", "outputFormat": "输出共 $3$ 行。每行一个整数，依次为危险、安全、非常安全的点的数量。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，$L\\le 1000$；\n- 对于另 $25\\%$ 的数据，$A,B\\le 100$；\n- 对于 $100\\%$ 的数据，$1\\le A,B\\le 2000$，$1\\le L\\le 10^9$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T5 TREZOR***。", "locale": "zh-CN"}}}
{"pid": "P6453", "type": "P", "difficulty": 6, "samples": [["3 3\n2 1 3", "2"], ["4 1\n1 2 3 4", "10"], ["5 2\n2 3 1 2 4", "43"], ["3 2\n999999 999999 999999", "990979013"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["动态规划 DP", "2008", "背包 DP", "COCI（克罗地亚）", "笛卡尔树"], "title": "[COCI 2008/2009 #4] PERIODNI", "background": null, "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/vuf8694o.png)\n\n如图，给定一个由 $n$ 列组成的表格，每一列的底部都是对齐的。\n\n你需要在里面填入 $k$ 个相同的数。但不得有任意两个数在同一行或者同一列。\n\n比如，上图中 `b` 的填写就是不合法的；因为两个 `b` 在同一列上。但 `a` 的填写是合法的，因为这两个 `a` 虽然在同一行，但是中间断开了，所以不算做非法。\n\n请求出填写的方案总数 $\\bmod\\ 10^9+7$ 的结果。", "inputFormat": "输入第一行两个整数 $n,k$，表示表格的列数和相同数字的数量。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数表示从左至右第 $i$ 列的层数。", "outputFormat": "输出一行一个整数，表示方案总数 $\\bmod\\ 10^9+7$ 的结果。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，输入的数字都小于 $15$；\n- 对于 $70\\%$ 的数据，输入的数字都小于 $100$；\n- 对于 $100\\%$ 的数据，$1\\le n,k\\le 500$，层高不会超过 $10^6$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T6 PERIODNI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #4] PERIODNI", "background": null, "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/vuf8694o.png)\n\n如图，给定一个由 $n$ 列组成的表格，每一列的底部都是对齐的。\n\n你需要在里面填入 $k$ 个相同的数。但不得有任意两个数在同一行或者同一列。\n\n比如，上图中 `b` 的填写就是不合法的；因为两个 `b` 在同一列上。但 `a` 的填写是合法的，因为这两个 `a` 虽然在同一行，但是中间断开了，所以不算做非法。\n\n请求出填写的方案总数 $\\bmod\\ 10^9+7$ 的结果。", "inputFormat": "输入第一行两个整数 $n,k$，表示表格的列数和相同数字的数量。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数表示从左至右第 $i$ 列的层数。", "outputFormat": "输出一行一个整数，表示方案总数 $\\bmod\\ 10^9+7$ 的结果。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，输入的数字都小于 $15$；\n- 对于 $70\\%$ 的数据，输入的数字都小于 $100$；\n- 对于 $100\\%$ 的数据，$1\\le n,k\\le 500$，层高不会超过 $10^6$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #4](https://hsin.hr/coci/archive/2008_2009/contest4_tasks.pdf) *T6 PERIODNI***。", "locale": "zh-CN"}}}
{"pid": "P6454", "type": "P", "difficulty": 5, "samples": [["9 13\n1 1 1 2 3 4 5 6 7 8 9 9 9\n", "9\n1 2 3 4 5 6 7 8 9"], ["9 13\n1 1 1 1 3 3 3 3 5 5 5 5 7\n", "1\n7"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "各省省选", "江苏", "O2优化"], "title": "麻将 加强版", "background": "此题我本来是想出公开赛的，没想到撞题了。\n\n题面是我自己撰写的，与原题不同。\n\n此题题意与 [P4050](https://www.luogu.com.cn/problem/P4050) 大致相同，**有少许不同**，**且数据范围有所更改**。\n\n------------\n\n小 A 喜欢打麻将。", "description": "小 A 找到了一副奇怪的麻将牌：只有一种 $1,2,\\cdots,n$ 的数牌，且每种牌都有**无穷多张**。\n\n定义「雀头」为两张一样的牌（如 $2,2$，$7,7$），「刻子」为三张一样的牌（如 $1,1,1$，$4,4,4$），「顺子」为三张序数相邻的牌（如 $1,2,3$，$9,10,11$，注意 $1$ 与 $n$ 不相邻）。「顺子」与「刻子」统称「面子」。\n\n假如你能把你的手牌分为若干组「雀头」（**可以相同**），或者分为若干组「面子」（**可以相同**）以及一组「雀头」，那么你就可以「和牌」。\n\n假如某副手牌加上某张牌后可以「和牌」，则称这副手牌「听」这张牌。\n\n现在小 A 随意摸了 $k$ 张牌，他想知道他「听」哪些牌。", "inputFormat": "第一行两个正整数 $n,k$，分别表示牌的范围和小 A 手上牌的张数。\n\n接下来一行 $k$ 个整数 $a_1,a_2,\\cdots,a_k$ 给出小 A 的手牌，每个数表示小 A 手上的一张牌。**不保证按升序给出。**", "outputFormat": "第一行一个正整数 $t$，表示小 A「听」的牌的种数。\n\n接下来一行 $t$ 个正整数，表示小 A「听」哪些牌。**请按照升序输出。**", "hint": "#### 样例解释\n\n样例一解释：这种牌型叫做[纯正九莲宝灯](https://zh.moegirl.org/%E6%97%A5%E6%9C%AC%E9%BA%BB%E5%B0%86:%E4%B9%9D%E8%8E%B2%E5%AE%9D%E7%81%AF)。~~折寿警告~~  \n具体划分方式：\n```plain\n1 111|123|456|789|99\n2 111|345|678|999|22\n3 123|345|678|999|11\n4 111|234|456|789|99\n5 111|234|678|999|55\n6 123|456|678|999|11\n7 111|234|567|789|99\n8 111|234|567|999|88\n9 123|456|789|999|11\n```\n\n[](https://i.loli.net/2020/04/18/TPvukw8pbHNnFC4.png)\n\n样例二解释：很显然这套牌差一张 $7$ 即可分为 $1,1;1,1;3,3;3,3;5,5;5,5;7,7$ 共计 $7$ 组「雀头」和牌。\n\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n- $\\text{Subtask\\;1(5\\;pts)}$：$k=1$。  \n- $\\text{Subtask\\;2(5\\;pts)}$：$n=1$。  \n- $\\text{Subtask\\;3(10\\;pts)}$：$n=9$。  \n- $\\text{Subtask\\;4(15\\;pts)}$：$k\\le 100$。  \n- $\\text{Subtask\\;5(15\\;pts)}$：$n\\le 100$。    \n- $\\text{Subtask\\;6(50\\;pts)}$：无特殊限制。  \n\n对于所有数据，$1\\le n\\le 5\\times10^3$，$1\\le k\\le 10^5$，$1\\le a_i\\le n$，$k\\equiv 1\\pmod 6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "麻将 加强版", "background": "此题我本来是想出公开赛的，没想到撞题了。\n\n题面是我自己撰写的，与原题不同。\n\n此题题意与 [P4050](https://www.luogu.com.cn/problem/P4050) 大致相同，**有少许不同**，**且数据范围有所更改**。\n\n------------\n\n小 A 喜欢打麻将。", "description": "小 A 找到了一副奇怪的麻将牌：只有一种 $1,2,\\cdots,n$ 的数牌，且每种牌都有**无穷多张**。\n\n定义「雀头」为两张一样的牌（如 $2,2$，$7,7$），「刻子」为三张一样的牌（如 $1,1,1$，$4,4,4$），「顺子」为三张序数相邻的牌（如 $1,2,3$，$9,10,11$，注意 $1$ 与 $n$ 不相邻）。「顺子」与「刻子」统称「面子」。\n\n假如你能把你的手牌分为若干组「雀头」（**可以相同**），或者分为若干组「面子」（**可以相同**）以及一组「雀头」，那么你就可以「和牌」。\n\n假如某副手牌加上某张牌后可以「和牌」，则称这副手牌「听」这张牌。\n\n现在小 A 随意摸了 $k$ 张牌，他想知道他「听」哪些牌。", "inputFormat": "第一行两个正整数 $n,k$，分别表示牌的范围和小 A 手上牌的张数。\n\n接下来一行 $k$ 个整数 $a_1,a_2,\\cdots,a_k$ 给出小 A 的手牌，每个数表示小 A 手上的一张牌。**不保证按升序给出。**", "outputFormat": "第一行一个正整数 $t$，表示小 A「听」的牌的种数。\n\n接下来一行 $t$ 个正整数，表示小 A「听」哪些牌。**请按照升序输出。**", "hint": "#### 样例解释\n\n样例一解释：这种牌型叫做[纯正九莲宝灯](https://zh.moegirl.org/%E6%97%A5%E6%9C%AC%E9%BA%BB%E5%B0%86:%E4%B9%9D%E8%8E%B2%E5%AE%9D%E7%81%AF)。~~折寿警告~~  \n具体划分方式：\n```plain\n1 111|123|456|789|99\n2 111|345|678|999|22\n3 123|345|678|999|11\n4 111|234|456|789|99\n5 111|234|678|999|55\n6 123|456|678|999|11\n7 111|234|567|789|99\n8 111|234|567|999|88\n9 123|456|789|999|11\n```\n\n[](https://i.loli.net/2020/04/18/TPvukw8pbHNnFC4.png)\n\n样例二解释：很显然这套牌差一张 $7$ 即可分为 $1,1;1,1;3,3;3,3;5,5;5,5;7,7$ 共计 $7$ 组「雀头」和牌。\n\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n- $\\text{Subtask\\;1(5\\;pts)}$：$k=1$。  \n- $\\text{Subtask\\;2(5\\;pts)}$：$n=1$。  \n- $\\text{Subtask\\;3(10\\;pts)}$：$n=9$。  \n- $\\text{Subtask\\;4(15\\;pts)}$：$k\\le 100$。  \n- $\\text{Subtask\\;5(15\\;pts)}$：$n\\le 100$。    \n- $\\text{Subtask\\;6(50\\;pts)}$：无特殊限制。  \n\n对于所有数据，$1\\le n\\le 5\\times10^3$，$1\\le k\\le 10^5$，$1\\le a_i\\le n$，$k\\equiv 1\\pmod 6$。", "locale": "zh-CN"}}}
{"pid": "P6455", "type": "P", "difficulty": 7, "samples": [["5 3 10 30\n0 7 14 21 28 ", "2 3 5 "], ["10 3 10 65\n0 7 15 24 30 36 41 49 57 63 ", "3 6 9"], ["30 10 50 169\n0 7 14 21 28 35 42 45 51 55 61 65 68 75 79 83 87 94 97 105 113 118 126 133 140 147 151 156 163 167 ", "3 5 8 11 15 19 21 24 27 30 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1600, 1600, 1600, 1600, 1600, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 3000, 3500], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "计算几何", "二分", "单调队列", "Special Judge", "分治", "随机调整", "凸完全单调性（wqs 二分）"], "title": "不可视境界线[环版本]", "background": "- 原题 : [P5617 [MtOI2019]不可视境界线](https://www.luogu.com.cn/problem/P5617)\n\n**附** : [关于本题的`SPJ`和数据的一些信息](https://www.luogu.com.cn/paste/tmwvh5vh)\n\n若出现卡精度或数据出锅,吊打标算等情况,请联系出题人。", "description": "有 $n$ 个半径为 $r$ 的圆,画在一个长度为 $L$ 的首尾相接的纸环上。\n\n所有的圆心都在同一高度,可以看做在纸上画一个数轴然后卷起来,圆心的位置用这个数轴上的点描述。\n\n如果无法理解纸环上圆的分布,可以查看样例解释以及子问题。\n\n要求选出 $k$ 个圆,使得所有圆的并面积最大。\n\n注意,您需要回答确切的选取方案而不是仅仅给出最大并面积。", "inputFormat": "第一行包含四个整数 $n,k,r,L$ ,意义如题目所述。\n\n第二行包含 $n$ 个整数,第 $i$ 个整数 $p[i]$ 描述了第 $i$ 个圆心在纸环上的位置(数轴上的坐标)。\n\n对于 $2<i<n$ ,有 $p[i-1]<p[i]$。", "outputFormat": "一行包含 $k$ 个整数,分别表示您选取的圆的编号,由`SPJ`来计算并面积。\n\n您需要保证这些编号严格递增,并且在 $[1,n]$ 以内,否则被认为不合法而不得分。\n\n与标准答案**相对误差**不超过 $10^{-9}$ ,**且绝对误差**不超过 $0.1$ 则认为正确。\n\n通过估算,答案不会超过 $10^{12}$ 量级。", "hint": "**样例解释** : \n\n- **样例1** : 最终的并面积约为 $565.871835$。\n\n圆的分布如图所示,其中, $⊙A$ 和 $⊙A2$ 是同一个圆, $⊙B$ 和 $⊙B2$ 是同一个圆。\n\n可以视作向右平移 $L=30$ 个单位长度而得,事实上就相当于在纸环上绕了一圈回到起点。\n\n由于是同一个圆,被红色部分覆盖的面积不能重复计算,最大的并面积即为蓝色部分的面积。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g2dk0sqv.png)\n\n- **样例2** : 最终的并面积约为 $942.477796$。\n\n- **样例3** : 最终的并面积约为 $16817.058547$。\n\n**数据范围与约定** :\n\n| 子任务编号 | n | k | 时限 |\n| :--: | :--: | :--: | :--: |\n| 1 | $10$ | - | $\\texttt{1s}$ |\n| 2 | $100$ | - | $\\texttt{1s}$ |\n| 3 | $2000$ | - | $\\texttt{1.6s}$ |\n| 4 | $3\\times 10^4$ | $100$ | $\\texttt{2.2s}$ |\n| 5 | $1\\times 10^5$ | - | $\\texttt{3s}$ |\n\n时限在 `std` 耗时的两倍以上。\n\n对于所有的数据, $n\\leq 10^5$，$10\\leq r\\leq 2000$，$0\\leq p[i]< L\\leq 10^8$，$4r<L$，$3\\leq k \\leq n$。\n\n表格中均为上界。注意,一些下界限制可能帮助省去了问题的某些边界情况。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "不可视境界线[环版本]", "background": "- 原题 : [P5617 [MtOI2019]不可视境界线](https://www.luogu.com.cn/problem/P5617)\n\n**附** : [关于本题的`SPJ`和数据的一些信息](https://www.luogu.com.cn/paste/tmwvh5vh)\n\n若出现卡精度或数据出锅,吊打标算等情况,请联系出题人。", "description": "有 $n$ 个半径为 $r$ 的圆,画在一个长度为 $L$ 的首尾相接的纸环上。\n\n所有的圆心都在同一高度,可以看做在纸上画一个数轴然后卷起来,圆心的位置用这个数轴上的点描述。\n\n如果无法理解纸环上圆的分布,可以查看样例解释以及子问题。\n\n要求选出 $k$ 个圆,使得所有圆的并面积最大。\n\n注意,您需要回答确切的选取方案而不是仅仅给出最大并面积。", "inputFormat": "第一行包含四个整数 $n,k,r,L$ ,意义如题目所述。\n\n第二行包含 $n$ 个整数,第 $i$ 个整数 $p[i]$ 描述了第 $i$ 个圆心在纸环上的位置(数轴上的坐标)。\n\n对于 $2<i<n$ ,有 $p[i-1]<p[i]$。", "outputFormat": "一行包含 $k$ 个整数,分别表示您选取的圆的编号,由`SPJ`来计算并面积。\n\n您需要保证这些编号严格递增,并且在 $[1,n]$ 以内,否则被认为不合法而不得分。\n\n与标准答案**相对误差**不超过 $10^{-9}$ ,**且绝对误差**不超过 $0.1$ 则认为正确。\n\n通过估算,答案不会超过 $10^{12}$ 量级。", "hint": "**样例解释** : \n\n- **样例1** : 最终的并面积约为 $565.871835$。\n\n圆的分布如图所示,其中, $⊙A$ 和 $⊙A2$ 是同一个圆, $⊙B$ 和 $⊙B2$ 是同一个圆。\n\n可以视作向右平移 $L=30$ 个单位长度而得,事实上就相当于在纸环上绕了一圈回到起点。\n\n由于是同一个圆,被红色部分覆盖的面积不能重复计算,最大的并面积即为蓝色部分的面积。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g2dk0sqv.png)\n\n- **样例2** : 最终的并面积约为 $942.477796$。\n\n- **样例3** : 最终的并面积约为 $16817.058547$。\n\n**数据范围与约定** :\n\n| 子任务编号 | n | k | 时限 |\n| :--: | :--: | :--: | :--: |\n| 1 | $10$ | - | $\\texttt{1s}$ |\n| 2 | $100$ | - | $\\texttt{1s}$ |\n| 3 | $2000$ | - | $\\texttt{1.6s}$ |\n| 4 | $3\\times 10^4$ | $100$ | $\\texttt{2.2s}$ |\n| 5 | $1\\times 10^5$ | - | $\\texttt{3s}$ |\n\n时限在 `std` 耗时的两倍以上。\n\n对于所有的数据, $n\\leq 10^5$，$10\\leq r\\leq 2000$，$0\\leq p[i]< L\\leq 10^8$，$4r<L$，$3\\leq k \\leq n$。\n\n表格中均为上界。注意,一些下界限制可能帮助省去了问题的某些边界情况。", "locale": "zh-CN"}}}
{"pid": "P6456", "type": "P", "difficulty": 4, "samples": [["11\nsabcabcfabc", "3"], ["18\ntrutrutiktiktappop", "4"], ["6\nabcdef", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "二分", "哈希 hashing", "后缀数组 SA", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #5] DVAPUT", "background": "", "description": "给定一个长度为 $L$ 的字符串，你需要找出一个最长的子串，**并且使得这个子串在字符串中出现了至少两次**（在不同的位置）。输出它的长度。", "inputFormat": "输入第一行一个整数 $L$，表示字符串的长度。\n\n第二行为一个长度为 $L$ 的字符串。", "outputFormat": "输出一行一个整数，表示这个最长串的长度。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le L\\le 2\\times 10^5$，输入的字符串都为小写字母。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T6 DVAPUT***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #5] DVAPUT", "background": "", "description": "给定一个长度为 $L$ 的字符串，你需要找出一个最长的子串，**并且使得这个子串在字符串中出现了至少两次**（在不同的位置）。输出它的长度。", "inputFormat": "输入第一行一个整数 $L$，表示字符串的长度。\n\n第二行为一个长度为 $L$ 的字符串。", "outputFormat": "输出一行一个整数，表示这个最长串的长度。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le L\\le 2\\times 10^5$，输入的字符串都为小写字母。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T6 DVAPUT***。", "locale": "zh-CN"}}}
{"pid": "P6457", "type": "P", "difficulty": 4, "samples": [["3\n3 1 5", "3"], ["4\n1 2 3 4", "2"], ["8\n4 10 5 2 9 8 1 7", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #5] IVANA", "background": "", "description": "给定 $n$ 个整数排成一圈，两位玩家进行如下的取数规则：\n\n- 第一次取数的玩家可以取任意一个数；\n- 第二次取数的玩家只能从上一次取得数的左右两边相邻的两个数中取一个；\n- 第三次取数的玩家可以从之前所有取过的任意一个数的左右两边相邻的两个数中取一个；\n\n其中，与第一个数和第 $n$ 个数相邻的只有一个数。\n\n两位玩家轮流取数。在所有的数都被取完之后，取得奇数多的玩家胜利。\n\n请你找出，先手玩家有多少种不同的开局方法，使得自己能够赢得比赛。", "inputFormat": "输入第一行一个整数 $n$ ,表示数字的数量。\n\n第二行 $n$ 个数，表示具体的数字。", "outputFormat": "输出一行一个整数，表示先手玩家赢得比赛的开局种类数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，读入的数字都在 $1\\sim 1000$ 之间。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T5 IVANA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #5] IVANA", "background": "", "description": "给定 $n$ 个整数排成一圈，两位玩家进行如下的取数规则：\n\n- 第一次取数的玩家可以取任意一个数；\n- 第二次取数的玩家只能从上一次取得数的左右两边相邻的两个数中取一个；\n- 第三次取数的玩家可以从之前所有取过的任意一个数的左右两边相邻的两个数中取一个；\n\n其中，与第一个数和第 $n$ 个数相邻的只有一个数。\n\n两位玩家轮流取数。在所有的数都被取完之后，取得奇数多的玩家胜利。\n\n请你找出，先手玩家有多少种不同的开局方法，使得自己能够赢得比赛。", "inputFormat": "输入第一行一个整数 $n$ ,表示数字的数量。\n\n第二行 $n$ 个数，表示具体的数字。", "outputFormat": "输出一行一个整数，表示先手玩家赢得比赛的开局种类数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，读入的数字都在 $1\\sim 1000$ 之间。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T5 IVANA***。", "locale": "zh-CN"}}}
{"pid": "P6458", "type": "P", "difficulty": 2, "samples": [["5\n27 21 3 3 66\n27 18 6 3 ?\n? 15 5 7 50\n? 14 7 5 ?\n? 14 ? 8 47", "27 21 3 3 66\n27 18 6 3 60\n27 15 5 7 50\n26 14 7 5 49\n27 14 5 8 47"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #5] LIGA", "background": "", "description": "一共有 $n$ 支队伍参加了一场大赛。每支队伍会有 $5$ 个参数：总参加场次、胜场数、平场数、负场数和得分。其中，每胜一场记 $3$ 分，每平一场记 $1$ 分，负场不计分。\n\n但由于统计表收到了污损，一些数据看不清了（用 `?` 表示），所以你需要根据其他数据进行推理，补全表格。\n\n已知每队最多进行 $100$ 场比赛，保证每处污损都有唯一的原数据与之对应。\n\n注意，可能所有队伍的获胜场数不符合比赛的逻辑，可以把每支队伍看成独立的个体。", "inputFormat": "输入第一行一个整数 $n$，表示队伍的数量。\n\n接下来的 $n$ 行，每行 $5$ 个整数或者 `?`，依次为总参加场次、胜场数、平场数、负场数和得分。\n\n", "outputFormat": "输出共 $n$ 行，每行 $5$ 个整数，为数据全部恢复后的表格。\n\n**保证有唯一解。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 1000$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T4 LIGA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #5] LIGA", "background": "", "description": "一共有 $n$ 支队伍参加了一场大赛。每支队伍会有 $5$ 个参数：总参加场次、胜场数、平场数、负场数和得分。其中，每胜一场记 $3$ 分，每平一场记 $1$ 分，负场不计分。\n\n但由于统计表收到了污损，一些数据看不清了（用 `?` 表示），所以你需要根据其他数据进行推理，补全表格。\n\n已知每队最多进行 $100$ 场比赛，保证每处污损都有唯一的原数据与之对应。\n\n注意，可能所有队伍的获胜场数不符合比赛的逻辑，可以把每支队伍看成独立的个体。", "inputFormat": "输入第一行一个整数 $n$，表示队伍的数量。\n\n接下来的 $n$ 行，每行 $5$ 个整数或者 `?`，依次为总参加场次、胜场数、平场数、负场数和得分。\n\n", "outputFormat": "输出共 $n$ 行，每行 $5$ 个整数，为数据全部恢复后的表格。\n\n**保证有唯一解。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 1000$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T4 LIGA***。", "locale": "zh-CN"}}}
{"pid": "P6459", "type": "P", "difficulty": 3, "samples": [["sampras agassi\n6\n6:2 6:4\n3:6 7:5 2:6\n6:5 7:4\n7:6 7:6\n6:2 3:6\n6:2 1:6 6:8", "da\nda\nne\nda\nne\nda"], ["federer roddick\n1\n2:6 4:6", "ne"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [31998, 31998, 31998, 31998, 31998, 31998, 31998, 31998, 31998, 31998]}, "tags": ["模拟", "字符串", "2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #5] TENIS", "background": null, "description": "两个球员正常进行一次网球比赛，比赛由 $n$ 轮组成，每一轮都会进行 $1\\sim 5$ 次对决不等。每次对决的结果用 `A:B` 表示，其中 `A` 为第一个球员的获胜场次，`B` 为第二个球员的获胜场次。\n\n比赛有以下规则：\n- 如果其中一个球员获胜了 $6$ 个球及以上，并且他比另一个球员至少多获胜两个球，那么这一次对决他就胜利了；\n- 此外，如果第一、二次对决的结果都是 `6:6` 那么将会进行一轮决赛来准确的得出一位球员获胜；\n- 当有一名球员获胜两次对决时，他就是这轮比赛的胜者，且这轮比赛结束。\n\n如果一轮比赛按照上述规则顺利进行，并且最终得以结束，那么我们就认为这轮是有效的。\n\n但是，有一名特殊的球员——`federer`，他不会输掉任意一次对决。（因为我们知道他来自外太空……）\n\n你需要检验这 $n$ 轮比赛是否有效。", "inputFormat": "输入第一行两个字符串，用空格隔开，表示两名参赛的选手。\n\n第二行为一个整数 $n$，表示一共进行了 $n$ 轮比赛。\n\n接下来的 $n$ 行，每行有 $1\\sim 5$ 个形如 `A:B` 的对决结果。保证 `A` `B` 是介于 $0\\sim 99$ 之间的整数。", "outputFormat": "输出共 $n$ 行。\n\n对于每轮比赛，输出 `da` 表示结果有效或输出 `ne` 表示结果无效。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 50$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T3 TENIS***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #5] TENIS", "background": null, "description": "两个球员正常进行一次网球比赛，比赛由 $n$ 轮组成，每一轮都会进行 $1\\sim 5$ 次对决不等。每次对决的结果用 `A:B` 表示，其中 `A` 为第一个球员的获胜场次，`B` 为第二个球员的获胜场次。\n\n比赛有以下规则：\n- 如果其中一个球员获胜了 $6$ 个球及以上，并且他比另一个球员至少多获胜两个球，那么这一次对决他就胜利了；\n- 此外，如果第一、二次对决的结果都是 `6:6` 那么将会进行一轮决赛来准确的得出一位球员获胜；\n- 当有一名球员获胜两次对决时，他就是这轮比赛的胜者，且这轮比赛结束。\n\n如果一轮比赛按照上述规则顺利进行，并且最终得以结束，那么我们就认为这轮是有效的。\n\n但是，有一名特殊的球员——`federer`，他不会输掉任意一次对决。（因为我们知道他来自外太空……）\n\n你需要检验这 $n$ 轮比赛是否有效。", "inputFormat": "输入第一行两个字符串，用空格隔开，表示两名参赛的选手。\n\n第二行为一个整数 $n$，表示一共进行了 $n$ 轮比赛。\n\n接下来的 $n$ 行，每行有 $1\\sim 5$ 个形如 `A:B` 的对决结果。保证 `A` `B` 是介于 $0\\sim 99$ 之间的整数。", "outputFormat": "输出共 $n$ 行。\n\n对于每轮比赛，输出 `da` 表示结果有效或输出 `ne` 表示结果无效。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 50$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T3 TENIS***。", "locale": "zh-CN"}}}
{"pid": "P6460", "type": "P", "difficulty": 2, "samples": [["20:00:00\n04:00:00", "08:00:00"], ["12:34:56\n14:36:22", "02:01:26"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #5] NATRIJ", "background": null, "description": "给定一个起始时间和结束时间，你需要求出这段时间间隔是多长。\n\n保证时间间隔至少是 $1$ 秒钟，最多是 $24$ 小时。", "inputFormat": "输入共两行，每行一个字符串，分别表示起始时间和结束时间。格式为 `hh:mm:ss`（时，分，秒）。\n\n输入保证小时为 $0\\sim 23$ 之间的整数，分钟和秒钟为 $0\\sim 59$ 之间的整数。", "outputFormat": "输出一行一个字符串，表示间隔的时间，格式同输入。", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T2 NATRIJ***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #5] NATRIJ", "background": null, "description": "给定一个起始时间和结束时间，你需要求出这段时间间隔是多长。\n\n保证时间间隔至少是 $1$ 秒钟，最多是 $24$ 小时。", "inputFormat": "输入共两行，每行一个字符串，分别表示起始时间和结束时间。格式为 `hh:mm:ss`（时，分，秒）。\n\n输入保证小时为 $0\\sim 23$ 之间的整数，分钟和秒钟为 $0\\sim 59$ 之间的整数。", "outputFormat": "输出一行一个字符串，表示间隔的时间，格式同输入。", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T2 NATRIJ***。", "locale": "zh-CN"}}}
{"pid": "P6461", "type": "P", "difficulty": 1, "samples": [["AB", "3"], ["CBABCACCC", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #5] TRIK", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/edzc5xa4.png)\n\n有三个杯口朝下的杯子，其中有一个小球在最左边的杯子下。\n\n接下来，对这三个杯子进行一系列的换位操作，操作用一个字符串来表示，其中 `A` `B` `C` 分别对应了上图所示的三种换位方式。\n\n你需要找出最终小球在哪个杯子下面。", "inputFormat": "输入一行一个字符串，表示操作的顺序，保证操作数不超过 $50$ ，且每个字母都为 `A` `B` `C` 中的一种，无空格。", "outputFormat": "输出一行一个整数：\n\n- 如果球在左边的杯子下：输出 $1$；\n- 如果球在中间的杯子下：输出 $2$；\n- 如果球在右边的杯子下：输出 $3$。\n", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T1 TRIK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2006/2007 #5] TRIK", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/edzc5xa4.png)\n\n有三个杯口朝下的杯子，其中有一个小球在最左边的杯子下。\n\n接下来，对这三个杯子进行一系列的换位操作，操作用一个字符串来表示，其中 `A` `B` `C` 分别对应了上图所示的三种换位方式。\n\n你需要找出最终小球在哪个杯子下面。", "inputFormat": "输入一行一个字符串，表示操作的顺序，保证操作数不超过 $50$ ，且每个字母都为 `A` `B` `C` 中的一种，无空格。", "outputFormat": "输出一行一个整数：\n\n- 如果球在左边的杯子下：输出 $1$；\n- 如果球在中间的杯子下：输出 $2$；\n- 如果球在右边的杯子下：输出 $3$。\n", "hint": "#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [CONTEST #5](https://hsin.hr/coci/archive/2006_2007/contest5_tasks.pdf) *T1 TRIK***。", "locale": "zh-CN"}}}
{"pid": "P6462", "type": "P", "difficulty": 3, "samples": [["5\n100 100 1\n100 97 1\n100 98 1\n100 99 1\n100 100 0", "No\nNo\nYes\nYes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "传智杯"], "title": "[传智杯 #2 决赛] 补刀", "background": "", "description": "UIM 在写程序的空闲玩一款 MOBA 游戏。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j6t4jmrd.png)\n\n当敌方的小兵进入到我方防御塔的范围内，就会持续受到防御塔造成的伤害；当然我方英雄也可以对它造成伤害。当小兵的血量降到了 0 或者更低，就会被击杀。为了获得经验，UIM 希望在防御塔将这个小兵杀死之前，亲自补刀将其击杀。\n\n为了简化问题，我们假设这个小兵有 $h$ 点的生命值。每次防御塔的攻击可以给小兵造成 $x$ 点伤害，而你的英雄每次攻击可以给小兵造成 $y$ 点伤害。你的攻击速度和防御塔攻击速度相同，所以你可以在防御塔第一次攻击小兵之前，或者每次防御塔攻击之后，选择是否对小兵进行一次攻击，当然你也可以选择不攻击。\n\n现在想知道，给出这些信息，判断英雄是否有办法将这个小兵击杀？", "inputFormat": "每个测试点由多组数据组成。\n\n输入第一行，包含一个正整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行三个非负整数 $h,x,y$，其意义已经在题目描述中给出。", "outputFormat": "输出 $T$ 行。对于每组数据，如果可以最后将小兵击杀，输出 `Yes`，否则输出 `No`。", "hint": "数据的组数不多于 50，$1\\le h \\le 10^{18}$，$0\\le x,y \\le 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 决赛] 补刀", "background": "", "description": "UIM 在写程序的空闲玩一款 MOBA 游戏。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j6t4jmrd.png)\n\n当敌方的小兵进入到我方防御塔的范围内，就会持续受到防御塔造成的伤害；当然我方英雄也可以对它造成伤害。当小兵的血量降到了 0 或者更低，就会被击杀。为了获得经验，UIM 希望在防御塔将这个小兵杀死之前，亲自补刀将其击杀。\n\n为了简化问题，我们假设这个小兵有 $h$ 点的生命值。每次防御塔的攻击可以给小兵造成 $x$ 点伤害，而你的英雄每次攻击可以给小兵造成 $y$ 点伤害。你的攻击速度和防御塔攻击速度相同，所以你可以在防御塔第一次攻击小兵之前，或者每次防御塔攻击之后，选择是否对小兵进行一次攻击，当然你也可以选择不攻击。\n\n现在想知道，给出这些信息，判断英雄是否有办法将这个小兵击杀？", "inputFormat": "每个测试点由多组数据组成。\n\n输入第一行，包含一个正整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行三个非负整数 $h,x,y$，其意义已经在题目描述中给出。", "outputFormat": "输出 $T$ 行。对于每组数据，如果可以最后将小兵击杀，输出 `Yes`，否则输出 `No`。", "hint": "数据的组数不多于 50，$1\\le h \\le 10^{18}$，$0\\le x,y \\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P6463", "type": "P", "difficulty": 3, "samples": [["3\n5 5 10\n1 1 1 1 1\n1 2 1 1 1\n1 1 1 1 1\n1 1 1 2 1\n1 1 1 1 1\n5 5 5\n1 1 1 1 1\n1 2 1 1 1\n1 1 1 1 1\n1 1 1 2 1\n1 1 1 1 1\n1 1 1000000000\n2", "3\n2\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["传智杯"], "title": "[传智杯 #2 决赛] 建设岛屿", "background": "", "description": "“动物森友会”是一款自由度很高的游戏，可以在自己的无人岛上建房子、种花种树，还能钓鲈鱼。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hd1w4hsq.png)\n\n如果一个 $(2k-1)\\times(2k-1)$ 的正方形土地满足最外圈的高度是 1，第二圈的高度是 2……以此类推，它就是一个高度为 k 的金字塔。下图是高度为 1 到 4 的金字塔的示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5gix9oyp.png)\n\n\n小 A 的岛大小是 $n\\times m$ 的矩形，每个位置的高度都是已知的。他想要建造一个大大的金字塔。他拥有最多 $k$ 次改造地形机会，每次可以选择一个坐标，将这个点的高度增加 1，但是不能减少高度。请问，他能完成的金字塔的最高高度是多少？", "inputFormat": "每个测试点由多组数据组成。\n\n第一行为一个整数 $T$，代表数据的组数。\n\n对于每组数据，第一行是三个整数 $n,m,k$，表示岛的大小和操作次数上限。接下来是个 $n$ 行 $m$ 列的矩阵，表示最开始的高度，每个数字之间用空格分隔。", "outputFormat": "输出 $T$ 行，对于每行，都输出一个整数，表示每组数据下可以完成金字塔的最大高度。", "hint": "对于所有测试数据，$1\\le T \\le 5$，$1 \\le n,m \\le 350$，$1\\le k \\le 10^8$，初始高度 0 到 50 的非负整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 决赛] 建设岛屿", "background": "", "description": "“动物森友会”是一款自由度很高的游戏，可以在自己的无人岛上建房子、种花种树，还能钓鲈鱼。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hd1w4hsq.png)\n\n如果一个 $(2k-1)\\times(2k-1)$ 的正方形土地满足最外圈的高度是 1，第二圈的高度是 2……以此类推，它就是一个高度为 k 的金字塔。下图是高度为 1 到 4 的金字塔的示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5gix9oyp.png)\n\n\n小 A 的岛大小是 $n\\times m$ 的矩形，每个位置的高度都是已知的。他想要建造一个大大的金字塔。他拥有最多 $k$ 次改造地形机会，每次可以选择一个坐标，将这个点的高度增加 1，但是不能减少高度。请问，他能完成的金字塔的最高高度是多少？", "inputFormat": "每个测试点由多组数据组成。\n\n第一行为一个整数 $T$，代表数据的组数。\n\n对于每组数据，第一行是三个整数 $n,m,k$，表示岛的大小和操作次数上限。接下来是个 $n$ 行 $m$ 列的矩阵，表示最开始的高度，每个数字之间用空格分隔。", "outputFormat": "输出 $T$ 行，对于每行，都输出一个整数，表示每组数据下可以完成金字塔的最大高度。", "hint": "对于所有测试数据，$1\\le T \\le 5$，$1 \\le n,m \\le 350$，$1\\le k \\le 10^8$，初始高度 0 到 50 的非负整数。", "locale": "zh-CN"}}}
{"pid": "P6464", "type": "P", "difficulty": 4, "samples": [["4 5\n1 2 3\n1 3 6\n2 3 4\n2 4 7\n3 4 2\n", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "最短路", "传智杯"], "title": "[传智杯 #2 决赛] 传送门", "background": "", "description": "传智专修学院里有 $n$ 栋教学楼，有 $m$ 条双向通行道路连接这些教学楼，不存在重边和自环。每条道路都有一定的长度，而且所有教学楼之间都可以直接或者间接的通过道路到达。我们可以很容易的求出这些教学楼之间的最短路。\n\n为了使交通更为顺畅，校方决定在两个教学楼里增设一对传送门。传送门可以将这对教学楼的距离直接缩短为 0。利用传送门，某些教学楼之间的最短路的距离就变短了。\n\n由于预算有限，学校里只能安装一对传送门。但是校长希望尽可能方便学生，使任意两点之间的最短路长度的总和最小。当然啦，从 $x$ 教学楼到 $y$ 教学楼的长度和从 $y$ 教学楼到 $x$ 教学楼的长度只需要统计一次就可以了。", "inputFormat": "输入第 1 行两个正整数 $n,m(n\\le 100,m\\le\\frac{1}{2}n(n-1))$，代表教学楼和道路数量。\n\n接下来 $m$ 行，每行三个正整数 $x_i,y_i,w_i(0 <w_i \\le 10^4)$，表示在教学楼 $x_i$  和 $y_i$  之间，有一条长度为 $w_i$  的道路。\n", "outputFormat": "输出一行，在最优方案下的任意点对的最短道路之和。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/2mjfn32x.png)\n\n样例如图。当在 1 和 4 号教学楼架设一对传送门时，1 → 2 的最短路是 3，1 → 3 的最短路是 0+2，1 → 4 的最短路是 0，2 → 3 的最短路是 4，2 → 4 的最短路是 3+0，3 → 4 的最短路是 2，最短路之和是 14，是最佳方案。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 决赛] 传送门", "background": "", "description": "传智专修学院里有 $n$ 栋教学楼，有 $m$ 条双向通行道路连接这些教学楼，不存在重边和自环。每条道路都有一定的长度，而且所有教学楼之间都可以直接或者间接的通过道路到达。我们可以很容易的求出这些教学楼之间的最短路。\n\n为了使交通更为顺畅，校方决定在两个教学楼里增设一对传送门。传送门可以将这对教学楼的距离直接缩短为 0。利用传送门，某些教学楼之间的最短路的距离就变短了。\n\n由于预算有限，学校里只能安装一对传送门。但是校长希望尽可能方便学生，使任意两点之间的最短路长度的总和最小。当然啦，从 $x$ 教学楼到 $y$ 教学楼的长度和从 $y$ 教学楼到 $x$ 教学楼的长度只需要统计一次就可以了。", "inputFormat": "输入第 1 行两个正整数 $n,m(n\\le 100,m\\le\\frac{1}{2}n(n-1))$，代表教学楼和道路数量。\n\n接下来 $m$ 行，每行三个正整数 $x_i,y_i,w_i(0 <w_i \\le 10^4)$，表示在教学楼 $x_i$  和 $y_i$  之间，有一条长度为 $w_i$  的道路。\n", "outputFormat": "输出一行，在最优方案下的任意点对的最短道路之和。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/2mjfn32x.png)\n\n样例如图。当在 1 和 4 号教学楼架设一对传送门时，1 → 2 的最短路是 3，1 → 3 的最短路是 0+2，1 → 4 的最短路是 0，2 → 3 的最短路是 4，2 → 4 的最短路是 3+0，3 → 4 的最短路是 2，最短路之和是 14，是最佳方案。", "locale": "zh-CN"}}}
{"pid": "P6465", "type": "P", "difficulty": 4, "samples": [["2\n3 1\n1 2 3\n5 3\n1 2 3 1 1", "3\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分", "双指针 two-pointer", "传智杯"], "title": "[传智杯 #2 决赛] 课程安排", "background": "", "description": "传智播客的课表上按顺序提供 $n$ 节课程，课程可能是 Java、Python 或者前端开发等等，我们用不超过 $n$ 的正数代表每一节课程的种类。学员可以从这个课程序列选取连续的一小段的课程序列，作为一周的学习任务。\n\n为了使学习任务不那么枯燥，学员不想连续上两节相同的课。特殊的，这一周学习任务的开头和结尾也不能是相同的课。为了保证学习效果，一周内至少要学完 $l$ 节课程。\n\n请问，我们有多少种合法的选课方案？\n\n两种选课方案，只要选取的课程序列在原序列的开头和结尾有至少一个位置不一致，那么就可以认为是不同的选课方案。注意，即使 $l$ 是 1，一周只安排一次课也是不合法的，至少需要安排 2 次课。", "inputFormat": "每个测试点由多组数据组成。\n\n第一行为一个整数 $T$，代表数据的组数。\n\n对于每组数据，第一行输入两个正整数 $n$ 和 $l$。接下来一行输入 $n$ 个非负整数 $c_i$ 表示课程种类编号。", "outputFormat": "对于每组数据，输出一行一个数，表示方案数。", "hint": "**样例解释**\n\n对于第一组数据，有 [1,2] 和 [2,3] 和 [1,2,3] 三种方法。\n\n对于第二组数据，由于至少要选 3 门课，只有 [1,2,3] 和 [2,3,1] 两种方法。\n\n**数据范围**\n\n测试数据不超过 5 组，$1\\le N \\le 5 \\times 10^5$，$1\\le l,c_i \\le N$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[传智杯 #2 决赛] 课程安排", "background": "", "description": "传智播客的课表上按顺序提供 $n$ 节课程，课程可能是 Java、Python 或者前端开发等等，我们用不超过 $n$ 的正数代表每一节课程的种类。学员可以从这个课程序列选取连续的一小段的课程序列，作为一周的学习任务。\n\n为了使学习任务不那么枯燥，学员不想连续上两节相同的课。特殊的，这一周学习任务的开头和结尾也不能是相同的课。为了保证学习效果，一周内至少要学完 $l$ 节课程。\n\n请问，我们有多少种合法的选课方案？\n\n两种选课方案，只要选取的课程序列在原序列的开头和结尾有至少一个位置不一致，那么就可以认为是不同的选课方案。注意，即使 $l$ 是 1，一周只安排一次课也是不合法的，至少需要安排 2 次课。", "inputFormat": "每个测试点由多组数据组成。\n\n第一行为一个整数 $T$，代表数据的组数。\n\n对于每组数据，第一行输入两个正整数 $n$ 和 $l$。接下来一行输入 $n$ 个非负整数 $c_i$ 表示课程种类编号。", "outputFormat": "对于每组数据，输出一行一个数，表示方案数。", "hint": "**样例解释**\n\n对于第一组数据，有 [1,2] 和 [2,3] 和 [1,2,3] 三种方法。\n\n对于第二组数据，由于至少要选 3 门课，只有 [1,2,3] 和 [2,3,1] 两种方法。\n\n**数据范围**\n\n测试数据不超过 5 组，$1\\le N \\le 5 \\times 10^5$，$1\\le l,c_i \\le N$", "locale": "zh-CN"}}}
{"pid": "P6466", "type": "P", "difficulty": 6, "samples": [["6 3 8 1\n1 4 6 7 10 20 \n2 3 8 11 14 18 \n5 9 12 13 15 17 \n20\n6\n9\n4\n29\n5\n14\n9", "20\n6\n9\n23\n13\n11\n11\n3"], ["2 4 1 1\n64 65\n25 26\n44 62\n35 81\n81", "81"], ["20 4 10 1\n553 897 1333 1949 2261 2541 2901 3133 3209 3713 4373 4749 5761 7405 8733 10417 13013 15185 16825 16981 \n246 750 806 1534 2274 2470 2486 3278 3954 4618 5306 5638 6114 6310 7106 7522 7734 8170 8702 8974 \n1047 1275 2347 2711 3607 4719 5911 6051 7099 7519 8087 8435 8499 8687 8835 10151 10491 11159 11915 12483 \n548 1392 2188 3260 3404 3768 5076 5668 5732 6612 7284 7492 8900 9008 9536 9768 11160 12096 12300 13100 \n3133\n3331\n4139\n2685\n2229\n1163\n3228\n2694\n3913\n7058", "600\n8156\n676\n1176\n600\n3800\n8\n432\n8156\n320"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["二分", "O2优化", "排序", "分散层叠"], "title": "分散层叠算法(Fractional Cascading)", "background": "`Fractional Cascading` 算法，国内多译为“分散层叠”。\n\n本题仅提供一个简单而经典的方式给算法验证正确性，原则上会尽量卡掉比较暴力的做法，但不保证乱搞一定无法通过。", "description": "给出 $k$ 个长度为 $n$ 的**有序数组**。\n\n现在有 $q$ 个查询 : 给出数 $x$，分别求出每个数组中大于等于 $x$ 的最小的数(非严格后继)。\n\n若后继不存在，则定义为 $0$。\n\n每个查询的答案定义为 $k$ 个后继的**异或和**。\n\n你需要**在线地**回答这些询问。\n\n由于输出太多不好，给出参数 $d$，你只需要输出编号为 $d$ 的倍数的询问的答案。询问从 $1$ 开始编号。\n\n", "inputFormat": "第一行四个整数 $n,k,q,d$，意义如题面所述。\n\n后 $k$ 行，每行 $n$ 个整数，描述一个数组。**所有数组中出现过的数不重复**，保证每个数组严格递增。\n\n后 $q$ 行，每行一个整数 $x$，描述一个询问。\n\n输入中所得的 $x$ 需要与上一个询问的答案(**无论是否输出**)异或解密，如果这是第一个询问，则无需操作。", "outputFormat": "对于编号为 $d$ 的倍数的每个询问，输出一行一个整数，表示  $k$ 个后继的异或和。", "hint": "#### 样例解释\n\n对于样例 1，解密后的数据为:\n\n```cpp\n6 3 8 1\n1 4 6 7 10 20\n2 3 8 11 14 18\n5 9 12 13 15 17\n20\n18\n15\n13\n10\n8\n5\n2\n```\n---\n#### 数据规模的与约定\n- 对于 $20\\%$ 的数据，$k\\leq 10$，$n\\leq 1000$，$q\\leq 1000$。\n- 对于 $50\\%$ 的数据，$k\\leq 10$，$q\\leq 2\\times 10^5$。\n- 对于 $100\\%$ 的数据，$1 \\leq k\\leq 100$，$2\\leq n\\leq 10^4$，$q\\leq 5\\times 10^5$，$1\\leq d\\leq 10$，解密后输入中出现的数均在 $[1,5\\times 10^8)$ 范围内。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "分散层叠算法(Fractional Cascading)", "background": "`Fractional Cascading` 算法，国内多译为“分散层叠”。\n\n本题仅提供一个简单而经典的方式给算法验证正确性，原则上会尽量卡掉比较暴力的做法，但不保证乱搞一定无法通过。", "description": "给出 $k$ 个长度为 $n$ 的**有序数组**。\n\n现在有 $q$ 个查询 : 给出数 $x$，分别求出每个数组中大于等于 $x$ 的最小的数(非严格后继)。\n\n若后继不存在，则定义为 $0$。\n\n每个查询的答案定义为 $k$ 个后继的**异或和**。\n\n你需要**在线地**回答这些询问。\n\n由于输出太多不好，给出参数 $d$，你只需要输出编号为 $d$ 的倍数的询问的答案。询问从 $1$ 开始编号。\n\n", "inputFormat": "第一行四个整数 $n,k,q,d$，意义如题面所述。\n\n后 $k$ 行，每行 $n$ 个整数，描述一个数组。**所有数组中出现过的数不重复**，保证每个数组严格递增。\n\n后 $q$ 行，每行一个整数 $x$，描述一个询问。\n\n输入中所得的 $x$ 需要与上一个询问的答案(**无论是否输出**)异或解密，如果这是第一个询问，则无需操作。", "outputFormat": "对于编号为 $d$ 的倍数的每个询问，输出一行一个整数，表示  $k$ 个后继的异或和。", "hint": "#### 样例解释\n\n对于样例 1，解密后的数据为:\n\n```cpp\n6 3 8 1\n1 4 6 7 10 20\n2 3 8 11 14 18\n5 9 12 13 15 17\n20\n18\n15\n13\n10\n8\n5\n2\n```\n---\n#### 数据规模的与约定\n- 对于 $20\\%$ 的数据，$k\\leq 10$，$n\\leq 1000$，$q\\leq 1000$。\n- 对于 $50\\%$ 的数据，$k\\leq 10$，$q\\leq 2\\times 10^5$。\n- 对于 $100\\%$ 的数据，$1 \\leq k\\leq 100$，$2\\leq n\\leq 10^4$，$q\\leq 5\\times 10^5$，$1\\leq d\\leq 10$，解密后输入中出现的数均在 $[1,5\\times 10^8)$ 范围内。", "locale": "zh-CN"}}}
{"pid": "P6467", "type": "P", "difficulty": 2, "samples": [["1000\n*\n100", "100000"], ["10000\n+\n10", "10010"], ["10\n+\n1000", "1010"], ["1\n*\n1000", "1000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000, 32000]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #6] BUKA", "background": "", "description": "给定两个位数不超过 $100$，且为 $10$ 的幂次方的整数，你需要计算出他们相乘或者相加后的结果。", "inputFormat": "输入共三行。\n\n第一行和第三行分别有一个整数，表示准备计算的数。第二行一个字符，为 `*`（乘）或 `+`（加），表示需要进行哪种运算。数据为 `Windows` 下生成，请注意后缀含有的 `\\r`。", "outputFormat": "输出一行一个整数，表示运算的结果。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T1 BUKA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #6] BUKA", "background": "", "description": "给定两个位数不超过 $100$，且为 $10$ 的幂次方的整数，你需要计算出他们相乘或者相加后的结果。", "inputFormat": "输入共三行。\n\n第一行和第三行分别有一个整数，表示准备计算的数。第二行一个字符，为 `*`（乘）或 `+`（加），表示需要进行哪种运算。数据为 `Windows` 下生成，请注意后缀含有的 `\\r`。", "outputFormat": "输出一行一个整数，表示运算的结果。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T1 BUKA***。", "locale": "zh-CN"}}}
{"pid": "P6468", "type": "P", "difficulty": 3, "samples": [["0 0", "125.00 125.00"], ["230 20", "0.00 114.13"], ["0 40", "148.81 101.19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2008", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #6] BAZEN", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/tuq99ma5.png)\n\n有一个直角边长为 $250$ 的等腰直角三角形在平面直角坐标系中位于如图所示的位置。你需要画一条线段来把这个三角形的面积分成相等的两部分，且线段的两端点都必须要在三角形的边上。\n\n给出这条线段的起点坐标，请你找出终点应在的坐标。", "inputFormat": "输入一行两个整数，表示线段的起点坐标。\n\n", "outputFormat": "输出一行两个实数，表示线段的终点坐标。\n\n由于答案可能不是整数，所以请四舍五入保留两位小数。**本题使用 SPJ**。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T2 BAZEN***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #6] BAZEN", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/image_hosting/tuq99ma5.png)\n\n有一个直角边长为 $250$ 的等腰直角三角形在平面直角坐标系中位于如图所示的位置。你需要画一条线段来把这个三角形的面积分成相等的两部分，且线段的两端点都必须要在三角形的边上。\n\n给出这条线段的起点坐标，请你找出终点应在的坐标。", "inputFormat": "输入一行两个整数，表示线段的起点坐标。\n\n", "outputFormat": "输出一行两个实数，表示线段的终点坐标。\n\n由于答案可能不是整数，所以请四舍五入保留两位小数。**本题使用 SPJ**。", "hint": "#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T2 BAZEN***。", "locale": "zh-CN"}}}
{"pid": "P6469", "type": "P", "difficulty": 3, "samples": [["3 2\n1 1\n1 1\n", "1"], ["4 3\n2 2\n4 4\n1 1\n", "2"], ["5 8\n2 2\n3 2\n4 2\n2 4\n3 4\n4 4\n2 3\n2 3 \n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #6] NERED", "background": "", "description": "有一个方阵，方阵每行、每列均有 $n$ 个格子。每个格子上都有一个数，初始时均为 $0$。有 $m$ 次修改，每次会将某个格子上的数 $+1$。\n\n定义一步操作为将某个**非零**格子上的数 $-1$，将另一个格子（可以为 $0$）上的数 $+1$。\n\n请求出最小的操作步数，使得所有格子上的数均为 $0$ 或 $1$，且所有为 $1$ 的格子构成一个矩形。输出操作步数。", "inputFormat": "第一行有两个整数，分别表示方阵的行列数 $n$ 和修改数 $m$。\n\n接下来 $m$ 行，每行两个整数 $x, y$，表示将 $x$ 行 $y$ 列的格子上的数增加 $1$。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "#### 【样例解释】\n\n**样例 1 解释**\n\n将第 $1$ 行第 $1$ 列减去 $1$，第 $2$ 行第 $1$ 列加上 $1$。\n\n**样例 3 解释**\n\n- 将第 $2$ 行第 $3$ 列减去 $1$，在第 $3$ 行第 $3$ 列加上 $1$。\n- 将第 $4$ 行第 $2$ 列减去 $1$，在第 $2$ 行第 $5$ 列加上 $1$。\n- 将第 $4$ 行第 $4$ 列减去 $1$，在第 $3$ 行第 $5$ 列加上 $1$。\n\n#### 【数据规模与约定】\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq n^2$。\n- $1 \\leq x, y \\leq n$。\n- 输入数据一定存在解。\n\n#### 【说明】\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T3 NERED***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #6] NERED", "background": "", "description": "有一个方阵，方阵每行、每列均有 $n$ 个格子。每个格子上都有一个数，初始时均为 $0$。有 $m$ 次修改，每次会将某个格子上的数 $+1$。\n\n定义一步操作为将某个**非零**格子上的数 $-1$，将另一个格子（可以为 $0$）上的数 $+1$。\n\n请求出最小的操作步数，使得所有格子上的数均为 $0$ 或 $1$，且所有为 $1$ 的格子构成一个矩形。输出操作步数。", "inputFormat": "第一行有两个整数，分别表示方阵的行列数 $n$ 和修改数 $m$。\n\n接下来 $m$ 行，每行两个整数 $x, y$，表示将 $x$ 行 $y$ 列的格子上的数增加 $1$。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "#### 【样例解释】\n\n**样例 1 解释**\n\n将第 $1$ 行第 $1$ 列减去 $1$，第 $2$ 行第 $1$ 列加上 $1$。\n\n**样例 3 解释**\n\n- 将第 $2$ 行第 $3$ 列减去 $1$，在第 $3$ 行第 $3$ 列加上 $1$。\n- 将第 $4$ 行第 $2$ 列减去 $1$，在第 $2$ 行第 $5$ 列加上 $1$。\n- 将第 $4$ 行第 $4$ 列减去 $1$，在第 $3$ 行第 $5$ 列加上 $1$。\n\n#### 【数据规模与约定】\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq n^2$。\n- $1 \\leq x, y \\leq n$。\n- 输入数据一定存在解。\n\n#### 【说明】\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T3 NERED***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6470", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3\n", "Yes\n2 3 1"], ["5\n4 6 3 9 8\n", "Yes\n3 4 6 8 9"], ["6\n3 7 6 4 2 8\n", "Yes\n3 7 4 6 2 8\n"], ["3\n3 12 9\n", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #6] CUSKIJA", "background": "", "description": "给定一个长度为 $n$ 的序列 $a$，请将其重新排序，新序列中任意相邻两个数之和都不能被 $3$ 整除。", "inputFormat": "第一行有一个整数，表示序列的长度 $n$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示序列的第 $i$ 个元素 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n- 如果存在解，请在第一行输出一行一个字符串 `Yes`，并在第二行输出 $n$ 个整数，第 $i$ 个整数表示新序列的第 $i$ 个元素。\n- 如果无解，请只输出一行一个字符串 `No`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^4$，$1 \\leq a_i \\leq 10^6$。\n\n#### 【说明】\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T4 CUSKIJA***，翻译与 SPJ 均来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。为了 SPJ 判定方便，输出格式较原题略有修改。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #6] CUSKIJA", "background": "", "description": "给定一个长度为 $n$ 的序列 $a$，请将其重新排序，新序列中任意相邻两个数之和都不能被 $3$ 整除。", "inputFormat": "第一行有一个整数，表示序列的长度 $n$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示序列的第 $i$ 个元素 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n- 如果存在解，请在第一行输出一行一个字符串 `Yes`，并在第二行输出 $n$ 个整数，第 $i$ 个整数表示新序列的第 $i$ 个元素。\n- 如果无解，请只输出一行一个字符串 `No`。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^4$，$1 \\leq a_i \\leq 10^6$。\n\n#### 【说明】\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T4 CUSKIJA***，翻译与 SPJ 均来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。为了 SPJ 判定方便，输出格式较原题略有修改。", "locale": "zh-CN"}}}
{"pid": "P6471", "type": "P", "difficulty": 5, "samples": [["3 3\n1 8 2\n2 3 2\n1 0 1\n3\n1 3\n3 3\n2 2", "17"], ["2 5\n0 0 0 0 0\n1 4 2 3 2\n4\n1 5\n2 2\n2 5\n2 1", "9"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #6] DOSTAVA", "background": "", "description": "在一个 $r\\times c$ 的方格矩阵中，一个快递员从公司 $(1,1)$ 出发，要前往 $d$ 个格子送披萨。在临走的时候，他就已经带上了所有的披萨，这样就不会因为来回奔波而浪费时间了。\n\n快递员任何时刻都只能左右移动，但如果他在第 $1$ 或 $c$ 列时，就可以上下运动。每到一个格子，都有在此处要花费的时间。（多次到达多次计入总时间）\n\n为了能更高效，他想知道，这 $d$ 个送餐点共需要花费多长时间？", "inputFormat": "输入第一行两个整数 $r,c$，表示矩阵的行和列。\n\n接下来的 $r$ 行，每行 $c$ 个整数，为走到这个格子需要的时长。\n\n接下来一行一个整数 $d$ ，表示总共需要到达的送餐点。\n\n接下来的 $d$ 行，每行两个整数 $a,b$，表示需要送餐到位于第 $a$ 行第 $b$ 列的那一个格子。\n\n虽然快递员要尽量减少用时，但是他**必须按照输入的顺序送餐**，否则会引起顾客的不满。", "outputFormat": "输出一行一个整数，表示最少的送餐时间。", "hint": "#### 样例 1 解释\n\n最短的送餐路线为：\n\n$(1,1),(2,1),(3, 1), (3, 2), (3, 3), (2, 3), (1, 3), (2, 3), (3, 3), (2, 3),(2, 2)$。\n\n总用时为：$1+2+1+0+1+2+2+2+1+2+3=17$。\n\n#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $r\\le 250$；\n- 对于 $100\\%$ 的数据，保证 $1\\le r\\le 2000$，$1\\le c\\le 200$，$1\\le d\\le 2\\times 10^5$，$1\\le a\\le r$，$1\\le b\\le c$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T5 DOSTAVA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #6] DOSTAVA", "background": "", "description": "在一个 $r\\times c$ 的方格矩阵中，一个快递员从公司 $(1,1)$ 出发，要前往 $d$ 个格子送披萨。在临走的时候，他就已经带上了所有的披萨，这样就不会因为来回奔波而浪费时间了。\n\n快递员任何时刻都只能左右移动，但如果他在第 $1$ 或 $c$ 列时，就可以上下运动。每到一个格子，都有在此处要花费的时间。（多次到达多次计入总时间）\n\n为了能更高效，他想知道，这 $d$ 个送餐点共需要花费多长时间？", "inputFormat": "输入第一行两个整数 $r,c$，表示矩阵的行和列。\n\n接下来的 $r$ 行，每行 $c$ 个整数，为走到这个格子需要的时长。\n\n接下来一行一个整数 $d$ ，表示总共需要到达的送餐点。\n\n接下来的 $d$ 行，每行两个整数 $a,b$，表示需要送餐到位于第 $a$ 行第 $b$ 列的那一个格子。\n\n虽然快递员要尽量减少用时，但是他**必须按照输入的顺序送餐**，否则会引起顾客的不满。", "outputFormat": "输出一行一个整数，表示最少的送餐时间。", "hint": "#### 样例 1 解释\n\n最短的送餐路线为：\n\n$(1,1),(2,1),(3, 1), (3, 2), (3, 3), (2, 3), (1, 3), (2, 3), (3, 3), (2, 3),(2, 2)$。\n\n总用时为：$1+2+1+0+1+2+2+2+1+2+3=17$。\n\n#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $r\\le 250$；\n- 对于 $100\\%$ 的数据，保证 $1\\le r\\le 2000$，$1\\le c\\le 200$，$1\\le d\\le 2\\times 10^5$，$1\\le a\\le r$，$1\\le b\\le c$。\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T5 DOSTAVA***。", "locale": "zh-CN"}}}
{"pid": "P6472", "type": "P", "difficulty": 6, "samples": [["2 3\n5 1\n1 2\n1 2\n1 2", "3\n1 2 1\n1 2 2\n1 2 2"], ["4 3\n5 3 1 1\n1 3\n2 3\n4 1", "5\n1 3 1\n2 3 2\n4 1 0\n2 4 1\n1 3 2"], ["5 0\n3 0 2 4 1", "5\n1 2 2\n1 3 1\n4 2 2\n3 4 0\n3 5 1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #6] SLICICE", "background": "在一个城市里，有群孩子热衷于收集卡片。", "description": "由于他们的零花钱不够，所以想出了一个办法：两人一组，每人出一半的钱，到商店购买两张卡片。紧接着，他们比赛谁先跑到市中心的喷泉，获胜者将得到这两张卡片。如果两人同时到达，那么每人将拿走一张。\n\n有一天，所有的孩子聚集在了一起。他们想统计出所有的购买记录。但是孩子们的记忆有些模糊了，只记得一部分购买记录（且不知道谁得到了多少），并且数出了自己有多少张卡片。你需要编写一个程序，帮助孩子们还原一种可能的购买记录。", "inputFormat": "输入第一行两个整数 $n,m$，表示孩子的数量和孩子们记忆中的购买记录。孩子从 $1\\sim n$ 编号。\n\n第二行 $n$ 个整数，表示每个孩子所拥有的卡片的数量。\n\n接下来的 $m$ 行，每行两个整数 $a,b$，表示编号分别为 $a,b$ 的两个孩子一起去买了一次卡片。", "outputFormat": "输出第一行一个整数 $k$，表示购买总数。\n\n接下来的 $k$ 行，每行三个整数。前两个整数为一次购买中两个孩子的编号。第三个整数为前一个孩子在这次比赛中获得的卡片数（$0/1/2$）。\n\n**题目保证有解。购买的总数最多为 $1000$。如果有多种购买的方案，输出任意一种，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$0\\le m\\le 1000$。\n\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T6 SLICICE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #6] SLICICE", "background": "在一个城市里，有群孩子热衷于收集卡片。", "description": "由于他们的零花钱不够，所以想出了一个办法：两人一组，每人出一半的钱，到商店购买两张卡片。紧接着，他们比赛谁先跑到市中心的喷泉，获胜者将得到这两张卡片。如果两人同时到达，那么每人将拿走一张。\n\n有一天，所有的孩子聚集在了一起。他们想统计出所有的购买记录。但是孩子们的记忆有些模糊了，只记得一部分购买记录（且不知道谁得到了多少），并且数出了自己有多少张卡片。你需要编写一个程序，帮助孩子们还原一种可能的购买记录。", "inputFormat": "输入第一行两个整数 $n,m$，表示孩子的数量和孩子们记忆中的购买记录。孩子从 $1\\sim n$ 编号。\n\n第二行 $n$ 个整数，表示每个孩子所拥有的卡片的数量。\n\n接下来的 $m$ 行，每行两个整数 $a,b$，表示编号分别为 $a,b$ 的两个孩子一起去买了一次卡片。", "outputFormat": "输出第一行一个整数 $k$，表示购买总数。\n\n接下来的 $k$ 行，每行三个整数。前两个整数为一次购买中两个孩子的编号。第三个整数为前一个孩子在这次比赛中获得的卡片数（$0/1/2$）。\n\n**题目保证有解。购买的总数最多为 $1000$。如果有多种购买的方案，输出任意一种，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$0\\le m\\le 1000$。\n\n\n#### 说明\n\n**题目译自 [COCI2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST #6](https://hsin.hr/coci/archive/2008_2009/contest6_tasks.pdf) *T6 SLICICE***。", "locale": "zh-CN"}}}
{"pid": "P6473", "type": "P", "difficulty": 3, "samples": [["3 6 3\n3 5 1\n4\n1\n3\n4\n5\n", "0\n1\n2\n-1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2020", "二分", "NOI Online"], "title": "[NOI Online #2 入门组] 未了", "background": null, "description": "由于触犯天神，Sisyphus 将要接受惩罚。\n\n宙斯命 Sisyphus 推一块巨石上长度为 $L$ 的山坡。Sisyphus 匀速向上推的速度为每年 $v$ 的长度（由于是匀速，故经过 $\\frac{1}{2}$ 年将能向上推 $\\frac{v}{2}$ 的长度）。然而，宙斯并不希望 Sisyphus 太快到达山顶。宙斯可以施展 $n$ 个魔法，若宙斯施展第 $i$ 个魔法 $(1\\leq i \\leq n)$，则当 Sisyphus 第一次到达位置  $a_i$ 时，他将会同巨石一起滚落下山底，并从头推起。（滚落的时间忽略不计，即可看作第一次到达位置 $a_i$ 后 Sisyphus 立即从山底重新出发）\n\n例如宙斯施用了 $a_i=3$ 和 $a_i=5$ 的两个魔法。Sisyphus 的速度 $v=1$ ，山坡的长度 $L = 6$，则他推石上山过程如下：\n\n- 用 $3$ 年走到位置 $3$。\n\n- 受 $a_i=3$ 的魔法影响，回到了山底出发。\n\n- 再用 $3$ 年走到位置 $3$，然而因为是第二次到达，$a_i=3$ 的魔法不起作用。\n\n- 用 $2$ 年走到位置 $5$。\n\n- 受 $a_i=5$ 的魔法影响，回到了山底出发。\n\n- 用 $6$ 年从山底走到了山顶。花费的总时间为 $14$ 年。\n\n现在，宙斯有 $q$ 个询问。对于第 $i$ 个询问 $t_i$，宙斯想知道，他最少需要施展多少个魔法才能使 Sisyphus 到达山顶所用的年数大于 $t_i$。", "inputFormat": "第一行三个整数 $n,L,v$ 分别表示魔法的种类数，山坡的长度，Sisyphus 的速度。\n\n第二行 $n$ 个整数。第 $i$ 个整数 $a_i$ 表示第 $i$ 个魔法作用的位置。$(1<i<n)$\n\n第三行一个整数 $q$ 表示宙斯的询问个数。\n\n接下来 $q$ 行每行一个整数，第 $i$ 行的整数 $t_i$ 表示宙斯的第 $i$ 个询问。$(1<i<n)$", "outputFormat": "输出 $q$ 行，每行恰好一个整数，第 $i$ 行的整数对应第 $i$ 个询问的答案。$(1 \\leq i\\leq q)$\n\n如果宙斯无论如何都不能使 Sisyphus 使用的年数大于 $t_i$，请输出 $-1$。", "hint": "1. 不使用任何魔法，Sisyphus 需要 $2$ 年走上山顶。\n2. 使用魔法 $2$ ，Sisyphus 需要 $\\frac{11}{3}$ 年走上山顶。（用时 $\\frac{5}{3}$ 年走到魔法 $2$ 的位置并滚落下山，再用时 $\\frac{6}{3}=2$ 年走到山顶）\n3. 使用魔法 $1,2$ ，Sisyphus 需要 $\\frac{14}{3}$ 年走上山顶。\n4. 宙斯不能使 Sisyphus 用大于 $5$ 年的时间走上山顶。\n\n对于测试点 $1\\sim 8:n=1$。\n\n对于测试点 $9\\sim 12:n=2$。\n\n对于测试点 $13\\sim 17:n,q\\le 1000$。\n\n对于所有测试点：$1 \\leq n,q \\leq 2 \\times 10^5$，$1\\leq v\\leq L\\leq 10^{9}$，$1\\leq a_i < L$，$1 \\leq t_i\\leq 10^9$。\n\n数据保证 $a_i$ 两两不同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #2 入门组] 未了", "background": null, "description": "由于触犯天神，Sisyphus 将要接受惩罚。\n\n宙斯命 Sisyphus 推一块巨石上长度为 $L$ 的山坡。Sisyphus 匀速向上推的速度为每年 $v$ 的长度（由于是匀速，故经过 $\\frac{1}{2}$ 年将能向上推 $\\frac{v}{2}$ 的长度）。然而，宙斯并不希望 Sisyphus 太快到达山顶。宙斯可以施展 $n$ 个魔法，若宙斯施展第 $i$ 个魔法 $(1\\leq i \\leq n)$，则当 Sisyphus 第一次到达位置  $a_i$ 时，他将会同巨石一起滚落下山底，并从头推起。（滚落的时间忽略不计，即可看作第一次到达位置 $a_i$ 后 Sisyphus 立即从山底重新出发）\n\n例如宙斯施用了 $a_i=3$ 和 $a_i=5$ 的两个魔法。Sisyphus 的速度 $v=1$ ，山坡的长度 $L = 6$，则他推石上山过程如下：\n\n- 用 $3$ 年走到位置 $3$。\n\n- 受 $a_i=3$ 的魔法影响，回到了山底出发。\n\n- 再用 $3$ 年走到位置 $3$，然而因为是第二次到达，$a_i=3$ 的魔法不起作用。\n\n- 用 $2$ 年走到位置 $5$。\n\n- 受 $a_i=5$ 的魔法影响，回到了山底出发。\n\n- 用 $6$ 年从山底走到了山顶。花费的总时间为 $14$ 年。\n\n现在，宙斯有 $q$ 个询问。对于第 $i$ 个询问 $t_i$，宙斯想知道，他最少需要施展多少个魔法才能使 Sisyphus 到达山顶所用的年数大于 $t_i$。", "inputFormat": "第一行三个整数 $n,L,v$ 分别表示魔法的种类数，山坡的长度，Sisyphus 的速度。\n\n第二行 $n$ 个整数。第 $i$ 个整数 $a_i$ 表示第 $i$ 个魔法作用的位置。$(1<i<n)$\n\n第三行一个整数 $q$ 表示宙斯的询问个数。\n\n接下来 $q$ 行每行一个整数，第 $i$ 行的整数 $t_i$ 表示宙斯的第 $i$ 个询问。$(1<i<n)$", "outputFormat": "输出 $q$ 行，每行恰好一个整数，第 $i$ 行的整数对应第 $i$ 个询问的答案。$(1 \\leq i\\leq q)$\n\n如果宙斯无论如何都不能使 Sisyphus 使用的年数大于 $t_i$，请输出 $-1$。", "hint": "1. 不使用任何魔法，Sisyphus 需要 $2$ 年走上山顶。\n2. 使用魔法 $2$ ，Sisyphus 需要 $\\frac{11}{3}$ 年走上山顶。（用时 $\\frac{5}{3}$ 年走到魔法 $2$ 的位置并滚落下山，再用时 $\\frac{6}{3}=2$ 年走到山顶）\n3. 使用魔法 $1,2$ ，Sisyphus 需要 $\\frac{14}{3}$ 年走上山顶。\n4. 宙斯不能使 Sisyphus 用大于 $5$ 年的时间走上山顶。\n\n对于测试点 $1\\sim 8:n=1$。\n\n对于测试点 $9\\sim 12:n=2$。\n\n对于测试点 $13\\sim 17:n,q\\le 1000$。\n\n对于所有测试点：$1 \\leq n,q \\leq 2 \\times 10^5$，$1\\leq v\\leq L\\leq 10^{9}$，$1\\leq a_i < L$，$1 \\leq t_i\\leq 10^9$。\n\n数据保证 $a_i$ 两两不同。", "locale": "zh-CN"}}}
{"pid": "P6474", "type": "P", "difficulty": 5, "samples": [["5 4 0 0 5\n. 1 T 1\n. . . 2\n. 1 . .\nS . . .\n1 . . .", "3 0 0"], ["8 6 2 3 3\n. S . . . .\n. . . . . .\n. . . . . .\n. . . . . .\n. . . . . .\n2 . 2 . 2 .\n. . 1 . T .\n3 . 1 . . 3\n", "3 1 3"], ["8 6 5 5 2\n. S . . . .\n. . . . . .\n. . . . . .\n1 1 3 2 . 1\n2 3 2 2 1 3 \n3 2 4 1 4 3 \n2 6 1 5 T 2 \n8 1 6 3 2 10", "-1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2020", "NOI Online"], "title": "[NOI Online #2 入门组] 荆轲刺秦王", "background": "本测试数据为脚造，欢迎提供 hack。\n\n第 18 组数据卡了很多人，放于附件中供检查。", "description": "时隔数年，刺客荆轲再次来到咸阳宫，试图刺杀嬴政。\n\n咸阳宫的地图可以描述为一个 $n$ 行 $m$ 列的矩形。在这里，我们规定每一行中从左到右为 $x$ 轴正方向，每一列中从下到上为 $y$ 轴正方向，左下角的点坐标为 $(1,1)$。矩形中的点可以分为 $4$ 种：\n\n1. 起点，也就是荆轲的所在点，在地图中用字符 `S` 代表。\n2. 终点，也就是嬴政的所在点，在地图中用字符 `T` 代表。\n3. 卫兵，在地图中用一个正整数 $a_{i,j}$ 代表。在这里，一个卫兵 $(i,j)$ 可以观察到与他曼哈顿距离小于 $a_{i,j}$ 的点。也就是卫兵 $(i,j)$ 可以观察到所有满足 $|x-i|+|y-j|<a_{i,j}$ 的点 $(x,y)$。\n4. 空地，在地图中用字符 `.` 代表。\n\n荆轲的正常移动方式为每秒向八连通的任意方向前进一格。如下图，中间的点为荆轲当前所在点，每一秒，他可以走向其余的八个点。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9rnnpj4z.png)\n\n需要注意的是，正常移动时，荆轲不能踏进任何一个有卫兵或者卫兵能观察到的格子。当然，他也不能走出咸阳宫，也就是说，无论何时，荆轲的坐标 $(x,y)$ 都必须满足 $1\\le x\\le m$ 且 $1\\le y\\le n$。\n\n荆轲还有两种技能：隐身和瞬移。\n\n1. 隐身：下一秒荆轲进入隐身状态，卫兵观察不到荆轲，荆轲可以进入卫兵的观察范围内，但仍然不能进入卫兵所在的格子。注意这个状态只能维持一秒。\n2. 瞬移：荆轲下一秒移动的距离改为 $d$，但这时只能向上下左右四个方向移动。即可以移动到 \n$(x+d,y)$，$(x-d,y)$，$(x,y+d)$，$(x,y-d)$。\n在本题中，两种技能可以同时使用，而且不考虑冷却时间，即一次用完可以立即用下一次，两种技能都分别有使用次数限制，你也可以不用完所有次数。\n\n现在给出咸阳城的地图，请计算荆轲到达秦王所在点所需的最短时间。此外，在所用时间相同情况下，荆轲希望使用的两种技能总次数尽可能少；在所用时间与技能次数相同情况下，荆轲希望使用的隐身次数尽可能少。", "inputFormat": "第一行五个整数 $n$, $m$, $c_1$, $c_2$, $d$，代表地图的大小为 $n\\times m$，隐身的使用限制次数为 $c_1$，瞬移的使用限制次数为 $c_2$ 和一次瞬移的距离为 $d$。\n\n接下来 $n$ 行，每行 $m$ 个元素。每个元素为字符 `S`、`T`、`.` 或者一个正整数 $a_{i,j}$，代表一个格点，具体含义详见题目描述。", "outputFormat": "若荆轲无法到达秦王所在点，则输出一行一个 $-1$。\n\n否则输出一行三个整数 $t$, $u_1$, $u_2$，依次代表所需的最短时间，隐身的使用次数与瞬移的使用次数。", "hint": "#### 样例 1 解释\n\n起点为 $(1,2)$，荆轲可以依次走到 $(1,3)$, $(2,4)$, $(3,5)$ 到达终点。\n\n#### 样例 2 解释\n\n起点为 $(2,8)$，荆轲可以依次走到 $(2,5)$, $(2,2)$, $(5,2)$，需要注意的是，即使最后一步到达终点，但因为终点在卫兵的观察范围之内，所以仍然需要隐身进入。\n\n#### 数据范围与提示\n\n\n对于测试点 $1\\sim 6$：$n$, $m\\le 10$，$c_1=c_2=0$，保证所需的最短时间不超过 $5$ 或者无解。\n\n对于测试点 $7\\sim 10$：$n$, $m\\le 20$，$c_1=c_2=0$，保证 `T` 的位置不在任何一个卫兵的观察范围之中。\n\n对于测试点 $11\\sim 12$：$n$, $m\\le 20$，$c_1=0$\n\n对于测试点 $13\\sim 14$：$n$, $m\\le 20$，$c_1$, $c_2 \\le 5$。\n\n对于测试点 $15\\sim 16$：卫兵个数不超过 $350$。\n\n对于所有测试点：$2\\le n$, $m\\le 350$，$1\\le a_{i,j}\\le 350$，$0\\le c_1$, $c_2\\le 15$，$1\\le d\\le 350$。\n\n保证 `S` 的位置不在任何卫兵的观察范围中。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #2 入门组] 荆轲刺秦王", "background": "本测试数据为脚造，欢迎提供 hack。\n\n第 18 组数据卡了很多人，放于附件中供检查。", "description": "时隔数年，刺客荆轲再次来到咸阳宫，试图刺杀嬴政。\n\n咸阳宫的地图可以描述为一个 $n$ 行 $m$ 列的矩形。在这里，我们规定每一行中从左到右为 $x$ 轴正方向，每一列中从下到上为 $y$ 轴正方向，左下角的点坐标为 $(1,1)$。矩形中的点可以分为 $4$ 种：\n\n1. 起点，也就是荆轲的所在点，在地图中用字符 `S` 代表。\n2. 终点，也就是嬴政的所在点，在地图中用字符 `T` 代表。\n3. 卫兵，在地图中用一个正整数 $a_{i,j}$ 代表。在这里，一个卫兵 $(i,j)$ 可以观察到与他曼哈顿距离小于 $a_{i,j}$ 的点。也就是卫兵 $(i,j)$ 可以观察到所有满足 $|x-i|+|y-j|<a_{i,j}$ 的点 $(x,y)$。\n4. 空地，在地图中用字符 `.` 代表。\n\n荆轲的正常移动方式为每秒向八连通的任意方向前进一格。如下图，中间的点为荆轲当前所在点，每一秒，他可以走向其余的八个点。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9rnnpj4z.png)\n\n需要注意的是，正常移动时，荆轲不能踏进任何一个有卫兵或者卫兵能观察到的格子。当然，他也不能走出咸阳宫，也就是说，无论何时，荆轲的坐标 $(x,y)$ 都必须满足 $1\\le x\\le m$ 且 $1\\le y\\le n$。\n\n荆轲还有两种技能：隐身和瞬移。\n\n1. 隐身：下一秒荆轲进入隐身状态，卫兵观察不到荆轲，荆轲可以进入卫兵的观察范围内，但仍然不能进入卫兵所在的格子。注意这个状态只能维持一秒。\n2. 瞬移：荆轲下一秒移动的距离改为 $d$，但这时只能向上下左右四个方向移动。即可以移动到 \n$(x+d,y)$，$(x-d,y)$，$(x,y+d)$，$(x,y-d)$。\n在本题中，两种技能可以同时使用，而且不考虑冷却时间，即一次用完可以立即用下一次，两种技能都分别有使用次数限制，你也可以不用完所有次数。\n\n现在给出咸阳城的地图，请计算荆轲到达秦王所在点所需的最短时间。此外，在所用时间相同情况下，荆轲希望使用的两种技能总次数尽可能少；在所用时间与技能次数相同情况下，荆轲希望使用的隐身次数尽可能少。", "inputFormat": "第一行五个整数 $n$, $m$, $c_1$, $c_2$, $d$，代表地图的大小为 $n\\times m$，隐身的使用限制次数为 $c_1$，瞬移的使用限制次数为 $c_2$ 和一次瞬移的距离为 $d$。\n\n接下来 $n$ 行，每行 $m$ 个元素。每个元素为字符 `S`、`T`、`.` 或者一个正整数 $a_{i,j}$，代表一个格点，具体含义详见题目描述。", "outputFormat": "若荆轲无法到达秦王所在点，则输出一行一个 $-1$。\n\n否则输出一行三个整数 $t$, $u_1$, $u_2$，依次代表所需的最短时间，隐身的使用次数与瞬移的使用次数。", "hint": "#### 样例 1 解释\n\n起点为 $(1,2)$，荆轲可以依次走到 $(1,3)$, $(2,4)$, $(3,5)$ 到达终点。\n\n#### 样例 2 解释\n\n起点为 $(2,8)$，荆轲可以依次走到 $(2,5)$, $(2,2)$, $(5,2)$，需要注意的是，即使最后一步到达终点，但因为终点在卫兵的观察范围之内，所以仍然需要隐身进入。\n\n#### 数据范围与提示\n\n\n对于测试点 $1\\sim 6$：$n$, $m\\le 10$，$c_1=c_2=0$，保证所需的最短时间不超过 $5$ 或者无解。\n\n对于测试点 $7\\sim 10$：$n$, $m\\le 20$，$c_1=c_2=0$，保证 `T` 的位置不在任何一个卫兵的观察范围之中。\n\n对于测试点 $11\\sim 12$：$n$, $m\\le 20$，$c_1=0$\n\n对于测试点 $13\\sim 14$：$n$, $m\\le 20$，$c_1$, $c_2 \\le 5$。\n\n对于测试点 $15\\sim 16$：卫兵个数不超过 $350$。\n\n对于所有测试点：$2\\le n$, $m\\le 350$，$1\\le a_{i,j}\\le 350$，$0\\le c_1$, $c_2\\le 15$，$1\\le d\\le 350$。\n\n保证 `S` 的位置不在任何卫兵的观察范围中。", "locale": "zh-CN"}}}
{"pid": "P6475", "type": "P", "difficulty": 5, "samples": [["3 2 1 3", "10"], ["1000 1000 535 1477", "295916566"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "排列组合", "NOI Online"], "title": "[NOI Online #2 入门组] 建设城市", "background": "", "description": "球球是一位建筑师。一天，他收到市长的任务：建设城市。球球打算建造 $2n$ 座高楼。为了保证城市美观，球球做出了如下计划：\n\n- 球球喜欢整齐的事物。他希望高楼从左向右排成一行，编号依次为 $1\\sim 2n$。\n\n- 球球喜欢整数，他要求每座高楼的高度都是正整数。\n\n- 由于材料限制，高楼的高度无法超过 $m$。\n\n- 球球喜欢中间高，两边低的造型。他要求前 $n$ 座高楼的高度不下降，后 $n$ 座高楼的高度不上升。\n\n- 球球打算选两座编号为 $x,y$ 的高楼作为这座城市的地标。他认为只有当这两座高楼高度相等时，才会让城市变得美观。\n\n球球把自己的想法告诉了市长。市长希望得知所有建设城市的方案数。两种方案不同，当且仅当某座高楼的高度在两个方案中不同。这个问题可难倒了球球。球球找到了你，希望你能帮他算出答案。由于答案可能很大，你只需要给出答案对 $998244353$ 取模后的结果。", "inputFormat": "从标准输入读入数据。\n\n仅一行四个整数 $m,n,x,y$，变量意义见题目描述。", "outputFormat": "输出到标准输出。\n\n仅一行一个整数表示答案。", "hint": "对于样例 $1$，所有的方案为：$\\{1,1,1,1\\},\\{1,2,1,1\\},\\{1,3,1,1\\},\\{2,2,2,1\\},\\{2,2,2,2\\},\\\\\\{2,3,2,1\\},\\{2,3,2,2\\},\\{3,3,3,1\\},\\{3,3,3,2\\},\\{3,3,3,3\\}$。\n\n对于 $10\\%$ 的数据，$1\\le n,m\\le 5$。\n\n对于 $30\\%$ 的数据，$1\\le n,m\\le 100$。\n\n对于 $60\\%$ 的数据，$1\\le n,m\\le 1000$。\n\n对于 $100\\%$ 的数据，$1\\le x < y \\le 2n$， $1\\le n,m \\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #2 入门组] 建设城市", "background": "", "description": "球球是一位建筑师。一天，他收到市长的任务：建设城市。球球打算建造 $2n$ 座高楼。为了保证城市美观，球球做出了如下计划：\n\n- 球球喜欢整齐的事物。他希望高楼从左向右排成一行，编号依次为 $1\\sim 2n$。\n\n- 球球喜欢整数，他要求每座高楼的高度都是正整数。\n\n- 由于材料限制，高楼的高度无法超过 $m$。\n\n- 球球喜欢中间高，两边低的造型。他要求前 $n$ 座高楼的高度不下降，后 $n$ 座高楼的高度不上升。\n\n- 球球打算选两座编号为 $x,y$ 的高楼作为这座城市的地标。他认为只有当这两座高楼高度相等时，才会让城市变得美观。\n\n球球把自己的想法告诉了市长。市长希望得知所有建设城市的方案数。两种方案不同，当且仅当某座高楼的高度在两个方案中不同。这个问题可难倒了球球。球球找到了你，希望你能帮他算出答案。由于答案可能很大，你只需要给出答案对 $998244353$ 取模后的结果。", "inputFormat": "从标准输入读入数据。\n\n仅一行四个整数 $m,n,x,y$，变量意义见题目描述。", "outputFormat": "输出到标准输出。\n\n仅一行一个整数表示答案。", "hint": "对于样例 $1$，所有的方案为：$\\{1,1,1,1\\},\\{1,2,1,1\\},\\{1,3,1,1\\},\\{2,2,2,1\\},\\{2,2,2,2\\},\\\\\\{2,3,2,1\\},\\{2,3,2,2\\},\\{3,3,3,1\\},\\{3,3,3,2\\},\\{3,3,3,3\\}$。\n\n对于 $10\\%$ 的数据，$1\\le n,m\\le 5$。\n\n对于 $30\\%$ 的数据，$1\\le n,m\\le 100$。\n\n对于 $60\\%$ 的数据，$1\\le n,m\\le 1000$。\n\n对于 $100\\%$ 的数据，$1\\le x < y \\le 2n$， $1\\le n,m \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6476", "type": "P", "difficulty": 3, "samples": [["4\n2 10 4\n2 3 6\n1 4 7\n1 1 2", "No\nYes\nYes\nYes"], ["8\n370359350 416913505 3\n761592061 153246036 6\n262185277 924417743 5\n668232501 586472717 2\n891054824 169842323 6\n629603359 397927152 2\n2614104 175031972 68\n924509243 421614240 4", "Yes\nYes\nYes\nNo\nNo\nNo\nYes\nYes"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2020", "Special Judge", "NOI Online"], "title": "[NOI Online #2 提高组] 涂色游戏", "background": "1s 256M", "description": "你有 $10^{20}$ 个格子，它们从 $0$ 开始编号，初始时所有格子都还未染色，现在你按如下规则对它们染色：\n\n1. 编号是 $p_1$ 倍数的格子（包括 $0$ 号格子，下同）染成红色。\n2. 编号是 $p_2$ 倍数的格子染成蓝色。\n3. 编号既是 $p_1$ 倍数又是 $p_2$ 倍数的格子，你可以选择染成红色或者蓝色。\n\n其中 $p_1$ 和 $p_2$ 是给定的整数，若格子编号是 $p_1$ 或 $p_2$ 的倍数则它必须要被染色。在忽略掉所有未染色格子后，你不希望存在 $k$ 个连续的格子颜色相同，因为你认为这种染色方案是无聊的。现在给定 $p_1$, $p_2$, $k$，你想知道是否有一种染色方案不是无聊的。\n", "inputFormat": "本题包含多组数据。\n\n第一行一个整数 $T$ 表示数据组数。\n\n每组数据一行三个正整数 $p_1$, $p_2$, $k$，变量意义见题目描述。", "outputFormat": "对于每组数据，输出一行一个字符串，若存在一种染色方案不是无聊的，则输出 `YES`，否则输出 `NO`。\n\n选手程序输出结果与样例或题面中的一种格式相符即可，即不区分大小写。例如，如果标准答案为 `YES` ，则输出结果 `YES/Yes/yes` 都视为正确。", "hint": "| 测试点编号 | $p_1$, $p_2 \\leq$ | $k \\leq$ | $T \\leq$ |\n| :-- | :-- | :-- | :-- |\n| 1 $\\sim$ 3 | $15$ | $15$ | $3375$ |\n| 4 $\\sim$ 6 | $10^3$ | $10^3$ | $10^4$ |\n| 7 $\\sim$ 8 | $10^3$ | $10^3$ | $10$ |\n| 9 $\\sim$ 10 | $10^5$ | $10^3$ | $10^3$ |\n| 11 $\\sim$ 12 | $10^5$ | $5 \\times 10^5$ | $10$ |\n| 13 $\\sim$ 14 | $10^5$ | $5 \\times 10^5$ | $10^5$ |\n| 15 | $10^9$ | $10^9$ | $10$ |\n| 16 $\\sim$ 20 | $10^9$ | $10^9$ | $10^6$ |\n\n对于所有测试点：$1 \\leq T\\leq 10^6$，$1\\leq p_1,p_2$，$k\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #2 提高组] 涂色游戏", "background": "1s 256M", "description": "你有 $10^{20}$ 个格子，它们从 $0$ 开始编号，初始时所有格子都还未染色，现在你按如下规则对它们染色：\n\n1. 编号是 $p_1$ 倍数的格子（包括 $0$ 号格子，下同）染成红色。\n2. 编号是 $p_2$ 倍数的格子染成蓝色。\n3. 编号既是 $p_1$ 倍数又是 $p_2$ 倍数的格子，你可以选择染成红色或者蓝色。\n\n其中 $p_1$ 和 $p_2$ 是给定的整数，若格子编号是 $p_1$ 或 $p_2$ 的倍数则它必须要被染色。在忽略掉所有未染色格子后，你不希望存在 $k$ 个连续的格子颜色相同，因为你认为这种染色方案是无聊的。现在给定 $p_1$, $p_2$, $k$，你想知道是否有一种染色方案不是无聊的。\n", "inputFormat": "本题包含多组数据。\n\n第一行一个整数 $T$ 表示数据组数。\n\n每组数据一行三个正整数 $p_1$, $p_2$, $k$，变量意义见题目描述。", "outputFormat": "对于每组数据，输出一行一个字符串，若存在一种染色方案不是无聊的，则输出 `YES`，否则输出 `NO`。\n\n选手程序输出结果与样例或题面中的一种格式相符即可，即不区分大小写。例如，如果标准答案为 `YES` ，则输出结果 `YES/Yes/yes` 都视为正确。", "hint": "| 测试点编号 | $p_1$, $p_2 \\leq$ | $k \\leq$ | $T \\leq$ |\n| :-- | :-- | :-- | :-- |\n| 1 $\\sim$ 3 | $15$ | $15$ | $3375$ |\n| 4 $\\sim$ 6 | $10^3$ | $10^3$ | $10^4$ |\n| 7 $\\sim$ 8 | $10^3$ | $10^3$ | $10$ |\n| 9 $\\sim$ 10 | $10^5$ | $10^3$ | $10^3$ |\n| 11 $\\sim$ 12 | $10^5$ | $5 \\times 10^5$ | $10$ |\n| 13 $\\sim$ 14 | $10^5$ | $5 \\times 10^5$ | $10^5$ |\n| 15 | $10^9$ | $10^9$ | $10$ |\n| 16 $\\sim$ 20 | $10^9$ | $10^9$ | $10^6$ |\n\n对于所有测试点：$1 \\leq T\\leq 10^6$，$1\\leq p_1,p_2$，$k\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6477", "type": "P", "difficulty": 5, "samples": [["4\n2 1 3 2", "43"], ["3\n1 1 1", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "线段树", "树状数组", "NOI Online"], "title": "[NOI Online #2 提高组] 子序列问题", "background": "2s 512M", "description": "给定一个长度为 $n$ 的正整数序列 $A_1$, $A_2$, $\\cdots$, $A_n$。定义一个函数 $f(l,r)$ 表示：序列中下标在 $[l,r]$ 范围内的子区间中，不同的整数个数。换句话说，$f(l,r)$ 就是集合 $\\{A_l,A_{l+1},\\cdots,A_r\\}$ 的大小，这里的集合是不可重集，即集合中的元素互不相等。\n\n现在，请你求出 $\\sum_{l=1}^n\\sum_{r=l}^n (f(l,r))^2$。由于答案可能很大，请输出答案对 $10^9 +7$ 取模的结果。", "inputFormat": "第一行一个正整数 $n$，表示序列的长度。\n\n第二行 $n$ 个正整数，相邻两个正整数用空格隔开，表示序列 $A_1$, $A_2$, $\\cdots$, $A_n$。", "outputFormat": "仅一行一个非负整数，表示答案对 $10^9+7$ 取模的结果。\n", "hint": "对于 $10\\%$ 的数据，满足 $1 \\leq n \\leq 10$；\n\n对于 $30\\%$ 的数据，满足 $1 \\leq n \\leq 100$；\n\n对于 $50\\%$ 的数据，满足 $1\\leq n \\leq 10^3$；\n\n对于 $70\\%$ 的数据，满足 $1 \\leq n \\leq 10^5$；\n\n对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 10^6$，集合中每个数的范围是 $[1,10^9]$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #2 提高组] 子序列问题", "background": "2s 512M", "description": "给定一个长度为 $n$ 的正整数序列 $A_1$, $A_2$, $\\cdots$, $A_n$。定义一个函数 $f(l,r)$ 表示：序列中下标在 $[l,r]$ 范围内的子区间中，不同的整数个数。换句话说，$f(l,r)$ 就是集合 $\\{A_l,A_{l+1},\\cdots,A_r\\}$ 的大小，这里的集合是不可重集，即集合中的元素互不相等。\n\n现在，请你求出 $\\sum_{l=1}^n\\sum_{r=l}^n (f(l,r))^2$。由于答案可能很大，请输出答案对 $10^9 +7$ 取模的结果。", "inputFormat": "第一行一个正整数 $n$，表示序列的长度。\n\n第二行 $n$ 个正整数，相邻两个正整数用空格隔开，表示序列 $A_1$, $A_2$, $\\cdots$, $A_n$。", "outputFormat": "仅一行一个非负整数，表示答案对 $10^9+7$ 取模的结果。\n", "hint": "对于 $10\\%$ 的数据，满足 $1 \\leq n \\leq 10$；\n\n对于 $30\\%$ 的数据，满足 $1 \\leq n \\leq 100$；\n\n对于 $50\\%$ 的数据，满足 $1\\leq n \\leq 10^3$；\n\n对于 $70\\%$ 的数据，满足 $1 \\leq n \\leq 10^5$；\n\n对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 10^6$，集合中每个数的范围是 $[1,10^9]$。", "locale": "zh-CN"}}}
{"pid": "P6478", "type": "P", "difficulty": 6, "samples": [["8\n10010011\n1 2\n1 3\n2 4\n2 5\n5 6\n3 7\n3 8", "0\n10\n10\n4\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "数学", "2020", "树形 DP", "排列组合", "NOI Online"], "title": "[NOI Online #2 提高组] 游戏", "background": "1s 512M", "description": "小 A 和小 B 正在玩一个游戏：有一棵包含 $n=2m$ 个点的有根树（点从 $1\\sim n$ 编号），它的根是 $1$ 号点，初始时两人各拥有 $m$ 个点。游戏的每个回合两人都需要选出一个自己拥有且之前未被选过的点，若对手的点在自己的点的子树内，则该回合自己获胜；若自己的点在对方的点的子树内，该回合自己失败；其他情况视为平局。游戏共进行 $m$ 回合。\n\n作为旁观者的你只想知道，在他们随机选点的情况下，第一次非平局回合出现时的回合数的期望值。\n\n为了计算这个期望，你决定对于 $k=0,1,2,\\cdots,m$，计算出非平局回合数为 $k$ 的情况数。两种情况不同当且仅当存在一个小 A 拥有的点 $x$，小 B 在 $x$ 被小 A 选择的那个回合所选择的点不同。\n\n由于情况总数可能很大，你只需要输出答案对 $998244353$ 取模后的结果。", "inputFormat": "第一行一个正整偶数 $n$ 表示树的结点数。\n\n第二行一个长度为 $n$ 的 01 字符串，第 $i$ 个字符为 $0$ 表示 $i$ 号点被小 A 拥有，否则被小 B 拥有。保证 $0$、$1$ 的个数相同。\n\n接下来 $n-1$ 行每行两个正整数 $u$, $v$，表示树中的一条边。", "outputFormat": "共 $\\frac{n}{2}+1$ 行每行一个整数，第 $i$ 行的整数表示 $k=i-1$ 时的答案。", "hint": "| 测试点编号 | $n =$ | 特殊性质 |\n| :-- | :-- | :-- |\n| 1 $\\sim$ 4 | $20$ | 无 |\n| 5 $\\sim$ 8 | $50$ | 无 |\n| 9 $\\sim$ 10 | $300$ | 树退化为一条链 |\n| 11 $\\sim$ 12 | $300$ | 无 |\n| 13 $\\sim$ 14 | $500$ | 无 |\n| 15 $\\sim$ 16 | $5000$ | 树退化为一条链 |\n| 17 $\\sim$ 20 | $5000$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #2 提高组] 游戏", "background": "1s 512M", "description": "小 A 和小 B 正在玩一个游戏：有一棵包含 $n=2m$ 个点的有根树（点从 $1\\sim n$ 编号），它的根是 $1$ 号点，初始时两人各拥有 $m$ 个点。游戏的每个回合两人都需要选出一个自己拥有且之前未被选过的点，若对手的点在自己的点的子树内，则该回合自己获胜；若自己的点在对方的点的子树内，该回合自己失败；其他情况视为平局。游戏共进行 $m$ 回合。\n\n作为旁观者的你只想知道，在他们随机选点的情况下，第一次非平局回合出现时的回合数的期望值。\n\n为了计算这个期望，你决定对于 $k=0,1,2,\\cdots,m$，计算出非平局回合数为 $k$ 的情况数。两种情况不同当且仅当存在一个小 A 拥有的点 $x$，小 B 在 $x$ 被小 A 选择的那个回合所选择的点不同。\n\n由于情况总数可能很大，你只需要输出答案对 $998244353$ 取模后的结果。", "inputFormat": "第一行一个正整偶数 $n$ 表示树的结点数。\n\n第二行一个长度为 $n$ 的 01 字符串，第 $i$ 个字符为 $0$ 表示 $i$ 号点被小 A 拥有，否则被小 B 拥有。保证 $0$、$1$ 的个数相同。\n\n接下来 $n-1$ 行每行两个正整数 $u$, $v$，表示树中的一条边。", "outputFormat": "共 $\\frac{n}{2}+1$ 行每行一个整数，第 $i$ 行的整数表示 $k=i-1$ 时的答案。", "hint": "| 测试点编号 | $n =$ | 特殊性质 |\n| :-- | :-- | :-- |\n| 1 $\\sim$ 4 | $20$ | 无 |\n| 5 $\\sim$ 8 | $50$ | 无 |\n| 9 $\\sim$ 10 | $300$ | 树退化为一条链 |\n| 11 $\\sim$ 12 | $300$ | 无 |\n| 13 $\\sim$ 14 | $500$ | 无 |\n| 15 $\\sim$ 16 | $5000$ | 树退化为一条链 |\n| 17 $\\sim$ 20 | $5000$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P6479", "type": "P", "difficulty": 2, "samples": [["4\n3\n2 1 2\n3 2 3 4\n3 4 2 1\n", "1\n2\n4"], ["8\n5\n4 1 3 5 4\n2 5 6\n3 6 7 8\n2 6 2\n4 2 6 8 1\n", "1\n2\n6\n8"], ["5\n3\n2 1 3\n2 2 1\n4 2 1 4 5\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2007", "O2优化", "COCI（克罗地亚）"], "title": "[CRCI2006-2007] BARD", "background": "", "description": "有一个小村子，村子里共有 $n$ 个人，不妨将这 $n$ 个人从 $1$ 至 $n$ 编号，编号为 $1$ 的人是诗人。\n\n每天晚上都会有一些村民围在篝火旁唱歌。\n\n如果某天晚上诗人来了，那么诗人会编一首所有人都没有听过的新歌曲并教给大家唱。在这天晚上**不会唱其他任何歌曲**。\n\n如果某天晚上诗人没来，那么与会者就会唱他们之中**至少有一个人**会唱的**所有歌曲**，并把这些歌曲教给那些来了但不会唱的人。\n\n给定 $m$ 天晚上参与唱歌的村民的编号，初始时村民们什么都不会唱，诗人一首歌也没有写。请输出最终有多少村民会唱诗人写的所有歌。", "inputFormat": "第一行有一个整数，表示村民的数量 $n$。\n\n第二行有一个整数，表示夜晚的数量 $m$。\n\n第 $3$ 到第 $(m + 2)$ 行，每行描述一个夜晚，第 $(i + 2)$ 行描述第 $i$ 个晚上的情况：   \n该行首先有一个整数 $k_i$，表示该晚上来了 $k_i$ 个村民，然后有 $k_i$ 个互不相同的整数 $a_{i, j}$，分别表示来了的村民的编号。", "outputFormat": "输出若干行，每行一个整数，以**升序**输出每一个会所有歌的村民的编号。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $ 1 \\leq n \\leq 100$，$1 \\leq m \\leq 50$。\n- $2 \\leq k_i \\leq n$，$1 \\leq a_{i, j} \\leq n$。$1$ 在 $a_{i, j}$ 中至少出现了一次。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T1 BARD***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2006-2007] BARD", "background": "", "description": "有一个小村子，村子里共有 $n$ 个人，不妨将这 $n$ 个人从 $1$ 至 $n$ 编号，编号为 $1$ 的人是诗人。\n\n每天晚上都会有一些村民围在篝火旁唱歌。\n\n如果某天晚上诗人来了，那么诗人会编一首所有人都没有听过的新歌曲并教给大家唱。在这天晚上**不会唱其他任何歌曲**。\n\n如果某天晚上诗人没来，那么与会者就会唱他们之中**至少有一个人**会唱的**所有歌曲**，并把这些歌曲教给那些来了但不会唱的人。\n\n给定 $m$ 天晚上参与唱歌的村民的编号，初始时村民们什么都不会唱，诗人一首歌也没有写。请输出最终有多少村民会唱诗人写的所有歌。", "inputFormat": "第一行有一个整数，表示村民的数量 $n$。\n\n第二行有一个整数，表示夜晚的数量 $m$。\n\n第 $3$ 到第 $(m + 2)$ 行，每行描述一个夜晚，第 $(i + 2)$ 行描述第 $i$ 个晚上的情况：   \n该行首先有一个整数 $k_i$，表示该晚上来了 $k_i$ 个村民，然后有 $k_i$ 个互不相同的整数 $a_{i, j}$，分别表示来了的村民的编号。", "outputFormat": "输出若干行，每行一个整数，以**升序**输出每一个会所有歌的村民的编号。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $ 1 \\leq n \\leq 100$，$1 \\leq m \\leq 50$。\n- $2 \\leq k_i \\leq n$，$1 \\leq a_{i, j} \\leq n$。$1$ 在 $a_{i, j}$ 中至少出现了一次。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T1 BARD***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。\n\n", "locale": "zh-CN"}}}
{"pid": "P6480", "type": "P", "difficulty": 3, "samples": [["6 5\n2 1 1 1 0 1\n", "5"], ["5 1\n0 0 0 0 0\n", "7"], ["9 4\n4 3 5 4 6 5 7 6 6\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2007", "O2优化", "COCI（克罗地亚）"], "title": "[CRCI2006-2007] TETRIS", "background": "", "description": "有如下七种俄罗斯方块的图形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5p1l1cba.png)\n\n在使用时可以将它们旋转 $90$，$180$，$270$ 度或不进行旋转。\n\n现在有一个有 $n$ 列，高度不限的方格阵，第 $i$ 列的底部 $a_i$ 行已经有了图形（即最下方 $a_i$ 行在之前已经被放上了方块），每一列只有底部的连续若干行有方块。\n\n下一次要落下的方块是 $m$ 号方块，请求出下落后有多少种布局满足不存在任何一个格子，它本身不被方块占据但是上方的格子被方块占据。也即求出多少种布局满足任何一列只有底部连续若干行有方块。\n\n两种布局不同当且仅当存在一个格子，在其中一种布局中该格子被方块占据，在另一种布局中不被占据。", "inputFormat": "第一行有两个整数，分别表示方格阵的行数 $n$ 和下一次下落的方块编号 $m$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 列的只有底部连续 $a_i$ 行有方块。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n下面六张图中，左上角的图是方格阵的初始布局，另外五张图是五种情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/42ycyc2d.png)\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 7$。\n- $0 \\leq a_i \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T2 TETRIS***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2006-2007] TETRIS", "background": "", "description": "有如下七种俄罗斯方块的图形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5p1l1cba.png)\n\n在使用时可以将它们旋转 $90$，$180$，$270$ 度或不进行旋转。\n\n现在有一个有 $n$ 列，高度不限的方格阵，第 $i$ 列的底部 $a_i$ 行已经有了图形（即最下方 $a_i$ 行在之前已经被放上了方块），每一列只有底部的连续若干行有方块。\n\n下一次要落下的方块是 $m$ 号方块，请求出下落后有多少种布局满足不存在任何一个格子，它本身不被方块占据但是上方的格子被方块占据。也即求出多少种布局满足任何一列只有底部连续若干行有方块。\n\n两种布局不同当且仅当存在一个格子，在其中一种布局中该格子被方块占据，在另一种布局中不被占据。", "inputFormat": "第一行有两个整数，分别表示方格阵的行数 $n$ 和下一次下落的方块编号 $m$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 列的只有底部连续 $a_i$ 行有方块。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例 1 解释\n\n下面六张图中，左上角的图是方格阵的初始布局，另外五张图是五种情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/42ycyc2d.png)\n\n#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 7$。\n- $0 \\leq a_i \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T2 TETRIS***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6481", "type": "P", "difficulty": 3, "samples": [["6 7\n1\n5\n3\n3\n5\n1", "2 3"], ["14 5\n1\n3\n4\n2\n2\n4\n3\n4\n3\n3\n3\n2\n3\n3", "7 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2007", "COCI（克罗地亚）"], "title": "[CRCI2006-2007] FIREFLY", "background": "一只日本萤火虫飞进了一个充满障碍的山洞。", "description": "山洞中有两种障碍物：石笋（从地面向上生长）和钟乳石（从洞顶垂挂下来）。山洞长 $n$ 个单位，高 $h$ 个单位。从左到右第一个障碍物是石笋；紧接着钟乳石与石笋依次交替出现。\n\n下图是一个长 $14$ 个单位，高 $5$ 个单位的山洞示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bcb6bifp.png)\n\n这只日本萤火虫并不会绕开障碍物，而只会沿着同一高度飞行。凭借着自己精湛的功夫，他会从山洞的一端，以某一高度撞开所有障碍物而达到另一端。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3t9jf6ny.png)\n\n例如在上图中，如果萤火虫选择高度 $4$ 来飞行，那么它总共会撞到 $8$ 个障碍物。\n\n但这并不是最好的选择。因为如果它选择高度 $1$ 或高度 $5$ 飞行的话，只需要撞开 $7$ 个障碍物就行了。\n\n为了减轻疼痛，你需要帮助萤火虫找出最少需要摧毁的障碍的数量和摧毁最少障碍物的高度种类数。", "inputFormat": "输入第一行两个整数 $n,h$，表示山洞的长度和高度。数据保证 $n$ 是偶数。\n\n接下来的 $n$ 行，每行一个整数，表示障碍物的长度。保证所有障碍物的长度都小于 $h$。", "outputFormat": "输出一行两个整数，分别为最少需要摧毁的障碍物数量和摧毁最少的障碍物有多少种高度的选择。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 2\\times 10^5$，$2\\le h\\le 5\\times 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T3 FIREFLY***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2006-2007] FIREFLY", "background": "一只日本萤火虫飞进了一个充满障碍的山洞。", "description": "山洞中有两种障碍物：石笋（从地面向上生长）和钟乳石（从洞顶垂挂下来）。山洞长 $n$ 个单位，高 $h$ 个单位。从左到右第一个障碍物是石笋；紧接着钟乳石与石笋依次交替出现。\n\n下图是一个长 $14$ 个单位，高 $5$ 个单位的山洞示例：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bcb6bifp.png)\n\n这只日本萤火虫并不会绕开障碍物，而只会沿着同一高度飞行。凭借着自己精湛的功夫，他会从山洞的一端，以某一高度撞开所有障碍物而达到另一端。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3t9jf6ny.png)\n\n例如在上图中，如果萤火虫选择高度 $4$ 来飞行，那么它总共会撞到 $8$ 个障碍物。\n\n但这并不是最好的选择。因为如果它选择高度 $1$ 或高度 $5$ 飞行的话，只需要撞开 $7$ 个障碍物就行了。\n\n为了减轻疼痛，你需要帮助萤火虫找出最少需要摧毁的障碍的数量和摧毁最少障碍物的高度种类数。", "inputFormat": "输入第一行两个整数 $n,h$，表示山洞的长度和高度。数据保证 $n$ 是偶数。\n\n接下来的 $n$ 行，每行一个整数，表示障碍物的长度。保证所有障碍物的长度都小于 $h$。", "outputFormat": "输出一行两个整数，分别为最少需要摧毁的障碍物数量和摧毁最少的障碍物有多少种高度的选择。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 2\\times 10^5$，$2\\le h\\le 5\\times 10^5$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T3 FIREFLY***。", "locale": "zh-CN"}}}
{"pid": "P6482", "type": "P", "difficulty": 5, "samples": [["3 1\nBBW", "2"], ["6 2\nWBWWBW", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2007", "O2优化", "深度优先搜索 DFS", "COCI（克罗地亚）"], "title": "[CRCI2006-2007] CIRCLE", "background": "", "description": "给定一串环形排列的鹅卵石。这串鹅卵石共有 $n$ 个，每个鹅卵石可能是黑色或者白色。\n\nMirko 要对这串鹅卵石进行 $k$ 次操作。这串鹅卵石为**初始石串**。一次操作的描述如下：\n\n- 如果相邻的鹅卵石颜色相同，则把它们之间放入一个黑色鹅卵石；\n\n- 如果相邻的鹅卵石颜色不同，则把它们之间再放入一个白色鹅卵石；\n\n- 重复上述步骤 $k$ 次。\n\n- **这里的相邻只计算原有的鹅卵石。后放入的不计。**\n\n- 最终，原来的一串鹅卵石将会增加到 $2\\times n$ 个。把**初始石串**拿走，剩下的鹅卵石（也就是后加入的 $n$ 个）即为一次操作后的结果。\n\n给定一个初始石串，经过 $k$ 次操作后会得到一个结果。你需要求出：有多少种不同的初始石串同样可以经过 $k$ 次操作得到同样的结果？", "inputFormat": "输入第一行有两个整数 $n,k$。\n\n第二行一行 $n$ 个字符，描述这串石头的颜色。`W` 表示白色，`B` 表示黑色。", "outputFormat": "输出一行一个整数，表示不同的初始石串的种类数。（输入的那一种计入答案）", "hint": "#### 样例 1 解释\n\n石串 `BBW` 和 `WBW` 在经过 $1$ 次操作后同样得到石串 `BWW`。故有 $2$ 种初始石串。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$1\\le k\\le 10$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T4 CIRCLE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2006-2007] CIRCLE", "background": "", "description": "给定一串环形排列的鹅卵石。这串鹅卵石共有 $n$ 个，每个鹅卵石可能是黑色或者白色。\n\nMirko 要对这串鹅卵石进行 $k$ 次操作。这串鹅卵石为**初始石串**。一次操作的描述如下：\n\n- 如果相邻的鹅卵石颜色相同，则把它们之间放入一个黑色鹅卵石；\n\n- 如果相邻的鹅卵石颜色不同，则把它们之间再放入一个白色鹅卵石；\n\n- 重复上述步骤 $k$ 次。\n\n- **这里的相邻只计算原有的鹅卵石。后放入的不计。**\n\n- 最终，原来的一串鹅卵石将会增加到 $2\\times n$ 个。把**初始石串**拿走，剩下的鹅卵石（也就是后加入的 $n$ 个）即为一次操作后的结果。\n\n给定一个初始石串，经过 $k$ 次操作后会得到一个结果。你需要求出：有多少种不同的初始石串同样可以经过 $k$ 次操作得到同样的结果？", "inputFormat": "输入第一行有两个整数 $n,k$。\n\n第二行一行 $n$ 个字符，描述这串石头的颜色。`W` 表示白色，`B` 表示黑色。", "outputFormat": "输出一行一个整数，表示不同的初始石串的种类数。（输入的那一种计入答案）", "hint": "#### 样例 1 解释\n\n石串 `BBW` 和 `WBW` 在经过 $1$ 次操作后同样得到石串 `BWW`。故有 $2$ 种初始石串。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，$1\\le k\\le 10$。\n\n#### 说明\n\n**题目译自 [COCI2006-2007](https://hsin.hr/coci/archive/2006_2007/) [Regional Competition](https://hsin.hr/coci/archive/2006_2007/regional_tasks.pdf) *T4 CIRCLE***。", "locale": "zh-CN"}}}
{"pid": "P6483", "type": "P", "difficulty": 2, "samples": [["8 1\n", "3 3"], ["10 2\n", "4 3"], ["24 24\n", "8 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #4] PARKET", "background": "", "description": "有一个 $n$ 行 $m$ 列的方格阵，最外圈的方格是红色的，其余方格是黑色的。\n\n给出红色方格的个数 $r$ 和黑色方格的个数 $b$，请给出一组可行的 $n$，$m$ 的取值。", "inputFormat": "输入只有一行两个整数，分别表示红色方格的个数 $r$ 和黑色方格的个数 $b$。", "outputFormat": "输出一行两个整数，分别表示方格阵的行数 $n$ 和列数 $m$。如果有多组解，请输出 $n$ 最大的一组。", "hint": "#### 样例 2 解释\n\n输出给出的方格阵如图：其中浅色格子代表红色，深色格子代表黑色。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/64uk9gbp.png)\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $8 \\leq r \\leq 2 \\times 10^6$，$1 \\leq b \\leq 2 \\times 10^{6}$。数据保证至少存在一组解。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T2 PARKET***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #4] PARKET", "background": "", "description": "有一个 $n$ 行 $m$ 列的方格阵，最外圈的方格是红色的，其余方格是黑色的。\n\n给出红色方格的个数 $r$ 和黑色方格的个数 $b$，请给出一组可行的 $n$，$m$ 的取值。", "inputFormat": "输入只有一行两个整数，分别表示红色方格的个数 $r$ 和黑色方格的个数 $b$。", "outputFormat": "输出一行两个整数，分别表示方格阵的行数 $n$ 和列数 $m$。如果有多组解，请输出 $n$ 最大的一组。", "hint": "#### 样例 2 解释\n\n输出给出的方格阵如图：其中浅色格子代表红色，深色格子代表黑色。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/64uk9gbp.png)\n\n#### 数据规模与约定\n\n对于全部的测试点，保证 $8 \\leq r \\leq 2 \\times 10^6$，$1 \\leq b \\leq 2 \\times 10^{6}$。数据保证至少存在一组解。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T2 PARKET***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6484", "type": "P", "difficulty": 2, "samples": [["02:20\n13:00\n05:50\n01:00", "Saturday\n14:00"], ["02:20\n23:28\n00:40\n23:50", "Never"], ["23:19\n10:19\n02:42\n09:11", "Thursday\n00:31"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #4] ASTRO", "background": "", "description": "有两颗星星，他们各自每隔一段时间都会闪烁一次。\n\n现在，知道了两个星星第一次闪烁的时间和每颗星星两次闪烁的间隔。你需要求出何日何时两颗星星首次同时闪烁。\n\n**注意：刚开始闪烁的那一天为星期六，`00:00` 为一天的第一分钟。**", "inputFormat": "输入共四行。\n\n每行一个形如 `HH:MM` 的时间（小时：分钟），依次表示第一颗星星闪烁的初始时间；第二颗星星闪烁的初始时间；第一颗星星闪烁的时间间隔；第二颗星星闪烁的时间间隔。\n\n保证前两行的时间不同，且均在星期六；时间间隔不会是 `00:00`。", "outputFormat": "如果两颗星星永远不会同时闪烁，则输出 `Never`。\n\n否则输出两行，第一行一个字符串，表示第一次同时闪烁是星期几。第二行一个格式与输入相同的时刻，表示这一天的具体同时闪烁为什么时候。\n\n单词的正确拼写：（依次为星期日到星期六）\n\n`Sunday` `Monday` `Tuesday` `Wednesday` `Thursday` `Friday` `Saturday`。\n\n如果 $HH<10$，需要输出前导 $0$。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证时间间隔为整小时数，即 $MM=0$；例如 `13:00`。\n- 对于 $100\\%$ 的数据，保证 $0\\le HH\\le 23$，$0\\le MM\\le 59$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T3 ASTRO***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #4] ASTRO", "background": "", "description": "有两颗星星，他们各自每隔一段时间都会闪烁一次。\n\n现在，知道了两个星星第一次闪烁的时间和每颗星星两次闪烁的间隔。你需要求出何日何时两颗星星首次同时闪烁。\n\n**注意：刚开始闪烁的那一天为星期六，`00:00` 为一天的第一分钟。**", "inputFormat": "输入共四行。\n\n每行一个形如 `HH:MM` 的时间（小时：分钟），依次表示第一颗星星闪烁的初始时间；第二颗星星闪烁的初始时间；第一颗星星闪烁的时间间隔；第二颗星星闪烁的时间间隔。\n\n保证前两行的时间不同，且均在星期六；时间间隔不会是 `00:00`。", "outputFormat": "如果两颗星星永远不会同时闪烁，则输出 `Never`。\n\n否则输出两行，第一行一个字符串，表示第一次同时闪烁是星期几。第二行一个格式与输入相同的时刻，表示这一天的具体同时闪烁为什么时候。\n\n单词的正确拼写：（依次为星期日到星期六）\n\n`Sunday` `Monday` `Tuesday` `Wednesday` `Thursday` `Friday` `Saturday`。\n\n如果 $HH<10$，需要输出前导 $0$。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证时间间隔为整小时数，即 $MM=0$；例如 `13:00`。\n- 对于 $100\\%$ 的数据，保证 $0\\le HH\\le 23$，$0\\le MM\\le 59$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T3 ASTRO***。", "locale": "zh-CN"}}}
{"pid": "P6485", "type": "P", "difficulty": 3, "samples": [["5.0", "0 0 0 0 1"], ["4.5", "0 0 0 1 1"], ["3.20", "0 0 4 1 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2010", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #4] PROSJEK", "background": "", "description": "你有 $5$ 种数字： $1,2,3,4,5$。\n\n你需要从中选取尽量少的数字，使得这些数之和的平均数为 $P$。\n\n**需要注意的是，这 $5$ 种数字每种有任意多个。**", "inputFormat": "输入一行一个实数 $P$。\n\n$P$ 为一个 $1\\sim 9$ 位的小数。", "outputFormat": "输出一行五个数，分别表示 $1,2,3,4,5$ 取用的数量。\n\n**如果有多种最优的方案，输出任意一种即可。本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le P\\le 5$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T4 PROSJEK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #4] PROSJEK", "background": "", "description": "你有 $5$ 种数字： $1,2,3,4,5$。\n\n你需要从中选取尽量少的数字，使得这些数之和的平均数为 $P$。\n\n**需要注意的是，这 $5$ 种数字每种有任意多个。**", "inputFormat": "输入一行一个实数 $P$。\n\n$P$ 为一个 $1\\sim 9$ 位的小数。", "outputFormat": "输出一行五个数，分别表示 $1,2,3,4,5$ 取用的数量。\n\n**如果有多种最优的方案，输出任意一种即可。本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le P\\le 5$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T4 PROSJEK***。", "locale": "zh-CN"}}}
{"pid": "P6486", "type": "P", "difficulty": 6, "samples": [["4\n2 100\n1 100\n4 70\n3 70", "170"], ["3\n2 120\n3 50\n2 80", "150"], ["5\n3 30\n3 20\n4 100\n5 40\n3 60", "110"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #4] DUGOVI", "background": "", "description": "在一个小镇上有 $n$ 位居民，每位居民都**恰好从其他一位**居民那里借了一些钱。\n\n现在到了还债的时间。但问题是每个人都把自己的钱用完了；也就是说任何人都无力偿还债务。这样以来产生了很多冲突。\n\n市长决定解决这个问题。他预想要给一部分居民一些钱，以便于他们用来还债。不过当一部分居民拿到了钱，一系列的连锁反应就开始了。\n\n例如， $A$ 从市长那里得到了钱。$A$ 赶忙用这些钱偿还 $B$ 的债务。$B$ 也正好偿还 $C$ 的债务，以此类推。\n\n其中，如果 $B$ 没有足够的钱来一次还清，那么他会把钱暂时留在自己手里等到钱够了；如果还完债后还有剩余， $B$ 也会自己留着。（$B$ 的行为对于任意一个人适用）\n\n另一个例子：如果两个镇上的居民**互欠**对方 $100$ 美元，那么市长只需要给其中一个人 $100$ 美元，这两个债务就都解决了。\n\n你需要通过程序来计算出：市长至少要支出多少元给一部分居民才能平息一切债务？", "inputFormat": "输入一行一个整数 $n$，表示镇上居民的数量。\n\n接下来的 $n$ 行，每行两个整数 $A_i,B_i$，表示第 $i$ 个人欠第 $A_i$ 个人 $B_i$ 美元。\n\n居民从 $1\\sim n$ 编号。", "outputFormat": "输出一行一个整数，表示市长最少支出的金额。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 2\\times 10^5$，$1\\le A_i\\le n$ 且 $A_i\\neq i$，$1\\le B_i\\le 10^4$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T5 DUGOVI***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #4] DUGOVI", "background": "", "description": "在一个小镇上有 $n$ 位居民，每位居民都**恰好从其他一位**居民那里借了一些钱。\n\n现在到了还债的时间。但问题是每个人都把自己的钱用完了；也就是说任何人都无力偿还债务。这样以来产生了很多冲突。\n\n市长决定解决这个问题。他预想要给一部分居民一些钱，以便于他们用来还债。不过当一部分居民拿到了钱，一系列的连锁反应就开始了。\n\n例如， $A$ 从市长那里得到了钱。$A$ 赶忙用这些钱偿还 $B$ 的债务。$B$ 也正好偿还 $C$ 的债务，以此类推。\n\n其中，如果 $B$ 没有足够的钱来一次还清，那么他会把钱暂时留在自己手里等到钱够了；如果还完债后还有剩余， $B$ 也会自己留着。（$B$ 的行为对于任意一个人适用）\n\n另一个例子：如果两个镇上的居民**互欠**对方 $100$ 美元，那么市长只需要给其中一个人 $100$ 美元，这两个债务就都解决了。\n\n你需要通过程序来计算出：市长至少要支出多少元给一部分居民才能平息一切债务？", "inputFormat": "输入一行一个整数 $n$，表示镇上居民的数量。\n\n接下来的 $n$ 行，每行两个整数 $A_i,B_i$，表示第 $i$ 个人欠第 $A_i$ 个人 $B_i$ 美元。\n\n居民从 $1\\sim n$ 编号。", "outputFormat": "输出一行一个整数，表示市长最少支出的金额。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 2\\times 10^5$，$1\\le A_i\\le n$ 且 $A_i\\neq i$，$1\\le B_i\\le 10^4$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T5 DUGOVI***。", "locale": "zh-CN"}}}
{"pid": "P6487", "type": "P", "difficulty": 7, "samples": [["4", "1"], ["7", "2"], ["8", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["博弈论", "2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #4] HRPA", "background": "", "description": "有 $n$ 枚石子。两位玩家定了如下规则进行游戏：\n\n- Mirko 先取一次，Slavko 再取一次，然后 Mirko 再取一次，两人轮流取石子，以此类推；\n- Mirko 在第一次取石子时可以取走任意多个；\n- 接下来，每次至少要取走一个石子，最多取走上一次取的数量的 $2$ 倍。当然，玩家取走的数量必须不大于目前场上剩余的石子数量。\n- 取走最后一块石子的玩家获胜。\n\n双方都以最优策略取石子。Mirko 想知道，自己第一次至少要取走几颗石子最终才能够获胜。", "inputFormat": "输入一行一个整数 $n$，表示石子的数量。", "outputFormat": "输出一行一个整数，表示 Mirko 最少取多少石子可以保证获胜。", "hint": "#### 样例 1 解释\n\n对于这个样例，Mirko 第一次可以取 $1/2/3/4$ 个。虽然他取 $4$ 个会直接赢得比赛，但这并不是最少的。最少的方案是取走 $1$ 个。这样 Slavko 只能取走 $1$ 个或者 $2$ 个。无论选择哪种，Mirko 下一步都能取走所有的石子并获胜。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T6 HRPA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #4] HRPA", "background": "", "description": "有 $n$ 枚石子。两位玩家定了如下规则进行游戏：\n\n- Mirko 先取一次，Slavko 再取一次，然后 Mirko 再取一次，两人轮流取石子，以此类推；\n- Mirko 在第一次取石子时可以取走任意多个；\n- 接下来，每次至少要取走一个石子，最多取走上一次取的数量的 $2$ 倍。当然，玩家取走的数量必须不大于目前场上剩余的石子数量。\n- 取走最后一块石子的玩家获胜。\n\n双方都以最优策略取石子。Mirko 想知道，自己第一次至少要取走几颗石子最终才能够获胜。", "inputFormat": "输入一行一个整数 $n$，表示石子的数量。", "outputFormat": "输出一行一个整数，表示 Mirko 最少取多少石子可以保证获胜。", "hint": "#### 样例 1 解释\n\n对于这个样例，Mirko 第一次可以取 $1/2/3/4$ 个。虽然他取 $4$ 个会直接赢得比赛，但这并不是最少的。最少的方案是取走 $1$ 个。这样 Slavko 只能取走 $1$ 个或者 $2$ 个。无论选择哪种，Mirko 下一步都能取走所有的石子并获胜。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^{15}$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #4](https://hsin.hr/coci/archive/2010_2011/contest4_tasks.pdf) *T6 HRPA***。", "locale": "zh-CN"}}}
{"pid": "P6488", "type": "P", "difficulty": 1, "samples": [["1 10\n10 10 10 10 10\n", "0 0 0 0 0\n"], ["5 20\n99 101 1000 0 97\n", "-1 1 900 -100 -3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #6] OKUPLJANJE", "background": null, "description": "一场巨大的派对结束以后，有五家报纸刊登了参加这场派对的人数，然而这些报纸上的数字可能是错误的。\n\n现在你知道整个会场的面积是 $L$ 平方米，并且平均每平方米上有 $p$ 个人。现在请分别求出这五家报纸刊登的参加人数与实际参加人数之差。", "inputFormat": "输入的第一行有两个整数，分别表示会场面积 $L$ 和平均每平方米的人数 $p$。\n\n第二行有五个整数 $a_1 \\dots a_5$，分别表示五家报纸刊登的人数。", "outputFormat": "输出一行五个整数，依次表示每家报纸刊登人数与实际人数之差。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq L, p \\leq 10^9$，$0 \\leq a_i \\leq 10^{18}$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T1 OKUPLJANJE***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)，数据范围略有修改。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #6] OKUPLJANJE", "background": null, "description": "一场巨大的派对结束以后，有五家报纸刊登了参加这场派对的人数，然而这些报纸上的数字可能是错误的。\n\n现在你知道整个会场的面积是 $L$ 平方米，并且平均每平方米上有 $p$ 个人。现在请分别求出这五家报纸刊登的参加人数与实际参加人数之差。", "inputFormat": "输入的第一行有两个整数，分别表示会场面积 $L$ 和平均每平方米的人数 $p$。\n\n第二行有五个整数 $a_1 \\dots a_5$，分别表示五家报纸刊登的人数。", "outputFormat": "输出一行五个整数，依次表示每家报纸刊登人数与实际人数之差。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq L, p \\leq 10^9$，$0 \\leq a_i \\leq 10^{18}$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T1 OKUPLJANJE***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)，数据范围略有修改。", "locale": "zh-CN"}}}
{"pid": "P6489", "type": "P", "difficulty": 1, "samples": [["5\n1 2 1 4 6", "5"], ["8\n12 20 1 3 4 4 11 1", "8"], ["6\n10 8 8 6 4 3", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #6] USPON", "background": "Tomislav 去爬山。", "description": "他所走的山路可以看做一个长度为 $n$ 的数字序列 $P_i$，$P_i$ 表示位置 $i$ 的高度为 $P_i$。\n\n从低处往高处走一段**连续的高度严格递增的**山路称为一次爬升。\n\n为了锻炼身体，他想走一段落差尽量大的爬升。\n\n一段山路的落差定义为这段山路的结束点与起始点的差。\n\n你需要求出他走一段山路所能达到最大的落差是多少。", "inputFormat": "输入第一行一个整数 $n$，表示山路的长度。\n\n第二行 $n$ 个整数 $P_i$，表示位置 $i$ 的高度为 $P_i$。", "outputFormat": "输出一行一个整数，表示最大的落差。\n\n如果整条山路不包含任何的爬升，则输出 `0`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 1000$，$1\\le P_i\\le 1000$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T2 USPON***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #6] USPON", "background": "Tomislav 去爬山。", "description": "他所走的山路可以看做一个长度为 $n$ 的数字序列 $P_i$，$P_i$ 表示位置 $i$ 的高度为 $P_i$。\n\n从低处往高处走一段**连续的高度严格递增的**山路称为一次爬升。\n\n为了锻炼身体，他想走一段落差尽量大的爬升。\n\n一段山路的落差定义为这段山路的结束点与起始点的差。\n\n你需要求出他走一段山路所能达到最大的落差是多少。", "inputFormat": "输入第一行一个整数 $n$，表示山路的长度。\n\n第二行 $n$ 个整数 $P_i$，表示位置 $i$ 的高度为 $P_i$。", "outputFormat": "输出一行一个整数，表示最大的落差。\n\n如果整条山路不包含任何的爬升，则输出 `0`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 1000$，$1\\le P_i\\le 1000$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T2 USPON***。", "locale": "zh-CN"}}}
{"pid": "P6490", "type": "P", "difficulty": 2, "samples": [["3\n5\n5\n5", "3"], ["4\n5\n3\n7\n5", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #6] RAZINE", "background": "", "description": "给定一个长度为 $n$ 的序列，你可以将某些各减去一个数，使得整个序列**严格递增**。\n\n你需要求出所有减去的数的总和的最小值。\n\n例如：有一个长度为 $3$ 的序列 $5,5,5$；最优方案是 $5-2,5-1,5$ 即 $3,4,5$。这样所有减去的数的总和是 $2+1=3$，为最小值。", "inputFormat": "输入第一行一个整数 $n$，表示序列的长度。\n\n第二行 $n$ 个整数，描述这个序列。", "outputFormat": "输出一行一个整数，表示总和的最小值。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，序列中的数字皆为不大于 $20000$ 的正整数。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T3 RAZINE***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #6] RAZINE", "background": "", "description": "给定一个长度为 $n$ 的序列，你可以将某些各减去一个数，使得整个序列**严格递增**。\n\n你需要求出所有减去的数的总和的最小值。\n\n例如：有一个长度为 $3$ 的序列 $5,5,5$；最优方案是 $5-2,5-1,5$ 即 $3,4,5$。这样所有减去的数的总和是 $2+1=3$，为最小值。", "inputFormat": "输入第一行一个整数 $n$，表示序列的长度。\n\n第二行 $n$ 个整数，描述这个序列。", "outputFormat": "输出一行一个整数，表示总和的最小值。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，序列中的数字皆为不大于 $20000$ 的正整数。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T3 RAZINE***。", "locale": "zh-CN"}}}
{"pid": "P6491", "type": "P", "difficulty": 4, "samples": [["5\nula\nuka\nklua\nkula\nal", "luka"], ["4\njaja\nbaba\nbaja\nbeba", "!"], ["3\nmarko\ndarko\nzarko", "?"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #6] ABECEDA", "background": "", "description": "人们发现一份字典序未知的单词表。其中共包含 $n$ 个单词。\n\n虽然不知道具体的字典序，但大家已知这些单词在单词表上是按照字典序排列的。\n\n你需要求出这份单词表所依照哪种字典序。", "inputFormat": "输入第一行一个整数 $n$，表示单词数。\n\n接下来的 $n$ 行，每行一个字符串，描述一个单词。", "outputFormat": "输出一行：\n\n- 如果有唯一的字典序，则按照你求出的字典序依次输出字母；\n- 如果答案不存在，则输出 `!`；\n- 如果存在多种可能的字典序，则输出 `?`。", "hint": "#### 样例 1 解释\n\n根据第一列的字母可知，`a` `k` `u` 这三个字母的字典序是 `u` `k` `a`。再观察第二列可知，`l` 排在 `u` 之前。所以最终的字典序为 `luka`，且是唯一解。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，所有的单词仅包含小写字母且最多包含 $10$ 个。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T4 ABECEDA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #6] ABECEDA", "background": "", "description": "人们发现一份字典序未知的单词表。其中共包含 $n$ 个单词。\n\n虽然不知道具体的字典序，但大家已知这些单词在单词表上是按照字典序排列的。\n\n你需要求出这份单词表所依照哪种字典序。", "inputFormat": "输入第一行一个整数 $n$，表示单词数。\n\n接下来的 $n$ 行，每行一个字符串，描述一个单词。", "outputFormat": "输出一行：\n\n- 如果有唯一的字典序，则按照你求出的字典序依次输出字母；\n- 如果答案不存在，则输出 `!`；\n- 如果存在多种可能的字典序，则输出 `?`。", "hint": "#### 样例 1 解释\n\n根据第一列的字母可知，`a` `k` `u` 这三个字母的字典序是 `u` `k` `a`。再观察第二列可知，`l` 排在 `u` 之前。所以最终的字典序为 `luka`，且是唯一解。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 100$，所有的单词仅包含小写字母且最多包含 $10$ 个。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T4 ABECEDA***。", "locale": "zh-CN"}}}
{"pid": "P6492", "type": "P", "difficulty": 4, "samples": [["6 2\n2\n4\n", "3\n5"], ["6 5\n4\n1\n1\n2\n6\n", "3\n3\n3\n5\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2010", "线段树", "O2优化", "COCI（克罗地亚）", "线段树合并"], "title": "[COCI 2010/2011 #6] STEP", "background": null, "description": "给定一个长度为 $n$ 的字符序列 $a$，初始时序列中全部都是字符 `L`。\n\n有 $q$ 次修改，每次给定一个 $x$，若 $a_x$ 为 `L`，则将 $a_x$ 修改成 `R`，否则将 $a_x$ 修改成 `L`。\n\n对于一个只含字符 `L`，`R` 的字符串 $s$，若其中不存在连续的 `L` 和 `R`，则称 $s$ 满足要求。\n\n每次修改后，请输出当前序列 $a$ 中最长的满足要求的连续子串的长度。", "inputFormat": "第一行有两个整数，分别表示序列的长度 $n$ 和修改操作的次数 $q$。\n\n接下来 $q$ 行，每行一个整数，表示本次修改的位置 $x$。", "outputFormat": "对于每次修改操作，输出一行一个整数表示序列 $a$ 中最长的满足要求的子串的长度。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n, q \\leq 2 \\times 10^5$，$1 \\leq x \\leq n$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T5 STEP***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #6] STEP", "background": null, "description": "给定一个长度为 $n$ 的字符序列 $a$，初始时序列中全部都是字符 `L`。\n\n有 $q$ 次修改，每次给定一个 $x$，若 $a_x$ 为 `L`，则将 $a_x$ 修改成 `R`，否则将 $a_x$ 修改成 `L`。\n\n对于一个只含字符 `L`，`R` 的字符串 $s$，若其中不存在连续的 `L` 和 `R`，则称 $s$ 满足要求。\n\n每次修改后，请输出当前序列 $a$ 中最长的满足要求的连续子串的长度。", "inputFormat": "第一行有两个整数，分别表示序列的长度 $n$ 和修改操作的次数 $q$。\n\n接下来 $q$ 行，每行一个整数，表示本次修改的位置 $x$。", "outputFormat": "对于每次修改操作，输出一行一个整数表示序列 $a$ 中最长的满足要求的子串的长度。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n, q \\leq 2 \\times 10^5$，$1 \\leq x \\leq n$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T5 STEP***，翻译来自 @[一扶苏一](https://www.luogu.com.cn/user/65363)。", "locale": "zh-CN"}}}
{"pid": "P6493", "type": "P", "difficulty": 7, "samples": [["2 3\n...\n.#.", "1"], ["3 3\n...\n...\n...", "12"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2010", "轮廓线 DP", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #6] VODA", "background": "", "description": "在一个 $r\\times s$ 的网格城市里，你承担着水资源运输的设计工作。\n\n具体来说，你需要把水资源从左上角 $(1,1)$ 的上方运输到右下角 $(r,s)$ 的下方，通过铺设水管来实现。\n\n有些格子为 `#`，表示有障碍物，无法铺设水管；其他的格子为 `.`，表示可以铺设水管。每一个为 `.` 的格子都可以铺设如下六种水管之一（也可以不铺设水管）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d3q2syci.png)\n\n你需要求出共有多少种可能的设计方案（$\\bmod\\ 10007$）。使得水资源在运输的过程中不漏出水管且所有铺设在城市中的水管都被使用。", "inputFormat": "输入第一行两个整数 $r,s$，表示城市的行数和列数。\n\n\n接下来的 $r$ 行，每行 $s$ 个字符，其中 `#` 表示无法铺设水管，`.` 表示可以铺设水管。\n", "outputFormat": "输出一行一个整数，表示总方案数（$\\bmod\\ 10007$）。", "hint": "#### 样例 1 解释\n\n对于第一个样例，只有如下图这一种铺设方案：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2ihdbu57.png)\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le r,s\\le 10$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T6 VODA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #6] VODA", "background": "", "description": "在一个 $r\\times s$ 的网格城市里，你承担着水资源运输的设计工作。\n\n具体来说，你需要把水资源从左上角 $(1,1)$ 的上方运输到右下角 $(r,s)$ 的下方，通过铺设水管来实现。\n\n有些格子为 `#`，表示有障碍物，无法铺设水管；其他的格子为 `.`，表示可以铺设水管。每一个为 `.` 的格子都可以铺设如下六种水管之一（也可以不铺设水管）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d3q2syci.png)\n\n你需要求出共有多少种可能的设计方案（$\\bmod\\ 10007$）。使得水资源在运输的过程中不漏出水管且所有铺设在城市中的水管都被使用。", "inputFormat": "输入第一行两个整数 $r,s$，表示城市的行数和列数。\n\n\n接下来的 $r$ 行，每行 $s$ 个字符，其中 `#` 表示无法铺设水管，`.` 表示可以铺设水管。\n", "outputFormat": "输出一行一个整数，表示总方案数（$\\bmod\\ 10007$）。", "hint": "#### 样例 1 解释\n\n对于第一个样例，只有如下图这一种铺设方案：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2ihdbu57.png)\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le r,s\\le 10$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #6](https://hsin.hr/coci/archive/2010_2011/contest6_tasks.pdf) *T6 VODA***。", "locale": "zh-CN"}}}
{"pid": "P6494", "type": "P", "difficulty": 2, "samples": [["4\nCaterpie\n12 33\nWeedle\n12 42\nPidgey\n12 47\nRattata\n25 71 ", "14\nWeedle "], ["7\nBulbasaur\n25 74\nIvysaur\n100 83\nCharmander\n25 116\nCharmeleon\n100 32\nSquirtle\n25 1\nWartortle\n100 173\nPikachu\n50 154 ", "11\nCharmander"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #2] Go", "background": "", "description": "在游戏《进化！宝可梦》中，Mirko 拥有 $n$ 只宝可梦。为了完成对它们的进化，Mirko 为第 $i$ 只宝可梦准备了 $m_i$ 颗糖果。\n\n每次进化第 $i$ 只宝可梦，都需要消耗 $k_i$ 颗为其准备的糖果。进化完成后，Mirko 将获得 $2$ 颗相应的糖果作为奖励。需要注意，所有宝可梦都只能使用相应的糖果进行进化。\n\nMirko 想知道他总共能完成多少次对宝可梦的进化，并找出进化次数最多的一只宝可梦。如果进化次数最多的宝可梦不唯一，请选择更早在输入中出现的那一只。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $2\\times n$ 行：\n\n- 第 $2\\times i$ 行一个字符串，表示 Mirko 的第 $i$ 只宝可梦的名字。 \n\n- 第 $2\\times i+1$ 行两个整数 $k_i,m_i$。", "outputFormat": "第一行一个整数，表示 Mirko 能完成对宝可梦进化的总次数。\n\n第二行一个字符串，表示进化次数最多的宝可梦的名字。", "hint": "#### 样例 1 解释\n\n对于 Weedle 的第一次进化，Mirko 消耗了 $12$ 颗糖果，然后获得 $2$ 颗糖果作为奖励。此时，还剩下 $42-12+2=32$ 颗糖果供 Weedle 进化。这样，Mirko 共能完成 $4$ 次对 Weedle 的进化。\n\n类似地，Mirko 能进化 $3$ 次 Caterpies，$4$ 次 Pidgeys 和 $3$ 次 Rattatas。累计能完成 $14$ 次进化，即为答案的第一部分。\n\n其中，Weedle 和 Pidgeys 的进化次数最多，均为 $4$ 次。由于 Weedle 比 Pidgeys 更早在输入中出现，故将 `Weedle` 作为答案的第二部分。 \n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 70$，$12\\le k_i\\le 400$，$1\\le m_i\\le 10^4$。\n\n所有字符串的长度不超过 $20$，且都仅包含大小写字母。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T1 Go_**。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #2] Go", "background": "", "description": "在游戏《进化！宝可梦》中，Mirko 拥有 $n$ 只宝可梦。为了完成对它们的进化，Mirko 为第 $i$ 只宝可梦准备了 $m_i$ 颗糖果。\n\n每次进化第 $i$ 只宝可梦，都需要消耗 $k_i$ 颗为其准备的糖果。进化完成后，Mirko 将获得 $2$ 颗相应的糖果作为奖励。需要注意，所有宝可梦都只能使用相应的糖果进行进化。\n\nMirko 想知道他总共能完成多少次对宝可梦的进化，并找出进化次数最多的一只宝可梦。如果进化次数最多的宝可梦不唯一，请选择更早在输入中出现的那一只。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $2\\times n$ 行：\n\n- 第 $2\\times i$ 行一个字符串，表示 Mirko 的第 $i$ 只宝可梦的名字。 \n\n- 第 $2\\times i+1$ 行两个整数 $k_i,m_i$。", "outputFormat": "第一行一个整数，表示 Mirko 能完成对宝可梦进化的总次数。\n\n第二行一个字符串，表示进化次数最多的宝可梦的名字。", "hint": "#### 样例 1 解释\n\n对于 Weedle 的第一次进化，Mirko 消耗了 $12$ 颗糖果，然后获得 $2$ 颗糖果作为奖励。此时，还剩下 $42-12+2=32$ 颗糖果供 Weedle 进化。这样，Mirko 共能完成 $4$ 次对 Weedle 的进化。\n\n类似地，Mirko 能进化 $3$ 次 Caterpies，$4$ 次 Pidgeys 和 $3$ 次 Rattatas。累计能完成 $14$ 次进化，即为答案的第一部分。\n\n其中，Weedle 和 Pidgeys 的进化次数最多，均为 $4$ 次。由于 Weedle 比 Pidgeys 更早在输入中出现，故将 `Weedle` 作为答案的第二部分。 \n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 70$，$12\\le k_i\\le 400$，$1\\le m_i\\le 10^4$。\n\n所有字符串的长度不超过 $20$，且都仅包含大小写字母。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T1 Go_**。\n", "locale": "zh-CN"}}}
{"pid": "P6495", "type": "P", "difficulty": 3, "samples": [["9 2 3 7\npo#olje#i\nsol\nznu ", "posoljeni"], ["4 1 2 2\n#rak\nzm ", "zrak "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #2] Tavan", "background": "", "description": "Željko 正在读奶奶的一封信。由于年代久远，信中的一些单词已经无法辨认。他选出了一个长度为 $n$ 的单词，将其中 $m$ 个无法辨认的字母替换为 `#`。\n\n对于每一处 `#`，奶奶都给出了 $k$ 个字母，该处原先的字母是这 $k$ 个字母之一。所有可能的单词中**按字典序排列**的第 $x$ 个，即为原先的单词。\n\n请你帮助他们找出原先的单词。", "inputFormat": "第一行四个整数 $n,m,k,x$。\n\n第二行一个长度为 $n$ 的字符串，表示 Željko 选出的单词。\n\n接下来 $m$ 行，每行一个长度为 $k$ 的字符串，表示奶奶给出的字母。", "outputFormat": "一行，一个字符串，表示原先的单词。", "hint": "#### 样例 1 解释\n\n所有可能的单词按字典序排列如下：\n\n- `pololjeni`\n- `pololjeui`\n- `pololjezi`\n- `poooljeni`\n- `poooljeui`\n- `poooljezi`\n- `posoljeni`\n- `posoljeui`\n- `posoljezi`\n\n第 $7$ 个单词为 `posoljeni`。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 500$，$1\\le m\\le n$，$1\\le k\\le 26$，$1\\le x\\le 10^9$。\n\n所有字符串中仅包含小写字母和 `#`。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T2 Tavan_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #2] Tavan", "background": "", "description": "Željko 正在读奶奶的一封信。由于年代久远，信中的一些单词已经无法辨认。他选出了一个长度为 $n$ 的单词，将其中 $m$ 个无法辨认的字母替换为 `#`。\n\n对于每一处 `#`，奶奶都给出了 $k$ 个字母，该处原先的字母是这 $k$ 个字母之一。所有可能的单词中**按字典序排列**的第 $x$ 个，即为原先的单词。\n\n请你帮助他们找出原先的单词。", "inputFormat": "第一行四个整数 $n,m,k,x$。\n\n第二行一个长度为 $n$ 的字符串，表示 Željko 选出的单词。\n\n接下来 $m$ 行，每行一个长度为 $k$ 的字符串，表示奶奶给出的字母。", "outputFormat": "一行，一个字符串，表示原先的单词。", "hint": "#### 样例 1 解释\n\n所有可能的单词按字典序排列如下：\n\n- `pololjeni`\n- `pololjeui`\n- `pololjezi`\n- `poooljeni`\n- `poooljeui`\n- `poooljezi`\n- `posoljeni`\n- `posoljeui`\n- `posoljezi`\n\n第 $7$ 个单词为 `posoljeni`。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 500$，$1\\le m\\le n$，$1\\le k\\le 26$，$1\\le x\\le 10^9$。\n\n所有字符串中仅包含小写字母和 `#`。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T2 Tavan_**。", "locale": "zh-CN"}}}
{"pid": "P6496", "type": "P", "difficulty": 2, "samples": [["3\n1 2 3 ", "1 "], ["5\n1 2 4 6 1", "1 "], ["4\n1 4 3 2 ", "2 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #2] Nizin", "background": "", "description": "设 $A$ 是一个含有 $n$ 个元素的数组，其中各元素的编号为 $1\\dots n$。若对于任意整数 $i\\in [1,n]$ 都有 $A_i=A_{n-i+1}$，则称 $A$ 是一个「回文数组」。\n\nMislav 可以通过以下方式修改一个数组：\n\n1. 选择两个**相邻**的元素。\n2. 将这两个元素**替换**为一个新的元素，值为它们的和。\n\n现在，给出一个数组。请你计算在至少多少次修改后，Mislav 可以将其修改为一个「回文数组」。", "inputFormat": "第一行一个整数 $n$，表示数组中元素的个数。\n\n接下来一行 $n$ 个整数 $a_i$，表示数组中的元素。", "outputFormat": "一行，一个整数，表示 Mislav 至少需要修改数组的次数。", "hint": "#### 【样例解释】\n\n使用 `[]` 标记 Mislav 修改时所选择的两个数。\n\n**样例 1 解释**\n\n`[1 2] 3` -> `3 3`。\n\n**样例 2 解释**\n\n`1 [2 4] 6 1` -> `1 6 6 1`。\n\n**样例 3 解释**\n\n`[1 4] 3 2` -> `5 [3 2]` -> `5 5`。\n\n------------\n\n#### 【数据规模与约定】\n\n- 对于 $30\\%$ 的数据，保证 $n \\leq 10$。\n- 对于 $60\\%$ 的数据，保证 $n \\leq 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^6$，$1\\le a_i\\le 10^9$。\n\n------------\n\n#### 【说明】\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T3 Nizin_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #2] Nizin", "background": "", "description": "设 $A$ 是一个含有 $n$ 个元素的数组，其中各元素的编号为 $1\\dots n$。若对于任意整数 $i\\in [1,n]$ 都有 $A_i=A_{n-i+1}$，则称 $A$ 是一个「回文数组」。\n\nMislav 可以通过以下方式修改一个数组：\n\n1. 选择两个**相邻**的元素。\n2. 将这两个元素**替换**为一个新的元素，值为它们的和。\n\n现在，给出一个数组。请你计算在至少多少次修改后，Mislav 可以将其修改为一个「回文数组」。", "inputFormat": "第一行一个整数 $n$，表示数组中元素的个数。\n\n接下来一行 $n$ 个整数 $a_i$，表示数组中的元素。", "outputFormat": "一行，一个整数，表示 Mislav 至少需要修改数组的次数。", "hint": "#### 【样例解释】\n\n使用 `[]` 标记 Mislav 修改时所选择的两个数。\n\n**样例 1 解释**\n\n`[1 2] 3` -> `3 3`。\n\n**样例 2 解释**\n\n`1 [2 4] 6 1` -> `1 6 6 1`。\n\n**样例 3 解释**\n\n`[1 4] 3 2` -> `5 [3 2]` -> `5 5`。\n\n------------\n\n#### 【数据规模与约定】\n\n- 对于 $30\\%$ 的数据，保证 $n \\leq 10$。\n- 对于 $60\\%$ 的数据，保证 $n \\leq 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^6$，$1\\le a_i\\le 10^9$。\n\n------------\n\n#### 【说明】\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T3 Nizin_**。", "locale": "zh-CN"}}}
{"pid": "P6497", "type": "P", "difficulty": 3, "samples": [["3 ", "1 2 3\n4 5 6\n7 8 9 "], ["2 ", "-1 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2016", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #2]  Prosječni", "background": "", "description": "Slavko 想在一个 $n\\times n$ 的矩阵内填入 $n^2$ 个互不相等的正整数，使其满足：\n\n- 每行 $n$ 个数的平均数是该行内的一个整数。\n- 每列 $n$ 个数的平均数是该列内的一个整数。\n- 对于矩阵中的任意一个元素 $a_{i,j}$，都有 $1\\le a_{i,j}\\le 10^9$。\n\n请你帮助他找出任意一种可行的方案。", "inputFormat": "一行，一个整数 $n$。", "outputFormat": "**本题使用 Special Judge**。\n\n若无解，输出 `-1`。\n\n否则，输出 $n$ 行，每行 $n$ 个整数，表示任意一个符合要求的矩阵。", "hint": "#### 样例 1 解释\n\n各行的平均数分别为 $2,5,8$，均为相应行内的一个整数。\n\n各列的平均数分别为 $4,5,6$，均为相应列内的一个整数。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T4 Prosječni_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #2]  Prosječni", "background": "", "description": "Slavko 想在一个 $n\\times n$ 的矩阵内填入 $n^2$ 个互不相等的正整数，使其满足：\n\n- 每行 $n$ 个数的平均数是该行内的一个整数。\n- 每列 $n$ 个数的平均数是该列内的一个整数。\n- 对于矩阵中的任意一个元素 $a_{i,j}$，都有 $1\\le a_{i,j}\\le 10^9$。\n\n请你帮助他找出任意一种可行的方案。", "inputFormat": "一行，一个整数 $n$。", "outputFormat": "**本题使用 Special Judge**。\n\n若无解，输出 `-1`。\n\n否则，输出 $n$ 行，每行 $n$ 个整数，表示任意一个符合要求的矩阵。", "hint": "#### 样例 1 解释\n\n各行的平均数分别为 $2,5,8$，均为相应行内的一个整数。\n\n各列的平均数分别为 $4,5,6$，均为相应列内的一个整数。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T4 Prosječni_**。", "locale": "zh-CN"}}}
{"pid": "P6498", "type": "P", "difficulty": 5, "samples": [["3 5\n1 3 2\n4\n3\n2 2 3\n4\n3 ", "1\nNE\n0\nDA "], ["5 5\n4 2 1 4 4\n3\n4\n1 1 3\n3\n4 ", "NE\n1\nDA\n0 "], ["4 10\n2 1 4 3\n3\n4\n1 1 2\n3\n4\n2 2 3\n2 1 2\n4\n2 3 4\n3 ", "NE\n2\nNE\n1\n3\nDA "]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2016", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #2] Zamjene", "background": "**警告：滥用本题评测将被封号。**", "description": "Dominik 构造了一个含有 $n$ 个元素的数组 $p_1,p_2,\\dots,p_n$，和对其排序得到的数组 $q_1,q_2,\\dots,q_n$。\n\n此外，他还定义了「可交换集」。若无序数对 $(a,b)$ 属于「可交换集」，则他可以交换 $p_a,p_b$ 的位置。『通过「可交换集」』，即为**通过若干次这样的交换**。\n\n现有四种操作：\n\n- 操作 $1$：\n\n\t格式：`1 a b`。\n    \n    交换 $p_a,p_b$ 的位置（不受「可交换集」限制）。\n    \n- 操作 $2$：\n\n\t格式：`2 a b`。\n    \n    将无序数对 $(a,b)$ 加入「可交换集」。\n    \n- 操作 $3$：\n\t\n    格式：`3`。\n    \n    判断能否通过「可交换集」完成对数组 $p$ 的排序。\n    \n- 操作 $4$：\n\n\t格式：`4`。\n    \n    若数组 $p$ 中的第 $x$ 个元素能通过「可交换集」移至第 $y$ 位，则称 $x,y$ 是相连的。其中 $x$ 可能等于 $y$。\n    \n    将所有与 $x$ 相连的 $y$ 构成的集合称作 $x$ 的「云」。若一朵「云」能通过「可交换集」使得「云」中任意的 $i$ 满足 $p_i=q_i$，则称这朵「云」是「祥云」。\n    \n    计算有多少组无序数对 $(a,b)$ 满足：\n    \n    - $1\\le a,b\\le n$ 且 $a\\not=b$。\n\t- $a,b$ 不是相连的。\n\t- $a$ 的「云」与 $b$ 的「云」均不是「祥云」。\n    - 将无序数对 $(a,b)$ 加入「可交换集」后，$a$ 的「云」变为「祥云」。\n    \n请你帮助 Dominik 完成这些操作。", "inputFormat": "第一行两个整数 $n,q$，表示数组 $p$ 中元素的个数和操作次数。\n\n第二行 $n$ 个整数 $p_i$。\n\n接下来 $q$ 行按以下格式给出：\n\n1. 一个整数 $t$，表示操作的类型。\n\n2. 若 $t$ 为 $1$ 或 $2$，接下来给出两个不同的整数 $a,b$。", "outputFormat": "- 对于每一次操作 $3$：\n\n\t若能通过「可交换集」完成对数组 $p$ 的排序，输出一行 `DA`。\n\n\t否则，输出一行 `NE`。\n\n- 对于每一次操作 $4$：\n\n\t输出一行，一个整数，表示满足条件的无序数对 $(a,b)$ 组数。", "hint": "#### 样例 1 解释\n\n- 第一次操作：仅有无序数对 $(2,3)$ 满足要求。\n- 第二次操作：不能通过「可交换集」完成对数组 $p$ 的排序。\n- 第三次操作：将无序数对 $(2,3)$ 加入「可交换集」。\n- 第四次操作：不存在满足要求的无序数对。\n- 第五次操作：交换 $p_2,p_3$，即可通过「可交换集」完成对数组 $p$ 的排序。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^6$，$1\\le p_i\\le 10^6$，$1\\le t\\le 4$，$1\\le a,b\\le n$ 且 $a\\not=b$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T5 Zamjene_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #2] Zamjene", "background": "**警告：滥用本题评测将被封号。**", "description": "Dominik 构造了一个含有 $n$ 个元素的数组 $p_1,p_2,\\dots,p_n$，和对其排序得到的数组 $q_1,q_2,\\dots,q_n$。\n\n此外，他还定义了「可交换集」。若无序数对 $(a,b)$ 属于「可交换集」，则他可以交换 $p_a,p_b$ 的位置。『通过「可交换集」』，即为**通过若干次这样的交换**。\n\n现有四种操作：\n\n- 操作 $1$：\n\n\t格式：`1 a b`。\n    \n    交换 $p_a,p_b$ 的位置（不受「可交换集」限制）。\n    \n- 操作 $2$：\n\n\t格式：`2 a b`。\n    \n    将无序数对 $(a,b)$ 加入「可交换集」。\n    \n- 操作 $3$：\n\t\n    格式：`3`。\n    \n    判断能否通过「可交换集」完成对数组 $p$ 的排序。\n    \n- 操作 $4$：\n\n\t格式：`4`。\n    \n    若数组 $p$ 中的第 $x$ 个元素能通过「可交换集」移至第 $y$ 位，则称 $x,y$ 是相连的。其中 $x$ 可能等于 $y$。\n    \n    将所有与 $x$ 相连的 $y$ 构成的集合称作 $x$ 的「云」。若一朵「云」能通过「可交换集」使得「云」中任意的 $i$ 满足 $p_i=q_i$，则称这朵「云」是「祥云」。\n    \n    计算有多少组无序数对 $(a,b)$ 满足：\n    \n    - $1\\le a,b\\le n$ 且 $a\\not=b$。\n\t- $a,b$ 不是相连的。\n\t- $a$ 的「云」与 $b$ 的「云」均不是「祥云」。\n    - 将无序数对 $(a,b)$ 加入「可交换集」后，$a$ 的「云」变为「祥云」。\n    \n请你帮助 Dominik 完成这些操作。", "inputFormat": "第一行两个整数 $n,q$，表示数组 $p$ 中元素的个数和操作次数。\n\n第二行 $n$ 个整数 $p_i$。\n\n接下来 $q$ 行按以下格式给出：\n\n1. 一个整数 $t$，表示操作的类型。\n\n2. 若 $t$ 为 $1$ 或 $2$，接下来给出两个不同的整数 $a,b$。", "outputFormat": "- 对于每一次操作 $3$：\n\n\t若能通过「可交换集」完成对数组 $p$ 的排序，输出一行 `DA`。\n\n\t否则，输出一行 `NE`。\n\n- 对于每一次操作 $4$：\n\n\t输出一行，一个整数，表示满足条件的无序数对 $(a,b)$ 组数。", "hint": "#### 样例 1 解释\n\n- 第一次操作：仅有无序数对 $(2,3)$ 满足要求。\n- 第二次操作：不能通过「可交换集」完成对数组 $p$ 的排序。\n- 第三次操作：将无序数对 $(2,3)$ 加入「可交换集」。\n- 第四次操作：不存在满足要求的无序数对。\n- 第五次操作：交换 $p_2,p_3$，即可通过「可交换集」完成对数组 $p$ 的排序。\n\n------------\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^6$，$1\\le p_i\\le 10^6$，$1\\le t\\le 4$，$1\\le a,b\\le n$ 且 $a\\not=b$。\n\n------------\n\n#### 说明\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T5 Zamjene_**。", "locale": "zh-CN"}}}
{"pid": "P6499", "type": "P", "difficulty": 6, "samples": [["6 2\n1 2\n2 3\n3 4\n1 5\n5 6 ", "DA "], ["3 1\n1 2\n1 3 ", "NE "], ["8 2\n1 2\n2 3\n2 4\n5 6\n6 8\n1 5\n7 1 ", "DA "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #2] Burza", "background": "", "description": "Daniel 和 Stjepan 在一棵含有 $n$ 个节点的树上做游戏，树上各节点的编号为 $1,2,\\dots,n$。游戏开始时，$1$ 号节点上有一枚硬币。\n\n游戏规则如下：\n\n1. Daniel 选择一个节点，将其标记。\n2. Stjepan 标记当前硬币所在的节点。\n3. Stjepan 将硬币移至一个**尚未标记**且**与当前所在的节点相邻**的节点。\n\n重复以上操作。当 Stjepan 无法移动硬币时，游戏结束。\n\nDaniel 想知道是否存在某种**既定**的操作策略，使得**无论 Stjepan 如何操作**，都能在 $k$ 轮操作内结束游戏。即 Stjepan 能移动硬币的次数**小于** $k$。", "inputFormat": "第一行两个整数 $n,k$。\n\n接下来 $n-1$ 行，每行两个整数 $a,b$，表示编号为 $a,b$ 的结点间存在一条边。", "outputFormat": "若存在满足条件的操作策略，输出一行 `DA`。\n\n否则，输出一行 `NE`。", "hint": "#### 【样例解释】\n\n**样例 2 解释**\n\n- 若 Daniel 标记结点 $1$，Stjepan 可以将硬币移至结点 $2$ 或结点 $3$。\n- 若 Daniel 标记结点 $2$，Stjepan 可以将硬币移至结点 $3$。\n- 若 Daniel 标记结点 $3$，Stjepan 可以将硬币移至结点 $2$。\n\n均不能在 $1$ 轮操作内结束游戏。\n\n即不存在满足条件的操作策略。\n\n**样例 3 解释**\n\n- 第一轮操作，Daniel 标记结点 $2$。\n- 第二轮操作，Daniel 标记结点 $6$。\n\n无论 Stjepan 如何操作，都无法第二次移动硬币。\n\n即存在满足条件的操作策略。\n\n------------\n\n#### 【数据规模与约定】\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 400$，$1\\le a,b\\le n$。\n\n------------\n\n#### 【说明】\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T6 Burza_**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #2] Burza", "background": "", "description": "Daniel 和 Stjepan 在一棵含有 $n$ 个节点的树上做游戏，树上各节点的编号为 $1,2,\\dots,n$。游戏开始时，$1$ 号节点上有一枚硬币。\n\n游戏规则如下：\n\n1. Daniel 选择一个节点，将其标记。\n2. Stjepan 标记当前硬币所在的节点。\n3. Stjepan 将硬币移至一个**尚未标记**且**与当前所在的节点相邻**的节点。\n\n重复以上操作。当 Stjepan 无法移动硬币时，游戏结束。\n\nDaniel 想知道是否存在某种**既定**的操作策略，使得**无论 Stjepan 如何操作**，都能在 $k$ 轮操作内结束游戏。即 Stjepan 能移动硬币的次数**小于** $k$。", "inputFormat": "第一行两个整数 $n,k$。\n\n接下来 $n-1$ 行，每行两个整数 $a,b$，表示编号为 $a,b$ 的结点间存在一条边。", "outputFormat": "若存在满足条件的操作策略，输出一行 `DA`。\n\n否则，输出一行 `NE`。", "hint": "#### 【样例解释】\n\n**样例 2 解释**\n\n- 若 Daniel 标记结点 $1$，Stjepan 可以将硬币移至结点 $2$ 或结点 $3$。\n- 若 Daniel 标记结点 $2$，Stjepan 可以将硬币移至结点 $3$。\n- 若 Daniel 标记结点 $3$，Stjepan 可以将硬币移至结点 $2$。\n\n均不能在 $1$ 轮操作内结束游戏。\n\n即不存在满足条件的操作策略。\n\n**样例 3 解释**\n\n- 第一轮操作，Daniel 标记结点 $2$。\n- 第二轮操作，Daniel 标记结点 $6$。\n\n无论 Stjepan 如何操作，都无法第二次移动硬币。\n\n即存在满足条件的操作策略。\n\n------------\n\n#### 【数据规模与约定】\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 400$，$1\\le a,b\\le n$。\n\n------------\n\n#### 【说明】\n\n**题目译自 [COCI2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #2](https://hsin.hr/coci/archive/2016_2017/contest2_tasks.pdf) _T6 Burza_**。", "locale": "zh-CN"}}}
{"pid": "P6500", "type": "P", "difficulty": 1, "samples": [["11 25\n", "36 37"], ["1430 4862\n", "6282 6292\n"], ["16796 58786\n", "74580 85582\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] ZBROJ", "background": "", "description": "老师给了 Perica 两个数 $a, b$，Perica 将他们抄在了笔记本上，并要算出他们的和。\n\n在抄写过程中，Perica 可能会将 $a, b$ 中的数字 $6$ 错抄成数字 $5$，也可能将数字 $5$ 错抄成数字 $6$，当然也可能不抄错。\n\n给定 $a, b$，请求出 Perica 算出的和最小和最大分别是多少。", "inputFormat": "输入只有一行两个整数，分别表示 $a$ 和 $b$。", "outputFormat": "输出一行两个整数，表示最小可能的和以及最大可能的和。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a, b \\leq 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T2 ZBROJ***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] ZBROJ", "background": "", "description": "老师给了 Perica 两个数 $a, b$，Perica 将他们抄在了笔记本上，并要算出他们的和。\n\n在抄写过程中，Perica 可能会将 $a, b$ 中的数字 $6$ 错抄成数字 $5$，也可能将数字 $5$ 错抄成数字 $6$，当然也可能不抄错。\n\n给定 $a, b$，请求出 Perica 算出的和最小和最大分别是多少。", "inputFormat": "输入只有一行两个整数，分别表示 $a$ 和 $b$。", "outputFormat": "输出一行两个整数，表示最小可能的和以及最大可能的和。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a, b \\leq 10^6$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T2 ZBROJ***。", "locale": "zh-CN"}}}
{"pid": "P6501", "type": "P", "difficulty": 2, "samples": [["3 2 2\n2 3.0 1 0.2 3 0.1\n3 1.0 2 0.5 1 0.2", "4.0"], ["4 4 3\n4 5.0 2 4.0 3 2.0 1 1.0\n2 2.0 3 1.0 1 0.5 4 0.3\n4 6.0 3 5.0 2 2.0 1 0.0\n1 4.0 2 3.0 4 0.6 3 0.3", "15.0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] EKIPA", "background": "", "description": "有一支队伍共 $n$ 个人准备参加 $m$ 类比赛。对于每一类比赛，每个人都有对这类比赛知识的积累程度（用一个一位小数表示）。作为教练，你需要派出 $k$ 名选手参赛。\n\n已知一个人最多只能参加一类比赛，多个人可以同时参加同一类比赛，可以有选手不参赛。请你安排 $k$ 名选手参加比赛，使得所有这 $k$ 名选手知识积累程度之和最大。\n", "inputFormat": "输入第一行三个整数 $n,m,k$，分别表示总人数，比赛种类数，实际派出选手数。\n\n接下来的 $m$ 行，描述 $m$ 类比赛。每行 $n$ 个数对 $(i,s)$，表示编号为 $i$ 的选手对这类比赛的知识积累程度为 $s$。按照 $s$ 递减的顺序给出这 $n$ 个数对，每名选手会且仅会出现一次。", "outputFormat": "输出一行一个实数，表示最大的知识积累程度总和。保留一位小数。", "hint": "#### 样例 1 解释\n\n对于这个样例，我们分别派 $2$ 号选手参加第一类竞赛，$3$ 好选手参加第二类竞赛，这样使得总和最大为 $3.0+1.0=4.0$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le m\\le 100$，$1\\le k\\le n\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T3 EKIPA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] EKIPA", "background": "", "description": "有一支队伍共 $n$ 个人准备参加 $m$ 类比赛。对于每一类比赛，每个人都有对这类比赛知识的积累程度（用一个一位小数表示）。作为教练，你需要派出 $k$ 名选手参赛。\n\n已知一个人最多只能参加一类比赛，多个人可以同时参加同一类比赛，可以有选手不参赛。请你安排 $k$ 名选手参加比赛，使得所有这 $k$ 名选手知识积累程度之和最大。\n", "inputFormat": "输入第一行三个整数 $n,m,k$，分别表示总人数，比赛种类数，实际派出选手数。\n\n接下来的 $m$ 行，描述 $m$ 类比赛。每行 $n$ 个数对 $(i,s)$，表示编号为 $i$ 的选手对这类比赛的知识积累程度为 $s$。按照 $s$ 递减的顺序给出这 $n$ 个数对，每名选手会且仅会出现一次。", "outputFormat": "输出一行一个实数，表示最大的知识积累程度总和。保留一位小数。", "hint": "#### 样例 1 解释\n\n对于这个样例，我们分别派 $2$ 号选手参加第一类竞赛，$3$ 好选手参加第二类竞赛，这样使得总和最大为 $3.0+1.0=4.0$。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le m\\le 100$，$1\\le k\\le n\\le 100$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T3 EKIPA***。", "locale": "zh-CN"}}}
{"pid": "P6502", "type": "P", "difficulty": 3, "samples": [["2 6\ndobarz\nadatak", "0"], ["3 4\nalfa\nbeta\nzeta", "2"], ["4 6\nmrvica\nmrvica\nmarica\nmateja", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["字符串", "2010", "二分", "O2优化", "哈希 hashing", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] ZNANSTVENIK", "background": "", "description": "给定一个 $r\\times c$ 的字母矩阵。你需要从这个矩阵的第一行开始，删除尽量多的行， 且保证矩阵任意两列都不相等。输出最多可以删除的行数。\n\n- 两列相等定义为在这两列中同一行的字母都相等。\n- 初始的矩阵中任意两列都是不相等的。", "inputFormat": "输入第一行两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个字母，描述这个字母矩阵。\n\n保证矩阵中的字母皆为小写字母。", "outputFormat": "输出一行一个整数，表示最多可以删除的行数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le r,c\\le 1000$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T4 ZNANSTVENIK***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] ZNANSTVENIK", "background": "", "description": "给定一个 $r\\times c$ 的字母矩阵。你需要从这个矩阵的第一行开始，删除尽量多的行， 且保证矩阵任意两列都不相等。输出最多可以删除的行数。\n\n- 两列相等定义为在这两列中同一行的字母都相等。\n- 初始的矩阵中任意两列都是不相等的。", "inputFormat": "输入第一行两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个字母，描述这个字母矩阵。\n\n保证矩阵中的字母皆为小写字母。", "outputFormat": "输出一行一个整数，表示最多可以删除的行数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le r,c\\le 1000$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T4 ZNANSTVENIK***。", "locale": "zh-CN"}}}
{"pid": "P6503", "type": "P", "difficulty": 4, "samples": [["3\n1\n2\n3", "4"], ["4\n7\n5\n7\n5", "12"], ["4\n3\n1\n7\n2", "31"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2010", "单调队列", "O2优化", "栈", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] DIFERENCIJA", "background": "", "description": "给出一个长度为 $n$ 的序列 $a_i$，求出下列式子的值：\n\n$$\\sum_{i=1}^{n} \\sum_{j=i}^{n} (\\max_{i\\le k\\le j} a_k-\\min_{i\\le k\\le j} a_k)$$\n\n\n\n即定义一个子序列的权值为序列内最大值与最小值的差。求出所有连续子序列的权值和。\n\n", "inputFormat": "输入第一行一个整数 $n$，表示序列的长度。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，描述这个序列。", "outputFormat": "输出一行一个整数，表示式子的答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 3\\times 10^5$，$1\\le a_i\\le 10^8$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T5 DIFERENCIJA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] DIFERENCIJA", "background": "", "description": "给出一个长度为 $n$ 的序列 $a_i$，求出下列式子的值：\n\n$$\\sum_{i=1}^{n} \\sum_{j=i}^{n} (\\max_{i\\le k\\le j} a_k-\\min_{i\\le k\\le j} a_k)$$\n\n\n\n即定义一个子序列的权值为序列内最大值与最小值的差。求出所有连续子序列的权值和。\n\n", "inputFormat": "输入第一行一个整数 $n$，表示序列的长度。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，描述这个序列。", "outputFormat": "输出一行一个整数，表示式子的答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 3\\times 10^5$，$1\\le a_i\\le 10^8$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T5 DIFERENCIJA***。", "locale": "zh-CN"}}}
{"pid": "P6504", "type": "P", "difficulty": 0, "samples": [["3 3\naaa\naaa\naaa\n4\n2 0\n2 2\n0 2\n0 0", "4"], ["3 3\naaa\naba\naaa\n4\n2 0\n2 2\n0 2\n0 0", "0"], ["5 4\nxyyx\nxyyy\nxxyy\nxxxx\nxxxx\n8\n1 3\n1 2\n0 2\n0 0\n2 0\n2 1\n3 1\n3 3", "2"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #3] MONO", "background": null, "description": "给定一个 $r\\times c$ 的由小写字母组成的矩阵。每一个方格内有一个字母。其中：\n\n- 左上角的坐标为 $(0,0)$；\n- 右上角的坐标为 $(c,0)$；\n- 左下角的坐标为 $(0,r)$；\n- 右下角的坐标为 $(c,r)$。\n\n**注意这里的坐标是点，而字母放置在方格内。**\n\n给定一个顶点在一些方格的顶点上的多边形，且每条边平行于矩阵的边。请你求出，这个多边形经过上、下、左、右的平移，最多存在多少种情况，使得其内部的字母全部相等？", "inputFormat": "输入第一行两个整数 $r,c$，为矩形的长和宽。\n\n接下来的 $r$ 行，每行 $c$ 个字母，描述这个矩阵。\n\n接下来一行一个整数 $V$，为多边形的顶点数。\n\n接下来的 $V$ 行，每行两个整数 $x,y$，表示这个多边形一个顶点的坐标。顶点坐标按顺时针顺序给出。", "outputFormat": "输出一行一个整数，表示通过平移可以得到的内部字母全部相等的多边形数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $r,c,V\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $V\\le 20$；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 500$，$4\\le V\\le 500$，$0\\le x\\le c$，$0\\le y\\le r$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T6 MONO***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #3] MONO", "background": null, "description": "给定一个 $r\\times c$ 的由小写字母组成的矩阵。每一个方格内有一个字母。其中：\n\n- 左上角的坐标为 $(0,0)$；\n- 右上角的坐标为 $(c,0)$；\n- 左下角的坐标为 $(0,r)$；\n- 右下角的坐标为 $(c,r)$。\n\n**注意这里的坐标是点，而字母放置在方格内。**\n\n给定一个顶点在一些方格的顶点上的多边形，且每条边平行于矩阵的边。请你求出，这个多边形经过上、下、左、右的平移，最多存在多少种情况，使得其内部的字母全部相等？", "inputFormat": "输入第一行两个整数 $r,c$，为矩形的长和宽。\n\n接下来的 $r$ 行，每行 $c$ 个字母，描述这个矩阵。\n\n接下来一行一个整数 $V$，为多边形的顶点数。\n\n接下来的 $V$ 行，每行两个整数 $x,y$，表示这个多边形一个顶点的坐标。顶点坐标按顺时针顺序给出。", "outputFormat": "输出一行一个整数，表示通过平移可以得到的内部字母全部相等的多边形数量。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，保证 $r,c,V\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $V\\le 20$；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 500$，$4\\le V\\le 500$，$0\\le x\\le c$，$0\\le y\\le r$。\n\n#### 说明\n\n**题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #3](https://hsin.hr/coci/archive/2010_2011/contest3_tasks.pdf) *T6 MONO***。", "locale": "zh-CN"}}}
{"pid": "P6505", "type": "P", "difficulty": 7, "samples": [["100 100 4\n10 10\n10 90\n90 10\n90 90\n", "56.5685424949\n"], ["3000 3000 4\n1200 85\n63 2500\n2700 2650\n2990 100\n", "1601.8805541731\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "Special Judge", "凸包", "线段相交"], "title": "Run Away", "background": "", "description": "平面直角坐标系内有一个矩形，左下角坐标为 $(0, 0)$，右上角为 $(w, h)$，边平行于坐标轴。\n\n矩形内有 $n$ 个已知点，第 $i$ 个点坐标为 $(x_i, y_i)$。\n\n请找到矩形内一点，使得这个点到最近的已知点距离最远。输出这个距离的值即可。", "inputFormat": "第一行输入三个整数 $w, h, n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示最近距离的最大值。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$ 内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n所求点坐标为 $(50, 50)$，到已知最近点的距离为 $40 \\sqrt{2} \\approx 56.568542494923802$。\n\n---\n\n#### 数据范围\n\n- 对于 $50\\%$ 的数据，$n \\le 50$。\n- 对于 $100\\%$ 的数据，$1 \\le w, h \\le 10\\ 000$，$3 \\le n \\le 1000$，$0 \\le x_i \\le w$，$0 \\le y_i \\le h$。\n\n输入数据中可能有重点。\n\n---\n\n来源：IOI 2006 国家集训队论文「王栋 —— 浅析平面 voronoi 图的构造及应用」。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Run Away", "background": "", "description": "平面直角坐标系内有一个矩形，左下角坐标为 $(0, 0)$，右上角为 $(w, h)$，边平行于坐标轴。\n\n矩形内有 $n$ 个已知点，第 $i$ 个点坐标为 $(x_i, y_i)$。\n\n请找到矩形内一点，使得这个点到最近的已知点距离最远。输出这个距离的值即可。", "inputFormat": "第一行输入三个整数 $w, h, n$。\n\n接下来 $n$ 行，每行输入两个整数 $x_i, y_i$。", "outputFormat": "输出一行一个实数，表示最近距离的最大值。\n\n当你的答案与标准输出的绝对误差或相对误差在 $10^{-6}$ 内时，就会被视为正确。", "hint": "#### 样例解释 1\n\n所求点坐标为 $(50, 50)$，到已知最近点的距离为 $40 \\sqrt{2} \\approx 56.568542494923802$。\n\n---\n\n#### 数据范围\n\n- 对于 $50\\%$ 的数据，$n \\le 50$。\n- 对于 $100\\%$ 的数据，$1 \\le w, h \\le 10\\ 000$，$3 \\le n \\le 1000$，$0 \\le x_i \\le w$，$0 \\le y_i \\le h$。\n\n输入数据中可能有重点。\n\n---\n\n来源：IOI 2006 国家集训队论文「王栋 —— 浅析平面 voronoi 图的构造及应用」。", "locale": "zh-CN"}}}
{"pid": "P6507", "type": "P", "difficulty": 3, "samples": [["6\n1\n2\n3\n4\n5\n6", "12"], ["8\n2\n3\n4\n3\n1\n6\n1\n4", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "O2优化", "COCI（克罗地亚）"], "title": "[CRCI2007-2008] NIKOLA", "background": "", "description": "有一行 $n$ 个格子，编号为 $1\\sim n$，Nikola 从 $1$ 号格子出发，想要前往 $n$ 号格子。\n\n他的行程包含若干次跳跃，第一次只能跳到 $2$ 号格子，接下来的跳跃必须满足以下条件：\n\n- 如果他向 $n$ 号格子的方向跳跃，那么每次必须比前一次多跳一个距离的格子；\n\n- 如果他向 $1$ 号格子的方向跳跃，那么每次必须与上一次的跳跃距离完全相同。\n\n例如，在第一次跳跃之后（位于 $2$ 号格），Nikola 可以选择跳到 $4$ 或者 $1$。\n\n每进入一个格子，Nikola 都要支付相应的入场费。第 $i$ 个格子需要付费 $a_i$。他希望在能到达 $n$ 号格的前提下尽可能少的花钱。你需要求出这个最小值。", "inputFormat": "输入第一行一个整数 $n$，表示格子的数量。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，依次表示 $1\\sim n$ 号格子的入场费。", "outputFormat": "输出一行一个整数，表示最小的花费。\n\n**注意：刚开始所在的 $1$ 号格子不计费，但多次经过同一个格子需要计费。**", "hint": "#### 样例 1 解释\n\n在第一个样例中，Nikola 的路线为 $1-2-1-3-6$。共花费 $2+1+3+6=12$ 。\n\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 1000$，$1\\le a_i\\le 500$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T2 NIKOLA***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2007-2008] NIKOLA", "background": "", "description": "有一行 $n$ 个格子，编号为 $1\\sim n$，Nikola 从 $1$ 号格子出发，想要前往 $n$ 号格子。\n\n他的行程包含若干次跳跃，第一次只能跳到 $2$ 号格子，接下来的跳跃必须满足以下条件：\n\n- 如果他向 $n$ 号格子的方向跳跃，那么每次必须比前一次多跳一个距离的格子；\n\n- 如果他向 $1$ 号格子的方向跳跃，那么每次必须与上一次的跳跃距离完全相同。\n\n例如，在第一次跳跃之后（位于 $2$ 号格），Nikola 可以选择跳到 $4$ 或者 $1$。\n\n每进入一个格子，Nikola 都要支付相应的入场费。第 $i$ 个格子需要付费 $a_i$。他希望在能到达 $n$ 号格的前提下尽可能少的花钱。你需要求出这个最小值。", "inputFormat": "输入第一行一个整数 $n$，表示格子的数量。\n\n接下来的 $n$ 行，每行一个整数 $a_i$，依次表示 $1\\sim n$ 号格子的入场费。", "outputFormat": "输出一行一个整数，表示最小的花费。\n\n**注意：刚开始所在的 $1$ 号格子不计费，但多次经过同一个格子需要计费。**", "hint": "#### 样例 1 解释\n\n在第一个样例中，Nikola 的路线为 $1-2-1-3-6$。共花费 $2+1+3+6=12$ 。\n\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2\\le n\\le 1000$，$1\\le a_i\\le 500$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T2 NIKOLA***。", "locale": "zh-CN"}}}
{"pid": "P6508", "type": "P", "difficulty": 3, "samples": [["2 100\n10 8 10 10 13 11\n12 20 6 10 17 24\n", "5"], ["3 65\n10 5 7 10 13 14\n10 5 8 11 14 15\n10 5 9 12 15 16", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "二分", "O2优化", "COCI（克罗地亚）"], "title": "[CRCI2007-2008] KUHAR", "background": "", "description": "做某种菜需要 $n$ 种食材，对于第 $i$ 种食材，做一道该菜品需要 $a_i$ 份该食材，目前厨房已经有 $b_i$ 份该食材。对于每种食材都可以去超市再买一些，超市里有**大包**和**小包**两种类型，第 $i$ 种食材的小包每包有 $sm_i$ 份该食材，价格为每包 $pm_i$ 元，大包有 $sv_i$ 份该食材，价格为每包 $pv_i$ 元。对于每种食材，你都可以买任意多包（可以不买）的大包与小包。\n\n你手里有 $m$ 元钱，现在请求出用你手中的钱，最多能做出几道该菜品。", "inputFormat": "输入的第一行有两个整数，分别表示食材数 $n$ 和你的钱数 $m$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行六个整数，第 $(i + 1)$ 行的整数分别为 $a_i, b_i, sm_i, pm_i, sv_i, pv_i$，其含义见【题目描述】。", "outputFormat": "输出一行一个整数，表示你最多能做出几道该菜品。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 10^5$。\n- $10 \\leq a_i \\leq 100$，$1 \\leq b_i \\leq 100$。\n- $1 \\leq sm_i \\lt sv_i \\leq 100$，$1 \\leq pm_i \\lt pv_i \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T3 KUHAR***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CRCI2007-2008] KUHAR", "background": "", "description": "做某种菜需要 $n$ 种食材，对于第 $i$ 种食材，做一道该菜品需要 $a_i$ 份该食材，目前厨房已经有 $b_i$ 份该食材。对于每种食材都可以去超市再买一些，超市里有**大包**和**小包**两种类型，第 $i$ 种食材的小包每包有 $sm_i$ 份该食材，价格为每包 $pm_i$ 元，大包有 $sv_i$ 份该食材，价格为每包 $pv_i$ 元。对于每种食材，你都可以买任意多包（可以不买）的大包与小包。\n\n你手里有 $m$ 元钱，现在请求出用你手中的钱，最多能做出几道该菜品。", "inputFormat": "输入的第一行有两个整数，分别表示食材数 $n$ 和你的钱数 $m$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行六个整数，第 $(i + 1)$ 行的整数分别为 $a_i, b_i, sm_i, pm_i, sv_i, pv_i$，其含义见【题目描述】。", "outputFormat": "输出一行一个整数，表示你最多能做出几道该菜品。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 100$，$1 \\leq m \\leq 10^5$。\n- $10 \\leq a_i \\leq 100$，$1 \\leq b_i \\leq 100$。\n- $1 \\leq sm_i \\lt sv_i \\leq 100$，$1 \\leq pm_i \\lt pv_i \\leq 100$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T3 KUHAR***。", "locale": "zh-CN"}}}
{"pid": "P6509", "type": "P", "difficulty": 4, "samples": [["143175=120\n", "14+31+75=120"], ["5025=30\n", "5+025=30"], ["999899=125\n", "9+9+9+89+9=125"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2008", "Special Judge", "O2优化", "COCI（克罗地亚）"], "title": "[COCI2007-2008] JEDNAKOST", "background": "", "description": "给定一个形如 `A=B` 的字符串，其中 $A$ 和 $B$ 都是不含前导零的正整数。请给 $A$ 的一些相邻数位之间加上加号，要求添加的加号数量最少，使得等式成立。\n\n在 $A$ 加上加号后，每个加数允许有多个前导 $0$。包括 $0$ 在内。也即允许形如 $000 \\ldots$ 的数作为加数。\n\n数据保证有解。", "inputFormat": "输入只有一行一个形如 `A=B` 字符串，表示给定的等式。", "outputFormat": "**本题存在 Special Judge**。\n\n输出一行一个字符串，表示加上加号以后的成立的等式。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq A \\lt 10^{1000}$，$1 \\leq B \\leq 5 \\times 10^3$，$A \\neq B$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T4 JEDNAKOST***。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI2007-2008] JEDNAKOST", "background": "", "description": "给定一个形如 `A=B` 的字符串，其中 $A$ 和 $B$ 都是不含前导零的正整数。请给 $A$ 的一些相邻数位之间加上加号，要求添加的加号数量最少，使得等式成立。\n\n在 $A$ 加上加号后，每个加数允许有多个前导 $0$。包括 $0$ 在内。也即允许形如 $000 \\ldots$ 的数作为加数。\n\n数据保证有解。", "inputFormat": "输入只有一行一个形如 `A=B` 字符串，表示给定的等式。", "outputFormat": "**本题存在 Special Judge**。\n\n输出一行一个字符串，表示加上加号以后的成立的等式。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq A \\lt 10^{1000}$，$1 \\leq B \\leq 5 \\times 10^3$，$A \\neq B$。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T4 JEDNAKOST***。", "locale": "zh-CN"}}}
{"pid": "P6510", "type": "P", "difficulty": 4, "samples": [["5\n1\n2\n3\n4\n1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["单调队列", "NOI 导刊", "O2优化", "分治", "栈"], "title": "奶牛排队", "background": "", "description": "奶牛在熊大妈的带领下排成了一条直队。\n\n显然，不同的奶牛身高不一定相同……\n\n现在，奶牛们想知道，如果找出一些连续的奶牛，要求最左边的奶牛 $A$ 是最矮的，最右边的 $B$ 是最高的，且 $B$ 高于 $A$ 奶牛。中间如果存在奶牛，则身高不能和 $A,B$ 奶牛相同。问这样的奶牛最多会有多少头？\n\n从左到右给出奶牛的身高，请告诉它们符合条件的最多的奶牛数（答案可能是 $0,2$，但不会是 $1$）。", "inputFormat": "第一行一个正整数 $N$，表示奶牛的头数。\n\n接下来 $N$ 行，每行一个正整数，从上到下表示从左到右奶牛的身高 $h_i$。\n", "outputFormat": "一行一个整数，表示最多奶牛数。", "hint": "#### 样例解释\n\n取第 $1$ 头到第 $4$ 头奶牛，满足条件且为最多。\n\n#### 数据范围\n\n对于全部的数据，满足 $2 \\le N \\le 10^5$，$1 \\le h_i <2^{31}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "奶牛排队", "background": "", "description": "奶牛在熊大妈的带领下排成了一条直队。\n\n显然，不同的奶牛身高不一定相同……\n\n现在，奶牛们想知道，如果找出一些连续的奶牛，要求最左边的奶牛 $A$ 是最矮的，最右边的 $B$ 是最高的，且 $B$ 高于 $A$ 奶牛。中间如果存在奶牛，则身高不能和 $A,B$ 奶牛相同。问这样的奶牛最多会有多少头？\n\n从左到右给出奶牛的身高，请告诉它们符合条件的最多的奶牛数（答案可能是 $0,2$，但不会是 $1$）。", "inputFormat": "第一行一个正整数 $N$，表示奶牛的头数。\n\n接下来 $N$ 行，每行一个正整数，从上到下表示从左到右奶牛的身高 $h_i$。\n", "outputFormat": "一行一个整数，表示最多奶牛数。", "hint": "#### 样例解释\n\n取第 $1$ 头到第 $4$ 头奶牛，满足条件且为最多。\n\n#### 数据范围\n\n对于全部的数据，满足 $2 \\le N \\le 10^5$，$1 \\le h_i <2^{31}$。", "locale": "zh-CN"}}}
{"pid": "P6511", "type": "P", "difficulty": 3, "samples": [["2\n2 2\n2 1\n", "1\n0"], ["1\n6 2\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "[QkOI#R1] Quark and Equations", "background": "", "description": "给定 $n,m$，求有几组正整数对 $(i,j)$ 满足下列方程组：\n\n$$\n\\begin{cases}\n   i+j=n \\\\\n   \\lfloor\\frac{i}{j}\\rfloor+\\lceil\\frac{j}{i}\\rceil=m\n\\end{cases}\n$$\n\n上式中，$\\lfloor x\\rfloor$ 表示对 $x$ 向下取整，$\\lceil x\\rceil$ 表示对 $x$ 向上取整。", "inputFormat": "**本题单个数据点含多组数据。**\n\n第一行一个整数 $T$ 表示这个数据点有几组数据。\n\n接下来 $T$ 行每行两个整数 $n,m$ ，含义如题面所述。", "outputFormat": "你的输出应有 $T$ 行。\n\n对于每一组数据，输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n当 $n=m=2$ 时，只有 $(1,1)$ 满足条件。  \n当 $n=2,m=1$ 时，无解。  \n当 $n=6,m=2$ 时，只有 $(2,4),(3,3)$ 满足条件。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$T,n,m\\le 500$。\n- Subtask 2（40 pts）：$T,n,m\\le 5000$。\n- Subtask 3（5 pts）：$m=1$。\n- Subtask 4（5 pts）：$m>n$。\n- Subtask 5（5 pts）：$m\\in[n-1,n]$。\n- Subtask 6（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10^5$，$1\\le n,m\\le 10^{7}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[QkOI#R1] Quark and Equations", "background": "", "description": "给定 $n,m$，求有几组正整数对 $(i,j)$ 满足下列方程组：\n\n$$\n\\begin{cases}\n   i+j=n \\\\\n   \\lfloor\\frac{i}{j}\\rfloor+\\lceil\\frac{j}{i}\\rceil=m\n\\end{cases}\n$$\n\n上式中，$\\lfloor x\\rfloor$ 表示对 $x$ 向下取整，$\\lceil x\\rceil$ 表示对 $x$ 向上取整。", "inputFormat": "**本题单个数据点含多组数据。**\n\n第一行一个整数 $T$ 表示这个数据点有几组数据。\n\n接下来 $T$ 行每行两个整数 $n,m$ ，含义如题面所述。", "outputFormat": "你的输出应有 $T$ 行。\n\n对于每一组数据，输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n当 $n=m=2$ 时，只有 $(1,1)$ 满足条件。  \n当 $n=2,m=1$ 时，无解。  \n当 $n=6,m=2$ 时，只有 $(2,4),(3,3)$ 满足条件。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$T,n,m\\le 500$。\n- Subtask 2（40 pts）：$T,n,m\\le 5000$。\n- Subtask 3（5 pts）：$m=1$。\n- Subtask 4（5 pts）：$m>n$。\n- Subtask 5（5 pts）：$m\\in[n-1,n]$。\n- Subtask 6（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10^5$，$1\\le n,m\\le 10^{7}$。", "locale": "zh-CN"}}}
{"pid": "P6512", "type": "P", "difficulty": 4, "samples": [["2 1 5\n1 2 2\n1 2\n2 2\n3 2\n5 1\n7 2\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "最短路"], "title": "[QkOI#R1] Quark and Flying Pigs", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的边带权简单连通无向图，在 $0$ 时刻你在点 $1$ 上。\n\n假设当前是 $t$ 时刻，你在点 $v$ 上，你可以选择两种操作：\n\n- 仍停留在点 $v$ 上，操作后到 $t+1$ 时刻。\n- 选择一条边 $(a,b,w)$ 满足 $a=v$ 或 $b=v$，则你到这条边连接的另一个点上，操作后到 $t+w$ 时刻。\n\n有 $k$ 条信息，每一条信息形如 $(t_i,v_i)$ 表示在 $t_i$ 时刻，点 $v_i$ 上会出现一只飞猪，其编号为 $i$，若该时刻你在 $v_i$ 上，则你捕获到了 $i$ 号飞猪。\n\n现在你需要求出你能捕获到的飞猪数量的最大值。\n\n", "inputFormat": "第一行为三个正整数 $n,m,k$。\n\n接下来 $m$ 行每行三个正整数 $a_i,b_i,w_i$。\n\n接下来 $k$ 行每行两个正整数 $t_i,v_i$。", "outputFormat": "一行一个整数，为你能捕获到的飞猪数量的最大值。", "hint": "### 样例解释\n\n最优方案如下：\n\n$0$ 时刻，选择移动到节点 $2$，时间来到 $2$ 时刻。  \n$2$ 时刻，捕获到第 $2$ 只飞猪，选择停留在节点 $2$，时间来到 $3$ 时刻。  \n$3$ 时刻，捕获到第 $3$ 只飞猪，选择移动到节点 $1$，时间来到 $5$ 时刻。  \n$5$ 时刻，捕获到第 $4$ 只飞猪，选择移动到节点 $2$，时间来到 $7$ 时刻。  \n$7$ 时刻，捕获到第 $5$ 只飞猪。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$n,m,k\\le 7$。  \n对于 $100\\%$ 的数据，$2\\le n\\le 200$，$1\\le m\\le \\frac{n(n-1)}{2}$，$1\\le k\\le 5000$，$1\\le a_i,b_i,v_i\\le n$，$1\\le w_i\\le 1000$，$1\\le t_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Flying Pigs", "background": "", "description": "You are given a simple, connected, undirected weighted graph with $n$ vertices and $m$ edges. At time $0$, you are at vertex $1$.\n\nSuppose the current time is $t$ and you are at vertex $v$. You may choose one of the following operations:\n\n- Stay at vertex $v$. After the operation, the time becomes $t+1$.\n- Choose an edge $(a,b,w)$ such that $a=v$ or $b=v$. Then you move to the other endpoint of this edge. After the operation, the time becomes $t+w$.\n\nThere are $k$ pieces of information. Each piece is of the form $(t_i,v_i)$, meaning that at time $t_i$, a flying pig with ID $i$ will appear at vertex $v_i$. If you are at $v_i$ at that time, then you capture flying pig $i$.\n\nNow you need to find the maximum number of flying pigs you can capture.", "inputFormat": "The first line contains three positive integers $n,m,k$.\n\nThe next $m$ lines each contain three positive integers $a_i,b_i,w_i$.\n\nThe next $k$ lines each contain two positive integers $t_i,v_i$.", "outputFormat": "Output one integer in a single line: the maximum number of flying pigs you can capture.", "hint": "### Sample Explanation\n\nThe optimal plan is as follows:\n\nAt time $0$, choose to move to node $2$, and the time becomes $2$.  \nAt time $2$, capture the $2$-nd flying pig, choose to stay at node $2$, and the time becomes $3$.  \nAt time $3$, capture the $3$-rd flying pig, choose to move to node $1$, and the time becomes $5$.  \nAt time $5$, capture the $4$-th flying pig, choose to move to node $2$, and the time becomes $7$.  \nAt time $7$, capture the $5$-th flying pig.\n\n### Constraints\n\nFor $20\\%$ of the testdata, $n,m,k\\le 7$.  \nFor $100\\%$ of the testdata, $2\\le n\\le 200$, $1\\le m\\le \\frac{n(n-1)}{2}$, $1\\le k\\le 5000$, $1\\le a_i,b_i,v_i\\le n$, $1\\le w_i\\le 1000$, $1\\le t_i\\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Flying Pigs", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的边带权简单连通无向图，在 $0$ 时刻你在点 $1$ 上。\n\n假设当前是 $t$ 时刻，你在点 $v$ 上，你可以选择两种操作：\n\n- 仍停留在点 $v$ 上，操作后到 $t+1$ 时刻。\n- 选择一条边 $(a,b,w)$ 满足 $a=v$ 或 $b=v$，则你到这条边连接的另一个点上，操作后到 $t+w$ 时刻。\n\n有 $k$ 条信息，每一条信息形如 $(t_i,v_i)$ 表示在 $t_i$ 时刻，点 $v_i$ 上会出现一只飞猪，其编号为 $i$，若该时刻你在 $v_i$ 上，则你捕获到了 $i$ 号飞猪。\n\n现在你需要求出你能捕获到的飞猪数量的最大值。\n\n", "inputFormat": "第一行为三个正整数 $n,m,k$。\n\n接下来 $m$ 行每行三个正整数 $a_i,b_i,w_i$。\n\n接下来 $k$ 行每行两个正整数 $t_i,v_i$。", "outputFormat": "一行一个整数，为你能捕获到的飞猪数量的最大值。", "hint": "### 样例解释\n\n最优方案如下：\n\n$0$ 时刻，选择移动到节点 $2$，时间来到 $2$ 时刻。  \n$2$ 时刻，捕获到第 $2$ 只飞猪，选择停留在节点 $2$，时间来到 $3$ 时刻。  \n$3$ 时刻，捕获到第 $3$ 只飞猪，选择移动到节点 $1$，时间来到 $5$ 时刻。  \n$5$ 时刻，捕获到第 $4$ 只飞猪，选择移动到节点 $2$，时间来到 $7$ 时刻。  \n$7$ 时刻，捕获到第 $5$ 只飞猪。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$n,m,k\\le 7$。  \n对于 $100\\%$ 的数据，$2\\le n\\le 200$，$1\\le m\\le \\frac{n(n-1)}{2}$，$1\\le k\\le 5000$，$1\\le a_i,b_i,v_i\\le n$，$1\\le w_i\\le 1000$，$1\\le t_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6513", "type": "P", "difficulty": 5, "samples": [["7\n1 1 1 1 1 1 1\n1 2\n1 3\n2 5\n3 4\n3 7\n4 6", "8"], ["5\n-6 3 -1 -7 -2\n1 2\n1 3\n3 4\n5 1", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "树形 DP"], "title": "[QkOI#R1] Quark and Tree", "background": "", "description": "给定一棵包含 $n$ 个节点的树，每个节点上有一个点权，点的编号为 $1\\sim n$，请加一条不存在于给定的树中的边（且不能为自环），使加边后得到的基环树上所有点的深度与该点点权乘积之和最大。\n\n我们认为基环树上的点的深度指该节点到环上的最短距离，特别地，环上的节点深度为 $0$。\n\n形式化地，你需要添加一条不存在于给定的树中的边（且不能为自环），并最大化：\n\n$$\\sum_{i=1}^nw_i\\times dep_i$$\n\n其中 $w_i$ 为节点 $i$ 的权值，$dep_i$ 为节点 $i$ 在基环树中的深度。", "inputFormat": "第一行包含一个整数 $n$，表示树中点的个数。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数表示节点 $i$ 的点权 $w_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，表示 $a_i$ 和 $b_i$ 在树中有一条边连接。", "outputFormat": "输出包含一行一个整数，表示加边后生成的基环树中，各个节点的深度与其点权乘积之和的最大值。", "hint": "### 样例解释\n\n样例 1 给出的树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zl7p4xcu.png)\n\n可以添加边 $(1,5)$，则新生成的基环树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p1p9jlbx.png)\n\n各节点深度见下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/90ygpc3c.png)\n\n\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n对于所有数据，$3 \\le n \\le 10^6$，$-10^3 \\le w_i \\le 10^3$，$1 \\le a_i,b_i \\le n$。\n\n+ 子任务 $1$（$10$ 分）：$n \\le 200$。\n+ 子任务 $2$（$20$ 分）：$n \\le 10^3$。\n+ 子任务 $3$（$40$ 分）：$w_i \\ge 0$。\n+ 子任务 $4$（$30$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[QkOI#R1] Quark and Tree", "background": "", "description": "给定一棵包含 $n$ 个节点的树，每个节点上有一个点权，点的编号为 $1\\sim n$，请加一条不存在于给定的树中的边（且不能为自环），使加边后得到的基环树上所有点的深度与该点点权乘积之和最大。\n\n我们认为基环树上的点的深度指该节点到环上的最短距离，特别地，环上的节点深度为 $0$。\n\n形式化地，你需要添加一条不存在于给定的树中的边（且不能为自环），并最大化：\n\n$$\\sum_{i=1}^nw_i\\times dep_i$$\n\n其中 $w_i$ 为节点 $i$ 的权值，$dep_i$ 为节点 $i$ 在基环树中的深度。", "inputFormat": "第一行包含一个整数 $n$，表示树中点的个数。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数表示节点 $i$ 的点权 $w_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，表示 $a_i$ 和 $b_i$ 在树中有一条边连接。", "outputFormat": "输出包含一行一个整数，表示加边后生成的基环树中，各个节点的深度与其点权乘积之和的最大值。", "hint": "### 样例解释\n\n样例 1 给出的树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zl7p4xcu.png)\n\n可以添加边 $(1,5)$，则新生成的基环树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p1p9jlbx.png)\n\n各节点深度见下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/90ygpc3c.png)\n\n\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n对于所有数据，$3 \\le n \\le 10^6$，$-10^3 \\le w_i \\le 10^3$，$1 \\le a_i,b_i \\le n$。\n\n+ 子任务 $1$（$10$ 分）：$n \\le 200$。\n+ 子任务 $2$（$20$ 分）：$n \\le 10^3$。\n+ 子任务 $3$（$40$ 分）：$w_i \\ge 0$。\n+ 子任务 $4$（$30$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P6514", "type": "P", "difficulty": 5, "samples": [["5 3\n1 1 3\n1 1 5\n2 1 4\n", "1"], ["8 8\n2 8 8\n1 3 8\n2 5 8\n1 1 8\n1 1 1\n2 3 5\n2 1 7\n1 2 7", "0\n1\n2\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 2000, 2000, 2000, 2000, 2000, 2000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["树状数组", "cdq 分治", "树套树", "K-D Tree"], "title": "[QkOI#R1] Quark and Strings", "background": "", "description": "你需要维护一个字符串序列 $\\{S_n\\}$，其中有 $n$ 个字符串，初始全为空。接下来有 $q$ 次操作，支持两种操作，下面设当前为第 $i$ 次操作，且本题中字符集为 $[1,q]\\cap \\N_+$：\n\n- `1 l r`，表示在所有编号在 $[l,r]$ 内的字符串末尾添加字符 $i$，这里 $i$ 是一个 $[1,q]$ 范围内的整数。\n- `2 l r`，表示询问所有编号在 $[l,r]$ 内的字符串的最长公共子序列长度。当 $l=r$ 时，我们认为其最长公共子序列长度即为该字符串的长度。", "inputFormat": "第一行两个正整数 $n,q$。\n\n接下来 $q$ 行每行三个正整数形如 `1 l r` 或 `2 l r`。", "outputFormat": "对于每次操作 $2$，输出一行非负整数作为你的答案。", "hint": "### 样例解释\n\n对于第一组样例：  \n第一次操作后，序列为 $\\{[1],[1],[1],[],[]\\}$。  \n第二次操作后，序列为 $\\{[1,2],[1,2],[1,2],[2],[2]\\}$。  \n第三次操作，容易发现询问的最长公共子序列为 $[2]$，长度为 $1$。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n,q\\le 500$。\n- Subtask 2（20 pts）：$n,q\\le 1000$。\n- Subtask 3（15 pts）：$n\\le 1000$，操作 $1$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 4（15 pts）：$n\\le 1000$，操作 $2$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 5（40 pts）：无特殊限制，时限 $3000$ms。\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^5$，除了特殊标明的 Subtask，其它 Subtask 时限均为 $1000$ms。", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Strings", "background": "", "description": "You need to maintain a sequence of strings $\\{S_n\\}$, where there are $n$ strings, all initially empty. Then there are $q$ operations, and two types of operations are supported. Let the current operation be the $i$-th one. The character set in this problem is $[1,q]\\cap \\N_+$:\n\n- `1 l r` means appending the character $i$ to the end of every string whose index is in $[l,r]$. Here $i$ is an integer in the range $[1,q]$.\n- `2 l r` means querying the length of the longest common subsequence of all strings whose indices are in $[l,r]$. When $l=r$, we consider the longest common subsequence length to be the length of that string.", "inputFormat": "The first line contains two positive integers $n,q$.\n\nThe next $q$ lines each contain three positive integers in the form `1 l r` or `2 l r`.", "outputFormat": "For each operation $2$, output one line with a non-negative integer as your answer.", "hint": "### Sample Explanation\n\nFor the first sample:  \nAfter the first operation, the sequence is $\\{[1],[1],[1],[],[]\\}$.  \nAfter the second operation, the sequence is $\\{[1,2],[1,2],[1,2],[2],[2]\\}$.  \nFor the third operation, it is easy to see that the longest common subsequence queried is $[2]$, with length $1$.\n\n---\n\n### Constraints\n\n**This problem uses bundled testdata.**\n\n- Subtask 1 (10 pts): $n,q\\le 500$.\n- Subtask 2 (20 pts): $n,q\\le 1000$.\n- Subtask 3 (15 pts): $n\\le 1000$, operation $1$ occurs no more than $500$ times, time limit $2000$ms.\n- Subtask 4 (15 pts): $n\\le 1000$, operation $2$ occurs no more than $500$ times, time limit $2000$ms.\n- Subtask 5 (40 pts): no special restrictions, time limit $3000$ms.\n\nFor $100\\%$ of the data, $1\\le n,q\\le 10^5$. Except for the specially marked Subtasks, the time limit for the other Subtasks is $1000$ms.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Strings", "background": "", "description": "你需要维护一个字符串序列 $\\{S_n\\}$，其中有 $n$ 个字符串，初始全为空。接下来有 $q$ 次操作，支持两种操作，下面设当前为第 $i$ 次操作，且本题中字符集为 $[1,q]\\cap \\N_+$：\n\n- `1 l r`，表示在所有编号在 $[l,r]$ 内的字符串末尾添加字符 $i$，这里 $i$ 是一个 $[1,q]$ 范围内的整数。\n- `2 l r`，表示询问所有编号在 $[l,r]$ 内的字符串的最长公共子序列长度。当 $l=r$ 时，我们认为其最长公共子序列长度即为该字符串的长度。", "inputFormat": "第一行两个正整数 $n,q$。\n\n接下来 $q$ 行每行三个正整数形如 `1 l r` 或 `2 l r`。", "outputFormat": "对于每次操作 $2$，输出一行非负整数作为你的答案。", "hint": "### 样例解释\n\n对于第一组样例：  \n第一次操作后，序列为 $\\{[1],[1],[1],[],[]\\}$。  \n第二次操作后，序列为 $\\{[1,2],[1,2],[1,2],[2],[2]\\}$。  \n第三次操作，容易发现询问的最长公共子序列为 $[2]$，长度为 $1$。\n\n---\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n,q\\le 500$。\n- Subtask 2（20 pts）：$n,q\\le 1000$。\n- Subtask 3（15 pts）：$n\\le 1000$，操作 $1$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 4（15 pts）：$n\\le 1000$，操作 $2$ 不超过 $500$ 次，时限 $2000$ms。\n- Subtask 5（40 pts）：无特殊限制，时限 $3000$ms。\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^5$，除了特殊标明的 Subtask，其它 Subtask 时限均为 $1000$ms。", "locale": "zh-CN"}}}
{"pid": "P6515", "type": "P", "difficulty": 7, "samples": [["4 9 5\n1 7\n1 4\n6 5\n4 2", "23"], ["3 500 3\n4 6\n3 5\n8 1", "1000"], ["2 1 1000\n1 500\n2 800", "500"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "[QkOI#R1] Quark and Game", "background": "", "description": "给定 $n$ 个二元组 $(a_i,b_i)$，当 $b_i\\le 0$ 时该二元组不再可以被操作。你可以执行两个操作：\n\n1. 对于**所有**可以被操作的二元组，执行 $b_i\\gets b_i-a_i$，即令 $b_i$ 的值减少 $a_i$，花费 $p$。\n\n2. 对于**所有**可以被操作的二元组，执行 $\\operatorname{Swap}(a_i,b_i)$，其中 $\\operatorname{Swap}(x,y)$ 表示交换 $x,y$ 的值，花费 $q$。\n\n现在，你要用最少的花费，使得所有二元组都不可以被操作.", "inputFormat": "第一行有三个正整数 $n,p,q$。\n\n接下来 $n$ 行每行有两个正整数 $a_i,b_i$ 表示第 $i$ 个二元组 $(a_i,b_i)$。", "outputFormat": "输出一行一个整数，表示你所求得的最小花费。", "hint": "### 样例解释\n\n对于第一个样例，我们可以先后进行 $1$ 次操作 1，$1$ 次操作 2，$1$ 次操作 1，最小花费为 $9 + 5 + 9 = 23$。  \n对于第二个样例，我们可以进行 $2$ 次操作 1，最小花费为 $500 \\times 2 = 1000$。  \n对于第三个样例，我们可以进行 $500$ 次操作 1，最小花费为 $1 \\times 500 = 500$。\n\n---\n\n### 数据范围\n\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n\\le 100$，$a_i,b_i\\le 20$。\n- Subtask 2（20 pts）：$n\\le 1000$，$a_i,b_i\\le 1000$。\n- Subtask 3（17 pts）：$p=1$，$q=10^7$。\n- Subtask 4（53 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le p,q\\le 10^7$，$1\\le a_i,b_i\\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Game", "background": "", "description": "Given $n$ pairs $(a_i,b_i)$. When $b_i \\le 0$, this pair can no longer be operated on. You can perform two operations:\n\n1. For **all** operable pairs, do $b_i \\gets b_i - a_i$, i.e., decrease $b_i$ by $a_i$, with cost $p$.\n\n2. For **all** operable pairs, do $\\operatorname{Swap}(a_i,b_i)$, where $\\operatorname{Swap}(x,y)$ means swapping the values of $x$ and $y$, with cost $q$.\n\nNow, you need to spend the minimum total cost to make all pairs non-operable.", "inputFormat": "The first line contains three positive integers $n,p,q$.\n\nThe next $n$ lines each contain two positive integers $a_i,b_i$, representing the $i$-th pair $(a_i,b_i)$.", "outputFormat": "Output one integer in one line, representing the minimum total cost.", "hint": "### Sample Explanation\n\nFor the first sample, we can perform operation 1 once, operation 2 once, and operation 1 once in this order. The minimum cost is $9 + 5 + 9 = 23$.  \nFor the second sample, we can perform operation 1 twice. The minimum cost is $500 \\times 2 = 1000$.  \nFor the third sample, we can perform operation 1 $500$ times. The minimum cost is $1 \\times 500 = 500$.\n\n---\n\n### Constraints\n\n**This problem uses bundled testdata.**\n\n- Subtask 1 (10 pts): $n \\le 100$, $a_i,b_i \\le 20$.\n- Subtask 2 (20 pts): $n \\le 1000$, $a_i,b_i \\le 1000$.\n- Subtask 3 (17 pts): $p = 1$, $q = 10^7$.\n- Subtask 4 (53 pts): no special constraints.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 10^5$, $1 \\le p,q \\le 10^7$, $1 \\le a_i,b_i \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Game", "background": "", "description": "给定 $n$ 个二元组 $(a_i,b_i)$，当 $b_i\\le 0$ 时该二元组不再可以被操作。你可以执行两个操作：\n\n1. 对于**所有**可以被操作的二元组，执行 $b_i\\gets b_i-a_i$，即令 $b_i$ 的值减少 $a_i$，花费 $p$。\n\n2. 对于**所有**可以被操作的二元组，执行 $\\operatorname{Swap}(a_i,b_i)$，其中 $\\operatorname{Swap}(x,y)$ 表示交换 $x,y$ 的值，花费 $q$。\n\n现在，你要用最少的花费，使得所有二元组都不可以被操作.", "inputFormat": "第一行有三个正整数 $n,p,q$。\n\n接下来 $n$ 行每行有两个正整数 $a_i,b_i$ 表示第 $i$ 个二元组 $(a_i,b_i)$。", "outputFormat": "输出一行一个整数，表示你所求得的最小花费。", "hint": "### 样例解释\n\n对于第一个样例，我们可以先后进行 $1$ 次操作 1，$1$ 次操作 2，$1$ 次操作 1，最小花费为 $9 + 5 + 9 = 23$。  \n对于第二个样例，我们可以进行 $2$ 次操作 1，最小花费为 $500 \\times 2 = 1000$。  \n对于第三个样例，我们可以进行 $500$ 次操作 1，最小花费为 $1 \\times 500 = 500$。\n\n---\n\n### 数据范围\n\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$n\\le 100$，$a_i,b_i\\le 20$。\n- Subtask 2（20 pts）：$n\\le 1000$，$a_i,b_i\\le 1000$。\n- Subtask 3（17 pts）：$p=1$，$q=10^7$。\n- Subtask 4（53 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$1\\le p,q\\le 10^7$，$1\\le a_i,b_i\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6516", "type": "P", "difficulty": 7, "samples": [["4 3\n0 1 1 2", "2"], ["5 5\n0 1 1 2 2\n", "12"], ["8 12\n0 2 2 2 2 1 1 1", "128601"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 3000, 1000, 1000, 3000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["O2优化"], "title": "[QkOI#R1] Quark and Graph", "background": "SPFA 被卡时在做什么？有没有空？可以来计数吗？", "description": "现有一张边权全为 $1$ 的有标号简单无向连通图，其包含 $n$ 个节点和 $m$ 条边，已知该图上点 $1$ 到所有点的最短路长，求这张图有多少种形态。\n\n特别地，我们认为点 $1$ 到点 $1$ 的最短路为 $0$。\n\n两个图的形态不同当且仅当存在至少一条边 $(u,v)$ 在一张图中出现且在另一张图中没出现。\n\n**由于 little_sun 太巨了，所以数据保证至少存在一张满足条件的图。**\n\n答案对 $998244353$ 取模。", "inputFormat": "第一行两个正整数 $n,m$ —— $n$ 表示图的节点数，$m$ 表示图的边数。\n\n第二行 $n$ 个非负整数 $d_1,d_2,\\cdots,d_n$ 表示点 $1$ 到其它点的最短路。", "outputFormat": "输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n对于第一个样例，有 $\\{(1,2),(1,3),(2,4)\\}$ 和 $\\{(1,2),(1,3),(3,4)\\}$ 两种形态。\n\n对于第二个样例，我想到了一个绝妙的解释，可惜这里空白太小，写不下。\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts），满足 $n\\le 7$，$m\\le 14$，时限 1s；\n- Subtask 2（20 pts），满足 $n\\le 50$，$m\\le 600$，时限 1s；\n- Subtask 3（20 pts），满足 $n\\le 1000$，$m\\le 5000$，时限 1s；\n- Subtask 4（50 pts），无特殊限制，时限 3s。\n\n对于 $100\\%$ 的数据，满足 $n\\le 10^5$，$m\\le 2\\times 10^5$。设 $t_i=\\sum_j[d_j=i]$，还应满足 $\\sum_{i}t_it_{i-1}\\le 2\\times 10^5$。\n\n**本题强制开启 O2 优化。**", "locale": "zh-CN", "translations": {"en": {"title": "[QkOI#R1] Quark and Graph", "background": "What do you do when SPFA gets hacked by testdata? Are you free? Can you come and count?", "description": "You are given a labeled, simple, undirected, connected graph where all edge weights are $1$. It has $n$ vertices and $m$ edges. You are also given the shortest path distances from vertex $1$ to every vertex. Find how many different graphs (forms) satisfy these conditions.\n\nIn particular, we define the shortest distance from vertex $1$ to vertex $1$ as $0$.\n\nTwo graphs are considered different if and only if there exists at least one edge $(u,v)$ that appears in one graph but does not appear in the other.\n\n**Since little_sun is extremely strong, the testdata guarantees that there is at least one graph that satisfies the conditions.**\n\nOutput the answer modulo $998244353$.", "inputFormat": "The first line contains two positive integers $n,m$, where $n$ is the number of vertices and $m$ is the number of edges.\n\nThe second line contains $n$ non-negative integers $d_1,d_2,\\cdots,d_n$, representing the shortest path distance from vertex $1$ to each vertex.", "outputFormat": "Output one line with one integer, the answer.", "hint": "### Sample Explanation\n\nFor the first sample, there are two forms: $\\{(1,2),(1,3),(2,4)\\}$ and $\\{(1,2),(1,3),(3,4)\\}$.\n\nFor the second sample, I came up with a wonderful explanation, but unfortunately this blank space is too small to write it down.\n\n### Constraints\n\n**This problem uses bundled tests.**\n\n- Subtask 1 (10 pts): $n\\le 7$, $m\\le 14$, time limit 1s.\n- Subtask 2 (20 pts): $n\\le 50$, $m\\le 600$, time limit 1s.\n- Subtask 3 (20 pts): $n\\le 1000$, $m\\le 5000$, time limit 1s.\n- Subtask 4 (50 pts): no special constraints, time limit 3s.\n\nFor $100\\%$ of the data: $n\\le 10^5$, $m\\le 2\\times 10^5$. Let $t_i=\\sum_j[d_j=i]$. It is also required that $\\sum_{i}t_it_{i-1}\\le 2\\times 10^5$.\n\n**This problem forces O2 optimization to be enabled.**\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[QkOI#R1] Quark and Graph", "background": "SPFA 被卡时在做什么？有没有空？可以来计数吗？", "description": "现有一张边权全为 $1$ 的有标号简单无向连通图，其包含 $n$ 个节点和 $m$ 条边，已知该图上点 $1$ 到所有点的最短路长，求这张图有多少种形态。\n\n特别地，我们认为点 $1$ 到点 $1$ 的最短路为 $0$。\n\n两个图的形态不同当且仅当存在至少一条边 $(u,v)$ 在一张图中出现且在另一张图中没出现。\n\n**由于 little_sun 太巨了，所以数据保证至少存在一张满足条件的图。**\n\n答案对 $998244353$ 取模。", "inputFormat": "第一行两个正整数 $n,m$ —— $n$ 表示图的节点数，$m$ 表示图的边数。\n\n第二行 $n$ 个非负整数 $d_1,d_2,\\cdots,d_n$ 表示点 $1$ 到其它点的最短路。", "outputFormat": "输出一行一个整数表示你的答案。", "hint": "### 样例解释\n\n对于第一个样例，有 $\\{(1,2),(1,3),(2,4)\\}$ 和 $\\{(1,2),(1,3),(3,4)\\}$ 两种形态。\n\n对于第二个样例，我想到了一个绝妙的解释，可惜这里空白太小，写不下。\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts），满足 $n\\le 7$，$m\\le 14$，时限 1s；\n- Subtask 2（20 pts），满足 $n\\le 50$，$m\\le 600$，时限 1s；\n- Subtask 3（20 pts），满足 $n\\le 1000$，$m\\le 5000$，时限 1s；\n- Subtask 4（50 pts），无特殊限制，时限 3s。\n\n对于 $100\\%$ 的数据，满足 $n\\le 10^5$，$m\\le 2\\times 10^5$。设 $t_i=\\sum_j[d_j=i]$，还应满足 $\\sum_{i}t_it_{i-1}\\le 2\\times 10^5$。\n\n**本题强制开启 O2 优化。**", "locale": "zh-CN"}}}
{"pid": "P6517", "type": "P", "difficulty": 6, "samples": [["3 4\n2 3 2 0\n3 4 3 0\n2 3 3 1", "............\n.OXXOXXO....\n.X..X..X....\n.X..X..X....\n.OXXOXXO....\n.X..X..X....\n.X..X..X....\n.OXXOXXOXXO.\n............"], ["1 2\n2 1", "Impossible!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "网络流", "Special Judge", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] alliances (day1)", "background": "", "description": "在一个幻想世界里，有块矩形岛屿。这座岛屿被划分成了 $R$ 行 $C$ 列的方格。\n\n有些方格无人居住，而有些方格被以下某一种生物占据：精灵，人类，矮人或者霍比特人。占据同一格子的生物在这一格子组成了一个村庄。\n\n为了防止恶魔的袭击，他们需要结成联盟。定义**每个村庄相邻四个方向（上下左右）的村庄**为这个村庄的邻居。\n\n每种生物分别要满足以下条件：\n\n- 精灵：只需要与一个邻居结盟；\n- 人类：需要与两个邻居结盟，且这两个邻居不能在上下或者左右方向；\n- 矮人：需要与三个邻居结盟；\n- 霍比特：需要与四个邻居结盟（即所有邻居）。\n\n你的任务是确定岛上的所有村庄是否都能与相应数量的邻居结盟（即可能会出现一些邻居并没有结盟）。如果能，则输出联盟的结构。否则输出 `Impossible!`。\n\n**注意：结盟的关系是双向的。**", "inputFormat": "输入第一行两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个 $0\\sim 4$ 之间的数字，描述岛屿的人口分布状态。\n\n- 0：此地无村庄；\n- 1：此地为精灵村庄；\n- 2：此地为人类村庄；\n- 3：此地为矮人村庄；\n- 4：此地为霍比特村庄。\n\n**可以注意的技巧：输入的数字对应该地所需的联盟数量。**", "outputFormat": "如果无法全部结盟则输出 `Impossible!`。\n\n否则，输出以下格式的地图：\n\n每块地都作为一个 $3\\times 3$ 的矩阵输出。如果该地无人居住，则输出全部输出为 `.`。如果该地有村庄，则在中心输出一个 `O`。如果这个村庄与一些村庄结盟，那么在 `O` 上下左右四个方格输出 `X` 来表示结盟。\n\n\n对于每种生物，所有可能的输出格式如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdtqt6i9.png)\n\n(elves 表示精灵，humans 表示人类，dwarves 表示矮人，hobbits 表示霍比特人）\n\n**如果有多种方案，输出其中任意一种，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n- 对于 $55\\%$ 的数据，保证 $\\min(r,c)\\le 10$；\n- 对于另 $15\\%$ 的数据，保证 $r\\times c\\le 20$；\n- 对于另 $10\\%$ 的数据，保证地图中只有无人区和人类；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 70$。\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T1 alliances](https://people.ksp.sk/~misof/ceoi2010/all-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] alliances (day1)", "background": "", "description": "在一个幻想世界里，有块矩形岛屿。这座岛屿被划分成了 $R$ 行 $C$ 列的方格。\n\n有些方格无人居住，而有些方格被以下某一种生物占据：精灵，人类，矮人或者霍比特人。占据同一格子的生物在这一格子组成了一个村庄。\n\n为了防止恶魔的袭击，他们需要结成联盟。定义**每个村庄相邻四个方向（上下左右）的村庄**为这个村庄的邻居。\n\n每种生物分别要满足以下条件：\n\n- 精灵：只需要与一个邻居结盟；\n- 人类：需要与两个邻居结盟，且这两个邻居不能在上下或者左右方向；\n- 矮人：需要与三个邻居结盟；\n- 霍比特：需要与四个邻居结盟（即所有邻居）。\n\n你的任务是确定岛上的所有村庄是否都能与相应数量的邻居结盟（即可能会出现一些邻居并没有结盟）。如果能，则输出联盟的结构。否则输出 `Impossible!`。\n\n**注意：结盟的关系是双向的。**", "inputFormat": "输入第一行两个整数 $r,c$。\n\n接下来的 $r$ 行，每行 $c$ 个 $0\\sim 4$ 之间的数字，描述岛屿的人口分布状态。\n\n- 0：此地无村庄；\n- 1：此地为精灵村庄；\n- 2：此地为人类村庄；\n- 3：此地为矮人村庄；\n- 4：此地为霍比特村庄。\n\n**可以注意的技巧：输入的数字对应该地所需的联盟数量。**", "outputFormat": "如果无法全部结盟则输出 `Impossible!`。\n\n否则，输出以下格式的地图：\n\n每块地都作为一个 $3\\times 3$ 的矩阵输出。如果该地无人居住，则输出全部输出为 `.`。如果该地有村庄，则在中心输出一个 `O`。如果这个村庄与一些村庄结盟，那么在 `O` 上下左右四个方格输出 `X` 来表示结盟。\n\n\n对于每种生物，所有可能的输出格式如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wdtqt6i9.png)\n\n(elves 表示精灵，humans 表示人类，dwarves 表示矮人，hobbits 表示霍比特人）\n\n**如果有多种方案，输出其中任意一种，本题使用 SPJ。**", "hint": "#### 数据规模与约定\n\n- 对于 $55\\%$ 的数据，保证 $\\min(r,c)\\le 10$；\n- 对于另 $15\\%$ 的数据，保证 $r\\times c\\le 20$；\n- 对于另 $10\\%$ 的数据，保证地图中只有无人区和人类；\n- 对于 $100\\%$ 的数据，保证 $1\\le r,c\\le 70$。\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T1 alliances](https://people.ksp.sk/~misof/ceoi2010/all-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6518", "type": "P", "difficulty": 5, "samples": [["3 5\n. . 3 . 5\n. . . 5 .\n. . . . 7", "1 2 3 4 5\n2 3 4 5 6\n3 4 5 6 7"], ["1 6\n4 . . 0 . ", "4 8/3 4/3 0 -4/3 -8/3"], ["1 4\n1 2 . 2", "No solution."], ["3 3\n1 . .\n. 2 .\n. . 3", "1 2 3\n1 2 3\n1 2 3"]], "limits": {"time": [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2010", "Special Judge", "CEOI（中欧）", "构造"], "title": "[CEOI 2010] arithmetic (day1)", "background": "", "description": "给定一个 $R\\times C$ 的矩阵，有些格子已经填有了数字；而有些格子为空，用 `.` 表示。\n\n你需要找到一种填数的方案，使得每行每列的数字依次排列构成的数列为等差数列。", "inputFormat": "输入第一行两个整数 $R,C$，表示矩阵的长和宽。\n\n接下来的 $R$ 行，每行 $C$ 个数字或者字符：`.` 或者一个数字。\n\n", "outputFormat": "输出共 $R$ 行，每行 $C$ 个整数或者分数，表示完善后的矩阵。\n\n分数的格式为 `N/D` ，其中 $N,D$ 为整数且互质，如果 $D=1$ 则省略。\n\n如果答案不存在，输出 `No solution.`\n\n输出中的所有数都不超过 $20$ 位。\n\n**注意：数据保证输入一定是整数，但输出可能为实数，需要用分数表示。可能有多种方案，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n我们可以先把第二行第五列的 $6$ 填入，然后再填写第一行、第二行，最后填写第一列、第四列。\n\n#### 样例 4 提示\n\n输出为多种可能的解决方案中的一种。\n\n#### 【数据规模与约定】\n\n**本题使用捆绑测试。**\n\n数据共分为以下 $10$ 个子任务，每个子任务 $10$ 分。\n\n|子任务编号|限制|\n|:-:|:-:|\n|$1$|数字已经全部填好|\n|$2$|$R=1$ 或 $C=1$| \n|$3$|$R=C=2$| \n|$4$|保证方案唯一且可使用样例 $1$ 的解决方法| \n|$5$|保证方案唯一且答案中仅包含整数| \n|$6$|保证方案唯一| \n|$7$|每组数据仅可能有唯一的只包含整数的解决方案或者无解|}\n|$8$|每组数据仅有唯一的解决方案或者无解|\n|$9$|无特殊限制|\n|$10$|无特殊限制|\n\n- 在子任务 $1\\sim 9$ 中，保证 $1\\le R,C\\le 6$。\n- 对于全部的测试点，保证 $1 \\leq R, C \\leq 50$，矩阵中给出的所有数字在 $-100\\sim 100$ 之间。\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T2 arithmetic](https://people.ksp.sk/~misof/ceoi2010/ari-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\nSPJ 由 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供，特别鸣谢。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] arithmetic (day1)", "background": "", "description": "给定一个 $R\\times C$ 的矩阵，有些格子已经填有了数字；而有些格子为空，用 `.` 表示。\n\n你需要找到一种填数的方案，使得每行每列的数字依次排列构成的数列为等差数列。", "inputFormat": "输入第一行两个整数 $R,C$，表示矩阵的长和宽。\n\n接下来的 $R$ 行，每行 $C$ 个数字或者字符：`.` 或者一个数字。\n\n", "outputFormat": "输出共 $R$ 行，每行 $C$ 个整数或者分数，表示完善后的矩阵。\n\n分数的格式为 `N/D` ，其中 $N,D$ 为整数且互质，如果 $D=1$ 则省略。\n\n如果答案不存在，输出 `No solution.`\n\n输出中的所有数都不超过 $20$ 位。\n\n**注意：数据保证输入一定是整数，但输出可能为实数，需要用分数表示。可能有多种方案，输出任意一种即可，本题使用 SPJ。**", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n我们可以先把第二行第五列的 $6$ 填入，然后再填写第一行、第二行，最后填写第一列、第四列。\n\n#### 样例 4 提示\n\n输出为多种可能的解决方案中的一种。\n\n#### 【数据规模与约定】\n\n**本题使用捆绑测试。**\n\n数据共分为以下 $10$ 个子任务，每个子任务 $10$ 分。\n\n|子任务编号|限制|\n|:-:|:-:|\n|$1$|数字已经全部填好|\n|$2$|$R=1$ 或 $C=1$| \n|$3$|$R=C=2$| \n|$4$|保证方案唯一且可使用样例 $1$ 的解决方法| \n|$5$|保证方案唯一且答案中仅包含整数| \n|$6$|保证方案唯一| \n|$7$|每组数据仅可能有唯一的只包含整数的解决方案或者无解|}\n|$8$|每组数据仅有唯一的解决方案或者无解|\n|$9$|无特殊限制|\n|$10$|无特殊限制|\n\n- 在子任务 $1\\sim 9$ 中，保证 $1\\le R,C\\le 6$。\n- 对于全部的测试点，保证 $1 \\leq R, C \\leq 50$，矩阵中给出的所有数字在 $-100\\sim 100$ 之间。\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T2 arithmetic](https://people.ksp.sk/~misof/ceoi2010/ari-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\nSPJ 由 @[一扶苏一](https://www.luogu.com.cn/user/65363) 提供，特别鸣谢。\n\n", "locale": "zh-CN"}}}
{"pid": "P6519", "type": "P", "difficulty": 6, "samples": [["2\n2 1\n1 2\n1\n2 2", "1"], ["2\n3 2\n1 1\n2\n3 2\n1 1", "0"]], "limits": {"time": [700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] bodyguards (day1)", "background": "", "description": "在一个矩阵中，需要在一些行和列上安排目标数量的保镖。每个位置可以放置一名保镖。你需要求出能否安排出一种方案，使得一些行、列上恰好有目标数量的保镖？", "inputFormat": "输入第一行一个整数 $R$，表示共有 $R$ 条行上的约束。\n\n接下来的 $R$ 行，每行两个整数 $a,b$，表示有 $b$ 行需要恰好包含 $a$ 名保镖。\n\n接下来的一行一个整数 $C$，表示共有 $C$ 条列上的约束。\n\n接下来的 $C$ 行，每行两个整数 $x,y$，表示有 $y$ 列需要恰好包含 $x$ 名保镖。  ", "outputFormat": "输出一行一个数字。如果存在这样的方案，输出 `1`；否则输出 `0`。", "hint": "#### 样例 1 解释\n\n有一行需要包含两名保镖，两行需要包含一名保镖；两列需要包含两名保镖，一种方案如下：\n\n```\nXX\nX.\n.X\n```\n\n其中 `X` 表示保镖，`.` 表示空位。\n\n#### 样例 2 解释\n\n有两行必须全部是保镖，但是有一列却要仅有一名保镖，无法实现，故无解。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $R,C\\le 2000$，最多有 $10^6$ 名保镖；\n- 对于 $100\\%$ 的数据，保证保镖总数最多为 $10^{18}$，所有数字均为不超过 $10^9$ 的正整数，$1\\le R,C\\le 2\\times 10^5$。\n\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T3 bodyguards](https://people.ksp.sk/~misof/ceoi2010/bod-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] bodyguards (day1)", "background": "", "description": "在一个矩阵中，需要在一些行和列上安排目标数量的保镖。每个位置可以放置一名保镖。你需要求出能否安排出一种方案，使得一些行、列上恰好有目标数量的保镖？", "inputFormat": "输入第一行一个整数 $R$，表示共有 $R$ 条行上的约束。\n\n接下来的 $R$ 行，每行两个整数 $a,b$，表示有 $b$ 行需要恰好包含 $a$ 名保镖。\n\n接下来的一行一个整数 $C$，表示共有 $C$ 条列上的约束。\n\n接下来的 $C$ 行，每行两个整数 $x,y$，表示有 $y$ 列需要恰好包含 $x$ 名保镖。  ", "outputFormat": "输出一行一个数字。如果存在这样的方案，输出 `1`；否则输出 `0`。", "hint": "#### 样例 1 解释\n\n有一行需要包含两名保镖，两行需要包含一名保镖；两列需要包含两名保镖，一种方案如下：\n\n```\nXX\nX.\n.X\n```\n\n其中 `X` 表示保镖，`.` 表示空位。\n\n#### 样例 2 解释\n\n有两行必须全部是保镖，但是有一列却要仅有一名保镖，无法实现，故无解。\n\n#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $R,C\\le 2000$，最多有 $10^6$ 名保镖；\n- 对于 $100\\%$ 的数据，保证保镖总数最多为 $10^{18}$，所有数字均为不超过 $10^9$ 的正整数，$1\\le R,C\\le 2\\times 10^5$。\n\n\n#### 说明\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 1 *[T3 bodyguards](https://people.ksp.sk/~misof/ceoi2010/bod-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6520", "type": "P", "difficulty": 6, "samples": [["6 4 3\n- 0\n+ 8\n+ 9\n+ 13\n- 19\n- 24", "5 4"], ["3 10 10\n+ 1\n+ 2\n+ 47", "infinity"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "线段树", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] mp3player (day2)", "background": "", "description": "有一个 MP3 播放器，这个播放器如果连续 $t$ 秒没有任何操作就会自动休眠。在休眠期间，任何按键都不会起到按键本身的作用，而只会终止休眠。\n\n例如，假设 $t=5$ 且播放器当前处于锁定状态。然后进行如下 $4$ 步操作：\n\n- 按下 `A`，停顿 $3$ 秒；\n- 按下 `B`，停顿 $5$ 秒；\n- 按下 `C`，停顿 $6$ 秒；\n- 按下 `D`。\n\n这些操作过后，实际执行的只有 `B` `C`。注意，在按 `C` 和按 `D` 之间播放器已经休眠了。\n\n这个 MP3 还有两个音量控制键 `+` `-`，分别为将音量调高一个单位或降低一个单位。音量只能为介于 $0\\sim V_{\\max}$ 之间的整数，即如果音量为 $0$ 时按 `-` 或音量为 $V_{\\max}$ 时按 `+`，音量均不发生改变。\n\n刚开始你并不知道 $t$ 的值，便想通过实验来得出。\n\n播放器刚开始是休眠的。你会从某一个音量 $V_1$ 开始，经过 $n$ 次操作得到音量 $V_2$，操作的具体步骤已经给出，每次操作形如 `+/-` $C_i$，表示在距离实验开始 $C_i$ 秒时按下 `+` 或 `-`。\n\n不幸的是，你也不知道 $V_1$ 的值，现在，你需要找出符合实验操作的 $t$ 的最大值，并输出相应的 $V_1$ 。\n\n", "inputFormat": "输入第一行三个整数 $n,V_{\\max},V_2$。\n\n接下来的 $n$ 行，每行为一个字符 $x_i$ 和一个整数 $C_i$（有空格隔开）。$x_i$ 为 `+` 或 `-`，表示调高音量或者降低音量。\n\n$C_i$ 表示距离实验开始 $C_i$ 秒后进行该操作，保证 $C_i$ 在输入中严格递增。", "outputFormat": "输出一行两个整数，为 $t,V_1$ 的值。\n\n如果有多种可能的方案，输出 $t$ 的最大的那一组；如果 $t$ 最大时同样有多种方案，输出 $V_1$ 最大的一组。\n\n如果 $t$ 可以任意大，则输出 `infinity`。\n\n请注意，不存在无解的情况。因为有一个方案：$t=0$ 一定存在。在这种情况下所有的按键都无法发挥作用，所以 $V_1=V_2$。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n当 $t=5$ 时，按键的情况为；`解锁,解锁,+,+,解锁,-`。\n\n此时对于 $V_1\\in \\{2,3,4\\}$，可以得到 $V_2=3$。但是要输出最大的 $V_1$。\n\n当 $t\\geq 6$ 时，最后两个按键都会发挥正常的作用，也就是连续下调两个音量。此时结果无法为 $V_2=3$，故 $t_{\\max}=5$。 \n\n#### 样例 2 解释\n\n当 $V_1=10$ 时，任意的 $t$ 都能满足条件。\n\n#### 【数据规模与约定】\n\n- 对于 $40\\%$ 的数据，保证 $n\\le 4000$；\n- 对于 $70\\%$ 的数据，保证 $n\\times V_{\\max}\\le 4\\times 10^5$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^5$，$2\\le V_{\\max}\\le 5000$，$0<C_i<2\\times 10^9$，$0\\le V_2\\le V_{\\max}$，$x_i\\in\\{\\texttt{+}, \\texttt{-}\n\\}$。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T1 mp3player](https://people.ksp.sk/~misof/ceoi2010/mp3-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] mp3player (day2)", "background": "", "description": "有一个 MP3 播放器，这个播放器如果连续 $t$ 秒没有任何操作就会自动休眠。在休眠期间，任何按键都不会起到按键本身的作用，而只会终止休眠。\n\n例如，假设 $t=5$ 且播放器当前处于锁定状态。然后进行如下 $4$ 步操作：\n\n- 按下 `A`，停顿 $3$ 秒；\n- 按下 `B`，停顿 $5$ 秒；\n- 按下 `C`，停顿 $6$ 秒；\n- 按下 `D`。\n\n这些操作过后，实际执行的只有 `B` `C`。注意，在按 `C` 和按 `D` 之间播放器已经休眠了。\n\n这个 MP3 还有两个音量控制键 `+` `-`，分别为将音量调高一个单位或降低一个单位。音量只能为介于 $0\\sim V_{\\max}$ 之间的整数，即如果音量为 $0$ 时按 `-` 或音量为 $V_{\\max}$ 时按 `+`，音量均不发生改变。\n\n刚开始你并不知道 $t$ 的值，便想通过实验来得出。\n\n播放器刚开始是休眠的。你会从某一个音量 $V_1$ 开始，经过 $n$ 次操作得到音量 $V_2$，操作的具体步骤已经给出，每次操作形如 `+/-` $C_i$，表示在距离实验开始 $C_i$ 秒时按下 `+` 或 `-`。\n\n不幸的是，你也不知道 $V_1$ 的值，现在，你需要找出符合实验操作的 $t$ 的最大值，并输出相应的 $V_1$ 。\n\n", "inputFormat": "输入第一行三个整数 $n,V_{\\max},V_2$。\n\n接下来的 $n$ 行，每行为一个字符 $x_i$ 和一个整数 $C_i$（有空格隔开）。$x_i$ 为 `+` 或 `-`，表示调高音量或者降低音量。\n\n$C_i$ 表示距离实验开始 $C_i$ 秒后进行该操作，保证 $C_i$ 在输入中严格递增。", "outputFormat": "输出一行两个整数，为 $t,V_1$ 的值。\n\n如果有多种可能的方案，输出 $t$ 的最大的那一组；如果 $t$ 最大时同样有多种方案，输出 $V_1$ 最大的一组。\n\n如果 $t$ 可以任意大，则输出 `infinity`。\n\n请注意，不存在无解的情况。因为有一个方案：$t=0$ 一定存在。在这种情况下所有的按键都无法发挥作用，所以 $V_1=V_2$。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n当 $t=5$ 时，按键的情况为；`解锁,解锁,+,+,解锁,-`。\n\n此时对于 $V_1\\in \\{2,3,4\\}$，可以得到 $V_2=3$。但是要输出最大的 $V_1$。\n\n当 $t\\geq 6$ 时，最后两个按键都会发挥正常的作用，也就是连续下调两个音量。此时结果无法为 $V_2=3$，故 $t_{\\max}=5$。 \n\n#### 样例 2 解释\n\n当 $V_1=10$ 时，任意的 $t$ 都能满足条件。\n\n#### 【数据规模与约定】\n\n- 对于 $40\\%$ 的数据，保证 $n\\le 4000$；\n- 对于 $70\\%$ 的数据，保证 $n\\times V_{\\max}\\le 4\\times 10^5$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^5$，$2\\le V_{\\max}\\le 5000$，$0<C_i<2\\times 10^9$，$0\\le V_2\\le V_{\\max}$，$x_i\\in\\{\\texttt{+}, \\texttt{-}\n\\}$。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T1 mp3player](https://people.ksp.sk/~misof/ceoi2010/mp3-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6521", "type": "P", "difficulty": 5, "samples": [["4 1\n0000\na010\n0202\na0e2", "0"], ["4 2\n0000\na010\n0202\na0e2", "3"]], "limits": {"time": [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "CEOI（中欧）", "排列组合", "容斥原理"], "title": "[CEOI 2010] pin (day2)", "background": "", "description": "给定 $n$ 个长度为 $4$ 的字符串，你需要找出有多少对字符串满足**恰好** $D$ 个对应位置的字符不同。\n\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n接下来的 $n$ 行，每行一个长度为 $4$ 的字符串。", "outputFormat": "输出一行一个整数，表示满足条件的字符串的对数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n任意两个字符串都有多于一个位置不相同。\n\n#### 样例 2 解释\n\n共有三对字符串：`0000,a010` `a010,a0e2` `0000,0202`。\n\n#### 【数据规模与约定】\n\n- 对于 $15\\%$ 的数据，保证 $n\\le 2000$；\n- 对于 $30\\%$ 的数据，保证 $D=1$；\n- 对于 $60\\%$ 的数据，保证 $D\\le 2$；\n- 对于 $75\\%$ 的数据，保证字符串中只包含小写字母 $a\\sim f$ 以及数字。因此可以视为 $16$ 进制数；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 5\\times 10^4$，$1\\le D\\le 4$，所有输入的字符串没有重复，串中的字符仅可能为 $a\\sim z$ 或者数字字符。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T2 pin](https://people.ksp.sk/~misof/ceoi2010/pin-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] pin (day2)", "background": "", "description": "给定 $n$ 个长度为 $4$ 的字符串，你需要找出有多少对字符串满足**恰好** $D$ 个对应位置的字符不同。\n\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n接下来的 $n$ 行，每行一个长度为 $4$ 的字符串。", "outputFormat": "输出一行一个整数，表示满足条件的字符串的对数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n任意两个字符串都有多于一个位置不相同。\n\n#### 样例 2 解释\n\n共有三对字符串：`0000,a010` `a010,a0e2` `0000,0202`。\n\n#### 【数据规模与约定】\n\n- 对于 $15\\%$ 的数据，保证 $n\\le 2000$；\n- 对于 $30\\%$ 的数据，保证 $D=1$；\n- 对于 $60\\%$ 的数据，保证 $D\\le 2$；\n- 对于 $75\\%$ 的数据，保证字符串中只包含小写字母 $a\\sim f$ 以及数字。因此可以视为 $16$ 进制数；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 5\\times 10^4$，$1\\le D\\le 4$，所有输入的字符串没有重复，串中的字符仅可能为 $a\\sim z$ 或者数字字符。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T2 pin](https://people.ksp.sk/~misof/ceoi2010/pin-eng.pdf)***。\n\n翻译版权为题目提供者@[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6522", "type": "P", "difficulty": 4, "samples": [["4 1\n1 2 3 100", "4"], ["6 9\n10 20 20 10 10 20", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2010] tower (day2)", "background": "古巴比伦人决定建造一座塔。", "description": "这座塔共有 $n$ 层，每层由一个边长为 $a_i$ 的立方体石块构成。一个石块 $i$ 能够直接放在石块 $j$ 上当且仅当 $a_i  \\leq a_j+D$，其中 $D$ 为一个给定的常数。\n\n你需要求出如果使用全部的石块，有多少种不同的搭建方案。输出答案 $\\bmod\\ 10^9+9$ 的结果。\n\n**注意：即使两个石块的边长相同，也看做不同的石块。**\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n第二行 $n$ 个整数 $a_1,\\dots,a_n$，表示每个立方体石块的边长。 ", "outputFormat": "输出一行一个整数，表示方案总数 $\\bmod\\ 10^9+9$ 的结果。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n首先把边长为 $100$ 的石块放在底部，其余的石块可以任意顺序放置，除了以下两种情况：`2,1,3` `1,3,2`。\n\n#### 样例 2 解释\n\n首先不允许在 $10$ 上面放 $20$。\n\n所以就把 $20$ 一堆放在底下，$10$ 一堆放在上面。\n\n即 $(3!)\\times (3!)=36$。\n\n#### 【数据规模与约定】\n\n- 对于 $10\\%$ 的数据，保证 $n\\le 10$；\n- 对于 $30\\%$ 的数据，保证方案数不超过 $10^6$；\n- 对于 $45\\%$ 的数据，保证 $n\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $n\\le 70$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 6.2\\times 10^5$，输入中所有数字为不超过 $10^9$ 的正整数。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T3 tower](https://people.ksp.sk/~misof/ceoi2010/tow-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2010] tower (day2)", "background": "古巴比伦人决定建造一座塔。", "description": "这座塔共有 $n$ 层，每层由一个边长为 $a_i$ 的立方体石块构成。一个石块 $i$ 能够直接放在石块 $j$ 上当且仅当 $a_i  \\leq a_j+D$，其中 $D$ 为一个给定的常数。\n\n你需要求出如果使用全部的石块，有多少种不同的搭建方案。输出答案 $\\bmod\\ 10^9+9$ 的结果。\n\n**注意：即使两个石块的边长相同，也看做不同的石块。**\n", "inputFormat": "输入第一行两个整数 $n,D$。\n\n第二行 $n$ 个整数 $a_1,\\dots,a_n$，表示每个立方体石块的边长。 ", "outputFormat": "输出一行一个整数，表示方案总数 $\\bmod\\ 10^9+9$ 的结果。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n\n首先把边长为 $100$ 的石块放在底部，其余的石块可以任意顺序放置，除了以下两种情况：`2,1,3` `1,3,2`。\n\n#### 样例 2 解释\n\n首先不允许在 $10$ 上面放 $20$。\n\n所以就把 $20$ 一堆放在底下，$10$ 一堆放在上面。\n\n即 $(3!)\\times (3!)=36$。\n\n#### 【数据规模与约定】\n\n- 对于 $10\\%$ 的数据，保证 $n\\le 10$；\n- 对于 $30\\%$ 的数据，保证方案数不超过 $10^6$；\n- 对于 $45\\%$ 的数据，保证 $n\\le 20$；\n- 对于 $70\\%$ 的数据，保证 $n\\le 70$；\n- 对于 $100\\%$ 的数据，保证 $2\\le n\\le 6.2\\times 10^5$，输入中所有数字为不超过 $10^9$ 的正整数。\n\n\n#### 【说明】\n\n**题目译自 [CEOI 2010](http://ceoi2010.ics.upjs.sk/Contest/Tasks) day 2 *[T3 tower](https://people.ksp.sk/~misof/ceoi2010/tow-eng.pdf)***。\n\n翻译版权为题目提供者 @[ShineEternal](https://www.luogu.com.cn/user/45475) 所有，未经许可禁止转载。\n\n", "locale": "zh-CN"}}}
{"pid": "P6523", "type": "P", "difficulty": 4, "samples": [["2\n4 233\n55 35 77\n4 5\n55 35 77 ", "11 5 7 11 \n-1"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["数学", "递推", "Special Judge", "最大公约数 gcd", "构造"], "title": "「Wdoi-1」加密通信", "background": "自月战之后，八云紫在槐安通道中设立了一重结界，使得从地面传向月都的信息全部会被拦截和破译。  \n\n为了维持正常的通讯，八意永琳同月兔们研究出了一种全新的加密方式。", "description": "首先，八意永琳会写出需要被加密的明文 $A$ ，此段明文由 $n-1$ 个正整数构成。\n\n之后，她会构造出一个由 $n$ 个**质数**构成的密文 $B$，满足对  $\\forall  i \\in [1,n),B_i \\times B_{i + 1} = A_i$。\n\n为了提高信息的利用率，八意永琳规定 $B$ 中出现的所有质数的值必须在 $[1,M]$ 范围内。", "inputFormat": "第一行一个整数 $T$ , 表示需要被加密的明文的组数。\n\n对于每组明文：\n\n第一行两个整数 $n,M$ ，代表明文的长度$+1$，也即所求密文的长度和可出现质数的最大值。\n\n接下来一行 $n - 1$ 个由空格隔开的正整数，代表明文 $A$。", "outputFormat": "对于每组明文，均输出一行：\n\n- 若有解，输出**任意一组**合法密文 $B$ 即可，密文中的 $n$ 个质数以空格隔开。\n\n- 若无解，输出 `-1`。", "hint": "#### 数据规模\n\n- 对于 $20\\%$ 的数据，$n \\le 5,M \\le 10$。\n\n- 对于 $40\\%$ 的数据，$A_i \\le 10 ^ {12}$。\n\n- 对于 $70\\%$ 的数据， $A_i \\neq A_{i + 1}$。\n\n- 对于$100\\%$的数据，$3 \\le n \\le 10 ^ 5$，$1 \\le A_i,M \\le 10 ^ {18}$，$1 \\le T \\le 5$。\n\n- 以上几档部分分呈**包含关系**，$100\\%$ 包含 $70\\%$，$70\\%$ 包含 $40\\%\\ \\ldots\\ldots$以此类推。\n\n#### 数据保证：\n\n- 若不考虑 $b_i$ 在 $[1,M]$ 范围内的条件，必然有至少一组合法解。\n\n- 有至少一对 $(i,j)$，使得 $A_i \\neq A_j$。\n\n#### 后置资料\n\n**本段资料与答题相关性不大**。\n\n[百度百科 - 质数](https://baike.baidu.com/item/%E8%B4%A8%E6%95%B0/263515?fr=aladdin)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」加密通信", "background": "自月战之后，八云紫在槐安通道中设立了一重结界，使得从地面传向月都的信息全部会被拦截和破译。  \n\n为了维持正常的通讯，八意永琳同月兔们研究出了一种全新的加密方式。", "description": "首先，八意永琳会写出需要被加密的明文 $A$ ，此段明文由 $n-1$ 个正整数构成。\n\n之后，她会构造出一个由 $n$ 个**质数**构成的密文 $B$，满足对  $\\forall  i \\in [1,n),B_i \\times B_{i + 1} = A_i$。\n\n为了提高信息的利用率，八意永琳规定 $B$ 中出现的所有质数的值必须在 $[1,M]$ 范围内。", "inputFormat": "第一行一个整数 $T$ , 表示需要被加密的明文的组数。\n\n对于每组明文：\n\n第一行两个整数 $n,M$ ，代表明文的长度$+1$，也即所求密文的长度和可出现质数的最大值。\n\n接下来一行 $n - 1$ 个由空格隔开的正整数，代表明文 $A$。", "outputFormat": "对于每组明文，均输出一行：\n\n- 若有解，输出**任意一组**合法密文 $B$ 即可，密文中的 $n$ 个质数以空格隔开。\n\n- 若无解，输出 `-1`。", "hint": "#### 数据规模\n\n- 对于 $20\\%$ 的数据，$n \\le 5,M \\le 10$。\n\n- 对于 $40\\%$ 的数据，$A_i \\le 10 ^ {12}$。\n\n- 对于 $70\\%$ 的数据， $A_i \\neq A_{i + 1}$。\n\n- 对于$100\\%$的数据，$3 \\le n \\le 10 ^ 5$，$1 \\le A_i,M \\le 10 ^ {18}$，$1 \\le T \\le 5$。\n\n- 以上几档部分分呈**包含关系**，$100\\%$ 包含 $70\\%$，$70\\%$ 包含 $40\\%\\ \\ldots\\ldots$以此类推。\n\n#### 数据保证：\n\n- 若不考虑 $b_i$ 在 $[1,M]$ 范围内的条件，必然有至少一组合法解。\n\n- 有至少一对 $(i,j)$，使得 $A_i \\neq A_j$。\n\n#### 后置资料\n\n**本段资料与答题相关性不大**。\n\n[百度百科 - 质数](https://baike.baidu.com/item/%E8%B4%A8%E6%95%B0/263515?fr=aladdin)", "locale": "zh-CN"}}}
{"pid": "P6524", "type": "P", "difficulty": 5, "samples": [["4 2 2\n26 1 21 8 ", "20"], ["2 2 2\n1 5", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "排序", "构造"], "title": "「Wdoi-1」托卡马克", "background": "今天的旧地狱依然核平，没有丝毫的波澜。", "description": "阿空在一次实验中意外失控，导致炽热的托卡马克上出现了 $n$ 处破损，为了防止八咫乌的力量彻底释放影响地面世界，觉决定修复托卡马克。\n\n阿空的托卡马克可抽象地理解为一条直线，以阿空为原点，这些破损位置的坐标分别为 $x_1,x_2,\\ldots ,x_n$。\n\n- 觉不希望消耗太多力量，所以她只会在这 $n$ 处破损中选择 $m$ 处进行修复。\n\n- 为了防止破损处发生泄漏，觉会在选择的 $m$ 处破损间**两两连接**一条通道。\n\n- 一条连接 $x_i$ 与 $x_j$ 处的通道的费用为 $\\left\\vert x_i - x_j \\right\\vert$，即两点间的直线距离，而一个方案的总花费被定义为所有通道的费用之和。\n\n觉当然知道有很多修复 $m$ 处破损的方案，但她现在只想知道：在所有合法方案中，总花费为**严格**第 $k$ 大的方案是什么。\n\n严格第 $k$ 大即不存在并列情况的第 $k$ 大方案。\n\n由于觉拥有读心的能力，你只需要输出该方案的总花费即可。\n\n若不存在符合要求的方案，输出 `-1`。", "inputFormat": "第一行三个整数，$n,m,k$，含义与题目描述一致。\n\n第二行 $n$ 个整数，为破损位置的坐标 $x_i$。", "outputFormat": "一行一个整数，表示所求方案的总花费。", "hint": "**【样例解释】**\n\n- 对于样例一，共有 $6$ 种方案，分别为：\n\n   - $(26,1)$，总费用 $25$。\n\n   - $(26,21)$，总费用 $5$。\n\n   - $(26,8)$，总费用 $18$。\n\n   - $(1,21)$，总费用 $20$。\n\n   - $(1,8)$，总费用 $7$。\n\n   - $(21,8)$，总费用 $13$。\n\n    显然，严格第二大的花费是 $20$。\n\n- 对于样例二，共有 $1$ 种方案，分别为：\n\n    - $(1,5)$，总费用 $4$。\n\n    显然，不存在严格第二大的花费，答案为 `-1`。\n\n----------------\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 对于 $100\\%$ 的数据：$1 \\le n,m \\le 3 \\times 10 ^ 5$，$1 \\le k \\le 2$，$0 \\le \\left\\vert x_i \\right\\vert \\le 10 ^ 8$，$2 \\mid m$，$m \\le n$。\n\n- **详细的数据范围：**\n\n    Subtask 编号 | $n \\le$ |  特殊性质 | 分值\n    :-: | :-: |  :-: | :-: \n   $1$ | $20$ | $m \\le 4$ |  $16$  \n   $2$ | $35$ | $1 \\le x_i \\le 7$ 且 $k = 1$ | $9$\n   $3$ | $35$ | $1 \\le x_i \\le 7$ | $9$\n   $4$ | $100$ | $k = 1$ | $16$\n   $5$ | $100$ | 无 | $16$\n   $6$ | $3 \\times 10 ^ 5$ |  $k = 1$ | $17$\n   $7$ | $3 \\times 10 ^ 5$ |  无 | $17$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」托卡马克", "background": "今天的旧地狱依然核平，没有丝毫的波澜。", "description": "阿空在一次实验中意外失控，导致炽热的托卡马克上出现了 $n$ 处破损，为了防止八咫乌的力量彻底释放影响地面世界，觉决定修复托卡马克。\n\n阿空的托卡马克可抽象地理解为一条直线，以阿空为原点，这些破损位置的坐标分别为 $x_1,x_2,\\ldots ,x_n$。\n\n- 觉不希望消耗太多力量，所以她只会在这 $n$ 处破损中选择 $m$ 处进行修复。\n\n- 为了防止破损处发生泄漏，觉会在选择的 $m$ 处破损间**两两连接**一条通道。\n\n- 一条连接 $x_i$ 与 $x_j$ 处的通道的费用为 $\\left\\vert x_i - x_j \\right\\vert$，即两点间的直线距离，而一个方案的总花费被定义为所有通道的费用之和。\n\n觉当然知道有很多修复 $m$ 处破损的方案，但她现在只想知道：在所有合法方案中，总花费为**严格**第 $k$ 大的方案是什么。\n\n严格第 $k$ 大即不存在并列情况的第 $k$ 大方案。\n\n由于觉拥有读心的能力，你只需要输出该方案的总花费即可。\n\n若不存在符合要求的方案，输出 `-1`。", "inputFormat": "第一行三个整数，$n,m,k$，含义与题目描述一致。\n\n第二行 $n$ 个整数，为破损位置的坐标 $x_i$。", "outputFormat": "一行一个整数，表示所求方案的总花费。", "hint": "**【样例解释】**\n\n- 对于样例一，共有 $6$ 种方案，分别为：\n\n   - $(26,1)$，总费用 $25$。\n\n   - $(26,21)$，总费用 $5$。\n\n   - $(26,8)$，总费用 $18$。\n\n   - $(1,21)$，总费用 $20$。\n\n   - $(1,8)$，总费用 $7$。\n\n   - $(21,8)$，总费用 $13$。\n\n    显然，严格第二大的花费是 $20$。\n\n- 对于样例二，共有 $1$ 种方案，分别为：\n\n    - $(1,5)$，总费用 $4$。\n\n    显然，不存在严格第二大的花费，答案为 `-1`。\n\n----------------\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 对于 $100\\%$ 的数据：$1 \\le n,m \\le 3 \\times 10 ^ 5$，$1 \\le k \\le 2$，$0 \\le \\left\\vert x_i \\right\\vert \\le 10 ^ 8$，$2 \\mid m$，$m \\le n$。\n\n- **详细的数据范围：**\n\n    Subtask 编号 | $n \\le$ |  特殊性质 | 分值\n    :-: | :-: |  :-: | :-: \n   $1$ | $20$ | $m \\le 4$ |  $16$  \n   $2$ | $35$ | $1 \\le x_i \\le 7$ 且 $k = 1$ | $9$\n   $3$ | $35$ | $1 \\le x_i \\le 7$ | $9$\n   $4$ | $100$ | $k = 1$ | $16$\n   $5$ | $100$ | 无 | $16$\n   $6$ | $3 \\times 10 ^ 5$ |  $k = 1$ | $17$\n   $7$ | $3 \\times 10 ^ 5$ |  无 | $17$", "locale": "zh-CN"}}}
{"pid": "P6525", "type": "P", "difficulty": 5, "samples": [["4\n7 4 8 11", "134"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2020", "O2优化", "动态规划优化"], "title": "「Wdoi-1」蓬莱玉枝", "background": "辉夜的游戏机没电了。", "description": "由于游戏机在妖怪之山充电，辉夜玩起了蓬莱玉枝。\n\n具体来说，辉夜面前有 $n$ 条蓬莱玉枝，第 $i$ 条蓬莱玉枝的长度为 $a_i$ 。  \n\n辉夜会从这 $n$ 条玉枝中选出若干条来，称作一次选择方案。一个方案被辉夜认为是\"不无聊的\"，当且仅当在选出的玉枝中，存在某三条玉枝能够 **构成一个三角形**。  \n\n当一个方案被认为是\"无聊的\"时，辉夜认为它的有趣程度为 $0$；当一个方案被辉夜认为是\"不无聊的\"时，若选出的玉枝数量为 $k$，选出的玉枝中最长的玉枝长度为 $m$ ，则这个方案的有趣程度为 $km$ 。\n\n现在，辉夜想要知道，所有选择方案的有趣程度之和是多少。然而，辉夜的玉枝太多了，所以她找到了聪明的你来帮她算出答案，作为回报，你可以得到参加月都万象展的邀请。\n\n辉夜认为一个巨大的数字也是很无趣的，因此你只需要输出答案对 $20060723$ 取模后的结果即可。", "inputFormat": "输入数据共包括两行。\n\n第一行，一个整数 $n$，表示玉枝的数量。\n\n第二行，$n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 条玉枝的长度。", "outputFormat": "一行一个整数，表示有趣程度之和对 $20060723$ 取模后的结果。", "hint": "#### 样例说明  \n\n\"不无聊的\"方案有：\n\n$\\left\\{4, 7, 8\\right\\}$，$\\left\\{4, 8, 11\\right\\}$，$\\left\\{7, 8, 11\\right\\}$ 和 $\\left\\{4, 7, 8, 11\\right\\}$。\n\n故答案为 $\\left(8 \\times 3 + 11 \\times 3 + 11 \\times 3 + 11 \\times 4\\right) \\bmod 20060723 = 134$。\n\n#### 数据范围与约定  \n\n**本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过。**\n| 子任务编号 | $n$ | 时限 | 空限 | 分值 |\n| :--------: | :-: | :--: | :--: | :--: |\n| $1$ | $20$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $2$ | $100$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $20$ |\n| $3$ | $200$ | $0.5\\operatorname s$ | $500\\operatorname{MB}$ | $10$ |\n| $4$ | $1000$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $5$ | $1500$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $6$ | $2000$ | $5\\operatorname s$ | $256\\operatorname{MB}$ | $10$ |\n| $7$ | $5000$ | $2\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n\n对于 $100\\%$ 的数据，$0 < n \\le 5000$，$0 < a_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」蓬莱玉枝", "background": "辉夜的游戏机没电了。", "description": "由于游戏机在妖怪之山充电，辉夜玩起了蓬莱玉枝。\n\n具体来说，辉夜面前有 $n$ 条蓬莱玉枝，第 $i$ 条蓬莱玉枝的长度为 $a_i$ 。  \n\n辉夜会从这 $n$ 条玉枝中选出若干条来，称作一次选择方案。一个方案被辉夜认为是\"不无聊的\"，当且仅当在选出的玉枝中，存在某三条玉枝能够 **构成一个三角形**。  \n\n当一个方案被认为是\"无聊的\"时，辉夜认为它的有趣程度为 $0$；当一个方案被辉夜认为是\"不无聊的\"时，若选出的玉枝数量为 $k$，选出的玉枝中最长的玉枝长度为 $m$ ，则这个方案的有趣程度为 $km$ 。\n\n现在，辉夜想要知道，所有选择方案的有趣程度之和是多少。然而，辉夜的玉枝太多了，所以她找到了聪明的你来帮她算出答案，作为回报，你可以得到参加月都万象展的邀请。\n\n辉夜认为一个巨大的数字也是很无趣的，因此你只需要输出答案对 $20060723$ 取模后的结果即可。", "inputFormat": "输入数据共包括两行。\n\n第一行，一个整数 $n$，表示玉枝的数量。\n\n第二行，$n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 条玉枝的长度。", "outputFormat": "一行一个整数，表示有趣程度之和对 $20060723$ 取模后的结果。", "hint": "#### 样例说明  \n\n\"不无聊的\"方案有：\n\n$\\left\\{4, 7, 8\\right\\}$，$\\left\\{4, 8, 11\\right\\}$，$\\left\\{7, 8, 11\\right\\}$ 和 $\\left\\{4, 7, 8, 11\\right\\}$。\n\n故答案为 $\\left(8 \\times 3 + 11 \\times 3 + 11 \\times 3 + 11 \\times 4\\right) \\bmod 20060723 = 134$。\n\n#### 数据范围与约定  \n\n**本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过。**\n| 子任务编号 | $n$ | 时限 | 空限 | 分值 |\n| :--------: | :-: | :--: | :--: | :--: |\n| $1$ | $20$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $2$ | $100$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $20$ |\n| $3$ | $200$ | $0.5\\operatorname s$ | $500\\operatorname{MB}$ | $10$ |\n| $4$ | $1000$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $5$ | $1500$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $6$ | $2000$ | $5\\operatorname s$ | $256\\operatorname{MB}$ | $10$ |\n| $7$ | $5000$ | $2\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n\n对于 $100\\%$ 的数据，$0 < n \\le 5000$，$0 < a_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6526", "type": "P", "difficulty": 6, "samples": [["6\n1 4 -4 0\n1 -3 -1 0\n1 -1 -1 0\n2\n3 2\n3 3", "10\n8\n10\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树"], "title": "「Wdoi-1」四重存在", "background": "芙兰朵露·斯卡蕾特的符卡禁忌「四重存在」可以产生 $4$ 个芙兰的幻影。\n\n但是芙兰并不满足于此。", "description": "芙兰所处的地下室可以被抽象为一个巨大的平面直角坐标系。芙兰朵露会进行 $q$ 次行动，每次行动的形式如下：  \n\n- `1 x y v` 表示芙兰在坐标 $(x,y)$ 处召唤出一个新的幻影，这个幻影拥有 $v$ 个单位的力量。  \n\n- `2` 表示查询现有的幻影中，\"**芙兰距离**\"的最大值是多少。  \n\n- `3 a` 表示查询如果忽略掉第 $a$ 个被召唤出的幻影，则剩余的幻影中\"芙兰距离\"的最大值是多少 。\n\n注： \n\n记第 $i$ 个被召唤出的幻影编号为 $i$，坐标为 $(x_i,y_i)$，力量为 $v_i$。  \n\n两个编号为 $u,v$ 的幻影间的\"芙兰距离\"等于 $|x_u-x_v|+|y_u-y_v|+v_{\\max(u,v)}$。\n\n**特殊地，编号为 $i$ 的幻影与自己的\"芙兰距离\"为 $v_i$。**  \n\n$3$ 操作中第 $a$ 个召唤的幻影只是在本次询问中不参与运算，而不是被去除。", "inputFormat": "第一行一个整数 $q$，表示操作个数。  \n\n之后 $q$ 行，每行若干个整数，输入格式与题目描述一致。 \n\n**注意**：由于芙兰朵露的情绪并不稳定，因此在 $1$ 操作中，实际输入的 \n\n$$x'=x \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$y'=y \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$v'=v \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$   \n\n其中的运算含义如下：\n\n- $\\operatorname{xor}$ 表示异或运算。\n\n- $\\text{lastans}$ 表示上一次 $2$ 或 $3$ 操作的答案，初始时 $\\text{lastans}=0$ ", "outputFormat": "输出一共若干行，每行一个整数，为每个 $2$ 操作或 $3$ 操作的答案。", "hint": "#### 数据范围与约定\n\n**「本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过」。**\n\n| 子任务编号 | $q \\le$ | 特殊性质 | 分值 |\n| :----------: | :-------: | :--------: | :---: |\n| $1$ | $500$ | 无 | $5$ |\n| $2$ | $5 \\times 10^3$ | A | $10$ |\n| $3$ | $10^5$ | A | $20$ |\n| $4$ | $10^5$ | 无 | $25$ |\n| $5$ | $2 \\times 10^6$ | 无 | $40$ |\n\n其中性质 A 表示无 3 操作。\n\n对于 $100\\%$ 的数据，$-10^8 \\le x,y,v \\le 10^8$，记某一时刻幻影的数量为 $c$，则有 $1 \\le a \\le c$ 。\n\n数据保证任意两个幻影的坐标不同，且在询问 $2,3$ 时至少已经插入 $3$ 个点。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」四重存在", "background": "芙兰朵露·斯卡蕾特的符卡禁忌「四重存在」可以产生 $4$ 个芙兰的幻影。\n\n但是芙兰并不满足于此。", "description": "芙兰所处的地下室可以被抽象为一个巨大的平面直角坐标系。芙兰朵露会进行 $q$ 次行动，每次行动的形式如下：  \n\n- `1 x y v` 表示芙兰在坐标 $(x,y)$ 处召唤出一个新的幻影，这个幻影拥有 $v$ 个单位的力量。  \n\n- `2` 表示查询现有的幻影中，\"**芙兰距离**\"的最大值是多少。  \n\n- `3 a` 表示查询如果忽略掉第 $a$ 个被召唤出的幻影，则剩余的幻影中\"芙兰距离\"的最大值是多少 。\n\n注： \n\n记第 $i$ 个被召唤出的幻影编号为 $i$，坐标为 $(x_i,y_i)$，力量为 $v_i$。  \n\n两个编号为 $u,v$ 的幻影间的\"芙兰距离\"等于 $|x_u-x_v|+|y_u-y_v|+v_{\\max(u,v)}$。\n\n**特殊地，编号为 $i$ 的幻影与自己的\"芙兰距离\"为 $v_i$。**  \n\n$3$ 操作中第 $a$ 个召唤的幻影只是在本次询问中不参与运算，而不是被去除。", "inputFormat": "第一行一个整数 $q$，表示操作个数。  \n\n之后 $q$ 行，每行若干个整数，输入格式与题目描述一致。 \n\n**注意**：由于芙兰朵露的情绪并不稳定，因此在 $1$ 操作中，实际输入的 \n\n$$x'=x \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$y'=y \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$v'=v \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$   \n\n其中的运算含义如下：\n\n- $\\operatorname{xor}$ 表示异或运算。\n\n- $\\text{lastans}$ 表示上一次 $2$ 或 $3$ 操作的答案，初始时 $\\text{lastans}=0$ ", "outputFormat": "输出一共若干行，每行一个整数，为每个 $2$ 操作或 $3$ 操作的答案。", "hint": "#### 数据范围与约定\n\n**「本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过」。**\n\n| 子任务编号 | $q \\le$ | 特殊性质 | 分值 |\n| :----------: | :-------: | :--------: | :---: |\n| $1$ | $500$ | 无 | $5$ |\n| $2$ | $5 \\times 10^3$ | A | $10$ |\n| $3$ | $10^5$ | A | $20$ |\n| $4$ | $10^5$ | 无 | $25$ |\n| $5$ | $2 \\times 10^6$ | 无 | $40$ |\n\n其中性质 A 表示无 3 操作。\n\n对于 $100\\%$ 的数据，$-10^8 \\le x,y,v \\le 10^8$，记某一时刻幻影的数量为 $c$，则有 $1 \\le a \\le c$ 。\n\n数据保证任意两个幻影的坐标不同，且在询问 $2,3$ 时至少已经插入 $3$ 个点。", "locale": "zh-CN"}}}
{"pid": "P6527", "type": "P", "difficulty": 7, "samples": [["8 0\n1 2 1\n1 7 1\n2 3 3\n2 4 1\n4 5 1\n4 6 2\n7 8 1\n1\n4 2\n1 3 5 6\n3\n1 \n2\n4", "0\n23\n20"], ["20 1\n2 1 6\n3 1 10\n4 1 4\n5 4 10\n6 2 3\n7 1 5\n8 4 4\n9 6 5\n10 8 8\n11 2 1\n12 7 9\n13 6 1\n14 8 7\n15 5 4\n16 10 9\n17 12 7\n18 4 10\n19 11 10\n20 13 7\n2\n6 3\n2 16 18 1 8 5 \n5\n19\n11\n18\n8\n20\n6 3\n8 3 17 13 7 20 \n5\n1\n15\n6\n10\n6\n", "0\n0\n0\n850\n810\n0\n0\n720\n0\n720\n"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["树形 DP", "虚树", "快速数论变换 NTT"], "title": "「Wdoi-1」幻能采集", "background": "幻能是一种全新的能源。 \n\n**注：点击\"展开\"阅读体验更佳**", "description": "在图 $G=\\{V,E\\}$ 中，对于大小为 $C$ 的点集 $S\\subset V$，若有一点编号为 $v$，且以 $S$ 中的每一个点为起点，$v$ 为终点能够选择出 $C$ 条不经过重边的路径，则称 $v$ 为点集 $S$  的\"聚焦点\"。  \n\n幻想乡的地图可以抽象为一棵含有 $n$ 个结点的有边权无根树(一条路径的长度定义为路径中所有边的边权之和)，而贤者们在树上 $c$ 个结点设置了幻能采集器。  \n\n为了幻能的充分利用，贤者们规定对于这 $c$ 个结点的 **大小至少为 $2$ 且不超过给定常数 $k$** 任意子集 $S$ ，在树上所有 $S$ 的\"聚焦点\"上都应设立一个只用于接受 $S$ 传递幻能的能量中枢。记其中的某个\"聚焦点\"为 $v$，则建立此能量中枢的代价按如下方式计算：  \n\n$$W_{S,v}=\\prod_{u \\in S}d(u,v)$$  \n\n其中，$d(u,v)$ 表示编号为 $u,v$ 的两点间的最短距离。 \n\n由于计划可能存在变化，贤者们设计了 **多组** 设置 $c$ 个幻能采集器的方案，而每个方案对应的常数 $k$ 也 **不一定** 相同。 \n\n现在，对于每个方案 $i$，贤者们想进行 $q_i$ 次询问，每次查询 若只建立 $x_{ij}$ 点应建的所有能量中枢，需要花费的总代价是多少(总代价等于建立每个能量中枢的代价之和)。由于幻想乡没有计算机，所以她们到外界找到了精通 $\\text{OI}$ 的你来帮忙。  \n\n当然，由于答案可能很大，你只需要输出总代价 $\\bmod\\ 998244353$ 后的结果即可。\n", "inputFormat": "第一行两个整数 $n,D$，表示结点数和某参数  \n\n之后 $n-1$ 行每行三个整数 $u,v,w$，表示一条 $u,v$ 间长度为 $w$ 的无向边  \n\n下一行一个整数 $T$，表示设置幻能采集器的方案个数  \n\n对于每组方案：  \n\n第一行两个整数 $c,k$，表示幻能采集器的个数和子集的大小上限  \n\n第二行 $c$ 个整数，表示幻能采集器所处的 $c$ 个结点，保证这 $c$ 个整数互不相同  \n\n第三行一个整数 $q$，表示对于该方案的询问的个数  \n\n之后 $q$ 行每行一个整数 $x$，表示查询只建立 $x$ 处所有中枢的代价和。  \n\n**因为某些原因，实际查询的 $x'=(x-1+D\\times lastans)\\bmod n+1$**，其中 $lastans$ 表示上一次查询的答案，第一次查询时 $lastans=0$，在改变方案后 $lastans$ **不清零**  ", "outputFormat": "若干行，每行一个整数表示查询的答案对 $\\text{998244353}$ 取模后的结果", "hint": "对于 $100\\%$ 的数据，$1 \\le w \\le 10^9$，$1 \\le u,v,c \\le n$，$D\\in\\{0,1\\}$，$2 \\le k \\le n$  \n\n子任务编号 | $n$ | $max(\\sum{c_i},\\sum{q_i})$  | $T\\le$ |特殊限制 | 分值\n:-: |\t:-:\t\t|\t:-: \t|\t:-:\t\t\t\t| \t:-: \t| \t:-:\t \t|\n$1$ |\t$10$\t|\t$10$\t|\t$10$\t\t|\t-\t\t|\t $10$\t|\n$2$ |\t$10^4$\t|\t$10^4$\t|\t$1$\t\t\t|\t$c=n,k\\le 100$\t|\t $15$\t|\n$3$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k=2$\t|\t $10$\t|\n$4$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$D=0,k\\le 100$\t|\t $15$\t|  \n$5$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k \\le 100$\t\t|\t $20$\t|\n$6$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t-\t\t|\t $30$\t|\n\n**本题采取捆绑测试**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」幻能采集", "background": "幻能是一种全新的能源。 \n\n**注：点击\"展开\"阅读体验更佳**", "description": "在图 $G=\\{V,E\\}$ 中，对于大小为 $C$ 的点集 $S\\subset V$，若有一点编号为 $v$，且以 $S$ 中的每一个点为起点，$v$ 为终点能够选择出 $C$ 条不经过重边的路径，则称 $v$ 为点集 $S$  的\"聚焦点\"。  \n\n幻想乡的地图可以抽象为一棵含有 $n$ 个结点的有边权无根树(一条路径的长度定义为路径中所有边的边权之和)，而贤者们在树上 $c$ 个结点设置了幻能采集器。  \n\n为了幻能的充分利用，贤者们规定对于这 $c$ 个结点的 **大小至少为 $2$ 且不超过给定常数 $k$** 任意子集 $S$ ，在树上所有 $S$ 的\"聚焦点\"上都应设立一个只用于接受 $S$ 传递幻能的能量中枢。记其中的某个\"聚焦点\"为 $v$，则建立此能量中枢的代价按如下方式计算：  \n\n$$W_{S,v}=\\prod_{u \\in S}d(u,v)$$  \n\n其中，$d(u,v)$ 表示编号为 $u,v$ 的两点间的最短距离。 \n\n由于计划可能存在变化，贤者们设计了 **多组** 设置 $c$ 个幻能采集器的方案，而每个方案对应的常数 $k$ 也 **不一定** 相同。 \n\n现在，对于每个方案 $i$，贤者们想进行 $q_i$ 次询问，每次查询 若只建立 $x_{ij}$ 点应建的所有能量中枢，需要花费的总代价是多少(总代价等于建立每个能量中枢的代价之和)。由于幻想乡没有计算机，所以她们到外界找到了精通 $\\text{OI}$ 的你来帮忙。  \n\n当然，由于答案可能很大，你只需要输出总代价 $\\bmod\\ 998244353$ 后的结果即可。\n", "inputFormat": "第一行两个整数 $n,D$，表示结点数和某参数  \n\n之后 $n-1$ 行每行三个整数 $u,v,w$，表示一条 $u,v$ 间长度为 $w$ 的无向边  \n\n下一行一个整数 $T$，表示设置幻能采集器的方案个数  \n\n对于每组方案：  \n\n第一行两个整数 $c,k$，表示幻能采集器的个数和子集的大小上限  \n\n第二行 $c$ 个整数，表示幻能采集器所处的 $c$ 个结点，保证这 $c$ 个整数互不相同  \n\n第三行一个整数 $q$，表示对于该方案的询问的个数  \n\n之后 $q$ 行每行一个整数 $x$，表示查询只建立 $x$ 处所有中枢的代价和。  \n\n**因为某些原因，实际查询的 $x'=(x-1+D\\times lastans)\\bmod n+1$**，其中 $lastans$ 表示上一次查询的答案，第一次查询时 $lastans=0$，在改变方案后 $lastans$ **不清零**  ", "outputFormat": "若干行，每行一个整数表示查询的答案对 $\\text{998244353}$ 取模后的结果", "hint": "对于 $100\\%$ 的数据，$1 \\le w \\le 10^9$，$1 \\le u,v,c \\le n$，$D\\in\\{0,1\\}$，$2 \\le k \\le n$  \n\n子任务编号 | $n$ | $max(\\sum{c_i},\\sum{q_i})$  | $T\\le$ |特殊限制 | 分值\n:-: |\t:-:\t\t|\t:-: \t|\t:-:\t\t\t\t| \t:-: \t| \t:-:\t \t|\n$1$ |\t$10$\t|\t$10$\t|\t$10$\t\t|\t-\t\t|\t $10$\t|\n$2$ |\t$10^4$\t|\t$10^4$\t|\t$1$\t\t\t|\t$c=n,k\\le 100$\t|\t $15$\t|\n$3$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k=2$\t|\t $10$\t|\n$4$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$D=0,k\\le 100$\t|\t $15$\t|  \n$5$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k \\le 100$\t\t|\t $20$\t|\n$6$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t-\t\t|\t $30$\t|\n\n**本题采取捆绑测试**", "locale": "zh-CN"}}}
{"pid": "P6528", "type": "P", "difficulty": 7, "samples": [["3 2 2\n1 2 3\n1 2 2 3\n1 1 3 3", "7\n14"], ["6 3 3\n1 1 4 5 1 4\n1 1 6 6\n1 2 3 4\n2 2 5 5", "87\n14\n32"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["莫队", "树状数组"], "title": "「Wdoi-1」完美冻结", "background": "琪露诺是一个喜欢研究数表的女孩子。", "description": "琪露诺有 $n$ 个正整数 $a_1,a_2,...,a_n$，她会按照如下方式构造一个大小为 $n\\times n$ 的数字表格：  \n\n- 定义数表的左下角为 $(1,1)$，右上角为 $(n,n)$，从左向右数第 $x$ 列，从下向上数第 $y$ 行的位置为 $(x,y)$。在数表的每个位置填入数字 $0$，然后在每个 $(i,i) (1\\le i\\le n)$ 处填入 $a_i$  \n\n- 枚举数表中的每一个 $2\\times 2$ 大小的子矩阵，当子矩阵左下角和右上角的数字**都不为 $0$** 时，记该子矩阵中从左到右，从上到下的数字分别为 $a,b,c,d$，进行以下操作：  \n\n\t- 若 $a=0$，$d=0$，则在数表中 $a,d$ 所处的位置填入 $b+c$  \n    - 若 $a=0$，$d\\neq 0$，则在数表中 $a$ 所处的位置填入 $b+c-d$  \n    - 若 $a\\neq 0$，$d=0$，则在数表中 $d$ 所处的位置填入 $b+c-a$  \n    \n- 重复第二步操作直至数表中的每一个位置都填有**正整数**  。\n\n- 最后，将数表中的每个数 $a_{ij}$ 变为 $\\lfloor \\frac{a_{ij}}{k} \\rfloor $，其中 $k$ 是一给定常数，$\\lfloor x \\rfloor$ 表示不超过 $x$ 的最大整数。  \n\n构造完 $n\\times n$ 的巨大数表后，琪露诺会进行 $q$ 次查询，每次询问数表中以  $(x_1,y_1)$ 为左下角，$(x_2,y_2)$ 为右上角的子矩阵中所有数字的和。  \n\n头脑简单的琪露诺想了一天又一天，却始终没有头绪，因此她找到了聪明的你帮她解决这个问题。  \n\n当然，由于答案可能很大，你只需要输出答案对 $998244353$ 取模后的结果即可。", "inputFormat": "第一行三个整数 $n,q,k$。  \n\n第二行 $n$ 个正整数，表示 $a_i$。  \n\n之后 $q$ 行，每行四个正整数 $x_1,y_1,x_2,y_2$，表示询问子矩阵的左下角和右上角坐标。", "outputFormat": "共 $q$ 行，每行一个整数，表示每一个询问的答案对 $998244353$ 取模后的结果。", "hint": "#### 样例 1 解释\n第一步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 0 & 3 \\cr  %\\cr是换行功能\n0 & 2 & 0  \\cr\n1 & 0 & 0\n\\end{bmatrix}\n$  \n\n进行一次第二步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 0\n\\end{bmatrix}\n$  \n\n进行两次第二步操作后的数表：   \n\n$\n\\begin{bmatrix}\n6 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 6\n\\end{bmatrix}\n$  \n\n进行第三步操作(对 $k=2$ 向下取整)后的数表：  \n\n$\n\\begin{bmatrix}\n3 & 2 & 1 \\cr  %\\cr是换行功能\n1 & 1 & 2  \\cr\n0 & 1 & 3\n\\end{bmatrix}\n$    \n\n询问 `1 2 2 3` 的答案为 $1+1+3+2=7$  \n询问 `1 1 3 3` 的答案为 $0+1+3+1+1+2+3+2+1=14$\n\n#### 数据范围：   \n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 2\\times 10^5$  ，$0 < a_i ,k \\le 10^9$  ，$1 \\le x_1 \\le x_2 \\le n$，$1 \\le y_1 \\le y_2 \\le n$。\n\n子任务编号 | $\\max(n,q)$  | 特殊限制 | 分值\n:-: | :-: | :-: | :-:\n$1$ | $100$ | 无特殊限制 | $5$\n$2$ | $500$ | 无特殊限制 | $5$\n$3$ | $5000$ | 无特殊限制 | $10$\n$4$ | $10^5$ | $q=1$ 且询问子矩阵为整个数表 | $20$  \n$5$ | $10^5$ | $k=1$ | $15$\n$6$ | $10^5$ | $k=2$ | $15$\n$7$ | $2*10^5$ | 无特殊限制 | $30$  \n\n**注意：本题采取捆绑测试**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」完美冻结", "background": "琪露诺是一个喜欢研究数表的女孩子。", "description": "琪露诺有 $n$ 个正整数 $a_1,a_2,...,a_n$，她会按照如下方式构造一个大小为 $n\\times n$ 的数字表格：  \n\n- 定义数表的左下角为 $(1,1)$，右上角为 $(n,n)$，从左向右数第 $x$ 列，从下向上数第 $y$ 行的位置为 $(x,y)$。在数表的每个位置填入数字 $0$，然后在每个 $(i,i) (1\\le i\\le n)$ 处填入 $a_i$  \n\n- 枚举数表中的每一个 $2\\times 2$ 大小的子矩阵，当子矩阵左下角和右上角的数字**都不为 $0$** 时，记该子矩阵中从左到右，从上到下的数字分别为 $a,b,c,d$，进行以下操作：  \n\n\t- 若 $a=0$，$d=0$，则在数表中 $a,d$ 所处的位置填入 $b+c$  \n    - 若 $a=0$，$d\\neq 0$，则在数表中 $a$ 所处的位置填入 $b+c-d$  \n    - 若 $a\\neq 0$，$d=0$，则在数表中 $d$ 所处的位置填入 $b+c-a$  \n    \n- 重复第二步操作直至数表中的每一个位置都填有**正整数**  。\n\n- 最后，将数表中的每个数 $a_{ij}$ 变为 $\\lfloor \\frac{a_{ij}}{k} \\rfloor $，其中 $k$ 是一给定常数，$\\lfloor x \\rfloor$ 表示不超过 $x$ 的最大整数。  \n\n构造完 $n\\times n$ 的巨大数表后，琪露诺会进行 $q$ 次查询，每次询问数表中以  $(x_1,y_1)$ 为左下角，$(x_2,y_2)$ 为右上角的子矩阵中所有数字的和。  \n\n头脑简单的琪露诺想了一天又一天，却始终没有头绪，因此她找到了聪明的你帮她解决这个问题。  \n\n当然，由于答案可能很大，你只需要输出答案对 $998244353$ 取模后的结果即可。", "inputFormat": "第一行三个整数 $n,q,k$。  \n\n第二行 $n$ 个正整数，表示 $a_i$。  \n\n之后 $q$ 行，每行四个正整数 $x_1,y_1,x_2,y_2$，表示询问子矩阵的左下角和右上角坐标。", "outputFormat": "共 $q$ 行，每行一个整数，表示每一个询问的答案对 $998244353$ 取模后的结果。", "hint": "#### 样例 1 解释\n第一步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 0 & 3 \\cr  %\\cr是换行功能\n0 & 2 & 0  \\cr\n1 & 0 & 0\n\\end{bmatrix}\n$  \n\n进行一次第二步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 0\n\\end{bmatrix}\n$  \n\n进行两次第二步操作后的数表：   \n\n$\n\\begin{bmatrix}\n6 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 6\n\\end{bmatrix}\n$  \n\n进行第三步操作(对 $k=2$ 向下取整)后的数表：  \n\n$\n\\begin{bmatrix}\n3 & 2 & 1 \\cr  %\\cr是换行功能\n1 & 1 & 2  \\cr\n0 & 1 & 3\n\\end{bmatrix}\n$    \n\n询问 `1 2 2 3` 的答案为 $1+1+3+2=7$  \n询问 `1 1 3 3` 的答案为 $0+1+3+1+1+2+3+2+1=14$\n\n#### 数据范围：   \n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 2\\times 10^5$  ，$0 < a_i ,k \\le 10^9$  ，$1 \\le x_1 \\le x_2 \\le n$，$1 \\le y_1 \\le y_2 \\le n$。\n\n子任务编号 | $\\max(n,q)$  | 特殊限制 | 分值\n:-: | :-: | :-: | :-:\n$1$ | $100$ | 无特殊限制 | $5$\n$2$ | $500$ | 无特殊限制 | $5$\n$3$ | $5000$ | 无特殊限制 | $10$\n$4$ | $10^5$ | $q=1$ 且询问子矩阵为整个数表 | $20$  \n$5$ | $10^5$ | $k=1$ | $15$\n$6$ | $10^5$ | $k=2$ | $15$\n$7$ | $2*10^5$ | 无特殊限制 | $30$  \n\n**注意：本题采取捆绑测试**", "locale": "zh-CN"}}}
{"pid": "P6529", "type": "P", "difficulty": 1, "samples": [["P01K02H03H04", "12 12 11 13"], ["H02H10P11H02", "GRESKA"], ["P10K10H10T01", "12 12 12 12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] KARTE", "background": "", "description": "这里有一堆牌，可惜它们似乎不全。\n\n您需要找出每种花色缺失的张数。\n\n如果有相同的扑克牌，请输出 `GRESKA`。", "inputFormat": "您要读取的是一个字符串 $s$，每三个字符为一张扑克牌。\n\n对于每一张扑克牌：\n\n- 第一位为花色，用 `P`，`K`，`H`，`T` 表示，且输出也是这个顺序。\n- 接下来两位，为这张牌的点数，个位数会在十位补零。", "outputFormat": "如果有相同的扑克牌，请输出 `GRESKA`。\n\n否则按  `P`，`K`，`H`，`T` 的顺序，输出该花色缺的牌数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n有一张花色为 `P` 的牌，一张花色为 `K` 的牌，两张花色为 `H` 的牌。\n#### 样例 2 解释\n这里有两张 `H02` ，所以输出 `GRESKA`。\n\n#### 【数据范围及限制】\n对于 $100\\%$ 的数据，保证 $1\\le \\lvert s\\rvert\\le 10^3$ 且 $s$ 中仅含有数字与 `P`，`K`，`H`，`T`，每张牌的点数 $\\in [1,13]$ 。\n\n#### 【说明】\n**本题满分 $50$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T1 KARTE。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] KARTE", "background": "", "description": "这里有一堆牌，可惜它们似乎不全。\n\n您需要找出每种花色缺失的张数。\n\n如果有相同的扑克牌，请输出 `GRESKA`。", "inputFormat": "您要读取的是一个字符串 $s$，每三个字符为一张扑克牌。\n\n对于每一张扑克牌：\n\n- 第一位为花色，用 `P`，`K`，`H`，`T` 表示，且输出也是这个顺序。\n- 接下来两位，为这张牌的点数，个位数会在十位补零。", "outputFormat": "如果有相同的扑克牌，请输出 `GRESKA`。\n\n否则按  `P`，`K`，`H`，`T` 的顺序，输出该花色缺的牌数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n有一张花色为 `P` 的牌，一张花色为 `K` 的牌，两张花色为 `H` 的牌。\n#### 样例 2 解释\n这里有两张 `H02` ，所以输出 `GRESKA`。\n\n#### 【数据范围及限制】\n对于 $100\\%$ 的数据，保证 $1\\le \\lvert s\\rvert\\le 10^3$ 且 $s$ 中仅含有数字与 `P`，`K`，`H`，`T`，每张牌的点数 $\\in [1,13]$ 。\n\n#### 【说明】\n**本题满分 $50$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T1 KARTE。", "locale": "zh-CN"}}}
{"pid": "P6530", "type": "P", "difficulty": 1, "samples": [["4\n3\n2\n3\n2 \n", "8"], ["6\n6\n4\n5\n5\n5\n5\n", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1]  AKCIJA", "background": "", "description": "书店搞活动了！\n\n现在，您可以一次性购买 $3$ 本书，而三本书中，您只需要付较贵的两本书的钱。\n\n注意，这种优惠在一次性购买 $1$ 或 $2$ 本书时，不存在。\n\n现在，您希望花最少的钱买下 $n$ 本书。\n\n请求出买下 $n$ 本书需花的最少钱数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行一个整数 $c_i$，第 $i$ 行表示第 $i$ 本书的价格。", "outputFormat": "仅一行一个整数，表示买下 $n$ 本书需花的最少钱数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n一起买价格为 $3,2,2$ 的三本书，剩下的一本书单独买即可。\n#### 样例 2 解释\n一起买价格为 $6,4,5$ 的三本书，而后一起买价格为 $5,5,5$ 的三本书。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 2\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le c_i\\le 10^5$。\n\n#### 【说明】\n**本题满分 $80$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T2 AKCIJA。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1]  AKCIJA", "background": "", "description": "书店搞活动了！\n\n现在，您可以一次性购买 $3$ 本书，而三本书中，您只需要付较贵的两本书的钱。\n\n注意，这种优惠在一次性购买 $1$ 或 $2$ 本书时，不存在。\n\n现在，您希望花最少的钱买下 $n$ 本书。\n\n请求出买下 $n$ 本书需花的最少钱数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行一个整数 $c_i$，第 $i$ 行表示第 $i$ 本书的价格。", "outputFormat": "仅一行一个整数，表示买下 $n$ 本书需花的最少钱数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n一起买价格为 $3,2,2$ 的三本书，剩下的一本书单独买即可。\n#### 样例 2 解释\n一起买价格为 $6,4,5$ 的三本书，而后一起买价格为 $5,5,5$ 的三本书。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 2\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le c_i\\le 10^5$。\n\n#### 【说明】\n**本题满分 $80$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T2 AKCIJA。", "locale": "zh-CN"}}}
{"pid": "P6531", "type": "P", "difficulty": 2, "samples": [["5\n2 1 5 4 3\n", "2"], ["5\n1 2 3 4 5", "5"], ["5\n4 5 2 1 4", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] BALONI", "background": "神箭手射气球！", "description": "神箭手要射掉 $n$ 个气球，且每个气球有高度，设为 $h_i$。\n\n箭会因为气球的弹性而下坠，当射中一个气球后箭的高度会下降 $1$。\n\n神箭手可以射任意高度的箭。\n\n求出神箭手最少需射几箭。", "inputFormat": "第一行仅一个整数 $n$。\n\n接下来一行 $n$ 个整数 $h_i$。", "outputFormat": "仅一行一个整数，表示神箭手最少需射几箭。", "hint": "#### 样例 1 解释\n先射击高度为 $5$ 的气球，再射击高度为 $2$ 的气球。\n#### 数据范围及限制\n- 对于 $40\\%$ 的数据，保证 $n\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,h_i\\le 10^6$。\n#### 说明\n**本题满分 $100$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T3 BALONI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] BALONI", "background": "神箭手射气球！", "description": "神箭手要射掉 $n$ 个气球，且每个气球有高度，设为 $h_i$。\n\n箭会因为气球的弹性而下坠，当射中一个气球后箭的高度会下降 $1$。\n\n神箭手可以射任意高度的箭。\n\n求出神箭手最少需射几箭。", "inputFormat": "第一行仅一个整数 $n$。\n\n接下来一行 $n$ 个整数 $h_i$。", "outputFormat": "仅一行一个整数，表示神箭手最少需射几箭。", "hint": "#### 样例 1 解释\n先射击高度为 $5$ 的气球，再射击高度为 $2$ 的气球。\n#### 数据范围及限制\n- 对于 $40\\%$ 的数据，保证 $n\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,h_i\\le 10^6$。\n#### 说明\n**本题满分 $100$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T3 BALONI。", "locale": "zh-CN"}}}
{"pid": "P6532", "type": "P", "difficulty": 5, "samples": [["2 2 2\n1 1 1\n2 2 1\n2 2 2 1\n1 1 1 2 \n", "4\n0 "], ["2 2 2\n1 1 1\n2 2 2\n2 2 2 1\n1 1 1 2 \n", "4\n2"], ["3 3 4\n1 1 1\n2 2 2\n2 3 3\n2 3 3 3\n3 3 3 1\n1 1 1 2\n3 1 3 2 \n", "6\n7\n7\n9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] TOPOVI", "background": "", "description": "这里有一个 $n\\times n$ 的棋盘，棋盘上有 $k$ 个棋子，每个棋子有一个武力值 $w_i$。\n\n我们做出如下规定：\n- 一个棋子的攻击范围是它所在的这一行与这一列，不包括它自己。\n- 一个棋盘上的单元格可以被攻击，当且仅当能攻击到它的所有棋子的武力值的异或和大于 $0$。\n\n现在我们会进行 $p$ 次操作，请求出每次操作后会被攻击到的格子总数。", "inputFormat": "第一行三个整数 $n,k,p$。\n\n接下来 $k$ 行，一行三个整数 $x_i,y_i,w_i$，第 $i$ 行表示有一个棋子在 $(x_i,y_i)$ 的位置，武力值为 $w_i$。\n\n接下来 $p$ 行，一行四个整数 $r_1,c_1,r_2,c_2$，表示将位于 $(r_1,c_1)$ 的棋子移至 $(r_2,c_2)$。", "outputFormat": "共 $p$ 行，一行一个整数，第 $i$ 行表示第 $i$ 次操作后会被攻击到的格子总数。", "hint": "#### 数据范围及限制\n- 对于 $25\\%$ 的数据，保证 $n,k\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^9$，$1\\le k\\le 10^5$，$1\\le p\\le 10^5$，$1\\le x_i,y_i,r_1,c_1,r_2,c_2\\le n$，$1\\le w_i\\le 10^9$，在移动过程中棋子不会重叠。\n\n#### 说明\n**本题满分 $120$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T4 TOPOVI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] TOPOVI", "background": "", "description": "这里有一个 $n\\times n$ 的棋盘，棋盘上有 $k$ 个棋子，每个棋子有一个武力值 $w_i$。\n\n我们做出如下规定：\n- 一个棋子的攻击范围是它所在的这一行与这一列，不包括它自己。\n- 一个棋盘上的单元格可以被攻击，当且仅当能攻击到它的所有棋子的武力值的异或和大于 $0$。\n\n现在我们会进行 $p$ 次操作，请求出每次操作后会被攻击到的格子总数。", "inputFormat": "第一行三个整数 $n,k,p$。\n\n接下来 $k$ 行，一行三个整数 $x_i,y_i,w_i$，第 $i$ 行表示有一个棋子在 $(x_i,y_i)$ 的位置，武力值为 $w_i$。\n\n接下来 $p$ 行，一行四个整数 $r_1,c_1,r_2,c_2$，表示将位于 $(r_1,c_1)$ 的棋子移至 $(r_2,c_2)$。", "outputFormat": "共 $p$ 行，一行一个整数，第 $i$ 行表示第 $i$ 次操作后会被攻击到的格子总数。", "hint": "#### 数据范围及限制\n- 对于 $25\\%$ 的数据，保证 $n,k\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^9$，$1\\le k\\le 10^5$，$1\\le p\\le 10^5$，$1\\le x_i,y_i,r_1,c_1,r_2,c_2\\le n$，$1\\le w_i\\le 10^9$，在移动过程中棋子不会重叠。\n\n#### 说明\n**本题满分 $120$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T4 TOPOVI。", "locale": "zh-CN"}}}
{"pid": "P6533", "type": "P", "difficulty": 6, "samples": [["2 2\n1 1\n1 1\n1\n1 1 1 \n", "1"], ["2 2\n1 2\n2 3\n2\n1 2 2\n2 2 2", "4\n4"], ["4 2\n1 2 3 4\n1 2 3 4\n1\n4 1 1\n", "66"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "线段树", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] RELATIVNOST", "background": "", "description": "您是一位计数大师，有一天您的朋友 Luka 出了一道问题来刁难您。\n\nLuka 是一位勤劳的画家，他的画很好，所以会有 $n$ 个人来买他的画。\n\n画分两种，黑白画与彩色画。\n\nLuka 十分勤劳，所以他有无穷多的画。\n\nLuka 讨厌出售黑白画，所以他希望至少有 $c$ 个人会买走一张彩色画。\n\n第 $i$ 个人会至多购买 $a_i$ 张彩色画，$b_i$ 张黑白画，且它们会至少购买一幅画。\n\n但是，客户们只能单独购买彩色画或黑白画。\n\n客户们会不断改变 $a_i$ 与 $b_i$，这种改变会持续 $q$ 次。\n\n客户以 $1\\sim n$ 编号。\n\n您需要求出在每次改变之后，Luka 会有几种方案满足所有需求。\n\n为了防止输出太大，Luka 只需要您告诉他方案数 $\\bmod\\ 10^4+7$ 的值。", "inputFormat": "第一行为两个整数 $n,c$。\n\n第二行为 $n$ 个整数 $a_i$。\n\n第三行为 $n$ 个整数 $b_i$。\n\n第四行为一个整数 $q$。\n\n接下来 $q$ 行，一行三个整数 $p_i,a_{p_i},b_{p_i}$，第 $i$ 行表示标号 $p_i$ 的顾客将 $a_i$ 和 $b_i$ 更换成 $a_{p_i}$ 和 $b_{p_i}$。", "outputFormat": "共 $q$ 行，一行一个整数，第 $i$ 行的值表示进行了第 $i$ 次改变后，满足条件的方案数 $\\bmod\\ 10^4+7$ 的值。", "hint": "#### 样例 1 说明\n第一次改变后，我们只有唯一的一种方案，就是向两位用户都出售一张彩色画。\n\n#### 数据范围及限制\n- 对于 $30\\%$ 的数据，保证 $n,q\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,q\\le 10^5$，$1\\le c\\le 20$，$1\\le a_i,b_i,a_{p_i},b_{p_i}\\le 10^9$，$1\\le p_i\\le n$。\n\n#### 说明\n**本题满分 $140$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T5 RELATIVNOST。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] RELATIVNOST", "background": "", "description": "您是一位计数大师，有一天您的朋友 Luka 出了一道问题来刁难您。\n\nLuka 是一位勤劳的画家，他的画很好，所以会有 $n$ 个人来买他的画。\n\n画分两种，黑白画与彩色画。\n\nLuka 十分勤劳，所以他有无穷多的画。\n\nLuka 讨厌出售黑白画，所以他希望至少有 $c$ 个人会买走一张彩色画。\n\n第 $i$ 个人会至多购买 $a_i$ 张彩色画，$b_i$ 张黑白画，且它们会至少购买一幅画。\n\n但是，客户们只能单独购买彩色画或黑白画。\n\n客户们会不断改变 $a_i$ 与 $b_i$，这种改变会持续 $q$ 次。\n\n客户以 $1\\sim n$ 编号。\n\n您需要求出在每次改变之后，Luka 会有几种方案满足所有需求。\n\n为了防止输出太大，Luka 只需要您告诉他方案数 $\\bmod\\ 10^4+7$ 的值。", "inputFormat": "第一行为两个整数 $n,c$。\n\n第二行为 $n$ 个整数 $a_i$。\n\n第三行为 $n$ 个整数 $b_i$。\n\n第四行为一个整数 $q$。\n\n接下来 $q$ 行，一行三个整数 $p_i,a_{p_i},b_{p_i}$，第 $i$ 行表示标号 $p_i$ 的顾客将 $a_i$ 和 $b_i$ 更换成 $a_{p_i}$ 和 $b_{p_i}$。", "outputFormat": "共 $q$ 行，一行一个整数，第 $i$ 行的值表示进行了第 $i$ 次改变后，满足条件的方案数 $\\bmod\\ 10^4+7$ 的值。", "hint": "#### 样例 1 说明\n第一次改变后，我们只有唯一的一种方案，就是向两位用户都出售一张彩色画。\n\n#### 数据范围及限制\n- 对于 $30\\%$ 的数据，保证 $n,q\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,q\\le 10^5$，$1\\le c\\le 20$，$1\\le a_i,b_i,a_{p_i},b_{p_i}\\le 10^9$，$1\\le p_i\\le n$。\n\n#### 说明\n**本题满分 $140$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T5 RELATIVNOST。", "locale": "zh-CN"}}}
{"pid": "P6534", "type": "P", "difficulty": 6, "samples": [["4\n2 1 3 4\n1 2\n1 3\n3 4 ", "6"], ["4\n3 4 5 6\n1 2\n1 3\n2 4", "3"], ["6\n5 3 6 4 2 1\n1 2\n1 3\n1 4\n2 5\n5 6 ", "10"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] UZASTOPNI", "background": "", "description": "这里有一棵有 $n$ 个点的树，每一个树上的节点有一个权值，即为 $v_i$，以 $1$ 为根，点以 $1\\sim n$ 编号。\n\n现在，我们想从选出一些点，并满足以下条件：\n\n1. 一个点的父亲点若未被选择则其不能被选择。\n1. 所选点的集合内不能有相同的权值。\n1. 对于每一个选择的点，其子树中所有被选择点的权值必须可以构成公差为 $1$ 的等差数列。\n\n您只需要输出满足上述条件的方案个数。\n\n**注意：这里的方案指所选的数的集合不同的方案。**", "inputFormat": "第一行为一个整数 $n$。\n\n接下来一行 $n$ 个整数 $v_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，第 $i$ 行描述树上有一条以 $a_i$ 为父亲，$b_i$ 为儿子的边。 ", "outputFormat": "仅一行一个整数，表示满足上述条件的方案个数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n如下为选点的权值的六种情况：\n\n$\\{2\\},\\{2,3\\},\\{2,3,4\\},\\{1,2,3,4\\},\\{1,2\\},\\{1,2,3\\}$。\n\n#### 样例 2 解释\n如下为选点的权值的三种情况：\n\n$\\{3\\},\\{3,4\\},\\{3,4,5\\}$。\n\n注意到不能选权值为 $6$ 的点，因为其父亲点与其构成的子树 $\\{4,6\\}$ 不符条件。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^4$，$1\\le v_i\\le 100$，$1\\le a_i,b_i\\le n$。\n#### 【说明】\n**本题满分 $160$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T6 UZASTOPNI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] UZASTOPNI", "background": "", "description": "这里有一棵有 $n$ 个点的树，每一个树上的节点有一个权值，即为 $v_i$，以 $1$ 为根，点以 $1\\sim n$ 编号。\n\n现在，我们想从选出一些点，并满足以下条件：\n\n1. 一个点的父亲点若未被选择则其不能被选择。\n1. 所选点的集合内不能有相同的权值。\n1. 对于每一个选择的点，其子树中所有被选择点的权值必须可以构成公差为 $1$ 的等差数列。\n\n您只需要输出满足上述条件的方案个数。\n\n**注意：这里的方案指所选的数的集合不同的方案。**", "inputFormat": "第一行为一个整数 $n$。\n\n接下来一行 $n$ 个整数 $v_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，第 $i$ 行描述树上有一条以 $a_i$ 为父亲，$b_i$ 为儿子的边。 ", "outputFormat": "仅一行一个整数，表示满足上述条件的方案个数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n如下为选点的权值的六种情况：\n\n$\\{2\\},\\{2,3\\},\\{2,3,4\\},\\{1,2,3,4\\},\\{1,2\\},\\{1,2,3\\}$。\n\n#### 样例 2 解释\n如下为选点的权值的三种情况：\n\n$\\{3\\},\\{3,4\\},\\{3,4,5\\}$。\n\n注意到不能选权值为 $6$ 的点，因为其父亲点与其构成的子树 $\\{4,6\\}$ 不符条件。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^4$，$1\\le v_i\\le 100$，$1\\le a_i,b_i\\le n$。\n#### 【说明】\n**本题满分 $160$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T6 UZASTOPNI。", "locale": "zh-CN"}}}
{"pid": "P6535", "type": "P", "difficulty": 2, "samples": [["18\nbabic\nkeksic\nboric\nbukic\nsarmic\nbalic\nkruzic\nhrenovkic\nbeslic\nboksic\nkrafnic\npecivic\nklavirkovic\nkukumaric\nsunkic\nkolacic\nkovacic\nprijestolonasljednikovic ", "bk "], ["6\nmichael\njordan\nlebron\njames\nkobe\nbryant ", "PREDAJA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "字符串", "2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] TRENER", "background": "有一些字符串，需要你按特定要求统计。", "description": "给出 $n$ 个字符串，每个字符串都有其对应首字母。\n\n输出首字母对应字符串数量不低于 $5$ 的首字母个数。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n$ 行每行包含一个仅由小写字母组成的字符串，长度不超过 $30$ 个字符。", "outputFormat": "若不存在符合题目要求的首字母，输出 `PREDAJA`。\n\n否则按字典序输出所有首字母，其中无空格。", "hint": "#### 样例 1 解释\n符合条件的首字母是 `k` 和 `b`。\n\n------\n#### 【数据规模与约定】\n对于 $100\\% $ 的数据，$1\\le n\\le 150$。\n\n------------\n#### 【说明】\n$\\mathtt{Subtask\\ 0}$ 为样例。\n\n$\\mathtt{Subtask\\ 1\\sim 2}$ 无特殊限制。\n\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  T1 _TRENER_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] TRENER", "background": "有一些字符串，需要你按特定要求统计。", "description": "给出 $n$ 个字符串，每个字符串都有其对应首字母。\n\n输出首字母对应字符串数量不低于 $5$ 的首字母个数。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n$ 行每行包含一个仅由小写字母组成的字符串，长度不超过 $30$ 个字符。", "outputFormat": "若不存在符合题目要求的首字母，输出 `PREDAJA`。\n\n否则按字典序输出所有首字母，其中无空格。", "hint": "#### 样例 1 解释\n符合条件的首字母是 `k` 和 `b`。\n\n------\n#### 【数据规模与约定】\n对于 $100\\% $ 的数据，$1\\le n\\le 150$。\n\n------------\n#### 【说明】\n$\\mathtt{Subtask\\ 0}$ 为样例。\n\n$\\mathtt{Subtask\\ 1\\sim 2}$ 无特殊限制。\n\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  T1 _TRENER_。**", "locale": "zh-CN"}}}
{"pid": "P6536", "type": "P", "difficulty": 2, "samples": [["2 6", "4"], ["3 4", "3"], ["6 2", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] KUŠAČ", "background": "顿顿邀请你来均分香肠啦。", "description": "共有 $n$ 个香肠，需将其平均分给 $m$ 个品尝者。\n\n每刀可将香肠分为两份，要求用尽可能少的刀数切出符合要求的香肠，问至少要切几刀。", "inputFormat": "输入仅一行，两个正整数 $n$ 和 $m$。", "outputFormat": "输出一行，表示最少要切的刀数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n有 $2$ 个香肠和 $6$ 个品尝者，将每个香肠三等分，共 $4$ 刀。\n#### 样例 2 解释\n有 $3$ 个香肠，$4$ 个品尝者。将香肠切成 $\\tfrac{3}{4}$。前三人拿到 $\\tfrac{3}{4}$，最后一人拿到 $3\\times \\tfrac{1}{4}$。\n\n---\n\n#### 【数据规模与约定】\n对于全部的测试点，保证 $1\\le n,m\\le 100$。\n\n---\n\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T2 KUŠAČ_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] KUŠAČ", "background": "顿顿邀请你来均分香肠啦。", "description": "共有 $n$ 个香肠，需将其平均分给 $m$ 个品尝者。\n\n每刀可将香肠分为两份，要求用尽可能少的刀数切出符合要求的香肠，问至少要切几刀。", "inputFormat": "输入仅一行，两个正整数 $n$ 和 $m$。", "outputFormat": "输出一行，表示最少要切的刀数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n有 $2$ 个香肠和 $6$ 个品尝者，将每个香肠三等分，共 $4$ 刀。\n#### 样例 2 解释\n有 $3$ 个香肠，$4$ 个品尝者。将香肠切成 $\\tfrac{3}{4}$。前三人拿到 $\\tfrac{3}{4}$，最后一人拿到 $3\\times \\tfrac{1}{4}$。\n\n---\n\n#### 【数据规模与约定】\n对于全部的测试点，保证 $1\\le n,m\\le 100$。\n\n---\n\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T2 KUŠAČ_。**", "locale": "zh-CN"}}}
{"pid": "P6537", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3\n2 3 4\n3 4 8", "7"], ["4\n-1 -1 -1 -1\n1 2 3 4\n1 2 3 4\n1 2 3 4", "10"], ["5\n-1 -1 -1 -1 -1\n-2 -2 -2 -2 -2\n-3 -3 -3 -3 -3\n-4 -4 -4 -4 -4\n-5 -5 -5 -5 -5", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "枚举", "前缀和", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] RATAR", "background": "", "description": "给出一个 $n\\times n$ 的矩阵，问有多少对子矩阵有且仅有一个公共顶点，并且元素和相等。\n\n请注意，这里的**公共顶点**是指**顶点相交**，而不是**存在一个公共格子**。请参考样例 1 来理解“**公共顶点**”的含义。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n接下来 $n$ 行每行 $n$ 个整数，表示为 $a_{i,j}$，**可能有负数**。", "outputFormat": "输出仅一行，符合条件的方案数。", "hint": "#### 数据范围\n- 对于 $40\\%$ 的数据，$1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。\n\n#### 样例 1 解释\n可能的矩形对如下：\n\n$(0,0)-(1,1)$ 和 $(2,2)-(2,2)$； \n\n$(1,0)-(1,0)$ 和 $(0,1)-(0,1)$；\n\n$(2,0)-(2,0)$ 和 $(1,1)-(1,1)$；\n\n$(1,1)-(1,1)$ 和 $(0,2)-(0,2)$；\n\n$(2,1)-(2,1)$ 和 $(1,2)-(1,2)$；\n\n$(2,0)-(2,1)$ 和 $(0,2)-(1,2)$；\n\n$(1,0)-(2,0)$ 和 $(0,1)-(0,2)$。\n\n共计 $7$ **对**，所以输出 $7$ 。\n#### 说明\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T3 RATAR_。**\n\n------------\n$\\mathtt{Subtask \\ 0}$ 为样例数据。（10 pts）\n\n$\\mathtt{Subtask \\ 1}$ 中所有的数据满足 $1\\le n\\le 10$。 （30 pts）\n\n$\\mathtt{Subtask \\ 2}$ 中所有的数据满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。**请注意本子任务的时限**。（60 pts）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] RATAR", "background": "", "description": "给出一个 $n\\times n$ 的矩阵，问有多少对子矩阵有且仅有一个公共顶点，并且元素和相等。\n\n请注意，这里的**公共顶点**是指**顶点相交**，而不是**存在一个公共格子**。请参考样例 1 来理解“**公共顶点**”的含义。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n接下来 $n$ 行每行 $n$ 个整数，表示为 $a_{i,j}$，**可能有负数**。", "outputFormat": "输出仅一行，符合条件的方案数。", "hint": "#### 数据范围\n- 对于 $40\\%$ 的数据，$1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。\n\n#### 样例 1 解释\n可能的矩形对如下：\n\n$(0,0)-(1,1)$ 和 $(2,2)-(2,2)$； \n\n$(1,0)-(1,0)$ 和 $(0,1)-(0,1)$；\n\n$(2,0)-(2,0)$ 和 $(1,1)-(1,1)$；\n\n$(1,1)-(1,1)$ 和 $(0,2)-(0,2)$；\n\n$(2,1)-(2,1)$ 和 $(1,2)-(1,2)$；\n\n$(2,0)-(2,1)$ 和 $(0,2)-(1,2)$；\n\n$(1,0)-(2,0)$ 和 $(0,1)-(0,2)$。\n\n共计 $7$ **对**，所以输出 $7$ 。\n#### 说明\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T3 RATAR_。**\n\n------------\n$\\mathtt{Subtask \\ 0}$ 为样例数据。（10 pts）\n\n$\\mathtt{Subtask \\ 1}$ 中所有的数据满足 $1\\le n\\le 10$。 （30 pts）\n\n$\\mathtt{Subtask \\ 2}$ 中所有的数据满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。**请注意本子任务的时限**。（60 pts）", "locale": "zh-CN"}}}
{"pid": "P6538", "type": "P", "difficulty": 3, "samples": [["2 1\n5 10\n100 100\n11 ", "10"], ["3 2\n1 65\n5 23\n2 99\n10\n2", "164"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] LOPOV", "background": "有一些物品和一个小偷。", "description": "有 $N$ 件物品，每件物品有质量 $M_i$ 和价值 $V_i$。\n\nMirko 有 $K$ 个袋子，每袋可容纳的最大质量为 $C_i$。\n\n每袋仅能放一个物品，问最多可以带走多少价值的物品？", "inputFormat": "第一行包含两个正整数 $N$ 和 $K$。\n\n接下来 $N$ 行中的每行包含两个正整数 $M_i$ 和 $V_i$。\n\n接下来 $K$ 行中的每行包含一个正整数 $C_i$。", "outputFormat": "输出一行，能拿走的最大物品总价值。", "hint": "#### 【数据规模与约定】\n- $1\\le N,K\\le 3\\times 10^5$。\n- $1\\le M_i,V_i\\le 10^6$。\n- $1\\le C_i\\le 10^8$。\n\n#### 样例 2 解释\nMirko 将第一件物品放在第二袋中，将第三件物品放在第一袋中。\n\n-------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T4 LOPOV_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] LOPOV", "background": "有一些物品和一个小偷。", "description": "有 $N$ 件物品，每件物品有质量 $M_i$ 和价值 $V_i$。\n\nMirko 有 $K$ 个袋子，每袋可容纳的最大质量为 $C_i$。\n\n每袋仅能放一个物品，问最多可以带走多少价值的物品？", "inputFormat": "第一行包含两个正整数 $N$ 和 $K$。\n\n接下来 $N$ 行中的每行包含两个正整数 $M_i$ 和 $V_i$。\n\n接下来 $K$ 行中的每行包含一个正整数 $C_i$。", "outputFormat": "输出一行，能拿走的最大物品总价值。", "hint": "#### 【数据规模与约定】\n- $1\\le N,K\\le 3\\times 10^5$。\n- $1\\le M_i,V_i\\le 10^6$。\n- $1\\le C_i\\le 10^8$。\n\n#### 样例 2 解释\nMirko 将第一件物品放在第二袋中，将第三件物品放在第一袋中。\n\n-------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T4 LOPOV_。**", "locale": "zh-CN"}}}
{"pid": "P6539", "type": "P", "difficulty": 3, "samples": [["3\n1 2 4", "4"], ["2\n1 5", "2"], ["5\n4 6 3 8 9", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] ORGANIZATOR", "background": "有一场比赛，要求你算出参加决赛的人数。", "description": "参加决赛的人数满足以下描述：\n\n现有 $n$ 个整数，分别为 $A_1,A_2,\\cdots,A_n$。\n\n需要找到一个正整数 $x$，假设有 $m(m \\geq 2)$ 个 $A_i$ 是 $x$ 的倍数，则参加决赛的人数是 $s$，他的值为 $m\\cdot x$。\n\n请注意，对于一个正整数 $x$，如果其对应的 $m$ 值为 $1$，则该方案不合法。\n\n请找出令 $s$ 尽可能大的 $x$，并输出 $s$。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n输入的第二行包含 $n$ 个用空格隔开的整数 $A_i$。", "outputFormat": "输出一个整数 $s$。", "hint": "#### 样例 1 解释\n令 $x=2$，此时 $A_{2,3}$ 满足条件，答案为 $2\\times 2=4$。\n\n#### 【数据规模与约定】\n- 对于 $30\\%$ 的数据，$n<1000$。\n- 对于 $100\\%$ 的数据，满足 $2\\le n\\le 2\\times 10^5$，$1\\le A_i\\le 2\\times 10^6$。\n\n-----\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T5 ORGANIZATOR_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] ORGANIZATOR", "background": "有一场比赛，要求你算出参加决赛的人数。", "description": "参加决赛的人数满足以下描述：\n\n现有 $n$ 个整数，分别为 $A_1,A_2,\\cdots,A_n$。\n\n需要找到一个正整数 $x$，假设有 $m(m \\geq 2)$ 个 $A_i$ 是 $x$ 的倍数，则参加决赛的人数是 $s$，他的值为 $m\\cdot x$。\n\n请注意，对于一个正整数 $x$，如果其对应的 $m$ 值为 $1$，则该方案不合法。\n\n请找出令 $s$ 尽可能大的 $x$，并输出 $s$。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n输入的第二行包含 $n$ 个用空格隔开的整数 $A_i$。", "outputFormat": "输出一个整数 $s$。", "hint": "#### 样例 1 解释\n令 $x=2$，此时 $A_{2,3}$ 满足条件，答案为 $2\\times 2=4$。\n\n#### 【数据规模与约定】\n- 对于 $30\\%$ 的数据，$n<1000$。\n- 对于 $100\\%$ 的数据，满足 $2\\le n\\le 2\\times 10^5$，$1\\le A_i\\le 2\\times 10^6$。\n\n-----\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T5 ORGANIZATOR_。**", "locale": "zh-CN"}}}
{"pid": "P6540", "type": "P", "difficulty": 6, "samples": [["7\n1090901\n4\n87650\n0901\n109\n090 ", "7\n10\n3\n4"], ["10\n5821052680\n4\n210526\n2105\n582\n105268", "8\n6\n3\n9"], ["3\n001\n1\n11", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["字符串", "2013", "线段树", "树状数组", "后缀自动机 SAM", "后缀数组 SA", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] SLASTIČAR", "background": "你需要比较一些序列号。", "description": "现有 $M$ 个由数字 $0$ 到 $9$ 组成的短序列号和一个长度为 $N$ 的长序列号。\n\n检查序列号 $A$ 是否包含长度为 $L$ 的序列号 $B$ 的过程如下：\n\n- 将 $A$ 从位置 $1$ 到 $L$ 逐位与 $B$ 比较，一找到不同就将搜索段整体向后移，如果确定相等则停止比较。\n\n- 将搜索段后移意为把 $x$ 到 $y$ 的搜索区域后移为 $x+1$ 和 $y+1$。\n\n- 若剩下用于比较的位数不够，则在字符串末尾填充 `#`。如字符串为 `563232`，从位置 $4$ 到 $10$ 的填充为 `232####`。\n\n- 若尝试了所有段均不匹配则停止比较。\n\n对于每个短序列号，输出停止比较前比较的次数。", "inputFormat": "输入的第一行是正整数 $N$。\n\n输入的第二行是一个长度为 $N$ 的长序列号。\n\n输入的第三行包含正整数 $M$。\n\n接下来 $M$ 行每行包含一个长度不超过 $10^5$ 的短序列号。\n\n短序列号总长度不超过 $3\\times 10^6$。", "outputFormat": "输出 $M$ 个整数，即对于第 $i$ 个短序列号所需的比较次数。", "hint": "#### 【数据规模与约定】\n- 对于 $20\\%$ 的数据，$1\\le N\\le 10^3$，$1\\le M\\le 500$，任意短序列号长度均不超过 $10^3$。\n- 对于 $100\\%$ 的数据，满足 $1\\le N\\le 10^5$，$1\\le M\\le 5\\times 10^4$。\n- 对于任意序列号中的一位字符 $c$，满足 $c\\in\\{0,1,2,3,4,5,6,7,8,9 \\}$。\n\n#### 【样例解释】\n\n#### 样例 1 解释\n\n第一个序列号：\n- 机器人为每个段查找不同的第一位数字，总共进行 $7$ 次比较。\n\n第二个序列号：\n- 尝试第一个位置，立即发现差异，$1$ 次比较。\n- 尝试第二个位置，找到第四个数字的差异，$4$ 次比较。\n- 尝试第三个位置，立即找到差异，$1$ 次比较。\n- 尝试第四个位置，找到匹配，$4$个比较。 \n- 总计 $10$ 次比较。\n\n第三序列号：\n- 立即找到匹配项，总计 $3$ 个比较。\n\n第四个序列号：\n- 在第二个位置找到匹配项，总计 $1+3=4$ 个比较。\n\n#### 样例 3 解释\n按顺序将序列号 `11` 与段 `00`，$1$ 次比较，`01`，$1$ 次比较，和`1#`，$2$ 次比较，总计 $4$ 次比较。\n\n--------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T6 SLASTIČAR_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] SLASTIČAR", "background": "你需要比较一些序列号。", "description": "现有 $M$ 个由数字 $0$ 到 $9$ 组成的短序列号和一个长度为 $N$ 的长序列号。\n\n检查序列号 $A$ 是否包含长度为 $L$ 的序列号 $B$ 的过程如下：\n\n- 将 $A$ 从位置 $1$ 到 $L$ 逐位与 $B$ 比较，一找到不同就将搜索段整体向后移，如果确定相等则停止比较。\n\n- 将搜索段后移意为把 $x$ 到 $y$ 的搜索区域后移为 $x+1$ 和 $y+1$。\n\n- 若剩下用于比较的位数不够，则在字符串末尾填充 `#`。如字符串为 `563232`，从位置 $4$ 到 $10$ 的填充为 `232####`。\n\n- 若尝试了所有段均不匹配则停止比较。\n\n对于每个短序列号，输出停止比较前比较的次数。", "inputFormat": "输入的第一行是正整数 $N$。\n\n输入的第二行是一个长度为 $N$ 的长序列号。\n\n输入的第三行包含正整数 $M$。\n\n接下来 $M$ 行每行包含一个长度不超过 $10^5$ 的短序列号。\n\n短序列号总长度不超过 $3\\times 10^6$。", "outputFormat": "输出 $M$ 个整数，即对于第 $i$ 个短序列号所需的比较次数。", "hint": "#### 【数据规模与约定】\n- 对于 $20\\%$ 的数据，$1\\le N\\le 10^3$，$1\\le M\\le 500$，任意短序列号长度均不超过 $10^3$。\n- 对于 $100\\%$ 的数据，满足 $1\\le N\\le 10^5$，$1\\le M\\le 5\\times 10^4$。\n- 对于任意序列号中的一位字符 $c$，满足 $c\\in\\{0,1,2,3,4,5,6,7,8,9 \\}$。\n\n#### 【样例解释】\n\n#### 样例 1 解释\n\n第一个序列号：\n- 机器人为每个段查找不同的第一位数字，总共进行 $7$ 次比较。\n\n第二个序列号：\n- 尝试第一个位置，立即发现差异，$1$ 次比较。\n- 尝试第二个位置，找到第四个数字的差异，$4$ 次比较。\n- 尝试第三个位置，立即找到差异，$1$ 次比较。\n- 尝试第四个位置，找到匹配，$4$个比较。 \n- 总计 $10$ 次比较。\n\n第三序列号：\n- 立即找到匹配项，总计 $3$ 个比较。\n\n第四个序列号：\n- 在第二个位置找到匹配项，总计 $1+3=4$ 个比较。\n\n#### 样例 3 解释\n按顺序将序列号 `11` 与段 `00`，$1$ 次比较，`01`，$1$ 次比较，和`1#`，$2$ 次比较，总计 $4$ 次比较。\n\n--------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T6 SLASTIČAR_。**", "locale": "zh-CN"}}}
{"pid": "P6541", "type": "P", "difficulty": 7, "samples": [["4 100 1\n1 3\n3 4\n3 2", "Correct"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "交互题", "Special Judge", "WC"], "title": "[WC2018] 即时战略", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序里加入以下函数声明语句：\n\n```cpp\nint explore(int,int);\n```\n\n2. 程序开头不用，也不应该包含 `rts.h` 头文件。\n3. 仅支持 `C++`（含 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "小 M 在玩一个即时战略 (Real Time Strategy) 游戏。不同于大多数同类游戏，这个游戏的地图是树形的。也就是说，地图可以用一个由 $n$ 个结点，$n - 1$ 条边构成的连通图来表示。这些结点被编号为 $1 \\sim n$。\n\n每个结点有两种可能的状态：「已知的」或「未知的」。游戏开始时，只有 $1$ 号结点是已知的。  \n在游戏的过程中，小 M 可以尝试探索更多的结点。具体来说，小 M 每次操作时需要选择一个已知的结点 $x$，和一个不同于 $x$ 的任意结点 $y$（结点 $y$ 可以是未知的）。然后游戏的自动寻路系统会给出 $x$ 到 $y$ 的最短路径上的第二个结点 $z$，也就是从 $x$ 走到 $y$ 的最短路径上与 $x$ 相邻的结点。此时，如果结点 $z$ 是未知的，小 M 会将它标记为已知的。\n\n这个游戏的目标是：利用至多 $T$ 次探索操作，让所有结点的状态都成为已知的。然而小 M 还是这个游戏的新手，她希望得到你的帮助。\n\n**为了让游戏过程更加容易，小 M 给你提供了这个游戏的交互库，具体见「任务描述」和「实现细节」。**  \n**另外，小 M 也提供了一些游戏的提示，具体见题目的最后一节「提示」。**\n\n### 任务介绍\n你需要实现一个函数 `play`，以帮助小 M 完成游戏的目标。\n\n* `play(n, T, dataType)`\n\t* `n` 为树的结点个数；\n\t* `T` 为探索操作的次数限制；\n\t* `dataType` 为该测试点的数据类型，具体见「数据规模和约定」。\n\n在每个测试点中，交互库都会调用恰好一次 `play` 函数。该函数被调用之前，游戏处于刚开始的状态。\n\n你可以调用函数 `explore` 来帮助你在游戏中探索更多结点，但是这个函数的调用次数不能超过 $T$ 次。\n\n* `explore(x, y)`\n\t* `x` 为一个已知的结点；\n\t* `y` 为一个不同于 $x$ 的任意结点（可以不是已知的结点）；\n\t* 这个函数会返回结点 $x$ 到 $y$ 的最短路径上的第二个结点的编号。\n\n在函数 `play` 返回之后，交互库会检查游戏的状态：只有当每个结点都是已知的，才算游戏的目标完成。\n\n### 实现方法\n你需要且只能提交一个源文件 `rts.cpp/c/pas` 实现上述函数，且遵循下面的命名和接口。\n\n**对 C/C++ 语言的选手：**\n\n源代码中需要包含头文件 `rts.h`（**请注意在洛谷提交时不用包含该头文件**）。\n\n你需要实现的函数 `play`：\n```\nvoid play(int n, int T, int dataType);\n```\n\n函数 `explore` 的接口信息如下：\n```\nint explore(int x, int y);\n```\n\n**对 Pascal 语言的选手：**\n\n你需要使用单元 `graderhelperlib`。\n\n你需要实现的函数 `play`：\n```\nprocedure play(n, T, dataType : longint);\n```\n\n函数 `explore` 的接口信息如下：\n```\nfunction explore(x, y : longint) : longint;\n```", "inputFormat": "第一行包含三个整数 $n$, $T$, $\\texttt{dataType}$，需要保证 $2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n\n接下来 $n - 1$ 行，每行两个整数 $u$, $v$，需要保证 $1 \\leqslant u, v \\leqslant n$ 且 $u \\ne v$，表示一条 $u$ 和 $v$ 之间的边。\n\n你的输入需要保证这 $n - 1$ 条边构成一棵树。", "outputFormat": "交互库会判断游戏目标是否完成。如果完成，则会输出 $\\texttt{Correct}$，否则会输出相应的错误信息。", "hint": "### 样例解释\n\n这是使用试题目录的 grader 和正确的源程序得到的输出文件。\n\n对于此样例，一种可能的 `explore` 函数的调用顺序为：\n\n* `explore(1, 2)`，返回 3\n* `explore(3, 2)`，返回 2\n* `explore(2, 4)`，返回 3\n* `explore(3, 4)`，返回 4\n\n### 如何测试你的程序\n\n**对 C/C++ 语言的选手：**\n\n你需要在本题目录下使用如下命令编译得到可执行程序：\n\n`g++ grader.cpp rts.cpp -o rts -O2`\n\n可执行文件将从**标准输入**读入数据。\n\n读入完成之后，交互库将调用 `play` 函数。如果此时你调用 `explore` 的次数超过 $T$ 次，则交互库会输出详细的错误信息，并退出。\n\n接下来交互库会判断游戏目标是否完成。如果完成，则会输出 \"$\\texttt{Correct}$\"，否则会输出相应的错误信息。\n\n如果传入 `explore` 函数的参数非法（$x,y$ 不在 $1$ 到 $n$ 的范围内，或 $x$ 不是已知结点，或 $x=y$），那么交互库会输出详细的错误信息，并退出。\n\n如果要使用自己的输入文件进行测试，请保证输入文件符合以上格式要求，否则不保证程序能正确运行。\n\n### 如何使用样例源代码\n\n本题目录下，有针对每种语言的样例源代码 `rts_sample.cpp/c/pas`。选择你所需的语言，将其复制为 `rts.cpp/c/pas`，按照上文中提到的方式进行编译，即能通过编译得到可执行程序。 \n\n对于非正式选手，你只能选择一种语言进行作答，即你本题的试题目录下不能同时存在多个语言的 `rts.cpp/c/pas`，否则系统将任选一份源代码进行评测并作为最终结果。\n\n接下来你需要修改这个文件的实现，以达到题目的要求。\n\n### 子任务\n\n一共有 20 个测试点，每个测试点 5 分。\n\n对于所有测试点，以及对于所有样例，$2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n不同 $\\texttt{dataType}$ 对应的数据类型如下：\n\n* 对于 $\\texttt{dataType} = 1$ 的测试点，没有特殊限制。\n* 对于 $\\texttt{dataType} = 2$ 的测试点，游戏的地图是一棵以结点 $1$ 为根的完全二叉树，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足 $a_1 = 1$，且结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{\\lfloor i/2 \\rfloor}$ 之间有一条边相连。\n* 对于 $\\texttt{dataType} = 3$ 的测试点，游戏的地图是一条链，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{i-1}$ 之间有一条边相连。\n\n对于每个测试点，$n, T, \\texttt{dataType}$ 的取值如下表：\n\n| 测试点编号 | $n =$ | $T =$ | $\\texttt{dataType} =$ |\n|-|-|-|-|\n| 1 | $2$ | $10000$ | 1 |\n| 2 | $3$ | $10000$ | 1 |\n| 3 | $10$ | $10000$ | 1 |\n| 4 | $100$ | $10000$ | 1 |\n| 5 | $1000$ | $10000$ | 2 |\n| 6 | $20000$ | $300000$ | 2 |\n| 7 | $250000$ | $5000000$ | 2 |\n| 8 | $1000$ | $20000$ | 3 |\n| 9 | $5000$ | $15500$ | 3 |\n| 10 | $30000$ | $63000$ | 3 |\n| 11 | $150000$ | $165000$ | 3 |\n| 12 | $250000$ | $250100$ | 3 |\n| 13 | $300000$ | $300020$ | 3 |\n| 14 | $1000$ | $50000$ | 1 |\n| 15 | $5000$ | $200000$ | 1 |\n| 16 | $30000$ | $900000$ | 1 |\n| 17 | $150000$ | $3750000$ | 1 |\n| 18 | $200000$ | $4400000$ | 1 |\n| 19 | $250000$ | $5000000$ | 1 |\n| 20 | $300000$ | $5000000$ | 1 |\n\n### 提示\n\n这里是小 M 给你的一些贴心的提示：\n\n* 图（无向图）由结点和边构成，边是结点的无序对，用来描述结点之间的相互关系；\n* 路径是一个结点的非空序列，使得序列中相邻两个结点之间都有边相连；\n* 两个结点是连通的，当且仅当存在一条以其中一个结点开始、另一个结点结束的路径；\n* 一个图是连通的，当且仅当这个图上的每对结点都是连通的；\n* 一棵 $n$ 个结点的树，是一个由 $n$ 个结点，$n - 1$ 条边构成的连通图；\n* 两个结点的最短路径，是指连接两个结点的所有可能的路径中，序列长度最小的；\n* 在一棵树中，连接任意两个结点的最短路径，都是唯一的；\n* 通过访问输入输出文件、攻击评测系统或攻击评测库等方式得分属于作弊行为，所得分数无效。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[WC2018] 即时战略", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序里加入以下函数声明语句：\n\n```cpp\nint explore(int,int);\n```\n\n2. 程序开头不用，也不应该包含 `rts.h` 头文件。\n3. 仅支持 `C++`（含 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "小 M 在玩一个即时战略 (Real Time Strategy) 游戏。不同于大多数同类游戏，这个游戏的地图是树形的。也就是说，地图可以用一个由 $n$ 个结点，$n - 1$ 条边构成的连通图来表示。这些结点被编号为 $1 \\sim n$。\n\n每个结点有两种可能的状态：「已知的」或「未知的」。游戏开始时，只有 $1$ 号结点是已知的。  \n在游戏的过程中，小 M 可以尝试探索更多的结点。具体来说，小 M 每次操作时需要选择一个已知的结点 $x$，和一个不同于 $x$ 的任意结点 $y$（结点 $y$ 可以是未知的）。然后游戏的自动寻路系统会给出 $x$ 到 $y$ 的最短路径上的第二个结点 $z$，也就是从 $x$ 走到 $y$ 的最短路径上与 $x$ 相邻的结点。此时，如果结点 $z$ 是未知的，小 M 会将它标记为已知的。\n\n这个游戏的目标是：利用至多 $T$ 次探索操作，让所有结点的状态都成为已知的。然而小 M 还是这个游戏的新手，她希望得到你的帮助。\n\n**为了让游戏过程更加容易，小 M 给你提供了这个游戏的交互库，具体见「任务描述」和「实现细节」。**  \n**另外，小 M 也提供了一些游戏的提示，具体见题目的最后一节「提示」。**\n\n### 任务介绍\n你需要实现一个函数 `play`，以帮助小 M 完成游戏的目标。\n\n* `play(n, T, dataType)`\n\t* `n` 为树的结点个数；\n\t* `T` 为探索操作的次数限制；\n\t* `dataType` 为该测试点的数据类型，具体见「数据规模和约定」。\n\n在每个测试点中，交互库都会调用恰好一次 `play` 函数。该函数被调用之前，游戏处于刚开始的状态。\n\n你可以调用函数 `explore` 来帮助你在游戏中探索更多结点，但是这个函数的调用次数不能超过 $T$ 次。\n\n* `explore(x, y)`\n\t* `x` 为一个已知的结点；\n\t* `y` 为一个不同于 $x$ 的任意结点（可以不是已知的结点）；\n\t* 这个函数会返回结点 $x$ 到 $y$ 的最短路径上的第二个结点的编号。\n\n在函数 `play` 返回之后，交互库会检查游戏的状态：只有当每个结点都是已知的，才算游戏的目标完成。\n\n### 实现方法\n你需要且只能提交一个源文件 `rts.cpp/c/pas` 实现上述函数，且遵循下面的命名和接口。\n\n**对 C/C++ 语言的选手：**\n\n源代码中需要包含头文件 `rts.h`（**请注意在洛谷提交时不用包含该头文件**）。\n\n你需要实现的函数 `play`：\n```\nvoid play(int n, int T, int dataType);\n```\n\n函数 `explore` 的接口信息如下：\n```\nint explore(int x, int y);\n```\n\n**对 Pascal 语言的选手：**\n\n你需要使用单元 `graderhelperlib`。\n\n你需要实现的函数 `play`：\n```\nprocedure play(n, T, dataType : longint);\n```\n\n函数 `explore` 的接口信息如下：\n```\nfunction explore(x, y : longint) : longint;\n```", "inputFormat": "第一行包含三个整数 $n$, $T$, $\\texttt{dataType}$，需要保证 $2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n\n接下来 $n - 1$ 行，每行两个整数 $u$, $v$，需要保证 $1 \\leqslant u, v \\leqslant n$ 且 $u \\ne v$，表示一条 $u$ 和 $v$ 之间的边。\n\n你的输入需要保证这 $n - 1$ 条边构成一棵树。", "outputFormat": "交互库会判断游戏目标是否完成。如果完成，则会输出 $\\texttt{Correct}$，否则会输出相应的错误信息。", "hint": "### 样例解释\n\n这是使用试题目录的 grader 和正确的源程序得到的输出文件。\n\n对于此样例，一种可能的 `explore` 函数的调用顺序为：\n\n* `explore(1, 2)`，返回 3\n* `explore(3, 2)`，返回 2\n* `explore(2, 4)`，返回 3\n* `explore(3, 4)`，返回 4\n\n### 如何测试你的程序\n\n**对 C/C++ 语言的选手：**\n\n你需要在本题目录下使用如下命令编译得到可执行程序：\n\n`g++ grader.cpp rts.cpp -o rts -O2`\n\n可执行文件将从**标准输入**读入数据。\n\n读入完成之后，交互库将调用 `play` 函数。如果此时你调用 `explore` 的次数超过 $T$ 次，则交互库会输出详细的错误信息，并退出。\n\n接下来交互库会判断游戏目标是否完成。如果完成，则会输出 \"$\\texttt{Correct}$\"，否则会输出相应的错误信息。\n\n如果传入 `explore` 函数的参数非法（$x,y$ 不在 $1$ 到 $n$ 的范围内，或 $x$ 不是已知结点，或 $x=y$），那么交互库会输出详细的错误信息，并退出。\n\n如果要使用自己的输入文件进行测试，请保证输入文件符合以上格式要求，否则不保证程序能正确运行。\n\n### 如何使用样例源代码\n\n本题目录下，有针对每种语言的样例源代码 `rts_sample.cpp/c/pas`。选择你所需的语言，将其复制为 `rts.cpp/c/pas`，按照上文中提到的方式进行编译，即能通过编译得到可执行程序。 \n\n对于非正式选手，你只能选择一种语言进行作答，即你本题的试题目录下不能同时存在多个语言的 `rts.cpp/c/pas`，否则系统将任选一份源代码进行评测并作为最终结果。\n\n接下来你需要修改这个文件的实现，以达到题目的要求。\n\n### 子任务\n\n一共有 20 个测试点，每个测试点 5 分。\n\n对于所有测试点，以及对于所有样例，$2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n不同 $\\texttt{dataType}$ 对应的数据类型如下：\n\n* 对于 $\\texttt{dataType} = 1$ 的测试点，没有特殊限制。\n* 对于 $\\texttt{dataType} = 2$ 的测试点，游戏的地图是一棵以结点 $1$ 为根的完全二叉树，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足 $a_1 = 1$，且结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{\\lfloor i/2 \\rfloor}$ 之间有一条边相连。\n* 对于 $\\texttt{dataType} = 3$ 的测试点，游戏的地图是一条链，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{i-1}$ 之间有一条边相连。\n\n对于每个测试点，$n, T, \\texttt{dataType}$ 的取值如下表：\n\n| 测试点编号 | $n =$ | $T =$ | $\\texttt{dataType} =$ |\n|-|-|-|-|\n| 1 | $2$ | $10000$ | 1 |\n| 2 | $3$ | $10000$ | 1 |\n| 3 | $10$ | $10000$ | 1 |\n| 4 | $100$ | $10000$ | 1 |\n| 5 | $1000$ | $10000$ | 2 |\n| 6 | $20000$ | $300000$ | 2 |\n| 7 | $250000$ | $5000000$ | 2 |\n| 8 | $1000$ | $20000$ | 3 |\n| 9 | $5000$ | $15500$ | 3 |\n| 10 | $30000$ | $63000$ | 3 |\n| 11 | $150000$ | $165000$ | 3 |\n| 12 | $250000$ | $250100$ | 3 |\n| 13 | $300000$ | $300020$ | 3 |\n| 14 | $1000$ | $50000$ | 1 |\n| 15 | $5000$ | $200000$ | 1 |\n| 16 | $30000$ | $900000$ | 1 |\n| 17 | $150000$ | $3750000$ | 1 |\n| 18 | $200000$ | $4400000$ | 1 |\n| 19 | $250000$ | $5000000$ | 1 |\n| 20 | $300000$ | $5000000$ | 1 |\n\n### 提示\n\n这里是小 M 给你的一些贴心的提示：\n\n* 图（无向图）由结点和边构成，边是结点的无序对，用来描述结点之间的相互关系；\n* 路径是一个结点的非空序列，使得序列中相邻两个结点之间都有边相连；\n* 两个结点是连通的，当且仅当存在一条以其中一个结点开始、另一个结点结束的路径；\n* 一个图是连通的，当且仅当这个图上的每对结点都是连通的；\n* 一棵 $n$ 个结点的树，是一个由 $n$ 个结点，$n - 1$ 条边构成的连通图；\n* 两个结点的最短路径，是指连接两个结点的所有可能的路径中，序列长度最小的；\n* 在一棵树中，连接任意两个结点的最短路径，都是唯一的；\n* 通过访问输入输出文件、攻击评测系统或攻击评测库等方式得分属于作弊行为，所得分数无效。", "locale": "zh-CN"}}}
{"pid": "P6542", "type": "P", "difficulty": 6, "samples": [["5\n3 2 3 4\n2 1 3\n2 1 2\n2 1 5\n1 4", ""]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2004", "NOI", "交互题", "Special Judge"], "title": "[NOI2004] 沙丘", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序开头加入如下函数声明语句：\n\n```cpp\nvoid init();\nvoid look(int&, bool&);\nvoid put_sign();\nvoid take_sign();\nvoid walk(int);\nvoid report(int, int);\n```\n\n2. 本题仅支持 C++ 语言（包括 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "根据新出土的一批史料记载，在塔克拉玛干沙漠中的一座沙丘下面，埋藏着一个神秘的地下迷宫。由著名探险家阿强率领的探险队经过不懈的挖掘，终于发现了通往地下迷宫的入口！队员们兴奋不已，急忙钻下去，去寻找那个埋藏已久的秘密。\n\n他们刚钻进迷宫，只听“轰隆”一声巨响，回头一看，入口已与石墙融为一体，无法辨认。他们意识到自己被困在迷宫里了！环顾周围，似乎是一个洞穴。\n\n这座迷宫由很多洞穴组成，某些洞穴之间有道路连接。每个洞穴都有一盏灯，凭借着微弱的灯光，可以看清有多少条道路与这个洞穴相连。每个洞穴的内部是完全相同的，且无法做标记。每条道路也是完全相同的，也无法做标记。\n\n阿强凭借着微弱的灯光，发现了墙壁上的一段文字（事实上，每个洞穴的墙壁上都有这段文字），翻译成现代汉语就是：“陌生人，请把这个迷宫的洞穴数和道路数告诉我，我就会指引你走出迷宫。”\n\n阿强很快镇定了下来，他拿出一个路标，对队员们说：“这个迷宫的危险程度远超出我们的想象，为了安全起见，大家一定要集体行动。我这儿有一个路标，有了它，我们一定能探明迷宫的结构。大家跟我走！”\n\n现在，轮到你扮演阿强了。路标只有一个，可以随身携带，也可以暂时放在某个洞穴中（把路标放在道路上是毫无意义的，因为那里一片漆黑，什么都看不见）。你的任务很简单：用尽量少的步数探明这个迷宫共有多少个洞穴和多少条道路。“一步”是指从一个洞穴走到另一个相邻的洞穴。\n\n### 交互方法\n\n本题是一道交互式题目，你的程序应当和测试库进行交互，而不得访问任何文件（包括临时文件）。测试库提供了若干函数，它们的用法和作用如下：\n\n- `init` 必须先调用，但只能调用一次，用作初始化测试库；\n- `look(d,sign)` 的作用是查看当前洞穴的情况，测试库将从整型变量 $d$ 中返回与该洞穴相连的道路的数目，从布尔变量 `sign` 中返回该洞穴内是否有路标，`sign` 为 `true` 表示有路标，为 `false` 表示无路标。\n- `put_sign` 的作用是在当前洞穴放上路标。只有当路标随身携带着的时候，才可以调用这个函数。\n- `take_sign` 的作用是把当前洞穴的路标拿走。只有当路标在当前洞穴时，才可以调用这个函数。\n- `walk(i)` 的作用是沿着编号为 $i$ 的道路走到相邻的洞穴中。这里的编号是相对于当前所在洞穴而言的，并且是暂时的。假设与某洞穴相连的道路有 $d$ 条，这些道路按照逆时针顺序依次编号为 $0$，$1$，$2$，$\\ldots$，$d-1$。走第一步时，编号为 $0$ 的道路由库确定。以后的过程，阿强会将他走进这个洞穴的道路编号为 $0$。\n- `report(n,m)` 的作用是向测试库报告结果。$n$ 表示洞穴的数目，$m$ 表示道路的数目。当这个函数被调用后，测试库会自动中止你的程序。\n\n**注意与其他交互题不同的是，您需要直接在 `main()` 函数内实现你的程序。**\n\n在 C/C++ 中，布尔型变量用整型变量代替，$0$ 表示 `false`，$1$ 表示 `true`。", "inputFormat": "", "outputFormat": "", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wip3vflh.png)\n\n探险队初始时站在编号为 $1$ 的洞穴内，编号为 $0$ 的道路通向洞穴 $2$，编号为 $1$ 的道路通向洞穴 $3$，编号为 $2$ 的道路通向洞穴 $4$。\n\n一种可能得满分的调用方案如下：\n\n|C/C++ 选手的调用方法|说明|\n|:-:|:-:|\n|`init();`|初始化程序|\n|`look(d, sign);`|返回 $d=3$，$sign=false$|\n|`put_sign();`|放下路标|\n|`walk(0);`|选择编号为 $0$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=3$，$sign=true$|\n|`take_sign();`|拿起路标|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=1$，$sign=false$|\n|`report(5, 5);`|返回洞穴数为 $5$，道路数为 $5$|\n\n注意，该例子只是对库函数的使用说明，并没有算法上的意义。\n\n### 约定\n\n- 洞穴数不超过 $100$，道路数不超过 $4000$。\n- 迷宫是连通的，即任意两个洞穴都相互可达。\n- 两个洞穴之间最多只有一条道路。\n- 没有哪条道路连接两个相同的洞穴。\n\n### 评分方法\n\n如果你的程序有下列情况之一，该测试点 $0$ 分：\n\n- 访问了任何文件(包括临时文件)或者自行终止；\n- 非法调用库函数；\n- 让测试库异常退出。\n\n否则你每个测试点的得分按这样来计算：\n\n如果你所报告的洞穴数与通道数都不正确，得 $0$ 分；如果只有其中一个正确，得 $2$ 分；如果两个都正确，则根据 $walk$ 函数的调用次数评分，公式如下：\n\n$$\nyour\\_score=\\left\\{\n\\begin{aligned}\n&10&,your\\_ans\\le our\\_ans\\\\\n&5+\\left\\lfloor\\frac{our\\_ans}{your\\_ans}\\times 5+0.5\\right\\rfloor&,your\\_ans>our\\_ans\n\\end{aligned}\n\\right.\n$$\n\n其中 $your\\_ans$ 表示你的程序调用 $walk$ 函数的次数，$our\\_ans$ 表示我们的程序的结果。\n\n### 如何进行本地测试\n\n- 在工作目录下建立一个文件叫做 `dune.in`，文件的第一行包括一个整数 $n$ 为洞穴的数目，洞穴用1到n的整数编号，以下 $n$ 行描述迷宫的结构。文件的第 $i+1$ 行描述编号为 $i$ 的洞穴的情况，第一个数 $d_i$ 表示与该洞穴相连的道路的数目，其后的 $d_i$ 个数按照逆时针顺序给出了这些道路另一端的洞穴编号。\n- 调用 $init$ 函数之后，库将编号为 $1$ 的洞穴作为探险队的起始洞穴，并暂定编号为 $0$ 的道路通向的洞穴编号为文件中第二行的第二个数。比如样例中，初始时，库暂定编号为 $0$ 的道路通向洞穴 $4$。\n- 把你的源文件（命名为 `dune.cpp`）和 `dune_lib.hpp` 放在同一目录下，用命令 `g++ -o dune dune_lib.cpp dune.cpp` 来编译你的程序。\n- 执行你的程序，此时测试库会产生输出文件 `dune.log`，该文件中包括了你程序和库交互的记录和最后的结果。\n- 如果程序正常结束，`dune.log` 的最后一行包含一个整数，为你走的步数。\n- 如果程序非法退出，则我们不保证 `dune.log` 中的内容有意义。\n\n样例交互库请在题目附件中下载。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI2004] 沙丘", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序开头加入如下函数声明语句：\n\n```cpp\nvoid init();\nvoid look(int&, bool&);\nvoid put_sign();\nvoid take_sign();\nvoid walk(int);\nvoid report(int, int);\n```\n\n2. 本题仅支持 C++ 语言（包括 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "根据新出土的一批史料记载，在塔克拉玛干沙漠中的一座沙丘下面，埋藏着一个神秘的地下迷宫。由著名探险家阿强率领的探险队经过不懈的挖掘，终于发现了通往地下迷宫的入口！队员们兴奋不已，急忙钻下去，去寻找那个埋藏已久的秘密。\n\n他们刚钻进迷宫，只听“轰隆”一声巨响，回头一看，入口已与石墙融为一体，无法辨认。他们意识到自己被困在迷宫里了！环顾周围，似乎是一个洞穴。\n\n这座迷宫由很多洞穴组成，某些洞穴之间有道路连接。每个洞穴都有一盏灯，凭借着微弱的灯光，可以看清有多少条道路与这个洞穴相连。每个洞穴的内部是完全相同的，且无法做标记。每条道路也是完全相同的，也无法做标记。\n\n阿强凭借着微弱的灯光，发现了墙壁上的一段文字（事实上，每个洞穴的墙壁上都有这段文字），翻译成现代汉语就是：“陌生人，请把这个迷宫的洞穴数和道路数告诉我，我就会指引你走出迷宫。”\n\n阿强很快镇定了下来，他拿出一个路标，对队员们说：“这个迷宫的危险程度远超出我们的想象，为了安全起见，大家一定要集体行动。我这儿有一个路标，有了它，我们一定能探明迷宫的结构。大家跟我走！”\n\n现在，轮到你扮演阿强了。路标只有一个，可以随身携带，也可以暂时放在某个洞穴中（把路标放在道路上是毫无意义的，因为那里一片漆黑，什么都看不见）。你的任务很简单：用尽量少的步数探明这个迷宫共有多少个洞穴和多少条道路。“一步”是指从一个洞穴走到另一个相邻的洞穴。\n\n### 交互方法\n\n本题是一道交互式题目，你的程序应当和测试库进行交互，而不得访问任何文件（包括临时文件）。测试库提供了若干函数，它们的用法和作用如下：\n\n- `init` 必须先调用，但只能调用一次，用作初始化测试库；\n- `look(d,sign)` 的作用是查看当前洞穴的情况，测试库将从整型变量 $d$ 中返回与该洞穴相连的道路的数目，从布尔变量 `sign` 中返回该洞穴内是否有路标，`sign` 为 `true` 表示有路标，为 `false` 表示无路标。\n- `put_sign` 的作用是在当前洞穴放上路标。只有当路标随身携带着的时候，才可以调用这个函数。\n- `take_sign` 的作用是把当前洞穴的路标拿走。只有当路标在当前洞穴时，才可以调用这个函数。\n- `walk(i)` 的作用是沿着编号为 $i$ 的道路走到相邻的洞穴中。这里的编号是相对于当前所在洞穴而言的，并且是暂时的。假设与某洞穴相连的道路有 $d$ 条，这些道路按照逆时针顺序依次编号为 $0$，$1$，$2$，$\\ldots$，$d-1$。走第一步时，编号为 $0$ 的道路由库确定。以后的过程，阿强会将他走进这个洞穴的道路编号为 $0$。\n- `report(n,m)` 的作用是向测试库报告结果。$n$ 表示洞穴的数目，$m$ 表示道路的数目。当这个函数被调用后，测试库会自动中止你的程序。\n\n**注意与其他交互题不同的是，您需要直接在 `main()` 函数内实现你的程序。**\n\n在 C/C++ 中，布尔型变量用整型变量代替，$0$ 表示 `false`，$1$ 表示 `true`。", "inputFormat": "", "outputFormat": "", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wip3vflh.png)\n\n探险队初始时站在编号为 $1$ 的洞穴内，编号为 $0$ 的道路通向洞穴 $2$，编号为 $1$ 的道路通向洞穴 $3$，编号为 $2$ 的道路通向洞穴 $4$。\n\n一种可能得满分的调用方案如下：\n\n|C/C++ 选手的调用方法|说明|\n|:-:|:-:|\n|`init();`|初始化程序|\n|`look(d, sign);`|返回 $d=3$，$sign=false$|\n|`put_sign();`|放下路标|\n|`walk(0);`|选择编号为 $0$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=3$，$sign=true$|\n|`take_sign();`|拿起路标|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=1$，$sign=false$|\n|`report(5, 5);`|返回洞穴数为 $5$，道路数为 $5$|\n\n注意，该例子只是对库函数的使用说明，并没有算法上的意义。\n\n### 约定\n\n- 洞穴数不超过 $100$，道路数不超过 $4000$。\n- 迷宫是连通的，即任意两个洞穴都相互可达。\n- 两个洞穴之间最多只有一条道路。\n- 没有哪条道路连接两个相同的洞穴。\n\n### 评分方法\n\n如果你的程序有下列情况之一，该测试点 $0$ 分：\n\n- 访问了任何文件(包括临时文件)或者自行终止；\n- 非法调用库函数；\n- 让测试库异常退出。\n\n否则你每个测试点的得分按这样来计算：\n\n如果你所报告的洞穴数与通道数都不正确，得 $0$ 分；如果只有其中一个正确，得 $2$ 分；如果两个都正确，则根据 $walk$ 函数的调用次数评分，公式如下：\n\n$$\nyour\\_score=\\left\\{\n\\begin{aligned}\n&10&,your\\_ans\\le our\\_ans\\\\\n&5+\\left\\lfloor\\frac{our\\_ans}{your\\_ans}\\times 5+0.5\\right\\rfloor&,your\\_ans>our\\_ans\n\\end{aligned}\n\\right.\n$$\n\n其中 $your\\_ans$ 表示你的程序调用 $walk$ 函数的次数，$our\\_ans$ 表示我们的程序的结果。\n\n### 如何进行本地测试\n\n- 在工作目录下建立一个文件叫做 `dune.in`，文件的第一行包括一个整数 $n$ 为洞穴的数目，洞穴用1到n的整数编号，以下 $n$ 行描述迷宫的结构。文件的第 $i+1$ 行描述编号为 $i$ 的洞穴的情况，第一个数 $d_i$ 表示与该洞穴相连的道路的数目，其后的 $d_i$ 个数按照逆时针顺序给出了这些道路另一端的洞穴编号。\n- 调用 $init$ 函数之后，库将编号为 $1$ 的洞穴作为探险队的起始洞穴，并暂定编号为 $0$ 的道路通向的洞穴编号为文件中第二行的第二个数。比如样例中，初始时，库暂定编号为 $0$ 的道路通向洞穴 $4$。\n- 把你的源文件（命名为 `dune.cpp`）和 `dune_lib.hpp` 放在同一目录下，用命令 `g++ -o dune dune_lib.cpp dune.cpp` 来编译你的程序。\n- 执行你的程序，此时测试库会产生输出文件 `dune.log`，该文件中包括了你程序和库交互的记录和最后的结果。\n- 如果程序正常结束，`dune.log` 的最后一行包含一个整数，为你走的步数。\n- 如果程序非法退出，则我们不保证 `dune.log` 中的内容有意义。\n\n样例交互库请在题目附件中下载。", "locale": "zh-CN"}}}
{"pid": "P6543", "type": "P", "difficulty": 6, "samples": [["6 6\n1 2 3 4\n1 5\n5 6\n6 3\n6 4\n1 2\n3 4", "1"], ["6 7\n5 6 1 2\n6 3\n1 2\n1 3\n2 3\n1 5\n2 4\n5 4", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "Special Judge", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2014] 007", "background": "CEOI2014 Day2 T1，译者：小粉兔", "description": "007 特工发现了她最大的敌人 De Referenced Nullpointer 博士（简称 Dr. Null）的一个阴谋：Dr. Null 将要摧毁洛谷的两台服务器中的某一台！Dr. Null 正准备去实施他的方案，并且他也正在去服务器的路上。很遗憾，这意味着 007 必须告别她正在泡着帅哥吃早餐的生活。\n\n007 和 Dr. Null 都入侵了一个卫星系统，所以他们总是知道对方的位置。卫星系统把地图表示为一个**连通**的无向图，007 和 Dr. Null 以及两台服务器都位于节点上。**特别地，保证两台服务器位于相邻的两个节点上**。007 和 Dr. Null 都可以在一个单位时间内移动一条边，不过也可以不移动。Dr. Null 摧毁服务器也需要一个单位时间。Dr. Null 和 007 轮流行动，Dr. Null 先手。\n\n如果 007 抓住了 Dr. Null（他们位于同一个节点上）或者可以保证 Dr. Null 在无限长的时间内无法摧毁服务器，就算 007 获胜。\n\n007 想要知道她现在能吃着早餐泡帅哥最迟到什么时候，以确保无论 Dr. Null 采取什么策略依然可以取得胜利。\n\n请你帮助 007 编写一个程序，计算她为了确保胜利，最迟停下吃早餐的时间。注意：当 007 还在吃早餐的时候她是没有办法抓住 Dr. Null 的，即使他们位于同一个节点上也不行。", "inputFormat": "第一行两个正整数 $n, m$，分别表示图中节点数和边数。  \n第二行四个互不相同的正整数 $s, d, a, b$，分别表示 007 的初始位置，Dr. Null 的初始位置，以及两台服务器的位置。  \n接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接节点 $u$ 和 $v$ 之间的边。", "outputFormat": "输出一行一个数，表示为了确保胜利，007 最多还能吃多久的早餐。具体地说，如果 007 在一开始就必须行动则输出 $0$。  \n如果 007 无论如何都无法胜利，输出 $-1$。", "hint": "对于所有数据，保证 $4 \\le n \\le 2 \\times {10}^5$，$3 \\le m \\le 6 \\times {10}^5$，$1 \\le s, d, a, b \\le n$ 且互不相同，保证图连通。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n \\le 800$，$m \\le 1600$ |\n| $2$ | $70$ | 无特殊限制 |\n\n**部分分设置**：对于每个子任务，如果你的程序的输出在其中至少一组测试点中比非负的正确答案少 $1$ 并且在其它测试点中完全正确，则你将获得该子任务的 $30 \\%$ 的分数。注意如果正确答案是 $0$ 时你的程序输出 $-1$ 也算作这种情况。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2014] 007", "background": "CEOI2014 Day2 T1，译者：小粉兔", "description": "007 特工发现了她最大的敌人 De Referenced Nullpointer 博士（简称 Dr. Null）的一个阴谋：Dr. Null 将要摧毁洛谷的两台服务器中的某一台！Dr. Null 正准备去实施他的方案，并且他也正在去服务器的路上。很遗憾，这意味着 007 必须告别她正在泡着帅哥吃早餐的生活。\n\n007 和 Dr. Null 都入侵了一个卫星系统，所以他们总是知道对方的位置。卫星系统把地图表示为一个**连通**的无向图，007 和 Dr. Null 以及两台服务器都位于节点上。**特别地，保证两台服务器位于相邻的两个节点上**。007 和 Dr. Null 都可以在一个单位时间内移动一条边，不过也可以不移动。Dr. Null 摧毁服务器也需要一个单位时间。Dr. Null 和 007 轮流行动，Dr. Null 先手。\n\n如果 007 抓住了 Dr. Null（他们位于同一个节点上）或者可以保证 Dr. Null 在无限长的时间内无法摧毁服务器，就算 007 获胜。\n\n007 想要知道她现在能吃着早餐泡帅哥最迟到什么时候，以确保无论 Dr. Null 采取什么策略依然可以取得胜利。\n\n请你帮助 007 编写一个程序，计算她为了确保胜利，最迟停下吃早餐的时间。注意：当 007 还在吃早餐的时候她是没有办法抓住 Dr. Null 的，即使他们位于同一个节点上也不行。", "inputFormat": "第一行两个正整数 $n, m$，分别表示图中节点数和边数。  \n第二行四个互不相同的正整数 $s, d, a, b$，分别表示 007 的初始位置，Dr. Null 的初始位置，以及两台服务器的位置。  \n接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接节点 $u$ 和 $v$ 之间的边。", "outputFormat": "输出一行一个数，表示为了确保胜利，007 最多还能吃多久的早餐。具体地说，如果 007 在一开始就必须行动则输出 $0$。  \n如果 007 无论如何都无法胜利，输出 $-1$。", "hint": "对于所有数据，保证 $4 \\le n \\le 2 \\times {10}^5$，$3 \\le m \\le 6 \\times {10}^5$，$1 \\le s, d, a, b \\le n$ 且互不相同，保证图连通。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n \\le 800$，$m \\le 1600$ |\n| $2$ | $70$ | 无特殊限制 |\n\n**部分分设置**：对于每个子任务，如果你的程序的输出在其中至少一组测试点中比非负的正确答案少 $1$ 并且在其它测试点中完全正确，则你将获得该子任务的 $30 \\%$ 的分数。注意如果正确答案是 $0$ 时你的程序输出 $-1$ 也算作这种情况。", "locale": "zh-CN"}}}
{"pid": "P6544", "type": "P", "difficulty": 6, "samples": [["5 3\n5 1 2 4 3\n17\nF 1\nF 2\nF 3\nF 4\nF 5\nE 2 1\nF 1\nF 2\nF 3\nF 4\nF 5\nE 5 2\nF 1\nF 2\nF 3\nF 4\nF 5", "4\n1\n0\n2\n3\n4\n3\n0\n1\n2\n4\n3\n0\n1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "线段树", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2014] Cake", "background": "CEOI2014 Day2 T2，译者：小粉兔", "description": "Leopold 和 Molly 都喜欢蛋糕：Leopold 喜欢吃蛋糕，Molly 喜欢看 Leopold 吃蛋糕。\n\n现在有 $n$ 块蛋糕排成一排，从左到右数的第 $i$ 块蛋糕编号为 $i$，每块蛋糕有一个美味度 $d_i$。\n\nLeopold 会先吃掉编号为 $a$ 的蛋糕，这样位置 $a$ 就空了。接下来每次他会选择一个与空出的位置相邻的蛋糕中美味度最小的蛋糕吃掉（要把好吃的留到最后）。你可以发现空出的位置一定是一个连续的区间。\n\n为了让事情更加有趣，Molly 有时会给某一块蛋糕上加一点装饰，以增加它的美味度。她保证做完此操作后，这块蛋糕的美味度会变成所有蛋糕中前 $10$ 大的。而且在任何时候任意两块蛋糕的美味度都不同。\n\n有时 Molly 好奇在 Leopold 吃掉某块特定的编号为 $b$ 的蛋糕之前，他会吃掉多少块蛋糕。\n\n请你帮助 Molly 编写一个程序，给出操作序列，回答 Molly 的询问。", "inputFormat": "第一行两个正整数 $n, a$，分别表示蛋糕总块数以及 Leopold 第一次会吃掉哪一块蛋糕。  \n第二行 $n$ 个互不相同的正整数 $d_1, d_2, \\ldots , d_n$，表示蛋糕的初始美丽度。  \n第三行一个正整数 $q$，表示操作的个数。  \n接下来 $q$ 行，每行形如 `E i e` 或 `F b` 表示一次操作：\n\n- `E i e`：将编号为 $i$ 的蛋糕的美味度提升至第 $e$ 美味的。保证在操作之前比编号为 $i$ 的蛋糕美味的蛋糕的数量至少为 $e$。\n- `F b`：询问 Leopold 在吃掉编号为 $b$ 的蛋糕之前会吃掉多少块蛋糕。", "outputFormat": "对于每个 `F` 操作，输出一行一个数表示答案。", "hint": "**【样例解释】**\n\n在第一次增加美味度之前，编号为 $3, 2, 4, 5, 1$ 的蛋糕会依次被吃掉。但接下来编号为 $1$ 的蛋糕太好吃了以至于它不会先被吃掉，编号为 $4$ 和 $5$ 的蛋糕先被吃掉了。注意最后一次对编号为 $5$ 的蛋糕的美味度的增加不会改变吃蛋糕的顺序。\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n \\le 2.5 \\times {10}^5$，$1 \\le q \\le 5 \\times {10}^5$，$1 \\le d_i, a, i, b \\le n$，$1 \\le e \\le 10$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $15$ | $n, q \\le {10}^4$ |\n| $2$ | $15$ | $n \\le 2.5 \\times {10}^4$ 且 `F` 操作的数量不超过 $500$ |\n| $3$ | $20$ | $q \\le {10}^5$ 且 `E` 操作的数量不超过 $100$ |\n| $4$ | $50$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2014] Cake", "background": "CEOI2014 Day2 T2，译者：小粉兔", "description": "Leopold 和 Molly 都喜欢蛋糕：Leopold 喜欢吃蛋糕，Molly 喜欢看 Leopold 吃蛋糕。\n\n现在有 $n$ 块蛋糕排成一排，从左到右数的第 $i$ 块蛋糕编号为 $i$，每块蛋糕有一个美味度 $d_i$。\n\nLeopold 会先吃掉编号为 $a$ 的蛋糕，这样位置 $a$ 就空了。接下来每次他会选择一个与空出的位置相邻的蛋糕中美味度最小的蛋糕吃掉（要把好吃的留到最后）。你可以发现空出的位置一定是一个连续的区间。\n\n为了让事情更加有趣，Molly 有时会给某一块蛋糕上加一点装饰，以增加它的美味度。她保证做完此操作后，这块蛋糕的美味度会变成所有蛋糕中前 $10$ 大的。而且在任何时候任意两块蛋糕的美味度都不同。\n\n有时 Molly 好奇在 Leopold 吃掉某块特定的编号为 $b$ 的蛋糕之前，他会吃掉多少块蛋糕。\n\n请你帮助 Molly 编写一个程序，给出操作序列，回答 Molly 的询问。", "inputFormat": "第一行两个正整数 $n, a$，分别表示蛋糕总块数以及 Leopold 第一次会吃掉哪一块蛋糕。  \n第二行 $n$ 个互不相同的正整数 $d_1, d_2, \\ldots , d_n$，表示蛋糕的初始美丽度。  \n第三行一个正整数 $q$，表示操作的个数。  \n接下来 $q$ 行，每行形如 `E i e` 或 `F b` 表示一次操作：\n\n- `E i e`：将编号为 $i$ 的蛋糕的美味度提升至第 $e$ 美味的。保证在操作之前比编号为 $i$ 的蛋糕美味的蛋糕的数量至少为 $e$。\n- `F b`：询问 Leopold 在吃掉编号为 $b$ 的蛋糕之前会吃掉多少块蛋糕。", "outputFormat": "对于每个 `F` 操作，输出一行一个数表示答案。", "hint": "**【样例解释】**\n\n在第一次增加美味度之前，编号为 $3, 2, 4, 5, 1$ 的蛋糕会依次被吃掉。但接下来编号为 $1$ 的蛋糕太好吃了以至于它不会先被吃掉，编号为 $4$ 和 $5$ 的蛋糕先被吃掉了。注意最后一次对编号为 $5$ 的蛋糕的美味度的增加不会改变吃蛋糕的顺序。\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n \\le 2.5 \\times {10}^5$，$1 \\le q \\le 5 \\times {10}^5$，$1 \\le d_i, a, i, b \\le n$，$1 \\le e \\le 10$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $15$ | $n, q \\le {10}^4$ |\n| $2$ | $15$ | $n \\le 2.5 \\times {10}^4$ 且 `F` 操作的数量不超过 $500$ |\n| $3$ | $20$ | $q \\le {10}^5$ 且 `E` 操作的数量不超过 $100$ |\n| $4$ | $50$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P6545", "type": "P", "difficulty": 7, "samples": [["3 3\n1 0 0\n1 0 0\n0 0 1\n1 4 9 4\n1 6 6 6\n1 2 2 9\n1 1 1\n4 4 4\n2 4 2\n6 6 6", "38"], ["3 3\n1 0 1\n0 0 0\n0 1 0\n2 1 1 3\n5 6 1 1\n2 1 1 3\n2 1 1\n3 4 1\n4 1 1\n5 1 2", "22"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "O2优化", "CEOI（中欧）", "最短路"], "title": "[CEOI 2014] The Wall", "background": "CEOI2014 Day2 T3，译者：小粉兔", "description": "Rectos 岛经常遭受洪水的泛滥和海盗的侵扰，所以 Rectos 的国王想要建造一堵城墙以保护岛上所有的村庄。\n\nRectos 是一个矩形岛屿，所以城墙的设计师将岛屿看作一个正方形网格。每个村庄都位于其中的某个方格中，并且首都村庄位于整座岛的西北角，也就是最左上角的方格中。\n\n必须保证从外部（也就是整个网格的外部）在不越过城墙的条件下，是到达不了任何一个村庄的。\n\n设计师计划城墙将只沿着网格线建造，更具体地说是按照如下方法：他将第一段城墙置于最左上角延伸出的两条网格线之一上，并且下一段城墙总是和上一段城墙首尾相连，不断重复这一过程直到又一次回到最左上角为止。这一过程可能会导致一段网格线上放置了大于一段的城墙，总而言之，城墙是沿着网格线上的一条连续闭曲线建造的。\n\n地势测量表明，在每一段网格线上建造一段城墙都需要一定的花费。建造城墙的总花费就是建造每一段城墙的花费之和。如果在某一段网格线上建造了 $t$ 段城墙，则花费也要重复计算 $t$ 次。\n\n国王想要花费尽量少的钱建好城墙。请你帮助国王，编写一个程序，给出村庄的位置以及每一段网格线上的建造花费，计算建造城墙所需最小的花费。", "inputFormat": "第一行两个正整数 $n, m$，分别表示网格的行数和列数。  \n接下来 $n$ 行，每行 $m$ 个数，每个数为 $0$ 或 $1$，若为 $0$ 则表示该格没有村庄，若为 $1$ 则表示该格有村庄，保证第 $1$ 行的第 $1$ 个数一定为 $1$。  \n接下来 $n$ 行，每行 $m + 1$ 个非负整数，依次表示每一段竖直的网格线上的建造花费。  \n接下来 $n + 1$ 行，每行 $m$ 个非负整数，依次表示每一段水平的网格线上的建造花费。", "outputFormat": "输出一行一个数表示建造城墙的最小花费。", "hint": "**【样例 #1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/njtyjnbp.png)\n\n**【样例 #2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/568orkwb.png)\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n, m \\le 400$，对于所有的建造花费 $v$，有 $1 \\le v \\le {10}^9$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n, m \\le 40$ 且村庄的数量不超过 $10$ |\n| $2$ | $30$ | $n, m \\le 40$ |\n| $3$ | $40$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2014] The Wall", "background": "CEOI2014 Day2 T3，译者：小粉兔", "description": "Rectos 岛经常遭受洪水的泛滥和海盗的侵扰，所以 Rectos 的国王想要建造一堵城墙以保护岛上所有的村庄。\n\nRectos 是一个矩形岛屿，所以城墙的设计师将岛屿看作一个正方形网格。每个村庄都位于其中的某个方格中，并且首都村庄位于整座岛的西北角，也就是最左上角的方格中。\n\n必须保证从外部（也就是整个网格的外部）在不越过城墙的条件下，是到达不了任何一个村庄的。\n\n设计师计划城墙将只沿着网格线建造，更具体地说是按照如下方法：他将第一段城墙置于最左上角延伸出的两条网格线之一上，并且下一段城墙总是和上一段城墙首尾相连，不断重复这一过程直到又一次回到最左上角为止。这一过程可能会导致一段网格线上放置了大于一段的城墙，总而言之，城墙是沿着网格线上的一条连续闭曲线建造的。\n\n地势测量表明，在每一段网格线上建造一段城墙都需要一定的花费。建造城墙的总花费就是建造每一段城墙的花费之和。如果在某一段网格线上建造了 $t$ 段城墙，则花费也要重复计算 $t$ 次。\n\n国王想要花费尽量少的钱建好城墙。请你帮助国王，编写一个程序，给出村庄的位置以及每一段网格线上的建造花费，计算建造城墙所需最小的花费。", "inputFormat": "第一行两个正整数 $n, m$，分别表示网格的行数和列数。  \n接下来 $n$ 行，每行 $m$ 个数，每个数为 $0$ 或 $1$，若为 $0$ 则表示该格没有村庄，若为 $1$ 则表示该格有村庄，保证第 $1$ 行的第 $1$ 个数一定为 $1$。  \n接下来 $n$ 行，每行 $m + 1$ 个非负整数，依次表示每一段竖直的网格线上的建造花费。  \n接下来 $n + 1$ 行，每行 $m$ 个非负整数，依次表示每一段水平的网格线上的建造花费。", "outputFormat": "输出一行一个数表示建造城墙的最小花费。", "hint": "**【样例 #1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/njtyjnbp.png)\n\n**【样例 #2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/568orkwb.png)\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n, m \\le 400$，对于所有的建造花费 $v$，有 $1 \\le v \\le {10}^9$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n, m \\le 40$ 且村庄的数量不超过 $10$ |\n| $2$ | $30$ | $n, m \\le 40$ |\n| $3$ | $40$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P6546", "type": "P", "difficulty": 2, "samples": [["2 1 5", "4"], ["5 1 6", "2"], ["100 99 1000000000", "999999901"]], "limits": {"time": [100, 100, 100, 100, 100, 100, 100, 100, 100, 100], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "数学", "递推", "2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] PUŽ", "background": "", "description": "蜗牛爬井问题：一只蜗牛要爬上 $v$ 米高的树桩，它每天白天向上爬 $a$ 米，晚上向下掉 $b$ 米。几天之后它可以爬到树桩顶？", "inputFormat": "一行三个整数 $a$、$b$、$v$，用空格隔开。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  b < a \\leq v \\leq 1 \\times 10^9$。\n\n#### 说明\n\n- 本题满分 $30$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) PUŽ，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 提示\n\n请推导结果公式，单纯的模拟可能导致 `TLE`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] PUŽ", "background": "", "description": "蜗牛爬井问题：一只蜗牛要爬上 $v$ 米高的树桩，它每天白天向上爬 $a$ 米，晚上向下掉 $b$ 米。几天之后它可以爬到树桩顶？", "inputFormat": "一行三个整数 $a$、$b$、$v$，用空格隔开。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  b < a \\leq v \\leq 1 \\times 10^9$。\n\n#### 说明\n\n- 本题满分 $30$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) PUŽ，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 提示\n\n请推导结果公式，单纯的模拟可能导致 `TLE`。", "locale": "zh-CN"}}}
{"pid": "P6547", "type": "P", "difficulty": 2, "samples": [["2\nlo3za4\n01", "1\n3\n4"], ["4\n43silos0\nzita002\nle2sim\n231233", "0\n2\n2\n43\n231233"], ["4\n01bond\n02james007\n03bond\n04austinpowers000", "0\n1\n2\n3\n4\n7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] NAPOR", "background": "", "description": "Little Mirko 对数学课不在意，所以老师决定在周末让他做一个乏味的作业。\n\n老师给了他一个包含 $n$ 行的文本，仅包含数字和小写字母。 Mirko 必须在文本中找到所有数字，并以不降序的顺序输出。 他还必须省略文本中数字可能包含的任何前导零。\n\n可以通过扫描文本并始终使用可能的最大数来确定这些数，即仅以字母或行首/尾定界。 例如，`01a2b3456cde478` 的最终输出结果是 `1, 2, 478, 3456`。\n\n由于 Mirko 解决问题的速度像蜗牛一样慢，因此他要求您为他编写一个程序以快速解决任务，以便他可以尽快与 Slavko 一起玩。", "inputFormat": "第一行一个整数 $n$，表示文本的行数。\n\n接下来 $n$ 行，每行一个字符串。", "outputFormat": "每行一个整数，表示文本中的数（从小到大）。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  n \\leq 100$，每个字符串长度不超过 $100$，文本中包含数的个数不超过 $500$，输入中仅包含小写字母与数字。\n\n#### 说明\n\n- 本题满分 $60$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) NAPOR，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] NAPOR", "background": "", "description": "Little Mirko 对数学课不在意，所以老师决定在周末让他做一个乏味的作业。\n\n老师给了他一个包含 $n$ 行的文本，仅包含数字和小写字母。 Mirko 必须在文本中找到所有数字，并以不降序的顺序输出。 他还必须省略文本中数字可能包含的任何前导零。\n\n可以通过扫描文本并始终使用可能的最大数来确定这些数，即仅以字母或行首/尾定界。 例如，`01a2b3456cde478` 的最终输出结果是 `1, 2, 478, 3456`。\n\n由于 Mirko 解决问题的速度像蜗牛一样慢，因此他要求您为他编写一个程序以快速解决任务，以便他可以尽快与 Slavko 一起玩。", "inputFormat": "第一行一个整数 $n$，表示文本的行数。\n\n接下来 $n$ 行，每行一个字符串。", "outputFormat": "每行一个整数，表示文本中的数（从小到大）。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  n \\leq 100$，每个字符串长度不超过 $100$，文本中包含数的个数不超过 $500$，输入中仅包含小写字母与数字。\n\n#### 说明\n\n- 本题满分 $60$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) NAPOR，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6548", "type": "P", "difficulty": 3, "samples": [["2\nne", "NE\nn"], ["4\nkava", "DA\nak"], ["8\ncokolada", "DA\nacko"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] IGRA", "background": "", "description": "解决了繁琐的任务后，Mirko 决定与他的好朋友 Slavko 一起玩游戏。\n\n他们在一张纸上写了一个含有 $n$ 个字母的序列。每个人轮流使用序列中的字母拼写一个单词，即从序列中删除单个字母并将其附加到单词的末尾。Mirko 开始了第一回合。当序列中没有剩余字母时，游戏结束。\n\n一个比另一个单词更美丽的单词指这个单词按照字典序排在另一个单词前面。在游戏结束时拥有更美丽单词的玩家将获胜。 如果两个玩家的单词都一样，他们就都输了这一轮。\n\nMirko 玩得比 Slavko 更好，因此他决定通过始终选择序列中最右边的字母来使 Slavko 玩得更容易一些。 知道了这一点，Slavko 想知道他是否有可能获胜，以及他可能得到的最美丽的单词是什么。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n第二行一个长度为 $n$ 的字符串，表示初始序列。", "outputFormat": "第一行一个大写字符串 `NE` 或 `DA`，`DA` 表示 Slavko 可能获胜，`NE` 表示 Slavko 不可能获胜。\n\n第二行一个字符串，表示 Slavko 可能得到的最美丽的单词。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 500)$ 且 $k$ 为整数。\n- 对于 $100\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 10^5)$ 且 $k$ 为整数，所有读入的、输出的第二行的字符均为小写字母。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) IGRA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] IGRA", "background": "", "description": "解决了繁琐的任务后，Mirko 决定与他的好朋友 Slavko 一起玩游戏。\n\n他们在一张纸上写了一个含有 $n$ 个字母的序列。每个人轮流使用序列中的字母拼写一个单词，即从序列中删除单个字母并将其附加到单词的末尾。Mirko 开始了第一回合。当序列中没有剩余字母时，游戏结束。\n\n一个比另一个单词更美丽的单词指这个单词按照字典序排在另一个单词前面。在游戏结束时拥有更美丽单词的玩家将获胜。 如果两个玩家的单词都一样，他们就都输了这一轮。\n\nMirko 玩得比 Slavko 更好，因此他决定通过始终选择序列中最右边的字母来使 Slavko 玩得更容易一些。 知道了这一点，Slavko 想知道他是否有可能获胜，以及他可能得到的最美丽的单词是什么。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n第二行一个长度为 $n$ 的字符串，表示初始序列。", "outputFormat": "第一行一个大写字符串 `NE` 或 `DA`，`DA` 表示 Slavko 可能获胜，`NE` 表示 Slavko 不可能获胜。\n\n第二行一个字符串，表示 Slavko 可能得到的最美丽的单词。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 500)$ 且 $k$ 为整数。\n- 对于 $100\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 10^5)$ 且 $k$ 为整数，所有读入的、输出的第二行的字符均为小写字母。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) IGRA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6549", "type": "P", "difficulty": 3, "samples": [["3\n3\n2\n1", "2"], ["4\n1\n3\n4\n2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["贪心", "2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] KNJIGE", "background": "", "description": "Mirko 有一个由 $n$ 本书组成的家庭图书馆，$n$ 本书在一个狭窄的橱柜中一个接一个地排列。由于在上一任务中对字母进行了很好的训练，他现在希望按字母顺序排列书籍，以使书名字典序排第一的书排在最后，而字典序排最后的书在书橱的底部。\n\nMirko 可以轻松地将书从书橱中拉出，但是很难将其推回书橱中，因此只能将书放回到书橱的顶部。因此，将书排序籍的唯一可用方法是反复将书籍从书橱中拉出并将其放在书橱的顶部。\n\n这些书按字母顺序用从 $1$ 到 $n$ 的整数标记。因此，Mirko 希望从顶部开始将它们排序为 $(1,2, \\cdots ,n)$。例如，如果 $n = 3$ 且开始顺序为 $(3,2,1)$，则两步就足够了。首先，他拉出编号为 $2$ 的书并将其放在最上面，这样书的顺序便变成 $(2,3,1)$。之后，他对编号为 $1$ 的书执行相同操作，因此书的顺序变成 $(1,2,3)$。\n\n计算给定起始顺序，排序完毕所需的最少移动次数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个正整数，表示书籍的初始摆放顺序。", "outputFormat": "一行一个整数，表示使书籍按照自然数顺序排列所需的最小移动步数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 3 \\times 10^5$，书籍的初始摆放顺序为 $1\\ldots n$ 的一个排列。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) KNJIGE，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] KNJIGE", "background": "", "description": "Mirko 有一个由 $n$ 本书组成的家庭图书馆，$n$ 本书在一个狭窄的橱柜中一个接一个地排列。由于在上一任务中对字母进行了很好的训练，他现在希望按字母顺序排列书籍，以使书名字典序排第一的书排在最后，而字典序排最后的书在书橱的底部。\n\nMirko 可以轻松地将书从书橱中拉出，但是很难将其推回书橱中，因此只能将书放回到书橱的顶部。因此，将书排序籍的唯一可用方法是反复将书籍从书橱中拉出并将其放在书橱的顶部。\n\n这些书按字母顺序用从 $1$ 到 $n$ 的整数标记。因此，Mirko 希望从顶部开始将它们排序为 $(1,2, \\cdots ,n)$。例如，如果 $n = 3$ 且开始顺序为 $(3,2,1)$，则两步就足够了。首先，他拉出编号为 $2$ 的书并将其放在最上面，这样书的顺序便变成 $(2,3,1)$。之后，他对编号为 $1$ 的书执行相同操作，因此书的顺序变成 $(1,2,3)$。\n\n计算给定起始顺序，排序完毕所需的最少移动次数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个正整数，表示书籍的初始摆放顺序。", "outputFormat": "一行一个整数，表示使书籍按照自然数顺序排列所需的最小移动步数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 3 \\times 10^5$，书籍的初始摆放顺序为 $1\\ldots n$ 的一个排列。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) KNJIGE，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6550", "type": "P", "difficulty": 5, "samples": [["3 3\n5 1 3\n2 4 8\n1 1 2", "RRDLLDRR"], ["2 2\n2 1\n3 4", "DR"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["图论", "2010", "Special Judge", "构造", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] LUNAPARK", "background": "", "description": "Mirko 对所有书籍都感到了厌倦，因此尽管他不喜欢玩过山车，他还是决定和朋友一起去游乐园。 当他的朋友们度过美好的时光时，Mirko 则坐在长椅上，等待着并思考过山车的可能路线。\n\n游乐园可以用 $r$ 行 $c$ 列的表格来表示。 过山车必须从表格的左上角开始，到表格的右下角结束。 每个单元格最多可以访问一次，但并非所有单元格都需要访问。 它可以继续从当前单元格到其上方，下方，左侧或右侧的相邻单元的路径。\n\n每个单元格都有一个与之相关的正整数值，表示该单元格可以为游客增加的娱乐程度。过山车的总娱乐程度是过山车所访问的所有单元格的娱乐程度的总和。 帮助 Mirko 确定最有趣（总娱乐程度最大）的过山车路线之一。", "inputFormat": "第一行两个整数 $r$ 和 $c$，具体含义请见题目描述。\n\n接下来 $r$ 行，每行 $c$ 个整数（用空格隔开），表示相对应的单元格可以为游客增加的娱乐程度。", "outputFormat": "一行一个大写字符串，由 `U`、`D`、`L`、`R` 组成（`U` 表示过山车接下来向上走，`D` 表示向下走，`L` 表示向左走，`R` 表示向右走），表示过山车为获得最大娱乐程度应该走的路线。", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $2 \\leq r,c \\leq 30$。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq r,c \\leq 1 \\times 10^3$，输出字符串的每一位只可能是 `U`、`D`、`L`、`R`。\n\n#### 说明\n\n- 本题满分 $120$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) LUNAPARK，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 鸣谢\n\n感谢 @[Silence_water](https://www.luogu.com.cn/user/338630) 提供的 Special Judge。\n\n#### 提示\n\n输出结果可能不唯一。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] LUNAPARK", "background": "", "description": "Mirko 对所有书籍都感到了厌倦，因此尽管他不喜欢玩过山车，他还是决定和朋友一起去游乐园。 当他的朋友们度过美好的时光时，Mirko 则坐在长椅上，等待着并思考过山车的可能路线。\n\n游乐园可以用 $r$ 行 $c$ 列的表格来表示。 过山车必须从表格的左上角开始，到表格的右下角结束。 每个单元格最多可以访问一次，但并非所有单元格都需要访问。 它可以继续从当前单元格到其上方，下方，左侧或右侧的相邻单元的路径。\n\n每个单元格都有一个与之相关的正整数值，表示该单元格可以为游客增加的娱乐程度。过山车的总娱乐程度是过山车所访问的所有单元格的娱乐程度的总和。 帮助 Mirko 确定最有趣（总娱乐程度最大）的过山车路线之一。", "inputFormat": "第一行两个整数 $r$ 和 $c$，具体含义请见题目描述。\n\n接下来 $r$ 行，每行 $c$ 个整数（用空格隔开），表示相对应的单元格可以为游客增加的娱乐程度。", "outputFormat": "一行一个大写字符串，由 `U`、`D`、`L`、`R` 组成（`U` 表示过山车接下来向上走，`D` 表示向下走，`L` 表示向左走，`R` 表示向右走），表示过山车为获得最大娱乐程度应该走的路线。", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $2 \\leq r,c \\leq 30$。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq r,c \\leq 1 \\times 10^3$，输出字符串的每一位只可能是 `U`、`D`、`L`、`R`。\n\n#### 说明\n\n- 本题满分 $120$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) LUNAPARK，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 鸣谢\n\n感谢 @[Silence_water](https://www.luogu.com.cn/user/338630) 提供的 Special Judge。\n\n#### 提示\n\n输出结果可能不唯一。", "locale": "zh-CN"}}}
{"pid": "P6551", "type": "P", "difficulty": 6, "samples": [["2\nCC\nCC", "2"], ["3\nCCB\nCCB\nCBB", "5"], ["5\nBCCBB\nBBCBB\nBCCBB\nBBBBB\nCCBBB", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] CRNI", "background": "", "description": "尽管 Mirko 找到了所有最有趣的游乐设施，但他的热情仍然没有消失。 他打开方格纸笔记本，开始给方块上色，一个新的甚至更难的问题浮现在他身上。\n\n您将得到一个 $n \\times n$ 的表格。 每个单元格的颜色是黑色或白色。\n\n如果表格内的某一个矩形图形的所有单元格均为黑色并且此矩形由至少两个单元格组成，则此矩形称为黑色矩形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h7lgmovq.png)\n\n上左图举了两个不是黑色矩形的例子。 标为 $1$ 的矩形不是黑色矩形，因为它包含一个白色单元格；标为 $2$ 的矩形不是黑色矩形，因为它仅包含一个单元格。 上右图则举了三个黑色矩形的例子。\n\n计算选择两个没有公共单元格的黑色矩形的方法数。 由于所求的结果可能非常大，因此您应该输出该数除以 $10^4 + 7$ 后的余数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个长度为 $n$ 的大写字符串（由 `C`（表示该单元格颜色为黑）和 `B`（表示该单元格颜色为白）两种字符组成），表示表格。", "outputFormat": "一行一个整数，表示所求方法数除以 $10^4 + 7$ 后的余数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 1 \\times 10^3$，输入字符串的每一位只可能是 `C` 或 `B`，令 $|s|$ 为每个字符串长度，则 $|s| = n$。\n\n#### 说明\n\n- 本题满分 $130$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) CRNI，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] CRNI", "background": "", "description": "尽管 Mirko 找到了所有最有趣的游乐设施，但他的热情仍然没有消失。 他打开方格纸笔记本，开始给方块上色，一个新的甚至更难的问题浮现在他身上。\n\n您将得到一个 $n \\times n$ 的表格。 每个单元格的颜色是黑色或白色。\n\n如果表格内的某一个矩形图形的所有单元格均为黑色并且此矩形由至少两个单元格组成，则此矩形称为黑色矩形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h7lgmovq.png)\n\n上左图举了两个不是黑色矩形的例子。 标为 $1$ 的矩形不是黑色矩形，因为它包含一个白色单元格；标为 $2$ 的矩形不是黑色矩形，因为它仅包含一个单元格。 上右图则举了三个黑色矩形的例子。\n\n计算选择两个没有公共单元格的黑色矩形的方法数。 由于所求的结果可能非常大，因此您应该输出该数除以 $10^4 + 7$ 后的余数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个长度为 $n$ 的大写字符串（由 `C`（表示该单元格颜色为黑）和 `B`（表示该单元格颜色为白）两种字符组成），表示表格。", "outputFormat": "一行一个整数，表示所求方法数除以 $10^4 + 7$ 后的余数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 1 \\times 10^3$，输入字符串的每一位只可能是 `C` 或 `B`，令 $|s|$ 为每个字符串长度，则 $|s| = n$。\n\n#### 说明\n\n- 本题满分 $130$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) CRNI，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6552", "type": "P", "difficulty": 7, "samples": [["3\n33 7 4 3\n81 39 37 7\n227200291 189101 133029 52503", "1 2 6\n1 0 6\n446 845 580"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "文具订购（加强版）", "background": "感谢@肖然 的创意以及@Elegia @dengyaotriangle 对算法复杂度论证做出的贡献（我只是搬题的", "description": "小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：\n\n1. 圆规，每个 $x$ 元。\n2. 笔，每支 $y$ 元。\n3. 笔记本，每本 $z$ 元。\n\n小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：\n\n1. $n$ 元钱必须正好用光，即 $ax+by+cz=n$。\n2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。\n3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。\n\n请你帮助小明求出满足条件的最优方案。数据保证 $x>y>z$。若有多组解，应输出 $(a, b, c)$ 字典序最小的答案。", "inputFormat": "输入包含多组数据，第一行一个整数 $T$ ，表示数据组数。\n\n接下来 $T$ 行每行四个整数，依次为班费数量 $n$ ，三种物品价格 $x,y,z$。 ", "outputFormat": "对于每组数据，如果问题无解，请输出 $-1$。\n\n否则输出一行三个用空格隔开的整数 $a, b, c$，分别代表圆规、笔、笔记本的个数。", "hint": "对于全部的测试点，$1\\leq T\\leq 100$，$0\\leq n\\leq 10^9 $ ，$1\\leq z<y<x\\leq 10^9$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "文具订购（加强版）", "background": "感谢@肖然 的创意以及@Elegia @dengyaotriangle 对算法复杂度论证做出的贡献（我只是搬题的", "description": "小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：\n\n1. 圆规，每个 $x$ 元。\n2. 笔，每支 $y$ 元。\n3. 笔记本，每本 $z$ 元。\n\n小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：\n\n1. $n$ 元钱必须正好用光，即 $ax+by+cz=n$。\n2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。\n3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。\n\n请你帮助小明求出满足条件的最优方案。数据保证 $x>y>z$。若有多组解，应输出 $(a, b, c)$ 字典序最小的答案。", "inputFormat": "输入包含多组数据，第一行一个整数 $T$ ，表示数据组数。\n\n接下来 $T$ 行每行四个整数，依次为班费数量 $n$ ，三种物品价格 $x,y,z$。 ", "outputFormat": "对于每组数据，如果问题无解，请输出 $-1$。\n\n否则输出一行三个用空格隔开的整数 $a, b, c$，分别代表圆规、笔、笔记本的个数。", "hint": "对于全部的测试点，$1\\leq T\\leq 100$，$0\\leq n\\leq 10^9 $ ，$1\\leq z<y<x\\leq 10^9$", "locale": "zh-CN"}}}
{"pid": "P6553", "type": "P", "difficulty": 2, "samples": [["114514\n3\n1 3 111  \n3 4 44\n4 4 5", "4 13 20\n3 15 64\n3 16 80"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["模拟", "字符串"], "title": "Strings of Monody", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/tcsfyv6l.png)\n\nLGD 是一只喜欢 Monody 的小恐龙。\n\n根据 Monody 的音乐，他建立了一个模型，叫做 赞歌字符串。简称， SoM (String of Monody)。\n", "description": "赞歌字符串是一个由 $1,4,5$ 组成的字符串。每次操作 LsWn 会拿出左端点为 $l$，右端点为 $r$ 的子串，（注意，第一个字符的下标为 $1$，最后一个字符的下标为 $n$）并把它替换为新的给出的子串。替换之后，你需要回答 $3$ 个对于完整串的问询，分别是：  \n1. $1$ 的个数。  \n2. 整个字符串每个数位的总和。  \n3. 整个字符串每个数位的乘积。\n\n所有输出都要对 $\\color{black}998\\color{red}24\\color{black}353$ 取模。  \n\n", "inputFormat": "第一行一个字符串。    \n第二行一个数字 $m$ 代表有 $m$ 次操作  \n后面 $m$ 行每行两个数字 $l,r$，然后一个长 $r-l+1$ 的字符串代表把 $(l,r)$ 子串改为这个字符串。   \n", "outputFormat": "$m$ 行，每行 $3$ 个数，代表每次修改后的 $3$ 个问询。", "hint": "样例一的解释：  \n\n第一次操作，字符串变为 ```111514``` ，其中 $1$ 的个数为 $4$，和为 $1+1+1+5+1+4=13$，乘积为 $1\\times 1\\times 1\\times 1\\times 5\\times 1\\times 4=20$。   \n第二次操作，字符串变为 ```114414```。   \n第三次操作，字符串变为 ```114514```。  \n\n---\n\n我们设初始字符串长度为 $n$。  \n\n对于 $10\\%$ 的数据，$n\\le 10$。   \n对于 $40\\%$ 的数据，$n\\le 1000$。  \n对于全部数据，$n\\le 10^6, m\\le 10^3, 1\\le r-l+1\\le 10^3$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Strings of Monody", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/tcsfyv6l.png)\n\nLGD 是一只喜欢 Monody 的小恐龙。\n\n根据 Monody 的音乐，他建立了一个模型，叫做 赞歌字符串。简称， SoM (String of Monody)。\n", "description": "赞歌字符串是一个由 $1,4,5$ 组成的字符串。每次操作 LsWn 会拿出左端点为 $l$，右端点为 $r$ 的子串，（注意，第一个字符的下标为 $1$，最后一个字符的下标为 $n$）并把它替换为新的给出的子串。替换之后，你需要回答 $3$ 个对于完整串的问询，分别是：  \n1. $1$ 的个数。  \n2. 整个字符串每个数位的总和。  \n3. 整个字符串每个数位的乘积。\n\n所有输出都要对 $\\color{black}998\\color{red}24\\color{black}353$ 取模。  \n\n", "inputFormat": "第一行一个字符串。    \n第二行一个数字 $m$ 代表有 $m$ 次操作  \n后面 $m$ 行每行两个数字 $l,r$，然后一个长 $r-l+1$ 的字符串代表把 $(l,r)$ 子串改为这个字符串。   \n", "outputFormat": "$m$ 行，每行 $3$ 个数，代表每次修改后的 $3$ 个问询。", "hint": "样例一的解释：  \n\n第一次操作，字符串变为 ```111514``` ，其中 $1$ 的个数为 $4$，和为 $1+1+1+5+1+4=13$，乘积为 $1\\times 1\\times 1\\times 1\\times 5\\times 1\\times 4=20$。   \n第二次操作，字符串变为 ```114414```。   \n第三次操作，字符串变为 ```114514```。  \n\n---\n\n我们设初始字符串长度为 $n$。  \n\n对于 $10\\%$ 的数据，$n\\le 10$。   \n对于 $40\\%$ 的数据，$n\\le 1000$。  \n对于全部数据，$n\\le 10^6, m\\le 10^3, 1\\le r-l+1\\le 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P6554", "type": "P", "difficulty": 5, "samples": [["5\n1 2\n1 5\n2 3\n2 4\n2 3 1 -1 2", "7.0000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "Special Judge", "树形 DP"], "title": "Promises I Can't Keep", "background": ">I had so much certainty  \nTil that moment I lost control  \nAnd I've tried but it never was up to me  \nI've got no worse enemy  \nThan the fear of what's still unknown  \nAnd the time's come to realize there will be  \nPromises I can't keep", "description": "RFMC 给了你一个电路，一个电源，他希望你能把电源接在电路的某一个节点上，让电流流通，并答应给你电路显示屏上的数那么多钱。\n\n这个电路有 $n$ 个节点，每个节点有一个权值 $val_i$，以 $n-1$ 条导线互相连通。你可以把电源接在任意一个起点上。接着，电流从这个节点开始流。若当前电源接到了一个节点 $u$，则接下来电流会**等概率**且**不重复经过一个点地**流向**一个叶子节点**，电流流过的所有节点的权值即为电路显示屏上的数（叶子节点即为 **除了 $u$** 的度数为 1 的节点）。\n\n现在你有 $n$ 种接电源的选择，你希望接上电源以后期望得分越高越好，所以你现在就要在规定的时间内求出这 $n$ 种期望值中最大的的一个。", "inputFormat": "第一行一个整数 $n$ 意义如题目所述。\n\n接下来 $n-1$ 行每行两个整数 $u,\\ v$，表示有一条联通编号为 $u,\\ v$ 节点的导线。\n\n接下来一行 $n$ 个整数，第 $i$ 个整数为 $val_i$，表示第 $i$ 个节点的权值。", "outputFormat": "输出一行一个浮点数，表示最大期望值。\n\n**本题使用 special judge，你的答案和正确答案误差不超过 $10^{-2}$ 即可通过。标准答案保留 4 位小数。**", "hint": "样例一的解释：\n\n电源接在 5 号节点时有两种情况：$5\\rightarrow 1\\rightarrow 2\\rightarrow 3$ 或 $5\\rightarrow 1\\rightarrow 2\\rightarrow 4$，两种情况得分分别为 8 和 6，期望值即为 7，可以证明没有其他节点接通电源的期望值比 7 大。\n\n---\n\n**本题采用捆绑测试，每一档部分分对应一个 subtask。**\n\n对于 $30\\%$ 的数据，保证 $2<n\\le 10^3$。  \n对于另外 $20\\%$ 的数据，保证是一条链。  \n对于所有的数据，保证 $2<n\\le 5\\times10^5,\\  |val_i|\\le10^4$。\n\n本题的 special judge 代码已经在附件中给出。\n\n附：本题数据量较大，可以采用更快的读入方法。（标程在用 ```scanf``` 的情况下可以通过）\n\n~~后记：按照题目名称，RFMC 是不会遵守诺言的（大雾~~\n\n题目名其实是一首歌名啦。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Promises I Can't Keep", "background": ">I had so much certainty  \nTil that moment I lost control  \nAnd I've tried but it never was up to me  \nI've got no worse enemy  \nThan the fear of what's still unknown  \nAnd the time's come to realize there will be  \nPromises I can't keep", "description": "RFMC 给了你一个电路，一个电源，他希望你能把电源接在电路的某一个节点上，让电流流通，并答应给你电路显示屏上的数那么多钱。\n\n这个电路有 $n$ 个节点，每个节点有一个权值 $val_i$，以 $n-1$ 条导线互相连通。你可以把电源接在任意一个起点上。接着，电流从这个节点开始流。若当前电源接到了一个节点 $u$，则接下来电流会**等概率**且**不重复经过一个点地**流向**一个叶子节点**，电流流过的所有节点的权值即为电路显示屏上的数（叶子节点即为 **除了 $u$** 的度数为 1 的节点）。\n\n现在你有 $n$ 种接电源的选择，你希望接上电源以后期望得分越高越好，所以你现在就要在规定的时间内求出这 $n$ 种期望值中最大的的一个。", "inputFormat": "第一行一个整数 $n$ 意义如题目所述。\n\n接下来 $n-1$ 行每行两个整数 $u,\\ v$，表示有一条联通编号为 $u,\\ v$ 节点的导线。\n\n接下来一行 $n$ 个整数，第 $i$ 个整数为 $val_i$，表示第 $i$ 个节点的权值。", "outputFormat": "输出一行一个浮点数，表示最大期望值。\n\n**本题使用 special judge，你的答案和正确答案误差不超过 $10^{-2}$ 即可通过。标准答案保留 4 位小数。**", "hint": "样例一的解释：\n\n电源接在 5 号节点时有两种情况：$5\\rightarrow 1\\rightarrow 2\\rightarrow 3$ 或 $5\\rightarrow 1\\rightarrow 2\\rightarrow 4$，两种情况得分分别为 8 和 6，期望值即为 7，可以证明没有其他节点接通电源的期望值比 7 大。\n\n---\n\n**本题采用捆绑测试，每一档部分分对应一个 subtask。**\n\n对于 $30\\%$ 的数据，保证 $2<n\\le 10^3$。  \n对于另外 $20\\%$ 的数据，保证是一条链。  \n对于所有的数据，保证 $2<n\\le 5\\times10^5,\\  |val_i|\\le10^4$。\n\n本题的 special judge 代码已经在附件中给出。\n\n附：本题数据量较大，可以采用更快的读入方法。（标程在用 ```scanf``` 的情况下可以通过）\n\n~~后记：按照题目名称，RFMC 是不会遵守诺言的（大雾~~\n\n题目名其实是一首歌名啦。", "locale": "zh-CN"}}}
{"pid": "P6555", "type": "P", "difficulty": 6, "samples": [["2\n2 2\n1 2", "300\n"], ["3\n2 2\n3 6\n2 4\n", "661677771\n"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["多项式", "组合数学", "排列组合", "生成函数", "快速数论变换 NTT"], "title": "Forget You", "background": "「话说回来，你是谁？」\n\n『竟然来这一手吗......』\n\n『也是呢......』\n\n『毕竟你夺走了几千、几万的能力，』\n\n『他们对脑部造成的负担不是一般地大，』\n\n『还能正常与人交谈已经很好了。』\n\n「......」\n\n『我啊，』\n\n『是你的恋人。』", "description": "为了让 おとさか ゆう 恢复记忆， ともり なお 找到了 PZY 。\n\nPZY 经过研究，发现能力主要是根据体内的能力基因决定的，并把一共 $m$ 个能力基因用 $1$ 到 $m$ 表示，并依次分成了 $n$ 个集合，第 $i$ 个集合包含了编号从 $(\\sum\\limits_{j=1}^{i-1} a_j)+1$ 到 $\\sum\\limits_{j=1}^{i} a_j$ 的 $a_i$ 个能力基因。\n\n经过大量的实验， PZY 发现基因的排序可以简化为一个数列，并按照需求， 定义一个数列被称为基因样品，当且仅当这个数列只由 $1$ 到 $m$ 的数字组成，对于属于第 $i$ 个集合里的数字，满足在该数列中**非严格单调递增**，且在数列中出现的次数不超过 $b_i$ 。\n\n特别的，一个基因样本的研究价值就是构成这个基因样本的所有数字之和，注意重复的数字也要重复计算。\n\n为了帮助 おとさか ゆう 恢复记忆， PZY 想知道所有的基因样品的研究价值之和是多少。\n\n由于答案非常大，所以他只想知道对于答案除以 $998244353$ 的余数。", "inputFormat": "第一行输入一个正整数 $n$ 。\n\n第 $2$ 到第 $n+1$ 行，包括 $2$ 个正整数 $a_i , b_i$ ，意义如题面所示。", "outputFormat": "输出所有的基因样品的研究价值除以 $998244353$ 的余数。", "hint": "样例一的解释：\n\n这两个集合为 $\\{ 1 , 2 \\}$ 和 $\\{ 3 \\}$。\n\n对于长度为 $1$ 的基因样本有：$1 , 2 , 3$ 。  \n总价值为 $1+2+3=6$ 。\n\n对于长度为 $2$ 的基因样本有：$11 , 12 , 13 , 22 , 23 , 31 , 32 , 33$ 。  \n总价值为 $1+1+1+2+1+3+2+2+2+3+3+1+3+2+3+3=33$ 。  \n其中数列 $21$ 不满足集合 $1$ 中的数在数列中非严格单调递增。\n\n对于长度为 $3$ 的基因样本有：$113 , 123 , 131 , 132 , 133 , 223 , 232 , 233 , 311 , 312 , 313 , 322 , 323 , 331 , 332$ 。  \n总价值为 $99$ 。  \n其中数列 $111 , 112 , 122 , 222 , 333$ 的出现次数超过限制。\n\n对于长度为 $4$ 的基因样本的总价值为 $162$ 。\n\n所以总价值为 $6+33+99+162=300$ 。\n\n---\n\n设 $k=\\sum\\limits_i b_i$ 。\n\n对于其中 $10\\%$ 的数据 $1\\le n\\le 3 , 1\\le k\\le 10 , 1\\le a_i\\le 5$ 。  \n对于另外 $20\\%$ 的数据 $n=1 , 1\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于另外 $30\\%$ 的数据 $n=2 , 2\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于 $100\\%$ 的数据 $1\\le n \\le k\\le 10^5 , 1 \\le a_i \\le 10^6 $ 。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Forget You", "background": "「话说回来，你是谁？」\n\n『竟然来这一手吗......』\n\n『也是呢......』\n\n『毕竟你夺走了几千、几万的能力，』\n\n『他们对脑部造成的负担不是一般地大，』\n\n『还能正常与人交谈已经很好了。』\n\n「......」\n\n『我啊，』\n\n『是你的恋人。』", "description": "为了让 おとさか ゆう 恢复记忆， ともり なお 找到了 PZY 。\n\nPZY 经过研究，发现能力主要是根据体内的能力基因决定的，并把一共 $m$ 个能力基因用 $1$ 到 $m$ 表示，并依次分成了 $n$ 个集合，第 $i$ 个集合包含了编号从 $(\\sum\\limits_{j=1}^{i-1} a_j)+1$ 到 $\\sum\\limits_{j=1}^{i} a_j$ 的 $a_i$ 个能力基因。\n\n经过大量的实验， PZY 发现基因的排序可以简化为一个数列，并按照需求， 定义一个数列被称为基因样品，当且仅当这个数列只由 $1$ 到 $m$ 的数字组成，对于属于第 $i$ 个集合里的数字，满足在该数列中**非严格单调递增**，且在数列中出现的次数不超过 $b_i$ 。\n\n特别的，一个基因样本的研究价值就是构成这个基因样本的所有数字之和，注意重复的数字也要重复计算。\n\n为了帮助 おとさか ゆう 恢复记忆， PZY 想知道所有的基因样品的研究价值之和是多少。\n\n由于答案非常大，所以他只想知道对于答案除以 $998244353$ 的余数。", "inputFormat": "第一行输入一个正整数 $n$ 。\n\n第 $2$ 到第 $n+1$ 行，包括 $2$ 个正整数 $a_i , b_i$ ，意义如题面所示。", "outputFormat": "输出所有的基因样品的研究价值除以 $998244353$ 的余数。", "hint": "样例一的解释：\n\n这两个集合为 $\\{ 1 , 2 \\}$ 和 $\\{ 3 \\}$。\n\n对于长度为 $1$ 的基因样本有：$1 , 2 , 3$ 。  \n总价值为 $1+2+3=6$ 。\n\n对于长度为 $2$ 的基因样本有：$11 , 12 , 13 , 22 , 23 , 31 , 32 , 33$ 。  \n总价值为 $1+1+1+2+1+3+2+2+2+3+3+1+3+2+3+3=33$ 。  \n其中数列 $21$ 不满足集合 $1$ 中的数在数列中非严格单调递增。\n\n对于长度为 $3$ 的基因样本有：$113 , 123 , 131 , 132 , 133 , 223 , 232 , 233 , 311 , 312 , 313 , 322 , 323 , 331 , 332$ 。  \n总价值为 $99$ 。  \n其中数列 $111 , 112 , 122 , 222 , 333$ 的出现次数超过限制。\n\n对于长度为 $4$ 的基因样本的总价值为 $162$ 。\n\n所以总价值为 $6+33+99+162=300$ 。\n\n---\n\n设 $k=\\sum\\limits_i b_i$ 。\n\n对于其中 $10\\%$ 的数据 $1\\le n\\le 3 , 1\\le k\\le 10 , 1\\le a_i\\le 5$ 。  \n对于另外 $20\\%$ 的数据 $n=1 , 1\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于另外 $30\\%$ 的数据 $n=2 , 2\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于 $100\\%$ 的数据 $1\\le n \\le k\\le 10^5 , 1 \\le a_i \\le 10^6 $ 。", "locale": "zh-CN"}}}
{"pid": "P6556", "type": "P", "difficulty": 6, "samples": [["3\n3\n1 2\n2 3\n1 2\n1 3\n5\n1 2\n1 3\n2 4\n2 5\n1 2\n2 3\n3 4\n4 5\n5\n3 1\n3 2\n3 4\n3 5 \n1 2\n2 3\n3 4\n3 5\n", "5\n9\n14\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树", "点分治", "O2优化"], "title": "The Forest", "background": "Deep in the forest, swift in the night.\n\nThey come out, with the frightening shouting under the moonlight.\n\nYou stare at the horrible figures. They are real, alive.\n\nI promise you've never experienced a worse night.\n\nThey come nearer, nearer, till a meter left.\n\nYou see their real faces. Scary eyes and hair in a mess.\n\nYou think they coming for you, then you are wrong.\n\nThey only want your delicious cheese, which is produced in a scary farm.\n\nThat's what happens in the forest. Enjoy your time!", "description": "**请注意，本题的时间限制为 5s！**\n\n探险家小 A 和小 B 需要用灯泡照亮这个森林。\n\n有 $n$ 个灯泡，编号为 $1, 2, \\cdots, n$。小 A 用 $n - 1$ 条红色绳子把它们连成了一棵树，小 B 用 $n - 1$ 条蓝色绳子把它们连成了另一棵树。\n\n一开始所有灯泡都是熄灭的，现在要点亮若干个灯泡。小 A 喜欢联通块，而小 B 喜欢链。他们想知道：有多少种点亮灯泡的方案，满足点亮的灯泡在小 A 的树上形成一个联通块，在小 B 的树上形成一条链呢？", "inputFormat": "第一行一个数 $T$，表示有 $T$ 组数据，对于每组数据：\n\n第一行一个数 $n$。\n\n第 $2$ 行到第 $n$ 行，第 $i + 1$ 行两个数 $a_i, b_i$，表示小 A 的树上的一条边。\n\n第 $n + 1$ 行到第 $2n - 1$ 行，第 $i + n$ 行两个数 $c_i, d_i$，表示小 B 的树上的一条边。", "outputFormat": "输出 $T$ 行，第 $i$ 行是第 $i$ 组数据的答案。", "hint": "### **样例解释：**\n\n#### 三组数据的图解：\n**样例 1：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9mvgm6cq.png)\n\n**样例 2：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w37mndjq.png)\n\n**样例 3：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5yjz655.png)\n\n------\n\n对于第一组数据，可以点亮的灯泡集合有：\n\n+ $\\{1\\}$；\n+ $\\{2\\}$；\n+ $\\{3\\}$；\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$。\n\n注意不能点亮集合 $\\{1, 3\\}$，因为编号为 $1, 3$ 的灯泡在小 A 的树上不构成联通块；也不能点亮集合 $\\{2, 3\\}$，因为编号为 $2, 3$ 的灯泡在小 B 的树上不构成一条链。\n\n对于第二组数据，可以点亮的，**至少包含两个灯泡的**的灯泡集合有：\n\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$；\n+ $\\{1, 2, 3, 4\\}$；\n+ $\\{1, 2, 3, 4, 5\\}$。\n\n显然大小为 $1$ 的灯泡集合都合法，所以答案为 $4 + 5 = 9$。\n\n### **限制与约定：**\n\n对于 $20 \\%$ 的数据，$n \\le 50$，满足特殊限制 $X$。  \n对于 $40 \\%$ 的数据，$n \\le 3000$，满足特殊限制 $X$。  \n对于 $70 \\%$ 的数据，满足特殊限制 $X$。  \n对于 $100 \\%$ 的数据，$T = 3, 1 \\le n \\le 10^5$。\n\n特殊限制 $X$：$c_i = i, d_i = i + 1$，也就是说**小 B 的树**是一条链，编号相邻的点之间有边。", "locale": "zh-CN", "translations": {"en": {"title": "The Forest", "background": "Deep in the forest, swift in the night.\n\nThey come out, with frightening shouts under the moonlight.\n\nYou stare at those horrible figures. They are real, alive.\n\nI promise you have never had a worse night.\n\nThey come closer and closer, until only one meter is left.\n\nYou see their real faces. Scary eyes and messy hair.\n\nYou think they are coming for you, but you are wrong.\n\nThey only want your delicious cheese, which is produced on a scary farm.\n\nThat is what happens in the forest. Enjoy your time!", "description": "**Please note that the time limit for this problem is 5s!**\n\nExplorer A and Explorer B need to use light bulbs to light up this forest.\n\nThere are $n$ light bulbs, numbered $1, 2, \\cdots, n$. Explorer A uses $n - 1$ red ropes to connect them into a tree, and Explorer B uses $n - 1$ blue ropes to connect them into another tree.\n\nAt the beginning, all bulbs are off. Now we want to turn on some of the bulbs. Explorer A likes connected components, and Explorer B likes paths. They want to know: how many ways are there to turn on bulbs such that the turned-on bulbs form a connected component in A's tree, and form a path in B's tree?", "inputFormat": "The first line contains an integer $T$, meaning there are $T$ test cases. For each test case:\n\nThe first line contains an integer $n$.\n\nLines $2$ to $n$, i.e. line $i + 1$, contain two integers $a_i, b_i$, representing an edge in A's tree.\n\nLines $n + 1$ to $2n - 1$, i.e. line $i + n$, contain two integers $c_i, d_i$, representing an edge in B's tree.", "outputFormat": "Output $T$ lines. The $i$-th line is the answer for the $i$-th test case.", "hint": "### Sample Explanation:\n\n#### Diagrams for the three test cases:\n**Sample 1:**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9mvgm6cq.png)\n\n**Sample 2:**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w37mndjq.png)\n\n**Sample 3:**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5yjz655.png)\n\n------\n\nFor the first test case, the valid sets of bulbs to turn on are:\n\n+ $\\{1\\}$;\n+ $\\{2\\}$;\n+ $\\{3\\}$;\n+ $\\{1, 2\\}$;\n+ $\\{1, 2, 3\\}$.\n\nNote that you cannot turn on the set $\\{1, 3\\}$, because bulbs $1$ and $3$ do not form a connected component in A's tree. You also cannot turn on the set $\\{2, 3\\}$, because bulbs $2$ and $3$ do not form a path in B's tree.\n\nFor the second test case, the valid sets of bulbs to turn on that contain **at least two bulbs** are:\n\n+ $\\{1, 2\\}$;\n+ $\\{1, 2, 3\\}$;\n+ $\\{1, 2, 3, 4\\}$;\n+ $\\{1, 2, 3, 4, 5\\}$.\n\nClearly, all bulb sets of size $1$ are valid, so the answer is $4 + 5 = 9$.\n\n### Constraints and Notes:\n\nFor $20\\%$ of the testdata, $n \\le 50$, and it satisfies the special constraint $X$.  \nFor $40\\%$ of the testdata, $n \\le 3000$, and it satisfies the special constraint $X$.  \nFor $70\\%$ of the testdata, it satisfies the special constraint $X$.  \nFor $100\\%$ of the testdata, $T = 3, 1 \\le n \\le 10^5$.\n\nSpecial constraint $X$: $c_i = i, d_i = i + 1$, that is, **B's tree** is a path, and there is an edge between nodes with adjacent indices.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "The Forest", "background": "Deep in the forest, swift in the night.\n\nThey come out, with the frightening shouting under the moonlight.\n\nYou stare at the horrible figures. They are real, alive.\n\nI promise you've never experienced a worse night.\n\nThey come nearer, nearer, till a meter left.\n\nYou see their real faces. Scary eyes and hair in a mess.\n\nYou think they coming for you, then you are wrong.\n\nThey only want your delicious cheese, which is produced in a scary farm.\n\nThat's what happens in the forest. Enjoy your time!", "description": "**请注意，本题的时间限制为 5s！**\n\n探险家小 A 和小 B 需要用灯泡照亮这个森林。\n\n有 $n$ 个灯泡，编号为 $1, 2, \\cdots, n$。小 A 用 $n - 1$ 条红色绳子把它们连成了一棵树，小 B 用 $n - 1$ 条蓝色绳子把它们连成了另一棵树。\n\n一开始所有灯泡都是熄灭的，现在要点亮若干个灯泡。小 A 喜欢联通块，而小 B 喜欢链。他们想知道：有多少种点亮灯泡的方案，满足点亮的灯泡在小 A 的树上形成一个联通块，在小 B 的树上形成一条链呢？", "inputFormat": "第一行一个数 $T$，表示有 $T$ 组数据，对于每组数据：\n\n第一行一个数 $n$。\n\n第 $2$ 行到第 $n$ 行，第 $i + 1$ 行两个数 $a_i, b_i$，表示小 A 的树上的一条边。\n\n第 $n + 1$ 行到第 $2n - 1$ 行，第 $i + n$ 行两个数 $c_i, d_i$，表示小 B 的树上的一条边。", "outputFormat": "输出 $T$ 行，第 $i$ 行是第 $i$ 组数据的答案。", "hint": "### **样例解释：**\n\n#### 三组数据的图解：\n**样例 1：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9mvgm6cq.png)\n\n**样例 2：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w37mndjq.png)\n\n**样例 3：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5yjz655.png)\n\n------\n\n对于第一组数据，可以点亮的灯泡集合有：\n\n+ $\\{1\\}$；\n+ $\\{2\\}$；\n+ $\\{3\\}$；\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$。\n\n注意不能点亮集合 $\\{1, 3\\}$，因为编号为 $1, 3$ 的灯泡在小 A 的树上不构成联通块；也不能点亮集合 $\\{2, 3\\}$，因为编号为 $2, 3$ 的灯泡在小 B 的树上不构成一条链。\n\n对于第二组数据，可以点亮的，**至少包含两个灯泡的**的灯泡集合有：\n\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$；\n+ $\\{1, 2, 3, 4\\}$；\n+ $\\{1, 2, 3, 4, 5\\}$。\n\n显然大小为 $1$ 的灯泡集合都合法，所以答案为 $4 + 5 = 9$。\n\n### **限制与约定：**\n\n对于 $20 \\%$ 的数据，$n \\le 50$，满足特殊限制 $X$。  \n对于 $40 \\%$ 的数据，$n \\le 3000$，满足特殊限制 $X$。  \n对于 $70 \\%$ 的数据，满足特殊限制 $X$。  \n对于 $100 \\%$ 的数据，$T = 3, 1 \\le n \\le 10^5$。\n\n特殊限制 $X$：$c_i = i, d_i = i + 1$，也就是说**小 B 的树**是一条链，编号相邻的点之间有边。", "locale": "zh-CN"}}}
{"pid": "P6557", "type": "P", "difficulty": 7, "samples": [["3 3\n0 1 0\n1 1 1\n0 1 0\n5\n1 2 2\n2 2\n3 1\n4 2 1 1\n5 2 2 1", "7\n1\n1\n5\n1\n1"], ["4 4\n0 1 1 1\n1 0 1 1\n1 1 0 1\n1 1 1 0\n3\n2 4\n1 2 2\n4 3 2 2", "400\n60\n400\n144"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["轮廓线 DP", "状压 DP"], "title": "Yesterday Once More", "background": "What will tomorrow be? Or, what is tomorrow? Or, what was tomorrow......\n\nWhat was yesterday? Or, what is yesterday? Or, what will yesterday be......\n\nIt is said that TIME cannot go back.\n\nIt is true, they all said.\n\nWhy? Are all those things inevitable? Is that really my unchangeable fate?\n\nWhere is the passion when we first met in that place?\n\nI know that I messed it up, times and times again.\n\nI want to turn back the clock and start again.\n\nYesterday Once More......\n", "description": "**注：题面中所有 $(x,y)$ 表示第 $x$ 行第 $y$ 列的点。**\n\n游戏的地图可以看成 $n\\times m$ 的网格图。每个格子里可能会有障碍。对于每个非障碍格子，里面可以站人也可以不站人，当然，每个格子最多只能站一个人。\n\n现在，你可以在非障碍点放置一些人，这些人都有一个朝向，这个朝向为上下左右中的一个。每个人你都可以给他设置他的射程，射程可以任意**正整数**。\n\n射程：人攻击的距离；若一个人在 $(x,y)$，朝向向右，他的射程为 3，那么他最远可以攻击到 $(x,y+3)$。注意，一个人的攻击不能穿越障碍物。\n\n现在，UM 想问问你整个游戏有多少种放人方法，使得所有人之间都不会互相攻击，而且任意两个人的攻击范围都不能有重叠（因为这样可能会浪费弹药），由于答案太大，所以 UM 要你给出答案对 $998244353$ 取模的结果。\n\n我们设第 $x$ 行第 $y$ 列的格子编号为 $(x-1)\\times m+y$，并把所有的人按他射程范围内的编号最小的格子的编号为关键字进行排序，并以排序后的顺序对所有人编号。两种放置人的情况被认为是不相同的，**当且仅当两种情况人数不同或者存在一个编号相同的人射程范围内的格子中至少有一个格子编号不同。**\n\n但是，UM 觉得这个问题太简单了，会被强大的你两分钟切掉，于是，他为你精心准备了 5 种询问：  \n1、把点 $(x,y)$ 设置为障碍点后的放人方案数；  \n2、把第 $x$ 行整个设置为障碍后的放人方案数；  \n3、把第 $x$ 列整个设置为障碍后的放人方案数；  \n4、把点 $(x,y) ,\\ (x,y+1),\\dots,\\ (x,y+t)$ 设置为障碍点后的放人方案数。  \n5、把点 $(x,y) ,\\ (x+1,y),\\dots,\\ (x+t,y)$ 设置为障碍点后的放人方案数；  \n\n**注意，每次操作后的地图都会还原成初始的状态。**\n\n", "inputFormat": "第一行两个正整数，$n,m$，意义如题面所述。\n\n接下来 $n$ 行每行 $m$ 个整数，表示游戏地图。若这个数为 $1$ 则为非障碍点，若为 $0$ 则为障碍点。\n\n接下来一行一个整数 $T$ 表示有 $T$ 个询问。\n\n接下来 $T$ 行，每行的第一个整数 $opt$，表示这个询问的类型：  \n若 $opt=1$，则分别对应第一种询问，接下来输入两个正整数 $x,y$，意义如题面所述；  \n若 $opt=2,3$，则分别对应第二，三种询问，接下来输入一个整数 $x$，意义如题面所述；  \n若 $opt=4,5$，则分别对应第四，五种询问，接下来输入三个整数 $x,y,t$，意义如题面所述。", "outputFormat": "输出共 $T+1$ 行。  \n第一行一个整数表示初始状态时的答案。  \n接下来 $T$ 行，一行一个整数表示每个询问的答案。\n\n**请注意：每个输出都应对 $998244353$ 取模。**", "hint": "[样例解释](https://www.luogu.com.cn/paste/wez5s4mh)。\n\n对于所有的询问，保证输入的参数均在棋盘大小范围内。\n\n对于 $15\\%$ 的数据，保证 $1<n,m\\le 5$ 且 $1\\le T\\le 10$。  \n对于另外 $10\\%$ 的数据，保证 $T=0$。  \n对于另外 $10\\%$ 的数据，保证只有第 1 种询问。  \n对于另外 $15\\%$ 的数据，保证只有第 2,3 种询问。    \n对于 $100\\%$ 的数据，保证 $1<n\\le m\\le 15$，$0\\le T\\le 10^3$，第 1,4,5 种询问的总数不超过 $100$。\n\n对于所有的数据，保证第 4,5 种询问中的 $t$ 为正整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Yesterday Once More", "background": "What will tomorrow be? Or, what is tomorrow? Or, what was tomorrow......\n\nWhat was yesterday? Or, what is yesterday? Or, what will yesterday be......\n\nIt is said that TIME cannot go back.\n\nIt is true, they all said.\n\nWhy? Are all those things inevitable? Is that really my unchangeable fate?\n\nWhere is the passion when we first met in that place?\n\nI know that I messed it up, times and times again.\n\nI want to turn back the clock and start again.\n\nYesterday Once More......\n", "description": "**注：题面中所有 $(x,y)$ 表示第 $x$ 行第 $y$ 列的点。**\n\n游戏的地图可以看成 $n\\times m$ 的网格图。每个格子里可能会有障碍。对于每个非障碍格子，里面可以站人也可以不站人，当然，每个格子最多只能站一个人。\n\n现在，你可以在非障碍点放置一些人，这些人都有一个朝向，这个朝向为上下左右中的一个。每个人你都可以给他设置他的射程，射程可以任意**正整数**。\n\n射程：人攻击的距离；若一个人在 $(x,y)$，朝向向右，他的射程为 3，那么他最远可以攻击到 $(x,y+3)$。注意，一个人的攻击不能穿越障碍物。\n\n现在，UM 想问问你整个游戏有多少种放人方法，使得所有人之间都不会互相攻击，而且任意两个人的攻击范围都不能有重叠（因为这样可能会浪费弹药），由于答案太大，所以 UM 要你给出答案对 $998244353$ 取模的结果。\n\n我们设第 $x$ 行第 $y$ 列的格子编号为 $(x-1)\\times m+y$，并把所有的人按他射程范围内的编号最小的格子的编号为关键字进行排序，并以排序后的顺序对所有人编号。两种放置人的情况被认为是不相同的，**当且仅当两种情况人数不同或者存在一个编号相同的人射程范围内的格子中至少有一个格子编号不同。**\n\n但是，UM 觉得这个问题太简单了，会被强大的你两分钟切掉，于是，他为你精心准备了 5 种询问：  \n1、把点 $(x,y)$ 设置为障碍点后的放人方案数；  \n2、把第 $x$ 行整个设置为障碍后的放人方案数；  \n3、把第 $x$ 列整个设置为障碍后的放人方案数；  \n4、把点 $(x,y) ,\\ (x,y+1),\\dots,\\ (x,y+t)$ 设置为障碍点后的放人方案数。  \n5、把点 $(x,y) ,\\ (x+1,y),\\dots,\\ (x+t,y)$ 设置为障碍点后的放人方案数；  \n\n**注意，每次操作后的地图都会还原成初始的状态。**\n\n", "inputFormat": "第一行两个正整数，$n,m$，意义如题面所述。\n\n接下来 $n$ 行每行 $m$ 个整数，表示游戏地图。若这个数为 $1$ 则为非障碍点，若为 $0$ 则为障碍点。\n\n接下来一行一个整数 $T$ 表示有 $T$ 个询问。\n\n接下来 $T$ 行，每行的第一个整数 $opt$，表示这个询问的类型：  \n若 $opt=1$，则分别对应第一种询问，接下来输入两个正整数 $x,y$，意义如题面所述；  \n若 $opt=2,3$，则分别对应第二，三种询问，接下来输入一个整数 $x$，意义如题面所述；  \n若 $opt=4,5$，则分别对应第四，五种询问，接下来输入三个整数 $x,y,t$，意义如题面所述。", "outputFormat": "输出共 $T+1$ 行。  \n第一行一个整数表示初始状态时的答案。  \n接下来 $T$ 行，一行一个整数表示每个询问的答案。\n\n**请注意：每个输出都应对 $998244353$ 取模。**", "hint": "[样例解释](https://www.luogu.com.cn/paste/wez5s4mh)。\n\n对于所有的询问，保证输入的参数均在棋盘大小范围内。\n\n对于 $15\\%$ 的数据，保证 $1<n,m\\le 5$ 且 $1\\le T\\le 10$。  \n对于另外 $10\\%$ 的数据，保证 $T=0$。  \n对于另外 $10\\%$ 的数据，保证只有第 1 种询问。  \n对于另外 $15\\%$ 的数据，保证只有第 2,3 种询问。    \n对于 $100\\%$ 的数据，保证 $1<n\\le m\\le 15$，$0\\le T\\le 10^3$，第 1,4,5 种询问的总数不超过 $100$。\n\n对于所有的数据，保证第 4,5 种询问中的 $t$ 为正整数。", "locale": "zh-CN"}}}
{"pid": "P6559", "type": "P", "difficulty": 2, "samples": [["6 12\n1 1\n2 1\n2 2\n1 4\n3 3\n4 3\n4 4\n3 4\n3 6\n4 6\n5 6\n6 6", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["暴力数据结构", "2020", "O2优化", "排序"], "title": "[SBCOI2020] 小镇", "background": "在人们不知道的地方，有一个小镇。  \n一个，连名字都说不上来的小镇。  \n季节再度进入冬季，  \n那个属于雪的季节。  \n在那雪下，埋葬着的，  \n是只属于这个小镇的梦，与传说。  \n......   \n“又到了冬天啊！”  \n“是啊！周围都变成白茫茫的一片了呢...”  \n“唉，要是这样的日子能够永远持续下去该有多好啊。”  \n“啊，永远...”  \n“不过，世间又有什么是永远呢。如同雪的消融，洁白地融入大地，还来不及让人品味，如此无奈，又如此纯净......”   \n\n在雪中，一幢幢房屋间的灯光散发出温暖的光芒。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/j728ebas.png)  \n“以后我们还能在一起看雪吗？”  \n“当然，一直可以......”", "description": "小镇可以看作是一个 $n \\times n$ 的网格，其中有 $k$ 个格子是房屋。    \n小镇里面还有灯。每两个相邻的格子之间有一盏灯。\n\n如果两幢房屋**相邻**，那么这两幢房屋之间的灯就会点亮。  \n请问这座小镇一共有多少盏灯被点亮。\n\n注意，本题中相邻指有公共边。", "inputFormat": "第一行两个整数 $n,k$，表示网格边长以及房屋数量。\n接下来 $k$ 行每行两个整数 $x,y$，表示房屋的坐标。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tbjkl3ul.png)  \n如图，阴影格子为房屋，被描红的边为灯。\n\n#### 数据范围\n\n对于 $30\\%$ 的数据，$1 \\leq n,k \\leq 100$。  \n对于 $80\\%$ 的数据，$1 \\leq n,k \\leq 5000$。  \n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^5$。  ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 小镇", "background": "在人们不知道的地方，有一个小镇。  \n一个，连名字都说不上来的小镇。  \n季节再度进入冬季，  \n那个属于雪的季节。  \n在那雪下，埋葬着的，  \n是只属于这个小镇的梦，与传说。  \n......   \n“又到了冬天啊！”  \n“是啊！周围都变成白茫茫的一片了呢...”  \n“唉，要是这样的日子能够永远持续下去该有多好啊。”  \n“啊，永远...”  \n“不过，世间又有什么是永远呢。如同雪的消融，洁白地融入大地，还来不及让人品味，如此无奈，又如此纯净......”   \n\n在雪中，一幢幢房屋间的灯光散发出温暖的光芒。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/j728ebas.png)  \n“以后我们还能在一起看雪吗？”  \n“当然，一直可以......”", "description": "小镇可以看作是一个 $n \\times n$ 的网格，其中有 $k$ 个格子是房屋。    \n小镇里面还有灯。每两个相邻的格子之间有一盏灯。\n\n如果两幢房屋**相邻**，那么这两幢房屋之间的灯就会点亮。  \n请问这座小镇一共有多少盏灯被点亮。\n\n注意，本题中相邻指有公共边。", "inputFormat": "第一行两个整数 $n,k$，表示网格边长以及房屋数量。\n接下来 $k$ 行每行两个整数 $x,y$，表示房屋的坐标。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tbjkl3ul.png)  \n如图，阴影格子为房屋，被描红的边为灯。\n\n#### 数据范围\n\n对于 $30\\%$ 的数据，$1 \\leq n,k \\leq 100$。  \n对于 $80\\%$ 的数据，$1 \\leq n,k \\leq 5000$。  \n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^5$。  ", "locale": "zh-CN"}}}
{"pid": "P6560", "type": "P", "difficulty": 4, "samples": [["7 7 1\n1 2\n2 3\n3 4\n4 5\n3 6\n7 5\n6 7\n1 5", "1"], ["5 5 2\n1 2\n2 3\n3 1\n3 4\n4 5\n1 5\n4 3", "0\n1"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "博弈论", "2020", "O2优化", "广度优先搜索 BFS", "拓扑排序"], "title": "[SBCOI2020] 时光的流逝", "background": "时间一分一秒的过着，伴随着雪一同消融在了这个冬天，  \n或许，要是时光能停留在这一刻，该有多好啊。  \n......    \n“这是...我在这个小镇的最后一个冬天了吧。”  \n“嗯，你可不能这辈子都呆在这个小镇吧。外面的世界很大呢，很大很大...”  \n“唔...外面的世界...突然有点期待呢！”  \n“总有一天，你会走得很远很远。以后你可不要忘记这个小镇那。”  \n“不会的，至少...这里曾经是我最快乐的一段回忆呢！你也一定不要忘记我呀。”   \n“你看，这雪花。传说，每当世界上有一份思念，便会化成一片雪花在这里飘落。”   \n“那...以后你可一定要找到我的那片雪花啊......”  \n![](https://cdn.luogu.com.cn/upload/image_hosting/orzntcy6.png)    \n“嗯，不如我们一起在这个冬天创造最后一段回忆吧。”  \n“好呀，我们玩个游戏吧......”  ", "description": "这个游戏是在一个有向图（不保证无环）上进行的。每轮游戏开始前，她们先在图上选定一个起点和一个终点，并在起点处放上一枚棋子。\n\n然后两人轮流移动棋子，每次可以将棋子按照有向图的方向移动至相邻的点。\n\n如果谁先将棋子移动至终点，那么谁就胜利了。同样，如果谁无法移动了，那么谁就失败了。\n\n两人轮流操作，请问，他们是否有必胜策略呢？  \n\n答案为一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示（先手）有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "inputFormat": "第$\\text{1}$行有三个整数 $n,m,q$ ，表示图上有 $n$ 个点， $m$ 条边，一共进行 $q$ 轮游戏。                      \n接下来 $m$ 行，每行输入两个数 $u_i,v_i$ ，表示 $u_i$ 到 $v_i$ 有一条边。  \n接下来 $q$ 行，每行两个数 $x,y$ ，表示每轮操作的起点和终点。数据保证起点，终点不同", "outputFormat": "对于每轮游戏，仅输出一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示先手有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "hint": "#### 样例解释 $#1$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k7q0qjrb.png)\n\n为描述题意，假设两人为 A（先手）和 B\n\n如图，A 先走，走到 $2$，B 走到 $3$，接下去 A 可以选择走到 $4$ 或 $6$，若走到 $4$，接下去 B 可以走到终点，故不可取。若选择走到 $6$，那么 B 只能走到 $7$，A 可以走到终点。所以 A 有必胜策略。\n\n#### 样例解释 $#2$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9yjnyye3.png)\n\n如图，起点为 $1$，终点为 $5$ 时， A 和 B 会沿着 $1-2-3-1$ 的顺序轮流走。因为如果谁先走到 $4$，那么下一个人就可以走到终点。故谁都没有必胜策略。\n\n起点为 $4$，终点为 $3$ 时，A 先走到 $5$，B 无路可走，故 B 失败。\n\n#### 数据范围\n\n对于 $10\\%$ 的数据，保证图是一条链。\n\n对于 $50\\%$ 的数据，$1\\leq n\\leq 10^3$，$1\\leq m\\leq 2\\times10^3$，$1\\leq q\\leq 10$。\n\n对于 $70\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times10^5$，$1\\leq q\\leq 10$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 5\\times10^5$，$1\\leq q\\leq 500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 时光的流逝", "background": "时间一分一秒的过着，伴随着雪一同消融在了这个冬天，  \n或许，要是时光能停留在这一刻，该有多好啊。  \n......    \n“这是...我在这个小镇的最后一个冬天了吧。”  \n“嗯，你可不能这辈子都呆在这个小镇吧。外面的世界很大呢，很大很大...”  \n“唔...外面的世界...突然有点期待呢！”  \n“总有一天，你会走得很远很远。以后你可不要忘记这个小镇那。”  \n“不会的，至少...这里曾经是我最快乐的一段回忆呢！你也一定不要忘记我呀。”   \n“你看，这雪花。传说，每当世界上有一份思念，便会化成一片雪花在这里飘落。”   \n“那...以后你可一定要找到我的那片雪花啊......”  \n![](https://cdn.luogu.com.cn/upload/image_hosting/orzntcy6.png)    \n“嗯，不如我们一起在这个冬天创造最后一段回忆吧。”  \n“好呀，我们玩个游戏吧......”  ", "description": "这个游戏是在一个有向图（不保证无环）上进行的。每轮游戏开始前，她们先在图上选定一个起点和一个终点，并在起点处放上一枚棋子。\n\n然后两人轮流移动棋子，每次可以将棋子按照有向图的方向移动至相邻的点。\n\n如果谁先将棋子移动至终点，那么谁就胜利了。同样，如果谁无法移动了，那么谁就失败了。\n\n两人轮流操作，请问，他们是否有必胜策略呢？  \n\n答案为一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示（先手）有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "inputFormat": "第$\\text{1}$行有三个整数 $n,m,q$ ，表示图上有 $n$ 个点， $m$ 条边，一共进行 $q$ 轮游戏。                      \n接下来 $m$ 行，每行输入两个数 $u_i,v_i$ ，表示 $u_i$ 到 $v_i$ 有一条边。  \n接下来 $q$ 行，每行两个数 $x,y$ ，表示每轮操作的起点和终点。数据保证起点，终点不同", "outputFormat": "对于每轮游戏，仅输出一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示先手有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "hint": "#### 样例解释 $#1$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k7q0qjrb.png)\n\n为描述题意，假设两人为 A（先手）和 B\n\n如图，A 先走，走到 $2$，B 走到 $3$，接下去 A 可以选择走到 $4$ 或 $6$，若走到 $4$，接下去 B 可以走到终点，故不可取。若选择走到 $6$，那么 B 只能走到 $7$，A 可以走到终点。所以 A 有必胜策略。\n\n#### 样例解释 $#2$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9yjnyye3.png)\n\n如图，起点为 $1$，终点为 $5$ 时， A 和 B 会沿着 $1-2-3-1$ 的顺序轮流走。因为如果谁先走到 $4$，那么下一个人就可以走到终点。故谁都没有必胜策略。\n\n起点为 $4$，终点为 $3$ 时，A 先走到 $5$，B 无路可走，故 B 失败。\n\n#### 数据范围\n\n对于 $10\\%$ 的数据，保证图是一条链。\n\n对于 $50\\%$ 的数据，$1\\leq n\\leq 10^3$，$1\\leq m\\leq 2\\times10^3$，$1\\leq q\\leq 10$。\n\n对于 $70\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times10^5$，$1\\leq q\\leq 10$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 5\\times10^5$，$1\\leq q\\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P6561", "type": "P", "difficulty": 5, "samples": [["6\n2 1 1\n4 2 1\n114 5 14\n1919 8 10\n19260 8 17\n114514 1919 810", "1\n6\n43944630\n803733835\n204764788\n713170605"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "组合数学"], "title": "[SBCOI2020] 人", "background": "梦  \n做着同一个梦  \n每一天都做的梦  \n没有终结的梦......  \n咦...这里...是哪里？  \n周围漫天是如雪花般飘落的的碎片。   \n天空明亮的光芒又一次掠过这些碎片，照在地上。  \n这些碎片像是永无尽头的围巾一般，围在她的四周，  \n在她的身后延伸到世界的尽头，诉说着一段段破碎的记忆......  \n......  \n这...刚才...是梦吗？  \n看来我又做了一个梦...  \n不知不觉，离开这个小镇已经这么久了啊...  \n但是...总感觉这个小镇...无法忘记...  \n刚才看到的到底是什么？  \n为什么呢?  \n![](https://cdn.luogu.com.cn/upload/image_hosting/xltdmgq1.png)  \n总觉得我需要回去一次，  \n回到......一切开始的地方......  \n", "description": "她的梦中有 $2m$ 块记忆碎片，编号为 $1,2,\\cdots,2m$，以及 $a$ 块白色碎片和 $b$ 块黑色碎片。\n\n她隐约记得她要在编号为奇数的记忆碎片中选出 $a$ 块白色碎片组成一段记忆，在编号为偶数的记忆碎片中选出 $b$ 块黑色碎片组成一段记忆，且选出的记忆碎片编号两两不相邻。\n\n她想要知道一共有多少种这样的选法。也就是，在 $1-2m$ 中选出 $a$ 个奇数， $b$ 个偶数，并且选出的数两两不相邻的方案数。\n\n由于答案可能很大，她只需要答案对于 $998244353$ 取模的结果。", "inputFormat": "**本题有多组数据。**\n\n第一行为数据组数 $T$。\n\n接下来 $T$ 行，每行三个整数 $m,a,b$。", "outputFormat": "$T$ 行，每行一个整数表示答案。", "hint": "#### 样例解释\n\n第一个询问，一共 $4$ 个数，在奇数 ${1,3}$ 中选一个,偶数 ${2,4}$ 中选一个，选出两个数不相邻的只能选 $1,4$ 。  \n第二个询问，一共 $8$ 个数，在奇数 ${1,3,5,7}$ 中选 $2$ 个数，偶数 ${2,4,6,8}$ 中选 $1$ 个数，而且总共选出的 $3$ 个数两两不相邻，只有：$\\{1,3,6\\}，\\{1,3,8\\}，\\{1,5,8\\}，\\{1,4,7\\}，\\{3,5,8\\}，\\{2,5,7\\}$。 总共 $6$ 种选法。\n\n后面几个询问范围过大，不进行样例解释。\n\n#### 数据范围\n\n**本题采用捆绑测试**，共有 $3$ 个子任务。\n\n$Subtask 1 (10\\%)$，$1 \\le T \\le 10, 1 \\le a,b \\le m \\le 10$。\n\n$Subtask 2 (40\\%)$，$1 \\le T \\le 10^6,  1 \\le a,b \\le m \\le 100$。\n\n$Subtask 3 (50\\%)$，$1 \\le T \\le 10^6, 1 \\le a,b \\le m \\le 10^6$。 \n\n对于 $100\\%$ 的数据，保证 $a+b \\le m$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 人", "background": "梦  \n做着同一个梦  \n每一天都做的梦  \n没有终结的梦......  \n咦...这里...是哪里？  \n周围漫天是如雪花般飘落的的碎片。   \n天空明亮的光芒又一次掠过这些碎片，照在地上。  \n这些碎片像是永无尽头的围巾一般，围在她的四周，  \n在她的身后延伸到世界的尽头，诉说着一段段破碎的记忆......  \n......  \n这...刚才...是梦吗？  \n看来我又做了一个梦...  \n不知不觉，离开这个小镇已经这么久了啊...  \n但是...总感觉这个小镇...无法忘记...  \n刚才看到的到底是什么？  \n为什么呢?  \n![](https://cdn.luogu.com.cn/upload/image_hosting/xltdmgq1.png)  \n总觉得我需要回去一次，  \n回到......一切开始的地方......  \n", "description": "她的梦中有 $2m$ 块记忆碎片，编号为 $1,2,\\cdots,2m$，以及 $a$ 块白色碎片和 $b$ 块黑色碎片。\n\n她隐约记得她要在编号为奇数的记忆碎片中选出 $a$ 块白色碎片组成一段记忆，在编号为偶数的记忆碎片中选出 $b$ 块黑色碎片组成一段记忆，且选出的记忆碎片编号两两不相邻。\n\n她想要知道一共有多少种这样的选法。也就是，在 $1-2m$ 中选出 $a$ 个奇数， $b$ 个偶数，并且选出的数两两不相邻的方案数。\n\n由于答案可能很大，她只需要答案对于 $998244353$ 取模的结果。", "inputFormat": "**本题有多组数据。**\n\n第一行为数据组数 $T$。\n\n接下来 $T$ 行，每行三个整数 $m,a,b$。", "outputFormat": "$T$ 行，每行一个整数表示答案。", "hint": "#### 样例解释\n\n第一个询问，一共 $4$ 个数，在奇数 ${1,3}$ 中选一个,偶数 ${2,4}$ 中选一个，选出两个数不相邻的只能选 $1,4$ 。  \n第二个询问，一共 $8$ 个数，在奇数 ${1,3,5,7}$ 中选 $2$ 个数，偶数 ${2,4,6,8}$ 中选 $1$ 个数，而且总共选出的 $3$ 个数两两不相邻，只有：$\\{1,3,6\\}，\\{1,3,8\\}，\\{1,5,8\\}，\\{1,4,7\\}，\\{3,5,8\\}，\\{2,5,7\\}$。 总共 $6$ 种选法。\n\n后面几个询问范围过大，不进行样例解释。\n\n#### 数据范围\n\n**本题采用捆绑测试**，共有 $3$ 个子任务。\n\n$Subtask 1 (10\\%)$，$1 \\le T \\le 10, 1 \\le a,b \\le m \\le 10$。\n\n$Subtask 2 (40\\%)$，$1 \\le T \\le 10^6,  1 \\le a,b \\le m \\le 100$。\n\n$Subtask 3 (50\\%)$，$1 \\le T \\le 10^6, 1 \\le a,b \\le m \\le 10^6$。 \n\n对于 $100\\%$ 的数据，保证 $a+b \\le m$。\n\n", "locale": "zh-CN"}}}
{"pid": "P6562", "type": "P", "difficulty": 6, "samples": [["3 3\n1 2 3 4 5 6 7 8\n2 0 7\n1 1 5 1\n2 1 7", "36\n22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化", "前缀和", "分块", "状压 DP"], "title": "[SBCOI2020] 归家之路", "background": "时光流逝，岁月无痕。  \n小镇的夜空中，缀满了无数宝石一般的闪烁星辰。  \n依旧是那片星空，依旧是那个小镇。  \n......  \n“好久不见啊。”  \n“不知不觉，竟然已经过去了那么久了...”  \n“但是，这座小镇还是曾经的那个小镇啊。”  \n“只不过，我们都不再是过去的自己了呢。”  \n“你还记得吗，我们曾经一起在这里看雪，一起玩游戏...”   \n“可是游戏结局明明一开始就已经决定了...真是太坏了...”    \n“嘿嘿，说起来你还从来没赢我过呢......”  \n“我还记得，你以前说过，每当世界上有一份思念，便会化成一片雪花在这里飘落...”  \n“嗯，我只要看着冬天的雪便能想起你了。我知道，这一定是你的思念吧...”    \n“我也看到了，如同雪花般飘落的记忆......”  \n\n天空中，点点滴滴的光芒融合在一起，清澈而宁静。眼前的风景是那么熟悉又陌生。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ic5htl18.png)\n\n“我们再待一会儿如何，就像以前一样......”  \n“和你，和小镇，和星空......”", "description": "天空中一共有 $2^n$ 颗星，依次编号为 $0,1,...,2^n-1$。每颗星都有一个亮度值。初始时第 $i$ 颗星的亮度值为 $a_i$。  \n\n对于两个正整数 $a,b$ 我们定义一种布尔类型运算 $a\\otimes b$ 。如果在 $a$ 的**二进制**表示中，满足每一个 $a$ 是 $1$ 的位，$b$ 的对应位也是 $1$，那么  $a\\otimes b$ 为 `True` , 否则 $a\\otimes b$ 为 `False`。  \n若两数在二进制表示下的位数不同，则将两数 **右对齐** 后在左侧补0。例如两个数是 $1$ 和 $11$ （二进制），$1$ 会变成 $01$。\n\n对于这些星的亮度值有两种操作：\n\n第一种：$1$ $a$ $b$ $k$。对于所有的满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True` 的 $c$，将第 $c$ 颗星的亮度值加上 $k$。\n\n第二种：$2$ $a$ $b$。若第 $c$ 颗星的编号 $c$ 满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True`。求出所有第 $c$ 颗星的亮度总和，答案对 $2^{32}$ 取模。  \n", "inputFormat": "第一行两个整数 $n,q$。\n\n第二行 $2^n$ 个整数，用空格隔开，表示 $a_0,a_1,\\cdots,a_{2^n-1}$。\n\n接下来 $q$ 行，每行代表一个操作，格式见【题目描述】。", "outputFormat": "对于每一个 $2$ 操作，输出一行表示答案。", "hint": "**【样例解释】**\n\n第一次是询问，$0$ 的二进制表示为 $000$， $7$ 的二进制表示为 $111$ 。此时，所有数都满足，即求的是所有数之和，为 $36$。\n\n第二次是修改，$1$ 的二进制表示为 $001$，$5$ 的二进制表示为 $101$，发现 $c=1,5$ 满足，二进制表示分别为 $001$，$101$所以 $a_1,a_5$ 的值从 $2,6$ 变为 $3,7$。\n\n第三次是询问，$1$ 的二进制表示为 $001$，$7$ 的二进制表示为 $111$，发现 $c=1,3,5,7$ 满足，二进制表示分别为 $001$，$011$，$101$，$111$。求的是 $a_1,a_3,a_5,a_7$ 的和 $3+4+7+8=22$。\n\n**【数据范围】**\n\n**本题捆绑测试，共有 $4$ 个子任务**。 \n\n$Subtask 1(1\\%)$：答案为样例。\n\n$Subtask 2(9\\%)$：$n \\le 12,m \\le 2\\times 10^3$。\n\n$Subtask 3(15\\%)$：所有 $2$ 操作都在 $1$ 操作之后。\n\n$Subtask 4(75\\%)$：没有任何额外限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 16,1 \\le m \\le 2\\times 10^5, 0 \\le a,b \\le 2^n-1,0 \\le a_i,k \\le 2^{32}-1$。\n\n**【温馨提示】**\n\n对 $2^{32}$ 取模，可以直接用无符号 `32` 位整形的数据类型进行运算。在 `c++` 中就是 `unsigned int`。\n\n~~也就是【直接自然溢出啥事没有】。~~", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 归家之路", "background": "时光流逝，岁月无痕。  \n小镇的夜空中，缀满了无数宝石一般的闪烁星辰。  \n依旧是那片星空，依旧是那个小镇。  \n......  \n“好久不见啊。”  \n“不知不觉，竟然已经过去了那么久了...”  \n“但是，这座小镇还是曾经的那个小镇啊。”  \n“只不过，我们都不再是过去的自己了呢。”  \n“你还记得吗，我们曾经一起在这里看雪，一起玩游戏...”   \n“可是游戏结局明明一开始就已经决定了...真是太坏了...”    \n“嘿嘿，说起来你还从来没赢我过呢......”  \n“我还记得，你以前说过，每当世界上有一份思念，便会化成一片雪花在这里飘落...”  \n“嗯，我只要看着冬天的雪便能想起你了。我知道，这一定是你的思念吧...”    \n“我也看到了，如同雪花般飘落的记忆......”  \n\n天空中，点点滴滴的光芒融合在一起，清澈而宁静。眼前的风景是那么熟悉又陌生。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ic5htl18.png)\n\n“我们再待一会儿如何，就像以前一样......”  \n“和你，和小镇，和星空......”", "description": "天空中一共有 $2^n$ 颗星，依次编号为 $0,1,...,2^n-1$。每颗星都有一个亮度值。初始时第 $i$ 颗星的亮度值为 $a_i$。  \n\n对于两个正整数 $a,b$ 我们定义一种布尔类型运算 $a\\otimes b$ 。如果在 $a$ 的**二进制**表示中，满足每一个 $a$ 是 $1$ 的位，$b$ 的对应位也是 $1$，那么  $a\\otimes b$ 为 `True` , 否则 $a\\otimes b$ 为 `False`。  \n若两数在二进制表示下的位数不同，则将两数 **右对齐** 后在左侧补0。例如两个数是 $1$ 和 $11$ （二进制），$1$ 会变成 $01$。\n\n对于这些星的亮度值有两种操作：\n\n第一种：$1$ $a$ $b$ $k$。对于所有的满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True` 的 $c$，将第 $c$ 颗星的亮度值加上 $k$。\n\n第二种：$2$ $a$ $b$。若第 $c$ 颗星的编号 $c$ 满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True`。求出所有第 $c$ 颗星的亮度总和，答案对 $2^{32}$ 取模。  \n", "inputFormat": "第一行两个整数 $n,q$。\n\n第二行 $2^n$ 个整数，用空格隔开，表示 $a_0,a_1,\\cdots,a_{2^n-1}$。\n\n接下来 $q$ 行，每行代表一个操作，格式见【题目描述】。", "outputFormat": "对于每一个 $2$ 操作，输出一行表示答案。", "hint": "**【样例解释】**\n\n第一次是询问，$0$ 的二进制表示为 $000$， $7$ 的二进制表示为 $111$ 。此时，所有数都满足，即求的是所有数之和，为 $36$。\n\n第二次是修改，$1$ 的二进制表示为 $001$，$5$ 的二进制表示为 $101$，发现 $c=1,5$ 满足，二进制表示分别为 $001$，$101$所以 $a_1,a_5$ 的值从 $2,6$ 变为 $3,7$。\n\n第三次是询问，$1$ 的二进制表示为 $001$，$7$ 的二进制表示为 $111$，发现 $c=1,3,5,7$ 满足，二进制表示分别为 $001$，$011$，$101$，$111$。求的是 $a_1,a_3,a_5,a_7$ 的和 $3+4+7+8=22$。\n\n**【数据范围】**\n\n**本题捆绑测试，共有 $4$ 个子任务**。 \n\n$Subtask 1(1\\%)$：答案为样例。\n\n$Subtask 2(9\\%)$：$n \\le 12,m \\le 2\\times 10^3$。\n\n$Subtask 3(15\\%)$：所有 $2$ 操作都在 $1$ 操作之后。\n\n$Subtask 4(75\\%)$：没有任何额外限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 16,1 \\le m \\le 2\\times 10^5, 0 \\le a,b \\le 2^n-1,0 \\le a_i,k \\le 2^{32}-1$。\n\n**【温馨提示】**\n\n对 $2^{32}$ 取模，可以直接用无符号 `32` 位整形的数据类型进行运算。在 `c++` 中就是 `unsigned int`。\n\n~~也就是【直接自然溢出啥事没有】。~~", "locale": "zh-CN"}}}
{"pid": "P6563", "type": "P", "difficulty": 6, "samples": [["1\n2\n1 2", "1"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2020", "单调队列", "O2优化", "洛谷比赛"], "title": "[SBCOI2020] 一直在你身旁", "background": "转眼间，又到春天...  \n站在这里，我才发现，  \n原来，我的心，  \n已与那座被光玉守护的小镇相连。   \n......  \n“又到了一年春天啊...”  \n“看来，你已经准备留在这里了呢。”  \n“其实，我也没有什么远大的理想，只是努力地维持着现状...”  \n“不过，只要能实现自己的梦想，这又有什么关系啊...”  \n“但是现在，我真的是非常的开心。就像你说的那样，找到了很多快乐的事情...”  \n“我也和你一样，处在同一个世界。世界上没有一成不变的事物。\n所以只要以其他方式找到自己的快乐就行了...”  \n“对啊，是时候开始新的生活了呢......”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/frgxpnaw.png)  \n\n“你对这个小镇真是执着呢...”  \n“因为，这里满是我不想忘记的回忆啊...”  ", "description": "回到这座小镇后，她的新工作是维修电线。    \n现在，有一根电线坏了。已知电线长度可能为 $1,2,\\cdots,n$ 中的一个数。现在，她需要知道电线的长度。  \n她可以花费 $a_i$ 块钱购买长度为 $i$ 的电线。购买这根电线后，她能知道所需要的电线长度是否 **大于** $i$。  \n保证 $a_1 \\le a_2 \\le \\cdots \\le a_n \\le 10^9$。  \n问她至少要花多少钱才能保证知道需要电线的长度。  ", "inputFormat": "**本题有多组数据**。\n\n第一行为一个正整数 $T$ 表示数据组数。\n\n接下来，每组数据，一行一个整数 $n$，接下来一行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "$T$ 行，每行输出一个答案。", "hint": "【样例解释】\n\n买一根长度为 $1$ 的电线，就能知道需要的长度是否大于 $1$，也就能确定是 $1$ 还是 $2$，所以答案就是 $1$。\n\n大样例[链接](https://www.luogu.com.cn/paste/csusv11e)。\n\n【数据范围】\n\n本题捆绑测试，共有 $4$ 个子任务。\n\n$(Subtask 1)(10\\%)$，$n \\le 15$。\n\n\n$(Subtask 2)(10\\%)$，$n \\le 500$。\n\n$(Subtask 3)(30\\%)$，$n \\le 2000$。\n\n\n$(Subtask 4)(50\\%)$，没有任何额外限制。\n\n对于100%的数据点, $ 1 \\le n,\\sum n \\leq 7100,T \\leq 500 $。$\\sum n$ 表示所有数据中 $n$ 的和。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 一直在你身旁", "background": "转眼间，又到春天...  \n站在这里，我才发现，  \n原来，我的心，  \n已与那座被光玉守护的小镇相连。   \n......  \n“又到了一年春天啊...”  \n“看来，你已经准备留在这里了呢。”  \n“其实，我也没有什么远大的理想，只是努力地维持着现状...”  \n“不过，只要能实现自己的梦想，这又有什么关系啊...”  \n“但是现在，我真的是非常的开心。就像你说的那样，找到了很多快乐的事情...”  \n“我也和你一样，处在同一个世界。世界上没有一成不变的事物。\n所以只要以其他方式找到自己的快乐就行了...”  \n“对啊，是时候开始新的生活了呢......”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/frgxpnaw.png)  \n\n“你对这个小镇真是执着呢...”  \n“因为，这里满是我不想忘记的回忆啊...”  ", "description": "回到这座小镇后，她的新工作是维修电线。    \n现在，有一根电线坏了。已知电线长度可能为 $1,2,\\cdots,n$ 中的一个数。现在，她需要知道电线的长度。  \n她可以花费 $a_i$ 块钱购买长度为 $i$ 的电线。购买这根电线后，她能知道所需要的电线长度是否 **大于** $i$。  \n保证 $a_1 \\le a_2 \\le \\cdots \\le a_n \\le 10^9$。  \n问她至少要花多少钱才能保证知道需要电线的长度。  ", "inputFormat": "**本题有多组数据**。\n\n第一行为一个正整数 $T$ 表示数据组数。\n\n接下来，每组数据，一行一个整数 $n$，接下来一行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "$T$ 行，每行输出一个答案。", "hint": "【样例解释】\n\n买一根长度为 $1$ 的电线，就能知道需要的长度是否大于 $1$，也就能确定是 $1$ 还是 $2$，所以答案就是 $1$。\n\n大样例[链接](https://www.luogu.com.cn/paste/csusv11e)。\n\n【数据范围】\n\n本题捆绑测试，共有 $4$ 个子任务。\n\n$(Subtask 1)(10\\%)$，$n \\le 15$。\n\n\n$(Subtask 2)(10\\%)$，$n \\le 500$。\n\n$(Subtask 3)(30\\%)$，$n \\le 2000$。\n\n\n$(Subtask 4)(50\\%)$，没有任何额外限制。\n\n对于100%的数据点, $ 1 \\le n,\\sum n \\leq 7100,T \\leq 500 $。$\\sum n$ 表示所有数据中 $n$ 的和。", "locale": "zh-CN"}}}
{"pid": "P6564", "type": "P", "difficulty": 5, "samples": [["5\n1 1 2 5 4", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2007", "线段树", "树状数组", "POI（波兰）", "O2优化"], "title": "[POI 2007] 堆积木KLO", "background": "", "description": "PinkRabbit 从他的 npy 那里得到了一个由 $n$ 块积木叠成的高塔，每块积木上都写有一个数字。我们记从下往上第 $i$ 块积木上面的数为 $a_i$，将一个满足积木上的数为 $a_1,a_2,\\dots,a_n$ 的高塔用 $\\{a_1,a_2,\\dots,a_n\\}$ 直接表示，则 PinkRabbit 认为高塔 $\\{a_1,a_2,\\dots,a_m\\}$ 价值为 $\\sum_{i=1}^m [a_i = i]$。\n\nPinkRabbit 可以删除当前高塔中的若干个积木，其余的积木受重力影响会下落到不能下落为止。如果将高塔 $\\{1,1,2,4,5\\}$ 中从下往上第二个积木删去，那么可以得到高塔 $\\{1,2,4,5\\}$，新高塔的价值为 $2$。\n\nPinkRabbit 想删除当前高塔中任意个积木，使得最终得到的高塔价值最大。由于他是人赢，所以他指定你来回答这个问题。", "inputFormat": "第一行一个正整数 $n$，表示初始高塔的高度。  \n第二行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$，其中 $a_i$ 表示初始状态从下往上第 $i$ 个积木上的数字。", "outputFormat": "一行一个整数，表示可以得到的最大价值。", "hint": "**样例 1 解释**  \n初始状态 $\\{1,1,2,5,4\\}$ 仅有 $a_1$ 满足 $a_i=i$，总价值为 $1$。  \n删去从下往上第二个积木，得到状态 $\\{1,2,5,4\\}$，$a_1,a_2,a_4$ 均满足 $a_i=i$，总价值为 $3$。  \n容易证明不存在更优的方案。\n\n\n**数据规模与约定**  \n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2007] 堆积木KLO", "background": "", "description": "PinkRabbit 从他的 npy 那里得到了一个由 $n$ 块积木叠成的高塔，每块积木上都写有一个数字。我们记从下往上第 $i$ 块积木上面的数为 $a_i$，将一个满足积木上的数为 $a_1,a_2,\\dots,a_n$ 的高塔用 $\\{a_1,a_2,\\dots,a_n\\}$ 直接表示，则 PinkRabbit 认为高塔 $\\{a_1,a_2,\\dots,a_m\\}$ 价值为 $\\sum_{i=1}^m [a_i = i]$。\n\nPinkRabbit 可以删除当前高塔中的若干个积木，其余的积木受重力影响会下落到不能下落为止。如果将高塔 $\\{1,1,2,4,5\\}$ 中从下往上第二个积木删去，那么可以得到高塔 $\\{1,2,4,5\\}$，新高塔的价值为 $2$。\n\nPinkRabbit 想删除当前高塔中任意个积木，使得最终得到的高塔价值最大。由于他是人赢，所以他指定你来回答这个问题。", "inputFormat": "第一行一个正整数 $n$，表示初始高塔的高度。  \n第二行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$，其中 $a_i$ 表示初始状态从下往上第 $i$ 个积木上的数字。", "outputFormat": "一行一个整数，表示可以得到的最大价值。", "hint": "**样例 1 解释**  \n初始状态 $\\{1,1,2,5,4\\}$ 仅有 $a_1$ 满足 $a_i=i$，总价值为 $1$。  \n删去从下往上第二个积木，得到状态 $\\{1,2,5,4\\}$，$a_1,a_2,a_4$ 均满足 $a_i=i$，总价值为 $3$。  \n容易证明不存在更优的方案。\n\n\n**数据规模与约定**  \n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^6$。", "locale": "zh-CN"}}}
