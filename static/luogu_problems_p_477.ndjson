{"pid": "P10675", "type": "P", "difficulty": 6, "samples": [["3 3\n0 0 1\n0\n2 1 0\n1 3\n", "0\n3\n-1\n"], ["见下发文件。", "见下发文件。"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "贪心", "线段树", "O2优化", "进制", "梦熊比赛"], "title": "【MX-S1-T4】先见之明", "background": "原题链接：<https://oier.team/problems/S1D>。", "description": "给定 $n$ 个非负整数 $a_1, a_2, \\ldots, a_n$。有 $q$ 次询问，每次询问：\n\n- 给定一个非负整数 $k$，你需要从 $2^{a_1}, \\ldots, 2^{a_n}$ 中取出一部分（即一个子集，可以为空），使得它们的和 $\\ge k$。\n- 在保证和 $\\ge k$ 的前提下，你需要最小化它们的和。你只需求出这个最小化的和。\n- $k$ 以二进制的形式给出，具体地，以 $k = \\sum_{i = 1}^{m} 2^{p_i}$ 的形式给出，保证 $p_i$ 均为非负整数且严格单调递减，即 $p_i > p_{i + 1}$。\n\n由于答案可能很大，你只需要输出对 $998244353$ 取模后的结果。\n\n若无法从 $2^{a_1}, \\ldots, 2^{a_n}$ 中取出一部分使得它们的和 $\\ge k$，该询问输出 $-1$。", "inputFormat": "第一行两个正整数 $n,q$。\n\n第二行 $n$ 个非负整数 $a_1,a_2,\\dots,a_n$。\n\n接下来 $q$ 行，每行第一个非负整数为 $m$，接下来 $m$ 个非负整数为 $p_1,p_2,\\dots,p_m$，表示询问的 $k=\\sum_{i=1}^m 2^{p_i}$。保证 $p_i$ 严格单调递减，即 $p_i>p_{i+1}$。", "outputFormat": "共 $q$ 行，每行一个整数，表示答案对 $998244353$ 取模后的结果，或输出 $-1$ 表示无解。", "hint": "__【样例解释 1】__\n\n每个 $2^{a_i}$ 分别为 $1, 1, 2$。三次询问的 $k$ 为：$0,3,8$。具体如下：\n- $k = 0$：取空。\n- $k = 3$：取 $1, 2$ 即可。\n- $k = 8$：无解。\n\n__【样例解释 2】__\n\n此样例满足子任务 $1$ 的限制。\n\n__【数据范围】__\n\n__本题使用子任务捆绑测试。__\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^6$，$0\\le m\\le 10^6$，$\\sum m\\le 5\\times 10^6$，$0\\le a_i,p_i\\le 10^6$，$p_i>p_{i+1}$。\n\n表格留空表示无额外限制。\n\n| 子任务编号 | $n\\le $        | $q\\le $        | $\\sum m\\le $     | $a_i,p_i \\le $ | 特殊性质       | 分值 |\n| ---------- | -------------- | -------------- | ---------------- | -------------- | -------------- | ---- |\n| $1$        | $20$           |                |                  | $60$           |                | $10$ |\n| $2$        | $120$          |                |                  | $60$           |                | $10$ |\n| $3$        | $5\\times 10^3$ | $5\\times 10^3$ | $2.5\\times 10^4$ | $5\\times 10^3$ |                | $20$ |\n| $4$        | $10^5$         | $10^5$         | $5\\times 10^5$   | $10^5$         |                | $20$ |\n| $5$        |                |                |                  |                | $m\\le 2$       | $10$ |\n| $6$        |                |                |                  |                | $a_i$ 互不相同 | $10$ |\n| $7$        | $10^6$         | $10^6$         | $5\\times 10^6$   | $10^6$         |                | $20$ |\n\n由于本题输入量较大，我们在下发文件中提供了 `fast_read.cpp` 可以选择使用（注意在 C++98 标准下可能无法编译通过）。\n\n保证时间限制达到了没有使用特殊的读入优化的 std 的两倍。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-S1-T4】先见之明", "background": "原题链接：<https://oier.team/problems/S1D>。", "description": "给定 $n$ 个非负整数 $a_1, a_2, \\ldots, a_n$。有 $q$ 次询问，每次询问：\n\n- 给定一个非负整数 $k$，你需要从 $2^{a_1}, \\ldots, 2^{a_n}$ 中取出一部分（即一个子集，可以为空），使得它们的和 $\\ge k$。\n- 在保证和 $\\ge k$ 的前提下，你需要最小化它们的和。你只需求出这个最小化的和。\n- $k$ 以二进制的形式给出，具体地，以 $k = \\sum_{i = 1}^{m} 2^{p_i}$ 的形式给出，保证 $p_i$ 均为非负整数且严格单调递减，即 $p_i > p_{i + 1}$。\n\n由于答案可能很大，你只需要输出对 $998244353$ 取模后的结果。\n\n若无法从 $2^{a_1}, \\ldots, 2^{a_n}$ 中取出一部分使得它们的和 $\\ge k$，该询问输出 $-1$。", "inputFormat": "第一行两个正整数 $n,q$。\n\n第二行 $n$ 个非负整数 $a_1,a_2,\\dots,a_n$。\n\n接下来 $q$ 行，每行第一个非负整数为 $m$，接下来 $m$ 个非负整数为 $p_1,p_2,\\dots,p_m$，表示询问的 $k=\\sum_{i=1}^m 2^{p_i}$。保证 $p_i$ 严格单调递减，即 $p_i>p_{i+1}$。", "outputFormat": "共 $q$ 行，每行一个整数，表示答案对 $998244353$ 取模后的结果，或输出 $-1$ 表示无解。", "hint": "__【样例解释 1】__\n\n每个 $2^{a_i}$ 分别为 $1, 1, 2$。三次询问的 $k$ 为：$0,3,8$。具体如下：\n- $k = 0$：取空。\n- $k = 3$：取 $1, 2$ 即可。\n- $k = 8$：无解。\n\n__【样例解释 2】__\n\n此样例满足子任务 $1$ 的限制。\n\n__【数据范围】__\n\n__本题使用子任务捆绑测试。__\n\n对于 $100\\%$ 的数据，$1\\le n,q\\le 10^6$，$0\\le m\\le 10^6$，$\\sum m\\le 5\\times 10^6$，$0\\le a_i,p_i\\le 10^6$，$p_i>p_{i+1}$。\n\n表格留空表示无额外限制。\n\n| 子任务编号 | $n\\le $        | $q\\le $        | $\\sum m\\le $     | $a_i,p_i \\le $ | 特殊性质       | 分值 |\n| ---------- | -------------- | -------------- | ---------------- | -------------- | -------------- | ---- |\n| $1$        | $20$           |                |                  | $60$           |                | $10$ |\n| $2$        | $120$          |                |                  | $60$           |                | $10$ |\n| $3$        | $5\\times 10^3$ | $5\\times 10^3$ | $2.5\\times 10^4$ | $5\\times 10^3$ |                | $20$ |\n| $4$        | $10^5$         | $10^5$         | $5\\times 10^5$   | $10^5$         |                | $20$ |\n| $5$        |                |                |                  |                | $m\\le 2$       | $10$ |\n| $6$        |                |                |                  |                | $a_i$ 互不相同 | $10$ |\n| $7$        | $10^6$         | $10^6$         | $5\\times 10^6$   | $10^6$         |                | $20$ |\n\n由于本题输入量较大，我们在下发文件中提供了 `fast_read.cpp` 可以选择使用（注意在 C++98 标准下可能无法编译通过）。\n\n保证时间限制达到了没有使用特殊的读入优化的 std 的两倍。", "locale": "zh-CN"}}}
{"pid": "P10676", "type": "P", "difficulty": 1, "samples": [["bilibili\n20", "b20"], ["Luogu\n463", "L463"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "洛谷月赛"], "title": "『STA - R6』b20", "background": "我的 B 站 20 粉丝啦！", "description": "小 A 在各种平台都很活跃，大家经常通过祂在各种平台的粉丝数来称呼祂。\n\n具体地，取出网站名字的第一个字母并拼接上粉丝数量，即得到对应称呼。例如，小 A 在 Bilibili 有 $20$ 粉丝，就称其为 `B20`，小 A 在 wikidot 有 $0$ 粉丝，就称其为 `w0`。\n\n现在，给定小 A 在活跃的网站名字和粉丝数量，输出其对应称呼。", "inputFormat": "第一行一个字符串表示网站名称。\n\n第二行一个非负整数表示粉丝数。", "outputFormat": "一行，表示对应称呼。", "hint": "对于 $30\\%$ 的数据，保证网站名为 `bilibili`。\n\n对于全部数据，网站名称长度不超过 $20$ 且仅含英文字母，粉丝数是不超过 $10^7$ 的非负整数。", "locale": "zh-CN", "translations": {"en": {"title": "『STA - R6』b20", "background": "I've reached 20 followers on Bilibili!", "description": "Xiao A is active on various platforms, and people often refer to him by his follower count on each platform. \n\nSpecifically, take the first letter of the website name (preserving its case) and concatenate it with the follower count to form the corresponding alias. For example, if Xiao A has $20$ followers on Bilibili, the alias is `B20`; if he has $0$ followers on wikidot, the alias is `w0`.\n\nGiven the website name and follower count, output the corresponding alias.", "inputFormat": "The first line contains a string representing the website name.\n\nThe second line contains a non-negative integer representing the follower count.", "outputFormat": "Output the corresponding alias in one line.", "hint": "For $30\\%$ of the data, the website name is guaranteed to be bilibili.\n\nFor all data, the website name is a string of length at most $20$ containing only English letters, and the follower count is a non-negative integer not exceeding $10^7$.\n\nTranslated by DeepSeek R1", "locale": "en"}, "zh-CN": {"title": "『STA - R6』b20", "background": "我的 B 站 20 粉丝啦！", "description": "小 A 在各种平台都很活跃，大家经常通过祂在各种平台的粉丝数来称呼祂。\n\n具体地，取出网站名字的第一个字母并拼接上粉丝数量，即得到对应称呼。例如，小 A 在 Bilibili 有 $20$ 粉丝，就称其为 `B20`，小 A 在 wikidot 有 $0$ 粉丝，就称其为 `w0`。\n\n现在，给定小 A 在活跃的网站名字和粉丝数量，输出其对应称呼。", "inputFormat": "第一行一个字符串表示网站名称。\n\n第二行一个非负整数表示粉丝数。", "outputFormat": "一行，表示对应称呼。", "hint": "对于 $30\\%$ 的数据，保证网站名为 `bilibili`。\n\n对于全部数据，网站名称长度不超过 $20$ 且仅含英文字母，粉丝数是不超过 $10^7$ 的非负整数。", "locale": "zh-CN"}}}
{"pid": "P10677", "type": "P", "difficulty": 2, "samples": [["3 3\n###\n#A#\n###", "A"], ["3 4\n####\n#AB#\n####", "BA"], ["3 4\n####\n#AA#\n####", "A"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "贪心", "洛谷原创", "O2优化", "洛谷月赛"], "title": "『STA - R6』inkar-usi", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/n6w1yuda.png)\n\n（题目背景图片来自 Arcaea 曲绘，如有侵权，请告知出题人。）", "description": "给一个 $n\\times m$ 的字符矩阵，有些位置有障碍（记为字符 `#`），需要在矩阵上找出一条起始点任意的路径（可以重复经过某个格子），使得字典序最大。\n\n可以证明答案一定是有限的或者是由某个长度有限的字符串 $S$ 不断重复得到的。如果答案是有限的，直接输出之；如果答案是无限的，只需输出它的最短循环节。", "inputFormat": "第一行两个正整数 $n,m$。\n\n后 $n$ 行，每行一个长度为 $m$ 的字符串，描述矩阵的第 $n$ 行。", "outputFormat": "一行一个字符串，表示答案。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 1 (20pts)：字符矩阵中除了障碍就是字母 `A`。\n- Subtask 2 (30pts)：$n,m\\le 3$。\n- Subtask 3 (50pts)：无特殊限制。\n\n对于全部数据，$1\\le n,m\\le 10^3$，所有非障碍字符都是大写字母，矩阵至少有一个非障碍格。", "locale": "zh-CN", "translations": {"en": {"title": "『STA - R6』inkar-usi", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/n6w1yuda.png)\n\n(The background image is from the Arcaea song artwork. If there are any copyright issues, please contact the problem author.)", "description": "Given an $n \\times m$ character matrix where some positions are obstacles (denoted as `#`), find a path starting from any cell (revisiting cells is allowed) such that its lexicographical order is maximized.\n\nIt can be proven that the answer is either finite or formed by infinite repetitions of a finite string $S$. If the answer is finite, output it directly. If the answer is infinite, output its shortest repeating cycle.", "inputFormat": "The first line contains two positive integers $n$ and $m$.\n\nThe next $n$ lines each contain a string of length $m$, describing the corresponding row of the matrix.", "outputFormat": "Output a single string representing the answer.", "hint": "**This problem uses subtask scoring.**\n\nData Constraints:\n- Subtask 1 (20 points): All non-obstacle characters in the matrix are `A`.\n- Subtask 2 (30 points): $n, m \\le 3$.\n- Subtask 3 (50 points): No additional constraints.\n\nFor all test cases, $1 \\le n, m \\le 10^3$, all non-obstacle characters are uppercase letters, and the matrix contains at least one non-obstacle cell.\n\nTranslation by DeepSeek R1", "locale": "en"}, "zh-CN": {"title": "『STA - R6』inkar-usi", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/n6w1yuda.png)\n\n（题目背景图片来自 Arcaea 曲绘，如有侵权，请告知出题人。）", "description": "给一个 $n\\times m$ 的字符矩阵，有些位置有障碍（记为字符 `#`），需要在矩阵上找出一条起始点任意的路径（可以重复经过某个格子），使得字典序最大。\n\n可以证明答案一定是有限的或者是由某个长度有限的字符串 $S$ 不断重复得到的。如果答案是有限的，直接输出之；如果答案是无限的，只需输出它的最短循环节。", "inputFormat": "第一行两个正整数 $n,m$。\n\n后 $n$ 行，每行一个长度为 $m$ 的字符串，描述矩阵的第 $n$ 行。", "outputFormat": "一行一个字符串，表示答案。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 1 (20pts)：字符矩阵中除了障碍就是字母 `A`。\n- Subtask 2 (30pts)：$n,m\\le 3$。\n- Subtask 3 (50pts)：无特殊限制。\n\n对于全部数据，$1\\le n,m\\le 10^3$，所有非障碍字符都是大写字母，矩阵至少有一个非障碍格。", "locale": "zh-CN"}}}
{"pid": "P10678", "type": "P", "difficulty": 5, "samples": [["4\n2\n1 1\n3\n1 1 2\n5\n1 1 2 2 2\n7\n1 3 2 3 1 1 1", "2 1\n1 3\n3 2\n5 4\n4 2\n3 1\n3 5\n4 2\n3 2\n1 2\n5 4\n6 4\n7 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "Special Judge", "O2优化", "树的直径", "树论", "构造", "洛谷月赛"], "title": "『STA - R6』月", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/azq4hrv9.png)", "description": "对于一棵有 $n$ 个节点的树 $T$，定义其直径 $\\operatorname{diam}(T)$ 为任意两个节点之间距离的最大值。\n\n给定正整数 $n$ 和每个点 $i$ 的度数 $d_i$，你需要构造一棵树 $T^\\prime$，同时最小化 $\\operatorname{diam}(T^\\prime)$。\n\n保证至少存在一棵符合要求的树，若存在多个符合要求的答案，输出任意一个即可。", "inputFormat": "**本题单个测试点内含有多组测试数据。**\n\n第一行一个正整数 $T$，代表测试数据组数。\n\n对于每组测试数据，\n\n- 第一行一个正整数 $n$。\n\n- 第二行 $n$ 个正整数，第 $i$ 个正整数表示点 $i$ 的度数 $d_i$。", "outputFormat": "对于每组测试数据，输出 $n - 1$ 行，每行两个正整数 $u_i, v_i$，表示构造出的树的边集。", "hint": "**【样例解释】**\n\n对于最后一组数据，所构造出的树如下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3mjz6jmf.png)\n\n其直径等于点 $5,7$ 之间或点 $6,7$ 之间的距离，为 $4$。可以证明，不存在满足条件的直径小于 $4$ 的树。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：\n\n- $2 \\le n \\le 2 \\times 10^5$；\n- $1 \\le T \\le 10^5$；\n- $\\sum n \\le 2 \\times 10^5$；\n- $1 \\le d_i < n$；\n- 保证至少存在一个合法的解。\n\n具体部分分分配如下：\n\n|Subtask 编号|数据范围|分值|\n|:--------:|:--------:|:--------:|\n|1|$n \\le 5$|$17$|\n|2|$d_i \\le 2$|$23$|\n|3|$d$ 中只含有两种本质不同的元素|$26$|\n|4|无特殊限制|$34$|", "locale": "zh-CN", "translations": {"en": {"title": "『STA - R6』Moon", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/azq4hrv9.png)\n", "description": "For a tree $T$ with $n$ nodes, its diameter $\\operatorname{diam}(T)$ is defined as the maximum distance between any two nodes.\n\nGiven a positive integer $n$ and the degree $d_i$ of each node $i$, construct a tree $T^\\prime$ that minimizes $\\operatorname{diam}(T^\\prime)$. It is guaranteed that at least one valid tree exists. If multiple valid answers exist, output any one of them.", "inputFormat": "**This problem contains multiple test cases within a single test point.**\n\nThe first line contains a positive integer $T$, representing the number of test cases.\n\nFor each test case:\n- The first line contains a positive integer $n$.\n- The second line contains $n$ positive integers, where the $i$-th integer denotes the degree $d_i$ of node $i$.", "outputFormat": "For each test case, output $n - 1$ lines. Each line contains two positive integers $u_i$ and $v_i$, representing the edges of the constructed tree.", "hint": "**Sample Explanation**\n\nFor the last test case in the sample input, the constructed tree is shown below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3mjz6jmf.png)\n\nIts diameter equals the distance between nodes $5$ and $7$ or nodes $6$ and $7$, which is $4$. It can be proven that no tree satisfying the conditions has a diameter smaller than $4$.\n\n**Data Constraints**\n\n**This problem uses subtask scoring.**\n\nFor $100\\%$ of the data:\n- $2 \\le n \\le 2 \\times 10^5$;\n- $1 \\le T \\le 10^5$;\n- $\\sum n \\le 2 \\times 10^5$;\n- $1 \\le d_i < n$;\n- It is guaranteed that at least one valid solution exists.\n\nDetailed subtask allocations are as follows:\n\n| Subtask ID | Data Range | Points |\n|:----------:|:----------:|:------:|\n| 1          | $n \\le 5$  | 17     |\n| 2          | $d_i \\le 2$| 23     |\n| 3          | $d$ contains only two distinct values | 26 |\n| 4          | No additional constraints | 34 |\n\nTranslation by DeepSeek R1", "locale": "en"}, "zh-CN": {"title": "『STA - R6』月", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/azq4hrv9.png)", "description": "对于一棵有 $n$ 个节点的树 $T$，定义其直径 $\\operatorname{diam}(T)$ 为任意两个节点之间距离的最大值。\n\n给定正整数 $n$ 和每个点 $i$ 的度数 $d_i$，你需要构造一棵树 $T^\\prime$，同时最小化 $\\operatorname{diam}(T^\\prime)$。\n\n保证至少存在一棵符合要求的树，若存在多个符合要求的答案，输出任意一个即可。", "inputFormat": "**本题单个测试点内含有多组测试数据。**\n\n第一行一个正整数 $T$，代表测试数据组数。\n\n对于每组测试数据，\n\n- 第一行一个正整数 $n$。\n\n- 第二行 $n$ 个正整数，第 $i$ 个正整数表示点 $i$ 的度数 $d_i$。", "outputFormat": "对于每组测试数据，输出 $n - 1$ 行，每行两个正整数 $u_i, v_i$，表示构造出的树的边集。", "hint": "**【样例解释】**\n\n对于最后一组数据，所构造出的树如下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3mjz6jmf.png)\n\n其直径等于点 $5,7$ 之间或点 $6,7$ 之间的距离，为 $4$。可以证明，不存在满足条件的直径小于 $4$ 的树。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据：\n\n- $2 \\le n \\le 2 \\times 10^5$；\n- $1 \\le T \\le 10^5$；\n- $\\sum n \\le 2 \\times 10^5$；\n- $1 \\le d_i < n$；\n- 保证至少存在一个合法的解。\n\n具体部分分分配如下：\n\n|Subtask 编号|数据范围|分值|\n|:--------:|:--------:|:--------:|\n|1|$n \\le 5$|$17$|\n|2|$d_i \\le 2$|$23$|\n|3|$d$ 中只含有两种本质不同的元素|$26$|\n|4|无特殊限制|$34$|", "locale": "zh-CN"}}}
{"pid": "P10679", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3", "1.3333333"], ["3\n2 4 7", "2.5000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "Special Judge", "O2优化", "枚举", "洛谷月赛"], "title": "『STA - R6』spec", "background": "", "description": "  定义一个实数 $\\alpha$ 的谱 $\\operatorname{Spec}(\\alpha)$ 是整数组成的一个无限长的序列 $\\lceil\\alpha\\rceil-1,\\lceil2\\alpha\\rceil-1,\\lceil3\\alpha\\rceil-1,\\cdots$。例如，$\\frac35$ 的谱的开头部分是 $0,1,1,2,2,3,4,\\cdots$。\n\n现在给定 $n$ 个整数 $x_1,\\cdots,x_n$，你要找到最大的实数 $\\alpha$，使得对于每个元素 $x_i$ 都有 $x_i$ 在 $\\operatorname{Spec}(\\alpha)$ 中出现过。\n", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数 $x_1,x_2,\\cdots,x_n$。", "outputFormat": "一行，表示最大的 $\\alpha$。你的答案与标准答案的绝对误差低于 $10^{-5}$ 即判为正确。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 0 (10pts)：$n,x_i\\le 100$。\n- Subtask 1 (15pts)：合法答案构成一段连续区间。\n- Subtask 2 (25pts)：每个 $x_i$ 都是 2 的非负整数次幂。\n- Subtask 3 (50pts)：无特殊限制。\n\n对于全部数据，$1\\le n,x_i\\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "『STA - R6』spec", "background": "", "description": "The **spectrum** $\\operatorname{Spec}(\\alpha)$ of a real number $\\alpha$ is an infinite sequence of integers defined as $\\lceil \\alpha \\rceil - 1, \\lceil 2\\alpha \\rceil - 1, \\lceil 3\\alpha \\rceil - 1, \\cdots$. For example, the beginning of the spectrum of $\\frac{3}{5}$ is $0, 1, 1, 2, 2, 3, 4, \\cdots$.\n\nGiven $n$ integers $x_1, x_2, \\ldots, x_n$, find the largest real number $\\alpha$ such that every $x_i$ appears in $\\operatorname{Spec}(\\alpha)$.", "inputFormat": "The first line contains a positive integer $n$.\n\nThe second line contains $n$ positive integers $x_1, x_2, \\ldots, x_n$.", "outputFormat": "Output the largest $\\alpha$. Your answer will be considered correct if its absolute error is less than $10^{-5}$.", "hint": "**This problem uses subtask scoring.**\n\nData Constraints:\n- Subtask 0 (10 points): $n, x_i \\le 100$.\n- Subtask 1 (15 points): Valid answers form a continuous interval.\n- Subtask 2 (25 points): Every $x_i$ is a non-negative integer power of 2.\n- Subtask 3 (50 points): No additional constraints.\n\nFor all test cases, $1 \\le n, x_i \\le 1000$.\n\nTranslation by DeepSeek R1", "locale": "en"}, "zh-CN": {"title": "『STA - R6』spec", "background": "", "description": "  定义一个实数 $\\alpha$ 的谱 $\\operatorname{Spec}(\\alpha)$ 是整数组成的一个无限长的序列 $\\lceil\\alpha\\rceil-1,\\lceil2\\alpha\\rceil-1,\\lceil3\\alpha\\rceil-1,\\cdots$。例如，$\\frac35$ 的谱的开头部分是 $0,1,1,2,2,3,4,\\cdots$。\n\n现在给定 $n$ 个整数 $x_1,\\cdots,x_n$，你要找到最大的实数 $\\alpha$，使得对于每个元素 $x_i$ 都有 $x_i$ 在 $\\operatorname{Spec}(\\alpha)$ 中出现过。\n", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数 $x_1,x_2,\\cdots,x_n$。", "outputFormat": "一行，表示最大的 $\\alpha$。你的答案与标准答案的绝对误差低于 $10^{-5}$ 即判为正确。", "hint": "**本题采用捆绑测试。**\n\n数据范围：\n- Subtask 0 (10pts)：$n,x_i\\le 100$。\n- Subtask 1 (15pts)：合法答案构成一段连续区间。\n- Subtask 2 (25pts)：每个 $x_i$ 都是 2 的非负整数次幂。\n- Subtask 3 (50pts)：无特殊限制。\n\n对于全部数据，$1\\le n,x_i\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P10680", "type": "P", "difficulty": 5, "samples": [["5 3\n4 8 2 0 7\n2 1 2\n1 1 9\n2 2 1", "2\n6"], ["8 6\n1 2 3 4 5 6 7 8\n2 1 3\n1 4 1\n1 7 3\n2 1 3\n1 2 100\n2 2 2", "0\n3\n93"], ["9 5\n1 0 2 0 4 1 3 2 8\n2 2 3\n2 1 3\n1 5 1\n1 6 4\n2 4 2", "2\n1\n0"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "ST 表", "根号分治", "COTS（克罗地亚）"], "title": "[COTS 2024] 双双决斗 Dvoboj", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D1T1。$\\texttt{2s,1G}$。\n\n> Two pharaonic yellow lines turned into an eye...", "description": "Jusuf 手里有 $N$ 张卡牌，从左到右编号为 $1$ 到 $N$。每张卡牌的力量为 $p_i$。由于 Jusuf 即将参加比赛，他想要在脑中想象战斗。有时候，他也会更改卡牌的力量值。Jusuf 总共会做 $Q$ 次操作，每个操作属于以下两种类型之一：\n\n1. `1 i r`：Jusuf 将位于位置 $i$ 的卡牌的力量设为 $r$，即 $p_i\\gets r$。\n\n2. `2 l k`：Jusuf 在脑中想象一场战斗。这场战斗使用从第 $l,l+1,\\cdots,l + 2^k − 1$ 张，共 $2^k$ 张卡牌。\n\n    战斗将会进行 $k$ 轮。每轮中，Jusuf 将第 $(2i-1)$ 和第 $2i$ 张卡牌分成一组（例如第 $1$ 张和第 $2$ 张卡牌为一组）。\n    \n    对于每组卡牌，Jusuf 比较它们的力量。不妨设两张卡牌的力量分别为 $A$ 和 $B$，力量更大的卡牌将获胜，且获胜卡牌的力量变为 $|A − B|$，另一张卡牌被移除。特别地，如果 $A=B$，则这场战斗的结果无法确定，将会随机一张卡牌获胜，力量变为 $0$。\n    \n    注意到，在 $k$ 轮后，只会剩下一张卡牌，Jusuf 想要知道此时它的力量大小。\n\n由于 Jusuf 只是在脑中想象战斗，所以实际上牌的数量不会改变，$p_i$ 也不会改变。\n", "inputFormat": "第一行，两个正整数 $N,Q$，含义见题面。\n\n第二行，$n$ 个整数，第 $i$ 个整数表示 $p_i$。\n\n接下来 $Q$ 行，每行 $3$ 个正整数，描述一个操作。", "outputFormat": "对于每个操作 $2$，输出一行一个整数，表示所求的力量大小。", "hint": "\n#### 样例解释\n\n对于样例 $1$ 的第一个询问，有：\n\n$$(\\bold{\\textcolor{red}{4}},8,\\bold{\\textcolor{red}{2}},0)\\to (\\bold{\\textcolor{red}{4}},2)\\to(2)$$\n\n对于样例 $1$ 的第二个询问，有：\n\n$$ (\\bold{\\textcolor{red}{8}},2)\\to(6)$$\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le N\\le 200\\, 000$，$1\\le Q\\le 200\\, 000$；\n- $0\\le p_i\\le 10^9$；\n- $1\\le i\\le N$，$0\\le r\\le 10^9$；\n- $1\\le l\\le N$，$1\\le l+{2^k}-1\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$   | $11$    | $N, Q \\leq 1000$ |\n| $2$    | $13$    | $N=2^k$ |\n| $3$    | $16$    | $0\\le p_i,r\\le 1$ |\n| $4$    | $17$    | 不含修改操作 |\n| $5$    | $43$    | 无额外约束 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2024] 双双决斗 Dvoboj", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D1T1。$\\texttt{2s,1G}$。\n\n> Two pharaonic yellow lines turned into an eye...", "description": "Jusuf 手里有 $N$ 张卡牌，从左到右编号为 $1$ 到 $N$。每张卡牌的力量为 $p_i$。由于 Jusuf 即将参加比赛，他想要在脑中想象战斗。有时候，他也会更改卡牌的力量值。Jusuf 总共会做 $Q$ 次操作，每个操作属于以下两种类型之一：\n\n1. `1 i r`：Jusuf 将位于位置 $i$ 的卡牌的力量设为 $r$，即 $p_i\\gets r$。\n\n2. `2 l k`：Jusuf 在脑中想象一场战斗。这场战斗使用从第 $l,l+1,\\cdots,l + 2^k − 1$ 张，共 $2^k$ 张卡牌。\n\n    战斗将会进行 $k$ 轮。每轮中，Jusuf 将第 $(2i-1)$ 和第 $2i$ 张卡牌分成一组（例如第 $1$ 张和第 $2$ 张卡牌为一组）。\n    \n    对于每组卡牌，Jusuf 比较它们的力量。不妨设两张卡牌的力量分别为 $A$ 和 $B$，力量更大的卡牌将获胜，且获胜卡牌的力量变为 $|A − B|$，另一张卡牌被移除。特别地，如果 $A=B$，则这场战斗的结果无法确定，将会随机一张卡牌获胜，力量变为 $0$。\n    \n    注意到，在 $k$ 轮后，只会剩下一张卡牌，Jusuf 想要知道此时它的力量大小。\n\n由于 Jusuf 只是在脑中想象战斗，所以实际上牌的数量不会改变，$p_i$ 也不会改变。\n", "inputFormat": "第一行，两个正整数 $N,Q$，含义见题面。\n\n第二行，$n$ 个整数，第 $i$ 个整数表示 $p_i$。\n\n接下来 $Q$ 行，每行 $3$ 个正整数，描述一个操作。", "outputFormat": "对于每个操作 $2$，输出一行一个整数，表示所求的力量大小。", "hint": "\n#### 样例解释\n\n对于样例 $1$ 的第一个询问，有：\n\n$$(\\bold{\\textcolor{red}{4}},8,\\bold{\\textcolor{red}{2}},0)\\to (\\bold{\\textcolor{red}{4}},2)\\to(2)$$\n\n对于样例 $1$ 的第二个询问，有：\n\n$$ (\\bold{\\textcolor{red}{8}},2)\\to(6)$$\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $2\\le N\\le 200\\, 000$，$1\\le Q\\le 200\\, 000$；\n- $0\\le p_i\\le 10^9$；\n- $1\\le i\\le N$，$0\\le r\\le 10^9$；\n- $1\\le l\\le N$，$1\\le l+{2^k}-1\\le N$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$   | $11$    | $N, Q \\leq 1000$ |\n| $2$    | $13$    | $N=2^k$ |\n| $3$    | $16$    | $0\\le p_i,r\\le 1$ |\n| $4$    | $17$    | 不含修改操作 |\n| $5$    | $43$    | 无额外约束 |\n\n", "locale": "zh-CN"}}}
{"pid": "P10681", "type": "P", "difficulty": 6, "samples": [["2 2", "7"], ["3 3", "102"], ["15 20", "415131258"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "递推", "2024", "O2优化", "生成函数", "线性递推", "COTS（克罗地亚）"], "title": "[COTS 2024] 奇偶矩阵 Tablica", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D1T2。$\\texttt{1s,1G}。$", "description": "考虑只包含 $0$ 和 $1$ 的 $N\\times M$ 矩阵 $A$。\n\n我们称满足以下条件的矩阵是好的：\n\n- $\\forall 1\\le i\\le N$，$\\displaystyle \\sum_{j=1}^M A_{i,j}\\in \\{1,2\\}$；\n- $\\forall 1\\le j\\le M$，$\\displaystyle \\sum_{i=1}^N A_{i,j}\\in \\{1,2\\}$。\n\n求出 $N$ 行 $M$ 列的好的矩阵的数量，对 $(10^9+7)$ 取模。\n\n", "inputFormat": "输入共一行两个正整数，即 $N,M$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释如图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xufx7ad6.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，$1\\le N,M\\le 3\\, 000$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $10$  | $N, M \\leq 6$   |\n| $2$  | $18$  | $N, M \\leq 50$  |\n| $3$  | $31$  | $N, M \\leq 200$ |\n| $4$  | $41$  | 无额外约束 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2024] 奇偶矩阵 Tablica", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D1T2。$\\texttt{1s,1G}。$", "description": "考虑只包含 $0$ 和 $1$ 的 $N\\times M$ 矩阵 $A$。\n\n我们称满足以下条件的矩阵是好的：\n\n- $\\forall 1\\le i\\le N$，$\\displaystyle \\sum_{j=1}^M A_{i,j}\\in \\{1,2\\}$；\n- $\\forall 1\\le j\\le M$，$\\displaystyle \\sum_{i=1}^N A_{i,j}\\in \\{1,2\\}$。\n\n求出 $N$ 行 $M$ 列的好的矩阵的数量，对 $(10^9+7)$ 取模。\n\n", "inputFormat": "输入共一行两个正整数，即 $N,M$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释如图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xufx7ad6.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，$1\\le N,M\\le 3\\, 000$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $10$  | $N, M \\leq 6$   |\n| $2$  | $18$  | $N, M \\leq 50$  |\n| $3$  | $31$  | $N, M \\leq 200$ |\n| $4$  | $41$  | 无额外约束 |\n\n", "locale": "zh-CN"}}}
{"pid": "P10682", "type": "P", "difficulty": 6, "samples": [["4 4\n1 2\n2 3\n3 4\n1 4", "8"], ["4 4\n1 3\n1 4\n2 3\n2 4", "16"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "线性代数", "线性基", "COTS（克罗地亚）"], "title": "[COTS 2024] 奇偶南瓜 Tikvani", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D1T3。$\\texttt{0.5s,1G}$。", "description": "给定有向图 $G=(V,E)$，其中 $|V|=N,|E|=M$，满足 $\\forall (u,v)\\in E$，都有 $u\\lt v$。\n\n定义边的一种**着色方案**为一种给每条边分配 $0/1$ 权值的方式。记 $(u,v)$ 边权为 $w(u,v)$。\n\n定义节点 $(u,v)$ 的路径为一个序列 $(a_1,a_2,\\cdots,a_k)$，满足 $a_1=u,a_k=v$，且 $\\forall 1\\le i\\lt k$，都有 $(a_i,a_{i+1})\\in E$。定义路径的权值为其上所有边的权值之和，即 $\\displaystyle \\sum_{i=1}^{k-1} w(a_{i},a_{i+1})$。\n\n定义一种着色方案是好的，当且仅当对于每一对 $(u,v)$，都有 $(u,v)$ 间的所有路径的权值模 $2$ 后的余数相等。\n\n求出好的着色方案数，对 $(10^9+7)$ 取模。", "inputFormat": "第一行，两个正整数，$N,M$，含义见题面。\n\n接下来 $M$ 行，每行两个正整数 $u,v$，表示 $(u,v)\\in E$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：显然只有 $1,4$ 间有两条路径 $(1,2,3,4),(1,4)$。\n\n当 $w(1,4)=0$ 时，$(1,2,3,4)$ 路径上只能取 $0$ 或 $2$ 条边边权为 $1$，方案数为 $4$；\n\n当 $w(1,4)=1$ 时，$(1,2,3,4)$ 路径上只能取 $1$ 或 $3$ 条边边权为 $1$，方案数为 $4$。\n\n所以答案为 $8$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 400$，$0\\le M\\le 400$；\n- $1\\le u\\lt v\\le n$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $21$  | $N \\leq 6$   |\n| $2$  | $20$  | $N \\leq 13$  |\n| $3$  | $37$  | $N, M \\leq 50$ |\n| $4$  | $22$  | 无额外约束 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2024] 奇偶南瓜 Tikvani", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D1T3。$\\texttt{0.5s,1G}$。", "description": "给定有向图 $G=(V,E)$，其中 $|V|=N,|E|=M$，满足 $\\forall (u,v)\\in E$，都有 $u\\lt v$。\n\n定义边的一种**着色方案**为一种给每条边分配 $0/1$ 权值的方式。记 $(u,v)$ 边权为 $w(u,v)$。\n\n定义节点 $(u,v)$ 的路径为一个序列 $(a_1,a_2,\\cdots,a_k)$，满足 $a_1=u,a_k=v$，且 $\\forall 1\\le i\\lt k$，都有 $(a_i,a_{i+1})\\in E$。定义路径的权值为其上所有边的权值之和，即 $\\displaystyle \\sum_{i=1}^{k-1} w(a_{i},a_{i+1})$。\n\n定义一种着色方案是好的，当且仅当对于每一对 $(u,v)$，都有 $(u,v)$ 间的所有路径的权值模 $2$ 后的余数相等。\n\n求出好的着色方案数，对 $(10^9+7)$ 取模。", "inputFormat": "第一行，两个正整数，$N,M$，含义见题面。\n\n接下来 $M$ 行，每行两个正整数 $u,v$，表示 $(u,v)\\in E$。", "outputFormat": "输出一行一个整数，表示答案对 $(10^9+7)$ 取模后的结果。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：显然只有 $1,4$ 间有两条路径 $(1,2,3,4),(1,4)$。\n\n当 $w(1,4)=0$ 时，$(1,2,3,4)$ 路径上只能取 $0$ 或 $2$ 条边边权为 $1$，方案数为 $4$；\n\n当 $w(1,4)=1$ 时，$(1,2,3,4)$ 路径上只能取 $1$ 或 $3$ 条边边权为 $1$，方案数为 $4$。\n\n所以答案为 $8$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le N\\le 400$，$0\\le M\\le 400$；\n- $1\\le u\\lt v\\le n$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $21$  | $N \\leq 6$   |\n| $2$  | $20$  | $N \\leq 13$  |\n| $3$  | $37$  | $N, M \\leq 50$ |\n| $4$  | $22$  | 无额外约束 |\n\n", "locale": "zh-CN"}}}
{"pid": "P10683", "type": "P", "difficulty": 6, "samples": [["2 0\n4 \n1 1 2 3\n1 2 3 3\n7\n1 1 1 1 2 3 4\n1 2 3 4 4 4 4", "2\n4"], ["3 1\n4\n1 1 2 3\n1 2 3 3\n4\n1 1 1 1\n1 2 3 3\n7\n1 1 1 1 2 3 4\n1 2 3 4 4 4 4", "2\n1\n2"], ["3 2\n4 \n1 1 2 3\n1 2 3 3\n4\n1 1 1 3\n1 2 3 3\n7\n1 1 1 2 3 4 5\n1 2 3 4 4 4 4", "3\n3\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "O2优化", "二分图", "COTS（克罗地亚）"], "title": "[COTS 2024] 划分 Particija", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D2T1。$\\texttt{1s,512M}$。", "description": "\n\n给定正整数 $ N $。\n\n集合 $ \\{1, 2, \\ldots, N\\} $ 的**划分**为由非空集合组成的集族，满足：\n- $\\forall 1\\le i\\le N$，$i$ 出现在**恰好一个**集合中。\n\n例如，$\\{\\{1,3\\},\\{2,4\\},\\{5\\}\\}$ 是集合 $ \\{1, 2, 3, 4, 5\\} $ 的一个划分。\n\n可以用数列 $ [x_1, x_2, \\ldots, x_N ]$ 来表示划分。当且仅当 $ x_i = x_j $ 时，$ i $ 和 $ j $ 在同一个集合中。上面提到的划分 $\\{\\{1,3\\},\\{2,4\\},\\{5\\}\\}$ 可以由数列 $[1, 2, 1, 2, 3]$ 或者 $[5, 1, 5, 1, 4]$ 表示。\n\nPatricija 拥有两个划分：第一个划分用数列 $ [a_1, a_2, \\ldots, a_N] $ 表示，第二个划分用数列 $ [b_1, b_2, \\ldots, b_N] $ 表示。\n\nPatricija 想知道以下问题的答案：如果她使用这两个划分中的集合，来构造集合 $ \\{1, 2, \\ldots, N\\} $ 的划分，至少需要多少个集合。\n\n\n给定参数 $k\\in \\{0,1,2\\}$，\n\n- 当 $k=0$ 时，你需要回答原问题的答案。\n- 当 $k=1$ 时，允许更改 $2N$ 个数字（$a_1,\\cdots,a_N,b_1,\\cdots,b_N$）中**至多**一个，**最小化**构造划分需要的最少集合数。\n- 当 $k=2$ 时，允许更改 $2N$ 个数字（$a_1,\\cdots,a_N,b_1,\\cdots,b_N$）中**至多**一个，**最大化**构造划分需要的最少集合数。\n\n请注意，你需要保证在你修改后，$\\forall 1\\le i\\le N$，$1\\le a_i,b_i\\le N$。", "inputFormat": "\n**本题单个测试点内有多组测试数据。**\n\n第一行，两个整数 $T,k$，分别表示测试数据数量，以及参数。\n\n接下来依次描述 $T$ 组测试数据：\n\n对于每组测试数据，输入三行。\n\n第一行，一个正整数 $N$，含义见题面；\n\n第二行，$N$ 个正整数，依次表示 $a_1,a_2,\\cdots,a_N$；\n\n第三行，$N$ 个正整数，依次表示 $b_1,b_2,\\cdots,b_N$。\n\n", "outputFormat": "\n对于每组测试数据，输出一行一个整数，表示所求的答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：\n\n对于第一组数据，第一个划分为 $\\{\\{1,2\\},\\{3\\},\\{4\\}\\}$，第二个划分为 $\\{\\{1\\},\\{2\\},\\{3,4\\}\\}$。选取 $\\{1,2\\},\\{3,4\\}$ 即可。\n\n对于第二组数据，第一个划分为 $\\{\\{1,2,3,4\\},\\{5\\},\\{6\\},\\{7\\}\\}$，第二个划分为 $\\{\\{1\\},\\{2\\},\\{3\\},\\{4,5,6,7\\}\\}$。选取第一个划分或第二个划分即可。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T\\le 200\\, 000$，$k\\in \\{0,1,2\\}$；\n- $1\\le a_i,b_i\\le N$；\n- $1\\le N,\\sum N\\le 200\\, 000$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $7$  | $k=0,N\\le 8,\\sum 2^N\\le 10^5$   |\n| $2$  | $23$  | $k=0$  |\n| $3$  | $15$  | $k=1,N\\le 1\\, 000,\\sum N^2\\le 10^6$ |\n| $4$  | $16$  | $k=1$ |\n| $5$  | $19$  | $k=2,N\\le 1\\, 000,\\sum N^2\\le 10^6$ |\n| $6$  | $20$  | $k=2$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2024] 划分 Particija", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D2T1。$\\texttt{1s,512M}$。", "description": "\n\n给定正整数 $ N $。\n\n集合 $ \\{1, 2, \\ldots, N\\} $ 的**划分**为由非空集合组成的集族，满足：\n- $\\forall 1\\le i\\le N$，$i$ 出现在**恰好一个**集合中。\n\n例如，$\\{\\{1,3\\},\\{2,4\\},\\{5\\}\\}$ 是集合 $ \\{1, 2, 3, 4, 5\\} $ 的一个划分。\n\n可以用数列 $ [x_1, x_2, \\ldots, x_N ]$ 来表示划分。当且仅当 $ x_i = x_j $ 时，$ i $ 和 $ j $ 在同一个集合中。上面提到的划分 $\\{\\{1,3\\},\\{2,4\\},\\{5\\}\\}$ 可以由数列 $[1, 2, 1, 2, 3]$ 或者 $[5, 1, 5, 1, 4]$ 表示。\n\nPatricija 拥有两个划分：第一个划分用数列 $ [a_1, a_2, \\ldots, a_N] $ 表示，第二个划分用数列 $ [b_1, b_2, \\ldots, b_N] $ 表示。\n\nPatricija 想知道以下问题的答案：如果她使用这两个划分中的集合，来构造集合 $ \\{1, 2, \\ldots, N\\} $ 的划分，至少需要多少个集合。\n\n\n给定参数 $k\\in \\{0,1,2\\}$，\n\n- 当 $k=0$ 时，你需要回答原问题的答案。\n- 当 $k=1$ 时，允许更改 $2N$ 个数字（$a_1,\\cdots,a_N,b_1,\\cdots,b_N$）中**至多**一个，**最小化**构造划分需要的最少集合数。\n- 当 $k=2$ 时，允许更改 $2N$ 个数字（$a_1,\\cdots,a_N,b_1,\\cdots,b_N$）中**至多**一个，**最大化**构造划分需要的最少集合数。\n\n请注意，你需要保证在你修改后，$\\forall 1\\le i\\le N$，$1\\le a_i,b_i\\le N$。", "inputFormat": "\n**本题单个测试点内有多组测试数据。**\n\n第一行，两个整数 $T,k$，分别表示测试数据数量，以及参数。\n\n接下来依次描述 $T$ 组测试数据：\n\n对于每组测试数据，输入三行。\n\n第一行，一个正整数 $N$，含义见题面；\n\n第二行，$N$ 个正整数，依次表示 $a_1,a_2,\\cdots,a_N$；\n\n第三行，$N$ 个正整数，依次表示 $b_1,b_2,\\cdots,b_N$。\n\n", "outputFormat": "\n对于每组测试数据，输出一行一个整数，表示所求的答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：\n\n对于第一组数据，第一个划分为 $\\{\\{1,2\\},\\{3\\},\\{4\\}\\}$，第二个划分为 $\\{\\{1\\},\\{2\\},\\{3,4\\}\\}$。选取 $\\{1,2\\},\\{3,4\\}$ 即可。\n\n对于第二组数据，第一个划分为 $\\{\\{1,2,3,4\\},\\{5\\},\\{6\\},\\{7\\}\\}$，第二个划分为 $\\{\\{1\\},\\{2\\},\\{3\\},\\{4,5,6,7\\}\\}$。选取第一个划分或第二个划分即可。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T\\le 200\\, 000$，$k\\in \\{0,1,2\\}$；\n- $1\\le a_i,b_i\\le N$；\n- $1\\le N,\\sum N\\le 200\\, 000$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $7$  | $k=0,N\\le 8,\\sum 2^N\\le 10^5$   |\n| $2$  | $23$  | $k=0$  |\n| $3$  | $15$  | $k=1,N\\le 1\\, 000,\\sum N^2\\le 10^6$ |\n| $4$  | $16$  | $k=1$ |\n| $5$  | $19$  | $k=2,N\\le 1\\, 000,\\sum N^2\\le 10^6$ |\n| $6$  | $20$  | $k=2$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P10684", "type": "P", "difficulty": 7, "samples": [["5 2\nCPCPC\nPCCPC\n1 1 4\n1 1 2", "3\n4\n5"], ["5 0\nCPPCC\nPPCCP", "4"], ["10 7\nCCPPPCCPCP\nPPPCCCPCCC\n1 2 7\n2 1 4\n2 1 8\n1 1 9\n2 1 1\n1 2 7\n1 1 4", "8\n9\n10\n10\n9\n8\n7\n8"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "线段树", "2024", "O2优化", "COTS（克罗地亚）"], "title": "[COTS 2024] 分割 Segregacija", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D2T2。$\\texttt{5s,512M}$。\n\n**请不要滥用本题评测。滥用本题评测将被封号。**", "description": "\nPero 有一个 $2$ 行 $N$ 列的矩阵，每个格子里有一个红球或蓝球。\n\nPero 想要重排矩阵中的球，使得所有蓝球位于矩阵的左上侧，所有红球位于右下侧。更为具体地说，重排后，不能存在一个红球位于某个蓝球的上方或左侧。\n\n为此，Pero 可以多次交换相邻的两个球。**两个球是相邻的当且仅当它们所在的格子有公共边。** Pero 想知道达到目标所需的最少交换次数。\n\n此外，Pero 会交换矩阵中的相邻两个球 $Q$ 次，并在每次变更后询问当前矩阵状态所需的最小交换次数。请帮助 Pero，输出初始矩阵下以及每次交换后所需的最小交换次数。", "inputFormat": "\n第一行，两个整数 $N,Q$，含义见题面。\n\n接下来两行，每行一个长度为 $N$ 的字符串，描述这个矩阵。其中 $\\texttt{C}$ 代表红球，$\\texttt{P}$ 代表蓝球。\n\n接下来 $Q$ 行，每行三个正整数 $t,x,y$，描述一次交换操作。\n\n- $t=1$ 时，表示交换 $(x,y),(x,y+1)$；\n- $t=2$ 时，表示交换 $(x,y),(x+1,y)$。\n\n保证交换的两个位置都在矩阵内。\n", "outputFormat": "\n输出 $(Q+1)$ 行，分别表示初始矩阵的答案和每次修改后的答案。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：对于初始状态，只需要依次交换 $(1,1),(2,1)$，$(1,3),(1,4)$，$(1,4),(2,4)$ 即可。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le  10^6$，$0\\le Q\\le 10^6$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $7$  | $N\\le 10$   |\n| $2$  | $11$  | 最多只有 $10$ 个 $\\texttt{C}$  |\n| $3$  | $17$  | $N,Q\\le 500$ |\n| $4$  | $10$  | $N,Q\\le 5\\, 000$ |\n| $5$  | $13$  | $N\\le 100\\, 000, Q\\le 100$ |\n| $6$  | $15$  | $t=2$ |\n| $7$  | $27$  | 无额外约束 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2024] 分割 Segregacija", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D2T2。$\\texttt{5s,512M}$。\n\n**请不要滥用本题评测。滥用本题评测将被封号。**", "description": "\nPero 有一个 $2$ 行 $N$ 列的矩阵，每个格子里有一个红球或蓝球。\n\nPero 想要重排矩阵中的球，使得所有蓝球位于矩阵的左上侧，所有红球位于右下侧。更为具体地说，重排后，不能存在一个红球位于某个蓝球的上方或左侧。\n\n为此，Pero 可以多次交换相邻的两个球。**两个球是相邻的当且仅当它们所在的格子有公共边。** Pero 想知道达到目标所需的最少交换次数。\n\n此外，Pero 会交换矩阵中的相邻两个球 $Q$ 次，并在每次变更后询问当前矩阵状态所需的最小交换次数。请帮助 Pero，输出初始矩阵下以及每次交换后所需的最小交换次数。", "inputFormat": "\n第一行，两个整数 $N,Q$，含义见题面。\n\n接下来两行，每行一个长度为 $N$ 的字符串，描述这个矩阵。其中 $\\texttt{C}$ 代表红球，$\\texttt{P}$ 代表蓝球。\n\n接下来 $Q$ 行，每行三个正整数 $t,x,y$，描述一次交换操作。\n\n- $t=1$ 时，表示交换 $(x,y),(x,y+1)$；\n- $t=2$ 时，表示交换 $(x,y),(x+1,y)$。\n\n保证交换的两个位置都在矩阵内。\n", "outputFormat": "\n输出 $(Q+1)$ 行，分别表示初始矩阵的答案和每次修改后的答案。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：对于初始状态，只需要依次交换 $(1,1),(2,1)$，$(1,3),(1,4)$，$(1,4),(2,4)$ 即可。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le  10^6$，$0\\le Q\\le 10^6$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $7$  | $N\\le 10$   |\n| $2$  | $11$  | 最多只有 $10$ 个 $\\texttt{C}$  |\n| $3$  | $17$  | $N,Q\\le 500$ |\n| $4$  | $10$  | $N,Q\\le 5\\, 000$ |\n| $5$  | $13$  | $N\\le 100\\, 000, Q\\le 100$ |\n| $6$  | $15$  | $t=2$ |\n| $7$  | $27$  | 无额外约束 |\n\n", "locale": "zh-CN"}}}
{"pid": "P10685", "type": "P", "difficulty": 6, "samples": [["3 5\n2 4\n7 3\n9 5\n3 2\n8 1\n10 2\n6 3\n1 3", "5"], ["5 1\n2 6\n3 7\n5 4\n1 10\n7 2\n8 27", "11"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "2024", "O2优化", "COTS（克罗地亚）"], "title": "[COTS 2024] 兔子 Zečevi", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D2T3。$\\texttt{8s,512M}$。\n\n**请不要滥用本题评测。滥用本题评测将被封号。**", "description": "\n数轴上有 $N$ 只兔子，第 $i$ 只兔子位于 $x_i$，起初，第 $i$ 只兔子的能量为 $p_i$。\n\n每秒钟会发生如下的事件：\n\n- 若存在至少一只兔子的能量为 $0$，则过程结束。\n- 否则，每只兔子向右跳跃一个单位长度，同时能量减少 $1$。\n\n数轴上分布着 $M$ 根胡萝卜，第 $i$ 根胡萝卜位于位置 $y_i$，质量为 $t_i$ 千克。当某只兔子的位置上有胡萝卜时，它可以选择吃 $a$ 千克的胡萝卜，其中 $a\\in [0, y]$，其中 $y$ 为胡萝卜的质量。吃掉 $a$ 千克的胡萝卜后，兔子的能量增加 $a$，胡萝卜的质量减少 $a$。\n\n显然兔子一旦停止跳跃，就再也不会跳跃了。在最优的情况下，兔子最多能跳跃多少秒？", "inputFormat": "\n第一行，两个整数 $N,M$，含义见题面。\n\n接下来 $N$ 行，第 $i$ 行两个整数 $x_i,p_i$；\n\n接下来 $M$ 行，第 $i$ 行两个整数 $y_i,t_i$。\n", "outputFormat": "\n输出一行一个整数，表示最优情况下的答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：\n\n我们用二元组 $(x_i,p_i)$ 表示兔子的位置和能量。\n\n跳跃三次后，三只兔子的状态分别为 $(5,1),(10,0),(6,2)$。第二只兔子吃掉 $2$ 千克的胡萝卜，状态变为 $(5,1),(10,2),(6,2)$。\n\n接下来一次跳跃之后，三只兔子的状态分别为 $(6,0),(11,1),(7,1)$。第一只兔子吃掉 $3$ 千克胡萝卜，状态变为 $(6,3),(11,1),(7,1)$。\n\n接下来一次跳跃之后，三只兔子的状态分别为 $(7,2),(12,0),(8,0)$。由于第二只兔子吃不到胡萝卜，所以跳跃过程终止。\n\n可以证明这是最优的答案。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证： \n\n- $1\\le N,M\\le  10^5$；\n- $0\\le x_i,y_i\\le 10^9$；\n- $0\\le p_i,t_i\\le 10^9$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $9$  | $N=1$   |\n| $2$  | $12$  | $M=1$  |\n| $3$  | $26$  | $N,M\\le 1\\, 000$ |\n| $4$  | $34$  | $N,Q\\le 50\\, 000$ |\n| $5$  | $19$  | 无额外约束 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COTS 2024] 兔子 Zečevi", "background": "译自 [Izborne Pripreme 2024 (Croatian IOI/CEOI Team Selection)](https://hsin.hr/pripreme2024/) D2T3。$\\texttt{8s,512M}$。\n\n**请不要滥用本题评测。滥用本题评测将被封号。**", "description": "\n数轴上有 $N$ 只兔子，第 $i$ 只兔子位于 $x_i$，起初，第 $i$ 只兔子的能量为 $p_i$。\n\n每秒钟会发生如下的事件：\n\n- 若存在至少一只兔子的能量为 $0$，则过程结束。\n- 否则，每只兔子向右跳跃一个单位长度，同时能量减少 $1$。\n\n数轴上分布着 $M$ 根胡萝卜，第 $i$ 根胡萝卜位于位置 $y_i$，质量为 $t_i$ 千克。当某只兔子的位置上有胡萝卜时，它可以选择吃 $a$ 千克的胡萝卜，其中 $a\\in [0, y]$，其中 $y$ 为胡萝卜的质量。吃掉 $a$ 千克的胡萝卜后，兔子的能量增加 $a$，胡萝卜的质量减少 $a$。\n\n显然兔子一旦停止跳跃，就再也不会跳跃了。在最优的情况下，兔子最多能跳跃多少秒？", "inputFormat": "\n第一行，两个整数 $N,M$，含义见题面。\n\n接下来 $N$ 行，第 $i$ 行两个整数 $x_i,p_i$；\n\n接下来 $M$ 行，第 $i$ 行两个整数 $y_i,t_i$。\n", "outputFormat": "\n输出一行一个整数，表示最优情况下的答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：\n\n我们用二元组 $(x_i,p_i)$ 表示兔子的位置和能量。\n\n跳跃三次后，三只兔子的状态分别为 $(5,1),(10,0),(6,2)$。第二只兔子吃掉 $2$ 千克的胡萝卜，状态变为 $(5,1),(10,2),(6,2)$。\n\n接下来一次跳跃之后，三只兔子的状态分别为 $(6,0),(11,1),(7,1)$。第一只兔子吃掉 $3$ 千克胡萝卜，状态变为 $(6,3),(11,1),(7,1)$。\n\n接下来一次跳跃之后，三只兔子的状态分别为 $(7,2),(12,0),(8,0)$。由于第二只兔子吃不到胡萝卜，所以跳跃过程终止。\n\n可以证明这是最优的答案。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证： \n\n- $1\\le N,M\\le  10^5$；\n- $0\\le x_i,y_i\\le 10^9$；\n- $0\\le p_i,t_i\\le 10^9$。\n\n| 子任务编号 | 分值 | 约束  |\n|:-----:|:------:|:-------:|\n| $1$  | $9$  | $N=1$   |\n| $2$  | $12$  | $M=1$  |\n| $3$  | $26$  | $N,M\\le 1\\, 000$ |\n| $4$  | $34$  | $N,Q\\le 50\\, 000$ |\n| $5$  | $19$  | 无额外约束 |\n", "locale": "zh-CN"}}}
{"pid": "P10686", "type": "P", "difficulty": 4, "samples": [["3 3\n0<1\n1<2\n2<0\n3 5\n0<1\n0>1\n1<2\n1>2\n0<2\n4 4\n0<1\n0>1\n2<3\n2>3\n1 0", "Can not determine\nPlayer 1 can be determined to be the judge after 4 lines\nImpossible\nPlayer 0 can be determined to be the judge after 0 lines\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["并查集", "O2优化"], "title": "Rochambeau", "background": "", "description": "$N$ children are playing Rochambeau (scissors-rock-cloth) game with you. One of them is the judge. The rest children are divided into three groups (it is possible that some group is empty). You don’t know who is the judge, or how the children are grouped. Then the children start playing Rochambeau game for M rounds. Each round two children are arbitrarily selected to play Rochambeau for one once, and you will be told the outcome while not knowing which gesture the children presented. It is known that the children in the same group would present the same gesture (hence, two children in the same group always get draw when playing) and different groups for different gestures. The judge would present gesture randomly each time, hence no one knows what gesture the judge would present. Can you guess who is the judge after after the game ends? If you can, after how many rounds can you find out the judge at the earliest?", "inputFormat": "Input contains multiple test cases. Each test case starts with two integers $N$ and $M (1 \\le N \\le 500, 0 \\le M \\le 2,000)$ in one line, which are the number of children and the number of rounds. Following are M lines, each line contains two integers in $[0, N)$ separated by one symbol. The two integers are the IDs of the two children selected to play Rochambeau for this round. The symbol may be “=”, “>” or “<”, referring to a draw, that first child wins and that second child wins respectively.", "outputFormat": "There is only one line for each test case. If the judge can be found, print the ID of the judge, and the least number of rounds after which the judge can be uniquely determined. If the judge can not be found, or the outcomes of the M rounds of game are inconsistent, print the corresponding message.", "hint": "", "locale": "en", "translations": {"en": {"title": "Rochambeau", "background": "", "description": "$N$ children are playing Rochambeau (scissors-rock-cloth) game with you. One of them is the judge. The rest children are divided into three groups (it is possible that some group is empty). You don’t know who is the judge, or how the children are grouped. Then the children start playing Rochambeau game for M rounds. Each round two children are arbitrarily selected to play Rochambeau for one once, and you will be told the outcome while not knowing which gesture the children presented. It is known that the children in the same group would present the same gesture (hence, two children in the same group always get draw when playing) and different groups for different gestures. The judge would present gesture randomly each time, hence no one knows what gesture the judge would present. Can you guess who is the judge after after the game ends? If you can, after how many rounds can you find out the judge at the earliest?", "inputFormat": "Input contains multiple test cases. Each test case starts with two integers $N$ and $M (1 \\le N \\le 500, 0 \\le M \\le 2,000)$ in one line, which are the number of children and the number of rounds. Following are M lines, each line contains two integers in $[0, N)$ separated by one symbol. The two integers are the IDs of the two children selected to play Rochambeau for this round. The symbol may be “=”, “>” or “<”, referring to a draw, that first child wins and that second child wins respectively.", "outputFormat": "There is only one line for each test case. If the judge can be found, print the ID of the judge, and the least number of rounds after which the judge can be uniquely determined. If the judge can not be found, or the outcomes of the M rounds of game are inconsistent, print the corresponding message.", "hint": "", "locale": "en"}, "zh-CN": {"title": "Rochambeau", "background": "", "description": "$N$ 个小朋友（编号为 $0,1,2,…,N−1$）一起玩石头剪子布游戏。\n\n其中一人为裁判，其余的人被分为三个组（有可能有一些组是空的），第一个组的小朋友只能出石头，第二个组的小朋友只能出剪子，第三个组的小朋友只能出布，而裁判可以使用任意手势。\n\n你不知道谁是裁判，也不知道小朋友们是怎么分组的。\n\n然后，孩子们开始玩游戏，游戏一共进行 $M$\n 轮，每轮从 $N$ 个小朋友中选出两个小朋友进行猜拳。\n\n你将被告知两个小朋友猜拳的胜负结果，但是你不会被告知两个小朋友具体使用了哪种手势。\n\n比赛结束后，你能根据这些结果推断出裁判是谁吗？\n\n如果可以的话，你最早在第几轮可以找到裁判？", "inputFormat": "输入可能包含多组测试用例。\n\n每组测试用例第一行包含两个整数 $N$ 和 $M$。\n\n接下来 $M$ 行，每行包含两个整数 $a,b$，中间夹着一个符号(`>`,`=`,`<`)，表示一轮猜拳的结果。\n\n两个整数为小朋友的编号，`a>b` 表示 $a$ 赢了 $b$，`a=b` 表示 $a$ 和 $b$ 平手，`a<b` 表示 $a$ 输给了 $b$。", "outputFormat": "每组测试用例输出一行结果。\n\n+ 如果有且仅有一个人可能是裁判，则输出 `Player x can be determined to be the judge after y lines`，其中 $x$ 为裁判编号，$y$ 为确定裁判的最少轮数。\n\n+ 如果无法确定裁判是谁，即裁判的人选多于 $1$ 个，则输出 `Can not determine`。\n\n+ 如果在仅有一个裁判的情况下无法完成所有回合，则输出 `Impossible`。", "hint": "$1 \\le N \\le 500$，$1 \\le M \\le 2000$。", "locale": "zh-CN"}}}
{"pid": "P10687", "type": "P", "difficulty": 5, "samples": [["2 1 1\n1 2 no\n2 1 no\n3 2 1\n1 1 yes\n2 2 yes\n3 3 yes\n2 2 1\n1 2 yes\n2 3 no\n5 4 3\n1 2 yes\n1 3 no\n4 5 yes\n5 6 yes\n6 7 no\n0 0 0", "no\nno\n1\n2\nend\n3\n4\n5\n6\nend"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["并查集", "背包 DP"], "title": "True Liars", "background": "", "description": "After having drifted about in a small boat for a couple of days, Akira Crusoe Maeda was finally cast ashore on a foggy island. Though he was exhausted and despaired, he was still fortunate to remember a legend of the foggy island, which he had heard from patriarchs in his childhood. This must be the island in the legend. In the legend, two tribes have inhabited the island, one is divine and the other is devilish, once members of the divine tribe bless you, your future is bright and promising, and your soul will eventually go to Heaven, in contrast, once members of the devilish tribe curse you, your future is bleak and hopeless, and your soul will eventually fall down to Hell.\n\nIn order to prevent the worst-case scenario, Akira should distinguish the devilish from the divine. But how? They looked exactly alike and he could not distinguish one from the other solely by their appearances. He still had his last hope, however. The members of the divine tribe are truth-tellers, that is, they always tell the truth and those of the devilish tribe are liars, that is, they always tell a lie.\n\nHe asked some of them whether or not some are divine. They knew one another very much and always responded to him \"faithfully\" according to their individual natures (i.e., they always tell the truth or always a lie). He did not dare to ask any other forms of questions, since the legend says that a devilish member would curse a person forever when he did not like the question. He had another piece of useful informationf the legend tells the populations of both tribes. These numbers in the legend are trustworthy since everyone living on this island is immortal and none have ever been born at least these millennia.\n\nYou are a good computer programmer and so requested to help Akira by writing a program that classifies the inhabitants according to their answers to his inquiries.", "inputFormat": "The input consists of multiple data sets, each in the following format :\n\n```\nn p1 p2\nxl yl a1\nx2 y2 a2\n...\nxi yi ai\n...\nxn yn an\n```\n\nThe first line has three non-negative integers n, p1, and p2. n is the number of questions Akira asked. pl and p2 are the populations of the divine and devilish tribes, respectively, in the legend. Each of the following n lines has two integers xi, yi and one word ai. xi and yi are the identification numbers of inhabitants, each of which is between 1 and p1 + p2, inclusive. ai is either yes, if the inhabitant xi said that the inhabitant yi was a member of the divine tribe, or no, otherwise. Note that xi and yi can be the same number since \"are you a member of the divine tribe?\" is a valid question. Note also that two lines may have the same x's and y's since Akira was very upset and might have asked the same question to the same one more than once.\n\nYou may assume that n is less than 1000 and that p1 and p2 are less than 300. A line with three zeros, i.e., 0 0 0, represents the end of the input. You can assume that each data set is consistent and no contradictory answers are included.", "outputFormat": "For each data set, if it includes sufficient information to classify all the inhabitants, print the identification numbers of all the divine ones in ascending order, one in a line. In addition, following the output numbers, print end in a line. Otherwise, i.e., if a given data set does not include sufficient information to identify all the divine members, print no in a line.", "hint": "", "locale": "en", "translations": {"en": {"title": "True Liars", "background": "", "description": "After having drifted about in a small boat for a couple of days, Akira Crusoe Maeda was finally cast ashore on a foggy island. Though he was exhausted and despaired, he was still fortunate to remember a legend of the foggy island, which he had heard from patriarchs in his childhood. This must be the island in the legend. In the legend, two tribes have inhabited the island, one is divine and the other is devilish, once members of the divine tribe bless you, your future is bright and promising, and your soul will eventually go to Heaven, in contrast, once members of the devilish tribe curse you, your future is bleak and hopeless, and your soul will eventually fall down to Hell.\n\nIn order to prevent the worst-case scenario, Akira should distinguish the devilish from the divine. But how? They looked exactly alike and he could not distinguish one from the other solely by their appearances. He still had his last hope, however. The members of the divine tribe are truth-tellers, that is, they always tell the truth and those of the devilish tribe are liars, that is, they always tell a lie.\n\nHe asked some of them whether or not some are divine. They knew one another very much and always responded to him \"faithfully\" according to their individual natures (i.e., they always tell the truth or always a lie). He did not dare to ask any other forms of questions, since the legend says that a devilish member would curse a person forever when he did not like the question. He had another piece of useful informationf the legend tells the populations of both tribes. These numbers in the legend are trustworthy since everyone living on this island is immortal and none have ever been born at least these millennia.\n\nYou are a good computer programmer and so requested to help Akira by writing a program that classifies the inhabitants according to their answers to his inquiries.", "inputFormat": "The input consists of multiple data sets, each in the following format :\n\n```\nn p1 p2\nxl yl a1\nx2 y2 a2\n...\nxi yi ai\n...\nxn yn an\n```\n\nThe first line has three non-negative integers n, p1, and p2. n is the number of questions Akira asked. pl and p2 are the populations of the divine and devilish tribes, respectively, in the legend. Each of the following n lines has two integers xi, yi and one word ai. xi and yi are the identification numbers of inhabitants, each of which is between 1 and p1 + p2, inclusive. ai is either yes, if the inhabitant xi said that the inhabitant yi was a member of the divine tribe, or no, otherwise. Note that xi and yi can be the same number since \"are you a member of the divine tribe?\" is a valid question. Note also that two lines may have the same x's and y's since Akira was very upset and might have asked the same question to the same one more than once.\n\nYou may assume that n is less than 1000 and that p1 and p2 are less than 300. A line with three zeros, i.e., 0 0 0, represents the end of the input. You can assume that each data set is consistent and no contradictory answers are included.", "outputFormat": "For each data set, if it includes sufficient information to classify all the inhabitants, print the identification numbers of all the divine ones in ascending order, one in a line. In addition, following the output numbers, print end in a line. Otherwise, i.e., if a given data set does not include sufficient information to identify all the divine members, print no in a line.", "hint": "", "locale": "en"}, "zh-CN": {"title": "True Liars", "background": null, "description": "在小船上漂流了几天后，Akira Crusoe Maeda 终于被抛到了一个雾蒙蒙的岛上。尽管他疲惫不堪，绝望不已，但他仍然幸运地记得他童年时从族长那里听到的雾岛传说。这一定是传说中的岛屿。传说中有两个部落居住在岛上，一个是神圣的，另一个是邪恶的，一旦神圣部落的成员保佑你，你的未来就会光明有希望，你的灵魂最终会去天堂，相比之下，一旦邪恶部落的成员诅咒你，你们的未来就会黯淡无望，你的心灵最终会坠入地狱。\n\n为了防止最坏的情况发生，Akira Crusoe Maeda 应该区分恶魔和神灵。但是怎么做？他们看起来完全一样，他无法仅凭外表区分他们。然而，他还有最后的希望。神圣部落的成员是说实话的人，也就是说，他们总是说实话，而邪恶部落的成员则是骗子，也就是他们总是撒谎。\n\n他问他们中的一些人是否有些是神圣的。他们彼此非常了解，总是根据自己的个性“忠实地”回应他（即，他们总是说实话或撒谎）。他不敢问任何其他形式的问题，因为传说中，当一个恶魔成员不喜欢这个问题时，他会永远诅咒一个人。他有另一条有用的信息，传说告诉了两个部落的人口。传说中的这些数字是值得信赖的，因为生活在这个岛上的每个人都是不朽的，至少在这几千年里没有人出生过。\n\n你是一名优秀的计算机程序员，因此被要求帮助 Akira 编写一个程序，根据居民对他的询问的回答对他们进行分类。", "inputFormat": "输入由多行组成，每个测试点的格式如下：\n```\nn p1 p2\nx1 y1 a1\nx2 y2 a2\n...\nxi yi ai\n...\nxn yn an\n```\n第一行有三个非负整数 $n$、$p_1$ 和 $p_2$。$n$ 是 Akira 提出的问题数量。$p_1$ 和 $p_2$ 分别是传说中神圣部落和恶魔部落的人口。接下来的 $n$ 行中的每一行都有两个整数 $x_i$、$y_i$ 和一个单词 $a_i$，表示询问了居民 $x_i$，问题是：“居民 $y_i$ 是神圣部落的人吗？”。$x_i$ 和 $y_i$ 是居民的识别号，每个识别号在 $1$ 和 $p_1+p_2$（包括 $1$ 和 $p_1+p_2$ ）之间。$a_i$ 要么是 `yes`，要么是 `no`。请注意，$x_i$ 和 $y_i$ 可以是同一个数字，因为“你是神族的成员吗？”是一个有效的问题。还要注意，两行可能有相同的 $x$ 和 $y$ ，因为 Akira 非常沮丧，可能不止一次向同一行问同一个问题。\n\n你可以假设 $n$ 小于 $1000$，$p_1$ 和 $p_2$ 小于 $300$。如果一行有三个零，即 `0 0 0`，表示输入的结束。你可以假设每个测试点都是一致的，没有矛盾的答案。", "outputFormat": "对于每个数据集，如果它包含足够的信息来对所有居民进行分类，请按升序输出所有神圣居民的识别号，一行一个。此外，在输出数字之后，打印 `end` 于最后一行。否则，即如果给定的数据集不包括足够的信息来识别所有神圣的成员，请在最后一行中打印 `no`。", "hint": "对于 $100\\%$ 的数据，每个数据点内最多 10 组数据，$n<1000$，$p_1,p_2<300$，$1\\le x_i, y_i \\le p_1+p_2$。", "locale": "zh-CN"}}}
{"pid": "P10688", "type": "P", "difficulty": 4, "samples": [["4\n0 77\n1 51\n1 33\n2 69\n4 \n0 20523\n1 19243\n1 38900\n0 31492", "77 33 69 51\n31492 20523 38900 19243"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "树状数组", "O2优化"], "title": "Buy Tickets", "background": "", "description": "> Railway tickets were difficult to buy around the Lunar New Year in China, so we must get up early and join a long queue…\n\nThe Lunar New Year was approaching, but unluckily the Little Cat still had schedules going here and there. Now, he had to travel by train to Mianyang, Sichuan Province for the winter camp selection of the national team of Olympiad in Informatics.\n\nIt was one o’clock a.m. and dark outside. Chill wind from the northwest did not scare off the people in the queue. The cold night gave the Little Cat a shiver. Why not find a problem to think about? That was none the less better than freezing to death!\n\nPeople kept jumping the queue. Since it was too dark around, such moves would not be discovered even by the people adjacent to the queue-jumpers. “If every person in the queue is assigned an integral value and all the information about those who have jumped the queue and where they stand after queue-jumping is given, can I find out the final order of people in the queue?” Thought the Little Cat.", "inputFormat": "There will be several test cases in the input. Each test case consists of N + 1 lines where N (1 ≤ N ≤ 200,000) is given in the first line of the test case. The next N lines contain the pairs of values Posi and Vali in the increasing order of i (1 ≤ i ≤ N). For each i, the ranges and meanings of Posi and Vali are as follows:\n\n- Posi ∈ [0, i − 1] — The i-th person came to the queue and stood right behind the Posi-th person in the queue. The booking office was considered the 0th person and the person at the front of the queue was considered the first person in the queue.\n_ Vali ∈ [0, 32767] — The i-th person was assigned the value Vali.\n\nThere no blank lines between test cases. Proceed to the end of input.", "outputFormat": "For each test cases, output a single line of space-separated integers which are the values of people in the order they stand in the queue.", "hint": "", "locale": "en", "translations": {"en": {"title": "Buy Tickets", "background": "", "description": "> Railway tickets were difficult to buy around the Lunar New Year in China, so we must get up early and join a long queue…\n\nThe Lunar New Year was approaching, but unluckily the Little Cat still had schedules going here and there. Now, he had to travel by train to Mianyang, Sichuan Province for the winter camp selection of the national team of Olympiad in Informatics.\n\nIt was one o’clock a.m. and dark outside. Chill wind from the northwest did not scare off the people in the queue. The cold night gave the Little Cat a shiver. Why not find a problem to think about? That was none the less better than freezing to death!\n\nPeople kept jumping the queue. Since it was too dark around, such moves would not be discovered even by the people adjacent to the queue-jumpers. “If every person in the queue is assigned an integral value and all the information about those who have jumped the queue and where they stand after queue-jumping is given, can I find out the final order of people in the queue?” Thought the Little Cat.", "inputFormat": "There will be several test cases in the input. Each test case consists of N + 1 lines where N (1 ≤ N ≤ 200,000) is given in the first line of the test case. The next N lines contain the pairs of values Posi and Vali in the increasing order of i (1 ≤ i ≤ N). For each i, the ranges and meanings of Posi and Vali are as follows:\n\n- Posi ∈ [0, i − 1] — The i-th person came to the queue and stood right behind the Posi-th person in the queue. The booking office was considered the 0th person and the person at the front of the queue was considered the first person in the queue.\n_ Vali ∈ [0, 32767] — The i-th person was assigned the value Vali.\n\nThere no blank lines between test cases. Proceed to the end of input.", "outputFormat": "For each test cases, output a single line of space-separated integers which are the values of people in the order they stand in the queue.", "hint": "", "locale": "en"}, "zh-CN": {"title": "Buy Tickets", "background": "", "description": "春节期间在中国买火车票很困难，所以我们必须早起并加入长队……  春节即将来临，但不幸的是，小猫仍然有安排要去各地。现在，他必须乘火车前往四川省绵阳，参加信息学奥林匹克国家队的冬令营选拔。  现在是凌晨一点，外面一片漆黑。来自西北的寒风并没有吓退排队的人群。寒冷的夜晚让小猫打了个寒颤。为什么不找个问题来思考呢？这总比冻死要好！  人们不断插队。由于周围太黑，这种行为即使是排在插队者旁边的人也无法发现。「如果队列中的每个人都被分配了一个整数值，并且给出了所有插队者的信息以及他们插队后的站位，我能否找出队列中人们的最终顺序？」小猫想道。", "inputFormat": "输入包含多个测试用例。每个测试用例由 $N + 1$ 行组成，其中 $N$ $(1 \\leq N \\leq 200,000)$ 在测试用例的第一行给出。接下来的 $N$ 行包含成对的值 $\\text{Posi}$ 和 $\\text{Vali}$，按 $i$ 的递增顺序排列 $(1 \\leq i \\leq N)$。对于每个 $i$，$\\text{Posi}$ 和 $\\text{Vali}$ 的范围和含义如下：  - $\\text{Posi} \\in [0, i - 1]$ — 第 $i$ 个人来到队列中，并站在队列中第 $\\text{Posi}$ 个人的后面。售票处被视为第 0 个人，队列最前面的人被视为第 1 个人。 - $\\text{Vali} \\in [0, 32767]$ — 第 $i$ 个人被分配了值 $\\text{Vali}$。  测试用例之间没有空行。处理到输入的末尾。", "outputFormat": "对于每个测试用例，输出一行以空格分隔的整数，这些整数是队列中人们按顺序站立的值。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10689", "type": "P", "difficulty": 6, "samples": [["5\n1\n2\n3\n4\n5\n2\nADD 2 4 1\nMIN 4 5", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "平衡树", "O2优化"], "title": "SuperMemo", "background": "", "description": "Your friend, Jackson is invited to a TV show called SuperMemo in which the participant is told to play a memorizing game. At first, the host tells the participant a sequence of numbers, $A_1, A_2, \\ldots A_n$. Then the host performs a series of operations and queries on the sequence which consists:\n\n  * `ADD x y D`: Add $D$ to each number in sub-sequence $A_x \\ldots A_y$. For example, performing \"ADD 2 4 1\" on $1, 2, 3, 4, 5$ results in $1, 3, 4, 5, 5$\n  * `REVERSE x y`: reverse the sub-sequence ${A_x \\ldots A_y}$. For example, performing \"REVERSE 2 4\" on $1, 2, 3, 4, 5$ results in $1, 4, 3, 2, 5$\n  * `REVOLVE x y T`: rotate sub-sequence ${A_x \\ldots A_y}$ $T$ times. For example, performing \"REVOLVE 2 4 2\" on $1, 2, 3, 4, 5$ results in $1, 3, 4, 2, 5$\n  * `INSERT x P`: insert $P$ after $A_x$. For example, performing \"INSERT 2 4\" on $1, 2, 3, 4, 5$ results in $1, 2, 4, 3, 4, 5$\n  * `DELETE x`: delete $A_x$. For example, performing \"DELETE 2\" on $1, 2, 3, 4, 5$ results in $1, 3, 4, 5$\n  * `MIN x y`: query the participant what is the minimum number in sub-sequence $A_x \\ldots A_y$. For example, the correct answer to \"MIN 2 4\" on $1, 2, 3, 4, 5$ is $2$\n\nTo make the show more interesting, the participant is granted a chance to turn to someone else that means when Jackson feels difficult in answering a query he may call you for help. You task is to watch the TV show and write a program giving the correct answer to each query in order to assist Jackson whenever he calls.", "inputFormat": "The first line contains $n$ ($n \\leq 100000$).\n\nThe following $n$ lines describe the sequence.\n\nThen follows $M$ ($M \\leq 100000$), the numbers of operations and queries.\n\nThe following $M$ lines describe the operations and queries. ", "outputFormat": "For each \"MIN\" query, output the correct answer.", "hint": "", "locale": "en", "translations": {"en": {"title": "SuperMemo", "background": "", "description": "Your friend, Jackson is invited to a TV show called SuperMemo in which the participant is told to play a memorizing game. At first, the host tells the participant a sequence of numbers, $A_1, A_2, \\ldots A_n$. Then the host performs a series of operations and queries on the sequence which consists:\n\n  * `ADD x y D`: Add $D$ to each number in sub-sequence $A_x \\ldots A_y$. For example, performing \"ADD 2 4 1\" on $1, 2, 3, 4, 5$ results in $1, 3, 4, 5, 5$\n  * `REVERSE x y`: reverse the sub-sequence ${A_x \\ldots A_y}$. For example, performing \"REVERSE 2 4\" on $1, 2, 3, 4, 5$ results in $1, 4, 3, 2, 5$\n  * `REVOLVE x y T`: rotate sub-sequence ${A_x \\ldots A_y}$ $T$ times. For example, performing \"REVOLVE 2 4 2\" on $1, 2, 3, 4, 5$ results in $1, 3, 4, 2, 5$\n  * `INSERT x P`: insert $P$ after $A_x$. For example, performing \"INSERT 2 4\" on $1, 2, 3, 4, 5$ results in $1, 2, 4, 3, 4, 5$\n  * `DELETE x`: delete $A_x$. For example, performing \"DELETE 2\" on $1, 2, 3, 4, 5$ results in $1, 3, 4, 5$\n  * `MIN x y`: query the participant what is the minimum number in sub-sequence $A_x \\ldots A_y$. For example, the correct answer to \"MIN 2 4\" on $1, 2, 3, 4, 5$ is $2$\n\nTo make the show more interesting, the participant is granted a chance to turn to someone else that means when Jackson feels difficult in answering a query he may call you for help. You task is to watch the TV show and write a program giving the correct answer to each query in order to assist Jackson whenever he calls.", "inputFormat": "The first line contains $n$ ($n \\leq 100000$).\n\nThe following $n$ lines describe the sequence.\n\nThen follows $M$ ($M \\leq 100000$), the numbers of operations and queries.\n\nThe following $M$ lines describe the operations and queries. ", "outputFormat": "For each \"MIN\" query, output the correct answer.", "hint": "", "locale": "en"}, "zh-CN": {"title": "SuperMemo", "background": "", "description": "你的朋友 Jackson 被邀请参加一个名为 SuperMemo 的电视节目，参与者需要玩一个记忆游戏。首先，主持人会告诉参与者一个数字序列 $A_1, A_2, \\ldots A_n$。然后，主持人会对该序列进行一系列操作和查询，包括：\n\n  * `ADD x y D`：将 $D$ 加到子序列 $A_x \\ldots A_y$ 的每个数字上。例如，在 $1, 2, 3, 4, 5$ 上执行 \"ADD 2 4 1\" 后结果为 $1, 3, 4, 5, 5$。\n  * `REVERSE x y`：反转子序列 ${A_x \\ldots A_y}$。例如，在 $1, 2, 3, 4, 5$ 上执行 \"REVERSE 2 4\" 后结果为 $1, 4, 3, 2, 5$。\n  * `REVOLVE x y T`：旋转子序列 ${A_x \\ldots A_y}$ $T$ 次。例如，在 $1, 2, 3, 4, 5$ 上执行 \"REVOLVE 2 4 2\" 后结果为 $1, 3, 4, 2, 5$。\n  * `INSERT x P`：在 $A_x$ 之后插入 $P$。例如，在 $1, 2, 3, 4, 5$ 上执行 \"INSERT 2 4\" 后结果为 $1, 2, 4, 3, 4, 5$。\n  * `DELETE x`：删除 $A_x$。例如，在 $1, 2, 3, 4, 5$ 上执行 \"DELETE 2\" 后结果为 $1, 3, 4, 5$。\n  * `MIN x y`：询问参与者子序列 $A_x \\ldots A_y$ 中的最小数字是多少。例如，在 $1, 2, 3, 4, 5$ 上 \"MIN 2 4\" 的正确答案是 $2$。\n\n为了让节目更有趣，参与者被授予一次求助他人的机会，这意味着当 Jackson 在回答查询时感到困难时，他可以向你求助。你的任务是观看电视节目并编写程序，以便在 Jackson 需要时为每个查询提供正确答案。", "inputFormat": "第一行包含 $n$ ($n \\leq 100000$)。\n\n接下来的 $n$ 行描述了序列。\n\n然后是 $M$ ($M \\leq 100000$)，表示操作和查询的数量。\n\n接下来的 $M$ 行描述了操作和查询。", "outputFormat": "对于每个 \"MIN\" 查询，输出正确答案。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P10690", "type": "P", "difficulty": 6, "samples": [["3 3\n1 4 3 \n0 1\n0 1\n4 3", "5\n7\n7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "分块"], "title": "Fotile 模拟赛 L", "background": "", "description": "FOTILE 得到了一个长为 $N$ 的序列 $A$，为了拯救地球，他希望知道某些区间内的最大的连续 $\\rm XOR$ 和。\n\n即对于一个询问，你需要求出\n\n$$\n\\max_{l\\le i\\le j\\le r}\\bigoplus_{k=i}^{j} a_k\n$$\n\n为了体现在线操作，对于一个询问 $(x,y)$：\n\n- $l = \\min ( ((x+{\\rm lastans}) \\bmod N)+1 , ((y+{\\rm lastans}) \\bmod N)+1)$.\n- $r = \\max ( ((x+{\\rm lastans}) \\bmod N)+1 , ((y+{\\rm lastans}) \\bmod N)+1)$.\n\n**其中 $\\rm lastans$ 是上次询问的答案，一开始为0。**", "inputFormat": "第一行两个整数 $N$ 和 $M$。\n\n第二行有 $N$ 个正整数，其中第 $i$ 个数为 $A_i$，有多余空格。\n\n后 $M$ 行每行两个数 $x$, $y$ 表示一对询问。\n", "outputFormat": "共 $M$ 行，第 $i$ 行一个正整数表示第 $i$ 个询问的结果。\n", "hint": "对于所有的测试数据满足 $N=12000$，$M=6000$，$x$，$y$，$a_i$ 均在 signed int 范围内。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Fotile 模拟赛 L", "background": "", "description": "FOTILE 得到了一个长为 $N$ 的序列 $A$，为了拯救地球，他希望知道某些区间内的最大的连续 $\\rm XOR$ 和。\n\n即对于一个询问，你需要求出\n\n$$\n\\max_{l\\le i\\le j\\le r}\\bigoplus_{k=i}^{j} a_k\n$$\n\n为了体现在线操作，对于一个询问 $(x,y)$：\n\n- $l = \\min ( ((x+{\\rm lastans}) \\bmod N)+1 , ((y+{\\rm lastans}) \\bmod N)+1)$.\n- $r = \\max ( ((x+{\\rm lastans}) \\bmod N)+1 , ((y+{\\rm lastans}) \\bmod N)+1)$.\n\n**其中 $\\rm lastans$ 是上次询问的答案，一开始为0。**", "inputFormat": "第一行两个整数 $N$ 和 $M$。\n\n第二行有 $N$ 个正整数，其中第 $i$ 个数为 $A_i$，有多余空格。\n\n后 $M$ 行每行两个数 $x$, $y$ 表示一对询问。\n", "outputFormat": "共 $M$ 行，第 $i$ 行一个正整数表示第 $i$ 个询问的结果。\n", "hint": "对于所有的测试数据满足 $N=12000$，$M=6000$，$x$，$y$，$a_i$ 均在 signed int 范围内。", "locale": "zh-CN"}}}
{"pid": "P10691", "type": "P", "difficulty": 2, "samples": [["3\n356\n114\n514\n", "-wxr-xrw-\n--x--xr--\nr-x--xr--\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "陕西", "省赛/邀请赛"], "title": "[SNCPC2024] chmod", "background": "", "description": "$\\text{chmod}$ 是一个用于更改文件或目录权限的命令，它是 Linux 和其他类 Unix 操作系统中的常用命令之一。$\\text{chmod}$ 命令允许用户为文件或目录设置不同的权限，以控制谁可以读取，写入或执行这些文件。\n\n在 Linux 系统中，每个文件或目录都有与之相关联的权限, 这些权限决定了谁可以对文件进行何种操作。用户被分为三类：所有者（owner），所属组（group）和其他人（others）。每类用户又都有读 （r），写（w）和执行（x）三种权限。这 $9$ 种权限可以分别指定。我们称**权限字符串**是一个长度为 $9$ 的字符串，按顺序分别对应以上提到的 $9$ 种权限，如果具有此权限，则为 $\\text{r}$，$\\text{w}$，$\\text{x}$ 中相应的那一个，否则为 $\\text{-}$。\n\n例如**权限字符串** $\\text{rwxr-x-}\\text{-x}$ 说明，该文件对于所有者具有全部权限，对于所属组用户只具有读和执行权限，而对于其他人只具有执行权限。\n\n使用 $\\text{chmod}$ 命令时，你可以提供模式串来修改权限。在本题，我们只考虑长度为 $3$ 的由不大于 $7$ 的数字组成的模式串，其三个数字从左往右依次代表所有者（owner），所属组（group）和其他人（others）的权限。对于每个数字，其最低三个二进制位从高向低分别表示了该类用户是否具有读（r），写（w）和执行（x）权限。\n\n例如：执行 $\\text{chmod 760 file.txt}$ 后, 表示文件的**权限字符串**为 $\\text{rwxrw-}\\text{-}\\text{-}\\text{-}$。\n\n给出若干合法的模式串，每次读入一条模式串后，你需要输出修改后文件的**权限字符串**。", "inputFormat": "第一行一个正整数 $T$ ($1 \\le T \\le 100$)，表示数据组数。\n\n接下来 $T$ 行，每行一条 $\\text{chmod}$ 模式串。", "outputFormat": "共 $T$ 行，表示模式串对应的**权限字符串**。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] chmod", "background": "", "description": "$\\text{chmod}$ 是一个用于更改文件或目录权限的命令，它是 Linux 和其他类 Unix 操作系统中的常用命令之一。$\\text{chmod}$ 命令允许用户为文件或目录设置不同的权限，以控制谁可以读取，写入或执行这些文件。\n\n在 Linux 系统中，每个文件或目录都有与之相关联的权限, 这些权限决定了谁可以对文件进行何种操作。用户被分为三类：所有者（owner），所属组（group）和其他人（others）。每类用户又都有读 （r），写（w）和执行（x）三种权限。这 $9$ 种权限可以分别指定。我们称**权限字符串**是一个长度为 $9$ 的字符串，按顺序分别对应以上提到的 $9$ 种权限，如果具有此权限，则为 $\\text{r}$，$\\text{w}$，$\\text{x}$ 中相应的那一个，否则为 $\\text{-}$。\n\n例如**权限字符串** $\\text{rwxr-x-}\\text{-x}$ 说明，该文件对于所有者具有全部权限，对于所属组用户只具有读和执行权限，而对于其他人只具有执行权限。\n\n使用 $\\text{chmod}$ 命令时，你可以提供模式串来修改权限。在本题，我们只考虑长度为 $3$ 的由不大于 $7$ 的数字组成的模式串，其三个数字从左往右依次代表所有者（owner），所属组（group）和其他人（others）的权限。对于每个数字，其最低三个二进制位从高向低分别表示了该类用户是否具有读（r），写（w）和执行（x）权限。\n\n例如：执行 $\\text{chmod 760 file.txt}$ 后, 表示文件的**权限字符串**为 $\\text{rwxrw-}\\text{-}\\text{-}\\text{-}$。\n\n给出若干合法的模式串，每次读入一条模式串后，你需要输出修改后文件的**权限字符串**。", "inputFormat": "第一行一个正整数 $T$ ($1 \\le T \\le 100$)，表示数据组数。\n\n接下来 $T$ 行，每行一条 $\\text{chmod}$ 模式串。", "outputFormat": "共 $T$ 行，表示模式串对应的**权限字符串**。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10692", "type": "P", "difficulty": 4, "samples": [["4 4\n", "1111\n1*11\n11*1\n1111\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2024", "Special Judge", "O2优化", "陕西", "省赛/邀请赛", "状压 DP"], "title": "[SNCPC2024] 表达式矩阵", "background": "", "description": "一个 $n \\times m$ 的字符矩阵 $a_{ij}$，被称为合法的表达式矩阵，当且仅当其满足如下条件：\n\n\n- 矩阵只包含 '1'，'+'，'*' 字符。\n\n- 对于矩阵的每行从左向右组成的字符串，均为合法的表达式。\n\n- 对于矩阵的每列从上向下组成的字符串，均为合法的表达式。\n\n\n一个合法的表达式矩阵的权值定义为，每行从左向右组成的字符串和每列从上向下组成的字符串共 $n + m$ 个表达式求值后的值求和的结果。\n\n求所有 $n \\times m$ 的合法表达式矩阵中，权值最小的那一个。如果有多个最小的答案，你可以给出任意一个。\n\n我们定义字符串 $s$ 是合法表达式如下：\n\n\n\n- 如果 $s = \\overbrace{111\\dots111}^{\\text{至少一个 }1}$，则 $s$ 是合法表达式。\n\n- 如果 $s$ 和 $t$ 均为合法表达式，则 $s$ * $t$ 也是合法表达式。\n\n- 如果 $s$ 和 $t$ 均为合法表达式，则 $s$ + $t$ 也是合法表达式。", "inputFormat": "输入仅一行两个整数 $n, m$ ($3 \\leq n, m \\leq 9$)，由空格隔开，为矩阵的行数和列数。", "outputFormat": "输出共 $n$ 行，每行 $m$ 个字符，其中第 $i$ 行的第 $j$ 个字符为 $a_{ij}$，为权值最小的矩阵。\n\n如果有多个最小的答案，你可以给出任意一个。", "hint": "\n对于样例，此时矩阵的权值为 $4488$，可以证明不存在权值更小的矩阵。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 表达式矩阵", "background": "", "description": "一个 $n \\times m$ 的字符矩阵 $a_{ij}$，被称为合法的表达式矩阵，当且仅当其满足如下条件：\n\n\n- 矩阵只包含 '1'，'+'，'*' 字符。\n\n- 对于矩阵的每行从左向右组成的字符串，均为合法的表达式。\n\n- 对于矩阵的每列从上向下组成的字符串，均为合法的表达式。\n\n\n一个合法的表达式矩阵的权值定义为，每行从左向右组成的字符串和每列从上向下组成的字符串共 $n + m$ 个表达式求值后的值求和的结果。\n\n求所有 $n \\times m$ 的合法表达式矩阵中，权值最小的那一个。如果有多个最小的答案，你可以给出任意一个。\n\n我们定义字符串 $s$ 是合法表达式如下：\n\n\n\n- 如果 $s = \\overbrace{111\\dots111}^{\\text{至少一个 }1}$，则 $s$ 是合法表达式。\n\n- 如果 $s$ 和 $t$ 均为合法表达式，则 $s$ * $t$ 也是合法表达式。\n\n- 如果 $s$ 和 $t$ 均为合法表达式，则 $s$ + $t$ 也是合法表达式。", "inputFormat": "输入仅一行两个整数 $n, m$ ($3 \\leq n, m \\leq 9$)，由空格隔开，为矩阵的行数和列数。", "outputFormat": "输出共 $n$ 行，每行 $m$ 个字符，其中第 $i$ 行的第 $j$ 个字符为 $a_{ij}$，为权值最小的矩阵。\n\n如果有多个最小的答案，你可以给出任意一个。", "hint": "\n对于样例，此时矩阵的权值为 $4488$，可以证明不存在权值更小的矩阵。", "locale": "zh-CN"}}}
{"pid": "P10693", "type": "P", "difficulty": 4, "samples": [["5\n2 6 4 5 3\n", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["图论", "2024", "O2优化", "陕西", "基环树", "省赛/邀请赛"], "title": "[SNCPC2024] 换座位", "background": "", "description": "树王国在筹备着举办一次盛大的庆典！\n\nShirost 作为树王国的庆典设计师，准备邀请 $n$ 个嘉宾来参加本次庆典。庆典上一共准备了 $2n$ 个座位，**一个座位最多只能坐一个人且一个人恰好坐一个座位**。Shirost 初步计划将第 $i$ 个嘉宾安排在第 $i$ 个座位上。但是总统调查了这 $n$ 个嘉宾的意愿，第 $i$ 个嘉宾的心仪座位为第 $a_i$ 个座位。但除非能坐到心仪座位上，否则他们只愿意坐在原来的座位上。总统希望 Shirost 能够修改计划，使得尽可能多的嘉宾坐在他们的心仪座位上。\n\n形式化的讲，你需要找到长为 $n$ 的数组 $b_i$ ($1 \\leq i \\leq n, 1 \\leq b_i \\leq 2n$) 满足 $\\forall i \\neq j,b_i \\neq b_j$ 且 $\\forall i, b_i=i$ 或 $b_i=a_i$。且最大化 $b_i = a_i$ 的个数。\n\n你只需要输出最多的个数即可。", "inputFormat": "输入第一行为一个整数 $n$ ($1 \\leq n \\leq 10^{5}$)，表示总人数。\n\n第二行 $n$ 个整数 $a_i$ ($1 \\leq a_i \\leq 2n$)，由空格隔开，表示每个人的心仪座位。\n", "outputFormat": "输出仅一行一个整数，表示最多有多少嘉宾坐在他们的心仪座位上。", "hint": "\n\n对于第一个样例，所有人都可以换到自己的心仪座位。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 换座位", "background": "", "description": "树王国在筹备着举办一次盛大的庆典！\n\nShirost 作为树王国的庆典设计师，准备邀请 $n$ 个嘉宾来参加本次庆典。庆典上一共准备了 $2n$ 个座位，**一个座位最多只能坐一个人且一个人恰好坐一个座位**。Shirost 初步计划将第 $i$ 个嘉宾安排在第 $i$ 个座位上。但是总统调查了这 $n$ 个嘉宾的意愿，第 $i$ 个嘉宾的心仪座位为第 $a_i$ 个座位。但除非能坐到心仪座位上，否则他们只愿意坐在原来的座位上。总统希望 Shirost 能够修改计划，使得尽可能多的嘉宾坐在他们的心仪座位上。\n\n形式化的讲，你需要找到长为 $n$ 的数组 $b_i$ ($1 \\leq i \\leq n, 1 \\leq b_i \\leq 2n$) 满足 $\\forall i \\neq j,b_i \\neq b_j$ 且 $\\forall i, b_i=i$ 或 $b_i=a_i$。且最大化 $b_i = a_i$ 的个数。\n\n你只需要输出最多的个数即可。", "inputFormat": "输入第一行为一个整数 $n$ ($1 \\leq n \\leq 10^{5}$)，表示总人数。\n\n第二行 $n$ 个整数 $a_i$ ($1 \\leq a_i \\leq 2n$)，由空格隔开，表示每个人的心仪座位。\n", "outputFormat": "输出仅一行一个整数，表示最多有多少嘉宾坐在他们的心仪座位上。", "hint": "\n\n对于第一个样例，所有人都可以换到自己的心仪座位。\n", "locale": "zh-CN"}}}
{"pid": "P10694", "type": "P", "difficulty": 5, "samples": [["iccpcicpc\nicpc\nccpc\n", "133\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "O2优化", "陕西", "省赛/邀请赛"], "title": "[SNCPC2024] 双子序列", "background": "", "description": "小 L 看到不喜欢的字符串就很难受！看到它作为子序列出现也是！\n\n给定一个长字符串 $S$ 表示小 L 要阅读的文本，以及恰好两个短字符串 $s_1$，$s_2$ 表示小 L 不想看到的字符串，三个字符串均由小写字母组成。 \n\n小 L 很反感这两个字符串作为子序列在文本内同时出现，他认为，一个字符串 $T$ 的反感度为：$s_1$ 作为 $T$ 的子序列的出现次数，和 $s_2$ 作为 $T$ 的子序列的出现次数之积。\n\n由于他要读 $S$ 的每个子串，所以现在需要你求出 $S$ 的所有子串的反感度值之和。由于答案可能过大，你只需要输出对 $998244353$ 取模的结果。\n\n定义一个字符串 $H$ 是 $T$ 的子串，当且仅当 $H$ 由 $T$ 删除最前面的若干字符和最后面的若干字符获得（前缀后缀可以一个字符都不删除，也可以把整个串全删除得到空串）。\n\n定义一个字符串 $H$ 是 $T$ 的子序列，当且仅当 $H$ 由 $T$ 删除若干字符后获得（可以一个字符都不删除，也可以全删除后得到空子序列）。", "inputFormat": "输入包括三行，每行一个仅由小写字母组成的字符串。\n\n第一行的字符串代表 $S$，第二行代表 $s_1$，第三行代表 $s_2$。其中 $1\\le |S|\\le 1\\times 10^5$，$1\\le |s_1|,|s_2|\\le 20$。", "outputFormat": "输出一个整数代表求得的答案。", "hint": "| 子串起始位置 | 子串终止位置 |  icpc 次数  | ccpc 次数 |\n| :----------: | :----------: | :----------: | :----------: |\n| 1 | 5 | 2 | 1 |\n| 1 | 6 | 2 | 1 |\n| 1 | 7 | 4 | 2 |\n| 1 | 8 | 4 | 2 |\n| 1 | 9 | 11 | 9 |\n| 2 | 5 | 0 | 1 |\n| 2 | 6 | 0 | 1 |\n| 2 | 7 | 0 | 2 |\n| 2 | 8 | 0 | 2 |\n| 2 | 9 | 1 | 9 |\n| 3 | 9 | 1 | 3 |\n| 4 | 9 | 1 | 1 |\n| 5 | 9 | 1 | 1 |\n| 6 | 9 | 1 | 0 |\n\n\n在其余的子串内，两个字符串作为子序列的出现次数均为 $0$。\n\n答案为 $(2\\times 1) \\times 2 + (4\\times 2) \\times 2 + 11\\times 9 + (0\\times 1)\\times 2 + (0\\times 2)\\times 2 + 1\\times 9 + 1\\times 3+ (1\\times 1)\\times 2 + 1\\times 0=133$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SNCPC2024] 双子序列", "background": "", "description": "小 L 看到不喜欢的字符串就很难受！看到它作为子序列出现也是！\n\n给定一个长字符串 $S$ 表示小 L 要阅读的文本，以及恰好两个短字符串 $s_1$，$s_2$ 表示小 L 不想看到的字符串，三个字符串均由小写字母组成。 \n\n小 L 很反感这两个字符串作为子序列在文本内同时出现，他认为，一个字符串 $T$ 的反感度为：$s_1$ 作为 $T$ 的子序列的出现次数，和 $s_2$ 作为 $T$ 的子序列的出现次数之积。\n\n由于他要读 $S$ 的每个子串，所以现在需要你求出 $S$ 的所有子串的反感度值之和。由于答案可能过大，你只需要输出对 $998244353$ 取模的结果。\n\n定义一个字符串 $H$ 是 $T$ 的子串，当且仅当 $H$ 由 $T$ 删除最前面的若干字符和最后面的若干字符获得（前缀后缀可以一个字符都不删除，也可以把整个串全删除得到空串）。\n\n定义一个字符串 $H$ 是 $T$ 的子序列，当且仅当 $H$ 由 $T$ 删除若干字符后获得（可以一个字符都不删除，也可以全删除后得到空子序列）。", "inputFormat": "输入包括三行，每行一个仅由小写字母组成的字符串。\n\n第一行的字符串代表 $S$，第二行代表 $s_1$，第三行代表 $s_2$。其中 $1\\le |S|\\le 1\\times 10^5$，$1\\le |s_1|,|s_2|\\le 20$。", "outputFormat": "输出一个整数代表求得的答案。", "hint": "| 子串起始位置 | 子串终止位置 |  icpc 次数  | ccpc 次数 |\n| :----------: | :----------: | :----------: | :----------: |\n| 1 | 5 | 2 | 1 |\n| 1 | 6 | 2 | 1 |\n| 1 | 7 | 4 | 2 |\n| 1 | 8 | 4 | 2 |\n| 1 | 9 | 11 | 9 |\n| 2 | 5 | 0 | 1 |\n| 2 | 6 | 0 | 1 |\n| 2 | 7 | 0 | 2 |\n| 2 | 8 | 0 | 2 |\n| 2 | 9 | 1 | 9 |\n| 3 | 9 | 1 | 3 |\n| 4 | 9 | 1 | 1 |\n| 5 | 9 | 1 | 1 |\n| 6 | 9 | 1 | 0 |\n\n\n在其余的子串内，两个字符串作为子序列的出现次数均为 $0$。\n\n答案为 $(2\\times 1) \\times 2 + (4\\times 2) \\times 2 + 11\\times 9 + (0\\times 1)\\times 2 + (0\\times 2)\\times 2 + 1\\times 9 + 1\\times 3+ (1\\times 1)\\times 2 + 1\\times 0=133$。", "locale": "zh-CN"}}}
