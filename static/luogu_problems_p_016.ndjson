{"pid": "P1321", "type": "P", "difficulty": 1, "samples": [["......boyogirlyy......girl.......\n", "4\n2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "字符串", "洛谷原创"], "title": "单词覆盖还原", "background": "", "description": "我有一个长度为 $l$ 的字符串，最开始时，这个字符串由 $l$ 个句号（`.`）组成。\n\n我在这个字符串中，将多次把 `boy` 或者 `girl` 两单词，依次贴到这个字符串中。\n\n后贴上单词，会覆盖之前贴上的单词，或者覆盖句号。最终，每个单词至少有一个字符没有被覆盖。\n\n请问，一共贴有几个 `boy` 几个 `girl`？", "inputFormat": "一行被反复贴有 `boy` 和 `girl` 两单词的字符串。\n", "outputFormat": "两行，两个整数。第一行为 `boy` 的个数，第二行为 `girl` 的个数。\n", "hint": "数据保证，$3\\le l\\le255$，字符串仅仅包含如下字符：$\\texttt{.bgilory}$。", "locale": "zh-CN", "translations": {"en": {"title": "Word Overlay Restoration", "background": "", "description": "I have a string of length $l$, which initially consists of $l$ periods ('.').\n\nI repeatedly paste the words `boy` or `girl` onto this string in order.\n\nWords pasted later will overwrite previously pasted words or periods. In the end, each word has at least one character that is not overwritten.\n\nHow many `boy` and how many `girl` were pasted in total?", "inputFormat": "A single line: the string after repeatedly pasting the words `boy` and `girl`.", "outputFormat": "Two lines, each with one integer. The first line is the count of `boy`, and the second line is the count of `girl`.", "hint": "It is guaranteed that $3\\le l\\le255$, and the string contains only the following characters: $\\texttt{.bgilory}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "单词覆盖还原", "background": "", "description": "我有一个长度为 $l$ 的字符串，最开始时，这个字符串由 $l$ 个句号（`.`）组成。\n\n我在这个字符串中，将多次把 `boy` 或者 `girl` 两单词，依次贴到这个字符串中。\n\n后贴上单词，会覆盖之前贴上的单词，或者覆盖句号。最终，每个单词至少有一个字符没有被覆盖。\n\n请问，一共贴有几个 `boy` 几个 `girl`？", "inputFormat": "一行被反复贴有 `boy` 和 `girl` 两单词的字符串。\n", "outputFormat": "两行，两个整数。第一行为 `boy` 的个数，第二行为 `girl` 的个数。\n", "hint": "数据保证，$3\\le l\\le255$，字符串仅仅包含如下字符：$\\texttt{.bgilory}$。", "locale": "zh-CN"}}}
{"pid": "P1322", "type": "P", "difficulty": 3, "samples": [["FD 100\n", "100\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "搜索", "递归"], "title": "logo语言", "background": "", "description": "Logo 语言命令可以指挥海龟在屏幕中爬行。本问题只使用 Logo 语言的三个语句：前进 `FD`，倒退 `BK` 和重复 `REPEAT`，因此，海龟只在一条直线上来回爬行。输入一行 logo 的命令行，输出海龟在屏幕中离开原来位子的距离（假设屏幕很大，可以让海龟移开 $10^9$ 的距离）。\n\n例如：\n\n- 输入 `FD 100` ，输出：$100$。\n\n- 输入 `FD 100 BK 150`， 输出：$50$。\n\n- 输入 `REPEAT 5[FD 100 BK 50]`， 输出：$250$。\n\n- 输入 `REPEAT 5[FD 50 REPEAT 10[FD 100]]`， 输出：$5250$。", "inputFormat": "一行，一个字符串，符合上述规定的 logo 命令行。", "outputFormat": "一个数据，海龟离开原来位子的距离。", "hint": "每个语句输入数据的绝对值不超过 $1000$。输出结果不会超过 $10^9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Logo Language", "background": "", "description": "Logo language commands can direct a turtle to crawl on the screen. This problem uses only three Logo statements: forward `FD`, backward `BK`, and repeat `REPEAT`, so the turtle moves back and forth along a single straight line. Given one line of a Logo command line, output the distance between the turtle and its original position (assume the screen is large enough to let the turtle move up to a distance of $10^9$).\n\nFor example:\n- Input `FD 100`, output: $100$.\n- Input `FD 100 BK 150`, output: $50$.\n- Input `REPEAT 5[FD 100 BK 50]`, output: $250$.\n- Input `REPEAT 5[FD 50 REPEAT 10[FD 100]]`, output: $5250$.", "inputFormat": "One line containing a string that is a valid Logo command line as specified above.", "outputFormat": "A single number: the distance from the turtle’s original position.", "hint": "The absolute value of each statement’s argument does not exceed $1000$. The output will not exceed $10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "logo语言", "background": "", "description": "Logo 语言命令可以指挥海龟在屏幕中爬行。本问题只使用 Logo 语言的三个语句：前进 `FD`，倒退 `BK` 和重复 `REPEAT`，因此，海龟只在一条直线上来回爬行。输入一行 logo 的命令行，输出海龟在屏幕中离开原来位子的距离（假设屏幕很大，可以让海龟移开 $10^9$ 的距离）。\n\n例如：\n\n- 输入 `FD 100` ，输出：$100$。\n\n- 输入 `FD 100 BK 150`， 输出：$50$。\n\n- 输入 `REPEAT 5[FD 100 BK 50]`， 输出：$250$。\n\n- 输入 `REPEAT 5[FD 50 REPEAT 10[FD 100]]`， 输出：$5250$。", "inputFormat": "一行，一个字符串，符合上述规定的 logo 命令行。", "outputFormat": "一个数据，海龟离开原来位子的距离。", "hint": "每个语句输入数据的绝对值不超过 $1000$。输出结果不会超过 $10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P1323", "type": "P", "difficulty": 3, "samples": [["5 4", "137915\n95"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "贪心", "优先队列", "队列"], "title": "删数问题", "background": "", "description": "一个集合有如下元素：$1$ 是集合元素；若 $P$ 是集合的元素，则 $2\\times P+1$，$4\\times P+5$ 也是集合的元素。\n\n取出此集合中最小的 $k$ 个元素，按从小到大的顺序组合成一个多位数，现要求从中删除 $m$ 个数位上的数字，使得剩下的数字最大，编程输出删除前和删除后的多位数字。\n\n注：不存在所有数被删除的情况。", "inputFormat": "只有一行两个整数，分别代表 $k$ 和 $m$。", "outputFormat": "输出为两行两个整数，第一行为删除前的数字，第二行为删除后的数字。\n", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $1\\le k,m\\le300$。\n- 对于 $100\\%$ 的数据，保证 $1\\le k,m\\le3\\times10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Deleting Digits Problem", "background": "", "description": "A set is defined as follows: $1$ is an element of the set; if $P$ is an element of the set, then $2\\times P+1$ and $4\\times P+5$ are also elements of the set.\n\nTake the smallest $k$ elements from this set, concatenate them in increasing order to form a multi-digit integer. You are required to delete $m$ digits from this integer so that the remaining number is as large as possible. Write a program to output the integer before deletion and the integer after deletion.\n\nNote: It is guaranteed that not all digits are deleted.", "inputFormat": "A single line with two integers representing $k$ and $m$.", "outputFormat": "Output two lines. The first line is the number before deletion. The second line is the number after deletion.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, it is guaranteed that $1 \\le k, m \\le 300$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le k, m \\le 3\\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "删数问题", "background": "", "description": "一个集合有如下元素：$1$ 是集合元素；若 $P$ 是集合的元素，则 $2\\times P+1$，$4\\times P+5$ 也是集合的元素。\n\n取出此集合中最小的 $k$ 个元素，按从小到大的顺序组合成一个多位数，现要求从中删除 $m$ 个数位上的数字，使得剩下的数字最大，编程输出删除前和删除后的多位数字。\n\n注：不存在所有数被删除的情况。", "inputFormat": "只有一行两个整数，分别代表 $k$ 和 $m$。", "outputFormat": "输出为两行两个整数，第一行为删除前的数字，第二行为删除后的数字。\n", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $1\\le k,m\\le300$。\n- 对于 $100\\%$ 的数据，保证 $1\\le k,m\\le3\\times10^4$。", "locale": "zh-CN"}}}
{"pid": "P1324", "type": "P", "difficulty": 3, "samples": [["2 2\n3\n3\n", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心"], "title": "矩形分割", "background": "", "description": "出于某些方面的需求，我们要把一块 $N \\times M$ 的木板切成一个个 $1 \\times 1$ 的小方块。\n\n对于一块木板，我们只能从某条横线或者某条竖线（要在方格线上），而且这木板是不均匀的，从不同的线切割下去要花不同的代价。而且，对于一块木板，切割一次以后就被分割成两块，而且不能把这两块木板拼在一起然后一刀切成四块，只能两块分别再进行一次切割。\n\n现在，给出从不同的线切割所要花的代价，求把整块木板分割成 $1 \\times 1$ 块小方块所需要耗费的最小代价。", "inputFormat": "输入文件第一行包括 $N$ 和 $M$，表示长 $N$ 宽 $M$ 的矩阵。\n\n第二行包括 $N-1$ 个非负整数，分别表示沿着 $N-1$ 条横线切割的代价。\n\n第三行包括 $M-1$ 个非负整数，分别表示沿着 $M-1$ 条竖线切割的代价。", "outputFormat": "输出一个整数，表示最小代价。\n", "hint": "数据范围：\n\n对于 $60\\%$ 的数据，有 $1 \\le N,M \\le 100$；\n\n对于 $100\\%$ 的数据，有 $1 \\le N,M \\le 2000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Rectangle Partition", "background": "", "description": "For certain needs, we need to cut an $N \\times M$ wooden board into $1 \\times 1$ small squares.\n\nFor a board, we may only cut along a horizontal or a vertical grid line (on the grid lines). The board is non-uniform, so cutting along different lines costs different amounts. Each cut splits one current piece into two pieces. You cannot put pieces together and make a single cut across them to get four pieces; you must cut the two pieces separately.\n\nGiven the costs of cutting along each line, find the minimum total cost to partition the whole board into $1 \\times 1$ squares.", "inputFormat": "The first line contains $N$ and $M$, denoting an $N \\times M$ board.\n\nThe second line contains $N - 1$ non-negative integers, representing the costs of cutting along the $N - 1$ horizontal grid lines.\n\nThe third line contains $M - 1$ non-negative integers, representing the costs of cutting along the $M - 1$ vertical grid lines.", "outputFormat": "Output a single integer, the minimum total cost.", "hint": "Constraints:\n\n- For $60\\%$ of the testdata, $1 \\le N, M \\le 100$.\n- For $100\\%$ of the testdata, $1 \\le N, M \\le 2000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "矩形分割", "background": "", "description": "出于某些方面的需求，我们要把一块 $N \\times M$ 的木板切成一个个 $1 \\times 1$ 的小方块。\n\n对于一块木板，我们只能从某条横线或者某条竖线（要在方格线上），而且这木板是不均匀的，从不同的线切割下去要花不同的代价。而且，对于一块木板，切割一次以后就被分割成两块，而且不能把这两块木板拼在一起然后一刀切成四块，只能两块分别再进行一次切割。\n\n现在，给出从不同的线切割所要花的代价，求把整块木板分割成 $1 \\times 1$ 块小方块所需要耗费的最小代价。", "inputFormat": "输入文件第一行包括 $N$ 和 $M$，表示长 $N$ 宽 $M$ 的矩阵。\n\n第二行包括 $N-1$ 个非负整数，分别表示沿着 $N-1$ 条横线切割的代价。\n\n第三行包括 $M-1$ 个非负整数，分别表示沿着 $M-1$ 条竖线切割的代价。", "outputFormat": "输出一个整数，表示最小代价。\n", "hint": "数据范围：\n\n对于 $60\\%$ 的数据，有 $1 \\le N,M \\le 100$；\n\n对于 $100\\%$ 的数据，有 $1 \\le N,M \\le 2000$。\n", "locale": "zh-CN"}}}
{"pid": "P1325", "type": "P", "difficulty": 3, "samples": [["3 2\n1 2\n-3 1\n2 1\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "计算几何", "排序"], "title": "雷达安装", "background": "", "description": "假设海岸线是一条无限延伸的直线。它的一侧是陆地，另一侧是海洋。每一座小岛是在海面上的一个点。雷达必须安装在陆地上（包括海岸线），并且每个雷达都有相同的扫描范围 $d$。你的任务是建立尽量少的雷达站，使所有小岛都在扫描范围之内。\n\n数据使用笛卡尔坐标系，定义海岸线为 $x$ 轴。在 $x$ 轴上方为海洋，下方为陆地。\n\n\n", "inputFormat": "第一行包括 $2$ 个整数 $n$ 和 $d$，$n$ 是岛屿数目，$d$ 是雷达扫描范围。\n\n接下来 $n$ 行，每行两个整数，为岛屿坐标。\n", "outputFormat": "一个整数表示最少需要的雷达数目，若不可能覆盖所有岛屿，输出 `-1`。\n", "hint": "### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fnezefht.png)\n\n### 数据范围\n\n对于全部数据，$n\\le1000$，$ d \\le 2\\times 10^4$，$ | x_i | \\le 2 \\times 10^6 $，$ 0 \\le y_i \\le 2\\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Radar Installation", "background": "", "description": "Assume the coastline is an infinitely long straight line. One side is land, and the other side is ocean. Each island is a point on the sea surface. Radars must be installed on land (including the coastline), and each radar has the same scan range $d$. Your task is to build as few radar stations as possible so that all islands are within the scan range.\n\nThe data use the Cartesian coordinate system, with the coastline defined as the $x$ axis. The ocean is above the $x$ axis, and the land is below it.", "inputFormat": "The first line contains $2$ integers $n$ and $d$, where $n$ is the number of islands and $d$ is the radar scan range.\n\nThen follow $n$ lines, each containing two integers, the coordinates of an island.", "outputFormat": "Output a single integer: the minimum number of radars required. If it is impossible to cover all islands, output `-1`.", "hint": "### Sample 1 Explanation\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fnezefht.png)\n\n### Constraints\n\n对于全部数据，$n\\le1000$，$ d \\le 2\\times 10^4$，$ | x_i | \\le 2 \\times 10^6 $，$ 0 \\le y_i \\le 2\\times 10^4$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "雷达安装", "background": "", "description": "假设海岸线是一条无限延伸的直线。它的一侧是陆地，另一侧是海洋。每一座小岛是在海面上的一个点。雷达必须安装在陆地上（包括海岸线），并且每个雷达都有相同的扫描范围 $d$。你的任务是建立尽量少的雷达站，使所有小岛都在扫描范围之内。\n\n数据使用笛卡尔坐标系，定义海岸线为 $x$ 轴。在 $x$ 轴上方为海洋，下方为陆地。\n\n\n", "inputFormat": "第一行包括 $2$ 个整数 $n$ 和 $d$，$n$ 是岛屿数目，$d$ 是雷达扫描范围。\n\n接下来 $n$ 行，每行两个整数，为岛屿坐标。\n", "outputFormat": "一个整数表示最少需要的雷达数目，若不可能覆盖所有岛屿，输出 `-1`。\n", "hint": "### 样例 1 解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fnezefht.png)\n\n### 数据范围\n\n对于全部数据，$n\\le1000$，$ d \\le 2\\times 10^4$，$ | x_i | \\le 2 \\times 10^6 $，$ 0 \\le y_i \\le 2\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1326", "type": "P", "difficulty": 3, "samples": [["1 1 1\n1 1 2", "1 1\n3 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "福建省历届夏令营"], "title": "足球", "background": "", "description": "我们当中有很多热爱中国足球的同学，我们都知道中超（中国足球超级联赛）的规则：\n\n一场比赛中，若获胜（即你的得分严格大于对手得分）则获得 $3$ 的积分，若打平（即你的得分等于对手得分）则获得 $1$ 分，若失败（即你的得分严格小于对手得分）获得 $0$ 积分。\n\n这个问题很简单，假设 $N$ 轮比赛中你一共攻入 $S$ 个球，丢掉 $T$ 个球，那么你可能获得的最大得分和最小得分是多少？", "inputFormat": "多组数据，每组数据一行三个整数 $S,T,N$（$10^9\\ge S,T \\ge 0$，$10^9\\ge N \\ge 1$）。每个测试点内数据组数不超过 $3\\times 10^4$ 组。", "outputFormat": "对于每组数据输出一行，两个整数表示最大得分和最小得分。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Football", "background": "", "description": "Many of us love Chinese football; we all know the rules of the Chinese Super League (CSL):\n\nIn a match, if you win (i.e., your goals are strictly greater than your opponent's), you get $3$ points; if you draw (i.e., your goals equal your opponent's), you get $1$ point; if you lose (i.e., your goals are strictly less than your opponent's), you get $0$ points.\n\nThis problem is simple: suppose over $N$ rounds you scored $S$ goals in total and conceded $T$ goals. What are the maximum and minimum points you could possibly obtain?", "inputFormat": "Multiple test cases. Each test case contains one line with three integers $S, T, N$ ($10^9 \\ge S, T \\ge 0$, $10^9 \\ge N \\ge 1$). There are at most $3 \\times 10^4$ test cases per test point.", "outputFormat": "For each test case, output one line with two integers: the maximum points and the minimum points.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "足球", "background": "", "description": "我们当中有很多热爱中国足球的同学，我们都知道中超（中国足球超级联赛）的规则：\n\n一场比赛中，若获胜（即你的得分严格大于对手得分）则获得 $3$ 的积分，若打平（即你的得分等于对手得分）则获得 $1$ 分，若失败（即你的得分严格小于对手得分）获得 $0$ 积分。\n\n这个问题很简单，假设 $N$ 轮比赛中你一共攻入 $S$ 个球，丢掉 $T$ 个球，那么你可能获得的最大得分和最小得分是多少？", "inputFormat": "多组数据，每组数据一行三个整数 $S,T,N$（$10^9\\ge S,T \\ge 0$，$10^9\\ge N \\ge 1$）。每个测试点内数据组数不超过 $3\\times 10^4$ 组。", "outputFormat": "对于每组数据输出一行，两个整数表示最大得分和最小得分。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1327", "type": "P", "difficulty": 3, "samples": [["8\n8 23 4 16 77 -5 53 100\n", "5\n\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "福建省历届夏令营"], "title": "数列排序", "background": "", "description": "给定一个数列 $a$，这个数列满足 $a_i \\not  =a_j$（$i\\not=j$），现在要求你把这个数列从小到大排序，每次允许你交换其中任意一对数，请问最少需要几次交换？", "inputFormat": "第一行是一个整数，代表数字个数 $n$。\n\n第二行有 $n$ 个整数用空格分隔开，表示数列 $a$。", "outputFormat": "只有一行，包含一个数，表示最少的交换次数。\n\n", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le10^5$，$-2^{31}\\lt a_i\\lt2^{31}-1$。", "locale": "zh-CN", "translations": {"en": {"title": "Sequence Sorting", "background": "", "description": "Given a sequence $a$ that satisfies $a_i \\not  =a_j$ ($i\\not=j$), you are asked to sort this sequence in ascending order. Each time, you may swap any pair of numbers. What is the minimum number of swaps required?", "inputFormat": "The first line contains an integer $n$, the number of elements.\n\nThe second line contains $n$ integers separated by spaces, representing the sequence $a$.", "outputFormat": "Output a single line containing one integer, the minimum number of swaps.", "hint": "#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1\\le n\\le10^5$, $-2^{31}\\lt a_i\\lt2^{31}-1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列排序", "background": "", "description": "给定一个数列 $a$，这个数列满足 $a_i \\not  =a_j$（$i\\not=j$），现在要求你把这个数列从小到大排序，每次允许你交换其中任意一对数，请问最少需要几次交换？", "inputFormat": "第一行是一个整数，代表数字个数 $n$。\n\n第二行有 $n$ 个整数用空格分隔开，表示数列 $a$。", "outputFormat": "只有一行，包含一个数，表示最少的交换次数。\n\n", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le10^5$，$-2^{31}\\lt a_i\\lt2^{31}-1$。", "locale": "zh-CN"}}}
{"pid": "P1328", "type": "P", "difficulty": 2, "samples": [["10 5 6\n0 1 2 3 4\n0 3 4 2 1 0\n", "6 2\n"], ["9 5 5\n0 1 2 3 4\n1 0 3 2 4\n", "4 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2014", "NOIP 提高组"], "title": "[NOIP 2014 提高组] 生活大爆炸版石头剪刀布", "background": "NOIP2014 提高组 D1T1", "description": "石头剪刀布是常见的猜拳游戏：石头胜剪刀，剪刀胜布，布胜石头。如果两个人出拳一样，则不分胜负。在《生活大爆炸》第二季第 8 集中出现了一种石头剪刀布的升级版游戏。\n\n升级版游戏在传统的石头剪刀布游戏的基础上，增加了两个新手势：\n\n斯波克:《星际迷航》主角之一。\n\n蜥蜴人:《星际迷航》中的反面角色。\n\n这五种手势的胜负关系如表一所示,表中列出的是甲对乙的游戏结果。\n\n![](https://cdn.luogu.com.cn/upload/pic/1346.png)\n\n现在，小 A 和小 B 尝试玩这种升级版的猜拳游戏。已知他们的出拳都是有周期性规律的，但周期长度不一定相等。例如：如果小 A 以 `石头-布-石头-剪刀-蜥蜴人-斯波克` 长度为 $6$ 的周期出拳,那么他的出拳序列就是 `石头-布-石头-剪刀-蜥蜴人-斯波克-石头-布-石头-剪刀-蜥蜴人-斯波克-...`，而如果小 B 以 `剪刀-石头-布-斯波克-蜥蜴人` 长度为 $5$ 的周期出拳,那么他出拳的序列就是 `剪刀-石头-布-斯波克-蜥蜴人-剪刀-石头-布-斯波克-蜥蜴人-...`。\n\n已知小 A 和小 B 一共进行 $N$ 次猜拳。每一次赢的人得 $1$ 分，输的得 $0$ 分；平局两人都得 $0$ 分。现请你统计 $N$ 次猜拳结束之后两人的得分。", "inputFormat": "第一行包含三个整数：$N,N_A,N_B$，分别表示共进行 $N$ 次猜拳、小 A 出拳的周期长度，小 B 出拳的周期长度。数与数之间以一个空格分隔。\n\n第二行包含 $N_A$ 个整数,表示小 A 出拳的规律,第三行包含 $N_B$ 个整数，表示小 B 出拳的规律。其中，$0$ 表示 `剪刀`，$1$ 表示 `石头`，$2$ 表示 `布`，$3$ 表示 `蜥蜴人`，$4$ 表示 `斯波克`。数与数之间以一个空格分隔。", "outputFormat": "输出一行，包含两个整数，以一个空格分隔，分别表示小 A、小 B 的得分。", "hint": "对于 $100\\%$ 的数据，$0 < N \\leq 200, 0 < N_A \\leq 200, 0 < N_B \\leq 200$ 。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2014 Senior] Rock-Paper-Scissors-Lizard-Spock", "background": "NOIP 2014 Senior D1T1.", "description": "Rock-paper-scissors is a common hand game: rock beats scissors, scissors beat paper, and paper beats rock. If two players show the same gesture, it is a draw. In Season 2, Episode 8 of “The Big Bang Theory,” an upgraded version of the game appears.\n\nOn top of the traditional rock-paper-scissors game, the upgraded version adds two new gestures:\n\nSpock: one of the main characters in Star Trek.\n\nLizard: a villain in Star Trek.\n\nThe win–loss relationships among the five gestures are shown in Table 1. The table lists the result of player A versus player B.\n\n![](https://cdn.luogu.com.cn/upload/pic/1346.png)\n\nNow, Xiao A and Xiao B are trying this upgraded hand game. It is known that their moves follow periodic patterns, though their period lengths may differ. For example: if Xiao A plays with the period `石头-布-石头-剪刀-蜥蜴人-斯波克` of length $6$, then his sequence of moves is `石头-布-石头-剪刀-蜥蜴人-斯波克-石头-布-石头-剪刀-蜥蜴人-斯波克-...`; and if Xiao B plays with the period `剪刀-石头-布-斯波克-蜥蜴人` of length $5$, then his sequence of moves is `剪刀-石头-布-斯波克-蜥蜴人-剪刀-石头-布-斯波克-蜥蜴人-...`.\n\nThey will play a total of $N$ rounds. In each round, the winner gets $1$ point, the loser gets $0$ points; in a draw, both get $0$ points. Please compute the scores of the two players after $N$ rounds.", "inputFormat": "The first line contains three integers: $N, N_A, N_B$, representing the total number of rounds, the period length of Xiao A’s moves, and the period length of Xiao B’s moves, respectively. The numbers are separated by a space.\n\nThe second line contains $N_A$ integers representing Xiao A’s pattern, and the third line contains $N_B$ integers representing Xiao B’s pattern. Here, $0$ denotes `剪刀`, $1$ denotes `石头`, $2$ denotes `布`, $3$ denotes `蜥蜴人`, and $4$ denotes `斯波克`. The numbers are separated by a space.", "outputFormat": "Output a single line containing two integers separated by a space, representing the scores of Xiao A and Xiao B, respectively.", "hint": "For $100\\%$ of the testdata, $0 < N \\leq 200, 0 < N_A \\leq 200, 0 < N_B \\leq 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2014 提高组] 生活大爆炸版石头剪刀布", "background": "NOIP2014 提高组 D1T1", "description": "石头剪刀布是常见的猜拳游戏：石头胜剪刀，剪刀胜布，布胜石头。如果两个人出拳一样，则不分胜负。在《生活大爆炸》第二季第 8 集中出现了一种石头剪刀布的升级版游戏。\n\n升级版游戏在传统的石头剪刀布游戏的基础上，增加了两个新手势：\n\n斯波克:《星际迷航》主角之一。\n\n蜥蜴人:《星际迷航》中的反面角色。\n\n这五种手势的胜负关系如表一所示,表中列出的是甲对乙的游戏结果。\n\n![](https://cdn.luogu.com.cn/upload/pic/1346.png)\n\n现在，小 A 和小 B 尝试玩这种升级版的猜拳游戏。已知他们的出拳都是有周期性规律的，但周期长度不一定相等。例如：如果小 A 以 `石头-布-石头-剪刀-蜥蜴人-斯波克` 长度为 $6$ 的周期出拳,那么他的出拳序列就是 `石头-布-石头-剪刀-蜥蜴人-斯波克-石头-布-石头-剪刀-蜥蜴人-斯波克-...`，而如果小 B 以 `剪刀-石头-布-斯波克-蜥蜴人` 长度为 $5$ 的周期出拳,那么他出拳的序列就是 `剪刀-石头-布-斯波克-蜥蜴人-剪刀-石头-布-斯波克-蜥蜴人-...`。\n\n已知小 A 和小 B 一共进行 $N$ 次猜拳。每一次赢的人得 $1$ 分，输的得 $0$ 分；平局两人都得 $0$ 分。现请你统计 $N$ 次猜拳结束之后两人的得分。", "inputFormat": "第一行包含三个整数：$N,N_A,N_B$，分别表示共进行 $N$ 次猜拳、小 A 出拳的周期长度，小 B 出拳的周期长度。数与数之间以一个空格分隔。\n\n第二行包含 $N_A$ 个整数,表示小 A 出拳的规律,第三行包含 $N_B$ 个整数，表示小 B 出拳的规律。其中，$0$ 表示 `剪刀`，$1$ 表示 `石头`，$2$ 表示 `布`，$3$ 表示 `蜥蜴人`，$4$ 表示 `斯波克`。数与数之间以一个空格分隔。", "outputFormat": "输出一行，包含两个整数，以一个空格分隔，分别表示小 A、小 B 的得分。", "hint": "对于 $100\\%$ 的数据，$0 < N \\leq 200, 0 < N_A \\leq 200, 0 < N_B \\leq 200$ 。\n", "locale": "zh-CN"}}}
{"pid": "P1329", "type": "P", "difficulty": 4, "samples": [["4 0\n", "2\n0 -1 0 1\n0 1 0 -1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "福建省历届夏令营", "Special Judge", "O2优化"], "title": "数列", "background": "", "description": "有这样一种数列 $a_1, a_2, \\cdots a_n$，其中 $a_{1}=0$，且对任意一项 $a_{i}$ 满足 $|a_{i}-a_{i+1}|=1$（$1\\le i<n$）。设 $s=\\sum_{i = 1}^n a_i = a_{1}+a_{2}+ \\cdots +a_{n}$，表示前 $n$ 项之和。\n\n现在给出数列长度 $n$ 与数列前 $n$ 项之和 $s$，要求：\n\n输出满足条件的数列的总数对 $2^{64}$ 取模后的结果。\n\n输出满足条件的 $100$ 个数列（如果不满 $100$ 个就全部输出）。\n", "inputFormat": "\n输入只有一行两个整数，分别表示数列长度 $n$ 与数列之和 $s$。", "outputFormat": "**本题存在 Special Judge**。\n\n在第一行输出一行一个整数 $t$，表示满足条件的数列总数对 $2^{64}$ 取模后的结果。\n\n接下来若干行，每行 $n$ 个整数，表示一个数列。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 100$，$-2^{63} \\leq s \\lt 2^{63}$。\n\n#### 说明\n\nspj provider：@[xiaolilsq](user/230249)。", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "", "description": "There is a sequence $a_1, a_2, \\cdots, a_n$, where $a_{1} = 0$, and for any term $a_i$ it holds that $|a_i - a_{i+1}| = 1$ ($1 \\le i < n$). Let $s = \\sum_{i = 1}^n a_i = a_{1} + a_{2} + \\cdots + a_{n}$ denote the sum of the first $n$ terms.\n\nGiven the length $n$ and the sum $s$ of the first $n$ terms, do the following:\n\n- Output the total number of sequences that satisfy the conditions, modulo $2^{64}$.\n- Output up to $100$ sequences that satisfy the conditions (if fewer than $100$ exist, output all of them).", "inputFormat": "The input contains a single line with two integers, the sequence length $n$ and the sum $s$.", "outputFormat": "This problem uses a Special Judge.\n\nOn the first line, output a single integer $t$, the total number of valid sequences modulo $2^{64}$.\n\nThen output several lines, each containing $n$ integers, describing one valid sequence.", "hint": "- Constraints\n\n  For all testdata, it is guaranteed that $1 \\le n \\le 100$, $-2^{63} \\le s < 2^{63}$.\n\n- Notes\n\n  Special Judge provider: @[xiaolilsq](user/230249).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列", "background": "", "description": "有这样一种数列 $a_1, a_2, \\cdots a_n$，其中 $a_{1}=0$，且对任意一项 $a_{i}$ 满足 $|a_{i}-a_{i+1}|=1$（$1\\le i<n$）。设 $s=\\sum_{i = 1}^n a_i = a_{1}+a_{2}+ \\cdots +a_{n}$，表示前 $n$ 项之和。\n\n现在给出数列长度 $n$ 与数列前 $n$ 项之和 $s$，要求：\n\n输出满足条件的数列的总数对 $2^{64}$ 取模后的结果。\n\n输出满足条件的 $100$ 个数列（如果不满 $100$ 个就全部输出）。\n", "inputFormat": "\n输入只有一行两个整数，分别表示数列长度 $n$ 与数列之和 $s$。", "outputFormat": "**本题存在 Special Judge**。\n\n在第一行输出一行一个整数 $t$，表示满足条件的数列总数对 $2^{64}$ 取模后的结果。\n\n接下来若干行，每行 $n$ 个整数，表示一个数列。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 100$，$-2^{63} \\leq s \\lt 2^{63}$。\n\n#### 说明\n\nspj provider：@[xiaolilsq](user/230249)。", "locale": "zh-CN"}}}
{"pid": "P1330", "type": "P", "difficulty": 3, "samples": [["3 3\n1 2\n1 3\n2 3\n", "Impossible\n"], ["3 2\n1 2\n2 3\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "福建省历届夏令营", "广度优先搜索 BFS", "深度优先搜索 DFS", "二分图"], "title": "封锁阳光大学", "background": null, "description": "曹是一只爱刷街的老曹，暑假期间，他每天都欢快地在阳光大学的校园里刷街。河蟹看到欢快的曹，感到不爽。河蟹决定封锁阳光大学，不让曹刷街。\n\n阳光大学的校园是一张由 $n$ 个点构成的无向图，$n$ 个点之间由 $m$ 条道路连接。每只河蟹可以对一个点进行封锁，当某个点被封锁后，与这个点相连的道路就被封锁了，曹就无法在这些道路上刷街了。非常悲剧的一点是，河蟹是一种不和谐的生物，当两只河蟹封锁了相邻的两个点时，他们会发生冲突。\n\n询问：最少需要多少只河蟹，可以封锁所有道路并且不发生冲突。", "inputFormat": "第一行两个正整数，表示节点数和边数。\n接下来 $m$ 行，每行两个整数 $u,v$，表示点 $u$ 到点 $v$ 之间有道路相连。", "outputFormat": "仅一行，如果河蟹无法封锁所有道路，则输出 `Impossible`，否则输出一个整数，表示最少需要多少只河蟹。", "hint": "【数据规模】   \n对于 $100\\%$ 的数据，$1\\le n \\le 10^4$，$1\\le m \\le 10^5$，保证没有重边。", "locale": "zh-CN", "translations": {"en": {"title": "Locking Down Sunshine University", "background": "", "description": "Cao is a veteran who loves cruising around. During the summer break, he happily cruises through the campus streets of Sunshine University every day. The He Xie (河蟹) feel annoyed seeing happy Cao and decide to lock down Sunshine University so that Cao cannot cruise around.\n\nThe campus of Sunshine University is an undirected graph with $n$ vertices connected by $m$ roads. Each He Xie can block one vertex. When a vertex is blocked, all roads incident to this vertex are blocked, and Cao cannot cruise on those roads. Unfortunately, the He Xie are disharmonious creatures: if two He Xie block two adjacent vertices, they will get into a conflict.\n\nQuestion: What is the minimum number of He Xie needed to block all roads without any conflicts?", "inputFormat": "The first line contains two positive integers, the number of vertices and the number of edges.  \nThen $m$ lines follow. Each line contains two integers $u, v$, indicating that there is a road between vertices $u$ and $v$.", "outputFormat": "Output a single line. If the He Xie cannot block all roads, output `Impossible`. Otherwise, output a single integer, the minimum number of He Xie required.", "hint": "Constraints  \nFor $100\\%$ of the testdata, $1 \\le n \\le 10^4$, $1 \\le m \\le 10^5$, and there are no multiple edges.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "封锁阳光大学", "background": null, "description": "曹是一只爱刷街的老曹，暑假期间，他每天都欢快地在阳光大学的校园里刷街。河蟹看到欢快的曹，感到不爽。河蟹决定封锁阳光大学，不让曹刷街。\n\n阳光大学的校园是一张由 $n$ 个点构成的无向图，$n$ 个点之间由 $m$ 条道路连接。每只河蟹可以对一个点进行封锁，当某个点被封锁后，与这个点相连的道路就被封锁了，曹就无法在这些道路上刷街了。非常悲剧的一点是，河蟹是一种不和谐的生物，当两只河蟹封锁了相邻的两个点时，他们会发生冲突。\n\n询问：最少需要多少只河蟹，可以封锁所有道路并且不发生冲突。", "inputFormat": "第一行两个正整数，表示节点数和边数。\n接下来 $m$ 行，每行两个整数 $u,v$，表示点 $u$ 到点 $v$ 之间有道路相连。", "outputFormat": "仅一行，如果河蟹无法封锁所有道路，则输出 `Impossible`，否则输出一个整数，表示最少需要多少只河蟹。", "hint": "【数据规模】   \n对于 $100\\%$ 的数据，$1\\le n \\le 10^4$，$1\\le m \\le 10^5$，保证没有重边。", "locale": "zh-CN"}}}
{"pid": "P1331", "type": "P", "difficulty": 2, "samples": [["6 8\n.....#.#\n##.....#\n##.....#\n.......#\n#......#\n#..#...#", "There are 5 ships.\n"]], "limits": {"time": [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["搜索", "福建省历届夏令营", "广度优先搜索 BFS", "深度优先搜索 DFS"], "title": "海战", "background": "在峰会期间，武装部队得处于高度戒备。警察将监视每一条大街，军队将保卫建筑物，领空将布满了 F-2003 飞机。\n\n此外，巡洋船只和舰队将被派去保护海岸线。不幸的是，因为种种原因，国防海军部仅有很少的几位军官能指挥大型海战。因此，他们培养了一些新海军指挥官。军官们选择了“海战”游戏来帮助他们学习。", "description": "在一个方形的盘上，放置了固定数量和形状的船只，每只船却不能碰到其它的船。在本题中，我们认为船是方形的，所有的船只都是由图形组成的方形。\n\n求出该棋盘上放置的船只的总数。", "inputFormat": "第一行为两个整数 $R$ 和 $C$，用空格隔开，分别表示游戏棋盘的行数和列数。\n\n接下来 $R$ 行，每行 $C$ 个字符，为 `#` 或 `.`。`#` 表示船只的一部分，`.` 表示水。", "outputFormat": "一行一个字符串，如果船的位置放得正确（即棋盘上只存在相互之间不能接触的方形，如果两个 `#` 号上下相邻或左右相邻却分属两艘不同的船只，则称这两艘船相互接触了）。就输出 `There are S ships.`，$S$ 表示船只的数量。否则输出 `Bad placement.`。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le R,C \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Naval Battle", "background": "During the summit, the armed forces are on high alert. Police will monitor every street, the army will guard buildings, and the airspace will be filled with F-2003 aircraft.\n\nIn addition, cruisers and fleets will be sent to protect the coastline. Unfortunately, for various reasons, only a few officers in the Navy can command large naval battles. Therefore, they have trained some new naval commanders. The officers chose the \"Sea Battle\" game to help them learn.", "description": "On a square board, a fixed number of ships with fixed shapes are placed, and no ship may touch any other ship. In this problem, each ship is a square: every ship must be a solid square composed of connected `#` cells with sides parallel to the grid axes.\n\nCompute the total number of ships placed on the board.", "inputFormat": "The first line contains two integers $R$ and $C$, separated by a space, denoting the number of rows and columns of the game board.\n\nEach of the next $R$ lines contains $C$ characters, each being `#` or `.`. `#` denotes a part of a ship, and `.` denotes water.", "outputFormat": "Output one line. If the placement is correct (that is, the board consists only of pairwise non-touching square ships; if two `#` cells are vertically or horizontally adjacent but belong to two different ships, then those two ships are considered touching), output `There are S ships.`, where $S$ is the number of ships. Otherwise, output `Bad placement.`.", "hint": "For $100\\%$ of the testdata, $1 \\le R, C \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "海战", "background": "在峰会期间，武装部队得处于高度戒备。警察将监视每一条大街，军队将保卫建筑物，领空将布满了 F-2003 飞机。\n\n此外，巡洋船只和舰队将被派去保护海岸线。不幸的是，因为种种原因，国防海军部仅有很少的几位军官能指挥大型海战。因此，他们培养了一些新海军指挥官。军官们选择了“海战”游戏来帮助他们学习。", "description": "在一个方形的盘上，放置了固定数量和形状的船只，每只船却不能碰到其它的船。在本题中，我们认为船是方形的，所有的船只都是由图形组成的方形。\n\n求出该棋盘上放置的船只的总数。", "inputFormat": "第一行为两个整数 $R$ 和 $C$，用空格隔开，分别表示游戏棋盘的行数和列数。\n\n接下来 $R$ 行，每行 $C$ 个字符，为 `#` 或 `.`。`#` 表示船只的一部分，`.` 表示水。", "outputFormat": "一行一个字符串，如果船的位置放得正确（即棋盘上只存在相互之间不能接触的方形，如果两个 `#` 号上下相邻或左右相邻却分属两艘不同的船只，则称这两艘船相互接触了）。就输出 `There are S ships.`，$S$ 表示船只的数量。否则输出 `Bad placement.`。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le R,C \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1332", "type": "P", "difficulty": 3, "samples": [["5 4 2 3\n1 1\n5 4\n3 3\n5 3\n2 4\n", "3\n1\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "福建省历届夏令营", "广度优先搜索 BFS", "剪枝"], "title": "血色先锋队", "background": "巫妖王的天灾军团终于卷土重来，血色十字军组织了一支先锋军前往诺森德大陆对抗天灾军团，以及一切沾有亡灵气息的生物。孤立于联盟和部落的血色先锋军很快就遭到了天灾军团的重重包围，现在他们将主力只好聚集了起来，以抵抗天灾军团的围剿。可怕的是，他们之中有人感染上了亡灵瘟疫，如果不设法阻止瘟疫的扩散，很快就会遭到灭顶之灾。大领主阿比迪斯已经开始调查瘟疫的源头。原来是血色先锋军的内部出现了叛徒，这个叛徒已经投靠了天灾军团，想要将整个血色先锋军全部转化为天灾军团！无需惊讶，你就是那个叛徒。在你的行踪败露之前，要尽快完成巫妖王交给你的任务。", "description": "军团是一个 $n$ 行 $m$ 列的矩阵，每个单元是一个血色先锋军的成员。感染瘟疫的人，每过一个小时，就会向四周扩散瘟疫，直到所有人全部感染上瘟疫。你已经掌握了感染源的位置，任务是算出血色先锋军的领主们感染瘟疫的时间，并且将它报告给巫妖王，以便对血色先锋军进行一轮有针对性的围剿。", "inputFormat": "第 $1$ 行：四个整数 $n$，$m$，$a$，$b$，表示军团矩阵有 $n$ 行 $m$ 列。有 $a$ 个感染源，$b$ 为血色敢死队中领主的数量。\n\n接下来 $a$ 行：每行有两个整数 $x$，$y$，表示感染源在第 $x$ 行第 $y$ 列。\n\n接下来 $b$ 行：每行有两个整数 $x$，$y$，表示领主的位置在第 $x$ 行第 $y$ 列。\n", "outputFormat": "第 $1$ 至 $b$ 行：每行一个整数，表示这个领主感染瘟疫的时间，输出顺序与输入顺序一致。如果某个人的位置在感染源，那么他感染瘟疫的时间为 $0$。", "hint": "#### 输入输出样例 1 解释\n\n如下图，标记出了所有人感染瘟疫的时间以及感染源和领主的位置。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3j3g02cn.png)\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n,m\\le500$，$1\\le a,b\\le10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Scarlet Vanguard", "background": "The Lich King’s Scourge has returned in force. The Scarlet Crusade organized a vanguard to sail to Northrend to fight the Scourge and any creature tainted by undeath. Isolated from both the Alliance and the Horde, the Scarlet Vanguard was soon surrounded by the Scourge. They gathered their main forces to resist the encirclement. Terrifyingly, some of them have been infected by the undead plague. If the spread is not stopped, annihilation is imminent. Highlord Abbendis has begun investigating the source of the plague. It turns out there is a traitor within the Scarlet Vanguard who has defected to the Scourge, seeking to convert the entire Scarlet Vanguard into the Scourge! Do not be surprised—you are that traitor. Before your identity is exposed, you must quickly complete the task assigned to you by the Lich King.", "description": "The legion is an $n$ by $m$ matrix, and each cell represents a member of the Scarlet Vanguard. An infected person spreads the plague to the four adjacent cells (up, down, left, right) every hour, until everyone is infected. You already know the positions of the infection sources. Your task is to compute the time when each of the Scarlet Vanguard’s lords becomes infected, and report it to the Lich King to enable a targeted strike against the Scarlet Vanguard.", "inputFormat": "Line $1$: Four integers $n$, $m$, $a$, $b$, meaning the legion matrix has $n$ rows and $m$ columns. There are $a$ infection sources, and $b$ is the number of lords in the Scarlet Vanguard.\n\nThe next $a$ lines: Each line has two integers $x$, $y$, indicating an infection source at row $x$, column $y$.\n\nThe next $b$ lines: Each line has two integers $x$, $y$, indicating a lord at row $x$, column $y$.", "outputFormat": "Lines $1$ to $b$: Each line contains one integer, the time when that lord becomes infected. The output order matches the input order. If a person’s position is an infection source, then their infection time is $0$.", "hint": "#### Explanation for Sample 1\n\nAs shown below, the infection times for all people, and the positions of infection sources and lords, are marked.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3j3g02cn.png)\n\n#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\le n, m \\le 500$, $1 \\le a, b \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "血色先锋队", "background": "巫妖王的天灾军团终于卷土重来，血色十字军组织了一支先锋军前往诺森德大陆对抗天灾军团，以及一切沾有亡灵气息的生物。孤立于联盟和部落的血色先锋军很快就遭到了天灾军团的重重包围，现在他们将主力只好聚集了起来，以抵抗天灾军团的围剿。可怕的是，他们之中有人感染上了亡灵瘟疫，如果不设法阻止瘟疫的扩散，很快就会遭到灭顶之灾。大领主阿比迪斯已经开始调查瘟疫的源头。原来是血色先锋军的内部出现了叛徒，这个叛徒已经投靠了天灾军团，想要将整个血色先锋军全部转化为天灾军团！无需惊讶，你就是那个叛徒。在你的行踪败露之前，要尽快完成巫妖王交给你的任务。", "description": "军团是一个 $n$ 行 $m$ 列的矩阵，每个单元是一个血色先锋军的成员。感染瘟疫的人，每过一个小时，就会向四周扩散瘟疫，直到所有人全部感染上瘟疫。你已经掌握了感染源的位置，任务是算出血色先锋军的领主们感染瘟疫的时间，并且将它报告给巫妖王，以便对血色先锋军进行一轮有针对性的围剿。", "inputFormat": "第 $1$ 行：四个整数 $n$，$m$，$a$，$b$，表示军团矩阵有 $n$ 行 $m$ 列。有 $a$ 个感染源，$b$ 为血色敢死队中领主的数量。\n\n接下来 $a$ 行：每行有两个整数 $x$，$y$，表示感染源在第 $x$ 行第 $y$ 列。\n\n接下来 $b$ 行：每行有两个整数 $x$，$y$，表示领主的位置在第 $x$ 行第 $y$ 列。\n", "outputFormat": "第 $1$ 至 $b$ 行：每行一个整数，表示这个领主感染瘟疫的时间，输出顺序与输入顺序一致。如果某个人的位置在感染源，那么他感染瘟疫的时间为 $0$。", "hint": "#### 输入输出样例 1 解释\n\n如下图，标记出了所有人感染瘟疫的时间以及感染源和领主的位置。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3j3g02cn.png)\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le n,m\\le500$，$1\\le a,b\\le10^5$。", "locale": "zh-CN"}}}
{"pid": "P1333", "type": "P", "difficulty": 4, "samples": [["blue red\nred violet\ncyan blue\nblue magenta\nmagenta cyan\n", "Possible\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "福建省历届夏令营", "欧拉回路"], "title": "瑞瑞的木棍", "background": null, "description": "瑞瑞有一堆的玩具木棍，每根木棍的两端分别被染上了某种颜色，现在他突然有了一个想法，想要把这些木棍连在一起拼成一条线，并且使得木棍与木棍相接触的两端颜色都是相同的，给出每根木棍两端的颜色，请问是否存在满足要求的排列方式。\n\n例如，如果只有 $2$ 根木棍，第一根两端的颜色分别为 `red` 和 `blue`，第二根两端的颜色分别为 `red` 和 `yellow`，那么 `blue --- red | red --- yellow` 便是一种满足要求的排列方式。", "inputFormat": "输入有若干行，每行包括两个单词，表示一根木棍两端的颜色，单词由小写字母组成，且单词长度不会超过 $10$ 个字母，最多有 $250000$ 根木棍。", "outputFormat": "如果木棒能够按要求排列，输出 `Possible`，否则输出 `Impossible`。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Ruirui's Sticks", "background": "", "description": "Ruirui has a pile of toy sticks. Each stick has a color painted on each end. He suddenly has an idea: he wants to connect these sticks end to end to form a single line, such that the colors on the touching ends of adjacent sticks are the same. Given the colors on both ends of each stick, determine whether there exists an arrangement that meets this requirement.\n\nFor example, if there are only $2$ sticks, the first stick has colors `red` and `blue` on its ends, and the second stick has colors `red` and `yellow` on its ends, then `blue --- red | red --- yellow` is a valid arrangement.", "inputFormat": "The input consists of multiple lines. Each line contains two words representing the colors on the two ends of a stick. Each word consists of lowercase letters, and the length of each word does not exceed $10$ letters. There are at most $250000$ sticks.", "outputFormat": "If the sticks can be arranged as required, output `Possible`; otherwise, output `Impossible`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "瑞瑞的木棍", "background": null, "description": "瑞瑞有一堆的玩具木棍，每根木棍的两端分别被染上了某种颜色，现在他突然有了一个想法，想要把这些木棍连在一起拼成一条线，并且使得木棍与木棍相接触的两端颜色都是相同的，给出每根木棍两端的颜色，请问是否存在满足要求的排列方式。\n\n例如，如果只有 $2$ 根木棍，第一根两端的颜色分别为 `red` 和 `blue`，第二根两端的颜色分别为 `red` 和 `yellow`，那么 `blue --- red | red --- yellow` 便是一种满足要求的排列方式。", "inputFormat": "输入有若干行，每行包括两个单词，表示一根木棍两端的颜色，单词由小写字母组成，且单词长度不会超过 $10$ 个字母，最多有 $250000$ 根木棍。", "outputFormat": "如果木棒能够按要求排列，输出 `Possible`，否则输出 `Impossible`。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1334", "type": "P", "difficulty": 3, "samples": [["3\n8\n5\n8\n", "34\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["堆", "福建省历届夏令营", "排序"], "title": "瑞瑞的木板", "background": "瑞瑞想要亲自修复在他的一个小牧场周围的围栏。", "description": "他测量栅栏并发现他需要 $n$ 根木板，每根的长度为整数 $l_i$。于是，他买了一根足够长的木板，长度为所需的 $n$ 根木板的长度的总和，他决定将这根木板切成所需的 $n$ 根木板（瑞瑞在切割木板时不会产生木屑，不需考虑切割时损耗的长度)。\n\n瑞瑞切割木板时使用的是一种特殊的方式，这种方式在将一根长度为 $x$ 的木板切为两根时，需要消耗 $x$ 个单位的能量。瑞瑞拥有无尽的能量，但现在提倡节约能量，所以作为榜样，他决定尽可能节约能量。显然，总共需要切割 $(n-1)$ 次，问题是，每次应该怎么切呢？请编程计算最少需要消耗的能量总和。", "inputFormat": "输入的第一行是整数，表示所需木板的数量 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $l_i$ 代表第  $i$ 根木板的长度 $l_i$。", "outputFormat": "一个整数，表示最少需要消耗的能量总和。", "hint": "#### 输入输出样例 1 解释\n\n将长度为 $21$ 的木板，第一次切割为长度为 $8$ 和长度为 $13$ 的，消耗 $21$ 个单位的能量，第二次将长度为 $13$ 的木板切割为长度为 $5$ 和 $8$ 的，消耗 $13$ 个单位的能量，共消耗 $34$ 个单位的能量，是消耗能量最小的方案。\n\n----\n\n#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 2 \\times 10^4$，$1 \\leq l_i \\leq 5 \\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "{{Ruirui's Wooden Boards}}", "background": "{{Ruirui wants to repair the fence around his small pasture by himself.}}", "description": "{{He measured the fence and found that he needs $n$ wooden boards, each with an integer length $l_i$. So, he bought one board long enough, whose length equals the sum of the required $n$ boards, and decided to cut it into the $n$ boards he needs (Ruirui produces no sawdust when cutting, so ignore any loss of length).\n\nRuirui uses a special method: cutting a board of length $x$ into two pieces costs $x$ units of energy. He has endless energy, but in the spirit of saving energy, he wants to minimize the total energy used. Clearly, there must be $(n-1)$ cuts in total. The question is: how should he cut each time? Please compute the minimum possible total energy.}}", "inputFormat": "{{The first line contains an integer $n$, the number of boards needed.\n\nLines $2$ to $n+1$ each contain one integer. The integer on line $(i+1)$ is $l_i$, the length of the $i$-th board.}}", "outputFormat": "{{Output a single integer, the minimum total energy required.}}", "hint": "{{Explanation for Sample 1\n\nCut the board of length $21$ first into lengths $8$ and $13$, costing $21$ units of energy. Then cut the board of length $13$ into $5$ and $8$, costing $13$ units of energy. The total cost is $34$ units, which is minimal.\n\n----\n\nConstraints\n\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 2 \\times 10^4$, $1 \\le l_i \\le 5 \\times 10^4$.}}\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "瑞瑞的木板", "background": "瑞瑞想要亲自修复在他的一个小牧场周围的围栏。", "description": "他测量栅栏并发现他需要 $n$ 根木板，每根的长度为整数 $l_i$。于是，他买了一根足够长的木板，长度为所需的 $n$ 根木板的长度的总和，他决定将这根木板切成所需的 $n$ 根木板（瑞瑞在切割木板时不会产生木屑，不需考虑切割时损耗的长度)。\n\n瑞瑞切割木板时使用的是一种特殊的方式，这种方式在将一根长度为 $x$ 的木板切为两根时，需要消耗 $x$ 个单位的能量。瑞瑞拥有无尽的能量，但现在提倡节约能量，所以作为榜样，他决定尽可能节约能量。显然，总共需要切割 $(n-1)$ 次，问题是，每次应该怎么切呢？请编程计算最少需要消耗的能量总和。", "inputFormat": "输入的第一行是整数，表示所需木板的数量 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $l_i$ 代表第  $i$ 根木板的长度 $l_i$。", "outputFormat": "一个整数，表示最少需要消耗的能量总和。", "hint": "#### 输入输出样例 1 解释\n\n将长度为 $21$ 的木板，第一次切割为长度为 $8$ 和长度为 $13$ 的，消耗 $21$ 个单位的能量，第二次将长度为 $13$ 的木板切割为长度为 $5$ 和 $8$ 的，消耗 $13$ 个单位的能量，共消耗 $34$ 个单位的能量，是消耗能量最小的方案。\n\n----\n\n#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 2 \\times 10^4$，$1 \\leq l_i \\leq 5 \\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1335", "type": "P", "difficulty": 7, "samples": [["11 2\nv 2 + c 19\ni v 2 c 3 7 3\ns 4 7\nv 1 + c 13\nv 2 - c 3\ni c 0 c 1 2 0\ni v 2 c 5 12 8\ns 9 12\nv 1 + c 23\nv 2 - c 5\ni c 0 c 1 7 0\n", "1\n1\n1\n2\n1\n1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "2013", "NOI", "提交答案", "Special Judge", "枚举"], "title": "[NOI2013] 小 Q 的修炼", "background": "", "description": "小 Q 最近发现了一款新游戏，游戏的目标是从一个新手修炼成为武功高强的大侠。面对错综复杂的游戏世界，小 Q 要对他面临的每件事情做出谨慎的选择。例如，是否参加一个陌生人邀请的比武；同意或是拒绝用宝剑交换他人的武功秘籍......而小 Q 做出的每一个选择都有可能影响到他以后的发展：面对一个高手，若主动与之比武，很可能会损失惨重；但若不去比武，也许今后就再也见不到这个高手了。\n\n对着这个游戏，小 Q 玩了很多次仍然玩不出他想要的结局，于是他费尽千辛万苦找到了游戏的剧本。令人惊讶的是,游戏的剧本并不像我们平时见到的剧本，反而很像代码。这个剧本是这样描述的：\n- 量：有 $2$ 种量，常数和变量。\n- 常数：一个整数。\n- 变量：初始值为 $0$ 的可变整数，不同变量用不同正整数编号区分。\n- 事件：整个剧本由若干个事件构成。所有的事件按照给定的顺序从 $1$ 开始依次编号。事件共有 $3$ 种：普通事件、选择跳转和条件跳转。\n- 执行位置：一个整数，表示接下来将会执行的事件编号，如果不存在这个编号的事件则停止，即游戏到了一个结局。最初的时候执行位置为 $1$。\n- 普通事件：一个变量增加或减少一个量的值。之后执行位置增加 $1$。\n- 选择跳转：两个整数。执行到这里时玩家需要在这两个整数中选择一个，之后执行位置将被修改为这个整数。\n- 条件跳转：两个量和两个整数。执行到这里时，若第一个量小于第二个量，则执行位置将被修改为第一个整数，否则将被修改为第二个整数。\n\n小 Q 认为，整个游戏是希望一个叫做「成就值」的变量（编号为 $1$）最大。", "inputFormat": "该题为提交答案型试题，所有输入数据 `train1.in`~`train10.in` 已在附加文件中。\n\n输入的第一行包含两个正整数 $n, m$，表示事件的个数和变量的个数。\n\n接下来有 $n$ 行，每行描述一个事件。这些事件按照给出的顺序依次编号为 $1$ 到 $n$。\n\n描述量和事件的格式如下（格式中 `#`表示空格）\n\n::cute-table{tuack}\n\n| 类型 | 格式 | 例子 |\n|:-:|:-:|:-:|\n| 常数 | `c#整数` | `c -2` |\n| 变量 | `v#正整数` | `v 5` |\n| 普通事件 | `变量#+#量` | `v 1 + c 1` |\n| 普通事件 | `变量#-#量` | `v 2 - c 2` |\n| 选择跳转 | `s#整数 1#整数 2` | `s 10 20` |\n| 条件跳转 | `i#量 1#量 2#整数 1#整数 2` | `i c 99 v 2 0 1` |\n", "outputFormat": "针对给定的 $10$ 个输入文件 `train1.in` ~ `train10.in`，你需要分别提交你的输出文件 `train1.out` ~ `train10.out`。\n\n每个文件需要输出若干行，每行输出一个字符 `1` 或 `2`，表示执行过程中遇到的每个选择跳转所作的选择。输出的行数需要严格等于此次游戏执行过程中遇到的选择跳转的个数。", "hint": "### 评分标准\n\n对于每组数据，我们采用如下方式评分：\n- 如果你的输出不合法,得 $0$ 分。\n- 如果你的输出执行了超过 $10^6$ 行剧本,得 $0$ 分。\n- 如果你的输出能让剧本正常结束，得 $1$ 分。\n- 如果你的输出能让剧本正常结束，且结束时成就值为正数，得 $2$ 分。\n\n我们设置了 $8$ 个评分参数 $a_3 , a_4 , \\ldots , a_{10}$。\n\n如果你的输出能让剧本正常结束，且结束时成就值不小于 $a_s$，得 $s$ 分。\n\n如果以上条目有多项满足，则取满足条件中的最高得分。\n\n### 如何测试你的输出\n\n我们提供 `checker` 这个工具来测试你的输出文件是否是可接受的。使用这个工具的方法是，首先进入终端，在终端中运行下面的命令进入本题的文件夹：\n\n`cd train`\n\n然后运行：\n\n`./checker <case_no>`\n\n其中 `case_no` 是测试数据的编号。例如\n\n`./checker 3`\n\n将测试 `train3.out` 是否可以接受。\n\n在你调用这个程序后，`checker` 将根据你给出的输出文件给出测试的结果，其中包括：\n- 非法退出：未知错误。\n- `Input/Output file does not exist.`：输入/输出文件不存在。\n- `Output invalid.`：输出文件有误,此时可能包含具体错误信息。\n- `Correct! Your answer is x.`：输出可接受,最后的成就值为 $x$。\n\n### 更多功能\n`checker` 还可以检查任意输入输出文件的测试结果，方法是在终端中运行：\n\n`cd train`\n\n`./checker <input_file_name> <output_file_name>`\n\n其中 `input_file_name` 和 `output_file_name` 分别是输入输出文件的名称。例如\n\n`./checker train3.in train3.out`\n\n将测试 `train3.out` 是否可以接受。\n\n使用 `-w` 可以输出每步运行的结果。用法是\n\n`./checker -w <input_file_name> <output_file_name>`\n\n或者\n\n`./checker -w <case_no>`\n\n例如\n\n`./checker -w train3.in train3.out`\n\n### 特别提示\n\n如果选手使用自己生成输入文件进行调试，有可能因规模过大造成 checker 出错。若发生这类情况，请尝试较小规模的数据。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2013] Xiao Q's Training", "background": "", "description": "Xiao Q recently found a new game whose goal is to train a novice into a master of martial arts. Facing a complex game world, Xiao Q must make careful choices for everything he encounters. For example, whether to accept a duel invitation from a stranger; whether to agree or refuse to exchange a treasured sword for someone else’s martial arts manual... Every choice Xiao Q makes may affect his future development: when facing an expert, actively dueling may cause heavy losses; but if he doesn’t duel, he might never meet that expert again.\n\nAfter playing many times without getting the ending he wants, Xiao Q finally managed to obtain the game’s script. Surprisingly, the script is not like the ones we usually see; it looks more like code. The script is described as follows:\n- Quantity: There are $2$ kinds of quantities, constants and variables.\n- Constant: An integer.\n- Variable: A mutable integer with initial value $0$. Different variables are distinguished by different positive integer IDs.\n- Event: The entire script consists of several events. All events are numbered in the given order starting from $1$. There are $3$ kinds of events: normal event, choice jump, and conditional jump.\n- Execution position: An integer indicating the event number to be executed next. If there is no event with this number, execution stops; that is, the game reaches an ending. Initially, the execution position is $1$.\n- Normal event: A variable increases or decreases by the value of a quantity. Afterwards, the execution position increases by $1$.\n- Choice jump: Two integers. When execution reaches this point, the player must choose one of the two integers, and the execution position will be set to that integer.\n- Conditional jump: Two quantities and two integers. When execution reaches this point, if the first quantity is less than the second quantity, the execution position will be set to the first integer; otherwise, it will be set to the second integer.\n\nXiao Q believes the game intends to maximize a variable called \"achievement value\" (ID $1$).", "inputFormat": "This is an answer-submission problem. All input data `train1.in` ~ `train10.in` are provided in the attached files.\n\nThe first line of input contains two positive integers $n, m$, denoting the number of events and the number of variables.\n\nThen there are $n$ lines, each describing an event. These events are numbered $1$ to $n$ in the given order.\n\nThe formats for quantities and events are as follows (in the format, `#` denotes a space):\n\n::cute-table{tuack}\n\n| Type | Format | Example |\n|:-:|:-:|:-:|\n| Constant | `c#整数` | `c -2` |\n| Variable | `v#正整数` | `v 5` |\n| Normal event | `变量#+#量` | `v 1 + c 1` |\n| Normal event | `变量#-#量` | `v 2 - c 2` |\n| Choice jump | `s#整数 1#整数 2` | `s 10 20` |\n| Conditional jump | `i#量 1#量 2#整数 1#整数 2` | `i c 99 v 2 0 1` |", "outputFormat": "For the given $10$ input files `train1.in` ~ `train10.in`, you need to submit your output files `train1.out` ~ `train10.out` respectively.\n\nEach file should output several lines, each line containing a single character `1` or `2`, indicating the choice made at each encountered choice jump during execution. The number of output lines must be exactly equal to the number of choice jumps encountered during this run.", "hint": "Scoring\n\nFor each set of data, we score as follows:\n- If your output is invalid, you get $0$ points.\n- If your output causes the script to execute more than $10^6$ lines, you get $0$ points.\n- If your output lets the script terminate normally, you get $1$ point.\n- If your output lets the script terminate normally and the final achievement value is positive, you get $2$ points.\n\nWe set $8$ scoring parameters $a_3 , a_4 , \\ldots , a_{10}$.\n\nIf your output lets the script terminate normally and the final achievement value is at least $a_s$, you get $s$ points.\n\nIf multiple items above are satisfied, the highest applicable score is taken.\n\nHow to test your output\n\nWe provide the tool `checker` to test whether your output file is acceptable. To use it, first open a terminal and run the following commands to enter this problem’s folder:\n\n`cd train`\n\nThen run:\n\n`./checker <case_no>`\n\nHere `case_no` is the testdata ID. For example,\n\n`./checker 3`\n\nwill test whether `train3.out` is acceptable.\n\nAfter you invoke this program, `checker` will report the test result for your output file, including:\n- Abnormal exit: Unknown error.\n- `Input/Output file does not exist.`: Input/output file does not exist.\n- `Output invalid.`: The output file is incorrect; specific error messages may be included.\n- `Correct! Your answer is x.`: The output is acceptable, and the final achievement value is $x$.\n\nMore features\n`checker` can also check arbitrary input/output files. In the terminal, run:\n\n`cd train`\n\n`./checker <input_file_name> <output_file_name>`\n\nwhere `input_file_name` and `output_file_name` are the names of the input and output files, respectively. For example,\n\n`./checker train3.in train3.out`\n\ntests whether `train3.out` is acceptable.\n\nUse `-w` to print the result of each execution step. Usage:\n\n`./checker -w <input_file_name> <output_file_name>`\n\nor\n\n`./checker -w <case_no>`\n\nFor example,\n\n`./checker -w train3.in train3.out`\n\nSpecial Note\n\nIf you use self-generated input files for debugging, the checker may fail due to excessive scale. If this happens, please try smaller-scale testdata.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2013] 小 Q 的修炼", "background": "", "description": "小 Q 最近发现了一款新游戏，游戏的目标是从一个新手修炼成为武功高强的大侠。面对错综复杂的游戏世界，小 Q 要对他面临的每件事情做出谨慎的选择。例如，是否参加一个陌生人邀请的比武；同意或是拒绝用宝剑交换他人的武功秘籍......而小 Q 做出的每一个选择都有可能影响到他以后的发展：面对一个高手，若主动与之比武，很可能会损失惨重；但若不去比武，也许今后就再也见不到这个高手了。\n\n对着这个游戏，小 Q 玩了很多次仍然玩不出他想要的结局，于是他费尽千辛万苦找到了游戏的剧本。令人惊讶的是,游戏的剧本并不像我们平时见到的剧本，反而很像代码。这个剧本是这样描述的：\n- 量：有 $2$ 种量，常数和变量。\n- 常数：一个整数。\n- 变量：初始值为 $0$ 的可变整数，不同变量用不同正整数编号区分。\n- 事件：整个剧本由若干个事件构成。所有的事件按照给定的顺序从 $1$ 开始依次编号。事件共有 $3$ 种：普通事件、选择跳转和条件跳转。\n- 执行位置：一个整数，表示接下来将会执行的事件编号，如果不存在这个编号的事件则停止，即游戏到了一个结局。最初的时候执行位置为 $1$。\n- 普通事件：一个变量增加或减少一个量的值。之后执行位置增加 $1$。\n- 选择跳转：两个整数。执行到这里时玩家需要在这两个整数中选择一个，之后执行位置将被修改为这个整数。\n- 条件跳转：两个量和两个整数。执行到这里时，若第一个量小于第二个量，则执行位置将被修改为第一个整数，否则将被修改为第二个整数。\n\n小 Q 认为，整个游戏是希望一个叫做「成就值」的变量（编号为 $1$）最大。", "inputFormat": "该题为提交答案型试题，所有输入数据 `train1.in`~`train10.in` 已在附加文件中。\n\n输入的第一行包含两个正整数 $n, m$，表示事件的个数和变量的个数。\n\n接下来有 $n$ 行，每行描述一个事件。这些事件按照给出的顺序依次编号为 $1$ 到 $n$。\n\n描述量和事件的格式如下（格式中 `#`表示空格）\n\n::cute-table{tuack}\n\n| 类型 | 格式 | 例子 |\n|:-:|:-:|:-:|\n| 常数 | `c#整数` | `c -2` |\n| 变量 | `v#正整数` | `v 5` |\n| 普通事件 | `变量#+#量` | `v 1 + c 1` |\n| 普通事件 | `变量#-#量` | `v 2 - c 2` |\n| 选择跳转 | `s#整数 1#整数 2` | `s 10 20` |\n| 条件跳转 | `i#量 1#量 2#整数 1#整数 2` | `i c 99 v 2 0 1` |\n", "outputFormat": "针对给定的 $10$ 个输入文件 `train1.in` ~ `train10.in`，你需要分别提交你的输出文件 `train1.out` ~ `train10.out`。\n\n每个文件需要输出若干行，每行输出一个字符 `1` 或 `2`，表示执行过程中遇到的每个选择跳转所作的选择。输出的行数需要严格等于此次游戏执行过程中遇到的选择跳转的个数。", "hint": "### 评分标准\n\n对于每组数据，我们采用如下方式评分：\n- 如果你的输出不合法,得 $0$ 分。\n- 如果你的输出执行了超过 $10^6$ 行剧本,得 $0$ 分。\n- 如果你的输出能让剧本正常结束，得 $1$ 分。\n- 如果你的输出能让剧本正常结束，且结束时成就值为正数，得 $2$ 分。\n\n我们设置了 $8$ 个评分参数 $a_3 , a_4 , \\ldots , a_{10}$。\n\n如果你的输出能让剧本正常结束，且结束时成就值不小于 $a_s$，得 $s$ 分。\n\n如果以上条目有多项满足，则取满足条件中的最高得分。\n\n### 如何测试你的输出\n\n我们提供 `checker` 这个工具来测试你的输出文件是否是可接受的。使用这个工具的方法是，首先进入终端，在终端中运行下面的命令进入本题的文件夹：\n\n`cd train`\n\n然后运行：\n\n`./checker <case_no>`\n\n其中 `case_no` 是测试数据的编号。例如\n\n`./checker 3`\n\n将测试 `train3.out` 是否可以接受。\n\n在你调用这个程序后，`checker` 将根据你给出的输出文件给出测试的结果，其中包括：\n- 非法退出：未知错误。\n- `Input/Output file does not exist.`：输入/输出文件不存在。\n- `Output invalid.`：输出文件有误,此时可能包含具体错误信息。\n- `Correct! Your answer is x.`：输出可接受,最后的成就值为 $x$。\n\n### 更多功能\n`checker` 还可以检查任意输入输出文件的测试结果，方法是在终端中运行：\n\n`cd train`\n\n`./checker <input_file_name> <output_file_name>`\n\n其中 `input_file_name` 和 `output_file_name` 分别是输入输出文件的名称。例如\n\n`./checker train3.in train3.out`\n\n将测试 `train3.out` 是否可以接受。\n\n使用 `-w` 可以输出每步运行的结果。用法是\n\n`./checker -w <input_file_name> <output_file_name>`\n\n或者\n\n`./checker -w <case_no>`\n\n例如\n\n`./checker -w train3.in train3.out`\n\n### 特别提示\n\n如果选手使用自己生成输入文件进行调试，有可能因规模过大造成 checker 出错。若发生这类情况，请尝试较小规模的数据。", "locale": "zh-CN"}}}
{"pid": "P1336", "type": "P", "difficulty": 3, "samples": [["10 3\n2 1\n1 2\n2 1\n", "19\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "福建省历届夏令营"], "title": "最佳课题选择", "background": "", "description": "Matrix67 要在下个月交给老师 $n$ 篇论文，论文的内容可以从 $m$ 个课题中选择。由于课题数有限，Matrix67 不得不重复选择一些课题。完成不同课题的论文所花的时间不同。具体地说，对于某个课题 $i$，若 Matrix67 计划一共写 $x$ 篇论文，则完成该课题的论文总共需要花费 $A_i\\times x^{B_i}$ 个单位时间。给定与每一个课题相对应的 $A_i$ 和 $B_i$ 的值，请帮助 Matrix67 计算出如何选择论文的课题使得他可以花费最少的时间完成这 $n$ 篇论文。", "inputFormat": "第一行两个整数 $n$ 和 $m$，分别代表需要完成的论文数和可供选择的课题数。\n\n接下来 $m$ 行每行两个整数。其中，第 $i$ 行的两个数分别代表与第 $i$ 个课题相对应的时间系数 $A_i$ 和指数 $B_i$。", "outputFormat": "输出完成 $n$ 篇论文所需要耗费的最少时间。", "hint": "### 样例说明\n\n$4$ 篇论文选择课题一，$5$ 篇论文选择课题三，剩下一篇论文选择课题二，总耗时为 $2\\times4^1+1\\times1^2+2\\times5^1=8+1+10=19$ 。可以证明，不存在更优的方案使耗时小于 $19$。\n\n### 数据规模与约定\n\n对于 $30\\%$ 的数据，$n\\le10,m\\le5$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le200$，$1\\le m\\le20$，$1\\le A_i\\le100$，$1\\le B_i \\le 5$。", "locale": "zh-CN", "translations": {"en": {"title": "Best Topic Selection", "background": "", "description": "Matrix67 must submit $n$ papers to his teacher next month. The content of each paper can be chosen from $m$ topics. Since the number of topics is limited, Matrix67 has to reuse some topics. The time required to complete papers on different topics varies. Specifically, for topic $i$, if Matrix67 plans to write a total of $x$ papers, then the total time needed for that topic is $A_i \\times x^{B_i}$ time units. Given $A_i$ and $B_i$ for each topic, please help Matrix67 determine how to choose the topics for the $n$ papers so that the total time is minimized.", "inputFormat": "The first line contains two integers $n$ and $m$, representing the number of papers to complete and the number of available topics, respectively.  \nThe next $m$ lines each contain two integers. On the $i$-th line, the two numbers represent the time coefficient $A_i$ and the exponent $B_i$ corresponding to topic $i$.", "outputFormat": "Output the minimum total time required to complete $n$ papers.", "hint": "Sample Explanation:  \nChoose topic 1 for $4$ papers, topic 3 for $5$ papers, and topic 2 for the remaining $1$ paper. The total time is $2\\times4^1+1\\times1^2+2\\times5^1=8+1+10=19$. It can be proven that there is no better plan with total time less than $19$.\n\nConstraints:  \nFor $30\\%$ of the testdata, $n \\le 10$, $m \\le 5$.  \nFor $100\\%$ of the testdata, $1 \\le n \\le 200$, $1 \\le m \\le 20$, $1 \\le A_i \\le 100$, $1 \\le B_i \\le 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最佳课题选择", "background": "", "description": "Matrix67 要在下个月交给老师 $n$ 篇论文，论文的内容可以从 $m$ 个课题中选择。由于课题数有限，Matrix67 不得不重复选择一些课题。完成不同课题的论文所花的时间不同。具体地说，对于某个课题 $i$，若 Matrix67 计划一共写 $x$ 篇论文，则完成该课题的论文总共需要花费 $A_i\\times x^{B_i}$ 个单位时间。给定与每一个课题相对应的 $A_i$ 和 $B_i$ 的值，请帮助 Matrix67 计算出如何选择论文的课题使得他可以花费最少的时间完成这 $n$ 篇论文。", "inputFormat": "第一行两个整数 $n$ 和 $m$，分别代表需要完成的论文数和可供选择的课题数。\n\n接下来 $m$ 行每行两个整数。其中，第 $i$ 行的两个数分别代表与第 $i$ 个课题相对应的时间系数 $A_i$ 和指数 $B_i$。", "outputFormat": "输出完成 $n$ 篇论文所需要耗费的最少时间。", "hint": "### 样例说明\n\n$4$ 篇论文选择课题一，$5$ 篇论文选择课题三，剩下一篇论文选择课题二，总耗时为 $2\\times4^1+1\\times1^2+2\\times5^1=8+1+10=19$ 。可以证明，不存在更优的方案使耗时小于 $19$。\n\n### 数据规模与约定\n\n对于 $30\\%$ 的数据，$n\\le10,m\\le5$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le200$，$1\\le m\\le20$，$1\\le A_i\\le100$，$1\\le B_i \\le 5$。", "locale": "zh-CN"}}}
{"pid": "P1337", "type": "P", "difficulty": 5, "samples": [["3\n0 0 1\n0 2 1\n1 1 1", "0.577 1.000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["计算几何", "2004", "二分", "各省省选", "三分", "江苏", "模拟退火", "凸包", "梯度下降法"], "title": "[JSOI2004] 平衡点 / 吊打XXX", "background": null, "description": "如图，有 $n$ 个重物，每个重物系在一条足够长的绳子上。\n\n每条绳子自上而下穿过桌面上的洞，然后系在一起。图中 $x$ 处就是公共的绳结。假设绳子是完全弹性的（即不会造成能量损失），桌子足够高（重物不会垂到地上），且忽略所有的摩擦，求绳结 $x$ 最终平衡于何处。\n\n**注意**：桌面上的洞都比绳结 $x$ 小得多，所以即使某个重物特别重，绳结 $x$ 也不可能穿过桌面上的洞掉下来，最多是卡在某个洞口处。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u20jvui9.png)", "inputFormat": "文件的第一行为一个正整数 $n$（$1\\le n\\le 1000$），表示重物和洞的数目。\n\n接下来的 $n$ 行，每行是 $3$ 个整数 $x_i, y_i, w_i$，分别表示第 $i$ 个洞的坐标以及第 $i$ 个重物的重量。（$-10000\\le x_i,y_i\\le10000, 0<w_i\\le1000$）", "outputFormat": "你的程序必须输出两个浮点数（保留小数点后三位），分别表示处于最终平衡状态时绳结 $x$ 的横坐标和纵坐标。两个数以一个空格隔开。", "hint": "数据保证平衡点是唯一的，也就是说形如 $n=2$ 且两个物品质量相等的情况不会出现。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2004] Balance Point / Crushing XXX", "background": "", "description": "As shown in the figure, there are $n$ weights, each tied to a sufficiently long rope.\n\nEach rope passes from above through a hole on the tabletop and then they are tied together. The point $x$ in the figure is the common knot. Assume the ropes are perfectly elastic (i.e., cause no energy loss), the table is high enough (the weights will not reach the ground), and all friction is ignored. Find the final equilibrium position of the knot $x$.\n\nNote: The holes on the tabletop are much smaller than the knot $x$, so even if some weight is particularly heavy, the knot $x$ cannot pass through a hole and fall. At most, it will get stuck at the edge of some hole.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u20jvui9.png)", "inputFormat": "The first line of the file is a positive integer $n$ ($1 \\le n \\le 1000$), indicating the number of weights and holes.\n\nThe next $n$ lines each contain $3$ integers $x_i, y_i, w_i$, denoting the coordinates of the $i$-th hole and the weight of the $i$-th object, respectively ($-10000 \\le x_i, y_i \\le 10000, 0 < w_i \\le 1000$).", "outputFormat": "Your program must output two floating-point numbers (rounded to three decimal places), representing the $x$-coordinate and $y$-coordinate of the knot $x$ at the final equilibrium position. The two numbers are separated by a space.", "hint": "The testdata guarantees that the balance point is unique, i.e., cases like $n=2$ with two equal masses will not appear.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2004] 平衡点 / 吊打XXX", "background": null, "description": "如图，有 $n$ 个重物，每个重物系在一条足够长的绳子上。\n\n每条绳子自上而下穿过桌面上的洞，然后系在一起。图中 $x$ 处就是公共的绳结。假设绳子是完全弹性的（即不会造成能量损失），桌子足够高（重物不会垂到地上），且忽略所有的摩擦，求绳结 $x$ 最终平衡于何处。\n\n**注意**：桌面上的洞都比绳结 $x$ 小得多，所以即使某个重物特别重，绳结 $x$ 也不可能穿过桌面上的洞掉下来，最多是卡在某个洞口处。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/u20jvui9.png)", "inputFormat": "文件的第一行为一个正整数 $n$（$1\\le n\\le 1000$），表示重物和洞的数目。\n\n接下来的 $n$ 行，每行是 $3$ 个整数 $x_i, y_i, w_i$，分别表示第 $i$ 个洞的坐标以及第 $i$ 个重物的重量。（$-10000\\le x_i,y_i\\le10000, 0<w_i\\le1000$）", "outputFormat": "你的程序必须输出两个浮点数（保留小数点后三位），分别表示处于最终平衡状态时绳结 $x$ 的横坐标和纵坐标。两个数以一个空格隔开。", "hint": "数据保证平衡点是唯一的，也就是说形如 $n=2$ 且两个物品质量相等的情况不会出现。", "locale": "zh-CN"}}}
{"pid": "P1338", "type": "P", "difficulty": 3, "samples": [["5 4\n", "1 3 5 4 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "贪心", "矩阵运算"], "title": "末日的传说", "background": null, "description": "只要是参加 jsoi 活动的同学一定都听说过 Hanoi 塔的传说：三根柱子上的金片每天被移动一次，当所有的金片都被移完之后，世界末日也就随之降临了。\n\n在古老东方的幻想乡，人们都采用一种奇特的方式记录日期：他们用一些特殊的符号来表示从 $1$ 开始的连续整数，$1$ 表示最小而 $n$ 表示最大。创世纪的第一天，日历就被赋予了生命，它自动地开始计数，就像排列不断地增加。\n\n我们用 $1-n$ 来表示日历的元素，第一天日历就是：\n$$1,2,\\ldots,n-2,n-1,n$$\n第二天，日历自动变为：\n$$1,2,\\ldots,n-2,n,n-1$$\n······\n\n每次它都生成一个以前未出现过的“最小”的排列——把它转为 $n+1$ 进制后数的数值最小。\n\n日子一天一天地过着。有一天，一位预言者出现了——他预言道，当这个日历到达某个上帝安排的时刻，这个世界就会崩溃······他还预言到，假如某一个日期的逆序达到一个值 $m$ 的时候，世界末日就要降临。\n\n什么是逆序？日历中的两个不同符号，假如排在前面的那个比排在后面的那个更大，就是一个逆序，一个日期的逆序总数达到 $m$ 后，末日就要降临，人们都期待一个贤者，能够预见那一天到底将在什么时候到来？", "inputFormat": "只包含一行两个正整数，分别为 $n$ 和 $m$。", "outputFormat": "输出一行，为世界末日的日期，每个数字之间用一个空格隔开。", "hint": "对于 $10\\%$ 的数据有 $n\\le10$；\n\n对于 $40\\%$ 的数据有 $n\\le1000$；\n\n对于 $100\\%$ 的数据有 $n\\le5\\times10^4$。\n\n所有数据均有解。", "locale": "zh-CN", "translations": {"en": {"title": "Legend of Doomsday", "background": "", "description": "Anyone who has participated in JSOI events must have heard the legend of the Tower of Hanoi: the disks on three pegs are moved once per day, and when all disks have been moved, the end of the world will come.\n\nIn a fantasy land of the ancient East, people record dates in a peculiar way: they use special symbols to denote consecutive integers starting from 1, where 1 is the smallest and n is the largest. On the first day of creation, the calendar was given life; it started counting automatically, as permutations keep increasing.\n\nWe denote the calendar’s elements by 1..n. On day one, the calendar is:\n$$1,2,\\ldots,n-2,n-1,n$$\nOn the second day, it becomes:\n$$1,2,\\ldots,n-2,n,n-1$$\n... Each time, it produces a “smallest” permutation not seen before—after converting it to base $n+1$, its numeric value is minimal.\n\nDays pass one by one. One day, a prophet appeared—he foretold that when this calendar reaches a moment arranged by God, the world would collapse... He also prophesied that if the inversion count of some date reaches a value $m$, doomsday will come.\n\nWhat is an inversion? For two different symbols in the calendar, if the one that appears earlier is greater than the one that appears later, that forms an inversion. When the total number of inversions of a date reaches $m$, doomsday comes. People are waiting for a sage who can foresee exactly when that day will arrive. Your task is to determine that date.", "inputFormat": "A single line containing two positive integers $n$ and $m$.", "outputFormat": "Output one line: the date of doomsday, with numbers separated by a single space.", "hint": "For 10% of the testdata, $n \\le 10$.\n\nFor 40% of the testdata, $n \\le 1000$.\n\nFor 100% of the testdata, $n \\le 5 \\times 10^4$.\n\nAll testdata have a solution.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "末日的传说", "background": null, "description": "只要是参加 jsoi 活动的同学一定都听说过 Hanoi 塔的传说：三根柱子上的金片每天被移动一次，当所有的金片都被移完之后，世界末日也就随之降临了。\n\n在古老东方的幻想乡，人们都采用一种奇特的方式记录日期：他们用一些特殊的符号来表示从 $1$ 开始的连续整数，$1$ 表示最小而 $n$ 表示最大。创世纪的第一天，日历就被赋予了生命，它自动地开始计数，就像排列不断地增加。\n\n我们用 $1-n$ 来表示日历的元素，第一天日历就是：\n$$1,2,\\ldots,n-2,n-1,n$$\n第二天，日历自动变为：\n$$1,2,\\ldots,n-2,n,n-1$$\n······\n\n每次它都生成一个以前未出现过的“最小”的排列——把它转为 $n+1$ 进制后数的数值最小。\n\n日子一天一天地过着。有一天，一位预言者出现了——他预言道，当这个日历到达某个上帝安排的时刻，这个世界就会崩溃······他还预言到，假如某一个日期的逆序达到一个值 $m$ 的时候，世界末日就要降临。\n\n什么是逆序？日历中的两个不同符号，假如排在前面的那个比排在后面的那个更大，就是一个逆序，一个日期的逆序总数达到 $m$ 后，末日就要降临，人们都期待一个贤者，能够预见那一天到底将在什么时候到来？", "inputFormat": "只包含一行两个正整数，分别为 $n$ 和 $m$。", "outputFormat": "输出一行，为世界末日的日期，每个数字之间用一个空格隔开。", "hint": "对于 $10\\%$ 的数据有 $n\\le10$；\n\n对于 $40\\%$ 的数据有 $n\\le1000$；\n\n对于 $100\\%$ 的数据有 $n\\le5\\times10^4$。\n\n所有数据均有解。", "locale": "zh-CN"}}}
{"pid": "P1339", "type": "P", "difficulty": 3, "samples": [["7 11 5 4\n2 4 2\n1 4 3\n7 2 2\n3 4 3\n5 7 5\n7 3 3\n6 1 1\n6 3 4\n2 4 3\n5 6 3\n7 2 1", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2009", "USACO", "福建省历届夏令营", "最短路"], "title": "[USACO09OCT] Heat Wave G", "background": "", "description": "有一个 $n$ 个点 $m$ 条边的无向图，请求出从 $s$ 到 $t$ 的最短路长度。", "inputFormat": "第一行四个正整数 $n,m,s,t$。\n接下来 $m$ 行，每行三个正整数 $u,v,w$，表示一条连接 $u,v$，长为 $w$ 的边。\n", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【数据范围】  \n对于 $100\\%$ 的数据，$1\\le n \\le 2500$，$1\\le m \\le 6200$，$1\\le w \\le 1000$。\n\n【样例说明】   \n$5 \\to 6 \\to 1 \\to 4$ 为最短路，长度为 $3+1+3 = 7$。\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[USACO09OCT] Heat Wave G", "background": "", "description": "Given an undirected graph with $n$ vertices and $m$ edges, find the length of the shortest path from $s$ to $t$.", "inputFormat": "The first line contains four positive integers $n, m, s, t$.  \nThe next $m$ lines each contain three positive integers $u, v, w$, indicating an edge connecting $u$ and $v$ with length $w$.", "outputFormat": "Output one line containing a single integer, the answer.", "hint": "Constraints  \nFor $100\\%$ of the testdata, $1 \\le n \\le 2500$, $1 \\le m \\le 6200$, $1 \\le w \\le 1000$.\n\nSample Explanation  \n$5 \\to 6 \\to 1 \\to 4$ is the shortest path, with length $3+1+3 = 7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO09OCT] Heat Wave G", "background": "", "description": "有一个 $n$ 个点 $m$ 条边的无向图，请求出从 $s$ 到 $t$ 的最短路长度。", "inputFormat": "第一行四个正整数 $n,m,s,t$。\n接下来 $m$ 行，每行三个正整数 $u,v,w$，表示一条连接 $u,v$，长为 $w$ 的边。\n", "outputFormat": "输出一行一个整数，表示答案。", "hint": "【数据范围】  \n对于 $100\\%$ 的数据，$1\\le n \\le 2500$，$1\\le m \\le 6200$，$1\\le w \\le 1000$。\n\n【样例说明】   \n$5 \\to 6 \\to 1 \\to 4$ 为最短路，长度为 $3+1+3 = 7$。\n\n", "locale": "zh-CN"}}}
{"pid": "P1340", "type": "P", "difficulty": 4, "samples": [["4 6\t \t \n1 2 10\t \t \n1 3 8\t \t \n3 2 3\t \t \n1 4 3\t \t \n1 3 6\t \t \n2 1 2\t \t \n", "-1\n-1\n-1\n14\n12\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "福建省历届夏令营", "排序", "生成树"], "title": "兽径管理", "background": "", "description": "约翰农场的牛群希望能够在 $N$ 个草地之间任意移动。草地的编号由 $1$ 到 $N$。草地之间有树林隔开。牛群希望能够选择草地间的路径，使牛群能够从任一 片草地移动到任一片其它草地。 牛群可在路径上双向通行。\n\n牛群并不能创造路径，但是他们会保有及利用已经发现的野兽所走出来的路径（以下简称兽径）。每星期他们会选择并管理一些或全部已知的兽径当作通路。\n\n牛群每星期初会发现一条新的兽径。他们接着必须决定管理哪些兽径来组成该周牛群移动的通路，使得牛群得以从任一草地移动到任一草地。牛群只能使用当周有被管理的兽径做为通路。\n\n牛群希望他们管理的兽径长度和为最小。牛群可以从所有他们知道的所有兽径中挑选出一些来管理。牛群可以挑选的兽径与它之前是否曾被管理无关。\n\n兽径决不会是直线，因此连接两片草地之间的不同兽径长度可以不同。 此外虽然两条兽径或许会相交，但牛群非常的专注，除非交点是在草地内，否则不会在交点换到另外一条兽径上。\n\n在每周开始的时候，牛群会描述他们新发现的兽径。如果可能的话，请找出可从任何一草地通达另一草地的一组需管理的兽径，使其兽径长度和最小。\n", "inputFormat": "输入的第一行包含两个用空白分开的整数 $N$ 和 $W$。$W$ 代表你的程序需要处理的周数。\n\n以下每处理一周，读入一行数据，代表该周新发现的兽径，由三个以空白分开的整数分别代表该兽径的两个端点（两片草地的编号) 与该兽径的长度。一条兽径的两个端点一定不同。\n", "outputFormat": "每次读入新发现的兽径后，你的程序必须立刻输出一组兽径的长度和，此组兽径可从任何一草地通达另一草地，并使兽径长度和最小。如果不能找到一组可从任一草地通达另一草地的兽径，则输出 $-1$。\n", "hint": "### 样例解释\n\n对于每一周，\n\n- 第一周时 $4$ 号草地不能与其他草地连通，输出 $-1$；\n- 第二周时 $4$ 号草地不能与其他草地连通，输出 $-1$；\n- 第三周时 $4$ 号草地不能与其他草地连通，输出 $-1$；\n- 第四周时可以选择兽径 $(1,4,3),(1,3,8)$ 和 $(3,2,3)$；\n- 第五周时可以选择兽径 $(1,4,3),(1,3,6)$ 和 $(3,2,3)$；\n- 第六周时可以选择兽径 $(1,4,3),(2,1,2)$ 和 $(3,2,3)$。\n\n\n### 数据范围及约定\n\n对于全部数据，$1\\le N\\le 200$，$1 \\le W \\le 6000$，兽径的长度不超过 $10^4$ 且为正整数。", "locale": "zh-CN", "translations": {"en": {"title": "Beast Trail Management", "background": "", "description": "The herd on Farmer John's farm wants to be able to move freely among $N$ pastures labeled $1$ to $N$, which are separated by forests. They wish to choose routes between pastures so that the herd can travel from any pasture to any other pasture. The herd can travel in both directions along a route.\n\nThe herd cannot create new routes, but they will keep and use trails made by wild animals (hereafter called \"game trails\"). Each week, they choose and manage some or all of the known game trails as usable routes.\n\nAt the start of each week, the herd discovers one new game trail. They must then decide which game trails to manage for that week to form their network of routes, so that the herd can travel from any pasture to any other pasture. The herd may only use the trails that are managed during that week.\n\nThey want the sum of lengths of the managed trails to be as small as possible. They may choose any subset of all game trails they have discovered so far. Whether a trail was managed in a previous week does not matter.\n\nGame trails are never straight lines, so different trails connecting the same pair of pastures may have different lengths. Although two game trails may intersect, the herd is very focused and will not switch trails at intersections unless the intersection lies inside a pasture.\n\nAt the beginning of each week, the herd will describe the newly discovered game trail. If possible, find a set of managed game trails that makes all pastures mutually reachable, with the minimum possible total length.", "inputFormat": "The first line contains two integers $N$ and $W$ separated by a space. $W$ is the number of weeks your program needs to process.\n\nFor each subsequent week, read one line describing the newly discovered game trail. The line contains three integers separated by spaces: the two endpoints of the trail (the pasture labels) and the trail’s length. The two endpoints of a game trail are always distinct.", "outputFormat": "After reading each newly discovered game trail, immediately output the minimum possible total length of a set of trails that makes all pastures mutually reachable. If no such set exists, output $-1$. Output one result per week on its own line.", "hint": "### Sample Explanation\n\nFor each week:\n\n- In week 1, pasture $4$ cannot connect to the others, so output $-1$.\n- In week 2, pasture $4$ cannot connect to the others, so output $-1$.\n- In week 3, pasture $4$ cannot connect to the others, so output $-1$.\n- In week 4, you can choose trails $(1, 4, 3)$, $(1, 3, 8)$, and $(3, 2, 3)$.\n- In week 5, you can choose trails $(1, 4, 3)$, $(1, 3, 6)$, and $(3, 2, 3)$.\n- In week 6, you can choose trails $(1, 4, 3)$, $(2, 1, 2)$, and $(3, 2, 3)$.\n\n### Constraints\n\nFor all testdata, $1 \\le N \\le 200$, $1 \\le W \\le 6000$, and each trail length is a positive integer not exceeding $10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "兽径管理", "background": "", "description": "约翰农场的牛群希望能够在 $N$ 个草地之间任意移动。草地的编号由 $1$ 到 $N$。草地之间有树林隔开。牛群希望能够选择草地间的路径，使牛群能够从任一 片草地移动到任一片其它草地。 牛群可在路径上双向通行。\n\n牛群并不能创造路径，但是他们会保有及利用已经发现的野兽所走出来的路径（以下简称兽径）。每星期他们会选择并管理一些或全部已知的兽径当作通路。\n\n牛群每星期初会发现一条新的兽径。他们接着必须决定管理哪些兽径来组成该周牛群移动的通路，使得牛群得以从任一草地移动到任一草地。牛群只能使用当周有被管理的兽径做为通路。\n\n牛群希望他们管理的兽径长度和为最小。牛群可以从所有他们知道的所有兽径中挑选出一些来管理。牛群可以挑选的兽径与它之前是否曾被管理无关。\n\n兽径决不会是直线，因此连接两片草地之间的不同兽径长度可以不同。 此外虽然两条兽径或许会相交，但牛群非常的专注，除非交点是在草地内，否则不会在交点换到另外一条兽径上。\n\n在每周开始的时候，牛群会描述他们新发现的兽径。如果可能的话，请找出可从任何一草地通达另一草地的一组需管理的兽径，使其兽径长度和最小。\n", "inputFormat": "输入的第一行包含两个用空白分开的整数 $N$ 和 $W$。$W$ 代表你的程序需要处理的周数。\n\n以下每处理一周，读入一行数据，代表该周新发现的兽径，由三个以空白分开的整数分别代表该兽径的两个端点（两片草地的编号) 与该兽径的长度。一条兽径的两个端点一定不同。\n", "outputFormat": "每次读入新发现的兽径后，你的程序必须立刻输出一组兽径的长度和，此组兽径可从任何一草地通达另一草地，并使兽径长度和最小。如果不能找到一组可从任一草地通达另一草地的兽径，则输出 $-1$。\n", "hint": "### 样例解释\n\n对于每一周，\n\n- 第一周时 $4$ 号草地不能与其他草地连通，输出 $-1$；\n- 第二周时 $4$ 号草地不能与其他草地连通，输出 $-1$；\n- 第三周时 $4$ 号草地不能与其他草地连通，输出 $-1$；\n- 第四周时可以选择兽径 $(1,4,3),(1,3,8)$ 和 $(3,2,3)$；\n- 第五周时可以选择兽径 $(1,4,3),(1,3,6)$ 和 $(3,2,3)$；\n- 第六周时可以选择兽径 $(1,4,3),(2,1,2)$ 和 $(3,2,3)$。\n\n\n### 数据范围及约定\n\n对于全部数据，$1\\le N\\le 200$，$1 \\le W \\le 6000$，兽径的长度不超过 $10^4$ 且为正整数。", "locale": "zh-CN"}}}
