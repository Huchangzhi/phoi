{"pid": "P8051", "type": "P", "difficulty": 5, "samples": [["3 1\n1 5 2\n6", "1"], ["5 2\n1 3 2 7 1\n4 10", "3"]], "limits": {"time": [600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "[ZYOI Round1] Bird/鸟", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/hdzxjtsk.png)\n\n江豚吹浪立，沙鸟得鱼闲。", "description": "有一只鸟在 $n$ 棵树之间飞行，第 $i$ 棵树的高度为 $a_i$，从左到右排列。这只鸟太肥了，不能往高处飞，只能朝左或右两个方向滑翔。\n\n若这只鸟现在站着的树高度为 $a_i$，那么这只鸟可以飞到的树高度必须小于 $a_i$，且飞行时经过的树高度也都需要小于 $a_i$。\n\n这只鸟有 $k$ 张瞬移卡，第 $i$ 张卡的魔力值为 $b_i$。这只鸟可以在任意一棵树上选择使用瞬移卡，瞬移到高度不超过该瞬移卡魔力值的一棵树上（如果鸟当前所在的树高度不超过瞬移卡的魔力值，则它可以瞬移到当前所在的树上）。但是它只能按照给出的顺序使用瞬移卡。数据保证所有瞬移卡都可以使用（即不存在一张瞬移卡，魔力值小于所有树的高度）。\n\n这只鸟初始位置在第一棵树上，请求出它最多可以飞行几次（不包含瞬移）。\n\n注意：鸟可以重复经过同一棵树。", "inputFormat": "第一行，包含两个整数 $n,k$，表示树的棵数和鸟瞬移卡的数量。\n\n接下来一行，$n$ 个整数，表示每棵树的高度。\n\n接下来一行，$k$ 个整数，表示每张瞬移卡的魔力值。按照使用顺序给出。 ", "outputFormat": "一行，一个整数，表示这只鸟最多飞行次数。", "hint": "对于 $10\\%$ 的数据，$1 \\le n,k \\le 10$。\n\n对于 $30\\%$ 的数据，$1 \\le n,k \\le 5 \\times 10^3$。  \n\n对于 $70\\%$ 的数据，$1 \\le n,k \\le 10^5$。  \n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 3 \\times 10^5$，$0 \\le a_i,b_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZYOI Round1] Bird/鸟", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/hdzxjtsk.png)\n\n江豚吹浪立，沙鸟得鱼闲。", "description": "有一只鸟在 $n$ 棵树之间飞行，第 $i$ 棵树的高度为 $a_i$，从左到右排列。这只鸟太肥了，不能往高处飞，只能朝左或右两个方向滑翔。\n\n若这只鸟现在站着的树高度为 $a_i$，那么这只鸟可以飞到的树高度必须小于 $a_i$，且飞行时经过的树高度也都需要小于 $a_i$。\n\n这只鸟有 $k$ 张瞬移卡，第 $i$ 张卡的魔力值为 $b_i$。这只鸟可以在任意一棵树上选择使用瞬移卡，瞬移到高度不超过该瞬移卡魔力值的一棵树上（如果鸟当前所在的树高度不超过瞬移卡的魔力值，则它可以瞬移到当前所在的树上）。但是它只能按照给出的顺序使用瞬移卡。数据保证所有瞬移卡都可以使用（即不存在一张瞬移卡，魔力值小于所有树的高度）。\n\n这只鸟初始位置在第一棵树上，请求出它最多可以飞行几次（不包含瞬移）。\n\n注意：鸟可以重复经过同一棵树。", "inputFormat": "第一行，包含两个整数 $n,k$，表示树的棵数和鸟瞬移卡的数量。\n\n接下来一行，$n$ 个整数，表示每棵树的高度。\n\n接下来一行，$k$ 个整数，表示每张瞬移卡的魔力值。按照使用顺序给出。 ", "outputFormat": "一行，一个整数，表示这只鸟最多飞行次数。", "hint": "对于 $10\\%$ 的数据，$1 \\le n,k \\le 10$。\n\n对于 $30\\%$ 的数据，$1 \\le n,k \\le 5 \\times 10^3$。  \n\n对于 $70\\%$ 的数据，$1 \\le n,k \\le 10^5$。  \n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 3 \\times 10^5$，$0 \\le a_i,b_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P8052", "type": "P", "difficulty": 4, "samples": [["5\n\n3\n\n5", "\n1 1 2 3\n\n2 1 5\n\n3 5 2 4 3 1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["交互题", "Special Judge", "O2优化"], "title": "[ZYOI Round1] Truth/真心话大冒险", "background": "**注意：请勿恶意提交代码，浪费评测资源。**\n\n一群人参加了聚会，在玩“真心话大冒险”。", "description": "Charlie 现在盯上了一个人 Percy，Ta 打算找出 Percy 对于 $n$ 个异性的好感度的排名。  \n\n具体地，Charlie 可以提出两种要求：  \n\n1. 【真心话】给定 $3$ 个正整数 $x,y,z$，要求 Percy 回答其中他第二喜欢的异性的编号。要求：$1 \\leq x,y,z \\leq n$。\n\n2. 【大冒险】给定 $2$ 个正整数 $x,y$，要求 Percy 拥抱其中他更喜欢的那个异性。要求：$1 \\leq x,y \\leq n$ 且必须保证异性 $x,y$ 之中必有一个是 Percy 最喜欢的。  \n\nCharlie 希望通过至多 $2 \\times 10^6$ 次询问达到他的目的。\n\n**交互格式：**  \n\n一开始读入一个正整数 $n$ 开始交互。\n\n你可以输出 $3$ 种信息：  \n\n1. `1 x y z`，表示“真心话”询问，并读入结果。\n2. `2 x y`，表示“大冒险”询问，并读入结果。\n3. `3 a1 a2 ... an`，表示你已经得出了答案，按顺序输出 Percy 最喜欢、第二喜欢、……的异性的编号。\n", "inputFormat": "（见题目描述）", "outputFormat": "（见题目描述）", "hint": "**以上输入输出只是为了演示交互格式，可能并不符合逻辑**。\n\n对于 $20\\%$ 的数据，$1 \\leq n \\leq 10$。\n\n对于 $40\\%$ 的数据，$1 \\leq n \\leq 100$。 \n\n对于 $60\\%$ 的数据，$1 \\leq n \\leq 10^3$。 \n\n对于 $80\\%$ 的数据，$1 \\leq n \\leq 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 2 \\times 10^4$。  \n\n注意输出不合法可能导致 WA/RE/TLE/MLE 等玄学问题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZYOI Round1] Truth/真心话大冒险", "background": "**注意：请勿恶意提交代码，浪费评测资源。**\n\n一群人参加了聚会，在玩“真心话大冒险”。", "description": "Charlie 现在盯上了一个人 Percy，Ta 打算找出 Percy 对于 $n$ 个异性的好感度的排名。  \n\n具体地，Charlie 可以提出两种要求：  \n\n1. 【真心话】给定 $3$ 个正整数 $x,y,z$，要求 Percy 回答其中他第二喜欢的异性的编号。要求：$1 \\leq x,y,z \\leq n$。\n\n2. 【大冒险】给定 $2$ 个正整数 $x,y$，要求 Percy 拥抱其中他更喜欢的那个异性。要求：$1 \\leq x,y \\leq n$ 且必须保证异性 $x,y$ 之中必有一个是 Percy 最喜欢的。  \n\nCharlie 希望通过至多 $2 \\times 10^6$ 次询问达到他的目的。\n\n**交互格式：**  \n\n一开始读入一个正整数 $n$ 开始交互。\n\n你可以输出 $3$ 种信息：  \n\n1. `1 x y z`，表示“真心话”询问，并读入结果。\n2. `2 x y`，表示“大冒险”询问，并读入结果。\n3. `3 a1 a2 ... an`，表示你已经得出了答案，按顺序输出 Percy 最喜欢、第二喜欢、……的异性的编号。\n", "inputFormat": "（见题目描述）", "outputFormat": "（见题目描述）", "hint": "**以上输入输出只是为了演示交互格式，可能并不符合逻辑**。\n\n对于 $20\\%$ 的数据，$1 \\leq n \\leq 10$。\n\n对于 $40\\%$ 的数据，$1 \\leq n \\leq 100$。 \n\n对于 $60\\%$ 的数据，$1 \\leq n \\leq 10^3$。 \n\n对于 $80\\%$ 的数据，$1 \\leq n \\leq 10^4$。\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 2 \\times 10^4$。  \n\n注意输出不合法可能导致 WA/RE/TLE/MLE 等玄学问题。", "locale": "zh-CN"}}}
{"pid": "P8053", "type": "P", "difficulty": 2, "samples": [["3\n0 1 1\n1 0 1\n1 1 0", "1 1 1"], ["5\n0 0 1 1 1\n0 0 2 0 2\n1 2 0 1 3\n1 0 1 0 1\n1 2 3 1 0", "1 2 3 1 11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "Special Judge", "O2优化", "位运算", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #4] DEATHSTAR", "background": "", "description": "你排除万难，潜入了 Death Star。要想摧毁它，你需要一个长度为 $n$ 的数组 $a$，以启动 Death Star 的自我毁灭指令。虽然你不知道这个数组是什么，但好在，你的老朋友 Darth Vader 事先给了你一个 $n$ 阶方阵 $b$。在这个方阵中，第 $i$ 行第 $j$ 列上的元素 $b_{i,j}=a_i\\operatorname{~and~} a_j$，其中 $\\operatorname{and}$ 表示按位与运算。正当你以为你可以通过这个方阵直接得出数组 $a$ 时，你发现主对角线上的所有元素被激光剑给毁坏了，你无法读出这些元素的值，只能暂时以 $0$ 代替。\n\n现在，请你根据其他没有被毁坏的元素的数值求出**任意一个**满足要求的数组 $a$。", "inputFormat": "第一行输入一个整数 $n$，表示方阵 $b$ 的阶数。  \n随后 $n$ 行，每行输入 $n$ 个整数，描述方阵 $b$。", "outputFormat": "输出一行 $n$ 个整数，表示满足条件的数组 $a$。数组中的每个元素必须是不超过 $10^9$ 的**非负整数**。\n\n数据保证**有解**，但**不保证有唯一解**。", "hint": "**【样例 1 解释】**\n\n不难看出，满足要求的一个数组 $a=[1,1,1]$，但请注意，这并不是唯一可能的答案。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 1000$，$0\\leqslant b_{i,j}\\leqslant 10^9$。\n\n**本题开启 Special Judge**。如果你有可以 hack [供题人自行编写的 checker ](https://www.luogu.com.cn/paste/fzkkyhqp)的数据或者对 checker 有改进意见，欢迎在本题下方讨论区提出。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T3 DEATHSTAR_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #4] DEATHSTAR", "background": "", "description": "你排除万难，潜入了 Death Star。要想摧毁它，你需要一个长度为 $n$ 的数组 $a$，以启动 Death Star 的自我毁灭指令。虽然你不知道这个数组是什么，但好在，你的老朋友 Darth Vader 事先给了你一个 $n$ 阶方阵 $b$。在这个方阵中，第 $i$ 行第 $j$ 列上的元素 $b_{i,j}=a_i\\operatorname{~and~} a_j$，其中 $\\operatorname{and}$ 表示按位与运算。正当你以为你可以通过这个方阵直接得出数组 $a$ 时，你发现主对角线上的所有元素被激光剑给毁坏了，你无法读出这些元素的值，只能暂时以 $0$ 代替。\n\n现在，请你根据其他没有被毁坏的元素的数值求出**任意一个**满足要求的数组 $a$。", "inputFormat": "第一行输入一个整数 $n$，表示方阵 $b$ 的阶数。  \n随后 $n$ 行，每行输入 $n$ 个整数，描述方阵 $b$。", "outputFormat": "输出一行 $n$ 个整数，表示满足条件的数组 $a$。数组中的每个元素必须是不超过 $10^9$ 的**非负整数**。\n\n数据保证**有解**，但**不保证有唯一解**。", "hint": "**【样例 1 解释】**\n\n不难看出，满足要求的一个数组 $a=[1,1,1]$，但请注意，这并不是唯一可能的答案。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 1000$，$0\\leqslant b_{i,j}\\leqslant 10^9$。\n\n**本题开启 Special Judge**。如果你有可以 hack [供题人自行编写的 checker ](https://www.luogu.com.cn/paste/fzkkyhqp)的数据或者对 checker 有改进意见，欢迎在本题下方讨论区提出。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T3 DEATHSTAR_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8054", "type": "P", "difficulty": 2, "samples": [["6\n2\n3\n4\n5\n12\n514", "0\n0\n0\n1\n0\n1"]], "limits": {"time": [500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "A 质因数", "background": "", "description": "定义 $f(x)$ 表示 $x$ 分解质因数后得到的质数个数，例如 $f(6)=2,f(12)=3$。\n\n具体的，令 $x=p_1^{a_1}p_2^{a_2}\\cdots p_k^{a_k}$，其中 $p_1,p_2,\\ldots,p_k$ 是两两不同的质数，则 $f(x)=a_1+a_2+\\cdots + a_k$。\n\n给定一个数 $n$，判断是否存在 $1<m<n$，满足 $f(m)>f(n)$。", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行一个正整数 $n$。", "outputFormat": "输出 $T$ 行，若对于第 $i$ 组数据给定的 $n$ 存在 $1<m<n,f(m)>f(n)$ 输出一行一个数 $1$，否则输出一行一个数 $0$。", "hint": "**【样例解释 #1】**\n\n$f(2)=1$，不存在 $1<x<2,f(x)>1$。\n\n$f(3)=1$，不存在 $1<x<3,f(x)>1$。\n\n$f(4)=2$，不存在 $1<x<4,f(x)>2$。\n\n$f(5)=1$，存在 $f(4)=2$。\n\n$f(12)=3$，不存在 $1<x<12,f(x)>3$。\n\n$f(514)=2$，存在 $f(114)=3$。\n\n**【数据范围】**\n\n对于所有数据，满足 $1\\leq T\\leq 10^4$，$2\\leq n\\leq 10^{18}$。详细数据范围如下：\n\n- Subtask #1 (25 pts)： $T,n\\le 10$。\n- Subtask #2 (35 pts)： $n\\le 10^5$。\n- Subtask #3 (15 pts)： $T\\le 10$，$n$ 在 $[2,10^{18}]$  内均匀随机生成。\n- Subtask #4 (25 pts)：没有任何附加限制。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "A 质因数", "background": "", "description": "定义 $f(x)$ 表示 $x$ 分解质因数后得到的质数个数，例如 $f(6)=2,f(12)=3$。\n\n具体的，令 $x=p_1^{a_1}p_2^{a_2}\\cdots p_k^{a_k}$，其中 $p_1,p_2,\\ldots,p_k$ 是两两不同的质数，则 $f(x)=a_1+a_2+\\cdots + a_k$。\n\n给定一个数 $n$，判断是否存在 $1<m<n$，满足 $f(m)>f(n)$。", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行一个正整数 $n$。", "outputFormat": "输出 $T$ 行，若对于第 $i$ 组数据给定的 $n$ 存在 $1<m<n,f(m)>f(n)$ 输出一行一个数 $1$，否则输出一行一个数 $0$。", "hint": "**【样例解释 #1】**\n\n$f(2)=1$，不存在 $1<x<2,f(x)>1$。\n\n$f(3)=1$，不存在 $1<x<3,f(x)>1$。\n\n$f(4)=2$，不存在 $1<x<4,f(x)>2$。\n\n$f(5)=1$，存在 $f(4)=2$。\n\n$f(12)=3$，不存在 $1<x<12,f(x)>3$。\n\n$f(514)=2$，存在 $f(114)=3$。\n\n**【数据范围】**\n\n对于所有数据，满足 $1\\leq T\\leq 10^4$，$2\\leq n\\leq 10^{18}$。详细数据范围如下：\n\n- Subtask #1 (25 pts)： $T,n\\le 10$。\n- Subtask #2 (35 pts)： $n\\le 10^5$。\n- Subtask #3 (15 pts)： $T\\le 10$，$n$ 在 $[2,10^{18}]$  内均匀随机生成。\n- Subtask #4 (25 pts)：没有任何附加限制。\n", "locale": "zh-CN"}}}
{"pid": "P8055", "type": "P", "difficulty": 5, "samples": [["8 8\n01100001\n1 2 3\n1 4 9\n2 6 9\n3 8 9\n6 8 2\n8 8 3\n5 8 6\n2 8 17", "8\n36\n40\n64\n16\n5\n64\n144"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["O2优化"], "title": "B Highbit & lowbit", "background": "", "description": "定义一个正整数的 $\\mathrm{highbit}$ 为该数在二进制表示下的最高二进制位的位值，如 $\\mathrm{highbit}(22_{(10)})=\\mathrm{highbit}(10110_{(2)})=10000_{(2)}=16_{(10)}$。\n\n定义一个正整数的 $\\mathrm{lowbit}$ 为该数在二进制表示下的最低非零二进制位的位值，如 $\\mathrm{lowbit}(22_{(10)})=\\mathrm{lowbit}(10110_{(2)})=10_{(2)}=2_{(10)}$。\n\n再定义两种操作：\n\n- 操作 $1$：将一个正整数 $x$ 变为 $x+\\mathrm{lowbit}(x)$。\n- 操作 $2$：将一个正整数 $x$ 变为 $x+\\mathrm{highbit}(x)$。\n\n现给定一个操作序列和 $q$ 次询问，每次询问包含 $3$ 个正整数 $l,r,x$，表示将 $x$ 从左到右依次执行 $l\\sim r$ 的操作，请输出 $x$ 的值，由于答案可能很大，请输出答案对 $10^9+7$ 取模的值。", "inputFormat": "第一行两个正整数 $n,q$。\n\n接下来一行一个字符串 $s$，长度为 $n$，其中仅含有 `0`，`1`。\n\n若第 $i$ 个字符为 `0`，则表示一个 $1$ 操作，即 $x=x+\\mathrm{lowbit}(x)$。\n\n若第 $i$ 个字符为 `1`，则表示一个 $2$ 操作，即 $x=x+\\mathrm{highbit}(x)$。\n\n之后 $q$ 行，每行 $3$ 个正整数 $l,r,x$，表示一次询问。", "outputFormat": "对于每一个询问，输出一行一个数表示答案对 $10^9+7$ 取模的结果。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有测试点，满足 $1\\leq n,q\\leq 5\\times 10^5$，$1\\leq x<2^{30}$。详细数据范围如下：\n\n- Subtask #1 (12 pts): $n,q\\le 10$，$x\\le 32767$。\n- Subtask #2 (23 pts): $n,q\\le 10^3$。\n- Subtask #3 (11 pts): $n,q\\leq 10^5$，字符串中仅含有 `1`。\n- Subtask #4 (11 pts): $n,q\\leq 10^5$，字符串中仅含有 `0`。\n- Subtask #5 (6 pts): $n,q\\leq 10^5$，保证每次询问的 $x$ 均可以表示为 $2^a$ 的形式，$a$ 为非负整数。\n- Subtask #6 (15 pts): $n,q\\leq 10^5$，保证每次询问的 $x$ 均可以表示为 $2^a+2^b$ 的形式，$a,b$ 均为非负整数。\n- Subtask #7 (10 pts): $n,q\\le 10^5$。\n- Subtask #8 (12 pts): 没有任何附加限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "B Highbit & lowbit", "background": "", "description": "定义一个正整数的 $\\mathrm{highbit}$ 为该数在二进制表示下的最高二进制位的位值，如 $\\mathrm{highbit}(22_{(10)})=\\mathrm{highbit}(10110_{(2)})=10000_{(2)}=16_{(10)}$。\n\n定义一个正整数的 $\\mathrm{lowbit}$ 为该数在二进制表示下的最低非零二进制位的位值，如 $\\mathrm{lowbit}(22_{(10)})=\\mathrm{lowbit}(10110_{(2)})=10_{(2)}=2_{(10)}$。\n\n再定义两种操作：\n\n- 操作 $1$：将一个正整数 $x$ 变为 $x+\\mathrm{lowbit}(x)$。\n- 操作 $2$：将一个正整数 $x$ 变为 $x+\\mathrm{highbit}(x)$。\n\n现给定一个操作序列和 $q$ 次询问，每次询问包含 $3$ 个正整数 $l,r,x$，表示将 $x$ 从左到右依次执行 $l\\sim r$ 的操作，请输出 $x$ 的值，由于答案可能很大，请输出答案对 $10^9+7$ 取模的值。", "inputFormat": "第一行两个正整数 $n,q$。\n\n接下来一行一个字符串 $s$，长度为 $n$，其中仅含有 `0`，`1`。\n\n若第 $i$ 个字符为 `0`，则表示一个 $1$ 操作，即 $x=x+\\mathrm{lowbit}(x)$。\n\n若第 $i$ 个字符为 `1`，则表示一个 $2$ 操作，即 $x=x+\\mathrm{highbit}(x)$。\n\n之后 $q$ 行，每行 $3$ 个正整数 $l,r,x$，表示一次询问。", "outputFormat": "对于每一个询问，输出一行一个数表示答案对 $10^9+7$ 取模的结果。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有测试点，满足 $1\\leq n,q\\leq 5\\times 10^5$，$1\\leq x<2^{30}$。详细数据范围如下：\n\n- Subtask #1 (12 pts): $n,q\\le 10$，$x\\le 32767$。\n- Subtask #2 (23 pts): $n,q\\le 10^3$。\n- Subtask #3 (11 pts): $n,q\\leq 10^5$，字符串中仅含有 `1`。\n- Subtask #4 (11 pts): $n,q\\leq 10^5$，字符串中仅含有 `0`。\n- Subtask #5 (6 pts): $n,q\\leq 10^5$，保证每次询问的 $x$ 均可以表示为 $2^a$ 的形式，$a$ 为非负整数。\n- Subtask #6 (15 pts): $n,q\\leq 10^5$，保证每次询问的 $x$ 均可以表示为 $2^a+2^b$ 的形式，$a,b$ 均为非负整数。\n- Subtask #7 (10 pts): $n,q\\le 10^5$。\n- Subtask #8 (12 pts): 没有任何附加限制。", "locale": "zh-CN"}}}
{"pid": "P8056", "type": "P", "difficulty": 5, "samples": [["6 8\n1 2\n4 5\n6 3\n5 2\n3 4\n5 1\n1 4\n3 5", "44"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "C 图上的数", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的无向图（**保证无重边无自环但不保证连通**），每条边有一个 $1\\sim m$ 的互不相同的编号。\n\n定义一条边是孤边，当且仅当它的两端点均已经被删除。\n\n您需要给定一个删点顺序，令 $P_i$ 表示第 $i$ 条变成孤边的边的编号，您需要最小化 $P_i$ 的字典序。\n\n若某一时刻存在多条边变为孤边，我们认为，编号小的边先变为孤边。", "inputFormat": "第一行两个正整数 $n,m$，表示图的点数和边数。\n\n第 $2\\sim m+1$ 行，第 $i$ 行两个正整数 $x,y$，表示编号为 $i-1$ 的边的两个端点。", "outputFormat": "为减少输出量，请输出 $\\bigoplus\\limits_{i=1}^{m}i\\times P_i$，其中 $\\bigoplus$ 表示二进制下的按位异或。", "hint": "**【样例解释 #1】**\n\n数组 $P$ 为 $\\{1,3,4,6,8,2,5,7\\}$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n所有数据满足 $1\\le n\\le 10^6$，$1\\le m\\le \\min (10^6,\\frac{n(n-1)}{2})$。详细数据范围如下：\n\n- Subtask #1 (12 pts): $n,m\\le 10$。\n- Subtask #2 (17 pts): $n,m\\le 100$。\n- Subtask #3 (11 pts): $n,m\\le 5\\times 10^3$。\n- Subtask #4 (18 pts): $m=n-1$，图连通，所有点度数不超过 $2$。\n- Subtask #5 (16 pts): $m=\\dfrac{n(n-1)}{2}$。\n- Subtask #6 (15 pts): $n,m\\le 10^5$。\n- Subtask #7 (11 pts): 没有任何附加限制。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "C 图上的数", "background": "", "description": "给定一个 $n$ 个点 $m$ 条边的无向图（**保证无重边无自环但不保证连通**），每条边有一个 $1\\sim m$ 的互不相同的编号。\n\n定义一条边是孤边，当且仅当它的两端点均已经被删除。\n\n您需要给定一个删点顺序，令 $P_i$ 表示第 $i$ 条变成孤边的边的编号，您需要最小化 $P_i$ 的字典序。\n\n若某一时刻存在多条边变为孤边，我们认为，编号小的边先变为孤边。", "inputFormat": "第一行两个正整数 $n,m$，表示图的点数和边数。\n\n第 $2\\sim m+1$ 行，第 $i$ 行两个正整数 $x,y$，表示编号为 $i-1$ 的边的两个端点。", "outputFormat": "为减少输出量，请输出 $\\bigoplus\\limits_{i=1}^{m}i\\times P_i$，其中 $\\bigoplus$ 表示二进制下的按位异或。", "hint": "**【样例解释 #1】**\n\n数组 $P$ 为 $\\{1,3,4,6,8,2,5,7\\}$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n所有数据满足 $1\\le n\\le 10^6$，$1\\le m\\le \\min (10^6,\\frac{n(n-1)}{2})$。详细数据范围如下：\n\n- Subtask #1 (12 pts): $n,m\\le 10$。\n- Subtask #2 (17 pts): $n,m\\le 100$。\n- Subtask #3 (11 pts): $n,m\\le 5\\times 10^3$。\n- Subtask #4 (18 pts): $m=n-1$，图连通，所有点度数不超过 $2$。\n- Subtask #5 (16 pts): $m=\\dfrac{n(n-1)}{2}$。\n- Subtask #6 (15 pts): $n,m\\le 10^5$。\n- Subtask #7 (11 pts): 没有任何附加限制。\n", "locale": "zh-CN"}}}
{"pid": "P8057", "type": "P", "difficulty": 6, "samples": [["2 2 2 2\n1 1", "665496237 665496237"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "洛谷月赛"], "title": "D ToPTree", "background": "ToPTree 即 **To**oth**P**aste **Tree**，它的工作方式就如同挤牙膏——挤一下它才动一下。", "description": "你有 $n$ 个数组成的序列 $[a_1\\sim a_n]$，初始时 $a_i=0$。\n\n有 $q$ 次操作组成的操作序列 $A$，第 $i$ 次操作在所有可能的 $nN(n+1)$ 种操作之内均匀随机：\n\n- 在以下两种操作之中以一半的概率随机选择一种操作，作为这次操作。\n- 随机选取满足条件的正整数 $l,r,x\\ (1\\le l\\le r\\le n,1\\le x\\le N)$，把 $[l,r]$ 区间内的数加上 $x$。\n- 随机选取满足条件的正整数 $l,r,x\\ (1\\le l\\le r\\le n,1\\le x\\le N)$，把 $[l,r]$ 区间内的数改为 $x$。\n- 容易发现每次操作共有 $nN(n+1)$ 种可能。\n\n由于这棵树是 ToothPaste Tree，只有在你询问的时候，它才会执行与你这次询问有关且还没执行的操作。具体地，假设你依次询问了 $a_{p_1\\sim p_m}$ 的值，则\n\n- 询问 $a_{p_i}$ 时，把所有 $A$ 中与这个数有关的操作（即这次操作的 $[l,r]$ 包含 $p_i$）按时间顺序（即按 $A$ 中的顺序）执行了，并从 $A$ 中删除它们。然后输出 $a_{p_i}$ 当前的值。\n\n> 比如 $A$ 中目前按顺序有以下四个操作，且 $a$ 中所有元素目前都是 $0$：\n> \n> 1. 给区间 $[2,3]$ 加一。\n> 2. 给区间 $[3,4]$ 加一。\n> 3. 把区间 $[2,4]$ 赋值为一。\n> 4. 给区间 $[2,3]$ 加一。\n> \n> 现在询问了 $a_2$ 的值，那么操作 $1,3,4$ 会被顺序执行，导致 $a_1\\sim a_4$ 分别变为 $[0,2,2,1]$。因此 ToPTree 输出 $2$。操作序列变为：\n> \n> 1. 给区间 $[3,4]$ 加一。\n> \n> 再询问 $a_3$ 的值，操作 $1$ 会被执行，导致操作序列变为空，并且 $a_1\\sim a_4$ 变为 $[0,2,3,2]$，故输出 $3$。注意这个输出结果与按照顺序执行所有操作 $1\\sim 4$ 得到的结果并不一致。\n\n给定 $n,m,q,N$ 以及序列 $p$，ToPTree 一共会按询问顺序输出 $m$ 个值，求这 $m$ 次输出分别的期望，对 $998244353$ 取模。\n\n（第一次询问之前，没有任何操作被执行了。）\n\n", "inputFormat": "第一行四个正整数 $n,m,q,N$。\n\n接下来一行 $m$ 个正整数 $p_1\\sim p_m$。", "outputFormat": "输出一行 $m$ 个非负整数，用空格隔开，为答案，对 $998244353$ 取模。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据：$1\\le n,N,q\\le 9\\times 10^8$，$1\\le m\\le 10^6$，$1\\le p_i\\le n$。详细数据范围如下：\n\n- Subtask #1 (4 pts): $n,m,q,N\\le 3$。\n- Subtask #2 (10 pts): $n,m,q,N\\le 5$。\n- Subtask #3 (3 pts): $n=1$，$m,q\\le 123456$。\n- Subtask #4 (3 pts): $q=1$，$m\\le 123456$。\n- Subtask #5 (12 pts): $m=1$，$q\\le 123456$。\n- Subtask #6 (27 pts): $n,m,q,N\\le 50$。\n- Subtask #7 (9 pts): $m,q\\le 5000$。\n- Subtask #8 (16 pts): $m,q\\le 123456$。\n- Subtask #9 (16 pts): 没有任何附加限制。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "D ToPTree", "background": "ToPTree 即 **To**oth**P**aste **Tree**，它的工作方式就如同挤牙膏——挤一下它才动一下。", "description": "你有 $n$ 个数组成的序列 $[a_1\\sim a_n]$，初始时 $a_i=0$。\n\n有 $q$ 次操作组成的操作序列 $A$，第 $i$ 次操作在所有可能的 $nN(n+1)$ 种操作之内均匀随机：\n\n- 在以下两种操作之中以一半的概率随机选择一种操作，作为这次操作。\n- 随机选取满足条件的正整数 $l,r,x\\ (1\\le l\\le r\\le n,1\\le x\\le N)$，把 $[l,r]$ 区间内的数加上 $x$。\n- 随机选取满足条件的正整数 $l,r,x\\ (1\\le l\\le r\\le n,1\\le x\\le N)$，把 $[l,r]$ 区间内的数改为 $x$。\n- 容易发现每次操作共有 $nN(n+1)$ 种可能。\n\n由于这棵树是 ToothPaste Tree，只有在你询问的时候，它才会执行与你这次询问有关且还没执行的操作。具体地，假设你依次询问了 $a_{p_1\\sim p_m}$ 的值，则\n\n- 询问 $a_{p_i}$ 时，把所有 $A$ 中与这个数有关的操作（即这次操作的 $[l,r]$ 包含 $p_i$）按时间顺序（即按 $A$ 中的顺序）执行了，并从 $A$ 中删除它们。然后输出 $a_{p_i}$ 当前的值。\n\n> 比如 $A$ 中目前按顺序有以下四个操作，且 $a$ 中所有元素目前都是 $0$：\n> \n> 1. 给区间 $[2,3]$ 加一。\n> 2. 给区间 $[3,4]$ 加一。\n> 3. 把区间 $[2,4]$ 赋值为一。\n> 4. 给区间 $[2,3]$ 加一。\n> \n> 现在询问了 $a_2$ 的值，那么操作 $1,3,4$ 会被顺序执行，导致 $a_1\\sim a_4$ 分别变为 $[0,2,2,1]$。因此 ToPTree 输出 $2$。操作序列变为：\n> \n> 1. 给区间 $[3,4]$ 加一。\n> \n> 再询问 $a_3$ 的值，操作 $1$ 会被执行，导致操作序列变为空，并且 $a_1\\sim a_4$ 变为 $[0,2,3,2]$，故输出 $3$。注意这个输出结果与按照顺序执行所有操作 $1\\sim 4$ 得到的结果并不一致。\n\n给定 $n,m,q,N$ 以及序列 $p$，ToPTree 一共会按询问顺序输出 $m$ 个值，求这 $m$ 次输出分别的期望，对 $998244353$ 取模。\n\n（第一次询问之前，没有任何操作被执行了。）\n\n", "inputFormat": "第一行四个正整数 $n,m,q,N$。\n\n接下来一行 $m$ 个正整数 $p_1\\sim p_m$。", "outputFormat": "输出一行 $m$ 个非负整数，用空格隔开，为答案，对 $998244353$ 取模。", "hint": "**【数据范围】**\n\n**本题采用捆绑测试。**\n\n对于所有数据：$1\\le n,N,q\\le 9\\times 10^8$，$1\\le m\\le 10^6$，$1\\le p_i\\le n$。详细数据范围如下：\n\n- Subtask #1 (4 pts): $n,m,q,N\\le 3$。\n- Subtask #2 (10 pts): $n,m,q,N\\le 5$。\n- Subtask #3 (3 pts): $n=1$，$m,q\\le 123456$。\n- Subtask #4 (3 pts): $q=1$，$m\\le 123456$。\n- Subtask #5 (12 pts): $m=1$，$q\\le 123456$。\n- Subtask #6 (27 pts): $n,m,q,N\\le 50$。\n- Subtask #7 (9 pts): $m,q\\le 5000$。\n- Subtask #8 (16 pts): $m,q\\le 123456$。\n- Subtask #9 (16 pts): 没有任何附加限制。\n", "locale": "zh-CN"}}}
{"pid": "P8058", "type": "P", "difficulty": 6, "samples": [["5 6", "3 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2003", "二分", "数论", "素数判断,质数,筛法", "最大公约数 gcd", "莫比乌斯反演", "Stern-Brocot 树", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2003] Farey 序列", "background": "", "description": "把所有分子和分母都 $\\leq n$ 的**最简真分数**从小到大排成一行，形成的序列称为 Farey 序列。\n\n求出 $n$ 所对应的 Farey 序列中第 $k$ 小的数。", "inputFormat": "一行，两个整数 $n, k$。", "outputFormat": "一行，两个整数 $p, q$，表示答案 $\\frac{p}{q}$。", "hint": "对于 $100\\%$ 的数据，$2 \\leq n \\leq 4 \\times 10^4$，$1 \\leq k \\leq$ 符合条件的分数的个数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2003] Farey 序列", "background": "", "description": "把所有分子和分母都 $\\leq n$ 的**最简真分数**从小到大排成一行，形成的序列称为 Farey 序列。\n\n求出 $n$ 所对应的 Farey 序列中第 $k$ 小的数。", "inputFormat": "一行，两个整数 $n, k$。", "outputFormat": "一行，两个整数 $p, q$，表示答案 $\\frac{p}{q}$。", "hint": "对于 $100\\%$ 的数据，$2 \\leq n \\leq 4 \\times 10^4$，$1 \\leq k \\leq$ 符合条件的分数的个数。", "locale": "zh-CN"}}}
{"pid": "P8059", "type": "P", "difficulty": 4, "samples": [["3 2\n-1 3\n3 -1\n1 2\n1 2\n3 1", "-1\n1\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "2003", "并查集", "POI（波兰）"], "title": "[POI 2003] Monkeys", "background": "", "description": "一棵树上有 $n$ 只猴子。他们从 $1 \\sim n$ 编号。编号为 $1$ 的猴子用它的尾巴盘住了一个树枝，剩下的猴子要么被其他的猴子钩住要么就是自己用手钩住其他的猴子。每只猴子都可以用两只手去钩其他的猴子，每只手最多只能钩一只。\n\n从 $0$ 时刻开始，每一秒都有一只猴子松开它的一只手。这也许会造成一些猴子掉落到地上，我们想要知道它们掉落地上的时间（猴子掉落的速度都非常的快，可以忽略掉落的时间）。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，$n$ 代表猴子总数，$m$ 代表我们观察猴子的总时间。\n\n接下来 $n$ 行描述初始的情形。第 $k$ 行有两个整数，分别代表猴子 $k$ 的左手和右手分别抓住了哪两只猴子，$-1$ 代表它的那只手是空的。\n\n接下来 $m$ 行代表我们观察到的猴子的活动。第 $i$ 行有两个整数，代表在第 $i-1$ 时刻放开手的是哪只猴子和它放开的是哪只手（1 – 左，2 – 右）。", "outputFormat": "输出 $n$ 个整数，每行一个整数，代表每只猴子掉落到地上的时间。如果没有掉落，输出 `-1`。", "hint": "对于所有数据，$1 \\le n \\le 2 \\times 10^5$，$1 \\le m \\le 4 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2003] Monkeys", "background": "", "description": "一棵树上有 $n$ 只猴子。他们从 $1 \\sim n$ 编号。编号为 $1$ 的猴子用它的尾巴盘住了一个树枝，剩下的猴子要么被其他的猴子钩住要么就是自己用手钩住其他的猴子。每只猴子都可以用两只手去钩其他的猴子，每只手最多只能钩一只。\n\n从 $0$ 时刻开始，每一秒都有一只猴子松开它的一只手。这也许会造成一些猴子掉落到地上，我们想要知道它们掉落地上的时间（猴子掉落的速度都非常的快，可以忽略掉落的时间）。", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，$n$ 代表猴子总数，$m$ 代表我们观察猴子的总时间。\n\n接下来 $n$ 行描述初始的情形。第 $k$ 行有两个整数，分别代表猴子 $k$ 的左手和右手分别抓住了哪两只猴子，$-1$ 代表它的那只手是空的。\n\n接下来 $m$ 行代表我们观察到的猴子的活动。第 $i$ 行有两个整数，代表在第 $i-1$ 时刻放开手的是哪只猴子和它放开的是哪只手（1 – 左，2 – 右）。", "outputFormat": "输出 $n$ 个整数，每行一个整数，代表每只猴子掉落到地上的时间。如果没有掉落，输出 `-1`。", "hint": "对于所有数据，$1 \\le n \\le 2 \\times 10^5$，$1 \\le m \\le 4 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P8060", "type": "P", "difficulty": 5, "samples": [["3\n2\n5\n7\n6\n0\n1\n4\n12\n3\n2", "TAK\nNIE\nTAK\nTAK\nNIE\nTAK"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2003", "POI（波兰）", "最短路", "中国剩余定理 CRT"], "title": "[POI 2003] Sums", "background": "", "description": "我们给定一个整数集合 $A$。考虑一个非负整数集合 $A'$，所有属于 $A'$ 的集合的数 $x$ 满足当且仅当能被表示成一些属于 $A$ 的元素的和（数字可重复）。\n\n比如，当 $A = \\{2,5,7\\}$，属于 $A'$ 的数为：$0$（$0$ 个元素的和），$2$，$4$（$2 + 2$）和 $12$（$5 + 7$ or $7 + 5$ or $2 + 2 + 2 + 2 + 2 + 2$）；但是元素 $1$ 和 $3$ 不属于 $A'$。", "inputFormat": "第一行有一个整数 $n$，代表集合 $A$ 的元素个数。接下来每行一个数 $a_i$ 描述一个元素。$A = \\{a_1,a_2,...,a_n\\}$。\n\n接下来一个整数 $k$，然后每行一个整数，分别代表 $b_1,b_2,...,b_k$。", "outputFormat": "输出 $k$ 行。如果 $b_i$ 属于 $A'$，第 $i$ 行打印 `TAK`，否则打印 `NIE`。", "hint": "对于所有数据，$1 \\le n \\le 5 \\times 10^3$，$1 \\le k \\le 10^4$，$1 \\le a_1 < a_2 < ... < a_n \\le 5 \\times 10^4$，$0 \\le b_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2003] Sums", "background": "", "description": "我们给定一个整数集合 $A$。考虑一个非负整数集合 $A'$，所有属于 $A'$ 的集合的数 $x$ 满足当且仅当能被表示成一些属于 $A$ 的元素的和（数字可重复）。\n\n比如，当 $A = \\{2,5,7\\}$，属于 $A'$ 的数为：$0$（$0$ 个元素的和），$2$，$4$（$2 + 2$）和 $12$（$5 + 7$ or $7 + 5$ or $2 + 2 + 2 + 2 + 2 + 2$）；但是元素 $1$ 和 $3$ 不属于 $A'$。", "inputFormat": "第一行有一个整数 $n$，代表集合 $A$ 的元素个数。接下来每行一个数 $a_i$ 描述一个元素。$A = \\{a_1,a_2,...,a_n\\}$。\n\n接下来一个整数 $k$，然后每行一个整数，分别代表 $b_1,b_2,...,b_k$。", "outputFormat": "输出 $k$ 行。如果 $b_i$ 属于 $A'$，第 $i$ 行打印 `TAK`，否则打印 `NIE`。", "hint": "对于所有数据，$1 \\le n \\le 5 \\times 10^3$，$1 \\le k \\le 10^4$，$1 \\le a_1 < a_2 < ... < a_n \\le 5 \\times 10^4$，$0 \\le b_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P8061", "type": "P", "difficulty": 7, "samples": [["1 3 3\n0 0 1\n3 3\n-3 3\n3 -3", "1"], ["1 5 3\n0 0 1\n3 3\n-3 3\n3 -3\n3 0\n0 3", "3"], ["4 10 100\n0 0 3\n10 0 3\n10 10 3\n0 10 3\n0 4\n0 5\n0 6\n5 3\n5 -3\n5 5\n6 7\n3 6\n10 4\n8 4", "5"]], "limits": {"time": [1000, 1000, 1000, 100, 100, 100, 100, 2000, 2000, 2000, 500, 3000, 500, 500, 500, 3000, 500, 3000, 500, 3000, 500, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["计算几何", "2016", "各省省选", "江苏", "Special Judge", "扫描线"], "title": "[JSOI2016] 炸弹攻击1 - 数据加强版", "background": "JYY 最近迷上了一款塔防游戏，在游戏里 JYY 除了建设建筑，还可以使用炸弹对屏幕上的敌人进行范围杀伤。", "description": "游戏地图可以简单认为是一个二维平面。JYY 建造了 $N $ 个建筑，每个建筑都是一个圆，其中第 $i$ 个建筑的圆心位于 $(x_i,y_i)$ 且半径为 $r_i$。地图上一共有 $M$ 个敌人，一个敌人可以近似看成一个平面上的点，其中第 $i$ 个敌人位于 $(p_i,q_i)$。JYY 可以使用一枚可以设置半径的炸弹，可以设置一个不超过 $R$ 的范围，然后选择平面上的一个点引爆，范围内的所有敌人全部消灭。\n\n当然，由于炸弹威力巨大，如果爆炸范围接触到 JYY 的建筑，那么 JYY 的建筑也会受到损伤。（注：如果炸弹的爆炸范围仅接触到了 JYY 建筑的边界，则不会对 JYY 的建筑造成损伤；如果敌人出现在了爆炸范围的边界，则该敌人被消灭）JYY 可以自由控制炸弹的爆炸地点和爆炸半径。作为一个保守的玩家，他希望在保证自己建筑毫发无损的情况下，消灭尽量多的敌人。", "inputFormat": "第一行包含三个非负整数，分别为 $N,M,R$；\n\n接下来 $N$ 行，每行三个整数，其中第 $i$ 行 $x_i,y_i,r_i$，表示第 $i$ 个建筑的位置和半径。数据保证所有建筑不相交（但是有可能边界接触）；\n\n接下来 $M$ 行，每行两个整数，其中第 $i$ 行为 $p_i,q_i$，表示第 $i$ 个敌人的位置。任意两个敌人的位置不同，且敌人不会出现在建筑里。", "outputFormat": "输出一行一个整数，表示 JYY 最多可以消灭的敌人数量。", "hint": "对于 $100\\%$ 的数据，满足 $1\\leq N\\leq 10$，$1\\leq M\\leq 2000$，$1\\leq R,r_i\\leq 2\\times 10^4$，$|p_i|,|q_i|,|x_i|,|y_i|\\leq 2\\times 10^4$。\n\n数据来源于 NAIPC 2015 Problem A - Area of Effect，并有部分自造新数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2016] 炸弹攻击1 - 数据加强版", "background": "JYY 最近迷上了一款塔防游戏，在游戏里 JYY 除了建设建筑，还可以使用炸弹对屏幕上的敌人进行范围杀伤。", "description": "游戏地图可以简单认为是一个二维平面。JYY 建造了 $N $ 个建筑，每个建筑都是一个圆，其中第 $i$ 个建筑的圆心位于 $(x_i,y_i)$ 且半径为 $r_i$。地图上一共有 $M$ 个敌人，一个敌人可以近似看成一个平面上的点，其中第 $i$ 个敌人位于 $(p_i,q_i)$。JYY 可以使用一枚可以设置半径的炸弹，可以设置一个不超过 $R$ 的范围，然后选择平面上的一个点引爆，范围内的所有敌人全部消灭。\n\n当然，由于炸弹威力巨大，如果爆炸范围接触到 JYY 的建筑，那么 JYY 的建筑也会受到损伤。（注：如果炸弹的爆炸范围仅接触到了 JYY 建筑的边界，则不会对 JYY 的建筑造成损伤；如果敌人出现在了爆炸范围的边界，则该敌人被消灭）JYY 可以自由控制炸弹的爆炸地点和爆炸半径。作为一个保守的玩家，他希望在保证自己建筑毫发无损的情况下，消灭尽量多的敌人。", "inputFormat": "第一行包含三个非负整数，分别为 $N,M,R$；\n\n接下来 $N$ 行，每行三个整数，其中第 $i$ 行 $x_i,y_i,r_i$，表示第 $i$ 个建筑的位置和半径。数据保证所有建筑不相交（但是有可能边界接触）；\n\n接下来 $M$ 行，每行两个整数，其中第 $i$ 行为 $p_i,q_i$，表示第 $i$ 个敌人的位置。任意两个敌人的位置不同，且敌人不会出现在建筑里。", "outputFormat": "输出一行一个整数，表示 JYY 最多可以消灭的敌人数量。", "hint": "对于 $100\\%$ 的数据，满足 $1\\leq N\\leq 10$，$1\\leq M\\leq 2000$，$1\\leq R,r_i\\leq 2\\times 10^4$，$|p_i|,|q_i|,|x_i|,|y_i|\\leq 2\\times 10^4$。\n\n数据来源于 NAIPC 2015 Problem A - Area of Effect，并有部分自造新数据。", "locale": "zh-CN"}}}
{"pid": "P8062", "type": "P", "difficulty": 6, "samples": [["3\n2 1 3\n2\n22 13\n321", "9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2012] handsome", "background": "你是 OIer 中最帅的，所以你要做一道跟帅有关的题。", "description": "一个 $N$ 位数是帅气的，当且仅当每一个数位上的数为 $1,2,3$ 中的一个。而且相邻的两个数位上的数字构成的有序数对不是“危险数对”。\n\n- $N$ 位数 $X$ 在排列 $p$ 的意义下字典序小于 $N$ 位数 $Y$，当且仅当存在一个 $k$ 使得 $X_{p_1}=Y_{p_1},X_{p_2}=Y_{p_2},\\dots,X_{p_{k}}<Y_{p_{k}}$。\n\n- $N$ 位数 $X$ 在排列 $p$ 的意义下字典序等于 $N$ 位数 $Y$，当且仅当$X_{p_1}=Y_{p_1},X_{p_2}=Y_{p_2},\\dots,X_{p_{N}}=Y_{p_{N}}$。\n\n\n- $N$ 位数 $X$ 在排列 $p$ 的意义下字典序大于 $N$ 位数 $Y$，当且仅当存在一个 $k$ 使得 $X_{p_1}=Y_{p_1},X_{p_2}=Y_{p_2},\\dots,X_{p_{k}}>Y_{p_{k}}$。\n\n请你输出在排列 $p$ 意义下小于等于 $B$ 的帅气数的个数模 $10^9+7$ 的值。", "inputFormat": "输入的第一行包含一个整数 $N$，表示数字位数。\n\n第二行包含 $N$ 个空格分隔的整数，表示排列 $p$。该行的第 $i$ 个整数表示 $p_i$。\n\n第三行包含一个整数 $M$，表示危险数对个数。\n\n第四行 $M$ 个空格分隔的两位整数，第 $i$ 个两位整数 $\\overline{a_ib_i}$ 表示 $(a_i,b_i)$ 为危险数对。\n\n第五行一个正整数 $B$ 表示给定帅气数。", "outputFormat": "输出一行，表示在排列 $p$ 意义下小于等于 $B$ 的帅气数个数模 $10^9+7$。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$1\\le N\\le4\\times10^5$，$M>0$，$a_i,b_i\\in\\{1,2,3\\}$。\n\n保证 $B$ 为帅气数。\n\n\n#### 样例解释：\n\n$113,122,131,132,133,213,221,222,223,313,322$ 不是帅气数，因为出现了危险数对 $(2,2)$ 或 $(1,3)$。\n\n\n所以，所有 $3$ 位帅气数为：$\n111,112,121,123,\n211,212,231,232,233,\n311,312,321,323,331,332,333$。\n\n在排列 $2,1,3$ 意义下小于等于 $321$ 的帅气数有：$111,112,121,123,211,212,311,312,321$\n\n如 $323$ 在排列 $2,1,3$ 意义下与 $321$ 比较（设 $323$ 为 $X$，$321$ 为 $Y$）：\n\n- 先比较第 $2$ 位：$X_2=Y_2=2$；\n- 再比较第 $1$ 位：$X_1=Y_1=3$；\n- 最后比较第 $3$ 位：$X_3=3>Y_3=1$。\n\n所以 $323$ 在排列 $2,1,3$ 意义下大于 $321$，不是满足条件的帅气数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2012] handsome", "background": "你是 OIer 中最帅的，所以你要做一道跟帅有关的题。", "description": "一个 $N$ 位数是帅气的，当且仅当每一个数位上的数为 $1,2,3$ 中的一个。而且相邻的两个数位上的数字构成的有序数对不是“危险数对”。\n\n- $N$ 位数 $X$ 在排列 $p$ 的意义下字典序小于 $N$ 位数 $Y$，当且仅当存在一个 $k$ 使得 $X_{p_1}=Y_{p_1},X_{p_2}=Y_{p_2},\\dots,X_{p_{k}}<Y_{p_{k}}$。\n\n- $N$ 位数 $X$ 在排列 $p$ 的意义下字典序等于 $N$ 位数 $Y$，当且仅当$X_{p_1}=Y_{p_1},X_{p_2}=Y_{p_2},\\dots,X_{p_{N}}=Y_{p_{N}}$。\n\n\n- $N$ 位数 $X$ 在排列 $p$ 的意义下字典序大于 $N$ 位数 $Y$，当且仅当存在一个 $k$ 使得 $X_{p_1}=Y_{p_1},X_{p_2}=Y_{p_2},\\dots,X_{p_{k}}>Y_{p_{k}}$。\n\n请你输出在排列 $p$ 意义下小于等于 $B$ 的帅气数的个数模 $10^9+7$ 的值。", "inputFormat": "输入的第一行包含一个整数 $N$，表示数字位数。\n\n第二行包含 $N$ 个空格分隔的整数，表示排列 $p$。该行的第 $i$ 个整数表示 $p_i$。\n\n第三行包含一个整数 $M$，表示危险数对个数。\n\n第四行 $M$ 个空格分隔的两位整数，第 $i$ 个两位整数 $\\overline{a_ib_i}$ 表示 $(a_i,b_i)$ 为危险数对。\n\n第五行一个正整数 $B$ 表示给定帅气数。", "outputFormat": "输出一行，表示在排列 $p$ 意义下小于等于 $B$ 的帅气数个数模 $10^9+7$。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$1\\le N\\le4\\times10^5$，$M>0$，$a_i,b_i\\in\\{1,2,3\\}$。\n\n保证 $B$ 为帅气数。\n\n\n#### 样例解释：\n\n$113,122,131,132,133,213,221,222,223,313,322$ 不是帅气数，因为出现了危险数对 $(2,2)$ 或 $(1,3)$。\n\n\n所以，所有 $3$ 位帅气数为：$\n111,112,121,123,\n211,212,231,232,233,\n311,312,321,323,331,332,333$。\n\n在排列 $2,1,3$ 意义下小于等于 $321$ 的帅气数有：$111,112,121,123,211,212,311,312,321$\n\n如 $323$ 在排列 $2,1,3$ 意义下与 $321$ 比较（设 $323$ 为 $X$，$321$ 为 $Y$）：\n\n- 先比较第 $2$ 位：$X_2=Y_2=2$；\n- 再比较第 $1$ 位：$X_1=Y_1=3$；\n- 最后比较第 $3$ 位：$X_3=3>Y_3=1$。\n\n所以 $323$ 在排列 $2,1,3$ 意义下大于 $321$，不是满足条件的帅气数。", "locale": "zh-CN"}}}
{"pid": "P8063", "type": "P", "difficulty": 6, "samples": [["5 6 1 5 \n1 2 1 \n2 3 3 \n2 5 100 \n3 4 3 \n3 5 5 \n4 5 3 \n4 1 2 3 5", "-1 \n101 \n10"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "O2优化", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2012] Shortest paths", "background": "Bit 镇的你要去 Hex 镇找你的 npy。", "description": "你所在的国家有 $n$ 个镇（镇从 $1$ 到 $n$ 编号），$m$ 条双向道路，Bit 镇在 $a$ 点，Hex 镇在 $b$ 点。每条道路有一个长度。你很了解周围的地图，所以找到了两个镇之间的最短路径，而且，决定将这条路径称为幸运路径。\n\n\n\n有一天，政府决定在公路上施工，为了维持交通，决定每次只关闭一条道路（关闭后道路不可通行）。\n\n对于这条幸运路径上的每一条道路，你想知道当这条道路正在关闭时从 Bit 镇到 Hex 镇的最短距离。", "inputFormat": "输入的第一行由 4 个整数组成：$n,m,a,b$，分别表示城镇数量，道路数量，Bit 镇编号，Hex 镇编号。\n\n接下来的 $m$ 行，第 $i$ 行包含三个整数 $u_i,v_i,w_i$ ：城镇 $u_i$ 和城镇 $v_i$ 由长度为 $w_i$ 的道路连接。\n\n输入的最后一行由数字 $k$ 和 $k$ 个数字组成：$(v_1(=a),v_2,\\dots,v_{k}(=b))$ ，表示幸运路径。 $v_i(1\\le i\\le k)$ 表示幸运路径上的第 $i$ 个点的编号。", "outputFormat": "输出共 $k-1$ 行。\n\n对于每个 $t=1\\dots k-1$，输出一行一个整数：道路 $(v_t,v_{t+1})$ 施工时，Bit 镇和 Hex 镇之间的最短路径的长度。如果路径不存在，则输出 `-1`。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$1\\le n\\le 2000$，$1\\le m\\le10^5$，$1\\le u_i,v_i\\le n$，$1\\le w_i\\le10^5$。\n\n对于 $i\\neq j$，满足 $u_i\\neq u_j$ 或 $v_i\\neq v_j$。\n\n#### 样例解释：\n\n![](https://s4.ax1x.com/2021/12/07/ochxxA.jpg)\n\n封闭道路 $(1,2)$ 后从点 $1$ 的 Bit 镇无法到达点 $5$ 的 Hex 镇。\n\n封闭道路 $(2,3)$ 后从点 $1$ 的 Bit 镇到点 $5$ 的 Hex 镇的最短路为 $1\\rightarrow 2\\rightarrow5$，长度 $1+100=101$。\n\n封闭道路 $(3,5)$ 后从点 $1$ 的 Bit 镇到点 $5$ 的 Hex 镇的最短路为 $1\\rightarrow 2\\rightarrow3\\rightarrow4\\rightarrow5$，长度 $1+3+3+3=10$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2012] Shortest paths", "background": "Bit 镇的你要去 Hex 镇找你的 npy。", "description": "你所在的国家有 $n$ 个镇（镇从 $1$ 到 $n$ 编号），$m$ 条双向道路，Bit 镇在 $a$ 点，Hex 镇在 $b$ 点。每条道路有一个长度。你很了解周围的地图，所以找到了两个镇之间的最短路径，而且，决定将这条路径称为幸运路径。\n\n\n\n有一天，政府决定在公路上施工，为了维持交通，决定每次只关闭一条道路（关闭后道路不可通行）。\n\n对于这条幸运路径上的每一条道路，你想知道当这条道路正在关闭时从 Bit 镇到 Hex 镇的最短距离。", "inputFormat": "输入的第一行由 4 个整数组成：$n,m,a,b$，分别表示城镇数量，道路数量，Bit 镇编号，Hex 镇编号。\n\n接下来的 $m$ 行，第 $i$ 行包含三个整数 $u_i,v_i,w_i$ ：城镇 $u_i$ 和城镇 $v_i$ 由长度为 $w_i$ 的道路连接。\n\n输入的最后一行由数字 $k$ 和 $k$ 个数字组成：$(v_1(=a),v_2,\\dots,v_{k}(=b))$ ，表示幸运路径。 $v_i(1\\le i\\le k)$ 表示幸运路径上的第 $i$ 个点的编号。", "outputFormat": "输出共 $k-1$ 行。\n\n对于每个 $t=1\\dots k-1$，输出一行一个整数：道路 $(v_t,v_{t+1})$ 施工时，Bit 镇和 Hex 镇之间的最短路径的长度。如果路径不存在，则输出 `-1`。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$1\\le n\\le 2000$，$1\\le m\\le10^5$，$1\\le u_i,v_i\\le n$，$1\\le w_i\\le10^5$。\n\n对于 $i\\neq j$，满足 $u_i\\neq u_j$ 或 $v_i\\neq v_j$。\n\n#### 样例解释：\n\n![](https://s4.ax1x.com/2021/12/07/ochxxA.jpg)\n\n封闭道路 $(1,2)$ 后从点 $1$ 的 Bit 镇无法到达点 $5$ 的 Hex 镇。\n\n封闭道路 $(2,3)$ 后从点 $1$ 的 Bit 镇到点 $5$ 的 Hex 镇的最短路为 $1\\rightarrow 2\\rightarrow5$，长度 $1+100=101$。\n\n封闭道路 $(3,5)$ 后从点 $1$ 的 Bit 镇到点 $5$ 的 Hex 镇的最短路为 $1\\rightarrow 2\\rightarrow3\\rightarrow4\\rightarrow5$，长度 $1+3+3+3=10$。\n", "locale": "zh-CN"}}}
{"pid": "P8064", "type": "P", "difficulty": 6, "samples": [["6 9\n2 1\n2 4\n4 4\n6 2\n6 3\n5 3\n4 6\n5 1\n2 6", "14"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "O2优化", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2012] Spiral", "background": "你心血来潮，去公园里骑车。", "description": "公园可以看成一个 $N\\times N$ 的网格，第 $i$ 行，第 $j$ 列的格子坐标为 $(i,j)$。每个格子是可以走的道路或不能走的喷泉。\n\n你想骑出一条螺旋路径。\n\n- 螺旋路径的定义为：从一个格子出发，向一个方向走至少 $1$ 格，进行右转，再走至少 $1$ 格，进行右转，再走至少 $1$ 格，进行右转，再走至少 $1$ 格（只右转三次）。\n- 在螺旋路径中不能经过喷泉。\n\n现在你想找出你能骑的最长螺旋路径（路径长度为经过的格子数，含首尾）。\n\n保证存在一条螺旋路径。\n", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $K$，分别是公园的大小和喷泉的数量。\n\n接下来 $K$ 行每行 $2$ 个整数 $x$ 和 $y$，表示在坐标为 $(x,y)$ 的格子上有一个喷泉。", "outputFormat": "一行一个整数，你能骑的最长路线（即最长螺旋路径）。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$2\\le N\\le 1000$，$0\\le K\\le \\min(2000,N^2)$，$1\\le x,y\\le N$。\n\n#### 样例解释：\n公园如图所示，最右边图是最长螺旋路径，路径长度为 $14$，没有更长的路径。\n\n![](https://s4.ax1x.com/2021/12/07/ockbBq.md.jpg)\n\n注：前两幅图均为合法螺旋路径，帮助理解。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2012] Spiral", "background": "你心血来潮，去公园里骑车。", "description": "公园可以看成一个 $N\\times N$ 的网格，第 $i$ 行，第 $j$ 列的格子坐标为 $(i,j)$。每个格子是可以走的道路或不能走的喷泉。\n\n你想骑出一条螺旋路径。\n\n- 螺旋路径的定义为：从一个格子出发，向一个方向走至少 $1$ 格，进行右转，再走至少 $1$ 格，进行右转，再走至少 $1$ 格，进行右转，再走至少 $1$ 格（只右转三次）。\n- 在螺旋路径中不能经过喷泉。\n\n现在你想找出你能骑的最长螺旋路径（路径长度为经过的格子数，含首尾）。\n\n保证存在一条螺旋路径。\n", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $K$，分别是公园的大小和喷泉的数量。\n\n接下来 $K$ 行每行 $2$ 个整数 $x$ 和 $y$，表示在坐标为 $(x,y)$ 的格子上有一个喷泉。", "outputFormat": "一行一个整数，你能骑的最长路线（即最长螺旋路径）。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$2\\le N\\le 1000$，$0\\le K\\le \\min(2000,N^2)$，$1\\le x,y\\le N$。\n\n#### 样例解释：\n公园如图所示，最右边图是最长螺旋路径，路径长度为 $14$，没有更长的路径。\n\n![](https://s4.ax1x.com/2021/12/07/ockbBq.md.jpg)\n\n注：前两幅图均为合法螺旋路径，帮助理解。", "locale": "zh-CN"}}}
{"pid": "P8065", "type": "P", "difficulty": 5, "samples": [["7\n17 21\n24 36\n14 19\n27 20\n21 50\n18 5\n33 7\n4\n20 3\n50 2\n99 5\n10 2", "45\n71\n95\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2012] The Best Teams", "background": "你是国家队教练，你要选择一支最佳队伍去参加 BOI 世界杯。", "description": "你麾下有 $N$ 名球员，编号为 $1\\dots N$，第 $i$ 名球员有一个年龄 $age_i$，和技能值 $skill_i$。\n\n一个队伍的优秀程度为技能值之和。尽管如此，你认为把两名技能值相似的球员放在团队中是不行的，他们会产生矛盾。\n\n- 我们称两个球员 $x,y$ 技能值相似，当且仅当不存在第三个球员 $z$ 使得 $skill_x<skill_z<skill_y$。\n\n球队要参加 $T$ 场比赛。每场比赛有一个年龄限制 $A$，这意味着对于参加这场比赛的任意一个球员 $x$ 满足 $age_x\\le A$。此外，对于每场比赛还有一个人数限制 $K$，意味着参赛人数 $\\le K$。\n\n一个球员可多次参赛。", "inputFormat": "输入的第一行包含一个整数 $N$，代表球员的数量。\n\n接下来的 $N$ 行中的每一行都包含两个空格分隔的整数 $age_i,skill_i$。\n\n下一行包含一个整数 $T$，表示比赛的数量。\n\n接下来 $T$ 行，每行两个整数 $A,K$，分别表示每场比赛的年龄限制和球员人数限制。", "outputFormat": "对于每场比赛，输出你选择的队伍的优秀程度。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$1\\le N,T\\le 3\\times 10^5$，$1\\le age_i,skill_i\\le10^9$。\n\n对于所有 $i\\neq j$ 满足 $skill_i\\neq skill_j$。\n\n#### 样例解释：\n共有 $6$ 对球员技能值相似，分别为 $(6,7)$ $(7,3)$ $(3,4)$ $(4,1)$ $(1,2)$ $(2,5)$。\n\n第一次比赛派出球员 $1,3,6$。\n\n第二次比赛派出球员 $1,5$。\n\n第三次比赛派出球员 $1,3,5,6$。\n\n第四次比赛无法派出球员，因为没有一个球员年龄 $\\le10$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2012] The Best Teams", "background": "你是国家队教练，你要选择一支最佳队伍去参加 BOI 世界杯。", "description": "你麾下有 $N$ 名球员，编号为 $1\\dots N$，第 $i$ 名球员有一个年龄 $age_i$，和技能值 $skill_i$。\n\n一个队伍的优秀程度为技能值之和。尽管如此，你认为把两名技能值相似的球员放在团队中是不行的，他们会产生矛盾。\n\n- 我们称两个球员 $x,y$ 技能值相似，当且仅当不存在第三个球员 $z$ 使得 $skill_x<skill_z<skill_y$。\n\n球队要参加 $T$ 场比赛。每场比赛有一个年龄限制 $A$，这意味着对于参加这场比赛的任意一个球员 $x$ 满足 $age_x\\le A$。此外，对于每场比赛还有一个人数限制 $K$，意味着参赛人数 $\\le K$。\n\n一个球员可多次参赛。", "inputFormat": "输入的第一行包含一个整数 $N$，代表球员的数量。\n\n接下来的 $N$ 行中的每一行都包含两个空格分隔的整数 $age_i,skill_i$。\n\n下一行包含一个整数 $T$，表示比赛的数量。\n\n接下来 $T$ 行，每行两个整数 $A,K$，分别表示每场比赛的年龄限制和球员人数限制。", "outputFormat": "对于每场比赛，输出你选择的队伍的优秀程度。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$1\\le N,T\\le 3\\times 10^5$，$1\\le age_i,skill_i\\le10^9$。\n\n对于所有 $i\\neq j$ 满足 $skill_i\\neq skill_j$。\n\n#### 样例解释：\n共有 $6$ 对球员技能值相似，分别为 $(6,7)$ $(7,3)$ $(3,4)$ $(4,1)$ $(1,2)$ $(2,5)$。\n\n第一次比赛派出球员 $1,3,6$。\n\n第二次比赛派出球员 $1,5$。\n\n第三次比赛派出球员 $1,3,5,6$。\n\n第四次比赛无法派出球员，因为没有一个球员年龄 $\\le10$。", "locale": "zh-CN"}}}
{"pid": "P8066", "type": "P", "difficulty": 6, "samples": [["8 9\n1 4 1\n1 8 1\n2 3 0\n5 6 0\n6 5 0\n7 4 1\n6 4 0\n7 1 1\n4 5 0\n", "8 5 6 2 3 1 7 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2012", "Special Judge", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2012] Fan Groups", "background": "BOI 世界杯即将开始，有球迷们在城市中宣传他们支持的队伍。", "description": "有 $n$ 个城市广场（标记为 $1$ 到 $n$）和其中一些之间的 $m$ 条单向街道，每个广场上初始有一群球迷（每个广场上的球迷支持不同球队）。\n\n这 $n$ 群球迷按照某个特定的顺序进行以下操作：\n\n- 占领他们所在的广场（如在 $1$ 广场的人会先占领 $1$ 广场）。\n- 从他们占领的某个广场 $u$ 出发，走到与其相邻的每个广场 $v$。如果广场 $v$ 已经被人占领，他们会在边 $(u,v)$ 上发生冲突，并不再在这个方向上前进；否则，他们会占领广场 $v$，并重复这一步，直到没有能到达的广场为止。\n- 如果他们所在的广场在此前被别的人群占领，他们不会与那群人发生冲突。在这种情况下，他们什么都不做。\n\n给定该城市，以及发生冲突的边集。求一种球迷的行动顺序，使得发生冲突的边集与输入相符。", "inputFormat": "\n输入的第一行包含两个整数 $N,M$，表示点数和边数。\n\n接下来 $M$ 行，每行三个整数 $A_i,B_i,C_i$，表示有向边 $A_i\\rightarrow B_i$，如果 $C_i=1$，则这条边上发生了冲突。\n", "outputFormat": "一个排列，球迷的行动顺序。\n\n若无合法方案，输出 `-1`。", "hint": "Special Judge 由 [TOBapNw](https://www.luogu.com.cn/user/185864) 提供，若 SPJ 有误，请联系他。\n\n#### 数据范围：\nSubtask#0 为样例。\n\n$3\\le N\\le 2\\times10^4$，$M\\le\\min(\\frac{N\\times(N-1)}{2},2\\times10^5)$，$1\\le A_i,B_i\\le N$，$C_i\\in\\{0,1\\}$。\n\n\n#### 样例解释：\n\n$8$ 号广场的球迷首先行动，占领广场 $8$；\n\n接下来 $5$ 号广场的球迷行动，占领广场 $4,5,6$；\n\n接下来 $6$ 号广场的球迷行动，因为广场 $6$ 已经被占领，他们什么都不做；\n\n接下来 $2$ 号广场的球迷占领广场 $2,3$；\n\n$3$ 号广场的球迷什么都不做；\n\n接下来 $1$ 号广场的球迷行动，占领广场 $1$，并在边 $(1,4),(1,8)$ 上引发冲突；\n\n$7$ 号广场的球迷占领广场 $7$，并在边 $(7,1),(7,4)$ 上引发冲突；\n\n注意合法的顺序可能不止一种，样例中，$(2,3,8,4,1,7,5,6)$ 也是一种合法的方案。\n\n注意 $(8,5,6,3,2,1,7,4)$ 不是合法的方案，因为按照这个方案，$(2,3)$ 上也会发生冲突，与输入不符。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2012] Fan Groups", "background": "BOI 世界杯即将开始，有球迷们在城市中宣传他们支持的队伍。", "description": "有 $n$ 个城市广场（标记为 $1$ 到 $n$）和其中一些之间的 $m$ 条单向街道，每个广场上初始有一群球迷（每个广场上的球迷支持不同球队）。\n\n这 $n$ 群球迷按照某个特定的顺序进行以下操作：\n\n- 占领他们所在的广场（如在 $1$ 广场的人会先占领 $1$ 广场）。\n- 从他们占领的某个广场 $u$ 出发，走到与其相邻的每个广场 $v$。如果广场 $v$ 已经被人占领，他们会在边 $(u,v)$ 上发生冲突，并不再在这个方向上前进；否则，他们会占领广场 $v$，并重复这一步，直到没有能到达的广场为止。\n- 如果他们所在的广场在此前被别的人群占领，他们不会与那群人发生冲突。在这种情况下，他们什么都不做。\n\n给定该城市，以及发生冲突的边集。求一种球迷的行动顺序，使得发生冲突的边集与输入相符。", "inputFormat": "\n输入的第一行包含两个整数 $N,M$，表示点数和边数。\n\n接下来 $M$ 行，每行三个整数 $A_i,B_i,C_i$，表示有向边 $A_i\\rightarrow B_i$，如果 $C_i=1$，则这条边上发生了冲突。\n", "outputFormat": "一个排列，球迷的行动顺序。\n\n若无合法方案，输出 `-1`。", "hint": "Special Judge 由 [TOBapNw](https://www.luogu.com.cn/user/185864) 提供，若 SPJ 有误，请联系他。\n\n#### 数据范围：\nSubtask#0 为样例。\n\n$3\\le N\\le 2\\times10^4$，$M\\le\\min(\\frac{N\\times(N-1)}{2},2\\times10^5)$，$1\\le A_i,B_i\\le N$，$C_i\\in\\{0,1\\}$。\n\n\n#### 样例解释：\n\n$8$ 号广场的球迷首先行动，占领广场 $8$；\n\n接下来 $5$ 号广场的球迷行动，占领广场 $4,5,6$；\n\n接下来 $6$ 号广场的球迷行动，因为广场 $6$ 已经被占领，他们什么都不做；\n\n接下来 $2$ 号广场的球迷占领广场 $2,3$；\n\n$3$ 号广场的球迷什么都不做；\n\n接下来 $1$ 号广场的球迷行动，占领广场 $1$，并在边 $(1,4),(1,8)$ 上引发冲突；\n\n$7$ 号广场的球迷占领广场 $7$，并在边 $(7,1),(7,4)$ 上引发冲突；\n\n注意合法的顺序可能不止一种，样例中，$(2,3,8,4,1,7,5,6)$ 也是一种合法的方案。\n\n注意 $(8,5,6,3,2,1,7,4)$ 不是合法的方案，因为按照这个方案，$(2,3)$ 上也会发生冲突，与输入不符。", "locale": "zh-CN"}}}
{"pid": "P8067", "type": "P", "difficulty": 6, "samples": [["6\n6 10 -7 2 5 -12", "19\n56"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2012", "BalkanOI（巴尔干半岛）"], "title": "[BalkanOI 2012] balls", "background": "你在玩物理画线。", "description": "有 $N$ 个球和 $N$ 个杯子，从左到右编号依次为 $1\\dots N$。开始时第 $i$ 个球对准第 $i$ 个杯子（不受影响的情况下第 $i$ 个球落入第 $i$ 个杯子）。第 $i$ 个杯子有一个分值 $c_i$，一个球落入一个杯子可以获得该杯子的分数（杯子容量视为无限），分数可能为负数。\n\n你可以画两种线，线的两端点必须对准某个杯子，且两个端点不能是同一个杯子：\n1. 从左上到右下，设左上对准的杯子编号为 $i$，右下对准的杯子编号为 $j$，使编号为 $i\\dots j$ 的球全部落入第 $j$ 号杯子。\n\n1. 从右上到左下，设左下对准的杯子编号为 $i$，右上对准的杯子编号为 $j$，使编号为 $i\\dots j$ 的球全部落入第 $i$ 号杯子。\n\n\n现在你想知道你只用**恰好一根**第一种线、**恰好一根**第二种线，分别能获得的最大分数。\n", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n接下来一行 $N$ 个整数，表示 $c_1\\dots c_N$。", "outputFormat": "输出第一行一个整数——只使用第一种的最大分数。\n\n输出第二行一个整数——只使用第二种的最大分数。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$3\\le N\\le3\\times10^5$，$|c_i|\\le10^9$。\n\n\n#### 样例解释：\n\n![](https://s4.ax1x.com/2021/12/08/ogquFI.jpg)\n\n第一幅图为第一种线，分数：$6+10+5+5+5+(-12)=19$，可以证明是最大值。\n\n第二幅图为第二种线，分数：$6+10+10+10+10+10=56$，可以证明是最大值。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalkanOI 2012] balls", "background": "你在玩物理画线。", "description": "有 $N$ 个球和 $N$ 个杯子，从左到右编号依次为 $1\\dots N$。开始时第 $i$ 个球对准第 $i$ 个杯子（不受影响的情况下第 $i$ 个球落入第 $i$ 个杯子）。第 $i$ 个杯子有一个分值 $c_i$，一个球落入一个杯子可以获得该杯子的分数（杯子容量视为无限），分数可能为负数。\n\n你可以画两种线，线的两端点必须对准某个杯子，且两个端点不能是同一个杯子：\n1. 从左上到右下，设左上对准的杯子编号为 $i$，右下对准的杯子编号为 $j$，使编号为 $i\\dots j$ 的球全部落入第 $j$ 号杯子。\n\n1. 从右上到左下，设左下对准的杯子编号为 $i$，右上对准的杯子编号为 $j$，使编号为 $i\\dots j$ 的球全部落入第 $i$ 号杯子。\n\n\n现在你想知道你只用**恰好一根**第一种线、**恰好一根**第二种线，分别能获得的最大分数。\n", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n接下来一行 $N$ 个整数，表示 $c_1\\dots c_N$。", "outputFormat": "输出第一行一个整数——只使用第一种的最大分数。\n\n输出第二行一个整数——只使用第二种的最大分数。", "hint": "#### 数据范围：\nSubtask#0 为样例。\n\n$3\\le N\\le3\\times10^5$，$|c_i|\\le10^9$。\n\n\n#### 样例解释：\n\n![](https://s4.ax1x.com/2021/12/08/ogquFI.jpg)\n\n第一幅图为第一种线，分数：$6+10+5+5+5+(-12)=19$，可以证明是最大值。\n\n第二幅图为第二种线，分数：$6+10+10+10+10+10=56$，可以证明是最大值。", "locale": "zh-CN"}}}
{"pid": "P8068", "type": "P", "difficulty": 5, "samples": [["4 5 1 4 \n2 1 2 1 \n3 4 3 1 \n2 3 1 2 \n3 1 1 4 \n2 4 2 4 ", "2 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "BalticOI（波罗的海）"], "title": "[BalticOI 2002] Bicriterial routing (Day2)", "background": "", "description": "给定一张 $n$ 个点、$m$ 条边的无向图。边 $e$ 的长度为二元组 $(c_e, t_e)$。\n\n一条途径 $w$ 的长度 $(c_w, t_w) = (\\sum_{e \\in w} c_e, \\sum_{e \\in w} t_e)$。\n\n一条途径 $w$ 比另一条途径 $w'$ 短，当且仅当二者长度不同且 $c_w \\le c_{w'}, t_w \\le t_{w'}$。\n\n显然可能有两条途径无法比较长短，进而两点间可能出现多条长度不同的最短路径。\n\n求 $s$ 至 $e$ 的最短路径的长度取值的种类数。", "inputFormat": "第一行四个整数 $n, m, s, e$。\n\n接下来 $m$ 行，每行四个整数 $p, r, c, t$，分别表示一条边的两个端点与长度。", "outputFormat": "一行一个整数，你的答案。", "hint": "#### 样例说明\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2x4o606g.png)\n\n考虑其中四条途径：\n\n0. $1 \\to 2 \\to 4$（长度为 $(4, 5)$）；\n1. $1 \\to 3 \\to 4$（长度为 $(4, 5)$）；\n2. $1 \\to 2 \\to 3 \\to 4$（长度为 $(6, 4)$）；\n3. $1 \\to 3 \\to 2 \\to 4$（长度为 $(4, 10)$）。\n\n途径 0、途径 1 均短于途径 3。最短路长度共有两种：$(4, 5)$（途径 0、途径 1）、$(6, 4)$（途径 2）。\n\n#### 数据范围\n\n$1 \\le s, e, p, r \\le n \\le 100$，$0 \\le m \\le 300$，$s \\ne e$，$0 \\le c, t \\le 100$。\n\n#### 提示\n\n[BalticOI](https://boi.cses.fi/contests.php) 2002 Day2 A.\n\n由于自定义计分脚本参数配置，暂不支持 AC WA TLE MLE 外的评测状态显示。如果你得到了此外任何一种评测状态，你将得到 UKE。\n\nSubtask #0 为样例；Subtask #1 为数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2002] Bicriterial routing (Day2)", "background": "", "description": "给定一张 $n$ 个点、$m$ 条边的无向图。边 $e$ 的长度为二元组 $(c_e, t_e)$。\n\n一条途径 $w$ 的长度 $(c_w, t_w) = (\\sum_{e \\in w} c_e, \\sum_{e \\in w} t_e)$。\n\n一条途径 $w$ 比另一条途径 $w'$ 短，当且仅当二者长度不同且 $c_w \\le c_{w'}, t_w \\le t_{w'}$。\n\n显然可能有两条途径无法比较长短，进而两点间可能出现多条长度不同的最短路径。\n\n求 $s$ 至 $e$ 的最短路径的长度取值的种类数。", "inputFormat": "第一行四个整数 $n, m, s, e$。\n\n接下来 $m$ 行，每行四个整数 $p, r, c, t$，分别表示一条边的两个端点与长度。", "outputFormat": "一行一个整数，你的答案。", "hint": "#### 样例说明\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2x4o606g.png)\n\n考虑其中四条途径：\n\n0. $1 \\to 2 \\to 4$（长度为 $(4, 5)$）；\n1. $1 \\to 3 \\to 4$（长度为 $(4, 5)$）；\n2. $1 \\to 2 \\to 3 \\to 4$（长度为 $(6, 4)$）；\n3. $1 \\to 3 \\to 2 \\to 4$（长度为 $(4, 10)$）。\n\n途径 0、途径 1 均短于途径 3。最短路长度共有两种：$(4, 5)$（途径 0、途径 1）、$(6, 4)$（途径 2）。\n\n#### 数据范围\n\n$1 \\le s, e, p, r \\le n \\le 100$，$0 \\le m \\le 300$，$s \\ne e$，$0 \\le c, t \\le 100$。\n\n#### 提示\n\n[BalticOI](https://boi.cses.fi/contests.php) 2002 Day2 A.\n\n由于自定义计分脚本参数配置，暂不支持 AC WA TLE MLE 外的评测状态显示。如果你得到了此外任何一种评测状态，你将得到 UKE。\n\nSubtask #0 为样例；Subtask #1 为数据。", "locale": "zh-CN"}}}
{"pid": "P8069", "type": "P", "difficulty": 6, "samples": [[".*** \n#*.x \n###. \nx... ", ".*** \nx*#x \n###. \n.... "], ["...x \n###. \n#*** \nx..* ", "No winning move \nDraw "], [".### \nx#*x \n***. \n.... ", "No winning move \nLosing "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2002] L Game © Edward de Bono (Day2)", "background": "", "description": "L 棋是一种双人棋类游戏，在 $4 \\times 4$ 的正方形棋盘上进行。\n\n共有两种棋子：\n- L 形棋：大小为 $4$，双方各有一枚；\n- 中性棋：大小为 $1$，共两枚，中立。\n\n任意时刻，棋盘上任意格子上方应至多有一枚棋子。\n\n双方轮流操作。一次合法的操作是：先移动己方 L 形棋至一个合法的与当前位置不同的位置，再移动至多一枚中性棋。\n\n无法进行合法操作者败。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pmca33zr.png)\n\n记标有网格的 L 形棋操作者为 A，标有斜线者为 B。\n\n若处于上图三种局面之一且 A 先手，则能且仅能将己方 L 形棋移至另外两种局面。此后，A 可以将中性棋之一移至某空格子，或不移动中性棋。故 A 共有 $2 \\times (6 + 6 + 1)$ 种操作方案。\n\n若处于下图局面且 A 先手，则 A 由于无法移动其 L 形棋而败，B 胜。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9j9uia3u.png)\n\n「妙棋」指：先手进行后存在必胜策略的操作。「败局」指：先手无论如何操作，后手都存在必胜策略的局面。「和棋」指：先手不存在妙棋且不为败局的局面。\n\n尽管棋盘很小，但 L 棋存在超过 $18 \\thinspace 000$ 种可能的局面；且在同一时刻先手可能存在多达 $195$ 种操作方案，但其中仅有一种妙棋。\n\n对于给定局面，找到一步妙棋，或判定该局面为败局或和棋。若存在多种妙棋，输出任意一种即可。", "inputFormat": "四行，每行四个字符，表示棋局。\n\n- `#` 表示先手棋子所在位置；\n- `*` 表示后手棋子所在位置；\n- `x` 表示中性棋子所在位置；\n- `.` 表示空格子。", "outputFormat": "- 若存在妙棋，则输出移动后的局面，格式同输入格式。注意 `#` 依然表示操作前的先手，`*` 同理。\n\n- 否则第一行一个字符串 `No winning move`。\n  - 若为和棋，则第二行输出一个字符串 `Draw`；\n  - 若为败局，则第二行输出一个字符串 `Losing`。\n\n注意：虽然 Special Judge 忽略行末回车与文末换行，但请不要输出多于 $64$ 个字符，否则会被判为 Wrong Answer。", "hint": "#### 数据范围\n\n保证给出局面合法。\n\n#### 提示\n\n[BalticOI](https://boi.cses.fi/contests.php) 2002 Day2 B.\n\n你能在不存在妙棋的测试点得分，当且仅当你通过了至少一半存在妙棋的测试点。（注：原题面中为至少一个，但这里取原题解中说法即「一半」。）\n\n由于自定义计分脚本参数配置，暂不支持 AC WA TLE MLE 外的评测状态显示。如果你得到了此外任何一种评测状态，你将得到 UKE。\n\nSubtask #0 为样例；Subtask #1 为数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2002] L Game © Edward de Bono (Day2)", "background": "", "description": "L 棋是一种双人棋类游戏，在 $4 \\times 4$ 的正方形棋盘上进行。\n\n共有两种棋子：\n- L 形棋：大小为 $4$，双方各有一枚；\n- 中性棋：大小为 $1$，共两枚，中立。\n\n任意时刻，棋盘上任意格子上方应至多有一枚棋子。\n\n双方轮流操作。一次合法的操作是：先移动己方 L 形棋至一个合法的与当前位置不同的位置，再移动至多一枚中性棋。\n\n无法进行合法操作者败。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pmca33zr.png)\n\n记标有网格的 L 形棋操作者为 A，标有斜线者为 B。\n\n若处于上图三种局面之一且 A 先手，则能且仅能将己方 L 形棋移至另外两种局面。此后，A 可以将中性棋之一移至某空格子，或不移动中性棋。故 A 共有 $2 \\times (6 + 6 + 1)$ 种操作方案。\n\n若处于下图局面且 A 先手，则 A 由于无法移动其 L 形棋而败，B 胜。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9j9uia3u.png)\n\n「妙棋」指：先手进行后存在必胜策略的操作。「败局」指：先手无论如何操作，后手都存在必胜策略的局面。「和棋」指：先手不存在妙棋且不为败局的局面。\n\n尽管棋盘很小，但 L 棋存在超过 $18 \\thinspace 000$ 种可能的局面；且在同一时刻先手可能存在多达 $195$ 种操作方案，但其中仅有一种妙棋。\n\n对于给定局面，找到一步妙棋，或判定该局面为败局或和棋。若存在多种妙棋，输出任意一种即可。", "inputFormat": "四行，每行四个字符，表示棋局。\n\n- `#` 表示先手棋子所在位置；\n- `*` 表示后手棋子所在位置；\n- `x` 表示中性棋子所在位置；\n- `.` 表示空格子。", "outputFormat": "- 若存在妙棋，则输出移动后的局面，格式同输入格式。注意 `#` 依然表示操作前的先手，`*` 同理。\n\n- 否则第一行一个字符串 `No winning move`。\n  - 若为和棋，则第二行输出一个字符串 `Draw`；\n  - 若为败局，则第二行输出一个字符串 `Losing`。\n\n注意：虽然 Special Judge 忽略行末回车与文末换行，但请不要输出多于 $64$ 个字符，否则会被判为 Wrong Answer。", "hint": "#### 数据范围\n\n保证给出局面合法。\n\n#### 提示\n\n[BalticOI](https://boi.cses.fi/contests.php) 2002 Day2 B.\n\n你能在不存在妙棋的测试点得分，当且仅当你通过了至少一半存在妙棋的测试点。（注：原题面中为至少一个，但这里取原题解中说法即「一半」。）\n\n由于自定义计分脚本参数配置，暂不支持 AC WA TLE MLE 外的评测状态显示。如果你得到了此外任何一种评测状态，你将得到 UKE。\n\nSubtask #0 为样例；Subtask #1 为数据。", "locale": "zh-CN"}}}
{"pid": "P8070", "type": "P", "difficulty": 5, "samples": [["2 \n2 0 270 5 \nS \nT 180 \nS \nS \nS \n1 -1 0 8 \nS \nS \nT 90 \nS \nT 270 \nS \nT 90 \nS \n", "2 \n2 1 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2002", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2002] Moving Robots (Day2)", "background": "", "description": "一些机器人在二维平面上根据指令移动。机器人移动互不影响，甚至同一时刻同一点可能有多个机器人。\n\n移动有两种：\n- `S`：向前一步。  \n  记当前位置为 $(x, y)$，当前方向为 $C$：若 $C = 0$ 移至 $(x + 1, y)$；若 $C = 90$ 移至 $(x, y + 1)$；若 $C = 180$ 移至 $(x - 1, y)$；若 $C = 270$ 移至 $(x, y - 1)$。\n  \n- `T D`：方向增加 $D$。  \n  即令当前方向 $C \\gets (C + D) \\bmod 360$。\n\n\n\n给定各机器人预设的指令序列，移除一些指令使所有机器人最终位于同一位置，并最小化移除指令数。", "inputFormat": "第一行一个整数 $R$，表示机器人数。\n\n接下来对于每个机器人：\n\n- 第一行四个整数 $x, y, C, n$，表示初始位置、初始方向、指令序列长度。\n- 接下来 $n$ 行，每行一个指令，格式见题目描述。", "outputFormat": "若能够使所有机器人最终位于同一位置，输出两行：\n- 第一行一个整数，表示最小移除指令数；\n- 第二行两个整数，表示在移除指令数最小的情况下最终位置坐标（若有多种可能答案输出任意一种即可）。\n\n若无法使所有机器人最终位于同一位置，输出一行一个整数 $-1$。\n\n注意：虽然 Special Judge 忽略行末回车与文末换行，但请不要输出多于 $64$ 个字符，否则会被判为 Wrong Answer。", "hint": "#### 样例说明\n\n有两个机器人。第一个初始位于 $(2, 0)$，初始方向 $270$，指令序列长度为 $5$；第二个初始位于 $(1, -1)$，初始方向 $0$，指令序列长度为 $8$。至少需要移除两个指令。例如移除第一个机器人第三个指令与第二个机器人第五个指令，此时最终位置为 $(2, 1)$。\n\n#### 数据范围\n\n$2 \\le R \\le 10$，$1 \\le n \\le 50$，$-50 \\le x, y \\le 50$，$C, D \\in \\lbrace 0, 90, 180, 270 \\rbrace$，保证指令格式如题目描述。\n\n#### 提示\n\n[BalticOI](https://boi.cses.fi/contests.php) 2002 Day2 C.\n\n由于自定义计分脚本参数配置，暂不支持 AC WA TLE MLE 外的评测状态显示。如果你得到了此外任何一种评测状态，你将得到 UKE。\n\nSubtask 设置与题目无关，仅为便于自定义积分脚本运行。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2002] Moving Robots (Day2)", "background": "", "description": "一些机器人在二维平面上根据指令移动。机器人移动互不影响，甚至同一时刻同一点可能有多个机器人。\n\n移动有两种：\n- `S`：向前一步。  \n  记当前位置为 $(x, y)$，当前方向为 $C$：若 $C = 0$ 移至 $(x + 1, y)$；若 $C = 90$ 移至 $(x, y + 1)$；若 $C = 180$ 移至 $(x - 1, y)$；若 $C = 270$ 移至 $(x, y - 1)$。\n  \n- `T D`：方向增加 $D$。  \n  即令当前方向 $C \\gets (C + D) \\bmod 360$。\n\n\n\n给定各机器人预设的指令序列，移除一些指令使所有机器人最终位于同一位置，并最小化移除指令数。", "inputFormat": "第一行一个整数 $R$，表示机器人数。\n\n接下来对于每个机器人：\n\n- 第一行四个整数 $x, y, C, n$，表示初始位置、初始方向、指令序列长度。\n- 接下来 $n$ 行，每行一个指令，格式见题目描述。", "outputFormat": "若能够使所有机器人最终位于同一位置，输出两行：\n- 第一行一个整数，表示最小移除指令数；\n- 第二行两个整数，表示在移除指令数最小的情况下最终位置坐标（若有多种可能答案输出任意一种即可）。\n\n若无法使所有机器人最终位于同一位置，输出一行一个整数 $-1$。\n\n注意：虽然 Special Judge 忽略行末回车与文末换行，但请不要输出多于 $64$ 个字符，否则会被判为 Wrong Answer。", "hint": "#### 样例说明\n\n有两个机器人。第一个初始位于 $(2, 0)$，初始方向 $270$，指令序列长度为 $5$；第二个初始位于 $(1, -1)$，初始方向 $0$，指令序列长度为 $8$。至少需要移除两个指令。例如移除第一个机器人第三个指令与第二个机器人第五个指令，此时最终位置为 $(2, 1)$。\n\n#### 数据范围\n\n$2 \\le R \\le 10$，$1 \\le n \\le 50$，$-50 \\le x, y \\le 50$，$C, D \\in \\lbrace 0, 90, 180, 270 \\rbrace$，保证指令格式如题目描述。\n\n#### 提示\n\n[BalticOI](https://boi.cses.fi/contests.php) 2002 Day2 C.\n\n由于自定义计分脚本参数配置，暂不支持 AC WA TLE MLE 外的评测状态显示。如果你得到了此外任何一种评测状态，你将得到 UKE。\n\nSubtask 设置与题目无关，仅为便于自定义积分脚本运行。", "locale": "zh-CN"}}}
