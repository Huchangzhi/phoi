{"pid": "P6544", "type": "P", "difficulty": 6, "samples": [["5 3\n5 1 2 4 3\n17\nF 1\nF 2\nF 3\nF 4\nF 5\nE 2 1\nF 1\nF 2\nF 3\nF 4\nF 5\nE 5 2\nF 1\nF 2\nF 3\nF 4\nF 5", "4\n1\n0\n2\n3\n4\n3\n0\n1\n2\n4\n3\n0\n1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "线段树", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2014] Cake", "background": "CEOI2014 Day2 T2，译者：小粉兔", "description": "Leopold 和 Molly 都喜欢蛋糕：Leopold 喜欢吃蛋糕，Molly 喜欢看 Leopold 吃蛋糕。\n\n现在有 $n$ 块蛋糕排成一排，从左到右数的第 $i$ 块蛋糕编号为 $i$，每块蛋糕有一个美味度 $d_i$。\n\nLeopold 会先吃掉编号为 $a$ 的蛋糕，这样位置 $a$ 就空了。接下来每次他会选择一个与空出的位置相邻的蛋糕中美味度最小的蛋糕吃掉（要把好吃的留到最后）。你可以发现空出的位置一定是一个连续的区间。\n\n为了让事情更加有趣，Molly 有时会给某一块蛋糕上加一点装饰，以增加它的美味度。她保证做完此操作后，这块蛋糕的美味度会变成所有蛋糕中前 $10$ 大的。而且在任何时候任意两块蛋糕的美味度都不同。\n\n有时 Molly 好奇在 Leopold 吃掉某块特定的编号为 $b$ 的蛋糕之前，他会吃掉多少块蛋糕。\n\n请你帮助 Molly 编写一个程序，给出操作序列，回答 Molly 的询问。", "inputFormat": "第一行两个正整数 $n, a$，分别表示蛋糕总块数以及 Leopold 第一次会吃掉哪一块蛋糕。  \n第二行 $n$ 个互不相同的正整数 $d_1, d_2, \\ldots , d_n$，表示蛋糕的初始美丽度。  \n第三行一个正整数 $q$，表示操作的个数。  \n接下来 $q$ 行，每行形如 `E i e` 或 `F b` 表示一次操作：\n\n- `E i e`：将编号为 $i$ 的蛋糕的美味度提升至第 $e$ 美味的。保证在操作之前比编号为 $i$ 的蛋糕美味的蛋糕的数量至少为 $e$。\n- `F b`：询问 Leopold 在吃掉编号为 $b$ 的蛋糕之前会吃掉多少块蛋糕。", "outputFormat": "对于每个 `F` 操作，输出一行一个数表示答案。", "hint": "**【样例解释】**\n\n在第一次增加美味度之前，编号为 $3, 2, 4, 5, 1$ 的蛋糕会依次被吃掉。但接下来编号为 $1$ 的蛋糕太好吃了以至于它不会先被吃掉，编号为 $4$ 和 $5$ 的蛋糕先被吃掉了。注意最后一次对编号为 $5$ 的蛋糕的美味度的增加不会改变吃蛋糕的顺序。\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n \\le 2.5 \\times {10}^5$，$1 \\le q \\le 5 \\times {10}^5$，$1 \\le d_i, a, i, b \\le n$，$1 \\le e \\le 10$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $15$ | $n, q \\le {10}^4$ |\n| $2$ | $15$ | $n \\le 2.5 \\times {10}^4$ 且 `F` 操作的数量不超过 $500$ |\n| $3$ | $20$ | $q \\le {10}^5$ 且 `E` 操作的数量不超过 $100$ |\n| $4$ | $50$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2014] Cake", "background": "CEOI2014 Day2 T2，译者：小粉兔", "description": "Leopold 和 Molly 都喜欢蛋糕：Leopold 喜欢吃蛋糕，Molly 喜欢看 Leopold 吃蛋糕。\n\n现在有 $n$ 块蛋糕排成一排，从左到右数的第 $i$ 块蛋糕编号为 $i$，每块蛋糕有一个美味度 $d_i$。\n\nLeopold 会先吃掉编号为 $a$ 的蛋糕，这样位置 $a$ 就空了。接下来每次他会选择一个与空出的位置相邻的蛋糕中美味度最小的蛋糕吃掉（要把好吃的留到最后）。你可以发现空出的位置一定是一个连续的区间。\n\n为了让事情更加有趣，Molly 有时会给某一块蛋糕上加一点装饰，以增加它的美味度。她保证做完此操作后，这块蛋糕的美味度会变成所有蛋糕中前 $10$ 大的。而且在任何时候任意两块蛋糕的美味度都不同。\n\n有时 Molly 好奇在 Leopold 吃掉某块特定的编号为 $b$ 的蛋糕之前，他会吃掉多少块蛋糕。\n\n请你帮助 Molly 编写一个程序，给出操作序列，回答 Molly 的询问。", "inputFormat": "第一行两个正整数 $n, a$，分别表示蛋糕总块数以及 Leopold 第一次会吃掉哪一块蛋糕。  \n第二行 $n$ 个互不相同的正整数 $d_1, d_2, \\ldots , d_n$，表示蛋糕的初始美丽度。  \n第三行一个正整数 $q$，表示操作的个数。  \n接下来 $q$ 行，每行形如 `E i e` 或 `F b` 表示一次操作：\n\n- `E i e`：将编号为 $i$ 的蛋糕的美味度提升至第 $e$ 美味的。保证在操作之前比编号为 $i$ 的蛋糕美味的蛋糕的数量至少为 $e$。\n- `F b`：询问 Leopold 在吃掉编号为 $b$ 的蛋糕之前会吃掉多少块蛋糕。", "outputFormat": "对于每个 `F` 操作，输出一行一个数表示答案。", "hint": "**【样例解释】**\n\n在第一次增加美味度之前，编号为 $3, 2, 4, 5, 1$ 的蛋糕会依次被吃掉。但接下来编号为 $1$ 的蛋糕太好吃了以至于它不会先被吃掉，编号为 $4$ 和 $5$ 的蛋糕先被吃掉了。注意最后一次对编号为 $5$ 的蛋糕的美味度的增加不会改变吃蛋糕的顺序。\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n \\le 2.5 \\times {10}^5$，$1 \\le q \\le 5 \\times {10}^5$，$1 \\le d_i, a, i, b \\le n$，$1 \\le e \\le 10$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $15$ | $n, q \\le {10}^4$ |\n| $2$ | $15$ | $n \\le 2.5 \\times {10}^4$ 且 `F` 操作的数量不超过 $500$ |\n| $3$ | $20$ | $q \\le {10}^5$ 且 `E` 操作的数量不超过 $100$ |\n| $4$ | $50$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P6545", "type": "P", "difficulty": 7, "samples": [["3 3\n1 0 0\n1 0 0\n0 0 1\n1 4 9 4\n1 6 6 6\n1 2 2 9\n1 1 1\n4 4 4\n2 4 2\n6 6 6", "38"], ["3 3\n1 0 1\n0 0 0\n0 1 0\n2 1 1 3\n5 6 1 1\n2 1 1 3\n2 1 1\n3 4 1\n4 1 1\n5 1 2", "22"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "O2优化", "CEOI（中欧）", "最短路"], "title": "[CEOI 2014] The Wall", "background": "CEOI2014 Day2 T3，译者：小粉兔", "description": "Rectos 岛经常遭受洪水的泛滥和海盗的侵扰，所以 Rectos 的国王想要建造一堵城墙以保护岛上所有的村庄。\n\nRectos 是一个矩形岛屿，所以城墙的设计师将岛屿看作一个正方形网格。每个村庄都位于其中的某个方格中，并且首都村庄位于整座岛的西北角，也就是最左上角的方格中。\n\n必须保证从外部（也就是整个网格的外部）在不越过城墙的条件下，是到达不了任何一个村庄的。\n\n设计师计划城墙将只沿着网格线建造，更具体地说是按照如下方法：他将第一段城墙置于最左上角延伸出的两条网格线之一上，并且下一段城墙总是和上一段城墙首尾相连，不断重复这一过程直到又一次回到最左上角为止。这一过程可能会导致一段网格线上放置了大于一段的城墙，总而言之，城墙是沿着网格线上的一条连续闭曲线建造的。\n\n地势测量表明，在每一段网格线上建造一段城墙都需要一定的花费。建造城墙的总花费就是建造每一段城墙的花费之和。如果在某一段网格线上建造了 $t$ 段城墙，则花费也要重复计算 $t$ 次。\n\n国王想要花费尽量少的钱建好城墙。请你帮助国王，编写一个程序，给出村庄的位置以及每一段网格线上的建造花费，计算建造城墙所需最小的花费。", "inputFormat": "第一行两个正整数 $n, m$，分别表示网格的行数和列数。  \n接下来 $n$ 行，每行 $m$ 个数，每个数为 $0$ 或 $1$，若为 $0$ 则表示该格没有村庄，若为 $1$ 则表示该格有村庄，保证第 $1$ 行的第 $1$ 个数一定为 $1$。  \n接下来 $n$ 行，每行 $m + 1$ 个非负整数，依次表示每一段竖直的网格线上的建造花费。  \n接下来 $n + 1$ 行，每行 $m$ 个非负整数，依次表示每一段水平的网格线上的建造花费。", "outputFormat": "输出一行一个数表示建造城墙的最小花费。", "hint": "**【样例 #1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/njtyjnbp.png)\n\n**【样例 #2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/568orkwb.png)\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n, m \\le 400$，对于所有的建造花费 $v$，有 $1 \\le v \\le {10}^9$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n, m \\le 40$ 且村庄的数量不超过 $10$ |\n| $2$ | $30$ | $n, m \\le 40$ |\n| $3$ | $40$ | 无特殊限制 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2014] The Wall", "background": "CEOI2014 Day2 T3，译者：小粉兔", "description": "Rectos 岛经常遭受洪水的泛滥和海盗的侵扰，所以 Rectos 的国王想要建造一堵城墙以保护岛上所有的村庄。\n\nRectos 是一个矩形岛屿，所以城墙的设计师将岛屿看作一个正方形网格。每个村庄都位于其中的某个方格中，并且首都村庄位于整座岛的西北角，也就是最左上角的方格中。\n\n必须保证从外部（也就是整个网格的外部）在不越过城墙的条件下，是到达不了任何一个村庄的。\n\n设计师计划城墙将只沿着网格线建造，更具体地说是按照如下方法：他将第一段城墙置于最左上角延伸出的两条网格线之一上，并且下一段城墙总是和上一段城墙首尾相连，不断重复这一过程直到又一次回到最左上角为止。这一过程可能会导致一段网格线上放置了大于一段的城墙，总而言之，城墙是沿着网格线上的一条连续闭曲线建造的。\n\n地势测量表明，在每一段网格线上建造一段城墙都需要一定的花费。建造城墙的总花费就是建造每一段城墙的花费之和。如果在某一段网格线上建造了 $t$ 段城墙，则花费也要重复计算 $t$ 次。\n\n国王想要花费尽量少的钱建好城墙。请你帮助国王，编写一个程序，给出村庄的位置以及每一段网格线上的建造花费，计算建造城墙所需最小的花费。", "inputFormat": "第一行两个正整数 $n, m$，分别表示网格的行数和列数。  \n接下来 $n$ 行，每行 $m$ 个数，每个数为 $0$ 或 $1$，若为 $0$ 则表示该格没有村庄，若为 $1$ 则表示该格有村庄，保证第 $1$ 行的第 $1$ 个数一定为 $1$。  \n接下来 $n$ 行，每行 $m + 1$ 个非负整数，依次表示每一段竖直的网格线上的建造花费。  \n接下来 $n + 1$ 行，每行 $m$ 个非负整数，依次表示每一段水平的网格线上的建造花费。", "outputFormat": "输出一行一个数表示建造城墙的最小花费。", "hint": "**【样例 #1 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/njtyjnbp.png)\n\n**【样例 #2 解释】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/568orkwb.png)\n\n**【数据范围与提示】**\n\n对于所有数据，保证 $1 \\le n, m \\le 400$，对于所有的建造花费 $v$，有 $1 \\le v \\le {10}^9$。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n, m \\le 40$ 且村庄的数量不超过 $10$ |\n| $2$ | $30$ | $n, m \\le 40$ |\n| $3$ | $40$ | 无特殊限制 |", "locale": "zh-CN"}}}
{"pid": "P6546", "type": "P", "difficulty": 2, "samples": [["2 1 5", "4"], ["5 1 6", "2"], ["100 99 1000000000", "999999901"]], "limits": {"time": [100, 100, 100, 100, 100, 100, 100, 100, 100, 100], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "数学", "递推", "2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] PUŽ", "background": "", "description": "蜗牛爬井问题：一只蜗牛要爬上 $v$ 米高的树桩，它每天白天向上爬 $a$ 米，晚上向下掉 $b$ 米。几天之后它可以爬到树桩顶？", "inputFormat": "一行三个整数 $a$、$b$、$v$，用空格隔开。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  b < a \\leq v \\leq 1 \\times 10^9$。\n\n#### 说明\n\n- 本题满分 $30$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) PUŽ，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 提示\n\n请推导结果公式，单纯的模拟可能导致 `TLE`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] PUŽ", "background": "", "description": "蜗牛爬井问题：一只蜗牛要爬上 $v$ 米高的树桩，它每天白天向上爬 $a$ 米，晚上向下掉 $b$ 米。几天之后它可以爬到树桩顶？", "inputFormat": "一行三个整数 $a$、$b$、$v$，用空格隔开。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  b < a \\leq v \\leq 1 \\times 10^9$。\n\n#### 说明\n\n- 本题满分 $30$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) PUŽ，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 提示\n\n请推导结果公式，单纯的模拟可能导致 `TLE`。", "locale": "zh-CN"}}}
{"pid": "P6547", "type": "P", "difficulty": 2, "samples": [["2\nlo3za4\n01", "1\n3\n4"], ["4\n43silos0\nzita002\nle2sim\n231233", "0\n2\n2\n43\n231233"], ["4\n01bond\n02james007\n03bond\n04austinpowers000", "0\n1\n2\n3\n4\n7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] NAPOR", "background": "", "description": "Little Mirko 对数学课不在意，所以老师决定在周末让他做一个乏味的作业。\n\n老师给了他一个包含 $n$ 行的文本，仅包含数字和小写字母。 Mirko 必须在文本中找到所有数字，并以不降序的顺序输出。 他还必须省略文本中数字可能包含的任何前导零。\n\n可以通过扫描文本并始终使用可能的最大数来确定这些数，即仅以字母或行首/尾定界。 例如，`01a2b3456cde478` 的最终输出结果是 `1, 2, 478, 3456`。\n\n由于 Mirko 解决问题的速度像蜗牛一样慢，因此他要求您为他编写一个程序以快速解决任务，以便他可以尽快与 Slavko 一起玩。", "inputFormat": "第一行一个整数 $n$，表示文本的行数。\n\n接下来 $n$ 行，每行一个字符串。", "outputFormat": "每行一个整数，表示文本中的数（从小到大）。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  n \\leq 100$，每个字符串长度不超过 $100$，文本中包含数的个数不超过 $500$，输入中仅包含小写字母与数字。\n\n#### 说明\n\n- 本题满分 $60$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) NAPOR，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] NAPOR", "background": "", "description": "Little Mirko 对数学课不在意，所以老师决定在周末让他做一个乏味的作业。\n\n老师给了他一个包含 $n$ 行的文本，仅包含数字和小写字母。 Mirko 必须在文本中找到所有数字，并以不降序的顺序输出。 他还必须省略文本中数字可能包含的任何前导零。\n\n可以通过扫描文本并始终使用可能的最大数来确定这些数，即仅以字母或行首/尾定界。 例如，`01a2b3456cde478` 的最终输出结果是 `1, 2, 478, 3456`。\n\n由于 Mirko 解决问题的速度像蜗牛一样慢，因此他要求您为他编写一个程序以快速解决任务，以便他可以尽快与 Slavko 一起玩。", "inputFormat": "第一行一个整数 $n$，表示文本的行数。\n\n接下来 $n$ 行，每行一个字符串。", "outputFormat": "每行一个整数，表示文本中的数（从小到大）。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq  n \\leq 100$，每个字符串长度不超过 $100$，文本中包含数的个数不超过 $500$，输入中仅包含小写字母与数字。\n\n#### 说明\n\n- 本题满分 $60$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) NAPOR，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6548", "type": "P", "difficulty": 3, "samples": [["2\nne", "NE\nn"], ["4\nkava", "DA\nak"], ["8\ncokolada", "DA\nacko"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] IGRA", "background": "", "description": "解决了繁琐的任务后，Mirko 决定与他的好朋友 Slavko 一起玩游戏。\n\n他们在一张纸上写了一个含有 $n$ 个字母的序列。每个人轮流使用序列中的字母拼写一个单词，即从序列中删除单个字母并将其附加到单词的末尾。Mirko 开始了第一回合。当序列中没有剩余字母时，游戏结束。\n\n一个比另一个单词更美丽的单词指这个单词按照字典序排在另一个单词前面。在游戏结束时拥有更美丽单词的玩家将获胜。 如果两个玩家的单词都一样，他们就都输了这一轮。\n\nMirko 玩得比 Slavko 更好，因此他决定通过始终选择序列中最右边的字母来使 Slavko 玩得更容易一些。 知道了这一点，Slavko 想知道他是否有可能获胜，以及他可能得到的最美丽的单词是什么。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n第二行一个长度为 $n$ 的字符串，表示初始序列。", "outputFormat": "第一行一个大写字符串 `NE` 或 `DA`，`DA` 表示 Slavko 可能获胜，`NE` 表示 Slavko 不可能获胜。\n\n第二行一个字符串，表示 Slavko 可能得到的最美丽的单词。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 500)$ 且 $k$ 为整数。\n- 对于 $100\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 10^5)$ 且 $k$ 为整数，所有读入的、输出的第二行的字符均为小写字母。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) IGRA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] IGRA", "background": "", "description": "解决了繁琐的任务后，Mirko 决定与他的好朋友 Slavko 一起玩游戏。\n\n他们在一张纸上写了一个含有 $n$ 个字母的序列。每个人轮流使用序列中的字母拼写一个单词，即从序列中删除单个字母并将其附加到单词的末尾。Mirko 开始了第一回合。当序列中没有剩余字母时，游戏结束。\n\n一个比另一个单词更美丽的单词指这个单词按照字典序排在另一个单词前面。在游戏结束时拥有更美丽单词的玩家将获胜。 如果两个玩家的单词都一样，他们就都输了这一轮。\n\nMirko 玩得比 Slavko 更好，因此他决定通过始终选择序列中最右边的字母来使 Slavko 玩得更容易一些。 知道了这一点，Slavko 想知道他是否有可能获胜，以及他可能得到的最美丽的单词是什么。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n第二行一个长度为 $n$ 的字符串，表示初始序列。", "outputFormat": "第一行一个大写字符串 `NE` 或 `DA`，`DA` 表示 Slavko 可能获胜，`NE` 表示 Slavko 不可能获胜。\n\n第二行一个字符串，表示 Slavko 可能得到的最美丽的单词。", "hint": "#### 数据规模与约定\n\n- 对于 $50\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 500)$ 且 $k$ 为整数。\n- 对于 $100\\%$ 的数据，保证 $n = 2\\times k(1 \\leq k \\leq 10^5)$ 且 $k$ 为整数，所有读入的、输出的第二行的字符均为小写字母。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) IGRA，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6549", "type": "P", "difficulty": 3, "samples": [["3\n3\n2\n1", "2"], ["4\n1\n3\n4\n2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["贪心", "2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] KNJIGE", "background": "", "description": "Mirko 有一个由 $n$ 本书组成的家庭图书馆，$n$ 本书在一个狭窄的橱柜中一个接一个地排列。由于在上一任务中对字母进行了很好的训练，他现在希望按字母顺序排列书籍，以使书名字典序排第一的书排在最后，而字典序排最后的书在书橱的底部。\n\nMirko 可以轻松地将书从书橱中拉出，但是很难将其推回书橱中，因此只能将书放回到书橱的顶部。因此，将书排序籍的唯一可用方法是反复将书籍从书橱中拉出并将其放在书橱的顶部。\n\n这些书按字母顺序用从 $1$ 到 $n$ 的整数标记。因此，Mirko 希望从顶部开始将它们排序为 $(1,2, \\cdots ,n)$。例如，如果 $n = 3$ 且开始顺序为 $(3,2,1)$，则两步就足够了。首先，他拉出编号为 $2$ 的书并将其放在最上面，这样书的顺序便变成 $(2,3,1)$。之后，他对编号为 $1$ 的书执行相同操作，因此书的顺序变成 $(1,2,3)$。\n\n计算给定起始顺序，排序完毕所需的最少移动次数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个正整数，表示书籍的初始摆放顺序。", "outputFormat": "一行一个整数，表示使书籍按照自然数顺序排列所需的最小移动步数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 3 \\times 10^5$，书籍的初始摆放顺序为 $1\\ldots n$ 的一个排列。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) KNJIGE，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] KNJIGE", "background": "", "description": "Mirko 有一个由 $n$ 本书组成的家庭图书馆，$n$ 本书在一个狭窄的橱柜中一个接一个地排列。由于在上一任务中对字母进行了很好的训练，他现在希望按字母顺序排列书籍，以使书名字典序排第一的书排在最后，而字典序排最后的书在书橱的底部。\n\nMirko 可以轻松地将书从书橱中拉出，但是很难将其推回书橱中，因此只能将书放回到书橱的顶部。因此，将书排序籍的唯一可用方法是反复将书籍从书橱中拉出并将其放在书橱的顶部。\n\n这些书按字母顺序用从 $1$ 到 $n$ 的整数标记。因此，Mirko 希望从顶部开始将它们排序为 $(1,2, \\cdots ,n)$。例如，如果 $n = 3$ 且开始顺序为 $(3,2,1)$，则两步就足够了。首先，他拉出编号为 $2$ 的书并将其放在最上面，这样书的顺序便变成 $(2,3,1)$。之后，他对编号为 $1$ 的书执行相同操作，因此书的顺序变成 $(1,2,3)$。\n\n计算给定起始顺序，排序完毕所需的最少移动次数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个正整数，表示书籍的初始摆放顺序。", "outputFormat": "一行一个整数，表示使书籍按照自然数顺序排列所需的最小移动步数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 3 \\times 10^5$，书籍的初始摆放顺序为 $1\\ldots n$ 的一个排列。\n\n#### 说明\n\n- 本题满分 $80$ 分。\n\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) KNJIGE，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6550", "type": "P", "difficulty": 5, "samples": [["3 3\n5 1 3\n2 4 8\n1 1 2", "RRDLLDRR"], ["2 2\n2 1\n3 4", "DR"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["图论", "2010", "Special Judge", "构造", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] LUNAPARK", "background": "", "description": "Mirko 对所有书籍都感到了厌倦，因此尽管他不喜欢玩过山车，他还是决定和朋友一起去游乐园。 当他的朋友们度过美好的时光时，Mirko 则坐在长椅上，等待着并思考过山车的可能路线。\n\n游乐园可以用 $r$ 行 $c$ 列的表格来表示。 过山车必须从表格的左上角开始，到表格的右下角结束。 每个单元格最多可以访问一次，但并非所有单元格都需要访问。 它可以继续从当前单元格到其上方，下方，左侧或右侧的相邻单元的路径。\n\n每个单元格都有一个与之相关的正整数值，表示该单元格可以为游客增加的娱乐程度。过山车的总娱乐程度是过山车所访问的所有单元格的娱乐程度的总和。 帮助 Mirko 确定最有趣（总娱乐程度最大）的过山车路线之一。", "inputFormat": "第一行两个整数 $r$ 和 $c$，具体含义请见题目描述。\n\n接下来 $r$ 行，每行 $c$ 个整数（用空格隔开），表示相对应的单元格可以为游客增加的娱乐程度。", "outputFormat": "一行一个大写字符串，由 `U`、`D`、`L`、`R` 组成（`U` 表示过山车接下来向上走，`D` 表示向下走，`L` 表示向左走，`R` 表示向右走），表示过山车为获得最大娱乐程度应该走的路线。", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $2 \\leq r,c \\leq 30$。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq r,c \\leq 1 \\times 10^3$，输出字符串的每一位只可能是 `U`、`D`、`L`、`R`。\n\n#### 说明\n\n- 本题满分 $120$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) LUNAPARK，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 鸣谢\n\n感谢 @[Silence_water](https://www.luogu.com.cn/user/338630) 提供的 Special Judge。\n\n#### 提示\n\n输出结果可能不唯一。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] LUNAPARK", "background": "", "description": "Mirko 对所有书籍都感到了厌倦，因此尽管他不喜欢玩过山车，他还是决定和朋友一起去游乐园。 当他的朋友们度过美好的时光时，Mirko 则坐在长椅上，等待着并思考过山车的可能路线。\n\n游乐园可以用 $r$ 行 $c$ 列的表格来表示。 过山车必须从表格的左上角开始，到表格的右下角结束。 每个单元格最多可以访问一次，但并非所有单元格都需要访问。 它可以继续从当前单元格到其上方，下方，左侧或右侧的相邻单元的路径。\n\n每个单元格都有一个与之相关的正整数值，表示该单元格可以为游客增加的娱乐程度。过山车的总娱乐程度是过山车所访问的所有单元格的娱乐程度的总和。 帮助 Mirko 确定最有趣（总娱乐程度最大）的过山车路线之一。", "inputFormat": "第一行两个整数 $r$ 和 $c$，具体含义请见题目描述。\n\n接下来 $r$ 行，每行 $c$ 个整数（用空格隔开），表示相对应的单元格可以为游客增加的娱乐程度。", "outputFormat": "一行一个大写字符串，由 `U`、`D`、`L`、`R` 组成（`U` 表示过山车接下来向上走，`D` 表示向下走，`L` 表示向左走，`R` 表示向右走），表示过山车为获得最大娱乐程度应该走的路线。", "hint": "#### 数据规模与约定\n\n- 对于 $70\\%$ 的数据，保证 $2 \\leq r,c \\leq 30$。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq r,c \\leq 1 \\times 10^3$，输出字符串的每一位只可能是 `U`、`D`、`L`、`R`。\n\n#### 说明\n\n- 本题满分 $120$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) LUNAPARK，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。\n\n#### 鸣谢\n\n感谢 @[Silence_water](https://www.luogu.com.cn/user/338630) 提供的 Special Judge。\n\n#### 提示\n\n输出结果可能不唯一。", "locale": "zh-CN"}}}
{"pid": "P6551", "type": "P", "difficulty": 6, "samples": [["2\nCC\nCC", "2"], ["3\nCCB\nCCB\nCBB", "5"], ["5\nBCCBB\nBBCBB\nBCCBB\nBBBBB\nCCBBB", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #2] CRNI", "background": "", "description": "尽管 Mirko 找到了所有最有趣的游乐设施，但他的热情仍然没有消失。 他打开方格纸笔记本，开始给方块上色，一个新的甚至更难的问题浮现在他身上。\n\n您将得到一个 $n \\times n$ 的表格。 每个单元格的颜色是黑色或白色。\n\n如果表格内的某一个矩形图形的所有单元格均为黑色并且此矩形由至少两个单元格组成，则此矩形称为黑色矩形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h7lgmovq.png)\n\n上左图举了两个不是黑色矩形的例子。 标为 $1$ 的矩形不是黑色矩形，因为它包含一个白色单元格；标为 $2$ 的矩形不是黑色矩形，因为它仅包含一个单元格。 上右图则举了三个黑色矩形的例子。\n\n计算选择两个没有公共单元格的黑色矩形的方法数。 由于所求的结果可能非常大，因此您应该输出该数除以 $10^4 + 7$ 后的余数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个长度为 $n$ 的大写字符串（由 `C`（表示该单元格颜色为黑）和 `B`（表示该单元格颜色为白）两种字符组成），表示表格。", "outputFormat": "一行一个整数，表示所求方法数除以 $10^4 + 7$ 后的余数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 1 \\times 10^3$，输入字符串的每一位只可能是 `C` 或 `B`，令 $|s|$ 为每个字符串长度，则 $|s| = n$。\n\n#### 说明\n\n- 本题满分 $130$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) CRNI，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #2] CRNI", "background": "", "description": "尽管 Mirko 找到了所有最有趣的游乐设施，但他的热情仍然没有消失。 他打开方格纸笔记本，开始给方块上色，一个新的甚至更难的问题浮现在他身上。\n\n您将得到一个 $n \\times n$ 的表格。 每个单元格的颜色是黑色或白色。\n\n如果表格内的某一个矩形图形的所有单元格均为黑色并且此矩形由至少两个单元格组成，则此矩形称为黑色矩形。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h7lgmovq.png)\n\n上左图举了两个不是黑色矩形的例子。 标为 $1$ 的矩形不是黑色矩形，因为它包含一个白色单元格；标为 $2$ 的矩形不是黑色矩形，因为它仅包含一个单元格。 上右图则举了三个黑色矩形的例子。\n\n计算选择两个没有公共单元格的黑色矩形的方法数。 由于所求的结果可能非常大，因此您应该输出该数除以 $10^4 + 7$ 后的余数。", "inputFormat": "第一行一个整数 $n$，具体含义请见题目描述。\n\n接下来 $n$ 行，每行一个长度为 $n$ 的大写字符串（由 `C`（表示该单元格颜色为黑）和 `B`（表示该单元格颜色为白）两种字符组成），表示表格。", "outputFormat": "一行一个整数，表示所求方法数除以 $10^4 + 7$ 后的余数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 1 \\times 10^3$，输入字符串的每一位只可能是 `C` 或 `B`，令 $|s|$ 为每个字符串长度，则 $|s| = n$。\n\n#### 说明\n\n- 本题满分 $130$ 分。\n- 题目译自 [COCI2010-2011](https://hsin.hr/coci/archive/2010_2011/) [CONTEST #2](https://hsin.hr/coci/archive/2010_2011/contest2_tasks.pdf) CRNI，译者 @[mnesia](https://www.luogu.com.cn/user/115711)。", "locale": "zh-CN"}}}
{"pid": "P6552", "type": "P", "difficulty": 7, "samples": [["3\n33 7 4 3\n81 39 37 7\n227200291 189101 133029 52503", "1 2 6\n1 0 6\n446 845 580"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "文具订购（加强版）", "background": "感谢@肖然 的创意以及@Elegia @dengyaotriangle 对算法复杂度论证做出的贡献（我只是搬题的", "description": "小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：\n\n1. 圆规，每个 $x$ 元。\n2. 笔，每支 $y$ 元。\n3. 笔记本，每本 $z$ 元。\n\n小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：\n\n1. $n$ 元钱必须正好用光，即 $ax+by+cz=n$。\n2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。\n3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。\n\n请你帮助小明求出满足条件的最优方案。数据保证 $x>y>z$。若有多组解，应输出 $(a, b, c)$ 字典序最小的答案。", "inputFormat": "输入包含多组数据，第一行一个整数 $T$ ，表示数据组数。\n\n接下来 $T$ 行每行四个整数，依次为班费数量 $n$ ，三种物品价格 $x,y,z$。 ", "outputFormat": "对于每组数据，如果问题无解，请输出 $-1$。\n\n否则输出一行三个用空格隔开的整数 $a, b, c$，分别代表圆规、笔、笔记本的个数。", "hint": "对于全部的测试点，$1\\leq T\\leq 100$，$0\\leq n\\leq 10^9 $ ，$1\\leq z<y<x\\leq 10^9$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "文具订购（加强版）", "background": "感谢@肖然 的创意以及@Elegia @dengyaotriangle 对算法复杂度论证做出的贡献（我只是搬题的", "description": "小明的班上共有 $n$ 元班费，同学们准备使用班费集体购买 $3$ 种物品：\n\n1. 圆规，每个 $x$ 元。\n2. 笔，每支 $y$ 元。\n3. 笔记本，每本 $z$ 元。\n\n小明负责订购文具，设圆规，笔，笔记本的订购数量分别为 $a,b,c$，他订购的原则依次如下：\n\n1. $n$ 元钱必须正好用光，即 $ax+by+cz=n$。\n2. 在满足以上条件情况下，成套的数量尽可能大，即 $a,b,c$ 中的最小值尽可能大。\n3. 在满足以上条件情况下，物品的总数尽可能大，即 $a+b+c$ 尽可能大。\n\n请你帮助小明求出满足条件的最优方案。数据保证 $x>y>z$。若有多组解，应输出 $(a, b, c)$ 字典序最小的答案。", "inputFormat": "输入包含多组数据，第一行一个整数 $T$ ，表示数据组数。\n\n接下来 $T$ 行每行四个整数，依次为班费数量 $n$ ，三种物品价格 $x,y,z$。 ", "outputFormat": "对于每组数据，如果问题无解，请输出 $-1$。\n\n否则输出一行三个用空格隔开的整数 $a, b, c$，分别代表圆规、笔、笔记本的个数。", "hint": "对于全部的测试点，$1\\leq T\\leq 100$，$0\\leq n\\leq 10^9 $ ，$1\\leq z<y<x\\leq 10^9$", "locale": "zh-CN"}}}
{"pid": "P6553", "type": "P", "difficulty": 2, "samples": [["114514\n3\n1 3 111  \n3 4 44\n4 4 5", "4 13 20\n3 15 64\n3 16 80"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["模拟", "字符串"], "title": "Strings of Monody", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/tcsfyv6l.png)\n\nLGD 是一只喜欢 Monody 的小恐龙。\n\n根据 Monody 的音乐，他建立了一个模型，叫做 赞歌字符串。简称， SoM (String of Monody)。\n", "description": "赞歌字符串是一个由 $1,4,5$ 组成的字符串。每次操作 LsWn 会拿出左端点为 $l$，右端点为 $r$ 的子串，（注意，第一个字符的下标为 $1$，最后一个字符的下标为 $n$）并把它替换为新的给出的子串。替换之后，你需要回答 $3$ 个对于完整串的问询，分别是：  \n1. $1$ 的个数。  \n2. 整个字符串每个数位的总和。  \n3. 整个字符串每个数位的乘积。\n\n所有输出都要对 $\\color{black}998\\color{red}24\\color{black}353$ 取模。  \n\n", "inputFormat": "第一行一个字符串。    \n第二行一个数字 $m$ 代表有 $m$ 次操作  \n后面 $m$ 行每行两个数字 $l,r$，然后一个长 $r-l+1$ 的字符串代表把 $(l,r)$ 子串改为这个字符串。   \n", "outputFormat": "$m$ 行，每行 $3$ 个数，代表每次修改后的 $3$ 个问询。", "hint": "样例一的解释：  \n\n第一次操作，字符串变为 ```111514``` ，其中 $1$ 的个数为 $4$，和为 $1+1+1+5+1+4=13$，乘积为 $1\\times 1\\times 1\\times 1\\times 5\\times 1\\times 4=20$。   \n第二次操作，字符串变为 ```114414```。   \n第三次操作，字符串变为 ```114514```。  \n\n---\n\n我们设初始字符串长度为 $n$。  \n\n对于 $10\\%$ 的数据，$n\\le 10$。   \n对于 $40\\%$ 的数据，$n\\le 1000$。  \n对于全部数据，$n\\le 10^6, m\\le 10^3, 1\\le r-l+1\\le 10^3$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Strings of Monody", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/tcsfyv6l.png)\n\nLGD 是一只喜欢 Monody 的小恐龙。\n\n根据 Monody 的音乐，他建立了一个模型，叫做 赞歌字符串。简称， SoM (String of Monody)。\n", "description": "赞歌字符串是一个由 $1,4,5$ 组成的字符串。每次操作 LsWn 会拿出左端点为 $l$，右端点为 $r$ 的子串，（注意，第一个字符的下标为 $1$，最后一个字符的下标为 $n$）并把它替换为新的给出的子串。替换之后，你需要回答 $3$ 个对于完整串的问询，分别是：  \n1. $1$ 的个数。  \n2. 整个字符串每个数位的总和。  \n3. 整个字符串每个数位的乘积。\n\n所有输出都要对 $\\color{black}998\\color{red}24\\color{black}353$ 取模。  \n\n", "inputFormat": "第一行一个字符串。    \n第二行一个数字 $m$ 代表有 $m$ 次操作  \n后面 $m$ 行每行两个数字 $l,r$，然后一个长 $r-l+1$ 的字符串代表把 $(l,r)$ 子串改为这个字符串。   \n", "outputFormat": "$m$ 行，每行 $3$ 个数，代表每次修改后的 $3$ 个问询。", "hint": "样例一的解释：  \n\n第一次操作，字符串变为 ```111514``` ，其中 $1$ 的个数为 $4$，和为 $1+1+1+5+1+4=13$，乘积为 $1\\times 1\\times 1\\times 1\\times 5\\times 1\\times 4=20$。   \n第二次操作，字符串变为 ```114414```。   \n第三次操作，字符串变为 ```114514```。  \n\n---\n\n我们设初始字符串长度为 $n$。  \n\n对于 $10\\%$ 的数据，$n\\le 10$。   \n对于 $40\\%$ 的数据，$n\\le 1000$。  \n对于全部数据，$n\\le 10^6, m\\le 10^3, 1\\le r-l+1\\le 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P6554", "type": "P", "difficulty": 5, "samples": [["5\n1 2\n1 5\n2 3\n2 4\n2 3 1 -1 2", "7.0000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "Special Judge", "树形 DP"], "title": "Promises I Can't Keep", "background": ">I had so much certainty  \nTil that moment I lost control  \nAnd I've tried but it never was up to me  \nI've got no worse enemy  \nThan the fear of what's still unknown  \nAnd the time's come to realize there will be  \nPromises I can't keep", "description": "RFMC 给了你一个电路，一个电源，他希望你能把电源接在电路的某一个节点上，让电流流通，并答应给你电路显示屏上的数那么多钱。\n\n这个电路有 $n$ 个节点，每个节点有一个权值 $val_i$，以 $n-1$ 条导线互相连通。你可以把电源接在任意一个起点上。接着，电流从这个节点开始流。若当前电源接到了一个节点 $u$，则接下来电流会**等概率**且**不重复经过一个点地**流向**一个叶子节点**，电流流过的所有节点的权值即为电路显示屏上的数（叶子节点即为 **除了 $u$** 的度数为 1 的节点）。\n\n现在你有 $n$ 种接电源的选择，你希望接上电源以后期望得分越高越好，所以你现在就要在规定的时间内求出这 $n$ 种期望值中最大的的一个。", "inputFormat": "第一行一个整数 $n$ 意义如题目所述。\n\n接下来 $n-1$ 行每行两个整数 $u,\\ v$，表示有一条联通编号为 $u,\\ v$ 节点的导线。\n\n接下来一行 $n$ 个整数，第 $i$ 个整数为 $val_i$，表示第 $i$ 个节点的权值。", "outputFormat": "输出一行一个浮点数，表示最大期望值。\n\n**本题使用 special judge，你的答案和正确答案误差不超过 $10^{-2}$ 即可通过。标准答案保留 4 位小数。**", "hint": "样例一的解释：\n\n电源接在 5 号节点时有两种情况：$5\\rightarrow 1\\rightarrow 2\\rightarrow 3$ 或 $5\\rightarrow 1\\rightarrow 2\\rightarrow 4$，两种情况得分分别为 8 和 6，期望值即为 7，可以证明没有其他节点接通电源的期望值比 7 大。\n\n---\n\n**本题采用捆绑测试，每一档部分分对应一个 subtask。**\n\n对于 $30\\%$ 的数据，保证 $2<n\\le 10^3$。  \n对于另外 $20\\%$ 的数据，保证是一条链。  \n对于所有的数据，保证 $2<n\\le 5\\times10^5,\\  |val_i|\\le10^4$。\n\n本题的 special judge 代码已经在附件中给出。\n\n附：本题数据量较大，可以采用更快的读入方法。（标程在用 ```scanf``` 的情况下可以通过）\n\n~~后记：按照题目名称，RFMC 是不会遵守诺言的（大雾~~\n\n题目名其实是一首歌名啦。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Promises I Can't Keep", "background": ">I had so much certainty  \nTil that moment I lost control  \nAnd I've tried but it never was up to me  \nI've got no worse enemy  \nThan the fear of what's still unknown  \nAnd the time's come to realize there will be  \nPromises I can't keep", "description": "RFMC 给了你一个电路，一个电源，他希望你能把电源接在电路的某一个节点上，让电流流通，并答应给你电路显示屏上的数那么多钱。\n\n这个电路有 $n$ 个节点，每个节点有一个权值 $val_i$，以 $n-1$ 条导线互相连通。你可以把电源接在任意一个起点上。接着，电流从这个节点开始流。若当前电源接到了一个节点 $u$，则接下来电流会**等概率**且**不重复经过一个点地**流向**一个叶子节点**，电流流过的所有节点的权值即为电路显示屏上的数（叶子节点即为 **除了 $u$** 的度数为 1 的节点）。\n\n现在你有 $n$ 种接电源的选择，你希望接上电源以后期望得分越高越好，所以你现在就要在规定的时间内求出这 $n$ 种期望值中最大的的一个。", "inputFormat": "第一行一个整数 $n$ 意义如题目所述。\n\n接下来 $n-1$ 行每行两个整数 $u,\\ v$，表示有一条联通编号为 $u,\\ v$ 节点的导线。\n\n接下来一行 $n$ 个整数，第 $i$ 个整数为 $val_i$，表示第 $i$ 个节点的权值。", "outputFormat": "输出一行一个浮点数，表示最大期望值。\n\n**本题使用 special judge，你的答案和正确答案误差不超过 $10^{-2}$ 即可通过。标准答案保留 4 位小数。**", "hint": "样例一的解释：\n\n电源接在 5 号节点时有两种情况：$5\\rightarrow 1\\rightarrow 2\\rightarrow 3$ 或 $5\\rightarrow 1\\rightarrow 2\\rightarrow 4$，两种情况得分分别为 8 和 6，期望值即为 7，可以证明没有其他节点接通电源的期望值比 7 大。\n\n---\n\n**本题采用捆绑测试，每一档部分分对应一个 subtask。**\n\n对于 $30\\%$ 的数据，保证 $2<n\\le 10^3$。  \n对于另外 $20\\%$ 的数据，保证是一条链。  \n对于所有的数据，保证 $2<n\\le 5\\times10^5,\\  |val_i|\\le10^4$。\n\n本题的 special judge 代码已经在附件中给出。\n\n附：本题数据量较大，可以采用更快的读入方法。（标程在用 ```scanf``` 的情况下可以通过）\n\n~~后记：按照题目名称，RFMC 是不会遵守诺言的（大雾~~\n\n题目名其实是一首歌名啦。", "locale": "zh-CN"}}}
{"pid": "P6555", "type": "P", "difficulty": 6, "samples": [["2\n2 2\n1 2", "300\n"], ["3\n2 2\n3 6\n2 4\n", "661677771\n"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["多项式", "组合数学", "排列组合", "生成函数", "快速数论变换 NTT"], "title": "Forget You", "background": "「话说回来，你是谁？」\n\n『竟然来这一手吗......』\n\n『也是呢......』\n\n『毕竟你夺走了几千、几万的能力，』\n\n『他们对脑部造成的负担不是一般地大，』\n\n『还能正常与人交谈已经很好了。』\n\n「......」\n\n『我啊，』\n\n『是你的恋人。』", "description": "为了让 おとさか ゆう 恢复记忆， ともり なお 找到了 PZY 。\n\nPZY 经过研究，发现能力主要是根据体内的能力基因决定的，并把一共 $m$ 个能力基因用 $1$ 到 $m$ 表示，并依次分成了 $n$ 个集合，第 $i$ 个集合包含了编号从 $(\\sum\\limits_{j=1}^{i-1} a_j)+1$ 到 $\\sum\\limits_{j=1}^{i} a_j$ 的 $a_i$ 个能力基因。\n\n经过大量的实验， PZY 发现基因的排序可以简化为一个数列，并按照需求， 定义一个数列被称为基因样品，当且仅当这个数列只由 $1$ 到 $m$ 的数字组成，对于属于第 $i$ 个集合里的数字，满足在该数列中**非严格单调递增**，且在数列中出现的次数不超过 $b_i$ 。\n\n特别的，一个基因样本的研究价值就是构成这个基因样本的所有数字之和，注意重复的数字也要重复计算。\n\n为了帮助 おとさか ゆう 恢复记忆， PZY 想知道所有的基因样品的研究价值之和是多少。\n\n由于答案非常大，所以他只想知道对于答案除以 $998244353$ 的余数。", "inputFormat": "第一行输入一个正整数 $n$ 。\n\n第 $2$ 到第 $n+1$ 行，包括 $2$ 个正整数 $a_i , b_i$ ，意义如题面所示。", "outputFormat": "输出所有的基因样品的研究价值除以 $998244353$ 的余数。", "hint": "样例一的解释：\n\n这两个集合为 $\\{ 1 , 2 \\}$ 和 $\\{ 3 \\}$。\n\n对于长度为 $1$ 的基因样本有：$1 , 2 , 3$ 。  \n总价值为 $1+2+3=6$ 。\n\n对于长度为 $2$ 的基因样本有：$11 , 12 , 13 , 22 , 23 , 31 , 32 , 33$ 。  \n总价值为 $1+1+1+2+1+3+2+2+2+3+3+1+3+2+3+3=33$ 。  \n其中数列 $21$ 不满足集合 $1$ 中的数在数列中非严格单调递增。\n\n对于长度为 $3$ 的基因样本有：$113 , 123 , 131 , 132 , 133 , 223 , 232 , 233 , 311 , 312 , 313 , 322 , 323 , 331 , 332$ 。  \n总价值为 $99$ 。  \n其中数列 $111 , 112 , 122 , 222 , 333$ 的出现次数超过限制。\n\n对于长度为 $4$ 的基因样本的总价值为 $162$ 。\n\n所以总价值为 $6+33+99+162=300$ 。\n\n---\n\n设 $k=\\sum\\limits_i b_i$ 。\n\n对于其中 $10\\%$ 的数据 $1\\le n\\le 3 , 1\\le k\\le 10 , 1\\le a_i\\le 5$ 。  \n对于另外 $20\\%$ 的数据 $n=1 , 1\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于另外 $30\\%$ 的数据 $n=2 , 2\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于 $100\\%$ 的数据 $1\\le n \\le k\\le 10^5 , 1 \\le a_i \\le 10^6 $ 。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Forget You", "background": "「话说回来，你是谁？」\n\n『竟然来这一手吗......』\n\n『也是呢......』\n\n『毕竟你夺走了几千、几万的能力，』\n\n『他们对脑部造成的负担不是一般地大，』\n\n『还能正常与人交谈已经很好了。』\n\n「......」\n\n『我啊，』\n\n『是你的恋人。』", "description": "为了让 おとさか ゆう 恢复记忆， ともり なお 找到了 PZY 。\n\nPZY 经过研究，发现能力主要是根据体内的能力基因决定的，并把一共 $m$ 个能力基因用 $1$ 到 $m$ 表示，并依次分成了 $n$ 个集合，第 $i$ 个集合包含了编号从 $(\\sum\\limits_{j=1}^{i-1} a_j)+1$ 到 $\\sum\\limits_{j=1}^{i} a_j$ 的 $a_i$ 个能力基因。\n\n经过大量的实验， PZY 发现基因的排序可以简化为一个数列，并按照需求， 定义一个数列被称为基因样品，当且仅当这个数列只由 $1$ 到 $m$ 的数字组成，对于属于第 $i$ 个集合里的数字，满足在该数列中**非严格单调递增**，且在数列中出现的次数不超过 $b_i$ 。\n\n特别的，一个基因样本的研究价值就是构成这个基因样本的所有数字之和，注意重复的数字也要重复计算。\n\n为了帮助 おとさか ゆう 恢复记忆， PZY 想知道所有的基因样品的研究价值之和是多少。\n\n由于答案非常大，所以他只想知道对于答案除以 $998244353$ 的余数。", "inputFormat": "第一行输入一个正整数 $n$ 。\n\n第 $2$ 到第 $n+1$ 行，包括 $2$ 个正整数 $a_i , b_i$ ，意义如题面所示。", "outputFormat": "输出所有的基因样品的研究价值除以 $998244353$ 的余数。", "hint": "样例一的解释：\n\n这两个集合为 $\\{ 1 , 2 \\}$ 和 $\\{ 3 \\}$。\n\n对于长度为 $1$ 的基因样本有：$1 , 2 , 3$ 。  \n总价值为 $1+2+3=6$ 。\n\n对于长度为 $2$ 的基因样本有：$11 , 12 , 13 , 22 , 23 , 31 , 32 , 33$ 。  \n总价值为 $1+1+1+2+1+3+2+2+2+3+3+1+3+2+3+3=33$ 。  \n其中数列 $21$ 不满足集合 $1$ 中的数在数列中非严格单调递增。\n\n对于长度为 $3$ 的基因样本有：$113 , 123 , 131 , 132 , 133 , 223 , 232 , 233 , 311 , 312 , 313 , 322 , 323 , 331 , 332$ 。  \n总价值为 $99$ 。  \n其中数列 $111 , 112 , 122 , 222 , 333$ 的出现次数超过限制。\n\n对于长度为 $4$ 的基因样本的总价值为 $162$ 。\n\n所以总价值为 $6+33+99+162=300$ 。\n\n---\n\n设 $k=\\sum\\limits_i b_i$ 。\n\n对于其中 $10\\%$ 的数据 $1\\le n\\le 3 , 1\\le k\\le 10 , 1\\le a_i\\le 5$ 。  \n对于另外 $20\\%$ 的数据 $n=1 , 1\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于另外 $30\\%$ 的数据 $n=2 , 2\\le k\\le 10^5，1 \\le a_i \\le 10^6$ 。  \n对于 $100\\%$ 的数据 $1\\le n \\le k\\le 10^5 , 1 \\le a_i \\le 10^6 $ 。", "locale": "zh-CN"}}}
{"pid": "P6556", "type": "P", "difficulty": 6, "samples": [["3\n3\n1 2\n2 3\n1 2\n1 3\n5\n1 2\n1 3\n2 4\n2 5\n1 2\n2 3\n3 4\n4 5\n5\n3 1\n3 2\n3 4\n3 5 \n1 2\n2 3\n3 4\n3 5\n", "5\n9\n14\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树", "点分治", "O2优化"], "title": "The Forest", "background": "Deep in the forest, swift in the night.\n\nThey come out, with the frightening shouting under the moonlight.\n\nYou stare at the horrible figures. They are real, alive.\n\nI promise you've never experienced a worse night.\n\nThey come nearer, nearer, till a meter left.\n\nYou see their real faces. Scary eyes and hair in a mess.\n\nYou think they coming for you, then you are wrong.\n\nThey only want your delicious cheese, which is produced in a scary farm.\n\nThat's what happens in the forest. Enjoy your time!", "description": "**请注意，本题的时间限制为 5s！**\n\n探险家小 A 和小 B 需要用灯泡照亮这个森林。\n\n有 $n$ 个灯泡，编号为 $1, 2, \\cdots, n$。小 A 用 $n - 1$ 条红色绳子把它们连成了一棵树，小 B 用 $n - 1$ 条蓝色绳子把它们连成了另一棵树。\n\n一开始所有灯泡都是熄灭的，现在要点亮若干个灯泡。小 A 喜欢联通块，而小 B 喜欢链。他们想知道：有多少种点亮灯泡的方案，满足点亮的灯泡在小 A 的树上形成一个联通块，在小 B 的树上形成一条链呢？", "inputFormat": "第一行一个数 $T$，表示有 $T$ 组数据，对于每组数据：\n\n第一行一个数 $n$。\n\n第 $2$ 行到第 $n$ 行，第 $i + 1$ 行两个数 $a_i, b_i$，表示小 A 的树上的一条边。\n\n第 $n + 1$ 行到第 $2n - 1$ 行，第 $i + n$ 行两个数 $c_i, d_i$，表示小 B 的树上的一条边。", "outputFormat": "输出 $T$ 行，第 $i$ 行是第 $i$ 组数据的答案。", "hint": "### **样例解释：**\n\n#### 三组数据的图解：\n**样例 1：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9mvgm6cq.png)\n\n**样例 2：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w37mndjq.png)\n\n**样例 3：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5yjz655.png)\n\n------\n\n对于第一组数据，可以点亮的灯泡集合有：\n\n+ $\\{1\\}$；\n+ $\\{2\\}$；\n+ $\\{3\\}$；\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$。\n\n注意不能点亮集合 $\\{1, 3\\}$，因为编号为 $1, 3$ 的灯泡在小 A 的树上不构成联通块；也不能点亮集合 $\\{2, 3\\}$，因为编号为 $2, 3$ 的灯泡在小 B 的树上不构成一条链。\n\n对于第二组数据，可以点亮的，**至少包含两个灯泡的**的灯泡集合有：\n\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$；\n+ $\\{1, 2, 3, 4\\}$；\n+ $\\{1, 2, 3, 4, 5\\}$。\n\n显然大小为 $1$ 的灯泡集合都合法，所以答案为 $4 + 5 = 9$。\n\n### **限制与约定：**\n\n对于 $20 \\%$ 的数据，$n \\le 50$，满足特殊限制 $X$。  \n对于 $40 \\%$ 的数据，$n \\le 3000$，满足特殊限制 $X$。  \n对于 $70 \\%$ 的数据，满足特殊限制 $X$。  \n对于 $100 \\%$ 的数据，$T = 3, 1 \\le n \\le 10^5$。\n\n特殊限制 $X$：$c_i = i, d_i = i + 1$，也就是说**小 B 的树**是一条链，编号相邻的点之间有边。", "locale": "zh-CN", "translations": {"en": {"title": "The Forest", "background": "Deep in the forest, swift in the night.\n\nThey come out, with frightening shouts under the moonlight.\n\nYou stare at those horrible figures. They are real, alive.\n\nI promise you have never had a worse night.\n\nThey come closer and closer, until only one meter is left.\n\nYou see their real faces. Scary eyes and messy hair.\n\nYou think they are coming for you, but you are wrong.\n\nThey only want your delicious cheese, which is produced on a scary farm.\n\nThat is what happens in the forest. Enjoy your time!", "description": "**Please note that the time limit for this problem is 5s!**\n\nExplorer A and Explorer B need to use light bulbs to light up this forest.\n\nThere are $n$ light bulbs, numbered $1, 2, \\cdots, n$. Explorer A uses $n - 1$ red ropes to connect them into a tree, and Explorer B uses $n - 1$ blue ropes to connect them into another tree.\n\nAt the beginning, all bulbs are off. Now we want to turn on some of the bulbs. Explorer A likes connected components, and Explorer B likes paths. They want to know: how many ways are there to turn on bulbs such that the turned-on bulbs form a connected component in A's tree, and form a path in B's tree?", "inputFormat": "The first line contains an integer $T$, meaning there are $T$ test cases. For each test case:\n\nThe first line contains an integer $n$.\n\nLines $2$ to $n$, i.e. line $i + 1$, contain two integers $a_i, b_i$, representing an edge in A's tree.\n\nLines $n + 1$ to $2n - 1$, i.e. line $i + n$, contain two integers $c_i, d_i$, representing an edge in B's tree.", "outputFormat": "Output $T$ lines. The $i$-th line is the answer for the $i$-th test case.", "hint": "### Sample Explanation:\n\n#### Diagrams for the three test cases:\n**Sample 1:**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9mvgm6cq.png)\n\n**Sample 2:**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w37mndjq.png)\n\n**Sample 3:**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5yjz655.png)\n\n------\n\nFor the first test case, the valid sets of bulbs to turn on are:\n\n+ $\\{1\\}$;\n+ $\\{2\\}$;\n+ $\\{3\\}$;\n+ $\\{1, 2\\}$;\n+ $\\{1, 2, 3\\}$.\n\nNote that you cannot turn on the set $\\{1, 3\\}$, because bulbs $1$ and $3$ do not form a connected component in A's tree. You also cannot turn on the set $\\{2, 3\\}$, because bulbs $2$ and $3$ do not form a path in B's tree.\n\nFor the second test case, the valid sets of bulbs to turn on that contain **at least two bulbs** are:\n\n+ $\\{1, 2\\}$;\n+ $\\{1, 2, 3\\}$;\n+ $\\{1, 2, 3, 4\\}$;\n+ $\\{1, 2, 3, 4, 5\\}$.\n\nClearly, all bulb sets of size $1$ are valid, so the answer is $4 + 5 = 9$.\n\n### Constraints and Notes:\n\nFor $20\\%$ of the testdata, $n \\le 50$, and it satisfies the special constraint $X$.  \nFor $40\\%$ of the testdata, $n \\le 3000$, and it satisfies the special constraint $X$.  \nFor $70\\%$ of the testdata, it satisfies the special constraint $X$.  \nFor $100\\%$ of the testdata, $T = 3, 1 \\le n \\le 10^5$.\n\nSpecial constraint $X$: $c_i = i, d_i = i + 1$, that is, **B's tree** is a path, and there is an edge between nodes with adjacent indices.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "The Forest", "background": "Deep in the forest, swift in the night.\n\nThey come out, with the frightening shouting under the moonlight.\n\nYou stare at the horrible figures. They are real, alive.\n\nI promise you've never experienced a worse night.\n\nThey come nearer, nearer, till a meter left.\n\nYou see their real faces. Scary eyes and hair in a mess.\n\nYou think they coming for you, then you are wrong.\n\nThey only want your delicious cheese, which is produced in a scary farm.\n\nThat's what happens in the forest. Enjoy your time!", "description": "**请注意，本题的时间限制为 5s！**\n\n探险家小 A 和小 B 需要用灯泡照亮这个森林。\n\n有 $n$ 个灯泡，编号为 $1, 2, \\cdots, n$。小 A 用 $n - 1$ 条红色绳子把它们连成了一棵树，小 B 用 $n - 1$ 条蓝色绳子把它们连成了另一棵树。\n\n一开始所有灯泡都是熄灭的，现在要点亮若干个灯泡。小 A 喜欢联通块，而小 B 喜欢链。他们想知道：有多少种点亮灯泡的方案，满足点亮的灯泡在小 A 的树上形成一个联通块，在小 B 的树上形成一条链呢？", "inputFormat": "第一行一个数 $T$，表示有 $T$ 组数据，对于每组数据：\n\n第一行一个数 $n$。\n\n第 $2$ 行到第 $n$ 行，第 $i + 1$ 行两个数 $a_i, b_i$，表示小 A 的树上的一条边。\n\n第 $n + 1$ 行到第 $2n - 1$ 行，第 $i + n$ 行两个数 $c_i, d_i$，表示小 B 的树上的一条边。", "outputFormat": "输出 $T$ 行，第 $i$ 行是第 $i$ 组数据的答案。", "hint": "### **样例解释：**\n\n#### 三组数据的图解：\n**样例 1：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9mvgm6cq.png)\n\n**样例 2：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w37mndjq.png)\n\n**样例 3：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s5yjz655.png)\n\n------\n\n对于第一组数据，可以点亮的灯泡集合有：\n\n+ $\\{1\\}$；\n+ $\\{2\\}$；\n+ $\\{3\\}$；\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$。\n\n注意不能点亮集合 $\\{1, 3\\}$，因为编号为 $1, 3$ 的灯泡在小 A 的树上不构成联通块；也不能点亮集合 $\\{2, 3\\}$，因为编号为 $2, 3$ 的灯泡在小 B 的树上不构成一条链。\n\n对于第二组数据，可以点亮的，**至少包含两个灯泡的**的灯泡集合有：\n\n+ $\\{1, 2\\}$；\n+ $\\{1, 2, 3\\}$；\n+ $\\{1, 2, 3, 4\\}$；\n+ $\\{1, 2, 3, 4, 5\\}$。\n\n显然大小为 $1$ 的灯泡集合都合法，所以答案为 $4 + 5 = 9$。\n\n### **限制与约定：**\n\n对于 $20 \\%$ 的数据，$n \\le 50$，满足特殊限制 $X$。  \n对于 $40 \\%$ 的数据，$n \\le 3000$，满足特殊限制 $X$。  \n对于 $70 \\%$ 的数据，满足特殊限制 $X$。  \n对于 $100 \\%$ 的数据，$T = 3, 1 \\le n \\le 10^5$。\n\n特殊限制 $X$：$c_i = i, d_i = i + 1$，也就是说**小 B 的树**是一条链，编号相邻的点之间有边。", "locale": "zh-CN"}}}
{"pid": "P6557", "type": "P", "difficulty": 7, "samples": [["3 3\n0 1 0\n1 1 1\n0 1 0\n5\n1 2 2\n2 2\n3 1\n4 2 1 1\n5 2 2 1", "7\n1\n1\n5\n1\n1"], ["4 4\n0 1 1 1\n1 0 1 1\n1 1 0 1\n1 1 1 0\n3\n2 4\n1 2 2\n4 3 2 2", "400\n60\n400\n144"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["轮廓线 DP", "状压 DP"], "title": "Yesterday Once More", "background": "What will tomorrow be? Or, what is tomorrow? Or, what was tomorrow......\n\nWhat was yesterday? Or, what is yesterday? Or, what will yesterday be......\n\nIt is said that TIME cannot go back.\n\nIt is true, they all said.\n\nWhy? Are all those things inevitable? Is that really my unchangeable fate?\n\nWhere is the passion when we first met in that place?\n\nI know that I messed it up, times and times again.\n\nI want to turn back the clock and start again.\n\nYesterday Once More......\n", "description": "**注：题面中所有 $(x,y)$ 表示第 $x$ 行第 $y$ 列的点。**\n\n游戏的地图可以看成 $n\\times m$ 的网格图。每个格子里可能会有障碍。对于每个非障碍格子，里面可以站人也可以不站人，当然，每个格子最多只能站一个人。\n\n现在，你可以在非障碍点放置一些人，这些人都有一个朝向，这个朝向为上下左右中的一个。每个人你都可以给他设置他的射程，射程可以任意**正整数**。\n\n射程：人攻击的距离；若一个人在 $(x,y)$，朝向向右，他的射程为 3，那么他最远可以攻击到 $(x,y+3)$。注意，一个人的攻击不能穿越障碍物。\n\n现在，UM 想问问你整个游戏有多少种放人方法，使得所有人之间都不会互相攻击，而且任意两个人的攻击范围都不能有重叠（因为这样可能会浪费弹药），由于答案太大，所以 UM 要你给出答案对 $998244353$ 取模的结果。\n\n我们设第 $x$ 行第 $y$ 列的格子编号为 $(x-1)\\times m+y$，并把所有的人按他射程范围内的编号最小的格子的编号为关键字进行排序，并以排序后的顺序对所有人编号。两种放置人的情况被认为是不相同的，**当且仅当两种情况人数不同或者存在一个编号相同的人射程范围内的格子中至少有一个格子编号不同。**\n\n但是，UM 觉得这个问题太简单了，会被强大的你两分钟切掉，于是，他为你精心准备了 5 种询问：  \n1、把点 $(x,y)$ 设置为障碍点后的放人方案数；  \n2、把第 $x$ 行整个设置为障碍后的放人方案数；  \n3、把第 $x$ 列整个设置为障碍后的放人方案数；  \n4、把点 $(x,y) ,\\ (x,y+1),\\dots,\\ (x,y+t)$ 设置为障碍点后的放人方案数。  \n5、把点 $(x,y) ,\\ (x+1,y),\\dots,\\ (x+t,y)$ 设置为障碍点后的放人方案数；  \n\n**注意，每次操作后的地图都会还原成初始的状态。**\n\n", "inputFormat": "第一行两个正整数，$n,m$，意义如题面所述。\n\n接下来 $n$ 行每行 $m$ 个整数，表示游戏地图。若这个数为 $1$ 则为非障碍点，若为 $0$ 则为障碍点。\n\n接下来一行一个整数 $T$ 表示有 $T$ 个询问。\n\n接下来 $T$ 行，每行的第一个整数 $opt$，表示这个询问的类型：  \n若 $opt=1$，则分别对应第一种询问，接下来输入两个正整数 $x,y$，意义如题面所述；  \n若 $opt=2,3$，则分别对应第二，三种询问，接下来输入一个整数 $x$，意义如题面所述；  \n若 $opt=4,5$，则分别对应第四，五种询问，接下来输入三个整数 $x,y,t$，意义如题面所述。", "outputFormat": "输出共 $T+1$ 行。  \n第一行一个整数表示初始状态时的答案。  \n接下来 $T$ 行，一行一个整数表示每个询问的答案。\n\n**请注意：每个输出都应对 $998244353$ 取模。**", "hint": "[样例解释](https://www.luogu.com.cn/paste/wez5s4mh)。\n\n对于所有的询问，保证输入的参数均在棋盘大小范围内。\n\n对于 $15\\%$ 的数据，保证 $1<n,m\\le 5$ 且 $1\\le T\\le 10$。  \n对于另外 $10\\%$ 的数据，保证 $T=0$。  \n对于另外 $10\\%$ 的数据，保证只有第 1 种询问。  \n对于另外 $15\\%$ 的数据，保证只有第 2,3 种询问。    \n对于 $100\\%$ 的数据，保证 $1<n\\le m\\le 15$，$0\\le T\\le 10^3$，第 1,4,5 种询问的总数不超过 $100$。\n\n对于所有的数据，保证第 4,5 种询问中的 $t$ 为正整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Yesterday Once More", "background": "What will tomorrow be? Or, what is tomorrow? Or, what was tomorrow......\n\nWhat was yesterday? Or, what is yesterday? Or, what will yesterday be......\n\nIt is said that TIME cannot go back.\n\nIt is true, they all said.\n\nWhy? Are all those things inevitable? Is that really my unchangeable fate?\n\nWhere is the passion when we first met in that place?\n\nI know that I messed it up, times and times again.\n\nI want to turn back the clock and start again.\n\nYesterday Once More......\n", "description": "**注：题面中所有 $(x,y)$ 表示第 $x$ 行第 $y$ 列的点。**\n\n游戏的地图可以看成 $n\\times m$ 的网格图。每个格子里可能会有障碍。对于每个非障碍格子，里面可以站人也可以不站人，当然，每个格子最多只能站一个人。\n\n现在，你可以在非障碍点放置一些人，这些人都有一个朝向，这个朝向为上下左右中的一个。每个人你都可以给他设置他的射程，射程可以任意**正整数**。\n\n射程：人攻击的距离；若一个人在 $(x,y)$，朝向向右，他的射程为 3，那么他最远可以攻击到 $(x,y+3)$。注意，一个人的攻击不能穿越障碍物。\n\n现在，UM 想问问你整个游戏有多少种放人方法，使得所有人之间都不会互相攻击，而且任意两个人的攻击范围都不能有重叠（因为这样可能会浪费弹药），由于答案太大，所以 UM 要你给出答案对 $998244353$ 取模的结果。\n\n我们设第 $x$ 行第 $y$ 列的格子编号为 $(x-1)\\times m+y$，并把所有的人按他射程范围内的编号最小的格子的编号为关键字进行排序，并以排序后的顺序对所有人编号。两种放置人的情况被认为是不相同的，**当且仅当两种情况人数不同或者存在一个编号相同的人射程范围内的格子中至少有一个格子编号不同。**\n\n但是，UM 觉得这个问题太简单了，会被强大的你两分钟切掉，于是，他为你精心准备了 5 种询问：  \n1、把点 $(x,y)$ 设置为障碍点后的放人方案数；  \n2、把第 $x$ 行整个设置为障碍后的放人方案数；  \n3、把第 $x$ 列整个设置为障碍后的放人方案数；  \n4、把点 $(x,y) ,\\ (x,y+1),\\dots,\\ (x,y+t)$ 设置为障碍点后的放人方案数。  \n5、把点 $(x,y) ,\\ (x+1,y),\\dots,\\ (x+t,y)$ 设置为障碍点后的放人方案数；  \n\n**注意，每次操作后的地图都会还原成初始的状态。**\n\n", "inputFormat": "第一行两个正整数，$n,m$，意义如题面所述。\n\n接下来 $n$ 行每行 $m$ 个整数，表示游戏地图。若这个数为 $1$ 则为非障碍点，若为 $0$ 则为障碍点。\n\n接下来一行一个整数 $T$ 表示有 $T$ 个询问。\n\n接下来 $T$ 行，每行的第一个整数 $opt$，表示这个询问的类型：  \n若 $opt=1$，则分别对应第一种询问，接下来输入两个正整数 $x,y$，意义如题面所述；  \n若 $opt=2,3$，则分别对应第二，三种询问，接下来输入一个整数 $x$，意义如题面所述；  \n若 $opt=4,5$，则分别对应第四，五种询问，接下来输入三个整数 $x,y,t$，意义如题面所述。", "outputFormat": "输出共 $T+1$ 行。  \n第一行一个整数表示初始状态时的答案。  \n接下来 $T$ 行，一行一个整数表示每个询问的答案。\n\n**请注意：每个输出都应对 $998244353$ 取模。**", "hint": "[样例解释](https://www.luogu.com.cn/paste/wez5s4mh)。\n\n对于所有的询问，保证输入的参数均在棋盘大小范围内。\n\n对于 $15\\%$ 的数据，保证 $1<n,m\\le 5$ 且 $1\\le T\\le 10$。  \n对于另外 $10\\%$ 的数据，保证 $T=0$。  \n对于另外 $10\\%$ 的数据，保证只有第 1 种询问。  \n对于另外 $15\\%$ 的数据，保证只有第 2,3 种询问。    \n对于 $100\\%$ 的数据，保证 $1<n\\le m\\le 15$，$0\\le T\\le 10^3$，第 1,4,5 种询问的总数不超过 $100$。\n\n对于所有的数据，保证第 4,5 种询问中的 $t$ 为正整数。", "locale": "zh-CN"}}}
{"pid": "P6559", "type": "P", "difficulty": 2, "samples": [["6 12\n1 1\n2 1\n2 2\n1 4\n3 3\n4 3\n4 4\n3 4\n3 6\n4 6\n5 6\n6 6", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["暴力数据结构", "2020", "O2优化", "排序"], "title": "[SBCOI2020] 小镇", "background": "在人们不知道的地方，有一个小镇。  \n一个，连名字都说不上来的小镇。  \n季节再度进入冬季，  \n那个属于雪的季节。  \n在那雪下，埋葬着的，  \n是只属于这个小镇的梦，与传说。  \n......   \n“又到了冬天啊！”  \n“是啊！周围都变成白茫茫的一片了呢...”  \n“唉，要是这样的日子能够永远持续下去该有多好啊。”  \n“啊，永远...”  \n“不过，世间又有什么是永远呢。如同雪的消融，洁白地融入大地，还来不及让人品味，如此无奈，又如此纯净......”   \n\n在雪中，一幢幢房屋间的灯光散发出温暖的光芒。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/j728ebas.png)  \n“以后我们还能在一起看雪吗？”  \n“当然，一直可以......”", "description": "小镇可以看作是一个 $n \\times n$ 的网格，其中有 $k$ 个格子是房屋。    \n小镇里面还有灯。每两个相邻的格子之间有一盏灯。\n\n如果两幢房屋**相邻**，那么这两幢房屋之间的灯就会点亮。  \n请问这座小镇一共有多少盏灯被点亮。\n\n注意，本题中相邻指有公共边。", "inputFormat": "第一行两个整数 $n,k$，表示网格边长以及房屋数量。\n接下来 $k$ 行每行两个整数 $x,y$，表示房屋的坐标。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tbjkl3ul.png)  \n如图，阴影格子为房屋，被描红的边为灯。\n\n#### 数据范围\n\n对于 $30\\%$ 的数据，$1 \\leq n,k \\leq 100$。  \n对于 $80\\%$ 的数据，$1 \\leq n,k \\leq 5000$。  \n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^5$。  ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 小镇", "background": "在人们不知道的地方，有一个小镇。  \n一个，连名字都说不上来的小镇。  \n季节再度进入冬季，  \n那个属于雪的季节。  \n在那雪下，埋葬着的，  \n是只属于这个小镇的梦，与传说。  \n......   \n“又到了冬天啊！”  \n“是啊！周围都变成白茫茫的一片了呢...”  \n“唉，要是这样的日子能够永远持续下去该有多好啊。”  \n“啊，永远...”  \n“不过，世间又有什么是永远呢。如同雪的消融，洁白地融入大地，还来不及让人品味，如此无奈，又如此纯净......”   \n\n在雪中，一幢幢房屋间的灯光散发出温暖的光芒。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/j728ebas.png)  \n“以后我们还能在一起看雪吗？”  \n“当然，一直可以......”", "description": "小镇可以看作是一个 $n \\times n$ 的网格，其中有 $k$ 个格子是房屋。    \n小镇里面还有灯。每两个相邻的格子之间有一盏灯。\n\n如果两幢房屋**相邻**，那么这两幢房屋之间的灯就会点亮。  \n请问这座小镇一共有多少盏灯被点亮。\n\n注意，本题中相邻指有公共边。", "inputFormat": "第一行两个整数 $n,k$，表示网格边长以及房屋数量。\n接下来 $k$ 行每行两个整数 $x,y$，表示房屋的坐标。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tbjkl3ul.png)  \n如图，阴影格子为房屋，被描红的边为灯。\n\n#### 数据范围\n\n对于 $30\\%$ 的数据，$1 \\leq n,k \\leq 100$。  \n对于 $80\\%$ 的数据，$1 \\leq n,k \\leq 5000$。  \n对于 $100\\%$ 的数据，$1 \\le n,k \\le 10^5$。  ", "locale": "zh-CN"}}}
{"pid": "P6560", "type": "P", "difficulty": 4, "samples": [["7 7 1\n1 2\n2 3\n3 4\n4 5\n3 6\n7 5\n6 7\n1 5", "1"], ["5 5 2\n1 2\n2 3\n3 1\n3 4\n4 5\n1 5\n4 3", "0\n1"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "博弈论", "2020", "O2优化", "广度优先搜索 BFS", "拓扑排序"], "title": "[SBCOI2020] 时光的流逝", "background": "时间一分一秒的过着，伴随着雪一同消融在了这个冬天，  \n或许，要是时光能停留在这一刻，该有多好啊。  \n......    \n“这是...我在这个小镇的最后一个冬天了吧。”  \n“嗯，你可不能这辈子都呆在这个小镇吧。外面的世界很大呢，很大很大...”  \n“唔...外面的世界...突然有点期待呢！”  \n“总有一天，你会走得很远很远。以后你可不要忘记这个小镇那。”  \n“不会的，至少...这里曾经是我最快乐的一段回忆呢！你也一定不要忘记我呀。”   \n“你看，这雪花。传说，每当世界上有一份思念，便会化成一片雪花在这里飘落。”   \n“那...以后你可一定要找到我的那片雪花啊......”  \n![](https://cdn.luogu.com.cn/upload/image_hosting/orzntcy6.png)    \n“嗯，不如我们一起在这个冬天创造最后一段回忆吧。”  \n“好呀，我们玩个游戏吧......”  ", "description": "这个游戏是在一个有向图（不保证无环）上进行的。每轮游戏开始前，她们先在图上选定一个起点和一个终点，并在起点处放上一枚棋子。\n\n然后两人轮流移动棋子，每次可以将棋子按照有向图的方向移动至相邻的点。\n\n如果谁先将棋子移动至终点，那么谁就胜利了。同样，如果谁无法移动了，那么谁就失败了。\n\n两人轮流操作，请问，他们是否有必胜策略呢？  \n\n答案为一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示（先手）有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "inputFormat": "第$\\text{1}$行有三个整数 $n,m,q$ ，表示图上有 $n$ 个点， $m$ 条边，一共进行 $q$ 轮游戏。                      \n接下来 $m$ 行，每行输入两个数 $u_i,v_i$ ，表示 $u_i$ 到 $v_i$ 有一条边。  \n接下来 $q$ 行，每行两个数 $x,y$ ，表示每轮操作的起点和终点。数据保证起点，终点不同", "outputFormat": "对于每轮游戏，仅输出一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示先手有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "hint": "#### 样例解释 $#1$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k7q0qjrb.png)\n\n为描述题意，假设两人为 A（先手）和 B\n\n如图，A 先走，走到 $2$，B 走到 $3$，接下去 A 可以选择走到 $4$ 或 $6$，若走到 $4$，接下去 B 可以走到终点，故不可取。若选择走到 $6$，那么 B 只能走到 $7$，A 可以走到终点。所以 A 有必胜策略。\n\n#### 样例解释 $#2$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9yjnyye3.png)\n\n如图，起点为 $1$，终点为 $5$ 时， A 和 B 会沿着 $1-2-3-1$ 的顺序轮流走。因为如果谁先走到 $4$，那么下一个人就可以走到终点。故谁都没有必胜策略。\n\n起点为 $4$，终点为 $3$ 时，A 先走到 $5$，B 无路可走，故 B 失败。\n\n#### 数据范围\n\n对于 $10\\%$ 的数据，保证图是一条链。\n\n对于 $50\\%$ 的数据，$1\\leq n\\leq 10^3$，$1\\leq m\\leq 2\\times10^3$，$1\\leq q\\leq 10$。\n\n对于 $70\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times10^5$，$1\\leq q\\leq 10$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 5\\times10^5$，$1\\leq q\\leq 500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 时光的流逝", "background": "时间一分一秒的过着，伴随着雪一同消融在了这个冬天，  \n或许，要是时光能停留在这一刻，该有多好啊。  \n......    \n“这是...我在这个小镇的最后一个冬天了吧。”  \n“嗯，你可不能这辈子都呆在这个小镇吧。外面的世界很大呢，很大很大...”  \n“唔...外面的世界...突然有点期待呢！”  \n“总有一天，你会走得很远很远。以后你可不要忘记这个小镇那。”  \n“不会的，至少...这里曾经是我最快乐的一段回忆呢！你也一定不要忘记我呀。”   \n“你看，这雪花。传说，每当世界上有一份思念，便会化成一片雪花在这里飘落。”   \n“那...以后你可一定要找到我的那片雪花啊......”  \n![](https://cdn.luogu.com.cn/upload/image_hosting/orzntcy6.png)    \n“嗯，不如我们一起在这个冬天创造最后一段回忆吧。”  \n“好呀，我们玩个游戏吧......”  ", "description": "这个游戏是在一个有向图（不保证无环）上进行的。每轮游戏开始前，她们先在图上选定一个起点和一个终点，并在起点处放上一枚棋子。\n\n然后两人轮流移动棋子，每次可以将棋子按照有向图的方向移动至相邻的点。\n\n如果谁先将棋子移动至终点，那么谁就胜利了。同样，如果谁无法移动了，那么谁就失败了。\n\n两人轮流操作，请问，他们是否有必胜策略呢？  \n\n答案为一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示（先手）有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "inputFormat": "第$\\text{1}$行有三个整数 $n,m,q$ ，表示图上有 $n$ 个点， $m$ 条边，一共进行 $q$ 轮游戏。                      \n接下来 $m$ 行，每行输入两个数 $u_i,v_i$ ，表示 $u_i$ 到 $v_i$ 有一条边。  \n接下来 $q$ 行，每行两个数 $x,y$ ，表示每轮操作的起点和终点。数据保证起点，终点不同", "outputFormat": "对于每轮游戏，仅输出一个整数 `0` 或 `1` 或 `-1`，其中 `1` 表示先手有必胜策略，`-1` 表示后手有必胜策略，`0` 表示两人均无必胜策略。", "hint": "#### 样例解释 $#1$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k7q0qjrb.png)\n\n为描述题意，假设两人为 A（先手）和 B\n\n如图，A 先走，走到 $2$，B 走到 $3$，接下去 A 可以选择走到 $4$ 或 $6$，若走到 $4$，接下去 B 可以走到终点，故不可取。若选择走到 $6$，那么 B 只能走到 $7$，A 可以走到终点。所以 A 有必胜策略。\n\n#### 样例解释 $#2$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9yjnyye3.png)\n\n如图，起点为 $1$，终点为 $5$ 时， A 和 B 会沿着 $1-2-3-1$ 的顺序轮流走。因为如果谁先走到 $4$，那么下一个人就可以走到终点。故谁都没有必胜策略。\n\n起点为 $4$，终点为 $3$ 时，A 先走到 $5$，B 无路可走，故 B 失败。\n\n#### 数据范围\n\n对于 $10\\%$ 的数据，保证图是一条链。\n\n对于 $50\\%$ 的数据，$1\\leq n\\leq 10^3$，$1\\leq m\\leq 2\\times10^3$，$1\\leq q\\leq 10$。\n\n对于 $70\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 2\\times10^5$，$1\\leq q\\leq 10$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^5$，$1\\leq m\\leq 5\\times10^5$，$1\\leq q\\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P6561", "type": "P", "difficulty": 5, "samples": [["6\n2 1 1\n4 2 1\n114 5 14\n1919 8 10\n19260 8 17\n114514 1919 810", "1\n6\n43944630\n803733835\n204764788\n713170605"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "组合数学"], "title": "[SBCOI2020] 人", "background": "梦  \n做着同一个梦  \n每一天都做的梦  \n没有终结的梦......  \n咦...这里...是哪里？  \n周围漫天是如雪花般飘落的的碎片。   \n天空明亮的光芒又一次掠过这些碎片，照在地上。  \n这些碎片像是永无尽头的围巾一般，围在她的四周，  \n在她的身后延伸到世界的尽头，诉说着一段段破碎的记忆......  \n......  \n这...刚才...是梦吗？  \n看来我又做了一个梦...  \n不知不觉，离开这个小镇已经这么久了啊...  \n但是...总感觉这个小镇...无法忘记...  \n刚才看到的到底是什么？  \n为什么呢?  \n![](https://cdn.luogu.com.cn/upload/image_hosting/xltdmgq1.png)  \n总觉得我需要回去一次，  \n回到......一切开始的地方......  \n", "description": "她的梦中有 $2m$ 块记忆碎片，编号为 $1,2,\\cdots,2m$，以及 $a$ 块白色碎片和 $b$ 块黑色碎片。\n\n她隐约记得她要在编号为奇数的记忆碎片中选出 $a$ 块白色碎片组成一段记忆，在编号为偶数的记忆碎片中选出 $b$ 块黑色碎片组成一段记忆，且选出的记忆碎片编号两两不相邻。\n\n她想要知道一共有多少种这样的选法。也就是，在 $1-2m$ 中选出 $a$ 个奇数， $b$ 个偶数，并且选出的数两两不相邻的方案数。\n\n由于答案可能很大，她只需要答案对于 $998244353$ 取模的结果。", "inputFormat": "**本题有多组数据。**\n\n第一行为数据组数 $T$。\n\n接下来 $T$ 行，每行三个整数 $m,a,b$。", "outputFormat": "$T$ 行，每行一个整数表示答案。", "hint": "#### 样例解释\n\n第一个询问，一共 $4$ 个数，在奇数 ${1,3}$ 中选一个,偶数 ${2,4}$ 中选一个，选出两个数不相邻的只能选 $1,4$ 。  \n第二个询问，一共 $8$ 个数，在奇数 ${1,3,5,7}$ 中选 $2$ 个数，偶数 ${2,4,6,8}$ 中选 $1$ 个数，而且总共选出的 $3$ 个数两两不相邻，只有：$\\{1,3,6\\}，\\{1,3,8\\}，\\{1,5,8\\}，\\{1,4,7\\}，\\{3,5,8\\}，\\{2,5,7\\}$。 总共 $6$ 种选法。\n\n后面几个询问范围过大，不进行样例解释。\n\n#### 数据范围\n\n**本题采用捆绑测试**，共有 $3$ 个子任务。\n\n$Subtask 1 (10\\%)$，$1 \\le T \\le 10, 1 \\le a,b \\le m \\le 10$。\n\n$Subtask 2 (40\\%)$，$1 \\le T \\le 10^6,  1 \\le a,b \\le m \\le 100$。\n\n$Subtask 3 (50\\%)$，$1 \\le T \\le 10^6, 1 \\le a,b \\le m \\le 10^6$。 \n\n对于 $100\\%$ 的数据，保证 $a+b \\le m$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 人", "background": "梦  \n做着同一个梦  \n每一天都做的梦  \n没有终结的梦......  \n咦...这里...是哪里？  \n周围漫天是如雪花般飘落的的碎片。   \n天空明亮的光芒又一次掠过这些碎片，照在地上。  \n这些碎片像是永无尽头的围巾一般，围在她的四周，  \n在她的身后延伸到世界的尽头，诉说着一段段破碎的记忆......  \n......  \n这...刚才...是梦吗？  \n看来我又做了一个梦...  \n不知不觉，离开这个小镇已经这么久了啊...  \n但是...总感觉这个小镇...无法忘记...  \n刚才看到的到底是什么？  \n为什么呢?  \n![](https://cdn.luogu.com.cn/upload/image_hosting/xltdmgq1.png)  \n总觉得我需要回去一次，  \n回到......一切开始的地方......  \n", "description": "她的梦中有 $2m$ 块记忆碎片，编号为 $1,2,\\cdots,2m$，以及 $a$ 块白色碎片和 $b$ 块黑色碎片。\n\n她隐约记得她要在编号为奇数的记忆碎片中选出 $a$ 块白色碎片组成一段记忆，在编号为偶数的记忆碎片中选出 $b$ 块黑色碎片组成一段记忆，且选出的记忆碎片编号两两不相邻。\n\n她想要知道一共有多少种这样的选法。也就是，在 $1-2m$ 中选出 $a$ 个奇数， $b$ 个偶数，并且选出的数两两不相邻的方案数。\n\n由于答案可能很大，她只需要答案对于 $998244353$ 取模的结果。", "inputFormat": "**本题有多组数据。**\n\n第一行为数据组数 $T$。\n\n接下来 $T$ 行，每行三个整数 $m,a,b$。", "outputFormat": "$T$ 行，每行一个整数表示答案。", "hint": "#### 样例解释\n\n第一个询问，一共 $4$ 个数，在奇数 ${1,3}$ 中选一个,偶数 ${2,4}$ 中选一个，选出两个数不相邻的只能选 $1,4$ 。  \n第二个询问，一共 $8$ 个数，在奇数 ${1,3,5,7}$ 中选 $2$ 个数，偶数 ${2,4,6,8}$ 中选 $1$ 个数，而且总共选出的 $3$ 个数两两不相邻，只有：$\\{1,3,6\\}，\\{1,3,8\\}，\\{1,5,8\\}，\\{1,4,7\\}，\\{3,5,8\\}，\\{2,5,7\\}$。 总共 $6$ 种选法。\n\n后面几个询问范围过大，不进行样例解释。\n\n#### 数据范围\n\n**本题采用捆绑测试**，共有 $3$ 个子任务。\n\n$Subtask 1 (10\\%)$，$1 \\le T \\le 10, 1 \\le a,b \\le m \\le 10$。\n\n$Subtask 2 (40\\%)$，$1 \\le T \\le 10^6,  1 \\le a,b \\le m \\le 100$。\n\n$Subtask 3 (50\\%)$，$1 \\le T \\le 10^6, 1 \\le a,b \\le m \\le 10^6$。 \n\n对于 $100\\%$ 的数据，保证 $a+b \\le m$。\n\n", "locale": "zh-CN"}}}
{"pid": "P6562", "type": "P", "difficulty": 6, "samples": [["3 3\n1 2 3 4 5 6 7 8\n2 0 7\n1 1 5 1\n2 1 7", "36\n22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化", "前缀和", "分块", "状压 DP"], "title": "[SBCOI2020] 归家之路", "background": "时光流逝，岁月无痕。  \n小镇的夜空中，缀满了无数宝石一般的闪烁星辰。  \n依旧是那片星空，依旧是那个小镇。  \n......  \n“好久不见啊。”  \n“不知不觉，竟然已经过去了那么久了...”  \n“但是，这座小镇还是曾经的那个小镇啊。”  \n“只不过，我们都不再是过去的自己了呢。”  \n“你还记得吗，我们曾经一起在这里看雪，一起玩游戏...”   \n“可是游戏结局明明一开始就已经决定了...真是太坏了...”    \n“嘿嘿，说起来你还从来没赢我过呢......”  \n“我还记得，你以前说过，每当世界上有一份思念，便会化成一片雪花在这里飘落...”  \n“嗯，我只要看着冬天的雪便能想起你了。我知道，这一定是你的思念吧...”    \n“我也看到了，如同雪花般飘落的记忆......”  \n\n天空中，点点滴滴的光芒融合在一起，清澈而宁静。眼前的风景是那么熟悉又陌生。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ic5htl18.png)\n\n“我们再待一会儿如何，就像以前一样......”  \n“和你，和小镇，和星空......”", "description": "天空中一共有 $2^n$ 颗星，依次编号为 $0,1,...,2^n-1$。每颗星都有一个亮度值。初始时第 $i$ 颗星的亮度值为 $a_i$。  \n\n对于两个正整数 $a,b$ 我们定义一种布尔类型运算 $a\\otimes b$ 。如果在 $a$ 的**二进制**表示中，满足每一个 $a$ 是 $1$ 的位，$b$ 的对应位也是 $1$，那么  $a\\otimes b$ 为 `True` , 否则 $a\\otimes b$ 为 `False`。  \n若两数在二进制表示下的位数不同，则将两数 **右对齐** 后在左侧补0。例如两个数是 $1$ 和 $11$ （二进制），$1$ 会变成 $01$。\n\n对于这些星的亮度值有两种操作：\n\n第一种：$1$ $a$ $b$ $k$。对于所有的满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True` 的 $c$，将第 $c$ 颗星的亮度值加上 $k$。\n\n第二种：$2$ $a$ $b$。若第 $c$ 颗星的编号 $c$ 满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True`。求出所有第 $c$ 颗星的亮度总和，答案对 $2^{32}$ 取模。  \n", "inputFormat": "第一行两个整数 $n,q$。\n\n第二行 $2^n$ 个整数，用空格隔开，表示 $a_0,a_1,\\cdots,a_{2^n-1}$。\n\n接下来 $q$ 行，每行代表一个操作，格式见【题目描述】。", "outputFormat": "对于每一个 $2$ 操作，输出一行表示答案。", "hint": "**【样例解释】**\n\n第一次是询问，$0$ 的二进制表示为 $000$， $7$ 的二进制表示为 $111$ 。此时，所有数都满足，即求的是所有数之和，为 $36$。\n\n第二次是修改，$1$ 的二进制表示为 $001$，$5$ 的二进制表示为 $101$，发现 $c=1,5$ 满足，二进制表示分别为 $001$，$101$所以 $a_1,a_5$ 的值从 $2,6$ 变为 $3,7$。\n\n第三次是询问，$1$ 的二进制表示为 $001$，$7$ 的二进制表示为 $111$，发现 $c=1,3,5,7$ 满足，二进制表示分别为 $001$，$011$，$101$，$111$。求的是 $a_1,a_3,a_5,a_7$ 的和 $3+4+7+8=22$。\n\n**【数据范围】**\n\n**本题捆绑测试，共有 $4$ 个子任务**。 \n\n$Subtask 1(1\\%)$：答案为样例。\n\n$Subtask 2(9\\%)$：$n \\le 12,m \\le 2\\times 10^3$。\n\n$Subtask 3(15\\%)$：所有 $2$ 操作都在 $1$ 操作之后。\n\n$Subtask 4(75\\%)$：没有任何额外限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 16,1 \\le m \\le 2\\times 10^5, 0 \\le a,b \\le 2^n-1,0 \\le a_i,k \\le 2^{32}-1$。\n\n**【温馨提示】**\n\n对 $2^{32}$ 取模，可以直接用无符号 `32` 位整形的数据类型进行运算。在 `c++` 中就是 `unsigned int`。\n\n~~也就是【直接自然溢出啥事没有】。~~", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 归家之路", "background": "时光流逝，岁月无痕。  \n小镇的夜空中，缀满了无数宝石一般的闪烁星辰。  \n依旧是那片星空，依旧是那个小镇。  \n......  \n“好久不见啊。”  \n“不知不觉，竟然已经过去了那么久了...”  \n“但是，这座小镇还是曾经的那个小镇啊。”  \n“只不过，我们都不再是过去的自己了呢。”  \n“你还记得吗，我们曾经一起在这里看雪，一起玩游戏...”   \n“可是游戏结局明明一开始就已经决定了...真是太坏了...”    \n“嘿嘿，说起来你还从来没赢我过呢......”  \n“我还记得，你以前说过，每当世界上有一份思念，便会化成一片雪花在这里飘落...”  \n“嗯，我只要看着冬天的雪便能想起你了。我知道，这一定是你的思念吧...”    \n“我也看到了，如同雪花般飘落的记忆......”  \n\n天空中，点点滴滴的光芒融合在一起，清澈而宁静。眼前的风景是那么熟悉又陌生。  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ic5htl18.png)\n\n“我们再待一会儿如何，就像以前一样......”  \n“和你，和小镇，和星空......”", "description": "天空中一共有 $2^n$ 颗星，依次编号为 $0,1,...,2^n-1$。每颗星都有一个亮度值。初始时第 $i$ 颗星的亮度值为 $a_i$。  \n\n对于两个正整数 $a,b$ 我们定义一种布尔类型运算 $a\\otimes b$ 。如果在 $a$ 的**二进制**表示中，满足每一个 $a$ 是 $1$ 的位，$b$ 的对应位也是 $1$，那么  $a\\otimes b$ 为 `True` , 否则 $a\\otimes b$ 为 `False`。  \n若两数在二进制表示下的位数不同，则将两数 **右对齐** 后在左侧补0。例如两个数是 $1$ 和 $11$ （二进制），$1$ 会变成 $01$。\n\n对于这些星的亮度值有两种操作：\n\n第一种：$1$ $a$ $b$ $k$。对于所有的满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True` 的 $c$，将第 $c$ 颗星的亮度值加上 $k$。\n\n第二种：$2$ $a$ $b$。若第 $c$ 颗星的编号 $c$ 满足 $a\\otimes c$ 值为 `True` 以及 $c\\otimes b$ 值为 `True`。求出所有第 $c$ 颗星的亮度总和，答案对 $2^{32}$ 取模。  \n", "inputFormat": "第一行两个整数 $n,q$。\n\n第二行 $2^n$ 个整数，用空格隔开，表示 $a_0,a_1,\\cdots,a_{2^n-1}$。\n\n接下来 $q$ 行，每行代表一个操作，格式见【题目描述】。", "outputFormat": "对于每一个 $2$ 操作，输出一行表示答案。", "hint": "**【样例解释】**\n\n第一次是询问，$0$ 的二进制表示为 $000$， $7$ 的二进制表示为 $111$ 。此时，所有数都满足，即求的是所有数之和，为 $36$。\n\n第二次是修改，$1$ 的二进制表示为 $001$，$5$ 的二进制表示为 $101$，发现 $c=1,5$ 满足，二进制表示分别为 $001$，$101$所以 $a_1,a_5$ 的值从 $2,6$ 变为 $3,7$。\n\n第三次是询问，$1$ 的二进制表示为 $001$，$7$ 的二进制表示为 $111$，发现 $c=1,3,5,7$ 满足，二进制表示分别为 $001$，$011$，$101$，$111$。求的是 $a_1,a_3,a_5,a_7$ 的和 $3+4+7+8=22$。\n\n**【数据范围】**\n\n**本题捆绑测试，共有 $4$ 个子任务**。 \n\n$Subtask 1(1\\%)$：答案为样例。\n\n$Subtask 2(9\\%)$：$n \\le 12,m \\le 2\\times 10^3$。\n\n$Subtask 3(15\\%)$：所有 $2$ 操作都在 $1$ 操作之后。\n\n$Subtask 4(75\\%)$：没有任何额外限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 16,1 \\le m \\le 2\\times 10^5, 0 \\le a,b \\le 2^n-1,0 \\le a_i,k \\le 2^{32}-1$。\n\n**【温馨提示】**\n\n对 $2^{32}$ 取模，可以直接用无符号 `32` 位整形的数据类型进行运算。在 `c++` 中就是 `unsigned int`。\n\n~~也就是【直接自然溢出啥事没有】。~~", "locale": "zh-CN"}}}
{"pid": "P6563", "type": "P", "difficulty": 6, "samples": [["1\n2\n1 2", "1"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2020", "单调队列", "O2优化", "洛谷比赛"], "title": "[SBCOI2020] 一直在你身旁", "background": "转眼间，又到春天...  \n站在这里，我才发现，  \n原来，我的心，  \n已与那座被光玉守护的小镇相连。   \n......  \n“又到了一年春天啊...”  \n“看来，你已经准备留在这里了呢。”  \n“其实，我也没有什么远大的理想，只是努力地维持着现状...”  \n“不过，只要能实现自己的梦想，这又有什么关系啊...”  \n“但是现在，我真的是非常的开心。就像你说的那样，找到了很多快乐的事情...”  \n“我也和你一样，处在同一个世界。世界上没有一成不变的事物。\n所以只要以其他方式找到自己的快乐就行了...”  \n“对啊，是时候开始新的生活了呢......”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/frgxpnaw.png)  \n\n“你对这个小镇真是执着呢...”  \n“因为，这里满是我不想忘记的回忆啊...”  ", "description": "回到这座小镇后，她的新工作是维修电线。    \n现在，有一根电线坏了。已知电线长度可能为 $1,2,\\cdots,n$ 中的一个数。现在，她需要知道电线的长度。  \n她可以花费 $a_i$ 块钱购买长度为 $i$ 的电线。购买这根电线后，她能知道所需要的电线长度是否 **大于** $i$。  \n保证 $a_1 \\le a_2 \\le \\cdots \\le a_n \\le 10^9$。  \n问她至少要花多少钱才能保证知道需要电线的长度。  ", "inputFormat": "**本题有多组数据**。\n\n第一行为一个正整数 $T$ 表示数据组数。\n\n接下来，每组数据，一行一个整数 $n$，接下来一行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "$T$ 行，每行输出一个答案。", "hint": "【样例解释】\n\n买一根长度为 $1$ 的电线，就能知道需要的长度是否大于 $1$，也就能确定是 $1$ 还是 $2$，所以答案就是 $1$。\n\n大样例[链接](https://www.luogu.com.cn/paste/csusv11e)。\n\n【数据范围】\n\n本题捆绑测试，共有 $4$ 个子任务。\n\n$(Subtask 1)(10\\%)$，$n \\le 15$。\n\n\n$(Subtask 2)(10\\%)$，$n \\le 500$。\n\n$(Subtask 3)(30\\%)$，$n \\le 2000$。\n\n\n$(Subtask 4)(50\\%)$，没有任何额外限制。\n\n对于100%的数据点, $ 1 \\le n,\\sum n \\leq 7100,T \\leq 500 $。$\\sum n$ 表示所有数据中 $n$ 的和。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SBCOI2020] 一直在你身旁", "background": "转眼间，又到春天...  \n站在这里，我才发现，  \n原来，我的心，  \n已与那座被光玉守护的小镇相连。   \n......  \n“又到了一年春天啊...”  \n“看来，你已经准备留在这里了呢。”  \n“其实，我也没有什么远大的理想，只是努力地维持着现状...”  \n“不过，只要能实现自己的梦想，这又有什么关系啊...”  \n“但是现在，我真的是非常的开心。就像你说的那样，找到了很多快乐的事情...”  \n“我也和你一样，处在同一个世界。世界上没有一成不变的事物。\n所以只要以其他方式找到自己的快乐就行了...”  \n“对啊，是时候开始新的生活了呢......”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/frgxpnaw.png)  \n\n“你对这个小镇真是执着呢...”  \n“因为，这里满是我不想忘记的回忆啊...”  ", "description": "回到这座小镇后，她的新工作是维修电线。    \n现在，有一根电线坏了。已知电线长度可能为 $1,2,\\cdots,n$ 中的一个数。现在，她需要知道电线的长度。  \n她可以花费 $a_i$ 块钱购买长度为 $i$ 的电线。购买这根电线后，她能知道所需要的电线长度是否 **大于** $i$。  \n保证 $a_1 \\le a_2 \\le \\cdots \\le a_n \\le 10^9$。  \n问她至少要花多少钱才能保证知道需要电线的长度。  ", "inputFormat": "**本题有多组数据**。\n\n第一行为一个正整数 $T$ 表示数据组数。\n\n接下来，每组数据，一行一个整数 $n$，接下来一行 $n$ 个整数 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "$T$ 行，每行输出一个答案。", "hint": "【样例解释】\n\n买一根长度为 $1$ 的电线，就能知道需要的长度是否大于 $1$，也就能确定是 $1$ 还是 $2$，所以答案就是 $1$。\n\n大样例[链接](https://www.luogu.com.cn/paste/csusv11e)。\n\n【数据范围】\n\n本题捆绑测试，共有 $4$ 个子任务。\n\n$(Subtask 1)(10\\%)$，$n \\le 15$。\n\n\n$(Subtask 2)(10\\%)$，$n \\le 500$。\n\n$(Subtask 3)(30\\%)$，$n \\le 2000$。\n\n\n$(Subtask 4)(50\\%)$，没有任何额外限制。\n\n对于100%的数据点, $ 1 \\le n,\\sum n \\leq 7100,T \\leq 500 $。$\\sum n$ 表示所有数据中 $n$ 的和。", "locale": "zh-CN"}}}
{"pid": "P6564", "type": "P", "difficulty": 5, "samples": [["5\n1 1 2 5 4", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2007", "线段树", "树状数组", "POI（波兰）", "O2优化"], "title": "[POI 2007] 堆积木KLO", "background": "", "description": "PinkRabbit 从他的 npy 那里得到了一个由 $n$ 块积木叠成的高塔，每块积木上都写有一个数字。我们记从下往上第 $i$ 块积木上面的数为 $a_i$，将一个满足积木上的数为 $a_1,a_2,\\dots,a_n$ 的高塔用 $\\{a_1,a_2,\\dots,a_n\\}$ 直接表示，则 PinkRabbit 认为高塔 $\\{a_1,a_2,\\dots,a_m\\}$ 价值为 $\\sum_{i=1}^m [a_i = i]$。\n\nPinkRabbit 可以删除当前高塔中的若干个积木，其余的积木受重力影响会下落到不能下落为止。如果将高塔 $\\{1,1,2,4,5\\}$ 中从下往上第二个积木删去，那么可以得到高塔 $\\{1,2,4,5\\}$，新高塔的价值为 $2$。\n\nPinkRabbit 想删除当前高塔中任意个积木，使得最终得到的高塔价值最大。由于他是人赢，所以他指定你来回答这个问题。", "inputFormat": "第一行一个正整数 $n$，表示初始高塔的高度。  \n第二行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$，其中 $a_i$ 表示初始状态从下往上第 $i$ 个积木上的数字。", "outputFormat": "一行一个整数，表示可以得到的最大价值。", "hint": "**样例 1 解释**  \n初始状态 $\\{1,1,2,5,4\\}$ 仅有 $a_1$ 满足 $a_i=i$，总价值为 $1$。  \n删去从下往上第二个积木，得到状态 $\\{1,2,5,4\\}$，$a_1,a_2,a_4$ 均满足 $a_i=i$，总价值为 $3$。  \n容易证明不存在更优的方案。\n\n\n**数据规模与约定**  \n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2007] 堆积木KLO", "background": "", "description": "PinkRabbit 从他的 npy 那里得到了一个由 $n$ 块积木叠成的高塔，每块积木上都写有一个数字。我们记从下往上第 $i$ 块积木上面的数为 $a_i$，将一个满足积木上的数为 $a_1,a_2,\\dots,a_n$ 的高塔用 $\\{a_1,a_2,\\dots,a_n\\}$ 直接表示，则 PinkRabbit 认为高塔 $\\{a_1,a_2,\\dots,a_m\\}$ 价值为 $\\sum_{i=1}^m [a_i = i]$。\n\nPinkRabbit 可以删除当前高塔中的若干个积木，其余的积木受重力影响会下落到不能下落为止。如果将高塔 $\\{1,1,2,4,5\\}$ 中从下往上第二个积木删去，那么可以得到高塔 $\\{1,2,4,5\\}$，新高塔的价值为 $2$。\n\nPinkRabbit 想删除当前高塔中任意个积木，使得最终得到的高塔价值最大。由于他是人赢，所以他指定你来回答这个问题。", "inputFormat": "第一行一个正整数 $n$，表示初始高塔的高度。  \n第二行 $n$ 个正整数 $a_1,a_2,\\dots,a_n$，其中 $a_i$ 表示初始状态从下往上第 $i$ 个积木上的数字。", "outputFormat": "一行一个整数，表示可以得到的最大价值。", "hint": "**样例 1 解释**  \n初始状态 $\\{1,1,2,5,4\\}$ 仅有 $a_1$ 满足 $a_i=i$，总价值为 $1$。  \n删去从下往上第二个积木，得到状态 $\\{1,2,5,4\\}$，$a_1,a_2,a_4$ 均满足 $a_i=i$，总价值为 $3$。  \n容易证明不存在更优的方案。\n\n\n**数据规模与约定**  \n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^6$。", "locale": "zh-CN"}}}
