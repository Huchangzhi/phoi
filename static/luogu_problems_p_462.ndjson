{"pid": "P10370", "type": "P", "difficulty": 5, "samples": [["2\n2\n0 1\n3\n1 0 2", "Yes\nNo"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["O2优化", "Ad-hoc", "洛谷比赛"], "title": "「LAOI-4」Mex Tower (Hard ver.)", "background": "**本题与 Easy Version 的区别为本题需判断方案的合法性。**\n\n**保证本题所有的测试点时空限制均为 std 的 $2.5$ 倍及以上**。\n", "description": "\n定义 $\\operatorname{mex}(x, y)$ 表示在集合 $\\{x, y\\}$ 中最小的未出现的 **自然数**。例如，$\\operatorname{mex}(1, 5) = 0$，$\\operatorname{mex}(3, 0) = 1$。\n\n继而，我们定义对自然数序列 $a_1\\dots a_n$ 的一次操作，是将序列 $a$ 替换为 **长度为 $\\bm{n - 1}$ 的** 序列 $a'_1\\dots a'_{n-1}$，其中 $a'_i = \\operatorname{mex}(a_i, a_{i+1})$。\n\n一个长度为 $n$ 的整数序列 $a_1\\dots a_n$，满足 $0 \\leq a_i \\leq 10^9$；然后依次对它进行 $n - 1$ 次操作。显然最终序列 $a$ 只会剩下一个数，定义这最终一个数的值成为 **该序列的价值**，记为 $f(a)$。\n\n请问对于给定的 $n$ 和 $a$ 序列，是否对于所有长度为 $n$ 的自然数序列 $b$，$f(a)\\ge f(b)$。\n", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据，第一行一个正整数 $n$。\n\n接下来 $n$ 个整数，表示序列 $a$。", "outputFormat": "对于每组数据，一行一个字符串 `Yes` 或 `No`。", "hint": "## 提示\n\n### 样例解释\n\n对于 $n = 2$，$f(a)=2$。可以证明，对于所有长度为 $2$ 的 $b$ 序列满足 $f(b)\\le 2$。\n\n对于 $n = 3$，$f(a)=0$，存在序列 $b=[114,514,1919]$，$f(b)=1>0$。\n\n### 数据规模与约定\n\n**「本题采用捆绑测试」**\n\n| $\\text{Subtask}$ | $\\sum n \\le$|  特殊性质  | 总分值 |\n| :--------------: | :-----: |:-----: | :--------: |\n|       $1$        |  $10^3$ | 无| $10$ |\n$2$        | $5\\cdot 10^5$  | $\\text{A}$ | $5$ |\n|       $3$        | $5\\cdot 10^5$  | $\\text{B}$ | $10$ |\n|       $4$        | $5\\cdot 10^5$ | $a_i< 2$ | $15$ |\n|       $5$        | $10^6$ | 无 | $20$ |\n|       $6$        | $3\\cdot 10^6$ |     无     | $40$ |\n\n特殊性质 $\\text{A}$：保证 $a_i=i$。\n\n特殊性质 $\\text{B}$：保证 $a_i=i\\bmod 3$。\n\n对于所有数据，保证 $1 \\leq T \\leq 10^4$，$n > 1$，$\\sum n \\leq 3\\cdot 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「LAOI-4」Mex Tower (Hard ver.)", "background": "**本题与 Easy Version 的区别为本题需判断方案的合法性。**\n\n**保证本题所有的测试点时空限制均为 std 的 $2.5$ 倍及以上**。\n", "description": "\n定义 $\\operatorname{mex}(x, y)$ 表示在集合 $\\{x, y\\}$ 中最小的未出现的 **自然数**。例如，$\\operatorname{mex}(1, 5) = 0$，$\\operatorname{mex}(3, 0) = 1$。\n\n继而，我们定义对自然数序列 $a_1\\dots a_n$ 的一次操作，是将序列 $a$ 替换为 **长度为 $\\bm{n - 1}$ 的** 序列 $a'_1\\dots a'_{n-1}$，其中 $a'_i = \\operatorname{mex}(a_i, a_{i+1})$。\n\n一个长度为 $n$ 的整数序列 $a_1\\dots a_n$，满足 $0 \\leq a_i \\leq 10^9$；然后依次对它进行 $n - 1$ 次操作。显然最终序列 $a$ 只会剩下一个数，定义这最终一个数的值成为 **该序列的价值**，记为 $f(a)$。\n\n请问对于给定的 $n$ 和 $a$ 序列，是否对于所有长度为 $n$ 的自然数序列 $b$，$f(a)\\ge f(b)$。\n", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据，第一行一个正整数 $n$。\n\n接下来 $n$ 个整数，表示序列 $a$。", "outputFormat": "对于每组数据，一行一个字符串 `Yes` 或 `No`。", "hint": "## 提示\n\n### 样例解释\n\n对于 $n = 2$，$f(a)=2$。可以证明，对于所有长度为 $2$ 的 $b$ 序列满足 $f(b)\\le 2$。\n\n对于 $n = 3$，$f(a)=0$，存在序列 $b=[114,514,1919]$，$f(b)=1>0$。\n\n### 数据规模与约定\n\n**「本题采用捆绑测试」**\n\n| $\\text{Subtask}$ | $\\sum n \\le$|  特殊性质  | 总分值 |\n| :--------------: | :-----: |:-----: | :--------: |\n|       $1$        |  $10^3$ | 无| $10$ |\n$2$        | $5\\cdot 10^5$  | $\\text{A}$ | $5$ |\n|       $3$        | $5\\cdot 10^5$  | $\\text{B}$ | $10$ |\n|       $4$        | $5\\cdot 10^5$ | $a_i< 2$ | $15$ |\n|       $5$        | $10^6$ | 无 | $20$ |\n|       $6$        | $3\\cdot 10^6$ |     无     | $40$ |\n\n特殊性质 $\\text{A}$：保证 $a_i=i$。\n\n特殊性质 $\\text{B}$：保证 $a_i=i\\bmod 3$。\n\n对于所有数据，保证 $1 \\leq T \\leq 10^4$，$n > 1$，$\\sum n \\leq 3\\cdot 10^6$。", "locale": "zh-CN"}}}
{"pid": "P10371", "type": "P", "difficulty": 5, "samples": [["5 114514", "9"], ["10 113037", "23"], ["20 73555", "49"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "链表", "单调栈", "洛谷比赛"], "title": "「LAOI-4」石头", "background": "", "description": "有一个长度为 $n$ 的排列 $a$，初始可以任意染白一个数，然后接下来每一步可以染白最小的一个与已经被染白的数相邻的数，显然 $n$ 步之后所有数都会被染白。\n\n现在我们称满足以下要求的数对 $(i,j)$ 是好的数对：\n\n- $1\\leq i\\leq j\\leq n$。\n- 存在一个 $k$，满足若从 $a_i$ 开始染白，$a_j$ 会在第 $k$ 步被染白；若从 $a_j$ 开始染白，$a_i$ 也会在第 $k$ 步被染白。\n\n求好的数对的数量。", "inputFormat": "由于输入数据过大，现给出数据辅助生成器。\n\n```cpp\nint a[/*数组大小*/];\nnamespace GenHelper\n{\n    unsigned z1, z2, z3, z4, b;\n    unsigned rand_()\n    {\n        b = ((z1 << 6) ^ z1) >> 13;\n        z1 = ((z1 & 4294967294U) << 18) ^ b;\n        b = ((z2 << 2) ^ z2) >> 27;\n        z2 = ((z2 & 4294967288U) << 2) ^ b;\n        b = ((z3 << 13) ^ z3) >> 21;\n        z3 = ((z3 & 4294967280U) << 7) ^ b;\n        b = ((z4 << 3) ^ z4) >> 12;\n        z4 = ((z4 & 4294967168U) << 13) ^ b;\n        return (z1 ^ z2 ^ z3 ^ z4);\n    }\n}\nvoid srand_(unsigned x, int n)\n{\n    using namespace GenHelper;\n    z1 = x;\n    z2 = (~x) ^ 0x233333333U;\n    z3 = x ^ 0x1234598766U;\n    z4 = (~x) + 51;\n    for (int i = 1; i <= n; ++i)\n        a[i] = i;\n    if (!x)\n        return;\n    for (int i = 1; i <= n; ++i)\n    {\n        int j = rand_() % i + 1, k;\n        k = a[i], a[i] = a[j], a[j] = k;\n    }\n}\n```\n\n输入两个整数 $n$ 和 $s$，分别表示排列长度和随机数种子。\n\n你需要恰好调用一次 `srand_(s,n)`，在此之后 $a_i$ 已经储存在 `a[i]` 中，注意下标从 $1$ 开始，不要忘记规定数组大小。", "outputFormat": "共一行一个正整数，表示好的数对的数量。", "hint": "### 样例解释\n\n对于样例组 #1，$a=\\{4,3,1,5,2\\}$，好的数对分别是：$(1,1),(1,3),(1,5),(2,2),(2,3),(2,4),(3,3),(4,4),(5,5)$。\n\n### 数据范围\n\n**「本题采用捆绑测试」**\n\n|子任务编号|$n$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|\n|$1$|$\\le10^3$|无|$15$|\n|$2$|$\\le10^5$|无|$30$|\n|$3$|$\\le10^7$|$\\text{A}$|$5$|\n|$4$|$\\le10^7$|无|$50$|\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^7$，$0\\leq s\\leq 114514$，$a$ 为 $n$ 的排列。  \n\n特殊性质 $\\text{A}$：$a_i$ 单调递增，此时 $s=0$。  ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「LAOI-4」石头", "background": "", "description": "有一个长度为 $n$ 的排列 $a$，初始可以任意染白一个数，然后接下来每一步可以染白最小的一个与已经被染白的数相邻的数，显然 $n$ 步之后所有数都会被染白。\n\n现在我们称满足以下要求的数对 $(i,j)$ 是好的数对：\n\n- $1\\leq i\\leq j\\leq n$。\n- 存在一个 $k$，满足若从 $a_i$ 开始染白，$a_j$ 会在第 $k$ 步被染白；若从 $a_j$ 开始染白，$a_i$ 也会在第 $k$ 步被染白。\n\n求好的数对的数量。", "inputFormat": "由于输入数据过大，现给出数据辅助生成器。\n\n```cpp\nint a[/*数组大小*/];\nnamespace GenHelper\n{\n    unsigned z1, z2, z3, z4, b;\n    unsigned rand_()\n    {\n        b = ((z1 << 6) ^ z1) >> 13;\n        z1 = ((z1 & 4294967294U) << 18) ^ b;\n        b = ((z2 << 2) ^ z2) >> 27;\n        z2 = ((z2 & 4294967288U) << 2) ^ b;\n        b = ((z3 << 13) ^ z3) >> 21;\n        z3 = ((z3 & 4294967280U) << 7) ^ b;\n        b = ((z4 << 3) ^ z4) >> 12;\n        z4 = ((z4 & 4294967168U) << 13) ^ b;\n        return (z1 ^ z2 ^ z3 ^ z4);\n    }\n}\nvoid srand_(unsigned x, int n)\n{\n    using namespace GenHelper;\n    z1 = x;\n    z2 = (~x) ^ 0x233333333U;\n    z3 = x ^ 0x1234598766U;\n    z4 = (~x) + 51;\n    for (int i = 1; i <= n; ++i)\n        a[i] = i;\n    if (!x)\n        return;\n    for (int i = 1; i <= n; ++i)\n    {\n        int j = rand_() % i + 1, k;\n        k = a[i], a[i] = a[j], a[j] = k;\n    }\n}\n```\n\n输入两个整数 $n$ 和 $s$，分别表示排列长度和随机数种子。\n\n你需要恰好调用一次 `srand_(s,n)`，在此之后 $a_i$ 已经储存在 `a[i]` 中，注意下标从 $1$ 开始，不要忘记规定数组大小。", "outputFormat": "共一行一个正整数，表示好的数对的数量。", "hint": "### 样例解释\n\n对于样例组 #1，$a=\\{4,3,1,5,2\\}$，好的数对分别是：$(1,1),(1,3),(1,5),(2,2),(2,3),(2,4),(3,3),(4,4),(5,5)$。\n\n### 数据范围\n\n**「本题采用捆绑测试」**\n\n|子任务编号|$n$|特殊性质|分值|\n|:-:|:-:|:-:|:-:|\n|$1$|$\\le10^3$|无|$15$|\n|$2$|$\\le10^5$|无|$30$|\n|$3$|$\\le10^7$|$\\text{A}$|$5$|\n|$4$|$\\le10^7$|无|$50$|\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^7$，$0\\leq s\\leq 114514$，$a$ 为 $n$ 的排列。  \n\n特殊性质 $\\text{A}$：$a_i$ 单调递增，此时 $s=0$。  ", "locale": "zh-CN"}}}
{"pid": "P10372", "type": "P", "difficulty": 1, "samples": [["5\n1+1=2\n1+2=2\n15+66=81\n5+37=40\n99+99=99", "Right!\nWrong!\nRight!\nWrong!\nWrong!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2024", "安徽", "O2优化", "科创活动", "初中活动", "科大国创杯"], "title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 家庭作业", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**", "description": "小可可有 $T$ 道形如 $a + b = c$ 的计算题，你要检验她每道题目做的对不对。", "inputFormat": "第一行一个正整数 $T$。\n\n接下来 $T$ 行，每行一个形如 `a+b=c` 的算式。\n\n保证数据格式正确，数字没有前导零，且数字和运算符之间没有空格隔开。\n\n具体格式可参见样例。", "outputFormat": "$T$ 行，如果第 $i$ 个算式正确，则在第 $i$ 行输出 `Right!`，否则在第 $i$ 行输出 `Wrong!`。", "hint": "### 样例 1 解释\n\n搬题人注释：为了不侮辱各位同学的智商，样例不予解释。（出题人的 PDF 中没有样例解释！）\n\n### 数据范围\n\n对于 $40\\%$ 的数据，$a = b = 1$，$c = 2$。\n\n对于 $80\\%$ 的数据，$a,b,c \\le 9$。\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10$，$1 \\le a,b,c \\le 99$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 家庭作业", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**", "description": "小可可有 $T$ 道形如 $a + b = c$ 的计算题，你要检验她每道题目做的对不对。", "inputFormat": "第一行一个正整数 $T$。\n\n接下来 $T$ 行，每行一个形如 `a+b=c` 的算式。\n\n保证数据格式正确，数字没有前导零，且数字和运算符之间没有空格隔开。\n\n具体格式可参见样例。", "outputFormat": "$T$ 行，如果第 $i$ 个算式正确，则在第 $i$ 行输出 `Right!`，否则在第 $i$ 行输出 `Wrong!`。", "hint": "### 样例 1 解释\n\n搬题人注释：为了不侮辱各位同学的智商，样例不予解释。（出题人的 PDF 中没有样例解释！）\n\n### 数据范围\n\n对于 $40\\%$ 的数据，$a = b = 1$，$c = 2$。\n\n对于 $80\\%$ 的数据，$a,b,c \\le 9$。\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10$，$1 \\le a,b,c \\le 99$。", "locale": "zh-CN"}}}
{"pid": "P10373", "type": "P", "difficulty": 2, "samples": [["2\n5\n10", "5\n13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "递推", "2024", "安徽", "O2优化", "前缀和", "分块", "双指针 two-pointer", "科创活动", "初中活动", "科大国创杯"], "title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 立方根", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**\n\n**特别提示：**\n\n1. 请使用 `(int) cbrt(x + 0.5)` 计算 $\\lfloor \\sqrt[3]{x} \\rfloor$ 的值，否则可能会出现精度误差。\n2. 本题包含两组针对时间复杂度为 $O(q\\sqrt[3]{x})$ 的算法的 hack 数据（#11 和 #12）。", "description": "小可可想计算所有不大于 $x$ 的正整数的立方根下取整之和，但是她不会做，你能帮帮她吗？\n\n为了彻底帮小可可弄懂这个问题，你需要回答 $q$ 组询问，对于每组询问给定的一个正整数 $x_i$，输出：\n\n$$\\sum _{j=1} ^{x_i} \\lfloor j^{\\frac{1}{3}} \\rfloor$$\n\n其中，$\\lfloor x \\rfloor$ 表示不大于 $x$ 的最大整数。", "inputFormat": "第一行一个正整数 $q$。\n\n接下来 $q$ 行，第 $i$ 行一个正整数 $x_i$。\n\n**保证给出的 $\\bm{x_1 \\sim x_q}$ 单调不降。**", "outputFormat": "$q$ 行，每行一个正整数，表示该组询问的答案。\n\n**请注意答案的范围。**", "hint": "### 样例 1 解释\n\n$1 \\sim 10$ 的立方根下取整的结果是：$1,1,1,1,1,1,1,2,2,2$。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$x_q,q \\le 1000$。\n\n对于另外 $20\\%$ 的数据，$q=1$。\n\n对于另外 $20\\%$ 的数据，$q \\le 5000$。\n\n对于另外 $20\\%$ 的数据，$q \\le 10^5$，$x_q \\le 10^6$。 \n\n对于 $100\\%$ 的数据，$1 \\le q \\le 2 \\times 10^5$，$1 \\le x_1 \\le x_2 \\le \\ldots \\le x_q \\le 10^{12}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 立方根", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**\n\n**特别提示：**\n\n1. 请使用 `(int) cbrt(x + 0.5)` 计算 $\\lfloor \\sqrt[3]{x} \\rfloor$ 的值，否则可能会出现精度误差。\n2. 本题包含两组针对时间复杂度为 $O(q\\sqrt[3]{x})$ 的算法的 hack 数据（#11 和 #12）。", "description": "小可可想计算所有不大于 $x$ 的正整数的立方根下取整之和，但是她不会做，你能帮帮她吗？\n\n为了彻底帮小可可弄懂这个问题，你需要回答 $q$ 组询问，对于每组询问给定的一个正整数 $x_i$，输出：\n\n$$\\sum _{j=1} ^{x_i} \\lfloor j^{\\frac{1}{3}} \\rfloor$$\n\n其中，$\\lfloor x \\rfloor$ 表示不大于 $x$ 的最大整数。", "inputFormat": "第一行一个正整数 $q$。\n\n接下来 $q$ 行，第 $i$ 行一个正整数 $x_i$。\n\n**保证给出的 $\\bm{x_1 \\sim x_q}$ 单调不降。**", "outputFormat": "$q$ 行，每行一个正整数，表示该组询问的答案。\n\n**请注意答案的范围。**", "hint": "### 样例 1 解释\n\n$1 \\sim 10$ 的立方根下取整的结果是：$1,1,1,1,1,1,1,2,2,2$。\n\n### 数据范围\n\n对于 $20\\%$ 的数据，$x_q,q \\le 1000$。\n\n对于另外 $20\\%$ 的数据，$q=1$。\n\n对于另外 $20\\%$ 的数据，$q \\le 5000$。\n\n对于另外 $20\\%$ 的数据，$q \\le 10^5$，$x_q \\le 10^6$。 \n\n对于 $100\\%$ 的数据，$1 \\le q \\le 2 \\times 10^5$，$1 \\le x_1 \\le x_2 \\le \\ldots \\le x_q \\le 10^{12}$。", "locale": "zh-CN"}}}
{"pid": "P10374", "type": "P", "difficulty": 3, "samples": [["2 3 3\n1 2 3\n1 1 2\n2 1 1\n2 1 2", "8 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "线段树", "树状数组", "2024", "安徽", "O2优化", "差分", "科创活动", "初中活动", "科大国创杯"], "title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 操作", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**", "description": "小可可有一个数组 $\\{a_n\\}$（初始值为 $\\{a_n\\}=\\{0,0,\\ldots,0\\}$）和从左到右的 $m$ 个机器，其中第 $i$ 个机器有类别 $o_i \\in \\{1,2\\}$ 和参数 $x_i,y_i$。第 $i$ 个机器执行的操作如下：\n\n- 若 $o_i=1$，则将 $a_{(x_i)}$ 加上 $y_i$，此时保证 $1 \\le x_i \\le n$，$1 \\le y_i \\le 10^4$。\n- 若 $o_i=2$，则执行第 $x_i \\sim y_i$ 个机器的操作各一次，此时保证 $1 \\le x_i \\le y_i \\le i-1$。\n- 特别地，保证 $o_1=1$。\n\n现在，小可可依次执行了第 $c_1,c_2,\\ldots,c_k$ 个机器的操作各一次，她想知道最后得到的数组 $\\{a_n\\}$ 是什么。\n\n由于数组中元素的值可能很大，你只需要帮她求出每个元素除以 $10007$ 的余数即可。", "inputFormat": "第一行三个正整数 $n,m,k$。\n\n接下来一行 $k$ 个正整数 $\\{c_k\\}$。\n\n接下来 $m$ 行，第 $i$ 行三个正整数 $o_i,x_i,y_i$。", "outputFormat": "一行 $n$ 个非负整数，表示数组 $\\{a_n\\}$ 中每个元素的值除以 $10007$ 的余数。", "hint": "### 样例 1 解释\n\n先执行第 $1$ 个机器的操作，给 $a_1$ 加上了 $2$。\n\n然后执行第 $2$ 个机器的操作，它操作了第 $1$ 个机器，给 $a_1$ 加上了 $2$。\n\n然后执行第 $3$ 个机器的操作。它先操作了第 $1$ 个机器，给 $a_1$ 加上了 $2$；然后操作了第 $2$ 个机器，第 $2$ 个机器又操作了第 $1$ 个机器，给 $a_1$ 加上了 $2$。\n\n综上所述，最后得到的数组为 $\\{8,0\\}$。\n\n### 数据范围\n\n\n对于 $10\\%$ 的数据，$n,m,k \\le 10$。\n\n对于 $30\\%$ 的数据，$n,m,k \\le 1000$。\n\n对于另外 $20\\%$ 的数据，$n=1$。\n\n对于另外 $20\\%$ 的数据，$k=1$。\n\n对于 $100\\%$ 的数据，$1 \\le n,m,k \\le 2 \\times 10^5$，$1 \\le c_i \\le m$，$o_i \\in \\{1,2\\}$，$o_1=1$。此外，对于第 $i$ 个机器，保证：\n\n- 若 $o_i=1$，则 $1 \\le x_i \\le n$，$1 \\le y_i \\le 10^4$。\n- 若 $o_i=2$，则 $1 \\le x_i \\le y_i \\le i-1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 操作", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**", "description": "小可可有一个数组 $\\{a_n\\}$（初始值为 $\\{a_n\\}=\\{0,0,\\ldots,0\\}$）和从左到右的 $m$ 个机器，其中第 $i$ 个机器有类别 $o_i \\in \\{1,2\\}$ 和参数 $x_i,y_i$。第 $i$ 个机器执行的操作如下：\n\n- 若 $o_i=1$，则将 $a_{(x_i)}$ 加上 $y_i$，此时保证 $1 \\le x_i \\le n$，$1 \\le y_i \\le 10^4$。\n- 若 $o_i=2$，则执行第 $x_i \\sim y_i$ 个机器的操作各一次，此时保证 $1 \\le x_i \\le y_i \\le i-1$。\n- 特别地，保证 $o_1=1$。\n\n现在，小可可依次执行了第 $c_1,c_2,\\ldots,c_k$ 个机器的操作各一次，她想知道最后得到的数组 $\\{a_n\\}$ 是什么。\n\n由于数组中元素的值可能很大，你只需要帮她求出每个元素除以 $10007$ 的余数即可。", "inputFormat": "第一行三个正整数 $n,m,k$。\n\n接下来一行 $k$ 个正整数 $\\{c_k\\}$。\n\n接下来 $m$ 行，第 $i$ 行三个正整数 $o_i,x_i,y_i$。", "outputFormat": "一行 $n$ 个非负整数，表示数组 $\\{a_n\\}$ 中每个元素的值除以 $10007$ 的余数。", "hint": "### 样例 1 解释\n\n先执行第 $1$ 个机器的操作，给 $a_1$ 加上了 $2$。\n\n然后执行第 $2$ 个机器的操作，它操作了第 $1$ 个机器，给 $a_1$ 加上了 $2$。\n\n然后执行第 $3$ 个机器的操作。它先操作了第 $1$ 个机器，给 $a_1$ 加上了 $2$；然后操作了第 $2$ 个机器，第 $2$ 个机器又操作了第 $1$ 个机器，给 $a_1$ 加上了 $2$。\n\n综上所述，最后得到的数组为 $\\{8,0\\}$。\n\n### 数据范围\n\n\n对于 $10\\%$ 的数据，$n,m,k \\le 10$。\n\n对于 $30\\%$ 的数据，$n,m,k \\le 1000$。\n\n对于另外 $20\\%$ 的数据，$n=1$。\n\n对于另外 $20\\%$ 的数据，$k=1$。\n\n对于 $100\\%$ 的数据，$1 \\le n,m,k \\le 2 \\times 10^5$，$1 \\le c_i \\le m$，$o_i \\in \\{1,2\\}$，$o_1=1$。此外，对于第 $i$ 个机器，保证：\n\n- 若 $o_i=1$，则 $1 \\le x_i \\le n$，$1 \\le y_i \\le 10^4$。\n- 若 $o_i=2$，则 $1 \\le x_i \\le y_i \\le i-1$。", "locale": "zh-CN"}}}
{"pid": "P10375", "type": "P", "difficulty": 6, "samples": [["3 2", "4"], ["6 3", "405"], ["30 2", "73741759"], ["100 100", "566607183"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "安徽", "O2优化", "DP 套 DP", "科创活动", "初中活动", "科大国创杯"], "title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 计数", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**", "description": "小可可做了一个梦，梦里从左到右有 $n$ 个糖果，每种糖果有一个颜色，用 $[1, m]$ 之间的一个正整数表示。\n\n小可可每次会选择两个颜色相同的糖果，把它们以及它们之间的所有糖果吃掉。\n\n小可可记得，对于梦里的糖果序列，存在一种方法把所有糖果吃完。\n\n小可可醒来后忘记了梦中的糖果序列是什么，你能帮她求求在所有 $m^n$ 个可能的糖果序列中，有多少个糖果序列可能在小可可梦中（即存在一种全部吃完的方式）吗？\n\n由于结果可能很大，你只要求出它除以 $10^9+7$ 得到的余数即可。 ", "inputFormat": "一行两个正整数 $n,m$。", "outputFormat": "一行一个非负整数，表示答案除以 $10^9+7$ 得到的余数。", "hint": "### 样例 1 解释\n\n一共有 $4$ 个合法的糖果序列：$[1,1,1],[1,2,1],[2,1,2],[2,2,2]$。\n\n### 数据范围\n\n对于 $10\\%$ 的数据，$n \\le 6$，$m \\le 4$。\n\n对于 $20\\%$ 的数据，$n \\le 6$，$m \\le 100$。\n\n对于另外 $30\\%$ 的数据，$n \\le 50$，$m \\le 2$。\n\n对于 $70\\%$ 的数据，$n,m \\le 100$。\n\n对于 $80\\%$ 的数据，$n,m \\le 1000$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 3000$，$1 \\le m \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[AHOI2024 初中组 / 科大国创杯初中组 2024] 计数", "background": "**本题的数据不是官方数据。**\n\n**本题征集（能够上传到这里的）官方数据。**\n\n**（没法上传到这里的）官方数据：<https://www.luogu.com.cn/training/499869>**\n\n**本题民间数据下载：<http://8.136.99.126/blog/3/67f0c2307aadac7b413b837b>**", "description": "小可可做了一个梦，梦里从左到右有 $n$ 个糖果，每种糖果有一个颜色，用 $[1, m]$ 之间的一个正整数表示。\n\n小可可每次会选择两个颜色相同的糖果，把它们以及它们之间的所有糖果吃掉。\n\n小可可记得，对于梦里的糖果序列，存在一种方法把所有糖果吃完。\n\n小可可醒来后忘记了梦中的糖果序列是什么，你能帮她求求在所有 $m^n$ 个可能的糖果序列中，有多少个糖果序列可能在小可可梦中（即存在一种全部吃完的方式）吗？\n\n由于结果可能很大，你只要求出它除以 $10^9+7$ 得到的余数即可。 ", "inputFormat": "一行两个正整数 $n,m$。", "outputFormat": "一行一个非负整数，表示答案除以 $10^9+7$ 得到的余数。", "hint": "### 样例 1 解释\n\n一共有 $4$ 个合法的糖果序列：$[1,1,1],[1,2,1],[2,1,2],[2,2,2]$。\n\n### 数据范围\n\n对于 $10\\%$ 的数据，$n \\le 6$，$m \\le 4$。\n\n对于 $20\\%$ 的数据，$n \\le 6$，$m \\le 100$。\n\n对于另外 $30\\%$ 的数据，$n \\le 50$，$m \\le 2$。\n\n对于 $70\\%$ 的数据，$n,m \\le 100$。\n\n对于 $80\\%$ 的数据，$n,m \\le 1000$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 3000$，$1 \\le m \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10376", "type": "P", "difficulty": 2, "samples": [["1 1 1 1", "1"], ["114 51 4 1", "176"], ["114514 191 9 810", "384178446"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2024", "深度优先搜索 DFS", "记忆化搜索", "GESP"], "title": "[GESP202403 六级] 游戏", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1146>", "description": "你有四个正整数 $n,a,b,c$，并准备用它们玩一个简单的小游戏。\n\n在一轮游戏操作中，你可以选择将 $n$ 减去 $a$，或是将 $n$ 减去 $b$。游戏将会进行多轮操作，直到当 $n \\leq c$ 时游戏结束。\n\n你想知道游戏结束时有多少种不同的游戏操作序列。两种游戏操作序列不同，当且仅当游戏操作轮数不同，或是某一轮游戏操作中，一种操作序列选择将 $n$ 减去 $a$，而另一种操作序列选择将 $n$ 减去 $b$。如果 $a=b$，也认为将 $n$ 减去 $a$ 与将 $n$ 减去 $b$ 是不同的操作。\n\n由于答案可能很大，你只需要求出答案对 $10^9 + 7$ 取模的结果。", "inputFormat": "\n一行四个整数 $n,a,b,c$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 数据规模与约定\n\n\n- 对 $20\\%$ 的数据，$a=b=c=1$，$n \\leq 30$。\n- 对 $40\\%$ 的数据，$c = 1$，$n \\leq 10^3$。\n- 对全部的测试数据，保证 $1 \\leq a,b,c \\leq n \\leq 2 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202403 六级] 游戏", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1146>", "description": "你有四个正整数 $n,a,b,c$，并准备用它们玩一个简单的小游戏。\n\n在一轮游戏操作中，你可以选择将 $n$ 减去 $a$，或是将 $n$ 减去 $b$。游戏将会进行多轮操作，直到当 $n \\leq c$ 时游戏结束。\n\n你想知道游戏结束时有多少种不同的游戏操作序列。两种游戏操作序列不同，当且仅当游戏操作轮数不同，或是某一轮游戏操作中，一种操作序列选择将 $n$ 减去 $a$，而另一种操作序列选择将 $n$ 减去 $b$。如果 $a=b$，也认为将 $n$ 减去 $a$ 与将 $n$ 减去 $b$ 是不同的操作。\n\n由于答案可能很大，你只需要求出答案对 $10^9 + 7$ 取模的结果。", "inputFormat": "\n一行四个整数 $n,a,b,c$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 数据规模与约定\n\n\n- 对 $20\\%$ 的数据，$a=b=c=1$，$n \\leq 30$。\n- 对 $40\\%$ 的数据，$c = 1$，$n \\leq 10^3$。\n- 对全部的测试数据，保证 $1 \\leq a,b,c \\leq n \\leq 2 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P10377", "type": "P", "difficulty": 2, "samples": [["2\n1 2\n1 2\n", "4"], ["3\n1 2 3\n3 2 1\n", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "2024", "GESP"], "title": "[GESP202403 六级] 好斗的牛", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1146>", "description": "\n你有 $10^9$ 个牛棚，从左到右一字排开。你希望把 $n$ 头牛安置到牛棚里。麻烦的是，你的牛很好斗，如果他们附近有其他的牛，他们就会不安分地去挑事。其中，第 $i$ 头牛的攻击范围是 $(a_i, b_i)$，这意味着，如果他的左边 $a_i$ 个牛棚或者右边 $b_i$ 个牛棚有其他牛，它就会去挑事。\n\n你想留下一段连续的牛棚，并把其他牛棚都卖掉。请问您最少需要留下多少牛棚，才能保证至少存在一种方案能够把所有的 $n$ 头牛都安置进剩余的牛棚里，且没有牛会挑事？", "inputFormat": "\n第一行一个正整数 $n$。  \n第二行 $n$ 个正整数 $a_1, a_2, \\dots a_n$。  \n第三行 $n$ 个正整数 $b_1, b_2, \\dots b_n$。\n", "outputFormat": "\n输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n\n留下第 1、2、3、4 个牛棚，并在第 $1$、$4$ 两个牛棚分别放下两头牛。\n\n### 数据规模与约定\n- 对 $20\\%$ 的数据，保证 $n = 2$。\n- 另有 $20\\%$ 的数据，保证 $n = 3$。\n- 对 $80\\%$ 的数据，保证 $n \\leq 8$。\n- 对于所有的测试数据，保证 $1 \\leq n \\leq 9$，$1 \\leq a_i, b_i \\leq 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202403 六级] 好斗的牛", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1146>", "description": "\n你有 $10^9$ 个牛棚，从左到右一字排开。你希望把 $n$ 头牛安置到牛棚里。麻烦的是，你的牛很好斗，如果他们附近有其他的牛，他们就会不安分地去挑事。其中，第 $i$ 头牛的攻击范围是 $(a_i, b_i)$，这意味着，如果他的左边 $a_i$ 个牛棚或者右边 $b_i$ 个牛棚有其他牛，它就会去挑事。\n\n你想留下一段连续的牛棚，并把其他牛棚都卖掉。请问您最少需要留下多少牛棚，才能保证至少存在一种方案能够把所有的 $n$ 头牛都安置进剩余的牛棚里，且没有牛会挑事？", "inputFormat": "\n第一行一个正整数 $n$。  \n第二行 $n$ 个正整数 $a_1, a_2, \\dots a_n$。  \n第三行 $n$ 个正整数 $b_1, b_2, \\dots b_n$。\n", "outputFormat": "\n输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n\n留下第 1、2、3、4 个牛棚，并在第 $1$、$4$ 两个牛棚分别放下两头牛。\n\n### 数据规模与约定\n- 对 $20\\%$ 的数据，保证 $n = 2$。\n- 另有 $20\\%$ 的数据，保证 $n = 3$。\n- 对 $80\\%$ 的数据，保证 $n \\leq 8$。\n- 对于所有的测试数据，保证 $1 \\leq n \\leq 9$，$1 \\leq a_i, b_i \\leq 10^3$。", "locale": "zh-CN"}}}
{"pid": "P10378", "type": "P", "difficulty": 3, "samples": [["4 3\n1 2\n2 3\n4 2\n", "1 3"], ["7 5\n1 2\n2 3\n4 2\n5 6\n6 7\n", "2 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "图论", "并查集", "2024", "图论建模", "二分图", "GESP"], "title": "[GESP202403 七级] 交流问题", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1147>", "description": "来自两所学校 $A$、$B$ 的 $n$ 名同学聚在一起相互交流。为了方便起见，我们把这些同学从 $1$ 至 $n$ 编号。他们共进行了 $m$ 次交流，第 $i$ 次交流中，编号为 $u_i, v_i$ 的同学相互探讨了他们感兴趣的话题，并结交成为了新的朋友。\n\n由于这次交流会的目的是促进两校友谊，因此只有不同学校的同学之间会交流。同校同学并不会互相交流。\n\n作为 $A$ 校顾问，你对 $B$ 校的规模非常感兴趣，你希望求出 $B$ 校至少有几名同学、至多有几名同学。", "inputFormat": "第一行两个正整数，表示同学的人数 $n$、交流的次数 $m$。  \n接下来 $m$ 行，每行两个整数 $u_i, v_i$，表示一次交流。  ", "outputFormat": "输出一行两个整数，用单个空格隔开，分别表示 $B$ 校至少有几名同学、至多有几名同学。", "hint": "### 数据规模与约定\n\n- 对 $30\\%$ 的数据，保证 $n \\leq 17$，$m \\leq 50$。\n- 对 $60\\%$ 的数据，保证 $n \\leq 500$，$m \\leq 2000$。\n- 对全部的测试数据，保证 $1 \\leq u_i, v_i \\leq n \\leq 10^5$，$1 \\leq m \\leq 2\\times 10^5$，输入是合法的，即交流一定是跨校开展的。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202403 七级] 交流问题", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1147>", "description": "来自两所学校 $A$、$B$ 的 $n$ 名同学聚在一起相互交流。为了方便起见，我们把这些同学从 $1$ 至 $n$ 编号。他们共进行了 $m$ 次交流，第 $i$ 次交流中，编号为 $u_i, v_i$ 的同学相互探讨了他们感兴趣的话题，并结交成为了新的朋友。\n\n由于这次交流会的目的是促进两校友谊，因此只有不同学校的同学之间会交流。同校同学并不会互相交流。\n\n作为 $A$ 校顾问，你对 $B$ 校的规模非常感兴趣，你希望求出 $B$ 校至少有几名同学、至多有几名同学。", "inputFormat": "第一行两个正整数，表示同学的人数 $n$、交流的次数 $m$。  \n接下来 $m$ 行，每行两个整数 $u_i, v_i$，表示一次交流。  ", "outputFormat": "输出一行两个整数，用单个空格隔开，分别表示 $B$ 校至少有几名同学、至多有几名同学。", "hint": "### 数据规模与约定\n\n- 对 $30\\%$ 的数据，保证 $n \\leq 17$，$m \\leq 50$。\n- 对 $60\\%$ 的数据，保证 $n \\leq 500$，$m \\leq 2000$。\n- 对全部的测试数据，保证 $1 \\leq u_i, v_i \\leq n \\leq 10^5$，$1 \\leq m \\leq 2\\times 10^5$，输入是合法的，即交流一定是跨校开展的。", "locale": "zh-CN"}}}
{"pid": "P10379", "type": "P", "difficulty": 3, "samples": [["5 6\n1 2 3 4 4 5\n1 2 3 3 4 5\n1 2 2 3 4 5\n1 6 6 7 7 8\n6 6 7 7 8 8\n", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "2024", "GESP"], "title": "[GESP202403 七级] 俄罗斯方块", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1147>", "description": "小杨同学用不同种类的俄罗斯方块填满了一个大小为 $n \\times m$ 的网格图。\n\n网格图由 $n \\times m$ 个带颜色方块构成。小杨同学现在将这个网格图交给了你，请你计算出网格图中俄罗斯方块的种类数。  \n如果两个同色方块是四连通（即上下左右四个相邻的位置）的，则称两个同色方块直接连通；若两个同色方块同时与另一个同色方块直接或间接连通，则称两个同色方块间接连通。一个俄罗斯方块由一个方块和所有与其直接或间接连接的同色方块组成。定义两个俄罗斯方块的种类相同当且仅当通过**平移**其中一个俄罗斯方块可以和另一个俄罗斯方块重合；如果两个俄罗斯方块颜色不同，仍然视为同一种俄罗斯方块。\n\n例如，在如下情况中，方块 $1$ 和方块 $2$ 是同一种俄罗斯方块，而方块 $1$ 和方块 $3$ **不是**同一种俄罗斯方块。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ttv3nmgs.png)", "inputFormat": "第一行包含两个正整数 $n$ 和 $m$，表示网格图的大小。  \n对于之后的 $n$ 行，第 $i$ 行包含 $m$ 个正整数 $a_{i1}, a_{i2}, \\dots a_{im}$，表示该行 $m$ 个方块的颜色。\n", "outputFormat": "\n输出一行一个整数表示答案。", "hint": "| 子任务 | 分数 | $n,m \\leq$ | 特殊约定 | \n| :-: | :-: | :-: | :-: |\n| $1$ | $30$ | $20$ | 所有俄罗斯方块大小不超过 $5 \\times 5$ |\n| $2$ | $30$ | $500$ | 所有俄罗斯方块大小均为 $1 \\times x$ 或 $x \\times 1$ 类型，其中 $x$ 是任意正整数|\n| $3$ | $40$ | $500$ | 无 |\n\n对全部的测试数据，保证 $1 \\leq n, m \\leq 500$，$1 \\leq a_{i,j} \\leq n \\times m$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GESP202403 七级] 俄罗斯方块", "background": "对应的选择、判断题：<https://ti.luogu.com.cn/problemset/1147>", "description": "小杨同学用不同种类的俄罗斯方块填满了一个大小为 $n \\times m$ 的网格图。\n\n网格图由 $n \\times m$ 个带颜色方块构成。小杨同学现在将这个网格图交给了你，请你计算出网格图中俄罗斯方块的种类数。  \n如果两个同色方块是四连通（即上下左右四个相邻的位置）的，则称两个同色方块直接连通；若两个同色方块同时与另一个同色方块直接或间接连通，则称两个同色方块间接连通。一个俄罗斯方块由一个方块和所有与其直接或间接连接的同色方块组成。定义两个俄罗斯方块的种类相同当且仅当通过**平移**其中一个俄罗斯方块可以和另一个俄罗斯方块重合；如果两个俄罗斯方块颜色不同，仍然视为同一种俄罗斯方块。\n\n例如，在如下情况中，方块 $1$ 和方块 $2$ 是同一种俄罗斯方块，而方块 $1$ 和方块 $3$ **不是**同一种俄罗斯方块。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ttv3nmgs.png)", "inputFormat": "第一行包含两个正整数 $n$ 和 $m$，表示网格图的大小。  \n对于之后的 $n$ 行，第 $i$ 行包含 $m$ 个正整数 $a_{i1}, a_{i2}, \\dots a_{im}$，表示该行 $m$ 个方块的颜色。\n", "outputFormat": "\n输出一行一个整数表示答案。", "hint": "| 子任务 | 分数 | $n,m \\leq$ | 特殊约定 | \n| :-: | :-: | :-: | :-: |\n| $1$ | $30$ | $20$ | 所有俄罗斯方块大小不超过 $5 \\times 5$ |\n| $2$ | $30$ | $500$ | 所有俄罗斯方块大小均为 $1 \\times x$ 或 $x \\times 1$ 类型，其中 $x$ 是任意正整数|\n| $3$ | $40$ | $500$ | 无 |\n\n对全部的测试数据，保证 $1 \\leq n, m \\leq 500$，$1 \\leq a_{i,j} \\leq n \\times m$。", "locale": "zh-CN"}}}
{"pid": "P10380", "type": "P", "difficulty": 4, "samples": [["3 2 37", "18"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "「ALFR Round 1」D 小山的元力", "background": "", "description": "小山有 $n$ 个相同的元素，他想将这 $n$ 个元素分为 $m$ 堆，显然有很多种分法。对于每种分法，定义 $a_i$ 为第 $i$ 堆的元素数量，$b_i=i!\\times a_i$（其中 $i!$ 表示 $i$ 的阶乘），以及 $c=\\sum\\limits_{i=1}^mb_i$。而小山的元力为所有分法的 $c$ 值之和。小山想知道他的元力是多少，由于答案可能很大，所以最终答案应对 $p$ 取模（保证 $p$ 为质数）。", "inputFormat": "一行三个整数 $n,m,p$，含义见**题目描述**。", "outputFormat": "一个数表示小山的元力。", "hint": "### 样例解释\n\n将 $3$ 个元素分为 $2$ 堆的方案为：\n\n1. `0 3`\n2. `1 2`\n3. `2 1`\n4. `3 0`\n\n小山的元力为：$(1!\\times0+2!\\times3)+(1!\\times1+2!\\times2)+(1!\\times2+2!\\times1)+(1!\\times3+2!\\times0)=18$。\n\n### 数据范围\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $0$ | $20$ | $n,m\\le5$ |\n| $1$ | $80$ | - |\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le10^6$，$1\\le p\\le10^7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「ALFR Round 1」D 小山的元力", "background": "", "description": "小山有 $n$ 个相同的元素，他想将这 $n$ 个元素分为 $m$ 堆，显然有很多种分法。对于每种分法，定义 $a_i$ 为第 $i$ 堆的元素数量，$b_i=i!\\times a_i$（其中 $i!$ 表示 $i$ 的阶乘），以及 $c=\\sum\\limits_{i=1}^mb_i$。而小山的元力为所有分法的 $c$ 值之和。小山想知道他的元力是多少，由于答案可能很大，所以最终答案应对 $p$ 取模（保证 $p$ 为质数）。", "inputFormat": "一行三个整数 $n,m,p$，含义见**题目描述**。", "outputFormat": "一个数表示小山的元力。", "hint": "### 样例解释\n\n将 $3$ 个元素分为 $2$ 堆的方案为：\n\n1. `0 3`\n2. `1 2`\n3. `2 1`\n4. `3 0`\n\n小山的元力为：$(1!\\times0+2!\\times3)+(1!\\times1+2!\\times2)+(1!\\times2+2!\\times1)+(1!\\times3+2!\\times0)=18$。\n\n### 数据范围\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $0$ | $20$ | $n,m\\le5$ |\n| $1$ | $80$ | - |\n\n对于 $100\\%$ 的数据，$1\\le n,m\\le10^6$，$1\\le p\\le10^7$。", "locale": "zh-CN"}}}
{"pid": "P10381", "type": "P", "difficulty": 5, "samples": [["3\n2\n1 2\n5\n2 4 5 0 1\n4\n0 4 4 4\n", "2\n9\n0\n"], ["1\n10\n1 1 4 5 1 4 1 9 1 9", "26\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "线段树", "并查集", "堆", "2024", "O2优化", "洛谷比赛"], "title": "「HOI R1」杂赛选比", "background": "你说得对，但是小 $\\iiint$ 在打 CF 时将 Earn or Unlock 错看成了下面的鬼畜样子，痛失 2h 遗憾离场，希望大家引以为戒。", "description": "给定一个长度为 $n$ 的数组 $a$，初始只有 $a_1$ 是已被解锁的。现在有一个整数 $i$，初始值为 $1$。现在小 $\\iiint$ 在对这个数组进行一个游戏：\n\n- 如果 $a_i$ 未被解锁，游戏结束。\n- 否则他可以将 $a_{i+1\\sim i+a_i}$ 设置成已被解锁的，或是获得 $a_i$ 个金币（如果 $a_i=0$ 则无法解锁任何元素），然后将 $i$ 加 $1$。\n\n请你求出游戏结束后你能获得的最大金币数量。", "inputFormat": "**本题有多组测试数据。**\n\n第一行一个整数 $T$，表示测试数据组数。\n\n对于每一组数据，第一行一个正整数 $n$。\n\n接下来一行 $n$ 个非负整数 $a_{1\\sim n}$。", "outputFormat": "对于每一组数据，一行一个数，表示答案。", "hint": "#### 【样例 1 解释】\n\n对于第一组数据，你可以解锁 $a_2$，再获得 $a_2$ 个金币。而对于第三组数据，你无法解锁 $a_2$，因此只能获得 $0$ 个金币。\n\n对于第二组数据，你可以解锁 $a_2,a_3$，并获得 $9$ 个金币。\n\n#### 【样例 2 解释】\n\n将第 $1,2,3,6$ 个位置用于解锁为最优方案。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1\\le n\\le10^5$，$0\\le a_i\\le10^5$，$T\\le 5$。\n\n|测试点编号|$n\\leq$|$a_i\\leq$|$T=$|特殊性质|\n|:-:|:-:|:-:|:-:|:-:|\n|$1$|$10$|$0$|$1$|/|\n|$2\\sim3$|$10$|$5$|$1$|/|\n|$4\\sim5$|$600$|$600$|$1$|/|\n|$6\\sim8$|$5000$|$5000$|$1$|/|\n|$9\\sim10$|$10^5$|$5$|$5$|/|\n|$11\\sim12$|$5\\times10^4$|$10^5$|$5$|$a_i>n$|\n|$13\\sim20$|$10^5$|$10^5$|$5$|/|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「HOI R1」杂赛选比", "background": "你说得对，但是小 $\\iiint$ 在打 CF 时将 Earn or Unlock 错看成了下面的鬼畜样子，痛失 2h 遗憾离场，希望大家引以为戒。", "description": "给定一个长度为 $n$ 的数组 $a$，初始只有 $a_1$ 是已被解锁的。现在有一个整数 $i$，初始值为 $1$。现在小 $\\iiint$ 在对这个数组进行一个游戏：\n\n- 如果 $a_i$ 未被解锁，游戏结束。\n- 否则他可以将 $a_{i+1\\sim i+a_i}$ 设置成已被解锁的，或是获得 $a_i$ 个金币（如果 $a_i=0$ 则无法解锁任何元素），然后将 $i$ 加 $1$。\n\n请你求出游戏结束后你能获得的最大金币数量。", "inputFormat": "**本题有多组测试数据。**\n\n第一行一个整数 $T$，表示测试数据组数。\n\n对于每一组数据，第一行一个正整数 $n$。\n\n接下来一行 $n$ 个非负整数 $a_{1\\sim n}$。", "outputFormat": "对于每一组数据，一行一个数，表示答案。", "hint": "#### 【样例 1 解释】\n\n对于第一组数据，你可以解锁 $a_2$，再获得 $a_2$ 个金币。而对于第三组数据，你无法解锁 $a_2$，因此只能获得 $0$ 个金币。\n\n对于第二组数据，你可以解锁 $a_2,a_3$，并获得 $9$ 个金币。\n\n#### 【样例 2 解释】\n\n将第 $1,2,3,6$ 个位置用于解锁为最优方案。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1\\le n\\le10^5$，$0\\le a_i\\le10^5$，$T\\le 5$。\n\n|测试点编号|$n\\leq$|$a_i\\leq$|$T=$|特殊性质|\n|:-:|:-:|:-:|:-:|:-:|\n|$1$|$10$|$0$|$1$|/|\n|$2\\sim3$|$10$|$5$|$1$|/|\n|$4\\sim5$|$600$|$600$|$1$|/|\n|$6\\sim8$|$5000$|$5000$|$1$|/|\n|$9\\sim10$|$10^5$|$5$|$5$|/|\n|$11\\sim12$|$5\\times10^4$|$10^5$|$5$|$a_i>n$|\n|$13\\sim20$|$10^5$|$10^5$|$5$|/|", "locale": "zh-CN"}}}
{"pid": "P10382", "type": "P", "difficulty": 7, "samples": [["6 -6\n-1 -1 -1 0 0 0", "-1 -1 -1 -1 -1 -1"], ["6 14\n0 1 4 0 1 4", "-1 1 4 5 1 4"], ["6 10\n0 0 0 0 0 0", "-1 -1 4 5 -1 4"], ["6 6\n1 1 0 0 0 0", "Rick"], ["6 40\n0 0 0 0 0 0", "Rick"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "O2优化", "构造", "Ad-hoc", "分类讨论", "洛谷比赛"], "title": "「HOI R1」杂造选构", "background": "小 $\\iiint$ 跟这个烦人的构造没有任何关系。", "description": "若一个序列 $a$ 满足以下要求：\n\n- $a_i=-1$ 或 $a_i\\in [1,n]$。\n- 对于每个 $a_i\\not=-1$，将 $a_i\\to i$ 连边而形成的图不存在环。\n\n则称这个序列是合法的。\n\n现给定整数 $x$ 与序列 $a$，满足序列 $a$ 所有元素是 $[-1,n]$ 范围内的整数。请你将所有 $a_i=0$ 的位置替换成其他整数，使得 $\\sum\\limits ^{n} _{i=1} a_i = x$ 且 $a$ 是合法的。若不存在这样一种方案，则报告无解。", "inputFormat": "第一行两个整数 $n$ 和 $x$。\n\n第二行 $n$ 个整数，表示 $a$ 序列。保证 $\\forall a_i \\in [-1,n]$。", "outputFormat": "若无解，则说明你被骗了，因此输出一个字符串 `Rick`。否则输出 $n$ 个整数，表示替换完所有为 $0$ 的元素后的 $a$ 序列。", "hint": "**本题开启捆绑测试。**\n\n| Subtask | 分值 | $n \\le$ | $x \\le$ |特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| #0 | $13$ | $15$ | $225$|无|\n| #1 | $24$ | $10^3$ | $10^9$|无|\n| #2 | $27$ | $10^5$ | $10^{18}$|有|\n| #3 | $36$ | $10^5$ | $10^{18}$|无|\n\n*特殊性质：保证 $\\forall a_i =0$。\n\n对于所有数据，满足 $1 \\le n \\le 10^5,-10^{18} \\le x \\le 10^{18}$。\n\n***\n\n**Special Judge 返回值对应表**\n\n- `Accepted.` 答案正确。\n- `Oops, your answer is wrong. 1` 答案为无解，选手代码输出有解。\n- `Oops, your answer is wrong. 2` 选手输出的 $\\sum a_i \\not = x$。\n- `Oops, your answer is wrong. 3` 选手输出中含有 $0$。\n- `Oops, your answer is wrong. 4` 选手输出中含有环。\n- `Oops, your answer is wrong. 5` 选手输出在填空的同时将输入的 $a_i \\not=0$ 的位置改动了。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「HOI R1」杂造选构", "background": "小 $\\iiint$ 跟这个烦人的构造没有任何关系。", "description": "若一个序列 $a$ 满足以下要求：\n\n- $a_i=-1$ 或 $a_i\\in [1,n]$。\n- 对于每个 $a_i\\not=-1$，将 $a_i\\to i$ 连边而形成的图不存在环。\n\n则称这个序列是合法的。\n\n现给定整数 $x$ 与序列 $a$，满足序列 $a$ 所有元素是 $[-1,n]$ 范围内的整数。请你将所有 $a_i=0$ 的位置替换成其他整数，使得 $\\sum\\limits ^{n} _{i=1} a_i = x$ 且 $a$ 是合法的。若不存在这样一种方案，则报告无解。", "inputFormat": "第一行两个整数 $n$ 和 $x$。\n\n第二行 $n$ 个整数，表示 $a$ 序列。保证 $\\forall a_i \\in [-1,n]$。", "outputFormat": "若无解，则说明你被骗了，因此输出一个字符串 `Rick`。否则输出 $n$ 个整数，表示替换完所有为 $0$ 的元素后的 $a$ 序列。", "hint": "**本题开启捆绑测试。**\n\n| Subtask | 分值 | $n \\le$ | $x \\le$ |特殊性质 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| #0 | $13$ | $15$ | $225$|无|\n| #1 | $24$ | $10^3$ | $10^9$|无|\n| #2 | $27$ | $10^5$ | $10^{18}$|有|\n| #3 | $36$ | $10^5$ | $10^{18}$|无|\n\n*特殊性质：保证 $\\forall a_i =0$。\n\n对于所有数据，满足 $1 \\le n \\le 10^5,-10^{18} \\le x \\le 10^{18}$。\n\n***\n\n**Special Judge 返回值对应表**\n\n- `Accepted.` 答案正确。\n- `Oops, your answer is wrong. 1` 答案为无解，选手代码输出有解。\n- `Oops, your answer is wrong. 2` 选手输出的 $\\sum a_i \\not = x$。\n- `Oops, your answer is wrong. 3` 选手输出中含有 $0$。\n- `Oops, your answer is wrong. 4` 选手输出中含有环。\n- `Oops, your answer is wrong. 5` 选手输出在填空的同时将输入的 $a_i \\not=0$ 的位置改动了。", "locale": "zh-CN"}}}
{"pid": "P10383", "type": "P", "difficulty": 6, "samples": [["6 8 0\n540000 350000 110000 130000 170000 970000\n2000 5000 1000 1000 97000 17000 143000 210000", "9 10"]], "limits": {"time": [200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200, 200], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "O2优化", "洛谷比赛"], "title": "「HOI R1」杂分选约", "background": "**请注意本题并不寻常的时间限制。**\n\n由于 python 自带对于高精度乘法的实现，并且运行效率较高，导致其编写的暴力程序，在一般的时间限制下可以通过绝大部分点。故本题时限开到 $200\\text{ms}$。\n***\n\n黄总是一名计算很强的数学老师，以黄氏约分而闻名。现在他请小 $\\iiint$ A 了这道题。但小 $\\iiint$ **似乎**有点菜，所以求助于你。", "description": "把\n$$\\dfrac{\\displaystyle\\prod_{i=1}^n\na_i}{\\displaystyle\\prod_{j=1}^m b_j}$$\n表示为*最简分数 $^{[1]}$* $\\dfrac{p}{q}$，求 $p$ 和 $q$。\n\n好心的同学还给了小 $\\iiint$ 一个整数 $C$，即数据点所在的 Subtask。", "inputFormat": "第一行三个整数 $n,m$ 和 $C$。\n\n第二行 $n$ 个整数 $a_{1\\dots n}$。\n\n第三行 $m$ 个整数 $b_{1\\dots m}$。", "outputFormat": "第一行两个数 $p$ 和 $q$。", "hint": "**注释**\n\n$[1]$：[百度百科](https://baike.baidu.com/item/%E6%9C%80%E7%AE%80%E5%88%86%E6%95%B0/2821376?fr=ge_ala)：最简分数，是分子、分母只有公因数 $1$ 的分数，或者说分子和分母互质的分数，又称既约分数。如：二分之一，三分之二，九分之八，八分之三等等。\n***\n**样例解释**\n\n$\\dfrac{540000\\times350000\\times110000\\times130000\\times170000\\times970000}{2000\\times5000\\times1000\\times1000\\times97000\\times17000\\times143000\\times210000}=\\dfrac{9}{10}$，$\\gcd(9,10)=1$\n***\n**数据规模与约定**\n\n**本题采用捆绑测试。**\n\n|Subtask|分值|数据范围|\n|-|-|-|\n|#0|0|同样例|\n|#1|$5$|$1\\le n,m\\le500$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n|#2|$5$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le10$|\n|#3|$10$|$1\\le n,m\\le5000$，$1\\le a_i,b_i\\le3\\times10^9$，$1\\le p,q\\le3\\times10^9$|\n|#4|$15$|$1\\le n,m\\le10000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n|#5|$20$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p\\le3\\times10^9$，$q=1$|\n|#6|$10$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p\\le3\\times10^9$,$1\\le q \\le25000$|\n|#7|$20$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n|#8|$10$|$1\\le n,m\\le10^6$，$1\\le a_i,b_i\\le10^6$，$1\\le p,q\\le3\\times10^9$|\n|#9|$5$|$1\\le n,m\\le10^6$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n***\n**提示**\n\n~~高精度狗都不写。~~\n\n本题时限较小且输入量较大，若你认为自己的算法复杂度正确，请尝试优化读写速度。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「HOI R1」杂分选约", "background": "**请注意本题并不寻常的时间限制。**\n\n由于 python 自带对于高精度乘法的实现，并且运行效率较高，导致其编写的暴力程序，在一般的时间限制下可以通过绝大部分点。故本题时限开到 $200\\text{ms}$。\n***\n\n黄总是一名计算很强的数学老师，以黄氏约分而闻名。现在他请小 $\\iiint$ A 了这道题。但小 $\\iiint$ **似乎**有点菜，所以求助于你。", "description": "把\n$$\\dfrac{\\displaystyle\\prod_{i=1}^n\na_i}{\\displaystyle\\prod_{j=1}^m b_j}$$\n表示为*最简分数 $^{[1]}$* $\\dfrac{p}{q}$，求 $p$ 和 $q$。\n\n好心的同学还给了小 $\\iiint$ 一个整数 $C$，即数据点所在的 Subtask。", "inputFormat": "第一行三个整数 $n,m$ 和 $C$。\n\n第二行 $n$ 个整数 $a_{1\\dots n}$。\n\n第三行 $m$ 个整数 $b_{1\\dots m}$。", "outputFormat": "第一行两个数 $p$ 和 $q$。", "hint": "**注释**\n\n$[1]$：[百度百科](https://baike.baidu.com/item/%E6%9C%80%E7%AE%80%E5%88%86%E6%95%B0/2821376?fr=ge_ala)：最简分数，是分子、分母只有公因数 $1$ 的分数，或者说分子和分母互质的分数，又称既约分数。如：二分之一，三分之二，九分之八，八分之三等等。\n***\n**样例解释**\n\n$\\dfrac{540000\\times350000\\times110000\\times130000\\times170000\\times970000}{2000\\times5000\\times1000\\times1000\\times97000\\times17000\\times143000\\times210000}=\\dfrac{9}{10}$，$\\gcd(9,10)=1$\n***\n**数据规模与约定**\n\n**本题采用捆绑测试。**\n\n|Subtask|分值|数据范围|\n|-|-|-|\n|#0|0|同样例|\n|#1|$5$|$1\\le n,m\\le500$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n|#2|$5$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le10$|\n|#3|$10$|$1\\le n,m\\le5000$，$1\\le a_i,b_i\\le3\\times10^9$，$1\\le p,q\\le3\\times10^9$|\n|#4|$15$|$1\\le n,m\\le10000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n|#5|$20$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p\\le3\\times10^9$，$q=1$|\n|#6|$10$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p\\le3\\times10^9$,$1\\le q \\le25000$|\n|#7|$20$|$1\\le n,m\\le25000$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n|#8|$10$|$1\\le n,m\\le10^6$，$1\\le a_i,b_i\\le10^6$，$1\\le p,q\\le3\\times10^9$|\n|#9|$5$|$1\\le n,m\\le10^6$，$1\\le a_i,b_i\\le9\\times10^{18}$，$1\\le p,q\\le3\\times10^9$|\n***\n**提示**\n\n~~高精度狗都不写。~~\n\n本题时限较小且输入量较大，若你认为自己的算法复杂度正确，请尝试优化读写速度。", "locale": "zh-CN"}}}
{"pid": "P10384", "type": "P", "difficulty": 6, "samples": [], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "交互题", "Special Judge", "概率论", "洛谷比赛"], "title": "「HOI R1」杂交选种", "background": "$\\clubsuit$ 星球盛产“代马”，其优越的速度与耗能使得它风靡整个银河系。可小 $\\iiint$ 并不满足于此，他想培育出更好的“代马”，并取代掉还在用传统能源的落后四足兽。于是，他开始研究基因技术……\n\n**本题仅支持 C++ 语言提交。**\n\n**由于技术限制，请勿使用 C++14 (GCC 9) 语言提交，否则将会得到 Compile Error 的结果。**\n\n你的代码中需如下进行 `query` 和 `cross` 函数的声明：\n\n```cpp\nchar query(int k);\nvoid cross(int i, int j);\n```\n\n调用 $10^6$ 次 `query` 与 `cross` 函数的时间不超过 50 毫秒，除这两个函数所占用的时间外，交互库运行所占用的时间不超过 100 毫秒。", "description": "#### 【形式化题意】\n\n**这是一道交互题。**\n\n定义 **基因** 为一个字符，其内容为 $\\verb!A!$ 或 $\\verb!a!$。定义 **基因型** 为由两个基因组成，且大写字母在小写字母之前的字符串。也即 $\\{\\verb!aa!,\\verb!Aa!,\\verb!AA!\\}$ 中的一种。一个基因型的 **表现** 如下：\n\n- 若基因型中含有 $\\verb!A!$，则表现为 $\\verb!A!$。\n- 否则，表现为 $\\verb!a!$。\n\n两个基因型可以相互 **杂交**，其定义如下：\n\n- 在两个基因型中各均匀随机取一个基因，并将两个基因组合成基因型作为结果输出。\n\n小 $\\iiint$ 有 $n$ 个基因型，编号为 $1,2,\\cdots,n$。每次询问可以给交互库两个不同的编号 $i,j$。若当前是第 $k$ 次杂交，交互库会新建一个编号为 $n+k$ 的基因型，其基因型为 $i,j$ 杂交后的结果。\n\n你可以在时限范围内任意次查询编号为 $x$ 的种子的表现。你需要在 $4.5\\times10^5$ 次杂交内，求出初始给定的 $n$ 个基因型。\n\n### 实现细节\n\n**你不需要，也不应该实现主函数。** 你需要实现下面的函数：\n\n```cpp\nvector<string> guess(int n)\n```\n\n- $n$ 表示初始基因型个数。\n- 该函数应当返回一个长度恰好为 $n$ 的数组，数组中的每一个元素是一个长度为二的字符串，表示你所求出的基因型。**你需要保证大写字母在小写字母的前面**。\n- 对于每个测试点，该函数被恰好调用一次。\n\n该函数可调用以下函数：\n\n```cpp\nchar query(int k)\n```\n\n- $k$ 表示你要查询的基因型的编号。**你需要保证这个编号对应的基因型存在**。\n- 该函数将返回该基因型的表现。\n- 该函数可以在时限内被调用任意次。\n\n```cpp\nvoid cross(int i, int j)\n```\n\n- $i,j$ 代表你要杂交的两个基因的编号。**你需要保证 $i\\not=j$ 且对应的基因型存在**。\n- 若是第 $k$ 次调用该函数，该函数会新建一个编号为 $n+k$ 的基因型，其基因型为 $i,j$ 杂交后的结果。保证杂交过程为均匀随机。\n- 你最多可以调用该函数 $4.5\\times10^5$ 次。\n- 评测程序不是适应性的。也就是说，所有初始元素的基因型在 `guess` 函数被调用前已经确定。", "inputFormat": "", "outputFormat": "", "hint": "#### 【交互示例】\n\n以下为 $n=2$，基因型为 $\\{\\verb!Aa!,\\verb!AA!\\}$ 时一种可能的交互过程。\n\n|选手程序|交互库|\n|:-:|:-:|\n||`guess(2)`|\n|`cross(1,2)`||\n||$\\{\\verb!Aa!,\\verb!AA!,\\verb!Aa!\\}$|\n|`cross(1,3)`||\n||$\\{\\verb!Aa!,\\verb!AA!,\\verb!Aa!,\\verb!aa!\\}$|\n|`query(4)`||\n||$\\verb!a!$|\n|$\\{\\verb!Aa!,\\verb!AA!\\}$||\n||`Ok,accepted.`|\n\n#### 【约束条件】\n\n+ $2\\le n\\le 2\\times10^4$，$n$ 为偶数。\n+ 每次程序运行时将恰好调用一次 `guess()` 函数。\n+ 保证交互库是非自适应性的，即所有初始元素的基因型不在交互过程中发生改变。\n\n#### 【子任务】\n\n|Subtask|分值|$n\\le$|特殊性质|\n|:-:|:-:|:-:|:-:|\n|$0$|$0$|$2$|无|\n|$1$|$5$|$2\\times10^4$|保证不存在 $\\verb!Aa!$|\n|$2$|$15$|$500$|无|\n|$3$|$20$|$2\\times10^4$|保证至少存在一个 $\\verb!aa!$|\n|$4$|$25$|$5\\times10^3$|无|\n|$5$|$35$|$2\\times10^4$|无|\n\n对于所有数据，$2\\le n\\le 2\\times10^4$，保证 $n$ 为偶数。\n\n由于本题涉及概率与期望，如果你确定你的算法无误，可以尝试多交几发。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「HOI R1」杂交选种", "background": "$\\clubsuit$ 星球盛产“代马”，其优越的速度与耗能使得它风靡整个银河系。可小 $\\iiint$ 并不满足于此，他想培育出更好的“代马”，并取代掉还在用传统能源的落后四足兽。于是，他开始研究基因技术……\n\n**本题仅支持 C++ 语言提交。**\n\n**由于技术限制，请勿使用 C++14 (GCC 9) 语言提交，否则将会得到 Compile Error 的结果。**\n\n你的代码中需如下进行 `query` 和 `cross` 函数的声明：\n\n```cpp\nchar query(int k);\nvoid cross(int i, int j);\n```\n\n调用 $10^6$ 次 `query` 与 `cross` 函数的时间不超过 50 毫秒，除这两个函数所占用的时间外，交互库运行所占用的时间不超过 100 毫秒。", "description": "#### 【形式化题意】\n\n**这是一道交互题。**\n\n定义 **基因** 为一个字符，其内容为 $\\verb!A!$ 或 $\\verb!a!$。定义 **基因型** 为由两个基因组成，且大写字母在小写字母之前的字符串。也即 $\\{\\verb!aa!,\\verb!Aa!,\\verb!AA!\\}$ 中的一种。一个基因型的 **表现** 如下：\n\n- 若基因型中含有 $\\verb!A!$，则表现为 $\\verb!A!$。\n- 否则，表现为 $\\verb!a!$。\n\n两个基因型可以相互 **杂交**，其定义如下：\n\n- 在两个基因型中各均匀随机取一个基因，并将两个基因组合成基因型作为结果输出。\n\n小 $\\iiint$ 有 $n$ 个基因型，编号为 $1,2,\\cdots,n$。每次询问可以给交互库两个不同的编号 $i,j$。若当前是第 $k$ 次杂交，交互库会新建一个编号为 $n+k$ 的基因型，其基因型为 $i,j$ 杂交后的结果。\n\n你可以在时限范围内任意次查询编号为 $x$ 的种子的表现。你需要在 $4.5\\times10^5$ 次杂交内，求出初始给定的 $n$ 个基因型。\n\n### 实现细节\n\n**你不需要，也不应该实现主函数。** 你需要实现下面的函数：\n\n```cpp\nvector<string> guess(int n)\n```\n\n- $n$ 表示初始基因型个数。\n- 该函数应当返回一个长度恰好为 $n$ 的数组，数组中的每一个元素是一个长度为二的字符串，表示你所求出的基因型。**你需要保证大写字母在小写字母的前面**。\n- 对于每个测试点，该函数被恰好调用一次。\n\n该函数可调用以下函数：\n\n```cpp\nchar query(int k)\n```\n\n- $k$ 表示你要查询的基因型的编号。**你需要保证这个编号对应的基因型存在**。\n- 该函数将返回该基因型的表现。\n- 该函数可以在时限内被调用任意次。\n\n```cpp\nvoid cross(int i, int j)\n```\n\n- $i,j$ 代表你要杂交的两个基因的编号。**你需要保证 $i\\not=j$ 且对应的基因型存在**。\n- 若是第 $k$ 次调用该函数，该函数会新建一个编号为 $n+k$ 的基因型，其基因型为 $i,j$ 杂交后的结果。保证杂交过程为均匀随机。\n- 你最多可以调用该函数 $4.5\\times10^5$ 次。\n- 评测程序不是适应性的。也就是说，所有初始元素的基因型在 `guess` 函数被调用前已经确定。", "inputFormat": "", "outputFormat": "", "hint": "#### 【交互示例】\n\n以下为 $n=2$，基因型为 $\\{\\verb!Aa!,\\verb!AA!\\}$ 时一种可能的交互过程。\n\n|选手程序|交互库|\n|:-:|:-:|\n||`guess(2)`|\n|`cross(1,2)`||\n||$\\{\\verb!Aa!,\\verb!AA!,\\verb!Aa!\\}$|\n|`cross(1,3)`||\n||$\\{\\verb!Aa!,\\verb!AA!,\\verb!Aa!,\\verb!aa!\\}$|\n|`query(4)`||\n||$\\verb!a!$|\n|$\\{\\verb!Aa!,\\verb!AA!\\}$||\n||`Ok,accepted.`|\n\n#### 【约束条件】\n\n+ $2\\le n\\le 2\\times10^4$，$n$ 为偶数。\n+ 每次程序运行时将恰好调用一次 `guess()` 函数。\n+ 保证交互库是非自适应性的，即所有初始元素的基因型不在交互过程中发生改变。\n\n#### 【子任务】\n\n|Subtask|分值|$n\\le$|特殊性质|\n|:-:|:-:|:-:|:-:|\n|$0$|$0$|$2$|无|\n|$1$|$5$|$2\\times10^4$|保证不存在 $\\verb!Aa!$|\n|$2$|$15$|$500$|无|\n|$3$|$20$|$2\\times10^4$|保证至少存在一个 $\\verb!aa!$|\n|$4$|$25$|$5\\times10^3$|无|\n|$5$|$35$|$2\\times10^4$|无|\n\n对于所有数据，$2\\le n\\le 2\\times10^4$，保证 $n$ 为偶数。\n\n由于本题涉及概率与期望，如果你确定你的算法无误，可以尝试多交几发。", "locale": "zh-CN"}}}
{"pid": "P10385", "type": "P", "difficulty": 1, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["模拟", "2024", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 艺术与篮球", "background": "", "description": "小蓝出生在一个艺术与运动并重的家庭中。  \n妈妈是位书法家，她希望小蓝能通过练习书法，继承她的艺术天赋，并练就一手好字。爸爸是一名篮球教练，他希望小蓝能通过篮球锻炼身体，培养运\n动的激情和团队合作的精神。  \n为了既满足妈妈的期望，又不辜负爸爸的心意，小蓝决定根据日期的笔画数来安排自己的练习。首先，他会将当天的日期按照 `YYYYMMDD` 的格式\n转换成一个 $8$ 位数，然后将这 $8$ 位数对应到汉字上，计算这些汉字的总笔画数。如果总笔画数超过 $50$，他就去练习篮球；如果总笔画数不超过 $50$，他就去练习书法。  \n例如，在 $2024$ 年 $1$ 月 $1$ 日这天，日期可表示为一个 $8$ 位数字 $20240101$，其转换为汉字是“二零二四零一零一”。日期的总笔画数为 $2 + 13 + 2 + 5 + 13 +\n1 + 13 + 1 = 50$，因此在这天，小蓝会去练习书法。  \n以下是汉字的笔画数对照表：\n\n|汉字|笔画数|汉字|笔画数|\n| -----------: | -----------: | -----------: | -----------: |\n|零 |$13 $|五 |$4$|\n|一 |$1$|  六 |$4$|\n|二 |$2$|  七 |$2$|\n|三 |$3$|  八 |$2$|\n|四 |$5$| 九 |$2$|\n\n现在，请你帮助小蓝统计一下，在 $2000$ 年 $1$ 月 $1$ 日到 $2024$ 年 $4$ 月 $13$ 日\n这段时间内，小蓝有多少天是在练习篮球？", "inputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 艺术与篮球", "background": "", "description": "小蓝出生在一个艺术与运动并重的家庭中。  \n妈妈是位书法家，她希望小蓝能通过练习书法，继承她的艺术天赋，并练就一手好字。爸爸是一名篮球教练，他希望小蓝能通过篮球锻炼身体，培养运\n动的激情和团队合作的精神。  \n为了既满足妈妈的期望，又不辜负爸爸的心意，小蓝决定根据日期的笔画数来安排自己的练习。首先，他会将当天的日期按照 `YYYYMMDD` 的格式\n转换成一个 $8$ 位数，然后将这 $8$ 位数对应到汉字上，计算这些汉字的总笔画数。如果总笔画数超过 $50$，他就去练习篮球；如果总笔画数不超过 $50$，他就去练习书法。  \n例如，在 $2024$ 年 $1$ 月 $1$ 日这天，日期可表示为一个 $8$ 位数字 $20240101$，其转换为汉字是“二零二四零一零一”。日期的总笔画数为 $2 + 13 + 2 + 5 + 13 +\n1 + 13 + 1 = 50$，因此在这天，小蓝会去练习书法。  \n以下是汉字的笔画数对照表：\n\n|汉字|笔画数|汉字|笔画数|\n| -----------: | -----------: | -----------: | -----------: |\n|零 |$13 $|五 |$4$|\n|一 |$1$|  六 |$4$|\n|二 |$2$|  七 |$2$|\n|三 |$3$|  八 |$2$|\n|四 |$5$| 九 |$2$|\n\n现在，请你帮助小蓝统计一下，在 $2000$ 年 $1$ 月 $1$ 日到 $2024$ 年 $4$ 月 $13$ 日\n这段时间内，小蓝有多少天是在练习篮球？", "inputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10386", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["2024", "深度优先搜索 DFS", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 五子棋对弈", "background": "", "description": "“在五子棋的对弈中，友谊的小船说翻就翻？” 不！对小蓝和小桥来说，五子棋不仅是棋盘上的较量，更是心与心之间的沟通。这两位挚友秉承着 “友谊第一，比赛第二” 的宗旨，决定在一块 $5 × 5$ 的棋盘上，用黑白两色的棋子来决出胜负。但他们又都不忍心让对方失落，于是决定用一场**和棋（平局）** 作为彼此友谊的见证。\n比赛遵循以下规则：\n1. 棋盘规模：比赛在一个 $5 × 5$ 的方格棋盘上进行，共有 $25$ 个格子供下棋使用。\n2. 棋子类型：两种棋子，黑棋与白棋，代表双方。小蓝持白棋，小桥持黑棋。\n3. 先手规则：白棋（小蓝）具有先手优势，即在棋盘空白时率先落子（下棋）。\n4. 轮流落子：玩家们交替在棋盘上放置各自的棋子，每次仅放置一枚。\n5. 胜利条件：率先在横线、竖线或斜线上形成连续的五个同色棋子的一方获胜。\n6. 平局条件：当所有 $25$ 个棋盘格都被下满棋子，而未决出胜负时，游戏以平局告终。\n\n在这一设定下，小蓝和小桥想知道，有多少种不同的棋局情况（终局不同看成不同情况，终局相同而落子顺序不同看成同一种情况），既确保棋盘下满又保证比赛结果为平局。", "inputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。\n\n", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。\n\n", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 五子棋对弈", "background": "", "description": "“在五子棋的对弈中，友谊的小船说翻就翻？” 不！对小蓝和小桥来说，五子棋不仅是棋盘上的较量，更是心与心之间的沟通。这两位挚友秉承着 “友谊第一，比赛第二” 的宗旨，决定在一块 $5 × 5$ 的棋盘上，用黑白两色的棋子来决出胜负。但他们又都不忍心让对方失落，于是决定用一场**和棋（平局）** 作为彼此友谊的见证。\n比赛遵循以下规则：\n1. 棋盘规模：比赛在一个 $5 × 5$ 的方格棋盘上进行，共有 $25$ 个格子供下棋使用。\n2. 棋子类型：两种棋子，黑棋与白棋，代表双方。小蓝持白棋，小桥持黑棋。\n3. 先手规则：白棋（小蓝）具有先手优势，即在棋盘空白时率先落子（下棋）。\n4. 轮流落子：玩家们交替在棋盘上放置各自的棋子，每次仅放置一枚。\n5. 胜利条件：率先在横线、竖线或斜线上形成连续的五个同色棋子的一方获胜。\n6. 平局条件：当所有 $25$ 个棋盘格都被下满棋子，而未决出胜负时，游戏以平局告终。\n\n在这一设定下，小蓝和小桥想知道，有多少种不同的棋局情况（终局不同看成不同情况，终局相同而落子顺序不同看成同一种情况），既确保棋盘下满又保证比赛结果为平局。", "inputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。\n\n", "outputFormat": "这是一道结果填空题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。\n\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10387", "type": "P", "difficulty": 2, "samples": [["3 6\n5 2\n2 4\n3 2", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2024", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 训练士兵", "background": "", "description": "在蓝桥王国中，有 $n$ 名士兵，这些士兵需要接受一系列特殊的训练，以提升他们的战斗技能。对于第 $i$ 名士兵来说，进行一次训练所需的成本为 $p_i$ 枚金币，而要想成为顶尖战士，他至少需要进行 $c_i$ 次训练。  \n为了确保训练的高效性，王国推出了一种组团训练的方案。该方案包含每位士兵所需的一次训练，且总共只需支付 $S$ 枚金币（组团训练方案可以多次购买，即士兵可以进行多次组团训练）。  \n作为训练指挥官，请你计算出最少需要花费多少金币，才能使得所有的士兵都成为顶尖战士？", "inputFormat": "输入的第一行包含两个整数 $n$ 和 $S $，用一个空格分隔，表示士兵的数量和进行一次组团训练所需的金币数。  \n接下来的 $n$ 行，每行包含两个整数 $p_i$ 和 $c_i$，用一个空格分隔，表示第 $i$ 名士兵进行一次训练的金币成本和要成为顶尖战士所需的训练次数。", "outputFormat": "输出一行包含一个整数，表示使所有士兵成为顶尖战士所需的最少金币数。", "hint": "花费金币最少的训练方式为：进行 $2$ 次组团训练，花费 $2 × 6 = 12$ 枚金币，此时士兵 $1, 3$ 已成为顶尖战士；再花费 $4$ 枚金币，让士兵 $2$ 进行两次训练，成为顶尖战士。总花费为 $12 + 4 = 16$。\n\n对于 $40\\%$ 的评测用例，$1 ≤ n ≤ 10^3，1 ≤ p_i\n, c_i ≤ 10^5，1 ≤ S ≤ 10^7$。\n\n对于所有评测用例，$1 ≤ n ≤ 10^5，1 ≤ p_i\n, c_i ≤ 10^6，1 ≤ S ≤ 10^{10}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 训练士兵", "background": "", "description": "在蓝桥王国中，有 $n$ 名士兵，这些士兵需要接受一系列特殊的训练，以提升他们的战斗技能。对于第 $i$ 名士兵来说，进行一次训练所需的成本为 $p_i$ 枚金币，而要想成为顶尖战士，他至少需要进行 $c_i$ 次训练。  \n为了确保训练的高效性，王国推出了一种组团训练的方案。该方案包含每位士兵所需的一次训练，且总共只需支付 $S$ 枚金币（组团训练方案可以多次购买，即士兵可以进行多次组团训练）。  \n作为训练指挥官，请你计算出最少需要花费多少金币，才能使得所有的士兵都成为顶尖战士？", "inputFormat": "输入的第一行包含两个整数 $n$ 和 $S $，用一个空格分隔，表示士兵的数量和进行一次组团训练所需的金币数。  \n接下来的 $n$ 行，每行包含两个整数 $p_i$ 和 $c_i$，用一个空格分隔，表示第 $i$ 名士兵进行一次训练的金币成本和要成为顶尖战士所需的训练次数。", "outputFormat": "输出一行包含一个整数，表示使所有士兵成为顶尖战士所需的最少金币数。", "hint": "花费金币最少的训练方式为：进行 $2$ 次组团训练，花费 $2 × 6 = 12$ 枚金币，此时士兵 $1, 3$ 已成为顶尖战士；再花费 $4$ 枚金币，让士兵 $2$ 进行两次训练，成为顶尖战士。总花费为 $12 + 4 = 16$。\n\n对于 $40\\%$ 的评测用例，$1 ≤ n ≤ 10^3，1 ≤ p_i\n, c_i ≤ 10^5，1 ≤ S ≤ 10^7$。\n\n对于所有评测用例，$1 ≤ n ≤ 10^5，1 ≤ p_i\n, c_i ≤ 10^6，1 ≤ S ≤ 10^{10}$。", "locale": "zh-CN"}}}
{"pid": "P10388", "type": "P", "difficulty": 4, "samples": [["2 2\n10 20\n10 30\n1 2\n2 1", "1"], ["5 4\n10 20 30 40 50\n10 40 20 30\n1 2\n1 3\n2 4\n3 5\n1 2\n1 3\n3 4", "2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "哈希 hashing", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 团建", "background": "", "description": "小蓝正在和朋友们团建，有一个游戏项目需要两人合作，两个人分别拿到一棵大小为 $n$ 和 $m$ 的树，树上的每个结点上有一个正整数权值。  \n两个人需要从各自树的根结点 $1$ 出发走向某个叶结点，从根到这个叶结点的路径上经过的所有结点上的权值构成了一个正整数序列，两人的序列的最长公共前缀即为他们的得分。给出两棵树，请计算两个人最多的得分是多少。", "inputFormat": "输入的第一行包含两个正整数 $n, m $，用一个空格分隔。  \n第二行包含 $n$ 个正整数 $c_1, c_2,\\cdots , c_n $，相邻整数之间使用一个空格分隔，其中 $c_i$ 表示第一棵树结点 $i$ 上的权值。  \n第三行包含 $m$ 个正整数 $d_1, d_2,\\cdots, d_m$，相邻整数之间使用一个空格分隔，其中 $d_i$ 表示第二棵树结点 $i$ 上的权值。  \n接下来 $n - 1$ 行，每行包含两个正整数 $u_i\n, v_i$ 表示第一棵树中包含一条 $u_i$ 和\n$v_i$ 之间的边。  \n接下来 $m - 1$ 行，每行包含两个正整数 $p_i\n, q_i$ 表示第二棵树中包含一条 $p_i$\n和 $q_i$ 之间的边。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "对于 $20\\%$ 的评测用例，$1 ≤ n, m ≤ 500 $；  \n对于所有评测用例，$1 ≤ n, m ≤ 2 × 10^5，1 ≤ c_i\n, d_i ≤ 10^8 ，1 ≤ u_i\n, v_i ≤ n ，\n1 ≤ p_i\n, q_i ≤ m $，对于任意结点，其儿子结点的权重互不相同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 团建", "background": "", "description": "小蓝正在和朋友们团建，有一个游戏项目需要两人合作，两个人分别拿到一棵大小为 $n$ 和 $m$ 的树，树上的每个结点上有一个正整数权值。  \n两个人需要从各自树的根结点 $1$ 出发走向某个叶结点，从根到这个叶结点的路径上经过的所有结点上的权值构成了一个正整数序列，两人的序列的最长公共前缀即为他们的得分。给出两棵树，请计算两个人最多的得分是多少。", "inputFormat": "输入的第一行包含两个正整数 $n, m $，用一个空格分隔。  \n第二行包含 $n$ 个正整数 $c_1, c_2,\\cdots , c_n $，相邻整数之间使用一个空格分隔，其中 $c_i$ 表示第一棵树结点 $i$ 上的权值。  \n第三行包含 $m$ 个正整数 $d_1, d_2,\\cdots, d_m$，相邻整数之间使用一个空格分隔，其中 $d_i$ 表示第二棵树结点 $i$ 上的权值。  \n接下来 $n - 1$ 行，每行包含两个正整数 $u_i\n, v_i$ 表示第一棵树中包含一条 $u_i$ 和\n$v_i$ 之间的边。  \n接下来 $m - 1$ 行，每行包含两个正整数 $p_i\n, q_i$ 表示第二棵树中包含一条 $p_i$\n和 $q_i$ 之间的边。", "outputFormat": "输出一行包含一个整数表示答案。", "hint": "对于 $20\\%$ 的评测用例，$1 ≤ n, m ≤ 500 $；  \n对于所有评测用例，$1 ≤ n, m ≤ 2 × 10^5，1 ≤ c_i\n, d_i ≤ 10^8 ，1 ≤ u_i\n, v_i ≤ n ，\n1 ≤ p_i\n, q_i ≤ m $，对于任意结点，其儿子结点的权重互不相同。", "locale": "zh-CN"}}}
{"pid": "P10389", "type": "P", "difficulty": 4, "samples": [["5 3 1\n3 2 5 2 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "2024", "蓝桥杯省赛"], "title": "[蓝桥杯 2024 省 A] 成绩统计", "background": "", "description": "小蓝的班上有 $n$ 个人，一次考试之后小蓝想统计同学们的成绩，第 $i$ 名同学的成绩为 $a_i$。当小蓝统计完前 $x$ 名同学的成绩后，他可以从 $1 \\sim x$ 中选出任意 $k$ 名同学的成绩，计算出这 $k$ 个成绩的方差。小蓝至少要检查多少个人的成\n绩，才有可能选出 $k$ 名同学，他们的方差小于一个给定的值 $T$？\n提示：$k$ 个数 $v_1, v_2, \\cdots , v_k$ 的方差 $\\sigma^2$ 定义为：$\\sigma^2=\\dfrac  {\\sum_{i=1}^k(v_i-\\bar v)^2} k$，其中 $\\bar v$ 表示\n$v_i$ 的平均值，$\\bar v = \\dfrac {\\sum_{i=1}^k v_i} k$。", "inputFormat": "输入的第一行包含三个正整数 $n, k, T $，相邻整数之间使用一个空格分隔。\n\n第二行包含 $n$ 个正整数 $a_1, a2, \\cdots, a_n$ ，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。如果不能满足条件，输出 $-1$ 。", "hint": "检查完前三名同学的成绩后，只能选出 $3, 2, 5 $，方差为 $1.56 $；\n\n检查完前四名同学的成绩后，可以选出 $3, 2, 2 $，方差为 $0.22 < 1 $，所以答案为 $4 $。\n\n对于 $10\\%$ 的评测用例，保证 $1 ≤ n, k ≤ 10^2$；  \n对于 $30\\%$ 的评测用例，保证 $1 ≤ n, k ≤ 10^3$ ；  \n对于所有评测用例，保证 $1 ≤ n, k ≤ 10^5 $，$1 ≤ T ≤ 2\n^{31} -1 $，$1 ≤ a_i ≤ n $。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 省 A] 成绩统计", "background": "", "description": "小蓝的班上有 $n$ 个人，一次考试之后小蓝想统计同学们的成绩，第 $i$ 名同学的成绩为 $a_i$。当小蓝统计完前 $x$ 名同学的成绩后，他可以从 $1 \\sim x$ 中选出任意 $k$ 名同学的成绩，计算出这 $k$ 个成绩的方差。小蓝至少要检查多少个人的成\n绩，才有可能选出 $k$ 名同学，他们的方差小于一个给定的值 $T$？\n提示：$k$ 个数 $v_1, v_2, \\cdots , v_k$ 的方差 $\\sigma^2$ 定义为：$\\sigma^2=\\dfrac  {\\sum_{i=1}^k(v_i-\\bar v)^2} k$，其中 $\\bar v$ 表示\n$v_i$ 的平均值，$\\bar v = \\dfrac {\\sum_{i=1}^k v_i} k$。", "inputFormat": "输入的第一行包含三个正整数 $n, k, T $，相邻整数之间使用一个空格分隔。\n\n第二行包含 $n$ 个正整数 $a_1, a2, \\cdots, a_n$ ，相邻整数之间使用一个空格分隔。", "outputFormat": "输出一行包含一个整数表示答案。如果不能满足条件，输出 $-1$ 。", "hint": "检查完前三名同学的成绩后，只能选出 $3, 2, 5 $，方差为 $1.56 $；\n\n检查完前四名同学的成绩后，可以选出 $3, 2, 2 $，方差为 $0.22 < 1 $，所以答案为 $4 $。\n\n对于 $10\\%$ 的评测用例，保证 $1 ≤ n, k ≤ 10^2$；  \n对于 $30\\%$ 的评测用例，保证 $1 ≤ n, k ≤ 10^3$ ；  \n对于所有评测用例，保证 $1 ≤ n, k ≤ 10^5 $，$1 ≤ T ≤ 2\n^{31} -1 $，$1 ≤ a_i ≤ n $。", "locale": "zh-CN"}}}
