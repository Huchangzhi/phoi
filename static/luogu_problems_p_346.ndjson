{"pid": "P8011", "type": "P", "difficulty": 7, "samples": [["2 2 2 1\n1 1\n1 1\n2 2 2\n1 1\n1 1", "1\n500000005"], ["5 5 5 1\n1 4 2 3 3\n3 1 1 4\n3 5 1 4\n4 1 4 1 4\n2 5 3\n1 5\n9 9 8 2 4\n4 3 5 3 2\n1 4 7 4 8\n3 6 4 7 1\n1 4 5 1 4", "250000002\n273809526\n931547626\n97163867\n377852186"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "O2优化", "AC 自动机"], "title": "「Wdsr-3」蓬莱药局（gene）", "background": "八意永琳是居住在永远亭的医生。她有着精湛的医术以及大量的医学知识，因而可以制造出各种的药物。\n\n尽管如此，八意永琳常常为新的药物进行试验（包括但不限于对铃仙下手）。不过，八意永琳也开始使用被称为「培养基」一类的东西，培养被称为「细菌」的微小妖怪作为实验材料了。\n\n细菌的分裂能力很强。每一次分裂，细菌的数目都能翻倍。更有意思的是，产生的细菌的子代不一定与亲代相同。换言之，子代细菌会发生变异，从而为永琳的药物实验提供了大量的材料。当然了，细菌太多也是一件苦恼的事情；如果培养基里长满了四处活跃的细菌，那么永琳将不得不采取措施，消灭它们。\n\n在执行一次新的培养之前，永琳希望对细菌上的基因进行一些研究；由于永琳忙着去制药，因此这个任务就交给你了。", "description": "为了更方便地描述题意，我们先给出以下定义：\n\n- **子段**：我们定义数组 $B$ 是数组 $A$ 从 $P$ 位置开始的子段，当且仅当 $|A| + P - 1 \\le |B|$ 且 $B_1=A_P,B_2=A_{P+1},\\dots,B_{|B|}=A_{P+{|B|}-1}$．\n- **作为子段的出现次数**：我们定义数组 $B$ 在数组 $A$ 中作为子段的出现次数为：初始设次数为 $0$．枚举每个不同的 $P$，若数组 $B$ 是数组 $A$ 从 $P$ 位置开始的子段，则将次数加一．最后得到的值即为数组 $B$ 在数组 $A$ 中作为子段的出现次数．\n- **基因数组**：每个细菌都有一个「基因数组」．它是一个值域为 $[1,k]$ 的整数数组．\n- **目标数组**：「目标数组」是一个值域为 $[1,k]$ 的整数数组．在本题中，我们会给定 $m$ 个不同的「目标数组」，第 $i$ 个数组为 $g_i$．\n- **目标细菌**：对于一个细菌，记它的「基因数组」为 $X$．我们统计每个「目标数组」$g_1, g_2, \\dots, g_m$ 分别在 $X$ 中「作为子段的出现次数」，并将它们求和．若得到的和为 **奇数**，则我们称这个细菌为一个「目标细菌」．\n- **基因突变**：「基因突变」是作用于一个细菌的变换．给定一个 $k \\times k$ 的突变概率矩阵 $p$．记这个细菌的「基因数组」为 $X$．对于 $x$ 中的每个元素 $X_i$，$X_i$ 会以 $p_{X_i,j}$ 的概率替换为 $j$（$1 \\le j \\le k$）．根据此定义，显然有 $\\forall i \\in [1,k], \\sum_{i=j}^k p_{i,j}=1$．\n\n一次实验的过程如下：\n\n- 首先在一个空的培养皿中放入一个指定的细菌．\n- 在接下来的每分钟，现有的每个细菌会分裂成两个细菌，每个细菌的「基因数组」与原细菌完全相同．分裂之后，每个基因都会进行一次「基因突变」．\n- $t$ 分钟后，统计培养皿中「目标细菌」的数量，并结束实验．\n\n现在给定一个长度为 $n$ 的「基因数组」$s$．对于 $s$ 的每个前缀数组 $s[1,1],s[1,2],\\dots,s[1,n]$，假设该数组是实验开始时放入的细菌的「基因数组」，请你求出实验结束时得到的「目标细菌」的数量的期望，对 $10^9+7$ 取模．\n", "inputFormat": "- 第一行输入四个整数，$n,m,k,t$．\n- 第二行输入 $n$ 个整数，描述数组 $s$．\n- 接下来输入 $m$ 行．每行第一个整数 $|g_i|$ 表示「目标数组」$g_i$ 的长度．接下来 $|g_i|$ 个整数描述「目标数组」$g_i$．\n- 由于 $p$ 矩阵为实数矩阵，输入不方便，因此我们采用另一种方式输入 $p$ 矩阵．具体而言，接下来输入 $k$ 行，每行包含 $k$ 个整数，描述一个 $k \\times k$ 的矩阵 $p'$．则有\n\n$$\np_{i,j}=\\frac{p'_{i,j}}{\\sum_{l=1}^k p'_{i,l}}.\n$$\n", "outputFormat": "- 输出 $n$ 行，每行一个整数．表示假设以 $s[1,i]$ 为初始细菌的「基因数组」，实验结束后能得到的「目标细菌」的数量的期望，对 $10^9+7$ 取模．", "hint": "### 样例解释\n\n#### 样例 \\#1\n\n- 当前缀长度为 $1$ 时，初始细菌的「基因数组」为 $\\{1\\}$．分裂一次后变为 $\\{1\\}$ 和 $\\{2\\}$ 的概率均为 $\\frac 1 2$．若变为 $\\{1\\}$，则是「目标细菌」；若变为 $\\{2\\}$，则不是「目标细菌」．分裂一次后培养皿中有 $2$ 个细菌，故「目标细菌」总数的期望为 $\\frac 1 2\\times 2=1$．  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ytz7qxkl.png)\n- 当前缀长度为 $2$ 时，初始细菌的「基因数组」为 $\\{1, 1\\}$．分裂一次后的细菌变为 $\\{1, 1\\}, \\{1, 2\\}, \\{2, 1\\}, \\{2, 2\\}$ 的概率都为 $\\frac 1 4$．其中 $\\{2, 2\\},\\{1,2\\},\\{2,1\\}$ 均为「目标细菌」，$\\{1,1\\}$ 不是「目标细菌」（因为出现了两次子串 $\\{1\\}$）．即分裂后的「目标细菌」的总数的期望为 $\\frac 3 4$．分裂一次后培养皿中有 $2$ 个细菌．即最后「目标细菌」数量之和的期望为 $\\frac 3 4\\times 2=\\frac 3 2$．  \n![](https://cdn.luogu.com.cn/upload/image_hosting/cjx85fuk.png)\n\n### 数据范围\n\n**本题采用捆绑测试，且不存在一个 Subtask 包含其他所有 Subtask 的数据范围和限制．**\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|c|} \\hline\n\\textbf{Subtask} & \\textbf{分值} &\\bm{n\\le} & \\bm{m\\le} &\\bm{k\\le}&\\bm{t\\le} & \\bm {|g_i|\\le} &  \\textbf{特殊性质} \\cr \\hline\n1 & 1 & 10^5 & 10^5 & 100 & 0 & 10^5 \\cr \\hline\n2 & 14 & 5 & 5 & 5 & 1 & 5 \\cr \\hline\n3 & 15 & 10^3 & 1 & 10^3 & 1 & 100 & \\text{A} \\cr \\hline\n4 & 30 & 5\\times 10^4 & 5 & 10 & 1 & 50 & \\text{B} \\cr \\hline\n5 & 20 & 5\\times 10^4 & 5 & 10 & 10^3 & 50 \\cr \\hline\n6 & 20 & 10^3 & 10^4 & 10 & 10^3 &  10^4 & \\text{C}\\cr \\hline\n\\end{array}\n$$\n\n- **特殊性质** $\\textbf{A}$：对于 $i=1,2,\\dots,m$，保证 $g_{i}$ 中所有整数均为 $1$\n- **特殊性质** $\\textbf{B}$：对于 $i=1,2,\\dots, k$，$j=1,2,\\dots,k$，保证 $p'_{i,j}=1$ \n- **特殊性质** $\\textbf{C}$：保证 $\\sum_{i=1}^m |g_i|\\le 10^4$\n\n对于所有数据，保证 $1\\le n,m,\\sum|g_i| \\le 10^5$．$0\\le t\\le 10^3$，$0\\le p'_{i,j} \\le 10^9$．且 $p'$ 矩阵不会出现某一行的和在模 $10^9+7$ 意义下为 $0$．\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdsr-3」蓬莱药局（gene）", "background": "八意永琳是居住在永远亭的医生。她有着精湛的医术以及大量的医学知识，因而可以制造出各种的药物。\n\n尽管如此，八意永琳常常为新的药物进行试验（包括但不限于对铃仙下手）。不过，八意永琳也开始使用被称为「培养基」一类的东西，培养被称为「细菌」的微小妖怪作为实验材料了。\n\n细菌的分裂能力很强。每一次分裂，细菌的数目都能翻倍。更有意思的是，产生的细菌的子代不一定与亲代相同。换言之，子代细菌会发生变异，从而为永琳的药物实验提供了大量的材料。当然了，细菌太多也是一件苦恼的事情；如果培养基里长满了四处活跃的细菌，那么永琳将不得不采取措施，消灭它们。\n\n在执行一次新的培养之前，永琳希望对细菌上的基因进行一些研究；由于永琳忙着去制药，因此这个任务就交给你了。", "description": "为了更方便地描述题意，我们先给出以下定义：\n\n- **子段**：我们定义数组 $B$ 是数组 $A$ 从 $P$ 位置开始的子段，当且仅当 $|A| + P - 1 \\le |B|$ 且 $B_1=A_P,B_2=A_{P+1},\\dots,B_{|B|}=A_{P+{|B|}-1}$．\n- **作为子段的出现次数**：我们定义数组 $B$ 在数组 $A$ 中作为子段的出现次数为：初始设次数为 $0$．枚举每个不同的 $P$，若数组 $B$ 是数组 $A$ 从 $P$ 位置开始的子段，则将次数加一．最后得到的值即为数组 $B$ 在数组 $A$ 中作为子段的出现次数．\n- **基因数组**：每个细菌都有一个「基因数组」．它是一个值域为 $[1,k]$ 的整数数组．\n- **目标数组**：「目标数组」是一个值域为 $[1,k]$ 的整数数组．在本题中，我们会给定 $m$ 个不同的「目标数组」，第 $i$ 个数组为 $g_i$．\n- **目标细菌**：对于一个细菌，记它的「基因数组」为 $X$．我们统计每个「目标数组」$g_1, g_2, \\dots, g_m$ 分别在 $X$ 中「作为子段的出现次数」，并将它们求和．若得到的和为 **奇数**，则我们称这个细菌为一个「目标细菌」．\n- **基因突变**：「基因突变」是作用于一个细菌的变换．给定一个 $k \\times k$ 的突变概率矩阵 $p$．记这个细菌的「基因数组」为 $X$．对于 $x$ 中的每个元素 $X_i$，$X_i$ 会以 $p_{X_i,j}$ 的概率替换为 $j$（$1 \\le j \\le k$）．根据此定义，显然有 $\\forall i \\in [1,k], \\sum_{i=j}^k p_{i,j}=1$．\n\n一次实验的过程如下：\n\n- 首先在一个空的培养皿中放入一个指定的细菌．\n- 在接下来的每分钟，现有的每个细菌会分裂成两个细菌，每个细菌的「基因数组」与原细菌完全相同．分裂之后，每个基因都会进行一次「基因突变」．\n- $t$ 分钟后，统计培养皿中「目标细菌」的数量，并结束实验．\n\n现在给定一个长度为 $n$ 的「基因数组」$s$．对于 $s$ 的每个前缀数组 $s[1,1],s[1,2],\\dots,s[1,n]$，假设该数组是实验开始时放入的细菌的「基因数组」，请你求出实验结束时得到的「目标细菌」的数量的期望，对 $10^9+7$ 取模．\n", "inputFormat": "- 第一行输入四个整数，$n,m,k,t$．\n- 第二行输入 $n$ 个整数，描述数组 $s$．\n- 接下来输入 $m$ 行．每行第一个整数 $|g_i|$ 表示「目标数组」$g_i$ 的长度．接下来 $|g_i|$ 个整数描述「目标数组」$g_i$．\n- 由于 $p$ 矩阵为实数矩阵，输入不方便，因此我们采用另一种方式输入 $p$ 矩阵．具体而言，接下来输入 $k$ 行，每行包含 $k$ 个整数，描述一个 $k \\times k$ 的矩阵 $p'$．则有\n\n$$\np_{i,j}=\\frac{p'_{i,j}}{\\sum_{l=1}^k p'_{i,l}}.\n$$\n", "outputFormat": "- 输出 $n$ 行，每行一个整数．表示假设以 $s[1,i]$ 为初始细菌的「基因数组」，实验结束后能得到的「目标细菌」的数量的期望，对 $10^9+7$ 取模．", "hint": "### 样例解释\n\n#### 样例 \\#1\n\n- 当前缀长度为 $1$ 时，初始细菌的「基因数组」为 $\\{1\\}$．分裂一次后变为 $\\{1\\}$ 和 $\\{2\\}$ 的概率均为 $\\frac 1 2$．若变为 $\\{1\\}$，则是「目标细菌」；若变为 $\\{2\\}$，则不是「目标细菌」．分裂一次后培养皿中有 $2$ 个细菌，故「目标细菌」总数的期望为 $\\frac 1 2\\times 2=1$．  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ytz7qxkl.png)\n- 当前缀长度为 $2$ 时，初始细菌的「基因数组」为 $\\{1, 1\\}$．分裂一次后的细菌变为 $\\{1, 1\\}, \\{1, 2\\}, \\{2, 1\\}, \\{2, 2\\}$ 的概率都为 $\\frac 1 4$．其中 $\\{2, 2\\},\\{1,2\\},\\{2,1\\}$ 均为「目标细菌」，$\\{1,1\\}$ 不是「目标细菌」（因为出现了两次子串 $\\{1\\}$）．即分裂后的「目标细菌」的总数的期望为 $\\frac 3 4$．分裂一次后培养皿中有 $2$ 个细菌．即最后「目标细菌」数量之和的期望为 $\\frac 3 4\\times 2=\\frac 3 2$．  \n![](https://cdn.luogu.com.cn/upload/image_hosting/cjx85fuk.png)\n\n### 数据范围\n\n**本题采用捆绑测试，且不存在一个 Subtask 包含其他所有 Subtask 的数据范围和限制．**\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|c|c|c|} \\hline\n\\textbf{Subtask} & \\textbf{分值} &\\bm{n\\le} & \\bm{m\\le} &\\bm{k\\le}&\\bm{t\\le} & \\bm {|g_i|\\le} &  \\textbf{特殊性质} \\cr \\hline\n1 & 1 & 10^5 & 10^5 & 100 & 0 & 10^5 \\cr \\hline\n2 & 14 & 5 & 5 & 5 & 1 & 5 \\cr \\hline\n3 & 15 & 10^3 & 1 & 10^3 & 1 & 100 & \\text{A} \\cr \\hline\n4 & 30 & 5\\times 10^4 & 5 & 10 & 1 & 50 & \\text{B} \\cr \\hline\n5 & 20 & 5\\times 10^4 & 5 & 10 & 10^3 & 50 \\cr \\hline\n6 & 20 & 10^3 & 10^4 & 10 & 10^3 &  10^4 & \\text{C}\\cr \\hline\n\\end{array}\n$$\n\n- **特殊性质** $\\textbf{A}$：对于 $i=1,2,\\dots,m$，保证 $g_{i}$ 中所有整数均为 $1$\n- **特殊性质** $\\textbf{B}$：对于 $i=1,2,\\dots, k$，$j=1,2,\\dots,k$，保证 $p'_{i,j}=1$ \n- **特殊性质** $\\textbf{C}$：保证 $\\sum_{i=1}^m |g_i|\\le 10^4$\n\n对于所有数据，保证 $1\\le n,m,\\sum|g_i| \\le 10^5$．$0\\le t\\le 10^3$，$0\\le p'_{i,j} \\le 10^9$．且 $p'$ 矩阵不会出现某一行的和在模 $10^9+7$ 意义下为 $0$．\n", "locale": "zh-CN"}}}
{"pid": "P8012", "type": "P", "difficulty": 1, "samples": [["2\n5", "9 10"], ["3\n5", "7 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #4] NASLJEDSTVO", "background": "", "description": "有若干个金币，一个人将这堆金币尽量 $N$ 等分并拿走了一份，剩下 $O$ 个金币。\n\n所谓『尽量 $N$ 等分』，是指将这堆金币分成 $N$ 堆，每堆所含的金币数是整数，且每两对金币的数量相差不超过 $1$。\n\n我们约定这个人拿走的那一份金币是比较少的一份。\n\n请你分别求出这堆金币原来最少有多少个和最多有多少个。", "inputFormat": "第一行，一个正整数 $N$，表示分成了 $N$ 等份；\n\n第二行，一个正整数 $O$，表示拿走 $N$ 份中的 $1$ 份后剩下 $O$ 个金币。", "outputFormat": "一行，两个正整数，分别表示这堆金币原来最少有多少个和最多有多少个。", "hint": "**【样例解释 #1】**\n\n这堆金币可能原来有 $9$ 个，这个人可能将其分成 $4+5$ 个，自己拿走 $4$ 个；\n\n这堆金币可能原来有 $10$ 个，这个人可能将其分成 $5+5$ 个，自己拿走 $5$ 个。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le N\\le 15$，$N\\le O\\le 100$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T1 NASLJEDSTVO**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #4] NASLJEDSTVO", "background": "", "description": "有若干个金币，一个人将这堆金币尽量 $N$ 等分并拿走了一份，剩下 $O$ 个金币。\n\n所谓『尽量 $N$ 等分』，是指将这堆金币分成 $N$ 堆，每堆所含的金币数是整数，且每两对金币的数量相差不超过 $1$。\n\n我们约定这个人拿走的那一份金币是比较少的一份。\n\n请你分别求出这堆金币原来最少有多少个和最多有多少个。", "inputFormat": "第一行，一个正整数 $N$，表示分成了 $N$ 等份；\n\n第二行，一个正整数 $O$，表示拿走 $N$ 份中的 $1$ 份后剩下 $O$ 个金币。", "outputFormat": "一行，两个正整数，分别表示这堆金币原来最少有多少个和最多有多少个。", "hint": "**【样例解释 #1】**\n\n这堆金币可能原来有 $9$ 个，这个人可能将其分成 $4+5$ 个，自己拿走 $4$ 个；\n\n这堆金币可能原来有 $10$ 个，这个人可能将其分成 $5+5$ 个，自己拿走 $5$ 个。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le N\\le 15$，$N\\le O\\le 100$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T1 NASLJEDSTVO**_。", "locale": "zh-CN"}}}
{"pid": "P8013", "type": "P", "difficulty": 2, "samples": [["GTA\nCAT\n5 7 1 3 ", "10"], ["TATA\nCACA\n3 0 3 0", "3"], ["TCGCGAG\nTGCAG\n10 10 15 15 ", "25"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #4] GMO", "background": "", "description": "给定一个由 `A` `C` `G` `T` 组成的字符串，你需要在这个字符串中插入若干个 `A` `C` `G` `T`，使字符串中包含目标字符串，并使花费的代价最少。\n\n其中插入不同的字符花费的代价也是不同的。", "inputFormat": "第一行，一个字符串 $N$，代表原字符串；\n\n第二行，一个字符串 $M$，代表目标字符串；\n\n第三行，四个正整数 $a,c,g,v$，分别表示插入一个 `A` 花费的代价，插入一个 `C` 花费的代价，插入一个 `G` 花费的代价，插入一个 `T` 花费的代价。", "outputFormat": "一行，一个正整数，表示最小花费。", "hint": "**【样例解释 #1】**\n\n可能的方法中有：`GTCAT`，花费 $10$，可以证明是最小花费。\n\n**【数据范围】**\n\n对于 $80\\%$ 的数据，$1\\le |N|,|M|\\le 2000$；\n\n对于 $100\\%$ 的数据，$1\\le |N|\\le 10000$，$1\\le |M|\\le 5000$，$0\\le a,c,g,v\\le 1000$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $80$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T2 GMO**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #4] GMO", "background": "", "description": "给定一个由 `A` `C` `G` `T` 组成的字符串，你需要在这个字符串中插入若干个 `A` `C` `G` `T`，使字符串中包含目标字符串，并使花费的代价最少。\n\n其中插入不同的字符花费的代价也是不同的。", "inputFormat": "第一行，一个字符串 $N$，代表原字符串；\n\n第二行，一个字符串 $M$，代表目标字符串；\n\n第三行，四个正整数 $a,c,g,v$，分别表示插入一个 `A` 花费的代价，插入一个 `C` 花费的代价，插入一个 `G` 花费的代价，插入一个 `T` 花费的代价。", "outputFormat": "一行，一个正整数，表示最小花费。", "hint": "**【样例解释 #1】**\n\n可能的方法中有：`GTCAT`，花费 $10$，可以证明是最小花费。\n\n**【数据范围】**\n\n对于 $80\\%$ 的数据，$1\\le |N|,|M|\\le 2000$；\n\n对于 $100\\%$ 的数据，$1\\le |N|\\le 10000$，$1\\le |M|\\le 5000$，$0\\le a,c,g,v\\le 1000$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $80$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T2 GMO**_。", "locale": "zh-CN"}}}
{"pid": "P8014", "type": "P", "difficulty": 4, "samples": [["5\n5\n1 2\n2 3\n3 4\n4 5\n5 1", "5"], ["6\n8\n1 2\n3 4\n5 6\n1 3\n1 6\n4 5\n2 4\n2 6\n", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #4] SUMO", "background": "", "description": "有 $N$ 个选手参加 $M$ 场 $1$ 对 $1$ 的比赛，比赛顺序已经定好。\n\n现在让你将这些选手分成 $2$ 队，使选手尽可能晚地碰到同队的选手。\n\n输出最优方案下第一次有选手碰到同队的的选手的比赛序号。", "inputFormat": "第一行，一个正整数 $N$，表示有 $N$ 个选手；\n\n第二行，一个正整数 $M$，表示有 $M$ 场比赛；\n\n接下来 $M$ 行，每行两个正整数 $A_i$ 和 $B_i$，表示序号为 $i$ 的比赛参与的选手是序号为 $A_i$ 和 $B_i$ 的两位选手。", "outputFormat": "一行，一个正整数，表示最优分队方案下第一次有选手碰到同队的的选手的比赛序号。", "hint": "**【样例解释 #1】**\n\n$[1,3,5]$ 一队， $[2,4]$ 一队。\n\n可以证明这是最优方案。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le A_i,B_i\\le N\\le 10^5$，$1\\le M\\le 3\\times 10^5$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T3 SUMO**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #4] SUMO", "background": "", "description": "有 $N$ 个选手参加 $M$ 场 $1$ 对 $1$ 的比赛，比赛顺序已经定好。\n\n现在让你将这些选手分成 $2$ 队，使选手尽可能晚地碰到同队的选手。\n\n输出最优方案下第一次有选手碰到同队的的选手的比赛序号。", "inputFormat": "第一行，一个正整数 $N$，表示有 $N$ 个选手；\n\n第二行，一个正整数 $M$，表示有 $M$ 场比赛；\n\n接下来 $M$ 行，每行两个正整数 $A_i$ 和 $B_i$，表示序号为 $i$ 的比赛参与的选手是序号为 $A_i$ 和 $B_i$ 的两位选手。", "outputFormat": "一行，一个正整数，表示最优分队方案下第一次有选手碰到同队的的选手的比赛序号。", "hint": "**【样例解释 #1】**\n\n$[1,3,5]$ 一队， $[2,4]$ 一队。\n\n可以证明这是最优方案。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le A_i,B_i\\le N\\le 10^5$，$1\\le M\\le 3\\times 10^5$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T3 SUMO**_。", "locale": "zh-CN"}}}
{"pid": "P8015", "type": "P", "difficulty": 4, "samples": [["1\n2\n5", "5"], ["2\n3\n7\n14", "15"], ["9\n4\n2\n4\n1\n2\n2\n2\n8\n4\n2 ", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #4] GUMA", "background": "", "description": "给出一个 $N+1$ 列的矩形，第 $i$ 列必须通过水平切割 $A_i-1$ 次被等分成 $A_i$ 份，请你求出最少需要几次切割才能按要求分割完。\n\n$Tips:$ 一次切割一次可以在一个或多个不一定连续的列上进行分割。", "inputFormat": "第一行，一个正整数 $N$，表示这个矩形有 $N+1$ 列；\n\n接下来 $N+1$ 行，每行一个正整数 $A_i$，表示第 $i$ 列必须通过水平切割 $A_i-1$ 次被等分成 $A_i$ 份。", "outputFormat": "一行，一个正整数，表示最小分割数。", "hint": "**【样例解释 #3】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v45dq77p.png)\n\n共 $7$ 次切割。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，$1\\le N\\le 100$；\n\n对于 $100\\%$ 的数据，$1\\le N,A_i\\le 10^5$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $120$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T4 GUMA**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #4] GUMA", "background": "", "description": "给出一个 $N+1$ 列的矩形，第 $i$ 列必须通过水平切割 $A_i-1$ 次被等分成 $A_i$ 份，请你求出最少需要几次切割才能按要求分割完。\n\n$Tips:$ 一次切割一次可以在一个或多个不一定连续的列上进行分割。", "inputFormat": "第一行，一个正整数 $N$，表示这个矩形有 $N+1$ 列；\n\n接下来 $N+1$ 行，每行一个正整数 $A_i$，表示第 $i$ 列必须通过水平切割 $A_i-1$ 次被等分成 $A_i$ 份。", "outputFormat": "一行，一个正整数，表示最小分割数。", "hint": "**【样例解释 #3】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v45dq77p.png)\n\n共 $7$ 次切割。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，$1\\le N\\le 100$；\n\n对于 $100\\%$ 的数据，$1\\le N,A_i\\le 10^5$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $120$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T4 GUMA**_。", "locale": "zh-CN"}}}
{"pid": "P8016", "type": "P", "difficulty": 5, "samples": [["5\n11 10 9 6 4 ", "1\n2\n3\n6\n12"], ["3\n5 5 5", "-1\n-1\n1"], ["8\n12 16 95 96 138 56 205 84", "1\n5\n14\n49\n96\n97\n139\n206"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）", "整除分块"], "title": "[COCI 2013/2014 #4] ČOKOLADE", "background": "", "description": "Mirko 举行了 $N$ 场聚会，每天举行一场，对于第 $i$ 场聚会他会邀请每桌 $i$ 个人。\n\nMirko 准备了 $N$ 张桌子，第 $i$ 张桌子上放了 $V_i$ 颗糖。\n\n当每个被邀请的人入座后，坐在同一桌的人会平分这个桌子上的糖。或者说，对于第 $i$ 天的第 $j$ 个桌子，坐在这个桌子的每个人会得到 $\\lfloor \\dfrac{V_j}{i} \\rfloor$ 颗糖。\n\n糖果数量每天都会更新，不会因为平分而减少。\n\n只有人均得到糖果相同的桌子才会社交。\n\n现在，Mirko 想让你对于 $1$ 到 $N$ 中的每一个正整数 $s$，求出正好有 $s$ 桌社交的最早的一天是第几天。", "inputFormat": "第一行，一个正整数 $N$，表示聚会场数；\n\n第二行，$N$ 个正整数 $V_i$，表示第 $i$ 个桌子上放了 $V_i$ 颗糖。", "outputFormat": "共 $N$ 行，每行一个正整数，第 $i$ 行表示正好有 $i$ 桌社交的最早的一天是第几天，若没有正好 $i$ 桌社交的情况则输出 `-1`。", "hint": "**【样例解释 #1】**\n\n第一天，所有桌都不会跟别的桌交流；\n\n第二天，$1,2$ 号桌每个人都拿到了 $5$ 颗糖，故这两桌的人会交流；\n\n第三天，$1,2,3$ 号桌每个人都拿到了 $3$ 颗糖，故这三桌的人会交流；\n\n第六天，$1,2,3,4$ 号桌每个人都拿到了 $1$ 颗糖，故这四桌的人会交流；\n\n第十二天，$1,2,3,4,5$ 号桌每个人都拿到了 $0$ 颗糖，故这五桌的人会交流；\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 100$，$1\\le V_i\\le 10^8$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $140$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T5 ČOKOLADE**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #4] ČOKOLADE", "background": "", "description": "Mirko 举行了 $N$ 场聚会，每天举行一场，对于第 $i$ 场聚会他会邀请每桌 $i$ 个人。\n\nMirko 准备了 $N$ 张桌子，第 $i$ 张桌子上放了 $V_i$ 颗糖。\n\n当每个被邀请的人入座后，坐在同一桌的人会平分这个桌子上的糖。或者说，对于第 $i$ 天的第 $j$ 个桌子，坐在这个桌子的每个人会得到 $\\lfloor \\dfrac{V_j}{i} \\rfloor$ 颗糖。\n\n糖果数量每天都会更新，不会因为平分而减少。\n\n只有人均得到糖果相同的桌子才会社交。\n\n现在，Mirko 想让你对于 $1$ 到 $N$ 中的每一个正整数 $s$，求出正好有 $s$ 桌社交的最早的一天是第几天。", "inputFormat": "第一行，一个正整数 $N$，表示聚会场数；\n\n第二行，$N$ 个正整数 $V_i$，表示第 $i$ 个桌子上放了 $V_i$ 颗糖。", "outputFormat": "共 $N$ 行，每行一个正整数，第 $i$ 行表示正好有 $i$ 桌社交的最早的一天是第几天，若没有正好 $i$ 桌社交的情况则输出 `-1`。", "hint": "**【样例解释 #1】**\n\n第一天，所有桌都不会跟别的桌交流；\n\n第二天，$1,2$ 号桌每个人都拿到了 $5$ 颗糖，故这两桌的人会交流；\n\n第三天，$1,2,3$ 号桌每个人都拿到了 $3$ 颗糖，故这三桌的人会交流；\n\n第六天，$1,2,3,4$ 号桌每个人都拿到了 $1$ 颗糖，故这四桌的人会交流；\n\n第十二天，$1,2,3,4,5$ 号桌每个人都拿到了 $0$ 颗糖，故这五桌的人会交流；\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 100$，$1\\le V_i\\le 10^8$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $140$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T5 ČOKOLADE**_。", "locale": "zh-CN"}}}
{"pid": "P8017", "type": "P", "difficulty": 5, "samples": [["3 4\n1 2 3 0\n2 3 3 0\n3 1 0 100\n2 1 0 4 \n", "2 1"], ["5 7\n1 2 4 1\n2 3 5 1\n3 1 1 6\n1 3 15 5\n2 4 7 5\n4 5 1 4\n5 3 1 0 \n", "5 2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "矩阵加速", "矩阵乘法", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #4] UTRKA", "background": "", "description": "Mirko 和 Slvako 参加了一次竞速比赛，这次比赛的地图有 $N$ 个村庄和 $M$ 条路。对于第 $i$ 条路有两个参数 $M_i$ 和 $S_i$，分别表示 Mirko 和 Slvako 通过这条路所需的时间。\n\n比赛以同一个村庄为起点和终点。现在请你求出一条路线，使得 Mirko 通过这条路线所需的时间尽可能地优于 Slvako 通过这条路线所需的时间。\n\n换句话说，令 $X$ 为 Mirko 通过路线所需的时间，$Y$ 为 Slvako 通过路线所需的时间，你需要求出一条路线，使这条路线通过的村庄数尽可能少的同时使 $Y-X$ 尽可能大。", "inputFormat": "第一行，两个正整数 $N$ 和 $M$，表示共 $N$ 个村庄和 $M$ 条道路；\n\n接下来 $M$ 行，每行四个正整数 $A_i,B_i,M_i,S_i$，分别表示第 $i$ 条道路连接村庄 $A_i$ 与 $B_i$，Mirko 通过这条路线所需的时间为 $M_i$，Slvako 通过这条路线所需的时间为 $S_i$。", "outputFormat": "一行，两个正整数，分别表示所求道路通过的村庄数以及在这些通过村庄数最小的道路中使 $Y-X$ 最大的那条道路的 $Y-X$ 的值。", "hint": "**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le A_i,B_i\\le N\\le 300$，$A_i\\ne B_i$，$2\\le M\\le N\\times (N-1)$，$0\\le M_i,S_i\\le 10^6$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $160$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T6 UTRKA**_。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #4] UTRKA", "background": "", "description": "Mirko 和 Slvako 参加了一次竞速比赛，这次比赛的地图有 $N$ 个村庄和 $M$ 条路。对于第 $i$ 条路有两个参数 $M_i$ 和 $S_i$，分别表示 Mirko 和 Slvako 通过这条路所需的时间。\n\n比赛以同一个村庄为起点和终点。现在请你求出一条路线，使得 Mirko 通过这条路线所需的时间尽可能地优于 Slvako 通过这条路线所需的时间。\n\n换句话说，令 $X$ 为 Mirko 通过路线所需的时间，$Y$ 为 Slvako 通过路线所需的时间，你需要求出一条路线，使这条路线通过的村庄数尽可能少的同时使 $Y-X$ 尽可能大。", "inputFormat": "第一行，两个正整数 $N$ 和 $M$，表示共 $N$ 个村庄和 $M$ 条道路；\n\n接下来 $M$ 行，每行四个正整数 $A_i,B_i,M_i,S_i$，分别表示第 $i$ 条道路连接村庄 $A_i$ 与 $B_i$，Mirko 通过这条路线所需的时间为 $M_i$，Slvako 通过这条路线所需的时间为 $S_i$。", "outputFormat": "一行，两个正整数，分别表示所求道路通过的村庄数以及在这些通过村庄数最小的道路中使 $Y-X$ 最大的那条道路的 $Y-X$ 的值。", "hint": "**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le A_i,B_i\\le N\\le 300$，$A_i\\ne B_i$，$2\\le M\\le N\\times (N-1)$，$0\\le M_i,S_i\\le 10^6$。\n\n**【来源】**\n\n本题分值按 COCI 原题设置，满分 $160$。\n\n题目译自 [COCI2013-2014 CONTEST #4](https://hsin.hr/coci/archive/2013_2014/contest4_tasks.pdf) _**T6 UTRKA**_。", "locale": "zh-CN"}}}
{"pid": "P8018", "type": "P", "difficulty": 6, "samples": [["4 3 1\nDRD\nDUD\nDUD\nRUL", "4 2"], ["3 3 2\nRRR\nRRR\nRRR", "-1"], ["4 4 2\nRRDL\nRRDL\nDLRD\nRRRL", "2 3\n4 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #5] Strelice", "background": null, "description": "Hansel 和 Gretel 正在玩「箭头游戏」。\n\n该游戏在一个 $R$ 行 $S$ 列的棋盘上进行。其中每一个棋格内有一个箭头（$\\leftarrow$、$\\rightarrow$、$\\uparrow$、$\\downarrow$ 之一）。\n\n游戏开始后，Hansel 可以选择任意 $K$ 个**不位于最后一列的**棋格进行填涂。接着，Gretel 可以选择**第一列的**任意一个棋格，作为机器人的初始棋格。机器人在放置到初始棋格后将按照箭头的指示自动行走。机器人一旦走到了最后一列，它将立即停止行走。\n\n判定输赢的方式如下：\n\n- 如果机器人在有限的时间内停在了最后一列，那么：当且仅当机器人恰好经过一个有色棋格时，判定 Hansel 获胜，否则 Gretel 获胜。\n- 如果机器人无法停止行走（即处于无限循环的状态），那么判定 Hansel 获胜。\n\n规定机器人经过的棋格包括初始棋格、终止棋格以及路径上的其它所有棋格。同时，数据保证箭头不会指向棋盘外部。\n\n你的任务是判断 Hansel 是否有必胜的方案（即对于 Gretel 所选择的任意一个合法的初始棋格，Hansel 的填涂方案都可以使自己获胜）。如果有必胜的方案，输出该方案；否则输出 $-1$。", "inputFormat": "第一行，三个整数 $R,S,K$。\n\n接下来的 $R$ 行，每行 $S$ 个字符 $\\texttt L$、$\\texttt R$、$\\texttt U$ 或 $\\texttt D$，分别表示对应棋格内的箭头为 $\\leftarrow$、$\\rightarrow$、$\\uparrow$ 和 $\\downarrow$。", "outputFormat": "如果没有必胜的方案，输出 $-1$。\n\n否则输出 $K$ 行，每行两个整数 $A,B$，表示选择的 $K$ 个将要涂色的棋格。棋格必须互不相同。如果存在多种方案，请输出任意一种。\n\nSpecial Judge 对输出格式要求较严，因此**请勿在每行行尾添加多余空格。**", "hint": "**【样例 1 解释】**\n\n填涂 $(4,2)$ 后，无论初始棋格位于第一列的哪里，机器人都会经过 $(4,2)$。\n\n**【样例 2 解释】**\n\n由于需要填涂 $2$ 个棋格，因此至少有一行没有有色棋格。只要 Gretel 选择没有有色棋格的那一行的第一列放置机器人，Gretel 就会获胜。\n\n**【样例 3 图解】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oy6p59p5.png?x-oss-process=image/resize,m_lfit,h_200)\n\n**【数据规模与约定】**\n\n对于 $100\\%$ 的数据，$1 \\le R \\times S \\le 10^6$，$1 \\le K \\le 50$，$1 \\le A \\le R$，$1 \\le B \\lt S$。\n\n**【提示与说明】**\n\n欢迎大家通过私信或发帖对自行编写的 [Special Judge](https://www.luogu.com.cn/paste/k9jt7zoy) 进行 hack。\n\n**题目译自 [COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #5](https://hsin.hr/coci/archive/2016_2017/contest5_tasks.pdf) _T6 Strelice_。**\n\n**本题分值按 COCI 原题设置，满分 $160$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #5] Strelice", "background": null, "description": "Hansel 和 Gretel 正在玩「箭头游戏」。\n\n该游戏在一个 $R$ 行 $S$ 列的棋盘上进行。其中每一个棋格内有一个箭头（$\\leftarrow$、$\\rightarrow$、$\\uparrow$、$\\downarrow$ 之一）。\n\n游戏开始后，Hansel 可以选择任意 $K$ 个**不位于最后一列的**棋格进行填涂。接着，Gretel 可以选择**第一列的**任意一个棋格，作为机器人的初始棋格。机器人在放置到初始棋格后将按照箭头的指示自动行走。机器人一旦走到了最后一列，它将立即停止行走。\n\n判定输赢的方式如下：\n\n- 如果机器人在有限的时间内停在了最后一列，那么：当且仅当机器人恰好经过一个有色棋格时，判定 Hansel 获胜，否则 Gretel 获胜。\n- 如果机器人无法停止行走（即处于无限循环的状态），那么判定 Hansel 获胜。\n\n规定机器人经过的棋格包括初始棋格、终止棋格以及路径上的其它所有棋格。同时，数据保证箭头不会指向棋盘外部。\n\n你的任务是判断 Hansel 是否有必胜的方案（即对于 Gretel 所选择的任意一个合法的初始棋格，Hansel 的填涂方案都可以使自己获胜）。如果有必胜的方案，输出该方案；否则输出 $-1$。", "inputFormat": "第一行，三个整数 $R,S,K$。\n\n接下来的 $R$ 行，每行 $S$ 个字符 $\\texttt L$、$\\texttt R$、$\\texttt U$ 或 $\\texttt D$，分别表示对应棋格内的箭头为 $\\leftarrow$、$\\rightarrow$、$\\uparrow$ 和 $\\downarrow$。", "outputFormat": "如果没有必胜的方案，输出 $-1$。\n\n否则输出 $K$ 行，每行两个整数 $A,B$，表示选择的 $K$ 个将要涂色的棋格。棋格必须互不相同。如果存在多种方案，请输出任意一种。\n\nSpecial Judge 对输出格式要求较严，因此**请勿在每行行尾添加多余空格。**", "hint": "**【样例 1 解释】**\n\n填涂 $(4,2)$ 后，无论初始棋格位于第一列的哪里，机器人都会经过 $(4,2)$。\n\n**【样例 2 解释】**\n\n由于需要填涂 $2$ 个棋格，因此至少有一行没有有色棋格。只要 Gretel 选择没有有色棋格的那一行的第一列放置机器人，Gretel 就会获胜。\n\n**【样例 3 图解】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oy6p59p5.png?x-oss-process=image/resize,m_lfit,h_200)\n\n**【数据规模与约定】**\n\n对于 $100\\%$ 的数据，$1 \\le R \\times S \\le 10^6$，$1 \\le K \\le 50$，$1 \\le A \\le R$，$1 \\le B \\lt S$。\n\n**【提示与说明】**\n\n欢迎大家通过私信或发帖对自行编写的 [Special Judge](https://www.luogu.com.cn/paste/k9jt7zoy) 进行 hack。\n\n**题目译自 [COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #5](https://hsin.hr/coci/archive/2016_2017/contest5_tasks.pdf) _T6 Strelice_。**\n\n**本题分值按 COCI 原题设置，满分 $160$。**", "locale": "zh-CN"}}}
{"pid": "P8019", "type": "P", "difficulty": 4, "samples": [["3 2\n1 5 7", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2015", "位运算"], "title": "[ONTAK2015] OR-XOR", "background": "", "description": "给定一个长度为 $n$ 的序列 $a_1, a_2, \\cdots, a_n$，请将它划分为 $m$ 段连续的区间，设第 $i$ 段的费用 $c_i$ 为该段内所有数字的异或和，则总费用为 $c_1 \\operatorname{or} c_2 \\operatorname{or} \\cdots \\operatorname{or} c_m$。请求出总费用的最小值。", "inputFormat": "第一行，两个整数 $n, m$；\n\n第二行，$n$ 个整数 $a_1, a_2, \\cdots, a_n$。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq n \\leq 5 \\times 10^5$，$0 \\leq a_i \\leq 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] OR-XOR", "background": "", "description": "给定一个长度为 $n$ 的序列 $a_1, a_2, \\cdots, a_n$，请将它划分为 $m$ 段连续的区间，设第 $i$ 段的费用 $c_i$ 为该段内所有数字的异或和，则总费用为 $c_1 \\operatorname{or} c_2 \\operatorname{or} \\cdots \\operatorname{or} c_m$。请求出总费用的最小值。", "inputFormat": "第一行，两个整数 $n, m$；\n\n第二行，$n$ 个整数 $a_1, a_2, \\cdots, a_n$。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq n \\leq 5 \\times 10^5$，$0 \\leq a_i \\leq 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P8020", "type": "P", "difficulty": 4, "samples": [["7\n1 2 2 3 1 1 2\n6\n1 2 1 3 1 2\n2\n3 2", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2015"], "title": "[ONTAK2015] Badania naukowe", "background": "", "description": "给定三个数字串 $A, B, C$，请找到一个 $A, B$ 的最长公共子序列，满足 $C$ 是该子序列的子串。", "inputFormat": "第一行，一个整数 $n$，表示 $A$ 的长度；\n\n第二行，$n$ 个整数，表示数字串 $A$；\n\n第三行，一个整数 $m$，表示 $B$ 的长度；\n\n第四行，$m$ 个整数，表示数字串 $B$；\n\n第五行，一个整数 $k$，表示 $C$ 的长度；\n\n第六行，$k$ 个整数，表示数字串 $C$。", "outputFormat": "一行，一个整数，如果无解，输出 $-1$；否则，输出满足条件的最长公共子序列的长度。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 3 \\times 10^3$，$0 \\leq k \\leq 3 \\times 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Badania naukowe", "background": "", "description": "给定三个数字串 $A, B, C$，请找到一个 $A, B$ 的最长公共子序列，满足 $C$ 是该子序列的子串。", "inputFormat": "第一行，一个整数 $n$，表示 $A$ 的长度；\n\n第二行，$n$ 个整数，表示数字串 $A$；\n\n第三行，一个整数 $m$，表示 $B$ 的长度；\n\n第四行，$m$ 个整数，表示数字串 $B$；\n\n第五行，一个整数 $k$，表示 $C$ 的长度；\n\n第六行，$k$ 个整数，表示数字串 $C$。", "outputFormat": "一行，一个整数，如果无解，输出 $-1$；否则，输出满足条件的最长公共子序列的长度。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 3 \\times 10^3$，$0 \\leq k \\leq 3 \\times 10^3$。", "locale": "zh-CN"}}}
{"pid": "P8021", "type": "P", "difficulty": 6, "samples": [["4\n1 4 40\n2 4 10\n2 3 30\n1 3 20", "90"]], "limits": {"time": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2015", "线段树", "图论建模", "费用流"], "title": "[ONTAK2015] Bajtman i Okrągły Robin", "background": "", "description": "有 $n$ 个强盗，其中第 $i$ 个强盗会在 $[a_i, a_i + 1], [a_i + 1, a_i + 2], \\cdots, [b_i - 1, b_i]$ 这么多段长度为 $1$ 的时间中选出一个时间进行抢劫，并计划抢走 $c_i$ 元。作为保安，你在每一段长度为 $1$ 的时间内最多只能制止一个强盗，那么你最多可以挽回多少损失呢？", "inputFormat": "第一行，一个整数 $n$；\n\n接下来 $n$ 行，每行三个整数 $a_i, b_i, c_i$。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^3$，$1 \\leq a_i < b_i \\leq 5 \\times 10^3$，$1 \\leq c_i \\leq 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Bajtman i Okrągły Robin", "background": "", "description": "有 $n$ 个强盗，其中第 $i$ 个强盗会在 $[a_i, a_i + 1], [a_i + 1, a_i + 2], \\cdots, [b_i - 1, b_i]$ 这么多段长度为 $1$ 的时间中选出一个时间进行抢劫，并计划抢走 $c_i$ 元。作为保安，你在每一段长度为 $1$ 的时间内最多只能制止一个强盗，那么你最多可以挽回多少损失呢？", "inputFormat": "第一行，一个整数 $n$；\n\n接下来 $n$ 行，每行三个整数 $a_i, b_i, c_i$。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^3$，$1 \\leq a_i < b_i \\leq 5 \\times 10^3$，$1 \\leq c_i \\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P8022", "type": "P", "difficulty": 4, "samples": [["19 2017 2027 2029\n2017202741127832029", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2015", "枚举", "前缀和"], "title": "[ONTAK2015] Cięcie", "background": "", "description": "给定一个长度为 $k$ 的数字串 $N$ 以及三个**质数** $p, q, r$，请你将 $N$ 划分为三段非空字符串，使得第一段能被 $p$ 整除，第二段能被 $q$ 整除，第三段能被 $r$ 整除，且每一段都不含前导 $0$。\n\n注：**单独的 $0$ 是允许的**。", "inputFormat": "第一行，四个整数 $k, p, q, r$；\n\n第二行，长度为 $k$ 的数字串 $N$。", "outputFormat": "输出一个整数，即合法的划分方案的总数。", "hint": "对于 $100\\%$ 的数据，$1 \\leq k \\leq 10^6$，$2015 < p, q, r \\leq 10^5$，$p, q, r$ 为**质数**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Cięcie", "background": "", "description": "给定一个长度为 $k$ 的数字串 $N$ 以及三个**质数** $p, q, r$，请你将 $N$ 划分为三段非空字符串，使得第一段能被 $p$ 整除，第二段能被 $q$ 整除，第三段能被 $r$ 整除，且每一段都不含前导 $0$。\n\n注：**单独的 $0$ 是允许的**。", "inputFormat": "第一行，四个整数 $k, p, q, r$；\n\n第二行，长度为 $k$ 的数字串 $N$。", "outputFormat": "输出一个整数，即合法的划分方案的总数。", "hint": "对于 $100\\%$ 的数据，$1 \\leq k \\leq 10^6$，$2015 < p, q, r \\leq 10^5$，$p, q, r$ 为**质数**。", "locale": "zh-CN"}}}
{"pid": "P8023", "type": "P", "difficulty": 5, "samples": [["6\n1 2 3 1 2 4\n7\n1 2 2 1 3 4 3", "1 1 2 2 1 2 3 1 2 3 4 3 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2015", "二分", "哈希 hashing", "后缀数组 SA"], "title": "[ONTAK2015] Tasowanie", "background": "", "description": "给定两个数字串 $A$ 和 $B$，通过将 $A$ 和 $B$ 进行二路归并得到一个新的数字串 $T$，请找到字典序最小的 $T$。", "inputFormat": "第一行，一个整数 $n$，表示 $A$ 的长度；\n\n第二行，$n$ 个整数，表示 $A$；\n\n第三行，一个整数 $m$，表示 $B$ 的长度；\n\n第四行，$m$ 个整数，表示 $B$；", "outputFormat": "一行，$n + m$ 个正整数，表示字典序最小的 $T$。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n, m \\leq 2 \\times 10^5$，组成 $A, B$ 的每个数字为不超过 $10^3$ 的正整数。\n\n- 2023.9.10 添加两组 hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Tasowanie", "background": "", "description": "给定两个数字串 $A$ 和 $B$，通过将 $A$ 和 $B$ 进行二路归并得到一个新的数字串 $T$，请找到字典序最小的 $T$。", "inputFormat": "第一行，一个整数 $n$，表示 $A$ 的长度；\n\n第二行，$n$ 个整数，表示 $A$；\n\n第三行，一个整数 $m$，表示 $B$ 的长度；\n\n第四行，$m$ 个整数，表示 $B$；", "outputFormat": "一行，$n + m$ 个正整数，表示字典序最小的 $T$。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n, m \\leq 2 \\times 10^5$，组成 $A, B$ 的每个数字为不超过 $10^3$ 的正整数。\n\n- 2023.9.10 添加两组 hack 数据。", "locale": "zh-CN"}}}
{"pid": "P8024", "type": "P", "difficulty": 6, "samples": [["2 5\n3 7\n4 1 2\n1 1 2 1\n4 1 2\n3 1 1 5\n4 1 2", "7\n8\n8"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2015", "线段树", "O2优化"], "title": "[ONTAK2015] Stumilowy sad", "background": "Subtask 0 为原数据，Subtask 1 为 hack 数据。", "description": "在一条笔直的道路上从左到右一共有 $n$ 片区域，每一片区域一开始都种着一棵树，其中第 $i$ 片区域种着高度为 $h_i$ 的树。接下来你需要处理 $q$ 个操作：\n\n- `1 l r c`：将第 $l$ 片区域到第 $r$ 片区域内的所有树的高度拔高 $c$ 个单位。\n- `2 l r h`：将一把刀固定在高度为 $h$ 的空中，对第 $l$ 片区域到第 $r$ 片区域内的所有树进行砍伐。\n- `3 l r h`：往第 $l$ 片区域到第 $r$ 片区域内的每个区域种上一棵高度为 $h$ 的树。\n- `4 l r`：查询第 $l$ 片区域到第 $r$ 片区域内最高的树的高度。\n\n注：本题中的高度为相对于某个水平面的高度，也就是说**可能会有负数的出现**。", "inputFormat": "第一行，两个整数 $n, q$；\n\n第二行，$n$ 个整数 $h_1, h_2, \\cdots, h_n$；\n\n接下来 $q$ 行，每行三或四个整数 $op, l, r, c$、$op, l, r, h$ 或 $op, l, r$。", "outputFormat": "若干行，每行一个整数，表示对应查询的结果。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n, q \\leq 5 \\times 10^5$，$1 \\leq h_i \\leq 10^9$，$1 \\leq l \\leq r \\leq n$，$0 \\leq |c| \\leq 500$，$1 \\leq h \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Stumilowy sad", "background": "Subtask 0 为原数据，Subtask 1 为 hack 数据。", "description": "在一条笔直的道路上从左到右一共有 $n$ 片区域，每一片区域一开始都种着一棵树，其中第 $i$ 片区域种着高度为 $h_i$ 的树。接下来你需要处理 $q$ 个操作：\n\n- `1 l r c`：将第 $l$ 片区域到第 $r$ 片区域内的所有树的高度拔高 $c$ 个单位。\n- `2 l r h`：将一把刀固定在高度为 $h$ 的空中，对第 $l$ 片区域到第 $r$ 片区域内的所有树进行砍伐。\n- `3 l r h`：往第 $l$ 片区域到第 $r$ 片区域内的每个区域种上一棵高度为 $h$ 的树。\n- `4 l r`：查询第 $l$ 片区域到第 $r$ 片区域内最高的树的高度。\n\n注：本题中的高度为相对于某个水平面的高度，也就是说**可能会有负数的出现**。", "inputFormat": "第一行，两个整数 $n, q$；\n\n第二行，$n$ 个整数 $h_1, h_2, \\cdots, h_n$；\n\n接下来 $q$ 行，每行三或四个整数 $op, l, r, c$、$op, l, r, h$ 或 $op, l, r$。", "outputFormat": "若干行，每行一个整数，表示对应查询的结果。", "hint": "对于 $100\\%$ 的数据，$1 \\leq n, q \\leq 5 \\times 10^5$，$1 \\leq h_i \\leq 10^9$，$1 \\leq l \\leq r \\leq n$，$0 \\leq |c| \\leq 500$，$1 \\leq h \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P8025", "type": "P", "difficulty": 5, "samples": [["3 1 2\n1 2\n2 3\n3 4\n1 1", "3 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2015", "最近公共祖先 LCA", "树链剖分"], "title": "[ONTAK2015] Związek Harcerstwa Bajtockiego", "background": "", "description": "给定一棵 $n$ 个点的无根树，相邻的点之间的距离为 $1$，一开始你位于 $m$ 点。之后你将依次收到 $k$ 个指令，每个指令包含两个整数 $d$ 和 $t$，你需要沿着最短路在 $t$ 步之内（包含 $t$ 步）走到 $d$ 点，如果不能走到，则停在最后到达的那个点。请在每个指令之后输出你所在的位置。", "inputFormat": "第一行，三个整数 $n, m, k$；\n\n接下来 $n - 1$ 行，每行两个整数 $x, y$，表示一条树边；\n\n接下来 $k$ 行，每行两个整数 $d, t$，表示一条指令。", "outputFormat": "一行，$k$ 个整数，表示执行对应指令后你所在的位置。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq n \\leq 10^6$，$1 \\leq k \\leq 10^6$，$1 \\leq x, y, d \\leq n$，$0 \\leq t \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Związek Harcerstwa Bajtockiego", "background": "", "description": "给定一棵 $n$ 个点的无根树，相邻的点之间的距离为 $1$，一开始你位于 $m$ 点。之后你将依次收到 $k$ 个指令，每个指令包含两个整数 $d$ 和 $t$，你需要沿着最短路在 $t$ 步之内（包含 $t$ 步）走到 $d$ 点，如果不能走到，则停在最后到达的那个点。请在每个指令之后输出你所在的位置。", "inputFormat": "第一行，三个整数 $n, m, k$；\n\n接下来 $n - 1$ 行，每行两个整数 $x, y$，表示一条树边；\n\n接下来 $k$ 行，每行两个整数 $d, t$，表示一条指令。", "outputFormat": "一行，$k$ 个整数，表示执行对应指令后你所在的位置。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq n \\leq 10^6$，$1 \\leq k \\leq 10^6$，$1 \\leq x, y, d \\leq n$，$0 \\leq t \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P8026", "type": "P", "difficulty": 6, "samples": [["3 4 10\n1 2 1\n2 1 2\n1 2 3\n3 4 1\n1 3 2\n2 3 3\n2 4 2\n3 4 3\n3 4 2\n1 3 1", "4\n4\n6\n6\n6\n6\n6\n8\n8\n16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2015", "并查集", "树上启发式合并", "哈希 hashing"], "title": "[ONTAK2015] Bajtocja", "background": "", "description": "给定 $d$ 张无向图，每张图都有 $n$ 个点。一开始，在任何一张图中都没有任何边。接下来有 $m$ 次操作，每次操作会给出 $a, b, k$，意为在第 $k$ 张图中的点 $a$ 和点 $b$ 之间添加一条无向边。你需要在每次操作之后输出有序数对 $(a, b)$ 的个数，使得 $1 \\leq a, b \\leq n$，且 $a$ 点和 $b$ 点在 $d$ 张图中都连通。", "inputFormat": "第一行，三个整数 $d, n, m$；\n\n接下来 $m$ 行，每行三个整数 $a, b, k$。", "outputFormat": "$m$ 行，每行一个整数，表示所求的值。", "hint": "对于 $100\\%$ 的数据，$1 \\leq d \\leq 200$，$1 \\leq n \\leq5 \\times 10^3$，$1\\leq m \\leq 10^6$，$1 \\leq a, b \\leq n$，$1 \\leq k \\leq d$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ONTAK2015] Bajtocja", "background": "", "description": "给定 $d$ 张无向图，每张图都有 $n$ 个点。一开始，在任何一张图中都没有任何边。接下来有 $m$ 次操作，每次操作会给出 $a, b, k$，意为在第 $k$ 张图中的点 $a$ 和点 $b$ 之间添加一条无向边。你需要在每次操作之后输出有序数对 $(a, b)$ 的个数，使得 $1 \\leq a, b \\leq n$，且 $a$ 点和 $b$ 点在 $d$ 张图中都连通。", "inputFormat": "第一行，三个整数 $d, n, m$；\n\n接下来 $m$ 行，每行三个整数 $a, b, k$。", "outputFormat": "$m$ 行，每行一个整数，表示所求的值。", "hint": "对于 $100\\%$ 的数据，$1 \\leq d \\leq 200$，$1 \\leq n \\leq5 \\times 10^3$，$1\\leq m \\leq 10^6$，$1 \\leq a, b \\leq n$，$1 \\leq k \\leq d$。", "locale": "zh-CN"}}}
{"pid": "P8027", "type": "P", "difficulty": 2, "samples": [["8 6\n10 1 1 1 1 1 1 5", "1\n1"], ["3 2\n1 2 1", "-1"], ["10 2\n1 5 1 5 2 5 6 2 5 6", "2\n1 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #3] Lampice", "background": "", "description": "给定一串包含 $n$ 个有特定颜色 $a_i$ 的圣诞灯和一个整数 $k$。\n\n现要从该串中选取一段连续的圣诞灯，要求这段圣诞灯能够恰好从头到尾均分成 $k$ 小段，使得每一小段的颜色相同。\n\n如果有符合的选取方式，请输出每一小段的颜色情况；否则输出 $-1$。", "inputFormat": "第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_i$，表示圣诞灯的颜色。", "outputFormat": "如果没有符合的选取方式，输出 $-1$。\n\n否则在第一行输出每一小段的长度，并在接下来一行按顺序输出每一小段的颜色。如果有多种符合的选取方式，请输出任意一种。", "hint": "**【样例 3 解释】**\n\n选取前四个圣诞灯 $1,5;1,5$ 或后六个圣诞灯 $2,5,6;2,5,6$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：保证存在连续 $k$ 个相同颜色的圣诞灯。\n- Subtask 2（15 pts）：$k=2$。\n- Subtask 3（25 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 50$，$1 \\le a_i \\le 1000$。\n\n**【提示与说明】**\n\n为了处理多解问题，本题启用自行编写的 [Special Judge](https://www.luogu.com.cn/paste/xevpldj1)，欢迎大家 hack。\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 1 Lampice_。**\n\n**本题分值按 COCI 原题设置，满分 $50$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #3] Lampice", "background": "", "description": "给定一串包含 $n$ 个有特定颜色 $a_i$ 的圣诞灯和一个整数 $k$。\n\n现要从该串中选取一段连续的圣诞灯，要求这段圣诞灯能够恰好从头到尾均分成 $k$ 小段，使得每一小段的颜色相同。\n\n如果有符合的选取方式，请输出每一小段的颜色情况；否则输出 $-1$。", "inputFormat": "第一行，两个正整数 $n,k$。\n\n第二行，$n$ 个正整数 $a_i$，表示圣诞灯的颜色。", "outputFormat": "如果没有符合的选取方式，输出 $-1$。\n\n否则在第一行输出每一小段的长度，并在接下来一行按顺序输出每一小段的颜色。如果有多种符合的选取方式，请输出任意一种。", "hint": "**【样例 3 解释】**\n\n选取前四个圣诞灯 $1,5;1,5$ 或后六个圣诞灯 $2,5,6;2,5,6$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：保证存在连续 $k$ 个相同颜色的圣诞灯。\n- Subtask 2（15 pts）：$k=2$。\n- Subtask 3（25 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 50$，$1 \\le a_i \\le 1000$。\n\n**【提示与说明】**\n\n为了处理多解问题，本题启用自行编写的 [Special Judge](https://www.luogu.com.cn/paste/xevpldj1)，欢迎大家 hack。\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 1 Lampice_。**\n\n**本题分值按 COCI 原题设置，满分 $50$。**", "locale": "zh-CN"}}}
{"pid": "P8028", "type": "P", "difficulty": 3, "samples": [["100 0", "100"], ["8 6\n1 2\n1 3\n1 4\n5 6\n5 7\n5 8", "6"], ["6 5\n1 2\n2 3\n3 4\n4 6\n4 5", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "树的直径", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #3] Cijanobakterije", "background": "", "description": "一位微生物学家有 $n$ 个蓝藻细菌。这些细菌中有 $m$ 组细菌 $(a_i,b_i)$，表示 $a_i$ 和 $b_i$ 之间有一条生物链。若干条生物链顺次连接之后可组成长链。长链的长度定义为这条长链上的细菌数量。\n\n现可在细菌之间两两添加若干条生物链，使得添加之后的所有生物链均不存在环。\n\n求在进行若干次添加生物链的操作后，最长的长链的长度是多少。", "inputFormat": "第一行，两个整数 $n,m$。\n\n接下来的 $m$ 行，每行两个正整数 $a_i,b_i$，表示 $a_i,b_i$ 两个细菌之间有一条生物链。数据保证 $a_i \\neq b_i$ 且同一条生物链只会出现一次，同时这 $m$ 条生物链不会存在环。", "outputFormat": "输出最长的长链的长度。", "hint": "**【样例 2 解释】**\n\n在 $2$ 和 $6$ 之间添加一条生物链后，最长的长链为 $3-1-2-6-5-7$，长度为 $6$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（15 pts）：$m=n-1$。\n- Subtask 2（6 pts）：$b_i=a_i+1$。\n- Subtask 3（6 pts）：$1 \\le a_i \\le 2$。\n- Subtask 4（15 pts）：$1 \\le n \\le 1000$。\n- Subtask 5（28 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$0 \\le m \\lt n$，$1 \\le a_i,b_i \\le n$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 2 Cijanobakterije_。**\n\n**本题分值按 COCI 原题设置，满分 $70$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #3] Cijanobakterije", "background": "", "description": "一位微生物学家有 $n$ 个蓝藻细菌。这些细菌中有 $m$ 组细菌 $(a_i,b_i)$，表示 $a_i$ 和 $b_i$ 之间有一条生物链。若干条生物链顺次连接之后可组成长链。长链的长度定义为这条长链上的细菌数量。\n\n现可在细菌之间两两添加若干条生物链，使得添加之后的所有生物链均不存在环。\n\n求在进行若干次添加生物链的操作后，最长的长链的长度是多少。", "inputFormat": "第一行，两个整数 $n,m$。\n\n接下来的 $m$ 行，每行两个正整数 $a_i,b_i$，表示 $a_i,b_i$ 两个细菌之间有一条生物链。数据保证 $a_i \\neq b_i$ 且同一条生物链只会出现一次，同时这 $m$ 条生物链不会存在环。", "outputFormat": "输出最长的长链的长度。", "hint": "**【样例 2 解释】**\n\n在 $2$ 和 $6$ 之间添加一条生物链后，最长的长链为 $3-1-2-6-5-7$，长度为 $6$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（15 pts）：$m=n-1$。\n- Subtask 2（6 pts）：$b_i=a_i+1$。\n- Subtask 3（6 pts）：$1 \\le a_i \\le 2$。\n- Subtask 4（15 pts）：$1 \\le n \\le 1000$。\n- Subtask 5（28 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$0 \\le m \\lt n$，$1 \\le a_i,b_i \\le n$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 2 Cijanobakterije_。**\n\n**本题分值按 COCI 原题设置，满分 $70$。**", "locale": "zh-CN"}}}
{"pid": "P8029", "type": "P", "difficulty": 6, "samples": [["3 1\n1 1\n1 1\n1 3", "2 2"], ["4 3\n1 1\n10 1\n2 3\n10 3", "3 13\n3 22\n2 3"], ["2 4\n1 1\n2 2", "2 3\n1 1\n1 2\n0 0"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #3] Akcija", "background": "", "description": "给定 $n$ 个商品，每个商品有一个价格 $w_i$ 和一个截止期 $d_i$，其中 $d_i$ 表示第 $i$ 个商品必须在第 $d_i$ 分钟之前完成购买。每次购买一个商品均需花费 $1$ 分钟进行下单，在下单之后才视为购买成功。\n\n现可从这 $n$ 个商品中选择若干个（包括 $0$ 个）进行购买（每个商品最多购买一次），视为一种购买方案。\n\n当一种购买方案内的商品数量大于另一种方案时，规定前者更优；当一种购买方案的商品数量与另一种相同且前者的总价格更低时，规定前者更优。求所有符合题意的购买方案中，第 $1 \\sim k$ 优的方案的商品数量和总价格各是多少。", "inputFormat": "第一行，两个正整数 $n,k$。数据保证 $k$ 不大于符合题意的方案总数。\n\n接下来的 $n$ 行，每行两个正整数 $w_i,d_i$。", "outputFormat": "输出共 $k$ 行，其中第 $i$ 行为第 $i$ 优方案的商品数量和总价格。", "hint": "**【样例 2 解释】**\n\n前 $k$ 优的方案为 $\\{1,3,4\\}$、$\\{2,3,4\\}$ 和 $\\{1,3\\}$（用商品编号代替对应商品）。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$k=1$，$w_1=\\cdots=w_n$。\n- Subtask 2（20 pts）：$k=1$。\n- Subtask 3（20 pts）：$k=2$。\n- Subtask 4（10 pts）：$1 \\le n \\le 20$。\n- Subtask 5（30 pts）：$1 \\le n,k \\le 100$。\n- Subtask 6（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 2000$，$1 \\le w_i \\le 10^9$，$1 \\le d_i \\le n$。\n\n**【提示与说明】**\n\n官方数据每个子任务有 $13$ 个测试点，所需总时限高达 $6.5$ 分钟。为了减少评测机负担，这里每个子任务只选取前两个测试点进行评测。\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 3 Akcija_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #3] Akcija", "background": "", "description": "给定 $n$ 个商品，每个商品有一个价格 $w_i$ 和一个截止期 $d_i$，其中 $d_i$ 表示第 $i$ 个商品必须在第 $d_i$ 分钟之前完成购买。每次购买一个商品均需花费 $1$ 分钟进行下单，在下单之后才视为购买成功。\n\n现可从这 $n$ 个商品中选择若干个（包括 $0$ 个）进行购买（每个商品最多购买一次），视为一种购买方案。\n\n当一种购买方案内的商品数量大于另一种方案时，规定前者更优；当一种购买方案的商品数量与另一种相同且前者的总价格更低时，规定前者更优。求所有符合题意的购买方案中，第 $1 \\sim k$ 优的方案的商品数量和总价格各是多少。", "inputFormat": "第一行，两个正整数 $n,k$。数据保证 $k$ 不大于符合题意的方案总数。\n\n接下来的 $n$ 行，每行两个正整数 $w_i,d_i$。", "outputFormat": "输出共 $k$ 行，其中第 $i$ 行为第 $i$ 优方案的商品数量和总价格。", "hint": "**【样例 2 解释】**\n\n前 $k$ 优的方案为 $\\{1,3,4\\}$、$\\{2,3,4\\}$ 和 $\\{1,3\\}$（用商品编号代替对应商品）。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：$k=1$，$w_1=\\cdots=w_n$。\n- Subtask 2（20 pts）：$k=1$。\n- Subtask 3（20 pts）：$k=2$。\n- Subtask 4（10 pts）：$1 \\le n \\le 20$。\n- Subtask 5（30 pts）：$1 \\le n,k \\le 100$。\n- Subtask 6（20 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,k \\le 2000$，$1 \\le w_i \\le 10^9$，$1 \\le d_i \\le n$。\n\n**【提示与说明】**\n\n官方数据每个子任务有 $13$ 个测试点，所需总时限高达 $6.5$ 分钟。为了减少评测机负担，这里每个子任务只选取前两个测试点进行评测。\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 3 Akcija_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN"}}}
{"pid": "P8030", "type": "P", "difficulty": 5, "samples": [["3\nkoeeok", "3"], ["3\nkekoeo", "1"], ["4\nsoolnlsn", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #3] Ekoeko", "background": "", "description": "给定一个正整数 $n$ 和一个由 $2n$ 个小写字母组成的字符串。\n\n交换字符串的相邻两个字母视为一次操作。求使得原串的前 $n$ 个小字母和后 $n$ 个完全相同所需的最少操作次数。", "inputFormat": "第一行，一个正整数 $n$。\n\n第二行，一个由 $2n$ 个小写字母组成的字符串。数据保证每个字母均出现偶数次。", "outputFormat": "输出最少操作次数。", "hint": "**【样例 3 解释】**\n\n一种操作次数最少的方案：\n\n$\\texttt{soolnlsn} \\to \\texttt{so\\red{lo}nlsn} \\to \\texttt{sol\\red{no}lsn} \\to \\texttt{\\red{os}lnolsn} \\to \\texttt{o\\red{ls}nolsn}$\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：字符串前 $n$ 个字母均为 $\\texttt a$，后 $n$ 个均为 $\\texttt b$。\n- Subtask 2（20 pts）：每个字母在字符串中至多出现两次。\n- Subtask 3（20 pts）：前 $n$ 个字母和后 $n$ 个字母的组成完全相同，但顺序可能不同。\n- Subtask 4（20 pts）：$1 \\le n \\le 1000$。\n- Subtask 5（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 4 Ekoeko_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #3] Ekoeko", "background": "", "description": "给定一个正整数 $n$ 和一个由 $2n$ 个小写字母组成的字符串。\n\n交换字符串的相邻两个字母视为一次操作。求使得原串的前 $n$ 个小字母和后 $n$ 个完全相同所需的最少操作次数。", "inputFormat": "第一行，一个正整数 $n$。\n\n第二行，一个由 $2n$ 个小写字母组成的字符串。数据保证每个字母均出现偶数次。", "outputFormat": "输出最少操作次数。", "hint": "**【样例 3 解释】**\n\n一种操作次数最少的方案：\n\n$\\texttt{soolnlsn} \\to \\texttt{so\\red{lo}nlsn} \\to \\texttt{sol\\red{no}lsn} \\to \\texttt{\\red{os}lnolsn} \\to \\texttt{o\\red{ls}nolsn}$\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：字符串前 $n$ 个字母均为 $\\texttt a$，后 $n$ 个均为 $\\texttt b$。\n- Subtask 2（20 pts）：每个字母在字符串中至多出现两次。\n- Subtask 3（20 pts）：前 $n$ 个字母和后 $n$ 个字母的组成完全相同，但顺序可能不同。\n- Subtask 4（20 pts）：$1 \\le n \\le 1000$。\n- Subtask 5（40 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 4 Ekoeko_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN"}}}
