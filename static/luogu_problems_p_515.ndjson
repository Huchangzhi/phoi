{"pid": "P11448", "type": "P", "difficulty": 4, "samples": [["3 3 1\n1\n1 2\n1 3\n1 1", "6 4 2\n"], ["3 1000000000000000000 1\n1\n1 2\n1 3\n1 1", "151723985 433897441 433897439\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "广度优先搜索 BFS", "洛谷月赛"], "title": "「ALFR Round 3」D 核裂变", "background": "可爱的松鼠跑去学 PhO 啦。", "description": "有 $n$ 个放射性原子要进行 $k$ 秒的裂变反应。如果在第 $t$ 秒开始时原子 $i$ 被 $b\\ (b>0)$ 个中子轰击了，那它就会在第 $t$ 秒内释放 $a_i + b$ 单位能量，并向编号为 $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ 的所有原子各释放 $1$ 个中子。这样，在第 $t+1$ 秒开始时分别击中的 $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ 的中子数量都将**增加** $1$（**如果 $t=k$，即这是最后一秒，那么被轰击的原子不会释放中子**）。如果在这一秒开始时某个原子没被中子击中，则其不会释放能量与中子。\n\n每一秒开始时，编号为 $v_1,v_2,\\dots,v_m$ 的原子都会被 $1$ 个中子轰击。那么，从第 $1$ 秒开始，到第 $k$ 秒的终止时刻为止，每个原子会释放多少能量？\n\n**答案对 $998244353$ 取模！**", "inputFormat": "第一行三个整数 $n,k,m$，表示原子的个数，反应的时间与每一秒开始时被轰击的原子数。\n\n接下来一行 $m$ 个整数 $v_1,v_2,\\dots,v_m$。\n\n接下来 $n$ 行输入每个原子的信息，格式如下：\n\n第 $i$ 行 $a_i + 1$ 个整数，第一个数为 $a_i$，接下来 $a_i$ 个数 $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$。", "outputFormat": "输出 $1$ 行，共 $n$ 个数，第 $i$ 个数是原子 $i$ 从第 $1$ 秒开始，到第 $k$ 秒的终止时刻为止释放的总能量，答案对 $998244353$ 取模。", "hint": "### 样例 #1 解释：\n\n- 第一秒，原子 $1$ 被 $1$ 个中子轰击，释放 $1$ 中子到原子 $2$，释放 $2$ 能量。\n- 第二秒，原子 $1$ 被 $1$ 个中子轰击，释放 $1$ 中子到原子 $2$，释放 $2$ 能量。同时原子 $2$ 被 $1$ 个中子轰击，释放 $1$ 个中子到原子 $3$，释放 $2$ 能量。\n- 第三秒，原子 $1$ 被 $1$ 个中子轰击，释放 $2$ 能量。同时原子 $2$ 被 $1$ 个中子轰击，释放 $2$ 能量。同时原子 $3$ 被 $1$ 个中子轰击，释放 $2$ 能量。\n\n所以原子 $1$ 共释放了 $6$ 能量，原子 $2$ 释放了 $4$ 能量，原子 $3$ 释放了 $2$ 能量。\n\n### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $0$ | $5$ | $m=n,v_i=i,a_i=1,x_{i,1}=1$ |\n| $1$ | $10$ | $m=1,v_1=1,a_i=1,x_{i,1}=(i\\bmod n)+1$ |\n| $2$ | $20$ | $n,\\sum a_i\\le10^3$，$1\\le k\\le10^6$ |\n| $3$ | $30$ | $1\\le k\\le10^6$ |\n| $4$ | $35$ | - |\n\n对于所有数据，$1\\le m\\le n\\le 5\\times10^5,1\\le \\sum a_i\\le5\\times10^5$，$1\\le k\\le10^{18}$，$0 \\leq a_i \\leq 5 \\times 10^5$，且 $v_1,v_2,\\dots,v_m$ 互不相同且是 $[1,n]$ 内的整数，$x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ 互不相同且是 $[1,n]$ 内的整数。\n\n**本题输入量较大，请使用较快的 I/O 方式。**", "locale": "zh-CN", "translations": {"en": {"title": "「ALFR Round 3」D Nuclear Fission", "background": "EmptyAlien is studying for the Physics Olympiad.", "description": "There are $n$ radioactive atoms that will undergo fission reactions for $k$ seconds. If at the beginning of the $t$-th second, atom $i$ is bombarded by $b\\ (b>0)$ neutrons, it will release $a_i + b$ units of energy during the $t$-th second and will release $1$ neutron to each of the atoms numbered $x_{i,1}, x_{i,2}, \\ldots, x_{i,a_i}$. Thus, at the beginning of the next second ($t+1$), the number of neutrons hitting each of $x_{i,1}, x_{i,2}, \\dots, x_{i,a_i}$ will increase by $1$ (**if $t=k$, meaning this is the last second, then neutrons will not be released by bombarded atoms**). If an atom is not bombarded by any neutrons at the beginning of a second, it will not release energy or neutrons.\n\nAt the beginning of each second, atoms numbered $v_1, v_2, \\ldots, v_m$ are bombarded by $1$ neutron. Therefore, from the beginning of the first second until the end of the $k$-th second, how much energy will each atom release?\n\n**Output the answer modulo $998244353$.**", "inputFormat": "The first line contains three integers $n, k, m$, representing the number of atoms, the duration of the reaction, and the number of atoms hit each second.\n\nThe second line contains $m$ integers $v_1, v_2, \\dots, v_m$.\n\nThe next $n$ lines contain the information for each atom, formatted as follows:\n\nThe $i$-th line contains $a_i + 1$ integers, where the first number is $a_i$, followed by $a_i$ integers $x_{i,1}, x_{i,2}, \\dots, x_{i,a_i}$.", "outputFormat": "Output one line containing $n$ integers. The $i$-th number is the total energy released by atom $i$ from the start of the $1$-st second to the termination moment of the $k$-th second, with the result taken modulo $998244353$.", "hint": "Explanation of sample #1:\n\n- In the first second, atom $1$ is hit by $1$ neutron, releasing $1$ neutron to atom $2$, thus releasing $2$ units of energy.\n- In the second second, atom $1$ is hit by $1$ neutron, releasing $1$ neutron to atom $2$, and releasing $2$ units of energy. Simultaneously, atom $2$ is hit by $1$ neutron, releasing $1$ neutron to atom $3$, and releasing $2$ units of energy.\n- In the third second, atom $1$ is hit by $1$ neutron, releasing $2$ units of energy. Meanwhile, atom $2$ is hit by $1$ neutron, releasing $2$ units of energy, and atom $3$ is hit by $1$ neutron, releasing $2$ units of energy.\n\nThus, atom $1$ releases a total of $6$ units of energy, atom $2$ releases $4$ units of energy, and atom $3$ releases $2$ units of energy.\n\n| Subtask | Score | Constraints |\n| :----------: | :----------: | :----------: |\n| $0$ | $5$ | $m=n,v_i=i,a_i=1,x_{i,1}=1$ |\n| $1$ | $10$ | $m=1,v_1=1,a_i=1,x_{i,1}=(i \\bmod n)+1$ |\n| $2$ | $20$ | $n,\\sum a_i \\leq 10^3$, $1 \\leq k \\leq 10^6$ |\n| $3$ | $30$ | $1 \\leq k \\leq 10^6$ |\n| $4$ | $35$ | - |\n\nFor all the tests, $1\\le n,\\sum a_i\\le5\\times10^5$, $1 \\leq k \\leq 10^{18}$, $0 \\leq a_i \\leq 5 \\times 10^5$, $1\\le m,v_i,x_{i,j}\\le n$, and $v_1,v_2,\\dots,v_m$ are distinct, while $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ are also distinct.\n\n**This problem has a large input, please use faster I/O methods.**", "locale": "en"}, "zh-CN": {"title": "「ALFR Round 3」D 核裂变", "background": "可爱的松鼠跑去学 PhO 啦。", "description": "有 $n$ 个放射性原子要进行 $k$ 秒的裂变反应。如果在第 $t$ 秒开始时原子 $i$ 被 $b\\ (b>0)$ 个中子轰击了，那它就会在第 $t$ 秒内释放 $a_i + b$ 单位能量，并向编号为 $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ 的所有原子各释放 $1$ 个中子。这样，在第 $t+1$ 秒开始时分别击中的 $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ 的中子数量都将**增加** $1$（**如果 $t=k$，即这是最后一秒，那么被轰击的原子不会释放中子**）。如果在这一秒开始时某个原子没被中子击中，则其不会释放能量与中子。\n\n每一秒开始时，编号为 $v_1,v_2,\\dots,v_m$ 的原子都会被 $1$ 个中子轰击。那么，从第 $1$ 秒开始，到第 $k$ 秒的终止时刻为止，每个原子会释放多少能量？\n\n**答案对 $998244353$ 取模！**", "inputFormat": "第一行三个整数 $n,k,m$，表示原子的个数，反应的时间与每一秒开始时被轰击的原子数。\n\n接下来一行 $m$ 个整数 $v_1,v_2,\\dots,v_m$。\n\n接下来 $n$ 行输入每个原子的信息，格式如下：\n\n第 $i$ 行 $a_i + 1$ 个整数，第一个数为 $a_i$，接下来 $a_i$ 个数 $x_{i,1},x_{i,2},\\dots,x_{i,a_i}$。", "outputFormat": "输出 $1$ 行，共 $n$ 个数，第 $i$ 个数是原子 $i$ 从第 $1$ 秒开始，到第 $k$ 秒的终止时刻为止释放的总能量，答案对 $998244353$ 取模。", "hint": "### 样例 #1 解释：\n\n- 第一秒，原子 $1$ 被 $1$ 个中子轰击，释放 $1$ 中子到原子 $2$，释放 $2$ 能量。\n- 第二秒，原子 $1$ 被 $1$ 个中子轰击，释放 $1$ 中子到原子 $2$，释放 $2$ 能量。同时原子 $2$ 被 $1$ 个中子轰击，释放 $1$ 个中子到原子 $3$，释放 $2$ 能量。\n- 第三秒，原子 $1$ 被 $1$ 个中子轰击，释放 $2$ 能量。同时原子 $2$ 被 $1$ 个中子轰击，释放 $2$ 能量。同时原子 $3$ 被 $1$ 个中子轰击，释放 $2$ 能量。\n\n所以原子 $1$ 共释放了 $6$ 能量，原子 $2$ 释放了 $4$ 能量，原子 $3$ 释放了 $2$ 能量。\n\n### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $0$ | $5$ | $m=n,v_i=i,a_i=1,x_{i,1}=1$ |\n| $1$ | $10$ | $m=1,v_1=1,a_i=1,x_{i,1}=(i\\bmod n)+1$ |\n| $2$ | $20$ | $n,\\sum a_i\\le10^3$，$1\\le k\\le10^6$ |\n| $3$ | $30$ | $1\\le k\\le10^6$ |\n| $4$ | $35$ | - |\n\n对于所有数据，$1\\le m\\le n\\le 5\\times10^5,1\\le \\sum a_i\\le5\\times10^5$，$1\\le k\\le10^{18}$，$0 \\leq a_i \\leq 5 \\times 10^5$，且 $v_1,v_2,\\dots,v_m$ 互不相同且是 $[1,n]$ 内的整数，$x_{i,1},x_{i,2},\\dots,x_{i,a_i}$ 互不相同且是 $[1,n]$ 内的整数。\n\n**本题输入量较大，请使用较快的 I/O 方式。**", "locale": "zh-CN"}}}
{"pid": "P11449", "type": "P", "difficulty": 3, "samples": [["4\n1\n100\n4567\n3366", "0\n5\n183\n60"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "USACO", "2024"], "title": "[USACO24DEC] Roundabount Rounding B", "background": "", "description": "奶牛 Bessie 回到学校了！她开始做她的数学作业，在作业中她被要求将正整数四舍五入到 $10$ 的幂。\n\n要将一个正整数 $a$ 四舍五入到最接近的 $10^b$，其中 $b$ 为正整数，Bessie 首先找到从右往左数第 $b$ 个数位。令 $x$ 为这个数位。\n\n如果 $x≥5$，Bessie 将 $a$ 增加 $10^b$。\n\n然后，Bessie 将从右侧开始直至第 $b$ 个数位的所有数位均设置为 $0$。\n\n例如，如果 Bessie 想要将 $456$ 四舍五入到最接近的 $10^2$（百位），Bessie 会首先找到从右往左数第 $2$ 个数位 $5$。这意味着 $x=5$。然后由于 $x≥5$，Bessie 将 $a$ 增加 $100$。最后，Bessie 将 $a$ 中从右侧开始直至第 $2$ 个数位的所有数位设置为 $0$，结果为 $500$。\n\n但是，如果 Bessie 将 $446$ 四舍五入到最接近的 $10^2$，她将得到 $400$。\n\n在看了 Bessie 的作业后，Elsie 认为她已经发明了一种新的舍入方式：链式舍入。要链式舍入到最接近的 $10^b$，Elsie 将首先舍入到最接近的 $10^1$，然后舍入到最接近的 $10^2$\n，以此类推，直至舍入到最接近的 $10^b$。\n\nBessie 认为 Elsie 是错误的，但她太忙于数学作业，无法确认她的怀疑。她请你计算出存在多少个不小于 $2$ 且不超过 $N$ 的整数 $x$（$1≤N≤10^9$），使得将 $x$ 四舍五入到最接近的 $10^P$ 与链式舍入到最接近的 $10^P$ 的结果不同，其中 $P$ 是满足 $10^P≥x$ 的最小整数。", "inputFormat": "你需要回答多个测试用例。\n\n输入的第一行包含一个整数 $T$（$1≤T≤10^5$），为测试用例的数量。以下是 $T$ 个测试用例。\n\n每个测试用例的输入仅有一行，包含一个整数 $N$。输入保证同一测试点中的所有 $N$ 各不相同。", "outputFormat": "输出 $T$ 行，第 $i$ 行包含第 $i$ 个测试用例的答案。每行包含一个整数，表示存在多少个不小于 $2$ 且不超过 $N$ 的整数在使用两种舍入方法时会得到不同的结果。", "hint": "### 样例解释\n考虑样例中的第二个测试用例。$48$ 应当被计算在内，因为 $48$ 链式舍入到最接近的 $10^2$ 是 $100$（$48→50→100\n$），但 $48$ 四舍五入到最接近的 $10^2$ 是 $0$。\n\n在第三个测试用例中，$48$ 和 $480$ 是两个被计算在内的整数。$48$ 链式舍入到 $100$ 而不是 $0$，$480$ 链式舍入到 $1000$ 而不是 $0$。但是，$67$ 不被计算在内，因为它链式舍入到 $100$，与 $67$ 四舍五入到最接近的 $10^2$ 相同。\n\n### 测试点性质\n- 测试点 1：样例。\n- 测试点 2-4：$N≤10^3$。\n- 测试点 5-7：$N≤10^6$。\n- 测试点 8-13：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Roundabount Rounding B", "background": "", "description": "奶牛 Bessie 回到学校了！她开始做她的数学作业，在作业中她被要求将正整数四舍五入到 $10$ 的幂。\n\n要将一个正整数 $a$ 四舍五入到最接近的 $10^b$，其中 $b$ 为正整数，Bessie 首先找到从右往左数第 $b$ 个数位。令 $x$ 为这个数位。\n\n如果 $x≥5$，Bessie 将 $a$ 增加 $10^b$。\n\n然后，Bessie 将从右侧开始直至第 $b$ 个数位的所有数位均设置为 $0$。\n\n例如，如果 Bessie 想要将 $456$ 四舍五入到最接近的 $10^2$（百位），Bessie 会首先找到从右往左数第 $2$ 个数位 $5$。这意味着 $x=5$。然后由于 $x≥5$，Bessie 将 $a$ 增加 $100$。最后，Bessie 将 $a$ 中从右侧开始直至第 $2$ 个数位的所有数位设置为 $0$，结果为 $500$。\n\n但是，如果 Bessie 将 $446$ 四舍五入到最接近的 $10^2$，她将得到 $400$。\n\n在看了 Bessie 的作业后，Elsie 认为她已经发明了一种新的舍入方式：链式舍入。要链式舍入到最接近的 $10^b$，Elsie 将首先舍入到最接近的 $10^1$，然后舍入到最接近的 $10^2$\n，以此类推，直至舍入到最接近的 $10^b$。\n\nBessie 认为 Elsie 是错误的，但她太忙于数学作业，无法确认她的怀疑。她请你计算出存在多少个不小于 $2$ 且不超过 $N$ 的整数 $x$（$1≤N≤10^9$），使得将 $x$ 四舍五入到最接近的 $10^P$ 与链式舍入到最接近的 $10^P$ 的结果不同，其中 $P$ 是满足 $10^P≥x$ 的最小整数。", "inputFormat": "你需要回答多个测试用例。\n\n输入的第一行包含一个整数 $T$（$1≤T≤10^5$），为测试用例的数量。以下是 $T$ 个测试用例。\n\n每个测试用例的输入仅有一行，包含一个整数 $N$。输入保证同一测试点中的所有 $N$ 各不相同。", "outputFormat": "输出 $T$ 行，第 $i$ 行包含第 $i$ 个测试用例的答案。每行包含一个整数，表示存在多少个不小于 $2$ 且不超过 $N$ 的整数在使用两种舍入方法时会得到不同的结果。", "hint": "### 样例解释\n考虑样例中的第二个测试用例。$48$ 应当被计算在内，因为 $48$ 链式舍入到最接近的 $10^2$ 是 $100$（$48→50→100\n$），但 $48$ 四舍五入到最接近的 $10^2$ 是 $0$。\n\n在第三个测试用例中，$48$ 和 $480$ 是两个被计算在内的整数。$48$ 链式舍入到 $100$ 而不是 $0$，$480$ 链式舍入到 $1000$ 而不是 $0$。但是，$67$ 不被计算在内，因为它链式舍入到 $100$，与 $67$ 四舍五入到最接近的 $10^2$ 相同。\n\n### 测试点性质\n- 测试点 1：样例。\n- 测试点 2-4：$N≤10^3$。\n- 测试点 5-7：$N≤10^6$。\n- 测试点 8-13：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11450", "type": "P", "difficulty": 2, "samples": [["2 5\n0 0 0\n1 1 1\n0 1 0\n1 0 0\n1 1 0", "0\n0\n1\n2\n5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "USACO", "2024"], "title": "[USACO24DEC] Farmer John's Cheese Block B", "background": "", "description": "Farmer John 有一块立方体形状的奶酪，它位于三维坐标空间中，从 $(0,0,0)$ 延伸至 $(N,N,N)$（$2≤N≤1000$）。Farmer John 将对他的奶酪块执行一系列 $Q$（$1≤Q≤2⋅10^5$）次更新操作。\n\n对于每次更新操作，FJ 将从整数坐标 $(x,y,z)$ 到 $(x+1,y+1,z+1)$ 处切割出一个 $1×1×1$ 的奶酪块，其中 $0≤x,y,z<N$。输入保证在 FJ 切割的位置上存在一个 $1×1×1$ 的奶酪块。由于 FJ 正在玩牛的世界，当下方的奶酪被切割后，重力不会导致上方的奶酪掉落。\n\n在每次更新后，输出 FJ 可以将一个 $1×1×N$ 的砖块插入奶酪块中的方案数，使得砖块的任何部分都不与剩余的奶酪重叠。砖块的每个顶点在全部三个坐标轴上均必须具有整数坐标，范围为 $[0,N]$。FJ 可以随意旋转砖块。", "inputFormat": "输入的第一行包含 $N$ 和 $Q$。\n\n以下 $Q$ 行包含 $x$，$y$ 和 $z$，为要切割的位置的坐标。", "outputFormat": "在每次更新操作后，输出一个整数，为所求的方案数。", "hint": "### 样例解释\n\n在前三次更新操作后，$[0,1]×[0,2]×[0,1]$ 范围的 $1×2×1$ 砖块与剩余的奶酪不重叠，因此它贡献了答案。\n\n![](https://usaco.org/current/data/fig_1_cheese_bronze_dec24.png)\n\n### 测试点性质\n\n- 测试点 1：样例。\n- 测试点 2-4：$N≤10$ 且 $Q≤1000$。\n- 测试点 5-7：$N≤100$ 且 $Q≤1000$。\n- 测试点 8-16：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Farmer John's Cheese Block B", "background": "", "description": "Farmer John 有一块立方体形状的奶酪，它位于三维坐标空间中，从 $(0,0,0)$ 延伸至 $(N,N,N)$（$2≤N≤1000$）。Farmer John 将对他的奶酪块执行一系列 $Q$（$1≤Q≤2⋅10^5$）次更新操作。\n\n对于每次更新操作，FJ 将从整数坐标 $(x,y,z)$ 到 $(x+1,y+1,z+1)$ 处切割出一个 $1×1×1$ 的奶酪块，其中 $0≤x,y,z<N$。输入保证在 FJ 切割的位置上存在一个 $1×1×1$ 的奶酪块。由于 FJ 正在玩牛的世界，当下方的奶酪被切割后，重力不会导致上方的奶酪掉落。\n\n在每次更新后，输出 FJ 可以将一个 $1×1×N$ 的砖块插入奶酪块中的方案数，使得砖块的任何部分都不与剩余的奶酪重叠。砖块的每个顶点在全部三个坐标轴上均必须具有整数坐标，范围为 $[0,N]$。FJ 可以随意旋转砖块。", "inputFormat": "输入的第一行包含 $N$ 和 $Q$。\n\n以下 $Q$ 行包含 $x$，$y$ 和 $z$，为要切割的位置的坐标。", "outputFormat": "在每次更新操作后，输出一个整数，为所求的方案数。", "hint": "### 样例解释\n\n在前三次更新操作后，$[0,1]×[0,2]×[0,1]$ 范围的 $1×2×1$ 砖块与剩余的奶酪不重叠，因此它贡献了答案。\n\n![](https://usaco.org/current/data/fig_1_cheese_bronze_dec24.png)\n\n### 测试点性质\n\n- 测试点 1：样例。\n- 测试点 2-4：$N≤10$ 且 $Q≤1000$。\n- 测试点 5-7：$N≤100$ 且 $Q≤1000$。\n- 测试点 8-16：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11451", "type": "P", "difficulty": 3, "samples": [["10 2\nzzmoozzmoo", "1\nmoo"], ["17 2\nmomoobaaaaaqqqcqq", "3\naqq\nbaa\ncqq"], ["3 1\nooo", "25\naoo\nboo\ncoo\ndoo\neoo\nfoo\ngoo\nhoo\nioo\njoo\nkoo\nloo\nmoo\nnoo\npoo\nqoo\nroo\nsoo\ntoo\nuoo\nvoo\nwoo\nxoo\nyoo\nzoo"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["字符串", "USACO", "2024"], "title": "[USACO24DEC] It's Mooin' Time B", "background": "", "description": "Farmer John 正在试图向 Elsie 描述他最喜欢的 USACO 竞赛，但她很难理解为什么他这么喜欢它。他说「竞赛中我最喜欢的部分是 Bessie 说 『现在是哞哞时间』并在整个竞赛中一直哞哞叫」。\n\nElsie 仍然不理解，所以 Farmer John 将竞赛以文本文件形式下载，并试图解释他的意思。竞赛被定义为一个长度为 $N$（$3≤N≤20000$）的小写字母字符串。一种哞叫一般地定义为子串 $c_ic_jc_j$，其中某字符 $c_i$ 之后紧跟着 $2$ 个某字符 $c_j$，且 $c_i≠c_j$。根据 Farmer John 的说法，Bessie 哞叫了很多，所以如果某种哞叫在竞赛中出现了至少 $F$（$1≤F≤N$）次，那可能就是 Bessie 发出的。\n\n然而，Farmer John 的下载可能损坏，文本文件可能存在至多一个字符与原始文件不同。将可能的误差考虑在内，输出所有可能是 Bessie 发出的哞叫，按字典序顺序排序。", "inputFormat": "输入的第一行包含 $N$ 和 $F$，表示字符串的长度以及 Bessie 的哞叫的频次下限。\n\n第二行包含一个长度为 $N$ 的小写字母字符串，表示竞赛。", "outputFormat": "输出可能是 Bessie 发出的哞叫的数量，以下是按字典序排序的哞叫列表。每行输出一种哞叫。", "hint": "### 样例 #1 解释\n\n在这个样例中，任何字符变化都不会影响答案。唯一 Bessie 可能发出的哞叫是 $\\tt{moo}$。\n\n### 样例 #2 解释\n\n在这个样例中，位置 $8$（从零开始索引）的 $\\tt{a}$ 可能是由 $\\tt b$ 损坏导致的，这使得 $\\tt baa$ 成为一种 Bessie 发出两次的可能的哞叫。此外，位置 $11$ 的 $\\tt q$ 可能是由 $\\tt c$ 损坏导致的，这使得 $\\tt cqq$ 成为一种 Bessie 可能的哞叫。$\\tt aqq$ 可以通过将 $\\tt c$ 换成 $\\tt a$ 来达到。\n\n### 测试点性质\n- 测试点 1-3：样例。\n- 测试点 4-8：$N≤100$。\n- 测试点 9-13：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] It's Mooin' Time B", "background": "", "description": "Farmer John 正在试图向 Elsie 描述他最喜欢的 USACO 竞赛，但她很难理解为什么他这么喜欢它。他说「竞赛中我最喜欢的部分是 Bessie 说 『现在是哞哞时间』并在整个竞赛中一直哞哞叫」。\n\nElsie 仍然不理解，所以 Farmer John 将竞赛以文本文件形式下载，并试图解释他的意思。竞赛被定义为一个长度为 $N$（$3≤N≤20000$）的小写字母字符串。一种哞叫一般地定义为子串 $c_ic_jc_j$，其中某字符 $c_i$ 之后紧跟着 $2$ 个某字符 $c_j$，且 $c_i≠c_j$。根据 Farmer John 的说法，Bessie 哞叫了很多，所以如果某种哞叫在竞赛中出现了至少 $F$（$1≤F≤N$）次，那可能就是 Bessie 发出的。\n\n然而，Farmer John 的下载可能损坏，文本文件可能存在至多一个字符与原始文件不同。将可能的误差考虑在内，输出所有可能是 Bessie 发出的哞叫，按字典序顺序排序。", "inputFormat": "输入的第一行包含 $N$ 和 $F$，表示字符串的长度以及 Bessie 的哞叫的频次下限。\n\n第二行包含一个长度为 $N$ 的小写字母字符串，表示竞赛。", "outputFormat": "输出可能是 Bessie 发出的哞叫的数量，以下是按字典序排序的哞叫列表。每行输出一种哞叫。", "hint": "### 样例 #1 解释\n\n在这个样例中，任何字符变化都不会影响答案。唯一 Bessie 可能发出的哞叫是 $\\tt{moo}$。\n\n### 样例 #2 解释\n\n在这个样例中，位置 $8$（从零开始索引）的 $\\tt{a}$ 可能是由 $\\tt b$ 损坏导致的，这使得 $\\tt baa$ 成为一种 Bessie 发出两次的可能的哞叫。此外，位置 $11$ 的 $\\tt q$ 可能是由 $\\tt c$ 损坏导致的，这使得 $\\tt cqq$ 成为一种 Bessie 可能的哞叫。$\\tt aqq$ 可以通过将 $\\tt c$ 换成 $\\tt a$ 来达到。\n\n### 测试点性质\n- 测试点 1-3：样例。\n- 测试点 4-8：$N≤100$。\n- 测试点 9-13：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11452", "type": "P", "difficulty": 3, "samples": [["2\n4\n40 30 20 10\n4\n10 20 30 40", "60 40\n60 40"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "USACO", "2024", "前缀和"], "title": "[USACO24DEC] Cake Game S", "background": "", "description": "Bessie 和 Elsie 发现了一行 $N$ 个蛋糕（$2≤N≤5⋅10^5$\n，$N$ 为偶数），大小依次为 $a_1,a_2,\\cdots,a_N$（$1≤a_i≤10^9$）。\n\n两头奶牛都想吃到尽可能多的蛋糕。但是，作为非常文明的奶牛，她们决定玩一个游戏来分割蛋糕！游戏在两头奶牛之间轮流进行回合。每个回合进行以下两者之一：\n\n1. Bessie 选择两个相邻的蛋糕并将它们堆叠起来，制造大小为两者大小之和的一个新蛋糕。\n2. Elsie 选择最左边或最右边的蛋糕藏起来。\n\n当只剩下一个蛋糕时，Bessie 吃掉它，而 Elsie 吃掉她藏起来的所有蛋糕。如果两头奶牛都采取最优策略以最大化她们吃到的蛋糕量，并且 Bessie 先进行回合，那么每头奶牛将会吃到多少蛋糕？", "inputFormat": "每个测试点包含 $T$（$1≤T≤10$）个独立的测试用例。输入保证一个测试点中的所有 $N$ 之和不超过 $10^6$。\n\n每个测试用例的格式如下。\n\n第一行包含 $N$。下一行包含 $N$ 个空格分隔的整数 $a_1,a_2,\\cdots,a_N$。", "outputFormat": "对于每个测试用例，输出一行，包含 $b$ 和 $e$，表示 Bessie 和 Elsie 在两头奶牛都采取最优策略的情况下分别吃到的蛋糕量。", "hint": "### 样例解释\n\n对于第一个测试用例，在最优策略下，\n\nBessie 将堆叠中间两个蛋糕。现在蛋糕的大小为 $[40,50,10]$。\n\nElsie 将吃掉最左边的蛋糕。现在剩余的蛋糕的大小为 $[50,10]$。\n\nBessie 堆叠剩余的两个蛋糕。\n\nBessie 将吃到 $30+20+10=60$ 的蛋糕，而 Elsie 将吃到 $40$ 的蛋糕。\n\n第二个测试用例是第一个测试用例反转的情况，因此答案相同。\n\n### 测试点性质\n\n- 测试点 1：样例。\n- 测试点 2：所有 $a_i$ 相等。\n- 测试点 3：$N≤10$。\n- 测试点 4-7：$N≤5000$。\n- 测试点 8-11：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Cake Game S", "background": "", "description": "Bessie 和 Elsie 发现了一行 $N$ 个蛋糕（$2≤N≤5⋅10^5$\n，$N$ 为偶数），大小依次为 $a_1,a_2,\\cdots,a_N$（$1≤a_i≤10^9$）。\n\n两头奶牛都想吃到尽可能多的蛋糕。但是，作为非常文明的奶牛，她们决定玩一个游戏来分割蛋糕！游戏在两头奶牛之间轮流进行回合。每个回合进行以下两者之一：\n\n1. Bessie 选择两个相邻的蛋糕并将它们堆叠起来，制造大小为两者大小之和的一个新蛋糕。\n2. Elsie 选择最左边或最右边的蛋糕藏起来。\n\n当只剩下一个蛋糕时，Bessie 吃掉它，而 Elsie 吃掉她藏起来的所有蛋糕。如果两头奶牛都采取最优策略以最大化她们吃到的蛋糕量，并且 Bessie 先进行回合，那么每头奶牛将会吃到多少蛋糕？", "inputFormat": "每个测试点包含 $T$（$1≤T≤10$）个独立的测试用例。输入保证一个测试点中的所有 $N$ 之和不超过 $10^6$。\n\n每个测试用例的格式如下。\n\n第一行包含 $N$。下一行包含 $N$ 个空格分隔的整数 $a_1,a_2,\\cdots,a_N$。", "outputFormat": "对于每个测试用例，输出一行，包含 $b$ 和 $e$，表示 Bessie 和 Elsie 在两头奶牛都采取最优策略的情况下分别吃到的蛋糕量。", "hint": "### 样例解释\n\n对于第一个测试用例，在最优策略下，\n\nBessie 将堆叠中间两个蛋糕。现在蛋糕的大小为 $[40,50,10]$。\n\nElsie 将吃掉最左边的蛋糕。现在剩余的蛋糕的大小为 $[50,10]$。\n\nBessie 堆叠剩余的两个蛋糕。\n\nBessie 将吃到 $30+20+10=60$ 的蛋糕，而 Elsie 将吃到 $40$ 的蛋糕。\n\n第二个测试用例是第一个测试用例反转的情况，因此答案相同。\n\n### 测试点性质\n\n- 测试点 1：样例。\n- 测试点 2：所有 $a_i$ 相等。\n- 测试点 3：$N≤10$。\n- 测试点 4-7：$N≤5000$。\n- 测试点 8-11：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11453", "type": "P", "difficulty": 4, "samples": [["3\n7 1\n8 4 10 1 2 6 7\n2 9 3\n7 2\n8 4 10 1 2 6 7\n2 9 3\n1 10 1\n7 2\n8 4 10 1 2 6 7\n2 9 3\n1 10 4", "4\n4\n3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "线段树", "二分", "USACO", "堆", "2024", "差分约束"], "title": "[USACO24DEC] Deforestation S", "background": "", "description": "Farmer John 正在扩大他的农场！他已经找到了完美的位置——红黑森林，由数轴上的 $N$ 棵树（$1≤N≤10^5$）组成，第 $i$ 棵树位于位置 $x_i$（$−10^9≤x_i≤10^9$）。\n\n环境保护法限制了 Farmer John 可以砍伐哪些树来为他的农场腾出空间。有 $K$ 个限制（$1≤K≤10^5$），规定在线段 $[l_i,r_i]$（包含端点）中必须始终至少存在 $t_i$ 棵树（$−10^9≤l_i,r_i≤10^9$）。输入保证红黑森林初始时满足这些限制。\n\nFarmer John 想要他的农场尽可能大。请帮助他计算他可以砍伐的树的最大数量，同时仍然满足所有限制！", "inputFormat": "每个测试点包含 $T$（$1≤T≤10$）个独立的测试用例。输入保证一个测试点中的所有 $N$ 之和以及 $K$ 之和均不超过 $3⋅10^5$。\n\n输入的第一行包含 $T$。每个测试用例的格式如下：\n\n- 第一行包含整数 $N$ 和 $K$。\n- 下一行包含 $N$ 个整数 $x_1,\\cdots,x_N$。\n- 以下 $K$ 行，每行包含三个空格分隔的整数 $l_i$，$r_i$ 和 $t_i$。", "outputFormat": "对于每个测试用例，输出一行，包含一个整数，表示 Farmer John 可以砍伐的树的最大数量。", "hint": "### 样例解释\n\n对于第一个测试用例，Farmer John 可以砍伐前 $4$ 棵树，留下位于 $x_i=2,6,7$ 的树来满足限制。\n\n对于第二个测试用例，额外的限制不会影响 Farmer John 可以砍伐哪些树，因此他可以砍伐相同的树并同时满足两个限制。\n\n对于第三个测试用例，Farmer John 至多只能砍伐 $3$ 棵树，因为初始时有 $7$ 棵树，但第二个限制要求他至少留下 $4$ 棵树不砍伐。\n\n### 测试点性质\n\n测试点性质：\n- 测试点 1：样例。\n- 测试点 2：$N,K≤16$。\n- 测试点 3-5：$N,K≤1000$。\n- 测试点 6-7：对于所有的 $i=1,\\cdots,K$ 有 $ti=1$。\n- 测试点 8-11：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Deforestation S", "background": "", "description": "Farmer John 正在扩大他的农场！他已经找到了完美的位置——红黑森林，由数轴上的 $N$ 棵树（$1≤N≤10^5$）组成，第 $i$ 棵树位于位置 $x_i$（$−10^9≤x_i≤10^9$）。\n\n环境保护法限制了 Farmer John 可以砍伐哪些树来为他的农场腾出空间。有 $K$ 个限制（$1≤K≤10^5$），规定在线段 $[l_i,r_i]$（包含端点）中必须始终至少存在 $t_i$ 棵树（$−10^9≤l_i,r_i≤10^9$）。输入保证红黑森林初始时满足这些限制。\n\nFarmer John 想要他的农场尽可能大。请帮助他计算他可以砍伐的树的最大数量，同时仍然满足所有限制！", "inputFormat": "每个测试点包含 $T$（$1≤T≤10$）个独立的测试用例。输入保证一个测试点中的所有 $N$ 之和以及 $K$ 之和均不超过 $3⋅10^5$。\n\n输入的第一行包含 $T$。每个测试用例的格式如下：\n\n- 第一行包含整数 $N$ 和 $K$。\n- 下一行包含 $N$ 个整数 $x_1,\\cdots,x_N$。\n- 以下 $K$ 行，每行包含三个空格分隔的整数 $l_i$，$r_i$ 和 $t_i$。", "outputFormat": "对于每个测试用例，输出一行，包含一个整数，表示 Farmer John 可以砍伐的树的最大数量。", "hint": "### 样例解释\n\n对于第一个测试用例，Farmer John 可以砍伐前 $4$ 棵树，留下位于 $x_i=2,6,7$ 的树来满足限制。\n\n对于第二个测试用例，额外的限制不会影响 Farmer John 可以砍伐哪些树，因此他可以砍伐相同的树并同时满足两个限制。\n\n对于第三个测试用例，Farmer John 至多只能砍伐 $3$ 棵树，因为初始时有 $7$ 棵树，但第二个限制要求他至少留下 $4$ 棵树不砍伐。\n\n### 测试点性质\n\n测试点性质：\n- 测试点 1：样例。\n- 测试点 2：$N,K≤16$。\n- 测试点 3-5：$N,K≤1000$。\n- 测试点 6-7：对于所有的 $i=1,\\cdots,K$ 有 $ti=1$。\n- 测试点 8-11：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11454", "type": "P", "difficulty": 5, "samples": [["3 5\n1 1 R\n3 3 L\n3 2 D\n1 2 L\n2 1 U", "0\n0\n0\n2\n3"], ["3 8\n1 1 R\n1 2 L\n1 3 D\n2 3 U\n3 3 L\n3 2 R\n3 1 U\n2 1 D", "0\n2\n2\n4\n4\n6\n6\n9"], ["4 13\n2 2 R\n2 3 R\n2 4 D\n3 4 D\n4 4 L\n4 3 L\n4 2 U\n3 1 D\n4 1 R\n2 1 L\n1 1 D\n1 4 L\n1 3 D", "0\n0\n0\n0\n0\n0\n0\n0\n11\n11\n11\n11\n13"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["图论", "USACO", "2024", "深度优先搜索 DFS", "连通块", "离线处理"], "title": "[USACO24DEC] 2D Conveyer Belt S", "background": "", "description": "Farmer John 的牛奶工厂可以用一个 $N\\times N$（$1≤N≤1000$）的方阵来表示，其中的方格带有传送带。位置 $(a,b)$ 描述了位于从上往下第 $a$ 行、从左往右第 $b$ 列的方格。有 $5$ 种类型的方格：\n\n- $\\texttt{L}$ — 该方格是一个向左的传送带，每一单位时间会将所有物品向左移动一格。\n- $\\texttt{R}$ — 该方格是一个向右的传送带，每一单位时间会将所有物品向右移动一格。\n- $\\texttt{U}$ — 该方格是一个向上的传送带，每一单位时间会将所有物品向上移动一格。\n- $\\texttt{D}$ — 该方格是一个向下的传送带，每一单位时间会将所有物品向下移动一格。\n- $\\texttt{?}$ — Farmer John 还没有在该方格上建造传送带。\n注意传送带也可以将物品移动到方阵外。一个方格 $c$ 是不可用的，当且仅当一个放置在方格 $c$ 上的物品将永远不会离开传送带方阵（即它会永远在方阵中移动）。\n\n初始时，Farmer John 还没有开始建造传送带，所以所有方格都以 $\\texttt{?}$ 开始。接下来的 $Q$（$1≤Q≤2⋅10^5$）天，从第 $1$ 天开始到第 $Q$ 天，Farmer John 将选择一个没有传送带的方阵并在该方阵上建造一个传送带。\n\n具体地说，在第 $i$ 天，Farmer John 将在位置 $(r_i,c_i)$（$1≤r_i,c_i≤N$）建造一个类型 $t_i$（$t_i\\in\\{\\texttt{L},\\texttt{R},\\texttt{U},\\texttt{D}\\}$）的传送带。输入保证在位置 $(r_i,c_i)$ 没有传送带。\n\n每天过后，请帮助 Farmer John 求出他通过最优地在所有余下的没有传送带的方格上建造传送带可以达到的不可用方格的最小数量。", "inputFormat": "输入的第一行包含 $N$ 和 $Q$。\n\n以下 $Q$ 行，第 $i$ 行依次包含 $r_i$，$c_i$ 和 $t_i$。", "outputFormat": "输出 $Q$ 行，每行包含 Farmer John 最优地在所有余下的没有传送带的方格上建造传送带时不可用方格的最小数量。", "hint": "### 样例 #1 解释\n\n第五天过后的传送带如下所示。\n\n$$\\begin{aligned}\n\\texttt{RL?}\\\\\n\\texttt{U??}\\\\\n\\texttt{?DL}\\\\\n\\end{aligned}\n$$\n一种在余下的方格上建造传送带的最优方案如下。\n\n$$\\begin{aligned}\n\\texttt{RLR}\\\\\n\\texttt{URR}\\\\\n\\texttt{LDL}\\\\\n\\end{aligned}\n$$\n在这种配置下，位于 $(1,1)$，$(1,2)$ 和 $(2,1)$ 的方格是不可用的。\n\n### 样例 2 解释\n\n第八天过后的传送带如下所示。\n\n$$\\begin{aligned}\n\\texttt{RLD}\\\\\n\\texttt{D?U}\\\\\n\\texttt{URL}\\\\\n\\end{aligned}\n$$\n\n无论 Farmer John 在中间建造何种传送带，所有方格都将是不可用的。\n\n### 测试点性质\n\n- 测试点 1-3：样例。\n- 测试点 4-5：$N≤10$。\n- 测试点 6-7：$N≤40$。\n- 测试点 8-13：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] 2D Conveyer Belt S", "background": "", "description": "Farmer John 的牛奶工厂可以用一个 $N\\times N$（$1≤N≤1000$）的方阵来表示，其中的方格带有传送带。位置 $(a,b)$ 描述了位于从上往下第 $a$ 行、从左往右第 $b$ 列的方格。有 $5$ 种类型的方格：\n\n- $\\texttt{L}$ — 该方格是一个向左的传送带，每一单位时间会将所有物品向左移动一格。\n- $\\texttt{R}$ — 该方格是一个向右的传送带，每一单位时间会将所有物品向右移动一格。\n- $\\texttt{U}$ — 该方格是一个向上的传送带，每一单位时间会将所有物品向上移动一格。\n- $\\texttt{D}$ — 该方格是一个向下的传送带，每一单位时间会将所有物品向下移动一格。\n- $\\texttt{?}$ — Farmer John 还没有在该方格上建造传送带。\n注意传送带也可以将物品移动到方阵外。一个方格 $c$ 是不可用的，当且仅当一个放置在方格 $c$ 上的物品将永远不会离开传送带方阵（即它会永远在方阵中移动）。\n\n初始时，Farmer John 还没有开始建造传送带，所以所有方格都以 $\\texttt{?}$ 开始。接下来的 $Q$（$1≤Q≤2⋅10^5$）天，从第 $1$ 天开始到第 $Q$ 天，Farmer John 将选择一个没有传送带的方阵并在该方阵上建造一个传送带。\n\n具体地说，在第 $i$ 天，Farmer John 将在位置 $(r_i,c_i)$（$1≤r_i,c_i≤N$）建造一个类型 $t_i$（$t_i\\in\\{\\texttt{L},\\texttt{R},\\texttt{U},\\texttt{D}\\}$）的传送带。输入保证在位置 $(r_i,c_i)$ 没有传送带。\n\n每天过后，请帮助 Farmer John 求出他通过最优地在所有余下的没有传送带的方格上建造传送带可以达到的不可用方格的最小数量。", "inputFormat": "输入的第一行包含 $N$ 和 $Q$。\n\n以下 $Q$ 行，第 $i$ 行依次包含 $r_i$，$c_i$ 和 $t_i$。", "outputFormat": "输出 $Q$ 行，每行包含 Farmer John 最优地在所有余下的没有传送带的方格上建造传送带时不可用方格的最小数量。", "hint": "### 样例 #1 解释\n\n第五天过后的传送带如下所示。\n\n$$\\begin{aligned}\n\\texttt{RL?}\\\\\n\\texttt{U??}\\\\\n\\texttt{?DL}\\\\\n\\end{aligned}\n$$\n一种在余下的方格上建造传送带的最优方案如下。\n\n$$\\begin{aligned}\n\\texttt{RLR}\\\\\n\\texttt{URR}\\\\\n\\texttt{LDL}\\\\\n\\end{aligned}\n$$\n在这种配置下，位于 $(1,1)$，$(1,2)$ 和 $(2,1)$ 的方格是不可用的。\n\n### 样例 2 解释\n\n第八天过后的传送带如下所示。\n\n$$\\begin{aligned}\n\\texttt{RLD}\\\\\n\\texttt{D?U}\\\\\n\\texttt{URL}\\\\\n\\end{aligned}\n$$\n\n无论 Farmer John 在中间建造何种传送带，所有方格都将是不可用的。\n\n### 测试点性质\n\n- 测试点 1-3：样例。\n- 测试点 4-5：$N≤10$。\n- 测试点 6-7：$N≤40$。\n- 测试点 8-13：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11455", "type": "P", "difficulty": 5, "samples": [["9\n1 1 1 9 2 1 2 1 1\n", "7\n5\n4\n4\n4\n4\n4\n3\n3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "二分", "USACO", "2024", "根号分治"], "title": "[USACO24DEC] Cowdependence G", "background": null, "description": "Farmer John 的 $N$（$1 \\leq N \\leq 10^5$）头奶牛已经排成一行。第 $i$ 头奶牛的标号是 $a_i$（$1 \\leq a_i \\leq N$）。如果一些奶牛具有相同的标号，并且他们两两之间的距离都在 $x$ 头牛以内，那么这些奶牛可以组成一个友谊小组（$x$ 是范围 $[1,N]$ 内的一个整数）。每头奶牛必须恰好属于一个友谊小组。\n\n对于从 $1$ 到 $N$ 的每一个 $x$，计算可能组成的友谊小组的最小数量。", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n下一行包含 $a_1 \\dots a_N$，为每头奶牛的标号。", "outputFormat": "对于从 $1$ 到 $N$ 的每一个 $x$ 输出一行，包含该 $x$ 所对应的友谊小组的最小数量。", "hint": "以下为当 $x=1$ 和 $x=2$ 时将奶牛以最小化小组数量的方式组成友谊小组的一些例子。每个字母对应一个不同的小组。\n\n例：\n\n```\n       1 1 1 9 2 1 2 1 1\nx = 1: A B B C D E F G G（7 组）\nx = 1: A A B C D E F G G（7 组，另一种分组方案）\nx = 2: A A A B C D C E E（5 组）\nx = 2: A A A B C D C D E（5 组，另一种分组方案）\n```\n\n- 测试点 $2\\sim 3$：$N\\leq 5000$。\n- 测试点 $4\\sim 7$：对于所有 $i$ 有 $a_i\\leq 10$。\n- 测试点 $8\\sim 11$：没有标号出现超过 $10$ 次。\n- 测试点 $12\\sim 20$：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Cowdependence G", "background": null, "description": "Farmer John 的 $N$（$1 \\leq N \\leq 10^5$）头奶牛已经排成一行。第 $i$ 头奶牛的标号是 $a_i$（$1 \\leq a_i \\leq N$）。如果一些奶牛具有相同的标号，并且他们两两之间的距离都在 $x$ 头牛以内，那么这些奶牛可以组成一个友谊小组（$x$ 是范围 $[1,N]$ 内的一个整数）。每头奶牛必须恰好属于一个友谊小组。\n\n对于从 $1$ 到 $N$ 的每一个 $x$，计算可能组成的友谊小组的最小数量。", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n下一行包含 $a_1 \\dots a_N$，为每头奶牛的标号。", "outputFormat": "对于从 $1$ 到 $N$ 的每一个 $x$ 输出一行，包含该 $x$ 所对应的友谊小组的最小数量。", "hint": "以下为当 $x=1$ 和 $x=2$ 时将奶牛以最小化小组数量的方式组成友谊小组的一些例子。每个字母对应一个不同的小组。\n\n例：\n\n```\n       1 1 1 9 2 1 2 1 1\nx = 1: A B B C D E F G G（7 组）\nx = 1: A A B C D E F G G（7 组，另一种分组方案）\nx = 2: A A A B C D C E E（5 组）\nx = 2: A A A B C D C D E（5 组，另一种分组方案）\n```\n\n- 测试点 $2\\sim 3$：$N\\leq 5000$。\n- 测试点 $4\\sim 7$：对于所有 $i$ 有 $a_i\\leq 10$。\n- 测试点 $8\\sim 11$：没有标号出现超过 $10$ 次。\n- 测试点 $12\\sim 20$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11456", "type": "P", "difficulty": 5, "samples": [["6\nRXXXXB", "5"], ["6\nXXRBXX", "6"], ["12\nXBXXXXRXRBXX", "18"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "USACO", "树状数组", "2024"], "title": "[USACO24DEC] Interstellar Intervals G", "background": null, "description": "现在是公元 $3000$ 年，Bessie 成为了第一头进入太空的奶牛！在她穿越星际的旅程中，她发现了一条有 $N$（$2 \\leq N \\leq 5 \\cdot 10^5$）个点的数轴，点的编号从 $1$ 到 $N$。所有点初始时都是白色的。她可以执行任意次以下操作。\n\n选择一个数轴上的位置 $i$ 和一个正整数 $x$。然后，将区间 $[i, i + x - 1]$ 中的所有点涂成红色，区间 $[i + x, i + 2x - 1]$ 中的所有点涂成蓝色。所有选择的区间必须是不交的（即区间 $[i, i + 2x - 1]$ 中的点不能已经被涂成红色或蓝色）。同时，整个区间必须落在数轴内（即 $1 \\leq i \\leq i + 2x - 1 \\leq N$）。\nFarmer John 给了 Bessie 一个长度为 $N$ 的字符串 $s$，由字符 $\\tt R$，$\\tt B$ 和 $\\tt X$ 组成。该字符串表示了 Farmer John 对每个点的颜色偏好：$s_i=\\texttt{R}$ 表示第 $i$ 个点必须被涂成红色，$s_i = \\texttt{B}$ 表示第 $i$ 个点必须被涂成蓝色，$s_i = \\texttt{X}$ 表示第 $i$ 个点的颜色没有限制。\n\n帮助 Bessie 计算满足 Farmer John 偏好的不同的数轴涂色方案的数量。两个涂色方案是不同的，当且仅当至少一个对应点的颜色不同。由于答案可能很大，输出答案模 $10^9+7$ 的余数。", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n下一行包含字符串 $s$。", "outputFormat": "输出满足 Farmer John 偏好的不同的数轴涂色方案的数量，对 $10^9+7$ 取模。", "hint": "样例 1 解释：\n\nBessie 可以选择 $i=1,x=1$（即将点 $1$ 涂成红色，点 $2$  涂成蓝色）以及 $i=3,x=2$（即将点 $3,4$ 涂成红色，点 $5,6$ 涂成蓝色）来得到涂色方案 $\\tt RBRRBB$。\n\n其他涂色方案有 $\\tt{RRBBRB}$，$\\tt{RBWWRB}$，$\\tt{RRRBBB}$ 和 $\\tt{RBRBRB}$。\n\n样例 2 解释：\n\n六种涂色方案为 $\\tt{WWRBWW}$，$\\tt{WWRBRB}$，$\\tt{WRRBBW}$，$\\tt{RBRBWW}$，$\\tt{RBRBRB}$ 和 $\\tt{RRRBBB}$。\n\n- 测试点 $4$：$N\\leq 500$。\n- 测试点 $5\\sim 6$：$N\\leq 10^4$。\n- 测试点 $7\\sim 13$：$s$ 中至多 $100$ 个字符不为 $\\tt{X}$。\n- 测试点 $14\\sim 23$：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Interstellar Intervals G", "background": null, "description": "现在是公元 $3000$ 年，Bessie 成为了第一头进入太空的奶牛！在她穿越星际的旅程中，她发现了一条有 $N$（$2 \\leq N \\leq 5 \\cdot 10^5$）个点的数轴，点的编号从 $1$ 到 $N$。所有点初始时都是白色的。她可以执行任意次以下操作。\n\n选择一个数轴上的位置 $i$ 和一个正整数 $x$。然后，将区间 $[i, i + x - 1]$ 中的所有点涂成红色，区间 $[i + x, i + 2x - 1]$ 中的所有点涂成蓝色。所有选择的区间必须是不交的（即区间 $[i, i + 2x - 1]$ 中的点不能已经被涂成红色或蓝色）。同时，整个区间必须落在数轴内（即 $1 \\leq i \\leq i + 2x - 1 \\leq N$）。\nFarmer John 给了 Bessie 一个长度为 $N$ 的字符串 $s$，由字符 $\\tt R$，$\\tt B$ 和 $\\tt X$ 组成。该字符串表示了 Farmer John 对每个点的颜色偏好：$s_i=\\texttt{R}$ 表示第 $i$ 个点必须被涂成红色，$s_i = \\texttt{B}$ 表示第 $i$ 个点必须被涂成蓝色，$s_i = \\texttt{X}$ 表示第 $i$ 个点的颜色没有限制。\n\n帮助 Bessie 计算满足 Farmer John 偏好的不同的数轴涂色方案的数量。两个涂色方案是不同的，当且仅当至少一个对应点的颜色不同。由于答案可能很大，输出答案模 $10^9+7$ 的余数。", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n下一行包含字符串 $s$。", "outputFormat": "输出满足 Farmer John 偏好的不同的数轴涂色方案的数量，对 $10^9+7$ 取模。", "hint": "样例 1 解释：\n\nBessie 可以选择 $i=1,x=1$（即将点 $1$ 涂成红色，点 $2$  涂成蓝色）以及 $i=3,x=2$（即将点 $3,4$ 涂成红色，点 $5,6$ 涂成蓝色）来得到涂色方案 $\\tt RBRRBB$。\n\n其他涂色方案有 $\\tt{RRBBRB}$，$\\tt{RBWWRB}$，$\\tt{RRRBBB}$ 和 $\\tt{RBRBRB}$。\n\n样例 2 解释：\n\n六种涂色方案为 $\\tt{WWRBWW}$，$\\tt{WWRBRB}$，$\\tt{WRRBBW}$，$\\tt{RBRBWW}$，$\\tt{RBRBRB}$ 和 $\\tt{RRRBBB}$。\n\n- 测试点 $4$：$N\\leq 500$。\n- 测试点 $5\\sim 6$：$N\\leq 10^4$。\n- 测试点 $7\\sim 13$：$s$ 中至多 $100$ 个字符不为 $\\tt{X}$。\n- 测试点 $14\\sim 23$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11457", "type": "P", "difficulty": 5, "samples": [["3\n2\n1 4\n1 2\n2\n2 3\n1 2\n3\n1 4\n2 3\n1 2", "1\n2\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "USACO", "堆", "2024", "反悔贪心"], "title": "[USACO24DEC] Job Completion G", "background": "", "description": "奶牛 Bessie 有 $N$（$1\\le N\\le 2\\cdot 10^5$）个工作需要你去完成。第 $i$ 个工作，如果你选择完成它，必须在时刻 $s_i$ 或之前开始，花费 $t_i$ 时间才能完成（$0\\le s_i\\le 10^{18}, 1\\le t_i\\le 10^{18}$）。\n\n你可以完成的工作的最大数量是多少？时间从时刻 $0$ 开始，并且一旦你开始一个工作，你必须一直工作直到完成，而不能在此期间开始完成其他工作。", "inputFormat": "输入的第一行包含 $T$，为测试用例的数量（$1\\le T\\le 10$）。每个测试用例的格式如下。\n第一行包含 $N$。\n\n以下 $N$ 行，每行包含两个整数 $s_i$ 和 $t_i$。第 $i+1$ 行为第 $i$ 个工作的信息。\n\n输入保证所有测试用例的 $N$ 之和不超过 $3\\cdot 10^5$。", "outputFormat": "对于每个测试用例输出一行，包含你可以完成的工作的最大数量。\n", "hint": "对于第一个测试用例，你只能完成其中一个工作。在完成一个工作后，将会是时刻 $2$ 或更晚，因此已经太晚，无法开始另一个工作，必须要在时刻 $1$ 或更早才能开始。\n\n对于第二个测试用例，你可以在时刻 $0$ 开始第二个工作并于时刻 $2$ 完成，然后在时刻 $2$ 开始第一个工作并于时刻 $5$ 完成。\n\n- 测试点 $2$：同一个测试用例中的所有 $t_i$ 均相等。\n- 测试点 $3\\sim 4$：$N\\le 2000$，$s_i, t_i\\le 2000$。\n- 测试点 $5\\sim 8$：$N\\le 2000$。\n- 测试点 $9\\sim 16$：没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Job Completion G", "background": "", "description": "奶牛 Bessie 有 $N$（$1\\le N\\le 2\\cdot 10^5$）个工作需要你去完成。第 $i$ 个工作，如果你选择完成它，必须在时刻 $s_i$ 或之前开始，花费 $t_i$ 时间才能完成（$0\\le s_i\\le 10^{18}, 1\\le t_i\\le 10^{18}$）。\n\n你可以完成的工作的最大数量是多少？时间从时刻 $0$ 开始，并且一旦你开始一个工作，你必须一直工作直到完成，而不能在此期间开始完成其他工作。", "inputFormat": "输入的第一行包含 $T$，为测试用例的数量（$1\\le T\\le 10$）。每个测试用例的格式如下。\n第一行包含 $N$。\n\n以下 $N$ 行，每行包含两个整数 $s_i$ 和 $t_i$。第 $i+1$ 行为第 $i$ 个工作的信息。\n\n输入保证所有测试用例的 $N$ 之和不超过 $3\\cdot 10^5$。", "outputFormat": "对于每个测试用例输出一行，包含你可以完成的工作的最大数量。\n", "hint": "对于第一个测试用例，你只能完成其中一个工作。在完成一个工作后，将会是时刻 $2$ 或更晚，因此已经太晚，无法开始另一个工作，必须要在时刻 $1$ 或更早才能开始。\n\n对于第二个测试用例，你可以在时刻 $0$ 开始第二个工作并于时刻 $2$ 完成，然后在时刻 $2$ 开始第一个工作并于时刻 $5$ 完成。\n\n- 测试点 $2$：同一个测试用例中的所有 $t_i$ 均相等。\n- 测试点 $3\\sim 4$：$N\\le 2000$，$s_i, t_i\\le 2000$。\n- 测试点 $5\\sim 8$：$N\\le 2000$。\n- 测试点 $9\\sim 16$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11458", "type": "P", "difficulty": 6, "samples": [["4 2\n1\n1\n2\n3", "500000006\n500000006\n500000005\n500000006"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["USACO", "2024", "容斥原理", "快速沃尔什变换 FWT", "状压 DP"], "title": "[USACO24DEC] All Pairs Similarity P", "background": "", "description": "**注意：本题的内存限制为 512MB，通常限制的 2 倍。**\n\nFarmer John 的 $N$（$1\\le N\\le 5\\cdot 10^5$）头奶牛都被分配了一个长度为 $K$ 的非全零位串（$1\\le K\\le 20$）。不同的奶牛可能被分配到相同的位串。\n\n两个位串的 Jaccard 相似度定义为它们的按位与的结果中 $\\texttt{1}$ 的数量除以它们的按位或的结果中 $\\texttt{1}$ 的数量。例如，位串 $\\texttt{11001}$ 和 $\\texttt{11010}$ 的 Jaccard 相似度为 $2/4$。\n\n对于每头奶牛，输出她的位串与每头奶牛（包括她自己）的位串的 Jaccard 相似度之和，对 $10^9+7$ 取模。具体地说，如果总和等于一个有理数 $a/b$，其中 $a$ 和 $b$ 是互质的整数，则输出范围 $[0,10^9+7)$ 内的唯一整数 $x$，使得 $bx-a$ 被 $10^9+7$ 整除。", "inputFormat": "输入的第一行包含 $N$ 和 $K$。\n\n以下 $N$ 行每行包含一个整数 $i\\in (0,2^K)$，表示一头奶牛分配到了 $i$ 的 $K$ 位二进制表示。", "outputFormat": "对于每头奶牛输出一行，包含所求的总和，对 $10^9+7$ 取模。\n", "hint": "奶牛们分配到了以下的位串：$[\\texttt{01}, \\texttt{01}, \\texttt{10}, \\texttt{11}]$。\n\n对于第一头奶牛，总和为 $\\text{sim}(1,1)+\\text{sim}(1,1)+\\text{sim}(1,2)+\\text{sim}(1,3)=1+1+0+1/2\\equiv 500000006\\pmod{10^9+7}$。\n\n第二头奶牛的位串与第一头奶牛相同，所以她的总和也与第一头奶牛相同。\n\n对于第三头奶牛，总和为 $\\text{sim}(2,1)+\\text{sim}(2,1)+\\text{sim}(2,2)+\\text{sim}(2,3)=0+0+1+1/2\\equiv 500000005\\pmod{10^9+7}$。\n\n- 测试点 $2\\sim 15$：对于每一个 $K\\in \\{10,15,16,17,18,19,20\\}$ 有两个测试点。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] All Pairs Similarity P", "background": "", "description": "**注意：本题的内存限制为 512MB，通常限制的 2 倍。**\n\nFarmer John 的 $N$（$1\\le N\\le 5\\cdot 10^5$）头奶牛都被分配了一个长度为 $K$ 的非全零位串（$1\\le K\\le 20$）。不同的奶牛可能被分配到相同的位串。\n\n两个位串的 Jaccard 相似度定义为它们的按位与的结果中 $\\texttt{1}$ 的数量除以它们的按位或的结果中 $\\texttt{1}$ 的数量。例如，位串 $\\texttt{11001}$ 和 $\\texttt{11010}$ 的 Jaccard 相似度为 $2/4$。\n\n对于每头奶牛，输出她的位串与每头奶牛（包括她自己）的位串的 Jaccard 相似度之和，对 $10^9+7$ 取模。具体地说，如果总和等于一个有理数 $a/b$，其中 $a$ 和 $b$ 是互质的整数，则输出范围 $[0,10^9+7)$ 内的唯一整数 $x$，使得 $bx-a$ 被 $10^9+7$ 整除。", "inputFormat": "输入的第一行包含 $N$ 和 $K$。\n\n以下 $N$ 行每行包含一个整数 $i\\in (0,2^K)$，表示一头奶牛分配到了 $i$ 的 $K$ 位二进制表示。", "outputFormat": "对于每头奶牛输出一行，包含所求的总和，对 $10^9+7$ 取模。\n", "hint": "奶牛们分配到了以下的位串：$[\\texttt{01}, \\texttt{01}, \\texttt{10}, \\texttt{11}]$。\n\n对于第一头奶牛，总和为 $\\text{sim}(1,1)+\\text{sim}(1,1)+\\text{sim}(1,2)+\\text{sim}(1,3)=1+1+0+1/2\\equiv 500000006\\pmod{10^9+7}$。\n\n第二头奶牛的位串与第一头奶牛相同，所以她的总和也与第一头奶牛相同。\n\n对于第三头奶牛，总和为 $\\text{sim}(2,1)+\\text{sim}(2,1)+\\text{sim}(2,2)+\\text{sim}(2,3)=0+0+1+1/2\\equiv 500000005\\pmod{10^9+7}$。\n\n- 测试点 $2\\sim 15$：对于每一个 $K\\in \\{10,15,16,17,18,19,20\\}$ 有两个测试点。", "locale": "zh-CN"}}}
{"pid": "P11459", "type": "P", "difficulty": 6, "samples": [["1 4\nMOOO\n10 20 30 40", "0\n20\n50\n90"], ["3 4\nOOOO\n50 40 30 20", "40"], ["2 20\nOOOMOMOOOMOOOMMMOMOO\n44743602 39649528 94028117 50811780 97338107 30426846 94909807 22669835 78498782 18004278 16633124 24711234 90542888 88490759 12851185 74589289 54413775 21184626 97688928 10497142", "0\n0\n0\n0\n0\n12851185\n35521020\n60232254\n99881782\n952304708"], ["3 20\nOOOMOMOOOMOOOMMMOMOO\n44743602 39649528 94028117 50811780 97338107 30426846 94909807 22669835 78498782 18004278 16633124 24711234 90542888 88490759 12851185 74589289 54413775 21184626 97688928 10497142", "0\n0\n0\n44743602\n119332891\n207066974"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "USACO", "2024", "动态规划优化", "凸包"], "title": "[USACO24DEC] It's Mooin' Time P", "background": "", "description": "**注意：本题的时间限制为 3 秒，通常限制的 1.5 倍。**\n\nBessie 有一个长度为 $N$（$1\\le N\\le 3\\cdot 10^5$）的字符串，仅由字符 M 和 O 组成。对于字符串中的每个位置 $i$，需要花费 $c_i$ 来将该位置上的字符修改为另一种字符（$1\\le c_i\\le 10^8$）。\n\nBessie 认为，如果字符串包含更多长度为 $L$（$1\\le L\\le \\min(N, 3)$）的哞叫会看起来更好。一个长度为 $L$ 的哞叫指的是一个 M 后面跟着 $L-1$ 个 O。\n\n对于从 $1$ 到 $\\lfloor N/L\\rfloor$ 的每一个正整数 $k$，计算将字符串修改至包含至少 $k$ 个等于长度为 $L$ 的哞叫的子串的最小花费。", "inputFormat": "输入的第一行包含 $L$ 和 $N$。\n\n下一行包含 Bessie 的长为 $N$ 的字符串，仅由字符 M 和 O 组成。\n\n下一行包含空格分隔的整数 $c_1\\dots c_N$。", "outputFormat": "输出 $\\lfloor N/L\\rfloor$ 行，依次包含每一个 $k$ 的答案。\n", "hint": "- 测试点 $5$：$L=3, N\\le 5000$。\n- 测试点 $6$：$L=1$。\n- 测试点 $7\\sim 10$：$L=2$。\n- 测试点 $11\\sim 18$：$L=3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] It's Mooin' Time P", "background": "", "description": "**注意：本题的时间限制为 3 秒，通常限制的 1.5 倍。**\n\nBessie 有一个长度为 $N$（$1\\le N\\le 3\\cdot 10^5$）的字符串，仅由字符 M 和 O 组成。对于字符串中的每个位置 $i$，需要花费 $c_i$ 来将该位置上的字符修改为另一种字符（$1\\le c_i\\le 10^8$）。\n\nBessie 认为，如果字符串包含更多长度为 $L$（$1\\le L\\le \\min(N, 3)$）的哞叫会看起来更好。一个长度为 $L$ 的哞叫指的是一个 M 后面跟着 $L-1$ 个 O。\n\n对于从 $1$ 到 $\\lfloor N/L\\rfloor$ 的每一个正整数 $k$，计算将字符串修改至包含至少 $k$ 个等于长度为 $L$ 的哞叫的子串的最小花费。", "inputFormat": "输入的第一行包含 $L$ 和 $N$。\n\n下一行包含 Bessie 的长为 $N$ 的字符串，仅由字符 M 和 O 组成。\n\n下一行包含空格分隔的整数 $c_1\\dots c_N$。", "outputFormat": "输出 $\\lfloor N/L\\rfloor$ 行，依次包含每一个 $k$ 的答案。\n", "hint": "- 测试点 $5$：$L=3, N\\le 5000$。\n- 测试点 $6$：$L=1$。\n- 测试点 $7\\sim 10$：$L=2$。\n- 测试点 $11\\sim 18$：$L=3$。", "locale": "zh-CN"}}}
{"pid": "P11460", "type": "P", "difficulty": 7, "samples": [["3 4\n0\n1\n1 1\n2\n0 2\n2 3", "2\n0\n1"], ["9 11\n2\n0 5\n6 9\n3\n0 5\n6 9\n1 0\n4\n0 5\n6 9\n1 0\n4 7\n5\n0 5\n6 9\n1 0\n4 7\n2 6\n6\n0 5\n6 9\n1 0\n4 7\n2 6\n9 3\n7\n0 5\n6 9\n1 0\n4 7\n2 6\n9 3\n5 2\n8\n0 5\n6 9\n1 0\n4 7\n2 6\n9 3\n5 2\n7 4\n9\n0 5\n6 9\n1 0\n4 7\n2 6\n9 3\n5 2\n7 4\n3 1\n10\n0 5\n6 9\n1 0\n4 7\n2 6\n9 3\n5 2\n7 4\n3 1\n8 10", "6\n6\n1\n1\n1\n1\n1\n1\n1"], ["10 11\n0\n1\n3 8\n2\n3 8\n5 7\n3\n3 8\n5 7\n4 2\n4\n3 8\n5 7\n4 2\n10 6\n5\n3 8\n5 7\n4 2\n10 6\n8 10\n6\n3 8\n5 7\n4 2\n10 6\n8 10\n1 9\n7\n3 8\n5 7\n4 2\n10 6\n8 10\n1 9\n7 5\n8\n3 8\n5 7\n4 2\n10 6\n8 10\n1 9\n7 5\n2 3\n9\n3 8\n5 7\n4 2\n10 6\n8 10\n1 9\n7 5\n2 3\n6 0", "160\n20\n8\n7\n2\n1\n1\n1\n1\n1"], ["5 987\n3\n654 321\n543 210\n432 106\n2\n654 321\n543 210\n1\n654 321\n1\n0 493\n0", "0\n538184948\n693625420\n932738155\n251798971"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "USACO", "2024", "分类讨论"], "title": "[USACO24DEC] Maximize Minimum Difference P", "background": "", "description": "**注意：本题的时间限制为 4 秒，通常限制的 2 倍。**\n\n哞！你被给定了一个整数 $N$（$2\\le N\\le 2000$）。考虑 $[0,1,2\\dots, N-1]$ 的所有排列 $p=[p_0,p_1,\\dots, p_{N-1}]$。令 $f(p)=\\min_{i=0}^{N-2}|p_i-p_{i+1}|$ 表示 $p$ 中任意两个连续元素之间的最小绝对差值，并令 $S$ 表示所有达到 $f(p)$ 最大可能值的 $p$ 的集合。\n\n你还被给定了 $K$（$0\\le K\\le N$）个限制，形式为 $p_i=j$（$0\\le i,j<N$）。计算 $S$ 中满足所有限制的排列数量，对 $10^9+7$ 取模。", "inputFormat": "输入的第一行包含 $T$ 和 $N$（$1\\le TN\\le 2\\cdot 10^4$），表示你需要求解 $T$ 个独立的测试用例，每个测试用例指定一组不同的限制。\n\n每个测试用例的第一行包含 $K$，以下 $K$ 行，每行包含 $i$ 和 $j$。输入保证\n\n相同的 $i$ 在同一测试用例中不会出现超过一次。\n相同的 $j$ 在同一测试用例中不会出现超过一次。", "outputFormat": "对于每个测试用例输出一行，包含答案模 $10^9+7$ 的余数。\n", "hint": "样例 1 解释：\n\n$f(p)$ 的最大值为 $2$，且 $S=\\{[2,0,3,1], [1,3,0,2]\\}$。\n\n样例 2 解释：\n\n$p=[5, 0, 6, 1, 7, 2, 9, 4, 10, 3, 8]$ 在所有测试用例中都应当被计算在内。\n\n\n样例 3 解释：\n\n$p=[4, 9, 3, 8, 2, 7, 0, 5, 10, 1, 6]$ 在所有测试用例中都应当被计算在内。\n\n样例 4 解释：\n\n\n确保输出答案对 $10^9+7$ 取模。\n\n- 测试点 $5$：$N=15$。\n- 测试点 $6$：$N=2000$。\n- 测试点 $7\\sim 9$：对于所有测试用例，均存在限制 $p_0=\\lfloor N/2\\rfloor$。\n- 测试点 $10\\sim 13$：对于所有测试用例，均存在某个限制 $p_i = j$，其中 $j$ 等于 $\\lfloor N/2\\rfloor$。\n- 测试点 $14\\sim 20$：没有额外限制。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO24DEC] Maximize Minimum Difference P", "background": "", "description": "**注意：本题的时间限制为 4 秒，通常限制的 2 倍。**\n\n哞！你被给定了一个整数 $N$（$2\\le N\\le 2000$）。考虑 $[0,1,2\\dots, N-1]$ 的所有排列 $p=[p_0,p_1,\\dots, p_{N-1}]$。令 $f(p)=\\min_{i=0}^{N-2}|p_i-p_{i+1}|$ 表示 $p$ 中任意两个连续元素之间的最小绝对差值，并令 $S$ 表示所有达到 $f(p)$ 最大可能值的 $p$ 的集合。\n\n你还被给定了 $K$（$0\\le K\\le N$）个限制，形式为 $p_i=j$（$0\\le i,j<N$）。计算 $S$ 中满足所有限制的排列数量，对 $10^9+7$ 取模。", "inputFormat": "输入的第一行包含 $T$ 和 $N$（$1\\le TN\\le 2\\cdot 10^4$），表示你需要求解 $T$ 个独立的测试用例，每个测试用例指定一组不同的限制。\n\n每个测试用例的第一行包含 $K$，以下 $K$ 行，每行包含 $i$ 和 $j$。输入保证\n\n相同的 $i$ 在同一测试用例中不会出现超过一次。\n相同的 $j$ 在同一测试用例中不会出现超过一次。", "outputFormat": "对于每个测试用例输出一行，包含答案模 $10^9+7$ 的余数。\n", "hint": "样例 1 解释：\n\n$f(p)$ 的最大值为 $2$，且 $S=\\{[2,0,3,1], [1,3,0,2]\\}$。\n\n样例 2 解释：\n\n$p=[5, 0, 6, 1, 7, 2, 9, 4, 10, 3, 8]$ 在所有测试用例中都应当被计算在内。\n\n\n样例 3 解释：\n\n$p=[4, 9, 3, 8, 2, 7, 0, 5, 10, 1, 6]$ 在所有测试用例中都应当被计算在内。\n\n样例 4 解释：\n\n\n确保输出答案对 $10^9+7$ 取模。\n\n- 测试点 $5$：$N=15$。\n- 测试点 $6$：$N=2000$。\n- 测试点 $7\\sim 9$：对于所有测试用例，均存在限制 $p_0=\\lfloor N/2\\rfloor$。\n- 测试点 $10\\sim 13$：对于所有测试用例，均存在某个限制 $p_i = j$，其中 $j$ 等于 $\\lfloor N/2\\rfloor$。\n- 测试点 $14\\sim 20$：没有额外限制。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11461", "type": "P", "difficulty": 1, "samples": [["2013", "No"], ["2024", "Yes"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "Good Luck & Have Fun", "background": "> 欢迎报考东北大学**秦皇岛**分校", "description": "众所不周知，NEUQ 第一届图灵杯在 $2013$ 至 $2014$ 学年开始线下举办，并且之后每学年举办一届。\n\n但众所周知，从第七届图灵杯开始，NEUQ 面向全国高校举行图灵杯线上同步赛，然而由于一些因素，第十届图灵杯并没有举行线上同步赛。\n\n现在给定一个正整数 $x$，现在会长 @BrotherCall 想知道 $x$ 至 $x + 1$ 学年举办的图灵杯有没有线上同步赛。\n\n如果有则输出 `Yes`，没有则输出 `No`。\n\n\n", "inputFormat": "一行一个整数 $x$。", "outputFormat": "输出 `Yes` 或 `No`，含义如题目描述所示。", "hint": "$2013 \\le x \\le 2024$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Good Luck & Have Fun", "background": "> 欢迎报考东北大学**秦皇岛**分校", "description": "众所不周知，NEUQ 第一届图灵杯在 $2013$ 至 $2014$ 学年开始线下举办，并且之后每学年举办一届。\n\n但众所周知，从第七届图灵杯开始，NEUQ 面向全国高校举行图灵杯线上同步赛，然而由于一些因素，第十届图灵杯并没有举行线上同步赛。\n\n现在给定一个正整数 $x$，现在会长 @BrotherCall 想知道 $x$ 至 $x + 1$ 学年举办的图灵杯有没有线上同步赛。\n\n如果有则输出 `Yes`，没有则输出 `No`。\n\n\n", "inputFormat": "一行一个整数 $x$。", "outputFormat": "输出 `Yes` 或 `No`，含义如题目描述所示。", "hint": "$2013 \\le x \\le 2024$。", "locale": "zh-CN"}}}
{"pid": "P11462", "type": "P", "difficulty": 2, "samples": [["4 8\n2 1 10 10\n4 9 5 2\n", "2050.0000"], ["10 19\n1 10 3 3 1 10 2 7 8 6\n3 2 1 2 7 9 7 6 4 7\n", "3544.4444\n"], ["8 18\n4 6 4 1 3 8 9 3\n6 9 6 7 5 9 8 3\n", "1822.2222\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "huaijiao 要加学", "background": "天天网瘾的 huaijiao 绩点已经大残了，为了稳住绩点，huaijiao 决定加学。", "description": "期末考试一共有 $n$ 门课程，huaijiao 需要在有限时间内尽可能合理地安排速通计划，来让自己的绩点最大化。\n\n已知第 $i$ 门课程的学分 $c_i$ 和难度系数 $k_i$，huaijiao 如果花费 $x$ 天来速通第 $i$ 门课程，那么他将取得的成绩 $w_i = \\min(1, \\displaystyle\\frac{x}{k_i}) \\times 100$。\n\nhuaijiao 最后的总成绩 $W = \\sum_{i=1}^{n} (w_i \\times c_i)$。\n\nhuaijiao 现在一点没学，距离期末考试只剩下 $M$ 天，每天 huaijiao 只能专心学一门，请你帮帮他最大化他的总成绩。", "inputFormat": "第一行两个正整数 $n, M$，分别表示总共有多少门课程和距离期末考试还剩下多少天。\n\n第二行 $n$ 个正整数，表示每门课程的学分：$c_1,c_2,\\cdots,c_n$。\n\n第三行 $n$ 个正整数，表示每门课程的难度：$k_1,k_2,\\cdots,k_n$。", "outputFormat": "输出一个实数，保留四位小数，表示最大的总成绩。", "hint": "$1 \\leq n \\leq 1000$，$1 \\leq M \\leq 1000$，$1 \\leq c_i \\leq 10$，$1 \\leq k_i \\leq 10$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "huaijiao 要加学", "background": "天天网瘾的 huaijiao 绩点已经大残了，为了稳住绩点，huaijiao 决定加学。", "description": "期末考试一共有 $n$ 门课程，huaijiao 需要在有限时间内尽可能合理地安排速通计划，来让自己的绩点最大化。\n\n已知第 $i$ 门课程的学分 $c_i$ 和难度系数 $k_i$，huaijiao 如果花费 $x$ 天来速通第 $i$ 门课程，那么他将取得的成绩 $w_i = \\min(1, \\displaystyle\\frac{x}{k_i}) \\times 100$。\n\nhuaijiao 最后的总成绩 $W = \\sum_{i=1}^{n} (w_i \\times c_i)$。\n\nhuaijiao 现在一点没学，距离期末考试只剩下 $M$ 天，每天 huaijiao 只能专心学一门，请你帮帮他最大化他的总成绩。", "inputFormat": "第一行两个正整数 $n, M$，分别表示总共有多少门课程和距离期末考试还剩下多少天。\n\n第二行 $n$ 个正整数，表示每门课程的学分：$c_1,c_2,\\cdots,c_n$。\n\n第三行 $n$ 个正整数，表示每门课程的难度：$k_1,k_2,\\cdots,k_n$。", "outputFormat": "输出一个实数，保留四位小数，表示最大的总成绩。", "hint": "$1 \\leq n \\leq 1000$，$1 \\leq M \\leq 1000$，$1 \\leq c_i \\leq 10$，$1 \\leq k_i \\leq 10$。\n", "locale": "zh-CN"}}}
{"pid": "P11463", "type": "P", "difficulty": 3, "samples": [["3\n3 0 3\n5 1 2\n5 1 7", "3 2 1\n4 1 2 5 3\n3 5 2 1 4"], ["5\n7 0 1\n7 0 2\n7 0 3\n7 0 4\n7 0 5", "4 1 2 3 5 6 7\n4 1 2 5 6 7 3\n5 4 1 2 6 7 3\n5 4 1 6 7 3 2\n6 5 4 1 7 3 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "N角进攻", "background": "t1e 在篮球课上学习了三角进攻的传球战术，他由此联想到了 $n$ 角进攻，并产生了一些疑问。", "description": "$n$ 角进攻由排成一排的 $n$ 个人发起，初始时球员从左到右依次标号为 $1,2,\\cdots, n$，且篮球初始在队伍正中间的 $\\frac{n + 1}{2}$ 号球员手中（保证 $n$ 为奇数）。\n\n- 第 $1$ 次传球，正中间的球员可以选择一个方向（左或右），将篮球传递到该方向上距离他最近的球员手中，传球后，正中间的球员从队列中移出，并重新在队列的最左边或最右边插入（与传球方向保持一致）。\n\n- 对于之后的传球，当前处在队列正中间的球员必须选择与上次传递相反的方向，传球后依然是正中间的球员从队列中移出，并重新在队列的最左边或最右边插入（与传球方向保持一致）。\n\n例如，以下是 $n = 3$，初始时中间球员向左边传球，经过 $3$ 次传球后的情况：\n\n```\n第 0 次传球后 : 1 2 3 （接下来 2 号球员向左传球）\n第 1 次传球后 : 2 1 3 （接下来 1 号球员向右传球）\n第 2 次传球后 : 2 3 1 （接下来 3 号球员向左传球）\n第 3 次传球后 : 3 2 1 \n```\n\n现在 t1e 想知道有 $n$ 名球员，初始时正中间球员向方向 $x$ 传球（$x = 0$ 代表左，$x = 1$ 代表右），经过 $k$ 次传球之后的局面。\n\n\n", "inputFormat": "**本题有多组数据**。\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行三个整数，分别代表 $n, x, k$。", "outputFormat": "对于每组数据：\n\n输出一个 $1$ 到 $n$ 的排列，代表 $k$ 次传球后的最终状态。", "hint": "$1 \\le T \\le 200$，$3 \\le n,\\sum n \\le 2\\times 10^5$，$x \\in \\{0, 1\\}$，$0\\le k \\le 10^{18}$，保证 $n$ 是奇数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "N角进攻", "background": "t1e 在篮球课上学习了三角进攻的传球战术，他由此联想到了 $n$ 角进攻，并产生了一些疑问。", "description": "$n$ 角进攻由排成一排的 $n$ 个人发起，初始时球员从左到右依次标号为 $1,2,\\cdots, n$，且篮球初始在队伍正中间的 $\\frac{n + 1}{2}$ 号球员手中（保证 $n$ 为奇数）。\n\n- 第 $1$ 次传球，正中间的球员可以选择一个方向（左或右），将篮球传递到该方向上距离他最近的球员手中，传球后，正中间的球员从队列中移出，并重新在队列的最左边或最右边插入（与传球方向保持一致）。\n\n- 对于之后的传球，当前处在队列正中间的球员必须选择与上次传递相反的方向，传球后依然是正中间的球员从队列中移出，并重新在队列的最左边或最右边插入（与传球方向保持一致）。\n\n例如，以下是 $n = 3$，初始时中间球员向左边传球，经过 $3$ 次传球后的情况：\n\n```\n第 0 次传球后 : 1 2 3 （接下来 2 号球员向左传球）\n第 1 次传球后 : 2 1 3 （接下来 1 号球员向右传球）\n第 2 次传球后 : 2 3 1 （接下来 3 号球员向左传球）\n第 3 次传球后 : 3 2 1 \n```\n\n现在 t1e 想知道有 $n$ 名球员，初始时正中间球员向方向 $x$ 传球（$x = 0$ 代表左，$x = 1$ 代表右），经过 $k$ 次传球之后的局面。\n\n\n", "inputFormat": "**本题有多组数据**。\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行三个整数，分别代表 $n, x, k$。", "outputFormat": "对于每组数据：\n\n输出一个 $1$ 到 $n$ 的排列，代表 $k$ 次传球后的最终状态。", "hint": "$1 \\le T \\le 200$，$3 \\le n,\\sum n \\le 2\\times 10^5$，$x \\in \\{0, 1\\}$，$0\\le k \\le 10^{18}$，保证 $n$ 是奇数。", "locale": "zh-CN"}}}
{"pid": "P11464", "type": "P", "difficulty": 3, "samples": [["5 3\n2 2 2\n2 3 1\n2 3 1\n2 3 1\n1 1 1", "1"], ["5 5\n0 0 2 2 2\n3 3 2 2 2\n3 3 3 2 2\n1 2 2 2 4\n1 1 1 2 4", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "支配剧场", "background": "> May all the beauty be blessed. ", "description": "布洛妮娅和符华在寻找琪亚娜的途中，被支配之律者困在了支配剧场的高塔回廊之中。布洛妮娅敏锐地发现，虚无回廊是由一些支配之律者生成的积木构成的，只要击碎其中一些积木，就能解除空间的限制，让她们逃出高塔回廊。\n\n具体来说，整个高塔回廊可以由一张高为 $n$，宽为 $m$ 的地图表示。第 $1$ 行为空间的最高点，第 $n$ 行为空间的最低点。高塔由 $K$ 块积木堆叠而成，符华每次可以击碎高塔中任意的积木，但必须保证高塔不会倒塌（否则她们会落入虚数空间），以及击碎积木后，高塔回廊的高度不变（即不能把最顶层的积木全部击碎）。\n\n如果一块积木最底层的长度是 $L$，那么当且仅当其**最底层**与地板或者其他积木的接触面积 $L'$ 满足 $L' \\ge \\left\\lceil \\frac{L}{2} \\right\\rceil$ 时，这块积木不会失去平衡。当所有积木**都**不失去平衡时，我们认为整个高塔回廊**不会倒塌**。\n\n积木的最底层长度被定义为**积木行坐标最大的方块总个数**。例如：\n\n```\n0 1 0\n1 1 1\n0 1 0\n```\n这张图中，$1$ 号积木的最底层长度是 $1$，因为其所占的格子中，行坐标最大的只有一个格子 $(3,2)$。\n\n请帮布洛妮娅计算一下，符华最多能击碎多少个积木？", "inputFormat": "第一行两个整数 $n,m$, 表示地图范围。\n\n接下来 $n$ 行，每行 $m$ 个整数。第 $i$ 行第 $j$ 个整数 $a_{i,j}$，表示第 $i$ 行第 $j$ 列的格子属于第 $a_{i,j}$ 块积木。若 $a_{i,j} = 0$，则这个位置是空的。", "outputFormat": "一行一个整数，表示符华能击碎的最多的积木块数。", "hint": "$1\\leq n,m\\leq 30$，积木块数 $K$ 满足 $1\\leq K \\leq 15$，且保证高塔初始一定不会倒塌，同一块积木一定是一个四联通块。\n\n**【样例 1 解释】**\n\n符华可以击碎 $3$ 号积木，这不会导致高塔坍塌，也不会降低高塔的高度。可以证明没有更优的方案。\n\n**【样例 2 解释】**\n\n可以击碎 $1,3,4$ 号积木。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "支配剧场", "background": "> May all the beauty be blessed. ", "description": "布洛妮娅和符华在寻找琪亚娜的途中，被支配之律者困在了支配剧场的高塔回廊之中。布洛妮娅敏锐地发现，虚无回廊是由一些支配之律者生成的积木构成的，只要击碎其中一些积木，就能解除空间的限制，让她们逃出高塔回廊。\n\n具体来说，整个高塔回廊可以由一张高为 $n$，宽为 $m$ 的地图表示。第 $1$ 行为空间的最高点，第 $n$ 行为空间的最低点。高塔由 $K$ 块积木堆叠而成，符华每次可以击碎高塔中任意的积木，但必须保证高塔不会倒塌（否则她们会落入虚数空间），以及击碎积木后，高塔回廊的高度不变（即不能把最顶层的积木全部击碎）。\n\n如果一块积木最底层的长度是 $L$，那么当且仅当其**最底层**与地板或者其他积木的接触面积 $L'$ 满足 $L' \\ge \\left\\lceil \\frac{L}{2} \\right\\rceil$ 时，这块积木不会失去平衡。当所有积木**都**不失去平衡时，我们认为整个高塔回廊**不会倒塌**。\n\n积木的最底层长度被定义为**积木行坐标最大的方块总个数**。例如：\n\n```\n0 1 0\n1 1 1\n0 1 0\n```\n这张图中，$1$ 号积木的最底层长度是 $1$，因为其所占的格子中，行坐标最大的只有一个格子 $(3,2)$。\n\n请帮布洛妮娅计算一下，符华最多能击碎多少个积木？", "inputFormat": "第一行两个整数 $n,m$, 表示地图范围。\n\n接下来 $n$ 行，每行 $m$ 个整数。第 $i$ 行第 $j$ 个整数 $a_{i,j}$，表示第 $i$ 行第 $j$ 列的格子属于第 $a_{i,j}$ 块积木。若 $a_{i,j} = 0$，则这个位置是空的。", "outputFormat": "一行一个整数，表示符华能击碎的最多的积木块数。", "hint": "$1\\leq n,m\\leq 30$，积木块数 $K$ 满足 $1\\leq K \\leq 15$，且保证高塔初始一定不会倒塌，同一块积木一定是一个四联通块。\n\n**【样例 1 解释】**\n\n符华可以击碎 $3$ 号积木，这不会导致高塔坍塌，也不会降低高塔的高度。可以证明没有更优的方案。\n\n**【样例 2 解释】**\n\n可以击碎 $1,3,4$ 号积木。", "locale": "zh-CN"}}}
{"pid": "P11465", "type": "P", "difficulty": 3, "samples": [["3\n2 2\n3 1\n12 34\n", "12\n14\n178629506\n"]], "limits": {"time": [1000, 1000], "memory": [524288, 524288]}, "tags": ["O2优化", "逆元"], "title": "水上舞者索尼娅", "background": "2024 年 12 月 18 日，《炉石传说》31.2.2 补丁上线，水上舞者索尼娅遭到削弱。现在，在这道题目中，你打开时空之门，回到了水索被削弱前的时候。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8et35uji.png)", "description": "你的场上有 $k$ 个【水上舞者索尼娅】，你的手牌中有 $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $n$ 根）】，你有无尽的法力值，你的手牌数量没有上限。\n\n在你的场上有 $k$ 个【水上舞者索尼娅】的情况下：\n\n当你使用 $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $x$ 根）】时，你将得到：\n- $k$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $x$ 根）】。\n- $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $x-1$ 根）】。（若 $x=1$，则不会得到）\n\n当你使用 $1$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $x$ 根）】时，你将得到：\n- $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $x-1$ 根）】。（若 $x=1$，则不会得到）\n\n你一共可以使用多少次【一串香蕉】？\n\n由于答案可能很大，你只需求出答案对 $10^9+7$ 取模的余数。", "inputFormat": "**本题有多组数据**。\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行两个正整数 $n,k$。", "outputFormat": "对于每组数据：\n\n输出一行一个整数，表示答案对 $10^9+7$ 取模的余数。", "hint": "$1\\le T\\le10^5$， $1\\le n,k\\le10^9$。\n\n**【样例解释】**\n\n对于第 $1$ 组数据：\n\n场上有 $2$ 个【水上舞者索尼娅】，初始手牌中有 $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $2$ 根）】。\n\n使用：$1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $2$ 根）】。\\\n手牌：\n- $2$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $2$ 根）】。\n- $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $1$ 根）】。\n\n使用：$2$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $2$ 根）】。\\\n手牌：\n- $3$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $1$ 根）】。\n\n使用：$3$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $1$ 根）】。\\\n手牌：\n- $6$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $1$ 根）】。\n\n使用：$6$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $1$ 根）】。\\\n手牌：\n- 空\n\n共使用 $1+2+3+6=12$ 张【一串香蕉】。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "水上舞者索尼娅", "background": "2024 年 12 月 18 日，《炉石传说》31.2.2 补丁上线，水上舞者索尼娅遭到削弱。现在，在这道题目中，你打开时空之门，回到了水索被削弱前的时候。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8et35uji.png)", "description": "你的场上有 $k$ 个【水上舞者索尼娅】，你的手牌中有 $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $n$ 根）】，你有无尽的法力值，你的手牌数量没有上限。\n\n在你的场上有 $k$ 个【水上舞者索尼娅】的情况下：\n\n当你使用 $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $x$ 根）】时，你将得到：\n- $k$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $x$ 根）】。\n- $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $x-1$ 根）】。（若 $x=1$，则不会得到）\n\n当你使用 $1$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $x$ 根）】时，你将得到：\n- $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $x-1$ 根）】。（若 $x=1$，则不会得到）\n\n你一共可以使用多少次【一串香蕉】？\n\n由于答案可能很大，你只需求出答案对 $10^9+7$ 取模的余数。", "inputFormat": "**本题有多组数据**。\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据：\n\n一行两个正整数 $n,k$。", "outputFormat": "对于每组数据：\n\n输出一行一个整数，表示答案对 $10^9+7$ 取模的余数。", "hint": "$1\\le T\\le10^5$， $1\\le n,k\\le10^9$。\n\n**【样例解释】**\n\n对于第 $1$ 组数据：\n\n场上有 $2$ 个【水上舞者索尼娅】，初始手牌中有 $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $2$ 根）】。\n\n使用：$1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $2$ 根）】。\\\n手牌：\n- $2$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $2$ 根）】。\n- $1$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $1$ 根）】。\n\n使用：$2$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $2$ 根）】。\\\n手牌：\n- $3$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $1$ 根）】。\n\n使用：$3$ 张法力值消耗为 $1$ 的【一串香蕉（还剩 $1$ 根）】。\\\n手牌：\n- $6$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $1$ 根）】。\n\n使用：$6$ 张法力值消耗为 $0$ 的【一串香蕉（还剩 $1$ 根）】。\\\n手牌：\n- 空\n\n共使用 $1+2+3+6=12$ 张【一串香蕉】。", "locale": "zh-CN"}}}
{"pid": "P11466", "type": "P", "difficulty": 3, "samples": [["3 2 2\n", "6\n1 1 1\n3 1 1\n2 1 2\n2 2 1\n1 2 2\n3 2 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化"], "title": "透明立方体", "background": "NIT 很喜欢观察透明的立方体。", "description": "有一个透明的立方体，设它的长宽高分别为 $n,m,k$（$n\\ge m\\ge k$）。\n\n立方体中共有 $n\\times m\\times k$ 个 $1\\times1\n\\times1$ 的小立方体。每个小立方体可由其在三维空间中的坐标 $(a,b,c)$ 表示（$1\\le a\\le n$，$1\\le b\\le m$，$1\\le c\\le k$）。\n\n现将立方体的一部分染黑，我们可以选择一些 $1\\times1\\times1$ 的小立方体将其染黑。\n\n一个立方体变得不透明，当且仅当从正面，侧面，顶面观察立方体，立方体均不再有透明的地方。\n\n你需要求出最少染黑多少个 $1\\times1\\times1$ 的小立方体才能使得立方体变得不透明，并给出方案。\n\n若有多个染色数最小的方案，给出任意一个可行方案即可。", "inputFormat": "一行三个正整数，表示 $n,m,k$。", "outputFormat": "第一行一个整数表示最小的染色数 $x$。\n\n接下来 $x$ 行每行三个正整数 $a,b,c$，表示我们将立方体中 $(a,b,c)$ 这个小立方体染黑了。\n\n你需要保证 $1\\leq a\\leq n$，$1\\leq b\\leq m$，$1\\leq c\\leq k$。", "hint": "$1\\le k\\le m\\le n\\le 50$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "透明立方体", "background": "NIT 很喜欢观察透明的立方体。", "description": "有一个透明的立方体，设它的长宽高分别为 $n,m,k$（$n\\ge m\\ge k$）。\n\n立方体中共有 $n\\times m\\times k$ 个 $1\\times1\n\\times1$ 的小立方体。每个小立方体可由其在三维空间中的坐标 $(a,b,c)$ 表示（$1\\le a\\le n$，$1\\le b\\le m$，$1\\le c\\le k$）。\n\n现将立方体的一部分染黑，我们可以选择一些 $1\\times1\\times1$ 的小立方体将其染黑。\n\n一个立方体变得不透明，当且仅当从正面，侧面，顶面观察立方体，立方体均不再有透明的地方。\n\n你需要求出最少染黑多少个 $1\\times1\\times1$ 的小立方体才能使得立方体变得不透明，并给出方案。\n\n若有多个染色数最小的方案，给出任意一个可行方案即可。", "inputFormat": "一行三个正整数，表示 $n,m,k$。", "outputFormat": "第一行一个整数表示最小的染色数 $x$。\n\n接下来 $x$ 行每行三个正整数 $a,b,c$，表示我们将立方体中 $(a,b,c)$ 这个小立方体染黑了。\n\n你需要保证 $1\\leq a\\leq n$，$1\\leq b\\leq m$，$1\\leq c\\leq k$。", "hint": "$1\\le k\\le m\\le n\\le 50$。", "locale": "zh-CN"}}}
{"pid": "P11467", "type": "P", "difficulty": 4, "samples": [["4\n1 1 1\n1\n6 1 2\n1 1 4 5 1 4\n2 1 3\n1 1\n1 3 2\n1", "4\n7\n-1\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "网瘾竞赛篇之 generals 大法好", "background": "", "description": "t1e 同学沉迷于打 generals 的 1v1 模式，他将游戏简化为以下内容：\n\n初始时 t1e 有一座城堡，每回合结束时会生产 $x$ 单位的兵力，他的对手也有一座城堡，每回合结束时会生产 $y$ 单位的兵力，初始时（第 $0$ 回合）双方的兵力都为 $0$。\n\n有 $n$ 座其他城堡可以被 t1e 占领，t1e 每个回合开始时可以攻占**最多** $1$ 个城堡，占领第 $i$ 个城堡需要消耗 $a_i$ 单位的兵力，从占领后的下一个回合开始，该城堡每回合结束时为 t1e 生产 $1$ 个单位的兵力。\n\nt1e 同学想知道最早在第多少个回合，他的兵力能超过对手的兵力。\n\n如果永远无法超过，输出 $-1$。", "inputFormat": "**本题有多组数据**。\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据：\n\n第一行输入三个整数，分别代表 $n, x, y$。\n\n第二行 $n$ 个整数代表 $a_i$。", "outputFormat": "对于每组数据：\n\n一行一个整数，代表 t1e 的兵力超过对手兵力的最小回合数。\n\n如果永远无法超过，输出 $-1$。", "hint": "对于第一组数据，t1e 的最优操作过程如下：\n| 回合 | 回合结束时 t1e 的兵力      | 回合结束时对手的兵力 |\n| :----: | :----------------------------:| :--------------------: |\n| 0    | 0                     | 0                    |\n| 1    | 1                     | 1                    |\n| 2    | 1                     | 2                    |\n| 3    | 3                     | 3                    |\n| 4    | 5                     | 4                    |\n\n注意：t1e 在第 $2$ 回合开始时占领了 $1$ 号城堡。\n\n$1\\le T\\le 100$，$1 \\le n, \\sum n \\le 2\\times 10^{5}$，$1 \\le x, y, a_i \\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "网瘾竞赛篇之 generals 大法好", "background": "", "description": "t1e 同学沉迷于打 generals 的 1v1 模式，他将游戏简化为以下内容：\n\n初始时 t1e 有一座城堡，每回合结束时会生产 $x$ 单位的兵力，他的对手也有一座城堡，每回合结束时会生产 $y$ 单位的兵力，初始时（第 $0$ 回合）双方的兵力都为 $0$。\n\n有 $n$ 座其他城堡可以被 t1e 占领，t1e 每个回合开始时可以攻占**最多** $1$ 个城堡，占领第 $i$ 个城堡需要消耗 $a_i$ 单位的兵力，从占领后的下一个回合开始，该城堡每回合结束时为 t1e 生产 $1$ 个单位的兵力。\n\nt1e 同学想知道最早在第多少个回合，他的兵力能超过对手的兵力。\n\n如果永远无法超过，输出 $-1$。", "inputFormat": "**本题有多组数据**。\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据：\n\n第一行输入三个整数，分别代表 $n, x, y$。\n\n第二行 $n$ 个整数代表 $a_i$。", "outputFormat": "对于每组数据：\n\n一行一个整数，代表 t1e 的兵力超过对手兵力的最小回合数。\n\n如果永远无法超过，输出 $-1$。", "hint": "对于第一组数据，t1e 的最优操作过程如下：\n| 回合 | 回合结束时 t1e 的兵力      | 回合结束时对手的兵力 |\n| :----: | :----------------------------:| :--------------------: |\n| 0    | 0                     | 0                    |\n| 1    | 1                     | 1                    |\n| 2    | 1                     | 2                    |\n| 3    | 3                     | 3                    |\n| 4    | 5                     | 4                    |\n\n注意：t1e 在第 $2$ 回合开始时占领了 $1$ 号城堡。\n\n$1\\le T\\le 100$，$1 \\le n, \\sum n \\le 2\\times 10^{5}$，$1 \\le x, y, a_i \\le 10^5$。", "locale": "zh-CN"}}}
