{"pid": "P1751", "type": "P", "difficulty": 5, "samples": [["4\r\n1 2\r\n1 3\r\n2 4\r\n2\r\n1\r\n2\r\n2\r\n2\r\n4", "1 0\r\n4 2\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "图论", "深度优先搜索 DFS"], "title": "贪吃虫", "background": "我们都知道一个很著名的游戏——贪吃蛇。它的一大特点是当前一个食物被吃掉后，后一个食物才会出现。今天我们要做的另一个游戏——贪吃虫也很类似。\n", "description": "贪吃虫有 $k$ 条，在一棵有 $n$ 个节点的树上，每只虫子都在不同的节点上。第一个食物到来时，所有的 $k$ 只虫会从它们当前的位置出发，前往食物的位置。它们的移动遵循如下规则：\n\n- 这棵树上的任何两个节点之间有且仅有一条路，所有的贪吃虫沿着唯一的路径前往食物所在的位置；\n- 如果有一只贪吃虫到达了食物所在的位置，食物马上就被吃掉了；\n- 如果有另外一只贪吃虫在某一只贪吃虫通往食物的道路上，那么距离食物较远的那只虫子会停止移动，停留在当前的节点上；\n- 如果有多只虫子尝试进入同一个节点，只有编号最小的虫子能够到达，其它的贪吃虫停留在它们当前的位置上；\n- 吃掉食物的那只虫子会停留在食物的位置上；\n- 食物被吃掉之后会出现在树上的另外一个节点上。这时所有的贪吃虫会重新出发，尝试再一次吃掉食物。为了简化过程，我们假设从一个节点移动到相邻的节点需要花费一个单位时间。\n", "inputFormat": "第 $1$ 行一个整数 $n$，表示树上的节点个数。\n\n第 $2$ 至 $N$ 行，第 $i+1$ 行包含了一个两个整数 $:A_i,B_i$，表示从节点 $A_i$ 到节点 $B_i$ 有一条边直接相连。\n\n第 $N+1$ 行有一个整数 $k$，表示树上贪吃虫的个数。\n\n第 $N+2$ 至 $N+1+k$ 行，第 $N+1+i$ 行有一个整数 $P_i$，表示第 $i$ 只贪吃虫开始时的位置，任何两只贪吃虫的初始位置不相同。\n\n第 $N+2+k$ 行：有一个整数 $h$，表示食物一共在树上出现了多少次。\n\n接下来的 $h$ 行，每行一个整数，表示食物依次出现的位置。", "outputFormat": "输出一共包含 $k$ 行，第 $i$ 行有两个整数 $C_i$ 和 $D_i$。分别表示第 $i$ 只贪吃虫最终停留的位置和这只贪吃虫吃到食物的次数。", "hint": "\n### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 5000$，$1 \\le k \\le 1000$，$k \\le n$，$1 \\le h \\le 500$。", "locale": "zh-CN", "translations": {"en": {"title": "Greedy Worms", "background": "We all know a famous game—Snake. One of its features is that the next food appears only after the current one is eaten. Today we are going to play another similar game—“Greedy Worms”.", "description": "There are $k$ worms on a tree with $n$ nodes, and each worm is on a different node. When the first food appears, all $k$ worms start from their current positions and move toward the food. Their movement follows these rules:\n\n- Between any two nodes on the tree there is exactly one path, and all worms move along the unique path toward the food.\n- As soon as a worm reaches the food’s node, the food is immediately eaten.\n- If there is another worm on a worm’s path to the food, the worm that is farther from the food stops moving and stays at its current node.\n- If multiple worms attempt to enter the same node at the same time, only the worm with the smallest index can enter; the others remain at their current nodes.\n- The worm that eats the food stays at the food’s node.\n- After the food is eaten, it will appear at another node on the tree. At that moment, all worms start again from their current positions and try to eat the food. To simplify, moving from a node to an adjacent node takes one unit of time.", "inputFormat": "- The first line contains an integer $n$, the number of nodes in the tree.\n- The next $n - 1$ lines: line $i + 1$ contains two integers $A_i, B_i$ ($1 \\le i \\le n - 1$), indicating there is an edge between nodes $A_i$ and $B_i$.\n- The next line contains an integer $k$, the number of worms on the tree.\n- The next $k$ lines: line $n + 1 + i$ contains an integer $P_i$, the initial position of the $i$-th worm; no two worms share the same initial position.\n- The next line contains an integer $h$, the number of times the food appears.\n- The next $h$ lines: each line contains one integer, the position where the food appears, in order.", "outputFormat": "Output $k$ lines. On the $i$-th line, print two integers $C_i$ and $D_i$, denoting the final position of the $i$-th worm and the number of times this worm eats the food, respectively.", "hint": "Constraints\n\nFor all testdata: $1 \\le n \\le 5000$, $1 \\le k \\le 1000$, $k \\le n$, $1 \\le h \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "贪吃虫", "background": "我们都知道一个很著名的游戏——贪吃蛇。它的一大特点是当前一个食物被吃掉后，后一个食物才会出现。今天我们要做的另一个游戏——贪吃虫也很类似。\n", "description": "贪吃虫有 $k$ 条，在一棵有 $n$ 个节点的树上，每只虫子都在不同的节点上。第一个食物到来时，所有的 $k$ 只虫会从它们当前的位置出发，前往食物的位置。它们的移动遵循如下规则：\n\n- 这棵树上的任何两个节点之间有且仅有一条路，所有的贪吃虫沿着唯一的路径前往食物所在的位置；\n- 如果有一只贪吃虫到达了食物所在的位置，食物马上就被吃掉了；\n- 如果有另外一只贪吃虫在某一只贪吃虫通往食物的道路上，那么距离食物较远的那只虫子会停止移动，停留在当前的节点上；\n- 如果有多只虫子尝试进入同一个节点，只有编号最小的虫子能够到达，其它的贪吃虫停留在它们当前的位置上；\n- 吃掉食物的那只虫子会停留在食物的位置上；\n- 食物被吃掉之后会出现在树上的另外一个节点上。这时所有的贪吃虫会重新出发，尝试再一次吃掉食物。为了简化过程，我们假设从一个节点移动到相邻的节点需要花费一个单位时间。\n", "inputFormat": "第 $1$ 行一个整数 $n$，表示树上的节点个数。\n\n第 $2$ 至 $N$ 行，第 $i+1$ 行包含了一个两个整数 $:A_i,B_i$，表示从节点 $A_i$ 到节点 $B_i$ 有一条边直接相连。\n\n第 $N+1$ 行有一个整数 $k$，表示树上贪吃虫的个数。\n\n第 $N+2$ 至 $N+1+k$ 行，第 $N+1+i$ 行有一个整数 $P_i$，表示第 $i$ 只贪吃虫开始时的位置，任何两只贪吃虫的初始位置不相同。\n\n第 $N+2+k$ 行：有一个整数 $h$，表示食物一共在树上出现了多少次。\n\n接下来的 $h$ 行，每行一个整数，表示食物依次出现的位置。", "outputFormat": "输出一共包含 $k$ 行，第 $i$ 行有两个整数 $C_i$ 和 $D_i$。分别表示第 $i$ 只贪吃虫最终停留的位置和这只贪吃虫吃到食物的次数。", "hint": "\n### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 5000$，$1 \\le k \\le 1000$，$k \\le n$，$1 \\le h \\le 500$。", "locale": "zh-CN"}}}
{"pid": "P1752", "type": "P", "difficulty": 6, "samples": [["2 3 1 1\r\n5 2\r\n5 3\r\n6 4\r\n5\r\n1", "3\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "二分", "堆"], "title": "点菜", "background": "", "description": "有 $n$ 个人到一家餐馆点菜。这家餐馆总共有 $m$ 道菜，每一道菜都有两个属性——美味度和价格。这 $n$ 个人每周都会来一次，每次只会点一道菜或不点。在这 $n$ 个人中，有 $p$ 个人比较挑剔，他们只能接受美味度大于等于一定值的菜；有 $q$ 个人比较贫穷，他们只能点价格小于等于一定值的菜。现在请你计算：这些人至少要来几周，才可能能把餐馆的所有的菜都点过一遍？", "inputFormat": "第 $1$ 行，四个正整数 $n,m,p,q$。\n\n第 $2 \\sim m+1$ 行，每行两个数，表示菜的美味度和价格。\n\n第 $m+2$ 行 $p$ 个数，表示 $p$ 个挑剔的人分别能接受的菜的美味度的下限。\n\n第 $m+3$ 行 $q$ 个数，表示 $q$ 个贫穷的人分别能点的菜的价格的上限。", "outputFormat": "一行一个数，即这些人最少要来的周数。若不论这些人来几周都不可能把菜点过一遍，输出 $-1$。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$m \\le 20$；\n- 对于 $40\\%$ 的数据，$m \\le 2000$；\n- 对于 $100\\%$ 的数据，$p+q \\le n \\le 50000,m \\le 200000$。", "locale": "zh-CN", "translations": {"en": {"title": "Ordering Dishes", "background": "", "description": "There are $n$ people who come to a restaurant to order dishes. The restaurant has $m$ dishes in total, and each dish has two attributes: tastiness and price. These $n$ people come once every week, and each time each person will order at most one dish or none. Among these $n$ people, $p$ people are picky; they can only accept dishes with tastiness greater than or equal to a certain value. Another $q$ people are poor; they can only order dishes with price less than or equal to a certain value. Now please compute: what is the minimum number of weeks they need to come so that it is possible to have ordered all dishes at least once?", "inputFormat": "- Line $1$: four positive integers $n, m, p, q$.\n- Lines $2 \\sim m+1$: each line contains two numbers, the tastiness and the price of a dish.\n- Line $m+2$: $p$ numbers, the lower bounds of acceptable tastiness for each of the $p$ picky people.\n- Line $m+3$: $q$ numbers, the upper bounds of acceptable price for each of the $q$ poor people.", "outputFormat": "Output a single number: the minimum number of weeks needed. If it is impossible to have all dishes ordered at least once no matter how many weeks they come, output $-1$.", "hint": "Constraints and Conventions:\n- For $20\\%$ of the testdata, $m \\le 20$.\n- For $40\\%$ of the testdata, $m \\le 2000$.\n- For $100\\%$ of the testdata, $p+q \\le n \\le 50000$, $m \\le 200000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "点菜", "background": "", "description": "有 $n$ 个人到一家餐馆点菜。这家餐馆总共有 $m$ 道菜，每一道菜都有两个属性——美味度和价格。这 $n$ 个人每周都会来一次，每次只会点一道菜或不点。在这 $n$ 个人中，有 $p$ 个人比较挑剔，他们只能接受美味度大于等于一定值的菜；有 $q$ 个人比较贫穷，他们只能点价格小于等于一定值的菜。现在请你计算：这些人至少要来几周，才可能能把餐馆的所有的菜都点过一遍？", "inputFormat": "第 $1$ 行，四个正整数 $n,m,p,q$。\n\n第 $2 \\sim m+1$ 行，每行两个数，表示菜的美味度和价格。\n\n第 $m+2$ 行 $p$ 个数，表示 $p$ 个挑剔的人分别能接受的菜的美味度的下限。\n\n第 $m+3$ 行 $q$ 个数，表示 $q$ 个贫穷的人分别能点的菜的价格的上限。", "outputFormat": "一行一个数，即这些人最少要来的周数。若不论这些人来几周都不可能把菜点过一遍，输出 $-1$。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$m \\le 20$；\n- 对于 $40\\%$ 的数据，$m \\le 2000$；\n- 对于 $100\\%$ 的数据，$p+q \\le n \\le 50000,m \\le 200000$。", "locale": "zh-CN"}}}
{"pid": "P1753", "type": "P", "difficulty": 7, "samples": [["3\n5 3 2 6", "90"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "图论", "区间 DP", "图论建模", "可并堆", "Ad-hoc"], "title": "矩阵链排序问题", "background": "", "description": "给定 $n$ 个矩阵，已知第 $i$ 个矩阵 $M_i$ 的大小为 $w_i$ 行 $w_{i+1}$ 列，而我们并不关心其内容。我们考虑将其按照顺序相乘（称其为链乘积）：\n\n$$ M = M_1 \\times M_2 \\times \\cdots \\times M_n $$\n\n矩阵乘法并不满足交换律，但是其满足结合律，因此我们可以通过合理安排结合顺序，尽可能减少需要的运算次数。在此题中，我们定义将一个大小为 $a \\times b$ 的矩阵乘以一个大小为 $b \\times c$ 的矩阵需要 $abc$ 次运算。\n\n请你算出将题目所给的 $n$ 个矩阵进行链乘积所需的最少运算数。为了方便起见，你不需要构造方案。", "inputFormat": "输入的第一行为一个正整数 $n$，代表矩阵的数量。\n\n接下来的一行包含 $n+1$ 个正整数，其中第 $i$ 个整数为 $w_i$，含义参考题目描述。", "outputFormat": "输出包含一个整数，代表最小运算次数。", "hint": "样例解释：样例告诉我们有 $n = 3$ 个矩阵，其大小分别是 $5 \\times 3$，$3 \\times 2$ 和 $2 \\times 6$。分别考虑两种乘法顺序：\n\n- 先将 $M_1$ 和 $M_2$ 相乘得到一个 $5 \\times 2$ 的矩阵，然后和 $M_3$ 相乘，此时运算次数为 $5 \\times 3 \\times 2 + 5 \\times 2 \\times 6 = 90$；\n- 先将 $M_2$ 和 $M_3$ 相乘得到一个 $3 \\times 6$ 的矩阵，然后和 $M_1$ 相乘，此时运算次数为 $3 \\times 2 \\times 6 + 5 \\times 3 \\times 6 = 126$。\n\n本题要求运算次数最少，因此答案为 $90$。\n\n---\n\n对所有的数据，$1 \\leq n \\leq 2 \\times 10^6$，$1 \\leq w \\leq 10^4$。其中：\n\n- 对 $30\\%$ 的数据，满足 $n \\leq 500$；\n- 对另外 $30\\%$ 的数据，满足 $n \\leq 2 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "矩阵链排序问题", "background": "", "description": "给定 $n$ 个矩阵，已知第 $i$ 个矩阵 $M_i$ 的大小为 $w_i$ 行 $w_{i+1}$ 列，而我们并不关心其内容。我们考虑将其按照顺序相乘（称其为链乘积）：\n\n$$ M = M_1 \\times M_2 \\times \\cdots \\times M_n $$\n\n矩阵乘法并不满足交换律，但是其满足结合律，因此我们可以通过合理安排结合顺序，尽可能减少需要的运算次数。在此题中，我们定义将一个大小为 $a \\times b$ 的矩阵乘以一个大小为 $b \\times c$ 的矩阵需要 $abc$ 次运算。\n\n请你算出将题目所给的 $n$ 个矩阵进行链乘积所需的最少运算数。为了方便起见，你不需要构造方案。", "inputFormat": "输入的第一行为一个正整数 $n$，代表矩阵的数量。\n\n接下来的一行包含 $n+1$ 个正整数，其中第 $i$ 个整数为 $w_i$，含义参考题目描述。", "outputFormat": "输出包含一个整数，代表最小运算次数。", "hint": "样例解释：样例告诉我们有 $n = 3$ 个矩阵，其大小分别是 $5 \\times 3$，$3 \\times 2$ 和 $2 \\times 6$。分别考虑两种乘法顺序：\n\n- 先将 $M_1$ 和 $M_2$ 相乘得到一个 $5 \\times 2$ 的矩阵，然后和 $M_3$ 相乘，此时运算次数为 $5 \\times 3 \\times 2 + 5 \\times 2 \\times 6 = 90$；\n- 先将 $M_2$ 和 $M_3$ 相乘得到一个 $3 \\times 6$ 的矩阵，然后和 $M_1$ 相乘，此时运算次数为 $3 \\times 2 \\times 6 + 5 \\times 3 \\times 6 = 126$。\n\n本题要求运算次数最少，因此答案为 $90$。\n\n---\n\n对所有的数据，$1 \\leq n \\leq 2 \\times 10^6$，$1 \\leq w \\leq 10^4$。其中：\n\n- 对 $30\\%$ 的数据，满足 $n \\leq 500$；\n- 对另外 $30\\%$ 的数据，满足 $n \\leq 2 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1754", "type": "P", "difficulty": 3, "samples": [["2\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "Catalan 数"], "title": "球迷购票问题", "background": "", "description": "盛况空前的足球赛即将举行。球赛门票售票处排起了球迷购票长龙。\n\n按售票处规定，每位购票者限购一张门票，且每张票售价为 $50$ 元。在排成长龙的球迷中有 $n$ 个人手持面值 $50$ 元的钱币，另有 $n$ 个人手持面值 $100$ 元的钱币。假设售票处在开始售票时没有零钱。试问这 $2n$ 个球迷有多少种排队方式可使售票处不致出现找不出钱的尴尬局面。\n\n例如当 $n=2$ 时，用 A 表示手持 $50$ 元面值的球迷，用 $B$ 表示手持 $100$ 元钱的球迷。则最多可以得到以下两组不同的排队方式，使售票员不至于找不出钱。\n\n\n- 第一种：$\\mathtt{[A,A,B,B]}$；\n- 第二种：$\\mathtt{[A,B,A,B]}$。\n\n对于给定的 $n$，计算 $2n$ 个球迷有多少种排队方式，可以使售票处不至于找不出钱。\n", "inputFormat": "一个整数，代表 $n$ 的值。\n", "outputFormat": "一个整数，表示方案数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$0 \\le n \\le 20$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Fans Ticket Purchase Problem", "background": "", "description": "A grand football match is about to take place. A long line of fans has formed at the ticket office.\n\nAccording to the rules of the ticket office, each buyer may purchase at most one ticket, and each ticket costs $50$ yuan. In the line, there are $n$ people holding $50$-yuan bills and another $n$ people holding $100$-yuan bills. Suppose the ticket office has no change at the start of sales. How many queueing orders of these $2n$ fans will ensure the ticket office never faces the embarrassment of being unable to make change?\n\nFor example, when $n=2$, let A denote a fan holding a $50$-yuan bill and B denote a fan holding a $100$-yuan bill. Then there are at most the following two different queueing orders that ensure the clerk can always make change.\n\n- First: $\\mathtt{[A,A,B,B]}$.\n- Second: $\\mathtt{[A,B,A,B]}$.\n\nGiven $n$, compute how many queueing orders of $2n$ fans will ensure the ticket office can always make change.", "inputFormat": "A single integer representing the value of $n$.", "outputFormat": "A single integer, the number of valid queueing orders.", "hint": "### Constraints and Conventions\n\nFor all testdata, $0 \\le n \\le 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "球迷购票问题", "background": "", "description": "盛况空前的足球赛即将举行。球赛门票售票处排起了球迷购票长龙。\n\n按售票处规定，每位购票者限购一张门票，且每张票售价为 $50$ 元。在排成长龙的球迷中有 $n$ 个人手持面值 $50$ 元的钱币，另有 $n$ 个人手持面值 $100$ 元的钱币。假设售票处在开始售票时没有零钱。试问这 $2n$ 个球迷有多少种排队方式可使售票处不致出现找不出钱的尴尬局面。\n\n例如当 $n=2$ 时，用 A 表示手持 $50$ 元面值的球迷，用 $B$ 表示手持 $100$ 元钱的球迷。则最多可以得到以下两组不同的排队方式，使售票员不至于找不出钱。\n\n\n- 第一种：$\\mathtt{[A,A,B,B]}$；\n- 第二种：$\\mathtt{[A,B,A,B]}$。\n\n对于给定的 $n$，计算 $2n$ 个球迷有多少种排队方式，可以使售票处不至于找不出钱。\n", "inputFormat": "一个整数，代表 $n$ 的值。\n", "outputFormat": "一个整数，表示方案数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$0 \\le n \\le 20$。\n", "locale": "zh-CN"}}}
{"pid": "P1755", "type": "P", "difficulty": 2, "samples": [["1\n1\n", "1=1"], ["1\n10", "10=2+8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "洛谷原创"], "title": "斐波那契的拆分", "background": "无", "description": "已知任意一个正整数都可以拆分为若干个斐波纳契数，现在，让你求出 $n$ 的拆分方法。\n", "inputFormat": "第一行一个整数 $t$，表示有 $t$ 组数据。\n\n接下来 $t$ 行，每行一个整数 $n$（如题）。", "outputFormat": "$t$ 行，每行一个字符串，表示拆分方法（格式：$n=a_1+a_2+a_3+\\ldots+a_n$ ），要求从小到大输出。\n", "hint": "若有多组数据，以个数最小的为准，若仍有多组，输出右边尽量大的一组。\n\n对于$100\\%$的数据，$t \\leq 1000$，$1 \\leq n \\leq 10^{9}$。", "locale": "zh-CN", "translations": {"en": {"title": "Fibonacci Decomposition", "background": "", "description": "It is known that any positive integer can be decomposed into several Fibonacci numbers. Now, you are asked to find a decomposition of $n$.", "inputFormat": "The first line contains an integer $t$, the number of test cases.\n\nThen follow $t$ lines, each containing an integer $n$ (as described).", "outputFormat": "Output $t$ lines. Each line contains a string representing a decomposition in the format $n = a_1 + a_2 + a_3 + \\ldots + a_k$, and the summands must be listed from small to large.", "hint": "If there are multiple valid decompositions, choose the one with the fewest summands. If there is still more than one, output the one whose rightmost summands are as large as possible.\n\nFor $100\\%$ of the testdata, $t \\leq 1000$, $1 \\leq n \\leq 10^{9}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "斐波那契的拆分", "background": "无", "description": "已知任意一个正整数都可以拆分为若干个斐波纳契数，现在，让你求出 $n$ 的拆分方法。\n", "inputFormat": "第一行一个整数 $t$，表示有 $t$ 组数据。\n\n接下来 $t$ 行，每行一个整数 $n$（如题）。", "outputFormat": "$t$ 行，每行一个字符串，表示拆分方法（格式：$n=a_1+a_2+a_3+\\ldots+a_n$ ），要求从小到大输出。\n", "hint": "若有多组数据，以个数最小的为准，若仍有多组，输出右边尽量大的一组。\n\n对于$100\\%$的数据，$t \\leq 1000$，$1 \\leq n \\leq 10^{9}$。", "locale": "zh-CN"}}}
{"pid": "P1756", "type": "P", "difficulty": 7, "samples": [["2\n1 1\n1 2\n1\n1 2\n1\n0.00001 0.001 0.1 1\n", "5.1415927"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何", "高精度", "2009", "NOI", "提交答案", "Special Judge", "二分图"], "title": "[NOI2009] 描边", "background": "", "description": "小 Z 是一位杰出的数学家。聪明的他特别喜欢研究一些数学小问题。\n\n有一天，他在一张纸上选择了 $n$ 个点，并用铅笔将它们两两连接起来，构成 $\\dfrac{n(n-1)}{2}$ 条线段。由于铅笔很细，可以认为这些线段的宽度为 $0$。\n\n望着这些线段，小 Z 陷入了冥想中。他认为这些线段中的一部分比较重要，需要进行强调。因此小 Z 拿出了毛笔，将它们重新进行了描边。毛笔画在纸上，会形成一个半径为 $r$ 的圆。在对一条线段进行描边时，毛笔的中心（即圆心）将从线段的一个端点开始，沿着该线段描向另一个端点。下图即为在一张 $4$ 个点的图中，对其中一条线段进行描边强调后的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h92i5d69.png)\n\n现在，小 Z 非常想知道在描边之后纸面上共有多大面积的区域被强调，你能帮助他解答这个问题么？", "inputFormat": "本题是一道提交答案型试题，所有的输入文件 `path1.in` $\\sim$ `path10.in` 已在相应目录下。\n\n输入文件请点击 [这里](http://pan.baidu.com/s/1gfeLZqz) 下载。\n\n输入文件的第一行为一个正整数 $n$，表示选择的点的数目。\n\n第二行至第 $n+1$ 行，其中：第 $i+1$ 行中为两个实数 $x_i,y_i$，表示点 $i$ 的坐标为 $(x_i,y_i)$。\n\n第 $n+2$ 行为一个正整数 $m$，表示小 Z 认为比较重要的线段的条数。\n\n第 $n+3$ 行至第 $n+m+2$ 行，每行有两个正整数 $a,b$，表示一条线段。其中 $a,b$ 两个数分别表示该线段的两个端点的编号。\n\n第 $n+m+3$ 行中为一个实数 $r$，表示毛笔在纸上形成的圆的半径。\n\n第 $n+m+4$ 行中为四个实数 $p_1,p_2,p_3,p_4$，即评分使用的参数。", "outputFormat": "输出文件 `path*.out` 仅一行一个数，即为描边后被强调区域的总面积。", "hint": "每个测试点单独评分。\n\n本题设有 $4$ 个评分参数 $p_1,p_2,p_3,p_4$（$p_1 \\lt p_2 \\lt p_3 \\lt p_4$），已在输入文件中给出。\n\n你的得分将按照如下规则给出：\n\n- 若你的答案与标准答案相差不超过 $p_1$，则该测试点你将得到满分；\n- 否则，若你的答案与标准答案相差不超过 $p_2$，则你将得到该测试点 $70\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_3$，则你将得到该测试点 $40\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_4$，则你将得到该测试点 $10\\%$ 的分数；\n- 否则，该测试点你的得分为 $0$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Outline", "background": "# Description\n\nXiao Z is an outstanding mathematician. Being clever, he especially enjoys studying small mathematical problems.\n\nOne day, he chose $n$ points on a sheet of paper and connected every pair with a pencil, forming $\\dfrac{n(n-1)}{2}$ segments. Since the pencil is very thin, we can consider these segments to have width $0$.\n\nLooking at these segments, Xiao Z fell into deep thought. He believed some of these segments were more important and needed emphasis. So he took out a brush and restroked them. When the brush touches the paper, it forms a disk of radius $r$. While stroking a segment, the center of the brush (i.e., the center of the disk) starts from one endpoint and moves along the segment to the other endpoint. The figure below shows the result of emphasizing one segment in a configuration with $4$ points.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h92i5d69.png)\n\nNow, Xiao Z wants to know the total area on the paper that is emphasized after stroking. Can you help him answer this question?", "description": "", "inputFormat": "", "outputFormat": "The output file `path*.out` contains exactly one line with one number, which is the total area emphasized after stroking.", "hint": "Each test point is scored independently.\n\nThis problem has $4$ scoring parameters $p_1, p_2, p_3, p_4$ ($p_1 \\lt p_2 \\lt p_3 \\lt p_4$), which are given in the input file.\n\nYour score will be determined by the following rules:\n- If your answer differs from the standard answer by no more than $p_1$, you will receive full score for that test point.\n- Otherwise, if your answer differs from the standard answer by no more than $p_2$, you will receive $70\\%$ of the score for that test point.\n- Otherwise, if your answer differs from the standard answer by no more than $p_3$, you will receive $40\\%$ of the score for that test point.\n- Otherwise, if your answer differs from the standard answer by no more than $p_4$, you will receive $10\\%$ of the score for that test point.\n- Otherwise, your score for that test point will be $0$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 描边", "background": "", "description": "小 Z 是一位杰出的数学家。聪明的他特别喜欢研究一些数学小问题。\n\n有一天，他在一张纸上选择了 $n$ 个点，并用铅笔将它们两两连接起来，构成 $\\dfrac{n(n-1)}{2}$ 条线段。由于铅笔很细，可以认为这些线段的宽度为 $0$。\n\n望着这些线段，小 Z 陷入了冥想中。他认为这些线段中的一部分比较重要，需要进行强调。因此小 Z 拿出了毛笔，将它们重新进行了描边。毛笔画在纸上，会形成一个半径为 $r$ 的圆。在对一条线段进行描边时，毛笔的中心（即圆心）将从线段的一个端点开始，沿着该线段描向另一个端点。下图即为在一张 $4$ 个点的图中，对其中一条线段进行描边强调后的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h92i5d69.png)\n\n现在，小 Z 非常想知道在描边之后纸面上共有多大面积的区域被强调，你能帮助他解答这个问题么？", "inputFormat": "本题是一道提交答案型试题，所有的输入文件 `path1.in` $\\sim$ `path10.in` 已在相应目录下。\n\n输入文件请点击 [这里](http://pan.baidu.com/s/1gfeLZqz) 下载。\n\n输入文件的第一行为一个正整数 $n$，表示选择的点的数目。\n\n第二行至第 $n+1$ 行，其中：第 $i+1$ 行中为两个实数 $x_i,y_i$，表示点 $i$ 的坐标为 $(x_i,y_i)$。\n\n第 $n+2$ 行为一个正整数 $m$，表示小 Z 认为比较重要的线段的条数。\n\n第 $n+3$ 行至第 $n+m+2$ 行，每行有两个正整数 $a,b$，表示一条线段。其中 $a,b$ 两个数分别表示该线段的两个端点的编号。\n\n第 $n+m+3$ 行中为一个实数 $r$，表示毛笔在纸上形成的圆的半径。\n\n第 $n+m+4$ 行中为四个实数 $p_1,p_2,p_3,p_4$，即评分使用的参数。", "outputFormat": "输出文件 `path*.out` 仅一行一个数，即为描边后被强调区域的总面积。", "hint": "每个测试点单独评分。\n\n本题设有 $4$ 个评分参数 $p_1,p_2,p_3,p_4$（$p_1 \\lt p_2 \\lt p_3 \\lt p_4$），已在输入文件中给出。\n\n你的得分将按照如下规则给出：\n\n- 若你的答案与标准答案相差不超过 $p_1$，则该测试点你将得到满分；\n- 否则，若你的答案与标准答案相差不超过 $p_2$，则你将得到该测试点 $70\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_3$，则你将得到该测试点 $40\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_4$，则你将得到该测试点 $10\\%$ 的分数；\n- 否则，该测试点你的得分为 $0$。", "locale": "zh-CN"}}}
{"pid": "P1757", "type": "P", "difficulty": 2, "samples": [["45 3\n10 10 1\n10 5 1\n50 400 2", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "背包 DP"], "title": "通天之分组背包", "background": ":::info[管理员备注]{open}\n本题数据实际满足 $a_i,b_i$ 为非负整数，且 $0\\le c_i\\le 10^4$。鉴于此题为分组背包经典例题，不会加入 $a_i,b_i,c_i$ 为负数之类的无意义的 hack 数据。\n:::\n\n直达通天路·小 A 历险记第二篇", "description": "自 $01$ 背包问世之后，小 A 对此深感兴趣。一天，小 A 去远游，却发现他的背包不同于 $01$ 背包，他的物品大致可分为 $k$ 组，每组中的物品相互冲突，现在，他想知道最大的利用价值是多少。", "inputFormat": "两个数 $m,n$，表示一共有 $n$ 件物品，背包能承受的最大重量为 $m$。\n\n接下来 $n$ 行，每行 $3$ 个数 $a_i,b_i,c_i$，表示物品的重量，利用价值，所属组数。", "outputFormat": "一个数，最大的利用价值。", "hint": "$0 \\leq m \\leq 1000$，$1 \\leq n \\leq 1000$，$1\\leq k\\leq 100$，$a_i, b_i, c_i$ 在 `int` 范围内。", "locale": "zh-CN", "translations": {"en": {"title": "Tongtian: Group Knapsack", "background": "Direct to the Skyroad · Xiao A's Adventure II.", "description": "After the $01$ knapsack came out, Xiao A became very interested. One day, Xiao A went on a trip and found that his backpack was different from the $01$ knapsack. His items can be roughly divided into $k$ groups, and items within the same group are mutually exclusive (you may choose at most one item from each group). Now he wants to know the maximum total value he can obtain.", "inputFormat": "Two integers $m,n$, indicating there are $n$ items in total, and the backpack can bear a maximum weight of $m$.\n\nThen $n$ lines follow. Each line contains 3 integers $a_i,b_i,c_i$, representing the item's weight, value, and group index.", "outputFormat": "One integer: the maximum total value.", "hint": "$0 \\leq m \\leq 1000$, $1 \\leq n \\leq 1000$, $1\\leq k\\leq 100$, $a_i, b_i, c_i$ are within the `int` range.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "通天之分组背包", "background": ":::info[管理员备注]{open}\n本题数据实际满足 $a_i,b_i$ 为非负整数，且 $0\\le c_i\\le 10^4$。鉴于此题为分组背包经典例题，不会加入 $a_i,b_i,c_i$ 为负数之类的无意义的 hack 数据。\n:::\n\n直达通天路·小 A 历险记第二篇", "description": "自 $01$ 背包问世之后，小 A 对此深感兴趣。一天，小 A 去远游，却发现他的背包不同于 $01$ 背包，他的物品大致可分为 $k$ 组，每组中的物品相互冲突，现在，他想知道最大的利用价值是多少。", "inputFormat": "两个数 $m,n$，表示一共有 $n$ 件物品，背包能承受的最大重量为 $m$。\n\n接下来 $n$ 行，每行 $3$ 个数 $a_i,b_i,c_i$，表示物品的重量，利用价值，所属组数。", "outputFormat": "一个数，最大的利用价值。", "hint": "$0 \\leq m \\leq 1000$，$1 \\leq n \\leq 1000$，$1\\leq k\\leq 100$，$a_i, b_i, c_i$ 在 `int` 范围内。", "locale": "zh-CN"}}}
{"pid": "P1758", "type": "P", "difficulty": 5, "samples": [["2 1\nAB\nB\n", "5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "2009", "NOI"], "title": "[NOI2009] 管道取珠", "background": "", "description": "管道取珠是小 X 很喜欢的一款游戏。在本题中，我们将考虑该游戏的一个简单改版。游戏画面如图 1 所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p4r2ip9.png)\n\n游戏初始时，左侧上下两个管道分别有一定数量的小球（有深色球和浅色球两种类型），而右侧输出管道为空。每一次操作，可以从左侧选择一个管道，并将该管道中最右侧的球推入右边输出管道。\n\n例如：我们首先从下管道中移一个球到输出管道中，将得到图 2 所示的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xj1kay44.png)\n\n假设上管道中有 $n$ 个球, 下管道中有 $m$ 个球，则整个游戏过程需要进行 $n+m$ 次操作，即将所有左侧管道中的球移入输出管道。最终 $n+m$ 个球在输出管道中从右到左形成输出序列。\n\n爱好数学的小 X 知道，他共有 $\\dbinom{n+m}{m}$ 种不同的操作方式，而不同的操作方式可能导致相同的输出序列。举个例子，对于图 3 所示的游戏情形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0m1t5d3h.png)\n\n我们用 A 表示浅色球，B 表示深色球。并设移动上管道右侧球的操作为 U，移动下管道右侧球的操作为 D，则共有 $\\binom{2+1}{1}=3$ 种不同的操作方式，分别为 UUD，UDU，DUU；最终在输出管道中形成的输出序列（从右到左）分别为 BAB，BBA，BBA。可以发现后两种操作方式将得到同样的输出序列。\n\n假设最终可能产生的不同种类的输出序列共有 $K$ 种，其中：第 $i$ 种输出序列的产生方式（即不同的操作方式数目）有 $a_i$ 个。聪明的小 X 早已知道，\n\n$$\n\\sum a_i=\\binom{n+m}{m}\n$$\n\n因此，小 X 希望计算得到：\n\n$$\n\\sum a_i^2\n$$\n\n你能帮助他计算这个值么？由于这个值可能很大，因此只需要输出该值对 $1024523$ 取模后的结果。\n", "inputFormat": "输入文件中的第一行为两个整数 $n,m$，分别表示上下两个管道中球的数目。\n\n第二行中为一个长度为 $n$ 的字符串，表示上管道中从左到右球的类型。其中：A 表示浅色球，B 表示深色球。\n\n第三行中为一个长度为 $m$ 的字符串，表示下管道中从左到右球的类型。\n\n保证两个字符串都只包含 A,B 两个字母。", "outputFormat": "输出一个整数，即为 $\\sum a_i^2$ 对 $1024523$ 取模的结果。\n", "hint": "### 样例解释\n\n样例对应图 3。\n\n共有两种不同的输出序列形式，序列 BAB 有 $1$ 种产生方式，而序列 BBA 有 $2$ 种产生方式，因此答案为 $5$。\n\n### 数据范围\n\n- 对于 $30\\%$ 的数据，满足 $m,n \\leq 12$；\n- 对于 $100\\%$ 的数据，满足 $1 \\leq m,n \\leq 500$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Collecting Beads from Pipes", "background": "", "description": "Collecting beads from pipes is a game that Little X likes very much. In this problem, we consider a simplified version of the game. The game screen is shown in Figure 1:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p4r2ip9.png)\n\nInitially, the upper and lower pipes on the left each contain some balls (there are two types: dark and light), and the output pipe on the right is empty. In each operation, you can choose one of the left pipes and push the rightmost ball in that pipe into the output pipe on the right.\n\nFor example, if we first move one ball from the lower pipe to the output pipe, we get the situation shown in Figure 2.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xj1kay44.png)\n\nSuppose there are $n$ balls in the upper pipe and $m$ balls in the lower pipe. Then the entire process requires $n+m$ operations, i.e., moving all balls from the left pipes into the output pipe. Finally, the $n+m$ balls form an output sequence in the output pipe from right to left.\n\nMath-loving Little X knows that there are $\\dbinom{n+m}{m}$ different ways to operate, but different operation sequences may result in the same output sequence. For example, for the game situation shown in Figure 3:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0m1t5d3h.png)\n\nWe use A to denote light-colored balls and B to denote dark-colored balls. Let U denote moving the rightmost ball from the upper pipe, and D denote moving the rightmost ball from the lower pipe. Then there are $\\binom{2+1}{1}=3$ different operation sequences: UUD, UDU, DUU. The resulting output sequences (from right to left) in the output pipe are BAB, BBA, and BBA, respectively. We can see that the last two operation sequences produce the same output sequence.\n\nSuppose there are $K$ different output sequences in total, and the $i$-th output sequence can be produced by $a_i$ different operation sequences. Clever Little X already knows that\n$$\n\\sum a_i=\\binom{n+m}{m}\n$$\nTherefore, Little X wants to compute\n$$\n\\sum a_i^2\n$$\nCan you help him compute this value? Since the value may be large, you only need to output the result modulo $1024523$.", "inputFormat": "The first line contains two integers $n,m$, the numbers of balls in the upper and lower pipes, respectively.\n\nThe second line is a string of length $n$, representing the types of balls in the upper pipe from left to right. Here, A denotes a light-colored ball and B denotes a dark-colored ball.\n\nThe third line is a string of length $m$, representing the types of balls in the lower pipe from left to right.\n\nIt is guaranteed that both strings contain only the letters A and B.", "outputFormat": "Output a single integer, which is $\\sum a_i^2$ modulo $1024523$.", "hint": "Sample Explanation\n\nThe sample corresponds to Figure 3.\n\nThere are two different output sequences. The sequence BAB has $1$ way to produce it, and the sequence BBA has $2$ ways to produce it, so the answer is $5$.\n\nConstraints\n\n- For $30\\%$ of the testdata, $m,n \\leq 12$.\n- For $100\\%$ of the testdata, $1 \\leq m,n \\leq 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 管道取珠", "background": "", "description": "管道取珠是小 X 很喜欢的一款游戏。在本题中，我们将考虑该游戏的一个简单改版。游戏画面如图 1 所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p4r2ip9.png)\n\n游戏初始时，左侧上下两个管道分别有一定数量的小球（有深色球和浅色球两种类型），而右侧输出管道为空。每一次操作，可以从左侧选择一个管道，并将该管道中最右侧的球推入右边输出管道。\n\n例如：我们首先从下管道中移一个球到输出管道中，将得到图 2 所示的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xj1kay44.png)\n\n假设上管道中有 $n$ 个球, 下管道中有 $m$ 个球，则整个游戏过程需要进行 $n+m$ 次操作，即将所有左侧管道中的球移入输出管道。最终 $n+m$ 个球在输出管道中从右到左形成输出序列。\n\n爱好数学的小 X 知道，他共有 $\\dbinom{n+m}{m}$ 种不同的操作方式，而不同的操作方式可能导致相同的输出序列。举个例子，对于图 3 所示的游戏情形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0m1t5d3h.png)\n\n我们用 A 表示浅色球，B 表示深色球。并设移动上管道右侧球的操作为 U，移动下管道右侧球的操作为 D，则共有 $\\binom{2+1}{1}=3$ 种不同的操作方式，分别为 UUD，UDU，DUU；最终在输出管道中形成的输出序列（从右到左）分别为 BAB，BBA，BBA。可以发现后两种操作方式将得到同样的输出序列。\n\n假设最终可能产生的不同种类的输出序列共有 $K$ 种，其中：第 $i$ 种输出序列的产生方式（即不同的操作方式数目）有 $a_i$ 个。聪明的小 X 早已知道，\n\n$$\n\\sum a_i=\\binom{n+m}{m}\n$$\n\n因此，小 X 希望计算得到：\n\n$$\n\\sum a_i^2\n$$\n\n你能帮助他计算这个值么？由于这个值可能很大，因此只需要输出该值对 $1024523$ 取模后的结果。\n", "inputFormat": "输入文件中的第一行为两个整数 $n,m$，分别表示上下两个管道中球的数目。\n\n第二行中为一个长度为 $n$ 的字符串，表示上管道中从左到右球的类型。其中：A 表示浅色球，B 表示深色球。\n\n第三行中为一个长度为 $m$ 的字符串，表示下管道中从左到右球的类型。\n\n保证两个字符串都只包含 A,B 两个字母。", "outputFormat": "输出一个整数，即为 $\\sum a_i^2$ 对 $1024523$ 取模的结果。\n", "hint": "### 样例解释\n\n样例对应图 3。\n\n共有两种不同的输出序列形式，序列 BAB 有 $1$ 种产生方式，而序列 BBA 有 $2$ 种产生方式，因此答案为 $5$。\n\n### 数据范围\n\n- 对于 $30\\%$ 的数据，满足 $m,n \\leq 12$；\n- 对于 $100\\%$ 的数据，满足 $1 \\leq m,n \\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P1759", "type": "P", "difficulty": 4, "samples": [["100 100 3\n50 60 289\n40 10 116\n50 50 106\n", "405 \n1 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "洛谷原创"], "title": "通天之潜水", "background": "直达通天路·小 A 历险记第三篇\n", "description": "在猴王的帮助下，小 A 终于走出了这篇荒山，却发现一条波涛汹涌的河拦在了自己的面前。河面上并没有船，但好在小 A 有 $n$ 个潜水工具。由于他还要背重重的背包，所以他只能背 $m$ 重的工具，又因为他的力气并不是无限的，河却很宽，所以他只能背有 $v$ 阻力的工具。但是这条河下有非常重要的数据，所以他希望能够停留的时间最久。于是他找到了你，让你告诉他方案。\n", "inputFormat": "三个数 $m, v, n$ 如题目所说。\n\n接下来 $n$ 行，每行三个数 $a_i, b_i, c_i$ 分别表示所含的重力，阻力，能够支撑的时间。\n", "outputFormat": "第一行一个数，表示最长的时间。\n\n接下来一行，若干个数，表示所选的物品。\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le m, v \\le 200$，$1 \\le n \\le 100$。\n\n数据保证一定有方案。\n\n若有多种方案，输出前面尽量小的方案。\n", "locale": "zh-CN", "translations": {"en": {"title": "Diving to the Heavens", "background": "Direct-to-Heaven Road: Xiao A’s Adventure, Part III.", "description": "", "inputFormat": "", "outputFormat": "On the first line, print one integer: the maximum total time.\n\nOn the next line, print the indices of the chosen items. Items are numbered from $1$ to $n$ in input order. If multiple optimal solutions exist, output the lexicographically smallest one by item indices. Print the indices in increasing order, separated by single spaces.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le m, v \\le 200$, $1 \\le n \\le 100$.\n\nIt is guaranteed that there exists at least one feasible solution.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "通天之潜水", "background": "直达通天路·小 A 历险记第三篇\n", "description": "在猴王的帮助下，小 A 终于走出了这篇荒山，却发现一条波涛汹涌的河拦在了自己的面前。河面上并没有船，但好在小 A 有 $n$ 个潜水工具。由于他还要背重重的背包，所以他只能背 $m$ 重的工具，又因为他的力气并不是无限的，河却很宽，所以他只能背有 $v$ 阻力的工具。但是这条河下有非常重要的数据，所以他希望能够停留的时间最久。于是他找到了你，让你告诉他方案。\n", "inputFormat": "三个数 $m, v, n$ 如题目所说。\n\n接下来 $n$ 行，每行三个数 $a_i, b_i, c_i$ 分别表示所含的重力，阻力，能够支撑的时间。\n", "outputFormat": "第一行一个数，表示最长的时间。\n\n接下来一行，若干个数，表示所选的物品。\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le m, v \\le 200$，$1 \\le n \\le 100$。\n\n数据保证一定有方案。\n\n若有多种方案，输出前面尽量小的方案。\n", "locale": "zh-CN"}}}
{"pid": "P1760", "type": "P", "difficulty": 2, "samples": [["31", "2147483647"], ["15", "32767"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "高精度", "递推", "递归", "洛谷原创"], "title": "通天之汉诺塔", "background": "直达通天路·小A历险记第四篇\n", "description": "在你的帮助下，小 A 成功收集到了宝贵的数据，他终于来到了传说中连接通天路的通天山。但是这距离通天路仍然有一段距离，但是小 A 突然发现他没有地图！！！但是幸运的是，他在山脚下发现了一个宝箱。根据经验判断（小 A 有经验吗？），地图应该就在其中！\n\n在宝箱上，有三根柱子以及在一根柱子上的 $n$ 个圆盘。小 A 在经过很长时间判断后，觉得这就是 hanoi 塔！（这都要琢磨）。但是移动是需要时间的，所以小 A 必须要通过制造延寿药水来完成这项任务。现在，他请你告诉他需要多少步完成，以便他造足够的延寿药水。", "inputFormat": "一个数 $n$，表示有 $n$ 个圆盘。", "outputFormat": "一个数 $s$，表示需要 $s$ 步。", "hint": "### 数据范围及约定\n\n对于所有数据，$n \\le 15000$。", "locale": "zh-CN", "translations": {"en": {"title": "The Skyward Tower of Hanoi", "background": "Direct Path to the Sky Road · Xiao A’s Adventure, Part IV.", "description": "With your help, Xiao A has collected valuable data and finally reached the legendary Sky Mountain that connects to the Sky Road. However, there is still some distance to the Sky Road, and Xiao A suddenly realizes he has no map. Fortunately, he finds a treasure chest at the foot of the mountain. Based on experience (does Xiao A even have any?), he judges that the map should be inside.\n\nOn the chest, there are three pegs and $n$ disks stacked on one peg. After a long time thinking, Xiao A concludes that this is the Tower of Hanoi. Moving takes time, so he must brew a longevity potion to complete the task. Now, he asks you to tell him how many steps are needed, so that he can brew enough potion.", "inputFormat": "A single integer $n$, the number of disks.", "outputFormat": "A single integer $s$, the number of steps required.", "hint": "Constraints\n\nFor all testdata, $n \\le 15000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "通天之汉诺塔", "background": "直达通天路·小A历险记第四篇\n", "description": "在你的帮助下，小 A 成功收集到了宝贵的数据，他终于来到了传说中连接通天路的通天山。但是这距离通天路仍然有一段距离，但是小 A 突然发现他没有地图！！！但是幸运的是，他在山脚下发现了一个宝箱。根据经验判断（小 A 有经验吗？），地图应该就在其中！\n\n在宝箱上，有三根柱子以及在一根柱子上的 $n$ 个圆盘。小 A 在经过很长时间判断后，觉得这就是 hanoi 塔！（这都要琢磨）。但是移动是需要时间的，所以小 A 必须要通过制造延寿药水来完成这项任务。现在，他请你告诉他需要多少步完成，以便他造足够的延寿药水。", "inputFormat": "一个数 $n$，表示有 $n$ 个圆盘。", "outputFormat": "一个数 $s$，表示需要 $s$ 步。", "hint": "### 数据范围及约定\n\n对于所有数据，$n \\le 15000$。", "locale": "zh-CN"}}}
{"pid": "P1761", "type": "P", "difficulty": 5, "samples": [["4 \r\n3 5 1 4 \r\n3 \r\n2 1 2 \r\n0 ", "1 2 4 \r\n1 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "正方形", "background": "", "description": "有 $n$ 个大小不一的正方形，现将它们依次以 $45$ 度斜放入第一象限，每个正方形都要与 $x$ 轴有一个交点，且不能与之前放入的正方形重叠。在此前提下，正方形与 $x$ 轴交点的坐标应尽可能小。问这样放置后，从上往下看，至少能部分被看见的正方形有哪些？", "inputFormat": "每个测试点包含多组测试数据。每个测试数据的第一行是一个整数 $n$，第二行是 $n$ 个正整数，表示每个正方形的边长。输入以一行单独的 $0$ 结束。", "outputFormat": "对于每个测试数据输出一行，增序输出至少可看到部分的正方形的编号，用空格隔开。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/flwonnba.png)\n\n### 数据范围及约定\n\n- 对于 $50\\%$ 的数据，$n \\le 10$；\n- 对于 $100\\%$ 的数据，$n \\le 50$ 正方形的大小不超过 $30$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Square", "background": "", "description": "There are $n$ squares of different sizes. Place them one by one, each rotated by $45$ degrees, in the first quadrant. Each square must have exactly one intersection point with the $x$-axis and must not overlap any previously placed squares. Subject to these conditions, the coordinate of the square’s intersection with the $x$-axis should be as small as possible. After all placements, when viewed from above, which squares are at least partially visible?", "inputFormat": "The input contains multiple test cases. For each test case, the first line contains an integer $n$, and the second line contains $n$ positive integers representing the side lengths of the squares. The input ends with a line containing a single $0$.", "outputFormat": "For each test case, output one line containing the indices of the squares that are at least partially visible, in increasing order and separated by spaces.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/flwonnba.png)\n\n### Constraints\n\n- For $50\\%$ of the testdata, $n \\le 10$.\n- For $100\\%$ of the testdata, $n \\le 50$ and the sizes of the squares do not exceed $30$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "正方形", "background": "", "description": "有 $n$ 个大小不一的正方形，现将它们依次以 $45$ 度斜放入第一象限，每个正方形都要与 $x$ 轴有一个交点，且不能与之前放入的正方形重叠。在此前提下，正方形与 $x$ 轴交点的坐标应尽可能小。问这样放置后，从上往下看，至少能部分被看见的正方形有哪些？", "inputFormat": "每个测试点包含多组测试数据。每个测试数据的第一行是一个整数 $n$，第二行是 $n$ 个正整数，表示每个正方形的边长。输入以一行单独的 $0$ 结束。", "outputFormat": "对于每个测试数据输出一行，增序输出至少可看到部分的正方形的编号，用空格隔开。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/flwonnba.png)\n\n### 数据范围及约定\n\n- 对于 $50\\%$ 的数据，$n \\le 10$；\n- 对于 $100\\%$ 的数据，$n \\le 50$ 正方形的大小不超过 $30$。\n", "locale": "zh-CN"}}}
{"pid": "P1762", "type": "P", "difficulty": 4, "samples": [["6\n", "6\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "递归"], "title": "偶数", "background": "", "description": "给定一个正整数 $n$，请输出杨辉三角形前 $n$ 行的偶数个数对 $1000003$ 取模后的结果。\n", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "一行一个整数表示答案。", "hint": "对于 $30\\%$ 的数据，$n\\le 4\\times 10^3$。\n\n对于 $70\\%$ 的数据，$n\\le 4\\times 10^9$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^{15}$。\n\n杨辉三角形的前七行：\n\n```plain\n       1\n      1 1\n     1 2 1\n    1 3 3 1\n   1 4 6 4 1\n 1 5 10 10 5 1\n1 6 15 20 15 6 1\n```", "locale": "zh-CN", "translations": {"en": {"title": "Even Numbers", "background": "", "description": "Given a positive integer $n$, please output the number of even entries in the first $n$ rows of Pascal's triangle modulo $1000003$.", "inputFormat": "One line with a positive integer $n$.", "outputFormat": "One line with an integer denoting the answer.", "hint": "For $30\\%$ of the testdata, $n \\le 4 \\times 10^3$.\n\nFor $70\\%$ of the testdata, $n \\le 4 \\times 10^9$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 10^{15}$.\n\nThe first seven rows of Pascal's triangle:\n```plain\n       1\n      1 1\n     1 2 1\n    1 3 3 1\n   1 4 6 4 1\n 1 5 10 10 5 1\n1 6 15 20 15 6 1\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "偶数", "background": "", "description": "给定一个正整数 $n$，请输出杨辉三角形前 $n$ 行的偶数个数对 $1000003$ 取模后的结果。\n", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "一行一个整数表示答案。", "hint": "对于 $30\\%$ 的数据，$n\\le 4\\times 10^3$。\n\n对于 $70\\%$ 的数据，$n\\le 4\\times 10^9$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^{15}$。\n\n杨辉三角形的前七行：\n\n```plain\n       1\n      1 1\n     1 2 1\n    1 3 3 1\n   1 4 6 4 1\n 1 5 10 10 5 1\n1 6 15 20 15 6 1\n```", "locale": "zh-CN"}}}
{"pid": "P1763", "type": "P", "difficulty": 6, "samples": [["19 45", "5 6 18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["搜索", "数学", "1997", "Special Judge", "深度优先搜索 DFS", "剪枝", "迭代加深搜索"], "title": "埃及分数", "background": "", "description": "**来源：BIO 1997 Round 1 [Question 3](http://www.olympiad.org.uk/papers/1997/bio/bio97r1q3.html)**\n\n在古埃及，人们使用单位分数的和（形如 $\\dfrac{1}{a}$ 的，$a$ 是正整数）表示一切有理数。如：$\\dfrac{2}{3} = \\dfrac{1}{2} + \\dfrac{1}{6}$，但不允许 $\\dfrac{2}{3} = \\dfrac{1}{3} + \\dfrac{1}{3}$，因为加数中有相同的。对于一个分数 $\\dfrac{a}{b}$，表示方法有很多种，但是哪种最好呢？首先，加数少的比加数多的好，其次，加数个数相同的，最小的分数越大越好。如：\n$$\n\\begin{aligned}\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{12} + \\frac{1}{180}\\\\\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{15} + \\frac{1}{45}\\\\\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{18} + \\frac{1}{30}\\\\\n\\frac{19}{45} &= \\frac{1}{4} + \\frac{1}{6} + \\frac{1}{180}\\\\\n\\frac{19}{45} &= \\frac{1}{5} + \\frac{1}{6} + \\frac{1}{18}\\\\\n\\end{aligned}\n$$\n最好的是最后一种，因为 $\\dfrac{1}{18}$ 比 $\\dfrac{1}{180}, \\dfrac{1}{45}, \\dfrac{1}{30}$ 都大。  \n注意，可能有多个最优解。如：\n$$\n\\begin{aligned}\n\\frac{59}{211} &= \\frac{1}{4} + \\frac{1}{36} + \\frac{1}{633} + \\frac{1}{3798}\\\\\n\\frac{59}{211} &= \\frac{1}{6} + \\frac{1}{9} + \\frac{1}{633} + \\frac{1}{3798}\\\\\n\\end{aligned}\n$$\n由于方法一与方法二中，最小的分数相同，因此二者均是最优解。\n\n给出 $a,b$，编程计算最好的表达方式。保证最优解满足：最小的分数 $\\ge \\cfrac{1}{10^7}$。 \n", "inputFormat": "一行两个整数，分别为 $a$ 和 $b$ 的值。", "outputFormat": "输出若干个数，自小到大排列，依次是单位分数的分母。", "hint": "$1 \\lt a \\lt b \\lt 1000$", "locale": "zh-CN", "translations": {"en": {"title": "Egyptian Fractions", "background": "", "description": "Source: BIO 1997 Round 1 [Question 3](http://www.olympiad.org.uk/papers/1997/bio/bio97r1q3.html).\n\nIn ancient Egypt, people represented any rational number as a sum of unit fractions (fractions of the form $\\dfrac{1}{a}$, where $a$ is a positive integer). For example, $\\dfrac{2}{3} = \\dfrac{1}{2} + \\dfrac{1}{6}$, but $\\dfrac{2}{3} = \\dfrac{1}{3} + \\dfrac{1}{3}$ is not allowed because addends must be distinct. For a fraction $\\dfrac{a}{b}$ there are many representations, but which one is best? First, fewer terms are better than more terms. Second, among representations with the same number of terms, the larger the smallest unit fraction, the better. For example:\n$$\n\\begin{aligned}\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{12} + \\frac{1}{180}\\\\\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{15} + \\frac{1}{45}\\\\\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{18} + \\frac{1}{30}\\\\\n\\frac{19}{45} &= \\frac{1}{4} + \\frac{1}{6} + \\frac{1}{180}\\\\\n\\frac{19}{45} &= \\frac{1}{5} + \\frac{1}{6} + \\frac{1}{18}\\\\\n\\end{aligned}\n$$\nThe last one is the best because $\\dfrac{1}{18}$ is larger than $\\dfrac{1}{180}, \\dfrac{1}{45}, \\dfrac{1}{30}$.\n\nNote that there can be multiple optimal solutions. For example:\n$$\n\\begin{aligned}\n\\frac{59}{211} &= \\frac{1}{4} + \\frac{1}{36} + \\frac{1}{633} + \\frac{1}{3798}\\\\\n\\frac{59}{211} &= \\frac{1}{6} + \\frac{1}{9} + \\frac{1}{633} + \\frac{1}{3798}\\\\\n\\end{aligned}\n$$\nSince the smallest unit fraction is the same in method one and method two, both are optimal solutions.\n\nGiven $a, b$, write a program to compute the best representation. It is guaranteed that an optimal solution satisfies: the smallest unit fraction $\\ge \\cfrac{1}{10^7}$.", "inputFormat": "A single line with two integers, the values of $a$ and $b$.", "outputFormat": "Output several integers in increasing order, which are the denominators of the unit fractions, in order.", "hint": "$1 \\lt a \\lt b \\lt 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "埃及分数", "background": "", "description": "**来源：BIO 1997 Round 1 [Question 3](http://www.olympiad.org.uk/papers/1997/bio/bio97r1q3.html)**\n\n在古埃及，人们使用单位分数的和（形如 $\\dfrac{1}{a}$ 的，$a$ 是正整数）表示一切有理数。如：$\\dfrac{2}{3} = \\dfrac{1}{2} + \\dfrac{1}{6}$，但不允许 $\\dfrac{2}{3} = \\dfrac{1}{3} + \\dfrac{1}{3}$，因为加数中有相同的。对于一个分数 $\\dfrac{a}{b}$，表示方法有很多种，但是哪种最好呢？首先，加数少的比加数多的好，其次，加数个数相同的，最小的分数越大越好。如：\n$$\n\\begin{aligned}\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{12} + \\frac{1}{180}\\\\\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{15} + \\frac{1}{45}\\\\\n\\frac{19}{45} &= \\frac{1}{3} + \\frac{1}{18} + \\frac{1}{30}\\\\\n\\frac{19}{45} &= \\frac{1}{4} + \\frac{1}{6} + \\frac{1}{180}\\\\\n\\frac{19}{45} &= \\frac{1}{5} + \\frac{1}{6} + \\frac{1}{18}\\\\\n\\end{aligned}\n$$\n最好的是最后一种，因为 $\\dfrac{1}{18}$ 比 $\\dfrac{1}{180}, \\dfrac{1}{45}, \\dfrac{1}{30}$ 都大。  \n注意，可能有多个最优解。如：\n$$\n\\begin{aligned}\n\\frac{59}{211} &= \\frac{1}{4} + \\frac{1}{36} + \\frac{1}{633} + \\frac{1}{3798}\\\\\n\\frac{59}{211} &= \\frac{1}{6} + \\frac{1}{9} + \\frac{1}{633} + \\frac{1}{3798}\\\\\n\\end{aligned}\n$$\n由于方法一与方法二中，最小的分数相同，因此二者均是最优解。\n\n给出 $a,b$，编程计算最好的表达方式。保证最优解满足：最小的分数 $\\ge \\cfrac{1}{10^7}$。 \n", "inputFormat": "一行两个整数，分别为 $a$ 和 $b$ 的值。", "outputFormat": "输出若干个数，自小到大排列，依次是单位分数的分母。", "hint": "$1 \\lt a \\lt b \\lt 1000$", "locale": "zh-CN"}}}
{"pid": "P1764", "type": "P", "difficulty": 5, "samples": [["4\r\nbwwb\r\nbbwb\r\nbwwb\r\nbwww\r\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "洛谷原创"], "title": "翻转游戏 (加强版)", "background": "", "description": "kkke 在一个 $n\\ \\times n$ 的棋盘上进行一个翻转游戏。棋盘的每个格子上都放有一个棋子，每个棋子有 $2$ 个面，一面是黑色的，另一面是白色的。初始的时候，棋盘上的棋子有的黑色向上，有的白色向上。现在 kkke 想通过最少次数的翻转，使得棋盘上所有的棋子都是同一个颜色向上的（即全是黑色向上的，或全是白色向上的）。每次翻转的时候，kkke 可以选择任意一个棋子，将它翻转，同时，与它上下左右分别相邻的 $4$ 个棋子也必须同时翻转。", "inputFormat": "输入的第一行是一个整数 $n$，表示棋盘的大小是 $n\\times n$。\n\n接下来有 $n$ 行，每行包括 $n$ 个字母，表示初始的棋盘状态。如果字母是 $\\tt w$，则表示这个棋子当前是白色向上的，如果字母是 $\\tt b$，则表示这个棋子当前是黑色向上的。", "outputFormat": "输出为一行，如果无法翻转出目标状态，则输出`Impossible`，否则输出一个整数，表示 kkke 最少需要翻转的次数。\n", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1 \\le n \\le 4$；\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 16$。", "locale": "zh-CN", "translations": {"en": {"title": "Flip Game (Enhanced Version)", "background": "", "description": "kkke is playing a flip game on an $n \\times n$ board. Each cell of the board contains a piece, and each piece has $2$ faces: one black and one white. Initially, some pieces face up black and others face up white. Now kkke wants to make all pieces face the same color (either all black up or all white up) with the minimum number of flips. Each time a flip is performed, kkke may choose any piece to flip; at the same time, the $4$ pieces that are respectively adjacent to it up, down, left, and right must also be flipped.", "inputFormat": "The first line contains an integer $n$, indicating the board size is $n \\times n$.\n\nThen follow $n$ lines, each containing $n$ letters, representing the initial state of the board. If a letter is $\\tt w$, the corresponding piece is currently white side up; if it is $\\tt b$, the piece is currently black side up.", "outputFormat": "Output one line. If it is impossible to reach the target state, output `Impossible`; otherwise, output a single integer, the minimum number of flips kkke needs.", "hint": "- Constraints\n  - For $30\\%$ of the testdata, $1 \\le n \\le 4$.\n  - For $100\\%$ of the testdata, $1 \\le n \\le 16$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "翻转游戏 (加强版)", "background": "", "description": "kkke 在一个 $n\\ \\times n$ 的棋盘上进行一个翻转游戏。棋盘的每个格子上都放有一个棋子，每个棋子有 $2$ 个面，一面是黑色的，另一面是白色的。初始的时候，棋盘上的棋子有的黑色向上，有的白色向上。现在 kkke 想通过最少次数的翻转，使得棋盘上所有的棋子都是同一个颜色向上的（即全是黑色向上的，或全是白色向上的）。每次翻转的时候，kkke 可以选择任意一个棋子，将它翻转，同时，与它上下左右分别相邻的 $4$ 个棋子也必须同时翻转。", "inputFormat": "输入的第一行是一个整数 $n$，表示棋盘的大小是 $n\\times n$。\n\n接下来有 $n$ 行，每行包括 $n$ 个字母，表示初始的棋盘状态。如果字母是 $\\tt w$，则表示这个棋子当前是白色向上的，如果字母是 $\\tt b$，则表示这个棋子当前是黑色向上的。", "outputFormat": "输出为一行，如果无法翻转出目标状态，则输出`Impossible`，否则输出一个整数，表示 kkke 最少需要翻转的次数。\n", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1 \\le n \\le 4$；\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 16$。", "locale": "zh-CN"}}}
{"pid": "P1765", "type": "P", "difficulty": 1, "samples": [["i have a dream", "23"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "NOI 导刊", "枚举"], "title": "手机", "background": "", "description": "一般的手机的键盘是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yq2orii6.png)\n\n要按出英文字母就必须要按数字键多下。例如要按出 $\\tt x$ 就得按 $9$ 两下，第一下会出 $\\tt w$，而第二下会把 $\\tt w$ 变成 $\\tt x$。$0$ 键按一下会出一个空格。\n\n你的任务是读取若干句只包含英文小写字母和空格的句子，求出要在手机上打出这个句子至少需要按多少下键盘。\n", "inputFormat": "一行句子，只包含英文小写字母和空格，且不超过 200 个字符。\n", "outputFormat": "一行一个整数，表示按键盘的总次数。\n", "hint": "NOI 导刊 2010 普及（10）\n", "locale": "zh-CN", "translations": {"en": {"title": "Mobile Phone", "background": "", "description": "A typical mobile phone keypad looks like this:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yq2orii6.png)\n\nTo type an English letter, you need to press a number key multiple times. For example, to type $\\tt x$, you need to press $9$ twice: the first press outputs $\\tt w$, and the second turns $\\tt w$ into $\\tt x$. Pressing the $0$ key once outputs a space.\n\nYour task is to read a sentence that contains only lowercase English letters and spaces, and find the minimum number of key presses required to type this sentence on the phone.", "inputFormat": "One line containing a sentence that consists of lowercase English letters and spaces, with length at most 200 characters.", "outputFormat": "One line with one integer, the total number of key presses.", "hint": "NOI Bulletin 2010 Junior (10).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "手机", "background": "", "description": "一般的手机的键盘是这样的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yq2orii6.png)\n\n要按出英文字母就必须要按数字键多下。例如要按出 $\\tt x$ 就得按 $9$ 两下，第一下会出 $\\tt w$，而第二下会把 $\\tt w$ 变成 $\\tt x$。$0$ 键按一下会出一个空格。\n\n你的任务是读取若干句只包含英文小写字母和空格的句子，求出要在手机上打出这个句子至少需要按多少下键盘。\n", "inputFormat": "一行句子，只包含英文小写字母和空格，且不超过 200 个字符。\n", "outputFormat": "一行一个整数，表示按键盘的总次数。\n", "hint": "NOI 导刊 2010 普及（10）\n", "locale": "zh-CN"}}}
{"pid": "P1766", "type": "P", "difficulty": 4, "samples": [["4 2\n1 4 3 2\n5 4 2 1\n-2 -1 0 -2\n-1 -3 4 -4", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "枚举"], "title": "液体滴落", "background": "", "description": "在平面中有若干线段 $L_i$（**不一定互不相交**），组成一个又一个轨道，有一滴液体从上方滴落下来，如果碰到轨道就沿着轨道向下滚，从轨道较低的一端离开轨道，在轨道中不受任何影响，否则就垂直滴落，问最后液滴从什么位置落出整个系统。\n\n相信这个题目一定难不倒你。", "inputFormat": "第一行两个整数 $N$ 和 $S$，表示有 $N$ 条线段，液滴从横坐标为 $S$ 的地方落下。\n\n以下 $N$ 行，每行四个整数 $x_{i1}$，$y_{i1}$，$x_{i2}$，$y_{i2}$ 描述每条线段的端点位置。注意线段不包括两个端点，液体可以从一端点处滴下而不碰到斜面。", "outputFormat": "一行一个整数：表示最终液体落下的位置（横坐标）。", "hint": "对于 $50\\%$ 的数据，$1\\le n\\le100$，$|x|,|y|,|S| \\le500$；\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$|x|,|y|,|S|≤10^9$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gclp58tq.png)\n", "locale": "zh-CN", "translations": {"en": {"title": "Liquid Droplet", "background": "", "description": "In the plane, there are several line segments $L_i$ (not necessarily pairwise disjoint) that form one track after another. A droplet of liquid falls from above. If it encounters a track, it slides downward along the track and leaves the track from its lower end; while on a track, it is not affected by anything else. Otherwise, it falls straight down vertically. Determine the position from which the droplet finally exits the entire system.\n\nI'm sure this problem won't stump you.", "inputFormat": "The first line contains two integers $N$ and $S$, indicating there are $N$ segments, and the droplet starts falling from the position with x-coordinate $S$.\n\nEach of the following $N$ lines contains four integers $x_{i1}$, $y_{i1}$, $x_{i2}$, $y_{i2}$ describing the endpoints of each segment. Note that each segment excludes its two endpoints; the liquid can pass through an endpoint without touching the segment.", "outputFormat": "Output a single integer on one line: the final x-coordinate where the droplet falls out.", "hint": "For $50\\%$ of the testdata, $1\\le N\\le 100$, $|x|,|y|,|S| \\le 500$.\n\nFor $100\\%$ of the testdata, $1\\le N\\le 10^5$, $|x|,|y|,|S| \\le 10^9$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gclp58tq.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "液体滴落", "background": "", "description": "在平面中有若干线段 $L_i$（**不一定互不相交**），组成一个又一个轨道，有一滴液体从上方滴落下来，如果碰到轨道就沿着轨道向下滚，从轨道较低的一端离开轨道，在轨道中不受任何影响，否则就垂直滴落，问最后液滴从什么位置落出整个系统。\n\n相信这个题目一定难不倒你。", "inputFormat": "第一行两个整数 $N$ 和 $S$，表示有 $N$ 条线段，液滴从横坐标为 $S$ 的地方落下。\n\n以下 $N$ 行，每行四个整数 $x_{i1}$，$y_{i1}$，$x_{i2}$，$y_{i2}$ 描述每条线段的端点位置。注意线段不包括两个端点，液体可以从一端点处滴下而不碰到斜面。", "outputFormat": "一行一个整数：表示最终液体落下的位置（横坐标）。", "hint": "对于 $50\\%$ 的数据，$1\\le n\\le100$，$|x|,|y|,|S| \\le500$；\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$|x|,|y|,|S|≤10^9$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gclp58tq.png)\n", "locale": "zh-CN"}}}
{"pid": "P1767", "type": "P", "difficulty": 2, "samples": [["4\n*zlw**pxh\nl*zlwk*hx*\nw*tyy**yyy\n        zzl\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "NOI 导刊"], "title": "家族", "background": "", "description": "在一个与世隔绝的岛屿上，有一个有趣的现象：同一个家族的人家总是相邻的（这里的相邻是指东南西北四个方向），不同的家族之间总会有河流或是山丘隔绝，但同一个家族的人不一定有相同姓氏。现在给你岛上的地图，求出岛上有多少个不同的家族。岛上的地图有 $n$ 行，每行有若干列，每个格子中要么是空格，表示大海，要么是 $\\text{``{\\tt *}''}$，表示河流或山丘，要么是小写字母，表示一户人家的姓氏。\n", "inputFormat": "第一行是个数字 $N$，表示下面信息的行数。接下来是 $N$ 行字符，每行由小写字母和 $\\texttt *$ 号组成，有些行的最前面也可能包含若干连续的空格，表示这些区域是大海，每一行最多不超过 $200$ 个字符。", "outputFormat": "一个数字，表示家族数。\n", "hint": "### 数据范围及约定\n\n- $10\\%$ 的数据，$n≤1$。\n- $30\\%$ 的数据，$n≤10$。\n- $100\\%$ 的数据，$n≤100$，每一行最多不超过 $200$ 个字符。\n\nNOI导刊 2010 普及（10）\n", "locale": "zh-CN", "translations": {"en": {"title": "Family", "background": "", "description": "On an isolated island, there is an interesting phenomenon: households from the same family are always adjacent (adjacent means the four cardinal directions), while different families are always separated by rivers or hills. However, people from the same family do not necessarily share the same surname. Given the island’s map, find how many different families there are on the island. The map has $n$ rows, each with several columns. Each cell is either a space, meaning sea; or $\\text{``{\\tt *}''}$, meaning a river or hill; or a lowercase letter, meaning a household’s surname.", "inputFormat": "The first line contains a number $N$, indicating the number of lines that follow. Then come $N$ lines of characters, each consisting of lowercase letters and the character $\\texttt *$. Some lines may also begin with several consecutive spaces, meaning those areas are sea. Each line has at most $200$ characters.", "outputFormat": "A single number, indicating the number of families.", "hint": "Constraints\n\n- For $10\\%$ of the testdata, $n \\le 1$.\n- For $30\\%$ of the testdata, $n \\le 10$.\n- For $100\\%$ of the testdata, $n \\le 100$, and each line has at most $200$ characters.\n\nNOI Guide 2010 Junior (10).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "家族", "background": "", "description": "在一个与世隔绝的岛屿上，有一个有趣的现象：同一个家族的人家总是相邻的（这里的相邻是指东南西北四个方向），不同的家族之间总会有河流或是山丘隔绝，但同一个家族的人不一定有相同姓氏。现在给你岛上的地图，求出岛上有多少个不同的家族。岛上的地图有 $n$ 行，每行有若干列，每个格子中要么是空格，表示大海，要么是 $\\text{``{\\tt *}''}$，表示河流或山丘，要么是小写字母，表示一户人家的姓氏。\n", "inputFormat": "第一行是个数字 $N$，表示下面信息的行数。接下来是 $N$ 行字符，每行由小写字母和 $\\texttt *$ 号组成，有些行的最前面也可能包含若干连续的空格，表示这些区域是大海，每一行最多不超过 $200$ 个字符。", "outputFormat": "一个数字，表示家族数。\n", "hint": "### 数据范围及约定\n\n- $10\\%$ 的数据，$n≤1$。\n- $30\\%$ 的数据，$n≤10$。\n- $100\\%$ 的数据，$n≤100$，每一行最多不超过 $200$ 个字符。\n\nNOI导刊 2010 普及（10）\n", "locale": "zh-CN"}}}
{"pid": "P1768", "type": "P", "difficulty": 5, "samples": [["5 6\r\n1 2 1 1\r\n4 1 6 2\r\n5 4 8 1\r\n2 3 2 2\r\n5 2 4 1\r\n3 5 6 4", "2.3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "二分", "负权环", "分数规划"], "title": "天路", "background": "“那是一条神奇的天路诶 ~~~，把第一个神犇送上天堂 ~~~ ”，XDM 先生唱着这首“亲切”的歌曲，一道猥琐题目的灵感在脑中出现了。\n\n和 C_SUNSHINE 大神商量后，这道猥琐的题目终于出现在本次试题上了，旨在难到一帮大脑不够灵活的 OIer 们（JOHNKRAM 真的不是说你……）。", "description": "言归正传，小 X 的梦中，他在西藏开了一家大型旅游公司，现在，他要为西藏的各个景点设计一组铁路线。但是，小 X 发现，来旅游的游客都很挑剔，他们乘火车在各个景点间游览，景点的趣味当然是不用说啦，关键是路上。试想，若是乘火车一圈转悠，却发现回到了游玩过的某个景点，花了一大堆钱却在路上看不到好的风景，那是有多么的恼火啊。\n\n所以，小 X 为所有的路径定义了两个值，$V_i$ 和 $P_i$，分别表示火车线路的风景趣味度和乘坐一次的价格。现在小 X 想知道，乘客从任意一个景点开始坐火车走过的一条回路上所有的 $V$ 之和与 $P$ 之和的比值的最大值。以便为顾客们推荐一条环绕旅游路线（路线不一定包含所有的景点，但是不可以存在重复的火车路线）。\n\n于是，小 X 梦醒之后找到了你……", "inputFormat": "第一行两个正整数 $N,M$，表示有 $N$ 个景点，$M$ 条火车路线，火车路线是单向的。\n\n以下 $M$ 行，每行 $4$ 个正整数，分别表示一条路线的起点，终点，$V$ 值和 $P$ 值。\n\n注意，两个顶点间可能有多条轨道，但一次只能走其中的一条。", "outputFormat": "一个实数，表示一条回路上最大的比值，保留 $1$ 位小数。\n\n若没有回路，输出 $-1$。", "hint": "对于 $30\\%$ 的数据，$1 \\le N \\le 100$，$1 \\le M \\le 20$；\n\n对于 $60\\%$ 的数据，$1 \\le N \\le 3{,}000$，$1 \\le M \\le 2{,}000$；\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 7{,}000$，$1 \\le M \\le 20{,}000$，$1 \\le V_i,P_i \\le 1{,}000$。\n\n保证答案在 $200$ 以内。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1ywdkfs.png)", "locale": "zh-CN", "translations": {"en": {"title": "Heavenly Road", "background": "\"That is a magical Sky Road, sending the first shen niu (pinyin) to heaven,\" Mr. XDM sang this \"friendly\" song, and a mischievous problem idea appeared in his mind.\n\nAfter discussing with the master C_SUNSHINE, this mischievous problem finally appeared in this exam, aiming to stump a bunch of OIers whose brains are not flexible enough (JOHNKRAM, this is really not about you...).", "description": "Back to the point. In Xiao X’s dream, he opened a large travel company in Tibet. Now he needs to design a set of railway lines connecting various scenic spots in Tibet. However, Xiao X found that tourists are very picky. They take trains to travel between scenic spots. The spots themselves are surely fun, but what really matters is the journey. Imagine taking a train around in a loop only to find yourself back at a spot you have already visited. You spend a lot of money and still cannot see good scenery along the way. That would be very frustrating.\n\nTherefore, Xiao X assigns two values to every route, $V_i$ and $P_i$, representing the scenery fun value of the train line and the price for one ride, respectively. Now Xiao X wants to know the maximum value of the ratio between the sum of $V$ and the sum of $P$ over any cycle that a passenger can take starting from any scenic spot. This is to recommend a circular tour route for customers (the route does not have to include all scenic spots, but no railway route may be repeated).\n\nThen, Xiao X woke up and came to you...", "inputFormat": "The first line contains two positive integers $N,M$, indicating there are $N$ scenic spots and $M$ railway routes. The railway routes are directed.\n\nEach of the following $M$ lines contains $4$ positive integers, representing the start point, end point, $V$ value, and $P$ value of a route.\n\nNote that there may be multiple tracks between two vertices, but you can take only one of them at a time.", "outputFormat": "Output a real number, the maximum ratio on a cycle, keeping $1$ decimal place.\n\nIf there is no cycle, output $-1$.", "hint": "For $30\\%$ of the testdata, $1 \\le N \\le 100$, $1 \\le M \\le 20$.\n\nFor $60\\%$ of the testdata, $1 \\le N \\le 3{,}000$, $1 \\le M \\le 2{,}000$.\n\nFor $100\\%$ of the testdata, $1 \\le N \\le 7{,}000$, $1 \\le M \\le 20{,}000$, $1 \\le V_i,P_i \\le 1{,}000$.\n\nThe answer is guaranteed to be within $200$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1ywdkfs.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "天路", "background": "“那是一条神奇的天路诶 ~~~，把第一个神犇送上天堂 ~~~ ”，XDM 先生唱着这首“亲切”的歌曲，一道猥琐题目的灵感在脑中出现了。\n\n和 C_SUNSHINE 大神商量后，这道猥琐的题目终于出现在本次试题上了，旨在难到一帮大脑不够灵活的 OIer 们（JOHNKRAM 真的不是说你……）。", "description": "言归正传，小 X 的梦中，他在西藏开了一家大型旅游公司，现在，他要为西藏的各个景点设计一组铁路线。但是，小 X 发现，来旅游的游客都很挑剔，他们乘火车在各个景点间游览，景点的趣味当然是不用说啦，关键是路上。试想，若是乘火车一圈转悠，却发现回到了游玩过的某个景点，花了一大堆钱却在路上看不到好的风景，那是有多么的恼火啊。\n\n所以，小 X 为所有的路径定义了两个值，$V_i$ 和 $P_i$，分别表示火车线路的风景趣味度和乘坐一次的价格。现在小 X 想知道，乘客从任意一个景点开始坐火车走过的一条回路上所有的 $V$ 之和与 $P$ 之和的比值的最大值。以便为顾客们推荐一条环绕旅游路线（路线不一定包含所有的景点，但是不可以存在重复的火车路线）。\n\n于是，小 X 梦醒之后找到了你……", "inputFormat": "第一行两个正整数 $N,M$，表示有 $N$ 个景点，$M$ 条火车路线，火车路线是单向的。\n\n以下 $M$ 行，每行 $4$ 个正整数，分别表示一条路线的起点，终点，$V$ 值和 $P$ 值。\n\n注意，两个顶点间可能有多条轨道，但一次只能走其中的一条。", "outputFormat": "一个实数，表示一条回路上最大的比值，保留 $1$ 位小数。\n\n若没有回路，输出 $-1$。", "hint": "对于 $30\\%$ 的数据，$1 \\le N \\le 100$，$1 \\le M \\le 20$；\n\n对于 $60\\%$ 的数据，$1 \\le N \\le 3{,}000$，$1 \\le M \\le 2{,}000$；\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 7{,}000$，$1 \\le M \\le 20{,}000$，$1 \\le V_i,P_i \\le 1{,}000$。\n\n保证答案在 $200$ 以内。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1ywdkfs.png)", "locale": "zh-CN"}}}
{"pid": "P1769", "type": "P", "difficulty": 5, "samples": [["2\n0 90 50 50\n10 0 10 10\n50 90 0 50\n50 90 50 0\n", " 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "递归", "NOI 导刊"], "title": "淘汰赛制", "background": "", "description": "淘汰赛制是一种极其残酷的比赛制度。$2^n$ 名选手分别标号 $1,2,3,\\cdots,2^n-1,2^n$，他们将要参加 $n$ 轮的激烈角逐。每一轮中，将所有参加该轮的选手按标号从小到大排序后，第 $1$ 位与第 $2$ 位比赛，第 $3$ 位与第 $4$ 位比赛，第 $5$ 位与第 $6$ 位比赛……只有每场比赛的胜者才有机会参加下一轮的比赛（不会有平局）。这样，每轮将淘汰一半的选手。$n$ 轮过后，只剩下一名选手，该选手即为最终的冠军。\n\n现在已知每位选手分别与其他选手比赛获胜的概率，请你预测一下谁夺冠的概率最大。", "inputFormat": "第一行是一个整数 $n(1 \\le n \\le 10)$，表示总轮数。接下来 $2^n$ 行，每行 $2^n$ 个整数，第 $i$ 行第 $j$ 个是 $p_{i,j}$。（$0 \\le p_{i_j} \\le 100$，$p_{i,i}=0$，$p_{i,j}+p_{j,i}=100$），表示第 $i$ 号选手与第 $j$ 号选手比赛获胜的概率。", "outputFormat": "输出只有一个整数 $c$，表示夺冠概率最大的选手编号（若有多位选手，输出编号最小者）。\n", "hint": "- $30\\%$ 的数据满足 $n \\le 3$；\n- $100\\%$ 的数据满足 $n \\le 10$。\n\n_NOI导刊 2010 提高（01）\n", "locale": "zh-CN", "translations": {"en": {"title": "Single-Elimination Tournament", "background": "", "description": "The single-elimination system is a very brutal competition format. There are $2^n$ players numbered $1, 2, 3, \\cdots, 2^n - 1, 2^n$, and they will compete for $n$ rounds. In each round, after sorting all players participating in that round by increasing index, the $1$-st plays the $2$-nd, the $3$-rd plays the $4$-th, the $5$-th plays the $6$-th, and so on. Only the winner of each match advances to the next round (there are no ties). Thus, each round eliminates half of the players. After $n$ rounds, exactly one player remains, who is the champion.\n\nNow you are given, for every pair of players, the probability that one beats the other. Please predict which player has the highest probability of winning the championship.", "inputFormat": "The first line contains an integer $n$ ($1 \\le n \\le 10$), the total number of rounds. Then follow $2^n$ lines, each containing $2^n$ integers; in line $i$, the $j$-th number is $p_{i,j}$. The constraints are $0 \\le p_{i,j} \\le 100$, $p_{i,i} = 0$, and $p_{i,j} + p_{j,i} = 100$. Here $p_{i,j}$ denotes the probability (in percent) that player $i$ defeats player $j$.", "outputFormat": "Output a single integer $c$, the index of the player whose probability of becoming the champion is the highest (if there are multiple such players, output the smallest index).", "hint": "- $30\\%$ of the testdata satisfies $n \\le 3$.\n- $100\\%$ of the testdata satisfies $n \\le 10$.\n\nSource: NOI Guide 2010 Senior (01).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "淘汰赛制", "background": "", "description": "淘汰赛制是一种极其残酷的比赛制度。$2^n$ 名选手分别标号 $1,2,3,\\cdots,2^n-1,2^n$，他们将要参加 $n$ 轮的激烈角逐。每一轮中，将所有参加该轮的选手按标号从小到大排序后，第 $1$ 位与第 $2$ 位比赛，第 $3$ 位与第 $4$ 位比赛，第 $5$ 位与第 $6$ 位比赛……只有每场比赛的胜者才有机会参加下一轮的比赛（不会有平局）。这样，每轮将淘汰一半的选手。$n$ 轮过后，只剩下一名选手，该选手即为最终的冠军。\n\n现在已知每位选手分别与其他选手比赛获胜的概率，请你预测一下谁夺冠的概率最大。", "inputFormat": "第一行是一个整数 $n(1 \\le n \\le 10)$，表示总轮数。接下来 $2^n$ 行，每行 $2^n$ 个整数，第 $i$ 行第 $j$ 个是 $p_{i,j}$。（$0 \\le p_{i_j} \\le 100$，$p_{i,i}=0$，$p_{i,j}+p_{j,i}=100$），表示第 $i$ 号选手与第 $j$ 号选手比赛获胜的概率。", "outputFormat": "输出只有一个整数 $c$，表示夺冠概率最大的选手编号（若有多位选手，输出编号最小者）。\n", "hint": "- $30\\%$ 的数据满足 $n \\le 3$；\n- $100\\%$ 的数据满足 $n \\le 10$。\n\n_NOI导刊 2010 提高（01）\n", "locale": "zh-CN"}}}
{"pid": "P1770", "type": "P", "difficulty": 4, "samples": [["Shang wang dou tmd bei ping ping an an he xie diao le.\nTian yao mie he xie, tui he xie bao ping an.  shang Wang sou suo jiu ping cha cha cha ,you       zhen       xiang!", "Tian yao mie <b>he xie</b>, tui <b>he xie</b> bao <b>ping an.  shang Wang</b> sou suo jiu ping cha cha cha ,you       zhen       xiang!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "洛谷原创", "洛谷比赛"], "title": "万能的OIH搜索", "background": "以下皆为真实的故事。\n\nOIH（Oi in hand <http://www.oiinhand.info/> ）是洛谷的官方战略合作伙伴。\n\n洛谷的题目搜索功能（请看看上面的搜索框）、在线 IDE 功能均使用 OIH 的服务。\n\nOIH 的搜索功能很强大，其庞大的数据库拥有 $8000+$ 道中外主流 OJ 的题目。只需要只言片语（题目名称、描述、甚至是测试数据）就可以很快的搜出这道题的出处（“改编题”的杀手）。\n\n以后，OIH 还将收录全网上的题解（数量是万级别的），只要通过题目名称，就可以搜到这个题目的题解。\n\nOIH 的目标是制作出一个适合 OIers 的 app。虽然 OIH 不是 OJ，但是 OIH 的辅助功能能够给 OIers 带来很大的便利。如果您有任何的 idea，请 @soha（oih 的作者）。", "description": "经过多次谈判，kkksc03 终于取得了 OIH 搜索的接口，现在向 OIH 服务器发送了一个查询请求，返回了一道题目。\n\n查询关键词是一句话，由汉字（我们用它的拼音代替）、空格（每个汉字之间都有空格）、半角标点组成。返回的题目也是这样的。kkksc03 希望将题目中的某些词语加粗。所谓词语，就是连续两个或以上汉字。比如说 `tao tao`,`zhai ping guo` 都是词语，而 `hao`,`ni,hao` 不是词语。如果一个在题目中出现的词语也在关键词中出现的词语，那么加粗。加粗的方法是在词语前加上 `<b>`，在词语后面加上一个 `</b>`。至于标点符号么加不加粗无所谓。kkksc03 希望添加标记（`<b>` `</b>`对）的数量尽可能少，而且每个标记之间的的字符数最少。", "inputFormat": "两行。第一行为一个字符串 $S_1$，关键词字符串。第二行 $S_2$，是 OIH 返回的题目字符串。\n", "outputFormat": "一行，处理的结果。", "hint": "每个汉字不超过 $7$ 个英文字符。\n\n关键字不超过 $100$ 个汉字。\n\n返回的题目不超过 $1000$ 个汉字。", "locale": "zh-CN", "translations": {"en": {"title": "The Universal OIH Search", "background": "The following are all true stories.\n\nOIH (Oi in hand <http://www.oiinhand.info/>) is Luogu’s official strategic partner.\n\nLuogu’s problem search feature (see the search box above) and its online IDE are both powered by OIH.\n\nOIH’s search is very powerful. Its large database contains $8000+$ problems from mainstream domestic and international OJs. With just a few words (problem title, description, or even testdata), it can quickly find the source of a problem (the killer of “modified problems”).\n\nIn the future, OIH will also index solution write-ups from across the web (on the order of ten thousand). With just the problem name, you will be able to find its solutions.\n\nOIH’s goal is to build an app suitable for OIers. Although OIH is not an OJ, its auxiliary features can bring great convenience to OIers. If you have any ideas, please @soha (the author of OIH).", "description": "After multiple negotiations, kkksc03 finally obtained access to the OIH search API, sent a query request to the OIH server, and received a problem in response.\n\nThe query keywords form a sentence composed of Chinese characters (we replace them with their pinyin), spaces (there is a space between every Chinese character), and half-width punctuation. The returned problem string has the same format. kkksc03 wants to bold certain words in the problem. A “word” means two or more consecutive Chinese characters. For example, `tao tao` and `zhai ping guo` are words, while `hao` and `ni,hao` are not. If a word that appears in the problem also appears as a word in the keywords, then bold it. To bold, add `<b>` before the word and `</b>` after the word. As for punctuation, including it in bold or not does not matter. kkksc03 wants to use as few tag pairs (`<b>` `</b>`) as possible, and, subject to that, minimize the number of characters enclosed by each pair of tags.", "inputFormat": "Two lines. The first line is a string $S_1$, the keyword string. The second line, $S_2$, is the problem string returned by OIH.", "outputFormat": "One line, the processed result.", "hint": "- Each Chinese character has at most $7$ English letters.\n- The keywords contain at most $100$ Chinese characters.\n- The returned problem contains at most $1000$ Chinese characters.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "万能的OIH搜索", "background": "以下皆为真实的故事。\n\nOIH（Oi in hand <http://www.oiinhand.info/> ）是洛谷的官方战略合作伙伴。\n\n洛谷的题目搜索功能（请看看上面的搜索框）、在线 IDE 功能均使用 OIH 的服务。\n\nOIH 的搜索功能很强大，其庞大的数据库拥有 $8000+$ 道中外主流 OJ 的题目。只需要只言片语（题目名称、描述、甚至是测试数据）就可以很快的搜出这道题的出处（“改编题”的杀手）。\n\n以后，OIH 还将收录全网上的题解（数量是万级别的），只要通过题目名称，就可以搜到这个题目的题解。\n\nOIH 的目标是制作出一个适合 OIers 的 app。虽然 OIH 不是 OJ，但是 OIH 的辅助功能能够给 OIers 带来很大的便利。如果您有任何的 idea，请 @soha（oih 的作者）。", "description": "经过多次谈判，kkksc03 终于取得了 OIH 搜索的接口，现在向 OIH 服务器发送了一个查询请求，返回了一道题目。\n\n查询关键词是一句话，由汉字（我们用它的拼音代替）、空格（每个汉字之间都有空格）、半角标点组成。返回的题目也是这样的。kkksc03 希望将题目中的某些词语加粗。所谓词语，就是连续两个或以上汉字。比如说 `tao tao`,`zhai ping guo` 都是词语，而 `hao`,`ni,hao` 不是词语。如果一个在题目中出现的词语也在关键词中出现的词语，那么加粗。加粗的方法是在词语前加上 `<b>`，在词语后面加上一个 `</b>`。至于标点符号么加不加粗无所谓。kkksc03 希望添加标记（`<b>` `</b>`对）的数量尽可能少，而且每个标记之间的的字符数最少。", "inputFormat": "两行。第一行为一个字符串 $S_1$，关键词字符串。第二行 $S_2$，是 OIH 返回的题目字符串。\n", "outputFormat": "一行，处理的结果。", "hint": "每个汉字不超过 $7$ 个英文字符。\n\n关键字不超过 $100$ 个汉字。\n\n返回的题目不超过 $1000$ 个汉字。", "locale": "zh-CN"}}}
{"pid": "P1771", "type": "P", "difficulty": 5, "samples": [["3 2", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "高精度", "递归", "NOI 导刊"], "title": "方程的解", "background": "", "description": "佳佳碰到了一个难题，请你来帮忙解决。对于不定方程 $a_1+a_2+\\cdots +a_{k-1}+a_k=g(x)$，其中 $k\\ge 2$ 且 $k\\in \\mathbb{N}^*$，$x$ 是正整数，$g(x)=x^x \\bmod 1000$（即 $x^x$ 除以 $1000$ 的余数），$x,k$ 是给定的数。我们要求的是这个不定方程的正整数解组数。\n\n举例来说，当 $k=3,x=2$ 时，方程的解分别为：\n$$\\begin{cases} a_1=1\\\\ a_2=1\\\\ a_3=2 \\end{cases}$$\n$$\\begin{cases} a_1=1\\\\ a_2=2\\\\ a_3=1 \\end{cases}$$\n$$\\begin{cases} a_1=2\\\\ a_2=1\\\\ a_3=1 \\end{cases}$$", "inputFormat": "输入有且只有一行，为用空格隔开的两个正整数，依次为 $k,x$。", "outputFormat": "输出有且只有一行，为方程的正整数解组数。\n", "hint": "- 对于 $40\\%$ 的数据，$\\mathit{ans} \\le 10^{16}$；\n- 对于 $100\\%$ 的数据，$k \\le 100$，$x \\le 2^{31}-1$，$k \\le g(x)$。\n\nNOI导刊2010提高（01）\n", "locale": "zh-CN", "translations": {"en": {"title": "Solutions to the Equation", "background": "", "description": "Jiajia ran into a tough problem and asks you to help solve it. Consider the Diophantine equation $a_1 + a_2 + \\cdots + a_{k-1} + a_k = g(x)$, where $k \\ge 2$ and $k \\in \\mathbb{N}^*$, $x$ is a positive integer, and $g(x) = x^x \\bmod 1000$ (that is, the remainder of $x^x$ modulo $1000$). The numbers $x$ and $k$ are given. Your task is to find the number of solution tuples in positive integers to this equation.\n\nFor example, when $k = 3, x = 2$, the solutions are:\n$$\\begin{cases} a_1=1\\\\ a_2=1\\\\ a_3=2 \\end{cases}$$\n$$\\begin{cases} a_1=1\\\\ a_2=2\\\\ a_3=1 \\end{cases}$$\n$$\\begin{cases} a_1=2\\\\ a_2=1\\\\ a_3=1 \\end{cases}$$", "inputFormat": "The input contains exactly one line with two positive integers separated by a space, namely $k, x$.", "outputFormat": "Output exactly one line with the number of solution tuples in positive integers.", "hint": "- For 40% of the testdata, $\\mathit{ans} \\le 10^{16}$.\n- For 100% of the testdata, $k \\le 100$, $x \\le 2^{31}-1$, $k \\le g(x)$.\n\nNOI Journal 2010 Senior (01)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "方程的解", "background": "", "description": "佳佳碰到了一个难题，请你来帮忙解决。对于不定方程 $a_1+a_2+\\cdots +a_{k-1}+a_k=g(x)$，其中 $k\\ge 2$ 且 $k\\in \\mathbb{N}^*$，$x$ 是正整数，$g(x)=x^x \\bmod 1000$（即 $x^x$ 除以 $1000$ 的余数），$x,k$ 是给定的数。我们要求的是这个不定方程的正整数解组数。\n\n举例来说，当 $k=3,x=2$ 时，方程的解分别为：\n$$\\begin{cases} a_1=1\\\\ a_2=1\\\\ a_3=2 \\end{cases}$$\n$$\\begin{cases} a_1=1\\\\ a_2=2\\\\ a_3=1 \\end{cases}$$\n$$\\begin{cases} a_1=2\\\\ a_2=1\\\\ a_3=1 \\end{cases}$$", "inputFormat": "输入有且只有一行，为用空格隔开的两个正整数，依次为 $k,x$。", "outputFormat": "输出有且只有一行，为方程的正整数解组数。\n", "hint": "- 对于 $40\\%$ 的数据，$\\mathit{ans} \\le 10^{16}$；\n- 对于 $100\\%$ 的数据，$k \\le 100$，$x \\le 2^{31}-1$，$k \\le g(x)$。\n\nNOI导刊2010提高（01）\n", "locale": "zh-CN"}}}
{"pid": "P1772", "type": "P", "difficulty": 5, "samples": [["5 5 10 8\n1 2 1\n1 3 3\n1 4 2\n2 3 2\n2 4 4\n3 4 1\n3 5 2\n4 5 2\n4\n2 2 3\n3 1 1\n3 3 3\n4 4 5\n", "32"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "图论", "2006", "各省省选", "浙江", "NOI 导刊", "最短路"], "title": "[ZJOI2006] 物流运输", "background": "", "description": "物流公司要把一批货物从码头 A 运到码头 B。由于货物量比较大，需要 $n$ 天才能运完。货物运输过程中一般要转停好几个码头。  \n\n物流公司通常会设计一条固定的运输路线，以便对整个运输过程实施严格的管理和跟踪。由于各种因素的存在，有的时候某个码头会无法装卸货物。这时候就必须修改运输路线，让货物能够按时到达目的地。  \n\n但是修改路线是—件十分麻烦的事情，会带来额外的成本。因此物流公司希望能够订一个 $n$ 天的运输计划，使得总成本尽可能地小。\n", "inputFormat": "第一行是四个整数 $n,m,k,e$。$n$ 表示货物运输所需天数，$m$ 表示码头总数，$k$ 表示每次修改运输路线所需成本，$e$ 表示航线条数。  \n\n接下来 $e$ 行每行是一条航线描述，包括了三个整数，依次表示航线连接的两个码头编号以及航线长度。其中码头 A 编号为 $1$，码头 B 编号为 $m$。单位长度的运输费用为 $1$。航线是**双向**的。  \n\n再接下来一行是一个整数 $d$，后面的 $d$ 行每行是三个整数 $p,a,b$。表示编号为 $p$ 的码头在 $[a,b]$ 天之内无法装卸货物。同一个码头有可能在多个时间段内不可用。但任何时间都存在至少一条从码头 A 到码头 B 的运输路线。\n", "outputFormat": "包括了一个整数表示最小的总成本。  \n总成本为 $n$ 天运输路线长度之和 $+ k \\times$ 改变运输路线的次数。\n", "hint": "【数据范围】\n对于 $100\\%$ 的数据，$1 \\le n \\le 100$，$1\\le m \\le 20$, $1 \\le k \\le 500$, $1 \\le e \\le 200$。\n\n【样例输入说明】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4lcnync6.png)\n\n上图依次表示第 $1$ 至第 $5$ 天的情况，阴影表示不可用的码头。\n\n【样例输出说明】\n\n前三天走 $1 \\to 4 \\to 5$，后两天走 $1 \\to 3 \\to 5$，这样总成本为 $(2+2)\\times 3+(3+2)\\times 2+10=32$。\n\n\\_NOI导刊2010提高（01）\n", "locale": "zh-CN", "translations": {"en": {"title": "[ZJOI2006] Logistics Transportation", "background": "", "description": "A logistics company needs to transport a batch of goods from port A to port B. Because the amount of goods is large, it will take $n$ days to finish. In general, the goods need to be transferred through several intermediate ports.\n\nThe company usually designs a fixed transportation route to enable strict management and tracking. Due to various factors, sometimes a port cannot load or unload cargo. In such cases, the route must be modified so that the goods can arrive on time.\n\nHowever, changing the route is troublesome and incurs extra cost. Therefore, the company wants to make a transportation plan for $n$ days that minimizes the total cost.\n\nOn each day, you must choose a valid route from port A to port B that does not pass through any port that is unavailable on that day. Each time the route differs from the previous day’s route, an additional cost of $k$ is incurred. The transportation fee per unit length is $1$. Ports are numbered from $1$ to $m$, where port A is $1$ and port B is $m$. All shipping routes are bidirectional. It is guaranteed that on every day there is at least one valid route from A to B.\n\nThe goal is to minimize the total cost, which equals the sum of the route lengths over $n$ days plus $k \\times$ the number of times the route is changed.", "inputFormat": "The first line contains four integers $n, m, k, e$, where $n$ is the number of days, $m$ is the number of ports, $k$ is the cost of changing the route, and $e$ is the number of shipping routes.\n\nEach of the next $e$ lines contains three integers $u, v, w$, meaning there is a bidirectional shipping route between ports $u$ and $v$ with length $w$. The transportation fee per unit length is $1$. Port A is numbered $1$, and port B is numbered $m$.\n\nThe next line contains an integer $d$. Each of the following $d$ lines contains three integers $p, a, b$, meaning port $p$ is unavailable during days $[a, b]$ (inclusive). The same port may be unavailable during multiple time intervals. For every day, there exists at least one route from port A to port B.", "outputFormat": "Output a single integer: the minimal total cost.\n\nThe total cost is the sum of route lengths over $n$ days $+\\, k \\times$ the number of times the route is changed.", "hint": "Constraints  \nFor $100\\%$ of the testdata, $1 \\le n \\le 100$, $1 \\le m \\le 20$, $1 \\le k \\le 500$, $1 \\le e \\le 200$.\n\nSample Input Explanation\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4lcnync6.png)\n\nThe figure shows the situations from day $1$ to day $5$; shaded ports are unavailable.\n\nSample Output Explanation\n\nUse route $1 \\to 4 \\to 5$ for the first three days, and route $1 \\to 3 \\to 5$ for the last two days. Then the total cost is $(2+2) \\times 3 + (3+2) \\times 2 + 10 = 32$.\n\nSource: NOI Guide 2010 Senior (01).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[ZJOI2006] 物流运输", "background": "", "description": "物流公司要把一批货物从码头 A 运到码头 B。由于货物量比较大，需要 $n$ 天才能运完。货物运输过程中一般要转停好几个码头。  \n\n物流公司通常会设计一条固定的运输路线，以便对整个运输过程实施严格的管理和跟踪。由于各种因素的存在，有的时候某个码头会无法装卸货物。这时候就必须修改运输路线，让货物能够按时到达目的地。  \n\n但是修改路线是—件十分麻烦的事情，会带来额外的成本。因此物流公司希望能够订一个 $n$ 天的运输计划，使得总成本尽可能地小。\n", "inputFormat": "第一行是四个整数 $n,m,k,e$。$n$ 表示货物运输所需天数，$m$ 表示码头总数，$k$ 表示每次修改运输路线所需成本，$e$ 表示航线条数。  \n\n接下来 $e$ 行每行是一条航线描述，包括了三个整数，依次表示航线连接的两个码头编号以及航线长度。其中码头 A 编号为 $1$，码头 B 编号为 $m$。单位长度的运输费用为 $1$。航线是**双向**的。  \n\n再接下来一行是一个整数 $d$，后面的 $d$ 行每行是三个整数 $p,a,b$。表示编号为 $p$ 的码头在 $[a,b]$ 天之内无法装卸货物。同一个码头有可能在多个时间段内不可用。但任何时间都存在至少一条从码头 A 到码头 B 的运输路线。\n", "outputFormat": "包括了一个整数表示最小的总成本。  \n总成本为 $n$ 天运输路线长度之和 $+ k \\times$ 改变运输路线的次数。\n", "hint": "【数据范围】\n对于 $100\\%$ 的数据，$1 \\le n \\le 100$，$1\\le m \\le 20$, $1 \\le k \\le 500$, $1 \\le e \\le 200$。\n\n【样例输入说明】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4lcnync6.png)\n\n上图依次表示第 $1$ 至第 $5$ 天的情况，阴影表示不可用的码头。\n\n【样例输出说明】\n\n前三天走 $1 \\to 4 \\to 5$，后两天走 $1 \\to 3 \\to 5$，这样总成本为 $(2+2)\\times 3+(3+2)\\times 2+10=32$。\n\n\\_NOI导刊2010提高（01）\n", "locale": "zh-CN"}}}
{"pid": "P1773", "type": "P", "difficulty": 4, "samples": [["4421\r\n22\r\n", "0 1 21 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "NOI 导刊", "枚举"], "title": "符文之语", "background": "传说中珠穆朗玛峰下有座古代人修建的神庙，神庙的地下室里有古代王室的遗产，但数千年来从未有人到达过……探险者小 FF 一直梦想成为世界上最富有的人和最杰出的探险家并被永载史册。在证明了这个洞确实存在后，小 FF 做好了充足准备，来到了神庙。", "description": "当小 FF 来到神庙时，神庙已经破败不堪了。但神庙的中央有一个光亮如新的石台。小 FF 走近石台，发现石台上有一个数串，而数串的上方刻着一串古老的符文之语。精通古符文之语的小 FF 不费吹灰之力就读懂了文章的意思，其大意是：\n\n对于石台上的一串数字，你可以在适当的位置加入乘号（设加了 $k$ 个，当然也可不加，即分成 $k+1$ 个部分），设这 $k+1$ 个部分的乘积（如果 $k=0$，则乘积即为原数串的值）对 $m$ 的余数（即 $\\bmod\\ m$）为 $x$；\n\n现求 $x$ 能达到的最小值及该情况下 $k$ 的最小值，以及 $x$ 能达到的最大值及该情况下的 $k$ 的最小值（可以存在 $x$ 的最小值与最大值相同的情况）。\n\n小 FF 还知道，如果他找到了正确的答案，那么就可以通往神庙的下层了。但这个问题似乎不太好解决，小 FF 就找到了你，并答应找到财宝以后和你二八分（当然你拿二……）。", "inputFormat": "第一行为数串，且数串中不存在 $0$；\n\n第二行为 $m$。", "outputFormat": "四个数，分别为 $x$ 的最小值和该情况下的 $k$，以及 $x$ 的最大值和该情况下的 $k$，相邻两个数之间用一个空格隔开。", "hint": "记 $L$ 表示字符串的长度。\n\n- 对于 $30\\%$ 的数据：$2 \\le L \\le 50$；\n- 对于 $100\\%$ 的数据：$2 \\le L \\le 1000$，$2 \\le m \\le 50$。\n\nNOI 导刊 $2010$ 提高（$02$）", "locale": "zh-CN", "translations": {"en": {"title": "Runeword", "background": "Legend has it that there is an ancient temple built by people of old beneath Mount Everest. In the temple’s basement lies the royal heritage, yet for thousands of years no one has ever reached it. The explorer Little FF dreams of becoming the richest person in the world and the most outstanding explorer, remembered forever. After proving that this cave does exist, Little FF made thorough preparations and arrived at the temple.", "description": "When Little FF arrived, the temple was already in ruins. But at the center stood a stone pedestal that was bright and spotless. Little FF approached and found a string of digits on the pedestal, with a line of ancient runic words carved above it. Being fluent in ancient runes, Little FF easily understood the text, which roughly says:\n\nGiven the string of digits on the pedestal, you may insert multiplication signs at suitable positions (suppose you insert $k$ of them; you may also insert none, i.e., split into $k+1$ parts). Let the product of these $k+1$ parts (if $k=0$, the product is just the value of the original string) modulo $m$ be $x$ (that is, $\\bmod\\ m$).\n\nFind the minimum possible $x$ and, among all ways achieving it, the smallest $k$; and find the maximum possible $x$ and, among all ways achieving it, the smallest $k$ (it is possible that the minimum and maximum $x$ are the same).\n\nLittle FF also knows that if he finds the correct answer, he can proceed to the lower level of the temple. But this problem seems hard, so he turns to you for help, and promises an eighty–twenty split of the treasure afterwards (you get twenty).", "inputFormat": "The first line contains the string of digits, which does not contain the digit $0$.\n\nThe second line contains $m$.", "outputFormat": "Output four numbers: the minimum value of $x$ and, in that case, the smallest $k$; then the maximum value of $x$ and, in that case, the smallest $k$. Separate adjacent numbers with a single space.", "hint": "Let $L$ be the length of the string.\n\n- For $30\\%$ of the testdata: $2 \\le L \\le 50$.\n- For $100\\%$ of the testdata: $2 \\le L \\le 1000$, $2 \\le m \\le 50$.\n\nNOI Guide 2010 Senior (02).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "符文之语", "background": "传说中珠穆朗玛峰下有座古代人修建的神庙，神庙的地下室里有古代王室的遗产，但数千年来从未有人到达过……探险者小 FF 一直梦想成为世界上最富有的人和最杰出的探险家并被永载史册。在证明了这个洞确实存在后，小 FF 做好了充足准备，来到了神庙。", "description": "当小 FF 来到神庙时，神庙已经破败不堪了。但神庙的中央有一个光亮如新的石台。小 FF 走近石台，发现石台上有一个数串，而数串的上方刻着一串古老的符文之语。精通古符文之语的小 FF 不费吹灰之力就读懂了文章的意思，其大意是：\n\n对于石台上的一串数字，你可以在适当的位置加入乘号（设加了 $k$ 个，当然也可不加，即分成 $k+1$ 个部分），设这 $k+1$ 个部分的乘积（如果 $k=0$，则乘积即为原数串的值）对 $m$ 的余数（即 $\\bmod\\ m$）为 $x$；\n\n现求 $x$ 能达到的最小值及该情况下 $k$ 的最小值，以及 $x$ 能达到的最大值及该情况下的 $k$ 的最小值（可以存在 $x$ 的最小值与最大值相同的情况）。\n\n小 FF 还知道，如果他找到了正确的答案，那么就可以通往神庙的下层了。但这个问题似乎不太好解决，小 FF 就找到了你，并答应找到财宝以后和你二八分（当然你拿二……）。", "inputFormat": "第一行为数串，且数串中不存在 $0$；\n\n第二行为 $m$。", "outputFormat": "四个数，分别为 $x$ 的最小值和该情况下的 $k$，以及 $x$ 的最大值和该情况下的 $k$，相邻两个数之间用一个空格隔开。", "hint": "记 $L$ 表示字符串的长度。\n\n- 对于 $30\\%$ 的数据：$2 \\le L \\le 50$；\n- 对于 $100\\%$ 的数据：$2 \\le L \\le 1000$，$2 \\le m \\le 50$。\n\nNOI 导刊 $2010$ 提高（$02$）", "locale": "zh-CN"}}}
{"pid": "P1774", "type": "P", "difficulty": 3, "samples": [["4\n2 8 0 3\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树", "树状数组", "递归", "离散化", "NOI 导刊", "排序"], "title": "最接近神的人", "background": "", "description": "破解了符文之语，小 FF 开启了通往地下的道路。当他走到最底层时，发现正前方有一扇巨石门，门上雕刻着一幅古代人进行某种活动的图案。而石门上方用古代文写着“神的殿堂”。小 FF 猜想里面应该就有王室的遗产了。但现在的问题是如何打开这扇门……。\n\n仔细研究后，他发现门上的图案大概是说：古代人认为只有智者才是最容易接近神明的。而最聪明的人往往通过一种仪式选拔出来。仪式大概是指，即将隐退的智者为他的候选人写下一串无序的数字，并让他们进行一种操作，即交换序列中相邻的两个元素。而用最少的交换次数使原序列变成不下降序列的人即是下一任智者。\n\n小 FF 发现门上同样有着 $n$ 个数字。于是他认为打开这扇门的秘诀就是找到让这个序列变成不下降序列所需要的最小次数。但小 FF 不会……只好又找到了你，并答应事成之后与你三七分……", "inputFormat": "第一行为一个整数 $n$，表示序列长度。\n\n第二行为 $n$ 个整数，表示序列中每个元素。", "outputFormat": "一个整数 $\\mathit{ans}$，即最少操作次数。\n", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据 $1≤n≤10^4$。\n- 对于 $100\\%$ 的数据 $1≤n≤5\\times 10^5$，$A_i\\in [-2^{31}, 2^{31})$。\n\n### 样例解释\n\n开始序列为 $[2,8,0,3]$，目标序列为 $[0, 2, 3, 8]$，可进行三次操作的目标序列：\n\n1. 交换 $(8,0)$，序列变成 $[2,0,8,3]$；\n2. 交换 $(2,0)$，序列变成 $[0,2,8,3]$；\n3. 交换 $(8,3)$，序列变成 $[0,2,3,8]$。\n", "locale": "zh-CN", "translations": {"en": {"title": "The Person Closest to the Gods", "background": "# Description\n\nAfter deciphering the runic language, Little FF opened a path leading underground. At the very bottom, he found a massive stone gate ahead, carved with a scene of ancient people performing some kind of activity. Above the gate, in ancient script, were the words \"Hall of the Gods.\" Little FF guessed the royal legacy must be inside. But the problem now is how to open the gate.\n\nAfter careful study, he realized the carving roughly says: the ancients believed that only the wise could most easily approach the gods. The smartest one was often chosen through a ritual. The ritual was: the retiring sage wrote an unordered sequence of numbers for his candidates and let them perform an operation—swapping two adjacent elements in the sequence. Whoever could transform the original sequence into a nondecreasing sequence with the fewest swaps would become the next sage.\n\nLittle FF also found $n$ numbers on the gate. He thus believed the secret to opening it is to find the minimum number of swaps needed to make this sequence nondecreasing. But Little FF doesn't know how... so he came to you again, promising a 30–70 split after the job is done.", "description": "", "inputFormat": "", "outputFormat": "Output a single integer $\\mathit{ans}$, the minimum number of operations.", "hint": "### Constraints\n\n- For $30\\%$ of the testdata, $1 \\le n \\le 10^4$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 5 \\times 10^5$, $A_i \\in [-2^{31}, 2^{31})$.\n\n### Sample Explanation\n\nThe initial sequence is $[2,8,0,3]$, and the target sequence is $[0, 2, 3, 8]$. One way to reach the target in three operations:\n\n1. Swap $(8,0)$, the sequence becomes $[2,0,8,3]$.\n2. Swap $(2,0)$, the sequence becomes $[0,2,8,3]$.\n3. Swap $(8,3)$, the sequence becomes $[0,2,3,8]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最接近神的人", "background": "", "description": "破解了符文之语，小 FF 开启了通往地下的道路。当他走到最底层时，发现正前方有一扇巨石门，门上雕刻着一幅古代人进行某种活动的图案。而石门上方用古代文写着“神的殿堂”。小 FF 猜想里面应该就有王室的遗产了。但现在的问题是如何打开这扇门……。\n\n仔细研究后，他发现门上的图案大概是说：古代人认为只有智者才是最容易接近神明的。而最聪明的人往往通过一种仪式选拔出来。仪式大概是指，即将隐退的智者为他的候选人写下一串无序的数字，并让他们进行一种操作，即交换序列中相邻的两个元素。而用最少的交换次数使原序列变成不下降序列的人即是下一任智者。\n\n小 FF 发现门上同样有着 $n$ 个数字。于是他认为打开这扇门的秘诀就是找到让这个序列变成不下降序列所需要的最小次数。但小 FF 不会……只好又找到了你，并答应事成之后与你三七分……", "inputFormat": "第一行为一个整数 $n$，表示序列长度。\n\n第二行为 $n$ 个整数，表示序列中每个元素。", "outputFormat": "一个整数 $\\mathit{ans}$，即最少操作次数。\n", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据 $1≤n≤10^4$。\n- 对于 $100\\%$ 的数据 $1≤n≤5\\times 10^5$，$A_i\\in [-2^{31}, 2^{31})$。\n\n### 样例解释\n\n开始序列为 $[2,8,0,3]$，目标序列为 $[0, 2, 3, 8]$，可进行三次操作的目标序列：\n\n1. 交换 $(8,0)$，序列变成 $[2,0,8,3]$；\n2. 交换 $(2,0)$，序列变成 $[0,2,8,3]$；\n3. 交换 $(8,3)$，序列变成 $[0,2,3,8]$。\n", "locale": "zh-CN"}}}
{"pid": "P1775", "type": "P", "difficulty": 3, "samples": [["4\n2 5 3 1", "22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "区间 DP"], "title": "石子合并（弱化版）", "background": "", "description": "设有 $N(N \\le 300)$ 堆石子排成一排，其编号为 $1,2,3,\\cdots,N$。每堆石子有一定的质量 $m_i\\ (m_i \\le 1000)$。现在要将这 $N$ 堆石子合并成为一堆。每次只能合并相邻的两堆，合并的代价为这两堆石子的质量之和，合并后与这两堆石子相邻的石子将和新堆相邻。合并时由于选择的顺序不同，合并的总代价也不相同。试找出一种合理的方法，使总的代价最小，并输出最小代价。", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个整数 $m_i$。", "outputFormat": "输出文件仅一个整数，也就是最小代价。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Merging Stones (Weakened Version)", "background": "", "description": "There are $N(N \\le 300)$ piles of stones in a row, numbered $1, 2, 3, \\cdots, N$. Each pile has a mass $m_i\\ (m_i \\le 1000)$. The goal is to merge these $N$ piles into one pile. Each time, you may only merge two adjacent piles, and the cost of merging is the sum of the masses of these two piles. After merging, the piles that were adjacent to the two merged piles become adjacent to the new pile. Because different merging orders lead to different total costs, find a method that minimizes the total cost, and output the minimum cost.", "inputFormat": "The first line contains an integer $N$.\nThe second line contains $N$ integers $m_i$.", "outputFormat": "Output a single integer, the minimum cost.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "石子合并（弱化版）", "background": "", "description": "设有 $N(N \\le 300)$ 堆石子排成一排，其编号为 $1,2,3,\\cdots,N$。每堆石子有一定的质量 $m_i\\ (m_i \\le 1000)$。现在要将这 $N$ 堆石子合并成为一堆。每次只能合并相邻的两堆，合并的代价为这两堆石子的质量之和，合并后与这两堆石子相邻的石子将和新堆相邻。合并时由于选择的顺序不同，合并的总代价也不相同。试找出一种合理的方法，使总的代价最小，并输出最小代价。", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个整数 $m_i$。", "outputFormat": "输出文件仅一个整数，也就是最小代价。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1776", "type": "P", "difficulty": 4, "samples": [["4 20\n3 9 3\n5 9 1\n9 4 2\n8 1 3", "47"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "单调队列", "NOI 导刊", "背包 DP", "进制"], "title": "宝物筛选", "background": null, "description": "终于，破解了千年的难题。小 FF 找到了王室的宝物室，里面堆满了无数价值连城的宝物。\n\n这下小 FF 可发财了，嘎嘎。但是这里的宝物实在是太多了，小 FF 的采集车似乎装不下那么多宝物。看来小 FF 只能含泪舍弃其中的一部分宝物了。\n\n小 FF 对洞穴里的宝物进行了整理，他发现每样宝物都有一件或者多件。他粗略估算了下每样宝物的价值，之后开始了宝物筛选工作：小 FF 有一个最大载重为 $W$ 的采集车，洞穴里总共有 $n$ 种宝物，每种宝物的价值为 $v_i$，重量为 $w_i$，每种宝物有 $m_i$ 件。小 FF 希望在采集车不超载的前提下，选择一些宝物装进采集车，使得它们的价值和最大。", "inputFormat": "第一行为两个整数 $n$ 和 $W$，分别表示宝物种数和采集车的最大载重。\n\n接下来 $n$ 行每行三个整数 $v_i,w_i,m_i$。", "outputFormat": "输出仅一个整数，表示在采集车不超载的情况下收集的宝物的最大价值。", "hint": "对于 $30\\%$ 的数据，$1 \\le m_i$，$\\sum m_i\\leq 10^4$，$0\\le W\\leq 10^3$。\n\n对于 $100\\%$ 的数据，$1 \\le m_i$，$\\sum m_i \\leq 10^5$，$0\\le W\\leq 4\\times 10^4$，$1\\leq n\\le 100$。", "locale": "zh-CN", "translations": {"en": {"title": "Treasure Selection", "background": "", "description": "At last, the millennium-old puzzle was solved. Xiao FF found the royal treasure vault, filled with countless priceless treasures.\n\nXiao FF is about to get rich. However, there are simply too many treasures, and his collection cart cannot hold them all. He has to give up some of them.\n\nXiao FF sorted the treasures in the cave and found that each type of treasure has one or more copies. He roughly estimated the value of each type and then began the selection: the collection cart has a maximum load of $W$. There are $n$ types of treasures in total. For each type, the value is $v_i$, the weight is $w_i$, and there are $m_i$ copies. Under the constraint that the cart does not exceed its load, Xiao FF wants to choose some treasures to put into the cart so that the total value is maximized.", "inputFormat": "The first line contains two integers $n$ and $W$, representing the number of types of treasures and the maximum load of the collection cart.\n\nThe next $n$ lines each contain three integers $v_i, w_i, m_i$.", "outputFormat": "Output a single integer, the maximum total value of treasures that can be collected without exceeding the cart’s load.", "hint": "For $30\\%$ of the testdata, $1 \\le m_i$，$\\sum m_i\\leq 10^4$，$0\\le W\\leq 10^3$.\n\nFor $100\\%$ of the testdata, $1 \\le m_i$，$\\sum m_i \\leq 10^5$，$0\\le W\\leq 4\\times 10^4$，$1\\leq n\\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "宝物筛选", "background": null, "description": "终于，破解了千年的难题。小 FF 找到了王室的宝物室，里面堆满了无数价值连城的宝物。\n\n这下小 FF 可发财了，嘎嘎。但是这里的宝物实在是太多了，小 FF 的采集车似乎装不下那么多宝物。看来小 FF 只能含泪舍弃其中的一部分宝物了。\n\n小 FF 对洞穴里的宝物进行了整理，他发现每样宝物都有一件或者多件。他粗略估算了下每样宝物的价值，之后开始了宝物筛选工作：小 FF 有一个最大载重为 $W$ 的采集车，洞穴里总共有 $n$ 种宝物，每种宝物的价值为 $v_i$，重量为 $w_i$，每种宝物有 $m_i$ 件。小 FF 希望在采集车不超载的前提下，选择一些宝物装进采集车，使得它们的价值和最大。", "inputFormat": "第一行为两个整数 $n$ 和 $W$，分别表示宝物种数和采集车的最大载重。\n\n接下来 $n$ 行每行三个整数 $v_i,w_i,m_i$。", "outputFormat": "输出仅一个整数，表示在采集车不超载的情况下收集的宝物的最大价值。", "hint": "对于 $30\\%$ 的数据，$1 \\le m_i$，$\\sum m_i\\leq 10^4$，$0\\le W\\leq 10^3$。\n\n对于 $100\\%$ 的数据，$1 \\le m_i$，$\\sum m_i \\leq 10^5$，$0\\le W\\leq 4\\times 10^4$，$1\\leq n\\le 100$。", "locale": "zh-CN"}}}
{"pid": "P1777", "type": "P", "difficulty": 6, "samples": [["5 2\n25 25 32 32 25\n5 1\n25 26 25 26 25\n0 0", "Case 1: 2\n\nCase 2: 3\n\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "帮助", "background": "", "description": "Bubu 的书架乱成一团了！帮他一下吧！\n\n他的书架上一共有 $n$ 本书。我们定义混乱值是连续相同高度书本的段数。例如，如果书的高度是 $[30,30,31,31,32]$，那么混乱值为 $3$；$[30,32,32,31]$ 的混乱度也是 $3$，但 $[31,32,31,32,31]$ 的混乱度是 $5$，这实在是太乱了。\n\nBubu 想尽可能地减少混乱度，但他有点累了，所以他决定最多取出 $k$ 本书，再随意将它们放到书架上。你能帮助他吗？", "inputFormat": "每个输入文件包含最多 $20$ 组测试数据。\n\n每组测试数据开头为两个整数 $n,k\\ (1 \\le k \\le n \\le 100)$，表示总共有 $n$ 本书，最多可以进行 $k$ 次搬书操作。\n\n接下来一行有 $n$ 个整数，表示每本书的高度，从左到右。每本书的高度是 $25$ 到 $32$ 间的整数。\n\n最后一组数据后有一行 $n=k=0$，表示输入结束。", "outputFormat": "对于每一组数据，输出 $\\text{Case}$ 标号和最终最小的混乱度。在每组数据后输出一个空行。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Help", "background": "", "description": "Bubu’s bookshelf is a mess! Please help him.\n\nThere are $n$ books on his shelf. We define the messiness as the number of segments of consecutive books that have the same height. For example, if the heights are [30, 30, 31, 31, 32], then the messiness is 3; [30, 32, 32, 31] also has messiness 3, but [31, 32, 31, 32, 31] has messiness 5, which is really messy.\n\nBubu wants to reduce the messiness as much as possible, but he is a bit tired, so he decides to take out at most $k$ books and then place them back on the shelf arbitrarily. Can you help him?", "inputFormat": "Each input file contains at most 20 test cases.\n\nEach test case starts with two integers $n, k$ ($1 \\le k \\le n \\le 100$), where $n$ is the number of books and at most $k$ books can be moved.\n\nThe next line contains $n$ integers, the heights of the books from left to right. Each height is an integer between 25 and 32.\n\nA line with $n = k = 0$ follows the last test case, indicating the end of input.", "outputFormat": "For each test case, output the label $\\text{Case}$ and the minimal possible messiness. Print a blank line after each test case.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "帮助", "background": "", "description": "Bubu 的书架乱成一团了！帮他一下吧！\n\n他的书架上一共有 $n$ 本书。我们定义混乱值是连续相同高度书本的段数。例如，如果书的高度是 $[30,30,31,31,32]$，那么混乱值为 $3$；$[30,32,32,31]$ 的混乱度也是 $3$，但 $[31,32,31,32,31]$ 的混乱度是 $5$，这实在是太乱了。\n\nBubu 想尽可能地减少混乱度，但他有点累了，所以他决定最多取出 $k$ 本书，再随意将它们放到书架上。你能帮助他吗？", "inputFormat": "每个输入文件包含最多 $20$ 组测试数据。\n\n每组测试数据开头为两个整数 $n,k\\ (1 \\le k \\le n \\le 100)$，表示总共有 $n$ 本书，最多可以进行 $k$ 次搬书操作。\n\n接下来一行有 $n$ 个整数，表示每本书的高度，从左到右。每本书的高度是 $25$ 到 $32$ 间的整数。\n\n最后一组数据后有一行 $n=k=0$，表示输入结束。", "outputFormat": "对于每一组数据，输出 $\\text{Case}$ 标号和最终最小的混乱度。在每组数据后输出一个空行。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1778", "type": "P", "difficulty": 5, "samples": [["5 5 2\n#####\n#A#B#\n#   #\n#b#a#\n#####\n16 4 3\n################\n## ########## ##\n#    ABCcba    #\n################\n16 16 3\n################\n### ##    #   ##\n##  #  ##   # c#\n#  ## ########b#\n# ##  # #   #  #\n#  # ##   # # ##\n##  a#  # # #  #\n### ## #### ## #\n##   #   #  #  #\n#  ##### # ## ##\n####   #B# #   #\n##  C#   #   ###\n#  # # ####### #\n# ######  A##  #\n#        #     #\n################\n0 0 0", "7\n36\n77"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "万圣节后的早晨", "background": null, "description": "要求你写一个程序，在一个地图中，找到最小步数将每个鬼移动到他们指定的位置。地图包含一些小方格。每格要么是墙（鬼不能进入），要么是走廊（鬼能进入）。\n\n每一步里，你可以同时移动任意数量的鬼。每个鬼要么待在原地不动，要么移动到相邻的格子里（相邻的格子有公共边），如果移动满足下列条件，则移动是可行的。\n\n1. 没有一个以上的鬼在同一个格子里；\n2. 没有一对鬼在一步里交换了位置。\n\n例如，假设鬼的位置是如右上图所示的，其中sharp(`#`)表示墙，空格表示走廊，`a`,`b`,`c`表示鬼：\n\n```plain\n####\n ab#\n#c##\n####\n```\n经过一步移动后，地图可以变成如下的样子：\n\n```plain\n####     ####     ####       ####\n ab#     a b#     acb#       ab #\n#c##     #c##     # ##       #c##   \n####     ####     ####       ####\n```", "inputFormat": "输入包括最多 $10$ 组数据，每组数据包含一幅地图。输入格式如下：\n\n$$\\begin{matrix}\nw & h & n \\\\\nc_{1,1} & c_{1,2} & \\cdots & c_{1,w} \\\\\nc_{2,1} & c_{2,2} & \\cdots & c_{2,w} \\\\\n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nc_{h,1} & c_{h,2} & \\cdots & c_{h,w} \\\\\n\\end{matrix}$$\n\n第一行的 $w，h$ 和 $n$ 表示地图的宽度和高度，$n$ 表示鬼的数目，他们满足 $4 \\le w \\le 16$，$4 \\le h \\le 16$，$1 \\le n \\le 3$。\n\n接下来 $h$ 行，每行 $w$ 个字符：\n\n- 一个 `#` 表示墙。\n- 一个小写字母表示鬼的初始位置（该位置也是走廊）。\n- 一个大写字母表示鬼的目标位置（该位置也是走廊）。\n- 一个空格表示空的走廊。\n\n在每幅地图里，前 $n$ 个小写字母和前 $n$ 个大写字母表示鬼的初始位置及鬼的目标位置。地图的最外层是墙壁，即地图的第一行和最后一行的所有字符都是`#`，每一行的第一个字符和最后一个字符也都是`#`。保证地图上的所有走廊都是连通的，同样所有墙壁也是连通的。地图上每个 $2 \\times 2$ 的区域都至少有一个格子为墙（`#`）。 我们需要将小写字母表示的鬼移动到对应的大写字母的位置里。\n\n最后一组数据后一行有三个 $0$。", "outputFormat": "对每组数据输出一行一个整数，表示最小的移动步数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "The Morning After Halloween", "background": "", "description": "You are asked to write a program that, on a map, finds the minimum number of steps to move each ghost to its designated position. The map consists of small cells. Each cell is either a wall (ghosts cannot enter) or a corridor (ghosts can enter).\n\nIn each step, you may move any number of ghosts simultaneously. Each ghost either stays put or moves to an adjacent cell (adjacent cells share an edge). A move is valid if it satisfies all of the following:\n\n1. No more than one ghost occupies the same cell.\n2. No pair of ghosts swaps positions in a single step.\n\nFor example, suppose the ghosts are placed as shown in the figure to the right. Here, `#` denotes a wall, a space denotes a corridor, and `a`, `b`, `c` denote ghosts:\n\n```plain\n####\n ab#\n#c##\n####\n```\nAfter one step, the map can become any of the following:\n\n```plain\n####     ####     ####       ####\n ab#     a b#     acb#       ab #\n#c##     #c##     # ##       #c##   \n####     ####     ####       ####\n```", "inputFormat": "The input contains at most $10$ test cases. Each test case describes one map in the following format:\n\n$$\\begin{matrix}\nw & h & n \\\\\nc_{1,1} & c_{1,2} & \\cdots & c_{1,w} \\\\\nc_{2,1} & c_{2,2} & \\cdots & c_{2,w} \\\\\n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nc_{h,1} & c_{h,2} & \\cdots & c_{h,w} \\\\\n\\end{matrix}$$\n\nThe first line contains $w, h$ and $n$, where $w$ and $h$ are the width and height of the map, and $n$ is the number of ghosts. They satisfy $4 \\le w \\le 16$, $4 \\le h \\le 16$, $1 \\le n \\le 3$.\n\nThe next $h$ lines each contain $w$ characters:\n- `#` denotes a wall.\n- A lowercase letter denotes a ghost’s initial position (which is also a corridor).\n- An uppercase letter denotes a ghost’s target position (which is also a corridor).\n- A space denotes an empty corridor.\n\nIn each map, the first $n$ lowercase letters and the first $n$ uppercase letters denote the ghosts’ initial positions and their target positions, respectively. The outer boundary of the map is walled: every character in the first and last rows is `#`, and the first and last character of every row is also `#`. All corridor cells are connected; likewise, all wall cells are connected. In every $2 \\times 2$ area on the map, at least one cell is a wall (`#`). We need to move each ghost denoted by a lowercase letter to the corresponding uppercase letter’s position.\n\nA line containing three zeros $0$ $0$ $0$ follows the last test case.", "outputFormat": "For each test case, output a single integer on one line: the minimum number of moves.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "万圣节后的早晨", "background": null, "description": "要求你写一个程序，在一个地图中，找到最小步数将每个鬼移动到他们指定的位置。地图包含一些小方格。每格要么是墙（鬼不能进入），要么是走廊（鬼能进入）。\n\n每一步里，你可以同时移动任意数量的鬼。每个鬼要么待在原地不动，要么移动到相邻的格子里（相邻的格子有公共边），如果移动满足下列条件，则移动是可行的。\n\n1. 没有一个以上的鬼在同一个格子里；\n2. 没有一对鬼在一步里交换了位置。\n\n例如，假设鬼的位置是如右上图所示的，其中sharp(`#`)表示墙，空格表示走廊，`a`,`b`,`c`表示鬼：\n\n```plain\n####\n ab#\n#c##\n####\n```\n经过一步移动后，地图可以变成如下的样子：\n\n```plain\n####     ####     ####       ####\n ab#     a b#     acb#       ab #\n#c##     #c##     # ##       #c##   \n####     ####     ####       ####\n```", "inputFormat": "输入包括最多 $10$ 组数据，每组数据包含一幅地图。输入格式如下：\n\n$$\\begin{matrix}\nw & h & n \\\\\nc_{1,1} & c_{1,2} & \\cdots & c_{1,w} \\\\\nc_{2,1} & c_{2,2} & \\cdots & c_{2,w} \\\\\n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nc_{h,1} & c_{h,2} & \\cdots & c_{h,w} \\\\\n\\end{matrix}$$\n\n第一行的 $w，h$ 和 $n$ 表示地图的宽度和高度，$n$ 表示鬼的数目，他们满足 $4 \\le w \\le 16$，$4 \\le h \\le 16$，$1 \\le n \\le 3$。\n\n接下来 $h$ 行，每行 $w$ 个字符：\n\n- 一个 `#` 表示墙。\n- 一个小写字母表示鬼的初始位置（该位置也是走廊）。\n- 一个大写字母表示鬼的目标位置（该位置也是走廊）。\n- 一个空格表示空的走廊。\n\n在每幅地图里，前 $n$ 个小写字母和前 $n$ 个大写字母表示鬼的初始位置及鬼的目标位置。地图的最外层是墙壁，即地图的第一行和最后一行的所有字符都是`#`，每一行的第一个字符和最后一个字符也都是`#`。保证地图上的所有走廊都是连通的，同样所有墙壁也是连通的。地图上每个 $2 \\times 2$ 的区域都至少有一个格子为墙（`#`）。 我们需要将小写字母表示的鬼移动到对应的大写字母的位置里。\n\n最后一组数据后一行有三个 $0$。", "outputFormat": "对每组数据输出一行一个整数，表示最小的移动步数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1779", "type": "P", "difficulty": 5, "samples": [["3\n8000 15000 30000\n3\nFlare 45 Single 8000\nMeteor 62 All 6000\nUltimate 80 All 9999", "232"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "魔鬼杀手", "background": "你生活在一个怪兽世界里。\n\n你需要用魔法反抗这些怪兽。", "description": "每个怪兽都有一定的生命值。\n\n你可以靠施魔法，减少怪兽的生命值。\n\n每个魔法都会有一定的伤害，表示用该魔法进行一次攻击能使得被攻击者的生命值减少的数量。\n\n一个怪兽被击败了当前仅当它的生命值小于等于 $0$。\n\n魔法是要消耗魔力的。\n\n因为你的魔力是有限的，你希望用最少的魔力击败所有的怪兽。\n\n写一个程序完成这个任务。", "inputFormat": "输入按如下的格式给出：\n\n > $N$    \n > $HP_1$    \n > $HP_2$    \n > $\\ldots$    \n > $HP_N$    \n > $M$    \n > $Name_1$  $MP_1$  $Target_1$  $Damage_1$  \n > $Name_2$  $MP_2$  $Target_2$  $Damage_2$  \n > $\\ldots$     \n > $Name_M$  $MP_M$  $Target_M$  $Damage_M$  \n\n$N$ 是怪兽的数量（$1\\le N\\le 100$）。\n\n$HP_{i}$ 表示第 $i$ 个怪兽的生命值（$1\\le HP_i\\le 10^5$）。\n\n$M$ 表示可用的魔法数量（$1\\le M\\le 100$）。\n\n$Name_j$ 是第 $j$ 种魔法的名字，最长会有 $30$ 个大写或小写字母。\n\n$MP_j$ 是这种魔法需要消耗的魔力（$0\\le MP_j<100$）。\n\n$Target_j$ 要么是 `Single`，要么是 `All`，表示该魔法只攻击单个怪兽（`Single`）或对全体怪兽同时有效（`All`）。\n\n$Damage_j$ 表示该魔法进行一次攻击能使得被攻击者的生命值减少的数量（$0\\le Damage_j<10^6$）。\n\n所有数字都是整数。\n\n最少有一种魔法的 $Damage$ 值是非零的。", "outputFormat": "输出一行，包含一个整数，表示最小需要消耗的魔力。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Demon Slayer", "background": "You live in a world of monsters.\nYou need to fight back against these monsters using magic.", "description": "Each monster has some HP.\nYou can cast spells to reduce a monster’s HP.\nEach spell has a certain damage, meaning one cast reduces the target’s HP by that amount.\nA monster is defeated if and only if its HP is less than or equal to $0$.\nCasting a spell consumes mana.\nBecause your mana is limited, you want to defeat all monsters using the minimum total mana.\nWrite a program to accomplish this task.", "inputFormat": "The input is given as follows:\n$N$\n$HP_1$\n$HP_2$\n$\\ldots$\n$HP_N$\n$M$\n$Name_1$ $MP_1$ $Target_1$ $Damage_1$\n$Name_2$ $MP_2$ $Target_2$ $Damage_2$\n$\\ldots$\n$Name_M$ $MP_M$ $Target_M$ $Damage_M$\n\n$N$ is the number of monsters ($1 \\le N \\le 100$).\n$HP_i$ is the HP of the $i$-th monster ($1 \\le HP_i \\le 10^5$).\n$M$ is the number of available spells ($1 \\le M \\le 100$).\n$Name_j$ is the name of the $j$-th spell, containing at most $30$ uppercase or lowercase letters.\n$MP_j$ is the mana cost of that spell ($0 \\le MP_j < 100$).\n$Target_j$ is either `Single` or `All`, meaning the spell either targets a single monster (`Single`) or affects all monsters simultaneously (`All`).\n$Damage_j$ is the amount by which one cast reduces each affected target’s HP ($0 \\le Damage_j < 10^6$).\nAll numbers are integers.\nAt least one spell has a nonzero $Damage$ value.", "outputFormat": "Output one line containing a single integer, the minimum total mana required.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "魔鬼杀手", "background": "你生活在一个怪兽世界里。\n\n你需要用魔法反抗这些怪兽。", "description": "每个怪兽都有一定的生命值。\n\n你可以靠施魔法，减少怪兽的生命值。\n\n每个魔法都会有一定的伤害，表示用该魔法进行一次攻击能使得被攻击者的生命值减少的数量。\n\n一个怪兽被击败了当前仅当它的生命值小于等于 $0$。\n\n魔法是要消耗魔力的。\n\n因为你的魔力是有限的，你希望用最少的魔力击败所有的怪兽。\n\n写一个程序完成这个任务。", "inputFormat": "输入按如下的格式给出：\n\n > $N$    \n > $HP_1$    \n > $HP_2$    \n > $\\ldots$    \n > $HP_N$    \n > $M$    \n > $Name_1$  $MP_1$  $Target_1$  $Damage_1$  \n > $Name_2$  $MP_2$  $Target_2$  $Damage_2$  \n > $\\ldots$     \n > $Name_M$  $MP_M$  $Target_M$  $Damage_M$  \n\n$N$ 是怪兽的数量（$1\\le N\\le 100$）。\n\n$HP_{i}$ 表示第 $i$ 个怪兽的生命值（$1\\le HP_i\\le 10^5$）。\n\n$M$ 表示可用的魔法数量（$1\\le M\\le 100$）。\n\n$Name_j$ 是第 $j$ 种魔法的名字，最长会有 $30$ 个大写或小写字母。\n\n$MP_j$ 是这种魔法需要消耗的魔力（$0\\le MP_j<100$）。\n\n$Target_j$ 要么是 `Single`，要么是 `All`，表示该魔法只攻击单个怪兽（`Single`）或对全体怪兽同时有效（`All`）。\n\n$Damage_j$ 表示该魔法进行一次攻击能使得被攻击者的生命值减少的数量（$0\\le Damage_j<10^6$）。\n\n所有数字都是整数。\n\n最少有一种魔法的 $Damage$ 值是非零的。", "outputFormat": "输出一行，包含一个整数，表示最小需要消耗的魔力。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1780", "type": "P", "difficulty": 5, "samples": [["3\nscarlet green blue yellow magenta cyan\nblue pink green magenta cyan lemon\npurple red blue yellow cyan green\n2\nred green blue yellow magenta cyan\ncyan green blue yellow magenta red\n2\nred green gray gray magenta cyan\ncyan green gray gray magenta red\n2\nred green blue yellow magenta cyan\nmagenta red blue yellow cyan green\n3\nred green blue yellow magenta cyan\ncyan green hlue yellow magenta red\nmagenta red blue yellow cyan green\n3\nblue green green green green blue\ngreen blue blue green green green\ngreen green green green green sea-green\n3\nred yellow red yellow red yellow\nred red yellow yellow red yellow\nred red red red red red\n4\nviolet violet salmon salmon salmon salmon\nviolet salmon salmon salmon salmon violet\nviolet violet salmon salmon violet violet\nviolet violet violet violet salmon salmon\n1\nred green hlue yellow magenta cyan\n4\nmagenta pink red scarlet vermilion wine-red\naquamarine blue cyan indigo sky-blue turciuoise-blue\nblond cream chrome-yellow lemon olive yellow\nchrome-green emerald-green green olive vilidian sky-blue\n0", "4\n2\n0\n0\n2\n3\n4\n4\n0\n16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "染色的立方体", "background": "", "description": "小胖最近迷上了3D物体，尤其是立方体。他手里有很多个立方体，他想让所有的立方体全都长得一样，所以他决定给某些立方体的表面重涂颜色，使得所有的立方体完全相同。但是小胖是很懒的，他想知道最少涂多少次颜色，可以让所有立方体完全相同。\n", "inputFormat": "每个测试点包含至多 $200$ 组数据。\n\n每组数据第一行 $n\\ (1≤n≤4)$，表示立方体的数量，接下来 $n$ 行，每行 $6$ 个字符串 $\\mathit{color}_1,\\allowbreak\\mathit{color}_2,\\allowbreak\\mathit{color}_3,\\allowbreak\\mathit{color}_4,\\allowbreak\\mathit{color}_5,\\allowbreak\\mathit{color}_6$，表示立方体 $6$ 个面的颜色。\n\n其中，面的标号如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xlfu6oe0.png)\n\n两个立方体被视为相同，当且仅当它们可以在某种摆放方式下，每个面的颜色都对应相同。\n\n如下图所示的两个立方体是相同的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/equmi6mp.png)\n\n如下图所示的两个立方体是不同的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jqp05oyq.png)\n\n一种涂色的方案如下：\n \n![](https://cdn.luogu.com.cn/upload/image_hosting/mewvgalo.png)\n", "outputFormat": "每组数据，输出一行一个整数，表示最少的涂色数。（涂一个面算一次涂色）\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Painting the Cubes", "background": "", "description": "Xiaopang recently got into 3D objects, especially cubes. He has many cubes and wants them all to look the same, so he decides to repaint some faces of some cubes so that all the cubes become exactly identical. However, Xiaopang is lazy and wants to know the minimum number of repaint operations needed to make all cubes identical.\n\nTwo cubes are considered identical if and only if there exists some orientation such that the colors of the corresponding faces match.\n\nThe face indices are labeled as follows:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xlfu6oe0.png)\n\nThe two cubes shown below are identical.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/equmi6mp.png)\n\nThe two cubes shown below are different.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jqp05oyq.png)\n\nAn example painting plan is shown below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mewvgalo.png)", "inputFormat": "Each test point contains at most $200$ test cases.\n\nFor each test case, the first line contains $n$ ($1 \\le n \\le 4$), the number of cubes. Then follow $n$ lines, each containing $6$ strings $\\mathit{color}_1,\\allowbreak\\mathit{color}_2,\\allowbreak\\mathit{color}_3,\\allowbreak\\mathit{color}_4,\\allowbreak\\mathit{color}_5,\\allowbreak\\mathit{color}_6$, representing the colors of the $6$ faces of a cube.", "outputFormat": "For each test case, output one integer on a single line, the minimum number of repaint operations required (painting one face counts as one repaint).", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "染色的立方体", "background": "", "description": "小胖最近迷上了3D物体，尤其是立方体。他手里有很多个立方体，他想让所有的立方体全都长得一样，所以他决定给某些立方体的表面重涂颜色，使得所有的立方体完全相同。但是小胖是很懒的，他想知道最少涂多少次颜色，可以让所有立方体完全相同。\n", "inputFormat": "每个测试点包含至多 $200$ 组数据。\n\n每组数据第一行 $n\\ (1≤n≤4)$，表示立方体的数量，接下来 $n$ 行，每行 $6$ 个字符串 $\\mathit{color}_1,\\allowbreak\\mathit{color}_2,\\allowbreak\\mathit{color}_3,\\allowbreak\\mathit{color}_4,\\allowbreak\\mathit{color}_5,\\allowbreak\\mathit{color}_6$，表示立方体 $6$ 个面的颜色。\n\n其中，面的标号如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xlfu6oe0.png)\n\n两个立方体被视为相同，当且仅当它们可以在某种摆放方式下，每个面的颜色都对应相同。\n\n如下图所示的两个立方体是相同的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/equmi6mp.png)\n\n如下图所示的两个立方体是不同的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jqp05oyq.png)\n\n一种涂色的方案如下：\n \n![](https://cdn.luogu.com.cn/upload/image_hosting/mewvgalo.png)\n", "outputFormat": "每组数据，输出一行一个整数，表示最少的涂色数。（涂一个面算一次涂色）\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1781", "type": "P", "difficulty": 2, "samples": [["5\n98765\n12365\n87954\n1022356\n985678\n", "4\n1022356"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "高精度", "洛谷原创", "排序"], "title": "宇宙总统", "background": null, "description": "地球历公元 6036 年，全宇宙准备竞选一个最贤能的人当总统，共有 $n$ 个非凡拔尖的人竞选总统，现在票数已经统计完毕，请你算出谁能够当上总统。", "inputFormat": "第一行为一个整数 $n$，代表竞选总统的人数。\n\n接下来有 $n$ 行，分别为第一个候选人到第 $n$ 个候选人的票数。", "outputFormat": "共两行，第一行是一个整数 $m$，为当上总统的人的号数。\n\n第二行是当上总统的人的票数。", "hint": "$1 \\leq n \\leq 20$。\n\n票数可能会很大，可能会到 $100$ 位数字。数据保证不存在票数相同的候选人。", "locale": "zh-CN", "translations": {"en": {"title": "President of the Universe", "background": "", "description": "In the Earth calendar year 6036 AD, the entire universe is electing the most capable person as president. There are $n$ extraordinary candidates running for president. The votes have been fully counted; please determine who becomes the president.", "inputFormat": "The first line contains an integer $n$, the number of candidates.\n\nThe next $n$ lines contain the vote counts for candidates $1$ through $n$.", "outputFormat": "Output two lines. The first line is an integer $m$, the index of the elected candidate.\n\nThe second line is the elected candidate’s vote count.", "hint": "The vote count can be very large, up to $100$ digits.\n\n$1 \\leq n \\leq 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "宇宙总统", "background": null, "description": "地球历公元 6036 年，全宇宙准备竞选一个最贤能的人当总统，共有 $n$ 个非凡拔尖的人竞选总统，现在票数已经统计完毕，请你算出谁能够当上总统。", "inputFormat": "第一行为一个整数 $n$，代表竞选总统的人数。\n\n接下来有 $n$ 行，分别为第一个候选人到第 $n$ 个候选人的票数。", "outputFormat": "共两行，第一行是一个整数 $m$，为当上总统的人的号数。\n\n第二行是当上总统的人的票数。", "hint": "$1 \\leq n \\leq 20$。\n\n票数可能会很大，可能会到 $100$ 位数字。数据保证不存在票数相同的候选人。", "locale": "zh-CN"}}}
{"pid": "P1782", "type": "P", "difficulty": 5, "samples": [["2 1 10\n1 2 3\n3 4 1\n-1 8 -16", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "背包 DP"], "title": "旅行商的背包", "background": "", "description": "小 S 坚信任何问题都可以在多项式时间内解决，于是他准备亲自去当一回旅行商。在出发之前，他购进了一些物品。这些物品共有 $n$ 种，第 $i$ 种体积为 $V_i$，价值为 $W_i$，共有 $D_i$ 件。他的背包体积是 $C$。怎样装才能获得尽量多的收益呢？作为一名大神犇，他轻而易举的解决了这个问题。  \n\n然而，就在他出发前，他又收到了一批奇货。这些货共有 $m$ 件，第 $i$ 件的价值 $Y_i$ 与分配的体积 $X_i$ 之间的关系为：$Y_i=a_iX_i^2+b_iX_i+c_i$。这是件好事，但小 S 却不知道怎么处理了，于是他找到了一位超级神犇（也就是你），请你帮他解决这个问题。", "inputFormat": "第一行三个数 $n,m,C$，如题中所述；  \n\n以下 $n$ 行，每行有三个数 $V_i,W_i,D_i$，如题中所述；  \n\n以下 $m$ 行，每行有三个数 $a_i,b_i,c_i$，如题中所述。", "outputFormat": "仅一行，为最大的价值。\n", "hint": "### 样例解释\n\n前两种物品全部选走，最后一个奇货分给 $4$ 的体积，收益为$2 \\times 3+4 \\times 1+(-1) \\times 16+8 \\times 4+(-16)=10$。\n\n### 限制与约定\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^4$，$1 \\le m \\le 5$，$1 \\le C \\le 10^4$，$\n1 \\le W_i,V_i,D_i \\le 1000$，$-1000 \\le a_i,b_i,c_i \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "The Traveling Salesman's Knapsack", "background": "", "description": "Little S firmly believes that any problem can be solved in polynomial time, so he decides to be a traveling salesman for once. Before setting off, he bought some items. There are $n$ types of items; for the $i$-th type, the volume is $V_i$, the value is $W_i$, and there are $D_i$ items available. His knapsack has a capacity of $C$. How should he pack to obtain the maximum total value? As a top guru, he solved this easily.\n\nHowever, just before departure, he received another batch of special goods. There are $m$ such goods, and for the $i$-th one, the relationship between its value $Y_i$ and the allocated volume $X_i$ is: $Y_i = a_i X_i^2 + b_i X_i + c_i$. This is good news, but Little S does not know how to handle it, so he turns to a super guru (that is, you) to help him solve this problem.", "inputFormat": "The first line contains three integers $n, m, C$, as described above.  \nThe next $n$ lines each contain three integers $V_i, W_i, D_i$, as described above.  \nThe next $m$ lines each contain three integers $a_i, b_i, c_i$, as described above.", "outputFormat": "Output a single line: the maximum value.", "hint": "Sample explanation:  \nTake all of the first two types of items. Allocate volume $4$ to the last special good. The total value is $2 \\times 3 + 4 \\times 1 + (-1) \\times 16 + 8 \\times 4 + (-16) = 10$.\n\nConstraints and Notes  \nFor $100\\%$ of the testdata, $1 \\le n \\le 10^4$, $1 \\le m \\le 5$, $1 \\le C \\le 10^4$, $1 \\le W_i, V_i, D_i \\le 1000$, $-1000 \\le a_i, b_i, c_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "旅行商的背包", "background": "", "description": "小 S 坚信任何问题都可以在多项式时间内解决，于是他准备亲自去当一回旅行商。在出发之前，他购进了一些物品。这些物品共有 $n$ 种，第 $i$ 种体积为 $V_i$，价值为 $W_i$，共有 $D_i$ 件。他的背包体积是 $C$。怎样装才能获得尽量多的收益呢？作为一名大神犇，他轻而易举的解决了这个问题。  \n\n然而，就在他出发前，他又收到了一批奇货。这些货共有 $m$ 件，第 $i$ 件的价值 $Y_i$ 与分配的体积 $X_i$ 之间的关系为：$Y_i=a_iX_i^2+b_iX_i+c_i$。这是件好事，但小 S 却不知道怎么处理了，于是他找到了一位超级神犇（也就是你），请你帮他解决这个问题。", "inputFormat": "第一行三个数 $n,m,C$，如题中所述；  \n\n以下 $n$ 行，每行有三个数 $V_i,W_i,D_i$，如题中所述；  \n\n以下 $m$ 行，每行有三个数 $a_i,b_i,c_i$，如题中所述。", "outputFormat": "仅一行，为最大的价值。\n", "hint": "### 样例解释\n\n前两种物品全部选走，最后一个奇货分给 $4$ 的体积，收益为$2 \\times 3+4 \\times 1+(-1) \\times 16+8 \\times 4+(-16)=10$。\n\n### 限制与约定\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^4$，$1 \\le m \\le 5$，$1 \\le C \\le 10^4$，$\n1 \\le W_i,V_i,D_i \\le 1000$，$-1000 \\le a_i,b_i,c_i \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1783", "type": "P", "difficulty": 5, "samples": [["5 5\n1 5\n3 5\n5 5\n4 30\n2 15", "1.00"], ["100 2\n30 50\n90 100", "39.05"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "二分", "并查集", "最短路", "生成树"], "title": "海滩防御", "background": "", "description": "WLP 同学最近迷上了一款网络联机对战游戏（终于知道为毛 JOHNKRAM 每天刷洛谷效率那么低了），但是他却为了这个游戏很苦恼，因为他在海边的造船厂和仓库总是被敌方派人偷袭。于是，WLP 动用了他那丰满且充实的大脑（或许更偏向前者），想出了一个好主意，他把海滩分成垂直于海岸线的若干列，在其中的几列上放置几个信号塔，试图来监视整个海滩。然而，WLP 是一个非常心急的人，他把信号塔建好后才发现还需给信号塔供能，它们才能投入使用（这不是废话么），它们都有一个工作半径，一个圆形区域里的所有敌人都逃不过它们的监视，不过，WLP 发现，敌人们非常狡猾，除非他将道路完全封死，否则 WLP 的敌人可以走过一条任意弯曲的路（不一定走整点，但是不会出第 $0$ 列和第 $N$ 列构成的边界）来偷他的东西。\n\n于是，WLP 就思考了：到底需要给每个信号塔多大的工作半径，才能将从海滩到内地的路径完全封死呢？他再次动用了他那丰满且充实的大脑，想了一堂数学课，终于，还是没想出来。于是，他向 LZZ 神犇求助（额…… CSUNSHINE 的身份是不是暴露了）。\n\n终于，在 WLP：“ %^!\\*@#!\\*(\\*^!\\*#@\\$^&（此处省略无数卖萌场景）”的哀求下，LZZ 神犇写了一个程序，在一秒内就解决了问题。但是，邪恶的 LZZ 神犇决定要将这个难题共享给无数无辜的 OIer，所以，现在轮到你了。", "inputFormat": "第一行两个整数 $N$ 和 $M$，表示海滩被 WLP 分成的列数 $0,1,2,\\cdots,N$ 和信号塔个数。\n\n第 $2$ 至第 $M+1$ 行，每行两个数 $X_i$，$Y_i$ 表示 $1,2,3,\\cdots,M$ 号信号塔所在的列数和离开海滩的距离。", "outputFormat": "一行一个实数，表示最小的工作半径，保留两位小数。\n", "hint": "### 数据范围及约定\n\n- 对于 $10\\%$ 的数据：$1 \\le M \\le 10$，$1 \\le Y_i \\le 100$；\n- 对于 $30\\%$ 的数据：$1 \\le M \\le 50$，$1 \\le Y_i \\le 1,000$；\n- 对于 $80\\%$ 的数据：$1 \\le M \\le 500$，$1 \\le Y_i \\le 1,000$；\n- 对于 $100\\%$ 的数据：$1 \\le M \\le 800$，$1 \\le N \\le 1000$，$1 \\le X_i \\le N$，$1 \\le Y_i \\le 100,000$。\n\n### 提示\n\n注意，封锁海滩是指，敌人的深入程度是有限制的，若敌人绕过了所有的信号塔，并且可以长驱直入，那么就说明道路没有完全封锁。", "locale": "zh-CN", "translations": {"en": {"title": "Beach Defense", "background": "", "description": "Student WLP has recently become obsessed with an online multiplayer battle game (now he finally knows why JOHNKRAM’s daily Luogu grinding efficiency is so low), but he is troubled by the game, because his shipyard and warehouse by the sea are always raided by enemies. So WLP used his full and substantial brain (perhaps more of the former) and came up with a good idea: he divided the beach into several columns perpendicular to the coastline, and placed several signal towers on some of these columns, trying to monitor the entire beach. However, WLP is very impatient. After building the signal towers, he realized he still needed to power them for them to work (well, duh). Each tower has a working radius, and all enemies within a circular area cannot escape its surveillance. However, WLP found that the enemies are very cunning: unless he completely seals off the route, his enemies can take an arbitrarily curved path (not necessarily through integer points, but they will not leave the boundary formed by column $0$ and column $N$) to steal his stuff.\n\nSo WLP started thinking: what working radius should he give to each signal tower in order to completely block all paths from the beach to the inland? He once again used his full and substantial brain, thought for a math class, and still didn’t figure it out. Therefore, he asked the “shen-niao” LZZ for help (uh... did this expose CSUNSHINE’s identity?).\n\nFinally, after WLP’s pleading: “ %^!\\*@#!\\*(\\*^!\\*#@\\$^& (countless cute scenes omitted here)”, the mighty LZZ wrote a program and solved the problem within one second. But the evil LZZ decided to share this tough problem with countless innocent OIers, so now it’s your turn.", "inputFormat": "The first line contains two integers $N$ and $M$, representing the columns $0,1,2,\\cdots,N$ into which WLP divided the beach, and the number of signal towers.\n\nLines $2$ to $M+1$: each line contains two numbers $X_i$, $Y_i$, indicating the column index and the distance from the beach of the $i$-th ($1,2,3,\\cdots,M$) signal tower.", "outputFormat": "Output one real number: the minimal working radius, rounded to two decimal places.", "hint": "- Constraints and Conventions\n  - For $10\\%$ of the testdata: $1 \\le M \\le 10$, $1 \\le Y_i \\le 100$.\n  - For $30\\%$ of the testdata: $1 \\le M \\le 50$, $1 \\le Y_i \\le 1,000$.\n  - For $80\\%$ of the testdata: $1 \\le M \\le 500$, $1 \\le Y_i \\le 1,000$.\n  - For $100\\%$ of the testdata: $1 \\le M \\le 800$, $1 \\le N \\le 1000$, $1 \\le X_i \\le N$, $1 \\le Y_i \\le 100,000$.\n\n- Note  \n  “Blocking the beach” means that the enemy’s penetration depth is bounded. If the enemy can bypass all the signal towers and then advance indefinitely inland, the route is not completely blocked.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "海滩防御", "background": "", "description": "WLP 同学最近迷上了一款网络联机对战游戏（终于知道为毛 JOHNKRAM 每天刷洛谷效率那么低了），但是他却为了这个游戏很苦恼，因为他在海边的造船厂和仓库总是被敌方派人偷袭。于是，WLP 动用了他那丰满且充实的大脑（或许更偏向前者），想出了一个好主意，他把海滩分成垂直于海岸线的若干列，在其中的几列上放置几个信号塔，试图来监视整个海滩。然而，WLP 是一个非常心急的人，他把信号塔建好后才发现还需给信号塔供能，它们才能投入使用（这不是废话么），它们都有一个工作半径，一个圆形区域里的所有敌人都逃不过它们的监视，不过，WLP 发现，敌人们非常狡猾，除非他将道路完全封死，否则 WLP 的敌人可以走过一条任意弯曲的路（不一定走整点，但是不会出第 $0$ 列和第 $N$ 列构成的边界）来偷他的东西。\n\n于是，WLP 就思考了：到底需要给每个信号塔多大的工作半径，才能将从海滩到内地的路径完全封死呢？他再次动用了他那丰满且充实的大脑，想了一堂数学课，终于，还是没想出来。于是，他向 LZZ 神犇求助（额…… CSUNSHINE 的身份是不是暴露了）。\n\n终于，在 WLP：“ %^!\\*@#!\\*(\\*^!\\*#@\\$^&（此处省略无数卖萌场景）”的哀求下，LZZ 神犇写了一个程序，在一秒内就解决了问题。但是，邪恶的 LZZ 神犇决定要将这个难题共享给无数无辜的 OIer，所以，现在轮到你了。", "inputFormat": "第一行两个整数 $N$ 和 $M$，表示海滩被 WLP 分成的列数 $0,1,2,\\cdots,N$ 和信号塔个数。\n\n第 $2$ 至第 $M+1$ 行，每行两个数 $X_i$，$Y_i$ 表示 $1,2,3,\\cdots,M$ 号信号塔所在的列数和离开海滩的距离。", "outputFormat": "一行一个实数，表示最小的工作半径，保留两位小数。\n", "hint": "### 数据范围及约定\n\n- 对于 $10\\%$ 的数据：$1 \\le M \\le 10$，$1 \\le Y_i \\le 100$；\n- 对于 $30\\%$ 的数据：$1 \\le M \\le 50$，$1 \\le Y_i \\le 1,000$；\n- 对于 $80\\%$ 的数据：$1 \\le M \\le 500$，$1 \\le Y_i \\le 1,000$；\n- 对于 $100\\%$ 的数据：$1 \\le M \\le 800$，$1 \\le N \\le 1000$，$1 \\le X_i \\le N$，$1 \\le Y_i \\le 100,000$。\n\n### 提示\n\n注意，封锁海滩是指，敌人的深入程度是有限制的，若敌人绕过了所有的信号塔，并且可以长驱直入，那么就说明道路没有完全封锁。", "locale": "zh-CN"}}}
{"pid": "P1784", "type": "P", "difficulty": 3, "samples": [["8 0 0 0 0 0 0 0 0 \n0 0 3 6 0 0 0 0 0 \n0 7 0 0 9 0 2 0 0 \n0 5 0 0 0 7 0 0 0 \n0 0 0 0 4 5 7 0 0 \n0 0 0 1 0 0 0 3 0 \n0 0 1 0 0 0 0 6 8 \n0 0 8 5 0 0 0 1 0 \n0 9 0 0 0 0 4 0 0", "8 1 2 7 5 3 6 4 9 \n9 4 3 6 8 2 1 7 5 \n6 7 5 4 9 1 2 8 3 \n1 5 4 2 3 7 8 9 6 \n3 6 9 8 4 5 7 2 1 \n2 8 7 1 6 9 5 3 4 \n5 2 1 9 7 4 3 6 8 \n4 3 8 5 2 6 9 1 7 \n7 9 6 3 1 8 4 5 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 5000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["搜索", "Dancing Links"], "title": "数独", "background": null, "description": "数独是根据 $9 \\times 9$ 盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个粗线宫内的数字均含 $1 - 9$ ，不重复。每一道合格的数独谜题都有且仅有唯一答案，推理方法也以此为基础，任何无解或多解的题目都是不合格的。\n\n芬兰一位数学家号称设计出全球最难的“数独游戏”，并刊登在报纸上，让大家去挑战。\n\n这位数学家说，他相信只有“智慧最顶尖”的人才有可能破解这个“数独之谜”。\n\n据介绍，目前数独游戏的难度的等级有一到五级，一是入门等级，五则比较难。不过这位数学家说，他所设计的数独游戏难度等级是十一，可以说是所有数独游戏中，难度最高的等级。他还表示，他目前还没遇到解不出来的数独游戏，因此他认为“最具挑战性”的数独游戏并没有出现。", "inputFormat": "一个未填的数独。", "outputFormat": "填好的数独。", "hint": "2022-04-17 @farteryhr 贡献了三组 hack 数据。加入了其中两组。第三组过强（来源：<https://www.dcc.fc.up.pt/~acm/sudoku.pdf>），放在下边供自测。\n\n```\n9 0 0 8 0 0 0 0 0\n0 0 0 0 0 0 5 0 0 \n0 0 0 0 0 0 0 0 0 \n0 2 0 0 1 0 0 0 3\n0 1 0 0 0 0 0 6 0\n0 0 0 4 0 0 0 7 0\n7 0 8 6 0 0 0 0 0 \n0 0 0 0 3 0 1 0 0 \n4 0 0 0 0 0 2 0 0 \n```\n\n输出\n\n```\n9 7 2 8 5 3 6 1 4 \n1 4 6 2 7 9 5 3 8 \n5 8 3 1 4 6 7 2 9 \n6 2 4 7 1 8 9 5 3 \n8 1 7 3 9 5 4 6 2 \n3 5 9 4 6 2 8 7 1 \n7 9 8 6 2 1 3 4 5 \n2 6 5 9 3 4 1 8 7 \n4 3 1 5 8 7 2 9 6 \n```", "locale": "zh-CN", "translations": {"en": {"title": "Sudoku", "background": "", "description": "Sudoku is to infer the numbers for all remaining empty cells on a $9 \\times 9$ board from the given numbers, such that every row, every column, and each $3 \\times 3$ box contains the digits $1 - 9$ without repetition. Every valid Sudoku puzzle has exactly one solution; solving methods are based on this. Any puzzle with no solution or multiple solutions is invalid.\n\nA mathematician from Finland claimed to have designed the world’s hardest \"Sudoku game\" and published it in a newspaper for everyone to challenge.\n\nHe said he believes only people with \"the very top intelligence\" might be able to crack this \"Sudoku mystery.\"\n\nIt is said that the difficulty of Sudoku is usually graded from one to five, where one is beginner level and five is relatively difficult. However, this mathematician said the difficulty level of his design is eleven, which can be called the highest level among all Sudoku games. He also said that he has not yet encountered a Sudoku he could not solve, so he believes the \"most challenging\" Sudoku has not yet appeared.", "inputFormat": "An unsolved Sudoku: a $9 \\times 9$ grid where $0$ denotes an empty cell and $1$–$9$ are given digits. The numbers are separated by single spaces, one row per line.", "outputFormat": "The completed Sudoku, in the same format.", "hint": "On 2022-04-17, @farteryhr contributed three sets of hack testdata. Two were added. The third is too strong (source: <https://www.dcc.fc.up.pt/~acm/sudoku.pdf>), and is provided below for self-testing.\n\n```\n9 0 0 8 0 0 0 0 0\n0 0 0 0 0 0 5 0 0 \n0 0 0 0 0 0 0 0 0 \n0 2 0 0 1 0 0 0 3\n0 1 0 0 0 0 0 6 0\n0 0 0 4 0 0 0 7 0\n7 0 8 6 0 0 0 0 0 \n0 0 0 0 3 0 1 0 0 \n4 0 0 0 0 0 2 0 0 \n```\n\nOutput\n\n```\n9 7 2 8 5 3 6 1 4 \n1 4 6 2 7 9 5 3 8 \n5 8 3 1 4 6 7 2 9 \n6 2 4 7 1 8 9 5 3 \n8 1 7 3 9 5 4 6 2 \n3 5 9 4 6 2 8 7 1 \n7 9 8 6 2 1 3 4 5 \n2 6 5 9 3 4 1 8 7 \n4 3 1 5 8 7 2 9 6 \n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数独", "background": null, "description": "数独是根据 $9 \\times 9$ 盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个粗线宫内的数字均含 $1 - 9$ ，不重复。每一道合格的数独谜题都有且仅有唯一答案，推理方法也以此为基础，任何无解或多解的题目都是不合格的。\n\n芬兰一位数学家号称设计出全球最难的“数独游戏”，并刊登在报纸上，让大家去挑战。\n\n这位数学家说，他相信只有“智慧最顶尖”的人才有可能破解这个“数独之谜”。\n\n据介绍，目前数独游戏的难度的等级有一到五级，一是入门等级，五则比较难。不过这位数学家说，他所设计的数独游戏难度等级是十一，可以说是所有数独游戏中，难度最高的等级。他还表示，他目前还没遇到解不出来的数独游戏，因此他认为“最具挑战性”的数独游戏并没有出现。", "inputFormat": "一个未填的数独。", "outputFormat": "填好的数独。", "hint": "2022-04-17 @farteryhr 贡献了三组 hack 数据。加入了其中两组。第三组过强（来源：<https://www.dcc.fc.up.pt/~acm/sudoku.pdf>），放在下边供自测。\n\n```\n9 0 0 8 0 0 0 0 0\n0 0 0 0 0 0 5 0 0 \n0 0 0 0 0 0 0 0 0 \n0 2 0 0 1 0 0 0 3\n0 1 0 0 0 0 0 6 0\n0 0 0 4 0 0 0 7 0\n7 0 8 6 0 0 0 0 0 \n0 0 0 0 3 0 1 0 0 \n4 0 0 0 0 0 2 0 0 \n```\n\n输出\n\n```\n9 7 2 8 5 3 6 1 4 \n1 4 6 2 7 9 5 3 8 \n5 8 3 1 4 6 7 2 9 \n6 2 4 7 1 8 9 5 3 \n8 1 7 3 9 5 4 6 2 \n3 5 9 4 6 2 8 7 1 \n7 9 8 6 2 1 3 4 5 \n2 6 5 9 3 4 1 8 7 \n4 3 1 5 8 7 2 9 6 \n```", "locale": "zh-CN"}}}
{"pid": "P1785", "type": "P", "difficulty": 2, "samples": [["392 4 343", "Yes\nEh..\nOK"], ["392 1 101", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "漂亮的绝杀", "background": "话说 absi2011 的企鹅在和斗神塔第 $60$ 层的 Boss 战斗。\n\n不好，这局要输了，企鹅还剩 $4$ 血了 Boss 还有 $392$ 呢，哇，漂亮——红缨枪连击，$280$，$343$（暴击），绝杀！嗜血（$4$ 星，嗜血 $50\\%$），完胜（absi2011 的 $60$ 级企鹅贫血，就 $315$，玩过乐斗的别黑）！", "description": "\n别说这是个巧合，这类绝杀还真不少。\n\n现在假设 Boss 还剩下的血为 $x$，absi2011 的企鹅剩 $y$ 血，它拿出的武器的伤害最高是 $z$。它的武器有几率连击。\n\n他问你有无可能绝杀（可连击）。如果能，请先输出一行 `Yes`，否则输出 `No`。如果他给你的数据是错的，请输出 `Wrong Data`。\n\n数据有这么几种情况算错：$y\\leq 0$ 或 $y>315$ 或 $y\\geq x$ 或    $x>1800$（当前斗神塔 Boss 好像没有超过 $1800$ 血的）或 $z\\geq 1000$（红缨枪+天马流星拳+会心一击+残影+武器好手好像都达不到）或 $z\\leq 100$（absi2011 认为小于等于 $100$ 就不算绝杀了）。\n\n（输出 `Yes` 后）接下来，他还想问绝杀（就算最高伤害后）如果触发他的 $3$ 星嗜血 / $4$ 星嗜血 / $5$ 星吸星大法各能不能完胜。三星每次的嗜血嗜血量为 $33\\%\\times$ 伤害（下取整），四星每次的嗜血嗜血量为 $50\\%\\times$ 伤害（下取整），五星吸星大法嗜血量为 $100\\%\\times$ 伤害（这还真不用下取整）。两次要分开算。如果超过血上限就不再回血了。\n\n如果三星能就输出一行 `Great`，四星能就输出一行 `Eh..` 和一行 `OK`，五星能就输出两行 `Oh..` 和一行 `Yes , If he can get 5-star.`。\n\n如果都不行，那么输出三行 `No` 和他 $4$ 星嗜血后的血量。\n\n注意，有可能打一下 Boss 就死了，那么不能连击嗜血了。只能算打死 Boss 那下的嗜血。\n\nBoss 死掉当且仅当 Boss 血 $\\leq 0$（其实 $<0$ 会自动当成 $0$）。", "inputFormat": "\n一行三个整数，$x,y,z$。", "outputFormat": "\n如题目描述。", "hint": "### 提示\n\nBoss 死掉当且仅当 Boss 血 $ \\le 0$（其实 $<0$ 会自动当成 $=0$）\n\n### 数据规模\n\n对于 $30\\%$ 的数据，保证结果为 `Wrong Data` 或 `No` 或 `Yes`（回车）`Great`。\n\n对于另外 $30\\%$ 的数据，保证结果不为 `Wrong Data`。\n\n对于 $100\\%$ 的数据，保证 $-10000\\leq x\\leq 10000,-10000\\leq y\\leq 10000,-10000\\leq z\\leq 10000$，即使 `Wrong Data` 了\n\n### 题目来源\n\nfight.pet.qq.com\n\n\nabsi2011 授权原创题目。\n", "locale": "zh-CN", "translations": {"en": {"title": "A Brilliant Finisher", "background": "It is said that absi2011's penguin is fighting the Boss on floor $60$ of the Tower of the God of War.\n\nOh no, this round is going to be lost: the penguin has $4$ HP left while the Boss still has $392$. Wow, beautiful—Red Tassel Spear combo, $280$, $343$ (critical hit), finisher! Lifesteal ($4$ stars, $50\\%$ lifesteal), perfect victory (absi2011's level $60$ penguin has low max HP, only $315$. Those who have played Le Dou, don't mock it).", "description": "", "inputFormat": "", "outputFormat": "As described above:\n- If the data are wrong, print `Wrong Data`.\n- Otherwise, if a finisher is not possible, print `No`.\n- Otherwise, print `Yes`, then continue with the required lines for $3$-star / $4$-star / $5$-star as specified in the problem description.", "hint": "- Notes:\n  - The Boss dies if and only if the Boss’s HP $ \\le 0$ (in fact, if it becomes $<0$, it is automatically treated as $=0$).\n  - It is possible that the Boss dies in one hit; then the combo cannot continue, and only the lifesteal from the killing blow is counted.\n  - Max HP is $315$.\n\n- Constraints:\n  - For $30\\%$ of the testdata, it is guaranteed that the result is `Wrong Data` or `No` or `Yes` (newline) `Great`.\n  - For another $30\\%$ of the testdata, it is guaranteed that the result is not `Wrong Data`.\n  - For $100\\%$ of the testdata, it is guaranteed that $-10000\\leq x\\leq 10000$, $-10000\\leq y\\leq 10000$, $-10000\\leq z\\leq 10000$, even if it is `Wrong Data`.\n\n- Source:\n  - fight.pet.qq.com\n  - Original problem authorized by absi2011.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "漂亮的绝杀", "background": "话说 absi2011 的企鹅在和斗神塔第 $60$ 层的 Boss 战斗。\n\n不好，这局要输了，企鹅还剩 $4$ 血了 Boss 还有 $392$ 呢，哇，漂亮——红缨枪连击，$280$，$343$（暴击），绝杀！嗜血（$4$ 星，嗜血 $50\\%$），完胜（absi2011 的 $60$ 级企鹅贫血，就 $315$，玩过乐斗的别黑）！", "description": "\n别说这是个巧合，这类绝杀还真不少。\n\n现在假设 Boss 还剩下的血为 $x$，absi2011 的企鹅剩 $y$ 血，它拿出的武器的伤害最高是 $z$。它的武器有几率连击。\n\n他问你有无可能绝杀（可连击）。如果能，请先输出一行 `Yes`，否则输出 `No`。如果他给你的数据是错的，请输出 `Wrong Data`。\n\n数据有这么几种情况算错：$y\\leq 0$ 或 $y>315$ 或 $y\\geq x$ 或    $x>1800$（当前斗神塔 Boss 好像没有超过 $1800$ 血的）或 $z\\geq 1000$（红缨枪+天马流星拳+会心一击+残影+武器好手好像都达不到）或 $z\\leq 100$（absi2011 认为小于等于 $100$ 就不算绝杀了）。\n\n（输出 `Yes` 后）接下来，他还想问绝杀（就算最高伤害后）如果触发他的 $3$ 星嗜血 / $4$ 星嗜血 / $5$ 星吸星大法各能不能完胜。三星每次的嗜血嗜血量为 $33\\%\\times$ 伤害（下取整），四星每次的嗜血嗜血量为 $50\\%\\times$ 伤害（下取整），五星吸星大法嗜血量为 $100\\%\\times$ 伤害（这还真不用下取整）。两次要分开算。如果超过血上限就不再回血了。\n\n如果三星能就输出一行 `Great`，四星能就输出一行 `Eh..` 和一行 `OK`，五星能就输出两行 `Oh..` 和一行 `Yes , If he can get 5-star.`。\n\n如果都不行，那么输出三行 `No` 和他 $4$ 星嗜血后的血量。\n\n注意，有可能打一下 Boss 就死了，那么不能连击嗜血了。只能算打死 Boss 那下的嗜血。\n\nBoss 死掉当且仅当 Boss 血 $\\leq 0$（其实 $<0$ 会自动当成 $0$）。", "inputFormat": "\n一行三个整数，$x,y,z$。", "outputFormat": "\n如题目描述。", "hint": "### 提示\n\nBoss 死掉当且仅当 Boss 血 $ \\le 0$（其实 $<0$ 会自动当成 $=0$）\n\n### 数据规模\n\n对于 $30\\%$ 的数据，保证结果为 `Wrong Data` 或 `No` 或 `Yes`（回车）`Great`。\n\n对于另外 $30\\%$ 的数据，保证结果不为 `Wrong Data`。\n\n对于 $100\\%$ 的数据，保证 $-10000\\leq x\\leq 10000,-10000\\leq y\\leq 10000,-10000\\leq z\\leq 10000$，即使 `Wrong Data` 了\n\n### 题目来源\n\nfight.pet.qq.com\n\n\nabsi2011 授权原创题目。\n", "locale": "zh-CN"}}}
{"pid": "P1786", "type": "P", "difficulty": 3, "samples": [["9\r\nDrangonflyKang BangZhu 100000 66\r\nRenZaiJiangHu FuBangZhu 80000 60\r\nabsi2011 FuBangZhu 90000 60\r\nBingQiLingDeYanLei HuFa 89000 58\r\nLcey HuFa 30000 49\r\nBangYou3 ZhangLao 1000 1\r\nBangYou1 TangZhu 100 40\r\nBangYou2 JingYing 40000 10\r\nBangYou4 BangZhong 400 1", "DrangonflyKang BangZhu 66\r\nRenZaiJiangHu FuBangZhu 60\r\nabsi2011 FuBangZhu 60\r\nBingQiLingDeYanLei HuFa 58\r\nBangYou2 HuFa 10\r\nLcey ZhangLao 49\r\nBangYou1 ZhangLao 40\r\nBangYou3 ZhangLao 1\r\nBangYou4 ZhangLao 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "排序"], "title": "帮贡排序", "background": "> 帮派名号：星月家园\n> \n> 帮主尊号：Dragonfly Kang\n> \n> 帮派 ID：2685023\n> \n> 帮派等级：4\n> \n> 帮派人数：101/110\n> \n> 帮派技能：（？）\n\n“星月家园”资料，欢迎各位豆友加入 ^\\_^\n\n---\n\n在 absi2011 的帮派里，死号偏多。现在 absi2011 和帮主等人联合决定，要清除一些死号，加进一些新号，同时还要鼓励帮贡多的人，对帮派进行一番休整。", "description": "目前帮派内共最多有：\n\n- $1$ 位帮主（$\\texttt{BangZhu}$）\n- $2$ 位副帮主（$\\texttt{FuBangZhu}$）\n- $2$ 位护法（$\\texttt{HuFa}$）\n- $4$ 位长老（$\\texttt{ZhangLao}$）\n- $7$ 位堂主（$\\texttt{TangZhu}$）\n- $25$ 名精英（$\\texttt{JingYing}$）\n- 若干（数量不限）帮众（$\\texttt{BangZhong}$）\n\n保证以上职位是从高到低排列的。\n\n现在 absi2011 要对帮派内几乎所有人的职位全部调整一番。他发现这是个很难的事情。于是要求你帮他调整。\n\n他给你每个人的以下数据：\n\n- 名字\n- 原来职位\n- 帮贡\n- 等级\n\n他要按照以下关键字给帮派内的人（帮主、副帮主除外）按以下关键字排序：\n\n- 帮贡（从高到低）第一关键字\n- 在输入中出现的顺序（从前到后）第二关键字\n\n然后更新这些人的职位：\n\n- 第 $1 \\sim 2$ 名：护法\n- 第 $3 \\sim 6$ 名：长老\n- 第 $7 \\sim 13$ 名：堂主\n- 第 $14 \\sim 38$ 名：精英\n- 第 $39 \\sim (n-3)$ 名：帮众\n\n可是，乐斗的显示并不按帮贡排序而按职位和等级排序。\n\n他要你按照以下关键字排序并求出最后乐斗显示的列表（在他调整过职位后）：\n\n- 职位（从高到低）第一关键字\n- 等级（从高到低）第二关键字\n- 在输入中出现的顺序（从前到后）第三关键字\n\n注意：absi2011 无权调整帮主、副帮主的职位，包括他自己的。", "inputFormat": "第一行一个正整数 $n$，表示星月家园内帮友的人数。\n\n下面 $n$ 行每行两个字符串两个整数，表示每个人的名字、职位、帮贡、等级。", "outputFormat": "一共输出 $n$ 行，每行包括排序后乐斗显示的名字、职位、等级。", "hint": "对于 $10\\%$ 的数据，保证 $n=3$。\n\n对于 $40\\%$ 的数据，保证各个人的帮贡均为 $0$。\n\n对于 $100\\%$ 的数据，保证：\n\n- $3\\leq n\\leq 110$\n- $1\\leq$ 名字长度 $\\leq30$\n- 所有名字两两不同\n- 名字只包含 ASCII 可见字符\n- $0\\leq$ 各个人的帮贡 $\\leq10^9$\n- $1\\leq$ 各个人等级 $\\leq 150$\n- 职位必定为以下七个中的一个：\n  - $\\texttt{BangZhu}$\n  - $\\texttt{FuBangZhu}$\n  - $\\texttt{HuFa}$\n  - $\\texttt{ZhangLao}$\n  - $\\texttt{TangZhu}$\n  - $\\texttt{JingYing}$\n  - $\\texttt{BangZhong}$\n- 初始时帮派内最多有：\n  - $1$ 位帮主\n  - $2$ 位副帮主\n  - $2$ 位护法\n  - $4$ 位长老\n  - $7$ 位堂主\n  - $25$ 名精英\n- 恰好有一名帮主\n- 恰好有两名副帮主\n- 恰好有一名副帮主叫 absi2011\n\n【题目来源】\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN", "translations": {"en": {"title": "Contribution Sorting", "background": "> Guild name: Xingyue Homeland.\n> \n> Guild leader’s honorific: Dragonfly Kang.\n> \n> Guild ID: 2685023.\n> \n> Guild level: 4.\n> \n> Guild members: 101/110.\n> \n> Guild skills: (?).\n\nProfile of “Xingyue Homeland.” All friends are welcome to join ^\\_^.\n\n---\n\nThere are many inactive accounts in absi2011’s guild. Now absi2011 and the guild leader have decided to remove some inactive accounts, add some new members, and also encourage members with high contribution, giving the guild a thorough reorganization.\n\nSource: fight.pet.qq.com. Problem authorized by absi2011.", "description": "At present, the guild can have at most:\n- $1$ guild leader ($\\texttt{BangZhu}$).\n- $2$ vice leaders ($\\texttt{FuBangZhu}$).\n- $2$ guardians ($\\texttt{HuFa}$).\n- $4$ elders ($\\texttt{ZhangLao}$).\n- $7$ hall masters ($\\texttt{TangZhu}$).\n- $25$ elites ($\\texttt{JingYing}$).\n- Any number of regular members ($\\texttt{BangZhong}$).\n\nThe above positions are listed from highest to lowest.\n\nNow absi2011 is going to adjust almost everyone’s position in the guild. He finds this difficult, so he asks you to help.\n\nHe gives you, for each person:\n- Name.\n- Original position.\n- Contribution.\n- Level.\n\nHe wants to sort everyone in the guild except the guild leader and vice leaders by the following keys:\n- Contribution (descending), primary key.\n- Order of appearance in the input (from earlier to later), secondary key.\n\nThen update these people’s positions as follows:\n- Ranks $1$ to $2$: $\\texttt{HuFa}$.\n- Ranks $3$ to $6$: $\\texttt{ZhangLao}$.\n- Ranks $7$ to $13$: $\\texttt{TangZhu}$.\n- Ranks $14$ to $38$: $\\texttt{JingYing}$.\n- Ranks $39$ to $(n-3)$: $\\texttt{BangZhong}$.\n\nHowever, the “Le Dou” display does not sort by contribution, but by position and level.\n\nAfter updating positions, output the final list as “Le Dou” would display it, sorted by:\n- Position (descending), primary key.\n- Level (descending), secondary key.\n- Order of appearance in the input (from earlier to later), tertiary key.\n\nNote: absi2011 has no authority to adjust the positions of the guild leader or the vice leaders, including his own.", "inputFormat": "The first line contains a positive integer $n$, the number of members in Xingyue Homeland.\n\nEach of the next $n$ lines contains two strings and two integers: name, position, contribution, and level.", "outputFormat": "Output $n$ lines. Each line contains the name, position, and level in the order “Le Dou” displays after the adjustments.", "hint": "For $10\\%$ of the testdata, $n=3$.\n\nFor $40\\%$ of the testdata, all contributions are $0$.\n\nFor $100\\%$ of the testdata, it is guaranteed that:\n- $3 \\leq n \\leq 110$.\n- $1 \\leq$ name length $\\leq 30$.\n- All names are pairwise distinct.\n- Names contain only visible ASCII characters.\n- $0 \\leq$ contribution of each person $\\leq 10^9$.\n- $1 \\leq$ level of each person $\\leq 150$.\n- The position is always one of the following seven:\n  - $\\texttt{BangZhu}$.\n  - $\\texttt{FuBangZhu}$.\n  - $\\texttt{HuFa}$.\n  - $\\texttt{ZhangLao}$.\n  - $\\texttt{TangZhu}$.\n  - $\\texttt{JingYing}$.\n  - $\\texttt{BangZhong}$.\n- Initially, the guild has at most:\n  - $1$ guild leader.\n  - $2$ vice leaders.\n  - $2$ guardians.\n  - $4$ elders.\n  - $7$ hall masters.\n  - $25$ elites.\n- There is exactly one guild leader.\n- There are exactly two vice leaders.\n- Exactly one of the vice leaders is named absi2011.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "帮贡排序", "background": "> 帮派名号：星月家园\n> \n> 帮主尊号：Dragonfly Kang\n> \n> 帮派 ID：2685023\n> \n> 帮派等级：4\n> \n> 帮派人数：101/110\n> \n> 帮派技能：（？）\n\n“星月家园”资料，欢迎各位豆友加入 ^\\_^\n\n---\n\n在 absi2011 的帮派里，死号偏多。现在 absi2011 和帮主等人联合决定，要清除一些死号，加进一些新号，同时还要鼓励帮贡多的人，对帮派进行一番休整。", "description": "目前帮派内共最多有：\n\n- $1$ 位帮主（$\\texttt{BangZhu}$）\n- $2$ 位副帮主（$\\texttt{FuBangZhu}$）\n- $2$ 位护法（$\\texttt{HuFa}$）\n- $4$ 位长老（$\\texttt{ZhangLao}$）\n- $7$ 位堂主（$\\texttt{TangZhu}$）\n- $25$ 名精英（$\\texttt{JingYing}$）\n- 若干（数量不限）帮众（$\\texttt{BangZhong}$）\n\n保证以上职位是从高到低排列的。\n\n现在 absi2011 要对帮派内几乎所有人的职位全部调整一番。他发现这是个很难的事情。于是要求你帮他调整。\n\n他给你每个人的以下数据：\n\n- 名字\n- 原来职位\n- 帮贡\n- 等级\n\n他要按照以下关键字给帮派内的人（帮主、副帮主除外）按以下关键字排序：\n\n- 帮贡（从高到低）第一关键字\n- 在输入中出现的顺序（从前到后）第二关键字\n\n然后更新这些人的职位：\n\n- 第 $1 \\sim 2$ 名：护法\n- 第 $3 \\sim 6$ 名：长老\n- 第 $7 \\sim 13$ 名：堂主\n- 第 $14 \\sim 38$ 名：精英\n- 第 $39 \\sim (n-3)$ 名：帮众\n\n可是，乐斗的显示并不按帮贡排序而按职位和等级排序。\n\n他要你按照以下关键字排序并求出最后乐斗显示的列表（在他调整过职位后）：\n\n- 职位（从高到低）第一关键字\n- 等级（从高到低）第二关键字\n- 在输入中出现的顺序（从前到后）第三关键字\n\n注意：absi2011 无权调整帮主、副帮主的职位，包括他自己的。", "inputFormat": "第一行一个正整数 $n$，表示星月家园内帮友的人数。\n\n下面 $n$ 行每行两个字符串两个整数，表示每个人的名字、职位、帮贡、等级。", "outputFormat": "一共输出 $n$ 行，每行包括排序后乐斗显示的名字、职位、等级。", "hint": "对于 $10\\%$ 的数据，保证 $n=3$。\n\n对于 $40\\%$ 的数据，保证各个人的帮贡均为 $0$。\n\n对于 $100\\%$ 的数据，保证：\n\n- $3\\leq n\\leq 110$\n- $1\\leq$ 名字长度 $\\leq30$\n- 所有名字两两不同\n- 名字只包含 ASCII 可见字符\n- $0\\leq$ 各个人的帮贡 $\\leq10^9$\n- $1\\leq$ 各个人等级 $\\leq 150$\n- 职位必定为以下七个中的一个：\n  - $\\texttt{BangZhu}$\n  - $\\texttt{FuBangZhu}$\n  - $\\texttt{HuFa}$\n  - $\\texttt{ZhangLao}$\n  - $\\texttt{TangZhu}$\n  - $\\texttt{JingYing}$\n  - $\\texttt{BangZhong}$\n- 初始时帮派内最多有：\n  - $1$ 位帮主\n  - $2$ 位副帮主\n  - $2$ 位护法\n  - $4$ 位长老\n  - $7$ 位堂主\n  - $25$ 名精英\n- 恰好有一名帮主\n- 恰好有两名副帮主\n- 恰好有一名副帮主叫 absi2011\n\n【题目来源】\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN"}}}
{"pid": "P1787", "type": "P", "difficulty": 4, "samples": [["aabb\n", "2\n"], ["fqmdfnc\n", "21\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树状数组", "2024", "O2优化", "语言月赛"], "title": "[入门赛 #22] 非众数 Hard Version", "background": "本题是「非众数」的 Hard Version，$1 \\le n \\le 10^5$，感谢 @[yummy](https://www.luogu.com.cn/user/101694) 的贡献。", "description": "给定一个长度为 $n$ 的字符串 $s$，保证 $s$ 仅包含小写字母，求 $s$  的**非空子串**中**非众数串**的个数。\n\n> **定义：非空子串**\n>\n> 用 $s_i$ 表示 $s$ 中的第 $i$ 个字符（$1 \\leq i \\leq n$）。任取两个整数 $i, j$（$1 \\leq i \\leq j \\leq n$），将 $s_i, s_{i + 1}, \\cdots, s_{j}$ 截取出来按原序排列作为一个新的字符串，则这个字符串叫做 $s$ 的非空子串。  \n例如，当 $s = \\texttt{abcde}$ 时，$\\texttt{ab}, \\texttt{bcde}, \\texttt{c}, \\texttt{abcde}$ 都是 $s$ 的非空子串，而 $\\texttt{acd}, \\texttt{f}, \\texttt{ngioasd}, \\texttt{\" \"}$ 都不是 $s$ 的非空子串。\n\n> **定义：非众数串**\n>\n> 若字符串 $a$ 中出现次数最多的字符出现的次数不超过 $\\lfloor \\frac{|a|}{2} \\rfloor$，则称字符串 $a$ 为一个**非众数**串。其中 $\\lfloor x \\rfloor$ 代表 $\\leq x$ 的最大整数，$|a|$ 代表 $a$ 的长度。", "inputFormat": "一行一个字符串，表示 $s$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n其中 $\\texttt{ab,aabb}$ 是**非众数**非空子串。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，字符串由小写字母组成。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #22] 非众数 Hard Version", "background": "本题是「非众数」的 Hard Version，$1 \\le n \\le 10^5$，感谢 @[yummy](https://www.luogu.com.cn/user/101694) 的贡献。", "description": "给定一个长度为 $n$ 的字符串 $s$，保证 $s$ 仅包含小写字母，求 $s$  的**非空子串**中**非众数串**的个数。\n\n> **定义：非空子串**\n>\n> 用 $s_i$ 表示 $s$ 中的第 $i$ 个字符（$1 \\leq i \\leq n$）。任取两个整数 $i, j$（$1 \\leq i \\leq j \\leq n$），将 $s_i, s_{i + 1}, \\cdots, s_{j}$ 截取出来按原序排列作为一个新的字符串，则这个字符串叫做 $s$ 的非空子串。  \n例如，当 $s = \\texttt{abcde}$ 时，$\\texttt{ab}, \\texttt{bcde}, \\texttt{c}, \\texttt{abcde}$ 都是 $s$ 的非空子串，而 $\\texttt{acd}, \\texttt{f}, \\texttt{ngioasd}, \\texttt{\" \"}$ 都不是 $s$ 的非空子串。\n\n> **定义：非众数串**\n>\n> 若字符串 $a$ 中出现次数最多的字符出现的次数不超过 $\\lfloor \\frac{|a|}{2} \\rfloor$，则称字符串 $a$ 为一个**非众数**串。其中 $\\lfloor x \\rfloor$ 代表 $\\leq x$ 的最大整数，$|a|$ 代表 $a$ 的长度。", "inputFormat": "一行一个字符串，表示 $s$。", "outputFormat": "一行一个整数，表示答案。", "hint": "### 样例 1 解释\n\n其中 $\\texttt{ab,aabb}$ 是**非众数**非空子串。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，字符串由小写字母组成。\n", "locale": "zh-CN"}}}
{"pid": "P1789", "type": "P", "difficulty": 2, "samples": [["5 1 0\n3 3\n", "12\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "【Mc生存】插火把", "background": null, "description": "话说有一天，linyorson 在“我的世界”中开了一个 $n \\times n$ 的方阵。现在他有 $m$ 个火把和 $k$ 个萤石，分别放在 $(x_1, y_1) \\sim (x_m, y_m)$ 和 $(o_1, p_1) \\sim (o_k, p_k)$ 的位置。已知没有光并且没放东西的地方会生成怪物，请问在这个方阵中有几个点会生成怪物？\n\n**注意，在本题中火把与萤石的照明范围与原版 Minecraft（我的世界）不尽相同，请以本题中的描述为准。**\n\n火把的照亮范围是：\n\n|暗|暗|光|暗|暗|\n|:-:|:-:|:-:|:-:|:-:|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**光**|**光**|**火把**|**光**|**光**|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**暗**|**暗**|**光**|**暗**|**暗**|\n\n萤石是：\n\n|**光**|**光**|**光**|**光**|**光**|\n|:-:|:-:|:-:|:-:|:-:|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**萤石**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|", "inputFormat": "输入共 $m + k + 1$ 行。\n\n第一行为两个正整数 $n, m$ 和一个非负整数 $k$。  \n第二到第 $m + 1$ 行每行两个正整数 $x_i, y_i$，表示各个火把的位置。  \n第 $m + 2$ 到第 $m + k + 1$ 行每行两个正整数 $o_i, p_i$，表示各个萤石的位置。\n\n数据中可能没有萤石，但一定有火把。", "outputFormat": "有几个点会生出怪物。", "hint": "数据保证 $1 \\le n \\le 100$，$1 \\leq m+k \\leq 25$，$1 \\leq m \\leq 25$，$0 \\leq k \\leq 5$。", "locale": "zh-CN", "translations": {"en": {"title": "【Mc Survival】Placing Torches", "background": "", "description": "One day, linyorson created an $n \\times n$ square grid in Minecraft. He has $m$ torches and $k$ glowstones, placed at positions $(x_1, y_1)$ through $(x_m, y_m)$ and $(o_1, p_1)$ through $(o_k, p_k)$, respectively. Any cell that has no light and has nothing placed on it will spawn monsters. How many cells in this grid will spawn monsters?\n\nNote: In this problem the illumination ranges of torches and glowstone are different from the original Minecraft. Please follow the description given here.\n\nP.S. The illumination range of a torch is:\n\n|Dark|Dark|Light|Dark|Dark|\n|:-:|:-:|:-:|:-:|:-:|\n|**Dark**|**Light**|**Light**|**Light**|**Dark**|\n|**Light**|**Light**|**Torch**|**Light**|**Light**|\n|**Dark**|**Light**|**Light**|**Light**|**Dark**|\n|**Dark**|**Dark**|**Light**|**Dark**|**Dark**|\n\nGlowstone:\n\n|**Light**|**Light**|**Light**|**Light**|**Light**|\n|:-:|:-:|:-:|:-:|:-:|\n|**Light**|**Light**|**Light**|**Light**|**Light**|\n|**Light**|**Light**|**Glowstone**|**Light**|**Light**|\n|**Light**|**Light**|**Light**|**Light**|**Light**|\n|**Light**|**Light**|**Light**|**Light**|**Light**|", "inputFormat": "There are $m + k + 1$ lines in total.  \nThe first line contains $n, m, k$.  \nLines $2$ through $m + 1$ give the positions of torches $x_i, y_i$.  \nLines $m + 2$ through $m + k + 1$ give the positions of glowstones $o_i, p_i$.\n\nNote: There may be no glowstone, but there is at least one torch.", "outputFormat": "Output the number of cells that will spawn monsters.", "hint": "Constraints: $1 \\le n \\le 100$, $1 \\le m + k \\le 25$, $1 \\le m \\le 25$, $0 \\le k \\le 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【Mc生存】插火把", "background": null, "description": "话说有一天，linyorson 在“我的世界”中开了一个 $n \\times n$ 的方阵。现在他有 $m$ 个火把和 $k$ 个萤石，分别放在 $(x_1, y_1) \\sim (x_m, y_m)$ 和 $(o_1, p_1) \\sim (o_k, p_k)$ 的位置。已知没有光并且没放东西的地方会生成怪物，请问在这个方阵中有几个点会生成怪物？\n\n**注意，在本题中火把与萤石的照明范围与原版 Minecraft（我的世界）不尽相同，请以本题中的描述为准。**\n\n火把的照亮范围是：\n\n|暗|暗|光|暗|暗|\n|:-:|:-:|:-:|:-:|:-:|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**光**|**光**|**火把**|**光**|**光**|\n|**暗**|**光**|**光**|**光**|**暗**|\n|**暗**|**暗**|**光**|**暗**|**暗**|\n\n萤石是：\n\n|**光**|**光**|**光**|**光**|**光**|\n|:-:|:-:|:-:|:-:|:-:|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**萤石**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|\n|**光**|**光**|**光**|**光**|**光**|", "inputFormat": "输入共 $m + k + 1$ 行。\n\n第一行为两个正整数 $n, m$ 和一个非负整数 $k$。  \n第二到第 $m + 1$ 行每行两个正整数 $x_i, y_i$，表示各个火把的位置。  \n第 $m + 2$ 到第 $m + k + 1$ 行每行两个正整数 $o_i, p_i$，表示各个萤石的位置。\n\n数据中可能没有萤石，但一定有火把。", "outputFormat": "有几个点会生出怪物。", "hint": "数据保证 $1 \\le n \\le 100$，$1 \\leq m+k \\leq 25$，$1 \\leq m \\leq 25$，$0 \\leq k \\leq 5$。", "locale": "zh-CN"}}}
{"pid": "P1790", "type": "P", "difficulty": 4, "samples": [["3 2", "15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "洛谷原创"], "title": "矩形分割", "background": "", "description": "有一个长为 $a$，宽为 $b$ 的矩形（$1 \\le a \\le 6$，$2 \\le b \\le 6$）。可以把这个矩形看作是 $a\\times b$ 个小方格。\n\n我们现在接到了这样的一个任务：请你计算出，把这个矩形分割成两个部分的方法总数。\n\n你不是可以任意地分割这个大的矩形，必须满足：\n\n分割后，每个部分，至少各自均有一个方格是在大矩形的最外边上（即大矩形最外面一环的方格）。\n\n", "inputFormat": "输入文件仅包含两个数字，$a$ 和 $b$。", "outputFormat": "输出仅有一行一个整数，表示分割的方案总数。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/buv0992j.png)", "locale": "zh-CN", "translations": {"en": {"title": "Rectangle Partition", "background": "", "description": "There is a rectangle of length $a$ and width $b$ ($1 \\le a \\le 6$, $2 \\le b \\le 6$). You can regard this rectangle as an $a\\times b$ grid of unit squares.\n\nWe are now given the following task: please compute the total number of ways to partition this rectangle into two parts.\n\nYou are not allowed to partition the large rectangle arbitrarily; it must satisfy:\n\nAfter the partition, each part must contain at least one cell that lies on the outer border of the large rectangle (that is, on the outermost ring of cells).", "inputFormat": "The input contains only two integers, $a$ and $b$.", "outputFormat": "Output a single line containing one integer, the total number of ways to partition.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/buv0992j.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "矩形分割", "background": "", "description": "有一个长为 $a$，宽为 $b$ 的矩形（$1 \\le a \\le 6$，$2 \\le b \\le 6$）。可以把这个矩形看作是 $a\\times b$ 个小方格。\n\n我们现在接到了这样的一个任务：请你计算出，把这个矩形分割成两个部分的方法总数。\n\n你不是可以任意地分割这个大的矩形，必须满足：\n\n分割后，每个部分，至少各自均有一个方格是在大矩形的最外边上（即大矩形最外面一环的方格）。\n\n", "inputFormat": "输入文件仅包含两个数字，$a$ 和 $b$。", "outputFormat": "输出仅有一行一个整数，表示分割的方案总数。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/buv0992j.png)", "locale": "zh-CN"}}}
{"pid": "P1791", "type": "P", "difficulty": 6, "samples": [["3\n3 5 100\n0 6 1\n6 0 2\n1 2 0", "1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["集训队互测", "网络流", "最小割"], "title": "[国家集训队] 人员雇佣", "background": "原《线段覆盖》请做P1803", "description": "作为一个富有经营头脑的富翁，小 $L$ 决定从本国最优秀的经理中雇佣一些来经营自己的公司。这些经理相互之间合作有一个贡献指数，（我们用 $E_{i,j}$ 表示 $i$ 经理对 $j$ 经理的了解程度），即当经理 $i$ 和经理 $j$ 同时被雇佣时，经理 $i$ 会对经理 $j$ 做出贡献，使得所赚得的利润增加 $E_{i,j}$。\n\n当然，雇佣每一个经理都需要花费一定的金钱 $A_i$，对于一些经理可能他做出的贡献不值得他的花费，那么作为一个聪明的人，小 $L$ 当然不会雇佣他。然而，那些没有被雇佣的人会被竞争对手所雇佣，这个时候那些人会对你雇佣的经理的工作造成影响，使得所赚得的利润减少 $E_{i,j}$（注意：这里的 $E_{i,j}$ 与上面的 $E_{i,j}$ 是同一个）。\n\n作为一个效率优先的人，小 $L$ 想雇佣一些人使得净利润最大。你可以帮助小 $L$ 解决这个问题吗？", "inputFormat": "第一行有一个整数，表示经理的个数。\n\n第二行有 $N$ 个整数 $A_i$ 表示雇佣每个经理需要花费的金钱。\n\n接下来的 $N$ 行中一行包含 $N$ 个数，表示 $E_{i,j}$，即经理 $i$ 对经理 $j$ 的了解程度。满足 $E_{i,j}=E_{j,i}$。", "outputFormat": "第一行包含一个整数，即所求出的最大值。", "hint": "- $20\\%$ 的数据中 $N\\le 10$；\n- $50\\%$ 的数据中 $N\\le 100$；\n- $100\\%$ 的数据中 $N\\le 1000$，$E_{i,j}<2^{31}$，$A_i<2^{31}$。\n\nFrom 林衍凯。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Personnel Hiring", "background": "For the original \"Segment Coverage,\" please solve P1803.", "description": "As a business-savvy tycoon, Xiao $L$ decides to hire some of the best managers in his country to run his company. There is a collaboration contribution index among these managers (we use $E_{i,j}$ to denote how well manager $i$ knows manager $j$). That is, when manager $i$ and manager $j$ are both hired, manager $i$ contributes to manager $j$, increasing the profit by $E_{i,j}$.\n\nOf course, hiring each manager costs some money $A_i$. For some managers, their contribution may not be worth the cost, so, being smart, Xiao $L$ will not hire them. However, those who are not hired will be hired by competitors. In that case, they will affect the work of the managers you hire, decreasing the profit by $E_{i,j}$ (note: this $E_{i,j}$ is the same as above).\n\nBeing efficiency-first, Xiao $L$ wants to hire some people to maximize the net profit. Can you help Xiao $L$ solve this problem?", "inputFormat": "- The first line contains an integer $N$, the number of managers.\n- The second line contains $N$ integers $A_i$, the cost to hire each manager.\n- The next $N$ lines each contain $N$ numbers, giving $E_{i,j}$, i.e., how well manager $i$ knows manager $j$. It holds that $E_{i,j} = E_{j,i}$.", "outputFormat": "The first line contains one integer, the maximum value.", "hint": "- For 20% of the testdata, $N \\le 10$.\n- For 50% of the testdata, $N \\le 100$.\n- For 100% of the testdata, $N \\le 1000$, $E_{i,j} < 2^{31}$, $A_i < 2^{31}$.\n\nFrom Lin Yankai.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 人员雇佣", "background": "原《线段覆盖》请做P1803", "description": "作为一个富有经营头脑的富翁，小 $L$ 决定从本国最优秀的经理中雇佣一些来经营自己的公司。这些经理相互之间合作有一个贡献指数，（我们用 $E_{i,j}$ 表示 $i$ 经理对 $j$ 经理的了解程度），即当经理 $i$ 和经理 $j$ 同时被雇佣时，经理 $i$ 会对经理 $j$ 做出贡献，使得所赚得的利润增加 $E_{i,j}$。\n\n当然，雇佣每一个经理都需要花费一定的金钱 $A_i$，对于一些经理可能他做出的贡献不值得他的花费，那么作为一个聪明的人，小 $L$ 当然不会雇佣他。然而，那些没有被雇佣的人会被竞争对手所雇佣，这个时候那些人会对你雇佣的经理的工作造成影响，使得所赚得的利润减少 $E_{i,j}$（注意：这里的 $E_{i,j}$ 与上面的 $E_{i,j}$ 是同一个）。\n\n作为一个效率优先的人，小 $L$ 想雇佣一些人使得净利润最大。你可以帮助小 $L$ 解决这个问题吗？", "inputFormat": "第一行有一个整数，表示经理的个数。\n\n第二行有 $N$ 个整数 $A_i$ 表示雇佣每个经理需要花费的金钱。\n\n接下来的 $N$ 行中一行包含 $N$ 个数，表示 $E_{i,j}$，即经理 $i$ 对经理 $j$ 的了解程度。满足 $E_{i,j}=E_{j,i}$。", "outputFormat": "第一行包含一个整数，即所求出的最大值。", "hint": "- $20\\%$ 的数据中 $N\\le 10$；\n- $50\\%$ 的数据中 $N\\le 100$；\n- $100\\%$ 的数据中 $N\\le 1000$，$E_{i,j}<2^{31}$，$A_i<2^{31}$。\n\nFrom 林衍凯。", "locale": "zh-CN"}}}
{"pid": "P1792", "type": "P", "difficulty": 5, "samples": [["7 3\n1 2 3 4 5 6 7", "15"], ["7 4\n1 2 3 4 5 6 7\n", "Error!"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "线性数据结构", "堆", "集训队互测", "凸完全单调性（wqs 二分）", "链表", "反悔贪心"], "title": "[国家集训队] 种树", "background": null, "description": "A 城市有一个巨大的圆形广场，为了绿化环境和净化空气，市政![]()府决定沿圆形广场外圈种一圈树。\n\n园林部门得到指令后，初步规划出 $n$ 个种树的位置，顺时针编号 $1$ 到 $n$。并且每个位置都有一个美观度 $A_i$，如果在这里种树就可以得到这 $A_i$ 的美观度。但由于 A 城市土壤肥力欠佳，两棵树决不能种在相邻的位置（$i$ 号位置和 $i+1$ 号位置叫相邻位置。值得注意的是 $1$ 号和 $n$ 号也算相邻位置）。\n\n最终市![]()政![]()府给园林部门提供了 $m$ 棵树苗并要求全部种上，请你帮忙设计种树方案使得美观度总和最大。如果无法将 $m$ 棵树苗全部种上，给出无解信息。", "inputFormat": "输入的第一行包含两个正整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个代表 $A_i$。", "outputFormat": "输出一个整数，表示最佳植树方案可以得到的美观度。如果无解输出 `Error!`。", "hint": "数据编号|$n$ 的大小|数据编号| $n$ 的大小\n-|-|-|-\n$1$|$30$|$11$|$200$\n$2$|$35$|$12$|$2007$\n$3$|$40$|$13$|$2008$\n$4$|$45$|$14$|$2009$\n$5$|$50$|$15$|$2010$\n$6$|$55$|$16$|$2011$\n$7$|$60$|$17$|$2012$\n$8$|$65$|$18$|$199999$\n$9$|$200$|$19$|$199999$\n$10$|$200$|$20$|$200000$\n\n对于全部数据：$m\\le n$，$-1000\\le A_i\\le1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Planting Trees", "background": "", "description": "In City A, there is a huge circular plaza. To green the environment and purify the air, the municipal government![]() decided to plant a ring of trees along the outer edge of the circular plaza.\n\nAfter receiving the order, the parks department initially planned $n$ planting positions, numbered clockwise from $1$ to $n$. Each position has an aesthetic value $A_i$, and if a tree is planted there, you gain this $A_i$ value. However, due to poor soil fertility in City A, two trees must not be planted at adjacent positions (positions $i$ and $i+1$ are adjacent; note that positions $1$ and $n$ are also adjacent).\n\nFinally, the municipal government![]()![]() provided the parks department with $m$ saplings and requires that all of them be planted. Please design a planting plan to maximize the total aesthetic value. If it is impossible to plant all $m$ saplings, output that there is no solution.", "inputFormat": "The first line contains two positive integers $n, m$.\n\nThe second line contains $n$ integers, where the $i$-th integer represents $A_i$.", "outputFormat": "Output one integer, the maximum total aesthetic value achievable by the optimal planting plan. If there is no solution, output `Error!`.", "hint": "testdata ID | $n$ size | testdata ID | $n$ size\n-|-|-|-\n$1$ | $30$ | $11$ | $200$\n$2$ | $35$ | $12$ | $2007$\n$3$ | $40$ | $13$ | $2008$\n$4$ | $45$ | $14$ | $2009$\n$5$ | $50$ | $15$ | $2010$\n$6$ | $55$ | $16$ | $2011$\n$7$ | $60$ | $17$ | $2012$\n$8$ | $65$ | $18$ | $199999$\n$9$ | $200$ | $19$ | $199999$\n$10$ | $200$ | $20$ | $200000$\n\nFor all testdata: $m \\le n$, $-1000 \\le A_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 种树", "background": null, "description": "A 城市有一个巨大的圆形广场，为了绿化环境和净化空气，市政![]()府决定沿圆形广场外圈种一圈树。\n\n园林部门得到指令后，初步规划出 $n$ 个种树的位置，顺时针编号 $1$ 到 $n$。并且每个位置都有一个美观度 $A_i$，如果在这里种树就可以得到这 $A_i$ 的美观度。但由于 A 城市土壤肥力欠佳，两棵树决不能种在相邻的位置（$i$ 号位置和 $i+1$ 号位置叫相邻位置。值得注意的是 $1$ 号和 $n$ 号也算相邻位置）。\n\n最终市![]()政![]()府给园林部门提供了 $m$ 棵树苗并要求全部种上，请你帮忙设计种树方案使得美观度总和最大。如果无法将 $m$ 棵树苗全部种上，给出无解信息。", "inputFormat": "输入的第一行包含两个正整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个代表 $A_i$。", "outputFormat": "输出一个整数，表示最佳植树方案可以得到的美观度。如果无解输出 `Error!`。", "hint": "数据编号|$n$ 的大小|数据编号| $n$ 的大小\n-|-|-|-\n$1$|$30$|$11$|$200$\n$2$|$35$|$12$|$2007$\n$3$|$40$|$13$|$2008$\n$4$|$45$|$14$|$2009$\n$5$|$50$|$15$|$2010$\n$6$|$55$|$16$|$2011$\n$7$|$60$|$17$|$2012$\n$8$|$65$|$18$|$199999$\n$9$|$200$|$19$|$199999$\n$10$|$200$|$20$|$200000$\n\n对于全部数据：$m\\le n$，$-1000\\le A_i\\le1000$。", "locale": "zh-CN"}}}
{"pid": "P1793", "type": "P", "difficulty": 3, "samples": [["6 6\r\n1 2\r\n2 4\r\n2 3\r\n3 5\r\n4 5\r\n5 6\r\n", "2\r\n2 5\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["并查集", "NOI 导刊", "Tarjan", "双连通分量"], "title": "跑步", "background": "", "description": "新牛到部队，CG 要求它们每天早上搞晨跑，从 $A$ 农场跑到 $B$ 农场。从 $A$ 农场到 $B$ 农场中有 $n-2$ 个路口，分别标上号，$A$ 农场为 $1$ 号，$B$ 农场为 $n$ 号，路口分别为 $2,3,4,\\cdots,n-1$ 号，从 $A$ 农场到 $B$ 农场有很多条路径可以到达，而 CG 发现有的路口是必须经过的，即每条路径都经过的路口，CG 要把它们记录下来，这样 CG 就可以先到那个路口，观察新牛们有没有偷懒，而你的任务就是找出所有必经路口。", "inputFormat": "第一行两个用空格隔开的整数 $n\\ (3 \\le n \\le 2000)$ 和 $e\\ (1 \\le e \\le 8000)$。\n\n接下来从第 $2$ 到第 $e+1$ 行，每行两个用空格隔开的整数 $p$ 和 $q$，表示路口 $p$ 和 $q$ 之间有路径直达。\n\n输入数据保证必经路口一定存在，并且每个路口都和 $A$ 农场、$B$ 农场相连通。", "outputFormat": "第一行一个整数 $m$，表示必经路口的数目。\n\n第二行按从小到大的顺序依次输出每个必经路口的编号，每两个数之间用一个空格隔开。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Running", "background": "", "description": "New cows arrived at the unit. CG requires them to go for a morning run every day, from Farm $A$ to Farm $B$. Between Farm $A$ and Farm $B$ there are $n-2$ intersections, which are numbered: Farm $A$ is number $1$, Farm $B$ is number $n$, and the intersections are numbered $2,3,4,\\cdots,n-1$. There are many routes from Farm $A$ to Farm $B$. CG notices that some intersections are must-pass, meaning every route goes through them. CG wants to record them, so CG can go to such an intersection first to check whether the new cows are slacking. Your task is to find all must-pass intersections.", "inputFormat": "The first line contains two integers $n\\ (3 \\le n \\le 2000)$ and $e\\ (1 \\le e \\le 8000)$ separated by a space.\n\nFrom line $2$ to line $e+1$, each line contains two integers $p$ and $q$ separated by a space, indicating that there is a direct path between intersection $p$ and $q$.\n\nThe input guarantees that must-pass intersections exist, and every intersection is connected to both Farm $A$ and Farm $B$.", "outputFormat": "The first line contains an integer $m$, the number of must-pass intersections.\n\nOn the second line, output the indices of all must-pass intersections in increasing order, with a single space between every two numbers.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跑步", "background": "", "description": "新牛到部队，CG 要求它们每天早上搞晨跑，从 $A$ 农场跑到 $B$ 农场。从 $A$ 农场到 $B$ 农场中有 $n-2$ 个路口，分别标上号，$A$ 农场为 $1$ 号，$B$ 农场为 $n$ 号，路口分别为 $2,3,4,\\cdots,n-1$ 号，从 $A$ 农场到 $B$ 农场有很多条路径可以到达，而 CG 发现有的路口是必须经过的，即每条路径都经过的路口，CG 要把它们记录下来，这样 CG 就可以先到那个路口，观察新牛们有没有偷懒，而你的任务就是找出所有必经路口。", "inputFormat": "第一行两个用空格隔开的整数 $n\\ (3 \\le n \\le 2000)$ 和 $e\\ (1 \\le e \\le 8000)$。\n\n接下来从第 $2$ 到第 $e+1$ 行，每行两个用空格隔开的整数 $p$ 和 $q$，表示路口 $p$ 和 $q$ 之间有路径直达。\n\n输入数据保证必经路口一定存在，并且每个路口都和 $A$ 农场、$B$ 农场相连通。", "outputFormat": "第一行一个整数 $m$，表示必经路口的数目。\n\n第二行按从小到大的顺序依次输出每个必经路口的编号，每两个数之间用一个空格隔开。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1794", "type": "P", "difficulty": 2, "samples": [["6 5 \n4\n10 2 2\n20 3 2 \n40 4 3 \n30 3 3 \n", "50\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "背包 DP"], "title": "装备运输", "background": "", "description": "德国放松对英国的进攻后，把矛头指向了东边——苏联。$1943$ 年初，东线的战斗进行到白热化阶段。据可靠情报，$90$ 余万德国军队在库尔斯克准备发动浩大攻势。因此，朱可夫元帅要求你立即从远东的军工厂运输大量装备支援库尔斯克前线。列车司机告诉你，一趟列车最多可以容纳 $V$ 体积的武器装备，但是你可能不能装满，因为列车承受不了那么大的重量，一趟列车最多可以承载 $G$ 单位的重量。同时，军工厂仓库提供给你一份装备清单，详细记录了每件装备的体积、重量和火力。为了有效支援朱可夫元帅，你要找到一种方案，使得总火力值最大。", "inputFormat": "第一行两个整数 $V$ 和 $G$，表示最大体积和重量。\n\n第二行一个整数 $N$，表示仓库有 $N$ 件装备。\n\n第三到 $N+2$ 行，每行 $3$ 个数 $T_i,V_i,G_i$，表示各装备的火力值、体积和重量。", "outputFormat": "输出一个数，表示可能获得的最大火力值。\n", "hint": "对于 $100\\%$ 的数据，$1\\le V, G, N \\le 500$，$1 \\leq T_i, V_i, G_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Equipment Transport", "background": "", "description": "After relaxing its offensive against the United Kingdom, Germany turned its spearhead to the east—the Soviet Union. In early $1943$, the fighting on the Eastern Front reached a white-hot stage. According to reliable intelligence, more than $90$ ten-thousands of German troops were preparing a massive offensive at Kursk. Therefore, Marshal Zhukov requires you to immediately transport a large amount of equipment from the Far East military factories to support the Kursk front. The train driver tells you that a single train can hold at most $V$ volume of weapons and equipment, but you might not be able to fill it up because the train cannot withstand that much weight; a single train can carry at most $G$ units of weight. Meanwhile, the factory warehouse provides you with an equipment list detailing each item's volume, weight, and firepower. To effectively support Marshal Zhukov, you need to find a plan that maximizes the total firepower.", "inputFormat": "The first line contains two integers $V$ and $G$, representing the maximum volume and weight.\n\nThe second line contains an integer $N$, representing that the warehouse has $N$ pieces of equipment.\n\nThe $3$-rd to $N+2$-th lines each contain $3$ numbers $T_i,V_i,G_i$, representing each equipment's firepower, volume, and weight.", "outputFormat": "Output a single number, representing the maximum total firepower that can be obtained.", "hint": "Constraints: For $100\\%$ of the testdata, $1\\le V, G, N \\le 500$, $1 \\leq T_i, V_i, G_i \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "装备运输", "background": "", "description": "德国放松对英国的进攻后，把矛头指向了东边——苏联。$1943$ 年初，东线的战斗进行到白热化阶段。据可靠情报，$90$ 余万德国军队在库尔斯克准备发动浩大攻势。因此，朱可夫元帅要求你立即从远东的军工厂运输大量装备支援库尔斯克前线。列车司机告诉你，一趟列车最多可以容纳 $V$ 体积的武器装备，但是你可能不能装满，因为列车承受不了那么大的重量，一趟列车最多可以承载 $G$ 单位的重量。同时，军工厂仓库提供给你一份装备清单，详细记录了每件装备的体积、重量和火力。为了有效支援朱可夫元帅，你要找到一种方案，使得总火力值最大。", "inputFormat": "第一行两个整数 $V$ 和 $G$，表示最大体积和重量。\n\n第二行一个整数 $N$，表示仓库有 $N$ 件装备。\n\n第三到 $N+2$ 行，每行 $3$ 个数 $T_i,V_i,G_i$，表示各装备的火力值、体积和重量。", "outputFormat": "输出一个数，表示可能获得的最大火力值。\n", "hint": "对于 $100\\%$ 的数据，$1\\le V, G, N \\le 500$，$1 \\leq T_i, V_i, G_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1795", "type": "P", "difficulty": 2, "samples": [["4\n3\n14\n7\n6 \n", "0\n0\n1\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["NOI 导刊", "枚举", "构造"], "title": "无穷的序列", "background": "", "description": "有一个序列 $A$，元素为无穷多，$A_i=\\overline{1\\underbrace{000\\dots0}_{i-1 \\text{ 个 }0}}$。有另一个无穷序列 $B$，$B=\\overline{\\underbrace{A_1A_2A_3A_4\\dots}_{\\text{第 i 个为 }A_i}}$，其中 $\\overline{xy}$ 代表把 $x$ 和 $y$ 拼接在一起，更多数字同理。\n\n这样，无穷序列 $B$ 的前若干项表示为：$\\texttt{110100100010000100000}\\dots$\n\n请你找出无穷序列 $B$ 中指定位置上的数字。", "inputFormat": "第一行一个正整数 $N$ ，表示询问次数；\n\n接下来的 $N$ 行每行一个正整数 $a_i$，$a_i$ 表示在序列中的位置。", "outputFormat": "输出为 $N$ 行，每行为 $0$ 或 $1$ ，表示序列第  $a_i$ 位上的数字。", "hint": "对于 $100\\%$ 的数据，$N \\leq 1\\,500\\,000$，$a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Infinite Sequence", "background": null, "description": "There is a sequence $A$ with infinitely many elements, $A_i=\\overline{1\\underbrace{000\\dots0}_{i-1\\text{ zeros}}}$. There is another infinite sequence $B$, $B=\\overline{\\underbrace{A_1A_2A_3A_4\\dots}_{\\text{the }i\\text{-th is }A_i}}$, where $\\overline{xy}$ denotes concatenating $x$ and $y$, and similarly for more numbers.\n\nThus, the first several digits of the infinite sequence $B$ are: $\\texttt{110100100010000100000}\\dots$.\n\nPlease find the digit at the specified position in the infinite sequence $B$.", "inputFormat": "The first line contains a positive integer $N$, the number of queries.\n\nEach of the next $N$ lines contains a positive integer $a_i$, where $a_i$ denotes a position in sequence $B$.", "outputFormat": "Output $N$ lines, each being $0$ or $1$, representing the digit at position $a_i$ in the sequence.", "hint": "For $100\\%$ of the testdata, $N \\leq 1\\,500\\,000$, $a_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "无穷的序列", "background": "", "description": "有一个序列 $A$，元素为无穷多，$A_i=\\overline{1\\underbrace{000\\dots0}_{i-1 \\text{ 个 }0}}$。有另一个无穷序列 $B$，$B=\\overline{\\underbrace{A_1A_2A_3A_4\\dots}_{\\text{第 i 个为 }A_i}}$，其中 $\\overline{xy}$ 代表把 $x$ 和 $y$ 拼接在一起，更多数字同理。\n\n这样，无穷序列 $B$ 的前若干项表示为：$\\texttt{110100100010000100000}\\dots$\n\n请你找出无穷序列 $B$ 中指定位置上的数字。", "inputFormat": "第一行一个正整数 $N$ ，表示询问次数；\n\n接下来的 $N$ 行每行一个正整数 $a_i$，$a_i$ 表示在序列中的位置。", "outputFormat": "输出为 $N$ 行，每行为 $0$ 或 $1$ ，表示序列第  $a_i$ 位上的数字。", "hint": "对于 $100\\%$ 的数据，$N \\leq 1\\,500\\,000$，$a_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1796", "type": "P", "difficulty": 2, "samples": [["3\n2\n1 15 0\n1 5 0\n3\n1 -5 2 10 0\n1 3 0\n2 40 0\n2\n1 1 2 5 3 -5 0\n2 -19 3 -20 0", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "最短路"], "title": "汤姆斯的天堂梦", "background": "", "description": "汤姆斯生活在一个等级为 $0$ 的星球上。那里的环境极其恶劣，每天 $12$ 小时的工作和成堆的垃圾让人忍无可忍。他向往着等级为 $N$ 的星球上天堂般的生活。\n\n有一些航班将人从低等级的星球送上高一级的星球，有时需要向驾驶员支付一定金额的费用，有时却又可以得到一定的金钱。\n\n汤姆斯预先知道了从 $0$ 等级星球去 $N$ 等级星球所有的航线和需要支付（或者可以得到）的金钱，他想寻找一条价格最低（甚至获得金钱最多）的航线。", "inputFormat": "第一行一个正整数 $N$（$N \\le 100$），接下来的数据可分为 $N$ 个段落，每段的第一行一个整数 $K_i$（$K_i \\le 100$），表示等级为 $i$ 的星球有 $K_i$ 个。\n\n接下来的 $K_i$ 行中第 $j$ 行依次表示与等级为 $i$，编号为 $j$ 的星球相连的等级为 $i - 1$ 的星球的编号和此航线需要的费用（正数表示支出，负数表示收益，费用的绝对值不超过 $1000$）。\n\n每行以 $0$ 结束，每行的航线数 $\\le 100$。", "outputFormat": "输出所需（或所得）费用。正数表示支出，负数表示收益。", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le 100$，$1 \\le K_i \\le 100$。\n\n样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)", "locale": "zh-CN", "translations": {"en": {"title": "Thomas's Dream of Paradise", "background": "", "description": "Thomas lives on a planet at level $0$. The environment there is extremely harsh: $12$ hours of work every day and piles of garbage are unbearable. He longs for the heavenly life on a planet at level $N$.\n\nThere are flights that take people from a lower-level planet to a planet one level higher. Sometimes you need to pay a certain amount to the pilot, and sometimes you can receive some money.\n\nThomas knows in advance all routes from the level $0$ planet to the level $N$ planet and the amount to pay (or receive) for each route. He wants to find a route with the lowest total price (or the highest total earnings).", "inputFormat": "- The first line contains a positive integer $N$ ($N \\le 100$). The following data is divided into $N$ sections. In each section, the first line contains an integer $K_i$ ($K_i \\le 100$), indicating that there are $K_i$ planets at level $i$.\n- In the next $K_i$ lines, the $j$-th line describes the planets at level $i - 1$ that are connected to the planet at level $i$ with index $j$, followed by the cost for each such flight (a positive number means paying, a negative number means earning; the absolute value does not exceed $1000$). Each line consists of several “index cost” pairs and ends with a single $0$. Each line contains at most $100$ routes.", "outputFormat": "Output the required (or obtained) total cost. A positive number means paying, and a negative number means earning.", "hint": "For $100\\%$ of the testdata, $1 \\le N \\le 100$, $1 \\le K_i \\le 100$.\n\nSample explanation:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "汤姆斯的天堂梦", "background": "", "description": "汤姆斯生活在一个等级为 $0$ 的星球上。那里的环境极其恶劣，每天 $12$ 小时的工作和成堆的垃圾让人忍无可忍。他向往着等级为 $N$ 的星球上天堂般的生活。\n\n有一些航班将人从低等级的星球送上高一级的星球，有时需要向驾驶员支付一定金额的费用，有时却又可以得到一定的金钱。\n\n汤姆斯预先知道了从 $0$ 等级星球去 $N$ 等级星球所有的航线和需要支付（或者可以得到）的金钱，他想寻找一条价格最低（甚至获得金钱最多）的航线。", "inputFormat": "第一行一个正整数 $N$（$N \\le 100$），接下来的数据可分为 $N$ 个段落，每段的第一行一个整数 $K_i$（$K_i \\le 100$），表示等级为 $i$ 的星球有 $K_i$ 个。\n\n接下来的 $K_i$ 行中第 $j$ 行依次表示与等级为 $i$，编号为 $j$ 的星球相连的等级为 $i - 1$ 的星球的编号和此航线需要的费用（正数表示支出，负数表示收益，费用的绝对值不超过 $1000$）。\n\n每行以 $0$ 结束，每行的航线数 $\\le 100$。", "outputFormat": "输出所需（或所得）费用。正数表示支出，负数表示收益。", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le 100$，$1 \\le K_i \\le 100$。\n\n样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x085ukra.png)", "locale": "zh-CN"}}}
{"pid": "P1797", "type": "P", "difficulty": 6, "samples": [["10\nDECODE_PATH 0\nDECODE_PATH 3 R 2 L 1 R 2\nENCODE_PATH 1 1\nENCODE_PATH 5 11\nLCA 2 3 3 5\nLCA 5439 19294 8291 29410\nANCESTOR 10 1 1\nANCESTOR 300 1000000000 1\nRANGE 1 1\nRANGE 11 8", "1 1\n11 4\n0\n2 L 2 R 4\n2 3\n148 525\n-1\n301 1\n0 1 1 0\n4 3 7 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Stern-Brocot 树", "模板题"], "title": "【模板】Stern-Brocot 树", "background": "这是一道模板题。（[来源](https://judge.yosupo.jp/problem/stern_brocot_tree)）\n\n为了帮小圆打败魔女之夜，你需要回答 Stern-Brocot 树上的询问。", "description": "\n约定：\n\n- 本题中，输入/输出的所有分数都必须是既约的。\n- 本题中，输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n\n### Task 1：ENCODE_PATH\n\n- 输入格式：`ENCODE_PATH` $p$ $q$；\n- 输出格式：$k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n\n给定分数 $\\dfrac{p}{q}$，你需要按照以下格式输出从 Stern-Brocot 树根走到节点 $\\dfrac{p}{q}$ 的路径：\n\n> $k$ $c_1$ $n_1$ $c_2$ $n_2$ $\\cdots$ $c_k$ $n_k$\n\n其中 $c_i\\in \\{\\texttt{L},\\texttt{R}\\}$ 表示走到左儿子或者右儿子，$n_i$ 表示重复 $c_i$ 操作几次。\n\n你需要保证 $\\forall 1\\le i\\lt k$，$c_i\\neq c_{i+1}$。\n\n### Task 2：DECODE_PATH\n\n- 输入格式：`DECODE_PATH` $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n- 输出格式：$p$ $q$。\n\n给定从 Stern-Brocot 树根出发的路径，格式如 Task 1 所述，输出节点上的分数。\n\n保证答案满足 $1\\le p,q\\le 10^9$。\n\n### Task 3：LCA\n\n给定 $\\dfrac{a}{b},\\dfrac{c}{d}$，输出 $\\dfrac{a}{b},\\dfrac{c}{d}$ 的 LCA 上的分数 $\\dfrac{p}{q}$。\n\n\n- 输入格式：`LCA` $a$ $b$ $c$ $d$；\n- 输出格式：$p$ $q$。\n\n### Task 4：ANCESTOR\n\n给定 $\\dfrac{a}{b},k$，输出 $\\dfrac{a}{b}$ 到根的链上，深度为 $k$ 的节点 $\\dfrac{p}{q}$ 的值。如果不存在，输出 $-1$。\n\n\n- 输入格式：`ANCESTOR` $k$ $a$ $b$；\n- 输出格式：$p$ $q$。\n- 数据范围：$1\\le k\\le 10^9$。\n\n### Task 5：RANGE\n\n给定 $\\dfrac{p}{q}$，记在 Stern-Brocot 树中，$\\dfrac{p}{q}$ 的子树中的所有分数构成的集合为 $S$。输出 $\\inf S=\\dfrac{a}{b}$ 和 $\\sup S=\\dfrac{c}{d}$。\n\n特别地，对于 $0$，输出 $0$ $1$；对于 $+\\infty$，输出 $1$ $0$。\n\n- 输入格式：`RANGE` $p$ $q$；\n- 输出格式：$a$ $b$ $c$ $d$。\n", "inputFormat": "第一行，一个正整数 $T$，表示数据组数；\n\n接下来 $T$ 行，每行若干个整数描述一个任务，格式见【题目描述】。", "outputFormat": "输出 $T$ 行，表示对应任务的答案，格式见【题目描述】。", "hint": "- $1\\le T\\le 10^5$；\n- 输入的所有分数都是既约的；\n- 输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Stern-Brocot Tree", "background": "This is a template problem. ([Source](https://judge.yosupo.jp/problem/stern_brocot_tree))\n\nTo help Xiaoyuan defeat the Witch’s Night, you need to answer queries on the Stern-Brocot tree.", "description": "Conventions:\n- In this problem, all fractions in the input/output must be in lowest terms.\n- In this problem, every input fraction $\\dfrac{p}{q}$ satisfies $1 \\le p,q \\le 10^9$.\n\nTask 1: ENCODE_PATH\n- Input format: `ENCODE_PATH` $p$ $q$;\n- Output format: $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$.\n\nGiven a fraction $\\dfrac{p}{q}$, output the path from the root of the Stern-Brocot tree to the node $\\dfrac{p}{q}$ in the following format:\n> $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n\nHere $c_i \\in \\{\\texttt{L}, \\texttt{R}\\}$ means go to the left or right child, and $n_i$ is how many times to repeat $c_i$. You must ensure $\\forall 1 \\le i < k$, $c_i \\ne c_{i+1}$.\n\nTask 2: DECODE_PATH\n- Input format: `DECODE_PATH` $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$;\n- Output format: $p$ $q$.\n\nGiven a path from the root in the same format as in Task 1, output the fraction on that node. It is guaranteed that the answer satisfies $1 \\le p,q \\le 10^9$.\n\nTask 3: LCA\n\nGiven $\\dfrac{a}{b}$ and $\\dfrac{c}{d}$, output the fraction $\\dfrac{p}{q}$ on the LCA of $\\dfrac{a}{b}$ and $\\dfrac{c}{d}$.\n- Input format: `LCA` $a$ $b$ $c$ $d$;\n- Output format: $p$ $q$.\n\nTask 4: ANCESTOR\n\nGiven $\\dfrac{a}{b}$ and $k$, output the value $\\dfrac{p}{q}$ of the node whose depth is $k$ on the chain from $\\dfrac{a}{b}$ up to the root. If it does not exist, output $-1$.\n- Input format: `ANCESTOR` $k$ $a$ $b$;\n- Output format: $p$ $q$.\n- Constraints: $1 \\le k \\le 10^9$.\n\nTask 5: RANGE\n\nGiven $\\dfrac{p}{q}$, let $S$ be the set of all fractions in the subtree of $\\dfrac{p}{q}$ in the Stern-Brocot tree. Output $\\inf S = \\dfrac{a}{b}$ and $\\sup S = \\dfrac{c}{d}$.\n\nIn particular, for $0$, output $0$ $1$; for $+\\infty$, output $1$ $0$.\n- Input format: `RANGE` $p$ $q$;\n- Output format: $a$ $b$ $c$ $d$.", "inputFormat": "The first line contains a positive integer $T$, the number of test cases.\n\nEach of the next $T$ lines describes one task, in the formats given in the Description.", "outputFormat": "Output $T$ lines, each containing the answer to the corresponding task, in the formats given in the Description.", "hint": "- $1 \\le T \\le 10^5$.\n- All input fractions are in lowest terms.\n- Every input fraction $\\dfrac{p}{q}$ satisfies $1 \\le p,q \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】Stern-Brocot 树", "background": "这是一道模板题。（[来源](https://judge.yosupo.jp/problem/stern_brocot_tree)）\n\n为了帮小圆打败魔女之夜，你需要回答 Stern-Brocot 树上的询问。", "description": "\n约定：\n\n- 本题中，输入/输出的所有分数都必须是既约的。\n- 本题中，输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n\n### Task 1：ENCODE_PATH\n\n- 输入格式：`ENCODE_PATH` $p$ $q$；\n- 输出格式：$k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n\n给定分数 $\\dfrac{p}{q}$，你需要按照以下格式输出从 Stern-Brocot 树根走到节点 $\\dfrac{p}{q}$ 的路径：\n\n> $k$ $c_1$ $n_1$ $c_2$ $n_2$ $\\cdots$ $c_k$ $n_k$\n\n其中 $c_i\\in \\{\\texttt{L},\\texttt{R}\\}$ 表示走到左儿子或者右儿子，$n_i$ 表示重复 $c_i$ 操作几次。\n\n你需要保证 $\\forall 1\\le i\\lt k$，$c_i\\neq c_{i+1}$。\n\n### Task 2：DECODE_PATH\n\n- 输入格式：`DECODE_PATH` $k$ $n_1$ $c_1$ $n_2$ $c_2$ $\\cdots$ $n_k$ $c_k$\n- 输出格式：$p$ $q$。\n\n给定从 Stern-Brocot 树根出发的路径，格式如 Task 1 所述，输出节点上的分数。\n\n保证答案满足 $1\\le p,q\\le 10^9$。\n\n### Task 3：LCA\n\n给定 $\\dfrac{a}{b},\\dfrac{c}{d}$，输出 $\\dfrac{a}{b},\\dfrac{c}{d}$ 的 LCA 上的分数 $\\dfrac{p}{q}$。\n\n\n- 输入格式：`LCA` $a$ $b$ $c$ $d$；\n- 输出格式：$p$ $q$。\n\n### Task 4：ANCESTOR\n\n给定 $\\dfrac{a}{b},k$，输出 $\\dfrac{a}{b}$ 到根的链上，深度为 $k$ 的节点 $\\dfrac{p}{q}$ 的值。如果不存在，输出 $-1$。\n\n\n- 输入格式：`ANCESTOR` $k$ $a$ $b$；\n- 输出格式：$p$ $q$。\n- 数据范围：$1\\le k\\le 10^9$。\n\n### Task 5：RANGE\n\n给定 $\\dfrac{p}{q}$，记在 Stern-Brocot 树中，$\\dfrac{p}{q}$ 的子树中的所有分数构成的集合为 $S$。输出 $\\inf S=\\dfrac{a}{b}$ 和 $\\sup S=\\dfrac{c}{d}$。\n\n特别地，对于 $0$，输出 $0$ $1$；对于 $+\\infty$，输出 $1$ $0$。\n\n- 输入格式：`RANGE` $p$ $q$；\n- 输出格式：$a$ $b$ $c$ $d$。\n", "inputFormat": "第一行，一个正整数 $T$，表示数据组数；\n\n接下来 $T$ 行，每行若干个整数描述一个任务，格式见【题目描述】。", "outputFormat": "输出 $T$ 行，表示对应任务的答案，格式见【题目描述】。", "hint": "- $1\\le T\\le 10^5$；\n- 输入的所有分数都是既约的；\n- 输入的分数 $\\dfrac{p}{q}$ 都满足 $1\\le p,q\\le 10^9$。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P1798", "type": "P", "difficulty": 3, "samples": [["5 2 4\r\n1 0\r\n3 0\r\n", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "NOI 导刊"], "title": "小明搬家", "background": "", "description": "小明要搬家了，大家都来帮忙。\n\n小明现在住在第 $N$ 楼，总共 $K$ 个人要把 $M$ 个大箱子搬上 $N$ 楼。\n\n最开始 $M$ 个箱子都在 $1$ 楼，但是经过一段混乱的搬运已经乱掉了。最后大家发现这样混乱地搬运过程效率太低了，于是总结出了提高效率的方法。\n\n大家的速度都是每分钟上（或下）一层楼。所有向上走的人手中都拿一个箱子，所有向下走的人手中都不拿箱子。到达第 $N$ 层立刻放下箱子向下走，到达第 $1$ 层立刻拿起箱子向上走。当一个人向上走，另一人向下走而在楼道里相遇时，向上走的人将手中的箱子交给另一人，两人同时反向。即原来拿箱子向上走的人不拿箱子向下走，原来不拿箱子向下走的人现拿着箱子向上走。\n\n求将所有箱子搬完所需的最短时间。", "inputFormat": "第一行 $N, K, M$，分别表示楼层数、人数、还放在一楼地上的箱子数。\n\n接下来 $K$ 行，每行两个数 $A_i,B_i$。\n\n$A_i$ 表示第 $i$ 人现所在的楼层数，$B_i$ 为 $0$ 或 $1$，为 $0$ 表示第 $i$ 人正拿着箱子向上走，为 $1$ 表示第 $i$ 人不拿箱子向下走。\n\n输入满足没有任意两人正在同一楼层，在第 $1$ 层的人一定正拿着箱子向上走，在第 $N$ 层的人一定正不拿箱子向下走。", "outputFormat": "仅包含一个整数，为搬完箱子的时间。\n", "hint": "对于 $30\\%$ 的数据，$K \\leq 100$，$M \\leq 100$；\n\n对于 $60\\%$ 的数据，$K \\leq 1000$，$M \\leq 10^9$;\n\n对于 $100\\%$ 的数据，$N \\le 10^9$，$K \\le 5 \\times 10^5$，$M \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Xiaoming Moves House", "background": "", "description": "Xiaoming is moving, and everyone comes to help.\n\nXiaoming now lives on floor $N$. In total, $K$ people need to carry $M$ large boxes up to floor $N$.\n\nAt the start, all $M$ boxes are on floor $1$. After a period of chaotic moving, things got messy. Everyone then realized the chaos was inefficient and agreed on a more efficient method:\n\n- Each person moves at a speed of one floor per minute, either up or down.\n- Everyone going up carries exactly one box; everyone going down carries no box.\n- Upon reaching floor $N$, a person immediately puts the box down and starts going down. Upon reaching floor $1$, a person immediately picks up a box and starts going up.\n- When a person going up meets a person going down on the stairs, the up-going person hands the box to the other person, and both reverse direction simultaneously. That is, the person who was carrying a box upward now goes downward without a box, and the person who was going downward without a box now goes upward carrying the box.\n\nFind the minimum time needed to finish moving all the boxes.", "inputFormat": "The first line contains $N, K, M$, denoting the number of floors, the number of people, and the number of boxes still lying on floor $1$.\n\nThe next $K$ lines each contain two integers $A_i, B_i$.\n\n$A_i$ is the current floor of the $i$-th person. $B_i$ is $0$ or $1$: $0$ means the $i$-th person is carrying a box and going up, and $1$ means the $i$-th person is going down without a box.\n\nIt is guaranteed that no two people are on the same floor at the same time; anyone on floor $1$ must be going up with a box, and anyone on floor $N$ must be going down without a box.", "outputFormat": "Output a single integer: the time to finish moving all the boxes.", "hint": "- For $30\\%$ of the testdata, $K \\leq 100$, $M \\leq 100$.\n- For $60\\%$ of the testdata, $K \\leq 1000$, $M \\leq 10^9$.\n- For $100\\%$ of the testdata, $N \\le 10^9$, $K \\le 5 \\times 10^5$, $M \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小明搬家", "background": "", "description": "小明要搬家了，大家都来帮忙。\n\n小明现在住在第 $N$ 楼，总共 $K$ 个人要把 $M$ 个大箱子搬上 $N$ 楼。\n\n最开始 $M$ 个箱子都在 $1$ 楼，但是经过一段混乱的搬运已经乱掉了。最后大家发现这样混乱地搬运过程效率太低了，于是总结出了提高效率的方法。\n\n大家的速度都是每分钟上（或下）一层楼。所有向上走的人手中都拿一个箱子，所有向下走的人手中都不拿箱子。到达第 $N$ 层立刻放下箱子向下走，到达第 $1$ 层立刻拿起箱子向上走。当一个人向上走，另一人向下走而在楼道里相遇时，向上走的人将手中的箱子交给另一人，两人同时反向。即原来拿箱子向上走的人不拿箱子向下走，原来不拿箱子向下走的人现拿着箱子向上走。\n\n求将所有箱子搬完所需的最短时间。", "inputFormat": "第一行 $N, K, M$，分别表示楼层数、人数、还放在一楼地上的箱子数。\n\n接下来 $K$ 行，每行两个数 $A_i,B_i$。\n\n$A_i$ 表示第 $i$ 人现所在的楼层数，$B_i$ 为 $0$ 或 $1$，为 $0$ 表示第 $i$ 人正拿着箱子向上走，为 $1$ 表示第 $i$ 人不拿箱子向下走。\n\n输入满足没有任意两人正在同一楼层，在第 $1$ 层的人一定正拿着箱子向上走，在第 $N$ 层的人一定正不拿箱子向下走。", "outputFormat": "仅包含一个整数，为搬完箱子的时间。\n", "hint": "对于 $30\\%$ 的数据，$K \\leq 100$，$M \\leq 100$；\n\n对于 $60\\%$ 的数据，$K \\leq 1000$，$M \\leq 10^9$;\n\n对于 $100\\%$ 的数据，$N \\le 10^9$，$K \\le 5 \\times 10^5$，$M \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1799", "type": "P", "difficulty": 4, "samples": [["5\r\n1 1 2 5 4\r\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊"], "title": "数列", "background": "", "description": "虽然 msh 长大了，但她还是很喜欢找点游戏自娱自乐。有一天，她在纸上写了一串数字：$1, 1, 2, 5, 4$。接着她擦掉了一个 $1$，结果发现剩下 $1, 2, 4$ 都在自己所在的位置上，即 $1$ 在第 $1$ 位，$2$ 在第 $2$ 位，$4$ 在第 $4$ 位。她希望擦掉某些数后，剩下的数列中在自己位置上的数尽量多。她发现这个游戏很好玩，于是开始乐此不疲地玩起来……不过她不能确定最多能有多少个数在自己的位置上，所以找到你，请你帮忙计算一下！\n", "inputFormat": "第一行为一个数 $n$，表示数列的长度。\n\n接下来一行为 $n$个用空格隔开的正整数，第 $i$ 行表示数 $A_i$。\n", "outputFormat": "一行一个整数，表示擦掉某些数后，最后剩下的数列中最多能有多少个数在自己的位置上，即 $A_i=i$ 最多能有多少。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n\\leq 20$；\n- 对于 $60\\%$ 的数据，$n\\leq 100$；\n- 对于 $100\\%$ 的数据，$n\\leq 10^3$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Sequence", "background": "", "description": "Although msh has grown up, she still likes to play little games to amuse herself. One day, she wrote a sequence of numbers on paper: $1, 1, 2, 5, 4$. Then she erased one $1$, and found that the remaining $1, 2, 4$ were all in their own positions, namely $1$ at position $1$, $2$ at position $2$, and $4$ at position $4$. She wants, after erasing some numbers, to make as many numbers as possible be in their own positions in the remaining sequence. She found this game very fun and kept playing it again and again, but she cannot determine the maximum possible count, so she asks you to compute it.", "inputFormat": "The first line contains an integer $n$, the length of the sequence.\n\nThe next line contains $n$ positive integers separated by spaces; the $i$-th number is $A_i$.", "outputFormat": "Output a single integer, the maximum possible number of elements that can be in their own positions in the remaining sequence after erasing some numbers, that is, after reindexing the remaining sequence from $1$, the maximum count of positions where the value equals its index.", "hint": "Constraints\n- For $20\\%$ of the testdata, $n \\leq 20$.\n- For $60\\%$ of the testdata, $n \\leq 100$.\n- For $100\\%$ of the testdata, $n \\leq 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列", "background": "", "description": "虽然 msh 长大了，但她还是很喜欢找点游戏自娱自乐。有一天，她在纸上写了一串数字：$1, 1, 2, 5, 4$。接着她擦掉了一个 $1$，结果发现剩下 $1, 2, 4$ 都在自己所在的位置上，即 $1$ 在第 $1$ 位，$2$ 在第 $2$ 位，$4$ 在第 $4$ 位。她希望擦掉某些数后，剩下的数列中在自己位置上的数尽量多。她发现这个游戏很好玩，于是开始乐此不疲地玩起来……不过她不能确定最多能有多少个数在自己的位置上，所以找到你，请你帮忙计算一下！\n", "inputFormat": "第一行为一个数 $n$，表示数列的长度。\n\n接下来一行为 $n$个用空格隔开的正整数，第 $i$ 行表示数 $A_i$。\n", "outputFormat": "一行一个整数，表示擦掉某些数后，最后剩下的数列中最多能有多少个数在自己的位置上，即 $A_i=i$ 最多能有多少。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n\\leq 20$；\n- 对于 $60\\%$ 的数据，$n\\leq 100$；\n- 对于 $100\\%$ 的数据，$n\\leq 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P1800", "type": "P", "difficulty": 5, "samples": [["3 20\r\n1 1\r\n2 4\r\n1 6\r\n", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "二分"], "title": "software", "background": null, "description": "一个软件开发公司同时要开发两个软件，并且要同时交付给用户，现在公司为了尽快完成这一任务，将每个软件划分成 $m$ 个模块，由公司里的 $n$ 位技术人员分工完成，每个技术人员完成同一软件的不同模块的所用的天数是相同的，并且是已知的，但完成不同软件的一个模块的时间是不同的，每个技术人员在同一时刻只能做一个模块，一个模块只能由一个人独立完成而不能由多人协同完成。一个技术人员在整个开发期内完成一个模块以后可以接着做任一软件的任一模块。写一个程序，求出公司最早能在什么时候交付软件。", "inputFormat": "输入文件第一行包含两个由空格隔开的整数 $n$ 和 $m$，其中 $1 \\le n \\le 100$，$1 \\le m \\le 100$，接下来的 $n$ 行每行包含两个用空格隔开的整数 $d_1$ 和 $d_2$，$d_1$ 表示该技术人员完成第一个软件中的一个模块所需的天数，$d_2$ 表示该技术人员完成第二个软件中的一个模块所需的天数，其中 $1 \\le d_1,d_2 \\le 100$。", "outputFormat": "输出文件仅有一行包含一个整数 $d$，表示公司最早能于 $d$ 天后交付软件。", "hint": "### 样例解释\n\n最快的方案是第一个技术人员完成第二个软件的 $18$ 个模块，用时 $18$ 天，第三个技术人员完成第一个软件的 $18$ 个模块，用时 $18$ 天，其余的模块由第二个技术人员完成，用时 $12$ 天，做完所有模块需要 $18$ 天。如果第一个技术人员完成第二个软件的 $17$ 个模块，第三个技术人员完成第一个软件的 $17$ 个模块，其余的模块由第二个技术人员完成，需要用时 $18$ 天，做完所有模块仍然需要 $18$ 天，所以少于 $18$ 天不可能做完所有模块。", "locale": "zh-CN", "translations": {"en": {"title": "Software", "background": "", "description": "A software development company needs to develop two software products and deliver them at the same time. To finish this task as soon as possible, each software is divided into $m$ modules to be completed by the company’s technicians. For each technician, the number of days required to complete any module of the same software is the same and known, but the time to complete a module of the other software may be different. At any given moment, each technician can work on at most one module, and each module must be completed independently by exactly one person; collaboration on a single module is not allowed. During the entire development period, after finishing a module, a technician may proceed to any module of either software. Write a program to determine the earliest day on which the company can deliver the software.", "inputFormat": "The first line contains two space-separated integers $n$ and $m$, where $1 \\le n \\le 100$, $1 \\le m \\le 100$. Each of the next $n$ lines contains two space-separated integers $d_1$ and $d_2$. Here, $d_1$ is the number of days this technician needs to complete one module of the first software, and $d_2$ is the number of days needed to complete one module of the second software, where $1 \\le d_1, d_2 \\le 100$.", "outputFormat": "Output a single line containing an integer $d$, indicating the earliest day after which the company can deliver the software.", "hint": "### Sample Explanation\n\nThe fastest plan is for the first technician to complete $18$ modules of the second software, taking $18$ days; the third technician completes $18$ modules of the first software, taking $18$ days; the remaining modules are completed by the second technician, taking $12$ days. Finishing all modules takes $18$ days. If the first technician completes $17$ modules of the second software and the third technician completes $17$ modules of the first software, and the remaining modules are completed by the second technician, it still takes $18$ days. Therefore, it is impossible to finish in fewer than $18$ days.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "software", "background": null, "description": "一个软件开发公司同时要开发两个软件，并且要同时交付给用户，现在公司为了尽快完成这一任务，将每个软件划分成 $m$ 个模块，由公司里的 $n$ 位技术人员分工完成，每个技术人员完成同一软件的不同模块的所用的天数是相同的，并且是已知的，但完成不同软件的一个模块的时间是不同的，每个技术人员在同一时刻只能做一个模块，一个模块只能由一个人独立完成而不能由多人协同完成。一个技术人员在整个开发期内完成一个模块以后可以接着做任一软件的任一模块。写一个程序，求出公司最早能在什么时候交付软件。", "inputFormat": "输入文件第一行包含两个由空格隔开的整数 $n$ 和 $m$，其中 $1 \\le n \\le 100$，$1 \\le m \\le 100$，接下来的 $n$ 行每行包含两个用空格隔开的整数 $d_1$ 和 $d_2$，$d_1$ 表示该技术人员完成第一个软件中的一个模块所需的天数，$d_2$ 表示该技术人员完成第二个软件中的一个模块所需的天数，其中 $1 \\le d_1,d_2 \\le 100$。", "outputFormat": "输出文件仅有一行包含一个整数 $d$，表示公司最早能于 $d$ 天后交付软件。", "hint": "### 样例解释\n\n最快的方案是第一个技术人员完成第二个软件的 $18$ 个模块，用时 $18$ 天，第三个技术人员完成第一个软件的 $18$ 个模块，用时 $18$ 天，其余的模块由第二个技术人员完成，用时 $12$ 天，做完所有模块需要 $18$ 天。如果第一个技术人员完成第二个软件的 $17$ 个模块，第三个技术人员完成第一个软件的 $17$ 个模块，其余的模块由第二个技术人员完成，需要用时 $18$ 天，做完所有模块仍然需要 $18$ 天，所以少于 $18$ 天不可能做完所有模块。", "locale": "zh-CN"}}}
{"pid": "P1801", "type": "P", "difficulty": 3, "samples": [["7 4\n3 1 -4 2 8 -1000 2\n1 2 6 6\n", "3\n3\n1\n2\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树", "平衡树", "堆", "NOI 导刊", "O2优化"], "title": "黑匣子", "background": "", "description": "Black Box 是一种原始的数据库。它可以储存一个整数数组，还有一个特别的变量 $i$。最开始的时候 Black Box 是空的．而 $i=0$。这个 Black Box 要处理一串命令。\n\n命令只有两种：\n\n- `ADD(x)`：把 $x$ 元素放进 Black Box;\n\n- `GET`：$i$ 加 $1$，然后输出 Black Box 中第 $i$ 小的数。\n\n记住：第 $i$ 小的数，就是 Black Box 里的数的按从小到大的顺序排序后的第 $i$ 个元素。\n\n我们来演示一下一个有11个命令的命令串。（如下表所示）\n\n| 序号 | 操作 | $i$ | 数据库 | 输出 |\n| :--: | :--- | :------: | ------ | :----: |\n|   1  | `ADD(3)`     |   $0$    |  $3$  | / |\n|   2  | `GET` |   $1$    |  $3$  | $3$ |\n|   3  |`ADD(1)`|$1$|$1,3$|/|\n|   4  |`GET`|$2$|$1,3$|$3$|\n|   5  |`ADD(-4)`|$2$|$-4,1,3$|/|\n|   6  |`ADD(2)`|$2$|$-4,1,2,3$|/|\n|   7  |`ADD(8)`|$2$|$-4,1,2,3,8$|/|\n|   8  |`ADD(-1000)`|$2$|$-1000,-4,1,2,3,8$|/|\n|   9  |`GET`|$3$|$-1000,-4,1,2,3,8$|$1$|\n|  10  |`GET`|$4$|$-1000,-4,1,2,3,8$|$2$|\n|  11  |`ADD(2)`|$4$|$-1000,-4,1,2,2,3,8$|/|\n\n现在要求找出对于给定的命令串的最好的处理方法。`ADD` 命令共有 $m$ 个，`GET` 命令共有 $n$ 个。现在用两个整数数组来表示命令串：\n\n1. $a_1,a_2,\\cdots,a_m$：一串将要被放进 Black Box 的元素。例如上面的例子中 $a=[3,1,-4,2,8,-1000,2]$。\n\n2. $u_1,u_2,\\cdots,u_n$：表示第 $u_i$ 个元素被放进了 Black Box 里后就出现一个 `GET` 命令。例如上面的例子中 $u=[1,2,6,6]$ 。输入数据不用判错。", "inputFormat": "第一行两个整数 $m$ 和 $n$，表示元素的个数和 `GET` 命令的个数。\n\n第二行共 $m$ 个整数，从左至右第 $i$ 个整数为 $a_i$，用空格隔开。\n\n第三行共 $n$ 个整数，从左至右第 $i$ 个整数为 $u_i$，用空格隔开。", "outputFormat": "输出 Black Box 根据命令串所得出的输出串，一个数字一行。 ", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，$1 \\leq n,m \\leq 10^{4}$。\n- 对于 $50\\%$ 的数据，$1 \\leq n,m \\leq 10^{5}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 2 \\times 10^{5},|a_i| \\leq 2 \\times 10^{9}$，保证 $u$ 序列单调不降。", "locale": "zh-CN", "translations": {"en": {"title": "Black Box", "background": "", "description": "Black Box is a primitive database. It can store an integer array and a special variable $i$. Initially, the Black Box is empty and $i = 0$. This Black Box needs to process a sequence of commands.\n\nThere are only two types of commands:\n- `ADD(x)`: insert element $x$ into the Black Box;\n- `GET`: increase $i$ by $1$, then output the $i$-th smallest number in the Black Box.\n\nRemember: the $i$-th smallest number is the $i$-th element in the Black Box when its numbers are sorted in ascending order.\n\nLet’s demonstrate a sequence of 11 commands (as shown in the table below).\n\n| No. | Operation | $i$ | Database | Output |\n| :--: | :--- | :------: | ------ | :----: |\n| 1 | `ADD(3)` | $0$ | $3$ | / |\n| 2 | `GET` | $1$ | $3$ | $3$ |\n| 3 | `ADD(1)` | $1$ | $1,3$ | / |\n| 4 | `GET` | $2$ | $1,3$ | $3$ |\n| 5 | `ADD(-4)` | $2$ | $-4,1,3$ | / |\n| 6 | `ADD(2)` | $2$ | $-4,1,2,3$ | / |\n| 7 | `ADD(8)` | $2$ | $-4,1,2,3,8$ | / |\n| 8 | `ADD(-1000)` | $2$ | $-1000,-4,1,2,3,8$ | / |\n| 9 | `GET` | $3$ | $-1000,-4,1,2,3,8$ | $1$ |\n| 10 | `GET` | $4$ | $-1000,-4,1,2,3,8$ | $2$ |\n| 11 | `ADD(2)` | $4$ | $-1000,-4,1,2,2,3,8$ | / |\n\nNow you are asked to determine the outputs for a given command sequence. There are $m$ `ADD` commands and $n$ `GET` commands. The command sequence is represented by two integer arrays:\n\n1. $a_1, a_2, \\cdots, a_m$: the sequence of elements to be inserted into the Black Box. For example, in the above example $a = [3, 1, -4, 2, 8, -1000, 2]$.\n2. $u_1, u_2, \\cdots, u_n$: after the $u_i$-th element has been inserted into the Black Box, a `GET` command appears. For example, in the above example $u = [1, 2, 6, 6]$. You do not need to validate the input.", "inputFormat": "- The first line contains two integers $m$ and $n$, the number of elements and the number of `GET` commands.\n- The second line contains $m$ integers. From left to right, the $i$-th integer is $a_i$, separated by spaces.\n- The third line contains $n$ integers. From left to right, the $i$-th integer is $u_i$, separated by spaces.", "outputFormat": "Output the sequence produced by the Black Box according to the command sequence, one number per line.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, $1 \\leq n, m \\leq 10^{4}$.\n- For $50\\%$ of the testdata, $1 \\leq n, m \\leq 10^{5}$.\n- For $100\\%$ of the testdata, $1 \\leq n, m \\leq 2 \\times 10^{5}$, $|a_i| \\leq 2 \\times 10^{9}$, and the sequence $u$ is non-decreasing.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "黑匣子", "background": "", "description": "Black Box 是一种原始的数据库。它可以储存一个整数数组，还有一个特别的变量 $i$。最开始的时候 Black Box 是空的．而 $i=0$。这个 Black Box 要处理一串命令。\n\n命令只有两种：\n\n- `ADD(x)`：把 $x$ 元素放进 Black Box;\n\n- `GET`：$i$ 加 $1$，然后输出 Black Box 中第 $i$ 小的数。\n\n记住：第 $i$ 小的数，就是 Black Box 里的数的按从小到大的顺序排序后的第 $i$ 个元素。\n\n我们来演示一下一个有11个命令的命令串。（如下表所示）\n\n| 序号 | 操作 | $i$ | 数据库 | 输出 |\n| :--: | :--- | :------: | ------ | :----: |\n|   1  | `ADD(3)`     |   $0$    |  $3$  | / |\n|   2  | `GET` |   $1$    |  $3$  | $3$ |\n|   3  |`ADD(1)`|$1$|$1,3$|/|\n|   4  |`GET`|$2$|$1,3$|$3$|\n|   5  |`ADD(-4)`|$2$|$-4,1,3$|/|\n|   6  |`ADD(2)`|$2$|$-4,1,2,3$|/|\n|   7  |`ADD(8)`|$2$|$-4,1,2,3,8$|/|\n|   8  |`ADD(-1000)`|$2$|$-1000,-4,1,2,3,8$|/|\n|   9  |`GET`|$3$|$-1000,-4,1,2,3,8$|$1$|\n|  10  |`GET`|$4$|$-1000,-4,1,2,3,8$|$2$|\n|  11  |`ADD(2)`|$4$|$-1000,-4,1,2,2,3,8$|/|\n\n现在要求找出对于给定的命令串的最好的处理方法。`ADD` 命令共有 $m$ 个，`GET` 命令共有 $n$ 个。现在用两个整数数组来表示命令串：\n\n1. $a_1,a_2,\\cdots,a_m$：一串将要被放进 Black Box 的元素。例如上面的例子中 $a=[3,1,-4,2,8,-1000,2]$。\n\n2. $u_1,u_2,\\cdots,u_n$：表示第 $u_i$ 个元素被放进了 Black Box 里后就出现一个 `GET` 命令。例如上面的例子中 $u=[1,2,6,6]$ 。输入数据不用判错。", "inputFormat": "第一行两个整数 $m$ 和 $n$，表示元素的个数和 `GET` 命令的个数。\n\n第二行共 $m$ 个整数，从左至右第 $i$ 个整数为 $a_i$，用空格隔开。\n\n第三行共 $n$ 个整数，从左至右第 $i$ 个整数为 $u_i$，用空格隔开。", "outputFormat": "输出 Black Box 根据命令串所得出的输出串，一个数字一行。 ", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，$1 \\leq n,m \\leq 10^{4}$。\n- 对于 $50\\%$ 的数据，$1 \\leq n,m \\leq 10^{5}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n,m \\leq 2 \\times 10^{5},|a_i| \\leq 2 \\times 10^{9}$，保证 $u$ 序列单调不降。", "locale": "zh-CN"}}}
{"pid": "P1802", "type": "P", "difficulty": 2, "samples": [["6 8\n21 52 1\n21 70 5\n21 48 2\n14 38 3\n14 36 1\n14 36 2\n", "1060"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "5 倍经验日", "background": "现在乐斗有活动了！每打一个人可以获得 5 倍经验！absi2011 却无奈的看着那一些比他等级高的好友，想着能否把他们干掉。干掉能拿不少经验的。", "description": "现在 absi2011 拿出了 $x$ 个迷你装药物（嗑药打人可耻…），准备开始与那些人打了。\n\n由于迷你装药物每个只能用一次，所以 absi2011 要谨慎的使用这些药。悲剧的是，用药量没达到最少打败该人所需的属性药药量，则打这个人必输。例如他用 $2$ 个药去打别人，别人却表明 $3$ 个药才能打过，那么相当于你输了并且这两个属性药浪费了。\n\n现在有 $n$ 个好友，给定失败时可获得的经验、胜利时可获得的经验，打败他至少需要的药量。\n\n要求求出最大经验 $s$，输出 $5s$。", "inputFormat": "第一行两个数，$n$ 和 $x$。\n\n后面 $n$ 行每行三个数，分别表示失败时获得的经验 $\\mathit{lose}_i$，胜利时获得的经验 $\\mathit{win}_i$ 和打过要至少使用的药数量 $\\mathit{use}_i$。", "outputFormat": "一个整数，最多获得的经验的五倍。", "hint": "**【Hint】**\n\n五倍经验活动的时候，absi2011 总是吃体力药水而不是这种属性药。\n\n**【数据范围】**\n\n- 对于 $10\\%$ 的数据，保证 $x=0$。\n- 对于 $30\\%$ 的数据，保证 $0\\le n\\le 10$，$0\\le x\\le 20$。\n- 对于 $60\\%$ 的数据，保证 $0\\le n,x\\le 100$， $10<lose_i,win_i\\le 100$，$0\\le use_i\\le 5$。\n- 对于 $100\\%$ 的数据，保证 $0\\le n,x\\le 10^3$，$0<lose_i\\le win_i\\le 10^6$，$0\\le use_i\\le 10^3$。\n\n**【题目来源】**\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN", "translations": {"en": {"title": "5x Experience Day", "background": "The game \"Le Dou\" now has an event! Each fight grants 5x experience! absi2011 helplessly looks at those higher-level friends, wondering if he can beat them. Beating them would yield quite a lot of experience.", "description": "Now absi2011 has taken out $x$ mini attribute potions (taking potions to fight is shameful...), and is ready to fight those people.\n\nSince each mini attribute potion can only be used once, absi2011 must use them carefully. Unfortunately, if the amount of potions used does not reach the minimum required to defeat someone, then that fight is a guaranteed loss. For example, if he uses $2$ potions to fight someone, but it actually takes $3$ potions to win, then you lose, and those two attribute potions are wasted.\n\nThere are $n$ friends. For each, you are given the experience for losing, the experience for winning, and the minimum number of potions required to defeat that friend.\n\nFind the maximum experience $s$, and output $5s$.", "inputFormat": "The first line contains two integers, $n$ and $x$.\n\nEach of the next $n$ lines contains three integers, representing the experience gained on a loss $\\mathit{lose}_i$, the experience gained on a win $\\mathit{win}_i$, and the minimum number of potions required to defeat that friend $\\mathit{use}_i$.", "outputFormat": "A single integer, which is five times the maximum obtainable experience.", "hint": "- Hint:\n  During the 5x experience event, absi2011 always uses stamina potions instead of these attribute potions.\n\n- Constraints:\n  - For $10\\%$ of the testdata, it is guaranteed that $x = 0$.\n  - For $30\\%$ of the testdata, it is guaranteed that $0 \\le n \\le 10$, $0 \\le x \\le 20$.\n  - For $60\\%$ of the testdata, it is guaranteed that $0 \\le n, x \\le 100$, $10 < \\mathit{lose}_i, \\mathit{win}_i \\le 100$, $0 \\le \\mathit{use}_i \\le 5$.\n  - For $100\\%$ of the testdata, it is guaranteed that $0 \\le n, x \\le 10^3$, $0 < \\mathit{lose}_i \\le \\mathit{win}_i \\le 10^6$, $0 \\le \\mathit{use}_i \\le 10^3$.\n\n- Problem Source:\n  fight.pet.qq.com.\n  Authorized by absi2011.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "5 倍经验日", "background": "现在乐斗有活动了！每打一个人可以获得 5 倍经验！absi2011 却无奈的看着那一些比他等级高的好友，想着能否把他们干掉。干掉能拿不少经验的。", "description": "现在 absi2011 拿出了 $x$ 个迷你装药物（嗑药打人可耻…），准备开始与那些人打了。\n\n由于迷你装药物每个只能用一次，所以 absi2011 要谨慎的使用这些药。悲剧的是，用药量没达到最少打败该人所需的属性药药量，则打这个人必输。例如他用 $2$ 个药去打别人，别人却表明 $3$ 个药才能打过，那么相当于你输了并且这两个属性药浪费了。\n\n现在有 $n$ 个好友，给定失败时可获得的经验、胜利时可获得的经验，打败他至少需要的药量。\n\n要求求出最大经验 $s$，输出 $5s$。", "inputFormat": "第一行两个数，$n$ 和 $x$。\n\n后面 $n$ 行每行三个数，分别表示失败时获得的经验 $\\mathit{lose}_i$，胜利时获得的经验 $\\mathit{win}_i$ 和打过要至少使用的药数量 $\\mathit{use}_i$。", "outputFormat": "一个整数，最多获得的经验的五倍。", "hint": "**【Hint】**\n\n五倍经验活动的时候，absi2011 总是吃体力药水而不是这种属性药。\n\n**【数据范围】**\n\n- 对于 $10\\%$ 的数据，保证 $x=0$。\n- 对于 $30\\%$ 的数据，保证 $0\\le n\\le 10$，$0\\le x\\le 20$。\n- 对于 $60\\%$ 的数据，保证 $0\\le n,x\\le 100$， $10<lose_i,win_i\\le 100$，$0\\le use_i\\le 5$。\n- 对于 $100\\%$ 的数据，保证 $0\\le n,x\\le 10^3$，$0<lose_i\\le win_i\\le 10^6$，$0\\le use_i\\le 10^3$。\n\n**【题目来源】**\n\nfight.pet.qq.com\n\nabsi2011 授权题目", "locale": "zh-CN"}}}
{"pid": "P1803", "type": "P", "difficulty": 2, "samples": [["3\n0 2\n2 4\n1 3\n", "2\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "排序"], "title": "凌乱的yyy / 线段覆盖", "background": "**Python 用户可以尝试使用 pypy3 提交试题。**\n\n快 noip 了，yyy 很紧张！\n", "description": "现在各大 oj 上有 $n$ 个比赛，每个比赛的开始、结束的时间点是知道的。\n\nyyy 认为，参加越多的比赛，noip 就能考的越好（假的）。\n\n所以，他想知道他最多能参加几个比赛。\n\n由于 yyy 是蒟蒻，如果要参加一个比赛必须善始善终，而且不能同时参加 $2$ 个及以上的比赛。", "inputFormat": "第一行是一个整数 $n$，接下来 $n$ 行每行是 $2$ 个整数 $a_{i},b_{i}\\ (a_{i}<b_{i})$，表示比赛开始、结束的时间。", "outputFormat": "一个整数最多参加的比赛数目。\n", "hint": "- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $50\\%$ 的数据，$n \\le 10^3$；\n- 对于 $70\\%$ 的数据，$n \\le 10^{5}$；\n- 对于 $100\\%$ 的数据，$1\\le n \\le 10^{6}$，$0 \\le a_{i} < b_{i} \\le 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Messy yyy / Segment Coverage", "background": "Python users can try submitting with pypy3.\n\nNOIP is coming soon, and yyy is very nervous!", "description": "There are $n$ contests on various OJ sites, and the start and end times of each contest are known.\n\nyyy believes that the more contests he attends, the better he will do in NOIP (not really). So, he wants to know the maximum number of contests he can attend.\n\nSince yyy is a \"juruo\" (rookie), if he decides to attend a contest, he must see it through from start to finish, and he cannot attend $2$ or more contests at the same time.", "inputFormat": "The first line contains an integer $n$. The next $n$ lines each contain $2$ integers $a_{i},b_{i}\\ (a_{i}<b_{i})$, representing the start and end times of a contest.", "outputFormat": "Output a single integer: the maximum number of contests he can attend.", "hint": "- For $20\\%$ of the testdata, $n \\le 10$.\n- For $50\\%$ of the testdata, $n \\le 10^3$.\n- For $70\\%$ of the testdata, $n \\le 10^{5}$.\n- For $100\\%$ of the testdata, $1\\le n \\le 10^{6}$, $0 \\le a_{i} < b_{i} \\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "凌乱的yyy / 线段覆盖", "background": "**Python 用户可以尝试使用 pypy3 提交试题。**\n\n快 noip 了，yyy 很紧张！\n", "description": "现在各大 oj 上有 $n$ 个比赛，每个比赛的开始、结束的时间点是知道的。\n\nyyy 认为，参加越多的比赛，noip 就能考的越好（假的）。\n\n所以，他想知道他最多能参加几个比赛。\n\n由于 yyy 是蒟蒻，如果要参加一个比赛必须善始善终，而且不能同时参加 $2$ 个及以上的比赛。", "inputFormat": "第一行是一个整数 $n$，接下来 $n$ 行每行是 $2$ 个整数 $a_{i},b_{i}\\ (a_{i}<b_{i})$，表示比赛开始、结束的时间。", "outputFormat": "一个整数最多参加的比赛数目。\n", "hint": "- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $50\\%$ 的数据，$n \\le 10^3$；\n- 对于 $70\\%$ 的数据，$n \\le 10^{5}$；\n- 对于 $100\\%$ 的数据，$1\\le n \\le 10^{6}$，$0 \\le a_{i} < b_{i} \\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P1805", "type": "P", "difficulty": 5, "samples": [["4\r\n1 0 1 0", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["高精度", "递推", "NOI 导刊", "线性递推"], "title": "关灯", "background": "", "description": "在某条道路上，有 $n$ 盏灯排成一排，它们有的是开着的，有的是关着的。\n\n由于天马上就要亮了，上级给了你一个任务：把所有的灯都关掉。\n\n只不过，这些灯都比较智能，不会被轻易关掉。它们的开或关遵循如下规则：\n\n- 每一步只能开或关一盏灯。\n- 编号为 $1$ 的灯可以随意开或关。\n- 如果编号为 $1, 2, \\cdots,k-1$ 的灯都关上了了，并且编号为 $k$ 的灯在开着，我们可以随意开或关第 $k+1$ 盏灯。\n\n在关灯之前，请你计算：至少要多少步才能关上所有灯？", "inputFormat": "第 $1$ 行一个整数 $n$，表示灯的个数。\n\n第 $2$ 行有 $n$ 个整数，如果第 $i$ 个整数 $O_i=0$，表示第 $i$ 个盏灯初始的时候是关着的；如果 $O_i=1$，表示第 $i$ 盏灯初始的时候是开着的。", "outputFormat": "共一行一个整数，表示最少需要多少步才能关上所有灯。\n", "hint": "【输出解释】\n\n- 初始状态 $1010$；\n- 第 $1$ 步 $1110$；\n- 第 $2$ 步 $0110$；\n- 第 $3$ 步 $0100$；\n- 第 $4$ 步 $1100$；\n- 第 $5$ 步 $1000$；\n- 第 $6$ 步 $0000$。\n\n### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$n \\le 30$；\n- 对于 $70\\%$ 的数据，$n \\le 300$；\n- 对于 $100\\%$ 的数据，$n \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Turning Off the Lights", "background": "", "description": "Along a road, there are $n$ lights in a row; some are on, and some are off.\n\nDawn is about to break, and you are given a task: turn all the lights off.\n\nHowever, these lights are rather smart and cannot be turned off easily. Their on/off behavior follows the rules below:\n- In each step, you may turn on or off exactly one light.\n- The light with index $1$ can be turned on or off freely.\n- If lights $1, 2, \\cdots, k-1$ are all off and light $k$ is on, then you may freely turn on or off light $k+1$.\n\nBefore turning off the lights, please compute the minimum number of steps needed to turn all the lights off.", "inputFormat": "The first line contains an integer $n$, the number of lights.\n\nThe second line contains $n$ integers. If the $i$-th integer $O_i = 0$, the $i$-th light is initially off; if $O_i = 1$, the $i$-th light is initially on.", "outputFormat": "Output a single integer on one line, the minimum number of steps required to turn off all the lights.", "hint": "[Output Explanation]\n- Initial state: 1010.\n- Step 1: 1110.\n- Step 2: 0110.\n- Step 3: 0100.\n- Step 4: 1100.\n- Step 5: 1000.\n- Step 6: 0000.\n\nConstraints\n- For $40\\%$ of the testdata, $n \\le 30$.\n- For $70\\%$ of the testdata, $n \\le 300$.\n- For $100\\%$ of the testdata, $n \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "关灯", "background": "", "description": "在某条道路上，有 $n$ 盏灯排成一排，它们有的是开着的，有的是关着的。\n\n由于天马上就要亮了，上级给了你一个任务：把所有的灯都关掉。\n\n只不过，这些灯都比较智能，不会被轻易关掉。它们的开或关遵循如下规则：\n\n- 每一步只能开或关一盏灯。\n- 编号为 $1$ 的灯可以随意开或关。\n- 如果编号为 $1, 2, \\cdots,k-1$ 的灯都关上了了，并且编号为 $k$ 的灯在开着，我们可以随意开或关第 $k+1$ 盏灯。\n\n在关灯之前，请你计算：至少要多少步才能关上所有灯？", "inputFormat": "第 $1$ 行一个整数 $n$，表示灯的个数。\n\n第 $2$ 行有 $n$ 个整数，如果第 $i$ 个整数 $O_i=0$，表示第 $i$ 个盏灯初始的时候是关着的；如果 $O_i=1$，表示第 $i$ 盏灯初始的时候是开着的。", "outputFormat": "共一行一个整数，表示最少需要多少步才能关上所有灯。\n", "hint": "【输出解释】\n\n- 初始状态 $1010$；\n- 第 $1$ 步 $1110$；\n- 第 $2$ 步 $0110$；\n- 第 $3$ 步 $0100$；\n- 第 $4$ 步 $1100$；\n- 第 $5$ 步 $1000$；\n- 第 $6$ 步 $0000$。\n\n### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$n \\le 30$；\n- 对于 $70\\%$ 的数据，$n \\le 300$；\n- 对于 $100\\%$ 的数据，$n \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1806", "type": "P", "difficulty": 3, "samples": [["212", "995645335"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "NOI 导刊", "组合数学"], "title": "跑步", "background": "", "description": "路人甲准备跑 $n$ 圈来锻炼自己的身体，他准备分多次（$\\gt1$）跑完，每次都跑正整数圈，然后休息下再继续跑。\n\n为了有效地提高自己的体能，他决定每次跑的圈数都必须比上次跑的多。\n\n可以假设他刚开始跑了 $0$ 圈，那么请问他可以有多少种跑完这 $n$ 圈的方案？", "inputFormat": "一行一个整数，代表 $n$。", "outputFormat": "一个整数表示跑完这 $n$ 圈的方案数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$。", "locale": "zh-CN", "translations": {"en": {"title": "Running", "background": "", "description": "Passerby A plans to run $n$ laps to exercise. He intends to finish in multiple sessions ($\\gt 1$), running a positive integer number of laps each time, then resting before continuing.\n\nTo effectively improve his fitness, he decides that the number of laps he runs each time must be greater than the previous time.\n\nAssuming he has run $0$ laps at the start, how many ways are there for him to finish these $n$ laps?", "inputFormat": "A single line containing an integer $n$.", "outputFormat": "A single integer representing the number of ways to finish the $n$ laps.", "hint": "#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $5 \\le n \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跑步", "background": "", "description": "路人甲准备跑 $n$ 圈来锻炼自己的身体，他准备分多次（$\\gt1$）跑完，每次都跑正整数圈，然后休息下再继续跑。\n\n为了有效地提高自己的体能，他决定每次跑的圈数都必须比上次跑的多。\n\n可以假设他刚开始跑了 $0$ 圈，那么请问他可以有多少种跑完这 $n$ 圈的方案？", "inputFormat": "一行一个整数，代表 $n$。", "outputFormat": "一个整数表示跑完这 $n$ 圈的方案数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $5\\le n\\le 500$。", "locale": "zh-CN"}}}
{"pid": "P1807", "type": "P", "difficulty": 3, "samples": [["2 1\n1 2 1", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "图论", "NOI 导刊", "广度优先搜索 BFS", "拓扑排序", "最短路"], "title": "最长路", "background": "", "description": "设 $G$ 为有 $n$ 个顶点的带权有向无环图，$G$ 中各顶点的编号为 $1$ 到 $n$，请设计算法，计算图 $G$ 中 $1, n$ 间的最长路径。", "inputFormat": "输入的第一行有两个整数，分别代表图的点数 $n$ 和边数 $m$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行 $3$ 个整数 $u, v, w$（$u<v$），代表存在一条从 $u$ 到  $v$ 边权为 $w$ 的边。", "outputFormat": "输出一行一个整数，代表 $1$ 到 $n$ 的最长路。\n\n若 $1$ 无法到达 $n$，请输出 $-1$。", "hint": "**【数据规模与约定】**\n\n- 对于 $20\\%$的数据，$n \\leq 100$，$m \\leq 10^3$。\n- 对于 $40\\%$ 的数据，$n \\leq 10^3$，$m \\leq 10^{4}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n \\leq 1500$，$0 \\leq m \\leq 5 \\times 10^4$，$1 \\leq u, v \\leq n$，$-10^5 \\leq w \\leq 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Longest Path", "background": "", "description": "Let $G$ be a weighted directed acyclic graph with $n$ vertices, labeled from $1$ to $n$. Design an algorithm to compute the longest path from $1$ to $n$ in $G$.", "inputFormat": "The first line contains two integers, the number of vertices $n$ and the number of edges $m$.\n\nLines $2$ to $(m + 1)$ each contain three integers $u, v, w$ ($u<v$), indicating there is a directed edge from $u$ to $v$ with weight $w$.", "outputFormat": "Output a single integer on one line, representing the length of the longest path from $1$ to $n$.\n\nIf $1$ cannot reach $n$, output $-1$.", "hint": "Constraints\n\n- For $20\\%$ of the testdata, $n \\leq 100$, $m \\leq 10^3$.\n- For $40\\%$ of the testdata, $n \\leq 10^3$, $m \\leq 10^{4}$.\n- For $100\\%$ of the testdata, $1 \\leq n \\leq 1500$, $0 \\leq m \\leq 5 \\times 10^4$, $1 \\leq u, v \\leq n$, $-10^5 \\leq w \\leq 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最长路", "background": "", "description": "设 $G$ 为有 $n$ 个顶点的带权有向无环图，$G$ 中各顶点的编号为 $1$ 到 $n$，请设计算法，计算图 $G$ 中 $1, n$ 间的最长路径。", "inputFormat": "输入的第一行有两个整数，分别代表图的点数 $n$ 和边数 $m$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行 $3$ 个整数 $u, v, w$（$u<v$），代表存在一条从 $u$ 到  $v$ 边权为 $w$ 的边。", "outputFormat": "输出一行一个整数，代表 $1$ 到 $n$ 的最长路。\n\n若 $1$ 无法到达 $n$，请输出 $-1$。", "hint": "**【数据规模与约定】**\n\n- 对于 $20\\%$的数据，$n \\leq 100$，$m \\leq 10^3$。\n- 对于 $40\\%$ 的数据，$n \\leq 10^3$，$m \\leq 10^{4}$。\n- 对于 $100\\%$ 的数据，$1 \\leq n \\leq 1500$，$0 \\leq m \\leq 5 \\times 10^4$，$1 \\leq u, v \\leq n$，$-10^5 \\leq w \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1808", "type": "P", "difficulty": 2, "samples": [["3 \nAABAC \nCBAAA \nAAABB", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "NOI 导刊", "排序"], "title": "单词分类", "background": "", "description": "Oliver 为了学好英语决定苦背单词，但很快他发现要直接记住杂乱无章的单词非常困难，他决定对单词进行分类。\n\n两个单词可以分为一类当且仅当组成这两个单词的各个字母的数量均相等。\n\n例如 $\\verb!AABAC!$，它和 $\\verb!CBAAA!$ 就可以归为一类，而和 $\\verb!AAABB!$ 就不是一类。\n\n现在Oliver有 $N$ 个单词，所有单词均由大写字母组成，每个单词的长度不超过 $100$。你要告诉 Oliver 这些单词会被分成几类。\n", "inputFormat": "输入文件的第一行为单词个数 $N$，以下 $N$ 行每行为一个单词。", "outputFormat": "输出文件仅包含一个数，表示这 $N$ 个单词分成的类数。\n", "hint": "- 对于 $70\\%$ 的数据满足 $1\\le N \\le 100$；\n- 对于 $100\\%$ 的数据满足 $1\\le N \\le 10000$。", "locale": "zh-CN", "translations": {"en": {"title": "Word Classification", "background": "", "description": "Oliver decides to memorize English vocabulary, but he soon finds it hard to remember disordered words directly, so he decides to classify them.\n\nTwo words belong to the same class if and only if the counts of each letter in the two words are equal.\n\nFor example, $\\verb!AABAC!$ and $\\verb!CBAAA!$ can be grouped into the same class, whereas $\\verb!AAABB!$ is not in the same class.\n\nNow Oliver has $N$ words. All words consist of uppercase letters, and each word has a length of at most $100$. You need to tell Oliver how many classes these words are divided into.", "inputFormat": "The first line contains the number of words $N$. Each of the next $N$ lines contains one word.", "outputFormat": "Output a single integer, which is the number of classes into which these $N$ words are divided.", "hint": "- For $70\\%$ of the testdata, $1 \\le N \\le 100$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "单词分类", "background": "", "description": "Oliver 为了学好英语决定苦背单词，但很快他发现要直接记住杂乱无章的单词非常困难，他决定对单词进行分类。\n\n两个单词可以分为一类当且仅当组成这两个单词的各个字母的数量均相等。\n\n例如 $\\verb!AABAC!$，它和 $\\verb!CBAAA!$ 就可以归为一类，而和 $\\verb!AAABB!$ 就不是一类。\n\n现在Oliver有 $N$ 个单词，所有单词均由大写字母组成，每个单词的长度不超过 $100$。你要告诉 Oliver 这些单词会被分成几类。\n", "inputFormat": "输入文件的第一行为单词个数 $N$，以下 $N$ 行每行为一个单词。", "outputFormat": "输出文件仅包含一个数，表示这 $N$ 个单词分成的类数。\n", "hint": "- 对于 $70\\%$ 的数据满足 $1\\le N \\le 100$；\n- 对于 $100\\%$ 的数据满足 $1\\le N \\le 10000$。", "locale": "zh-CN"}}}
{"pid": "P1809", "type": "P", "difficulty": 4, "samples": [["4\n6\n7\n10\n15\n", "42\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "NOI 导刊"], "title": "过河问题", "background": null, "description": "有一个大晴天，Oliver 与同学们一共 $N$ 人出游，他们走到一条河的东岸边，想要过河到西岸。而东岸边有一条小船。 \n\n船太小了，一次只能乘坐两人。每个人都有一个渡河时间 $T$，船划到对岸的时间等于船上渡河时间较长的人所用时间。 \n\n现在已知 $N$ 个人的渡河时间 $T$，Oliver 想要你告诉他，他们最少要花费多少时间，才能使所有人都过河。 \n\n注意，只有船在东岸（西岸）的人才能坐上船划到对岸。", "inputFormat": "输入文件第一行为人数 $N$，以下有 $N$ 行，每行一个数。 \n\n第 $i+1$ 行的数为第 $i$ 个人的渡河时间。", "outputFormat": "输出文件仅包含一个数，表示所有人都渡过河的最少渡河时间。", "hint": "### 数据范围\n\n对于 $40\\%$ 的数据满足 $N\\le8$。 \n\n对于 $100\\%$ 的数据满足 $4\\le N\\le10^5,1\\le T\\leq 10^7$。\n\n\n### 样例解释\n\n- 初始：东岸 $\\{1,2,3,4\\}$，西岸 $\\{\\}$；\n- 第一次：东岸 $\\{3,4\\}$，西岸 $\\{1,2\\}$，时间 $7$；\n- 第二次：东岸 $\\{1,3,4\\}$，西岸 $\\{2\\}$，时间 $6$；\n- 第三次：东岸 $\\{1\\}$，西岸 $\\{2,3,4\\}$，时间 $15$；\n- 第四次：东岸 $\\{1,2\\}$，西岸 $\\{3,4\\}$ 时间 $7$；\n- 第五次：东岸 $\\{\\}$，西岸 $\\{1,2,3,4\\}$ 时间 $7$。\n\n所以总时间为 $7+6+15+7+7=42$，没有比这个更优的方案。", "locale": "zh-CN", "translations": {"en": {"title": "River Crossing Problem", "background": "", "description": "On a sunny day, Oliver and his classmates, $N$ people in total, come to the east bank of a river and want to cross to the west bank. There is a small boat on the east bank.\n\nThe boat is very small and can carry at most two people at a time. Each person has a crossing time $T$, and the time of a trip equals the longer crossing time among the people on the boat.\n\nGiven the crossing times $T$ of all $N$ people, Oliver wants you to tell him the minimum total time needed for everyone to cross the river.\n\nNote that only people on the bank where the boat currently is (east or west) may board the boat to row to the other side.", "inputFormat": "The first line contains the number of people $N$. The next $N$ lines each contain one number.\n\nThe number on the $(i+1)$-th line is the crossing time of the $i$-th person.", "outputFormat": "Output a single number, the minimum total time for all people to cross the river.", "hint": "Constraints\n\nFor $40\\%$ of the testdata, $N \\le 8$.\nFor $100\\%$ of the testdata, $N \\le 10^5, T \\le 10^7$.\n\nSample Explanation\n\n- Initial: east bank {1, 2, 3, 4}, west bank {}.\n- First: east bank {3, 4}, west bank {1, 2}, time 7.\n- Second: east bank {1, 3, 4}, west bank {2}, time 6.\n- Third: east bank {1}, west bank {2, 3, 4}, time 15.\n- Fourth: east bank {1, 2}, west bank {3, 4}, time 7.\n- Fifth: east bank {}, west bank {1, 2, 3, 4}, time 7.\n\nSo the total time is $7+6+15+7+7=42$, and there is no better plan.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "过河问题", "background": null, "description": "有一个大晴天，Oliver 与同学们一共 $N$ 人出游，他们走到一条河的东岸边，想要过河到西岸。而东岸边有一条小船。 \n\n船太小了，一次只能乘坐两人。每个人都有一个渡河时间 $T$，船划到对岸的时间等于船上渡河时间较长的人所用时间。 \n\n现在已知 $N$ 个人的渡河时间 $T$，Oliver 想要你告诉他，他们最少要花费多少时间，才能使所有人都过河。 \n\n注意，只有船在东岸（西岸）的人才能坐上船划到对岸。", "inputFormat": "输入文件第一行为人数 $N$，以下有 $N$ 行，每行一个数。 \n\n第 $i+1$ 行的数为第 $i$ 个人的渡河时间。", "outputFormat": "输出文件仅包含一个数，表示所有人都渡过河的最少渡河时间。", "hint": "### 数据范围\n\n对于 $40\\%$ 的数据满足 $N\\le8$。 \n\n对于 $100\\%$ 的数据满足 $4\\le N\\le10^5,1\\le T\\leq 10^7$。\n\n\n### 样例解释\n\n- 初始：东岸 $\\{1,2,3,4\\}$，西岸 $\\{\\}$；\n- 第一次：东岸 $\\{3,4\\}$，西岸 $\\{1,2\\}$，时间 $7$；\n- 第二次：东岸 $\\{1,3,4\\}$，西岸 $\\{2\\}$，时间 $6$；\n- 第三次：东岸 $\\{1\\}$，西岸 $\\{2,3,4\\}$，时间 $15$；\n- 第四次：东岸 $\\{1,2\\}$，西岸 $\\{3,4\\}$ 时间 $7$；\n- 第五次：东岸 $\\{\\}$，西岸 $\\{1,2,3,4\\}$ 时间 $7$。\n\n所以总时间为 $7+6+15+7+7=42$，没有比这个更优的方案。", "locale": "zh-CN"}}}
{"pid": "P1811", "type": "P", "difficulty": 3, "samples": [["4 4 2\n1 2\n2 3\n3 4\n1 3\n1 2 3\n1 3 4", "4 \n1 3 2 3 4 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["NOI 导刊", "Special Judge", "O2优化", "广度优先搜索 BFS"], "title": "最短路", "background": null, "description": "给定一个包含 $N$ 个点，$M$ 条边的无向图，每条边的边权均为 $1$。\n\n再给定 $K$ 个三元组 $(A,B,C)$，表示从 $A$ 点走到 $B$ 点后不能往 $C$ 点走。注意三元组是有序的，如可以从 $B$ 点走到 $A$ 点再走到 $C$。\n\n现在你要在 $K$ 个三元组的限制下，找出 $1$ 号点到 $N$ 号点的最短路径，并输出任意一条合法路径，会有 Check 检查你的输出。", "inputFormat": "输入文件第一行有三个数 $N$，$M$，$K$，意义如题目所述。\n\n接下来 $M$ 行每行两个数 $A$，$B$，表示 $A$，$B$ 间有一条边。\n\n再下面 $K$ 行，每行三个数 $(A,B,C)$ 描述一个三元组。", "outputFormat": "输出文件共两行数，第一行一个数 $S$ 表示最短路径长度。\n\n第二行 $S+1$ 个数，表示从 $1$ 到 $N$ 所经过的节点。", "hint": "对于 $40\\%$ 的数据满足 $N \\le 10$，$M \\le 20$，$K \\le 5$。\n\n对于 $100\\%$ 的数据满足 $N \\le 3000$，$M \\le 20000$，$K \\le 100000$。", "locale": "zh-CN", "translations": {"en": {"title": "Shortest Path", "background": "", "description": "Given an undirected graph with $N$ vertices and $M$ edges, where each edge has weight $1$.\n\nYou are also given $K$ ordered triples $(A,B,C)$, meaning that after moving from $A$ to $B$, you are not allowed to move to $C$. Note that the triples are ordered; for example, it is allowed to go from $B$ to $A$ and then to $C$.\n\nUnder the constraints given by the $K$ triples, find the shortest path from node $1$ to node $N$, and output any valid path. A Check will verify your output.", "inputFormat": "The first line contains three integers $N$, $M$, $K$, as described above.\n\nEach of the next $M$ lines contains two integers $A$, $B$, indicating there is an edge between $A$ and $B$.\n\nEach of the next $K$ lines contains three integers $(A,B,C)$ describing one triple.", "outputFormat": "Output consists of two lines. The first line contains a single integer $S$, the length of the shortest path.\n\nThe second line contains $S+1$ integers, the sequence of nodes visited from $1$ to $N$.", "hint": "For 40% of the testdata, $N \\le 10$, $M \\le 20$, $K \\le 5$.\n\nFor 100% of the testdata, $N \\le 3000$, $M \\le 20000$, $K \\le 100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最短路", "background": null, "description": "给定一个包含 $N$ 个点，$M$ 条边的无向图，每条边的边权均为 $1$。\n\n再给定 $K$ 个三元组 $(A,B,C)$，表示从 $A$ 点走到 $B$ 点后不能往 $C$ 点走。注意三元组是有序的，如可以从 $B$ 点走到 $A$ 点再走到 $C$。\n\n现在你要在 $K$ 个三元组的限制下，找出 $1$ 号点到 $N$ 号点的最短路径，并输出任意一条合法路径，会有 Check 检查你的输出。", "inputFormat": "输入文件第一行有三个数 $N$，$M$，$K$，意义如题目所述。\n\n接下来 $M$ 行每行两个数 $A$，$B$，表示 $A$，$B$ 间有一条边。\n\n再下面 $K$ 行，每行三个数 $(A,B,C)$ 描述一个三元组。", "outputFormat": "输出文件共两行数，第一行一个数 $S$ 表示最短路径长度。\n\n第二行 $S+1$ 个数，表示从 $1$ 到 $N$ 所经过的节点。", "hint": "对于 $40\\%$ 的数据满足 $N \\le 10$，$M \\le 20$，$K \\le 5$。\n\n对于 $100\\%$ 的数据满足 $N \\le 3000$，$M \\le 20000$，$K \\le 100000$。", "locale": "zh-CN"}}}
{"pid": "P1812", "type": "P", "difficulty": 5, "samples": [["-[-3,5] \n[3,5]+[-10,1] \n[3,5]-[-10,1] \n[3,5]*[-10,1] \n(([3,5]/[-10,-0.1])/-[2,2]) ", "[-5.000,3.000] \n[-7.000,6.000] \n[2.000,15.000] \n[-50.000,5.000] \n[0.150,25.000]"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递归"], "title": "区间运算", "background": "", "description": "区间运算是数学的一个领域。在区间运算中，常量和变量并不表示为一个单独、精确的值，而是表示为一个有着上界和下界的区间或范围。在普通的运算中，一个数量可以表示为数轴上的一个点；而在区间运算中，一个数量表示数轴上的一段，例如 $[3,5]$ 表示数轴上从 $3$ 到 $5$ 的一段。当精确的数值表示为区间时，上界与下界是相同的，如 $5$ 表示为区间即为 $[5,5]$。\n\n两个区间的运算，是指一个区间中的每个点与另一个区间中的每个点所做的运算，通过运算所得的所有点的集合即为运算的结果。例如，$[3,5]+[-10,1]=[-7,6]$。你的任务是写一个可以根据单行表达式进行取相反数、加、减、乘、除等基本的区间运算的程序。下面是一些运算的例子：\n\n- 取相反数：$-[-3,5]=[-5,3]$；\n- 加法：$[3,5]+[-10,1]=[-7,6]$；\n- 减法：$[3,5]-[-10,1]=[2,15]$；\n- 乘法：$[3,5]\\times [-10,1]=[-50,5]$；\n- 除法：$[3,5]\\div [-10,-0.1]=[-50,-0.3]$。", "inputFormat": "程序的输入包含一行或多行区间运算的中缀表达式，每个区间都表示为 $[\\min,\\max]$，表达式中包括括号、负号（$\\verb!-!$）、加号（$\\verb!+!$）、减号（$\\verb!-!$）、乘号（$\\verb!*!$）和除号（$\\verb!/!$），括号可能是嵌套的。每一行中都有可能有空格，但空格不会在表示区间的括号 $[\\min,\\max]$ 中间或负号后出现。程序不需要处理科学记数法，如 $\\verb!2E6!=2\\times 10^6$。每一行都不超过 $80$ 个字符。运算采用标准的优先级规则。下面按优先级递减的顺序给出各个算符：\n\n- $\\verb!(!,\\verb!)!$ 括号；\n- $\\verb!-!$ 取相反数；\n- $\\verb!*!,\\verb!/!$，乘法和除法，同级运算按从左到右的顺序；\n- $\\verb!+!,\\verb!-!$，加法和减法，同级运算按从左到右的顺序。", "outputFormat": "对于输入文件中每一行的表达式，以 $[\\min,\\max]$（均保留 $3$ 位小数）的形式输出运算结果。每个结果占一行。结果中不应有空格。在运算中，如果将一个包含 $0$ 的区间用作除数，则输出 `Division by zero`。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Interval Arithmetic", "background": "", "description": "Interval arithmetic is a branch of mathematics. In interval arithmetic, constants and variables are not represented by a single exact value, but by an interval or range with a lower and an upper bound. In ordinary arithmetic, a quantity can be represented as a point on the number line; in interval arithmetic, a quantity is represented as a segment on the number line, for example, $[3,5]$ denotes the segment from $3$ to $5$. When an exact number is represented as an interval, the upper and lower bounds are identical, e.g., $5$ as an interval is $[5,5]$.\n\nAn operation on two intervals means applying the operation to every point in one interval with every point in the other interval; the set of all resulting points is the result of the operation. For example, $[3,5]+[-10,1]=[-7,6]$. Your task is to write a program that can perform the basic interval operations of unary negation, addition, subtraction, multiplication, and division according to a single-line expression. Here are some examples:\n- Negation: $-[-3,5]=[-5,3]$.\n- Addition: $[3,5]+[-10,1]=[-7,6]$.\n- Subtraction: $[3,5]-[-10,1]=[2,15]$.\n- Multiplication: $[3,5]\\times [-10,1]=[-50,5]$.\n- Division: $[3,5]\\div [-10,-0.1]=[-50,-0.3]$.", "inputFormat": "The input consists of one or more lines, each containing an infix expression over intervals. Each interval is written as $[\\min,\\max]$. Expressions may include parentheses, the minus sign ($\\verb!-!$), plus ($\\verb!+!$), minus ($\\verb!-!$), multiplication ($\\verb!*!$), and division ($\\verb!/!$); parentheses may be nested. A line may contain spaces, but no space appears inside the brackets of an interval $[\\min,\\max]$ or immediately after a minus sign. Scientific notation need not be handled, e.g., $\\verb!2E6!=2\\times 10^6$. Each line contains at most $80$ characters. Operations follow the standard precedence rules. Operators are listed below in decreasing order of precedence:\n- $\\verb!(!,\\verb!)!$ parentheses.\n- $\\verb!-!$ unary negation.\n- $\\verb!*!,\\verb!/!$ multiplication and division; operators of the same precedence are evaluated from left to right.\n- $\\verb!+!,\\verb!-!$ addition and subtraction; operators of the same precedence are evaluated from left to right.", "outputFormat": "For each input line, output the result as $[\\min,\\max]$ (both endpoints rounded to $3$ decimal places). Print one result per line. There must be no spaces in the output. During evaluation, if an interval that contains $0$ is used as a divisor, output `Division by zero`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "区间运算", "background": "", "description": "区间运算是数学的一个领域。在区间运算中，常量和变量并不表示为一个单独、精确的值，而是表示为一个有着上界和下界的区间或范围。在普通的运算中，一个数量可以表示为数轴上的一个点；而在区间运算中，一个数量表示数轴上的一段，例如 $[3,5]$ 表示数轴上从 $3$ 到 $5$ 的一段。当精确的数值表示为区间时，上界与下界是相同的，如 $5$ 表示为区间即为 $[5,5]$。\n\n两个区间的运算，是指一个区间中的每个点与另一个区间中的每个点所做的运算，通过运算所得的所有点的集合即为运算的结果。例如，$[3,5]+[-10,1]=[-7,6]$。你的任务是写一个可以根据单行表达式进行取相反数、加、减、乘、除等基本的区间运算的程序。下面是一些运算的例子：\n\n- 取相反数：$-[-3,5]=[-5,3]$；\n- 加法：$[3,5]+[-10,1]=[-7,6]$；\n- 减法：$[3,5]-[-10,1]=[2,15]$；\n- 乘法：$[3,5]\\times [-10,1]=[-50,5]$；\n- 除法：$[3,5]\\div [-10,-0.1]=[-50,-0.3]$。", "inputFormat": "程序的输入包含一行或多行区间运算的中缀表达式，每个区间都表示为 $[\\min,\\max]$，表达式中包括括号、负号（$\\verb!-!$）、加号（$\\verb!+!$）、减号（$\\verb!-!$）、乘号（$\\verb!*!$）和除号（$\\verb!/!$），括号可能是嵌套的。每一行中都有可能有空格，但空格不会在表示区间的括号 $[\\min,\\max]$ 中间或负号后出现。程序不需要处理科学记数法，如 $\\verb!2E6!=2\\times 10^6$。每一行都不超过 $80$ 个字符。运算采用标准的优先级规则。下面按优先级递减的顺序给出各个算符：\n\n- $\\verb!(!,\\verb!)!$ 括号；\n- $\\verb!-!$ 取相反数；\n- $\\verb!*!,\\verb!/!$，乘法和除法，同级运算按从左到右的顺序；\n- $\\verb!+!,\\verb!-!$，加法和减法，同级运算按从左到右的顺序。", "outputFormat": "对于输入文件中每一行的表达式，以 $[\\min,\\max]$（均保留 $3$ 位小数）的形式输出运算结果。每个结果占一行。结果中不应有空格。在运算中，如果将一个包含 $0$ 的区间用作除数，则输出 `Division by zero`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1813", "type": "P", "difficulty": 5, "samples": [["4 5 1 4 \r\n1 2 0 1 1 \r\n1 2 0 1 2 \r\n1 3 1 3 2 \r\n2 4 3 4 1 \r\n3 4 3 4 1 ", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "拯救小 tim", "background": "", "description": "小 tim 在游乐场，有一天终于逃了出来！但是不小心又被游乐场的工作人员发现了…所以你的任务是安全地把小 tim 护送回家。但是，A 市复杂的交通状况给你出了一大难题。 \n\nA 市一共有 $n$ 个路口，$m$ 条单行马路。但是，每条马路都只有一段时间是开放的。为了安全，你必须选择一条护送路线，使得小 tim 在路上的时间最短，即到家的时刻减去离开游乐场的时刻最短。", "inputFormat": "第一行 $4$ 个数，分别是 $n,m,s,t$。基地在路口 $s$，码头在路口 $t$。\n\n接下来 $m$ 行每行 $5$ 个数 $x,y,b,e,c$ 表示一条 $x$ 路口到 $y$ 路口的单行线，在 $b$ 时刻到 $e$ 时刻之间开放，需要 $c$ 的时间通过这条路（必须保证行进在路中间时，路一直开放，否则小 tim 会被捉住）。两个路口之间可能会有多条道路。一开始的时刻是 $0$（当然，你可以不用马上出发，在基地多呆一段时间）。\n\n如果不存在任何一种方案使得小 tim 能成功到达码头，输出 `Impossible`。", "outputFormat": "一行，为小 tim 在路上停留的最短时间。", "hint": "**【样例解释 #1】**\n\n最优方案应该是，在 $1$ 号点停留至时刻 $1$，然后走到 $3$ 号点，然后走到 $4$ 号点。到达时刻为时刻 $4$。tim 在路上的时间为 $4-1=3$。\n\n### 数据范围\n\n对于所有测试数据：\n- $2\\leqslant n\\leqslant100$，$0\\leqslant m\\leqslant1000$，$1\\leqslant s,t\\leqslant n$，$s\\not=t$；\n- $1\\leqslant x,y\\leqslant n$，$0\\leqslant b,e,c\\leqslant10000$，$b<e$。", "locale": "zh-CN", "translations": {"en": {"title": "Save Little Tim", "background": "", "description": "Little Tim was in an amusement park and finally escaped one day! But he was accidentally spotted by the staff again… So your task is to safely escort Little Tim home. However, the complex traffic in City A gives you a big challenge.\n\nCity A has $n$ intersections and $m$ one-way roads. Each road is only open during a certain time interval. For safety, you must choose an escort route that minimizes Tim’s time on the road, that is, minimize the arrival time minus the time when he leaves the amusement park.", "inputFormat": "The first line contains $4$ numbers, $n,m,s,t$. The base is at intersection $s$, and the dock is at intersection $t$.\n\nEach of the next $m$ lines contains $5$ numbers $x,y,b,e,c$, describing a directed road from intersection $x$ to intersection $y$, which is open from time $b$ to time $e$, and takes $c$ time to traverse (you must ensure that the road remains open during the entire traversal; otherwise Tim will be caught). There may be multiple roads between two intersections. The start time is $0$ (of course, you don’t have to depart immediately; you may wait at the base).\n\nIf no plan exists that allows Tim to reach the dock, output `Impossible`.", "outputFormat": "Output one line: the minimal time Tim spends on the road.", "hint": "[Sample Explanation #1]\n\nThe optimal plan is to stay at node $1$ until time $1$, then go to node $3$, then go to node $4$. The arrival time is $4$. Tim’s time on the road is $4-1=3$.\n\nConstraints\n\nFor all testdata:\n- $2\\leqslant n\\leqslant 100$, $0\\leqslant m\\leqslant 1000$, $1\\leqslant s,t\\leqslant n$, $s\\not= t$.\n- $1\\leqslant x,y\\leqslant n$, $0\\leqslant b,e,c\\leqslant 10000$, $b< e$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "拯救小 tim", "background": "", "description": "小 tim 在游乐场，有一天终于逃了出来！但是不小心又被游乐场的工作人员发现了…所以你的任务是安全地把小 tim 护送回家。但是，A 市复杂的交通状况给你出了一大难题。 \n\nA 市一共有 $n$ 个路口，$m$ 条单行马路。但是，每条马路都只有一段时间是开放的。为了安全，你必须选择一条护送路线，使得小 tim 在路上的时间最短，即到家的时刻减去离开游乐场的时刻最短。", "inputFormat": "第一行 $4$ 个数，分别是 $n,m,s,t$。基地在路口 $s$，码头在路口 $t$。\n\n接下来 $m$ 行每行 $5$ 个数 $x,y,b,e,c$ 表示一条 $x$ 路口到 $y$ 路口的单行线，在 $b$ 时刻到 $e$ 时刻之间开放，需要 $c$ 的时间通过这条路（必须保证行进在路中间时，路一直开放，否则小 tim 会被捉住）。两个路口之间可能会有多条道路。一开始的时刻是 $0$（当然，你可以不用马上出发，在基地多呆一段时间）。\n\n如果不存在任何一种方案使得小 tim 能成功到达码头，输出 `Impossible`。", "outputFormat": "一行，为小 tim 在路上停留的最短时间。", "hint": "**【样例解释 #1】**\n\n最优方案应该是，在 $1$ 号点停留至时刻 $1$，然后走到 $3$ 号点，然后走到 $4$ 号点。到达时刻为时刻 $4$。tim 在路上的时间为 $4-1=3$。\n\n### 数据范围\n\n对于所有测试数据：\n- $2\\leqslant n\\leqslant100$，$0\\leqslant m\\leqslant1000$，$1\\leqslant s,t\\leqslant n$，$s\\not=t$；\n- $1\\leqslant x,y\\leqslant n$，$0\\leqslant b,e,c\\leqslant10000$，$b<e$。", "locale": "zh-CN"}}}
{"pid": "P1814", "type": "P", "difficulty": 5, "samples": [["1   \r\n20 \r\n31117532   \r\n0 ", "X\n((X)X(X))X\n(X(X(((X(X))X(X))X(X))))X(((X((X)X((X)X)))X)X)"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递归", "Catalan 数"], "title": "数的序号", "background": "", "description": "我们可以用下面的方案给二叉树标号：\n\n- 空树的序号为 $0$。\n- 只有一个根结点的树序号为 $1$。\n- 所有包含 $m$ 个结点的二叉树的序号一定比任何一个包含 $m+1$ 个结点的二叉树的序号小。\n- 对于任何一棵二叉树，设其左子树序号为 $L$，右子树序号为 $R$，且它有 $m$ 个结点，若它的序号为 $n$，则所有序号大于 $n$ 的 $m$ 个结点的二叉树，要么左子树序号大于 $L$，要么左子树序号等于 $L$ 且右子树序号大于 $R$。\n\n例如，编号为 $0$ 到 $5$ 的六棵树形状如下：\n\n```plain\n0   1   2       3   4       5 \n    X   X       X   X       X\n         \\     /     \\       \\\n          X   X       X       X\n                       \\     /\n                        X   X\n```\n\n你的任务就是对给定的序号，输出该序号所对应的二叉树。\n", "inputFormat": "**本题有多组数据。**\n\n输入的每行有一个非负整数 $n$，$n=0$ 表示输入结束，此时**不需要**输出 $n=0$ 的空树。", "outputFormat": "对于每组数据，输出一行，代表序号 $n$ 对应的树。\n\n一棵二叉树的表示为 `(L)X(R)`，其中 $L,R$ 分别是左子树和右子树的表示，如一侧为空则省略，例如只有左子树则表示为 `(L)X`。", "hint": "### 数据规模与约定\n\n对于所有测试点，保证 $1\\le n\\le 5\\times10^8$，数据组数不超过 $50$。", "locale": "zh-CN", "translations": {"en": {"title": "Index of a Binary Tree", "background": "", "description": "We can label binary trees using the following scheme:\n\n- The empty tree has index $0$.\n- The tree with only a root node has index $1$.\n- All binary trees with $m$ nodes have indices smaller than any binary tree with $m+1$ nodes.\n- For any binary tree, let its left-subtree index be $L$, its right-subtree index be $R$, and it have $m$ nodes. If its index is $n$, then for all $m$-node binary trees whose indices are greater than $n$, either their left-subtree index is greater than $L$, or their left-subtree index equals $L$ and their right-subtree index is greater than $R$.\n\nFor example, the six trees with indices $0$ through $5$ have the following shapes:\n\n```plain\n0   1   2       3   4       5 \n    X   X       X   X       X\n         \\     /     \\       \\\n          X   X       X       X\n                       \\     /\n                        X   X\n```\n\nYour task is to output the binary tree corresponding to a given index.", "inputFormat": "This problem has multiple test cases.\n\nEach line contains a non-negative integer $n$. $n=0$ indicates the end of input, and you do not need to output the empty tree for $n=0$.", "outputFormat": "For each test case, output one line representing the tree corresponding to index $n$.\n\nA binary tree is represented as `(L)X(R)`, where $L$ and $R$ are the representations of the left and right subtrees, respectively. If one side is empty, omit it; for example, if there is only a left subtree, it is represented as `(L)X`.", "hint": "### Constraints\n\n对于所有测试点，保证 $1\\le n\\le 5\\times10^8$，数据组数不超过 $50$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数的序号", "background": "", "description": "我们可以用下面的方案给二叉树标号：\n\n- 空树的序号为 $0$。\n- 只有一个根结点的树序号为 $1$。\n- 所有包含 $m$ 个结点的二叉树的序号一定比任何一个包含 $m+1$ 个结点的二叉树的序号小。\n- 对于任何一棵二叉树，设其左子树序号为 $L$，右子树序号为 $R$，且它有 $m$ 个结点，若它的序号为 $n$，则所有序号大于 $n$ 的 $m$ 个结点的二叉树，要么左子树序号大于 $L$，要么左子树序号等于 $L$ 且右子树序号大于 $R$。\n\n例如，编号为 $0$ 到 $5$ 的六棵树形状如下：\n\n```plain\n0   1   2       3   4       5 \n    X   X       X   X       X\n         \\     /     \\       \\\n          X   X       X       X\n                       \\     /\n                        X   X\n```\n\n你的任务就是对给定的序号，输出该序号所对应的二叉树。\n", "inputFormat": "**本题有多组数据。**\n\n输入的每行有一个非负整数 $n$，$n=0$ 表示输入结束，此时**不需要**输出 $n=0$ 的空树。", "outputFormat": "对于每组数据，输出一行，代表序号 $n$ 对应的树。\n\n一棵二叉树的表示为 `(L)X(R)`，其中 $L,R$ 分别是左子树和右子树的表示，如一侧为空则省略，例如只有左子树则表示为 `(L)X`。", "hint": "### 数据规模与约定\n\n对于所有测试点，保证 $1\\le n\\le 5\\times10^8$，数据组数不超过 $50$。", "locale": "zh-CN"}}}
{"pid": "P1815", "type": "P", "difficulty": 3, "samples": [["18 \nNWWWWWWWWWWSESSSWS \n20 \nSSSWWNENNNNNWWWWSSSS \n30 \nEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE \n13 \nSWWWWWWWWWNEE \n0", "The worm successfully made all 18 moves. \nThe worm ran into itself on move 9. \nThe worm ran off the board on move 21. \nThe worm successfully made all 13 moves."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "蠕虫游戏", "background": "", "description": "蠕虫是一个古老的电脑游戏，它有许多版本。但所有版本都有一个共同的规则：操纵一条蠕虫在屏幕上转圈，并试着去避免撞到自己或障碍物。\n\n这里我们将模拟一个简单的版本。游戏将在 $50 \\times 50$ 的棋盘上进行，棋盘的左上角为 $(1,1)$，蠕虫在初始时是一串 $20$ 个相连的方格。所谓相连是指方格在水平或垂直方向上相接。蠕虫开始时是水平地伸展开的，从 $(25,11)$ 到 $(25,30)$。其中 $(25,30)$ 是它的头。蠕虫只能向东 $\\verb!E!$、西 $\\verb!W!$、南 $\\verb!S!$、北 $\\verb!N!$ 四个方向移动，但不能向自己移动，因此在开始时向西 $\\verb!W!$ 是不允许的。每次移动时，蠕虫向给定的方向移动，一次只移一格，并且保持它的长度不变。因此只有蠕虫的头和尾所占据的方格在移动一步后被改变。注意：蠕虫的头能移动到虫尾刚刚让出的空格。\n\n你将被给定一系列移动指令并模拟虫的移动，直到蠕虫撞上了自己，或者蠕虫越出了棋盘，或者蠕虫成功地完成了这些指令。在前两种情况下你应当忽略剩下的指令。", "inputFormat": "每个输入文件包含了多组数据，每个数据占两行。\n\n第一行是一个整数 $n\\ (n<100)$，表示移动指令的指令数（以 $n=0$ 表示输入结束）；\n\n第二行包括了 $n$ 个字符，只有可能是 $\\verb!ESWN!$ 中的一种，字符之间没有空格，表示移动的指令。", "outputFormat": "每个数据输出一行，格式为以下 $3$ 种中的一种： \n\n- $\\texttt{The worm ran into itself on move \\textrm{\\it m}.}$\n- $\\texttt{The worm ran off the board on move \\textrm{\\it m}.}$\n- $\\texttt{The worm successfully made all \\textrm{\\it m} moves.}$\n\n其中，$m$ 是你要决定输出的步数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Worm Game", "background": "# Description\n\nWorm is a classic computer game with many versions, but they all share a common rule: you control a worm that turns on the screen and try to avoid colliding with itself or with obstacles.\n\nHere we simulate a simple version. The game is played on a $50 \\times 50$ board, with the top-left corner at $(1, 1)$. Initially, the worm occupies a chain of $20$ connected cells. “Connected” means adjacent horizontally or vertically. The worm starts stretched horizontally from $(25, 11)$ to $(25, 30)$, where $(25, 30)$ is its head. The worm can move only East \\verb!E!, West \\verb!W!, South \\verb!S!, and North \\verb!N!, but it cannot move into itself, so moving West \\verb!W! at the very beginning is not allowed. On each move, the worm moves one cell in the given direction and keeps its length unchanged. Therefore, only the cells occupied by the head and the tail change after one step. Note: the head may move into the cell just vacated by the tail.\n\nYou are given a sequence of move instructions and must simulate the worm’s movement until the worm runs into itself, the worm goes off the board, or the worm successfully completes all the instructions. In the first two cases, you should ignore any remaining instructions.", "description": "Worm is a classic computer game with many versions, but they all share a common rule: you control a worm that turns on the screen and try to avoid colliding with itself or with obstacles.\n\nHere we simulate a simple version. The game is played on a $50 \\times 50$ board, with the top-left corner at $(1, 1)$. Initially, the worm occupies a chain of $20$ connected cells. “Connected” means adjacent horizontally or vertically. The worm starts stretched horizontally from $(25, 11)$ to $(25, 30)$, where $(25, 30)$ is its head. The worm can move only East \\verb!E!, West \\verb!W!, South \\verb!S!, and North \\verb!N!, but it cannot move into itself, so moving West \\verb!W! at the very beginning is not allowed. On each move, the worm moves one cell in the given direction and keeps its length unchanged. Therefore, only the cells occupied by the head and the tail change after one step. Note: the head may move into the cell just vacated by the tail.\n\nYou are given a sequence of move instructions and must simulate the worm’s movement until the worm runs into itself, the worm goes off the board, or the worm successfully completes all the instructions. In the first two cases, you should ignore any remaining instructions.\n\n# Description", "inputFormat": "Each input file contains multiple test cases, each taking two lines.\n\nThe first line is an integer $n\\ (n<100)$, the number of move instructions (with $n=0$ indicating the end of input).\n\nThe second line contains $n$ characters, each one of \\verb!ESWN!, with no spaces, representing the move instructions.", "outputFormat": "For each test case, output one line, in one of the following $3$ formats:\n- \\texttt{The worm ran into itself on move \\textrm{\\it m}.}\n- \\texttt{The worm ran off the board on move \\textrm{\\it m}.}\n- \\texttt{The worm successfully made all \\textrm{\\it m} moves.}\n\nHere, $m$ is the step number you must determine.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "蠕虫游戏", "background": "", "description": "蠕虫是一个古老的电脑游戏，它有许多版本。但所有版本都有一个共同的规则：操纵一条蠕虫在屏幕上转圈，并试着去避免撞到自己或障碍物。\n\n这里我们将模拟一个简单的版本。游戏将在 $50 \\times 50$ 的棋盘上进行，棋盘的左上角为 $(1,1)$，蠕虫在初始时是一串 $20$ 个相连的方格。所谓相连是指方格在水平或垂直方向上相接。蠕虫开始时是水平地伸展开的，从 $(25,11)$ 到 $(25,30)$。其中 $(25,30)$ 是它的头。蠕虫只能向东 $\\verb!E!$、西 $\\verb!W!$、南 $\\verb!S!$、北 $\\verb!N!$ 四个方向移动，但不能向自己移动，因此在开始时向西 $\\verb!W!$ 是不允许的。每次移动时，蠕虫向给定的方向移动，一次只移一格，并且保持它的长度不变。因此只有蠕虫的头和尾所占据的方格在移动一步后被改变。注意：蠕虫的头能移动到虫尾刚刚让出的空格。\n\n你将被给定一系列移动指令并模拟虫的移动，直到蠕虫撞上了自己，或者蠕虫越出了棋盘，或者蠕虫成功地完成了这些指令。在前两种情况下你应当忽略剩下的指令。", "inputFormat": "每个输入文件包含了多组数据，每个数据占两行。\n\n第一行是一个整数 $n\\ (n<100)$，表示移动指令的指令数（以 $n=0$ 表示输入结束）；\n\n第二行包括了 $n$ 个字符，只有可能是 $\\verb!ESWN!$ 中的一种，字符之间没有空格，表示移动的指令。", "outputFormat": "每个数据输出一行，格式为以下 $3$ 种中的一种： \n\n- $\\texttt{The worm ran into itself on move \\textrm{\\it m}.}$\n- $\\texttt{The worm ran off the board on move \\textrm{\\it m}.}$\n- $\\texttt{The worm successfully made all \\textrm{\\it m} moves.}$\n\n其中，$m$ 是你要决定输出的步数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1816", "type": "P", "difficulty": 3, "samples": [["10 3\n1 2 3 4 5 6 7 8 9 10\n2 7\n3 9\n1 10", "2 3 1"]], "limits": {"time": [400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线段树", "倍增", "树状数组", "ST 表"], "title": "忠诚", "background": null, "description": "老管家是一个聪明能干的人。他为财主工作了整整 $10$ 年。财主为了让自已账目更加清楚，要求管家每天记  $k$ 次账。由于管家聪明能干，因而管家总是让财主十分满意。\n\n但是由于一些人的挑拨，财主还是对管家产生了怀疑。于是他决定用一种特别的方法来判断管家的忠诚。他把每次的账目按 $1, 2, 3, \\ldots$ 编号，然后不定时地问管家这样的问题：在 $a$ 到 $b$ 号账中最少的一笔是多少？\n\n为了让管家没时间作假，他总是一次问多个问题。", "inputFormat": "第一行输入两个数 $m, n$，表示有 $m$ 笔账和 $n$ 个问题。  \n第二行输入 $m$ 个数，分别表示账目的钱数 $x_i$。  \n接下来 $n$ 行分别输入 $n$ 个问题，每行 $2$ 个数字，分别表示开始的账目编号 $a$ 和结束的账目编号 $b$。", "outputFormat": "第一行输出每个问题的答案，每个答案中间以一个空格分隔。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq 10^5$，$1 \\leq n \\leq 10^5$，$0 \\le x_i \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Loyalty", "background": "", "description": "The old butler is a smart and capable man. He has worked for the master for $10$ full years. To make his accounts clearer, the master requires the butler to record the accounts $k$ times each day. Because the butler is smart and capable, he always keeps the master very satisfied.\n\nHowever, after some people sowed discord, the master still became suspicious of the butler. So he decided to use a special method to judge the butler’s \"loyalty\". He numbers each account entry as $1, 2, 3, \\ldots$, and from time to time asks the butler questions like: among the entries numbered from $a$ to $b$, what is the minimum amount?\n\nTo leave the butler no time to falsify, he always asks multiple questions at once.", "inputFormat": "The first line contains two integers $m, n$, indicating there are $m$ account entries and $n$ queries.\nThe second line contains $m$ numbers, representing the amounts of each account entry.\nThe next $n$ lines each describe a query, with $2$ numbers per line, denoting the starting index $a$ and the ending index $b$.", "outputFormat": "Output the answers to all queries in one line, separated by single spaces.", "hint": "For $100\\%$ of the testdata, $1 \\leq m \\leq 10^5$, $1 \\leq n \\leq 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "忠诚", "background": null, "description": "老管家是一个聪明能干的人。他为财主工作了整整 $10$ 年。财主为了让自已账目更加清楚，要求管家每天记  $k$ 次账。由于管家聪明能干，因而管家总是让财主十分满意。\n\n但是由于一些人的挑拨，财主还是对管家产生了怀疑。于是他决定用一种特别的方法来判断管家的忠诚。他把每次的账目按 $1, 2, 3, \\ldots$ 编号，然后不定时地问管家这样的问题：在 $a$ 到 $b$ 号账中最少的一笔是多少？\n\n为了让管家没时间作假，他总是一次问多个问题。", "inputFormat": "第一行输入两个数 $m, n$，表示有 $m$ 笔账和 $n$ 个问题。  \n第二行输入 $m$ 个数，分别表示账目的钱数 $x_i$。  \n接下来 $n$ 行分别输入 $n$ 个问题，每行 $2$ 个数字，分别表示开始的账目编号 $a$ 和结束的账目编号 $b$。", "outputFormat": "第一行输出每个问题的答案，每个答案中间以一个空格分隔。", "hint": "对于 $100\\%$ 的数据，$1 \\leq m \\leq 10^5$，$1 \\leq n \\leq 10^5$，$0 \\le x_i \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1817", "type": "P", "difficulty": 5, "samples": [["1 2   \n", "2   \n"], ["2 3\n", "30\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "轮廓线 DP", "状压 DP"], "title": "棋盘染色", "background": "", "description": "给定一个 $N \\times M$ 的网格，每个格子可以染成黑色或者白色，要求所有黑色格子连通，所有白色格子连通，并且至少有一个黑色格子贴边，至少有一个白色格子贴边。问有多少种染色方法？ ", "inputFormat": "第一行有两个正整数 $N, M$。", "outputFormat": "只有一个正整数表示答案。\n", "hint": "对于 $100 \\%$ 的数据：$1 \\le N \\le 7$，$1 \\le M \\le 8$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Grid Coloring", "background": "", "description": "Given an $N \\times M$ grid, each cell can be colored black or white. All black cells must be connected, all white cells must be connected, and at least one black cell is on the border while at least one white cell is on the border. How many valid colorings are there?", "inputFormat": "The first line contains two positive integers $N, M$.", "outputFormat": "Output a single positive integer representing the answer.", "hint": "Constraints: For $100 \\%$ of the testdata: $1 \\le N \\le 7$, $1 \\le M \\le 8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "棋盘染色", "background": "", "description": "给定一个 $N \\times M$ 的网格，每个格子可以染成黑色或者白色，要求所有黑色格子连通，所有白色格子连通，并且至少有一个黑色格子贴边，至少有一个白色格子贴边。问有多少种染色方法？ ", "inputFormat": "第一行有两个正整数 $N, M$。", "outputFormat": "只有一个正整数表示答案。\n", "hint": "对于 $100 \\%$ 的数据：$1 \\le N \\le 7$，$1 \\le M \\le 8$。\n", "locale": "zh-CN"}}}
{"pid": "P1818", "type": "P", "difficulty": 5, "samples": [["9.5 2.0 12 \r\n4.4 3.4 12478   \r\n10 3.4 23577", "86   \r\n5094   \r\n63033"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "NOI 导刊"], "title": "电影投票", "background": "", "description": "有一个投票系统可以给电影评分，规定每票都必须投 $1$ 到 $10$ 的整数。现在希望投尽量少的票让一个电影的平均分数低于某个值。", "inputFormat": "多组数据，对于每组数据只有一行，有两个带 $1$ 位小数的实数 $X$ 、 $Y$ 和一个正整数 $N$，表示一部电影的平均得分保留 $1$ 位小数后的结果和 XP 期望的平均得分保留一位小数后的结果，并且该电影已经被投了 $N$ 次票了。保证 $Y$ 小于等于 $X$。", "outputFormat": "对于每组数据，输出一个正整数 $\\mathit{ans}$，表示最坏情况下只要 XP 投 $\\mathit{ans}$ 张票，一定能让这部电影的平均得分保留一位小数后小于等于 $Y$。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1\\le N \\le 100$，$1\\le T \\le 100$；\n- 对于 $100\\%$ 的数据，$1\\le T \\le 10^4$，$X,Y\\in[1,10]$，$1\\le N \\le 10^6$。\n\n### 注意事项\n\n保留一位小数采取四舍五入保留法。实数可能会有精度误差。", "locale": "zh-CN", "translations": {"en": {"title": "Movie Voting", "background": "", "description": "There is a voting system that rates movies, where each vote must be an integer from $1$ to $10$. We want to cast as few votes as possible so that a movie’s average score falls below a certain value.", "inputFormat": "Multiple test cases. Each test case consists of a single line containing two real numbers with exactly one decimal place $X$, $Y$, and a positive integer $N$. Here, $X$ is the movie’s current average score rounded to one decimal place, $Y$ is XP’s desired average score rounded to one decimal place, and the movie has already received $N$ votes. It is guaranteed that $Y \\le X$. Process until EOF.", "outputFormat": "For each test case, output a positive integer $\\mathit{ans}$, meaning that in the worst case, as long as XP casts $\\mathit{ans}$ votes, it is guaranteed that the movie’s average score rounded to one decimal place will be less than or equal to $Y$.", "hint": "### Constraints and Agreements\n\n- For $30\\%$ of the testdata, $1 \\le N \\le 100$, $1 \\le T \\le 100$.\n- For $100\\%$ of the testdata, $1 \\le T \\le 10^4$, $X, Y \\in [1, 10]$, $1 \\le N \\le 10^6$.\n\n### Notes\n\nRound to one decimal place using the round half up method. Real numbers may have precision errors.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "电影投票", "background": "", "description": "有一个投票系统可以给电影评分，规定每票都必须投 $1$ 到 $10$ 的整数。现在希望投尽量少的票让一个电影的平均分数低于某个值。", "inputFormat": "多组数据，对于每组数据只有一行，有两个带 $1$ 位小数的实数 $X$ 、 $Y$ 和一个正整数 $N$，表示一部电影的平均得分保留 $1$ 位小数后的结果和 XP 期望的平均得分保留一位小数后的结果，并且该电影已经被投了 $N$ 次票了。保证 $Y$ 小于等于 $X$。", "outputFormat": "对于每组数据，输出一个正整数 $\\mathit{ans}$，表示最坏情况下只要 XP 投 $\\mathit{ans}$ 张票，一定能让这部电影的平均得分保留一位小数后小于等于 $Y$。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$1\\le N \\le 100$，$1\\le T \\le 100$；\n- 对于 $100\\%$ 的数据，$1\\le T \\le 10^4$，$X,Y\\in[1,10]$，$1\\le N \\le 10^6$。\n\n### 注意事项\n\n保留一位小数采取四舍五入保留法。实数可能会有精度误差。", "locale": "zh-CN"}}}
{"pid": "P1819", "type": "P", "difficulty": 6, "samples": [["4   \naabb   \nabab   \nbaba\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "公共子序列", "background": "", "description": "求 $3$ 个字符序列有多少个不同的公共子序列，不包括空序列。", "inputFormat": "第一行为一个正整数 $n$，表示 $3$ 个序列的长度。\n\n接下来 $3$ 行，每行一个无空格长度为 $n$ 的字符序列。只包含小写字母 `a` 到 `z`。", "outputFormat": "一行一个正整数 $ans$，对 $10^8$ 取模。", "hint": "#### 样例 1解释\n\n对于唯一的一个样例，有 $5$ 种子序列，分别是 `a`，`ab`，`aa`，`bb`，`b`。\n\n#### 数据范围与约定\n\n- 对于 $30\\%$ 的数据，保证 $1 \\le n \\le 10$；\n- 对于 $70\\%$ 的数据，保证 $1 \\le n \\le 50$；\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 150$。", "locale": "zh-CN", "translations": {"en": {"title": "Common Subsequences", "background": "", "description": "Find how many distinct common subsequences the $3$ character sequences share, excluding the empty sequence.", "inputFormat": "The first line contains a positive integer $n$, denoting the length of the $3$ sequences.\nThe next $3$ lines each contain a length-$n$ character sequence without spaces. Only lowercase letters `a` to `z` are used.", "outputFormat": "One line with a positive integer $ans$, taken modulo $10^8$.", "hint": "#### Sample 1 Explanation\n\nFor the single sample, there are $5$ subsequences: `a`, `ab`, `aa`, `bb`, `b`.\n\n#### Constraints and Conventions\n\n- For $30\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 10$.\n- For $70\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 50$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 150$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "公共子序列", "background": "", "description": "求 $3$ 个字符序列有多少个不同的公共子序列，不包括空序列。", "inputFormat": "第一行为一个正整数 $n$，表示 $3$ 个序列的长度。\n\n接下来 $3$ 行，每行一个无空格长度为 $n$ 的字符序列。只包含小写字母 `a` 到 `z`。", "outputFormat": "一行一个正整数 $ans$，对 $10^8$ 取模。", "hint": "#### 样例 1解释\n\n对于唯一的一个样例，有 $5$ 种子序列，分别是 `a`，`ab`，`aa`，`bb`，`b`。\n\n#### 数据范围与约定\n\n- 对于 $30\\%$ 的数据，保证 $1 \\le n \\le 10$；\n- 对于 $70\\%$ 的数据，保证 $1 \\le n \\le 50$；\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 150$。", "locale": "zh-CN"}}}
{"pid": "P1820", "type": "P", "difficulty": 6, "samples": [["4 4\n1 2 3 4", "1 4"], ["9 13\n1 1 1 2 3 4 5 6 7 8 9 9 9", "1 2 3 4 5 6 7 8 9"], ["2 2\n1 2", "QAQ"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "图论建模", "有限状态自动机"], "title": "麻将 加强加强版", "background": "此题为 [P4050](/problem/P4050) 与 [P6454](/problem/P6454) 的加强版。\n\n小 A 喜欢打麻将。", "description": "小 A 找到了一副奇怪的麻将牌：只有一种 $1,2,\\cdots,n$ 的数牌，且每种牌都有**无穷多张**。\n\n定义「雀头」为两张一样的牌（如 $2,2$，$7,7$），「刻子」为三张一样的牌（如 $1,1,1$，$4,4,4$），「顺子」为三张序数相邻的牌（如 $1,2,3$，$9,10,11$，注意 $1$ 与 $n$ 不相邻）。「顺子」与「刻子」统称「面子」。\n\n假如你能把你的手牌分为若干组「面子」（**可以相同**）以及一组「雀头」，那么你就可以「和牌」。\n\n假如某副手牌加上某张牌后可以「和牌」，则称这副手牌「听」这张牌。\n\n现在小 A 随意摸了 $k$ 张牌，他想知道他「听」哪些牌。", "inputFormat": "第一行两个正整数 $n,k$，分别表示牌的范围和小 A 手上牌的张数。\n\n接下来一行 $k$ 个整数 $a_1,a_2,\\cdots,a_k$ 给出小 A 的手牌，每个数表示小 Z 手上的一张牌。", "outputFormat": "第一行若干个正整数，表示小 A「听」哪些牌。**请按照升序输出。**\n\n特殊地，如果小 A 不「听」任何牌，请输出 `QAQ`。", "hint": "#### 【样例解释】\n\n- 样例一解释：两种情况，`11/234` 与 `123/44`。\n- 样例二解释：此牌型为「纯正九莲宝灯」，可以「听」所有数牌。\n\n#### 【数据范围】\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$1\\leq k\\leq 16$。\n- Subtask 2（10 pts）：$1\\leq k\\leq 400$。\n- Subtask 3（30 pts）：$1\\leq k\\leq 10^3$。\n- Subtask 4（30 pts）：$1\\leq k\\leq 3\\times10^4$。\n- Subtask 5（20 pts）：无特殊限制。\n\n对于所有数据，$1\\leq a_i\\leq n\\leq k\\leq 2\\times10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Mahjong - Enhanced-Enhanced Version", "background": "This problem is a strengthened version of [P4050](/problem/P4050) and [P6454](/problem/P6454).\n\nXiao A likes playing Mahjong.", "description": "Xiao A found a strange set of Mahjong tiles: it only has number tiles $1,2,\\cdots,n$, and there are infinitely many copies of each tile.\n\nA \"pair\" is two identical tiles (e.g., $2,2$, $7,7$). A \"triplet\" is three identical tiles (e.g., $1,1,1$, $4,4,4$). A \"sequence\" is three tiles with consecutive ranks (e.g., $1,2,3$, $9,10,11$; note that $1$ and $n$ are not adjacent). \"Sequence\" and \"triplet\" are collectively called \"melds.\"\n\nIf you can divide your hand into several \"melds\" (duplicates allowed) plus one \"pair,\" then you can \"complete the hand\" (i.e., win).\n\nIf adding a certain tile to a hand allows it to \"complete the hand,\" then the hand is said to be \"waiting for\" that tile.\n\nNow Xiao A has randomly drawn $k$ tiles. He wants to know which tiles he is \"waiting for.\"", "inputFormat": "The first line contains two positive integers $n,k$, representing the tile range and the number of tiles in Xiao A's hand.\n\nThe next line contains $k$ integers $a_1,a_2,\\cdots,a_k$ giving Xiao A's hand. Each number represents one tile in Xiao A's hand.", "outputFormat": "Output several positive integers on the first line, indicating which tiles Xiao A is \"waiting for.\" Please output them in ascending order.\n\nIf Xiao A is not \"waiting for\" any tile, output `QAQ`.", "hint": "- Sample 1 explanation: two cases, `11/234` and `123/44`.\n- Sample 2 explanation: this shape is the \"pure Nine Gates\" (纯正九莲宝灯), so it \"waits for\" every number tile.\n\nConstraints\n\n- This problem uses bundled testdata.\n- Subtask 1 (10 pts): $1\\leq k\\leq 16$.\n- Subtask 2 (10 pts): $1\\leq k\\leq 400$.\n- Subtask 3 (30 pts): $1\\leq k\\leq 10^3$.\n- Subtask 4 (30 pts): $1\\leq k\\leq 3\\times10^4$.\n- Subtask 5 (20 pts): no special constraints.\n\nFor all testdata, $1\\leq a_i\\leq n\\leq k\\leq 2\\times10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "麻将 加强加强版", "background": "此题为 [P4050](/problem/P4050) 与 [P6454](/problem/P6454) 的加强版。\n\n小 A 喜欢打麻将。", "description": "小 A 找到了一副奇怪的麻将牌：只有一种 $1,2,\\cdots,n$ 的数牌，且每种牌都有**无穷多张**。\n\n定义「雀头」为两张一样的牌（如 $2,2$，$7,7$），「刻子」为三张一样的牌（如 $1,1,1$，$4,4,4$），「顺子」为三张序数相邻的牌（如 $1,2,3$，$9,10,11$，注意 $1$ 与 $n$ 不相邻）。「顺子」与「刻子」统称「面子」。\n\n假如你能把你的手牌分为若干组「面子」（**可以相同**）以及一组「雀头」，那么你就可以「和牌」。\n\n假如某副手牌加上某张牌后可以「和牌」，则称这副手牌「听」这张牌。\n\n现在小 A 随意摸了 $k$ 张牌，他想知道他「听」哪些牌。", "inputFormat": "第一行两个正整数 $n,k$，分别表示牌的范围和小 A 手上牌的张数。\n\n接下来一行 $k$ 个整数 $a_1,a_2,\\cdots,a_k$ 给出小 A 的手牌，每个数表示小 Z 手上的一张牌。", "outputFormat": "第一行若干个正整数，表示小 A「听」哪些牌。**请按照升序输出。**\n\n特殊地，如果小 A 不「听」任何牌，请输出 `QAQ`。", "hint": "#### 【样例解释】\n\n- 样例一解释：两种情况，`11/234` 与 `123/44`。\n- 样例二解释：此牌型为「纯正九莲宝灯」，可以「听」所有数牌。\n\n#### 【数据范围】\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$1\\leq k\\leq 16$。\n- Subtask 2（10 pts）：$1\\leq k\\leq 400$。\n- Subtask 3（30 pts）：$1\\leq k\\leq 10^3$。\n- Subtask 4（30 pts）：$1\\leq k\\leq 3\\times10^4$。\n- Subtask 5（20 pts）：无特殊限制。\n\n对于所有数据，$1\\leq a_i\\leq n\\leq k\\leq 2\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P1821", "type": "P", "difficulty": 3, "samples": [["4 8 2\n1 2 4\n1 3 2\n1 4 7\n2 1 1\n2 3 5\n3 1 2\n3 4 4\n4 2 3\n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2007", "USACO", "O2优化", "最短路"], "title": "[USACO07FEB] Cow Party S", "background": "", "description": "寒假到了，$n$ 头牛都要去参加一场在编号为 $x$ 的牛的农场举行的派对，农场之间有 $m$ 条有向路，每条路都有一定的长度。\n\n每头牛参加完派对后都必须回家，无论是去参加派对还是回家，每头牛都会选择最短路径，求这 $n$ 头牛的最短路径（一个来回）中最长的一条路径长度。\n", "inputFormat": "第一行有三个整数，分别表示牛的数量 $n$，道路数 $m$ 和派对农场编号 $x$。  \n接下来 $m$ 行，每行三个整数 $u, v, w$，表示存在一条由 $u$ 通向 $v$ 的长度为 $w$ 的道路。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/rl3com2y.png)\n\n### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\leq n \\leq 10^3$，$1 \\leq m \\leq 10^5$，$1 \\leq u,v \\leq n$，$1 \\leq w \\leq 10^2$，保证从任何一个结点出发都能到达 $x$ 号结点，且从 $x$ 出发可以到达其他所有节点。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO07FEB] Cow Party S", "background": "", "description": "Winter break has arrived, and $n$ cows are going to attend a party held at the farm of the cow numbered $x$. There are $m$ directed roads between farms, and each road has a certain length.\n\nAfter the party, every cow must return home. Whether going to the party or going back home, each cow will choose the shortest path. Among these $n$ cows, find the maximum length of a shortest round-trip path.", "inputFormat": "The first line contains three integers representing the number of cows $n$, the number of roads $m$, and the party farm index $x$.  \nThe next $m$ lines each contain three integers $u, v, w$, indicating that there is a road from $u$ to $v$ with length $w$.", "outputFormat": "Output one line with one integer representing the answer.", "hint": "Sample 1 Explanation\n![](https://cdn.luogu.com.cn/upload/image_hosting/rl3com2y.png)\n\nConstraints\nFor all test points, it is guaranteed that $1 \\leq x \\leq n \\leq 10^3$, $1 \\leq m \\leq 10^5$, $1 \\leq u, v \\leq n$, $1 \\leq w \\leq 10^2$. It is guaranteed that from any node you can reach node $x$, and from $x$ you can reach all other nodes.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO07FEB] Cow Party S", "background": "", "description": "寒假到了，$n$ 头牛都要去参加一场在编号为 $x$ 的牛的农场举行的派对，农场之间有 $m$ 条有向路，每条路都有一定的长度。\n\n每头牛参加完派对后都必须回家，无论是去参加派对还是回家，每头牛都会选择最短路径，求这 $n$ 头牛的最短路径（一个来回）中最长的一条路径长度。\n", "inputFormat": "第一行有三个整数，分别表示牛的数量 $n$，道路数 $m$ 和派对农场编号 $x$。  \n接下来 $m$ 行，每行三个整数 $u, v, w$，表示存在一条由 $u$ 通向 $v$ 的长度为 $w$ 的道路。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/rl3com2y.png)\n\n### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq x \\leq n \\leq 10^3$，$1 \\leq m \\leq 10^5$，$1 \\leq u,v \\leq n$，$1 \\leq w \\leq 10^2$，保证从任何一个结点出发都能到达 $x$ 号结点，且从 $x$ 出发可以到达其他所有节点。", "locale": "zh-CN"}}}
{"pid": "P1822", "type": "P", "difficulty": 6, "samples": [["1\n9", "1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "广度优先搜索 BFS"], "title": "魔法指纹", "background": null, "description": "对于任意一个至少两位的正整数 $n$，按如下方式定义 $\\mathrm{magic}(n)$：将 $n$ 按十进制顺序写下来，依次对相邻两个数写下差的绝对值。这样，得到了一个新数，去掉前导 $0$，则定义为 $\\mathrm{magic}(n)$。特别地，若 $n$ 为一位数，则 $\\mathrm{magic}(n)=n$。\n\n例如：$\\mathrm{magic}(5913)=482$，$\\mathrm{magic}(1198)=081=81$，$\\mathrm{magic}(666)=00=0$。\n\n对任意一个数 $n$，反复迭代计算 $\\mathrm{magic}$ 值直到 $n$ 变成一个一位数，可以得到一个序列 $[n,\\mathrm{magic}(n),\\mathrm{magic}(\\mathrm{magic}(n)),\\cdots]$。最后的这个值称为数 $n$ 的 $\\mathrm{magic}$ 指纹。\n\n例如，对于 $n=5913$，我们得到序列：$[5913,482,46,2]$。所以 $5913$ 的 $\\mathrm{magic}$ 指纹为 $2$。\n\n若一个数的 $\\mathrm{magic}$ 指纹为 $7$，则认为这个数是个幸运数。\n\n现在，给定 $A,B$，计算出 $[A,B]$ 中有多少个数是幸运数。", "inputFormat": "输入两行，每行一个数。第一行是 $A$，第二行表示 $B$。", "outputFormat": "输出 $[A,B]$ 中有多少个数是幸运数。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 数据，$B \\le 10^4$。\n- 对于 $100\\%$ 数据，$0<A \\le B \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Magic Fingerprint", "background": "", "description": "For any positive integer $n$ with at least two digits, define $\\mathrm{magic}(n)$ as follows: write down the digits of $n$ in decimal order, and for each adjacent pair of digits, write the absolute value of their difference. This yields a new number; remove any leading zeros, and define the result as $\\mathrm{magic}(n)$. In particular, if $n$ is a single-digit number, then $\\mathrm{magic}(n)=n$.\n\nFor example: $\\mathrm{magic}(5913)=482$, $\\mathrm{magic}(1198)=081=81$, $\\mathrm{magic}(666)=00=0$.\n\nFor any number $n$, repeatedly apply $\\mathrm{magic}$ until $n$ becomes a single-digit number; this produces a sequence $[n,\\mathrm{magic}(n),\\mathrm{magic}(\\mathrm{magic}(n)),\\cdots]$. The final value is called the $\\mathrm{magic}$ fingerprint of $n$.\n\nFor example, for $n=5913$, we get the sequence $[5913,482,46,2]$. Thus, the $\\mathrm{magic}$ fingerprint of $5913$ is $2$.\n\nIf a number’s $\\mathrm{magic}$ fingerprint is $7$, we consider it a lucky number.\n\nNow, given $A, B$, compute how many numbers in $[A,B]$ are lucky numbers.", "inputFormat": "The input consists of two lines, one number per line. The first line is $A$, and the second line is $B$.", "outputFormat": "Output how many numbers in $[A,B]$ are lucky numbers.", "hint": "### Constraints and Conventions\n\n- For $30\\%$ of the testdata, $B \\le 10^4$.\n- For $100\\%$ of the testdata, $0 < A \\le B \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "魔法指纹", "background": null, "description": "对于任意一个至少两位的正整数 $n$，按如下方式定义 $\\mathrm{magic}(n)$：将 $n$ 按十进制顺序写下来，依次对相邻两个数写下差的绝对值。这样，得到了一个新数，去掉前导 $0$，则定义为 $\\mathrm{magic}(n)$。特别地，若 $n$ 为一位数，则 $\\mathrm{magic}(n)=n$。\n\n例如：$\\mathrm{magic}(5913)=482$，$\\mathrm{magic}(1198)=081=81$，$\\mathrm{magic}(666)=00=0$。\n\n对任意一个数 $n$，反复迭代计算 $\\mathrm{magic}$ 值直到 $n$ 变成一个一位数，可以得到一个序列 $[n,\\mathrm{magic}(n),\\mathrm{magic}(\\mathrm{magic}(n)),\\cdots]$。最后的这个值称为数 $n$ 的 $\\mathrm{magic}$ 指纹。\n\n例如，对于 $n=5913$，我们得到序列：$[5913,482,46,2]$。所以 $5913$ 的 $\\mathrm{magic}$ 指纹为 $2$。\n\n若一个数的 $\\mathrm{magic}$ 指纹为 $7$，则认为这个数是个幸运数。\n\n现在，给定 $A,B$，计算出 $[A,B]$ 中有多少个数是幸运数。", "inputFormat": "输入两行，每行一个数。第一行是 $A$，第二行表示 $B$。", "outputFormat": "输出 $[A,B]$ 中有多少个数是幸运数。", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 数据，$B \\le 10^4$。\n- 对于 $100\\%$ 数据，$0<A \\le B \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1823", "type": "P", "difficulty": 4, "samples": [["7 \n2 \n4 \n1 \n2 \n2 \n5 \n1", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "单调栈", "COI（克罗地亚）"], "title": "[COI 2007] Patrik 音乐会的等待", "background": "", "description": "$n$ 个人正在排队进入一个音乐会。人们等得很无聊，于是他们开始转来转去，想在队伍里寻找自己的熟人。\n\n队列中任意两个人 $a$ 和 $b$，如果他们是相邻或他们之间没有人比 $a$ 或 $b$ 高，那么他们是可以互相看得见的。\n\n写一个程序计算出有多少对人可以互相看见。", "inputFormat": "输入的第一行包含一个整数 $n$，表示队伍中共有 $n$ 个人。\n\n接下来的 $n$ 行中，每行包含一个整数，表示人的高度，以毫微米(等于 $10^{-9}$ 米)为单位，这些高度分别表示队伍中人的身高。", "outputFormat": "输出仅有一行，包含一个数 $s$，表示队伍中共有 $s$ 对人可以互相看见。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\le$ 每个人的高度 $< 2^{31}$，$1 \\le n \\le 5\\times 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[COI 2007] Patrik: Waiting at the Concert", "background": "", "description": "$n$ people are standing in a queue to enter a concert. People are bored, so they start turning around to look for their acquaintances in the line.\n\nFor any two people $a$ and $b$ in the queue, they can see each other if they are adjacent, or if there is no one between them who is taller than both $a$ and $b$.\n\nWrite a program to compute how many pairs of people can see each other.", "inputFormat": "The first line contains an integer $n$, the number of people in the queue.\n\nEach of the next $n$ lines contains an integer, the height of a person, in nanometers (equal to $10^{-9}$ meters). These heights correspond to the people in the queue.", "outputFormat": "Output a single line containing a number $s$, the total number of pairs of people who can see each other.", "hint": "Constraints\n\nFor all test points, $1 \\le$ each person’s height $< 2^{31}$, and $1 \\le n \\le 5 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COI 2007] Patrik 音乐会的等待", "background": "", "description": "$n$ 个人正在排队进入一个音乐会。人们等得很无聊，于是他们开始转来转去，想在队伍里寻找自己的熟人。\n\n队列中任意两个人 $a$ 和 $b$，如果他们是相邻或他们之间没有人比 $a$ 或 $b$ 高，那么他们是可以互相看得见的。\n\n写一个程序计算出有多少对人可以互相看见。", "inputFormat": "输入的第一行包含一个整数 $n$，表示队伍中共有 $n$ 个人。\n\n接下来的 $n$ 行中，每行包含一个整数，表示人的高度，以毫微米(等于 $10^{-9}$ 米)为单位，这些高度分别表示队伍中人的身高。", "outputFormat": "输出仅有一行，包含一个数 $s$，表示队伍中共有 $s$ 对人可以互相看见。", "hint": "#### 数据规模与约定\n对于全部的测试点，保证 $1\\le$ 每个人的高度 $< 2^{31}$，$1 \\le n \\le 5\\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1824", "type": "P", "difficulty": 2, "samples": [["5 3\n1\n2\n8\n4\n9", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2005", "二分", "USACO"], "title": "[USACO05FEB] 进击的奶牛 Aggressive Cows G", "background": null, "description": "农夫约翰建造了一座有 $n$ 间牛舍的小屋，牛舍排在一条直线上，第 $i$ 间牛舍在 $x_i$ 的位置，但是约翰的 $m$ 头牛对小屋很不满意，因此经常互相攻击。约翰为了防止牛之间互相伤害，因此决定把每头牛都放在离其它牛尽可能远的牛舍。也就是要最大化最近的两头牛之间的距离。\n\n牛们并不喜欢这种布局，而且几头牛放在一个隔间里，它们就要发生争斗。为了不让牛互相伤害。约翰决定自己给牛分配隔间，使任意两头牛之间的最小距离尽可能的大，那么，这个最大的最小距离是多少呢？", "inputFormat": "第一行用空格分隔的两个整数 $n$ 和 $m$；\n\n下面 $n$ 行为 $n$ 个用空格隔开的整数，表示位置 $x_i$。", "outputFormat": "一行一个整数，表示最大的最小距离值。", "hint": "【样例解析】把牛放在 $1$，$4$，$8$ 这三个位置，距离是 $3$。容易证明最小距离已经最大。\n\n【数据范围】对于 $100\\%$ 的数据，$2 \\le n \\le 10^5$，$0 \\le x_i \\le 10^9$，$2 \\le m \\le n$。不保证 $x$ 数组单调递增。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05FEB] Aggressive Cows G", "background": "", "description": "Farmer John built a barn with $n$ stalls arranged on a straight line; the $i$-th stall is at position $x_i$. His $m$ cows are unhappy and often fight, so he wants to place them so that each cow is as far as possible from the others. In other words, he wants to maximize the minimum distance between any two cows.\n\nCows do not like this layout, and if multiple cows share a stall, they will fight. To prevent conflicts, each stall can hold at most one cow. Determine the largest possible value of the minimum distance between any two cows.", "inputFormat": "The first line contains two integers $n$ and $m$.\n\nThe next $n$ lines each contain one integer $x_i$, representing the position of a stall.", "outputFormat": "Output a single integer: the maximum possible minimum distance.", "hint": "Sample Explanation: Place the cows at positions $1$, $4$, and $8$; the minimum distance is $3$. It is easy to prove that this minimum distance is already maximized.\n\nConstraints: For $100\\%$ of the testdata, $2 \\le n \\le 10^5$, $0 \\le x_i \\le 10^9$, $2 \\le m \\le n$. The array $x$ is not guaranteed to be in nondecreasing order.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05FEB] 进击的奶牛 Aggressive Cows G", "background": null, "description": "农夫约翰建造了一座有 $n$ 间牛舍的小屋，牛舍排在一条直线上，第 $i$ 间牛舍在 $x_i$ 的位置，但是约翰的 $m$ 头牛对小屋很不满意，因此经常互相攻击。约翰为了防止牛之间互相伤害，因此决定把每头牛都放在离其它牛尽可能远的牛舍。也就是要最大化最近的两头牛之间的距离。\n\n牛们并不喜欢这种布局，而且几头牛放在一个隔间里，它们就要发生争斗。为了不让牛互相伤害。约翰决定自己给牛分配隔间，使任意两头牛之间的最小距离尽可能的大，那么，这个最大的最小距离是多少呢？", "inputFormat": "第一行用空格分隔的两个整数 $n$ 和 $m$；\n\n下面 $n$ 行为 $n$ 个用空格隔开的整数，表示位置 $x_i$。", "outputFormat": "一行一个整数，表示最大的最小距离值。", "hint": "【样例解析】把牛放在 $1$，$4$，$8$ 这三个位置，距离是 $3$。容易证明最小距离已经最大。\n\n【数据范围】对于 $100\\%$ 的数据，$2 \\le n \\le 10^5$，$0 \\le x_i \\le 10^9$，$2 \\le m \\le n$。不保证 $x$ 数组单调递增。", "locale": "zh-CN"}}}
{"pid": "P1825", "type": "P", "difficulty": 3, "samples": [["5 6\n###=##\n#.W.##\n#.####\n#.@W##\n######\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "搜索", "2011", "USACO", "广度优先搜索 BFS", "最短路"], "title": "[USACO11OPEN] Corn Maze S", "background": null, "description": "This past fall, Farmer John took the cows to visit a corn maze. But this wasn't just any corn maze: it featured several gravity-powered teleporter slides, which cause cows to teleport instantly from one point in the maze to another. The slides work in both directions: a cow can slide from the slide's start to the end instantly, or from the end to the start. If a cow steps on a space that hosts either end of a slide, she must use the slide.\n\nThe outside of the corn maze is entirely corn except for a single exit.\n\nThe maze can be represented by an N x M (2 <= N <= 300; 2 <= M <= 300) grid. Each grid element contains one of these items:\n\n\\* Corn (corn grid elements are impassable) \n\n\\* Grass (easy to pass through!) \n\n\\* A slide endpoint (which will transport a cow to the other endpoint) \n\n\\* The exit\n\nA cow can only move from one space to the next if they are adjacent and neither contains corn. Each grassy space has four potential neighbors to which a cow can travel. It takes 1 unit of time to move from a grassy space to an adjacent space; it takes 0 units of time to move from one slide endpoint to the other.\n\nCorn-filled spaces are denoted with an octothorpe (#). Grassy spaces are denoted with a period (.). Pairs of slide endpoints are denoted with the same uppercase letter (A-Z), and no two different slides have endpoints denoted with the same letter. The exit is denoted with the equals sign (=).\n\nBessie got lost. She knows where she is on the grid, and marked her current grassy space with the 'at' symbol (@). What is the minimum time she needs to move to the exit space?", "inputFormat": "Line 1: Two space separated integers: N and M\n\nLines 2..N+1: Line i+1 describes row i of the maze: M characters (no spaces)", "outputFormat": "Line 1: An integer, corresponding to the shortest time that Bessie needs to exit the maze.", "hint": "Sample Explanation:\n\n```plain\n###=##\n#.W.##\n#.####\n#.@W##\n######\n```\n\nThe endpoints of the only slide are marked with capital letters W.\n\nThe optimal strategy (which takes 3 units of time) is to: Move right to the slide endpoint using 1 unit of time, transport to the other endpoint using 0 units of time, move right using 1 unit of time, and move up to the exit using 1 unit of time.", "locale": "en", "translations": {"en": {"title": "[USACO11OPEN] Corn Maze S", "background": null, "description": "This past fall, Farmer John took the cows to visit a corn maze. But this wasn't just any corn maze: it featured several gravity-powered teleporter slides, which cause cows to teleport instantly from one point in the maze to another. The slides work in both directions: a cow can slide from the slide's start to the end instantly, or from the end to the start. If a cow steps on a space that hosts either end of a slide, she must use the slide.\n\nThe outside of the corn maze is entirely corn except for a single exit.\n\nThe maze can be represented by an N x M (2 <= N <= 300; 2 <= M <= 300) grid. Each grid element contains one of these items:\n\n\\* Corn (corn grid elements are impassable) \n\n\\* Grass (easy to pass through!) \n\n\\* A slide endpoint (which will transport a cow to the other endpoint) \n\n\\* The exit\n\nA cow can only move from one space to the next if they are adjacent and neither contains corn. Each grassy space has four potential neighbors to which a cow can travel. It takes 1 unit of time to move from a grassy space to an adjacent space; it takes 0 units of time to move from one slide endpoint to the other.\n\nCorn-filled spaces are denoted with an octothorpe (#). Grassy spaces are denoted with a period (.). Pairs of slide endpoints are denoted with the same uppercase letter (A-Z), and no two different slides have endpoints denoted with the same letter. The exit is denoted with the equals sign (=).\n\nBessie got lost. She knows where she is on the grid, and marked her current grassy space with the 'at' symbol (@). What is the minimum time she needs to move to the exit space?", "inputFormat": "Line 1: Two space separated integers: N and M\n\nLines 2..N+1: Line i+1 describes row i of the maze: M characters (no spaces)", "outputFormat": "Line 1: An integer, corresponding to the shortest time that Bessie needs to exit the maze.", "hint": "Sample Explanation:\n\n```plain\n###=##\n#.W.##\n#.####\n#.@W##\n######\n```\n\nThe endpoints of the only slide are marked with capital letters W.\n\nThe optimal strategy (which takes 3 units of time) is to: Move right to the slide endpoint using 1 unit of time, transport to the other endpoint using 0 units of time, move right using 1 unit of time, and move up to the exit using 1 unit of time.", "locale": "en"}, "zh-CN": {"title": "[USACO11OPEN] Corn Maze S", "background": "", "description": "去年秋天，农夫约翰带着奶牛们参观了一个玉米迷宫。但这不是一个普通的玉米迷宫：它有几个重力驱动的传送滑梯，可以让奶牛瞬间从迷宫中的一个点传送到另一个点。滑梯是双向的：奶牛可以瞬间从滑梯的起点滑到终点，或者从终点滑到起点。如果奶牛踩到滑梯的任一端，她必须使用滑梯。\n\n传送操作不能连续使用，即，传送一次之后，必须**通过非传送方式**移动至少一步才能再次进行传送。\n\n玉米迷宫的外部完全由玉米包围，只有一个出口。\n\n迷宫可以用一个 $N \\times M$（$2 \\leq N \\leq 300$；$2 \\leq M \\leq 300$）的网格表示。每个网格元素包含以下项目之一：\n\n* 玉米（玉米网格元素不可通行）\n* 草地（容易通过！）\n* 滑梯端点（会将奶牛传送到另一个端点）\n* 出口\n\n奶牛只能从一个空间移动到相邻的下一个空间，前提是它们相邻且都不包含玉米。每个草地空间有四个潜在的邻居可以让奶牛到达。从一个草地空间移动到相邻空间需要 $1$ 个时间单位；从一个滑梯端点移动到另一个端点需要 $0$ 个时间单位。\n\n填满玉米的空间用井号（`#`）表示。草地空间用英文句号（`.`）表示。滑梯端点对用相同的大写字母（`A` 到 `Z`）表示，并且没有两个不同的滑梯端点用相同的字母表示。出口用等号（`=`）表示。\n\n贝茜迷路了。她知道自己在网格中的位置，并用「at」符号（`@`）标记了她当前的草地空间。她需要的最短时间是多少才能移动到出口空间？", "inputFormat": "第一行：两个用空格隔开的整数 $N$ 和 $M$。\n\n第 $2 \\sim N+1$ 行：第 $i+1$ 行描述了迷宫中的第 $i$ 行的情况（共有 $M$ 个字符，每个字符之间没有空格）。", "outputFormat": "一个整数，表示起点到出口所需的最短时间。", "hint": "例如以下矩阵，$N=5,M=6$。\n\n```plain\n###=##\n#.W.##\n#.####\n#.@W##\n######\n```\n\n唯一的一个装置的结点用大写字母 $\\tt{W}$ 表示。\n\n最优方案为：先向右走到装置的结点，花费一个单位时间，再到装置的另一个结点上，花费 $0$ 个单位时间，然后再向右走一个，再向上走一个，到达出口处，总共花费了 $3$ 个单位时间。\n\n（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P1826", "type": "P", "difficulty": 4, "samples": [["1 10 3", "4\r\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["递推", "洛谷原创"], "title": "猴子选大王数据再加强版", "background": "", "description": "有 $n$ 只猴子围成一圈，顺时针编号依次为 $1, 2, 3,\\cdots, n$。从第一只猴子开始，不断进行如下操作：顺时针数恰好 $m$ 只猴子，使其出列，再从下一只猴子开始重新计数，如此循环，直到最后只剩下一只猴子。最后剩下来的猴子是这局游戏的获胜者。\n\n现在你需要对于 $n=a,a+1,\\cdots,b$ 计算出哪只猴子成为获胜者的次数最多，输出对应的编号。如果有多只猴子成为获胜者的次数均最多，将它们的编号从小到大输出。\n", "inputFormat": "输入共一行三个数 $a, b, m$，如题。\n", "outputFormat": "输出共两行。\n\n第一行输出获胜次数最多的猴子获胜的次数。\n\n第二行输出若干个数，为猴子的编号。\n", "hint": "### 样例解释\n\n| $n=$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| **大王编号** | $1$ | $2$ | $2$ | $1$ | $4$ | $1$ | $4$ | $7$ | $1$ | $4$ |\n\n因此最多的是 $1$ 号，共获胜了 $4$ 回。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq a \\leq b \\leq 10 ^ 6$，$m \\leq 3000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Monkey King Selection: Further Strengthened Testdata Version", "background": "", "description": "There are $n$ monkeys standing in a circle, numbered clockwise as $1, 2, 3, \\cdots, n$. Starting from the first monkey, repeatedly perform the following: count exactly $m$ monkeys clockwise, make that monkey leave the circle, then start counting again from the next monkey. Continue this process until only one monkey remains. The last remaining monkey is the winner of the game.\n\nNow, for $n = a, a + 1, \\cdots, b$, determine which monkey ID becomes the winner the most times, and output its ID. If multiple monkeys tie for the most wins, output their IDs in increasing order.", "inputFormat": "A single line containing three numbers $a, b, m$, as described.", "outputFormat": "Output two lines.\n\nThe first line outputs the maximum number of wins among all monkeys.\n\nThe second line outputs several numbers, which are the monkeys' IDs.", "hint": "### Sample Explanation\n\n| $n=$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| Winner ID | $1$ | $2$ | $2$ | $1$ | $4$ | $1$ | $4$ | $7$ | $1$ | $4$ |\n\nTherefore, monkey $1$ has the most wins, with $4$ wins.\n\n### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq a \\leq b \\leq 10^6$, $m \\leq 3000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "猴子选大王数据再加强版", "background": "", "description": "有 $n$ 只猴子围成一圈，顺时针编号依次为 $1, 2, 3,\\cdots, n$。从第一只猴子开始，不断进行如下操作：顺时针数恰好 $m$ 只猴子，使其出列，再从下一只猴子开始重新计数，如此循环，直到最后只剩下一只猴子。最后剩下来的猴子是这局游戏的获胜者。\n\n现在你需要对于 $n=a,a+1,\\cdots,b$ 计算出哪只猴子成为获胜者的次数最多，输出对应的编号。如果有多只猴子成为获胜者的次数均最多，将它们的编号从小到大输出。\n", "inputFormat": "输入共一行三个数 $a, b, m$，如题。\n", "outputFormat": "输出共两行。\n\n第一行输出获胜次数最多的猴子获胜的次数。\n\n第二行输出若干个数，为猴子的编号。\n", "hint": "### 样例解释\n\n| $n=$ | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |\n| **大王编号** | $1$ | $2$ | $2$ | $1$ | $4$ | $1$ | $4$ | $7$ | $1$ | $4$ |\n\n因此最多的是 $1$ 号，共获胜了 $4$ 回。\n\n### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq a \\leq b \\leq 10 ^ 6$，$m \\leq 3000$。\n", "locale": "zh-CN"}}}
{"pid": "P1827", "type": "P", "difficulty": 2, "samples": [["ABEDFCHG\nCBADEFGH \n", "AEFDBHGC"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "树形数据结构", "USACO", "递归", "构造"], "title": "[USACO3.4] 美国血统 American Heritage", "background": null, "description": "农夫约翰非常认真地对待他的奶牛们的血统。然而他不是一个真正优秀的记账员。他把他的奶牛们的家谱作成二叉树，并且把二叉树以更线性的“树的中序遍历”和“树的前序遍历”的符号加以记录而不是用图形的方法。\n\n你的任务是在被给予奶牛家谱的“树中序遍历”和“树前序遍历”的符号后，创建奶牛家谱的“树的后序遍历”的符号。每一头奶牛的姓名被译为一个唯一的字母。（你可能已经知道你可以在知道树的两种遍历以后可以经常地重建这棵树。）显然，这里的树不会有多于 $26$ 个的顶点。\n\n这是在样例输入和样例输出中的树的图形表达方式：\n\n\n```plain\n　　　　　　　　 C\n　　　　　　   /  \\\n　　　　　　  /　　\\\n　　　　　　 B　　  G\n　　　　　　/ \\　　/\n　　　　   A   D  H\n　　　　　　  / \\\n　　　　　　 E   F\n\n```\n\n附注：\n\n- 树的中序遍历是按照左子树，根，右子树的顺序访问节点；\n- 树的前序遍历是按照根，左子树，右子树的顺序访问节点；\n- 树的后序遍历是按照左子树，右子树，根的顺序访问节点。", "inputFormat": "第一行一个字符串，表示该树的中序遍历。\n\n第二行一个字符串，表示该树的前序遍历。", "outputFormat": "单独的一行表示该树的后序遍历。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.4", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.4] American Heritage", "background": "", "description": "Farmer John takes the ancestry of his cows very seriously, but he is not a great bookkeeper. He represents his cows’ family tree as a binary tree, and records it using the more linear notations of inorder traversal and preorder traversal, rather than drawing the tree.\n\nYour task is, given the notations of the cows’ family tree in inorder and preorder traversals, to produce the notation of the postorder traversal. Each cow’s name is encoded as a unique letter. (You may already know that a tree can often be reconstructed if you know two of its traversals.) Obviously, the tree has no more than $26$ vertices.\n\nHere is a graphical representation of the tree from the sample input and output:\n\n```plain\n　　　　　　　　 C\n　　　　　　   /  \\\n　　　　　　  /　　\\\n　　　　　　 B　　  G\n　　　　　　/ \\　　/\n　　　　   A   D  H\n　　　　　　  / \\\n　　　　　　 E   F\n\n```\n\nNotes:\n- Inorder traversal visits nodes in the order: left subtree, root, right subtree.\n- Preorder traversal visits nodes in the order: root, left subtree, right subtree.\n- Postorder traversal visits nodes in the order: left subtree, right subtree, root.", "inputFormat": "The first line contains a string representing the inorder traversal of the tree.\n\nThe second line contains a string representing the preorder traversal of the tree.", "outputFormat": "Output a single line representing the postorder traversal of the tree.", "hint": "Translation from NOCOW.\n\nUSACO Training Section 3.4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.4] 美国血统 American Heritage", "background": null, "description": "农夫约翰非常认真地对待他的奶牛们的血统。然而他不是一个真正优秀的记账员。他把他的奶牛们的家谱作成二叉树，并且把二叉树以更线性的“树的中序遍历”和“树的前序遍历”的符号加以记录而不是用图形的方法。\n\n你的任务是在被给予奶牛家谱的“树中序遍历”和“树前序遍历”的符号后，创建奶牛家谱的“树的后序遍历”的符号。每一头奶牛的姓名被译为一个唯一的字母。（你可能已经知道你可以在知道树的两种遍历以后可以经常地重建这棵树。）显然，这里的树不会有多于 $26$ 个的顶点。\n\n这是在样例输入和样例输出中的树的图形表达方式：\n\n\n```plain\n　　　　　　　　 C\n　　　　　　   /  \\\n　　　　　　  /　　\\\n　　　　　　 B　　  G\n　　　　　　/ \\　　/\n　　　　   A   D  H\n　　　　　　  / \\\n　　　　　　 E   F\n\n```\n\n附注：\n\n- 树的中序遍历是按照左子树，根，右子树的顺序访问节点；\n- 树的前序遍历是按照根，左子树，右子树的顺序访问节点；\n- 树的后序遍历是按照左子树，右子树，根的顺序访问节点。", "inputFormat": "第一行一个字符串，表示该树的中序遍历。\n\n第二行一个字符串，表示该树的前序遍历。", "outputFormat": "单独的一行表示该树的后序遍历。", "hint": "题目翻译来自NOCOW。\n\nUSACO Training Section 3.4", "locale": "zh-CN"}}}
{"pid": "P1828", "type": "P", "difficulty": 3, "samples": [["3 4 5\n2\n3\n4\n1 2 1\n1 3 5\n2 3 7\n2 4 3\n3 4 5", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "USACO", "队列"], "title": "[USACO3.2] 香甜的黄油 Sweet Butter", "background": "", "description": "Farmer John 发现了做出全威斯康辛州最甜的黄油的方法：糖。\n\n把糖放在一片牧场上，他知道 $N$ 只奶牛会过来舔它，这样就能做出能卖好价钱的超甜黄油。当然，他将付出额外的费用在奶牛上。\n\nFarmer John 很狡猾。像以前的 Pavlov，他知道他可以训练这些奶牛，让它们在听到铃声时去一个特定的牧场。他打算将糖放在那里然后下午发出铃声，以至他可以在晚上挤奶。\n\nFarmer John 知道每只奶牛都在各自喜欢的牧场（一个牧场不一定只有一头牛）。给出各头牛在的牧场和牧场间的路线，找出使所有牛到达的路程和最短的牧场（他将把糖放在那）。", "inputFormat": "第一行包含三个整数 $N,P,C$，分别表示奶牛数、牧场数和牧场间道路数。\n\n第二行到第 $N+1$ 行，每行一个整数，其中第 $i$ 行的整数表示第 $i-1$ 头奶牛所在的牧场号。\n\n第 $N+2$ 行到第 $N+C+1$ 行，每行包含三个整数 $A,B,D$，表示牧场号为 $A$ 和 $B$ 的两个牧场之间有一条长度为 $D$ 的双向道路相连。", "outputFormat": "输出一行一个整数，表示奶牛必须行走的最小的距离和。", "hint": "**数据范围**\n\n对于所有数据，$1 \\le N \\le 500$，$2 \\le P \\le 800$，$1 \\le A,B \\le P$，$1 \\le C \\le 1450$，$1 \\le D \\le 255$。\n\n---\n\n**样例解释**\n\n作图如下：\n\n```cpp\n          P2  \nP1 @--1--@ C1\n         |\n         | \n       5  7  3\n         |   \n         |     C3\n       C2 @--5--@\n          P3    P4\n```\n\n把糖放在4号牧场最优。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.2] Sweet Butter", "background": "", "description": "Farmer John has found a way to make the sweetest butter in all of Wisconsin: sugar.\n\nIf he puts sugar on a pasture, he knows $N$ cows will come and lick it, letting him make super-sweet butter that sells for a good price. Of course, the cows must walk to the sugar.\n\nFarmer John is cunning. Like Pavlov, he knows he can train the cows to go to a specific pasture when they hear a bell. He plans to put the sugar there and ring the bell in the afternoon so that he can milk them in the evening.\n\nFarmer John knows where each cow currently is (a pasture can have more than one cow). Given the current pasture of each cow and the roads between pastures, find the pasture that minimizes the sum of walking distances for all cows to reach it (he will place the sugar there).", "inputFormat": "- The first line contains three integers $N, P, C$, the number of cows, the number of pastures, and the number of roads, respectively.\n- Lines $2$ to $N+1$: each line contains one integer. Line $i$ gives the pasture index where cow $i$ is located.\n- Lines $N+2$ to $N+C+1$: each line contains three integers $A, B, D$, meaning there is an undirected road of length $D$ between pastures $A$ and $B$.", "outputFormat": "Output a single integer: the minimum possible sum of distances that all cows must walk.", "hint": "Constraints\n\nFor all testdata, $1 \\le N \\le 500$, $2 \\le P \\le 800$, $1 \\le A, B \\le P$, $1 \\le C \\le 1450$, $1 \\le D \\le 255$.\n\n---\n\nSample Explanation\n\nDiagram:\n\n```cpp\n          P2  \nP1 @--1--@ C1\n         |\n         | \n       5  7  3\n         |   \n         |     C3\n       C2 @--5--@\n          P3    P4\n```\n\nPutting the sugar at pasture $4$ is optimal.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.2] 香甜的黄油 Sweet Butter", "background": "", "description": "Farmer John 发现了做出全威斯康辛州最甜的黄油的方法：糖。\n\n把糖放在一片牧场上，他知道 $N$ 只奶牛会过来舔它，这样就能做出能卖好价钱的超甜黄油。当然，他将付出额外的费用在奶牛上。\n\nFarmer John 很狡猾。像以前的 Pavlov，他知道他可以训练这些奶牛，让它们在听到铃声时去一个特定的牧场。他打算将糖放在那里然后下午发出铃声，以至他可以在晚上挤奶。\n\nFarmer John 知道每只奶牛都在各自喜欢的牧场（一个牧场不一定只有一头牛）。给出各头牛在的牧场和牧场间的路线，找出使所有牛到达的路程和最短的牧场（他将把糖放在那）。", "inputFormat": "第一行包含三个整数 $N,P,C$，分别表示奶牛数、牧场数和牧场间道路数。\n\n第二行到第 $N+1$ 行，每行一个整数，其中第 $i$ 行的整数表示第 $i-1$ 头奶牛所在的牧场号。\n\n第 $N+2$ 行到第 $N+C+1$ 行，每行包含三个整数 $A,B,D$，表示牧场号为 $A$ 和 $B$ 的两个牧场之间有一条长度为 $D$ 的双向道路相连。", "outputFormat": "输出一行一个整数，表示奶牛必须行走的最小的距离和。", "hint": "**数据范围**\n\n对于所有数据，$1 \\le N \\le 500$，$2 \\le P \\le 800$，$1 \\le A,B \\le P$，$1 \\le C \\le 1450$，$1 \\le D \\le 255$。\n\n---\n\n**样例解释**\n\n作图如下：\n\n```cpp\n          P2  \nP1 @--1--@ C1\n         |\n         | \n       5  7  3\n         |   \n         |     C3\n       C2 @--5--@\n          P3    P4\n```\n\n把糖放在4号牧场最优。", "locale": "zh-CN"}}}
{"pid": "P1829", "type": "P", "difficulty": 6, "samples": [["4 5", "122"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "2010", "集训队互测", "O2优化", "莫比乌斯反演", "整除分块"], "title": "[国家集训队] Crash的数字表格 / JZPTAB", "background": "", "description": "今天的数学课上，Crash 小朋友学习了最小公倍数（Least Common Multiple）。对于两个正整数 $a$ 和 $b$，$\\text{lcm}(a,b)$ 表示能同时被 $a$ 和 $b$ 整除的最小正整数。例如，$\\text{lcm}(6, 8) = 24$。\n\n回到家后，Crash 还在想着课上学的东西，为了研究最小公倍数，他画了一张 $ n \\times m$ 的表格。每个格子里写了一个数字，其中第 $i$ 行第 $j$ 列的那个格子里写着数为 $\\text{lcm}(i, j)$。\n\n看着这个表格，Crash 想到了很多可以思考的问题。不过他最想解决的问题却是一个十分简单的问题：这个表格中所有数的和是多少。当 $n$ 和 $m$ 很大时，Crash 就束手无策了，因此他找到了聪明的你用程序帮他解决这个问题。由于最终结果可能会很大，Crash 只想知道表格里所有数的和对 $20101009$ 取模后的值。\n\n", "inputFormat": "输入包含一行两个整数，分别表示 $n$ 和 $m$。\n", "outputFormat": "输出一个正整数，表示表格中所有数的和对 $20101009$ 取模后的值。\n", "hint": "#### 样例输入输出 1 解释\n\n该表格为：\n\n|$1$|$2$|$3$|$4$|$5$|\n|:-:|:-:|:-:|:-:|:-:|\n|$2$|$2$|$6$|$4$|$10$|\n|$3$|$6$|$3$|$12$|$15$|\n|$4$|$4$|$12$|$4$|$20$|\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n, m \\le 10^3$。\n- 对于 $70\\%$ 的数据，保证 $n, m \\le 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m \\le 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Crash's Number Table / JZPTAB", "background": "", "description": "In today's math class, Crash learned about the Least Common Multiple. For two positive integers $a$ and $b$, $\\text{lcm}(a, b)$ denotes the smallest positive integer divisible by both $a$ and $b$. For example, $\\text{lcm}(6, 8) = 24$.\n\nAfter returning home, Crash was still thinking about what he learned. To study the Least Common Multiple, he drew an $n \\times m$ table. Each cell contains a number, where the cell in the $i$-th row and $j$-th column contains $\\text{lcm}(i, j)$.\n\nLooking at this table, Crash thought of many questions. The one he most wants to solve is very simple: what is the sum of all the numbers in this table? When $n$ and $m$ are large, Crash cannot handle it, so he asks you to write a program to compute the answer. Since the result can be very large, Crash only wants the sum modulo $20101009$.", "inputFormat": "The input contains one line with two integers $n$ and $m$.", "outputFormat": "Output one positive integer, the sum of all numbers in the table modulo $20101009$.", "hint": "Sample 1 Explanation:\n\nThe table is:\n\n| $1$ | $2$ | $3$ | $4$ | $5$ |\n|:-:|:-:|:-:|:-:|:-:|\n| $2$ | $2$ | $6$ | $4$ | $10$ |\n| $3$ | $6$ | $3$ | $12$ | $15$ |\n| $4$ | $4$ | $12$ | $4$ | $20$ |\n\nConstraints:\n- For $30\\%$ of the testdata, $n, m \\le 10^3$.\n- For $70\\%$ of the testdata, $n, m \\le 10^5$.\n- For $100\\%$ of the testdata, $1 \\le n, m \\le 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] Crash的数字表格 / JZPTAB", "background": "", "description": "今天的数学课上，Crash 小朋友学习了最小公倍数（Least Common Multiple）。对于两个正整数 $a$ 和 $b$，$\\text{lcm}(a,b)$ 表示能同时被 $a$ 和 $b$ 整除的最小正整数。例如，$\\text{lcm}(6, 8) = 24$。\n\n回到家后，Crash 还在想着课上学的东西，为了研究最小公倍数，他画了一张 $ n \\times m$ 的表格。每个格子里写了一个数字，其中第 $i$ 行第 $j$ 列的那个格子里写着数为 $\\text{lcm}(i, j)$。\n\n看着这个表格，Crash 想到了很多可以思考的问题。不过他最想解决的问题却是一个十分简单的问题：这个表格中所有数的和是多少。当 $n$ 和 $m$ 很大时，Crash 就束手无策了，因此他找到了聪明的你用程序帮他解决这个问题。由于最终结果可能会很大，Crash 只想知道表格里所有数的和对 $20101009$ 取模后的值。\n\n", "inputFormat": "输入包含一行两个整数，分别表示 $n$ 和 $m$。\n", "outputFormat": "输出一个正整数，表示表格中所有数的和对 $20101009$ 取模后的值。\n", "hint": "#### 样例输入输出 1 解释\n\n该表格为：\n\n|$1$|$2$|$3$|$4$|$5$|\n|:-:|:-:|:-:|:-:|:-:|\n|$2$|$2$|$6$|$4$|$10$|\n|$3$|$6$|$3$|$12$|$15$|\n|$4$|$4$|$12$|$4$|$20$|\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n, m \\le 10^3$。\n- 对于 $70\\%$ 的数据，保证 $n, m \\le 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m \\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P1830", "type": "P", "difficulty": 1, "samples": [["10 10 2 3\n1 1 5 5\n5 5 10 10\n3 2\n5 5\n7 1\n", "Y 1 1\nY 2 2\nN\n"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "轰炸III", "background": "一个大小为 $n\\times m$ 的城市遭到了 $x$ 次轰炸，每次都炸了一个每条边都与边界平行的矩形。\n", "description": "在轰炸后，有 $y$ 个关键点，指挥官想知道，它们有没有受到过轰炸，如果有，被炸了几次，最后一次是第几轮。\n", "inputFormat": "第一行共四个整数，分别为 $n,m,x,y$。\n\n接下来 $x$ 行，每行四个整数 $x_1,y_1,x_2,y_2$，表示被轰炸的矩形的左上角坐标和右下角坐标（比如 $1,3,7,10$ 就表示被轰炸的地方是从 $(1,3)$ 到 $(7,10)$ 的矩形）。\n\n接下来 $y$ 行，每行两个整数，表示这个关键点的坐标。\n", "outputFormat": "输出共 $y$ 行，每行第一个字符为 `Y` 或 `N`，表示是否被轰炸；若为 `Y`，在一个空格后为两个整数，表示被炸了几次和最后一次是第几轮。\n", "hint": "对于 $100\\%$ 数据，满足 $1\\le n,m\\le 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Bombing III", "background": "A city of size $n\\times m$ suffered $x$ bombings. Each time, a rectangle whose sides are parallel to the borders was bombed.", "description": "After the bombings, there are $y$ key points. The commander wants to know whether each of them was ever bombed; if yes, how many times, and in which round the last time occurred.", "inputFormat": "The first line contains four integers, $n,m,x,y$.\n\nThe next $x$ lines each contain four integers $x_1,y_1,x_2,y_2$, representing the top-left and bottom-right coordinates of the bombed rectangle (for example, $1,3,7,10$ means the bombed area is the rectangle from $(1,3)$ to $(7,10)$).\n\nThe next $y$ lines each contain two integers, representing the coordinates of a key point.", "outputFormat": "Output $y$ lines. In each line, the first character is `Y` or `N`, indicating whether it was bombed; if it is `Y`, then after a single space output two integers: the number of times it was bombed and the round number of the last time.", "hint": "For $100\\%$ of the testdata, $1\\le n,m\\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "轰炸III", "background": "一个大小为 $n\\times m$ 的城市遭到了 $x$ 次轰炸，每次都炸了一个每条边都与边界平行的矩形。\n", "description": "在轰炸后，有 $y$ 个关键点，指挥官想知道，它们有没有受到过轰炸，如果有，被炸了几次，最后一次是第几轮。\n", "inputFormat": "第一行共四个整数，分别为 $n,m,x,y$。\n\n接下来 $x$ 行，每行四个整数 $x_1,y_1,x_2,y_2$，表示被轰炸的矩形的左上角坐标和右下角坐标（比如 $1,3,7,10$ 就表示被轰炸的地方是从 $(1,3)$ 到 $(7,10)$ 的矩形）。\n\n接下来 $y$ 行，每行两个整数，表示这个关键点的坐标。\n", "outputFormat": "输出共 $y$ 行，每行第一个字符为 `Y` 或 `N`，表示是否被轰炸；若为 `Y`，在一个空格后为两个整数，表示被炸了几次和最后一次是第几轮。\n", "hint": "对于 $100\\%$ 数据，满足 $1\\le n,m\\le 100$。\n", "locale": "zh-CN"}}}
{"pid": "P1831", "type": "P", "difficulty": 6, "samples": [["7604 24324", "897"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "枚举", "数位 DP"], "title": "杠杆数", "background": "", "description": "如果把一个数的某一位当成支点，且左边的数字到这个点的力矩和等于右边的数字到这个点的力矩和，那么这个数就可以被叫成杠杆数。\n\n比如 $4139$ 就是杠杆数，把 $3$ 当成支点，我们有这样的等式：$4\\times 2+1\\times 1=9\\times 1$。\n\n给定区间 $[x,y]$，求出在 $[x,y]$ 中有几个杠杆数。", "inputFormat": "两个数，表示 $x,y$。", "outputFormat": "一个输出，表示区间 $[x,y]$ 中杠杆数的个数。\n", "hint": "### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$x \\le y \\le x+10^5$；\n- 对于 $100\\%$ 的数据，$1 \\le x \\le y \\le 10^{18}$。", "locale": "zh-CN", "translations": {"en": {"title": "Lever Numbers", "background": "", "description": "If we take one digit of a number as the fulcrum, and the sum of the moments of the digits to the left about this point equals the sum of the moments of the digits to the right about this point, then the number is called a lever number.\n\nFor example, $4139$ is a lever number. Taking $3$ as the fulcrum, we have the equation: $4 \\times 2 + 1 \\times 1 = 9 \\times 1$.\n\nGiven the interval $[x,y]$, find how many lever numbers are in $[x,y]$.", "inputFormat": "Two integers, $x,y$.", "outputFormat": "A single integer, the number of lever numbers in the interval $[x,y]$.", "hint": "Constraints\n\n- For $40\\%$ of the testdata, $x \\le y \\le x + 10^5$.\n- For $100\\%$ of the testdata, $1 \\le x \\le y \\le 10^{18}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "杠杆数", "background": "", "description": "如果把一个数的某一位当成支点，且左边的数字到这个点的力矩和等于右边的数字到这个点的力矩和，那么这个数就可以被叫成杠杆数。\n\n比如 $4139$ 就是杠杆数，把 $3$ 当成支点，我们有这样的等式：$4\\times 2+1\\times 1=9\\times 1$。\n\n给定区间 $[x,y]$，求出在 $[x,y]$ 中有几个杠杆数。", "inputFormat": "两个数，表示 $x,y$。", "outputFormat": "一个输出，表示区间 $[x,y]$ 中杠杆数的个数。\n", "hint": "### 数据范围及约定\n\n- 对于 $40\\%$ 的数据，$x \\le y \\le x+10^5$；\n- 对于 $100\\%$ 的数据，$1 \\le x \\le y \\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P1832", "type": "P", "difficulty": 2, "samples": [["7", "3"], ["20", "26"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "递推", "洛谷原创", "背包 DP", "素数判断,质数,筛法"], "title": "A+B Problem（再升级）", "background": "题目名称是吸引你点进来的。\n\n实际上该题还是很水的。\n", "description": "- $1+1=?$ 显然是 $2$。\n- $a+b=?$ P1001 回看不谢。\n- 哥德巴赫猜想 似乎已呈泛滥趋势。\n\n_以上纯属个人吐槽_\n\n给定一个正整数 $n$，求将其分解成若干个素数之和的方案总数。\n\n", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "一行一个整数表示方案总数。", "hint": "### 样例解释\n\n存在如下三种方案：\n\n- $7=7$。\n- $7=2+5$。\n- $7=2+2+3$。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据 $1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^3$。\n", "locale": "zh-CN", "translations": {"en": {"title": "A+B Problem (Another Upgrade)", "background": "The title is meant to attract you to click.\n\nIn fact, this problem is still quite easy.", "description": "- $1+1=?$ Obviously $2$.\n- $a+b=?$ See P1001, don't thank me.\n- Goldbach's conjecture seems to be everywhere.\n\n_The above is purely a personal rant._\n\nGiven a positive integer $n$, find the total number of ways to express it as a sum of prime numbers. The order of addends does not matter.", "inputFormat": "One line containing a positive integer $n$.", "outputFormat": "One line containing an integer representing the total number of ways.", "hint": "### Sample Explanation\n\nThere are the following three ways:\n\n- $7=7$.\n- $7=2+5$.\n- $7=2+2+3$.\n\n### Constraints\n\n- For $30\\%$ of the testdata, $1 \\le n \\le 10$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "A+B Problem（再升级）", "background": "题目名称是吸引你点进来的。\n\n实际上该题还是很水的。\n", "description": "- $1+1=?$ 显然是 $2$。\n- $a+b=?$ P1001 回看不谢。\n- 哥德巴赫猜想 似乎已呈泛滥趋势。\n\n_以上纯属个人吐槽_\n\n给定一个正整数 $n$，求将其分解成若干个素数之和的方案总数。\n\n", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "一行一个整数表示方案总数。", "hint": "### 样例解释\n\n存在如下三种方案：\n\n- $7=7$。\n- $7=2+5$。\n- $7=2+2+3$。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据 $1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，$1\\le n\\le 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P1833", "type": "P", "difficulty": 3, "samples": [["6:50 7:00 3\n2 1 0\n3 3 1\n4 5 4", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "洛谷原创", "背包 DP"], "title": "樱花", "background": "《爱与愁的故事第四弹·plant》第一章。", "description": "爱与愁大神后院里种了 $n$ 棵樱花树，每棵都有美学值 $C_i(0 < C_i \\le 200)$。爱与愁大神在每天上学前都会来赏花。爱与愁大神可是生物学霸，他懂得如何欣赏樱花：一种樱花树看一遍过，一种樱花树最多看 $P_i(0 \\le P_i \\le 100)$ 遍，一种樱花树可以看无数遍。但是看每棵樱花树都有一定的时间 $T_i(0 < T_i \\le 100)$。爱与愁大神离去上学的时间只剩下一小会儿了。求解看哪几棵樱花树能使美学值最高且爱与愁大神能准时（或提早）去上学。", "inputFormat": "共 $n+1$行：\n\n第 $1$ 行：现在时间 $T_s$（几时：几分），去上学的时间 $T_e$（几时：几分），爱与愁大神院子里有几棵樱花树 $n$。这里的 $T_s$，$T_e$ 格式为：`hh:mm`，其中 $0 \\leq hh \\leq 23$，$0 \\leq mm \\leq 59$，且 $hh,mm,n$ 均为正整数。\n\n第 $2$ 行到第 $n+1$ 行，每行三个正整数：看完第 $i$ 棵树的耗费时间 $T_i$，第 $i$ 棵树的美学值 $C_i$，看第 $i$ 棵树的次数 $P_i$（$P_i=0$ 表示无数次，$P_i$ 是其他数字表示最多可看的次数 $P_i$）。", "outputFormat": "只有一个整数，表示最大美学值。", "hint": "$100\\%$ 数据：$T_e-T_s \\leq 1000$（即开始时间距离结束时间不超过 $1000$ 分钟），$n \\leq 10000$。保证 $T_e,T_s$ 为同一天内的时间。\n\n样例解释：赏第一棵樱花树一次，赏第三棵樱花树 $2$ 次。", "locale": "zh-CN", "translations": {"en": {"title": "Cherry Blossoms", "background": "“The Story of Ai Yu Chou, Part 4 · plant”, Chapter 1.", "description": "Ai Yu Chou has planted $n$ cherry blossom trees in the backyard, each with an aesthetic value $C_i$ ($0 < C_i \\le 200$). Every morning before school, Ai Yu Chou enjoys the blossoms. As a biology ace, he knows how to appreciate them: each tree can be viewed at most $P_i$ times, where $P_i = 0$ means unlimited views; otherwise, at most $P_i$ times. Viewing tree $i$ once takes $T_i$ minutes ($0 < T_i \\le 100$). Only a short time remains before he must leave for school. Determine which trees to view (and how many times) to maximize the total aesthetic value while ensuring he can leave on time (or earlier).", "inputFormat": "There are $n+1$ lines.\n\nLine 1: current time $T_s$ (hour:minute), school departure time $T_e$ (hour:minute), and the number of trees $n$. The formats of $T_s$, $T_e$ are `hh:mm`, where $0 \\le hh \\le 23$, $0 \\le mm \\le 59$, and $n$ is a positive integer.\n\nLines $2$ to $n+1$: three positive integers per line: the time to view tree $i$ once $T_i$, the aesthetic value of tree $i$ $C_i$, and the allowed view count $P_i$ ($P_i = 0$ means unlimited; otherwise, at most $P_i$ times).", "outputFormat": "Output a single integer, the maximum total aesthetic value.", "hint": "Constraints: For $100\\%$ of the testdata, $T_e - T_s \\le 1000$ (i.e., the time from start to end does not exceed $1000$ minutes), and $n \\le 10000$. It is guaranteed that $T_e$ and $T_s$ are within the same day.\n\nSample explanation: view the first tree once, and the third tree $2$ times.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "樱花", "background": "《爱与愁的故事第四弹·plant》第一章。", "description": "爱与愁大神后院里种了 $n$ 棵樱花树，每棵都有美学值 $C_i(0 < C_i \\le 200)$。爱与愁大神在每天上学前都会来赏花。爱与愁大神可是生物学霸，他懂得如何欣赏樱花：一种樱花树看一遍过，一种樱花树最多看 $P_i(0 \\le P_i \\le 100)$ 遍，一种樱花树可以看无数遍。但是看每棵樱花树都有一定的时间 $T_i(0 < T_i \\le 100)$。爱与愁大神离去上学的时间只剩下一小会儿了。求解看哪几棵樱花树能使美学值最高且爱与愁大神能准时（或提早）去上学。", "inputFormat": "共 $n+1$行：\n\n第 $1$ 行：现在时间 $T_s$（几时：几分），去上学的时间 $T_e$（几时：几分），爱与愁大神院子里有几棵樱花树 $n$。这里的 $T_s$，$T_e$ 格式为：`hh:mm`，其中 $0 \\leq hh \\leq 23$，$0 \\leq mm \\leq 59$，且 $hh,mm,n$ 均为正整数。\n\n第 $2$ 行到第 $n+1$ 行，每行三个正整数：看完第 $i$ 棵树的耗费时间 $T_i$，第 $i$ 棵树的美学值 $C_i$，看第 $i$ 棵树的次数 $P_i$（$P_i=0$ 表示无数次，$P_i$ 是其他数字表示最多可看的次数 $P_i$）。", "outputFormat": "只有一个整数，表示最大美学值。", "hint": "$100\\%$ 数据：$T_e-T_s \\leq 1000$（即开始时间距离结束时间不超过 $1000$ 分钟），$n \\leq 10000$。保证 $T_e,T_s$ 为同一天内的时间。\n\n样例解释：赏第一棵樱花树一次，赏第三棵樱花树 $2$ 次。", "locale": "zh-CN"}}}
{"pid": "P1834", "type": "P", "difficulty": 5, "samples": [["2 3 5 7 ", "(((3*5)+2)+7)"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "速算游戏", "background": "", "description": "jyx 和 cyy 打赌，比谁 $24$ 点算得快，算得慢的那个人请客。$24$ 点的规则是这样的：给定 $4$ 个 $1\\sim 9$ 的整数，用括号改变运算顺序，通过加、减、乘、除中的一系列运算，得到整数 $24$。\n\n注意所有中间结果必须是整数（例如 $(2\\times 2)/4$ 是允许的，而 $2\\times (2/4)$ 是不允许的）。\n\n为了赢得这个比赛，请写一个程序帮助我作弊，快速地计算出 $24$ 点。", "inputFormat": "一行 $4$ 个整数，为给定的 $4$ 个数字。输入数据保证有解。\n", "outputFormat": "一行，以字符串的形式输出结果。注意将每一步的运算的括号补齐（例如 $(3+5)+6$ 和 $3\\times(5+6)$）。如果有多种解答，输出字典顺序最小的一个。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Quick Calculation Game", "background": "", "description": "jyx and cyy made a bet to see who can compute $24$ faster; the slower person treats. The rules of the $24$ Game are as follows: given $4$ integers from $1\\sim 9$, use parentheses to change the order of operations and perform a sequence of operations among addition, subtraction, multiplication, and division to obtain the integer $24$.\n\nNote that all intermediate results must be integers (for example, $(2\\times 2)/4$ is allowed, while $2\\times (2/4)$ is not allowed).\n\nTo win this match, please write a program to help me cheat by quickly computing $24$.", "inputFormat": "One line with $4$ integers, which are the given $4$ numbers. The input testdata is guaranteed to have a solution.", "outputFormat": "One line, output the result as a string. Make sure to include parentheses for every step of the operations (for example, $(3+5)+6$ and $3\\times(5+6)$). If there are multiple solutions, output the lexicographically smallest one.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "速算游戏", "background": "", "description": "jyx 和 cyy 打赌，比谁 $24$ 点算得快，算得慢的那个人请客。$24$ 点的规则是这样的：给定 $4$ 个 $1\\sim 9$ 的整数，用括号改变运算顺序，通过加、减、乘、除中的一系列运算，得到整数 $24$。\n\n注意所有中间结果必须是整数（例如 $(2\\times 2)/4$ 是允许的，而 $2\\times (2/4)$ 是不允许的）。\n\n为了赢得这个比赛，请写一个程序帮助我作弊，快速地计算出 $24$ 点。", "inputFormat": "一行 $4$ 个整数，为给定的 $4$ 个数字。输入数据保证有解。\n", "outputFormat": "一行，以字符串的形式输出结果。注意将每一步的运算的括号补齐（例如 $(3+5)+6$ 和 $3\\times(5+6)$）。如果有多种解答，输出字典顺序最小的一个。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1835", "type": "P", "difficulty": 3, "samples": [["2 11", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["NOI 导刊", "枚举", "素数判断,质数,筛法"], "title": "素数密度", "background": "UPD:\n\n- 2024.8.12：加入一组 Hack 数据。", "description": " 给定 $L,R$，请计算区间 $[L,R]$ 中素数的个数。\n\n   $1\\leq L\\leq R < 2^{31}$，$R-L\\leq 10^6$。", "inputFormat": "第一行，两个正整数 $L$ 和 $R$。", "outputFormat": "一行，一个整数，表示区间中素数的个数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Prime Density", "background": "Update:\n- 2024.8.12: Added a set of hack testdata.", "description": "Given $L,R$, please compute the number of primes in the interval $[L,R]$.\n\n$1\\leq L\\leq R < 2^{31}$，$R-L\\leq 10^6$。", "inputFormat": "The first line contains two positive integers $L$ and $R$.", "outputFormat": "One line containing a single integer, the number of primes in the interval.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "素数密度", "background": "UPD:\n\n- 2024.8.12：加入一组 Hack 数据。", "description": " 给定 $L,R$，请计算区间 $[L,R]$ 中素数的个数。\n\n   $1\\leq L\\leq R < 2^{31}$，$R-L\\leq 10^6$。", "inputFormat": "第一行，两个正整数 $L$ 和 $R$。", "outputFormat": "一行，一个整数，表示区间中素数的个数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1836", "type": "P", "difficulty": 4, "samples": [["3456789", "96342015 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊", "数位 DP"], "title": "数页码", "background": "", "description": "一本书的页码是从 $1\\sim n$ 编号的连续整数：$1,2,3,\\cdots,n$。请你求出全部页码中所有单个数字的和，例如第 $123$ 页，它的和就是 $ 1+2+3=6$。\n", "inputFormat": "一行一个整数 $n$。\n", "outputFormat": "一行，代表所有单个数字的和。\n", "hint": "$1\\le n\\le 10^9$", "locale": "zh-CN", "translations": {"en": {"title": "Sum of Page Digits", "background": "", "description": "A book’s page numbers are the consecutive integers from $1\\sim n$: $1,2,3,\\cdots,n$. Please compute the sum of all individual digits across all page numbers; for example, for page $123$, its sum is $ 1+2+3=6$.", "inputFormat": "A single integer $n$ on one line.", "outputFormat": "One line containing the sum of all individual digits.", "hint": "Constraints: $1\\le n\\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数页码", "background": "", "description": "一本书的页码是从 $1\\sim n$ 编号的连续整数：$1,2,3,\\cdots,n$。请你求出全部页码中所有单个数字的和，例如第 $123$ 页，它的和就是 $ 1+2+3=6$。\n", "inputFormat": "一行一个整数 $n$。\n", "outputFormat": "一行，代表所有单个数字的和。\n", "hint": "$1\\le n\\le 10^9$", "locale": "zh-CN"}}}
{"pid": "P1837", "type": "P", "difficulty": 5, "samples": [["AS 9S 6C KS \r\nJC QH AC KH \r\n7S QD JD KD \r\nQS TS JS 9H \r\n6D TD AD 8S \r\nQC TH KC 8D \r\n8C 9D TC 7C \r\n9C 7H JH 7D \r\n8H 6S AH 6H ", "0.589314"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "状压 DP"], "title": "单人纸牌", "background": "", "description": "单人纸牌游戏，共 $36$ 张牌分成 $9$ 叠，每叠 $4$ 张牌面向上。每次，游戏者可以从某两个不同的牌堆最顶上取出两张牌面相同的牌（如黑桃 $10$ 和梅花 $10$）并且一起拿走。如果最后所有纸牌都被取走，则游戏者就赢了，否则游戏者就输了。\n\nGeorge 很热衷于玩这个游戏，但是一旦有时有多种选择的方法，George 就不知道取哪一种好了，George 会从中随机地选择一种走，例如：顶上的 $9$ 张牌为 $\\tt KS,\\tt KH,\\tt KD,\\tt 9H,\\tt 8S,\\tt 8D,\\tt 7C,\\tt 7D,\\tt 6H$，显然有 $5$ 种取法：$\\tt (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)$，当然 George 取到每一种取法的概率都是 $1/5$。\n\n有一次，George 的朋友 Andrew 告诉他，这样做是很愚蠢的，不过 George 不相信，他认为如此玩最后成功的概率是非常大的。请写一个程序帮助 George 证明他的结论：计算按照他的策略，最后胜利的概率。", "inputFormat": "输入共 $9$ 行，每行 $4$ 组用空格分开的字串，每个字串两个字符，分别表示牌面和花色，按照从堆底到堆顶的顺序给出。\n", "outputFormat": "一行，最后胜利的概率，精确到小数点后 $6$ 位。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Single-Player Solitaire", "background": "", "description": "In a single-player solitaire game, a total of $36$ cards are divided into $9$ piles, each pile has $4$ face-up cards. Each time, the player may take two top cards from two different piles if they have the same rank (for example, a spade $10$ and a club $10$), and remove them together. If all cards are eventually removed, the player wins; otherwise, the player loses.\n\nGeorge is very keen on playing this game. However, whenever there are multiple choices, George does not know which one to take. He will randomly choose one from them. For example, suppose the $9$ top cards are $\\tt KS,\\tt KH,\\tt KD,\\tt 9H,\\tt 8S,\\tt 8D,\\tt 7C,\\tt 7D,\\tt 6H$. Clearly there are $5$ ways to take pairs: $\\tt (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)$. Of course, George chooses each option with probability $1/5$.\n\nOne day, George’s friend Andrew told him that this was foolish. But George did not believe it; he thinks that playing this way yields a very high chance of success. Please write a program to help George justify his claim: compute the probability of eventually winning when he follows this strategy.", "inputFormat": "The input consists of $9$ lines. Each line contains $4$ space-separated strings. Each string has two characters, representing the rank and suit, given in order from the bottom of the pile to the top.", "outputFormat": "Output one line: the final winning probability, to $6$ decimal places.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "单人纸牌", "background": "", "description": "单人纸牌游戏，共 $36$ 张牌分成 $9$ 叠，每叠 $4$ 张牌面向上。每次，游戏者可以从某两个不同的牌堆最顶上取出两张牌面相同的牌（如黑桃 $10$ 和梅花 $10$）并且一起拿走。如果最后所有纸牌都被取走，则游戏者就赢了，否则游戏者就输了。\n\nGeorge 很热衷于玩这个游戏，但是一旦有时有多种选择的方法，George 就不知道取哪一种好了，George 会从中随机地选择一种走，例如：顶上的 $9$ 张牌为 $\\tt KS,\\tt KH,\\tt KD,\\tt 9H,\\tt 8S,\\tt 8D,\\tt 7C,\\tt 7D,\\tt 6H$，显然有 $5$ 种取法：$\\tt (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)$，当然 George 取到每一种取法的概率都是 $1/5$。\n\n有一次，George 的朋友 Andrew 告诉他，这样做是很愚蠢的，不过 George 不相信，他认为如此玩最后成功的概率是非常大的。请写一个程序帮助 George 证明他的结论：计算按照他的策略，最后胜利的概率。", "inputFormat": "输入共 $9$ 行，每行 $4$ 组用空格分开的字串，每个字串两个字符，分别表示牌面和花色，按照从堆底到堆顶的顺序给出。\n", "outputFormat": "一行，最后胜利的概率，精确到小数点后 $6$ 位。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1838", "type": "P", "difficulty": 1, "samples": [["5237649\n", "xiaoa wins.\n"], ["539128647", "drew."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "三子棋I", "background": "", "description": "小 a 和 uim 喜欢互相切磋三子棋。三子棋大家都玩过是吗？就是在九宫格里面 OOXX（别想歪了），谁连成 $3$ 个就赢了。\n\n由于小 a 比较愚蠢，uim 总是让他先。\n\n我们用 $9$ 个数字表示棋盘位置：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n1 & 2 & 3 \\\\\\hline\n4 & 5 & 6 \\\\\\hline\n7 & 8 & 9 \\\\\\hline\n\\end{array}$$\n\n\n所有的棋谱都是已经结束的棋局，要么一方获胜，要么平局。\n\n今天，他们下了一下午的棋，小 a 为了提高技术，录下了很多棋谱。他想知道，一盘棋结束时，到底是谁赢。", "inputFormat": "一行，一串数字，表示落子的地点。小 a 总是先下。\n", "outputFormat": "一行，如果小 a 赢，输出 `xiaoa wins.`。如果 uim 赢，输出 `uim wins.`。如果平局，输出 `drew.`。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Tic-Tac-Toe I", "background": "", "description": "xiaoa and uim enjoy playing tic-tac-toe against each other. Tic-tac-toe is played on a $3 \\times 3$ grid by placing O and X; whoever connects $3$ in a line wins.\n\nSince xiaoa is less skilled, uim always lets him move first.\n\nWe use $9$ digits to represent the board positions:\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n1 & 2 & 3 \\\\\\hline\n4 & 5 & 6 \\\\\\hline\n7 & 8 & 9 \\\\\\hline\n\\end{array}$$\n\nAll recorded games are already finished: either one player wins, or it is a draw.\n\nToday, they played all afternoon. To improve his skills, xiaoa recorded many game logs. He wants to know who won when a game ends.", "inputFormat": "One line, a string of digits indicating the move positions. xiaoa always moves first.", "outputFormat": "One line. If xiaoa wins, output `xiaoa wins.`. If uim wins, output `uim wins.`. If it is a draw, output `drew.`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "三子棋I", "background": "", "description": "小 a 和 uim 喜欢互相切磋三子棋。三子棋大家都玩过是吗？就是在九宫格里面 OOXX（别想歪了），谁连成 $3$ 个就赢了。\n\n由于小 a 比较愚蠢，uim 总是让他先。\n\n我们用 $9$ 个数字表示棋盘位置：\n\n$$\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n1 & 2 & 3 \\\\\\hline\n4 & 5 & 6 \\\\\\hline\n7 & 8 & 9 \\\\\\hline\n\\end{array}$$\n\n\n所有的棋谱都是已经结束的棋局，要么一方获胜，要么平局。\n\n今天，他们下了一下午的棋，小 a 为了提高技术，录下了很多棋谱。他想知道，一盘棋结束时，到底是谁赢。", "inputFormat": "一行，一串数字，表示落子的地点。小 a 总是先下。\n", "outputFormat": "一行，如果小 a 赢，输出 `xiaoa wins.`。如果 uim 赢，输出 `uim wins.`。如果平局，输出 `drew.`。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1839", "type": "P", "difficulty": 3, "samples": [["9 \r\n2 \r\n2  2 \r\n1  4 ", "Masha \r\nMissing"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["博弈论", "NOI 导刊", "记忆化搜索"], "title": "Play with Power", "background": null, "description": "Masha 和 Stas 正在玩一个游戏。在游戏的开始，给出一个数  $n$，同时有两个正整数  $a,b$，初始时满足 $a^b\\le n$。\n\nMasha 先手。每一回合，玩家要将 $a,b$ 的其中一个数加上  $1$，但不能使 $a^b>n$，否则该玩家输。\n\n现在，Masha 想知道，假如两人都使用最优策略，对于同一个 $n$ 和不同的 $a,b$，谁将获胜呢？", "inputFormat": "第一行一个数  $n$。\n\n第二行一个数  $t$，表示数据组数。\n\n接下来  $t$ 行，每行两个数  $a,b$，描述每组数据。", "outputFormat": "共  $t$ 行，对于每组数据：\n\n- 若 Masha 获胜，输出 `Masha`。\n- 若 Stas 获胜，输出 `Stas`。\n- 若平手，输出 `Missing`。", "hint": "#### 数据规模与约定\n\n- 对于  $30\\%$ 的数据，有  $1\\le n\\le 2 \\times 10^3$。\n- 对于  $100\\%$ 的数据，有  $1\\le n\\le 10^8$， $1\\le t\\le 100$， $1\\le a,b,a^b\\le n$。", "locale": "zh-CN", "translations": {"en": {"title": "Play with Power", "background": "", "description": "Masha and Stas are playing a game. At the start of the game, a number $n$ is given, along with two positive integers $a, b$, which initially satisfy $a^b \\le n$.\n\nMasha moves first. On each turn, a player must increase exactly one of $a$ or $b$ by $1$, but may not make $a^b > n$; otherwise that player loses.\n\nNow Masha wants to know, if both players play optimally, for the same $n$ and different $a, b$, who will win.", "inputFormat": "The first line contains a number $n$.\n\nThe second line contains a number $t$, the number of test cases.\n\nThe next $t$ lines each contain two numbers $a, b$, describing each test case.", "outputFormat": "Output $t$ lines, one for each test case:\n\n- If Masha wins, output `Masha`.\n- If Stas wins, output `Stas`.\n- If it is a draw, output `Missing`.", "hint": "Constraints\n\n- For 30% of the testdata, $1 \\le n \\le 2 \\times 10^3$.\n- For 100% of the testdata, $1 \\le n \\le 10^8$, $1 \\le t \\le 100$, $1 \\le a, b, a^b \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Play with Power", "background": null, "description": "Masha 和 Stas 正在玩一个游戏。在游戏的开始，给出一个数  $n$，同时有两个正整数  $a,b$，初始时满足 $a^b\\le n$。\n\nMasha 先手。每一回合，玩家要将 $a,b$ 的其中一个数加上  $1$，但不能使 $a^b>n$，否则该玩家输。\n\n现在，Masha 想知道，假如两人都使用最优策略，对于同一个 $n$ 和不同的 $a,b$，谁将获胜呢？", "inputFormat": "第一行一个数  $n$。\n\n第二行一个数  $t$，表示数据组数。\n\n接下来  $t$ 行，每行两个数  $a,b$，描述每组数据。", "outputFormat": "共  $t$ 行，对于每组数据：\n\n- 若 Masha 获胜，输出 `Masha`。\n- 若 Stas 获胜，输出 `Stas`。\n- 若平手，输出 `Missing`。", "hint": "#### 数据规模与约定\n\n- 对于  $30\\%$ 的数据，有  $1\\le n\\le 2 \\times 10^3$。\n- 对于  $100\\%$ 的数据，有  $1\\le n\\le 10^8$， $1\\le t\\le 100$， $1\\le a,b,a^b\\le n$。", "locale": "zh-CN"}}}
{"pid": "P1840", "type": "P", "difficulty": 3, "samples": [["10 3\n3 3\n5 7\n2 8", "9\n6\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树", "并查集", "颜色段均摊（珂朵莉树 ODT）", "NOI 导刊", "分块"], "title": "Color the Axis", "background": "", "description": "在一条数轴上有 $n$ 个点，分别是 $1,2,\\ldots,n$。一开始所有的点都被染成黑色。接着我们进行 $m$ 次操作，第 $i$ 次操作将 $[l_i,r_i]$ 这些点染成白色。请输出每个操作执行后剩余黑色点的个数。", "inputFormat": "输入一行为 $n$ 和 $m$。下面 $m$ 行每行两个数 $l_i$，$r_i$。", "outputFormat": "输出 $m$ 行，为每次操作后剩余黑色点的个数。", "hint": "- 对于 $30\\%$ 的数据，有 $1\\le n\\le2000$，$1\\le m\\le2000$；\n- 对于 $100\\%$ 的数据，有 $1\\le l_i\\le r_i\\le n\\le 2\\times 10^5$，$1\\le m\\le 2\\times10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Color the Axis", "background": "", "description": "On a number line there are $n$ points, namely $1, 2, \\ldots, n$. Initially, all points are colored black. Then we perform $m$ operations; in the $i$-th operation, the points in $[l_i,r_i]$ are painted white. Output the number of black points remaining after each operation.", "inputFormat": "The first line contains $n$ and $m$. Each of the next $m$ lines contains two integers $l_i$, $r_i$.", "outputFormat": "Output $m$ lines, where each line is the number of black points remaining after the corresponding operation.", "hint": "- For 30% of the testdata, $1\\le n\\le 2000$, $1\\le m\\le 2000$.\n- For 100% of the testdata, $1\\le l_i\\le r_i\\le n\\le 2\\times 10^5$, $1\\le m\\le 2\\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Color the Axis", "background": "", "description": "在一条数轴上有 $n$ 个点，分别是 $1,2,\\ldots,n$。一开始所有的点都被染成黑色。接着我们进行 $m$ 次操作，第 $i$ 次操作将 $[l_i,r_i]$ 这些点染成白色。请输出每个操作执行后剩余黑色点的个数。", "inputFormat": "输入一行为 $n$ 和 $m$。下面 $m$ 行每行两个数 $l_i$，$r_i$。", "outputFormat": "输出 $m$ 行，为每次操作后剩余黑色点的个数。", "hint": "- 对于 $30\\%$ 的数据，有 $1\\le n\\le2000$，$1\\le m\\le2000$；\n- 对于 $100\\%$ 的数据，有 $1\\le l_i\\le r_i\\le n\\le 2\\times 10^5$，$1\\le m\\le 2\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P1841", "type": "P", "difficulty": 5, "samples": [["4 4\n1 2 1\n2 3 1\n4 1 2\n4 3 2", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "图论", "2007", "各省省选", "江苏"], "title": "[JSOI2007] 重要的城市", "background": "", "description": "参加 jsoi 冬令营的同学最近发现，由于南航校内修路截断了原来通向计算中心的路，导致去的路程比原先增加了近一公里。而食堂门前施工虽然也截断了原来通向计算中心的路，却没有使路程增加，因为可以找到同样长度的路作替代。其实，问题的关键在于，路截断的地方是交通要点。\n\n同样的情况也出现在城市间的交通中。某些城市如果出了问题，可能会引起其他很多城市的交通不便。另一些城市则影响不到别的城市的交通。jsoi 冬令营的同学发现这是一个有趣的问题，于是决定研究这个问题。\n\n他们认为这样的城市是重要的：如果一个城市 $c$ 被破坏后，存在两个不同的城市 $a$ 和 $b$（$a, b$ 均不等于 $c$），$a$ 到 $b$ 的最短距离增长了（或不通），则城市 $c$ 是重要的。\n\njsoi 冬令营的同学面对着一张教练组交给他们的城市间交通图，他们希望能找出所有重要的城市。现在就请你来解决这个问题。", "inputFormat": "第一行两个整数 $N,M,N$ 为城市数，$M$ 为道路数。\n\n接下来 $M$ 行，每行三个整数，表示两个城市之间的无向边，以及之间的路的长度。", "outputFormat": "一行，按递增次序输出若干的数，表示重要的城市。如果不存在这样的城市，请输出 `No important cities.`。", "hint": "- 对于 $30\\%$ 的数据满足 $N\\le 20$；\n- 对于 $60\\%$ 的数据满足 $N\\le 100$；\n- 对于 $100\\%$ 的数据满足 $N\\le 200,M\\le \\frac{N\\times (N-1)}{2},0<c\\le 10000$。$c$ 即路的长度。\n\n保证不出现重边和自环。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2007] Important Cities", "background": "", "description": "Students attending the JSOI winter camp recently discovered that, due to road construction on the Nanhang campus cutting off the original route to the computing center, the travel distance increased by nearly one kilometer. However, although construction in front of the cafeteria also blocked the original route to the computing center, it did not increase the distance because an alternative route of the same length could be found. In fact, the key is that the blocked point is a critical junction.\n\nA similar situation occurs in intercity transportation. If certain cities have problems, they may cause inconvenience to traffic between many other cities. Other cities do not affect the traffic between other cities. The JSOI winter camp students found this to be an interesting problem and decided to study it.\n\nThey consider a city to be important if: after a city $c$ is destroyed, there exist two distinct cities $a$ and $b$ (with $a, b \\ne c$) such that the shortest distance from $a$ to $b$ increases (or becomes disconnected). In this case, city $c$ is important.\n\nGiven a transportation map between cities provided by the coaches, they want to find all important cities. Now please solve this problem.", "inputFormat": "The first line contains two integers $N$ and $M$: $N$ is the number of cities, and $M$ is the number of roads.\n\nThe next $M$ lines each contain three integers, representing an undirected edge between two cities and the length of the road between them.", "outputFormat": "Output a single line containing several numbers in increasing order, representing the important cities. If no such city exists, output `No important cities.`.", "hint": "- For $30\\%$ of the testdata, $N \\le 20$.\n- For $60\\%$ of the testdata, $N \\le 100$.\n- For $100\\%$ of the testdata, $N \\le 200$, $M \\le \\frac{N \\times (N - 1)}{2}$, $0 < c \\le 10000$. Here $c$ is the length of a road.\n\nThere are no multiple edges or self-loops.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2007] 重要的城市", "background": "", "description": "参加 jsoi 冬令营的同学最近发现，由于南航校内修路截断了原来通向计算中心的路，导致去的路程比原先增加了近一公里。而食堂门前施工虽然也截断了原来通向计算中心的路，却没有使路程增加，因为可以找到同样长度的路作替代。其实，问题的关键在于，路截断的地方是交通要点。\n\n同样的情况也出现在城市间的交通中。某些城市如果出了问题，可能会引起其他很多城市的交通不便。另一些城市则影响不到别的城市的交通。jsoi 冬令营的同学发现这是一个有趣的问题，于是决定研究这个问题。\n\n他们认为这样的城市是重要的：如果一个城市 $c$ 被破坏后，存在两个不同的城市 $a$ 和 $b$（$a, b$ 均不等于 $c$），$a$ 到 $b$ 的最短距离增长了（或不通），则城市 $c$ 是重要的。\n\njsoi 冬令营的同学面对着一张教练组交给他们的城市间交通图，他们希望能找出所有重要的城市。现在就请你来解决这个问题。", "inputFormat": "第一行两个整数 $N,M,N$ 为城市数，$M$ 为道路数。\n\n接下来 $M$ 行，每行三个整数，表示两个城市之间的无向边，以及之间的路的长度。", "outputFormat": "一行，按递增次序输出若干的数，表示重要的城市。如果不存在这样的城市，请输出 `No important cities.`。", "hint": "- 对于 $30\\%$ 的数据满足 $N\\le 20$；\n- 对于 $60\\%$ 的数据满足 $N\\le 100$；\n- 对于 $100\\%$ 的数据满足 $N\\le 200,M\\le \\frac{N\\times (N-1)}{2},0<c\\le 10000$。$c$ 即路的长度。\n\n保证不出现重边和自环。", "locale": "zh-CN"}}}
{"pid": "P1842", "type": "P", "difficulty": 3, "samples": [["3\n10 3\n2 5\n3 3", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2005", "USACO"], "title": "[USACO05NOV] 奶牛玩杂技", "background": "Farmer John 养了 $N$ 头牛，她们已经按 $1\\sim N$ 依次编上了号。FJ 所不知道的是，他的所有牛都梦想着从农场逃走，去参加马戏团的演出。可奶牛们很快发现她们那笨拙的蹄子根本无法在钢丝或晃动的的秋千上站稳（她们还尝试过把自己装在大炮里发射出去，但可想而知，结果是悲惨的） 。最终，她们决定练习一种最简单的杂技：把所有牛都摞在一起， 比如说， 第一头牛站在第二头的身上， 同时第二头牛又站在第三头牛的身上...最底下的是第 $N$ 头牛。", "description": "每头牛都有自己的体重以及力量，编号为 $i$ 的奶牛的体重为 $W_i$，力量为 $S_i$。\n\n当某头牛身上站着另一些牛时它就会在一定程度上被压扁，我们不妨把它被压扁的程度叫做它的压扁指数。对于任意的牛，她的压扁指数等于摞在她上面的所有奶牛的总重（当然不包括她自己）减去她的力量。奶牛们按照一定的顺序摞在一起后， 她们的总压扁指数就是被压得最扁的那头奶牛的压扁指数。\n\n你的任务就是帮助奶牛们找出一个摞在一起的顺序，使得总压扁指数最小。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行两个整数 $W_i$ 和 $S_i$。", "outputFormat": "一行一个整数表示最小总压扁指数。", "hint": "对于 $100\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le W_i \\le 10^4$，$1 \\le S_i \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO05NOV] Cows Playing Acrobatics", "background": "Farmer John has $N$ cows, numbered $1\\sim N$ in order. What FJ does not know is that all his cows dream of escaping the farm to join the circus. They soon discover that their clumsy hooves cannot stand steadily on a tightrope or a swinging trapeze (they even tried loading themselves into a cannon, but the outcome, as you might guess, was tragic). In the end, they decide to practice the simplest acrobatics: stacking all the cows on top of each other. For example, the first cow stands on the second, the second stands on the third, and so on... the $N$-th cow is at the bottom.", "description": "Each cow has its own weight and strength. Cow $i$ has weight $W_i$ and strength $S_i$.\n\nWhen a cow has other cows standing on her, she gets squashed to some extent. We call this her \"squashed index.\" For any cow, her squashed index equals the total weight of all cows stacked above her (not including herself) minus her strength.\n\nAfter the cows are stacked in some order, their overall squashed index is the squashed index of the most squashed cow.\n\nYour task is to help the cows find an ordering that minimizes the overall squashed index.", "inputFormat": "The first line contains an integer $N$.\n\nThe next $N$ lines each contain two integers $W_i$ and $S_i$.", "outputFormat": "Output a single integer, the minimal overall squashed index.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le N \\le 5\\times 10^4$, $1 \\le W_i \\le 10^4$, $1 \\le S_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO05NOV] 奶牛玩杂技", "background": "Farmer John 养了 $N$ 头牛，她们已经按 $1\\sim N$ 依次编上了号。FJ 所不知道的是，他的所有牛都梦想着从农场逃走，去参加马戏团的演出。可奶牛们很快发现她们那笨拙的蹄子根本无法在钢丝或晃动的的秋千上站稳（她们还尝试过把自己装在大炮里发射出去，但可想而知，结果是悲惨的） 。最终，她们决定练习一种最简单的杂技：把所有牛都摞在一起， 比如说， 第一头牛站在第二头的身上， 同时第二头牛又站在第三头牛的身上...最底下的是第 $N$ 头牛。", "description": "每头牛都有自己的体重以及力量，编号为 $i$ 的奶牛的体重为 $W_i$，力量为 $S_i$。\n\n当某头牛身上站着另一些牛时它就会在一定程度上被压扁，我们不妨把它被压扁的程度叫做它的压扁指数。对于任意的牛，她的压扁指数等于摞在她上面的所有奶牛的总重（当然不包括她自己）减去她的力量。奶牛们按照一定的顺序摞在一起后， 她们的总压扁指数就是被压得最扁的那头奶牛的压扁指数。\n\n你的任务就是帮助奶牛们找出一个摞在一起的顺序，使得总压扁指数最小。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行两个整数 $W_i$ 和 $S_i$。", "outputFormat": "一行一个整数表示最小总压扁指数。", "hint": "对于 $100\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le W_i \\le 10^4$，$1 \\le S_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1843", "type": "P", "difficulty": 3, "samples": [["3 2 1\n1\n2\n3", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "贪心", "二分"], "title": "奶牛晒衣服", "background": "熊大妈决定给每个牛宝宝都穿上可爱的婴儿装 。但是由于衣服很湿，为牛宝宝晒衣服就成了很不爽的事情。于是，熊大妈请你（奶牛）帮助她完成这个重任。\n", "description": "一件衣服在自然条件下用一秒的时间可以晒干 $a$ 点湿度。抠门的熊大妈只买了一台烘衣机 。使用用一秒烘衣机可以让一件衣服额外烘干 $b$ 点湿度（一秒晒干 $a+b$ 湿度），但在同一时间内只能烘一件衣服。现在有 $n$ 件衣服，第 $i$ 衣服的湿度为 $w_i$（保证互不相同），要你求出弄干所有衣服的最少时间（湿度为 $0$ 为干 ）。\n", "inputFormat": "第一行三个整数，分别为 $n,a,b$。  \n接下来 $2$ 到 $n+1$ 行，第 $i$ 行输入 $w_i$。", "outputFormat": "一行，弄干所有衣服的最少时间。\n", "hint": "### 样例解释\n\n让机器烘第三件衣服即可一秒完成。\n\n### 数据范围\n\n$1 \\le w_i,a,b,n \\le 5 \\times 10^5$", "locale": "zh-CN", "translations": {"en": {"title": "Cow Drying Clothes", "background": "Aunt Xiong (Xiong dama) decides to dress each calf in a cute baby outfit. However, since the clothes are very wet, drying them for the calves becomes an unpleasant task. So, Aunt Xiong asks you (the cow) to help her complete this important job.", "description": "In natural conditions, one second of sun-drying reduces a garment’s humidity by $a$ units. The stingy Aunt Xiong only bought one dryer. Using the dryer for one second additionally dries $b$ units of humidity for a single garment (i.e., in one second it can dry $a+b$ humidity), but at the same time only one garment can be machine-dried. There are $n$ garments, and the humidity of the $i$-th garment is $w_i$ (guaranteed to be pairwise distinct). Find the minimum time needed to dry all garments (a garment is considered dry when its humidity is $0$).", "inputFormat": "The first line contains three integers $n,a,b$.  \nThe next $n$ lines: on the $i$-th of these lines, input $w_i$.", "outputFormat": "Output one line: the minimum time to dry all garments.", "hint": "Sample Explanation\n\nDry the third garment with the machine to finish in one second.\n\nConstraints\n\n$1 \\le w_i,a,b,n \\le 5 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "奶牛晒衣服", "background": "熊大妈决定给每个牛宝宝都穿上可爱的婴儿装 。但是由于衣服很湿，为牛宝宝晒衣服就成了很不爽的事情。于是，熊大妈请你（奶牛）帮助她完成这个重任。\n", "description": "一件衣服在自然条件下用一秒的时间可以晒干 $a$ 点湿度。抠门的熊大妈只买了一台烘衣机 。使用用一秒烘衣机可以让一件衣服额外烘干 $b$ 点湿度（一秒晒干 $a+b$ 湿度），但在同一时间内只能烘一件衣服。现在有 $n$ 件衣服，第 $i$ 衣服的湿度为 $w_i$（保证互不相同），要你求出弄干所有衣服的最少时间（湿度为 $0$ 为干 ）。\n", "inputFormat": "第一行三个整数，分别为 $n,a,b$。  \n接下来 $2$ 到 $n+1$ 行，第 $i$ 行输入 $w_i$。", "outputFormat": "一行，弄干所有衣服的最少时间。\n", "hint": "### 样例解释\n\n让机器烘第三件衣服即可一秒完成。\n\n### 数据范围\n\n$1 \\le w_i,a,b,n \\le 5 \\times 10^5$", "locale": "zh-CN"}}}
{"pid": "P1844", "type": "P", "difficulty": 4, "samples": [["10 4 \n1\n2 1 4 2 5 \n3 \n1 2 4 \n7 \n3 2 2 1 3 3 2 \n9 \n1 4 2 ", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊"], "title": "阅览室", "background": "", "description": "一个阅览室每天都要接待大批读者。阅览室开门时间是 $O$，关门时间是 $T$。每位读者的到达时间都不一样，并且想要阅读的刊物不超过 $5$ 本。\n\n每位读者心里对自己想看的刊物都有一个排位，到达之后他会先去找自己最想看的刊物，如果找不到则去找其次想看的刊物。如果找不到任何他想看的刊物，他会开始等待，直到有一本以上的他想看的刊物被人放回原处。当然，他会先去拿其中自己最想看的刊物。当他看完某一本刊物后，就把它放回原处，接着去找自己没看过的最想看的刊物。如此下去，直到看完所有他想看的刊物为止。\n\n矛盾出现在两个人同时想要拿同一本刊物的时候。阅览室为了避免读者之间出现争执，作了一个规定，读者每次在开始等待时先去服务台做一次登记。如果两个人都同时想要一本刊物，那么先登记的读者将得到这本刊物。如果两个人同时登记，那么先到达阅览室的读者将得到刊物。没得到的人就只能去找其他的刊物看。\n\n阅览室关门时，所有读者都将被强迫离开阅览室，不再允许继续阅读。\n\n现在阅览室想做一个统计调查，你被要求写一个程序来模拟这个过程计算出所有刊物被阅读的总次数。当某个读者开始阅读某本刊物时，该刊物的被阅读次数就加 $1$，无论这本刊物最后有没有被读完。", "inputFormat": "输入包含多组测试数据。\n\n每个测试数据开头是两个整数 $T$ 和 $n\\ (1 \\le n \\le 100)$，分别表示图书馆关门时间和读者总数。接下来按照读者的到达时间先后依次给出了每位读者的具体描述。\n\n每个读者描述开头是一个整数 $t\\ (0 \\le t<T)$，表示该读者到达时间。接下来一行开头是一个整数 $k\\ (1 \\le k \\le 5)$，表示该读者想要看的刊物数目。之后跟着 $2k$ 个整数按照读者想要阅读的刊物的顺序依次给出了刊物的描述。其中第 $2i-1$ 个整数表示刊物的编号 $s\\ (0 \\le s<1000)$，第 $2i$ 个整数表示该读者读完这本刊物所需的时间。", "outputFormat": "对于每个测试数据，在单独一行里输出所有刊物被阅读的总次数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Reading Room", "background": "", "description": "A reading room receives a large number of readers every day. The opening time is $O$, and the closing time is $T$. Each reader arrives at a different time and wants to read at most $5$ publications.\n\nEach reader has an internal ranking of the publications they want to read. Upon arrival, the reader first looks for their most desired publication; if it is unavailable, they will look for the next one in their preference order. If none of their desired publications are available, they will start waiting until at least one of their desired publications is returned to its place. Of course, among the available ones, the reader will first take the publication they want the most. After finishing reading a publication, the reader returns it to its place and then looks for the most desired publication they have not yet read. This continues until they have finished all the publications they want to read.\n\nConflicts arise when two people want to take the same publication at the same time. To avoid disputes, the reading room has a rule: each time a reader begins waiting, they must first register once at the service desk. If two people want the same publication at the same time, the reader who registered earlier gets the publication. If both registered at the same time, the reader who arrived at the reading room earlier gets it. The one who does not get it can only go look for other publications to read.\n\nWhen the reading room closes, all readers are forced to leave and are no longer allowed to continue reading.\n\nThe reading room wants to conduct a statistical survey. You are required to write a program to simulate this process and compute the total number of times all publications were read. Whenever a reader starts reading a publication, the count for that publication increases by $1$, regardless of whether it is eventually finished.", "inputFormat": "The input contains multiple test cases.\n\nEach test case begins with two integers $T$ and $n$ ($1 \\le n \\le 100$), representing the closing time of the reading room and the total number of readers, respectively. Next, the detailed descriptions of all readers are given in the order of their arrival times.\n\nEach reader’s description begins with an integer $t$ ($0 \\le t < T$), indicating the reader’s arrival time. The next line begins with an integer $k$ ($1 \\le k \\le 5$), indicating the number of publications the reader wants to read. It is followed by $2k$ integers given in the order of the reader’s preferences. For each $i$, the $(2i-1)$-th integer is the publication ID $s$ ($0 \\le s < 1000$), and the $2i$-th integer is the time required for the reader to finish that publication.", "outputFormat": "For each test case, output on a separate line the total number of times all publications were read.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "阅览室", "background": "", "description": "一个阅览室每天都要接待大批读者。阅览室开门时间是 $O$，关门时间是 $T$。每位读者的到达时间都不一样，并且想要阅读的刊物不超过 $5$ 本。\n\n每位读者心里对自己想看的刊物都有一个排位，到达之后他会先去找自己最想看的刊物，如果找不到则去找其次想看的刊物。如果找不到任何他想看的刊物，他会开始等待，直到有一本以上的他想看的刊物被人放回原处。当然，他会先去拿其中自己最想看的刊物。当他看完某一本刊物后，就把它放回原处，接着去找自己没看过的最想看的刊物。如此下去，直到看完所有他想看的刊物为止。\n\n矛盾出现在两个人同时想要拿同一本刊物的时候。阅览室为了避免读者之间出现争执，作了一个规定，读者每次在开始等待时先去服务台做一次登记。如果两个人都同时想要一本刊物，那么先登记的读者将得到这本刊物。如果两个人同时登记，那么先到达阅览室的读者将得到刊物。没得到的人就只能去找其他的刊物看。\n\n阅览室关门时，所有读者都将被强迫离开阅览室，不再允许继续阅读。\n\n现在阅览室想做一个统计调查，你被要求写一个程序来模拟这个过程计算出所有刊物被阅读的总次数。当某个读者开始阅读某本刊物时，该刊物的被阅读次数就加 $1$，无论这本刊物最后有没有被读完。", "inputFormat": "输入包含多组测试数据。\n\n每个测试数据开头是两个整数 $T$ 和 $n\\ (1 \\le n \\le 100)$，分别表示图书馆关门时间和读者总数。接下来按照读者的到达时间先后依次给出了每位读者的具体描述。\n\n每个读者描述开头是一个整数 $t\\ (0 \\le t<T)$，表示该读者到达时间。接下来一行开头是一个整数 $k\\ (1 \\le k \\le 5)$，表示该读者想要看的刊物数目。之后跟着 $2k$ 个整数按照读者想要阅读的刊物的顺序依次给出了刊物的描述。其中第 $2i-1$ 个整数表示刊物的编号 $s\\ (0 \\le s<1000)$，第 $2i$ 个整数表示该读者读完这本刊物所需的时间。", "outputFormat": "对于每个测试数据，在单独一行里输出所有刊物被阅读的总次数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1845", "type": "P", "difficulty": 3, "samples": [["10 \n0000000000 \n0011110000 \n0000010000 \n0011111000 \n0010110100 \n0010010110 \n0011110010 \n0100010010 \n0100000110 \n0100000000 ", "3 \n3 \n7 \n12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊", "广度优先搜索 BFS"], "title": "影像之结构化特征", "background": "", "description": "在影像比对中，有一种方法是利用影像中的边缘（edge）信息，计算每个边缘资讯中具有代表性的结构化特征，以作为比对两张影像是否相似的判断标准。Water-filling 方法是从每个边缘图的一个端点开始，绕着相连的边缘点走并依序编号。若走到某一步时，遇到一个以上不同的连接点，则分成不同路径同时继续走，直到没有任何连接点为止。如果一个点和另一个点为上下左右相邻，就称为连接。\n\n例如，在图 $1$ 的影像中包含三个边缘图，每个边缘图由一些互相连接的边缘点构成。图中以黑色的方块代表边缘点，白色的方块代表背景。在 Water-filling 方法中，首先，从第一行（row）开始，由左至右，由上至下，先找到第一个黑点并编号为 $1$。接着，找 $1$ 的下一个尚未编号的连接点并编号为 $2$。依此方法继续往下一个点前进依次编号。在编号 $6$ 的点之后有两个尚未编号的连接点，此时，则分为两条路线，并同时编号为 $7$ 继续往下走。当走到没有任何的相连点时，则结束现有边缘图的编号，并继续对影像中的其它边缘图编号。走完图 $1$ 所有边缘图后所得到的编号如图 $2$ 所示。所以，走完这三个边缘图所需要的步数分别为 $12$、 $7$ 及 $3$；所以，$12$、$7$ 及 $3$ 可以作为代表此张影像的结构化特征。请注意：位于斜对角上的两点不能算做连接，如：\n\n![](https://cdn.luogu.com.cn/upload/pic/704.png)\n\n请写一个程序计算每个影像中，以 Water-filling 方法走完其中所有的边缘图后，将每个边缘图需走的步数依走访的顺序列出。", "inputFormat": "输入文件包含一个正方形的影像。每组影像以图的宽度 $n$ 开头 $(1 \\le n \\le 1000)$。接下来的 $n$ 行代表影像的内容：$0$ 表示背景的白点，$1$ 表示黑色的边缘点。", "outputFormat": "对每一个输入的影像，以 Water-filling 方法走完所有的边缘图后，先印出此张影像中共有几个边缘图。接着，将每个边缘图需走的步数按升序列出。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Structural Features of an Image", "background": "", "description": "In image matching, one approach is to use edge information in the image and compute representative structural features for each piece of edge information to judge whether two images are similar. The Water-filling method starts from one endpoint of each edge component, walks along connected edge points, and numbers them in order. If, at some step, there is more than one different next connection point, the process splits into different paths and continues simultaneously until there are no connection points left. Two points are considered connected if they are adjacent up, down, left, or right.\n\nFor example, in the image of Figure $1$, there are three edge components, each composed of mutually connected edge points. Black squares represent edge points and white squares represent the background. In the Water-filling method, first, starting from the first row, scanning left to right and top to bottom, find the first black point and label it $1$. Next, find the next unnumbered connection point of $1$ and label it $2$. Continue to the next point and number sequentially. After point $6$, there are two unnumbered connection points; at this moment, split into two routes and number both as $7$, then continue. When there are no connected points left, end the numbering of the current edge component and continue numbering the other edge components in the image. The numbering obtained after traversing all edge components in Figure $1$ is shown in Figure $2$. Therefore, the numbers of steps required to complete these three edge components are $12$, $7$, and $3$; thus, $12$, $7$, and $3$ can serve as structural features representing this image. Note: Two points on a diagonal are not considered connected, as shown below.\n\n![](https://cdn.luogu.com.cn/upload/pic/704.png)\n\nPlease write a program that, for each image, applies the Water-filling method to traverse all edge components and lists the number of steps needed for each edge component in the visitation order.", "inputFormat": "The input contains one or more square images. Each image begins with its width $n$ $(1 \\le n \\le 1000)$. The next $n$ lines describe the image: $0$ denotes a white background point, and $1$ denotes a black edge point. Input ends at EOF.", "outputFormat": "For each input image, after applying the Water-filling method to traverse all edge components, first print how many edge components the image contains. Then list the number of steps required for each edge component in the visitation order.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "影像之结构化特征", "background": "", "description": "在影像比对中，有一种方法是利用影像中的边缘（edge）信息，计算每个边缘资讯中具有代表性的结构化特征，以作为比对两张影像是否相似的判断标准。Water-filling 方法是从每个边缘图的一个端点开始，绕着相连的边缘点走并依序编号。若走到某一步时，遇到一个以上不同的连接点，则分成不同路径同时继续走，直到没有任何连接点为止。如果一个点和另一个点为上下左右相邻，就称为连接。\n\n例如，在图 $1$ 的影像中包含三个边缘图，每个边缘图由一些互相连接的边缘点构成。图中以黑色的方块代表边缘点，白色的方块代表背景。在 Water-filling 方法中，首先，从第一行（row）开始，由左至右，由上至下，先找到第一个黑点并编号为 $1$。接着，找 $1$ 的下一个尚未编号的连接点并编号为 $2$。依此方法继续往下一个点前进依次编号。在编号 $6$ 的点之后有两个尚未编号的连接点，此时，则分为两条路线，并同时编号为 $7$ 继续往下走。当走到没有任何的相连点时，则结束现有边缘图的编号，并继续对影像中的其它边缘图编号。走完图 $1$ 所有边缘图后所得到的编号如图 $2$ 所示。所以，走完这三个边缘图所需要的步数分别为 $12$、 $7$ 及 $3$；所以，$12$、$7$ 及 $3$ 可以作为代表此张影像的结构化特征。请注意：位于斜对角上的两点不能算做连接，如：\n\n![](https://cdn.luogu.com.cn/upload/pic/704.png)\n\n请写一个程序计算每个影像中，以 Water-filling 方法走完其中所有的边缘图后，将每个边缘图需走的步数依走访的顺序列出。", "inputFormat": "输入文件包含一个正方形的影像。每组影像以图的宽度 $n$ 开头 $(1 \\le n \\le 1000)$。接下来的 $n$ 行代表影像的内容：$0$ 表示背景的白点，$1$ 表示黑色的边缘点。", "outputFormat": "对每一个输入的影像，以 Water-filling 方法走完所有的边缘图后，先印出此张影像中共有几个边缘图。接着，将每个边缘图需走的步数按升序列出。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1846", "type": "P", "difficulty": 5, "samples": [["3 2\n1 2 3 \n1 2 ", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "NOI 导刊", "动态规划优化", "前缀和"], "title": "游戏", "background": "", "description": "给定两个正整数数列，你要用它们来做一个游戏：你需要对数列进行若干次操作，每一次操作，应选择两个正整数 $k_1$ 和 $k_2$，并删除第一个数列的最后 $k_1$ 个数，计算出它们的和 $s_1$；删除第二个数列的最后 $k_2$ 个数，计算出它们的和 $s_2$。这一次操作的得分就是 $(s_2-k_2)\\times(s_1-k_1)$。两个数列应同时被清空，不允许一个数列空了，而另一个数列中还有数。游戏的总得分就是每一次操作的得分总和。\n\n求最小的总得分。", "inputFormat": "第一行是两个整数 $n$ 和 $m$，分别表示第一个数列和第二个数列的初始长度。\n\n第二行有 $n$ 个正整数，是第一个数列的数。\n\n第三行有 $m$ 个正整数，是第二个数列的数。\n\n数列中的数都不超过 $1000$。", "outputFormat": "一个整数，表示最小的总得分。\n", "hint": "- 对于 $20\\%$ 的数据，$n,m\\le20$；\n- 对于 $40\\%$ 的数据，$n,m\\le200$；\n- 对于 $100\\%$ 的数据，$n,m\\le2000$。", "locale": "zh-CN", "translations": {"en": {"title": "Game", "background": "", "description": "Given two sequences of positive integers, you will play a game with them: you need to perform several operations. In each operation, choose two positive integers $k_1$ and $k_2$, remove the last $k_1$ numbers of the first sequence and compute their sum $s_1$; remove the last $k_2$ numbers of the second sequence and compute their sum $s_2$. The score of this operation is $(s_2-k_2)\\times(s_1-k_1)$. Both sequences must become empty at the same time; it is not allowed for one sequence to be empty while the other still contains numbers. The total score of the game is the sum of the scores of all operations.\n\nFind the minimum possible total score.", "inputFormat": "The first line contains two integers $n$ and $m$, the initial lengths of the first and second sequences, respectively.\n\nThe second line contains $n$ positive integers, the numbers of the first sequence.\n\nThe third line contains $m$ positive integers, the numbers of the second sequence.\n\nAll numbers in the sequences are at most $1000$.", "outputFormat": "Output a single integer, the minimum total score.", "hint": "- For $20\\%$ of the testdata, $n, m \\le 20$.\n- For $40\\%$ of the testdata, $n, m \\le 200$.\n- For $100\\%$ of the testdata, $n, m \\le 2000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "游戏", "background": "", "description": "给定两个正整数数列，你要用它们来做一个游戏：你需要对数列进行若干次操作，每一次操作，应选择两个正整数 $k_1$ 和 $k_2$，并删除第一个数列的最后 $k_1$ 个数，计算出它们的和 $s_1$；删除第二个数列的最后 $k_2$ 个数，计算出它们的和 $s_2$。这一次操作的得分就是 $(s_2-k_2)\\times(s_1-k_1)$。两个数列应同时被清空，不允许一个数列空了，而另一个数列中还有数。游戏的总得分就是每一次操作的得分总和。\n\n求最小的总得分。", "inputFormat": "第一行是两个整数 $n$ 和 $m$，分别表示第一个数列和第二个数列的初始长度。\n\n第二行有 $n$ 个正整数，是第一个数列的数。\n\n第三行有 $m$ 个正整数，是第二个数列的数。\n\n数列中的数都不超过 $1000$。", "outputFormat": "一个整数，表示最小的总得分。\n", "hint": "- 对于 $20\\%$ 的数据，$n,m\\le20$；\n- 对于 $40\\%$ 的数据，$n,m\\le200$；\n- 对于 $100\\%$ 的数据，$n,m\\le2000$。", "locale": "zh-CN"}}}
{"pid": "P1847", "type": "P", "difficulty": 2, "samples": [["1 1 \n1 1 10 10\n11 11", "NO"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "轰炸II", "background": null, "description": "一个城市遭到了 $M$ 次轰炸，每次都炸了一个每条边都与边界平行的矩形。\n\n在轰炸后，有 $N$ 个关键点，指挥官想知道，它们有没有受到过轰炸，如果有，被炸了几次，最后一次是第几轮。", "inputFormat": "第一行，两个整数：$M,N$。\n\n以下 $M$ 行，每行四个整数：$x_1$、$y_1$、$x_2$、$y_2$，表示被轰炸的矩形的左上角坐标和右下角坐标（比如`1 3 7 10`就表示被轰炸的地方是从$(1,3)$到$(7,10)$ 的矩形）。\n\n再以下 $N$ 行，每行两个整数，表示这个关键点的坐标。", "outputFormat": "共 $N$ 行，\n\n每行第一个字符为 `YES` 或 `NO`，表示是否被轰炸，若为 `YES`，在一个空格后为两个整数，表示被炸了几次和最后一次是第几轮。", "hint": "$1 \\le N,M\\le 2000$\n\n$1\\le x_1,y_1,x_2,y_2\\le 2^{32}-1$", "locale": "zh-CN", "translations": {"en": {"title": "Bombing II", "background": "", "description": "A city has been bombed $M$ times. Each time, the bombed area is a rectangle whose sides are parallel to the axes.\n\nAfter the bombings, there are $N$ key points. The commander wants to know whether each point has ever been bombed; if so, how many times it was bombed, and in which round it was last bombed.", "inputFormat": "The first line contains two integers: $M, N$.\n\nEach of the next $M$ lines contains four integers: $x_1$, $y_1$, $x_2$, $y_2$, representing the top-left and bottom-right coordinates of the bombed rectangle (for example, `1 3 7 10` means the bombed area is the rectangle from $(1,3)$ to $(7,10)$).\n\nThen the next $N$ lines each contain two integers, representing the coordinates of a key point.", "outputFormat": "Output $N$ lines.\n\nIn each line, the first token is `YES` or `NO`, indicating whether the point was bombed. If it is `YES`, after a space output two integers: the number of times it was bombed, and the round number of the last bombing.", "hint": "$1 \\le N, M \\le 2000$\n\n$1 \\le x_1, y_1, x_2, y_2 \\le 2^{32} - 1$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "轰炸II", "background": null, "description": "一个城市遭到了 $M$ 次轰炸，每次都炸了一个每条边都与边界平行的矩形。\n\n在轰炸后，有 $N$ 个关键点，指挥官想知道，它们有没有受到过轰炸，如果有，被炸了几次，最后一次是第几轮。", "inputFormat": "第一行，两个整数：$M,N$。\n\n以下 $M$ 行，每行四个整数：$x_1$、$y_1$、$x_2$、$y_2$，表示被轰炸的矩形的左上角坐标和右下角坐标（比如`1 3 7 10`就表示被轰炸的地方是从$(1,3)$到$(7,10)$ 的矩形）。\n\n再以下 $N$ 行，每行两个整数，表示这个关键点的坐标。", "outputFormat": "共 $N$ 行，\n\n每行第一个字符为 `YES` 或 `NO`，表示是否被轰炸，若为 `YES`，在一个空格后为两个整数，表示被炸了几次和最后一次是第几轮。", "hint": "$1 \\le N,M\\le 2000$\n\n$1\\le x_1,y_1,x_2,y_2\\le 2^{32}-1$", "locale": "zh-CN"}}}
{"pid": "P1848", "type": "P", "difficulty": 6, "samples": [["5 10\n5 7\n9 2\n8 5\n13 2\n3 8", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2012", "线段树", "二分", "USACO", "平衡树"], "title": "[USACO12OPEN] Bookshelf G", "background": "", "description": "When Farmer John isn't milking cows, stacking haybales, lining up his cows, or building fences, he enjoys sitting down with a good book.  Over the years, he has collected N books (1 <= N <= 100,000), and he wants to build a new set of bookshelves to hold them all.\n\nEach book i has a width W(i) and height H(i).  The books need to be added to a set of shelves in order; for example, the first shelf should contain books 1...k for some k, the second shelf should start with book k+1, and so on.  Each shelf can have a total width of at most L (1 <= L <= 1,000,000,000).  The height of a shelf is equal to the height of the tallest book on that shelf, and the height of the entire set of bookshelves is the sum of the heights of all the individual shelves, since they are all stacked vertically.\n\nPlease help FJ compute the minimum possible height for the entire set of bookshelves.", "inputFormat": "Line 1: Two space-separated integers: N and L.\nLines 2..1+N: Line i+1 contains two space-separated integers: H(i) and W(i). (1 <= H(i) <= 1,000,000; 1 <= W(i) <= L).", "outputFormat": "Line 1: The minimum possible total height for the set of bookshelves.", "hint": "", "locale": "en", "translations": {"en": {"title": "[USACO12OPEN] Bookshelf G", "background": "", "description": "When Farmer John isn't milking cows, stacking haybales, lining up his cows, or building fences, he enjoys sitting down with a good book.  Over the years, he has collected N books (1 <= N <= 100,000), and he wants to build a new set of bookshelves to hold them all.\n\nEach book i has a width W(i) and height H(i).  The books need to be added to a set of shelves in order; for example, the first shelf should contain books 1...k for some k, the second shelf should start with book k+1, and so on.  Each shelf can have a total width of at most L (1 <= L <= 1,000,000,000).  The height of a shelf is equal to the height of the tallest book on that shelf, and the height of the entire set of bookshelves is the sum of the heights of all the individual shelves, since they are all stacked vertically.\n\nPlease help FJ compute the minimum possible height for the entire set of bookshelves.", "inputFormat": "Line 1: Two space-separated integers: N and L.\nLines 2..1+N: Line i+1 contains two space-separated integers: H(i) and W(i). (1 <= H(i) <= 1,000,000; 1 <= W(i) <= L).", "outputFormat": "Line 1: The minimum possible total height for the set of bookshelves.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[USACO12OPEN] Bookshelf G", "background": null, "description": "当农夫约翰不在挤牛奶、堆干草、排列他的奶牛或建造围栏时，他喜欢坐下来读一本好书。多年来，他已经收集了 $N$ 本书（$1 \\leq N \\leq 100,000$），他想建一个新的书架来放置这些书。\n\n每本书 $i$ 有一个宽度 $W(i)$ 和高度 $H(i)$。这些书需要按顺序放到一组书架上；例如，第一个书架应包含书 1 到 $k$，第二个书架应从书 $k+1$ 开始，依此类推。每个书架的总宽度最多为 $L$（$1 \\leq L \\leq 1,000,000,000$）。书架的高度等于该书架上最高的书的高度，而整个书架组的高度是所有单个书架高度的总和，因为它们都是垂直堆叠的。\n\n请帮助 FJ 计算整个书架组的最小可能高度。", "inputFormat": "第一行：两个数 $N$ 和 $L$。\n\n接下来 $N$ 行每行两个数 $H_i$ 和 $W_i$。$(1 \\le H(i) \\le 1,000,000;1 \\le W(i) \\le L)$.", "outputFormat": "一个数，书架高度的最小值。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P1849", "type": "P", "difficulty": 4, "samples": [["7 6 3 \n6 2 \n5 2 \n4 3 \n2 1 \n7 3 \n5 4 \n6 4 ", "1 "]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "贪心", "2012", "USACO", "枚举", "广度优先搜索 BFS", "队列"], "title": "[USACO12MAR] Tractor S", "background": "", "description": "经过一天漫长的工作，农场主 John 完全忘记了他的拖拉机还在场地中央。他的奶牛们总喜欢和他搞些恶作剧，它们在场地的不同位置丢下 $n$ 堆干草。这样 John 就必须先移走一些干草堆才能将拖拉机开走。\n\n拖拉机和干草堆都可以看作是二维平面上的点，它们的坐标都是整数，没有哪堆干草的坐标和拖拉机的初始坐标一致。John 驾驶拖拉机只能沿着坐标轴的方向移动若干单位长度，比如说，他可以先朝北移动 $2$ 个单位长度，再向东移动 $3$ 个单位长度等等。拖拉机不能移动到干草堆所占据的点。\n\n请你帮助 John 计算一下，最少要移动多少堆干草才能将拖拉机开回坐标原点。", "inputFormat": "输入的第一行是三个用空格隔开的整数，依次代表干草的堆数 $n$ 和拖拉机的起始坐标 $(x_0, y_0)$。\n\n第 $2$ 行到第 $(n+1)$ 行，每行有两个用空格隔开的整数，第 $(i + 1)$ 行的整数 $x_i, y_i$ 代表第 $i$ 堆干草的坐标为 $(x_i, y_i)$。", "outputFormat": "一行一个整数，表示最少要移动多少堆干草 John 才能将拖拉机开回坐标原点。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 5 \\times 10^4$，$1 \\leq x_i, y_i \\leq 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO12MAR] Tractor S", "background": "", "description": "After a long day of work, Farmer John completely forgot that his tractor was still in the middle of the field. His cows, who love to play pranks on him, dropped $n$ hay bales at various positions in the field. This means John must move some hay bales out of the way before he can drive the tractor out.\n\nBoth the tractor and the hay bales are treated as points on a two-dimensional plane with integer coordinates. No hay bale shares the same coordinates as the tractor’s initial position. John can drive the tractor only along the coordinate axes for some number of units. For example, he can first move north by $2$ units and then east by $3$ units, and so on. The tractor cannot move onto a point occupied by a hay bale.\n\nPlease help John compute the minimum number of hay bales that must be moved so that he can drive the tractor back to the origin.", "inputFormat": "The first line contains three space-separated integers, giving the number of hay bales $n$ and the tractor’s starting coordinates $(x_0, y_0)$.\n\nLines $2$ through $(n+1)$: each line contains two space-separated integers. On line $(i + 1)$, the integers $x_i, y_i$ give the coordinates of the $i$-th hay bale $(x_i, y_i)$.", "outputFormat": "Output a single integer on one line: the minimum number of hay bales that must be moved so John can drive the tractor back to the origin.", "hint": "For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 5 \\times 10^4$, $1 \\leq x_i, y_i \\leq 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO12MAR] Tractor S", "background": "", "description": "经过一天漫长的工作，农场主 John 完全忘记了他的拖拉机还在场地中央。他的奶牛们总喜欢和他搞些恶作剧，它们在场地的不同位置丢下 $n$ 堆干草。这样 John 就必须先移走一些干草堆才能将拖拉机开走。\n\n拖拉机和干草堆都可以看作是二维平面上的点，它们的坐标都是整数，没有哪堆干草的坐标和拖拉机的初始坐标一致。John 驾驶拖拉机只能沿着坐标轴的方向移动若干单位长度，比如说，他可以先朝北移动 $2$ 个单位长度，再向东移动 $3$ 个单位长度等等。拖拉机不能移动到干草堆所占据的点。\n\n请你帮助 John 计算一下，最少要移动多少堆干草才能将拖拉机开回坐标原点。", "inputFormat": "输入的第一行是三个用空格隔开的整数，依次代表干草的堆数 $n$ 和拖拉机的起始坐标 $(x_0, y_0)$。\n\n第 $2$ 行到第 $(n+1)$ 行，每行有两个用空格隔开的整数，第 $(i + 1)$ 行的整数 $x_i, y_i$ 代表第 $i$ 堆干草的坐标为 $(x_i, y_i)$。", "outputFormat": "一行一个整数，表示最少要移动多少堆干草 John 才能将拖拉机开回坐标原点。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 5 \\times 10^4$，$1 \\leq x_i, y_i \\leq 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1850", "type": "P", "difficulty": 5, "samples": [["3 2 3 3\n2 1 2\n1 2 1\n0.8 0.2 0.5 \n1 2 5\n1 3 3\n2 3 1\n", "2.80"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2016", "NOIP 提高组", "期望", "Floyd 算法"], "title": "[NOIP 2016 提高组] 换教室", "background": "NOIP2016 提高组 D1T3", "description": "对于刚上大学的牛牛来说，他面临的第一个问题是如何根据实际情况申请合适的课程。\n\n\n在可以选择的课程中，有 $2n$ 节课程安排在 $n$ 个时间段上。在第 $i$（$1 \\leq i \\leq n$）个时间段上，两节内容相同的课程同时在不同的地点进行，其中，牛牛预先被安排在教室 $c_i$ 上课，而另一节课程在教室 $d_i$ 进行。\n\n\n在不提交任何申请的情况下，学生们需要按时间段的顺序依次完成所有的 $n$ 节安排好的课程。如果学生想更换第 $i$ 节课程的教室，则需要提出申请。若申请通过，学生就可以在第 $i$ 个时间段去教室 $d_i$ 上课，否则仍然在教室 $c_i$ 上课。\n\n\n由于更换教室的需求太多，申请不一定能获得通过。通过计算，牛牛发现申请更换第 $i$ 节课程的教室时，申请被通过的概率是一个已知的实数 $k_i$，并且对于不同课程的申请，被通过的概率是互相独立的。\n\n\n学校规定，所有的申请只能在学期开始前一次性提交，并且每个人只能选择至多 $m$ 节课程进行申请。这意味着牛牛必须一次性决定是否申请更换每节课的教室，而不能根据某些课程的申请结果来决定其他课程是否申请；牛牛可以申请自己最希望更换教室的 $m$ 门课程，也可以不用完这 $m$ 个申请的机会，甚至可以一门课程都不申请。\n\n\n因为不同的课程可能会被安排在不同的教室进行，所以牛牛需要利用课间时间从一间教室赶到另一间教室。\n\n\n牛牛所在的大学有 $v$ 个教室，有 $e$ 条道路。每条道路连接两间教室，并且是可以双向通行的。由于道路的长度和拥堵程度不同，通过不同的道路耗费的体力可能会有所不同。 当第 $i$（$1 \\leq i \\leq n-1$）节课结束后，牛牛就会从这节课的教室出发，选择一条耗费体力最少的路径前往下一节课的教室。\n\n\n现在牛牛想知道，申请哪几门课程可以使他因在教室间移动耗费的体力值的总和的期望值最小，请你帮他求出这个最小值。\n", "inputFormat": "第一行四个整数 $n,m,v,e$。$n$ 表示这个学期内的时间段的数量；$m$ 表示牛牛最多可以申请更换多少节课程的教室；$v$ 表示牛牛学校里教室的数量；$e$ 表示牛牛的学校里道路的数量。\n\n\n第二行 $n$ 个正整数，第 $i$（$1 \\leq i \\leq n$）个正整数表示 $c_i$，即第 $i$ 个时间段牛牛被安排上课的教室；保证 $1 \\le c_i \\le v$。\n\n\n第三行 $n$ 个正整数，第 $i$（$1 \\leq i \\leq n$）个正整数表示 $d_i$，即第 $i$ 个时间段另一间上同样课程的教室；保证 $1 \\le d_i \\le v$。\n\n\n第四行 $n$ 个实数，第 $i$（$1 \\leq i \\leq n$）个实数表示 $k_i$，即牛牛申请在第 $i$ 个时间段更换教室获得通过的概率。保证 $0 \\le k_i \\le 1$。\n\n\n接下来 $e$ 行，每行三个正整数 $a_j, b_j, w_j$，表示有一条双向道路连接教室 $a_j, b_j$，通过这条道路需要耗费的体力值是 $w_j$；保证 $1 \\le a_j, b_j \\le v$，$1 \\le w_j \\le 100$。\n\n\n保证 $1 \\leq n \\leq 2000$，$0 \\leq m \\leq 2000$，$1 \\leq v \\leq 300$，$0 \\leq e \\leq 90000$。\n\n\n保证通过学校里的道路，从任何一间教室出发，都能到达其他所有的教室。\n\n\n保证输入的实数最多包含 $3$ 位小数。\n", "outputFormat": "输出一行，包含一个实数，四舍五入精确到小数点后恰好 $2$ 位，表示答案。你的输出必须和标准输出完全一样才算正确。\n\n测试数据保证四舍五入后的答案和准确答案的差的绝对值不大于 $4 \\times 10^{-3}$。（如果你不知道什么是浮点误差，这段话可以理解为：对于大多数的算法，你可以正常地使用浮点数类型而不用对它进行特殊的处理）\n", "hint": "**样例 1 说明**\n\n所有可行的申请方案和期望收益如下：\n\n- 不作申请，耗费的体力值的期望为 $8.0$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     无      |  $1.0$  |  $8$  |\n\n- 申请更换第 $1$ 个时间段的上课教室，耗费的体力值的期望为 $4.8$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $1$      |  $0.8$  |  $4$  |\n|     无      |  $0.2$  |  $8$  |\n\n- 申请更换第 $2$ 个时间段的上课教室，耗费的体力值的期望为 $6.4$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $2$      |  $0.2$  |  $0$  |\n|     无      |  $0.8$  |  $8$  |\n\n- 申请更换第 $3$ 个时间段的上课教室，耗费的体力值的期望为 $6.0$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $3$      |  $0.5$  |  $4$  |\n|     无      |  $0.5$  |  $8$  |\n\n- 申请更换第 $1,2$ 个时间段的上课教室，耗费的体力值的期望为 $4.48$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $1,2$      |  $0.16$  |  $4$  |\n|     $1$      |  $0.64$  |  $4$  |\n|     $2$     |  $0.04$  |  $0$  |\n|     无      |  $0.16$  |  $8$  |\n\n- 申请更换第 $1,3$ 个时间段的上课教室，耗费的体力值的期望为 $2.8$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $1,3$      |  $0.4$  |  $0$  |\n|     $1$      |  $0.4$  |  $4$  |\n|     $3$     |  $0.1$  |  $4$  |\n|     无      |  $0.1$  |  $8$  |\n\n- 申请更换第 $2,3$ 个时间段的上课教室，耗费的体力值的期望为 $5.2$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $2,3$      |  $0.1$  |  $4$  |\n|     $2$      |  $0.1$  |  $0$  |\n|     $3$     |  $0.4$  |  $4$  |\n|     无      |  $0.4$  |  $8$  |\n\n因此，最优方案为：申请更换第 $1,3$ 个时间段的上课教室。耗费的体力值的期望为 $2.8$。 \n\n**提示**\n\n1. 道路中可能会有多条双向道路连接相同的两间教室。 也有可能有道路两端连接的是同一间教室。\n2. 请注意区分 $n,m,v,e$ 的意义, $n$ 不是教室的数量, $m$ 不是道路的数量。\n\n**数据范围与说明**\n\n| 测试点编号 | $n\\le$ | $m\\le$ | $v\\le$ | 是否具有特殊性质 1 | 是否具有特殊性质 2 |\n| :--------: | :----: | :----: | :----: | :----------------: | :----------------: |\n|     1      |  $1$   |  $1$   | $300$  |      $\\times$      |      $\\times$      |\n|     2      |  $2$   |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     3      |  $2$   |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     4      |  $2$   |  $2$   | $300$  |      $\\times$      |      $\\times$      |\n|     5      |  $3$   |  $0$   |  $20$  |      $\\surd$       |      $\\surd$       |\n|     6      |  $3$   |  $1$   | $100$  |      $\\surd$       |      $\\times$      |\n|     7      |  $3$   |  $2$   | $300$  |      $\\times$      |      $\\times$      |\n|     8      |  $10$  |  $0$   | $300$  |      $\\surd$       |      $\\surd$       |\n|     9      |  $10$  |  $1$   |  $20$  |      $\\surd$       |      $\\times$      |\n|     10     |  $10$  |  $2$   | $100$  |      $\\times$      |      $\\times$      |\n|     11     |  $10$  |  $10$  | $300$  |      $\\times$      |      $\\surd$       |\n|     12     |  $20$  |  $0$   |  $20$  |      $\\surd$       |      $\\times$      |\n|     13     |  $20$  |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     14     |  $20$  |  $2$   | $300$  |      $\\surd$       |      $\\times$      |\n|     15     |  $20$  |  $20$  | $300$  |      $\\times$      |      $\\surd$       |\n|     16     | $300$  |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     17     | $300$  |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     18     | $300$  |  $2$   | $300$  |      $\\surd$       |      $\\surd$       |\n|     19     | $300$  | $300$  | $300$  |      $\\times$      |      $\\surd$       |\n|     20     | $2000$ |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     21     | $2000$ |  $1$   |  $20$  |      $\\times$      |      $\\times$      |\n|     22     | $2000$ |  $2$   | $100$  |      $\\times$      |      $\\times$      |\n|     23     | $2000$ | $2000$ | $100$  |      $\\times$      |      $\\times$      |\n|     24     | $2000$ | $2000$ | $300$  |      $\\times$      |      $\\times$      |\n|     25     | $2000$ | $2000$ | $300$  |      $\\times$      |      $\\times$      |\n \n\n特殊性质 1：图上任意不同的两点 $u,v$ 间，存在一条耗费体力最少的路径只包含一条道路。\n\n特殊性质 2：对于所有的 $1≤ i≤ n,\\ k_i= 1$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2016 Senior] Switching Classrooms", "background": "NOIP 2016 Senior D1T3.", "description": "For Niuniu, who has just entered university, the first problem he faces is how to apply for suitable courses according to the actual situation.\n\nAmong the selectable courses, there are $2n$ classes scheduled across $n$ time slots. In the $i$-th time slot ($1 \\le i \\le n$), two classes with the same content are held simultaneously at different locations. Niuniu is pre-assigned to attend the class in classroom $c_i$, while the other class is in classroom $d_i$.\n\nWithout submitting any applications, students follow the order of time slots to complete all $n$ scheduled classes one by one. If a student wants to switch the classroom for the $i$-th class, they need to submit an application. If the application is approved, the student will attend the class in classroom $d_i$ during the $i$-th time slot; otherwise, they will still attend in classroom $c_i$.\n\nBecause there are too many requests to switch classrooms, an application may not be approved. Through calculation, Niuniu finds that when applying to switch the classroom for the $i$-th class, the probability that the application is approved is a known real number $k_i$, and the approval events for different classes are independent.\n\nThe school stipulates that all applications must be submitted once before the start of the term, and each person may choose to apply for at most $m$ classes. This means that Niuniu must decide all at once whether to apply to switch the classroom for each class, and cannot decide whether to apply for other classes based on the approval results of some classes. Niuniu can apply for the $m$ classes he most wants to switch, he may also use fewer than $m$ application opportunities, or even apply for none.\n\nBecause different classes may be arranged in different classrooms, Niuniu needs to use break time to travel from one classroom to another.\n\nNiuniu’s university has $v$ classrooms and $e$ roads. Each road connects two classrooms and is bidirectional. Because road lengths and congestion vary, the stamina consumed when traversing different roads may differ. After the $i$-th class ends ($1 \\le i \\le n - 1$), Niuniu will depart from the classroom of that class and choose a path with the minimum stamina cost to reach the classroom of the next class.\n\nNow Niuniu wants to know which classes he should apply for so that the expected value of the total stamina cost due to moving between classrooms is minimized. Please help him compute this minimum value.", "inputFormat": "The first line contains four integers $n, m, v, e$. $n$ is the number of time slots in this term; $m$ is the maximum number of classes for which Niuniu may apply to switch classrooms; $v$ is the number of classrooms in the school; $e$ is the number of roads in the school.\n\nThe second line contains $n$ positive integers. The $i$-th ($1 \\le i \\le n$) integer is $c_i$, the classroom where Niuniu is scheduled to attend in the $i$-th time slot. It is guaranteed that $1 \\le c_i \\le v$.\n\nThe third line contains $n$ positive integers. The $i$-th ($1 \\le i \\le n$) integer is $d_i$, the classroom of the other class with the same content in the $i$-th time slot. It is guaranteed that $1 \\le d_i \\le v$.\n\nThe fourth line contains $n$ real numbers. The $i$-th ($1 \\le i \\le n$) real number is $k_i$, the probability that Niuniu’s application to switch the classroom in the $i$-th time slot is approved. It is guaranteed that $0 \\le k_i \\le 1$.\n\nThe next $e$ lines each contain three positive integers $a_j, b_j, w_j$, indicating a bidirectional road connecting classrooms $a_j$ and $b_j$, and traversing this road consumes stamina $w_j$. It is guaranteed that $1 \\le a_j, b_j \\le v$ and $1 \\le w_j \\le 100$.\n\nIt is guaranteed that $1 \\le n \\le 2000$, $0 \\le m \\le 2000$, $1 \\le v \\le 300$, and $0 \\le e \\le 90000$.\n\nIt is guaranteed that using the school’s roads, every classroom is reachable from any other classroom.\n\nIt is guaranteed that each input real number has at most $3$ decimal places.", "outputFormat": "Output one line containing a real number, rounded to exactly $2$ decimal places, which is the answer. Your output must be exactly the same as the standard output to be considered correct.\n\nThe testdata guarantees that the absolute difference between the rounded answer and the exact answer is at most $4 \\times 10^{-3}$. (If you do not know what floating-point error is, you can understand this as: for most algorithms, you can normally use floating-point types without special handling.)", "hint": "Sample 1 explanation.\n\nAll feasible application plans and their expected stamina costs are as follows:\n\n- No application submitted. The expected stamina cost is $8.0$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     None      |  $1.0$  |  $8$  |\n\n- Apply to switch the classroom in the $1$-st time slot. The expected stamina cost is $4.8$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     $1$      |  $0.8$  |  $4$  |\n|     None      |  $0.2$  |  $8$  |\n\n- Apply to switch the classroom in the $2$-nd time slot. The expected stamina cost is $6.4$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     $2$      |  $0.2$  |  $0$  |\n|     None      |  $0.8$  |  $8$  |\n\n- Apply to switch the classroom in the $3$-rd time slot. The expected stamina cost is $6.0$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     $3$      |  $0.5$  |  $4$  |\n|     None      |  $0.5$  |  $8$  |\n\n- Apply to switch the classroom in the $1$-st and $2$-nd time slots. The expected stamina cost is $4.48$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     $1,2$      |  $0.16$  |  $4$  |\n|     $1$      |  $0.64$  |  $4$  |\n|     $2$     |  $0.04$  |  $0$  |\n|     None      |  $0.16$  |  $8$  |\n\n- Apply to switch the classroom in the $1$-st and $3$-rd time slots. The expected stamina cost is $2.8$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     $1,3$      |  $0.4$  |  $0$  |\n|     $1$      |  $0.4$  |  $4$  |\n|     $3$     |  $0.1$  |  $4$  |\n|     None      |  $0.1$  |  $8$  |\n\n- Apply to switch the classroom in the $2$-nd and $3$-rd time slots. The expected stamina cost is $5.2$.\n\n| Time slots approved | Probability | Stamina cost |\n| :--------: | :----: | :----: |\n|     $2,3$      |  $0.1$  |  $4$  |\n|     $2$      |  $0.1$  |  $0$  |\n|     $3$     |  $0.4$  |  $4$  |\n|     None      |  $0.4$  |  $8$  |\n\nTherefore, the optimal plan is to apply to switch the classroom in the $1$-st and $3$-rd time slots. The expected stamina cost is $2.8$.\n\nNotes.\n\n1. There may be multiple bidirectional roads connecting the same pair of classrooms. It is also possible for a road to connect a classroom to itself.\n2. Please distinguish the meanings of $n, m, v, e$. $n$ is not the number of classrooms, and $m$ is not the number of roads.\n\nConstraints and Notes.\n\n| Test set ID | $n \\le$ | $m \\le$ | $v \\le$ | Has Special Property 1 | Has Special Property 2 |\n| :--------: | :----: | :----: | :----: | :----------------: | :----------------: |\n|     1      |  $1$   |  $1$   | $300$  |      $\\times$      |      $\\times$      |\n|     2      |  $2$   |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     3      |  $2$   |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     4      |  $2$   |  $2$   | $300$  |      $\\times$      |      $\\times$      |\n|     5      |  $3$   |  $0$   |  $20$  |      $\\surd$       |      $\\surd$       |\n|     6      |  $3$   |  $1$   | $100$  |      $\\surd$       |      $\\times$      |\n|     7      |  $3$   |  $2$   | $300$  |      $\\times$      |      $\\times$      |\n|     8      |  $10$  |  $0$   | $300$  |      $\\surd$       |      $\\surd$       |\n|     9      |  $10$  |  $1$   |  $20$  |      $\\surd$       |      $\\times$      |\n|     10     |  $10$  |  $2$   | $100$  |      $\\times$      |      $\\times$      |\n|     11     |  $10$  |  $10$  | $300$  |      $\\times$      |      $\\surd$       |\n|     12     |  $20$  |  $0$   |  $20$  |      $\\surd$       |      $\\times$      |\n|     13     |  $20$  |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     14     |  $20$  |  $2$   | $300$  |      $\\surd$       |      $\\times$      |\n|     15     |  $20$  |  $20$  | $300$  |      $\\times$      |      $\\surd$       |\n|     16     | $300$  |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     17     | $300$  |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     18     | $300$  |  $2$   | $300$  |      $\\surd$       |      $\\surd$       |\n|     19     | $300$  | $300$  | $300$  |      $\\times$      |      $\\surd$       |\n|     20     | $2000$ |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     21     | $2000$ |  $1$   |  $20$  |      $\\times$      |      $\\times$      |\n|     22     | $2000$ |  $2$   | $100$  |      $\\times$      |      $\\times$      |\n|     23     | $2000$ | $2000$ | $100$  |      $\\times$      |      $\\times$      |\n|     24     | $2000$ | $2000$ | $300$  |      $\\times$      |      $\\times$      |\n|     25     | $2000$ | $2000$ | $300$  |      $\\times$      |      $\\times$      |\n\nSpecial Property 1: For any two distinct nodes $u, v$ in the graph, there exists a minimum-stamina path that consists of only one road.\n\nSpecial Property 2: For all $1 \\le i \\le n$, $k_i = 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2016 提高组] 换教室", "background": "NOIP2016 提高组 D1T3", "description": "对于刚上大学的牛牛来说，他面临的第一个问题是如何根据实际情况申请合适的课程。\n\n\n在可以选择的课程中，有 $2n$ 节课程安排在 $n$ 个时间段上。在第 $i$（$1 \\leq i \\leq n$）个时间段上，两节内容相同的课程同时在不同的地点进行，其中，牛牛预先被安排在教室 $c_i$ 上课，而另一节课程在教室 $d_i$ 进行。\n\n\n在不提交任何申请的情况下，学生们需要按时间段的顺序依次完成所有的 $n$ 节安排好的课程。如果学生想更换第 $i$ 节课程的教室，则需要提出申请。若申请通过，学生就可以在第 $i$ 个时间段去教室 $d_i$ 上课，否则仍然在教室 $c_i$ 上课。\n\n\n由于更换教室的需求太多，申请不一定能获得通过。通过计算，牛牛发现申请更换第 $i$ 节课程的教室时，申请被通过的概率是一个已知的实数 $k_i$，并且对于不同课程的申请，被通过的概率是互相独立的。\n\n\n学校规定，所有的申请只能在学期开始前一次性提交，并且每个人只能选择至多 $m$ 节课程进行申请。这意味着牛牛必须一次性决定是否申请更换每节课的教室，而不能根据某些课程的申请结果来决定其他课程是否申请；牛牛可以申请自己最希望更换教室的 $m$ 门课程，也可以不用完这 $m$ 个申请的机会，甚至可以一门课程都不申请。\n\n\n因为不同的课程可能会被安排在不同的教室进行，所以牛牛需要利用课间时间从一间教室赶到另一间教室。\n\n\n牛牛所在的大学有 $v$ 个教室，有 $e$ 条道路。每条道路连接两间教室，并且是可以双向通行的。由于道路的长度和拥堵程度不同，通过不同的道路耗费的体力可能会有所不同。 当第 $i$（$1 \\leq i \\leq n-1$）节课结束后，牛牛就会从这节课的教室出发，选择一条耗费体力最少的路径前往下一节课的教室。\n\n\n现在牛牛想知道，申请哪几门课程可以使他因在教室间移动耗费的体力值的总和的期望值最小，请你帮他求出这个最小值。\n", "inputFormat": "第一行四个整数 $n,m,v,e$。$n$ 表示这个学期内的时间段的数量；$m$ 表示牛牛最多可以申请更换多少节课程的教室；$v$ 表示牛牛学校里教室的数量；$e$ 表示牛牛的学校里道路的数量。\n\n\n第二行 $n$ 个正整数，第 $i$（$1 \\leq i \\leq n$）个正整数表示 $c_i$，即第 $i$ 个时间段牛牛被安排上课的教室；保证 $1 \\le c_i \\le v$。\n\n\n第三行 $n$ 个正整数，第 $i$（$1 \\leq i \\leq n$）个正整数表示 $d_i$，即第 $i$ 个时间段另一间上同样课程的教室；保证 $1 \\le d_i \\le v$。\n\n\n第四行 $n$ 个实数，第 $i$（$1 \\leq i \\leq n$）个实数表示 $k_i$，即牛牛申请在第 $i$ 个时间段更换教室获得通过的概率。保证 $0 \\le k_i \\le 1$。\n\n\n接下来 $e$ 行，每行三个正整数 $a_j, b_j, w_j$，表示有一条双向道路连接教室 $a_j, b_j$，通过这条道路需要耗费的体力值是 $w_j$；保证 $1 \\le a_j, b_j \\le v$，$1 \\le w_j \\le 100$。\n\n\n保证 $1 \\leq n \\leq 2000$，$0 \\leq m \\leq 2000$，$1 \\leq v \\leq 300$，$0 \\leq e \\leq 90000$。\n\n\n保证通过学校里的道路，从任何一间教室出发，都能到达其他所有的教室。\n\n\n保证输入的实数最多包含 $3$ 位小数。\n", "outputFormat": "输出一行，包含一个实数，四舍五入精确到小数点后恰好 $2$ 位，表示答案。你的输出必须和标准输出完全一样才算正确。\n\n测试数据保证四舍五入后的答案和准确答案的差的绝对值不大于 $4 \\times 10^{-3}$。（如果你不知道什么是浮点误差，这段话可以理解为：对于大多数的算法，你可以正常地使用浮点数类型而不用对它进行特殊的处理）\n", "hint": "**样例 1 说明**\n\n所有可行的申请方案和期望收益如下：\n\n- 不作申请，耗费的体力值的期望为 $8.0$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     无      |  $1.0$  |  $8$  |\n\n- 申请更换第 $1$ 个时间段的上课教室，耗费的体力值的期望为 $4.8$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $1$      |  $0.8$  |  $4$  |\n|     无      |  $0.2$  |  $8$  |\n\n- 申请更换第 $2$ 个时间段的上课教室，耗费的体力值的期望为 $6.4$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $2$      |  $0.2$  |  $0$  |\n|     无      |  $0.8$  |  $8$  |\n\n- 申请更换第 $3$ 个时间段的上课教室，耗费的体力值的期望为 $6.0$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $3$      |  $0.5$  |  $4$  |\n|     无      |  $0.5$  |  $8$  |\n\n- 申请更换第 $1,2$ 个时间段的上课教室，耗费的体力值的期望为 $4.48$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $1,2$      |  $0.16$  |  $4$  |\n|     $1$      |  $0.64$  |  $4$  |\n|     $2$     |  $0.04$  |  $0$  |\n|     无      |  $0.16$  |  $8$  |\n\n- 申请更换第 $1,3$ 个时间段的上课教室，耗费的体力值的期望为 $2.8$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $1,3$      |  $0.4$  |  $0$  |\n|     $1$      |  $0.4$  |  $4$  |\n|     $3$     |  $0.1$  |  $4$  |\n|     无      |  $0.1$  |  $8$  |\n\n- 申请更换第 $2,3$ 个时间段的上课教室，耗费的体力值的期望为 $5.2$。\n\n| 申请通过的时间段 | 出现的概率 | 耗费的体力值 |\n| :--------: | :----: | :----: |\n|     $2,3$      |  $0.1$  |  $4$  |\n|     $2$      |  $0.1$  |  $0$  |\n|     $3$     |  $0.4$  |  $4$  |\n|     无      |  $0.4$  |  $8$  |\n\n因此，最优方案为：申请更换第 $1,3$ 个时间段的上课教室。耗费的体力值的期望为 $2.8$。 \n\n**提示**\n\n1. 道路中可能会有多条双向道路连接相同的两间教室。 也有可能有道路两端连接的是同一间教室。\n2. 请注意区分 $n,m,v,e$ 的意义, $n$ 不是教室的数量, $m$ 不是道路的数量。\n\n**数据范围与说明**\n\n| 测试点编号 | $n\\le$ | $m\\le$ | $v\\le$ | 是否具有特殊性质 1 | 是否具有特殊性质 2 |\n| :--------: | :----: | :----: | :----: | :----------------: | :----------------: |\n|     1      |  $1$   |  $1$   | $300$  |      $\\times$      |      $\\times$      |\n|     2      |  $2$   |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     3      |  $2$   |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     4      |  $2$   |  $2$   | $300$  |      $\\times$      |      $\\times$      |\n|     5      |  $3$   |  $0$   |  $20$  |      $\\surd$       |      $\\surd$       |\n|     6      |  $3$   |  $1$   | $100$  |      $\\surd$       |      $\\times$      |\n|     7      |  $3$   |  $2$   | $300$  |      $\\times$      |      $\\times$      |\n|     8      |  $10$  |  $0$   | $300$  |      $\\surd$       |      $\\surd$       |\n|     9      |  $10$  |  $1$   |  $20$  |      $\\surd$       |      $\\times$      |\n|     10     |  $10$  |  $2$   | $100$  |      $\\times$      |      $\\times$      |\n|     11     |  $10$  |  $10$  | $300$  |      $\\times$      |      $\\surd$       |\n|     12     |  $20$  |  $0$   |  $20$  |      $\\surd$       |      $\\times$      |\n|     13     |  $20$  |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     14     |  $20$  |  $2$   | $300$  |      $\\surd$       |      $\\times$      |\n|     15     |  $20$  |  $20$  | $300$  |      $\\times$      |      $\\surd$       |\n|     16     | $300$  |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     17     | $300$  |  $1$   | $100$  |      $\\times$      |      $\\times$      |\n|     18     | $300$  |  $2$   | $300$  |      $\\surd$       |      $\\surd$       |\n|     19     | $300$  | $300$  | $300$  |      $\\times$      |      $\\surd$       |\n|     20     | $2000$ |  $0$   |  $20$  |      $\\times$      |      $\\times$      |\n|     21     | $2000$ |  $1$   |  $20$  |      $\\times$      |      $\\times$      |\n|     22     | $2000$ |  $2$   | $100$  |      $\\times$      |      $\\times$      |\n|     23     | $2000$ | $2000$ | $100$  |      $\\times$      |      $\\times$      |\n|     24     | $2000$ | $2000$ | $300$  |      $\\times$      |      $\\times$      |\n|     25     | $2000$ | $2000$ | $300$  |      $\\times$      |      $\\times$      |\n \n\n特殊性质 1：图上任意不同的两点 $u,v$ 间，存在一条耗费体力最少的路径只包含一条道路。\n\n特殊性质 2：对于所有的 $1≤ i≤ n,\\ k_i= 1$。\n", "locale": "zh-CN"}}}
{"pid": "P1851", "type": "P", "difficulty": 1, "samples": [["206\n", "220 284"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "好朋友", "background": "小可可和所有其他同学的手腕上都戴有一个射频识别序列号码牌，这样老师就可以方便的计算出他们的人数。很多同学都有一个“好朋友” 。如果 $A$ 的序列号的约数之和恰好等于 $B$ 的序列号，那么 $A$ 的好朋友就是 $B$。在这里，一个数的约数不包括这个数本身。因为一些同学的号码约数和大于其他任何同学的号码，所以这些同学没有好朋友。一些同学有一个“非常好友” 。当两个同学互为“好朋友”时，他们就是一对“非常好友” 。注意在这道题中，忽略那些自己是自己的“非常好友”的情况。", "description": "给定一个序列号 $s$，找出序列号不小于 $s$ 的第一对“非常好友” 。", "inputFormat": "只有一行一个整数 $s$，即给定的序列号下界。", "outputFormat": "输出一行两个用空格隔开的整数 $a$ 和 $b$。\n\n$a$ 表示第一个序列号不小于 $s$ 的有“非常好友”的同学，$b$ 是 $a$ 的“非常好友” 。（注：允许 $b<s$）", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $6\\le s\\le1.8\\times10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Good Friends", "background": "Xiao Keke and all other classmates wear a radio-frequency identification (RFID) serial number tag on their wrists, so the teacher can easily count them. Many students have a \"Good Friend\". If the sum of the proper divisors of $A$ happens to equal the serial number of $B$, then $B$ is the \"Good Friend\" of $A$. Here, a number’s divisors do not include the number itself. Some students have no \"Good Friend\" because the sum of the divisors of their number is greater than every other student’s number. Some students have a \"Very Good Friend\". When two students are mutual \"Good Friends\", they form a pair of \"Very Good Friends\". Note that in this problem, we ignore cases where someone is their own \"Very Good Friend\".", "description": "Given a serial number $s$, find the first pair of \"Very Good Friends\" such that the first serial number is not less than $s$.", "inputFormat": "A single line containing one integer $s$, the given lower bound of the serial number.", "outputFormat": "Output one line with two integers $a$ and $b$.\n\n$a$ denotes the first student with a serial number not less than $s$ who has a \"Very Good Friend\", and $b$ is the \"Very Good Friend\" of $a$. (Note: $b<s$ is allowed.)", "hint": "Constraints\n\n- For $100\\%$ of the testdata, it is guaranteed that $6\\le s\\le1.8\\times10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "好朋友", "background": "小可可和所有其他同学的手腕上都戴有一个射频识别序列号码牌，这样老师就可以方便的计算出他们的人数。很多同学都有一个“好朋友” 。如果 $A$ 的序列号的约数之和恰好等于 $B$ 的序列号，那么 $A$ 的好朋友就是 $B$。在这里，一个数的约数不包括这个数本身。因为一些同学的号码约数和大于其他任何同学的号码，所以这些同学没有好朋友。一些同学有一个“非常好友” 。当两个同学互为“好朋友”时，他们就是一对“非常好友” 。注意在这道题中，忽略那些自己是自己的“非常好友”的情况。", "description": "给定一个序列号 $s$，找出序列号不小于 $s$ 的第一对“非常好友” 。", "inputFormat": "只有一行一个整数 $s$，即给定的序列号下界。", "outputFormat": "输出一行两个用空格隔开的整数 $a$ 和 $b$。\n\n$a$ 表示第一个序列号不小于 $s$ 的有“非常好友”的同学，$b$ 是 $a$ 的“非常好友” 。（注：允许 $b<s$）", "hint": "#### 数据规模与约定\n\n- 对于 $100\\%$ 的数据，保证 $6\\le s\\le1.8\\times10^4$。", "locale": "zh-CN"}}}
{"pid": "P1852", "type": "P", "difficulty": 6, "samples": [["1 2 3\n0 3 5", "YES\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分", "最近公共祖先 LCA", "CTT（清华集训/北大集训）"], "title": "跳跳棋", "background": "", "description": "跳跳棋是在一条数轴上进行的。棋子只能摆在整点上。每个点不能摆超过一个棋子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hyfzn745.png)\n\n我们用跳跳棋来做一个简单的游戏：棋盘上有 $3$ 颗棋子，分别在 $a,b,c$ 这三个位置。我们要通过最少的跳动把他们的位置移动成 $x,y,z$。（棋子是没有区别的）\n\n跳动的规则很简单，任意选一颗棋子，对一颗中轴棋子跳动。跳动后两颗棋子距离不变。一次只允许跳过 $1$ 颗棋子。\n\n写一个程序，首先判断是否可以完成任务。如果可以，输出最少需要的跳动次数。", "inputFormat": "第一行包含三个整数，表示当前棋子的位置 $a,b,c$。（互不相同）\n\n第二行包含三个整数，表示目标位置 $x,y,z$。（互不相同）", "outputFormat": "如果无解，输出一行 `NO`。\n\n如果可以到达，第一行输出 `YES`，第二行输出最少步数。\n", "hint": "### 数据范围及约定\n\n- $20\\%$ 输入整数的绝对值均不超过 $10$；\n- $40\\%$ 输入整数的绝对值均不超过 $10000$；\n- $100\\%$ 绝对值不超过 $10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Jumping Checkers", "background": "", "description": "Jumping Checkers is played on a number line. Pieces can only be placed on integer points. No position may contain more than one piece.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hyfzn745.png)\n\nWe use Jumping Checkers to play a simple game: there are $3$ pieces on the board at positions $a,b,c$. We want to move them, using the fewest jumps, so that their positions become $x,y,z$. (The pieces are indistinguishable.)\n\nThe rule for a jump is simple: choose any piece and jump it over a pivot piece. After the jump, the distance between the two pieces remains unchanged. Each move may jump over exactly $1$ piece.\n\nWrite a program to first determine whether the task is possible. If it is, output the minimum number of jumps required.", "inputFormat": "The first line contains three integers, the current positions $a,b,c$ (pairwise distinct).\n\nThe second line contains three integers, the target positions $x,y,z$ (pairwise distinct).", "outputFormat": "If there is no solution, output a single line `NO`.\n\nIf it is reachable, output the first line YES, and the second line the minimum number of jumps.", "hint": "### Constraints\n\n- For $20\\%$ of the testdata, the absolute value of each input integer does not exceed $10$.\n- For $40\\%$ of the testdata, the absolute value of each input integer does not exceed $10000$.\n- For $100\\%$ of the testdata, the absolute value does not exceed $10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跳跳棋", "background": "", "description": "跳跳棋是在一条数轴上进行的。棋子只能摆在整点上。每个点不能摆超过一个棋子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hyfzn745.png)\n\n我们用跳跳棋来做一个简单的游戏：棋盘上有 $3$ 颗棋子，分别在 $a,b,c$ 这三个位置。我们要通过最少的跳动把他们的位置移动成 $x,y,z$。（棋子是没有区别的）\n\n跳动的规则很简单，任意选一颗棋子，对一颗中轴棋子跳动。跳动后两颗棋子距离不变。一次只允许跳过 $1$ 颗棋子。\n\n写一个程序，首先判断是否可以完成任务。如果可以，输出最少需要的跳动次数。", "inputFormat": "第一行包含三个整数，表示当前棋子的位置 $a,b,c$。（互不相同）\n\n第二行包含三个整数，表示目标位置 $x,y,z$。（互不相同）", "outputFormat": "如果无解，输出一行 `NO`。\n\n如果可以到达，第一行输出 `YES`，第二行输出最少步数。\n", "hint": "### 数据范围及约定\n\n- $20\\%$ 输入整数的绝对值均不超过 $10$；\n- $40\\%$ 输入整数的绝对值均不超过 $10000$；\n- $100\\%$ 绝对值不超过 $10^9$。", "locale": "zh-CN"}}}
{"pid": "P1853", "type": "P", "difficulty": 3, "samples": [["10000 4 2\r\n4000 400\r\n3000 250", "14050"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "背包 DP"], "title": "投资的最大效益", "background": "约翰先生获得了一大笔遗产，他暂时还用不上这一笔钱，他决定进行投资以获得更大的效益。银行工作人员向他提供了多种债券，每一种债券都能在固定的投资后，提供稳定的年利息。当然，每一种债券的投资额是不同的，一般来说，投资越大，收益也越大，而且，每一年还可以根据资金总额的增加，更换收益更大的债券。", "description": "例如：有如下两种不同的债券：\n\n1. 投资额 $4000$，年利息 $400$；\n2. 投资额 $3000$，年利息 $250$。\n\n初始时，有 $10000$ 的总资产，可以投资两份债券 1 债券，一年获得 $800$ 的利息；而投资一份债券 1 和两份债券 2，一年可获得 $900$ 的利息，两年后，可获得 $1800$ 的利息；而所有的资产达到 $11800$，然后将卖掉一份债券 2，换购债券 1，年利息可达到 $1050$；第三年后，总资产达到 $12850$，可以购买三份债券 1，年利息可达到 $1200$，第四年后，总资产可达到 $14050$。\n\n现给定若干种债券、最初的总资产，帮助约翰先生计算，经过 $n$ 年的投资，总资产的最大值。", "inputFormat": "第一行为三个正整数 $s, n, d$，分别表示最初的总资产、年数和债券的种类。\n\n接下来 $d$ 行，每行表示一种债券，两个正整数 $a, b$ 分别表示债券的投资额和年利息。", "outputFormat": "仅一个整数，表示 $n$ 年后的最大总资产。", "hint": "对于 $100 \\%$ 的数据，$1 \\le s \\le {10}^6$，$2 \\le n \\le 40$，$1 \\le d \\le 10$，$1 \\le a \\le {10}^4$，且 $a$ 是 $1000$ 的倍数，$b$ 不超过 $a$ 的 $10\\%$。", "locale": "zh-CN", "translations": {"en": {"title": "Maximum Investment Return", "background": "Mr. John received a large inheritance that he does not need for now, so he decided to invest it to obtain greater returns. The bank offered him multiple types of bonds. Each bond provides a fixed annual interest after a fixed investment. Of course, each bond requires a different investment amount. Generally, the larger the investment, the greater the return. Moreover, each year he can switch to higher-yield bonds according to the increase in his total funds.", "description": "For example, consider the following two types of bonds:\n\n1. Investment amount $4000$, annual interest $400$.\n2. Investment amount $3000$, annual interest $250$.\n\nInitially, with a total of $10000$ in assets, he can invest in two units of Bond 1 and earn $800$ in interest in one year. Alternatively, investing in one unit of Bond 1 and two units of Bond 2 yields $900$ in interest in one year; after two years, the total interest is $1800$, bringing total assets to $11800$. Then, by selling one unit of Bond 2 and switching to Bond 1, the annual interest can reach $1050$. After the third year, total assets reach $12850$, at which point he can purchase three units of Bond 1, yielding an annual interest of $1200$. After the fourth year, total assets reach $14050$.\n\nGiven several types of bonds and the initial total assets, help Mr. John compute the maximum possible total assets after $n$ years of investment.", "inputFormat": "The first line contains three positive integers $s, n, d$, representing the initial total assets, the number of years, and the number of bond types, respectively.\n\nThe next $d$ lines each describe one type of bond. Each line contains two positive integers $a, b$, representing the investment amount and the annual interest of the bond, respectively.", "outputFormat": "Output a single integer, the maximum total assets after $n$ years.", "hint": "For $100\\%$ of the testdata, $1 \\le s \\le {10}^6$, $2 \\le n \\le 40$, $1 \\le d \\le 10$, $1 \\le a \\le {10}^4$, $a$ is a multiple of $1000$, and $b$ does not exceed $10\\%$ of $a$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "投资的最大效益", "background": "约翰先生获得了一大笔遗产，他暂时还用不上这一笔钱，他决定进行投资以获得更大的效益。银行工作人员向他提供了多种债券，每一种债券都能在固定的投资后，提供稳定的年利息。当然，每一种债券的投资额是不同的，一般来说，投资越大，收益也越大，而且，每一年还可以根据资金总额的增加，更换收益更大的债券。", "description": "例如：有如下两种不同的债券：\n\n1. 投资额 $4000$，年利息 $400$；\n2. 投资额 $3000$，年利息 $250$。\n\n初始时，有 $10000$ 的总资产，可以投资两份债券 1 债券，一年获得 $800$ 的利息；而投资一份债券 1 和两份债券 2，一年可获得 $900$ 的利息，两年后，可获得 $1800$ 的利息；而所有的资产达到 $11800$，然后将卖掉一份债券 2，换购债券 1，年利息可达到 $1050$；第三年后，总资产达到 $12850$，可以购买三份债券 1，年利息可达到 $1200$，第四年后，总资产可达到 $14050$。\n\n现给定若干种债券、最初的总资产，帮助约翰先生计算，经过 $n$ 年的投资，总资产的最大值。", "inputFormat": "第一行为三个正整数 $s, n, d$，分别表示最初的总资产、年数和债券的种类。\n\n接下来 $d$ 行，每行表示一种债券，两个正整数 $a, b$ 分别表示债券的投资额和年利息。", "outputFormat": "仅一个整数，表示 $n$ 年后的最大总资产。", "hint": "对于 $100 \\%$ 的数据，$1 \\le s \\le {10}^6$，$2 \\le n \\le 40$，$1 \\le d \\le 10$，$1 \\le a \\le {10}^4$，且 $a$ 是 $1000$ 的倍数，$b$ 不超过 $a$ 的 $10\\%$。", "locale": "zh-CN"}}}
{"pid": "P1854", "type": "P", "difficulty": 3, "samples": [["3 5\n7 23 -5 -24 16\n5 21 -4 10 23\n-21 5 -4 -20 20\n", "53\n2 4 5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "1999", "IOI", "Special Judge"], "title": "[IOI 1999] 花店橱窗布置", "background": "", "description": "某花店现有 $F$ 束花，每一束花的品种都不一样。至少有同样数量的花瓶，被按顺序摆成一行。花瓶的位置是固定从左到右按 $1\\sim V$ 顺序编号，$V$ 是花瓶的数目。\n\n花束可以移动，并且每束花用 $1\\sim F$ 的整数标识。所有花束在放入花瓶时必须保持其标识数的顺序。例如，假设杜鹃花的标识数为 $1$，秋海棠的标识数为 $2$，康乃馨的标识数为 $3$，即杜鹃花必须放在秋海棠左边的花瓶中，秋海棠必须放在康乃馨左边的花瓶中。每个花瓶只能放一束花。\n\n每个花瓶的形状和颜色也不相同，因此，当各个花瓶中放入不同的花束时，会产生不同的美学效果，并以美学值（一个整数 $a_{i,j}$）来表示，空置花瓶的美学值为 $0$。在上述的例子中，花瓶与花束的不同搭配所具有的美学值，可以用如下的表格来表示：\n\n|        | 花瓶 1 | 花瓶 2 | 花瓶 3 | 花瓶 4 | 花瓶 5 |\n| ------ | ------ | ------ | ------ | ------ | ------ |\n| 杜鹃花 | $7$    | $23$   | $-5$   | $-24$  | $16$   |\n| 秋海棠 | $5$    | $21$   | $-4$   | $10$   | $23$   |\n| 康乃馨 | $-21$  | $5$    | $-4$   | $-20$  | $20$   |\n\n根据表格，杜鹃花放在花瓶 $2$ 中，会显得非常好看，但若放在花瓶 $4$ 中，则显得很难看。\n\n为了取得最佳的美学效果，必须在保持花束顺序的前提下，使花的摆放取得最大的美学值。**每个花束都必须被放入花瓶。** 如果具有最大美学值的摆放方式不止一种，则输出任何一种方案即可。", "inputFormat": "输入文件的第一行是两个整数 $F$ 和 $V$，分别为花束数和花瓶数。\n\n接下来是矩阵 $a_{i,j}$，共 $F$ 行，每行 $V$ 个整数，$a_{i,j}$ 表示花束 $i$ 摆放在花瓶 $j$ 中的美学值。", "outputFormat": "第一行输出一个整数，表示最大的美学值。  \n第二行输出 $F$ 个整数 $p_1, p_2, \\dots, p_F$，其中 $p_i$ 表示花束 $i$ 放入的花瓶编号。所有被放入的花束必须满足：若 $i < j$，则 $p_i < p_j$。", "hint": "- 花束的标识数顺序必须严格保持  \n\n对于 $100\\%$ 的数据，$1\\le F\\le V\\le 100$。\n\n感谢 @罗恺 提供 SPJ", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 1999] Little Shop of Flowers", "background": null, "description": "A flower shop currently has $F$ bouquets, each of a different kind. There are at least as many vases, arranged in a row in order. The positions of the vases are fixed and are numbered from left to right as $1 \\sim V$, where $V$ is the number of vases.\n\nThe bouquets can be moved, and each bouquet is identified by an integer $1 \\sim F$. All bouquets must maintain the order of their identifiers when placed into vases. For example, suppose azalea has identifier $1$, begonia has identifier $2$, and carnation has identifier $3$; then the azalea must be placed in a vase to the left of the begonia, and the begonia must be placed in a vase to the left of the carnation. Each vase can hold only one bouquet.\n\nEach vase has a unique shape and color, so placing different bouquets in different vases produces different aesthetic effects, represented by an aesthetic value (an integer $a_{i,j}$). The aesthetic value of an empty vase is $0$. In the above example, the aesthetic values of different pairings of vases and bouquets can be represented by the following table:\n\n|        | Vase 1 | Vase 2 | Vase 3 | Vase 4 | Vase 5 |\n| ------ | ------ | ------ | ------ | ------ | ------ |\n| Azalea | $7$    | $23$   | $-5$   | $-24$  | $16$   |\n| Begonia | $5$    | $21$   | $-4$   | $10$   | $23$   |\n| Carnation | $-21$  | $5$    | $-4$   | $-20$  | $20$   |\n\nAccording to the table, placing the azalea in vase $2$ looks very good, but placing it in vase $4$ looks very bad.\n\nTo achieve the best aesthetic effect, under the constraint of preserving the bouquet order, the placement should maximize the total aesthetic value. Every bouquet must be placed into a vase. If there is more than one arrangement that attains the maximum aesthetic value, output any one of them.", "inputFormat": "The first line contains two integers $F$ and $V$, the number of bouquets and the number of vases.\n\nThen follows the matrix $a_{i,j}$ with $F$ rows and $V$ integers per row, where $a_{i,j}$ denotes the aesthetic value of placing bouquet $i$ into vase $j$.", "outputFormat": "On the first line, output a single integer, the maximum total aesthetic value.  \nOn the second line, output $F$ integers $p_1, p_2, \\dots, p_F$, where $p_i$ is the index of the vase that holds bouquet $i$. All placed bouquets must satisfy: if $i < j$, then $p_i < p_j$.", "hint": "- The order of bouquet identifiers must be strictly preserved.\n- Constraints: For $100\\%$ of the testdata, $1 \\le F \\le V \\le 100$.\n- Thanks to @Luo Kai for providing the SPJ.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 1999] 花店橱窗布置", "background": "", "description": "某花店现有 $F$ 束花，每一束花的品种都不一样。至少有同样数量的花瓶，被按顺序摆成一行。花瓶的位置是固定从左到右按 $1\\sim V$ 顺序编号，$V$ 是花瓶的数目。\n\n花束可以移动，并且每束花用 $1\\sim F$ 的整数标识。所有花束在放入花瓶时必须保持其标识数的顺序。例如，假设杜鹃花的标识数为 $1$，秋海棠的标识数为 $2$，康乃馨的标识数为 $3$，即杜鹃花必须放在秋海棠左边的花瓶中，秋海棠必须放在康乃馨左边的花瓶中。每个花瓶只能放一束花。\n\n每个花瓶的形状和颜色也不相同，因此，当各个花瓶中放入不同的花束时，会产生不同的美学效果，并以美学值（一个整数 $a_{i,j}$）来表示，空置花瓶的美学值为 $0$。在上述的例子中，花瓶与花束的不同搭配所具有的美学值，可以用如下的表格来表示：\n\n|        | 花瓶 1 | 花瓶 2 | 花瓶 3 | 花瓶 4 | 花瓶 5 |\n| ------ | ------ | ------ | ------ | ------ | ------ |\n| 杜鹃花 | $7$    | $23$   | $-5$   | $-24$  | $16$   |\n| 秋海棠 | $5$    | $21$   | $-4$   | $10$   | $23$   |\n| 康乃馨 | $-21$  | $5$    | $-4$   | $-20$  | $20$   |\n\n根据表格，杜鹃花放在花瓶 $2$ 中，会显得非常好看，但若放在花瓶 $4$ 中，则显得很难看。\n\n为了取得最佳的美学效果，必须在保持花束顺序的前提下，使花的摆放取得最大的美学值。**每个花束都必须被放入花瓶。** 如果具有最大美学值的摆放方式不止一种，则输出任何一种方案即可。", "inputFormat": "输入文件的第一行是两个整数 $F$ 和 $V$，分别为花束数和花瓶数。\n\n接下来是矩阵 $a_{i,j}$，共 $F$ 行，每行 $V$ 个整数，$a_{i,j}$ 表示花束 $i$ 摆放在花瓶 $j$ 中的美学值。", "outputFormat": "第一行输出一个整数，表示最大的美学值。  \n第二行输出 $F$ 个整数 $p_1, p_2, \\dots, p_F$，其中 $p_i$ 表示花束 $i$ 放入的花瓶编号。所有被放入的花束必须满足：若 $i < j$，则 $p_i < p_j$。", "hint": "- 花束的标识数顺序必须严格保持  \n\n对于 $100\\%$ 的数据，$1\\le F\\le V\\le 100$。\n\n感谢 @罗恺 提供 SPJ", "locale": "zh-CN"}}}
{"pid": "P1855", "type": "P", "difficulty": 2, "samples": [["6 10 10\n1 1\n2 3 \n3 2\n2 5\n5 2\n4 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "洛谷原创", "枚举", "背包 DP", "洛谷比赛"], "title": "榨取kkksc03", "background": "", "description": "洛谷 2 的团队功能是其他任何 OJ 和工具难以达到的。借助洛谷强大的服务器资源，任何学校都可以在洛谷上零成本的搭建 OJ 并高效率的完成训练计划。\n\n为什么说是搭建 OJ 呢？为什么高效呢？\n\n![](https://cdn.luogu.com.cn/upload/pic/1236.png)\n\n因为，你可以上传私有题目，团队外别人是无法看到的。我们还能帮你们评测！\n\n你可以创建作业，给组员布置任务，查看组员的完成情况，还可以点评任意一份代码！\n\n你可以创建比赛！既可以是 OI 赛制还可以是 ICPC 赛制！既可以是团队内部的私有比赛，也可以公开赛，甚至可以指定谁可以参加比赛。这样，搞“x 校联赛”最合适不过了。洛谷凭借这个功能，希望能够提供公开及私有比赛的另外一个平台。\n\n![](https://cdn.luogu.com.cn/upload/pic/1237.png)\n\n值得说明的是，本次比赛就是采用团队私有题目+邀请比赛的机制。\n\n洛谷的运营组决定，如果一名 OIer 向他的教练推荐洛谷，并能够成功的使用（成功使用的定义是：该团队有 $20$ 个或以上的成员，上传 $10$ 道以上的私有题目，布置过一次作业并成功举办过一次公开比赛），那么他可以浪费掉 kkksc03 的一些时间的同时消耗掉 kkksc03 的一些金钱以满足自己的一个愿望。\n\nkkksc03 的时间和金钱是有限的，所以他很难满足所有同学的愿望。所以他想知道在自己的能力范围内，最多可以完成多少同学的愿望？", "inputFormat": "第一行三个整数 $n,M,T$，表示一共有 $n$（$1 \\le n \\le 100$）个愿望， kkksc03 的手上还剩 $M$（$0 \\le M \\le 200$）元，他的暑假有 $T$（$0 \\le T \\le 200$）分钟时间。\n\n第 $2$~$n+1$ 行 $m_{i}$ , $t_{i}$ 表示第 $i$ 个愿望所需要的金钱和时间。", "outputFormat": "一行，一个数，表示 kkksc03 最多可以实现愿望的个数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Squeezing kkksc03", "background": "", "description": "Luogu’s team features are hard for any other OJ or tool to match. With Luogu’s powerful server resources, any school can build an OJ on Luogu at zero cost and efficiently carry out its training plan.\n\nWhy call it building an OJ? Why is it efficient?\n\n![](https://cdn.luogu.com.cn/upload/pic/1236.png)\n\nBecause you can upload private problems that people outside the team cannot see. We can also help you with judging!\n\nYou can create assignments, assign tasks to team members, check their progress, and comment on any piece of code!\n\nYou can create contests! They can be in OI or ICPC format! They can be private within the team, public, or even limited to specified participants. This makes it perfect for running an “x school league.” With this feature, Luogu hopes to provide another platform for both public and private contests.\n\n![](https://cdn.luogu.com.cn/upload/pic/1237.png)\n\nIt is worth noting that this contest uses the mechanism of team private problems plus invitation contests.\n\nThe Luogu operations team has decided that if an OIer recommends Luogu to their coach and it is successfully used (successful use is defined as: the team has $20$ or more members, uploads at least $10$ private problems, has assigned at least one assignment, and has successfully held at least one public contest), then they can spend some of kkksc03’s time and money to fulfill one of their wishes.\n\nkkksc03’s time and money are limited, so he cannot satisfy everyone’s wishes. Therefore, he wants to know, within his capacity, what is the maximum number of students’ wishes he can fulfill?", "inputFormat": "The first line contains three integers $n$, $M$, $T$, meaning there are $n$ wishes ($1 \\le n \\le 100$), kkksc03 has $M$ yuan left ($0 \\le M \\le 200$), and his summer vacation time is $T$ minutes ($0 \\le T \\le 200$).\n\nLines $2$ to $n+1$ each contain $m_{i}$ and $t_{i}$, representing the money and time required for the $i$-th wish.", "outputFormat": "One line with a single integer, the maximum number of wishes kkksc03 can fulfill.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "榨取kkksc03", "background": "", "description": "洛谷 2 的团队功能是其他任何 OJ 和工具难以达到的。借助洛谷强大的服务器资源，任何学校都可以在洛谷上零成本的搭建 OJ 并高效率的完成训练计划。\n\n为什么说是搭建 OJ 呢？为什么高效呢？\n\n![](https://cdn.luogu.com.cn/upload/pic/1236.png)\n\n因为，你可以上传私有题目，团队外别人是无法看到的。我们还能帮你们评测！\n\n你可以创建作业，给组员布置任务，查看组员的完成情况，还可以点评任意一份代码！\n\n你可以创建比赛！既可以是 OI 赛制还可以是 ICPC 赛制！既可以是团队内部的私有比赛，也可以公开赛，甚至可以指定谁可以参加比赛。这样，搞“x 校联赛”最合适不过了。洛谷凭借这个功能，希望能够提供公开及私有比赛的另外一个平台。\n\n![](https://cdn.luogu.com.cn/upload/pic/1237.png)\n\n值得说明的是，本次比赛就是采用团队私有题目+邀请比赛的机制。\n\n洛谷的运营组决定，如果一名 OIer 向他的教练推荐洛谷，并能够成功的使用（成功使用的定义是：该团队有 $20$ 个或以上的成员，上传 $10$ 道以上的私有题目，布置过一次作业并成功举办过一次公开比赛），那么他可以浪费掉 kkksc03 的一些时间的同时消耗掉 kkksc03 的一些金钱以满足自己的一个愿望。\n\nkkksc03 的时间和金钱是有限的，所以他很难满足所有同学的愿望。所以他想知道在自己的能力范围内，最多可以完成多少同学的愿望？", "inputFormat": "第一行三个整数 $n,M,T$，表示一共有 $n$（$1 \\le n \\le 100$）个愿望， kkksc03 的手上还剩 $M$（$0 \\le M \\le 200$）元，他的暑假有 $T$（$0 \\le T \\le 200$）分钟时间。\n\n第 $2$~$n+1$ 行 $m_{i}$ , $t_{i}$ 表示第 $i$ 个愿望所需要的金钱和时间。", "outputFormat": "一行，一个数，表示 kkksc03 最多可以实现愿望的个数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1856", "type": "P", "difficulty": 5, "samples": [["7\n-15 0 5 10\n-5 8 20 25\n15 -4 24 14\n0 -6 16 4\n2 15 10 22\n30 10 36 20\n34 0 40 16", "228"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["1998", "线段树", "USACO", "IOI", "扫描线"], "title": "[IOI 1998 / USACO5.5] 矩形周长 Picture", "background": "墙上贴着许多形状相同的海报、照片。它们的边都是水平和垂直的。每个矩形图片可能部分或全部的覆盖了其他图片。所有矩形合并后的边长称为周长。", "description": "编写一个程序计算周长。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2eo4hzl6.png)\n\n$7$ 个矩形如图 $1$ 所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/buk96amj.png)\n\n所有矩形的边界如图 $2$ 所示。\n\n所有矩形顶点的坐标都是整数。", "inputFormat": "输入文件的第一行是一个整数 $N$，表示有多少个矩形。接下来 $N$ 行给出了每一个矩形左下角坐标和右上角坐标。", "outputFormat": "输出文件只有一个正整数，表示所有矩形的周长。", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N<5000$，所有坐标的数值范围都在 $-10^4$ 到 $10^4$ 之间。", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 1998 / USACO5.5] Rectangle Perimeter Picture", "background": "There are many rectangular posters and photos on a wall. Their edges are horizontal and vertical. Each rectangular picture may partially or completely cover other pictures. The length of the boundary of the union of all rectangles is called the perimeter.", "description": "Write a program to compute the perimeter.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2eo4hzl6.png)\n\nThe $7$ rectangles are shown in Figure 1.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/buk96amj.png)\n\nThe boundary of the union of all rectangles is shown in Figure 2.\n\nAll rectangle vertices have integer coordinates.", "inputFormat": "The first line of the input contains an integer $N$, the number of rectangles. Each of the next $N$ lines gives the coordinates of the lower-left corner and the upper-right corner of a rectangle.", "outputFormat": "Output a single positive integer, the perimeter of the union of all rectangles.", "hint": "Constraints\n\nFor all testdata, $1 \\le N < 5000$, and all coordinate values are in the range $-10^4$ to $10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 1998 / USACO5.5] 矩形周长 Picture", "background": "墙上贴着许多形状相同的海报、照片。它们的边都是水平和垂直的。每个矩形图片可能部分或全部的覆盖了其他图片。所有矩形合并后的边长称为周长。", "description": "编写一个程序计算周长。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2eo4hzl6.png)\n\n$7$ 个矩形如图 $1$ 所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/buk96amj.png)\n\n所有矩形的边界如图 $2$ 所示。\n\n所有矩形顶点的坐标都是整数。", "inputFormat": "输入文件的第一行是一个整数 $N$，表示有多少个矩形。接下来 $N$ 行给出了每一个矩形左下角坐标和右上角坐标。", "outputFormat": "输出文件只有一个正整数，表示所有矩形的周长。", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N<5000$，所有坐标的数值范围都在 $-10^4$ 到 $10^4$ 之间。", "locale": "zh-CN"}}}
{"pid": "P1857", "type": "P", "difficulty": 4, "samples": [["3\r\n8\r\n9\r\n16", "1\r\n-1\r\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "质数取石子", "background": "", "description": "桌上有若干个石子，每次可以取质数个。谁先取不了，谁就输。问最少几步能赢？（一个人取一次算一步）假设双方都使用最优策略，且必胜方会尽量快地取胜，必败方会尽可能拖延步数。", "inputFormat": "第一行 $N$，表示有 $N$ 组数据\n\n接下来 $N$ 行为石子数\n", "outputFormat": "每组数据一个数，若必胜，则输出最少步数，否则输出 $-1$。\n", "hint": "石子数 $\\leq 20000$，$N\\leq 10$\n", "locale": "zh-CN", "translations": {"en": {"title": "Prime Stone Game", "background": "", "description": "There is a pile of stones on the table. In each move, a player may take a prime number of stones. The player who cannot make a move loses. What is the minimum number of moves needed to win? (One move means one player's turn.) Assume both players play optimally: the player who can force a win will win as quickly as possible, and the losing player will delay as long as possible.", "inputFormat": "The first line contains $N$, the number of test cases.\n\nEach of the next $N$ lines contains the number of stones.", "outputFormat": "For each test case, output one number. If the position is winning, output the minimum number of moves needed to win; otherwise, output $-1$.", "hint": "Constraints: the number of stones is $\\leq 20000$, and $N \\leq 10$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "质数取石子", "background": "", "description": "桌上有若干个石子，每次可以取质数个。谁先取不了，谁就输。问最少几步能赢？（一个人取一次算一步）假设双方都使用最优策略，且必胜方会尽量快地取胜，必败方会尽可能拖延步数。", "inputFormat": "第一行 $N$，表示有 $N$ 组数据\n\n接下来 $N$ 行为石子数\n", "outputFormat": "每组数据一个数，若必胜，则输出最少步数，否则输出 $-1$。\n", "hint": "石子数 $\\leq 20000$，$N\\leq 10$\n", "locale": "zh-CN"}}}
{"pid": "P1858", "type": "P", "difficulty": 5, "samples": [["2 10 5\n3 12\n7 20\n2 4\n5 6\n1 1", "57"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "多人背包", "background": null, "description": "求 01 背包前 $K$ 优解的价值和。\n\nDD 和好朋友们要去爬山啦！\n\n他们一共有 $K$ 个人，每个人都会背一个包。这些包 的容量是相同的，都是 $V$。可以装进背包里的一共有 $N$ 种物品，每种物品都有给定的体积和价值。\n\n在 DD 看来，合理的背包安排方案是这样的：每个人背包里装的物品的总体积恰等于包的容量。每个包里的每种物品最多只有一件，但两个不同的包中可以存在相同的物品。 \n\n任意两个人，他们包里的物品清单不能完全相同。在满足以上要求的前提下，所有包里的所有物品的总价值最大是多少呢？", "inputFormat": "第一行三个数 $K,V,N$。\n\n接下来每行两个数，表示体积和价值。", "outputFormat": "共一行，一个整数，表示前 $K$ 优解的价值和。", "hint": "对于 $100\\%$ 的数据，$K\\le 50$，$V\\le 5000$，$N\\le 200$。", "locale": "zh-CN", "translations": {"en": {"title": "Multi-person Knapsack", "background": "", "description": "Compute the sum of values of the top $K$ solutions to the 0/1 knapsack.\n\nDD and their friends are going hiking!\n\nThere are $K$ people in total, and each person will carry one backpack. All backpacks have the same capacity $V$. There are $N$ types of items that can be put into a backpack, and each type has a given volume and value.\n\nAccording to DD, a reasonable packing plan is as follows: the total volume of items in each person’s backpack is exactly equal to the backpack’s capacity. In each backpack, there is at most one copy of each item type, but the same item type may appear in different backpacks.\n\nFor any two people, their item lists must not be exactly the same. Under these requirements, what is the maximum possible total value of all items across all $K$ backpacks?", "inputFormat": "The first line contains three integers $K$, $V$, $N$.\n\nThe next $N$ lines each contain two integers, the volume and the value of an item type.", "outputFormat": "Output a single integer on one line: the sum of values of the top $K$ solutions.", "hint": "For $100\\%$ of the testdata, $K \\le 50$, $V \\le 5000$, $N \\le 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "多人背包", "background": null, "description": "求 01 背包前 $K$ 优解的价值和。\n\nDD 和好朋友们要去爬山啦！\n\n他们一共有 $K$ 个人，每个人都会背一个包。这些包 的容量是相同的，都是 $V$。可以装进背包里的一共有 $N$ 种物品，每种物品都有给定的体积和价值。\n\n在 DD 看来，合理的背包安排方案是这样的：每个人背包里装的物品的总体积恰等于包的容量。每个包里的每种物品最多只有一件，但两个不同的包中可以存在相同的物品。 \n\n任意两个人，他们包里的物品清单不能完全相同。在满足以上要求的前提下，所有包里的所有物品的总价值最大是多少呢？", "inputFormat": "第一行三个数 $K,V,N$。\n\n接下来每行两个数，表示体积和价值。", "outputFormat": "共一行，一个整数，表示前 $K$ 优解的价值和。", "hint": "对于 $100\\%$ 的数据，$K\\le 50$，$V\\le 5000$，$N\\le 200$。", "locale": "zh-CN"}}}
{"pid": "P1859", "type": "P", "difficulty": 3, "samples": [["4 7 3 3\n.***\n..**\n*..*\n****\nLEFT\nFORWARD\nLEFT\nBACK\nFORWARD\nRIGHT\nFORWARD", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "不听话的机器人", "background": "", "description": "机器人收到 $N$ 条指令，但它不想走到障碍物上或走出边界，所以决定拒绝一些指令。求最少拒绝多少条指令？\n\n`FORWARD` 前进 $1$\n\n`BACK` 后退 $1$\n\n`LEFT` 左转 $90$ 度\n\n`RIGHT` 右转 $90$ 度\n\n初始时，机器人是面对着上方的。\n", "inputFormat": "第一行 $M,N,X_0,Y_0$ ($M\\le 100,N\\le 1000$)，表示场地大小为 $M\\times M$，共有 $N$ 条指令，起点 $(X_0,Y_0)$。\n\n接下来一个 $M\\times M$ 矩阵，表示场地。其中 `.` 为场地，`*`为障碍物。\n\n接下来 $N$ 行，表示 $N$ 条命令。\n", "outputFormat": "一个数，表示最少拒绝多少条命令。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Disobedient Robot", "background": "", "description": "The robot receives $N$ commands, but it does not want to move onto an obstacle or go out of bounds, so it decides to refuse some commands. Find the minimum number of commands it must refuse.\n\n`FORWARD` move forward by 1.\n\n`BACK` move backward by 1.\n\n`LEFT` turn left by 90 degrees.\n\n`RIGHT` turn right by 90 degrees.\n\nInitially, the robot is facing upwards.", "inputFormat": "The first line contains $M,N,X_0,Y_0$ ($M \\le 100, N \\le 1000$), meaning the field size is $M\\times M$, there are $N$ commands in total, and the starting point is $(X_0,Y_0)$.\n\nNext is an $M\\times M$ matrix representing the field. Here `.` denotes an empty cell, and `*` denotes an obstacle.\n\nThen follow $N$ lines, each representing one command.", "outputFormat": "Output a single integer: the minimum number of commands to refuse.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "不听话的机器人", "background": "", "description": "机器人收到 $N$ 条指令，但它不想走到障碍物上或走出边界，所以决定拒绝一些指令。求最少拒绝多少条指令？\n\n`FORWARD` 前进 $1$\n\n`BACK` 后退 $1$\n\n`LEFT` 左转 $90$ 度\n\n`RIGHT` 右转 $90$ 度\n\n初始时，机器人是面对着上方的。\n", "inputFormat": "第一行 $M,N,X_0,Y_0$ ($M\\le 100,N\\le 1000$)，表示场地大小为 $M\\times M$，共有 $N$ 条指令，起点 $(X_0,Y_0)$。\n\n接下来一个 $M\\times M$ 矩阵，表示场地。其中 `.` 为场地，`*`为障碍物。\n\n接下来 $N$ 行，表示 $N$ 条命令。\n", "outputFormat": "一个数，表示最少拒绝多少条命令。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1860", "type": "P", "difficulty": 6, "samples": [["4 2 6 3\n1 0\n1 0\n5 3\n20 15\n3 2 1 2\n4 3 1 2 3", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "新魔法药水", "background": "", "description": "商店里有 $N$ 种药水，每种药水都有一个售价和回收价。小 $S$ 攒了 $V$ 元钱，还会 $M$ 种魔法，可以把一些药水合成另一种药水。他一天可以使用 $K$ 次魔法，问他一天最多赚多少钱？\n\n注意：卖出去赚到的钱不能再次用来投资。", "inputFormat": "第一行四个数 $N,M,V,K$。\n\n接下来 $N$ 行，每行两个数，表示药水的售价和回收价。\n\n接下来 $M$ 行，每行若干个数，第一个数表示魔法的成品，第二个数是原料的种数，接下来为各种原料的编号。", "outputFormat": "输出一个整数，表示最多赚多少钱。", "hint": "### 数据范围及约定\n\n对于全部数据，$N \\le 60$，$M \\le 240$，$V \\le 1000$，$k \\le 30$。", "locale": "zh-CN", "translations": {"en": {"title": "New Magic Potion", "background": "", "description": "There are $N$ types of potions in a shop. Each potion has a selling price and a buyback price. Xiao S has $V$ units of money and knows $M$ spells that can combine some potions into another potion. He can use at most $K$ spells in one day. What is the maximum profit he can make in one day?\n\nNote: Money earned from selling cannot be reinvested.", "inputFormat": "The first line contains four integers $N, M, V, K$.\n\nThe next $N$ lines each contain two integers, the selling price and the buyback price of a potion.\n\nThe next $M$ lines each contain several integers: the first integer is the product potion’s ID, the second integer is the number of ingredient types, followed by the IDs of the ingredient potions.", "outputFormat": "Output a single integer, the maximum profit.", "hint": "### Constraints and Conventions\n\nFor all testdata, $N \\le 60$, $M \\le 240$, $V \\le 1000$, $K \\le 30$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "新魔法药水", "background": "", "description": "商店里有 $N$ 种药水，每种药水都有一个售价和回收价。小 $S$ 攒了 $V$ 元钱，还会 $M$ 种魔法，可以把一些药水合成另一种药水。他一天可以使用 $K$ 次魔法，问他一天最多赚多少钱？\n\n注意：卖出去赚到的钱不能再次用来投资。", "inputFormat": "第一行四个数 $N,M,V,K$。\n\n接下来 $N$ 行，每行两个数，表示药水的售价和回收价。\n\n接下来 $M$ 行，每行若干个数，第一个数表示魔法的成品，第二个数是原料的种数，接下来为各种原料的编号。", "outputFormat": "输出一个整数，表示最多赚多少钱。", "hint": "### 数据范围及约定\n\n对于全部数据，$N \\le 60$，$M \\le 240$，$V \\le 1000$，$k \\le 30$。", "locale": "zh-CN"}}}
{"pid": "P1861", "type": "P", "difficulty": 6, "samples": [["5 5 \n1 0 0 0 1 \n0 0 0 0 0 \n0 0 0 0 0 \n0 1 0 1 1 \n1 0 0 0 0 \n\n0 0 0 0 0 \n0 0 0 0 1 \n2 0 0 0 1 \n0 0 2 0 0 \n0 0 0 0 0", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "星之器", "background": "Magic Land 上的时间又过了若干世纪…\n\n现在，人们谈论着一个传说：从前，他们的祖先来到了一个位于东方的岛屿，那里简直就是另外一个世界。善于分析与构造的 Magic Land 上的人们总是不明白那里的人们是如何不借助精确的实验与计算驱动和操纵魔法。", "description": "偶然地，一个魔法使（Magician）来到了 Magic Land，在临走的时候留下了一个神奇的盒子，叫做星之器（Casket of star）。\n\n虽然不知道这个盒子是做什么的，但是经过了大量的实验和计算后，人们已经清楚它的一些事实：\n\n1. 星之器之中有 $N\\times M$ 个区域，可看作分成 $N$ 行和 $M$ 列的格子，每个区域之中有若干单位的称为“星”的对象，这个对象的最小单位已经被确定，所以，这个数量总是整数。\n2. 魔法使可以驱动星之器中位于同一行或同一列的不相邻（有公共边的区域称为相邻的）两个区域中各 $1$ 单位的“星”，使得它们分别向中心移动 $1$ 格。\n3. 每一次使用 2 中的方法驱动“星”，将会产生魔力，魔法使会得到这一部分魔力。魔力的量等于这个两个区域之间所间隔的区域数。\n\n这样，我们可以用一个 $N\\times M$ 的数表来表示星之器的状态，比如 $N=2,M=3$ 时：\n\n```plain\n2 0 1                                     1 2 0\n5 1 4                                     5 1 4\n```\n\n当星之器为左侧的状态时，通过操纵第一行的第 $1$ 和 $3$ 个区域中的“星”，变为右侧所示的状态，同时，将产生 $1$ 单位的魔力（因为这两个区域之间恰好隔了 $1$ 个区域）。\n\n在经过了进一步的研究之后，人们知道了这个星之器最初的状态（Ini）以及最终被他们得到时的状态（Fin）。\n\n你希望知道，星之器最多帮助它的拥有者提供了多少的魔力。即：经过一系列上述操作由初态（Ini）变为终态（Fin），至多产生多少魔力。\n\n需要注意的是，显然操作过程中每个区域内“星”的数量不能是负的，即：如果那个区域已经没有“星”了，当然就不能继续操作了。", "inputFormat": "第一行包含两个正整数 $N,M$ 表示星之器的大小。\n\n接下来的 $N$ 行，每行包含 $M$ 个自然数：$\\mathit{Ini}_{i,j}$，描绘了初态（Ini）。\n\n在一个空行后的 $N$ 行，每行包含 $M$ 个自然数：$\\mathit{Fin}_{i,j}$，描绘了终态（Fin）。", "outputFormat": "输出一个正整数，表示至多产生的魔力。", "hint": "对于 $100\\%$ 的数据，$1\\le N,M\\le200$，$\\mathit{Ini}_{i,j},\\mathit{Fin}_{i,j}\\le1000$。\n\n所有数据保证了至少存在一个操作方法使得星之器由初态变为终态，同时保证了初态与终态不是完全相同的。", "locale": "zh-CN", "translations": {"en": {"title": "Casket of Star", "background": "Another few centuries have passed in Magic Land.\n\nNow people speak of a legend: long ago, their ancestors reached an island in the East, a place like another world. The analytical and constructive people of Magic Land never understood how those people could drive and manipulate magic without precise experiments and calculations.", "description": "By chance, a magician came to Magic Land and, upon leaving, left behind a mysterious box called the Casket of Star.\n\nAlthough its purpose is unknown, after extensive experiments and calculations, people have learned some facts about it:\n\n1. Inside the Casket of Star there are $N\\times M$ regions, which can be viewed as a grid with $N$ rows and $M$ columns. Each region contains some integer number of objects called “stars.” Since the smallest unit has been determined, this quantity is always an integer.\n2. The magician can drive $1$ unit of “star” in each of two non-adjacent regions that lie in the same row or the same column (regions sharing a common edge are considered adjacent), making them each move $1$ cell toward the center.\n3. Each time the operation in 2 is used to drive the “stars,” magic power is generated, which the magician receives. The amount of magic power equals the number of regions lying strictly between those two regions.\n\nThus, we can represent a state of the Casket of Star by an $N\\times M$ table. For example, when $N=2, M=3$:\n\n```plain\n2 0 1                                     1 2 0\n5 1 4                                     5 1 4\n```\n\nWhen the Casket of Star is in the state on the left, by operating on the “stars” in the 1st and 3rd regions of the first row, it becomes the state on the right, while generating $1$ unit of magic power (because exactly $1$ region lies between those two regions).\n\nAfter further research, people have determined the initial state (Ini) and the final state (Fin) at the time they obtained it.\n\nYou want to know the maximum amount of magic power the Casket of Star could have provided its owner. That is, over a sequence of the above operations that transforms the initial state (Ini) into the final state (Fin), what is the maximum total magic power that can be generated?\n\nNote that, obviously, during the operations the number of “stars” in any region cannot become negative. If a region already has no “stars,” you cannot continue operating on it.", "inputFormat": "The first line contains two positive integers $N, M$, indicating the size of the Casket of Star.\n\nThe next $N$ lines each contain $M$ non-negative integers: $\\mathit{Ini}_{i,j}$, describing the initial state (Ini).\n\nAfter a blank line, the next $N$ lines each contain $M$ non-negative integers: $\\mathit{Fin}_{i,j}$, describing the final state (Fin).", "outputFormat": "Output a positive integer, the maximum total magic power that can be generated.", "hint": "For $100\\%$ of the testdata, $1\\le N, M\\le 200$, and $\\mathit{Ini}_{i,j}, \\mathit{Fin}_{i,j}\\le 1000$.\n\nAll testdata guarantee that there exists at least one sequence of operations transforming the Casket of Star from the initial state to the final state, and also guarantee that the initial and final states are not identical.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "星之器", "background": "Magic Land 上的时间又过了若干世纪…\n\n现在，人们谈论着一个传说：从前，他们的祖先来到了一个位于东方的岛屿，那里简直就是另外一个世界。善于分析与构造的 Magic Land 上的人们总是不明白那里的人们是如何不借助精确的实验与计算驱动和操纵魔法。", "description": "偶然地，一个魔法使（Magician）来到了 Magic Land，在临走的时候留下了一个神奇的盒子，叫做星之器（Casket of star）。\n\n虽然不知道这个盒子是做什么的，但是经过了大量的实验和计算后，人们已经清楚它的一些事实：\n\n1. 星之器之中有 $N\\times M$ 个区域，可看作分成 $N$ 行和 $M$ 列的格子，每个区域之中有若干单位的称为“星”的对象，这个对象的最小单位已经被确定，所以，这个数量总是整数。\n2. 魔法使可以驱动星之器中位于同一行或同一列的不相邻（有公共边的区域称为相邻的）两个区域中各 $1$ 单位的“星”，使得它们分别向中心移动 $1$ 格。\n3. 每一次使用 2 中的方法驱动“星”，将会产生魔力，魔法使会得到这一部分魔力。魔力的量等于这个两个区域之间所间隔的区域数。\n\n这样，我们可以用一个 $N\\times M$ 的数表来表示星之器的状态，比如 $N=2,M=3$ 时：\n\n```plain\n2 0 1                                     1 2 0\n5 1 4                                     5 1 4\n```\n\n当星之器为左侧的状态时，通过操纵第一行的第 $1$ 和 $3$ 个区域中的“星”，变为右侧所示的状态，同时，将产生 $1$ 单位的魔力（因为这两个区域之间恰好隔了 $1$ 个区域）。\n\n在经过了进一步的研究之后，人们知道了这个星之器最初的状态（Ini）以及最终被他们得到时的状态（Fin）。\n\n你希望知道，星之器最多帮助它的拥有者提供了多少的魔力。即：经过一系列上述操作由初态（Ini）变为终态（Fin），至多产生多少魔力。\n\n需要注意的是，显然操作过程中每个区域内“星”的数量不能是负的，即：如果那个区域已经没有“星”了，当然就不能继续操作了。", "inputFormat": "第一行包含两个正整数 $N,M$ 表示星之器的大小。\n\n接下来的 $N$ 行，每行包含 $M$ 个自然数：$\\mathit{Ini}_{i,j}$，描绘了初态（Ini）。\n\n在一个空行后的 $N$ 行，每行包含 $M$ 个自然数：$\\mathit{Fin}_{i,j}$，描绘了终态（Fin）。", "outputFormat": "输出一个正整数，表示至多产生的魔力。", "hint": "对于 $100\\%$ 的数据，$1\\le N,M\\le200$，$\\mathit{Ini}_{i,j},\\mathit{Fin}_{i,j}\\le1000$。\n\n所有数据保证了至少存在一个操作方法使得星之器由初态变为终态，同时保证了初态与终态不是完全相同的。", "locale": "zh-CN"}}}
{"pid": "P1862", "type": "P", "difficulty": 2, "samples": [["5\n1 2\n2 2\n1 3\n3 -2\n3 3", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "枚举", "排序"], "title": "输油管道问题", "background": "听说最近石油危机。\n\n所以想到了这题。\n", "description": "某石油公司计划建造一条由东向西的主要输油管道。\n\n该管道要穿过一个有 $n$ 口油井的油田。从每口油井都要有一条输油管道沿最短路径（或南或北）与主管道相连。\n\n如果给定 $n$ 口油井的位置，及它们的 $x$ 坐标（东西向）和 $y$ 坐标（南北向），应如何确定主管道的最优位置，即使各油井到主管道之间的输油管道长度总和最小的位置？证明可规定时间内确定主管道的最优位置。", "inputFormat": "第一行是油井数 $n$。\n\n接下来 $n$ 行是油井的位置，每行 $2$ 个整数 $x$ 和 $y$。", "outputFormat": "只有一行，表示油井到主管道之间的输油管道最小长度总和。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 10000$，$-10^4 \\le x,y \\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Oil Pipeline Problem", "background": "I heard there is an oil crisis recently. So I thought of this problem.", "description": "An oil company plans to build a main pipeline running from east to west.\n\nThe pipeline must pass through an oil field that has $n$ wells. From each well, a feeder pipeline must connect to the main pipeline along the shortest path (either north or south).\n\nGiven the positions of the $n$ wells, with their $x$ coordinates (east–west) and $y$ coordinates (north–south), determine the optimal position of the main pipeline so that the total length of the feeder pipelines from the wells to the main pipeline is minimized. Prove that the optimal position of the main pipeline can be determined within the time limit.", "inputFormat": "The first line contains the number of wells $n$.\n\nEach of the next $n$ lines contains the position of a well: two integers $x$ and $y$.", "outputFormat": "Output a single line with the minimum total length of the feeder pipelines from the wells to the main pipeline.", "hint": "Constraints\n\nFor all testdata, $1 \\le n \\le 10000$, $-10^4 \\le x, y \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "输油管道问题", "background": "听说最近石油危机。\n\n所以想到了这题。\n", "description": "某石油公司计划建造一条由东向西的主要输油管道。\n\n该管道要穿过一个有 $n$ 口油井的油田。从每口油井都要有一条输油管道沿最短路径（或南或北）与主管道相连。\n\n如果给定 $n$ 口油井的位置，及它们的 $x$ 坐标（东西向）和 $y$ 坐标（南北向），应如何确定主管道的最优位置，即使各油井到主管道之间的输油管道长度总和最小的位置？证明可规定时间内确定主管道的最优位置。", "inputFormat": "第一行是油井数 $n$。\n\n接下来 $n$ 行是油井的位置，每行 $2$ 个整数 $x$ 和 $y$。", "outputFormat": "只有一行，表示油井到主管道之间的输油管道最小长度总和。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 10000$，$-10^4 \\le x,y \\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1863", "type": "P", "difficulty": 5, "samples": [["10\n4 5\n9 8\n5 9\n1 7\n3 2\n6 3\n10 10\n8 1\n2 4\n7 6\n", "10 8 7 3 4 9 5 6 2 1 10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何", "NOI 导刊"], "title": "独眼兔", "background": "", "description": "太郎有一只特殊的兔子，它只有一只左眼，所以当它移动时是不能向右转弯的。一天，太郎跟独眼兔做一个游戏，太郎在平面内放了 $n$ 个萝卜，每个萝卜有个位置 $(x_i,y_i)$，且任意两个萝卜的 $x_i$，$y_i$ 都是不相同的，独眼兔要去吃这些萝卜。设萝卜 $A(x_i,y_i)$ 是所有萝卜中最小的，那独眼兔会从 $(0,y_i)$ 出发，走向萝卜 $A$，然后开始吃萝卜。当它吃完一个萝卜后，独眼兔会确定下一个萝卜作为目标，然后径直向萝卜走去，当然当它移动的时候是不能向右转弯的。独眼兔还有一个特点，它走过的路径上会留下特殊的气味，所以独眼兔不希望它将要走的路与前面它走过的路相交。太郎想知道独眼兔如何才能吃到最多的萝卜。", "inputFormat": "第一行是个整数 $n$；\n\n接下来 $n$ 行，每行两个整数。第 $i+1$ 行表示第 $i$ 号萝卜的位置 $(x_i,y_i)$。", "outputFormat": "一行，输出最多能吃到的萝卜数，后面输出吃萝卜的顺序。", "hint": "- $40\\%$ 的数据，$n\\le100$；\n- $100\\%$ 的数据，$n\\le1000$，$0\\lt x_i\\le10^4$，$0\\lt y_i\\le10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "One-Eyed Rabbit", "background": "", "description": "Taro has a special rabbit that has only a left eye, so when it moves it cannot make right turns. One day, Taro plays a game with the one-eyed rabbit. Taro places $n$ carrots on the plane, with each carrot at position $(x_i, y_i)$, and all $x_i$ are distinct and all $y_i$ are distinct. The rabbit is going to eat these carrots.\n\nLet carrot $A(x_i, y_i)$ be the carrot with the smallest $x$-coordinate among all carrots. Then the rabbit will start from $(0, y_i)$, head to carrot $A$, and then start eating carrots. After it finishes a carrot, the rabbit will choose the next carrot as its target and go straight to it; of course, while moving, it cannot make right turns. The rabbit also leaves a special smell along its path, so it does not want the path it is about to take to intersect the path it has already traveled. Taro wants to know how the rabbit can eat the maximum number of carrots.", "inputFormat": "The first line contains an integer $n$.\n\nThe next $n$ lines each contain two integers. The $(i+1)$-th line gives the position of carrot $i$, $(x_i, y_i)$.", "outputFormat": "Output one line: first output the maximum number of carrots the rabbit can eat, then output the order in which it eats the carrots (by carrot indices from $1$ to $n$, space-separated).", "hint": "- For 40% of the testdata, $n \\le 100$.\n- For 100% of the testdata, $n \\le 1000$, $0 < x_i \\le 10^4$, $0 < y_i \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "独眼兔", "background": "", "description": "太郎有一只特殊的兔子，它只有一只左眼，所以当它移动时是不能向右转弯的。一天，太郎跟独眼兔做一个游戏，太郎在平面内放了 $n$ 个萝卜，每个萝卜有个位置 $(x_i,y_i)$，且任意两个萝卜的 $x_i$，$y_i$ 都是不相同的，独眼兔要去吃这些萝卜。设萝卜 $A(x_i,y_i)$ 是所有萝卜中最小的，那独眼兔会从 $(0,y_i)$ 出发，走向萝卜 $A$，然后开始吃萝卜。当它吃完一个萝卜后，独眼兔会确定下一个萝卜作为目标，然后径直向萝卜走去，当然当它移动的时候是不能向右转弯的。独眼兔还有一个特点，它走过的路径上会留下特殊的气味，所以独眼兔不希望它将要走的路与前面它走过的路相交。太郎想知道独眼兔如何才能吃到最多的萝卜。", "inputFormat": "第一行是个整数 $n$；\n\n接下来 $n$ 行，每行两个整数。第 $i+1$ 行表示第 $i$ 号萝卜的位置 $(x_i,y_i)$。", "outputFormat": "一行，输出最多能吃到的萝卜数，后面输出吃萝卜的顺序。", "hint": "- $40\\%$ 的数据，$n\\le100$；\n- $100\\%$ 的数据，$n\\le1000$，$0\\lt x_i\\le10^4$，$0\\lt y_i\\le10^4$。", "locale": "zh-CN"}}}
{"pid": "P1864", "type": "P", "difficulty": 6, "samples": [["4 10\n1 2 3 4\n1 2 3 4\n1 2 3 4\n", "29"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2009", "NOI", "区间 DP"], "title": "[NOI2009] 二叉查找树", "background": "", "description": "已知一棵特殊的二叉查找树。根据定义，该二叉查找树中每个结点的数据值都比它左儿子结点的数据值大，而比它右儿子结点的数据值小。\n\n另一方面，这棵查找树中每个结点都有一个权值，每个结点的权值都比它的儿子结点的权值要小。\n\n已知树中所有结点的数据值各不相同；所有结点的权值也各不相同。这时可得出这样一个有趣的结论：如果能够确定树中每个结点的数据值和权值，那么树的形态便可以唯一确定。因为这样的一棵树可以看成是按照权值从小到大顺序插入结点所得到的、按照数据值排序的二叉查找树。\n\n一个结点在树中的深度定义为它到树根的距离加 $1$。因此树的根结点的深度为 $1$。\n\n每个结点除了数据值和权值以外，还有一个访问频度。我们定义一个结点在树中的访问代价为它的访问频度乘以它在树中的深度。整棵树的访问代价定义为所有结点在树中的访问代价之和。\n\n现在给定每个结点的数据值、权值和访问频度，你可以根据需要修改某些结点的权值，但每次修改你会付出 $K$ 的额外修改代价。你可以把结点的权值改为任何实数，但是修改后所有结点的权值必须仍保持互不相同。现在你要解决的问题是，整棵树的访问代价与额外修改代价的和最小是多少？", "inputFormat": "输入文件中的第一行为两个正整数 $N,K$。其中 $N$ 表示结点的个数，$K$ 表示每次修改所需的额外修改代价。\n\n接下来的一行为 $N$ 个非负整数，表示每个结点的数据值。\n\n再接下来的一行为 $N$ 个非负整数，表示每个结点的权值。\n\n再接下来的一行为 $N$ 个非负整数，表示每个结点的访问频度。\n\n其中：所有的数据值、权值、访问频度均不超过 $4 \\times 10^5$。", "outputFormat": "输出文件中仅一行为一个数，即你所能得到的整棵树的访问代价与额外修改代价之和的最小值。\n", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/10bjubxe.png)\n\n输入的原图是左图，它的访问代价是 $1 \\times 1+2 \\times 2+3 \\times 3+4 \\times 4=30$。\n\n最佳的修改方案是把输入中的第 $3$ 个结点的权值改成 $0$，得到右图，访问代价是：$1 \\times 2+2 \\times 3+3 \\times 1+4 \\times 2=19$，加上额外修改代价 $10$，一共是 $29$。\n\n### 数据范围\n\n- 对于 $40\\%$ 的数据，满足 $N \\leq 30$；\n- 对于 $70\\%$ 的数据，满足 $N \\leq 50$；\n- 对于 $100\\%$ 的数据，满足：$1 \\leq N \\leq 70$，$1 \\leq K \\leq 3 \\times 10^7$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Binary Search Tree", "background": "", "description": "You are given a special binary search tree (BST). By definition, in this BST the data value of each node is greater than the data value of its left child and less than the data value of its right child.\n\nOn the other hand, every node in this tree also has a weight, and the weight of each node is smaller than the weights of its children.\n\nAll data values in the tree are distinct, and all weights are also distinct. From this, we get an interesting conclusion: if the data value and the weight of every node are known, then the structure of the tree is uniquely determined. Equivalently, such a tree can be seen as the BST ordered by data values, obtained by inserting nodes in increasing order of weight.\n\nThe depth of a node in the tree is defined as its distance to the root plus $1$. Therefore, the depth of the root is $1$.\n\nBesides the data value and the weight, each node also has an access frequency. We define the access cost of a node to be its access frequency multiplied by its depth. The total access cost of the tree is the sum of the access costs of all nodes.\n\nNow you are given the data value, weight, and access frequency of every node. You may modify the weights of some nodes as needed, but each modification incurs an extra modification cost of $K$. You may change a node’s weight to any real number, but after all modifications the weights must remain pairwise distinct. Your task is to determine the minimum possible value of the sum of the total access cost of the tree and the extra modification cost.", "inputFormat": "The first line contains two positive integers $N, K$, where $N$ is the number of nodes and $K$ is the extra cost incurred by each modification.\n\nThe next line contains $N$ non-negative integers, the data values of the nodes.\n\nThe following line contains $N$ non-negative integers, the weights of the nodes.\n\nThe next line contains $N$ non-negative integers, the access frequencies of the nodes.\n\nAll data values, weights, and access frequencies do not exceed $4 \\times 10^5$.", "outputFormat": "Output a single line containing one number: the minimum possible sum of the total access cost and the extra modification cost.", "hint": "Sample explanation:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/10bjubxe.png)\n\nThe original tree from the input is shown on the left, and its access cost is $1 \\times 1 + 2 \\times 2 + 3 \\times 3 + 4 \\times 4 = 30$.\n\nThe optimal modification is to change the weight of the $3$rd node to $0$, yielding the tree on the right. Its access cost is $1 \\times 2 + 2 \\times 3 + 3 \\times 1 + 4 \\times 2 = 19$. Adding the extra modification cost $10$ gives a total of $29$.\n\nConstraints:\n- For $40\\%$ of the testdata, $N \\leq 30$.\n- For $70\\%$ of the testdata, $N \\leq 50$.\n- For $100\\%$ of the testdata, $1 \\leq N \\leq 70$, $1 \\leq K \\leq 3 \\times 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 二叉查找树", "background": "", "description": "已知一棵特殊的二叉查找树。根据定义，该二叉查找树中每个结点的数据值都比它左儿子结点的数据值大，而比它右儿子结点的数据值小。\n\n另一方面，这棵查找树中每个结点都有一个权值，每个结点的权值都比它的儿子结点的权值要小。\n\n已知树中所有结点的数据值各不相同；所有结点的权值也各不相同。这时可得出这样一个有趣的结论：如果能够确定树中每个结点的数据值和权值，那么树的形态便可以唯一确定。因为这样的一棵树可以看成是按照权值从小到大顺序插入结点所得到的、按照数据值排序的二叉查找树。\n\n一个结点在树中的深度定义为它到树根的距离加 $1$。因此树的根结点的深度为 $1$。\n\n每个结点除了数据值和权值以外，还有一个访问频度。我们定义一个结点在树中的访问代价为它的访问频度乘以它在树中的深度。整棵树的访问代价定义为所有结点在树中的访问代价之和。\n\n现在给定每个结点的数据值、权值和访问频度，你可以根据需要修改某些结点的权值，但每次修改你会付出 $K$ 的额外修改代价。你可以把结点的权值改为任何实数，但是修改后所有结点的权值必须仍保持互不相同。现在你要解决的问题是，整棵树的访问代价与额外修改代价的和最小是多少？", "inputFormat": "输入文件中的第一行为两个正整数 $N,K$。其中 $N$ 表示结点的个数，$K$ 表示每次修改所需的额外修改代价。\n\n接下来的一行为 $N$ 个非负整数，表示每个结点的数据值。\n\n再接下来的一行为 $N$ 个非负整数，表示每个结点的权值。\n\n再接下来的一行为 $N$ 个非负整数，表示每个结点的访问频度。\n\n其中：所有的数据值、权值、访问频度均不超过 $4 \\times 10^5$。", "outputFormat": "输出文件中仅一行为一个数，即你所能得到的整棵树的访问代价与额外修改代价之和的最小值。\n", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/10bjubxe.png)\n\n输入的原图是左图，它的访问代价是 $1 \\times 1+2 \\times 2+3 \\times 3+4 \\times 4=30$。\n\n最佳的修改方案是把输入中的第 $3$ 个结点的权值改成 $0$，得到右图，访问代价是：$1 \\times 2+2 \\times 3+3 \\times 1+4 \\times 2=19$，加上额外修改代价 $10$，一共是 $29$。\n\n### 数据范围\n\n- 对于 $40\\%$ 的数据，满足 $N \\leq 30$；\n- 对于 $70\\%$ 的数据，满足 $N \\leq 50$；\n- 对于 $100\\%$ 的数据，满足：$1 \\leq N \\leq 70$，$1 \\leq K \\leq 3 \\times 10^7$。\n", "locale": "zh-CN"}}}
{"pid": "P1865", "type": "P", "difficulty": 3, "samples": [["2 5\n1 3\n2 6", "2\nCrossing the line"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "洛谷原创", "素数判断,质数,筛法", "前缀和"], "title": "A % B Problem", "background": "题目名称是吸引你点进来的。    \n实际上该题还是很水的。", "description": "给定 $l, r$，求区间 $[l, r]$ 内质数的个数。", "inputFormat": "第一行有两个整数，分别代表询问次数 $n$ 和给定区间的右端点最大值 $m$。\n\n接下来 $n$ 行，每行两个整数 $l, r$，代表一次查询。", "outputFormat": "对于每次查询输出一行，若 $l, r \\in [1, m]$，则输出区间质数个数，否则输出 `Crossing the line`。", "hint": "#### 数据范围与约定\n\n- 对于 $20\\%$ 的数据，保证 $n,m\\le 10$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le1000$，$1\\le m\\le10^6$，$-10^9\\le l\\le r\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "A % B Problem", "background": "The title is just to get you to click. In fact, this problem is quite easy.", "description": "Given $l, r$, find the number of primes in the interval $[l, r]$.", "inputFormat": "The first line contains two integers, the number of queries $n$ and the maximum value of the right endpoint $m$.  \nThen follow $n$ lines, each with two integers $l, r$, representing one query.", "outputFormat": "For each query, output one line. If $l, r \\in [1, m]$, output the number of primes in the interval; otherwise, output `Crossing the line`.", "hint": "Constraints\n\n- For $20\\%$ of the testdata, $n, m \\le 10$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 1000$, $1 \\le m \\le 10^6$, $-10^9 \\le l \\le r \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "A % B Problem", "background": "题目名称是吸引你点进来的。    \n实际上该题还是很水的。", "description": "给定 $l, r$，求区间 $[l, r]$ 内质数的个数。", "inputFormat": "第一行有两个整数，分别代表询问次数 $n$ 和给定区间的右端点最大值 $m$。\n\n接下来 $n$ 行，每行两个整数 $l, r$，代表一次查询。", "outputFormat": "对于每次查询输出一行，若 $l, r \\in [1, m]$，则输出区间质数个数，否则输出 `Crossing the line`。", "hint": "#### 数据范围与约定\n\n- 对于 $20\\%$ 的数据，保证 $n,m\\le 10$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le1000$，$1\\le m\\le10^6$，$-10^9\\le l\\le r\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1866", "type": "P", "difficulty": 2, "samples": [["2\n5 8\n", "35"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "递推", "NOI 导刊", "排序"], "title": "编号", "background": "", "description": "太郎有 $N$ 只兔子，现在为了方便识别它们，太郎要给他们编号。兔子们向太郎表达了它们对号码的喜好，每个兔子 $i$ 想要一个整数，介于 $1$ 和 $M_i$ 之间（可以为 $1$ 或 $M_i$）。当然，每个兔子的编号是不同的。现在太郎想知道一共有多少种编号的方法。\n\n你只用输出答案对 $10^9+7$ 取余的结果即可。如果这是不可能的，就输出 $0$。", "inputFormat": "第一行是一个整数 $N$。\n\n第二行 $N$ 个整数 $M_i$。", "outputFormat": "一个整数，表示方案总数。", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 50$，$1\\le M_i\\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Numbering", "background": "", "description": "Taro has $N$ rabbits. To make them easier to identify, Taro will assign them numbers. The rabbits expressed their preferences: each rabbit $i$ wants an integer between $1$ and $M_i$ (it can be $1$ or $M_i$). Of course, the numbers assigned to different rabbits must be distinct. Now Taro wants to know how many ways there are to assign the numbers.\n\nYou only need to output the answer modulo $10^9+7$. If this is impossible, output $0$.", "inputFormat": "The first line contains an integer $N$.\nThe second line contains $N$ integers $M_i$.", "outputFormat": "Print a single integer, the total number of ways.", "hint": "Constraints\n\nFor all testdata, $1 \\le N \\le 50$, $1\\le M_i\\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "编号", "background": "", "description": "太郎有 $N$ 只兔子，现在为了方便识别它们，太郎要给他们编号。兔子们向太郎表达了它们对号码的喜好，每个兔子 $i$ 想要一个整数，介于 $1$ 和 $M_i$ 之间（可以为 $1$ 或 $M_i$）。当然，每个兔子的编号是不同的。现在太郎想知道一共有多少种编号的方法。\n\n你只用输出答案对 $10^9+7$ 取余的结果即可。如果这是不可能的，就输出 $0$。", "inputFormat": "第一行是一个整数 $N$。\n\n第二行 $N$ 个整数 $M_i$。", "outputFormat": "一个整数，表示方案总数。", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 50$，$1\\le M_i\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1867", "type": "P", "difficulty": 1, "samples": [["2\n5.5 15\n4.5 24\n", "4 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "【Mc生存】经验值", "background": "初一福利第2弹。。。\n", "description": "话说 clearman 在 MC 世界开了个祥艺奶牛场，用岩浆、TNT 等丧心病狂的折磨牛，获取牛肉、牛奶等刷经验。他想知道他到底达到什么层次。\n\n他总共进行了 $n$ 项操作，每次操作要付出 $x$ 生命值（初始生命是 $10$ 点，初一党都知道！并且要先计算付出的生命值，如果小于等于 $0$，则死亡，本次及以下操作都无效。但切记：付出生命值可以是负数，也就是说可以回复 $−x$ 点生命值，但上限只能是 $10$！切记！），每次操作可以获得 $a$ 经验值（不能为负），他最后能达到 $m$ 级 $t$ 经验。\n\nP.S. 关于等级\n\n初始等级为 $0$。每加 $2^m$（$m$ 为当前等级）点经验可升一级。  \n\n1、假设 clearman 一共得到 $15$ 点经验，那么他应该为 $4$ 级（ $15-1-2-4-8=0$）加 $0$ 点经验。    \n2、假设 clearman 一共获得 $39$ 点经验，那么他应该为 $5$ 级（ $39-1-2-4-8-16=8$）加 $8$ 点经验。\n", "inputFormat": "第一行一个正整数 $n$，表示操作个数。\n\n接下来 $n$ 行，每行两个数，为 clearman 的一次操作。\n", "outputFormat": "一行，为等级和经验值。\n", "hint": "数据很弱，人肉输的，但是很坑。。。\n\n【数据范围】  \n对于 $100\\%$ 的数据，$1\\le n \\le 20$。", "locale": "zh-CN", "translations": {"en": {"title": "【MC Survival】Experience Points", "background": "Seventh-grade benefit, round 2.", "description": "It is said that clearman opened a Xiangyi cattle ranch in the MC world, using lava, TNT, and other brutal methods to torment cows, farming beef, milk, and experience. He wants to know what level he ultimately reaches.\n\nHe performs a total of $n$ operations. Each operation costs $x$ HP (initial HP is 10; calculate the HP cost first—if HP becomes less than or equal to 0, he dies, and this operation and all subsequent operations are invalid. Note: the HP cost $x$ can be negative, meaning he restores $-x$ HP, but HP is capped at 10). Each operation grants $a$ experience points (cannot be negative). In the end, he will be at level $m$ with $t$ experience.\n\nP.S. About levels:\n\n- The initial level is $0$. Every additional $2^m$ (where $m$ is the current level) experience points increases the level by 1.\n- Example 1: If clearman gains a total of $15$ experience points, then he should be level $4$ with $0$ experience left ($15 - 1 - 2 - 4 - 8 = 0$).\n- Example 2: If clearman gains a total of $39$ experience points, then he should be level $5$ with $8$ experience left ($39 - 1 - 2 - 4 - 8 - 16 = 8$).\n\n# Description", "inputFormat": "The first line contains a positive integer $n$, the number of operations.\n\nThe next $n$ lines each contain two integers $x$ and $a$, representing one operation of clearman.", "outputFormat": "Output one line with two integers: the final level $m$ and the remaining experience $t$ toward the next level, separated by a space.", "hint": "The testdata is very weak and can be solved by hand, but it is tricky.\n\nConstraints  \nFor $100\\%$ of the testdata, $1 \\le n \\le 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【Mc生存】经验值", "background": "初一福利第2弹。。。\n", "description": "话说 clearman 在 MC 世界开了个祥艺奶牛场，用岩浆、TNT 等丧心病狂的折磨牛，获取牛肉、牛奶等刷经验。他想知道他到底达到什么层次。\n\n他总共进行了 $n$ 项操作，每次操作要付出 $x$ 生命值（初始生命是 $10$ 点，初一党都知道！并且要先计算付出的生命值，如果小于等于 $0$，则死亡，本次及以下操作都无效。但切记：付出生命值可以是负数，也就是说可以回复 $−x$ 点生命值，但上限只能是 $10$！切记！），每次操作可以获得 $a$ 经验值（不能为负），他最后能达到 $m$ 级 $t$ 经验。\n\nP.S. 关于等级\n\n初始等级为 $0$。每加 $2^m$（$m$ 为当前等级）点经验可升一级。  \n\n1、假设 clearman 一共得到 $15$ 点经验，那么他应该为 $4$ 级（ $15-1-2-4-8=0$）加 $0$ 点经验。    \n2、假设 clearman 一共获得 $39$ 点经验，那么他应该为 $5$ 级（ $39-1-2-4-8-16=8$）加 $8$ 点经验。\n", "inputFormat": "第一行一个正整数 $n$，表示操作个数。\n\n接下来 $n$ 行，每行两个数，为 clearman 的一次操作。\n", "outputFormat": "一行，为等级和经验值。\n", "hint": "数据很弱，人肉输的，但是很坑。。。\n\n【数据范围】  \n对于 $100\\%$ 的数据，$1\\le n \\le 20$。", "locale": "zh-CN"}}}
{"pid": "P1868", "type": "P", "difficulty": 4, "samples": [["3\n1 3\n7 8\n3 4", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "线性数据结构", "二分"], "title": "饥饿的奶牛", "background": "", "description": "有一条奶牛冲出了围栏，来到了一处圣地（对于奶牛来说），上面用牛语写着一段文字。\n\n现用汉语翻译为：\n\n有 $N$ 个区间，每个区间 $x,y$ 表示提供的 $x\\sim y$ 共 $y-x+1$ 堆优质牧草。你可以选择任意区间但不能有重复的部分。\n\n对于奶牛来说，自然是吃的越多越好，然而奶牛智商有限，现在请你帮助他。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行两个数 $x,y$，描述一个区间。", "outputFormat": "输出最多能吃到的牧草堆数。", "hint": "$1 \\leq n \\leq 1.5 \\times 10^5$，$0 \\leq x \\leq y \\leq 3 \\times 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Hungry Cow", "background": "", "description": "A cow broke through the fence and reached a sanctuary (for cows), where a message was written in the cow language.\n\nTranslated, it says:\n\nThere are $N$ intervals. Each interval $x,y$ provides $x \\sim y$, a total of $y-x+1$ piles of premium pasture. You may choose any intervals, but they must not overlap.\n\nFor the cow, the more it eats, the better. However, the cow is not very smart, so please help it.", "inputFormat": "The first line contains an integer $N$.\n\nThe next $N$ lines each contain two numbers $x,y$, describing an interval.", "outputFormat": "Output the maximum number of pasture piles the cow can eat.", "hint": "$1 \\leq n \\leq 1.5 \\times 10^5$，$0 \\leq x \\leq y \\leq 3 \\times 10^6$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "饥饿的奶牛", "background": "", "description": "有一条奶牛冲出了围栏，来到了一处圣地（对于奶牛来说），上面用牛语写着一段文字。\n\n现用汉语翻译为：\n\n有 $N$ 个区间，每个区间 $x,y$ 表示提供的 $x\\sim y$ 共 $y-x+1$ 堆优质牧草。你可以选择任意区间但不能有重复的部分。\n\n对于奶牛来说，自然是吃的越多越好，然而奶牛智商有限，现在请你帮助他。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行两个数 $x,y$，描述一个区间。", "outputFormat": "输出最多能吃到的牧草堆数。", "hint": "$1 \\leq n \\leq 1.5 \\times 10^5$，$0 \\leq x \\leq y \\leq 3 \\times 10^6$。", "locale": "zh-CN"}}}
{"pid": "P1869", "type": "P", "difficulty": 3, "samples": [["3\n1 1\n1 0\n2 1", "1\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "愚蠢的组合数", "background": null, "description": "最近老师教了狗狗怎么算组合数，狗狗又想到了一个问题。。。\n\n狗狗定义 $C(N,K)$ 表示从 $N$ 个元素中不重复地选取 $K$ 个元素的方案数。\n\n狗狗想知道的是 $C(N,K)$ 的奇偶性。\n\n当然，这个整天都老是用竖式算 $123456789 \\times 987654321=?$ 的人不会让你那么让自己那么轻松，它说：“ $N$ 和 $K$ 都可能相当大”。\n\n但是狗狗也犯难了，所以它就找到了你，想请你帮他解决这个问题。", "inputFormat": "第一行一个正整数 $t$，表示数据的组数。\n\n第 $2$ 至第 $2+t-1$ 行，每行有两个非负整数 $N$ 和 $K$，描述每组数据。数据保证 $K\\le N$。", "outputFormat": "每一组输入，如果 $C(N,K)$ 是奇数则输出 $1$，否则输出 $0$。", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，$1\\le t\\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Silly Binomial Coefficient", "background": "", "description": "Recently the teacher taught Doggy how to compute combinations, and Doggy came up with another problem...\n\nDoggy defines $C(N,K)$ as the number of ways to choose $K$ elements from $N$ elements without repetition.\n\nDoggy wants to know the parity of $C(N,K)$.\n\nOf course, the person who is always using long multiplication to compute $123456789 \\times 987654321=?$ all day won’t let you off easy. They say: “$N$ and $K$ can be quite large.”\n\nBut Doggy is also stumped, so it comes to you for help to solve this problem.", "inputFormat": "The first line contains a positive integer $t$, the number of test cases.\n\nLines $2$ through $2+t-1$ each contain two non-negative integers $N$ and $K$, describing each test case. The input guarantees $k\\le n$.", "outputFormat": "For each test case, output $1$ if $C(N,K)$ is odd; otherwise output $0$.", "hint": "Constraints\n\nFor $100\\%$ of the testdata, $1\\le n\\le 10^5$, $1\\le t\\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "愚蠢的组合数", "background": null, "description": "最近老师教了狗狗怎么算组合数，狗狗又想到了一个问题。。。\n\n狗狗定义 $C(N,K)$ 表示从 $N$ 个元素中不重复地选取 $K$ 个元素的方案数。\n\n狗狗想知道的是 $C(N,K)$ 的奇偶性。\n\n当然，这个整天都老是用竖式算 $123456789 \\times 987654321=?$ 的人不会让你那么让自己那么轻松，它说：“ $N$ 和 $K$ 都可能相当大”。\n\n但是狗狗也犯难了，所以它就找到了你，想请你帮他解决这个问题。", "inputFormat": "第一行一个正整数 $t$，表示数据的组数。\n\n第 $2$ 至第 $2+t-1$ 行，每行有两个非负整数 $N$ 和 $K$，描述每组数据。数据保证 $K\\le N$。", "outputFormat": "每一组输入，如果 $C(N,K)$ 是奇数则输出 $1$，否则输出 $0$。", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，$1\\le t\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1870", "type": "P", "difficulty": 2, "samples": [["3 10 10000\r\n0 10\r\n5 11\r\n1000 1\r\n", "1000.5000\r\n1000.5000\r\n11000.0500\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "公交车", "background": "", "description": "某城市有个能容纳 $n$ 辆公交车的停车场。每一天，这些公交车都要依次有序离开停车库去另一个终点站。这终点站距离停车场有 $d$ 米的路程。当然第 $i$ 辆公交车离开停车场的时间是 $t_i$ 秒，并以最大速度不超过 $v_i$ 米/秒行驶，加速度最大值为 $a$。一辆公交车能瞬间减速，也能瞬间改变它的加速度。当然每辆车的最大加速度都一样为 $a$。\n\n不管有多大的马力，一辆公交车都不能超过其他另外的公交车，如果一辆公交车追上另一辆公交车，那么后面追上的车跟前面被追的车一起并排行驶同时到达终点站。当然司机都是尽可能快的驾车到达终点站的。\n\n作为公交公司老板的你，希望每辆公交车都尽可能快的到达终点站。当然，公交车到达终点站时，速度可以没必要达到 $0$。当一辆公交车离开停车场时，它的起始速度等于 $0$。通过物理的观点解释的话，公交车可以看成是抽象的一个物体而已，除了能加速和减速，其他对速度的影响都可以忽略掉。", "inputFormat": "第一行三个空格隔开的整数 $n, a, d$（$1 \\leq n \\leq 10^5$，$1 \\leq a, d \\leq 10^6$），分别表示公交车的数量，最大加速度。离终点站的距离。\n\n接下来 $n$ 行，每行有一对整数 $t_i, v_i$（$0 \\leq t_1 < t_2 < \\cdots < t_{n-1} < tn \\leq 10^6$，$1 \\leq v_i \\leq 10^6$），分别表示每辆车离开停车场的时刻和能够行驶的最大速度。", "outputFormat": "输出每辆公交车到达终点站的时刻。一行表示一辆公交车的到达时刻，输出时刻的公交车顺序按照输入的公交车顺序。输出答案的相对或绝对误差不能超过 $10^{-4}$（即末尾保留 $4$ 位小数）。", "hint": "【样例解释】\n\n第二辆公交车能追上第一辆公交车，在行驶到距离终点 $510.5$ 公里处。然后还剩 $9489.5$ 公里的路程，两辆车都以 $10$ km/h 的速度，一起到达终点的，它们到达终点的时刻是 $1000.5$ 秒，第三辆公交车不能赶上其他的公交车，他到达终点的时刻是 $11000.05$ 秒。", "locale": "zh-CN", "translations": {"en": {"title": "Bus", "background": "", "description": "A city has a parking lot that can hold $n$ buses. Each day, these buses leave the depot in order and head to a terminal that is $d$ meters away. The $i$-th bus leaves the parking lot at time $t_i$ seconds, travels with a maximum speed no greater than $v_i$ meters per second, and has a maximum acceleration of $a$. A bus can decelerate instantaneously and can change its acceleration instantaneously. The maximum acceleration is the same for every bus and equals $a$.\n\nNo matter how powerful a bus is, it may not overtake any other bus. If a bus catches up with another, the rear bus and the front bus travel side by side together and reach the terminal at the same time. Drivers always try to reach the terminal as fast as possible.\n\nAs the bus company owner, you want every bus to reach the terminal as quickly as possible. It is not required that the bus speed be $0$ upon arrival at the terminal. When a bus leaves the parking lot, its initial speed is $0$. From a physics perspective, treat a bus as an abstract point-like object; apart from being able to accelerate and decelerate, all other effects on speed can be ignored.", "inputFormat": "The first line contains three space-separated integers $n, a, d$ ($1 \\leq n \\leq 10^5$, $1 \\leq a, d \\leq 10^6$), denoting the number of buses, the maximum acceleration, and the distance to the terminal, respectively.\n\nThe next $n$ lines each contain a pair of integers $t_i, v_i$ ($0 \\leq t_1 < t_2 < \\cdots < t_{n-1} < t_n \\leq 10^6$, $1 \\leq v_i \\leq 10^6$), denoting the departure time of each bus and its maximum possible speed, respectively.", "outputFormat": "Output the arrival time at the terminal for each bus. Print one bus’s arrival time per line, in the same order as the input. The relative or absolute error of each answer must not exceed $10^{-4}$ (i.e., keep 4 decimal places at the end).", "hint": "[Sample explanation]\n\nThe second bus can catch up with the first bus at a point $510.5$ kilometers from the terminal. Then there are $9489.5$ kilometers remaining, and both buses travel together at $10$ km/h to reach the terminal at time $1000.5$ seconds. The third bus cannot catch up with any other bus, and its arrival time is $11000.05$ seconds.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "公交车", "background": "", "description": "某城市有个能容纳 $n$ 辆公交车的停车场。每一天，这些公交车都要依次有序离开停车库去另一个终点站。这终点站距离停车场有 $d$ 米的路程。当然第 $i$ 辆公交车离开停车场的时间是 $t_i$ 秒，并以最大速度不超过 $v_i$ 米/秒行驶，加速度最大值为 $a$。一辆公交车能瞬间减速，也能瞬间改变它的加速度。当然每辆车的最大加速度都一样为 $a$。\n\n不管有多大的马力，一辆公交车都不能超过其他另外的公交车，如果一辆公交车追上另一辆公交车，那么后面追上的车跟前面被追的车一起并排行驶同时到达终点站。当然司机都是尽可能快的驾车到达终点站的。\n\n作为公交公司老板的你，希望每辆公交车都尽可能快的到达终点站。当然，公交车到达终点站时，速度可以没必要达到 $0$。当一辆公交车离开停车场时，它的起始速度等于 $0$。通过物理的观点解释的话，公交车可以看成是抽象的一个物体而已，除了能加速和减速，其他对速度的影响都可以忽略掉。", "inputFormat": "第一行三个空格隔开的整数 $n, a, d$（$1 \\leq n \\leq 10^5$，$1 \\leq a, d \\leq 10^6$），分别表示公交车的数量，最大加速度。离终点站的距离。\n\n接下来 $n$ 行，每行有一对整数 $t_i, v_i$（$0 \\leq t_1 < t_2 < \\cdots < t_{n-1} < tn \\leq 10^6$，$1 \\leq v_i \\leq 10^6$），分别表示每辆车离开停车场的时刻和能够行驶的最大速度。", "outputFormat": "输出每辆公交车到达终点站的时刻。一行表示一辆公交车的到达时刻，输出时刻的公交车顺序按照输入的公交车顺序。输出答案的相对或绝对误差不能超过 $10^{-4}$（即末尾保留 $4$ 位小数）。", "hint": "【样例解释】\n\n第二辆公交车能追上第一辆公交车，在行驶到距离终点 $510.5$ 公里处。然后还剩 $9489.5$ 公里的路程，两辆车都以 $10$ km/h 的速度，一起到达终点的，它们到达终点的时刻是 $1000.5$ 秒，第三辆公交车不能赶上其他的公交车，他到达终点的时刻是 $11000.05$ 秒。", "locale": "zh-CN"}}}
{"pid": "P1871", "type": "P", "difficulty": 3, "samples": [["10 10 \n+ 6\n+ 10\n+ 5\n- 10\n- 5\n- 6\n+ 10 \n+ 3\n+ 6\n+ 3\n", "Success\nConflict with 6\nSuccess\nAlready off\nSuccess\nSuccess\nSuccess\nSuccess\nConflict with 3\nAlready on\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "素数判断,质数,筛法"], "title": "对撞机", "background": null, "description": "在 2312 年，宇宙中发现了 $n$ 台巨型对撞机，这些对撞机分别用 $1 \\sim n$ 的自然数标识。科学家们不知道启动这些对撞机会发生什么危险事故，所以这些机器，刚开始都是出于关闭的状态。\n\n随着科学家们的研究发现，第 $i$ 台对撞机启动是安全的，当且仅当其他已经启动的对撞机的标识数都跟这台对撞机标识数互质。（例如假设前面启动的对撞机标识数是 $j$，如果 $i$ 能启动，那么 $i,j$ 互质，即 $\\gcd(i,j) = 1$）。如果两台对撞机的标识数不为互质数就启动，那么就会发生爆炸事故。\n\n基于前面的研究，科学家们准备做各种启动和关闭对撞机的实验。为了确保科学家们的生命安全，你要设计一个远程遥控的软件。\n\n刚开始，所有的对撞机都是关闭状态。你的程序将会收到许多询问，格式为“启动、关闭第 $i$ 台对撞机”。这个程序应该能处理这些询问（根据收到询问的先后顺序处理）。程序按照如下的格式输出处理结果。\n\n如果询问为 `+ i`（表示启动第 $i$ 台对撞机），程序应该按照下面三种情况之一输出结果。\n\n- `Success`，表示启动第 $i$ 台是安全的。\n- `Already on`，表示第 $i$ 台在询问之前就已经启动了。\n- `Conflict with j`，表示第 $i$ 台与前面已经启动的第 $j$ 台冲突。如果前面有多台对撞机跟 $i$ 冲突，那么只输出其中任何一台即可。\n\n如果询问为 `- i`（表示关闭第 $i$ 台对撞机），程序应该按照下面两种情况之一输出结果。\n\n- `Success`，表示关闭第 $i$ 台对撞机。\n- `Already off`，表示第 $i$ 台对撞机在询问之前就已经关闭了。", "inputFormat": "第一行输入两个以空格隔开的整数 $n$ 和 $m$，分别表示对撞机的数量和询问数。\n\n接下来 $m$ 行，表示询问，每行仅可能是 `+ i` 或 `- i`，表示开启或关闭第 $i$ 台对撞机。", "outputFormat": "输出 $m$ 行，输出结果按照上面题目给定格式输出。", "hint": "**数据范围**\n\n$1 \\le n,m \\le 10^5$，$1 \\le i \\le n$。\n\n---\n\n感谢 @cn：苏卿念 提供 Special Judge", "locale": "zh-CN", "translations": {"en": {"title": "Collider", "background": "", "description": "In the year 2312, $n$ giant colliders were discovered in the universe, labeled by the natural numbers $1 \\sim n$. Scientists do not know what dangerous accidents might occur when these colliders are turned on, so at the beginning all the machines are in the off state.\n\nThrough research, scientists found that turning on collider $i$ is safe if and only if the labels of all colliders that are already on are coprime with the label of collider $i$. (For example, suppose a previously turned on collider has label $j$, then if $i$ can be turned on, $i$ and $j$ are coprime, that is, $\\gcd(i,j) = 1$.) If two colliders with labels that are not coprime are turned on, an explosion will occur.\n\nBased on the above, scientists plan to run various experiments of turning colliders on and off. To ensure their safety, you need to design remote-control software.\n\nInitially, all colliders are off. Your program will receive many queries of the form “turn on or turn off collider $i$.” The program should process these queries in the order they are received and output results in the following format.\n\nIf a query is `+ i` (turn on collider $i$), the program should output exactly one of the following:\n\n- `Success`, meaning that turning on collider $i$ is safe.\n- `Already on`, meaning collider $i$ was already on before this query.\n- `Conflict with j`, meaning collider $i$ conflicts with some collider $j$ that is already on. If multiple colliders conflict with $i$, output any one of them.\n\nIf a query is `- i` (turn off collider $i$), the program should output exactly one of the following:\n\n- `Success`, meaning collider $i$ has been turned off.\n- `Already off`, meaning collider $i$ was already off before this query.", "inputFormat": "The first line contains two space-separated integers $n$ and $m$, the number of colliders and the number of queries.\n\nThe next $m$ lines are the queries. Each line is either `+ i` or `- i`, meaning to turn on or turn off collider $i$.", "outputFormat": "Output $m$ lines. For each query, output the result in the format specified above.", "hint": "Constraints\n\n$1 \\le n,m \\le 10^5$, $1 \\le i \\le n$.\n\n---\n\nThanks to @cn: 苏卿念 for providing the Special Judge.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "对撞机", "background": null, "description": "在 2312 年，宇宙中发现了 $n$ 台巨型对撞机，这些对撞机分别用 $1 \\sim n$ 的自然数标识。科学家们不知道启动这些对撞机会发生什么危险事故，所以这些机器，刚开始都是出于关闭的状态。\n\n随着科学家们的研究发现，第 $i$ 台对撞机启动是安全的，当且仅当其他已经启动的对撞机的标识数都跟这台对撞机标识数互质。（例如假设前面启动的对撞机标识数是 $j$，如果 $i$ 能启动，那么 $i,j$ 互质，即 $\\gcd(i,j) = 1$）。如果两台对撞机的标识数不为互质数就启动，那么就会发生爆炸事故。\n\n基于前面的研究，科学家们准备做各种启动和关闭对撞机的实验。为了确保科学家们的生命安全，你要设计一个远程遥控的软件。\n\n刚开始，所有的对撞机都是关闭状态。你的程序将会收到许多询问，格式为“启动、关闭第 $i$ 台对撞机”。这个程序应该能处理这些询问（根据收到询问的先后顺序处理）。程序按照如下的格式输出处理结果。\n\n如果询问为 `+ i`（表示启动第 $i$ 台对撞机），程序应该按照下面三种情况之一输出结果。\n\n- `Success`，表示启动第 $i$ 台是安全的。\n- `Already on`，表示第 $i$ 台在询问之前就已经启动了。\n- `Conflict with j`，表示第 $i$ 台与前面已经启动的第 $j$ 台冲突。如果前面有多台对撞机跟 $i$ 冲突，那么只输出其中任何一台即可。\n\n如果询问为 `- i`（表示关闭第 $i$ 台对撞机），程序应该按照下面两种情况之一输出结果。\n\n- `Success`，表示关闭第 $i$ 台对撞机。\n- `Already off`，表示第 $i$ 台对撞机在询问之前就已经关闭了。", "inputFormat": "第一行输入两个以空格隔开的整数 $n$ 和 $m$，分别表示对撞机的数量和询问数。\n\n接下来 $m$ 行，表示询问，每行仅可能是 `+ i` 或 `- i`，表示开启或关闭第 $i$ 台对撞机。", "outputFormat": "输出 $m$ 行，输出结果按照上面题目给定格式输出。", "hint": "**数据范围**\n\n$1 \\le n,m \\le 10^5$，$1 \\le i \\le n$。\n\n---\n\n感谢 @cn：苏卿念 提供 Special Judge", "locale": "zh-CN"}}}
{"pid": "P1872", "type": "P", "difficulty": 4, "samples": [["aaa", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": [], "title": "回文串计数", "background": null, "description": "小 $a$ 虽然是一名理科生，但他常常称自己是一名真正的文科生。不知为何，他对于背诵总有一种莫名其妙的热爱，这也促使他走向了以记忆量大而闻名的生物竞赛。然而，他很快发现这并不能满足他热爱背诵的心，但是作为一名强大的 OIER，他找到了这么一个方法——背诵基因序列。然而这实在是太困难了，小 $a$ 感觉有些招架不住。\n\n不过他发现，如果他能事先知道这个序列里有多少对互不相交的回文串，他或许可以找到记忆的妙法。为了进一步验证这个想法，小 $a$ 决定选取一个由小写字母构成的字符串 $SS$ 来实验。由于互不相关的回文串实在过多，他很快就数晕了。不过他相信，在你的面前这个问题不过是小菜一碟。\n\n1. 对于字符串 $SS$，设其长度为 Len，那么下文用 $S_i$ 表示 $SS$ 中第 $i$ 个字符（$1 \\le i \\le Le_n$）。\n\n2. $S[i,j]$ 表示 $SS$ 的一个子串，$S[i,j]=S_i S_{i+1}S_{i+2} \\cdots S_{j-2}S_{j-1}S_{j}$，比如当 $SS$ 为 `abcgfd` 时，$S[2,5]$ 就是 `bcgf`，$S[1,5]$ 是 `abcgf`。\n\n3. 当一个串被称为一个回文串当且仅当将这个串反写后与原串相同，如`abcba`。\n\n4. 考虑一个四元组 $(l,r,L,R)$，当 $S[l,r]$ 和 $S[L,R]$ 均为回文串时，且满足 $1 \\le l \\le r<L \\le R \\le \\text{Len}$ 时，我们称 $S[l,r]$ 和 $S[L,R]$ 为一对互不相交的回文串。即本题所求，也即为这种四元组的个数。两个四元组相同当且仅当对应的 $l,r,L,R$ 都相同。", "inputFormat": "输入仅一行，为字符串 $SS$，保证全部由小写字母构成，由换行符标志结束。\n\n$50$ ％的数据满足 $SS$ 的长度不超过 $200$；\n\n$100$ ％的数据满足 $SS$ 的长度不超过 $2000$。", "outputFormat": "仅一行，为一个整数，表示互不相关的回文串的对数。", "hint": "【样例数据说明】\n\nSS=\"aaa\"，SS 的任意一个字符串均为回文串，其中总计有 5 对互不相关的回文串：\n\n(1,1,2,2)，(1,1,2,3)，(1,1,3,3)，(1,2,3,3)，(2,2,3,3)。", "locale": "zh-CN", "translations": {"en": {"title": "Palindromic Substring Pair Count", "background": "", "description": "Although little $a$ is a science student, he often calls himself a true liberal arts student. For some reason, he has a strange love for recitation, which also led him to the biology contest, known for its heavy memorization. However, he soon found that this still could not satisfy his passion for reciting, but as a strong OIER, he found a method—reciting gene sequences. Yet this is too hard, and little $a$ felt overwhelmed.\n\nHe found that if he could know in advance how many pairs of disjoint palindromic substrings there are in the sequence, he might discover a trick for memorization. To further test this idea, little $a$ decided to choose a string $SS$ consisting of lowercase letters for experimentation. Since there were too many disjoint palindromic substrings, he quickly got dizzy counting them. But he believes this problem is a piece of cake for you.\n\n1. For the string $SS$, let its length be $\\text{Len}$. We use $S_i$ to denote the $i$-th character of $SS$ ($1 \\le i \\le \\text{Len}$).\n\n2. $S[i,j]$ denotes a substring of $SS$, where $S[i,j] = S_i S_{i+1} S_{i+2} \\cdots S_{j-2} S_{j-1} S_{j}$. For example, when $SS$ is `abcgfd`, $S[2,5]$ is `bcgf`, and $S[1,5]$ is `abcgf`.\n\n3. A string is called a palindrome if and only if the string is the same when reversed, such as `abcba`.\n\n4. Consider a quadruple $(l,r,L,R)$. If both $S[l,r]$ and $S[L,R]$ are palindromes, and $1 \\le l \\le r < L \\le R \\le \\text{Len}$ holds, then we call $S[l,r]$ and $S[L,R]$ a pair of disjoint palindromic substrings. This problem asks for the number of such quadruples. Two quadruples are the same if and only if the corresponding $l,r,L,R$ are all the same.", "inputFormat": "The input consists of a single line: the string $SS$, guaranteed to contain only lowercase letters, ending with a newline.\n\n50% of the testdata satisfies that the length of $SS$ does not exceed $200$;\n100% of the testdata satisfies that the length of $SS$ does not exceed $2000$.", "outputFormat": "Output a single line containing one integer: the number of pairs of disjoint palindromic substrings.", "hint": "[Sample explanation]\n\nWhen $SS = \\text{\"aaa\"}$, every substring of $SS$ is a palindrome. There are 5 pairs of disjoint palindromic substrings in total:\n$(1,1,2,2)$, $(1,1,2,3)$, $(1,1,3,3)$, $(1,2,3,3)$, $(2,2,3,3)$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "回文串计数", "background": null, "description": "小 $a$ 虽然是一名理科生，但他常常称自己是一名真正的文科生。不知为何，他对于背诵总有一种莫名其妙的热爱，这也促使他走向了以记忆量大而闻名的生物竞赛。然而，他很快发现这并不能满足他热爱背诵的心，但是作为一名强大的 OIER，他找到了这么一个方法——背诵基因序列。然而这实在是太困难了，小 $a$ 感觉有些招架不住。\n\n不过他发现，如果他能事先知道这个序列里有多少对互不相交的回文串，他或许可以找到记忆的妙法。为了进一步验证这个想法，小 $a$ 决定选取一个由小写字母构成的字符串 $SS$ 来实验。由于互不相关的回文串实在过多，他很快就数晕了。不过他相信，在你的面前这个问题不过是小菜一碟。\n\n1. 对于字符串 $SS$，设其长度为 Len，那么下文用 $S_i$ 表示 $SS$ 中第 $i$ 个字符（$1 \\le i \\le Le_n$）。\n\n2. $S[i,j]$ 表示 $SS$ 的一个子串，$S[i,j]=S_i S_{i+1}S_{i+2} \\cdots S_{j-2}S_{j-1}S_{j}$，比如当 $SS$ 为 `abcgfd` 时，$S[2,5]$ 就是 `bcgf`，$S[1,5]$ 是 `abcgf`。\n\n3. 当一个串被称为一个回文串当且仅当将这个串反写后与原串相同，如`abcba`。\n\n4. 考虑一个四元组 $(l,r,L,R)$，当 $S[l,r]$ 和 $S[L,R]$ 均为回文串时，且满足 $1 \\le l \\le r<L \\le R \\le \\text{Len}$ 时，我们称 $S[l,r]$ 和 $S[L,R]$ 为一对互不相交的回文串。即本题所求，也即为这种四元组的个数。两个四元组相同当且仅当对应的 $l,r,L,R$ 都相同。", "inputFormat": "输入仅一行，为字符串 $SS$，保证全部由小写字母构成，由换行符标志结束。\n\n$50$ ％的数据满足 $SS$ 的长度不超过 $200$；\n\n$100$ ％的数据满足 $SS$ 的长度不超过 $2000$。", "outputFormat": "仅一行，为一个整数，表示互不相关的回文串的对数。", "hint": "【样例数据说明】\n\nSS=\"aaa\"，SS 的任意一个字符串均为回文串，其中总计有 5 对互不相关的回文串：\n\n(1,1,2,2)，(1,1,2,3)，(1,1,3,3)，(1,2,3,3)，(2,2,3,3)。", "locale": "zh-CN"}}}
{"pid": "P1873", "type": "P", "difficulty": 2, "samples": [["4 7\n20 15 10 17", "15"], ["5 20\n4 42 40 26 46", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "二分", "COCI（克罗地亚）"], "title": "[COCI 2011/2012 #5] EKO / 砍树", "background": "", "description": "伐木工人 Mirko 需要砍 $M$ 米长的木材。对 Mirko 来说这是很简单的工作，因为他有一个漂亮的新伐木机，可以如野火一般砍伐森林。不过，Mirko 只被允许砍伐一排树。\n\nMirko 的伐木机工作流程如下：Mirko 设置一个高度参数 $H$（米），伐木机升起一个巨大的锯片到高度 $H$，并锯掉所有树比 $H$ 高的部分（当然，树木不高于 $H$ 米的部分保持不变）。Mirko 就得到树木被锯下的部分。例如，如果一排树的高度分别为 $20,15,10$ 和 $17$，Mirko 把锯片升到 $15$ 米的高度，切割后树木剩下的高度将是 $15,15,10$ 和 $15$，而 Mirko 将从第 $1$ 棵树得到 $5$ 米，从第 $4$ 棵树得到 $2$ 米，共得到 $7$ 米木材。\n\nMirko 非常关注生态保护，所以他不会砍掉过多的木材。这也是他尽可能高地设定伐木机锯片的原因。请帮助 Mirko 找到伐木机锯片的最大的整数高度 $H$，使得他能得到的木材至少为 $M$ 米。换句话说，如果再升高 $1$ 米，他将得不到 $M$ 米木材。", "inputFormat": "第 $1$ 行 $2$ 个整数 $N$ 和 $M$，$N$ 表示树木的数量，$M$ 表示需要的木材总长度。\n\n第 $2$ 行 $N$ 个整数表示每棵树的高度。", "outputFormat": "$1$ 个整数，表示锯片的最高高度。", "hint": "对于 $100\\%$ 的测试数据，$1\\le N\\le10^6$，$1\\le M\\le2\\times10^9$，树的高度 $\\le 4\\times 10^5$，所有树的高度总和 $>M$。", "locale": "zh-CN", "translations": {"en": {"title": "[COCI 2011/2012 #5] EKO / Cutting Trees", "background": "", "description": "Lumberjack Mirko needs to cut $M$ meters of wood. This is easy for Mirko because he has a shiny new woodcutting machine that can cut through a forest like wildfire. However, Mirko is allowed to cut only one row of trees.\n\nThe machine works as follows: Mirko sets a height parameter $H$ (in meters), the machine raises a huge saw blade to height $H$, and it cuts off the part of every tree that is higher than $H$ (of course, trees not higher than $H$ remain unchanged). Mirko then collects the cut-off parts. For example, if a row of trees has heights $20, 15, 10$ and $17$, and Mirko raises the blade to $15$ meters, after cutting the remaining heights will be $15, 15, 10$ and $15$, and Mirko will get $5$ meters from the $1$st tree and $2$ meters from the $4$th tree, $7$ meters in total.\n\nMirko cares about the environment, so he will not cut more wood than necessary. This is why he sets the saw blade as high as possible. Help Mirko find the maximum integer height $H$ such that the amount of wood he obtains is at least $M$ meters. In other words, if he raised it by $1$ meter more, he would not obtain $M$ meters of wood.", "inputFormat": "The first line contains two integers $N$ and $M$, where $N$ is the number of trees and $M$ is the required total length of wood.\n\nThe second line contains $N$ integers, the heights of the trees.", "outputFormat": "Output a single integer, the highest possible blade height.", "hint": "For $100\\%$ of the testdata, $1 \\le N \\le 10^6$, $1 \\le M \\le 2 \\times 10^9$, tree height $\\le 4 \\times 10^5$, and the sum of all tree heights $> M$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI 2011/2012 #5] EKO / 砍树", "background": "", "description": "伐木工人 Mirko 需要砍 $M$ 米长的木材。对 Mirko 来说这是很简单的工作，因为他有一个漂亮的新伐木机，可以如野火一般砍伐森林。不过，Mirko 只被允许砍伐一排树。\n\nMirko 的伐木机工作流程如下：Mirko 设置一个高度参数 $H$（米），伐木机升起一个巨大的锯片到高度 $H$，并锯掉所有树比 $H$ 高的部分（当然，树木不高于 $H$ 米的部分保持不变）。Mirko 就得到树木被锯下的部分。例如，如果一排树的高度分别为 $20,15,10$ 和 $17$，Mirko 把锯片升到 $15$ 米的高度，切割后树木剩下的高度将是 $15,15,10$ 和 $15$，而 Mirko 将从第 $1$ 棵树得到 $5$ 米，从第 $4$ 棵树得到 $2$ 米，共得到 $7$ 米木材。\n\nMirko 非常关注生态保护，所以他不会砍掉过多的木材。这也是他尽可能高地设定伐木机锯片的原因。请帮助 Mirko 找到伐木机锯片的最大的整数高度 $H$，使得他能得到的木材至少为 $M$ 米。换句话说，如果再升高 $1$ 米，他将得不到 $M$ 米木材。", "inputFormat": "第 $1$ 行 $2$ 个整数 $N$ 和 $M$，$N$ 表示树木的数量，$M$ 表示需要的木材总长度。\n\n第 $2$ 行 $N$ 个整数表示每棵树的高度。", "outputFormat": "$1$ 个整数，表示锯片的最高高度。", "hint": "对于 $100\\%$ 的测试数据，$1\\le N\\le10^6$，$1\\le M\\le2\\times10^9$，树的高度 $\\le 4\\times 10^5$，所有树的高度总和 $>M$。", "locale": "zh-CN"}}}
{"pid": "P1874", "type": "P", "difficulty": 3, "samples": [["99999\n45\n", "4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "搜索"], "title": "快速求和", "background": "2023-10-08 update: 新增两组 hack。\n\n2023-12-16 update: 新增两组 hack。", "description": "给定一个数字字符串，用最小次数的加法让字符串等于一个给定的目标数字。每次加法就是在字符串的某个位置插入一个加号。在里面要的所有加号都插入后，就像做普通加法那样来求值。\n\n例如，考虑字符串`12`，做 $0$ 次加法，我们得到数字 $12$。如果插入 $1$ 个加号，我们得到 $3$，因此，这个例子中，最少用 $1$ 次加法就得到数字 $3$。\n\n再举一例，考虑字符串`303`和目标数字 $6$，最佳方法不是`3+0+3`。而是`3+03`。能这样做是因为一个数的前导 $0$ 不会改变它的大小。", "inputFormat": "第一行：一个字符串 $s$。\n\n第二行：一个整数 $n$。", "outputFormat": "一行一个整数表示最少的加法次数让 $s$ 等于 $n$。如果怎么做都不能让 $s$ 等于 $n$ ，则输出 $-1$。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le \\operatorname{len}(s)\\le40$，$1 \\leq n\\le10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Fast Summation", "background": "2023-10-08 update: Added two hack cases.\n\n2023-12-16 update: Added two hack cases.", "description": "Given a numeric string, make it equal to a given target number using the minimum number of additions. Each addition means inserting a plus sign at some position in the string. After all required plus signs are inserted, evaluate it as ordinary addition.\n\nFor example, consider the string `12`. With $0$ additions, we get the number $12$. If we insert $1$ plus sign, we get $3$. Therefore, in this case, the minimum number of additions to obtain the number $3$ is $1$.\n\nAnother example: consider the string `303` and the target number $6$. The optimal way is not `3+0+3`, but `3+03`. This works because a leading $0$ in a number does not change its value.", "inputFormat": "The first line: a string $s$.\n\nThe second line: an integer $n$.", "outputFormat": "Output a single integer on one line, the minimum number of additions to make $s$ equal to $n$. If it is impossible to make $s$ equal to $n$, output $-1$.", "hint": "Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\le \\operatorname{len}(s) \\le 40$, $1 \\le n \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "快速求和", "background": "2023-10-08 update: 新增两组 hack。\n\n2023-12-16 update: 新增两组 hack。", "description": "给定一个数字字符串，用最小次数的加法让字符串等于一个给定的目标数字。每次加法就是在字符串的某个位置插入一个加号。在里面要的所有加号都插入后，就像做普通加法那样来求值。\n\n例如，考虑字符串`12`，做 $0$ 次加法，我们得到数字 $12$。如果插入 $1$ 个加号，我们得到 $3$，因此，这个例子中，最少用 $1$ 次加法就得到数字 $3$。\n\n再举一例，考虑字符串`303`和目标数字 $6$，最佳方法不是`3+0+3`。而是`3+03`。能这样做是因为一个数的前导 $0$ 不会改变它的大小。", "inputFormat": "第一行：一个字符串 $s$。\n\n第二行：一个整数 $n$。", "outputFormat": "一行一个整数表示最少的加法次数让 $s$ 等于 $n$。如果怎么做都不能让 $s$ 等于 $n$ ，则输出 $-1$。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1\\le \\operatorname{len}(s)\\le40$，$1 \\leq n\\le10^5$。", "locale": "zh-CN"}}}
{"pid": "P1875", "type": "P", "difficulty": 4, "samples": [["7 \n10 5 6 3 2 2 3 \n1 2 0 \n4 5 1 \n3 6 2\n", "10 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "最短路"], "title": "佳佳的魔法药水【数据有误】", "background": "**存在 ab 相同 c 不同的情况，与题意相悖。题还是可以做，但数据待修正。**\n\n发完了 $k$ 张照片，佳佳却得到了一个坏消息：他的 MM 得病了！佳佳和大家一样焦急万分！治好 MM 的病只有一种办法，那就是传说中的 $0$ 号药水……怎么样才能得到 $0$ 号药水呢？你要知道佳佳的家境也不是很好，成本得足够低才行……", "description": "得到一种药水有两种方法：可以按照魔法书上的指导自己配置，也可以到魔法商店里去买——那里对于每种药水都有供应，虽然有可能价格很贵。在魔法书上有很多这样的记载：\n\n$1$ 份 A 药水混合 $1$ 份 B 药水就可以得到 $1$ 份 C 药水。（至于为什么 $1 + 1 = 1$，因为……这是魔法世界）好了，现在你知道了需要得到某种药水，还知道所有可能涉及到的药水的价格以及魔法书上所有的配置方法，现在要问的就是：\n\n1. 最少花多少钱可以配制成功这种珍贵的药水；\n2. 共有多少种不同的花费最少的方案（两种可行的配置方案如果有任何一个步骤不同则视为不同的）。假定初始时你手中并没有任何可以用的药水。", "inputFormat": "第一行有一个整数 $N$（$1 \\le N \\le 1000$），表示一共涉及到的药水总数。药水从 $0 \\sim N-1$ 顺序编号，$0$ 号药水就是最终要配制的药水。\n\n第二行有 $N$ 个整数，分别表示从 $0 \\sim N-1$ 顺序编号的所有药水在魔法商店的价格（都表示 $1$ 份的价格）。\n\n第三行开始，每行有三个整数 A、B、C，表示 $1$ 份 A 药水混合 $1$ 份 B 药水就可以得到 $1$ 份 C 药水。注意，某两种特定的药水搭配如果能配成新药水的话，那么结果是唯一的。也就是说不会出现某两行的 A、B 相同但 C 不同的情况。\n\n输入以一个空行结束。", "outputFormat": "输出两个用空格隔开的整数，分别表示得到 $0$ 号药水的最小花费以及花费最少的方案的个数。\n\n保证方案数不超过 $2^{63} - 1$。", "hint": "数据范围：\n\n每一种药水的价格均在 $[1, 2.8\\times 10^4]$ 范围内。\n\n样例说明：\n\n最优方案有 $3$ 种，分别是：\n\n- 直接买 $0$ 号药水；\n- 买 $4$ 号药水、$5$ 号药水配制成 $1$ 号药水，直接买 $2$ 号药水，然后配制成 $0$ 号药水；\n- 买 $4$ 号药水、$5$ 号药水配制成 $1$ 号药水，买 $3$ 号药水、$6$ 号药水配制成 $2$ 号药水，然后配制成 $0$ 号药水。", "locale": "zh-CN", "translations": {"en": {"title": "Jiajia's Magic Potion [Data Error]", "background": "**There exist cases where $a$, $b$ are the same but $c$ is different, which contradicts the statement. The problem is still solvable, but the testdata needs correction.**\n\nAfter sending $k$ photos, Jiajia received bad news: his MM got sick! Jiajia, like everyone else, is extremely anxious! There is only one way to cure MM’s illness, and that is the legendary potion No. $0$... How can we obtain potion No. $0$? You know Jiajia’s family is not well-off, so the cost must be low enough...", "description": "There are two ways to obtain a potion: you can either configure it yourself according to the magic book, or buy it at the magic shop — every kind of potion is available there, though the price may be high. The magic book contains many notes like this:\n\nMixing $1$ unit of potion A with $1$ unit of potion B yields $1$ unit of potion C. (As for why $1 + 1 = 1$, well... this is the magic world.) Now, you know which potion you need, you also know the prices of all potions that may be involved and all recipes in the magic book. The questions are:\n\n1. What is the minimum cost to successfully produce this precious potion?\n2. How many different minimum-cost plans are there (two feasible configuration plans are considered different if any step differs)? Assume you initially have no usable potion.", "inputFormat": "The first line contains an integer $N$ ($1 \\le N \\le 1000$), the total number of potions involved. Potions are numbered from $0$ to $N - 1$, and potion No. $0$ is the final target potion.\n\nThe second line contains $N$ integers, giving the prices (for $1$ unit each) of all potions numbered from $0$ to $N - 1$ in order at the magic shop.\n\nFrom the third line onward, each line contains three integers A, B, C, meaning mixing $1$ unit of potion A with $1$ unit of potion B yields $1$ unit of potion C. Note that if a specific pair of potions can be mixed to form a new potion, the result is unique. In other words, there will not be two lines where A and B are the same but C is different.\n\nThe input ends with a blank line.", "outputFormat": "Output two integers separated by a space, representing the minimum cost to obtain potion No. $0$ and the number of minimum-cost plans.\n\nIt is guaranteed that the number of plans does not exceed $2^{63} - 1$.", "hint": "Constraints:\n\nThe price of each potion is within $[1, 2.8\\times 10^4]$.\n\nSample explanation:\n\nThere are $3$ optimal plans:\n\n- Buy potion No. $0$ directly.\n- Buy potion No. $4$ and potion No. $5$ to make potion No. $1$, buy potion No. $2$ directly, then combine to make potion No. $0$.\n- Buy potion No. $4$ and potion No. $5$ to make potion No. $1$, buy potion No. $3$ and potion No. $6$ to make potion No. $2$, then combine to make potion No. $0$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "佳佳的魔法药水【数据有误】", "background": "**存在 ab 相同 c 不同的情况，与题意相悖。题还是可以做，但数据待修正。**\n\n发完了 $k$ 张照片，佳佳却得到了一个坏消息：他的 MM 得病了！佳佳和大家一样焦急万分！治好 MM 的病只有一种办法，那就是传说中的 $0$ 号药水……怎么样才能得到 $0$ 号药水呢？你要知道佳佳的家境也不是很好，成本得足够低才行……", "description": "得到一种药水有两种方法：可以按照魔法书上的指导自己配置，也可以到魔法商店里去买——那里对于每种药水都有供应，虽然有可能价格很贵。在魔法书上有很多这样的记载：\n\n$1$ 份 A 药水混合 $1$ 份 B 药水就可以得到 $1$ 份 C 药水。（至于为什么 $1 + 1 = 1$，因为……这是魔法世界）好了，现在你知道了需要得到某种药水，还知道所有可能涉及到的药水的价格以及魔法书上所有的配置方法，现在要问的就是：\n\n1. 最少花多少钱可以配制成功这种珍贵的药水；\n2. 共有多少种不同的花费最少的方案（两种可行的配置方案如果有任何一个步骤不同则视为不同的）。假定初始时你手中并没有任何可以用的药水。", "inputFormat": "第一行有一个整数 $N$（$1 \\le N \\le 1000$），表示一共涉及到的药水总数。药水从 $0 \\sim N-1$ 顺序编号，$0$ 号药水就是最终要配制的药水。\n\n第二行有 $N$ 个整数，分别表示从 $0 \\sim N-1$ 顺序编号的所有药水在魔法商店的价格（都表示 $1$ 份的价格）。\n\n第三行开始，每行有三个整数 A、B、C，表示 $1$ 份 A 药水混合 $1$ 份 B 药水就可以得到 $1$ 份 C 药水。注意，某两种特定的药水搭配如果能配成新药水的话，那么结果是唯一的。也就是说不会出现某两行的 A、B 相同但 C 不同的情况。\n\n输入以一个空行结束。", "outputFormat": "输出两个用空格隔开的整数，分别表示得到 $0$ 号药水的最小花费以及花费最少的方案的个数。\n\n保证方案数不超过 $2^{63} - 1$。", "hint": "数据范围：\n\n每一种药水的价格均在 $[1, 2.8\\times 10^4]$ 范围内。\n\n样例说明：\n\n最优方案有 $3$ 种，分别是：\n\n- 直接买 $0$ 号药水；\n- 买 $4$ 号药水、$5$ 号药水配制成 $1$ 号药水，直接买 $2$ 号药水，然后配制成 $0$ 号药水；\n- 买 $4$ 号药水、$5$ 号药水配制成 $1$ 号药水，买 $3$ 号药水、$6$ 号药水配制成 $2$ 号药水，然后配制成 $0$ 号药水。", "locale": "zh-CN"}}}
{"pid": "P1876", "type": "P", "difficulty": 1, "samples": [["5", "1 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学"], "title": "开灯", "background": "该题的题目是不是感到很眼熟呢?\n\n事实上，如果你懂的方法，该题的代码简直不能再短。\n\n但是如果你不懂得呢？那。。。（自己去想）", "description": "首先所有的灯都是关的（注意是关！），编号为 $1$ 的人走过来，把是 $1$ 的倍数的灯全部打开，编号为 $2$ 的人把是 $2$ 的倍数的灯全部关上，编号为 $3$ 的人又把是 $3$ 的倍数的灯开的关上，关的开起来……直到第 $N$ 个人为止。\n\n给定 $N$，求 $N$ 轮之后，还有哪几盏是开着的。", "inputFormat": "一个数 $N$，表示灯的个数和操作的轮数。", "outputFormat": "若干数，表示开着的电灯编号。", "hint": "**【数据范围】**\n\n对于 $100 \\%$ 的数据，$1 \\le N \\le 2^{40}$。\n\n**【其他说明】**\n\n数学题！", "locale": "zh-CN", "translations": {"en": {"title": "Turning On the Lights", "background": "Does this problem title look familiar? In fact, if you know the method, the code could hardly be shorter. But if you don’t? Well... figure it out yourself.", "description": "At the start, all lights are off (note: off!). The person numbered $1$ comes and turns on all lights whose indices are multiples of $1$. The person numbered $2$ turns off all lights whose indices are multiples of $2$. The person numbered $3$ toggles all lights whose indices are multiples of $3$ (those that are on are turned off, those that are off are turned on), and so on, until the person numbered $N$ finishes.\n\nGiven $N$, after $N$ rounds, determine which lights are still on.", "inputFormat": "A single number $N$, representing both the number of lights and the number of rounds.", "outputFormat": "Several numbers, the indices of the lights that are on.", "hint": "Constraints\n\nFor $100 \\%$ of the testdata, $1 \\le N \\le 2^{40}$.\n\nAdditional Notes\n\nMath problem!\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "开灯", "background": "该题的题目是不是感到很眼熟呢?\n\n事实上，如果你懂的方法，该题的代码简直不能再短。\n\n但是如果你不懂得呢？那。。。（自己去想）", "description": "首先所有的灯都是关的（注意是关！），编号为 $1$ 的人走过来，把是 $1$ 的倍数的灯全部打开，编号为 $2$ 的人把是 $2$ 的倍数的灯全部关上，编号为 $3$ 的人又把是 $3$ 的倍数的灯开的关上，关的开起来……直到第 $N$ 个人为止。\n\n给定 $N$，求 $N$ 轮之后，还有哪几盏是开着的。", "inputFormat": "一个数 $N$，表示灯的个数和操作的轮数。", "outputFormat": "若干数，表示开着的电灯编号。", "hint": "**【数据范围】**\n\n对于 $100 \\%$ 的数据，$1 \\le N \\le 2^{40}$。\n\n**【其他说明】**\n\n数学题！", "locale": "zh-CN"}}}
{"pid": "P1877", "type": "P", "difficulty": 2, "samples": [["3 5 10\n5 3 7\n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2012", "河南", "各省省选", "枚举", "背包 DP"], "title": "[HAOI2012] 音量调节", "background": null, "description": "一个吉他手准备参加一场演出。他不喜欢在演出时始终使用同一个音量，所以他决定每一首歌之前他都需要改变一次音量。在演出开始之前，他已经做好一个列表，里面写着每首歌开始之前他想要改变的音量是多少。每一次改变音量，他可以选择调高也可以调低。\n\n音量用一个整数描述。输入文件中整数 $beginLevel$，代表吉他刚开始的音量，整数 $maxLevel$，代表吉他的最大音量。音量不能小于 $0$ 也不能大于 $maxLevel$。输入中还给定了 $n$ 个整数 $c_1,c_2,c_3,\\cdots,c_n$，表示在第 $i$ 首歌开始之前吉他手想要改变的音量是多少。\n\n吉他手想以最大的音量演奏最后一首歌，你的任务是找到这个最大音量是多少。", "inputFormat": "第一行依次为三个整数 $n$，$beginLevel$ 和 $maxLevel$。\n\n第二行依次为 $n$ 个整数 $c_1,c_2,c_3,\\cdots,c_n$。", "outputFormat": "输出演奏最后一首歌的最大音量。如果吉他手无法避免音量低于 $0$ 或者高于 $maxLevel$，输出 `-1`。", "hint": "$1\\le n\\le 50$，$1\\le c_i\\le maxLevel$，$1\\le maxLevel\\le 1000$，$0\\le beginLevel\\le maxLevel$。", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2012] Volume Adjustment", "background": "", "description": "A guitarist is preparing for a performance. He does not like to use the same volume throughout the show, so he decides that before each song he will change the volume once. Before the show starts, he makes a list that records by how much he wants to change the volume before each song. Each time he changes the volume, he can either turn it up or turn it down.\n\nThe volume is described by an integer. In the input, the integer $beginLevel$ represents the guitar’s initial volume, and the integer $maxLevel$ represents the guitar’s maximum volume. The volume cannot be less than $0$ or greater than $maxLevel$. The input also gives $n$ integers $c_1,c_2,c_3,\\cdots,c_n$, which means that before the $i$-th song begins, the guitarist wants to change the volume by that amount.\n\nThe guitarist wants to play the last song at the highest possible volume; your task is to find that maximum volume.", "inputFormat": "The first line contains three integers $n$, $beginLevel$ and $maxLevel$.\n\nThe second line contains $n$ integers $c_1,c_2,c_3,\\cdots,c_n$.", "outputFormat": "Output the maximum possible volume for the last song. If the guitarist cannot avoid the volume going below $0$ or above $maxLevel$, output `-1`.", "hint": "$1\\le n\\le 50$, $1\\le c_i\\le maxLevel$, $1\\le maxLevel\\le 1000$, $0\\le beginLevel\\le maxLevel$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2012] 音量调节", "background": null, "description": "一个吉他手准备参加一场演出。他不喜欢在演出时始终使用同一个音量，所以他决定每一首歌之前他都需要改变一次音量。在演出开始之前，他已经做好一个列表，里面写着每首歌开始之前他想要改变的音量是多少。每一次改变音量，他可以选择调高也可以调低。\n\n音量用一个整数描述。输入文件中整数 $beginLevel$，代表吉他刚开始的音量，整数 $maxLevel$，代表吉他的最大音量。音量不能小于 $0$ 也不能大于 $maxLevel$。输入中还给定了 $n$ 个整数 $c_1,c_2,c_3,\\cdots,c_n$，表示在第 $i$ 首歌开始之前吉他手想要改变的音量是多少。\n\n吉他手想以最大的音量演奏最后一首歌，你的任务是找到这个最大音量是多少。", "inputFormat": "第一行依次为三个整数 $n$，$beginLevel$ 和 $maxLevel$。\n\n第二行依次为 $n$ 个整数 $c_1,c_2,c_3,\\cdots,c_n$。", "outputFormat": "输出演奏最后一首歌的最大音量。如果吉他手无法避免音量低于 $0$ 或者高于 $maxLevel$，输出 `-1`。", "hint": "$1\\le n\\le 50$，$1\\le c_i\\le maxLevel$，$1\\le maxLevel\\le 1000$，$0\\le beginLevel\\le maxLevel$。", "locale": "zh-CN"}}}
{"pid": "P1878", "type": "P", "difficulty": 3, "samples": [["4\r\nBGBG\r\n4 2 4 3\r\n", "2\r\n3 4\r\n1 2\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["堆", "链表"], "title": "舞蹈课", "background": null, "description": "有 $n$ 个人参加一个舞蹈课。每个人的舞蹈技术由整数来决定。在舞蹈课的开始，他们从左到右站成一排。当这一排中至少有一对相邻的异性时，舞蹈技术相差最小的那一对会出列并开始跳舞。如果不止一对，那么最左边的那一对出列。一对异性出列之后，队伍中的空白按原顺序补上（即：若队伍为 `ABCD`，那么 `BC` 出列之后队伍变为 `AD`）。舞蹈技术相差最小即是 $a_i$ 的绝对值最小。\n\n任务是模拟以上过程，确定跳舞的配对及顺序。", "inputFormat": "第一行一个正整数 $n$ 表示队伍中的人数。\n\n第二行包含 $n$ 个字符 `B` 或者 `G`，`B` 代表男，`G` 代表女。\n\n第三行为 $n$ 个整数 $a_i$。所有信息按照从左到右的顺序给出。", "outputFormat": "第一行一个整数表示出列的总对数 $k$。\n\n接下来 $k$ 行，每行是两个整数。按跳舞顺序输出，两个整数代表这一对舞伴的编号（按输入顺序从左往右 $1$ 至 $n$ 编号）。请先输出较小的整数，再输出较大的整数。", "hint": "对于 $50\\%$ 的数据，$1\\leq n\\leq 200$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 2\\times 10^5$，$0\\le a_i\\le 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "Dance Class", "background": "", "description": "There are $n$ people attending a dance class. Each person’s dance skill is represented by an integer. At the beginning of the class, they stand in a line from left to right. Whenever there is at least one adjacent opposite-gender pair in the line, the pair with the smallest difference in dance skill will leave the line to start dancing. If multiple pairs have the same minimal difference, the leftmost such pair leaves. After a pair leaves, the gap in the line is closed while preserving the original order (that is, if the line is `ABCD`, then after `BC` leaves, the line becomes `AD`). Here, “smallest difference” means the absolute difference of their skill values is minimal, i.e., minimize $|a_i - a_j|$.\n\nYour task is to simulate the process and determine the dancing pairs and their order.", "inputFormat": "The first line contains a positive integer $n$ denoting the number of people in the line.\n\nThe second line contains $n$ characters `B` or `G`, where `B` denotes a boy and `G` denotes a girl.\n\nThe third line contains $n$ integers $a_i$. All information is given in left-to-right order.", "outputFormat": "The first line contains an integer $k$ denoting the total number of pairs that leave the line.\n\nThen output $k$ lines, each containing two integers. Print the pairs in the order they start dancing; each line contains the indices of the two partners (numbered from $1$ to $n$ in the left-to-right input order). Print the smaller index first, then the larger.", "hint": "For $50\\%$ of the testdata, $1 \\le n \\le 200$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 2 \\times 10^5$, $0 \\le a_i \\le 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "舞蹈课", "background": null, "description": "有 $n$ 个人参加一个舞蹈课。每个人的舞蹈技术由整数来决定。在舞蹈课的开始，他们从左到右站成一排。当这一排中至少有一对相邻的异性时，舞蹈技术相差最小的那一对会出列并开始跳舞。如果不止一对，那么最左边的那一对出列。一对异性出列之后，队伍中的空白按原顺序补上（即：若队伍为 `ABCD`，那么 `BC` 出列之后队伍变为 `AD`）。舞蹈技术相差最小即是 $a_i$ 的绝对值最小。\n\n任务是模拟以上过程，确定跳舞的配对及顺序。", "inputFormat": "第一行一个正整数 $n$ 表示队伍中的人数。\n\n第二行包含 $n$ 个字符 `B` 或者 `G`，`B` 代表男，`G` 代表女。\n\n第三行为 $n$ 个整数 $a_i$。所有信息按照从左到右的顺序给出。", "outputFormat": "第一行一个整数表示出列的总对数 $k$。\n\n接下来 $k$ 行，每行是两个整数。按跳舞顺序输出，两个整数代表这一对舞伴的编号（按输入顺序从左往右 $1$ 至 $n$ 编号）。请先输出较小的整数，再输出较大的整数。", "hint": "对于 $50\\%$ 的数据，$1\\leq n\\leq 200$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 2\\times 10^5$，$0\\le a_i\\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P1879", "type": "P", "difficulty": 5, "samples": [["2 3\n1 1 1\n0 1 0", "9\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2006", "USACO", "枚举", "轮廓线 DP", "状压 DP"], "title": "[USACO06NOV] Corn Fields G", "background": null, "description": "农场主 $\\rm John$ 新买了一块长方形的新牧场，这块牧场被划分成 $M$ 行 $N$ 列 $(1 \\le M \\le 12, 1 \\le  N \\le 12)$，每一格都是一块正方形的土地。 $\\rm John$ 打算在牧场上的某几格里种上美味的草，供他的奶牛们享用。\n\n遗憾的是，有些土地相当贫瘠，不能用来种草。并且，奶牛们喜欢独占一块草地的感觉，于是 $\\rm John$ 不会选择两块相邻的土地，也就是说，没有哪两块草地有公共边。\n\n$\\rm John$ 想知道，如果不考虑草地的总块数，那么，一共有多少种种植方案可供他选择？（当然，把新牧场完全荒废也是一种方案）", "inputFormat": "第一行：两个整数 $M$ 和 $N$，用空格隔开。\n\n第 $2$ 到第 $M+1$ 行：每行包含 $N$ 个用空格隔开的整数，描述了每块土地的状态。第 $i+1$ 行描述了第 $i$ 行的土地，所有整数均为 $0$ 或 $1$ ，是 $1$ 的话，表示这块土地足够肥沃，$0$ 则表示这块土地不适合种草。", "outputFormat": "一个整数，即牧场分配总方案数除以 $10^8$ 的余数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Corn Fields G", "background": null, "description": "Farmer John has purchased a lush new rectangular pasture composed of $M$ by $N$ ($1 \\le M \\le 12,1 \\le N \\le 12$) square parcels. He wants to grow some yummy corn for the cows on a number of squares. Regrettably, some of the squares are infertile and can't be planted. Canny FJ knows that the cows dislike eating close to each other, so when choosing which squares to plant, he avoids choosing squares that are adjacent; no two chosen squares share an edge. He has not yet made the final choice as to which squares to plant.\n\nBeing a very open-minded man, Farmer John wants to consider all possible options for how to choose the squares for planting. He is so open-minded that he considers choosing no squares as a valid option! Please help Farmer John determine the number of ways he can choose the squares to plant.", "inputFormat": "The first line contains two integers $M$ and $N$, separated by a space.\n\nThen there follow $M$ lines,each of them contains $N$ integers.All integers are either $0$ or $1$. If $1$, it indicates that the land is fertile enough, while $0$ indicates that the land is infertile.", "outputFormat": "An integer, which is the remainder of dividing the total number of ranch allocation plans by $10^8$.", "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO06NOV] Corn Fields G", "background": null, "description": "农场主 $\\rm John$ 新买了一块长方形的新牧场，这块牧场被划分成 $M$ 行 $N$ 列 $(1 \\le M \\le 12, 1 \\le  N \\le 12)$，每一格都是一块正方形的土地。 $\\rm John$ 打算在牧场上的某几格里种上美味的草，供他的奶牛们享用。\n\n遗憾的是，有些土地相当贫瘠，不能用来种草。并且，奶牛们喜欢独占一块草地的感觉，于是 $\\rm John$ 不会选择两块相邻的土地，也就是说，没有哪两块草地有公共边。\n\n$\\rm John$ 想知道，如果不考虑草地的总块数，那么，一共有多少种种植方案可供他选择？（当然，把新牧场完全荒废也是一种方案）", "inputFormat": "第一行：两个整数 $M$ 和 $N$，用空格隔开。\n\n第 $2$ 到第 $M+1$ 行：每行包含 $N$ 个用空格隔开的整数，描述了每块土地的状态。第 $i+1$ 行描述了第 $i$ 行的土地，所有整数均为 $0$ 或 $1$ ，是 $1$ 的话，表示这块土地足够肥沃，$0$ 则表示这块土地不适合种草。", "outputFormat": "一个整数，即牧场分配总方案数除以 $10^8$ 的余数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1880", "type": "P", "difficulty": 4, "samples": [["4\n4 5 9 4", "43\n54"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI", "区间 DP", "四边形不等式"], "title": "[NOI1995] 石子合并", "background": "", "description": "在一个圆形操场的四周摆放 $N$ 堆石子，现要将石子有次序地合并成一堆，规定每次只能选相邻的 $2$ 堆合并成新的一堆，并将新的一堆的石子数，记为该次合并的得分。\n\n试设计出一个算法,计算出将 $N$ 堆石子合并成 $1$ 堆的最小得分和最大得分。\n", "inputFormat": "数据的第 $1$ 行是正整数 $N$，表示有 $N$ 堆石子。\n\n第 $2$ 行有 $N$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 堆石子的个数。\n", "outputFormat": "输出共 $2$ 行，第 $1$ 行为最小得分，第 $2$ 行为最大得分。\n", "hint": "$1\\leq N\\leq 100$，$0\\leq a_i\\leq 20$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI1995] Merging Stones", "background": "", "description": "Along the circumference of a circular track, there are $N$ piles of stones. We want to merge the stones into one pile in some order. Each time, we can only choose two adjacent piles and merge them into a new pile; the number of stones in the new pile is recorded as the score for that merge.\n\nDesign an algorithm to compute the minimal total score and the maximal total score for merging $N$ piles into $1$ pile.", "inputFormat": "The first line contains the positive integer $N$, the number of piles.\n\nThe second line contains $N$ integers; the $i$-th integer $a_i$ denotes the number of stones in the $i$-th pile.", "outputFormat": "Output a total of $2$ lines. The first line is the minimal total score, and the second line is the maximal total score.", "hint": "Constraints: $1 \\leq N \\leq 100$, $0 \\leq a_i \\leq 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI1995] 石子合并", "background": "", "description": "在一个圆形操场的四周摆放 $N$ 堆石子，现要将石子有次序地合并成一堆，规定每次只能选相邻的 $2$ 堆合并成新的一堆，并将新的一堆的石子数，记为该次合并的得分。\n\n试设计出一个算法,计算出将 $N$ 堆石子合并成 $1$ 堆的最小得分和最大得分。\n", "inputFormat": "数据的第 $1$ 行是正整数 $N$，表示有 $N$ 堆石子。\n\n第 $2$ 行有 $N$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 堆石子的个数。\n", "outputFormat": "输出共 $2$ 行，第 $1$ 行为最小得分，第 $2$ 行为最大得分。\n", "hint": "$1\\leq N\\leq 100$，$0\\leq a_i\\leq 20$。", "locale": "zh-CN"}}}
{"pid": "P1881", "type": "P", "difficulty": 2, "samples": [["5 10\r\n0 \r\n10 \r\n6 \r\n2 \r\n4\r\n", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["枚举"], "title": "绳子对折", "background": null, "description": "FJ 有一个长度为 $L$（$1 \\le L \\le 10,000$）的绳子。这个绳子上有 $N$（$1 \\le N \\le 100$）个结，包括两个端点。FJ 想将绳子对折，并使较短一边的绳子上的结与较长一边绳子上的结完全重合，如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1spqhchu.png)\n\n找出 FJ 有多少种可行的折叠方案。", "inputFormat": "第一行：两个整数，$N$ 和 $L$。\n\n第 $2$ 至 $N+1$ 行：每一行包含一个整数表示一个结所在的位置，总有两个数为 $0$ 和 $L$。", "outputFormat": "第一行：一个整数表示 FJ 可折叠的方案数。", "hint": "(可在 1,2,3,8 点处折叠)", "locale": "zh-CN", "translations": {"en": {"title": "Folding the Rope", "background": "", "description": "FJ has a rope of length $L$ ($1 \\le L \\le 10,000$). There are $N$ ($1 \\le N \\le 100$) knots on the rope, including the two endpoints. FJ wants to fold the rope so that the knots on the shorter side coincide exactly with the knots on the longer side, as shown in the figure:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1spqhchu.png)\n\nFind how many valid folding positions FJ can choose.", "inputFormat": "The first line: two integers, $N$ and $L$.\n\nLines $2$ to $N+1$: each line contains one integer giving the position of a knot. Among them, $0$ and $L$ are always included.", "outputFormat": "The first line: one integer, the number of valid folding positions.", "hint": "(You can fold at positions 1, 2, 3, and 8.)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "绳子对折", "background": null, "description": "FJ 有一个长度为 $L$（$1 \\le L \\le 10,000$）的绳子。这个绳子上有 $N$（$1 \\le N \\le 100$）个结，包括两个端点。FJ 想将绳子对折，并使较短一边的绳子上的结与较长一边绳子上的结完全重合，如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1spqhchu.png)\n\n找出 FJ 有多少种可行的折叠方案。", "inputFormat": "第一行：两个整数，$N$ 和 $L$。\n\n第 $2$ 至 $N+1$ 行：每一行包含一个整数表示一个结所在的位置，总有两个数为 $0$ 和 $L$。", "outputFormat": "第一行：一个整数表示 FJ 可折叠的方案数。", "hint": "(可在 1,2,3,8 点处折叠)", "locale": "zh-CN"}}}
{"pid": "P1882", "type": "P", "difficulty": 3, "samples": [["5\n4 2 2 4\n3 3 1 3 4\n7 1 5\n4 2 3 5\n1 0", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "接力赛跑", "background": "", "description": "$N (1\\le N\\le 1000)$ 只奶牛（编号为 $1$ 到 $N$）在进行一个特别的接力赛跑，这个比赛特别之处在于，若干只奶牛可以同时跑。\n\n在 $t=0$ 时刻，牛 $1$ 开始沿着跑道跑。\n\n通常，牛 $i$ 跑完一圈需要的时间为 $L_i (1\\le L_i\\le 1000)$ 秒。当它重新越过起点线的瞬间，它会通知另外 $M_i (1\\le M_i\\le N)$ 只奶牛 $A_{ij} (1\\le j\\le M_i)$ 起跑。注意可能出现 $M_i=0$ 并且 $A_i$ 不存在的情况。\n\n每一只开始赛跑的奶牛，等到它回到起点时，都会通知其他奶牛起跑。可能出现多只奶牛通知同一只奶牛起跑的情况，但是每一只奶牛只愿意跑一圈，所以它被第二次叫到的时候就不愿意再跑了。\n\n农场主希望你帮他确定总的赛跑时间（也就是从比赛开始到最后一只奶牛越过终点的时间）。", "inputFormat": "第一行一个整数 $N$，表示参赛的牛的数量。\n\n第 $2$ 行到第 $N+1$ 行：第 $i+1$ 行包含多个用空格隔开的整数：$L_i$、$M_i$ 和 $M_i$ 个整数 $A_{ij}$。", "outputFormat": "一个整数，表示整个比赛结束的时间。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Relay Race", "background": "", "description": "There are $N (1\\le N\\le 1000)$ cows (numbered from $1$ to $N$) participating in a special relay race, where multiple cows are allowed to run simultaneously.\n\nAt time $t=0$, cow $1$ starts running along the track.\n\nNormally, cow $i$ needs $L_i (1\\le L_i\\le 1000)$ seconds to complete one lap. At the instant it crosses the start line again, it will notify $M_i (1\\le M_i\\le N)$ cows $A_{ij} (1\\le j\\le M_i)$ to start. Note that it is possible that $M_i=0$ and the list $A_i$ does not exist.\n\nEvery cow that starts racing will, upon returning to the start line, notify other cows to start. It is possible that multiple cows notify the same cow to start, but each cow is willing to run only one lap, so any cow starts at most once.\n\nThe farmer wants you to determine the total race time (that is, from the race start to the moment when the last cow crosses the finish line).", "inputFormat": "The first line contains an integer $N$, the number of participating cows.\n\nLines $2$ to $N+1$: line $i+1$ contains multiple space-separated integers: $L_i$, $M_i$, and $M_i$ integers $A_{ij}$.", "outputFormat": "Output a single integer, the time when the entire race ends.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "接力赛跑", "background": "", "description": "$N (1\\le N\\le 1000)$ 只奶牛（编号为 $1$ 到 $N$）在进行一个特别的接力赛跑，这个比赛特别之处在于，若干只奶牛可以同时跑。\n\n在 $t=0$ 时刻，牛 $1$ 开始沿着跑道跑。\n\n通常，牛 $i$ 跑完一圈需要的时间为 $L_i (1\\le L_i\\le 1000)$ 秒。当它重新越过起点线的瞬间，它会通知另外 $M_i (1\\le M_i\\le N)$ 只奶牛 $A_{ij} (1\\le j\\le M_i)$ 起跑。注意可能出现 $M_i=0$ 并且 $A_i$ 不存在的情况。\n\n每一只开始赛跑的奶牛，等到它回到起点时，都会通知其他奶牛起跑。可能出现多只奶牛通知同一只奶牛起跑的情况，但是每一只奶牛只愿意跑一圈，所以它被第二次叫到的时候就不愿意再跑了。\n\n农场主希望你帮他确定总的赛跑时间（也就是从比赛开始到最后一只奶牛越过终点的时间）。", "inputFormat": "第一行一个整数 $N$，表示参赛的牛的数量。\n\n第 $2$ 行到第 $N+1$ 行：第 $i+1$ 行包含多个用空格隔开的整数：$L_i$、$M_i$ 和 $M_i$ 个整数 $A_{ij}$。", "outputFormat": "一个整数，表示整个比赛结束的时间。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1883", "type": "P", "difficulty": 3, "samples": [["2\n1\n2 0 0\n2\n2 0 0\n2 -4 2\n", "0.0000\n0.5000\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2010", "二分", "三分", "ICPC", "模板题"], "title": "【模板】三分 / 函数 / [ICPC-Chengdu 2010] Error Curves", "background": null, "description": "给定 $n$ 个二次函数 $f_1(x),f_2(x),\\dots,f_n(x)$（均形如 $ax^2+bx+c$），设 $F(x)=\\max\\{f_1(x),f_2(x),...,f_n(x)\\}$，求 $F(x)$ 在区间 $[0,1000]$ 上的最小值。", "inputFormat": "输入第一行为正整数 $T$，表示有 $T$ 组数据。\n\n每组数据第一行一个正整数 $n$，接着 $n$ 行，每行 $3$ 个整数 $a,b,c$，用来表示每个二次函数的 $3$ 个系数，注意二次函数有可能退化成一次。", "outputFormat": "每组数据输出一行，表示 $F(x)$ 的在区间 $[0,1000]$ 上的最小值。答案精确到小数点后四位，四舍五入。", "hint": "对于 $50\\%$ 的数据，$n\\le 100$。\n\n对于 $100\\%$ 的数据，$T\\le 10$，$n\\le 10^4$，$0\\le a\\le 100$，$|b| \\le 5\\times 10^3$，$|c| \\le 5\\times 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Ternary Search / Function / [ICPC-Chengdu 2010] Error Curves", "background": null, "description": "Given $n$ quadratic functions $f_1(x), f_2(x), \\dots, f_n(x)$ (each of the form $ax^2+bx+c$), let $F(x)=\\max\\{f_1(x),f_2(x),...,f_n(x)\\}$. Find the minimum value of $F(x)$ on the interval $[0, 1000]$.", "inputFormat": "The first line contains a positive integer $T$, the number of test cases.\n\nFor each test case, the first line contains a positive integer $n$. Then $n$ lines follow, each with $3$ integers $a, b, c$ representing the three coefficients of a quadratic function. Note that a quadratic function may degenerate into a linear function.", "outputFormat": "For each test case, output one line with the minimum value of $F(x)$ on the interval $[0, 1000]$. The answer should be rounded to $4$ decimal places.", "hint": "For $50\\%$ of the testdata, $n \\le 100$.\n\nFor $100\\%$ of the testdata, $T < 10$, $n \\le 10^4$, $0 \\le a \\le 100$, $|b| \\le 5 \\times 10^3$, $|c| \\le 5 \\times 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】三分 / 函数 / [ICPC-Chengdu 2010] Error Curves", "background": null, "description": "给定 $n$ 个二次函数 $f_1(x),f_2(x),\\dots,f_n(x)$（均形如 $ax^2+bx+c$），设 $F(x)=\\max\\{f_1(x),f_2(x),...,f_n(x)\\}$，求 $F(x)$ 在区间 $[0,1000]$ 上的最小值。", "inputFormat": "输入第一行为正整数 $T$，表示有 $T$ 组数据。\n\n每组数据第一行一个正整数 $n$，接着 $n$ 行，每行 $3$ 个整数 $a,b,c$，用来表示每个二次函数的 $3$ 个系数，注意二次函数有可能退化成一次。", "outputFormat": "每组数据输出一行，表示 $F(x)$ 的在区间 $[0,1000]$ 上的最小值。答案精确到小数点后四位，四舍五入。", "hint": "对于 $50\\%$ 的数据，$n\\le 100$。\n\n对于 $100\\%$ 的数据，$T\\le 10$，$n\\le 10^4$，$0\\le a\\le 100$，$|b| \\le 5\\times 10^3$，$|c| \\le 5\\times 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1884", "type": "P", "difficulty": 4, "samples": [["2\n0 5 4 1\n2 4 6 2\n", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "线段树", "USACO", "离散化", "扫描线", "差分"], "title": "[USACO12FEB] Overplanting S", "background": null, "description": "在一个笛卡尔平面坐标系里（则 $X$ 轴向右是正方向，$Y$ 轴向上是正方向），有 $N\\ (1 \\le N \\le 1000)$ 个矩形，第 $i$ 个矩形的左上角坐标是 $(x_1,y_1)$，右下角坐标是 $(x_2,y_2)$。问这 $N$ 个矩形所覆盖的面积是多少？\n\n注意：被重复覆盖的区域的面积只算一次。", "inputFormat": "第一行，一个整数 $N\\ (1 \\le N \\le 1000)$。\n\n接下来有 $N$ 行，每行描述一个矩形的信息，分别是矩形的 $x_1,y_1,x_2,y_2(-10^8 \\le x_1,y_1,x_2,y_2 \\le 10^8)$。", "outputFormat": "一个整数，被 $N$ 个矩形覆盖的区域的面积。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[USACO12FEB] Overplanting S", "background": null, "description": "Farmer John has purchased a new machine that is capable of planting grass within any rectangular region of his farm that is \"axially aligned\" (i.e., with vertical and horizontal sides). Unfortunately, the machine malfunctions one day and plants grass in not one, but N (1 <= N <= 1000) different rectangular regions, some of which may even overlap.\n\nGiven the rectangular regions planted with grass, please help FJ compute the total area in his farm that is now covered with grass.", "inputFormat": null, "outputFormat": null, "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO12FEB] Overplanting S", "background": null, "description": "在一个笛卡尔平面坐标系里（则 $X$ 轴向右是正方向，$Y$ 轴向上是正方向），有 $N\\ (1 \\le N \\le 1000)$ 个矩形，第 $i$ 个矩形的左上角坐标是 $(x_1,y_1)$，右下角坐标是 $(x_2,y_2)$。问这 $N$ 个矩形所覆盖的面积是多少？\n\n注意：被重复覆盖的区域的面积只算一次。", "inputFormat": "第一行，一个整数 $N\\ (1 \\le N \\le 1000)$。\n\n接下来有 $N$ 行，每行描述一个矩形的信息，分别是矩形的 $x_1,y_1,x_2,y_2(-10^8 \\le x_1,y_1,x_2,y_2 \\le 10^8)$。", "outputFormat": "一个整数，被 $N$ 个矩形覆盖的区域的面积。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1885", "type": "P", "difficulty": 3, "samples": [["11", "m"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "递归", "分治"], "title": "Moo", "background": null, "description": "奶牛 Bessie 最近在学习字符串操作，它用如下的规则逐一的构造出新的字符串：\n\n$S(0) =$ `moo`\n\n$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`\n\n$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`\n\n$\\dots$\n\nBessie 就这样产生字符串，直到最后产生的那个字符串长度不小于读入的整数 $N$ 才停止。\n\n通过上面观察，可以发现第 $k$ 个字符串是由：第 $k-1$ 个字符串 $+$ `m` $+$  $(k+2$ 个 $o) +$ 第 $k-1$ 个字符串连接起来的。\n\n现在的问题是：给出一个整数 $N (1 \\leq N \\leq 10^9)$，问第 $N$ 个字符是字母 `m` 还是 `o`？", "inputFormat": "一个正整数 $N$。", "outputFormat": "一个字符，`m` 或者 `o`。", "hint": "**样例解释：**\n\n由题目所知：字符串 $S(0)$ 是 `moo`, 现在要求第 $11$ 个字符，显然字符串 $S(0)$ 不够长；\n\n同样 $S(1)$ 的长度是 $10$，也不够长；$S(2)$ 的长度是 $25$，够长了，$S(2)$ 的第 $11$ 个字符是 `m`，所以答案就输出 `m`。\n\n**数据范围：**\n\n$1\\leq N\\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Moo", "background": "", "description": "Cow Bessie has recently been studying string operations. She constructs new strings one by one using the following rules:\n\n$S(0) =$ `moo`.\n\n$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`.\n\n$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`.\n\n$\\dots$\n\nBessie keeps generating strings until the length of the last generated string is at least the input integer $N$.\n\nFrom the above, we can see that the $k$-th string is formed by concatenating: the $(k-1)$-th string $+$ `m` $+$ $(k+2$ 个 $o) +$ the $(k-1)$-th string.\n\nNow the problem is: given an integer $N$ ($1 \\leq N \\leq 10^9$), determine whether the $N$-th character is the letter `m` or `o`.", "inputFormat": "A single positive integer $N$.", "outputFormat": "A single character, `m` or `o`.", "hint": "**Sample explanation:**\n\nAs stated, string $S(0)$ is `moo`. We need the $11$-th character, and clearly $S(0)$ is not long enough. Likewise, the length of $S(1)$ is $10$, still not enough. The length of $S(2)$ is $25$, which is enough. The $11$-th character of $S(2)$ is `m`, so the answer is `m`.\n\n**Constraints:**\n\n$1\\leq N\\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Moo", "background": null, "description": "奶牛 Bessie 最近在学习字符串操作，它用如下的规则逐一的构造出新的字符串：\n\n$S(0) =$ `moo`\n\n$S(1) = S(0) +$ `m` $+$ `ooo` $+ S(0) =$ `moo` $+$ `m` $+$ `ooo` $+$ `moo` $=$ `moomooomoo`\n\n$S(2) = S(1) +$ `m` $+$ `oooo` $+ S(1) =$ `moomooomoo` $+$ `m` $+$ `oooo` $+$  `moomooomoo` $=$ `moomooomoomoooomoomooomoo`\n\n$\\dots$\n\nBessie 就这样产生字符串，直到最后产生的那个字符串长度不小于读入的整数 $N$ 才停止。\n\n通过上面观察，可以发现第 $k$ 个字符串是由：第 $k-1$ 个字符串 $+$ `m` $+$  $(k+2$ 个 $o) +$ 第 $k-1$ 个字符串连接起来的。\n\n现在的问题是：给出一个整数 $N (1 \\leq N \\leq 10^9)$，问第 $N$ 个字符是字母 `m` 还是 `o`？", "inputFormat": "一个正整数 $N$。", "outputFormat": "一个字符，`m` 或者 `o`。", "hint": "**样例解释：**\n\n由题目所知：字符串 $S(0)$ 是 `moo`, 现在要求第 $11$ 个字符，显然字符串 $S(0)$ 不够长；\n\n同样 $S(1)$ 的长度是 $10$，也不够长；$S(2)$ 的长度是 $25$，够长了，$S(2)$ 的第 $11$ 个字符是 `m`，所以答案就输出 `m`。\n\n**数据范围：**\n\n$1\\leq N\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1886", "type": "P", "difficulty": 3, "samples": [["8 3\n1 3 -1 -3 5 3 6 7", "-1 -3 -3 -3 3 3\n3 3 5 5 6 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["单调队列", "队列", "模板题"], "title": "【模板】单调队列 / 滑动窗口", "background": "", "description": "有一个长为 $n$ 的序列 $a$，以及一个大小为 $k$ 的窗口。现在这个窗口从左边开始向右滑动，每次滑动一个单位，求出每次滑动后窗口中的最小值和最大值。\n\n例如，对于序列 $[1,3,-1,-3,5,3,6,7]$ 以及 $k = 3$，有如下过程：\n\n$$\\def\\arraystretch{1.2}\n\\begin{array}{|c|c|c|}\\hline\n\\textsf{窗口位置} & \\textsf{最小值} & \\textsf{最大值} \\\\ \\hline\n\\verb![1   3  -1] -3   5   3   6   7 ! & -1 & 3 \\\\ \\hline\n\\verb! 1  [3  -1  -3]  5   3   6   7 ! & -3 & 3 \\\\ \\hline\n\\verb! 1   3 [-1  -3   5]  3   6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1 [-3   5   3]  6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1  -3  [5   3   6]  7 ! & 3 & 6 \\\\ \\hline\n\\verb! 1   3  -1  -3   5  [3   6   7]! & 3 & 7 \\\\ \\hline\n\\end{array}\n$$", "inputFormat": "输入一共有两行，第一行有两个正整数 $n,k$；\\\n第二行有 $n$ 个整数，表示序列 $a$。", "outputFormat": "输出共两行，第一行为每次窗口滑动的最小值；   \n第二行为每次窗口滑动的最大值。", "hint": "【数据范围】    \n对于 $50\\%$ 的数据，$1 \\le n \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le n \\le 10^6$，$a_i \\in [-2^{31},2^{31})$。", "locale": "zh-CN", "translations": {"en": {"title": "Sliding Window / [Template] Monotonic Queue", "background": "", "description": "There is a sequence $a$ of length $n$ and a window of size $k$. The window slides from left to right, moving one position at a time. After each slide, find the minimum and maximum values within the window.\n\nFor example, for the sequence $[1,3,-1,-3,5,3,6,7]$ and $k = 3$, the process is as follows:\n\n$$\\def\\arraystretch{1.2}\n\\begin{array}{|c|c|c|}\\hline\n\\textsf{Window position} & \\textsf{Minimum} & \\textsf{Maximum} \\\\ \\hline\n\\verb![1   3  -1] -3   5   3   6   7 ! & -1 & 3 \\\\ \\hline\n\\verb! 1  [3  -1  -3]  5   3   6   7 ! & -3 & 3 \\\\ \\hline\n\\verb! 1   3 [-1  -3   5]  3   6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1 [-3   5   3]  6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1  -3  [5   3   6]  7 ! & 3 & 6 \\\\ \\hline\n\\verb! 1   3  -1  -3   5  [3   6   7]! & 3 & 7 \\\\ \\hline\n\\end{array}\n$$", "inputFormat": "The input has two lines. The first line contains two positive integers $n, k$.  \nThe second line contains $n$ integers representing the sequence $a$.", "outputFormat": "Output two lines. The first line contains the minimum of the window after each slide.  \nThe second line contains the maximum of the window after each slide.", "hint": "[Constraints]  \nFor 50% of the testdata, $1 \\le n \\le 10^5$.  \nFor 100% of the testdata, $1 \\le k \\le n \\le 10^6$, $a_i \\in [-2^{31}, 2^{31})$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】单调队列 / 滑动窗口", "background": "", "description": "有一个长为 $n$ 的序列 $a$，以及一个大小为 $k$ 的窗口。现在这个窗口从左边开始向右滑动，每次滑动一个单位，求出每次滑动后窗口中的最小值和最大值。\n\n例如，对于序列 $[1,3,-1,-3,5,3,6,7]$ 以及 $k = 3$，有如下过程：\n\n$$\\def\\arraystretch{1.2}\n\\begin{array}{|c|c|c|}\\hline\n\\textsf{窗口位置} & \\textsf{最小值} & \\textsf{最大值} \\\\ \\hline\n\\verb![1   3  -1] -3   5   3   6   7 ! & -1 & 3 \\\\ \\hline\n\\verb! 1  [3  -1  -3]  5   3   6   7 ! & -3 & 3 \\\\ \\hline\n\\verb! 1   3 [-1  -3   5]  3   6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1 [-3   5   3]  6   7 ! & -3 & 5 \\\\ \\hline\n\\verb! 1   3  -1  -3  [5   3   6]  7 ! & 3 & 6 \\\\ \\hline\n\\verb! 1   3  -1  -3   5  [3   6   7]! & 3 & 7 \\\\ \\hline\n\\end{array}\n$$", "inputFormat": "输入一共有两行，第一行有两个正整数 $n,k$；\\\n第二行有 $n$ 个整数，表示序列 $a$。", "outputFormat": "输出共两行，第一行为每次窗口滑动的最小值；   \n第二行为每次窗口滑动的最大值。", "hint": "【数据范围】    \n对于 $50\\%$ 的数据，$1 \\le n \\le 10^5$；  \n对于 $100\\%$ 的数据，$1\\le k \\le n \\le 10^6$，$a_i \\in [-2^{31},2^{31})$。", "locale": "zh-CN"}}}
{"pid": "P1887", "type": "P", "difficulty": 1, "samples": [["6 3", "2 2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "洛谷原创"], "title": "乘积最大3", "background": "", "description": "请你找出 $M$ 个和为 $N$ 的正整数，他们的乘积要尽可能的大。\n\n输出字典序最小的一种方案。\n", "inputFormat": "一行，两个正整数 $N,M$\n", "outputFormat": "$M$ 个和为 $N$ 的，乘积尽可能的大的正整数。\n", "hint": "对于100%的数据，$1 \\le N \\le 10^{9},1 \\le M \\le 10^{6}$。数据保证 $N \\geq M$。", "locale": "zh-CN", "translations": {"en": {"title": "Maximum Product 3", "background": "", "description": "Find $M$ positive integers that sum to $N$ such that their product is as large as possible. Among all optimal solutions, output the lexicographically smallest one.", "inputFormat": "One line containing two positive integers $N, M$.", "outputFormat": "Output $M$ positive integers that sum to $N$ and whose product is as large as possible, separated by spaces. The sequence should be the lexicographically smallest among all optimal solutions.", "hint": "For 100% of the testdata, $1 \\le N \\le 10^{9}$, $1 \\le M \\le 10^{6}$. It is guaranteed that $N \\ge M$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "乘积最大3", "background": "", "description": "请你找出 $M$ 个和为 $N$ 的正整数，他们的乘积要尽可能的大。\n\n输出字典序最小的一种方案。\n", "inputFormat": "一行，两个正整数 $N,M$\n", "outputFormat": "$M$ 个和为 $N$ 的，乘积尽可能的大的正整数。\n", "hint": "对于100%的数据，$1 \\le N \\le 10^{9},1 \\le M \\le 10^{6}$。数据保证 $N \\geq M$。", "locale": "zh-CN"}}}
{"pid": "P1888", "type": "P", "difficulty": 1, "samples": [["3 5 4", "3/5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "排序", "最大公约数 gcd"], "title": "三角函数", "background": "", "description": "输入一组勾股数 $a,b,c（a\\neq b\\neq c）$，用分数格式输出其较小锐角的正弦值。（要求约分。）\n", "inputFormat": "一行，包含三个正整数，即勾股数 $a,b,c$（无大小顺序）。\n", "outputFormat": "一行，包含一个分数，即较小锐角的正弦值\n", "hint": "数据保证：$a,b,c$ 为正整数且 $\\in [1,10^9]$。", "locale": "zh-CN", "translations": {"en": {"title": "Trigonometric Functions", "background": "", "description": "Given a Pythagorean triple $a,b,c（a\\neq b\\neq c）$, output the sine of its smaller acute angle in fractional form. Reduce it to lowest terms.", "inputFormat": "One line containing three positive integers, i.e., the Pythagorean triple $a,b,c$ (in any order).", "outputFormat": "One line containing a fraction, which is the sine of the smaller acute angle.", "hint": "The testdata guarantees that $a,b,c$ are positive integers and $\\in [1,10^9]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "三角函数", "background": "", "description": "输入一组勾股数 $a,b,c（a\\neq b\\neq c）$，用分数格式输出其较小锐角的正弦值。（要求约分。）\n", "inputFormat": "一行，包含三个正整数，即勾股数 $a,b,c$（无大小顺序）。\n", "outputFormat": "一行，包含一个分数，即较小锐角的正弦值\n", "hint": "数据保证：$a,b,c$ 为正整数且 $\\in [1,10^9]$。", "locale": "zh-CN"}}}
{"pid": "P1889", "type": "P", "difficulty": 3, "samples": [["5\n1 2\n2 2\n1 3\n3 -2\n3 3", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "排序"], "title": "士兵站队", "background": null, "description": "在一个划分成网格的操场上，$n$ 个士兵散乱地站在网格点上，由整数坐标 $(x,y)$ 表示。\n\n士兵们可以沿网格边上、下、左、右移动一步，但在同时刻任一网格点上只能有 1 名士兵。\n\n按照军官的命令，他们要整齐地列成一个水平队列，即排成队列，即排成 $(x,y),(x+1,y),\\ldots,(x+n-1,y)$。请求出如何选择 $x$ 和 $y$ 的值才能使士兵们以最少的总移动步数排成一列。", "inputFormat": "输入的第一行是一个整数，代表士兵数 $n$。\n\n第 $2$ 到 $(n + 1)$ 行，每行 $2$ 个整数，第 $(i + 1)$ 行的整数 $x_i, y_i$ 代表第 $i$ 个士兵的坐标。", "outputFormat": "输出一行一个整数，代表答案。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^4$，$-10^4 \\leq x,y \\leq 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Soldiers Line Up", "background": "", "description": "On a grid-partitioned playground, $n$ soldiers are scattered on grid points, each represented by integer coordinates $(x, y)$.\n\nA soldier can move one step up, down, left, or right along grid edges, but at any moment, at most one soldier may occupy any grid point.\n\nBy order, they must form a neat horizontal lineup, that is, the sequence $(x, y), (x+1, y), \\ldots, (x+n-1, y)$. Determine how to choose $x$ and $y$ so that the total number of steps taken by all soldiers to line up is minimized.", "inputFormat": "The first line contains an integer $n$ — the number of soldiers.\n\nLines $2$ to $n+1$ each contain $2$ integers. On line $i+1$, the integers $x_i, y_i$ denote the coordinates of the $i$-th soldier.", "outputFormat": "Output a single integer on one line — the answer.", "hint": "Constraints: For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^4$, $-10^4 \\leq x, y \\leq 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "士兵站队", "background": null, "description": "在一个划分成网格的操场上，$n$ 个士兵散乱地站在网格点上，由整数坐标 $(x,y)$ 表示。\n\n士兵们可以沿网格边上、下、左、右移动一步，但在同时刻任一网格点上只能有 1 名士兵。\n\n按照军官的命令，他们要整齐地列成一个水平队列，即排成队列，即排成 $(x,y),(x+1,y),\\ldots,(x+n-1,y)$。请求出如何选择 $x$ 和 $y$ 的值才能使士兵们以最少的总移动步数排成一列。", "inputFormat": "输入的第一行是一个整数，代表士兵数 $n$。\n\n第 $2$ 到 $(n + 1)$ 行，每行 $2$ 个整数，第 $(i + 1)$ 行的整数 $x_i, y_i$ 代表第 $i$ 个士兵的坐标。", "outputFormat": "输出一行一个整数，代表答案。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^4$，$-10^4 \\leq x,y \\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1890", "type": "P", "difficulty": 3, "samples": [["5 3\r\n4 12 3 6 7\r\n1 3\r\n2 3\r\n5 5\r\n", "1\r\n3\r\n7\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "线段树", "最大公约数 gcd", "ST 表"], "title": "gcd 区间", "background": null, "description": "给定 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n$m$ 次询问，每次询问给定一个区间 $[l,r]$，输出 $a_l,a_{l+1},\\dots,a_r$ 的最大公因数。", "inputFormat": "第一行两个整数 $n,m$。  \n第二行 $n$ 个整数表示 $a_1,a_2,\\dots,a_n$。  \n以下 $m$ 行，每行两个整数 $l, r$ 表示询问区间的左右端点。", "outputFormat": "共 $m$ 行，每行表示一个询问的答案。", "hint": "- 对于 $30\\%$ 的数据，$1\\leq n \\leq 100$，$1\\leq m \\leq 10$；  \n- 对于 $60\\%$ 的数据，$1\\leq m \\leq 1000$；\n- 对于 $100\\%$ 的数据，$1 \\leq l \\leq r \\leq n \\leq 1000$，$1\\leq m \\leq 10^6$，$1 \\leq a_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "GCD Interval", "background": "", "description": "Given $n$ positive integers $a_1, a_2, \\dots, a_n$.\n\nThere are $m$ queries. For each query, given an interval $[l, r]$, output the greatest common divisor of $a_l, a_{l+1}, \\dots, a_r$.", "inputFormat": "The first line contains two integers $n, m$.  \nThe second line contains $n$ integers representing $a_1, a_2, \\dots, a_n$.  \nEach of the next $m$ lines contains two integers $l, r$ representing the left and right endpoints of the query interval.", "outputFormat": "Print $m$ lines, each line is the answer to one query.", "hint": "- For $30\\%$ of the testdata, $1 \\leq n \\leq 100$, $1 \\leq m \\leq 10$.  \n- For $60\\%$ of the testdata, $1 \\leq m \\leq 1000$.  \n- For $100\\%$ of the testdata, $1 \\leq l \\leq r \\leq n \\leq 1000$, $1 \\leq m \\leq 10^6$, $1 \\leq a_i \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "gcd 区间", "background": null, "description": "给定 $n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n$m$ 次询问，每次询问给定一个区间 $[l,r]$，输出 $a_l,a_{l+1},\\dots,a_r$ 的最大公因数。", "inputFormat": "第一行两个整数 $n,m$。  \n第二行 $n$ 个整数表示 $a_1,a_2,\\dots,a_n$。  \n以下 $m$ 行，每行两个整数 $l, r$ 表示询问区间的左右端点。", "outputFormat": "共 $m$ 行，每行表示一个询问的答案。", "hint": "- 对于 $30\\%$ 的数据，$1\\leq n \\leq 100$，$1\\leq m \\leq 10$；  \n- 对于 $60\\%$ 的数据，$1\\leq m \\leq 1000$；\n- 对于 $100\\%$ 的数据，$1 \\leq l \\leq r \\leq n \\leq 1000$，$1\\leq m \\leq 10^6$，$1 \\leq a_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1891", "type": "P", "difficulty": 5, "samples": [["3\n1\n2\n5\n", "1\r\n4\r\n55"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "欧拉函数"], "title": "疯狂 LCM", "background": "众所周知，czmppppp 是数学大神犇。一天，他给众蒟蒻们出了一道数论题，蒟蒻们都惊呆了。", "description": "给定 $n$，求\n\n$$\\sum_{i = 1}^n \\operatorname{lcm}(i, n)$$\n\n其中 $\\operatorname{lcm}(i, j)$ 表示 $i$ 和 $j$ 的最小公倍数。", "inputFormat": "**本题单测试点内有多组数据**。\n\n输入的第一行是一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行一个整数，表示一组数据的 $n$。", "outputFormat": "对于每组数据，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $T \\leq 5$，$n \\leq 10^5$。\n- 对于 $100\\%$ 的数据，$1 \\leq T \\leq 3 \\times 10^5$，$1 \\leq n \\leq 10^6$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Crazy LCM", "background": "As we all know, czmppppp is a math genius. One day, he gave the newbies a number theory problem, and they were all shocked.", "description": "Given $n$, compute\n$$\\sum_{i = 1}^n \\operatorname{lcm}(i, n)$$\nwhere $\\operatorname{lcm}(i, j)$ denotes the least common multiple of $i$ and $j$.", "inputFormat": "**There are multiple test cases in a single test point.**\n\nThe first line contains an integer $T$, the number of test cases.\n\nThe next $T$ lines each contain one integer $n$.", "outputFormat": "For each test case, output one line with a single integer representing the answer.", "hint": "- Constraints:\n  - For $30\\%$ of the testdata, $T \\leq 5$, $n \\leq 10^5$.\n  - For $100\\%$ of the testdata, $1 \\leq T \\leq 3 \\times 10^5$, $1 \\leq n \\leq 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "疯狂 LCM", "background": "众所周知，czmppppp 是数学大神犇。一天，他给众蒟蒻们出了一道数论题，蒟蒻们都惊呆了。", "description": "给定 $n$，求\n\n$$\\sum_{i = 1}^n \\operatorname{lcm}(i, n)$$\n\n其中 $\\operatorname{lcm}(i, j)$ 表示 $i$ 和 $j$ 的最小公倍数。", "inputFormat": "**本题单测试点内有多组数据**。\n\n输入的第一行是一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行一个整数，表示一组数据的 $n$。", "outputFormat": "对于每组数据，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $T \\leq 5$，$n \\leq 10^5$。\n- 对于 $100\\%$ 的数据，$1 \\leq T \\leq 3 \\times 10^5$，$1 \\leq n \\leq 10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P1892", "type": "P", "difficulty": 4, "samples": [["6\n4\nE 1 4\nF 3 5\nF 4 6\nE 1 2", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "2003", "并查集", "图遍历", "BalticOI（波罗的海）"], "title": "[BalticOI 2003] 团伙", "background": "", "description": "现在有 $n$ 个人，他们之间有两种关系：朋友和敌人。我们知道：\n\n- 一个人的朋友的朋友是朋友\n- 一个人的敌人的敌人是朋友\n\n现在要对这些人进行组团。两个人在一个团体内当且仅当这两个人是朋友。请求出这些人中最多可能有的团体数。", "inputFormat": "第一行输入一个整数 $n$ 代表人数。\n\n第二行输入一个整数 $m$ 表示接下来要列出 $m$ 个关系。\n\n接下来 $m$ 行，每行一个字符 $opt$ 和两个整数 $p,q$，分别代表关系（朋友或敌人），有关系的两个人之中的第一个人和第二个人。其中 $opt$ 有两种可能：\n\n- 如果 $opt$ 为 `F`，则表明 $p$ 和 $q$ 是朋友。\n- 如果 $opt$ 为 `E`，则表明 $p$ 和 $q$ 是敌人。", "outputFormat": "一行一个整数代表最多的团体数。", "hint": "对于 $100\\%$ 的数据，$2 \\le n \\le 1000$，$1 \\le m \\le 5000$，$1 \\le p,q \\le n$。", "locale": "zh-CN", "translations": {"en": {"title": "[BalticOI 2003] Gangs", "background": "", "description": "There are $n$ people, and between any two people there are two kinds of relations: friend and enemy. We know:\n\n- A person's friend's friend is also a friend.\n- A person's enemy's enemy is a friend.\n\nWe want to form groups. Two people are in the same group if and only if they are friends. Find the maximum possible number of groups among these people.", "inputFormat": "The first line contains an integer $n$, the number of people.\n\nThe second line contains an integer $m$, meaning that $m$ relations follow.\n\nEach of the next $m$ lines contains a character $opt$ and two integers $p, q$, representing the type of relation (friend or enemy), the first person, and the second person among the two who have a relation. The character $opt$ has two possibilities:\n- If $opt$ is `F`, then $p$ and $q$ are friends.\n- If $opt$ is `E`, then $p$ and $q$ are enemies.", "outputFormat": "Output a single integer on one line: the maximum number of groups.", "hint": "For $100\\%$ of the testdata, $2 \\le n \\le 1000$, $1 \\le m \\le 5000$, $1 \\le p, q \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[BalticOI 2003] 团伙", "background": "", "description": "现在有 $n$ 个人，他们之间有两种关系：朋友和敌人。我们知道：\n\n- 一个人的朋友的朋友是朋友\n- 一个人的敌人的敌人是朋友\n\n现在要对这些人进行组团。两个人在一个团体内当且仅当这两个人是朋友。请求出这些人中最多可能有的团体数。", "inputFormat": "第一行输入一个整数 $n$ 代表人数。\n\n第二行输入一个整数 $m$ 表示接下来要列出 $m$ 个关系。\n\n接下来 $m$ 行，每行一个字符 $opt$ 和两个整数 $p,q$，分别代表关系（朋友或敌人），有关系的两个人之中的第一个人和第二个人。其中 $opt$ 有两种可能：\n\n- 如果 $opt$ 为 `F`，则表明 $p$ 和 $q$ 是朋友。\n- 如果 $opt$ 为 `E`，则表明 $p$ 和 $q$ 是敌人。", "outputFormat": "一行一个整数代表最多的团体数。", "hint": "对于 $100\\%$ 的数据，$2 \\le n \\le 1000$，$1 \\le m \\le 5000$，$1 \\le p,q \\le n$。", "locale": "zh-CN"}}}
{"pid": "P1893", "type": "P", "difficulty": 2, "samples": [["7\n3\n2\n3\n5\n4\n1\n6\n", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2010", "USACO", "枚举"], "title": "[USACO10OPEN] 山峰暸望 Mountain Watching S", "background": null, "description": "一天，Bessie 望着远处的山脉，在思考：“哪一座山最宽呢？”\n\nBessie 设法测量了 $N$ 个位置的高度 $h_i$（$1 \\leq N \\leq 10^4$，$1 \\leq h_i \\leq 10^9$）。一座山被定义为一个高度先不下降，后不上升的子序列。视野边缘的山脉也只会增加或减少高度。一座山的宽度被定义为这座山包含的位置数量。\n\n下面是一个例子：\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\n每座山都已经用字母标出来了。这里 `b` 山脉的宽度最大，为 $28$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $h_i$。", "outputFormat": "输出最宽的山的宽度。", "hint": "**【样例说明】**\n\n在最宽的山处测量到的高度为 $2, 3, 5, 4, 1$。其他的山包括 $3, 2$ 和 $1, 6$。\n\n---\n\n**【提示】**\n\n如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO10OPEN] Mountain Watching S", "background": "", "description": "One day, Bessie gazed at the distant mountains and wondered, \"Which mountain is the widest?\"\n\nBessie managed to measure the heights $h_i$ at $N$ positions ($1 \\leq N \\leq 10^4$, $1 \\leq h_i \\leq 10^9$). A mountain is defined as a contiguous subsequence whose heights first do not decrease and then do not increase. Mountains at the edges of the view may only increase or only decrease in height. The width of a mountain is defined as the number of positions it contains.\n\nHere is an example:\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\nEach mountain has been labeled with letters. Here, the mountain labeled `b` has the maximum width, which is 28.", "inputFormat": "The first line contains an integer $N$.\n\nThe next $N$ lines each contain an integer $h_i$.", "outputFormat": "Output the width of the widest mountain.", "hint": "Sample explanation:\n\nAt the widest mountain, the measured heights are 2, 3, 5, 4, 1. Other mountains include 3, 2 and 1, 6.\n\n---\n\nHint:\n\nIf you know the highest part of a mountain (the peak), you will find it easy to determine its width.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO10OPEN] 山峰暸望 Mountain Watching S", "background": null, "description": "一天，Bessie 望着远处的山脉，在思考：“哪一座山最宽呢？”\n\nBessie 设法测量了 $N$ 个位置的高度 $h_i$（$1 \\leq N \\leq 10^4$，$1 \\leq h_i \\leq 10^9$）。一座山被定义为一个高度先不下降，后不上升的子序列。视野边缘的山脉也只会增加或减少高度。一座山的宽度被定义为这座山包含的位置数量。\n\n下面是一个例子：\n\n```plain\n           *******                   *\n          *********                 ***\n          **********               *****\n          ***********           *********               *\n*      *****************       ***********             *** *\n**    *******************     *************   * *     *******      *\n**********************************************************************\n3211112333677777776543332111112344456765432111212111112343232111111211\naaaaaa                   ccccccccccccccccccccc eeeeeee    ggggggggg\n  bbbbbbbbbbbbbbbbbbbbbbbbbbbb             ddddd ffffffffff  hhhhhhhhh\n```\n\n每座山都已经用字母标出来了。这里 `b` 山脉的宽度最大，为 $28$。", "inputFormat": "第一行一个整数 $N$。\n\n接下来 $N$ 行，每行一个整数 $h_i$。", "outputFormat": "输出最宽的山的宽度。", "hint": "**【样例说明】**\n\n在最宽的山处测量到的高度为 $2, 3, 5, 4, 1$。其他的山包括 $3, 2$ 和 $1, 6$。\n\n---\n\n**【提示】**\n\n如果你知道一座山的最高的部分（也就是山峰），你会发现，找到这座山的宽度是很容易的哦。", "locale": "zh-CN"}}}
{"pid": "P1894", "type": "P", "difficulty": 4, "samples": [["5 5\n2 2 5\n3 2 3 4\n2 1 5\n3 1 2 5\n1 2", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["USACO", "二分图"], "title": "[USACO4.2] 完美的牛栏The Perfect Stall", "background": "", "description": "农夫约翰上个星期刚刚建好了他的新牛棚，他使用了最新的挤奶技术。\n\n不幸的是，由于工程问题，每个牛栏都不一样。\n\n第一个星期，农夫约翰随便地让奶牛们进入牛栏，但是问题很快地显露出来：每头奶牛都只愿意在她们喜欢的那些牛栏中产奶。\n\n上个星期，农夫约翰刚刚收集到了奶牛们的爱好的信息（每头奶牛喜欢在哪些牛栏产奶）。\n\n一个牛栏只能容纳一头奶牛，当然，一头奶牛只能在一个牛栏中产奶。\n\n给出奶牛们的爱好的信息，计算最大分配方案。", "inputFormat": "第一行为两个整数，$n$ 和 $m$。$n$ 是农夫约翰的奶牛数量，$m$ 是新牛棚的牛栏数量。\n\n第二行到第 $n+1$ 行 一共 $n$ 行，每行对应若干个整数一只奶牛。第一个数字 $s_i$ 是这头奶牛愿意在其中产奶的牛栏的数目。后面的 $s_i$ 个数表示这些牛栏的编号。牛栏的编号限定在区间 $[1,m]$ 中，在同一行，一个牛栏不会被列出两次。\n", "outputFormat": "只有一行，为一个整数，表示最多能分配到的牛栏的数量。", "hint": "$0\\le n,m\\le 200$，$0\\le s_i\\le m$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO4.2] The Perfect Stall", "background": "", "description": "Last week, Farmer John finished building his new barn, using the latest milking technology.\n\nUnfortunately, due to construction issues, every stall is different.\n\nIn the first week, Farmer John let the cows enter the stalls at random, but problems quickly appeared: each cow will only produce milk in the stalls she likes.\n\nLast week, Farmer John collected the cows’ preferences (for each cow, which stalls she likes to use).\n\nA stall can hold only one cow, and of course, a cow can be assigned to at most one stall.\n\nGiven the cows’ preferences, compute the maximum assignment.", "inputFormat": "The first line contains two integers, $n$ and $m$. $n$ is the number of Farmer John’s cows, and $m$ is the number of stalls in the new barn.\n\nLines $2$ through $n+1$ (a total of $n$ lines) each describe one cow and contain several integers. The first number $s_i$ is the number of stalls this cow is willing to use. The next $s_i$ numbers are the indices of those stalls. Stall indices are in the range $[1,m]$. On the same line, no stall is listed twice.", "outputFormat": "Output a single line with one integer, the maximum number of stalls that can be assigned.", "hint": "$0 \\le n,m \\le 200$, $0 \\le s_i \\le m$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO4.2] 完美的牛栏The Perfect Stall", "background": "", "description": "农夫约翰上个星期刚刚建好了他的新牛棚，他使用了最新的挤奶技术。\n\n不幸的是，由于工程问题，每个牛栏都不一样。\n\n第一个星期，农夫约翰随便地让奶牛们进入牛栏，但是问题很快地显露出来：每头奶牛都只愿意在她们喜欢的那些牛栏中产奶。\n\n上个星期，农夫约翰刚刚收集到了奶牛们的爱好的信息（每头奶牛喜欢在哪些牛栏产奶）。\n\n一个牛栏只能容纳一头奶牛，当然，一头奶牛只能在一个牛栏中产奶。\n\n给出奶牛们的爱好的信息，计算最大分配方案。", "inputFormat": "第一行为两个整数，$n$ 和 $m$。$n$ 是农夫约翰的奶牛数量，$m$ 是新牛棚的牛栏数量。\n\n第二行到第 $n+1$ 行 一共 $n$ 行，每行对应若干个整数一只奶牛。第一个数字 $s_i$ 是这头奶牛愿意在其中产奶的牛栏的数目。后面的 $s_i$ 个数表示这些牛栏的编号。牛栏的编号限定在区间 $[1,m]$ 中，在同一行，一个牛栏不会被列出两次。\n", "outputFormat": "只有一行，为一个整数，表示最多能分配到的牛栏的数量。", "hint": "$0\\le n,m\\le 200$，$0\\le s_i\\le m$。", "locale": "zh-CN"}}}
{"pid": "P1895", "type": "P", "difficulty": 4, "samples": [["2\n3\n8\n", "2\n2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "数字序列", "background": "", "description": "定义函数 $\\mathrm{tostring}(n)$ 表示将数字 $n$ 按照 $10$ 进制写成字符串。例如，$\\mathrm{tostring}(12345)={\\tt 12345}$。由此，\n\n- 定义字符串 $S_n={\\tt 1+2+3+4+\\cdots}+\\mathrm{tostring}(n)$；\n- 定义字符串 $S_{\\infin}=S_1+S_2+S_3+S_4+\\cdots$\n\n例如，$S_{\\infty}$ 的前若干项为：\n\n$$\\tt 112123123412345123456123456712345678123456789123456789101234567891011\\cdots$$\n\n现在询问 $S_{\\infin}$ 的第 $i$ 位是什么字符。\n", "inputFormat": "第一行为正整数 $t\\ (1 \\le t \\le 10)$，表示测试数据组数。\n\n接下来 $t$ 行，每行一个正整数 $i\\ (1 \\le i \\le 2^{31}-1)$，表示一次询问。", "outputFormat": "对于每一个 $i$，输出对应位置上的数字。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Digit Sequence", "background": "", "description": "Define the function $\\mathrm{tostring}(n)$ as writing the number $n$ in base $10$ as a string. For example, $\\mathrm{tostring}(12345)={\\tt 12345}$. Based on this,\n\n- Define the string $S_n={\\tt 1+2+3+4+\\cdots}+\\mathrm{tostring}(n)$.\n- Define the string $S_{\\infty}=S_1+S_2+S_3+S_4+\\cdots$.\n\nFor example, the beginning of $S_{\\infty}$ is:\n\n$$\\tt 112123123412345123456123456712345678123456789123456789101234567891011\\cdots$$\n\nNow, for a given $i$, determine the character at position $i$ of $S_{\\infty}$.", "inputFormat": "The first line contains a positive integer $t\\ (1 \\le t \\le 10)$, the number of testcases.\n\nThe next $t$ lines each contain one positive integer $i\\ (1 \\le i \\le 2^{31}-1)$, representing a query.", "outputFormat": "For each $i$, output the digit at the corresponding position.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数字序列", "background": "", "description": "定义函数 $\\mathrm{tostring}(n)$ 表示将数字 $n$ 按照 $10$ 进制写成字符串。例如，$\\mathrm{tostring}(12345)={\\tt 12345}$。由此，\n\n- 定义字符串 $S_n={\\tt 1+2+3+4+\\cdots}+\\mathrm{tostring}(n)$；\n- 定义字符串 $S_{\\infin}=S_1+S_2+S_3+S_4+\\cdots$\n\n例如，$S_{\\infty}$ 的前若干项为：\n\n$$\\tt 112123123412345123456123456712345678123456789123456789101234567891011\\cdots$$\n\n现在询问 $S_{\\infin}$ 的第 $i$ 位是什么字符。\n", "inputFormat": "第一行为正整数 $t\\ (1 \\le t \\le 10)$，表示测试数据组数。\n\n接下来 $t$ 行，每行一个正整数 $i\\ (1 \\le i \\le 2^{31}-1)$，表示一次询问。", "outputFormat": "对于每一个 $i$，输出对应位置上的数字。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1896", "type": "P", "difficulty": 5, "samples": [["3 2\n", "16\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2005", "四川", "各省省选", "深度优先搜索 DFS", "轮廓线 DP", "状压 DP"], "title": "[SCOI2005] 互不侵犯", "background": "", "description": "在 $N \\times N$ 的棋盘里面放 $K$ 个国王，使他们互不攻击，共有多少种摆放方案。国王能攻击到它上下左右，以及左上左下右上右下八个方向上附近的各一个格子，共 $8$ 个格子。", "inputFormat": "只有一行，包含两个数 $N,K$。", "outputFormat": "所得的方案数\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 9$，$0 \\le K \\le N\\times N$。\n\n---\n\n$\\text{upd 2018.4.25}$：数据有加强。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2005] Mutual Non-Attack", "background": "", "description": "On an $N \\times N$ chessboard, place $K$ kings so that they do not attack each other. How many placement schemes are there? A king can attack one square in each of the eight directions: up, down, left, right, and the four diagonals (upper-left, lower-left, upper-right, lower-right), for a total of $8$ squares.", "inputFormat": "There is only one line containing two integers $N,K$.", "outputFormat": "The number of such arrangements.", "hint": "### Constraints and Conventions\n\nFor all testdata, $1 \\le N \\le 9$, $0 \\le K \\le N\\times N$.\n\n---\n\n$\\text{upd 2018.4.25}$: The testdata has been strengthened.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2005] 互不侵犯", "background": "", "description": "在 $N \\times N$ 的棋盘里面放 $K$ 个国王，使他们互不攻击，共有多少种摆放方案。国王能攻击到它上下左右，以及左上左下右上右下八个方向上附近的各一个格子，共 $8$ 个格子。", "inputFormat": "只有一行，包含两个数 $N,K$。", "outputFormat": "所得的方案数\n", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le N \\le 9$，$0 \\le K \\le N\\times N$。\n\n---\n\n$\\text{upd 2018.4.25}$：数据有加强。", "locale": "zh-CN"}}}
{"pid": "P1897", "type": "P", "difficulty": 1, "samples": [["4\n2 4 3 2 ", "59"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "排序"], "title": "电梯里的尴尬", "background": "细心的同学发现，小W最近喜欢乘电梯上上下下，究其原因，也许只有小W自己知道：在电梯里经常可以遇到他心中的OI大神 lxl。\n\n电梯其实是个很神奇的地方，只有在电梯里，小W才有勇气如此近距离接近大神，虽然觉得有点不自在，但次数多了，大神也习惯了小W的存在，甚至熟悉到仿佛不说上句话自己也都觉得不合适了。可是，他们的谈话也仅仅限于今天天气不错啊或是你吃了吗之类的，往往在对方微笑点头后就再次陷入难堪的沉默之中。", "description": "于是，小W便在搭讪大神的同时，也关注着电梯中显示的楼层数字，并且他注意到电梯每向上运行一层需要 $6$ 秒钟，向下运行一层需要 $4$ 秒钟，每开门一次需要 $5$ 秒（如果有人到达才开门），并且每下一个人需要加 $1$ 秒。\n\n特别指出，电梯最开始在 $0$ 层，并且最后必须再回到 $0$ 层才算一趟任务结束。假设在开始的时候已知电梯内的每个人要去的楼层，你能计算出完成本趟任务需要的总时间吗?\n\n这是个很简单的问题，要知道，小W已经修炼到快速心算出结果的境界，现在你来编程试试吧！", "inputFormat": "共 $2$ 行\n\n第 $1$ 行，一个正整数 $n$，表示乘坐电梯的人数。\n\n第 $2$ 行，$n$ 个正整数，$a_{i}$ 表示第 $i$ 个人要去的楼层。", "outputFormat": "仅 $1$ 行，一个正整数，表示完成这趟任务需要的时间。", "hint": "对于 $60\\%$ 的数据 $0<n<10^4$\n\n对于 $100\\%$ 的数据 $0<n<10^5$，$0<a_{i}\\leq 2\\times 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "The Awkwardness in the Elevator", "background": "Careful students have noticed that lately, Xiao W likes to ride the elevator up and down. As for the reason, perhaps only Xiao W knows: in the elevator, he often runs into the OI “da shen” lxl in his heart.\n\nThe elevator is actually a magical place. Only in the elevator does Xiao W have the courage to get so close to the “da shen.” Although he feels a bit uneasy, after many encounters, the “da shen” has gotten used to Xiao W’s presence, even to the point where it feels inappropriate not to say something. However, their conversation is limited to things like “Nice weather today” or “Have you eaten?”, and often, after a polite smile and nod, they fall back into an awkward silence.", "description": "So, while trying to strike up a conversation with the “da shen,” Xiao W also watches the floor number displayed in the elevator. He notices that going up one floor takes $6$ seconds, going down one floor takes $4$ seconds, each door opening takes $5$ seconds (only if someone arrives and the elevator stops), and each person getting off adds $1$ second.\n\nIt is specifically stated that the elevator starts on floor $0$, and it must return to floor $0$ at the end for the trip to be considered finished. Assuming that at the beginning we know the destination floor of every person currently inside the elevator, can you compute the total time needed to complete this trip?\n\nThis is a very simple problem. You should know that Xiao W has already trained himself to quickly do the mental arithmetic. Now you try to program it!", "inputFormat": "There are $2$ lines.\n\nThe first line contains a positive integer $n$, the number of people riding the elevator.\n\nThe second line contains $n$ positive integers. $a_{i}$ denotes the destination floor of the $i$-th person.", "outputFormat": "Output one line containing a positive integer — the time needed to complete this trip.", "hint": "For $60\\%$ of the testdata, $0<n<10^4$.\n\nFor $100\\%$ of the testdata, $0<n<10^5$, $0<a_{i}\\leq 2\\times 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "电梯里的尴尬", "background": "细心的同学发现，小W最近喜欢乘电梯上上下下，究其原因，也许只有小W自己知道：在电梯里经常可以遇到他心中的OI大神 lxl。\n\n电梯其实是个很神奇的地方，只有在电梯里，小W才有勇气如此近距离接近大神，虽然觉得有点不自在，但次数多了，大神也习惯了小W的存在，甚至熟悉到仿佛不说上句话自己也都觉得不合适了。可是，他们的谈话也仅仅限于今天天气不错啊或是你吃了吗之类的，往往在对方微笑点头后就再次陷入难堪的沉默之中。", "description": "于是，小W便在搭讪大神的同时，也关注着电梯中显示的楼层数字，并且他注意到电梯每向上运行一层需要 $6$ 秒钟，向下运行一层需要 $4$ 秒钟，每开门一次需要 $5$ 秒（如果有人到达才开门），并且每下一个人需要加 $1$ 秒。\n\n特别指出，电梯最开始在 $0$ 层，并且最后必须再回到 $0$ 层才算一趟任务结束。假设在开始的时候已知电梯内的每个人要去的楼层，你能计算出完成本趟任务需要的总时间吗?\n\n这是个很简单的问题，要知道，小W已经修炼到快速心算出结果的境界，现在你来编程试试吧！", "inputFormat": "共 $2$ 行\n\n第 $1$ 行，一个正整数 $n$，表示乘坐电梯的人数。\n\n第 $2$ 行，$n$ 个正整数，$a_{i}$ 表示第 $i$ 个人要去的楼层。", "outputFormat": "仅 $1$ 行，一个正整数，表示完成这趟任务需要的时间。", "hint": "对于 $60\\%$ 的数据 $0<n<10^4$\n\n对于 $100\\%$ 的数据 $0<n<10^5$，$0<a_{i}\\leq 2\\times 10^7$。", "locale": "zh-CN"}}}
{"pid": "P1898", "type": "P", "difficulty": 2, "samples": [["DLLSS\n478", "100\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "搜索"], "title": "缘分计算", "background": "缘分是一个外国人难以理解的中文名词。大致说来，缘分是一种冥冥中将两人（通常是情人）结合的力量。仅管这是种迷信，很多人——特别是女生——喜欢去计算它。\n\n不幸的是，644 也是这样。有天，她问 DL：“甜心，可以算一下我们的缘分吗？”唉，DL 真的很讨厌这问题，但他无法拒绝。还好，DL 是个程序设计师，所以他只要找到一个看来不错的算法并写成一个缘分计算器就可以了。在网络上搜寻了几个小时后，他决定采用以下的缘分算法：", "description": "第一步：取出姓名的缩写（abbreviation）并接在一起。例如，如果这对恋人叫 JiangYunFan 和 TangYuRou，他们的缩写就是 JYFTYR。第二步：将每个字母用数字字符串取代。用 $\\mathrm{ST}$ 来取代 $\\tt A$，$\\mathrm{ST}+1$ 来取代 $\\tt B$，$\\mathrm{ST}+2$ 来取代 $\\tt C$，……，$\\mathrm{ST}+25$ 来取代 $Z$，其中 $\\mathrm{ST}$ 为一个已知的正整数。例如，如果 $\\mathrm{ST}=81$，$\\tt A$ 就被 $81$ 取代，$\\tt B$ 就被 $82$ 取代，……，$\\tt Z$ 则被 $106$ 取代。上面的例子 JYFTYR 则被 $901058610010598$ 取代。\n\n第三步：重复以下操作：将相邻的两位数相加，并写下和的个位数。不难发现这个操作每进行一次，这个数字字符串就会少一位数。当这个数字变成 $100$ 或不超过两位数（第一位是 $0$ 也算两位数）时，这个程序便停止。所得的数字就是两人的缘分。用上面的例子来说，处理的过程如下：\n\n- $901058610010598$；\n- $91153471011547$；\n- $0268718112691$；\n- ……\n- $374$；\n- $01$。\n\n所以如果 $\\mathrm{ST}=81$，JiangYunFan 和 TangYuRou 的缘分便只有 $1$。\n\n惨了！DL 很了解 644。他知道即使这个程序计算出的缘分高达 $99$ 她仍然会不高兴。更何况 644 还对其余很多对恋人间的缘分感兴趣，要是他一个个计算会太繁琐。如果告诉你一对恋人的姓名和一个 $\\mathrm{ST}$ 值，你能编一个程序算出他们的缘分吗？", "inputFormat": "第一行包含一个仅含大写字母且长度为 $L$ 的字符串。\n\n第二行包含一个正整数 $\\mathrm{ST}$，含义如题目所述。\n", "outputFormat": "输出仅一行，包含一个整数，表示两人的缘分。\n", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 的数据，$4 ≤ L ≤ 10$，$1 ≤ \\mathrm{ST} ≤ 10000$。\n\n### 注意\n\n如果你和你的恋人的缘分不是 $100$，不要伤心。这没有什么大不了的。", "locale": "zh-CN", "translations": {"en": {"title": "Yuanfen Calculation", "background": "Yuanfen is a Chinese term that is hard for foreigners to understand. Roughly speaking, yuanfen is a mysterious force that brings two people (usually lovers) together. Although it's superstitious, many people—especially girls—like to calculate it.\n\nUnfortunately, 644 is like that too. One day, she asked DL, “Honey, could you calculate our yuanfen?” Sigh, DL really dislikes this question, but he couldn’t refuse. Luckily, DL is a programmer, so he only needed to find a reasonable-looking algorithm and write a yuanfen calculator. After searching online for several hours, he decided to use the following yuanfen algorithm.", "description": "Step 1: Take the initials (abbreviation) of the names and concatenate them. For example, if the lovers are named JiangYunFan and TangYuRou, their initials are JYFTYR.\n\nStep 2: Replace each letter with a string of digits. Replace $\\tt A$ with $\\mathrm{ST}$, $\\tt B$ with $\\mathrm{ST}+1$, $\\tt C$ with $\\mathrm{ST}+2$, …, and $Z$ with $\\mathrm{ST}+25$, where $\\mathrm{ST}$ is a known positive integer. For example, if $\\mathrm{ST}=81$, then $\\tt A$ is replaced by $81$, $\\tt B$ by $82$, …, and $\\tt Z$ by $106$. The example JYFTYR becomes $901058610010598$.\n\nStep 3: Repeat the following operation: add each pair of adjacent digits, and write down the ones digit of the sum. It is easy to see that each time this operation is performed, the digit string becomes one digit shorter. When the number becomes $100$ or has no more than two digits (a two-digit number with a leading $0$ also counts), the program stops. The resulting number is the couple’s yuanfen. For the example above, the process is as follows:\n- 901058610010598;\n- 91153471011547;\n- 0268718112691;\n- ...\n- 374;\n- 01.\n\nSo if $\\mathrm{ST}=81$, the yuanfen between JiangYunFan and TangYuRou is only $1$.\n\nOh no! DL knows 644 very well. He knows that even if the program calculates a yuanfen as high as $99$, she still won’t be happy. What’s worse, 644 is also curious about the yuanfen of many other couples, and it would be too tedious to compute them one by one. Given the couple’s initials string and a value of $\\mathrm{ST}$, can you write a program to compute their yuanfen?", "inputFormat": "The first line contains a string of length $L$ consisting only of uppercase letters.\n\nThe second line contains a positive integer $\\mathrm{ST}$, as defined in the statement.", "outputFormat": "Output a single line containing an integer, which is the couple’s yuanfen.", "hint": "### Constraints\n\nFor $100\\%$ of the testdata, $4 \\le L \\le 10$, $1 \\le \\mathrm{ST} \\le 10000$.\n\n### Note\n\nIf your yuanfen with your lover is not $100$, don’t be sad. It’s not a big deal.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "缘分计算", "background": "缘分是一个外国人难以理解的中文名词。大致说来，缘分是一种冥冥中将两人（通常是情人）结合的力量。仅管这是种迷信，很多人——特别是女生——喜欢去计算它。\n\n不幸的是，644 也是这样。有天，她问 DL：“甜心，可以算一下我们的缘分吗？”唉，DL 真的很讨厌这问题，但他无法拒绝。还好，DL 是个程序设计师，所以他只要找到一个看来不错的算法并写成一个缘分计算器就可以了。在网络上搜寻了几个小时后，他决定采用以下的缘分算法：", "description": "第一步：取出姓名的缩写（abbreviation）并接在一起。例如，如果这对恋人叫 JiangYunFan 和 TangYuRou，他们的缩写就是 JYFTYR。第二步：将每个字母用数字字符串取代。用 $\\mathrm{ST}$ 来取代 $\\tt A$，$\\mathrm{ST}+1$ 来取代 $\\tt B$，$\\mathrm{ST}+2$ 来取代 $\\tt C$，……，$\\mathrm{ST}+25$ 来取代 $Z$，其中 $\\mathrm{ST}$ 为一个已知的正整数。例如，如果 $\\mathrm{ST}=81$，$\\tt A$ 就被 $81$ 取代，$\\tt B$ 就被 $82$ 取代，……，$\\tt Z$ 则被 $106$ 取代。上面的例子 JYFTYR 则被 $901058610010598$ 取代。\n\n第三步：重复以下操作：将相邻的两位数相加，并写下和的个位数。不难发现这个操作每进行一次，这个数字字符串就会少一位数。当这个数字变成 $100$ 或不超过两位数（第一位是 $0$ 也算两位数）时，这个程序便停止。所得的数字就是两人的缘分。用上面的例子来说，处理的过程如下：\n\n- $901058610010598$；\n- $91153471011547$；\n- $0268718112691$；\n- ……\n- $374$；\n- $01$。\n\n所以如果 $\\mathrm{ST}=81$，JiangYunFan 和 TangYuRou 的缘分便只有 $1$。\n\n惨了！DL 很了解 644。他知道即使这个程序计算出的缘分高达 $99$ 她仍然会不高兴。更何况 644 还对其余很多对恋人间的缘分感兴趣，要是他一个个计算会太繁琐。如果告诉你一对恋人的姓名和一个 $\\mathrm{ST}$ 值，你能编一个程序算出他们的缘分吗？", "inputFormat": "第一行包含一个仅含大写字母且长度为 $L$ 的字符串。\n\n第二行包含一个正整数 $\\mathrm{ST}$，含义如题目所述。\n", "outputFormat": "输出仅一行，包含一个整数，表示两人的缘分。\n", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 的数据，$4 ≤ L ≤ 10$，$1 ≤ \\mathrm{ST} ≤ 10000$。\n\n### 注意\n\n如果你和你的恋人的缘分不是 $100$，不要伤心。这没有什么大不了的。", "locale": "zh-CN"}}}
{"pid": "P1899", "type": "P", "difficulty": 5, "samples": [["2 10\n10\n20 100\n", "100\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "递归", "NOI 导刊"], "title": "魔法物品", "background": "", "description": "\n有两种类型的物品：普通物品和魔法物品。普通物品没有魔法属性，而魔法物品拥有一些魔法属性。每种普通物品有一个价值 $P$，但每种魔法物品有两种价值：鉴定前的价值 $P_1$ 和鉴定后的价值 $P_2$（当然，$P_2$ 总是大于 $P_1$）。\n\n为了鉴定一个魔法物品，你需要购买一个鉴定卷轴，用它来鉴定魔法物品。鉴定完一件魔法物品以后，鉴定卷轴便会消失。每个鉴定卷轴将会消耗 $P_i$ 元钱。如果没有足够的钱，你将无法购买任何鉴定卷轴。    \n现在，你正在一个集市中，同时拥有很多物品。你知道每件物品的价值并且想要出售全部物品。那么，你最多能够获得多少钱呢？\n\n你可以假定：\n\n- 开始的时候你没有钱。\n- 所有的魔法物品都还没有被鉴定。\n- 只要你有足够的钱，你可以购买任意多的鉴定卷轴。", "inputFormat": "第一行有两个整数 $N$ 和 $P_i$（$1 \\le P_i \\le 5000$），表示你拥有的物品数和一个鉴定卷轴的价格。  \n接下来 $N$ 行，每行给出一件物品的价格。  \n对于每件普通物品行仅有一个整数 $P$（$1 \\le P \\le 10000$）。  \n对于每件魔法物品,那一行将会有两个整数 $P_1$ 和 $P_2$（$1 \\le P_1 < P_2 \\le 10000$）。", "outputFormat": "输出一个整数表示你最多能够获得多少钱。", "hint": "对于 $30\\%$ 的数据，$1\\le N \\le 50$。  \n对于 $100\\%$ 的数据，$1 \\le N \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Magic Items", "background": "", "description": "There are two types of items: ordinary items and magic items. Ordinary items have no magical properties, while magic items have some magical attributes. Each ordinary item has a single value $P$, but each magic item has two values: the value before identification $P_1$ and the value after identification $P_2$ (of course, $P_2$ is always greater than $P_1$).\n\nTo identify a magic item, you need to buy an identification scroll and use it on the magic item. After you identify one magic item, the scroll is consumed. Each identification scroll costs $P_i$ coins. If you do not have enough money, you cannot buy any identification scroll.\n\nYou are at a bazaar and currently hold many items. You know the value of each item and want to sell all of them. What is the maximum amount of money you can obtain?\n\nYou may assume:\n- You start with no money.\n- All magic items are initially unidentifed.\n- As long as you have enough money, you may buy any number of identification scrolls.", "inputFormat": "The first line contains two integers $N$ and $P_i$ ($1 \\le P_i \\le 5000$), denoting the number of items you own and the price of one identification scroll.  \nThe next $N$ lines each describe one item.  \nFor each ordinary item, the line contains a single integer $P$ ($1 \\le P \\le 10000$).  \nFor each magic item, the line contains two integers $P_1$ and $P_2$ ($1 \\le P_1 < P_2 \\le 10000$).", "outputFormat": "Output a single integer: the maximum amount of money you can obtain.", "hint": "For $30\\%$ of the testdata, $1 \\le N \\le 50$.  \nFor $100\\%$ of the testdata, $1 \\le N \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "魔法物品", "background": "", "description": "\n有两种类型的物品：普通物品和魔法物品。普通物品没有魔法属性，而魔法物品拥有一些魔法属性。每种普通物品有一个价值 $P$，但每种魔法物品有两种价值：鉴定前的价值 $P_1$ 和鉴定后的价值 $P_2$（当然，$P_2$ 总是大于 $P_1$）。\n\n为了鉴定一个魔法物品，你需要购买一个鉴定卷轴，用它来鉴定魔法物品。鉴定完一件魔法物品以后，鉴定卷轴便会消失。每个鉴定卷轴将会消耗 $P_i$ 元钱。如果没有足够的钱，你将无法购买任何鉴定卷轴。    \n现在，你正在一个集市中，同时拥有很多物品。你知道每件物品的价值并且想要出售全部物品。那么，你最多能够获得多少钱呢？\n\n你可以假定：\n\n- 开始的时候你没有钱。\n- 所有的魔法物品都还没有被鉴定。\n- 只要你有足够的钱，你可以购买任意多的鉴定卷轴。", "inputFormat": "第一行有两个整数 $N$ 和 $P_i$（$1 \\le P_i \\le 5000$），表示你拥有的物品数和一个鉴定卷轴的价格。  \n接下来 $N$ 行，每行给出一件物品的价格。  \n对于每件普通物品行仅有一个整数 $P$（$1 \\le P \\le 10000$）。  \n对于每件魔法物品,那一行将会有两个整数 $P_1$ 和 $P_2$（$1 \\le P_1 < P_2 \\le 10000$）。", "outputFormat": "输出一个整数表示你最多能够获得多少钱。", "hint": "对于 $30\\%$ 的数据，$1\\le N \\le 50$。  \n对于 $100\\%$ 的数据，$1 \\le N \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1900", "type": "P", "difficulty": 3, "samples": [["100 10\n1 2 3 4 5 6 7 11 12 13 \n", "13\n1 3 5 7 9 20 31 75 86 97\n"]], "limits": {"time": [750, 750, 750, 750, 750, 750, 750, 750, 750, 750], "memory": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000]}, "tags": ["数学"], "title": "自我数", "background": "#题目有加强\n", "description": "在 1949 年印度数学家 D. R. Daprekar 发现了一类称作 Self-Numbers 的数。对于每一个正整数 $n$，我们定义 $d(n)$ 为 $n$ 加上它每一位数字的和。例如， $d(75) = 75 + 7 + 5 = 87$。给定任意正整数 $n$ 作为一个起点，都能构造出一个无限递增的序列：$n, d(n), d(d(n)), d(d(d(n))), \\ldots$ 例如，如果你从 $33$ 开始，下一个数是 $33 + 3 + 3 = 39$，再下一个为 $39 + 3 + 9 = 51$，再再下一个为 $51 + 5 + 1 = 57$，因此你所产生的序列就像这样：$33, 39, 51, 57, 69, 84, 96, 111, 114, 120, 123, 129, 141, \\ldots$。数字 $n$ 被称作 $d(n)$ 的发生器。在上面的这个序列中，$33$ 是 $39$ 的发生器，$39$ 是 $51$ 的发生器，$51$ 是 $57$ 的发生器等等。有一些数有超过一个发生器，如 $101$ 的发生器可以是 $91$ 和 $100$。一个没有发生器的数被称作 Self-Number。如前 $13$ 个 Self-Number 为 $1, 3, 5, 7, 9, 20, 31, 42, 53, 64, 75, 86, 97$。我们将第 $i$ 个 Self-Number 表示为 $a_i$，所以 $a_1 = 1, a_2 = 3, a_3 = 5, \\ldots$。\n", "inputFormat": "输入包含整数 $N, K, s_1, \\ldots, s_K$，其中 $1 \\le N \\le {10}^7$、$1 \\le K \\le 5000$，以空格和换行分割。\n", "outputFormat": "在第一行你需要输出一个数，这个数表示在闭区间 $[1, N]$ 中 Self-Number 的数量。第二行必须包含以空格划分的 $K$ 个数，表示 $a_{s_1}, \\ldots, a_{s_K}$，这里保证所有的 $a_{s_1}, \\ldots, a_{s_K}$ 都小于 $N$。（例如，如果 $N = 100$，$s_k$ 可以为 $1 \\sim 13$，但不能为 $14$，因为 $a_{14} = 108 > 100$）\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le {10}^7$，$1 \\le K \\le 5000$。", "locale": "zh-CN", "translations": {"en": {"title": "Self Numbers", "background": "The problem has been strengthened.", "description": "In 1949, Indian mathematician D. R. Daprekar discovered a class of numbers called Self-Numbers. For every positive integer $n$, we define $d(n)$ as $n$ plus the sum of its digits. For example, $d(75) = 75 + 7 + 5 = 87$. Given any positive integer $n$ as a starting point, we can construct an infinite increasing sequence: $n, d(n), d(d(n)), d(d(d(n))), \\ldots$ For example, if you start from $33$, the next number is $33 + 3 + 3 = 39$, the next is $39 + 3 + 9 = 51$, and the one after that is $51 + 5 + 1 = 57$, so the sequence you generate looks like this: $33, 39, 51, 57, 69, 84, 96, 111, 114, 120, 123, 129, 141, \\ldots$ The number $n$ is called a generator of $d(n)$. In the sequence above, $33$ is a generator of $39$, $39$ is a generator of $51$, $51$ is a generator of $57$, and so on. Some numbers have more than one generator, such as $101$, whose generators can be $91$ and $100$. A number with no generator is called a Self-Number. The first $13$ Self-Numbers are $1, 3, 5, 7, 9, 20, 31, 42, 53, 64, 75, 86, 97$. We denote the $i$-th Self-Number by $a_i$, so $a_1 = 1, a_2 = 3, a_3 = 5, \\ldots$.", "inputFormat": "The input contains integers $N, K, s_1, \\ldots, s_K$, where $1 \\le N \\le {10}^7$ and $1 \\le K \\le 5000$, separated by spaces and newlines.", "outputFormat": "On the first line, output a single number: the count of Self-Numbers in the closed interval $[1, N]$. The second line must contain $K$ numbers separated by spaces, namely $a_{s_1}, \\ldots, a_{s_K}$. It is guaranteed that all of $a_{s_1}, \\ldots, a_{s_K}$ are less than $N$. (For example, if $N = 100$, $s_k$ can be from $1$ to $13$, but not $14$, because $a_{14} = 108 > 100$.)", "hint": "For $100\\%$ of the testdata, $1 \\le N \\le {10}^7$ and $1 \\le K \\le 5000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "自我数", "background": "#题目有加强\n", "description": "在 1949 年印度数学家 D. R. Daprekar 发现了一类称作 Self-Numbers 的数。对于每一个正整数 $n$，我们定义 $d(n)$ 为 $n$ 加上它每一位数字的和。例如， $d(75) = 75 + 7 + 5 = 87$。给定任意正整数 $n$ 作为一个起点，都能构造出一个无限递增的序列：$n, d(n), d(d(n)), d(d(d(n))), \\ldots$ 例如，如果你从 $33$ 开始，下一个数是 $33 + 3 + 3 = 39$，再下一个为 $39 + 3 + 9 = 51$，再再下一个为 $51 + 5 + 1 = 57$，因此你所产生的序列就像这样：$33, 39, 51, 57, 69, 84, 96, 111, 114, 120, 123, 129, 141, \\ldots$。数字 $n$ 被称作 $d(n)$ 的发生器。在上面的这个序列中，$33$ 是 $39$ 的发生器，$39$ 是 $51$ 的发生器，$51$ 是 $57$ 的发生器等等。有一些数有超过一个发生器，如 $101$ 的发生器可以是 $91$ 和 $100$。一个没有发生器的数被称作 Self-Number。如前 $13$ 个 Self-Number 为 $1, 3, 5, 7, 9, 20, 31, 42, 53, 64, 75, 86, 97$。我们将第 $i$ 个 Self-Number 表示为 $a_i$，所以 $a_1 = 1, a_2 = 3, a_3 = 5, \\ldots$。\n", "inputFormat": "输入包含整数 $N, K, s_1, \\ldots, s_K$，其中 $1 \\le N \\le {10}^7$、$1 \\le K \\le 5000$，以空格和换行分割。\n", "outputFormat": "在第一行你需要输出一个数，这个数表示在闭区间 $[1, N]$ 中 Self-Number 的数量。第二行必须包含以空格划分的 $K$ 个数，表示 $a_{s_1}, \\ldots, a_{s_K}$，这里保证所有的 $a_{s_1}, \\ldots, a_{s_K}$ 都小于 $N$。（例如，如果 $N = 100$，$s_k$ 可以为 $1 \\sim 13$，但不能为 $14$，因为 $a_{14} = 108 > 100$）\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le {10}^7$，$1 \\le K \\le 5000$。", "locale": "zh-CN"}}}
{"pid": "P1901", "type": "P", "difficulty": 3, "samples": [["3\n4 2 \n3 5 \n6 10\n", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["NOI 导刊", "栈", "单调栈"], "title": "发射站", "background": "", "description": "某地有 $N$ 个能量发射站排成一行，每个发射站 $i$ 都有不相同的高度 $H_i$，并能向两边（两端的发射站只能向一边）同时发射能量值为 $V_i$ 的能量，发出的能量只被两边**最近的且比它高**的发射站接收。显然，每个发射站发来的能量有可能被 $0$ 或 $1$ 或 $2$ 个其他发射站所接受。\n\n请计算出接收最多能量的发射站接收的能量是多少。\n", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n第 $2$ 到 $N+1$ 行，第 $i+1$ 行有两个整数 $H_i$ 和 $V_i$，表示第 $i$ 个发射站的高度和发射的能量值。", "outputFormat": "输出仅一行，表示接收最多能量的发射站接收到的能量值。答案不超过 32 位带符号整数的表示范围。\n", "hint": "对于 $40\\%$ 的数据，$1\\le N\\le 5000,1\\le H_i\\le 10^5,1\\le V_i\\le 10^4$。\n\n对于 $70\\%$ 的数据，$1\\le N\\le 10^5,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^6,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Transmitter Stations", "background": "", "description": "There are $N$ energy transmitter stations arranged in a line. Each station $i$ has a pairwise distinct height $H_i$ and can simultaneously emit energy of value $V_i$ to both sides (stations at the ends can emit only to one side). The emitted energy is received only by the **nearest and taller** station on each side. Clearly, the energy from a station may be received by $0$, $1$, or $2$ other stations.\n\nPlease compute the amount of energy received by the station that receives the most energy.", "inputFormat": "The first line contains an integer $N$.\n\nLines $2$ through $N+1$: line $i+1$ contains two integers $H_i$ and $V_i$, denoting the height of the $i$-th station and the value of the energy it emits.", "outputFormat": "Output a single line containing the maximum energy received by any station. The answer fits in a 32-bit signed integer.", "hint": "For $40\\%$ of the testdata, $1\\le N\\le 5000, 1\\le H_i\\le 10^5, 1\\le V_i\\le 10^4$.\n\nFor $70\\%$ of the testdata, $1\\le N\\le 10^5, 1\\le H_i\\le 2\\times 10^9, 1\\le V_i\\le 10^4$.\n\nFor $100\\%$ of the testdata, $1\\le N\\le 10^6, 1\\le H_i\\le 2\\times 10^9, 1\\le V_i\\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "发射站", "background": "", "description": "某地有 $N$ 个能量发射站排成一行，每个发射站 $i$ 都有不相同的高度 $H_i$，并能向两边（两端的发射站只能向一边）同时发射能量值为 $V_i$ 的能量，发出的能量只被两边**最近的且比它高**的发射站接收。显然，每个发射站发来的能量有可能被 $0$ 或 $1$ 或 $2$ 个其他发射站所接受。\n\n请计算出接收最多能量的发射站接收的能量是多少。\n", "inputFormat": "第 $1$ 行一个整数 $N$。\n\n第 $2$ 到 $N+1$ 行，第 $i+1$ 行有两个整数 $H_i$ 和 $V_i$，表示第 $i$ 个发射站的高度和发射的能量值。", "outputFormat": "输出仅一行，表示接收最多能量的发射站接收到的能量值。答案不超过 32 位带符号整数的表示范围。\n", "hint": "对于 $40\\%$ 的数据，$1\\le N\\le 5000,1\\le H_i\\le 10^5,1\\le V_i\\le 10^4$。\n\n对于 $70\\%$ 的数据，$1\\le N\\le 10^5,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^6,1\\le H_i\\le 2\\times 10^9,1\\le V_i\\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1902", "type": "P", "difficulty": 3, "samples": [["4 2\n0 0 \n3 5 \n2 4 \n0 0 \n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分", "NOI 导刊", "广度优先搜索 BFS"], "title": "刺杀大使", "background": null, "description": "某组织正在策划一起对某大使的刺杀行动。他们来到了使馆，准备完成此次刺杀，要进入使馆首先必须通过使馆前的防御迷阵。\n\n迷阵由 $n\\times m$ 个相同的小房间组成，每个房间与相邻四个房间之间有门可通行。在第 $n$ 行的 $m$ 个房间里有 $m$ 个机关，这些机关必须全部打开才可以进入大使馆。而第 $1$ 行的 $m$ 个房间有 $m$ 扇向外打开的门，是迷阵的入口。除了第 $1$ 行和第 $n$ 行的房间外，每个房间都被使馆的安保人员安装了激光杀伤装置，将会对进入房间的人造成一定的伤害。第 $i$ 行第 $j$ 列 造成的伤害值为 $p_{i,j}$（第 $1$ 行和第 $n$ 行的 $p$ 值全部为 $0$）。\n\n现在某组织打算以最小伤害代价进入迷阵，打开全部机关，显然，他们可以选择任意多的人从任意的门进入，但必须到达第 $n$ 行的每个房间。一个士兵受到的伤害值为他到达某个机关的路径上所有房间的伤害值中的最大值，整个部队受到的伤害值为所有士兵的伤害值中的最大值。现在，这个恐怖组织掌握了迷阵的情况，他们需要提前知道怎么安排士兵的行进路线可以使得整个部队的伤害值最小。", "inputFormat": "第一行有两个整数 $n,m$，表示迷阵的大小。\n\n接下来 $n$ 行，每行 $m$ 个数，第 $i$ 行第 $j$ 列的数表示 $p_{i,j}$。", "outputFormat": "输出一个数，表示最小伤害代价。", "hint": "- $50\\%$ 的数据，$n,m \\leq 100$；\n- $100\\%$ 的数据，$n,m \\leq 1000$，$p_{i,j} \\leq 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Assassinate the Ambassador", "background": "", "description": "A certain organization is planning the assassination of an ambassador. They arrive at the embassy and prepare to carry out the plan. To enter the embassy, they must first get through the defensive maze in front of it.\n\nThe maze consists of $n \\times m$ identical small rooms. Each room is connected by doors to its four neighboring rooms. In row $n$, there are $m$ mechanisms located in its $m$ rooms, and all of these mechanisms must be switched on to enter the embassy. The $m$ rooms in row $1$ each has a door that opens to the outside; these are the entrances to the maze. Except for the rooms in rows $1$ and $n$, every room has a laser damage device installed by the embassy’s security, which will inflict some damage on anyone entering the room. The damage value of the room at row $i$, column $j$ is $p_{i,j}$ (all $p$ values in rows $1$ and $n$ are $0$).\n\nThe organization wants to enter the maze and switch on all mechanisms with the minimum damage cost. They may send any number of people through any entrances, but they must reach every room in row $n$. A soldier’s damage is the maximum damage value among all rooms on his path to some mechanism. The whole team’s damage is the maximum among the damages of all soldiers. Given full knowledge of the maze, they need to determine how to arrange the routes so that the team’s damage is minimized.", "inputFormat": "The first line contains two integers $n, m$, representing the size of the maze.\n\nThen follow $n$ lines, each containing $m$ numbers. The number at row $i$, column $j$ is $p_{i,j}$.", "outputFormat": "Output a single number representing the minimum damage cost.", "hint": "- For $50\\%$ of the testdata, $n, m \\leq 100$.\n- For $100\\%$ of the testdata, $n, m \\leq 1000$, $p_{i,j} \\leq 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "刺杀大使", "background": null, "description": "某组织正在策划一起对某大使的刺杀行动。他们来到了使馆，准备完成此次刺杀，要进入使馆首先必须通过使馆前的防御迷阵。\n\n迷阵由 $n\\times m$ 个相同的小房间组成，每个房间与相邻四个房间之间有门可通行。在第 $n$ 行的 $m$ 个房间里有 $m$ 个机关，这些机关必须全部打开才可以进入大使馆。而第 $1$ 行的 $m$ 个房间有 $m$ 扇向外打开的门，是迷阵的入口。除了第 $1$ 行和第 $n$ 行的房间外，每个房间都被使馆的安保人员安装了激光杀伤装置，将会对进入房间的人造成一定的伤害。第 $i$ 行第 $j$ 列 造成的伤害值为 $p_{i,j}$（第 $1$ 行和第 $n$ 行的 $p$ 值全部为 $0$）。\n\n现在某组织打算以最小伤害代价进入迷阵，打开全部机关，显然，他们可以选择任意多的人从任意的门进入，但必须到达第 $n$ 行的每个房间。一个士兵受到的伤害值为他到达某个机关的路径上所有房间的伤害值中的最大值，整个部队受到的伤害值为所有士兵的伤害值中的最大值。现在，这个恐怖组织掌握了迷阵的情况，他们需要提前知道怎么安排士兵的行进路线可以使得整个部队的伤害值最小。", "inputFormat": "第一行有两个整数 $n,m$，表示迷阵的大小。\n\n接下来 $n$ 行，每行 $m$ 个数，第 $i$ 行第 $j$ 列的数表示 $p_{i,j}$。", "outputFormat": "输出一个数，表示最小伤害代价。", "hint": "- $50\\%$ 的数据，$n,m \\leq 100$；\n- $100\\%$ 的数据，$n,m \\leq 1000$，$p_{i,j} \\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P1903", "type": "P", "difficulty": 5, "samples": [["6 5\n1 2 3 4 5 5\nQ 1 4\nQ 2 6\nR 1 2\nQ 1 4\nQ 2 6", "4\n4\n3\n4\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["莫队", "集训队互测", "O2优化", "树套树", "分块", "模板题"], "title": "【模板】带修莫队 / [国家集训队] 数颜色 / 维护队列", "background": "", "description": "墨墨购买了一套 $N$ 支彩色画笔（其中有些颜色可能相同），摆成一排，你需要回答墨墨的提问。墨墨会向你发布如下指令：\n\n1. $Q\\ L\\ R$ 代表询问你从第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。\n\n2. $R\\ P\\ C$ 把第 $P$ 支画笔替换为颜色 $C$。\n\n为了满足墨墨的要求，你知道你需要干什么了吗？", "inputFormat": "第 $1$ 行两个整数 $N$，$M$，分别代表初始画笔的数量以及墨墨会做的事情的个数。\n\n第 $2$ 行 $N$ 个整数，分别代表初始画笔排中第 $i$ 支画笔的颜色。\n\n第 $3$ 行到第 $2+M$ 行，每行分别代表墨墨会做的一件事情，格式见题干部分。", "outputFormat": "对于每一个 Query 的询问，你需要在对应的行中给出一个数字，代表第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。", "hint": "对于 $30\\%$ 的数据，$n,m \\leq 10000$；\n\n对于 $60\\%$ 的数据，$n,m \\leq 50000$；\n\n对于所有数据，$n,m \\leq 133333$。\n\n所有的输入数据中出现的所有整数均大于等于 $1$ 且不超过 $10^6$。\n\n本题可能轻微卡常数。\n\n来源：bzoj2120\n\n本题数据为洛谷自造数据，使用 [CYaRon](https://github.com/luogu-dev/cyaron) 耗时 5 分钟完成数据制作。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Count Colors / Maintain Queue / [Template] Mo's Algorithm with Modifications", "background": "", "description": "Momo bought a set of $N$ colored pens (some colors may be the same) and lined them up in a row. You need to answer Momo's requests. Momo will issue the following operations:\n\n1. $Q\\ L\\ R$: Query how many distinct colors appear among the pens from the $L$-th to the $R$-th (inclusive).\n\n2. $R\\ P\\ C$: Replace the $P$-th pen's color with $C$.\n\nTo satisfy Momo's requests, can you process these operations?", "inputFormat": "The first line contains two integers $N$, $M$, representing the initial number of pens and the number of operations, respectively.\n\nThe second line contains $N$ integers, where the $i$-th integer is the color of the $i$-th pen in the initial row.\n\nFrom line $3$ to line $2+M$, each line describes one operation; see the description above for the format.", "outputFormat": "For each query operation, output a single integer on its own line: the number of distinct colors among the pens from the $L$-th to the $R$-th.", "hint": "For 30% of the testdata, $n,m \\leq 10000$.\n\nFor 60% of the testdata, $n,m \\leq 50000$.\n\nFor all testdata, $n,m \\leq 133333$.\n\nAll integers appearing in the input are between $1$ and $10^6$ inclusive.\n\nThis problem may be slightly tight on constant factors.\n\nSource: bzoj2120.\n\nThe testdata for this problem are created by Luogu, using [CYaRon](https://github.com/luogu-dev/cyaron), and took 5 minutes to generate.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】带修莫队 / [国家集训队] 数颜色 / 维护队列", "background": "", "description": "墨墨购买了一套 $N$ 支彩色画笔（其中有些颜色可能相同），摆成一排，你需要回答墨墨的提问。墨墨会向你发布如下指令：\n\n1. $Q\\ L\\ R$ 代表询问你从第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。\n\n2. $R\\ P\\ C$ 把第 $P$ 支画笔替换为颜色 $C$。\n\n为了满足墨墨的要求，你知道你需要干什么了吗？", "inputFormat": "第 $1$ 行两个整数 $N$，$M$，分别代表初始画笔的数量以及墨墨会做的事情的个数。\n\n第 $2$ 行 $N$ 个整数，分别代表初始画笔排中第 $i$ 支画笔的颜色。\n\n第 $3$ 行到第 $2+M$ 行，每行分别代表墨墨会做的一件事情，格式见题干部分。", "outputFormat": "对于每一个 Query 的询问，你需要在对应的行中给出一个数字，代表第 $L$ 支画笔到第 $R$ 支画笔中共有几种不同颜色的画笔。", "hint": "对于 $30\\%$ 的数据，$n,m \\leq 10000$；\n\n对于 $60\\%$ 的数据，$n,m \\leq 50000$；\n\n对于所有数据，$n,m \\leq 133333$。\n\n所有的输入数据中出现的所有整数均大于等于 $1$ 且不超过 $10^6$。\n\n本题可能轻微卡常数。\n\n来源：bzoj2120\n\n本题数据为洛谷自造数据，使用 [CYaRon](https://github.com/luogu-dev/cyaron) 耗时 5 分钟完成数据制作。", "locale": "zh-CN"}}}
{"pid": "P1904", "type": "P", "difficulty": 2, "samples": [["1 11 5\n2 6 7\n3 13 9\n12 7 16\n14 3 25\n19 18 22\n23 13 29\n24 4 28\n", "1 11 3 13 9 0 12 7 16 3 19 18 22 3 23 13 29 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "线段树", "离散化"], "title": "天际线", "background": "", "description": "Latium 省的 Genoa 是亚平宁半岛西海岸北端的一片土地，自然资源丰富，却无人居住。你受到罗马执政官 Caesar 的委任，前往 Genoa 建立新的城市。Caesar 对这次任务的要求是在 Genoa 这片土地上建立起一座繁荣的城市，他将以此作为衡量你的表现的标准。\n\n正在你大刀阔斧地进行城市建设的时候，Caesar 突然写信给你，说他要检查 Genoa 的建设情况。Caesar 希望知道你的城市是什么样子，但是他又非常的忙，所以他只要你描述一下城市的轮廓就可以了，他将依照城市的轮廓决定你的薪水。\n\n怎样描述一个城市的轮廓呢？我们知道 Genoa 所有的建筑共享一个地面，你可以认为它是水平的。所有的建筑用一个三元组 $(L_i,H_i,R_i)$，其中 $L_i$ 和 $R_i$ 分别是建筑的左坐标和右坐标，$H_i$ 就是建筑的高度。在下方所示的图表中左边建筑物描述如下 $(1,11,5)$，$(2,6,7)$，$(3,13,9)$，$(12,7,16)$，$(14,3,25)$，$(19,18,22)$，$(23,13,29)$，$(24,4,28)$，右边用轮廓线的顺序$(1,11,3,13,9,0,12,7,16,3,19,18,22,3,23,13,29,0)$ 表示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oe7wpwsi.png)\n", "inputFormat": "在输入数据中，你将得到一系列表示建筑的三元组。在输入数据中所有建筑的坐标中的数值都是小于 $10000$ 的正整数，且至少有 $1$ 幢建筑，最多有 $5000$ 幢建筑。在输入输入中每幢建筑的三元组各占一行。三元组中的所有整数应由一个或多个空格分开。\n", "outputFormat": "在输出数据中，你被要求给出城市的轮廓线。你可以这样来描述：对于所有轮廓线上的折点，按顺序排好，第奇数个点输出 $x$ 坐标，第偶数个点输出 $y$ 坐标，两个数之间用空格分开。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Skyline", "background": "", "description": "Genoa in the province of Latium is a stretch of land at the northern end of the west coast of the Apennine Peninsula, rich in natural resources yet uninhabited. You are commissioned by the Roman consul Caesar to go to Genoa and build a new city. Caesar’s requirement for this task is to establish a prosperous city on this land in Genoa, and he will use this as the standard to evaluate your performance.\n\nWhile you are vigorously carrying out city construction, Caesar suddenly writes to you saying he wants to inspect the progress in Genoa. Caesar wants to know what your city looks like, but he is very busy, so he only needs you to describe the city’s skyline; he will decide your salary based on this skyline.\n\nHow to describe a city’s skyline? We know that all buildings in Genoa share a ground level, which you can consider horizontal. Each building is represented by a triple $(L_i,H_i,R_i)$, where $L_i$ and $R_i$ are the left and right coordinates of the building, and $H_i$ is the building’s height. In the figure below, the buildings on the left are described as $(1,11,5)$, $(2,6,7)$, $(3,13,9)$, $(12,7,16)$, $(14,3,25)$, $(19,18,22)$, $(23,13,29)$, $(24,4,28)$, and the skyline on the right is represented by the sequence $(1,11,3,13,9,0,12,7,16,3,19,18,22,3,23,13,29,0)$:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oe7wpwsi.png)", "inputFormat": "You will be given a series of triples representing buildings. All coordinate values in the input are positive integers less than $10000$. There is at least $1$ building and at most $5000$ buildings. Each building’s triple occupies one line. All integers in a triple are separated by one or more spaces.", "outputFormat": "Output the skyline of the city. Describe it as follows: list all key points on the skyline in order; output the $x$ coordinate for odd-numbered entries and the $y$ coordinate for even-numbered entries, with a space between two numbers.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "天际线", "background": "", "description": "Latium 省的 Genoa 是亚平宁半岛西海岸北端的一片土地，自然资源丰富，却无人居住。你受到罗马执政官 Caesar 的委任，前往 Genoa 建立新的城市。Caesar 对这次任务的要求是在 Genoa 这片土地上建立起一座繁荣的城市，他将以此作为衡量你的表现的标准。\n\n正在你大刀阔斧地进行城市建设的时候，Caesar 突然写信给你，说他要检查 Genoa 的建设情况。Caesar 希望知道你的城市是什么样子，但是他又非常的忙，所以他只要你描述一下城市的轮廓就可以了，他将依照城市的轮廓决定你的薪水。\n\n怎样描述一个城市的轮廓呢？我们知道 Genoa 所有的建筑共享一个地面，你可以认为它是水平的。所有的建筑用一个三元组 $(L_i,H_i,R_i)$，其中 $L_i$ 和 $R_i$ 分别是建筑的左坐标和右坐标，$H_i$ 就是建筑的高度。在下方所示的图表中左边建筑物描述如下 $(1,11,5)$，$(2,6,7)$，$(3,13,9)$，$(12,7,16)$，$(14,3,25)$，$(19,18,22)$，$(23,13,29)$，$(24,4,28)$，右边用轮廓线的顺序$(1,11,3,13,9,0,12,7,16,3,19,18,22,3,23,13,29,0)$ 表示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oe7wpwsi.png)\n", "inputFormat": "在输入数据中，你将得到一系列表示建筑的三元组。在输入数据中所有建筑的坐标中的数值都是小于 $10000$ 的正整数，且至少有 $1$ 幢建筑，最多有 $5000$ 幢建筑。在输入输入中每幢建筑的三元组各占一行。三元组中的所有整数应由一个或多个空格分开。\n", "outputFormat": "在输出数据中，你被要求给出城市的轮廓线。你可以这样来描述：对于所有轮廓线上的折点，按顺序排好，第奇数个点输出 $x$ 坐标，第偶数个点输出 $y$ 坐标，两个数之间用空格分开。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1905", "type": "P", "difficulty": 4, "samples": [["6\n3\n3 2 2 1 1 1\n", "3 1\n2 1\n2 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化"], "title": "堆放货物", "background": "Caesar 看了你建设的城市后非常满意，提拔你担任 Genoa 的地方总督，并加薪 $50$ 第纳尔。最近他又写信给你说：Genoa 不能只靠 Rome 的财政扶持，你必须开展城市贸易增加财政收入。\n\n在花费 $500$ 第纳尔开通了至 Capua 的商路后，来自 Capua 的船只源源不断地驶来，Genoa 急需建立一个仓库来临时存放送往 Capua 的货物。", "description": "Genoa 的货物有三种：陶器，家具，大理石，共有 $n$ 个。他们的重量分别为 $1$，$2$，$3$ 个单位。现在，有 $p$ 艘 Capua 的船只在等待着仓库的货物，你应该将仓库里的货物分成 $p$ 堆，堆放规则如下：\n\n- 同一堆中，重量从下至上应该是递减的（显然不能把大理石堆放在陶器或家具上）。\n- 任意两堆重量之差不能超过 $3$ 个单位，否则会因分配过于不均发生船只间的冲突。\n\n请你完成这个任务，给出一种可行的方案。\n", "inputFormat": "第一行有一个整数，表示货物的个数 $n$。  \n第二行有一个整数，表示堆数 $p$。  \n第三行有 $n$ 个整数，第 $i$ 个整数表示第 $i$ 个货物的重量 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n输出 $p$ 行，每行若干个整数描述一堆货物，按照每堆**从下到上**的顺序列出该堆中每个货物的数量。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $2 \\leq n \\leq 10^3$，$1 \\leq p \\leq \\lfloor\\frac n 2 \\rfloor$，$1 \\leq a_i \\leq 3$。\n\n#### 说明\n\n感谢 @cn：苏卿念 提供spj。\n\nspj说明：\n\n```\nscore:ouo：你的输出里面有不是'1','2','3',' ','\\n','\\r'的东西，具体以ASCII的第X号字符\nscore:pvp：你在第x组的时候装下了超过规定数量的'3'|'2'|'1'。\nscore:TAT：蛇皮judge没能读入到想要读入的东东(类似于你直接提交了一个puts(\" / 特别特别多的空格/\"))\nscore:qaq：你把重量为w1的货物放到了w2上面(w1>w2)在第i组的第j个货物\nscore:ovo：你没有装足够的x\nscore:qwq：你第i组和第j组的差的绝对值>3了，(要打架了)，第i组的重量和为x，第j组的重量和为y。\nscore:pwp：答案正确，恭喜你嘤嘤嘤\n```", "locale": "zh-CN", "translations": {"en": {"title": "Stacking Goods", "background": "After seeing the city you built, Caesar was very satisfied, promoted you to the local governor of Genoa, and raised your salary by $50$ denarii. Recently, he wrote to you again: Genoa cannot rely solely on Rome’s financial support; you must develop urban trade to increase fiscal revenue.\n\nAfter spending $500$ denarii to open a trade route to Capua, ships from Capua keep arriving. Genoa urgently needs to build a warehouse to temporarily store goods to be shipped to Capua.", "description": "There are three types of goods in Genoa: pottery, furniture, and marble, with a total of $n$ items. Their weights are $1$, $2$, and $3$ units, respectively. Now, there are $p$ ships from Capua waiting for goods from the warehouse. You should divide the goods in the warehouse into $p$ stacks according to the following rules:\n\n- Within the same stack, weights from bottom to top must be non-increasing (obviously, you cannot place marble on top of pottery or furniture).\n- The absolute difference between the total weights of any two stacks must not exceed $3$ units; otherwise, conflicts may arise between ships due to overly uneven distribution.\n\nPlease complete this task and provide one feasible arrangement.", "inputFormat": "The first line contains an integer, the number of goods $n$.  \nThe second line contains an integer, the number of stacks $p$.  \nThe third line contains $n$ integers; the $i$-th integer is the weight $a_i$ of the $i$-th item.", "outputFormat": "**This problem uses a Special Judge.**\n\nOutput $p$ lines. Each line contains some integers describing one stack of goods, listing the weight of each item in that stack from bottom to top.", "hint": "#### Constraints and Notes\n\nFor all test points, it is guaranteed that $2 \\leq n \\leq 10^3$, $1 \\leq p \\leq \\lfloor \\frac{n}{2} \\rfloor$, and $1 \\leq a_i \\leq 3$.\n\n#### Notes\n\nThanks to @cn: 苏卿念 for providing the spj.\n\nSPJ description:\n\n```\nscore:ouo：你的输出里面有不是'1','2','3',' ','\\n','\\r'的东西，具体以ASCII的第X号字符\nscore:pvp：你在第x组的时候装下了超过规定数量的'3'|'2'|'1'。\nscore:TAT：蛇皮judge没能读入到想要读入的东东(类似于你直接提交了一个puts(\" / 特别特别多的空格/\"))\nscore:qaq：你把重量为w1的货物放到了w2上面(w1>w2)在第i组的第j个货物\nscore:ovo：你没有装足够的x\nscore:qwq：你第i组和第j组的差的绝对值>3了，(要打架了)，第i组的重量和为x，第j组的重量和为y。\nscore:pwp：答案正确，恭喜你嘤嘤嘤\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "堆放货物", "background": "Caesar 看了你建设的城市后非常满意，提拔你担任 Genoa 的地方总督，并加薪 $50$ 第纳尔。最近他又写信给你说：Genoa 不能只靠 Rome 的财政扶持，你必须开展城市贸易增加财政收入。\n\n在花费 $500$ 第纳尔开通了至 Capua 的商路后，来自 Capua 的船只源源不断地驶来，Genoa 急需建立一个仓库来临时存放送往 Capua 的货物。", "description": "Genoa 的货物有三种：陶器，家具，大理石，共有 $n$ 个。他们的重量分别为 $1$，$2$，$3$ 个单位。现在，有 $p$ 艘 Capua 的船只在等待着仓库的货物，你应该将仓库里的货物分成 $p$ 堆，堆放规则如下：\n\n- 同一堆中，重量从下至上应该是递减的（显然不能把大理石堆放在陶器或家具上）。\n- 任意两堆重量之差不能超过 $3$ 个单位，否则会因分配过于不均发生船只间的冲突。\n\n请你完成这个任务，给出一种可行的方案。\n", "inputFormat": "第一行有一个整数，表示货物的个数 $n$。  \n第二行有一个整数，表示堆数 $p$。  \n第三行有 $n$ 个整数，第 $i$ 个整数表示第 $i$ 个货物的重量 $a_i$。", "outputFormat": "**本题存在 Special Judge**。\n\n输出 $p$ 行，每行若干个整数描述一堆货物，按照每堆**从下到上**的顺序列出该堆中每个货物的数量。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $2 \\leq n \\leq 10^3$，$1 \\leq p \\leq \\lfloor\\frac n 2 \\rfloor$，$1 \\leq a_i \\leq 3$。\n\n#### 说明\n\n感谢 @cn：苏卿念 提供spj。\n\nspj说明：\n\n```\nscore:ouo：你的输出里面有不是'1','2','3',' ','\\n','\\r'的东西，具体以ASCII的第X号字符\nscore:pvp：你在第x组的时候装下了超过规定数量的'3'|'2'|'1'。\nscore:TAT：蛇皮judge没能读入到想要读入的东东(类似于你直接提交了一个puts(\" / 特别特别多的空格/\"))\nscore:qaq：你把重量为w1的货物放到了w2上面(w1>w2)在第i组的第j个货物\nscore:ovo：你没有装足够的x\nscore:qwq：你第i组和第j组的差的绝对值>3了，(要打架了)，第i组的重量和为x，第j组的重量和为y。\nscore:pwp：答案正确，恭喜你嘤嘤嘤\n```", "locale": "zh-CN"}}}
{"pid": "P1906", "type": "P", "difficulty": 3, "samples": [["START\r\nNS BFW, JAJSYX TK NRUTWYFSHJ FWJ YMJ WJXZQY TK YWNANFQ HFZXJX\r\nEND\r\nSTART\r\nN BTZQI WFYMJW GJ KNWXY NS F QNYYQJ NGJWNFS ANQQFLJ YMFS XJHTSI NS WTRJ\r\nEND\r\nSTART\r\nIFSLJW PSTBX KZQQ BJQQ YMFY HFJXFW NX RTWJ IFSLJWTZX YMFS MJ\r\nEND\r\nENDOFINPUT\r\n", "IN WAR, EVENTS OF IMPORTANCE ARE THE RESULT OF TRIVIAL CAUSES\r\nI WOULD RATHER BE FIRST IN A LITTLE IBERIAN VILLAGE THAN SECOND IN ROME\r\nDANGER KNOWS FULL WELL THAT CAESAR IS MORE DANGEROUS THAN HE\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串"], "title": "凯撒密码", "background": null, "description": "在元老院的支持下，Caesar 率领罗马军团进攻高卢地区。但是他的军事行动并不顺利，他急需你的支持。\n\n一天，你突然受到 Caesar 从前线写来的信。为了防止敌军偷窃情报，Caesar 决定用自创的密码来写这封信。但是面对满纸的乱码，你也无从下手。于是你前往元老院询问这种密码的玄机。\n\n元老们告诉你，这是凯撒移位密码（世界上最早的加密术——编者注），解读它非常的简单：\n\n对于明文中的每个字母，Caesar 会用它后面的第 $t$ 个字母代替。例如，当 $t=2$ 时，字母 `A` 将变成 `C`，字母 `B` 将变成 `D`，……，字母 `Y` 将变成 `A`，字母 `Z` 将变成 `B`（假设字母表是循环的）。\n\n这样一来：\n\n```plain\n(t = 2)\n\n[Plain Text]   A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\n[Cipher]       C D E F G H I J K L M N O P Q R S T U V W X Y Z A B\n\n[Plain Text]   I Need Soldiers\n[Cipher]       K Pggf Uqnfkgtu\n```\n\n如此一来，需要传达的信息在外人看来就如同天书了。加上 Caesar 会不时更换 $t$ 的值，使得密码变得更加难以捉摸。\n\n你的任务是将 Caesar 的密码翻译为明文。", "inputFormat": "你将得到若干段 Caesar 的密码，我们保证这是一句成文的英文句子。输入文件将保证小于 50 KB。\n\n每个句子以一行 `START` 开始，下一行描述这个句子，再下一行以 `END` 结束。整个输入文件以 `ENDOFINPUT` 结束。", "outputFormat": "对于每个句子，输出翻译后的明文。\n\n**输出请全部转为大写！**", "hint": "1. 如果你有看过《福尔摩斯探案集》的话，请回忆“跳舞娃娃”密码破译第一步；\n2. 我想这些可能会对你有帮助：\n\n```plain\ne 0.1268\nt 0.0978\na 0.0788\no 0.0766\ni 0.0707\nn 0.0706\ns 0.0634\nr 0.0594\n```\n\n---\n\n**提示：**\n\n根据大量统计，在成文的英文句子中，字母 E 的出现频率最高。\n\n你需要根据这一特性确定 $t$ 的值。\n\n数据保证这一特性可以唯一确定 $t$ 的值。", "locale": "zh-CN", "translations": {"en": {"title": "Caesar Cipher", "background": "", "description": "With the support of the Senate, Caesar led the Roman legions to attack the region of Gaul. However, his campaign did not go smoothly, and he urgently needs your help.\n\nOne day, you suddenly receive a letter from Caesar written from the front. To prevent the enemy from stealing intelligence, Caesar decided to write the letter using a cipher of his own design. But faced with a page of gibberish, you are at a loss, so you go to the Senate to ask about the secret behind this cipher.\n\nThe elders tell you that this is the Caesar shift cipher (the world's earliest encryption technique — Editor's note), and decoding it is very simple:\n\nFor each letter in the plaintext, Caesar replaces it with the $t$-th letter after it. For example, when $t = 2$, the letter `A` becomes `C`, `B` becomes `D`, ... , `Y` becomes `A`, and `Z` becomes `B` (assuming the alphabet is cyclic).\n\nThus:\n\n```plain\n(t = 2)\n\n[Plain Text]   A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\n[Cipher]       C D E F G H I J K L M N O P Q R S T U V W X Y Z A B\n\n[Plain Text]   I Need Soldiers\n[Cipher]       K Pggf Uqnfkgtu\n```\n\nIn this way, the message appears like an indecipherable text to outsiders. Moreover, Caesar will occasionally change the value of $t$, making the cipher even harder to grasp.\n\nYour task is to translate Caesar's ciphertext into plaintext.", "inputFormat": "You will be given several pieces of Caesar's ciphertext, and we guarantee that each is a coherent English sentence. The input file is guaranteed to be smaller than 50 KB.\n\nEach sentence starts with a line `START`, the next line contains the sentence, and the following line is `END`. The entire input ends with `ENDOFINPUT`.", "outputFormat": "For each sentence, output the translated plaintext.\n\n**Please output everything in uppercase!**", "hint": "1. If you have read The Adventures of Sherlock Holmes, recall the first step in cracking the cipher in \"The Dancing Men\".\n2. These may help you:\n\n```plain\ne 0.1268\nt 0.0978\na 0.0788\no 0.0766\ni 0.0707\nn 0.0706\ns 0.0634\nr 0.0594\n```\n\nBased on extensive statistics, in well-formed English sentences the letter E appears most frequently.\n\nYou need to determine the value of $t$ using this property.\n\nThe testdata guarantees that this property uniquely determines the value of $t$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "凯撒密码", "background": null, "description": "在元老院的支持下，Caesar 率领罗马军团进攻高卢地区。但是他的军事行动并不顺利，他急需你的支持。\n\n一天，你突然受到 Caesar 从前线写来的信。为了防止敌军偷窃情报，Caesar 决定用自创的密码来写这封信。但是面对满纸的乱码，你也无从下手。于是你前往元老院询问这种密码的玄机。\n\n元老们告诉你，这是凯撒移位密码（世界上最早的加密术——编者注），解读它非常的简单：\n\n对于明文中的每个字母，Caesar 会用它后面的第 $t$ 个字母代替。例如，当 $t=2$ 时，字母 `A` 将变成 `C`，字母 `B` 将变成 `D`，……，字母 `Y` 将变成 `A`，字母 `Z` 将变成 `B`（假设字母表是循环的）。\n\n这样一来：\n\n```plain\n(t = 2)\n\n[Plain Text]   A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\n[Cipher]       C D E F G H I J K L M N O P Q R S T U V W X Y Z A B\n\n[Plain Text]   I Need Soldiers\n[Cipher]       K Pggf Uqnfkgtu\n```\n\n如此一来，需要传达的信息在外人看来就如同天书了。加上 Caesar 会不时更换 $t$ 的值，使得密码变得更加难以捉摸。\n\n你的任务是将 Caesar 的密码翻译为明文。", "inputFormat": "你将得到若干段 Caesar 的密码，我们保证这是一句成文的英文句子。输入文件将保证小于 50 KB。\n\n每个句子以一行 `START` 开始，下一行描述这个句子，再下一行以 `END` 结束。整个输入文件以 `ENDOFINPUT` 结束。", "outputFormat": "对于每个句子，输出翻译后的明文。\n\n**输出请全部转为大写！**", "hint": "1. 如果你有看过《福尔摩斯探案集》的话，请回忆“跳舞娃娃”密码破译第一步；\n2. 我想这些可能会对你有帮助：\n\n```plain\ne 0.1268\nt 0.0978\na 0.0788\no 0.0766\ni 0.0707\nn 0.0706\ns 0.0634\nr 0.0594\n```\n\n---\n\n**提示：**\n\n根据大量统计，在成文的英文句子中，字母 E 的出现频率最高。\n\n你需要根据这一特性确定 $t$ 的值。\n\n数据保证这一特性可以唯一确定 $t$ 的值。", "locale": "zh-CN"}}}
{"pid": "P1907", "type": "P", "difficulty": 3, "samples": [["100.0 2.0\r\n2\r\n1.0 0.0\r\n2.0 1.0\r\n1 2\r\n0 0\r\n0.0 0.0\r\n2.0 2.0\r\n", "202.8284"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["图论"], "title": "设计道路", "background": "Caesar 远征高卢回来后，对你大加赞赏，他亲自来到 Genoa 视察。\n\nGenoa 在你的建设下变得无比繁荣，由于财政收入的增加，你为城市修建了交通系统。古罗马的交通系统由两部分组成——Dirt Road 和 Rome Road。两个路口间只可能是其中一种道路。在 Rome Road 上可以驾驶马车，而在 Dirt Road 上则不行。由于修建道路是一项浩大的工程，使得你无法将整个城市用 Rome Road 连接起来。\n\n现在 Caesar 已经到达码头，他要求去你家参观。Caesar 有一个癖好，喜欢坐车而不喜欢走路。所以 Caesar 走 Dirt Road 时的不满值要比走 Rome Road 时大。\n\n为了不让 Caesar 过于不满而罢免你的职位，请设计路线使得 Caesar 的不满值最小。", "description": "给定一张二维平面上 $n+2$ 个结点的无向完全图（也就是说，每两个点之间都有一条边），其中 $i$ 号点的坐标为 $A_i(x_i,y_i)$。\n\n无向图中有两种边，一种叫 Rome Road，一种叫 Dirt Road。\n\n记所有 Rome Road 的集合为 $S$，$l(X,Y)$ 表是线段 $XY$ 的长度，则一条边 $(A_i,A_j)$ 的边权为：\n\n$$c(A_i,A_j)=\\begin{cases}d_R \\cdot l(A_i,A_j),&(A_i,A_j) \\in S\\\\d_D \\cdot l(A_i,A_j),&(A_i,A_j) \\notin S\\end{cases}$$\n\n即该边的长度与对应系数（Rome Road 为 $d_R$，Dirt Road 为 $d_D$）的乘积。\n\n保证所有与 $n+1$ 号结点和 $n+2$ 号结点相连的所有边都是 Dirt Road。\n\n现在，你需要求出 $n+1$ 号结点和 $n+2$ 号结点之间的最短路。", "inputFormat": "第一行两个小数 $d_D,d_R$。\n\n第二行一个正整数 $n$。\n\n下面 $n$ 行，第 $i$ 行两个小数 $x_i,y_i$。\n\n下面若干行（以 `0 0` 为结束标志），每行两个正整数 $u,v$，表示边 $(u,v)$ 是 Rome Road。\n\n下面一行两个小数 $x_{n+1},y_{n+1}$。\n\n最后一行两个小数 $x_{n+2},y_{n+2}$。", "outputFormat": "求出 $n+1$ 号结点和 $n+2$ 号结点之间的最短路，答案保留 $4$ 位小数。", "hint": "对于 $100\\%$ 的数据：\n\n- $0.1 \\le d_R < d_D \\le 10^3$\n- $0 \\le p(d_D),p(d_R) \\le 1$\n- $1 \\le n \\le 10^3$\n- $0 \\le x_i,y_i \\le 10^4$\n- $0 \\le p(x_i),p(y_i) \\le 2$\n- Rome Road 不超过 $200$ 条\n- $1 \\le u,v \\le n$（结束标志除外）\n- $u \\ne v$\n\n其中 $p(X)$ 表示小数 $X$ 的小数位数。", "locale": "zh-CN", "translations": {"en": {"title": "Design Roads", "background": "After Caesar returned from his expedition to Gaul, he praised you highly and personally came to inspect Genoa.\n\nUnder your construction, Genoa has become extremely prosperous. With increased fiscal revenue, you built a transportation system for the city. Ancient Roman transportation consists of two types of roads—Dirt Road and Rome Road. Between any two intersections, the road is of exactly one type. Carriages can run on Rome Roads, but not on Dirt Roads. Building roads is a massive project, so you could not connect the entire city with Rome Roads.\n\nNow Caesar has arrived at the dock and wants to visit your home. Caesar has a quirk: he prefers riding to walking. Therefore, his dissatisfaction on Dirt Roads is higher than on Rome Roads.\n\nTo avoid getting dismissed by making Caesar too dissatisfied, please design a route that minimizes Caesar’s dissatisfaction.", "description": "You are given an undirected complete graph with $n+2$ nodes on a 2D plane (that is, every pair of points is connected by an edge). The coordinates of node $i$ are $A_i(x_i, y_i)$.\n\nThere are two types of edges in the undirected graph: Rome Road and Dirt Road.\n\nLet the set of all Rome Road edges be $S$, and let $l(X, Y)$ denote the length of segment $XY$. Then the weight of an edge $(A_i, A_j)$ is:\n$$c(A_i,A_j)=\\begin{cases}d_R \\cdot l(A_i,A_j),&(A_i,A_j) \\in S\\\\d_D \\cdot l(A_i,A_j),&(A_i,A_j) \\notin S\\end{cases}$$\nThat is, the length of the edge times the corresponding coefficient ($d_R$ for Rome Road, $d_D$ for Dirt Road).\n\nAll edges incident to nodes $n+1$ and $n+2$ are guaranteed to be Dirt Roads.\n\nNow, you need to find the shortest path between nodes $n+1$ and $n+2$.", "inputFormat": "- The first line contains two decimals $d_D, d_R$.\n- The second line contains a positive integer $n$.\n- The next $n$ lines: on the $i$-th line, two decimals $x_i, y_i$.\n- Then several lines (terminated by `0 0`), each containing two positive integers $u, v$, indicating that edge $(u, v)$ is a Rome Road.\n- The next line contains two decimals $x_{n+1}, y_{n+1}$.\n- The last line contains two decimals $x_{n+2}, y_{n+2}$.", "outputFormat": "Output the length of the shortest path between nodes $n+1$ and $n+2$, with $4$ digits after the decimal point.", "hint": "Constraints (for $100\\%$ of the testdata):\n- $0.1 \\le d_R < d_D \\le 10^3$.\n- $0 \\le p(d_D), p(d_R) \\le 1$.\n- $1 \\le n \\le 10^3$.\n- $0 \\le x_i, y_i \\le 10^4$.\n- $0 \\le p(x_i), p(y_i) \\le 2$.\n- The number of Rome Road edges does not exceed $200$.\n- $1 \\le u, v \\le n$ (excluding the end marker).\n- $u \\ne v$.\n\nHere $p(X)$ denotes the number of digits after the decimal point of decimal $X$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "设计道路", "background": "Caesar 远征高卢回来后，对你大加赞赏，他亲自来到 Genoa 视察。\n\nGenoa 在你的建设下变得无比繁荣，由于财政收入的增加，你为城市修建了交通系统。古罗马的交通系统由两部分组成——Dirt Road 和 Rome Road。两个路口间只可能是其中一种道路。在 Rome Road 上可以驾驶马车，而在 Dirt Road 上则不行。由于修建道路是一项浩大的工程，使得你无法将整个城市用 Rome Road 连接起来。\n\n现在 Caesar 已经到达码头，他要求去你家参观。Caesar 有一个癖好，喜欢坐车而不喜欢走路。所以 Caesar 走 Dirt Road 时的不满值要比走 Rome Road 时大。\n\n为了不让 Caesar 过于不满而罢免你的职位，请设计路线使得 Caesar 的不满值最小。", "description": "给定一张二维平面上 $n+2$ 个结点的无向完全图（也就是说，每两个点之间都有一条边），其中 $i$ 号点的坐标为 $A_i(x_i,y_i)$。\n\n无向图中有两种边，一种叫 Rome Road，一种叫 Dirt Road。\n\n记所有 Rome Road 的集合为 $S$，$l(X,Y)$ 表是线段 $XY$ 的长度，则一条边 $(A_i,A_j)$ 的边权为：\n\n$$c(A_i,A_j)=\\begin{cases}d_R \\cdot l(A_i,A_j),&(A_i,A_j) \\in S\\\\d_D \\cdot l(A_i,A_j),&(A_i,A_j) \\notin S\\end{cases}$$\n\n即该边的长度与对应系数（Rome Road 为 $d_R$，Dirt Road 为 $d_D$）的乘积。\n\n保证所有与 $n+1$ 号结点和 $n+2$ 号结点相连的所有边都是 Dirt Road。\n\n现在，你需要求出 $n+1$ 号结点和 $n+2$ 号结点之间的最短路。", "inputFormat": "第一行两个小数 $d_D,d_R$。\n\n第二行一个正整数 $n$。\n\n下面 $n$ 行，第 $i$ 行两个小数 $x_i,y_i$。\n\n下面若干行（以 `0 0` 为结束标志），每行两个正整数 $u,v$，表示边 $(u,v)$ 是 Rome Road。\n\n下面一行两个小数 $x_{n+1},y_{n+1}$。\n\n最后一行两个小数 $x_{n+2},y_{n+2}$。", "outputFormat": "求出 $n+1$ 号结点和 $n+2$ 号结点之间的最短路，答案保留 $4$ 位小数。", "hint": "对于 $100\\%$ 的数据：\n\n- $0.1 \\le d_R < d_D \\le 10^3$\n- $0 \\le p(d_D),p(d_R) \\le 1$\n- $1 \\le n \\le 10^3$\n- $0 \\le x_i,y_i \\le 10^4$\n- $0 \\le p(x_i),p(y_i) \\le 2$\n- Rome Road 不超过 $200$ 条\n- $1 \\le u,v \\le n$（结束标志除外）\n- $u \\ne v$\n\n其中 $p(X)$ 表示小数 $X$ 的小数位数。", "locale": "zh-CN"}}}
{"pid": "P1908", "type": "P", "difficulty": 3, "samples": [["6\n5 4 2 6 3 1\n", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["线段树", "树状数组", "递归", "离散化", "分治", "排序", "扫描线"], "title": "逆序对", "background": null, "description": "猫猫 TOM 和小老鼠 JERRY 最近又较量上了，但是毕竟都是成年人，他们已经不喜欢再玩那种你追我赶的游戏，现在他们喜欢玩统计。\n\n最近，TOM 老猫查阅到一个人类称之为“逆序对”的东西，这东西是这样定义的：对于给定的一段正整数序列，逆序对就是序列中 $a_i>a_j$ 且 $i<j$ 的有序对。知道这概念后，他们就比赛谁先算出给定的一段正整数序列中逆序对的数目。注意序列中可能有重复数字。\n\n**Update：数据已加强。**", "inputFormat": "第一行，一个数 $n$，表示序列中有 $n$ 个数。\n\n第二行 $n$ 个数，表示给定的序列。序列中每个数字不超过 $10^9$。", "outputFormat": "输出序列中逆序对的数目。", "hint": "对于 $25\\%$ 的数据，$n \\leq 2500$。\n\n对于 $50\\%$ 的数据，$n \\leq 4 \\times 10^4$。\n\n对于所有数据，$1 \\leq n \\leq 5 \\times 10^5$。\n\n应该不会有人 $O(n^2)$ 过 50 万吧 —— 2018.8 chen_zhe。", "locale": "zh-CN", "translations": {"en": {"title": "Inversions", "background": "", "description": "Cat TOM and mouse JERRY are competing again. But since they are adults now, they no longer enjoy playing chase games; these days, they like counting.\n\nRecently, old cat TOM read about something humans call “inversions,” defined as follows: for a given sequence of positive integers, an inversion is an ordered pair where $a_i > a_j$ and $i < j$. After learning this concept, they compete to see who can first compute the number of inversions in a given sequence of positive integers. Note that the sequence may contain duplicate numbers.\n\n**Update: testdata has been strengthened.**", "inputFormat": "The first line contains an integer $n$, indicating that the sequence has $n$ numbers.\n\nThe second line contains $n$ integers, representing the given sequence. Each number is at most $10^9$.", "outputFormat": "Output the number of inversions in the sequence.", "hint": "For 25% of the testdata, $n \\leq 2500$.\n\nFor 50% of the testdata, $n \\leq 4 \\times 10^4$.\n\nFor all testdata, $1 \\leq n \\leq 5 \\times 10^5$.\n\nNo one should pass $O(n^2)$ on 500,000, right — 2018.8 chen_zhe.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "逆序对", "background": null, "description": "猫猫 TOM 和小老鼠 JERRY 最近又较量上了，但是毕竟都是成年人，他们已经不喜欢再玩那种你追我赶的游戏，现在他们喜欢玩统计。\n\n最近，TOM 老猫查阅到一个人类称之为“逆序对”的东西，这东西是这样定义的：对于给定的一段正整数序列，逆序对就是序列中 $a_i>a_j$ 且 $i<j$ 的有序对。知道这概念后，他们就比赛谁先算出给定的一段正整数序列中逆序对的数目。注意序列中可能有重复数字。\n\n**Update：数据已加强。**", "inputFormat": "第一行，一个数 $n$，表示序列中有 $n$ 个数。\n\n第二行 $n$ 个数，表示给定的序列。序列中每个数字不超过 $10^9$。", "outputFormat": "输出序列中逆序对的数目。", "hint": "对于 $25\\%$ 的数据，$n \\leq 2500$。\n\n对于 $50\\%$ 的数据，$n \\leq 4 \\times 10^4$。\n\n对于所有数据，$1 \\leq n \\leq 5 \\times 10^5$。\n\n应该不会有人 $O(n^2)$ 过 50 万吧 —— 2018.8 chen_zhe。", "locale": "zh-CN"}}}
{"pid": "P1909", "type": "P", "difficulty": 1, "samples": [["57\n2 2\n50 30\n30 27", "54"], ["9998\n128 233\n128 2333\n128 666", "18407"], ["9999\n101 1111\n1 9999\n1111 9999", "89991"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2016", "NOIP 普及组"], "title": "[NOIP 2016 普及组] 买铅笔", "background": "NOIP2016 普及组 T1", "description": "P 老师需要去商店买 $n$ 支铅笔作为小朋友们参加 NOIP 的礼物。她发现商店一共有 $3$ 种包装的铅笔，不同包装内的铅笔数量有可能不同，价格也有可能不同。为了公平起见，P 老师决定只买同一种包装的铅笔。\n\n商店不允许将铅笔的包装拆开，因此 P 老师可能需要购买超过 $n$ 支铅笔才够给小朋友们发礼物。\n\n现在 P 老师想知道，在商店每种包装的数量都足够的情况下，要买够至少 $n$ 支铅笔最少需要花费多少钱。\n", "inputFormat": "第一行包含一个正整数 $n$，表示需要的铅笔数量。\n\n接下来三行，每行用 $2$ 个正整数描述一种包装的铅笔：其中第 $1$ 个整数表示这种包装内铅笔的数量，第 $2$ 个整数表示这种包装的价格。\n\n保证所有的 $7$ 个数都是不超过 $10000$ 的正整数。\n", "outputFormat": "$1$ 个整数，表示 P 老师最少需要花费的钱。\n", "hint": "铅笔的三种包装分别是：\n\n- $2$ 支装，价格为 $2$;\n- $50$ 支装，价格为 $30$;\n- $30$ 支装，价格为 $27$。\n\nP 老师需要购买至少 $57$ 支铅笔。\n\n如果她选择购买第一种包装，那么她需要购买 $29$ 份，共计 $2 \\times 29 = 58$ 支，需要花费的钱为 $2 \\times 29 = 58$。\n\n实际上，P 老师会选择购买第三种包装，这样需要买 $2$ 份。虽然最后买到的铅笔数量更多了，为 $30 \\times 2 = 60$ 支，但花费却减少为 $27 \\times 2 = 54$，比第一种少。\n\n对于第二种包装，虽然每支铅笔的价格是最低的，但要够发必须买 $2$ 份，实际的花费达到了 $30  \\times 2 = 60$，因此 P 老师也不会选择。\n\n所以最后输出的答案是 $54$。\n\n**数据范围**\n\n保证所有的 $7$ 个数都是不超过 $10000$ 的正整数。\n\n**子任务**\n\n子任务会给出部分测试数据的特点。如果你在解决题目中遇到了困难，可以尝试只解决一部分测试数据。\n\n每个测试点的数据规模及特点如下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dlgsz3h4.png)\n\n上表中“整倍数”的意义为：若为 $K$，表示对应数据所需要的铅笔数量 $n$ —定是每种包装铅笔数量的整倍数（这意味着一定可以不用多买铅笔）。\n\n于 2022 年 12 月 23 日新加 Hack 数据三组。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2016 Junior] Buy Pencils", "background": "NOIP 2016 Junior T1.", "description": "Teacher P needs to go to the store to buy $n$ pencils as gifts for children participating in NOIP. She finds that the store has $3$ types of packaging; different packages may contain different numbers of pencils, and their prices may also differ. For fairness, Teacher P decides to buy only one type of package.\n\nThe store does not allow opening packages, so Teacher P may need to buy more than $n$ pencils to have enough gifts for the children.\n\nNow Teacher P wants to know, assuming there is sufficient stock for each package type, what is the minimum amount of money needed to buy at least $n$ pencils.", "inputFormat": "The first line contains a positive integer $n$, indicating the required number of pencils.\n\nThe next three lines each describe one type of package with $2$ positive integers: the first integer is the number of pencils in that package, and the second integer is the price of that package.\n\nIt is guaranteed that all $7$ numbers are positive integers not exceeding $10000$.", "outputFormat": "$1$ integer, indicating the minimum amount of money Teacher P needs to spend.", "hint": "The three package types are:\n\n- $2$-pack, price $2$.\n- $50$-pack, price $30$.\n- $30$-pack, price $27$.\n\nTeacher P needs to buy at least $57$ pencils.\n\nIf she chooses the first package type, then she needs to buy $29$ packs, totaling $2 \\times 29 = 58$ pencils, and the cost is $2 \\times 29 = 58$.\n\nIn fact, Teacher P will choose the third package type, in which case she needs to buy $2$ packs. Although the final number of pencils is more, $30 \\times 2 = 60$, the cost is reduced to $27 \\times 2 = 54$, which is less than the first option.\n\nFor the second package type, although the price per pencil is the lowest, to have enough she must buy $2$ packs, and the actual cost reaches $30 \\times 2 = 60$, so Teacher P will not choose it.\n\nTherefore, the final output is $54$.\n\n**Constraints**\n\nIt is guaranteed that all $7$ numbers are positive integers not exceeding $10000$.\n\n**Subtasks**\n\nSubtasks provide characteristics of some testdata. If you find the problem difficult, you can try to solve only part of the testdata.\n\nThe data scale and characteristics for each test point are shown in the table below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dlgsz3h4.png)\n\nIn the table above, the meaning of “exact multiple” is: if it is $K$, it means the required number of pencils $n$ is an exact multiple of the number of pencils in each package type (which means you can avoid buying extra pencils).\n\nThree Hack testdata groups were newly added on December 23, 2022.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2016 普及组] 买铅笔", "background": "NOIP2016 普及组 T1", "description": "P 老师需要去商店买 $n$ 支铅笔作为小朋友们参加 NOIP 的礼物。她发现商店一共有 $3$ 种包装的铅笔，不同包装内的铅笔数量有可能不同，价格也有可能不同。为了公平起见，P 老师决定只买同一种包装的铅笔。\n\n商店不允许将铅笔的包装拆开，因此 P 老师可能需要购买超过 $n$ 支铅笔才够给小朋友们发礼物。\n\n现在 P 老师想知道，在商店每种包装的数量都足够的情况下，要买够至少 $n$ 支铅笔最少需要花费多少钱。\n", "inputFormat": "第一行包含一个正整数 $n$，表示需要的铅笔数量。\n\n接下来三行，每行用 $2$ 个正整数描述一种包装的铅笔：其中第 $1$ 个整数表示这种包装内铅笔的数量，第 $2$ 个整数表示这种包装的价格。\n\n保证所有的 $7$ 个数都是不超过 $10000$ 的正整数。\n", "outputFormat": "$1$ 个整数，表示 P 老师最少需要花费的钱。\n", "hint": "铅笔的三种包装分别是：\n\n- $2$ 支装，价格为 $2$;\n- $50$ 支装，价格为 $30$;\n- $30$ 支装，价格为 $27$。\n\nP 老师需要购买至少 $57$ 支铅笔。\n\n如果她选择购买第一种包装，那么她需要购买 $29$ 份，共计 $2 \\times 29 = 58$ 支，需要花费的钱为 $2 \\times 29 = 58$。\n\n实际上，P 老师会选择购买第三种包装，这样需要买 $2$ 份。虽然最后买到的铅笔数量更多了，为 $30 \\times 2 = 60$ 支，但花费却减少为 $27 \\times 2 = 54$，比第一种少。\n\n对于第二种包装，虽然每支铅笔的价格是最低的，但要够发必须买 $2$ 份，实际的花费达到了 $30  \\times 2 = 60$，因此 P 老师也不会选择。\n\n所以最后输出的答案是 $54$。\n\n**数据范围**\n\n保证所有的 $7$ 个数都是不超过 $10000$ 的正整数。\n\n**子任务**\n\n子任务会给出部分测试数据的特点。如果你在解决题目中遇到了困难，可以尝试只解决一部分测试数据。\n\n每个测试点的数据规模及特点如下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dlgsz3h4.png)\n\n上表中“整倍数”的意义为：若为 $K$，表示对应数据所需要的铅笔数量 $n$ —定是每种包装铅笔数量的整倍数（这意味着一定可以不用多买铅笔）。\n\n于 2022 年 12 月 23 日新加 Hack 数据三组。", "locale": "zh-CN"}}}
{"pid": "P1910", "type": "P", "difficulty": 2, "samples": [["3 10 12\n10 1 11\n1 9 1\n7 10 12\n", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "洛谷原创", "枚举", "背包 DP"], "title": "L 国的战斗之间谍", "background": "L 国即将与 I 国发动战争！！", "description": "俗话说的好：“知己知彼，百战不殆”。L 国的指挥官想派出间谍前往 I 国，于是，选人工作就落到了你身上。\n\n你现在有 $N$ 个人选，每个人都有这样一些数据：$A$（能得到多少资料）、$B$（伪装能力有多差）、$C$（要多少工资）。已知敌人的探查间谍能力为 $M$（即去的所有人 $B$ 的和要小于等于 $M$）和手头有 $X$ 元钱，请问能拿到多少资料？", "inputFormat": "第一行三个整数 $N, M, X$ 代表总人数，敌国侦察能力和总钱数。\n\n第二行至第 $N + 1$ 行，每行三个整数 $A_i, B_i, C_i$ 分别表示第 $i$ 个人能得到的资料，他的伪装能力有多差和他要的工资。", "outputFormat": "一行一个整数表示能得到的资料总数。", "hint": "对于 $100\\%$ 的数据，$1\\le N\\le 100$，$1\\le M\\le 1000$，$1\\leq X\\leq 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "{{Country L's Wartime Spy}}", "background": "{{Country L is about to go to war with Country I.}}", "description": "{{As the saying goes: \"Know yourself and know your enemy, and you will never be defeated in a hundred battles.\" The commander of Country L wants to send spies to Country I, so the task of selection falls on you.\n\nYou now have $N$ candidates. Each person has the following data: $A$ (how much intelligence they can obtain), $B$ (how poor their disguise capability is), and $C$ (the salary they demand). The enemy's counterintelligence capability is known to be $M$ (that is, the sum of $B$ for all selected people must be less than or equal to $M$), and you have $X$ units of money. What is the maximum amount of intelligence you can obtain?}}", "inputFormat": "{{The first line contains three integers $N, M, X$ representing the total number of candidates, the enemy's reconnaissance capability, and the total amount of money.\n\nFrom the second line to the $(N + 1)$-th line, each line contains three integers $A_i, B_i, C_i$, indicating the intelligence the $i$-th person can obtain, how poor their disguise is, and the salary they demand.}}", "outputFormat": "{{Output a single integer representing the total amount of intelligence that can be obtained.}}", "hint": "{{For $100\\%$ of the testdata, $1 \\le N \\le 100$, $1 \\le M \\le 1000$, and $1 \\le X \\le 1000$.}}\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "L 国的战斗之间谍", "background": "L 国即将与 I 国发动战争！！", "description": "俗话说的好：“知己知彼，百战不殆”。L 国的指挥官想派出间谍前往 I 国，于是，选人工作就落到了你身上。\n\n你现在有 $N$ 个人选，每个人都有这样一些数据：$A$（能得到多少资料）、$B$（伪装能力有多差）、$C$（要多少工资）。已知敌人的探查间谍能力为 $M$（即去的所有人 $B$ 的和要小于等于 $M$）和手头有 $X$ 元钱，请问能拿到多少资料？", "inputFormat": "第一行三个整数 $N, M, X$ 代表总人数，敌国侦察能力和总钱数。\n\n第二行至第 $N + 1$ 行，每行三个整数 $A_i, B_i, C_i$ 分别表示第 $i$ 个人能得到的资料，他的伪装能力有多差和他要的工资。", "outputFormat": "一行一个整数表示能得到的资料总数。", "hint": "对于 $100\\%$ 的数据，$1\\le N\\le 100$，$1\\le M\\le 1000$，$1\\leq X\\leq 1000$。", "locale": "zh-CN"}}}
{"pid": "P1911", "type": "P", "difficulty": 4, "samples": [["4 1 3", "1 1 0 2 3 3 4 4 5 5 6 6 7 7 8 8\n1 9 2 2 3 10 10 4 5 11 11 6 7 12 12 8\n13 9 9 14 15 15 10 16 17 11 18 18 19 19 12 20\n13 13 14 14 21 15 16 16 17 17 18 22 22 19 20 20\n23 23 24 21 21 25 26 26 27 27 28 28 22 29 30 30\n23 31 24 24 25 25 32 26 27 33 33 28 29 29 34 30\n35 31 31 36 37 32 32 38 39 39 33 40 41 34 34 42\n35 35 36 36 37 37 38 38 43 39 40 40 41 41 42 42\n44 44 45 45 46 46 47 43 43 48 49 49 50 50 51 51\n44 52 52 45 46 53 47 47 48 48 54 49 50 55 55 51\n56 52 57 57 58 53 53 59 60 54 54 61 62 62 55 63\n56 56 57 64 58 58 59 59 60 60 61 61 65 62 63 63\n66 66 67 64 64 68 69 69 70 70 71 65 65 72 73 73\n66 74 67 67 68 68 75 69 70 76 71 71 72 72 77 73\n78 74 74 79 80 75 75 81 82 76 76 83 84 77 77 85\n78 78 79 79 80 80 81 81 82 82 83 83 84 84 85 85\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["递归", "洛谷原创", "Special Judge", "分治"], "title": "L 国的战斗之排兵布阵", "background": "L 国即将与 I 国发动战争！！\n\nL 国的指挥官想让他的每一个军营都呈现出国徽形——L 形（方向无所谓）。当然，他的指挥营除外（这叫做个性），他想不出该怎么排，就这样，这任务又变成了你的……", "description": "现有一个 $2^n \\times 2^n$ 的方阵和 $\\dfrac{4^n-1}{3}$ 块编号分别为 $1 \\sim \\dfrac{4^n-1}{3}$ 的 $2 \\times 2$ 规格 L 形骨牌（形状如下）：\n\n```plain\n*.\n**\n```\n\n你需要构造一种方案，使得除了（从上到下）第 $x$ 行（从左到右）第 $y$ 列的格子以外，其他格子都被骨牌覆盖。骨牌可以旋转。", "inputFormat": "一行三个整数 $n,x,y$。", "outputFormat": "$2^n$ 行，每行 $2^n$ 个数，其中第 $i$ 行第 $j$ 个数表示覆盖了第 $i$ 行第 $j$ 列的格子的骨牌编号。特别地，对于第 $x$ 行第 $y$ 列的格子，请输出 $0$。\n\n**答案可能有多种，输出一种即可。**", "hint": "$1\\le n\\le10$，$1\\le x,y\\le2^n$。", "locale": "zh-CN", "translations": {"en": {"title": "Battle Deployment in Country L", "background": "Country L is about to go to war with Country I!\n\nThe commander of Country L wants each of his barracks to form the national emblem — an \"L\" shape (any orientation). Of course, his command barracks is an exception (that is called personality). He could not figure out how to arrange them, so the task has fallen to you.", "description": "You are given a $2^n \\times 2^n$ grid and $\\dfrac{4^n-1}{3}$ \"L\"-shaped trominoes of size $2 \\times 2$, numbered from $1$ to $\\dfrac{4^n-1}{3}$ (shape shown below):\n\n```plain\n*.\n**\n```\n\nConstruct a placement so that every cell is covered by some tromino except the cell at row $x$ (from top to bottom) and column $y$ (from left to right). Trominoes may be rotated.", "inputFormat": "One line with three integers $n, x, y$.", "outputFormat": "Output $2^n$ lines, each with $2^n$ integers. The number at the $i$-th row and $j$-th column indicates the index of the tromino covering that cell. Specifically, for the cell at row $x$ and column $y$, output $0$.\n\nThere may be multiple valid answers; output any one of them.", "hint": "Constraints: $1 \\le n \\le 10$, $1 \\le x, y \\le 2^n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "L 国的战斗之排兵布阵", "background": "L 国即将与 I 国发动战争！！\n\nL 国的指挥官想让他的每一个军营都呈现出国徽形——L 形（方向无所谓）。当然，他的指挥营除外（这叫做个性），他想不出该怎么排，就这样，这任务又变成了你的……", "description": "现有一个 $2^n \\times 2^n$ 的方阵和 $\\dfrac{4^n-1}{3}$ 块编号分别为 $1 \\sim \\dfrac{4^n-1}{3}$ 的 $2 \\times 2$ 规格 L 形骨牌（形状如下）：\n\n```plain\n*.\n**\n```\n\n你需要构造一种方案，使得除了（从上到下）第 $x$ 行（从左到右）第 $y$ 列的格子以外，其他格子都被骨牌覆盖。骨牌可以旋转。", "inputFormat": "一行三个整数 $n,x,y$。", "outputFormat": "$2^n$ 行，每行 $2^n$ 个数，其中第 $i$ 行第 $j$ 个数表示覆盖了第 $i$ 行第 $j$ 列的格子的骨牌编号。特别地，对于第 $x$ 行第 $y$ 列的格子，请输出 $0$。\n\n**答案可能有多种，输出一种即可。**", "hint": "$1\\le n\\le10$，$1\\le x,y\\le2^n$。", "locale": "zh-CN"}}}
{"pid": "P1912", "type": "P", "difficulty": 6, "samples": [["4\n4 9 3\nbrysj,\nhhrhl.\nyqqlm,\ngsycl.\n4 9 2\nbrysj,\nhhrhl.\nyqqlm,\ngsycl.\n1 1005 6\npoet\n1 1004 6\npoet\n", "108\nbrysj,\nhhrhl.\nyqqlm,\ngsycl.\n--------------------\n32\nbrysj, hhrhl.\nyqqlm, gsycl.\n--------------------\nToo hard to arrange\n--------------------\n1000000000000000000\npoet\n--------------------\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "贪心", "2009", "NOI", "Special Judge", "四边形不等式", "栈", "决策单调性"], "title": "[NOI2009] 诗人小G", "background": "", "description": "小 G 是一个出色的诗人，经常作诗自娱自乐。但是，他一直被一件事情所困扰，那就是诗的排版问题。\n\n一首诗包含了若干个句子，对于一些连续的短句，可以将它们用空格隔开并放在一行中，注意一行中可以放的句子数目是没有限制的。小 G 给每首诗定义了一个行标准长度（行的长度为一行中符号的总个数），他希望排版后每行的长度都和行标准长度相差不远。显然排版时，不应改变原有的句子顺序，并且小 G 不允许把一个句子分在两行或者更多的行内。在满足上面两个条件的情况下，小 G 对于排版中的每行定义了一个不协调度, 为这行的实际长度与行标准长度差值绝对值的 $P$ 次方，而一个排版的不协调度为所有行不协调度的总和。\n\n小 G 最近又作了几首诗，现在请你对这首诗进行排版，使得排版后的诗尽量协调（即不协调度尽量小），并把排版的结果告诉他。", "inputFormat": "输入文件中的第一行为一个整数 $T$，表示诗的数量。\n\n接下来为 $T$ 首诗，这里一首诗即为一组测试数据。每组测试数据中的第一行为三个由空格分隔的正整数 $N,L,P$，其中：$N$ 表示这首诗句子的数目，$L$ 表示这首诗的行标准长度，$P$ 的含义见问题描述。\n\n从第二行开始，每行为一个句子，句子由英文字母、数字、标点符号等符号组成（ASCII 码 $33 \\sim 127$，但不包含 `-`）。", "outputFormat": "对于每组测试数据，若最小的不协调度不超过 $10^{18}$，则第一行为一个数，表示不协调度。接下来若干行，表示你排版之后的诗。注意：在同一行的相邻两个句子之间需要用一个空格分开。\n\n如果有多个可行解，它们的不协调度都是最小值，则输出任意一个解均可。若最小的不协调度超过 $10^{18}$，则输出 `Too hard to arrange`。每组测试数据结束后输出 `--------------------`，共 20 个 `-`，`-` 的 ASCII 码为 45，请勿输出多余的空行或者空格。", "hint": "#### 样例输入输出 1 解释\n\n前两组输入数据中每行的实际长度均为 $6$，后两组输入数据每行的实际长度均为 $4$。一个排版方案中每行相邻两个句子之间的空格也算在这行的长度中（可参见样例中第二组数据）。每行末尾没有空格。\n\n#### 数据规模与约定\n::cute-table{tuack}\n\n| 测试点 | $T$ | $N$ | $L$ | $P$ |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $\\le 10$ | $\\le18$ | $\\le 100$ | $\\le5$ |\n| $2$ | ^ | $\\le 2\\times 10^3$ |  $\\le 6\\times 10^4$| $\\le10$ |\n| $3$ | ^ | ^ | ^| ^ |\n| $4$ | $\\le 5$ | $\\le 10^5$ | $\\le 200$ | ^ |\n| $5$ | ^ | ^ | ^ | ^ |\n| $6$ | ^ | ^ | $\\le 3\\times 10^6$ | $2$ |\n| $7$ | ^ | ^ | ^ | ^ |\n| $8$ | ^ | ^ | ^ | $\\le10$ |\n| $9$ | ^ | ^ | ^ | ^ |\n| $10$ | ^ | ^ | ^ | ^ |\n\n所有句子的长度不超过 $30$ 。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Poet Little G", "background": "", "description": "Little G is an excellent poet who often writes poems for fun. However, he has always been troubled by typesetting.\n\nA poem contains several sentences. Some consecutive short sentences can be put on the same line separated by single spaces. Note that there is no limit on how many sentences can be placed on a line. Little G defines a standard line length for each poem (a line’s length is the total number of symbols in that line). He hopes that, after typesetting, the length of every line is close to the standard line length. Clearly, the original order of sentences must not be changed, and Little G does not allow a sentence to be split across lines. Under these two conditions, he defines the disharmony of a line as the $P$-th power of the absolute difference between the line’s actual length and the standard line length. The disharmony of a typesetting is the sum of the disharmonies of all lines.\n\nLittle G has recently composed several poems. Please typeset each poem so that the disharmony is minimized, and tell him the result.", "inputFormat": "The first line of the input contains an integer $T$, the number of poems.\n\nThen follow $T$ poems, each being one test case. For each test case, the first line contains three positive integers $N, L, P$ separated by spaces: $N$ is the number of sentences in the poem, $L$ is the standard line length, and $P$ is as defined above.\n\nStarting from the next line, there are $N$ lines, each containing one sentence. A sentence consists of symbols such as English letters, digits, and punctuation (ASCII codes from $33$ to $127$, but not including `-`).", "outputFormat": "For each test case, if the minimal disharmony does not exceed $10^{18}$, print that disharmony on the first line. Then print the typeset poem on the following lines. Note: between two adjacent sentences on the same line, insert exactly one space.\n\nIf there are multiple optimal solutions (i.e., with the same minimal disharmony), you may output any of them. If the minimal disharmony exceeds $10^{18}$, output `Too hard to arrange`. After each test case, output a line `--------------------` consisting of exactly 20 `-` characters (ASCII code $45$). Do not print extra blank lines or spaces.", "hint": "#### Explanation for Sample Input and Output 1\n\nIn the first two test cases, the actual length of each line is $6$; in the last two test cases, the actual length of each line is $4$. In a typesetting scheme, the spaces between two adjacent sentences on the same line are counted in that line’s length (see the second dataset in the sample). There is no trailing space at the end of a line.\n\n#### Constraints\n\n| Test Point | $T$ | $N$ | $L$ | $P$ |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $\\le 10$ | $\\le 18$ | $\\le 100$ | $\\le 5$ |\n| $2$ | ^ | $\\le 2\\times 10^3$ | $\\le 6\\times 10^4$ | $\\le 10$ |\n| $3$ | ^ | ^ | ^ | ^ |\n| $4$ | $\\le 5$ | $\\le 10^5$ | $\\le 200$ | ^ |\n| $5$ | ^ | ^ | ^ | ^ |\n| $6$ | ^ | ^ | $\\le 3\\times 10^6$ | $2$ |\n| $7$ | ^ | ^ | ^ | ^ |\n| $8$ | ^ | ^ | ^ | $\\le 10$ |\n| $9$ | ^ | ^ | ^ | ^ |\n| $10$ | ^ | ^ | ^ | ^ |\n\nThe length of every sentence does not exceed $30$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 诗人小G", "background": "", "description": "小 G 是一个出色的诗人，经常作诗自娱自乐。但是，他一直被一件事情所困扰，那就是诗的排版问题。\n\n一首诗包含了若干个句子，对于一些连续的短句，可以将它们用空格隔开并放在一行中，注意一行中可以放的句子数目是没有限制的。小 G 给每首诗定义了一个行标准长度（行的长度为一行中符号的总个数），他希望排版后每行的长度都和行标准长度相差不远。显然排版时，不应改变原有的句子顺序，并且小 G 不允许把一个句子分在两行或者更多的行内。在满足上面两个条件的情况下，小 G 对于排版中的每行定义了一个不协调度, 为这行的实际长度与行标准长度差值绝对值的 $P$ 次方，而一个排版的不协调度为所有行不协调度的总和。\n\n小 G 最近又作了几首诗，现在请你对这首诗进行排版，使得排版后的诗尽量协调（即不协调度尽量小），并把排版的结果告诉他。", "inputFormat": "输入文件中的第一行为一个整数 $T$，表示诗的数量。\n\n接下来为 $T$ 首诗，这里一首诗即为一组测试数据。每组测试数据中的第一行为三个由空格分隔的正整数 $N,L,P$，其中：$N$ 表示这首诗句子的数目，$L$ 表示这首诗的行标准长度，$P$ 的含义见问题描述。\n\n从第二行开始，每行为一个句子，句子由英文字母、数字、标点符号等符号组成（ASCII 码 $33 \\sim 127$，但不包含 `-`）。", "outputFormat": "对于每组测试数据，若最小的不协调度不超过 $10^{18}$，则第一行为一个数，表示不协调度。接下来若干行，表示你排版之后的诗。注意：在同一行的相邻两个句子之间需要用一个空格分开。\n\n如果有多个可行解，它们的不协调度都是最小值，则输出任意一个解均可。若最小的不协调度超过 $10^{18}$，则输出 `Too hard to arrange`。每组测试数据结束后输出 `--------------------`，共 20 个 `-`，`-` 的 ASCII 码为 45，请勿输出多余的空行或者空格。", "hint": "#### 样例输入输出 1 解释\n\n前两组输入数据中每行的实际长度均为 $6$，后两组输入数据每行的实际长度均为 $4$。一个排版方案中每行相邻两个句子之间的空格也算在这行的长度中（可参见样例中第二组数据）。每行末尾没有空格。\n\n#### 数据规模与约定\n::cute-table{tuack}\n\n| 测试点 | $T$ | $N$ | $L$ | $P$ |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $\\le 10$ | $\\le18$ | $\\le 100$ | $\\le5$ |\n| $2$ | ^ | $\\le 2\\times 10^3$ |  $\\le 6\\times 10^4$| $\\le10$ |\n| $3$ | ^ | ^ | ^| ^ |\n| $4$ | $\\le 5$ | $\\le 10^5$ | $\\le 200$ | ^ |\n| $5$ | ^ | ^ | ^ | ^ |\n| $6$ | ^ | ^ | $\\le 3\\times 10^6$ | $2$ |\n| $7$ | ^ | ^ | ^ | ^ |\n| $8$ | ^ | ^ | ^ | $\\le10$ |\n| $9$ | ^ | ^ | ^ | ^ |\n| $10$ | ^ | ^ | ^ | ^ |\n\n所有句子的长度不超过 $30$ 。", "locale": "zh-CN"}}}
{"pid": "P1913", "type": "P", "difficulty": 2, "samples": [["5 5\nrrrrr\nrdddr\nrroll\nuuuuu\nuuuuu\n", "19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "洛谷原创"], "title": "L 国的战斗之伞兵", "background": "L 国即将与 I 国发动战争！！\n\n为了在敌国渗透作战，指挥官决定：派出伞兵前往敌国！然而敌国的风十分强烈，能让伞兵在同一高度不停转悠，直到被刮到一个无风区……（可怜的小兵）", "description": "I 国的领土是一个 $n \\times m$ 的矩形，每个格子都有自己的风向。\n\n当一个伞兵位于从某个格子时，根据该格子上的风向描述符，某些事情将会发生：\n\n|风向描述符|将会发生的事情|\n|:-:|:-:|\n|`u`|伞兵向上移动一格|\n|`d`|伞兵向下移动一格|\n|`l`|伞兵向左移动一格|\n|`r`|伞兵向右移动一格|\n|`o`|伞兵空降成功|\n|`x`|伞兵空降失败|\n\n**我们默认 I 国领土以外区域的风向描述符均为 `x`。**\n\n现在，指挥官在 $n \\times m$ 个格子上各投放了一个伞兵，问最终有多少个伞兵空降成功（也就是说，在经过**有限次**移动后能够来到一个风向描述符为 `o` 的格子）。", "inputFormat": "第一行两个正整数 $n,m\\ (1 \\leq n,m \\leq 1000)$。\n\n以下 $n$ 行，每行 $m$ 个字符，表示每个格子的风向描述符。\n\n**保证输入中只会出现 `u/d/l/r/o`，不会出现 `x`。**", "outputFormat": "一个数：表示有几个点可以放下伞兵。", "hint": "样例解释：\n\n投放于第一行的 $5$ 个伞兵最终会移动到 I 国领土以外的区域，因此空降失败。\n\n投放于第二行第五列的 $1$ 个伞兵同理。\n\n剩下的 $5 \\times 5-5-1=19$ 个伞兵都能成功空降。", "locale": "zh-CN", "translations": {"en": {"title": "Combat Paratroopers of Country L", "background": "Country L is about to go to war with Country I!\n\nTo infiltrate the enemy country, the commander decides to send paratroopers into the enemy! However, the wind in the enemy country is so strong that it can make paratroopers circle around at the same altitude until they are blown into a windless area... (poor soldiers).", "description": "The territory of Country I is an $n \\times m$ rectangle, and each cell has its own wind direction.\n\nWhen a paratrooper is at some cell, according to the wind direction descriptor on that cell, the following will happen:\n\n|Wind descriptor|What happens|\n|:-:|:-:|\n|`u`|The paratrooper moves up by one cell.|\n|`d`|The paratrooper moves down by one cell.|\n|`l`|The paratrooper moves left by one cell.|\n|`r`|The paratrooper moves right by one cell.|\n|`o`|The paratrooper lands successfully.|\n|`x`|The paratrooper fails to land.|\n\nWe assume that all cells outside Country I’s territory have the wind descriptor `x`.\n\nNow, the commander drops one paratrooper on each of the $n \\times m$ cells. How many paratroopers will eventually land successfully (that is, can reach a cell with descriptor `o` after a finite number of moves)?", "inputFormat": "The first line contains two positive integers $n, m\\ (1 \\leq n, m \\leq 1000)$.\n\nThe next $n$ lines each contain $m$ characters, representing the wind descriptor of each cell.\n\nIt is guaranteed that only `u/d/l/r/o` appear in the input; `x` does not appear.", "outputFormat": "A single integer: the number of paratroopers that can land successfully.", "hint": "Explanation of the sample:\n\nThe $5$ paratroopers dropped in the first row will eventually move outside Country I’s territory, thus failing to land.\n\nThe one paratrooper dropped in the second row, fifth column will do the same.\n\nThe remaining $5 \\times 5-5-1=19$ paratroopers will all land successfully.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "L 国的战斗之伞兵", "background": "L 国即将与 I 国发动战争！！\n\n为了在敌国渗透作战，指挥官决定：派出伞兵前往敌国！然而敌国的风十分强烈，能让伞兵在同一高度不停转悠，直到被刮到一个无风区……（可怜的小兵）", "description": "I 国的领土是一个 $n \\times m$ 的矩形，每个格子都有自己的风向。\n\n当一个伞兵位于从某个格子时，根据该格子上的风向描述符，某些事情将会发生：\n\n|风向描述符|将会发生的事情|\n|:-:|:-:|\n|`u`|伞兵向上移动一格|\n|`d`|伞兵向下移动一格|\n|`l`|伞兵向左移动一格|\n|`r`|伞兵向右移动一格|\n|`o`|伞兵空降成功|\n|`x`|伞兵空降失败|\n\n**我们默认 I 国领土以外区域的风向描述符均为 `x`。**\n\n现在，指挥官在 $n \\times m$ 个格子上各投放了一个伞兵，问最终有多少个伞兵空降成功（也就是说，在经过**有限次**移动后能够来到一个风向描述符为 `o` 的格子）。", "inputFormat": "第一行两个正整数 $n,m\\ (1 \\leq n,m \\leq 1000)$。\n\n以下 $n$ 行，每行 $m$ 个字符，表示每个格子的风向描述符。\n\n**保证输入中只会出现 `u/d/l/r/o`，不会出现 `x`。**", "outputFormat": "一个数：表示有几个点可以放下伞兵。", "hint": "样例解释：\n\n投放于第一行的 $5$ 个伞兵最终会移动到 I 国领土以外的区域，因此空降失败。\n\n投放于第二行第五列的 $1$ 个伞兵同理。\n\n剩下的 $5 \\times 5-5-1=19$ 个伞兵都能成功空降。", "locale": "zh-CN"}}}
{"pid": "P1914", "type": "P", "difficulty": 1, "samples": [["1\nqwe", "rxf"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串"], "title": "小书童——凯撒密码", "background": "某蒟蒻迷上了 “小书童”，有一天登陆时忘记密码了（他没绑定邮箱 or 手机），于是便把问题抛给了神犇你。\n", "description": "蒟蒻虽然忘记密码，但他还记得密码是由一个字符串组成。密码是由原文字符串（由不超过 50 个小写字母组成）中每个字母向后移动 $n$ 位形成的。`z` 的下一个字母是 `a`，如此循环。他现在找到了移动前的原文字符串及 $n$，请你求出密码。", "inputFormat": "第一行：$n$。第二行：未移动前的一串字母。\n", "outputFormat": "一行，是此蒟蒻的密码。", "hint": "字符串长度 $\\le 50$，$1 \\leq n \\leq 26$。", "locale": "zh-CN", "translations": {"en": {"title": "Xiao Shutong — Caesar Cipher", "background": "A newbie got hooked on \"Xiao Shutong\". One day, when logging in, he forgot his password (he hadn't bound an email or phone), so he turned to you for help.", "description": "Although he forgot the password, he still remembers that it is composed of a string. The password is formed by shifting each letter in the original string (consisting of at most 50 lowercase letters) forward by $n$ positions. The letter `z` is followed by `a`, wrapping around. Now that he has the original string before shifting and the value of $n$, please compute the password.", "inputFormat": "The first line: $n$. The second line: a string of letters before shifting.", "outputFormat": "One line, which is this newbie's password.", "hint": "The string length is $\\le 50$, and $1 \\leq n \\leq 26$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小书童——凯撒密码", "background": "某蒟蒻迷上了 “小书童”，有一天登陆时忘记密码了（他没绑定邮箱 or 手机），于是便把问题抛给了神犇你。\n", "description": "蒟蒻虽然忘记密码，但他还记得密码是由一个字符串组成。密码是由原文字符串（由不超过 50 个小写字母组成）中每个字母向后移动 $n$ 位形成的。`z` 的下一个字母是 `a`，如此循环。他现在找到了移动前的原文字符串及 $n$，请你求出密码。", "inputFormat": "第一行：$n$。第二行：未移动前的一串字母。\n", "outputFormat": "一行，是此蒟蒻的密码。", "hint": "字符串长度 $\\le 50$，$1 \\leq n \\leq 26$。", "locale": "zh-CN"}}}
{"pid": "P1915", "type": "P", "difficulty": 7, "samples": [["5 1 6 0 0\n1\n5 2 2 0 0\n", "1\n5\n5 2 2 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2010", "NOI", "提交答案", "Special Judge", "随机化"], "title": "[NOI2010] 成长快乐", "background": "", "description": "Nemo 是一条无忧无虑的小鱼，它的初始体重为 $w_0$。可爱的 Nemo 希望自己能够尽快地成长，因此需要吃尽量多的食物。Nemo 最喜爱的食物是海里的小虾。\n\n已知 Nemo 对食物的情况了解如下：大海里共有 $n$ 只小虾，从 $1$ 到 $n$ 编号，其中编号为 $i$ 的小虾的重量为 $w_i$。将大海看作一个 X-Y 坐标系，在 $0$ 时刻编号为 $i$ 的小虾所在的位置为 $(x_i, y_i)$。小虾在大海中作匀速直线运动，其中编号为 $i$ 的小虾的速度向量为 $(p_i, q_i)$，即在时刻 $t$，它的位置为 $(x_i+p_i \\cdot t,y_i+q_i \\cdot t)$。\n\nNemo 在 $0$ 时刻的位置为 $(x_0, y_0)$，它可以在海中随意移动，但速度不超过 $V$。Nemo 希望通过自己的努力，在 $T$ 个单位时间内（含 $T$ 时刻）吃到的小虾重量总和尽量大。\n\n当 Nemo 与某只小虾同时移动到同一个位置上，且小虾的重量小于 Nemo 当时的重量，则 Nemo 可以将该小虾吃掉。当 Nemo 吃掉重量为 $w_i$ 的小虾之后，它的体重将增加 $w_i$。注意，小虾不会吃 Nemo，且小虾之间也不会自相残杀。\n\nNemo 希望你来帮助它制定一个成长计划，使得它吃掉的小虾重量总和尽量大。", "inputFormat": "该题为提交答案型试题，所有输入数据 `nemo1.in` $\\sim$ `nemo10.in` 已在试题目录下。\n\n**[数据以及checker下载](http://pan.baidu.com/s/1dEDLQud)**\n\n对于每个数据，输入文件中第一行为五个实数 $w_0, V, T, x_0, y_0$。分别表示 Nemo 的初始体重、最大移动速度、时间限制以及 Nemo 在 $0$ 时刻的位置。\n\n第二行为一个整数 $n$，表示大海中小虾的只数。\n\n接下来 $n$ 行，每行 $5$ 个实数，包括 $w_i, x_i, y_i, p_i, q_i$，分别表示编号为 $i$ 的小虾的重量、在 $0$ 时刻的位置和速度向量。", "outputFormat": "针对给定的 $10$ 个输入文件 `nemo1.in` $\\sim$ `nemo10.in`，你需要分别提交你的输出文件 `nemo1.in` $\\sim$ `nemo10.in`。\n\n输出文件第一行包含一个整数 $k$。表示在你的成长计划中，Nemo 将吃到 $k$ 只小虾。\n\n第二行包含一个实数 $w$，表示在你的成长计划中，Nemo 吃到的小虾的重量总和。\n\n接下来 $k$ 行，每行 $4$ 个数 $t, x, y, s$。表示在时刻 $t$，Nemo 在位置 $(x, y)$ 处吃掉了编号为 $s$ 的小虾。其中 $t, x, y$ 为实数，$s$ 为整数。\n\n为保证验证程序的精度，所有实数建议至少输出到小数点后 $6$ 位。在验证程序中，两个实数绝对误差不超过 $10^{-4}$ 时，即视为相等。", "hint": "### 样例解释\n\n在这个样例中，Nemo 在时刻 $5$ 在位置 $(2, 2)$ 吃掉了 $1$ 号小虾。其实 Nemo 到达 $(2, 2)$ 的时间可以更早，但题中仅要求速度不超过 $V$ 即可。\n\n### 评分方法\n\n对于每组数据，我们设置了 $9$ 个评分参数 $a_{10},a_9, \\ldots ,a_2$。如果选手的输出不合法，则得零分。否则，设在你的方案中，Nemo 体重的增加量为 $w_{user}$，你的分数将会由下表给出：\n\n| 得分 |          条件          | 得分 |        条件         |\n| :--: | :--------------------: | :--: | :-----------------: |\n|  10  | $w_{user} \\geq a_{10}$ |  5   | $w_{user} \\geq a_5$ |\n|  9   |  $w_{user} \\geq a_9$   |  4   | $w_{user} \\geq a_4$ |\n|  8   |  $w_{user} \\geq a_8$   |  3   | $w_{user} \\geq a_3$ |\n|  7   |  $w_{user} \\geq a_7$   |  2   | $w_{user} \\geq a_2$ |\n|  6   |  $w_{user} \\geq a_6$   |  1   |  $w_{user} \\gt 0$   |\n\n### checker 使用方法\n\n在 checker 目录下，在终端输入 `./checker in out`。\n\n其中 in 为题目提供的输入文件，out 为你对于该输入文件给出的答案文件。\n\n校验器将只检查你的答案的合法性，结果以在线评测为准。\n\n感谢 @FlierKing 提供 spj 以及 @虞皓翔 帮助完善 spj。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2010] Happy Growth", "background": "# Description\n\nNemo is a carefree little fish with an initial weight of $w_0$. Cute Nemo wants to grow as fast as possible, so it needs to eat as much food as it can. Nemo’s favorite food is shrimp in the sea.\n\nNemo knows the following about the food: there are $n$ shrimps in the sea, numbered from $1$ to $n$, where the weight of shrimp $i$ is $w_i$. Regard the ocean as an X-Y coordinate system. At time $0$, shrimp $i$ is at position $(x_i, y_i)$. Each shrimp moves in a straight line at a constant speed. The velocity vector of shrimp $i$ is $(p_i, q_i)$, which means that at time $t$, its position is $(x_i + p_i \\cdot t, y_i + q_i \\cdot t)$.\n\nNemo is at position $(x_0, y_0)$ at time $0$. It can move freely in the sea, but its speed does not exceed $V$. Nemo hopes, through its own effort, to maximize the total weight of shrimps it eats within $T$ units of time (including time $T$).\n\nIf Nemo and a shrimp reach the same position at the same time, and the shrimp’s weight is less than Nemo’s current weight, then Nemo can eat that shrimp. After Nemo eats a shrimp of weight $w_i$, its own weight increases by $w_i$. Note that shrimps do not eat Nemo, and shrimps do not attack each other.\n\nNemo wants you to help make a growth plan so that the total weight of shrimps it eats is as large as possible.", "description": "", "inputFormat": "", "outputFormat": "For the given $10$ input files `nemo1.in` $\\sim$ `nemo10.in`, you need to submit the corresponding output files `nemo1.out` $\\sim$ `nemo10.out`.\n\nThe first line of the output file contains an integer $k$, indicating that in your growth plan, Nemo will eat $k$ shrimps.\n\nThe second line contains a real number $w$, indicating the total weight of shrimps that Nemo eats in your plan.\n\nThe next $k$ lines each contain $4$ numbers $t, x, y, s$. This means that at time $t$, Nemo eats shrimp numbered $s$ at position $(x, y)$. Here $t, x, y$ are real numbers, and $s$ is an integer.\n\nTo ensure the precision of the checker, it is recommended to output all real numbers with at least $6$ digits after the decimal point. In the checker, two real numbers are considered equal if their absolute difference does not exceed $10^{-4}$.", "hint": "### Sample explanation\n\nIn this sample, Nemo eats shrimp $1$ at position $(2, 2)$ at time $5$. In fact, Nemo could reach $(2, 2)$ earlier, but the problem only requires that the speed not exceed $V$.\n\n### Scoring\n\nFor each dataset, we set $9$ scoring thresholds $a_{10}, a_9, \\ldots, a_2$. If your output is invalid, you get zero points. Otherwise, let the increase in Nemo’s weight in your plan be $w_{user}$. Your score is determined by the following table:\n\n| Score |       Condition       | Score |      Condition       |\n| :---: | :-------------------: | :---: | :------------------: |\n|  10   | $w_{user} \\geq a_{10}$ |  5    | $w_{user} \\geq a_5$  |\n|   9   |  $w_{user} \\geq a_9$  |  4    | $w_{user} \\geq a_4$  |\n|   8   |  $w_{user} \\geq a_8$  |  3    | $w_{user} \\geq a_3$  |\n|   7   |  $w_{user} \\geq a_7$  |  2    | $w_{user} \\geq a_2$  |\n|   6   |  $w_{user} \\geq a_6$  |  1    |   $w_{user} \\gt 0$   |\n\n### How to use the checker\n\nIn the checker directory, run `./checker in out` in the terminal.\n\nHere, in is the input file provided by the problem, and out is your answer file for that input.\n\nThe checker only verifies the validity of your output. Final results are subject to the online judge.\n\nThanks to @FlierKing for providing the SPJ and to @虞皓翔 for helping improve the SPJ.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2010] 成长快乐", "background": "", "description": "Nemo 是一条无忧无虑的小鱼，它的初始体重为 $w_0$。可爱的 Nemo 希望自己能够尽快地成长，因此需要吃尽量多的食物。Nemo 最喜爱的食物是海里的小虾。\n\n已知 Nemo 对食物的情况了解如下：大海里共有 $n$ 只小虾，从 $1$ 到 $n$ 编号，其中编号为 $i$ 的小虾的重量为 $w_i$。将大海看作一个 X-Y 坐标系，在 $0$ 时刻编号为 $i$ 的小虾所在的位置为 $(x_i, y_i)$。小虾在大海中作匀速直线运动，其中编号为 $i$ 的小虾的速度向量为 $(p_i, q_i)$，即在时刻 $t$，它的位置为 $(x_i+p_i \\cdot t,y_i+q_i \\cdot t)$。\n\nNemo 在 $0$ 时刻的位置为 $(x_0, y_0)$，它可以在海中随意移动，但速度不超过 $V$。Nemo 希望通过自己的努力，在 $T$ 个单位时间内（含 $T$ 时刻）吃到的小虾重量总和尽量大。\n\n当 Nemo 与某只小虾同时移动到同一个位置上，且小虾的重量小于 Nemo 当时的重量，则 Nemo 可以将该小虾吃掉。当 Nemo 吃掉重量为 $w_i$ 的小虾之后，它的体重将增加 $w_i$。注意，小虾不会吃 Nemo，且小虾之间也不会自相残杀。\n\nNemo 希望你来帮助它制定一个成长计划，使得它吃掉的小虾重量总和尽量大。", "inputFormat": "该题为提交答案型试题，所有输入数据 `nemo1.in` $\\sim$ `nemo10.in` 已在试题目录下。\n\n**[数据以及checker下载](http://pan.baidu.com/s/1dEDLQud)**\n\n对于每个数据，输入文件中第一行为五个实数 $w_0, V, T, x_0, y_0$。分别表示 Nemo 的初始体重、最大移动速度、时间限制以及 Nemo 在 $0$ 时刻的位置。\n\n第二行为一个整数 $n$，表示大海中小虾的只数。\n\n接下来 $n$ 行，每行 $5$ 个实数，包括 $w_i, x_i, y_i, p_i, q_i$，分别表示编号为 $i$ 的小虾的重量、在 $0$ 时刻的位置和速度向量。", "outputFormat": "针对给定的 $10$ 个输入文件 `nemo1.in` $\\sim$ `nemo10.in`，你需要分别提交你的输出文件 `nemo1.in` $\\sim$ `nemo10.in`。\n\n输出文件第一行包含一个整数 $k$。表示在你的成长计划中，Nemo 将吃到 $k$ 只小虾。\n\n第二行包含一个实数 $w$，表示在你的成长计划中，Nemo 吃到的小虾的重量总和。\n\n接下来 $k$ 行，每行 $4$ 个数 $t, x, y, s$。表示在时刻 $t$，Nemo 在位置 $(x, y)$ 处吃掉了编号为 $s$ 的小虾。其中 $t, x, y$ 为实数，$s$ 为整数。\n\n为保证验证程序的精度，所有实数建议至少输出到小数点后 $6$ 位。在验证程序中，两个实数绝对误差不超过 $10^{-4}$ 时，即视为相等。", "hint": "### 样例解释\n\n在这个样例中，Nemo 在时刻 $5$ 在位置 $(2, 2)$ 吃掉了 $1$ 号小虾。其实 Nemo 到达 $(2, 2)$ 的时间可以更早，但题中仅要求速度不超过 $V$ 即可。\n\n### 评分方法\n\n对于每组数据，我们设置了 $9$ 个评分参数 $a_{10},a_9, \\ldots ,a_2$。如果选手的输出不合法，则得零分。否则，设在你的方案中，Nemo 体重的增加量为 $w_{user}$，你的分数将会由下表给出：\n\n| 得分 |          条件          | 得分 |        条件         |\n| :--: | :--------------------: | :--: | :-----------------: |\n|  10  | $w_{user} \\geq a_{10}$ |  5   | $w_{user} \\geq a_5$ |\n|  9   |  $w_{user} \\geq a_9$   |  4   | $w_{user} \\geq a_4$ |\n|  8   |  $w_{user} \\geq a_8$   |  3   | $w_{user} \\geq a_3$ |\n|  7   |  $w_{user} \\geq a_7$   |  2   | $w_{user} \\geq a_2$ |\n|  6   |  $w_{user} \\geq a_6$   |  1   |  $w_{user} \\gt 0$   |\n\n### checker 使用方法\n\n在 checker 目录下，在终端输入 `./checker in out`。\n\n其中 in 为题目提供的输入文件，out 为你对于该输入文件给出的答案文件。\n\n校验器将只检查你的答案的合法性，结果以在线评测为准。\n\n感谢 @FlierKing 提供 spj 以及 @虞皓翔 帮助完善 spj。\n", "locale": "zh-CN"}}}
{"pid": "P1916", "type": "P", "difficulty": 7, "samples": [["11 11\n18 2 6 17 7 19 17 6 2 12 14\n1 1\n2 1\n3 1\n4 1\n5 1\n6 1\n7 1\n8 1\n9 1\n10 1\n11 1", "120\n23750\n1107240\n18147258\n161737928\n973451550\n464732548\n722342802\n682083299\n545845982\n686473504"], ["11 4\n18 2 6 17 7 19 17 6 2 12 14\n4 2\n15 3\n5 2\n20 4", "18147258 44343650 \n804760733 115057816 300031140 \n161737928 317914212 \n73381527 279355195 666843568 217219267"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["多项式", "微积分", "导数", "快速数论变换 NTT"], "title": "Hermite 多点求值 / 多点 Taylor 展开", "background": "", "description": "给定一个低于 $n$ 次的多项式 $F(x)=\\displaystyle \\sum_{i=0}^{n-1}f_ix^i$，以及 $m$ 组 $(a_i,k_i)$，满足 $\\displaystyle \\sum_{i=1}^m k_i=n$。\n\n对于每一组 $(a_i,k_i)$，请求出 $F^{(j)}(a_i),\\forall\\, 0\\le j< k_i$，答案对 $998244353$ 取模。\n\n其中 $F^{(i)}(x)$ 代表 $F(x)$ 的 $i$ 阶导。", "inputFormat": "第一行两个正整数 $n,m$。\n\n第二行 $n$ 个整数，依次为 $f_0,f_1,\\cdots ,f_{n-1}$。\n\n接下来的 $m$ 行中，第 $i$ 行代表 $a_i,k_i$ 的值。 ", "outputFormat": "输出共 $m$ 行。\n\n第 $i$ 行有 $k_i$ 个数字，依次代表 $F(a_i),F'(a_i),F^{(2)}(a_i),\\cdots ,F^{(k_i-1)}(a_i)$ 的值。\n\n答案对 $998244353$ 取模。", "hint": "对于所有数据，$1\\le m\\le n\\le 64000$，$0\\le f_i,a_i<998244353$。\n\n保证 $k_i$ 为正整数且 $\\displaystyle \\sum_{i=1}^mk_i =n$。\n\n保证 $a_i$ 互不相同。", "locale": "zh-CN", "translations": {"en": {"title": "Hermite Multipoint Evaluation / Multipoint Taylor Expansion", "background": "", "description": "Given a polynomial $F(x)=\\displaystyle \\sum_{i=0}^{n-1}f_ix^i$ of degree less than $n$, and $m$ pairs $(a_i,k_i)$, satisfying $\\displaystyle \\sum_{i=1}^m k_i=n$.\n\nFor each pair $(a_i,k_i)$, find $F^{(j)}(a_i)$, $\\forall\\, 0\\le j< k_i$, with the answers taken modulo $998244353$.\n\nHere $F^{(i)}(x)$ denotes the $i$-th derivative of $F(x)$.", "inputFormat": "The first line contains two positive integers $n,m$.\n\nThe second line contains $n$ integers, namely $f_0,f_1,\\cdots ,f_{n-1}$ in order.\n\nEach of the next $m$ lines represents the values of $a_i,k_i$ on the $i$-th line.", "outputFormat": "Output $m$ lines.\n\nThe $i$-th line contains $k_i$ numbers, representing $F(a_i),F'(a_i),F^{(2)}(a_i),\\cdots ,F^{(k_i-1)}(a_i)$ in order.\n\nAll answers are taken modulo $998244353$.", "hint": "For all testdata, $1\\le m\\le n\\le 64000$, $0\\le f_i,a_i<998244353$.\n\nIt is guaranteed that each $k_i$ is a positive integer and $\\displaystyle \\sum_{i=1}^mk_i =n$.\n\nIt is guaranteed that the $a_i$ are pairwise distinct.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Hermite 多点求值 / 多点 Taylor 展开", "background": "", "description": "给定一个低于 $n$ 次的多项式 $F(x)=\\displaystyle \\sum_{i=0}^{n-1}f_ix^i$，以及 $m$ 组 $(a_i,k_i)$，满足 $\\displaystyle \\sum_{i=1}^m k_i=n$。\n\n对于每一组 $(a_i,k_i)$，请求出 $F^{(j)}(a_i),\\forall\\, 0\\le j< k_i$，答案对 $998244353$ 取模。\n\n其中 $F^{(i)}(x)$ 代表 $F(x)$ 的 $i$ 阶导。", "inputFormat": "第一行两个正整数 $n,m$。\n\n第二行 $n$ 个整数，依次为 $f_0,f_1,\\cdots ,f_{n-1}$。\n\n接下来的 $m$ 行中，第 $i$ 行代表 $a_i,k_i$ 的值。 ", "outputFormat": "输出共 $m$ 行。\n\n第 $i$ 行有 $k_i$ 个数字，依次代表 $F(a_i),F'(a_i),F^{(2)}(a_i),\\cdots ,F^{(k_i-1)}(a_i)$ 的值。\n\n答案对 $998244353$ 取模。", "hint": "对于所有数据，$1\\le m\\le n\\le 64000$，$0\\le f_i,a_i<998244353$。\n\n保证 $k_i$ 为正整数且 $\\displaystyle \\sum_{i=1}^mk_i =n$。\n\n保证 $a_i$ 互不相同。", "locale": "zh-CN"}}}
{"pid": "P1917", "type": "P", "difficulty": 3, "samples": [["---\n-O-\n---", "Dont know.\n1\n"], ["---\n-O-\n-XO", "xiaoa will win.\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟"], "title": "三子棋II", "background": "", "description": "小 a 和 uim 喜欢互相切磋三子棋。三子棋大家都玩过是吗？就是在九宫格里面 $\\verb!OOXX!$（别想歪了），谁连成 $3$ 个就赢了。\n\n虽然小 a 很努力地记录棋谱，可还是下不过 uim。\n\n由于小 a 比较愚蠢，uim 总是让他先。小 a 下的第一个子一定是在中心。\n\n这回小 a 希望使用计策。目前棋局刚开始，棋盘上不到 $3$ 颗棋子，小 a 想知道，根据目前的局势，他有没有必胜策略（也就是自己以最佳方案下棋，无论对手怎么下，自己必胜）。\n", "inputFormat": "共三行，表示棋局，$\\verb!O!$ 表示小 a，$\\verb!X!$ 表示uim，$\\verb!-!$ 表示没有落子。保证棋子数不超过三个。\n", "outputFormat": "共两行。\n\n第一行，如果小 a 赢，输出 `xiaoa will win.`。如果小 a 必败，输出 `uim will win.`。如果不知道，输出 `Dont know.`。\n\n第二行，输出他们已经下了几个棋子。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Tic-Tac-Toe II", "background": "", "description": "xiaoa and uim like to practice Tic-Tac-Toe with each other. Everyone has played Tic-Tac-Toe, right? It is played on a 3×3 grid with $\\verb!OOXX!$ (don't get the wrong idea), and whoever gets $3$ in a row wins.\n\nAlthough xiaoa tries hard to record the games, he still cannot beat uim.\n\nSince xiaoa is a bit slow, uim always lets him move first. xiaoa’s first move is always the center.\n\nThis time, xiaoa wants to use a tactic. The game has just started, with fewer than $3$ pieces on the board. xiaoa wants to know, given the current position, whether he has a forced win (that is, if he plays optimally, he will win no matter how the opponent plays).", "inputFormat": "Three lines representing the board, where $\\verb!O!$ denotes xiaoa, $\\verb!X!$ denotes uim, and $\\verb!-!$ denotes an empty cell. It is guaranteed that the number of pieces does not exceed $3$.", "outputFormat": "Two lines.\n\nOn the first line, if xiaoa will win, output `xiaoa will win.`. If xiaoa will lose, output `uim will win.`. If it is unknown, output `Dont know.`.\n\nOn the second line, output the number of pieces that have already been placed on the board.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "三子棋II", "background": "", "description": "小 a 和 uim 喜欢互相切磋三子棋。三子棋大家都玩过是吗？就是在九宫格里面 $\\verb!OOXX!$（别想歪了），谁连成 $3$ 个就赢了。\n\n虽然小 a 很努力地记录棋谱，可还是下不过 uim。\n\n由于小 a 比较愚蠢，uim 总是让他先。小 a 下的第一个子一定是在中心。\n\n这回小 a 希望使用计策。目前棋局刚开始，棋盘上不到 $3$ 颗棋子，小 a 想知道，根据目前的局势，他有没有必胜策略（也就是自己以最佳方案下棋，无论对手怎么下，自己必胜）。\n", "inputFormat": "共三行，表示棋局，$\\verb!O!$ 表示小 a，$\\verb!X!$ 表示uim，$\\verb!-!$ 表示没有落子。保证棋子数不超过三个。\n", "outputFormat": "共两行。\n\n第一行，如果小 a 赢，输出 `xiaoa will win.`。如果小 a 必败，输出 `uim will win.`。如果不知道，输出 `Dont know.`。\n\n第二行，输出他们已经下了几个棋子。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1918", "type": "P", "difficulty": 2, "samples": [["5\n1 2 4 3 5\n2\n4\n7\n", "3\n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "二分"], "title": "保龄球", "background": "", "description": "DL 算缘分算得很烦闷，所以常常到体育馆去打保龄球解闷。因为他保龄球已经打了几十年了，所以技术上不成问题，于是他就想玩点新花招。\n\nDL 的视力真的很不错，竟然能够数清楚在他前方十米左右每个位置的瓶子的数量。他突然发现这是一个炫耀自己好视力的借口——他看清远方瓶子的个数后从某个位置发球，这样就能打倒一定数量的瓶子。\n\n1. $\\bigcirc \\bigcirc \\bigcirc$\n\n2. $\\bigcirc \\bigcirc \\bigcirc\\ \\bigcirc$\n\n3. $\\bigcirc$\n\n4. $\\bigcirc\\ \\bigcirc$\n\n如上图，每个 “$\\bigcirc$” 代表一个瓶子。如果 DL 想要打倒 $3$ 个瓶子就在 $1$ 位置发球，想要打倒 $4$ 个瓶子就在 $2$ 位置发球。\n\n现在他想要打倒 $m$ 个瓶子。他告诉你每个位置的瓶子数，请你给他一个发球位置。", "inputFormat": "第一行包含一个正整数 $n$，表示位置数。\n\n第二行包含 $n$ 个正整数 $a_i$ ，表示第 $i$ 个位置的瓶子数，保证各个位置的瓶子数不同。\n\n第三行包含一个正整数 $Q$，表示 DL 发球的次数。\n\n第四行至文件末尾，每行包含一个正整数 $m$，表示 DL 需要打倒 $m$ 个瓶子。", "outputFormat": "共 $Q$ 行。每行包含一个整数，第 $i$ 行的整数表示 DL 第 $i$ 次的发球位置。若无解，则输出 $0$。", "hint": "【数据范围】\n\n对于 $50\\%$ 的数据，$1 \\leq n, Q \\leq 1000, 1 \\leq a_i, m \\leq 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,Q \\leq 100000, 1 \\leq a_i, m \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Bowling", "background": "", "description": "DL is tired of fortune-telling, so he often goes to the gym to bowl for fun. Since he has been bowling for decades, technique is not a problem, and he wants to try something new.\n\nDL’s eyesight is really good. He can actually count the number of pins at each spot about ten meters ahead of him. He suddenly realizes this is a chance to show off—after seeing the exact number of pins at each position, he throws from a certain position so that he can knock down a certain number of pins.\n\n1. ○ ○ ○\n2. ○ ○ ○ ○\n3. ○\n4. ○ ○\n\nAs shown above, each “○” represents one pin. If DL wants to knock down $3$ pins, he throws from position $1$; if he wants to knock down $4$ pins, he throws from position $2$.\n\nNow he wants to knock down $m$ pins. He tells you the number of pins at each position. Please give him a throwing position.", "inputFormat": "The first line contains a positive integer $n$, the number of positions.\n\nThe second line contains $n$ positive integers $a_i$, where $a_i$ is the number of pins at position $i$. It is guaranteed that the numbers of pins at all positions are distinct.\n\nThe third line contains a positive integer $Q$, the number of DL’s throws.\n\nFrom the fourth line to the end of file, each line contains a positive integer $m$, the number of pins DL wants to knock down.", "outputFormat": "Output $Q$ lines. Each line contains one integer: the position of DL’s $i$-th throw. If there is no solution, output $0$.", "hint": "Constraints\n\nFor $50\\%$ of the testdata, $1 \\leq n, Q \\leq 1000, 1 \\leq a_i, m \\leq 10^5$.\n\nFor $100\\%$ of the testdata, $1 \\leq n,Q \\leq 100000, 1 \\leq a_i, m \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "保龄球", "background": "", "description": "DL 算缘分算得很烦闷，所以常常到体育馆去打保龄球解闷。因为他保龄球已经打了几十年了，所以技术上不成问题，于是他就想玩点新花招。\n\nDL 的视力真的很不错，竟然能够数清楚在他前方十米左右每个位置的瓶子的数量。他突然发现这是一个炫耀自己好视力的借口——他看清远方瓶子的个数后从某个位置发球，这样就能打倒一定数量的瓶子。\n\n1. $\\bigcirc \\bigcirc \\bigcirc$\n\n2. $\\bigcirc \\bigcirc \\bigcirc\\ \\bigcirc$\n\n3. $\\bigcirc$\n\n4. $\\bigcirc\\ \\bigcirc$\n\n如上图，每个 “$\\bigcirc$” 代表一个瓶子。如果 DL 想要打倒 $3$ 个瓶子就在 $1$ 位置发球，想要打倒 $4$ 个瓶子就在 $2$ 位置发球。\n\n现在他想要打倒 $m$ 个瓶子。他告诉你每个位置的瓶子数，请你给他一个发球位置。", "inputFormat": "第一行包含一个正整数 $n$，表示位置数。\n\n第二行包含 $n$ 个正整数 $a_i$ ，表示第 $i$ 个位置的瓶子数，保证各个位置的瓶子数不同。\n\n第三行包含一个正整数 $Q$，表示 DL 发球的次数。\n\n第四行至文件末尾，每行包含一个正整数 $m$，表示 DL 需要打倒 $m$ 个瓶子。", "outputFormat": "共 $Q$ 行。每行包含一个整数，第 $i$ 行的整数表示 DL 第 $i$ 次的发球位置。若无解，则输出 $0$。", "hint": "【数据范围】\n\n对于 $50\\%$ 的数据，$1 \\leq n, Q \\leq 1000, 1 \\leq a_i, m \\leq 10^5$。\n\n对于 $100\\%$ 的数据，$1 \\leq n,Q \\leq 100000, 1 \\leq a_i, m \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1919", "type": "P", "difficulty": 6, "samples": [["83517934\n327830610\n", "27379735249159740\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["高精度", "O2优化", "分治", "快速傅里叶变换 FFT", "快速数论变换 NTT", "模板题"], "title": "【模板】高精度乘法 / A*B Problem 升级版", "background": "本题数据已加强，请使用 FFT 或分治乘法。", "description": "给你两个正整数 $a,b$，求 $a \\times b$。", "inputFormat": "第一行一个正整数，表示 $a$；  \n第二行一个正整数，表示 $b$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "【数据范围】   \n$1\\le a,b \\le 10^{1000000}$\n\n可能需要一定程度的常数优化。  \n数据由 NaCly_Fish 重造", "locale": "zh-CN", "translations": {"en": {"title": "[Template] High-Precision Multiplication | A*B Problem Enhanced", "background": "The testdata has been strengthened. Please use FFT or divide-and-conquer multiplication.", "description": "Given two positive integers $a, b$, compute $a \\times b$.", "inputFormat": "The first line contains a positive integer representing $a$.  \nThe second line contains a positive integer representing $b$.", "outputFormat": "Output a single line containing the integer answer.", "hint": "[Constraints]  \n$1 \\le a, b \\le 10^{1000000}$\n\nSome constant-factor optimization may be required.  \nThe testdata was remade by NaCly_Fish.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】高精度乘法 / A*B Problem 升级版", "background": "本题数据已加强，请使用 FFT 或分治乘法。", "description": "给你两个正整数 $a,b$，求 $a \\times b$。", "inputFormat": "第一行一个正整数，表示 $a$；  \n第二行一个正整数，表示 $b$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "【数据范围】   \n$1\\le a,b \\le 10^{1000000}$\n\n可能需要一定程度的常数优化。  \n数据由 NaCly_Fish 重造", "locale": "zh-CN"}}}
{"pid": "P1920", "type": "P", "difficulty": 3, "samples": [["1 1", "1.0000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "成功密码", "background": "void\\_rank 匪别人的书来看，原本想看杂志颓废的，结果不小心拿错拿成了被导师称作旁门左道的高中数学杂志《成功密码》。数学差得不行的 void\\_rank 实在不会用数学方法处理这些奇怪的题目，于是来问你了。", "description": "给定实数 $x$ 和正整数 $N$，求：\n\n$$\\sum_{i=1}^{N}\\dfrac{x^{i}}{i}$$", "inputFormat": "一行两个数字 $x,N$。", "outputFormat": "一行一个数字表示答案。\n\n输出保留 $4$ 位小数。", "hint": "对于 $30\\%$ 的数据，$N\\le10^{6}$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le10^{18}$，$0< x\\le1$，且 $x$ 最多有 $4$ 位小数位。", "locale": "zh-CN", "translations": {"en": {"title": "Success Password", "background": "void_rank borrowed someone else's book to read. Originally, they wanted to slack off by reading a magazine, but accidentally picked up the wrong one and ended up with a high school mathematics magazine called \"Success Password,\" which their advisor described as a \"side path.\" With poor math skills, void_rank really cannot handle these strange problems using mathematical methods, so they came to ask you.", "description": "Given a real number $x$ and a positive integer $N$, compute:\n$$\\sum_{i=1}^{N}\\dfrac{x^{i}}{i}.$$", "inputFormat": "One line containing two numbers $x, N$.", "outputFormat": "Output one number representing the answer.\n\nPrint the result with $4$ decimal places.", "hint": "For $30\\%$ of the testdata, $N \\le 10^{6}$.\n\nFor $100\\%$ of the testdata, $1 \\le N \\le 10^{18}$, $0 < x \\le 1$, and $x$ has at most $4$ decimal places.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "成功密码", "background": "void\\_rank 匪别人的书来看，原本想看杂志颓废的，结果不小心拿错拿成了被导师称作旁门左道的高中数学杂志《成功密码》。数学差得不行的 void\\_rank 实在不会用数学方法处理这些奇怪的题目，于是来问你了。", "description": "给定实数 $x$ 和正整数 $N$，求：\n\n$$\\sum_{i=1}^{N}\\dfrac{x^{i}}{i}$$", "inputFormat": "一行两个数字 $x,N$。", "outputFormat": "一行一个数字表示答案。\n\n输出保留 $4$ 位小数。", "hint": "对于 $30\\%$ 的数据，$N\\le10^{6}$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le10^{18}$，$0< x\\le1$，且 $x$ 最多有 $4$ 位小数位。", "locale": "zh-CN"}}}
{"pid": "P1921", "type": "P", "difficulty": 5, "samples": [["3 10 3\n1 0 0\n0.03 0.03 0.94\n0.02 0.02 0.96\n0.99 0.005 0.005\n0.01 0.99 0\n0.05 0.05 0.90\n0.98 0.002 0.008 \n2 2 0 2 2 0 2 2 0 2\n", "0.4483"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "赌博游戏【数据有误】", "background": "赌场是暴利的。大赌场通过游戏规则控制游戏的公平来赚钱。虽然规则看似很公平，但实际上是稍微有点不公平的，而大赌场由于客流量大，资金流量大，这点稍微的不公平就被放大到能让赌场得到很可观的收入。同时，这些个不公平有时并不是规则的不公平，而是道具不公平。比如说灌铅的骰子，它和正常骰子不一样，它投出 $Q$ 种点数的概率并不一样。有时，为了不让顾客察觉，他们每一次游戏结束后都有可能更换骰子。", "description": "作弊的赌场有 $N$ 个骰子，在这个赌场可能发生了 $M$ 次游戏，每次游戏包括一个骰子投出的点数，我们并不知道这个骰子的编号，但知道第 $i$ 次游戏投出的点数 $O(i)$。\n\n第 $i$ 个骰子投出点数 $j$ 的概率是 $A(i,j)$，用完第 $i$ 个骰子，下一次用第 $j$ 个骰子的概率为 $B(i,j)$。特别地，对于第一次游戏，用第 $i$ 个骰子的概率为 $\\pi(i)$。\n\n好奇的小 $v$ 来问你，在这个赌场发生这 $M$ 次游戏的概率。", "inputFormat": "第一行两个正整数 $N,M,Q$。\n\n第二行 $N$ 个浮点数，表示 $\\pi(i)$。\n\n第三行至 $2+N$ 行有 $N\\times Q$ 个浮点数，第 $i+2$ 行 $j$ 列表示 $A(i,j)$。\n\n第 $N+3$ 至 $2\\times N+2$ 行有 $N\\times N$ 个浮点数，第 $N+2+i$ 行 $j$ 列表示 $B(i,j)$。\n\n第 $2\\times N+3$ 行有 $M$ 个正整数，表示 $M$ 次游戏的结果 $O_i$，也就是每次游戏投出的点数。", "outputFormat": "表示所求概率，保留四位位小数。\n", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据：$M \\le 100$，$1 \\le N$，$Q \\le 10$；\n- 对于 $100\\%$ 的数据：$1 \\le M \\le 1000$，$1 \\le N$，$Q \\le 50$。\n\n对于矩阵 $A,B$，向量 $\\pi$ 都具备概率转移的特征条件。", "locale": "zh-CN", "translations": {"en": {"title": "Gambling Game [testdata incorrect]", "background": "Casinos are hugely profitable. Large casinos make money by controlling the fairness of games through the rules. Although the rules may look fair, they are actually slightly unfair. Because big casinos have heavy foot traffic and large cash flow, this slight unfairness is amplified enough to generate considerable revenue for the casino. At the same time, this unfairness sometimes does not come from the rules, but from the equipment. For example, a loaded die is different from a normal die: the probabilities of rolling the $Q$ faces are not the same. Sometimes, to keep customers from noticing, they may even change the die after each game.", "description": "A cheating casino has $N$ dice. In this casino, there may have been $M$ games. Each game consists of rolling a die to produce a face value. We do not know which die was used, but we do know the outcome $O(i)$ of the $i$-th game.\n\nFor die $i$, the probability of rolling face $j$ is $A(i, j)$. After using die $i$, the probability that the next game uses die $j$ is $B(i, j)$. In particular, for the first game, the probability of using die $i$ is $\\pi(i)$.\n\nCurious Xiao v asks you to compute the probability that these $M$ games occurred in this casino.", "inputFormat": "The first line contains three positive integers $N, M, Q$.\n\nThe second line contains $N$ floating-point numbers, representing $\\pi(i)$.\n\nLines 3 to $N+2$ contain $N \\times Q$ floating-point numbers; in row $i+2$ and column $j$ is $A(i, j)$.\n\nLines $N+3$ to $2 \\times N + 2$ contain $N \\times N$ floating-point numbers; in row $N+2+i$ and column $j$ is $B(i, j)$.\n\nLine $2 \\times N + 3$ contains $M$ positive integers, representing the $M$ game outcomes $O_i$, i.e., the face values rolled in each game.", "outputFormat": "Output the required probability, rounded to four decimal places.", "hint": "Constraints and notes:\n- For 30% of the testdata: $M \\le 100$, $1 \\le N$, $Q \\le 10$.\n- For 100% of the testdata: $1 \\le M \\le 1000$, $1 \\le N$, $Q \\le 50$.\n\nThe matrices $A, B$ and the vector $\\pi$ satisfy the characteristic conditions of probability transitions.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "赌博游戏【数据有误】", "background": "赌场是暴利的。大赌场通过游戏规则控制游戏的公平来赚钱。虽然规则看似很公平，但实际上是稍微有点不公平的，而大赌场由于客流量大，资金流量大，这点稍微的不公平就被放大到能让赌场得到很可观的收入。同时，这些个不公平有时并不是规则的不公平，而是道具不公平。比如说灌铅的骰子，它和正常骰子不一样，它投出 $Q$ 种点数的概率并不一样。有时，为了不让顾客察觉，他们每一次游戏结束后都有可能更换骰子。", "description": "作弊的赌场有 $N$ 个骰子，在这个赌场可能发生了 $M$ 次游戏，每次游戏包括一个骰子投出的点数，我们并不知道这个骰子的编号，但知道第 $i$ 次游戏投出的点数 $O(i)$。\n\n第 $i$ 个骰子投出点数 $j$ 的概率是 $A(i,j)$，用完第 $i$ 个骰子，下一次用第 $j$ 个骰子的概率为 $B(i,j)$。特别地，对于第一次游戏，用第 $i$ 个骰子的概率为 $\\pi(i)$。\n\n好奇的小 $v$ 来问你，在这个赌场发生这 $M$ 次游戏的概率。", "inputFormat": "第一行两个正整数 $N,M,Q$。\n\n第二行 $N$ 个浮点数，表示 $\\pi(i)$。\n\n第三行至 $2+N$ 行有 $N\\times Q$ 个浮点数，第 $i+2$ 行 $j$ 列表示 $A(i,j)$。\n\n第 $N+3$ 至 $2\\times N+2$ 行有 $N\\times N$ 个浮点数，第 $N+2+i$ 行 $j$ 列表示 $B(i,j)$。\n\n第 $2\\times N+3$ 行有 $M$ 个正整数，表示 $M$ 次游戏的结果 $O_i$，也就是每次游戏投出的点数。", "outputFormat": "表示所求概率，保留四位位小数。\n", "hint": "### 数据范围及约定\n\n- 对于 $30\\%$ 的数据：$M \\le 100$，$1 \\le N$，$Q \\le 10$；\n- 对于 $100\\%$ 的数据：$1 \\le M \\le 1000$，$1 \\le N$，$Q \\le 50$。\n\n对于矩阵 $A,B$，向量 $\\pi$ 都具备概率转移的特征条件。", "locale": "zh-CN"}}}
{"pid": "P1922", "type": "P", "difficulty": 3, "samples": [["5\n1 2\n2 3\n3 4\n2 5\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "树形数据结构", "树形 DP"], "title": "女仆咖啡厅桌游吧", "background": "小 v 带萌萌的妹妹去玩，妹妹想去女仆咖啡馆，小 v 想去桌游吧。\n\n妹妹：“我问你个问题，答不对你就做我一天的奴隶，答对了就今天我就全部听你的。”\n\n小 v ：“全部都听!?”\n\n妹妹：“嘻嘻嘻，你还是回答问题吧！”\n\n于是小 v 为了自己一天的幸福，来向你求助。", "description": "小 v 所在的世界被规划成了树形结构，每一个节点上都可以建一个女仆咖啡厅或者桌游吧或者什么都不建。在确定点 $1$ 为根节点之后，规划局要求：对于每一个非叶子的节点 $i$，设它子树（包括自己）中所有的女仆咖啡厅的数量为 $cafe_i$，桌游吧数目为 $table_i$，都有 $cafe_i=table_i$。\n\n妹妹的问题是：这棵树最多能放多少个女仆咖啡厅。", "inputFormat": "输入的第一行是，一个正整数 $n$，表示世界节点数。\n\n第 $2$ 至 $n$ 行，每行两个正整数 $u$，$v$，表示 $u$ 与 $v$ 间有一条边。", "outputFormat": "只有一行，最多能放的女仆咖啡厅的个数。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n\\le20$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le10^5$，$1 \\leq u, v \\le n$。", "locale": "zh-CN", "translations": {"en": {"title": "Maid Cafe and Board Game Bar", "background": "Xiao V (小 v) takes his cute little sister out to play. The sister wants to go to a maid cafe, while Xiao V wants to go to a board game bar.\n\nSister: \"I’ll ask you a question. If you get it wrong, you’ll be my slave for a day. If you get it right, I’ll listen to you for the whole day.\"\n\nXiao V: \"You’ll listen to me for everything!?\"\n\nSister: \"Heehee, you’d better just answer the question!\"\n\nTo secure a happy day for himself, Xiao V comes to you for help.", "description": "Xiao V’s world is organized as a tree. At each node, you may build a maid cafe, a board game bar, or leave it empty. After fixing node $1$ as the root, the planning bureau requires: for every non-leaf node $i$, let $cafe_i$ be the number of maid cafes and $table_i$ be the number of board game bars in its subtree (including itself). It must hold that $cafe_i = table_i$.\n\nThe sister’s question is: what is the maximum number of maid cafes that can be placed on this tree?", "inputFormat": "The first line contains a positive integer $n$, the number of nodes in the world.\n\nLines $2$ through $n$ each contain two positive integers $u$, $v$, indicating that there is an edge between $u$ and $v$.", "outputFormat": "Output a single line with the maximum possible number of maid cafes.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, it is guaranteed that $n \\le 20$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 10^5$, $1 \\le u, v \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "女仆咖啡厅桌游吧", "background": "小 v 带萌萌的妹妹去玩，妹妹想去女仆咖啡馆，小 v 想去桌游吧。\n\n妹妹：“我问你个问题，答不对你就做我一天的奴隶，答对了就今天我就全部听你的。”\n\n小 v ：“全部都听!?”\n\n妹妹：“嘻嘻嘻，你还是回答问题吧！”\n\n于是小 v 为了自己一天的幸福，来向你求助。", "description": "小 v 所在的世界被规划成了树形结构，每一个节点上都可以建一个女仆咖啡厅或者桌游吧或者什么都不建。在确定点 $1$ 为根节点之后，规划局要求：对于每一个非叶子的节点 $i$，设它子树（包括自己）中所有的女仆咖啡厅的数量为 $cafe_i$，桌游吧数目为 $table_i$，都有 $cafe_i=table_i$。\n\n妹妹的问题是：这棵树最多能放多少个女仆咖啡厅。", "inputFormat": "输入的第一行是，一个正整数 $n$，表示世界节点数。\n\n第 $2$ 至 $n$ 行，每行两个正整数 $u$，$v$，表示 $u$ 与 $v$ 间有一条边。", "outputFormat": "只有一行，最多能放的女仆咖啡厅的个数。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n\\le20$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le10^5$，$1 \\leq u, v \\le n$。", "locale": "zh-CN"}}}
{"pid": "P1923", "type": "P", "difficulty": 2, "samples": [["5 1\n4 3 2 1 5\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000]}, "tags": ["分治"], "title": "【深基9.例4】求第 k 小的数", "background": null, "description": "输入 $n$ 个数字 $a_i$，输出这些数字中第 $k$ 小的数。最小的数是第 $0$ 小。\n\n请尽量不要使用 `nth_element` 来写本题，因为本题的重点在于练习分治算法。", "inputFormat": "第一行有两个整数，分别表示 $n$ 和 $k$。\n\n第二行有 $n$ 个整数，第 $i$ 个数表示 $a_i$。", "outputFormat": "一个整数，表示第 $k$ 小的数。", "hint": "对于 $100\\%$ 的数据，$1\\le a_i<{10}^9$，$1 \\le n < 5\\times 10^6$，且 $n$ 为奇数。", "locale": "zh-CN", "translations": {"en": {"title": "[Deep Basic 9.Example 4] Find the $k$-th Smallest Number", "background": "", "description": "Given $n$ numbers $a_i$, output the $k$-th smallest among them. The smallest number is the $0$-th smallest.\n\nPlease try not to use `nth_element` for this problem, because the main point is to practice divide and conquer algorithms.", "inputFormat": "The first line contains two integers, which are $n$ and $k$.\n\nThe second line contains $n$ integers, and the $i$-th number is $a_i$.", "outputFormat": "Output one integer, the $k$-th smallest number.", "hint": "For $100\\%$ of the testdata, $1 \\le a_i < {10}^9$, $1 \\le n < 5 \\times 10^6$, and $n$ is odd.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基9.例4】求第 k 小的数", "background": null, "description": "输入 $n$ 个数字 $a_i$，输出这些数字中第 $k$ 小的数。最小的数是第 $0$ 小。\n\n请尽量不要使用 `nth_element` 来写本题，因为本题的重点在于练习分治算法。", "inputFormat": "第一行有两个整数，分别表示 $n$ 和 $k$。\n\n第二行有 $n$ 个整数，第 $i$ 个数表示 $a_i$。", "outputFormat": "一个整数，表示第 $k$ 小的数。", "hint": "对于 $100\\%$ 的数据，$1\\le a_i<{10}^9$，$1 \\le n < 5\\times 10^6$，且 $n$ 为奇数。", "locale": "zh-CN"}}}
{"pid": "P1924", "type": "P", "difficulty": 7, "samples": [["6 6\n0 0 0 1 0 0 \n0 1 0 0 0 0\n0 0 0 0 0 1\n0 0 0 0 0 1\n0 0 0 0 0 0\n0 0 0 1 0 0", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "轮廓线 DP"], "title": "贴海报", "background": "", "description": "有一面 $n\\times m$ 的墙，墙上有若干个窟窿。现在要在墙上贴上海报，海报是 $2\\times 3$ 大小的长方形，且每条边与墙面边缘平行或者垂直。海报可以横着贴也可以竖着贴，但是窟窿上不能贴海报。请问这面墙最多可以贴多少个海报？", "inputFormat": "输入文件第一行是 $2$ 个整数 $n,m$，表示墙的大小为 $n\\times m$。\n\n接下来的 $n$ 行，每行有 $m$ 个整数 $0$ 或 $1$，$1$ 表示该位置有窟窿，$0$ 表示没有窟窿。", "outputFormat": "最多能贴多少海报。", "hint": "数据保证，$1\\leq n\\leq 150$，$1\\leq m\\leq 10$。", "locale": "zh-CN", "translations": {"en": {"title": "Pasting Posters", "background": "", "description": "There is a wall of size $n\\times m$ with several holes on it. You need to paste posters on the wall. Each poster is a $2\\times 3$ rectangle, with each side parallel or perpendicular to the wall’s edges. A poster can be placed horizontally or vertically, but no poster may cover any hole. What is the maximum number of posters that can be placed on this wall?", "inputFormat": "The first line contains $2$ integers $n$ and $m$, indicating that the wall size is $n\\times m$.\n\nThe next $n$ lines each contain $m$ integers $0$ or $1$. A $1$ indicates that position has a hole, and a $0$ indicates no hole.", "outputFormat": "Output the maximum number of posters that can be placed.", "hint": "The testdata guarantees that $1\\leq n\\leq 150$, $1\\leq m\\leq 10$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "贴海报", "background": "", "description": "有一面 $n\\times m$ 的墙，墙上有若干个窟窿。现在要在墙上贴上海报，海报是 $2\\times 3$ 大小的长方形，且每条边与墙面边缘平行或者垂直。海报可以横着贴也可以竖着贴，但是窟窿上不能贴海报。请问这面墙最多可以贴多少个海报？", "inputFormat": "输入文件第一行是 $2$ 个整数 $n,m$，表示墙的大小为 $n\\times m$。\n\n接下来的 $n$ 行，每行有 $m$ 个整数 $0$ 或 $1$，$1$ 表示该位置有窟窿，$0$ 表示没有窟窿。", "outputFormat": "最多能贴多少海报。", "hint": "数据保证，$1\\leq n\\leq 150$，$1\\leq m\\leq 10$。", "locale": "zh-CN"}}}
{"pid": "P1925", "type": "P", "difficulty": 5, "samples": [["10", "-15"], ["100", "2438"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "最大划分乘积", "background": "欧拉工程183题 有改动", "description": "将正整数 $n$ 分为 $k$ 个相等的部分 $r$，有 $r=n/k$。\n\n令 $p=r×r×...×r=r^k$（共有 $k$ 个 $r$）。例如，将 $11$ 分为五等份，则 $p=2.2^5$。\n\n令 $M(n)$ 为满足要求的对应 $n$ 的最大的 $p$。\n\n当 $n=11$ 时，$M(n)=14641/256=57.19140625$，是有限小数；当 $n=8$ 时，$M(n)=512/27$，是无限小数。\n\n若当 $M(n)$ 为无限小数时，$D(n)=n$，否则 $D(n)=-n$，求 $D(5)+D(6)+\\dots +D(a)$ 的值。", "inputFormat": "输入文件仅一行为正整数 $a(5≤a≤32767)$.", "outputFormat": "输出文件仅一行 为 $D(5)+D(6)+...+D(a)$ 的值.", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "最大划分乘积", "background": "", "description": "Let $N$ be a positive integer and let $N$ be split into $k$ equal parts, $r = N/k$, so that $N = r + r + ... + r$.\n\nLet $P$ be the product of these parts, $P = r ×r × ... × r = rk$.\n\nFor example, if $11$ is split into five equal parts, $11 = 2.2 + 2.2 + 2.2 + 2.2 + 2.2$, then $P = 2.2^5 = 51.53632$.\n\nLet $M(N) = P_{\\max}$ for a given value of $N$.\n\nIt turns out that the maximum for $N = 11$ is found by splitting eleven into four equal parts which leads to $P_{max} = (11/4)^4$; that is, $M(11) = 14641/256 = 57.19140625$, which is a terminating decimal.\n\nHowever, for $N = 8$ the maximum is achieved by splitting it into three equal parts, so $M(8) = 512/27$, which is a non-terminating decimal.\n\nLet $D(N) = N$ if $M(N)$ is a non-terminating decimal and $D(N) = -N$ if $M(N)$ is a terminating decimal.", "inputFormat": "Input a positive integer $a(5≤a≤32767)$.", "outputFormat": "Output the value of $D(5)+D(6)+...+D(a)$.", "hint": "", "locale": "en"}, "zh-CN": {"title": "最大划分乘积", "background": "欧拉工程183题 有改动", "description": "将正整数 $n$ 分为 $k$ 个相等的部分 $r$，有 $r=n/k$。\n\n令 $p=r×r×...×r=r^k$（共有 $k$ 个 $r$）。例如，将 $11$ 分为五等份，则 $p=2.2^5$。\n\n令 $M(n)$ 为满足要求的对应 $n$ 的最大的 $p$。\n\n当 $n=11$ 时，$M(n)=14641/256=57.19140625$，是有限小数；当 $n=8$ 时，$M(n)=512/27$，是无限小数。\n\n若当 $M(n)$ 为无限小数时，$D(n)=n$，否则 $D(n)=-n$，求 $D(5)+D(6)+\\dots +D(a)$ 的值。", "inputFormat": "输入文件仅一行为正整数 $a(5≤a≤32767)$.", "outputFormat": "输出文件仅一行 为 $D(5)+D(6)+...+D(a)$ 的值.", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1926", "type": "P", "difficulty": 2, "samples": [["3 4 20 100\n15 20 50\n10 15 40 40\n5 5 10 15", "2"]], "limits": {"time": [1000, 1000, 1000], "memory": [128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "排序", "背包 DP"], "title": "小书童——刷题大军", "background": "数学是火，点亮物理的灯；物理是灯，照亮化学的路；化学是路，通向生物的坑；生物是坑，埋葬学理的人。  \n文言是火，点亮历史宫灯；历史是灯，照亮社会之路；社会是路，通向哲学大坑；哲学是坑，埋葬文科生。——小 A", "description": "小 A “刷题”十分猖狂，明目张胆地“刷题”。他现在在小书童里发现了 $n$ 样他喜欢的“题目”，每“题”都有他的需要时间，而老师布置了 $m$ 项作业，每项作业都有它的需要时间及分值，老师规定 $k$ 分以上算及格。小 A 只剩 $r$ 个单位时间，他想在及格的基础上更多地“刷题”。", "inputFormat": "第一行四个整数 $n,m,k,r$。\n\n第二行有 $n$ 个数，代表每“题”它需要的时间。\n\n第三行有 $m$ 个数，表示每项作业它的需要时间。\n\n第四行有 $m$ 个数，代表每项作业它的分值。", "outputFormat": "一个数，代表小 A 能刷几道题。", "hint": "### 数据范围及约定\n\n\n对于 $100\\%$ 的数据，$n\\le 10$，$m\\le 10$，$k\\le 50$，$r\\le 150$。数据保证没有不能及格的情况。", "locale": "zh-CN", "translations": {"en": {"title": "Xiao Shutong — The Problem-Grinding Army", "background": "Math is fire, lighting the lamp of physics; physics is a lamp, illuminating the road of chemistry; chemistry is a road, leading to the pit of biology; biology is a pit, burying those who study science.\nClassical Chinese is fire, lighting the palace lamps of history; history is a lamp, illuminating the road of society; society is a road, leading to the big pit of philosophy; philosophy is a pit, burying liberal arts students. — Xiao A.", "description": "Xiao A is wildly “grinding problems”, blatantly “grinding problems”. He has found $n$ kinds of “problems” he likes in Xiao Shutong, and each “problem” has a required time. The teacher has assigned $m$ homework tasks, each with its required time and score, and the teacher stipulates that $k$ points or more is passing. Xiao A has only $r$ units of time left, and he wants to “grind” as many “problems” as possible on the basis of passing.", "inputFormat": "The first line contains four integers $n,m,k,r$.\n\nThe second line has $n$ numbers, representing the required time for each “problem”.\n\nThe third line has $m$ numbers, representing the required time for each homework task.\n\nThe fourth line has $m$ numbers, representing the score of each homework task.", "outputFormat": "A single number, representing how many “problems” Xiao A can grind.", "hint": "### Constraints and Agreements\n\nFor $100\\%$ of the testdata, $n\\le 10$, $m\\le 10$, $k\\le 50$, $r\\le 150$. It is guaranteed that passing is always possible.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小书童——刷题大军", "background": "数学是火，点亮物理的灯；物理是灯，照亮化学的路；化学是路，通向生物的坑；生物是坑，埋葬学理的人。  \n文言是火，点亮历史宫灯；历史是灯，照亮社会之路；社会是路，通向哲学大坑；哲学是坑，埋葬文科生。——小 A", "description": "小 A “刷题”十分猖狂，明目张胆地“刷题”。他现在在小书童里发现了 $n$ 样他喜欢的“题目”，每“题”都有他的需要时间，而老师布置了 $m$ 项作业，每项作业都有它的需要时间及分值，老师规定 $k$ 分以上算及格。小 A 只剩 $r$ 个单位时间，他想在及格的基础上更多地“刷题”。", "inputFormat": "第一行四个整数 $n,m,k,r$。\n\n第二行有 $n$ 个数，代表每“题”它需要的时间。\n\n第三行有 $m$ 个数，表示每项作业它的需要时间。\n\n第四行有 $m$ 个数，代表每项作业它的分值。", "outputFormat": "一个数，代表小 A 能刷几道题。", "hint": "### 数据范围及约定\n\n\n对于 $100\\%$ 的数据，$n\\le 10$，$m\\le 10$，$k\\le 50$，$r\\le 150$。数据保证没有不能及格的情况。", "locale": "zh-CN"}}}
{"pid": "P1927", "type": "P", "difficulty": 2, "samples": [["3\r\n0  1 \r\n-8  -4 \r\n-1  4 \r\n", "279.6017"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "枚举", "剪枝"], "title": "防护伞", "background": "", "description": "据说 $2012$ 的灾难和太阳黑子的爆发有关。于是地球防卫小队决定制造一个特殊防护伞，挡住太阳黑子爆发的区域，减少其对地球的影响。由于太阳相对于地球来说实在是太大了，我们可以把太阳表面看作一个平面，中心定为 $(0,0)$。根据情报，在 $2012$ 年时，太阳表面上会产生 $N$ 个黑子区域，每个黑子视为一个点。特殊防护伞可以看作一个巨大的圆面，现在地球防卫小队决定将它的中心定位于某个黑子，然后用伞面挡住其他黑子。因为制造防护伞的材料成本特别高，所以我们希望伞面尽可能的小。", "inputFormat": "第一行：一个整数 $N$，表示黑子个数。\n\n第 $2$ 到 $N+1$ 行：每行两个整数，表示黑子的坐标 $(x,y)$。", "outputFormat": "第一行：一个实数，表示伞的面积。\n", "hint": "### 数据范围及约定\n\n- 对于 $50\\%$ 的数据：$2 \\le N \\le 100$。\n- 对于 $100\\%$ 的数据：$2 \\le N \\le 1000$，$-10000\\le x,y\\le 10000$。\n\n### 注意\n\n- 精确到小数点后 $4$ 位。\n- $\\pi$ 取 $3.1415926535$。", "locale": "zh-CN", "translations": {"en": {"title": "Protective Umbrella", "background": "", "description": "It is said that the 2012 disaster is related to sunspot eruptions. Therefore, the Earth Defense Team decides to build a special protective umbrella to block the regions where sunspots erupt and reduce their impact on Earth. Since the Sun is huge compared to Earth, we can treat the Sun’s surface as a plane, with its center at $(0, 0)$. According to intelligence, in the year $2012$, there will be $N$ sunspot regions on the Sun’s surface, and each sunspot is treated as a point. The special protective umbrella can be modeled as a large circular disk. The team decides to place its center at one of the sunspots and then use the umbrella to cover the other sunspots. Because the material cost is extremely high, we want the umbrella to be as small as possible.", "inputFormat": "The first line: an integer $N$, the number of sunspots.\n\nLines $2$ to $N+1$: each line contains two integers, the coordinates $(x, y)$ of a sunspot.", "outputFormat": "The first line: a real number representing the area of the umbrella.", "hint": "### Constraints and Conventions\n\n- For $50\\%$ of the testdata: $2 \\le N \\le 100$.\n- For $100\\%$ of the testdata: $2 \\le N \\le 1000$, $-10000 \\le x, y \\le 10000$.\n\n### Notes\n\n- Round to $4$ decimal places.\n- Take $\\pi$ as $3.1415926535$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "防护伞", "background": "", "description": "据说 $2012$ 的灾难和太阳黑子的爆发有关。于是地球防卫小队决定制造一个特殊防护伞，挡住太阳黑子爆发的区域，减少其对地球的影响。由于太阳相对于地球来说实在是太大了，我们可以把太阳表面看作一个平面，中心定为 $(0,0)$。根据情报，在 $2012$ 年时，太阳表面上会产生 $N$ 个黑子区域，每个黑子视为一个点。特殊防护伞可以看作一个巨大的圆面，现在地球防卫小队决定将它的中心定位于某个黑子，然后用伞面挡住其他黑子。因为制造防护伞的材料成本特别高，所以我们希望伞面尽可能的小。", "inputFormat": "第一行：一个整数 $N$，表示黑子个数。\n\n第 $2$ 到 $N+1$ 行：每行两个整数，表示黑子的坐标 $(x,y)$。", "outputFormat": "第一行：一个实数，表示伞的面积。\n", "hint": "### 数据范围及约定\n\n- 对于 $50\\%$ 的数据：$2 \\le N \\le 100$。\n- 对于 $100\\%$ 的数据：$2 \\le N \\le 1000$，$-10000\\le x,y\\le 10000$。\n\n### 注意\n\n- 精确到小数点后 $4$ 位。\n- $\\pi$ 取 $3.1415926535$。", "locale": "zh-CN"}}}
{"pid": "P1928", "type": "P", "difficulty": 3, "samples": [["AC[3FUN]", "ACFUNFUNFUN"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "递归", "分治"], "title": "外星密码", "background": "", "description": "有了防护伞，并不能完全避免 2012 的灾难。地球防卫小队决定去求助外星种族的帮助。经过很长时间的努力，小队终于收到了外星生命的回信。但是外星人发过来的却是一串密码。只有解开密码，才能知道外星人给的准确回复。解开密码的第一道工序就是解压缩密码，外星人对于连续的若干个相同的子串 $\\texttt{X}$ 会压缩为 $\\texttt{[DX]}$ 的形式（$D$ 是一个整数且 $1\\leq D\\leq99$），比如说字符串 $\\texttt{CBCBCBCB}$ 就压缩为 $\\texttt{[4CB]}$ 或者$\\texttt{[2[2CB]]}$，类似于后面这种压缩之后再压缩的称为二重压缩。如果是 $\\texttt{[2[2[2CB]]]}$ 则是三重的。现在我们给你外星人发送的密码，请你对其进行解压缩。\n", "inputFormat": "输入一行，一个字符串，表示外星人发送的密码。\n", "outputFormat": "输出一行，一个字符串，表示解压缩后的结果。", "hint": "【数据范围】\n\n对于 $50\\%$ 的数据：解压后的字符串长度在 $1000$ 以内，最多只有三重压缩。\n\n对于 $100\\%$ 的数据：解压后的字符串长度在 $20000$ 以内，最多只有十重压缩。保证只包含数字、大写字母、`[` 和 `]`。\n", "locale": "zh-CN", "translations": {"en": {"title": "Alien Cipher", "background": "", "description": "Even with a protective umbrella, the 2012 disaster cannot be completely avoided. The Earth Defense Squad decides to seek help from an alien species. After a long effort, the squad finally receives a reply from extraterrestrial life. However, what the aliens send is a string of cipher. Only by cracking the cipher can we know their exact response. The first step in cracking is to decompress the cipher: for several consecutive identical substrings $\\texttt{X}$, the aliens compress them into the form $\\texttt{[DX]}$ ($D$ is an integer and $1\\leq D\\leq99$). For example, the string $\\texttt{CBCBCBCB}$ is compressed to $\\texttt{[4CB]}$ or $\\texttt{[2[2CB]]}$. The latter, where a compressed result is compressed again, is called double compression. If it is $\\texttt{[2[2[2CB]]]}$, that is triple compression. Now we give you the cipher sent by the aliens; please decompress it.", "inputFormat": "Input one line containing a string that represents the cipher sent by the aliens.", "outputFormat": "Output one line containing the decompressed string.", "hint": "Constraints\n- For 50% of the testdata: the length of the decompressed string is at most 1000, and there are at most three levels of compression.\n- For 100% of the testdata: the length of the decompressed string is at most 20000, and there are at most ten levels of compression. It is guaranteed that the input contains only digits, uppercase letters, `[` and `]`.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "外星密码", "background": "", "description": "有了防护伞，并不能完全避免 2012 的灾难。地球防卫小队决定去求助外星种族的帮助。经过很长时间的努力，小队终于收到了外星生命的回信。但是外星人发过来的却是一串密码。只有解开密码，才能知道外星人给的准确回复。解开密码的第一道工序就是解压缩密码，外星人对于连续的若干个相同的子串 $\\texttt{X}$ 会压缩为 $\\texttt{[DX]}$ 的形式（$D$ 是一个整数且 $1\\leq D\\leq99$），比如说字符串 $\\texttt{CBCBCBCB}$ 就压缩为 $\\texttt{[4CB]}$ 或者$\\texttt{[2[2CB]]}$，类似于后面这种压缩之后再压缩的称为二重压缩。如果是 $\\texttt{[2[2[2CB]]]}$ 则是三重的。现在我们给你外星人发送的密码，请你对其进行解压缩。\n", "inputFormat": "输入一行，一个字符串，表示外星人发送的密码。\n", "outputFormat": "输出一行，一个字符串，表示解压缩后的结果。", "hint": "【数据范围】\n\n对于 $50\\%$ 的数据：解压后的字符串长度在 $1000$ 以内，最多只有三重压缩。\n\n对于 $100\\%$ 的数据：解压后的字符串长度在 $20000$ 以内，最多只有十重压缩。保证只包含数字、大写字母、`[` 和 `]`。\n", "locale": "zh-CN"}}}
{"pid": "P1929", "type": "P", "difficulty": 3, "samples": [["5\n0  1  2  3  6 \n", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "广度优先搜索 BFS"], "title": "迷之阶梯", "background": "在经过地球防卫小队的数学家连续多日的工作后，外星人发的密码终于得以破解。它告诉我们在地球某一处的古老遗迹中，存在有对抗这次灾难的秘密武器。防卫小队立即赶到这处遗迹。", "description": "要进入遗迹，需要通过一段迷之阶梯。登上阶梯必须要按照它要求的方法，否则就无法登上阶梯。它要求的方法有以下三个限制：\n\n1. 如果下一步阶梯的高度只比当前阶梯高 $1$，则可以直接登上。\n\n2. 除了第一步阶梯外，都可以从当前阶梯退到前一步阶梯。\n\n3. 当你连续退下 $k$ 次阶梯后，你可以一次跳上不超过当前阶梯高度 $+2^{k}$ 的阶梯。\n比如说你现在位于第 $j$ 步阶梯，并且是从第 $j+k$ 步阶梯退下来的，那么你可以跳到高度不超过当前阶梯高度 $+2^{k}$ 的任何一步阶梯。  跳跃这一次只算一次移动。\n\n开始时我们在第 $1$ 步阶梯，由于时间紧迫，我们需要用最少的移动次数登上迷之阶梯。 请你计算出最少的移动步数。", "inputFormat": "第一行：一个整数 $N$，表示阶梯步数。\n\n第二行：$N$ 个整数，依次为每层阶梯的高度，保证递增。", "outputFormat": "第一行：一个整数，如果能登上阶梯，输出最小步数，否则输出 $-1$。", "hint": "【样例解释】\n\n连续登 $3$ 步，再后退 $3$ 步，然后直接跳上去。\n\n【数据范围】\n\n对于 $50\\%$ 的数据，$N\\le20$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le200$，每步阶梯高度不超过 $2^{31}-1$。", "locale": "zh-CN", "translations": {"en": {"title": "Mysterious Staircase", "background": "After many days of work by the mathematicians of the Earth Defense Squad, the alien password was finally cracked. It tells us that in an ancient ruin somewhere on Earth lies a secret weapon to counter this disaster. The squad immediately heads to the site.", "description": "To enter the ruin, one must pass a mysterious staircase. You must climb it in the required manner; otherwise, you cannot ascend. The rules are as follows:\n\n1. If the next step’s height exceeds the current step’s height by exactly $1$, you may step onto it directly.\n\n2. Except for the first step, you may retreat from the current step to the previous step.\n\n3. After you have retreated consecutively $k$ times, you may make one jump to any step whose height is at most the current step’s height $+ 2^{k}$. For example, suppose you are now at step $j$, having retreated from step $j + k$. Then you may jump to any step whose height is no more than the current step’s height $+ 2^{k}$. This jump counts as a single move.\n\nYou start at step $1$. Due to time pressure, you need to reach the top step using the fewest moves. Please compute the minimum number of moves.", "inputFormat": "- The first line contains an integer $N$, the number of steps.\n- The second line contains $N$ integers, the heights of the steps in increasing order.", "outputFormat": "Output a single integer: the minimum number of moves if it is possible to reach the top step; otherwise, output $-1$.", "hint": "Sample Explanation: Climb up $3$ steps consecutively, then retreat $3$ steps, and then jump directly to the top.\n\nConstraints:\n- For $50\\%$ of the testdata, $N \\le 20$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 200$, and the height of each step does not exceed $2^{31} - 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "迷之阶梯", "background": "在经过地球防卫小队的数学家连续多日的工作后，外星人发的密码终于得以破解。它告诉我们在地球某一处的古老遗迹中，存在有对抗这次灾难的秘密武器。防卫小队立即赶到这处遗迹。", "description": "要进入遗迹，需要通过一段迷之阶梯。登上阶梯必须要按照它要求的方法，否则就无法登上阶梯。它要求的方法有以下三个限制：\n\n1. 如果下一步阶梯的高度只比当前阶梯高 $1$，则可以直接登上。\n\n2. 除了第一步阶梯外，都可以从当前阶梯退到前一步阶梯。\n\n3. 当你连续退下 $k$ 次阶梯后，你可以一次跳上不超过当前阶梯高度 $+2^{k}$ 的阶梯。\n比如说你现在位于第 $j$ 步阶梯，并且是从第 $j+k$ 步阶梯退下来的，那么你可以跳到高度不超过当前阶梯高度 $+2^{k}$ 的任何一步阶梯。  跳跃这一次只算一次移动。\n\n开始时我们在第 $1$ 步阶梯，由于时间紧迫，我们需要用最少的移动次数登上迷之阶梯。 请你计算出最少的移动步数。", "inputFormat": "第一行：一个整数 $N$，表示阶梯步数。\n\n第二行：$N$ 个整数，依次为每层阶梯的高度，保证递增。", "outputFormat": "第一行：一个整数，如果能登上阶梯，输出最小步数，否则输出 $-1$。", "hint": "【样例解释】\n\n连续登 $3$ 步，再后退 $3$ 步，然后直接跳上去。\n\n【数据范围】\n\n对于 $50\\%$ 的数据，$N\\le20$。\n\n对于 $100\\%$ 的数据，$1\\le N\\le200$，每步阶梯高度不超过 $2^{31}-1$。", "locale": "zh-CN"}}}
{"pid": "P1930", "type": "P", "difficulty": 5, "samples": [["8 8\nD 4 \nA 3 A 8 \nH 1 H 8 \n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "USACO", "枚举", "广度优先搜索 BFS", "最短路"], "title": "[USACO3.3] 亚瑟王的宫殿", "background": null, "description": "很久以前，亚瑟王和他的骑士习惯每年元旦去庆祝他们的友谊。为了纪念上述事件，我们把这些故事看作是一个棋盘游戏。有一个国王和若干个骑士被放置在一个由许多方格组成的棋盘上，没有两个骑士在同一个方格内。\n\n这个例子是标准的 $8\\times 8$ 棋盘。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bvjh9o2q.png)\n\n国王可以移动到任何一个相邻的方格，从下图中黑子位置到下图中白子位置前提是他不掉出棋盘之外。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/joj1exif.png)\n\n一个骑士可以从下图中黑子位置移动到下图中白子位置（走“日”字形）但前提是他不掉出棋盘之外。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vf9vuque.png)\n\n在游戏中，玩家可在每个方格上放不止一个棋子，假定方格足够大，任何棋子都不会阻碍到其他棋子正常行动。\n\n玩家的任务就是用最小的步数把所有的棋子移动到同一个方格里。为了完成这个任务，他必须按照上面所说的规则去移动棋子。另外，玩家可以选择一个骑士跟国王从他们两个相遇的那个点开始一起行动，这时他们按照骑士的行动规则行动，其他的单独骑士则自己一直走到集中点。骑士和国王一起走的时候，只算一个人走的步数。\n\n请计算他们集中在一起的最小步数，而且玩家必须自己找出这个集中点。当然，这些棋子可以在棋盘的任何地方集合。", "inputFormat": "第一行：两个用空格隔开的整数：$R,C$ 分别为棋盘行数和列数。不超过 $26$ 列，$40$ 行。\n\n第二行到结尾：输入文件包含了一些有空格隔开的字母、数字对，一行有一个或以上。第一对为国王的位置，接下来是骑士的位置。可能没有骑士，也可能整个棋盘都是骑士。行从 $1$ 开始，列从大写字母 $A$ 开始。", "outputFormat": "单独一行表示棋子集中在一个方格的最小步数。", "hint": "### 样例解释\n\n他们集中在 $\\tt B5$。\n\n- 骑士 $1$：$\\tt A3\\to B5$（$1$ 步）。\n- 骑士 $2$：$\\tt A8\\to C7\\to B5$（$2$ 步）。\n- 骑士 $3$：$\\tt H1\\to G3\\to F5\\to D4$，此时国王开始与这个骑士一起走，$\\to \\tt B5$（$4$ 步）\n- 骑士 $4$：$\\tt H8\\to F7\\to D6\\to B5$（$3$ 步）。\n\n$1+2+4+3=10$ 步。\n\n题目翻译来自 NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN", "translations": {"en": {"title": "[USACO3.3] Camelot", "background": "", "description": "Long ago, King Arthur and his knights celebrated their friendship every New Year’s Day. To commemorate this, we treat these stories as a board game. A king and several knights are placed on a board consisting of many squares, with no two knights on the same square.\n\nThis example uses the standard $8\\times 8$ board.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bvjh9o2q.png)\n\nThe king can move to any adjacent square, from the black piece in the figure to any white piece, as long as he does not step off the board.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/joj1exif.png)\n\nA knight can move from the black piece in the figure to any white piece (in an L-shape), as long as it does not step off the board.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vf9vuque.png)\n\nIn this game, more than one piece may occupy the same square. Assume squares are large enough so that no piece blocks another’s movement.\n\nThe task is to move all pieces onto a single square — using the minimum total number of moves. To achieve this, pieces must move according to the rules above. Additionally, the player may choose one knight to meet the king at some square; from that meeting point onward, the king and that knight move together using the knight’s movement rules. The other knights move independently to the gathering square. While the king and the chosen knight move together, only one piece’s move is counted per step.\n\nCompute the minimum number of moves needed to gather on a single square, and note that the player must also determine the gathering square. Of course, the pieces may gather anywhere on the board.", "inputFormat": "- The first line: two integers separated by a space, $R, C$, the number of rows and columns of the board. Columns do not exceed $26$, rows do not exceed $40$.\n- From the second line to the end: the input contains space-separated letter/number pairs, one or more per line. The first pair is the king’s position, followed by the knights’ positions. There may be no knights, or the entire board may be filled with knights. Rows are numbered starting from $1$, and columns are labeled starting from uppercase letter $A$.", "outputFormat": "Output a single line with the minimum number of moves required to gather all pieces on one square.", "hint": "### Sample explanation\n\nThey gather at $\\tt B5$.\n\n- Knight $1$: $\\tt A3\\to B5$ (1 move).\n- Knight $2$: $\\tt A8\\to C7\\to B5$ (2 moves).\n- Knight $3$: $\\tt H1\\to G3\\to F5\\to D4$, the king meets this knight here, $\\to \\tt B5$ (4 moves).\n- Knight $4$: $\\tt H8\\to F7\\to D6\\to B5$ (3 moves).\n\n$1+2+4+3=10$ moves.\n\nProblem translation from NOCOW.\n\nUSACO Training Section 3.3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO3.3] 亚瑟王的宫殿", "background": null, "description": "很久以前，亚瑟王和他的骑士习惯每年元旦去庆祝他们的友谊。为了纪念上述事件，我们把这些故事看作是一个棋盘游戏。有一个国王和若干个骑士被放置在一个由许多方格组成的棋盘上，没有两个骑士在同一个方格内。\n\n这个例子是标准的 $8\\times 8$ 棋盘。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bvjh9o2q.png)\n\n国王可以移动到任何一个相邻的方格，从下图中黑子位置到下图中白子位置前提是他不掉出棋盘之外。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/joj1exif.png)\n\n一个骑士可以从下图中黑子位置移动到下图中白子位置（走“日”字形）但前提是他不掉出棋盘之外。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vf9vuque.png)\n\n在游戏中，玩家可在每个方格上放不止一个棋子，假定方格足够大，任何棋子都不会阻碍到其他棋子正常行动。\n\n玩家的任务就是用最小的步数把所有的棋子移动到同一个方格里。为了完成这个任务，他必须按照上面所说的规则去移动棋子。另外，玩家可以选择一个骑士跟国王从他们两个相遇的那个点开始一起行动，这时他们按照骑士的行动规则行动，其他的单独骑士则自己一直走到集中点。骑士和国王一起走的时候，只算一个人走的步数。\n\n请计算他们集中在一起的最小步数，而且玩家必须自己找出这个集中点。当然，这些棋子可以在棋盘的任何地方集合。", "inputFormat": "第一行：两个用空格隔开的整数：$R,C$ 分别为棋盘行数和列数。不超过 $26$ 列，$40$ 行。\n\n第二行到结尾：输入文件包含了一些有空格隔开的字母、数字对，一行有一个或以上。第一对为国王的位置，接下来是骑士的位置。可能没有骑士，也可能整个棋盘都是骑士。行从 $1$ 开始，列从大写字母 $A$ 开始。", "outputFormat": "单独一行表示棋子集中在一个方格的最小步数。", "hint": "### 样例解释\n\n他们集中在 $\\tt B5$。\n\n- 骑士 $1$：$\\tt A3\\to B5$（$1$ 步）。\n- 骑士 $2$：$\\tt A8\\to C7\\to B5$（$2$ 步）。\n- 骑士 $3$：$\\tt H1\\to G3\\to F5\\to D4$，此时国王开始与这个骑士一起走，$\\to \\tt B5$（$4$ 步）\n- 骑士 $4$：$\\tt H8\\to F7\\to D6\\to B5$（$3$ 步）。\n\n$1+2+4+3=10$ 步。\n\n题目翻译来自 NOCOW。\n\nUSACO Training Section 3.3", "locale": "zh-CN"}}}
{"pid": "P1931", "type": "P", "difficulty": 4, "samples": [["3\nUSDollar\nBritishPound\nFrenchFranc\n3\nUSDollar 0.5 BritishPound\nBritishPound 10.0 FrenchFranc\nFrenchFranc 0.21 USDollar\n\n3\nUSDollar\nBritishPound\nFrenchFranc\n6\nUSDollar 0.5 BritishPound\nUSDollar 4.9 FrenchFranc\nBritishPound 10.0 FrenchFranc\nBritishPound 1.99 USDollar\nFrenchFranc 0.09 BritishPound\nFrenchFranc 0.19 USDollar\n\n0\n", "Case 1: Yes\nCase 2: No\n"]], "limits": {"time": [1000], "memory": [128000]}, "tags": ["图论"], "title": "套利", "background": "", "description": "套利是利用汇率差异实现货币增值。例如，$1$ 美元可以兑换 $0.5$ 英镑、$1$ 英镑可以兑换 $10$ 法郎、$1$ 法郎可以兑换 $0.21$ 美元。接下来，一个聪明的交易商就可以从1美元开始，$0.5 \\times 10.0 \\times 0.21 =1.05$ 美元，获得了 $5\\%$ 的利润。\n\n你的任务是写一个程序，从输入文件读入汇率清单，然后决定套利是有可能的或没有可能的。", "inputFormat": "输入文件包含多组数据，每组数据的第一行是一个整数 $n$（$1\\le n\\le30$）。代表有多少种货币。\n\n接下来 $n$ 行字符串，每行表示一种货币的名称（名称中不会出现空格）。下一行是一个整数 $m$ ，约定了汇率表的长度。随后的 $m$ 行中，每行为 $c_i,r_{i,j},c_j$。其中：$c_i$ 表示源货币的名称，实数 $r_{i,j}$ 表示货币 $c_i$ 到 $c_j$ 的汇率，以及 $c_j$ 表示目标货币的名称。没有出现在其中的换汇是不可能的。\n\n每组数据之间空一行。当 $n=0$ 时表示输入数据结束。", "outputFormat": "第 $i$ 组数据，输出 Case i: 后，如果可以套利，输出 `Yes`，否则输出 `No`。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Arbitrage", "background": "", "description": "Arbitrage is the practice of profiting from differences in exchange rates. For example, $1$ dollar can be exchanged for $0.5$ pounds, $1$ pound can be exchanged for $10$ francs, and $1$ franc can be exchanged for $0.21$ dollars. Then, a clever trader can start from $1$ dollar and get $0.5 \\times 10.0 \\times 0.21 = 1.05$ dollars, earning a $5\\%$ profit.\n\nYour task is to write a program that reads a list of exchange rates from the input file and then determines whether arbitrage is possible or not.", "inputFormat": "The input file contains multiple datasets. The first line of each dataset is an integer $n$ ($1 \\le n \\le 30$), representing the number of currencies.\n\nThe next $n$ lines each contain a string, which is the name of a currency (there will be no spaces in the names). The next line is an integer $m$, specifying the length of the exchange rate table. The following $m$ lines are each in the form $c_i, r_{i,j}, c_j$. Here, $c_i$ is the name of the source currency, the real number $r_{i,j}$ is the exchange rate from $c_i$ to $c_j$, and $c_j$ is the name of the target currency. Conversions not listed are impossible.\n\nThere is a blank line between datasets. When $n = 0$, the input ends.", "outputFormat": "For the $i$-th dataset, output Case i: followed by `Yes` if arbitrage is possible, otherwise output `No`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "套利", "background": "", "description": "套利是利用汇率差异实现货币增值。例如，$1$ 美元可以兑换 $0.5$ 英镑、$1$ 英镑可以兑换 $10$ 法郎、$1$ 法郎可以兑换 $0.21$ 美元。接下来，一个聪明的交易商就可以从1美元开始，$0.5 \\times 10.0 \\times 0.21 =1.05$ 美元，获得了 $5\\%$ 的利润。\n\n你的任务是写一个程序，从输入文件读入汇率清单，然后决定套利是有可能的或没有可能的。", "inputFormat": "输入文件包含多组数据，每组数据的第一行是一个整数 $n$（$1\\le n\\le30$）。代表有多少种货币。\n\n接下来 $n$ 行字符串，每行表示一种货币的名称（名称中不会出现空格）。下一行是一个整数 $m$ ，约定了汇率表的长度。随后的 $m$ 行中，每行为 $c_i,r_{i,j},c_j$。其中：$c_i$ 表示源货币的名称，实数 $r_{i,j}$ 表示货币 $c_i$ 到 $c_j$ 的汇率，以及 $c_j$ 表示目标货币的名称。没有出现在其中的换汇是不可能的。\n\n每组数据之间空一行。当 $n=0$ 时表示输入数据结束。", "outputFormat": "第 $i$ 组数据，输出 Case i: 后，如果可以套利，输出 `Yes`，否则输出 `No`。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1932", "type": "P", "difficulty": 4, "samples": [["1\n1", "2\n0\n1\n1\n0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "高精度", "洛谷原创"], "title": "A+B  A-B  A*B  A/B A%B Problem", "background": "这个题目很新颖吧！！！", "description": "求 $A$ 与 $B$ 的和、差、积、商、余。\n\n**由于数据有修改，减法运算结果可能带负号**", "inputFormat": "两行，每行一个数，为参与运算的两个数。", "outputFormat": "五行，每行一个数，分别为 $A$ 与 $B$ 的和、差、积、商、余。", "hint": "$|A|,|B| \\leq 2 \\times 10^4$，这里表示数字的位数而不是绝对值\n\n$ A,B > 0 $", "locale": "zh-CN", "translations": {"en": {"title": "A+B  A-B  A*B  A/B A%B Problem", "background": "This problem is quite novel!!!", "description": "Compute the sum, difference, product, quotient, and remainder of $A$ and $B$.\n\n**Due to updates to the testdata, the subtraction result may be negative.**", "inputFormat": "Two lines, each containing one number: the two numbers to be operated on.", "outputFormat": "Five lines, each containing one number: the sum, difference, product, quotient, and remainder of $A$ and $B$.", "hint": "$|A|,|B| \\leq 10^4$ denotes the number of digits rather than the absolute value.\n\n$ A,B > 0 $.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "A+B  A-B  A*B  A/B A%B Problem", "background": "这个题目很新颖吧！！！", "description": "求 $A$ 与 $B$ 的和、差、积、商、余。\n\n**由于数据有修改，减法运算结果可能带负号**", "inputFormat": "两行，每行一个数，为参与运算的两个数。", "outputFormat": "五行，每行一个数，分别为 $A$ 与 $B$ 的和、差、积、商、余。", "hint": "$|A|,|B| \\leq 2 \\times 10^4$，这里表示数字的位数而不是绝对值\n\n$ A,B > 0 $", "locale": "zh-CN"}}}
{"pid": "P1933", "type": "P", "difficulty": 7, "samples": [["2 2\n1 0\n0 1\n1 0 1 0", "4\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 6000, 6000, 6000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "2010", "NOI", "O2优化", "剪枝", "轮廓线 DP"], "title": "[NOI2010] 旅行路线", "background": "", "description": "2010 年，世博会在中国上海举办，吸引了数以千万计的中外游客前来参观。暑假期间小 Z 也来到了上海世博园， 她对世博园的拥挤早有所闻，对有的展馆甚至要排上好几个小时的队才能进入也做好了充分准备，但为了使得自己的世博之旅更加顺利舒畅，小 Z 决定在游玩之前先制定一份详细的旅行路线。\n\n小 Z 搜集到了世博园的地图，她发现从整体上看世博园是一块非常狭长的区域，而每一个展馆占用了其中一个几乎相同大小的方块。因此可以将整个园区看成一个 $n \\times m$ 的矩阵（$n \\leq 3$），其中每一个格子为一个主题展馆。\n\n由于不同展馆受到的关注度会有一些差别，因此排队时间的长短也不尽相同。小 Z 根据统计信息给每一个展馆 $(x, y)$ 标记了 $T_{x,y} = 0$ 或 $1$，如果 $T_{x,y} = 1$，表示这个展馆非常热门，需要排很长时间的队；如果 $T_{x,y} = 0$，表示这个展馆相对比较普通，几乎不需要排队即可进入参观。小 Z 希望能够制定一份合理的路线，使得能交替参观热门馆和普通馆，既不会因为总是参观热门馆而长时间在排队，也不会因为总是参观普通馆而使得游览过于平淡。同时，小 Z 办事很讲究效率，她希望在游遍所有展馆的同时，又不会走冤枉路浪费体力。因此她希望旅行路线满足以下几个限制：\n\n1. 在参观完位于 $(x, y)$ 的展馆后，下一个参观的是一个相邻的且未被参观过的展馆 $(x^\\prime, y^\\prime)$，即 $|x-x^\\prime|+|y-y^\\prime|=1$；\n2. 路线的起点位于整个矩阵的边界上，即 $x = 1$ 或 $x = n$ 或 $y = 1$ 或 $y = m$；\n\n她制定了一个长度为 $n \\times m$ 的 01 序列 $L$，她希望第 $i$ 个参观的展馆 $(x,y)$ 满足 $T_{x,y}=L_i$。\n\n小 Z 想知道有多少条不同的旅行路线能够满足她的要求。由于最终的结果可能很大，小 Z 只想知道可行的旅行路线总数 $\\bmod\\space 11\\,192\\,869$ 的值。\n", "inputFormat": "第一行包含两个正整数 $n, m$。\n\n第 2 行至第 $n+1$ 行，每行有 $m$ 个 01 整数，其中第 $i+1$ 行第 $j$ 个数表示 $T_{i,j}$。\n\n第 $n+2$ 行有 $n \\times m$ 个 01 整数，其中第 $i$ 个数表示 $L_i$ 的值。", "outputFormat": "仅包含一个整数，表示可行的旅行路线总数 $\\bmod \\space 11\\,192\\,869$ 的值。", "hint": "【样例说明】\n\n这四条可行的旅行路线分别为：\n\n$$\n\\begin{aligned}\n(1,1) \\to (1,2) \\to (2,2) \\to (2,1)\\\\\n(1,1) \\to (2,1) \\to (2,2) \\to (1,2)\\\\\n(2,2) \\to (1,2) \\to (1,1) \\to (2,1)\\\\\n(2,2) \\to (2,1) \\to (1,1) \\to (1,2)\n\\end{aligned}\n$$\n\n【数据规模和约定】\n\n- 对于 $10\\%$ 的数据：$n=1$；\n- 对于 $30\\%$ 的数据：$n=2$；\n- 对于 $60\\%$ 的数据：$n=3$，其中 $20\\%$ 的数据 $T_{i,j}$ 全为 $0$；\n- 对于 $100\\%$ 的数据：$m \\leq 50$，$L_i,T_{i,j} = 0$ 或 $1$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2010] Travel Route", "background": "", "description": "In 2010, the World Expo was held in Shanghai, China, attracting tens of millions of visitors from home and abroad. During the summer vacation, Xiao Z also came to the Shanghai Expo Park. She had heard that the Expo Park would be very crowded, and some pavilions might require queuing for several hours. She was fully prepared for that. To make her trip smoother and more enjoyable, Xiao Z decided to plan a detailed travel route before visiting.\n\nXiao Z collected a map of the Expo Park and found that, overall, the park is a very long and narrow area, and each pavilion occupies one square of almost the same size. Therefore, the entire park can be seen as an $n \\times m$ matrix ($n \\leq 3$), where each cell represents a themed pavilion.\n\nSince different pavilions have different levels of popularity, the queueing times also differ. Based on statistics, Xiao Z marked each pavilion $(x, y)$ with $T_{x,y} = 0$ or $1$. If $T_{x,y} = 1$, it means the pavilion is very popular and requires a long queue; if $T_{x,y} = 0$, it means the pavilion is relatively ordinary and can be entered with almost no queue. Xiao Z wants to plan a reasonable route so that she alternates between popular and ordinary pavilions. This way, she will neither spend too long queueing at popular pavilions nor find the trip too dull by only visiting ordinary ones. Also, Xiao Z values efficiency: she hopes to visit all pavilions without taking unnecessary detours. Therefore, she wants the travel route to satisfy the following constraints:\n\n1. After visiting the pavilion at $(x, y)$, the next pavilion to visit is an adjacent and unvisited pavilion $(x^\\prime, y^\\prime)$, i.e., $|x - x^\\prime| + |y - y^\\prime| = 1$.\n2. The starting point of the route lies on the boundary of the matrix, i.e., $x = 1$ or $x = n$ or $y = 1$ or $y = m$.\n\nShe prepares a 0/1 sequence $L$ of length $n \\times m$. She wants the $i$-th visited pavilion $(x, y)$ to satisfy $T_{x,y} = L_i$.\n\nXiao Z wants to know how many different travel routes satisfy her requirements. Since the final answer can be large, she only wants the total number of feasible routes modulo $11\\,192\\,869$.", "inputFormat": "- The first line contains two positive integers $n, m$.\n- Lines $2$ to $n+1$: each line contains $m$ 0/1 integers. In line $i+1$, the $j$-th number represents $T_{i,j}$.\n- Line $n+2$ contains $n \\times m$ 0/1 integers, where the $i$-th number represents $L_i$.", "outputFormat": "Output a single integer: the total number of feasible travel routes modulo $11\\,192\\,869$.", "hint": "Sample explanation:\n\nThe four feasible travel routes are:\n$$\n\\begin{aligned}\n(1,1) \\to (1,2) \\to (2,2) \\to (2,1)\\\\\n(1,1) \\to (2,1) \\to (2,2) \\to (1,2)\\\\\n(2,2) \\to (1,2) \\to (1,1) \\to (2,1)\\\\\n(2,2) \\to (2,1) \\to (1,1) \\to (1,2)\n\\end{aligned}\n$$\n\nConstraints:\n- For $10\\%$ of the testdata: $n = 1$.\n- For $30\\%$ of the testdata: $n = 2$.\n- For $60\\%$ of the testdata: $n = 3$, and for $20\\%$ of the testdata, all $T_{i,j}$ are $0$.\n- For $100\\%$ of the testdata: $m \\leq 50$, $L_i, T_{i,j} = 0$ or $1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2010] 旅行路线", "background": "", "description": "2010 年，世博会在中国上海举办，吸引了数以千万计的中外游客前来参观。暑假期间小 Z 也来到了上海世博园， 她对世博园的拥挤早有所闻，对有的展馆甚至要排上好几个小时的队才能进入也做好了充分准备，但为了使得自己的世博之旅更加顺利舒畅，小 Z 决定在游玩之前先制定一份详细的旅行路线。\n\n小 Z 搜集到了世博园的地图，她发现从整体上看世博园是一块非常狭长的区域，而每一个展馆占用了其中一个几乎相同大小的方块。因此可以将整个园区看成一个 $n \\times m$ 的矩阵（$n \\leq 3$），其中每一个格子为一个主题展馆。\n\n由于不同展馆受到的关注度会有一些差别，因此排队时间的长短也不尽相同。小 Z 根据统计信息给每一个展馆 $(x, y)$ 标记了 $T_{x,y} = 0$ 或 $1$，如果 $T_{x,y} = 1$，表示这个展馆非常热门，需要排很长时间的队；如果 $T_{x,y} = 0$，表示这个展馆相对比较普通，几乎不需要排队即可进入参观。小 Z 希望能够制定一份合理的路线，使得能交替参观热门馆和普通馆，既不会因为总是参观热门馆而长时间在排队，也不会因为总是参观普通馆而使得游览过于平淡。同时，小 Z 办事很讲究效率，她希望在游遍所有展馆的同时，又不会走冤枉路浪费体力。因此她希望旅行路线满足以下几个限制：\n\n1. 在参观完位于 $(x, y)$ 的展馆后，下一个参观的是一个相邻的且未被参观过的展馆 $(x^\\prime, y^\\prime)$，即 $|x-x^\\prime|+|y-y^\\prime|=1$；\n2. 路线的起点位于整个矩阵的边界上，即 $x = 1$ 或 $x = n$ 或 $y = 1$ 或 $y = m$；\n\n她制定了一个长度为 $n \\times m$ 的 01 序列 $L$，她希望第 $i$ 个参观的展馆 $(x,y)$ 满足 $T_{x,y}=L_i$。\n\n小 Z 想知道有多少条不同的旅行路线能够满足她的要求。由于最终的结果可能很大，小 Z 只想知道可行的旅行路线总数 $\\bmod\\space 11\\,192\\,869$ 的值。\n", "inputFormat": "第一行包含两个正整数 $n, m$。\n\n第 2 行至第 $n+1$ 行，每行有 $m$ 个 01 整数，其中第 $i+1$ 行第 $j$ 个数表示 $T_{i,j}$。\n\n第 $n+2$ 行有 $n \\times m$ 个 01 整数，其中第 $i$ 个数表示 $L_i$ 的值。", "outputFormat": "仅包含一个整数，表示可行的旅行路线总数 $\\bmod \\space 11\\,192\\,869$ 的值。", "hint": "【样例说明】\n\n这四条可行的旅行路线分别为：\n\n$$\n\\begin{aligned}\n(1,1) \\to (1,2) \\to (2,2) \\to (2,1)\\\\\n(1,1) \\to (2,1) \\to (2,2) \\to (1,2)\\\\\n(2,2) \\to (1,2) \\to (1,1) \\to (2,1)\\\\\n(2,2) \\to (2,1) \\to (1,1) \\to (1,2)\n\\end{aligned}\n$$\n\n【数据规模和约定】\n\n- 对于 $10\\%$ 的数据：$n=1$；\n- 对于 $30\\%$ 的数据：$n=2$；\n- 对于 $60\\%$ 的数据：$n=3$，其中 $20\\%$ 的数据 $T_{i,j}$ 全为 $0$；\n- 对于 $100\\%$ 的数据：$m \\leq 50$，$L_i,T_{i,j} = 0$ 或 $1$。", "locale": "zh-CN"}}}
{"pid": "P1934", "type": "P", "difficulty": 3, "samples": [["6 10\r\n8 5 7 9 3 5", "578\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "前缀和"], "title": "封印", "background": "很久以前，魔界大旱，水井全部干涸，温度也越来越高。为了拯救居民，夜叉族国王龙溟希望能打破神魔之井，进入人界“窃取”水灵珠，以修复大地水脉。可是六界之间皆有封印，神魔之井的封印由蜀山控制，并施有封印。龙溟作为魔界王族，习有穿行之术，可任意穿行至任何留有空隙的位置。然而封印不留有任何空隙！ 龙溟无奈之下只能强行破除封印。破除封印必然消耗一定的元气。为了寻找水灵珠，龙溟必须减少体力消耗。他可以在破除封印的同时使用越行术。", "description": "神魔之井的封印共有  $n$ 层，每层封印都有一个坚固值。身为魔族的龙溟单独打破一层封印时需要消耗的元气为该层封印的坚固值和封印总层数  $n$ 的平方的乘积； 但他也可以打破第 i 层到第 j 层之间的所有封印( $i<j$)，总元气消耗为第  $i,j$ 层封印的坚固值之和与第  $i,j$ 层之间所有封印层（包括第  $i,j$ 层）的坚固值之和的乘积，但为了不惊动蜀山，第  $i,j$ 层封印的坚固值之和不能大于  $t$ （单独打破可以不遵守）。", "inputFormat": "第一行包含两个正整数  $n$ 和  $t$。  \n第二行有  $n$ 个正整数，第  $i$ 个数为  $a_i$，表示第  $i$ 层封印的坚固值。", "outputFormat": "仅一行，包含一个正整数，表示最小消耗元气。\n", "hint": "#### 样例解释\n先单独打破第一层，再用越行术从第二层直接打破到最后一层。 这样消耗元气  $8 \\times 6^2 + (5 + 5) \\times (5 + 7 + 9 + 3 + 5) = 578$。\n#### 数据范围\n对于  $10\\%$ 的数据， $n\\le10$；  \n对于  $50\\%$ 的数据， $n\\le100$；  \n对于  $70\\%$ 的数据， $n\\le500$；  \n对于  $100\\%$ 的数据， $n\\le1000$， $a_i(1 \\le i \\le n) , t \\le 20000$。", "locale": "zh-CN", "translations": {"en": {"title": "Seal", "background": "Long ago, the Demon Realm suffered a great drought: all wells dried up, and temperatures kept rising. To save the people, Long Ming, the king of the Yasha clan, hoped to break the Well of Gods and Demons and enter the Human Realm to “steal” the Water Spirit Pearl to repair the earth’s water veins. However, there were seals between the Six Realms, and the Well of Gods and Demons was controlled by Shu Mountain and protected by a seal. As a royal of the Demon Realm, Long Ming had the art of traversing and could pass through any position that had a gap. Yet the seal left no gaps. Helpless, Long Ming had to forcibly break the seal, which would inevitably consume vital energy. To find the Water Spirit Pearl, Long Ming had to minimize his energy consumption. He could use the Traverse Technique at the same time as breaking the seal.", "description": "The seal of the Well of Gods and Demons has $n$ layers, and each layer has a sturdiness value. When Long Ming, a demon, breaks a single layer alone, the energy consumed equals the product of that layer’s sturdiness and the square of the total number of layers $n$. He can also break all seals from layer $i$ to layer $j$ (with $i<j$). The total energy consumed equals the product of the sum of the sturdiness of layers $i$ and $j$ and the sum of the sturdiness of all layers from $i$ to $j$ inclusive. However, to avoid alarming Shu Mountain, the sum of the sturdiness of layers $i$ and $j$ must not exceed $t$ (this restriction does not apply when breaking a single layer).", "inputFormat": "The first line contains two positive integers $n$ and $t$.  \nThe second line contains $n$ positive integers, where the $i$‑th number is $a_i$, representing the sturdiness of layer $i$.", "outputFormat": "Output a single line containing one positive integer, the minimum energy consumed.", "hint": "#### Sample Explanation\nFirst break the first layer alone, then use the Traverse Technique to break directly from the second layer to the last layer. The energy consumed is $8 \\times 6^2 + (5 + 5) \\times (5 + 7 + 9 + 3 + 5) = 578$.\n\n#### Constraints\nFor $10\\%$ of the testdata, $n \\le 10$.  \nFor $50\\%$ of the testdata, $n \\le 100$.  \nFor $70\\%$ of the testdata, $n \\le 500$.  \nFor $100\\%$ of the testdata, $n \\le 1000$, $a_i (1 \\le i \\le n),\\ t \\le 20000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "封印", "background": "很久以前，魔界大旱，水井全部干涸，温度也越来越高。为了拯救居民，夜叉族国王龙溟希望能打破神魔之井，进入人界“窃取”水灵珠，以修复大地水脉。可是六界之间皆有封印，神魔之井的封印由蜀山控制，并施有封印。龙溟作为魔界王族，习有穿行之术，可任意穿行至任何留有空隙的位置。然而封印不留有任何空隙！ 龙溟无奈之下只能强行破除封印。破除封印必然消耗一定的元气。为了寻找水灵珠，龙溟必须减少体力消耗。他可以在破除封印的同时使用越行术。", "description": "神魔之井的封印共有  $n$ 层，每层封印都有一个坚固值。身为魔族的龙溟单独打破一层封印时需要消耗的元气为该层封印的坚固值和封印总层数  $n$ 的平方的乘积； 但他也可以打破第 i 层到第 j 层之间的所有封印( $i<j$)，总元气消耗为第  $i,j$ 层封印的坚固值之和与第  $i,j$ 层之间所有封印层（包括第  $i,j$ 层）的坚固值之和的乘积，但为了不惊动蜀山，第  $i,j$ 层封印的坚固值之和不能大于  $t$ （单独打破可以不遵守）。", "inputFormat": "第一行包含两个正整数  $n$ 和  $t$。  \n第二行有  $n$ 个正整数，第  $i$ 个数为  $a_i$，表示第  $i$ 层封印的坚固值。", "outputFormat": "仅一行，包含一个正整数，表示最小消耗元气。\n", "hint": "#### 样例解释\n先单独打破第一层，再用越行术从第二层直接打破到最后一层。 这样消耗元气  $8 \\times 6^2 + (5 + 5) \\times (5 + 7 + 9 + 3 + 5) = 578$。\n#### 数据范围\n对于  $10\\%$ 的数据， $n\\le10$；  \n对于  $50\\%$ 的数据， $n\\le100$；  \n对于  $70\\%$ 的数据， $n\\le500$；  \n对于  $100\\%$ 的数据， $n\\le1000$， $a_i(1 \\le i \\le n) , t \\le 20000$。", "locale": "zh-CN"}}}
{"pid": "P1935", "type": "P", "difficulty": 4, "samples": [["3 3\n1 2 3\n4 5 6\n7 8 9\n9 8 7\n6 5 4\n3 2 1\n1 1 1\n1 3 1\n1 1 1", "81"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["集训队互测", "最小割", "状压 DP"], "title": "[国家集训队] 圈地计划", "background": null, "description": "最近房地产商 GDOI(Group of Dumbbells Or Idiots) 从 NOI(Nuts Old Idiots) 手中得到了一块开发土地。据了解，这块土地是一块矩形的区域，可以纵横划分为 $N\\times M$ 块小区域。GDOI 要求将这些区域分为商业区和工业区来开发。根据不同的地形环境，每块小区域建造商业区和工业区能取得不同的经济价值。更具体点，对于第 $i$ 行第 $j$ 列的区域，建造商业区将得到 $A_{i,j}$ 收益，建造工业区将得到 $B_{i,j}$ 收益。另外不同的区域连在一起可以得到额外的收益，即如果区域 $(i,j)$ 相邻（相邻是指两个格子有公共边）有 $k$ 块（显然 $k$ 不超过 $4$）类型不同于 $(i,j)$ 的区域，则这块区域能增加 $k\\times C_{i,j}$ 收益。经过 Tiger.S 教授的勘察，收益矩阵 $A,B,C$ 都已经知道了。你能帮 GDOI 求出一个收益最大的方案么？", "inputFormat": "输入第一行为两个整数，分别为正整数 $N$ 和 $M$，分别表示区域的行数和列数；\n\n第 $2$ 到 $N+1$ 行，每行 $M$ 个整数，表示商业区收益矩阵 $A$；\n\n第 $N+2$ 到 $2N+1$ 行，每行 $M$ 个整数，表示工业区收益矩阵 $B$；\n\n第 $2N+2$ 到 $3N+1$ 行，每行 $M$ 个整数，表示相邻额外收益矩阵 $C$。", "outputFormat": "输出只有一行，包含一个整数，为最大收益值。", "hint": "$1\\leq N,M\\leq 10$，$0\\leq A_{i,j},B_{i,j},C_{i,j}\\leq 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Land Enclosure Plan", "background": "", "description": "Recently, the real estate developer GDOI (Group of Dumbbells Or Idiots) obtained a piece of land for development from NOI (Nuts Old Idiots). This land is a rectangular area that can be divided into $N \\times M$ small cells. GDOI requires dividing these cells into a commercial zone and an industrial zone for development. Due to different terrain conditions, building a commercial zone or an industrial zone on each cell will yield different economic values. More specifically, for the cell in the $i$-th row and $j$-th column, building a commercial zone yields revenue $A_{i,j}$, and building an industrial zone yields revenue $B_{i,j}$. In addition, adjacent cells can bring extra revenue: if cell $(i,j)$ has $k$ neighboring cells (adjacency means two cells share a common side) whose type is different from that of $(i,j)$, then this cell gains an additional revenue of $k \\times C_{i,j}$. After Professor Tiger.S’s survey, the revenue matrices $A$, $B$, and $C$ are known. Can you help GDOI find a plan that maximizes the total revenue?", "inputFormat": "The first line contains two integers, positive integers $N$ and $M$, representing the number of rows and columns of the area, respectively.\n\nLines $2$ to $N+1$: each line contains $M$ integers, representing the commercial revenue matrix $A$.\n\nLines $N+2$ to $2N+1$: each line contains $M$ integers, representing the industrial revenue matrix $B$.\n\nLines $2N+2$ to $3N+1$: each line contains $M$ integers, representing the extra revenue matrix $C$ for adjacent cells.", "outputFormat": "Output a single line containing one integer, the maximum total revenue.", "hint": "$1 \\leq N, M \\leq 10$, $0 \\leq A_{i,j}, B_{i,j}, C_{i,j} \\leq 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 圈地计划", "background": null, "description": "最近房地产商 GDOI(Group of Dumbbells Or Idiots) 从 NOI(Nuts Old Idiots) 手中得到了一块开发土地。据了解，这块土地是一块矩形的区域，可以纵横划分为 $N\\times M$ 块小区域。GDOI 要求将这些区域分为商业区和工业区来开发。根据不同的地形环境，每块小区域建造商业区和工业区能取得不同的经济价值。更具体点，对于第 $i$ 行第 $j$ 列的区域，建造商业区将得到 $A_{i,j}$ 收益，建造工业区将得到 $B_{i,j}$ 收益。另外不同的区域连在一起可以得到额外的收益，即如果区域 $(i,j)$ 相邻（相邻是指两个格子有公共边）有 $k$ 块（显然 $k$ 不超过 $4$）类型不同于 $(i,j)$ 的区域，则这块区域能增加 $k\\times C_{i,j}$ 收益。经过 Tiger.S 教授的勘察，收益矩阵 $A,B,C$ 都已经知道了。你能帮 GDOI 求出一个收益最大的方案么？", "inputFormat": "输入第一行为两个整数，分别为正整数 $N$ 和 $M$，分别表示区域的行数和列数；\n\n第 $2$ 到 $N+1$ 行，每行 $M$ 个整数，表示商业区收益矩阵 $A$；\n\n第 $N+2$ 到 $2N+1$ 行，每行 $M$ 个整数，表示工业区收益矩阵 $B$；\n\n第 $2N+2$ 到 $3N+1$ 行，每行 $M$ 个整数，表示相邻额外收益矩阵 $C$。", "outputFormat": "输出只有一行，包含一个整数，为最大收益值。", "hint": "$1\\leq N,M\\leq 10$，$0\\leq A_{i,j},B_{i,j},C_{i,j}\\leq 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1936", "type": "P", "difficulty": 2, "samples": [["1995", "m=987\nn=1597"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["递推"], "title": "水晶灯火灵", "background": "《爱与愁的故事第五弹·Halloween》第二章。\n\n题目容易吐血请谨慎阅读！\n", "description": "爱与愁大神兴高采烈地踏出妖精系道馆——他已经获得了妖精系徽章（鼓掌）！可是一出门就遇到一群パンプジン（Because today is Halloween）！仲谋半？没事，爱与愁大神手上还仅存着一只水晶灯火灵（完克パンプジン）。或许是因为这是爱与愁大神存活的最后一只精灵，水晶灯火灵十分振奋，一击打垮了一群パンプジン。水晶灯火灵使用了一招***（被打上了马赛克？！），刚好符合以下③条规则：\n\n1. $m,n \\in \\{1,2,\\cdots ,k\\}$；\n2. $(n^2-m\\times n-m^2)^2=1$；\n3. $m,n$ 为整数。\n\n爱与愁大神非常高兴，他想要知道 $m^2+n^2$ 的最大值，以及在什么情况下可以取得最大值。你能帮助他吗？请输出 $m$ 和 $n$。", "inputFormat": "输入共一个整数 $k$。\n", "outputFormat": "共两行，第一行是 $m$ 的最大值，第二行是 $n$ 的最大值。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 数据，$k \\le 100$；\n- 对于 $100\\%$ 数据，$k \\le 10^8$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Chandelure", "background": "“The Story of Love and Sorrow V · Halloween,” Chapter 2.\n\nThis problem can be frustrating; please read carefully.", "description": "The great “Ai Yu Chou” stepped out of the Fairy-type Gym in high spirits—he had just earned the Fairy-type badge (applause)! But right outside, he ran into a group of パンプジン (Gourgeist) (Because today is Halloween)! What now? No worries—“Ai Yu Chou” still had a single Chandelure left (which perfectly counters Gourgeist). Perhaps because it was the last Pokémon still standing, Chandelure was extremely fired up and took down the whole group in one blow. Chandelure used a move *** (censored?!), which happened to satisfy the following three rules:\n\n1. $m, n \\in \\{1, 2, \\cdots, k\\}$;\n2. $(n^2 - m \\times n - m^2)^2 = 1$;\n3. $m, n$ are integers.\n\n“Ai Yu Chou” is very happy. He wants to know the maximum value of $m^2 + n^2$, and in which case this maximum can be achieved. Can you help him? Please output $m$ and $n$.", "inputFormat": "A single integer $k$.", "outputFormat": "Two lines. The first line is the maximum value of $m$. The second line is the maximum value of $n$.", "hint": "### Constraints\n\n- For $20\\%$ of the testdata, $k \\le 100$.\n- For $100\\%$ of the testdata, $k \\le 10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "水晶灯火灵", "background": "《爱与愁的故事第五弹·Halloween》第二章。\n\n题目容易吐血请谨慎阅读！\n", "description": "爱与愁大神兴高采烈地踏出妖精系道馆——他已经获得了妖精系徽章（鼓掌）！可是一出门就遇到一群パンプジン（Because today is Halloween）！仲谋半？没事，爱与愁大神手上还仅存着一只水晶灯火灵（完克パンプジン）。或许是因为这是爱与愁大神存活的最后一只精灵，水晶灯火灵十分振奋，一击打垮了一群パンプジン。水晶灯火灵使用了一招***（被打上了马赛克？！），刚好符合以下③条规则：\n\n1. $m,n \\in \\{1,2,\\cdots ,k\\}$；\n2. $(n^2-m\\times n-m^2)^2=1$；\n3. $m,n$ 为整数。\n\n爱与愁大神非常高兴，他想要知道 $m^2+n^2$ 的最大值，以及在什么情况下可以取得最大值。你能帮助他吗？请输出 $m$ 和 $n$。", "inputFormat": "输入共一个整数 $k$。\n", "outputFormat": "共两行，第一行是 $m$ 的最大值，第二行是 $n$ 的最大值。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 数据，$k \\le 100$；\n- 对于 $100\\%$ 数据，$k \\le 10^8$。\n", "locale": "zh-CN"}}}
{"pid": "P1937", "type": "P", "difficulty": 5, "samples": [["5 4\n1\n3\n2\n1\n3\n1 3\n2 5\n2 3\n4 5", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2010", "线段树", "USACO", "排序"], "title": "[USACO10MAR] Barn Allocation G", "background": null, "description": "农夫约翰最近开了一个新的牲口棚。因为其中的一些畜栏风景更好，所以奶牛们向约翰发出了希望分配畜栏的申请。\n\n牲口棚有 $N$ 个畜栏 $(1 \\le N \\le 100,000)$，方便起见，我们把它们编号为 $1 \\sim N$，畜栏 $i$ 能容纳 $C_i$ 头牛 $(1 \\le Ci \\le 100,000)$。第 $i$ 头牛申请为它分配 $A_i$ 到 $B_i$ 的编号连续的畜栏来让它散步 $(1  \\le A_i \\le B_i \\le N)$。换言之，这头奶牛希望能自由地访问畜栏 $A_i \\sim B_i$，而为了满足它的要求，你需要在 $A_i \\sim B_i$ 范围内的畜栏中为它预留至少一单位容量。\n\n给出 $M$ 个畜栏分配请求 $(1 \\le M \\le 100,000)$，回答最多能满足多少头牛的要求而不增加额外的畜栏。", "inputFormat": "第一行包括两个以空格隔开的正整数：$N,M$。\n\n第二行到第 $N+1$ 行：第 $i+1$ 行每行包括一个整数：$C_i$。\n\n第 $N+2$ 到第 $N+M+1$ 行：第 $i+N+1$ 行每行包括两个整数 $A_i,B_i$。", "outputFormat": "仅一行：能满足的最大要求数。", "hint": "考虑以下例子：\n\n```plain\n畜栏号:      1   2   3   4   5\n           +---+---+---+---+---+\n容纳空间:   | 1 | 3 | 2 | 1 | 3 |  \n           +---+---+---+---+---+\nCow 1       XXXXXXXXXXX             (1, 3)\nCow 2           XXXXXXXXXXXXXXX     (2, 5)\nCow 3           XXXXXXX             (2, 3)\nCow 4                   XXXXXXX     (4, 5)\n```\n约翰显然不能满足所有的需求，因为畜栏 $3,4$ 请求太多了。\n\n经过试验，我们发现，我们能满足牛 $1,3,4$ 的需求，所以这组数据答案为 $3$。\n\n\nSource: USACO 2010 March Gold\n\nTranslator: @chrome01, @Hootime", "locale": "zh-CN", "translations": {"en": {"title": "[USACO10MAR] Barn Allocation G", "background": "", "description": "Farmer John has recently opened a new barn and is now accepting stall-allocation requests from cows, since some stalls have better views.\n\nThe barn contains $N$ stalls ($1 \\le N \\le 100{,}000$), labeled $1$ to $N$ for convenience. Stall $i$ can hold $C_i$ cows ($1 \\le C_i \\le 100{,}000$). The $i$-th cow wants to stroll in a contiguous range of stalls from $A_i$ to $B_i$ ($1 \\le A_i \\le B_i \\le N$). In other words, this cow wants access to every stall in the interval $[A_i, B_i]$, and to satisfy this request you must reserve one unit of capacity in every stall of that interval for this cow.\n\nGiven $M$ stall-allocation requests ($1 \\le M \\le 100{,}000$), determine the maximum number of cows whose requests can be satisfied (without building additional stalls).", "inputFormat": "- The first line contains two space-separated integers: $N, M$.\n- Lines $2$ to $N+1$: line $i+1$ contains a single integer $C_i$.\n- Lines $N+2$ to $N+M+1$: line $i+N+1$ contains two integers $A_i, B_i$.", "outputFormat": "Output a single line with the maximum number of requests that can be satisfied.", "hint": "Consider the following example:\n\n```plain\n畜栏号:      1   2   3   4   5\n           +---+---+---+---+---+\n容纳空间:   | 1 | 3 | 2 | 1 | 3 |  \n           +---+---+---+---+---+\nCow 1       XXXXXXXXXXX             (1, 3)\nCow 2           XXXXXXXXXXXXXXX     (2, 5)\nCow 3           XXXXXXX             (2, 3)\nCow 4                   XXXXXXX     (4, 5)\n```\nJohn clearly cannot satisfy all requests, since stalls $3$ and $4$ are over-requested.\n\nAfter testing, we find that we can satisfy cows $1, 3, 4$, so the answer for this testdata is $3$.\n\nSource: USACO 2010 March Gold\n\nTranslator: @chrome01\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO10MAR] Barn Allocation G", "background": null, "description": "农夫约翰最近开了一个新的牲口棚。因为其中的一些畜栏风景更好，所以奶牛们向约翰发出了希望分配畜栏的申请。\n\n牲口棚有 $N$ 个畜栏 $(1 \\le N \\le 100,000)$，方便起见，我们把它们编号为 $1 \\sim N$，畜栏 $i$ 能容纳 $C_i$ 头牛 $(1 \\le Ci \\le 100,000)$。第 $i$ 头牛申请为它分配 $A_i$ 到 $B_i$ 的编号连续的畜栏来让它散步 $(1  \\le A_i \\le B_i \\le N)$。换言之，这头奶牛希望能自由地访问畜栏 $A_i \\sim B_i$，而为了满足它的要求，你需要在 $A_i \\sim B_i$ 范围内的畜栏中为它预留至少一单位容量。\n\n给出 $M$ 个畜栏分配请求 $(1 \\le M \\le 100,000)$，回答最多能满足多少头牛的要求而不增加额外的畜栏。", "inputFormat": "第一行包括两个以空格隔开的正整数：$N,M$。\n\n第二行到第 $N+1$ 行：第 $i+1$ 行每行包括一个整数：$C_i$。\n\n第 $N+2$ 到第 $N+M+1$ 行：第 $i+N+1$ 行每行包括两个整数 $A_i,B_i$。", "outputFormat": "仅一行：能满足的最大要求数。", "hint": "考虑以下例子：\n\n```plain\n畜栏号:      1   2   3   4   5\n           +---+---+---+---+---+\n容纳空间:   | 1 | 3 | 2 | 1 | 3 |  \n           +---+---+---+---+---+\nCow 1       XXXXXXXXXXX             (1, 3)\nCow 2           XXXXXXXXXXXXXXX     (2, 5)\nCow 3           XXXXXXX             (2, 3)\nCow 4                   XXXXXXX     (4, 5)\n```\n约翰显然不能满足所有的需求，因为畜栏 $3,4$ 请求太多了。\n\n经过试验，我们发现，我们能满足牛 $1,3,4$ 的需求，所以这组数据答案为 $3$。\n\n\nSource: USACO 2010 March Gold\n\nTranslator: @chrome01, @Hootime", "locale": "zh-CN"}}}
{"pid": "P1938", "type": "P", "difficulty": 3, "samples": [["100 3 5 2 1\n1 5\n2 3\n1 4\n5 2 150\n2 5 120\n", "250"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2009", "USACO", "最短路"], "title": "[USACO09NOV] Job Hunt S", "background": null, "description": "奶牛们正在找工作。农场主约翰知道后，鼓励奶牛们四处碰碰运气。而且他还加了一条要求：一头牛在一个城市最多只能赚 $D\\ (1 \\le D \\le 1000)$ 美元，然后它必须到另一座城市工作。当然，它可以在别处工作一阵子后又回到原来的城市再最多赚 $D$ 美元。而且这样的往返次数没有限制。\n\n城市间有 $P\\ (1 \\le P \\le 150)$ 条单向路径连接，共有 $C\\ (1 \\le C \\le 220)$ 座城市，编号从 $1$ 到 $C$。奶牛贝茜当前处在城市 $S\\ (1 \\le S \\le C)$。路径 $i$ 从城市 $A_i$ 到城市 $B_i$（$1 \\le A_i,B_i \\le C$），在路径上行走不用任何花费。\n\n为了帮助贝茜，约翰让它使用他的私人飞机服务。这项服务有 $F\\ (1 \\le F \\le 350)$ 条单向航线，每条航线是从城市 $J_i$ 飞到另一座城市 $K_i$（$1 \\le J_i,K_i \\le C$），费用是 $T_i\\ (1 \\le T_i \\le 50000)$ 美元。如果贝茜手中没有现钱，可以用以后赚的钱来付机票钱。\n\n贝茜可以选择在任何时候，在任何城市退休。如果在工作时间上不做限制，贝茜总共可以赚多少钱呢？如果赚的钱也不会出现限制，就输出 $-1$。", "inputFormat": "第一行：$5$ 个用空格分开的整数 $D$，$P$，$C$，$F$，$S$。\n\n第 $2$ 到第 $P+1$ 行：第 $i+1$ 行包含 $2$ 个用空格分开的整数，表示一条从城市 $A_i$ 到城市 $B_i$ 的单向路径。\n\n接下来 $F$ 行，每行 $3$ 个用空格分开的整数，表示一条从城市 $J_i$ 到城市 $K_i$ 的单向航线，费用是 $T_i$。", "outputFormat": "一个整数，在上述规则下最多可以赚到的钱数。", "hint": "这个世界上有五个城市，三条单向路径和两条单向航线。贝茜从一号城市开始她的旅行，她在离开一个城市前最多只能在这个城市赚 $100$ 美元。\n\n\n贝茜可以通过从一号城市 $\\to$ 五号城市 $\\to$ 二号城市 $\\to$ 三号城市的旅行赚到 $4\\times 100-150=250$ 美元。\n\n\n(注：在四个城市各赚 $100$ 美元，从五号城市飞到二号城市花掉 $150$ 美元)\n\n\n来源：USACO2009 十一月银组", "locale": "zh-CN", "translations": {"en": {"title": "[USACO09NOV] Job Hunt S", "background": null, "description": "Bessie is running out of money and is searching for jobs. Farmer John knows this and wants the cows to travel around so he has imposed a rule that his cows can only make $D (1 \\le D \\le 1,000)$ dollars in a city before they must work in another city. Bessie can, however, return to a city after working elsewhere for a while and again earn the D dollars maximum in that city. There is no limit on the number of times Bessie can do this.\n\nBessie's world comprises $P (1 \\le P \\le 150)$ one-way paths connecting $C (2 \\le C \\le 220)$ cities conveniently numbered $1 \\sim C$. Bessie is currently in city $S (1 \\le S \\le C)$. Path i runs one-way from city $A_i$ to city $B_i (1 \\le A_i \\le C; 1 \\le B_i \\le C)$ and costs nothing to traverse.\n\nTo help Bessie, Farmer John will give her access to his private jet service. This service features $F (1 \\le F \\le 350)$ routes, each of which is a one way flight from one city $J_i$ to a another $K_i (1 \\le J_i \\le C; 1 \\le K_i \\le C)$ and which costs $T_i (1 \\le T_i \\le 50,000)$ dollars. Bessie can pay for the tickets from future earnings if she doesn't have the cash on hand.\n\nBessie can opt to retire whenever and wherever she wants. Given an unlimited amount of time, what is the most money that Bessie can make presuming she can make the full $D$ dollars in each city she can travel to? Print $-1$ if there is no limit to this amount.", "inputFormat": "The input is given from Standard Input in the following format:\n\n```plain\nD P C F S\nA_1 B_1\nA_2 B_2\n...\nA_n B_n\nJ_1 K_1 T_1\nJ_2 K_2 T_2\n...\nJ_n K_n T_n", "outputFormat": "One integer representing the answer.", "hint": "This world has five cities, three paths and two jet routes. Bessie starts out in city $1$, and she can only make $100$ dollars in each city before moving on.\n\nBessie can travel from city $1$ to city $5$ to city $2$ to city $3$, and make a total of $4 \\times 100 - 150 = 250$ dollars.\n\nSource: USACO 2009 November Silver", "locale": "en"}, "zh-CN": {"title": "[USACO09NOV] Job Hunt S", "background": null, "description": "奶牛们正在找工作。农场主约翰知道后，鼓励奶牛们四处碰碰运气。而且他还加了一条要求：一头牛在一个城市最多只能赚 $D\\ (1 \\le D \\le 1000)$ 美元，然后它必须到另一座城市工作。当然，它可以在别处工作一阵子后又回到原来的城市再最多赚 $D$ 美元。而且这样的往返次数没有限制。\n\n城市间有 $P\\ (1 \\le P \\le 150)$ 条单向路径连接，共有 $C\\ (1 \\le C \\le 220)$ 座城市，编号从 $1$ 到 $C$。奶牛贝茜当前处在城市 $S\\ (1 \\le S \\le C)$。路径 $i$ 从城市 $A_i$ 到城市 $B_i$（$1 \\le A_i,B_i \\le C$），在路径上行走不用任何花费。\n\n为了帮助贝茜，约翰让它使用他的私人飞机服务。这项服务有 $F\\ (1 \\le F \\le 350)$ 条单向航线，每条航线是从城市 $J_i$ 飞到另一座城市 $K_i$（$1 \\le J_i,K_i \\le C$），费用是 $T_i\\ (1 \\le T_i \\le 50000)$ 美元。如果贝茜手中没有现钱，可以用以后赚的钱来付机票钱。\n\n贝茜可以选择在任何时候，在任何城市退休。如果在工作时间上不做限制，贝茜总共可以赚多少钱呢？如果赚的钱也不会出现限制，就输出 $-1$。", "inputFormat": "第一行：$5$ 个用空格分开的整数 $D$，$P$，$C$，$F$，$S$。\n\n第 $2$ 到第 $P+1$ 行：第 $i+1$ 行包含 $2$ 个用空格分开的整数，表示一条从城市 $A_i$ 到城市 $B_i$ 的单向路径。\n\n接下来 $F$ 行，每行 $3$ 个用空格分开的整数，表示一条从城市 $J_i$ 到城市 $K_i$ 的单向航线，费用是 $T_i$。", "outputFormat": "一个整数，在上述规则下最多可以赚到的钱数。", "hint": "这个世界上有五个城市，三条单向路径和两条单向航线。贝茜从一号城市开始她的旅行，她在离开一个城市前最多只能在这个城市赚 $100$ 美元。\n\n\n贝茜可以通过从一号城市 $\\to$ 五号城市 $\\to$ 二号城市 $\\to$ 三号城市的旅行赚到 $4\\times 100-150=250$ 美元。\n\n\n(注：在四个城市各赚 $100$ 美元，从五号城市飞到二号城市花掉 $150$ 美元)\n\n\n来源：USACO2009 十一月银组", "locale": "zh-CN"}}}
{"pid": "P1939", "type": "P", "difficulty": 4, "samples": [["3\n6\n8\n10\n", "4\n9\n19\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "矩阵运算", "矩阵加速"], "title": "矩阵加速（数列）", "background": "", "description": "已知一个数列 $a$，它满足：  \n\n$$\na_x=\n\\begin{cases}\n 1 & x \\in\\{1,2,3\\}\\\\ \n a_{x-1}+a_{x-3} & x \\geq 4\n\\end{cases}\n$$\n\n求 $a$ 数列的第 $n$ 项对 $10^9+7$ 取余的值。\n", "inputFormat": "第一行一个整数 $T$，表示询问个数。\n\n以下 $T$ 行，每行一个正整数 $n$。\n", "outputFormat": "每行输出一个非负整数表示答案。\n", "hint": "- 对于 $30\\%$ 的数据 $n \\leq 100$；\n- 对于 $60\\%$ 的数据 $n \\leq2 \\times 10^7$；\n- 对于 $100\\%$ 的数据 $1 \\leq T \\leq 100$，$1 \\leq n \\leq 2 \\times 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Matrix Exponentiation (Sequence)", "background": "", "description": "Given a sequence $a$, it satisfies:  \n\n$$\na_x=\n\\begin{cases}\n 1 & x \\in\\{1,2,3\\}\\\\ \n a_{x-1}+a_{x-3} & x \\geq 4\n\\end{cases}\n$$\n\nFind the $n$-th term of sequence $a$ modulo $10^9+7$.", "inputFormat": "The first line contains an integer $T$, denoting the number of queries.\nEach of the following $T$ lines contains a positive integer $n$.", "outputFormat": "Output one non-negative integer per line, representing the answer.", "hint": "- For $30\\%$ of the testdata, $n \\leq 100$.\n- For $60\\%$ of the testdata, $n \\leq 2 \\times 10^7$.\n- For $100\\%$ of the testdata, $1 \\leq T \\leq 100$, $1 \\leq n \\leq 2 \\times 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "矩阵加速（数列）", "background": "", "description": "已知一个数列 $a$，它满足：  \n\n$$\na_x=\n\\begin{cases}\n 1 & x \\in\\{1,2,3\\}\\\\ \n a_{x-1}+a_{x-3} & x \\geq 4\n\\end{cases}\n$$\n\n求 $a$ 数列的第 $n$ 项对 $10^9+7$ 取余的值。\n", "inputFormat": "第一行一个整数 $T$，表示询问个数。\n\n以下 $T$ 行，每行一个正整数 $n$。\n", "outputFormat": "每行输出一个非负整数表示答案。\n", "hint": "- 对于 $30\\%$ 的数据 $n \\leq 100$；\n- 对于 $60\\%$ 的数据 $n \\leq2 \\times 10^7$；\n- 对于 $100\\%$ 的数据 $1 \\leq T \\leq 100$，$1 \\leq n \\leq 2 \\times 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1940", "type": "P", "difficulty": 5, "samples": [["4\n", "720\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "高精度"], "title": "Reversible Number", "background": "本题改编自 Project Euler Problem 145：\n\n> Some positive integers n have the property that the sum [ n + reverse(n) ] consists entirely of odd (decimal) digits. For instance, 36 + 63 = 99 and 409 + 904 = 1313. We will call such numbers reversible; so 36, 63, 409, and 904 are reversible. Leading zeroes are not allowed in either n or reverse(n).\n>\n> There are 120 reversible numbers below one-thousand.\n>\n> How many reversible numbers are there below one-billion (10^x)?", "description": "有些正整数 $n$ 可能满足 $n+\\text{rev}(n)$（$\\text{rev}(n)$ 是把 $n$ 倒过来写所得的数）得到的结果的各位都是奇数。\n\n比方说：\n\n- $n=36$ 时，$36+63=99$。\n- $n=409$ 时，$409+904=1313$。\n\n规定满足上述的 $n$ 称为 Reversible 数。所以 $36,63,409,904$ 都是 Reversible 数。\n\n当然，以 $0$ 开头的数统统不算 Reversible 数。\n\n那么，小于等于 $10^x$ 的 Reversible 数有多少个？", "inputFormat": "一个正整数 $x$。", "outputFormat": "一行一个整数，表示答案。", "hint": "对于 $30\\%$ 的数据，保证答案不大于 $2^{32}-1$。\n\n对于 $100\\%$ 的数据，$3 \\le x \\le 400$。", "locale": "zh-CN", "translations": {"en": {"title": "Reversible Number", "background": "This problem is adapted from Project Euler Problem 145:\n\n> Some positive integers n have the property that the sum [ n + reverse(n) ] consists entirely of odd (decimal) digits. For instance, 36 + 63 = 99 and 409 + 904 = 1313. We will call such numbers reversible; so 36, 63, 409, and 904 are reversible. Leading zeroes are not allowed in either n or reverse(n).\n>\n> There are 120 reversible numbers below one-thousand.\n>\n> How many reversible numbers are there below $10^x$?", "description": "Some positive integers $n$ satisfy that in $n + \\text{rev}(n)$ (where $\\text{rev}(n)$ is the number obtained by reversing the decimal digits of $n$), every digit of the sum is odd.\n\nFor example:\n- When $n = 36$, $36 + 63 = 99$.\n- When $n = 409$, $409 + 904 = 1313$.\n\nWe call such $n$ Reversible numbers. Therefore, $36$, $63$, $409$, and $904$ are all Reversible numbers.\n\nNumbers with leading zeros are not considered Reversible numbers.\n\nHow many Reversible numbers are there that are less than or equal to $10^x$?", "inputFormat": "A single positive integer $x$.", "outputFormat": "Output a single line containing one integer, the answer.", "hint": "For $30\\%$ of the testdata, the answer does not exceed $2^{32} - 1$.\n\nFor $100\\%$ of the testdata, $3 \\le x \\le 400$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Reversible Number", "background": "本题改编自 Project Euler Problem 145：\n\n> Some positive integers n have the property that the sum [ n + reverse(n) ] consists entirely of odd (decimal) digits. For instance, 36 + 63 = 99 and 409 + 904 = 1313. We will call such numbers reversible; so 36, 63, 409, and 904 are reversible. Leading zeroes are not allowed in either n or reverse(n).\n>\n> There are 120 reversible numbers below one-thousand.\n>\n> How many reversible numbers are there below one-billion (10^x)?", "description": "有些正整数 $n$ 可能满足 $n+\\text{rev}(n)$（$\\text{rev}(n)$ 是把 $n$ 倒过来写所得的数）得到的结果的各位都是奇数。\n\n比方说：\n\n- $n=36$ 时，$36+63=99$。\n- $n=409$ 时，$409+904=1313$。\n\n规定满足上述的 $n$ 称为 Reversible 数。所以 $36,63,409,904$ 都是 Reversible 数。\n\n当然，以 $0$ 开头的数统统不算 Reversible 数。\n\n那么，小于等于 $10^x$ 的 Reversible 数有多少个？", "inputFormat": "一个正整数 $x$。", "outputFormat": "一行一个整数，表示答案。", "hint": "对于 $30\\%$ 的数据，保证答案不大于 $2^{32}-1$。\n\n对于 $100\\%$ 的数据，$3 \\le x \\le 400$。", "locale": "zh-CN"}}}
{"pid": "P1941", "type": "P", "difficulty": 4, "samples": [["10 10 6 \n3 9  \n9 9  \n1 2  \n1 3  \n1 2  \n1 1  \n2 1  \n2 1  \n1 6  \n2 2  \n1 2 7 \n5 1 5 \n6 3 5 \n7 5 8 \n8 7 9 \n9 1 3 \n", "1\n6\n\n"], ["10 10 4 \n1 2  \n3 1  \n2 2  \n1 8  \n1 8  \n3 2  \n2 1  \n2 1  \n2 2  \n1 2  \n1 0 2 \n6 7 9 \n9 1 4 \n3 8 10  ", "0\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2014", "NOIP 提高组", "枚举", "背包 DP"], "title": "[NOIP 2014 提高组] 飞扬的小鸟", "background": "NOIP2014 提高组 D1T3", "description": "Flappy Bird 是一款风靡一时的休闲手机游戏。玩家需要不断控制点击手机屏幕的频率来调节小鸟的飞行高度，让小鸟顺利通过画面右方的管道缝隙。如果小鸟一不小心撞到了水管或者掉在地上的话，便宣告失败。\n\n为了简化问题，我们对游戏规则进行了简化和改编:\n\n游戏界面是一个长为 $n$，高为 $m$ 的二维平面，其中有 $k$ 个管道（忽略管道的宽度）。 \n\n小鸟始终在游戏界面内移动。小鸟从游戏界面最左边任意整数高度位置出发，到达游戏界面最右边时，游戏完成。\n\n小鸟每个单位时间沿横坐标方向右移的距离为 $1$，竖直移动的距离由玩家控制。如果点击屏幕，小鸟就会上升一定高度 $x$，每个单位时间可以点击多次，效果叠加；如果不点击屏幕，小鸟就会下降一定高度 $y$。小鸟位于横坐标方向不同位置时，上升的高度 $x$ 和下降的高度 $y$ 可能互不相同。\n\n小鸟高度等于 $0$ 或者小鸟碰到管道时，游戏失败。小鸟高度为 $m$ 时，无法再上升。\n\n现在,请你判断是否可以完成游戏。如果可以，输出最少点击屏幕数；否则，输出小鸟最多可以通过多少个管道缝隙。", "inputFormat": "第 $1$ 行有 $3$ 个整数 $n, m, k$，分别表示游戏界面的长度，高度和水管的数量，每两个整数之间用一个空格隔开；\n\n接下来的 $n$ 行，每行 $2$ 个用一个空格隔开的整数 $x$ 和 $y$，依次表示在横坐标位置 $0 \\sim n-1$ 上玩家点击屏幕后，小鸟在下一位置上升的高度 $x$，以及在这个位置上玩家不点击屏幕时，小鸟在下一位置下降的高度 $y$。\n\n接下来 $k$ 行，每行 $3$ 个整数 $p,l,h$，每两个整数之间用一个空格隔开。每行表示一个管道，其中 $p$ 表示管道的横坐标，$l$ 表示此管道缝隙的下边沿高度，$h$ 表示管道缝隙上边沿的高度（输入数据保证 $p$ 各不相同，但不保证按照大小顺序给出）。", "outputFormat": "共两行。\n\n第一行，包含一个整数，如果可以成功完成游戏，则输出 $1$，否则输出 $0$。\n\n第二行，包含一个整数，如果第一行为 $1$，则输出成功完成游戏需要最少点击屏幕数，否则，输出小鸟最多可以通过多少个管道缝隙。", "hint": " \n【输入输出样例说明】\n\n如下图所示，蓝色直线表示小鸟的飞行轨迹，红色直线表示管道。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/59alxbqi.png)\n\n【数据范围】\n\n对于 $30\\%$ 的数据：$5 \\leq n \\leq 10, 5 \\leq m \\leq 10, k=0$，保证存在一组最优解使得同一单位时间最多点击屏幕 $3$ 次；\n\n对于 $50\\%$ 的数据：$5 \\leq n \\leq 20, 5 \\leq m \\leq 10$，保证存在一组最优解使得同一单位时间最多点击屏幕 $3$ 次；\n\n对于 $70\\%$ 的数据：$5 \\leq n \\leq 1000, 5 \\leq m \\leq 100$；\n\n对于 $100\\%$ 的数据：$5 \\leq n \\leq 10000$，$5 \\leq m \\leq 1000$，$0 \\leq k < n$，$0 < x,y < m$，$0 < p < n$，$0 \\leq l < h \\leq m$， $l + 1 < h$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2014 Senior] Flappy Bird", "background": "NOIP 2014 Senior D1T3.", "description": "Flappy Bird is a once-popular casual mobile game. The player needs to continuously control the tapping frequency to adjust the bird’s altitude so that it passes through the gaps between the pipes on the right side of the screen. If the bird accidentally hits a pipe or falls to the ground, the game ends in failure.\n\nTo simplify the problem, we modify the game rules as follows:\n\nThe game interface is a 2D plane with length $n$ and height $m$, containing $k$ pipes (pipe width is ignored).\n\nThe bird always moves within the game interface. It starts from any integer height on the left edge of the interface, and the game is completed when it reaches the right edge.\n\nIn each unit of time, the bird moves a distance of $1$ to the right along the horizontal axis. Its vertical movement is controlled by the player. If the screen is tapped, the bird rises by a certain height $x$, and you may tap multiple times within one unit of time with the effects adding up; if you do not tap, the bird falls by a certain height $y$. The rise $x$ and fall $y$ can vary with the bird’s horizontal position.\n\nIf the bird’s height equals $0$ or it hits a pipe, the game fails. When the bird’s height is $m$, it cannot rise further.\n\nNow, please determine whether the game can be completed. If it can, output the minimum number of taps. Otherwise, output the maximum number of pipe gaps the bird can pass through.", "inputFormat": "The first line contains $3$ integers $n, m, k$, representing the length and height of the game interface and the number of pipes, respectively, separated by a single space.\n\nThe next $n$ lines each contain $2$ integers $x$ and $y$, separated by a single space. For horizontal positions $0 \\sim n - 1$ in order, $x$ denotes how much the bird will rise at the next position if the player taps at this position, and $y$ denotes how much the bird will fall at the next position if the player does not tap at this position.\n\nThen follow $k$ lines, each containing $3$ integers $p, l, h$, separated by single spaces. Each line describes one pipe, where $p$ is the pipe’s horizontal coordinate, $l$ is the lower boundary of the gap, and $h$ is the upper boundary of the gap (the input guarantees that all $p$ are distinct, but they are not guaranteed to be in sorted order).", "outputFormat": "Output two lines.\n\nThe first line contains an integer. Output $1$ if the game can be successfully completed; otherwise, output $0$.\n\nThe second line contains an integer. If the first line is $1$, output the minimum number of taps required to complete the game. Otherwise, output the maximum number of pipe gaps the bird can pass through.", "hint": "[Explanation for the sample input and output]\n\nAs shown in the figure below, the blue line is the bird’s flight path, and the red line represents the pipes.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/59alxbqi.png)\n\nConstraints\n\n- For $30\\%$ of the testdata: $5 \\leq n \\leq 10$, $5 \\leq m \\leq 10$, $k = 0$, and there exists an optimal solution where at most $3$ taps occur within any single unit of time.\n- For $50\\%$ of the testdata: $5 \\leq n \\leq 20$, $5 \\leq m \\leq 10$, and there exists an optimal solution where at most $3$ taps occur within any single unit of time.\n- For $70\\%$ of the testdata: $5 \\leq n \\leq 1000$, $5 \\leq m \\leq 100$.\n- For $100\\%$ of the testdata: $5 \\leq n \\leq 10000$, $5 \\leq m \\leq 1000$, $0 \\leq k < n$, $0 < x, y < m$, $0 < p < n$, $0 \\leq l < h \\leq m$, $l + 1 < h$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2014 提高组] 飞扬的小鸟", "background": "NOIP2014 提高组 D1T3", "description": "Flappy Bird 是一款风靡一时的休闲手机游戏。玩家需要不断控制点击手机屏幕的频率来调节小鸟的飞行高度，让小鸟顺利通过画面右方的管道缝隙。如果小鸟一不小心撞到了水管或者掉在地上的话，便宣告失败。\n\n为了简化问题，我们对游戏规则进行了简化和改编:\n\n游戏界面是一个长为 $n$，高为 $m$ 的二维平面，其中有 $k$ 个管道（忽略管道的宽度）。 \n\n小鸟始终在游戏界面内移动。小鸟从游戏界面最左边任意整数高度位置出发，到达游戏界面最右边时，游戏完成。\n\n小鸟每个单位时间沿横坐标方向右移的距离为 $1$，竖直移动的距离由玩家控制。如果点击屏幕，小鸟就会上升一定高度 $x$，每个单位时间可以点击多次，效果叠加；如果不点击屏幕，小鸟就会下降一定高度 $y$。小鸟位于横坐标方向不同位置时，上升的高度 $x$ 和下降的高度 $y$ 可能互不相同。\n\n小鸟高度等于 $0$ 或者小鸟碰到管道时，游戏失败。小鸟高度为 $m$ 时，无法再上升。\n\n现在,请你判断是否可以完成游戏。如果可以，输出最少点击屏幕数；否则，输出小鸟最多可以通过多少个管道缝隙。", "inputFormat": "第 $1$ 行有 $3$ 个整数 $n, m, k$，分别表示游戏界面的长度，高度和水管的数量，每两个整数之间用一个空格隔开；\n\n接下来的 $n$ 行，每行 $2$ 个用一个空格隔开的整数 $x$ 和 $y$，依次表示在横坐标位置 $0 \\sim n-1$ 上玩家点击屏幕后，小鸟在下一位置上升的高度 $x$，以及在这个位置上玩家不点击屏幕时，小鸟在下一位置下降的高度 $y$。\n\n接下来 $k$ 行，每行 $3$ 个整数 $p,l,h$，每两个整数之间用一个空格隔开。每行表示一个管道，其中 $p$ 表示管道的横坐标，$l$ 表示此管道缝隙的下边沿高度，$h$ 表示管道缝隙上边沿的高度（输入数据保证 $p$ 各不相同，但不保证按照大小顺序给出）。", "outputFormat": "共两行。\n\n第一行，包含一个整数，如果可以成功完成游戏，则输出 $1$，否则输出 $0$。\n\n第二行，包含一个整数，如果第一行为 $1$，则输出成功完成游戏需要最少点击屏幕数，否则，输出小鸟最多可以通过多少个管道缝隙。", "hint": " \n【输入输出样例说明】\n\n如下图所示，蓝色直线表示小鸟的飞行轨迹，红色直线表示管道。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/59alxbqi.png)\n\n【数据范围】\n\n对于 $30\\%$ 的数据：$5 \\leq n \\leq 10, 5 \\leq m \\leq 10, k=0$，保证存在一组最优解使得同一单位时间最多点击屏幕 $3$ 次；\n\n对于 $50\\%$ 的数据：$5 \\leq n \\leq 20, 5 \\leq m \\leq 10$，保证存在一组最优解使得同一单位时间最多点击屏幕 $3$ 次；\n\n对于 $70\\%$ 的数据：$5 \\leq n \\leq 1000, 5 \\leq m \\leq 100$；\n\n对于 $100\\%$ 的数据：$5 \\leq n \\leq 10000$，$5 \\leq m \\leq 1000$，$0 \\leq k < n$，$0 < x,y < m$，$0 < p < n$，$0 \\leq l < h \\leq m$， $l + 1 < h$。", "locale": "zh-CN"}}}
{"pid": "P1942", "type": "P", "difficulty": 4, "samples": [["4\n0000\n011\n1011\n11011", "0000\n0110\n1001\n1111"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "NOI 导刊"], "title": "词编码", "background": null, "description": "一个发送机可以通过一条信道发送一些以 $0$ 和 $1$ 组成的单词。在其尽头的接收机可以使用特殊技术恢复到最初的单词。每个单词最初都由 $0$ 和 $1$ 组成。所有的单词最初长度都为 $n$。当穿过信道之后单词可能发生以下几种情况之一：\n\n1. 任意（一个）$0$ 被 $1$ 取代\n2. 任意（一个）符号被删除\n3. 一个符号（$0$ 或 $1$）被插入到任何位置\n4. 不改变\n\n我们知道最初的单词都具有以下性质：有 $1$ 的位置号的总和是 $n+1$ 的倍数，或者是 $0$。", "inputFormat": "第一行一个正整数 $n\\ (4\\le n\\le 1000)$。\n\n下面若干行（**不一定是 $\\bm n$ 行！**），每行表示一个穿过信道之后的单词，每个单词占一行。\n\n**请读入到输入文件末尾：**\n\n- 对于 C++ 的 `std::cin`，可以使用 `while (std::cin >> s) {/* ... */}` 来实现这一功能，其中 `s` 是 `std::string` 类型的变量。\n- 对于 C/C++ 的 `scanf`，可以使用 `while (scanf(\"%s\", s) == 1) {/* ... */}` 来实现这一功能，其中 `s` 是 `char*` 类型的变量。\n- 对于其他输入函数实现这一功能的方式，请自行查阅文档。\n\n保证单词数不大于 $2001$。", "outputFormat": "你的程序应该打印输出原始序列的词，注意换行。\n\n若有多解，请按以下顺序确定最优解，并输出最优解：\n\n- 按照操作 $4$ $\\to$ 操作 $1$ $\\to$ 操作 $2$ $\\to$ 操作 $3$ 的顺序确定最优解\n- 同一操作中，按操作位置从左到右的顺序确定最优解\n- 对于插入到同一位置的操作 $3$，按插入 $0$ 比插入 $1$ 更优\n\n如果无解则输出 $-1$。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Word Encoding", "background": "", "description": "A transmitter sends words consisting of $0$ and $1$ through a channel. At the other end, a receiver can use special techniques to recover the original words. Each original word consists only of $0$ and $1$, and every original word has length $n$. After passing through the channel, exactly one of the following may happen to a word:\n\n1. Any single $0$ is replaced by $1$.\n2. Any single symbol is deleted.\n3. A symbol ($0$ or $1$) is inserted at any position.\n4. No change.\n\nWe know that every original word has the following property: the sum of the position numbers of the $1$s is a multiple of $n+1$, or equals $0$.", "inputFormat": "The first line contains a positive integer $n\\ (4\\le n\\le 1000)$.\n\nThen follow several lines (not necessarily $\\bm n$ lines!), each containing one word after passing through the channel, one word per line.\n\nPlease read until the end of file:\n\n- For C++ `std::cin`, you can use `while (std::cin >> s) {/* ... */}`, where `s` is a variable of type `std::string`.\n- For C/C++ `scanf`, you can use `while (scanf(\"%s\", s) == 1) {/* ... */}`, where `s` is a variable of type `char*`.\n- For other input functions, please consult their documentation for how to read until EOF.\n\nIt is guaranteed that the number of words does not exceed $2001$.", "outputFormat": "Your program should print the original words, one per line.\n\nIf there are multiple valid originals, choose the best one in the following order and output that best one:\n\n- Prefer by operation in the order: operation $4$ → operation $1$ → operation $2$ → operation $3$.\n- Within the same operation, prefer the one with the operation position from left to right.\n- For operation $3$ inserting at the same position, inserting $0$ is preferred over inserting $1$.\n\nIf there is no solution, output $-1$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "词编码", "background": null, "description": "一个发送机可以通过一条信道发送一些以 $0$ 和 $1$ 组成的单词。在其尽头的接收机可以使用特殊技术恢复到最初的单词。每个单词最初都由 $0$ 和 $1$ 组成。所有的单词最初长度都为 $n$。当穿过信道之后单词可能发生以下几种情况之一：\n\n1. 任意（一个）$0$ 被 $1$ 取代\n2. 任意（一个）符号被删除\n3. 一个符号（$0$ 或 $1$）被插入到任何位置\n4. 不改变\n\n我们知道最初的单词都具有以下性质：有 $1$ 的位置号的总和是 $n+1$ 的倍数，或者是 $0$。", "inputFormat": "第一行一个正整数 $n\\ (4\\le n\\le 1000)$。\n\n下面若干行（**不一定是 $\\bm n$ 行！**），每行表示一个穿过信道之后的单词，每个单词占一行。\n\n**请读入到输入文件末尾：**\n\n- 对于 C++ 的 `std::cin`，可以使用 `while (std::cin >> s) {/* ... */}` 来实现这一功能，其中 `s` 是 `std::string` 类型的变量。\n- 对于 C/C++ 的 `scanf`，可以使用 `while (scanf(\"%s\", s) == 1) {/* ... */}` 来实现这一功能，其中 `s` 是 `char*` 类型的变量。\n- 对于其他输入函数实现这一功能的方式，请自行查阅文档。\n\n保证单词数不大于 $2001$。", "outputFormat": "你的程序应该打印输出原始序列的词，注意换行。\n\n若有多解，请按以下顺序确定最优解，并输出最优解：\n\n- 按照操作 $4$ $\\to$ 操作 $1$ $\\to$ 操作 $2$ $\\to$ 操作 $3$ 的顺序确定最优解\n- 同一操作中，按操作位置从左到右的顺序确定最优解\n- 对于插入到同一位置的操作 $3$，按插入 $0$ 比插入 $1$ 更优\n\n如果无解则输出 $-1$。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1943", "type": "P", "difficulty": 6, "samples": [["2", "1.50000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "NOI 导刊"], "title": "Local Maxima", "background": "", "description": "给出一个排列。如果其中一个数比它前面的数都大，则称为**局部最大值**（Local Maxima）。\n\n现在问在一个长度为 $n$ 的随机生成的排列中，期望有多少个数为局部最大值。", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "输出一行一个实数表示答案，保留八位小数。", "hint": "长度为 $2$ 的排列共 $2$ 种，为 $(1,2)$ 和 $(2,1)$。前者两个数都为局部最大值，后者仅有第一个数 $2$ 为局部最大值。\n\n\n### 数据范围及约定 \n\n- 对于 $30\\%$ 的数据，$n \\leq 10$；\n- 对于 $80\\%$ 的数据，$n \\leq 10^6$；\n- 对于 $100\\%$ 的数据，$1\\leq n < 2^{31}$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Local Maxima", "background": "", "description": "Given a permutation. If an element is larger than all the elements before it, it is called a \"Local Maxima\".\n\nNow, in a randomly generated permutation of length $n$, find the expected number of elements that are \"Local Maxima\".", "inputFormat": "A single line containing a positive integer $n$.", "outputFormat": "Output a single real number representing the answer, rounded to eight decimal places.", "hint": "There are $2$ permutations of length $2$: $(1, 2)$ and $(2, 1)$. In the former, both numbers are \"Local Maxima\"; in the latter, only the first number $2$ is a \"Local Maxima\".\n\nConstraints\n\n- For $30\\%$ of the testdata, $n \\leq 10$.\n- For $80\\%$ of the testdata, $n \\leq 10^6$.\n- For $100\\%$ of the testdata, $1 \\leq n < 2^{31}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Local Maxima", "background": "", "description": "给出一个排列。如果其中一个数比它前面的数都大，则称为**局部最大值**（Local Maxima）。\n\n现在问在一个长度为 $n$ 的随机生成的排列中，期望有多少个数为局部最大值。", "inputFormat": "一行一个正整数 $n$。\n", "outputFormat": "输出一行一个实数表示答案，保留八位小数。", "hint": "长度为 $2$ 的排列共 $2$ 种，为 $(1,2)$ 和 $(2,1)$。前者两个数都为局部最大值，后者仅有第一个数 $2$ 为局部最大值。\n\n\n### 数据范围及约定 \n\n- 对于 $30\\%$ 的数据，$n \\leq 10$；\n- 对于 $80\\%$ 的数据，$n \\leq 10^6$；\n- 对于 $100\\%$ 的数据，$1\\leq n < 2^{31}$。\n", "locale": "zh-CN"}}}
{"pid": "P1944", "type": "P", "difficulty": 3, "samples": [["([(][()]]()\n", "[()]\n"], ["())[]", "()"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "动态规划 DP", "NOI 导刊"], "title": "最长括号匹配", "background": null, "description": "对一个由 `(`、`)`、`[`、`]` 四种括号组成的字符串，求出其中最长的括号匹配子串。具体来说，满足如下条件的字符串成为括号匹配的字符串：\n\n- `()`、`[]` 是括号匹配的字符串。\n\n- 若 `A` 是括号匹配的串，则 `(A)`、`[A]` 是括号匹配的字符串。\n\n- 若 `A`、`B` 都是括号匹配的字符串，则 `AB` 也是括号匹配的字符串。\n\n例如：`()`、`[]`、`([])`、`()()` 都是括号匹配的字符串，而 `][`、`[(])` 则不是。\n\n字符串 $A$ 的子串是指由 $A$ 中连续若干个字符组成的字符串。\n\n例如，`A`、`B`、`C`、`ABC`、`CAB`、`ABCABC` 都是字符串 `ABCABC` 的子串，而 `D`、`BA`、`ACB` 则不是。空串是任何字符串的子串。", "inputFormat": "输入一行，为一个仅由 `()[]` 组成的非空字符串。", "outputFormat": "输出一行，为最长的括号匹配子串。若有相同长度的子串，输出在原字符串内出现位置靠前的子串。", "hint": "### 数据范围\n\n记 $n$ 为输入字符串的长度。\n\n对于 $20\\%$ 的数据，$n \\le {10}^2$。\n\n对于 $50\\%$ 的数据，$n \\le {10}^4$。\n\n对于 $100\\%$ 的数据，$n \\le {10}^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Longest Bracket-Matching Substring", "background": "", "description": "Given a string consisting of the four brackets `(`, `)`, `[` and `]`, find its longest bracket-matching substring. Specifically, a string is bracket-matching if it satisfies the following conditions:\n\n- `()` and `[]` are bracket-matching strings.\n- If A is a bracket-matching string, then (A) and [A] are bracket-matching strings.\n- If A and B are both bracket-matching strings, then AB is also a bracket-matching string.\n\nFor example: `()`、`[]`、`([])`、`()()` are bracket-matching strings, while `][` and `[(])` are not.\n\nA substring of string $A$ is a string formed by a consecutive block of characters from $A$.\n\nFor example, `A`、`B`、`C`、`ABC`、`CAB`、`ABCABC` are all substrings of the string `ABCABC`, while `D`、`BA`、`ACB` are not. The empty string is a substring of any string.", "inputFormat": "Input consists of one line, a non-empty string composed only of `()[]`.", "outputFormat": "Output one line: the longest bracket-matching substring. If there are multiple substrings with the same length, output the one that appears earlier in the original string.", "hint": "### Constraints\n\nLet $n$ be the length of the input string.\n\nFor $20\\%$ of the testdata, $n \\le {10}^2$.\n\nFor $50\\%$ of the testdata, $n \\le {10}^4$.\n\nFor $100\\%$ of the testdata, $n \\le {10}^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最长括号匹配", "background": null, "description": "对一个由 `(`、`)`、`[`、`]` 四种括号组成的字符串，求出其中最长的括号匹配子串。具体来说，满足如下条件的字符串成为括号匹配的字符串：\n\n- `()`、`[]` 是括号匹配的字符串。\n\n- 若 `A` 是括号匹配的串，则 `(A)`、`[A]` 是括号匹配的字符串。\n\n- 若 `A`、`B` 都是括号匹配的字符串，则 `AB` 也是括号匹配的字符串。\n\n例如：`()`、`[]`、`([])`、`()()` 都是括号匹配的字符串，而 `][`、`[(])` 则不是。\n\n字符串 $A$ 的子串是指由 $A$ 中连续若干个字符组成的字符串。\n\n例如，`A`、`B`、`C`、`ABC`、`CAB`、`ABCABC` 都是字符串 `ABCABC` 的子串，而 `D`、`BA`、`ACB` 则不是。空串是任何字符串的子串。", "inputFormat": "输入一行，为一个仅由 `()[]` 组成的非空字符串。", "outputFormat": "输出一行，为最长的括号匹配子串。若有相同长度的子串，输出在原字符串内出现位置靠前的子串。", "hint": "### 数据范围\n\n记 $n$ 为输入字符串的长度。\n\n对于 $20\\%$ 的数据，$n \\le {10}^2$。\n\n对于 $50\\%$ 的数据，$n \\le {10}^4$。\n\n对于 $100\\%$ 的数据，$n \\le {10}^6$。", "locale": "zh-CN"}}}
{"pid": "P1945", "type": "P", "difficulty": 6, "samples": [["2 3\r\n", "10 0\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "高精度"], "title": "无边的网格", "background": "", "description": "在一个 $R$ 行 $C$ 列的表格中，每个单元格都是正方形。这种表格便被称为“网格”，每个单元格的四个顶点都叫做“格点”。四个顶点都在格点上的正方形叫做“格点正方形”；类似地，三个顶点都在格点上的正三角形叫做“格点正三角形”。\n\n对于给定的正整数 $R$ 和 $C$（$R,C \\le 10$），请计算出网格中格点正方形和格点正三角形的个数。\n\n这种题目 GZH 已经在数学试卷上见得多了。经过浮想联翩、鸟语花香的过程，他认为它与网格问题、计数问题、对称性问题等经典数学题型有异曲同工之妙，可以很方便快捷地解出。但是同时他也发现，一旦 $R$ 和 $C$ 不再满足题中的条件，而是变得很大，计数将会变得枯燥。\n\n当然，聪明的你们对此肯定是喜闻乐见，因为编程在这里又可以派上用处了。\n\n你们能写一个程序来帮 GZH 在这无边的网格中完成枯燥的计数吗？", "inputFormat": "共一行，包含 $2$ 个用单个空格隔开的正整数 $R$ 和 $C$。", "outputFormat": "共一行，包含 $2$ 个用单个空格隔开的整数 $\\mathit{ans}_1$ 和 $\\mathit{ans}_2$，按序表示网格中格点正方形和格点正三角形的个数。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s6aq84is.png)\n\n输入文件表明，要求求出图中的格点正方形个数和格点正三角形个数。\n\n- 格点正方形的个数被分类计数如下：  \n  ![](https://cdn.luogu.com.cn/upload/image_hosting/fb9fn4gw.png)  \n  共十个。\n- 不难发现，所给的网格中找不到格点正三角形。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$R,C \\le 50$；\n- 对于 $50\\%$ 的数据，$R,C \\le 10^3$；\n- 对于 $70\\%$ 的数据，$R,C \\le 10^5$，$\\mathit{ans}_1,\\mathit{ans}_2<2^{63}$；\n- 对于 $90\\%$ 的数据，$R,C \\le 10^{100}$；\n- 对于 $100\\%$ 的数据，$R,C \\le 10^{1000}$。", "locale": "zh-CN", "translations": {"en": {"title": "Boundless Grid", "background": "", "description": "In a table with $R$ rows and $C$ columns, each cell is a square. Such a table is called a \"grid\", and the four vertices of each cell are called \"lattice points\". A square whose four vertices all lie on lattice points is called a \"lattice square\"; similarly, an equilateral triangle whose three vertices all lie on lattice points is called a \"lattice equilateral triangle\".\n\nFor given positive integers $R$ and $C$ ($R,C \\le 10$), please compute the numbers of lattice squares and lattice equilateral triangles in the grid.\n\nGZH has seen this kind of problem many times on math exams. After some daydreaming, he thinks it is akin to classic problem types such as grid problems, counting problems, and symmetry problems, and can be solved quickly. However, he also finds that once $R$ and $C$ no longer satisfy the condition in the statement and become very large, the counting becomes tedious.\n\nOf course, you will be delighted by this, because programming can help here again.\n\nCan you write a program to help GZH complete this tedious counting on this boundless grid?", "inputFormat": "One line containing $2$ positive integers $R$ and $C$ separated by a single space.", "outputFormat": "One line containing $2$ integers $\\mathit{ans}_1$ and $\\mathit{ans}_2$ separated by a single space, representing in order the numbers of lattice squares and lattice equilateral triangles in the grid.", "hint": "### Sample Explanation\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s6aq84is.png)\n\nThe input asks for the numbers of lattice squares and lattice equilateral triangles in the figure.\n\n- The number of lattice squares is counted as follows:  \n  ![](https://cdn.luogu.com.cn/upload/image_hosting/fb9fn4gw.png)  \n  There are ten in total.\n- It is not hard to see that no lattice equilateral triangle can be found in the given grid.\n\n### Constraints and Notes\n\n- For $30\\%$ of the testdata, $R,C \\le 50$.\n- For $50\\%$ of the testdata, $R,C \\le 10^3$.\n- For $70\\%$ of the testdata, $R,C \\le 10^5$, $\\mathit{ans}_1,\\mathit{ans}_2<2^{63}$.\n- For $90\\%$ of the testdata, $R,C \\le 10^{100}$.\n- For $100\\%$ of the testdata, $R,C \\le 10^{1000}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "无边的网格", "background": "", "description": "在一个 $R$ 行 $C$ 列的表格中，每个单元格都是正方形。这种表格便被称为“网格”，每个单元格的四个顶点都叫做“格点”。四个顶点都在格点上的正方形叫做“格点正方形”；类似地，三个顶点都在格点上的正三角形叫做“格点正三角形”。\n\n对于给定的正整数 $R$ 和 $C$（$R,C \\le 10$），请计算出网格中格点正方形和格点正三角形的个数。\n\n这种题目 GZH 已经在数学试卷上见得多了。经过浮想联翩、鸟语花香的过程，他认为它与网格问题、计数问题、对称性问题等经典数学题型有异曲同工之妙，可以很方便快捷地解出。但是同时他也发现，一旦 $R$ 和 $C$ 不再满足题中的条件，而是变得很大，计数将会变得枯燥。\n\n当然，聪明的你们对此肯定是喜闻乐见，因为编程在这里又可以派上用处了。\n\n你们能写一个程序来帮 GZH 在这无边的网格中完成枯燥的计数吗？", "inputFormat": "共一行，包含 $2$ 个用单个空格隔开的正整数 $R$ 和 $C$。", "outputFormat": "共一行，包含 $2$ 个用单个空格隔开的整数 $\\mathit{ans}_1$ 和 $\\mathit{ans}_2$，按序表示网格中格点正方形和格点正三角形的个数。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s6aq84is.png)\n\n输入文件表明，要求求出图中的格点正方形个数和格点正三角形个数。\n\n- 格点正方形的个数被分类计数如下：  \n  ![](https://cdn.luogu.com.cn/upload/image_hosting/fb9fn4gw.png)  \n  共十个。\n- 不难发现，所给的网格中找不到格点正三角形。\n\n### 数据范围及约定\n\n- 对于 $30\\%$ 的数据，$R,C \\le 50$；\n- 对于 $50\\%$ 的数据，$R,C \\le 10^3$；\n- 对于 $70\\%$ 的数据，$R,C \\le 10^5$，$\\mathit{ans}_1,\\mathit{ans}_2<2^{63}$；\n- 对于 $90\\%$ 的数据，$R,C \\le 10^{100}$；\n- 对于 $100\\%$ 的数据，$R,C \\le 10^{1000}$。", "locale": "zh-CN"}}}
{"pid": "P1946", "type": "P", "difficulty": 5, "samples": [["3\r\n1 1 1\r\n0 1 2\r\n2 1 0", "1 1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "NOI 导刊"], "title": "Olympic", "background": "", "description": "奥运会正在如火如荼的进行着，金牌榜上也有许多队伍需要排名。你需要选择三个整数 $P_g,P_s$ 和 $P_b$，分别表示每获得一块金、银、铜牌所对应得分。并且满足 $1000 \\ge P_g \\ge P_s \\ge P_b \\ge 1$。队伍将依据他们获得的分数进行排序（高分在前）。现在，为了使你所在的队伍排名尽可能的靠前，由你来选择 $P_g,P_s,P_b$。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 15)$，表示有 $n$ 支队伍进行排名。\n\n以下 $n$ 行，每行三个整数 $G,S,B\\ (0\\le G,S,B\\le 10^5)$，表示每只队伍获得的金、银、铜牌个数。\n\n\n1. 第一支队伍即为你所在的队伍；\n2. 分数相同时，你所在的队伍排名为最前。", "outputFormat": "一行输出三个数 $P_g,P_s,P_b$，中间用空格隔开。\n\n若有多组解，则输出 $P_g$ 最小的解，若仍有多组，则输出 $P_s$ 最小的解，若还有多组解，输出 $P_b$ 最小的解。", "hint": "### 数据范围\n\n- 对于 $10\\%$ 的数据，保证最优解的 $P_g \\le 10$；\n- 对于 $30\\%$ 的数据，保证最优解的 $P_g \\le 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Olympic", "background": "", "description": "The Olympic Games are in full swing, and many teams on the medal table need to be ranked. You need to choose three integers $P_g, P_s$ and $P_b$, representing the score awarded for each gold, silver, and bronze medal, respectively, and they must satisfy $1000 \\ge P_g \\ge P_s \\ge P_b \\ge 1$. Teams will be sorted by their scores in descending order. Now, to make your own team rank as high as possible, you will choose $P_g, P_s, P_b$.", "inputFormat": "The first line contains an integer $n$ ($1 \\le n \\le 15$), indicating that there are $n$ teams to be ranked.\n\nEach of the following $n$ lines contains three integers $G, S, B$ ($0 \\le G, S, B \\le 10^5$), representing the numbers of gold, silver, and bronze medals obtained by each team.\n\n- The first team is your team.\n- If the scores are equal, your team ranks first.", "outputFormat": "Output three numbers $P_g, P_s, P_b$ in one line, separated by spaces.\n\nIf there are multiple solutions, output the one with the smallest $P_g$. If there are still multiple solutions, output the one with the smallest $P_s$. If there are still multiple solutions, output the one with the smallest $P_b$.", "hint": "### Constraints\n\n- For $10\\%$ of the testdata, it is guaranteed that the optimal solution has $P_g \\le 10$.\n- For $30\\%$ of the testdata, it is guaranteed that the optimal solution has $P_g \\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Olympic", "background": "", "description": "奥运会正在如火如荼的进行着，金牌榜上也有许多队伍需要排名。你需要选择三个整数 $P_g,P_s$ 和 $P_b$，分别表示每获得一块金、银、铜牌所对应得分。并且满足 $1000 \\ge P_g \\ge P_s \\ge P_b \\ge 1$。队伍将依据他们获得的分数进行排序（高分在前）。现在，为了使你所在的队伍排名尽可能的靠前，由你来选择 $P_g,P_s,P_b$。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 15)$，表示有 $n$ 支队伍进行排名。\n\n以下 $n$ 行，每行三个整数 $G,S,B\\ (0\\le G,S,B\\le 10^5)$，表示每只队伍获得的金、银、铜牌个数。\n\n\n1. 第一支队伍即为你所在的队伍；\n2. 分数相同时，你所在的队伍排名为最前。", "outputFormat": "一行输出三个数 $P_g,P_s,P_b$，中间用空格隔开。\n\n若有多组解，则输出 $P_g$ 最小的解，若仍有多组，则输出 $P_s$ 最小的解，若还有多组解，输出 $P_b$ 最小的解。", "hint": "### 数据范围\n\n- 对于 $10\\%$ 的数据，保证最优解的 $P_g \\le 10$；\n- 对于 $30\\%$ 的数据，保证最优解的 $P_g \\le 100$。\n", "locale": "zh-CN"}}}
{"pid": "P1947", "type": "P", "difficulty": 2, "samples": [["5 5 3", "3 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["二分", "交互题", "Special Judge", "O2优化"], "title": "猜数", "background": "这是一道**交互题**。", "description": "珂愛给了你一个 $[1,n]$ 之间的整数 $k$，你每次可以询问一个整数 $x$，然后珂愛会告诉你 $x$ 和 $k$ 的大小关系。\n\n你需要用尽可能少的次数猜出珂愛想的数。\n\n你需要实现一个函数 `int Chtholly(int n,int c)`，这个函数的作用是在不超过 $c$ 次询问中猜对 $[1,n]$ 中的一个数，返回值为你最终确定的数。\n\n你可以调用交互库中一个叫做 `Seniorious` 的函数，其原型为 `int Seniorious(int x)`，返回值为：\n\n- 若 $k\\lt x$，则返回 $1$。\n- 若 $k\\gt x$，则返回 $-1$。\n- 若 $k=x$，则返回 $0$。\n\n你调用 `Seniorious` 函数的次数不超过 $c$ 才能得到这个点的分数，否则这个点为 $0$ 分。有关该函数的调用请参考【说明/提示】部分。\n\n由于珂愛只会写 C++ 语言的交互库，所以你只能使用 C++ 语言（包括 C++，C++11，C++14，C++17，C++20，C++23）来解决本题。", "inputFormat": "样例输入中三个数分别为 $n,c,k$。这些数据你都**无法读取**。", "outputFormat": "样例输出中第一个数是你猜的 $k$，第二个数是你调用 `Seniorious` 函数的次数。这些数据你**不必输出**。", "hint": "#### 样例解释\n\n你要猜的 $k$ 为 $3$。\n\n由于你和珂愛心灵相通，所以在没有调用 `Seniorious` 的情况下就猜出来了。\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $c=n-1$。\n- 对于 $100\\%$ 的数据，保证 $2\\leq n\\leq 10^6$，$\\min(20,n-1)\\leq c\\leq n$。\n\n#### 提示\n\n[关于交互题](https://help.luogu.com.cn/manual/luogu/problem/interactive-problems)。\n\n样例交互库源代码：\n```cpp\n#include <cstdio>\n#include <iostream>\n\nint k, cnt;\n\nextern \"C\" {\n  extern int Chtholly(int n, int c);\n\t\n  extern int Seniorious(int x) {\n    const int lim = 3000000;\n    if(++cnt > lim) cnt = lim;\n    return (k < x) ? 1 : ((k == x) ? 0 : -1);\n  }\n  \n}\nint main() {\n  int n, c;\n  std::cin >> n >> c >> k;\n  int OvO = Chtholly(n, c);\n  std::cout << OvO << ' ' << cnt << std::endl;\n  return 0;\n}\n```\n**注意，此交互库仅供测试样例使用，实际评测时的交互库此交互库不同**。\n\n如果您不知道如何在本地调试您的代码，请参考[这篇文章](https://www.luogu.com.cn/blog/fusu2333/solution-p1947)。\n\n请特别注意，你的答案应该作为函数的返回值给出，**你不需要，也不应该向标准输出输出任何内容，否则将无法获得分数**。\n\n如果有需要，你可以在选手程序的开头加入一些头文件，当然在本题中这并不是必须的。\n\n交互库给出的函数 `Seniorious` 无法直接调用，需要在选手程序中用 `extern \"C\"` 关键字声明一次。\n\n下面给出本题的模板程序（请不要使用 gcc9 提交）：\n\n```cpp\n#include <cstdio>                         // 在本题中并不是必须的\n\nextern \"C\" int Seniorious(int);           // 在这里需要声明一次交互库给出的函数。\n\nextern \"C\" int Chtholly(int n, int OvO) { // 在这里实现交互库要求你实现的函数。\n  int ans = 1;\n  for (int l = 1, r = n, mid = (l + r) >> 1; l <= r; mid = (l + r) >> 1) if (Seniorious(mid) >= 0) {\n    r = (ans = mid) - 1;\n  } else {\n    l = mid + 1;\n  }\n  return ans;\n}\n```", "locale": "zh-CN", "translations": {"zh-CN": {"title": "猜数", "background": "这是一道**交互题**。", "description": "珂愛给了你一个 $[1,n]$ 之间的整数 $k$，你每次可以询问一个整数 $x$，然后珂愛会告诉你 $x$ 和 $k$ 的大小关系。\n\n你需要用尽可能少的次数猜出珂愛想的数。\n\n你需要实现一个函数 `int Chtholly(int n,int c)`，这个函数的作用是在不超过 $c$ 次询问中猜对 $[1,n]$ 中的一个数，返回值为你最终确定的数。\n\n你可以调用交互库中一个叫做 `Seniorious` 的函数，其原型为 `int Seniorious(int x)`，返回值为：\n\n- 若 $k\\lt x$，则返回 $1$。\n- 若 $k\\gt x$，则返回 $-1$。\n- 若 $k=x$，则返回 $0$。\n\n你调用 `Seniorious` 函数的次数不超过 $c$ 才能得到这个点的分数，否则这个点为 $0$ 分。有关该函数的调用请参考【说明/提示】部分。\n\n由于珂愛只会写 C++ 语言的交互库，所以你只能使用 C++ 语言（包括 C++，C++11，C++14，C++17，C++20，C++23）来解决本题。", "inputFormat": "样例输入中三个数分别为 $n,c,k$。这些数据你都**无法读取**。", "outputFormat": "样例输出中第一个数是你猜的 $k$，第二个数是你调用 `Seniorious` 函数的次数。这些数据你**不必输出**。", "hint": "#### 样例解释\n\n你要猜的 $k$ 为 $3$。\n\n由于你和珂愛心灵相通，所以在没有调用 `Seniorious` 的情况下就猜出来了。\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $c=n-1$。\n- 对于 $100\\%$ 的数据，保证 $2\\leq n\\leq 10^6$，$\\min(20,n-1)\\leq c\\leq n$。\n\n#### 提示\n\n[关于交互题](https://help.luogu.com.cn/manual/luogu/problem/interactive-problems)。\n\n样例交互库源代码：\n```cpp\n#include <cstdio>\n#include <iostream>\n\nint k, cnt;\n\nextern \"C\" {\n  extern int Chtholly(int n, int c);\n\t\n  extern int Seniorious(int x) {\n    const int lim = 3000000;\n    if(++cnt > lim) cnt = lim;\n    return (k < x) ? 1 : ((k == x) ? 0 : -1);\n  }\n  \n}\nint main() {\n  int n, c;\n  std::cin >> n >> c >> k;\n  int OvO = Chtholly(n, c);\n  std::cout << OvO << ' ' << cnt << std::endl;\n  return 0;\n}\n```\n**注意，此交互库仅供测试样例使用，实际评测时的交互库此交互库不同**。\n\n如果您不知道如何在本地调试您的代码，请参考[这篇文章](https://www.luogu.com.cn/blog/fusu2333/solution-p1947)。\n\n请特别注意，你的答案应该作为函数的返回值给出，**你不需要，也不应该向标准输出输出任何内容，否则将无法获得分数**。\n\n如果有需要，你可以在选手程序的开头加入一些头文件，当然在本题中这并不是必须的。\n\n交互库给出的函数 `Seniorious` 无法直接调用，需要在选手程序中用 `extern \"C\"` 关键字声明一次。\n\n下面给出本题的模板程序（请不要使用 gcc9 提交）：\n\n```cpp\n#include <cstdio>                         // 在本题中并不是必须的\n\nextern \"C\" int Seniorious(int);           // 在这里需要声明一次交互库给出的函数。\n\nextern \"C\" int Chtholly(int n, int OvO) { // 在这里实现交互库要求你实现的函数。\n  int ans = 1;\n  for (int l = 1, r = n, mid = (l + r) >> 1; l <= r; mid = (l + r) >> 1) if (Seniorious(mid) >= 0) {\n    r = (ans = mid) - 1;\n  } else {\n    l = mid + 1;\n  }\n  return ans;\n}\n```", "locale": "zh-CN"}}}
{"pid": "P1948", "type": "P", "difficulty": 4, "samples": [["5 7 1\n1 2 5\n3 1 4\n2 4 8\n3 2 3\n5 2 9\n3 4 7\n4 5 6\n", "4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "2008", "二分", "USACO", "NOI 导刊", "广度优先搜索 BFS", "最短路"], "title": "[USACO08JAN] Telephone Lines S", "background": null, "description": "多年以后，笨笨长大了，成为了电话线布置师。由于地震使得某市的电话线全部损坏，笨笨是负责接到震中市的负责人。该市周围分布着 $n$（$1\\le n\\le10^3$）根按 $1\\sim n$ 顺序编号的废弃的电话线杆，任意两根线杆之间没有电话线连接，一共有 $p$（$1\\le p\\le10^4$）对电话杆可以拉电话线。其他的由于地震使得无法连接。\n\n第 $i$ 对电线杆的两个端点分别是 $a_i,b_i$，它们的距离为 $l_i$（$1\\le l_i\\le10^6$）。数据中每对 $(a_i,b_i)$ 只出现一次。编号为 $1$ 的电话杆已经接入了全国的电话网络，整个市的电话线全都连到了编号 $n$ 的电话线杆上。也就是说，笨笨的任务仅仅是找一条将 $1$ 号和 $n$ 号电线杆连起来的路径，其余的电话杆并不一定要连入电话网络。\n\n电信公司决定支援灾区免费为此市连接 $k$ （$1\\le k\\le p$）对由笨笨指定的电话线杆，对于额外的那些电话线，需要为它们付费，总费用决定于其中最长的电话线的长度（每根电话线仅连接一对电话线杆）。如果需要连接的电话线杆不超过 $k$ 对，那么支出为 $0$。\n\n请你计算一下，将电话线引导震中市最少需要在电话线上花多少钱？", "inputFormat": "输入文件的第一行包含三个数字 $n,p,k$。\n\n第二行到第 $p+1$ 行，每行分别都为三个整数 $a_i,b_i,l_i$。", "outputFormat": "一个整数，表示该项工程的最小支出，如果不可能完成则输出 $-1$。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[USACO08JAN] Telephone Lines S", "background": "", "description": "Years later, Benben (pinyin) grew up to become a telephone line installer. An earthquake destroyed all the city's telephone lines, and Benben is responsible for connecting the city at the epicenter. Around the city there are $n$ ($1 \\le n \\le 10^3$) abandoned telephone poles labeled $1$ through $n$. There are no existing lines between any pair of poles. In total, there are $p$ ($1 \\le p \\le 10^4$) pairs of poles that can be connected; all other pairs cannot be connected due to the earthquake.\n\nFor the $i$-th connectable pair, the endpoints are $a_i, b_i$, and the distance (line length) is $l_i$ ($1 \\le l_i \\le 10^6$). Each pair $(a_i, b_i)$ appears at most once in the data. Pole $1$ is already connected to the national telephone network, and the entire city's network is concentrated at pole $n$. In other words, Benben only needs to find a path that connects pole $1$ to pole $n$; the other poles do not need to be connected to the network.\n\nThe telecom company will support the disaster area by connecting up to $k$ ($1 \\le k \\le p$) pairs of poles designated by Benben for free. For any additional lines used on the chosen path, payment is required, and the total cost is determined by the longest length among those paid lines (each line connects exactly one pair of poles). If the chosen path uses at most $k$ lines, then the total cost is $0$.\n\nPlease compute the minimum amount of money needed to connect the city at the epicenter.", "inputFormat": "The first line contains three integers $n, p, k$.\n\nEach of the next $p$ lines contains three integers $a_i, b_i, l_i$.", "outputFormat": "Output a single integer: the minimum total cost of the project. If it is impossible to complete, output $-1$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO08JAN] Telephone Lines S", "background": null, "description": "多年以后，笨笨长大了，成为了电话线布置师。由于地震使得某市的电话线全部损坏，笨笨是负责接到震中市的负责人。该市周围分布着 $n$（$1\\le n\\le10^3$）根按 $1\\sim n$ 顺序编号的废弃的电话线杆，任意两根线杆之间没有电话线连接，一共有 $p$（$1\\le p\\le10^4$）对电话杆可以拉电话线。其他的由于地震使得无法连接。\n\n第 $i$ 对电线杆的两个端点分别是 $a_i,b_i$，它们的距离为 $l_i$（$1\\le l_i\\le10^6$）。数据中每对 $(a_i,b_i)$ 只出现一次。编号为 $1$ 的电话杆已经接入了全国的电话网络，整个市的电话线全都连到了编号 $n$ 的电话线杆上。也就是说，笨笨的任务仅仅是找一条将 $1$ 号和 $n$ 号电线杆连起来的路径，其余的电话杆并不一定要连入电话网络。\n\n电信公司决定支援灾区免费为此市连接 $k$ （$1\\le k\\le p$）对由笨笨指定的电话线杆，对于额外的那些电话线，需要为它们付费，总费用决定于其中最长的电话线的长度（每根电话线仅连接一对电话线杆）。如果需要连接的电话线杆不超过 $k$ 对，那么支出为 $0$。\n\n请你计算一下，将电话线引导震中市最少需要在电话线上花多少钱？", "inputFormat": "输入文件的第一行包含三个数字 $n,p,k$。\n\n第二行到第 $p+1$ 行，每行分别都为三个整数 $a_i,b_i,l_i$。", "outputFormat": "一个整数，表示该项工程的最小支出，如果不可能完成则输出 $-1$。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1949", "type": "P", "difficulty": 4, "samples": [["123456 654321", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2001", "NOI", "广度优先搜索 BFS", "剪枝", "哈希 hashing"], "title": "[NOI2001] 聪明的打字员", "background": null, "description": "阿兰是某机密部门的打字员，她现在接到一个任务：需要在一天之内输入几百个长度固定为 $6$ 的密码。当然，她希望输入的过程中敲击键盘的总次数越少越好。\n\n不幸的是，出于保密的需要，该部门用于输入密码的键盘是特殊设计的，键盘上没有数字键，而只有以下六个键：`swap0`，`swap1`，`up`，`down`，`left`，`right`。为了说明这 $6$ 个键的作用，我们先定义录入区的 $6$ 个位置的编号，从左至右依次为 $1,2,3,4,5,6$。下面列出每个键的作用：\n\n- `swap0`：按 `swap0`，光标位置不变，将光标所在的位置的数字与录入区的 $1$ 号位置的数字（左起第一个数字）交换。如果光标已经处在录入区的 $1$ 号位置，则按 `swap0` 键之后录入区的数字不变。\n\n- `swap1`：按 `swap1`，光标位置不变，将光标所在位置的数字与录入区的 $6$ 号位置的数字（左起第六个数字）交换。如果光标已经处在录入区的 $6$ 号位置，则按 `swap1` 键之后录入区的数字不变。\n\n- `up`：按 `up`，光标位置不变，将光标所在位置的数字加 $1$（除非该数字是 $9$）。例如，如果光标所在位置的数字为 $2$，按 `up` 之后，该处的数字变为 $3$；如果光标所在位置的数字为 $9$，按 `up` 之后，该处的数字不变，光标位置也不变；\n\n- `down`：按 `down`，光标位置不变，将光标所在位置的数字减 $1$（除非该数字是 $0$）。如果光标所在位置的数字为 $0$，按 `down` 之后，该处的数字不变，光标位置也不变；\n\n- `left`：按 `left`，光标左移一个位置，如果光标已在录入区的 $1$ 号位置（左起第一个位置）上，则光标不动；\n\n- `right`：按 `right`，光标右移一个位置，如果光标已在录入区的 $6$ 号位置（左起第六个位置）上，则光标不动；\n\n当然，为了使这样的键盘发挥作用，每次录入密码之前，录入区总会随机出现一个长度为 $6$ 的初始密码，而且光标会固定出现在 $1$ 号位置上。当巧妙的使用上述六个特殊键之后，可以得到目标密码，这时光标允许停留在任何一个位置。\n\n现在，阿兰需要你的帮助，编写一个程序，求出录入一个密码需要的最少的击键次数。", "inputFormat": "仅一行，含有两个长度为 $6$ 的数，前者为初始密码，后者为目标密码，两个密码之间用一个空格隔开。", "outputFormat": "仅一行，含有一个正整数，为最少需要的击键次数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[NOI2001] The Clever Typist", "background": "", "description": "Alan is a typist in a confidential department. She now receives a task: she needs to enter several hundred passwords, each of fixed length $6$, within one day. Of course, she wants the total number of keystrokes during input to be as few as possible.\n\nUnfortunately, for confidentiality reasons, the keyboard used to enter passwords is specially designed. There are no numeric keys, only the following six keys: `swap0`, `swap1`, `up`, `down`, `left`, `right`. To explain the functions of these $6$ keys, we first number the $6$ positions in the input area from left to right as $1,2,3,4,5,6$. The functions of each key are listed below:\n\n- `swap0`: Pressing `swap0` keeps the cursor position unchanged and swaps the digit at the cursor with the digit at position $1$ (the leftmost digit) in the input area. If the cursor is already at position $1$, then after pressing `swap0` the digits in the input area remain unchanged.\n\n- `swap1`: Pressing `swap1` keeps the cursor position unchanged and swaps the digit at the cursor with the digit at position $6$ (the sixth digit from the left) in the input area. If the cursor is already at position $6$, then after pressing `swap1` the digits in the input area remain unchanged.\n\n- `up`: Pressing `up` keeps the cursor position unchanged and increases the digit at the cursor by $1$ (unless the digit is $9$). For example, if the digit at the cursor is $2$, after pressing `up`, it becomes $3$; if the digit at the cursor is $9$, after pressing `up`, it remains unchanged, and the cursor position also remains unchanged.\n\n- `down`: Pressing `down` keeps the cursor position unchanged and decreases the digit at the cursor by $1$ (unless the digit is $0$). If the digit at the cursor is $0$, after pressing `down`, it remains unchanged, and the cursor position also remains unchanged.\n\n- `left`: Pressing `left` moves the cursor one position to the left. If the cursor is already at position $1$ (the first position from the left), the cursor does not move.\n\n- `right`: Pressing `right` moves the cursor one position to the right. If the cursor is already at position $6$ (the sixth position from the left), the cursor does not move.\n\nTo make such a keyboard useful, before each password is entered, a random initial password of length $6$ will appear in the input area, and the cursor will be fixed at position $1$. By cleverly using the six special keys above, the target password can be obtained, and at that time the cursor is allowed to stay at any position.\n\nNow Alan needs your help. Write a program to compute the minimum number of keystrokes required to enter one password.", "inputFormat": "A single line containing two numbers of length $6$: the first is the initial password, and the second is the target password, separated by a single space.", "outputFormat": "A single line containing a positive integer, the minimum number of keystrokes required.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2001] 聪明的打字员", "background": null, "description": "阿兰是某机密部门的打字员，她现在接到一个任务：需要在一天之内输入几百个长度固定为 $6$ 的密码。当然，她希望输入的过程中敲击键盘的总次数越少越好。\n\n不幸的是，出于保密的需要，该部门用于输入密码的键盘是特殊设计的，键盘上没有数字键，而只有以下六个键：`swap0`，`swap1`，`up`，`down`，`left`，`right`。为了说明这 $6$ 个键的作用，我们先定义录入区的 $6$ 个位置的编号，从左至右依次为 $1,2,3,4,5,6$。下面列出每个键的作用：\n\n- `swap0`：按 `swap0`，光标位置不变，将光标所在的位置的数字与录入区的 $1$ 号位置的数字（左起第一个数字）交换。如果光标已经处在录入区的 $1$ 号位置，则按 `swap0` 键之后录入区的数字不变。\n\n- `swap1`：按 `swap1`，光标位置不变，将光标所在位置的数字与录入区的 $6$ 号位置的数字（左起第六个数字）交换。如果光标已经处在录入区的 $6$ 号位置，则按 `swap1` 键之后录入区的数字不变。\n\n- `up`：按 `up`，光标位置不变，将光标所在位置的数字加 $1$（除非该数字是 $9$）。例如，如果光标所在位置的数字为 $2$，按 `up` 之后，该处的数字变为 $3$；如果光标所在位置的数字为 $9$，按 `up` 之后，该处的数字不变，光标位置也不变；\n\n- `down`：按 `down`，光标位置不变，将光标所在位置的数字减 $1$（除非该数字是 $0$）。如果光标所在位置的数字为 $0$，按 `down` 之后，该处的数字不变，光标位置也不变；\n\n- `left`：按 `left`，光标左移一个位置，如果光标已在录入区的 $1$ 号位置（左起第一个位置）上，则光标不动；\n\n- `right`：按 `right`，光标右移一个位置，如果光标已在录入区的 $6$ 号位置（左起第六个位置）上，则光标不动；\n\n当然，为了使这样的键盘发挥作用，每次录入密码之前，录入区总会随机出现一个长度为 $6$ 的初始密码，而且光标会固定出现在 $1$ 号位置上。当巧妙的使用上述六个特殊键之后，可以得到目标密码，这时光标允许停留在任何一个位置。\n\n现在，阿兰需要你的帮助，编写一个程序，求出录入一个密码需要的最少的击键次数。", "inputFormat": "仅一行，含有两个长度为 $6$ 的数，前者为初始密码，后者为目标密码，两个密码之间用一个空格隔开。", "outputFormat": "仅一行，含有一个正整数，为最少需要的击键次数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1950", "type": "P", "difficulty": 4, "samples": [["6 4\n....\n.***\n.*..\n.***\n...*\n.***", "38"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "NOI 导刊", "单调栈"], "title": "长方形", "background": null, "description": "小明今天突发奇想，想从一张用过的纸中剪出一个长方形。\n\n为了简化问题，小明做出如下规定：\n\n（1）这张纸的长宽分别为 $n,m$。小明将这张纸看成是由 $n\\times m$ 个格子组成，在剪的时候，只能沿着格子的边缘剪。\n\n（2）这张纸有些地方小明以前在上面画过，剪出来的长方形不能含有以前画过的地方。\n\n（3）剪出来的长方形的大小没有限制。\n\n小明看着这张纸，想了好多种剪的方法，可是到底有几种呢？小明数不过来，你能帮帮他吗？", "inputFormat": "第一行两个正整数 $n,m$，表示这张纸的长度和宽度。\n\n接下来有 $n$ 行，每行 $m$ 个字符，每个字符为 `*` 或者 `.`。\n\n字符 `*` 表示以前在这个格子上画过，字符 `.` 表示以前在这个格子上没画过。", "outputFormat": "仅一个整数，表示方案数。", "hint": "【数据规模】\n\n对 $10\\%$ 的数据，满足 $1\\leq n\\leq 10,1\\leq m\\leq 10$\n\n对 $30\\%$ 的数据，满足 $1\\leq n\\leq 50,1\\leq m\\leq 50$\n\n对 $100\\%$ 的数据，满足 $1\\leq n\\leq 1000,1\\leq m\\leq 1000$", "locale": "zh-CN", "translations": {"en": {"title": "Rectangle", "background": "", "description": "Xiao Ming had a sudden idea today: he wants to cut out a rectangle from a used sheet of paper.\n\nTo simplify the problem, Xiao Ming makes the following rules:\n\n(1) The paper’s length and width are $n,m$. Xiao Ming views this sheet as consisting of $n\\times m$ cells, and when cutting, he can only cut along the edges of the cells.\n\n(2) There are some places on this paper that Xiao Ming drew on before; the cut-out rectangle cannot contain any previously drawn places.\n\n(3) There is no restriction on the size of the rectangle.\n\nXiao Ming looks at this sheet and comes up with many ways to cut it, but how many ways are there exactly? He cannot count them all. Can you help him?", "inputFormat": "The first line contains two positive integers $n,m$, representing the length and width of the sheet.\n\nThen there are $n$ lines, each with $m$ characters. Each character is either `*` or `.`.\n\nThe character `*` means this cell was drawn on before, and the character `.` means this cell was not drawn on before.", "outputFormat": "Output a single integer, the number of ways.", "hint": "Constraints\n\nFor $10\\%$ of the testdata, $1\\leq n\\leq 10,1\\leq m\\leq 10$.\n\nFor $30\\%$ of the testdata, $1\\leq n\\leq 50,1\\leq m\\leq 50$.\n\nFor $100\\%$ of the testdata, $1\\leq n\\leq 1000,1\\leq m\\leq 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "长方形", "background": null, "description": "小明今天突发奇想，想从一张用过的纸中剪出一个长方形。\n\n为了简化问题，小明做出如下规定：\n\n（1）这张纸的长宽分别为 $n,m$。小明将这张纸看成是由 $n\\times m$ 个格子组成，在剪的时候，只能沿着格子的边缘剪。\n\n（2）这张纸有些地方小明以前在上面画过，剪出来的长方形不能含有以前画过的地方。\n\n（3）剪出来的长方形的大小没有限制。\n\n小明看着这张纸，想了好多种剪的方法，可是到底有几种呢？小明数不过来，你能帮帮他吗？", "inputFormat": "第一行两个正整数 $n,m$，表示这张纸的长度和宽度。\n\n接下来有 $n$ 行，每行 $m$ 个字符，每个字符为 `*` 或者 `.`。\n\n字符 `*` 表示以前在这个格子上画过，字符 `.` 表示以前在这个格子上没画过。", "outputFormat": "仅一个整数，表示方案数。", "hint": "【数据规模】\n\n对 $10\\%$ 的数据，满足 $1\\leq n\\leq 10,1\\leq m\\leq 10$\n\n对 $30\\%$ 的数据，满足 $1\\leq n\\leq 50,1\\leq m\\leq 50$\n\n对 $100\\%$ 的数据，满足 $1\\leq n\\leq 1000,1\\leq m\\leq 1000$", "locale": "zh-CN"}}}
{"pid": "P1951", "type": "P", "difficulty": 6, "samples": [["10\n2\n5\n11\n23\n101\n64\n128\n114514\n1919810\n1145141919810", "6\n120\n1320\n12144\n1030200\n196608\n1572864\n173069674\n546691096\n761755430"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["群论", "线性代数", "2077"], "title": "[Aboi 2077] SL2(Z/NZ)", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/gdzfpiv1.png)", "description": "求模 $N$ 意义下行列式为 $1$ 的 $2\\times2$ 矩阵数量。\n\n即：\n$$\n\\sum_{a=0}^{N-1}\\sum_{b=0}^{N-1}\\sum_{c=0}^{N-1}\\sum_{d=0}^{N-1}[ad-bc\\equiv1\\ (\\bmod\\ N)]\n$$", "inputFormat": "多组数据，第一行一个正整数 $T$ 表示数据组数。\n\n之后 $T$ 行，每行一个正整数 $N$，表示该组数据的模数。", "outputFormat": "对于每组数据，输出答案模 $998244353$ 的值。", "hint": "| 子任务编号 | $N$ | 分值 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $\\le50$ | $10$ |\n| $2$ | $\\le200$ | $10$ |\n| $3$ | $\\le10^3$ | $20$ |\n| $4$ | $\\le10^6$ | $20$ |\n| $5$ | $\\le10^9$ | $20$ |\n| $6$ | $\\le10^{18}$ | $20$ |\n\n\n对于所有数据，$1\\le T\\le10$，$1\\le N\\le10^{18}$。", "locale": "zh-CN", "translations": {"en": {"title": "[Aboi 2077] SL2(Z/NZ)", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/gdzfpiv1.png)", "description": "Count the number of $2 \\times 2$ matrices with determinant equal to $1$ modulo $N$.\n\nThat is:\n$$\n\\sum_{a=0}^{N-1}\\sum_{b=0}^{N-1}\\sum_{c=0}^{N-1}\\sum_{d=0}^{N-1}[ad-bc\\equiv1\\ (\\bmod\\ N)]\n$$", "inputFormat": "Multiple test cases. The first line contains a positive integer $T$ indicating the number of test cases.\n\nThen $T$ lines follow, each containing a positive integer $N$, the modulus for that test.", "outputFormat": "For each test case, output the answer modulo $998244353$.", "hint": "| Subtask ID | $N$ | Score |\n| :-----------: | :-----------: | :-----------: |\n| 1 | $\\le 50$ | 10 |\n| 2 | $\\le 200$ | 10 |\n| 3 | $\\le 10^3$ | 20 |\n| 4 | $\\le 10^6$ | 20 |\n| 5 | $\\le 10^9$ | 20 |\n| 6 | $\\le 10^{18}$ | 20 |\n\nFor all testdata, $1 \\le T \\le 10$, $1 \\le N \\le 10^{18}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[Aboi 2077] SL2(Z/NZ)", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/gdzfpiv1.png)", "description": "求模 $N$ 意义下行列式为 $1$ 的 $2\\times2$ 矩阵数量。\n\n即：\n$$\n\\sum_{a=0}^{N-1}\\sum_{b=0}^{N-1}\\sum_{c=0}^{N-1}\\sum_{d=0}^{N-1}[ad-bc\\equiv1\\ (\\bmod\\ N)]\n$$", "inputFormat": "多组数据，第一行一个正整数 $T$ 表示数据组数。\n\n之后 $T$ 行，每行一个正整数 $N$，表示该组数据的模数。", "outputFormat": "对于每组数据，输出答案模 $998244353$ 的值。", "hint": "| 子任务编号 | $N$ | 分值 |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $\\le50$ | $10$ |\n| $2$ | $\\le200$ | $10$ |\n| $3$ | $\\le10^3$ | $20$ |\n| $4$ | $\\le10^6$ | $20$ |\n| $5$ | $\\le10^9$ | $20$ |\n| $6$ | $\\le10^{18}$ | $20$ |\n\n\n对于所有数据，$1\\le T\\le10$，$1\\le N\\le10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P1952", "type": "P", "difficulty": 2, "samples": [["20\n1234567890\nabcdefghij\n", "bdfi02467j"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "NOI 导刊"], "title": "火星上的加法运算", "background": null, "description": "最近欢欢看到一本有关火星的书籍，其中她被一个加法运算所困惑，由于她的运算水平有限.她想向你求助，作为一位优秀的程序员，你当然不会拒绝。", "inputFormat": "第一行先输入一个运算的进制 $N\\left(2 \\le N \\le 36\\right)$ 。接下来两行为需要进行运算的字符，其中每个字符串的长度不超过 $200$ 位，其为 N 进制的数。其中包括 $0$ 到 $9$ 及 a 到 z（代表 $10$ 到 $35$ ）。", "outputFormat": "在 N 进制下它们的和。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Addition on Mars", "background": "", "description": "Recently, Huanhuan read a book about Mars and got confused by an addition operation. Since her arithmetic skills are limited, she asks you for help. As an excellent programmer, you certainly won’t refuse.", "inputFormat": "The first line contains the base of the operation $N\\left(2 \\le N \\le 36\\right)$.\nThe next two lines contain the characters to be added. Each string has a length of at most $200$ digits and represents a base-$N$ number. The digits include $0$ to $9$ and a to z (representing $10$ to $35$).", "outputFormat": "Output their sum in base $N$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "火星上的加法运算", "background": null, "description": "最近欢欢看到一本有关火星的书籍，其中她被一个加法运算所困惑，由于她的运算水平有限.她想向你求助，作为一位优秀的程序员，你当然不会拒绝。", "inputFormat": "第一行先输入一个运算的进制 $N\\left(2 \\le N \\le 36\\right)$ 。接下来两行为需要进行运算的字符，其中每个字符串的长度不超过 $200$ 位，其为 N 进制的数。其中包括 $0$ 到 $9$ 及 a 到 z（代表 $10$ 到 $35$ ）。", "outputFormat": "在 N 进制下它们的和。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1953", "type": "P", "difficulty": 4, "samples": [["enger0.in ans\nabc1.in abc1.out\nabc2.in abc2.out\nabc3.in abc3.out\nabc4.in abc4.out\n", "enger0.in enger0.ans\nenger1.in enger1.ans\nenger2.in enger2.ans\nenger3.in enger3.ans\n"], ["1\naa.in0 aa.ou0\naa.in1 aa.ou1\naa.in2 aa.ou2\n", "aa.in1 aa.ou1\naa.in2 aa.ou2\naa.in3 aa.ou3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "NOI 导刊"], "title": "易语言", "background": "", "description": "老师近段时间正在研究易语言，这是一款 Windows 下的可视化编程系统，由大连大有吴涛软件开发公司开发的、具有中国知识产权的系统。为了更好地学习该套系统，老师总是有意识地在实践中运用这套系统来开发程序。\n\n这不，今天老师碰到了一个问题，那就是“当把数据放置到 KOJ 上去时，需要把测试数据改成相应的文件名”。举个例子说，如果原始测试数据文件名是 $\\text{e0.in,\\,e1.in\\;...\\;e9.in}$ 和 $\\text{e0.out,\\,e1.out\\;...\\;e9.out}$，则老师需要把文件全部改为 $\\text{data1.in,\\,data2.in\\;...\\;data10.in}$ 和 $\\text{data1.out,\\,data2.out\\;...\\;data10.out}$。程序界面如下图所示：\n\n*（注：此处似乎缺少一张图片，但不影响对题意的理解）*\n\n当然了，老师是编程的菜鸟，比起你可是差多了，所以他的程序不是很好，现在想请你帮老师改进这个程序。\n\n事先，老师会告诉你所需要生成的目标文件名格式，比如，他告诉你 $\\text{enger0.in}$ 和 $\\text{ans}$ ，则表示目标文件中输入文件的主名是 $\\text{enger}$，扩展名是 $\\text{in}$，编号从 $0$ 开始而且跟在主名后面，当然了，输出文件名就依次是 $\\text{enger0.ans,\\,enger1.ans\\;...\\;enger}x\\text{.ans}$，其中的 $x$ 你可以统计老师告诉你的原始文件名的个数来确定。另外，老师也会告诉你原始的所有输入数据的文件名全称，比如 $\\text{a1.txt,\\,a2.txt\\;...\\;a}x\\text{.txt}$。但老师是一个粗心的人，你不要期望老师给你的文件名是按照编号从小到大给出的，但给出的文件名肯定是正确的而且满足一般输入输出文件名的规律的(编号数字肯定出现在文件主名末尾或者扩展名末尾，而且除了这个编号数字外，在原始文件名和生成的目标文件名其他的任何地方都不会出现数字)。\n\n有些原始的输入输出文件名并不需要改变主名和扩展名，而只需改变文件编号即可，此时，老师首先会告诉你一个数字 $1$（或者 $0$），表示最终生成的目标文件的主名和扩展名不必改变，而只需把编号改为从 $1$（或者 $0$）开始即可。\n", "inputFormat": "输入的第一行有两种情况，第一种情况是两个字符串，分别表示最终生成的目标文件名的格式（第一个表示生成的目标文件中的第一个输入文件的名字）；第二种情况是只有一个数字 $1$（或者 $0$），表示文件名主名和扩展名不必更改，只需修改成从 $1$（或者 $0$）开始编号的文件名即可。接下来 $n$ 行（$1 \\le n \\le 10^5$），每行两个用一个空格分隔的字符串，分别表示原始输入和输出文件的文件名（对于输入和输出文件中所有文件名的主名和扩展名都不超过 $10$ 个字符，而且文件的最大编号不会超过 $2 \\times 10^5$）。\n", "outputFormat": "输出包含 $n$ 行，每行两个用一个空格分隔的字符串，分别表示最终生成的目标文件的文件名。第一个表示输入文件，第二个表示输出文件。按照编号从小到大输出。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Yi Language", "background": "", "description": "Recently, the teacher has been studying Yi Language, a visual programming system for Windows, developed by Dalian Dayou Wutao Software Development Company, and possessing Chinese intellectual property rights. To learn this system better, the teacher deliberately uses it in practice to develop programs.\n\nToday, the teacher encountered a problem: “When uploading testdata to KOJ, the testdata need to be renamed to the corresponding filenames.” For example, if the original testdata filenames are $\\text{e0.in,\\,e1.in\\;...\\;e9.in}$ and $\\text{e0.out,\\,e1.out\\;...\\;e9.out}$, then the teacher needs to rename all files to $\\text{data1.in,\\,data2.in\\;...\\;data10.in}$ and $\\text{data1.out,\\,data2.out\\;...\\;data10.out}$. The program interface is shown in the figure below:\n\n*(Note: An image seems to be missing here, but it does not affect understanding of the problem.)*\n\nOf course, the teacher is a novice at programming and is far less skilled than you, so the program is not good. Now the teacher would like you to help improve it.\n\nIn advance, the teacher will tell you the target filename format to be generated. For example, if the teacher tells you $\\text{enger0.in}$ and $\\text{ans}$, it means the basename of the input files in the target set is $\\text{enger}$, the extension is $\\text{in}$, and the index starts from $0$ and follows the basename. Naturally, the output filenames will be $\\text{enger0.ans,\\,enger1.ans\\;...\\;enger}x\\text{.ans}$, where $x$ can be determined by counting how many original filenames the teacher provides. In addition, the teacher will also tell you the full names of all original input files, such as $\\text{a1.txt,\\,a2.txt\\;...\\;a}x\\text{.txt}$. However, the teacher is careless. Do not expect the filenames to be given in ascending order of their indices, but the provided filenames are guaranteed to be correct and to follow general input/output filename conventions (the index number definitely appears at the end of the basename or at the end of the extension, and aside from this index number, no other digits will appear anywhere in either the original filenames or the target filenames).\n\nSome original input/output filenames do not need changes to the basename or extension; only the file index needs to be changed. In this case, the teacher will first tell you a number $1$ (or $0$), meaning the basename and extension of the final target files should not be changed, and only the indices should be renumbered to start from $1$ (or $0$).", "inputFormat": "The first line of input has two possibilities:\n- Two strings, which specify the format of the final target filenames (the first string is the name of the first input file in the generated target set).\n- A single number $1$ (or $0$), meaning the basename and extension do not need to change, and filenames only need to be renumbered starting from $1$ (or $0$).\n\nThen follow $n$ lines ($1 \\le n \\le 10^5$). Each line contains two strings separated by a single space, representing the original input and output filenames, respectively. For all input and output filenames, the basename and extension are each at most $10$ characters, and the maximum file index does not exceed $2 \\times 10^5$.", "outputFormat": "Output $n$ lines. Each line contains two strings separated by a single space, representing the final target filenames: the first is the input filename, and the second is the output filename. Output in ascending order of index.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "易语言", "background": "", "description": "老师近段时间正在研究易语言，这是一款 Windows 下的可视化编程系统，由大连大有吴涛软件开发公司开发的、具有中国知识产权的系统。为了更好地学习该套系统，老师总是有意识地在实践中运用这套系统来开发程序。\n\n这不，今天老师碰到了一个问题，那就是“当把数据放置到 KOJ 上去时，需要把测试数据改成相应的文件名”。举个例子说，如果原始测试数据文件名是 $\\text{e0.in,\\,e1.in\\;...\\;e9.in}$ 和 $\\text{e0.out,\\,e1.out\\;...\\;e9.out}$，则老师需要把文件全部改为 $\\text{data1.in,\\,data2.in\\;...\\;data10.in}$ 和 $\\text{data1.out,\\,data2.out\\;...\\;data10.out}$。程序界面如下图所示：\n\n*（注：此处似乎缺少一张图片，但不影响对题意的理解）*\n\n当然了，老师是编程的菜鸟，比起你可是差多了，所以他的程序不是很好，现在想请你帮老师改进这个程序。\n\n事先，老师会告诉你所需要生成的目标文件名格式，比如，他告诉你 $\\text{enger0.in}$ 和 $\\text{ans}$ ，则表示目标文件中输入文件的主名是 $\\text{enger}$，扩展名是 $\\text{in}$，编号从 $0$ 开始而且跟在主名后面，当然了，输出文件名就依次是 $\\text{enger0.ans,\\,enger1.ans\\;...\\;enger}x\\text{.ans}$，其中的 $x$ 你可以统计老师告诉你的原始文件名的个数来确定。另外，老师也会告诉你原始的所有输入数据的文件名全称，比如 $\\text{a1.txt,\\,a2.txt\\;...\\;a}x\\text{.txt}$。但老师是一个粗心的人，你不要期望老师给你的文件名是按照编号从小到大给出的，但给出的文件名肯定是正确的而且满足一般输入输出文件名的规律的(编号数字肯定出现在文件主名末尾或者扩展名末尾，而且除了这个编号数字外，在原始文件名和生成的目标文件名其他的任何地方都不会出现数字)。\n\n有些原始的输入输出文件名并不需要改变主名和扩展名，而只需改变文件编号即可，此时，老师首先会告诉你一个数字 $1$（或者 $0$），表示最终生成的目标文件的主名和扩展名不必改变，而只需把编号改为从 $1$（或者 $0$）开始即可。\n", "inputFormat": "输入的第一行有两种情况，第一种情况是两个字符串，分别表示最终生成的目标文件名的格式（第一个表示生成的目标文件中的第一个输入文件的名字）；第二种情况是只有一个数字 $1$（或者 $0$），表示文件名主名和扩展名不必更改，只需修改成从 $1$（或者 $0$）开始编号的文件名即可。接下来 $n$ 行（$1 \\le n \\le 10^5$），每行两个用一个空格分隔的字符串，分别表示原始输入和输出文件的文件名（对于输入和输出文件中所有文件名的主名和扩展名都不超过 $10$ 个字符，而且文件的最大编号不会超过 $2 \\times 10^5$）。\n", "outputFormat": "输出包含 $n$ 行，每行两个用一个空格分隔的字符串，分别表示最终生成的目标文件的文件名。第一个表示输入文件，第二个表示输出文件。按照编号从小到大输出。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1954", "type": "P", "difficulty": 6, "samples": [["5 5\n4 5 2 5 4\n1 2\n3 2\n5 1\n3 4\n3 1\n", "3 5 1 4 2\n3 4 1 2 1\n"], ["5 0\n3 3 3 5 5\n", "3 2 1 5 4\n1 1 1 4 4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["贪心", "2010", "NOI", "Special Judge", "深度优先搜索 DFS", "优先队列"], "title": "[NOI2010] 航空管制", "background": "", "description": "世博期间，上海的航空客运量大大超过了平时，随之而来的航空管制也频频发生。最近，小 X 就因为航空管制，连续两次在机场被延误超过了两小时。对此，小 X 表示很不满意。\n\n在这次来烟台的路上，小 X 不幸又一次碰上了航空管制。于是小 X 开始思考关于航空管制的问题。\n\n假设目前被延误航班共有 $n$ 个，编号为 $1$ 至 $n$。机场只有一条起飞跑道，所有的航班需按某个顺序依次起飞（称这个顺序为起飞序列）。定义一个航班的起飞序号为该航班在起飞序列中的位置，即是第几个起飞的航班。\n\n起飞序列还存在两类限制条件：\n\n- 第一类（最晚起飞时间限制）：编号为 $i$ 的航班起飞序号不得超过 $k_i$。\n\n- 第二类（相对起飞顺序限制）：存在一些相对起飞顺序限制 $(a,b)$，表示航班 $a$ 的起飞时间必须早于航班 $b$，即航班 $a$ 的起飞序号必须小于航班 $b$ 的起飞序号。\n\n小 X 思考的第一个问题是，若给定以上两类限制条件，是否可以计算出一个可行的起飞序列。第二个问题则是，在考虑两类限制条件的情况下，如何求出每个航班在所有可行的起飞序列中的最小起飞序号。\n", "inputFormat": "第一行包含两个正整数 $n$ 和 $m$，$n$ 表示航班数目，$m$ 表示第二类限制条件（相对起飞顺序限制）的数目。\n\n第二行包含 $n$ 个正整数 $k_1,k_2,\\cdots,k_n$。\n\n接下来 $m$ 行，每行两个正整数 $a$ 和 $b$，表示一对相对起飞顺序限制 $(a,b)$，其中 $1\\leq a,b\\leq n$，表示航班 $a$ 必须先于航班 $b$ 起飞。", "outputFormat": "第一行包含 $n$ 个整数，表示一个可行的起飞序列，相邻两个整数用空格分隔。输入数据保证至少存在一个可行的起飞序列。如果存在多个可行的方案，输出任意一个即可。\n\n第二行包含 $n$ 个整数 $t_1,t_2,\\cdots,t_n$，其中 $t_i$ 表示航班 $i$ 可能的最小起飞序号，相邻两个整数用空格分隔。", "hint": "### 样例解释\n\n在样例 $1$ 中：\n\n起飞序列 $3\\ 5\\ 1\\ 4\\ 2$ 满足了所有的限制条件，所有满足条件的起飞序列有：\n\n$$\n\\begin{aligned}\n3\\ 4\\ 5\\ 1\\ 2\\\\\n3\\ 5\\ 1\\ 2\\ 4\\\\\n3\\ 5\\ 1\\ 4\\ 2\\\\\n3\\ 5\\ 4\\ 1\\ 2\\\\\n5\\ 3\\ 1\\ 2\\ 4\\\\\n5\\ 3\\ 1\\ 4\\ 2\\\\\n5\\ 3\\ 4\\ 1\\ 2\n\\end{aligned}\n$$\n\n由于存在 $(5,1)$ 和 $(3,1)$ 两个限制，航班 $1$ 只能安排在航班 $5$ 和 $3$ 之后，故最早起飞时间为 $3$，其他航班类似。\n\n在样例 $2$ 中：\n\n虽然航班 $4,5$ 没有相对起飞顺序限制，但是由于航班 $1,2,3$ 都必须安排在前 $3$ 个起飞，所以 $4,5$ 最早只能安排在第 $4$ 个起飞。\n\n### 数据范围\n\n对于 $30\\%$ 数据：$n\\leq 10$。\n\n对于 $60\\%$ 数据：$n\\leq 500$。\n\n对于 $100\\%$ 数据：$n\\leq 2\\times 10^3,m\\leq 10^4$。\n\n感谢 @FlierKing 提供 spj\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2010] Air Traffic Control", "background": "", "description": "During the World Expo, Shanghai’s air passenger traffic greatly exceeded normal levels, and air traffic control also occurred frequently. Recently, Xiao X was delayed at the airport for more than two hours twice in a row due to air traffic control. Xiao X was very dissatisfied with this.\n\nOn the way to Yantai this time, Xiao X unfortunately encountered air traffic control again. So Xiao X began to think about the problem of air traffic control.\n\nSuppose there are currently $n$ delayed flights, numbered from $1$ to $n$. The airport has only one takeoff runway, and all flights must take off one by one in some order (called the takeoff sequence). Define a flight’s takeoff position as its position in the takeoff sequence, i.e., the index of when it takes off.\n\nThere are two types of constraints on the takeoff sequence:\n\n- Type 1 (latest takeoff position limit): the takeoff position of flight $i$ must not exceed $k_i$.\n- Type 2 (relative takeoff order constraints): there are some constraints $(a,b)$, meaning flight $a$ must take off earlier than flight $b$, i.e., the takeoff position of flight $a$ must be less than that of flight $b$.\n\nXiao X’s first question is: given the two types of constraints above, can we compute a feasible takeoff sequence? The second question is: considering both types of constraints, how to compute for each flight its minimal possible takeoff position among all feasible takeoff sequences.", "inputFormat": "The first line contains two positive integers $n$ and $m$, where $n$ is the number of flights and $m$ is the number of Type 2 (relative takeoff order) constraints.\n\nThe second line contains $n$ positive integers $k_1,k_2,\\cdots,k_n$.\n\nThe next $m$ lines each contain two positive integers $a$ and $b$, representing one relative takeoff order constraint $(a,b)$, where $1\\leq a,b\\leq n$, meaning flight $a$ must take off before flight $b$.", "outputFormat": "The first line contains $n$ integers representing one feasible takeoff sequence, with adjacent integers separated by single spaces. The input guarantees that at least one feasible takeoff sequence exists. If there are multiple feasible sequences, output any one of them.\n\nThe second line contains $n$ integers $t_1,t_2,\\cdots,t_n$, where $t_i$ is the minimal possible takeoff position of flight $i$ among all feasible sequences, with adjacent integers separated by single spaces.", "hint": "### Sample Explanation\n\nIn sample $1$:\n\nThe takeoff sequence $3\\ 5\\ 1\\ 4\\ 2$ satisfies all the constraints. All takeoff sequences that satisfy the constraints are:\n\n$$\n\\begin{aligned}\n3\\ 4\\ 5\\ 1\\ 2\\\\\n3\\ 5\\ 1\\ 2\\ 4\\\\\n3\\ 5\\ 1\\ 4\\ 2\\\\\n3\\ 5\\ 4\\ 1\\ 2\\\\\n5\\ 3\\ 1\\ 2\\ 4\\\\\n5\\ 3\\ 1\\ 4\\ 2\\\\\n5\\ 3\\ 4\\ 1\\ 2\n\\end{aligned}\n$$\n\nBecause there are constraints $(5,1)$ and $(3,1)$, flight $1$ can only be scheduled after flights $5$ and $3$, so its earliest takeoff position is $3$. Other flights are similar.\n\nIn sample $2$:\n\nAlthough flights $4,5$ have no relative takeoff order constraints, since flights $1,2,3$ must occupy the first $3$ takeoff positions, $4,5$ can be scheduled no earlier than position $4$.\n\n### Constraints\n\nFor $30\\%$ testdata: $n\\leq 10$.\n\nFor $60\\%$ testdata: $n\\leq 500$.\n\nFor $100\\%$ testdata: $n\\leq 2\\times 10^3,m\\leq 10^4$.\n\nThanks to @FlierKing for providing the special judge (SPJ).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2010] 航空管制", "background": "", "description": "世博期间，上海的航空客运量大大超过了平时，随之而来的航空管制也频频发生。最近，小 X 就因为航空管制，连续两次在机场被延误超过了两小时。对此，小 X 表示很不满意。\n\n在这次来烟台的路上，小 X 不幸又一次碰上了航空管制。于是小 X 开始思考关于航空管制的问题。\n\n假设目前被延误航班共有 $n$ 个，编号为 $1$ 至 $n$。机场只有一条起飞跑道，所有的航班需按某个顺序依次起飞（称这个顺序为起飞序列）。定义一个航班的起飞序号为该航班在起飞序列中的位置，即是第几个起飞的航班。\n\n起飞序列还存在两类限制条件：\n\n- 第一类（最晚起飞时间限制）：编号为 $i$ 的航班起飞序号不得超过 $k_i$。\n\n- 第二类（相对起飞顺序限制）：存在一些相对起飞顺序限制 $(a,b)$，表示航班 $a$ 的起飞时间必须早于航班 $b$，即航班 $a$ 的起飞序号必须小于航班 $b$ 的起飞序号。\n\n小 X 思考的第一个问题是，若给定以上两类限制条件，是否可以计算出一个可行的起飞序列。第二个问题则是，在考虑两类限制条件的情况下，如何求出每个航班在所有可行的起飞序列中的最小起飞序号。\n", "inputFormat": "第一行包含两个正整数 $n$ 和 $m$，$n$ 表示航班数目，$m$ 表示第二类限制条件（相对起飞顺序限制）的数目。\n\n第二行包含 $n$ 个正整数 $k_1,k_2,\\cdots,k_n$。\n\n接下来 $m$ 行，每行两个正整数 $a$ 和 $b$，表示一对相对起飞顺序限制 $(a,b)$，其中 $1\\leq a,b\\leq n$，表示航班 $a$ 必须先于航班 $b$ 起飞。", "outputFormat": "第一行包含 $n$ 个整数，表示一个可行的起飞序列，相邻两个整数用空格分隔。输入数据保证至少存在一个可行的起飞序列。如果存在多个可行的方案，输出任意一个即可。\n\n第二行包含 $n$ 个整数 $t_1,t_2,\\cdots,t_n$，其中 $t_i$ 表示航班 $i$ 可能的最小起飞序号，相邻两个整数用空格分隔。", "hint": "### 样例解释\n\n在样例 $1$ 中：\n\n起飞序列 $3\\ 5\\ 1\\ 4\\ 2$ 满足了所有的限制条件，所有满足条件的起飞序列有：\n\n$$\n\\begin{aligned}\n3\\ 4\\ 5\\ 1\\ 2\\\\\n3\\ 5\\ 1\\ 2\\ 4\\\\\n3\\ 5\\ 1\\ 4\\ 2\\\\\n3\\ 5\\ 4\\ 1\\ 2\\\\\n5\\ 3\\ 1\\ 2\\ 4\\\\\n5\\ 3\\ 1\\ 4\\ 2\\\\\n5\\ 3\\ 4\\ 1\\ 2\n\\end{aligned}\n$$\n\n由于存在 $(5,1)$ 和 $(3,1)$ 两个限制，航班 $1$ 只能安排在航班 $5$ 和 $3$ 之后，故最早起飞时间为 $3$，其他航班类似。\n\n在样例 $2$ 中：\n\n虽然航班 $4,5$ 没有相对起飞顺序限制，但是由于航班 $1,2,3$ 都必须安排在前 $3$ 个起飞，所以 $4,5$ 最早只能安排在第 $4$ 个起飞。\n\n### 数据范围\n\n对于 $30\\%$ 数据：$n\\leq 10$。\n\n对于 $60\\%$ 数据：$n\\leq 500$。\n\n对于 $100\\%$ 数据：$n\\leq 2\\times 10^3,m\\leq 10^4$。\n\n感谢 @FlierKing 提供 spj\n", "locale": "zh-CN"}}}
{"pid": "P1955", "type": "P", "difficulty": 4, "samples": [["2\n2\n1 2 1\n1 2 0\n2\n1 2 1\n2 1 1", "NO\nYES\n"], ["2\n3\n1 2 1\n2 3 1\n3 1 1\n4\n1 2 1\n2 3 1\n3 4 1\n1 4 0\n", "YES\nNO"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "并查集", "NOI", "离散化", "哈希 hashing"], "title": "[NOI2015] 程序自动分析", "background": null, "description": "在实现程序自动分析的过程中，常常需要判定一些约束条件是否能被同时满足。\n\n考虑一个约束满足问题的简化版本：假设 $x_1,x_2,x_3,\\cdots$ 代表程序中出现的变量，给定 $n$ 个形如 $x_i=x_j$ 或 $x_i\\neq x_j$ 的变量相等/不等的约束条件，请判定是否可以分别为每一个变量赋予恰当的值，使得上述所有约束条件同时被满足。例如，一个问题中的约束条件为：$x_1=x_2,x_2=x_3,x_3=x_4,x_4\\neq x_1$，这些约束条件显然是不可能同时被满足的，因此这个问题应判定为不可被满足。\n\n现在给出一些约束满足问题，请分别对它们进行判定。", "inputFormat": "输入的第一行包含一个正整数 $t$，表示需要判定的问题个数。注意这些问题之间是相互独立的。\n\n对于每个问题，包含若干行：\n\n第一行包含一个正整数 $n$，表示该问题中需要被满足的约束条件个数。接下来 $n$ 行，每行包括三个整数 $i,j,e$，描述一个相等/不等的约束条件，相邻整数之间用单个空格隔开。若 $e=1$，则该约束条件为 $x_i=x_j$。若 $e=0$，则该约束条件为 $x_i\\neq x_j$。", "outputFormat": "输出包括 $t$ 行。\n\n输出文件的第 $k$ 行输出一个字符串 `YES` 或者 `NO`（字母全部大写），`YES` 表示输入中的第 $k$ 个问题判定为可以被满足，`NO` 表示不可被满足。", "hint": "【样例解释 1】\n\n在第一个问题中，约束条件为：$x_1=x_2,x_1\\neq x_2$。这两个约束条件互相矛盾，因此不可被同时满足。\n\n在第二个问题中，约束条件为：$x_1=x_2,x_1 = x_2$。这两个约束条件是等价的，可以被同时满足。\n\n【样例说明 2】\n\n在第一个问题中，约束条件有三个：$x_1=x_2,x_2= x_3,x_3=x_1$。只需赋值使得 $x_1=x_2=x_3$，即可同时满足所有的约束条件。\n\n在第二个问题中，约束条件有四个：$x_1=x_2,x_2= x_3,x_3=x_4,x_4\\neq x_1$。由前三个约束条件可以推出 $x_1=x_2=x_3=x_4$，然而最后一个约束条件却要求 $x_1\\neq x_4$，因此不可被满足。\n\n【数据范围】\n\n所有测试数据的范围和特点如下表所示：\n\n::cute-table{tuack}\n\n| 测试点编号 | $n$ 的规模 | $i,j$ 的规模 | 约定 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $1 \\le n \\le 10$ | $1 \\le i,j \\le 10^4$ | $1 \\le t \\le 10 \\\\ e \\in \\{0, 1\\}$\n| $2$ | ^ | ^ | ^ |\n| $3$ | $1 \\le n \\le 100$ | ^ | ^ |\n| $4$ | ^ | ^ | ^ |\n| $5$ | $1 \\le n \\le 10^5$ | ^ | ^ |\n| $6$ | ^ | ^ | ^ |\n| $7$ | ^ | ^ | ^ |\n| $8$ | $1 \\le n \\le 10^5$ | $1 \\le i,j \\le 10^9$ | ^ |\n| $9$ | ^ | ^ | ^ |\n| $10$ | ^ | ^ | ^ |", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2015] Program Automatic Analysis", "background": "", "description": "During the implementation of automatic program analysis, it is often necessary to determine whether certain constraints can be satisfied simultaneously.\n\nConsider a simplified version of a constraint satisfaction problem: suppose $x_1, x_2, x_3, \\cdots$ represent variables that appear in the program. Given $n$ constraints of the form $x_i = x_j$ or $x_i \\neq x_j$, determine whether it is possible to assign an appropriate value to each variable so that all the constraints are satisfied simultaneously. For example, if the constraints in one problem are $x_1 = x_2, x_2 = x_3, x_3 = x_4, x_4 \\neq x_1$, these constraints are clearly impossible to satisfy at the same time, so this problem should be judged as unsatisfiable.\n\nNow you are given several constraint satisfaction problems. Please determine each of them.", "inputFormat": "The first line contains a positive integer $t$, indicating the number of problems to judge. Note that these problems are independent of each other.\n\nFor each problem, there are several lines:\n\nThe first line contains a positive integer $n$, indicating the number of constraints that need to be satisfied in this problem. The next $n$ lines each contain three integers $i, j, e$, describing one equality/inequality constraint, with a single space between adjacent integers. If $e = 1$, then the constraint is $x_i = x_j$. If $e = 0$, then the constraint is $x_i \\neq x_j$.", "outputFormat": "Output $t$ lines.\n\nOn the $k$-th line, output the string YES or NO (all uppercase). YES means the $k$-th problem in the input is judged satisfiable, and NO means it is unsatisfiable.", "hint": "[Sample Explanation 1]\n\nIn the first problem, the constraints are $x_1 = x_2, x_1 \\neq x_2$. These two constraints contradict each other, so they cannot be satisfied simultaneously.\n\nIn the second problem, the constraints are $x_1 = x_2, x_1 = x_2$. These two constraints are equivalent and can be satisfied simultaneously.\n\n[Sample Explanation 2]\n\nIn the first problem, there are three constraints: $x_1 = x_2, x_2 = x_3, x_3 = x_1$. It suffices to assign values so that $x_1 = x_2 = x_3$, and all constraints are satisfied.\n\nIn the second problem, there are four constraints: $x_1 = x_2, x_2 = x_3, x_3 = x_4, x_4 \\neq x_1$. From the first three constraints we can derive $x_1 = x_2 = x_3 = x_4$, but the last constraint requires $x_1 \\neq x_4$, so it is unsatisfiable.\n\n[Constraints]\n\nAll testdata ranges and characteristics are as follows:\n\n::cute-table{tuack}\n| Test point id | Range of $n$ | Range of $i, j$ | Conventions |\n| :-: | :-: | :-: | :-: |\n| $1$ | $1 \\le n \\le 10$ | $1 \\le i, j \\le 10^4$ | $1 \\le t \\le 10$; $e \\in \\{0, 1\\}$ |\n| $2$ | ^ | ^ | ^ |\n| $3$ | $1 \\le n \\le 100$ | ^ | ^ |\n| $4$ | ^ | ^ | ^ |\n| $5$ | $1 \\le n \\le 10^5$ | ^ | ^ |\n| $6$ | ^ | ^ | ^ |\n| $7$ | ^ | ^ | ^ |\n| $8$ | $1 \\le n \\le 10^5$ | $1 \\le i, j \\le 10^9$ | ^ |\n| $9$ | ^ | ^ | ^ |\n| $10$ | ^ | ^ | ^ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2015] 程序自动分析", "background": null, "description": "在实现程序自动分析的过程中，常常需要判定一些约束条件是否能被同时满足。\n\n考虑一个约束满足问题的简化版本：假设 $x_1,x_2,x_3,\\cdots$ 代表程序中出现的变量，给定 $n$ 个形如 $x_i=x_j$ 或 $x_i\\neq x_j$ 的变量相等/不等的约束条件，请判定是否可以分别为每一个变量赋予恰当的值，使得上述所有约束条件同时被满足。例如，一个问题中的约束条件为：$x_1=x_2,x_2=x_3,x_3=x_4,x_4\\neq x_1$，这些约束条件显然是不可能同时被满足的，因此这个问题应判定为不可被满足。\n\n现在给出一些约束满足问题，请分别对它们进行判定。", "inputFormat": "输入的第一行包含一个正整数 $t$，表示需要判定的问题个数。注意这些问题之间是相互独立的。\n\n对于每个问题，包含若干行：\n\n第一行包含一个正整数 $n$，表示该问题中需要被满足的约束条件个数。接下来 $n$ 行，每行包括三个整数 $i,j,e$，描述一个相等/不等的约束条件，相邻整数之间用单个空格隔开。若 $e=1$，则该约束条件为 $x_i=x_j$。若 $e=0$，则该约束条件为 $x_i\\neq x_j$。", "outputFormat": "输出包括 $t$ 行。\n\n输出文件的第 $k$ 行输出一个字符串 `YES` 或者 `NO`（字母全部大写），`YES` 表示输入中的第 $k$ 个问题判定为可以被满足，`NO` 表示不可被满足。", "hint": "【样例解释 1】\n\n在第一个问题中，约束条件为：$x_1=x_2,x_1\\neq x_2$。这两个约束条件互相矛盾，因此不可被同时满足。\n\n在第二个问题中，约束条件为：$x_1=x_2,x_1 = x_2$。这两个约束条件是等价的，可以被同时满足。\n\n【样例说明 2】\n\n在第一个问题中，约束条件有三个：$x_1=x_2,x_2= x_3,x_3=x_1$。只需赋值使得 $x_1=x_2=x_3$，即可同时满足所有的约束条件。\n\n在第二个问题中，约束条件有四个：$x_1=x_2,x_2= x_3,x_3=x_4,x_4\\neq x_1$。由前三个约束条件可以推出 $x_1=x_2=x_3=x_4$，然而最后一个约束条件却要求 $x_1\\neq x_4$，因此不可被满足。\n\n【数据范围】\n\n所有测试数据的范围和特点如下表所示：\n\n::cute-table{tuack}\n\n| 测试点编号 | $n$ 的规模 | $i,j$ 的规模 | 约定 |\n| :-: | :-: | :-: | :-: |\n| $1$ | $1 \\le n \\le 10$ | $1 \\le i,j \\le 10^4$ | $1 \\le t \\le 10 \\\\ e \\in \\{0, 1\\}$\n| $2$ | ^ | ^ | ^ |\n| $3$ | $1 \\le n \\le 100$ | ^ | ^ |\n| $4$ | ^ | ^ | ^ |\n| $5$ | $1 \\le n \\le 10^5$ | ^ | ^ |\n| $6$ | ^ | ^ | ^ |\n| $7$ | ^ | ^ | ^ |\n| $8$ | $1 \\le n \\le 10^5$ | $1 \\le i,j \\le 10^9$ | ^ |\n| $9$ | ^ | ^ | ^ |\n| $10$ | ^ | ^ | ^ |", "locale": "zh-CN"}}}
{"pid": "P1956", "type": "P", "difficulty": 4, "samples": [["7 2 17\n12\n13\n15\n11\n16\n26\n11", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "NOI 导刊", "前缀和", "STL"], "title": "Sum", "background": "", "description": "给出一个数列  $a_1,a_2,\\cdots,a_n$ 和  $k,p$；\n\n设  $S_{i,j}=\\sum\\limits_{k=i}^ja_k$，则：\n $$\\mathit{Answer}=\\min\\{S_{i,j}\\bmod p\\ |\\ S_{i,j}\\bmod p\\ge k\\}$$\n其中， $i\\le j, \\{S_{i,j}\\bmod p\\ |\\ S_{i,j}\\bmod p\\ge k\\}\\ne\\varnothing$。", "inputFormat": "第一行三个正整数  $n,k,p$。\n\n第二行  $n$ 个正整数，表示  $a_1,a_2,\\cdots,a_n$。", "outputFormat": "一行一个正整数，表示  $\\mathit{Answer}$。", "hint": "### 数据范围\n\n对于 $100\\%$ 的数据， $1\\le n\\le10^5$，$1\\le k,p,a_i\\le10^{18}$。", "locale": "zh-CN", "translations": {"en": {"title": "Sum", "background": "", "description": "Given a sequence $a_1, a_2, \\cdots, a_n$ and $k, p$.\n\nLet $S_{i,j}=\\sum\\limits_{k=i}^j a_k$, then:\n $$\\mathit{Answer}=\\min\\{S_{i,j}\\bmod p\\ |\\ S_{i,j}\\bmod p\\ge k\\}$$\nwhere $i \\le j$, and $\\{S_{i,j}\\bmod p\\ |\\ S_{i,j}\\bmod p\\ge k\\}\\ne\\varnothing$.", "inputFormat": "The first line contains three positive integers $n, k, p$.\n\nThe second line contains $n$ positive integers, denoting $a_1, a_2, \\cdots, a_n$.", "outputFormat": "Output one positive integer on a single line, which is $\\mathit{Answer}$.", "hint": "### Constraints\n\nFor $100\\%$ of the testdata, $1\\le n\\le10^5$, $1\\le k,p,a_i\\le10^{18}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Sum", "background": "", "description": "给出一个数列  $a_1,a_2,\\cdots,a_n$ 和  $k,p$；\n\n设  $S_{i,j}=\\sum\\limits_{k=i}^ja_k$，则：\n $$\\mathit{Answer}=\\min\\{S_{i,j}\\bmod p\\ |\\ S_{i,j}\\bmod p\\ge k\\}$$\n其中， $i\\le j, \\{S_{i,j}\\bmod p\\ |\\ S_{i,j}\\bmod p\\ge k\\}\\ne\\varnothing$。", "inputFormat": "第一行三个正整数  $n,k,p$。\n\n第二行  $n$ 个正整数，表示  $a_1,a_2,\\cdots,a_n$。", "outputFormat": "一行一个正整数，表示  $\\mathit{Answer}$。", "hint": "### 数据范围\n\n对于 $100\\%$ 的数据， $1\\le n\\le10^5$，$1\\le k,p,a_i\\le10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P1957", "type": "P", "difficulty": 2, "samples": [["4\na 64 46\n275 125\nc 11 99\nb 46 64\n", "64+46=110\n9\n275+125=400\n11\n11*99=1089\n10\n46-64=-18\n9\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串"], "title": "口算练习题", "background": null, "description": "王老师正在教简单算术运算。细心的王老师收集了 $i$ 道学生经常做错的口算题，并且想整理编写成一份练习。编排这些题目是一件繁琐的事情，为此他想用计算机程序来提高工作效率。王老师希望尽量减少输入的工作量，比如 $\\texttt{5+8}$ 的算式最好只要输入 $\\texttt 5$ 和 $\\texttt 8$，输出的结果要尽量详细以方便后期排版的使用，比如对于上述输入进行处理后输出 $\\texttt{5+8=13}$ 以及该算式的总长度 $6$。王老师把这个光荣的任务交给你，请你帮他编程实现以上功能。", "inputFormat": "第一行一个整数 $i$。\n\n接着的 $i$ 行为需要输入的算式，每行可能有三个数据或两个数据。\n\n若该行为三个数据则第一个数据表示运算类型，$\\texttt a$ 表示加法运算，$\\texttt b$ 表示减法运算，$\\texttt c$ 表示乘法运算，接着的两个数据表示参加运算的运算数。\n\n若该行为两个数据，则表示本题的运算类型与上一题的运算类型相同，而这两个数据为运算数。", "outputFormat": "输出 $2\\times i$ 行。对于每个输入的算式，输出完整的运算式及结果，第二行输出该运算式的总长度。", "hint": "### 【数据规模与约定】\n\n对于 $50\\%$ 的数据，输入的算式都有三个数据。\n\n对于所有数据，$0<i\\leq 50$，第一个算式一定有三个数据，运算数为非负整数且小于 $10000$。", "locale": "zh-CN", "translations": {"en": {"title": "Mental Calculation Exercises", "background": "", "description": "Teacher Wang is teaching simple arithmetic. The meticulous Teacher Wang has collected $i$ mental calculation problems that students often get wrong and wants to compile them into a practice set. Laying out these problems is tedious, so he wants to use a computer program to improve efficiency. He hopes to minimize the input workload; for example, for the expression $\\texttt{5+8}$, it is best to input only $\\texttt{5}$ and $\\texttt{8}$. The output should be as detailed as possible to facilitate later typesetting; for instance, after processing the above input, output $\\texttt{5+8=13}$ and the total length of this expression, $6$. Teacher Wang assigns you this task. Please write a program to implement the above functionality.", "inputFormat": "The first line contains an integer $i$.\n\nThe next $i$ lines each describe an expression. Each line may contain either three data items or two data items.\n\n- If a line has three data items, then the first item is the operation type: $\\texttt{a}$ means addition, $\\texttt{b}$ means subtraction, and $\\texttt{c}$ means multiplication. The next two items are the operands.\n- If a line has two data items, then the operation type is the same as in the previous problem, and these two items are the operands.", "outputFormat": "Output $2 \\times i$ lines. For each input expression, output the complete expression with its result on the first line. On the second line, output the total length of that expression.", "hint": "Constraints and Notes:\n- For $50\\%$ of the testdata, each input expression has three data items.\n- For all testdata, $0 < i \\leq 50$. The first expression always has three data items. Operands are non-negative integers less than $10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "口算练习题", "background": null, "description": "王老师正在教简单算术运算。细心的王老师收集了 $i$ 道学生经常做错的口算题，并且想整理编写成一份练习。编排这些题目是一件繁琐的事情，为此他想用计算机程序来提高工作效率。王老师希望尽量减少输入的工作量，比如 $\\texttt{5+8}$ 的算式最好只要输入 $\\texttt 5$ 和 $\\texttt 8$，输出的结果要尽量详细以方便后期排版的使用，比如对于上述输入进行处理后输出 $\\texttt{5+8=13}$ 以及该算式的总长度 $6$。王老师把这个光荣的任务交给你，请你帮他编程实现以上功能。", "inputFormat": "第一行一个整数 $i$。\n\n接着的 $i$ 行为需要输入的算式，每行可能有三个数据或两个数据。\n\n若该行为三个数据则第一个数据表示运算类型，$\\texttt a$ 表示加法运算，$\\texttt b$ 表示减法运算，$\\texttt c$ 表示乘法运算，接着的两个数据表示参加运算的运算数。\n\n若该行为两个数据，则表示本题的运算类型与上一题的运算类型相同，而这两个数据为运算数。", "outputFormat": "输出 $2\\times i$ 行。对于每个输入的算式，输出完整的运算式及结果，第二行输出该运算式的总长度。", "hint": "### 【数据规模与约定】\n\n对于 $50\\%$ 的数据，输入的算式都有三个数据。\n\n对于所有数据，$0<i\\leq 50$，第一个算式一定有三个数据，运算数为非负整数且小于 $10000$。", "locale": "zh-CN"}}}
{"pid": "P1958", "type": "P", "difficulty": 2, "samples": [["5 4\n3\n2 2\n2 3\n4 2", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "递推", "NOI 导刊"], "title": "上学路线", "background": "", "description": "你所在城市的街道好像一个棋盘，有 $a$ 条南北方向的街道和 $b$ 条东西方向的街道。南北方向的 $a$ 条街道从西到东依次编号为 $1$ 到 $a$，而东西方向的 $b$ 条街道从南到北依次编号为 $1$ 到 $b$，南北方向的街道 $i$ 和东西方向的街道 $j$ 的交点记为 $(i,j)$。\n\n你住在 $(1,1)$ 处，而学校在 $(a,b)$ 处，你骑自行车去上学，自行车只能沿着街道走，而且为了缩短时间只允许沿着向东和北的方向行驶。\n\n现在有 $N$ 个交叉路口在施工 $(X_1,Y_1)$、$(X_2,Y_2)$……，$(X_n,Y_n)$，这些路口是不能通车的。\n\n问你上学一共有多少走法?", "inputFormat": "第一行包含两个整数 $a$ 和 $b$，并且满足 $1 \\le a,b \\le 16$。保证学校位置不在 $(1,1)$，同时保证一定可以到达学校。\n\n第二行包含一个整数 $N$，表示有 $N$ 个路口在维修 $(1\\le N\\le 40)$。\n\n接下来 $N$ 行，每行两个整数$X_i,Y_i$，描述路口的位置。\n", "outputFormat": "输出一个整数表示从 $(1,1)$ 到 $(a,b)$ 的行车路线总数。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Route to School", "background": "", "description": "The streets in your city form a grid, with $a$ north–south streets and $b$ east–west streets. The $a$ north–south streets are numbered from west to east as $1$ to $a$, and the $b$ east–west streets are numbered from south to north as $1$ to $b$. The intersection of north–south street $i$ and east–west street $j$ is denoted as $(i,j)$.\n\nYou live at $(1,1)$, and the school is at $(a,b)$. You ride a bicycle to school, which can travel only along the streets, and to minimize time you are only allowed to move east or north.\n\nNow $N$ intersections are under construction, $(X_1, Y_1)$, $(X_2, Y_2)$, …, $(X_N, Y_N)$, and these intersections are closed to traffic.\n\nHow many different routes are there to go to school?", "inputFormat": "The first line contains two integers $a$ and $b$, with $1 \\le a, b \\le 16$. It is guaranteed that the school is not at $(1,1)$, and that the destination is reachable.\n\nThe second line contains an integer $N$, indicating that there are $N$ intersections under construction ($1 \\le N \\le 40$).\n\nThe next $N$ lines each contain two integers $X_i, Y_i$, giving the locations of the closed intersections.", "outputFormat": "Output a single integer, the total number of routes from $(1,1)$ to $(a,b)$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "上学路线", "background": "", "description": "你所在城市的街道好像一个棋盘，有 $a$ 条南北方向的街道和 $b$ 条东西方向的街道。南北方向的 $a$ 条街道从西到东依次编号为 $1$ 到 $a$，而东西方向的 $b$ 条街道从南到北依次编号为 $1$ 到 $b$，南北方向的街道 $i$ 和东西方向的街道 $j$ 的交点记为 $(i,j)$。\n\n你住在 $(1,1)$ 处，而学校在 $(a,b)$ 处，你骑自行车去上学，自行车只能沿着街道走，而且为了缩短时间只允许沿着向东和北的方向行驶。\n\n现在有 $N$ 个交叉路口在施工 $(X_1,Y_1)$、$(X_2,Y_2)$……，$(X_n,Y_n)$，这些路口是不能通车的。\n\n问你上学一共有多少走法?", "inputFormat": "第一行包含两个整数 $a$ 和 $b$，并且满足 $1 \\le a,b \\le 16$。保证学校位置不在 $(1,1)$，同时保证一定可以到达学校。\n\n第二行包含一个整数 $N$，表示有 $N$ 个路口在维修 $(1\\le N\\le 40)$。\n\n接下来 $N$ 行，每行两个整数$X_i,Y_i$，描述路口的位置。\n", "outputFormat": "输出一个整数表示从 $(1,1)$ 到 $(a,b)$ 的行车路线总数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1959", "type": "P", "difficulty": 3, "samples": [["10\n9 4\n4 3\n1 1\n4 2\n2 4\n5 8\n4 0\n5 3\n0 5\n5 2\n", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "NOI 导刊"], "title": "遗址", "background": "", "description": "很久很久以前有一座寺庙，从上往下看寺庙的形状正好是一个正方形，由 $4$ 个角上竖立的圆柱搭建而成。现在圆柱都倒塌了，只在地上留下圆形的痕迹，可是现在地上有很多这样的痕迹，专家说一定是最大的那个。\n\n写一个程序，给出圆柱的坐标，找出由 $4$ 个圆柱构成的最大的正方形，因为这就是寺庙的位置，要求计算出最大的面积。注意正方形的边不一定平行于坐标轴。\n\n例如图有 $10$ 根柱子，其中 $(4,2),\\allowbreak(5,2),\\allowbreak(5,3),\\allowbreak(4,3)$ 可以形成一个正方形，$(1,1),\\allowbreak(4,0),\\allowbreak(5,3),\\allowbreak(2,4)$ 也可以，后者是其中最大的，面积为 $10$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pjic0frl.png)\n", "inputFormat": "第一行包含一个 $N(1\\leq N\\leq 3000)$，表示柱子的数量。\n\n接下来 $N$ 行，每行有两个空格隔开的整数表示柱子的坐标（坐标值在 $0$ 到 $5000$ 之间），柱子的位置互不相同。", "outputFormat": "如果存在正方形，输出最大的面积，否则输出 $0$。", "hint": "\n【数据范围】\n\n$30\\%$ 满足：$1\\leq N \\leq100$。\n\n$60\\%$ 满足：$1\\leq N \\leq500$。\n\n$100\\%$ 满足：$1\\leq N \\leq3000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Ruins", "background": "", "description": "A long time ago, there was a temple. Viewed from above, the temple was a square, built by circular columns erected at its four corners. Now all the columns have fallen, leaving circular marks on the ground. However, there are many such marks on the ground, and experts say the temple must correspond to the largest one.\n\nWrite a program that, given the coordinates of the columns, finds the largest square formed by $4$ columns (i.e., four points as its vertices), which indicates the temple’s location, and compute its maximum area. Note that the sides of the square are not necessarily parallel to the coordinate axes.\n\nFor example, in the figure there are $10$ columns. Among them, $(4,2),\\allowbreak(5,2),\\allowbreak(5,3),\\allowbreak(4,3)$ can form a square, and $(1,1),\\allowbreak(4,0),\\allowbreak(5,3),\\allowbreak(2,4)$ can as well. The latter is the largest among them, with area $10$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pjic0frl.png)", "inputFormat": "The first line contains an integer $N$ ($1 \\leq N \\leq 3000$), the number of columns.\n\nThe next $N$ lines each contain two space-separated integers, giving the coordinates of a column (each coordinate is in the range $0$ to $5000$). All column positions are pairwise distinct.", "outputFormat": "If at least one square exists, output the maximum area; otherwise, output $0$.", "hint": "Constraints\n\n- $30\\%$: $1 \\leq N \\leq 100$.\n- $60\\%$: $1 \\leq N \\leq 500$.\n- $100\\%$: $1 \\leq N \\leq 3000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "遗址", "background": "", "description": "很久很久以前有一座寺庙，从上往下看寺庙的形状正好是一个正方形，由 $4$ 个角上竖立的圆柱搭建而成。现在圆柱都倒塌了，只在地上留下圆形的痕迹，可是现在地上有很多这样的痕迹，专家说一定是最大的那个。\n\n写一个程序，给出圆柱的坐标，找出由 $4$ 个圆柱构成的最大的正方形，因为这就是寺庙的位置，要求计算出最大的面积。注意正方形的边不一定平行于坐标轴。\n\n例如图有 $10$ 根柱子，其中 $(4,2),\\allowbreak(5,2),\\allowbreak(5,3),\\allowbreak(4,3)$ 可以形成一个正方形，$(1,1),\\allowbreak(4,0),\\allowbreak(5,3),\\allowbreak(2,4)$ 也可以，后者是其中最大的，面积为 $10$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pjic0frl.png)\n", "inputFormat": "第一行包含一个 $N(1\\leq N\\leq 3000)$，表示柱子的数量。\n\n接下来 $N$ 行，每行有两个空格隔开的整数表示柱子的坐标（坐标值在 $0$ 到 $5000$ 之间），柱子的位置互不相同。", "outputFormat": "如果存在正方形，输出最大的面积，否则输出 $0$。", "hint": "\n【数据范围】\n\n$30\\%$ 满足：$1\\leq N \\leq100$。\n\n$60\\%$ 满足：$1\\leq N \\leq500$。\n\n$100\\%$ 满足：$1\\leq N \\leq3000$。\n", "locale": "zh-CN"}}}
{"pid": "P1960", "type": "P", "difficulty": 3, "samples": [["3\n2\n2 1\n2 3", "2\n1\n3\n1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "NOI 导刊", "Special Judge"], "title": "郁闷的记者", "background": null, "description": "你是一个体育报社的记者，你接受到一个艰难的任务：有 $N$ 支足球队参加足球比赛，现在给你一些比赛的结果，需要你给出各支球队的排名，从 $1$ 到 $N$。\n\n以下是给你的一些信息：\n\n1. 没有平局；\n2. 不同的球队排名不能相同；\n3. 对于所有满足 $1 \\le a < b \\le N$，第 $a$ 名的球队一定可以打败第 $b$ 名的球队。\n\n给你部分比赛结果，要求给出排名，并且判断是否存在另一种排名方法满足给你的比赛结果。", "inputFormat": "第一行输入 $N$，表示球队的数量，编号为 $1$ 到 $N$。\n\n第二行输入 $M$，表示给出的比赛场数。\n\n接下来 $M$ 行，每行两个整数 $X_i$，$Y_i$，表示 $X_i$ 球队能打败 $Y_i$ 球队。", "outputFormat": "输出包含 $N+1$ 行，前 $N$ 行描述球队的排名，第 $i$ 个数表示第 $i$ 名的球队，第 $N+1$ 行包含一个整数，如果为 $0$ 表示不存在其他的排名方法，如果为 $1$ 表示还有其他的排名方法。", "hint": "【数据范围】\n\n+ $30\\%$ 的数据满足：$1 \\le N \\le7$，$1 \\le M \\le 15$；\n+ $60\\%$的数据满足：$1 \\le N \\le 100$，$1 \\le M \\le 2 \\times 10^3$；\n+ $100\\%$ 的数据满足：$1 \\le N \\le 5 \\times 10^3$，$1 \\le M \\le 10^5$。\n\n\n**本题已加入** `Special Judge`。\n+ 如果输出的最后一行错误将会提示 `Your decide is wrong!`；\n+ 如果存在多种排名情况，排名错误将会提示 `Wrong ranks!`；\n+ 如果情况固定且您的答案错误将会提示 `In line X,Your ans is wrong:expected = X,found = Y`。", "locale": "zh-CN", "translations": {"en": {"title": "The Frustrated Reporter", "background": "", "description": "You are a reporter for a sports newspaper, and you have received a challenging task: there are $N$ football teams participating in a tournament. You are given some match results and need to output the ranking of all teams from $1$ to $N$.\n\nThe following information applies:\n1. There are no draws.\n2. Different teams cannot share the same rank.\n3. For all $1 \\le a < b \\le N$, the team in position $a$ must be able to defeat the team in position $b$.\n\nGiven partial match results, output one valid ranking, and determine whether there exists another ranking that also satisfies the given results.", "inputFormat": "The first line contains $N$, the number of teams, numbered from $1$ to $N$.\n\nThe second line contains $M$, the number of given matches.\n\nEach of the next $M$ lines contains two integers $X_i$, $Y_i$, meaning team $X_i$ can defeat team $Y_i$.", "outputFormat": "Output $N+1$ lines. The first $N$ lines describe the ranking of the teams: the $i$-th line contains the team ranked $i$-th. The $(N+1)$-th line contains one integer; output $0$ if there is no other ranking that satisfies the given results, or $1$ if there is at least one other valid ranking.", "hint": "Constraints\n- $30\\%$ of the testdata satisfies: $1 \\le N \\le 7$, $1 \\le M \\le 15$.\n- $60\\%$ of the testdata satisfies: $1 \\le N \\le 100$, $1 \\le M \\le 2 \\times 10^3$.\n- $100\\%$ of the testdata satisfies: $1 \\le N \\le 5 \\times 10^3$, $1 \\le M \\le 10^5$.\n\nThis problem uses `Special Judge`.\n- If the last line is incorrect, the message will be `Your decide is wrong!`.\n- If multiple rankings are possible and your ranking is wrong, the message will be `Wrong ranks!`.\n- If the ranking is unique and your answer is wrong, the message will be `In line X,Your ans is wrong:expected = X,found = Y`.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "郁闷的记者", "background": null, "description": "你是一个体育报社的记者，你接受到一个艰难的任务：有 $N$ 支足球队参加足球比赛，现在给你一些比赛的结果，需要你给出各支球队的排名，从 $1$ 到 $N$。\n\n以下是给你的一些信息：\n\n1. 没有平局；\n2. 不同的球队排名不能相同；\n3. 对于所有满足 $1 \\le a < b \\le N$，第 $a$ 名的球队一定可以打败第 $b$ 名的球队。\n\n给你部分比赛结果，要求给出排名，并且判断是否存在另一种排名方法满足给你的比赛结果。", "inputFormat": "第一行输入 $N$，表示球队的数量，编号为 $1$ 到 $N$。\n\n第二行输入 $M$，表示给出的比赛场数。\n\n接下来 $M$ 行，每行两个整数 $X_i$，$Y_i$，表示 $X_i$ 球队能打败 $Y_i$ 球队。", "outputFormat": "输出包含 $N+1$ 行，前 $N$ 行描述球队的排名，第 $i$ 个数表示第 $i$ 名的球队，第 $N+1$ 行包含一个整数，如果为 $0$ 表示不存在其他的排名方法，如果为 $1$ 表示还有其他的排名方法。", "hint": "【数据范围】\n\n+ $30\\%$ 的数据满足：$1 \\le N \\le7$，$1 \\le M \\le 15$；\n+ $60\\%$的数据满足：$1 \\le N \\le 100$，$1 \\le M \\le 2 \\times 10^3$；\n+ $100\\%$ 的数据满足：$1 \\le N \\le 5 \\times 10^3$，$1 \\le M \\le 10^5$。\n\n\n**本题已加入** `Special Judge`。\n+ 如果输出的最后一行错误将会提示 `Your decide is wrong!`；\n+ 如果存在多种排名情况，排名错误将会提示 `Wrong ranks!`；\n+ 如果情况固定且您的答案错误将会提示 `In line X,Your ans is wrong:expected = X,found = Y`。", "locale": "zh-CN"}}}
{"pid": "P1961", "type": "P", "difficulty": 3, "samples": [["4\r\n3 2 0 4\r\n1 3 0 0\r\n4 4 2 1\r\n2 2 0 0", "40"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递归", "NOI 导刊"], "title": "最轻的天平", "background": null, "description": "天平的两边有时不一定只能挂物品，还可以继续挂着另一个天平，现在给你一些天平的情况和它们之间的连接关系，要求使得所有天平都能平衡所需物品的总重量最轻，一个天平平衡当且仅当：`左端点的重量` $\\times$ `左端点到支点的距离` $=$ `右端点的重量` $\\times$ `右端点到支点的距离`。注意题目中的输入保证这些天平构成一个整体。", "inputFormat": "第一行包含一个 $N(N \\le 100)$，表示天平的数量，天平编号为 $1$ 到 $N$。\n\n接下来包含 $N$ 行描述天平的情况，每行 $4$ 个整数 $P,Q,R,B$。$P$ 和 $Q$ 表示横杆上支点到左边的长度与到右边的长度。$R$ 表示左边悬挂的情况，如果 $R=0$ 说明悬挂的是物品，否则表示左边悬挂的是天平 $R$。$B$ 表示右边的悬挂情况，如果 $B=0$ 表示右边悬挂的是物品，否则右边悬挂着天平 $B$。\n\n题目保证在最优构造方案下，每一个天平两边的重力乘上对应力臂的总和不会超过 `int` 范围。", "outputFormat": "输出一个整数表示使得所有天平都平衡所需最轻的物品总重量。", "hint": "【样例说明】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k8lsxvj9.png)", "locale": "zh-CN", "translations": {"en": {"title": "The Lightest Balance", "background": "", "description": "The two sides of a balance do not necessarily hang only items; they can also hang another balance. You are given several balances and the connections between them. Your task is to make all balances balance with the minimal total weight of items. A balance is balanced if and only if: `weight at the left end` $\\times$ `distance from the left end to the fulcrum` $=$ `weight at the right end` $\\times$ `distance from the right end to the fulcrum`. Note that the input guarantees these balances form a single whole.", "inputFormat": "The first line contains an integer $N$ ($N \\le 100$), the number of balances, numbered from $1$ to $N$.\n\nThen follow $N$ lines, each with $4$ integers $P, Q, R, B$. $P$ and $Q$ denote the lengths on the beam from the fulcrum to the left and to the right, respectively. $R$ describes what is hung on the left: if $R = 0$, an item is hung; otherwise, the left side hangs balance $R$. $B$ describes what is hung on the right: if $B = 0$, an item is hung; otherwise, the right side hangs balance $B$.\n\nIt is guaranteed that in the optimal construction, for every balance, the sum of `weight × lever arm` over both sides will not exceed the `int` range.", "outputFormat": "Output a single integer representing the minimal total weight of items needed to make all balances balance.", "hint": "[Sample Explanation]\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k8lsxvj9.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最轻的天平", "background": null, "description": "天平的两边有时不一定只能挂物品，还可以继续挂着另一个天平，现在给你一些天平的情况和它们之间的连接关系，要求使得所有天平都能平衡所需物品的总重量最轻，一个天平平衡当且仅当：`左端点的重量` $\\times$ `左端点到支点的距离` $=$ `右端点的重量` $\\times$ `右端点到支点的距离`。注意题目中的输入保证这些天平构成一个整体。", "inputFormat": "第一行包含一个 $N(N \\le 100)$，表示天平的数量，天平编号为 $1$ 到 $N$。\n\n接下来包含 $N$ 行描述天平的情况，每行 $4$ 个整数 $P,Q,R,B$。$P$ 和 $Q$ 表示横杆上支点到左边的长度与到右边的长度。$R$ 表示左边悬挂的情况，如果 $R=0$ 说明悬挂的是物品，否则表示左边悬挂的是天平 $R$。$B$ 表示右边的悬挂情况，如果 $B=0$ 表示右边悬挂的是物品，否则右边悬挂着天平 $B$。\n\n题目保证在最优构造方案下，每一个天平两边的重力乘上对应力臂的总和不会超过 `int` 范围。", "outputFormat": "输出一个整数表示使得所有天平都平衡所需最轻的物品总重量。", "hint": "【样例说明】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k8lsxvj9.png)", "locale": "zh-CN"}}}
{"pid": "P1962", "type": "P", "difficulty": 4, "samples": [["5", "5"], ["10", "55"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "递推", "矩阵运算", "矩阵乘法"], "title": "斐波那契数列", "background": null, "description": "大家都知道，斐波那契数列是满足如下性质的一个数列：\n\n$$F_n = \\left\\{\\begin{aligned} 1 \\space (n \\le 2) \\\\ F_{n-1}+F_{n-2} \\space (n\\ge 3) \\end{aligned}\\right.$$\n\n\n请你求出 $F_n \\bmod 10^9 + 7$ 的值。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "【数据范围】    \n对于 $60\\%$ 的数据，$1\\le n \\le 92$；   \n对于 $100\\%$ 的数据，$1\\le n < 2^{63}$。", "locale": "zh-CN", "translations": {"en": {"title": "Fibonacci Sequence", "background": "", "description": "As we all know, the Fibonacci sequence is defined by the following properties:\n\n$$F_n = \\left\\{\\begin{aligned} 1 \\space (n \\le 2) \\\\ F_{n-1}+F_{n-2} \\space (n\\ge 3) \\end{aligned}\\right.$$\n\nPlease compute the value of $F_n \\bmod 10^9 + 7$.", "inputFormat": "A single line containing a positive integer $n$.", "outputFormat": "Output a single integer on one line representing the answer.", "hint": "Constraints    \nFor 60% of the testdata, $1 \\le n \\le 92$.    \nFor 100% of the testdata, $1 \\le n < 2^{63}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "斐波那契数列", "background": null, "description": "大家都知道，斐波那契数列是满足如下性质的一个数列：\n\n$$F_n = \\left\\{\\begin{aligned} 1 \\space (n \\le 2) \\\\ F_{n-1}+F_{n-2} \\space (n\\ge 3) \\end{aligned}\\right.$$\n\n\n请你求出 $F_n \\bmod 10^9 + 7$ 的值。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "【数据范围】    \n对于 $60\\%$ 的数据，$1\\le n \\le 92$；   \n对于 $100\\%$ 的数据，$1\\le n < 2^{63}$。", "locale": "zh-CN"}}}
{"pid": "P1963", "type": "P", "difficulty": 6, "samples": [["5\n1 1 2 2 1\n", "1 2 4 0 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2009", "NOI", "二分图"], "title": "[NOI2009] 变换序列", "background": null, "description": "对于 $N$ 个整数 $0, 1, \\cdots, N-1$，一个变换序列 $T$ 可以将 $i$ 变成 $T_i$，其中 $T_i \\in \\{ 0,1,\\cdots, N-1\\}$ 且 $\\bigcup_{i=0}^{N-1} \\{T_i\\} = \\{0,1,\\cdots , N-1\\}$。$\\forall x,y \\in  \\{0,1,\\cdots , N-1\\}$，定义 $x$ 和 $y$ 之间的距离 $D(x,y)=\\min\\{|x-y|,N-|x-y|\\}$。给定每个 $i$ 和 $T_i$ 之间的距离 $D(i,T_i)$，你需要求出一个满足要求的变换序列 $T$。如果有多个满足条件的序列，输出其中字典序最小的一个。\n\n说明：对于两个变换序列 $S$ 和 $T$，如果存在 $p<N$，满足对于 $i=0,1,\\cdots p-1$，$S_i=T_i$ 且 $S_p<T_p$，我们称 $S$ 比 $T$ 字典序小。", "inputFormat": "第一行包含一个正整数 $N$，表示序列的长度。接下来的一行包含 $N$ 个整数 $D_i$，其中 $D_i$ 表示 $i$ 和 $T_i$ 之间的距离。", "outputFormat": "如果至少存在一个满足要求的变换序列 $T$，则输出文件中包含一行 $N$ 个整数，表示你计算得到的字典序最小的 $T$；否则输出 `No Answer`（不含引号）。注意：输出文件中相邻两个数之间用一个空格分开，行末不包含多余空格。", "hint": "- 对于 $30\\%$ 的数据，满足：$1\\le N \\le 50$；\n- 对于 $60\\%$ 的数据，满足：$1\\le N \\le 500$；\n- 对于 $100\\%$ 的数据，满足：$1\\le N \\le 10 ^ 4$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Transformation Sequence", "background": "", "description": "Consider the integers $0, 1, \\cdots, N-1$. A transformation sequence $T$ maps $i$ to $T_i$, where $T_i \\in \\{ 0,1,\\cdots, N-1\\}$ and $\\bigcup_{i=0}^{N-1} \\{T_i\\} = \\{0,1,\\cdots , N-1\\}$. For all $x, y \\in \\{0,1,\\cdots , N-1\\}$, define the distance between $x$ and $y$ as $D(x,y)=\\min\\{|x-y|,N-|x-y|\\}$. Given each $D(i,T_i)$, you need to find a transformation sequence $T$ that satisfies the requirements. If there are multiple valid sequences, output the lexicographically smallest one.\n\nNote: For two transformation sequences $S$ and $T$, if there exists $p < N$ such that for $i = 0, 1, \\cdots, p-1$, $S_i = T_i$ and $S_p < T_p$, then we say $S$ is lexicographically smaller than $T$.", "inputFormat": "The first line contains a positive integer $N$, the length of the sequence. The next line contains $N$ integers $D_i$, where $D_i$ denotes the distance between $i$ and $T_i$.", "outputFormat": "If at least one valid transformation sequence $T$ exists, output one line with $N$ integers, which is the lexicographically smallest $T$ you computed; otherwise output `No Answer`. Note that adjacent numbers are separated by a single space, and there is no trailing space at the end of the line.", "hint": "- For 30% of the testdata: $N \\le 50$.\n- For 60% of the testdata: $N \\le 500$.\n- For 100% of the testdata: $N \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 变换序列", "background": null, "description": "对于 $N$ 个整数 $0, 1, \\cdots, N-1$，一个变换序列 $T$ 可以将 $i$ 变成 $T_i$，其中 $T_i \\in \\{ 0,1,\\cdots, N-1\\}$ 且 $\\bigcup_{i=0}^{N-1} \\{T_i\\} = \\{0,1,\\cdots , N-1\\}$。$\\forall x,y \\in  \\{0,1,\\cdots , N-1\\}$，定义 $x$ 和 $y$ 之间的距离 $D(x,y)=\\min\\{|x-y|,N-|x-y|\\}$。给定每个 $i$ 和 $T_i$ 之间的距离 $D(i,T_i)$，你需要求出一个满足要求的变换序列 $T$。如果有多个满足条件的序列，输出其中字典序最小的一个。\n\n说明：对于两个变换序列 $S$ 和 $T$，如果存在 $p<N$，满足对于 $i=0,1,\\cdots p-1$，$S_i=T_i$ 且 $S_p<T_p$，我们称 $S$ 比 $T$ 字典序小。", "inputFormat": "第一行包含一个正整数 $N$，表示序列的长度。接下来的一行包含 $N$ 个整数 $D_i$，其中 $D_i$ 表示 $i$ 和 $T_i$ 之间的距离。", "outputFormat": "如果至少存在一个满足要求的变换序列 $T$，则输出文件中包含一行 $N$ 个整数，表示你计算得到的字典序最小的 $T$；否则输出 `No Answer`（不含引号）。注意：输出文件中相邻两个数之间用一个空格分开，行末不包含多余空格。", "hint": "- 对于 $30\\%$ 的数据，满足：$1\\le N \\le 50$；\n- 对于 $60\\%$ 的数据，满足：$1\\le N \\le 500$；\n- 对于 $100\\%$ 的数据，满足：$1\\le N \\le 10 ^ 4$。", "locale": "zh-CN"}}}
{"pid": "P1964", "type": "P", "difficulty": 2, "samples": [["20 3\r\n63 1 64 yinshifen\r\n1 10 1 men\r\n1 1 64 yinshifen", "64"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "【mc生存】卖东西", "background": "服务器好好玩。", "description": "lcy0x1 去服务器的系统商店买东西。\n\n一个人的背包有 $21$ 格。\n\n一开始他的背包里有 $m$ 件不同的物品（**不能卖**）。\n\n他要买 $n$ 种物品，第 $i$ 件物品的名字为 $st_i$，有 $a_i$ 件，单件价值为 $b_i$，一格可以放 $c_i$ 件。\n\n相同的物品可以放同一格（只要没放满）。\n\n问：他一次最多能买多少钱的物品。", "inputFormat": "第一行两个整数 $m,n$。\n\n下面 $n$ 行，第 $i+1$ 行三个整数 $a_i,b_i,c_i$ 与一个字符串 $st_i$。", "outputFormat": "买入物品的最高价值总和 $s$。", "hint": "数据保证：\n\n- $0\\leq m\\leq 21$；\n- $0\\leq n\\leq 100$；\n- $0\\leq a_i\\leq 1344$；\n- $0\\leq b_i\\leq 10^4$；\n- $0<c_i\\leq 64$；\n- $0<|st_i|<100$；\n- $0\\leq s\\leq 10^6$。\n\n**注：数据强大，搜索 $0$ 分，请使用多重背包。**", "locale": "zh-CN", "translations": {"en": {"title": "【MC Survival】Selling Items", "background": "The server is fun.", "description": "lcy0x1 goes to the server’s system shop to sell items.\n\nA player’s backpack has $21$ slots.\n\nInitially, his backpack contains $m$ different item types (cannot be sold), which occupy $m$ slots.\n\nHe wants to sell $n$ types of items. For the $i$-th type with name $st_i$, there are $a_i$ items, each worth $b_i$, and up to $c_i$ items can be stacked in one slot.\n\nIdentical items can be put in the same slot as long as it is not full.\n\nQuestion: In one run, what is the maximum amount of money he can sell?", "inputFormat": "The first line contains two integers $m, n$.\n\nEach of the next $n$ lines contains three integers $a_i, b_i, c_i$ and a string $st_i$.", "outputFormat": "The maximum amount of money $s$.", "hint": "Constraints:\n\n- $0\\leq m\\leq 21$；\n- $0\\leq n\\leq 100$；\n- $0\\leq a_i\\leq 1344$；\n- $0\\leq b_i\\leq 10^4$；\n- $0<c_i\\leq 64$；\n- $0<|st_i|<100$；\n- $0\\leq s\\leq 10^6$。\n\nNote: The testdata is strong. Brute-force search scores $0$. Please use the bounded knapsack.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【mc生存】卖东西", "background": "服务器好好玩。", "description": "lcy0x1 去服务器的系统商店买东西。\n\n一个人的背包有 $21$ 格。\n\n一开始他的背包里有 $m$ 件不同的物品（**不能卖**）。\n\n他要买 $n$ 种物品，第 $i$ 件物品的名字为 $st_i$，有 $a_i$ 件，单件价值为 $b_i$，一格可以放 $c_i$ 件。\n\n相同的物品可以放同一格（只要没放满）。\n\n问：他一次最多能买多少钱的物品。", "inputFormat": "第一行两个整数 $m,n$。\n\n下面 $n$ 行，第 $i+1$ 行三个整数 $a_i,b_i,c_i$ 与一个字符串 $st_i$。", "outputFormat": "买入物品的最高价值总和 $s$。", "hint": "数据保证：\n\n- $0\\leq m\\leq 21$；\n- $0\\leq n\\leq 100$；\n- $0\\leq a_i\\leq 1344$；\n- $0\\leq b_i\\leq 10^4$；\n- $0<c_i\\leq 64$；\n- $0<|st_i|<100$；\n- $0\\leq s\\leq 10^6$。\n\n**注：数据强大，搜索 $0$ 分，请使用多重背包。**", "locale": "zh-CN"}}}
{"pid": "P1965", "type": "P", "difficulty": 2, "samples": [["10 3 4 5\n", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "2013", "NOIP 提高组"], "title": "[NOIP 2013 提高组] 转圈游戏", "background": "NOIP2013 提高组 D1T1", "description": "$n$ 个小伙伴（编号从 $0$ 到 $n-1$）围坐一圈玩游戏。按照顺时针方向给 $n$ 个位置编号，从 $0$ 到 $n-1$。最初，第 $0$ 号小伙伴在第 $0$ 号位置，第 $1$ 号小伙伴在第 $1$ 号位置，……，依此类推。游戏规则如下：每一轮第 $0$ 号位置上的小伙伴顺时针走到第 $m$ 号位置，第 $1$ 号位置小伙伴走到第 $m+1$ 号位置，……，依此类推，第 $n - m$ 号位置上的小伙伴走到第 $0$ 号位置，第 $n - m+1$ 号位置上的小伙伴走到第 $1$ 号位置，……，第 $n-1$ 号位置上的小伙伴顺时针走到第 $m-1$ 号位置。\n\n现在，一共进行了 ${10}^k$ 轮，请问 $x$ 号小伙伴最后走到了第几号位置。", "inputFormat": "共一行，包含四个整数 $n, m, k, x$，每两个整数之间用一个空格隔开。\n", "outputFormat": "一个整数，表示 ${10}^k$ 轮后 $x$ 号小伙伴所在的位置编号。", "hint": "对于 $30\\%$ 的数据，$0 < k < 7$；\n\n对于 $80\\%$ 的数据，$0 < k < {10}^7$；\n\n对于 $100\\%$ 的数据，$1 < n < {10}^6$，$0 < m < n$，$0 \\le x \\le n$，$0 < k < {10}^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Senior] Circle Game", "background": "NOIP 2013 Senior D1T1.", "description": "$n$ friends (numbered from $0$ to $n-1$) sit in a circle to play a game. The $n$ positions are numbered clockwise from $0$ to $n-1$. Initially, friend $0$ is at position $0$, friend $1$ is at position $1$, and so on. The rules are as follows: in each round, the friend at position $0$ moves clockwise to position $m$, the friend at position $1$ moves to position $m+1$, and so on; the friend at position $n-m$ moves to position $0$, the friend at position $n-m+1$ moves to position $1$, ... , and the friend at position $n-1$ moves clockwise to position $m-1$.\n\nNow, after a total of ${10}^k$ rounds, determine which position friend $x$ ends up at.", "inputFormat": "One line containing four integers $n, m, k, x$, with a single space separating each pair of integers.", "outputFormat": "One integer, the position index where friend $x$ is located after ${10}^k$ rounds.", "hint": "For $30\\%$ of the testdata, $0 < k < 7$.\n\nFor $80\\%$ of the testdata, $0 < k < {10}^7$.\n\nFor $100\\%$ of the testdata, $1 < n < {10}^6$, $0 < m < n$, $0 \\le x \\le n$, $0 < k < {10}^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 提高组] 转圈游戏", "background": "NOIP2013 提高组 D1T1", "description": "$n$ 个小伙伴（编号从 $0$ 到 $n-1$）围坐一圈玩游戏。按照顺时针方向给 $n$ 个位置编号，从 $0$ 到 $n-1$。最初，第 $0$ 号小伙伴在第 $0$ 号位置，第 $1$ 号小伙伴在第 $1$ 号位置，……，依此类推。游戏规则如下：每一轮第 $0$ 号位置上的小伙伴顺时针走到第 $m$ 号位置，第 $1$ 号位置小伙伴走到第 $m+1$ 号位置，……，依此类推，第 $n - m$ 号位置上的小伙伴走到第 $0$ 号位置，第 $n - m+1$ 号位置上的小伙伴走到第 $1$ 号位置，……，第 $n-1$ 号位置上的小伙伴顺时针走到第 $m-1$ 号位置。\n\n现在，一共进行了 ${10}^k$ 轮，请问 $x$ 号小伙伴最后走到了第几号位置。", "inputFormat": "共一行，包含四个整数 $n, m, k, x$，每两个整数之间用一个空格隔开。\n", "outputFormat": "一个整数，表示 ${10}^k$ 轮后 $x$ 号小伙伴所在的位置编号。", "hint": "对于 $30\\%$ 的数据，$0 < k < 7$；\n\n对于 $80\\%$ 的数据，$0 < k < {10}^7$；\n\n对于 $100\\%$ 的数据，$1 < n < {10}^6$，$0 < m < n$，$0 \\le x \\le n$，$0 < k < {10}^9$。", "locale": "zh-CN"}}}
{"pid": "P1966", "type": "P", "difficulty": 5, "samples": [["4\n2 3 1 4\n3 2 1 4\n", "1"], ["4\n1 3 4 2\n1 7 2 4", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2013", "树状数组", "NOIP 提高组", "排序"], "title": "[NOIP 2013 提高组] 火柴排队", "background": "NOIP2013 提高组 D1T2", "description": "涵涵有两盒火柴，每盒装有 $n$ 根火柴，每根火柴都有一个高度。 现在将每盒中的火柴各自排成一列， 同一列火柴的高度互不相同， 两列火柴之间的距离定义为：$ \\sum (a_i-b_i)^2$。\n\n其中 $a_i$ 表示第一列火柴中第 $i$ 个火柴的高度，$b_i$ 表示第二列火柴中第  $i$ 个火柴的高度。\n\n每列火柴中相邻两根火柴的位置都可以交换，请你通过交换使得两列火柴之间的距离最小。请问得到这个最小的距离，最少需要交换多少次？如果这个数字太大，请输出这个最小交换次数对 $10^8-3$ 取模的结果。\n", "inputFormat": "共三行，第一行包含一个整数 $n$，表示每盒中火柴的数目。\n\n第二行有 $n$ 个整数，每两个整数之间用一个空格隔开，表示第一列火柴的高度。\n\n第三行有 $n$ 个整数，每两个整数之间用一个空格隔开，表示第二列火柴的高度。\n", "outputFormat": "一个整数，表示最少交换次数对 $10^8-3$ 取模的结果。\n", "hint": "**输入输出样例说明一**\n\n最小距离是 $ 0$，最少需要交换 $1$ 次，比如：交换第 $1 $ 列的前 $ 2$ 根火柴或者交换第 $2$ 列的前 $2 $ 根火柴。\n\n**输入输出样例说明二**\n\n最小距离是 $10$，最少需要交换 $2$ 次，比如：交换第 $1$ 列的中间 $2$ 根火柴的位置，再交换第 $2$ 列中后 $2$ 根火柴的位置。\n\n**数据范围**\n\n对于 $10\\%$ 的数据， $1 \\leq n \\leq 10$；\n\n对于 $30\\%$ 的数据，$1 \\leq n \\leq 100$；\n\n对于 $60\\%$ 的数据，$1 \\leq n \\leq 10^3$；\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^5$，$0 \\leq a_i,b_i < 2^{31}$ 且对于任意 $1\\le i<j\\le n$，$a_i\\neq a_j$，$b_i\\neq b_j$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Senior] Matchsticks Lineup", "background": "NOIP 2013 Senior D1T2.", "description": "Hanhan has two boxes of matches, each containing $n$ matches. Every match has a height. Now arrange the matches from each box into a column. Within the same column, all heights are distinct. Define the distance between the two columns as $ \\sum (a_i-b_i)^2$.\n\nHere $a_i$ is the height of the $i$-th match in the first column, and $b_i$ is the height of the $i$-th match in the second column.\n\nYou may swap adjacent matches within each column. Please minimize the distance between the two columns by swapping. What is the minimum number of swaps needed to achieve this minimum distance? If this number is too large, output the result of this minimum number of swaps modulo $10^8-3$.", "inputFormat": "There are three lines in total. The first line contains an integer $n$, the number of matches in each box.\n\nThe second line contains $n$ integers separated by single spaces, representing the heights of the matches in the first column.\n\nThe third line contains $n$ integers separated by single spaces, representing the heights of the matches in the second column.", "outputFormat": "Output a single integer: the minimum number of swaps modulo $10^8-3$.", "hint": "Explanation for Sample 1:\n\nThe minimum distance is $ 0$; the minimum number of swaps is $1$. For example, swap the first $ 2$ matches in column $1$, or swap the first $2 $ matches in column $2$.\n\nExplanation for Sample 2:\n\nThe minimum distance is $10$; the minimum number of swaps is $2$. For example, swap the middle $2$ matches in column $1$, and then swap the last $2$ matches in column $2$.\n\nConstraints\n\n- For $10\\%$ of the testdata, $1 \\leq n \\leq 10$.\n- For $30\\%$ of the testdata, $1 \\leq n \\leq 100$.\n- For $60\\%$ of the testdata, $1 \\leq n \\leq 10^3$.\n- For $100\\%$ of the testdata, $1 \\leq n \\leq 10^5$, $0 \\leq a_i,b_i < 2^{31}$, and for any $1 \\le i < j \\le n$, $a_i \\neq a_j$, $b_i \\neq b_j$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 提高组] 火柴排队", "background": "NOIP2013 提高组 D1T2", "description": "涵涵有两盒火柴，每盒装有 $n$ 根火柴，每根火柴都有一个高度。 现在将每盒中的火柴各自排成一列， 同一列火柴的高度互不相同， 两列火柴之间的距离定义为：$ \\sum (a_i-b_i)^2$。\n\n其中 $a_i$ 表示第一列火柴中第 $i$ 个火柴的高度，$b_i$ 表示第二列火柴中第  $i$ 个火柴的高度。\n\n每列火柴中相邻两根火柴的位置都可以交换，请你通过交换使得两列火柴之间的距离最小。请问得到这个最小的距离，最少需要交换多少次？如果这个数字太大，请输出这个最小交换次数对 $10^8-3$ 取模的结果。\n", "inputFormat": "共三行，第一行包含一个整数 $n$，表示每盒中火柴的数目。\n\n第二行有 $n$ 个整数，每两个整数之间用一个空格隔开，表示第一列火柴的高度。\n\n第三行有 $n$ 个整数，每两个整数之间用一个空格隔开，表示第二列火柴的高度。\n", "outputFormat": "一个整数，表示最少交换次数对 $10^8-3$ 取模的结果。\n", "hint": "**输入输出样例说明一**\n\n最小距离是 $ 0$，最少需要交换 $1$ 次，比如：交换第 $1 $ 列的前 $ 2$ 根火柴或者交换第 $2$ 列的前 $2 $ 根火柴。\n\n**输入输出样例说明二**\n\n最小距离是 $10$，最少需要交换 $2$ 次，比如：交换第 $1$ 列的中间 $2$ 根火柴的位置，再交换第 $2$ 列中后 $2$ 根火柴的位置。\n\n**数据范围**\n\n对于 $10\\%$ 的数据， $1 \\leq n \\leq 10$；\n\n对于 $30\\%$ 的数据，$1 \\leq n \\leq 100$；\n\n对于 $60\\%$ 的数据，$1 \\leq n \\leq 10^3$；\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^5$，$0 \\leq a_i,b_i < 2^{31}$ 且对于任意 $1\\le i<j\\le n$，$a_i\\neq a_j$，$b_i\\neq b_j$。", "locale": "zh-CN"}}}
{"pid": "P1967", "type": "P", "difficulty": 5, "samples": [["4 3\n1 2 4\n2 3 3\n3 1 1\n3\n1 3\n1 4\n1 3", "3\n-1\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "贪心", "2013", "倍增", "并查集", "Kruskal 重构树", "NOIP 提高组", "生成树", "最近公共祖先 LCA"], "title": "[NOIP 2013 提高组] 货车运输", "background": "NOIP2013 提高组 D1T3", "description": "A 国有 $n$ 座城市，编号从 $1$ 到 $n$，城市之间有 $m$ 条双向道路。每一条道路对车辆都有重量限制，简称限重。\n\n现在有 $q$ 辆货车在运输货物，司机们想知道每辆车在不超过车辆限重的情况下，最多能运多重的货物。", "inputFormat": "第一行有两个用一个空格隔开的整数 $n,m$，表示 A 国有 $n$ 座城市和 $m$ 条道路。  \n\n接下来 $m$ 行每行三个整数 $x, y, z$，每两个整数之间用一个空格隔开，表示从 $x$ 号城市到 $y$ 号城市有一条限重为 $z$ 的道路。    \n注意：$x \\neq y$，两座城市之间可能有多条道路。\n\n接下来一行有一个整数 $q$，表示有 $q$ 辆货车需要运货。\n\n接下来 $q$ 行，每行两个整数 $x,y$，之间用一个空格隔开，表示一辆货车需要从 $x$ 城市运输货物到 $y$ 城市，保证 $x \\neq y$。", "outputFormat": "共有 $q$ 行，每行一个整数，表示对于每一辆货车，它的最大载重是多少。  \n如果货车不能到达目的地，输出 $-1$。", "hint": "对于 $30\\%$ 的数据，$1 \\le n < 1000$，$1 \\le m < 10,000$，$1\\le q< 1000$；\n\n对于 $60\\%$ 的数据，$1 \\le n < 1000$，$1 \\le m < 5\\times 10^4$，$1 \\le q< 1000$；\n\n对于 $100\\%$ 的数据，$1 \\le n < 10^4$，$1 \\le m < 5\\times 10^4$，$1 \\le q< 3\\times 10^4 $，$0 \\le z \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Senior] Truck Transportation", "background": "NOIP 2013 Senior D1T3.", "description": "Country A has $n$ cities, numbered from $1$ to $n$, and there are $m$ bidirectional roads between the cities. Each road has a weight limit for vehicles, referred to as the load limit.\n\nThere are $q$ trucks transporting goods. The drivers want to know, without exceeding any road's weight limit, the maximum weight each truck can carry.", "inputFormat": "The first line contains two integers $n,m$ separated by a single space, indicating that Country A has $n$ cities and $m$ roads.\n\nEach of the next $m$ lines contains three integers $x, y, z$, separated by single spaces, indicating there is a road from city $x$ to city $y$ with weight limit $z$.  \nNote: $x \\neq y$, and there may be multiple roads between two cities.\n\nThe next line contains an integer $q$, meaning there are $q$ trucks that need to transport goods.\n\nThen follow $q$ lines, each containing two integers $x,y$ separated by a space, indicating a truck needs to transport goods from city $x$ to city $y$, with $x \\neq y$ guaranteed.", "outputFormat": "Output $q$ lines, each with an integer, indicating the maximum load for each truck.  \nIf a truck cannot reach the destination, output $-1$.", "hint": "For $30\\%$ of the testdata, $1 \\le n < 1000$, $1 \\le m < 10,000$, $1\\le q< 1000$.\n\nFor $60\\%$ of the testdata, $1 \\le n < 1000$, $1 \\le m < 5\\times 10^4$, $1 \\le q< 1000$.\n\nFor $100\\%$ of the testdata, $1 \\le n < 10^4$, $1 \\le m < 5\\times 10^4$, $1 \\le q< 3\\times 10^4 $, $0 \\le z \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 提高组] 货车运输", "background": "NOIP2013 提高组 D1T3", "description": "A 国有 $n$ 座城市，编号从 $1$ 到 $n$，城市之间有 $m$ 条双向道路。每一条道路对车辆都有重量限制，简称限重。\n\n现在有 $q$ 辆货车在运输货物，司机们想知道每辆车在不超过车辆限重的情况下，最多能运多重的货物。", "inputFormat": "第一行有两个用一个空格隔开的整数 $n,m$，表示 A 国有 $n$ 座城市和 $m$ 条道路。  \n\n接下来 $m$ 行每行三个整数 $x, y, z$，每两个整数之间用一个空格隔开，表示从 $x$ 号城市到 $y$ 号城市有一条限重为 $z$ 的道路。    \n注意：$x \\neq y$，两座城市之间可能有多条道路。\n\n接下来一行有一个整数 $q$，表示有 $q$ 辆货车需要运货。\n\n接下来 $q$ 行，每行两个整数 $x,y$，之间用一个空格隔开，表示一辆货车需要从 $x$ 城市运输货物到 $y$ 城市，保证 $x \\neq y$。", "outputFormat": "共有 $q$ 行，每行一个整数，表示对于每一辆货车，它的最大载重是多少。  \n如果货车不能到达目的地，输出 $-1$。", "hint": "对于 $30\\%$ 的数据，$1 \\le n < 1000$，$1 \\le m < 10,000$，$1\\le q< 1000$；\n\n对于 $60\\%$ 的数据，$1 \\le n < 1000$，$1 \\le m < 5\\times 10^4$，$1 \\le q< 1000$；\n\n对于 $100\\%$ 的数据，$1 \\le n < 10^4$，$1 \\le m < 5\\times 10^4$，$1 \\le q< 3\\times 10^4 $，$0 \\le z \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1968", "type": "P", "difficulty": 2, "samples": [["5\n400\n300\n500\n300\n250", "266.67"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "Special Judge"], "title": "美元汇率", "background": "此处省略 `MAX_INT+1` 个数。", "description": "在以后的若干天里戴维将学习美元与德国马克的汇率。编写程序帮助戴维何时应买或卖马克或美元，使他从 $100$ 美元开始，最后能获得最高可能的价值。\n", "inputFormat": "输入文件的第一行是一个自然数 $N$，$1≤N≤100$，表示戴维学习汇率的天数。\n\n接下来的 $N$ 行中每行是一个自然数 $A$，$1≤A≤1000$。第 $i+1$ 行的 $A$ 表示预先知道的第 $i+1$ 天的平均汇率，在这一天中，戴维既能用 $100$ 美元买 $A$ 马克也能用 $A$ 马克购买 $100$ 美元。\n", "outputFormat": "输出文件的第一行也是唯一的一行应输出要求的钱数（单位为美元，保留两位小数）。\n\n注意：考虑到实数算术运算中进位的误差，结果在正确结果 $0.05$ 美元范围内的被认为是正确的，戴维必须在最后一天结束之前将他的钱都换成美元。\n", "hint": "**样例解释**\n\n```cpp\nDay 1 ... changing 100.0000 美元= 400.0000 马克\nDay 2 ... changing 400.0000 马克= 133.3333 美元\nDay 3 ... changing 133.3333 美元= 666.6666 马克\nDay 5 ... changing 666.6666 马克= 266.6666 美元\n```\n\nupdate on 2017/08/18：\n\n1. 样例正确答案为 $266.67$\n\n2. 已经把测试点 $1$ 改成样例。\n\n3. SPJ 原先误差是 $0.01$，按照题目要求，重新改为 $0.05$。", "locale": "zh-CN", "translations": {"en": {"title": "USD Exchange Rate", "background": "", "description": "In the coming days, David will study the exchange rate between the US dollar and the Deutsche Mark. Write a program to help David decide when he should buy or sell marks or dollars so that, starting from $100$ dollars, he can end up with the highest possible value.", "inputFormat": "The first line of the input file contains a natural number $N$, $1 \\le N \\le 100$, which is the number of days David studies the exchange rate.\n\nEach of the next $N$ lines contains a natural number $A$, $1 \\le A \\le 1000$. The $A$ on line $i+1$ gives the known average exchange rate for day $i+1$: on that day, David can use $100$ dollars to buy $A$ marks, and he can also use $A$ marks to buy $100$ dollars.", "outputFormat": "Output a single line with the required amount of money (in dollars), rounded to two decimal places.\n\nNote: Considering rounding errors in real-number arithmetic, any result within $0.05$ dollars of the correct answer is accepted. David must convert all his money back to dollars before the end of the last day.", "hint": "**Sample explanation**\n\n```cpp\nDay 1 ... changing 100.0000 USD= 400.0000 Mark\nDay 2 ... changing 400.0000 Mark= 133.3333 USD\nDay 3 ... changing 133.3333 USD= 666.6666 Mark\nDay 5 ... changing 666.6666 Mark= 266.6666 USD\n```\n\nUpdated on 2017/08/18:\n\n1. The correct answer to the sample is $266.67$.\n2. Test point $1$ has been replaced by the sample.\n3. The SPJ's tolerance used to be $0.01$; according to the statement, it has been changed to $0.05$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "美元汇率", "background": "此处省略 `MAX_INT+1` 个数。", "description": "在以后的若干天里戴维将学习美元与德国马克的汇率。编写程序帮助戴维何时应买或卖马克或美元，使他从 $100$ 美元开始，最后能获得最高可能的价值。\n", "inputFormat": "输入文件的第一行是一个自然数 $N$，$1≤N≤100$，表示戴维学习汇率的天数。\n\n接下来的 $N$ 行中每行是一个自然数 $A$，$1≤A≤1000$。第 $i+1$ 行的 $A$ 表示预先知道的第 $i+1$ 天的平均汇率，在这一天中，戴维既能用 $100$ 美元买 $A$ 马克也能用 $A$ 马克购买 $100$ 美元。\n", "outputFormat": "输出文件的第一行也是唯一的一行应输出要求的钱数（单位为美元，保留两位小数）。\n\n注意：考虑到实数算术运算中进位的误差，结果在正确结果 $0.05$ 美元范围内的被认为是正确的，戴维必须在最后一天结束之前将他的钱都换成美元。\n", "hint": "**样例解释**\n\n```cpp\nDay 1 ... changing 100.0000 美元= 400.0000 马克\nDay 2 ... changing 400.0000 马克= 133.3333 美元\nDay 3 ... changing 133.3333 美元= 666.6666 马克\nDay 5 ... changing 666.6666 马克= 266.6666 美元\n```\n\nupdate on 2017/08/18：\n\n1. 样例正确答案为 $266.67$\n\n2. 已经把测试点 $1$ 改成样例。\n\n3. SPJ 原先误差是 $0.01$，按照题目要求，重新改为 $0.05$。", "locale": "zh-CN"}}}
{"pid": "P1969", "type": "P", "difficulty": 3, "samples": [["5\n2 3 4 1 2", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "贪心", "2013", "递归", "NOIP 提高组"], "title": "[NOIP 2013 提高组] 积木大赛", "background": "NOIP2013 提高组 D2T1", "description": "春春幼儿园举办了一年一度的“积木大赛”。今年比赛的内容是搭建一座宽度为 $n$ 的大厦，大厦可以看成由 $n$ 块宽度为 $1$ 的积木组成，第 $i$ 块积木的最终高度需要是 $h_i$。\n\n在搭建开始之前，没有任何积木（可以看成 $n$ 块高度为 $0$ 的积木）。接下来每次操作，小朋友们可以选择一段连续区间 $[l, r]$，然后将第 $L$ 块到第 $R$ 块之间（含第 $L$ 块和第 $R$ 块）所有积木的高度分别增加 $1$。\n\n小 M 是个聪明的小朋友，她很快想出了建造大厦的最佳策略，使得建造所需的操作次数最少。但她不是一个勤于动手的孩子，所以想请你帮忙实现这个策略，并求出最少的操作次数。\n", "inputFormat": "包含两行，第一行包含一个整数 $n$，表示大厦的宽度。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数为 $h_i$。\n", "outputFormat": "建造所需的最少操作数。\n", "hint": "**样例解释**\n\n其中一种可行的最佳方案，依次选择：$[1,5]$，$ [1,3]$，$[2,3]$，$[3,3]$，$ [5,5]$。\n\n**数据范围**\n\n- 对于 $30\\%$ 的数据，有 $1 \\leq n \\leq 10$；\n- 对于 $70\\%$ 的数据，有 $1 \\leq n \\leq 1000$；\n- 对于 $100\\%$ 的数据，有 $1 \\leq n \\leq 100000$，$0 \\leq h_i \\leq 10000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Senior] Building Blocks Contest", "background": "NOIP 2013 Senior D2T1.", "description": "Chun-Chun Kindergarten is holding its annual \"Building Blocks Contest.\" This year, the task is to construct a building of width $n$, which can be regarded as composed of $n$ blocks each of width $1$. The final height of the $i$-th block should be $h_i$.\n\nBefore construction starts, there are no blocks (equivalently, there are $n$ blocks of height $0$). In each operation, the children may choose a continuous interval $[L, R]$, and then increase by $1$ the height of every block from the $L$-th to the $R$-th (inclusive).\n\nXiao M is a clever child and quickly figured out an optimal strategy that minimizes the number of operations. However, she is not keen on doing it herself, so she asks you to implement this strategy and compute the minimum number of operations.", "inputFormat": "There are two lines. The first line contains an integer $n$, the width of the building.  \nThe second line contains $n$ integers, where the $i$-th integer is $h_i$.", "outputFormat": "Output the minimum number of operations required to complete the construction.", "hint": "Sample explanation:  \nOne optimal sequence is to choose: $[1, 5]$, $[1, 3]$, $[2, 3]$, $[3, 3]$, $[5, 5]$.\n\nConstraints:\n- For $30\\%$ of the testdata, $1 \\leq n \\leq 10$.\n- For $70\\%$ of the testdata, $1 \\leq n \\leq 1000$.\n- For $100\\%$ of the testdata, $1 \\leq n \\leq 100000$, $0 \\leq h_i \\leq 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 提高组] 积木大赛", "background": "NOIP2013 提高组 D2T1", "description": "春春幼儿园举办了一年一度的“积木大赛”。今年比赛的内容是搭建一座宽度为 $n$ 的大厦，大厦可以看成由 $n$ 块宽度为 $1$ 的积木组成，第 $i$ 块积木的最终高度需要是 $h_i$。\n\n在搭建开始之前，没有任何积木（可以看成 $n$ 块高度为 $0$ 的积木）。接下来每次操作，小朋友们可以选择一段连续区间 $[l, r]$，然后将第 $L$ 块到第 $R$ 块之间（含第 $L$ 块和第 $R$ 块）所有积木的高度分别增加 $1$。\n\n小 M 是个聪明的小朋友，她很快想出了建造大厦的最佳策略，使得建造所需的操作次数最少。但她不是一个勤于动手的孩子，所以想请你帮忙实现这个策略，并求出最少的操作次数。\n", "inputFormat": "包含两行，第一行包含一个整数 $n$，表示大厦的宽度。\n\n第二行包含 $n$ 个整数，第 $i$ 个整数为 $h_i$。\n", "outputFormat": "建造所需的最少操作数。\n", "hint": "**样例解释**\n\n其中一种可行的最佳方案，依次选择：$[1,5]$，$ [1,3]$，$[2,3]$，$[3,3]$，$ [5,5]$。\n\n**数据范围**\n\n- 对于 $30\\%$ 的数据，有 $1 \\leq n \\leq 10$；\n- 对于 $70\\%$ 的数据，有 $1 \\leq n \\leq 1000$；\n- 对于 $100\\%$ 的数据，有 $1 \\leq n \\leq 100000$，$0 \\leq h_i \\leq 10000$。\n", "locale": "zh-CN"}}}
{"pid": "P1970", "type": "P", "difficulty": 3, "samples": [["5\n5 3 2 1 2\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "贪心", "2013", "NOIP 提高组"], "title": "[NOIP 2013 提高组] 花匠", "background": "NOIP2013 提高组 D2T2", "description": "花匠栋栋种了一排花，每株花都有自己的高度。花儿越长越大，也越来越挤。栋栋决定把这排中的一部分花移走，将剩下的留在原地，使得剩下的花能有空间长大，同时，栋栋希望剩下的花排列得比较别致。\n\n具体而言，栋栋的花的高度可以看成一列整数 $h_1,h_2,\\ldots,h_n$。设当一部分花被移走后，剩下的花的高度依次为 $g_1,g_2,\\ldots,g_m$，则栋栋希望下面两个条件中至少有一个满足：\n\n条件 A：对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} > g_{2 i - 1}$，同时对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} > g_{2 i + 1}$；  \n条件 B：对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} < g_{2 i - 1}$，同时对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} < g_{2 i + 1}$。\n\n注意上面两个条件在 $m = 1$ 时同时满足，当 $m > 1 $ 时最多有一个能满足。\n\n请问，栋栋最多能将多少株花留在原地。\n", "inputFormat": "第一行包含一个整数 $n$，表示开始时花的株数。\n\n第二行包含 $n$ 个整数，依次为 $h_1,h_2,\\ldots,h_n$，表示每株花的高度。\n", "outputFormat": "输出一行，包含一个整数，表示最多能留在原地的花的株数。", "hint": "**输入输出样例说明**\n\n有多种方法可以正好保留 $3$ 株花，例如，留下第 $1$、$4$、$5$ 株，高度分别为 $5$、$1$、$2$，满足条件 B。\n\n**数据范围**\n\n对于 $20\\%$的数据，$n \\le 10$；\n\n对于 $30\\%$的数据，$n \\le 25$；\n\n对于 $70\\%$的数据，$n \\le 1000$，$0 \\le h_i \\le 1000$；\n\n对于 $100\\%$的数据，$1 \\le n \\le {10}^5$，$0 \\le h_i \\le {10}^6$，所有的 $h_i$ 随机生成，所有随机数服从某区间内的均匀分布。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Senior] Florist", "background": "NOIP 2013 Senior D2T2.", "description": "Dongdong the florist planted a row of flowers, each with its own height. As the flowers grow taller, the row becomes crowded. Dongdong decides to remove some of the flowers and leave the rest in place so that the remaining flowers have room to grow. At the same time, he hopes the remaining flowers form a stylish pattern.\n\nSpecifically, the heights of Dongdong’s flowers can be seen as a sequence of integers $h_1,h_2,\\ldots,h_n$. Suppose that after removing some flowers, the heights of the remaining flowers in order are $g_1,g_2,\\ldots,g_m$. Dongdong wants at least one of the following two conditions to hold:\n\nCondition A: For all $1 \\le i \\le \\frac{m}{2}$, $g_{2 i} > g_{2 i - 1}$, and for all $1 \\le i \\le \\frac{m}{2}$, $g_{2 i} > g_{2 i + 1}$;  \nCondition B: For all $1 \\le i \\le \\frac{m}{2}$, $g_{2 i} < g_{2 i - 1}$, and for all $1 \\le i \\le \\frac{m}{2}$, $g_{2 i} < g_{2 i + 1}$.\n\nNote that when $m = 1$, both conditions are satisfied; when $m > 1$, at most one of them can be satisfied.\n\nWhat is the maximum number of flowers that Dongdong can leave in place?", "inputFormat": "The first line contains an integer $n$, the number of flowers initially.\n\nThe second line contains $n$ integers $h_1,h_2,\\ldots,h_n$, the heights of the flowers.", "outputFormat": "Output a single line containing an integer, the maximum number of flowers that can be left in place.", "hint": "Explanation of the sample input and output:\n\nThere are multiple ways to keep exactly $3$ flowers. For example, keep the $1$st, $4$th, and $5$th flowers, with heights $5$, $1$, $2$, which satisfies Condition B.\n\nConstraints\n\n对于 $20\\%$ 的数据，$n \\le 10$；  \n对于 $30\\%$ 的数据，$n \\le 25$；  \n对于 $70\\%$ 的数据，$n \\le 1000$，$0 \\le h_i \\le 1000$；  \n对于 $100\\%$ 的数据，$1 \\le n \\le {10}^5$，$0 \\le h_i \\le {10}^6$，所有的 $h_i$ 随机生成，所有随机数服从某区间内的均匀分布。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 提高组] 花匠", "background": "NOIP2013 提高组 D2T2", "description": "花匠栋栋种了一排花，每株花都有自己的高度。花儿越长越大，也越来越挤。栋栋决定把这排中的一部分花移走，将剩下的留在原地，使得剩下的花能有空间长大，同时，栋栋希望剩下的花排列得比较别致。\n\n具体而言，栋栋的花的高度可以看成一列整数 $h_1,h_2,\\ldots,h_n$。设当一部分花被移走后，剩下的花的高度依次为 $g_1,g_2,\\ldots,g_m$，则栋栋希望下面两个条件中至少有一个满足：\n\n条件 A：对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} > g_{2 i - 1}$，同时对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} > g_{2 i + 1}$；  \n条件 B：对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} < g_{2 i - 1}$，同时对于所有的 $1 \\le i \\le \\frac{m}{2}$，有 $g_{2 i} < g_{2 i + 1}$。\n\n注意上面两个条件在 $m = 1$ 时同时满足，当 $m > 1 $ 时最多有一个能满足。\n\n请问，栋栋最多能将多少株花留在原地。\n", "inputFormat": "第一行包含一个整数 $n$，表示开始时花的株数。\n\n第二行包含 $n$ 个整数，依次为 $h_1,h_2,\\ldots,h_n$，表示每株花的高度。\n", "outputFormat": "输出一行，包含一个整数，表示最多能留在原地的花的株数。", "hint": "**输入输出样例说明**\n\n有多种方法可以正好保留 $3$ 株花，例如，留下第 $1$、$4$、$5$ 株，高度分别为 $5$、$1$、$2$，满足条件 B。\n\n**数据范围**\n\n对于 $20\\%$的数据，$n \\le 10$；\n\n对于 $30\\%$的数据，$n \\le 25$；\n\n对于 $70\\%$的数据，$n \\le 1000$，$0 \\le h_i \\le 1000$；\n\n对于 $100\\%$的数据，$1 \\le n \\le {10}^5$，$0 \\le h_i \\le {10}^6$，所有的 $h_i$ 随机生成，所有随机数服从某区间内的均匀分布。\n", "locale": "zh-CN"}}}
{"pid": "P1971", "type": "P", "difficulty": 7, "samples": [["1 6 \nXO.OXO \n1 \n1 2 \n1 1 ", "1\n1"], ["3 3 \nXOX \nO.O \nXOX \n4 \n2 3 \n1 3 \n1 2 \n1 1 \n2 1 \n3 1 \n3 2 \n3 3 ", "0"], ["4 4 \nOOXX \nOXXO \nOO.O \nXXXO \n2 \n3 2 \n2 2 \n1 2 \n1 3 ", "2\n1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "NOI", "深度优先搜索 DFS", "二分图"], "title": "[NOI2011] 兔兔与蛋蛋游戏", "background": "", "description": "这些天，兔兔和蛋蛋喜欢上了一种新的棋类游戏。\n\n这个游戏是在一个 $n$ 行 $m$ 列的棋盘上进行的。游戏开始之前，棋盘上有一个格子是空的，其它的格子中都放置了一枚棋子，棋子或者是黑色，或者是白色。\n\n每一局游戏总是兔兔先操作，之后双方轮流操作，具体操作为：\n\n* 兔兔每次操作时，选择一枚与空格相邻的白色棋子，将它移进空格。\n* 蛋蛋每次操作时，选择一枚与空格相邻的黑色棋子，将它移进空格。\n\n第一个不能按照规则操作的人输掉游戏。为了描述方便，下面将操作“将第x行第y列中的棋子移进空格中”记为 $M(x,y)$。\n\n例如下面是三个游戏的例子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6wfmhuf2.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j7vox6n7.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/er1t5wpb.png)\n\n最近兔兔总是输掉游戏，而且蛋蛋格外嚣张，于是兔兔想请她的好朋友——你——来帮助她。她带来了一局输给蛋蛋的游戏的实录，请你指出这一局游戏中所有她“犯错误”的地方。\n\n注意：\n\n* 两个格子相邻当且仅当它们有一条公共边。\n* 兔兔的操作是“犯错误”的，当且仅当，在这次操作前兔兔有必胜策略，而这次操作后蛋蛋有必胜策略。\n", "inputFormat": "输入的第一行包含两个正整数 $n,m$。\n\n接下来 $n$ 行描述初始棋盘。其中第 $i$ 行包含 $m$ 个字符，每个字符都是大写英文字母 `X`、大写英文字母 `O` 或点号 `.` 之一，分别表示对应的棋盘格中有黑色棋子、有白色棋子和没有棋子。其中点号 `.` 恰好出现一次。\n\n接下来一行包含一个整数 $k$（$1\\leq k\\leq 1000$） ，表示兔兔和蛋蛋各进行了 $k$ 次操作。\n\n接下来 $2k$ 行描述一局游戏的过程。其中第 $2i - 1$ 行是兔兔的第 $i$ 次操作（编号为 $i$ 的操作） ，第 $2i$ 行是蛋蛋的第 $i$ 次操作。每个操作使用两个整数 $x,y$ 来描述，表示将第 $x$ 行第 $y$ 列中的棋子移进空格中。\n\n输入保证整个棋盘中只有一个格子没有棋子， 游戏过程中兔兔和蛋蛋的每个操作都是合法的，且最后蛋蛋获胜。\n", "outputFormat": "输出文件的第一行包含一个整数 $r$，表示兔兔犯错误的总次数。\n\n接下来 $r$ 行按递增的顺序给出兔兔“犯错误”的操作编号。其中第 $i$ 行包含一个整数 $a_i$ 表示兔兔第 $i$ 个犯错误的操作是他在游戏中的第 $a_i$ 次操作。\n\n", "hint": "对于 $100\\%$ 的数据，$1\\leq n\\leq 40$，$1 \\leq m\\leq 40$，$1\\leq k\\leq 1000$。\n\n\n::cute-table{tuack}\n\n|测试点编号|$n$|$m$|\n|:-:|:-:|:-:|\n|$1,2$|$n=1$|$1\\leq m\\leq 20$|\n|$3$|$n=3$|$m=4$|\n|$4,5$|$n=4$|$m=4$|\n|$6,7$|$n=4$|$m=5$|\n|$8$|$n=3$|$m=7$|\n|$9\\sim 14$|$n=2$|$1\\leq m\\leq 40$|\n|$15,16$|$1\\leq n\\leq 16$|$1\\leq m\\leq 16$|\n|$17\\sim 20$|$1\\leq n\\leq 40$|$1\\leq m\\leq 40$|\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2011] Tutu and Dandan's Game", "background": "", "description": "These days, Tutu and Dandan have taken a liking to a new board game.\n\nThe game is played on an $n$-by-$m$ board. Before the game starts, exactly one cell on the board is empty, and every other cell contains a piece that is either black or white.\n\nIn each game, Tutu always moves first, and then the two players alternate. The moves are defined as follows:\n- On Tutu’s turn, she chooses a white piece adjacent to the empty cell and moves it into the empty cell.\n- On Dandan’s turn, he chooses a black piece adjacent to the empty cell and moves it into the empty cell.\n\nThe first player who cannot move according to the rules loses the game. For convenience, the operation “move the piece in row $x$, column $y$ into the empty cell” is denoted by $M(x,y)$.\n\nFor example, here are three sample games.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6wfmhuf2.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j7vox6n7.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/er1t5wpb.png)\n\nRecently Tutu keeps losing, and Dandan is especially smug about it, so Tutu asks her good friend—you—for help. She brings you the full move log of a game she lost to Dandan. Please point out every move where she “made a mistake” in that game.\n\nNote:\n- Two cells are adjacent if and only if they share a common side.\n- Tutu’s move is a “mistake” if and only if, before the move Tutu had a winning strategy, and after the move Dandan has a winning strategy.", "inputFormat": "The first line contains two positive integers $n, m$.\n\nThe next $n$ lines describe the initial board. The $i$-th of these lines contains $m$ characters. Each character is one of the uppercase letters `X`, `O`, or the dot `.`. They denote a black piece, a white piece, and an empty cell, respectively. The dot `.` appears exactly once.\n\nThe next line contains an integer $k$ ($1 \\leq k \\leq 1000$), indicating that Tutu and Dandan each made $k$ moves.\n\nThe next $2k$ lines describe the game. The $(2i - 1)$-th line is Tutu’s $i$-th move (the move with index $i$), and the $2i$-th line is Dandan’s $i$-th move. Each move is described by two integers $x, y$, meaning the piece at row $x$, column $y$ is moved into the empty cell.\n\nThe input guarantees that there is exactly one empty cell on the board; every move made by Tutu and Dandan is legal; and Dandan wins in the end.", "outputFormat": "The first line contains an integer $r$, the total number of mistakes made by Tutu.\n\nThen output $r$ lines in increasing order, giving the indices of Tutu’s “mistaken” moves. The $i$-th of these lines contains an integer $a_i$, meaning that Tutu’s $i$-th mistake is her $a_i$-th move in the game.", "hint": "For $100\\%$ of the testdata, $1 \\leq n \\leq 40$, $1 \\leq m \\leq 40$, $1 \\leq k \\leq 1000$.\n\n::cute-table{tuack}\n\n| Test point ID | $n$ | $m$ |\n|:-:|:-:|:-:|\n| $1,2$ | $n=1$ | $1\\leq m\\leq 20$ |\n| $3$ | $n=3$ | $m=4$ |\n| $4,5$ | $n=4$ | $m=4$ |\n| $6,7$ | $n=4$ | $m=5$ |\n| $8$ | $n=3$ | $m=7$ |\n| $9\\sim 14$ | $n=2$ | $1\\leq m\\leq 40$ |\n| $15,16$ | $1\\leq n\\leq 16$ | $1\\leq m\\leq 16$ |\n| $17\\sim 20$ | $1\\leq n\\leq 40$ | $1\\leq m\\leq 40$ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2011] 兔兔与蛋蛋游戏", "background": "", "description": "这些天，兔兔和蛋蛋喜欢上了一种新的棋类游戏。\n\n这个游戏是在一个 $n$ 行 $m$ 列的棋盘上进行的。游戏开始之前，棋盘上有一个格子是空的，其它的格子中都放置了一枚棋子，棋子或者是黑色，或者是白色。\n\n每一局游戏总是兔兔先操作，之后双方轮流操作，具体操作为：\n\n* 兔兔每次操作时，选择一枚与空格相邻的白色棋子，将它移进空格。\n* 蛋蛋每次操作时，选择一枚与空格相邻的黑色棋子，将它移进空格。\n\n第一个不能按照规则操作的人输掉游戏。为了描述方便，下面将操作“将第x行第y列中的棋子移进空格中”记为 $M(x,y)$。\n\n例如下面是三个游戏的例子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6wfmhuf2.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j7vox6n7.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/er1t5wpb.png)\n\n最近兔兔总是输掉游戏，而且蛋蛋格外嚣张，于是兔兔想请她的好朋友——你——来帮助她。她带来了一局输给蛋蛋的游戏的实录，请你指出这一局游戏中所有她“犯错误”的地方。\n\n注意：\n\n* 两个格子相邻当且仅当它们有一条公共边。\n* 兔兔的操作是“犯错误”的，当且仅当，在这次操作前兔兔有必胜策略，而这次操作后蛋蛋有必胜策略。\n", "inputFormat": "输入的第一行包含两个正整数 $n,m$。\n\n接下来 $n$ 行描述初始棋盘。其中第 $i$ 行包含 $m$ 个字符，每个字符都是大写英文字母 `X`、大写英文字母 `O` 或点号 `.` 之一，分别表示对应的棋盘格中有黑色棋子、有白色棋子和没有棋子。其中点号 `.` 恰好出现一次。\n\n接下来一行包含一个整数 $k$（$1\\leq k\\leq 1000$） ，表示兔兔和蛋蛋各进行了 $k$ 次操作。\n\n接下来 $2k$ 行描述一局游戏的过程。其中第 $2i - 1$ 行是兔兔的第 $i$ 次操作（编号为 $i$ 的操作） ，第 $2i$ 行是蛋蛋的第 $i$ 次操作。每个操作使用两个整数 $x,y$ 来描述，表示将第 $x$ 行第 $y$ 列中的棋子移进空格中。\n\n输入保证整个棋盘中只有一个格子没有棋子， 游戏过程中兔兔和蛋蛋的每个操作都是合法的，且最后蛋蛋获胜。\n", "outputFormat": "输出文件的第一行包含一个整数 $r$，表示兔兔犯错误的总次数。\n\n接下来 $r$ 行按递增的顺序给出兔兔“犯错误”的操作编号。其中第 $i$ 行包含一个整数 $a_i$ 表示兔兔第 $i$ 个犯错误的操作是他在游戏中的第 $a_i$ 次操作。\n\n", "hint": "对于 $100\\%$ 的数据，$1\\leq n\\leq 40$，$1 \\leq m\\leq 40$，$1\\leq k\\leq 1000$。\n\n\n::cute-table{tuack}\n\n|测试点编号|$n$|$m$|\n|:-:|:-:|:-:|\n|$1,2$|$n=1$|$1\\leq m\\leq 20$|\n|$3$|$n=3$|$m=4$|\n|$4,5$|$n=4$|$m=4$|\n|$6,7$|$n=4$|$m=5$|\n|$8$|$n=3$|$m=7$|\n|$9\\sim 14$|$n=2$|$1\\leq m\\leq 40$|\n|$15,16$|$1\\leq n\\leq 16$|$1\\leq m\\leq 16$|\n|$17\\sim 20$|$1\\leq n\\leq 40$|$1\\leq m\\leq 40$|\n", "locale": "zh-CN"}}}
{"pid": "P1972", "type": "P", "difficulty": 5, "samples": [["6\n1 2 3 4 3 5\n3\n1 2\n3 5\n2 6\n", "2\n2\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2009", "各省省选", "树状数组", "山东", "O2优化", "可持久化线段树", "前缀和", "离线处理"], "title": "[SDOI2009] HH 的项链", "background": null, "description": "HH 有一串由各种漂亮的贝壳组成的项链。HH 相信不同的贝壳会带来好运，所以每次散步完后，他都会随意取出一段贝壳，思考它们所表达的含义。HH 不断地收集新的贝壳，因此，他的项链变得越来越长。  \n\n有一天，他突然提出了一个问题：某一段贝壳中，包含了多少种不同的贝壳？这个问题很难回答……因为项链实在是太长了。于是，他只好求助睿智的你，来解决这个问题。", "inputFormat": "第一行一个正整数 $n$，表示项链长度。   \n第二行 $n$ 个正整数 $a_i$，表示项链中第 $i$ 个贝壳的种类。\n\n第三行一个整数 $m$，表示 HH 询问的个数。   \n接下来 $m$ 行，每行两个整数 $l,r$，表示询问的区间。", "outputFormat": "输出 $m$ 行，每行一个整数，依次表示询问对应的答案。", "hint": "【数据范围】  \n\n对于 $20\\%$ 的数据，$1\\le n,m\\leq 5000$；   \n对于 $40\\%$ 的数据，$1\\le n,m\\leq 10^5$；   \n对于 $60\\%$ 的数据，$1\\le n,m\\leq 5\\times 10^5$；  \n对于 $100\\%$ 的数据，$1\\le n,m,a_i \\leq 10^6$，$1\\le l \\le r \\le n$。\n\n本题可能需要较快的读入方式，最大数据点读入数据约 20MB。", "locale": "zh-CN", "translations": {"en": {"title": "[SDOI2009] HH's Necklace", "background": "", "description": "HH has a necklace made of various beautiful shells. HH believes different shells bring good luck, so after each walk, he randomly picks a segment of shells and thinks about the meaning they convey. HH keeps collecting new shells, so his necklace becomes longer and longer.  \n\nOne day, he suddenly asked: in a given segment of shells, how many different types of shells are there? This is hard to answer because the necklace is very long. So he turns to you for help to solve this problem.", "inputFormat": "One line with a positive integer $n$, the length of the necklace.  \nThe second line contains $n$ positive integers $a_i$, where $a_i$ denotes the type of the $i$-th shell in the necklace.  \nThe third line contains an integer $m$, the number of queries by HH.  \nThen $m$ lines follow, each containing two integers $l, r$, denoting the query interval.", "outputFormat": "Output $m$ lines, each with a single integer, in order, representing the answer to the corresponding query.", "hint": "Constraints  \nFor $20\\%$ of the testdata, $1 \\le n, m \\leq 5000$.  \nFor $40\\%$ of the testdata, $1 \\le n, m \\leq 10^5$.  \nFor $60\\%$ of the testdata, $1 \\le n, m \\leq 5\\times 10^5$.  \nFor $100\\%$ of the testdata, $1 \\le n, m, a_i \\leq 10^6$, $1 \\le l \\le r \\le n$.  \nThis problem may require fast input. For the largest testdata, the input size is about 20 MB.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SDOI2009] HH 的项链", "background": null, "description": "HH 有一串由各种漂亮的贝壳组成的项链。HH 相信不同的贝壳会带来好运，所以每次散步完后，他都会随意取出一段贝壳，思考它们所表达的含义。HH 不断地收集新的贝壳，因此，他的项链变得越来越长。  \n\n有一天，他突然提出了一个问题：某一段贝壳中，包含了多少种不同的贝壳？这个问题很难回答……因为项链实在是太长了。于是，他只好求助睿智的你，来解决这个问题。", "inputFormat": "第一行一个正整数 $n$，表示项链长度。   \n第二行 $n$ 个正整数 $a_i$，表示项链中第 $i$ 个贝壳的种类。\n\n第三行一个整数 $m$，表示 HH 询问的个数。   \n接下来 $m$ 行，每行两个整数 $l,r$，表示询问的区间。", "outputFormat": "输出 $m$ 行，每行一个整数，依次表示询问对应的答案。", "hint": "【数据范围】  \n\n对于 $20\\%$ 的数据，$1\\le n,m\\leq 5000$；   \n对于 $40\\%$ 的数据，$1\\le n,m\\leq 10^5$；   \n对于 $60\\%$ 的数据，$1\\le n,m\\leq 5\\times 10^5$；  \n对于 $100\\%$ 的数据，$1\\le n,m,a_i \\leq 10^6$，$1\\le l \\le r \\le n$。\n\n本题可能需要较快的读入方式，最大数据点读入数据约 20MB。", "locale": "zh-CN"}}}
{"pid": "P1973", "type": "P", "difficulty": 6, "samples": [["5 \n8 2 \n1 5 \n5 3 \n3 2 \n5 3 ", "2 \n2 \n1 \n2 \n2 \n2 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2011", "NOI", "Special Judge", "双指针 two-pointer"], "title": "[NOI2011] NOI 嘉年华", "background": "", "description": "NOI2011 在吉林大学开始啦！为了迎接来自全国各地最优秀的信息学选手，吉林大学决定举办两场盛大的 NOI 嘉年华活动，分在两个不同的地点举办。每个嘉年华可能包含很多个活动，而每个活动只能在一个嘉年华中举办。\n\n现在嘉年华活动的组织者小安一共收到了 $n$ 个活动的举办申请，其中第 $i$ 个活动的起始时间为 $S_i$，活动的持续时间为 $T_i$。这些活动都可以安排到任意一个嘉年华的会场，也可以不安排。\n\n小安通过广泛的调查发现，如果某个时刻，两个嘉年华会场同时有活动在进行（不包括活动的开始瞬间和结束瞬间），那么有的选手就会纠结于到底去哪个会场，从而变得不开心。所以，为了避免这样不开心的事情发生，小安要求不能有两个活动在两个会场同时进行（同一会场内的活动可以任意进行）。\n\n另外，可以想象，如果某一个嘉年华会场的活动太少，那么这个嘉年华的吸引力就会不足，容易导致场面冷清。所以小安希望通过合理的安排，使得活动相对较少的嘉年华的活动数量最大。\n\n此外，有一些活动非常有意义，小安希望能举办，他希望知道，如果第 $i$ 个活动必须举办（可以安排在两场嘉年华中的任何一个），活动相对较少的嘉年华的活动数量的最大值。\n", "inputFormat": "输入的第一行包含一个整数 $n$，表示申请的活动个数。\n\n接下来 $n$ 行描述所有活动，其中第 $i$ 行包含两个整数 $S_i,T_i$，表示第 $i$ 个活动从时刻 $S_i$ 开始，持续 $T_i$ 的时间。\n", "outputFormat": "输出的第一行包含一个整数，表示在没有任何限制的情况下，活动较少的嘉年华的活动数的最大值。\n\n接下来 $n$ 行每行一个整数，其中第 $i$ 行的整数表示在必须选择第 $i$ 个活动的前提下，活动较少的嘉年华的活动数的最大值。\n", "hint": "### 样例解释\n\n在没有任何限制的情况下，最优安排可以在一个嘉年华安排活动 $1, 4$，而在另一个嘉年华安排活动 $3, 5$，活动 $2$ 不安排。\n\n对于 $10\\%$ 的数据，$1\\leq n\\leq 10$。\n\n对于 $30\\%$ 的数据，$1\\leq n\\leq 40$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 200$，$0\\leq S_i\\leq 10^9$，$1\\leq T_i\\leq 10^9$。\n\n如果输出格式不正确（比如输出不足 $n+1$ 行），得 $0$ 分；\n\n如果输出文件第一行不正确，而且后 $n$ 行至少有一行不正确，得 $0$ 分；\n\n如果输出文件第一行正确，但后 $n$ 行至少有一行不正确，得 $4$ 分；\n\n如果输出文件第一行不正确，但后 $n$ 行均正确，得 $6$ 分；\n\n如果输出文件中的 $n+1$ 行均正确，得 $10$ 分。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2011] NOI Carnival", "background": "", "description": "NOI 2011 has started at Jilin University! To welcome the best informatics contestants from across the country, Jilin University plans to hold two grand NOI Carnival events at two different locations. Each carnival may contain many activities, and each activity can be held in only one carnival.\n\nThe organizer, Xiao An, has received $n$ applications for activities. The $i$-th activity starts at time $S_i$ and lasts for $T_i$ time. These activities can be scheduled in either carnival, or not scheduled at all.\n\nThrough extensive surveys, Xiao An found that if, at some moment, the two carnivals have activities running simultaneously (not counting the exact start and end instants), some contestants will hesitate about which carnival to go to and become unhappy. Therefore, to avoid this, Xiao An requires that there must not be two activities running at the same time in the two different carnivals (activities within the same carnival may overlap arbitrarily).\n\nIn addition, if one carnival has too few activities, its appeal will be insufficient and the scene may become dull. So Xiao An wants to arrange the schedule to maximize the number of activities in the less-populated carnival.\n\nFurthermore, some activities are very meaningful and Xiao An hopes to hold them. He wants to know, if the $i$-th activity must be held (it can be scheduled in either of the two carnivals), what is the maximum number of activities in the less-populated carnival.", "inputFormat": "The first line contains an integer $n$, the number of activity applications.\n\nThe next $n$ lines describe all activities. The $i$-th line contains two integers $S_i, T_i$, meaning the $i$-th activity starts at time $S_i$ and lasts for $T_i$ time.", "outputFormat": "The first line contains an integer, the maximum number of activities in the less-populated carnival when there are no additional constraints.\n\nThen output $n$ lines, one integer per line. The integer on the $i$-th line is the maximum number of activities in the less-populated carnival under the condition that the $i$-th activity must be chosen.", "hint": "### Sample Explanation\n\nWithout any additional constraints, an optimal arrangement is to schedule activities $1, 4$ in one carnival and activities $3, 5$ in the other carnival, leaving activity $2$ unscheduled.\n\nFor 10% of the testdata, $1 \\leq n \\leq 10$.\n\nFor 30% of the testdata, $1 \\leq n \\leq 40$.\n\nFor 100% of the testdata, $1 \\leq n \\leq 200$, $0 \\leq S_i \\leq 10^9$, $1 \\leq T_i \\leq 10^9$.\n\nIf the output format is incorrect (for example, fewer than $n+1$ lines), the score is $0$.\nIf the first line of the output file is incorrect, and at least one of the last $n$ lines is also incorrect, the score is $0$.\nIf the first line of the output file is correct, but at least one of the last $n$ lines is incorrect, the score is $4$.\nIf the first line of the output file is incorrect, but all of the last $n$ lines are correct, the score is $6$.\nIf all $n+1$ lines in the output file are correct, the score is $10$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2011] NOI 嘉年华", "background": "", "description": "NOI2011 在吉林大学开始啦！为了迎接来自全国各地最优秀的信息学选手，吉林大学决定举办两场盛大的 NOI 嘉年华活动，分在两个不同的地点举办。每个嘉年华可能包含很多个活动，而每个活动只能在一个嘉年华中举办。\n\n现在嘉年华活动的组织者小安一共收到了 $n$ 个活动的举办申请，其中第 $i$ 个活动的起始时间为 $S_i$，活动的持续时间为 $T_i$。这些活动都可以安排到任意一个嘉年华的会场，也可以不安排。\n\n小安通过广泛的调查发现，如果某个时刻，两个嘉年华会场同时有活动在进行（不包括活动的开始瞬间和结束瞬间），那么有的选手就会纠结于到底去哪个会场，从而变得不开心。所以，为了避免这样不开心的事情发生，小安要求不能有两个活动在两个会场同时进行（同一会场内的活动可以任意进行）。\n\n另外，可以想象，如果某一个嘉年华会场的活动太少，那么这个嘉年华的吸引力就会不足，容易导致场面冷清。所以小安希望通过合理的安排，使得活动相对较少的嘉年华的活动数量最大。\n\n此外，有一些活动非常有意义，小安希望能举办，他希望知道，如果第 $i$ 个活动必须举办（可以安排在两场嘉年华中的任何一个），活动相对较少的嘉年华的活动数量的最大值。\n", "inputFormat": "输入的第一行包含一个整数 $n$，表示申请的活动个数。\n\n接下来 $n$ 行描述所有活动，其中第 $i$ 行包含两个整数 $S_i,T_i$，表示第 $i$ 个活动从时刻 $S_i$ 开始，持续 $T_i$ 的时间。\n", "outputFormat": "输出的第一行包含一个整数，表示在没有任何限制的情况下，活动较少的嘉年华的活动数的最大值。\n\n接下来 $n$ 行每行一个整数，其中第 $i$ 行的整数表示在必须选择第 $i$ 个活动的前提下，活动较少的嘉年华的活动数的最大值。\n", "hint": "### 样例解释\n\n在没有任何限制的情况下，最优安排可以在一个嘉年华安排活动 $1, 4$，而在另一个嘉年华安排活动 $3, 5$，活动 $2$ 不安排。\n\n对于 $10\\%$ 的数据，$1\\leq n\\leq 10$。\n\n对于 $30\\%$ 的数据，$1\\leq n\\leq 40$。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 200$，$0\\leq S_i\\leq 10^9$，$1\\leq T_i\\leq 10^9$。\n\n如果输出格式不正确（比如输出不足 $n+1$ 行），得 $0$ 分；\n\n如果输出文件第一行不正确，而且后 $n$ 行至少有一行不正确，得 $0$ 分；\n\n如果输出文件第一行正确，但后 $n$ 行至少有一行不正确，得 $4$ 分；\n\n如果输出文件第一行不正确，但后 $n$ 行均正确，得 $6$ 分；\n\n如果输出文件中的 $n+1$ 行均正确，得 $10$ 分。\n", "locale": "zh-CN"}}}
{"pid": "P1974", "type": "P", "difficulty": 4, "samples": [["3", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "高精度"], "title": "基因聚合", "background": "德国科学家总是对非洲野猴的抵抗力感到惊奇，因为他们发现在没有医疗条件的情况下，非洲野猴总是比其他所有野生动物少生病。最近的研究有了新发现，科学家 Dr.Smith 从非洲野猴身上发现了一种罕见的抗体，他猜测可能正是该罕见的抗体在帮助非洲野猴抵抗外来病毒的侵害。\n\n\nDr.Smith 就立刻展开了对该抗体的研究。在初始的观察中 Dr.Smith 发现该抗体没什么特别，而且非常简单，因为抗体的每组基因只有一对基元（Dr.Smith 把一组基因看成由若干对基元组成）。但是当 Dr.Smith 把病毒植入抗体所在的培养液后，奇迹出现了！那些简单的基因组通过不断地聚合（每个基因组两两合并生成新的基因组），最终所有的基因组合并成了一个非常庞大的基因组，而正是这庞大的基因组，因为聚合了所有原始基因组的优点，这庞大的基因组才可以慢慢地、逐个地去吃掉那些植入培养液的病毒。\n\n\n下面是 Dr.Smith 在高倍显微镜下看到的抗体基因组基元聚合的大致过程：\n\n![](https://cdn.luogu.com.cn/upload/pic/974.png)\n\nDr.Smith 通过进一步观察和研究发现，抗体基因在聚合过程中似乎总是按照某个方法在进行，该方法能保证最终产生的基因组的基元对数量最多（每个基元对的存在能产生 $1$ 单位的生物能量），而在每次两个基因组聚合后所得到的新基因组的总的基元对由下面两部分相加组成：\n\n\n1. 每两个基因组一发生聚合，就产生一个额外的、未知的基元对。\n2. 当两个基因组聚合时，每个基因组中的每对基元都会与另一个基因组中的每对基元两两聚合产生一个新的基元对。\n\n\nDr.Smith 还发现，抗体在每个时刻总是只有两个基因组会发生聚合，也就是说，每两个基因组的聚合都是依次进行的，而不是同时进行的。\n\n\n虽然观察到聚合原理，但 Dr.Smith 即使在知道一开始基因组个数的前提下，还是无法统计最终聚合产生的那个庞大的基因组所具有的总能量有多大。现在他想请你编程来统计一下。", "description": "给定 $n$ 张写有数字 $1$ 的卡片和一台机器。\n\n你需要进行以下操作 $n-1$ 次：将两张卡片放进机器并得到一张写有数字 $xy+1$ 的卡片，其中 $x,y$ 是放进去的两张卡片上所写的数字。\n\n请问：进行 $n-1$ 次操作后，剩下的那张卡片上的数字最大会是多少？", "inputFormat": "一行一个正整数 $n\\ (1 \\le n \\le 10^4)$。", "outputFormat": "一行一个正整数表示答案。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Gene Aggregation", "background": "German scientists have always been amazed by the resistance of African wild monkeys, because they found that without medical conditions, African wild monkeys get sick less often than all other wild animals. Recent studies have made new discoveries: Dr. Smith found a rare antibody in African wild monkeys and suspects that it is this rare antibody that helps them resist invading viruses.\n\nDr. Smith immediately started studying this antibody. In the initial observations, Dr. Smith found nothing special and thought it very simple, because each gene group of the antibody contains only one pair of \"primitives\" (Dr. Smith considers a gene group to consist of several pairs of primitives). But when Dr. Smith implanted the virus into the culture medium containing the antibody, a miracle happened! Those simple genomes kept aggregating (each time two genomes merged into a new genome), and eventually all genomes merged into a very large genome. It is precisely this large genome, having aggregated the advantages of all original genomes, that can slowly and individually consume the viruses implanted in the culture medium.\n\nBelow is the approximate process of primitive aggregation in antibody genomes observed by Dr. Smith under a high-power microscope:\n\n![](https://cdn.luogu.com.cn/upload/pic/974.png)\n\nThrough further observation and research, Dr. Smith found that the antibody genes seem to always follow a certain method during aggregation, which ensures that the final genome has the maximum number of primitive pairs (each primitive pair produces $1$ unit of bioenergy). After each merge of two genomes, the total number of primitive pairs in the new genome is the sum of the following two parts:\n\n1. Every time two genomes merge, an additional, unknown primitive pair is produced.\n2. When two genomes merge, each primitive pair in one genome merges with each primitive pair in the other genome to produce a new primitive pair.\n\nDr. Smith also found that at any moment only two genomes merge, that is, the merges happen sequentially, not simultaneously.\n\nAlthough he observed the aggregation principle, even with the initial number of genomes known, Dr. Smith still could not compute the total energy of the final large genome produced by aggregation. Now he asks you to write a program to compute it.", "description": "You are given $n$ cards, each with the number $1$, and a machine.\n\nYou will perform the following operation $n-1$ times: put two cards into the machine and obtain a new card with the number $xy+1$, where $x, y$ are the numbers on the two cards you put in.\n\nQuestion: After performing $n-1$ operations, what is the maximum possible number on the remaining card?", "inputFormat": "One line containing a single positive integer $n$ ($1 \\le n \\le 10^4$).", "outputFormat": "One line containing a single positive integer representing the answer.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "基因聚合", "background": "德国科学家总是对非洲野猴的抵抗力感到惊奇，因为他们发现在没有医疗条件的情况下，非洲野猴总是比其他所有野生动物少生病。最近的研究有了新发现，科学家 Dr.Smith 从非洲野猴身上发现了一种罕见的抗体，他猜测可能正是该罕见的抗体在帮助非洲野猴抵抗外来病毒的侵害。\n\n\nDr.Smith 就立刻展开了对该抗体的研究。在初始的观察中 Dr.Smith 发现该抗体没什么特别，而且非常简单，因为抗体的每组基因只有一对基元（Dr.Smith 把一组基因看成由若干对基元组成）。但是当 Dr.Smith 把病毒植入抗体所在的培养液后，奇迹出现了！那些简单的基因组通过不断地聚合（每个基因组两两合并生成新的基因组），最终所有的基因组合并成了一个非常庞大的基因组，而正是这庞大的基因组，因为聚合了所有原始基因组的优点，这庞大的基因组才可以慢慢地、逐个地去吃掉那些植入培养液的病毒。\n\n\n下面是 Dr.Smith 在高倍显微镜下看到的抗体基因组基元聚合的大致过程：\n\n![](https://cdn.luogu.com.cn/upload/pic/974.png)\n\nDr.Smith 通过进一步观察和研究发现，抗体基因在聚合过程中似乎总是按照某个方法在进行，该方法能保证最终产生的基因组的基元对数量最多（每个基元对的存在能产生 $1$ 单位的生物能量），而在每次两个基因组聚合后所得到的新基因组的总的基元对由下面两部分相加组成：\n\n\n1. 每两个基因组一发生聚合，就产生一个额外的、未知的基元对。\n2. 当两个基因组聚合时，每个基因组中的每对基元都会与另一个基因组中的每对基元两两聚合产生一个新的基元对。\n\n\nDr.Smith 还发现，抗体在每个时刻总是只有两个基因组会发生聚合，也就是说，每两个基因组的聚合都是依次进行的，而不是同时进行的。\n\n\n虽然观察到聚合原理，但 Dr.Smith 即使在知道一开始基因组个数的前提下，还是无法统计最终聚合产生的那个庞大的基因组所具有的总能量有多大。现在他想请你编程来统计一下。", "description": "给定 $n$ 张写有数字 $1$ 的卡片和一台机器。\n\n你需要进行以下操作 $n-1$ 次：将两张卡片放进机器并得到一张写有数字 $xy+1$ 的卡片，其中 $x,y$ 是放进去的两张卡片上所写的数字。\n\n请问：进行 $n-1$ 次操作后，剩下的那张卡片上的数字最大会是多少？", "inputFormat": "一行一个正整数 $n\\ (1 \\le n \\le 10^4)$。", "outputFormat": "一行一个正整数表示答案。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1975", "type": "P", "difficulty": 3, "samples": [["3\n130 150 140\n2\n2 3\n1 3", "1\n0\n3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["集训队互测", "树套树", "分块"], "title": "[国家集训队] 排队", "background": "加强版：<https://www.luogu.com.cn/problem/P12685>", "description": "排排坐，吃果果，生果甜嗦嗦，大家笑呵呵。你一个，我一个，大的分给你，小的留给我，吃完果果唱支歌，大家乐和和。\n\n红星幼儿园的小朋友们排起了长长地队伍，准备吃果果。不过因为小朋友们的身高有所区别，排成的队伍高低错乱，极不美观。设第 $i$ 个小朋友的身高为 $h_i$。\n\n幼儿园阿姨每次会选出两个小朋友，交换他们的位置，请你帮忙计算出每次交换后，序列的逆序对数。为方便幼儿园阿姨统计，在未进行任何交换操作时，你也应该输出该序列的逆序对数。", "inputFormat": "第一行为一个正整数 $n$，表示小朋友的数量；\n\n第二行包含 $n$ 个由空格分隔的正整数 $h_1,h_2,\\dots,h_n$，依次表示初始队列中小朋友的身高；\n\n第三行为一个正整数 $m$，表示交换操作的次数；\n\n以下m行每行包含两个正整数 $a_i,b_i$，表示交换位置 $a_i$ 和 $b_i$ 的小朋友。", "outputFormat": "输出文件共 $m+1$ 行，第 $i$ 行一个正整数表示交换操作 $i$ 结束后，序列的逆序对数。", "hint": "【样例说明】  \n未进行任何操作时，$(2,3)$ 为逆序对；  \n操作一结束后，序列为 $130 \\ 140 \\ 150$，不存在逆序对；  \n操作二结束后，序列为 $150 \\ 140 \\ 130$，$(1,2),(1,3),(2,3)$ 共 $3$ 个逆序对。\n\n【数据范围】  \n对于 $10\\%$ 的数据，$n,m \\le 15$；  \n对于 $25\\%$ 的数据，$n,m \\le 200$；    \n另有 $25\\%$ 的数据，$h_i$ 各不相同；  \n另有 $15\\%$ 的数据，$110 \\le h_i \\le 160$；  \n以上两类数据交集为空。\n\n对于 $100\\%$ 的数据，$1 \\le m \\le 2\\times 10^3$，$1 \\le n \\le 2 \\times 10^4$，$1 \\le h_i \\le 10^9$，$a_i \\ne b_i$，$1 \\le a_i,b_i \\le n$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] Queueing", "background": "Enhanced version: <https://www.luogu.com.cn/problem/P12685>.", "description": "Sit in a row and eat fruit; the fruit is sweet and tasty, everyone smiles happily. One for you, one for me; the big one goes to you, the small one stays with me. After we finish eating, we sing a song, and everyone is cheerful.\n\nThe children of Red Star Kindergarten line up in a long queue to eat fruit. However, because their heights differ, the queue looks uneven and not very neat. Let the height of the $i$-th child be $h_i$.\n\nEach time, the teacher selects two children and swaps their positions. Please help compute the number of inversions in the sequence after each swap. For the teacher’s convenience, you should also output the inversion count of the sequence before any swaps are performed.\n\n# Description", "inputFormat": "- The first line contains a positive integer $n$, the number of children.\n- The second line contains $n$ space-separated positive integers $h_1, h_2, \\dots, h_n$, representing the heights in the initial queue.\n- The third line contains a positive integer $m$, the number of swap operations.\n- The following $m$ lines each contain two positive integers $a_i, b_i$, indicating that the children at positions $a_i$ and $b_i$ are swapped.", "outputFormat": "Output $m+1$ lines.\n- Line 1: the number of inversions in the sequence before any swap.\n- For $i = 1, 2, \\dots, m$, line $i+1$: the number of inversions in the sequence after performing swap $i$.", "hint": "[Sample explanation]  \nBefore any operation, $(2,3)$ is an inversion.  \nAfter operation 1, the sequence is $130 \\ 140 \\ 150$, and there are no inversions.  \nAfter operation 2, the sequence is $150 \\ 140 \\ 130$, and $(1,2)$, $(1,3)$, $(2,3)$ are inversions, totaling $3$.\n\n[Constraints]  \nFor $10\\%$ of the testdata, $n, m \\le 15$.  \nFor $25\\%$ of the testdata, $n, m \\le 200$.  \nAdditionally, for $25\\%$ of the testdata, all $h_i$ are distinct.  \nAdditionally, for $15\\%$ of the testdata, $110 \\le h_i \\le 160$.  \nThese two types of testdata are disjoint.\n\nFor $100\\%$ of the testdata, $1 \\le m \\le 2 \\times 10^3$, $1 \\le n \\le 2 \\times 10^4$, $1 \\le h_i \\le 10^9$, $a_i \\ne b_i$, and $1 \\le a_i, b_i \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] 排队", "background": "加强版：<https://www.luogu.com.cn/problem/P12685>", "description": "排排坐，吃果果，生果甜嗦嗦，大家笑呵呵。你一个，我一个，大的分给你，小的留给我，吃完果果唱支歌，大家乐和和。\n\n红星幼儿园的小朋友们排起了长长地队伍，准备吃果果。不过因为小朋友们的身高有所区别，排成的队伍高低错乱，极不美观。设第 $i$ 个小朋友的身高为 $h_i$。\n\n幼儿园阿姨每次会选出两个小朋友，交换他们的位置，请你帮忙计算出每次交换后，序列的逆序对数。为方便幼儿园阿姨统计，在未进行任何交换操作时，你也应该输出该序列的逆序对数。", "inputFormat": "第一行为一个正整数 $n$，表示小朋友的数量；\n\n第二行包含 $n$ 个由空格分隔的正整数 $h_1,h_2,\\dots,h_n$，依次表示初始队列中小朋友的身高；\n\n第三行为一个正整数 $m$，表示交换操作的次数；\n\n以下m行每行包含两个正整数 $a_i,b_i$，表示交换位置 $a_i$ 和 $b_i$ 的小朋友。", "outputFormat": "输出文件共 $m+1$ 行，第 $i$ 行一个正整数表示交换操作 $i$ 结束后，序列的逆序对数。", "hint": "【样例说明】  \n未进行任何操作时，$(2,3)$ 为逆序对；  \n操作一结束后，序列为 $130 \\ 140 \\ 150$，不存在逆序对；  \n操作二结束后，序列为 $150 \\ 140 \\ 130$，$(1,2),(1,3),(2,3)$ 共 $3$ 个逆序对。\n\n【数据范围】  \n对于 $10\\%$ 的数据，$n,m \\le 15$；  \n对于 $25\\%$ 的数据，$n,m \\le 200$；    \n另有 $25\\%$ 的数据，$h_i$ 各不相同；  \n另有 $15\\%$ 的数据，$110 \\le h_i \\le 160$；  \n以上两类数据交集为空。\n\n对于 $100\\%$ 的数据，$1 \\le m \\le 2\\times 10^3$，$1 \\le n \\le 2 \\times 10^4$，$1 \\le h_i \\le 10^9$，$a_i \\ne b_i$，$1 \\le a_i,b_i \\le n$。", "locale": "zh-CN"}}}
{"pid": "P1976", "type": "P", "difficulty": 3, "samples": [["24", "4057031"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "洛谷原创", "Catalan 数"], "title": "鸡蛋饼", "background": "Czyzoiers 都想知道小 x 为什么对鸡蛋饼情有独钟。经过一番逼问，小 x 道出了实情：因为他喜欢圆。", "description": "最近小 x 又发现了一个关于圆的有趣的问题：在圆上有 $2N$ 个不同的点，小 x 想用 $N$ 条线段把这些点连接起来（每个点只能连一条线段），使所有的线段都不相交，他想知道这样的连接方案有多少种？\n\n答案对 $10^8+7$ 取模。", "inputFormat": "一行一个正整数 $N\\ (1 \\le N \\le 2999)$。", "outputFormat": "一行一个整数表示答案。\n\n答案对 $10^8+7$ 取模。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Egg Pancake", "background": "Czyzoiers all want to know why Xiao x is so fond of egg pancakes. After some questioning, Xiao x revealed the truth: because he likes circles.", "description": "Recently, Xiao x discovered another interesting problem about circles: there are $2N$ distinct points on a circle. Xiao x wants to connect these points with $N$ line segments (each point can be connected by exactly one segment), such that all segments do not intersect. He wants to know how many such connection schemes there are.\n\nThe answer is taken modulo $10^8+7$.", "inputFormat": "A single line containing a positive integer $N$ ($1 \\le N \\le 2999$).", "outputFormat": "A single line containing an integer representing the answer.\n\nThe answer is taken modulo $10^8+7$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "鸡蛋饼", "background": "Czyzoiers 都想知道小 x 为什么对鸡蛋饼情有独钟。经过一番逼问，小 x 道出了实情：因为他喜欢圆。", "description": "最近小 x 又发现了一个关于圆的有趣的问题：在圆上有 $2N$ 个不同的点，小 x 想用 $N$ 条线段把这些点连接起来（每个点只能连一条线段），使所有的线段都不相交，他想知道这样的连接方案有多少种？\n\n答案对 $10^8+7$ 取模。", "inputFormat": "一行一个正整数 $N\\ (1 \\le N \\le 2999)$。", "outputFormat": "一行一个整数表示答案。\n\n答案对 $10^8+7$ 取模。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1977", "type": "P", "difficulty": 3, "samples": [["2 2 10 5\r\n1 1\r\n2 2\r\n", "14\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "动态规划 DP", "贪心", "洛谷原创"], "title": "出租车拼车", "background": "话说小 x 有一次去参加比赛，虽然学校离比赛地点不太远，但小 x 还是想坐出租车去。大学城的出租车总是比较另类，有“拼车”一说，也就是说，你一个人坐车去，还是一堆人一起，总共需要支付的钱是一样的（每辆出租上除司机外最多坐下 $4$ 个人）。刚好那天同校的一群 OIer 在校门口扎堆了，大家果断决定拼车去赛场。\n\n问题来了，一辆又一辆的出租车经过，但里面要么坐满了乘客，要么只剩下一两个座位，众 OIer 都觉得坐上去太亏了，小 x 也是这么想的。", "description": "假设 $N$ 位 OIer 准备拼车，此时为 $0$ 时刻，从校门到目的地需要支付给出租车师傅 $D$ 元（按车次算，不管里面坐了多少 OIer），假如 $S$ 分钟后恰能赶上比赛，那么 $S$ 分钟后经过校门口的出租车自然可以忽略不计了。现在给出在这 $S$ 分钟当中经过校门的所有的 $K$ 辆出租车先后到达校门口的时间 $T_i$  及里面剩余的座位 $Z_i$\n，OIer 可以选择上车几个人（不能超过），当然，也可以选择上 $0$ 个人，那就是不坐这辆车。\n\n俗话说，时间就是金钱，这里小 x 把每个 OIer 在校门等待出租车的分钟数 等同于花了相同多的钱（例如小 x 等待了 $20$ 分钟，那相当于他额外花了 $20$ 元钱）。\n\n在保证所有 OIer 都能在比赛开始前到达比赛地点的情况下，聪明的你能计算出他们最少需要花多少元钱么？", "inputFormat": "每组数据以四个整数 $N, K, D, S$ 开始，具体含义参见题目描述。\n\n接着 $K$ 行，表示第 $i$ 辆出租车在第 $T_i$ 分钟到达校门，其空余的座位数为 $Z_i$。\n\n时间按照先后顺序。", "outputFormat": "对于每组测试数据，输出占一行，如果他们所有人能在比赛前到达比赛地点，\n\n则输出一个整数，代表他们最少需要花的钱（单位：元），否则请输出 `impossible`。", "hint": "对于 $100\\%$ 的数据，满足 $N,K,D,S \\le 100$，$1 \\le Z_i \\le 4$，$1 \\le T_i \\le T_{i+1} \\le S$。", "locale": "zh-CN", "translations": {"en": {"title": "Taxi Carpooling", "background": "Once, little x went to a contest. Although the school was not far from the venue, little x still wanted to take a taxi. Taxis in the university town are a bit quirky: they do “carpooling.” That is, whether you ride alone or as a group, the total fare is the same per taxi ride (each taxi can seat at most $4$ passengers excluding the driver). Coincidentally, a group of OIers from the same school were gathered at the school gate that day, and everyone decisively decided to carpool to the venue.\n\nHere comes the problem: taxis kept passing by, but they were either full or had only one or two seats left. The OIers felt that getting on those would be a bad deal, and little x thought so too.", "description": "Suppose $N$ OIers plan to carpool. Time $0$ is the current moment. The fare from the school gate to the destination is $D$ yuan, charged per taxi ride regardless of how many OIers are inside. Assume the contest starts exactly at $S$ minutes, so any taxi that passes the gate after $S$ minutes can be ignored. You are given the arrival times $T_i$ and remaining seats $Z_i$ of all $K$ taxis that pass the gate within these $S$ minutes. For each taxi, the OIers may choose to let up to $Z_i$ people board (possibly $0$), or skip this taxi entirely.\n\nTime is money: each OIer’s waiting time in minutes at the gate is counted as spending the same amount of money. For example, if little x waits $20$ minutes, that means he spends an extra $20$ yuan.\n\nUnder the requirement that all OIers can reach the venue before the contest starts, compute the minimum total amount of money they need to spend.", "inputFormat": "Each test case starts with four integers $N$, $K$, $D$, $S$, as described above.\n\nThen follow $K$ lines. The $i$-th line gives that the $i$-th taxi arrives at minute $T_i$, and its number of remaining seats is $Z_i$.\n\nTimes are given in chronological order.", "outputFormat": "For each test case, output one line. If all of them can reach the venue before the contest starts, output a single integer representing the minimum amount of money (in yuan). Otherwise, output `impossible`.", "hint": "Constraints: For $100\\%$ of the testdata, $N, K, D, S \\le 100$, $1 \\le Z_i \\le 4$, $1 \\le T_i \\le T_{i+1} \\le S$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "出租车拼车", "background": "话说小 x 有一次去参加比赛，虽然学校离比赛地点不太远，但小 x 还是想坐出租车去。大学城的出租车总是比较另类，有“拼车”一说，也就是说，你一个人坐车去，还是一堆人一起，总共需要支付的钱是一样的（每辆出租上除司机外最多坐下 $4$ 个人）。刚好那天同校的一群 OIer 在校门口扎堆了，大家果断决定拼车去赛场。\n\n问题来了，一辆又一辆的出租车经过，但里面要么坐满了乘客，要么只剩下一两个座位，众 OIer 都觉得坐上去太亏了，小 x 也是这么想的。", "description": "假设 $N$ 位 OIer 准备拼车，此时为 $0$ 时刻，从校门到目的地需要支付给出租车师傅 $D$ 元（按车次算，不管里面坐了多少 OIer），假如 $S$ 分钟后恰能赶上比赛，那么 $S$ 分钟后经过校门口的出租车自然可以忽略不计了。现在给出在这 $S$ 分钟当中经过校门的所有的 $K$ 辆出租车先后到达校门口的时间 $T_i$  及里面剩余的座位 $Z_i$\n，OIer 可以选择上车几个人（不能超过），当然，也可以选择上 $0$ 个人，那就是不坐这辆车。\n\n俗话说，时间就是金钱，这里小 x 把每个 OIer 在校门等待出租车的分钟数 等同于花了相同多的钱（例如小 x 等待了 $20$ 分钟，那相当于他额外花了 $20$ 元钱）。\n\n在保证所有 OIer 都能在比赛开始前到达比赛地点的情况下，聪明的你能计算出他们最少需要花多少元钱么？", "inputFormat": "每组数据以四个整数 $N, K, D, S$ 开始，具体含义参见题目描述。\n\n接着 $K$ 行，表示第 $i$ 辆出租车在第 $T_i$ 分钟到达校门，其空余的座位数为 $Z_i$。\n\n时间按照先后顺序。", "outputFormat": "对于每组测试数据，输出占一行，如果他们所有人能在比赛前到达比赛地点，\n\n则输出一个整数，代表他们最少需要花的钱（单位：元），否则请输出 `impossible`。", "hint": "对于 $100\\%$ 的数据，满足 $N,K,D,S \\le 100$，$1 \\le Z_i \\le 4$，$1 \\le T_i \\le T_{i+1} \\le S$。", "locale": "zh-CN"}}}
{"pid": "P1978", "type": "P", "difficulty": 4, "samples": [["6 2\t\n2 3 6 5 4 10\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学"], "title": "集合", "background": "", "description": "集合是数学中的一个概念，用通俗的话来讲就是：一大堆数在一起就构成了集合。\n\n集合有如下的特性：\n\n- 无序性：任一个集合中，每个元素的地位都是相同的，元素之间是无序的。\n\n- 互异性：一个集合中，任何两个元素都认为是不相同的，即每个元素只能出现一次。\n\n- 确定性：给定一个集合，任给一个元素，该元素或者属于或者不属于该集合，二者必居其一，不允许有模棱两可的情况出现。\n\n例如 $A = \\{ 1, 2, 3 \\}$ 就是一个集合。我们可以知道，$1$ 属于 $A$，即 $1 \\in A$；$4$ 不属于 $A$，即 $4 \\notin A$。一个集合的大小，就是其中元素的个数。\n\n\n现在定义一个特殊的 $k$-集合，要求满足：\n\n- 集合的所有特性\n- 对任意一个该集合内的元素 $x$，不存在一个数 $y$，使得 $y = k x$ 并且 $y$ 属于该集合。即集合中的任意一个数，它乘以 $k$ 之后的数都不在这个集合内。\n\n给你一个由 $n$ 个不同的数组成的集合，请你从这个集合中找出一个最大的 $k$-集合。\n", "inputFormat": "第一行：两个整数：$n$ 和 $k$。\n\n第二行：$n$ 个整数：$a_i$ 表示给定的集合。\n", "outputFormat": "第一行：一个整数：$\\mathit{ans}$ 表示最大的 $k$-集合的大小。\n", "hint": "提示：在样例所给集合中，找出的最大的 $2$-集合为 $\\{ 4, 5, 6 \\}$\n\n- 对于 $30 \\%$ 的数据：$n, k \\le 100$。\n- 对于 $40 \\%$ 的数据：$\\lvert a_i \\rvert \\le 2^{31} - 1$。\n- 对于 $70 \\%$ 的数据：$n, k \\le 5000$。\n- 对于 $100 \\%$ 的数据：$2 \\le n, k \\le {10}^5$，$1 \\le \\lvert a_i \\rvert \\le 2^{63} - 1$。", "locale": "zh-CN", "translations": {"en": {"title": "Set", "background": "", "description": "A set is a concept in mathematics. In plain words, a set is a bunch of numbers grouped together.\n\nA set has the following properties:\n- Unorderedness: within any set, every element has the same status, and the elements are unordered.\n- Distinctness: in a set, any two elements are considered different; that is, each element can appear at most once.\n- Definiteness: for a given set and any given element, the element either belongs to the set or does not; there is no ambiguity.\n\nFor example, $A = \\{ 1, 2, 3 \\}$ is a set. We can see that $1$ belongs to $A$, i.e., $1 \\in A$; $4$ does not belong to $A$, i.e., $4 \\notin A$. The size of a set is the number of its elements.\n\nNow we define a special $k$-set, which must satisfy:\n- All the properties of sets.\n- For any element $x$ in the set, there does not exist a number $y$ such that $y = k x$ and $y$ also belongs to the set. In other words, for any number in the set, the number obtained by multiplying it by $k$ is not in the set.\n\nYou are given a set consisting of $n$ distinct integers. Please find a largest $k$-set contained in this set.", "inputFormat": "The first line: two integers, $n$ and $k$.\n\nThe second line: $n$ integers, $a_i$ are the elements of the given set.", "outputFormat": "The first line: one integer, $\\mathit{ans}$, the size of a largest $k$-set.", "hint": "Hint: In the set given in the sample, a largest $2$-set is $\\{ 4, 5, 6 \\}$.\n\n- For $30 \\%$ of the testdata: $n, k \\le 100$.\n- For $40 \\%$ of the testdata: $a_i \\le 2^{31} - 1$.\n- For $70 \\%$ of the testdata: $n, k \\le 5000$.\n- For $100 \\%$ of the testdata: $2 \\le n, k \\le {10}^5$, $1 \\le a_i \\le 2^{63} - 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "集合", "background": "", "description": "集合是数学中的一个概念，用通俗的话来讲就是：一大堆数在一起就构成了集合。\n\n集合有如下的特性：\n\n- 无序性：任一个集合中，每个元素的地位都是相同的，元素之间是无序的。\n\n- 互异性：一个集合中，任何两个元素都认为是不相同的，即每个元素只能出现一次。\n\n- 确定性：给定一个集合，任给一个元素，该元素或者属于或者不属于该集合，二者必居其一，不允许有模棱两可的情况出现。\n\n例如 $A = \\{ 1, 2, 3 \\}$ 就是一个集合。我们可以知道，$1$ 属于 $A$，即 $1 \\in A$；$4$ 不属于 $A$，即 $4 \\notin A$。一个集合的大小，就是其中元素的个数。\n\n\n现在定义一个特殊的 $k$-集合，要求满足：\n\n- 集合的所有特性\n- 对任意一个该集合内的元素 $x$，不存在一个数 $y$，使得 $y = k x$ 并且 $y$ 属于该集合。即集合中的任意一个数，它乘以 $k$ 之后的数都不在这个集合内。\n\n给你一个由 $n$ 个不同的数组成的集合，请你从这个集合中找出一个最大的 $k$-集合。\n", "inputFormat": "第一行：两个整数：$n$ 和 $k$。\n\n第二行：$n$ 个整数：$a_i$ 表示给定的集合。\n", "outputFormat": "第一行：一个整数：$\\mathit{ans}$ 表示最大的 $k$-集合的大小。\n", "hint": "提示：在样例所给集合中，找出的最大的 $2$-集合为 $\\{ 4, 5, 6 \\}$\n\n- 对于 $30 \\%$ 的数据：$n, k \\le 100$。\n- 对于 $40 \\%$ 的数据：$\\lvert a_i \\rvert \\le 2^{31} - 1$。\n- 对于 $70 \\%$ 的数据：$n, k \\le 5000$。\n- 对于 $100 \\%$ 的数据：$2 \\le n, k \\le {10}^5$，$1 \\le \\lvert a_i \\rvert \\le 2^{63} - 1$。", "locale": "zh-CN"}}}
{"pid": "P1979", "type": "P", "difficulty": 6, "samples": [["3 4 2\n0 1 1 1\n0 1 1 0\n0 1 0 0\n3 2 1 2 2 2\n1 2 2 2 3 2", "2\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "2013", "NOIP 提高组", "广度优先搜索 BFS", "最短路"], "title": "[NOIP 2013 提高组] 华容道", "background": "NOIP2013 提高组 D2T3", "description": "`小 B` 最近迷上了华容道，可是他总是要花很长的时间才能完成一次。于是，他想到用编程来完成华容道：给定一种局面， 华容道是否根本就无法完成，如果能完成， 最少需要多少时间。\n\n`小 B` 玩的华容道与经典的华容道游戏略有不同，游戏规则是这样的：\n\n1.   在一个 $n \\times m$ 棋盘上有 $ n \\times m$ 个格子，其中有且只有一个格子是空白的，其余 $ n \\times m-1$ 个格子上每个格子上有一个棋子，每个棋子的大小都是 $1 \\times 1$ 的；\n2.  有些棋子是固定的，有些棋子则是可以移动的；\n3.  任何与空白的格子相邻（有公共的边）的格子上的棋子都可以移动到空白格子上。   \n\n游戏的目的是把某个指定位置可以活动的棋子移动到目标位置。\n\n给定一个棋盘，游戏可以玩 $q$ 次，当然，每次棋盘上固定的格子是不会变的， 但是棋盘上空白的格子的初始位置、 指定的可移动的棋子的初始位置和目标位置却可能不同。第 $i$ 次玩的时候， 空白的格子在第 $EX_i$ 行第 $EY_i$ 列，指定的可移动棋子的初始位置为第 $SX_i$ 行第 $SY_i$列，目标位置为第 $TX_i$ 行第 $TY_i$ 列。\n\n假设 `小 B` 每秒钟能进行一次移动棋子的操作，而其他操作的时间都可以忽略不计。请你告诉 `小 B` 每一次游戏所需要的最少时间，或者告诉他不可能完成游戏。\n", "inputFormat": "第一行有 $3$个整数，每两个整数之间用一个空格隔开，依次表示 $ n,m,q$；\n\n接下来的 $n$ 行描述一个 $ n \\times m$ 的棋盘，每行有 $ m $ 个整数，每两个整数之间用一个空格隔开，每个整数描述棋盘上一个格子的状态，$0$ 表示该格子上的棋子是固定的，$1$ 表示该格子上的棋子可以移动或者该格子是空白的。  \n\n接下来的 $q$ 行，每行包含 $6$ 个整数依次是 $EX_i,EY_i,SX_i,SY_i,TX_i,TY_i$，每两个整数之间用一个空格隔开，表示每次游戏空白格子的位置，指定棋子的初始位置和目标位置。\n", "outputFormat": "共 $ q$ 行，每行包含 $1$ 个整数，表示每次游戏所需要的最少时间，如果某次游戏无法完成目标则输出 $−1$。\n", "hint": "**输入输出样例说明**\n\n棋盘上划叉的格子是固定的，红色格子是目标位置，圆圈表示棋子，其中绿色圆圈表示目标棋子。\n\n1.   第一次游戏，空白格子的初始位置是 $(3,2)$（图中空白所示），游戏的目标是将初始位置在 $(1, 2)$ 上的棋子（图中绿色圆圈所代表的棋子）移动到目标位置 $(2, 2)$（图中红色的格子）上。\n\n移动过程如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n0q385tw.png)\n\n2.  第二次游戏，空白格子的初始位置是 $(1, 2)$（图中空白所示），游戏的目标是将初始位置在 $(2, 2)$ 上的棋子（图中绿色圆圈所示）移动到目标位置  $(3, 2)$ 上。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aq9apos0.png)\n\n要将指定块移入目标位置，必须先将空白块移入目标位置，空白块要移动到目标位置，必然是从位置 $(2,2)$ 上与当前图中目标位置上的棋子交换位置，之后能与空白块交换位置的只有当前图中目标位置上的那个棋子，因此目标棋子永远无法走到它的目标位置， 游戏无法完成。\n\n**数据范围**\n\n对于 $ 30\\%$ 的数据，$1 ≤ n, m ≤ 10,q = 1$；\n\n对于 $60\\%$ 的数据，$1 ≤ n, m ≤ 30,q ≤ 10$；\n\n对于 $100\\%$ 的数据，$1 ≤ n, m ≤ 30,q ≤ 500$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Senior] Huarong Dao", "background": "NOIP 2013 Senior D2T3.", "description": "`小 B` recently got hooked on the Huarong Dao sliding puzzle, but it always takes him a long time to finish one game. So he thought of writing a program to solve it: given a board position, determine whether the puzzle is impossible to finish, and if it can be finished, what is the minimum time required.\n\nThe Huarong Dao that `小 B` plays is slightly different from the classic one. The rules are:\n\n1. On an $ n \\times m $ board there are $ n \\times m $ cells. Exactly one cell is empty, and each of the remaining $ n \\times m - 1 $ cells has one piece on it. Every piece is of size $ 1 \\times 1 $.\n2. Some pieces are fixed, while others are movable.\n3. Any piece on a cell adjacent to the empty cell (sharing a side) can move into the empty cell.\n\nThe goal is to move a specified movable piece from its start position to a target position.\n\nGiven a board, the game can be played $ q $ times. The fixed cells on the board never change, but the initial position of the empty cell, the specified movable piece’s start position, and its target position may differ each time. In the $ i $-th play, the empty cell is at row $ EX_i $, column $ EY_i $, the specified movable piece starts at row $ SX_i $, column $ SY_i $, and its target is row $ TX_i $, column $ TY_i $.\n\nAssume `小 B` can perform one piece-move per second, and all other operations take negligible time. For each game, tell `小 B` the minimum time required, or tell him that the game cannot be completed.", "inputFormat": "The first line contains $ 3 $ integers, separated by a single space, which are $ n, m, q $.\n\nThe next $ n $ lines describe an $ n \\times m $ board. Each line contains $ m $ integers separated by single spaces. Each integer describes the state of a cell: $ 0 $ means the piece on that cell is fixed, and $ 1 $ means the piece on that cell is movable or the cell is empty.\n\nThe next $ q $ lines each contain $ 6 $ integers $ EX_i, EY_i, SX_i, SY_i, TX_i, TY_i $, separated by single spaces, giving the empty cell’s position, the specified piece’s start position, and its target position for each game.", "outputFormat": "Output $ q $ lines. Each line contains $ 1 $ integer, the minimum time required for that game, or $ -1 $ if the target cannot be achieved.", "hint": "Explanation of the sample I/O:\n\nCells with an X are fixed, the red cell is the target position, and circles denote pieces; the green circle is the target piece.\n\n1. In the first game, the empty cell starts at $ (3, 2) $ (as shown), and the goal is to move the piece initially at $ (1, 2) $ (the green circle) to the target position $ (2, 2) $ (the red cell).\n\n   The moves are as follows:\n\n   ![](https://cdn.luogu.com.cn/upload/image_hosting/n0q385tw.png)\n\n2. In the second game, the empty cell starts at $ (1, 2) $ (as shown), and the goal is to move the piece initially at $ (2, 2) $ (the green circle) to the target position $ (3, 2) $.\n\n   ![](https://cdn.luogu.com.cn/upload/image_hosting/aq9apos0.png)\n\nTo move the target piece into the target cell, the empty cell must first enter the target cell. For the empty cell to enter the target cell, it must swap with the piece currently on $ (2, 2) $. After that, the only piece that can swap with the empty cell is that same piece on the target cell, so the target piece can never reach its target. The game is impossible.\n\nConstraints\n\n- For $ 30\\% $ of the testdata, $ 1 \\le n, m \\le 10, q = 1 $.\n- For $ 60\\% $ of the testdata, $ 1 \\le n, m \\le 30, q \\le 10 $.\n- For $ 100\\% $ of the testdata, $ 1 \\le n, m \\le 30, q \\le 500 $.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 提高组] 华容道", "background": "NOIP2013 提高组 D2T3", "description": "`小 B` 最近迷上了华容道，可是他总是要花很长的时间才能完成一次。于是，他想到用编程来完成华容道：给定一种局面， 华容道是否根本就无法完成，如果能完成， 最少需要多少时间。\n\n`小 B` 玩的华容道与经典的华容道游戏略有不同，游戏规则是这样的：\n\n1.   在一个 $n \\times m$ 棋盘上有 $ n \\times m$ 个格子，其中有且只有一个格子是空白的，其余 $ n \\times m-1$ 个格子上每个格子上有一个棋子，每个棋子的大小都是 $1 \\times 1$ 的；\n2.  有些棋子是固定的，有些棋子则是可以移动的；\n3.  任何与空白的格子相邻（有公共的边）的格子上的棋子都可以移动到空白格子上。   \n\n游戏的目的是把某个指定位置可以活动的棋子移动到目标位置。\n\n给定一个棋盘，游戏可以玩 $q$ 次，当然，每次棋盘上固定的格子是不会变的， 但是棋盘上空白的格子的初始位置、 指定的可移动的棋子的初始位置和目标位置却可能不同。第 $i$ 次玩的时候， 空白的格子在第 $EX_i$ 行第 $EY_i$ 列，指定的可移动棋子的初始位置为第 $SX_i$ 行第 $SY_i$列，目标位置为第 $TX_i$ 行第 $TY_i$ 列。\n\n假设 `小 B` 每秒钟能进行一次移动棋子的操作，而其他操作的时间都可以忽略不计。请你告诉 `小 B` 每一次游戏所需要的最少时间，或者告诉他不可能完成游戏。\n", "inputFormat": "第一行有 $3$个整数，每两个整数之间用一个空格隔开，依次表示 $ n,m,q$；\n\n接下来的 $n$ 行描述一个 $ n \\times m$ 的棋盘，每行有 $ m $ 个整数，每两个整数之间用一个空格隔开，每个整数描述棋盘上一个格子的状态，$0$ 表示该格子上的棋子是固定的，$1$ 表示该格子上的棋子可以移动或者该格子是空白的。  \n\n接下来的 $q$ 行，每行包含 $6$ 个整数依次是 $EX_i,EY_i,SX_i,SY_i,TX_i,TY_i$，每两个整数之间用一个空格隔开，表示每次游戏空白格子的位置，指定棋子的初始位置和目标位置。\n", "outputFormat": "共 $ q$ 行，每行包含 $1$ 个整数，表示每次游戏所需要的最少时间，如果某次游戏无法完成目标则输出 $−1$。\n", "hint": "**输入输出样例说明**\n\n棋盘上划叉的格子是固定的，红色格子是目标位置，圆圈表示棋子，其中绿色圆圈表示目标棋子。\n\n1.   第一次游戏，空白格子的初始位置是 $(3,2)$（图中空白所示），游戏的目标是将初始位置在 $(1, 2)$ 上的棋子（图中绿色圆圈所代表的棋子）移动到目标位置 $(2, 2)$（图中红色的格子）上。\n\n移动过程如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n0q385tw.png)\n\n2.  第二次游戏，空白格子的初始位置是 $(1, 2)$（图中空白所示），游戏的目标是将初始位置在 $(2, 2)$ 上的棋子（图中绿色圆圈所示）移动到目标位置  $(3, 2)$ 上。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aq9apos0.png)\n\n要将指定块移入目标位置，必须先将空白块移入目标位置，空白块要移动到目标位置，必然是从位置 $(2,2)$ 上与当前图中目标位置上的棋子交换位置，之后能与空白块交换位置的只有当前图中目标位置上的那个棋子，因此目标棋子永远无法走到它的目标位置， 游戏无法完成。\n\n**数据范围**\n\n对于 $ 30\\%$ 的数据，$1 ≤ n, m ≤ 10,q = 1$；\n\n对于 $60\\%$ 的数据，$1 ≤ n, m ≤ 30,q ≤ 10$；\n\n对于 $100\\%$ 的数据，$1 ≤ n, m ≤ 30,q ≤ 500$。\n", "locale": "zh-CN"}}}
{"pid": "P1980", "type": "P", "difficulty": 1, "samples": [["11 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "2013", "NOIP 普及组"], "title": "[NOIP 2013 普及组] 计数问题", "background": "NOIP2013 普及组 T1", "description": "试计算在区间 $1$ 到 $n$ 的所有整数中，数字 $x$（$0\\le x\\le9$）共出现了多少次？例如，在 $1$ 到 $11$ 中，即在 $1,2,3,4,5,6,7,8,9,10,11$ 中，数字 $1$ 出现了 $4$ 次。", "inputFormat": "$2$ 个整数 $n,x$，之间用一个空格隔开。", "outputFormat": "$1$ 个整数，表示 $x$ 出现的次数。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$0\\le x \\le 9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Junior] Counting Problem", "background": "NOIP 2013 Junior T1.", "description": "Compute how many times the digit $x$ ($0 \\le x \\le 9$) appears among all integers from $1$ to $n$. For example, among $1$ to $11$, i.e., in $1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11$, the digit $1$ appears $4$ times.", "inputFormat": "Two integers $n$ and $x$, separated by a single space.", "outputFormat": "One integer, representing the number of times $x$ appears.", "hint": "For $100\\%$ of the testdata, $1 \\le n \\le 10^6$, $0 \\le x \\le 9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 普及组] 计数问题", "background": "NOIP2013 普及组 T1", "description": "试计算在区间 $1$ 到 $n$ 的所有整数中，数字 $x$（$0\\le x\\le9$）共出现了多少次？例如，在 $1$ 到 $11$ 中，即在 $1,2,3,4,5,6,7,8,9,10,11$ 中，数字 $1$ 出现了 $4$ 次。", "inputFormat": "$2$ 个整数 $n,x$，之间用一个空格隔开。", "outputFormat": "$1$ 个整数，表示 $x$ 出现的次数。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$0\\le x \\le 9$。\n", "locale": "zh-CN"}}}
{"pid": "P1981", "type": "P", "difficulty": 2, "samples": [["1+1*3+4\n", "8"], ["1+1234567890*1", "7891"], ["1+1000000003*1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "2013", "NOIP 普及组", "栈"], "title": "[NOIP 2013 普及组] 表达式求值", "background": "NOIP2013 普及组 T2", "description": "给定一个只包含加法和乘法的算术表达式，请你编程计算表达式的值。\n", "inputFormat": "一行，为需要你计算的表达式，表达式中只包含数字、加法运算符 `+` 和乘法运算符 `*`，且没有括号，所有参与运算的数字均为 $0$ 到   $2^{31}-1$ 之间的整数。  \n\n输入数据保证这一行只有 `0123456789+*` 这 $12$ 种字符。\n", "outputFormat": "一个整数，表示这个表达式的值。  \n\n注意：当答案长度多于 $4$ 位时，请只输出最后 $ 4$ 位，前导 $ 0$ 不输出。\n", "hint": "对于 $30\\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤100$。\n\n对于 $80\\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤1000$。\n\n对于 $100\\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤100000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Junior] Expression Evaluation", "background": "NOIP 2013 Junior T2.", "description": "Given an arithmetic expression that contains only addition and multiplication, compute the value of the expression.", "inputFormat": "One line: the expression to evaluate. The expression contains only digits, the addition operator `+`, and the multiplication operator `*`, with no parentheses. Every number that appears is an integer from $0$ to $2^{31}-1$.\n\nThe input guarantees that this line contains only these $12$ characters: `0123456789+*`.", "outputFormat": "Output a single integer: the value of the expression.\n\nNote: If the answer has more than $4$ digits, output only the last $4$ digits, and do not output leading $0$s.", "hint": "For $30\\%$ of the testdata, the total number of addition and multiplication operators in the expression is between $0$ and $100$ inclusive.\n\nFor $80\\%$ of the testdata, the total number of addition and multiplication operators in the expression is between $0$ and $1000$ inclusive.\n\nFor $100\\%$ of the testdata, the total number of addition and multiplication operators in the expression is between $0$ and $100000$ inclusive.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 普及组] 表达式求值", "background": "NOIP2013 普及组 T2", "description": "给定一个只包含加法和乘法的算术表达式，请你编程计算表达式的值。\n", "inputFormat": "一行，为需要你计算的表达式，表达式中只包含数字、加法运算符 `+` 和乘法运算符 `*`，且没有括号，所有参与运算的数字均为 $0$ 到   $2^{31}-1$ 之间的整数。  \n\n输入数据保证这一行只有 `0123456789+*` 这 $12$ 种字符。\n", "outputFormat": "一个整数，表示这个表达式的值。  \n\n注意：当答案长度多于 $4$ 位时，请只输出最后 $ 4$ 位，前导 $ 0$ 不输出。\n", "hint": "对于 $30\\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤100$。\n\n对于 $80\\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤1000$。\n\n对于 $100\\%$ 的数据，$0≤$ 表达式中加法运算符和乘法运算符的总数 $≤100000$。\n", "locale": "zh-CN"}}}
{"pid": "P1982", "type": "P", "difficulty": 4, "samples": [["5 997\n1 2 3 4 5\n", "21\n"], ["5 7\n-1 -1 -1 -1 -1\n", "-1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "高精度", "递推", "2013", "NOIP 普及组"], "title": "[NOIP 2013 普及组] 小朋友的数字", "background": "NOIP2013 普及组 T3", "description": "有 $n$ 个小朋友排成一列。每个小朋友手上都有一个数字，这个数字可正可负。规定每个小朋友的特征值等于排在他前面（包括他本人）的小朋友中连续若干个（最少有一个）小朋友手上的数字之和的最大值。\n\n作为这些小朋友的老师，你需要给每个小朋友一个分数，分数是这样规定的：第一个小朋友的分数是他的特征值，其它小朋友的分数为排在他前面的所有小朋友中（不包括他本人），小朋友分数加上其特征值的最大值。\n\n请计算所有小朋友分数的最大值，输出时保持最大值的符号，将其绝对值对 $p$ 取模后输出。\n", "inputFormat": "第一行包含两个正整数 $n,p$，之间用一个空格隔开。\n\n第二行包含 $n$ 个数，每两个整数之间用一个空格隔开，表示每个小朋友手上的数字。\n", "outputFormat": "一个整数，表示最大分数对 $p$ 取模的结果。\n", "hint": "**样例解释 1**\n\n小朋友的特征值分别为 $1,3,6,10,15$，分数分别为 $ 1,2,5,11,21$，最大值 $21$ 对 $997$ 的模是 $21$。\n\n**样例解释 2**\n\n小朋友的特征值分别为 $-1,-1,-1,-1,-1$，分数分别为$-1,-2,-2,-2,-2$，最大值 $-1$ 对 $7$ 的模为 $-1$，输出 $-1$。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le p \\le 1000$，所有数字的绝对值不超过 $1000$；\n\n对于 $100\\%$ 的数据，$1 \\le n \\le {10}^6$，$1 \\le p \\le {10}^9$，其他数字的绝对值均不超过 ${10}^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Junior] Children's Numbers", "background": "NOIP 2013 Junior T3.", "description": "There are $n$ children standing in a line. Each child holds a number, which can be positive or negative. The characteristic value of a child is defined as the maximum possible sum of a contiguous block of one or more children among those standing in front of him (including himself).\n\nAs their teacher, you need to assign each child a score as follows: the first child's score equals his characteristic value. For any other child, his score equals the maximum, over all children standing before him (excluding himself), of the previous child's score plus his own characteristic value.\n\nPlease compute the maximum score among all children. When outputting, keep the sign of this maximum score, take its absolute value modulo $p$, and output the result with the sign kept.", "inputFormat": "The first line contains two positive integers $n, p$, separated by a space.\n\nThe second line contains $n$ integers, separated by spaces, representing the number held by each child.", "outputFormat": "Output a single integer, which is the maximum score modulo $p$, with its sign preserved.", "hint": "Sample Explanation 1\n\nThe characteristic values of the children are $1, 3, 6, 10, 15$, and the scores are $1, 2, 5, 11, 21$. The maximum value is $21$, and $21 \\bmod 997$ is $21$.\n\nSample Explanation 2\n\nThe characteristic values of the children are $-1, -1, -1, -1, -1$, and the scores are $-1, -2, -2, -2, -2$. The maximum value is $-1$, and $-1 \\bmod 7$ is $-1$, so output $-1$.\n\nConstraints\n\nFor $50\\%$ of the testdata, $1 \\le n \\le 1000$, $1 \\le p \\le 1000$, and the absolute value of every number does not exceed $1000$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le {10}^6$, $1 \\le p \\le {10}^9$, and the absolute value of every other number does not exceed ${10}^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 普及组] 小朋友的数字", "background": "NOIP2013 普及组 T3", "description": "有 $n$ 个小朋友排成一列。每个小朋友手上都有一个数字，这个数字可正可负。规定每个小朋友的特征值等于排在他前面（包括他本人）的小朋友中连续若干个（最少有一个）小朋友手上的数字之和的最大值。\n\n作为这些小朋友的老师，你需要给每个小朋友一个分数，分数是这样规定的：第一个小朋友的分数是他的特征值，其它小朋友的分数为排在他前面的所有小朋友中（不包括他本人），小朋友分数加上其特征值的最大值。\n\n请计算所有小朋友分数的最大值，输出时保持最大值的符号，将其绝对值对 $p$ 取模后输出。\n", "inputFormat": "第一行包含两个正整数 $n,p$，之间用一个空格隔开。\n\n第二行包含 $n$ 个数，每两个整数之间用一个空格隔开，表示每个小朋友手上的数字。\n", "outputFormat": "一个整数，表示最大分数对 $p$ 取模的结果。\n", "hint": "**样例解释 1**\n\n小朋友的特征值分别为 $1,3,6,10,15$，分数分别为 $ 1,2,5,11,21$，最大值 $21$ 对 $997$ 的模是 $21$。\n\n**样例解释 2**\n\n小朋友的特征值分别为 $-1,-1,-1,-1,-1$，分数分别为$-1,-2,-2,-2,-2$，最大值 $-1$ 对 $7$ 的模为 $-1$，输出 $-1$。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le p \\le 1000$，所有数字的绝对值不超过 $1000$；\n\n对于 $100\\%$ 的数据，$1 \\le n \\le {10}^6$，$1 \\le p \\le {10}^9$，其他数字的绝对值均不超过 ${10}^9$。", "locale": "zh-CN"}}}
{"pid": "P1983", "type": "P", "difficulty": 4, "samples": [["9 2 \n4 1 3 5 6 \n3 3 5 6 ", "2"], ["9 3 \n4 1 3 5 6 \n3 3 5 6 \n3 1 5 9 ", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "贪心", "2013", "NOIP 普及组", "O2优化", "排序", "图论建模", "拓扑排序"], "title": "[NOIP 2013 普及组] 车站分级", "background": "NOIP2013 普及组 T4", "description": "一条单向的铁路线上，依次有编号为 $1, 2, …, n$ 的 $n $ 个火车站。每个火车站都有一个级别，最低为 $1$ 级。现有若干趟车次在这条线路上行驶，每一趟都满足如下要求：如果这趟车次停靠了火车站 $x$，则始发站、终点站之间所有级别大于等于火车站 $x$ 的都必须停靠。  \n注意：起始站和终点站自然也算作事先已知需要停靠的站点。\n\n例如，下表是 $ 5 $ 趟车次的运行情况。其中，前 $ 4$ 趟车次均满足要求，而第 $5$ 趟车次由于停靠了 $3$ 号火车站（$2$ 级）却未停靠途经的 $6$ 号火车站（亦为 $2$ 级）而不满足要求。\n\n\n\n ![](https://cdn.luogu.com.cn/upload/pic/1238.png) \n\n现有 $m$ 趟车次的运行情况（全部满足要求），试推算这 $ n$ 个火车站至少分为几个不同的级别。\n", "inputFormat": "第一行包含 $2$ 个正整数 $n, m$，用一个空格隔开。\n\n第 $i + 1$ 行 $(1 ≤ i ≤ m)$ 中，首先是一个正整数 $s_i\\ (2 ≤ s_i ≤ n)$，表示第 $ i$ 趟车次有 $s_i$ 个停靠站；接下来有 $ s_i$ 个正整数，表示所有停靠站的编号，从小到大排列。每两个数之间用一个空格隔开。输入保证所有的车次都满足要求。\n", "outputFormat": "一个正整数，即 $n$ 个火车站最少划分的级别数。\n", "hint": "对于 $ 20\\%$ 的数据，$1 ≤ n, m ≤ 10$；\n\n对于 $50\\%$ 的数据，$1 ≤ n, m ≤ 100$；\n\n对于 $100\\%$ 的数据，$1 ≤ n, m ≤ 1000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2013 Junior] Station Classification", "background": "NOIP 2013 Junior T4.", "description": "Along a one-way railway line, there are $n$ stations numbered $1, 2, \\dots, n$ in order. Each station has a level, with the minimum level being $1$. There are several train services operating on this line, and each service satisfies the following rule: if the service stops at station $x$, then among the stations between its origin and terminal station, every station whose level is greater than or equal to the level of station $x$ must also be a stop.  \nNote: The origin and terminal stations are, of course, also counted as known stops.\n\nFor example, the table below shows the operation of $5$ services. Among them, the first $4$ services satisfy the rule, while the $5$-th service does not, because it stops at station $3$ (level $2$) but skips station $6$ (also level $2$) along the route.\n\n![](https://cdn.luogu.com.cn/upload/pic/1238.png)\n\nGiven the operation of $m$ services (all of which satisfy the rule), determine the minimum number of distinct levels needed for these $n$ stations.", "inputFormat": "The first line contains $2$ positive integers $n, m$, separated by a space.\n\nOn line $i + 1$ for $1 \\le i \\le m$, first there is a positive integer $s_i$ ($2 \\le s_i \\le n$), indicating that the $i$-th service has $s_i$ stops; then follow $s_i$ positive integers, the indices of all stops, in increasing order. Each pair of numbers is separated by a single space. The input guarantees that all services satisfy the rule.", "outputFormat": "Output a single integer, the minimum number of levels into which the $n$ stations can be partitioned.", "hint": "For $20\\%$ of the testdata, $1 \\le n, m \\le 10$.\n\nFor $50\\%$ of the testdata, $1 \\le n, m \\le 100$.\n\nFor $100\\%$ of the testdata, $1 \\le n, m \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2013 普及组] 车站分级", "background": "NOIP2013 普及组 T4", "description": "一条单向的铁路线上，依次有编号为 $1, 2, …, n$ 的 $n $ 个火车站。每个火车站都有一个级别，最低为 $1$ 级。现有若干趟车次在这条线路上行驶，每一趟都满足如下要求：如果这趟车次停靠了火车站 $x$，则始发站、终点站之间所有级别大于等于火车站 $x$ 的都必须停靠。  \n注意：起始站和终点站自然也算作事先已知需要停靠的站点。\n\n例如，下表是 $ 5 $ 趟车次的运行情况。其中，前 $ 4$ 趟车次均满足要求，而第 $5$ 趟车次由于停靠了 $3$ 号火车站（$2$ 级）却未停靠途经的 $6$ 号火车站（亦为 $2$ 级）而不满足要求。\n\n\n\n ![](https://cdn.luogu.com.cn/upload/pic/1238.png) \n\n现有 $m$ 趟车次的运行情况（全部满足要求），试推算这 $ n$ 个火车站至少分为几个不同的级别。\n", "inputFormat": "第一行包含 $2$ 个正整数 $n, m$，用一个空格隔开。\n\n第 $i + 1$ 行 $(1 ≤ i ≤ m)$ 中，首先是一个正整数 $s_i\\ (2 ≤ s_i ≤ n)$，表示第 $ i$ 趟车次有 $s_i$ 个停靠站；接下来有 $ s_i$ 个正整数，表示所有停靠站的编号，从小到大排列。每两个数之间用一个空格隔开。输入保证所有的车次都满足要求。\n", "outputFormat": "一个正整数，即 $n$ 个火车站最少划分的级别数。\n", "hint": "对于 $ 20\\%$ 的数据，$1 ≤ n, m ≤ 10$；\n\n对于 $50\\%$ 的数据，$1 ≤ n, m ≤ 100$；\n\n对于 $100\\%$ 的数据，$1 ≤ n, m ≤ 1000$。\n", "locale": "zh-CN"}}}
{"pid": "P1984", "type": "P", "difficulty": 4, "samples": [["2", "315000.00"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2008", "各省省选", "山东"], "title": "[SDOI2008] 烧水问题", "background": null, "description": "把总质量为 $1\\ \\rm kg$ 的水分装在 $n$ 个杯子里，每杯水的质量均为 $(1/n)\\ \\rm kg$，初始温度均为 $0$ 度。现需要把每一杯水都烧开。我们可以对任意一杯水进行加热。把一杯水的温度升高 $t$ 度所需的能量为 $(4200\\times t/n)\\rm J$，其中，$\\rm J$ 是能量单位“焦耳”。如果一旦某杯水的温度达到 $100$ 度，那么这杯水的温度就不能再继续升高，此时我们认为这杯水已经被烧开。显然地，如果直接把水一杯一杯地烧开，所需的总能量为 $(4200\\times 100)\\rm J$。\n\n在烧水的过程中，我们随时可以在两杯温度不同的水之间进行热传递操作。热量只能从温度较高的那杯水传递到温度较低的那杯水。由于两杯水的质量相同，所以进行热传递操作之后，原来温度较高的那杯水所降低的温度总是等于原来温度较低的那杯水所升高的温度。\n\n一旦两杯水的温度相同，热传递立刻停止。\n\n为了把问题简化，我们假设：\n\n1. 没有进行加热或热传递操作时，水的温度不会变化。\n2. 加热时所花费的能量全部被水吸收，杯子不吸收能量。\n3. 热传递总是隔着杯子进行，$n$ 杯水永远不会互相混合。\n4. 热传递符合能量守恒，而且没有任何的热量损耗。\n\n在这个问题里，只要求把每杯水都至少烧开一遍就可以了，而不要求最终每杯水的温度都是 $100$ 度。我们可以用如下操作把两杯水烧开：先把一杯水加热到 $100$ 度，花费能量 $(4200\\times 100/2)\\rm J$，然后两杯水进行热传递，直到它们的温度都变成 $50$ 度为止，最后把原来没有加热到 $100$ 度的那杯水加热到 $100$ 度，花费能量 $(4200\\times 50/2)\\rm J$，此时两杯水都被烧开过了，当前温度一杯 $100$ 度，一杯 $50$ 度，花费的总能量为 $(4200\\times 75)\\rm J$，比直接烧开所需的 $(4200\\times 100)\\rm J$ 少花费了 $25\\%$ 的能量。\n\n你的任务是设计一个最佳的操作方案使得 $n$ 杯水都至少被烧开一遍所需的总能量最少。", "inputFormat": "输入数据共一行，一个整数 $n$。", "outputFormat": "输出 $n$ 杯水都至少被烧开一遍所需的最少的总能量，单位为 $J$，四舍五入到小数点后两位。", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 3000000$。", "locale": "zh-CN", "translations": {"en": {"title": "[SDOI2008] Boiling Water Problem", "background": "", "description": "A total mass of $1\\ \\rm kg$ of water is divided into $n$ cups, each containing $(1/n)\\ \\rm kg$ of water, all initially at $0$ degrees. We need to bring every cup of water to a boil. We may heat any cup. The energy required to raise one cup’s temperature by $t$ degrees is $(4200\\times t/n)\\rm J$, where $\\rm J$ is the energy unit \"joule\". Once a cup’s temperature reaches $100$ degrees, it cannot be heated further; at that point we consider this cup to have been boiled. Clearly, if we simply boil the cups one by one directly, the total energy required is $(4200\\times 100)\\rm J$.\n\nDuring the process, we may perform heat transfer between any two cups at different temperatures at any time. Heat can only flow from the hotter cup to the cooler cup. Since the two cups have equal mass, after a heat transfer operation, the temperature decrease of the originally hotter cup always equals the temperature increase of the originally cooler cup.\n\nHeat transfer stops immediately once the two cups reach the same temperature.\n\nTo simplify the problem, assume:\n1. When neither heating nor heat transfer is being performed, water temperature does not change.\n2. All energy spent on heating is absorbed by the water; the cup absorbs no energy.\n3. Heat transfer always occurs through the cup walls; the $n$ cups of water never mix.\n4. Heat transfer conserves energy and has no loss.\n\nIn this problem, it is only required that each cup be brought to a boil at least once; it is not required that every cup ends at $100$ degrees. For example, we can boil two cups as follows: first heat one cup to $100$ degrees, costing $(4200\\times 100/2)\\rm J$, then perform heat transfer between the two cups until both are at $50$ degrees, and finally heat the cup that was not previously brought to $100$ degrees up to $100$ degrees, costing $(4200\\times 50/2)\\rm J$. At this point, both cups have been boiled; the current temperatures are one at $100$ degrees and one at $50$ degrees. The total energy spent is $(4200\\times 75)\\rm J$, which is $25\\%$ less than the $(4200\\times 100)\\rm J$ required by direct boiling.\n\nYour task is to design an optimal sequence of operations that minimizes the total energy required to ensure that all $n$ cups are each boiled at least once.", "inputFormat": "One line containing an integer $n$.", "outputFormat": "Output the minimal total energy required to boil all $n$ cups at least once, in $\\rm J$, rounded to two decimal places.", "hint": "### Constraints\n\nFor all testdata, $1 \\le n \\le 3000000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SDOI2008] 烧水问题", "background": null, "description": "把总质量为 $1\\ \\rm kg$ 的水分装在 $n$ 个杯子里，每杯水的质量均为 $(1/n)\\ \\rm kg$，初始温度均为 $0$ 度。现需要把每一杯水都烧开。我们可以对任意一杯水进行加热。把一杯水的温度升高 $t$ 度所需的能量为 $(4200\\times t/n)\\rm J$，其中，$\\rm J$ 是能量单位“焦耳”。如果一旦某杯水的温度达到 $100$ 度，那么这杯水的温度就不能再继续升高，此时我们认为这杯水已经被烧开。显然地，如果直接把水一杯一杯地烧开，所需的总能量为 $(4200\\times 100)\\rm J$。\n\n在烧水的过程中，我们随时可以在两杯温度不同的水之间进行热传递操作。热量只能从温度较高的那杯水传递到温度较低的那杯水。由于两杯水的质量相同，所以进行热传递操作之后，原来温度较高的那杯水所降低的温度总是等于原来温度较低的那杯水所升高的温度。\n\n一旦两杯水的温度相同，热传递立刻停止。\n\n为了把问题简化，我们假设：\n\n1. 没有进行加热或热传递操作时，水的温度不会变化。\n2. 加热时所花费的能量全部被水吸收，杯子不吸收能量。\n3. 热传递总是隔着杯子进行，$n$ 杯水永远不会互相混合。\n4. 热传递符合能量守恒，而且没有任何的热量损耗。\n\n在这个问题里，只要求把每杯水都至少烧开一遍就可以了，而不要求最终每杯水的温度都是 $100$ 度。我们可以用如下操作把两杯水烧开：先把一杯水加热到 $100$ 度，花费能量 $(4200\\times 100/2)\\rm J$，然后两杯水进行热传递，直到它们的温度都变成 $50$ 度为止，最后把原来没有加热到 $100$ 度的那杯水加热到 $100$ 度，花费能量 $(4200\\times 50/2)\\rm J$，此时两杯水都被烧开过了，当前温度一杯 $100$ 度，一杯 $50$ 度，花费的总能量为 $(4200\\times 75)\\rm J$，比直接烧开所需的 $(4200\\times 100)\\rm J$ 少花费了 $25\\%$ 的能量。\n\n你的任务是设计一个最佳的操作方案使得 $n$ 杯水都至少被烧开一遍所需的总能量最少。", "inputFormat": "输入数据共一行，一个整数 $n$。", "outputFormat": "输出 $n$ 杯水都至少被烧开一遍所需的最少的总能量，单位为 $J$，四舍五入到小数点后两位。", "hint": "### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 3000000$。", "locale": "zh-CN"}}}
{"pid": "P1985", "type": "P", "difficulty": 5, "samples": [["4 4 \t\n1 0 0 1\n0 1 1 0\n0 1 1 0\n1 0 0 1", "0 0 0 0\n1 0 0 1\n1 0 0 1\n0 0 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "USACO", "枚举"], "title": "[USACO07OPEN] 翻转棋 Fliptile S", "background": "", "description": "FJ 知道，智商高的奶牛产奶量也大，所以他为奶牛们准备了一个翻动瓦片的益智游戏。\n\n在一个 $M \\times N$ 的方阵上（$1 \\leq M,N \\leq 15$），每个格子都有一个可以翻转的瓦片。瓦片的一面是黑色，另一面是白色。对一个瓦片翻转，可以让它的颜色由黑到白，或是由白到黑。\n\n然而奶牛们很笨拙，它们翻转一个格子的瓦片时，与其有公共边的所有瓦片也会翻转。\n\n现在奶牛们想知道，至少需要多少次翻转，使所有的瓦片都变成白色朝上呢？", "inputFormat": "第一行两个整数 $M,N$。\n\n接下来 $M$ 行，每行 $N$ 个整数，表示初始状态，$0$ 表示白面朝上，$1$ 表示黑面朝上。", "outputFormat": "如果不能将所有瓦片都翻转为白面朝上的话，输出 `IMPOSSIBLE`。\n\n否则输出 $M$ 行，每行 $N$ 个整数，第 $i$ 行的第 $j$ 个数代表第 $i$ 行第 $j$ 列的瓦片被翻转了多少次。\n\n你的输出应该确保翻转次数最少。如果存在多种方案，输出字典序最小的方案。\n\n这里的字典序最小指将输出中的所有空白字符去掉后，形成的字符串字典序最小。", "hint": "下面的方案操作次数同样是最小的，但是字典序不是最小的。\n\n```plain\n0 1 1 0\n0 0 0 0\n0 0 0 0\n0 1 1 0\n```", "locale": "zh-CN", "translations": {"en": {"title": "[USACO07OPEN] Fliptile S", "background": "", "description": "FJ knows that cows with higher IQ produce more milk, so he prepared a tile-flipping puzzle for them.\n\nOn an $M \\times N$ grid ($1 \\leq M, N \\leq 15$), each cell has a tile that can be flipped. One side of a tile is black, the other side is white. Flipping a tile toggles its color between black and white.\n\nHowever, the cows are clumsy: when they flip the tile in a cell, all tiles that share an edge with it also flip.\n\nNow they want to know the minimum number of flips needed to make all tiles face white up.", "inputFormat": "The first line contains two integers $M, N$.\n\nThen follow $M$ lines, each with $N$ integers, describing the initial state: $0$ means white side up, $1$ means black side up.", "outputFormat": "If it is impossible to make all tiles white side up, output `IMPOSSIBLE`.\n\nOtherwise, output $M$ lines, each with $N$ integers; the number at row $i$, column $j$ denotes how many times the tile at row $i$, column $j$ is flipped.\n\nYour output must have the minimum total number of flips. If there are multiple solutions, output the lexicographically smallest one.\n\nHere, lexicographically smallest means the string formed by removing all whitespace from your output is lexicographically smallest.", "hint": "The following solution also has the minimum number of operations, but it is not lexicographically smallest.\n\n```plain\n0 1 1 0\n0 0 0 0\n0 0 0 0\n0 1 1 0\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO07OPEN] 翻转棋 Fliptile S", "background": "", "description": "FJ 知道，智商高的奶牛产奶量也大，所以他为奶牛们准备了一个翻动瓦片的益智游戏。\n\n在一个 $M \\times N$ 的方阵上（$1 \\leq M,N \\leq 15$），每个格子都有一个可以翻转的瓦片。瓦片的一面是黑色，另一面是白色。对一个瓦片翻转，可以让它的颜色由黑到白，或是由白到黑。\n\n然而奶牛们很笨拙，它们翻转一个格子的瓦片时，与其有公共边的所有瓦片也会翻转。\n\n现在奶牛们想知道，至少需要多少次翻转，使所有的瓦片都变成白色朝上呢？", "inputFormat": "第一行两个整数 $M,N$。\n\n接下来 $M$ 行，每行 $N$ 个整数，表示初始状态，$0$ 表示白面朝上，$1$ 表示黑面朝上。", "outputFormat": "如果不能将所有瓦片都翻转为白面朝上的话，输出 `IMPOSSIBLE`。\n\n否则输出 $M$ 行，每行 $N$ 个整数，第 $i$ 行的第 $j$ 个数代表第 $i$ 行第 $j$ 列的瓦片被翻转了多少次。\n\n你的输出应该确保翻转次数最少。如果存在多种方案，输出字典序最小的方案。\n\n这里的字典序最小指将输出中的所有空白字符去掉后，形成的字符串字典序最小。", "hint": "下面的方案操作次数同样是最小的，但是字典序不是最小的。\n\n```plain\n0 1 1 0\n0 0 0 0\n0 0 0 0\n0 1 1 0\n```", "locale": "zh-CN"}}}
{"pid": "P1986", "type": "P", "difficulty": 3, "samples": [["11 5 \n3 7 3 \n8 10 3 \n6 8 1 \n1 3 1 \n10 11 1 ", "6 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心"], "title": "元旦晚会", "background": "玛雅人预言的世界末日没有发生，我们迎来了地球的第五个太阳纪。\n\n学校将要举办第五个太阳纪的第一次元旦晚会。Brett 的班级要参加，并且还表演节目。", "description": "Brett 班的节目是这样的：全班 $n$ 个同学排成一排，同学们手拿话筒，齐唱《喜洋洋与灰太狼》（这个节目看起来有点二） 。\n\nBrett 班的同学分成了 $m$ 个声部，一个声部由连续的同学组成，第 $i$ 个声部由 $a_i$ 到 $b_i$ 之间的同学组成（包括 $a_i$ 和 $b_i$ ）\n\n但是一个同学有可能同时属于多个声部，且有可能有同学不属于任何一个声部。为了保证演唱效果，第 $i$ 个声部必须至少有 $c_i$ 个同学持有话筒（即第 $i$ 个声部持有话筒的同学数大于等于 $c_i$）。\n\n请你算出 Brett 班最少需要几个话筒。", "inputFormat": "第一行 $2$ 个正整数 $n,m$。\n\n以下 $m$ 行，每行 $3$ 个正整数 $a_i, b_i, c_i$。", "outputFormat": "一个正整数表示满足要求的最少话筒数。\n", "hint": "对于 $100\\%$ 的数据，保证 $n \\le 30000$，$m \\le 5000$，$1 \\le a_i < b_i \\le n$，$c_i \\le b_i - a_i + 1$。", "locale": "zh-CN", "translations": {"en": {"title": "New Year’s Day Gala", "background": "The Mayan doomsday prophecy did not come true, and we have welcomed the Fifth Sun era of Earth.\n\nThe school is going to hold the first New Year’s Day gala of the Fifth Sun era. Brett’s class will participate and perform.", "description": "Brett’s class will perform as follows: all $n$ students stand in a line, each holding a microphone, singing in unison the theme of \"Pleasant Goat and Big Big Wolf\" (this act looks a bit silly).\n\nThe class is divided into $m$ voice parts. Each voice part consists of consecutive students. The $i$-th voice part consists of students from $a_i$ to $b_i$ inclusive.\n\nHowever, a student may belong to multiple voice parts, and some students may belong to none. To ensure singing quality, the $i$-th voice part must have at least $c_i$ students holding microphones (that is, the number of students holding microphones within the $i$-th voice part is at least $c_i$).\n\nPlease compute the minimum number of microphones that Brett’s class needs.", "inputFormat": "The first line contains two positive integers $n, m$.\n\nThe next $m$ lines each contain three positive integers $a_i, b_i, c_i$.", "outputFormat": "Output a single positive integer: the minimum number of microphones required to satisfy all constraints.", "hint": "For $100\\%$ of the testdata, it is guaranteed that $n \\le 30000$, $m \\le 5000$, $1 \\le a_i < b_i \\le n$, and $c_i \\le b_i - a_i + 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "元旦晚会", "background": "玛雅人预言的世界末日没有发生，我们迎来了地球的第五个太阳纪。\n\n学校将要举办第五个太阳纪的第一次元旦晚会。Brett 的班级要参加，并且还表演节目。", "description": "Brett 班的节目是这样的：全班 $n$ 个同学排成一排，同学们手拿话筒，齐唱《喜洋洋与灰太狼》（这个节目看起来有点二） 。\n\nBrett 班的同学分成了 $m$ 个声部，一个声部由连续的同学组成，第 $i$ 个声部由 $a_i$ 到 $b_i$ 之间的同学组成（包括 $a_i$ 和 $b_i$ ）\n\n但是一个同学有可能同时属于多个声部，且有可能有同学不属于任何一个声部。为了保证演唱效果，第 $i$ 个声部必须至少有 $c_i$ 个同学持有话筒（即第 $i$ 个声部持有话筒的同学数大于等于 $c_i$）。\n\n请你算出 Brett 班最少需要几个话筒。", "inputFormat": "第一行 $2$ 个正整数 $n,m$。\n\n以下 $m$ 行，每行 $3$ 个正整数 $a_i, b_i, c_i$。", "outputFormat": "一个正整数表示满足要求的最少话筒数。\n", "hint": "对于 $100\\%$ 的数据，保证 $n \\le 30000$，$m \\le 5000$，$1 \\le a_i < b_i \\le n$，$c_i \\le b_i - a_i + 1$。", "locale": "zh-CN"}}}
{"pid": "P1987", "type": "P", "difficulty": 5, "samples": [["3 3\n10 20 30\n4 5 6\n4 3\n20 30 40 50\n2 7 6 5\n0 0\n", "47\n104\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "摇钱树", "background": "", "description": "Cpg 正在游览一个梦中之城，在这个城市中有 $n$ 棵摇钱树。这下，可让 Cpg 看傻了。可是 Cpg 只能在这个城市中呆 $k$ 天，但是现在摇钱树已经成熟了，每天每棵都会掉下不同的金币（不属于 Cpg！）。Cpg 每天可以砍掉其中一颗，并获得其树上所有的金币（怎么会有这种好事）。请你帮助 Cpg 算出他在这 $k$ 天中最多能获得多少金币。", "inputFormat": "**本题单测试点内有多组数据**。\n\n每个测试点中有不超过 $10$ 组的测试数据。\n\n每组测试数据：\n\n第一行两个整数 $n,k$。\n\n第二行包含 $n$ 个整数 $m_i$，表示 Cpg 刚看到这 $n$ 棵树时每刻树上的金币数。\n\n第三行 $n$ 个整数 $b_i$，表示每颗摇钱树，每天将会掉落的金币。\n\n以 `0 0` 结束。", "outputFormat": "对每组测试数据，输出仅一行，Cpg 在 $k$ 天中能获得的最大金币数。", "hint": "#### 数据范围与约定\n\n- 对于 $100\\%$ 的数据，$1 \\le n, k \\le 10^3$，$1 \\le m_i \\le 10^5$，$1 \\le b_i \\le 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "Money Trees", "background": "", "description": "Cpg is visiting a city of dreams that has $n$ money trees. Each tree has already ripened. Cpg can stay in the city for $k$ days. Every day, each tree loses some coins that fall off and are not collected by Cpg. Each day, Cpg may cut down exactly one tree and obtain all the coins currently on that tree.\n\nFormally, number the days as $t = 0, 1, \\dots, k - 1$. Let the $i$-th tree initially have $m_i$ coins, and let it lose $b_i$ coins per day. If the $i$-th tree is cut on day $t$, the coins Cpg obtains from it are\n$\\max(m_i - b_i \\cdot t, 0)$.\nA tree, once cut, is no longer available on later days. Cpg may cut at most one tree per day, for up to $k$ days (or until all trees are cut).\n\nPlease help Cpg compute the maximum total number of coins he can obtain over these $k$ days.", "inputFormat": "This problem contains multiple test cases within a single input file. There are at most $10$ test cases.\n\nEach test case:\n- The first line contains two integers $n, k$.\n- The second line contains $n$ integers $m_i$, the number of coins on each tree when Cpg first sees them.\n- The third line contains $n$ integers $b_i$, the number of coins each tree loses per day.\n\nInput is terminated by a line containing `0 0`.", "outputFormat": "For each test case, output a single line with the maximum total number of coins Cpg can obtain in $k$ days.", "hint": "#### Constraints\n\n- For $100\\%$ of the testdata, $1 \\le n, k \\le 10^3$, $1 \\le m_i \\le 10^5$, $1 \\le b_i \\le 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "摇钱树", "background": "", "description": "Cpg 正在游览一个梦中之城，在这个城市中有 $n$ 棵摇钱树。这下，可让 Cpg 看傻了。可是 Cpg 只能在这个城市中呆 $k$ 天，但是现在摇钱树已经成熟了，每天每棵都会掉下不同的金币（不属于 Cpg！）。Cpg 每天可以砍掉其中一颗，并获得其树上所有的金币（怎么会有这种好事）。请你帮助 Cpg 算出他在这 $k$ 天中最多能获得多少金币。", "inputFormat": "**本题单测试点内有多组数据**。\n\n每个测试点中有不超过 $10$ 组的测试数据。\n\n每组测试数据：\n\n第一行两个整数 $n,k$。\n\n第二行包含 $n$ 个整数 $m_i$，表示 Cpg 刚看到这 $n$ 棵树时每刻树上的金币数。\n\n第三行 $n$ 个整数 $b_i$，表示每颗摇钱树，每天将会掉落的金币。\n\n以 `0 0` 结束。", "outputFormat": "对每组测试数据，输出仅一行，Cpg 在 $k$ 天中能获得的最大金币数。", "hint": "#### 数据范围与约定\n\n- 对于 $100\\%$ 的数据，$1 \\le n, k \\le 10^3$，$1 \\le m_i \\le 10^5$，$1 \\le b_i \\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1988", "type": "P", "difficulty": 3, "samples": [["12", "925"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "火炬", "background": "", "description": "2008 北京奥运会，你想成为四川汶川的一名火炬手，经过层层选拔，终于到了最后一关。\n\n这一关是一道很难的题：任意给定一个正整数 $N$，求一个最小的正整数 $M$，使得 $N \\times M$ 的十进制表示形式里只含有 `1` 和 `0`。\n", "inputFormat": "一行一个正整数 $N$。\n", "outputFormat": "输出一行，如果有解，输出一个整数，表示最小的 $M$，否则输出 `No Solution`。", "hint": "$1\\le N\\le 10^5$", "locale": "zh-CN", "translations": {"en": {"title": "Torch", "background": "", "description": "At the 2008 Beijing Olympics, you want to become a torchbearer in Wenchuan, Sichuan. After multiple rounds of selection, you finally reach the last challenge.\n\nThis challenge is a hard problem: Given any positive integer $N$, find the smallest positive integer $M$ such that the decimal representation of $N \\times M$ contains only `1` and `0`.", "inputFormat": "One line containing a positive integer $N$.", "outputFormat": "Output one line. If a solution exists, output an integer representing the smallest $M$, otherwise output `No Solution`.", "hint": "Constraints: $1 \\le N \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "火炬", "background": "", "description": "2008 北京奥运会，你想成为四川汶川的一名火炬手，经过层层选拔，终于到了最后一关。\n\n这一关是一道很难的题：任意给定一个正整数 $N$，求一个最小的正整数 $M$，使得 $N \\times M$ 的十进制表示形式里只含有 `1` 和 `0`。\n", "inputFormat": "一行一个正整数 $N$。\n", "outputFormat": "输出一行，如果有解，输出一个整数，表示最小的 $M$，否则输出 `No Solution`。", "hint": "$1\\le N\\le 10^5$", "locale": "zh-CN"}}}
{"pid": "P1989", "type": "P", "difficulty": 5, "samples": [["3 3\n1 2\n2 3\n3 1\n", "1"], ["5 8\n1 2\n2 3\n3 5\n5 4\n4 2\n5 2\n1 4\n3 4\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "O2优化", "枚举", "根号分治", "模板题"], "title": "【模板】无向图三元环计数", "background": "无向图 $G$ 的三元环指的是一个 $G$ 的一个子图 $G_0$，满足 $G_0$ 有且仅有三个点 $u, v, w$，有且仅有三条边 $\\langle u, v \\rangle, \\langle v, w \\rangle, \\langle w, u \\rangle$。两个三元环 $G_1, G_2$ 不同当且仅当存在一个点 $u$，满足 $u \\in G_1$ 且 $u \\notin G_2$。", "description": "给定一个 $n$ 个点 $m$ 条边的简单无向图，求其三元环个数。", "inputFormat": "每个测试点有且仅有一组测试数据。\n\n输入的第一行是用一个空格隔开的两个整数，分别代表图的点数 $n$ 和边数 $m$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行两个用空格隔开的整数 $u, v$，代表有一条连接节点 $u$ 和节点 $v$ 的边。", "outputFormat": "输出一行一个整数，代表该图的三元环个数。", "hint": "**【样例 2 解释】**\n\n共有 $5$ 个三元环，每个三元环包含的点分别是 $\\{1, 2, 4\\}, \\{2, 3, 4\\}, \\{2, 3, 5\\}, \\{2, 4, 5\\}, \\{3, 4, 5\\}$。\n\n**【数据规模与约定】**\n\n**本题采用多测试点捆绑测试，共有两个子任务**。\n\n- Subtask 1（30 points）：$n \\le 500$，$m \\le {10}^3$。\n- Subtask 2（70 points）：无特殊性质。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le m \\le 2 \\times {10}^5$，$1 \\le u, v \\le n$，给出的图不存在重边和自环，**但不保证图连通**。\n\n**【提示】**\n\n- 请注意常数因子对程序效率造成的影响。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】无向图三元环计数", "background": "无向图 $G$ 的三元环指的是一个 $G$ 的一个子图 $G_0$，满足 $G_0$ 有且仅有三个点 $u, v, w$，有且仅有三条边 $\\langle u, v \\rangle, \\langle v, w \\rangle, \\langle w, u \\rangle$。两个三元环 $G_1, G_2$ 不同当且仅当存在一个点 $u$，满足 $u \\in G_1$ 且 $u \\notin G_2$。", "description": "给定一个 $n$ 个点 $m$ 条边的简单无向图，求其三元环个数。", "inputFormat": "每个测试点有且仅有一组测试数据。\n\n输入的第一行是用一个空格隔开的两个整数，分别代表图的点数 $n$ 和边数 $m$。\n\n第 $2$ 到第 $(m + 1)$ 行，每行两个用空格隔开的整数 $u, v$，代表有一条连接节点 $u$ 和节点 $v$ 的边。", "outputFormat": "输出一行一个整数，代表该图的三元环个数。", "hint": "**【样例 2 解释】**\n\n共有 $5$ 个三元环，每个三元环包含的点分别是 $\\{1, 2, 4\\}, \\{2, 3, 4\\}, \\{2, 3, 5\\}, \\{2, 4, 5\\}, \\{3, 4, 5\\}$。\n\n**【数据规模与约定】**\n\n**本题采用多测试点捆绑测试，共有两个子任务**。\n\n- Subtask 1（30 points）：$n \\le 500$，$m \\le {10}^3$。\n- Subtask 2（70 points）：无特殊性质。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le m \\le 2 \\times {10}^5$，$1 \\le u, v \\le n$，给出的图不存在重边和自环，**但不保证图连通**。\n\n**【提示】**\n\n- 请注意常数因子对程序效率造成的影响。", "locale": "zh-CN"}}}
{"pid": "P1990", "type": "P", "difficulty": 3, "samples": [["13", "3465"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["递推"], "title": "覆盖墙壁", "background": "", "description": "你有一个长为 $N$ 宽为 $2$ 的墙壁，给你两种砖头：一个长 $2$ 宽 $1$，另一个是 L 型覆盖 $3$ 个单元的砖头。如下图：\n\n```\n0  0\n0  00\n```\n\n砖头可以旋转，两种砖头可以无限制提供。你的任务是计算用这两种来覆盖 $N\\times 2$ 的墙壁的覆盖方法。例如一个 $2\\times3$ 的墙可以有 $5$ 种覆盖方法，如下：\n```\n012 002 011 001 011  \n012 112 022 011 001\n```\n注意可以使用两种砖头混合起来覆盖，如 $2\\times4$ 的墙可以这样覆盖：\n```\n0112\n0012\n```\n给定 $N$，要求计算 $2\\times N$ 的墙壁的覆盖方法。由于结果很大，所以只要求输出最后 $4$ 位。例如 $2\\times 13$ 的覆盖方法为 $13465$，只需输出 $3465$ 即可。如果答案少于 $4$ 位，就直接输出就可以，不用加前导 $0$，如 $N=3$ 时输出 $5$。\n", "inputFormat": "一个整数 $N$，表示墙壁的长。\n", "outputFormat": "输出覆盖方法的最后 $4$ 位，如果不足 $4$ 位就输出整个答案。\n", "hint": "数据保证，$1\\leq N\\leq 1000000$。", "locale": "zh-CN", "translations": {"en": {"title": "Tiling the Wall", "background": "", "description": "You have a wall of length $N$ and width $2$. You are given two types of bricks: one is $2\\times 1$, and the other is an L-shaped brick that covers $3$ unit cells. As shown below:\n```\n0  0\n0  00\n```\nBricks can be rotated, and both types are available in unlimited quantity. Your task is to count the number of ways to tile the $N\\times 2$ wall using these two types. For example, a $2\\times3$ wall can be tiled in $5$ ways, as follows:\n```\n012 002 011 001 011  \n012 112 022 011 001\n```\nNote that the two types can be mixed in a tiling; for example, a $2\\times4$ wall can be tiled as follows:\n```\n0112\n0012\n```\nGiven $N$, compute the number of tilings for the $2\\times N$ wall. Since the result can be large, output only the last $4$ digits. For example, if the number of tilings for $2\\times 13$ is $13465$, output $3465$. If the answer has fewer than $4$ digits, output it directly without leading zeros, e.g., when $N=3$, output $5$.", "inputFormat": "A single integer $N$, the length of the wall.", "outputFormat": "Output the last $4$ digits of the number of tilings; if it has fewer than $4$ digits, output the entire answer.", "hint": "Constraints: $1\\leq N\\leq 1000000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "覆盖墙壁", "background": "", "description": "你有一个长为 $N$ 宽为 $2$ 的墙壁，给你两种砖头：一个长 $2$ 宽 $1$，另一个是 L 型覆盖 $3$ 个单元的砖头。如下图：\n\n```\n0  0\n0  00\n```\n\n砖头可以旋转，两种砖头可以无限制提供。你的任务是计算用这两种来覆盖 $N\\times 2$ 的墙壁的覆盖方法。例如一个 $2\\times3$ 的墙可以有 $5$ 种覆盖方法，如下：\n```\n012 002 011 001 011  \n012 112 022 011 001\n```\n注意可以使用两种砖头混合起来覆盖，如 $2\\times4$ 的墙可以这样覆盖：\n```\n0112\n0012\n```\n给定 $N$，要求计算 $2\\times N$ 的墙壁的覆盖方法。由于结果很大，所以只要求输出最后 $4$ 位。例如 $2\\times 13$ 的覆盖方法为 $13465$，只需输出 $3465$ 即可。如果答案少于 $4$ 位，就直接输出就可以，不用加前导 $0$，如 $N=3$ 时输出 $5$。\n", "inputFormat": "一个整数 $N$，表示墙壁的长。\n", "outputFormat": "输出覆盖方法的最后 $4$ 位，如果不足 $4$ 位就输出整个答案。\n", "hint": "数据保证，$1\\leq N\\leq 1000000$。", "locale": "zh-CN"}}}
{"pid": "P1991", "type": "P", "difficulty": 3, "samples": [["2 4\n0 100\n0 300\n0 600\n150 750\n", "212.13\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "并查集", "生成树"], "title": "无线通讯网", "background": "", "description": "国防部计划用无线网络连接若干个边防哨所。2 种不同的通讯技术用来搭建无线网络；\n\n每个边防哨所都要配备无线电收发器；有一些哨所还可以增配卫星电话。\n\n任意两个配备了一条卫星电话线路的哨所（两边都有卫星电话）均可以通话，无论他们相距多远。而只通过无线电收发器通话的哨所之间的距离不能超过 $D$，这是受收发器的功率限制。收发器的功率越高，通话距离 $D$ 会更远，但同时价格也会更贵。\n\n收发器需要统一购买和安装，所以全部哨所只能选择安装一种型号的收发器。换句话说，每一对哨所之间的通话距离都是同一个 $D$。你的任务是确定收发器必须的最小通话距离 $D$，使得每一对哨所之间至少有一条通话路径（直接的或者间接的）。\n", "inputFormat": "第一行，$2$ 个整数 $S$ 和 $P$，$S$ 表示可安装的卫星电话的哨所数，$P$ 表示边防哨所的数量。\n\n接下里 $P$ 行，每行两个整数 $x，y$ 描述一个哨所的平面坐标 $(x, y)$，以 km 为单位。\n", "outputFormat": "第一行，$1$ 个实数 $D$，表示无线电收发器的最小传输距离，精确到小数点后两位。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据：$P = 2，S = 1$；\n- 对于另外 $20\\%$ 的数据：$P = 4，S = 2$；\n- 对于 $100\\%$ 的数据保证：$1 ≤ S ≤ 100$，$S < P ≤ 500$，$0 ≤ x,y ≤ 10000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Wireless Communication Network", "background": "", "description": "The Ministry of National Defense plans to connect several border outposts with a wireless network using two different communication technologies.\n\nEvery outpost must be equipped with a radio transceiver; some outposts can additionally be equipped with satellite phones.\n\nAny two outposts that both have satellite phones can talk to each other, no matter how far apart they are. Outposts that communicate only through radio transceivers must be within a distance of $D$, due to the power limit of the transceivers. The higher the power, the larger $D$ becomes, but the cost also increases.\n\nThe transceivers must be purchased and installed uniformly, so all outposts can only install one model of transceiver. In other words, the radio communication distance between any pair of outposts is the same $D$. Your task is to determine the minimum radio range $D$ such that between every pair of outposts there is at least one communication path (direct or indirect).", "inputFormat": "The first line contains $2$ integers $S$ and $P$. $S$ is the number of outposts that can be equipped with satellite phones, and $P$ is the total number of outposts.\n\nThen there are $P$ lines. Each line contains two integers $x, y$ that give the planar coordinates $(x, y)$ of an outpost, in km.", "outputFormat": "Output one real number $D$ on the first line, the minimum transmission distance required for the radio transceivers, accurate to two decimal places.", "hint": "### Constraints\n\n- For $20\\%$ of the testdata: $P = 2$, $S = 1$.\n- For another $20\\%$ of the testdata: $P = 4$, $S = 2$.\n- For $100\\%$ of the testdata it is guaranteed that $1 \\le S \\le 100$, $S < P \\le 500$, $0 \\le x, y \\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "无线通讯网", "background": "", "description": "国防部计划用无线网络连接若干个边防哨所。2 种不同的通讯技术用来搭建无线网络；\n\n每个边防哨所都要配备无线电收发器；有一些哨所还可以增配卫星电话。\n\n任意两个配备了一条卫星电话线路的哨所（两边都有卫星电话）均可以通话，无论他们相距多远。而只通过无线电收发器通话的哨所之间的距离不能超过 $D$，这是受收发器的功率限制。收发器的功率越高，通话距离 $D$ 会更远，但同时价格也会更贵。\n\n收发器需要统一购买和安装，所以全部哨所只能选择安装一种型号的收发器。换句话说，每一对哨所之间的通话距离都是同一个 $D$。你的任务是确定收发器必须的最小通话距离 $D$，使得每一对哨所之间至少有一条通话路径（直接的或者间接的）。\n", "inputFormat": "第一行，$2$ 个整数 $S$ 和 $P$，$S$ 表示可安装的卫星电话的哨所数，$P$ 表示边防哨所的数量。\n\n接下里 $P$ 行，每行两个整数 $x，y$ 描述一个哨所的平面坐标 $(x, y)$，以 km 为单位。\n", "outputFormat": "第一行，$1$ 个实数 $D$，表示无线电收发器的最小传输距离，精确到小数点后两位。\n", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据：$P = 2，S = 1$；\n- 对于另外 $20\\%$ 的数据：$P = 4，S = 2$；\n- 对于 $100\\%$ 的数据保证：$1 ≤ S ≤ 100$，$S < P ≤ 500$，$0 ≤ x,y ≤ 10000$。\n", "locale": "zh-CN"}}}
{"pid": "P1992", "type": "P", "difficulty": 3, "samples": [["3 3 3\r\n1 2\r\n2 3\r\n3 1", "No\r\n9\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "洛谷原创", "拓扑排序"], "title": "不想兜圈的老爷爷", "background": "一位年过古稀的老爷爷在乡间行走。\n\n而他不想兜圈子，因为那会使他昏沉。\n\n偶然路过小 A 发扬助人为乐优良传统，带上地图，想知道路况是否一定使他清醒。\n\nusqwedf 补充：为了让欢乐赛充满欢乐，小 A 还想问你一些数学作业……", "description": "#### 任务 1\n\n给定一张 $n$ 个点 $m$ 条边的有向图，判断图中是否**没有**环。\n\n#### 任务 2.1\n\n给定一个整数 $k$，求 $2^k \\bmod 9997$ 的值。\n\n#### 任务 2.2\n\n给定一个整数 $k$，求 $k^2$ 的值，**答案不需要取模**。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n下面 $m$ 行，每行两个正整数 $u,v$，表示一条有向边 $u \\to v$。", "outputFormat": "#### 任务 1\n\n如果确实没有环（**没有环**），输出一行一个字符串 **`Yes`**。\n\n如果并非没有环（**有环**），输出一行一个字符串 **`No`**。\n\n#### 任务 2.1\n\n如果任务 1 的答案为 **`No`**，则**忽略这个任务**，什么也不输出。\n\n如果任务 1 的答案为 **`Yes`**，则（在输出任务 1 的答案后）**输出一行一个整数表示答案**。\n\n#### 任务 2.2\n\n如果任务 1 的答案为 **`Yes`**，则**忽略这个任务**，什么也不输出。\n\n如果任务 1 的答案为 **`No`**，则（在输出任务 1 的答案后）**输出一行一个整数表示答案**。", "hint": "对于 $70\\%$ 的数据，$1 \\le n \\le 100$，$1 \\le m \\le 1000$，$1 \\le k \\le 30$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le m \\le 10000$，$1 \\le k \\le 10^9$。\n\n特别地，对于其中至少 $20\\%$ 的数据，任务 1 的答案为 `No`。", "locale": "zh-CN", "translations": {"en": {"title": "An Old Man Who Doesn't Want to Walk in Circles", "background": "An elderly man in his seventies is walking through the countryside.\n\nHe does not want to walk in circles, because that would make him dizzy.\n\nHappening to pass by, Xiao A, upholding the fine tradition of helping others, brings a map and wants to know whether the road conditions will certainly keep the old man clear‑headed.\n\nusqwedf added: To make the fun contest truly fun, Xiao A would also like to ask you some math homework...", "description": "#### Task 1\n\nGiven a directed graph with $n$ vertices and $m$ edges, determine whether the graph has no cycles.\n\n#### Task 2.1\n\nGiven an integer $k$, compute $2^k \\bmod 9997$.\n\n#### Task 2.2\n\nGiven an integer $k$, compute $k^2$, and the answer does not need to be taken modulo anything.", "inputFormat": "The first line contains three integers $n, m, k$.\n\nThe next $m$ lines each contain two positive integers $u, v$, indicating a directed edge $u \\to v$.", "outputFormat": "#### Task 1\n\nIf there are indeed no cycles (no cycles), output one line containing the string **`Yes`**.\n\nIf it is not the case that there are no cycles (there is a cycle), output one line containing the string **`No`**.\n\n#### Task 2.1\n\nIf the answer to Task 1 is **`No`**, then ignore this task and output nothing.\n\nIf the answer to Task 1 is **`Yes`**, then (after outputting the answer to Task 1) output one line containing an integer for the answer.\n\n#### Task 2.2\n\nIf the answer to Task 1 is **`Yes`**, then ignore this task and output nothing.\n\nIf the answer to Task 1 is **`No`**, then (after outputting the answer to Task 1) output one line containing an integer for the answer.", "hint": "For 70% of the testdata, $1 \\le n \\le 100$, $1 \\le m \\le 1000$, $1 \\le k \\le 30$.\n\nFor 100% of the testdata, $1 \\le n \\le 1000$, $1 \\le m \\le 10000$, $1 \\le k \\le 10^9$.\n\nIn particular, for at least 20% of the testdata, the answer to Task 1 is `No`.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "不想兜圈的老爷爷", "background": "一位年过古稀的老爷爷在乡间行走。\n\n而他不想兜圈子，因为那会使他昏沉。\n\n偶然路过小 A 发扬助人为乐优良传统，带上地图，想知道路况是否一定使他清醒。\n\nusqwedf 补充：为了让欢乐赛充满欢乐，小 A 还想问你一些数学作业……", "description": "#### 任务 1\n\n给定一张 $n$ 个点 $m$ 条边的有向图，判断图中是否**没有**环。\n\n#### 任务 2.1\n\n给定一个整数 $k$，求 $2^k \\bmod 9997$ 的值。\n\n#### 任务 2.2\n\n给定一个整数 $k$，求 $k^2$ 的值，**答案不需要取模**。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n下面 $m$ 行，每行两个正整数 $u,v$，表示一条有向边 $u \\to v$。", "outputFormat": "#### 任务 1\n\n如果确实没有环（**没有环**），输出一行一个字符串 **`Yes`**。\n\n如果并非没有环（**有环**），输出一行一个字符串 **`No`**。\n\n#### 任务 2.1\n\n如果任务 1 的答案为 **`No`**，则**忽略这个任务**，什么也不输出。\n\n如果任务 1 的答案为 **`Yes`**，则（在输出任务 1 的答案后）**输出一行一个整数表示答案**。\n\n#### 任务 2.2\n\n如果任务 1 的答案为 **`Yes`**，则**忽略这个任务**，什么也不输出。\n\n如果任务 1 的答案为 **`No`**，则（在输出任务 1 的答案后）**输出一行一个整数表示答案**。", "hint": "对于 $70\\%$ 的数据，$1 \\le n \\le 100$，$1 \\le m \\le 1000$，$1 \\le k \\le 30$。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le m \\le 10000$，$1 \\le k \\le 10^9$。\n\n特别地，对于其中至少 $20\\%$ 的数据，任务 1 的答案为 `No`。", "locale": "zh-CN"}}}
{"pid": "P1993", "type": "P", "difficulty": 4, "samples": [["3 3\n3 1 2\n1 1 3 1\n2 2 3 2\n", "Yes\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "广度优先搜索 BFS", "差分约束"], "title": "小 K 的农场", "background": "", "description": "小 K 在 MC 里面建立很多很多的农场，总共 $n$ 个，以至于他自己都忘记了每个农场中种植作物的具体数量了，他只记得一些含糊的信息（共 $m$ 个），以下列三种形式描述：  \n- 农场 $a$ 比农场 $b$ 至少多种植了 $c$ 个单位的作物；\n- 农场 $a$ 比农场 $b$ 至多多种植了 $c$ 个单位的作物；\n- 农场 $a$ 与农场 $b$ 种植的作物数一样多。  \n\n但是，由于小 K 的记忆有些偏差，所以他想要知道存不存在一种情况，使得农场的种植作物数量与他记忆中的所有信息吻合。  \n", "inputFormat": "第一行包括两个整数 $n$ 和 $m$，分别表示农场数目和小 K 记忆中的信息数目。  \n\n接下来 $m$ 行：  \n- 如果每行的第一个数是 $1$，接下来有三个整数 $a,b,c$，表示农场 $a$ 比农场 $b$ 至少多种植了 $c$ 个单位的作物；  \n- 如果每行的第一个数是 $2$，接下来有三个整数 $a,b,c$，表示农场 $a$ 比农场 $b$ 至多多种植了 $c$ 个单位的作物;  \n- 如果每行的第一个数是 $3$，接下来有两个整数 $a,b$，表示农场 $a$ 种植的的数量和 $b$ 一样多。  ", "outputFormat": "如果存在某种情况与小 K 的记忆吻合，输出 `Yes`，否则输出 `No`。  ", "hint": "对于 $100\\%$ 的数据，保证 $1 \\le n,m,a,b,c \\le 5 \\times 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "Xiao K's Farms", "background": "", "description": "Xiao K has built many farms in MC (Minecraft), a total of $n$, to the point that he has forgotten the exact amount of crops planted in each farm. He only remembers some vague information (a total of $m$ pieces), described in the following three forms:\n- Farm $a$ has planted at least $c$ more units of crops than farm $b$.\n- Farm $a$ has planted at most $c$ more units of crops than farm $b$.\n- Farm $a$ and farm $b$ have planted the same number of crops.\n\nHowever, because Xiao K’s memory may be inaccurate, he wants to know whether there exists a configuration such that the number of crops in the farms is consistent with all the pieces of information he remembers.", "inputFormat": "The first line contains two integers $n$ and $m$, representing the number of farms and the number of pieces of information remembered by Xiao K.\n\nThe next $m$ lines:\n- If the first number of a line is $1$, then three integers $a, b, c$ follow, meaning farm $a$ has planted at least $c$ more units of crops than farm $b$.\n- If the first number of a line is $2$, then three integers $a, b, c$ follow, meaning farm $a$ has planted at most $c$ more units of crops than farm $b$.\n- If the first number of a line is $3$, then two integers $a, b$ follow, meaning farm $a$ has planted the same number of crops as farm $b$.", "outputFormat": "If there exists a configuration consistent with Xiao K’s memory, output `Yes`, otherwise output `No`.", "hint": "For $100\\%$ of the testdata, it is guaranteed that $1 \\le n, m, a, b, c \\le 5 \\times 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "小 K 的农场", "background": "", "description": "小 K 在 MC 里面建立很多很多的农场，总共 $n$ 个，以至于他自己都忘记了每个农场中种植作物的具体数量了，他只记得一些含糊的信息（共 $m$ 个），以下列三种形式描述：  \n- 农场 $a$ 比农场 $b$ 至少多种植了 $c$ 个单位的作物；\n- 农场 $a$ 比农场 $b$ 至多多种植了 $c$ 个单位的作物；\n- 农场 $a$ 与农场 $b$ 种植的作物数一样多。  \n\n但是，由于小 K 的记忆有些偏差，所以他想要知道存不存在一种情况，使得农场的种植作物数量与他记忆中的所有信息吻合。  \n", "inputFormat": "第一行包括两个整数 $n$ 和 $m$，分别表示农场数目和小 K 记忆中的信息数目。  \n\n接下来 $m$ 行：  \n- 如果每行的第一个数是 $1$，接下来有三个整数 $a,b,c$，表示农场 $a$ 比农场 $b$ 至少多种植了 $c$ 个单位的作物；  \n- 如果每行的第一个数是 $2$，接下来有三个整数 $a,b,c$，表示农场 $a$ 比农场 $b$ 至多多种植了 $c$ 个单位的作物;  \n- 如果每行的第一个数是 $3$，接下来有两个整数 $a,b$，表示农场 $a$ 种植的的数量和 $b$ 一样多。  ", "outputFormat": "如果存在某种情况与小 K 的记忆吻合，输出 `Yes`，否则输出 `No`。  ", "hint": "对于 $100\\%$ 的数据，保证 $1 \\le n,m,a,b,c \\le 5 \\times 10^3$。", "locale": "zh-CN"}}}
{"pid": "P1994", "type": "P", "difficulty": 2, "samples": [["C2H5OH", "2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "有机物燃烧", "background": "本来准备弄难点的，还是算了吧。", "description": "输入一种只含 $\\text{C, H, O}$ 元素的有机物，输出与氧气反应化学方程式中 $\\text C\\text O_2$ 和 $\\text H_2\\text O$ 的系数。", "inputFormat": "一行，一个字符串，表示有机物。", "outputFormat": "两个数，分别为 $\\text C\\text O_2$ 和 $\\text H_2\\text O$ 的系数。", "hint": "样例解释：\n\n$$\\mathrm{C_2H_5OH + 3 O_2 \\xlongequal{\\text{点燃}} 2 CO_2 + 3 H_2O} $$\n\n\n---\n\n\n对于 $100\\%$ 的数据：\n\n- 字符串长度不大于 $10$\n- 所求的 $\\text C\\text O_2$ 和 $\\text H_2\\text O$ 的系数不大于 $400$\n- 所给的有机物合法且只含 $\\text{C, H, O}$ 元素", "locale": "zh-CN", "translations": {"en": {"title": "Combustion of Organic Compounds", "background": "I originally planned to make it harder, but never mind.", "description": "Given an organic compound containing only $ \\text{C, H, O} $ elements, output the coefficients of $ \\mathrm{CO_2} $ and $ \\mathrm{H_2O} $ in the balanced chemical equation for its reaction with oxygen.", "inputFormat": "One line, a string representing the organic compound.", "outputFormat": "Two numbers, which are the coefficients of $ \\mathrm{CO_2} $ and $ \\mathrm{H_2O} $, respectively.", "hint": "Sample explanation:\n\n$$\\mathrm{C_2H_5OH + 3 O_2 \\xlongequal{\\text{点燃}} 2 CO_2 + 3 H_2O} $$\n\n---\n\nFor $100\\%$ of the testdata:\n- The string length does not exceed $10$.\n- The coefficients of $ \\mathrm{CO_2} $ and $ \\mathrm{H_2O} $ to be found do not exceed $400$.\n- The given organic compound is valid and contains only $ \\text{C, H, O} $ elements.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "有机物燃烧", "background": "本来准备弄难点的，还是算了吧。", "description": "输入一种只含 $\\text{C, H, O}$ 元素的有机物，输出与氧气反应化学方程式中 $\\text C\\text O_2$ 和 $\\text H_2\\text O$ 的系数。", "inputFormat": "一行，一个字符串，表示有机物。", "outputFormat": "两个数，分别为 $\\text C\\text O_2$ 和 $\\text H_2\\text O$ 的系数。", "hint": "样例解释：\n\n$$\\mathrm{C_2H_5OH + 3 O_2 \\xlongequal{\\text{点燃}} 2 CO_2 + 3 H_2O} $$\n\n\n---\n\n\n对于 $100\\%$ 的数据：\n\n- 字符串长度不大于 $10$\n- 所求的 $\\text C\\text O_2$ 和 $\\text H_2\\text O$ 的系数不大于 $400$\n- 所给的有机物合法且只含 $\\text{C, H, O}$ 元素", "locale": "zh-CN"}}}
{"pid": "P1995", "type": "P", "difficulty": 6, "samples": [["2  \n1 1 2 2  \n2 0 3 4  \n1 1  \n3 0  \n1.0 ", "2.41421356"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "计算几何", "2011", "NOI", "Special Judge", "最短路"], "title": "[NOI2011] 智能车比赛", "background": "", "description": "新一届智能车大赛在 JL 大学开始啦！比赛赛道可以看作是由 $n$ 个矩形区域拼接而成（如下图所示），每个矩形的边都平行于坐标轴，第 $i$ 个矩形区域的左下角和右上角坐标分别为 $(x_{i,1},y_{i,1})$ 和 $(x_{i,2},y_{i,2})$。\n\n题目保证：$x_{i,1}<x_{i,2}=x_{i+1,1}$，且 $y_{i,1}< y_{i,2}$，相邻两个矩形一定有重叠在一起的边（如图中虚线所示），智能车可以通过这部分穿梭于矩形区域之间。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hu6cu53o.png)\n\n选手们需要在最快的时间内让自己设计的智能车从一个给定的起点 $S$ 点到达一个给定的终点 $T$ 点，且智能车不能跑出赛道。假定智能车的速度恒为 $v$ 且转向不消耗任何时间，你能算出最快需要多少时间完成比赛么？\n", "inputFormat": "输入的第一行包含一个正整数 $n$，表示组成赛道的矩形个数。\n\n接下来 $n$ 行描述这些矩形，其中第 $i$ 行包含 $4$ 个整数 $x_{i,1}, y_{i,1}, x_{i,2}, y_{i,2}$，表示第 $i$ 个矩形左下角和右上角坐标分别为 $(x_{i,1}, y_{i,1})$ 和 $(x_{i,2}, y_{i,2})$。\n\n接下来一行包含两个整数 $x_S, y_S$，表示起点坐标。\n\n接下来一行包含两个整数 $x_T, y_T$，表示终点坐标。\n\n接下来一行包含一个实数 $v$，表示智能车的速度。\n", "outputFormat": "仅输出一个实数，至少精确到小数点后第六位，为智能车完成比赛的最快时间。\n\n对于每个测试点，如果你的输出结果和参考结果相差不超过 $10^{-6}$，该测试点得满分，否则不得分。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/m6t1j6pf.png)", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2011] Smart Car Competition", "background": "", "description": "A new Intelligent Vehicle contest has begun at JL University! The race track can be regarded as being formed by $n$ rectangular regions stitched together (as shown in the figure below). Each rectangle has sides parallel to the coordinate axes. For the $i$-th rectangle, the lower-left and upper-right corners are $(x_{i,1}, y_{i,1})$ and $(x_{i,2}, y_{i,2})$, respectively.\n\nIt is guaranteed that $x_{i,1} < x_{i,2} = x_{i+1,1}$ and $y_{i,1} < y_{i,2}$. Any two adjacent rectangles share an overlapping edge segment (as indicated by the dashed line in the figure), and the smart car can move between rectangles through this overlap.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hu6cu53o.png)\n\nParticipants must drive their designed smart car from a given start point $S$ to a given end point $T$ in the shortest possible time, without leaving the track. Assume the car’s speed is a constant $v$, and turning takes no time. Can you compute the minimum time needed to finish the race?", "inputFormat": "The first line contains a positive integer $n$, the number of rectangles that make up the track.\n\nThe next $n$ lines describe the rectangles. The $i$-th of these lines contains $4$ integers $x_{i,1}, y_{i,1}, x_{i,2}, y_{i,2}$, denoting that the lower-left and upper-right corners of the $i$-th rectangle are $(x_{i,1}, y_{i,1})$ and $(x_{i,2}, y_{i,2})$, respectively.\n\nThe next line contains two integers $x_S, y_S$, the coordinates of the start point.\n\nThe next line contains two integers $x_T, y_T$, the coordinates of the end point.\n\nThe next line contains a real number $v$, the speed of the smart car.", "outputFormat": "Output a single real number, the minimum time for the smart car to finish the race, accurate to at least six digits after the decimal point.\n\nFor each test point, if your output differs from the reference answer by no more than $10^{-6}$, you will receive full credit for that test point; otherwise, you will receive no credit.", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/m6t1j6pf.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2011] 智能车比赛", "background": "", "description": "新一届智能车大赛在 JL 大学开始啦！比赛赛道可以看作是由 $n$ 个矩形区域拼接而成（如下图所示），每个矩形的边都平行于坐标轴，第 $i$ 个矩形区域的左下角和右上角坐标分别为 $(x_{i,1},y_{i,1})$ 和 $(x_{i,2},y_{i,2})$。\n\n题目保证：$x_{i,1}<x_{i,2}=x_{i+1,1}$，且 $y_{i,1}< y_{i,2}$，相邻两个矩形一定有重叠在一起的边（如图中虚线所示），智能车可以通过这部分穿梭于矩形区域之间。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hu6cu53o.png)\n\n选手们需要在最快的时间内让自己设计的智能车从一个给定的起点 $S$ 点到达一个给定的终点 $T$ 点，且智能车不能跑出赛道。假定智能车的速度恒为 $v$ 且转向不消耗任何时间，你能算出最快需要多少时间完成比赛么？\n", "inputFormat": "输入的第一行包含一个正整数 $n$，表示组成赛道的矩形个数。\n\n接下来 $n$ 行描述这些矩形，其中第 $i$ 行包含 $4$ 个整数 $x_{i,1}, y_{i,1}, x_{i,2}, y_{i,2}$，表示第 $i$ 个矩形左下角和右上角坐标分别为 $(x_{i,1}, y_{i,1})$ 和 $(x_{i,2}, y_{i,2})$。\n\n接下来一行包含两个整数 $x_S, y_S$，表示起点坐标。\n\n接下来一行包含两个整数 $x_T, y_T$，表示终点坐标。\n\n接下来一行包含一个实数 $v$，表示智能车的速度。\n", "outputFormat": "仅输出一个实数，至少精确到小数点后第六位，为智能车完成比赛的最快时间。\n\n对于每个测试点，如果你的输出结果和参考结果相差不超过 $10^{-6}$，该测试点得满分，否则不得分。\n", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/m6t1j6pf.png)", "locale": "zh-CN"}}}
{"pid": "P1996", "type": "P", "difficulty": 2, "samples": [["10 3", "3 6 9 2 7 1 8 5 10 4"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["模拟", "树状数组", "队列", "链表"], "title": "约瑟夫问题", "background": "", "description": "$n$ 个人围成一圈，从第一个人开始报数,数到 $m$ 的人出列，再由下一个人重新从 $1$ 开始报数，数到 $m$ 的人再出圈，依次类推，直到所有的人都出圈，请输出依次出圈人的编号。\n\n**注意：本题和《深入浅出-基础篇》上例题的表述稍有不同。书上表述是给出淘汰 $n-1$ 名小朋友，而该题是全部出圈。**\n", "inputFormat": "输入两个整数 $n,m$。", "outputFormat": "输出一行 $n$ 个整数，按顺序输出每个出圈人的编号。", "hint": "$1 \\le m, n \\le 100$\n", "locale": "zh-CN", "translations": {"en": {"title": "Josephus Problem", "background": "", "description": "$n$ people stand in a circle. Starting from the first person, they count off; the person who counts to $m$ leaves the circle. Then the next person resumes counting from $1$. The person who counts to $m$ leaves the circle again. Repeat this process until everyone has left the circle. Output the labels of the people who leave, in order.\n\nNote: This problem differs slightly from the example in the book \"深入浅出-基础篇\". In the book, the description is to eliminate $n-1$ children, whereas this problem continues until everyone leaves the circle.", "inputFormat": "Input two integers $n, m$.", "outputFormat": "Output one line with $n$ integers: the labels of the people leaving the circle in order.", "hint": "$1 \\le m, n \\le 100$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "约瑟夫问题", "background": "", "description": "$n$ 个人围成一圈，从第一个人开始报数,数到 $m$ 的人出列，再由下一个人重新从 $1$ 开始报数，数到 $m$ 的人再出圈，依次类推，直到所有的人都出圈，请输出依次出圈人的编号。\n\n**注意：本题和《深入浅出-基础篇》上例题的表述稍有不同。书上表述是给出淘汰 $n-1$ 名小朋友，而该题是全部出圈。**\n", "inputFormat": "输入两个整数 $n,m$。", "outputFormat": "输出一行 $n$ 个整数，按顺序输出每个出圈人的编号。", "hint": "$1 \\le m, n \\le 100$\n", "locale": "zh-CN"}}}
{"pid": "P1997", "type": "P", "difficulty": 5, "samples": [["9 1\n1 1 1 2 2 3 3 4 4\n3 8", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["莫队", "线段树", "O2优化", "分块", "ST 表"], "title": "faebdc 的烦恼", "background": "upd on On July 29, 2024：加入一组 hack 数据，之前的数据均满足 $q\\le 10^5$。\n\n鸟哥（faebdc）自从虐暴 NOIP2013 以来依然勤奋学习，每天上各种 OJ 刷题，各种比赛更是不在话下。但这天他遇到了一点小小的麻烦：在一届“Orz 鸟哥杯”上，题目是在是太多了！鸟哥看得头晕眼花，他需要你的帮助。", "description": "这场比赛共有 $n$ 道题，每道题都有一个难度值 $a_i$，由于 wangxz 神犇已经提前帮助鸟哥将这些难度值升序排列，所以鸟哥并不想知道哪些题难度低或者高，他只想知道在某些题目 $a_l,a_{l+1},\\ldots,a_r$中，出现最多的难度值出现的次数。\n\n\n你的任务就是对于鸟哥的每一次询问 $(l, r)$，告诉他在从 $a_l$ 到 $a_r$ 这 $(r-l+1)$ 道题之中，出现最多的难度值出现的次数（询问共有 $q$ 次）。\n\n\n如果你成功地帮助了鸟哥，鸟哥将会带你通过省选。\n", "inputFormat": "每个测试点有且仅有一组测试数据。\n\n第一行有两个整数，分别表示题目的数量 $n$ 和询问的次数 $q$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 道题的难度。\n\n接下来 $q$ 行，每行两个整数 $l, r$，表示一次询问。", "outputFormat": "对于每组询问，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq q \\leq 2\\times 10^5$，$-10^5 \\leq a_i \\leq 10^5$，$1 \\leq l \\leq r \\leq n$。", "locale": "zh-CN", "translations": {"en": {"title": "faebdc's Trouble", "background": "Update on July 29, 2024: Added a set of hack testdata; previously, all testdata satisfied $q\\le 10^5$.\n\nSince crushing NOIP2013, Niaoge (faebdc) has kept studying hard, solving problems on various OJs every day, and contests are usually a breeze for him. But today he ran into a small problem: at an \"Orz Niaoge Cup\", there were just too many problems! Niaoge felt dizzy and needs your help.", "description": "There are $n$ problems in this contest, each with a difficulty value $a_i$. Since the ace coder wangxz has already sorted these difficulty values in ascending order for Niaoge, he does not want to know which problems are easy or hard; he only wants to know, among some problems $a_l,a_{l+1},\\ldots,a_r$, how many times the most frequent difficulty value appears.\n\nYour task is: for each query $(l, r)$, tell him, among the $(r-l+1)$ problems from $a_l$ to $a_r$, the number of occurrences of the most frequent difficulty value (there are $q$ queries in total).\n\nIf you succeed in helping Niaoge, he will take you through the NOI Qualifier.", "inputFormat": "Each test point contains exactly one set of testdata.\n\nThe first line contains two integers, the number of problems $n$ and the number of queries $q$.\n\nThe second line has $n$ integers; the $i$-th integer $a_i$ is the difficulty of the $i$-th problem.\n\nThen follow $q$ lines, each with two integers $l, r$, representing one query.", "outputFormat": "For each query, output a single integer on its own line as the answer.", "hint": "#### Constraints\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq q \\leq 2\\times 10^5$，$-10^5 \\leq a_i \\leq 10^5$，$1 \\leq l \\leq r \\leq n$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "faebdc 的烦恼", "background": "upd on On July 29, 2024：加入一组 hack 数据，之前的数据均满足 $q\\le 10^5$。\n\n鸟哥（faebdc）自从虐暴 NOIP2013 以来依然勤奋学习，每天上各种 OJ 刷题，各种比赛更是不在话下。但这天他遇到了一点小小的麻烦：在一届“Orz 鸟哥杯”上，题目是在是太多了！鸟哥看得头晕眼花，他需要你的帮助。", "description": "这场比赛共有 $n$ 道题，每道题都有一个难度值 $a_i$，由于 wangxz 神犇已经提前帮助鸟哥将这些难度值升序排列，所以鸟哥并不想知道哪些题难度低或者高，他只想知道在某些题目 $a_l,a_{l+1},\\ldots,a_r$中，出现最多的难度值出现的次数。\n\n\n你的任务就是对于鸟哥的每一次询问 $(l, r)$，告诉他在从 $a_l$ 到 $a_r$ 这 $(r-l+1)$ 道题之中，出现最多的难度值出现的次数（询问共有 $q$ 次）。\n\n\n如果你成功地帮助了鸟哥，鸟哥将会带你通过省选。\n", "inputFormat": "每个测试点有且仅有一组测试数据。\n\n第一行有两个整数，分别表示题目的数量 $n$ 和询问的次数 $q$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 道题的难度。\n\n接下来 $q$ 行，每行两个整数 $l, r$，表示一次询问。", "outputFormat": "对于每组询问，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 10^5$，$1 \\leq q \\leq 2\\times 10^5$，$-10^5 \\leq a_i \\leq 10^5$，$1 \\leq l \\leq r \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P1998", "type": "P", "difficulty": 6, "samples": [["10 10\n1 1 4 5 1 4 1 9 1 9", "1864"]], "limits": {"time": [1600, 1600, 1600, 1600, 1600], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数论", "Dirichlet 卷积"], "title": "DGF 等比求和", "background": "", "description": "给定数论函数 $f$，定义 $f^n$ 为：\n\n$$f^n=\\begin{cases}f&n=1\\\\f^{n-1}* f &n\\ge 2\\end{cases}.$$\n\n其中 $* $ 是 Dirichlet 卷积。\n\n对于正整数 $n,m$，记数论函数 $g=f+f^2+\\cdots+f^m$，请求出 $g(1),g(2),\\cdots,g(n)$，答案对 $10^9+7$ 取模。\n\n为控制输出量，只需输出 $\\bigoplus_{k=1}^n(g(k)\\bmod (10^9+7))$ 的值即可。", "inputFormat": "第一行两个正整数 $n,m$。\n\n第二行共 $n$ 个自然数，顺次代表 $f(1),f(2),\\cdots,f(n)$。", "outputFormat": "一行一个自然数，代表 $\\bigoplus_{k=1}^n(g(k)\\bmod (10^9+7))$。", "hint": "对于所有数据，保证 $1\\le n\\le 10^6,1\\le m\\le 10^9$，且对于 $1\\le i\\le n$，恒有 $0\\le f(i)\\le 10^9$。\n\n特别地，$f(1)=1,f(2)\\neq 0$。\n\n对于样例一，$g$ 的前 $10$ 项依次为 $10, 55, 220, 440, 55, 1540, 55, 2475,2695,825$。\n\n时限为 std 的 4 倍，请使用较快的读入方式。", "locale": "zh-CN", "translations": {"en": {"title": "DGF Geometric Sum", "background": "", "description": "Given a number-theoretic function $f$, define $f^n$ as:\n$$f^n=\\begin{cases}f&n=1\\\\f^{n-1}* f &n\\ge 2\\end{cases}.$$\nHere $* $ denotes the Dirichlet convolution.\n\nFor positive integers $n, m$, let the number-theoretic function $g=f+f^2+\\cdots+f^m$. Compute $g(1), g(2), \\cdots, g(n)$, and take the answers modulo $10^9+7$.\n\nTo control the output size, it is sufficient to output the value of $\\bigoplus_{k=1}^n(g(k)\\bmod (10^9+7))$.", "inputFormat": "The first line contains two positive integers $n, m$.\n\nThe second line contains $n$ non-negative integers, representing $f(1), f(2), \\cdots, f(n)$ in order.", "outputFormat": "Output one non-negative integer on a single line, representing $\\bigoplus_{k=1}^n(g(k)\\bmod (10^9+7))$.", "hint": "Constraints: For all testdata, it is guaranteed that $1\\le n\\le 10^6$, $1\\le m\\le 10^9$, and for $1\\le i\\le n$, always $0\\le f(i)\\le 10^9$.\n\nIn particular, $f(1)=1$, $f(2)\\ne 0$.\n\nFor Sample 1, the first $10$ terms of $g$ are $10, 55, 220, 440, 55, 1540, 55, 2475, 2695, 825$.\n\nThe time limit is 4 times that of the \"std\". Please use fast I/O.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "DGF 等比求和", "background": "", "description": "给定数论函数 $f$，定义 $f^n$ 为：\n\n$$f^n=\\begin{cases}f&n=1\\\\f^{n-1}* f &n\\ge 2\\end{cases}.$$\n\n其中 $* $ 是 Dirichlet 卷积。\n\n对于正整数 $n,m$，记数论函数 $g=f+f^2+\\cdots+f^m$，请求出 $g(1),g(2),\\cdots,g(n)$，答案对 $10^9+7$ 取模。\n\n为控制输出量，只需输出 $\\bigoplus_{k=1}^n(g(k)\\bmod (10^9+7))$ 的值即可。", "inputFormat": "第一行两个正整数 $n,m$。\n\n第二行共 $n$ 个自然数，顺次代表 $f(1),f(2),\\cdots,f(n)$。", "outputFormat": "一行一个自然数，代表 $\\bigoplus_{k=1}^n(g(k)\\bmod (10^9+7))$。", "hint": "对于所有数据，保证 $1\\le n\\le 10^6,1\\le m\\le 10^9$，且对于 $1\\le i\\le n$，恒有 $0\\le f(i)\\le 10^9$。\n\n特别地，$f(1)=1,f(2)\\neq 0$。\n\n对于样例一，$g$ 的前 $10$ 项依次为 $10, 55, 220, 440, 55, 1540, 55, 2475,2695,825$。\n\n时限为 std 的 4 倍，请使用较快的读入方式。", "locale": "zh-CN"}}}
{"pid": "P1999", "type": "P", "difficulty": 4, "samples": [["3 1", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "排列组合", "二项式定理", "逆元"], "title": "高维正方体", "background": "", "description": "$0$ 维空间的元素是点，这个毋庸置疑。\n\n- $2$ 个 $0$ 维空间的元素可以围成一个 $1$ 维空间的元素，线段。\n- $4$ 个 $1$ 维空间的元素可以围成一个 $2$ 维空间的元素，正方形。\n- $6$ 个 $2$ 维空间的元素可以围成一个 $3$ 维空间的元素，正方体。\n- $8$ 个 $3$ 维空间的元素可以围成一个 $4$ 维空间的元素，超正方体。\n\n……\n\n- 一个正方形中，有 $4$ 个（顶）点，$4$ 条线段（边），$1$ 个正方形。\n- 一个正方体中，有 $8$ 个（顶）点，$12$ 条线段（棱），$6$ 个正方形（面），$1$ 个正方体。\n\n……\n\n我们的问题是：给出 $a$ 与 $b$，请求出：在 $a$ 维空间的元素中，包含着多少个 $b$ 维空间的元素。答案可能很大，只需要输出它除以 $10^9+7$ 的余数。", "inputFormat": "两个整数 $a,b$，以空格隔开。", "outputFormat": "一个整数，即答案。\n", "hint": "\n### 样例解释\n\n$3$ 维空间的元素是正方体，$1$ 维空间的元素是线段。所求即是一个正方体中棱的数量，为 $12$。\n\n### 数据范围及约定\n\n- 对于 $5\\%$ 的数据，$a,b \\le 1$；\n- 对于 $10\\%$ 的数据，$a,b \\le 2$；\n- 对于 $20\\%$ 的数据，$a,b \\le 3$；\n- 对于 $35\\%$ 的数据，$a,b \\le 4$；\n- 对于 $70\\%$ 的数据，$a,b \\le 1000$；\n- 对于 $100\\%$ 的数据，$0\\le a,b \\le 100000$。\n\n此外，对于 $15\\%$ 的数据，$b=0$，对于各 $10\\%$ 的数据，$b=1$ 或 $b=2$。\n\n### 提示\n\n不保证 $a \\ge b$。", "locale": "zh-CN", "translations": {"en": {"title": "High-Dimensional Cube", "background": "", "description": "Elements in $0$-dimensional space are points, which is beyond doubt.\n\n- $2$ elements of $0$-dimensional space can form a $1$-dimensional element, a line segment.\n- $4$ elements of $1$-dimensional space can form a $2$-dimensional element, a square.\n- $6$ elements of $2$-dimensional space can form a $3$-dimensional element, a cube.\n- $8$ elements of $3$-dimensional space can form a $4$-dimensional element, a hypercube.\n\n…\n\n- In a square, there are $4$ points (vertices), $4$ line segments (edges), and $1$ square.\n- In a cube, there are $8$ points (vertices), $12$ line segments (edges), $6$ squares (faces), and $1$ cube.\n\n…\n\nOur problem is: given $a$ and $b$, find how many $b$-dimensional elements are contained in an $a$-dimensional element. The answer may be large; output it modulo $10^9+7$.", "inputFormat": "Two integers $a,b$, separated by a space.", "outputFormat": "One integer, the answer.", "hint": "Sample Explanation\n\nThe $3$-dimensional element is a cube, and the $1$-dimensional element is a line segment. What is required is the number of edges in a cube, which is $12$.\n\nConstraints\n\n- For $5\\%$ of the data, $a,b \\le 1$.\n- For $10\\%$ of the data, $a,b \\le 2$.\n- For $20\\%$ of the data, $a,b \\le 3$.\n- For $35\\%$ of the data, $a,b \\le 4$.\n- For $70\\%$ of the data, $a,b \\le 1000$.\n- For $100\\%$ of the data, $0 \\le a,b \\le 100000$.\n\nIn addition, for $15\\%$ of the testdata, $b=0$; for $10\\%$ each, $b=1$ or $b=2$.\n\nTip\n\nIt is not guaranteed that $a \\ge b$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "高维正方体", "background": "", "description": "$0$ 维空间的元素是点，这个毋庸置疑。\n\n- $2$ 个 $0$ 维空间的元素可以围成一个 $1$ 维空间的元素，线段。\n- $4$ 个 $1$ 维空间的元素可以围成一个 $2$ 维空间的元素，正方形。\n- $6$ 个 $2$ 维空间的元素可以围成一个 $3$ 维空间的元素，正方体。\n- $8$ 个 $3$ 维空间的元素可以围成一个 $4$ 维空间的元素，超正方体。\n\n……\n\n- 一个正方形中，有 $4$ 个（顶）点，$4$ 条线段（边），$1$ 个正方形。\n- 一个正方体中，有 $8$ 个（顶）点，$12$ 条线段（棱），$6$ 个正方形（面），$1$ 个正方体。\n\n……\n\n我们的问题是：给出 $a$ 与 $b$，请求出：在 $a$ 维空间的元素中，包含着多少个 $b$ 维空间的元素。答案可能很大，只需要输出它除以 $10^9+7$ 的余数。", "inputFormat": "两个整数 $a,b$，以空格隔开。", "outputFormat": "一个整数，即答案。\n", "hint": "\n### 样例解释\n\n$3$ 维空间的元素是正方体，$1$ 维空间的元素是线段。所求即是一个正方体中棱的数量，为 $12$。\n\n### 数据范围及约定\n\n- 对于 $5\\%$ 的数据，$a,b \\le 1$；\n- 对于 $10\\%$ 的数据，$a,b \\le 2$；\n- 对于 $20\\%$ 的数据，$a,b \\le 3$；\n- 对于 $35\\%$ 的数据，$a,b \\le 4$；\n- 对于 $70\\%$ 的数据，$a,b \\le 1000$；\n- 对于 $100\\%$ 的数据，$0\\le a,b \\le 100000$。\n\n此外，对于 $15\\%$ 的数据，$b=0$，对于各 $10\\%$ 的数据，$b=1$ 或 $b=2$。\n\n### 提示\n\n不保证 $a \\ge b$。", "locale": "zh-CN"}}}
{"pid": "P2000", "type": "P", "difficulty": 6, "samples": [["2", "15"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "高精度", "O2优化", "快速傅里叶变换 FFT", "快速数论变换 NTT"], "title": "拯救世界", "background": "公元 2000 年，根据预言家诺查丹玛斯的预言，世界就要毁灭了！！！\n", "description": "为了拯救世界，小 a 和 uim 决定召唤出 kkksc03 大神和 lzn 大神。根据古籍记载，召唤出任何一位大神，都需要使用金木水火土五种五行神石来摆一个特定的大阵。而在古籍中，记载是这样的：\n\nkkksc03 大神召唤方法：\n\n- 金神石的块数必须是 $6$ 的倍数；\n- 木神石最多用 $9$ 块；\n- 水神石最多用 $5$ 块；\n- 火神石的块数必须是 $4$ 的倍数；\n- 土神石最多用 $7$ 块。\n\nlzn 大神召唤方法:\n\n- 金神石的块数必须是 $2$ 的倍数；\n- 木神石最多用 $1$ 块；\n- 水神石的块数必须是 $8$ 的倍数；\n- 火神石的块数必须是 $10$ 的倍数；\n- 土神石最多用 $3$ 块。\n\n现在是公元 $1999$ 年 $12$ 月 $31$ 日，小 a 和 uim 从 $00{:}00{:}00$ 开始找，一直找到 $23{:}00{:}00$，终于，还是没找到神石。\n\n不过，他们在回到家后在自家地窖里发现了一些奇怪的东西，一查古籍，哎呦妈呀，怎么不早点来呢？这里有一些混沌之石，可以通过敲击而衰变成五行神石。于是，他们拼命地敲，终于敲出了 $n$ 块神石，在 $23{:}59{:}59$ 完成了两座大阵。\n\n然而，kkksc03 大神和 lzn 大神确实出现了，但是由于能量不够，无法发挥神力。只有把所有用 $n$ 块神石可能摆出的大阵都摆出来，才能给他们充满能量。这下小 a 和 uim 傻了眼了，赶快联系上了你，让你帮忙算一下，一共有多少种大阵。\n", "inputFormat": "输入一个正整数 $n$。\n", "outputFormat": "输出用 $n$ 块混沌之石能摆出的大阵的种数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$10^{99999}\\leq n\\lt 10^{100000}$。\n\n### 提示\n\n由于现在已经是 $23{:}59{:}59$，所以你只有 $0.5$ 秒时间。（小 a 与 uim 需要 $0.5\\texttt s$ 排出所有阵法）。\n", "locale": "zh-CN", "translations": {"en": {"title": "Saving the World", "background": "In the year 2000, according to the prophecy of the seer Nostradamus, the world is about to be destroyed!!!", "description": "To save the world, Xiao A and uim decide to summon the deities kkksc03 and lzn. According to ancient records, summoning any one deity requires arranging a specific grand formation using the Five-Element divine stones: Metal, Wood, Water, Fire, and Earth. The records state the following:\n\nSummoning method for the deity kkksc03:\n\n- The number of Metal stones must be a multiple of $6$.\n- At most $9$ Wood stones can be used.\n- At most $5$ Water stones can be used.\n- The number of Fire stones must be a multiple of $4$.\n- At most $7$ Earth stones can be used.\n\nSummoning method for the deity lzn:\n\n- The number of Metal stones must be a multiple of $2$.\n- At most $1$ Wood stone can be used.\n- The number of Water stones must be a multiple of $8$.\n- The number of Fire stones must be a multiple of $10$.\n- At most $3$ Earth stones can be used.\n\nIt is December $31$, $1999$. Xiao A and uim started searching at $00{:}00{:}00$ and kept looking until $23{:}00{:}00$, but still could not find the divine stones.\n\nHowever, after returning home, they discovered some strange items in their cellar. Consulting the ancient records—oh my, if only they had come earlier!—they found some chaos stones that can decay into the Five-Element divine stones by hammering. So they hammered frantically and finally obtained $n$ divine stones, completing two formations at $23{:}59{:}59$.\n\nIndeed, the deities kkksc03 and lzn appeared, but due to insufficient energy, they could not exert their power. Only by setting up all formations that can be arranged using $n$ stones can they be fully charged. Xiao A and uim were dumbfounded and quickly contacted you to help calculate how many formations there are in total.", "inputFormat": "Input a positive integer $n$.", "outputFormat": "Output the number of formations that can be arranged using $n$ chaos stones.", "hint": "Constraints\n\nFor all testdata, $10^{99999}\\leq n\\lt 10^{100000}$.\n\nHint\n\nSince it is already $23{:}59{:}59$, you have only $0.5$ seconds. (Xiao A and uim need $0.5\\texttt s$ to lay out all formations.)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "拯救世界", "background": "公元 2000 年，根据预言家诺查丹玛斯的预言，世界就要毁灭了！！！\n", "description": "为了拯救世界，小 a 和 uim 决定召唤出 kkksc03 大神和 lzn 大神。根据古籍记载，召唤出任何一位大神，都需要使用金木水火土五种五行神石来摆一个特定的大阵。而在古籍中，记载是这样的：\n\nkkksc03 大神召唤方法：\n\n- 金神石的块数必须是 $6$ 的倍数；\n- 木神石最多用 $9$ 块；\n- 水神石最多用 $5$ 块；\n- 火神石的块数必须是 $4$ 的倍数；\n- 土神石最多用 $7$ 块。\n\nlzn 大神召唤方法:\n\n- 金神石的块数必须是 $2$ 的倍数；\n- 木神石最多用 $1$ 块；\n- 水神石的块数必须是 $8$ 的倍数；\n- 火神石的块数必须是 $10$ 的倍数；\n- 土神石最多用 $3$ 块。\n\n现在是公元 $1999$ 年 $12$ 月 $31$ 日，小 a 和 uim 从 $00{:}00{:}00$ 开始找，一直找到 $23{:}00{:}00$，终于，还是没找到神石。\n\n不过，他们在回到家后在自家地窖里发现了一些奇怪的东西，一查古籍，哎呦妈呀，怎么不早点来呢？这里有一些混沌之石，可以通过敲击而衰变成五行神石。于是，他们拼命地敲，终于敲出了 $n$ 块神石，在 $23{:}59{:}59$ 完成了两座大阵。\n\n然而，kkksc03 大神和 lzn 大神确实出现了，但是由于能量不够，无法发挥神力。只有把所有用 $n$ 块神石可能摆出的大阵都摆出来，才能给他们充满能量。这下小 a 和 uim 傻了眼了，赶快联系上了你，让你帮忙算一下，一共有多少种大阵。\n", "inputFormat": "输入一个正整数 $n$。\n", "outputFormat": "输出用 $n$ 块混沌之石能摆出的大阵的种数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$10^{99999}\\leq n\\lt 10^{100000}$。\n\n### 提示\n\n由于现在已经是 $23{:}59{:}59$，所以你只有 $0.5$ 秒时间。（小 a 与 uim 需要 $0.5\\texttt s$ 排出所有阵法）。\n", "locale": "zh-CN"}}}
{"pid": "P2001", "type": "P", "difficulty": 3, "samples": [["5 31\r\n1 2 8 4 16\r\n", "5\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "洛谷原创"], "title": "硬币的面值", "background": "", "description": "小 A 有 $n$ 种硬币，现在要买一样不超过 $m$ 元的商品，他不想得到找钱（多脏啊），同时又不想带太多的硬币，且硬币可以重复，现在已知这 $n$ 种硬币的价值，请问最少需要多少硬币就能组合成所有可能的价格？\n", "inputFormat": "第一行两个数：$n, m$。\n\n下一行，共 $n$ 个数字，表示硬币的面值。\n", "outputFormat": "一行一个数，表示最少需要多少硬币。如果无解请输出 `No answer!!!`。", "hint": "【数据范围】\n\n只有 9、10 会卡人，放心贪\n\n对于 $20\\%$ 的数据，$1 \\le n \\le 10$，$1 \\le m \\le 100$。  \n对于 $60\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le m \\le 10000$。  \n对于 $80\\%$ 的数据，$1 \\le n \\le 30000$，$1 \\le m \\le 2 \\times {10}^9$。  \n对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times {10}^5$，$1 \\le m \\le 2^{63}$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Coin Denominations", "background": "", "description": "Xiao A has $n$ types of coins and wants to buy an item priced at no more than $m$ yuan. He does not want to receive change (it’s dirty), and he also does not want to carry too many coins. Each denomination can be used repeatedly. Given the denominations of these $n$ types of coins, what is the minimum number of coins needed so that all prices from $1$ to $m$ can be formed exactly?", "inputFormat": "The first line contains two integers: $n, m$.\n\nThe next line contains $n$ integers, the coin denominations.", "outputFormat": "Output a single integer: the minimum number of coins. If there is no solution, output `No answer!!!`.", "hint": "Constraints\n\nOnly testcases 9 and 10 are designed to trip people; greedy is fine.\n\nFor $20\\%$ of the testdata, $1 \\le n \\le 10$, $1 \\le m \\le 100$.  \nFor $60\\%$ of the testdata, $1 \\le n \\le 1000$, $1 \\le m \\le 10000$.  \nFor $80\\%$ of the testdata, $1 \\le n \\le 30000$, $1 \\le m \\le 2 \\times 10^9$.  \nFor $100\\%$ of the testdata, $1 \\le n \\le 2 \\times 10^5$, $1 \\le m \\le 2^{63}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "硬币的面值", "background": "", "description": "小 A 有 $n$ 种硬币，现在要买一样不超过 $m$ 元的商品，他不想得到找钱（多脏啊），同时又不想带太多的硬币，且硬币可以重复，现在已知这 $n$ 种硬币的价值，请问最少需要多少硬币就能组合成所有可能的价格？\n", "inputFormat": "第一行两个数：$n, m$。\n\n下一行，共 $n$ 个数字，表示硬币的面值。\n", "outputFormat": "一行一个数，表示最少需要多少硬币。如果无解请输出 `No answer!!!`。", "hint": "【数据范围】\n\n只有 9、10 会卡人，放心贪\n\n对于 $20\\%$ 的数据，$1 \\le n \\le 10$，$1 \\le m \\le 100$。  \n对于 $60\\%$ 的数据，$1 \\le n \\le 1000$，$1 \\le m \\le 10000$。  \n对于 $80\\%$ 的数据，$1 \\le n \\le 30000$，$1 \\le m \\le 2 \\times {10}^9$。  \n对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times {10}^5$，$1 \\le m \\le 2^{63}$。\n", "locale": "zh-CN"}}}
{"pid": "P2002", "type": "P", "difficulty": 4, "samples": [["5 4\n1 2\n2 1\n2 3\n5 1\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "洛谷原创", "强连通分量"], "title": "消息扩散", "background": "本场比赛第一题，给个简单的吧，这 100 分先拿着。", "description": "有 $n$ 个城市，中间有单向道路连接，消息会沿着道路扩散，现在给出 $n$ 个城市及其之间的道路，问至少需要在几个城市发布消息才能让这所有 $n$ 个城市都得到消息。", "inputFormat": "第一行两个整数 $n, m$，表示 $n$ 个城市，$m$ 条单向道路。\n\n以下 $m$ 行，每行两个整数 $b, e$ 表示有一条从 $b$ 到 $e$ 的道路，道路可以重复或存在自环。", "outputFormat": "一行一个整数，表示至少要在几个城市中发布消息。", "hint": "**【样例解释 #1】**\n\n样例中在 $4, 5$ 号城市中发布消息。\n\n**【数据范围】**\n\n对于 $20 \\%$ 的数据，$n \\le 200$；  \n对于 $40 \\%$ 的数据，$n \\le 2000$；  \n对于 $100 \\%$ 的数据，$1 \\le n \\le {10}^5$，$1 \\le m \\le 5 \\times {10}^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Message Diffusion", "background": "This is the first problem of the contest. Here's an easy one—take these 100 points first.", "description": "There are $n$ cities connected by one-way roads. Messages spread along the roads. Given $n$ cities and the roads between them, ask for the minimum number of cities where you need to initially publish the message so that all $n$ cities receive it.", "inputFormat": "The first line contains two integers $n, m$, meaning $n$ cities and $m$ directed roads.\nIn the next $m$ lines, each line contains two integers $b, e$, indicating there is a road from $b$ to $e$. Multiple edges and self-loops are allowed.", "outputFormat": "Output a single integer, the minimum number of cities where the message must be published.", "hint": "- Sample Explanation #1  \nIn the sample, publish the message in cities $4$ and $5$.\n\n- Constraints  \nFor $20\\%$ of the testdata, $n \\le 200$.  \nFor $40\\%$ of the testdata, $n \\le 2000$.  \nFor $100\\%$ of the testdata, $1 \\le n \\le {10}^5$, $1 \\le m \\le 5 \\times {10}^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "消息扩散", "background": "本场比赛第一题，给个简单的吧，这 100 分先拿着。", "description": "有 $n$ 个城市，中间有单向道路连接，消息会沿着道路扩散，现在给出 $n$ 个城市及其之间的道路，问至少需要在几个城市发布消息才能让这所有 $n$ 个城市都得到消息。", "inputFormat": "第一行两个整数 $n, m$，表示 $n$ 个城市，$m$ 条单向道路。\n\n以下 $m$ 行，每行两个整数 $b, e$ 表示有一条从 $b$ 到 $e$ 的道路，道路可以重复或存在自环。", "outputFormat": "一行一个整数，表示至少要在几个城市中发布消息。", "hint": "**【样例解释 #1】**\n\n样例中在 $4, 5$ 号城市中发布消息。\n\n**【数据范围】**\n\n对于 $20 \\%$ 的数据，$n \\le 200$；  \n对于 $40 \\%$ 的数据，$n \\le 2000$；  \n对于 $100 \\%$ 的数据，$1 \\le n \\le {10}^5$，$1 \\le m \\le 5 \\times {10}^5$。", "locale": "zh-CN"}}}
{"pid": "P2003", "type": "P", "difficulty": 2, "samples": [["3\r\n1 5 10\r\n3 1 5\r\n5 3 7\r\n", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "2008", "线段树", "枚举", "剪枝", "COCI（克罗地亚）"], "title": "[COCI2007-2008] PLATFORME 平板", "background": null, "description": "为了进行一种游戏，现决定搭造一些平板，而各个平板的地址已经选定。基于最普遍的认识，没有任何支持物的平板不可能漂浮在空中。说的更精确些，任意一平板的两端必需有支柱或者它在另一块平板上。\n\n你会得到各个平板在坐标系中的坐标（如左下图）。每一块平板的坐标都是由它的高度（与地板间的垂直距离）和它的水平方位（开始和结束）决定的。每个支柱都距它支撑的平板的边缘半个单位（如图）。\n\n算出支持所有平板的支柱的总长度。\n\n![](https://cdn.luogu.com.cn/upload/pic/994.png)", "inputFormat": "第一行包括 $1$ 个整数 $N$，即平板的总数。\n\n接下来的 $N$ 行每行都是一块平板的坐标，是相应的 $Y$，$X_1$ 和 $X_2$。即高度和水平的边缘坐标。", "outputFormat": "要撑起所有平板所需的支柱的总长度。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\le N \\le 100$，所有的坐标都是不大于 $10000$ 的正整数且满足 $X_2>X_1+1$（也可这样理解，每一块平板的长度至少为 $2$），任意高度相同的两块平板间没有重叠部分。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T1 PLATFORME***。", "locale": "zh-CN", "translations": {"en": {"title": "[CRCI2007-2008] PLATFORME Platforms", "background": "", "description": "For a certain game, we plan to build some platforms, and the positions of all platforms have already been chosen. Based on common sense, platforms cannot float in the air without support. More precisely, both ends of any platform must either have a pillar or rest on another platform.\n\nYou are given the coordinates of each platform in a coordinate system (as in the figure). Each platform is specified by its height (the vertical distance from the floor) and its horizontal span (start and end). Each pillar is placed half a unit away from the edge of the platform it supports (see figure).\n\nCompute the total length of pillars needed to support all platforms.\n\n![](https://cdn.luogu.com.cn/upload/pic/994.png)", "inputFormat": "The first line contains $1$ integer $N$, the total number of platforms.\n\nEach of the next $N$ lines contains the coordinates of a platform: the corresponding $Y$, $X_1$, and $X_2$, i.e., its height and the horizontal coordinates of its endpoints.", "outputFormat": "Output the total length of pillars required to support all platforms.", "hint": "Constraints\n\nFor all test points, it is guaranteed that $1 \\le N \\le 100$, all coordinates are positive integers not greater than $10000$, and they satisfy $X_2 > X_1 + 1$ (equivalently, each platform has length at least $2$). For any two platforms at the same height, there is no overlap between them.\n\nNotes\n\nTranslated from [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) T1 PLATFORME.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[COCI2007-2008] PLATFORME 平板", "background": null, "description": "为了进行一种游戏，现决定搭造一些平板，而各个平板的地址已经选定。基于最普遍的认识，没有任何支持物的平板不可能漂浮在空中。说的更精确些，任意一平板的两端必需有支柱或者它在另一块平板上。\n\n你会得到各个平板在坐标系中的坐标（如左下图）。每一块平板的坐标都是由它的高度（与地板间的垂直距离）和它的水平方位（开始和结束）决定的。每个支柱都距它支撑的平板的边缘半个单位（如图）。\n\n算出支持所有平板的支柱的总长度。\n\n![](https://cdn.luogu.com.cn/upload/pic/994.png)", "inputFormat": "第一行包括 $1$ 个整数 $N$，即平板的总数。\n\n接下来的 $N$ 行每行都是一块平板的坐标，是相应的 $Y$，$X_1$ 和 $X_2$。即高度和水平的边缘坐标。", "outputFormat": "要撑起所有平板所需的支柱的总长度。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\le N \\le 100$，所有的坐标都是不大于 $10000$ 的正整数且满足 $X_2>X_1+1$（也可这样理解，每一块平板的长度至少为 $2$），任意高度相同的两块平板间没有重叠部分。\n\n#### 说明\n\n**题目译自 [COCI2007-2008](https://hsin.hr/coci/archive/2007_2008/) [Regional Competition](https://hsin.hr/coci/archive/2007_2008/regional_tasks.pdf) *T1 PLATFORME***。", "locale": "zh-CN"}}}
