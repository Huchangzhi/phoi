{"pid": "P1080", "type": "P", "difficulty": 5, "samples": [["3 \n1 1 \n2 3 \n7 4 \n4 6 ", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "高精度", "2012", "NOIP 提高组", "排序"], "title": "[NOIP 2012 提高组] 国王游戏", "background": null, "description": "恰逢 H 国国庆，国王邀请 $n$ 位大臣来玩一个有奖游戏。首先，他让每个大臣在左、右手上面分别写下一个整数，国王自己也在左、右手上各写一个整数。然后，让这 $n$ 位大臣排成一排，国王站在队伍的最前面。排好队后，所有的大臣都会获得国王奖赏的若干金币，每位大臣获得的金币数分别是：排在该大臣前面的所有人的左手上的数的乘积除以他自己右手上的数，然后向下取整得到的结果。\n\n国王不希望某一个大臣获得特别多的奖赏，所以他想请你帮他重新安排一下队伍的顺序，使得获得奖赏最多的大臣，所获奖赏尽可能的少。注意，国王的位置始终在队伍的最前面。", "inputFormat": "第一行包含一个整数 $n$，表示大臣的人数。\n\n第二行包含两个整数 $a$ 和 $b$，之间用一个空格隔开，分别表示国王左手和右手上的整数。\n\n接下来 $n$ 行，每行包含两个整数 $a$ 和 $b$，之间用一个空格隔开，分别表示每个大臣左手和右手上的整数。", "outputFormat": "一个整数，表示重新排列后的队伍中获奖赏最多的大臣所获得的金币数。", "hint": "**【输入输出样例说明】**\n\n按 $1$、$2$、$3$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；\n\n按 $1$、$3$、$2$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；\n\n按 $2$、$1$、$3$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；\n\n按 $2$、$3$、$1$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $9$；\n\n按 $3$、$1$、$2$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；  \n\n按 $3$、$2$、$1$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $9$。\n\n因此，奖赏最多的大臣最少获得 $2$ 个金币，答案输出 $2$。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，有 $1 \\le n \\le 10,0 < a,b < 8$；\n\n对于 $40\\%$ 的数据，有 $1 \\le n \\le 20,0 < a,b < 8$；\n\n对于 $60\\%$ 的数据，有 $1 \\le n \\le 100$；\n\n对于 $60\\%$ 的数据，保证答案不超过 $10^9$；\n\n对于 $100\\%$ 的数据，有 $1 \\le n \\le 1000,0 < a,b < 10000$。\n\n\n\nNOIP 2012 提高组 第一天 第二题。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2012 Senior] King's Game", "background": "", "description": "It is the National Day of country H, and the king invites $n$ ministers to play a prize game. First, he asks each minister to write an integer on his left hand and an integer on his right hand; the king also writes one integer on his left hand and one on his right hand. Then the $n$ ministers line up in a row, with the king standing at the very front. After the lineup is fixed, every minister will receive some gold coins from the king. The number of coins a minister receives equals the product of the numbers on the left hands of all people standing before that minister, divided by the integer on his own right hand, and then taking the floor.\n\nThe king does not want any single minister to get too many coins, so he asks you to rearrange the order of the ministers to make the maximum number of coins received by any minister as small as possible. Note that the king always stands at the very front.", "inputFormat": "The first line contains an integer $n$, the number of ministers.\n\nThe second line contains two integers $a$ and $b$ separated by a space, representing the integers on the king’s left and right hands, respectively.\n\nEach of the next $n$ lines contains two integers $a$ and $b$ separated by a space, representing one minister’s left- and right-hand integers, respectively.", "outputFormat": "Output one integer, the maximum number of coins received by any minister in the optimal arrangement.", "hint": "[Input/Output Sample Explanation]\n\nIf the lineup is 1, 2, 3, the maximum number of coins received is 2.\nIf the lineup is 1, 3, 2, the maximum number of coins received is 2.\nIf the lineup is 2, 1, 3, the maximum number of coins received is 2.\nIf the lineup is 2, 3, 1, the maximum number of coins received is 9.\nIf the lineup is 3, 1, 2, the maximum number of coins received is 2.\nIf the lineup is 3, 2, 1, the maximum number of coins received is 9.\nTherefore, the minimum possible maximum is 2, so output 2.\n\nConstraints:\nFor 20% of the testdata, $1 \\le n \\le 10$, $0 < a, b < 8$.\nFor 40% of the testdata, $1 \\le n \\le 20$, $0 < a, b < 8$.\nFor 60% of the testdata, $1 \\le n \\le 100$.\nFor 60% of the testdata, it is guaranteed that the answer does not exceed $10^9$.\nFor 100% of the testdata, $1 \\le n \\le 1000$, $0 < a, b < 10000$.\n\nNOIP 2012 Senior, Day 1, Problem 2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2012 提高组] 国王游戏", "background": null, "description": "恰逢 H 国国庆，国王邀请 $n$ 位大臣来玩一个有奖游戏。首先，他让每个大臣在左、右手上面分别写下一个整数，国王自己也在左、右手上各写一个整数。然后，让这 $n$ 位大臣排成一排，国王站在队伍的最前面。排好队后，所有的大臣都会获得国王奖赏的若干金币，每位大臣获得的金币数分别是：排在该大臣前面的所有人的左手上的数的乘积除以他自己右手上的数，然后向下取整得到的结果。\n\n国王不希望某一个大臣获得特别多的奖赏，所以他想请你帮他重新安排一下队伍的顺序，使得获得奖赏最多的大臣，所获奖赏尽可能的少。注意，国王的位置始终在队伍的最前面。", "inputFormat": "第一行包含一个整数 $n$，表示大臣的人数。\n\n第二行包含两个整数 $a$ 和 $b$，之间用一个空格隔开，分别表示国王左手和右手上的整数。\n\n接下来 $n$ 行，每行包含两个整数 $a$ 和 $b$，之间用一个空格隔开，分别表示每个大臣左手和右手上的整数。", "outputFormat": "一个整数，表示重新排列后的队伍中获奖赏最多的大臣所获得的金币数。", "hint": "**【输入输出样例说明】**\n\n按 $1$、$2$、$3$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；\n\n按 $1$、$3$、$2$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；\n\n按 $2$、$1$、$3$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；\n\n按 $2$、$3$、$1$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $9$；\n\n按 $3$、$1$、$2$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $2$；  \n\n按 $3$、$2$、$1$ 这样排列队伍，获得奖赏最多的大臣所获得金币数为 $9$。\n\n因此，奖赏最多的大臣最少获得 $2$ 个金币，答案输出 $2$。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，有 $1 \\le n \\le 10,0 < a,b < 8$；\n\n对于 $40\\%$ 的数据，有 $1 \\le n \\le 20,0 < a,b < 8$；\n\n对于 $60\\%$ 的数据，有 $1 \\le n \\le 100$；\n\n对于 $60\\%$ 的数据，保证答案不超过 $10^9$；\n\n对于 $100\\%$ 的数据，有 $1 \\le n \\le 1000,0 < a,b < 10000$。\n\n\n\nNOIP 2012 提高组 第一天 第二题。", "locale": "zh-CN"}}}
{"pid": "P1081", "type": "P", "difficulty": 6, "samples": [["4 \n2 3 1 4 \n3 \n4 \n1 3 \n2 3 \n3 3 \n4 3\n", "1 \n1 1 \n2 0 \n0 0 \n0 0 "], ["10 \n4 5 6 1 2 3 7 8 9 10 \n7 \n10 \n1 7 \n2 7 \n3 7 \n4 7 \n5 7 \n6 7 \n7 7 \n8 7 \n9 7 \n10 7", "2 \n3 2 \n2 4 \n2 1 \n2 4 \n5 1 \n5 1 \n2 1 \n2 0 \n0 0 \n0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "倍增", "NOIP 提高组"], "title": "[NOIP 2012 提高组] 开车旅行", "background": null, "description": "小 $\\text{A}$ 和小 $\\text{B}$ 决定利用假期外出旅行，他们将想去的城市从 $1 $ 到 $n$ 编号，且编号较小的城市在编号较大的城市的西边，已知各个城市的海拔高度互不相同，记城市 $i$ 的海拔高度为$h_i$，城市 $i$ 和城市 $j$ 之间的距离 $d_{i,j}$ 恰好是这两个城市海拔高度之差的绝对值，即 $d_{i,j}=|h_i-h_j|$。\n \n旅行过程中，小 $\\text{A}$ 和小 $\\text{B}$ 轮流开车，第一天小 $\\text{A}$ 开车，之后每天轮换一次。他们计划选择一个城市 $s$ 作为起点，一直向东行驶，并且最多行驶 $x$ 公里就结束旅行。    \n\n小 $\\text{A}$ 和小 $\\text{B}$ 的驾驶风格不同，小 $\\text{B}$ 总是沿着前进方向选择一个最近的城市作为目的地，而小 $\\text{A}$ 总是沿着前进方向选择第二近的城市作为目的地（注意：本题中如果当前城市到两个城市的距离相同，则认为离海拔低的那个城市更近）。如果其中任何一人无法按照自己的原则选择目的城市，或者到达目的地会使行驶的总距离超出 $x$ 公里，他们就会结束旅行。\n\n在启程之前，小 $\\text{A}$ 想知道两个问题：\n\n1、 对于一个给定的 $x=x_0$，从哪一个城市出发，小 $\\text{A}$ 开车行驶的路程总数与小 $\\text{B}$ 行驶的路程总数的比值最小（如果小 $\\text{B}$ 的行驶路程为 $0$，此时的比值可视为无穷大，且两个无穷大视为相等）。如果从多个城市出发，小 $\\text{A}$ 开车行驶的路程总数与小 $\\text{B}$ 行驶的路程总数的比值都最小，则输出海拔最高的那个城市。\n\n2、对任意给定的 $x=x_i$ 和出发城市 $s_i$，小 $\\text{A}$ 开车行驶的路程总数以及小 $\\text B$ 行驶的路程总数。", "inputFormat": "第一行包含一个整数 $n$，表示城市的数目。\n\n第二行有 $n$ 个整数，每两个整数之间用一个空格隔开，依次表示城市 $1$ 到城市 $n$ 的海拔高度，即 $h_1,h_2 ... h_n$，且每个 $h_i$ 都是互不相同的。\n\n第三行包含一个整数 $x_0$。\n\n第四行为一个整数 $m$，表示给定 $m$ 组 $s_i$ 和 $x_i$。\n\n接下来的 $m$ 行，每行包含 $2$ 个整数 $s_i$ 和 $x_i$，表示从城市$s_i$ 出发，最多行驶 $x_i$ 公里。", "outputFormat": "输出共 $m+1$ 行。\n\n第一行包含一个整数 $s_0$，表示对于给定的 $x_0$，从编号为 $s_0$ 的城市出发，小 $\\text A$ 开车行驶的路程总数与小 $\\text B$ 行驶的路程总数的比值最小。\n\n接下来的 $m$ 行，每行包含 $2$ 个整数，之间用一个空格隔开，依次表示在给定的 $s_i$ 和 $x_i$ 下小 $\\text A$ 行驶的里程总数和小 $\\text B$ 行驶的里程总数。", "hint": "【样例1说明】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zgms0k7y.png)\n\n各个城市的海拔高度以及两个城市间的距离如上图所示。\n\n如果从城市 $1$ 出发，可以到达的城市为 $2,3,4$，这几个城市与城市 $1$ 的距离分别为 $1,1,2$，但是由于城市 $3$ 的海拔高度低于城市 $2$，所以我们认为城市 $3$ 离城市 $1$ 最近，城市 $2$ 离城市 $1$ 第二近，所以小A会走到城市 $2$。到达城市 $2$ 后，前面可以到达的城市为 $3,4$，这两个城市与城市 $2$  的距离分别为 $2,1$，所以城市 $4$ 离城市 $2$ 最近，因此小B会走到城市$4$。到达城市 $4$ 后，前面已没有可到达的城市，所以旅行结束。\n\n如果从城市 $2$ 出发，可以到达的城市为 $3,4$，这两个城市与城市 $2$ 的距离分别为 $2,1$，由于城市 $3$ 离城市 $2$ 第二近，所以小 $\\text A$ 会走到城市 $3$。到达城市 $3$ 后，前面尚未旅行的城市为 $4$，所以城市 $4$ 离城市 $3$ 最近，但是如果要到达城市 $4$，则总路程为 $2+3=5>3$，所以小 $\\text B$ 会直接在城市 $3$ 结束旅行。\n\n如果从城市 $3$ 出发，可以到达的城市为 $4$，由于没有离城市 $3$ 第二近的城市，因此旅行还未开始就结束了。\n\n如果从城市 $4$ 出发，没有可以到达的城市，因此旅行还未开始就结束了。\n\n\n【样例2说明】\n\n当 $x=7$ 时，如果从城市 $1$ 出发，则路线为 $1 \\to 2 \\to 3 \\to 8 \\to 9$，小 $\\text A$ 走的距离为 $1+2=3$，小 $\\text B$ 走的距离为 $1+1=2$。（在城市 $1$ 时，距离小 $\\text A$ 最近的城市是 $2$ 和 $6$，但是城市 $2$ 的海拔更高，视为与城市 $1$ 第二近的城市，所以小 $\\text A$ 最终选择城市 $2$；走到$9$ 后，小 $\\text A$ 只有城市 $10$ 可以走，没有第二选择可以选，所以没法做出选择，结束旅行）\n\n如果从城市 $2$ 出发，则路线为 $2 \\to 6 \\to 7$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $2,4$。\n\n如果从城市 $3$ 出发，则路线为 $3 \\to 8 \\to 9$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$2,1$。\n\n如果从城市 $4$ 出发，则路线为 $4 \\to 6 \\to 7$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $2,4$。\n\n如果从城市 $5$ 出发，则路线为 $5 \\to 7 \\to 8$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $5,1$。\n\n如果从城市 $6$ 出发，则路线为 $6 \\to 8 \\to 9$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$5,1$。\n\n如果从城市 $7$ 出发，则路线为 $7 \\to 9 \\to 10$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$2,1$。\n\n如果从城市 $8$ 出发，则路线为 $8 \\to 10$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$2,0$。\n\n如果从城市 $9$ 出发，则路线为 $9$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $0,0$（旅行一开始就结束了）。\n\n如果从城市 $10$ 出发，则路线为 $10$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$0,0$。\n\n从城市 $2$ 或者城市 $4$ 出发小 $\\text A$ 行驶的路程总数与小 $\\text B$ 行驶的路程总数的比值都最小，但是城市 $2$ 的海拔更高，所以输出第一行为 $2$。\n\n【数据范围与约定】  \n\n对于 $30\\%$ 的数据，有 $1\\le n \\le 20,1\\le m\\le 20$；\n\n对于 $40\\%$ 的数据，有 $1\\le n \\le 100,1\\le m\\le 100$；\n\n对于 $50\\%$ 的数据，有 $1\\le n \\le 100,1\\le m\\le 1000$；\n\n对于 $70\\%$ 的数据，有 $1\\le n \\le 1000,1\\le m\\le 10^4$；\n\n对于 $100\\%$ 的数据：$1\\le n,m \\le 10^5$，$-10^9 \\le h_i≤10^9$，$1 \\le s_i \\le n$，$0 \\le x_i \\le 10^9$。\n\n数据保证 $h_i$ 互不相同。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2012 Senior] Driving Trip", "background": null, "description": "Little $\\text{A}$ and Little $\\text{B}$ decide to travel during the holidays. They number the cities from $1$ to $n$, where a city with a smaller index lies to the west of a city with a larger index. The altitudes of all cities are distinct. Let the altitude of city $i$ be $h_i$. The distance $d_{i,j}$ between city $i$ and city $j$ is exactly the absolute difference of their altitudes, i.e., $d_{i,j}=|h_i-h_j|$.\n\nDuring the trip, Little $\\text{A}$ and Little $\\text{B}$ take turns driving. Little $\\text{A}$ drives on the first day, and they alternate each subsequent day. They plan to choose some city $s$ as the starting point, always drive eastward, and end the trip after driving at most $x$ kilometers in total.\n\nLittle $\\text{A}$ and Little $\\text{B}$ have different driving styles. Little $\\text{B}$ always chooses the nearest city in the forward (east) direction as the destination, while Little $\\text{A}$ always chooses the second nearest city in the forward direction (note: in this problem, if the distances from the current city to two cities are the same, the city with the lower altitude is considered closer). If either person cannot choose a destination according to their rule, or if reaching the chosen destination would cause the total distance to exceed $x$ kilometers, the trip ends.\n\nBefore setting off, Little $\\text{A}$ wants to know two things:\n\n1. For a given $x=x_0$, from which city should they start so that the ratio of the total distance driven by Little $\\text{A}$ to that driven by Little $\\text{B}$ is minimized (if Little $\\text{B}$'s total distance is $0$, the ratio is considered infinite, and all infinities are regarded equal). If multiple starting cities yield the same minimum ratio, output the city with the highest altitude.\n\n2. For any given $x=x_i$ and starting city $s_i$, the total distance driven by Little $\\text{A}$ and the total distance driven by Little $\\text{B}$.", "inputFormat": "- The first line contains an integer $n$, the number of cities.\n- The second line contains $n$ integers separated by spaces, representing the altitudes of cities $1$ through $n$, i.e., $h_1,h_2,\\dots,h_n$, and all $h_i$ are distinct.\n- The third line contains an integer $x_0$.\n- The fourth line contains an integer $m$, the number of given pairs $(s_i,x_i)$.\n- Each of the next $m$ lines contains $2$ integers $s_i$ and $x_i$, indicating that the trip starts from city $s_i$ and the total distance is at most $x_i$ kilometers.", "outputFormat": "Output $m+1$ lines.\n\n- The first line contains an integer $s_0$, indicating that for the given $x_0$, starting from city $s_0$ minimizes the ratio of the total distance driven by Little $\\text{A}$ to that driven by Little $\\text{B}$.\n- Each of the next $m$ lines contains $2$ integers separated by a space, indicating, for the given $s_i$ and $x_i$, the total distance driven by Little $\\text{A}$ and by Little $\\text{B}$, respectively.", "hint": "[Explanation for Sample 1]\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zgms0k7y.png)\n\nThe altitudes of the cities and the distances between pairs of cities are as shown above.\n\nIf starting from city $1$, the reachable cities ahead are $2,3,4$, with distances from city $1$ being $1,1,2$, respectively. However, since the altitude of city $3$ is lower than that of city $2$, we consider city $3$ closer to city $1$, and city $2$ the second closest, so Little $\\text{A}$ goes to city $2$. After reaching city $2$, the reachable cities ahead are $3,4$, with distances $2,1$, respectively, so city $4$ is closer to city $2$; therefore Little $\\text{B}$ goes to city $4$. After reaching city $4$, there are no reachable cities ahead, so the trip ends.\n\nIf starting from city $2$, the reachable cities ahead are $3,4$, with distances $2,1$, respectively. Since city $3$ is the second closest to city $2$, Little $\\text{A}$ goes to city $3$. After reaching city $3$, the only remaining forward city is $4$, so city $4$ is the closest to city $3$. However, going to city $4$ would make the total distance $2+3=5>3$, so Little $\\text{B}$ ends the trip at city $3$.\n\nIf starting from city $3$, the only reachable city ahead is $4$. Since there is no second closest city to city $3$, the trip ends before it starts.\n\nIf starting from city $4$, there are no reachable cities ahead, so the trip ends before it starts.\n\n[Explanation for Sample 2]\n\nWhen $x=7$, if starting from city $1$, the route is $1 \\to 2 \\to 3 \\to 8 \\to 9$. Little $\\text{A}$ travels $1+2=3$, and Little $\\text{B}$ travels $1+1=2$. (At city $1$, the cities closest to Little $\\text{A}$ are $2$ and $6$, but city $2$ has a higher altitude and is regarded as the second closest to city $1$, so Little $\\text{A}$ ultimately chooses city $2$. After reaching $9$, Little $\\text{A}$ can only go to city $10$, and there is no second choice, so no decision can be made and the trip ends.)\n\nIf starting from city $2$, the route is $2 \\to 6 \\to 7$. Little $\\text{A}$ and Little $\\text{B}$ travel $2$ and $4$, respectively.\n\nIf starting from city $3$, the route is $3 \\to 8 \\to 9$. Little $\\text{A}$ and Little $\\text{B}$ travel $2$ and $1$, respectively.\n\nIf starting from city $4$, the route is $4 \\to 6 \\to 7$. Little $\\text{A}$ and Little $\\text{B}$ travel $2$ and $4$, respectively.\n\nIf starting from city $5$, the route is $5 \\to 7 \\to 8$. Little $\\text{A}$ and Little $\\text{B}$ travel $5$ and $1$, respectively.\n\nIf starting from city $6$, the route is $6 \\to 8 \\to 9$. Little $\\text{A}$ and Little $\\text{B}$ travel $5$ and $1$, respectively.\n\nIf starting from city $7$, the route is $7 \\to 9 \\to 10$. Little $\\text{A}$ and Little $\\text{B}$ travel $2$ and $1$, respectively.\n\nIf starting from city $8$, the route is $8 \\to 10$. Little $\\text{A}$ and Little $\\text{B}$ travel $2$ and $0$, respectively.\n\nIf starting from city $9$, the route is $9$. Little $\\text{A}$ and Little $\\text{B}$ travel $0$ and $0$, respectively (the trip ends immediately).\n\nIf starting from city $10$, the route is $10$. Little $\\text{A}$ and Little $\\text{B}$ travel $0$ and $0$, respectively.\n\nStarting from city $2$ or city $4$ yields the same minimum ratio of Little $\\text{A}$'s total distance to Little $\\text{B}$'s total distance, but city $2$ has a higher altitude, so the first line of the output is $2$.\n\nConstraints\n\n- For $30\\%$ of the testdata: $1 \\le n \\le 20, 1 \\le m \\le 20$.\n- For $40\\%$ of the testdata: $1 \\le n \\le 100, 1 \\le m \\le 100$.\n- For $50\\%$ of the testdata: $1 \\le n \\le 100, 1 \\le m \\le 1000$.\n- For $70\\%$ of the testdata: $1 \\le n \\le 1000, 1 \\le m \\le 10^4$.\n- For $100\\%$ of the testdata: $1 \\le n,m \\le 10^5$, $-10^9 \\le h_i≤10^9$, $1 \\le s_i \\le n$, $0 \\le x_i \\le 10^9$.\n\nThe testdata guarantees that $h_i$ are pairwise distinct.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2012 提高组] 开车旅行", "background": null, "description": "小 $\\text{A}$ 和小 $\\text{B}$ 决定利用假期外出旅行，他们将想去的城市从 $1 $ 到 $n$ 编号，且编号较小的城市在编号较大的城市的西边，已知各个城市的海拔高度互不相同，记城市 $i$ 的海拔高度为$h_i$，城市 $i$ 和城市 $j$ 之间的距离 $d_{i,j}$ 恰好是这两个城市海拔高度之差的绝对值，即 $d_{i,j}=|h_i-h_j|$。\n \n旅行过程中，小 $\\text{A}$ 和小 $\\text{B}$ 轮流开车，第一天小 $\\text{A}$ 开车，之后每天轮换一次。他们计划选择一个城市 $s$ 作为起点，一直向东行驶，并且最多行驶 $x$ 公里就结束旅行。    \n\n小 $\\text{A}$ 和小 $\\text{B}$ 的驾驶风格不同，小 $\\text{B}$ 总是沿着前进方向选择一个最近的城市作为目的地，而小 $\\text{A}$ 总是沿着前进方向选择第二近的城市作为目的地（注意：本题中如果当前城市到两个城市的距离相同，则认为离海拔低的那个城市更近）。如果其中任何一人无法按照自己的原则选择目的城市，或者到达目的地会使行驶的总距离超出 $x$ 公里，他们就会结束旅行。\n\n在启程之前，小 $\\text{A}$ 想知道两个问题：\n\n1、 对于一个给定的 $x=x_0$，从哪一个城市出发，小 $\\text{A}$ 开车行驶的路程总数与小 $\\text{B}$ 行驶的路程总数的比值最小（如果小 $\\text{B}$ 的行驶路程为 $0$，此时的比值可视为无穷大，且两个无穷大视为相等）。如果从多个城市出发，小 $\\text{A}$ 开车行驶的路程总数与小 $\\text{B}$ 行驶的路程总数的比值都最小，则输出海拔最高的那个城市。\n\n2、对任意给定的 $x=x_i$ 和出发城市 $s_i$，小 $\\text{A}$ 开车行驶的路程总数以及小 $\\text B$ 行驶的路程总数。", "inputFormat": "第一行包含一个整数 $n$，表示城市的数目。\n\n第二行有 $n$ 个整数，每两个整数之间用一个空格隔开，依次表示城市 $1$ 到城市 $n$ 的海拔高度，即 $h_1,h_2 ... h_n$，且每个 $h_i$ 都是互不相同的。\n\n第三行包含一个整数 $x_0$。\n\n第四行为一个整数 $m$，表示给定 $m$ 组 $s_i$ 和 $x_i$。\n\n接下来的 $m$ 行，每行包含 $2$ 个整数 $s_i$ 和 $x_i$，表示从城市$s_i$ 出发，最多行驶 $x_i$ 公里。", "outputFormat": "输出共 $m+1$ 行。\n\n第一行包含一个整数 $s_0$，表示对于给定的 $x_0$，从编号为 $s_0$ 的城市出发，小 $\\text A$ 开车行驶的路程总数与小 $\\text B$ 行驶的路程总数的比值最小。\n\n接下来的 $m$ 行，每行包含 $2$ 个整数，之间用一个空格隔开，依次表示在给定的 $s_i$ 和 $x_i$ 下小 $\\text A$ 行驶的里程总数和小 $\\text B$ 行驶的里程总数。", "hint": "【样例1说明】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zgms0k7y.png)\n\n各个城市的海拔高度以及两个城市间的距离如上图所示。\n\n如果从城市 $1$ 出发，可以到达的城市为 $2,3,4$，这几个城市与城市 $1$ 的距离分别为 $1,1,2$，但是由于城市 $3$ 的海拔高度低于城市 $2$，所以我们认为城市 $3$ 离城市 $1$ 最近，城市 $2$ 离城市 $1$ 第二近，所以小A会走到城市 $2$。到达城市 $2$ 后，前面可以到达的城市为 $3,4$，这两个城市与城市 $2$  的距离分别为 $2,1$，所以城市 $4$ 离城市 $2$ 最近，因此小B会走到城市$4$。到达城市 $4$ 后，前面已没有可到达的城市，所以旅行结束。\n\n如果从城市 $2$ 出发，可以到达的城市为 $3,4$，这两个城市与城市 $2$ 的距离分别为 $2,1$，由于城市 $3$ 离城市 $2$ 第二近，所以小 $\\text A$ 会走到城市 $3$。到达城市 $3$ 后，前面尚未旅行的城市为 $4$，所以城市 $4$ 离城市 $3$ 最近，但是如果要到达城市 $4$，则总路程为 $2+3=5>3$，所以小 $\\text B$ 会直接在城市 $3$ 结束旅行。\n\n如果从城市 $3$ 出发，可以到达的城市为 $4$，由于没有离城市 $3$ 第二近的城市，因此旅行还未开始就结束了。\n\n如果从城市 $4$ 出发，没有可以到达的城市，因此旅行还未开始就结束了。\n\n\n【样例2说明】\n\n当 $x=7$ 时，如果从城市 $1$ 出发，则路线为 $1 \\to 2 \\to 3 \\to 8 \\to 9$，小 $\\text A$ 走的距离为 $1+2=3$，小 $\\text B$ 走的距离为 $1+1=2$。（在城市 $1$ 时，距离小 $\\text A$ 最近的城市是 $2$ 和 $6$，但是城市 $2$ 的海拔更高，视为与城市 $1$ 第二近的城市，所以小 $\\text A$ 最终选择城市 $2$；走到$9$ 后，小 $\\text A$ 只有城市 $10$ 可以走，没有第二选择可以选，所以没法做出选择，结束旅行）\n\n如果从城市 $2$ 出发，则路线为 $2 \\to 6 \\to 7$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $2,4$。\n\n如果从城市 $3$ 出发，则路线为 $3 \\to 8 \\to 9$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$2,1$。\n\n如果从城市 $4$ 出发，则路线为 $4 \\to 6 \\to 7$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $2,4$。\n\n如果从城市 $5$ 出发，则路线为 $5 \\to 7 \\to 8$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $5,1$。\n\n如果从城市 $6$ 出发，则路线为 $6 \\to 8 \\to 9$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$5,1$。\n\n如果从城市 $7$ 出发，则路线为 $7 \\to 9 \\to 10$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$2,1$。\n\n如果从城市 $8$ 出发，则路线为 $8 \\to 10$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$2,0$。\n\n如果从城市 $9$ 出发，则路线为 $9$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为 $0,0$（旅行一开始就结束了）。\n\n如果从城市 $10$ 出发，则路线为 $10$，小 $\\text A$ 和小 $\\text B$ 走的距离分别为$0,0$。\n\n从城市 $2$ 或者城市 $4$ 出发小 $\\text A$ 行驶的路程总数与小 $\\text B$ 行驶的路程总数的比值都最小，但是城市 $2$ 的海拔更高，所以输出第一行为 $2$。\n\n【数据范围与约定】  \n\n对于 $30\\%$ 的数据，有 $1\\le n \\le 20,1\\le m\\le 20$；\n\n对于 $40\\%$ 的数据，有 $1\\le n \\le 100,1\\le m\\le 100$；\n\n对于 $50\\%$ 的数据，有 $1\\le n \\le 100,1\\le m\\le 1000$；\n\n对于 $70\\%$ 的数据，有 $1\\le n \\le 1000,1\\le m\\le 10^4$；\n\n对于 $100\\%$ 的数据：$1\\le n,m \\le 10^5$，$-10^9 \\le h_i≤10^9$，$1 \\le s_i \\le n$，$0 \\le x_i \\le 10^9$。\n\n数据保证 $h_i$ 互不相同。", "locale": "zh-CN"}}}
{"pid": "P1082", "type": "P", "difficulty": 4, "samples": [["3 10", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2012", "NOIP 提高组", "扩展欧几里德算法"], "title": "[NOIP 2012 提高组] 同余方程", "background": null, "description": "求关于 $ x$ 的同余方程 $ a x \\equiv 1 \\pmod {b}$ 的最小正整数解。", "inputFormat": "一行，包含两个整数 $a,b$，用一个空格隔开。", "outputFormat": "一个整数 $x_0$，即最小正整数解。输入数据保证一定有解。", "hint": "### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，$2 \\le b\\le  10^3$；\n- 对于 $60\\%$ 的数据，$2 \\le b\\le  5\\times 10^7$；\n- 对于 $100\\%$ 的数据，$2 \\le a, b\\le  2\\times 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2012 Senior] Congruence Equation", "background": null, "description": "Find the smallest positive integer solution of $ x$ to the congruence equation $ a x \\equiv 1 \\pmod {b}$.", "inputFormat": "One line containing two integers $a,b$, separated by a single space.", "outputFormat": "A single integer $x_0$, which is the smallest positive solution. The input is guaranteed to have a solution.", "hint": "### Constraints\n\n- For $40\\%$ of the testdata, $2 \\le b \\le 1{,}000$.\n- For $60\\%$ of the testdata, $2 \\le b \\le 50{,}000{,}000$.\n- For $100\\%$ of the testdata, $2 \\le a, b \\le 2{,}000{,}000{,}000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2012 提高组] 同余方程", "background": null, "description": "求关于 $ x$ 的同余方程 $ a x \\equiv 1 \\pmod {b}$ 的最小正整数解。", "inputFormat": "一行，包含两个整数 $a,b$，用一个空格隔开。", "outputFormat": "一个整数 $x_0$，即最小正整数解。输入数据保证一定有解。", "hint": "### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，$2 \\le b\\le  10^3$；\n- 对于 $60\\%$ 的数据，$2 \\le b\\le  5\\times 10^7$；\n- 对于 $100\\%$ 的数据，$2 \\le a, b\\le  2\\times 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1083", "type": "P", "difficulty": 3, "samples": [["4 3 \n2 5 4 3 \n2 1 3 \n3 2 4 \n4 2 4", "-1 \n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2012", "线段树", "二分", "NOIP 提高组", "前缀和", "差分"], "title": "[NOIP 2012 提高组] 借教室", "background": null, "description": "在大学期间，经常需要租借教室。大到院系举办活动，小到学习小组自习讨论，都需要向学校申请借教室。教室的大小功能不同，借教室人的身份不同，借教室的手续也不一样。\n\n面对海量租借教室的信息，我们自然希望编程解决这个问题。\n\n我们需要处理接下来 $n$ 天的借教室信息，其中第 $i$ 天学校有 $r_i$ 个教室可供租借。共有 $m$ 份订单，每份订单用三个正整数描述，分别为 $d_j,s_j,t_j$，表示某租借者需要从第 $s_j$ 天到第 $t_j$ 天租借教室（包括第 $s_j$ 天和第 $t_j$ 天），每天需要租借 $d_j$ 个教室。\n\n我们假定，租借者对教室的大小、地点没有要求。即对于每份订单，我们只需要每天提供 $d_j$ 个教室，而它们具体是哪些教室，每天是否是相同的教室则不用考虑。\n\n借教室的原则是先到先得，也就是说我们要按照订单的先后顺序依次为每份订单分配教室。如果在分配的过程中遇到一份订单无法完全满足，则需要停止教室的分配，通知当前申请人修改订单。这里的无法满足指从第 $s_j$ 天到第 $t_j$ 天中有至少一天剩余的教室数量不足 $d_j$ 个。\n\n现在我们需要知道，是否会有订单无法完全满足。如果有，需要通知哪一个申请人修改订单。", "inputFormat": "第一行包含两个正整数 $n,m$，表示天数和订单的数量。\n\n第二行包含 $n$ 个正整数，其中第 $i$ 个数为 $r_i$，表示第 $i$ 天可用于租借的教室数量。\n\n接下来有 $m$ 行，每行包含三个正整数 $d_j,s_j,t_j$，表示租借的数量，租借开始、结束分别在第几天。\n\n每行相邻的两个数之间均用一个空格隔开。天数与订单均用从 $1$ 开始的整数编号。", "outputFormat": "如果所有订单均可满足，则输出只有一行，包含一个整数 $0$。\n\n否则（订单无法完全满足）输出两行，第一行输出一个负整数 $-1$，第二行输出需要修改订单的申请人编号。", "hint": "【输入输出样例说明】\n\n第 $1$ 份订单满足后，$4$ 天剩余的教室数分别为 $0,3,2,3$。第 $2$ 份订单要求第 $2$ 天到第 $4$ 天每天提供 $3$ 个教室，而第 $3$ 天剩余的教室数为 $2$，因此无法满足。分配停止，通知第 $2$ 个申请人修改订单。\n\n【数据范围】\n\n对于 $10\\%$ 的数据，有 $1\\le n,m\\le 10$；\n\n对于 $30\\%$ 的数据，有 $1\\le n,m\\le 1000$；\n\n对于 $70\\%$ 的数据，有 $1 \\le n,m \\le 10^5$；\n\n对于 $100\\%$ 的数据，有 $1 \\le n,m \\le 10^6$，$0 \\le r_i,d_j\\le 10^9$，$1 \\le s_j\\le t_j\\le n$。\n\n\nNOIP 2012 提高组 第二天 第二题\n\n2022.2.20 新增一组 hack 数据", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2012 Senior] Borrowing Classrooms", "background": null, "description": "During university, classrooms often need to be rented. From department events to small study groups, everyone needs to apply to the school to borrow classrooms. Classroom sizes and functions differ, and the borrower’s identity may differ, so the procedures vary as well.\n\nGiven a large number of rental requests, we want to solve this problem by programming.\n\nWe need to process borrowing requests for the next $n$ days. On day $i$, the school has $r_i$ classrooms available for rent. There are $m$ orders. Each order is described by three positive integers $d_j, s_j, t_j$, meaning a borrower wants to rent $d_j$ classrooms per day from day $s_j$ to day $t_j$ inclusive.\n\nWe assume borrowers have no requirements regarding classroom size or location. That is, for each order we only need to provide $d_j$ classrooms each day; which specific classrooms they are, or whether they are the same across days, does not matter.\n\nBorrowing follows a first-come, first-served principle. We process orders in the given order and allocate classrooms accordingly. If, during allocation, an order cannot be fully satisfied, we must stop allocation and notify the current applicant to modify the order. Here, “cannot be satisfied” means that on at least one day between $s_j$ and $t_j$, the remaining number of classrooms is less than $d_j$.\n\nWe need to determine whether any order cannot be fully satisfied. If so, which applicant should be notified to modify their order.", "inputFormat": "- The first line contains two positive integers $n, m$, the number of days and the number of orders.\n- The second line contains $n$ positive integers; the $i$-th number is $r_i$, the number of classrooms available on day $i$.\n- The next $m$ lines each contain three positive integers $d_j, s_j, t_j$, denoting the quantity requested per day and the start and end days of the rental.\n- Adjacent numbers on the same line are separated by a single space. Days and orders are both numbered starting from $1$.", "outputFormat": "- If all orders can be satisfied, output a single line containing the integer $0$.\n- Otherwise, output two lines: the first line contains the negative integer $-1$, and the second line contains the index of the applicant whose order needs to be modified.", "hint": "Sample explanation:\n\nAfter satisfying order $1$, the remaining classrooms for $4$ days are $0, 3, 2, 3$. Order $2$ asks for $3$ classrooms per day from day $2$ to day $4$, but on day $3$ the remaining classrooms are $2$, so it cannot be satisfied. Allocation stops, and the applicant of order $2$ is notified to modify the order.\n\nConstraints:\n\n- For $10\\%$ of the testdata, $1 \\le n, m \\le 10$.\n- For $30\\%$ of the testdata, $1 \\le n, m \\le 1000$.\n- For $70\\%$ of the testdata, $1 \\le n, m \\le 10^5$.\n- For $100\\%$ of the testdata, $1 \\le n, m \\le 10^6$, $0 \\le r_i, d_j \\le 10^9$, $1 \\le s_j \\le t_j \\le n$.\n\nAdditional notes:\n\nNOIP 2012 Senior Day 2, Problem 2.\n\nA new set of hack testdata was added on 2022.2.20.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2012 提高组] 借教室", "background": null, "description": "在大学期间，经常需要租借教室。大到院系举办活动，小到学习小组自习讨论，都需要向学校申请借教室。教室的大小功能不同，借教室人的身份不同，借教室的手续也不一样。\n\n面对海量租借教室的信息，我们自然希望编程解决这个问题。\n\n我们需要处理接下来 $n$ 天的借教室信息，其中第 $i$ 天学校有 $r_i$ 个教室可供租借。共有 $m$ 份订单，每份订单用三个正整数描述，分别为 $d_j,s_j,t_j$，表示某租借者需要从第 $s_j$ 天到第 $t_j$ 天租借教室（包括第 $s_j$ 天和第 $t_j$ 天），每天需要租借 $d_j$ 个教室。\n\n我们假定，租借者对教室的大小、地点没有要求。即对于每份订单，我们只需要每天提供 $d_j$ 个教室，而它们具体是哪些教室，每天是否是相同的教室则不用考虑。\n\n借教室的原则是先到先得，也就是说我们要按照订单的先后顺序依次为每份订单分配教室。如果在分配的过程中遇到一份订单无法完全满足，则需要停止教室的分配，通知当前申请人修改订单。这里的无法满足指从第 $s_j$ 天到第 $t_j$ 天中有至少一天剩余的教室数量不足 $d_j$ 个。\n\n现在我们需要知道，是否会有订单无法完全满足。如果有，需要通知哪一个申请人修改订单。", "inputFormat": "第一行包含两个正整数 $n,m$，表示天数和订单的数量。\n\n第二行包含 $n$ 个正整数，其中第 $i$ 个数为 $r_i$，表示第 $i$ 天可用于租借的教室数量。\n\n接下来有 $m$ 行，每行包含三个正整数 $d_j,s_j,t_j$，表示租借的数量，租借开始、结束分别在第几天。\n\n每行相邻的两个数之间均用一个空格隔开。天数与订单均用从 $1$ 开始的整数编号。", "outputFormat": "如果所有订单均可满足，则输出只有一行，包含一个整数 $0$。\n\n否则（订单无法完全满足）输出两行，第一行输出一个负整数 $-1$，第二行输出需要修改订单的申请人编号。", "hint": "【输入输出样例说明】\n\n第 $1$ 份订单满足后，$4$ 天剩余的教室数分别为 $0,3,2,3$。第 $2$ 份订单要求第 $2$ 天到第 $4$ 天每天提供 $3$ 个教室，而第 $3$ 天剩余的教室数为 $2$，因此无法满足。分配停止，通知第 $2$ 个申请人修改订单。\n\n【数据范围】\n\n对于 $10\\%$ 的数据，有 $1\\le n,m\\le 10$；\n\n对于 $30\\%$ 的数据，有 $1\\le n,m\\le 1000$；\n\n对于 $70\\%$ 的数据，有 $1 \\le n,m \\le 10^5$；\n\n对于 $100\\%$ 的数据，有 $1 \\le n,m \\le 10^6$，$0 \\le r_i,d_j\\le 10^9$，$1 \\le s_j\\le t_j\\le n$。\n\n\nNOIP 2012 提高组 第二天 第二题\n\n2022.2.20 新增一组 hack 数据", "locale": "zh-CN"}}}
{"pid": "P1084", "type": "P", "difficulty": 6, "samples": [["4 \n1 2 1 \n1 3 2 \n3 4 3 \n2 \n2 2", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "树形数据结构", "2012", "倍增", "二分", "NOIP 提高组", "排序", "树链剖分"], "title": "[NOIP 2012 提高组] 疫情控制", "background": null, "description": "H 国有 $n $ 个城市，这 $n$ 个城市用 $ n-1 $ 条双向道路相互连通构成一棵树，$1 $ 号城市是首都，也是树中的根节点。\n\nH 国的首都爆发了一种危害性极高的传染病。当局为了控制疫情，不让疫情扩散到边境城市（叶子节点所表示的城市），决定动用军队在一些城市建立检查点，使得从首都到边境城市的每一条路径上都至少有一个检查点，边境城市也可以建立检查点。但特别要注意的是，首都是不能建立检查点的。\n\n现在，在 H 国的一些城市中已经驻扎有军队，且一个城市可以驻扎多个军队。一支军队可以在有道路连接的城市间移动，并在除首都以外的任意一个城市建立检查点，且只能在一个城市建立检查点。一支军队经过一条道路从一个城市移动到另一个城市所需要的时间等于道路的长度（单位：小时）。\n\n请问最少需要多少个小时才能控制疫情。注意：不同的军队可以同时移动。", "inputFormat": "第一行一个整数 $ n$，表示城市个数。\n\n接下来的 $n-1$ 行，每行 $ 3 $ 个整数，$u,v,w$，每两个整数之间用一个空格隔开，表示从城市 $u $ 到城市 $ v$ 有一条长为 $w$ 的道路。数据保证输入的是一棵树，且根节点编号为 $1$。\n\n接下来一行一个整数 $m$，表示军队个数。\n\n接下来一行 $m $ 个整数，每两个整数之间用一个空格隔开，分别表示这 $m$ 个军队所驻扎的城市的编号。", "outputFormat": "一个整数，表示控制疫情所需要的最少时间。如果无法控制疫情则输出 $-1$。", "hint": "【输入输出样例说明】\n\n第一支军队在 $2$ 号点设立检查点，第二支军队从 $2$ 号点移动到 $3$ 号点设立检查点，所需时间为 $3$ 个小时。\n\n \n【数据范围】\n\n保证军队不会驻扎在首都。\n\n- 对于 $20\\%$ 的数据，$2 \\le n\\le 10$；\n- 对于 $40\\%$ 的数据，$2 \\le n\\le 50$，$0<w <10^5$；\n- 对于 $60\\%$ 的数据，$2 \\le n\\le 1000$，$0<w <10^6$；\n- 对于 $80\\%$ 的数据，$2 \\le n\\le 10^4$；\n- 对于 $100\\%$ 的数据，$2\\le m\\le n≤5\\times 10^4$，$0<w <10^9$。\n\n\nNOIP 2012 提高组 第二天 第三题", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2012 Senior] Epidemic Control", "background": "", "description": "Country H has $n$ cities. These $n$ cities are connected by $n-1$ bidirectional roads to form a tree. City $1$ is the capital and is the root of the tree.\n\nA highly dangerous contagious disease has broken out in the capital. To control the epidemic and prevent it from spreading to border cities (cities represented by leaf nodes), the authorities decide to deploy the army to set up checkpoints in some cities so that every path from the capital to any border city contains at least one checkpoint. Checkpoints may also be set in border cities. Note in particular that no checkpoint may be set in the capital.\n\nCurrently, troops are already stationed in some cities of Country H, and multiple troops may be stationed in the same city. A troop can move between adjacent cities along roads and can set up a checkpoint in any city except the capital. Each troop can set a checkpoint in only one city. The time for a troop to move across a road from one city to another equals the length of that road (unit: hours).\n\nWhat is the minimum number of hours needed to control the epidemic? Note that different troops can move simultaneously.", "inputFormat": "The first line contains an integer $n$, the number of cities.\n\nThe next $n-1$ lines each contain $3$ integers, $u, v, w$, separated by single spaces, indicating there is a road of length $w$ between cities $u$ and $v$. It is guaranteed that the input forms a tree, and the root is city $1$.\n\nThe next line contains an integer $m$, the number of troops.\n\nThe next line contains $m$ integers, separated by single spaces, indicating the cities where the $m$ troops are stationed.", "outputFormat": "Output a single integer, the minimum time needed to control the epidemic. If it is impossible to control the epidemic, output $-1$.", "hint": "Sample explanation:\n\nThe first troop sets a checkpoint at city $2$, and the second troop moves from city $2$ to city $3$ to set a checkpoint. The time needed is $3$ hours.\n\nConstraints:\n\nIt is guaranteed that no troop is stationed in the capital.\n\n- For $20\\%$ of the testdata, $2 \\le n \\le 10$. \n- For $40\\%$ of the testdata, $2 \\le n \\le 50$, $0 < w < 10^5$. \n- For $60\\%$ of the testdata, $2 \\le n \\le 1000$, $0 < w < 10^6$. \n- For $80\\%$ of the testdata, $2 \\le n \\le 10^4$. \n- For $100\\%$ of the testdata, $2 \\le m \\le n \\le 5 \\times 10^4$, $0 < w < 10^9$. \n\nNOIP 2012 Senior Day 2, Problem 3.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2012 提高组] 疫情控制", "background": null, "description": "H 国有 $n $ 个城市，这 $n$ 个城市用 $ n-1 $ 条双向道路相互连通构成一棵树，$1 $ 号城市是首都，也是树中的根节点。\n\nH 国的首都爆发了一种危害性极高的传染病。当局为了控制疫情，不让疫情扩散到边境城市（叶子节点所表示的城市），决定动用军队在一些城市建立检查点，使得从首都到边境城市的每一条路径上都至少有一个检查点，边境城市也可以建立检查点。但特别要注意的是，首都是不能建立检查点的。\n\n现在，在 H 国的一些城市中已经驻扎有军队，且一个城市可以驻扎多个军队。一支军队可以在有道路连接的城市间移动，并在除首都以外的任意一个城市建立检查点，且只能在一个城市建立检查点。一支军队经过一条道路从一个城市移动到另一个城市所需要的时间等于道路的长度（单位：小时）。\n\n请问最少需要多少个小时才能控制疫情。注意：不同的军队可以同时移动。", "inputFormat": "第一行一个整数 $ n$，表示城市个数。\n\n接下来的 $n-1$ 行，每行 $ 3 $ 个整数，$u,v,w$，每两个整数之间用一个空格隔开，表示从城市 $u $ 到城市 $ v$ 有一条长为 $w$ 的道路。数据保证输入的是一棵树，且根节点编号为 $1$。\n\n接下来一行一个整数 $m$，表示军队个数。\n\n接下来一行 $m $ 个整数，每两个整数之间用一个空格隔开，分别表示这 $m$ 个军队所驻扎的城市的编号。", "outputFormat": "一个整数，表示控制疫情所需要的最少时间。如果无法控制疫情则输出 $-1$。", "hint": "【输入输出样例说明】\n\n第一支军队在 $2$ 号点设立检查点，第二支军队从 $2$ 号点移动到 $3$ 号点设立检查点，所需时间为 $3$ 个小时。\n\n \n【数据范围】\n\n保证军队不会驻扎在首都。\n\n- 对于 $20\\%$ 的数据，$2 \\le n\\le 10$；\n- 对于 $40\\%$ 的数据，$2 \\le n\\le 50$，$0<w <10^5$；\n- 对于 $60\\%$ 的数据，$2 \\le n\\le 1000$，$0<w <10^6$；\n- 对于 $80\\%$ 的数据，$2 \\le n\\le 10^4$；\n- 对于 $100\\%$ 的数据，$2\\le m\\le n≤5\\times 10^4$，$0<w <10^9$。\n\n\nNOIP 2012 提高组 第二天 第三题", "locale": "zh-CN"}}}
{"pid": "P1085", "type": "P", "difficulty": 1, "samples": [["5 3\n6 2\n7 2\n5 3\n5 4\n0 4\n0 6\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2004", "NOIP 普及组", "枚举"], "title": "[NOIP 2004 普及组] 不高兴的津津", "background": "", "description": "津津上初中了。妈妈认为津津应该更加用功学习，所以津津除了上学之外，还要参加妈妈为她报名的各科复习班。另外每周妈妈还会送她去学习朗诵、舞蹈和钢琴。但是津津如果一天上课超过八个小时就会不高兴，而且上得越久就会越不高兴。假设津津不会因为其它事不高兴，并且她的不高兴不会持续到第二天。请你帮忙检查一下津津下周的日程安排，看看下周她会不会不高兴；如果会的话，哪天最不高兴。\n", "inputFormat": "输入包括 $7$ 行数据，分别表示周一到周日的日程安排。每行包括两个小于 $10$ 的非负整数，用空格隔开，分别表示津津在学校上课的时间和妈妈安排她上课的时间。\n", "outputFormat": "一个数字。如果不会不高兴则输出 $0$，如果会则输出最不高兴的是周几（用 $1, 2, 3, 4, 5, 6, 7$ 分别表示周一，周二，周三，周四，周五，周六，周日）。如果有两天或两天以上不高兴的程度相当，则输出时间最靠前的一天。\n", "hint": "NOIP2004 普及组第 1 题\n\n- 2021-10-27：增加一组 hack 数据\n- 2022-06-05：又增加一组 hack 数据", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Junior] Unhappy Jinjin", "background": null, "description": "Jinjin has started middle school. Her mom thinks she should study harder, so besides going to school, Jinjin also has to attend various review classes that her mom signed her up for. In addition, each week her mom sends her to study recitation, dance, and piano. However, if Jinjin has more than eight hours of classes in a day, she will be unhappy, and the longer she studies, the more unhappy she becomes. Assume Jinjin will not be unhappy for other reasons, and her unhappiness does not carry over to the next day. Please check Jinjin’s schedule for next week and determine whether she will be unhappy; if so, on which day she will be the most unhappy.", "inputFormat": "The input consists of $7$ lines, representing Monday through Sunday. Each line contains two non-negative integers less than $10$, separated by a space, indicating the hours Jinjin spends in school and the hours in the classes arranged by her mother.", "outputFormat": "Output a single integer. Output $0$ if she will not be unhappy; otherwise, output the day of the week on which she is the most unhappy (use $1, 2, 3, 4, 5, 6, 7$ to denote Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday, respectively). If two or more days have the same degree of unhappiness, output the earliest one.", "hint": "NOIP 2004 Junior Problem 1.\n\n- 2021-10-27: Added a hack testdata set.\n- 2022-06-05: Added another hack testdata set.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 普及组] 不高兴的津津", "background": "", "description": "津津上初中了。妈妈认为津津应该更加用功学习，所以津津除了上学之外，还要参加妈妈为她报名的各科复习班。另外每周妈妈还会送她去学习朗诵、舞蹈和钢琴。但是津津如果一天上课超过八个小时就会不高兴，而且上得越久就会越不高兴。假设津津不会因为其它事不高兴，并且她的不高兴不会持续到第二天。请你帮忙检查一下津津下周的日程安排，看看下周她会不会不高兴；如果会的话，哪天最不高兴。\n", "inputFormat": "输入包括 $7$ 行数据，分别表示周一到周日的日程安排。每行包括两个小于 $10$ 的非负整数，用空格隔开，分别表示津津在学校上课的时间和妈妈安排她上课的时间。\n", "outputFormat": "一个数字。如果不会不高兴则输出 $0$，如果会则输出最不高兴的是周几（用 $1, 2, 3, 4, 5, 6, 7$ 分别表示周一，周二，周三，周四，周五，周六，周日）。如果有两天或两天以上不高兴的程度相当，则输出时间最靠前的一天。\n", "hint": "NOIP2004 普及组第 1 题\n\n- 2021-10-27：增加一组 hack 数据\n- 2022-06-05：又增加一组 hack 数据", "locale": "zh-CN"}}}
{"pid": "P1086", "type": "P", "difficulty": 2, "samples": [["6 7 21\n0 0 0 0 0 0 0\n0 0 0 0 13 0 0\n0 0 0 0 0 0 7\n0 15 0 0 0 0 0\n0 0 0 9 0 0 0\n0 0 0 0 0 0 0", "37"], ["6 7 20\n0 0 0 0 0 0 0\n0 0 0 0 13 0 0\n0 0 0 0 0 0 7\n0 15 0 0 0 0 0\n0 0 0 9 0 0 0\n0 0 0 0 0 0 0\n", "28"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "2004", "NOIP 普及组"], "title": "[NOIP 2004 普及组] 花生采摘", "background": null, "description": "鲁宾逊先生有一只宠物猴，名叫多多。这天，他们两个正沿着乡间小路散步，突然发现路边的告示牌上贴着一张小小的纸条：“欢迎免费品尝我种的花生！――熊字”。\n\n鲁宾逊先生和多多都很开心，因为花生正是他们的最爱。在告示牌背后，路边真的有一块花生田，花生植株整齐地排列成矩形网格（如图一）。有经验的多多一眼就能看出，每棵花生植株下的花生有多少。为了训练多多的算术，鲁宾逊先生说：“你先找出花生最多的植株，去采摘它的花生；然后再找出剩下的植株里花生最多的，去采摘它的花生；依此类推，不过你一定要在我限定的时间内回到路边。”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/unwk7hd0.png)\n\n我们假定多多在每个单位时间内，可以做下列四件事情中的一件：\n\n1) 从路边跳到最靠近路边（即第一行）的某棵花生植株；\n2) 从一棵植株跳到前后左右与之相邻的另一棵植株；\n3) 采摘一棵植株下的花生；\n4) 从最靠近路边（即第一行）的某棵花生植株跳回路边。\n\n现在给定一块花生田的大小和花生的分布，请问在限定时间内，多多最多可以采到多少个花生？注意可能只有部分植株下面长有花生，假设这些植株下的花生个数各不相同。\n\n例如，在图 2 所示的花生田里，只有位于 $(2, 5), (3, 7), (4, 2), (5, 4)$ 的植株下长有花生，个数分别为 $13, 7, 15, 9$。沿着图示的路线，多多在 $21$ 个单位时间内，最多可以采到 $37$ 个花生。\n\n**注意：在采摘过程中不能回到路边。**", "inputFormat": "第一行包括三个整数 $M,N,K$，其间以空格隔开，表示花生田的大小为 $M  \\times N$，多多采花生的限定时间为 $K$ 个单位时间。\n\n接下来的 $M$ 行，每行包括 $N$ 个非负整数，也用空格隔开。第 $i + 1$ 行的第 $j$ 个整数 $P_{i,j}$ 表示花生田中植株 $(i, j)$ 下花生的数目，$0$ 表示该植株下没有花生。", "outputFormat": "一个整数，即在限定时间内，多多最多可以采到花生的个数。", "hint": "noip2004普及组第2题\n\n对于 $100\\%$ 的数据，$1  \\le M, N  \\le 20,0  \\le K  \\le  1000,0  \\le P_{i,j}  \\le 500$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Junior] Peanut Picking", "background": null, "description": "Mr. Robinson has a pet monkey named Dodo. One day, while they were walking along a country road, they found a small note on a roadside sign: “Welcome to taste my peanuts for free! — Xiong.”\n\nThey were happy because peanuts are their favorite. Behind the sign, there is indeed a peanut field by the roadside, where peanut plants are arranged in a rectangular grid (see Figure 1). Experienced Dodo can tell how many peanuts are under each plant at a glance. To train Dodo’s arithmetic, Mr. Robinson says: “First find the plant with the most peanuts and pick its peanuts; then among the remaining plants, find the one with the most peanuts and pick it; and so on. But you must return to the roadside within the time limit I set.”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/unwk7hd0.png)\n\nWe assume that in each unit of time, Dodo can do exactly one of the following four actions:\n1) Jump from the roadside to some peanut plant in the first row (i.e., the row closest to the roadside).\n2) Jump from one plant to another plant adjacent to it in the up, down, left, or right direction.\n3) Pick the peanuts under the current plant.\n4) Jump from some plant in the first row back to the roadside.\n\nGiven the size of the peanut field and the distribution of peanuts, compute the maximum number of peanuts Dodo can pick within the time limit. Note that only some plants may have peanuts under them. Assume that the numbers of peanuts on those plants are pairwise distinct.\n\nFor example, in the peanut field shown in Figure 2, only the plants at $(2, 5), (3, 7), (4, 2), (5, 4)$ have peanuts, in quantities $13, 7, 15, 9$, respectively. Along the illustrated route, Dodo can pick at most $37$ peanuts within $21$ units of time.\n\n**Note: You may not return to the roadside during the picking process.**", "inputFormat": "The first line contains three integers $M, N, K$, separated by spaces, indicating that the field size is $M \\times N$ and the time limit is $K$ units.\n\nThe next $M$ lines each contain $N$ non-negative integers, also separated by spaces. In the $(i + 1)$-th line, the $j$-th integer $P_{i,j}$ denotes the number of peanuts under plant $(i, j)$; $0$ means that plant has no peanuts.", "outputFormat": "Output a single integer: the maximum number of peanuts Dodo can pick within the time limit.", "hint": "NOIP 2004 Junior, Problem 2.\n\nConstraints: For $100\\%$ of the testdata, $1 \\le M, N \\le 20$, $0 \\le K \\le 1000$, $0 \\le P_{i,j} \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 普及组] 花生采摘", "background": null, "description": "鲁宾逊先生有一只宠物猴，名叫多多。这天，他们两个正沿着乡间小路散步，突然发现路边的告示牌上贴着一张小小的纸条：“欢迎免费品尝我种的花生！――熊字”。\n\n鲁宾逊先生和多多都很开心，因为花生正是他们的最爱。在告示牌背后，路边真的有一块花生田，花生植株整齐地排列成矩形网格（如图一）。有经验的多多一眼就能看出，每棵花生植株下的花生有多少。为了训练多多的算术，鲁宾逊先生说：“你先找出花生最多的植株，去采摘它的花生；然后再找出剩下的植株里花生最多的，去采摘它的花生；依此类推，不过你一定要在我限定的时间内回到路边。”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/unwk7hd0.png)\n\n我们假定多多在每个单位时间内，可以做下列四件事情中的一件：\n\n1) 从路边跳到最靠近路边（即第一行）的某棵花生植株；\n2) 从一棵植株跳到前后左右与之相邻的另一棵植株；\n3) 采摘一棵植株下的花生；\n4) 从最靠近路边（即第一行）的某棵花生植株跳回路边。\n\n现在给定一块花生田的大小和花生的分布，请问在限定时间内，多多最多可以采到多少个花生？注意可能只有部分植株下面长有花生，假设这些植株下的花生个数各不相同。\n\n例如，在图 2 所示的花生田里，只有位于 $(2, 5), (3, 7), (4, 2), (5, 4)$ 的植株下长有花生，个数分别为 $13, 7, 15, 9$。沿着图示的路线，多多在 $21$ 个单位时间内，最多可以采到 $37$ 个花生。\n\n**注意：在采摘过程中不能回到路边。**", "inputFormat": "第一行包括三个整数 $M,N,K$，其间以空格隔开，表示花生田的大小为 $M  \\times N$，多多采花生的限定时间为 $K$ 个单位时间。\n\n接下来的 $M$ 行，每行包括 $N$ 个非负整数，也用空格隔开。第 $i + 1$ 行的第 $j$ 个整数 $P_{i,j}$ 表示花生田中植株 $(i, j)$ 下花生的数目，$0$ 表示该植株下没有花生。", "outputFormat": "一个整数，即在限定时间内，多多最多可以采到花生的个数。", "hint": "noip2004普及组第2题\n\n对于 $100\\%$ 的数据，$1  \\le M, N  \\le 20,0  \\le K  \\le  1000,0  \\le P_{i,j}  \\le 500$。", "locale": "zh-CN"}}}
{"pid": "P1087", "type": "P", "difficulty": 2, "samples": [["3\n10001011\n", "IBFBBBFIBFIIIFF\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "搜索", "树形数据结构", "2004", "递归", "NOIP 普及组", "构造"], "title": "[NOIP 2004 普及组] FBI 树", "background": "", "description": "我们可以把由 0 和 1 组成的字符串分为三类：全 0 串称为 B 串，全 1 串称为 I 串，既含 0 又含 1 的串则称为 F 串。\n\nFBI 树是一种二叉树，它的结点类型也包括 F 结点，B 结点和 I 结点三种。由一个长度为 $2^N$ 的 01 串 $S$ 可以构造出一棵 FBI 树 $T$，递归的构造方法如下：\n\n1. $T$ 的根结点为 $R$，其类型与串 $S$ 的类型相同；\n2. 若串 $S$ 的长度大于 $1$，将串 $S$ 从中间分开，分为等长的左右子串 $S_1$ 和 $S_2$；由左子串 $S_1$ 构造 $R$ 的左子树 $T_1$，由右子串 $S_2$ 构造 $R$ 的右子树 $T_2$。\n\n现在给定一个长度为 $2^N$ 的 01 串，请用上述构造方法构造出一棵 FBI 树，并输出它的后序遍历序列。\n", "inputFormat": "第一行是一个整数 $N(0 \\le N \\le 10)$，  \n\n第二行是一个长度为 $2^N$ 的 01 串。\n", "outputFormat": "一个字符串，即 FBI 树的后序遍历序列。\n", "hint": "对于 $40\\%$ 的数据，$N \\le 2$；\n\n对于全部的数据，$N \\le 10$。\n\n\nnoip2004普及组第3题\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Junior] FBI Tree", "background": null, "description": "We can divide strings composed of 0 and 1 into three categories: an all-0 string is called a B string, an all-1 string is called an I string, and a string that contains both 0 and 1 is called an F string.\n\nAn FBI tree is a binary tree whose node types are F, B, and I. Given a binary string $S$ of length $2^N$, an FBI tree $T$ can be constructed recursively as follows:\n1. Let $R$ be the root of $T$, and set its type to be the same as the type of $S$.\n2. If the length of $S$ is greater than 1, split $S$ in the middle into equal-length left and right substrings $S_1$ and $S_2$. Construct the left subtree $T_1$ of $R$ from $S_1$, and the right subtree $T_2$ of $R$ from $S_2$.\n\nGiven a binary string of length $2^N$, construct an FBI tree using the method above and output its postorder traversal sequence.", "inputFormat": "The first line contains an integer $N (0 \\le N \\le 10)$.  \nThe second line contains a binary string of length $2^N$.", "outputFormat": "A single string, i.e., the postorder traversal sequence of the FBI tree.", "hint": "For 40% of the testdata, $N \\le 2$.  \nFor all the testdata, $N \\le 10$.  \nThis is the 3rd problem of NOIP 2004 Junior.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 普及组] FBI 树", "background": "", "description": "我们可以把由 0 和 1 组成的字符串分为三类：全 0 串称为 B 串，全 1 串称为 I 串，既含 0 又含 1 的串则称为 F 串。\n\nFBI 树是一种二叉树，它的结点类型也包括 F 结点，B 结点和 I 结点三种。由一个长度为 $2^N$ 的 01 串 $S$ 可以构造出一棵 FBI 树 $T$，递归的构造方法如下：\n\n1. $T$ 的根结点为 $R$，其类型与串 $S$ 的类型相同；\n2. 若串 $S$ 的长度大于 $1$，将串 $S$ 从中间分开，分为等长的左右子串 $S_1$ 和 $S_2$；由左子串 $S_1$ 构造 $R$ 的左子树 $T_1$，由右子串 $S_2$ 构造 $R$ 的右子树 $T_2$。\n\n现在给定一个长度为 $2^N$ 的 01 串，请用上述构造方法构造出一棵 FBI 树，并输出它的后序遍历序列。\n", "inputFormat": "第一行是一个整数 $N(0 \\le N \\le 10)$，  \n\n第二行是一个长度为 $2^N$ 的 01 串。\n", "outputFormat": "一个字符串，即 FBI 树的后序遍历序列。\n", "hint": "对于 $40\\%$ 的数据，$N \\le 2$；\n\n对于全部的数据，$N \\le 10$。\n\n\nnoip2004普及组第3题\n", "locale": "zh-CN"}}}
{"pid": "P1088", "type": "P", "difficulty": 2, "samples": [["5\n3\n1 2 3 4 5\n", "1 2 4 5 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "数学", "2004", "NOIP 普及组", "排序"], "title": "[NOIP 2004 普及组] 火星人", "background": null, "description": "人类终于登上了火星的土地并且见到了神秘的火星人。人类和火星人都无法理解对方的语言，但是我们的科学家发明了一种用数字交流的方法。这种交流方法是这样的，首先，火星人把一个非常大的数字告诉人类科学家，科学家破解这个数字的含义后，再把一个很小的数字加到这个大数上面，把结果告诉火星人，作为人类的回答。\n\n火星人用一种非常简单的方式来表示数字――掰手指。火星人只有一只手，但这只手上有成千上万的手指，这些手指排成一列，分别编号为 $1,2,3,\\cdots$。火星人的任意两根手指都能随意交换位置，他们就是通过这方法计数的。\n\n一个火星人用一个人类的手演示了如何用手指计数。如果把五根手指――拇指、食指、中指、无名指和小指分别编号为 $1,2,3,4$ 和 $5$，当它们按正常顺序排列时，形成了 $5$ 位数 $12345$，当你交换无名指和小指的位置时，会形成 $5$ 位数 $12354$，当你把五个手指的顺序完全颠倒时，会形成 $54321$，在所有能够形成的 $120$ 个 $5$ 位数中，$12345$ 最小，它表示 $1$；$12354$ 第二小，它表示 $2$；$54321$ 最大，它表示 $120$。下表展示了只有 $3$ 根手指时能够形成的 $6$ 个 $3$ 位数和它们代表的数字：\n\n\n| 三位数 | 代表的数字 |\n|:-:|:-:|\n| $123$ | $1$ |\n| $132$ | $2$ |\n| $213$ | $3$ |\n| $231$ | $4$ |\n| $312$ | $5$ |\n| $321$ | $6$ |\n\n现在你有幸成为了第一个和火星人交流的地球人。一个火星人会让你看他的手指，科学家会告诉你要加上去的很小的数。你的任务是，把火星人用手指表示的数与科学家告诉你的数相加，并根据相加的结果改变火星人手指的排列顺序。输入数据保证这个结果不会超出火星人手指能表示的范围。", "inputFormat": "共三行。  \n第一行一个正整数 $N$，表示火星人手指的数目（$1 \\le N \\le 10000$）。  \n第二行是一个正整数 $M$，表示要加上去的小整数（$1  \\le  M  \\le  100$）。  \n下一行是 $1$ 到 $N$ 这 $N$ 个整数的一个排列，用空格隔开，表示火星人手指的排列顺序。", "outputFormat": "$N$ 个整数，表示改变后的火星人手指的排列顺序。每两个相邻的数中间用一个空格分开，不能有多余的空格。", "hint": "对于 $30\\%$ 的数据，$N \\le 15$。\n\n对于 $60\\%$ 的数据，$N \\le 50$。\n\n对于 $100\\%$ 的数据，$N \\le 10000$。\n\nnoip2004 普及组第 4 题", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Junior] Martians", "background": null, "description": "Humans have finally set foot on Mars and met the mysterious Martians. Humans and Martians cannot understand each other's language, but our scientists invented a way to communicate using numbers. The method is as follows: first, the Martian tells the human scientist a very large number. After deciphering its meaning, the scientist adds a very small number to it and tells the result to the Martian as the human's reply.\n\nMartians represent numbers in a very simple way—by bending their fingers. A Martian has only one hand, but this hand has thousands upon thousands of fingers arranged in a line, numbered $1,2,3,\\cdots$. Any two fingers can be swapped arbitrarily, and this is how they count.\n\nA Martian demonstrated finger counting using a human hand. If the five fingers—thumb, index, middle, ring, and little finger—are numbered $1,2,3,4$ and $5$, then when they are in normal order, they form the $5$-digit number $12345$. If you swap the ring and little finger, you get $12354$. If you completely reverse the order of the five fingers, you get $54321$. Among all $120$ possible $5$-digit numbers that can be formed, $12345$ is the smallest and represents $1$; $12354$ is the second smallest and represents $2$; $54321$ is the largest and represents $120$. The table below shows the $6$ possible $3$-digit numbers when there are only $3$ fingers, and the numbers they represent:\n\n| Three-digit number | Represented number |\n|:-:|:-:|\n| $123$ | $1$ |\n| $132$ | $2$ |\n| $213$ | $3$ |\n| $231$ | $4$ |\n| $312$ | $5$ |\n| $321$ | $6$ |\n\nNow you have the honor of being the first human to communicate with a Martian. A Martian will show you his fingers, and the scientists will tell you a small number to add. Your task is to add the number represented by the Martian’s fingers to the number given by the scientists, and then rearrange the Martian’s fingers according to the result. The input guarantees that the result will not exceed the range representable by the Martian’s fingers.", "inputFormat": "There are three lines.  \nThe first line contains a positive integer $N$, the number of the Martian’s fingers ($1 \\le N \\le 10000$).  \nThe second line contains a positive integer $M$, the small integer to add ($1 \\le M \\le 100$).  \nThe third line contains a permutation of the $N$ integers from $1$ to $N$, separated by spaces, representing the order of the Martian’s fingers.", "outputFormat": "Output $N$ integers, the new order of the Martian’s fingers after the change. Separate adjacent numbers with a single space, and do not print extra spaces.", "hint": "For $30\\%$ of the testdata, $N \\le 15$.  \nFor $60\\%$ of the testdata, $N \\le 50$.  \nFor $100\\%$ of the testdata, $N \\le 10000$.\n\nNOIP 2004 Junior Problem 4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 普及组] 火星人", "background": null, "description": "人类终于登上了火星的土地并且见到了神秘的火星人。人类和火星人都无法理解对方的语言，但是我们的科学家发明了一种用数字交流的方法。这种交流方法是这样的，首先，火星人把一个非常大的数字告诉人类科学家，科学家破解这个数字的含义后，再把一个很小的数字加到这个大数上面，把结果告诉火星人，作为人类的回答。\n\n火星人用一种非常简单的方式来表示数字――掰手指。火星人只有一只手，但这只手上有成千上万的手指，这些手指排成一列，分别编号为 $1,2,3,\\cdots$。火星人的任意两根手指都能随意交换位置，他们就是通过这方法计数的。\n\n一个火星人用一个人类的手演示了如何用手指计数。如果把五根手指――拇指、食指、中指、无名指和小指分别编号为 $1,2,3,4$ 和 $5$，当它们按正常顺序排列时，形成了 $5$ 位数 $12345$，当你交换无名指和小指的位置时，会形成 $5$ 位数 $12354$，当你把五个手指的顺序完全颠倒时，会形成 $54321$，在所有能够形成的 $120$ 个 $5$ 位数中，$12345$ 最小，它表示 $1$；$12354$ 第二小，它表示 $2$；$54321$ 最大，它表示 $120$。下表展示了只有 $3$ 根手指时能够形成的 $6$ 个 $3$ 位数和它们代表的数字：\n\n\n| 三位数 | 代表的数字 |\n|:-:|:-:|\n| $123$ | $1$ |\n| $132$ | $2$ |\n| $213$ | $3$ |\n| $231$ | $4$ |\n| $312$ | $5$ |\n| $321$ | $6$ |\n\n现在你有幸成为了第一个和火星人交流的地球人。一个火星人会让你看他的手指，科学家会告诉你要加上去的很小的数。你的任务是，把火星人用手指表示的数与科学家告诉你的数相加，并根据相加的结果改变火星人手指的排列顺序。输入数据保证这个结果不会超出火星人手指能表示的范围。", "inputFormat": "共三行。  \n第一行一个正整数 $N$，表示火星人手指的数目（$1 \\le N \\le 10000$）。  \n第二行是一个正整数 $M$，表示要加上去的小整数（$1  \\le  M  \\le  100$）。  \n下一行是 $1$ 到 $N$ 这 $N$ 个整数的一个排列，用空格隔开，表示火星人手指的排列顺序。", "outputFormat": "$N$ 个整数，表示改变后的火星人手指的排列顺序。每两个相邻的数中间用一个空格分开，不能有多余的空格。", "hint": "对于 $30\\%$ 的数据，$N \\le 15$。\n\n对于 $60\\%$ 的数据，$N \\le 50$。\n\n对于 $100\\%$ 的数据，$N \\le 10000$。\n\nnoip2004 普及组第 4 题", "locale": "zh-CN"}}}
{"pid": "P1089", "type": "P", "difficulty": 1, "samples": [["290\n230\n280\n200\n300\n170\n340\n50 \n90 \n80 \n200\n60 \n", "-7 \n"], ["290 \n230 \n280 \n200 \n300 \n170 \n330 \n50 \n90 \n80 \n200 \n60 \n", "1580\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2004", "NOIP 提高组", "枚举"], "title": "[NOIP 2004 提高组] 津津的储蓄计划", "background": "", "description": "津津的零花钱一直都是自己管理。每个月的月初妈妈给津津 $300$ 元钱，津津会预算这个月的花销，并且总能做到实际花销和预算的相同。\n\n为了让津津学习如何储蓄，妈妈提出，津津可以随时把整百的钱存在她那里，到了年末她会加上 $20\\%$ 还给津津。因此津津制定了一个储蓄计划：每个月的月初，在得到妈妈给的零花钱后，如果她预计到这个月的月末手中还会有多于 $100$ 元或恰好 $100$ 元，她就会把整百的钱存在妈妈那里，剩余的钱留在自己手中。\n\n\n例如 $11$月初津津手中还有 $83$ 元，妈妈给了津津 $300$ 元。津津预计$11$月的花销是 $180$ 元，那么她就会在妈妈那里存 $200$ 元，自己留下 $183$ 元。到了 $11$ 月月末，津津手中会剩下 $3$ 元钱。\n\n\n津津发现这个储蓄计划的主要风险是，存在妈妈那里的钱在年末之前不能取出。有可能在某个月的月初，津津手中的钱加上这个月妈妈给的钱，不够这个月的原定预算。如果出现这种情况，津津将不得不在这个月省吃俭用，压缩预算。\n\n\n现在请你根据 $2004$ 年 $1$ 月到 $12$ 月每个月津津的预算，判断会不会出现这种情况。如果不会，计算到 $2004$ 年年末，妈妈将津津平常存的钱加上 $20\\%$ 还给津津之后，津津手中会有多少钱。\n", "inputFormat": "$12$ 行数据，每行包含一个小于 $350$ 的非负整数，分别表示 $1$ 月到 $12$ 月津津的预算。\n", "outputFormat": "一个整数。如果储蓄计划实施过程中出现某个月钱不够用的情况，输出 $-X$，$X$ 表示出现这种情况的第一个月；否则输出到 $2004$ 年年末津津手中会有多少钱。\n\n注意，洛谷不需要进行文件输入输出，而是标准输入输出。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Senior] Jinjin's Savings Plan", "background": null, "description": "Jinjin manages her pocket money by herself. At the beginning of each month, mom gives Jinjin $300$ yuan. Jinjin makes a budget for that month’s expenses, and she always keeps the actual expenses equal to the budget.\n\nTo teach Jinjin how to save, mom proposes that Jinjin may deposit any whole hundreds with her at any time, and at year end she will add $20\\%$ and return it to Jinjin. Therefore, Jinjin makes a savings plan: at the beginning of each month, after receiving the pocket money from mom, if she expects that by the end of this month she will have at least $100$ yuan left on hand, she will deposit all the full hundreds with mom, keeping the remainder herself.\n\nFor example, at the beginning of month $11$, Jinjin still has $83$ yuan on hand, and mom gives $300$ yuan. Jinjin plans to spend $180$ yuan in month $11$, so she deposits $200$ yuan with mom and keeps $183$ yuan. By the end of month $11$, Jinjin will have $3$ yuan left.\n\nJinjin finds that the main risk of this savings plan is that the money deposited with mom cannot be withdrawn before year end. It may happen that at the beginning of some month, the money Jinjin has on hand plus this month’s money from mom is not enough for that month’s original budget. If this happens, Jinjin will have to scrimp that month and cut the budget.\n\nNow, given Jinjin’s monthly budgets from January to December of year $2004$, determine whether such a situation occurs. If not, compute how much money Jinjin will have on hand at the end of year $2004$, after mom returns the deposited money plus $20\\%$ to Jinjin.", "inputFormat": "$12$ lines of data, each containing a non-negative integer less than $350$, representing the budgets for months $1$ through $12$.", "outputFormat": "A single integer. If, during the implementation of the savings plan, there is a month when the money is not enough, output $-X$, where $X$ is the first such month; otherwise, output how much money Jinjin will have on hand at the end of year $2004$.\n\nNote that on Luogu you should use standard input and output, not file I/O.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 提高组] 津津的储蓄计划", "background": "", "description": "津津的零花钱一直都是自己管理。每个月的月初妈妈给津津 $300$ 元钱，津津会预算这个月的花销，并且总能做到实际花销和预算的相同。\n\n为了让津津学习如何储蓄，妈妈提出，津津可以随时把整百的钱存在她那里，到了年末她会加上 $20\\%$ 还给津津。因此津津制定了一个储蓄计划：每个月的月初，在得到妈妈给的零花钱后，如果她预计到这个月的月末手中还会有多于 $100$ 元或恰好 $100$ 元，她就会把整百的钱存在妈妈那里，剩余的钱留在自己手中。\n\n\n例如 $11$月初津津手中还有 $83$ 元，妈妈给了津津 $300$ 元。津津预计$11$月的花销是 $180$ 元，那么她就会在妈妈那里存 $200$ 元，自己留下 $183$ 元。到了 $11$ 月月末，津津手中会剩下 $3$ 元钱。\n\n\n津津发现这个储蓄计划的主要风险是，存在妈妈那里的钱在年末之前不能取出。有可能在某个月的月初，津津手中的钱加上这个月妈妈给的钱，不够这个月的原定预算。如果出现这种情况，津津将不得不在这个月省吃俭用，压缩预算。\n\n\n现在请你根据 $2004$ 年 $1$ 月到 $12$ 月每个月津津的预算，判断会不会出现这种情况。如果不会，计算到 $2004$ 年年末，妈妈将津津平常存的钱加上 $20\\%$ 还给津津之后，津津手中会有多少钱。\n", "inputFormat": "$12$ 行数据，每行包含一个小于 $350$ 的非负整数，分别表示 $1$ 月到 $12$ 月津津的预算。\n", "outputFormat": "一个整数。如果储蓄计划实施过程中出现某个月钱不够用的情况，输出 $-X$，$X$ 表示出现这种情况的第一个月；否则输出到 $2004$ 年年末津津手中会有多少钱。\n\n注意，洛谷不需要进行文件输入输出，而是标准输入输出。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1090", "type": "P", "difficulty": 3, "samples": [["3 \n1 2 9 \n", "15\n"]], "limits": {"time": [800, 800, 800, 800, 800, 800, 800, 800, 800, 800], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2004", "堆", "NOIP 提高组", "优先队列"], "title": "[NOIP 2004 提高组] 合并果子", "background": "[P6033](https://www.luogu.com.cn/problem/P6033) 为本题加强版。", "description": "在一个果园里，多多已经将所有的果子打了下来，而且按果子的不同种类分成了不同的堆。多多决定把所有的果子合成一堆。\n\n每一次合并，多多可以把两堆果子合并到一起，消耗的体力等于两堆果子的重量之和。可以看出，所有的果子经过 $n-1$ 次合并之后， 就只剩下一堆了。多多在合并果子时总共消耗的体力等于每次合并所耗体力之和。\n\n因为还要花大力气把这些果子搬回家，所以多多在合并果子时要尽可能地节省体力。假定每个果子重量都为 $1$，并且已知果子的种类 数和每种果子的数目，你的任务是设计出合并的次序方案，使多多耗费的体力最少，并输出这个最小的体力耗费值。\n\n例如有 $3$ 种果子，数目依次为 $1$，$2$，$9$。可以先将 $1$、$2$ 堆合并，新堆数目为 $3$，耗费体力为 $3$ 。接着，将新堆与原先的第三堆合并，又得到新的堆，数目为 $12$，耗费体力为 $12$。所以多多总共耗费体力 $=3+12=15$。可以证明 $15$ 为最小的体力耗费值。", "inputFormat": "共两行。  \n\n第一行是一个整数 $n(1\\leq n\\leq 10^4)$，表示果子的种类数。  \n\n第二行包含 $n$ 个整数，用空格分隔，第 $i$ 个整数 $a_i(1\\leq a_i\\leq 2\\times 10^4)$ 是第 $i$ 种果子的数目。", "outputFormat": "一个整数，也就是最小的体力耗费值。输入数据保证这个值小于 $2^{31}$。", "hint": "对于 $30\\%$ 的数据，保证有 $n \\le 10^3$；\n\n对于 $50\\%$ 的数据，保证有 $n \\le 5\\times10^3$；\n\n对于全部的数据，保证有 $n \\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Senior] Merging Fruits", "background": null, "description": "In an orchard, Duoduo has already knocked down all the fruits and separated them into different piles by type. Duoduo decides to merge all the fruits into a single pile.\n\nIn each merge, Duoduo can combine two piles of fruits, and the effort spent equals the sum of the weights of the two piles. It is clear that after $n-1$ merges, there will be only one pile left. The total effort spent by Duoduo when merging the fruits equals the sum of the efforts of each merge.\n\nBecause it also takes a lot of effort to carry these fruits home, Duoduo wants to save as much effort as possible when merging. Assume each fruit has weight $1$, and you are given the number of types of fruits and the count of each type. Your task is to design a merging order that minimizes the total effort and output this minimum effort.\n\nFor example, there are $3$ types of fruits, with counts $1$, $2$, and $9$. You can first merge the $1$ and $2$ piles to get a new pile of $3$, costing $3$ effort. Then merge this new pile with the original third pile to get a new pile of $12$, costing $12$ effort. So the total effort equals $=3+12=15$. It can be proven that $15$ is the minimum total effort.", "inputFormat": "Two lines.\nThe first line is an integer $n(1\\leq n\\leq 10000)$, representing the number of fruit types.\nThe second line contains $n$ integers separated by spaces. The $i$-th integer $a_i(1\\leq a_i\\leq 20000)$ is the number of fruits of type $i$.", "outputFormat": "A single integer, which is the minimum total effort. The input guarantees that this value is less than $2^{31}$.", "hint": "Constraints:\n- For $30\\%$ of the testdata, $n \\le 1000$.\n- For $50\\%$ of the testdata, $n \\le 5000$.\n- For all testdata, $n \\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 提高组] 合并果子", "background": "[P6033](https://www.luogu.com.cn/problem/P6033) 为本题加强版。", "description": "在一个果园里，多多已经将所有的果子打了下来，而且按果子的不同种类分成了不同的堆。多多决定把所有的果子合成一堆。\n\n每一次合并，多多可以把两堆果子合并到一起，消耗的体力等于两堆果子的重量之和。可以看出，所有的果子经过 $n-1$ 次合并之后， 就只剩下一堆了。多多在合并果子时总共消耗的体力等于每次合并所耗体力之和。\n\n因为还要花大力气把这些果子搬回家，所以多多在合并果子时要尽可能地节省体力。假定每个果子重量都为 $1$，并且已知果子的种类 数和每种果子的数目，你的任务是设计出合并的次序方案，使多多耗费的体力最少，并输出这个最小的体力耗费值。\n\n例如有 $3$ 种果子，数目依次为 $1$，$2$，$9$。可以先将 $1$、$2$ 堆合并，新堆数目为 $3$，耗费体力为 $3$ 。接着，将新堆与原先的第三堆合并，又得到新的堆，数目为 $12$，耗费体力为 $12$。所以多多总共耗费体力 $=3+12=15$。可以证明 $15$ 为最小的体力耗费值。", "inputFormat": "共两行。  \n\n第一行是一个整数 $n(1\\leq n\\leq 10^4)$，表示果子的种类数。  \n\n第二行包含 $n$ 个整数，用空格分隔，第 $i$ 个整数 $a_i(1\\leq a_i\\leq 2\\times 10^4)$ 是第 $i$ 种果子的数目。", "outputFormat": "一个整数，也就是最小的体力耗费值。输入数据保证这个值小于 $2^{31}$。", "hint": "对于 $30\\%$ 的数据，保证有 $n \\le 10^3$；\n\n对于 $50\\%$ 的数据，保证有 $n \\le 5\\times10^3$；\n\n对于全部的数据，保证有 $n \\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1091", "type": "P", "difficulty": 2, "samples": [["8\n186 186 150 200 160 130 197 220\n", "4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2004", "单调队列", "NOIP 提高组", "线性 DP"], "title": "[NOIP 2004 提高组] 合唱队形", "background": "", "description": "$n$ 位同学站成一排，音乐老师要请其中的 $n-k$ 位同学出列，使得剩下的 $k$ 位同学排成合唱队形。\n\n合唱队形是指这样的一种队形：设 $k$ 位同学从左到右依次编号为 $1,2,$ … $,k$，他们的身高分别为 $t_1,t_2,$ … $,t_k$，则他们的身高满足 $t_1< \\cdots <t_i>t_{i+1}>$ … $>t_k(1\\le i\\le k)$。\n\n你的任务是，已知所有 $n$ 位同学的身高，计算最少需要几位同学出列，可以使得剩下的同学排成合唱队形。", "inputFormat": "共二行。\n\n第一行是一个整数 $n$（$2\\le n\\le100$），表示同学的总数。\n\n第二行有 $n$ 个整数，用空格分隔，第 $i$ 个整数 $t_i$（$130\\le t_i\\le230$）是第 $i$ 位同学的身高（厘米）。", "outputFormat": "一个整数，最少需要几位同学出列。\n", "hint": "对于 $50\\%$ 的数据，保证有 $n \\le 20$。\n\n对于全部的数据，保证有 $n \\le 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Senior] Chorus Formation", "background": null, "description": "$n$ students stand in a row. The music teacher will ask $n - k$ students to step out so that the remaining $k$ students form a \"chorus formation.\"\n\nA chorus formation is defined as follows: suppose the $k$ remaining students are numbered from left to right as $1, 2, \\ldots, k$, and their heights are $t_1, t_2, \\ldots, t_k$. They satisfy $t_1 < \\cdots < t_i > t_{i+1} > \\cdots > t_k \\ (1 \\le i \\le k)$.\n\nYour task is: given the heights of all $n$ students, compute the minimum number of students that must be removed so that the remaining students form a chorus formation.", "inputFormat": "Two lines.\n\n- The first line contains an integer $n$ ($2 \\le n \\le 100$), the total number of students.\n- The second line contains $n$ integers separated by spaces. The $i$-th integer $t_i$ ($130 \\le t_i \\le 230$) is the height (in centimeters) of the $i$-th student.", "outputFormat": "Output a single integer: the minimum number of students who must be removed.", "hint": "For 50% of the testdata, it is guaranteed that $n \\le 20$.\n\nFor all the testdata, it is guaranteed that $n \\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 提高组] 合唱队形", "background": "", "description": "$n$ 位同学站成一排，音乐老师要请其中的 $n-k$ 位同学出列，使得剩下的 $k$ 位同学排成合唱队形。\n\n合唱队形是指这样的一种队形：设 $k$ 位同学从左到右依次编号为 $1,2,$ … $,k$，他们的身高分别为 $t_1,t_2,$ … $,t_k$，则他们的身高满足 $t_1< \\cdots <t_i>t_{i+1}>$ … $>t_k(1\\le i\\le k)$。\n\n你的任务是，已知所有 $n$ 位同学的身高，计算最少需要几位同学出列，可以使得剩下的同学排成合唱队形。", "inputFormat": "共二行。\n\n第一行是一个整数 $n$（$2\\le n\\le100$），表示同学的总数。\n\n第二行有 $n$ 个整数，用空格分隔，第 $i$ 个整数 $t_i$（$130\\le t_i\\le230$）是第 $i$ 位同学的身高（厘米）。", "outputFormat": "一个整数，最少需要几位同学出列。\n", "hint": "对于 $50\\%$ 的数据，保证有 $n \\le 20$。\n\n对于全部的数据，保证有 $n \\le 100$。\n", "locale": "zh-CN"}}}
{"pid": "P1092", "type": "P", "difficulty": 5, "samples": [["5\nABCED\nBDACE\nEBBAA\n", "1 0 3 4 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2004", "NOIP 提高组", "深度优先搜索 DFS", "剪枝", "高斯消元"], "title": "[NOIP 2004 提高组] 虫食算", "background": "", "description": "所谓虫食算，就是原先的算式中有一部分被虫子啃掉了，需要我们根据剩下的数字来判定被啃掉的数字。来看一个简单的例子：\n\n$$\\begin{aligned}\n \\verb!43#9865#045! \\\\\n+\\qquad \\verb!8468#6633! \\\\[-1em]\\underline{\\kern{8em}} \\\\\n \\verb!44445509678! \\\\\n\\end{aligned}$$\n\n其中 `#` 号代表被虫子啃掉的数字。根据算式，我们很容易判断：第一行的两个数字分别是 $5$ 和 $3$，第二行的数字是 $5$。\n\n现在，我们对问题做两个限制：\n\n首先，我们只考虑加法的虫食算。这里的加法是 $n$ 进制加法，算式中三个数都有 $n$ 位，允许有前导的 $0$。\n\n其次，虫子把所有的数都啃光了，我们只知道哪些数字是相同的，我们将相同的数字用相同的字母表示，不同的数字用不同的字母表示。如果这个算式是 $n$ 进制的，我们就取英文字母表的前 $n$ 个大写字母来表示这个算式中的 $0$ 到 $n - 1$ 这 $n$ 个不同的数字：但是这 $n$ 个字母并不一定顺序地代表 $0$ 到 $n-1$。输入数据保证 $n$ 个字母分别至少出现一次。\n\n$$\\begin{aligned}\n \\verb!BADC! \\\\\n+\\quad \\verb!CBDA! \\\\[-1em]\\underline{\\kern{4em}} \\\\\n \\verb!DCCC! \\\\\n\\end{aligned}$$\n\n上面的算式是一个4进制的算式。很显然，我们只要让 $\\verb!ABCD!$ 分别代表 $0123$，便可以让这个式子成立了。你的任务是，对于给定的 $n$ 进制加法算式，求出 $n$ 个不同的字母分别代表的数字，使得该加法算式成立。输入数据保证有且仅有一组解。\n", "inputFormat": "输入的第一行是一个整数 $n$，代表进制数。\n\n第二到第四行，每行有一个由大写字母组成的字符串，分别代表两个加数以及和。这 $3$ 个字符串左右两端都没有空格，从左到右依次代表从高位到低位，并且恰好有 $n$ 位。\n", "outputFormat": "输出一行 $n$ 个用空格隔开的整数，分别代表 $A,B, \\dots$ 代表的数字。\n", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n \\le 10$；\n- 对于 $50\\%$ 的数据，保证 $n \\le 15$；\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 26$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2004 Senior] Cryptarithm", "background": null, "description": "A cryptarithm is an arithmetic expression where some digits have been “eaten by worms,” and we must determine the missing digits from the remaining ones. Consider a simple example:\n\n$$\\begin{aligned}\n \\verb!43#9865#045! \\\\\n+\\qquad \\verb!8468#6633! \\\\[-1em]\\underline{\\kern{8em}} \\\\\n \\verb!44445509678! \\\\\n\\end{aligned}$$\n\nHere, the character `#` denotes a missing digit. From the equation, it is easy to see that the two missing digits in the first line are 5 and 3 respectively, and the missing digit in the second line is 5.\n\nNow we add two constraints to the problem:\n\nFirst, we only consider addition cryptarithms. The addition is in base $n$. The three numbers in the expression each have $n$ digits, and leading zeros are allowed.\n\nSecond, all digits have been replaced by letters. We only know which digits are equal; equal digits are represented by the same letter, and different digits by different letters. If the addition is in base $n$, we use the first $n$ uppercase letters of the English alphabet to denote the $n$ distinct digits $0$ to $n - 1$; however, these $n$ letters do not necessarily represent $0$ to $n - 1$ in order. The input guarantees that each of the $n$ letters appears at least once.\n\n$$\\begin{aligned}\n \\verb!BADC! \\\\\n+\\quad \\verb!CBDA! \\\\[-1em]\\underline{\\kern{4em}} \\\\\n \\verb!DCCC! \\\\\n\\end{aligned}$$\n\nThe above is a base-4 equation. Clearly, if we let $\\verb!ABCD!$ represent 0123 respectively, the equation holds. Your task is: given a base-$n$ addition cryptarithm, determine which digits the $n$ different letters represent so that the addition holds. The input guarantees there is exactly one solution.", "inputFormat": "- The first line contains an integer $n$, the base.\n- The second to fourth lines each contain a string of uppercase letters, representing the two addends and the sum, respectively. These 3 strings have no spaces at either end, represent digits from high to low, and each has exactly $n$ characters.", "outputFormat": "Output one line with $n$ integers separated by spaces, representing the digits corresponding to $A, B, \\dots$ in order.", "hint": "Constraints:\n- For 30% of the testdata, $n \\le 10$.\n- For 50% of the testdata, $n \\le 15$.\n- For 100% of the testdata, $1 \\le n \\le 26$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2004 提高组] 虫食算", "background": "", "description": "所谓虫食算，就是原先的算式中有一部分被虫子啃掉了，需要我们根据剩下的数字来判定被啃掉的数字。来看一个简单的例子：\n\n$$\\begin{aligned}\n \\verb!43#9865#045! \\\\\n+\\qquad \\verb!8468#6633! \\\\[-1em]\\underline{\\kern{8em}} \\\\\n \\verb!44445509678! \\\\\n\\end{aligned}$$\n\n其中 `#` 号代表被虫子啃掉的数字。根据算式，我们很容易判断：第一行的两个数字分别是 $5$ 和 $3$，第二行的数字是 $5$。\n\n现在，我们对问题做两个限制：\n\n首先，我们只考虑加法的虫食算。这里的加法是 $n$ 进制加法，算式中三个数都有 $n$ 位，允许有前导的 $0$。\n\n其次，虫子把所有的数都啃光了，我们只知道哪些数字是相同的，我们将相同的数字用相同的字母表示，不同的数字用不同的字母表示。如果这个算式是 $n$ 进制的，我们就取英文字母表的前 $n$ 个大写字母来表示这个算式中的 $0$ 到 $n - 1$ 这 $n$ 个不同的数字：但是这 $n$ 个字母并不一定顺序地代表 $0$ 到 $n-1$。输入数据保证 $n$ 个字母分别至少出现一次。\n\n$$\\begin{aligned}\n \\verb!BADC! \\\\\n+\\quad \\verb!CBDA! \\\\[-1em]\\underline{\\kern{4em}} \\\\\n \\verb!DCCC! \\\\\n\\end{aligned}$$\n\n上面的算式是一个4进制的算式。很显然，我们只要让 $\\verb!ABCD!$ 分别代表 $0123$，便可以让这个式子成立了。你的任务是，对于给定的 $n$ 进制加法算式，求出 $n$ 个不同的字母分别代表的数字，使得该加法算式成立。输入数据保证有且仅有一组解。\n", "inputFormat": "输入的第一行是一个整数 $n$，代表进制数。\n\n第二到第四行，每行有一个由大写字母组成的字符串，分别代表两个加数以及和。这 $3$ 个字符串左右两端都没有空格，从左到右依次代表从高位到低位，并且恰好有 $n$ 位。\n", "outputFormat": "输出一行 $n$ 个用空格隔开的整数，分别代表 $A,B, \\dots$ 代表的数字。\n", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n \\le 10$；\n- 对于 $50\\%$ 的数据，保证 $n \\le 15$；\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 26$。", "locale": "zh-CN"}}}
{"pid": "P1093", "type": "P", "difficulty": 2, "samples": [["6\n90 67 80\n87 66 91\n78 89 91\n88 99 77\n67 89 64\n78 89 98\n", "6 265\n4 264\n3 258\n2 244\n1 237"], ["8\n80 89 89\n88 98 78\n90 67 80\n87 66 91\n78 89 91\n88 99 77\n67 89 64\n78 89 98", "8 265\n2 264\n6 264\n1 258\n5 258"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "2007", "NOIP 普及组", "排序"], "title": "[NOIP 2007 普及组] 奖学金", "background": "NOIP2007 普及组 T1", "description": "某小学最近得到了一笔赞助，打算拿出其中一部分为学习成绩优秀的前 $5$ 名学生发奖学金。期末，每个学生都有 $3$ 门课的成绩：语文、数学、英语。先按总分从高到低排序，如果两个同学总分相同，再按语文成绩从高到低排序，如果两个同学总分和语文成绩都相同，那么规定学号小的同学排在前面，这样，每个学生的排序是唯一确定的。\n\n任务：先根据输入的 $3$ 门课的成绩计算总分，然后按上述规则排序，最后按排名顺序输出前五名名学生的学号和总分。\n\n注意，在前 $5$ 名同学中，每个人的奖学金都不相同，因此，你必须严格按上述规则排序。例如，在某个正确答案中，如果前两行的输出数据（每行输出两个数：学号、总分) 是：\n\n```plain\n7 279  \n5 279\n```\n\n这两行数据的含义是：总分最高的两个同学的学号依次是 $7$ 号、$5$ 号。这两名同学的总分都是 $279$ (总分等于输入的语文、数学、英语三科成绩之和) ，但学号为 $7$ 的学生语文成绩更高一些。\n\n如果你的前两名的输出数据是：\n\n```plain\n5 279  \n7 279\n```\n\n则按输出错误处理，不能得分。", "inputFormat": "共 $n+1$ 行。\n\n第 $1$ 行为一个正整数 $5\\le n \\le 300$，表示该校参加评选的学生人数。\n\n第 $2$ 到 $n+1$ 行，每行有 $3$ 个用空格隔开的数字，每个数字都在 $0$ 到 $100$ 之间。第 $j$ 行的 $3$ 个数字依次表示学号为 $j-1$ 的学生的语文、数学、英语的成绩。每个学生的学号按照输入顺序编号为 $1\\sim n$（恰好是输入数据的行号减 $1$）。\n\n保证所给的数据都是正确的，不必检验。", "outputFormat": "共 $5$ 行，每行是两个用空格隔开的正整数，依次表示前 $5$ 名学生的学号和总分。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Junior] Scholarship", "background": null, "description": "An elementary school recently received sponsorship and plans to award scholarships to the top $5$ students with the best academic performance. At the end of the term, each student has scores in $3$ subjects: Chinese, Mathematics, and English. First, sort by total score in descending order. If two students have the same total score, sort by Chinese score in descending order. If both the total score and the Chinese score are the same, the student with the smaller student ID comes first. In this way, each student's ranking is uniquely determined.\n\nTask: First compute the total score from the $3$ subject scores in the input, then sort according to the rules above, and finally output the student IDs and total scores of the top five students in rank order.\n\nNote that among the top $5$ students, each person's scholarship is different, so you must strictly follow the rules above for sorting. For example, in a correct answer, if the first two lines of output data (each line outputs two numbers: student ID and total score) are:\n\n```plain\n7 279  \n5 279\n```\n\nthese two lines mean that the student IDs of the two students with the highest total scores are $7$ and $5$ in order. Both students have a total score of $279$ (the total score equals the sum of the scores in Chinese, Mathematics, and English), but the student with ID $7$ has a higher Chinese score.\n\nIf your first two lines of output are:\n\n```plain\n5 279  \n7 279\n```\n\nthen it will be judged as wrong output and you will receive no score.", "inputFormat": "There are $n+1$ lines.\n\n- The first line contains a positive integer $n \\le 300$, representing the number of students participating in the selection.\n- Lines $2$ to $n+1$ each contain $3$ space-separated integers, each between $0$ and $100$ inclusive. On line $j$, the $3$ integers are the scores of the student with ID $j-1$ in this order: Chinese, Mathematics, English. Each student's ID is numbered from $1$ to $n$ according to the input order (exactly the line number minus $1$).\n\nThe given testdata are guaranteed to be valid; no need to validate.", "outputFormat": "Output $5$ lines. Each line contains two space-separated positive integers, representing the student ID and the total score of the top $5$ students, in order.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 普及组] 奖学金", "background": "NOIP2007 普及组 T1", "description": "某小学最近得到了一笔赞助，打算拿出其中一部分为学习成绩优秀的前 $5$ 名学生发奖学金。期末，每个学生都有 $3$ 门课的成绩：语文、数学、英语。先按总分从高到低排序，如果两个同学总分相同，再按语文成绩从高到低排序，如果两个同学总分和语文成绩都相同，那么规定学号小的同学排在前面，这样，每个学生的排序是唯一确定的。\n\n任务：先根据输入的 $3$ 门课的成绩计算总分，然后按上述规则排序，最后按排名顺序输出前五名名学生的学号和总分。\n\n注意，在前 $5$ 名同学中，每个人的奖学金都不相同，因此，你必须严格按上述规则排序。例如，在某个正确答案中，如果前两行的输出数据（每行输出两个数：学号、总分) 是：\n\n```plain\n7 279  \n5 279\n```\n\n这两行数据的含义是：总分最高的两个同学的学号依次是 $7$ 号、$5$ 号。这两名同学的总分都是 $279$ (总分等于输入的语文、数学、英语三科成绩之和) ，但学号为 $7$ 的学生语文成绩更高一些。\n\n如果你的前两名的输出数据是：\n\n```plain\n5 279  \n7 279\n```\n\n则按输出错误处理，不能得分。", "inputFormat": "共 $n+1$ 行。\n\n第 $1$ 行为一个正整数 $5\\le n \\le 300$，表示该校参加评选的学生人数。\n\n第 $2$ 到 $n+1$ 行，每行有 $3$ 个用空格隔开的数字，每个数字都在 $0$ 到 $100$ 之间。第 $j$ 行的 $3$ 个数字依次表示学号为 $j-1$ 的学生的语文、数学、英语的成绩。每个学生的学号按照输入顺序编号为 $1\\sim n$（恰好是输入数据的行号减 $1$）。\n\n保证所给的数据都是正确的，不必检验。", "outputFormat": "共 $5$ 行，每行是两个用空格隔开的正整数，依次表示前 $5$ 名学生的学号和总分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1094", "type": "P", "difficulty": 2, "samples": [["100 \n9 \n90 \n20 \n20 \n30 \n50 \n60 \n70 \n80 \n90\n", "6\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2007", "NOIP 普及组", "排序", "双指针 two-pointer"], "title": "[NOIP 2007 普及组] 纪念品分组", "background": "NOIP2007 普及组 T2", "description": "元旦快到了，校学生会让乐乐负责新年晚会的纪念品发放工作。为使得参加晚会的同学所获得的纪念品价值相对均衡，他要把购来的纪念品根据价格进行分组，但每组最多只能包括两件纪念品，并且每组纪念品的价格之和不能超过一个给定的整数。为了保证在尽量短的时间内发完所有纪念品，乐乐希望分组的数目最少。\n\n你的任务是写一个程序，找出所有分组方案中分组数最少的一种，输出最少的分组数目。", "inputFormat": "共 $n+2$ 行：\n\n第一行包括一个整数 $w$，为每组纪念品价格之和的上限。\n\n第二行为一个整数 $n$，表示购来的纪念品的总件数 $G$。\n\n第 $3\\sim n+2$ 行每行包含一个正整数 $P_i$ 表示所对应纪念品的价格。", "outputFormat": "一个整数，即最少的分组数目。", "hint": "$50\\%$ 的数据满足：$1\\le n\\le15$。\n\n$100\\%$ 的数据满足：$1\\le n\\le3\\times10^4$，$80\\le w\\le200$，$5 \\le  P_i  \\le  w$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Junior] Souvenir Grouping", "background": null, "description": "New Year’s Day is coming, and the student council has tasked Lele with distributing souvenirs at the New Year’s party. To keep the value of souvenirs received by participants relatively balanced, he wants to group the purchased souvenirs by price. Each group can contain at most two souvenirs, and the sum of prices in a group cannot exceed a given integer $w$. To finish the distribution as quickly as possible, Lele wants to minimize the number of groups.\n\nYour task is to write a program that finds a grouping scheme with the minimal number of groups and outputs that minimal number.", "inputFormat": "A total of $n+2$ lines:\n\n- The first line contains an integer $w$, the upper bound on the sum of prices in each group.\n- The second line contains an integer $n$, the total number of souvenirs.\n- Lines 3 to $n+2$: each line contains a positive integer $P_i$ representing the price of the corresponding souvenir.", "outputFormat": "A single integer: the minimal number of groups.", "hint": "Constraints:\n- $50\\%$ of the testdata: $1 \\le n \\le 15$.\n- $100\\%$ of the testdata: $1 \\le n \\le 3\\times 10^4$, $80 \\le w \\le 200$, $5 \\le P_i \\le w$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 普及组] 纪念品分组", "background": "NOIP2007 普及组 T2", "description": "元旦快到了，校学生会让乐乐负责新年晚会的纪念品发放工作。为使得参加晚会的同学所获得的纪念品价值相对均衡，他要把购来的纪念品根据价格进行分组，但每组最多只能包括两件纪念品，并且每组纪念品的价格之和不能超过一个给定的整数。为了保证在尽量短的时间内发完所有纪念品，乐乐希望分组的数目最少。\n\n你的任务是写一个程序，找出所有分组方案中分组数最少的一种，输出最少的分组数目。", "inputFormat": "共 $n+2$ 行：\n\n第一行包括一个整数 $w$，为每组纪念品价格之和的上限。\n\n第二行为一个整数 $n$，表示购来的纪念品的总件数 $G$。\n\n第 $3\\sim n+2$ 行每行包含一个正整数 $P_i$ 表示所对应纪念品的价格。", "outputFormat": "一个整数，即最少的分组数目。", "hint": "$50\\%$ 的数据满足：$1\\le n\\le15$。\n\n$100\\%$ 的数据满足：$1\\le n\\le3\\times10^4$，$80\\le w\\le200$，$5 \\le  P_i  \\le  w$。", "locale": "zh-CN"}}}
{"pid": "P1095", "type": "P", "difficulty": 3, "samples": [["39 200 4\n", "No\n197\n"], ["36 255 10", "Yes\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "动态规划 DP", "贪心", "2007", "NOIP 普及组"], "title": "[NOIP 2007 普及组] 守望者的逃离", "background": "NOIP2007 普及组 T3", "description": "恶魔猎手尤迪安野心勃勃，他背叛了暗夜精灵，率领深藏在海底的娜迦族企图叛变。\n\n守望者在与尤迪安的交锋中遭遇了围杀，被困在一个荒芜的大岛上。\n\n为了杀死守望者，尤迪安开始对这个荒岛施咒，这座岛很快就会沉下去。到那时，岛上的所有人都会遇难。\n\n守望者的跑步速度为 $17\\text{m/s}$，以这样的速度是无法逃离荒岛的。庆幸的是守望者拥有闪烁法术，可在 $1\\text{s}$ 内移动 $60\\text{m}$，不过每次使用闪烁法术都会消耗魔法值 $10$ 点。守望者的魔法值恢复的速度为 $4$ 点每秒，只有处在原地休息状态时才能恢复。\n\n现在已知守望者的魔法初值 $M$，他所在的初始位置与岛的出口之间的距离 $S$，岛沉没的时间 $T$。你的任务是写一个程序帮助守望者计算如何在最短的时间内逃离荒岛，若不能逃出，则输出守望者在剩下的时间内能走的最远距离。\n\n注意：守望者跑步、闪烁或休息活动均以秒为单位，且每次活动的持续时间为整数秒。距离的单位为米。", "inputFormat": "输入数据共一行三个非负整数，分别表示 $M$，$S$，$T$。", "outputFormat": "输出数据共两行。\n\n第一行一个字符串 $\\texttt{Yes}$ 或 $\\texttt{No}$，即守望者是否能逃离荒岛。\n\n第二行包含一个整数。第一行为 $\\texttt{Yes}$ 时表示守望者逃离荒岛的最短时间；第一行为 $\\texttt{No}$ 时表示守望者能走的最远距离。", "hint": "对于 $30\\%$ 的数据，$1  \\le  T   \\le  10$，$ 1   \\le   S   \\le  100$；\n\n对于 $50\\%$ 的数据，$1   \\le  T   \\le   10^3$，$ 1   \\le  S  \\le   10^4$；\n\n对于 $100\\%$ 的数据，$1   \\le   T   \\le   3\\times  10^5$，$0   \\le   M   \\le   10^3$，$ 1   \\le  S   \\le   10^8$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Junior] The Warden's Escape", "background": null, "description": "The ambitious demon hunter Youdian (pinyin) betrayed the Night Elves and led the Naga hidden in the depths of the sea in an attempted rebellion.\n\nIn a confrontation with Youdian, the Warden fell into an ambush and was trapped on a desolate island.\n\nTo kill the Warden, Youdian cast a spell on the island, which would soon sink. By then, everyone on the island would perish.\n\nThe Warden’s running speed is $17\\text{m/s}$, which is not enough to escape the island. Fortunately, the Warden has the “Blink” spell, which moves $60\\text{m}$ in $1\\text{s}$, but each use consumes $10$ mana points. The Warden’s mana regenerates at $4$ points per second, and only while standing still to rest.\n\nYou are given the Warden’s initial mana $M$, the distance $S$ from the starting position to the island’s exit, and the time $T$ before the island sinks. Your task is to write a program to help the Warden compute how to escape the island in the shortest time. If escape is impossible, output the farthest distance the Warden can travel within the remaining time.\n\nNote: Running, blinking, and resting are measured in seconds, and each action lasts an integer number of seconds. Distances are measured in meters.", "inputFormat": "A single line containing three non-negative integers, denoting $M$, $S$, $T$.", "outputFormat": "Output two lines.\n\nThe first line contains a string $\\texttt{Yes}$ or $\\texttt{No}$, indicating whether the Warden can escape the island.\n\nThe second line contains an integer. If the first line is $\\texttt{Yes}$, it represents the minimum time for the Warden to escape. If the first line is $\\texttt{No}$, it represents the farthest distance the Warden can travel.", "hint": "For $30\\%$ of the testdata, $1 \\le T \\le 10$, $1 \\le S \\le 100$.\n\nFor $50\\%$ of the testdata, $1 \\le T \\le 10^3$, $1 \\le S \\le 10^4$.\n\nFor $100\\%$ of the testdata, $1 \\le T \\le 3\\times 10^5$, $0 \\le M \\le 10^3$, $1 \\le S \\le 10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 普及组] 守望者的逃离", "background": "NOIP2007 普及组 T3", "description": "恶魔猎手尤迪安野心勃勃，他背叛了暗夜精灵，率领深藏在海底的娜迦族企图叛变。\n\n守望者在与尤迪安的交锋中遭遇了围杀，被困在一个荒芜的大岛上。\n\n为了杀死守望者，尤迪安开始对这个荒岛施咒，这座岛很快就会沉下去。到那时，岛上的所有人都会遇难。\n\n守望者的跑步速度为 $17\\text{m/s}$，以这样的速度是无法逃离荒岛的。庆幸的是守望者拥有闪烁法术，可在 $1\\text{s}$ 内移动 $60\\text{m}$，不过每次使用闪烁法术都会消耗魔法值 $10$ 点。守望者的魔法值恢复的速度为 $4$ 点每秒，只有处在原地休息状态时才能恢复。\n\n现在已知守望者的魔法初值 $M$，他所在的初始位置与岛的出口之间的距离 $S$，岛沉没的时间 $T$。你的任务是写一个程序帮助守望者计算如何在最短的时间内逃离荒岛，若不能逃出，则输出守望者在剩下的时间内能走的最远距离。\n\n注意：守望者跑步、闪烁或休息活动均以秒为单位，且每次活动的持续时间为整数秒。距离的单位为米。", "inputFormat": "输入数据共一行三个非负整数，分别表示 $M$，$S$，$T$。", "outputFormat": "输出数据共两行。\n\n第一行一个字符串 $\\texttt{Yes}$ 或 $\\texttt{No}$，即守望者是否能逃离荒岛。\n\n第二行包含一个整数。第一行为 $\\texttt{Yes}$ 时表示守望者逃离荒岛的最短时间；第一行为 $\\texttt{No}$ 时表示守望者能走的最远距离。", "hint": "对于 $30\\%$ 的数据，$1  \\le  T   \\le  10$，$ 1   \\le   S   \\le  100$；\n\n对于 $50\\%$ 的数据，$1   \\le  T   \\le   10^3$，$ 1   \\le  S  \\le   10^4$；\n\n对于 $100\\%$ 的数据，$1   \\le   T   \\le   3\\times  10^5$，$0   \\le   M   \\le   10^3$，$ 1   \\le  S   \\le   10^8$。", "locale": "zh-CN"}}}
{"pid": "P1096", "type": "P", "difficulty": 3, "samples": [["1", "2"], ["2", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "高精度", "递推", "2007", "递归", "NOIP 普及组"], "title": "[NOIP 2007 普及组] Hanoi 双塔问题", "background": "", "description": "给定 A、B、C 三根足够长的细柱，在 A 柱上放有 $2n$ 个中间有孔的圆盘，共有 $n$ 个不同的尺寸，每个尺寸都有两个相同的圆盘，注意这两个圆盘是不加区分的（下图为 $n=3$ 的情形）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mq2iklbv.png)\n\n现要将这些圆盘移到 C 柱上，在移动过程中可放在 B 柱上暂存。要求：\n\n1. 每次只能移动一个圆盘；\n2. A、B、C 三根细柱上的圆盘都要保持上小下大的顺序。\n\n任务：设 $A_n$ 为 $2n$ 个圆盘完成上述任务所需的最少移动次数，对于输入的 $n$，输出 $A_n$。\n\n", "inputFormat": "一个正整数 $n$，表示在 A 柱上放有 $2n$ 个圆盘。\n", "outputFormat": "一个正整数, 为完成上述任务所需的最少移动次数 $A_n$。\n", "hint": "**限制**\n\n- 对于 $50\\%$ 的数据，$1  \\le  n  \\le  25$；\n- 对于 $100\\%$ 的数据，$1  \\le  n  \\le  200$。\n\n**提示**\n\n设法建立 $A_n$ 与 $A_{n-1}$ 的递推关系式。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Junior] Hanoi Double Tower Problem", "background": null, "description": "Given three sufficiently long thin pegs A, B, and C, there are $2n$ disks with holes on peg A. There are $n$ distinct sizes, and for each size there are two identical disks; note that these two disks are indistinguishable (the figure below shows the case $n=3$).\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mq2iklbv.png)\n\nWe need to move all these disks to peg C, and disks may be temporarily placed on peg B during the process. Requirements:\n1. Only one disk may be moved at a time.\n2. On pegs A, B, and C, the disks must always keep the order of smaller on top and larger below.\n\nTask: Let $A_n$ be the minimum number of moves required to complete the task for $2n$ disks. For the given $n$, output $A_n$.", "inputFormat": "A positive integer $n$, indicating there are $2n$ disks on peg A.", "outputFormat": "A positive integer, which is the minimum number of moves $A_n$ required to complete the task.", "hint": "Constraints\n\n- 对于 $50\\%$ 的数据，$1  \\le  n  \\le  25$；\n- 对于 $100\\%$ 的数据，$1  \\le  n  \\le  200$。\n\nHint\n\nTry to establish a recurrence relation between $A_n$ and $A_{n-1}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 普及组] Hanoi 双塔问题", "background": "", "description": "给定 A、B、C 三根足够长的细柱，在 A 柱上放有 $2n$ 个中间有孔的圆盘，共有 $n$ 个不同的尺寸，每个尺寸都有两个相同的圆盘，注意这两个圆盘是不加区分的（下图为 $n=3$ 的情形）。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mq2iklbv.png)\n\n现要将这些圆盘移到 C 柱上，在移动过程中可放在 B 柱上暂存。要求：\n\n1. 每次只能移动一个圆盘；\n2. A、B、C 三根细柱上的圆盘都要保持上小下大的顺序。\n\n任务：设 $A_n$ 为 $2n$ 个圆盘完成上述任务所需的最少移动次数，对于输入的 $n$，输出 $A_n$。\n\n", "inputFormat": "一个正整数 $n$，表示在 A 柱上放有 $2n$ 个圆盘。\n", "outputFormat": "一个正整数, 为完成上述任务所需的最少移动次数 $A_n$。\n", "hint": "**限制**\n\n- 对于 $50\\%$ 的数据，$1  \\le  n  \\le  25$；\n- 对于 $100\\%$ 的数据，$1  \\le  n  \\le  200$。\n\n**提示**\n\n设法建立 $A_n$ 与 $A_{n-1}$ 的递推关系式。\n", "locale": "zh-CN"}}}
{"pid": "P1097", "type": "P", "difficulty": 2, "samples": [["8\n2\n4\n2\n4\n5\n100\n2\n100", "2 3\n4 2\n5 1\n100 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2007", "NOIP 提高组", "排序"], "title": "[NOIP 2007 提高组] 统计数字", "background": "", "description": "某次科研调查时得到了 $n$ 个自然数，每个数均不超过 $1.5 \\times 10^9$。已知不相同的数不超过 $10^4$ 个，现在需要统计这些自然数各自出现的次数，并按照自然数从小到大的顺序输出统计结果。\n", "inputFormat": "共 $n+1$ 行。\n\n第一行是整数 $n$，表示自然数的个数；\n\n第 $2$ 至 $n+1$ 每行一个自然数。\n", "outputFormat": "共 $m$ 行（$m$ 为 $n$ 个自然数中不相同数的个数），按照自然数从小到大的顺序输出。  \n\n每行输出 $2$ 个整数，分别是自然数和该数出现的次数，其间用一个空格隔开。\n", "hint": "- $30\\%$ 的数据满足：$1  \\le  n  \\le  1000$；\n- $60\\%$ 的数据满足：$1  \\le  n  \\le  50000$；\n- $100\\%$ 的数据满足：$1  \\le  n  \\le  200000$，每个数均不超过 $1.5 \\times 10^9$。\n\nNOIP 2007 提高第一题\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Senior] Counting Numbers", "background": null, "description": "In a research survey, $n$ natural numbers were collected, each not exceeding $1.5 \\times 10^9$. It is known that the number of distinct values does not exceed $10^4$. Now you need to count how many times each natural number appears and output the results in ascending order of the numbers.", "inputFormat": "There are $n+1$ lines in total.\n\n- The first line contains an integer $n$, the number of natural numbers.\n- Lines $2$ to $n+1$ each contain one natural number.", "outputFormat": "Output $m$ lines in total (where $m$ is the number of distinct numbers among the $n$ natural numbers), in ascending order of the numbers.\n\nEach line outputs $2$ integers: the natural number and the number of times it appears, separated by a single space.", "hint": "- 30% of the testdata satisfy: $1 \\le n \\le 1000$.\n- 60% of the testdata satisfy: $1 \\le n \\le 50000$.\n- 100% of the testdata satisfy: $1 \\le n \\le 200000$, and each number does not exceed $1.5 \\times 10^9$.\n\nNOIP 2007 Senior, Problem 1.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 提高组] 统计数字", "background": "", "description": "某次科研调查时得到了 $n$ 个自然数，每个数均不超过 $1.5 \\times 10^9$。已知不相同的数不超过 $10^4$ 个，现在需要统计这些自然数各自出现的次数，并按照自然数从小到大的顺序输出统计结果。\n", "inputFormat": "共 $n+1$ 行。\n\n第一行是整数 $n$，表示自然数的个数；\n\n第 $2$ 至 $n+1$ 每行一个自然数。\n", "outputFormat": "共 $m$ 行（$m$ 为 $n$ 个自然数中不相同数的个数），按照自然数从小到大的顺序输出。  \n\n每行输出 $2$ 个整数，分别是自然数和该数出现的次数，其间用一个空格隔开。\n", "hint": "- $30\\%$ 的数据满足：$1  \\le  n  \\le  1000$；\n- $60\\%$ 的数据满足：$1  \\le  n  \\le  50000$；\n- $100\\%$ 的数据满足：$1  \\le  n  \\le  200000$，每个数均不超过 $1.5 \\times 10^9$。\n\nNOIP 2007 提高第一题\n", "locale": "zh-CN"}}}
{"pid": "P1098", "type": "P", "difficulty": 2, "samples": [["1 2 1\nabcs-w1234-9s-4zz", "abcsttuuvvw1234556677889s-4zz"], ["2 3 2\na-d-d", "aCCCBBBd-d"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "2007", "NOIP 提高组"], "title": "[NOIP 2007 提高组] 字符串的展开", "background": null, "description": "在初赛普及组的“阅读程序写结果”的问题中，我们曾给出一个字符串展开的例子：如果在输入的字符串中，含有类似于 `d-h` 或者 `4-8` 的字串，我们就把它当作一种简写，输出时，用连续递增的字母或数字串替代其中的减号，即，将上面两个子串分别输出为 `defgh` 和 `45678`。在本题中，我们通过增加一些参数的设置，使字符串的展开更为灵活。具体约定如下：\n\n1. 遇到下面的情况需要做字符串的展开。在输入的字符串中，出现了减号 `-`，减号两侧同为小写字母或同为数字，且按照 ASCII 码的顺序，减号右边的字符严格大于左边的字符。\n\n2. 参数 $p_1$：展开方式。$p_1=1$ 时，对于字母子串，填充小写字母；$p_1=2$ 时，对于字母子串，填充大写字母。这两种情况下数字子串的填充方式相同；$p_1=3$ 时，不论是字母子串还是数字字串，都用与要填充的字母个数相同的星号 `*` 来填充。\n\n3. 参数 $p_2$：填充字符的重复个数。$p_2=k$ 表示同一个字符要连续填充 $k$ 个。例如，当 $p_2=3$ 时，子串`d-h` 应扩展为 `deeefffgggh`。减号两边的字符不变。\n\n4. 参数 $p_3$：是否改为逆序。$p_3=1$ 表示维持原来顺序；$p_3=2$ 表示采用逆序输出。注意这时候仍然不包括减号两端的字符。例如，当 $p_1=1$、$p_2=2$、$p_3=2$ 时，子串 `d-h` 应扩展为 `dggffeeh`。\n\n5. 如果减号右边的字符恰好是左边字符的后继，只删除中间的减号。例如：`d-e` 应输出为 `de`，`3-4` 应输出为 `34`。如果减号右边的字符按照 ASCII 码的顺序小于或等于左边字符，输出时，要保留中间的减号。例如：`d-d` 应输出为 `d-d`，`3-1` 应输出为 `3-1`。", "inputFormat": "共两行。\n\n第 $1$ 行为用空格隔开的 $3$ 个正整数，依次表示参数 $p_1,p_2,p_3$。\n\n第 $2$ 行为一行字符串，仅由数字、小写字母和减号 `-` 组成。行首和行末均无空格。", "outputFormat": "共一行，为展开后的字符串。", "hint": "$40\\%$ 的数据满足：字符串长度不超过 $5$。\n\n$100\\%$ 的数据满足：$1  \\le  p_1  \\le  3$，$1  \\le  p_2  \\le  8$，$1  \\le  p_3  \\le  2$，字符串长度不超过 $100$。\n\nNOIP 2007 提高组第二题。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Senior] String Expansion", "background": null, "description": "In the preliminary round’s Junior “read the program and write the result” problem, we once gave an example of string expansion: if the input string contains substrings like `d-h` or `4-8`, we treat them as shorthand. In the output, we replace the hyphen with a sequence of consecutively increasing letters or digits; that is, the two substrings above are output as `defgh` and `45678`. In this problem, we add parameters to make the expansion more flexible. The conventions are as follows:\n\n(1) Perform string expansion when the following condition is met: in the input string, there is a hyphen `-`, the characters on both sides are both lowercase letters or both digits, and according to `ASCII` order, the character on the right of the hyphen is strictly greater than the character on the left.\n\n(2) Parameter $p_1$: expansion mode. When $p_1=1$, for letter substrings, fill with lowercase letters; when $p_1=2$, for letter substrings, fill with uppercase letters. In both of these cases, the filling method for digit substrings is the same. When $p_1=3$, regardless of whether it is a letter substring or a digit substring, fill with asterisks `*`, using the same number of asterisks as the number of characters that would be filled.\n\n(3) Parameter $p_2$: the repetition count of each filling character. $p_2=k$ means the same character is repeated $k$ times consecutively. For example, when $p_2=3$, the substring `d-h` should expand to `deeefffgggh`. The characters on both sides of the hyphen remain unchanged.\n\n(4) Parameter $p_3$: whether to reverse the order. $p_3=1$ means keep the original order; $p_3=2$ means output in reverse order. Note that in this case the two endpoint characters are still excluded. For example, when $p_1=1$, $p_2=2$, $p_3=2$, the substring `d-h` should expand to `dggffeeh`.\n\n(5) If the character on the right of the hyphen is exactly the successor of the left character, delete only the hyphen; for example, `d-e` should be output as `de`, and `3-4` should be output as `34`. If, according to `ASCII` order, the character on the right of the hyphen is less than or equal to the left character, keep the hyphen in the output; for example, `d-d` should be output as `d-d`, and `3-1` should be output as `3-1`.", "inputFormat": "Two lines.\n\nLine $1$: three positive integers separated by spaces, representing $p_1, p_2, p_3$.\n\nLine $2$: one string consisting only of digits, lowercase letters, and hyphens `-`. There are no leading or trailing spaces.", "outputFormat": "One line, the expanded string.", "hint": "$40\\%$ of the testdata satisfy: the string length does not exceed $5$.\n\n$100\\%$ of the testdata satisfy: $1 \\le p_1 \\le 3$, $1 \\le p_2 \\le 8$, $1 \\le p_3 \\le 2$. The string length does not exceed $100$.\n\nNOIP 2007 Senior Problem 2.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 提高组] 字符串的展开", "background": null, "description": "在初赛普及组的“阅读程序写结果”的问题中，我们曾给出一个字符串展开的例子：如果在输入的字符串中，含有类似于 `d-h` 或者 `4-8` 的字串，我们就把它当作一种简写，输出时，用连续递增的字母或数字串替代其中的减号，即，将上面两个子串分别输出为 `defgh` 和 `45678`。在本题中，我们通过增加一些参数的设置，使字符串的展开更为灵活。具体约定如下：\n\n1. 遇到下面的情况需要做字符串的展开。在输入的字符串中，出现了减号 `-`，减号两侧同为小写字母或同为数字，且按照 ASCII 码的顺序，减号右边的字符严格大于左边的字符。\n\n2. 参数 $p_1$：展开方式。$p_1=1$ 时，对于字母子串，填充小写字母；$p_1=2$ 时，对于字母子串，填充大写字母。这两种情况下数字子串的填充方式相同；$p_1=3$ 时，不论是字母子串还是数字字串，都用与要填充的字母个数相同的星号 `*` 来填充。\n\n3. 参数 $p_2$：填充字符的重复个数。$p_2=k$ 表示同一个字符要连续填充 $k$ 个。例如，当 $p_2=3$ 时，子串`d-h` 应扩展为 `deeefffgggh`。减号两边的字符不变。\n\n4. 参数 $p_3$：是否改为逆序。$p_3=1$ 表示维持原来顺序；$p_3=2$ 表示采用逆序输出。注意这时候仍然不包括减号两端的字符。例如，当 $p_1=1$、$p_2=2$、$p_3=2$ 时，子串 `d-h` 应扩展为 `dggffeeh`。\n\n5. 如果减号右边的字符恰好是左边字符的后继，只删除中间的减号。例如：`d-e` 应输出为 `de`，`3-4` 应输出为 `34`。如果减号右边的字符按照 ASCII 码的顺序小于或等于左边字符，输出时，要保留中间的减号。例如：`d-d` 应输出为 `d-d`，`3-1` 应输出为 `3-1`。", "inputFormat": "共两行。\n\n第 $1$ 行为用空格隔开的 $3$ 个正整数，依次表示参数 $p_1,p_2,p_3$。\n\n第 $2$ 行为一行字符串，仅由数字、小写字母和减号 `-` 组成。行首和行末均无空格。", "outputFormat": "共一行，为展开后的字符串。", "hint": "$40\\%$ 的数据满足：字符串长度不超过 $5$。\n\n$100\\%$ 的数据满足：$1  \\le  p_1  \\le  3$，$1  \\le  p_2  \\le  8$，$1  \\le  p_3  \\le  2$，字符串长度不超过 $100$。\n\nNOIP 2007 提高组第二题。", "locale": "zh-CN"}}}
{"pid": "P1099", "type": "P", "difficulty": 4, "samples": [["5 2\n1 2 5\n2 3 2\n2 4 4\n2 5 3\n", "5\n"], ["8 6\n1 3 2\n2 3 2 \n3 4 6\n4 5 3\n4 6 4\n4 7 2\n7 8 3\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "动态规划 DP", "树形数据结构", "2007", "单调队列", "NOIP 提高组", "枚举", "最短路", "树的直径", "双指针 two-pointer"], "title": "[NOIP 2007 提高组] 树网的核", "background": null, "description": "设 $T=(V,E,W)$ 是一个无圈且连通的无向图（也称为无根树），每条边都有正整数的权，我们称 $T$ 为树网（`treenetwork`），其中 $V$，$E$ 分别表示结点与边的集合，$W$ 表示各边长度的集合，并设 $T$ 有 $n$ 个结点。\n\n路径：树网中任何两结点 $a$，$b$ 都存在唯一的一条简单路径，用 $d(a, b)$ 表示以 $a, b$ 为端点的路径的长度，它是该路径上各边长度之和。我们称 \n$d(a, b)$ 为 $a, b$ 两结点间的距离。\n\n$D(v, P)=\\min\\{d(v, u)\\}$, $u$ 为路径 $P$ 上的结点。\n\n树网的直径：树网中最长的路径称为树网的直径。对于给定的树网 $T$，直径不一定是唯一的，但可以证明：各直径的中点（不一定恰好是某个结点，可能在某条边的内部）是唯一的，我们称该点为树网的中心。\n\n偏心距 $\\mathrm{ECC}(F)$：树网 $T$ 中距路径 $F$ 最远的结点到路径 $F$ 的距离，即\n\n$$\\mathrm{ECC}(F)=\\max\\{D(v, F),v \\in V\\}$$\n\n任务：对于给定的树网 $T=(V, E, W)$ 和非负整数 $s$，求一个路径 $F$，他是某直径上的一段路径（该路径两端均为树网中的结点），其长度不超过 $s$（可以等于 $s$），使偏心距 $\\mathrm{ECC}(F)$ 最小。我们称这个路径为树网 $T=(V, E, W)$ 的核（`Core`）。必要时，$F$ 可以退化为某个结点。一般来说，在上述定义下，核不一定只有一个，但最小偏心距是唯一的。\n\n下面的图给出了树网的一个实例。图中，$A-B$ 与 $A-C$ 是两条直径，长度均为 $20$。点 $W$ 是树网的中心，$EF$ 边的长度为 $5$。如果指定 $s=11$，则树网的核为路径`DEFG`（也可以取为路径`DEF`），偏心距为 $8$。如果指定 $s=0$（或 $s=1$、$s=2$），则树网的核为结点 $F$，偏心距为 $12$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oms5c6rq.png)", "inputFormat": "共 $n$ 行。\n\n第 $1$ 行，两个正整数 $n$ 和 $s$，中间用一个空格隔开。其中 $n$ 为树网结点的个数，$s$ 为树网的核的长度的上界。设结点编号以此为 $1,2\\dots,n$。\n\n从第 $2$ 行到第 $n$ 行，每行给出 $3$ 个用空格隔开的正整数 $u, v, w$，依次表示每一条边的两个端点编号和长度。例如，`2 4 7` 表示连接结点 $2$ 与 $4$ 的边的长度为 $7$。", "outputFormat": "一个非负整数，为指定意义下的最小偏心距。", "hint": "- 对于 $40\\%$ 的数据，保证 $n \\le 15$。\n- 对于 $70\\%$ 的数据，保证 $n \\le 80$。\n- 对于 $100\\%$ 的数据，保证 $2\\le n \\le 300$，$0\\le s\\le10^3$，$1 \\leq u, v \\leq n$，$0 \\leq w \\leq 10^3$。\n\nNOIP2007 提高组第四题", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2007 Senior] Core of the Treenetwork", "background": null, "description": "Let $T=(V, E, W)$ be a connected undirected graph without cycles (also called an unrooted tree), where each edge has a nonnegative integer weight. We call $T$ a \"treenetwork\". Here $V$ and $E$ denote the sets of nodes and edges, respectively, $W$ denotes the set of edge lengths, and $T$ has $n$ nodes.\n\nPath: In a treenetwork, there is a unique simple path between any two nodes $a$ and $b$. Let $d(a, b)$ denote the length of the path whose endpoints are $a$ and $b$, i.e., the sum of the lengths of the edges on that path. We call $d(a, b)$ the distance between nodes $a$ and $b$.\n\n$D(v, P)=\\min\\{d(v, u)\\}$, where $u$ ranges over the nodes on path $P$.\n\nDiameter of a treenetwork: The longest path in a treenetwork is called its diameter. For a given treenetwork $T$, the diameter is not necessarily unique, but it can be proved that the midpoint of any diameter (which may lie in the interior of an edge rather than exactly at a node) is unique; we call this point the center of the treenetwork.\n\nEccentricity $\\mathrm{ECC}(F)$: The distance from the farthest node in $T$ to path $F$, namely\n$$\\mathrm{ECC}(F)=\\max\\{D(v, F), v \\in V\\}.$$\n\nTask: Given a treenetwork $T=(V, E, W)$ and a nonnegative integer $s$, find a path $F$ which is a subpath on some diameter (the endpoints of this path are both nodes in the treenetwork), whose length does not exceed $s$ (it may equal $s$), such that the eccentricity $\\mathrm{ECC}(F)$ is minimized. We call such a path the \"Core\" of treenetwork $T=(V, E, W)$. If necessary, $F$ may degenerate into a single node. In general, under the above definition, the core is not necessarily unique, but the minimal eccentricity is unique.\n\nThe following figure gives an example of a treenetwork. In the figure, $A\\!-\\!B$ and $A\\!-\\!C$ are two diameters, both of length $20$. Point $W$ is the center of the treenetwork, and the length of edge $EF$ is $5$. If $s=11$ is specified, then the core of the treenetwork is path DEFG (it can also be taken as path DEF), and the eccentricity is $8$. If $s=0$ (or $s=1$, $s=2$), then the core of the treenetwork is node $F$, and the eccentricity is $12$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oms5c6rq.png)", "inputFormat": "There are $n$ lines in total.\n\nLine $1$: two positive integers $n$ and $s$, separated by a single space. Here $n$ is the number of nodes in the treenetwork, and $s$ is the upper bound on the length of the core. The nodes are numbered $1, 2, \\dots, n$.\n\nLines $2$ through $n$: each line contains three space-separated integers $u, v, w$, indicating an edge between nodes $u$ and $v$ with length $w$. For example, `2 4 7` means the edge connecting nodes $2$ and $4$ has length $7$.", "outputFormat": "Output a single nonnegative integer: the minimal eccentricity under the given definition.", "hint": "- For $40\\%$ of the testdata, it is guaranteed that $n \\le 15$.\n- For $70\\%$ of the testdata, it is guaranteed that $n \\le 80$.\n- For $100\\%$ of the testdata, it is guaranteed that $2 \\le n \\le 300$, $0 \\le s \\le 10^3$, $1 \\le u, v \\le n$, $0 \\le w \\le 10^3$.\n\nNOIP 2007 Senior Problem 4.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2007 提高组] 树网的核", "background": null, "description": "设 $T=(V,E,W)$ 是一个无圈且连通的无向图（也称为无根树），每条边都有正整数的权，我们称 $T$ 为树网（`treenetwork`），其中 $V$，$E$ 分别表示结点与边的集合，$W$ 表示各边长度的集合，并设 $T$ 有 $n$ 个结点。\n\n路径：树网中任何两结点 $a$，$b$ 都存在唯一的一条简单路径，用 $d(a, b)$ 表示以 $a, b$ 为端点的路径的长度，它是该路径上各边长度之和。我们称 \n$d(a, b)$ 为 $a, b$ 两结点间的距离。\n\n$D(v, P)=\\min\\{d(v, u)\\}$, $u$ 为路径 $P$ 上的结点。\n\n树网的直径：树网中最长的路径称为树网的直径。对于给定的树网 $T$，直径不一定是唯一的，但可以证明：各直径的中点（不一定恰好是某个结点，可能在某条边的内部）是唯一的，我们称该点为树网的中心。\n\n偏心距 $\\mathrm{ECC}(F)$：树网 $T$ 中距路径 $F$ 最远的结点到路径 $F$ 的距离，即\n\n$$\\mathrm{ECC}(F)=\\max\\{D(v, F),v \\in V\\}$$\n\n任务：对于给定的树网 $T=(V, E, W)$ 和非负整数 $s$，求一个路径 $F$，他是某直径上的一段路径（该路径两端均为树网中的结点），其长度不超过 $s$（可以等于 $s$），使偏心距 $\\mathrm{ECC}(F)$ 最小。我们称这个路径为树网 $T=(V, E, W)$ 的核（`Core`）。必要时，$F$ 可以退化为某个结点。一般来说，在上述定义下，核不一定只有一个，但最小偏心距是唯一的。\n\n下面的图给出了树网的一个实例。图中，$A-B$ 与 $A-C$ 是两条直径，长度均为 $20$。点 $W$ 是树网的中心，$EF$ 边的长度为 $5$。如果指定 $s=11$，则树网的核为路径`DEFG`（也可以取为路径`DEF`），偏心距为 $8$。如果指定 $s=0$（或 $s=1$、$s=2$），则树网的核为结点 $F$，偏心距为 $12$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oms5c6rq.png)", "inputFormat": "共 $n$ 行。\n\n第 $1$ 行，两个正整数 $n$ 和 $s$，中间用一个空格隔开。其中 $n$ 为树网结点的个数，$s$ 为树网的核的长度的上界。设结点编号以此为 $1,2\\dots,n$。\n\n从第 $2$ 行到第 $n$ 行，每行给出 $3$ 个用空格隔开的正整数 $u, v, w$，依次表示每一条边的两个端点编号和长度。例如，`2 4 7` 表示连接结点 $2$ 与 $4$ 的边的长度为 $7$。", "outputFormat": "一个非负整数，为指定意义下的最小偏心距。", "hint": "- 对于 $40\\%$ 的数据，保证 $n \\le 15$。\n- 对于 $70\\%$ 的数据，保证 $n \\le 80$。\n- 对于 $100\\%$ 的数据，保证 $2\\le n \\le 300$，$0\\le s\\le10^3$，$1 \\leq u, v \\leq n$，$0 \\leq w \\leq 10^3$。\n\nNOIP2007 提高组第四题", "locale": "zh-CN"}}}
