{"pid": "P2004", "type": "P", "difficulty": 2, "samples": [["3 4 2\n1 2 3 1\n-1 9 0 2\n2 0 1 1\n", "1 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["洛谷原创", "前缀和"], "title": "领地选择", "background": null, "description": "作为在虚拟世界里统帅千军万马的领袖，小 Z 认为天时、地利、人和三者是缺一不可的，所以，谨慎地选择首都的位置对于小 Z 来说是非常重要的。\n\n首都被认为是一个占地 $C\\times C$ 的正方形。小 Z 希望你寻找到一个合适的位置，使得首都所占领的位置的土地价值和最高。", "inputFormat": "第一行三个整数 $N,M,C$，表示地图的宽和长以及首都的边长。\n\n接下来 $N$ 行每行 $M$ 个整数，表示了地图上每个地块的价值。价值可能为负数。", "outputFormat": "一行两个整数 $X,Y$，表示首都左上角的坐标。保证最优解是唯一的。", "hint": "对于 $60\\%$ 的数据，$N,M\\le 50$。\n\n对于 $90\\%$ 的数据，$N,M\\le 300$。\n\n对于 $100\\%$ 的数据，$1\\le N,M\\le 10^3$，$1\\le C\\le \\min(N,M)$，每块地价值的绝对值不超过 $32767$。", "locale": "zh-CN", "translations": {"en": {"title": "Territory Selection", "background": "", "description": "As a leader who commands countless troops in a virtual world, Xiao Z believes that timing, terrain, and unity among people are all indispensable. Therefore, carefully choosing the location of the capital is very important to Xiao Z.\n\nThe capital is considered to be a square occupying $C \\times C$. Xiao Z wants you to find a suitable position such that the sum of land values covered by the capital is maximized.", "inputFormat": "The first line contains three integers $N, M, C$, denoting the height and width of the map and the side length of the capital.\n\nThe next $N$ lines each contain $M$ integers, giving the value of each plot on the map. Values may be negative.", "outputFormat": "One line with two integers $X, Y$, denoting the coordinates of the top-left corner of the capital. It is guaranteed that the optimal solution is unique.", "hint": "For $60\\%$ of the testdata, $N, M \\le 50$.\n\nFor $90\\%$ of the testdata, $N, M \\le 300$.\n\nFor $100\\%$ of the testdata, $1 \\le N, M \\le 10^3$, $1 \\le C \\le \\min(N, M)$. The absolute value of each tile's value does not exceed $32767$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "领地选择", "background": null, "description": "作为在虚拟世界里统帅千军万马的领袖，小 Z 认为天时、地利、人和三者是缺一不可的，所以，谨慎地选择首都的位置对于小 Z 来说是非常重要的。\n\n首都被认为是一个占地 $C\\times C$ 的正方形。小 Z 希望你寻找到一个合适的位置，使得首都所占领的位置的土地价值和最高。", "inputFormat": "第一行三个整数 $N,M,C$，表示地图的宽和长以及首都的边长。\n\n接下来 $N$ 行每行 $M$ 个整数，表示了地图上每个地块的价值。价值可能为负数。", "outputFormat": "一行两个整数 $X,Y$，表示首都左上角的坐标。保证最优解是唯一的。", "hint": "对于 $60\\%$ 的数据，$N,M\\le 50$。\n\n对于 $90\\%$ 的数据，$N,M\\le 300$。\n\n对于 $100\\%$ 的数据，$1\\le N,M\\le 10^3$，$1\\le C\\le \\min(N,M)$，每块地价值的绝对值不超过 $32767$。", "locale": "zh-CN"}}}
{"pid": "P2005", "type": "P", "difficulty": 3, "samples": [["1000 \n333\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["高精度", "二分"], "title": "A/B Problem II", "background": "为了让大家紧张的心情放松一下，这一题是一道非常简单的题目。", "description": "给出正整数 $N$ 和 $M$，请你计算 $\\lfloor\\frac{N}{M}\\rfloor$（$\\frac{N}{M}$ 的下取整）。", "inputFormat": "两行，两个正整数，$N$ 和 $M$。", "outputFormat": "一行，一个整数，表示 $\\lfloor\\frac{N}{M}\\rfloor$。", "hint": "- 对于 $60 \\%$ 的数据：$ N,M \\le 750!$，答案 $ \\le 7!$。\n- 对于 $100 \\%$ 的数据：$N,M \\le 6250!$，答案 $ \\le 13!$。\n\n请注意：上面的两句话并不是感叹句，而是陈述句。标点符号使用没有错误。", "locale": "zh-CN", "translations": {"en": {"title": "A/B Problem II", "background": "To help everyone relax, this problem is a very simple one.", "description": "Given positive integers $N$ and $M$, please compute $\\lfloor\\frac{N}{M}\\rfloor$ (the floor of $\\frac{N}{M}$).", "inputFormat": "Two lines, two positive integers, $N$ and $M$.", "outputFormat": "One line, one integer, representing $\\lfloor\\frac{N}{M}\\rfloor$.", "hint": "- For $60 \\%$ of the testdata: $ N,M \\le 750!$，the answer $ \\le 7!$.\n- For $100 \\%$ of the testdata: $N,M \\le 6250!$，the answer $ \\le 13!$.\n\nPlease note: the two sentences above are not exclamatory sentences, but declarative sentences. There is no error in the use of punctuation.\n\nTranslated by ChatGPT 5.", "locale": "en"}, "zh-CN": {"title": "A/B Problem II", "background": "为了让大家紧张的心情放松一下，这一题是一道非常简单的题目。", "description": "给出正整数 $N$ 和 $M$，请你计算 $\\lfloor\\frac{N}{M}\\rfloor$（$\\frac{N}{M}$ 的下取整）。", "inputFormat": "两行，两个正整数，$N$ 和 $M$。", "outputFormat": "一行，一个整数，表示 $\\lfloor\\frac{N}{M}\\rfloor$。", "hint": "- 对于 $60 \\%$ 的数据：$ N,M \\le 750!$，答案 $ \\le 7!$。\n- 对于 $100 \\%$ 的数据：$N,M \\le 6250!$，答案 $ \\le 13!$。\n\n请注意：上面的两句话并不是感叹句，而是陈述句。标点符号使用没有错误。", "locale": "zh-CN"}}}
{"pid": "P2006", "type": "P", "difficulty": 1, "samples": [["100 3 5000\n20 1000\n90 1\n110 10000\n", "1\n"], ["50 4 10\n60 100\n70 1000\n80 1000\n90 0\n", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "赵神牛的游戏", "background": null, "description": "在 DNF 中，赵神牛有一个缔造者，他一共有 $k$ 点法力值，一共有 $m$ 个技能，每个技能耗费的法力值为 $a_i$，可以造成的伤害为 $b_i$，而 boss 的体力值为 $n$，请你求出它放哪个技能，才可以打死 boss。\n\n当然，赵神牛技术很菜，他一局只放一个技能，不过每个技能都可以放无数次。", "inputFormat": "第一行有三个整数，分别表示 $k,m,n$。\n\n后面 $m$ 行，每行两个整数，第 $(i + 1)$ 行的整数表示耗费的法力值 $a_i$ 和造成的伤害 $b_i$。", "outputFormat": "输出仅一行，即可以杀死 boss 的技能序号，如果有多个，按从小到大的顺序输出，中间用一个空格隔开；如果没有技能能杀死 boss，输出 `-1`。", "hint": "#### 数据规模与约定\n对于全部的测试点，满足：\n\n- $0< n,m\\le 3\\times 10^4$；\n- $0\\le k\\le 3\\times 10^4$；\n- $0 \\leq a_i,b_i\\le 2147483647$。", "locale": "zh-CN", "translations": {"en": {"title": "Zhao Shenniu's Game", "background": "", "description": "In DNF, Zhao Shenniu has a \"Dizaozhe\" character. He has a total of $k$ mana points and there are $m$ skills. Each skill costs $a_i$ mana and deals $b_i$ damage. The boss has $n$ health points. Please determine which skill he should cast to kill the boss.\n\nOf course, Zhao Shenniu is not very skilled; in one game he only uses one skill, but any chosen skill can be cast an unlimited number of times.", "inputFormat": "The first line contains three integers, representing $k, m, n$.\n\nThen follow $m$ lines. The $(i + 1)$-th line contains two integers: the mana cost $a_i$ and the damage $b_i$.", "outputFormat": "Output a single line: the indices of the skills that can kill the boss. If there are multiple, output them in increasing order, separated by a single space. If no skill can kill the boss, output `-1`.", "hint": "Constraints\n\nFor all test points, it holds that:\n- $0 < n, m \\le 3 \\times 10^4$.\n- $0 \\le k \\le 3 \\times 10^4$.\n- $0 \\le a_i, b_i \\le 2147483647$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "赵神牛的游戏", "background": null, "description": "在 DNF 中，赵神牛有一个缔造者，他一共有 $k$ 点法力值，一共有 $m$ 个技能，每个技能耗费的法力值为 $a_i$，可以造成的伤害为 $b_i$，而 boss 的体力值为 $n$，请你求出它放哪个技能，才可以打死 boss。\n\n当然，赵神牛技术很菜，他一局只放一个技能，不过每个技能都可以放无数次。", "inputFormat": "第一行有三个整数，分别表示 $k,m,n$。\n\n后面 $m$ 行，每行两个整数，第 $(i + 1)$ 行的整数表示耗费的法力值 $a_i$ 和造成的伤害 $b_i$。", "outputFormat": "输出仅一行，即可以杀死 boss 的技能序号，如果有多个，按从小到大的顺序输出，中间用一个空格隔开；如果没有技能能杀死 boss，输出 `-1`。", "hint": "#### 数据规模与约定\n对于全部的测试点，满足：\n\n- $0< n,m\\le 3\\times 10^4$；\n- $0\\le k\\le 3\\times 10^4$；\n- $0 \\leq a_i,b_i\\le 2147483647$。", "locale": "zh-CN"}}}
{"pid": "P2008", "type": "P", "difficulty": 2, "samples": [["5\n1 2 5 3 4\n", "1 3 8 6 10\n"], ["5\n1 7 5 9 6\n", "1 8 6 17 12\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "大朋友的数字", "background": "在 NOIP2013 的赛场上，常神牛华丽丽的手残了，[小朋友的数字](https://www.luogu.com.cn/problem/P1982)一题只得了 $10$ 分。于是，他要恶搞一下这道题。", "description": "有一批大朋友（年龄 $15$ 岁以上），他们每人手上拿着一个数字，当然这个数字只有 $1$ 位，也就是 $0$ 到 $9$ 之间。每个大朋友的分数为在他之前的最长不下降子序列中所有数之和。（这个序列必须以它作为结尾！）如有多个最长不下降子序列，那么取编号字典序最小的。现在告诉你有 $n$ 个大朋友，以及他们各自的数字，请你求出他们每个人的分数。", "inputFormat": "第一行，$1$ 个数 $n$。\n\n第二行，$n$ 个数，分别表示每个人的数字。", "outputFormat": "一行，$n$ 个数，分别表示每个人的分数。", "hint": "**【样例解释 $1$】**\n\n五个人分数分别为 $(1),(1+2),(1+2+5),(1+2+3),(1+2+3+4)$。\n\n**【样例解释 $2$】**\n\n五个人分数分别为 $(1),(1+7),(1+5),(1+7+9)$ （还有一个 $(1,5,9)$），$(1+5+6)$。\n\n**【数据规模】**\n\n对于 $50\\%$ 的数据，$1\\le n\\le 500$；\n\n对于 $80\\%$ 的数据，$1\\le n\\le 10^3$；\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Big Friends' Numbers", "background": "At the NOIP2013 contest, Chang Shenniu slipped up badly and scored only $10$ points on the problem “Little Friends’ Numbers” (小朋友的数字): https://www.luogu.com.cn/problem/P1982. So, he decided to make fun of that problem.", "description": "There is a group of “big friends” (age $15$ or above). Each of them holds a number, which has exactly $1$ digit, i.e., it is between $0$ and $9$. The score of each big friend is defined as the sum of all numbers in the longest non-decreasing subsequence that appears before them and ends at them. (This sequence must end at that person!) If there are multiple longest non-decreasing subsequences, choose the one whose sequence of indices is lexicographically smallest. Now you are given $n$ big friends and their numbers. Please compute the score of each person.", "inputFormat": "The first line contains $1$ number $n$.\n\nThe second line contains $n$ numbers, representing each person’s number.", "outputFormat": "Output $n$ numbers in one line, representing each person’s score.", "hint": "[Sample Explanation $1$]\n\nThe five scores are $(1)$, $(1+2)$, $(1+2+5)$, $(1+2+3)$, $(1+2+3+4)$.\n\n[Sample Explanation $2$]\n\nThe five scores are $(1)$, $(1+7)$, $(1+5)$, $(1+7+9)$ (there is also $(1,5,9)$), $(1+5+6)$.\n\nConstraints\n\nFor $50\\%$ of the testdata, $1 \\le n \\le 500$.\n\nFor $80\\%$ of the testdata, $1 \\le n \\le 10^3$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "大朋友的数字", "background": "在 NOIP2013 的赛场上，常神牛华丽丽的手残了，[小朋友的数字](https://www.luogu.com.cn/problem/P1982)一题只得了 $10$ 分。于是，他要恶搞一下这道题。", "description": "有一批大朋友（年龄 $15$ 岁以上），他们每人手上拿着一个数字，当然这个数字只有 $1$ 位，也就是 $0$ 到 $9$ 之间。每个大朋友的分数为在他之前的最长不下降子序列中所有数之和。（这个序列必须以它作为结尾！）如有多个最长不下降子序列，那么取编号字典序最小的。现在告诉你有 $n$ 个大朋友，以及他们各自的数字，请你求出他们每个人的分数。", "inputFormat": "第一行，$1$ 个数 $n$。\n\n第二行，$n$ 个数，分别表示每个人的数字。", "outputFormat": "一行，$n$ 个数，分别表示每个人的分数。", "hint": "**【样例解释 $1$】**\n\n五个人分数分别为 $(1),(1+2),(1+2+5),(1+2+3),(1+2+3+4)$。\n\n**【样例解释 $2$】**\n\n五个人分数分别为 $(1),(1+7),(1+5),(1+7+9)$ （还有一个 $(1,5,9)$），$(1+5+6)$。\n\n**【数据规模】**\n\n对于 $50\\%$ 的数据，$1\\le n\\le 500$；\n\n对于 $80\\%$ 的数据，$1\\le n\\le 10^3$；\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2009", "type": "P", "difficulty": 3, "samples": [["5 2\n6 4 5 4 2\nA D 7\nE B 8\nA D", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论"], "title": "跑步", "background": "跑步是一项有意思的运动，尤其是可以开发人的脑筋。常神牛很喜欢跑步。", "description": "常神牛跑步的场地是一个多边形（边数 $\\leq 20$，每个顶点用英文大写字母表示），并且在这个多边形内部，还会有一些小道，连接两个不相邻的顶点。所有的边长和小道都是双向通行的举例来说，下面一个图：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1049.png)\n\n假设常神牛从 $A$ 点跑到 $D$ 点，最短的路径是 $A-E-D$（长度为 $6$）。\n\n现在告诉你多边形的边数 $n$，多边形每条边的长度，多边形内的连线数 $k$，每条连线的两个端点及长度，以及起始点和结束点，请你输出最短路径的长度。但是常神牛有点强迫症，如果两点之间有多条道路直接连接，他会选择最长的那条。\n\n注意：输入数据不保证起点和终点不同，也不保证小道的起点和终点不同。在读入过程中，如果两点之间有多条小道，那么它们间的距离为这些小道的最大值。所以，如果读入一个小道起点和终点相同，那么这个点到它本身的距离不为 $0$。", "inputFormat": "第一行，$2$ 个数，$n,k$。\n\n第二行，$n$ 个数，分别表示多边形每条边的长度（按顺时针次序依次给出，即分别为 $AB,BC,CD,DE……$ 的长度）。\n\n以下 $k$ 行，每行两个字母和一个数，两个字母表示该连线的起止点，数字表示长度。\n\n最后一行，两个字母，分别为他跑步的起点和终点。\n\n所有的一行的字母、数字之间用一个空格隔开。", "outputFormat": "一行，一个数，表示最短路的长度。", "hint": "对于 $20\\%$ 的数据，$k=0$；\n\n对于 $50\\%$ 的数据，$k \\leq 10$；\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 20$，$0 \\leq k \\leq 100$，所有路径长度均不大于 $1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Running", "background": "Running is an interesting sport, especially because it can develop one’s mind. Chang Sheniu (pinyin) loves running.", "description": "Chang Sheniu’s running field is a polygon (number of sides $\\leq 20$, each vertex is denoted by an uppercase English letter). Inside the polygon, there are also some trails that connect two non-adjacent vertices. All edges and trails are bidirectional. For example, in the figure below:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1049.png)\n\nSuppose Chang Sheniu runs from $A$ to $D$, the shortest path is $A-E-D$ (length $6$).\n\nYou are given the number of sides $n$, the length of each polygon edge, the number of internal connections $k$, the two endpoints and the length of each internal connection, and the start and end vertices. Please output the length of the shortest path. However, Chang Sheniu has a bit of OCD: if there are multiple roads directly connecting the same pair of vertices, he will choose the longest one.\n\nNote: The input does not guarantee that the start and end vertices are different, nor that the endpoints of an internal trail are different. When reading the input, if there are multiple internal trails between two vertices, the distance between them is the maximum of those trails. Therefore, if an internal trail starts and ends at the same vertex, the distance from that vertex to itself is not $0$.\n\n# Description", "inputFormat": "- The first line contains $2$ numbers, $n, k$.\n- The second line contains $n$ numbers, giving the lengths of the polygon’s edges in clockwise order, i.e., the lengths of $AB, BC, CD, DE, \\ldots$.\n- Each of the following $k$ lines contains two letters and a number. The two letters are the endpoints of an internal connection, and the number is its length.\n- The last line contains two letters, the start and end vertices of the run.\n\nWithin each line, letters and numbers are separated by a single space.", "outputFormat": "One line with one number: the length of the shortest path.", "hint": "- For $20\\%$ of the testdata, $k = 0$.\n- For $50\\%$ of the testdata, $k \\leq 10$.\n- For $100\\%$ of the testdata, $1 \\leq n \\leq 20$, $0 \\leq k \\leq 100$, and all path lengths do not exceed $1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "跑步", "background": "跑步是一项有意思的运动，尤其是可以开发人的脑筋。常神牛很喜欢跑步。", "description": "常神牛跑步的场地是一个多边形（边数 $\\leq 20$，每个顶点用英文大写字母表示），并且在这个多边形内部，还会有一些小道，连接两个不相邻的顶点。所有的边长和小道都是双向通行的举例来说，下面一个图：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1049.png)\n\n假设常神牛从 $A$ 点跑到 $D$ 点，最短的路径是 $A-E-D$（长度为 $6$）。\n\n现在告诉你多边形的边数 $n$，多边形每条边的长度，多边形内的连线数 $k$，每条连线的两个端点及长度，以及起始点和结束点，请你输出最短路径的长度。但是常神牛有点强迫症，如果两点之间有多条道路直接连接，他会选择最长的那条。\n\n注意：输入数据不保证起点和终点不同，也不保证小道的起点和终点不同。在读入过程中，如果两点之间有多条小道，那么它们间的距离为这些小道的最大值。所以，如果读入一个小道起点和终点相同，那么这个点到它本身的距离不为 $0$。", "inputFormat": "第一行，$2$ 个数，$n,k$。\n\n第二行，$n$ 个数，分别表示多边形每条边的长度（按顺时针次序依次给出，即分别为 $AB,BC,CD,DE……$ 的长度）。\n\n以下 $k$ 行，每行两个字母和一个数，两个字母表示该连线的起止点，数字表示长度。\n\n最后一行，两个字母，分别为他跑步的起点和终点。\n\n所有的一行的字母、数字之间用一个空格隔开。", "outputFormat": "一行，一个数，表示最短路的长度。", "hint": "对于 $20\\%$ 的数据，$k=0$；\n\n对于 $50\\%$ 的数据，$k \\leq 10$；\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 20$，$0 \\leq k \\leq 100$，所有路径长度均不大于 $1000$。", "locale": "zh-CN"}}}
{"pid": "P2010", "type": "P", "difficulty": 2, "samples": [["20110101\n20111231\n", "1\n"], ["20000101\n20101231\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2016", "NOIP 普及组", "枚举"], "title": "[NOIP 2016 普及组] 回文日期", "background": "NOIP2016 普及组 T2", "description": "在日常生活中，通过年、月、日这三个要素可以表示出一个唯一确定的日期。\n\n牛牛习惯用 $8$ 位数字表示一个日期，其中，前 $4$ 位代表年份，接下来 $2$ 位代表月份，最后 $2$ 位代表日期。显然：一个日期只有一种表示方法，而两个不同的日期的表示方法不会相同。\n\n牛牛认为，一个日期是回文的，当且仅当表示这个日期的 $8$ 位数字是回文的。现在，牛牛想知道：在他指定的两个日期之间（包含这两个日期本身），有多少个真实存在的日期是回文的。\n\n一个 $8$ 位数字是回文的，当且仅当对于所有的 $i$（$1  \\le i \\le 8$）从左向右数的第 $i$ 个数字和第 $9-i$ 个数字（即从右向左数的第 $i$ 个数字）是相同的。\n\n例如：\n\n- 对于 2016 年 11 月 19 日，用 $8$ 位数字 $20161119$ 表示，它不是回文的。\n- 对于 2010 年 1 月 2 日，用 $8$ 位数字 $20100102$ 表示，它是回文的。\n- 对于 2010 年 10 月 2 日，用 $8$ 位数字 $20101002$ 表示，它不是回文的。\n\n每一年中都有 $12$ 个月份：\n\n其中，$1, 3, 5, 7, 8, 10, 12$ 月每个月有 $31$ 天；$4, 6, 9, 11$ 月每个月有 $30$ 天；而对于 $2$ 月，闰年时有 $29$ 天，平年时有 $28$ 天。\n\n一个年份是闰年当且仅当它满足下列两种情况其中的一种：\n\n1. 这个年份是 $4$ 的整数倍，但不是 $100$ 的整数倍；\n2. 这个年份是 $400$ 的整数倍。\n\n例如：\n\n- 以下几个年份都是闰年：$2000, 2012, 2016$。\n- 以下几个年份是平年：$1900, 2011, 2014$。", "inputFormat": "两行，每行包括一个 $8$ 位数字。\n\n第一行表示牛牛指定的起始日期。\n\n第二行表示牛牛指定的终止日期。\n\n保证 $\\mathit{date}_1$ 和 $\\mathit{date}_2$ 都是真实存在的日期，且年份部分一定为 $4$ 位数字，且首位数字不为 $0$。\n\n保证 $\\mathit{date}_1$ 一定不晚于 $\\mathit{date}_2$。", "outputFormat": "一个整数，表示在 $\\mathit{date}_1$ 和 $\\mathit{date}_2$ 之间，有多少个日期是回文的。", "hint": "**【样例说明】**\n\n对于样例 1，符合条件的日期是 $20111102$。\n\n对于样例 2，符合条件的日期是 $20011002$ 和 $20100102$。\n\n**【子任务】**\n\n对于 $60 \\%$ 的数据，满足 $\\mathit{date}_1 = \\mathit{date}_2$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2016 Junior] Palindromic Date", "background": "NOIP 2016 Junior T2.", "description": "In daily life, a unique date can be specified by the three components: year, month, and day.\n\nNiuniu habitually uses an 8-digit number to represent a date, where the first 4 digits denote the year, the next 2 digits denote the month, and the last 2 digits denote the day. Clearly, a date has only one representation, and two different dates do not share the same representation.\n\nNiuniu considers a date to be palindromic if and only if the 8-digit number representing this date is a palindrome. Now Niuniu wants to know: between the two dates he specifies (including both endpoints), how many real dates are palindromic.\n\nAn 8-digit number is palindromic if and only if, for all $i$ ($1 \\le i \\le 8$), the $i$-th digit from the left is the same as the $(9 - i)$-th digit (that is, the $i$-th digit from the right).\n\nFor example:\n- For November 19, 2016, represented by the 8-digit number $20161119$, it is not palindromic.\n- For January 2, 2010, represented by the 8-digit number $20100102$, it is palindromic.\n- For October 2, 2010, represented by the 8-digit number $20101002$, it is not palindromic.\n\nEach year has 12 months:\n\nAmong them, months $1, 3, 5, 7, 8, 10, 12$ each have $31$ days; months $4, 6, 9, 11$ each have $30$ days; and for February, there are $29$ days in a leap year and $28$ days in a common year.\n\nA year is a leap year if and only if it satisfies one of the following:\n1. The year is a multiple of $4$ but not a multiple of $100$;\n2. The year is a multiple of $400$.\n\nFor example:\n- The following years are leap years: $2000, 2012, 2016$.\n- The following years are common years: $1900, 2011, 2014$.", "inputFormat": "Two lines, each containing an 8-digit number.\n\nThe first line is the start date specified by Niuniu.\n\nThe second line is the end date specified by Niuniu.\n\nIt is guaranteed that $\\mathit{date}_1$ and $\\mathit{date}_2$ are real dates, the year part always has 4 digits with a nonzero first digit, and $\\mathit{date}_1$ is not later than $\\mathit{date}_2$.", "outputFormat": "Output a single integer, representing how many dates between $\\mathit{date}_1$ and $\\mathit{date}_2$ (inclusive) are palindromic.", "hint": "Sample Explanation:\n\n- For sample 1, the valid date is $20111102$.\n- For sample 2, the valid dates are $20011002$ and $20100102$.\n\nSubtasks:\n\n- For $60\\%$ of the testdata, $\\mathit{date}_1 = \\mathit{date}_2$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2016 普及组] 回文日期", "background": "NOIP2016 普及组 T2", "description": "在日常生活中，通过年、月、日这三个要素可以表示出一个唯一确定的日期。\n\n牛牛习惯用 $8$ 位数字表示一个日期，其中，前 $4$ 位代表年份，接下来 $2$ 位代表月份，最后 $2$ 位代表日期。显然：一个日期只有一种表示方法，而两个不同的日期的表示方法不会相同。\n\n牛牛认为，一个日期是回文的，当且仅当表示这个日期的 $8$ 位数字是回文的。现在，牛牛想知道：在他指定的两个日期之间（包含这两个日期本身），有多少个真实存在的日期是回文的。\n\n一个 $8$ 位数字是回文的，当且仅当对于所有的 $i$（$1  \\le i \\le 8$）从左向右数的第 $i$ 个数字和第 $9-i$ 个数字（即从右向左数的第 $i$ 个数字）是相同的。\n\n例如：\n\n- 对于 2016 年 11 月 19 日，用 $8$ 位数字 $20161119$ 表示，它不是回文的。\n- 对于 2010 年 1 月 2 日，用 $8$ 位数字 $20100102$ 表示，它是回文的。\n- 对于 2010 年 10 月 2 日，用 $8$ 位数字 $20101002$ 表示，它不是回文的。\n\n每一年中都有 $12$ 个月份：\n\n其中，$1, 3, 5, 7, 8, 10, 12$ 月每个月有 $31$ 天；$4, 6, 9, 11$ 月每个月有 $30$ 天；而对于 $2$ 月，闰年时有 $29$ 天，平年时有 $28$ 天。\n\n一个年份是闰年当且仅当它满足下列两种情况其中的一种：\n\n1. 这个年份是 $4$ 的整数倍，但不是 $100$ 的整数倍；\n2. 这个年份是 $400$ 的整数倍。\n\n例如：\n\n- 以下几个年份都是闰年：$2000, 2012, 2016$。\n- 以下几个年份是平年：$1900, 2011, 2014$。", "inputFormat": "两行，每行包括一个 $8$ 位数字。\n\n第一行表示牛牛指定的起始日期。\n\n第二行表示牛牛指定的终止日期。\n\n保证 $\\mathit{date}_1$ 和 $\\mathit{date}_2$ 都是真实存在的日期，且年份部分一定为 $4$ 位数字，且首位数字不为 $0$。\n\n保证 $\\mathit{date}_1$ 一定不晚于 $\\mathit{date}_2$。", "outputFormat": "一个整数，表示在 $\\mathit{date}_1$ 和 $\\mathit{date}_2$ 之间，有多少个日期是回文的。", "hint": "**【样例说明】**\n\n对于样例 1，符合条件的日期是 $20111102$。\n\n对于样例 2，符合条件的日期是 $20011002$ 和 $20100102$。\n\n**【子任务】**\n\n对于 $60 \\%$ 的数据，满足 $\\mathit{date}_1 = \\mathit{date}_2$。", "locale": "zh-CN"}}}
{"pid": "P2011", "type": "P", "difficulty": 6, "samples": [["3 5 1 3\r\n1 18\r\n1 2 6\r\n1 3 2\r\n2 3 6\r\n3 0 6\r\n2 0 2\r\n1 0\r\n2 3\r\n1 2\r\n", "18.00\r\n-6.00\r\n12.00\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "高斯消元"], "title": "计算电压", "background": "相信不少人轻松灭掉 1，2 两题（蒟蒻无视此句） ，我相信，大家对物理也是很有兴趣的（众人：我们对揍人也是很有兴趣的） ，那么，再奉上 100 分给 Physicaler 们。", "description": "现给定一个电阻网络，已知其中每条边上的电阻，和若干个点和负极之间的电压（电源电压不变） ，现在求任意两点之间的电压。", "inputFormat": "第一行四个正整数 $n,m,k,q$，表示有 $n$ 个节点（可能是几个点用导线相连接，与一个点等价，编号为 $1$ 至 $n$，$0$ 号节点为电源负极），$m$ 个定值电阻（每个定值电阻连接两个点），电源正极有 $k$ 个接口，有 $q$ 个询问。\n\n接下来 $k$ 行，每行两个正整数，表示这个正极的编号与该接线柱与电源负极之间的电压 $u_i$。\n\n再接下来 $m$ 行，每行三个正整数 $v_i,w_i,r_i$，表示节点 $v_i$ 与 $w_i$ 之间有一条阻值为 $r_i$ 的电阻丝。\n\n再接下来 $q$ 行，每行两个正整数 $a_i,b_i$，表示要求 $a_i$ 与 $b_i$ 之间的电压。", "outputFormat": "一共 $q$ 行，每行一个实数表示 $a_i$ 与 $b_i$ 之间的电压（保留两位小数）。若 $a_i$ 点电压小于 $b_i$ 点电压，输出负值。", "hint": "【数据范围】\n\n对于 $10\\%$ 的数据，$1\\le q\\le 10$；\n\n对于 $20\\%$ 的数据，$1\\le n\\le 10$，且保证电路为串联、并联或混联；\n\n对于 $40\\%$ 的数据，$1\\le n\\le 40$，$k\\le 5$；\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 200$，$1\\le m\\le 2\\times 10^5$，$1\\le r_i,u_i\\le 10^4$，$1\\le q\\le 10^6$。\n\n【时空限制】\n\n时间限制：1.00s，空间限制：125.00MB。\n\n【样例解释】\n\n如图所示。\n\n![样例解释](https://cdn.luogu.com.cn/upload/pic/722.png)", "locale": "zh-CN", "translations": {"en": {"title": "Compute Voltage", "background": "I believe many of you easily beat problems 1 and 2 (jǔruò, please ignore this line). I also believe everyone is very interested in physics (crowd: we are also very interested in punching people). So here are another 100 points for the \"Physicalers.\"", "description": "You are given a resistor network. The resistance on each edge is known, and the voltages between several nodes and the negative terminal are given (the power-supply voltage is constant). Now compute the voltage between any two nodes.", "inputFormat": "The first line contains four positive integers $n, m, k, q$, indicating there are $n$ nodes (some nodes may be connected by wires and thus are equivalent to one node; nodes are numbered $1$ to $n$, and node $0$ is the negative terminal of the power supply), $m$ fixed resistors (each fixed resistor connects two nodes), the positive terminal of the power supply has $k$ terminals, and there are $q$ queries.\n\nThe next $k$ lines each contain two positive integers, indicating the index of this positive terminal and the voltage $u_i$ between this binding post and the negative terminal.\n\nThe next $m$ lines each contain three positive integers $v_i, w_i, r_i$, indicating that there is a resistor of resistance $r_i$ between nodes $v_i$ and $w_i$.\n\nThe next $q$ lines each contain two positive integers $a_i, b_i$, indicating that you need to compute the voltage between $a_i$ and $b_i$.", "outputFormat": "Output $q$ lines. Each line contains one real number representing the voltage between $a_i$ and $b_i$ (rounded to two decimal places). If the voltage at $a_i$ is less than the voltage at $b_i$, output a negative value.", "hint": "Constraints\n\n- For $10\\%$ of the testdata, $1 \\le q \\le 10$.\n- For $20\\%$ of the testdata, $1 \\le n \\le 10$, and the circuit is guaranteed to be series, parallel, or a mixed connection.\n- For $40\\%$ of the testdata, $1 \\le n \\le 40$, $k \\le 5$.\n- For $100\\%$ of the testdata, $1 \\le k \\le n \\le 200$, $1 \\le m \\le 2 \\times 10^5$, $1 \\le r_i, u_i \\le 10^4$, $1 \\le q \\le 10^6$.\n\nTime and Memory Limits\n\nTime limit: 1.00 s, Memory limit: 125.00 MB.\n\nSample Explanation\n\nAs shown in the figure.\n\n![样例解释](https://cdn.luogu.com.cn/upload/pic/722.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "计算电压", "background": "相信不少人轻松灭掉 1，2 两题（蒟蒻无视此句） ，我相信，大家对物理也是很有兴趣的（众人：我们对揍人也是很有兴趣的） ，那么，再奉上 100 分给 Physicaler 们。", "description": "现给定一个电阻网络，已知其中每条边上的电阻，和若干个点和负极之间的电压（电源电压不变） ，现在求任意两点之间的电压。", "inputFormat": "第一行四个正整数 $n,m,k,q$，表示有 $n$ 个节点（可能是几个点用导线相连接，与一个点等价，编号为 $1$ 至 $n$，$0$ 号节点为电源负极），$m$ 个定值电阻（每个定值电阻连接两个点），电源正极有 $k$ 个接口，有 $q$ 个询问。\n\n接下来 $k$ 行，每行两个正整数，表示这个正极的编号与该接线柱与电源负极之间的电压 $u_i$。\n\n再接下来 $m$ 行，每行三个正整数 $v_i,w_i,r_i$，表示节点 $v_i$ 与 $w_i$ 之间有一条阻值为 $r_i$ 的电阻丝。\n\n再接下来 $q$ 行，每行两个正整数 $a_i,b_i$，表示要求 $a_i$ 与 $b_i$ 之间的电压。", "outputFormat": "一共 $q$ 行，每行一个实数表示 $a_i$ 与 $b_i$ 之间的电压（保留两位小数）。若 $a_i$ 点电压小于 $b_i$ 点电压，输出负值。", "hint": "【数据范围】\n\n对于 $10\\%$ 的数据，$1\\le q\\le 10$；\n\n对于 $20\\%$ 的数据，$1\\le n\\le 10$，且保证电路为串联、并联或混联；\n\n对于 $40\\%$ 的数据，$1\\le n\\le 40$，$k\\le 5$；\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 200$，$1\\le m\\le 2\\times 10^5$，$1\\le r_i,u_i\\le 10^4$，$1\\le q\\le 10^6$。\n\n【时空限制】\n\n时间限制：1.00s，空间限制：125.00MB。\n\n【样例解释】\n\n如图所示。\n\n![样例解释](https://cdn.luogu.com.cn/upload/pic/722.png)", "locale": "zh-CN"}}}
{"pid": "P2012", "type": "P", "difficulty": 6, "samples": [["3\n10\n20\n6\n0", "0\n225116160\n53238784\n7680\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["生成函数"], "title": "拯救世界2", "background": "前三题太弱了嘛，在看看最后一道渣题。", "description": "经过 12 年的韬光养晦，世界末日再次来临（众人：什么鬼逻辑......）。\n\n这次，小 a 和 uim 已经做好了一切准备，顺利召唤出了 kkksc03 大神和 lzn 大神。然而，kkksc03 和 lzn 告诉他们，这次世界末日太过强大，他们已无法挽回，只有创世神 JOHNKRAM 能拯救这个世界。\n\n然而，创世神 JOHNKRAM 是无法召唤的，除非把整个宇宙按照 $E=mc^2$ 全部转化成能量。因为根据 C\\_SUNSHINE 大神随手推算出的召唤定律，至少需要被召唤者百万亿分之一的能量才能召唤（众人：什么鬼定律......）。\n****\n当然，还有一种方法，那就是找出创世神 JOHNKRAM 的基因序列。普通人基因序列由 A、C、G、T 构成，创世神 JOHNKRAM 不是普通人（是个胖纸），基因序列也不一样。除了这四种普通的，还有乾、兑、离、震、巽、坎、艮、坤八种特殊基因。其中乾、坎、艮、震属阳，只能出现奇数次；坤、兑、离、巽属阴，只能出现偶数次。\n\n现在只知道创世神 JOHNKRAM 的基因序列共有 $n$ 位，其他一概不知。小 a 和 uim 想知道他们最多要试多少次，才能召唤出创世神 JOHNKRAM 。这个数字有可能很大，所以输出答案模 $10^9$ 即可（C\\_SUNSHINE 的忠告：远离八卦，远离肥胖）。", "inputFormat": "输入由多组数据组成，每组数据一行，输入一个数 $n$，输入以 $0$ 结束。", "outputFormat": "对于每组数据，输出一行一个整数，表示答案对 $10^9$ 取模的结果。", "hint": "【数据范围】     \n对于 $10\\%$ 的数据：$1\\le n < 25$，数据不超过 $10$ 组；  \n对于 $50\\%$ 的数据：$1\\le n < 2^{31}$，数据不超过 $10^3$ 组；   \n对于 $100\\%$ 的数据：$1\\le n < 2^{63}$，数据不超过 $2\\times 10^5$ 组。\n\n【样例解释】  \n第一个数据解释：  \n只有 $3$ 位，没有合法方案，故答案为 $0$。\n\n【备注】\n\n附件：聊天记录（纯粹扯淡）\n\nJOHNKRAM 8:50:33\n\n喂喂，坑神之赛2可以开始了吧\n\nC_SUNSHINE 8:50:34\n\n[自动回复]恩！\n\nJOHNKRAM 8:51:12\n\n我准备把最后一题数据从 $50$ 放到 $2^{63}$。\n\nC_SUNSHINE 8:51:12\n\n[自动回复]恩！\n\nJOHNKRAM 8:51:45\n\n你同意喽？\n\nC_SUNSHINE 8:51:46\n\n[自动回复]恩！\n\nC_SUNSHINE 11:58:50\n\n你疯了吗？！\n\nJOHNKRAM 11:58:52\n\n[自动回复]您好，我现在有事不在，一会再和您联系。 不再提醒", "locale": "zh-CN", "translations": {"en": {"title": "Save the World 2", "background": "The first three problems were too weak. Now take a look at this final “trash” problem.", "description": "After 12 years of hiding their strength, the end of the world comes again (everyone: what kind of logic is that...).\n\nThis time, xiao a and uim have prepared everything and successfully summoned the gurus kkksc03 and lzn. However, kkksc03 and lzn told them that this doomsday is too powerful to reverse. Only the Creator God JOHNKRAM can save the world.\n\nBut the Creator God JOHNKRAM cannot be summoned, unless the entire universe is converted into energy according to $E=mc^2$. Based on the summoning law casually derived by the guru C_SUNSHINE, at least one quadrillionth of the summonee’s energy is required to summon them (everyone: what kind of law is that...).\n\nOf course, there is another way: find the genetic sequence of the Creator God JOHNKRAM. A normal human gene sequence consists of A, C, G, T. The Creator God JOHNKRAM is not a normal person (he’s a chubby guy), so his genetic sequence is different. Besides these four ordinary ones, there are eight special genes: 乾 (Qian), 兑 (Dui), 离 (Li), 震 (Zhen), 巽 (Xun), 坎 (Kan), 艮 (Gen), 坤 (Kun). Among them, 乾, 坎, 艮, 震 are “yang” and can only appear an odd number of times; 坤, 兑, 离, 巽 are “yin” and can only appear an even number of times.\n\nNow we only know that the Creator God JOHNKRAM’s genetic sequence has $n$ positions; nothing else is known. xiao a and uim want to know the maximum number of attempts they would need in order to summon the Creator God JOHNKRAM. This number can be large, so output the answer modulo $10^9$ (C_SUNSHINE’s advice: stay away from the Eight Trigrams, stay away from obesity).", "inputFormat": "Multiple test cases. Each test case contains a single integer $n$ on one line. Input terminates with $0$.", "outputFormat": "For each test case, output a single integer on one line: the answer modulo $10^9$.", "hint": "Constraints  \nFor $10\\%$ of the testdata: $1 \\le n < 25$, the number of test cases does not exceed $10$.  \nFor $50\\%$ of the testdata: $1 \\le n < 2^{31}$, the number of test cases does not exceed $10^3$.  \nFor $100\\%$ of the testdata: $1 \\le n < 2^{63}$, the number of test cases does not exceed $2 \\times 10^5$.\n\nSample Explanation  \nExplanation for the first sample:  \nThere are only $3$ positions, so there is no valid configuration. The answer is $0$.\n\nNotes\n\nAttachment: chat log (pure nonsense)\n\nJOHNKRAM 8:50:33  \nHey hey, can the Pit God Contest 2 start now?\n\nC_SUNSHINE 8:50:34  \n[Auto-reply] En!\n\nJOHNKRAM 8:51:12  \nI’m planning to raise the last problem’s range from $50$ to $2^{63}$.\n\nC_SUNSHINE 8:51:12  \n[Auto-reply] En!\n\nJOHNKRAM 8:51:45  \nYou agree?\n\nC_SUNSHINE 8:51:46  \n[Auto-reply] En!\n\nC_SUNSHINE 11:58:50  \nAre you crazy?!\n\nJOHNKRAM 11:58:52  \n[Auto-reply] Hello, I’m busy right now and will get back to you later. Do not remind again.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "拯救世界2", "background": "前三题太弱了嘛，在看看最后一道渣题。", "description": "经过 12 年的韬光养晦，世界末日再次来临（众人：什么鬼逻辑......）。\n\n这次，小 a 和 uim 已经做好了一切准备，顺利召唤出了 kkksc03 大神和 lzn 大神。然而，kkksc03 和 lzn 告诉他们，这次世界末日太过强大，他们已无法挽回，只有创世神 JOHNKRAM 能拯救这个世界。\n\n然而，创世神 JOHNKRAM 是无法召唤的，除非把整个宇宙按照 $E=mc^2$ 全部转化成能量。因为根据 C\\_SUNSHINE 大神随手推算出的召唤定律，至少需要被召唤者百万亿分之一的能量才能召唤（众人：什么鬼定律......）。\n****\n当然，还有一种方法，那就是找出创世神 JOHNKRAM 的基因序列。普通人基因序列由 A、C、G、T 构成，创世神 JOHNKRAM 不是普通人（是个胖纸），基因序列也不一样。除了这四种普通的，还有乾、兑、离、震、巽、坎、艮、坤八种特殊基因。其中乾、坎、艮、震属阳，只能出现奇数次；坤、兑、离、巽属阴，只能出现偶数次。\n\n现在只知道创世神 JOHNKRAM 的基因序列共有 $n$ 位，其他一概不知。小 a 和 uim 想知道他们最多要试多少次，才能召唤出创世神 JOHNKRAM 。这个数字有可能很大，所以输出答案模 $10^9$ 即可（C\\_SUNSHINE 的忠告：远离八卦，远离肥胖）。", "inputFormat": "输入由多组数据组成，每组数据一行，输入一个数 $n$，输入以 $0$ 结束。", "outputFormat": "对于每组数据，输出一行一个整数，表示答案对 $10^9$ 取模的结果。", "hint": "【数据范围】     \n对于 $10\\%$ 的数据：$1\\le n < 25$，数据不超过 $10$ 组；  \n对于 $50\\%$ 的数据：$1\\le n < 2^{31}$，数据不超过 $10^3$ 组；   \n对于 $100\\%$ 的数据：$1\\le n < 2^{63}$，数据不超过 $2\\times 10^5$ 组。\n\n【样例解释】  \n第一个数据解释：  \n只有 $3$ 位，没有合法方案，故答案为 $0$。\n\n【备注】\n\n附件：聊天记录（纯粹扯淡）\n\nJOHNKRAM 8:50:33\n\n喂喂，坑神之赛2可以开始了吧\n\nC_SUNSHINE 8:50:34\n\n[自动回复]恩！\n\nJOHNKRAM 8:51:12\n\n我准备把最后一题数据从 $50$ 放到 $2^{63}$。\n\nC_SUNSHINE 8:51:12\n\n[自动回复]恩！\n\nJOHNKRAM 8:51:45\n\n你同意喽？\n\nC_SUNSHINE 8:51:46\n\n[自动回复]恩！\n\nC_SUNSHINE 11:58:50\n\n你疯了吗？！\n\nJOHNKRAM 11:58:52\n\n[自动回复]您好，我现在有事不在，一会再和您联系。 不再提醒", "locale": "zh-CN"}}}
{"pid": "P2013", "type": "P", "difficulty": 4, "samples": [["5\na 1 5\nb 1 1000\nc 2 4\nd 51 60\ne 153 79\n30\ne 160\nd 210", "160.83 123.41"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何"], "title": "无线电测向", "background": "", "description": "有天线定位装置的船能通过接收当地灯塔信号来确定自己的位置。每个灯塔固定在已知点上并发出特有的信号。当船检测到信号，它可通过旋转天线直到信号达到最大强度。这样就可确定自身与该灯塔的位置关系。只要接收到两个灯塔的信息，就有可能确定船当前的位置。\n\n编程任务：通过一对灯塔信息来确定船的位置。\n\n灯塔和船的位置被确定在一个直角坐标系内。$x$ 轴正向指向东，$y$ 轴正向指向北。船的航行路线从正北开始按顺时针用度表示。北是 $0^\\circ$，东是 $90^\\circ$，南是 $180^\\circ$，西是 $270^\\circ$。灯塔与船的位置关系用相对于船的航行方向顺时针用度表示。\n", "inputFormat": "文件的第一行是一个整数，表示灯塔的数目 $N$。以下 $N$ 行，每行表示一个灯塔，为灯塔名称，$x$ 坐标和 $y$ 坐标。它们都用空格隔开。\n\n灯塔信息下面是船的信息包括三行，一行是船的方向，其余两行是所接收到的灯塔信号。\n\n具体如下：\n\n| 输入数据 | 数据的含义|\n| :-: | :-:|\n| 方向 | 船的航行方向 |\n| 名称 $1$，角度 $1$ | 第一个灯塔信息的名称，灯塔的方位 |\n| 名称 $2$，角度 $2$ | 第二个灯塔信息的名称，灯塔的方位 |\n\n灯塔的方位为船与灯塔所在的直线与船的航行方向的夹角（从船的航行方向开始顺时针）。$2$ 个数据用空格隔开。", "outputFormat": "输出船的位置（精确到 $2$ 位小数）。如果无法确定船的位置，应输出 `NO ANSWER`（不能使用小写）。\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le 30$，灯塔名称是 $20$ 个以下的字母。\n", "locale": "zh-CN", "translations": {"en": {"title": "Radio Direction Finding", "background": "", "description": "A ship equipped with an antenna positioning device can determine its position by receiving signals from local lighthouses. Each lighthouse is fixed at a known point and emits a unique signal. When the ship detects a signal, it can rotate its antenna until the signal reaches maximum strength, thereby determining its relative position to that lighthouse. As long as signals from two lighthouses are received, it is possible to determine the ship’s current position.\n\nProgramming task: determine the ship’s position from a pair of lighthouse readings.\n\nThe positions of the lighthouses and the ship are given in a Cartesian coordinate system. The positive $x$-axis points east, and the positive $y$-axis points north. The ship’s heading is measured clockwise from due north in degrees. North is $0^\\circ$, east is $90^\\circ$, south is $180^\\circ$, and west is $270^\\circ$. The relative position of a lighthouse to the ship is given as the angle, measured clockwise in degrees, from the ship’s heading.", "inputFormat": "The first line contains an integer, the number of lighthouses $N$. Each of the next $N$ lines describes one lighthouse with its name, $x$-coordinate, and $y$-coordinate, separated by spaces.\n\nFollowing the lighthouse data are three lines describing the ship: one line for the ship’s heading, and two lines for the two received lighthouse signals.\n\nDetails are as follows:\n\n| Input item | Meaning |\n| :-: | :-: |\n| Heading | The ship’s heading. |\n| Name 1, Angle 1 | The name of the first lighthouse and its bearing. |\n| Name 2, Angle 2 | The name of the second lighthouse and its bearing. |\n\nThe bearing of a lighthouse is the angle between the line from the ship to the lighthouse and the ship’s heading, measured clockwise from the ship’s heading. The two items on each of the last two lines are separated by a space.", "outputFormat": "Output the ship’s position, accurate to 2 decimal places. If the ship’s position cannot be determined, output `NO ANSWER` (do not use lowercase).", "hint": "For 100% of the testdata, $1 \\le N \\le 30$, and lighthouse names contain at most 20 letters.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "无线电测向", "background": "", "description": "有天线定位装置的船能通过接收当地灯塔信号来确定自己的位置。每个灯塔固定在已知点上并发出特有的信号。当船检测到信号，它可通过旋转天线直到信号达到最大强度。这样就可确定自身与该灯塔的位置关系。只要接收到两个灯塔的信息，就有可能确定船当前的位置。\n\n编程任务：通过一对灯塔信息来确定船的位置。\n\n灯塔和船的位置被确定在一个直角坐标系内。$x$ 轴正向指向东，$y$ 轴正向指向北。船的航行路线从正北开始按顺时针用度表示。北是 $0^\\circ$，东是 $90^\\circ$，南是 $180^\\circ$，西是 $270^\\circ$。灯塔与船的位置关系用相对于船的航行方向顺时针用度表示。\n", "inputFormat": "文件的第一行是一个整数，表示灯塔的数目 $N$。以下 $N$ 行，每行表示一个灯塔，为灯塔名称，$x$ 坐标和 $y$ 坐标。它们都用空格隔开。\n\n灯塔信息下面是船的信息包括三行，一行是船的方向，其余两行是所接收到的灯塔信号。\n\n具体如下：\n\n| 输入数据 | 数据的含义|\n| :-: | :-:|\n| 方向 | 船的航行方向 |\n| 名称 $1$，角度 $1$ | 第一个灯塔信息的名称，灯塔的方位 |\n| 名称 $2$，角度 $2$ | 第二个灯塔信息的名称，灯塔的方位 |\n\n灯塔的方位为船与灯塔所在的直线与船的航行方向的夹角（从船的航行方向开始顺时针）。$2$ 个数据用空格隔开。", "outputFormat": "输出船的位置（精确到 $2$ 位小数）。如果无法确定船的位置，应输出 `NO ANSWER`（不能使用小写）。\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le N \\le 30$，灯塔名称是 $20$ 个以下的字母。\n", "locale": "zh-CN"}}}
{"pid": "P2014", "type": "P", "difficulty": 4, "samples": [["7 4\n2 2\n0 1\n0 4\n2 1\n7 1\n7 6\n2 2", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "1997", "背包 DP", "树形 DP", "CTSC/CTS"], "title": "[CTSC1997] 选课", "background": null, "description": "在大学里每个学生，为了达到一定的学分，必须从很多课程里选择一些课程来学习，在课程里有些课程必须在某些课程之前学习，如高等数学总是在其它课程之前学习。现在有 $N$ 门功课，每门课有若干学分，分别记作 $s_1,s_2,\\cdots,s_N$，每门课有一门或没有直接先修课（若课程 $a$ 是课程 $b$ 的先修课即只有学完了课程 $a$，才能学习课程 $b$）。一个学生要从这些课程里选择 $M$ 门课程学习，问他能获得的最大学分是多少？\n\n题目保证课程安排无冲突。（即不会有 $a$ 是 $b$ 的先修课，$b$ 也是 $a$ 的先修课这类情况存在。）", "inputFormat": "第一行有两个整数 $N$，$M$ 用空格隔开 $(1 \\leq N \\leq 300$ , $1 \\leq M \\leq 300)$。\n\n接下来的 $N$ 行，第 $i+1$ 行包含两个整数 $k_i$ 和 $s_i$，$k_i$ 表示第 $i$ 门课的直接先修课，$s_i$ 表示第 $i$ 门课的学分。若 $k_i=0$ 表示没有直接先修课 $(0 \\leq {k_i} \\leq N$,$1 \\leq {s_i} \\leq 20)$。\n\n数据保证至少存在一个 $k_i=0$，即至少一门课无先修课。", "outputFormat": "只有一行，选 $M$ 门课程的最大学分。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[CTSC1997] Course Selection", "background": null, "description": "At a university, to reach a certain number of credits, each student must choose some courses from many options. Among the courses, some must be taken before others; for example, Advanced Mathematics is always taken before other courses. Now there are $N$ courses, each with some credits, denoted as $s_1,s_2,\\cdots,s_N$. Each course has one direct prerequisite or none (if course $a$ is a prerequisite of course $b$, then one can study course $b$ only after finishing course $a$). A student needs to choose $M$ courses from these courses. What is the maximum total number of credits he can obtain?\n\nThe problem guarantees that the course arrangement has no conflicts. (That is, there is no situation where $a$ is a prerequisite of $b$ while $b$ is also a prerequisite of $a$.)", "inputFormat": "The first line contains two integers $N$, $M$ separated by a space $(1 \\leq N \\leq 300$ , $1 \\leq M \\leq 300)$.\n\nThe next $N$ lines: the $(i+1)$-th line contains two integers $k_i$ and $s_i$, where $k_i$ is the direct prerequisite of course $i$, and $s_i$ is the credits of course $i$. If $k_i=0$, it means there is no direct prerequisite $(0 \\leq {k_i} \\leq N$,$1 \\leq {s_i} \\leq 20)$.\n\nThe testdata guarantees that there exists at least one $k_i=0$, i.e., there is at least one course without a prerequisite.", "outputFormat": "Output a single line containing the maximum total credits when choosing $M$ courses.", "hint": "Translated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CTSC1997] 选课", "background": null, "description": "在大学里每个学生，为了达到一定的学分，必须从很多课程里选择一些课程来学习，在课程里有些课程必须在某些课程之前学习，如高等数学总是在其它课程之前学习。现在有 $N$ 门功课，每门课有若干学分，分别记作 $s_1,s_2,\\cdots,s_N$，每门课有一门或没有直接先修课（若课程 $a$ 是课程 $b$ 的先修课即只有学完了课程 $a$，才能学习课程 $b$）。一个学生要从这些课程里选择 $M$ 门课程学习，问他能获得的最大学分是多少？\n\n题目保证课程安排无冲突。（即不会有 $a$ 是 $b$ 的先修课，$b$ 也是 $a$ 的先修课这类情况存在。）", "inputFormat": "第一行有两个整数 $N$，$M$ 用空格隔开 $(1 \\leq N \\leq 300$ , $1 \\leq M \\leq 300)$。\n\n接下来的 $N$ 行，第 $i+1$ 行包含两个整数 $k_i$ 和 $s_i$，$k_i$ 表示第 $i$ 门课的直接先修课，$s_i$ 表示第 $i$ 门课的学分。若 $k_i=0$ 表示没有直接先修课 $(0 \\leq {k_i} \\leq N$,$1 \\leq {s_i} \\leq 20)$。\n\n数据保证至少存在一个 $k_i=0$，即至少一门课无先修课。", "outputFormat": "只有一行，选 $M$ 门课程的最大学分。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2015", "type": "P", "difficulty": 4, "samples": [["5 2\n1 3 1\n1 4 10\n2 3 20\n3 5 20\n", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "树形数据结构", "背包 DP", "树形 DP"], "title": "二叉苹果树", "background": "", "description": "有一棵苹果树，如果树枝有分叉，一定是分二叉（就是说没有只有一个儿子的结点）\n\n这棵树共有 $N$ 个结点（叶子点或者树枝分叉点），编号为 $1 \\sim N$，树根编号一定是 $1$。\n\n我们用一根树枝两端连接的结点的编号来描述一根树枝的位置。下面是一颗有 $4$ 个树枝的树：\n\n```\n2   5\n \\ / \n  3   4\n   \\ /\n    1\n```\n\n现在这颗树枝条太多了，需要剪枝。但是一些树枝上长有苹果。\n\n给定需要保留的树枝数量，求出最多能留住多少苹果。\n", "inputFormat": "第一行 $2$ 个整数 $N$ 和 $Q$，分别表示表示树的结点数，和要保留的树枝数量。\n\n接下来 $N-1$ 行，每行 $3$ 个整数，描述一根树枝的信息：前 $2$ 个数是它连接的结点的编号，第 $3$ 个数是这根树枝上苹果的数量。", "outputFormat": "一个数，最多能留住的苹果的数量。\n", "hint": "$1 \\leqslant Q < N \\leqslant 100$，每根树枝上的苹果 $\\leqslant 3 \\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Binary Apple Tree", "background": "", "description": "There is an apple tree. If a branch splits, it always splits into two (that is, there is no node with exactly one child).\n\nThe tree has $N$ nodes (leaves or branching points), numbered $1$ to $N$, and the root is always node $1$.\n\nWe describe a branch by the pair of node indices it connects. Below is a tree with $4$ branches:\n\n```\n2   5\n \\ / \n  3   4\n   \\ /\n    1\n```\n\nNow the tree has too many branches and needs pruning. However, some branches have apples on them.\n\nGiven the number of branches to keep, find the maximum number of apples that can be retained.", "inputFormat": "The first line contains $2$ integers $N$ and $Q$, representing the number of nodes in the tree and the number of branches to keep, respectively.\n\nEach of the next $N-1$ lines contains $3$ integers describing one branch: the first $2$ numbers are the indices of the nodes it connects, and the third number is the number of apples on that branch.", "outputFormat": "Output a single integer, the maximum number of apples that can be retained.", "hint": "$1 \\leqslant Q < N \\leqslant 100$, and the number of apples on each branch $\\leqslant 3 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "二叉苹果树", "background": "", "description": "有一棵苹果树，如果树枝有分叉，一定是分二叉（就是说没有只有一个儿子的结点）\n\n这棵树共有 $N$ 个结点（叶子点或者树枝分叉点），编号为 $1 \\sim N$，树根编号一定是 $1$。\n\n我们用一根树枝两端连接的结点的编号来描述一根树枝的位置。下面是一颗有 $4$ 个树枝的树：\n\n```\n2   5\n \\ / \n  3   4\n   \\ /\n    1\n```\n\n现在这颗树枝条太多了，需要剪枝。但是一些树枝上长有苹果。\n\n给定需要保留的树枝数量，求出最多能留住多少苹果。\n", "inputFormat": "第一行 $2$ 个整数 $N$ 和 $Q$，分别表示表示树的结点数，和要保留的树枝数量。\n\n接下来 $N-1$ 行，每行 $3$ 个整数，描述一根树枝的信息：前 $2$ 个数是它连接的结点的编号，第 $3$ 个数是这根树枝上苹果的数量。", "outputFormat": "一个数，最多能留住的苹果的数量。\n", "hint": "$1 \\leqslant Q < N \\leqslant 100$，每根树枝上的苹果 $\\leqslant 3 \\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2016", "type": "P", "difficulty": 3, "samples": [["4\n0 1 1\n1 2 2 3\n2 0\n3 0\n", "1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "贪心", "2000", "树形 DP", "ICPC", "SEERC"], "title": "[SEERC 2000] 战略游戏", "background": "Bob 喜欢玩电脑游戏，特别是战略游戏。但是他经常无法找到快速玩过游戏的办法。现在他有个问题。", "description": "他要建立一个古城堡，城堡中的路形成一棵无根树。他要在这棵树的结点上放置最少数目的士兵，使得这些士兵能瞭望到所有的路。\n\n注意，某个士兵在一个结点上时，与该结点相连的所有边将都可以被瞭望到。\n\n请你编一程序，给定一树，帮 Bob 计算出他需要放置最少的士兵。", "inputFormat": "第一行一个整数 $n$，表示树中结点的数目。\n\n第二行至第 $n+1$ 行，每行描述每个结点信息，依次为：一个整数 $i$，代表该结点标号，一个自然数 $k$，代表后面有 $k$ 条无向边与结点 $i$ 相连。接下来 $k$ 个整数，分别是每条边的另一个结点标号 $r_1,r_2,\\cdots,r_k$，表示 $i$ 与这些点间各有一条无向边相连。\n\n对于一个 $n$ 个结点的树，结点标号在 $0$ 到 $n-1$ 之间，在输入数据中每条边只出现一次。保证输入是一棵树。", "outputFormat": "输出文件仅包含一个整数，为所求的最少的士兵数目。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 1500$。", "locale": "zh-CN", "translations": {"en": {"title": "[SEERC 2000] Strategic Game", "background": "Bob likes playing computer games, especially strategy games. But he often cannot find a quick way to play through a game. Now he has a problem.", "description": "He wants to build an ancient castle, where the roads inside form an unrooted tree. He wants to place the minimum number of soldiers on the tree’s nodes so that these soldiers can watch all the roads.\n\nNote that when a soldier is on a node, all edges incident to that node can be watched.\n\nPlease write a program that, given a tree, helps Bob compute the minimum number of soldiers he needs to place.", "inputFormat": "The first line contains an integer $n$, the number of nodes in the tree.\n\nFrom the second line to the $(n+1)$-th line, each line describes one node’s information in the following order: an integer $i$, the label of this node; a natural number $k$, meaning there are $k$ undirected edges incident to node $i$; followed by $k$ integers, which are the labels of the other endpoints $r_1, r_2, \\cdots, r_k$, indicating that there is one undirected edge between $i$ and each of these nodes.\n\nFor a tree with $n$ nodes, the node labels are between $0$ and $n-1$. In the input, each edge appears exactly once. It is guaranteed that the input describes a tree.", "outputFormat": "Output a single integer, the minimum number of soldiers required.", "hint": "Constraints\n\nFor all test points, $1 \\leq n \\leq 1500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SEERC 2000] 战略游戏", "background": "Bob 喜欢玩电脑游戏，特别是战略游戏。但是他经常无法找到快速玩过游戏的办法。现在他有个问题。", "description": "他要建立一个古城堡，城堡中的路形成一棵无根树。他要在这棵树的结点上放置最少数目的士兵，使得这些士兵能瞭望到所有的路。\n\n注意，某个士兵在一个结点上时，与该结点相连的所有边将都可以被瞭望到。\n\n请你编一程序，给定一树，帮 Bob 计算出他需要放置最少的士兵。", "inputFormat": "第一行一个整数 $n$，表示树中结点的数目。\n\n第二行至第 $n+1$ 行，每行描述每个结点信息，依次为：一个整数 $i$，代表该结点标号，一个自然数 $k$，代表后面有 $k$ 条无向边与结点 $i$ 相连。接下来 $k$ 个整数，分别是每条边的另一个结点标号 $r_1,r_2,\\cdots,r_k$，表示 $i$ 与这些点间各有一条无向边相连。\n\n对于一个 $n$ 个结点的树，结点标号在 $0$ 到 $n-1$ 之间，在输入数据中每条边只出现一次。保证输入是一棵树。", "outputFormat": "输出文件仅包含一个整数，为所求的最少的士兵数目。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq n \\leq 1500$。", "locale": "zh-CN"}}}
{"pid": "P2017", "type": "P", "difficulty": 4, "samples": [["4 2 3\n1 2\n4 3\n1 3\n4 2\n3 2\n", "1 3\n4 2\n2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "2009", "USACO", "Special Judge", "栈"], "title": "[USACO09DEC] Dizzy Cows G", "background": "", "description": "The cows have taken to racing each other around the farm but they get very dizzy when running in circles, and everyone knows that dizzy cows don't produce any milk. Farmer John wants to convert all of the two-way cow paths in the farm to one-way paths in order to eliminate any 'cycles' and prevent the cows from getting dizzy.  A 'cycle' enables a cow to traverse one or more cow paths and arrive back at her starting point, thus completing a loop or circle.\n\nThe farm comprises N pastures (1 <= N <= 100,000) conveniently numbered 1..N. M1 (1 <= M1 <= 100,000) one-way cow paths and M2 two-way cow paths (1 <= M2 <= 100,000) connect the pastures. No path directly connects a pasture to itself, although multiple paths might connect two different pastures. A cow may or may not be able to travel between any two given pastures by following a sequence of cow paths.\n\nYour job is to assign a direction to the two-way cow paths such that the entire farm (ultimately with only one-way paths) has no cycles. That is, there should be no sequence of one-way cow paths which leads back to its starting position. The existing one-way cow paths do not form a cycle and should be left as they are.\n\nOne-way cow paths run from pasture A\\_i (1 <= A\\_i <= N) to pasture B\\_i (1 <= B\\_i <= N). Two-way cow paths connect pastures X\\_i (1 <= X\\_i <= N) and Y\\_i (1 <= Y\\_i <= N).\n\nConsider this example:\n\n```cpp\n1-->2 \n|  /| \n| / | \n|/  | \n3<--4 \n```\nThe cow paths between pastures 1 and 3, 2 and 3, and 2 and 4 are two-way paths. One-way paths connect 1 to 2 and also 4 to 3. One valid way to convert the two-way paths into one-way paths in such a way that there are no cycles would be to direct them from 1 to 3, from 2 to 3, and from 3 to 4:\n\n```cpp\n1-->2 \n|  /| \n| / | \nvL  v \n3<--4 \n```\n", "inputFormat": "Line 1: Three space separated integers: N, M1, and M2\n\nLines 2..1+M1: Line i+1 describes a one-way cow path using two space separated integers: A_i and B_i\n\nLines 2+M1..1+M1+M2: Line i+M1+1 describes a two-way cow path using two space separated integers: X_i and Y_i", "outputFormat": "Lines 1..M2: Line i should contain two space-separated integers: either X_i and Y_i or Y_i and X_i, depending on the direction assigned to the i-th two-way path. The two-way paths must appear in the same order in the output as they do in the input. If there is no solution, output \"-1\" on a single line.", "hint": "", "locale": "en", "translations": {"en": {"title": "[USACO09DEC] Dizzy Cows G", "background": "", "description": "The cows have taken to racing each other around the farm but they get very dizzy when running in circles, and everyone knows that dizzy cows don't produce any milk. Farmer John wants to convert all of the two-way cow paths in the farm to one-way paths in order to eliminate any 'cycles' and prevent the cows from getting dizzy.  A 'cycle' enables a cow to traverse one or more cow paths and arrive back at her starting point, thus completing a loop or circle.\n\nThe farm comprises N pastures (1 <= N <= 100,000) conveniently numbered 1..N. M1 (1 <= M1 <= 100,000) one-way cow paths and M2 two-way cow paths (1 <= M2 <= 100,000) connect the pastures. No path directly connects a pasture to itself, although multiple paths might connect two different pastures. A cow may or may not be able to travel between any two given pastures by following a sequence of cow paths.\n\nYour job is to assign a direction to the two-way cow paths such that the entire farm (ultimately with only one-way paths) has no cycles. That is, there should be no sequence of one-way cow paths which leads back to its starting position. The existing one-way cow paths do not form a cycle and should be left as they are.\n\nOne-way cow paths run from pasture A\\_i (1 <= A\\_i <= N) to pasture B\\_i (1 <= B\\_i <= N). Two-way cow paths connect pastures X\\_i (1 <= X\\_i <= N) and Y\\_i (1 <= Y\\_i <= N).\n\nConsider this example:\n\n```cpp\n1-->2 \n|  /| \n| / | \n|/  | \n3<--4 \n```\nThe cow paths between pastures 1 and 3, 2 and 3, and 2 and 4 are two-way paths. One-way paths connect 1 to 2 and also 4 to 3. One valid way to convert the two-way paths into one-way paths in such a way that there are no cycles would be to direct them from 1 to 3, from 2 to 3, and from 3 to 4:\n\n```cpp\n1-->2 \n|  /| \n| / | \nvL  v \n3<--4 \n```\n", "inputFormat": "Line 1: Three space separated integers: N, M1, and M2\n\nLines 2..1+M1: Line i+1 describes a one-way cow path using two space separated integers: A_i and B_i\n\nLines 2+M1..1+M1+M2: Line i+M1+1 describes a two-way cow path using two space separated integers: X_i and Y_i", "outputFormat": "Lines 1..M2: Line i should contain two space-separated integers: either X_i and Y_i or Y_i and X_i, depending on the direction assigned to the i-th two-way path. The two-way paths must appear in the same order in the output as they do in the input. If there is no solution, output \"-1\" on a single line.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[USACO09DEC] Dizzy Cows G", "background": null, "description": "奶牛们在农场里互相比赛跑圈，但它们在绕圈跑时会变得非常头晕，而众所周知，头晕的奶牛是不会产奶的。农夫约翰想要将农场中所有的双向奶牛路径改为单向路径，以消除任何「环」并防止奶牛头晕。「环」使得奶牛可以通过一条或多条奶牛路径回到起点，从而完成一个循环或圈。\n\n农场由 $N$ 个牧场组成（$1 \\leq N \\leq 100,000$），这些牧场被方便地编号为 $1$ 到 $N$。$M_1$ 条单向奶牛路径（$1 \\leq M_1 \\leq 100,000$）和 $M_2$ 条双向奶牛路径（$1 \\leq M_2 \\leq 100,000$）连接着这些牧场。没有路径直接连接一个牧场到自身，尽管可能有多条路径连接两个不同的牧场。奶牛可能可以或不可以通过一系列奶牛路径在任意两个给定的牧场之间旅行。\n\n你的任务是为双向奶牛路径分配一个方向，使得整个农场（最终只有单向路径）没有环。也就是说，不应该有任何单向奶牛路径序列能回到其起始位置。现有的单向奶牛路径不形成环，应该保持原样。\n\n单向奶牛路径从牧场 $A_i$（$1 \\leq A_i \\leq N$）到牧场 $B_i$（$1 \\leq B_i \\leq N$）。双向奶牛路径连接牧场 $X_i$（$1 \\leq X_i \\leq N$）和 $Y_i$（$1 \\leq Y_i \\leq N$）。\n\n考虑这个例子：\n\n```cpp\n1-->2 \n|  /| \n| / | \n|/  | \n3<--4 \n```\n牧场 1 和 3，2 和 3，以及 2 和 4 之间的奶牛路径是双向的。单向路径连接 1 到 2 以及 4 到 3。一个有效的方法是将双向路径改为从 1 到 3，从 2 到 3，以及从 3 到 4：\n\n```cpp\n1-->2 \n|  /| \n| / | \nvL  v \n3<--4 \n```", "inputFormat": "第一行三个整数 $n,m_1,m_2$，分别表示点数、有向边的数量、无向边的数量。\n\n第二行起输入 $m_1$ 行，每行 $2$ 个整数 $a,b$，表示 $a$ 到 $b$ 有一条有向边。\n\n接下来输入 $m_2$ 行，每行 $2$ 个整数 $a,b$，表示 $a$ 和 $b$ 之间有一条无向边。", "outputFormat": "对于每条无向边，我们要求按输入顺序输出你定向的结果，也就是说如果你输出 $a\\ b$，那表示你将 $a$ 和 $b$ 之间的无向边定向为 $a \\to b$。\n\n注意，也许存在很多可行的解。你只要输出其中任意一个就好。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P2018", "type": "P", "difficulty": 4, "samples": [["8\r\n1\r\n1\r\n3\r\n4\r\n4\r\n4\r\n3", "5\r\n3 4 5 6 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "树形 DP"], "title": "消息传递", "background": null, "description": "巴蜀国的社会等级森严，除了国王之外，每个人均有且只有一个直接上级，当然国王没有上级。如果 $A$ 是 $B$ 的上级，$B$ 是 $C$ 的上级，那么 $A$ 就是 $C$ 的上级。绝对不会出现这样的关系：$A$ 是 $B$ 的上级，$B$ 也是 $A$ 的上级。\n\n最开始的时刻是 $0$，你要做的就是用 $1$ 单位的时间把一个消息告诉某一个人，让他们自行散布消息。在任意一个时间单位中，任何一个已经接到消息的人，都可以把消息告诉他的一个直接上级或者直接下属。\n\n现在，你想知道：\n\n1. 到底需要多长时间，消息才能传遍整个巴蜀国的所有人？\n2. 要使消息在传递过程中消耗的时间最短，可供选择的人有哪些？", "inputFormat": "输入文件的第一行为一个整数 $N$（$N\\le 1000$），表示巴蜀国人的总数，假如人按照 $1$ 到 $n$ 编上了号码，国王的编号是 $1$。第 $2$ 行到第 $N$ 行（共 $N-1$ 行），每一行一个整数，第 $i$ 行的整数表示编号为 $i$ 的人直接上级的编号。", "outputFormat": "文件输出共计两行：\n\n- 第一行为一个整数，表示最后一个人接到消息的最早时间。\n- 第二行有若干个数，表示可供选择人的编号，按照编号从小到大的顺序输出，中间用空格分开。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Message Passing", "background": "", "description": "In the Kingdom of Bashu (Bāshǔ), the social hierarchy is strict: except for the king, everyone has exactly one direct superior, and the king has no superior. If $A$ is the superior of $B$, and $B$ is the superior of $C$, then $A$ is the superior of $C$. It is absolutely impossible to have a relationship where $A$ is the superior of $B$ and $B$ is also the superior of $A$.\n\nThe initial time is $0$. Your task is to spend $1$ unit of time to tell a message to one person, and then let them spread the message on their own. In any time unit, any person who has already received the message can tell the message to one of their direct superiors or direct subordinates.\n\nNow, you want to know:\n\n1. How long will it take for the message to reach everyone in the entire Kingdom of Bashu?\n2. Which people can be chosen so that the total time spent during transmission is minimized?", "inputFormat": "The first line of input contains an integer $N$ ($N \\le 1000$), the total number of people in the Kingdom of Bashu. People are numbered from $1$ to $N$, and the king’s number is $1$. Lines $2$ through $N$ (a total of $N-1$ lines) each contain one integer; for each $i$ from $2$ to $N$, line $i$ gives the number of the direct superior of person $i$.", "outputFormat": "The output contains two lines:\n- The first line contains one integer, the earliest time when the last person receives the message.\n- The second line contains several integers, the numbers of all valid choices of the initial person, output in increasing order and separated by single spaces.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "消息传递", "background": null, "description": "巴蜀国的社会等级森严，除了国王之外，每个人均有且只有一个直接上级，当然国王没有上级。如果 $A$ 是 $B$ 的上级，$B$ 是 $C$ 的上级，那么 $A$ 就是 $C$ 的上级。绝对不会出现这样的关系：$A$ 是 $B$ 的上级，$B$ 也是 $A$ 的上级。\n\n最开始的时刻是 $0$，你要做的就是用 $1$ 单位的时间把一个消息告诉某一个人，让他们自行散布消息。在任意一个时间单位中，任何一个已经接到消息的人，都可以把消息告诉他的一个直接上级或者直接下属。\n\n现在，你想知道：\n\n1. 到底需要多长时间，消息才能传遍整个巴蜀国的所有人？\n2. 要使消息在传递过程中消耗的时间最短，可供选择的人有哪些？", "inputFormat": "输入文件的第一行为一个整数 $N$（$N\\le 1000$），表示巴蜀国人的总数，假如人按照 $1$ 到 $n$ 编上了号码，国王的编号是 $1$。第 $2$ 行到第 $N$ 行（共 $N-1$ 行），每一行一个整数，第 $i$ 行的整数表示编号为 $i$ 的人直接上级的编号。", "outputFormat": "文件输出共计两行：\n\n- 第一行为一个整数，表示最后一个人接到消息的最早时间。\n- 第二行有若干个数，表示可供选择人的编号，按照编号从小到大的顺序输出，中间用空格分开。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2019", "type": "P", "difficulty": 7, "samples": [["10\n4\n1000\n200000\n802241960520\n999999999937\n49770428644836900\n250000006000000027\n729021870143100133\n900000000000000017\n907000000000033559", "24\n3744\n93744\n59948653\n999943511\n821944886\n26\n729842040\n600000501\n152276389"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "数论"], "title": "四平方和定理", "background": "", "description": "对于正整数 $n$，请求出有多少个有序整数对 $(a,b,c,d)$，使得 $a^2+b^2+c^2+d^2=n$。答案对 $10^9+7$ 取模。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据组数。\n\n对于每组数据，一行一个正整数，表示 $n$ 的值。", "outputFormat": "输出共 $T$ 行。\n\n第 $k$ 行一个非负整数，表示第 $k$ 组数据的答案对 $10^9+7$ 取模后的值。", "hint": "| 测试点编号 | 限制 |  \n| :-----------: | :-----------: | \n| $1\\sim 3$ |  $n\\le 2\\times 10^5$ |  \n| $4\\sim 6$ |  $n\\le 10^{12}$ |  \n| $7\\sim 10$ |  无 |  \n\n对于所有数据，$1\\le n\\le 10^{18},1\\le T\\le 50$。\n\n对于样例一的第一组数据，以下均为符合题意的 $(a,b,c,d)$（此处没有列出所有可行的数对）。\n\n$$(1,1,1,1),(1,1,1,-1),(-1,-1,-1,-1),(2,0,0,0),(0,-2,0,0)$$\n\n\n\n\n", "locale": "zh-CN", "translations": {"en": {"title": "Four Squares Theorem", "background": "", "description": "For a positive integer $n$, find the number of ordered quadruples of integers $(a,b,c,d)$ such that $a^2+b^2+c^2+d^2=n$. The answer is taken modulo $10^9+7$.", "inputFormat": "**This problem has multiple test cases**.\n\nThe first line contains an integer $T$, the number of test cases.\n\nFor each test case, one line contains a positive integer, representing the value of $n$.", "outputFormat": "Output a total of $T$ lines.\n\nOn the $k$-th line, output a non-negative integer, which is the answer for the $k$-th test case modulo $10^9+7$.", "hint": "| Test point ID | Limit |  \n| :-----------: | :-----------: | \n| $1\\sim 3$ |  $n\\le 2\\times 10^5$ |  \n| $4\\sim 6$ |  $n\\le 10^{12}$ |  \n| $7\\sim 10$ |  None |  \n\nFor all testdata, $1\\le n\\le 10^{18},1\\le T\\le 50$.\n\nFor the first test case of Sample 1, the following are all valid $(a,b,c,d)$ (not all feasible quadruples are listed here).\n\n$$(1,1,1,1),(1,1,1,-1),(-1,-1,-1,-1),(2,0,0,0),(0,-2,0,0)$$\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "四平方和定理", "background": "", "description": "对于正整数 $n$，请求出有多少个有序整数对 $(a,b,c,d)$，使得 $a^2+b^2+c^2+d^2=n$。答案对 $10^9+7$ 取模。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据组数。\n\n对于每组数据，一行一个正整数，表示 $n$ 的值。", "outputFormat": "输出共 $T$ 行。\n\n第 $k$ 行一个非负整数，表示第 $k$ 组数据的答案对 $10^9+7$ 取模后的值。", "hint": "| 测试点编号 | 限制 |  \n| :-----------: | :-----------: | \n| $1\\sim 3$ |  $n\\le 2\\times 10^5$ |  \n| $4\\sim 6$ |  $n\\le 10^{12}$ |  \n| $7\\sim 10$ |  无 |  \n\n对于所有数据，$1\\le n\\le 10^{18},1\\le T\\le 50$。\n\n对于样例一的第一组数据，以下均为符合题意的 $(a,b,c,d)$（此处没有列出所有可行的数对）。\n\n$$(1,1,1,1),(1,1,1,-1),(-1,-1,-1,-1),(2,0,0,0),(0,-2,0,0)$$\n\n\n\n\n", "locale": "zh-CN"}}}
{"pid": "P2020", "type": "P", "difficulty": 7, "samples": [["6 7 100", "7"], ["7 7 5", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2011", "NOI", "Fibonacci 数列", "逆元"], "title": "[NOI2011] 兔农", "background": "", "description": "农夫栋栋近年收入不景气，正在他发愁如何能多赚点钱时，他听到隔壁的小朋友在讨论兔子繁殖的问题。\n\n问题是这样的：第一个月初有一对刚出生的小兔子，经过两个月长大后，这对兔子从第三个月开始，每个月初生一对小兔子。新出生的小兔子生长两个月后又能每个月生出一对小兔子。问第 $n$ 个月有多少只兔子？\n\n聪明的你可能已经发现，第 $n$ 个月的兔子数正好是第 $n$ 个 Fibonacci（斐波那契）数。栋栋不懂什么是 Fibonacci 数，但他也发现了规律：第 $i+2$ 个月的兔子数等于第 $i$ 个月的兔子数加上第 $i+1$ 个月的兔子数。前几个月的兔子数依次为：\n\n$$1,1,2,3,5,8,13,21,34,\\ldots$$\n\n栋栋发现越到后面兔子数增长的越快，期待养兔子一定能赚大钱，于是栋栋在第一个月初买了一对小兔子开始饲养。\n\n每天，栋栋都要给兔子们喂食，兔子们吃食时非常特别，总是每 $k$ 对兔子围成一圈，最后剩下的不足 $k$ 对的围成一圈，由于兔子特别害怕孤独，从第三个月开始，如果吃食时围成某一个圈的只有一对兔子，这对兔子就会很快死掉。\n\n我们假设死去的总是刚出生的兔子，那么每个月的兔子数仍然是可以计算的。例如，当 $k=7$ 时，前几个月的兔子数依次为：\n\n$$1,1,2,3,5,7,12,19,31,49,80,\\ldots$$\n\n给定 $n$，你能帮助栋栋计算第 $n$ 个月他有多少对兔子么？由于答案可能非常大，你只需要告诉栋栋第 $n$ 个月的兔子对数除 $p$ 的余数即可。\n", "inputFormat": "输入一行，包含三个正整数 $n, k, p$。\n", "outputFormat": "输出一行，包含一个整数，表示栋栋第 $n$ 个月的兔子对数除 $p$ 的余数。\n", "hint": "|测试点编号|$n$|$k,p$|\n|:-:|:-:|:-:|\n|$1\\sim 10$|$1\\leq n\\leq 50$|$2\\leq k,p\\leq1000$|\n|$11$|$1\\leq n\\leq 80$|$2\\leq k,p\\leq 10^4$|\n|$12,13$|$1\\leq n\\leq 1000$|$2\\leq k,p\\leq 10^4$|\n|$14,15$|$1\\leq n\\leq 10^6$|$2\\leq k,p\\leq 10^6$|\n|$16,17$|$1\\leq n\\leq 10^{18}$|$2\\leq k,p\\leq1000$|\n|$18\\sim 20$|$1\\leq n\\leq 10^{18}$|$2\\leq k\\leq 10^6$，$2\\leq p\\leq 10^9$|\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^{18}$，$2\\leq k\\leq 10^6$，$2\\leq p\\leq 10^9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2011] Rabbit Farmer", "background": "", "description": "In recent years, Farmer Dongdong’s income has been poor. While he was worrying about how to make more money, he heard the kids next door discussing rabbit reproduction.\n\nThe problem is as follows: At the beginning of the first month, there is one pair of newborn rabbits. After two months of growth, starting from the third month, this pair produces one new pair at the beginning of every month. A newborn pair will also be able to produce one new pair per month after two months of growth. How many rabbits are there in month $n$?\n\nYou may have already noticed that the number of rabbits in month $n$ is exactly the $n$‑th Fibonacci number. Dongdong does not know what Fibonacci numbers are, but he also discovered the rule: the number of rabbits in month $i+2$ equals the number in month $i$ plus the number in month $i+1$. The numbers for the first few months are:\n\n$$1,1,2,3,5,8,13,21,34,\\ldots$$\n\nDongdong found that the number of rabbits grows faster and faster, so he expected that raising rabbits would certainly make a lot of money. Thus, at the beginning of the first month, Dongdong bought one pair of rabbits and started breeding.\n\nEvery day, Dongdong feeds the rabbits. Their feeding behavior is special: they always form circles of $k$ pairs; any remaining fewer than $k$ pairs also form one circle. Since rabbits are extremely afraid of loneliness, starting from the third month, if during feeding there is a circle with only one pair, that pair soon dies.\n\nWe assume the ones that die are always the newborn rabbits, so the number of rabbits each month can still be computed. For example, when $k=7$, the numbers for the first few months are:\n\n$$1,1,2,3,5,7,12,19,31,49,80,\\ldots$$\n\nGiven $n$, can you help Dongdong compute how many pairs of rabbits he has in month $n$? Since the answer can be very large, you only need to report the remainder of the number of pairs in month $n$ modulo $p$.", "inputFormat": "Input consists of one line containing three positive integers $n, k, p$.", "outputFormat": "Output one line containing an integer, the remainder of the number of rabbit pairs in month $n$ modulo $p$.", "hint": "| Test point ID | $n$ | $k,p$ |\n|:-:|:-:|:-:|\n| $1\\sim 10$ | $1\\leq n\\leq 50$ | $2\\leq k,p\\leq1000$ |\n| $11$ | $1\\leq n\\leq 80$ | $2\\leq k,p\\leq 10^4$ |\n| $12,13$ | $1\\leq n\\leq 1000$ | $2\\leq k,p\\leq 10^4$ |\n| $14,15$ | $1\\leq n\\leq 10^6$ | $2\\leq k,p\\leq 10^6$ |\n| $16,17$ | $1\\leq n\\leq 10^{18}$ | $2\\leq k,p\\leq1000$ |\n| $18\\sim 20$ | $1\\leq n\\leq 10^{18}$ | $2\\leq k\\leq 10^6$，$2\\leq p\\leq 10^9$ |\n\nFor $100\\%$ of the testdata, $1\\leq n\\leq 10^{18}$, $2\\leq k\\leq 10^6$, $2\\leq p\\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2011] 兔农", "background": "", "description": "农夫栋栋近年收入不景气，正在他发愁如何能多赚点钱时，他听到隔壁的小朋友在讨论兔子繁殖的问题。\n\n问题是这样的：第一个月初有一对刚出生的小兔子，经过两个月长大后，这对兔子从第三个月开始，每个月初生一对小兔子。新出生的小兔子生长两个月后又能每个月生出一对小兔子。问第 $n$ 个月有多少只兔子？\n\n聪明的你可能已经发现，第 $n$ 个月的兔子数正好是第 $n$ 个 Fibonacci（斐波那契）数。栋栋不懂什么是 Fibonacci 数，但他也发现了规律：第 $i+2$ 个月的兔子数等于第 $i$ 个月的兔子数加上第 $i+1$ 个月的兔子数。前几个月的兔子数依次为：\n\n$$1,1,2,3,5,8,13,21,34,\\ldots$$\n\n栋栋发现越到后面兔子数增长的越快，期待养兔子一定能赚大钱，于是栋栋在第一个月初买了一对小兔子开始饲养。\n\n每天，栋栋都要给兔子们喂食，兔子们吃食时非常特别，总是每 $k$ 对兔子围成一圈，最后剩下的不足 $k$ 对的围成一圈，由于兔子特别害怕孤独，从第三个月开始，如果吃食时围成某一个圈的只有一对兔子，这对兔子就会很快死掉。\n\n我们假设死去的总是刚出生的兔子，那么每个月的兔子数仍然是可以计算的。例如，当 $k=7$ 时，前几个月的兔子数依次为：\n\n$$1,1,2,3,5,7,12,19,31,49,80,\\ldots$$\n\n给定 $n$，你能帮助栋栋计算第 $n$ 个月他有多少对兔子么？由于答案可能非常大，你只需要告诉栋栋第 $n$ 个月的兔子对数除 $p$ 的余数即可。\n", "inputFormat": "输入一行，包含三个正整数 $n, k, p$。\n", "outputFormat": "输出一行，包含一个整数，表示栋栋第 $n$ 个月的兔子对数除 $p$ 的余数。\n", "hint": "|测试点编号|$n$|$k,p$|\n|:-:|:-:|:-:|\n|$1\\sim 10$|$1\\leq n\\leq 50$|$2\\leq k,p\\leq1000$|\n|$11$|$1\\leq n\\leq 80$|$2\\leq k,p\\leq 10^4$|\n|$12,13$|$1\\leq n\\leq 1000$|$2\\leq k,p\\leq 10^4$|\n|$14,15$|$1\\leq n\\leq 10^6$|$2\\leq k,p\\leq 10^6$|\n|$16,17$|$1\\leq n\\leq 10^{18}$|$2\\leq k,p\\leq1000$|\n|$18\\sim 20$|$1\\leq n\\leq 10^{18}$|$2\\leq k\\leq 10^6$，$2\\leq p\\leq 10^9$|\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^{18}$，$2\\leq k\\leq 10^6$，$2\\leq p\\leq 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P2021", "type": "P", "difficulty": 2, "samples": [["13", "7 1 12 2 8 3 11 4 9 5 13 6 10 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "线性数据结构"], "title": "faebdc玩扑克", "background": "faebdc 和 zky 在玩一个小游戏\n", "description": "zky 有 $n$ 个扑克牌，编号从 $1$ 到 $n$，zky 把它排成一个序列，每次把最上方的扑克牌放在牌堆底，然后把下一张扑克牌拿出来输出，最终输出的序列恰好是从 $1$ 到 $n$，faebdc 问你原序列是什么，因为 faebdc 神犇早已在 $\\mathcal O (1)$ 的时间得出结果，如果你在 1 s 内答不出来，faebdc 会吃了你。\n", "inputFormat": "一个整数 n，表示扑克数目。", "outputFormat": "$n$ 个数，表示扑克序列。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le n \\le {10}^6$。", "locale": "zh-CN", "translations": {"en": {"title": "faebdc Playing Poker", "background": "faebdc and zky are playing a mini game.", "description": "zky has $n$ playing cards numbered from $1$ to $n$. zky arranges them into a sequence. Each time, move the top card to the bottom of the deck, then take the next card out and output it. Repeat until all cards are output. The final output sequence is exactly from $1$ to $n$. faebdc asks you what the original sequence is. Because faebdc, a \"shen niu\" (top coder), has already obtained the answer in $\\mathcal O (1)$ time, if you cannot answer within 1 s, faebdc will eat you.", "inputFormat": "An integer $n$, representing the number of cards.", "outputFormat": "Output $n$ integers, representing the original card sequence, separated by spaces.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le n \\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "faebdc玩扑克", "background": "faebdc 和 zky 在玩一个小游戏\n", "description": "zky 有 $n$ 个扑克牌，编号从 $1$ 到 $n$，zky 把它排成一个序列，每次把最上方的扑克牌放在牌堆底，然后把下一张扑克牌拿出来输出，最终输出的序列恰好是从 $1$ 到 $n$，faebdc 问你原序列是什么，因为 faebdc 神犇早已在 $\\mathcal O (1)$ 的时间得出结果，如果你在 1 s 内答不出来，faebdc 会吃了你。\n", "inputFormat": "一个整数 n，表示扑克数目。", "outputFormat": "$n$ 个数，表示扑克序列。\n", "hint": "对于 $100\\%$ 的数据，$1 \\le n \\le {10}^6$。", "locale": "zh-CN"}}}
{"pid": "P2022", "type": "P", "difficulty": 4, "samples": [["2 4\n", "11\n"], ["100000001 1000000000", "100000000888888879"]], "limits": {"time": [400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "搜索", "二分"], "title": "有趣的数", "background": "", "description": "让我们来考虑 $1$ 到 $N$ 的正整数集合。让我们把集合中的元素按照字典序排列，例如当 $N=11$ 时，其顺序应该为：$1,10,11,2,3,4,5,6,7,8,9$。\n\n定义 $K$ 在 $N$ 个数中的位置为 $Q(N,K)$，例如 $Q(11,2)=4$。现在给出整数 $K$ 和 $M$，要求找到最小的 $N$，使得 $Q(N,K)=M$。", "inputFormat": "输入文件只有一行，是两个整数 $K$ 和 $M$。", "outputFormat": "输出文件只有一行，是最小的 $N$，如果不存在这样的 $N$ 就输出 $0$。", "hint": "【数据约定】\n\n\n$40\\%$ 的数据，$1 \\le K,M \\le 10^5$；\n\n$100\\%$ 的数据，$1 \\le K,M \\le 10^9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Interesting Numbers", "background": "", "description": "Consider the set of positive integers from $1$ to $N$. Arrange the elements of the set in lexicographical order; for example, when $N=11$, the order is: $1,10,11,2,3,4,5,6,7,8,9$.\n\nDefine the position of $K$ among the $N$ numbers as $Q(N,K)$; for example, $Q(11,2)=4$. Now, given integers $K$ and $M$, find the smallest $N$ such that $Q(N,K)=M$.", "inputFormat": "The input file contains a single line with two integers $K$ and $M$.", "outputFormat": "Output a single line with the smallest $N$. If no such $N$ exists, output $0$.", "hint": "Constraints\n\nFor $40\\%$ of the testdata, $1 \\le K, M \\le 10^5$.\n\nFor $100\\%$ of the testdata, $1 \\le K, M \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "有趣的数", "background": "", "description": "让我们来考虑 $1$ 到 $N$ 的正整数集合。让我们把集合中的元素按照字典序排列，例如当 $N=11$ 时，其顺序应该为：$1,10,11,2,3,4,5,6,7,8,9$。\n\n定义 $K$ 在 $N$ 个数中的位置为 $Q(N,K)$，例如 $Q(11,2)=4$。现在给出整数 $K$ 和 $M$，要求找到最小的 $N$，使得 $Q(N,K)=M$。", "inputFormat": "输入文件只有一行，是两个整数 $K$ 和 $M$。", "outputFormat": "输出文件只有一行，是最小的 $N$，如果不存在这样的 $N$ 就输出 $0$。", "hint": "【数据约定】\n\n\n$40\\%$ 的数据，$1 \\le K,M \\le 10^5$；\n\n$100\\%$ 的数据，$1 \\le K,M \\le 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P2023", "type": "P", "difficulty": 4, "samples": [["7 43\n1 2 3 4 5 6 7\n5\n1 2 5 5\n3 2 4\n2 3 7 9\n3 1 3\n3 4 7", "2\n35\n8\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2009", "线段树", "各省省选", "安徽"], "title": "[AHOI2009] 维护序列", "background": "老师交给小可可一个维护数列的任务，现在小可可希望你来帮他完成。", "description": "有一个长为 $n$ 的数列 $\\{a_n\\}$，有如下三种操作形式：\n\n1. 格式 `1 t g c`，表示把所有满足 $t\\le i\\le g$ 的 $a_i$ 改为 $a_i\\times c$ ;\n2. 格式 `2 t g c` 表示把所有满足 $t\\le i\\le g$ 的 $a_i$ 改为 $a_i+c$ ;\n3. 格式 `3 t g` 询问所有满足 $t\\le i\\le g$ 的 $a_i$ 的和，由于答案可能很大，你只需输出这个数模 $p$ 的值。", "inputFormat": "第一行两个整数 $n$ 和 $p$。\n\n第二行含有 $n$ 个非负整数，表示数列 $\\{a_i\\}$ 。\n\n第三行有一个整数 $m$，表示操作总数。\n\n从第四行开始每行描述一个操作，同一行相邻两数之间用一个空格隔开，每行开头和末尾没有多余空格。", "outputFormat": "对每个操作 3，按照它在输入中出现的顺序，依次输出**一行一个整数**表示询问结果。", "hint": "#### 样例输入输出 1 解释\n\n- 初始时数列为 $\\{1,2,3,4,5,6,7\\}$。\n- 经过第 $1$ 次操作后，数列为 $\\{1,10,15,20,25,6,7\\}$。\n- 对第 $2$ 次操作，和为 $10+15+20=45$，模 $43$ 的结果是 $2$。\n- 经过第 $3$ 次操作后，数列为 $\\{1,10,24,29,34,15,16\\}$。\n- 对第 $4$ 次操作，和为 $1+10+24=35$，模 $43$ 的结果是 $35$。\n- 对第 $5$ 次操作，和为 $29+34+15+16=94$，模 $43$ 的结果是$8$。\n\n\n#### 数据规模与约定\n\n测试数据规模如下表所示：\n\n| 数据点编号 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9,10 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $n=$ | $10$ | $1000$ | $1000$ | $10000$ | $60000$ | $70000$ | $80000$ | $90000$ | $100000$ |\n| $m=$ | $10$ | $1000$ | $1000$ | $10000$ | $60000$ | $70000$ | $80000$ | $90000$ | $100000$ |\n\n对于全部的测试点，保证 $0 \\leq p, a_i, c \\leq 10^9$，$1 \\leq t \\leq g \\leq n$。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2009] Maintain Sequence", "background": "The teacher gave Xiao Keke a task to maintain a sequence, and now he hopes you can help him complete it.", "description": "There is a sequence of length $n$, $\\{a_i\\}$, with the following three types of operations:\n\n1. Format `1 t g c`: set all $a_i$ with $t \\le i \\le g$ to $a_i \\times c$.\n2. Format `2 t g c`: set all $a_i$ with $t \\le i \\le g$ to $a_i + c$.\n3. Format `3 t g`: query the sum of all $a_i$ with $t \\le i \\le g$. Since the answer may be large, you only need to output this sum modulo $p$.", "inputFormat": "The first line contains two integers $n$ and $p$.\n\nThe second line contains $n$ non-negative integers, representing the sequence $\\{a_i\\}$.\n\nThe third line contains an integer $m$, the total number of operations.\n\nFrom the fourth line on, each line describes one operation. In the same line, adjacent numbers are separated by a single space, and there are no extra spaces at the beginning or end.", "outputFormat": "For each operation of type 3, in the order they appear in the input, output one integer per line representing the query result.", "hint": "#### Explanation for Sample Input/Output 1\n\n- Initially, the sequence is $\\{1,2,3,4,5,6,7\\}$.\n- After the 1st operation, the sequence becomes $\\{1,10,15,20,25,6,7\\}$.\n- For the 2nd operation, the sum is $10+15+20=45$, and $45 \\bmod 43 = 2$.\n- After the 3rd operation, the sequence becomes $\\{1,10,24,29,34,15,16\\}$.\n- For the 4th operation, the sum is $1+10+24=35$, and $35 \\bmod 43 = 35$.\n- For the 5th operation, the sum is $29+34+15+16=94$, and $94 \\bmod 43 = 8$.\n\n#### Constraints\n\nThe testdata scale is as follows:\n\n| Data point ID | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9,10 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $n=$ | $10$ | $1000$ | $1000$ | $10000$ | $60000$ | $70000$ | $80000$ | $90000$ | $100000$ |\n| $m=$ | $10$ | $1000$ | $1000$ | $10000$ | $60000$ | $70000$ | $80000$ | $90000$ | $100000$ |\n\nFor all test points, it is guaranteed that $0 \\le p, a_i, c \\le 10^9$, $1 \\le t \\le g \\le n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2009] 维护序列", "background": "老师交给小可可一个维护数列的任务，现在小可可希望你来帮他完成。", "description": "有一个长为 $n$ 的数列 $\\{a_n\\}$，有如下三种操作形式：\n\n1. 格式 `1 t g c`，表示把所有满足 $t\\le i\\le g$ 的 $a_i$ 改为 $a_i\\times c$ ;\n2. 格式 `2 t g c` 表示把所有满足 $t\\le i\\le g$ 的 $a_i$ 改为 $a_i+c$ ;\n3. 格式 `3 t g` 询问所有满足 $t\\le i\\le g$ 的 $a_i$ 的和，由于答案可能很大，你只需输出这个数模 $p$ 的值。", "inputFormat": "第一行两个整数 $n$ 和 $p$。\n\n第二行含有 $n$ 个非负整数，表示数列 $\\{a_i\\}$ 。\n\n第三行有一个整数 $m$，表示操作总数。\n\n从第四行开始每行描述一个操作，同一行相邻两数之间用一个空格隔开，每行开头和末尾没有多余空格。", "outputFormat": "对每个操作 3，按照它在输入中出现的顺序，依次输出**一行一个整数**表示询问结果。", "hint": "#### 样例输入输出 1 解释\n\n- 初始时数列为 $\\{1,2,3,4,5,6,7\\}$。\n- 经过第 $1$ 次操作后，数列为 $\\{1,10,15,20,25,6,7\\}$。\n- 对第 $2$ 次操作，和为 $10+15+20=45$，模 $43$ 的结果是 $2$。\n- 经过第 $3$ 次操作后，数列为 $\\{1,10,24,29,34,15,16\\}$。\n- 对第 $4$ 次操作，和为 $1+10+24=35$，模 $43$ 的结果是 $35$。\n- 对第 $5$ 次操作，和为 $29+34+15+16=94$，模 $43$ 的结果是$8$。\n\n\n#### 数据规模与约定\n\n测试数据规模如下表所示：\n\n| 数据点编号 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9,10 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| $n=$ | $10$ | $1000$ | $1000$ | $10000$ | $60000$ | $70000$ | $80000$ | $90000$ | $100000$ |\n| $m=$ | $10$ | $1000$ | $1000$ | $10000$ | $60000$ | $70000$ | $80000$ | $90000$ | $100000$ |\n\n对于全部的测试点，保证 $0 \\leq p, a_i, c \\leq 10^9$，$1 \\leq t \\leq g \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P2024", "type": "P", "difficulty": 4, "samples": [["100 7\n1 101 1\n2 1 2\n2 2 3\n2 3 3\n1 1 3\n2 3 1\n1 5 5\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2001", "并查集", "NOI"], "title": "[NOI2001] 食物链", "background": null, "description": "动物王国中有三类动物 $A,B,C$，这三类动物的食物链构成了有趣的环形。$A$ 吃 $B$，$B$ 吃 $C$，$C$ 吃 $A$。\n\n现有 $N$ 个动物，以 $1 \\sim N$ 编号。每个动物都是 $A,B,C$ 中的一种，但是我们并不知道它到底是哪一种。\n\n有人用两种说法对这 $N$ 个动物所构成的食物链关系进行描述：\n\n- 第一种说法是 `1 X Y`，表示 $X$ 和 $Y$ 是同类。\n- 第二种说法是 `2 X Y`，表示 $X$ 吃 $Y$。\n\n此人对 $N$ 个动物，用上述两种说法，一句接一句地说出 $K$ 句话，这 $K$ 句话有的是真的，有的是假的。当一句话满足下列三条之一时，这句话就是假话，否则就是真话。\n\n- 当前的话与前面的某些真的话冲突，就是假话；\n- 当前的话中 $X$ 或 $Y$ 比 $N$ 大，就是假话；\n- 当前的话表示 $X$ 吃 $X$，就是假话。\n\n你的任务是根据给定的 $N$ 和 $K$ 句话，输出假话的总数。", "inputFormat": "第一行两个整数，$N,K$，表示有 $N$ 个动物，$K$ 句话。\n\n第二行开始每行一句话。格式见题目描述与样例。", "outputFormat": "一行，一个整数，表示假话的总数。", "hint": "对于全部数据，$1\\le N\\le 5 \\times 10^4$，$1\\le K \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2001] Food Chain", "background": "", "description": "In the animal kingdom, there are three kinds of animals $A, B, C$, and their food chain forms an interesting cycle. $A$ eats $B$, $B$ eats $C$, and $C$ eats $A$.\n\nThere are $N$ animals, numbered from $1$ to $N$. Each animal is one of $A, B, C$, but we do not know which.\n\nSomeone describes the food chain relationships among these $N$ animals using two kinds of statements:\n- Type 1: `1 X Y` means $X$ and $Y$ are of the same kind.\n- Type 2: `2 X Y` means $X$ eats $Y$.\n\nThis person makes $K$ statements, one after another. Some are true and some are false. A statement is false if and only if it satisfies at least one of the following:\n- It contradicts some previous true statements.\n- $X$ or $Y$ is greater than $N$.\n- It claims that $X$ eats $X$.\n\nYour task is to output the total number of false statements.", "inputFormat": "The first line contains two integers $N, K$, indicating there are $N$ animals and $K$ statements.\n\nStarting from the second line, each line contains one statement. The formats are as described in the problem statement and the samples.", "outputFormat": "One line containing a single integer: the total number of false statements.", "hint": "Constraints: For all testdata, $1 \\le N \\le 5 \\times 10^4$, $1 \\le K \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2001] 食物链", "background": null, "description": "动物王国中有三类动物 $A,B,C$，这三类动物的食物链构成了有趣的环形。$A$ 吃 $B$，$B$ 吃 $C$，$C$ 吃 $A$。\n\n现有 $N$ 个动物，以 $1 \\sim N$ 编号。每个动物都是 $A,B,C$ 中的一种，但是我们并不知道它到底是哪一种。\n\n有人用两种说法对这 $N$ 个动物所构成的食物链关系进行描述：\n\n- 第一种说法是 `1 X Y`，表示 $X$ 和 $Y$ 是同类。\n- 第二种说法是 `2 X Y`，表示 $X$ 吃 $Y$。\n\n此人对 $N$ 个动物，用上述两种说法，一句接一句地说出 $K$ 句话，这 $K$ 句话有的是真的，有的是假的。当一句话满足下列三条之一时，这句话就是假话，否则就是真话。\n\n- 当前的话与前面的某些真的话冲突，就是假话；\n- 当前的话中 $X$ 或 $Y$ 比 $N$ 大，就是假话；\n- 当前的话表示 $X$ 吃 $X$，就是假话。\n\n你的任务是根据给定的 $N$ 和 $K$ 句话，输出假话的总数。", "inputFormat": "第一行两个整数，$N,K$，表示有 $N$ 个动物，$K$ 句话。\n\n第二行开始每行一句话。格式见题目描述与样例。", "outputFormat": "一行，一个整数，表示假话的总数。", "hint": "对于全部数据，$1\\le N\\le 5 \\times 10^4$，$1\\le K \\le 10^5$。", "locale": "zh-CN"}}}
