{"pid": "P11428", "type": "P", "difficulty": 6, "samples": [["3\n1 2\n1 3", "4 1\nadd(2);\nadd(3);\nadd(1);\nremove(2);\nreport(3,2);\nreport(1,2);"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "交互题", "Special Judge", "O2优化", "分治", "二分图", "整体二分", "CTT（清华集训/北大集训）", "树的重心"], "title": "[清华集训 2024] 前往何方", "background": "", "description": "**这是一道交互题。**\n\n有一棵 $n$ 个点的树，你不知道其形态。你有一个初始为空的点集 $S$。你可以进行以下两种操作：\n\n1. 向 $S$ 中加入一个结点。\n2. 从 $S$ 中删除一个结点。\n\n每次操作结束后，交互库将会返回树对 $S$ 的导出子图（即仅保留 $S$ 中的点和两端都在 $S$ 中的边得到的图）的最大连通块大小。\n\n你需要使用尽可能少的操作还原树的结构。\n\n### 实现细节\n\n请确保你的程序开头有包含以下三行代码：\n\n```cpp\nint add (int x);\nint remove (int x);\nvoid report (int x,int y);\n```\n\n你不需要也不应该实现主函数。你需要实现以下函数：\n\n```\nvoid solve (int n);\n```\n\n- 其中 $n$ 表示树的结点个数，结点从 $1$ 至 $n$ 编号。\n\n你可以调用下列由交互库提供的函数：\n\n```\nint add (int x);\nint remove (int x);\nvoid report (int x,int y);\n```\n\n- `add(x)` 用于向 $S$ 中加入一个结点 $x$，若 $x$ 本身就在 $S$ 中则什么也不做。\n  - 你需要保证 $1 \\le x \\le n$。\n  - 该函数返回值为操作后 $S$ 的导出子图最大连通块大小。\n- `remove(x)` 用于从 $S$ 中删除一个结点 $x$，若 $x$ 本身就不在 $S$ 中则什么也不做。\n  - 你需要保证 $1 \\le x \\le n$。\n  - 该函数返回值为操作后 $S$ 的导出子图最大连通块大小；\n- `report(x,y)` 表示你找到了树的一条边 $(x,y)$。\n  - 你需要恰好调用该函数 $n-1$ 次以提交树的所有边。边的顺序和方向任意。\n\n你调用 `add` 与 `remove` 的总次数不得超过 $2\\times 10^6$。\n\n保证在满足题目条件和数据范围的情况下，最终测试时交互库的运行时间不会超过 2000 ms，运行空间不会超过 128 MiB。\n\n**交互库不是自适应的，即树形态固定，不会随着交互过程改变。**\n\n### 测试程序方式\n\n**试题目录下的 `implementer.cpp` 是我们提供的交互库参考实现。最终测试的交互库与样例交互库有一定不同，故你的实现不应该依赖样例交互库实现。**\n\n你需要在本题目录下使用如下命令编译得到可执行程序：\n\n`g++ implementer.cpp sample.cpp -o sample -O2 --std=c++14 -lm`\n\n对于编译得到的可执行程序：\n\n- 可执行文件将从标准输入读入以下格式的数据：\n  - 第一行一个整数 $n$ 表示树的点数。你需要保证 $1 \\le n \\le 10^4$。\n  - 接下来 $n-1$ 行，每行两个整数 $x,y$ 描述树上的一条边。边的顺序和方向是任意的。\n- 读入完成之后，交互库将调用恰好一次函数 ```solve```。\n- 当你的实现不符合【实现细节】中的要求时，交互库只会在标准输出流输出一行一个整数 `-1`。具体地，以下情况发生时交互库会输出 `-1`：\n  - 对 `add` 和 `remove` 的函数调用中传入了不满足 $1 \\le x \\le n$ 的 $x$；\n  - 调用 `add` 和 `remove` 的次数和超过了 $2 \\times 10^6$；\n  - `solve` 函数结束时 `report` 函数的调用次数不为 $n-1$。\n- 否则，交互库会在标准输出流按照以下格式输出：\n  - 第一行两个整数 $Q,c$，$Q$ 表示你调用 `add` 和 `remove` 的总次数，$c=1$ 表示你的答案正确，$c=0$ 表示不正确。\n  - 接下来若干行，为你调用 `add`，`remove` 和 `report` 的记录，其格式可以参考样例 1。\n\n", "inputFormat": "", "outputFormat": "", "hint": "该样例输出为下发的样例程序在该组样例下的输出。\n\n### 数据范围\n\n对于所有测试数据，$1\\leq n\\leq 10^4$。\n\n$\\text{Subtask 1}\\ (10\\%)$：$n=500$。\n\n$\\text{Subtask 2}\\ (20\\%)$：$n=2500$。\n\n$\\text{Subtask 3}\\ (70\\%)$：$n=10^4$。\n\n### 评分方式\n\n**本题首先会受到和传统题相同的限制**，例如编译错误会导致整道题目得 0 分，运行时错误、超过时间限制、超过空间限制都会导致相应测试点得 0 分。选手只能在程序中访问自己定义的和交互库给出的变量或数据，及其相应的内存空间。尝试访问其他位置空间将可能导致编译错误或运行错误。\n\n对于 $\\text{Subtask 1,2}$ 中的测试点，只要你的交互符合【实现细节】中的规则，且给出了正确答案，则可以获得满分。\n\n对于 $\\text{Subtask 3}$ 中的测试点，在你的交互符合【实现细节】中的规则，且给出了正确答案的基础上，设你调用 `add` 和 `remove` 的总次数为 $Q$，你的得分为 $f(Q)$，其中\n\n$$f(Q)=\\begin{cases}70 & (0.0\\times 10^6\\leq Q\\leq 0.6\\times 10^6)\\\\ 70-\\frac{Q-0.6\\times 10^6}{5000} & (0.6\\times 10^6<Q\\leq 0.7\\times 10^6)\\\\ 50-\\frac{Q-0.7\\times 10^6}{15000} & (0.7\\times 10^6<Q\\leq 1.0\\times 10^6)\\\\ 30-\\frac{Q-1.0\\times 10^6}{25000} & (1.0\\times 10^6<Q\\leq 1.5\\times 10^6)\\\\ 10-\\frac{Q-1.5\\times 10^6}{50000} & (1.5\\times 10^6<Q\\leq 2.0\\times 10^6)\\end{cases}$$\n\n是一个连续的分段线性函数。你可以理解为：你的前 $0.6\\times 10^6$ 次调用是免费的；此后的 $0.1\\times 10^6$ 次调用中每 $5000$ 次扣 $1$ 分；随后的 $0.3\\times 10^6$ 次调用中每 $15000$ 次扣 $1$ 分；随后的 $0.5\\times 10^6$ 次调用中每 $25000$ 次扣 $1$ 分；随后的 $0.5\\times 10^6$ 次调用中每 $50000$ 次扣 $1$ 分。\n\n你在每个子任务上获得的分数为在其中所有测试点上分数的最小值。\n\n**选手不应通过非法方式获取交互库的内部信息，如试图与标准输入、输出流进行交互。此类行为将被视为作弊**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[清华集训 2024] 前往何方", "background": "", "description": "**这是一道交互题。**\n\n有一棵 $n$ 个点的树，你不知道其形态。你有一个初始为空的点集 $S$。你可以进行以下两种操作：\n\n1. 向 $S$ 中加入一个结点。\n2. 从 $S$ 中删除一个结点。\n\n每次操作结束后，交互库将会返回树对 $S$ 的导出子图（即仅保留 $S$ 中的点和两端都在 $S$ 中的边得到的图）的最大连通块大小。\n\n你需要使用尽可能少的操作还原树的结构。\n\n### 实现细节\n\n请确保你的程序开头有包含以下三行代码：\n\n```cpp\nint add (int x);\nint remove (int x);\nvoid report (int x,int y);\n```\n\n你不需要也不应该实现主函数。你需要实现以下函数：\n\n```\nvoid solve (int n);\n```\n\n- 其中 $n$ 表示树的结点个数，结点从 $1$ 至 $n$ 编号。\n\n你可以调用下列由交互库提供的函数：\n\n```\nint add (int x);\nint remove (int x);\nvoid report (int x,int y);\n```\n\n- `add(x)` 用于向 $S$ 中加入一个结点 $x$，若 $x$ 本身就在 $S$ 中则什么也不做。\n  - 你需要保证 $1 \\le x \\le n$。\n  - 该函数返回值为操作后 $S$ 的导出子图最大连通块大小。\n- `remove(x)` 用于从 $S$ 中删除一个结点 $x$，若 $x$ 本身就不在 $S$ 中则什么也不做。\n  - 你需要保证 $1 \\le x \\le n$。\n  - 该函数返回值为操作后 $S$ 的导出子图最大连通块大小；\n- `report(x,y)` 表示你找到了树的一条边 $(x,y)$。\n  - 你需要恰好调用该函数 $n-1$ 次以提交树的所有边。边的顺序和方向任意。\n\n你调用 `add` 与 `remove` 的总次数不得超过 $2\\times 10^6$。\n\n保证在满足题目条件和数据范围的情况下，最终测试时交互库的运行时间不会超过 2000 ms，运行空间不会超过 128 MiB。\n\n**交互库不是自适应的，即树形态固定，不会随着交互过程改变。**\n\n### 测试程序方式\n\n**试题目录下的 `implementer.cpp` 是我们提供的交互库参考实现。最终测试的交互库与样例交互库有一定不同，故你的实现不应该依赖样例交互库实现。**\n\n你需要在本题目录下使用如下命令编译得到可执行程序：\n\n`g++ implementer.cpp sample.cpp -o sample -O2 --std=c++14 -lm`\n\n对于编译得到的可执行程序：\n\n- 可执行文件将从标准输入读入以下格式的数据：\n  - 第一行一个整数 $n$ 表示树的点数。你需要保证 $1 \\le n \\le 10^4$。\n  - 接下来 $n-1$ 行，每行两个整数 $x,y$ 描述树上的一条边。边的顺序和方向是任意的。\n- 读入完成之后，交互库将调用恰好一次函数 ```solve```。\n- 当你的实现不符合【实现细节】中的要求时，交互库只会在标准输出流输出一行一个整数 `-1`。具体地，以下情况发生时交互库会输出 `-1`：\n  - 对 `add` 和 `remove` 的函数调用中传入了不满足 $1 \\le x \\le n$ 的 $x$；\n  - 调用 `add` 和 `remove` 的次数和超过了 $2 \\times 10^6$；\n  - `solve` 函数结束时 `report` 函数的调用次数不为 $n-1$。\n- 否则，交互库会在标准输出流按照以下格式输出：\n  - 第一行两个整数 $Q,c$，$Q$ 表示你调用 `add` 和 `remove` 的总次数，$c=1$ 表示你的答案正确，$c=0$ 表示不正确。\n  - 接下来若干行，为你调用 `add`，`remove` 和 `report` 的记录，其格式可以参考样例 1。\n\n", "inputFormat": "", "outputFormat": "", "hint": "该样例输出为下发的样例程序在该组样例下的输出。\n\n### 数据范围\n\n对于所有测试数据，$1\\leq n\\leq 10^4$。\n\n$\\text{Subtask 1}\\ (10\\%)$：$n=500$。\n\n$\\text{Subtask 2}\\ (20\\%)$：$n=2500$。\n\n$\\text{Subtask 3}\\ (70\\%)$：$n=10^4$。\n\n### 评分方式\n\n**本题首先会受到和传统题相同的限制**，例如编译错误会导致整道题目得 0 分，运行时错误、超过时间限制、超过空间限制都会导致相应测试点得 0 分。选手只能在程序中访问自己定义的和交互库给出的变量或数据，及其相应的内存空间。尝试访问其他位置空间将可能导致编译错误或运行错误。\n\n对于 $\\text{Subtask 1,2}$ 中的测试点，只要你的交互符合【实现细节】中的规则，且给出了正确答案，则可以获得满分。\n\n对于 $\\text{Subtask 3}$ 中的测试点，在你的交互符合【实现细节】中的规则，且给出了正确答案的基础上，设你调用 `add` 和 `remove` 的总次数为 $Q$，你的得分为 $f(Q)$，其中\n\n$$f(Q)=\\begin{cases}70 & (0.0\\times 10^6\\leq Q\\leq 0.6\\times 10^6)\\\\ 70-\\frac{Q-0.6\\times 10^6}{5000} & (0.6\\times 10^6<Q\\leq 0.7\\times 10^6)\\\\ 50-\\frac{Q-0.7\\times 10^6}{15000} & (0.7\\times 10^6<Q\\leq 1.0\\times 10^6)\\\\ 30-\\frac{Q-1.0\\times 10^6}{25000} & (1.0\\times 10^6<Q\\leq 1.5\\times 10^6)\\\\ 10-\\frac{Q-1.5\\times 10^6}{50000} & (1.5\\times 10^6<Q\\leq 2.0\\times 10^6)\\end{cases}$$\n\n是一个连续的分段线性函数。你可以理解为：你的前 $0.6\\times 10^6$ 次调用是免费的；此后的 $0.1\\times 10^6$ 次调用中每 $5000$ 次扣 $1$ 分；随后的 $0.3\\times 10^6$ 次调用中每 $15000$ 次扣 $1$ 分；随后的 $0.5\\times 10^6$ 次调用中每 $25000$ 次扣 $1$ 分；随后的 $0.5\\times 10^6$ 次调用中每 $50000$ 次扣 $1$ 分。\n\n你在每个子任务上获得的分数为在其中所有测试点上分数的最小值。\n\n**选手不应通过非法方式获取交互库的内部信息，如试图与标准输入、输出流进行交互。此类行为将被视为作弊**。", "locale": "zh-CN"}}}
{"pid": "P11429", "type": "P", "difficulty": 2, "samples": [["4\nY5 Z3 Y6 C2 Y1\nZ4 Z7 Z2 Y2 P3\nZ6 Z7 Z1 Y2 C2\nP6 P8 P8 Z7 Y9", "6\n2 VIKTOR\n3 SONJA\n3 LEA\n4 VIKTOR\n4 IGOR\n4 LEA"], ["3\nP1 Y9 Z5 Y1 Z5\nP5 Y7 Z3 Y8 P1\nC6 Y8 P5 Z1 Z8", "4\n1 MARINO\n2 MARINO\n3 VIKTOR\n3 IGOR"], ["1\nY4 P9 Y8 Z5 Z3", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #2] 谬误 / Paradoks", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T1。$\\texttt{1s,0.5G}$。满分为 $50$。", "description": "五个人**围坐在圆桌边上**玩游戏。顺时针方向上看过去，五个人分别是 $\\text{Igor, Lea, Marino, Sonja, Viktor}$。\n\n游戏有 $n$ 场。第一场第一个出牌的人为 $\\text{Sonja}$，此后每一场第一个出牌的人都是上一场的胜者。每场中，五个人按顺时针方向上的顺序依次出牌，每个人**恰好出一次**牌。\n\n每人手里都有 $n$ 张无色牌，编号 $1\\sim n$。出牌时，选择手中的一张牌，并选择红蓝黄绿中的一种颜色涂在牌上打出。此外，我们要求，颜色和数字的组合之前没有被打出过。\n\n每场中，第一个出牌的人打出的牌的颜色称为**场风**。每个人打的牌的颜色都应该尽可能是场风。如果没有打出场风的牌的话，那么**从此刻开始**（在接下来的场次中）他就再也不能打（**该场次**）场风的牌了。\n\n每场中胜者的确定方式如下：\n\n- 如果有人打出过红牌，则取打出数字最大的那个人；\n- 否则，取打出牌颜色是场风中数字最大的那个人；\n\n有时候，会有人打出的牌违反规则：牌的颜色与数字组合已经被打出过了，或者使用了被禁用的颜色。此时我们称这次出牌**谬误**（paradox）。谬误的出牌是无效的，也就是说，出的谬误牌会被忽略掉，不算入胜者的计算，（如果是第一次打出的话）也不算打出过。**保证每场第一个人出的牌不会谬误。**\n\n给定 $n$ 场中，出的五张牌依次是什么。你需要确定这场中出现了多少个谬误，并输出谬误出现的场次，以及是谁打出了谬误。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，每行五个字符串，每个字符串两个字符，表示这轮依次打出的牌：\n\n- 第一个字符，一个大写英文字母，代表颜色：\n    - $\\texttt{C}$：红色；\n    - $\\texttt{P}$：蓝色；\n    - $\\texttt{Y}$：黄色；\n    - $\\texttt{Z}$：绿色。\n- 第二个字符：数字 $1\\sim 9$。", "outputFormat": "第一行，输出悖论数量 $k$。\n\n接下来 $k$ 行，每行先是一个数字，再是一个字符串（**全部大写**），表示悖论发生的场次，以及谁打出了悖论。**按顺序输出。**", "hint": "#### 样例解释\n\n样例 $1$ 解释见图片。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ww0e92lc.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10$。\n\n| 子任务编号 | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  AB    |   $ 10 $   |  \n| $ 2 $    |  B   |  $ 10 $   |  \n| $ 3 $    |  | $ 30 $   |\n\n- 特殊性质 A：\n    - 每场比赛的胜利者都是 $\\text{Sonja}$。\n- 特殊性质 B：\n    - 谬误的原因只有一个：打出了之前打出过的牌。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #2] 谬误 / Paradoks", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T1。$\\texttt{1s,0.5G}$。满分为 $50$。", "description": "五个人**围坐在圆桌边上**玩游戏。顺时针方向上看过去，五个人分别是 $\\text{Igor, Lea, Marino, Sonja, Viktor}$。\n\n游戏有 $n$ 场。第一场第一个出牌的人为 $\\text{Sonja}$，此后每一场第一个出牌的人都是上一场的胜者。每场中，五个人按顺时针方向上的顺序依次出牌，每个人**恰好出一次**牌。\n\n每人手里都有 $n$ 张无色牌，编号 $1\\sim n$。出牌时，选择手中的一张牌，并选择红蓝黄绿中的一种颜色涂在牌上打出。此外，我们要求，颜色和数字的组合之前没有被打出过。\n\n每场中，第一个出牌的人打出的牌的颜色称为**场风**。每个人打的牌的颜色都应该尽可能是场风。如果没有打出场风的牌的话，那么**从此刻开始**（在接下来的场次中）他就再也不能打（**该场次**）场风的牌了。\n\n每场中胜者的确定方式如下：\n\n- 如果有人打出过红牌，则取打出数字最大的那个人；\n- 否则，取打出牌颜色是场风中数字最大的那个人；\n\n有时候，会有人打出的牌违反规则：牌的颜色与数字组合已经被打出过了，或者使用了被禁用的颜色。此时我们称这次出牌**谬误**（paradox）。谬误的出牌是无效的，也就是说，出的谬误牌会被忽略掉，不算入胜者的计算，（如果是第一次打出的话）也不算打出过。**保证每场第一个人出的牌不会谬误。**\n\n给定 $n$ 场中，出的五张牌依次是什么。你需要确定这场中出现了多少个谬误，并输出谬误出现的场次，以及是谁打出了谬误。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，每行五个字符串，每个字符串两个字符，表示这轮依次打出的牌：\n\n- 第一个字符，一个大写英文字母，代表颜色：\n    - $\\texttt{C}$：红色；\n    - $\\texttt{P}$：蓝色；\n    - $\\texttt{Y}$：黄色；\n    - $\\texttt{Z}$：绿色。\n- 第二个字符：数字 $1\\sim 9$。", "outputFormat": "第一行，输出悖论数量 $k$。\n\n接下来 $k$ 行，每行先是一个数字，再是一个字符串（**全部大写**），表示悖论发生的场次，以及谁打出了悖论。**按顺序输出。**", "hint": "#### 样例解释\n\n样例 $1$ 解释见图片。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ww0e92lc.png)\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10$。\n\n| 子任务编号 | 特殊性质 | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  AB    |   $ 10 $   |  \n| $ 2 $    |  B   |  $ 10 $   |  \n| $ 3 $    |  | $ 30 $   |\n\n- 特殊性质 A：\n    - 每场比赛的胜利者都是 $\\text{Sonja}$。\n- 特殊性质 B：\n    - 谬误的原因只有一个：打出了之前打出过的牌。", "locale": "zh-CN"}}}
{"pid": "P11430", "type": "P", "difficulty": 3, "samples": [["3 10\n2 3 5\n5 1 5\n3 2 5", "25"], ["4 13\n0 6 5\n0 3 4\n0 2 3\n0 4 4", "19"], ["3 10\n1 1 1\n3 2 3\n2 3 5", "11"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "背包 DP", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #2] 游戏 / Igre", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T2。$\\texttt{2s,0.5G}$。满分为 $70$。", "description": "游戏 $i$ 需要 $p_i$ 分钟来学习。一款游戏只有学习怎么玩之后才可以玩。\n\n玩一局游戏 $i$ 需要 $t_i$ 分钟，可以获得 $o_i$ 分。可以多次游玩一款游戏。\n\n适度游戏益脑，过度游戏伤身。如果只花 $m$ 分钟来玩（包括学习玩）游戏，最多可以获得多少分？\n", "inputFormat": "第一行，两个正整数 $n,m$。\n\n接下来 $n$ 行，每行三个整数 $p_i,t_i,o_i$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "\n#### 样例解释\n\n样例 $3$ 解释：\n\n学第 $1,3$ 款游戏，耗时 $1+2=3$ 分钟。\n\n游玩游戏 $1,3,3$，获得 $1+5+5=11$ 分，耗时 $1+3+3=7$ 分钟。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,t_i\\le 5\\, 000$；\n- $0\\le p_i\\le 5\\, 000$；\n- $1\\le o_i\\le 10^9$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $1$ |     |   $ 6 $   |  \n| $ 2 $    | $10$ |   |  $ 13 $   |  \n| $ 3 $    | $5\\, 000$  | A | $ 23 $   |\n| $ 4 $    | $5\\, 000$  | | $ 28 $   |\n\n- 特殊性质 A：$\\forall 1\\le i\\le n$，$p_i=0$。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #2] 游戏 / Igre", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T2。$\\texttt{2s,0.5G}$。满分为 $70$。", "description": "游戏 $i$ 需要 $p_i$ 分钟来学习。一款游戏只有学习怎么玩之后才可以玩。\n\n玩一局游戏 $i$ 需要 $t_i$ 分钟，可以获得 $o_i$ 分。可以多次游玩一款游戏。\n\n适度游戏益脑，过度游戏伤身。如果只花 $m$ 分钟来玩（包括学习玩）游戏，最多可以获得多少分？\n", "inputFormat": "第一行，两个正整数 $n,m$。\n\n接下来 $n$ 行，每行三个整数 $p_i,t_i,o_i$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "\n#### 样例解释\n\n样例 $3$ 解释：\n\n学第 $1,3$ 款游戏，耗时 $1+2=3$ 分钟。\n\n游玩游戏 $1,3,3$，获得 $1+5+5=11$ 分，耗时 $1+3+3=7$ 分钟。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m,t_i\\le 5\\, 000$；\n- $0\\le p_i\\le 5\\, 000$；\n- $1\\le o_i\\le 10^9$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $1$ |     |   $ 6 $   |  \n| $ 2 $    | $10$ |   |  $ 13 $   |  \n| $ 3 $    | $5\\, 000$  | A | $ 23 $   |\n| $ 4 $    | $5\\, 000$  | | $ 28 $   |\n\n- 特殊性质 A：$\\forall 1\\le i\\le n$，$p_i=0$。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11431", "type": "P", "difficulty": 5, "samples": [["3 2 10\n1 6 4\n5 2", "33"], ["10 5 30\n5 16 2 10 7 2 4 20 5 12\n4 11 14 23 5", "435"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "数论", "前缀和", "COCI（克罗地亚）", "Ad-hoc"], "title": "[COCI 2024/2025 #2] 差异 / Različitost", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T3。$\\texttt{2s,0.5G}$。满分为 $90$。", "description": "给定无限长的，周期长度为 $n$ 的非负整数序列 $a$ 的前 $n$ 项 $a_1,a_2,\\cdots,a_n$。\n\n给定无限长的，周期长度为 $m$ 的非负整数序列 $b$ 的前 $m$ 项 $b_1,b_2,\\cdots,b_m$。\n\n给定正整数 $k$，求出 $\\displaystyle \\left(\\sum_{i=1}^k a_i\\oplus b_i\\right)\\bmod \\left(10^9+7\\right)$。", "inputFormat": "第一行，三个正整数 $n,m,k$。\n\n第二行，$n$ 个正整数 $a_1,\\cdots,a_n$。\n\n第三行，$m$ 个正整数 $b_1,\\cdots,b_m$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m\\le 2\\times 10^5$；    \n- $1\\le k\\le 10^{18}$；\n- $0\\le a_i,b_i\\le 10^{18}$。\n\n\n| 子任务编号 | $k\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^5$ |    |   $ 25 $   |  \n| $ 2 $    | $10^{18}$ |  A |  $ 13 $   |  \n| $ 3 $    | $10^{18}$  | B | $ 9$   |\n| $ 4 $    | $10^{18}$  |  | $ 43 $   |\n\n- 特殊性质 A：$n=m$。\n- 特殊性质 B：$n=1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #2] 差异 / Različitost", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T3。$\\texttt{2s,0.5G}$。满分为 $90$。", "description": "给定无限长的，周期长度为 $n$ 的非负整数序列 $a$ 的前 $n$ 项 $a_1,a_2,\\cdots,a_n$。\n\n给定无限长的，周期长度为 $m$ 的非负整数序列 $b$ 的前 $m$ 项 $b_1,b_2,\\cdots,b_m$。\n\n给定正整数 $k$，求出 $\\displaystyle \\left(\\sum_{i=1}^k a_i\\oplus b_i\\right)\\bmod \\left(10^9+7\\right)$。", "inputFormat": "第一行，三个正整数 $n,m,k$。\n\n第二行，$n$ 个正整数 $a_1,\\cdots,a_n$。\n\n第三行，$m$ 个正整数 $b_1,\\cdots,b_m$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "对于 $100\\%$ 的数据，保证：\n\n- $1\\le n,m\\le 2\\times 10^5$；    \n- $1\\le k\\le 10^{18}$；\n- $0\\le a_i,b_i\\le 10^{18}$。\n\n\n| 子任务编号 | $k\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^5$ |    |   $ 25 $   |  \n| $ 2 $    | $10^{18}$ |  A |  $ 13 $   |  \n| $ 3 $    | $10^{18}$  | B | $ 9$   |\n| $ 4 $    | $10^{18}$  |  | $ 43 $   |\n\n- 特殊性质 A：$n=m$。\n- 特殊性质 B：$n=1$。", "locale": "zh-CN"}}}
{"pid": "P11432", "type": "P", "difficulty": 6, "samples": [["3\n1 1 1\n3 3 5\n5 5 3", "7"], ["3\n1 2 1\n1 1 5\n1 3 4", "6"], ["3\n6 6 6\n8 8 7\n9 9 9", "9"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000, 1024000]}, "tags": ["动态规划 DP", "2024", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #2] 流明 / Blistavost", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T4。$\\texttt{4s,1G}$。满分为 $120$。", "description": "\n数轴的正半轴的整数点上布满了璀璨的水晶灯。起初，它们都是点亮的。\n\n初始时，时刻为 $0$，守卫在原点处。每单位时间，她可以选择向左或者向右移动一单位长度，也**可以待在原地**。\n\n当守卫在一盏水晶灯所在的位置时，可以选择熄灭这盏水晶灯。**熄灭不消耗时间。**\n\n\n有 $n$ 个要求，每个要求形如三元组 $(l_i,r_i,t_i)$，表示：村民需要熄灭区间 $[l_i,r_i]$ 内的水晶灯，而且必须在时刻${}\\ge t_i$ 时才能熄灭这个区间内的水晶灯（也就是说，时刻 $\\lt t_i$ 时不能熄灭这个区间内**任意一盏**水晶灯）。\n\n请你计算守卫至少需要多少单位时间才能满足村民的全部要求。\n", "inputFormat": "\n第一行，一个正整数 $n$。\n\n接下来 $n$ 行，每行三个正整数 $l_i,r_i,t_i$。", "outputFormat": "输出一行一个正整数，表示答案。\n", "hint": "\n#### 样例解释\n\n样例 $2$ 解释：\n\n时刻 $3$ 时走到 $x=3$ 处，停留一单位时间。\n\n时刻 $4$ 时，熄灭 $x=3$ 的水晶灯。\n\n时刻 $5$ 时，走到 $x=2$ 并熄灭上面的水晶灯。\n\n时刻 $6$ 时，走到 $x=1$ 并熄灭上面的水晶灯。\n\n耗时 $6$ 单位时间。\n\n#### 提示\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 5\\, 000$；    \n- $1\\le l_i\\le r_i\\le 10^{18}$；\n- $1\\le t_i\\le 10^{18}$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $18$ | A |   $ 20 $   |  \n| $ 2 $    | $5\\, 000$ | B  |  $ 25 $   |  \n| $ 3 $    | $5\\, 000$ | A  |  $ 55 $   |  \n| $ 4 $    | $5\\, 000$ |  |  $ 20 $   |  \n\n- 特殊性质 A：$l_i=r_i$。\n- 特殊性质 B：$l_i=1$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #2] 流明 / Blistavost", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T4。$\\texttt{4s,1G}$。满分为 $120$。", "description": "\n数轴的正半轴的整数点上布满了璀璨的水晶灯。起初，它们都是点亮的。\n\n初始时，时刻为 $0$，守卫在原点处。每单位时间，她可以选择向左或者向右移动一单位长度，也**可以待在原地**。\n\n当守卫在一盏水晶灯所在的位置时，可以选择熄灭这盏水晶灯。**熄灭不消耗时间。**\n\n\n有 $n$ 个要求，每个要求形如三元组 $(l_i,r_i,t_i)$，表示：村民需要熄灭区间 $[l_i,r_i]$ 内的水晶灯，而且必须在时刻${}\\ge t_i$ 时才能熄灭这个区间内的水晶灯（也就是说，时刻 $\\lt t_i$ 时不能熄灭这个区间内**任意一盏**水晶灯）。\n\n请你计算守卫至少需要多少单位时间才能满足村民的全部要求。\n", "inputFormat": "\n第一行，一个正整数 $n$。\n\n接下来 $n$ 行，每行三个正整数 $l_i,r_i,t_i$。", "outputFormat": "输出一行一个正整数，表示答案。\n", "hint": "\n#### 样例解释\n\n样例 $2$ 解释：\n\n时刻 $3$ 时走到 $x=3$ 处，停留一单位时间。\n\n时刻 $4$ 时，熄灭 $x=3$ 的水晶灯。\n\n时刻 $5$ 时，走到 $x=2$ 并熄灭上面的水晶灯。\n\n时刻 $6$ 时，走到 $x=1$ 并熄灭上面的水晶灯。\n\n耗时 $6$ 单位时间。\n\n#### 提示\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 5\\, 000$；    \n- $1\\le l_i\\le r_i\\le 10^{18}$；\n- $1\\le t_i\\le 10^{18}$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $18$ | A |   $ 20 $   |  \n| $ 2 $    | $5\\, 000$ | B  |  $ 25 $   |  \n| $ 3 $    | $5\\, 000$ | A  |  $ 55 $   |  \n| $ 4 $    | $5\\, 000$ |  |  $ 20 $   |  \n\n- 特殊性质 A：$l_i=r_i$。\n- 特殊性质 B：$l_i=1$。\n\n", "locale": "zh-CN"}}}
{"pid": "P11433", "type": "P", "difficulty": 6, "samples": [["1\n1 6\n1 2\n2 3\n1 3\n4 5\n4 6\n5 6", "1 2 3"], ["1\n3 26\n4 7\n4 9\n7 9\n4 5\n4 8\n5 8\n4 12\n4 18\n12 18\n3 7\n3 9\n15 5\n15 8\n6 13\n6 1\n13 1\n6 14\n6 17\n14 17\n6 2\n6 10\n2 10\n16 13\n16 1\n11 14\n11 17", "1 6 13\n3 7 9\n4 5 8"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2024", "网络流", "Special Judge", "随机化", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #2] 三角 / Trokuti", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T5。$\\texttt{4s,0.5G}$。满分为 $120$。\n", "description": "\n给定一张 $6n$ 个节点 $m$ 条边的无向图。保证这张图可以被**划分**成 $2n$ 个 $K_3$（大小为 $3$ 的完全图）。\n\n求出这张图中的 $n$ 个 $K_3$，不能有重复顶点。", "inputFormat": "\n**本题单个测试点内有多组测试数据。**\n\n第一行，一个正整数 $T$，表示测试数据组数。\n\n接下来描述 $T$ 组数据：\n\n第一行，两个整数 $n,m$。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示图中的一条无向边。", "outputFormat": "每组数据输出 $n$ 行，每行三个整数，表示 $K_3$ 的三个顶点。\n", "hint": "\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T\\le 100$；\n- $1\\le n,\\sum n\\le 300$；  \n- $0\\le m\\le 10^6$；\n- $1\\le u,v\\le 6n$。\n\n\n| 子任务编号 | $n,\\sum n$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $\\le 300$ | A |   $ 13 $   |  \n| $ 2 $    | $=3$ | B |  $ 18 $   |  \n| $ 3 $    | $=6$ | B |  $ 18 $   |  \n| $ 4 $    | $\\le 300$ |   |  $ 71 $   |  \n\n- 特殊性质 A：$m=6n$。\n- 特殊性质 B：$T=1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #2] 三角 / Trokuti", "background": "译自 [COCI 2024/2025 #2](https://hsin.hr/coci/) T5。$\\texttt{4s,0.5G}$。满分为 $120$。\n", "description": "\n给定一张 $6n$ 个节点 $m$ 条边的无向图。保证这张图可以被**划分**成 $2n$ 个 $K_3$（大小为 $3$ 的完全图）。\n\n求出这张图中的 $n$ 个 $K_3$，不能有重复顶点。", "inputFormat": "\n**本题单个测试点内有多组测试数据。**\n\n第一行，一个正整数 $T$，表示测试数据组数。\n\n接下来描述 $T$ 组数据：\n\n第一行，两个整数 $n,m$。\n\n接下来 $m$ 行，每行两个正整数 $u,v$，表示图中的一条无向边。", "outputFormat": "每组数据输出 $n$ 行，每行三个整数，表示 $K_3$ 的三个顶点。\n", "hint": "\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le T\\le 100$；\n- $1\\le n,\\sum n\\le 300$；  \n- $0\\le m\\le 10^6$；\n- $1\\le u,v\\le 6n$。\n\n\n| 子任务编号 | $n,\\sum n$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $\\le 300$ | A |   $ 13 $   |  \n| $ 2 $    | $=3$ | B |  $ 18 $   |  \n| $ 3 $    | $=6$ | B |  $ 18 $   |  \n| $ 4 $    | $\\le 300$ |   |  $ 71 $   |  \n\n- 特殊性质 A：$m=6n$。\n- 特殊性质 B：$T=1$。", "locale": "zh-CN"}}}
{"pid": "P11434", "type": "P", "difficulty": 0, "samples": [["6\n2 3 0 4 7 5", "10"], ["16\n1 0 3 2 5 4 7 6 2 3 0 1 6 7 4 5", "72"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Code+"], "title": "[Code+#8 决赛] 异或表", "background": "搬运自 [Code+ #8 决赛](https://gitlink.org.cn/thusaa/codeplus8final)。", "description": "小 o 家里的墙上贴着一张巨大的异或表。顾名思义，假如我们从左到右、从下到上依次将这张表格的行和列从 $0$ 开始编号，那么第 $i$ 行第 $j$ 列的方格里写的数是 $i\\ \\text{xor}\\ j$。\n\n闲暇时刻，小 o 时常盯着表格发呆。这天，小 o 得到了一个序列。正当他绞尽脑汁思考如何玩转这个序列之时，一个绝妙的想法从脑海中闪过：为何不看看这个序列有多少个子段会在眼前的这张表格里作为连续的一段出现呢？\n\n形式化地讲，如果这个序列的一个连续子段可以与表格中以某一个位置开始向右的连续一段或者向上的连续一段完全重合，则称这个子段在异或表中出现过。\n\n当小 o 兴致勃勃地开始从表中搜寻想要的序列时，他发现这张表格不断延伸、无穷无尽，以至于完全无法判断一个序列是否存在于表格中。于是，他只好前来求助，希望掌握人类智慧的你能告诉他答案。", "inputFormat": "输入第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,…,a_n$。", "outputFormat": "输出一个非负整数表示答案。", "hint": "**【样例解释】**\n\n所有由单点构成的子段都满足要求。\n\n长度为 $2$ 的满足要求的子段有：$[2,3]\\ (x=2,y=0),\\ [3,0]\\ (x=2,y=1),\\ [4,7]\\ (x=5,y=1)$。\n\n长度为 $3$ 的满足要求的子段有：$[2,3,0]\\ (x=2,y=0)$。\n\n共 $6+3+1=10$ 个。\n\n**【数据范围】**\n\n对于全部数据，满足 $1\\le n\\le 10^5,0\\le a_i\\lt 2^{60}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 决赛] 异或表", "background": "搬运自 [Code+ #8 决赛](https://gitlink.org.cn/thusaa/codeplus8final)。", "description": "小 o 家里的墙上贴着一张巨大的异或表。顾名思义，假如我们从左到右、从下到上依次将这张表格的行和列从 $0$ 开始编号，那么第 $i$ 行第 $j$ 列的方格里写的数是 $i\\ \\text{xor}\\ j$。\n\n闲暇时刻，小 o 时常盯着表格发呆。这天，小 o 得到了一个序列。正当他绞尽脑汁思考如何玩转这个序列之时，一个绝妙的想法从脑海中闪过：为何不看看这个序列有多少个子段会在眼前的这张表格里作为连续的一段出现呢？\n\n形式化地讲，如果这个序列的一个连续子段可以与表格中以某一个位置开始向右的连续一段或者向上的连续一段完全重合，则称这个子段在异或表中出现过。\n\n当小 o 兴致勃勃地开始从表中搜寻想要的序列时，他发现这张表格不断延伸、无穷无尽，以至于完全无法判断一个序列是否存在于表格中。于是，他只好前来求助，希望掌握人类智慧的你能告诉他答案。", "inputFormat": "输入第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,…,a_n$。", "outputFormat": "输出一个非负整数表示答案。", "hint": "**【样例解释】**\n\n所有由单点构成的子段都满足要求。\n\n长度为 $2$ 的满足要求的子段有：$[2,3]\\ (x=2,y=0),\\ [3,0]\\ (x=2,y=1),\\ [4,7]\\ (x=5,y=1)$。\n\n长度为 $3$ 的满足要求的子段有：$[2,3,0]\\ (x=2,y=0)$。\n\n共 $6+3+1=10$ 个。\n\n**【数据范围】**\n\n对于全部数据，满足 $1\\le n\\le 10^5,0\\le a_i\\lt 2^{60}$。", "locale": "zh-CN"}}}
{"pid": "P11435", "type": "P", "difficulty": 0, "samples": [["20 31 5 3 7", "4"], ["12345 999999 121 66 233", "815118"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2022", "Code+"], "title": "[Code+#8 决赛] 报数Ⅱ", "background": "搬运自 [Code+ #8 决赛](https://gitlink.org.cn/thusaa/codeplus8final)。", "description": "小 r 和小 z 厌倦了传统的报数游戏——几个人轮流报数，规定凡是 $7$ 的倍数以及数字中含有 $7$ 的数都不能报。“这也太容易了吧！谁还不会算个 $7$ 的倍数啊。”\n\n于是他们打算把游戏加强。一个比较广为人知的加强是“不能报出所有含有 $7$ 的数的倍数”，不过这次他们打算玩点更有意思的。\n\n小 z 说，可以把 $7$ 改成任意正整数 $a$ ，要求报出的数 $x$ 不能是 $a$ 的倍数，同时不能包含 $a$ （即如果把 $x$ 和 $a$ 都将其不含前导 $0$ 的十进制形式写成字符串，则 $x$ 不能以 $a$ 为子串，下文中“前缀”“后缀”的表述也是类似的含义）。\n\n小 r 说，“不能是 $a$ 的倍数”还是太弱，不妨我们改成 $x$ 的每个非空前缀都不能是 $a$ 的倍数吧。\n\n小 z 紧接着说，既然都考虑前缀了，那为什么不顺便考虑后缀？\n\n小 r 最后说，这几个条件用到的都是同一个 $a$ ，还是不够有意思，不如换成 $3$ 个数 $a,b,c$ 吧。\n\n于是他们最终制定好了规则：一个数 $x$ 能被报出当且仅当：$x$ 当中不包含 $a$ ，并且 $x$ 的任意一个非空前缀都不是 $b$ 的倍数，并且 $x$ 的任意一个非空后缀都不是 $c$ 的倍数。\n\n最后，他们打算看一下这个规则到底好不好玩——于是他们叫上了全程吃瓜的你。给定正整数 $l,r,a,b,c$，你需要计算 $[l,r]$ 范围内的正整数有多少个是按照上述规则能被报出来的。", "inputFormat": "输入共一行，$5$ 个正整数 $l,r,a,b,c$。", "outputFormat": "输出共一行，一个非负整数表示答案。", "hint": "**【样例 #1 解释】**\n\n$[20,31]$ 中，不包含 $5$、非空前缀不含 $3$ 的倍数、非空后缀不含 $7$ 的倍数的共有以下 $4$ 个：$22、23、26、29$。其他的数均不符合条件，例如 $0$ 是 $20$ 的非空后缀且为 $7$ 的倍数。\n\n**【数据范围】**\n\n对于所有的数据，满足 $1 \\leq l \\leq r \\leq 10^{18}, 1 \\leq a \\leq 10^9, 2 \\leq b,c \\leq 300$ 。\n\n子任务 $1$ （$15$ 分）：$r \\leq 10^6$。\n\n子任务 $2$ （$10$ 分）：$a, b, c \\leq 9$。\n\n子任务 $3$ （$15$ 分）：$c \\leq 15$。\n\n子任务 $4$ （$15$ 分）：$b,c \\leq 50$。\n\n子任务 $5$ （$15$ 分）：$b=c$。\n\n子任务 $6$ （$10$ 分）：$c$ 与 $10$ 互质。\n\n子任务 $7$ （$20$ 分）：无特殊性质。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 决赛] 报数Ⅱ", "background": "搬运自 [Code+ #8 决赛](https://gitlink.org.cn/thusaa/codeplus8final)。", "description": "小 r 和小 z 厌倦了传统的报数游戏——几个人轮流报数，规定凡是 $7$ 的倍数以及数字中含有 $7$ 的数都不能报。“这也太容易了吧！谁还不会算个 $7$ 的倍数啊。”\n\n于是他们打算把游戏加强。一个比较广为人知的加强是“不能报出所有含有 $7$ 的数的倍数”，不过这次他们打算玩点更有意思的。\n\n小 z 说，可以把 $7$ 改成任意正整数 $a$ ，要求报出的数 $x$ 不能是 $a$ 的倍数，同时不能包含 $a$ （即如果把 $x$ 和 $a$ 都将其不含前导 $0$ 的十进制形式写成字符串，则 $x$ 不能以 $a$ 为子串，下文中“前缀”“后缀”的表述也是类似的含义）。\n\n小 r 说，“不能是 $a$ 的倍数”还是太弱，不妨我们改成 $x$ 的每个非空前缀都不能是 $a$ 的倍数吧。\n\n小 z 紧接着说，既然都考虑前缀了，那为什么不顺便考虑后缀？\n\n小 r 最后说，这几个条件用到的都是同一个 $a$ ，还是不够有意思，不如换成 $3$ 个数 $a,b,c$ 吧。\n\n于是他们最终制定好了规则：一个数 $x$ 能被报出当且仅当：$x$ 当中不包含 $a$ ，并且 $x$ 的任意一个非空前缀都不是 $b$ 的倍数，并且 $x$ 的任意一个非空后缀都不是 $c$ 的倍数。\n\n最后，他们打算看一下这个规则到底好不好玩——于是他们叫上了全程吃瓜的你。给定正整数 $l,r,a,b,c$，你需要计算 $[l,r]$ 范围内的正整数有多少个是按照上述规则能被报出来的。", "inputFormat": "输入共一行，$5$ 个正整数 $l,r,a,b,c$。", "outputFormat": "输出共一行，一个非负整数表示答案。", "hint": "**【样例 #1 解释】**\n\n$[20,31]$ 中，不包含 $5$、非空前缀不含 $3$ 的倍数、非空后缀不含 $7$ 的倍数的共有以下 $4$ 个：$22、23、26、29$。其他的数均不符合条件，例如 $0$ 是 $20$ 的非空后缀且为 $7$ 的倍数。\n\n**【数据范围】**\n\n对于所有的数据，满足 $1 \\leq l \\leq r \\leq 10^{18}, 1 \\leq a \\leq 10^9, 2 \\leq b,c \\leq 300$ 。\n\n子任务 $1$ （$15$ 分）：$r \\leq 10^6$。\n\n子任务 $2$ （$10$ 分）：$a, b, c \\leq 9$。\n\n子任务 $3$ （$15$ 分）：$c \\leq 15$。\n\n子任务 $4$ （$15$ 分）：$b,c \\leq 50$。\n\n子任务 $5$ （$15$ 分）：$b=c$。\n\n子任务 $6$ （$10$ 分）：$c$ 与 $10$ 互质。\n\n子任务 $7$ （$20$ 分）：无特殊性质。", "locale": "zh-CN"}}}
{"pid": "P11436", "type": "P", "difficulty": 7, "samples": [["2\n1\n7", "1 0\n3 6\n1 2\n1 2\n2 3\n2 3\n1 3\n3 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "Special Judge", "构造", "Ad-hoc", "Code+"], "title": "[Code+#8 决赛] 生成树", "background": "搬运自 [Code+ #8 决赛](https://gitlink.org.cn/thusaa/codeplus8final)。", "description": "小 I 既喜欢生成树，又喜欢他的幸运数字 $k$，所以小 I 想造出一个**可以有重边自环**的有向图，点从 $1$ 到 $n$ 编号，使得以 $1$ 为根的**外向**生成树数量**恰好**为 $k$。但小 I 太穷了，手边只有 100 条有向边，所以他请求你的帮助，请你帮他造出这样的一个有向图，或者告诉他这是不可能的。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $q$，表示询问次数。接下来 $q$ 行每行包含一个正整数 $k$，描述一次询问。", "outputFormat": "对于每次询问，若不存在方案，只需要输出一行一个整数 `-1`。否则输出多行：第一行两个整数 $n,m$，分别表示你给出的有向图的点数和边数，你需要保证 $1 \\le n \\le 101, 0 \\le m \\le 100$。接下来 $m$ 行，第 $i$ 行两个整数 $u_i,v_i$，表示一条从 $u_i$ 到 $v_i$ 的有向边。你需要保证 $1 \\le u_i, v_i \\le n$。", "hint": "**【数据范围】**\n\n对于所有数据，$1 \\le q \\le 100$，$1 \\leq k \\le 7 \\times 10^{15}$。\n\n本题采用 $\\text{Subtask}$ 捆绑测试。\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$3$|$k\\le100$|\n|$2$|$7$|存在整数 $0 \\le a,b \\le 20$ 使得 $k = 2^a3^b$|\n|$3$|$10$|$q=1, k = 101$|\n|$4$|$10$|$k \\le 10^3$|\n|$5$|$7$|$k \\le 10^4$|\n|$6$|$7$|$k \\le 10^6$|\n|$7$|$8$|$k \\le 3 \\times 10^7$|\n|$8$|$8$|$k \\le 8 \\times 10^9$|\n|$9$|$10$|$k \\le 10^{12}$|\n|$10$|$10$|$k \\le 3 \\times 10^{14}$|\n|$11$|$20$|$k \\le 7 \\times 10^{15}$|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#8 决赛] 生成树", "background": "搬运自 [Code+ #8 决赛](https://gitlink.org.cn/thusaa/codeplus8final)。", "description": "小 I 既喜欢生成树，又喜欢他的幸运数字 $k$，所以小 I 想造出一个**可以有重边自环**的有向图，点从 $1$ 到 $n$ 编号，使得以 $1$ 为根的**外向**生成树数量**恰好**为 $k$。但小 I 太穷了，手边只有 100 条有向边，所以他请求你的帮助，请你帮他造出这样的一个有向图，或者告诉他这是不可能的。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $q$，表示询问次数。接下来 $q$ 行每行包含一个正整数 $k$，描述一次询问。", "outputFormat": "对于每次询问，若不存在方案，只需要输出一行一个整数 `-1`。否则输出多行：第一行两个整数 $n,m$，分别表示你给出的有向图的点数和边数，你需要保证 $1 \\le n \\le 101, 0 \\le m \\le 100$。接下来 $m$ 行，第 $i$ 行两个整数 $u_i,v_i$，表示一条从 $u_i$ 到 $v_i$ 的有向边。你需要保证 $1 \\le u_i, v_i \\le n$。", "hint": "**【数据范围】**\n\n对于所有数据，$1 \\le q \\le 100$，$1 \\leq k \\le 7 \\times 10^{15}$。\n\n本题采用 $\\text{Subtask}$ 捆绑测试。\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$3$|$k\\le100$|\n|$2$|$7$|存在整数 $0 \\le a,b \\le 20$ 使得 $k = 2^a3^b$|\n|$3$|$10$|$q=1, k = 101$|\n|$4$|$10$|$k \\le 10^3$|\n|$5$|$7$|$k \\le 10^4$|\n|$6$|$7$|$k \\le 10^6$|\n|$7$|$8$|$k \\le 3 \\times 10^7$|\n|$8$|$8$|$k \\le 8 \\times 10^9$|\n|$9$|$10$|$k \\le 10^{12}$|\n|$10$|$10$|$k \\le 3 \\times 10^{14}$|\n|$11$|$20$|$k \\le 7 \\times 10^{15}$|", "locale": "zh-CN"}}}
{"pid": "P11437", "type": "P", "difficulty": 1, "samples": [["10", "-1"], ["13", "11\n12\n13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["枚举", "Code+"], "title": "[Code+#6] 趣味数", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "bdg 今天定义了“趣味数”：一个正整数是趣味数，当且仅当“在十进制下，低位的数字不小于高位的数字”。比如 $123, 111$ 是趣味数，$10, 120, 213$ 不是趣味数。\n\n现在，给你一个正整数 $n$，请你输出 $[10, n]$ 中所有的趣味数。", "inputFormat": "输入的第一行包含一个正整数 $n$。", "outputFormat": "从小到大输出所有的趣味数，每行一个趣味数。如果没有趣味数，则输出一行，内容为 $-1$。", "hint": "### 样例解释\n\n对于样例一，$10$ 不是趣味数，故输出 $-1$。\n\n对于样例二，$10\\le x\\le 13$ 中有 $11, 12, 13$ 三个趣味数。\n\n### 数据范围\n\n所有数据保证 $10\\le n \\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 趣味数", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "bdg 今天定义了“趣味数”：一个正整数是趣味数，当且仅当“在十进制下，低位的数字不小于高位的数字”。比如 $123, 111$ 是趣味数，$10, 120, 213$ 不是趣味数。\n\n现在，给你一个正整数 $n$，请你输出 $[10, n]$ 中所有的趣味数。", "inputFormat": "输入的第一行包含一个正整数 $n$。", "outputFormat": "从小到大输出所有的趣味数，每行一个趣味数。如果没有趣味数，则输出一行，内容为 $-1$。", "hint": "### 样例解释\n\n对于样例一，$10$ 不是趣味数，故输出 $-1$。\n\n对于样例二，$10\\le x\\le 13$ 中有 $11, 12, 13$ 三个趣味数。\n\n### 数据范围\n\n所有数据保证 $10\\le n \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P11438", "type": "P", "difficulty": 0, "samples": [["2 2\n0.25 0.25\n0.25 0.25\n4\n-1 0\n0 0\n1 0\n0 1", "0.75000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "Code+"], "title": "[Code+#6] 与我无关", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。\n\n\n------------\n\n这天，白大哥找到了小莉。\n\n“cp 拿不出题了，题目全被 zgg 抢走了，这次就由你来出题吧。”\n\n于是小莉在概统课上糊出了这道题。", "description": "设有两个离散型随机变量 $X,Y$，已知其联合分布列。\n\n由 $X,Y$ 的线性组合构造出 $n$ 个新的随机变量：令 $Z_i=a_iX+b_iY$，其中 $i=1,2,\\dots,n$，$a_i,b_i$ 为已知实系数，且不存在两对相同的 $a_i,b_i$。\n\n现在，从 $Z_1,Z_2,\\dots,Z_n$ 中随机取出 $Z_i,Z_j,Z_k$，其中 $i,j,k$ 两两不同（即从 $\\binom n3$ 种组合中，随机等概率地选选出一种组合），考虑如下三个命题：\n\n- $p_1:Z_i-Z_j$ 与 $Z_j-Z_k$ 不相关；\n- $p_2:Z_j-Z_k$ 与 $Z_k-Z_i$ 不相关；\n- $p_3:Z_k-Z_i$ 与 $Z_i-Z_j$ 不相关；\n\n请求出 $p_1,p_2,p_3$ 至少有一个为真的概率。\n\n", "inputFormat": "第一行两个正整数 $w_x,w_y$，是用来描述 $X,Y$ 联合分布列的参数，表示若 $x\\ge w_x+2333$ 或 $y\\ge w_y+2333$，则 $P(X=x,Y=y)=0$。\n\n接下来 $w_x$ 行中，第 $i$ 行有 $w_y$ 个实数，第 $j$ 个数表示 $P(X=i+2332,Y=j+2332)$，即 $X$ 取值为 $i+2332$ 且 $Y$ 取值为 $j+2332$ 的概率，记为 $p_{i,j}$。\n\n接下来一行一个正整数 $n$，表示由 $X,Y$ 构造的随机变量的个数。\n\n接下来 $n$ 行中，第 $i$ 行为两个实数 $a_i,b_i$，表示 $Z_i=a_i X+b_iY$。", "outputFormat": "输出一行一个 $[0,1]$ 间的实数，表示题目所求的概率。\n\n设我们的答案为 $ans$，你的输出为 $out$，那么当且仅当 $|ans-out|<10^{-6}$ 时，你的答案才能被认为是正确的。因此在输出时，请保留足够多的小数位数（但不要超过输出长度限制）。", "hint": "### 样例解释\n\n**【样例 1】**\n\n除 $(Z_1,Z_2,Z_3)$ 不合法外，其余组合都合法，故概率为 $\\frac 34$。\n\n**【样例 2】**\n\n见题目目录下的 `2.in` 与 `2.ans`。\n\n### 数据范围\n\n- Subtask1（$20$ 分）：$n\\le 100$。\n- Subtask2（$30$ 分）：$n\\le 300$。\n- Subtask3（$50$ 分）：$n\\le 1500$。\n\n对于所有的输入数据，有 $2\\le w_x,w_y\\le 100$，$3\\le n\\le 1500$，$0 < p_{i,j} <1$，且 $\\sum_{i\\ge 2333} \\sum_{j\\ge 2333}p_{i,j}=1$，$|a_i|,|b_i|<10^9$。\n\n### 提示\n\n即使 $X,Y$ 不相关，$X,Y$ 也不一定独立。\n\n### 可能用到的相关知识\n本题中涉及到的随机变量都是离散型随机变量，并且取值为不小于 $2333$ 的整数。\n\n两个随机变量 $X,Y$ 不相关当且仅当 $E(XY)=E(X)E(Y)$，其中 $E(X)$ 表示随机变量 $X$ 的期望。\n\n设 $P(X=x)$ 表示 $X$ 的取值为 $x$ 的概率。关于 $X$ 的函数 $f(X)$ 也是一个随机变量，其期望为：\n\n$$\nE[f(X)]=\\sum_{x=2333}^{\\infty} f(x)P(X=x)\n$$\n\n显然，令 $f(X)=X$，就可以得到 $X$ 的期望为：\n$$\nE(X)=\\sum_{x=2333}^{\\infty} xP(X=x)\n$$\n对于关于 $X,Y$ 的二元函数 $Z=g(X,Y)$ 也是一个随机变量，设 $Y$ 的取值集合为 $D_Y$，则 $Z$ 的期望为：\n$$\nE[g(X,Y)]=\\sum_{x=2333}^{\\infty}\\sum_{y=2333}^{\\infty}g(x,y)P(X=x,Y=y)\n$$\n\n其中，$P(X=x,Y=y)$ 表示 $X$ 取值为 $x$ 且同时 $Y$ 取值为 $y$ 的概率。\n\n对于题目中涉及的 $E(XY)$，令 $g(X,Y)=XY$ 即可算出。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 与我无关", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。\n\n\n------------\n\n这天，白大哥找到了小莉。\n\n“cp 拿不出题了，题目全被 zgg 抢走了，这次就由你来出题吧。”\n\n于是小莉在概统课上糊出了这道题。", "description": "设有两个离散型随机变量 $X,Y$，已知其联合分布列。\n\n由 $X,Y$ 的线性组合构造出 $n$ 个新的随机变量：令 $Z_i=a_iX+b_iY$，其中 $i=1,2,\\dots,n$，$a_i,b_i$ 为已知实系数，且不存在两对相同的 $a_i,b_i$。\n\n现在，从 $Z_1,Z_2,\\dots,Z_n$ 中随机取出 $Z_i,Z_j,Z_k$，其中 $i,j,k$ 两两不同（即从 $\\binom n3$ 种组合中，随机等概率地选选出一种组合），考虑如下三个命题：\n\n- $p_1:Z_i-Z_j$ 与 $Z_j-Z_k$ 不相关；\n- $p_2:Z_j-Z_k$ 与 $Z_k-Z_i$ 不相关；\n- $p_3:Z_k-Z_i$ 与 $Z_i-Z_j$ 不相关；\n\n请求出 $p_1,p_2,p_3$ 至少有一个为真的概率。\n\n", "inputFormat": "第一行两个正整数 $w_x,w_y$，是用来描述 $X,Y$ 联合分布列的参数，表示若 $x\\ge w_x+2333$ 或 $y\\ge w_y+2333$，则 $P(X=x,Y=y)=0$。\n\n接下来 $w_x$ 行中，第 $i$ 行有 $w_y$ 个实数，第 $j$ 个数表示 $P(X=i+2332,Y=j+2332)$，即 $X$ 取值为 $i+2332$ 且 $Y$ 取值为 $j+2332$ 的概率，记为 $p_{i,j}$。\n\n接下来一行一个正整数 $n$，表示由 $X,Y$ 构造的随机变量的个数。\n\n接下来 $n$ 行中，第 $i$ 行为两个实数 $a_i,b_i$，表示 $Z_i=a_i X+b_iY$。", "outputFormat": "输出一行一个 $[0,1]$ 间的实数，表示题目所求的概率。\n\n设我们的答案为 $ans$，你的输出为 $out$，那么当且仅当 $|ans-out|<10^{-6}$ 时，你的答案才能被认为是正确的。因此在输出时，请保留足够多的小数位数（但不要超过输出长度限制）。", "hint": "### 样例解释\n\n**【样例 1】**\n\n除 $(Z_1,Z_2,Z_3)$ 不合法外，其余组合都合法，故概率为 $\\frac 34$。\n\n**【样例 2】**\n\n见题目目录下的 `2.in` 与 `2.ans`。\n\n### 数据范围\n\n- Subtask1（$20$ 分）：$n\\le 100$。\n- Subtask2（$30$ 分）：$n\\le 300$。\n- Subtask3（$50$ 分）：$n\\le 1500$。\n\n对于所有的输入数据，有 $2\\le w_x,w_y\\le 100$，$3\\le n\\le 1500$，$0 < p_{i,j} <1$，且 $\\sum_{i\\ge 2333} \\sum_{j\\ge 2333}p_{i,j}=1$，$|a_i|,|b_i|<10^9$。\n\n### 提示\n\n即使 $X,Y$ 不相关，$X,Y$ 也不一定独立。\n\n### 可能用到的相关知识\n本题中涉及到的随机变量都是离散型随机变量，并且取值为不小于 $2333$ 的整数。\n\n两个随机变量 $X,Y$ 不相关当且仅当 $E(XY)=E(X)E(Y)$，其中 $E(X)$ 表示随机变量 $X$ 的期望。\n\n设 $P(X=x)$ 表示 $X$ 的取值为 $x$ 的概率。关于 $X$ 的函数 $f(X)$ 也是一个随机变量，其期望为：\n\n$$\nE[f(X)]=\\sum_{x=2333}^{\\infty} f(x)P(X=x)\n$$\n\n显然，令 $f(X)=X$，就可以得到 $X$ 的期望为：\n$$\nE(X)=\\sum_{x=2333}^{\\infty} xP(X=x)\n$$\n对于关于 $X,Y$ 的二元函数 $Z=g(X,Y)$ 也是一个随机变量，设 $Y$ 的取值集合为 $D_Y$，则 $Z$ 的期望为：\n$$\nE[g(X,Y)]=\\sum_{x=2333}^{\\infty}\\sum_{y=2333}^{\\infty}g(x,y)P(X=x,Y=y)\n$$\n\n其中，$P(X=x,Y=y)$ 表示 $X$ 取值为 $x$ 且同时 $Y$ 取值为 $y$ 的概率。\n\n对于题目中涉及的 $E(XY)$，令 $g(X,Y)=XY$ 即可算出。", "locale": "zh-CN"}}}
{"pid": "P11439", "type": "P", "difficulty": 0, "samples": [["7\n233rbqloltysorztystysrbqexmlolrbqexmorz233\n", "2\n2\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Code+"], "title": "[Code+#6] 因数分解", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "$n$ 个小朋友在一个神奇的空间里玩游戏。每个小朋友有一个名字，且所有的名字两两不同。名字只由可打印字符组成（ASCII 编码 $32$ 至 $126$），长度恰好为 $3$。\n\n每个小朋友有 $k$ 种属性值（$k$ 为非负整数），第 $i$ 种属性值的取值范围为不超过 $a_i$ 的正整数（$2 \\leq a_1 \\leq a_2 \\leq \\cdots \\leq a_k$）。保证 $n=a_1 a_2 \\cdots a_k$，且对于任意一对小朋友，他们总有至少一种属性不相同。\n\n当且仅当一对小朋友恰好有一种属性不相同且该属性恰好相差 $1$ 时，我们称这一对小朋友互相认识。设 $m$ 为互相认识的小朋友的对数。\n\n输入 $m$ 和这些互相认识的关系，请输出一种可能的 $k$ 与 $a_1, a_2, \\dots, a_k$。", "inputFormat": "第一行输入一个整数 $m$。\n\n第二行中依次输入每一对互相认识的关系。对于每一对关系输入 $6$ 个字符，前 $3$ 个与后 $3$ 个字符分别表示两个小朋友的名字。注意本行结尾仍有一换行符。", "outputFormat": "第一行输出一个整数 $k$。\n\n接下来 $k$ 行，其中第 $i$ 行输出 $a_i$。\n\n如果有多种可行的解，你可以输出任意一个。", "hint": "### 样例解释\n\n一种可行的解如下：$k=2,a_1=2,a_2=3$。\n\n可以验证，一共有 $7$ 对互相认识的关系，且符合给出的输入。\n\n### 数据范围\n\n- 子任务 1（$29$ 分）：$50<m\\le500$。\n- 子任务 2（$19$ 分）：保证所有的 $a_1, a_2, \\dots, a_k$ 均为质数，$m \\leq 10^6$。\n- 子任务 3（$10$ 分）：$500<m\\le5000$。\n- 子任务 4（$42$ 分）：$m\\le10^6$。\n\n对于所有的输入数据，保证 $m\\le 10^6$。\n\n### 提示\n\n这题叫什么名字来着？", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 因数分解", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "$n$ 个小朋友在一个神奇的空间里玩游戏。每个小朋友有一个名字，且所有的名字两两不同。名字只由可打印字符组成（ASCII 编码 $32$ 至 $126$），长度恰好为 $3$。\n\n每个小朋友有 $k$ 种属性值（$k$ 为非负整数），第 $i$ 种属性值的取值范围为不超过 $a_i$ 的正整数（$2 \\leq a_1 \\leq a_2 \\leq \\cdots \\leq a_k$）。保证 $n=a_1 a_2 \\cdots a_k$，且对于任意一对小朋友，他们总有至少一种属性不相同。\n\n当且仅当一对小朋友恰好有一种属性不相同且该属性恰好相差 $1$ 时，我们称这一对小朋友互相认识。设 $m$ 为互相认识的小朋友的对数。\n\n输入 $m$ 和这些互相认识的关系，请输出一种可能的 $k$ 与 $a_1, a_2, \\dots, a_k$。", "inputFormat": "第一行输入一个整数 $m$。\n\n第二行中依次输入每一对互相认识的关系。对于每一对关系输入 $6$ 个字符，前 $3$ 个与后 $3$ 个字符分别表示两个小朋友的名字。注意本行结尾仍有一换行符。", "outputFormat": "第一行输出一个整数 $k$。\n\n接下来 $k$ 行，其中第 $i$ 行输出 $a_i$。\n\n如果有多种可行的解，你可以输出任意一个。", "hint": "### 样例解释\n\n一种可行的解如下：$k=2,a_1=2,a_2=3$。\n\n可以验证，一共有 $7$ 对互相认识的关系，且符合给出的输入。\n\n### 数据范围\n\n- 子任务 1（$29$ 分）：$50<m\\le500$。\n- 子任务 2（$19$ 分）：保证所有的 $a_1, a_2, \\dots, a_k$ 均为质数，$m \\leq 10^6$。\n- 子任务 3（$10$ 分）：$500<m\\le5000$。\n- 子任务 4（$42$ 分）：$m\\le10^6$。\n\n对于所有的输入数据，保证 $m\\le 10^6$。\n\n### 提示\n\n这题叫什么名字来着？", "locale": "zh-CN"}}}
{"pid": "P11440", "type": "P", "difficulty": 5, "samples": [["2\n500 500 19 300 50\n39 42 4 27 86", "497.89734\n39.00000"]], "limits": {"time": [3000], "memory": [524288]}, "tags": ["动态规划 DP", "Code+"], "title": "[Code+#6] 幸运盒", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "小明有 $n$ 个幸运盒，每次运转一个盒子的结果要么出现糖果，要么出现芥末。每一轮，小明可以每次选择恰好 $k$ 个盒子一起运转，每个盒子有 $p \\%$ 的概率开出糖果，$\\left (100-p \\right) \\%$ 的概率开出芥末；或者他可以选择这一轮使用法术：选择恰好 $t$ 个盒子，对这些盒子的开出糖果的概率进行调整，使这些盒子分别有 $p \\%,\\left( \\min \\left( p+1, 100 \\right) \\right) \\%,\\cdots,\\left( \\min \\left( p+t-1 , 100 \\right) \\right) \\%$ 的概率获得糖果；当然，他也可以什么都不做，放弃这一轮。\n\n小明很聪明，每一轮都会选择最优的策略运转这些盒子，包括选择 $k$ 个盒子重新运转，或者选择 $t$ 个盒子使用法术，亦或是放弃这一轮的运转。他可以进行 $m$ 轮操作，在所有操作结束之前他不能拿走盒子里的东西。他想知道 $m$ 轮操作之后，他期望获得多少的糖果。", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n对每组数据，输入一行五个整数：$n$，$m$，$t$，$k$，$p$，分别表示盒子的数量 $n$、运转轮数 $m$、使用法术需要选择的盒子数量 $t$、不使用法术需要选择的盒子数量 $k$，以及 $p$ 表示初始概率 $p \\%$。", "outputFormat": "每组测试数据输出一行，一个 $5$ 位小数，表示最佳策略下的期望。数据保证解的第 $6$ 位小数不是 $4,5,6$，即不用担心舍入精度问题。", "hint": "本题仅有 $1$ 个测试点，只有当你的输出与标准输出完全相同时，才能得到该测试点的满分。\n\n下面为各组数据的范围和约定。\n\n对于测试点中 $90 \\%$ 的数据，$1 \\le n \\le 50$，  $1 \\le m \\le 50$，$1 \\le  t \\le 10$。\n\n对于测试点中所有的数据，$1\\le T\\le100$，$1\\le n,m\\le500$，$1\\le t\\le 20$，$t\\le k\\le n$，$1\\le p\\le 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 幸运盒", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "小明有 $n$ 个幸运盒，每次运转一个盒子的结果要么出现糖果，要么出现芥末。每一轮，小明可以每次选择恰好 $k$ 个盒子一起运转，每个盒子有 $p \\%$ 的概率开出糖果，$\\left (100-p \\right) \\%$ 的概率开出芥末；或者他可以选择这一轮使用法术：选择恰好 $t$ 个盒子，对这些盒子的开出糖果的概率进行调整，使这些盒子分别有 $p \\%,\\left( \\min \\left( p+1, 100 \\right) \\right) \\%,\\cdots,\\left( \\min \\left( p+t-1 , 100 \\right) \\right) \\%$ 的概率获得糖果；当然，他也可以什么都不做，放弃这一轮。\n\n小明很聪明，每一轮都会选择最优的策略运转这些盒子，包括选择 $k$ 个盒子重新运转，或者选择 $t$ 个盒子使用法术，亦或是放弃这一轮的运转。他可以进行 $m$ 轮操作，在所有操作结束之前他不能拿走盒子里的东西。他想知道 $m$ 轮操作之后，他期望获得多少的糖果。", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n对每组数据，输入一行五个整数：$n$，$m$，$t$，$k$，$p$，分别表示盒子的数量 $n$、运转轮数 $m$、使用法术需要选择的盒子数量 $t$、不使用法术需要选择的盒子数量 $k$，以及 $p$ 表示初始概率 $p \\%$。", "outputFormat": "每组测试数据输出一行，一个 $5$ 位小数，表示最佳策略下的期望。数据保证解的第 $6$ 位小数不是 $4,5,6$，即不用担心舍入精度问题。", "hint": "本题仅有 $1$ 个测试点，只有当你的输出与标准输出完全相同时，才能得到该测试点的满分。\n\n下面为各组数据的范围和约定。\n\n对于测试点中 $90 \\%$ 的数据，$1 \\le n \\le 50$，  $1 \\le m \\le 50$，$1 \\le  t \\le 10$。\n\n对于测试点中所有的数据，$1\\le T\\le100$，$1\\le n,m\\le500$，$1\\le t\\le 20$，$t\\le k\\le n$，$1\\le p\\le 100$。", "locale": "zh-CN"}}}
{"pid": "P11441", "type": "P", "difficulty": 6, "samples": [["2\n0 0\n0 2", "3.14159265358979326666666666666233333333"], ["3\n0 1\n3 0\n2 2", "10.353981582"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["计算几何", "Special Judge", "凸包", "叉积", "旋转卡壳", "Code+"], "title": "[Code+#6] 进阶法师", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "传说在 $100000$ 年后，又有大量陨石即将撞击企鹅大陆。散布在企鹅大陆各个地点的进阶企鹅法师们张开法阵保护企鹅大陆。\n\n法师站在一些固定的点，如果一个点与某两个法师连线形成的夹角大于等于 $90$ 度，那么这个点可以免于灾害。\n\n每个法师的坐标可以使用一组非负整数 $\\left(X, Y\\right)$ 表示。不存在两个法师在同一个位置。\n\n一想到这里，企鹅豆豆又想到一个问题——能被保护的区域的面积有大？", "inputFormat": "输入的第一行包含一个正整数 $n$，表示法师人数，保证 $2 \\le n \\le 10^5$。\n\n接下来 $n$ 行每行两个非负整数，表示一位法师的坐标位置。保证数值不超过 $10^9$。", "outputFormat": "输出一个小数，表示被保护的区域的面积。如果你的输出与标算的答案的相对误差不超过 $10^{-7}$ 即被认为是正确的。", "hint": "### 样例解释\n\n**【样例 1】**\n\n对于样例一，显然被保护面积是以这两点连线作为直径的圆形。根据圆的面积计算公式即可得出答案。而且你与标算的相对误差不超过 $10^{-7}$ 即被认为正确。\n\n**【样例 3】**\n\n见题目目录下的 `3.in` 与 `3.ans`。\n\n### 数据范围\n\n保证 $2 \\le n \\le 10^5$，$0\\le X,Y\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 进阶法师", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "传说在 $100000$ 年后，又有大量陨石即将撞击企鹅大陆。散布在企鹅大陆各个地点的进阶企鹅法师们张开法阵保护企鹅大陆。\n\n法师站在一些固定的点，如果一个点与某两个法师连线形成的夹角大于等于 $90$ 度，那么这个点可以免于灾害。\n\n每个法师的坐标可以使用一组非负整数 $\\left(X, Y\\right)$ 表示。不存在两个法师在同一个位置。\n\n一想到这里，企鹅豆豆又想到一个问题——能被保护的区域的面积有大？", "inputFormat": "输入的第一行包含一个正整数 $n$，表示法师人数，保证 $2 \\le n \\le 10^5$。\n\n接下来 $n$ 行每行两个非负整数，表示一位法师的坐标位置。保证数值不超过 $10^9$。", "outputFormat": "输出一个小数，表示被保护的区域的面积。如果你的输出与标算的答案的相对误差不超过 $10^{-7}$ 即被认为是正确的。", "hint": "### 样例解释\n\n**【样例 1】**\n\n对于样例一，显然被保护面积是以这两点连线作为直径的圆形。根据圆的面积计算公式即可得出答案。而且你与标算的相对误差不超过 $10^{-7}$ 即被认为正确。\n\n**【样例 3】**\n\n见题目目录下的 `3.in` 与 `3.ans`。\n\n### 数据范围\n\n保证 $2 \\le n \\le 10^5$，$0\\le X,Y\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11442", "type": "P", "difficulty": 4, "samples": [["3 2\nZ 37\nR 37", "35\n49"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "递归", "进制", "Code+"], "title": "[Code+#6] 坐标转换", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "在视频编码中，往往需要将一帧画面分块。\n\n为了简化问题，我们考虑将一幅图片看作 $2^n\\times 2^n$ 的网格。为了对图片进行处理，编码器往往会遍历每个格子，但遍历格子的方式在不同的应用中是不同的。\n\n其中一种方式叫做光栅遍历，就是按照从左到右，从上到下的顺序依次进行标号。下图是一个 $8\\times 8$ 的例子：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jzhd5wk1.png)\n\n另一种方式叫做 Z 字型遍历。先看一个 $8\\times 8$ 的例子：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ywh3ycrt.png)\n\n可以构造性的给出描述：\n\n1.对于 $2^0\\times2^0$ 的网格，直接遍历；\n\n2.对于 $2^k\\times2^k(k>0)$ 的网格，将其横着从中间、竖着从中间各分成两半，形成 $4$ 个 $2^{k-1}\\times2^{k-1}$ 的方格，这四个方格按照左上、右上、左下、右下的顺序依次遍历。", "inputFormat": "输入的第一行为两个整数 $n,m$，其中 $2^n$ 为矩形的边长，$m$ 为询问次数。\n\n接下来 $m$ 行，每行是一个询问，每个询问给出一个方格，方式有两种，如下：\n\n- `Z x`：给出 Z 字形遍历中标号是 $x$ 的方格。\n- `R x`：给出光栅遍历中标号是 $x$ 的方格。\n\n保证存在标号为 $x$ 的方格。", "outputFormat": "对于每种询问，请输出一行一个正整数，表示在另一种遍历方式中，给出格子的标号。", "hint": "### 样例解释\n\n如上图所示。\n\n### 数据范围\n\n对于所有数据，保证 $1\\le n\\le 30$，$1\\le m\\le 5\\times10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 坐标转换", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "在视频编码中，往往需要将一帧画面分块。\n\n为了简化问题，我们考虑将一幅图片看作 $2^n\\times 2^n$ 的网格。为了对图片进行处理，编码器往往会遍历每个格子，但遍历格子的方式在不同的应用中是不同的。\n\n其中一种方式叫做光栅遍历，就是按照从左到右，从上到下的顺序依次进行标号。下图是一个 $8\\times 8$ 的例子：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jzhd5wk1.png)\n\n另一种方式叫做 Z 字型遍历。先看一个 $8\\times 8$ 的例子：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ywh3ycrt.png)\n\n可以构造性的给出描述：\n\n1.对于 $2^0\\times2^0$ 的网格，直接遍历；\n\n2.对于 $2^k\\times2^k(k>0)$ 的网格，将其横着从中间、竖着从中间各分成两半，形成 $4$ 个 $2^{k-1}\\times2^{k-1}$ 的方格，这四个方格按照左上、右上、左下、右下的顺序依次遍历。", "inputFormat": "输入的第一行为两个整数 $n,m$，其中 $2^n$ 为矩形的边长，$m$ 为询问次数。\n\n接下来 $m$ 行，每行是一个询问，每个询问给出一个方格，方式有两种，如下：\n\n- `Z x`：给出 Z 字形遍历中标号是 $x$ 的方格。\n- `R x`：给出光栅遍历中标号是 $x$ 的方格。\n\n保证存在标号为 $x$ 的方格。", "outputFormat": "对于每种询问，请输出一行一个正整数，表示在另一种遍历方式中，给出格子的标号。", "hint": "### 样例解释\n\n如上图所示。\n\n### 数据范围\n\n对于所有数据，保证 $1\\le n\\le 30$，$1\\le m\\le 5\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P11443", "type": "P", "difficulty": 6, "samples": [["6 2\n7 9 10 6 2 5\n1 4\n2 5", "6\n24"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["莫队", "根号分治", "Code+"], "title": "[Code+#6] 校门外的树", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "L 校门外有一条大马路，路边种了许多的树。L 校的新校长 Lsy 认为学校应该在校门内的马路边种许多的树来绿化环境。在他的植树计划中，共需种植 $n$ 棵树，每棵树都有一个高度 $h_{i}$。然而他是一个很信风水的人，为了保证校园的风水，他请来了作为风水大师的你来为他计算这个植树方案的幸运值。\n\n\n对于 $n$ 棵树组成的序列，定义其中一个区间 $[u ,v]$ 的幸运值为：\n\n$$\\prod\\limits_{i=u}^{v-1}\\prod\\limits_{j=i+1}^{v}\\operatorname{gcd}(h_i,h_j)$$\n\n如果 $u = v$ 则幸运值为 $1$。\n\n现在你需要回答 L 校长对于 $q$ 个区间的询问，对于每个询问回答该区间幸运值 $\\bmod 998244353$ 的值。", "inputFormat": "第一行为两个整数 $n,q$。\n\n第二行为 $n$ 个整数 $h_{i}$。\n\n接下来 $q$ 行，每行两个整数 $u,v$，表示 $q$ 次询问。", "outputFormat": "对于每个询问输出一行，为该区间的幸运值 $\\bmod 998244353$ 的值。", "hint": "### 数据范围\n\n任何时候，保证 $1 \\leq n,q, h_{i}\\leq 10^5$。\n\n每个子任务的额外约定：\n\n- Subtask1（$10$ 分）：$n,q \\leq 100$。\n- Subtask2（$10$ 分）：$h_{i}$ 全部相等。\n- Subtask3（$15$ 分）：$h_{i} \\leq 10^3$。\n- Subtask4（$10$ 分）：$q = 1$。\n- Subtask5（$25$ 分）：$n, q \\leq3\\times10^4$。\n- Subtask6（$30$ 分）：无额外约束。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 校门外的树", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。", "description": "L 校门外有一条大马路，路边种了许多的树。L 校的新校长 Lsy 认为学校应该在校门内的马路边种许多的树来绿化环境。在他的植树计划中，共需种植 $n$ 棵树，每棵树都有一个高度 $h_{i}$。然而他是一个很信风水的人，为了保证校园的风水，他请来了作为风水大师的你来为他计算这个植树方案的幸运值。\n\n\n对于 $n$ 棵树组成的序列，定义其中一个区间 $[u ,v]$ 的幸运值为：\n\n$$\\prod\\limits_{i=u}^{v-1}\\prod\\limits_{j=i+1}^{v}\\operatorname{gcd}(h_i,h_j)$$\n\n如果 $u = v$ 则幸运值为 $1$。\n\n现在你需要回答 L 校长对于 $q$ 个区间的询问，对于每个询问回答该区间幸运值 $\\bmod 998244353$ 的值。", "inputFormat": "第一行为两个整数 $n,q$。\n\n第二行为 $n$ 个整数 $h_{i}$。\n\n接下来 $q$ 行，每行两个整数 $u,v$，表示 $q$ 次询问。", "outputFormat": "对于每个询问输出一行，为该区间的幸运值 $\\bmod 998244353$ 的值。", "hint": "### 数据范围\n\n任何时候，保证 $1 \\leq n,q, h_{i}\\leq 10^5$。\n\n每个子任务的额外约定：\n\n- Subtask1（$10$ 分）：$n,q \\leq 100$。\n- Subtask2（$10$ 分）：$h_{i}$ 全部相等。\n- Subtask3（$15$ 分）：$h_{i} \\leq 10^3$。\n- Subtask4（$10$ 分）：$q = 1$。\n- Subtask5（$25$ 分）：$n, q \\leq3\\times10^4$。\n- Subtask6（$30$ 分）：无额外约束。", "locale": "zh-CN"}}}
{"pid": "P11444", "type": "P", "difficulty": 5, "samples": [["8\n2 1 1 1 2 2 1 2\n1 2", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "区间 DP", "Code+"], "title": "[Code+#6] 祖玛", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。\n\n------------\n\n\n小粽还是一个小粽子的时候，特别喜欢玩一款叫作祖玛的游戏。现在，小粽长大了。为了纪念她的童年时光，她开发了一款新型祖玛游戏，并为你准备了一个问题。", "description": "小粽的祖玛游戏的游戏规则可以抽象为如下模型：\n\n初始时，有一段长度为 $n$ 的正整数序列 $a_1,a_2,\\dots,a_n$。游戏过程中，小粽会对这个序列进行一系列规则相同的操作：从序列中选取连续且相同的一段数，设这段数的长度为 $X$，如果这些数的值都相等，那么小粽可以把这些数从序列中删除，并将序列从删除的位置接起来，例如，对于序列 `2 3 3 3 1`，可以删除中间的 `3 3 3`，得到 `2 1`。\n\n不过，小粽觉得只是这样太简单了，于是她选择了两个数 $X_{min},X_{max}$，并且要求每次删除的那段数的长度 $X$ 要满足 $X_{min}\\le X\\le X_{max}$。\n\n显然小粽能进行的操作次数是有限的，甚至她有可能不能把整个序列删除完。现在，小粽想要知道，她每次删除的数的长度的平方和是多少。即，设 $X_i$ 为第 $i$ 次删除的数的长度，最大化 $\\sum X_i^2$。\n\n出题固然很爽，但是小粽发现自己现在不会做了。请你帮小粽求出这个最大值吧！", "inputFormat": "输入第一行为一个正整数 $n$，表示初始时序列的长度。\n\n接下来一行包含 $n$ 个正整数，描述这个序列，第 $i$ 个数为 $a_i$。\n\n输入的第三行为两个正整数 $X_{min},X_{max}$。\n\n对于所有的输入数据都满足 $1\\le n\\le 100$，$1\\le a_i\\le n$，$1\\le X_{min}\\le X_{max}\\le n$。", "outputFormat": "输出一行一个整数，表示 $\\sum X_i^2$ 的最大值。", "hint": "### 样例解释\n\n**【样例 1】**\n\n最优策略为，先删除中间的两个 `2 2`，然后删除连续删除两个 `1 1`，最后删除剩下的 `2 2`。注意，由于 $x_{max}$ 的限制，无法删除 `1 1 1`。\n\n**【样例 2】**\n\n见题目目录下的 `2.in` 与 `2.ans`。\n\n### 数据范围\n\n对于所有的输入数据都满足 $1\\le n\\le 100$，$1\\le a_i\\le n$，$1\\le X_{min}\\le X_{max}\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Code+#6] 祖玛", "background": "搬运自 [Code+ 第 6 次网络赛](https://gitlink.org.cn/thusaa/codeplus6/)。\n\n------------\n\n\n小粽还是一个小粽子的时候，特别喜欢玩一款叫作祖玛的游戏。现在，小粽长大了。为了纪念她的童年时光，她开发了一款新型祖玛游戏，并为你准备了一个问题。", "description": "小粽的祖玛游戏的游戏规则可以抽象为如下模型：\n\n初始时，有一段长度为 $n$ 的正整数序列 $a_1,a_2,\\dots,a_n$。游戏过程中，小粽会对这个序列进行一系列规则相同的操作：从序列中选取连续且相同的一段数，设这段数的长度为 $X$，如果这些数的值都相等，那么小粽可以把这些数从序列中删除，并将序列从删除的位置接起来，例如，对于序列 `2 3 3 3 1`，可以删除中间的 `3 3 3`，得到 `2 1`。\n\n不过，小粽觉得只是这样太简单了，于是她选择了两个数 $X_{min},X_{max}$，并且要求每次删除的那段数的长度 $X$ 要满足 $X_{min}\\le X\\le X_{max}$。\n\n显然小粽能进行的操作次数是有限的，甚至她有可能不能把整个序列删除完。现在，小粽想要知道，她每次删除的数的长度的平方和是多少。即，设 $X_i$ 为第 $i$ 次删除的数的长度，最大化 $\\sum X_i^2$。\n\n出题固然很爽，但是小粽发现自己现在不会做了。请你帮小粽求出这个最大值吧！", "inputFormat": "输入第一行为一个正整数 $n$，表示初始时序列的长度。\n\n接下来一行包含 $n$ 个正整数，描述这个序列，第 $i$ 个数为 $a_i$。\n\n输入的第三行为两个正整数 $X_{min},X_{max}$。\n\n对于所有的输入数据都满足 $1\\le n\\le 100$，$1\\le a_i\\le n$，$1\\le X_{min}\\le X_{max}\\le n$。", "outputFormat": "输出一行一个整数，表示 $\\sum X_i^2$ 的最大值。", "hint": "### 样例解释\n\n**【样例 1】**\n\n最优策略为，先删除中间的两个 `2 2`，然后删除连续删除两个 `1 1`，最后删除剩下的 `2 2`。注意，由于 $x_{max}$ 的限制，无法删除 `1 1 1`。\n\n**【样例 2】**\n\n见题目目录下的 `2.in` 与 `2.ans`。\n\n### 数据范围\n\n对于所有的输入数据都满足 $1\\le n\\le 100$，$1\\le a_i\\le n$，$1\\le X_{min}\\le X_{max}\\le n$。", "locale": "zh-CN"}}}
{"pid": "P11445", "type": "P", "difficulty": 1, "samples": [["5\n3\n2 3 5\n2\n3 1\n3\n1 2 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "排序", "洛谷月赛"], "title": "「ALFR Round 3」A 调皮的学生", "background": "在小山所在的学校中，有着一群非常调皮的学生。比如，在给老师的教学水平评分时，他们常常会给出不正经的评分。", "description": "又到了一学期一度的评分大赛，每位同学都可以为本班某门科目的老师评分（一共有语、数、英三门科目）。每位同学应当只为一位老师评分。但有些学生常常会为多位老师评分，或者不为任何老师评分，我们称这样的学生为调皮的学生。现在给出小山所在班级的三门科目的老师的评分情况，请你求出该班级的调皮的学生的数量。", "inputFormat": "第一行一个整数 $n$，表示全班共有 $n$ 位学生，学生的学号为 $1\\sim n$。\n\n第二行一个整数 $a$，表示有 $a$ 位学生为语文老师评了分。\n\n第三行有 $a$ 个整数，第 $i$ 个整数 $x_i$ 表示学号为 $x_i$ 的学生为语文老师评了分。\n\n第四行一个整数 $b$，代表有 $b$ 位学生为数学老师评了分。\n\n第五行有 $b$ 个整数，第 $i$ 个整数 $y_i$ 表示学号为 $y_i$ 的学生为数学老师评了分。\n\n第六行一个整数 $c$，代表有 $c$ 位学生为英语老师评了分。\n\n第七行有 $c$ 个整数，第 $i$ 个整数 $z_i$ 表示学号为 $z_i$ 的学生为英语老师评了分。", "outputFormat": "一行一个整数代表小山所在班级的调皮的学生的数量。", "hint": "### 样例解释\n\n学号为 $1,2,3,4,5$ 的学生分别为 $2,2,3,0,1$ 位老师评了分，学号为 $1,2,3,4$ 的学生都是调皮的学生，所以答案为 $4$。\n\n### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $0$ | $10$ | $n=1$ |\n| $1$ | $20$ | $x,y,z$ 三个数组中的**所有**元素互不重复|\n| $2$ | $10$ | $a=b=c=1$|\n| $3$ | $10$ | $a=n,b=c=1$|\n| $4$ | $20$ | $x,y,z$ 数组分别按照升序顺序给出|\n| $5$ | $30$ | - |\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$，$0\\le a,b,c\\le n$，$1\\le x_i,y_i,z_i\\le n$，$x,y,z$ 数组内各自没有重复元素。", "locale": "zh-CN", "translations": {"en": {"title": "「ALFR Round 3」A Naughty Student", "background": "In the school where Little Shan studies, there is a group of very naughty students. For example, when rating the teaching quality of their teachers, they seldom follow the requirements.", "description": "The teaching quality competition is about to begin. Each student can rate one of the three major subject teachers (Chinese, math, and English) in their class. Each student should rate only one teacher. However, some students may rate multiple teachers or not rate any teacher at all. We call such students naughty students.\n\nGiven the rating situation of the teachers in the three subjects, please determine the number of naughty students in Little Shan's class.", "inputFormat": "The first line contains an integer $n$, indicating the total number of students in the class, with student IDs ranging from $1$ to $n$.\n\nThe second line contains an integer $a$, which indicates that $a$ students have rated to the Chinese teacher.\n\nThe third line contains $a$ integers, where the $i$-th integer $x_i$ indicates that the student with ID $x_i$ has rated to the Chinese teacher.\n\nThe fourth line contains an integer $b$, indicating that $b$ students have rated to the math teacher.\n\nThe fifth line contains $b$ integers, where the $i$-th integer $y_i$ indicates that the student with ID $y_i$ has rated to the math teacher.\n\nThe sixth line contains an integer $c$, indicating that $c$ students have rated to the English teacher.\n\nThe seventh line contains $c$ integers, where the $i$-th integer $z_i$ indicates that the student with ID $z_i$ has rated to the English teacher.", "outputFormat": "Output a single integer representing the number of naughty students in Little Shan's class.", "hint": "In the sample, students with IDs $1, 2, 3, 4, 5$ have respectively rated of $2, 2, 3, 0, 1$ to the teachers. Thus, students with IDs $1, 2, 3,4$ are all naughty students, so the answer is $4$.\n\n| Subtask | Score | Constraints |\n| :-----: | :---: | :---------: |\n| $0$ | $10$ | $n=1$ |\n| $1$ | $20$ | All elements in the arrays $x, y, z$ are distinct |\n| $2$ | $10$ | $a=b=c=1$ |\n| $3$ | $10$ | $a=n, b=c=1$ |\n| $4$ | $20$ | Arrays $x, y, z$ are provided in ascending order |\n| $5$ | $30$ | - |\n\nFor all the tests, $1 \\leq n \\leq 100$, $0 \\leq a, b, c \\leq n$, and $1 \\leq x_i, y_i, z_i \\leq n$. The arrays $x, y, z$ have no duplicate elements within themselves.", "locale": "en"}, "zh-CN": {"title": "「ALFR Round 3」A 调皮的学生", "background": "在小山所在的学校中，有着一群非常调皮的学生。比如，在给老师的教学水平评分时，他们常常会给出不正经的评分。", "description": "又到了一学期一度的评分大赛，每位同学都可以为本班某门科目的老师评分（一共有语、数、英三门科目）。每位同学应当只为一位老师评分。但有些学生常常会为多位老师评分，或者不为任何老师评分，我们称这样的学生为调皮的学生。现在给出小山所在班级的三门科目的老师的评分情况，请你求出该班级的调皮的学生的数量。", "inputFormat": "第一行一个整数 $n$，表示全班共有 $n$ 位学生，学生的学号为 $1\\sim n$。\n\n第二行一个整数 $a$，表示有 $a$ 位学生为语文老师评了分。\n\n第三行有 $a$ 个整数，第 $i$ 个整数 $x_i$ 表示学号为 $x_i$ 的学生为语文老师评了分。\n\n第四行一个整数 $b$，代表有 $b$ 位学生为数学老师评了分。\n\n第五行有 $b$ 个整数，第 $i$ 个整数 $y_i$ 表示学号为 $y_i$ 的学生为数学老师评了分。\n\n第六行一个整数 $c$，代表有 $c$ 位学生为英语老师评了分。\n\n第七行有 $c$ 个整数，第 $i$ 个整数 $z_i$ 表示学号为 $z_i$ 的学生为英语老师评了分。", "outputFormat": "一行一个整数代表小山所在班级的调皮的学生的数量。", "hint": "### 样例解释\n\n学号为 $1,2,3,4,5$ 的学生分别为 $2,2,3,0,1$ 位老师评了分，学号为 $1,2,3,4$ 的学生都是调皮的学生，所以答案为 $4$。\n\n### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $0$ | $10$ | $n=1$ |\n| $1$ | $20$ | $x,y,z$ 三个数组中的**所有**元素互不重复|\n| $2$ | $10$ | $a=b=c=1$|\n| $3$ | $10$ | $a=n,b=c=1$|\n| $4$ | $20$ | $x,y,z$ 数组分别按照升序顺序给出|\n| $5$ | $30$ | - |\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$，$0\\le a,b,c\\le n$，$1\\le x_i,y_i,z_i\\le n$，$x,y,z$ 数组内各自没有重复元素。", "locale": "zh-CN"}}}
{"pid": "P11446", "type": "P", "difficulty": 2, "samples": [["2\n5\n1 2 3 2 3\n3\n1000000000 1000000000 99999999", "2\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "O2优化", "洛谷月赛", "分类讨论"], "title": "「ALFR Round 3」B Swap & Delete", "background": "", "description": "给定一个长为 $n$ 的序列 $a_1, a_2,a_3, \\dots ,a_n$，你需要执行 $k$ 次操作使这个序列为空。\n\n每次操作可以执行下列内容之一：\n\n1. 选择两个数 $i, j$，交换 $a_i, a_j$（需要满足 $1 \\le i < j \\le n$）。\n2. 选择两个数 $i, j$，删除 $a_i,a_{i+1}, \\dots ,a_j$（需要满足 $1 \\le i \\le j \\le n$，且 $a_i = a_j$）。\n\n请输出最小的操作数 $k$。\n", "inputFormat": "第一行输入一个正整数 $T$（$1 \\le T \\le 5$），表示有 $T$ 个测试数据。\n\n对于每个测试数据：\n\n第一行输入一个正整数 $n$（$1 \\le n \\le 10^5$），表示序列长度为 $n$。\n\n第二行输入 $n$ 个正整数 $a_1,a_2 \\dots a_n$（$0 \\le a_i \\le 10^9$）。", "outputFormat": "对于每个测试数据输出一个正整数 $k$，表示最少的操作次数。", "hint": "### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n\\le 3$ |\n| $2$ | $20$ | $n\\le 10$ |\n| $3$ | $20$ | $a_i\\le 2$ |\n| $4$ | $10$ | 保证所有 $a_i$ 相等 |\n| $5$ | $40$ | - |\n\n对于 $100\\%$ 的数据，$1\\le T \\le 5$，$1\\le n\\le 10^5$，$0\\le a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "「ALFR Round 3」B Swap & Delete", "background": "", "description": "Given a sequence of length $n$, denoted as $a_1, a_2, a_3, \\dots, a_n$, you need to perform $k$ operations to make this sequence empty.\n\nEach operation can be one of the following:\n\n1. Select two indices $i, j$ and swap $a_i$ and $a_j$, satisfying $1 \\le i < j \\le n$.\n2. Select two indices $i, j$ and delete the elements $a_i, a_{i+1}, \\dots, a_j$, satisfying $1 \\le i \\le j \\le n$, and $a_i = a_j$.\n\nYou should output the minimum number of operations $k$ required.", "inputFormat": "The first line contains a positive integer $T$ ($1 \\le T \\le 5$), indicating the number of test cases.\n\nFor each test case:\n\nThe first line contains a positive integer $n$ ($1 \\le n \\le 10^5$), representing the length of the sequence.\n\nThe second line contains $n$ positive integers $a_1, a_2, \\ldots, a_n$ ($0 \\le a_i \\le 10^9$).", "outputFormat": "For each test case, output a single integer $k$, indicating the minimum number of operations.", "hint": "| Subtask | Score | Constraints |\n| :-----: | :---: | :----------: |\n| $1$ | $10$ | $n \\le 3$ |\n| $2$ | $20$ | $n \\le 10$ |\n| $3$ | $20$ | $a_i \\le 2$ |\n| $4$ | $10$ | All $a_i$ are guaranteed to be equal |\n| $5$ | $40$ | - |\n\nFor all the tests, $1 \\le T \\le 5$, $1 \\le n \\le 10^5$, $0 \\le a_i \\le 10^9$.", "locale": "en"}, "zh-CN": {"title": "「ALFR Round 3」B Swap & Delete", "background": "", "description": "给定一个长为 $n$ 的序列 $a_1, a_2,a_3, \\dots ,a_n$，你需要执行 $k$ 次操作使这个序列为空。\n\n每次操作可以执行下列内容之一：\n\n1. 选择两个数 $i, j$，交换 $a_i, a_j$（需要满足 $1 \\le i < j \\le n$）。\n2. 选择两个数 $i, j$，删除 $a_i,a_{i+1}, \\dots ,a_j$（需要满足 $1 \\le i \\le j \\le n$，且 $a_i = a_j$）。\n\n请输出最小的操作数 $k$。\n", "inputFormat": "第一行输入一个正整数 $T$（$1 \\le T \\le 5$），表示有 $T$ 个测试数据。\n\n对于每个测试数据：\n\n第一行输入一个正整数 $n$（$1 \\le n \\le 10^5$），表示序列长度为 $n$。\n\n第二行输入 $n$ 个正整数 $a_1,a_2 \\dots a_n$（$0 \\le a_i \\le 10^9$）。", "outputFormat": "对于每个测试数据输出一个正整数 $k$，表示最少的操作次数。", "hint": "### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n\\le 3$ |\n| $2$ | $20$ | $n\\le 10$ |\n| $3$ | $20$ | $a_i\\le 2$ |\n| $4$ | $10$ | 保证所有 $a_i$ 相等 |\n| $5$ | $40$ | - |\n\n对于 $100\\%$ 的数据，$1\\le T \\le 5$，$1\\le n\\le 10^5$，$0\\le a_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11447", "type": "P", "difficulty": 3, "samples": [["7 2\nskyaqua", "y"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["字符串", "贪心", "洛谷原创", "O2优化", "鸽笼原理", "洛谷月赛"], "title": "「ALFR Round 3」C 割", "background": "**upd:** 添加的 hack 在 Sub 7。", "description": "设 $f(S)$ 表示字符串 $S$ 字典序最大的子序列，给定 $k$，你需要将原字符串 $S$ 分割成 $k$ 段，设第 $i$ 段子串为 $a_i$，则该分割方案的权值为 $\\max f(a_i)$，其中 $1\\le i\\le k$。由于分割方案有很多种，你需要求出所有分割方案中**字典序最小的权值**。\n\n注：这里的权值实际上指的是字符串。\n\n关于子序列的定义：某个序列的子序列是从最初序列通过去除某些元素但不破坏余下元素的相对位置（在前或在后）而形成的新序列。\n\n关于字典序的定义：在字典序中，首先比较两个字符串的第一个字符，如果不同，则第一个字符较小的字符串更小；如果相同，则继续比较下一个字符，依此类推，直到比较完所有字符。如果一个字符串是另一个字符串的前缀，则较短的字符串更小。", "inputFormat": "输入共两行。\n\n第一行两个整数 $n,k$，$n$ 表示字符串 $S$ 的长度，$k$ 表示你需要将字符串分割为 $k$ 段。\n\n第二行为一个字符串，即 $S$。", "outputFormat": "输出一个字符串表示所有分割方案中字典序最小的权值。", "hint": "### 样例解释\n可以将字符串 $S$ 分割成 `sky`、`aqua` 这 $2$ 段，这 $2$ 段的 $f$ 分别为 `y`、`ua`，其中字典序最大的 $f$ 为 `y`，所以该分割方案的权值为 `y`。可以证明 `y` 是所有分割方案中字典序最小的权值。\n\n### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n\\le 10$ |\n| $2$ | $20$ | $n\\le 10^2$ |\n| $3$ | $20$ | $n\\le 3\\times 10^2$| \n| $4$ | $10$ | 保证字符串 $S$ 中所有字符都相等 |\n| $5$ | $10$ | $k=1$ |\n| $6$ | $30$ | - |\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 2\\times10^5$，且字符串 $S$ 中的字符均为小写英文字母。", "locale": "zh-CN", "translations": {"en": {"title": "「ALFR Round 3」C Division", "background": "", "description": "Let $f(S)$ denote the lexicographically largest subsequence of the string $S$. Given an integer $k$, you need to divide the original string $S$ into $k$ substrings, where the $i$-th substring is denoted as $a_i$. The weight of a partition scheme is defined as $\\max f(a_i)$ for $1 \\leq i \\leq k$. Since there are many partition schemes, you are required to find the **lexicographically smallest weight** among all possible partition schemes.\n\n**Note**: The term \"weight\" here refers to a string.\n\nDefinition of Subsequence: A subsequence of a sequence is formed by removing some elements from the original sequence without changing the relative positions of the remaining elements.\n\nDefinition of Lexicographical Order: In lexicographical order, two strings are compared starting from the first character. If the characters differ, the string with the smaller first character is smaller. If the characters are the same, the comparison continues with the next character, and so forth, until all characters are compared. If one string is a prefix of another, the shorter string is considered smaller.", "inputFormat": "The input consists of two lines.\n\nThe first line contains two integers $n$ and $k$, where $n$ is the length of the string $S$, and $k$ is the number of segments you need to divide the string into.\n\nThe second line contains a string $S$.", "outputFormat": "Output a string that represents the lexicographically smallest weight among all partition schemes.", "hint": "In the sample, you can divide the string $S$ into `sky` and `aqua` as the $2$ substrings. The functions $f$ for these strings are `y` and `ua`, respectively; thus, the maximum of $f$ values is `y`. It can be proven that `y` is the lexicographically smallest weight among all partition schemes.\n\n| Subtask | Score | Constraints |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n \\leq 10$ |\n| $2$ | $20$ | $n \\leq 10^2$ |\n| $3$ | $20$ | $n \\leq 3 \\times 10^2$ | \n| $4$ | $10$ | All characters in the string $S$ are guaranteed to be equal |\n| $5$ | $10$ | $k=1$ |\n| $6$ | $30$ | - |\n| $7$ | $0$ | Extra hack tests |\n\nFor all the tests, $1 \\leq k \\leq n \\leq 2 \\times 10^5$, and the characters in the string $S$ are all lowercase letters.", "locale": "en"}, "zh-CN": {"title": "「ALFR Round 3」C 割", "background": "**upd:** 添加的 hack 在 Sub 7。", "description": "设 $f(S)$ 表示字符串 $S$ 字典序最大的子序列，给定 $k$，你需要将原字符串 $S$ 分割成 $k$ 段，设第 $i$ 段子串为 $a_i$，则该分割方案的权值为 $\\max f(a_i)$，其中 $1\\le i\\le k$。由于分割方案有很多种，你需要求出所有分割方案中**字典序最小的权值**。\n\n注：这里的权值实际上指的是字符串。\n\n关于子序列的定义：某个序列的子序列是从最初序列通过去除某些元素但不破坏余下元素的相对位置（在前或在后）而形成的新序列。\n\n关于字典序的定义：在字典序中，首先比较两个字符串的第一个字符，如果不同，则第一个字符较小的字符串更小；如果相同，则继续比较下一个字符，依此类推，直到比较完所有字符。如果一个字符串是另一个字符串的前缀，则较短的字符串更小。", "inputFormat": "输入共两行。\n\n第一行两个整数 $n,k$，$n$ 表示字符串 $S$ 的长度，$k$ 表示你需要将字符串分割为 $k$ 段。\n\n第二行为一个字符串，即 $S$。", "outputFormat": "输出一个字符串表示所有分割方案中字典序最小的权值。", "hint": "### 样例解释\n可以将字符串 $S$ 分割成 `sky`、`aqua` 这 $2$ 段，这 $2$ 段的 $f$ 分别为 `y`、`ua`，其中字典序最大的 $f$ 为 `y`，所以该分割方案的权值为 `y`。可以证明 `y` 是所有分割方案中字典序最小的权值。\n\n### 数据范围\n\n| 子任务 | 分值 | 限制 |\n| :----------: | :----------: | :----------: |\n| $1$ | $10$ | $n\\le 10$ |\n| $2$ | $20$ | $n\\le 10^2$ |\n| $3$ | $20$ | $n\\le 3\\times 10^2$| \n| $4$ | $10$ | 保证字符串 $S$ 中所有字符都相等 |\n| $5$ | $10$ | $k=1$ |\n| $6$ | $30$ | - |\n\n对于 $100\\%$ 的数据，$1\\le k\\le n\\le 2\\times10^5$，且字符串 $S$ 中的字符均为小写英文字母。", "locale": "zh-CN"}}}
