{"pid": "P2640", "type": "P", "difficulty": 2, "samples": [["6924 809", "2 811\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "数学"], "title": "神秘磁石", "background": "在遥远的阿拉德大陆，有一种神秘的磁石，是由魔皇制作出来的，\n", "description": "1. 若给他一个一维坐标系，那么他的磁力一定要在素数坐标的位置上才能发挥的最大（不管位置坐标的大小，只要是素数那么磁力就一样大）。\n2. 若两个磁石相距为 $k$，那么磁石间的破坏力将会达到当前磁力的峰值\n\n显然，两磁石间最大破坏力取决于磁力大小和磁石间距，那么请问给出长度不超过 $n$ 的一维坐标系，有哪几对坐标间磁石破坏力最大。\n", "inputFormat": "两个正整数 $n,k$。\n", "outputFormat": "所有小于等于 $n$ 的素数对。每对素数对输出一行，中间用单个空格隔开。若没有找到任何素数对，输出 `empty`。\n", "hint": "对于 $100\\%$ 的数据，$1\\leq k\\leq n\\leq 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Mysterious Magnet", "background": "On the distant continent of Arad, there exists a mysterious magnet crafted by the Demon Emperor.", "description": "1. In a one-dimensional coordinate system, its magnetic force reaches its maximum only at positions whose coordinates are prime numbers (regardless of the coordinate’s magnitude, as long as the coordinate is prime, the magnetic force is equally strong).\n2. If two magnets are at distance $k$, their destructive power reaches the peak of the current magnetic force.\n\nClearly, the maximum destructive power between two magnets depends on the magnetic force and the distance between the magnets. Given a one-dimensional coordinate line of length at most $n$, find all pairs of coordinates whose magnets achieve the maximum destructive power, i.e., all pairs of primes at distance $k$ within $[1, n]$.", "inputFormat": "Two positive integers $n, k$.", "outputFormat": "Output all pairs of primes $(p, q)$ such that $q - p = k$ and $q \\leq n$ (equivalently, all pairs $(p, p + k)$ with $p \\geq 2$ and $p + k \\leq n$). Output one pair per line, with a single space between the two numbers. If no prime pair is found, output `empty`.", "hint": "For $100\\%$ of the testdata, $1 \\leq k \\leq n \\leq 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "神秘磁石", "background": "在遥远的阿拉德大陆，有一种神秘的磁石，是由魔皇制作出来的，\n", "description": "1. 若给他一个一维坐标系，那么他的磁力一定要在素数坐标的位置上才能发挥的最大（不管位置坐标的大小，只要是素数那么磁力就一样大）。\n2. 若两个磁石相距为 $k$，那么磁石间的破坏力将会达到当前磁力的峰值\n\n显然，两磁石间最大破坏力取决于磁力大小和磁石间距，那么请问给出长度不超过 $n$ 的一维坐标系，有哪几对坐标间磁石破坏力最大。\n", "inputFormat": "两个正整数 $n,k$。\n", "outputFormat": "所有小于等于 $n$ 的素数对。每对素数对输出一行，中间用单个空格隔开。若没有找到任何素数对，输出 `empty`。\n", "hint": "对于 $100\\%$ 的数据，$1\\leq k\\leq n\\leq 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2642", "type": "P", "difficulty": 3, "samples": [["5\n83 223 -13 1331 -935", "1637"], ["3\n83 223 -13", "70"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "最大双子段和", "background": null, "description": "给定一个长度为 $n$ 的整数序列，要求从中选出两个子段（序列中连续且非空的一段），使得这两个子段中的整数的总和最大，并输出所求的两个子段中的整数的总和。每个子段的最小长度为 $1$，并且两个子段之间至少间隔一个数。", "inputFormat": "第一行是一个整数，表示 $n$。\n\n第二行是 $n$ 个整数，表示整数序列。", "outputFormat": "一个整数，表示所求的两个子段中的整数的总和。", "hint": "对于 $30\\%$ 的数据，有 $N\\le 100$。\n\n对于 $60\\%$ 的数据，有 $N\\le 10^4$。\n\n对于 $100\\%$ 的数据，有 $N\\le 10^6$。\n\n数据保证运算过程中的所有数值均在 64 位有符号整型的表示范围内。", "locale": "zh-CN", "translations": {"en": {"title": "Maximum Sum of Two Non-Adjacent Subarrays", "background": "", "description": "Given an integer sequence of length $n$, select two subarrays (contiguous, non-empty segments of the sequence) such that the total sum of the integers in these two subarrays is maximized, and output that total sum. Each subarray must have a minimum length of $1$, and the two subarrays must be separated by at least one element.", "inputFormat": "The first line contains an integer representing $n$.\nThe second line contains $n$ integers representing the sequence.", "outputFormat": "Output a single integer, the maximum total sum of the integers in the two selected subarrays.", "hint": "Constraints:\n- For $30\\%$ of the testdata, $n \\le 100$.\n- For $60\\%$ of the testdata, $n \\le 10^4$.\n- For $100\\%$ of the testdata, $n \\le 10^6$.\n- All values during the computation are guaranteed to fit within the range of a signed $64$-bit integer.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最大双子段和", "background": null, "description": "给定一个长度为 $n$ 的整数序列，要求从中选出两个子段（序列中连续且非空的一段），使得这两个子段中的整数的总和最大，并输出所求的两个子段中的整数的总和。每个子段的最小长度为 $1$，并且两个子段之间至少间隔一个数。", "inputFormat": "第一行是一个整数，表示 $n$。\n\n第二行是 $n$ 个整数，表示整数序列。", "outputFormat": "一个整数，表示所求的两个子段中的整数的总和。", "hint": "对于 $30\\%$ 的数据，有 $N\\le 100$。\n\n对于 $60\\%$ 的数据，有 $N\\le 10^4$。\n\n对于 $100\\%$ 的数据，有 $N\\le 10^6$。\n\n数据保证运算过程中的所有数值均在 64 位有符号整型的表示范围内。", "locale": "zh-CN"}}}
{"pid": "P2643", "type": "P", "difficulty": 5, "samples": [["C16H18O9+O2=CO2+H2O", "C16H18O9+16O2=16CO2+9H2O"], ["Cu(NO3)2+Fe=Fe(NO3)2+Cu", "Cu(NO3)2+Fe=Fe(NO3)2+Cu"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "矩阵运算", "洛谷原创"], "title": "机房中出了一只大触！", "background": "机房中出了一只大触Kurunie！作为一只大触，它当然喜欢刷题。然而NOIp复赛临近，大触要抽出更多的时间来刷OI题，所以它就把一些简单的题目丢给你啦。\n", "description": "显然，任何题目对于K触来说都是水题，倒是K触怕你不会写，于是给了你最最简单的化学卷子。\n\n原来K触正在准备化学方程式配平大赛，所以卷子全都是配平练习题。\n\nK触给你举了个简单的例子，比如下列物质在氧气中燃烧的化学方程式，要求配平：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1755.png) \n\nK触当然知道这是绿原酸(C16H18O9)（O和0要分清楚哦），它在氧气中燃烧的方程式是：\n\nC16H18O9+O2=CO2+H2O\n\n什么？你说配平？这种简单的事情当然就交给你啦。\n", "inputFormat": "一行一个字符串表示待配平的化学方程式。由一个等号隔开反应物和生成物，物质间用加号分隔。输\n\n\n入的数字均在元素后面，作为下标。\n", "outputFormat": "一行一个字符串表示配平后的化学方程式。不需要加沉淀或气体符号，\n", "hint": "保证输入字符串长度小于等于50，字符串只包含大小写英文字母、数字、小括号、加号、等号。\n\n涉及到的物质均不包含带结晶水。\n\n涉及到的元素最多只有两个字母。\n\n小括号中不会嵌套小括号。\n\n配平后每种物质系数、原字符串中的所有下标均在32位带符号整数范围内。\n", "locale": "zh-CN", "translations": {"en": {"title": "A Big Shot Appeared in the Computer Room!", "background": "A big shot named Kurunie appeared in the computer room! As a big shot, of course they like solving problems. However, with the NOIp second round approaching, the big shot needs to spend more time on OI problems, so they are giving you some simple ones.", "description": "Obviously, any problem is easy for K-chu, but K-chu is worried you might not be able to write it, so they gave you the simplest chemistry worksheet.\n\nIt turns out K-chu is preparing for a chemical equation balancing contest, so the worksheet is full of balancing exercises.\n\nK-chu gave you a simple example. For instance, balance the chemical equation for burning the following substance in oxygen:\n\n![](https://cdn.luogu.com.cn/upload/pic/1755.png)\n\nOf course K-chu knows this is chlorogenic acid (C16H18O9) (be careful to distinguish O and 0). Its combustion equation is:\n\nC16H18O9+O2=CO2+H2O\n\nWhat? You said “balance it”? Such a simple task is naturally left to you.", "inputFormat": "A single line string representing the chemical equation to be balanced. An equals sign separates reactants and products, and substances are separated by plus signs. Digits in the input appear after elements as subscripts.", "outputFormat": "A single line string representing the balanced chemical equation. Do not add precipitate or gas symbols.", "hint": "- The input string length is at most 50, and it contains only uppercase and lowercase English letters, digits, parentheses, plus signs, and an equals sign.\n- The substances involved do not include waters of crystallization.\n- Element symbols have at most two letters.\n- Parentheses are not nested inside parentheses.\n- After balancing, each substance’s coefficient and all subscripts in the original string fit within the 32-bit signed integer range.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "机房中出了一只大触！", "background": "机房中出了一只大触Kurunie！作为一只大触，它当然喜欢刷题。然而NOIp复赛临近，大触要抽出更多的时间来刷OI题，所以它就把一些简单的题目丢给你啦。\n", "description": "显然，任何题目对于K触来说都是水题，倒是K触怕你不会写，于是给了你最最简单的化学卷子。\n\n原来K触正在准备化学方程式配平大赛，所以卷子全都是配平练习题。\n\nK触给你举了个简单的例子，比如下列物质在氧气中燃烧的化学方程式，要求配平：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1755.png) \n\nK触当然知道这是绿原酸(C16H18O9)（O和0要分清楚哦），它在氧气中燃烧的方程式是：\n\nC16H18O9+O2=CO2+H2O\n\n什么？你说配平？这种简单的事情当然就交给你啦。\n", "inputFormat": "一行一个字符串表示待配平的化学方程式。由一个等号隔开反应物和生成物，物质间用加号分隔。输\n\n\n入的数字均在元素后面，作为下标。\n", "outputFormat": "一行一个字符串表示配平后的化学方程式。不需要加沉淀或气体符号，\n", "hint": "保证输入字符串长度小于等于50，字符串只包含大小写英文字母、数字、小括号、加号、等号。\n\n涉及到的物质均不包含带结晶水。\n\n涉及到的元素最多只有两个字母。\n\n小括号中不会嵌套小括号。\n\n配平后每种物质系数、原字符串中的所有下标均在32位带符号整数范围内。\n", "locale": "zh-CN"}}}
{"pid": "P2644", "type": "P", "difficulty": 6, "samples": [["4 5 6\n0 0 0 1 0 0\n2 0 0 2 0 0\n0 0 5 0 0 0\n3 0 0 0 4 0\n0 0 2 0 0 0", "2 2\n1 1"], ["3 3 2\n3 5\n4 2\n0 1", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "白金莲花池", "background": "为了让奶牛们娱乐和锻炼，农夫约翰建造了一个美丽的池塘。这个长方形的池子被分成了 $M$ 行 $N$ 列个方格（$1≤M,N≤30$）。一些格子是坚固得令人惊讶的莲花，还有一些格子是岩石，其余的只是美丽、纯净、湛蓝还可能掩藏着宝藏的水。\n\n贝西正在练习芭蕾舞，她站在一朵莲花上，想跳到另一朵莲花上去，她只能从一朵莲花跳到另一朵莲花上，既不能跳到水里，也不能跳到岩石上。\n\n贝西的舞步很像象棋中的马步：每次总是先横向移动一格，再纵向移动两格，或先纵向移动两格，再横向移动一格。最多时，贝西会有八个移动方向可供选择。\n\n约翰一直在观看贝西的芭蕾练习，发现她有时候不能跳到终点，因为中间缺了一些荷叶。于是他想要添加几朵莲花来帮助贝西完成任务，当然莲花不能种在岩石上。\n", "description": "但是！约翰在种植莲花的时候发现了一件很有趣的事，有些格子是不能直接种植莲花的，原因是……实不相瞒，无法直接种植莲花的格子的泥土中大部分都是货真价实的铂金，正是它们妨碍了莲花的正常生长！而恰好约翰刚刚学到了铂金的开采方法，也有相关的开采工具，而且他还发现开采铂金后的格子就可以正常地种植莲花，不必担心泥土缺失的问题。（由于贝西迫切地想练习，所以约翰不会开采不打算种莲花的铂金格子）\n\n开采铂金很累，就像是种植莲花一样累，它们都会消耗掉约翰 $1$ 点体力（也就是说想把铂金格子变成莲花格子需要 $2$ 点体力），约翰最初有 $P$ 点体力来种植莲花或开采铂金。\n\n请帮助约翰计算至少需要消耗多少体力才能帮助贝西完成任务，这个数字记作 $S$，以及有多少种消耗这些体力的方法能帮助贝西完成任务，这个数字记作 $W_S$；铂金当然是越多越好，请计算在消耗 $S$ 点体力帮助贝西完成任务的同时最多能开采多少铂金，这个数字记作 $G$，以及消耗 $S$ 点体力开采 $G$ 块铂金帮助贝西完成任务的方法数，这个数字记作 $W_G$。\n\n若在 $P$ 点体力内无法帮助到贝西，那么只输出 `-1`。\n\n若在 $S$ 点体力内无法开采铂金，那么第二行只输出 `-1`。", "inputFormat": "第一行：三个用空格分开的整数：$P$，$M$ 和 $N$\n\n第二行到 $M+1$ 行：第 $i+1$ 行有 $N$ 个用空格分开的整数，描述了池塘第 $i$ 行的状态：\n\n$0$ 为水，$1$ 为莲花，$2$ 为岩石，$3$ 为贝西所在的起点，$4$ 为贝西想去的终点，$5$ 为铂金的埋藏地。", "outputFormat": "\n第一行：用空格分隔开 $S$ 和 $W_S$（两个整数，需要最少消耗的体力及方案数；如果无法帮助，输出 `-1`。）\n\n第二行：用空格分隔开 $G$ 和 $W_G$（两个整数，在消耗最少的前提下开采最多的铂金数及方案数，若在 $S$ 点体力内无法开采铂金，第二行输出 `-1`。）\n\n如果第一行是 `-1`，不要输出第二行。\n\n保证输出的数字不会超过 `long long`。", "hint": "约翰可以用开采到的铂金小赚一笔，但如果用多余的体力开采铂金而不往上种莲花的话贝西会很生气！\n", "locale": "zh-CN", "translations": {"en": {"title": "Platinum Lotus Pond", "background": "To entertain and exercise the cows, Farmer John built a beautiful pond. This rectangular pond is divided into $M$ rows and $N$ columns of cells ($1 \\le M, N \\le 30$). Some cells contain surprisingly sturdy lotus, some are rocks, and the rest are beautiful, pure, deep-blue water that might even hide treasure.\n\nBessie is practicing ballet. She stands on a lotus and wants to jump to another lotus. She can only jump from one lotus to another; she cannot land on water or rocks.\n\nBessie’s steps are like a knight in chess: each time she either moves one cell horizontally and then two cells vertically, or two cells vertically and then one cell horizontally. At most, Bessie has eight possible move directions.\n\nJohn has been watching Bessie’s ballet practice and noticed that sometimes she cannot reach the destination because some lotus leaves are missing. So he wants to add some lotus to help Bessie complete the task, and of course, lotus cannot be planted on rocks.", "description": "However! When planting lotus, John discovered something interesting: some cells cannot have lotus planted directly. The reason is… to be honest, the soil in those cells contains a lot of genuine platinum, which hinders lotus growth! Coincidentally, John has just learned how to mine platinum and has the tools for it, and he also found that after mining the platinum, the cell can be planted with lotus normally, without worrying about missing soil. (Because Bessie is eager to practice, John will not mine a platinum cell unless he also intends to plant a lotus there.)\n\nMining platinum is tiring, just like planting lotus. Each action consumes $1$ point of stamina (that is, turning a platinum cell into a lotus cell requires $2$ points of stamina). John initially has $P$ points of stamina to plant lotus or mine platinum.\n\nPlease help John compute the least stamina needed to help Bessie complete the task, denoted by $S$, and the number of ways to spend exactly that stamina to help Bessie, denoted by $W_S$. Since more platinum is better, also compute, among all solutions that spend $S$ stamina and help Bessie, the maximum amount of platinum that can be mined, denoted by $G$, and the number of ways to help Bessie while spending $S$ stamina and mining exactly $G$ pieces of platinum, denoted by $W_G$.\n\nIf it is impossible to help Bessie within $P$ points of stamina, output only `-1`.\n\nIf it is impossible to mine any platinum within $S$ points of stamina, then output only `-1` on the second line.", "inputFormat": "The first line: three integers separated by spaces: $P$, $M$, and $N$.\n\nLines $2$ to $M+1$: the $(i+1)$-th line contains $N$ integers separated by spaces, describing the state of row $i$ of the pond:\n\n$0$ means water, $1$ means lotus, $2$ means rock, $3$ means Bessie’s starting cell, $4$ means Bessie’s destination, and $5$ means a platinum deposit.", "outputFormat": "The first line: two integers separated by a space, $S$ and $W_S$ (the minimum stamina required and the number of methods to achieve it; if it is impossible to help Bessie within $P$ stamina, output `-1`).\n\nThe second line: two integers separated by a space, $G$ and $W_G$ (the maximum amount of platinum mined under the minimum-stamina condition and the number of methods to achieve it; if no platinum can be mined within $S$ stamina, output `-1` on the second line).\n\nIf the first line is `-1`, do not output the second line.\n\nAll output numbers are guaranteed not to exceed `long long`.", "hint": "John might make a small profit by mining the platinum, but if he uses extra stamina to mine platinum without planting lotus on those cells, Bessie will be very angry!\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "白金莲花池", "background": "为了让奶牛们娱乐和锻炼，农夫约翰建造了一个美丽的池塘。这个长方形的池子被分成了 $M$ 行 $N$ 列个方格（$1≤M,N≤30$）。一些格子是坚固得令人惊讶的莲花，还有一些格子是岩石，其余的只是美丽、纯净、湛蓝还可能掩藏着宝藏的水。\n\n贝西正在练习芭蕾舞，她站在一朵莲花上，想跳到另一朵莲花上去，她只能从一朵莲花跳到另一朵莲花上，既不能跳到水里，也不能跳到岩石上。\n\n贝西的舞步很像象棋中的马步：每次总是先横向移动一格，再纵向移动两格，或先纵向移动两格，再横向移动一格。最多时，贝西会有八个移动方向可供选择。\n\n约翰一直在观看贝西的芭蕾练习，发现她有时候不能跳到终点，因为中间缺了一些荷叶。于是他想要添加几朵莲花来帮助贝西完成任务，当然莲花不能种在岩石上。\n", "description": "但是！约翰在种植莲花的时候发现了一件很有趣的事，有些格子是不能直接种植莲花的，原因是……实不相瞒，无法直接种植莲花的格子的泥土中大部分都是货真价实的铂金，正是它们妨碍了莲花的正常生长！而恰好约翰刚刚学到了铂金的开采方法，也有相关的开采工具，而且他还发现开采铂金后的格子就可以正常地种植莲花，不必担心泥土缺失的问题。（由于贝西迫切地想练习，所以约翰不会开采不打算种莲花的铂金格子）\n\n开采铂金很累，就像是种植莲花一样累，它们都会消耗掉约翰 $1$ 点体力（也就是说想把铂金格子变成莲花格子需要 $2$ 点体力），约翰最初有 $P$ 点体力来种植莲花或开采铂金。\n\n请帮助约翰计算至少需要消耗多少体力才能帮助贝西完成任务，这个数字记作 $S$，以及有多少种消耗这些体力的方法能帮助贝西完成任务，这个数字记作 $W_S$；铂金当然是越多越好，请计算在消耗 $S$ 点体力帮助贝西完成任务的同时最多能开采多少铂金，这个数字记作 $G$，以及消耗 $S$ 点体力开采 $G$ 块铂金帮助贝西完成任务的方法数，这个数字记作 $W_G$。\n\n若在 $P$ 点体力内无法帮助到贝西，那么只输出 `-1`。\n\n若在 $S$ 点体力内无法开采铂金，那么第二行只输出 `-1`。", "inputFormat": "第一行：三个用空格分开的整数：$P$，$M$ 和 $N$\n\n第二行到 $M+1$ 行：第 $i+1$ 行有 $N$ 个用空格分开的整数，描述了池塘第 $i$ 行的状态：\n\n$0$ 为水，$1$ 为莲花，$2$ 为岩石，$3$ 为贝西所在的起点，$4$ 为贝西想去的终点，$5$ 为铂金的埋藏地。", "outputFormat": "\n第一行：用空格分隔开 $S$ 和 $W_S$（两个整数，需要最少消耗的体力及方案数；如果无法帮助，输出 `-1`。）\n\n第二行：用空格分隔开 $G$ 和 $W_G$（两个整数，在消耗最少的前提下开采最多的铂金数及方案数，若在 $S$ 点体力内无法开采铂金，第二行输出 `-1`。）\n\n如果第一行是 `-1`，不要输出第二行。\n\n保证输出的数字不会超过 `long long`。", "hint": "约翰可以用开采到的铂金小赚一笔，但如果用多余的体力开采铂金而不往上种莲花的话贝西会很生气！\n", "locale": "zh-CN"}}}
{"pid": "P2645", "type": "P", "difficulty": 2, "samples": [["4 3\n1 7 1 6\n1 7 1", "15 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "斯诺克", "background": "镇海中学开设了很多校本选修课程，有体育类、音乐类、美术类、无线电测向、航空航海航天模型制作等，力争使每位学生高中毕业后，能学到一门拿得出手的兴趣爱好，为将来的终身发展打下基础。在体育类的校本选修课程中，有一门课程是斯诺克台球。\n\n斯诺克台球比赛中有 $21$ 个球，其中有 $15$ 个红球，$6$ 个彩球（分别是黄、绿、棕、蓝、粉、黑）。甲乙二人轮流打球。红、黄、绿、棕、蓝、粉、黑的球的得分分别是 $1$、$2$、$3$、$4$、$5$、$6$、$7$ 分。最后以得分高者为胜。\n\n简化后的打球规则如下：\n\n1. 如果有红球，第奇数次必须打红球，打过的红球从桌面上拿走。\n\n2. 每打一个红球后，可以任意选一个彩球打，打红球后接着打的彩球不从桌面上拿走。\n\n3. 如果桌面上已经没有红球可打了，那么按照分值从小到大的次序打彩球，这时候每打一个彩球都从桌面上拿走。\n\n\n打球时犯规的判罚如下：\n\n1. 没有打中球，给对方加 $4$ 分。\n\n2. 没有按照打球规则打该打的球，即打中了错误的球时，如果这个错误的球的分值大于 $4$ ，那么给对方加分等于这个球的分值，如果这个错误的球的分值不大于 $4$，那么给对方加 $4$ 分。\n\n打中的错误球不从桌面上拿走。", "description": "小 Ar 和小 Be 记不住斯诺克那么多的规则，所以他们自己发明了一种简单的规则。\n\n本题中的打球规则如下：\n\n* 球的分值和斯诺克一样是 $1\\sim 7$。\n* 小 Ar 会打 $n$ 轮球，小 Be 会打 $m$ 轮球。打中了某个球则自己的分数加上这个球的分值，如果这一轮没打中球则对方加 $4$ 分。被打中的球**不会**被从桌子上拿走。\n\n请统计某局比赛进行到现在为止的比分。", "inputFormat": "输入有两行，第一行有二个整数 $n$ 和 $m$，表示小 Ar 打了 $n$ 个球，小 Be 打了 $m$ 个球。$n$ 和 $m$ 之间以一个空格分隔。**不保证** $n-1 \\le m \\le n$。\n\n第二行，有 $n$ 个以空格分隔的整数，表示小 Ar 的 $n$ 次连续打球情况。\n\n第三行，有 $m$ 个以空格分隔的整数，表示小 Be 的 $m$ 次连续打球情况。\n\n第二行和第三行中：$1$ 至 $7$ 的整数表示打了相应分值的球，$0$ 表示没有打中球。", "outputFormat": "输出仅有一行两个整数，分别表示小 Ar、小 Be 的得分。", "hint": "### 样例解释\n\n小 Ar 依次打了红球、黑球、红球、粉球，小 Ar 得 $15$ 分（$1+7+1+6=15$）。\n\n小 Be 依次打了红球、黑球、红球，小 Be 得 $9$ 分（$1+7+1=9$）。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$0\\le n,m\\le 100,\\ 0\\le a_i,b_i\\le 7$。", "locale": "zh-CN", "translations": {"en": {"title": "Snooker", "background": "Zhenhai High School offers many school-based elective courses, including sports, music, fine arts, radio direction finding, and aviation, nautical, and aerospace model making, striving to ensure that every student can master a presentable hobby by the time they graduate from high school, laying the foundation for lifelong development. Among the sports electives, there is a course on snooker.\n\nIn a snooker match there are $21$ balls, including $15$ red balls and $6$ colored balls (yellow, green, brown, blue, pink, black). Two players take turns. The scores for red, yellow, green, brown, blue, pink, and black balls are $1$, $2$, $3$, $4$, $5$, $6$, and $7$ points, respectively. The player with the higher score at the end wins.\n\nThe simplified playing rules are as follows:\n1. If there are red balls on the table, on odd-numbered turns you must play a red ball; potted red balls are removed from the table.\n2. After potting a red ball, you may choose any colored ball to play; the colored ball potted immediately after a red ball is not removed from the table.\n3. If there are no red balls left on the table, then the colored balls are played in ascending order of their values; at this time, each potted colored ball is removed from the table.\n\nPenalties for fouls are as follows:\n1. If you fail to hit a legal ball, add $4$ points to the opponent’s score.\n2. If you hit a ball other than the required legal ball, then if the wrong ball’s value is greater than $4$, add points equal to that ball’s value to the opponent’s score; otherwise, add $4$ points.\n\nA wrongly potted ball is not removed from the table.", "description": "Xiao Ar and Xiao Be cannot remember so many snooker rules, so they invented a simpler set of rules.\n\nIn this problem, the playing rules are as follows:\n- Ball values are the same as in snooker, i.e., $1\\sim 7$.\n- Xiao Ar will play $n$ turns, and Xiao Be will play $m$ turns. If a ball is potted, the player’s score increases by the ball’s value; if a turn results in a miss, the opponent gains $4$ points. Potted balls are not removed from the table.\n\nCompute the score of the ongoing match up to now.", "inputFormat": "The input has three lines. The first line contains two integers $n$ and $m$, indicating that Xiao Ar played $n$ shots and Xiao Be played $m$ shots. There is a single space between $n$ and $m$. It is not guaranteed that $n-1 \\le m \\le n$.\n\nThe second line contains $n$ space-separated integers, representing Xiao Ar’s $n$ consecutive shots.\n\nThe third line contains $m$ space-separated integers, representing Xiao Be’s $m$ consecutive shots.\n\nIn the second and third lines: integers from $1$ to $7$ indicate the value of the ball potted, and $0$ indicates a miss.", "outputFormat": "Output a single line with two integers, representing the scores of Xiao Ar and Xiao Be, respectively.", "hint": "Sample Explanation:\n- Xiao Ar potted, in order, a red, black, red, and pink ball, scoring $15$ points ($1+7+1+6=15$).\n- Xiao Be potted, in order, a red, black, and red ball, scoring $9$ points ($1+7+1=9$).\n\nConstraints:\nFor $100\\%$ of the testdata, $0\\le n,m\\le 100,\\ 0\\le a_i,b_i\\le 7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "斯诺克", "background": "镇海中学开设了很多校本选修课程，有体育类、音乐类、美术类、无线电测向、航空航海航天模型制作等，力争使每位学生高中毕业后，能学到一门拿得出手的兴趣爱好，为将来的终身发展打下基础。在体育类的校本选修课程中，有一门课程是斯诺克台球。\n\n斯诺克台球比赛中有 $21$ 个球，其中有 $15$ 个红球，$6$ 个彩球（分别是黄、绿、棕、蓝、粉、黑）。甲乙二人轮流打球。红、黄、绿、棕、蓝、粉、黑的球的得分分别是 $1$、$2$、$3$、$4$、$5$、$6$、$7$ 分。最后以得分高者为胜。\n\n简化后的打球规则如下：\n\n1. 如果有红球，第奇数次必须打红球，打过的红球从桌面上拿走。\n\n2. 每打一个红球后，可以任意选一个彩球打，打红球后接着打的彩球不从桌面上拿走。\n\n3. 如果桌面上已经没有红球可打了，那么按照分值从小到大的次序打彩球，这时候每打一个彩球都从桌面上拿走。\n\n\n打球时犯规的判罚如下：\n\n1. 没有打中球，给对方加 $4$ 分。\n\n2. 没有按照打球规则打该打的球，即打中了错误的球时，如果这个错误的球的分值大于 $4$ ，那么给对方加分等于这个球的分值，如果这个错误的球的分值不大于 $4$，那么给对方加 $4$ 分。\n\n打中的错误球不从桌面上拿走。", "description": "小 Ar 和小 Be 记不住斯诺克那么多的规则，所以他们自己发明了一种简单的规则。\n\n本题中的打球规则如下：\n\n* 球的分值和斯诺克一样是 $1\\sim 7$。\n* 小 Ar 会打 $n$ 轮球，小 Be 会打 $m$ 轮球。打中了某个球则自己的分数加上这个球的分值，如果这一轮没打中球则对方加 $4$ 分。被打中的球**不会**被从桌子上拿走。\n\n请统计某局比赛进行到现在为止的比分。", "inputFormat": "输入有两行，第一行有二个整数 $n$ 和 $m$，表示小 Ar 打了 $n$ 个球，小 Be 打了 $m$ 个球。$n$ 和 $m$ 之间以一个空格分隔。**不保证** $n-1 \\le m \\le n$。\n\n第二行，有 $n$ 个以空格分隔的整数，表示小 Ar 的 $n$ 次连续打球情况。\n\n第三行，有 $m$ 个以空格分隔的整数，表示小 Be 的 $m$ 次连续打球情况。\n\n第二行和第三行中：$1$ 至 $7$ 的整数表示打了相应分值的球，$0$ 表示没有打中球。", "outputFormat": "输出仅有一行两个整数，分别表示小 Ar、小 Be 的得分。", "hint": "### 样例解释\n\n小 Ar 依次打了红球、黑球、红球、粉球，小 Ar 得 $15$ 分（$1+7+1+6=15$）。\n\n小 Be 依次打了红球、黑球、红球，小 Be 得 $9$ 分（$1+7+1=9$）。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$0\\le n,m\\le 100,\\ 0\\le a_i,b_i\\le 7$。", "locale": "zh-CN"}}}
{"pid": "P2646", "type": "P", "difficulty": 2, "samples": [["zlzhy", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["洛谷原创", "洛谷比赛"], "title": "数数zzy", "background": "", "description": "zzy 自从数学考试连续跪掉之后，上数学课就从来不认真听了（事实上他以前也不认真听）。于是他开始在草稿纸上写写画画，比如写一串奇怪的字符串。然后他决定理♂性♂愉♂悦♂一下：统计这串字符串当中共有多少个为 `zzy` 的子序列，**注意是子序列而非子串**。但是由于他写的字符串实在是太长啦，而且他是个超级大蒟蒻，根本就数不过来。所以他决定请求你这个超级大神犇的帮助。你可以帮帮他吗？", "inputFormat": "一行仅含小写字母的字符串 $s$。", "outputFormat": "一行，一个非负整数，表示输入的字符串中为 `zzy` 的子序列的个数。", "hint": "#### 数据规模与约定\n\n约定 $|s|$ 表示字符串 $s$ 的长度。\n\n- 对于 $70\\%$ 的数据，保证 $|s| \\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1 \\le |s| \\le 10^6$，答案不超过 $2^{63}-1$。", "locale": "zh-CN", "translations": {"en": {"title": "Counting zzy", "background": "", "description": "After failing math exams consecutively, zzy stopped paying attention in math class (in fact, he never really did). He starts doodling on scratch paper, for example writing a strange string. Then he decides to have some fun rationally: count how many subsequences equal to `zzy` appear in this string. Note that it is subsequences rather than substrings. But the string is so long that he cannot possibly count them. So he asks you for help. Can you help him?", "inputFormat": "One line containing a string $s$ consisting of lowercase letters.", "outputFormat": "One line with a non-negative integer: the number of subsequences equal to `zzy` in the input string.", "hint": "Constraints\n\nLet $|s|$ denote the length of string $s$.\n\n- For $70\\%$ of the testdata, it is guaranteed that $|s| \\le 100$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le |s| \\le 10^6$, and the answer does not exceed $2^{63} - 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数数zzy", "background": "", "description": "zzy 自从数学考试连续跪掉之后，上数学课就从来不认真听了（事实上他以前也不认真听）。于是他开始在草稿纸上写写画画，比如写一串奇怪的字符串。然后他决定理♂性♂愉♂悦♂一下：统计这串字符串当中共有多少个为 `zzy` 的子序列，**注意是子序列而非子串**。但是由于他写的字符串实在是太长啦，而且他是个超级大蒟蒻，根本就数不过来。所以他决定请求你这个超级大神犇的帮助。你可以帮帮他吗？", "inputFormat": "一行仅含小写字母的字符串 $s$。", "outputFormat": "一行，一个非负整数，表示输入的字符串中为 `zzy` 的子序列的个数。", "hint": "#### 数据规模与约定\n\n约定 $|s|$ 表示字符串 $s$ 的长度。\n\n- 对于 $70\\%$ 的数据，保证 $|s| \\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1 \\le |s| \\le 10^6$，答案不超过 $2^{63}-1$。", "locale": "zh-CN"}}}
{"pid": "P2647", "type": "P", "difficulty": 5, "samples": [["2\n5 2\n3 5", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "洛谷原创", "枚举", "洛谷比赛"], "title": "最大收益", "background": "", "description": "现在你面前有 $n$ 个物品，编号分别为 $1,2,3,\\cdots,n$。你可以在这当中任意选择任意多个物品。其中第 $i$ 个物品有两个属性 $W_i$ 和 $R_i$，当你选择了第 $i$ 个物品后，你就可以获得 $W_i$ 的收益；但是，你选择该物品以后选择的所有物品的收益都会减少 $R_i$。现在请你求出，该选择哪些物品，并且该以什么样的顺序选取这些物品，才能使得自己获得的收益最大。\n\n注意，收益的减少是会叠加的。比如，你选择了第 $i$ 个物品，那么你就会获得了 $W_i$ 的收益；然后你又选择了第 $j$ 个物品，你又获得了 $W_j-R_i$ 收益；之后你又选择了第 $k$ 个物品，你又获得了 $W_k-R_i-R_j$ 的收益；那么你获得的收益总和为 $W_i+(W_j-R_i)+(W_k-R_i-R_j)$。", "inputFormat": "第一行一个正整数 $n$，表示物品的个数。\n\n接下来第 $2$ 行到第 $n+1$ 行，每行两个正整数 $W_i$ 和 $R_i$，含义如题目所述。", "outputFormat": "输出仅一行，表示最大的收益。\n", "hint": "### 数据范围及约定\n\n- $20\\%$ 的数据满足：$n \\le 5$，$0 \\le W_i,R_i \\le 1000$；\n- $50\\%$ 的数据满足：$n \\le 15$，$0 \\le W_i,R_i \\le 1000$；\n- $100\\%$ 的数据满足：$n \\le 3000$，$0 \\le W_i,R_i \\le 2\\times 10^5$。\n\n### 样例解释\n\n我们可以选择 $1$ 号物品，获得了 $5$ 点收益；之后我们再选择 $2$ 号物品，获得 $3-2=1$ 点收益。最后总的收益值为 $5+1=6$。", "locale": "zh-CN", "translations": {"en": {"title": "Maximum Profit", "background": "", "description": "You are given $n$ items, numbered $1, 2, 3, \\cdots, n$. You may choose any subset of them in any order. The $i$-th item has two attributes $W_i$ and $R_i$. When you choose the $i$-th item, you immediately gain a profit of $W_i$; however, the profits of all items chosen after this item are reduced by $R_i$. Determine which items to choose and in what order to choose them so that the total profit is maximized.\n\nNote that the reductions are cumulative. For example, if you choose item $i$, you gain $W_i$; then if you choose item $j$, you gain $W_j - R_i$; afterwards, if you choose item $k$, you gain $W_k - R_i - R_j$; hence the total profit is $W_i + (W_j - R_i) + (W_k - R_i - R_j)$.", "inputFormat": "The first line contains a positive integer $n$, the number of items.\n\nLines $2$ through $n+1$ each contain two non-negative integers $W_i$ and $R_i$, as described above.", "outputFormat": "Output a single line with the maximum profit.", "hint": "### Constraints\n\n- 20% of the testdata satisfies $n \\le 5$, $0 \\le W_i, R_i \\le 1000$.\n- 50% of the testdata satisfies $n \\le 15$, $0 \\le W_i, R_i \\le 1000$.\n- 100% of the testdata satisfies $n \\le 3000$, $0 \\le W_i, R_i \\le 2 \\times 10^5$.\n\n### Sample Explanation\n\nWe can choose item $1$ to gain $5$ profit; then choose item $2$ to gain $3 - 2 = 1$ profit. The total profit is $5 + 1 = 6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最大收益", "background": "", "description": "现在你面前有 $n$ 个物品，编号分别为 $1,2,3,\\cdots,n$。你可以在这当中任意选择任意多个物品。其中第 $i$ 个物品有两个属性 $W_i$ 和 $R_i$，当你选择了第 $i$ 个物品后，你就可以获得 $W_i$ 的收益；但是，你选择该物品以后选择的所有物品的收益都会减少 $R_i$。现在请你求出，该选择哪些物品，并且该以什么样的顺序选取这些物品，才能使得自己获得的收益最大。\n\n注意，收益的减少是会叠加的。比如，你选择了第 $i$ 个物品，那么你就会获得了 $W_i$ 的收益；然后你又选择了第 $j$ 个物品，你又获得了 $W_j-R_i$ 收益；之后你又选择了第 $k$ 个物品，你又获得了 $W_k-R_i-R_j$ 的收益；那么你获得的收益总和为 $W_i+(W_j-R_i)+(W_k-R_i-R_j)$。", "inputFormat": "第一行一个正整数 $n$，表示物品的个数。\n\n接下来第 $2$ 行到第 $n+1$ 行，每行两个正整数 $W_i$ 和 $R_i$，含义如题目所述。", "outputFormat": "输出仅一行，表示最大的收益。\n", "hint": "### 数据范围及约定\n\n- $20\\%$ 的数据满足：$n \\le 5$，$0 \\le W_i,R_i \\le 1000$；\n- $50\\%$ 的数据满足：$n \\le 15$，$0 \\le W_i,R_i \\le 1000$；\n- $100\\%$ 的数据满足：$n \\le 3000$，$0 \\le W_i,R_i \\le 2\\times 10^5$。\n\n### 样例解释\n\n我们可以选择 $1$ 号物品，获得了 $5$ 点收益；之后我们再选择 $2$ 号物品，获得 $3-2=1$ 点收益。最后总的收益值为 $5+1=6$。", "locale": "zh-CN"}}}
{"pid": "P2648", "type": "P", "difficulty": 3, "samples": [["100 3 5 2\n1 5\n2 3\n1 4\n5 2 150\n2 5 120", "250"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["枚举", "洛谷比赛"], "title": "赚钱", "background": "改编自某题。", "description": "zzy 现在决定环游中国，顺便赚点钱。zzy 在一个城市最多只能赚 $D$ 元，然后他可以选择退休也就是停止赚钱，或者去其它城市工作。当然，他可以在别处工作一阵子后又回到原来的城市再赚 $D$ 元。这样的往返次数是没有任何限制的。\n\n城市间有 $P$ 条单向路径连接，共有 $C$ 座城市，编号从 $1$ 到 $C$。路径 $i$ 从城市 $A_i$ 到城市 $B_i$，在路径行走上不用任何花费。\n\nzzy 还可以乘飞机从某个城市飞到另一个城市。共有 $F$ 条单向的航线，第 $i$ 条航线是从城市 $J_i$ 飞到另一座城市 $K_i$，费用是 $T_i$ 元。假如 zzy 身上没有现钱，他可以用以后赚的钱来付机票钱。\n\nzzy 可以从任何一个城市出发开始赚钱，并且选择在任何时候、任何城市退休。现在 zzy 想要知道，如果在工作时间上不做限制，那么 zzy 共可以赚多少钱呢？如果赚的钱也不会出现限制，那么就输出 `orz`。", "inputFormat": "第一行，$4$ 个用空格分开的正整数 $D,P,C,F$。\n\n第二行到 $P+1$ 行，第 $i+1$ 行包含 $2$ 个用空格分开的整数 $A_i,B_i$，表示一条从城市 $A_i$ 到城市 $B_i$ 的单向路径。\n\n接下来的 $F$ 行，每行 $3$ 个用空格分开的正整数 $J_i,K_i,T_i$，表示一条从城市 $J_i$ 到城市 $K_i$ 的单向航线，费用为 $T_i$。", "outputFormat": "如果 zzy 赚的钱没有限制，输出 `orz`。如果有限制，那么就输出在给定的规则下 zzy 最多可以赚到的钱数。", "hint": "对于 $100\\%$ 的数据，$1\\le D\\le1000$，$1\\le P\\le200$，$2\\le C\\le300$，$1\\le F\\le400$，$1\\le T_i \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Making Money", "background": "Adapted from another problem.", "description": "zzy now decides to travel around China and make some money along the way. In any single visit to a city, zzy can earn at most $D$ yuan. After that, he may choose to retire (i.e., stop earning) or go to other cities to work. Of course, he can work elsewhere for a while and then return to the original city to earn another $D$ yuan. The number of such round trips is unlimited.\n\nThere are $P$ directed paths between cities, and there are $C$ cities in total, numbered from $1$ to $C$. Path $i$ goes from city $A_i$ to city $B_i$, and traveling along these paths costs nothing.\n\nzzy can also take a flight from one city to another. There are $F$ directed flights; the $i$-th flight goes from city $J_i$ to city $K_i$ with a cost of $T_i$ yuan. If zzy has no cash on hand, he can pay the airfare with money he will earn in the future.\n\nzzy may start earning from any city and may retire at any time and in any city. Now zzy wants to know: if there is no limit on working time, how much money can he earn in total? If the amount he can earn has no limit, output `orz`.", "inputFormat": "The first line contains $4$ space-separated positive integers $D,P,C,F$.\n\nLines $2$ to $P+1$ each contain $2$ space-separated integers $A_i,B_i$, describing a directed path from city $A_i$ to city $B_i$.\n\nThe next $F$ lines each contain $3$ space-separated positive integers $J_i,K_i,T_i$, describing a directed flight from city $J_i$ to city $K_i$ with a cost of $T_i$.", "outputFormat": "If the amount zzy can earn is unbounded, output `orz`. Otherwise, output the maximum amount of money zzy can earn under the given rules.", "hint": "For $100\\%$ of the testdata, $1\\le D\\le 1000$, $1\\le P\\le 200$, $2\\le C\\le 300$, $1\\le F\\le 400$, $1\\le T_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "赚钱", "background": "改编自某题。", "description": "zzy 现在决定环游中国，顺便赚点钱。zzy 在一个城市最多只能赚 $D$ 元，然后他可以选择退休也就是停止赚钱，或者去其它城市工作。当然，他可以在别处工作一阵子后又回到原来的城市再赚 $D$ 元。这样的往返次数是没有任何限制的。\n\n城市间有 $P$ 条单向路径连接，共有 $C$ 座城市，编号从 $1$ 到 $C$。路径 $i$ 从城市 $A_i$ 到城市 $B_i$，在路径行走上不用任何花费。\n\nzzy 还可以乘飞机从某个城市飞到另一个城市。共有 $F$ 条单向的航线，第 $i$ 条航线是从城市 $J_i$ 飞到另一座城市 $K_i$，费用是 $T_i$ 元。假如 zzy 身上没有现钱，他可以用以后赚的钱来付机票钱。\n\nzzy 可以从任何一个城市出发开始赚钱，并且选择在任何时候、任何城市退休。现在 zzy 想要知道，如果在工作时间上不做限制，那么 zzy 共可以赚多少钱呢？如果赚的钱也不会出现限制，那么就输出 `orz`。", "inputFormat": "第一行，$4$ 个用空格分开的正整数 $D,P,C,F$。\n\n第二行到 $P+1$ 行，第 $i+1$ 行包含 $2$ 个用空格分开的整数 $A_i,B_i$，表示一条从城市 $A_i$ 到城市 $B_i$ 的单向路径。\n\n接下来的 $F$ 行，每行 $3$ 个用空格分开的正整数 $J_i,K_i,T_i$，表示一条从城市 $J_i$ 到城市 $K_i$ 的单向航线，费用为 $T_i$。", "outputFormat": "如果 zzy 赚的钱没有限制，输出 `orz`。如果有限制，那么就输出在给定的规则下 zzy 最多可以赚到的钱数。", "hint": "对于 $100\\%$ 的数据，$1\\le D\\le1000$，$1\\le P\\le200$，$2\\le C\\le300$，$1\\le F\\le400$，$1\\le T_i \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P2649", "type": "P", "difficulty": 3, "samples": [["2 5\n1 7 2 10 9", "2"], ["6 11\n62 63 54 66 65 61 57 56 50 53 48", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心"], "title": "游戏预言", "background": "", "description": "John 和朋友们在玩纸牌游戏，他们一共有 $m$ 个人（包括 John）。他们的纸牌比较特殊，一共有 $n \\times m$ 张牌，牌号分别为 $1,2,\\dots,n \\times m$，没有牌号相同的牌。每个人先拿到 $n$ 张牌，然后，每一轮，每个人出一张牌，谁最大则谁赢得这一轮。现在已知 John 手中的 $n$ 张牌，计算他最少能赢得多少轮。", "inputFormat": "第一行为两个整数 $m$ 和 $n$。\n\n第二行有 $n$ 个正整数，表示 John 手中的 $n$ 张牌的数值。", "outputFormat": "仅一个整数，表示 John 最少能赢的次数。", "hint": "对于 $100 \\%$ 的数据，$2 \\le m \\le 20$，$1 \\le n \\le 50$。", "locale": "zh-CN", "translations": {"en": {"title": "Game Prediction", "background": "", "description": "John and his friends are playing a card game with $m$ people in total (including John). Their deck is special: there are $n \\times m$ cards numbered $1, 2, \\dots, n \\times m$, with no duplicate numbers. Each person first receives $n$ cards. Then, in each round, everyone plays one card; the highest number wins that round. Now, given the $n$ cards in John's hand, compute the minimum number of rounds he can win.", "inputFormat": "The first line contains two integers $m$ and $n$.\n\nThe second line contains $n$ positive integers, the values of the $n$ cards in John's hand.", "outputFormat": "Output a single integer, the minimum number of rounds John can win.", "hint": "Constraints: For $100\\%$ of the testdata, $2 \\le m \\le 20$, $1 \\le n \\le 50$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "游戏预言", "background": "", "description": "John 和朋友们在玩纸牌游戏，他们一共有 $m$ 个人（包括 John）。他们的纸牌比较特殊，一共有 $n \\times m$ 张牌，牌号分别为 $1,2,\\dots,n \\times m$，没有牌号相同的牌。每个人先拿到 $n$ 张牌，然后，每一轮，每个人出一张牌，谁最大则谁赢得这一轮。现在已知 John 手中的 $n$ 张牌，计算他最少能赢得多少轮。", "inputFormat": "第一行为两个整数 $m$ 和 $n$。\n\n第二行有 $n$ 个正整数，表示 John 手中的 $n$ 张牌的数值。", "outputFormat": "仅一个整数，表示 John 最少能赢的次数。", "hint": "对于 $100 \\%$ 的数据，$2 \\le m \\le 20$，$1 \\le n \\le 50$。", "locale": "zh-CN"}}}
{"pid": "P2650", "type": "P", "difficulty": 4, "samples": [["3 2\n2 5\n0 10\n5 8\n0 6\n8 2", "3\n2"], ["1 2\n0 10\n9 1\n10 1", "1 \n0\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分"], "title": "弹幕考察", "background": "zeromaker 是个手残，但是他喜欢玩东方 project，ex 什么的最喜欢了", "description": "zeromaker 对弹幕的视野控制有着深刻的研究。 每个弹幕在一段特定的时间内会出现在 zeromaker 的视野内，除此之外的时间都在 zeromaker 看不到的地方。在 zeromaker 看来，视野内的弹幕数量越多，图就越难，因为这意味着 @#￥%。 现在，zeromaker 想要评测这张图的难度，他已经知道了每个弹幕会在什么时候出现在视野内，他想知道，在一段时间内，总共有多少个弹幕出现在他的视野内过。", "inputFormat": "第一行有两个整数 $n$ ， $m$ ,表示一共有 $n$ 个弹幕，而 zeromaker 有 $m$ 个问题。\n\n接下来 $n$ 行，每行两个数 $a$，$b$，表示这个弹幕 $a$ 秒时出现在 zeromaker 的视野内，出现了 $b$ 秒。 接下来 $m$ 行，每行两个整数 $x$ ， $y$ ，表示从 $x$ 秒开始，经过 $y$ 秒，其中有多少个弹幕出现过。\n\n注意：此处的“秒”为**时刻**，弹幕在视野出现过当且仅当视野观测与弹幕出现的时间间隔存在重合，**仅端点重合**（如弹幕在第 $2$ 秒结束的同时观测从第 $2$ 秒开始）**不算在视野出现**。", "outputFormat": "$m$ 行，即对于 zeromaker 提出的每个问题的答案。", "hint": "**样例1说明：**\n\n```text\n       0  1  2  3  4  5  6  7  8  9 10 11 12 13\n弹幕1        |--------------|\n弹幕2  |-----------------------------|\n弹幕3                 |-----------------------|\n视野1  |-----------------|\n视野2                          |-----|\n```\n\n**样例2说明：**\n\n```text\n       0  1  2  3  4  5  6  7  8  9 10 11\n弹幕1  |-----------------------------|\n视野1                             |--|\n视野2                                |--|\n```\n\n- $30\\%$ 的数据：$n,m \\le 10^3$。\n- $100\\%$ 的数据：$1 \\le n,m \\le 10^5$，$0 \\le x,y,a,b \\le 2^{31}-1$。", "locale": "zh-CN", "translations": {"en": {"title": "Danmaku Assessment", "background": "zeromaker is clumsy, but he likes to play Touhou Project; EX and the like are his favorites.", "description": "zeromaker has conducted in-depth research on controlling his field of view for danmaku. Each danmaku appears in zeromaker’s field of view during a specific time interval, and is invisible outside that interval. In zeromaker’s opinion, the more danmaku are within the field of view, the harder the stage becomes, because this means @#￥%. Now, to evaluate the difficulty of a stage, he has already learned when each danmaku appears within his field of view. He wants to know, within a given time period, how many distinct danmaku have ever appeared in his field of view.\n\nNote: Here, “seconds” are treated as time instants. A danmaku is considered to have appeared in the field of view if and only if the observation interval and the danmaku’s appearance interval overlap with positive length; endpoint-only contact (for example, a danmaku ends at second $2$ and the observation starts at second $2$) does not count as appearing.\n\n# Description\n\nThe first line contains two integers $n$, $m$, indicating there are $n$ danmaku in total, and zeromaker has $m$ queries.\n\nThe next $n$ lines each contain two integers $a$, $b$, meaning this danmaku appears in zeromaker’s field of view starting at second $a$ and lasts for $b$ seconds. The following $m$ lines each contain two integers $x$, $y$, meaning starting from second $x$, over $y$ seconds, ask how many danmaku have appeared at any time in that interval.\n\nNote: Here, “seconds” are time instants. A danmaku is considered to have appeared in the field of view if and only if the observation interval and the danmaku’s appearance interval overlap with positive length; endpoint-only contact (e.g., the danmaku ends at second $2$ while the observation starts at second $2$) does not count as appearing.", "inputFormat": "The first line contains two integers $n$, $m$.\n\nThe next $n$ lines each contain two integers $a$, $b$, where the danmaku appears at second $a$ and lasts for $b$ seconds.\n\nThe next $m$ lines each contain two integers $x$, $y$, asking: from second $x$, over $y$ seconds, how many danmaku have ever appeared.", "outputFormat": "Output $m$ lines, where each line is the answer to one of zeromaker’s queries.", "hint": "Sample 1 explanation:\n\n```text\n       0  1  2  3  4  5  6  7  8  9 10 11 12 13\n弹幕1        |--------------|\n弹幕2  |-----------------------------|\n弹幕3                 |-----------------------|\n视野1  |-----------------|\n视野2                          |-----|\n```\n\nSample 2 explanation:\n\n```text\n       0  1  2  3  4  5  6  7  8  9 10 11\n弹幕1  |-----------------------------|\n视野1                             |--|\n视野2                                |--|\n```\n\nConstraints:\n- $30\\%$ of the testdata: $n, m \\le 10^3$.\n- $100\\%$ of the testdata: $1 \\le n, m \\le 10^5$, $0 \\le x, y, a, b \\le 2^{31} - 1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "弹幕考察", "background": "zeromaker 是个手残，但是他喜欢玩东方 project，ex 什么的最喜欢了", "description": "zeromaker 对弹幕的视野控制有着深刻的研究。 每个弹幕在一段特定的时间内会出现在 zeromaker 的视野内，除此之外的时间都在 zeromaker 看不到的地方。在 zeromaker 看来，视野内的弹幕数量越多，图就越难，因为这意味着 @#￥%。 现在，zeromaker 想要评测这张图的难度，他已经知道了每个弹幕会在什么时候出现在视野内，他想知道，在一段时间内，总共有多少个弹幕出现在他的视野内过。", "inputFormat": "第一行有两个整数 $n$ ， $m$ ,表示一共有 $n$ 个弹幕，而 zeromaker 有 $m$ 个问题。\n\n接下来 $n$ 行，每行两个数 $a$，$b$，表示这个弹幕 $a$ 秒时出现在 zeromaker 的视野内，出现了 $b$ 秒。 接下来 $m$ 行，每行两个整数 $x$ ， $y$ ，表示从 $x$ 秒开始，经过 $y$ 秒，其中有多少个弹幕出现过。\n\n注意：此处的“秒”为**时刻**，弹幕在视野出现过当且仅当视野观测与弹幕出现的时间间隔存在重合，**仅端点重合**（如弹幕在第 $2$ 秒结束的同时观测从第 $2$ 秒开始）**不算在视野出现**。", "outputFormat": "$m$ 行，即对于 zeromaker 提出的每个问题的答案。", "hint": "**样例1说明：**\n\n```text\n       0  1  2  3  4  5  6  7  8  9 10 11 12 13\n弹幕1        |--------------|\n弹幕2  |-----------------------------|\n弹幕3                 |-----------------------|\n视野1  |-----------------|\n视野2                          |-----|\n```\n\n**样例2说明：**\n\n```text\n       0  1  2  3  4  5  6  7  8  9 10 11\n弹幕1  |-----------------------------|\n视野1                             |--|\n视野2                                |--|\n```\n\n- $30\\%$ 的数据：$n,m \\le 10^3$。\n- $100\\%$ 的数据：$1 \\le n,m \\le 10^5$，$0 \\le x,y,a,b \\le 2^{31}-1$。", "locale": "zh-CN"}}}
{"pid": "P2651", "type": "P", "difficulty": 2, "samples": [["2\n4\n1 2 1 4\n5\n6 5 7 9 12", "Yes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "高精度", "2015", "洛谷原创", "最大公约数 gcd", "进制", "洛谷月赛"], "title": "添加括号III", "background": "", "description": "现在给出一个表达式，形如 $a_{1}/a_{2}/a_{3}/.../a_{n}$。\n\n如果直接计算，就是一个个除过去，比如 $1/2/1/4 = 1/8$。\n\n然而小$\\text{A}$看到一个分数感觉很不舒服，希望通过添加一些括号使其变成一个整数。一种可行的办法是 $(1/2)/(1/4)=2$ 。\n\n现在给出这个表达式，求问是否可以通过添加一些括号改变运算顺序使其成为一个整数。", "inputFormat": "一个测试点中会有多个表达式。\n\n第一行 $t$ ，表示表达式数量。\n\n对于每个表达式，第一行是 $n$，第二行 $n$ 个数，第 $i$ 个数表示 $a_{i}$。", "outputFormat": "输出 $t$ 行。\n\n对于每个表达式，如果可以通过添加括号改变顺序使其变成整数，那么输出 `Yes`，否则输出 `No`。", "hint": "- 对于 $40\\%$ 的数据，$n \\le 16$。\n- 对于 $70\\%$ 的数据，$n \\le 100$。\n- 对于 $100\\%$ 的数据， $2 \\le n \\le 10000$，$1 \\le t \\le 100$，$1 \\le a_{i}\\le 2^{31}-1$。", "locale": "zh-CN", "translations": {"en": {"title": "Add Parentheses III", "background": "", "description": "You are given an expression of the form $a_{1}/a_{2}/a_{3}/.../a_{n}$.\n\nIf you evaluate it directly from left to right, for example, $1/2/1/4 = 1/8$.\n\nHowever, Little A feels uncomfortable seeing a fraction and wants to insert some parentheses to make it an integer. One possible way is $(1/2)/(1/4)=2$.\n\nGiven the expression, determine whether it is possible to change the evaluation order by adding parentheses so that the result becomes an integer.", "inputFormat": "There are multiple expressions in one test file.\n\nThe first line contains $t$, the number of expressions.\n\nFor each expression, the first line contains $n$, and the second line contains $n$ numbers. The $i$-th number denotes $a_{i}$.", "outputFormat": "Output $t$ lines.\n\nFor each expression, if it is possible to change the evaluation order by adding parentheses to make the result an integer, output `Yes`; otherwise, output `No`.", "hint": "- For $40\\%$ of the testdata, $n \\le 16$.\n- For $70\\%$ of the testdata, $n \\le 100$.\n- For $100\\%$ of the testdata, $2 \\le n \\le 10000$, $1 \\le t \\le 100$, $1 \\le a_{i}\\le 2^{31}-1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "添加括号III", "background": "", "description": "现在给出一个表达式，形如 $a_{1}/a_{2}/a_{3}/.../a_{n}$。\n\n如果直接计算，就是一个个除过去，比如 $1/2/1/4 = 1/8$。\n\n然而小$\\text{A}$看到一个分数感觉很不舒服，希望通过添加一些括号使其变成一个整数。一种可行的办法是 $(1/2)/(1/4)=2$ 。\n\n现在给出这个表达式，求问是否可以通过添加一些括号改变运算顺序使其成为一个整数。", "inputFormat": "一个测试点中会有多个表达式。\n\n第一行 $t$ ，表示表达式数量。\n\n对于每个表达式，第一行是 $n$，第二行 $n$ 个数，第 $i$ 个数表示 $a_{i}$。", "outputFormat": "输出 $t$ 行。\n\n对于每个表达式，如果可以通过添加括号改变顺序使其变成整数，那么输出 `Yes`，否则输出 `No`。", "hint": "- 对于 $40\\%$ 的数据，$n \\le 16$。\n- 对于 $70\\%$ 的数据，$n \\le 100$。\n- 对于 $100\\%$ 的数据， $2 \\le n \\le 10000$，$1 \\le t \\le 100$，$1 \\le a_{i}\\le 2^{31}-1$。", "locale": "zh-CN"}}}
{"pid": "P2652", "type": "P", "difficulty": 4, "samples": [["5\n1 1\n1 2\n1 3\n1 4\n1 5", "0"], ["5\n1 9\n1 10\n2 11\n2 12\n2 13", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["离散化"], "title": "同花顺", "background": "所谓同花顺，就是指一些扑克牌，它们花色相同，并且数字连续。\n", "description": "现在我手里有 $n$ 张扑克牌，但它们可能并不能凑成同花顺。我现在想知道，最少更换其中的多少张牌，我能让这 $n$ 张牌都凑成同花顺？", "inputFormat": "第一行一个整数 $n$ ，表示扑克牌的张数。\n\n接下来 $n$ 行，每行两个整数 $a_{i}$ 和 $b_{i}$。其中 $a_{i}$ 表示第 $i$ 张牌的花色，$b_{i}$ 表示第  $i$ 张牌的数字。", "outputFormat": "一行一个整数，表示最少更换多少张牌可以达到目标。\n", "hint": "- 对于 $30\\%$ 的数据，$n \\le 10$；\n- 对于 $60\\%$ 的数据，$n \\le 10^{5}$，$ 1 \\le a_{i} \\le 10^{5}$，$1 \\le b_{i} \\le n$；\n- 对于 $100\\%$ 的数据，$n \\le 10^{5}$，$1 \\le a_{i}, b_{i} \\le 10^{9}$；", "locale": "zh-CN", "translations": {"en": {"title": "Straight Flush", "background": "A straight flush refers to some playing cards whose suits are the same and whose ranks are consecutive.", "description": "Now I have $n$ playing cards, but they may not form a straight flush. I want to know the minimum number of cards I need to replace so that all $n$ cards form a straight flush.", "inputFormat": "The first line contains an integer $n$, indicating the number of playing cards.\n\nThen $n$ lines follow, each containing two integers $a_{i}$ and $b_{i}$. Here, $a_{i}$ denotes the suit of the $i$-th card, and $b_{i}$ denotes the rank of the $i$-th card.", "outputFormat": "Output a single integer on one line, indicating the minimum number of cards that need to be replaced to achieve the goal.", "hint": "- For $30\\%$ of the testdata, $n \\le 10$.\n- For $60\\%$ of the testdata, $n \\le 10^{5}$, $1 \\le a_{i} \\le 10^{5}$, $1 \\le b_{i} \\le n$.\n- For $100\\%$ of the testdata, $n \\le 10^{5}$, $1 \\le a_{i}, b_{i} \\le 10^{9}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "同花顺", "background": "所谓同花顺，就是指一些扑克牌，它们花色相同，并且数字连续。\n", "description": "现在我手里有 $n$ 张扑克牌，但它们可能并不能凑成同花顺。我现在想知道，最少更换其中的多少张牌，我能让这 $n$ 张牌都凑成同花顺？", "inputFormat": "第一行一个整数 $n$ ，表示扑克牌的张数。\n\n接下来 $n$ 行，每行两个整数 $a_{i}$ 和 $b_{i}$。其中 $a_{i}$ 表示第 $i$ 张牌的花色，$b_{i}$ 表示第  $i$ 张牌的数字。", "outputFormat": "一行一个整数，表示最少更换多少张牌可以达到目标。\n", "hint": "- 对于 $30\\%$ 的数据，$n \\le 10$；\n- 对于 $60\\%$ 的数据，$n \\le 10^{5}$，$ 1 \\le a_{i} \\le 10^{5}$，$1 \\le b_{i} \\le n$；\n- 对于 $100\\%$ 的数据，$n \\le 10^{5}$，$1 \\le a_{i}, b_{i} \\le 10^{9}$；", "locale": "zh-CN"}}}
{"pid": "P2654", "type": "P", "difficulty": 5, "samples": [["10 2 3\n1 2 3 4 5 6 7 8 9 10\n1 2\n1 2\n1 2", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2015", "堆", "洛谷原创", "洛谷月赛"], "title": "原核生物培养", "background": "", "description": "W 教授最近正在研究一种原核生物，这种生物的生长方式很奇特，只能通过吃掉同类而生长。两个该种生物相遇，较大质量的会把较小的吃掉（相同的话就看 RP 了），吃掉后较大的生物的质量会变为两只原核生物重量之和，但这个过程会消耗酶，消耗的酶近似为它们重量之和。\n\nW 教授现在有 $n$ 只原核生物，他每次会从培养皿中取重量最小的 $m$ 个生物进行实验，让它们自相残杀。\n\n实验的操作是这样的，教授将这 $m$ 个原核生物按某种重量大小的顺序放在一个环形的管道里，然后给其中相邻两只原核生物酶，如此反复。最后把剩下的那只放回培养皿，接着进行下次实验。W 教授希望经过 $k$ 次实验后耗能最少。输入数据保证，不会出现生物不够的情况。\n", "inputFormat": "第一行有三个整数，分别为 $n$, $m$, $k$。\n\n第二行有 $n$ 个整数，代表最初 $n$ 个生物的重量。\n\n接下来的 $k$ 行，每行 $m$ 个整数，第 $i+2$ 行的第 $j$ 个数代表第 $i$ 次实验的第 $j$ 小的生物放在哪个位置。例如 $m=5$，第三行为，$14235$ 代表最小的生物放在第一个位置，第二小的放第三个 $\\ldots$ 最大的放在第五个位置（和第一个位置相邻）。\n", "outputFormat": "只有一个整数，代表 $k$ 次实验之后最小消耗酶的量。\n", "hint": "对于 $100\\%$ 的数据，$1<n\\leq 1000$, $1\\leq m\\leq 10$, $1\\leq k\\leq 100$。数据保证结果不超过 $2^{31}$。\n\n样例解释：\n\n第一次是用重量为 $1, 2$ 消耗酶 $3$，变为一个重量 $3$。\n\n第二次是用重量为 $3, 3$ 消耗酶 $6$，变为一个重量 $6$。\n\n第三次是用重量为 $4, 5$ 消耗酶 $9$，变为一个重量 $9$。\n\n所以消耗总酶为 $18$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Prokaryote Cultivation", "background": "", "description": "Professor W is studying a kind of prokaryote whose growth is peculiar: it can grow only by devouring its conspecifics. When two such organisms meet, the heavier one eats the lighter one (if they have the same weight, it is decided by “RP”, i.e., luck). After eating, the survivor’s weight becomes the sum of the two weights, and the amount of enzyme consumed is approximately equal to the sum of their weights.\n\nProfessor W currently has $n$ prokaryotes. Each time, he takes the $m$ lightest organisms from the petri dish for an experiment and lets them fight each other.\n\nThe operation is as follows: he places these $m$ organisms around a circular tube in some order according to their weights, then repeatedly chooses a pair of adjacent organisms and supplies enzyme to them; after they merge, the survivor’s weight becomes the sum of the two, and the enzyme consumed equals that sum. Repeat this until only one organism remains. The remaining one is put back into the petri dish, and the next experiment begins. Professor W wants the total enzyme consumption to be minimized after $k$ experiments. The input guarantees that there will never be a shortage of organisms.", "inputFormat": "The first line contains three integers $n$, $m$, $k$.\n\nThe second line contains $n$ integers, the initial weights of the $n$ organisms.\n\nThe next $k$ lines each contain $m$ integers. In the $(i+2)$-th line, the $j$-th number denotes the position where the $j$-th lightest organism in the $i$-th experiment is placed. For example, if $m=5$ and the line is $14235$, it means the smallest organism is placed in position 1, the second smallest in position 4, the third smallest in position 2, the fourth smallest in position 3, and the largest in position 5 (which is adjacent to position 1).", "outputFormat": "Output a single integer, the minimal total amount of enzyme consumed after $k$ experiments.", "hint": "Constraints: For $100\\%$ of the testdata, $1 < n \\leq 1000$, $1 \\leq m \\leq 10$, $1 \\leq k \\leq 100$. It is guaranteed that the result does not exceed $2^{31}$.\n\nSample explanation:\nIn the first experiment, use weights $1, 2$, consuming $3$ enzyme and merging into weight $3$.\nIn the second experiment, use weights $3, 3$, consuming $6$ enzyme and merging into weight $6$.\nIn the third experiment, use weights $4, 5$, consuming $9$ enzyme and merging into weight $9$.\nTherefore, the total enzyme consumption is $18$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "原核生物培养", "background": "", "description": "W 教授最近正在研究一种原核生物，这种生物的生长方式很奇特，只能通过吃掉同类而生长。两个该种生物相遇，较大质量的会把较小的吃掉（相同的话就看 RP 了），吃掉后较大的生物的质量会变为两只原核生物重量之和，但这个过程会消耗酶，消耗的酶近似为它们重量之和。\n\nW 教授现在有 $n$ 只原核生物，他每次会从培养皿中取重量最小的 $m$ 个生物进行实验，让它们自相残杀。\n\n实验的操作是这样的，教授将这 $m$ 个原核生物按某种重量大小的顺序放在一个环形的管道里，然后给其中相邻两只原核生物酶，如此反复。最后把剩下的那只放回培养皿，接着进行下次实验。W 教授希望经过 $k$ 次实验后耗能最少。输入数据保证，不会出现生物不够的情况。\n", "inputFormat": "第一行有三个整数，分别为 $n$, $m$, $k$。\n\n第二行有 $n$ 个整数，代表最初 $n$ 个生物的重量。\n\n接下来的 $k$ 行，每行 $m$ 个整数，第 $i+2$ 行的第 $j$ 个数代表第 $i$ 次实验的第 $j$ 小的生物放在哪个位置。例如 $m=5$，第三行为，$14235$ 代表最小的生物放在第一个位置，第二小的放第三个 $\\ldots$ 最大的放在第五个位置（和第一个位置相邻）。\n", "outputFormat": "只有一个整数，代表 $k$ 次实验之后最小消耗酶的量。\n", "hint": "对于 $100\\%$ 的数据，$1<n\\leq 1000$, $1\\leq m\\leq 10$, $1\\leq k\\leq 100$。数据保证结果不超过 $2^{31}$。\n\n样例解释：\n\n第一次是用重量为 $1, 2$ 消耗酶 $3$，变为一个重量 $3$。\n\n第二次是用重量为 $3, 3$ 消耗酶 $6$，变为一个重量 $6$。\n\n第三次是用重量为 $4, 5$ 消耗酶 $9$，变为一个重量 $9$。\n\n所以消耗总酶为 $18$。\n", "locale": "zh-CN"}}}
{"pid": "P2655", "type": "P", "difficulty": 3, "samples": [["1                             \r\n16 2000 1 1 0 0 0", "2000 1 1 9 6 7"], ["2\r\n32 1970 1 1 0 0 0\r\n32 2015 11 8 8 30 0", "2038 1 19 3 14 7\r\n2083 11 26 11 44 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "2015", "洛谷原创", "枚举", "洛谷月赛"], "title": "2038 年问题", "background": null, "description": "网络时代，机会与危机共存。“千年虫”解决之后，会不会有新的“虫”出现？回答是肯定的，“2038 年”就是一个新的关卡。\n\n也许大家都已经知道计算机的 $2000$ 年问题是什么概念，但是什么时候又冒出来一个 $2038$ 年问题的呢？\n\n用C语言编制的程序不会碰到 $2000$ 年问题，但是会有 $2038$ 年问题。这是因为，大多数 C 语言程序都使用到一个叫做“标准时间库”的程序库，这个时间库用一个标准的 $4$ 字节也就是 $32$ 位的形式来储存时间信息。\n\n当初设计的时候，这个 $4$ 字节的时间格式把 $1970$ 年 $1$ 月 $1$ 日凌晨 $0$ 时 $0$ 分 $0$ 秒作为时间起点，这时的时间值为 $0$。以后所有的时间都是从这个时间开始一秒一秒累积得来的。\n\n比方说如果时间已经累积到了 $919642718$ 这个数值，就是说这时距离 $1970$ 年 $1$ 月 $1$ 日凌晨 $0$ 时 $0$ 分 $0$ 已经过去了 $919642718$ 秒，换算一下就应该是 $1999$ 年 $2$ 月 $21$ 日星期天 $16$ 时 $18$ 分 $38$ 秒。\n\n这样计算时间的好处在于，把任意两个时间值相减之后，就可以很迅速地得到这两个时间之间相差的秒数，然后你可以利用别的程序把它换算成明白易懂的年月日时分秒的形式。\n\n一个 $4$ 字节也就是 $32$ 位的存储空间的最大值是 $2147483647$，请注意！$2038$ 年问题的关键也就在这里———当时间一秒一秒地跳完 $2147483647$ 那惊心动魄的最后一秒后，它就会转为负数也就是说时间无效。那一刻的准确的时间为 $2038$ 年 $1$ 月 $19$ 日星期二晚上 $03:14:07$，之后所有用到这种“标准时间库”的 C 语言程序都会碰到时间计算上的麻烦。\n\n你要解决的问题是，现有一台计算机，表示时间的变量长度为 $N$ 位。给定一个“时间起点”，求出对于这个“时间起点”时间，最后的有效时间是什么时候。", "inputFormat": "第一行为数据组数 $T$。\n\n第 $2\\sim T+1$ 行，每行 $7$ 个数字描述一组数据，分别为表示时间的变量长度（二进制位数），然后是“时间起点”的年份，月份，日期，小时，分钟，秒数。", "outputFormat": "$T$ 行，对于每组数据，输出 $1$ 行，$6$ 个数字，分别表示最后的有效时间的年份，月份，日期，小时，分钟，秒数。", "hint": "对于 $50\\%$ 的数据 变量的位数 $\\le 16$；\n\n对于所有数据，变量长度 $\\le 32$，数据组数 $\\le1000$，$0\\le$ 年份 $\\le10000$。", "locale": "zh-CN", "translations": {"en": {"title": "The Year 2038 Problem", "background": "", "description": "In the network era, opportunities and crises coexist. After the \"Y2K bug\" was solved, would a new \"bug\" appear? The answer is yes: \"the year 2038\" is a new hurdle.\n\nMaybe everyone already knows what the $2000$ year problem in computers is, but when did the $2038$ year problem emerge?\n\nPrograms written in C will not encounter the $2000$ year problem, but they will have the $2038$ year problem. This is because most C programs use a \"standard time library,\" which stores time information in a standard $4$-byte, that is, $32$-bit, format.\n\nWhen it was designed, this $4$-byte time format took $1970$ year $1$ month $1$ day at $0$ hour $0$ minute $0$ second as the time origin (value $0$). All subsequent times are counted by accumulating seconds from this point.\n\nFor example, if the accumulated value has reached $919642718$, it means that $919642718$ seconds have passed since $1970$ year $1$ month $1$ day at $0$ hour $0$ minute $0$ second. Converted, it should be Sunday, $1999$ year $2$ month $21$ day at $16$ hour $18$ minute $38$ second.\n\nThe advantage of calculating time this way is that by subtracting any two time values, you can quickly get the number of seconds between them, and then use other routines to convert it into a human-readable year-month-day hour-minute-second format.\n\nThe maximum value of a $4$-byte, that is, $32$-bit, storage is $2147483647$. Note! The key to the $2038$ year problem lies here—after time ticks through the heart-stopping final second $2147483647$, it will overflow into a negative number, meaning the time becomes invalid. The exact moment is Tuesday, $2038$ year $1$ month $19$ day at $03:14:07$. After that, all C programs using this \"standard time library\" will run into trouble with time calculations.\n\nYour task: given a computer whose time variable has length $N$ bits and a given \"time origin,\" determine the last valid time with respect to this \"time origin.\"", "inputFormat": "The first line contains the number of test cases $T$.\n\nLines $2$ to $T+1$: each line contains $7$ integers describing one test case: the number of bits of the time variable (in binary), followed by the year, month, day, hour, minute, and second of the \"time origin.\"", "outputFormat": "Output $T$ lines. For each test case, output $1$ line with $6$ integers: the year, month, day, hour, minute, and second of the last valid time.", "hint": "For $50\\%$ of the testdata, the number of bits of the variable $\\le 16$.\n\nFor all testdata, the variable length $\\le 32$, the number of test cases $\\le 1000$, and $0 \\le$ year $\\le 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "2038 年问题", "background": null, "description": "网络时代，机会与危机共存。“千年虫”解决之后，会不会有新的“虫”出现？回答是肯定的，“2038 年”就是一个新的关卡。\n\n也许大家都已经知道计算机的 $2000$ 年问题是什么概念，但是什么时候又冒出来一个 $2038$ 年问题的呢？\n\n用C语言编制的程序不会碰到 $2000$ 年问题，但是会有 $2038$ 年问题。这是因为，大多数 C 语言程序都使用到一个叫做“标准时间库”的程序库，这个时间库用一个标准的 $4$ 字节也就是 $32$ 位的形式来储存时间信息。\n\n当初设计的时候，这个 $4$ 字节的时间格式把 $1970$ 年 $1$ 月 $1$ 日凌晨 $0$ 时 $0$ 分 $0$ 秒作为时间起点，这时的时间值为 $0$。以后所有的时间都是从这个时间开始一秒一秒累积得来的。\n\n比方说如果时间已经累积到了 $919642718$ 这个数值，就是说这时距离 $1970$ 年 $1$ 月 $1$ 日凌晨 $0$ 时 $0$ 分 $0$ 已经过去了 $919642718$ 秒，换算一下就应该是 $1999$ 年 $2$ 月 $21$ 日星期天 $16$ 时 $18$ 分 $38$ 秒。\n\n这样计算时间的好处在于，把任意两个时间值相减之后，就可以很迅速地得到这两个时间之间相差的秒数，然后你可以利用别的程序把它换算成明白易懂的年月日时分秒的形式。\n\n一个 $4$ 字节也就是 $32$ 位的存储空间的最大值是 $2147483647$，请注意！$2038$ 年问题的关键也就在这里———当时间一秒一秒地跳完 $2147483647$ 那惊心动魄的最后一秒后，它就会转为负数也就是说时间无效。那一刻的准确的时间为 $2038$ 年 $1$ 月 $19$ 日星期二晚上 $03:14:07$，之后所有用到这种“标准时间库”的 C 语言程序都会碰到时间计算上的麻烦。\n\n你要解决的问题是，现有一台计算机，表示时间的变量长度为 $N$ 位。给定一个“时间起点”，求出对于这个“时间起点”时间，最后的有效时间是什么时候。", "inputFormat": "第一行为数据组数 $T$。\n\n第 $2\\sim T+1$ 行，每行 $7$ 个数字描述一组数据，分别为表示时间的变量长度（二进制位数），然后是“时间起点”的年份，月份，日期，小时，分钟，秒数。", "outputFormat": "$T$ 行，对于每组数据，输出 $1$ 行，$6$ 个数字，分别表示最后的有效时间的年份，月份，日期，小时，分钟，秒数。", "hint": "对于 $50\\%$ 的数据 变量的位数 $\\le 16$；\n\n对于所有数据，变量长度 $\\le 32$，数据组数 $\\le1000$，$0\\le$ 年份 $\\le10000$。", "locale": "zh-CN"}}}
{"pid": "P2656", "type": "P", "difficulty": 4, "samples": [["3 3\n1 2 4 0.5\n1 3 7 0.1\n2 3 4 0.6\n1", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2015", "洛谷原创", "强连通分量", "洛谷月赛"], "title": "采蘑菇", "background": "", "description": "小胖和 ZYR 要去 ESQMS 森林采蘑菇。\n\nESQMS 森林间有 $N$ 个小树丛，$M$ 条小径，每条小径都是单向的，连接两个小树丛，上面都有一定数量的蘑菇。小胖和 ZYR 经过某条小径一次，可以采走这条路上所有的蘑菇。由于 ESQMS 森林是一片神奇的沃土，所以一条路上的蘑菇被采过后，又会长出一些新的蘑菇，数量为原来蘑菇的数量乘上这条路的“恢复系数”，再下取整。\n\n比如，一条路上有 $4$ 个蘑菇，这条路的“恢复系数”为 $0.7$，则第一~四次经过这条路径所能采到的蘑菇数量分别为 $4,2,1,0$。\n\n现在，小胖和 ZYR 从 $S$ 号小树丛出发，求他们最多能采到多少蘑菇。\n", "inputFormat": "第一行两个整数，$N$ 和 $M$。\n\n第二行到第 $M+1$ 行，每行四个数，分别表示一条小路的起点，终点，初始蘑菇数，恢复系数。\n\n第 $M+2$ 行，一个整数 $S$。\n", "outputFormat": "一行一个整数，表示最多能采到多少蘑菇，保证答案不超过 $(2^{31}-1)$。\n", "hint": "对于 $30\\%$ 的数据，$N\\le 7$，$M\\le15$\n\n另有 $30\\%$ 的数据，满足所有“恢复系数”为 $0$。\n\n对于 $100\\%$ 的数据，$1\n\\le N\\le 8\\times 10^4$，$1\\le M\\le 2\\times 10^5$，$0\\le\\text{恢复系数}\\le 0.8$ 且最多有一位小数， $1\\le S\\le N$。", "locale": "zh-CN", "translations": {"en": {"title": "Picking Mushrooms", "background": "", "description": "Xiaopang and ZYR are going to the ESQMS forest to pick mushrooms.\n\nIn the ESQMS forest, there are $N$ small thickets and $M$ paths. Each path is directed, connects two thickets, and has some mushrooms on it. When Xiaopang and ZYR traverse a path once, they can collect all the mushrooms on that path. Because the ESQMS forest is a magical fertile land, after the mushrooms on a path are picked, new mushrooms will grow on that path again, with the quantity equal to the original number of mushrooms multiplied by the path’s \"recovery factor\", then rounded down.\n\nFor example, if a path initially has $4$ mushrooms and its \"recovery factor\" is $0.7$, then the numbers of mushrooms that can be collected on the first through fourth traversals are $4, 2, 1, 0$ respectively.\n\nNow, starting from thicket $S$, find the maximum number of mushrooms they can collect.", "inputFormat": "The first line contains two integers, $N$ and $M$.\n\nFrom the second line to the $(M+1)$-th line, each line contains four numbers, representing the start thicket, the end thicket, the initial number of mushrooms, and the recovery factor of a path.\n\nThe $(M+2)$-th line contains an integer $S$.", "outputFormat": "Output one line with a single integer, the maximum number of mushrooms that can be collected. It is guaranteed that the answer does not exceed $(2^{31}-1)$.", "hint": "For $30\\%$ of the testdata, $N\\le 7$, $M\\le15$.\n\nFor another $30\\%$ of the testdata, all \"recovery factors\" are $0$.\n\nFor $100\\%$ of the testdata, $1\\le N\\le 8\\times 10^4$, $1\\le M\\le 2\\times 10^5$, $0\\le\\text{恢复系数}\\le 0.8$ with at most one decimal place, and $1\\le S\\le N$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "采蘑菇", "background": "", "description": "小胖和 ZYR 要去 ESQMS 森林采蘑菇。\n\nESQMS 森林间有 $N$ 个小树丛，$M$ 条小径，每条小径都是单向的，连接两个小树丛，上面都有一定数量的蘑菇。小胖和 ZYR 经过某条小径一次，可以采走这条路上所有的蘑菇。由于 ESQMS 森林是一片神奇的沃土，所以一条路上的蘑菇被采过后，又会长出一些新的蘑菇，数量为原来蘑菇的数量乘上这条路的“恢复系数”，再下取整。\n\n比如，一条路上有 $4$ 个蘑菇，这条路的“恢复系数”为 $0.7$，则第一~四次经过这条路径所能采到的蘑菇数量分别为 $4,2,1,0$。\n\n现在，小胖和 ZYR 从 $S$ 号小树丛出发，求他们最多能采到多少蘑菇。\n", "inputFormat": "第一行两个整数，$N$ 和 $M$。\n\n第二行到第 $M+1$ 行，每行四个数，分别表示一条小路的起点，终点，初始蘑菇数，恢复系数。\n\n第 $M+2$ 行，一个整数 $S$。\n", "outputFormat": "一行一个整数，表示最多能采到多少蘑菇，保证答案不超过 $(2^{31}-1)$。\n", "hint": "对于 $30\\%$ 的数据，$N\\le 7$，$M\\le15$\n\n另有 $30\\%$ 的数据，满足所有“恢复系数”为 $0$。\n\n对于 $100\\%$ 的数据，$1\n\\le N\\le 8\\times 10^4$，$1\\le M\\le 2\\times 10^5$，$0\\le\\text{恢复系数}\\le 0.8$ 且最多有一位小数， $1\\le S\\le N$。", "locale": "zh-CN"}}}
{"pid": "P2657", "type": "P", "difficulty": 3, "samples": [["1 10", "9"], ["25 50\n", "20\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "2009", "四川", "各省省选", "记忆化搜索", "数位 DP"], "title": "[SCOI2009] windy 数", "background": "**本题与 [P13085 [SCOI2009] windy 数（加强版）](https://www.luogu.com.cn/problem/P13085) 的区别在于 $\\bm{a}$ 与 $\\bm{b}$ 的范围。**\n\nwindy 定义了一种 windy 数。", "description": "不含前导零且相邻两个数字之差至少为 $2$ 的正整数被称为 windy 数。windy 想知道，在 $a$ 和 $b$ 之间，包括 $a$ 和 $b$ ，总共有多少个 windy 数？", "inputFormat": "输入只有一行两个整数，分别表示 $a$ 和 $b$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a \\leq b \\leq 2 \\times 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2009] Windy Numbers", "background": "The difference between this problem and P13085 [SCOI2009] windy 数（加强版） is the ranges of $\\bm{a}$ and $\\bm{b}$.\n\nWindy defined a kind of \"windy number\".", "description": "A positive integer without leading zeros, where the absolute difference between every pair of adjacent digits is at least $2$, is called a windy number. Windy wants to know: between $a$ and $b$, inclusive, how many windy numbers are there?", "inputFormat": "The input contains a single line with two integers, representing $a$ and $b$.", "outputFormat": "Output a single line with one integer, the answer.", "hint": "#### Constraints\n\nFor all test points, it is guaranteed that $1 \\leq a \\leq b \\leq 2 \\times 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2009] windy 数", "background": "**本题与 [P13085 [SCOI2009] windy 数（加强版）](https://www.luogu.com.cn/problem/P13085) 的区别在于 $\\bm{a}$ 与 $\\bm{b}$ 的范围。**\n\nwindy 定义了一种 windy 数。", "description": "不含前导零且相邻两个数字之差至少为 $2$ 的正整数被称为 windy 数。windy 想知道，在 $a$ 和 $b$ 之间，包括 $a$ 和 $b$ ，总共有多少个 windy 数？", "inputFormat": "输入只有一行两个整数，分别表示 $a$ 和 $b$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证 $1 \\leq a \\leq b \\leq 2 \\times 10^9$。", "locale": "zh-CN"}}}
{"pid": "P2658", "type": "P", "difficulty": 4, "samples": [["3 5 \n20 21 18 99 5  \n19 22 20 16 26\n18 17 40 60 80\n1 0 0 0 1\n0 0 0 0 0\n0 0 0 0 1", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2015", "二分", "并查集", "洛谷原创", "排序", "广度优先搜索 BFS", "洛谷月赛"], "title": "汽车拉力比赛", "background": null, "description": "博艾市将要举行一场汽车拉力比赛。\n\n赛场凹凸不平，所以被描述为 $N*M$ 的网格来表示海拔高度 $(1 \\leq M,N \\leq 500)$，每个单元格的海拔范围在 $0$ 到 $10^9$ 之间。\n\n其中一些单元格被定义为路标。组织者希望给整个路线指定一个难度系数 $D$，这样参赛选手从任一路标到达别的路标所经过的路径上相邻单元格的海拔高度差不会大于 $D$ 。也就是说这个难度系数 $D$ 指的是保证所有路标相互可达的最小值。任一单元格和其东西南北四个方向上的单元格都是相邻的。", "inputFormat": "第 $1$ 行两个整数 $M$ 和 $N$。第 $2$ 行到第 $M+1$ 行，每行 $N$ 个整数描述海拔高度。第 $2+M$ 行到第 $1+2M$ 行，每行 $N$ 个整数，每个数非 $0$ 即 $1$，$1$ 表示该单元格是一个路标。", "outputFormat": "一个整数，即赛道的难度系数 $D$。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Car Rally", "background": "", "description": "Bo'ai City is going to hold a car rally.\n\nThe course is uneven, so it is represented by an $M \\times N$ grid of elevations $(1 \\leq M, N \\leq 500)$. The elevation of each cell is between $0$ and $10^9$.\n\nSome cells are designated as checkpoints. The organizers want to assign a difficulty coefficient $D$ to the entire course such that, for any two checkpoints, there exists a path between them where the elevation difference between any pair of adjacent cells on that path does not exceed $D$. In other words, $D$ is the minimum value that ensures all checkpoints are mutually reachable. Each cell is adjacent to the four cells to its north, south, east, and west.", "inputFormat": "The first line contains two integers $M$ and $N$.\n\nLines $2$ through $M+1$: each line contains $N$ integers giving the elevations.\n\nLines $M+2$ through $2M+1$: each line contains $N$ integers, each either $0$ or $1$; $1$ indicates that the cell is a checkpoint.", "outputFormat": "Output a single integer, the difficulty coefficient $D$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "汽车拉力比赛", "background": null, "description": "博艾市将要举行一场汽车拉力比赛。\n\n赛场凹凸不平，所以被描述为 $N*M$ 的网格来表示海拔高度 $(1 \\leq M,N \\leq 500)$，每个单元格的海拔范围在 $0$ 到 $10^9$ 之间。\n\n其中一些单元格被定义为路标。组织者希望给整个路线指定一个难度系数 $D$，这样参赛选手从任一路标到达别的路标所经过的路径上相邻单元格的海拔高度差不会大于 $D$ 。也就是说这个难度系数 $D$ 指的是保证所有路标相互可达的最小值。任一单元格和其东西南北四个方向上的单元格都是相邻的。", "inputFormat": "第 $1$ 行两个整数 $M$ 和 $N$。第 $2$ 行到第 $M+1$ 行，每行 $N$ 个整数描述海拔高度。第 $2+M$ 行到第 $1+2M$ 行，每行 $N$ 个整数，每个数非 $0$ 即 $1$，$1$ 表示该单元格是一个路标。", "outputFormat": "一个整数，即赛道的难度系数 $D$。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2659", "type": "P", "difficulty": 3, "samples": [["3 \r\n1 2 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树", "二分", "并查集", "洛谷原创", "ST 表", "笛卡尔树", "单调栈"], "title": "美丽的序列", "background": "GD 是一个热衷于寻求美好事物的人。一天他拿到了一个美丽的序列。", "description": "为了研究这个序列的美丽程度，GD 定义了一个序列的“美丽度”和“美丽系数”：\n\n- 对于这个序列的任意一个区间 $[l,r]$，这个区间的“美丽度”就是这个区间的长度与这个区间的最小值的乘积。\n- 而整个序列的“美丽系数”就是它的所有区间的“美丽度”的最大值。\n\n现在 GD 想要你帮忙计算这个序列的“美丽系数”。", "inputFormat": "第一行一个整数 $n$，代表序列中的元素个数。\n\n第二行 $n$ 个整数 $a_i \\sim a_n$，描述这个序列。", "outputFormat": "一行一个整数，代表这个序列的“美丽系数”。", "hint": "### 样例解释\n\n选取区间 $[2,3]$，可以获得最大的“美丽系数”，为 $2 \\times 2=4$。\n\n### 数据范围\n\n- 对于 $20\\%$ 的数据，$n \\le 2 \\times 10^3$；\n- 对于 $60\\%$ 的数据，$n \\le 2 \\times 10^5$；\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times 10^6$，$0 \\le a_i \\le 2 \\times 10^6$。\n\n### 提示\n\n你可能需要一个读入优化。", "locale": "zh-CN", "translations": {"en": {"title": "Beautiful Sequence", "background": "GD is someone who loves seeking beautiful things. One day he obtained a beautiful sequence.", "description": "To study how beautiful this sequence is, GD defines the \"beauty\" and the \"beauty coefficient\" of a sequence.\n- For any subarray $[l, r]$ of this sequence, the \"beauty\" of this subarray is the product of its length and the minimum value within it.\n- The \"beauty coefficient\" of the whole sequence is the maximum \"beauty\" among all its subarrays.\n\nNow GD wants you to compute the \"beauty coefficient\" of this sequence.", "inputFormat": "The first line contains an integer $n$, the number of elements in the sequence.\nThe second line contains $n$ integers $a_1, a_2, \\dots, a_n$, describing the sequence.", "outputFormat": "Output a single integer, the \"beauty coefficient\" of the sequence.", "hint": "Sample Explanation:\nChoose the subarray $[2, 3]$ to obtain the maximum \"beauty coefficient\", which is $2 \\times 2 = 4$.\n\nConstraints:\n- For $20\\%$ of the testdata, $n \\le 2 \\times 10^3$.\n- For $60\\%$ of the testdata, $n \\le 2 \\times 10^5$.\n- For $100\\%$ of the testdata, $1 \\le n \\le 2 \\times 10^6$, $0 \\le a_i \\le 2 \\times 10^6$.\n\nHint:\nYou may need fast I/O.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "美丽的序列", "background": "GD 是一个热衷于寻求美好事物的人。一天他拿到了一个美丽的序列。", "description": "为了研究这个序列的美丽程度，GD 定义了一个序列的“美丽度”和“美丽系数”：\n\n- 对于这个序列的任意一个区间 $[l,r]$，这个区间的“美丽度”就是这个区间的长度与这个区间的最小值的乘积。\n- 而整个序列的“美丽系数”就是它的所有区间的“美丽度”的最大值。\n\n现在 GD 想要你帮忙计算这个序列的“美丽系数”。", "inputFormat": "第一行一个整数 $n$，代表序列中的元素个数。\n\n第二行 $n$ 个整数 $a_i \\sim a_n$，描述这个序列。", "outputFormat": "一行一个整数，代表这个序列的“美丽系数”。", "hint": "### 样例解释\n\n选取区间 $[2,3]$，可以获得最大的“美丽系数”，为 $2 \\times 2=4$。\n\n### 数据范围\n\n- 对于 $20\\%$ 的数据，$n \\le 2 \\times 10^3$；\n- 对于 $60\\%$ 的数据，$n \\le 2 \\times 10^5$；\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 2 \\times 10^6$，$0 \\le a_i \\le 2 \\times 10^6$。\n\n### 提示\n\n你可能需要一个读入优化。", "locale": "zh-CN"}}}
{"pid": "P2660", "type": "P", "difficulty": 2, "samples": [["1 10", "40"], ["2 2 ", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "贪心", "递归", "洛谷原创"], "title": "zzc 种田", "background": "可能以后 zzc 就去种田了。\n", "description": "田地是一个巨大的矩形，然而 zzc 每次只能种一个正方形,而每种一个正方形时 zzc 所花的体力值是正方形的周长，种过的田不可以再种，zzc 很懒还要节约体力去泡妹子，想花最少的体力值去种完这块田地，问最小体力值。", "inputFormat": "两个正整数 $x,y$，表示田地的长和宽。", "outputFormat": "输出最小体力值。", "hint": "$1\\le x,y\\le 10^{16}$。", "locale": "zh-CN", "translations": {"en": {"title": "zzc Farming", "background": "Maybe in the future zzc will go farming.", "description": "The field is a huge rectangle. However, zzc can plant only one square at a time, and the stamina cost for planting a square is the square’s perimeter. Areas that have already been planted cannot be planted again. zzc is lazy and wants to save stamina to hang out with girls, so he wants to finish planting the entire field with the least stamina. Find the minimum stamina cost.", "inputFormat": "Two positive integers $x, y$, representing the length and width of the field.", "outputFormat": "Output the minimum stamina cost.", "hint": "Constraints: $1 \\le x, y \\le 10^{16}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "zzc 种田", "background": "可能以后 zzc 就去种田了。\n", "description": "田地是一个巨大的矩形，然而 zzc 每次只能种一个正方形,而每种一个正方形时 zzc 所花的体力值是正方形的周长，种过的田不可以再种，zzc 很懒还要节约体力去泡妹子，想花最少的体力值去种完这块田地，问最小体力值。", "inputFormat": "两个正整数 $x,y$，表示田地的长和宽。", "outputFormat": "输出最小体力值。", "hint": "$1\\le x,y\\le 10^{16}$。", "locale": "zh-CN"}}}
{"pid": "P2661", "type": "P", "difficulty": 3, "samples": [["5\n2 4 2 3 1", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2015", "并查集", "NOIP 提高组", "强连通分量", "Tarjan"], "title": "[NOIP 2015 提高组] 信息传递", "background": "NOIP2015 Day1T2", "description": "有 $n$ 个同学（编号为 $1$ 到 $n$）正在玩一个信息传递的游戏。在游戏里每人都有一个固定的信息传递对象，其中，编号为 $i$ 的同学的信息传递对象是编号为 $T_i$ 的同学。\n\n游戏开始时，每人都只知道自己的生日。之后每一轮中，所有人会同时将自己当前所知的生日信息告诉各自的信息传递对象（注意：可能有人可以从若干人那里获取信息，但是每人只会把信息告诉一个人，即自己的信息传递对象）。当有人从别人口中得知自己的生日时，游戏结束。请问该游戏一共可以进行几轮？", "inputFormat": "输入共 $2$ 行。\n\n第一行包含 $1$ 个正整数 $n$，表示 $n$ 个人。\n\n第二行包含 $n$ 个用空格隔开的正整数 $T_1,T_2,\\cdots,T_n$，其中第 $i$ 个整数 $T_i$ 表示编号为 $i$ 的同学的信息传递对象是编号为 $T_i$ 的同学，$T_i\\leq n$ 且 $T_i\\neq i$。", "outputFormat": "共一行一个整数，表示游戏一共可以进行多少轮。", "hint": "**样例 1 解释：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3ca5zl3c.png)\n\n游戏的流程如图所示。当进行完第 $3$ 轮游戏后，$4$ 号玩家会听到 $2$ 号玩家告诉他自己的生日，所以答案为 $3$。当然，第 $3$ 轮游戏后，$2$ 号玩家、 $3$ 号玩家都能从自己的消息来源得知自己的生日，同样符合游戏结束的条件。\n\n- 对于 $30\\%$ 的数据，$n\\le 200$；\n- 对于 $60\\%$ 的数据，$n\\le 2500$；\n- 对于 $100\\%$ 的数据，$n\\le 2\\times 10^5$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Senior] Information Transfer", "background": "NOIP 2015 Day 1 T2.", "description": "There are $n$ players (numbered from $1$ to $n$) playing an information transfer game. In this game, each player has a fixed designated recipient. Specifically, the designated recipient of player $i$ is player $T_i$.\n\nAt the start of the game, each player knows only their own birthday. Then in each round, all players simultaneously tell all the birthday information they currently know to their designated recipient (note: someone may receive information from several people, but each person tells information to exactly one person, i.e., their designated recipient). The game ends when someone learns their own birthday from someone else. How many rounds can the game proceed in total?", "inputFormat": "The input consists of $2$ lines.\n\nThe first line contains $1$ positive integer $n$, representing the number of players.\n\nThe second line contains $n$ space-separated positive integers $T_1, T_2, \\cdots, T_n$. Here, the $i$-th integer $T_i$ means that the designated recipient of player $i$ is player $T_i$, with $T_i \\leq n$ and $T_i \\neq i$.", "outputFormat": "Output a single integer on one line, indicating how many rounds the game proceeds in total.", "hint": "Sample 1 explanation:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3ca5zl3c.png)\n\nThe process of the game is shown in the figure. After the $3$rd round, player $4$ will hear player $2$ tell him his own birthday, so the answer is $3$. Of course, after the $3$rd round, player $2$ and player $3$ can also learn their own birthdays from their respective sources, which also satisfies the game’s end condition.\n\nConstraints:\n- For $30\\%$ of the testdata, $n \\le 200$.\n- For $60\\%$ of the testdata, $n \\le 2500$.\n- For $100\\%$ of the testdata, $n \\le 2 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 提高组] 信息传递", "background": "NOIP2015 Day1T2", "description": "有 $n$ 个同学（编号为 $1$ 到 $n$）正在玩一个信息传递的游戏。在游戏里每人都有一个固定的信息传递对象，其中，编号为 $i$ 的同学的信息传递对象是编号为 $T_i$ 的同学。\n\n游戏开始时，每人都只知道自己的生日。之后每一轮中，所有人会同时将自己当前所知的生日信息告诉各自的信息传递对象（注意：可能有人可以从若干人那里获取信息，但是每人只会把信息告诉一个人，即自己的信息传递对象）。当有人从别人口中得知自己的生日时，游戏结束。请问该游戏一共可以进行几轮？", "inputFormat": "输入共 $2$ 行。\n\n第一行包含 $1$ 个正整数 $n$，表示 $n$ 个人。\n\n第二行包含 $n$ 个用空格隔开的正整数 $T_1,T_2,\\cdots,T_n$，其中第 $i$ 个整数 $T_i$ 表示编号为 $i$ 的同学的信息传递对象是编号为 $T_i$ 的同学，$T_i\\leq n$ 且 $T_i\\neq i$。", "outputFormat": "共一行一个整数，表示游戏一共可以进行多少轮。", "hint": "**样例 1 解释：**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3ca5zl3c.png)\n\n游戏的流程如图所示。当进行完第 $3$ 轮游戏后，$4$ 号玩家会听到 $2$ 号玩家告诉他自己的生日，所以答案为 $3$。当然，第 $3$ 轮游戏后，$2$ 号玩家、 $3$ 号玩家都能从自己的消息来源得知自己的生日，同样符合游戏结束的条件。\n\n- 对于 $30\\%$ 的数据，$n\\le 200$；\n- 对于 $60\\%$ 的数据，$n\\le 2500$；\n- 对于 $100\\%$ 的数据，$n\\le 2\\times 10^5$。\n", "locale": "zh-CN"}}}
