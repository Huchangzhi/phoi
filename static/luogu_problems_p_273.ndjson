{"pid": "P6524", "type": "P", "difficulty": 5, "samples": [["4 2 2\n26 1 21 8 ", "20"], ["2 2 2\n1 5", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "排序", "构造"], "title": "「Wdoi-1」托卡马克", "background": "今天的旧地狱依然核平，没有丝毫的波澜。", "description": "阿空在一次实验中意外失控，导致炽热的托卡马克上出现了 $n$ 处破损，为了防止八咫乌的力量彻底释放影响地面世界，觉决定修复托卡马克。\n\n阿空的托卡马克可抽象地理解为一条直线，以阿空为原点，这些破损位置的坐标分别为 $x_1,x_2,\\ldots ,x_n$。\n\n- 觉不希望消耗太多力量，所以她只会在这 $n$ 处破损中选择 $m$ 处进行修复。\n\n- 为了防止破损处发生泄漏，觉会在选择的 $m$ 处破损间**两两连接**一条通道。\n\n- 一条连接 $x_i$ 与 $x_j$ 处的通道的费用为 $\\left\\vert x_i - x_j \\right\\vert$，即两点间的直线距离，而一个方案的总花费被定义为所有通道的费用之和。\n\n觉当然知道有很多修复 $m$ 处破损的方案，但她现在只想知道：在所有合法方案中，总花费为**严格**第 $k$ 大的方案是什么。\n\n严格第 $k$ 大即不存在并列情况的第 $k$ 大方案。\n\n由于觉拥有读心的能力，你只需要输出该方案的总花费即可。\n\n若不存在符合要求的方案，输出 `-1`。", "inputFormat": "第一行三个整数，$n,m,k$，含义与题目描述一致。\n\n第二行 $n$ 个整数，为破损位置的坐标 $x_i$。", "outputFormat": "一行一个整数，表示所求方案的总花费。", "hint": "**【样例解释】**\n\n- 对于样例一，共有 $6$ 种方案，分别为：\n\n   - $(26,1)$，总费用 $25$。\n\n   - $(26,21)$，总费用 $5$。\n\n   - $(26,8)$，总费用 $18$。\n\n   - $(1,21)$，总费用 $20$。\n\n   - $(1,8)$，总费用 $7$。\n\n   - $(21,8)$，总费用 $13$。\n\n    显然，严格第二大的花费是 $20$。\n\n- 对于样例二，共有 $1$ 种方案，分别为：\n\n    - $(1,5)$，总费用 $4$。\n\n    显然，不存在严格第二大的花费，答案为 `-1`。\n\n----------------\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 对于 $100\\%$ 的数据：$1 \\le n,m \\le 3 \\times 10 ^ 5$，$1 \\le k \\le 2$，$0 \\le \\left\\vert x_i \\right\\vert \\le 10 ^ 8$，$2 \\mid m$，$m \\le n$。\n\n- **详细的数据范围：**\n\n    Subtask 编号 | $n \\le$ |  特殊性质 | 分值\n    :-: | :-: |  :-: | :-: \n   $1$ | $20$ | $m \\le 4$ |  $16$  \n   $2$ | $35$ | $1 \\le x_i \\le 7$ 且 $k = 1$ | $9$\n   $3$ | $35$ | $1 \\le x_i \\le 7$ | $9$\n   $4$ | $100$ | $k = 1$ | $16$\n   $5$ | $100$ | 无 | $16$\n   $6$ | $3 \\times 10 ^ 5$ |  $k = 1$ | $17$\n   $7$ | $3 \\times 10 ^ 5$ |  无 | $17$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」托卡马克", "background": "今天的旧地狱依然核平，没有丝毫的波澜。", "description": "阿空在一次实验中意外失控，导致炽热的托卡马克上出现了 $n$ 处破损，为了防止八咫乌的力量彻底释放影响地面世界，觉决定修复托卡马克。\n\n阿空的托卡马克可抽象地理解为一条直线，以阿空为原点，这些破损位置的坐标分别为 $x_1,x_2,\\ldots ,x_n$。\n\n- 觉不希望消耗太多力量，所以她只会在这 $n$ 处破损中选择 $m$ 处进行修复。\n\n- 为了防止破损处发生泄漏，觉会在选择的 $m$ 处破损间**两两连接**一条通道。\n\n- 一条连接 $x_i$ 与 $x_j$ 处的通道的费用为 $\\left\\vert x_i - x_j \\right\\vert$，即两点间的直线距离，而一个方案的总花费被定义为所有通道的费用之和。\n\n觉当然知道有很多修复 $m$ 处破损的方案，但她现在只想知道：在所有合法方案中，总花费为**严格**第 $k$ 大的方案是什么。\n\n严格第 $k$ 大即不存在并列情况的第 $k$ 大方案。\n\n由于觉拥有读心的能力，你只需要输出该方案的总花费即可。\n\n若不存在符合要求的方案，输出 `-1`。", "inputFormat": "第一行三个整数，$n,m,k$，含义与题目描述一致。\n\n第二行 $n$ 个整数，为破损位置的坐标 $x_i$。", "outputFormat": "一行一个整数，表示所求方案的总花费。", "hint": "**【样例解释】**\n\n- 对于样例一，共有 $6$ 种方案，分别为：\n\n   - $(26,1)$，总费用 $25$。\n\n   - $(26,21)$，总费用 $5$。\n\n   - $(26,8)$，总费用 $18$。\n\n   - $(1,21)$，总费用 $20$。\n\n   - $(1,8)$，总费用 $7$。\n\n   - $(21,8)$，总费用 $13$。\n\n    显然，严格第二大的花费是 $20$。\n\n- 对于样例二，共有 $1$ 种方案，分别为：\n\n    - $(1,5)$，总费用 $4$。\n\n    显然，不存在严格第二大的花费，答案为 `-1`。\n\n----------------\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 对于 $100\\%$ 的数据：$1 \\le n,m \\le 3 \\times 10 ^ 5$，$1 \\le k \\le 2$，$0 \\le \\left\\vert x_i \\right\\vert \\le 10 ^ 8$，$2 \\mid m$，$m \\le n$。\n\n- **详细的数据范围：**\n\n    Subtask 编号 | $n \\le$ |  特殊性质 | 分值\n    :-: | :-: |  :-: | :-: \n   $1$ | $20$ | $m \\le 4$ |  $16$  \n   $2$ | $35$ | $1 \\le x_i \\le 7$ 且 $k = 1$ | $9$\n   $3$ | $35$ | $1 \\le x_i \\le 7$ | $9$\n   $4$ | $100$ | $k = 1$ | $16$\n   $5$ | $100$ | 无 | $16$\n   $6$ | $3 \\times 10 ^ 5$ |  $k = 1$ | $17$\n   $7$ | $3 \\times 10 ^ 5$ |  无 | $17$", "locale": "zh-CN"}}}
{"pid": "P6525", "type": "P", "difficulty": 5, "samples": [["4\n7 4 8 11", "134"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "2020", "O2优化", "动态规划优化"], "title": "「Wdoi-1」蓬莱玉枝", "background": "辉夜的游戏机没电了。", "description": "由于游戏机在妖怪之山充电，辉夜玩起了蓬莱玉枝。\n\n具体来说，辉夜面前有 $n$ 条蓬莱玉枝，第 $i$ 条蓬莱玉枝的长度为 $a_i$ 。  \n\n辉夜会从这 $n$ 条玉枝中选出若干条来，称作一次选择方案。一个方案被辉夜认为是\"不无聊的\"，当且仅当在选出的玉枝中，存在某三条玉枝能够 **构成一个三角形**。  \n\n当一个方案被认为是\"无聊的\"时，辉夜认为它的有趣程度为 $0$；当一个方案被辉夜认为是\"不无聊的\"时，若选出的玉枝数量为 $k$，选出的玉枝中最长的玉枝长度为 $m$ ，则这个方案的有趣程度为 $km$ 。\n\n现在，辉夜想要知道，所有选择方案的有趣程度之和是多少。然而，辉夜的玉枝太多了，所以她找到了聪明的你来帮她算出答案，作为回报，你可以得到参加月都万象展的邀请。\n\n辉夜认为一个巨大的数字也是很无趣的，因此你只需要输出答案对 $20060723$ 取模后的结果即可。", "inputFormat": "输入数据共包括两行。\n\n第一行，一个整数 $n$，表示玉枝的数量。\n\n第二行，$n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 条玉枝的长度。", "outputFormat": "一行一个整数，表示有趣程度之和对 $20060723$ 取模后的结果。", "hint": "#### 样例说明  \n\n\"不无聊的\"方案有：\n\n$\\left\\{4, 7, 8\\right\\}$，$\\left\\{4, 8, 11\\right\\}$，$\\left\\{7, 8, 11\\right\\}$ 和 $\\left\\{4, 7, 8, 11\\right\\}$。\n\n故答案为 $\\left(8 \\times 3 + 11 \\times 3 + 11 \\times 3 + 11 \\times 4\\right) \\bmod 20060723 = 134$。\n\n#### 数据范围与约定  \n\n**本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过。**\n| 子任务编号 | $n$ | 时限 | 空限 | 分值 |\n| :--------: | :-: | :--: | :--: | :--: |\n| $1$ | $20$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $2$ | $100$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $20$ |\n| $3$ | $200$ | $0.5\\operatorname s$ | $500\\operatorname{MB}$ | $10$ |\n| $4$ | $1000$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $5$ | $1500$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $6$ | $2000$ | $5\\operatorname s$ | $256\\operatorname{MB}$ | $10$ |\n| $7$ | $5000$ | $2\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n\n对于 $100\\%$ 的数据，$0 < n \\le 5000$，$0 < a_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」蓬莱玉枝", "background": "辉夜的游戏机没电了。", "description": "由于游戏机在妖怪之山充电，辉夜玩起了蓬莱玉枝。\n\n具体来说，辉夜面前有 $n$ 条蓬莱玉枝，第 $i$ 条蓬莱玉枝的长度为 $a_i$ 。  \n\n辉夜会从这 $n$ 条玉枝中选出若干条来，称作一次选择方案。一个方案被辉夜认为是\"不无聊的\"，当且仅当在选出的玉枝中，存在某三条玉枝能够 **构成一个三角形**。  \n\n当一个方案被认为是\"无聊的\"时，辉夜认为它的有趣程度为 $0$；当一个方案被辉夜认为是\"不无聊的\"时，若选出的玉枝数量为 $k$，选出的玉枝中最长的玉枝长度为 $m$ ，则这个方案的有趣程度为 $km$ 。\n\n现在，辉夜想要知道，所有选择方案的有趣程度之和是多少。然而，辉夜的玉枝太多了，所以她找到了聪明的你来帮她算出答案，作为回报，你可以得到参加月都万象展的邀请。\n\n辉夜认为一个巨大的数字也是很无趣的，因此你只需要输出答案对 $20060723$ 取模后的结果即可。", "inputFormat": "输入数据共包括两行。\n\n第一行，一个整数 $n$，表示玉枝的数量。\n\n第二行，$n$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 条玉枝的长度。", "outputFormat": "一行一个整数，表示有趣程度之和对 $20060723$ 取模后的结果。", "hint": "#### 样例说明  \n\n\"不无聊的\"方案有：\n\n$\\left\\{4, 7, 8\\right\\}$，$\\left\\{4, 8, 11\\right\\}$，$\\left\\{7, 8, 11\\right\\}$ 和 $\\left\\{4, 7, 8, 11\\right\\}$。\n\n故答案为 $\\left(8 \\times 3 + 11 \\times 3 + 11 \\times 3 + 11 \\times 4\\right) \\bmod 20060723 = 134$。\n\n#### 数据范围与约定  \n\n**本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过。**\n| 子任务编号 | $n$ | 时限 | 空限 | 分值 |\n| :--------: | :-: | :--: | :--: | :--: |\n| $1$ | $20$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $2$ | $100$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $20$ |\n| $3$ | $200$ | $0.5\\operatorname s$ | $500\\operatorname{MB}$ | $10$ |\n| $4$ | $1000$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $5$ | $1500$ | $1\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n| $6$ | $2000$ | $5\\operatorname s$ | $256\\operatorname{MB}$ | $10$ |\n| $7$ | $5000$ | $2\\operatorname s$ | $500\\operatorname{MB}$ | $15$ |\n\n对于 $100\\%$ 的数据，$0 < n \\le 5000$，$0 < a_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6526", "type": "P", "difficulty": 6, "samples": [["6\n1 4 -4 0\n1 -3 -1 0\n1 -1 -1 0\n2\n3 2\n3 3", "10\n8\n10\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树"], "title": "「Wdoi-1」四重存在", "background": "芙兰朵露·斯卡蕾特的符卡禁忌「四重存在」可以产生 $4$ 个芙兰的幻影。\n\n但是芙兰并不满足于此。", "description": "芙兰所处的地下室可以被抽象为一个巨大的平面直角坐标系。芙兰朵露会进行 $q$ 次行动，每次行动的形式如下：  \n\n- `1 x y v` 表示芙兰在坐标 $(x,y)$ 处召唤出一个新的幻影，这个幻影拥有 $v$ 个单位的力量。  \n\n- `2` 表示查询现有的幻影中，\"**芙兰距离**\"的最大值是多少。  \n\n- `3 a` 表示查询如果忽略掉第 $a$ 个被召唤出的幻影，则剩余的幻影中\"芙兰距离\"的最大值是多少 。\n\n注： \n\n记第 $i$ 个被召唤出的幻影编号为 $i$，坐标为 $(x_i,y_i)$，力量为 $v_i$。  \n\n两个编号为 $u,v$ 的幻影间的\"芙兰距离\"等于 $|x_u-x_v|+|y_u-y_v|+v_{\\max(u,v)}$。\n\n**特殊地，编号为 $i$ 的幻影与自己的\"芙兰距离\"为 $v_i$。**  \n\n$3$ 操作中第 $a$ 个召唤的幻影只是在本次询问中不参与运算，而不是被去除。", "inputFormat": "第一行一个整数 $q$，表示操作个数。  \n\n之后 $q$ 行，每行若干个整数，输入格式与题目描述一致。 \n\n**注意**：由于芙兰朵露的情绪并不稳定，因此在 $1$ 操作中，实际输入的 \n\n$$x'=x \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$y'=y \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$v'=v \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$   \n\n其中的运算含义如下：\n\n- $\\operatorname{xor}$ 表示异或运算。\n\n- $\\text{lastans}$ 表示上一次 $2$ 或 $3$ 操作的答案，初始时 $\\text{lastans}=0$ ", "outputFormat": "输出一共若干行，每行一个整数，为每个 $2$ 操作或 $3$ 操作的答案。", "hint": "#### 数据范围与约定\n\n**「本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过」。**\n\n| 子任务编号 | $q \\le$ | 特殊性质 | 分值 |\n| :----------: | :-------: | :--------: | :---: |\n| $1$ | $500$ | 无 | $5$ |\n| $2$ | $5 \\times 10^3$ | A | $10$ |\n| $3$ | $10^5$ | A | $20$ |\n| $4$ | $10^5$ | 无 | $25$ |\n| $5$ | $2 \\times 10^6$ | 无 | $40$ |\n\n其中性质 A 表示无 3 操作。\n\n对于 $100\\%$ 的数据，$-10^8 \\le x,y,v \\le 10^8$，记某一时刻幻影的数量为 $c$，则有 $1 \\le a \\le c$ 。\n\n数据保证任意两个幻影的坐标不同，且在询问 $2,3$ 时至少已经插入 $3$ 个点。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」四重存在", "background": "芙兰朵露·斯卡蕾特的符卡禁忌「四重存在」可以产生 $4$ 个芙兰的幻影。\n\n但是芙兰并不满足于此。", "description": "芙兰所处的地下室可以被抽象为一个巨大的平面直角坐标系。芙兰朵露会进行 $q$ 次行动，每次行动的形式如下：  \n\n- `1 x y v` 表示芙兰在坐标 $(x,y)$ 处召唤出一个新的幻影，这个幻影拥有 $v$ 个单位的力量。  \n\n- `2` 表示查询现有的幻影中，\"**芙兰距离**\"的最大值是多少。  \n\n- `3 a` 表示查询如果忽略掉第 $a$ 个被召唤出的幻影，则剩余的幻影中\"芙兰距离\"的最大值是多少 。\n\n注： \n\n记第 $i$ 个被召唤出的幻影编号为 $i$，坐标为 $(x_i,y_i)$，力量为 $v_i$。  \n\n两个编号为 $u,v$ 的幻影间的\"芙兰距离\"等于 $|x_u-x_v|+|y_u-y_v|+v_{\\max(u,v)}$。\n\n**特殊地，编号为 $i$ 的幻影与自己的\"芙兰距离\"为 $v_i$。**  \n\n$3$ 操作中第 $a$ 个召唤的幻影只是在本次询问中不参与运算，而不是被去除。", "inputFormat": "第一行一个整数 $q$，表示操作个数。  \n\n之后 $q$ 行，每行若干个整数，输入格式与题目描述一致。 \n\n**注意**：由于芙兰朵露的情绪并不稳定，因此在 $1$ 操作中，实际输入的 \n\n$$x'=x \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$y'=y \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$\n\n$$v'=v \\operatorname{ xor } (\\text{lastans} \\bmod 3)$$   \n\n其中的运算含义如下：\n\n- $\\operatorname{xor}$ 表示异或运算。\n\n- $\\text{lastans}$ 表示上一次 $2$ 或 $3$ 操作的答案，初始时 $\\text{lastans}=0$ ", "outputFormat": "输出一共若干行，每行一个整数，为每个 $2$ 操作或 $3$ 操作的答案。", "hint": "#### 数据范围与约定\n\n**「本题采用捆绑测试：一个子任务通过，当且仅当该子任务中全部测试点通过」。**\n\n| 子任务编号 | $q \\le$ | 特殊性质 | 分值 |\n| :----------: | :-------: | :--------: | :---: |\n| $1$ | $500$ | 无 | $5$ |\n| $2$ | $5 \\times 10^3$ | A | $10$ |\n| $3$ | $10^5$ | A | $20$ |\n| $4$ | $10^5$ | 无 | $25$ |\n| $5$ | $2 \\times 10^6$ | 无 | $40$ |\n\n其中性质 A 表示无 3 操作。\n\n对于 $100\\%$ 的数据，$-10^8 \\le x,y,v \\le 10^8$，记某一时刻幻影的数量为 $c$，则有 $1 \\le a \\le c$ 。\n\n数据保证任意两个幻影的坐标不同，且在询问 $2,3$ 时至少已经插入 $3$ 个点。", "locale": "zh-CN"}}}
{"pid": "P6527", "type": "P", "difficulty": 7, "samples": [["8 0\n1 2 1\n1 7 1\n2 3 3\n2 4 1\n4 5 1\n4 6 2\n7 8 1\n1\n4 2\n1 3 5 6\n3\n1 \n2\n4", "0\n23\n20"], ["20 1\n2 1 6\n3 1 10\n4 1 4\n5 4 10\n6 2 3\n7 1 5\n8 4 4\n9 6 5\n10 8 8\n11 2 1\n12 7 9\n13 6 1\n14 8 7\n15 5 4\n16 10 9\n17 12 7\n18 4 10\n19 11 10\n20 13 7\n2\n6 3\n2 16 18 1 8 5 \n5\n19\n11\n18\n8\n20\n6 3\n8 3 17 13 7 20 \n5\n1\n15\n6\n10\n6\n", "0\n0\n0\n850\n810\n0\n0\n720\n0\n720\n"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["树形 DP", "虚树", "快速数论变换 NTT"], "title": "「Wdoi-1」幻能采集", "background": "幻能是一种全新的能源。 \n\n**注：点击\"展开\"阅读体验更佳**", "description": "在图 $G=\\{V,E\\}$ 中，对于大小为 $C$ 的点集 $S\\subset V$，若有一点编号为 $v$，且以 $S$ 中的每一个点为起点，$v$ 为终点能够选择出 $C$ 条不经过重边的路径，则称 $v$ 为点集 $S$  的\"聚焦点\"。  \n\n幻想乡的地图可以抽象为一棵含有 $n$ 个结点的有边权无根树(一条路径的长度定义为路径中所有边的边权之和)，而贤者们在树上 $c$ 个结点设置了幻能采集器。  \n\n为了幻能的充分利用，贤者们规定对于这 $c$ 个结点的 **大小至少为 $2$ 且不超过给定常数 $k$** 任意子集 $S$ ，在树上所有 $S$ 的\"聚焦点\"上都应设立一个只用于接受 $S$ 传递幻能的能量中枢。记其中的某个\"聚焦点\"为 $v$，则建立此能量中枢的代价按如下方式计算：  \n\n$$W_{S,v}=\\prod_{u \\in S}d(u,v)$$  \n\n其中，$d(u,v)$ 表示编号为 $u,v$ 的两点间的最短距离。 \n\n由于计划可能存在变化，贤者们设计了 **多组** 设置 $c$ 个幻能采集器的方案，而每个方案对应的常数 $k$ 也 **不一定** 相同。 \n\n现在，对于每个方案 $i$，贤者们想进行 $q_i$ 次询问，每次查询 若只建立 $x_{ij}$ 点应建的所有能量中枢，需要花费的总代价是多少(总代价等于建立每个能量中枢的代价之和)。由于幻想乡没有计算机，所以她们到外界找到了精通 $\\text{OI}$ 的你来帮忙。  \n\n当然，由于答案可能很大，你只需要输出总代价 $\\bmod\\ 998244353$ 后的结果即可。\n", "inputFormat": "第一行两个整数 $n,D$，表示结点数和某参数  \n\n之后 $n-1$ 行每行三个整数 $u,v,w$，表示一条 $u,v$ 间长度为 $w$ 的无向边  \n\n下一行一个整数 $T$，表示设置幻能采集器的方案个数  \n\n对于每组方案：  \n\n第一行两个整数 $c,k$，表示幻能采集器的个数和子集的大小上限  \n\n第二行 $c$ 个整数，表示幻能采集器所处的 $c$ 个结点，保证这 $c$ 个整数互不相同  \n\n第三行一个整数 $q$，表示对于该方案的询问的个数  \n\n之后 $q$ 行每行一个整数 $x$，表示查询只建立 $x$ 处所有中枢的代价和。  \n\n**因为某些原因，实际查询的 $x'=(x-1+D\\times lastans)\\bmod n+1$**，其中 $lastans$ 表示上一次查询的答案，第一次查询时 $lastans=0$，在改变方案后 $lastans$ **不清零**  ", "outputFormat": "若干行，每行一个整数表示查询的答案对 $\\text{998244353}$ 取模后的结果", "hint": "对于 $100\\%$ 的数据，$1 \\le w \\le 10^9$，$1 \\le u,v,c \\le n$，$D\\in\\{0,1\\}$，$2 \\le k \\le n$  \n\n子任务编号 | $n$ | $max(\\sum{c_i},\\sum{q_i})$  | $T\\le$ |特殊限制 | 分值\n:-: |\t:-:\t\t|\t:-: \t|\t:-:\t\t\t\t| \t:-: \t| \t:-:\t \t|\n$1$ |\t$10$\t|\t$10$\t|\t$10$\t\t|\t-\t\t|\t $10$\t|\n$2$ |\t$10^4$\t|\t$10^4$\t|\t$1$\t\t\t|\t$c=n,k\\le 100$\t|\t $15$\t|\n$3$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k=2$\t|\t $10$\t|\n$4$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$D=0,k\\le 100$\t|\t $15$\t|  \n$5$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k \\le 100$\t\t|\t $20$\t|\n$6$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t-\t\t|\t $30$\t|\n\n**本题采取捆绑测试**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」幻能采集", "background": "幻能是一种全新的能源。 \n\n**注：点击\"展开\"阅读体验更佳**", "description": "在图 $G=\\{V,E\\}$ 中，对于大小为 $C$ 的点集 $S\\subset V$，若有一点编号为 $v$，且以 $S$ 中的每一个点为起点，$v$ 为终点能够选择出 $C$ 条不经过重边的路径，则称 $v$ 为点集 $S$  的\"聚焦点\"。  \n\n幻想乡的地图可以抽象为一棵含有 $n$ 个结点的有边权无根树(一条路径的长度定义为路径中所有边的边权之和)，而贤者们在树上 $c$ 个结点设置了幻能采集器。  \n\n为了幻能的充分利用，贤者们规定对于这 $c$ 个结点的 **大小至少为 $2$ 且不超过给定常数 $k$** 任意子集 $S$ ，在树上所有 $S$ 的\"聚焦点\"上都应设立一个只用于接受 $S$ 传递幻能的能量中枢。记其中的某个\"聚焦点\"为 $v$，则建立此能量中枢的代价按如下方式计算：  \n\n$$W_{S,v}=\\prod_{u \\in S}d(u,v)$$  \n\n其中，$d(u,v)$ 表示编号为 $u,v$ 的两点间的最短距离。 \n\n由于计划可能存在变化，贤者们设计了 **多组** 设置 $c$ 个幻能采集器的方案，而每个方案对应的常数 $k$ 也 **不一定** 相同。 \n\n现在，对于每个方案 $i$，贤者们想进行 $q_i$ 次询问，每次查询 若只建立 $x_{ij}$ 点应建的所有能量中枢，需要花费的总代价是多少(总代价等于建立每个能量中枢的代价之和)。由于幻想乡没有计算机，所以她们到外界找到了精通 $\\text{OI}$ 的你来帮忙。  \n\n当然，由于答案可能很大，你只需要输出总代价 $\\bmod\\ 998244353$ 后的结果即可。\n", "inputFormat": "第一行两个整数 $n,D$，表示结点数和某参数  \n\n之后 $n-1$ 行每行三个整数 $u,v,w$，表示一条 $u,v$ 间长度为 $w$ 的无向边  \n\n下一行一个整数 $T$，表示设置幻能采集器的方案个数  \n\n对于每组方案：  \n\n第一行两个整数 $c,k$，表示幻能采集器的个数和子集的大小上限  \n\n第二行 $c$ 个整数，表示幻能采集器所处的 $c$ 个结点，保证这 $c$ 个整数互不相同  \n\n第三行一个整数 $q$，表示对于该方案的询问的个数  \n\n之后 $q$ 行每行一个整数 $x$，表示查询只建立 $x$ 处所有中枢的代价和。  \n\n**因为某些原因，实际查询的 $x'=(x-1+D\\times lastans)\\bmod n+1$**，其中 $lastans$ 表示上一次查询的答案，第一次查询时 $lastans=0$，在改变方案后 $lastans$ **不清零**  ", "outputFormat": "若干行，每行一个整数表示查询的答案对 $\\text{998244353}$ 取模后的结果", "hint": "对于 $100\\%$ 的数据，$1 \\le w \\le 10^9$，$1 \\le u,v,c \\le n$，$D\\in\\{0,1\\}$，$2 \\le k \\le n$  \n\n子任务编号 | $n$ | $max(\\sum{c_i},\\sum{q_i})$  | $T\\le$ |特殊限制 | 分值\n:-: |\t:-:\t\t|\t:-: \t|\t:-:\t\t\t\t| \t:-: \t| \t:-:\t \t|\n$1$ |\t$10$\t|\t$10$\t|\t$10$\t\t|\t-\t\t|\t $10$\t|\n$2$ |\t$10^4$\t|\t$10^4$\t|\t$1$\t\t\t|\t$c=n,k\\le 100$\t|\t $15$\t|\n$3$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k=2$\t|\t $10$\t|\n$4$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$D=0,k\\le 100$\t|\t $15$\t|  \n$5$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t$k \\le 100$\t\t|\t $20$\t|\n$6$ |\t$10^5$|\t$2*10^5$|\t$2*10^5$\t|\t-\t\t|\t $30$\t|\n\n**本题采取捆绑测试**", "locale": "zh-CN"}}}
{"pid": "P6528", "type": "P", "difficulty": 7, "samples": [["3 2 2\n1 2 3\n1 2 2 3\n1 1 3 3", "7\n14"], ["6 3 3\n1 1 4 5 1 4\n1 1 6 6\n1 2 3 4\n2 2 5 5", "87\n14\n32"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["莫队", "树状数组"], "title": "「Wdoi-1」完美冻结", "background": "琪露诺是一个喜欢研究数表的女孩子。", "description": "琪露诺有 $n$ 个正整数 $a_1,a_2,...,a_n$，她会按照如下方式构造一个大小为 $n\\times n$ 的数字表格：  \n\n- 定义数表的左下角为 $(1,1)$，右上角为 $(n,n)$，从左向右数第 $x$ 列，从下向上数第 $y$ 行的位置为 $(x,y)$。在数表的每个位置填入数字 $0$，然后在每个 $(i,i) (1\\le i\\le n)$ 处填入 $a_i$  \n\n- 枚举数表中的每一个 $2\\times 2$ 大小的子矩阵，当子矩阵左下角和右上角的数字**都不为 $0$** 时，记该子矩阵中从左到右，从上到下的数字分别为 $a,b,c,d$，进行以下操作：  \n\n\t- 若 $a=0$，$d=0$，则在数表中 $a,d$ 所处的位置填入 $b+c$  \n    - 若 $a=0$，$d\\neq 0$，则在数表中 $a$ 所处的位置填入 $b+c-d$  \n    - 若 $a\\neq 0$，$d=0$，则在数表中 $d$ 所处的位置填入 $b+c-a$  \n    \n- 重复第二步操作直至数表中的每一个位置都填有**正整数**  。\n\n- 最后，将数表中的每个数 $a_{ij}$ 变为 $\\lfloor \\frac{a_{ij}}{k} \\rfloor $，其中 $k$ 是一给定常数，$\\lfloor x \\rfloor$ 表示不超过 $x$ 的最大整数。  \n\n构造完 $n\\times n$ 的巨大数表后，琪露诺会进行 $q$ 次查询，每次询问数表中以  $(x_1,y_1)$ 为左下角，$(x_2,y_2)$ 为右上角的子矩阵中所有数字的和。  \n\n头脑简单的琪露诺想了一天又一天，却始终没有头绪，因此她找到了聪明的你帮她解决这个问题。  \n\n当然，由于答案可能很大，你只需要输出答案对 $998244353$ 取模后的结果即可。", "inputFormat": "第一行三个整数 $n,q,k$。  \n\n第二行 $n$ 个正整数，表示 $a_i$。  \n\n之后 $q$ 行，每行四个正整数 $x_1,y_1,x_2,y_2$，表示询问子矩阵的左下角和右上角坐标。", "outputFormat": "共 $q$ 行，每行一个整数，表示每一个询问的答案对 $998244353$ 取模后的结果。", "hint": "#### 样例 1 解释\n第一步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 0 & 3 \\cr  %\\cr是换行功能\n0 & 2 & 0  \\cr\n1 & 0 & 0\n\\end{bmatrix}\n$  \n\n进行一次第二步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 0\n\\end{bmatrix}\n$  \n\n进行两次第二步操作后的数表：   \n\n$\n\\begin{bmatrix}\n6 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 6\n\\end{bmatrix}\n$  \n\n进行第三步操作(对 $k=2$ 向下取整)后的数表：  \n\n$\n\\begin{bmatrix}\n3 & 2 & 1 \\cr  %\\cr是换行功能\n1 & 1 & 2  \\cr\n0 & 1 & 3\n\\end{bmatrix}\n$    \n\n询问 `1 2 2 3` 的答案为 $1+1+3+2=7$  \n询问 `1 1 3 3` 的答案为 $0+1+3+1+1+2+3+2+1=14$\n\n#### 数据范围：   \n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 2\\times 10^5$  ，$0 < a_i ,k \\le 10^9$  ，$1 \\le x_1 \\le x_2 \\le n$，$1 \\le y_1 \\le y_2 \\le n$。\n\n子任务编号 | $\\max(n,q)$  | 特殊限制 | 分值\n:-: | :-: | :-: | :-:\n$1$ | $100$ | 无特殊限制 | $5$\n$2$ | $500$ | 无特殊限制 | $5$\n$3$ | $5000$ | 无特殊限制 | $10$\n$4$ | $10^5$ | $q=1$ 且询问子矩阵为整个数表 | $20$  \n$5$ | $10^5$ | $k=1$ | $15$\n$6$ | $10^5$ | $k=2$ | $15$\n$7$ | $2*10^5$ | 无特殊限制 | $30$  \n\n**注意：本题采取捆绑测试**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Wdoi-1」完美冻结", "background": "琪露诺是一个喜欢研究数表的女孩子。", "description": "琪露诺有 $n$ 个正整数 $a_1,a_2,...,a_n$，她会按照如下方式构造一个大小为 $n\\times n$ 的数字表格：  \n\n- 定义数表的左下角为 $(1,1)$，右上角为 $(n,n)$，从左向右数第 $x$ 列，从下向上数第 $y$ 行的位置为 $(x,y)$。在数表的每个位置填入数字 $0$，然后在每个 $(i,i) (1\\le i\\le n)$ 处填入 $a_i$  \n\n- 枚举数表中的每一个 $2\\times 2$ 大小的子矩阵，当子矩阵左下角和右上角的数字**都不为 $0$** 时，记该子矩阵中从左到右，从上到下的数字分别为 $a,b,c,d$，进行以下操作：  \n\n\t- 若 $a=0$，$d=0$，则在数表中 $a,d$ 所处的位置填入 $b+c$  \n    - 若 $a=0$，$d\\neq 0$，则在数表中 $a$ 所处的位置填入 $b+c-d$  \n    - 若 $a\\neq 0$，$d=0$，则在数表中 $d$ 所处的位置填入 $b+c-a$  \n    \n- 重复第二步操作直至数表中的每一个位置都填有**正整数**  。\n\n- 最后，将数表中的每个数 $a_{ij}$ 变为 $\\lfloor \\frac{a_{ij}}{k} \\rfloor $，其中 $k$ 是一给定常数，$\\lfloor x \\rfloor$ 表示不超过 $x$ 的最大整数。  \n\n构造完 $n\\times n$ 的巨大数表后，琪露诺会进行 $q$ 次查询，每次询问数表中以  $(x_1,y_1)$ 为左下角，$(x_2,y_2)$ 为右上角的子矩阵中所有数字的和。  \n\n头脑简单的琪露诺想了一天又一天，却始终没有头绪，因此她找到了聪明的你帮她解决这个问题。  \n\n当然，由于答案可能很大，你只需要输出答案对 $998244353$ 取模后的结果即可。", "inputFormat": "第一行三个整数 $n,q,k$。  \n\n第二行 $n$ 个正整数，表示 $a_i$。  \n\n之后 $q$ 行，每行四个正整数 $x_1,y_1,x_2,y_2$，表示询问子矩阵的左下角和右上角坐标。", "outputFormat": "共 $q$ 行，每行一个整数，表示每一个询问的答案对 $998244353$ 取模后的结果。", "hint": "#### 样例 1 解释\n第一步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 0 & 3 \\cr  %\\cr是换行功能\n0 & 2 & 0  \\cr\n1 & 0 & 0\n\\end{bmatrix}\n$  \n\n进行一次第二步操作后的数表：  \n\n$\n\\begin{bmatrix}\n0 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 0\n\\end{bmatrix}\n$  \n\n进行两次第二步操作后的数表：   \n\n$\n\\begin{bmatrix}\n6 & 5 & 3 \\cr  %\\cr是换行功能\n3 & 2 & 5  \\cr\n1 & 3 & 6\n\\end{bmatrix}\n$  \n\n进行第三步操作(对 $k=2$ 向下取整)后的数表：  \n\n$\n\\begin{bmatrix}\n3 & 2 & 1 \\cr  %\\cr是换行功能\n1 & 1 & 2  \\cr\n0 & 1 & 3\n\\end{bmatrix}\n$    \n\n询问 `1 2 2 3` 的答案为 $1+1+3+2=7$  \n询问 `1 1 3 3` 的答案为 $0+1+3+1+1+2+3+2+1=14$\n\n#### 数据范围：   \n\n对于 $100\\%$ 的数据，$1 \\le n,q \\le 2\\times 10^5$  ，$0 < a_i ,k \\le 10^9$  ，$1 \\le x_1 \\le x_2 \\le n$，$1 \\le y_1 \\le y_2 \\le n$。\n\n子任务编号 | $\\max(n,q)$  | 特殊限制 | 分值\n:-: | :-: | :-: | :-:\n$1$ | $100$ | 无特殊限制 | $5$\n$2$ | $500$ | 无特殊限制 | $5$\n$3$ | $5000$ | 无特殊限制 | $10$\n$4$ | $10^5$ | $q=1$ 且询问子矩阵为整个数表 | $20$  \n$5$ | $10^5$ | $k=1$ | $15$\n$6$ | $10^5$ | $k=2$ | $15$\n$7$ | $2*10^5$ | 无特殊限制 | $30$  \n\n**注意：本题采取捆绑测试**", "locale": "zh-CN"}}}
{"pid": "P6529", "type": "P", "difficulty": 1, "samples": [["P01K02H03H04", "12 12 11 13"], ["H02H10P11H02", "GRESKA"], ["P10K10H10T01", "12 12 12 12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] KARTE", "background": "", "description": "这里有一堆牌，可惜它们似乎不全。\n\n您需要找出每种花色缺失的张数。\n\n如果有相同的扑克牌，请输出 `GRESKA`。", "inputFormat": "您要读取的是一个字符串 $s$，每三个字符为一张扑克牌。\n\n对于每一张扑克牌：\n\n- 第一位为花色，用 `P`，`K`，`H`，`T` 表示，且输出也是这个顺序。\n- 接下来两位，为这张牌的点数，个位数会在十位补零。", "outputFormat": "如果有相同的扑克牌，请输出 `GRESKA`。\n\n否则按  `P`，`K`，`H`，`T` 的顺序，输出该花色缺的牌数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n有一张花色为 `P` 的牌，一张花色为 `K` 的牌，两张花色为 `H` 的牌。\n#### 样例 2 解释\n这里有两张 `H02` ，所以输出 `GRESKA`。\n\n#### 【数据范围及限制】\n对于 $100\\%$ 的数据，保证 $1\\le \\lvert s\\rvert\\le 10^3$ 且 $s$ 中仅含有数字与 `P`，`K`，`H`，`T`，每张牌的点数 $\\in [1,13]$ 。\n\n#### 【说明】\n**本题满分 $50$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T1 KARTE。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] KARTE", "background": "", "description": "这里有一堆牌，可惜它们似乎不全。\n\n您需要找出每种花色缺失的张数。\n\n如果有相同的扑克牌，请输出 `GRESKA`。", "inputFormat": "您要读取的是一个字符串 $s$，每三个字符为一张扑克牌。\n\n对于每一张扑克牌：\n\n- 第一位为花色，用 `P`，`K`，`H`，`T` 表示，且输出也是这个顺序。\n- 接下来两位，为这张牌的点数，个位数会在十位补零。", "outputFormat": "如果有相同的扑克牌，请输出 `GRESKA`。\n\n否则按  `P`，`K`，`H`，`T` 的顺序，输出该花色缺的牌数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n有一张花色为 `P` 的牌，一张花色为 `K` 的牌，两张花色为 `H` 的牌。\n#### 样例 2 解释\n这里有两张 `H02` ，所以输出 `GRESKA`。\n\n#### 【数据范围及限制】\n对于 $100\\%$ 的数据，保证 $1\\le \\lvert s\\rvert\\le 10^3$ 且 $s$ 中仅含有数字与 `P`，`K`，`H`，`T`，每张牌的点数 $\\in [1,13]$ 。\n\n#### 【说明】\n**本题满分 $50$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T1 KARTE。", "locale": "zh-CN"}}}
{"pid": "P6530", "type": "P", "difficulty": 1, "samples": [["4\n3\n2\n3\n2 \n", "8"], ["6\n6\n4\n5\n5\n5\n5\n", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1]  AKCIJA", "background": "", "description": "书店搞活动了！\n\n现在，您可以一次性购买 $3$ 本书，而三本书中，您只需要付较贵的两本书的钱。\n\n注意，这种优惠在一次性购买 $1$ 或 $2$ 本书时，不存在。\n\n现在，您希望花最少的钱买下 $n$ 本书。\n\n请求出买下 $n$ 本书需花的最少钱数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行一个整数 $c_i$，第 $i$ 行表示第 $i$ 本书的价格。", "outputFormat": "仅一行一个整数，表示买下 $n$ 本书需花的最少钱数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n一起买价格为 $3,2,2$ 的三本书，剩下的一本书单独买即可。\n#### 样例 2 解释\n一起买价格为 $6,4,5$ 的三本书，而后一起买价格为 $5,5,5$ 的三本书。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 2\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le c_i\\le 10^5$。\n\n#### 【说明】\n**本题满分 $80$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T2 AKCIJA。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1]  AKCIJA", "background": "", "description": "书店搞活动了！\n\n现在，您可以一次性购买 $3$ 本书，而三本书中，您只需要付较贵的两本书的钱。\n\n注意，这种优惠在一次性购买 $1$ 或 $2$ 本书时，不存在。\n\n现在，您希望花最少的钱买下 $n$ 本书。\n\n请求出买下 $n$ 本书需花的最少钱数。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，一行一个整数 $c_i$，第 $i$ 行表示第 $i$ 本书的价格。", "outputFormat": "仅一行一个整数，表示买下 $n$ 本书需花的最少钱数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n一起买价格为 $3,2,2$ 的三本书，剩下的一本书单独买即可。\n#### 样例 2 解释\n一起买价格为 $6,4,5$ 的三本书，而后一起买价格为 $5,5,5$ 的三本书。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 2\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le c_i\\le 10^5$。\n\n#### 【说明】\n**本题满分 $80$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T2 AKCIJA。", "locale": "zh-CN"}}}
{"pid": "P6531", "type": "P", "difficulty": 2, "samples": [["5\n2 1 5 4 3\n", "2"], ["5\n1 2 3 4 5", "5"], ["5\n4 5 2 1 4", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] BALONI", "background": "神箭手射气球！", "description": "神箭手要射掉 $n$ 个气球，且每个气球有高度，设为 $h_i$。\n\n箭会因为气球的弹性而下坠，当射中一个气球后箭的高度会下降 $1$。\n\n神箭手可以射任意高度的箭。\n\n求出神箭手最少需射几箭。", "inputFormat": "第一行仅一个整数 $n$。\n\n接下来一行 $n$ 个整数 $h_i$。", "outputFormat": "仅一行一个整数，表示神箭手最少需射几箭。", "hint": "#### 样例 1 解释\n先射击高度为 $5$ 的气球，再射击高度为 $2$ 的气球。\n#### 数据范围及限制\n- 对于 $40\\%$ 的数据，保证 $n\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,h_i\\le 10^6$。\n#### 说明\n**本题满分 $100$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T3 BALONI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] BALONI", "background": "神箭手射气球！", "description": "神箭手要射掉 $n$ 个气球，且每个气球有高度，设为 $h_i$。\n\n箭会因为气球的弹性而下坠，当射中一个气球后箭的高度会下降 $1$。\n\n神箭手可以射任意高度的箭。\n\n求出神箭手最少需射几箭。", "inputFormat": "第一行仅一个整数 $n$。\n\n接下来一行 $n$ 个整数 $h_i$。", "outputFormat": "仅一行一个整数，表示神箭手最少需射几箭。", "hint": "#### 样例 1 解释\n先射击高度为 $5$ 的气球，再射击高度为 $2$ 的气球。\n#### 数据范围及限制\n- 对于 $40\\%$ 的数据，保证 $n\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,h_i\\le 10^6$。\n#### 说明\n**本题满分 $100$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T3 BALONI。", "locale": "zh-CN"}}}
{"pid": "P6532", "type": "P", "difficulty": 5, "samples": [["2 2 2\n1 1 1\n2 2 1\n2 2 2 1\n1 1 1 2 \n", "4\n0 "], ["2 2 2\n1 1 1\n2 2 2\n2 2 2 1\n1 1 1 2 \n", "4\n2"], ["3 3 4\n1 1 1\n2 2 2\n2 3 3\n2 3 3 3\n3 3 3 1\n1 1 1 2\n3 1 3 2 \n", "6\n7\n7\n9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] TOPOVI", "background": "", "description": "这里有一个 $n\\times n$ 的棋盘，棋盘上有 $k$ 个棋子，每个棋子有一个武力值 $w_i$。\n\n我们做出如下规定：\n- 一个棋子的攻击范围是它所在的这一行与这一列，不包括它自己。\n- 一个棋盘上的单元格可以被攻击，当且仅当能攻击到它的所有棋子的武力值的异或和大于 $0$。\n\n现在我们会进行 $p$ 次操作，请求出每次操作后会被攻击到的格子总数。", "inputFormat": "第一行三个整数 $n,k,p$。\n\n接下来 $k$ 行，一行三个整数 $x_i,y_i,w_i$，第 $i$ 行表示有一个棋子在 $(x_i,y_i)$ 的位置，武力值为 $w_i$。\n\n接下来 $p$ 行，一行四个整数 $r_1,c_1,r_2,c_2$，表示将位于 $(r_1,c_1)$ 的棋子移至 $(r_2,c_2)$。", "outputFormat": "共 $p$ 行，一行一个整数，第 $i$ 行表示第 $i$ 次操作后会被攻击到的格子总数。", "hint": "#### 数据范围及限制\n- 对于 $25\\%$ 的数据，保证 $n,k\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^9$，$1\\le k\\le 10^5$，$1\\le p\\le 10^5$，$1\\le x_i,y_i,r_1,c_1,r_2,c_2\\le n$，$1\\le w_i\\le 10^9$，在移动过程中棋子不会重叠。\n\n#### 说明\n**本题满分 $120$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T4 TOPOVI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] TOPOVI", "background": "", "description": "这里有一个 $n\\times n$ 的棋盘，棋盘上有 $k$ 个棋子，每个棋子有一个武力值 $w_i$。\n\n我们做出如下规定：\n- 一个棋子的攻击范围是它所在的这一行与这一列，不包括它自己。\n- 一个棋盘上的单元格可以被攻击，当且仅当能攻击到它的所有棋子的武力值的异或和大于 $0$。\n\n现在我们会进行 $p$ 次操作，请求出每次操作后会被攻击到的格子总数。", "inputFormat": "第一行三个整数 $n,k,p$。\n\n接下来 $k$ 行，一行三个整数 $x_i,y_i,w_i$，第 $i$ 行表示有一个棋子在 $(x_i,y_i)$ 的位置，武力值为 $w_i$。\n\n接下来 $p$ 行，一行四个整数 $r_1,c_1,r_2,c_2$，表示将位于 $(r_1,c_1)$ 的棋子移至 $(r_2,c_2)$。", "outputFormat": "共 $p$ 行，一行一个整数，第 $i$ 行表示第 $i$ 次操作后会被攻击到的格子总数。", "hint": "#### 数据范围及限制\n- 对于 $25\\%$ 的数据，保证 $n,k\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^9$，$1\\le k\\le 10^5$，$1\\le p\\le 10^5$，$1\\le x_i,y_i,r_1,c_1,r_2,c_2\\le n$，$1\\le w_i\\le 10^9$，在移动过程中棋子不会重叠。\n\n#### 说明\n**本题满分 $120$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T4 TOPOVI。", "locale": "zh-CN"}}}
{"pid": "P6533", "type": "P", "difficulty": 6, "samples": [["2 2\n1 1\n1 1\n1\n1 1 1 \n", "1"], ["2 2\n1 2\n2 3\n2\n1 2 2\n2 2 2", "4\n4"], ["4 2\n1 2 3 4\n1 2 3 4\n1\n4 1 1\n", "66"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "线段树", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] RELATIVNOST", "background": "", "description": "您是一位计数大师，有一天您的朋友 Luka 出了一道问题来刁难您。\n\nLuka 是一位勤劳的画家，他的画很好，所以会有 $n$ 个人来买他的画。\n\n画分两种，黑白画与彩色画。\n\nLuka 十分勤劳，所以他有无穷多的画。\n\nLuka 讨厌出售黑白画，所以他希望至少有 $c$ 个人会买走一张彩色画。\n\n第 $i$ 个人会至多购买 $a_i$ 张彩色画，$b_i$ 张黑白画，且它们会至少购买一幅画。\n\n但是，客户们只能单独购买彩色画或黑白画。\n\n客户们会不断改变 $a_i$ 与 $b_i$，这种改变会持续 $q$ 次。\n\n客户以 $1\\sim n$ 编号。\n\n您需要求出在每次改变之后，Luka 会有几种方案满足所有需求。\n\n为了防止输出太大，Luka 只需要您告诉他方案数 $\\bmod\\ 10^4+7$ 的值。", "inputFormat": "第一行为两个整数 $n,c$。\n\n第二行为 $n$ 个整数 $a_i$。\n\n第三行为 $n$ 个整数 $b_i$。\n\n第四行为一个整数 $q$。\n\n接下来 $q$ 行，一行三个整数 $p_i,a_{p_i},b_{p_i}$，第 $i$ 行表示标号 $p_i$ 的顾客将 $a_i$ 和 $b_i$ 更换成 $a_{p_i}$ 和 $b_{p_i}$。", "outputFormat": "共 $q$ 行，一行一个整数，第 $i$ 行的值表示进行了第 $i$ 次改变后，满足条件的方案数 $\\bmod\\ 10^4+7$ 的值。", "hint": "#### 样例 1 说明\n第一次改变后，我们只有唯一的一种方案，就是向两位用户都出售一张彩色画。\n\n#### 数据范围及限制\n- 对于 $30\\%$ 的数据，保证 $n,q\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,q\\le 10^5$，$1\\le c\\le 20$，$1\\le a_i,b_i,a_{p_i},b_{p_i}\\le 10^9$，$1\\le p_i\\le n$。\n\n#### 说明\n**本题满分 $140$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T5 RELATIVNOST。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] RELATIVNOST", "background": "", "description": "您是一位计数大师，有一天您的朋友 Luka 出了一道问题来刁难您。\n\nLuka 是一位勤劳的画家，他的画很好，所以会有 $n$ 个人来买他的画。\n\n画分两种，黑白画与彩色画。\n\nLuka 十分勤劳，所以他有无穷多的画。\n\nLuka 讨厌出售黑白画，所以他希望至少有 $c$ 个人会买走一张彩色画。\n\n第 $i$ 个人会至多购买 $a_i$ 张彩色画，$b_i$ 张黑白画，且它们会至少购买一幅画。\n\n但是，客户们只能单独购买彩色画或黑白画。\n\n客户们会不断改变 $a_i$ 与 $b_i$，这种改变会持续 $q$ 次。\n\n客户以 $1\\sim n$ 编号。\n\n您需要求出在每次改变之后，Luka 会有几种方案满足所有需求。\n\n为了防止输出太大，Luka 只需要您告诉他方案数 $\\bmod\\ 10^4+7$ 的值。", "inputFormat": "第一行为两个整数 $n,c$。\n\n第二行为 $n$ 个整数 $a_i$。\n\n第三行为 $n$ 个整数 $b_i$。\n\n第四行为一个整数 $q$。\n\n接下来 $q$ 行，一行三个整数 $p_i,a_{p_i},b_{p_i}$，第 $i$ 行表示标号 $p_i$ 的顾客将 $a_i$ 和 $b_i$ 更换成 $a_{p_i}$ 和 $b_{p_i}$。", "outputFormat": "共 $q$ 行，一行一个整数，第 $i$ 行的值表示进行了第 $i$ 次改变后，满足条件的方案数 $\\bmod\\ 10^4+7$ 的值。", "hint": "#### 样例 1 说明\n第一次改变后，我们只有唯一的一种方案，就是向两位用户都出售一张彩色画。\n\n#### 数据范围及限制\n- 对于 $30\\%$ 的数据，保证 $n,q\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,q\\le 10^5$，$1\\le c\\le 20$，$1\\le a_i,b_i,a_{p_i},b_{p_i}\\le 10^9$，$1\\le p_i\\le n$。\n\n#### 说明\n**本题满分 $140$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T5 RELATIVNOST。", "locale": "zh-CN"}}}
{"pid": "P6534", "type": "P", "difficulty": 6, "samples": [["4\n2 1 3 4\n1 2\n1 3\n3 4 ", "6"], ["4\n3 4 5 6\n1 2\n1 3\n2 4", "3"], ["6\n5 3 6 4 2 1\n1 2\n1 3\n1 4\n2 5\n5 6 ", "10"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #1] UZASTOPNI", "background": "", "description": "这里有一棵有 $n$ 个点的树，每一个树上的节点有一个权值，即为 $v_i$，以 $1$ 为根，点以 $1\\sim n$ 编号。\n\n现在，我们想从选出一些点，并满足以下条件：\n\n1. 一个点的父亲点若未被选择则其不能被选择。\n1. 所选点的集合内不能有相同的权值。\n1. 对于每一个选择的点，其子树中所有被选择点的权值必须可以构成公差为 $1$ 的等差数列。\n\n您只需要输出满足上述条件的方案个数。\n\n**注意：这里的方案指所选的数的集合不同的方案。**", "inputFormat": "第一行为一个整数 $n$。\n\n接下来一行 $n$ 个整数 $v_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，第 $i$ 行描述树上有一条以 $a_i$ 为父亲，$b_i$ 为儿子的边。 ", "outputFormat": "仅一行一个整数，表示满足上述条件的方案个数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n如下为选点的权值的六种情况：\n\n$\\{2\\},\\{2,3\\},\\{2,3,4\\},\\{1,2,3,4\\},\\{1,2\\},\\{1,2,3\\}$。\n\n#### 样例 2 解释\n如下为选点的权值的三种情况：\n\n$\\{3\\},\\{3,4\\},\\{3,4,5\\}$。\n\n注意到不能选权值为 $6$ 的点，因为其父亲点与其构成的子树 $\\{4,6\\}$ 不符条件。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^4$，$1\\le v_i\\le 100$，$1\\le a_i,b_i\\le n$。\n#### 【说明】\n**本题满分 $160$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T6 UZASTOPNI。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #1] UZASTOPNI", "background": "", "description": "这里有一棵有 $n$ 个点的树，每一个树上的节点有一个权值，即为 $v_i$，以 $1$ 为根，点以 $1\\sim n$ 编号。\n\n现在，我们想从选出一些点，并满足以下条件：\n\n1. 一个点的父亲点若未被选择则其不能被选择。\n1. 所选点的集合内不能有相同的权值。\n1. 对于每一个选择的点，其子树中所有被选择点的权值必须可以构成公差为 $1$ 的等差数列。\n\n您只需要输出满足上述条件的方案个数。\n\n**注意：这里的方案指所选的数的集合不同的方案。**", "inputFormat": "第一行为一个整数 $n$。\n\n接下来一行 $n$ 个整数 $v_i$。\n\n接下来 $n-1$ 行，一行两个整数 $a_i,b_i$，第 $i$ 行描述树上有一条以 $a_i$ 为父亲，$b_i$ 为儿子的边。 ", "outputFormat": "仅一行一个整数，表示满足上述条件的方案个数。", "hint": "#### 【样例解释】\n#### 样例 1 解释\n如下为选点的权值的六种情况：\n\n$\\{2\\},\\{2,3\\},\\{2,3,4\\},\\{1,2,3,4\\},\\{1,2\\},\\{1,2,3\\}$。\n\n#### 样例 2 解释\n如下为选点的权值的三种情况：\n\n$\\{3\\},\\{3,4\\},\\{3,4,5\\}$。\n\n注意到不能选权值为 $6$ 的点，因为其父亲点与其构成的子树 $\\{4,6\\}$ 不符条件。\n#### 【数据范围及限制】\n- 对于 $50\\%$ 的数据，保证 $n\\le 100$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^4$，$1\\le v_i\\le 100$，$1\\le a_i,b_i\\le n$。\n#### 【说明】\n**本题满分 $160$ 分。**\n\n本题译自 [Croatian Open Competition in Informatics 2015/2016](https://hsin.hr/coci/archive/2015_2016) [Contest #1](https://hsin.hr/coci/archive/2015_2016/contest1_tasks.pdf) T6 UZASTOPNI。", "locale": "zh-CN"}}}
{"pid": "P6535", "type": "P", "difficulty": 2, "samples": [["18\nbabic\nkeksic\nboric\nbukic\nsarmic\nbalic\nkruzic\nhrenovkic\nbeslic\nboksic\nkrafnic\npecivic\nklavirkovic\nkukumaric\nsunkic\nkolacic\nkovacic\nprijestolonasljednikovic ", "bk "], ["6\nmichael\njordan\nlebron\njames\nkobe\nbryant ", "PREDAJA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "字符串", "2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] TRENER", "background": "有一些字符串，需要你按特定要求统计。", "description": "给出 $n$ 个字符串，每个字符串都有其对应首字母。\n\n输出首字母对应字符串数量不低于 $5$ 的首字母个数。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n$ 行每行包含一个仅由小写字母组成的字符串，长度不超过 $30$ 个字符。", "outputFormat": "若不存在符合题目要求的首字母，输出 `PREDAJA`。\n\n否则按字典序输出所有首字母，其中无空格。", "hint": "#### 样例 1 解释\n符合条件的首字母是 `k` 和 `b`。\n\n------\n#### 【数据规模与约定】\n对于 $100\\% $ 的数据，$1\\le n\\le 150$。\n\n------------\n#### 【说明】\n$\\mathtt{Subtask\\ 0}$ 为样例。\n\n$\\mathtt{Subtask\\ 1\\sim 2}$ 无特殊限制。\n\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  T1 _TRENER_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] TRENER", "background": "有一些字符串，需要你按特定要求统计。", "description": "给出 $n$ 个字符串，每个字符串都有其对应首字母。\n\n输出首字母对应字符串数量不低于 $5$ 的首字母个数。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n$ 行每行包含一个仅由小写字母组成的字符串，长度不超过 $30$ 个字符。", "outputFormat": "若不存在符合题目要求的首字母，输出 `PREDAJA`。\n\n否则按字典序输出所有首字母，其中无空格。", "hint": "#### 样例 1 解释\n符合条件的首字母是 `k` 和 `b`。\n\n------\n#### 【数据规模与约定】\n对于 $100\\% $ 的数据，$1\\le n\\le 150$。\n\n------------\n#### 【说明】\n$\\mathtt{Subtask\\ 0}$ 为样例。\n\n$\\mathtt{Subtask\\ 1\\sim 2}$ 无特殊限制。\n\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  T1 _TRENER_。**", "locale": "zh-CN"}}}
{"pid": "P6536", "type": "P", "difficulty": 2, "samples": [["2 6", "4"], ["3 4", "3"], ["6 2", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] KUŠAČ", "background": "顿顿邀请你来均分香肠啦。", "description": "共有 $n$ 个香肠，需将其平均分给 $m$ 个品尝者。\n\n每刀可将香肠分为两份，要求用尽可能少的刀数切出符合要求的香肠，问至少要切几刀。", "inputFormat": "输入仅一行，两个正整数 $n$ 和 $m$。", "outputFormat": "输出一行，表示最少要切的刀数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n有 $2$ 个香肠和 $6$ 个品尝者，将每个香肠三等分，共 $4$ 刀。\n#### 样例 2 解释\n有 $3$ 个香肠，$4$ 个品尝者。将香肠切成 $\\tfrac{3}{4}$。前三人拿到 $\\tfrac{3}{4}$，最后一人拿到 $3\\times \\tfrac{1}{4}$。\n\n---\n\n#### 【数据规模与约定】\n对于全部的测试点，保证 $1\\le n,m\\le 100$。\n\n---\n\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T2 KUŠAČ_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] KUŠAČ", "background": "顿顿邀请你来均分香肠啦。", "description": "共有 $n$ 个香肠，需将其平均分给 $m$ 个品尝者。\n\n每刀可将香肠分为两份，要求用尽可能少的刀数切出符合要求的香肠，问至少要切几刀。", "inputFormat": "输入仅一行，两个正整数 $n$ 和 $m$。", "outputFormat": "输出一行，表示最少要切的刀数。", "hint": "#### 【样例解释】\n\n#### 样例 1 解释\n有 $2$ 个香肠和 $6$ 个品尝者，将每个香肠三等分，共 $4$ 刀。\n#### 样例 2 解释\n有 $3$ 个香肠，$4$ 个品尝者。将香肠切成 $\\tfrac{3}{4}$。前三人拿到 $\\tfrac{3}{4}$，最后一人拿到 $3\\times \\tfrac{1}{4}$。\n\n---\n\n#### 【数据规模与约定】\n对于全部的测试点，保证 $1\\le n,m\\le 100$。\n\n---\n\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T2 KUŠAČ_。**", "locale": "zh-CN"}}}
{"pid": "P6537", "type": "P", "difficulty": 4, "samples": [["3\n1 2 3\n2 3 4\n3 4 8", "7"], ["4\n-1 -1 -1 -1\n1 2 3 4\n1 2 3 4\n1 2 3 4", "10"], ["5\n-1 -1 -1 -1 -1\n-2 -2 -2 -2 -2\n-3 -3 -3 -3 -3\n-4 -4 -4 -4 -4\n-5 -5 -5 -5 -5", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "枚举", "前缀和", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] RATAR", "background": "", "description": "给出一个 $n\\times n$ 的矩阵，问有多少对子矩阵有且仅有一个公共顶点，并且元素和相等。\n\n请注意，这里的**公共顶点**是指**顶点相交**，而不是**存在一个公共格子**。请参考样例 1 来理解“**公共顶点**”的含义。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n接下来 $n$ 行每行 $n$ 个整数，表示为 $a_{i,j}$，**可能有负数**。", "outputFormat": "输出仅一行，符合条件的方案数。", "hint": "#### 数据范围\n- 对于 $40\\%$ 的数据，$1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。\n\n#### 样例 1 解释\n可能的矩形对如下：\n\n$(0,0)-(1,1)$ 和 $(2,2)-(2,2)$； \n\n$(1,0)-(1,0)$ 和 $(0,1)-(0,1)$；\n\n$(2,0)-(2,0)$ 和 $(1,1)-(1,1)$；\n\n$(1,1)-(1,1)$ 和 $(0,2)-(0,2)$；\n\n$(2,1)-(2,1)$ 和 $(1,2)-(1,2)$；\n\n$(2,0)-(2,1)$ 和 $(0,2)-(1,2)$；\n\n$(1,0)-(2,0)$ 和 $(0,1)-(0,2)$。\n\n共计 $7$ **对**，所以输出 $7$ 。\n#### 说明\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T3 RATAR_。**\n\n------------\n$\\mathtt{Subtask \\ 0}$ 为样例数据。（10 pts）\n\n$\\mathtt{Subtask \\ 1}$ 中所有的数据满足 $1\\le n\\le 10$。 （30 pts）\n\n$\\mathtt{Subtask \\ 2}$ 中所有的数据满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。**请注意本子任务的时限**。（60 pts）", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] RATAR", "background": "", "description": "给出一个 $n\\times n$ 的矩阵，问有多少对子矩阵有且仅有一个公共顶点，并且元素和相等。\n\n请注意，这里的**公共顶点**是指**顶点相交**，而不是**存在一个公共格子**。请参考样例 1 来理解“**公共顶点**”的含义。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n接下来 $n$ 行每行 $n$ 个整数，表示为 $a_{i,j}$，**可能有负数**。", "outputFormat": "输出仅一行，符合条件的方案数。", "hint": "#### 数据范围\n- 对于 $40\\%$ 的数据，$1\\le n\\le 10$。\n- 对于 $100\\%$ 的数据，满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。\n\n#### 样例 1 解释\n可能的矩形对如下：\n\n$(0,0)-(1,1)$ 和 $(2,2)-(2,2)$； \n\n$(1,0)-(1,0)$ 和 $(0,1)-(0,1)$；\n\n$(2,0)-(2,0)$ 和 $(1,1)-(1,1)$；\n\n$(1,1)-(1,1)$ 和 $(0,2)-(0,2)$；\n\n$(2,1)-(2,1)$ 和 $(1,2)-(1,2)$；\n\n$(2,0)-(2,1)$ 和 $(0,2)-(1,2)$；\n\n$(1,0)-(2,0)$ 和 $(0,1)-(0,2)$。\n\n共计 $7$ **对**，所以输出 $7$ 。\n#### 说明\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T3 RATAR_。**\n\n------------\n$\\mathtt{Subtask \\ 0}$ 为样例数据。（10 pts）\n\n$\\mathtt{Subtask \\ 1}$ 中所有的数据满足 $1\\le n\\le 10$。 （30 pts）\n\n$\\mathtt{Subtask \\ 2}$ 中所有的数据满足 $1\\le n \\le 50$，$- 1000\\le a_{i,j}\\le 1000$。**请注意本子任务的时限**。（60 pts）", "locale": "zh-CN"}}}
{"pid": "P6538", "type": "P", "difficulty": 3, "samples": [["2 1\n5 10\n100 100\n11 ", "10"], ["3 2\n1 65\n5 23\n2 99\n10\n2", "164"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] LOPOV", "background": "有一些物品和一个小偷。", "description": "有 $N$ 件物品，每件物品有质量 $M_i$ 和价值 $V_i$。\n\nMirko 有 $K$ 个袋子，每袋可容纳的最大质量为 $C_i$。\n\n每袋仅能放一个物品，问最多可以带走多少价值的物品？", "inputFormat": "第一行包含两个正整数 $N$ 和 $K$。\n\n接下来 $N$ 行中的每行包含两个正整数 $M_i$ 和 $V_i$。\n\n接下来 $K$ 行中的每行包含一个正整数 $C_i$。", "outputFormat": "输出一行，能拿走的最大物品总价值。", "hint": "#### 【数据规模与约定】\n- $1\\le N,K\\le 3\\times 10^5$。\n- $1\\le M_i,V_i\\le 10^6$。\n- $1\\le C_i\\le 10^8$。\n\n#### 样例 2 解释\nMirko 将第一件物品放在第二袋中，将第三件物品放在第一袋中。\n\n-------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T4 LOPOV_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] LOPOV", "background": "有一些物品和一个小偷。", "description": "有 $N$ 件物品，每件物品有质量 $M_i$ 和价值 $V_i$。\n\nMirko 有 $K$ 个袋子，每袋可容纳的最大质量为 $C_i$。\n\n每袋仅能放一个物品，问最多可以带走多少价值的物品？", "inputFormat": "第一行包含两个正整数 $N$ 和 $K$。\n\n接下来 $N$ 行中的每行包含两个正整数 $M_i$ 和 $V_i$。\n\n接下来 $K$ 行中的每行包含一个正整数 $C_i$。", "outputFormat": "输出一行，能拿走的最大物品总价值。", "hint": "#### 【数据规模与约定】\n- $1\\le N,K\\le 3\\times 10^5$。\n- $1\\le M_i,V_i\\le 10^6$。\n- $1\\le C_i\\le 10^8$。\n\n#### 样例 2 解释\nMirko 将第一件物品放在第二袋中，将第三件物品放在第一袋中。\n\n-------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T4 LOPOV_。**", "locale": "zh-CN"}}}
{"pid": "P6539", "type": "P", "difficulty": 3, "samples": [["3\n1 2 4", "4"], ["2\n1 5", "2"], ["5\n4 6 3 8 9", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] ORGANIZATOR", "background": "有一场比赛，要求你算出参加决赛的人数。", "description": "参加决赛的人数满足以下描述：\n\n现有 $n$ 个整数，分别为 $A_1,A_2,\\cdots,A_n$。\n\n需要找到一个正整数 $x$，假设有 $m(m \\geq 2)$ 个 $A_i$ 是 $x$ 的倍数，则参加决赛的人数是 $s$，他的值为 $m\\cdot x$。\n\n请注意，对于一个正整数 $x$，如果其对应的 $m$ 值为 $1$，则该方案不合法。\n\n请找出令 $s$ 尽可能大的 $x$，并输出 $s$。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n输入的第二行包含 $n$ 个用空格隔开的整数 $A_i$。", "outputFormat": "输出一个整数 $s$。", "hint": "#### 样例 1 解释\n令 $x=2$，此时 $A_{2,3}$ 满足条件，答案为 $2\\times 2=4$。\n\n#### 【数据规模与约定】\n- 对于 $30\\%$ 的数据，$n<1000$。\n- 对于 $100\\%$ 的数据，满足 $2\\le n\\le 2\\times 10^5$，$1\\le A_i\\le 2\\times 10^6$。\n\n-----\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T5 ORGANIZATOR_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] ORGANIZATOR", "background": "有一场比赛，要求你算出参加决赛的人数。", "description": "参加决赛的人数满足以下描述：\n\n现有 $n$ 个整数，分别为 $A_1,A_2,\\cdots,A_n$。\n\n需要找到一个正整数 $x$，假设有 $m(m \\geq 2)$ 个 $A_i$ 是 $x$ 的倍数，则参加决赛的人数是 $s$，他的值为 $m\\cdot x$。\n\n请注意，对于一个正整数 $x$，如果其对应的 $m$ 值为 $1$，则该方案不合法。\n\n请找出令 $s$ 尽可能大的 $x$，并输出 $s$。", "inputFormat": "输入的第一行包含正整数 $n$。\n\n输入的第二行包含 $n$ 个用空格隔开的整数 $A_i$。", "outputFormat": "输出一个整数 $s$。", "hint": "#### 样例 1 解释\n令 $x=2$，此时 $A_{2,3}$ 满足条件，答案为 $2\\times 2=4$。\n\n#### 【数据规模与约定】\n- 对于 $30\\%$ 的数据，$n<1000$。\n- 对于 $100\\%$ 的数据，满足 $2\\le n\\le 2\\times 10^5$，$1\\le A_i\\le 2\\times 10^6$。\n\n-----\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T5 ORGANIZATOR_。**", "locale": "zh-CN"}}}
{"pid": "P6540", "type": "P", "difficulty": 6, "samples": [["7\n1090901\n4\n87650\n0901\n109\n090 ", "7\n10\n3\n4"], ["10\n5821052680\n4\n210526\n2105\n582\n105268", "8\n6\n3\n9"], ["3\n001\n1\n11", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["字符串", "2013", "线段树", "树状数组", "后缀自动机 SAM", "后缀数组 SA", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #1] SLASTIČAR", "background": "你需要比较一些序列号。", "description": "现有 $M$ 个由数字 $0$ 到 $9$ 组成的短序列号和一个长度为 $N$ 的长序列号。\n\n检查序列号 $A$ 是否包含长度为 $L$ 的序列号 $B$ 的过程如下：\n\n- 将 $A$ 从位置 $1$ 到 $L$ 逐位与 $B$ 比较，一找到不同就将搜索段整体向后移，如果确定相等则停止比较。\n\n- 将搜索段后移意为把 $x$ 到 $y$ 的搜索区域后移为 $x+1$ 和 $y+1$。\n\n- 若剩下用于比较的位数不够，则在字符串末尾填充 `#`。如字符串为 `563232`，从位置 $4$ 到 $10$ 的填充为 `232####`。\n\n- 若尝试了所有段均不匹配则停止比较。\n\n对于每个短序列号，输出停止比较前比较的次数。", "inputFormat": "输入的第一行是正整数 $N$。\n\n输入的第二行是一个长度为 $N$ 的长序列号。\n\n输入的第三行包含正整数 $M$。\n\n接下来 $M$ 行每行包含一个长度不超过 $10^5$ 的短序列号。\n\n短序列号总长度不超过 $3\\times 10^6$。", "outputFormat": "输出 $M$ 个整数，即对于第 $i$ 个短序列号所需的比较次数。", "hint": "#### 【数据规模与约定】\n- 对于 $20\\%$ 的数据，$1\\le N\\le 10^3$，$1\\le M\\le 500$，任意短序列号长度均不超过 $10^3$。\n- 对于 $100\\%$ 的数据，满足 $1\\le N\\le 10^5$，$1\\le M\\le 5\\times 10^4$。\n- 对于任意序列号中的一位字符 $c$，满足 $c\\in\\{0,1,2,3,4,5,6,7,8,9 \\}$。\n\n#### 【样例解释】\n\n#### 样例 1 解释\n\n第一个序列号：\n- 机器人为每个段查找不同的第一位数字，总共进行 $7$ 次比较。\n\n第二个序列号：\n- 尝试第一个位置，立即发现差异，$1$ 次比较。\n- 尝试第二个位置，找到第四个数字的差异，$4$ 次比较。\n- 尝试第三个位置，立即找到差异，$1$ 次比较。\n- 尝试第四个位置，找到匹配，$4$个比较。 \n- 总计 $10$ 次比较。\n\n第三序列号：\n- 立即找到匹配项，总计 $3$ 个比较。\n\n第四个序列号：\n- 在第二个位置找到匹配项，总计 $1+3=4$ 个比较。\n\n#### 样例 3 解释\n按顺序将序列号 `11` 与段 `00`，$1$ 次比较，`01`，$1$ 次比较，和`1#`，$2$ 次比较，总计 $4$ 次比较。\n\n--------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T6 SLASTIČAR_。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #1] SLASTIČAR", "background": "你需要比较一些序列号。", "description": "现有 $M$ 个由数字 $0$ 到 $9$ 组成的短序列号和一个长度为 $N$ 的长序列号。\n\n检查序列号 $A$ 是否包含长度为 $L$ 的序列号 $B$ 的过程如下：\n\n- 将 $A$ 从位置 $1$ 到 $L$ 逐位与 $B$ 比较，一找到不同就将搜索段整体向后移，如果确定相等则停止比较。\n\n- 将搜索段后移意为把 $x$ 到 $y$ 的搜索区域后移为 $x+1$ 和 $y+1$。\n\n- 若剩下用于比较的位数不够，则在字符串末尾填充 `#`。如字符串为 `563232`，从位置 $4$ 到 $10$ 的填充为 `232####`。\n\n- 若尝试了所有段均不匹配则停止比较。\n\n对于每个短序列号，输出停止比较前比较的次数。", "inputFormat": "输入的第一行是正整数 $N$。\n\n输入的第二行是一个长度为 $N$ 的长序列号。\n\n输入的第三行包含正整数 $M$。\n\n接下来 $M$ 行每行包含一个长度不超过 $10^5$ 的短序列号。\n\n短序列号总长度不超过 $3\\times 10^6$。", "outputFormat": "输出 $M$ 个整数，即对于第 $i$ 个短序列号所需的比较次数。", "hint": "#### 【数据规模与约定】\n- 对于 $20\\%$ 的数据，$1\\le N\\le 10^3$，$1\\le M\\le 500$，任意短序列号长度均不超过 $10^3$。\n- 对于 $100\\%$ 的数据，满足 $1\\le N\\le 10^5$，$1\\le M\\le 5\\times 10^4$。\n- 对于任意序列号中的一位字符 $c$，满足 $c\\in\\{0,1,2,3,4,5,6,7,8,9 \\}$。\n\n#### 【样例解释】\n\n#### 样例 1 解释\n\n第一个序列号：\n- 机器人为每个段查找不同的第一位数字，总共进行 $7$ 次比较。\n\n第二个序列号：\n- 尝试第一个位置，立即发现差异，$1$ 次比较。\n- 尝试第二个位置，找到第四个数字的差异，$4$ 次比较。\n- 尝试第三个位置，立即找到差异，$1$ 次比较。\n- 尝试第四个位置，找到匹配，$4$个比较。 \n- 总计 $10$ 次比较。\n\n第三序列号：\n- 立即找到匹配项，总计 $3$ 个比较。\n\n第四个序列号：\n- 在第二个位置找到匹配项，总计 $1+3=4$ 个比较。\n\n#### 样例 3 解释\n按顺序将序列号 `11` 与段 `00`，$1$ 次比较，`01`，$1$ 次比较，和`1#`，$2$ 次比较，总计 $4$ 次比较。\n\n--------\n#### 【说明】\n**题目译自 [COCI2013-2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #1](https://hsin.hr/coci/archive/2013_2014/contest1_tasks.pdf)  _T6 SLASTIČAR_。**", "locale": "zh-CN"}}}
{"pid": "P6541", "type": "P", "difficulty": 7, "samples": [["4 100 1\n1 3\n3 4\n3 2", "Correct"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2018", "交互题", "Special Judge", "WC"], "title": "[WC2018] 即时战略", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序里加入以下函数声明语句：\n\n```cpp\nint explore(int,int);\n```\n\n2. 程序开头不用，也不应该包含 `rts.h` 头文件。\n3. 仅支持 `C++`（含 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "小 M 在玩一个即时战略 (Real Time Strategy) 游戏。不同于大多数同类游戏，这个游戏的地图是树形的。也就是说，地图可以用一个由 $n$ 个结点，$n - 1$ 条边构成的连通图来表示。这些结点被编号为 $1 \\sim n$。\n\n每个结点有两种可能的状态：「已知的」或「未知的」。游戏开始时，只有 $1$ 号结点是已知的。  \n在游戏的过程中，小 M 可以尝试探索更多的结点。具体来说，小 M 每次操作时需要选择一个已知的结点 $x$，和一个不同于 $x$ 的任意结点 $y$（结点 $y$ 可以是未知的）。然后游戏的自动寻路系统会给出 $x$ 到 $y$ 的最短路径上的第二个结点 $z$，也就是从 $x$ 走到 $y$ 的最短路径上与 $x$ 相邻的结点。此时，如果结点 $z$ 是未知的，小 M 会将它标记为已知的。\n\n这个游戏的目标是：利用至多 $T$ 次探索操作，让所有结点的状态都成为已知的。然而小 M 还是这个游戏的新手，她希望得到你的帮助。\n\n**为了让游戏过程更加容易，小 M 给你提供了这个游戏的交互库，具体见「任务描述」和「实现细节」。**  \n**另外，小 M 也提供了一些游戏的提示，具体见题目的最后一节「提示」。**\n\n### 任务介绍\n你需要实现一个函数 `play`，以帮助小 M 完成游戏的目标。\n\n* `play(n, T, dataType)`\n\t* `n` 为树的结点个数；\n\t* `T` 为探索操作的次数限制；\n\t* `dataType` 为该测试点的数据类型，具体见「数据规模和约定」。\n\n在每个测试点中，交互库都会调用恰好一次 `play` 函数。该函数被调用之前，游戏处于刚开始的状态。\n\n你可以调用函数 `explore` 来帮助你在游戏中探索更多结点，但是这个函数的调用次数不能超过 $T$ 次。\n\n* `explore(x, y)`\n\t* `x` 为一个已知的结点；\n\t* `y` 为一个不同于 $x$ 的任意结点（可以不是已知的结点）；\n\t* 这个函数会返回结点 $x$ 到 $y$ 的最短路径上的第二个结点的编号。\n\n在函数 `play` 返回之后，交互库会检查游戏的状态：只有当每个结点都是已知的，才算游戏的目标完成。\n\n### 实现方法\n你需要且只能提交一个源文件 `rts.cpp/c/pas` 实现上述函数，且遵循下面的命名和接口。\n\n**对 C/C++ 语言的选手：**\n\n源代码中需要包含头文件 `rts.h`（**请注意在洛谷提交时不用包含该头文件**）。\n\n你需要实现的函数 `play`：\n```\nvoid play(int n, int T, int dataType);\n```\n\n函数 `explore` 的接口信息如下：\n```\nint explore(int x, int y);\n```\n\n**对 Pascal 语言的选手：**\n\n你需要使用单元 `graderhelperlib`。\n\n你需要实现的函数 `play`：\n```\nprocedure play(n, T, dataType : longint);\n```\n\n函数 `explore` 的接口信息如下：\n```\nfunction explore(x, y : longint) : longint;\n```", "inputFormat": "第一行包含三个整数 $n$, $T$, $\\texttt{dataType}$，需要保证 $2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n\n接下来 $n - 1$ 行，每行两个整数 $u$, $v$，需要保证 $1 \\leqslant u, v \\leqslant n$ 且 $u \\ne v$，表示一条 $u$ 和 $v$ 之间的边。\n\n你的输入需要保证这 $n - 1$ 条边构成一棵树。", "outputFormat": "交互库会判断游戏目标是否完成。如果完成，则会输出 $\\texttt{Correct}$，否则会输出相应的错误信息。", "hint": "### 样例解释\n\n这是使用试题目录的 grader 和正确的源程序得到的输出文件。\n\n对于此样例，一种可能的 `explore` 函数的调用顺序为：\n\n* `explore(1, 2)`，返回 3\n* `explore(3, 2)`，返回 2\n* `explore(2, 4)`，返回 3\n* `explore(3, 4)`，返回 4\n\n### 如何测试你的程序\n\n**对 C/C++ 语言的选手：**\n\n你需要在本题目录下使用如下命令编译得到可执行程序：\n\n`g++ grader.cpp rts.cpp -o rts -O2`\n\n可执行文件将从**标准输入**读入数据。\n\n读入完成之后，交互库将调用 `play` 函数。如果此时你调用 `explore` 的次数超过 $T$ 次，则交互库会输出详细的错误信息，并退出。\n\n接下来交互库会判断游戏目标是否完成。如果完成，则会输出 \"$\\texttt{Correct}$\"，否则会输出相应的错误信息。\n\n如果传入 `explore` 函数的参数非法（$x,y$ 不在 $1$ 到 $n$ 的范围内，或 $x$ 不是已知结点，或 $x=y$），那么交互库会输出详细的错误信息，并退出。\n\n如果要使用自己的输入文件进行测试，请保证输入文件符合以上格式要求，否则不保证程序能正确运行。\n\n### 如何使用样例源代码\n\n本题目录下，有针对每种语言的样例源代码 `rts_sample.cpp/c/pas`。选择你所需的语言，将其复制为 `rts.cpp/c/pas`，按照上文中提到的方式进行编译，即能通过编译得到可执行程序。 \n\n对于非正式选手，你只能选择一种语言进行作答，即你本题的试题目录下不能同时存在多个语言的 `rts.cpp/c/pas`，否则系统将任选一份源代码进行评测并作为最终结果。\n\n接下来你需要修改这个文件的实现，以达到题目的要求。\n\n### 子任务\n\n一共有 20 个测试点，每个测试点 5 分。\n\n对于所有测试点，以及对于所有样例，$2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n不同 $\\texttt{dataType}$ 对应的数据类型如下：\n\n* 对于 $\\texttt{dataType} = 1$ 的测试点，没有特殊限制。\n* 对于 $\\texttt{dataType} = 2$ 的测试点，游戏的地图是一棵以结点 $1$ 为根的完全二叉树，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足 $a_1 = 1$，且结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{\\lfloor i/2 \\rfloor}$ 之间有一条边相连。\n* 对于 $\\texttt{dataType} = 3$ 的测试点，游戏的地图是一条链，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{i-1}$ 之间有一条边相连。\n\n对于每个测试点，$n, T, \\texttt{dataType}$ 的取值如下表：\n\n| 测试点编号 | $n =$ | $T =$ | $\\texttt{dataType} =$ |\n|-|-|-|-|\n| 1 | $2$ | $10000$ | 1 |\n| 2 | $3$ | $10000$ | 1 |\n| 3 | $10$ | $10000$ | 1 |\n| 4 | $100$ | $10000$ | 1 |\n| 5 | $1000$ | $10000$ | 2 |\n| 6 | $20000$ | $300000$ | 2 |\n| 7 | $250000$ | $5000000$ | 2 |\n| 8 | $1000$ | $20000$ | 3 |\n| 9 | $5000$ | $15500$ | 3 |\n| 10 | $30000$ | $63000$ | 3 |\n| 11 | $150000$ | $165000$ | 3 |\n| 12 | $250000$ | $250100$ | 3 |\n| 13 | $300000$ | $300020$ | 3 |\n| 14 | $1000$ | $50000$ | 1 |\n| 15 | $5000$ | $200000$ | 1 |\n| 16 | $30000$ | $900000$ | 1 |\n| 17 | $150000$ | $3750000$ | 1 |\n| 18 | $200000$ | $4400000$ | 1 |\n| 19 | $250000$ | $5000000$ | 1 |\n| 20 | $300000$ | $5000000$ | 1 |\n\n### 提示\n\n这里是小 M 给你的一些贴心的提示：\n\n* 图（无向图）由结点和边构成，边是结点的无序对，用来描述结点之间的相互关系；\n* 路径是一个结点的非空序列，使得序列中相邻两个结点之间都有边相连；\n* 两个结点是连通的，当且仅当存在一条以其中一个结点开始、另一个结点结束的路径；\n* 一个图是连通的，当且仅当这个图上的每对结点都是连通的；\n* 一棵 $n$ 个结点的树，是一个由 $n$ 个结点，$n - 1$ 条边构成的连通图；\n* 两个结点的最短路径，是指连接两个结点的所有可能的路径中，序列长度最小的；\n* 在一棵树中，连接任意两个结点的最短路径，都是唯一的；\n* 通过访问输入输出文件、攻击评测系统或攻击评测库等方式得分属于作弊行为，所得分数无效。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[WC2018] 即时战略", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序里加入以下函数声明语句：\n\n```cpp\nint explore(int,int);\n```\n\n2. 程序开头不用，也不应该包含 `rts.h` 头文件。\n3. 仅支持 `C++`（含 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "小 M 在玩一个即时战略 (Real Time Strategy) 游戏。不同于大多数同类游戏，这个游戏的地图是树形的。也就是说，地图可以用一个由 $n$ 个结点，$n - 1$ 条边构成的连通图来表示。这些结点被编号为 $1 \\sim n$。\n\n每个结点有两种可能的状态：「已知的」或「未知的」。游戏开始时，只有 $1$ 号结点是已知的。  \n在游戏的过程中，小 M 可以尝试探索更多的结点。具体来说，小 M 每次操作时需要选择一个已知的结点 $x$，和一个不同于 $x$ 的任意结点 $y$（结点 $y$ 可以是未知的）。然后游戏的自动寻路系统会给出 $x$ 到 $y$ 的最短路径上的第二个结点 $z$，也就是从 $x$ 走到 $y$ 的最短路径上与 $x$ 相邻的结点。此时，如果结点 $z$ 是未知的，小 M 会将它标记为已知的。\n\n这个游戏的目标是：利用至多 $T$ 次探索操作，让所有结点的状态都成为已知的。然而小 M 还是这个游戏的新手，她希望得到你的帮助。\n\n**为了让游戏过程更加容易，小 M 给你提供了这个游戏的交互库，具体见「任务描述」和「实现细节」。**  \n**另外，小 M 也提供了一些游戏的提示，具体见题目的最后一节「提示」。**\n\n### 任务介绍\n你需要实现一个函数 `play`，以帮助小 M 完成游戏的目标。\n\n* `play(n, T, dataType)`\n\t* `n` 为树的结点个数；\n\t* `T` 为探索操作的次数限制；\n\t* `dataType` 为该测试点的数据类型，具体见「数据规模和约定」。\n\n在每个测试点中，交互库都会调用恰好一次 `play` 函数。该函数被调用之前，游戏处于刚开始的状态。\n\n你可以调用函数 `explore` 来帮助你在游戏中探索更多结点，但是这个函数的调用次数不能超过 $T$ 次。\n\n* `explore(x, y)`\n\t* `x` 为一个已知的结点；\n\t* `y` 为一个不同于 $x$ 的任意结点（可以不是已知的结点）；\n\t* 这个函数会返回结点 $x$ 到 $y$ 的最短路径上的第二个结点的编号。\n\n在函数 `play` 返回之后，交互库会检查游戏的状态：只有当每个结点都是已知的，才算游戏的目标完成。\n\n### 实现方法\n你需要且只能提交一个源文件 `rts.cpp/c/pas` 实现上述函数，且遵循下面的命名和接口。\n\n**对 C/C++ 语言的选手：**\n\n源代码中需要包含头文件 `rts.h`（**请注意在洛谷提交时不用包含该头文件**）。\n\n你需要实现的函数 `play`：\n```\nvoid play(int n, int T, int dataType);\n```\n\n函数 `explore` 的接口信息如下：\n```\nint explore(int x, int y);\n```\n\n**对 Pascal 语言的选手：**\n\n你需要使用单元 `graderhelperlib`。\n\n你需要实现的函数 `play`：\n```\nprocedure play(n, T, dataType : longint);\n```\n\n函数 `explore` 的接口信息如下：\n```\nfunction explore(x, y : longint) : longint;\n```", "inputFormat": "第一行包含三个整数 $n$, $T$, $\\texttt{dataType}$，需要保证 $2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n\n接下来 $n - 1$ 行，每行两个整数 $u$, $v$，需要保证 $1 \\leqslant u, v \\leqslant n$ 且 $u \\ne v$，表示一条 $u$ 和 $v$ 之间的边。\n\n你的输入需要保证这 $n - 1$ 条边构成一棵树。", "outputFormat": "交互库会判断游戏目标是否完成。如果完成，则会输出 $\\texttt{Correct}$，否则会输出相应的错误信息。", "hint": "### 样例解释\n\n这是使用试题目录的 grader 和正确的源程序得到的输出文件。\n\n对于此样例，一种可能的 `explore` 函数的调用顺序为：\n\n* `explore(1, 2)`，返回 3\n* `explore(3, 2)`，返回 2\n* `explore(2, 4)`，返回 3\n* `explore(3, 4)`，返回 4\n\n### 如何测试你的程序\n\n**对 C/C++ 语言的选手：**\n\n你需要在本题目录下使用如下命令编译得到可执行程序：\n\n`g++ grader.cpp rts.cpp -o rts -O2`\n\n可执行文件将从**标准输入**读入数据。\n\n读入完成之后，交互库将调用 `play` 函数。如果此时你调用 `explore` 的次数超过 $T$ 次，则交互库会输出详细的错误信息，并退出。\n\n接下来交互库会判断游戏目标是否完成。如果完成，则会输出 \"$\\texttt{Correct}$\"，否则会输出相应的错误信息。\n\n如果传入 `explore` 函数的参数非法（$x,y$ 不在 $1$ 到 $n$ 的范围内，或 $x$ 不是已知结点，或 $x=y$），那么交互库会输出详细的错误信息，并退出。\n\n如果要使用自己的输入文件进行测试，请保证输入文件符合以上格式要求，否则不保证程序能正确运行。\n\n### 如何使用样例源代码\n\n本题目录下，有针对每种语言的样例源代码 `rts_sample.cpp/c/pas`。选择你所需的语言，将其复制为 `rts.cpp/c/pas`，按照上文中提到的方式进行编译，即能通过编译得到可执行程序。 \n\n对于非正式选手，你只能选择一种语言进行作答，即你本题的试题目录下不能同时存在多个语言的 `rts.cpp/c/pas`，否则系统将任选一份源代码进行评测并作为最终结果。\n\n接下来你需要修改这个文件的实现，以达到题目的要求。\n\n### 子任务\n\n一共有 20 个测试点，每个测试点 5 分。\n\n对于所有测试点，以及对于所有样例，$2 \\leqslant n \\leqslant 3 \\times 10^5, $ $1 \\leqslant T \\leqslant 5 \\times 10^6,$ $\\texttt{dataType} = 1$ 或 $2$ 或 $3$。\n不同 $\\texttt{dataType}$ 对应的数据类型如下：\n\n* 对于 $\\texttt{dataType} = 1$ 的测试点，没有特殊限制。\n* 对于 $\\texttt{dataType} = 2$ 的测试点，游戏的地图是一棵以结点 $1$ 为根的完全二叉树，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足 $a_1 = 1$，且结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{\\lfloor i/2 \\rfloor}$ 之间有一条边相连。\n* 对于 $\\texttt{dataType} = 3$ 的测试点，游戏的地图是一条链，\n即，存在一个 $1$ ~ $n$ 的排列 $a$，满足结点 $a_i ~ (1 < i \\leqslant n)$ 与结点 $a_{i-1}$ 之间有一条边相连。\n\n对于每个测试点，$n, T, \\texttt{dataType}$ 的取值如下表：\n\n| 测试点编号 | $n =$ | $T =$ | $\\texttt{dataType} =$ |\n|-|-|-|-|\n| 1 | $2$ | $10000$ | 1 |\n| 2 | $3$ | $10000$ | 1 |\n| 3 | $10$ | $10000$ | 1 |\n| 4 | $100$ | $10000$ | 1 |\n| 5 | $1000$ | $10000$ | 2 |\n| 6 | $20000$ | $300000$ | 2 |\n| 7 | $250000$ | $5000000$ | 2 |\n| 8 | $1000$ | $20000$ | 3 |\n| 9 | $5000$ | $15500$ | 3 |\n| 10 | $30000$ | $63000$ | 3 |\n| 11 | $150000$ | $165000$ | 3 |\n| 12 | $250000$ | $250100$ | 3 |\n| 13 | $300000$ | $300020$ | 3 |\n| 14 | $1000$ | $50000$ | 1 |\n| 15 | $5000$ | $200000$ | 1 |\n| 16 | $30000$ | $900000$ | 1 |\n| 17 | $150000$ | $3750000$ | 1 |\n| 18 | $200000$ | $4400000$ | 1 |\n| 19 | $250000$ | $5000000$ | 1 |\n| 20 | $300000$ | $5000000$ | 1 |\n\n### 提示\n\n这里是小 M 给你的一些贴心的提示：\n\n* 图（无向图）由结点和边构成，边是结点的无序对，用来描述结点之间的相互关系；\n* 路径是一个结点的非空序列，使得序列中相邻两个结点之间都有边相连；\n* 两个结点是连通的，当且仅当存在一条以其中一个结点开始、另一个结点结束的路径；\n* 一个图是连通的，当且仅当这个图上的每对结点都是连通的；\n* 一棵 $n$ 个结点的树，是一个由 $n$ 个结点，$n - 1$ 条边构成的连通图；\n* 两个结点的最短路径，是指连接两个结点的所有可能的路径中，序列长度最小的；\n* 在一棵树中，连接任意两个结点的最短路径，都是唯一的；\n* 通过访问输入输出文件、攻击评测系统或攻击评测库等方式得分属于作弊行为，所得分数无效。", "locale": "zh-CN"}}}
{"pid": "P6542", "type": "P", "difficulty": 6, "samples": [["5\n3 2 3 4\n2 1 3\n2 1 2\n2 1 5\n1 4", ""]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2004", "NOI", "交互题", "Special Judge"], "title": "[NOI2004] 沙丘", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序开头加入如下函数声明语句：\n\n```cpp\nvoid init();\nvoid look(int&, bool&);\nvoid put_sign();\nvoid take_sign();\nvoid walk(int);\nvoid report(int, int);\n```\n\n2. 本题仅支持 C++ 语言（包括 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "根据新出土的一批史料记载，在塔克拉玛干沙漠中的一座沙丘下面，埋藏着一个神秘的地下迷宫。由著名探险家阿强率领的探险队经过不懈的挖掘，终于发现了通往地下迷宫的入口！队员们兴奋不已，急忙钻下去，去寻找那个埋藏已久的秘密。\n\n他们刚钻进迷宫，只听“轰隆”一声巨响，回头一看，入口已与石墙融为一体，无法辨认。他们意识到自己被困在迷宫里了！环顾周围，似乎是一个洞穴。\n\n这座迷宫由很多洞穴组成，某些洞穴之间有道路连接。每个洞穴都有一盏灯，凭借着微弱的灯光，可以看清有多少条道路与这个洞穴相连。每个洞穴的内部是完全相同的，且无法做标记。每条道路也是完全相同的，也无法做标记。\n\n阿强凭借着微弱的灯光，发现了墙壁上的一段文字（事实上，每个洞穴的墙壁上都有这段文字），翻译成现代汉语就是：“陌生人，请把这个迷宫的洞穴数和道路数告诉我，我就会指引你走出迷宫。”\n\n阿强很快镇定了下来，他拿出一个路标，对队员们说：“这个迷宫的危险程度远超出我们的想象，为了安全起见，大家一定要集体行动。我这儿有一个路标，有了它，我们一定能探明迷宫的结构。大家跟我走！”\n\n现在，轮到你扮演阿强了。路标只有一个，可以随身携带，也可以暂时放在某个洞穴中（把路标放在道路上是毫无意义的，因为那里一片漆黑，什么都看不见）。你的任务很简单：用尽量少的步数探明这个迷宫共有多少个洞穴和多少条道路。“一步”是指从一个洞穴走到另一个相邻的洞穴。\n\n### 交互方法\n\n本题是一道交互式题目，你的程序应当和测试库进行交互，而不得访问任何文件（包括临时文件）。测试库提供了若干函数，它们的用法和作用如下：\n\n- `init` 必须先调用，但只能调用一次，用作初始化测试库；\n- `look(d,sign)` 的作用是查看当前洞穴的情况，测试库将从整型变量 $d$ 中返回与该洞穴相连的道路的数目，从布尔变量 `sign` 中返回该洞穴内是否有路标，`sign` 为 `true` 表示有路标，为 `false` 表示无路标。\n- `put_sign` 的作用是在当前洞穴放上路标。只有当路标随身携带着的时候，才可以调用这个函数。\n- `take_sign` 的作用是把当前洞穴的路标拿走。只有当路标在当前洞穴时，才可以调用这个函数。\n- `walk(i)` 的作用是沿着编号为 $i$ 的道路走到相邻的洞穴中。这里的编号是相对于当前所在洞穴而言的，并且是暂时的。假设与某洞穴相连的道路有 $d$ 条，这些道路按照逆时针顺序依次编号为 $0$，$1$，$2$，$\\ldots$，$d-1$。走第一步时，编号为 $0$ 的道路由库确定。以后的过程，阿强会将他走进这个洞穴的道路编号为 $0$。\n- `report(n,m)` 的作用是向测试库报告结果。$n$ 表示洞穴的数目，$m$ 表示道路的数目。当这个函数被调用后，测试库会自动中止你的程序。\n\n**注意与其他交互题不同的是，您需要直接在 `main()` 函数内实现你的程序。**\n\n在 C/C++ 中，布尔型变量用整型变量代替，$0$ 表示 `false`，$1$ 表示 `true`。", "inputFormat": "", "outputFormat": "", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wip3vflh.png)\n\n探险队初始时站在编号为 $1$ 的洞穴内，编号为 $0$ 的道路通向洞穴 $2$，编号为 $1$ 的道路通向洞穴 $3$，编号为 $2$ 的道路通向洞穴 $4$。\n\n一种可能得满分的调用方案如下：\n\n|C/C++ 选手的调用方法|说明|\n|:-:|:-:|\n|`init();`|初始化程序|\n|`look(d, sign);`|返回 $d=3$，$sign=false$|\n|`put_sign();`|放下路标|\n|`walk(0);`|选择编号为 $0$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=3$，$sign=true$|\n|`take_sign();`|拿起路标|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=1$，$sign=false$|\n|`report(5, 5);`|返回洞穴数为 $5$，道路数为 $5$|\n\n注意，该例子只是对库函数的使用说明，并没有算法上的意义。\n\n### 约定\n\n- 洞穴数不超过 $100$，道路数不超过 $4000$。\n- 迷宫是连通的，即任意两个洞穴都相互可达。\n- 两个洞穴之间最多只有一条道路。\n- 没有哪条道路连接两个相同的洞穴。\n\n### 评分方法\n\n如果你的程序有下列情况之一，该测试点 $0$ 分：\n\n- 访问了任何文件(包括临时文件)或者自行终止；\n- 非法调用库函数；\n- 让测试库异常退出。\n\n否则你每个测试点的得分按这样来计算：\n\n如果你所报告的洞穴数与通道数都不正确，得 $0$ 分；如果只有其中一个正确，得 $2$ 分；如果两个都正确，则根据 $walk$ 函数的调用次数评分，公式如下：\n\n$$\nyour\\_score=\\left\\{\n\\begin{aligned}\n&10&,your\\_ans\\le our\\_ans\\\\\n&5+\\left\\lfloor\\frac{our\\_ans}{your\\_ans}\\times 5+0.5\\right\\rfloor&,your\\_ans>our\\_ans\n\\end{aligned}\n\\right.\n$$\n\n其中 $your\\_ans$ 表示你的程序调用 $walk$ 函数的次数，$our\\_ans$ 表示我们的程序的结果。\n\n### 如何进行本地测试\n\n- 在工作目录下建立一个文件叫做 `dune.in`，文件的第一行包括一个整数 $n$ 为洞穴的数目，洞穴用1到n的整数编号，以下 $n$ 行描述迷宫的结构。文件的第 $i+1$ 行描述编号为 $i$ 的洞穴的情况，第一个数 $d_i$ 表示与该洞穴相连的道路的数目，其后的 $d_i$ 个数按照逆时针顺序给出了这些道路另一端的洞穴编号。\n- 调用 $init$ 函数之后，库将编号为 $1$ 的洞穴作为探险队的起始洞穴，并暂定编号为 $0$ 的道路通向的洞穴编号为文件中第二行的第二个数。比如样例中，初始时，库暂定编号为 $0$ 的道路通向洞穴 $4$。\n- 把你的源文件（命名为 `dune.cpp`）和 `dune_lib.hpp` 放在同一目录下，用命令 `g++ -o dune dune_lib.cpp dune.cpp` 来编译你的程序。\n- 执行你的程序，此时测试库会产生输出文件 `dune.log`，该文件中包括了你程序和库交互的记录和最后的结果。\n- 如果程序正常结束，`dune.log` 的最后一行包含一个整数，为你走的步数。\n- 如果程序非法退出，则我们不保证 `dune.log` 中的内容有意义。\n\n样例交互库请在题目附件中下载。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI2004] 沙丘", "background": "### 特别提示\n\n**在洛谷提交本题时的一些注意事项（与原题面不同之处请以此处为准）：**\n\n1. 提交时请在程序开头加入如下函数声明语句：\n\n```cpp\nvoid init();\nvoid look(int&, bool&);\nvoid put_sign();\nvoid take_sign();\nvoid walk(int);\nvoid report(int, int);\n```\n\n2. 本题仅支持 C++ 语言（包括 `C++`，`C++11`，`C++14`，`C++17`）提交。", "description": "根据新出土的一批史料记载，在塔克拉玛干沙漠中的一座沙丘下面，埋藏着一个神秘的地下迷宫。由著名探险家阿强率领的探险队经过不懈的挖掘，终于发现了通往地下迷宫的入口！队员们兴奋不已，急忙钻下去，去寻找那个埋藏已久的秘密。\n\n他们刚钻进迷宫，只听“轰隆”一声巨响，回头一看，入口已与石墙融为一体，无法辨认。他们意识到自己被困在迷宫里了！环顾周围，似乎是一个洞穴。\n\n这座迷宫由很多洞穴组成，某些洞穴之间有道路连接。每个洞穴都有一盏灯，凭借着微弱的灯光，可以看清有多少条道路与这个洞穴相连。每个洞穴的内部是完全相同的，且无法做标记。每条道路也是完全相同的，也无法做标记。\n\n阿强凭借着微弱的灯光，发现了墙壁上的一段文字（事实上，每个洞穴的墙壁上都有这段文字），翻译成现代汉语就是：“陌生人，请把这个迷宫的洞穴数和道路数告诉我，我就会指引你走出迷宫。”\n\n阿强很快镇定了下来，他拿出一个路标，对队员们说：“这个迷宫的危险程度远超出我们的想象，为了安全起见，大家一定要集体行动。我这儿有一个路标，有了它，我们一定能探明迷宫的结构。大家跟我走！”\n\n现在，轮到你扮演阿强了。路标只有一个，可以随身携带，也可以暂时放在某个洞穴中（把路标放在道路上是毫无意义的，因为那里一片漆黑，什么都看不见）。你的任务很简单：用尽量少的步数探明这个迷宫共有多少个洞穴和多少条道路。“一步”是指从一个洞穴走到另一个相邻的洞穴。\n\n### 交互方法\n\n本题是一道交互式题目，你的程序应当和测试库进行交互，而不得访问任何文件（包括临时文件）。测试库提供了若干函数，它们的用法和作用如下：\n\n- `init` 必须先调用，但只能调用一次，用作初始化测试库；\n- `look(d,sign)` 的作用是查看当前洞穴的情况，测试库将从整型变量 $d$ 中返回与该洞穴相连的道路的数目，从布尔变量 `sign` 中返回该洞穴内是否有路标，`sign` 为 `true` 表示有路标，为 `false` 表示无路标。\n- `put_sign` 的作用是在当前洞穴放上路标。只有当路标随身携带着的时候，才可以调用这个函数。\n- `take_sign` 的作用是把当前洞穴的路标拿走。只有当路标在当前洞穴时，才可以调用这个函数。\n- `walk(i)` 的作用是沿着编号为 $i$ 的道路走到相邻的洞穴中。这里的编号是相对于当前所在洞穴而言的，并且是暂时的。假设与某洞穴相连的道路有 $d$ 条，这些道路按照逆时针顺序依次编号为 $0$，$1$，$2$，$\\ldots$，$d-1$。走第一步时，编号为 $0$ 的道路由库确定。以后的过程，阿强会将他走进这个洞穴的道路编号为 $0$。\n- `report(n,m)` 的作用是向测试库报告结果。$n$ 表示洞穴的数目，$m$ 表示道路的数目。当这个函数被调用后，测试库会自动中止你的程序。\n\n**注意与其他交互题不同的是，您需要直接在 `main()` 函数内实现你的程序。**\n\n在 C/C++ 中，布尔型变量用整型变量代替，$0$ 表示 `false`，$1$ 表示 `true`。", "inputFormat": "", "outputFormat": "", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wip3vflh.png)\n\n探险队初始时站在编号为 $1$ 的洞穴内，编号为 $0$ 的道路通向洞穴 $2$，编号为 $1$ 的道路通向洞穴 $3$，编号为 $2$ 的道路通向洞穴 $4$。\n\n一种可能得满分的调用方案如下：\n\n|C/C++ 选手的调用方法|说明|\n|:-:|:-:|\n|`init();`|初始化程序|\n|`look(d, sign);`|返回 $d=3$，$sign=false$|\n|`put_sign();`|放下路标|\n|`walk(0);`|选择编号为 $0$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=3$，$sign=true$|\n|`take_sign();`|拿起路标|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=2$，$sign=false$|\n|`walk(1);`|选择编号为 $1$ 的道路|\n|`look(d, sign);`|返回 $d=1$，$sign=false$|\n|`report(5, 5);`|返回洞穴数为 $5$，道路数为 $5$|\n\n注意，该例子只是对库函数的使用说明，并没有算法上的意义。\n\n### 约定\n\n- 洞穴数不超过 $100$，道路数不超过 $4000$。\n- 迷宫是连通的，即任意两个洞穴都相互可达。\n- 两个洞穴之间最多只有一条道路。\n- 没有哪条道路连接两个相同的洞穴。\n\n### 评分方法\n\n如果你的程序有下列情况之一，该测试点 $0$ 分：\n\n- 访问了任何文件(包括临时文件)或者自行终止；\n- 非法调用库函数；\n- 让测试库异常退出。\n\n否则你每个测试点的得分按这样来计算：\n\n如果你所报告的洞穴数与通道数都不正确，得 $0$ 分；如果只有其中一个正确，得 $2$ 分；如果两个都正确，则根据 $walk$ 函数的调用次数评分，公式如下：\n\n$$\nyour\\_score=\\left\\{\n\\begin{aligned}\n&10&,your\\_ans\\le our\\_ans\\\\\n&5+\\left\\lfloor\\frac{our\\_ans}{your\\_ans}\\times 5+0.5\\right\\rfloor&,your\\_ans>our\\_ans\n\\end{aligned}\n\\right.\n$$\n\n其中 $your\\_ans$ 表示你的程序调用 $walk$ 函数的次数，$our\\_ans$ 表示我们的程序的结果。\n\n### 如何进行本地测试\n\n- 在工作目录下建立一个文件叫做 `dune.in`，文件的第一行包括一个整数 $n$ 为洞穴的数目，洞穴用1到n的整数编号，以下 $n$ 行描述迷宫的结构。文件的第 $i+1$ 行描述编号为 $i$ 的洞穴的情况，第一个数 $d_i$ 表示与该洞穴相连的道路的数目，其后的 $d_i$ 个数按照逆时针顺序给出了这些道路另一端的洞穴编号。\n- 调用 $init$ 函数之后，库将编号为 $1$ 的洞穴作为探险队的起始洞穴，并暂定编号为 $0$ 的道路通向的洞穴编号为文件中第二行的第二个数。比如样例中，初始时，库暂定编号为 $0$ 的道路通向洞穴 $4$。\n- 把你的源文件（命名为 `dune.cpp`）和 `dune_lib.hpp` 放在同一目录下，用命令 `g++ -o dune dune_lib.cpp dune.cpp` 来编译你的程序。\n- 执行你的程序，此时测试库会产生输出文件 `dune.log`，该文件中包括了你程序和库交互的记录和最后的结果。\n- 如果程序正常结束，`dune.log` 的最后一行包含一个整数，为你走的步数。\n- 如果程序非法退出，则我们不保证 `dune.log` 中的内容有意义。\n\n样例交互库请在题目附件中下载。", "locale": "zh-CN"}}}
{"pid": "P6543", "type": "P", "difficulty": 6, "samples": [["6 6\n1 2 3 4\n1 5\n5 6\n6 3\n6 4\n1 2\n3 4", "1"], ["6 7\n5 6 1 2\n6 3\n1 2\n1 3\n2 3\n1 5\n2 4\n5 4", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2014", "Special Judge", "O2优化", "CEOI（中欧）"], "title": "[CEOI 2014] 007", "background": "CEOI2014 Day2 T1，译者：小粉兔", "description": "007 特工发现了她最大的敌人 De Referenced Nullpointer 博士（简称 Dr. Null）的一个阴谋：Dr. Null 将要摧毁洛谷的两台服务器中的某一台！Dr. Null 正准备去实施他的方案，并且他也正在去服务器的路上。很遗憾，这意味着 007 必须告别她正在泡着帅哥吃早餐的生活。\n\n007 和 Dr. Null 都入侵了一个卫星系统，所以他们总是知道对方的位置。卫星系统把地图表示为一个**连通**的无向图，007 和 Dr. Null 以及两台服务器都位于节点上。**特别地，保证两台服务器位于相邻的两个节点上**。007 和 Dr. Null 都可以在一个单位时间内移动一条边，不过也可以不移动。Dr. Null 摧毁服务器也需要一个单位时间。Dr. Null 和 007 轮流行动，Dr. Null 先手。\n\n如果 007 抓住了 Dr. Null（他们位于同一个节点上）或者可以保证 Dr. Null 在无限长的时间内无法摧毁服务器，就算 007 获胜。\n\n007 想要知道她现在能吃着早餐泡帅哥最迟到什么时候，以确保无论 Dr. Null 采取什么策略依然可以取得胜利。\n\n请你帮助 007 编写一个程序，计算她为了确保胜利，最迟停下吃早餐的时间。注意：当 007 还在吃早餐的时候她是没有办法抓住 Dr. Null 的，即使他们位于同一个节点上也不行。", "inputFormat": "第一行两个正整数 $n, m$，分别表示图中节点数和边数。  \n第二行四个互不相同的正整数 $s, d, a, b$，分别表示 007 的初始位置，Dr. Null 的初始位置，以及两台服务器的位置。  \n接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接节点 $u$ 和 $v$ 之间的边。", "outputFormat": "输出一行一个数，表示为了确保胜利，007 最多还能吃多久的早餐。具体地说，如果 007 在一开始就必须行动则输出 $0$。  \n如果 007 无论如何都无法胜利，输出 $-1$。", "hint": "对于所有数据，保证 $4 \\le n \\le 2 \\times {10}^5$，$3 \\le m \\le 6 \\times {10}^5$，$1 \\le s, d, a, b \\le n$ 且互不相同，保证图连通。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n \\le 800$，$m \\le 1600$ |\n| $2$ | $70$ | 无特殊限制 |\n\n**部分分设置**：对于每个子任务，如果你的程序的输出在其中至少一组测试点中比非负的正确答案少 $1$ 并且在其它测试点中完全正确，则你将获得该子任务的 $30 \\%$ 的分数。注意如果正确答案是 $0$ 时你的程序输出 $-1$ 也算作这种情况。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2014] 007", "background": "CEOI2014 Day2 T1，译者：小粉兔", "description": "007 特工发现了她最大的敌人 De Referenced Nullpointer 博士（简称 Dr. Null）的一个阴谋：Dr. Null 将要摧毁洛谷的两台服务器中的某一台！Dr. Null 正准备去实施他的方案，并且他也正在去服务器的路上。很遗憾，这意味着 007 必须告别她正在泡着帅哥吃早餐的生活。\n\n007 和 Dr. Null 都入侵了一个卫星系统，所以他们总是知道对方的位置。卫星系统把地图表示为一个**连通**的无向图，007 和 Dr. Null 以及两台服务器都位于节点上。**特别地，保证两台服务器位于相邻的两个节点上**。007 和 Dr. Null 都可以在一个单位时间内移动一条边，不过也可以不移动。Dr. Null 摧毁服务器也需要一个单位时间。Dr. Null 和 007 轮流行动，Dr. Null 先手。\n\n如果 007 抓住了 Dr. Null（他们位于同一个节点上）或者可以保证 Dr. Null 在无限长的时间内无法摧毁服务器，就算 007 获胜。\n\n007 想要知道她现在能吃着早餐泡帅哥最迟到什么时候，以确保无论 Dr. Null 采取什么策略依然可以取得胜利。\n\n请你帮助 007 编写一个程序，计算她为了确保胜利，最迟停下吃早餐的时间。注意：当 007 还在吃早餐的时候她是没有办法抓住 Dr. Null 的，即使他们位于同一个节点上也不行。", "inputFormat": "第一行两个正整数 $n, m$，分别表示图中节点数和边数。  \n第二行四个互不相同的正整数 $s, d, a, b$，分别表示 007 的初始位置，Dr. Null 的初始位置，以及两台服务器的位置。  \n接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接节点 $u$ 和 $v$ 之间的边。", "outputFormat": "输出一行一个数，表示为了确保胜利，007 最多还能吃多久的早餐。具体地说，如果 007 在一开始就必须行动则输出 $0$。  \n如果 007 无论如何都无法胜利，输出 $-1$。", "hint": "对于所有数据，保证 $4 \\le n \\le 2 \\times {10}^5$，$3 \\le m \\le 6 \\times {10}^5$，$1 \\le s, d, a, b \\le n$ 且互不相同，保证图连通。\n\n| 子任务编号 | 分值 | 特殊限制 |\n| :-: | :-: | :-: |\n| $1$ | $30$ | $n \\le 800$，$m \\le 1600$ |\n| $2$ | $70$ | 无特殊限制 |\n\n**部分分设置**：对于每个子任务，如果你的程序的输出在其中至少一组测试点中比非负的正确答案少 $1$ 并且在其它测试点中完全正确，则你将获得该子任务的 $30 \\%$ 的分数。注意如果正确答案是 $0$ 时你的程序输出 $-1$ 也算作这种情况。", "locale": "zh-CN"}}}
