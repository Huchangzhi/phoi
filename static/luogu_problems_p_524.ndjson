{"pid": "P11633", "type": "P", "difficulty": 6, "samples": [["3\n5 1\n1 3\n2 5\n1 4\n3 3\n5 1\n3 2\n1 5\n1 -100\n1 5\n3 2\n1 5\n1 -1\n1 5", "12\n6\n7"], ["见附件\n", "见附件\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2025", "CTSC/CTS"], "title": "[CTS2025] 士兵", "background": "IOI 2025 中国国家队选拔 d1t3。\n", "description": "\n有 $n$ 个士兵站成一排。初始时，编号为 $i$ 的士兵血量为 $a_i$。\n\n你可以进行若干次（也可以不进行）进攻。每次进攻时，你可以选择一段区间 $[l, r](1 \\le l \\le r \\le n)$，将编号在这一段区间内的士兵的血量减少 $1$。每次进攻需要付出 $m$ 的代价。\n\n在所有的进攻结束后，若第 $i$ 个士兵的血量不超过 $0$，那么你会获得 $b_i$ 的收益。由于士兵中敌友混杂，$b_i$ 有可能是负数。注意每个士兵的收益只会获得一次。\n\n你需要找到一个进攻方案，来最大化收益总和减去代价总和。形式化地，设在你的方案进攻了 $k$ 次，最终第 $i$ 个士兵的血量为 $c_i$，令 $p_i$ 在 $c_i \\le 0$ 时为 $1$ 否则为 $0$，则你需要最大化 $\\left(\\sum_{i=1}^n p_i \\times b_i\\right) -m\\times k$。最终，你需要给出收益总和减去代价总和的最大值即可。", "inputFormat": "\n**本题有多组测试数据**。\n\n输入的第一行包含一个正整数 $T$ 表示数据组数。\n\n接下来依次输入每组测试数据，对于每组测试数据：\n\n第一行包含两个整数 $n,m$，分别表示士兵数量和单次进攻代价。\n\n接下来 $n$ 行，每行包含两个整数 $a_i, b_i$，分别描述每个士兵的血量和收益。\n", "outputFormat": "\n对于每组数据输出一行包含一个整数，表示在所有可能的方案中可以得到的收益总和减去代价总和的最大值。", "hint": "\n### 样例解释\n\n#### 样例 $1$ 解释\n\n在第一组测试数据中，一个最优方案为进攻三次，分别取区间 $[1, 5], [2, 4], [4, 4]$，最终血量序列为 $(0, 0,−1, 0, 4)$，收益为 $b_1 + b_2 + b_3 + b_4 = 15$，代价为 $3 \\times 1 = 3$。可以证明没有比该方案更优的方案，故输出 $15 − 3 = 12$。\n\n在第二组测试数据中，一个最优方案为进攻两次，分别取区间 $[1, 1], [3, 3]$。\n\n在第三组测试数据中，一个最优方案为进攻一次，取区间 $[1, 3]$。\n\n### 数据范围\n\n设 $\\sum n$ 分别表示单个测试点内所有测试数据中 $n$ 的和。\n\n对于所有测试数据，保证：\n- $1 \\le T \\le 5\\times 10^5$；\n- $1\\le n,\\sum n\\le 5\\times 10^5$，$1\\le m\\le 10^9$；\n- 对于任意的 $1 \\le i \\le n$，有 $1\\le a_i\\le 10^9$，$-10^9\\le b_i\\le 10^9$。\n\n| 子任务编号 | 分值 | $\\sum n\\le$ | 特殊性质 |\n| :--: | :--: | :--: | :--: |\n| $1$ | $5$ | $5\\times 10^5$ | $\\forall 1\\le i\\le n,b_i\\ge0$ |\n| $2$ | $15$ | $5,000$ | $\\forall 1\\le i\\le n,a_i\\le 5, 000$ |\n| $3$ | $20$ | $5,000$ | 无 |\n| $4$ | $20$ | $10^5$ | 无 |\n| $5$ | $25$ | $2\\times 10^5$ | 无 |\n| $6$ | $15$ | $5\\times 10^5$ | 无 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CTS2025] 士兵", "background": "IOI 2025 中国国家队选拔 d1t3。\n", "description": "\n有 $n$ 个士兵站成一排。初始时，编号为 $i$ 的士兵血量为 $a_i$。\n\n你可以进行若干次（也可以不进行）进攻。每次进攻时，你可以选择一段区间 $[l, r](1 \\le l \\le r \\le n)$，将编号在这一段区间内的士兵的血量减少 $1$。每次进攻需要付出 $m$ 的代价。\n\n在所有的进攻结束后，若第 $i$ 个士兵的血量不超过 $0$，那么你会获得 $b_i$ 的收益。由于士兵中敌友混杂，$b_i$ 有可能是负数。注意每个士兵的收益只会获得一次。\n\n你需要找到一个进攻方案，来最大化收益总和减去代价总和。形式化地，设在你的方案进攻了 $k$ 次，最终第 $i$ 个士兵的血量为 $c_i$，令 $p_i$ 在 $c_i \\le 0$ 时为 $1$ 否则为 $0$，则你需要最大化 $\\left(\\sum_{i=1}^n p_i \\times b_i\\right) -m\\times k$。最终，你需要给出收益总和减去代价总和的最大值即可。", "inputFormat": "\n**本题有多组测试数据**。\n\n输入的第一行包含一个正整数 $T$ 表示数据组数。\n\n接下来依次输入每组测试数据，对于每组测试数据：\n\n第一行包含两个整数 $n,m$，分别表示士兵数量和单次进攻代价。\n\n接下来 $n$ 行，每行包含两个整数 $a_i, b_i$，分别描述每个士兵的血量和收益。\n", "outputFormat": "\n对于每组数据输出一行包含一个整数，表示在所有可能的方案中可以得到的收益总和减去代价总和的最大值。", "hint": "\n### 样例解释\n\n#### 样例 $1$ 解释\n\n在第一组测试数据中，一个最优方案为进攻三次，分别取区间 $[1, 5], [2, 4], [4, 4]$，最终血量序列为 $(0, 0,−1, 0, 4)$，收益为 $b_1 + b_2 + b_3 + b_4 = 15$，代价为 $3 \\times 1 = 3$。可以证明没有比该方案更优的方案，故输出 $15 − 3 = 12$。\n\n在第二组测试数据中，一个最优方案为进攻两次，分别取区间 $[1, 1], [3, 3]$。\n\n在第三组测试数据中，一个最优方案为进攻一次，取区间 $[1, 3]$。\n\n### 数据范围\n\n设 $\\sum n$ 分别表示单个测试点内所有测试数据中 $n$ 的和。\n\n对于所有测试数据，保证：\n- $1 \\le T \\le 5\\times 10^5$；\n- $1\\le n,\\sum n\\le 5\\times 10^5$，$1\\le m\\le 10^9$；\n- 对于任意的 $1 \\le i \\le n$，有 $1\\le a_i\\le 10^9$，$-10^9\\le b_i\\le 10^9$。\n\n| 子任务编号 | 分值 | $\\sum n\\le$ | 特殊性质 |\n| :--: | :--: | :--: | :--: |\n| $1$ | $5$ | $5\\times 10^5$ | $\\forall 1\\le i\\le n,b_i\\ge0$ |\n| $2$ | $15$ | $5,000$ | $\\forall 1\\le i\\le n,a_i\\le 5, 000$ |\n| $3$ | $20$ | $5,000$ | 无 |\n| $4$ | $20$ | $10^5$ | 无 |\n| $5$ | $25$ | $2\\times 10^5$ | 无 |\n| $6$ | $15$ | $5\\times 10^5$ | 无 |\n", "locale": "zh-CN"}}}
{"pid": "P11637", "type": "P", "difficulty": 2, "samples": [["1 3 2", "0 0"], ["1 1 4", "1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "Special Judge", "O2优化", "洛谷比赛"], "title": "Mod", "background": "", "description": "给定三个数 $a,b,p$，你要对 $a$ 做若干次操作。\n\n对于一次操作，你可以令 $a\\leftarrow (a+1)\\bmod p$，并且使 $b\\leftarrow b-1$，注意操作后你必须保证 $b$ 为自然数。\n\n问做完若干次操作后 $a$ 最小是多少，以及在满足 $a$ 最小的前提下，$b$ 最小是多少？ \n\n注：$a\\leftarrow b$ 的意思是把 $a$ 赋值为 $b$。", "inputFormat": "一行三个正整数 $a,b,p$。", "outputFormat": "一行两个数，第一个为做完若干次操作后最小的 $a$，第二个为 $a$ 最小时最小的 $b$。\n\n本题开启 SPJ，如果你输出的第一个数是正确的，你将得到该测试点 $50\\%$ 的分；如果你输出的第二个数是正确的，你将得到该测试点 $50\\%$ 的分。", "hint": "| 捆绑 |$b \\leq$ | $p \\leq$ |  分数|\n| :----------: | :------: | :------: | :-----: |\n| Subtask #1 | $10^5$ | $10^{5}$ | $20\\text{pts}$ |\n| Subtask #2 |  $10^9$ | $10^9$ | $40\\text{pts}$ |\n| Subtask #3 | $10^{18}$ | $10^{18}$ | $40\\text{pts}$ |\n\n对于所有数据，$2\\le p\\le 10^{18}$，$0\\le a< p$，$1\\le b\\le 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Mod", "background": "", "description": "给定三个数 $a,b,p$，你要对 $a$ 做若干次操作。\n\n对于一次操作，你可以令 $a\\leftarrow (a+1)\\bmod p$，并且使 $b\\leftarrow b-1$，注意操作后你必须保证 $b$ 为自然数。\n\n问做完若干次操作后 $a$ 最小是多少，以及在满足 $a$ 最小的前提下，$b$ 最小是多少？ \n\n注：$a\\leftarrow b$ 的意思是把 $a$ 赋值为 $b$。", "inputFormat": "一行三个正整数 $a,b,p$。", "outputFormat": "一行两个数，第一个为做完若干次操作后最小的 $a$，第二个为 $a$ 最小时最小的 $b$。\n\n本题开启 SPJ，如果你输出的第一个数是正确的，你将得到该测试点 $50\\%$ 的分；如果你输出的第二个数是正确的，你将得到该测试点 $50\\%$ 的分。", "hint": "| 捆绑 |$b \\leq$ | $p \\leq$ |  分数|\n| :----------: | :------: | :------: | :-----: |\n| Subtask #1 | $10^5$ | $10^{5}$ | $20\\text{pts}$ |\n| Subtask #2 |  $10^9$ | $10^9$ | $40\\text{pts}$ |\n| Subtask #3 | $10^{18}$ | $10^{18}$ | $40\\text{pts}$ |\n\n对于所有数据，$2\\le p\\le 10^{18}$，$0\\le a< p$，$1\\le b\\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P11638", "type": "P", "difficulty": 3, "samples": [["6\n0 0 4 5 1 4", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 4096, 4096, 4096, 4096, 4096, 4096, 4096, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "Ad-hoc", "洛谷比赛"], "title": "Max,Mex", "background": "**hack 数据已添加，位于 Subtask#5，不计分。**\n\n**请注意本题特殊的空间限制。**\n\n本题中定义 $\\max\\{S\\}$ 为 $S$ 中的最大值，$\\operatorname{mex}\\{S\\}$ 为 $S$ 中最小没出现过的自然数。", "description": "给定一个长度为 $n$ 的序列 $a$。\n\n一次操作你可以选定一个 $(i,j)$，满足 $1\\le i,j\\le n$ 以及 $i\\neq j$，令 $x=\\max\\{a_i,a_j\\}$，$y=\\operatorname{mex}\\{a_i,a_j\\}$，那么 $a_i=x$，$a_j=y$。\n\n请问进行若干次操作后，$\\sum_{i=1}^n a_i$ 最大为多少？", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，第 $i$ 个为 $a_i$。", "outputFormat": "一行一个整数，为问题的答案。", "hint": "**【样例解释】**\n\n操作 $(5,1)$，$(5,2)$，答案为 $2+2+4+5+1+4=18$。\n\n**【数据范围】**\n\n- Subtask#1（$10\\text{pts}$）：$n=1$，**空间限制 4MB**；\n- Subtask#2（$20\\text{pts}$）：$a_i\\ge 2$，**空间限制 512MB**；\n- Subtask#3（$30\\text{pts}$）：无特殊限制，**空间限制 512MB**。\n- Subtask#4（$40\\text{pts}$）：无特殊限制，**空间限制 4MB**。\n- Subtask#5（$0\\text{pts}$）：hack，**空间限制 512MB**。\n\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$0\\le a_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Max,Mex", "background": "**hack 数据已添加，位于 Subtask#5，不计分。**\n\n**请注意本题特殊的空间限制。**\n\n本题中定义 $\\max\\{S\\}$ 为 $S$ 中的最大值，$\\operatorname{mex}\\{S\\}$ 为 $S$ 中最小没出现过的自然数。", "description": "给定一个长度为 $n$ 的序列 $a$。\n\n一次操作你可以选定一个 $(i,j)$，满足 $1\\le i,j\\le n$ 以及 $i\\neq j$，令 $x=\\max\\{a_i,a_j\\}$，$y=\\operatorname{mex}\\{a_i,a_j\\}$，那么 $a_i=x$，$a_j=y$。\n\n请问进行若干次操作后，$\\sum_{i=1}^n a_i$ 最大为多少？", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，第 $i$ 个为 $a_i$。", "outputFormat": "一行一个整数，为问题的答案。", "hint": "**【样例解释】**\n\n操作 $(5,1)$，$(5,2)$，答案为 $2+2+4+5+1+4=18$。\n\n**【数据范围】**\n\n- Subtask#1（$10\\text{pts}$）：$n=1$，**空间限制 4MB**；\n- Subtask#2（$20\\text{pts}$）：$a_i\\ge 2$，**空间限制 512MB**；\n- Subtask#3（$30\\text{pts}$）：无特殊限制，**空间限制 512MB**。\n- Subtask#4（$40\\text{pts}$）：无特殊限制，**空间限制 4MB**。\n- Subtask#5（$0\\text{pts}$）：hack，**空间限制 512MB**。\n\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$0\\le a_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11639", "type": "P", "difficulty": 4, "samples": [["1 2\n4 1 2 6 7", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "O2优化", "洛谷比赛"], "title": "Line Game", "background": "", "description": "你在玩一个音游。\n\n这个音游可以抽象为一个长度为 $m+1$ 的线段。\n\n这个音游有 $n+m$ 秒，在前 $n$ 秒中，第 $i$ 秒会在 $1$ 处出现一个集合，这个集合可以用一个可重无序集 $S_i$ 来表示，大小为 $a_i$，每秒末尾这个集合的位置会增加 $1$。\n\n因为你不会玩，所以你有一个可爱的 bot，它在第 $0$ 秒位于 $1$，之后每一秒你都需要选择一个值域区间 $[l,r]$，若这个 bot 所处位置有一个非空的集合 $Q$，那么 bot 会消去 $Q$ 中值域位于 $[l,r]$ 的数，该操作代价为 $r-l+1$。除此之外，这个 bot 在每秒的末尾可以选择将自己的位置 $+1$。\n\n若有非空的集合到达 $m+1$ 处，那么你就失败了。请问在不失败的情况下你最少需要花费多少代价？", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，每行第一个整数为 $a_i$，接下来有 $a_i$ 个整数，表示集合 $S_i$。", "outputFormat": "一行一个整数，表示最小代价。", "hint": "设 $[1,k]$ 为集合中元素的值域。\n\n**本题采用捆绑测试。**\n\n- Subtask#1（$10\\text{pts}$）：$m=1$；\n- Subtask#2（$20\\text{pts}$）：$n=1$；\n- Subtask#3（$15\\text{pts}$）：$k=100$；\n- Subtask#4（$15\\text{pts}$）：$m\\le 100$；\n- Subtask#5（$20\\text{pts}$）：$m\\le 10^5$；\n- Subtask#6（$20\\text{pts}$）：无特殊限制。\n\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$，$1\\le m\\le 10^9$，$1\\le a_i\\le 5\\times 10^4$，除 Subtusk#3 外 $k=10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Line Game", "background": "", "description": "你在玩一个音游。\n\n这个音游可以抽象为一个长度为 $m+1$ 的线段。\n\n这个音游有 $n+m$ 秒，在前 $n$ 秒中，第 $i$ 秒会在 $1$ 处出现一个集合，这个集合可以用一个可重无序集 $S_i$ 来表示，大小为 $a_i$，每秒末尾这个集合的位置会增加 $1$。\n\n因为你不会玩，所以你有一个可爱的 bot，它在第 $0$ 秒位于 $1$，之后每一秒你都需要选择一个值域区间 $[l,r]$，若这个 bot 所处位置有一个非空的集合 $Q$，那么 bot 会消去 $Q$ 中值域位于 $[l,r]$ 的数，该操作代价为 $r-l+1$。除此之外，这个 bot 在每秒的末尾可以选择将自己的位置 $+1$。\n\n若有非空的集合到达 $m+1$ 处，那么你就失败了。请问在不失败的情况下你最少需要花费多少代价？", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，每行第一个整数为 $a_i$，接下来有 $a_i$ 个整数，表示集合 $S_i$。", "outputFormat": "一行一个整数，表示最小代价。", "hint": "设 $[1,k]$ 为集合中元素的值域。\n\n**本题采用捆绑测试。**\n\n- Subtask#1（$10\\text{pts}$）：$m=1$；\n- Subtask#2（$20\\text{pts}$）：$n=1$；\n- Subtask#3（$15\\text{pts}$）：$k=100$；\n- Subtask#4（$15\\text{pts}$）：$m\\le 100$；\n- Subtask#5（$20\\text{pts}$）：$m\\le 10^5$；\n- Subtask#6（$20\\text{pts}$）：无特殊限制。\n\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$，$1\\le m\\le 10^9$，$1\\le a_i\\le 5\\times 10^4$，除 Subtusk#3 外 $k=10^9$。", "locale": "zh-CN"}}}
{"pid": "P11640", "type": "P", "difficulty": 4, "samples": [["1\n5 4\n1 3 4\n4 2 7\n4 4 0\n5 2 1", "Yes"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "洛谷原创", "O2优化", "洛谷比赛"], "title": "Graph", "background": "**hack 数据已添加，位于 Subtask#5，不计分。**\n", "description": "有一张 $n$ 个点的图，每个点可以是**黑色**或**白色**的。\n\n有 $m$ 条限制，第 $i$ 条限制会给定 $a_i,b_i,c_i$，表示 $a_i\\Rightarrow b_i$ 需要有一条长度为 $c_i$ 的路径，路径可以重复经过某条边或点。\n\n问是否存在一个若干条边权为 $1$ 有向边的图，满足：\n\n- 满足上述 $m$ 个条件。\n- 假如这张图有 $k$ 条边，则对于每个 $\\forall 1\\le i\\le k$，设第 $i$ 条边是由 $u_i$ 指向 $v_i$ 的，那么 $u_i$ 的颜色与 $v_i$ 的不同。", "inputFormat": "第一行一个整数 $T$，表示数据的组数。\n\n对于每组数据，第一行两个整数 $n,m$。\n\n接下来 $m$ 行，每行三个整数，分别为 $a_i,b_i,c_i$。", "outputFormat": "$T$ 行，每行一个字符串 $s\\in\\{\\tt{Yes},\\tt{No}\\}$。\n\n第 $i$ 行表示第 $i$ 个问题的答案。", "hint": "**【样例解释】**\n\n可以构造出\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oz6rr27f.png)\n\n以满足要求。\n\n\n\n------------\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n- Subtask #1（$5\\text{pts}$）：$m=0$。\n- Subtask #2（$20\\text{pts}$）：$n\\le 10$。\n- Subtask #3（$25\\text{pts}$）：$n\\le 10^3$。\n- Subtask #4（$50\\text{pts}$）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10$，$1\\le n\\le 10^6$，$0\\le m\\le 10^6$，$1\\le a_i,b_i\\le n$，$0\\le c_i\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "Graph", "background": "**hack 数据已添加，位于 Subtask#5，不计分。**\n", "description": "有一张 $n$ 个点的图，每个点可以是**黑色**或**白色**的。\n\n有 $m$ 条限制，第 $i$ 条限制会给定 $a_i,b_i,c_i$，表示 $a_i\\Rightarrow b_i$ 需要有一条长度为 $c_i$ 的路径，路径可以重复经过某条边或点。\n\n问是否存在一个若干条边权为 $1$ 有向边的图，满足：\n\n- 满足上述 $m$ 个条件。\n- 假如这张图有 $k$ 条边，则对于每个 $\\forall 1\\le i\\le k$，设第 $i$ 条边是由 $u_i$ 指向 $v_i$ 的，那么 $u_i$ 的颜色与 $v_i$ 的不同。", "inputFormat": "第一行一个整数 $T$，表示数据的组数。\n\n对于每组数据，第一行两个整数 $n,m$。\n\n接下来 $m$ 行，每行三个整数，分别为 $a_i,b_i,c_i$。", "outputFormat": "$T$ 行，每行一个字符串 $s\\in\\{\\tt{Yes},\\tt{No}\\}$。\n\n第 $i$ 行表示第 $i$ 个问题的答案。", "hint": "**【样例解释】**\n\n可以构造出\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oz6rr27f.png)\n\n以满足要求。\n\n\n\n------------\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n- Subtask #1（$5\\text{pts}$）：$m=0$。\n- Subtask #2（$20\\text{pts}$）：$n\\le 10$。\n- Subtask #3（$25\\text{pts}$）：$n\\le 10^3$。\n- Subtask #4（$50\\text{pts}$）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10$，$1\\le n\\le 10^6$，$0\\le m\\le 10^6$，$1\\le a_i,b_i\\le n$，$0\\le c_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11641", "type": "P", "difficulty": 1, "samples": [["4 300\n98 87 56 12\n99 88 87 90\n", "253"], ["4 100\n98 87 56 12\n99 88 87 90\n", "364"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T0】「TAOI-3」分数", "background": "原题链接：<https://oier.team/problems/X8A>。", "description": "小巡参加了 $n$ 场考试。所有考试结束后，小由进行批改。\n\n一开始，小由给小巡第 $i$ 场考试的结果评了 $a_i$ 分。\n\n但是由于小由很严厉，如果小由发现小巡总分大于等于及格分 $T$ 就会重新批改，第二次批改后小巡的第 $i$ 场考试的结果会评为 $b_i$ 分，总分也应该按照第二次批改的评分计算。\n\n你需要告诉小巡他最后的总分。", "inputFormat": "第一行，两个正整数 $n,T$。\n\n第二行，$n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n第三行，$n$ 个正整数 $b_1,b_2,\\dots,b_n$。", "outputFormat": "仅一行，一个非负整数，表示答案。", "hint": "**【样例解释 #1】**\n\n第一次批改后，小巡的得分为 $253$，没有及格，因此小由不会重新批改，总分为 $253$。\n\n**【样例解释 #2】**\n\n第一次批改后，小巡的得分为 $253$，达到了 $100$，因此小由会重新批改，重新批改的总分为 $364$。\n\n\n**【数据范围】**\n\n对于所有数据，保证 $1\\leq n\\leq 10$，$1\\leq T\\leq 1000$，$1\\leq a_i,b_i\\leq 100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T0】「TAOI-3」分数", "background": "原题链接：<https://oier.team/problems/X8A>。", "description": "小巡参加了 $n$ 场考试。所有考试结束后，小由进行批改。\n\n一开始，小由给小巡第 $i$ 场考试的结果评了 $a_i$ 分。\n\n但是由于小由很严厉，如果小由发现小巡总分大于等于及格分 $T$ 就会重新批改，第二次批改后小巡的第 $i$ 场考试的结果会评为 $b_i$ 分，总分也应该按照第二次批改的评分计算。\n\n你需要告诉小巡他最后的总分。", "inputFormat": "第一行，两个正整数 $n,T$。\n\n第二行，$n$ 个正整数 $a_1,a_2,\\dots,a_n$。\n\n第三行，$n$ 个正整数 $b_1,b_2,\\dots,b_n$。", "outputFormat": "仅一行，一个非负整数，表示答案。", "hint": "**【样例解释 #1】**\n\n第一次批改后，小巡的得分为 $253$，没有及格，因此小由不会重新批改，总分为 $253$。\n\n**【样例解释 #2】**\n\n第一次批改后，小巡的得分为 $253$，达到了 $100$，因此小由会重新批改，重新批改的总分为 $364$。\n\n\n**【数据范围】**\n\n对于所有数据，保证 $1\\leq n\\leq 10$，$1\\leq T\\leq 1000$，$1\\leq a_i,b_i\\leq 100$。", "locale": "zh-CN"}}}
{"pid": "P11642", "type": "P", "difficulty": 2, "samples": [["5 2\n1 4 1 1 5\n", "14\n"], ["7 3\n1 1 4 5 1 4 1\n", "21\n"], ["1 197\n251\n", "251"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T1】「TAOI-3」幸运草", "background": "原题链接：<https://oier.team/problems/X8B>。\n\n---\n\n> 那是，深藏的思念 \\\n> 那是，永恒的誓言 \\\n> 那是，真心的祈愿 \\\n> 那是，悔恨的心怀 \\\n> 那是，童年的约定——\n\n终将改变之物，与永不改变之物。", "description": "Anzu 有一个正整数数列 $a_1, \\ldots, a_n$ 和一个整数 $x$。她可以进行至多一次操作，选择一对正整数 $1 \\le l \\le r \\le n$，然后对于所有 $l \\le i \\le r$ 的正整数 $i$ 让 $a_i$ 变成 $x$。现在她想要知道，在这之后，数列里所有数的和最大是多少。", "inputFormat": "第一行，两个非负整数 $n, x$。\n\n第二行，$n$ 个正整数 $a_1, \\ldots, a_n$。", "outputFormat": "仅一行，一个正整数，表示答案。", "hint": "**【样例解释 #1】**\n\n最优的策略是选择 $l=3$，$r=4$ 进行一次操作，此时数列变为 $[1,4,2,2,5]$，总和为 $14$。\n\n**【样例解释 #2】**\n\n最优的策略为选择 $l=1$，$r=7$ 进行一次操作。\n\n**【样例解释 #3】**\n\n最优的策略为不进行操作。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，$n \\le 500$。\n\n对于另外 $20\\%$ 的数据，$n \\le 3 \\times 10^3$。\n\n对于另外 $10\\%$ 的数据，$x=0$。\n\n对于所有数据，保证 $1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^9$，$0 \\le x \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T1】「TAOI-3」幸运草", "background": "原题链接：<https://oier.team/problems/X8B>。\n\n---\n\n> 那是，深藏的思念 \\\n> 那是，永恒的誓言 \\\n> 那是，真心的祈愿 \\\n> 那是，悔恨的心怀 \\\n> 那是，童年的约定——\n\n终将改变之物，与永不改变之物。", "description": "Anzu 有一个正整数数列 $a_1, \\ldots, a_n$ 和一个整数 $x$。她可以进行至多一次操作，选择一对正整数 $1 \\le l \\le r \\le n$，然后对于所有 $l \\le i \\le r$ 的正整数 $i$ 让 $a_i$ 变成 $x$。现在她想要知道，在这之后，数列里所有数的和最大是多少。", "inputFormat": "第一行，两个非负整数 $n, x$。\n\n第二行，$n$ 个正整数 $a_1, \\ldots, a_n$。", "outputFormat": "仅一行，一个正整数，表示答案。", "hint": "**【样例解释 #1】**\n\n最优的策略是选择 $l=3$，$r=4$ 进行一次操作，此时数列变为 $[1,4,2,2,5]$，总和为 $14$。\n\n**【样例解释 #2】**\n\n最优的策略为选择 $l=1$，$r=7$ 进行一次操作。\n\n**【样例解释 #3】**\n\n最优的策略为不进行操作。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，$n \\le 500$。\n\n对于另外 $20\\%$ 的数据，$n \\le 3 \\times 10^3$。\n\n对于另外 $10\\%$ 的数据，$x=0$。\n\n对于所有数据，保证 $1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^9$，$0 \\le x \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11643", "type": "P", "difficulty": 3, "samples": [["2\n5\n1 3 4 3 3\n2 2 3 2 1\n5\n1 2 1 1 1\n1 1 1 2 2\n", "Yes\nNo\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T2】「TAOI-3」终有一天，飞向水平线的彼方", "background": "原题链接：<https://oier.team/problems/X8C>。\n\n---\n\n天与海交界的地方，到底哪边更深呢？\n", "description": "Mio 有一个长度为 $n$ 的正整数数列 $a_1, \\ldots, a_n$。她会对这个序列进行若干次操作，每次她会选择一对正整数 $l,r$，满足 $1 \\le l \\le r \\le n$，且 $(r-l+1)$ 为偶数，然后进行以下两种操作中的一种：\n\n- 对于所有整数 $i \\in [l,r]$，令 $a_i \\gets a_i+\\left(|i-\\frac{r+l}{2}|+\\frac{1}{2}\\right)$。\n- 对于所有整数 $i \\in [l,r]$，令 $a_i \\gets a_i-\\left(|i-\\frac{r+l}{2}|+\\frac{1}{2}\\right)$。\n\n形象化地，你可以把这理解为，选择某区间内最中间的数作为中轴，然后把区间内的所有数加上或减去它与中轴的距离。例如，如果选择 $l=1$，$r=8$，效果就是把数列的前 $8$ 个数分别加上或减去 $4,3,2,1,1,2,3,4$。\n\n在 Mio 的操作中，她希望任意时刻数列里的所有数都是正整数。\n\n现在，Mio 想要知道，能否用这样的操作把数列 $a_1, \\ldots, a_n$ 变成目标正整数数列 $b_1, \\ldots, b_n$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个正整数 $T$，表示测试数据组数。对于每组数据：\n- 第一行，一个正整数 $n$。\n- 第二行，$n$ 个正整数 $a_1, \\ldots, a_n$。\n- 第三行，$n$ 个正整数 $b_1, \\ldots, b_n$。", "outputFormat": "$T$ 行，对于每组数据，若 Mio 能够达成她的目的，输出一行 `Yes`，否则输出一行 `No`。", "hint": "**【样例解释】**\n\n对于第一组数据，一种合法的方案为：\n\n先选取 $l=2$，$r=5$ 进行一次减少操作，数列变为 $[1,1,3,2,1]$。\n\n再选取 $l=1$，$r=2$ 进行一次增加操作，数列变为 $[2,2,3,2,1]$。\n\n对于第二组数据，可以证明不存在合法的方案。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，$n \\le 5$，$a_i,b_i \\le 4$。\n\n对于另外 $40\\%$ 的数据，$\\forall 1 \\le i \\le j \\le n$，$a_i=a_j$，$b_i=b_j$。\n\n对于所有数据，保证 $1 \\le T \\le 5$，$1 \\le n \\le 10^5$，$1 \\le a_i,b_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T2】「TAOI-3」终有一天，飞向水平线的彼方", "background": "原题链接：<https://oier.team/problems/X8C>。\n\n---\n\n天与海交界的地方，到底哪边更深呢？\n", "description": "Mio 有一个长度为 $n$ 的正整数数列 $a_1, \\ldots, a_n$。她会对这个序列进行若干次操作，每次她会选择一对正整数 $l,r$，满足 $1 \\le l \\le r \\le n$，且 $(r-l+1)$ 为偶数，然后进行以下两种操作中的一种：\n\n- 对于所有整数 $i \\in [l,r]$，令 $a_i \\gets a_i+\\left(|i-\\frac{r+l}{2}|+\\frac{1}{2}\\right)$。\n- 对于所有整数 $i \\in [l,r]$，令 $a_i \\gets a_i-\\left(|i-\\frac{r+l}{2}|+\\frac{1}{2}\\right)$。\n\n形象化地，你可以把这理解为，选择某区间内最中间的数作为中轴，然后把区间内的所有数加上或减去它与中轴的距离。例如，如果选择 $l=1$，$r=8$，效果就是把数列的前 $8$ 个数分别加上或减去 $4,3,2,1,1,2,3,4$。\n\n在 Mio 的操作中，她希望任意时刻数列里的所有数都是正整数。\n\n现在，Mio 想要知道，能否用这样的操作把数列 $a_1, \\ldots, a_n$ 变成目标正整数数列 $b_1, \\ldots, b_n$。", "inputFormat": "**本题有多组测试数据。**\n\n第一行，一个正整数 $T$，表示测试数据组数。对于每组数据：\n- 第一行，一个正整数 $n$。\n- 第二行，$n$ 个正整数 $a_1, \\ldots, a_n$。\n- 第三行，$n$ 个正整数 $b_1, \\ldots, b_n$。", "outputFormat": "$T$ 行，对于每组数据，若 Mio 能够达成她的目的，输出一行 `Yes`，否则输出一行 `No`。", "hint": "**【样例解释】**\n\n对于第一组数据，一种合法的方案为：\n\n先选取 $l=2$，$r=5$ 进行一次减少操作，数列变为 $[1,1,3,2,1]$。\n\n再选取 $l=1$，$r=2$ 进行一次增加操作，数列变为 $[2,2,3,2,1]$。\n\n对于第二组数据，可以证明不存在合法的方案。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，$n \\le 5$，$a_i,b_i \\le 4$。\n\n对于另外 $40\\%$ 的数据，$\\forall 1 \\le i \\le j \\le n$，$a_i=a_j$，$b_i=b_j$。\n\n对于所有数据，保证 $1 \\le T \\le 5$，$1 \\le n \\le 10^5$，$1 \\le a_i,b_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11644", "type": "P", "difficulty": 4, "samples": [["7 6 4\n2 4\n5 6\n1 2\n3 5\n3 6\n7 1\n1 2 1\n1 6 3\n5 3 5\n2 7 7", "tribool\nexpand\ntribool\nexpand\n"], ["5 4 4\n1 2\n2 3\n3 4\n4 5\n1 2 1\n1 5 3\n5 3 2\n1 1 1\n", "tribool\nexpand\ntribool\nexpand\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T3】「TAOI-3」地地爱打卡", "background": "原题链接：<https://oier.team/problems/X8D>。\n\n---\n\n一年前，我在 NOIP 2023 的赛场上，折戟沉沙。\n\n一年后，我从倒下的地方爬起。\n\nTHUWC 2025 D1T1，强势狂砍 76 分。\n\n……线段树优化 DP 也太难了。", "description": "小 T 同学非常淡泊于跑步。为了让跑步更加无趣，他决定制作一款叫做《地地爱打卡》的软件，使得用户每地都无法进行跑步打卡。\n\n开发完成后，小 T 同学计划进行试运行，他找了大 Y 同学来帮忙。\n\n这次打卡总共有 $n$ 个节点，编号为 $1 \\sim n$，有 $m$ 条连接两个节点的双向道路，**保证图无重边无自环**。大 Y 同学需要从 $s$ 跑到 $t$。\n\n初始时，大 Y 同学的能量值是 $0$。每当大 Y 同学跑过一条道路，小 T 同学就会请他吃一顿饭，使得他的能量值增加 $1$。试运行期间他的**能量值不可以是负数**。\n\n大 Y 同学还有一个快乐值，初始为 $0$，当位于某个节点的时候，大 Y 同学可以让他的快乐值按位异或上他的能量值，同时清空能量值（即，能量值变为 $0$），也可以什么都不做。\n\n现在大 Y 同学想要知道，他是否能够 **最终停留在** 节点 $t$，耗尽所有能量值（即，能量值变为 $0$），并且此时他的快乐值恰好为 $x$？**注意：大 Y 同学到达节点 $\\bm t$ 后可以选择不停下而继续移动。**\n\n因为大 Y 同学很爱跑步，所以你要回答 $q$ 组询问，每次询问给出 $s, t, x$，你要告诉大 Y 同学是否能够满足他的要求。", "inputFormat": "第一行，三个非负整数 $n, m, q$。\n\n接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接点 $u$ 和 $v$ 的道路。\n\n接下来 $q$ 行，每行三个非负整数 $s, t, x$，表示一组询问。", "outputFormat": "$q$ 行，对于每组询问，如果大 Y 同学能够满足他的要求，输出一行 `tribool`，否则输出一行 `expand`。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/66uc1bzt.png)\n\n如图，对于第一组询问，大 Y 同学从节点 $1$ 出发，经过一条道路到达节点 $2$，此时他的能量值为 $1$。他再进行一次操作，此时能量值变为 $0$，快乐值变为 $1$，满足条件。\n\n对于第二组询问，可以说明不存在合法的方案。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（22 分）：$\\max(n, m, q, x) \\leq 50$。\n- 子任务 2（22 分）：$m = n - 1$ 且图连通。\n- 子任务 3（24 分）：$x \\leq 1$。\n- 子任务 4（32 分）：无特殊限制。\n\n对于所有数据，保证 $2 \\leq n \\leq 2\\times 10^5$，$0 \\leq m \\leq 3\\times 10^5$，$1 \\leq q \\leq 2\\times 10^5$，$1 \\leq s, t, u, v \\leq n$，$0 \\leq x \\leq 10^9$，保证给出的无向图无重边无自环。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T3】「TAOI-3」地地爱打卡", "background": "原题链接：<https://oier.team/problems/X8D>。\n\n---\n\n一年前，我在 NOIP 2023 的赛场上，折戟沉沙。\n\n一年后，我从倒下的地方爬起。\n\nTHUWC 2025 D1T1，强势狂砍 76 分。\n\n……线段树优化 DP 也太难了。", "description": "小 T 同学非常淡泊于跑步。为了让跑步更加无趣，他决定制作一款叫做《地地爱打卡》的软件，使得用户每地都无法进行跑步打卡。\n\n开发完成后，小 T 同学计划进行试运行，他找了大 Y 同学来帮忙。\n\n这次打卡总共有 $n$ 个节点，编号为 $1 \\sim n$，有 $m$ 条连接两个节点的双向道路，**保证图无重边无自环**。大 Y 同学需要从 $s$ 跑到 $t$。\n\n初始时，大 Y 同学的能量值是 $0$。每当大 Y 同学跑过一条道路，小 T 同学就会请他吃一顿饭，使得他的能量值增加 $1$。试运行期间他的**能量值不可以是负数**。\n\n大 Y 同学还有一个快乐值，初始为 $0$，当位于某个节点的时候，大 Y 同学可以让他的快乐值按位异或上他的能量值，同时清空能量值（即，能量值变为 $0$），也可以什么都不做。\n\n现在大 Y 同学想要知道，他是否能够 **最终停留在** 节点 $t$，耗尽所有能量值（即，能量值变为 $0$），并且此时他的快乐值恰好为 $x$？**注意：大 Y 同学到达节点 $\\bm t$ 后可以选择不停下而继续移动。**\n\n因为大 Y 同学很爱跑步，所以你要回答 $q$ 组询问，每次询问给出 $s, t, x$，你要告诉大 Y 同学是否能够满足他的要求。", "inputFormat": "第一行，三个非负整数 $n, m, q$。\n\n接下来 $m$ 行，每行两个正整数 $u, v$，表示一条连接点 $u$ 和 $v$ 的道路。\n\n接下来 $q$ 行，每行三个非负整数 $s, t, x$，表示一组询问。", "outputFormat": "$q$ 行，对于每组询问，如果大 Y 同学能够满足他的要求，输出一行 `tribool`，否则输出一行 `expand`。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/66uc1bzt.png)\n\n如图，对于第一组询问，大 Y 同学从节点 $1$ 出发，经过一条道路到达节点 $2$，此时他的能量值为 $1$。他再进行一次操作，此时能量值变为 $0$，快乐值变为 $1$，满足条件。\n\n对于第二组询问，可以说明不存在合法的方案。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（22 分）：$\\max(n, m, q, x) \\leq 50$。\n- 子任务 2（22 分）：$m = n - 1$ 且图连通。\n- 子任务 3（24 分）：$x \\leq 1$。\n- 子任务 4（32 分）：无特殊限制。\n\n对于所有数据，保证 $2 \\leq n \\leq 2\\times 10^5$，$0 \\leq m \\leq 3\\times 10^5$，$1 \\leq q \\leq 2\\times 10^5$，$1 \\leq s, t, u, v \\leq n$，$0 \\leq x \\leq 10^9$，保证给出的无向图无重边无自环。", "locale": "zh-CN"}}}
{"pid": "P11645", "type": "P", "difficulty": 5, "samples": [["4\n1 3\n2 1 2\n2 1 2\n1 3\n", "2\n"], ["7\n2 2 4\n1 6\n3 1 1 4\n1 6\n2 3 3\n2 1 5\n1 6", "3\n"], ["20\n2 18 1 \n3 2 5 12 \n2 2 17 \n2 1 18 \n2 14 5 \n1 19 \n1 19 \n1 19 \n3 16 2 1 \n1 19 \n2 18 1 \n2 15 4 \n3 16 1 2 \n2 15 4 \n2 13 6 \n1 19 \n2 18 1 \n1 19 \n1 19 \n4 8 1 3 7 ", "483840\n"], ["50\n1 49 \n1 49 \n2 48 1 \n1 49 \n1 49 \n2 36 13 \n1 49 \n1 49 \n3 39 1 9 \n1 49 \n1 49 \n5 6 1 39 1 2 \n2 48 1 \n6 1 5 1 4 37 1 \n1 49 \n1 49 \n1 49 \n2 1 48 \n2 29 20 \n1 49 \n2 1 48 \n2 1 48 \n4 46 1 1 1 \n1 49 \n1 49 \n1 49 \n1 49 \n1 49 \n7 1 3 1 1 41 1 1 \n4 30 1 4 14 \n1 49 \n1 49 \n5 1 1 45 1 1 \n1 49 \n1 49 \n5 11 5 21 11 1 \n1 49 \n1 49 \n3 1 1 47 \n1 49 \n3 1 2 46 \n1 49 \n1 49 \n1 49 \n1 49 \n4 1 1 2 45 \n1 49 \n1 49 \n1 49 \n4 44 2 1 2 ", "268867231\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T4】「TAOI-3」Warmth of the Eternity", "background": "原题链接：<https://oier.team/problems/X8E>。", "description": "Kukuru 是 AI 领域大神。[如果你是 E.Space 的粉丝的话](/problem/P8294)，你应该知道，$n$ 个 AI 会组成一个树形结构。具体地，对于 $n$ 个 AI，它们之间会构建出恰好 $(n-1)$ 条通路，每条通路会连接两个 AI，并且任意两个 AI 都被直接或间接地连接起来。\n\n但是 Kukuru 忘记了她的 $n$ 个 AI 是如何连接的了。所幸，她还记得：对于所有 $i$，假如删去第 $i$ 个 AI 并断开所有和它相连的通路之后，剩下的 AI 组成的所有连通块的大小。\n\n称若干 AI 形成一个连通块，当且仅当它们两两之间可以通过若干通路互相连接，且没有该连通块外的 AI 与连通块内的 AI 之间存在通路。一个连通块的大小被定义为这个连通块包含的 AI 的个数。\n\n现在 Kukuru 想要知道：在给定这些信息的情况下，这 $n$ 个 AI 有多少种可能的连接方式呢？称两种连接方式不同，当且仅当在一个方案中某两个 AI $u,v$ 之间存在直接通路，而在另一种方案中不存在。因为方案可能很多，所以 Kukuru 只需要你告诉她答案对 $998244353$ 取模的结果就好了。你能解决这个问题吗？**特别地，保证存在至少一种合法的 AI 连接方式符合题意**。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，第 $i$ 行的第一个正整数 $d_i$ 表示删掉第 $i$ 个 AI 后的连通块个数；接下来，同一行内包含 $d_i$ 个正整数，依次描述每个连通块的大小。", "outputFormat": "仅一行，一个非负整数，表示 AI 可能的连接方式个数对 $998244353$ 取模的结果。", "hint": "**【样例解释 \\#1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/425v8z3m.png)\n\n**【样例解释 \\#2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h6wzikqz.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（16 分）：$n \\leq 8$。\n- 子任务 2（9 分）：存在合法的 AI 连接方式，使得至少一个 AI 与所有其它 AI 直接相连。\n- 子任务 3（9 分）：存在合法的 AI 连接方式，使得 AI 都和不超过 $2$ 个其它 AI 直接相连。\n- 子任务 4（21 分）：$n \\leq 20$。\n- 子任务 5（18 分）：$n \\leq 5\\times 10^3$。\n- 子任务 6（27 分）：无特殊限制。\n\n对于所有数据，保证 $2 \\leq n \\leq 3\\times 10^5$。保证取模前的真实答案大于 $0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T4】「TAOI-3」Warmth of the Eternity", "background": "原题链接：<https://oier.team/problems/X8E>。", "description": "Kukuru 是 AI 领域大神。[如果你是 E.Space 的粉丝的话](/problem/P8294)，你应该知道，$n$ 个 AI 会组成一个树形结构。具体地，对于 $n$ 个 AI，它们之间会构建出恰好 $(n-1)$ 条通路，每条通路会连接两个 AI，并且任意两个 AI 都被直接或间接地连接起来。\n\n但是 Kukuru 忘记了她的 $n$ 个 AI 是如何连接的了。所幸，她还记得：对于所有 $i$，假如删去第 $i$ 个 AI 并断开所有和它相连的通路之后，剩下的 AI 组成的所有连通块的大小。\n\n称若干 AI 形成一个连通块，当且仅当它们两两之间可以通过若干通路互相连接，且没有该连通块外的 AI 与连通块内的 AI 之间存在通路。一个连通块的大小被定义为这个连通块包含的 AI 的个数。\n\n现在 Kukuru 想要知道：在给定这些信息的情况下，这 $n$ 个 AI 有多少种可能的连接方式呢？称两种连接方式不同，当且仅当在一个方案中某两个 AI $u,v$ 之间存在直接通路，而在另一种方案中不存在。因为方案可能很多，所以 Kukuru 只需要你告诉她答案对 $998244353$ 取模的结果就好了。你能解决这个问题吗？**特别地，保证存在至少一种合法的 AI 连接方式符合题意**。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，第 $i$ 行的第一个正整数 $d_i$ 表示删掉第 $i$ 个 AI 后的连通块个数；接下来，同一行内包含 $d_i$ 个正整数，依次描述每个连通块的大小。", "outputFormat": "仅一行，一个非负整数，表示 AI 可能的连接方式个数对 $998244353$ 取模的结果。", "hint": "**【样例解释 \\#1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/425v8z3m.png)\n\n**【样例解释 \\#2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h6wzikqz.png)\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（16 分）：$n \\leq 8$。\n- 子任务 2（9 分）：存在合法的 AI 连接方式，使得至少一个 AI 与所有其它 AI 直接相连。\n- 子任务 3（9 分）：存在合法的 AI 连接方式，使得 AI 都和不超过 $2$ 个其它 AI 直接相连。\n- 子任务 4（21 分）：$n \\leq 20$。\n- 子任务 5（18 分）：$n \\leq 5\\times 10^3$。\n- 子任务 6（27 分）：无特殊限制。\n\n对于所有数据，保证 $2 \\leq n \\leq 3\\times 10^5$。保证取模前的真实答案大于 $0$。", "locale": "zh-CN"}}}
{"pid": "P11646", "type": "P", "difficulty": 6, "samples": [["8 998244353 1\n1\n2\n3\n5\n98\n197\n1145\n4950\n", "0\n1\n4\n65\n369585723\n752044625\n87224156\n664115047"], ["8 998244353 0\n1\n2\n3\n5\n98\n197\n1145\n4950\n", "0\n1\n3\n65\n607286080\n653853011\n777350973\n422131392"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T5】「TAOI-3」蓝宝石的存在证明", "background": "原题链接：<https://oier.team/problems/X8F>。\n\n---\n\n她背对着曾崇拜神的祭坛，就像在祈祷的圣女一样。\n\n——啊，神呀。这是何等的悲剧。\n\n能否恳请您把这出悲剧变成喜剧，变成一出任何人也能开怀大笑的愉快喜剧?\n\n然后，若是您大发慈悲，求求实现我的恋情。是的，唯有一回我也乐意。\n\n向神发誓，我赌上一生来爱你。\n\n向神发誓，我求得偿夙愿。", "description": "——只要打开这本魔法之书，自己的存在就会被世人遗忘。\n\n世人之间的连接可以被看做一个 $n$ 个点的有标号无向简单**连通**图 $(V,E)$。此外，Kisaki 还会给你一个整数 $t \\in \\{0,1\\}$，若 $t=0$，则这张无向连通图必须满足任意两点之间存在唯一的简单路径。若 $t=1$，则没有限制。\n\n我们定义一个 $V$ 的一个子集 $W$ 是「紧密」的，当且仅当 $W$ 是图上的一个连通块，满足 $|W| \\ge 2$，且对于任意 $u,v \\in W$，都满足 $\\text{dis}(u,v) \\le 2$，其中 $\\text{dis}(u,v)$ 为 $u,v$ 最短路径上的边数。\n\n对于世人的一种连接方式，Kisaki 定义它是好的，当且仅当存在 **恰好** 一种方案把 $V$ 划分成若干点集，使得每个划分出的点集都是「紧密」的。\n\n现在，Kisaki 告诉了你 $n$ 和 $t$，她想要知道，有多少种好的连接方式。当然，可能的方案是很多的，所以如你所想地——你所计算的方案数需要对模数 $P$ 取模（$P$ 未必是素数）。另外，她可能会问你很多次。", "inputFormat": "第一行，三个非负整数 $T, P, t$，其中 $T$ 为询问的次数。\n\n接下来 $T$ 行，每行一个正整数 $n$。", "outputFormat": "$T$ 行，每行一个非负整数，代表询问的答案对 $P$ 取模的值。", "hint": "**【样例解释 #1】**\n\n若 $n=3$ 且 $t=1$，一种合法的连接方式如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c89l5zsn.png)\n\n唯一一种对它的合法划分方案为，划分成 $\\{1,2,3\\}$ 这一个集合。这种连接方式在 $t=0$ 时是不合法的。\n\n**【样例解释 #2】**\n\n若 $n=5$，无论 $t=0$ 还是 $t=1$，一种合法的连接方式如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/asn5svxb.png)\n\n唯一一种对它的合法划分方案为，划分成 $\\{1,2\\}$ 和 $\\{3,4,5\\}$ 两个集合。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（1 分）：$P=1$。\n- 子任务 2（6 分）：$n,T \\le 7$，$t=0$。\n- 子任务 3（6 分）：$n,T \\le 7$，$t=1$。\n- 子任务 4（12 分）：$P \\le 2$，$t=1$。\n- 子任务 5（23 分）：$t=0$。\n- 子任务 6（21 分）：$n,T \\le 100$。\n- 子任务 7（17 分）：$P \\ge 10^8$ 且 $P$ 为质数。\n- 子任务 8（14 分）：无特殊限制。\n\n对于所有数据，保证 $1 \\le n,T \\le 5 \\times 10^3$，$0 \\le t \\le 1$，$1 \\le P \\le 1.05 \\times 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T5】「TAOI-3」蓝宝石的存在证明", "background": "原题链接：<https://oier.team/problems/X8F>。\n\n---\n\n她背对着曾崇拜神的祭坛，就像在祈祷的圣女一样。\n\n——啊，神呀。这是何等的悲剧。\n\n能否恳请您把这出悲剧变成喜剧，变成一出任何人也能开怀大笑的愉快喜剧?\n\n然后，若是您大发慈悲，求求实现我的恋情。是的，唯有一回我也乐意。\n\n向神发誓，我赌上一生来爱你。\n\n向神发誓，我求得偿夙愿。", "description": "——只要打开这本魔法之书，自己的存在就会被世人遗忘。\n\n世人之间的连接可以被看做一个 $n$ 个点的有标号无向简单**连通**图 $(V,E)$。此外，Kisaki 还会给你一个整数 $t \\in \\{0,1\\}$，若 $t=0$，则这张无向连通图必须满足任意两点之间存在唯一的简单路径。若 $t=1$，则没有限制。\n\n我们定义一个 $V$ 的一个子集 $W$ 是「紧密」的，当且仅当 $W$ 是图上的一个连通块，满足 $|W| \\ge 2$，且对于任意 $u,v \\in W$，都满足 $\\text{dis}(u,v) \\le 2$，其中 $\\text{dis}(u,v)$ 为 $u,v$ 最短路径上的边数。\n\n对于世人的一种连接方式，Kisaki 定义它是好的，当且仅当存在 **恰好** 一种方案把 $V$ 划分成若干点集，使得每个划分出的点集都是「紧密」的。\n\n现在，Kisaki 告诉了你 $n$ 和 $t$，她想要知道，有多少种好的连接方式。当然，可能的方案是很多的，所以如你所想地——你所计算的方案数需要对模数 $P$ 取模（$P$ 未必是素数）。另外，她可能会问你很多次。", "inputFormat": "第一行，三个非负整数 $T, P, t$，其中 $T$ 为询问的次数。\n\n接下来 $T$ 行，每行一个正整数 $n$。", "outputFormat": "$T$ 行，每行一个非负整数，代表询问的答案对 $P$ 取模的值。", "hint": "**【样例解释 #1】**\n\n若 $n=3$ 且 $t=1$，一种合法的连接方式如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c89l5zsn.png)\n\n唯一一种对它的合法划分方案为，划分成 $\\{1,2,3\\}$ 这一个集合。这种连接方式在 $t=0$ 时是不合法的。\n\n**【样例解释 #2】**\n\n若 $n=5$，无论 $t=0$ 还是 $t=1$，一种合法的连接方式如图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/asn5svxb.png)\n\n唯一一种对它的合法划分方案为，划分成 $\\{1,2\\}$ 和 $\\{3,4,5\\}$ 两个集合。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- 子任务 1（1 分）：$P=1$。\n- 子任务 2（6 分）：$n,T \\le 7$，$t=0$。\n- 子任务 3（6 分）：$n,T \\le 7$，$t=1$。\n- 子任务 4（12 分）：$P \\le 2$，$t=1$。\n- 子任务 5（23 分）：$t=0$。\n- 子任务 6（21 分）：$n,T \\le 100$。\n- 子任务 7（17 分）：$P \\ge 10^8$ 且 $P$ 为质数。\n- 子任务 8（14 分）：无特殊限制。\n\n对于所有数据，保证 $1 \\le n,T \\le 5 \\times 10^3$，$0 \\le t \\le 1$，$1 \\le P \\le 1.05 \\times 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11647", "type": "P", "difficulty": 6, "samples": [], "limits": {"time": [5000, 5000, 5000], "memory": [524288, 524288, 524288]}, "tags": ["交互题", "Special Judge", "O2优化", "梦熊比赛"], "title": "【MX-X8-T6】「TAOI-3」俄罗斯蓝猫", "background": "原题链接：<https://oier.team/problems/X8G>。\n\n---\n\n由于洛谷有特殊的交互题机制，你不需要也不应该在文件开头包含 `kiwi.h`，而是把以下语句复制在文件开头：\n\n```cpp\n#include<vector>\nstd::vector<long long> game(int n);\nstd::vector<long long> ask(std::vector<int> x,std::vector<int> y);\n```\n\n\n---\n\n小千绘莉想和你玩游戏！", "description": "小千藏有 $n$ 个在 $[0,10^{18}]$ 中间**随机生成**的非负整数 $a_0,a_1,\\dots,a_{n-1}$。\n\n你一组询问可以向小千给出不超过 $2n$ 个二元组 $(x_0,y_0),(x_1,y_1),\\dots,(x_{m-1},y_{m-1})$，假设 $b_i=a_{x_i}+a_{y_i}$，小千会告诉你 $b_0,b_1,\\dots,b_{m-1}$ **从小到大排序**后的结果。\n\n你可以向小千提出不超过 $n$ 组询问，你需要**按顺序**返回 $a_0,a_1,\\dots,a_{n-1}$。\n\n需要注意的是：\n\n- 如果你一次询问提出大于 $2n$ 个二元组，或者提出了大于 $n$ 次询问，你会获得 $0$ 分。\n- 小千不喜欢重复，如果你某次询问的某个二元组有 $x_i=y_i$，或者有某个**无序对** $(x_i,y_i)$ 被询问了多次（在一组询问间或两组不同的询问之间）。小千都会扣除部分分数。\n- 具体评分标准见下面【**评分标准**】。\n- **请不要在标准输出输出任何内容**。否则视为攻击交互库。会被判定为 Wrong Answer。", "inputFormat": "你不需要，也不应该实现 `main` 函数。\n\n你需要保证你的文件包含了 `kiwi.h`。你可以通过在代码开头加入下面语句实现：\n\n```cpp\n#include\"kiwi.h\"\n```\n\n你需要实现以下函数：\n\n```cpp\nstd::vector<long long> game(int n);\n```\n\n其中 $n$ 表示随机数的数量。\n\n这个函数应当返回一个长度为 $n$ 的数组，表示你求出的数组 $a_i$。\n\n你可以调用如下函数：\n\n```cpp\nstd::vector<long long> ask(std::vector<int> x,std::vector<int> y);\n```\n\n- 你需要保证 $x,y$ 序列长度相同；\n- 该函数会返回和 $x,y$ 长度相等的序列表示 $a_{x_i}+a_{y_i}$ 从小到大排序后的结果。\n\n保证在题目给定的询问次数和 $x,y$ 长度的限制下，交互库占用资源不超过 $2$ 秒和 $16$ MiB。\n\n下发 `grader.cpp` 为参考交互库，和最终的交互库有所不同。你的做法不应该依赖于交互库实现。\n\n下发 `kiwi.cpp` 为参考实现，你可以通过以下语句来编译你的代码：\n\n```cpp\ng++ grader.cpp kiwi.cpp -o kiwi -O2 -std=c++14 -static\n```\n\n对编译出来的程序，你只需要输入三个正整数 $T,n,R$ 分别表示数据组组数，每组数据的 $n$ 和随机种子。\n\n**实际的交互库中，随机数种子随时间变化。也就是两次不同时间的提交，答案是不同的。**", "outputFormat": "输入完成后，交互库会调用 $T$ 次函数 `game`。每次调用结束后会向标准输出输出以下信息：\n\n- `Wrong Answer[1]` 表示你某次调用 `ask` 函数中 $x,y$ 长度不相同；\n- `Wrong Answer[2]` 表示你某次调用 `ask` 函数中 $x,y$ 长度大于 $2n$；\n- `Wrong Answer[3]` 表示你某次调用 `ask` 函数中 $x_i,y_i$ 的元素不在 $[0,n-1]$ 内；\n- `Wrong Answer[4]` 表示你本次 `game` 中调用了超过 $n$ 次 `ask`；\n- `Wrong Answer[5]` 表示你本次调用 `game` 函数返回序列的长度不是 $n$；\n- `Wrong Answer[6]` 表示你返回了错误的答案；\n- `OK, you can get p points.` 表示你返回了正确的答案，并且获得了这个测试点 $p\\%$ 的分数。评分标准见下面说明。\n\n如果你的代码同时违反了多个规定，只会显示一个，且此时程序会立刻停止。", "hint": "**【评分标准】**\n\n**本题首先会受到和传统相同的限制**。例如编译错误会导致整道题目得 $0$ 分，运行时错误、超过时间限制、超过空间限制都会导致相应测试点得 $0$ 分。选手只能在程序中访问自己定义的和交互库给出的变量或数据，及其相应的内存空间。尝试访问其他位置空间将可能导致编译错误或运行错误。\n\n假设该测试点满分为 $P$。\n\n- 如果你违反了上述 Wrong Answer 的规则，或者在标准输出中输出了内容，会直接得 $0$ 分。\n- 如果你某次调用 `ask` 时 $x_i=y_i$ 则 $C_1=0.8$，否则 $C_1=1$；\n- 如果你调用 `ask` 时，询问了两组相同的 $\\{x_i,y_i\\}$ 则 $C_2=0.7$，否则 $C_2=1$；\n- 假设你一共调用了 $A$ 次 `ask`，则：\n\t- 如果 $0\\leq A\\leq 2$，则 $C_3=1$；\n   - 如果 $A=3$，则 $C_3=0.8$；\n   - 如果 $A=4$，则 $C_3=0.6$；\n   - 如果 $5\\leq A\\leq 10$，则 $C_3=0.4$；\n   - 如果 $11\\leq A$，则 $C_3=0.2$。\n- 假设你调用 `ask` 时，$x$ 数组的**最大长度**为 $B$，则：\n\t- 如果 $1\\leq B\\leq n-1$，则 $C_4=1$；\n   - 如果 $B=n$，则 $C_4=0.9$；\n   - 如果 $B=n+1$，则 $C_4=0.8$；\n   - 如果 $B=n+2$，则 $C_4=0.7$；\n   - 如果 $n+3\\leq B\\leq n+20$，则 $C_4=0.6$；\n   - 如果 $n+21\\leq B$，则 $C_4=0.5$。\n   \n本测试点的最终得分为所有 `game` 函数，$P\\times C_1\\times C_2\\times C_3\\times C_4$ 最小值**向下取整**。\n\n**【数据范围】**\n\n对于所有数据，保证 $T=20$，$5\\leq n\\leq 500$。\n\n- 测试点 1（30 分）：$n=5$。\n- 测试点 2（30 分）：$n=50$。\n- 测试点 3（40 分）：$n=500$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T6】「TAOI-3」俄罗斯蓝猫", "background": "原题链接：<https://oier.team/problems/X8G>。\n\n---\n\n由于洛谷有特殊的交互题机制，你不需要也不应该在文件开头包含 `kiwi.h`，而是把以下语句复制在文件开头：\n\n```cpp\n#include<vector>\nstd::vector<long long> game(int n);\nstd::vector<long long> ask(std::vector<int> x,std::vector<int> y);\n```\n\n\n---\n\n小千绘莉想和你玩游戏！", "description": "小千藏有 $n$ 个在 $[0,10^{18}]$ 中间**随机生成**的非负整数 $a_0,a_1,\\dots,a_{n-1}$。\n\n你一组询问可以向小千给出不超过 $2n$ 个二元组 $(x_0,y_0),(x_1,y_1),\\dots,(x_{m-1},y_{m-1})$，假设 $b_i=a_{x_i}+a_{y_i}$，小千会告诉你 $b_0,b_1,\\dots,b_{m-1}$ **从小到大排序**后的结果。\n\n你可以向小千提出不超过 $n$ 组询问，你需要**按顺序**返回 $a_0,a_1,\\dots,a_{n-1}$。\n\n需要注意的是：\n\n- 如果你一次询问提出大于 $2n$ 个二元组，或者提出了大于 $n$ 次询问，你会获得 $0$ 分。\n- 小千不喜欢重复，如果你某次询问的某个二元组有 $x_i=y_i$，或者有某个**无序对** $(x_i,y_i)$ 被询问了多次（在一组询问间或两组不同的询问之间）。小千都会扣除部分分数。\n- 具体评分标准见下面【**评分标准**】。\n- **请不要在标准输出输出任何内容**。否则视为攻击交互库。会被判定为 Wrong Answer。", "inputFormat": "你不需要，也不应该实现 `main` 函数。\n\n你需要保证你的文件包含了 `kiwi.h`。你可以通过在代码开头加入下面语句实现：\n\n```cpp\n#include\"kiwi.h\"\n```\n\n你需要实现以下函数：\n\n```cpp\nstd::vector<long long> game(int n);\n```\n\n其中 $n$ 表示随机数的数量。\n\n这个函数应当返回一个长度为 $n$ 的数组，表示你求出的数组 $a_i$。\n\n你可以调用如下函数：\n\n```cpp\nstd::vector<long long> ask(std::vector<int> x,std::vector<int> y);\n```\n\n- 你需要保证 $x,y$ 序列长度相同；\n- 该函数会返回和 $x,y$ 长度相等的序列表示 $a_{x_i}+a_{y_i}$ 从小到大排序后的结果。\n\n保证在题目给定的询问次数和 $x,y$ 长度的限制下，交互库占用资源不超过 $2$ 秒和 $16$ MiB。\n\n下发 `grader.cpp` 为参考交互库，和最终的交互库有所不同。你的做法不应该依赖于交互库实现。\n\n下发 `kiwi.cpp` 为参考实现，你可以通过以下语句来编译你的代码：\n\n```cpp\ng++ grader.cpp kiwi.cpp -o kiwi -O2 -std=c++14 -static\n```\n\n对编译出来的程序，你只需要输入三个正整数 $T,n,R$ 分别表示数据组组数，每组数据的 $n$ 和随机种子。\n\n**实际的交互库中，随机数种子随时间变化。也就是两次不同时间的提交，答案是不同的。**", "outputFormat": "输入完成后，交互库会调用 $T$ 次函数 `game`。每次调用结束后会向标准输出输出以下信息：\n\n- `Wrong Answer[1]` 表示你某次调用 `ask` 函数中 $x,y$ 长度不相同；\n- `Wrong Answer[2]` 表示你某次调用 `ask` 函数中 $x,y$ 长度大于 $2n$；\n- `Wrong Answer[3]` 表示你某次调用 `ask` 函数中 $x_i,y_i$ 的元素不在 $[0,n-1]$ 内；\n- `Wrong Answer[4]` 表示你本次 `game` 中调用了超过 $n$ 次 `ask`；\n- `Wrong Answer[5]` 表示你本次调用 `game` 函数返回序列的长度不是 $n$；\n- `Wrong Answer[6]` 表示你返回了错误的答案；\n- `OK, you can get p points.` 表示你返回了正确的答案，并且获得了这个测试点 $p\\%$ 的分数。评分标准见下面说明。\n\n如果你的代码同时违反了多个规定，只会显示一个，且此时程序会立刻停止。", "hint": "**【评分标准】**\n\n**本题首先会受到和传统相同的限制**。例如编译错误会导致整道题目得 $0$ 分，运行时错误、超过时间限制、超过空间限制都会导致相应测试点得 $0$ 分。选手只能在程序中访问自己定义的和交互库给出的变量或数据，及其相应的内存空间。尝试访问其他位置空间将可能导致编译错误或运行错误。\n\n假设该测试点满分为 $P$。\n\n- 如果你违反了上述 Wrong Answer 的规则，或者在标准输出中输出了内容，会直接得 $0$ 分。\n- 如果你某次调用 `ask` 时 $x_i=y_i$ 则 $C_1=0.8$，否则 $C_1=1$；\n- 如果你调用 `ask` 时，询问了两组相同的 $\\{x_i,y_i\\}$ 则 $C_2=0.7$，否则 $C_2=1$；\n- 假设你一共调用了 $A$ 次 `ask`，则：\n\t- 如果 $0\\leq A\\leq 2$，则 $C_3=1$；\n   - 如果 $A=3$，则 $C_3=0.8$；\n   - 如果 $A=4$，则 $C_3=0.6$；\n   - 如果 $5\\leq A\\leq 10$，则 $C_3=0.4$；\n   - 如果 $11\\leq A$，则 $C_3=0.2$。\n- 假设你调用 `ask` 时，$x$ 数组的**最大长度**为 $B$，则：\n\t- 如果 $1\\leq B\\leq n-1$，则 $C_4=1$；\n   - 如果 $B=n$，则 $C_4=0.9$；\n   - 如果 $B=n+1$，则 $C_4=0.8$；\n   - 如果 $B=n+2$，则 $C_4=0.7$；\n   - 如果 $n+3\\leq B\\leq n+20$，则 $C_4=0.6$；\n   - 如果 $n+21\\leq B$，则 $C_4=0.5$。\n   \n本测试点的最终得分为所有 `game` 函数，$P\\times C_1\\times C_2\\times C_3\\times C_4$ 最小值**向下取整**。\n\n**【数据范围】**\n\n对于所有数据，保证 $T=20$，$5\\leq n\\leq 500$。\n\n- 测试点 1（30 分）：$n=5$。\n- 测试点 2（30 分）：$n=50$。\n- 测试点 3（40 分）：$n=500$。", "locale": "zh-CN"}}}
{"pid": "P11648", "type": "P", "difficulty": 7, "samples": [["5 3\n1 4 5\n2 1 3 1 1\n5 4\n5 1\n4 2\n1 3\n", "107 1 5 3 6\n"], ["10 4\n181 339 132 527\n2 1 1 1 1 3 1 1 4 4\n8 5\n5 2\n2 9\n9 3\n8 4\n9 1\n1 6\n2 10\n8 7\n", "183192077 480177 181 181 1810 132 181 1086 1720916 527\n"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-X8-T7】「TAOI-3」2236 A.D.", "background": "原题链接：<https://oier.team/problems/X8H>。\n\n---\n\n公元 2236 年 4 月 1 日，收到了 99 封邮件。\n\n这 99 封内容完全相同的邮件的发件人是......她。", "description": "Masuko 有一棵 $n$ 个结点的树，以 $1$ 为根，每个结点上都有一个 $[1,k]$ 之间的颜色 $c_i$（$\\bm{k \\le 15}$），同时给定权值数组 $a_1,a_2,\\dots,a_{k}$。\n\n定义两个点 $u,v$ 之间的权值 $f(u,v)$ 如下：\n\n- 设 $u=p_1,p_2,\\dots,p_m=v$ 是 $u$ 到 $v$ 的最短路径，$f(u,v)=\\prod_{i\\in\\{x|\\exists j\\in[1,m],c_{p_j}=x\\}}a_i$。\n\n即 $u,v$ 最短路径上所有出现过的颜色的权值乘积。\n\n你需要对每个 $u=1,2,3,\\dots,n$。求出 $u$ 子树内，所有无序点对的权值和。具体的，假设 $S_u$ 表示所有到根的最短路径上经过 $u$ 的结点组成的集合，你需要输出：\n\n$$\n\\sum_{x,y\\in S_u,x\\leq y} f(x,y)\n$$\n\n答案对 $998244353$ 取模。", "inputFormat": "第一行，两个正整数 $n,k$。\n\n第二行，$k$ 个非负整数 $a_1,a_2,\\dots,a_k$。\n\n第三行，$n$ 个正整数 $c_1,c_2,\\dots,c_n$。\n\n接下来 $(n-1)$ 行，每行两个正整数 $u_i, v_i$，表示一条连接点 $u_i$、$v_i$ 的边。", "outputFormat": "仅一行，$n$ 个非负整数，其中第 $i$ 个表示考虑 $i$ 子树内所有无序点对的权值之和，对 $998244353$ 取模后的结果。", "hint": "**【样例解释 #1】**\n\n- 当 $u=2$ 时，$u$ 子树内只有 $\\{2\\}$，$f(2,2)=a_{c_2}=1$。\n- 当 $u=4$ 时，$u$ 子树内有 $\\{2,4\\}$，答案为 $f(2,2)+f(4,4)+f(2,4)=1+1+1=3$。\n\n\n**【数据范围】**\n\n**本题采用捆绑测试**。\n\n- 子任务 1（5 分）：$n\\leq 1000$；\n- 子任务 2（10 分）：$n\\leq 5000$；\n- 子任务 3（10 分）：$k=2$；\n- 子任务 4（10 分）：$v_i=u_i+1$；\n- 子任务 5（10 分）：$u_i=1$；\n- 子任务 6（20 分）：$u_i$ 在 $[1,i]$ 中随机生成，$v_i=i+1$；\n- 子任务 7（15 分）：$n\\leq 10^5$；\n- 子任务 8（10 分）：$n\\leq 2\\times 10^5$；\n- 子任务 9（10 分）：无特殊限制。\n\n\n对于所有数据，保证 $1\\leq n\\leq 5\\times 10^5$，$1\\leq k\\leq 15$，$0\\leq a_i<998244353$，$1\\leq c_i\\leq k$，$1 \\le u_i,v_i \\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X8-T7】「TAOI-3」2236 A.D.", "background": "原题链接：<https://oier.team/problems/X8H>。\n\n---\n\n公元 2236 年 4 月 1 日，收到了 99 封邮件。\n\n这 99 封内容完全相同的邮件的发件人是......她。", "description": "Masuko 有一棵 $n$ 个结点的树，以 $1$ 为根，每个结点上都有一个 $[1,k]$ 之间的颜色 $c_i$（$\\bm{k \\le 15}$），同时给定权值数组 $a_1,a_2,\\dots,a_{k}$。\n\n定义两个点 $u,v$ 之间的权值 $f(u,v)$ 如下：\n\n- 设 $u=p_1,p_2,\\dots,p_m=v$ 是 $u$ 到 $v$ 的最短路径，$f(u,v)=\\prod_{i\\in\\{x|\\exists j\\in[1,m],c_{p_j}=x\\}}a_i$。\n\n即 $u,v$ 最短路径上所有出现过的颜色的权值乘积。\n\n你需要对每个 $u=1,2,3,\\dots,n$。求出 $u$ 子树内，所有无序点对的权值和。具体的，假设 $S_u$ 表示所有到根的最短路径上经过 $u$ 的结点组成的集合，你需要输出：\n\n$$\n\\sum_{x,y\\in S_u,x\\leq y} f(x,y)\n$$\n\n答案对 $998244353$ 取模。", "inputFormat": "第一行，两个正整数 $n,k$。\n\n第二行，$k$ 个非负整数 $a_1,a_2,\\dots,a_k$。\n\n第三行，$n$ 个正整数 $c_1,c_2,\\dots,c_n$。\n\n接下来 $(n-1)$ 行，每行两个正整数 $u_i, v_i$，表示一条连接点 $u_i$、$v_i$ 的边。", "outputFormat": "仅一行，$n$ 个非负整数，其中第 $i$ 个表示考虑 $i$ 子树内所有无序点对的权值之和，对 $998244353$ 取模后的结果。", "hint": "**【样例解释 #1】**\n\n- 当 $u=2$ 时，$u$ 子树内只有 $\\{2\\}$，$f(2,2)=a_{c_2}=1$。\n- 当 $u=4$ 时，$u$ 子树内有 $\\{2,4\\}$，答案为 $f(2,2)+f(4,4)+f(2,4)=1+1+1=3$。\n\n\n**【数据范围】**\n\n**本题采用捆绑测试**。\n\n- 子任务 1（5 分）：$n\\leq 1000$；\n- 子任务 2（10 分）：$n\\leq 5000$；\n- 子任务 3（10 分）：$k=2$；\n- 子任务 4（10 分）：$v_i=u_i+1$；\n- 子任务 5（10 分）：$u_i=1$；\n- 子任务 6（20 分）：$u_i$ 在 $[1,i]$ 中随机生成，$v_i=i+1$；\n- 子任务 7（15 分）：$n\\leq 10^5$；\n- 子任务 8（10 分）：$n\\leq 2\\times 10^5$；\n- 子任务 9（10 分）：无特殊限制。\n\n\n对于所有数据，保证 $1\\leq n\\leq 5\\times 10^5$，$1\\leq k\\leq 15$，$0\\leq a_i<998244353$，$1\\leq c_i\\leq k$，$1 \\le u_i,v_i \\le n$。", "locale": "zh-CN"}}}
{"pid": "P11649", "type": "P", "difficulty": 2, "samples": [["7 1\nQ 4 4", "25"], ["5 1\nN 3 3", "9"], ["6 3\nR 1 4\nQ 2 1\nN 5 2", "25"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #4] 棋 / Šah", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T1。$\\texttt{3s,0.5G}$。满分为 $50$。\n", "description": "\n有一块 $n\\times n$ 的国际象棋棋盘，上面摆放着 $m$ 个棋子。棋子的类型只有骑士（knight），车（rook）和皇后（queen）。\n\n已知\n\n- 骑士的攻击范围为：**骑士所在的格子**，以及骑士所在的格子走一列两行（或者一行两列）能走到的所有格子；\n- 车的攻击范围为：与车所在的格子同一行或者同一列的格子（**包括车所在的格子**）；\n- 皇后的攻击范围为：与皇后所在的格子同一行，同一列或者同一对角线的格子（**包括皇后所在的格子**）。\n\n求出这个棋盘上有多少个格子被至少一个棋子攻击。\n", "inputFormat": "\n第一行，两个正整数 $n,m$。\n\n接下来 $m$ 行，每行一个字符和两个正整数 $C,x,y$，表示有一枚类型 $C$ 的棋子在 $(x,y)$。\n\n- $C=\\texttt{N}$，表示骑士；\n- $C=\\texttt{R}$，表示车；\n- $C=\\texttt{Q}$，表示皇后。\n\n数据保证不会有两个棋子在一个格子里。", "outputFormat": "输出一行一个正整数，表示答案。\n", "hint": "\n#### 样例解释\n\n样例 $1,2$ 解释见图片。注意，每个棋子也会攻击它所在的格子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p046yc9x.png)![](https://cdn.luogu.com.cn/upload/image_hosting/nn6oomkg.png)\n\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 200$；\n- $1\\le m\\le n^2$；\n- 不会有两个棋子在一个格子里。\n\n| 子任务编号 | $C\\in $ | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  $\\texttt{R}$    |   $ 13 $   |  \n| $ 2 $    |  $\\texttt{R},\\texttt{Q}$  |  $ 19 $   |  \n| $ 3 $   | $ \\texttt{N},\\texttt{R},\\texttt{Q} $   | $18$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #4] 棋 / Šah", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T1。$\\texttt{3s,0.5G}$。满分为 $50$。\n", "description": "\n有一块 $n\\times n$ 的国际象棋棋盘，上面摆放着 $m$ 个棋子。棋子的类型只有骑士（knight），车（rook）和皇后（queen）。\n\n已知\n\n- 骑士的攻击范围为：**骑士所在的格子**，以及骑士所在的格子走一列两行（或者一行两列）能走到的所有格子；\n- 车的攻击范围为：与车所在的格子同一行或者同一列的格子（**包括车所在的格子**）；\n- 皇后的攻击范围为：与皇后所在的格子同一行，同一列或者同一对角线的格子（**包括皇后所在的格子**）。\n\n求出这个棋盘上有多少个格子被至少一个棋子攻击。\n", "inputFormat": "\n第一行，两个正整数 $n,m$。\n\n接下来 $m$ 行，每行一个字符和两个正整数 $C,x,y$，表示有一枚类型 $C$ 的棋子在 $(x,y)$。\n\n- $C=\\texttt{N}$，表示骑士；\n- $C=\\texttt{R}$，表示车；\n- $C=\\texttt{Q}$，表示皇后。\n\n数据保证不会有两个棋子在一个格子里。", "outputFormat": "输出一行一个正整数，表示答案。\n", "hint": "\n#### 样例解释\n\n样例 $1,2$ 解释见图片。注意，每个棋子也会攻击它所在的格子。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p046yc9x.png)![](https://cdn.luogu.com.cn/upload/image_hosting/nn6oomkg.png)\n\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 200$；\n- $1\\le m\\le n^2$；\n- 不会有两个棋子在一个格子里。\n\n| 子任务编号 | $C\\in $ | 得分 |  \n| :--: | :--: | :--: | \n| $ 1 $    |  $\\texttt{R}$    |   $ 13 $   |  \n| $ 2 $    |  $\\texttt{R},\\texttt{Q}$  |  $ 19 $   |  \n| $ 3 $   | $ \\texttt{N},\\texttt{R},\\texttt{Q} $   | $18$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P11650", "type": "P", "difficulty": 3, "samples": [["5 5 12\n3 4 7 8 11\n3 2 1 2 1", "3"], ["5 10 40\n1 20 30 2 38\n7 7 7 7 7", "5"], ["4 5 12\n3 6 9 10\n2 1 2 2", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2025", "排序", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #4] 力 / Benzinska", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T2。$\\texttt{1s,0.5G}$。满分为 $70$。\n", "description": "\n在数轴上，Malnar 从原点（$x=0$）出发，前往 $x=X$ 处。\n\nMalnar 初始有 $D$ 单位能量，每走一个单位长度消耗一单位能量。在整个过程中，能量必须**不小于** $0$。\n\n有 $n$ 个餐馆，第 $i$ 个餐馆位于 $x=x_i$ 处，在第 $i$ 个餐馆用餐可以使能量增加 $y_i$。**至多只能在每个餐馆用一次餐，且不同餐馆的 $x_i$ 可能相同。**\n\n求出为了达成目标，至少需要在多少个餐馆用餐。", "inputFormat": "\n第一行，三个正整数 $n,D,X$。\n\n第二行，$n$ 个正整数 $x_1,\\ldots,x_n$。\n\n第三行，$n$ 个正整数 $y_1,\\ldots,y_n$。\n", "outputFormat": "\n如果不可能，输出一行一个 $\\texttt{-1}$。\n\n否则输出一行一个非负整数表示答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：在第 $1,2,4$ 个餐馆用餐。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；\n- $1\\le D,X,y_i\\le 10^9$；\n- $1\\le x_i\\lt X$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^5$ |  A   |   $ 15 $   |  \n| $ 2 $    | $10^3$ |   |  $ 30 $   |  \n| $ 3 $    | $2\\times 10^5$  |  | $ 25 $   |\n\n- 特殊性质 A：$y_i$ 全相等。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #4] 力 / Benzinska", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T2。$\\texttt{1s,0.5G}$。满分为 $70$。\n", "description": "\n在数轴上，Malnar 从原点（$x=0$）出发，前往 $x=X$ 处。\n\nMalnar 初始有 $D$ 单位能量，每走一个单位长度消耗一单位能量。在整个过程中，能量必须**不小于** $0$。\n\n有 $n$ 个餐馆，第 $i$ 个餐馆位于 $x=x_i$ 处，在第 $i$ 个餐馆用餐可以使能量增加 $y_i$。**至多只能在每个餐馆用一次餐，且不同餐馆的 $x_i$ 可能相同。**\n\n求出为了达成目标，至少需要在多少个餐馆用餐。", "inputFormat": "\n第一行，三个正整数 $n,D,X$。\n\n第二行，$n$ 个正整数 $x_1,\\ldots,x_n$。\n\n第三行，$n$ 个正整数 $y_1,\\ldots,y_n$。\n", "outputFormat": "\n如果不可能，输出一行一个 $\\texttt{-1}$。\n\n否则输出一行一个非负整数表示答案。", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：在第 $1,2,4$ 个餐馆用餐。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；\n- $1\\le D,X,y_i\\le 10^9$；\n- $1\\le x_i\\lt X$。\n\n\n| 子任务编号 | $n\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^5$ |  A   |   $ 15 $   |  \n| $ 2 $    | $10^3$ |   |  $ 30 $   |  \n| $ 3 $    | $2\\times 10^5$  |  | $ 25 $   |\n\n- 特殊性质 A：$y_i$ 全相等。\n\n", "locale": "zh-CN"}}}
{"pid": "P11651", "type": "P", "difficulty": 5, "samples": [["3\n2 4 5", "14"], ["4\n6 7 3 1", "3"], ["7\n2 3 5 7 9 11 13", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #4] Xor", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T3。$\\texttt{1s,0.5G}$。满分为 $90$。\n", "description": "\n给定长度为 $n$ 的非负整数序列 $a_1,a_2,\\ldots,a_n$，求出 $\\displaystyle \\bigoplus _{1\\le i\\le j\\le n} \\left(a_i+a_j\\right) $。\n\n这里，$\\oplus$ 指按位异或运算。\n", "inputFormat": "\n第一行，一个正整数 $n$。\n\n第二行，$n$ 个非负整数 $a_1,a_2,\\ldots,a_n$。\n\n", "outputFormat": "输出一行一个整数表示答案。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 5\\times 10^5$；\n- $0\\le a_i\\lt 2^{30}$。\n\n\n| 子任务编号 | $n\\le$ |  $a_i\\lt$ | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^3$ | $2^{30}$  |   $ 7 $   |  \n| $ 2 $    | $5\\times 10^5$ | $2^{10}$  |   $ 17 $   |  \n| $ 3 $    | $10^5$ | $2^{30}$  |   $ 45 $   |  \n| $ 4 $    | $5\\times 10^5$ | $2^{30}$  |   $ 21 $   |  \n\n\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #4] Xor", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T3。$\\texttt{1s,0.5G}$。满分为 $90$。\n", "description": "\n给定长度为 $n$ 的非负整数序列 $a_1,a_2,\\ldots,a_n$，求出 $\\displaystyle \\bigoplus _{1\\le i\\le j\\le n} \\left(a_i+a_j\\right) $。\n\n这里，$\\oplus$ 指按位异或运算。\n", "inputFormat": "\n第一行，一个正整数 $n$。\n\n第二行，$n$ 个非负整数 $a_1,a_2,\\ldots,a_n$。\n\n", "outputFormat": "输出一行一个整数表示答案。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 5\\times 10^5$；\n- $0\\le a_i\\lt 2^{30}$。\n\n\n| 子任务编号 | $n\\le$ |  $a_i\\lt$ | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $2\\times 10^3$ | $2^{30}$  |   $ 7 $   |  \n| $ 2 $    | $5\\times 10^5$ | $2^{10}$  |   $ 17 $   |  \n| $ 3 $    | $10^5$ | $2^{30}$  |   $ 45 $   |  \n| $ 4 $    | $5\\times 10^5$ | $2^{30}$  |   $ 21 $   |  \n\n\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11652", "type": "P", "difficulty": 0, "samples": [["5 1 6\n2 1 2 1 2 1", "5"], ["6 0 4\n5 4 3 4", "17"], ["3 2 7\n1 2 3 2 3 1 3", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #4] 鞋 / Cipele（疑似错题）", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T4。$\\texttt{2s,0.5G}$。满分为 $120$。\n\n根据[讨论](https://codeforces.com/blog/entry/138804?#comment-1242632)，本题为错题，可能不存在靠谱做法。\n", "description": "\n有 $n$ 双鞋，标号 $1\\sim n$。鞋柜是一个栈，初始鞋都在鞋柜中，从栈顶到栈底依次是第 $1,2,\\ldots,n$ 双鞋。\n\n接下来 $q$ 天，第 $i$ 天要穿标号为 $a_i$ 的鞋。如果这双鞋是栈顶到栈底第 $j$ 双鞋，则需要 $j$ 秒将其拿出（不改变其他鞋的相对顺序）；如果这双鞋在走廊里，则不花费时间。\n\n每天结束时，可以选择将标号为 $a_i$ 的鞋入栈，或者放在走廊里。走廊里至多能放 $m$ 双鞋。\n\n额外地，**除了取鞋的过程中**，随时都可以从走廊取任意多双鞋（以任意顺序）入栈。\n\n试最小化取鞋用的总时间。", "inputFormat": "\n第一行，三个整数 $n,m,q$。\n\n第二行，$q$ 个正整数 $a_1,a_2,\\ldots,a_q$。\n", "outputFormat": "输出一行一个正整数，表示答案。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：第 $1$ 天时取第 $2$ 双鞋并放在走廊。穿完第 $1$ 双鞋后立刻放入栈中。不难发现这样只需要 $2+1+0+1+0+1=5$ 秒。\n\n#### 提示\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；\n- $0\\le m\\le 2\\times 10^5$；\n- $1 \\le q\\le 10^6$；\n- $1\\le a_i\\le n$。\n\n\n| 子任务编号 | $n,m\\le$ | $q\\le $ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |:--: | \n| $ 1 $    | $10^3$ | $10^3$ |    |$ 17 $   |  \n| $ 2 $    | $2\\times 10^5$ | $10^6$ |  A  |$ 27 $   |  \n| $ 3 $    | $2\\times 10^5$ | $10^6$ |  B |$ 37 $   |  \n| $ 4 $    | $2\\times 10^5$ | $2\\times 10^5$ |    |$ 24 $   |  \n| $ 5 $    | $2\\times 10^5$ | $10^6$ |    |$ 15 $   |  \n\n- 特殊性质 A：$n=m$。\n- 特殊性质 B：$m=0$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #4] 鞋 / Cipele（疑似错题）", "background": "译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T4。$\\texttt{2s,0.5G}$。满分为 $120$。\n\n根据[讨论](https://codeforces.com/blog/entry/138804?#comment-1242632)，本题为错题，可能不存在靠谱做法。\n", "description": "\n有 $n$ 双鞋，标号 $1\\sim n$。鞋柜是一个栈，初始鞋都在鞋柜中，从栈顶到栈底依次是第 $1,2,\\ldots,n$ 双鞋。\n\n接下来 $q$ 天，第 $i$ 天要穿标号为 $a_i$ 的鞋。如果这双鞋是栈顶到栈底第 $j$ 双鞋，则需要 $j$ 秒将其拿出（不改变其他鞋的相对顺序）；如果这双鞋在走廊里，则不花费时间。\n\n每天结束时，可以选择将标号为 $a_i$ 的鞋入栈，或者放在走廊里。走廊里至多能放 $m$ 双鞋。\n\n额外地，**除了取鞋的过程中**，随时都可以从走廊取任意多双鞋（以任意顺序）入栈。\n\n试最小化取鞋用的总时间。", "inputFormat": "\n第一行，三个整数 $n,m,q$。\n\n第二行，$q$ 个正整数 $a_1,a_2,\\ldots,a_q$。\n", "outputFormat": "输出一行一个正整数，表示答案。\n", "hint": "\n#### 样例解释\n\n样例 $1$ 解释：第 $1$ 天时取第 $2$ 双鞋并放在走廊。穿完第 $1$ 双鞋后立刻放入栈中。不难发现这样只需要 $2+1+0+1+0+1=5$ 秒。\n\n#### 提示\n\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^5$；\n- $0\\le m\\le 2\\times 10^5$；\n- $1 \\le q\\le 10^6$；\n- $1\\le a_i\\le n$。\n\n\n| 子任务编号 | $n,m\\le$ | $q\\le $ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: | :--: |:--: | \n| $ 1 $    | $10^3$ | $10^3$ |    |$ 17 $   |  \n| $ 2 $    | $2\\times 10^5$ | $10^6$ |  A  |$ 27 $   |  \n| $ 3 $    | $2\\times 10^5$ | $10^6$ |  B |$ 37 $   |  \n| $ 4 $    | $2\\times 10^5$ | $2\\times 10^5$ |    |$ 24 $   |  \n| $ 5 $    | $2\\times 10^5$ | $10^6$ |    |$ 15 $   |  \n\n- 特殊性质 A：$n=m$。\n- 特殊性质 B：$m=0$。\n\n", "locale": "zh-CN"}}}
{"pid": "P11653", "type": "P", "difficulty": 5, "samples": [["5 1\n3 1\n3 2\n3 4\n3 5\n2 4\n3 5", "2"], ["6 7\n3 2\n5 3\n1 4\n6 1\n5 6\n4 2\n4 5\n1 2\n4 2\n2 6\n3 1\n1 6\n6 4", "10"], ["7 3\n4 1\n4 3\n6 4\n2 6\n5 2\n5 7\n4 4\n3 6\n4 1\n7 5", "-1"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "COCI（克罗地亚）"], "title": "[COCI 2024/2025 #4] 猫 / Tura Mačkica", "background": "\n译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T5。$\\texttt{0.5s,0.5G}$。满分为 $120$。\n\n猫是有很强的领土意识的动物。", "description": "\n给定一张 $n$ 个节点，$(n+m)$ 条边的图。\n\n其中 $n$ 条边是无向边，**保证只保留这 $n$ 条边时，图仍然连通。** 无向边**可能有重边自环**。\n\n此外，还有 $m$ 条有向边，每条有向边上有一只猫。有向边**可能有重边**，但没有自环。\n\n大家都喜欢撸猫。为此，你需要找到一条回路，使得这条回路经过每条有向边恰好一次。**每条边至多只能经过一次**。求出合法的回路的长度的最小值。\n\n（注：从两个方向经过同一条无向边，算作经过两次，因此是不合法的。）", "inputFormat": "\n第一行，两个非负整数 $n,m$。\n\n接下来 $n$ 行，每行两个正整数 $u_i,v_i$，描述一条无向边 $(u_i,v_i)$。注意可能有重边自环。\n\n接下来 $m$ 行，每行两个正整数 $x_i,y_i$，描述一条有向边 $x_i\\to y_i$。注意可能有重边。\n", "outputFormat": "\n如果不可能，输出一行一个 $\\texttt{-1}$；\n\n否则输出一行一个非负整数表示答案。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^4$；\n- $0\\le m\\le 2\\times 10^4$；  \n- $1\\le u_i,v_i,x_i,y_i\\le n$；\n- 只保留 $n$ 条无向边时，图是连通的；\n\n| 子任务编号 | $n,m\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $20$ |  |   $ 11 $   |  \n| $ 2 $    | $2\\times 10^4$ | A |  $ 41 $   |  \n| $ 3 $    | $2\\times 10^4$ |   |  $ 68 $   |  \n\n- 特殊性质 A：无向边中存在自环。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2024/2025 #4] 猫 / Tura Mačkica", "background": "\n译自 [COCI 2024/2025 #4](https://hsin.hr/coci/) T5。$\\texttt{0.5s,0.5G}$。满分为 $120$。\n\n猫是有很强的领土意识的动物。", "description": "\n给定一张 $n$ 个节点，$(n+m)$ 条边的图。\n\n其中 $n$ 条边是无向边，**保证只保留这 $n$ 条边时，图仍然连通。** 无向边**可能有重边自环**。\n\n此外，还有 $m$ 条有向边，每条有向边上有一只猫。有向边**可能有重边**，但没有自环。\n\n大家都喜欢撸猫。为此，你需要找到一条回路，使得这条回路经过每条有向边恰好一次。**每条边至多只能经过一次**。求出合法的回路的长度的最小值。\n\n（注：从两个方向经过同一条无向边，算作经过两次，因此是不合法的。）", "inputFormat": "\n第一行，两个非负整数 $n,m$。\n\n接下来 $n$ 行，每行两个正整数 $u_i,v_i$，描述一条无向边 $(u_i,v_i)$。注意可能有重边自环。\n\n接下来 $m$ 行，每行两个正整数 $x_i,y_i$，描述一条有向边 $x_i\\to y_i$。注意可能有重边。\n", "outputFormat": "\n如果不可能，输出一行一个 $\\texttt{-1}$；\n\n否则输出一行一个非负整数表示答案。\n", "hint": "\n对于 $100\\%$ 的数据，保证：\n\n- $1\\le n\\le 2\\times 10^4$；\n- $0\\le m\\le 2\\times 10^4$；  \n- $1\\le u_i,v_i,x_i,y_i\\le n$；\n- 只保留 $n$ 条无向边时，图是连通的；\n\n| 子任务编号 | $n,m\\le$ |  特殊性质 | 得分 |  \n| :--: | :--: | :--: |:--: | \n| $ 1 $    | $20$ |  |   $ 11 $   |  \n| $ 2 $    | $2\\times 10^4$ | A |  $ 41 $   |  \n| $ 3 $    | $2\\times 10^4$ |   |  $ 68 $   |  \n\n- 特殊性质 A：无向边中存在自环。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P11654", "type": "P", "difficulty": 1, "samples": [["5 3 3\n10 2\n12 4\n3 6\n8 7\n9 3\n5 2\n5 7\n1 7\n4 6\n10 5", "Accepted\nTime Limit Exceeded\nSystem Error\nMemory Limit Exceeded\nAccepted"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2025", "洛谷原创", "O2优化", "洛谷比赛"], "title": "「FAOI-R5」becoder", "background": "**警告：请不要试图使用 AI，使用者按作弊处理。**", "description": "$\\text {becoder}$ 拥有所有中文 OJ 中最快的评测机，现在评测机需要处理 $n$ 次题目的评测。已知第 $i$ 次题目的评测在某中文 OJ 上跑了 $T_i$ 秒，空间耗费 $M_i$。\n\n$\\text {becoder}$ 的评测机实在是太快了，你可以把 $\\text {becoder}$ 跑第 $i$ 个评测的时间视为 $\\left \\lfloor \\frac{T_i}{2} \\right \\rfloor $。\n\n告诉你 $\\text {becoder}$ 上 $n$ 次题目评测的时间限制 $t_i$ 和空间限制 $m_i$。以及，在测评 $[L,R]$ 内的题目时，$\\text {becoder}$ 的评测机会打瞌睡。\n\n$\\text {becoder}$ 的评测机按如下规则评判提交：\n- 如果 $\\text {becoder}$ 的评测机在打瞌睡，评测结果会返回 ```System Error```；\n- 如果 $\\text {becoder}$ 的评测机没有打瞌睡，且你的代码空间超限，即 $M_i > m_i$，评测结果会返回 ```Memory Limit Exceeded```；\n- 如果 $\\text {becoder}$ 的评测机没有打瞌睡，且你的代码空间不超限，时间超限，即 $M_i \\le m_i,\\left \\lfloor \\frac{T_i}{2} \\right \\rfloor > t_i$，评测结果会返回 ```Time Limit Exceeded```。\n- 否则，$\\text {becoder}$ 评测机会返回 ```Accepted```。\n\n请你输出所有 $\\text {becoder}$ 对于每个测评会返回的结果。你不考虑除上述四种返回结果以外的情况。", "inputFormat": "第一行三个正整数，$n,L,R$，代表询问的次数，和评测机睡觉的区间。\n\n接下来 $n$ 行，每行两个正整数代表 $T_i,M_i$。\n\n接下来 $n$ 行，每行两个正整数代表 $t_i,m_i$。", "outputFormat": "共 $n$ 行，第 $i$ 行一个字符串代表第 $i$ 次评测的结果。", "hint": "**本题开启捆绑测试**。\n\n+ Subtask 1（30 pts）：$1 \\le n,m \\le 10^3$。\n+ Subtask 2（30 pts）：$1 \\le T_i,M_i,t_i,m_i \\le 10^3$。\n+ Subtask 3（40 pts）：无附加限制。\n\n对于 $\\text{100}\\%$ 的数据，$1 \\le L \\le R \\le n \\le 10^5,1\\le T_i,M_i,t_i,m_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「FAOI-R5」becoder", "background": "**警告：请不要试图使用 AI，使用者按作弊处理。**", "description": "$\\text {becoder}$ 拥有所有中文 OJ 中最快的评测机，现在评测机需要处理 $n$ 次题目的评测。已知第 $i$ 次题目的评测在某中文 OJ 上跑了 $T_i$ 秒，空间耗费 $M_i$。\n\n$\\text {becoder}$ 的评测机实在是太快了，你可以把 $\\text {becoder}$ 跑第 $i$ 个评测的时间视为 $\\left \\lfloor \\frac{T_i}{2} \\right \\rfloor $。\n\n告诉你 $\\text {becoder}$ 上 $n$ 次题目评测的时间限制 $t_i$ 和空间限制 $m_i$。以及，在测评 $[L,R]$ 内的题目时，$\\text {becoder}$ 的评测机会打瞌睡。\n\n$\\text {becoder}$ 的评测机按如下规则评判提交：\n- 如果 $\\text {becoder}$ 的评测机在打瞌睡，评测结果会返回 ```System Error```；\n- 如果 $\\text {becoder}$ 的评测机没有打瞌睡，且你的代码空间超限，即 $M_i > m_i$，评测结果会返回 ```Memory Limit Exceeded```；\n- 如果 $\\text {becoder}$ 的评测机没有打瞌睡，且你的代码空间不超限，时间超限，即 $M_i \\le m_i,\\left \\lfloor \\frac{T_i}{2} \\right \\rfloor > t_i$，评测结果会返回 ```Time Limit Exceeded```。\n- 否则，$\\text {becoder}$ 评测机会返回 ```Accepted```。\n\n请你输出所有 $\\text {becoder}$ 对于每个测评会返回的结果。你不考虑除上述四种返回结果以外的情况。", "inputFormat": "第一行三个正整数，$n,L,R$，代表询问的次数，和评测机睡觉的区间。\n\n接下来 $n$ 行，每行两个正整数代表 $T_i,M_i$。\n\n接下来 $n$ 行，每行两个正整数代表 $t_i,m_i$。", "outputFormat": "共 $n$ 行，第 $i$ 行一个字符串代表第 $i$ 次评测的结果。", "hint": "**本题开启捆绑测试**。\n\n+ Subtask 1（30 pts）：$1 \\le n,m \\le 10^3$。\n+ Subtask 2（30 pts）：$1 \\le T_i,M_i,t_i,m_i \\le 10^3$。\n+ Subtask 3（40 pts）：无附加限制。\n\n对于 $\\text{100}\\%$ 的数据，$1 \\le L \\le R \\le n \\le 10^5,1\\le T_i,M_i,t_i,m_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P11655", "type": "P", "difficulty": 4, "samples": [["3\n2 2\n4 6\n7 8\n", "18\n1218\n54483\n"], ["3\n845 826\n672 826\n618 925", "789284214\n588160420\n730993180"], ["1\n1 46", "139"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2025", "洛谷原创", "O2优化", "组合数学", "排列组合", "逆元", "洛谷比赛"], "title": "「FAOI-R5」Lovely 139", "background": "\n$\\text{Height}\\leq139$。", "description": "对于一个 $\\tt 01$ 串 $S$（下标从 $1$ 开始），我们定义它的一个区间 $[l,r]$ 是**极长颜色段**，当且仅当它**同时**满足以下条件：\n- 如果 $l\\neq 1$，$S_{l-1}\\neq S_l$；\n- 如果 $r\\neq \\lvert S\\rvert$，$S_{r+1}\\neq S_r$；\n- $\\forall i\\in[l,r),S_i=S_{i+1}$。\n\n定义 $g(S)$ 为 $S$ 的**不同**极长颜色段数。比如 $g(00)=1$，$g(1110)=2$，$g(001011)=4$。\n\n定义 $f(n,m)$ 的值为所有**恰好包含 $\\boldsymbol n$ 个 $\\tt 0$ 和 $\\boldsymbol m$ 个 $\\tt 1$** 的 $\\tt 01$ 串 $S$ 的 $g(S)$ 之和。\n\n你需要回答 $T$ 个问题，每次给出 $n,m$ 的值，求 $f(n,m)$ 的值对 $10^9+7$ 取模后的结果。", "inputFormat": "第一行输入一个正整数数 $T$，表示问题个数。\n\n接下来 $T$ 行，每行两个非负整数 $n,m$，表示问题的参数。", "outputFormat": "输出 $T$ 行，每行为对应问题的答案。", "hint": "### 样例 1 解释\n\n对于第一组数据 $n=2,m=2$，一共有六个本质不同的 $S$，答案为 $g(0011)+g(0101)+g(0110)+g(1001)+g(1010)+g(1100)=2+4+3+3+4+2=18$。\n\n### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n- Subtask 1（15 pts）：$0 \\le n+m \\le 20$，$1 \\le T \\le 10$。\n- Subtask 2（25 pts）：$0 \\le n+m \\le 4 \\times 10^3$。\n- Subtask 3（20 pts）：$1 \\le T \\le 10$。\n- Subtask 4（40 pts）：无特殊限制。\n\n对于所有数据，保证 $1 \\leq T \\leq 10^6$，$0 \\leq n+m\\leq 2 \\times 10^6$，$0\\le n,m\\le 2\\times10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「FAOI-R5」Lovely 139", "background": "\n$\\text{Height}\\leq139$。", "description": "对于一个 $\\tt 01$ 串 $S$（下标从 $1$ 开始），我们定义它的一个区间 $[l,r]$ 是**极长颜色段**，当且仅当它**同时**满足以下条件：\n- 如果 $l\\neq 1$，$S_{l-1}\\neq S_l$；\n- 如果 $r\\neq \\lvert S\\rvert$，$S_{r+1}\\neq S_r$；\n- $\\forall i\\in[l,r),S_i=S_{i+1}$。\n\n定义 $g(S)$ 为 $S$ 的**不同**极长颜色段数。比如 $g(00)=1$，$g(1110)=2$，$g(001011)=4$。\n\n定义 $f(n,m)$ 的值为所有**恰好包含 $\\boldsymbol n$ 个 $\\tt 0$ 和 $\\boldsymbol m$ 个 $\\tt 1$** 的 $\\tt 01$ 串 $S$ 的 $g(S)$ 之和。\n\n你需要回答 $T$ 个问题，每次给出 $n,m$ 的值，求 $f(n,m)$ 的值对 $10^9+7$ 取模后的结果。", "inputFormat": "第一行输入一个正整数数 $T$，表示问题个数。\n\n接下来 $T$ 行，每行两个非负整数 $n,m$，表示问题的参数。", "outputFormat": "输出 $T$ 行，每行为对应问题的答案。", "hint": "### 样例 1 解释\n\n对于第一组数据 $n=2,m=2$，一共有六个本质不同的 $S$，答案为 $g(0011)+g(0101)+g(0110)+g(1001)+g(1010)+g(1100)=2+4+3+3+4+2=18$。\n\n### 数据规模与约定\n\n**本题采用捆绑测试**。\n\n- Subtask 1（15 pts）：$0 \\le n+m \\le 20$，$1 \\le T \\le 10$。\n- Subtask 2（25 pts）：$0 \\le n+m \\le 4 \\times 10^3$。\n- Subtask 3（20 pts）：$1 \\le T \\le 10$。\n- Subtask 4（40 pts）：无特殊限制。\n\n对于所有数据，保证 $1 \\leq T \\leq 10^6$，$0 \\leq n+m\\leq 2 \\times 10^6$，$0\\le n,m\\le 2\\times10^6$。", "locale": "zh-CN"}}}
