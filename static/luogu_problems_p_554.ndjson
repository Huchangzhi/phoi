{"pid": "P12244", "type": "P", "difficulty": 1, "samples": [["3 2\n1 2\n5 7\n8 9", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "洛谷月赛"], "title": "踩点", "background": "You can switch the language of problem description.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/96tdfgkh.png)", "description": "今天又是上学的一天，总共有 $n$ 节课。第 $i$ 节课从第 $l_i$ 分钟（的开头）开始，到第 $r_i$ 分钟（的开头）结束。\n\n小 O 每个课间都想去操场打球，但往返教室和操场需要总共 $T$ 分钟。\n\n只要不迟到，小 O 就会在课间去操场打球；否则，他会留在教室里自习。\n\n忙碌了一天的小 O 想知道，他今天总共有多少分钟在打球？", "inputFormat": "第一行有两个整数 $n,T$，分别表示课程数量和小 O 往返操场和教室需要的时间。\n\n第 $2\\sim n+1$ 行当中，第 $i+1$ 行两个整数 $l_i$，$r_i$，表示第 $i$ 节课的持续时间。", "outputFormat": "输出共一行一个整数，表示答案。", "hint": "#### 样例 #1 解释\n\n第一节课与第二节课的课间有 $3$ 分钟，小 O 会花 $2$ 分钟往返，剩下 $1$ 分钟打球。\n\n第二节课与第三节课的课间有 $1$ 分钟，光往返就会使小 O 迟到，所以小 O 会待在教室自习。\n\n最终小 O 一共打了 $1$ 分钟的球，故输出 $1$。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，有 $2\\le n\\le 10^5$，$0\\le T\\le 10^8$，$1\\le l_i\\le r_i\\le 10^8$，对于 $1\\le i\\le n-1$，有 $r_i\\le l_{i+1}$。\n\n对于前 $20\\%$ 的数据，$n=2$。\n\n另有 $20\\%$ 的数据，$T=0$。\n\n另有 $20\\%$ 的数据，$T=1$。", "locale": "zh-CN", "translations": {"en": {"title": "Stepping on Points", "background": "", "description": "Today is another school day with $n$ classes. The $i$-th class starts at the beginning of minute $l_i$ and ends at the beginning of minute $r_i$.\n\nLittle O wants to play basketball during every break between classes. However, the round-trip between the classroom and the playground takes a total of $T$ minutes.\n\nLittle O will go to play basketball during a break **if and only if** he can return to the classroom without being late for the next class. Otherwise, he stays in the classroom.\n\nHow many total minutes will Little O spend playing basketball today?", "inputFormat": "- The first line contains two integers $n$ and $T$, representing the number of classes and the round-trip time.  \n- The next $n$ lines each contain two integers $l_i$ and $r_i$, describing the start and end time of the $i$-th class.", "outputFormat": "Output one integer: the total minutes Little O spends playing basketball.", "hint": "### Sample #1 Explanation  \n\n- **Break 1** (between classes 1 and 2): Duration = $5 - 2 = 3$ minutes. After spending $2$ minutes on the round-trip, Little O plays for $1$ minute.  \n- **Break 2** (between classes 2 and 3): Duration = $8 - 7 = 1$ minute. The round-trip requires $2$ minutes, so he skips it.  \nTotal play time: $1$ minute.\n\n## Constraints  \n- $2 \\le n \\le 10^5$  \n- $0 \\le T \\le 10^8$  \n- $1 \\le l_i \\le r_i \\le 10^8$  \n- For $1 \\le i \\le n-1$: $r_i \\le l_{i+1}$ (classes are non-overlapping and ordered chronologically).  \n\n### Subtasks  \n- **20%**: $n = 2$  \n- **20%**: $T = 0$  \n- **20%**: $T = 1$  \n- **40%**: No additional constraints  ", "locale": "en"}, "zh-CN": {"title": "踩点", "background": "You can switch the language of problem description.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/96tdfgkh.png)", "description": "今天又是上学的一天，总共有 $n$ 节课。第 $i$ 节课从第 $l_i$ 分钟（的开头）开始，到第 $r_i$ 分钟（的开头）结束。\n\n小 O 每个课间都想去操场打球，但往返教室和操场需要总共 $T$ 分钟。\n\n只要不迟到，小 O 就会在课间去操场打球；否则，他会留在教室里自习。\n\n忙碌了一天的小 O 想知道，他今天总共有多少分钟在打球？", "inputFormat": "第一行有两个整数 $n,T$，分别表示课程数量和小 O 往返操场和教室需要的时间。\n\n第 $2\\sim n+1$ 行当中，第 $i+1$ 行两个整数 $l_i$，$r_i$，表示第 $i$ 节课的持续时间。", "outputFormat": "输出共一行一个整数，表示答案。", "hint": "#### 样例 #1 解释\n\n第一节课与第二节课的课间有 $3$ 分钟，小 O 会花 $2$ 分钟往返，剩下 $1$ 分钟打球。\n\n第二节课与第三节课的课间有 $1$ 分钟，光往返就会使小 O 迟到，所以小 O 会待在教室自习。\n\n最终小 O 一共打了 $1$ 分钟的球，故输出 $1$。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，有 $2\\le n\\le 10^5$，$0\\le T\\le 10^8$，$1\\le l_i\\le r_i\\le 10^8$，对于 $1\\le i\\le n-1$，有 $r_i\\le l_{i+1}$。\n\n对于前 $20\\%$ 的数据，$n=2$。\n\n另有 $20\\%$ 的数据，$T=0$。\n\n另有 $20\\%$ 的数据，$T=1$。", "locale": "zh-CN"}}}
{"pid": "P12245", "type": "P", "difficulty": 2, "samples": [["3 3\n0 0 0 \n1 0 1\n0 1 1", "2"], ["4 3\n0 0 0 \n1 0 1\n0 1 1\n1 1 1", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "洛谷月赛"], "title": "共同兴趣", "background": "共同的兴趣爱好是一段友谊坚实的基础。", "description": "小 O 所在年级有 $n$ 名学生，学号为 $1 \\sim n$，学校对 $m$ 项活动进行了调查。每位学生对部分活动感兴趣，对于其他活动则不感兴趣。我们用 $a_{i,j}$ 来表示学号为 $i$ 的学生是否对第 $j$ 项活动感兴趣，其中 $a_{i,j} = 1$ 表示感兴趣，$a_{i,j} = 0$ 表示不感兴趣。\n\n对于任意两位学生 $i$ 和 $j$，他们的共同兴趣数是指那些满足 $a_{i,k} = a_{j,k} = 1$ 的活动 $k$ 的数量，即两位学生都感兴趣的活动数。\n\n每个学生 $x$ 会寻找与自己共同兴趣数最多的学生 $y$，并向其发出交友的邀约。如果有多个学生 $y$ 满足条件，$x$ 会向所有这些学生发出邀约。\n\n小 O 的学号为 $1$，他希望能够收到更多同学的邀约。为此，他可以选择一项自己不感兴趣的活动 $i$，将其从 $a_{1,i} = 0$ 修改为 $a_{1,i} = 1$。当然，他也可以选择不修改任何活动。注意，最多只能修改一项活动。\n\n请问，在进行最多一次修改后，最多有多少同学会向小 O 发出邀约？", "inputFormat": "输入共 $n+1$ 行。\n\n第一行有两个整数 $n,m$，表示学生的个数和活动的项数。\n\n第 $2\\sim n+1$ 行中，每行 $m$ 个整数，第 $i+1$ 行的第 $j$ 个整数表示 $a_{i,j}$。", "outputFormat": "输出共一行一个整数，表示答案。", "hint": "#### 样例 #1 解释\n\n初始时学号为 $2$，$3$  的两位学生的共同兴趣数为 $1$，因为他们同时对第 $3$ 项活动感兴趣。他们和小 O 的共同兴趣都是 $0$。接下来小 O 进行修改：\n\n- 如果不修改，则 $2$ 号和 $3$ 号会互相发出邀约，给小 O 发出邀约的人数为 $0$。\n- 如果将 $a_{1,1}$ 修改为 $1$，则小 O 和 $2$ 号的共同兴趣数变为 $1$，$2$ 号会对小 O 发出邀约，给小 O 发出邀约的人数为 $1$。\n- 如果将 $a_{1,2}$ 修改为 $1$，则小 O 和 $3$ 号的共同兴趣数变为 $1$，$3$ 号会对小 O 发出邀约，给小 O 发出邀约的人数为 $1$。\n- 如果将 $a_{1,3}$ 修改为 $1$，则小 O 和其他两位学生的共同兴趣数均变为 $1$，$2$ 位学生均会对小 O 发出邀约。\n\n所以最多有 $2$ 位学生会对小 O 发出邀约。\n\n#### 样例 #2 解释\n\n与样例 #1 相比，多出了学号为 $4$ 的学生，他和 $2$ 号和  $3$ 号学生的共同兴趣数为 $2$，无论怎么修改，小 O 和任何同学的共同兴趣数不会超过 $1$，故答案为 $0$。\n### 数据范围\n\n对于 $100\\%$ 的数据，$2\\le n\\le 500$，$1\\le m\\le 500$，$0\\le a_{i,j}\\le 1$。\n\n具体测试点限制如下：\n\n| 测试点编号 | $n$ 的范围 | $m$ 的范围 | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $n=2$ | $m\\le 50$ | 无 |\n| $2\\sim 4$ | $n\\le 50$ | $m\\le 50$ | 无 |\n| $5,6$ | $n\\le 500$ | $m=1$ | A |\n| $7\\sim 10$ | $n\\le 500$ | $m\\le 500$ | A |\n| $11\\sim 14$ | $n\\le 500$ | $m\\le 500$ | B |\n| $15\\sim 20$ | $n\\le 500$ | $m\\le 500$ | 无 |\n\n特殊性质 A：对于 $1\\le i\\le m$，$a_{1,i}=0$。\n\n特殊性质 B：对于 $1\\le i\\le n$，$a_{i,1}=0$。", "locale": "zh-CN", "translations": {"en": {"title": "Common Interests", "background": "Shared interests form a solid foundation for lasting friendships.", "description": "There are $n$ students in Little O's grade, numbered $1 \\sim n$. The school surveyed $m$ activities. Each student is interested in some activities and not in others. Let $a_{i,j}$ indicate whether student $i$ is interested in activity $j$, where $a_{i,j} = 1$ means interested and $a_{i,j} = 0$ means not interested.\n\nFor any two students $i$ and $j$, their **number of common interests** is the count of activities $k$ where $a_{i,k} = a_{j,k} = 1$, i.e., the number of activities both students are interested in.\n\nEach student $x$ will find all students $y$ who have the maximum **number of common interests** with $x$ and send them friendship invitations. If multiple students $y$ satisfy this condition, $x$ will send invitations to all of them.\n\nLittle O (student $1$) wants to receive as many invitations as possible. He can choose one activity $i$ where he is not initially interested (i.e., $a_{1,i} = 0$) and change it to $a_{1,i} = 1$. He may also choose not to modify any activity. Note: At most one modification is allowed.\n\nWhat is the maximum number of students who will send invitations to Little O after making at most one modification?", "inputFormat": "The input consists of $n+1$ lines:\n\n- Line $1$: Two integers $n$ and $m$, representing the number of students and activities.\n- Lines $2$ to $n+1$: Each line contains $m$ integers. The $j$-th integer in line $i+1$ represents $a_{i,j}$.", "outputFormat": "Output one integer: the maximum number of students who will invite Little O.", "hint": "### Sample #1 Explanation\n\nInitially, students $2$ and $3$ each have $1$ common interest with each other (activity $3$). Their common interests with Little O are $0$. Modifications:\n\n- No modification: $0$ invitations.\n- Modify $a_{1,1}$ to $1$: Student $2$ invites Little O ($1$ invitation).\n- Modify $a_{1,2}$ to $1$: Student $3$ invites Little O ($1$ invitation).\n- Modify $a_{1,3}$ to $1$: Both students $2$ and $3$ invite Little O ($2$ invitations).\n\nThus, the maximum is $2$.\n\n### Sample #2 Explanation\n\nAdding student $4$ (who has $2$ common interests with students $2$ and $3$). Little O's maximum common interests with any student after modification cannot exceed $1$, so the answer is $0$.\n\nFor $100\\%$ data:  \n\n- $2 \\le n \\le 500$  \n- $1 \\le m \\le 500$  \n- $a_{i,j} \\in \\{0,1\\}$  \n\n| Test Case | $n$ Range | $m$ Range | Special Properties |\n| :-------: | :-------: | :-------: | :-----------------: |\n| $1$         | $n=2$     | $m \\le 50$ | None                |\n| $2\\sim 4$       | $n \\le 50$ | $m \\le 50$ | None                |\n| $5\\sim 6$       | $n \\le 500$ | $m=1$     | A                   |\n| $7\\sim 10$      | $n \\le 500$ | $m \\le 500$ | A                   |\n| $11\\sim 14$    | $n \\le 500$ | $m \\le 500$ | B                   |\n| $15\\sim 20$     | $n \\le 500$ | $m \\le 500$ | None                |\n\nSpecial Properties:  \n\n- A: For all $1 \\le i \\le m$, $a_{1,i} = 0$.  \n- B: For all $1 \\le i \\le n$, $a_{i,1} = 0$.", "locale": "en"}, "zh-CN": {"title": "共同兴趣", "background": "共同的兴趣爱好是一段友谊坚实的基础。", "description": "小 O 所在年级有 $n$ 名学生，学号为 $1 \\sim n$，学校对 $m$ 项活动进行了调查。每位学生对部分活动感兴趣，对于其他活动则不感兴趣。我们用 $a_{i,j}$ 来表示学号为 $i$ 的学生是否对第 $j$ 项活动感兴趣，其中 $a_{i,j} = 1$ 表示感兴趣，$a_{i,j} = 0$ 表示不感兴趣。\n\n对于任意两位学生 $i$ 和 $j$，他们的共同兴趣数是指那些满足 $a_{i,k} = a_{j,k} = 1$ 的活动 $k$ 的数量，即两位学生都感兴趣的活动数。\n\n每个学生 $x$ 会寻找与自己共同兴趣数最多的学生 $y$，并向其发出交友的邀约。如果有多个学生 $y$ 满足条件，$x$ 会向所有这些学生发出邀约。\n\n小 O 的学号为 $1$，他希望能够收到更多同学的邀约。为此，他可以选择一项自己不感兴趣的活动 $i$，将其从 $a_{1,i} = 0$ 修改为 $a_{1,i} = 1$。当然，他也可以选择不修改任何活动。注意，最多只能修改一项活动。\n\n请问，在进行最多一次修改后，最多有多少同学会向小 O 发出邀约？", "inputFormat": "输入共 $n+1$ 行。\n\n第一行有两个整数 $n,m$，表示学生的个数和活动的项数。\n\n第 $2\\sim n+1$ 行中，每行 $m$ 个整数，第 $i+1$ 行的第 $j$ 个整数表示 $a_{i,j}$。", "outputFormat": "输出共一行一个整数，表示答案。", "hint": "#### 样例 #1 解释\n\n初始时学号为 $2$，$3$  的两位学生的共同兴趣数为 $1$，因为他们同时对第 $3$ 项活动感兴趣。他们和小 O 的共同兴趣都是 $0$。接下来小 O 进行修改：\n\n- 如果不修改，则 $2$ 号和 $3$ 号会互相发出邀约，给小 O 发出邀约的人数为 $0$。\n- 如果将 $a_{1,1}$ 修改为 $1$，则小 O 和 $2$ 号的共同兴趣数变为 $1$，$2$ 号会对小 O 发出邀约，给小 O 发出邀约的人数为 $1$。\n- 如果将 $a_{1,2}$ 修改为 $1$，则小 O 和 $3$ 号的共同兴趣数变为 $1$，$3$ 号会对小 O 发出邀约，给小 O 发出邀约的人数为 $1$。\n- 如果将 $a_{1,3}$ 修改为 $1$，则小 O 和其他两位学生的共同兴趣数均变为 $1$，$2$ 位学生均会对小 O 发出邀约。\n\n所以最多有 $2$ 位学生会对小 O 发出邀约。\n\n#### 样例 #2 解释\n\n与样例 #1 相比，多出了学号为 $4$ 的学生，他和 $2$ 号和  $3$ 号学生的共同兴趣数为 $2$，无论怎么修改，小 O 和任何同学的共同兴趣数不会超过 $1$，故答案为 $0$。\n### 数据范围\n\n对于 $100\\%$ 的数据，$2\\le n\\le 500$，$1\\le m\\le 500$，$0\\le a_{i,j}\\le 1$。\n\n具体测试点限制如下：\n\n| 测试点编号 | $n$ 的范围 | $m$ 的范围 | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $n=2$ | $m\\le 50$ | 无 |\n| $2\\sim 4$ | $n\\le 50$ | $m\\le 50$ | 无 |\n| $5,6$ | $n\\le 500$ | $m=1$ | A |\n| $7\\sim 10$ | $n\\le 500$ | $m\\le 500$ | A |\n| $11\\sim 14$ | $n\\le 500$ | $m\\le 500$ | B |\n| $15\\sim 20$ | $n\\le 500$ | $m\\le 500$ | 无 |\n\n特殊性质 A：对于 $1\\le i\\le m$，$a_{1,i}=0$。\n\n特殊性质 B：对于 $1\\le i\\le n$，$a_{i,1}=0$。", "locale": "zh-CN"}}}
{"pid": "P12246", "type": "P", "difficulty": 3, "samples": [["8 3\nvvvaannn\n4\n3\n5", "18\n15\n12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "前缀和", "洛谷月赛"], "title": "电 van", "background": "", "description": "小 O 非常爱去电 $\\texttt{van}$ 城，所以他对 $\\texttt{van}$ 这个字符串非常的感兴趣，于是他出了一道和 $\\texttt{van}$ 有关的字符串题。\n\n给你一个长度为 $n$ 的字符串 $s$，保证 $s$ 由 $\\texttt{v}$、$\\texttt{a}$、$\\texttt{n}$ 三种字符构成，设 $s_i$ 表示 $s$ 的第 $i$ 个字符。\n\n接下来小 O 会给你 $m$ 次操作，每次操作给出一个整数 $x(1\\le x\\le n-1)$，表示你需要交换 $s_x$ 和 $s_{x+1}$。\n\n在每次操作结束后，你需要输出字符串中 $\\texttt{van}$ 作为子序列的出现次数。\n\n- 一个字符串 $t$ 是字符串 $s$ 的子序列，当且仅当可以从  $s$ 中删除若干个字符（可以为 $0$ 个），将剩下的字符按在 $s$ 中的顺序依次相接得到 $t$。", "inputFormat": "输入共 $m+2$ 行。\n\n第一行有两个整数 $n,m$，分别表示字符串长度和操作次数。\n\n第二行有一个长度为 $n$ 的字符串 $s$。\n\n第 $3\\sim m+2$ 行，第 $i+2$ 行一个整数 $x_i$，表示第 $i$ 次操作给出的 $x$。", "outputFormat": "输出共 $m$ 行，第 $i$ 行输出一个整数表示第 $i$ 次操作结束后的答案。", "hint": "#### 样例 #1 解释\n\n初始时 $s=\\texttt{vvvaannn}$。\n\n第一次操作交换 $s_4$ 和 $s_5$，此时 $s=\\texttt{vvvaannn}$，$\\texttt{van}$ 作为子序列出现了 $18$ 次。\n\n第二次操作交换 $s_3$ 和 $s_4$，此时 $s=\\texttt{vvavannn}$，$\\texttt{van}$ 作为子序列出现了 $15$ 次。\n\n第三次操作交换 $s_5$ 和 $s_6$，此时 $s=\\texttt{vvavnann}$，$\\texttt{van}$ 作为子序列出现了 $12$ 次。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$3\\le n\\le 10^6$，$1\\le m\\le 10^6$，$s_i\\in\\{\\texttt{v,a,n}\\}$。\n\n具体测试点限制如下表：\n\n| 测试点编号 | $n$ 的范围 | $m$ 的范围 | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1,2$ | $n\\le 3$ | $m\\le 100$ | 无 |\n| $3\\sim 5$ | $n\\le 100$ | $m\\le 100$ | 无 |\n| $6\\sim 9$ | $n\\le 3000$ | $m\\le 3000$ | 无 |\n| $10\\sim 12$ | $n\\le 10^6$ | $m=1$ | 无 |\n| $13\\sim16$ | $n\\le 10^5$ | $m\\le 10^5$ | A |\n| $17,18$ | $n\\le 10^5$ | $m\\le 10^5$ | 无 |\n| $19,20$ | $n\\le 10^6$ | $m\\le 10^6$ | 无 |\n\n特殊性质 A：对于交换操作，保证 $s_x$ 和 $s_{x+1}$ 中至少有一个为 $\\texttt{a}$。\n", "locale": "zh-CN", "translations": {"en": {"title": "van", "background": "", "description": "You are given a string $s$ of length $n$ consisting of characters $\\texttt{v}$, $\\texttt{a}$, and $\\texttt{n}$. Let $s_i$ denote the $i$-th character of $s$.  \n\nLittle O will perform $m$ operations. In each operation, you are given an integer $x$ ($1 \\le x \\le n-1$), requiring you to swap $s_x$ and $s_{x+1}$.  \n\nAfter each operation, output the number of times $\\texttt{van}$ appears as a subsequence in the modified string.  \n\n- A string $t$ is a subsequence of $s$ if it can be obtained by deleting zero or more characters from $s$ without changing the order of the remaining characters.", "inputFormat": "The input consists of $m+2$ lines:  \n- Line $1$: Two integers $n$ and $m$, the string length and number of operations.  \n- Line $2$: A string $s$ of length $n$.  \n- Lines $3$ to $m+2$: Each line contains an integer $x_i$, representing the $i$-th operation.  ", "outputFormat": "Output $m$ lines, where the $i$-th line contains the answer after the $i$-th operation.  ", "hint": "### Sample #1 Explanation\n\n**Initial State**: $s = \\texttt{vvvaannn}$  \n- After swapping positions $4$ and $5$: $s$ remains unchanged. $\\texttt{van}$ appears 18 times.  \n- After swapping positions $3$ and $4$: $s = \\texttt{vvavannn}$. $\\texttt{van}$ appears 15 times.  \n- After swapping positions $5$ and $6$: $s = \\texttt{vvavnann}$. $\\texttt{van}$ appears 12 times. \n\n## Constraints  \n- $3 \\le n \\le 10^6$, $1 \\le m \\le 10^6$  \n- $s_i \\in \\{\\texttt{v}, \\texttt{a}, \\texttt{n}\\}$  \n\n### Subtask Details  \n| Test Case | $n$ Range | $m$ Range | Special Property |  \n| :-------: | :-------: | :-------: | :--------------: |  \n| $1,2$      | $n \\le 3$ | $m \\le 100$ | None |  \n| $3\\sim 5$      | $n \\le 100$ | $m \\le 100$ | None |  \n| $6\\sim 9$      | $n \\le 3000$ | $m \\le 3000$ | None |  \n| $10\\sim 12$    | $n \\le 10^6$ | $m = 1$ | None |  \n| $13\\sim 16$    | $n \\le 10^5$ | $m \\le 10^5$ | A |  \n| $17,18$    | $n \\le 10^5$ | $m \\le 10^5$ | None |  \n| $19,20$    | $n \\le 10^6$ | $m \\le 10^6$ | None |  \n\n**Special Property A**: In all swap operations, at least one of $s_x$ or $s_{x+1}$ is $\\texttt{a}$.  ", "locale": "en"}, "zh-CN": {"title": "电 van", "background": "", "description": "小 O 非常爱去电 $\\texttt{van}$ 城，所以他对 $\\texttt{van}$ 这个字符串非常的感兴趣，于是他出了一道和 $\\texttt{van}$ 有关的字符串题。\n\n给你一个长度为 $n$ 的字符串 $s$，保证 $s$ 由 $\\texttt{v}$、$\\texttt{a}$、$\\texttt{n}$ 三种字符构成，设 $s_i$ 表示 $s$ 的第 $i$ 个字符。\n\n接下来小 O 会给你 $m$ 次操作，每次操作给出一个整数 $x(1\\le x\\le n-1)$，表示你需要交换 $s_x$ 和 $s_{x+1}$。\n\n在每次操作结束后，你需要输出字符串中 $\\texttt{van}$ 作为子序列的出现次数。\n\n- 一个字符串 $t$ 是字符串 $s$ 的子序列，当且仅当可以从  $s$ 中删除若干个字符（可以为 $0$ 个），将剩下的字符按在 $s$ 中的顺序依次相接得到 $t$。", "inputFormat": "输入共 $m+2$ 行。\n\n第一行有两个整数 $n,m$，分别表示字符串长度和操作次数。\n\n第二行有一个长度为 $n$ 的字符串 $s$。\n\n第 $3\\sim m+2$ 行，第 $i+2$ 行一个整数 $x_i$，表示第 $i$ 次操作给出的 $x$。", "outputFormat": "输出共 $m$ 行，第 $i$ 行输出一个整数表示第 $i$ 次操作结束后的答案。", "hint": "#### 样例 #1 解释\n\n初始时 $s=\\texttt{vvvaannn}$。\n\n第一次操作交换 $s_4$ 和 $s_5$，此时 $s=\\texttt{vvvaannn}$，$\\texttt{van}$ 作为子序列出现了 $18$ 次。\n\n第二次操作交换 $s_3$ 和 $s_4$，此时 $s=\\texttt{vvavannn}$，$\\texttt{van}$ 作为子序列出现了 $15$ 次。\n\n第三次操作交换 $s_5$ 和 $s_6$，此时 $s=\\texttt{vvavnann}$，$\\texttt{van}$ 作为子序列出现了 $12$ 次。\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$3\\le n\\le 10^6$，$1\\le m\\le 10^6$，$s_i\\in\\{\\texttt{v,a,n}\\}$。\n\n具体测试点限制如下表：\n\n| 测试点编号 | $n$ 的范围 | $m$ 的范围 | 特殊性质 |\n| :-----------: | :-----------: | :-----------: | :-----------: |\n| $1,2$ | $n\\le 3$ | $m\\le 100$ | 无 |\n| $3\\sim 5$ | $n\\le 100$ | $m\\le 100$ | 无 |\n| $6\\sim 9$ | $n\\le 3000$ | $m\\le 3000$ | 无 |\n| $10\\sim 12$ | $n\\le 10^6$ | $m=1$ | 无 |\n| $13\\sim16$ | $n\\le 10^5$ | $m\\le 10^5$ | A |\n| $17,18$ | $n\\le 10^5$ | $m\\le 10^5$ | 无 |\n| $19,20$ | $n\\le 10^6$ | $m\\le 10^6$ | 无 |\n\n特殊性质 A：对于交换操作，保证 $s_x$ 和 $s_{x+1}$ 中至少有一个为 $\\texttt{a}$。\n", "locale": "zh-CN"}}}
{"pid": "P12247", "type": "P", "difficulty": 4, "samples": [["3 6 2\n1 5 1\n5 6 2\n5 6 3\n", "5"], ["4 7 3\n1 7 1\n2 5 4\n4 7 5\n1 2 10", "9"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "线段树", "并查集", "堆", "洛谷原创", "O2优化", "扫描线", "洛谷月赛"], "title": "跳舞机", "background": "", "description": "小 O 想要经营电 van 城，跳舞机的运营非常重要。\n\n小 O 的电 van 城有一台跳舞机，跳舞机在同一时间**至多有一名玩家游玩**，每局游戏需要完整且连续地游玩 $k$ 分钟。\n\n电 van 城将营业 $m$ 分钟。期间有 $n$ 名玩家想要游玩跳舞机，编号 $1\\sim n$。编号为 $i$ 的玩家会在营业的第 $l_i$ 分钟到第 $r_i$ 分钟（包括 $l_i$ 和 $r_i$）待在电 van 城，在此期间可以游玩任意局跳舞机。并且，每游玩一局，会产生 $w_i$ 的兴奋值。注意，如果玩家 $i$ 要玩一局跳舞机，则每局游戏的 $k$ 分钟必须完全包含于玩家的停留时间 $[l_i,r_i]$。\n\n小 O 想要最大化所有玩家的兴奋值之和，请你帮他求出最大的兴奋值之和。", "inputFormat": "输入共 $n+1$ 行。\n\n第一行输入三个整数 $n,m,k$，分别表示玩家个数、营业时间、游玩一局跳舞机需要的时间。\n\n第 $2\\sim n+1$ 行，第 $i+1$ 行有三个整数 $l_i,r_i,w_i$，表示编号为 $i$ 的玩家的停留时间和游玩一局产生的兴奋值。", "outputFormat": "输出共一行一个整数，表示最大的兴奋值之和。", "hint": "#### 样例 #1 解释\n\n可以让编号为 $1$ 的玩家在第 $1\\sim2$ 分钟、第 $3\\sim 4$ 分钟玩一局跳舞机，编号为 $3$ 的玩家在第 $5\\sim 6$ 分钟玩一局。兴奋值的总和为 $1+1+3=5$，可以发现没有让兴奋值总和更大的方案。 \n\n#### 样例 #2 解释\n\n可以让编号为 $2$ 的玩家在第 $2\\sim4$ 分钟玩一局跳舞机，编号为 $3$ 的玩家在第 $5\\sim 7$ 分钟玩一局。兴奋值的总和为 $4+5=9$，可以发现没有让兴奋值总和更大的方案。\n\n### 数据范围\n\n对于所有数据，满足：\n\n- $1\\le n,m,k\\le 5\\times 10^5$\n；\n- $k\\le m$；\n- $1\\le l_i\\le r_i\\le m$；\n- $1\\le w_i\\le 10^9$。\n\n设 $L_i=r_i-l_i+1$，则具体测试点限制如下：\n\n| 测试点编号 | $n$ 的范围 | $m$ 的范围 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1\\sim 3$ | $n\\le 5$ | $m\\le 10$ | $w_i\\le 20$ |\n| $4\\sim 6$ | $n\\le 10^5$ | $m\\le 10^5$ |  $L_i=k=1$ |\n| $7\\sim10$ | $n\\le 1000$ | $m\\le 1000$ |  无 |\n| $11\\sim 13$ | $n\\le 10^5$ | $m\\le 10^5$ | $L_i=k$ |\n| $14\\sim 16$ | $n\\le 100$ | $m\\le 10^5$ | 无 |\n| $17\\sim 20$ | $n\\le 10^5$ | $m\\le 10^5$ | $w_i=1$ |\n| $21,22$ | $n\\le 10^5$ | $m\\le 10^5$ | 无 |\n| $23\\sim 25$ | $n\\le 5\\times 10^5$ | $m\\le 5\\times 10^5$ | 无 |\n\n\n", "locale": "zh-CN", "translations": {"en": {"title": "Dance Machine", "background": "", "description": "Little O wants to operate an arcade, where the dance machine's operation is crucial.\n\nThere is one dance machine in Little O's arcade that can accommodate **at most one player at any given time**. Each game session requires a complete and continuous playtime of exactly $k$ minutes.\n\nThe venue will be open for $m$ minutes. During this period, $n$ players want to use the dance machine, numbered from $1$ to $n$. Player $i$ will be present from minute $l_i$ to minute $r_i$ (inclusive) and can play any number of complete game sessions during their stay. Each completed session generates $w_i$ excitement points. Note that for player $i$ to play a session, the entire $k$-minute duration must be fully contained within their stay interval $[l_i, r_i]$.\n\nLittle O wants to maximize the total excitement points from all players. Your task is to determine the maximum possible total excitement.", "inputFormat": "The input consists of $n+1$ lines:\n- Line $1$: Three integers $n$, $m$, $k$ - number of players, operating duration, and session length.\n- Lines $2$ to $n+1$: Each line contains three integers $l_i$, $r_i$, $w_i$ - the stay interval and excitement per session for player $i$.", "outputFormat": "Output a single integer - the maximum total excitement possible.", "hint": "### Sample #1 Explanation\nOptimal schedule:\n- Player $1$ plays at $[1,2]$ and $[3,4]$。\n- Player $3$ plays at $[5,6]$。\n\nTotal: $1\\times 2 + 3\\times 1 = 5$ points (maximum possible)\n\n### Sample #2 Explanation\nOptimal schedule:\n- Player $2$ plays at $[2,4]$。\n- Player $3$ plays at $[5,7]$。\n\nTotal: $4 + 5 = 9$ points (maximum possible)\n\n## Constraints\n\n- $1\\le n,m,k\\le 5\\times 10^5$\n；\n- $k\\le m$；\n- $1\\le l_i\\le r_i\\le m$；\n- $1\\le w_i\\le 10^9$。\n\nLet $L_i = r_i - l_i + 1$. Subtask constraints:\n\n| Test Case | $n$ Range | $m$ Range | Special Properties |\n| :----------: | :----------: | :----------: | :----------: |\n| $1\\sim 3$ | $n\\le 5$ | $m\\le 10$ | $w_i\\le 20$ |\n| $4\\sim 6$ | $n\\le 10^5$ | $m\\le 10^5$ |  $L_i=k=1$ |\n| $7\\sim10$ | $n\\le 1000$ | $m\\le 1000$ |  None |\n| $11\\sim 13$ | $n\\le 10^5$ | $m\\le 10^5$ | $L_i=k$ |\n| $14\\sim 16$ | $n\\le 100$ | $m\\le 10^5$ | None |\n| $17\\sim 20$ | $n\\le 10^5$ | $m\\le 10^5$ | $w_i=1$ |\n| $21,22$ | $n\\le 10^5$ | $m\\le 10^5$ | None |\n| $23\\sim 25$ | $n\\le 5\\times 10^5$ | $m\\le 5\\times 10^5$ | None |", "locale": "en"}, "zh-CN": {"title": "跳舞机", "background": "", "description": "小 O 想要经营电 van 城，跳舞机的运营非常重要。\n\n小 O 的电 van 城有一台跳舞机，跳舞机在同一时间**至多有一名玩家游玩**，每局游戏需要完整且连续地游玩 $k$ 分钟。\n\n电 van 城将营业 $m$ 分钟。期间有 $n$ 名玩家想要游玩跳舞机，编号 $1\\sim n$。编号为 $i$ 的玩家会在营业的第 $l_i$ 分钟到第 $r_i$ 分钟（包括 $l_i$ 和 $r_i$）待在电 van 城，在此期间可以游玩任意局跳舞机。并且，每游玩一局，会产生 $w_i$ 的兴奋值。注意，如果玩家 $i$ 要玩一局跳舞机，则每局游戏的 $k$ 分钟必须完全包含于玩家的停留时间 $[l_i,r_i]$。\n\n小 O 想要最大化所有玩家的兴奋值之和，请你帮他求出最大的兴奋值之和。", "inputFormat": "输入共 $n+1$ 行。\n\n第一行输入三个整数 $n,m,k$，分别表示玩家个数、营业时间、游玩一局跳舞机需要的时间。\n\n第 $2\\sim n+1$ 行，第 $i+1$ 行有三个整数 $l_i,r_i,w_i$，表示编号为 $i$ 的玩家的停留时间和游玩一局产生的兴奋值。", "outputFormat": "输出共一行一个整数，表示最大的兴奋值之和。", "hint": "#### 样例 #1 解释\n\n可以让编号为 $1$ 的玩家在第 $1\\sim2$ 分钟、第 $3\\sim 4$ 分钟玩一局跳舞机，编号为 $3$ 的玩家在第 $5\\sim 6$ 分钟玩一局。兴奋值的总和为 $1+1+3=5$，可以发现没有让兴奋值总和更大的方案。 \n\n#### 样例 #2 解释\n\n可以让编号为 $2$ 的玩家在第 $2\\sim4$ 分钟玩一局跳舞机，编号为 $3$ 的玩家在第 $5\\sim 7$ 分钟玩一局。兴奋值的总和为 $4+5=9$，可以发现没有让兴奋值总和更大的方案。\n\n### 数据范围\n\n对于所有数据，满足：\n\n- $1\\le n,m,k\\le 5\\times 10^5$\n；\n- $k\\le m$；\n- $1\\le l_i\\le r_i\\le m$；\n- $1\\le w_i\\le 10^9$。\n\n设 $L_i=r_i-l_i+1$，则具体测试点限制如下：\n\n| 测试点编号 | $n$ 的范围 | $m$ 的范围 | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1\\sim 3$ | $n\\le 5$ | $m\\le 10$ | $w_i\\le 20$ |\n| $4\\sim 6$ | $n\\le 10^5$ | $m\\le 10^5$ |  $L_i=k=1$ |\n| $7\\sim10$ | $n\\le 1000$ | $m\\le 1000$ |  无 |\n| $11\\sim 13$ | $n\\le 10^5$ | $m\\le 10^5$ | $L_i=k$ |\n| $14\\sim 16$ | $n\\le 100$ | $m\\le 10^5$ | 无 |\n| $17\\sim 20$ | $n\\le 10^5$ | $m\\le 10^5$ | $w_i=1$ |\n| $21,22$ | $n\\le 10^5$ | $m\\le 10^5$ | 无 |\n| $23\\sim 25$ | $n\\le 5\\times 10^5$ | $m\\le 5\\times 10^5$ | 无 |\n\n\n", "locale": "zh-CN"}}}
{"pid": "P12248", "type": "P", "difficulty": 1, "samples": [["4 5\n1 2 7 0\n2 3 1 2\n4 2 3 1\n1 3 3 0\n3 4 1 1", "6 0 4 4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2025", "安徽", "科创活动", "初中活动", "科大国创杯"], "title": "[科大国创杯初中组 2025] 足球联赛", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可正在研究 W 市的足球联赛。\n\nW 市的足球联赛有 $n$ 支球队，球队编号分别为 $1, 2, 3 \\ldots n$，每个赛季，球队之间会进行比赛。\n\n已知本赛季进行了 $m$ 场比赛，第 $i$ 场是 $a_i, b_i$ 两支球队进行比赛，并且比分是 $c_i : d_i$，根据比分判定胜负，从而影响积分。\n\n1. 如果 $c_i > d_i$，则 $a_i$ 球队获胜。\n2. 如果 $c_i < d_i$，则 $b_i$ 球队获胜。\n3. 如果 $c_i = d_i$，则 $a_i$ 和 $b_i$ 球队平局。\n\n赛后积分变化：每场比赛如果分出胜负，则胜者得 3 分，败者不得分；否则平局双方各得 1 分。\n\n需要求出 $m$ 场比赛后每支球队的积分。", "inputFormat": "第一行读入两个正整数 $n, m$。\n\n接下来 $m$ 行，每行输入四个整数 $a_i, b_i, c_i, d_i$。", "outputFormat": "输出一行，第 $i$ 个整数表示 $i$ 球队积分。", "hint": "### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n=2, m=1$。\n- 对于另外 $30\\%$ 的数据，保证 $c_i \\neq d_i$，不存在平局。\n- 对于另外 $20\\%$ 的数据，保证 $c_i = d_i$，只存在平局。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 20, 1 \\leq m \\leq \\frac{n(n-1)}{2}, 1 \\leq a_i, b_i \\leq n, a_i \\neq b_i, 0 \\leq c_i, d_i \\leq 10$，任意两支球队最多进行一场比赛。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[科大国创杯初中组 2025] 足球联赛", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可正在研究 W 市的足球联赛。\n\nW 市的足球联赛有 $n$ 支球队，球队编号分别为 $1, 2, 3 \\ldots n$，每个赛季，球队之间会进行比赛。\n\n已知本赛季进行了 $m$ 场比赛，第 $i$ 场是 $a_i, b_i$ 两支球队进行比赛，并且比分是 $c_i : d_i$，根据比分判定胜负，从而影响积分。\n\n1. 如果 $c_i > d_i$，则 $a_i$ 球队获胜。\n2. 如果 $c_i < d_i$，则 $b_i$ 球队获胜。\n3. 如果 $c_i = d_i$，则 $a_i$ 和 $b_i$ 球队平局。\n\n赛后积分变化：每场比赛如果分出胜负，则胜者得 3 分，败者不得分；否则平局双方各得 1 分。\n\n需要求出 $m$ 场比赛后每支球队的积分。", "inputFormat": "第一行读入两个正整数 $n, m$。\n\n接下来 $m$ 行，每行输入四个整数 $a_i, b_i, c_i, d_i$。", "outputFormat": "输出一行，第 $i$ 个整数表示 $i$ 球队积分。", "hint": "### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n=2, m=1$。\n- 对于另外 $30\\%$ 的数据，保证 $c_i \\neq d_i$，不存在平局。\n- 对于另外 $20\\%$ 的数据，保证 $c_i = d_i$，只存在平局。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 20, 1 \\leq m \\leq \\frac{n(n-1)}{2}, 1 \\leq a_i, b_i \\leq n, a_i \\neq b_i, 0 \\leq c_i, d_i \\leq 10$，任意两支球队最多进行一场比赛。\n", "locale": "zh-CN"}}}
{"pid": "P12249", "type": "P", "difficulty": 2, "samples": [["1\n3 3\n1 1 1\n1 2 2", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2025", "安徽", "科创活动", "初中活动", "科大国创杯"], "title": "[科大国创杯初中组 2025] 果汁", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可买了美味的果汁，但他太懒了，于是要求奶龙给他倒果汁。\n\n有 $m$ 个水杯，第 $i$ 个水杯容量为 $V_i$。现在有 $n$ 个单位体积的果汁，小可可要求奶龙一共倒 $n$ 次（每次倒一个单位体积，正好倒完），第 $j$ 次倒果汁只能倒进第 $a_j$ 或 $a_j + 1$ 个水杯。具体的，如果第 $a_j$ 和 $a_j + 1$ 两个水杯都不是满的，那么可以任意倒入其中一个；如果有且仅有一个不是满的，那么只能倒入不是满的的那一个；如果都已经被倒满了，那么小奶龙就可以开心地喝掉这一个单位体积的果汁。并且为了方便，小可可会安排小奶龙从左向右倒果汁，也就是说对于所有 $1 \\leq j < n$，保证 $a_j \\leq a_{j+1}$。\n\n小奶龙想知道自己最多能喝掉单位体积的果汁，你能帮帮他吗？\n\n你一共需要解决 $T$ 组测试数据。", "inputFormat": "第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据，第一行两个正整数 $n, m$，分别表示一共倒 $n$ 次以及有 $m$ 个水杯。\n\n第二行 $m$ 个正整数 $V_i$。\n\n第三行 $n$ 个正整数 $a_i$，保证 $a_i$ 单调不降。", "outputFormat": "对于每组数据，输出一行一个数，表示小奶龙最多能喝掉多少单位体积的果汁。", "hint": "### 样例 1 解释\n\n一共倒三次，第一次可以倒进第一个或者第二个水杯，后两次可以倒进第二个或者第三个水杯。第一次倒进第二个水杯，第二次倒进第三个，此时后两个水杯都满了，第三次没法倒，故答案为 $1$。显然没有更优的答案。\n\n### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n, m \\leq 2$。\n- 对于 $50\\%$ 的数据，保证 $n, m \\leq 8$。\n- 对于另外 $20\\%$ 的数据，保证所有 $V_i = 1$。\n- 对于另外 $20\\%$ 的数据，保证所有 $a_i$ 相同。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq T \\leq 50, 1 \\leq n \\leq 3 \\times 10^4, 2 \\leq m \\leq 3 \\times 10^4, 1 \\leq a_i < m, 1 \\leq V_i \\leq n$。且对于所有 $1 \\leq i < n, a_i \\leq a_{i+1}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[科大国创杯初中组 2025] 果汁", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可买了美味的果汁，但他太懒了，于是要求奶龙给他倒果汁。\n\n有 $m$ 个水杯，第 $i$ 个水杯容量为 $V_i$。现在有 $n$ 个单位体积的果汁，小可可要求奶龙一共倒 $n$ 次（每次倒一个单位体积，正好倒完），第 $j$ 次倒果汁只能倒进第 $a_j$ 或 $a_j + 1$ 个水杯。具体的，如果第 $a_j$ 和 $a_j + 1$ 两个水杯都不是满的，那么可以任意倒入其中一个；如果有且仅有一个不是满的，那么只能倒入不是满的的那一个；如果都已经被倒满了，那么小奶龙就可以开心地喝掉这一个单位体积的果汁。并且为了方便，小可可会安排小奶龙从左向右倒果汁，也就是说对于所有 $1 \\leq j < n$，保证 $a_j \\leq a_{j+1}$。\n\n小奶龙想知道自己最多能喝掉单位体积的果汁，你能帮帮他吗？\n\n你一共需要解决 $T$ 组测试数据。", "inputFormat": "第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据，第一行两个正整数 $n, m$，分别表示一共倒 $n$ 次以及有 $m$ 个水杯。\n\n第二行 $m$ 个正整数 $V_i$。\n\n第三行 $n$ 个正整数 $a_i$，保证 $a_i$ 单调不降。", "outputFormat": "对于每组数据，输出一行一个数，表示小奶龙最多能喝掉多少单位体积的果汁。", "hint": "### 样例 1 解释\n\n一共倒三次，第一次可以倒进第一个或者第二个水杯，后两次可以倒进第二个或者第三个水杯。第一次倒进第二个水杯，第二次倒进第三个，此时后两个水杯都满了，第三次没法倒，故答案为 $1$。显然没有更优的答案。\n\n### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n, m \\leq 2$。\n- 对于 $50\\%$ 的数据，保证 $n, m \\leq 8$。\n- 对于另外 $20\\%$ 的数据，保证所有 $V_i = 1$。\n- 对于另外 $20\\%$ 的数据，保证所有 $a_i$ 相同。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq T \\leq 50, 1 \\leq n \\leq 3 \\times 10^4, 2 \\leq m \\leq 3 \\times 10^4, 1 \\leq a_i < m, 1 \\leq V_i \\leq n$。且对于所有 $1 \\leq i < n, a_i \\leq a_{i+1}$。", "locale": "zh-CN"}}}
{"pid": "P12250", "type": "P", "difficulty": 5, "samples": [["3 3\n1 2 0\n1 3 2\n2 3 1", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2025", "安徽", "bitset", "科创活动", "初中活动", "科大国创杯"], "title": "[科大国创杯初中组 2025] 旅行", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可来到了 P 国旅行。\n\nP 国共有 $n$ 个城市和 $m$ 条有向道路，其中第 $i$ 条道路为从城市 $u_i$ 到城市 $v_i$，长度为 $w_i$。**保证** $u_i < v_i$。\n\n对于一次游览，假设小可可依次经过了城市 $x_1, x_2, \\ldots, x_k$，其中从 $x_i$ 到 $x_{i+1}$ 经过的路径长度为 $y_i$。记 $s_i$ 表示 $y_1, y_2, \\ldots, y_i$ 的**按位或**值。那么小可可认为这次游览就是从 $x_1$ 走到 $x_k$，疲劳度就是 $\\operatorname{mex}(s_1, s_2, \\ldots, s_{k-1})$。\n\n其中 $\\operatorname{mex}(a_1, a_2, \\ldots, a_n)$ 表示最小的没有出现在 $a_1, a_2, \\ldots, a_n$ 中的自然数。例如 $\\operatorname{mex}(0, 2, 3) = 1$，$\\operatorname{mex}(1, 4) = 0$，$\\operatorname{mex}(0, 1, 2, 3, 4) = 5$。\n\n小可可认为两座城市 $s, t$ 之间的距离为他从 $s$ 走到 $t$ 所有可能的游览方案中疲劳度的最大值，记作 $d(s, t)$。如果不能从 $s$ 走到 $t$，那么 $d(s, t) = -1$。规定 $d(s, s) = 0$。现在他想要知道任意两座城市之间的距离之和，即 $\\displaystyle \\sum_{i=1}^{n} \\sum_{j=1}^{n} d(i, j)$。\n", "inputFormat": "第一行两个整数 $n, m$。\n\n接下来 $m$ 行，每行三个整数，代表 $u_i, v_i, w_i$。", "outputFormat": "一行一个整数表示答案。", "hint": "### 样例 1 解释\n\n当从 $1$ 走到 $3$ 时有两条路径。其中从 $1$ 直接到 $3$ 疲劳度为 $\\operatorname{mex}(2) = 0$。从 $1$ 到 $2$ 再到 $3$ 疲劳度为 $\\operatorname{mex}(0, 1) = 2$。所以 $1$ 到 $3$ 的距离为 $2$。\n\n以此类推，有 $d(1, 1) = d(2, 2) = d(3, 3) = 0$。$d(2, 1) = d(3, 1) = d(3, 2) = -1$。$d(1, 2) = 1$，$d(1, 3) = 2$，$d(2, 3) = 0$。总和为 0。\n\n### 数据规模与约定\n\n- 对于 $10\\%$ 的数据，保证 $n \\leq 3$，$m \\leq 5$。\n- 对于 $25\\%$ 的数据，保证 $n \\leq 20$，$m \\leq 40$。\n- 对于 $45\\%$ 的数据，保证 $n \\leq 300$，$m \\leq 500$。\n- 对于 $60\\%$ 的数据，保证 $n \\leq 3000$，$m \\leq 5000$。\n- 对于另外 $10\\%$ 的数据，保证 $w_i \\geq 1$。\n- 对于另外 $10\\%$ 的数据，保证 $m = n - 1$，$u_i = i$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 3 \\times 10^4$，$1 \\leq m \\leq 2 \\times 10^5$，$1 \\leq u_i < v_i \\leq n$，$0 \\leq w_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[科大国创杯初中组 2025] 旅行", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可来到了 P 国旅行。\n\nP 国共有 $n$ 个城市和 $m$ 条有向道路，其中第 $i$ 条道路为从城市 $u_i$ 到城市 $v_i$，长度为 $w_i$。**保证** $u_i < v_i$。\n\n对于一次游览，假设小可可依次经过了城市 $x_1, x_2, \\ldots, x_k$，其中从 $x_i$ 到 $x_{i+1}$ 经过的路径长度为 $y_i$。记 $s_i$ 表示 $y_1, y_2, \\ldots, y_i$ 的**按位或**值。那么小可可认为这次游览就是从 $x_1$ 走到 $x_k$，疲劳度就是 $\\operatorname{mex}(s_1, s_2, \\ldots, s_{k-1})$。\n\n其中 $\\operatorname{mex}(a_1, a_2, \\ldots, a_n)$ 表示最小的没有出现在 $a_1, a_2, \\ldots, a_n$ 中的自然数。例如 $\\operatorname{mex}(0, 2, 3) = 1$，$\\operatorname{mex}(1, 4) = 0$，$\\operatorname{mex}(0, 1, 2, 3, 4) = 5$。\n\n小可可认为两座城市 $s, t$ 之间的距离为他从 $s$ 走到 $t$ 所有可能的游览方案中疲劳度的最大值，记作 $d(s, t)$。如果不能从 $s$ 走到 $t$，那么 $d(s, t) = -1$。规定 $d(s, s) = 0$。现在他想要知道任意两座城市之间的距离之和，即 $\\displaystyle \\sum_{i=1}^{n} \\sum_{j=1}^{n} d(i, j)$。\n", "inputFormat": "第一行两个整数 $n, m$。\n\n接下来 $m$ 行，每行三个整数，代表 $u_i, v_i, w_i$。", "outputFormat": "一行一个整数表示答案。", "hint": "### 样例 1 解释\n\n当从 $1$ 走到 $3$ 时有两条路径。其中从 $1$ 直接到 $3$ 疲劳度为 $\\operatorname{mex}(2) = 0$。从 $1$ 到 $2$ 再到 $3$ 疲劳度为 $\\operatorname{mex}(0, 1) = 2$。所以 $1$ 到 $3$ 的距离为 $2$。\n\n以此类推，有 $d(1, 1) = d(2, 2) = d(3, 3) = 0$。$d(2, 1) = d(3, 1) = d(3, 2) = -1$。$d(1, 2) = 1$，$d(1, 3) = 2$，$d(2, 3) = 0$。总和为 0。\n\n### 数据规模与约定\n\n- 对于 $10\\%$ 的数据，保证 $n \\leq 3$，$m \\leq 5$。\n- 对于 $25\\%$ 的数据，保证 $n \\leq 20$，$m \\leq 40$。\n- 对于 $45\\%$ 的数据，保证 $n \\leq 300$，$m \\leq 500$。\n- 对于 $60\\%$ 的数据，保证 $n \\leq 3000$，$m \\leq 5000$。\n- 对于另外 $10\\%$ 的数据，保证 $w_i \\geq 1$。\n- 对于另外 $10\\%$ 的数据，保证 $m = n - 1$，$u_i = i$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 3 \\times 10^4$，$1 \\leq m \\leq 2 \\times 10^5$，$1 \\leq u_i < v_i \\leq n$，$0 \\leq w_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P12251", "type": "P", "difficulty": 7, "samples": [["2 3\n1 2", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2025", "多项式", "安徽", "拉格朗日插值法", "科创活动", "初中活动", "科大国创杯"], "title": "[科大国创杯初中组 2025] 抽卡", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可正在和波特玩卡牌游戏。\n\n这个游戏有 $m$ 种卡牌。种类为 $x$ 的卡牌价值也为 $x$。首先，波特一共会进行 $n$ 次抽卡来确定游戏的牌堆。第 $i$ 次，会有 $a_i$ 种新的卡牌解锁。也就是说如果第 $i$ 次抽卡之前第 $1 \\sim s$ 种卡牌解锁了，那么第 $i$ 次时第 $1 \\sim s + a_i$ 种卡牌都会解锁。保证 $\\displaystyle \\sum_{i=1}^{n} a_i = m$。初始没有卡牌解锁。\n\n在第 $i$ 次抽卡时，波特会等概率随机选择一种已经被解锁的卡牌，并且取出两张这个种类的卡牌，依次放在现在所有牌的右边。在 $n$ 次抽卡结束后，一共会有 $2n$ 张卡牌从左向右排成一排作为游戏的牌堆。小可可知道这 $2n$ 张卡牌各自的价值。\n\n现在，小可可和波特会轮流从这个牌堆中进行抽卡，直到抽完所有卡牌，小可可先手。波特每次抽卡只会取走当前牌堆中最左边的卡牌。而小可可可以在当前牌堆中任意选择一张取走。小可可希望抽卡结束后自己手中的卡牌价值总和最大。他想要知道，如果自己采取最优策略，那么期望得到的价值是多少呢？你只需要告诉他答案对 $10^9 + 7$ 取模的结果就行。\n\n关于期望：设离散型随机变量 $X$ 的概率分布为 $p_i = P\\{X = x_i\\}$，那么我们称 $E = \\sum x_i p_i$ 的值为 $X$ 的期望。不过在本题中，由于每种可能的情况出现概率相等，所以你可以简单地理解为所有方案中小可可得到的卡牌价值总和除以总方案数。\n\n关于有理数取余：不难发现答案一定是一个有理数，设其为 $C = \\frac{A}{B}$，其中 $A, B$ 互质，你需要输出 $C \\bmod 1000000007$ 的值。这个值被定义为 $Bx \\equiv A \\pmod {1000000007}$ 的最小非负整数解。", "inputFormat": "第一行两个整数 $n, m$。\n\n第二行 $n$ 个整数表示 $a$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n\n第 $1$ 次，解锁的卡牌种类只有 $1$，于是波特会取出两张 $1$ 卡牌。\n\n第 $2$ 次，解锁的卡牌种类有 $1, 2, 3$。波特会随机取出某一种类的两张卡牌。于是有如下三种可能：\n\n- 牌堆中的卡牌从左到右分别为：$1, 1, 1, 1$，概率为 $\\frac{1}{3}$，小可可可以获得的最大价值为 $1 + 1 = 2$。\n- 牌堆中的卡牌从左到右分别为：$1, 1, 2, 2$，概率为 $\\frac{1}{3}$，小可可可以获得的最大价值为 $2 + 2 = 4$。\n- 牌堆中的卡牌从左到右分别为：$1, 1, 3, 3$，概率为 $\\frac{1}{3}$，小可可可以获得的最大价值为 $3 + 3 = 6$。\n\n于是答案为 $2 \\times \\frac{1}{3} + 4 \\times \\frac{1}{3} + 6 \\times \\frac{1}{3} = 4$。\n\n### 数据规模与约定\n\n| 测试点编号 | $n \\leq$ | $m \\leq$ | 特殊性质 |\n|:-----------:|:---------:|:---------:|:---------:|\n| $1 \\sim 2$       | $3$         | $3$         | 无        |\n| $3 \\sim 6$       | $8$         | $8$         | 无        |\n| $7 \\sim 9$       | $500$       | $500$       | $a_1 = m$ |\n| $10 \\sim 13$     | $500$       | $500$       | 无        |\n| $14 \\sim 15$     | $500$       | $10^5$    | 无        |\n| $16 \\sim 19$     | $100$       | $10^9$    | 无        |\n| $20 \\sim 21$     | $500$       | $10^9$    | $a_1 = m$ |\n| $22 \\sim 25$     | $500$       | $10^9$    | 无        |\n\n对于 $100\\%$ 的数据，满足 $1 \\leq n \\leq 500, 1 \\leq m \\leq 10^9, 0 \\leq a_i \\leq m$。保证 $\\displaystyle \\sum_{i=1}^{n} a_i = m$ 并且 $a_1 > 0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[科大国创杯初中组 2025] 抽卡", "background": "Subtask 0 为民间数据，Subtask 1 为官方数据。", "description": "小可可正在和波特玩卡牌游戏。\n\n这个游戏有 $m$ 种卡牌。种类为 $x$ 的卡牌价值也为 $x$。首先，波特一共会进行 $n$ 次抽卡来确定游戏的牌堆。第 $i$ 次，会有 $a_i$ 种新的卡牌解锁。也就是说如果第 $i$ 次抽卡之前第 $1 \\sim s$ 种卡牌解锁了，那么第 $i$ 次时第 $1 \\sim s + a_i$ 种卡牌都会解锁。保证 $\\displaystyle \\sum_{i=1}^{n} a_i = m$。初始没有卡牌解锁。\n\n在第 $i$ 次抽卡时，波特会等概率随机选择一种已经被解锁的卡牌，并且取出两张这个种类的卡牌，依次放在现在所有牌的右边。在 $n$ 次抽卡结束后，一共会有 $2n$ 张卡牌从左向右排成一排作为游戏的牌堆。小可可知道这 $2n$ 张卡牌各自的价值。\n\n现在，小可可和波特会轮流从这个牌堆中进行抽卡，直到抽完所有卡牌，小可可先手。波特每次抽卡只会取走当前牌堆中最左边的卡牌。而小可可可以在当前牌堆中任意选择一张取走。小可可希望抽卡结束后自己手中的卡牌价值总和最大。他想要知道，如果自己采取最优策略，那么期望得到的价值是多少呢？你只需要告诉他答案对 $10^9 + 7$ 取模的结果就行。\n\n关于期望：设离散型随机变量 $X$ 的概率分布为 $p_i = P\\{X = x_i\\}$，那么我们称 $E = \\sum x_i p_i$ 的值为 $X$ 的期望。不过在本题中，由于每种可能的情况出现概率相等，所以你可以简单地理解为所有方案中小可可得到的卡牌价值总和除以总方案数。\n\n关于有理数取余：不难发现答案一定是一个有理数，设其为 $C = \\frac{A}{B}$，其中 $A, B$ 互质，你需要输出 $C \\bmod 1000000007$ 的值。这个值被定义为 $Bx \\equiv A \\pmod {1000000007}$ 的最小非负整数解。", "inputFormat": "第一行两个整数 $n, m$。\n\n第二行 $n$ 个整数表示 $a$。", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例 1 解释\n\n第 $1$ 次，解锁的卡牌种类只有 $1$，于是波特会取出两张 $1$ 卡牌。\n\n第 $2$ 次，解锁的卡牌种类有 $1, 2, 3$。波特会随机取出某一种类的两张卡牌。于是有如下三种可能：\n\n- 牌堆中的卡牌从左到右分别为：$1, 1, 1, 1$，概率为 $\\frac{1}{3}$，小可可可以获得的最大价值为 $1 + 1 = 2$。\n- 牌堆中的卡牌从左到右分别为：$1, 1, 2, 2$，概率为 $\\frac{1}{3}$，小可可可以获得的最大价值为 $2 + 2 = 4$。\n- 牌堆中的卡牌从左到右分别为：$1, 1, 3, 3$，概率为 $\\frac{1}{3}$，小可可可以获得的最大价值为 $3 + 3 = 6$。\n\n于是答案为 $2 \\times \\frac{1}{3} + 4 \\times \\frac{1}{3} + 6 \\times \\frac{1}{3} = 4$。\n\n### 数据规模与约定\n\n| 测试点编号 | $n \\leq$ | $m \\leq$ | 特殊性质 |\n|:-----------:|:---------:|:---------:|:---------:|\n| $1 \\sim 2$       | $3$         | $3$         | 无        |\n| $3 \\sim 6$       | $8$         | $8$         | 无        |\n| $7 \\sim 9$       | $500$       | $500$       | $a_1 = m$ |\n| $10 \\sim 13$     | $500$       | $500$       | 无        |\n| $14 \\sim 15$     | $500$       | $10^5$    | 无        |\n| $16 \\sim 19$     | $100$       | $10^9$    | 无        |\n| $20 \\sim 21$     | $500$       | $10^9$    | $a_1 = m$ |\n| $22 \\sim 25$     | $500$       | $10^9$    | 无        |\n\n对于 $100\\%$ 的数据，满足 $1 \\leq n \\leq 500, 1 \\leq m \\leq 10^9, 0 \\leq a_i \\leq m$。保证 $\\displaystyle \\sum_{i=1}^{n} a_i = m$ 并且 $a_1 > 0$。", "locale": "zh-CN"}}}
{"pid": "P12252", "type": "P", "difficulty": 2, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["数学", "2024", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 七边形", "background": "", "description": "小蓝迷上了七边形，他正尝试用小球来拼接出他喜欢的七边形图案。下图是他拼出的前四个七边形，第 $1$ 至第 $4$ 个七边形图案消耗的小球数量依次是 $1$、$7$、$18$、$34$。请问对于第 $20240601$ 个七边形图案，需要消耗的小球数量是多少？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/il38zoo7.png)", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 七边形", "background": "", "description": "小蓝迷上了七边形，他正尝试用小球来拼接出他喜欢的七边形图案。下图是他拼出的前四个七边形，第 $1$ 至第 $4$ 个七边形图案消耗的小球数量依次是 $1$、$7$、$18$、$34$。请问对于第 $20240601$ 个七边形图案，需要消耗的小球数量是多少？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/il38zoo7.png)", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12253", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [1000], "memory": [524288]}, "tags": ["搜索", "贪心", "2024", "枚举", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 宝塔", "background": "", "description": "小蓝最近迷上了宝塔游戏，这是一款迷宫填数游戏，玩家需要按照规则将高度为 $1$ 至 $N$ 的宝塔放置在一个 $N \\times N$ 大小的水平放置的棋盘当中，每个宝塔占据棋盘的一个方格。具体规则如下：\n\n1. 宝塔的高度只有 $1, 2, \\ldots, N$。\n2. 每一行、每一列中不可以出现相同高度的宝塔。\n3. 棋盘周围的箭头中的数字表示从这个位置看向棋盘时可以看到的宝塔个数。\n\n下图 1 是一个棋盘以及答案以供参考。图 2 是你需要解决的问题，你需要输出 $25$ 个数字表示答案，按照棋盘布局从左至右、从上至下的顺序输出即可。例如对于图 1 对应的棋盘而言，输出的答案是：$1432432121433214$。题目保证答案只有一个。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1n8xxik.png)", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 宝塔", "background": "", "description": "小蓝最近迷上了宝塔游戏，这是一款迷宫填数游戏，玩家需要按照规则将高度为 $1$ 至 $N$ 的宝塔放置在一个 $N \\times N$ 大小的水平放置的棋盘当中，每个宝塔占据棋盘的一个方格。具体规则如下：\n\n1. 宝塔的高度只有 $1, 2, \\ldots, N$。\n2. 每一行、每一列中不可以出现相同高度的宝塔。\n3. 棋盘周围的箭头中的数字表示从这个位置看向棋盘时可以看到的宝塔个数。\n\n下图 1 是一个棋盘以及答案以供参考。图 2 是你需要解决的问题，你需要输出 $25$ 个数字表示答案，按照棋盘布局从左至右、从上至下的顺序输出即可。例如对于图 1 对应的棋盘而言，输出的答案是：$1432432121433214$。题目保证答案只有一个。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e1n8xxik.png)", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只需要**编写一个程序输出这个整数**，输出多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P12254", "type": "P", "difficulty": 2, "samples": [["10\n3\n123\n33\n10", "11\n3\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2024", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 美丽区间", "background": "", "description": "美丽区间是这样的一组区间：$[L_1, R_1]$、$[L_2, R_2]$、$[L_3, R_3] \\dots$。构造美丽区间需要满足以下条件：\n\n1. $L_1 = 1$；\n2. $L_i \\leq R_i$；\n3. $R_i - L_i \\geq K$；\n4. 对于任意的 $i > 1$，有 $L_i = R_{i-1} + 1$；\n5. $\\gcd(L_i, R_i) = 1$，其中 $\\gcd$ 指两个数的最大公约数；\n6. 在满足上述条件的情况下，$L_i$、$R_i$ 之间的差尽可能的小。", "inputFormat": "第一行输入一个整数 $K$。\n\n第二行输入一个整数 $T$，表示有 $T$ 组测试用例。\n\n接下来 $T$ 行，每行输入一个整数 $n$。", "outputFormat": "对每个输入的整数 $n$，输出一行，包含一个整数，表示 $n$ 属于第几个美丽区间。", "hint": "### 样例说明\n\n- 第 $1$ 个美丽区间为：$[1, 11]$。\n- 第 $2$ 个美丽区间为：$[12, 23]$。\n- 第 $3$ 个美丽区间为：$[24, 35]$。\n- ……\n- 第 $11$ 个美丽区间为：$[120, 131]$。\n\n### 评测用例规模与约定\n\n- 对于 $60\\%$ 的评测用例：$1 \\leq T \\leq 10^3$，$1 \\leq K \\leq 10^6$，$1 \\leq n \\leq 10^6$。\n- 对于 $100\\%$ 的评测用例：$1 \\leq T \\leq 10^6$，$1 \\leq K \\leq 10^6$，$1 \\leq n \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 美丽区间", "background": "", "description": "美丽区间是这样的一组区间：$[L_1, R_1]$、$[L_2, R_2]$、$[L_3, R_3] \\dots$。构造美丽区间需要满足以下条件：\n\n1. $L_1 = 1$；\n2. $L_i \\leq R_i$；\n3. $R_i - L_i \\geq K$；\n4. 对于任意的 $i > 1$，有 $L_i = R_{i-1} + 1$；\n5. $\\gcd(L_i, R_i) = 1$，其中 $\\gcd$ 指两个数的最大公约数；\n6. 在满足上述条件的情况下，$L_i$、$R_i$ 之间的差尽可能的小。", "inputFormat": "第一行输入一个整数 $K$。\n\n第二行输入一个整数 $T$，表示有 $T$ 组测试用例。\n\n接下来 $T$ 行，每行输入一个整数 $n$。", "outputFormat": "对每个输入的整数 $n$，输出一行，包含一个整数，表示 $n$ 属于第几个美丽区间。", "hint": "### 样例说明\n\n- 第 $1$ 个美丽区间为：$[1, 11]$。\n- 第 $2$ 个美丽区间为：$[12, 23]$。\n- 第 $3$ 个美丽区间为：$[24, 35]$。\n- ……\n- 第 $11$ 个美丽区间为：$[120, 131]$。\n\n### 评测用例规模与约定\n\n- 对于 $60\\%$ 的评测用例：$1 \\leq T \\leq 10^3$，$1 \\leq K \\leq 10^6$，$1 \\leq n \\leq 10^6$。\n- 对于 $100\\%$ 的评测用例：$1 \\leq T \\leq 10^6$，$1 \\leq K \\leq 10^6$，$1 \\leq n \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P12255", "type": "P", "difficulty": 4, "samples": [["6\n1 2 9 8 4 4\n1 2\n1 3\n1 4\n2 5\n2 6", "2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "数论", "树的遍历", "素数判断,质数,筛法", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 园丁", "background": "", "description": "小明是一位尽职尽责的园丁。这天他负责维护一棵树，树上有 $n$ 个结点 $1, 2, \\ldots, n$，根结点为 $1$，结点 $i$ 的权值为 $a_i$。他需要更改一些结点的权值为任意正整数，使得对于任意一个至少有 $2$ 个儿子结点的结点 $i$ 满足：任意两个 $i$ 的儿子结点的权值的乘积都不是完全平方数。请问小明至少需要修改多少个结点的权值？", "inputFormat": "输入共 $n+1$ 行。\n\n第一行为一个正整数 $n$。\n\n第二行为 $n$ 个由空格分开的正整数 $a_1, a_2, \\ldots, a_n$。\n\n后面 $n-1$ 行，每行两个正整数表示树上的一条边。", "outputFormat": "输出共 $1$ 行，一个整数表示答案。", "hint": "### 样例说明\n\n其中一种方案：将结点 $2, 5$ 的权值分别修改为 $3, 2$。\n\n### 评测用例规模与约定\n\n- 对于 $20\\%$ 的评测用例，保证 $n \\leq 10^3$。\n- 对于 $100\\%$ 的评测用例，保证 $1\\leq n \\leq 10^5$，$1 \\leq a_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 园丁", "background": "", "description": "小明是一位尽职尽责的园丁。这天他负责维护一棵树，树上有 $n$ 个结点 $1, 2, \\ldots, n$，根结点为 $1$，结点 $i$ 的权值为 $a_i$。他需要更改一些结点的权值为任意正整数，使得对于任意一个至少有 $2$ 个儿子结点的结点 $i$ 满足：任意两个 $i$ 的儿子结点的权值的乘积都不是完全平方数。请问小明至少需要修改多少个结点的权值？", "inputFormat": "输入共 $n+1$ 行。\n\n第一行为一个正整数 $n$。\n\n第二行为 $n$ 个由空格分开的正整数 $a_1, a_2, \\ldots, a_n$。\n\n后面 $n-1$ 行，每行两个正整数表示树上的一条边。", "outputFormat": "输出共 $1$ 行，一个整数表示答案。", "hint": "### 样例说明\n\n其中一种方案：将结点 $2, 5$ 的权值分别修改为 $3, 2$。\n\n### 评测用例规模与约定\n\n- 对于 $20\\%$ 的评测用例，保证 $n \\leq 10^3$。\n- 对于 $100\\%$ 的评测用例，保证 $1\\leq n \\leq 10^5$，$1 \\leq a_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P12256", "type": "P", "difficulty": 4, "samples": [["4\nINSERT 1 1\nINSERT 2 2\nDELETE 1\nDELETE 2", "6"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "组合数学", "逆元", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 数据库", "background": "", "description": "小蓝最近设计了一款“阅后即焚”数据库，顾名思义这个数据库只有两种操作：增加一条数据和删除一条数据。简言之，这款数据库中只有一个表，且这个表只有两列：$id$ 和 $value$，其中每条数据都有一个独一无二的编号 $id$，$value$ 则是这条数据对应的存储内容。\n\n数据库操作语句有且仅有两种：\n\n1. $\\text{INSERT}$ $id$ $value$：插入一条新的数据，编号为 $id$，内容为 $value$。\n2. $\\text{DELETE}$ $id$：删除编号为 $id$ 的数据。\n\n现在给出 $N$ 条数据库语句，我们保证按照给出的语句顺序执行是合法的，合法指的是：$\\text{INSERT}$ 时数据库中一定不存在编号为 $id$ 的数据，$\\text{DELETE}$ 时数据库中一定存在编号为 $id$ 的数据，且同一个编号 $id$ 不会被 $\\text{INSERT}$ / $\\text{DELETE}$ 多次。\n\n你可以任意调整这些语句的执行顺序，现在请问一共有多少个不同的语句执行顺序，能够使得调整之后的语句顺序依旧是合法的并且按序执行之后数据库内容和给出的初始语句顺序执行后的结果一致。结果一致指的是二者包含的 $id$ 集合是相同的，并且相同的 $id$ 对应的 $value$ 也是相同的。", "inputFormat": "第一行一个整数 $N$ 表示有 $N$ 条数据库语句。\n\n接下来输入 $N$ 行，每行一条数据库语句。", "outputFormat": "一行一个整数，表示答案。由于答案可能过大，请将答案对 $1\\,000\\,000\\,007$ 取模之后输出。", "hint": "### 样例说明\n\n一共有 $6$ 种不同的排列方式：\n\n| 1 | 2 | 3 | 4 | 5 | 6 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| INSERT 1 1 | INSERT 1 1 | INSERT 2 2 | INSERT 2 2 | INSERT 1 1 | INSERT 2 2 |\n| INSERT 2 2 | INSERT 2 2 | INSERT 1 1 | INSERT 1 1 | DELETE 1 | DELETE 2 |\n| DELETE 1 | DELETE 2 | DELETE 1 |DELETE 2 | INSERT 2 2 | INSERT 1 1 |\n| DELETE 2 | DELETE 1 | DELETE 2 | DELETE 1 | DELETE 2 | DELETE 1 |\n\n它们都是合法的并且执行完后数据库中的内容都一样：没有任何数据。\n\n### 评测用例规模与约定\n\n- 对于 $30\\%$ 的评测用例，$1 \\leq N \\leq 10$。\n- 对于 $60\\%$ 的评测用例，$1 \\leq N \\leq 1000$。\n- 对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10^5$，$id$ 和 $value$ 均是 32 位有符号整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 数据库", "background": "", "description": "小蓝最近设计了一款“阅后即焚”数据库，顾名思义这个数据库只有两种操作：增加一条数据和删除一条数据。简言之，这款数据库中只有一个表，且这个表只有两列：$id$ 和 $value$，其中每条数据都有一个独一无二的编号 $id$，$value$ 则是这条数据对应的存储内容。\n\n数据库操作语句有且仅有两种：\n\n1. $\\text{INSERT}$ $id$ $value$：插入一条新的数据，编号为 $id$，内容为 $value$。\n2. $\\text{DELETE}$ $id$：删除编号为 $id$ 的数据。\n\n现在给出 $N$ 条数据库语句，我们保证按照给出的语句顺序执行是合法的，合法指的是：$\\text{INSERT}$ 时数据库中一定不存在编号为 $id$ 的数据，$\\text{DELETE}$ 时数据库中一定存在编号为 $id$ 的数据，且同一个编号 $id$ 不会被 $\\text{INSERT}$ / $\\text{DELETE}$ 多次。\n\n你可以任意调整这些语句的执行顺序，现在请问一共有多少个不同的语句执行顺序，能够使得调整之后的语句顺序依旧是合法的并且按序执行之后数据库内容和给出的初始语句顺序执行后的结果一致。结果一致指的是二者包含的 $id$ 集合是相同的，并且相同的 $id$ 对应的 $value$ 也是相同的。", "inputFormat": "第一行一个整数 $N$ 表示有 $N$ 条数据库语句。\n\n接下来输入 $N$ 行，每行一条数据库语句。", "outputFormat": "一行一个整数，表示答案。由于答案可能过大，请将答案对 $1\\,000\\,000\\,007$ 取模之后输出。", "hint": "### 样例说明\n\n一共有 $6$ 种不同的排列方式：\n\n| 1 | 2 | 3 | 4 | 5 | 6 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| INSERT 1 1 | INSERT 1 1 | INSERT 2 2 | INSERT 2 2 | INSERT 1 1 | INSERT 2 2 |\n| INSERT 2 2 | INSERT 2 2 | INSERT 1 1 | INSERT 1 1 | DELETE 1 | DELETE 2 |\n| DELETE 1 | DELETE 2 | DELETE 1 |DELETE 2 | INSERT 2 2 | INSERT 1 1 |\n| DELETE 2 | DELETE 1 | DELETE 2 | DELETE 1 | DELETE 2 | DELETE 1 |\n\n它们都是合法的并且执行完后数据库中的内容都一样：没有任何数据。\n\n### 评测用例规模与约定\n\n- 对于 $30\\%$ 的评测用例，$1 \\leq N \\leq 10$。\n- 对于 $60\\%$ 的评测用例，$1 \\leq N \\leq 1000$。\n- 对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10^5$，$id$ 和 $value$ 均是 32 位有符号整数。", "locale": "zh-CN"}}}
{"pid": "P12257", "type": "P", "difficulty": 2, "samples": [["6\n3 5 2 1 4 2", "3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "二分", "2024", "排序", "双指针 two-pointer", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 分组", "background": "", "description": "小明班上有 $n$ 名同学，老师准备按上一次考试的分数对同学们进行分组，第 $i$ 名同学的分数为 $a_i$。老师希望把同学们分为尽可能多的小组，且满足每个小组中的同学分数的最大值至少是最小值的两倍。请问最多能分出多少个小组？如果把所有人分到同一组都不能满足条件则输出 $0$。", "inputFormat": "输入共 $2$ 行。\n\n第一行为一个正整数 $n$。\n\n第二行为 $n$ 个由空格分开的正整数表示 $a_1, a_2, \\ldots, a_n$。", "outputFormat": "输出共 $1$ 行，一个整数表示答案。", "hint": "### 样例说明\n\n其中一种分组方式：第一组 $\\{a_4, a_1\\} = \\{1, 3\\}$，第二组 $\\{a_3, a_2\\} = \\{2, 5\\}$，第三组 $\\{a_6, a_5\\} = \\{2, 4\\}$。\n\n### 评测用例规模与约定\n\n- 对于 $20\\%$ 的评测用例，保证 $n \\leq 10$。\n- 对于 $100\\%$ 的评测用例，保证 $1\\leq n \\leq 10^5$，$0 < a_i \\leq 10^8$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 分组", "background": "", "description": "小明班上有 $n$ 名同学，老师准备按上一次考试的分数对同学们进行分组，第 $i$ 名同学的分数为 $a_i$。老师希望把同学们分为尽可能多的小组，且满足每个小组中的同学分数的最大值至少是最小值的两倍。请问最多能分出多少个小组？如果把所有人分到同一组都不能满足条件则输出 $0$。", "inputFormat": "输入共 $2$ 行。\n\n第一行为一个正整数 $n$。\n\n第二行为 $n$ 个由空格分开的正整数表示 $a_1, a_2, \\ldots, a_n$。", "outputFormat": "输出共 $1$ 行，一个整数表示答案。", "hint": "### 样例说明\n\n其中一种分组方式：第一组 $\\{a_4, a_1\\} = \\{1, 3\\}$，第二组 $\\{a_3, a_2\\} = \\{2, 5\\}$，第三组 $\\{a_6, a_5\\} = \\{2, 4\\}$。\n\n### 评测用例规模与约定\n\n- 对于 $20\\%$ 的评测用例，保证 $n \\leq 10$。\n- 对于 $100\\%$ 的评测用例，保证 $1\\leq n \\leq 10^5$，$0 < a_i \\leq 10^8$。", "locale": "zh-CN"}}}
{"pid": "P12258", "type": "P", "difficulty": 4, "samples": [["7 2 7\n84 21 12 3 65 5 41", "13"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "堆", "2024", "剪枝", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 背包问题", "background": "", "description": "神奇商店中一共有 $N$ 种不同的物品，第 $i$ 种物品的重量为 $W_i$，每种物品的数量都是无限个。店主会从中挑选任意种商品，每种商品可以选择任意个并将其装入到一个背包之中，从而可以组合出多种背包（这个背包可以容纳无限多的物品），其中背包的重量就是其中所含物品的重量之和。\n\n小蓝想要的背包中至少要有 $K$ 件物品。小蓝想要知道，在所有满足他要求的背包中，如果将背包重量从小到大排序并去除重复的重量，排名第 $L$ 的重量是多少。", "inputFormat": "第一行输入三个整数，用空格分隔，依次是 $N$、$K$、$L$。\n\n第二行输入 $N$ 个用空格分隔的整数表示 $N$ 件物品的重量。", "outputFormat": "输出一行，包含一个整数表示答案。", "hint": "### 样例说明\n\n背包中物品个数大于等于 $2$ 时，从小到大依次出现的背包重量为：\n\n$6 = 3 + 3$、$8 = 3 + 5$、$9 = 3 + 3 + 3$、$10 = 5 + 5$、$11 = 3 + 3 + 5$、$12 = 3 + 3 + 3 + 3$、$13 = 3 + 5 + 5$。\n\n### 评测用例规模与约定\n\n- 对于 $40\\%$ 的评测用例，$1 \\leq W_i \\leq 100$，$1 \\leq L \\leq 10$。\n- 对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10$，$1 \\leq K \\leq 10$，$1 \\leq W_i \\leq 10^9$，$1 \\leq L \\leq 10^5$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 背包问题", "background": "", "description": "神奇商店中一共有 $N$ 种不同的物品，第 $i$ 种物品的重量为 $W_i$，每种物品的数量都是无限个。店主会从中挑选任意种商品，每种商品可以选择任意个并将其装入到一个背包之中，从而可以组合出多种背包（这个背包可以容纳无限多的物品），其中背包的重量就是其中所含物品的重量之和。\n\n小蓝想要的背包中至少要有 $K$ 件物品。小蓝想要知道，在所有满足他要求的背包中，如果将背包重量从小到大排序并去除重复的重量，排名第 $L$ 的重量是多少。", "inputFormat": "第一行输入三个整数，用空格分隔，依次是 $N$、$K$、$L$。\n\n第二行输入 $N$ 个用空格分隔的整数表示 $N$ 件物品的重量。", "outputFormat": "输出一行，包含一个整数表示答案。", "hint": "### 样例说明\n\n背包中物品个数大于等于 $2$ 时，从小到大依次出现的背包重量为：\n\n$6 = 3 + 3$、$8 = 3 + 5$、$9 = 3 + 3 + 3$、$10 = 5 + 5$、$11 = 3 + 3 + 5$、$12 = 3 + 3 + 3 + 3$、$13 = 3 + 5 + 5$。\n\n### 评测用例规模与约定\n\n- 对于 $40\\%$ 的评测用例，$1 \\leq W_i \\leq 100$，$1 \\leq L \\leq 10$。\n- 对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 10$，$1 \\leq K \\leq 10$，$1 \\leq W_i \\leq 10^9$，$1 \\leq L \\leq 10^5$", "locale": "zh-CN"}}}
{"pid": "P12259", "type": "P", "difficulty": 6, "samples": [["3 4\n1 1 9\n2 3 3\n2 3 8\n3 3 1", "2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "生成树", "线性基", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 最优路径", "background": "", "description": "给出一个具有 $N$ 个点、$M$ 条边的无向图（可能存在重边和自环）。其中每条边都有一个 $w$ 属性表示无向边的权重。\n\n你可以从这个图中任意选两个不同的点 $start$、$end$，并以 $start$ 作为起点，$end$ 作为终点找出一条从 $start$ 到 $end$ 的路径（这条路径可以多次经过同一个点，也可以多次经过同一条边），将这条路径上经过的所有边的权重求一个异或和便得到了这条路径的风险值。\n\n小蓝想要找到一条风险值最小的路径，请问最小的风险值是多少？", "inputFormat": "第一行输入两个整数 $N$，$M$。\n\n接下来输入 $M$ 行，每行三个整数 $u$、$v$、$w$，表示一条无向边连接 $u$、$v$ 两个点，权重为 $w$。", "outputFormat": "输出一个整数表示最小的风险值。如果不存在任何一条满足题意的路径，输出 $-1$。", "hint": "### 样例说明\n\n先走第二条边，再走第四条边，风险值 $3 \\oplus 1 = 2$。\n\n### 评测用例规模与约定\n\n- 对于 $60\\%$ 的评测用例，$1 \\leq N \\leq 50$，$0 \\leq M \\leq 10^3$。\n- 对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 500$，$0 \\leq M \\leq 10^4$，$1 \\leq u, v \\leq N$，$1 \\leq w \\leq 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 最优路径", "background": "", "description": "给出一个具有 $N$ 个点、$M$ 条边的无向图（可能存在重边和自环）。其中每条边都有一个 $w$ 属性表示无向边的权重。\n\n你可以从这个图中任意选两个不同的点 $start$、$end$，并以 $start$ 作为起点，$end$ 作为终点找出一条从 $start$ 到 $end$ 的路径（这条路径可以多次经过同一个点，也可以多次经过同一条边），将这条路径上经过的所有边的权重求一个异或和便得到了这条路径的风险值。\n\n小蓝想要找到一条风险值最小的路径，请问最小的风险值是多少？", "inputFormat": "第一行输入两个整数 $N$，$M$。\n\n接下来输入 $M$ 行，每行三个整数 $u$、$v$、$w$，表示一条无向边连接 $u$、$v$ 两个点，权重为 $w$。", "outputFormat": "输出一个整数表示最小的风险值。如果不存在任何一条满足题意的路径，输出 $-1$。", "hint": "### 样例说明\n\n先走第二条边，再走第四条边，风险值 $3 \\oplus 1 = 2$。\n\n### 评测用例规模与约定\n\n- 对于 $60\\%$ 的评测用例，$1 \\leq N \\leq 50$，$0 \\leq M \\leq 10^3$。\n- 对于 $100\\%$ 的评测用例，$1 \\leq N \\leq 500$，$0 \\leq M \\leq 10^4$，$1 \\leq u, v \\leq N$，$1 \\leq w \\leq 10^3$。", "locale": "zh-CN"}}}
{"pid": "P12260", "type": "P", "difficulty": 6, "samples": [["3 3\n###\n.##\n##.", "0"], ["3 3\n.#.\n.##\n..#", "5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "蓝桥杯国赛", "状压 DP"], "title": "[蓝桥杯 2024 国 Java B] 房屋建造", "background": "", "description": "有一个由 $N$ 行 $N$ 列方格组成的建筑用地，每个方格，我们用 `#` 表示这是一堵墙，`.` 表示是一片空地，其中只有在空地上才可以进行房屋建造。小蓝想要在这片区域上建造两个房屋：通过水平/垂直方向可以连通在一起的区域属于同一个房屋。由于建筑物料有限，小蓝最多只能在 $K$ 个空地上进行房屋建造，同时他希望自己的房屋面积尽可能的大，所以他必须用光所有的 $K$ 块空地来建造房屋。\n\n请问一共有多少种不同的建造方案。", "inputFormat": "第一行输入三个整数 $N$、$K$。\n\n接下来输入 $N$ 行，每行输入一个长度为 $N$ 的字符串，表示方格布局。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例说明\n\n- 对于样例 $1$：$K = 3$，但只有两个空地，所以没有符合题意的解，答案为 $0$。\n- 对于样例 $2$，答案如下所示，我们用 `@` 表示建筑物：\n\n```\n@#. @#@ @#. .#@ .#@\n.## @## @## @## .##\n@@# ..# .@# @.# @@#\n```\n\n### 评测用例规模与约定\n\n- 对于 $50\\%$ 的评测用例：$1 \\leq N \\leq 5$，$1 \\leq K \\leq 5$。\n- 对于 $100\\%$ 的评测用例：$1 \\leq N \\leq 8$，$1 \\leq K \\leq 8$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 房屋建造", "background": "", "description": "有一个由 $N$ 行 $N$ 列方格组成的建筑用地，每个方格，我们用 `#` 表示这是一堵墙，`.` 表示是一片空地，其中只有在空地上才可以进行房屋建造。小蓝想要在这片区域上建造两个房屋：通过水平/垂直方向可以连通在一起的区域属于同一个房屋。由于建筑物料有限，小蓝最多只能在 $K$ 个空地上进行房屋建造，同时他希望自己的房屋面积尽可能的大，所以他必须用光所有的 $K$ 块空地来建造房屋。\n\n请问一共有多少种不同的建造方案。", "inputFormat": "第一行输入三个整数 $N$、$K$。\n\n接下来输入 $N$ 行，每行输入一个长度为 $N$ 的字符串，表示方格布局。", "outputFormat": "输出一个整数表示答案。", "hint": "### 样例说明\n\n- 对于样例 $1$：$K = 3$，但只有两个空地，所以没有符合题意的解，答案为 $0$。\n- 对于样例 $2$，答案如下所示，我们用 `@` 表示建筑物：\n\n```\n@#. @#@ @#. .#@ .#@\n.## @## @## @## .##\n@@# ..# .@# @.# @@#\n```\n\n### 评测用例规模与约定\n\n- 对于 $50\\%$ 的评测用例：$1 \\leq N \\leq 5$，$1 \\leq K \\leq 5$。\n- 对于 $100\\%$ 的评测用例：$1 \\leq N \\leq 8$，$1 \\leq K \\leq 8$。", "locale": "zh-CN"}}}
{"pid": "P12261", "type": "P", "difficulty": 4, "samples": [["3\n0 100000\n100000 200000\n200000 0", "133333.33"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2024", "三分", "Special Judge", "蓝桥杯国赛"], "title": "[蓝桥杯 2024 国 Java B] 激光炮", "background": "", "description": "小明在二维平面上放置了 $n$ 门激光炮，第 $i$ 门激光炮位于坐标 $(-10^5, a_i)$，射向靶点 $(10^5, b_i)$，形成 $n$ 条线段。他想使用一条垂直于 $x$ 轴且其中一个端点在 $x$ 轴上的线段挡住所有激光炮的发射路线，这条线段的长度最短为多少？", "inputFormat": "输入共 $n+1$ 行。\n\n第一行为一个正整数 $n$。\n\n后面 $n$ 行，每行 2 个由空格分开的非负整数表示 $a_i, b_i$。", "outputFormat": "输出共 $1$ 行，一个浮点数表示答案（输出四舍五入到 $2$ 位小数）。", "hint": "### 样例说明\n\n第 $2,3$ 门激光炮发射路线的交点为 $(-\\frac{100000}{3}, \\frac{400000}{3})$，因此，只需要在 $(-\\frac{100000}{3}, 0)$ 处放置一条长度为 $\\frac{400000}{3} = 133333.33$ 的线段即可挡住所有 3 门激光炮。\n\n### 评测用例规模与约定\n\n- 对于 $20\\%$ 的评测用例，保证 $n \\leq 10^2$。\n- 对于 $100\\%$ 的评测用例，保证 $n \\leq 10^5$，$0 \\leq a_i, b_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2024 国 Java B] 激光炮", "background": "", "description": "小明在二维平面上放置了 $n$ 门激光炮，第 $i$ 门激光炮位于坐标 $(-10^5, a_i)$，射向靶点 $(10^5, b_i)$，形成 $n$ 条线段。他想使用一条垂直于 $x$ 轴且其中一个端点在 $x$ 轴上的线段挡住所有激光炮的发射路线，这条线段的长度最短为多少？", "inputFormat": "输入共 $n+1$ 行。\n\n第一行为一个正整数 $n$。\n\n后面 $n$ 行，每行 2 个由空格分开的非负整数表示 $a_i, b_i$。", "outputFormat": "输出共 $1$ 行，一个浮点数表示答案（输出四舍五入到 $2$ 位小数）。", "hint": "### 样例说明\n\n第 $2,3$ 门激光炮发射路线的交点为 $(-\\frac{100000}{3}, \\frac{400000}{3})$，因此，只需要在 $(-\\frac{100000}{3}, 0)$ 处放置一条长度为 $\\frac{400000}{3} = 133333.33$ 的线段即可挡住所有 3 门激光炮。\n\n### 评测用例规模与约定\n\n- 对于 $20\\%$ 的评测用例，保证 $n \\leq 10^2$。\n- 对于 $100\\%$ 的评测用例，保证 $n \\leq 10^5$，$0 \\leq a_i, b_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P12262", "type": "P", "difficulty": 5, "samples": [["5\n2 3 1 3 3 \n1\n2 3", "3\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["暴力数据结构", "O2优化"], "title": "『STA - R9』交错", "background": "", "description": "称一个长度为 $m$ 的序列 $p$ 为交错序列，当且仅当其具有 ${x,y,x,y,\\cdots}$ 的形式，且 $x\\ne y$。\n\n给定一个长度为 $n$ 的序列 $a_{1\\dots n}$ 和 $q$ 次修改，每次修改会给定两个正整数 $k$ 和 $c$，并令 $a_{k}=c$。你需要在初始时（即第一次修改前）以及每次修改之后求出 $a$ 的最长的交错子序列的长度。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，表示 $a$。\n\n第三行一个非负整数 $q$。\n\n接下来 $q$ 行，每行两个正整数 $k,c$，表示一次修改。\n\n", "outputFormat": "输出 $q+1$ 行。\n\n第一行表示初始时 $a$ 的最长的交错子序列的长度。\n\n接下来 $q$ 行，第 $i$ 行表示第 $i$ 次修改后 $a$ 的最长的交错子序列的长度。", "hint": "**本题使用捆绑测试**，子任务信息如下：\n\n| 子任务编号 | $n\\le $ | $q\\le $ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| **0** | $1$ | $0$ | 无 | $2$ |\n| **1** | $20$ | $0$ | 无 | $5$ |\n| **2** | $3000$ | $7000$ | $a_{i},c\\le 2$ | $23$ |\n| **3** | $250$ | $0$ | 无 | $10$ |\n| **4** | $1000$ | $0$ | 无 | $10$ |\n| **5** | $2000$ | $0$ | 无 | $10$ |\n| **6** | $3000$ | $0$ | 无 | $15$ |\n| **7** | $3000$ | $7000$ | 无 | $25$ |\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 3000$，$0\\le q\\le  7000$，$1\\le a_{i},k,c\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R9』交错", "background": "", "description": "称一个长度为 $m$ 的序列 $p$ 为交错序列，当且仅当其具有 ${x,y,x,y,\\cdots}$ 的形式，且 $x\\ne y$。\n\n给定一个长度为 $n$ 的序列 $a_{1\\dots n}$ 和 $q$ 次修改，每次修改会给定两个正整数 $k$ 和 $c$，并令 $a_{k}=c$。你需要在初始时（即第一次修改前）以及每次修改之后求出 $a$ 的最长的交错子序列的长度。", "inputFormat": "第一行一个正整数 $n$。\n\n第二行 $n$ 个正整数，表示 $a$。\n\n第三行一个非负整数 $q$。\n\n接下来 $q$ 行，每行两个正整数 $k,c$，表示一次修改。\n\n", "outputFormat": "输出 $q+1$ 行。\n\n第一行表示初始时 $a$ 的最长的交错子序列的长度。\n\n接下来 $q$ 行，第 $i$ 行表示第 $i$ 次修改后 $a$ 的最长的交错子序列的长度。", "hint": "**本题使用捆绑测试**，子任务信息如下：\n\n| 子任务编号 | $n\\le $ | $q\\le $ | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| **0** | $1$ | $0$ | 无 | $2$ |\n| **1** | $20$ | $0$ | 无 | $5$ |\n| **2** | $3000$ | $7000$ | $a_{i},c\\le 2$ | $23$ |\n| **3** | $250$ | $0$ | 无 | $10$ |\n| **4** | $1000$ | $0$ | 无 | $10$ |\n| **5** | $2000$ | $0$ | 无 | $10$ |\n| **6** | $3000$ | $0$ | 无 | $15$ |\n| **7** | $3000$ | $7000$ | 无 | $25$ |\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 3000$，$0\\le q\\le  7000$，$1\\le a_{i},k,c\\le n$。", "locale": "zh-CN"}}}
{"pid": "P12263", "type": "P", "difficulty": 5, "samples": [["3 1\n2 2 2\n2 3 1", "2"], ["4 3\n6 5 6 6\n3 3 1\n1 3 2\n4 4 5", "3\n4\n2\n"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "线段树", "O2优化"], "title": "『STA - R9』回听", "background": "", "description": "给定一个长为 $n$ 的序列 $a$，定义回听操作如下：\n\n> 定义一次回听操作为，任意选择一个 $x\\in [1,n]$，然后进行任意次（可以是 $0$ 次）如下操作：\n>\n> - $a_x \\leftarrow \\max\\{a_x-1,0\\}$，选择一个 $j\\in[1,x)$，交换 $a_x,a_j$ 并令 $x \\leftarrow j$。\n>\n> 定义 $b_i$ 为进行一次回听后 $a_i$ 的最小值。\n>\n> 注意此处回听操作不会实际影响序列 $a$ 的值。可以认为操作之后 $a$ 会恢复到操作之前的状态。\n\n序列会进行 $m$ 次修改操作，每次给定 $l,r,v$，使 $a_l$ 到 $a_r$ 中的每个数增加 $v$。每次修改后你需要输出进行一次回听操作后本质不同的 $b_i$ 共有多少个（$b_i$ 与 $b_j$ 本质不同当且仅当 $b_i \\ne b_j$）。\n\n**注意：修改操作间相互影响，回听操作间相互独立。**", "inputFormat": "第一行两个整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个整数表示 $a_i$。\n\n接下来 $m$ 行每行 $3$ 个整数，分别表示 $l,r,v$。", "outputFormat": "共 $m$ 行，每行一个整数代表本质不同的 $b_i$ 个数。", "hint": "\n\n**【操作解释】**\n\n对于序列 $\\{3,8,2,4,7\\}$，对它进行回听操作的过程如下：\n\n若选择 $x=5$，进行 $3$ 次操作，选择的 $j$ 分别为 $4,2,1$，那么整个序列会这样变化：\n- $\\{3,8,2,4,7\\}$\n- $\\{3,8,2,6,4\\}$\n- $\\{3,5,2,8,4\\}$\n- $\\{4,3,2,8,4\\}$\n\n**【样例 $1$ 解释】**\n\n修改操作后序列 $a$ 变为 $\\{  2,3,3\\}$。\n\n当 $i=1$ 时，选择 $x=3$，进行 $2$ 次操作，$j$ 分别选择 $2,1$，得到 $b_i=a_3-1-1=1$。\n\n当 $i=2$ 时，选择 $x=2$，进行 $1$ 次操作，选择 $j =1$，得到 $b_i=a_1=2$。\n\n当 $i=3$ 时，选择 $x=3$，进行 $1$ 次操作，选择 $j =1$，得到 $b_i=a_1=2$。\n\n综上，序列 $b$ 为 $\\{  1,2,2\\}$，故答案为 $2$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 0（10 pts）：$1\\le n,m \\le 10$。\n- Subtask 1（15 pts）：$1\\le n,m \\le 10^5$，$l\\ge 2$，$a_1=1$，$\\forall i\\in[2,n],\\,a_i>i$。\n- Subtask 2（15 pts）：$1\\le n,m \\le 1000$。\n- Subtask 3（30 pts）：$1\\le n,m \\le 10^5$。\n- Subtask 4（30 pts）：无特殊限制。\n\n对于所有测试数据，保证 $1\\le n,m\\le 5\\times10^5$，$1\\le a_i,v\\le 10^6$，$1\\le l\\le r\\le n$。\n\n**本题输入输出量较大，建议使用较快的 IO 方式。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『STA - R9』回听", "background": "", "description": "给定一个长为 $n$ 的序列 $a$，定义回听操作如下：\n\n> 定义一次回听操作为，任意选择一个 $x\\in [1,n]$，然后进行任意次（可以是 $0$ 次）如下操作：\n>\n> - $a_x \\leftarrow \\max\\{a_x-1,0\\}$，选择一个 $j\\in[1,x)$，交换 $a_x,a_j$ 并令 $x \\leftarrow j$。\n>\n> 定义 $b_i$ 为进行一次回听后 $a_i$ 的最小值。\n>\n> 注意此处回听操作不会实际影响序列 $a$ 的值。可以认为操作之后 $a$ 会恢复到操作之前的状态。\n\n序列会进行 $m$ 次修改操作，每次给定 $l,r,v$，使 $a_l$ 到 $a_r$ 中的每个数增加 $v$。每次修改后你需要输出进行一次回听操作后本质不同的 $b_i$ 共有多少个（$b_i$ 与 $b_j$ 本质不同当且仅当 $b_i \\ne b_j$）。\n\n**注意：修改操作间相互影响，回听操作间相互独立。**", "inputFormat": "第一行两个整数 $n,m$。\n\n第二行 $n$ 个整数，第 $i$ 个整数表示 $a_i$。\n\n接下来 $m$ 行每行 $3$ 个整数，分别表示 $l,r,v$。", "outputFormat": "共 $m$ 行，每行一个整数代表本质不同的 $b_i$ 个数。", "hint": "\n\n**【操作解释】**\n\n对于序列 $\\{3,8,2,4,7\\}$，对它进行回听操作的过程如下：\n\n若选择 $x=5$，进行 $3$ 次操作，选择的 $j$ 分别为 $4,2,1$，那么整个序列会这样变化：\n- $\\{3,8,2,4,7\\}$\n- $\\{3,8,2,6,4\\}$\n- $\\{3,5,2,8,4\\}$\n- $\\{4,3,2,8,4\\}$\n\n**【样例 $1$ 解释】**\n\n修改操作后序列 $a$ 变为 $\\{  2,3,3\\}$。\n\n当 $i=1$ 时，选择 $x=3$，进行 $2$ 次操作，$j$ 分别选择 $2,1$，得到 $b_i=a_3-1-1=1$。\n\n当 $i=2$ 时，选择 $x=2$，进行 $1$ 次操作，选择 $j =1$，得到 $b_i=a_1=2$。\n\n当 $i=3$ 时，选择 $x=3$，进行 $1$ 次操作，选择 $j =1$，得到 $b_i=a_1=2$。\n\n综上，序列 $b$ 为 $\\{  1,2,2\\}$，故答案为 $2$。\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 0（10 pts）：$1\\le n,m \\le 10$。\n- Subtask 1（15 pts）：$1\\le n,m \\le 10^5$，$l\\ge 2$，$a_1=1$，$\\forall i\\in[2,n],\\,a_i>i$。\n- Subtask 2（15 pts）：$1\\le n,m \\le 1000$。\n- Subtask 3（30 pts）：$1\\le n,m \\le 10^5$。\n- Subtask 4（30 pts）：无特殊限制。\n\n对于所有测试数据，保证 $1\\le n,m\\le 5\\times10^5$，$1\\le a_i,v\\le 10^6$，$1\\le l\\le r\\le n$。\n\n**本题输入输出量较大，建议使用较快的 IO 方式。**", "locale": "zh-CN"}}}
