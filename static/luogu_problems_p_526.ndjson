{"pid": "P11676", "type": "P", "difficulty": 5, "samples": [["4\n1\n2 3\n40 6 11", "10"], ["5\n-1\n10 -2\n10 -7 10\n-6 -4 -5 10", "5"], ["4\n-1\n-2 300\n4 -5 6", "9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2025", "区间 DP"], "title": "[USACO25JAN] DFS Order P", "background": "", "description": "Bessie 有一个无向简单图，结点编号为 $1\\dots N$（$2\\le N\\le 750$）。她通过调用函数 $\\texttt{dfs}(1)$ 生成该图的一个深度优先搜索（depth-first search，DFS）序，函数由以下 C++ 代码定义。各邻接表（对于所有 $1\\le i\\le N$ 的 $\\texttt{adj}[i]$）在开始深度优先搜索之前可以任意排列，因此一个图可以有多个可能的 DFS 序。\n\n```cpp\nvector<bool> vis(N + 1);\nvector<vector<int>> adj(N + 1);  // 邻接表\nvector<int> dfs_order;\n\nvoid dfs(int x) {\n    if (vis[x]) return;\n    vis[x] = true;\n    dfs_order.push_back(x);\n    for (int y : adj[x]) dfs(y);\n}\n```\n\n给定图的初始状态以及修改每条边状态的代价。具体地说，对于每对满足 $1\\le i<j\\le N$ 的结点 $(i,j)$，给定一个整数 $a_{i,j}$（$0<|a_{i,j}|\\le 1000$），其中\n\n- 如果 $a_{i,j}>0$，则边 $(i,j)$ 当前不在图中，可以以代价 $a_{i,j}$ 添加。\n- 如果 $a_{i,j}<0$，则边 $(i,j)$ 当前在图中，可以以代价 $-a_{i,j}$ 移除。\n\n求使得 $[1,2\\dots,N]$ 成为一个可能的 DFS 序的最小总代价。", "inputFormat": "输入的第一行包含 $N$。\n\n以下 $N-1$ 行，第 $j-1$ 行包含 $a_{1,j}, a_{2,j}, \\dots, a_{j-1,j}$，以空格分隔。", "outputFormat": "输出使得 $[1,2,\\dots, N]$ 成为一个可能的 DFS 序的最小总代价。\n", "hint": "样例 1 解释：\n\n初始时，图中没有边。可以添加边 $(1,2),(2,3),(2,4)$ 可以得到总代价 $1+3+6$。现在图有两个可能的 DFS 序：$[1,2,3,4],[1,2,4,3]$。\n\n样例 2 解释：\n\n初始时，图中包含边 $(1,2),(2,3),(2,4),(1,5),(2,5),(3,5)$。移除边 $(3,5)$ 可以得到总代价 $5$。\n\n样例 3 解释：\n\n初始时，图中包含边 $(1,2),(1,3),(2,4)$。移除边 $(2,4)$ 并且添加边 $(1,4)$ 可以得到总代价 $5+4=9$。\n\n- 测试点 $4\\sim 9$：所有 $a_{i,j}>0$。\n- 测试点 $10\\sim 16$：$N\\le 50$。\n- 测试点 $17\\sim 23$：没有额外限制。\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[USACO25JAN] DFS Order P", "background": null, "description": "Bessie has a simple undirected graph with vertices labeled $1\\dots N$ ($2\\le N\\le 750$).  She generates a depth-first search (DFS) order of the graph by calling the function $\\texttt{dfs}(1)$, defined by the following C++ code. Each adjacency list ($\\texttt{adj}[i]$ for all $1\\le i\\le N$) may be permuted arbitrarily before starting the depth first search, so a graph can have multiple possible DFS orders.  \n```cpp\nvector<bool> vis(N + 1);\nvector<vector<int>> adj(N + 1);  // adjacency list\nvector<int> dfs_order;\n\nvoid dfs(int x) {\n    if (vis[x]) return;\n    vis[x] = true;\n    dfs_order.push_back(x);\n    for (int y : adj[x]) dfs(y);\n}\n```\n\n\nYou are given the initial state of the graph as well as the cost to change the state of each edge. Specifically, for every pair of vertices $(i,j)$ satisfying $1\\le i<j\\le N$, you are given an integer $a_{i,j}$ ($0<|a_{i,j}|\\le 1000$) such that  \n\n\n- If $a_{i,j}>0$, edge $(i,j)$ is not currently in the graph, and can be added for cost $a_{i,j}$.\n- If $a_{i,j}<0$, edge $(i,j)$ is currently in the graph, and can be removed for cost $-a_{i,j}$.  \n\nDetermine the minimum total cost to change the graph so that $[1,2\\dots,N]$ is a possible DFS ordering.", "inputFormat": "The first line contains $N$.  \n\nThen $N-1$ lines follow. The $j-1$th line contains $a_{1,j}, a_{2,j}, \\dots, a_{j-1,j}$ separated by spaces.", "outputFormat": "The minimum cost to change the graph so that $[1,2,\\dots, N]$ is a possible DFS ordering.", "hint": "##### For Sample 1:\nInitially, the graph contains no edges. $(1,2),(2,3),(2,4)$ can be added for a total cost of $1+3+6$. The graph now has two possible DFS orderings: $[1,2,3,4],[1,2,4,3]$.  \n\n\n##### For Sample 2:\nInitially, the graph contains edges $(1,2),(2,3),(2,4),(1,5),(2,5),(3,5)$. Edge $(3,5)$ can be removed for a cost of $5$.  \n\n\n##### For Sample 3:\nInitially, the graph contains edges $(1,2),(1,3),(2,4)$.  Edge $(2,4)$ can be removed and edge $(1,4)$ can be added for a total cost of $5+4=9$.  \n\n\n#### SCORING:\n- Inputs 4-9: All $a_{i,j}>0$\n- Inputs 10-16: $N\\le 50$\n- Inputs 17-23: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO25JAN] DFS Order P", "background": "", "description": "Bessie 有一个无向简单图，结点编号为 $1\\dots N$（$2\\le N\\le 750$）。她通过调用函数 $\\texttt{dfs}(1)$ 生成该图的一个深度优先搜索（depth-first search，DFS）序，函数由以下 C++ 代码定义。各邻接表（对于所有 $1\\le i\\le N$ 的 $\\texttt{adj}[i]$）在开始深度优先搜索之前可以任意排列，因此一个图可以有多个可能的 DFS 序。\n\n```cpp\nvector<bool> vis(N + 1);\nvector<vector<int>> adj(N + 1);  // 邻接表\nvector<int> dfs_order;\n\nvoid dfs(int x) {\n    if (vis[x]) return;\n    vis[x] = true;\n    dfs_order.push_back(x);\n    for (int y : adj[x]) dfs(y);\n}\n```\n\n给定图的初始状态以及修改每条边状态的代价。具体地说，对于每对满足 $1\\le i<j\\le N$ 的结点 $(i,j)$，给定一个整数 $a_{i,j}$（$0<|a_{i,j}|\\le 1000$），其中\n\n- 如果 $a_{i,j}>0$，则边 $(i,j)$ 当前不在图中，可以以代价 $a_{i,j}$ 添加。\n- 如果 $a_{i,j}<0$，则边 $(i,j)$ 当前在图中，可以以代价 $-a_{i,j}$ 移除。\n\n求使得 $[1,2\\dots,N]$ 成为一个可能的 DFS 序的最小总代价。", "inputFormat": "输入的第一行包含 $N$。\n\n以下 $N-1$ 行，第 $j-1$ 行包含 $a_{1,j}, a_{2,j}, \\dots, a_{j-1,j}$，以空格分隔。", "outputFormat": "输出使得 $[1,2,\\dots, N]$ 成为一个可能的 DFS 序的最小总代价。\n", "hint": "样例 1 解释：\n\n初始时，图中没有边。可以添加边 $(1,2),(2,3),(2,4)$ 可以得到总代价 $1+3+6$。现在图有两个可能的 DFS 序：$[1,2,3,4],[1,2,4,3]$。\n\n样例 2 解释：\n\n初始时，图中包含边 $(1,2),(2,3),(2,4),(1,5),(2,5),(3,5)$。移除边 $(3,5)$ 可以得到总代价 $5$。\n\n样例 3 解释：\n\n初始时，图中包含边 $(1,2),(1,3),(2,4)$。移除边 $(2,4)$ 并且添加边 $(1,4)$ 可以得到总代价 $5+4=9$。\n\n- 测试点 $4\\sim 9$：所有 $a_{i,j}>0$。\n- 测试点 $10\\sim 16$：$N\\le 50$。\n- 测试点 $17\\sim 23$：没有额外限制。\n\n", "locale": "zh-CN"}}}
{"pid": "P11677", "type": "P", "difficulty": 7, "samples": [["6\n5\n0 2 4 5 8\n5\n6 5 4 5 6\n5\n1 1 1 1 1\n5\n12 10 8 6 4\n7\n6 1 2 3 5 8 13\n2\n1000000000000000000 1000000000000000000", "2\n3\n2\n4\n4\n2000000000000000000\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "二分", "USACO", "2025", "凸包", "扫描线", "分类讨论"], "title": "[USACO25JAN] Shock Wave P", "background": "", "description": "Bessie 正在试验一种能够产生巨大冲击波的强大的蹄部植入物。她有 $N$（$2 \\leq N \\leq 10^5$）块砖块排开在面前，分别需要至少 $p_0,p_1,\\dots,p_{N-1}$ 的力量才能击破（$0 \\leq p_i \\leq 10^{18}$）。\n\nBessie 可以通过击打特定的砖块来施加力量，但由于她的植入物的奇特性质，它不会对她所击打的那块砖块施加任何力量。相反，如果她选择击打砖块 $x$ 一次，其中 $x$ 是一个 $[0,N-1]$ 范围内的整数，对所有在 $[0,N-1]$ 范围内的整数 $i$，它将对砖块 $i$ 施加 $|i-x|$ 的力量。同时这个力量是累积的，因此对一块砖块施加两次 $2$ 的力量将对该砖块施加总共 $4$ 的力量。\n\n请求出击破所有砖块所需要的最少击打次数。", "inputFormat": "输入的第一行包含 $T$（$1 \\leq T \\leq 100$），为测试用例的数量。\n\n第 $2t$ 行包含一个整数 $N$，为测试用例 $t$ 中的砖块数量。\n\n第 $2t+1$ 行包含 $N$ 个空格分隔的整数 $p_0,p_1, \\ldots, p_{N-1}$，表示砖块 $i$ 需要 $p_i$ 的力量才能击破。\n\n输入保证一个测试点中的所有 $N$ 之和不超过 $5\\cdot 10^5$。", "outputFormat": "输出 $T$ 行，第 $i$ 行包含第 $i$ 个测试用例的答案。\n", "hint": "样例 1 解释：\n\n在第一个测试用例中，Bessie 通过两次击打击破所有砖块的唯一方法是击打砖块 $0$ 两次，施加总力量分别为 $[0,2,4,6,8]$。\n\n在第二个测试用例中，Bessie 通过三次击打击破所有砖块的一种方法是分别击打砖块 $0$，$2$ 和 $4$ 一次，施加总力量分别为 $[6,5,4,5,6]$。\n\n在第三个测试用例中，Bessie 通过两次击打击破所有砖块的一种方法是分别击打砖块 $0$ 和 $1$ 一次，施加总力量分别为 $[1,1,3,5,7]$。\n\n- 测试点 $2$：所有 $p_i$ 均相等。\n- 测试点 $3\\sim 6$：$N\\le 100$。\n- 测试点 $7\\sim 14$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO25JAN] Shock Wave P", "background": null, "description": "Bessie is experimenting with a powerful hoof implant that has the ability to create massive shock waves. She has $N$ ($2 \\leq N \\leq 10^5$) tiles lined up in front of her, which require powers of at least $p_0,p_1,\\dots,p_{N-1}$ to break, respectively ($0 \\leq p_i \\leq 10^{18}$).  \n\nBessie can apply power by punching a specific tile but due to the strange nature of her implant, it will not apply any power to the tile she punches. Instead, if she chooses to punch tile $x$ once, where $x$ is an integer in $[0,N-1]$,  it applies $|i-x|$ power to tile $i$ for all integers $i$ in the range $[0,N-1]$. This power is also cumulative, so applying $2$ power twice to a tile will apply a total of $4$ power to the tile.   \n\nPlease determine the fewest number of punches required to break all the tiles.", "inputFormat": "The first line contains $T$ ($1 \\leq T \\leq 100$) representing the number of test cases.   \n\nLine $2t$ contains a single integer $N$, the number of tiles in test case $t$.  \n\nLine $2t+1$ contains $N$ space separated numbers $p_0,p_1, \\ldots, p_{N-1}$ representing that tile $i$ takes $p_i$ power to be broken.  \n\nIt is guaranteed that the sum of all $N$ in a single input does not exceed $5\\cdot 10^5$.", "outputFormat": "$T$ lines, the $i$th line representing the answer to the $i$th test case.", "hint": "For the first test, the only way for Bessie to break all the tiles with two punches is to punch $0$ twice, applying total powers of $[0,2,4,6,8]$ respectively.  \n\nFor the second test, one way for Bessie to break all the tiles with three punches is to punch $0$, $2$, and $4$ one time each, applying total powers of $[6,5,4,5,6]$ respectively.  \n\nFor the third test, one way for Bessie to break all the tiles with two punches is to punch $0$ and $1$ one time each, applying total powers of $[1,1,3,5,7]$ respectively.  \n\n#### SCORING:\n- Input 2: All $p_i$ are equal.\n- Inputs 3-6: $N\\le 100$\n- Inputs 7-14: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO25JAN] Shock Wave P", "background": "", "description": "Bessie 正在试验一种能够产生巨大冲击波的强大的蹄部植入物。她有 $N$（$2 \\leq N \\leq 10^5$）块砖块排开在面前，分别需要至少 $p_0,p_1,\\dots,p_{N-1}$ 的力量才能击破（$0 \\leq p_i \\leq 10^{18}$）。\n\nBessie 可以通过击打特定的砖块来施加力量，但由于她的植入物的奇特性质，它不会对她所击打的那块砖块施加任何力量。相反，如果她选择击打砖块 $x$ 一次，其中 $x$ 是一个 $[0,N-1]$ 范围内的整数，对所有在 $[0,N-1]$ 范围内的整数 $i$，它将对砖块 $i$ 施加 $|i-x|$ 的力量。同时这个力量是累积的，因此对一块砖块施加两次 $2$ 的力量将对该砖块施加总共 $4$ 的力量。\n\n请求出击破所有砖块所需要的最少击打次数。", "inputFormat": "输入的第一行包含 $T$（$1 \\leq T \\leq 100$），为测试用例的数量。\n\n第 $2t$ 行包含一个整数 $N$，为测试用例 $t$ 中的砖块数量。\n\n第 $2t+1$ 行包含 $N$ 个空格分隔的整数 $p_0,p_1, \\ldots, p_{N-1}$，表示砖块 $i$ 需要 $p_i$ 的力量才能击破。\n\n输入保证一个测试点中的所有 $N$ 之和不超过 $5\\cdot 10^5$。", "outputFormat": "输出 $T$ 行，第 $i$ 行包含第 $i$ 个测试用例的答案。\n", "hint": "样例 1 解释：\n\n在第一个测试用例中，Bessie 通过两次击打击破所有砖块的唯一方法是击打砖块 $0$ 两次，施加总力量分别为 $[0,2,4,6,8]$。\n\n在第二个测试用例中，Bessie 通过三次击打击破所有砖块的一种方法是分别击打砖块 $0$，$2$ 和 $4$ 一次，施加总力量分别为 $[6,5,4,5,6]$。\n\n在第三个测试用例中，Bessie 通过两次击打击破所有砖块的一种方法是分别击打砖块 $0$ 和 $1$ 一次，施加总力量分别为 $[1,1,3,5,7]$。\n\n- 测试点 $2$：所有 $p_i$ 均相等。\n- 测试点 $3\\sim 6$：$N\\le 100$。\n- 测试点 $7\\sim 14$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11678", "type": "P", "difficulty": 7, "samples": [["3\n39 69 33\n30 29", "2070\n2127"], ["3\n33 82 36\n19 1", "1558\n676"], ["8\n35 89 44 1 35 3 62 50\n7 86 94 62 63 9 49", "623\n4099\n4114\n6269\n6272\n6827\n8827"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2025"], "title": "[USACO25JAN] Watering the Plants P", "background": "", "description": "Bessie 的花园中有 $N$ 株植物，从左到右编号为 $1$ 到 $N$（$2\\leq N\\leq 5\\cdot 10^5$）。Bessie 知道植物 $i$ 至少需要 $w_i$（$0\\leq w_i \\leq 10^6$）单位的水。\n\nBessie 有一个十分古怪的灌溉系统，包含 $N-1$ 条水渠，编号为 $1$ 到 $N-1$。每条水渠 $i$ 有一个相关的单位费用 $c_i$（$1\\le c_i\\le 10^6$），Bessie 可以支付费用 $c_i k$ 来为植物 $i$ 和 $i+1$ 各提供 $k$ 单位的水，其中 $k$ 是一个非负整数。\n\nBessie 很忙，可能没有时间使用所有的水渠。对于每一个 $2\\leq i \\leq N$，计算仅使用前 $i-1$ 条水渠灌溉植物 $1$ 到 $i$ 所需要的最小费用。", "inputFormat": "输入的第一行包含一个正整数 $N$。\n\n第二行包含 $N$ 个空格分隔的整数 $w_1, \\ldots, w_N$。\n\n第三行包含 $N-1$ 个空格分隔的整数 $c_1, \\ldots, c_{N-1}$。", "outputFormat": "输出 $N-1$ 行，每行包含一个整数。第 $i-1$ 行包含使用前 $i-1$ 条水渠灌溉前 $i$ 株植物的最小费用。\n", "hint": "样例 1 解释：\n\n使用第一条水渠灌溉前 $2$ 株植物的最小费用是通过使用第一条水渠 $69$ 次，支付 $30 \\cdot 69 = 2070$。\n\n灌溉前 $3$ 株植物的最小费用是通过使用第一条水渠 $39$ 次，第二条水渠 $33$ 次，支付 $39 \\cdot 30 + 29 \\cdot 33 = 2127$。\n\n- 测试点 $4$：$N \\leq 200$，并且所有 $w_i \\leq 200$。\n- 测试点 $5\\sim 6$：所有 $w_i \\leq 200$。\n- 测试点 $7\\sim 10$：$N \\leq 5000$。\n- 测试点 $11\\sim 14$：所有 $w_i$ 和 $c_i$ 独立地均匀随机生成。\n- 测试点 $15\\sim 19$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO25JAN] Watering the Plants P", "background": null, "description": "Bessie's garden has $N$ plants labeled $1$ through $N$ ($2\\leq N\\leq 5\\cdot 10^5$) from left to right. Bessie knows that plant $i$ requires at least $w_i$ ($0\\leq w_i \\leq 10^6$) units of water.  \n\nBessie has a very peculiar irrigation system with $N-1$ canals, numbered $1$ through $N-1$.  Each canal $i$ has an associated unit cost $c_i$ ($1\\le c_i\\le 10^6$), such that Bessie can pay $c_i k$ to provide plants $i$ and $i+1$ each with $k$ units of water, where $k$ is a non-negative integer.  \n\nBessie is busy and may not have time to use all the canals. For each $2\\leq i \\leq N$ compute the minimum cost required to water plants $1$ through $i$ **using only the first $i-1$ canals**.", "inputFormat": "The first line contains a single positive integer $N$.  \n\nThe second line contains $N$ space-separated integers $w_1, \\ldots, w_N$.  \n\nThe third line contains $N-1$ space-separated integers $c_1, \\ldots, c_{N-1}$.", "outputFormat": "Output $N-1$ newline-separated integers. The $(i-1)$th integer should contain the minimum cost to water the first $i$ plants using the first $i-1$ canals.", "hint": "##### For Sample 1:\nThe minimum cost to water the first $2$ plants using the first canal is to pay $30 \\cdot 69 = 2070$ by using the first canal $69$ times.  \n\nThe minimum cost to water the first $3$ plants is to use the first canal $39$ times and the second canal $33$ times, paying $39 \\cdot 30 + 29 \\cdot 33 = 2127$.  \n\n#### SCORING:\n- Input 4: $N \\leq 200$, and all $w_i \\leq 200$.\n- Inputs 5-6: All $w_i \\leq 200$.\n- Inputs 7-10: $N \\leq 5000$.\n- Inputs 11-14: All $w_i$ and $c_i$ are generated independently and uniformly at random.\n- Inputs 15-19: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO25JAN] Watering the Plants P", "background": "", "description": "Bessie 的花园中有 $N$ 株植物，从左到右编号为 $1$ 到 $N$（$2\\leq N\\leq 5\\cdot 10^5$）。Bessie 知道植物 $i$ 至少需要 $w_i$（$0\\leq w_i \\leq 10^6$）单位的水。\n\nBessie 有一个十分古怪的灌溉系统，包含 $N-1$ 条水渠，编号为 $1$ 到 $N-1$。每条水渠 $i$ 有一个相关的单位费用 $c_i$（$1\\le c_i\\le 10^6$），Bessie 可以支付费用 $c_i k$ 来为植物 $i$ 和 $i+1$ 各提供 $k$ 单位的水，其中 $k$ 是一个非负整数。\n\nBessie 很忙，可能没有时间使用所有的水渠。对于每一个 $2\\leq i \\leq N$，计算仅使用前 $i-1$ 条水渠灌溉植物 $1$ 到 $i$ 所需要的最小费用。", "inputFormat": "输入的第一行包含一个正整数 $N$。\n\n第二行包含 $N$ 个空格分隔的整数 $w_1, \\ldots, w_N$。\n\n第三行包含 $N-1$ 个空格分隔的整数 $c_1, \\ldots, c_{N-1}$。", "outputFormat": "输出 $N-1$ 行，每行包含一个整数。第 $i-1$ 行包含使用前 $i-1$ 条水渠灌溉前 $i$ 株植物的最小费用。\n", "hint": "样例 1 解释：\n\n使用第一条水渠灌溉前 $2$ 株植物的最小费用是通过使用第一条水渠 $69$ 次，支付 $30 \\cdot 69 = 2070$。\n\n灌溉前 $3$ 株植物的最小费用是通过使用第一条水渠 $39$ 次，第二条水渠 $33$ 次，支付 $39 \\cdot 30 + 29 \\cdot 33 = 2127$。\n\n- 测试点 $4$：$N \\leq 200$，并且所有 $w_i \\leq 200$。\n- 测试点 $5\\sim 6$：所有 $w_i \\leq 200$。\n- 测试点 $7\\sim 10$：$N \\leq 5000$。\n- 测试点 $11\\sim 14$：所有 $w_i$ 和 $c_i$ 独立地均匀随机生成。\n- 测试点 $15\\sim 19$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P11679", "type": "P", "difficulty": 1, "samples": [["6\n114514", "451114"], ["12\niaminmygrave", "nmygiamirave"], ["9\nuctrelant", "reluctant"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "[Algo Beat Contest 001 A] Animal Beheaded", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|    $\\text{A - Animal Beheaded}$     | $100$ | [remmymilkyway](https://www.luogu.com.cn/user/551981) |    [remmymilkyway](https://www.luogu.com.cn/user/551981)     | [joe_zxq](https://www.luogu.com.cn/user/623577) |     [fcy20180201](https://www.luogu.com.cn/user/866154)      | [Link](https://www.luogu.com.cn/article/zptsxa3j) by [joe_zxq](https://www.luogu.com.cn/user/623577) |\n\n有些容易死的坏人要向原始人民共和王国的国王行断头礼了。\n\n![](https://pic.imgdb.cn/item/674eed94d0e0a243d4dcd33a.png)\n\n![](https://pic.imgdb.cn/item/674eed94d0e0a243d4dcd33b.png)", "description": "在 Z 星球上，每一个碳基生物都是一个字符串。每个人的身高（也就是该碳基生物字符串的长度）都是 $3$ 的倍数。把这个字符串三等分，第一段是身体，第二段是头，第三段是眼睛。\n\n现在一个碳基生物被国王砍头了！它的头落到了地上！此时这个碳基生物的第二段就掉到了第一段前，第三段掉到第二段后。也就是说碳基生物成为了头、身体、眼睛的顺序。\n\n给定这个碳基生物被砍头前的字符串，求出这个碳基生物被砍头后的字符串。\n\n\n> 形式化题面：给定一个长度为 $3$ 的倍数的字符串 $S$，令 $N$ 为 $S$ 的长度，请输出 $S_{\\frac{N}{3} +1}S_{\\frac{N}{3}+2} \\dots S_{\\frac{2N}{3} } S_1 S_2 \\dots S_{\\frac{N}{3}} S_{\\frac{2N}{3} +1} S_{ \\frac{2N}{3} +2} \\dots  S_N$。", "inputFormat": "第一行包含一个数 $N$，表示 $S$ 的长度。\n\n第二行包含一个字符串 $S$，表示砍头前的碳基生物。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 样例解释 #1\n\n碳基生物的身体为 `11`，头为 `45`，眼睛为 `14`，则按照题目描述的顺序摆放应为 `451114`。\n\n#### 数据范围\n\n- $1 \\le N \\le 10^5$ 且 $N$ 是 $3$ 的倍数。\n- $S$ 只包含小写字母或数位。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 A] Animal Beheaded", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|    $\\text{A - Animal Beheaded}$     | $100$ | [remmymilkyway](https://www.luogu.com.cn/user/551981) |    [remmymilkyway](https://www.luogu.com.cn/user/551981)     | [joe_zxq](https://www.luogu.com.cn/user/623577) |     [fcy20180201](https://www.luogu.com.cn/user/866154)      | [Link](https://www.luogu.com.cn/article/zptsxa3j) by [joe_zxq](https://www.luogu.com.cn/user/623577) |\n\n有些容易死的坏人要向原始人民共和王国的国王行断头礼了。\n\n![](https://pic.imgdb.cn/item/674eed94d0e0a243d4dcd33a.png)\n\n![](https://pic.imgdb.cn/item/674eed94d0e0a243d4dcd33b.png)", "description": "在 Z 星球上，每一个碳基生物都是一个字符串。每个人的身高（也就是该碳基生物字符串的长度）都是 $3$ 的倍数。把这个字符串三等分，第一段是身体，第二段是头，第三段是眼睛。\n\n现在一个碳基生物被国王砍头了！它的头落到了地上！此时这个碳基生物的第二段就掉到了第一段前，第三段掉到第二段后。也就是说碳基生物成为了头、身体、眼睛的顺序。\n\n给定这个碳基生物被砍头前的字符串，求出这个碳基生物被砍头后的字符串。\n\n\n> 形式化题面：给定一个长度为 $3$ 的倍数的字符串 $S$，令 $N$ 为 $S$ 的长度，请输出 $S_{\\frac{N}{3} +1}S_{\\frac{N}{3}+2} \\dots S_{\\frac{2N}{3} } S_1 S_2 \\dots S_{\\frac{N}{3}} S_{\\frac{2N}{3} +1} S_{ \\frac{2N}{3} +2} \\dots  S_N$。", "inputFormat": "第一行包含一个数 $N$，表示 $S$ 的长度。\n\n第二行包含一个字符串 $S$，表示砍头前的碳基生物。", "outputFormat": "一行一个整数，表示答案。", "hint": "#### 样例解释 #1\n\n碳基生物的身体为 `11`，头为 `45`，眼睛为 `14`，则按照题目描述的顺序摆放应为 `451114`。\n\n#### 数据范围\n\n- $1 \\le N \\le 10^5$ 且 $N$ 是 $3$ 的倍数。\n- $S$ 只包含小写字母或数位。", "locale": "zh-CN"}}}
{"pid": "P11680", "type": "P", "difficulty": 1, "samples": [["3\n1 100\n10 46\n114 514", "1 2 3 4 5 6 7 8 9\n\n222 333 444"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "[Algo Beat Contest 001 B] Between Head and Tail", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n| $\\text{B - Between Head and Tail}$  | $200$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    |       [joe_zxq](https://www.luogu.com.cn/user/623577)        | [joe_zxq](https://www.luogu.com.cn/user/623577) |    [remmymilkyway](https://www.luogu.com.cn/user/551981)     | [Link](https://www.luogu.com.cn/article/3wj351hw) by [joe_zxq](https://www.luogu.com.cn/user/623577) |", "description": "小 Z 将一个正整数 $X$ 称为**首中尾相等数**，当且仅当它满足下面的条件：\n\n- $X$ 有奇数个数位。\n- $X$ 的首位、末位和最中间的数位上的数字相等。\n\n例如，$12131$ 是**首中尾相等数**，但是 $121121$ 和 $12231$ 不是。特别地，一位数都是**首中尾相等数**。\n\n小 Z 请你求出 $[L,R]$ 中所有的**首中尾相等数**。", "inputFormat": "**本题单个测试点内有多组测试数据。**\n\n第一行包含一个正整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行两个正整数 $L$ 和 $R$，表示区间的左端点和右端点。", "outputFormat": "$T$ 行，每行若干个正整数，表示区间内的**首中尾相等数**。特别地，如果区间内没有这样的数，输出空行。", "hint": "#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le T \\le 10$，$1 \\le L \\le R \\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 B] Between Head and Tail", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n| $\\text{B - Between Head and Tail}$  | $200$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    |       [joe_zxq](https://www.luogu.com.cn/user/623577)        | [joe_zxq](https://www.luogu.com.cn/user/623577) |    [remmymilkyway](https://www.luogu.com.cn/user/551981)     | [Link](https://www.luogu.com.cn/article/3wj351hw) by [joe_zxq](https://www.luogu.com.cn/user/623577) |", "description": "小 Z 将一个正整数 $X$ 称为**首中尾相等数**，当且仅当它满足下面的条件：\n\n- $X$ 有奇数个数位。\n- $X$ 的首位、末位和最中间的数位上的数字相等。\n\n例如，$12131$ 是**首中尾相等数**，但是 $121121$ 和 $12231$ 不是。特别地，一位数都是**首中尾相等数**。\n\n小 Z 请你求出 $[L,R]$ 中所有的**首中尾相等数**。", "inputFormat": "**本题单个测试点内有多组测试数据。**\n\n第一行包含一个正整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行两个正整数 $L$ 和 $R$，表示区间的左端点和右端点。", "outputFormat": "$T$ 行，每行若干个正整数，表示区间内的**首中尾相等数**。特别地，如果区间内没有这样的数，输出空行。", "hint": "#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le T \\le 10$，$1 \\le L \\le R \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P11681", "type": "P", "difficulty": 3, "samples": [["2 3\n1 0", "2"], ["4 1046\n114 514 191 981", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化", "组合数学"], "title": "[Algo Beat Contest 001 C] Creating a Queue", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|    $\\text{C - Creating a Queue}$    | $400$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    | [fanchuanyu](https://www.luogu.com.cn/user/706256) & [joe_zxq](https://www.luogu.com.cn/user/623577) | [joe_zxq](https://www.luogu.com.cn/user/623577) |    [remmymilkyway](https://www.luogu.com.cn/user/551981)     | [Link](https://www.luogu.com.cn/article/7r5l2cag) by [joe_zxq](https://www.luogu.com.cn/user/623577) |", "description": "给定一个长度为 $N$ 的非负整数序列 $A$。\n\n现在你需要用 $1\\sim M$ 之间的正整数替换所有序列 $A$ 中的 $0$，使得对于其中的任何一段长度大于等于 $2$ 的子数组，不能存在唯一众数。\n\n> 子数组：在一个数组中，选择一些连续的元素组成的新数组。\n>\n> 唯一众数：众数指的是一个数字序列中出现次数最多的元素。如果一个数字序列众数只有一个，我们称这个序列有唯一众数。\n\n求有多少种不同方案，答案对 $1145141923$ 取模。两种方案称为不同，当且仅当替换后的序列至少有一位上的数不同。", "inputFormat": "第一行包含两个正整数 $N$ 和 $M$，表示序列的长度和替换数的最大限度。\n\n第二行包含 $N$ 个非负整数，表示序列 $A$ 的元素。", "outputFormat": "一行一个非负整数，表示方案的数量，答案对 $1145141923$ 取模。", "hint": "#### 样例解释 #1\n\n有 $2$ 个满足条件的序列，分别为 $\\{1,2\\}$ 和 $\\{1,3\\}$。\n\n#### 样例解释 #2\n\n序列已经完全固定，本身就是一种合法的序列，于是答案为 $1$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le N \\le 10^6$，$1 \\le M \\le 10^9$，$0 \\le A_i \\le M$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 C] Creating a Queue", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|    $\\text{C - Creating a Queue}$    | $400$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    | [fanchuanyu](https://www.luogu.com.cn/user/706256) & [joe_zxq](https://www.luogu.com.cn/user/623577) | [joe_zxq](https://www.luogu.com.cn/user/623577) |    [remmymilkyway](https://www.luogu.com.cn/user/551981)     | [Link](https://www.luogu.com.cn/article/7r5l2cag) by [joe_zxq](https://www.luogu.com.cn/user/623577) |", "description": "给定一个长度为 $N$ 的非负整数序列 $A$。\n\n现在你需要用 $1\\sim M$ 之间的正整数替换所有序列 $A$ 中的 $0$，使得对于其中的任何一段长度大于等于 $2$ 的子数组，不能存在唯一众数。\n\n> 子数组：在一个数组中，选择一些连续的元素组成的新数组。\n>\n> 唯一众数：众数指的是一个数字序列中出现次数最多的元素。如果一个数字序列众数只有一个，我们称这个序列有唯一众数。\n\n求有多少种不同方案，答案对 $1145141923$ 取模。两种方案称为不同，当且仅当替换后的序列至少有一位上的数不同。", "inputFormat": "第一行包含两个正整数 $N$ 和 $M$，表示序列的长度和替换数的最大限度。\n\n第二行包含 $N$ 个非负整数，表示序列 $A$ 的元素。", "outputFormat": "一行一个非负整数，表示方案的数量，答案对 $1145141923$ 取模。", "hint": "#### 样例解释 #1\n\n有 $2$ 个满足条件的序列，分别为 $\\{1,2\\}$ 和 $\\{1,3\\}$。\n\n#### 样例解释 #2\n\n序列已经完全固定，本身就是一种合法的序列，于是答案为 $1$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le N \\le 10^6$，$1 \\le M \\le 10^9$，$0 \\le A_i \\le M$。", "locale": "zh-CN"}}}
{"pid": "P11682", "type": "P", "difficulty": 3, "samples": [["5\n1 2 3 4 5\n2 4 6 8 5", "3"], ["10\n1 12 38 48 10 19 23 19 32 6\n10 46 20 11 36 25 36 28 50 50\n", "3"], ["2\n1 999999999\n1 1000000000", "1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["O2优化", "枚举"], "title": "[Algo Beat Contest 001 D] Dreamed Sequence", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|    $\\text{D - Dreamed Sequence}$    | $425$ |  [orchardist](https://www.luogu.com.cn/user/347582)   |      [orchardist](https://www.luogu.com.cn/user/347582)      | [joe_zxq](https://www.luogu.com.cn/user/623577) |     [fcy20180201](https://www.luogu.com.cn/user/866154)      | [Link](https://www.luogu.com.cn/article/8ibxe6et) by [joe_zxq](https://www.luogu.com.cn/user/623577) |\n\n![](https://pic.imgdb.cn/item/6719d910d29ded1a8ca39d07.png)", "description": "给定长度为 $N$ 的序列 $A$ 和 $B$。\n\n定义 $A$ 和 $B$ 两序列相乘 $A\\times B$ 的规则如下，其中模数 $M=10^9+7$：\n\n* 设 $A$ 序列为 $\\{A_1,A_2,\\dots,A_N\\}$，$B$ 序列为 $\\{B_1,B_2,\\dots,B_N\\}$，则相乘得到的序列为 $\\{A_1B_1 \\bmod M,A_2B_2 \\bmod M,\\dots,A_NB_N \\bmod M\\}$。\n\n数学家小 G 梦想着让 $A\\times B$ 得到的序列中出现次数最多的数出现的次数尽可能大。为了实现这一点，小 G 可以将 $B$ 数组任意重排列。小 G 想知道，出现次数最多的数最多出现多少次。\n\n请你帮小 G 找到他梦想中的序列。如果小 G 获得了诺贝尔数学奖，他将会与你分享奖金。\n", "inputFormat": "第一行包含一个整数 $N$。\n\n第二行包含 $N$ 个整数，表示 $A$ 序列。\n\n第三行包含 $N$ 个整数，表示 $B$ 序列。", "outputFormat": "一个整数，表示答案。", "hint": "#### 样例解释 #1\n\n重排 $B$ 序列得 $\\{8,4,5,2,6\\}$，此时 $A\\times B$ 得到的数组为 $\\{8,8,15,8,30\\}$，其中 $8$ 出现次数最多，出现 $3$ 次。\n\n可以证明不存在重排 $B$ 序列的方式，使得答案大于 $3$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le N \\le 2000$，$1 \\le A_i,B_i \\le 10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 D] Dreamed Sequence", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|    $\\text{D - Dreamed Sequence}$    | $425$ |  [orchardist](https://www.luogu.com.cn/user/347582)   |      [orchardist](https://www.luogu.com.cn/user/347582)      | [joe_zxq](https://www.luogu.com.cn/user/623577) |     [fcy20180201](https://www.luogu.com.cn/user/866154)      | [Link](https://www.luogu.com.cn/article/8ibxe6et) by [joe_zxq](https://www.luogu.com.cn/user/623577) |\n\n![](https://pic.imgdb.cn/item/6719d910d29ded1a8ca39d07.png)", "description": "给定长度为 $N$ 的序列 $A$ 和 $B$。\n\n定义 $A$ 和 $B$ 两序列相乘 $A\\times B$ 的规则如下，其中模数 $M=10^9+7$：\n\n* 设 $A$ 序列为 $\\{A_1,A_2,\\dots,A_N\\}$，$B$ 序列为 $\\{B_1,B_2,\\dots,B_N\\}$，则相乘得到的序列为 $\\{A_1B_1 \\bmod M,A_2B_2 \\bmod M,\\dots,A_NB_N \\bmod M\\}$。\n\n数学家小 G 梦想着让 $A\\times B$ 得到的序列中出现次数最多的数出现的次数尽可能大。为了实现这一点，小 G 可以将 $B$ 数组任意重排列。小 G 想知道，出现次数最多的数最多出现多少次。\n\n请你帮小 G 找到他梦想中的序列。如果小 G 获得了诺贝尔数学奖，他将会与你分享奖金。\n", "inputFormat": "第一行包含一个整数 $N$。\n\n第二行包含 $N$ 个整数，表示 $A$ 序列。\n\n第三行包含 $N$ 个整数，表示 $B$ 序列。", "outputFormat": "一个整数，表示答案。", "hint": "#### 样例解释 #1\n\n重排 $B$ 序列得 $\\{8,4,5,2,6\\}$，此时 $A\\times B$ 得到的数组为 $\\{8,8,15,8,30\\}$，其中 $8$ 出现次数最多，出现 $3$ 次。\n\n可以证明不存在重排 $B$ 序列的方式，使得答案大于 $3$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le N \\le 2000$，$1 \\le A_i,B_i \\le 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P11683", "type": "P", "difficulty": 3, "samples": [["5\n1 1\n1 2\n1 7\n1 8\n2 2 4", "2\n3\n3\n6\n14"], ["3\n1 114\n1 514\n2 114514 1919810", "73\n837799\n248276873"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["O2优化", "记忆化搜索", "前缀和", "逆元"], "title": "[Algo Beat Contest 001 E] Experiments on Collatz", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n| $\\text{E - Experiments on Collatz}$ | $475$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    |       [joe_zxq](https://www.luogu.com.cn/user/623577)        | [joe_zxq](https://www.luogu.com.cn/user/623577) |     [fcy20180201](https://www.luogu.com.cn/user/866154)      | [Link](https://www.luogu.com.cn/article/1bqxjjm6) by [joe_zxq](https://www.luogu.com.cn/user/623577) |\n\n有朝一日，当星辰与智慧交相辉映，那些曾经的数学难题终将在人类不懈的探索下迎刃而解。那一刻，不仅是难题的征服，更是心灵与理性的飞跃。人类将在数学的浩瀚宇宙中，以无畏的勇气与无尽的好奇，继续前行，越走越远，于未知中播种希望，于挑战中绽放辉煌，书写属于全人类的智慧篇章。\n\n------------\n\n这使你充满了决心。", "description": "角谷猜想由日本数学家角谷静夫提出，是指对于每一个正整数 $n$，如果它是奇数，则对它乘 $3$ 再加 $1$，如果它是偶数，则对它除以 $2$，如此循环，最终都能够得到 $1$，故又称为 $3n+1$ 猜想。\n\n如 $n = 6$，根据上述操作，得出 $6 \\to 3 \\to 10 \\to 5 \\to 16 \\to 8 \\to 4 \\to 2 \\to 1$。\n\n小 Z 对这个猜想十分感兴趣，因为如此简单易懂的猜想却从来无人证明，也无人推翻。于是他决定开始研究这个问题。\n\n定义 $f(n)$ 表示正整数 $n$ 变为 $1$ 需要的操作次数，例如 $f(6)=8$。保证在 $1 \\sim 10^7$ 的范围内，角谷猜想是正确的。\n\n形象地说，$f(n)$ 的计算步骤如下图所示：\n\n![](https://pic.imgdb.cn/item/6697b7d8d9c307b7e96ddbbf.png)\n\n小 Z 的计算能力很差，于是想让你帮他进行计算。他将会对你进行 $Q$ 次询问，类型为 $t \\in \\{1,2\\}$：\n\n- 若 $t=1$，读入整数 $x$，请你求出最小的 $y$，使得 $f(y) \\ge x$。\n- 若 $t=2$，读入正整数 $l$ 和 $r$，请你求 $ \\prod\\limits_{i=l}^{r} f(i) \\bmod 1145141923$。\n- 若 $t=3$，请你判断角谷猜想是否是正确的。当然啦，小 Z 知道这个问题对于你太难了，所以不存在这样的询问。但是聪明的你能解决这个数学难题吗？", "inputFormat": "第一行包含一个正整数 $Q$，表示询问的次数。\n\n接下来 $Q$ 行，每行输入格式为 `1 x` 或 `2 l r`，表示询问内容。", "outputFormat": "对于每次询问，包含一行一个整数，表示询问的答案。", "hint": "#### 样例解释 #1\n\n如表所示，是 $1 \\le n \\le 6$ 的 $f(n)$ 的值。\n\n|  函数  | 函数值 |\n| :----: | :----: |\n| $f(1)$ |  $0$   |\n| $f(2)$ |  $1$   |\n| $f(3)$ |  $7$   |\n| $f(4)$ |  $2$   |\n| $f(5)$ |  $5$   |\n| $f(6)$ |  $8$   |\n\n对于第一次询问，$f(2) \\ge 1$，可以证明没有 $y < 2$ 使得 $f(y) \\ge 1$。\n\n对于第二次询问，$f(3) \\ge 2$，可以证明没有 $y < 3$ 使得 $f(y) \\ge 2$。\n\n对于第三次询问，$f(3) \\ge 7$，可以证明没有 $y < 3$ 使得 $f(y) \\ge 7$。\n\n对于第四次询问，$f(6) \\ge 8$，可以证明没有 $y < 6$ 使得 $f(y) \\ge 8$。\n\n对于第五次询问，$f(2) \\times f(3) \\times f(4) = 1 \\times 7 \\times 2 = 14$。\n\n#### 样例解释 #2\n\n对于 $t=2$ 的询问，注意对 $1145141923$ 取模。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le Q \\le 10^6$。对于每次询问，$t \\in \\{1,2\\}$。对于每次 $t=1$ 的询问，$0 \\le x \\le 685$。对于每次 $t=2$ 的询问，$1 \\le l \\le r \\le 10^7$。\n\n#### 提示\n\n请使用较快的读写方式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 E] Experiments on Collatz", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n| $\\text{E - Experiments on Collatz}$ | $475$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    |       [joe_zxq](https://www.luogu.com.cn/user/623577)        | [joe_zxq](https://www.luogu.com.cn/user/623577) |     [fcy20180201](https://www.luogu.com.cn/user/866154)      | [Link](https://www.luogu.com.cn/article/1bqxjjm6) by [joe_zxq](https://www.luogu.com.cn/user/623577) |\n\n有朝一日，当星辰与智慧交相辉映，那些曾经的数学难题终将在人类不懈的探索下迎刃而解。那一刻，不仅是难题的征服，更是心灵与理性的飞跃。人类将在数学的浩瀚宇宙中，以无畏的勇气与无尽的好奇，继续前行，越走越远，于未知中播种希望，于挑战中绽放辉煌，书写属于全人类的智慧篇章。\n\n------------\n\n这使你充满了决心。", "description": "角谷猜想由日本数学家角谷静夫提出，是指对于每一个正整数 $n$，如果它是奇数，则对它乘 $3$ 再加 $1$，如果它是偶数，则对它除以 $2$，如此循环，最终都能够得到 $1$，故又称为 $3n+1$ 猜想。\n\n如 $n = 6$，根据上述操作，得出 $6 \\to 3 \\to 10 \\to 5 \\to 16 \\to 8 \\to 4 \\to 2 \\to 1$。\n\n小 Z 对这个猜想十分感兴趣，因为如此简单易懂的猜想却从来无人证明，也无人推翻。于是他决定开始研究这个问题。\n\n定义 $f(n)$ 表示正整数 $n$ 变为 $1$ 需要的操作次数，例如 $f(6)=8$。保证在 $1 \\sim 10^7$ 的范围内，角谷猜想是正确的。\n\n形象地说，$f(n)$ 的计算步骤如下图所示：\n\n![](https://pic.imgdb.cn/item/6697b7d8d9c307b7e96ddbbf.png)\n\n小 Z 的计算能力很差，于是想让你帮他进行计算。他将会对你进行 $Q$ 次询问，类型为 $t \\in \\{1,2\\}$：\n\n- 若 $t=1$，读入整数 $x$，请你求出最小的 $y$，使得 $f(y) \\ge x$。\n- 若 $t=2$，读入正整数 $l$ 和 $r$，请你求 $ \\prod\\limits_{i=l}^{r} f(i) \\bmod 1145141923$。\n- 若 $t=3$，请你判断角谷猜想是否是正确的。当然啦，小 Z 知道这个问题对于你太难了，所以不存在这样的询问。但是聪明的你能解决这个数学难题吗？", "inputFormat": "第一行包含一个正整数 $Q$，表示询问的次数。\n\n接下来 $Q$ 行，每行输入格式为 `1 x` 或 `2 l r`，表示询问内容。", "outputFormat": "对于每次询问，包含一行一个整数，表示询问的答案。", "hint": "#### 样例解释 #1\n\n如表所示，是 $1 \\le n \\le 6$ 的 $f(n)$ 的值。\n\n|  函数  | 函数值 |\n| :----: | :----: |\n| $f(1)$ |  $0$   |\n| $f(2)$ |  $1$   |\n| $f(3)$ |  $7$   |\n| $f(4)$ |  $2$   |\n| $f(5)$ |  $5$   |\n| $f(6)$ |  $8$   |\n\n对于第一次询问，$f(2) \\ge 1$，可以证明没有 $y < 2$ 使得 $f(y) \\ge 1$。\n\n对于第二次询问，$f(3) \\ge 2$，可以证明没有 $y < 3$ 使得 $f(y) \\ge 2$。\n\n对于第三次询问，$f(3) \\ge 7$，可以证明没有 $y < 3$ 使得 $f(y) \\ge 7$。\n\n对于第四次询问，$f(6) \\ge 8$，可以证明没有 $y < 6$ 使得 $f(y) \\ge 8$。\n\n对于第五次询问，$f(2) \\times f(3) \\times f(4) = 1 \\times 7 \\times 2 = 14$。\n\n#### 样例解释 #2\n\n对于 $t=2$ 的询问，注意对 $1145141923$ 取模。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le Q \\le 10^6$。对于每次询问，$t \\in \\{1,2\\}$。对于每次 $t=1$ 的询问，$0 \\le x \\le 685$。对于每次 $t=2$ 的询问，$1 \\le l \\le r \\le 10^7$。\n\n#### 提示\n\n请使用较快的读写方式。", "locale": "zh-CN"}}}
{"pid": "P11684", "type": "P", "difficulty": 5, "samples": [["2 5 3 7", "7"], ["1 100 1 100", "382"], ["114 514 191 9810", "2433"], ["21899 314099 61699 104699", "493292"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数论", "O2优化", "整除分块"], "title": "[Algo Beat Contest 001 F] Foolish Math Homework", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n| $\\text{F - Foolish Math Homework}$  | $550$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    |      [fanchuanyu](https://www.luogu.com.cn/user/706256)      | [joe_zxq](https://www.luogu.com.cn/user/623577) |      [orchardist](https://www.luogu.com.cn/user/347582)      | [Link](https://www.luogu.com.cn/article/6ib0zaqc) by [fanchuanyu](https://www.luogu.com.cn/user/706256) |", "description": "小 F 的数学老师 H 老师给小 F 留了一道数学作业。\n\n> 给定 $a,b,c,d$ 的值，求有多少正整数对 $(x,y)$ 满足以下所有条件。这里，$\\gcd(x,y)$ 表示 $x$ 和 $y$ 的最大公约数。\n> - $x \\le y$。\n> - $a \\le x \\le b$。\n> - $c \\le y \\le d$。\n> - $y-x=\\gcd(x,y)$。\n\n小 F 觉得这个作业实在是太过愚蠢了，信心满满地写满了暴力，结果发现 $a,b,c,d \\le 10^{12}$。你是**作业帮**，你需要帮小 F 完成作业。", "inputFormat": "一行四个正整数 $a,b,c,d$，表示 $x$ 和 $y$ 取值的左右边界。", "outputFormat": "一行一个正整数，表示答案。", "hint": "#### 样例解释 #1\n\n满足条件的 $(x,y)$ 如下所示：\n\n- $(2,3)$\n- $(2,4)$\n- $(3,4)$\n- $(3,6)$\n- $(4,5)$\n- $(4,6)$\n- $(5,6)$\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le a \\le b \\le 10^{12}$，$1 \\le c \\le d \\le 10^{12}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 F] Foolish Math Homework", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n| $\\text{F - Foolish Math Homework}$  | $550$ |    [joe_zxq](https://www.luogu.com.cn/user/623577)    |      [fanchuanyu](https://www.luogu.com.cn/user/706256)      | [joe_zxq](https://www.luogu.com.cn/user/623577) |      [orchardist](https://www.luogu.com.cn/user/347582)      | [Link](https://www.luogu.com.cn/article/6ib0zaqc) by [fanchuanyu](https://www.luogu.com.cn/user/706256) |", "description": "小 F 的数学老师 H 老师给小 F 留了一道数学作业。\n\n> 给定 $a,b,c,d$ 的值，求有多少正整数对 $(x,y)$ 满足以下所有条件。这里，$\\gcd(x,y)$ 表示 $x$ 和 $y$ 的最大公约数。\n> - $x \\le y$。\n> - $a \\le x \\le b$。\n> - $c \\le y \\le d$。\n> - $y-x=\\gcd(x,y)$。\n\n小 F 觉得这个作业实在是太过愚蠢了，信心满满地写满了暴力，结果发现 $a,b,c,d \\le 10^{12}$。你是**作业帮**，你需要帮小 F 完成作业。", "inputFormat": "一行四个正整数 $a,b,c,d$，表示 $x$ 和 $y$ 取值的左右边界。", "outputFormat": "一行一个正整数，表示答案。", "hint": "#### 样例解释 #1\n\n满足条件的 $(x,y)$ 如下所示：\n\n- $(2,3)$\n- $(2,4)$\n- $(3,4)$\n- $(3,6)$\n- $(4,5)$\n- $(4,6)$\n- $(5,6)$\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le a \\le b \\le 10^{12}$，$1 \\le c \\le d \\le 10^{12}$。", "locale": "zh-CN"}}}
{"pid": "P11685", "type": "P", "difficulty": 5, "samples": [["4 4\n1&1^0|0\n4 ^ 1\n4 | 0\n1 | 0\n2 & 0", "7\n7\n3\n0"], ["10 10\n1|1|1^1|0^0&0|0|1&1\n6 ^ 1\n9 & 1\n7 ^ 1\n1 ^ 1\n1 | 0\n7 | 1\n6 & 1\n2 ^ 1\n8 | 1\n2 & 1", "32\n16\n24\n24\n23\n43\n40\n40\n43\n42"]], "limits": {"time": [5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "线段树", "矩阵运算", "O2优化"], "title": "[Algo Beat Contest 001 G] Great DS Homework", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|   $\\text{G - Great DS Homework}$    | $600$ |  [orchardist](https://www.luogu.com.cn/user/347582)   |      [orchardist](https://www.luogu.com.cn/user/347582)      | [joe_zxq](https://www.luogu.com.cn/user/623577) | [remmymilkyway](https://www.luogu.com.cn/user/551981) & [joe_zxq](https://www.luogu.com.cn/user/623577) | [Link](https://www.luogu.com.cn/article/xkcrwcoz) by [orchardist](https://www.luogu.com.cn/user/347582) |\n\n\n\n小 G 觉得上一道数学题太愚蠢了，所以出了一道数据结构题作为作业。", "description": "小 G 有一个长度为 $2N-1$ 的逻辑表达式，形如 $a_1 \\space op_2\\space a_2\\space op_3\\space a_3 \\dots op_N\\space a_N$，其中 $a_i \\in \\{ 0,1\\}$，$op_i$ 为 `&`，`|` 或 `^`。\n\n`&` 表示与运算，`|` 表示或运算，`^` 表示异或运算。运算符之间**不分优先级**。\n\n定义一个表达式的子表达式为它的一个**连续**区间，满足区间左端点，右端点均为数字。特别地，单独一个数字也算在内。\n\n现在小 G 想知道，这个表达式的所有子表达式计算结果的和是多少？\n\n小 G 觉得这个问题太简单了，所以决定进行 $Q$ 次修改。每次修改给定 `pos nop nx`，表示将 $op_{pos}$ 改为 $nop$，$a_{pos}$ 改为 $nx$。特别地，当 $pos=1$ 时，$nop$ 可忽略。你需要在每次修改后，都输出这个表达式的所有子表达式计算结果的和。", "inputFormat": "第一行包含两个正整数 $N$ 和 $Q$，表示变量的个数和询问的次数。\n\n第二行包含长度为 $2N-1$ 的字符串 $S$，表示小 G 的逻辑表达式。\n\n接下来 $Q$ 行，每行形式为 `pos nop nx`。", "outputFormat": "包含 $Q$ 行，每行一个数字，表示答案。", "hint": "#### 样例解释 #1\n\n第一次操作后，逻辑表达式为 `1&1^0^1`，子表达式有 `1`、`1`、`0`、`1`、`1&1`、`1^0`、`0^1`、`1&1^0`、`1^0^1`、`1&1^0^1`，计算结果之和为 $1+1+0+1+1+1+1+1+0+0=7$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le N,Q \\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Algo Beat Contest 001 G] Great DS Homework", "background": "|               Problem               | Score |                         Idea                          |                             Std                              |                      Data                       |                            Check                             |                           Solution                           |\n| :---------------------------------: | :---: | :---------------------------------------------------: | :----------------------------------------------------------: | :---------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |\n|   $\\text{G - Great DS Homework}$    | $600$ |  [orchardist](https://www.luogu.com.cn/user/347582)   |      [orchardist](https://www.luogu.com.cn/user/347582)      | [joe_zxq](https://www.luogu.com.cn/user/623577) | [remmymilkyway](https://www.luogu.com.cn/user/551981) & [joe_zxq](https://www.luogu.com.cn/user/623577) | [Link](https://www.luogu.com.cn/article/xkcrwcoz) by [orchardist](https://www.luogu.com.cn/user/347582) |\n\n\n\n小 G 觉得上一道数学题太愚蠢了，所以出了一道数据结构题作为作业。", "description": "小 G 有一个长度为 $2N-1$ 的逻辑表达式，形如 $a_1 \\space op_2\\space a_2\\space op_3\\space a_3 \\dots op_N\\space a_N$，其中 $a_i \\in \\{ 0,1\\}$，$op_i$ 为 `&`，`|` 或 `^`。\n\n`&` 表示与运算，`|` 表示或运算，`^` 表示异或运算。运算符之间**不分优先级**。\n\n定义一个表达式的子表达式为它的一个**连续**区间，满足区间左端点，右端点均为数字。特别地，单独一个数字也算在内。\n\n现在小 G 想知道，这个表达式的所有子表达式计算结果的和是多少？\n\n小 G 觉得这个问题太简单了，所以决定进行 $Q$ 次修改。每次修改给定 `pos nop nx`，表示将 $op_{pos}$ 改为 $nop$，$a_{pos}$ 改为 $nx$。特别地，当 $pos=1$ 时，$nop$ 可忽略。你需要在每次修改后，都输出这个表达式的所有子表达式计算结果的和。", "inputFormat": "第一行包含两个正整数 $N$ 和 $Q$，表示变量的个数和询问的次数。\n\n第二行包含长度为 $2N-1$ 的字符串 $S$，表示小 G 的逻辑表达式。\n\n接下来 $Q$ 行，每行形式为 `pos nop nx`。", "outputFormat": "包含 $Q$ 行，每行一个数字，表示答案。", "hint": "#### 样例解释 #1\n\n第一次操作后，逻辑表达式为 `1&1^0^1`，子表达式有 `1`、`1`、`0`、`1`、`1&1`、`1^0`、`0^1`、`1&1^0`、`1^0^1`、`1&1^0^1`，计算结果之和为 $1+1+0+1+1+1+1+1+0+0=7$。\n\n#### 数据范围\n\n对于 $100\\%$ 的数据，保证 $1 \\le N,Q \\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P11686", "type": "P", "difficulty": 3, "samples": [["4\n1 2 3 4", "2"], ["5\n1 9 8 2 7", "3"], ["10\n9 20 5 10 8 1 10 19 15 4", "10"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "JOISC/JOIST（日本）"], "title": "[JOIGST 2024] 相聚 / いっしょ", "background": "译自 [日本情報オリンピック 第4回女性部門 (JOIG 2023/2024) 春季トレーニング](https://www2.ioi-jp.org/joig-camp/2024/2024-sp-tasks/) R1T1。", "description": "在一条笔直的道路上有 $N$ 只河狸。这条道路可以视为数轴，第 $i$ 只（$1 ≤ i ≤ N$）河狸位于坐标 $X_i$ 处。\n\n由于河狸生性怕寂寞，当且仅当同一坐标存在至少一只其他河狸时，它们才会感到快乐。\n\n现在需要通过合理移动河狸，在确保所有河狸都快乐的前提下，使它们的移动距离总和尽可能小。河狸**可以不移动**。\n\n给定 $N$ 只河狸的坐标，请编写程序计算使所有河狸都快乐时，河狸移动距离总和的最小值。\n\n可以证明本题中答案一定是整数。\n", "inputFormat": "如下所示：\n\n> $N$ \\\n> $X_1$ $X_2$ $\\cdots$ $X_N$", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例解释\n\n#### 样例 $1$ 解释\n\n第一只河狸移动到 $2$ 处，第三只河狸移动到 $4$ 处。可以证明没有更优的方案。\n\n该样例满足所有子任务的限制。\n\n#### 样例 $2$ 解释\n\n第一只河狸移动到 $2$ 处，第二只河狸和第五只河狸移动到 $8$ 处。可以证明没有更优的方案。\n\n\n\n该样例满足子任务 $3,4$ 的限制。\n\n#### 样例 $3$ 解释\n\n该样例满足子任务 $3,4$ 的限制。\n\n\n### 数据范围\n\n- $2\\le N\\le 3\\times 10^5$；\n- $1\\le X_i\\le 10^9$；\n- 输入的值全部是整数。\n\n### 子任务\n\n1. （17pts） $N=4$。\n2. （20pts）$\\forall 1\\le i\\le N$，$X_i=i$。\n3. （35pts）$N\\le 100$；$\\forall 1\\le i\\le N$，$X_i\\le 100$。\n4. （28pts）无额外限制。\n\n翻译来自 DeepSeek-R1 并经过人工微调。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIGST 2024] 相聚 / いっしょ", "background": "译自 [日本情報オリンピック 第4回女性部門 (JOIG 2023/2024) 春季トレーニング](https://www2.ioi-jp.org/joig-camp/2024/2024-sp-tasks/) R1T1。", "description": "在一条笔直的道路上有 $N$ 只河狸。这条道路可以视为数轴，第 $i$ 只（$1 ≤ i ≤ N$）河狸位于坐标 $X_i$ 处。\n\n由于河狸生性怕寂寞，当且仅当同一坐标存在至少一只其他河狸时，它们才会感到快乐。\n\n现在需要通过合理移动河狸，在确保所有河狸都快乐的前提下，使它们的移动距离总和尽可能小。河狸**可以不移动**。\n\n给定 $N$ 只河狸的坐标，请编写程序计算使所有河狸都快乐时，河狸移动距离总和的最小值。\n\n可以证明本题中答案一定是整数。\n", "inputFormat": "如下所示：\n\n> $N$ \\\n> $X_1$ $X_2$ $\\cdots$ $X_N$", "outputFormat": "输出一行一个整数表示答案。", "hint": "### 样例解释\n\n#### 样例 $1$ 解释\n\n第一只河狸移动到 $2$ 处，第三只河狸移动到 $4$ 处。可以证明没有更优的方案。\n\n该样例满足所有子任务的限制。\n\n#### 样例 $2$ 解释\n\n第一只河狸移动到 $2$ 处，第二只河狸和第五只河狸移动到 $8$ 处。可以证明没有更优的方案。\n\n\n\n该样例满足子任务 $3,4$ 的限制。\n\n#### 样例 $3$ 解释\n\n该样例满足子任务 $3,4$ 的限制。\n\n\n### 数据范围\n\n- $2\\le N\\le 3\\times 10^5$；\n- $1\\le X_i\\le 10^9$；\n- 输入的值全部是整数。\n\n### 子任务\n\n1. （17pts） $N=4$。\n2. （20pts）$\\forall 1\\le i\\le N$，$X_i=i$。\n3. （35pts）$N\\le 100$；$\\forall 1\\le i\\le N$，$X_i\\le 100$。\n4. （28pts）无额外限制。\n\n翻译来自 DeepSeek-R1 并经过人工微调。", "locale": "zh-CN"}}}
{"pid": "P11687", "type": "P", "difficulty": 5, "samples": [["3 2\n998244353\n2\n1 2\n6 2", "4\n2"], ["8 10\n304623133\n10\n8 8\n6 8\n51 1\n36 5\n10 7\n38 5\n68 3\n57 4\n76 3\n19 2", "50400\n40320\n5760\n960\n48\n48\n12\n0\n0\n0"], ["10 8\n446958661\n10\n26 5\n49 9\n37 6\n10 1\n15 3\n29 5\n69 2\n2 1\n25 5\n12 1", "2903040\n322560\n40320\n5760\n600\n240\n48\n0\n0\n0"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "JOISC/JOIST（日本）"], "title": "[JOIGST 2024] 年轮蛋糕 2 / バームクーヘン 2", "background": "\n\n译自 [日本情報オリンピック 第4回女性部門 (JOIG 2023/2024) 春季トレーニング](https://www2.ioi-jp.org/joig-camp/2024/2024-sp-tasks/) R1T2。\n\n图：年轮蛋糕。バームクーヘン = baumkuchen，即树木（德语 baum）+ 蛋糕（德语 kuchen）。图源百度百科。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/47miipjm.png)", "description": "\n葵计划举办一场派对，共有 $K$ 人参加，编号 $1\\sim K$。\n\n众人将分享一个**环形的**年轮蛋糕。蛋糕的圆周上均匀刻有 $K \\times L$ 个切缝，蛋糕只能沿切缝分割。\n\n将切缝按顺时针编号 $1\\sim K\\times L$，切缝 $i$ 和切缝 $\\left(i\\bmod KL\\right) +1$ 之间的区域叫做第 $i$ 个部分。\n\n分割规则如下：\n1. 选择 $K$ 个切缝切割，将蛋糕分为 $K$ 块，每个块包含恰好 $L$ 个**连续的**部分。\n2. 把 $K$ 块蛋糕分给 $K$ 个人，要求每个人都恰好分到一块蛋糕。\n\n现在有 $Q$ 条限制，第 $j$ 条限制要求第 $X_j$ 个部分必须被分配给第 $Y_j$ 个人。保证每个部分 $X_j$ 只会在限制中出现一次。\n\n对于 $i=1,2,\\cdots,Q$，求出有多少种切蛋糕和分蛋糕的方案满足前 $i$ 条限制，对给定的素数 $P$ 取模。\n\n两个方案不同，当且仅当存在一个人，他在这两个方案中拿到了不同的蛋糕块。\n\n", "inputFormat": "如下所示：\n\n> $K$ $L$\\\n> $P$\\\n> $Q$\n> $X_1$ $Y_1$\\\n> $X_2$ $Y_2$\\\n> $\\vdots$\\\n> $X_Q$ $Y_Q$", "outputFormat": "输出 $Q$ 行，每行一个整数，表示满足前 $i$ 条限制的方案数量对 $P$ 取模后的结果。\n", "hint": "\n### 样例解释\n\n#### 样例 $1$ 解释\n\n$i=1$ 时，要求将包含第 $1$ 个部分的块分给第 $2$ 个人，有 $4$ 个方案。举例：\n\n1. 沿切缝 $1$、$3$、$5$ 切割蛋糕；\n2. 分配方式：\n   - 第 $1$ 个人：第 $3,4$ 个部分；\n   - 第 $2$ 个人：第 $1,2$ 个部分；\n   - 第 $3$ 个人：第 $5,6$ 个部分。\n\n\n$i=2$ 时，在 $i=1$ 的基础上额外要求将包含第 $6$ 个部分的块分配给第 $2$ 个人，有 $2$ 个方案。举例：\n\n1. 沿切缝 $2$、$4$、$6$ 切割蛋糕；\n2. 分配方式：\n   - 第 $1$ 个人：第 $4,5$ 个部分；\n   - 第 $2$ 个人：第 $6,1$ 个部分；\n   - 第 $3$ 个人：第 $2,3$ 个部分。\n\n该样例满足所有子任务的限制。\n#### 样例 $2$ 解释\n\n\n该样例满足所有子任务的限制。\n\n#### 样例 $3$ 解释\n\n该样例满足子任务 $2\\sim 6$ 的限制。\n\n### 数据范围\n- $2\\le K\\le 2\\times 10^5$；\n- $1\\le L\\le 2\\times 10^5$；\n- $10^8\\lt P\\lt 10^9$；\n- $P$ 是素数；\n- $1\\le Q\\le 2\\times 10^5$；\n- $\\forall 1\\le j\\le Q$，$1\\le X_j\\le KL$；\n- $\\forall 1\\le j\\lt k\\le Q$，$X_j\\neq X_k$；\n- $\\forall 1\\le j\\le Q$，$1\\le Y_j\\le k$；\n- 输入的值全部是整数。\n\n### 子任务\n\n1. （13pts）$K\\le 8$，$L\\le 10$，$Q\\le 10$。\n2. （14pts）$K\\le 100$，$L\\le 100$，$Q\\le 100$。\n3. （18pts）$K\\le 400$，$L\\le 400$，$Q\\le 400$。\n4. （17pts）$K\\le 2\\, 500$，$L\\le 2\\, 500$，$Q\\le 2\\, 500$；\n5. （28pts）$K\\le 40$；\n6. （10pts）无额外限制。\n\n翻译来自 DeepSeek-R1 并经过人工微调。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOIGST 2024] 年轮蛋糕 2 / バームクーヘン 2", "background": "\n\n译自 [日本情報オリンピック 第4回女性部門 (JOIG 2023/2024) 春季トレーニング](https://www2.ioi-jp.org/joig-camp/2024/2024-sp-tasks/) R1T2。\n\n图：年轮蛋糕。バームクーヘン = baumkuchen，即树木（德语 baum）+ 蛋糕（德语 kuchen）。图源百度百科。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/47miipjm.png)", "description": "\n葵计划举办一场派对，共有 $K$ 人参加，编号 $1\\sim K$。\n\n众人将分享一个**环形的**年轮蛋糕。蛋糕的圆周上均匀刻有 $K \\times L$ 个切缝，蛋糕只能沿切缝分割。\n\n将切缝按顺时针编号 $1\\sim K\\times L$，切缝 $i$ 和切缝 $\\left(i\\bmod KL\\right) +1$ 之间的区域叫做第 $i$ 个部分。\n\n分割规则如下：\n1. 选择 $K$ 个切缝切割，将蛋糕分为 $K$ 块，每个块包含恰好 $L$ 个**连续的**部分。\n2. 把 $K$ 块蛋糕分给 $K$ 个人，要求每个人都恰好分到一块蛋糕。\n\n现在有 $Q$ 条限制，第 $j$ 条限制要求第 $X_j$ 个部分必须被分配给第 $Y_j$ 个人。保证每个部分 $X_j$ 只会在限制中出现一次。\n\n对于 $i=1,2,\\cdots,Q$，求出有多少种切蛋糕和分蛋糕的方案满足前 $i$ 条限制，对给定的素数 $P$ 取模。\n\n两个方案不同，当且仅当存在一个人，他在这两个方案中拿到了不同的蛋糕块。\n\n", "inputFormat": "如下所示：\n\n> $K$ $L$\\\n> $P$\\\n> $Q$\n> $X_1$ $Y_1$\\\n> $X_2$ $Y_2$\\\n> $\\vdots$\\\n> $X_Q$ $Y_Q$", "outputFormat": "输出 $Q$ 行，每行一个整数，表示满足前 $i$ 条限制的方案数量对 $P$ 取模后的结果。\n", "hint": "\n### 样例解释\n\n#### 样例 $1$ 解释\n\n$i=1$ 时，要求将包含第 $1$ 个部分的块分给第 $2$ 个人，有 $4$ 个方案。举例：\n\n1. 沿切缝 $1$、$3$、$5$ 切割蛋糕；\n2. 分配方式：\n   - 第 $1$ 个人：第 $3,4$ 个部分；\n   - 第 $2$ 个人：第 $1,2$ 个部分；\n   - 第 $3$ 个人：第 $5,6$ 个部分。\n\n\n$i=2$ 时，在 $i=1$ 的基础上额外要求将包含第 $6$ 个部分的块分配给第 $2$ 个人，有 $2$ 个方案。举例：\n\n1. 沿切缝 $2$、$4$、$6$ 切割蛋糕；\n2. 分配方式：\n   - 第 $1$ 个人：第 $4,5$ 个部分；\n   - 第 $2$ 个人：第 $6,1$ 个部分；\n   - 第 $3$ 个人：第 $2,3$ 个部分。\n\n该样例满足所有子任务的限制。\n#### 样例 $2$ 解释\n\n\n该样例满足所有子任务的限制。\n\n#### 样例 $3$ 解释\n\n该样例满足子任务 $2\\sim 6$ 的限制。\n\n### 数据范围\n- $2\\le K\\le 2\\times 10^5$；\n- $1\\le L\\le 2\\times 10^5$；\n- $10^8\\lt P\\lt 10^9$；\n- $P$ 是素数；\n- $1\\le Q\\le 2\\times 10^5$；\n- $\\forall 1\\le j\\le Q$，$1\\le X_j\\le KL$；\n- $\\forall 1\\le j\\lt k\\le Q$，$X_j\\neq X_k$；\n- $\\forall 1\\le j\\le Q$，$1\\le Y_j\\le k$；\n- 输入的值全部是整数。\n\n### 子任务\n\n1. （13pts）$K\\le 8$，$L\\le 10$，$Q\\le 10$。\n2. （14pts）$K\\le 100$，$L\\le 100$，$Q\\le 100$。\n3. （18pts）$K\\le 400$，$L\\le 400$，$Q\\le 400$。\n4. （17pts）$K\\le 2\\, 500$，$L\\le 2\\, 500$，$Q\\le 2\\, 500$；\n5. （28pts）$K\\le 40$；\n6. （10pts）无额外限制。\n\n翻译来自 DeepSeek-R1 并经过人工微调。", "locale": "zh-CN"}}}
{"pid": "P11690", "type": "P", "difficulty": 7, "samples": [["3\n6 2 10 \n6 0 2 \n1 2\n2 3", "2 6 0"], ["5\n7 6 2 1 10 \n3 5 0 0 7 \n1 2\n2 3\n1 4\n4 5", "10 12 20 14 9"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "O2优化", "Ynoi"], "title": "[Ynoi Hard Round 2025] 《十字神名的预言者》理解（色彩）", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/ivkgc3xh.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h5h2nanp.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2ur90co.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bv38t9mw.png)", "description": "给定一棵 $n$ 个结点的树，第 $i$ 个结点有 $b_i$ 个棋子，且最多能放 $a_i$ 个棋子。现在有一个结点 $k$ 是根。每次操作你可以选择一个结点，将它的一个棋子，移到它的父亲上，需要满足它父亲的棋子数没有超过限制，然后需要最小化所有棋子到 $k$ 的距离和。\n\n对 $k = 1, 2, \\cdots, n$ 都求出答案。", "inputFormat": "第一行包含一个正整数 $n$ 表示树的结点数量。\n\n第二行包含 $n$ 个正整数，第 $i$ 个正整数表示第 $i$ 个结点上最多能放 $a_i$ 个棋子。\n\n第三行包含 $n$ 个正整数，第 $i$ 个正整数表示第 $i$ 个结点上初始放了 $b_i$ 个棋子。\n\n接下来 $n-1$ 行，每行两个数 $u,v$，表示树上的一条边。\n", "outputFormat": "一行 $n$ 个整数，第 $i$ 个整数表示 $i$ 作为根时的答案。", "hint": "Idea：zhaohaikun，Solution：zhaohaikun，Code：zhaohaikun，Data：zhaohaikun。\n\n对于所有数据满足：$1\\le n\\le 5\\times 10^5$，$0 \\le b_i \\le a_i$，$1\\le a_i\\le 10^7$，为了避免答案爆 long long，将 $a_i$ 的范围开小了一点。\n\nsubtask 1（$1$ 分）：$b_i=0$；\n\nsubtask 2（$5$ 分）：$n\\le 2000$；\n\nsubtask 3（$11$ 分）：$n\\le 8000$；\n\nsubtask 4（$3$ 分）：链，保证 $\\forall i\\in [1, n-1]\\cap \\mathbb{Z}$，满足 $i$ 和 $i+1$ 有边；\n\nsubtask 5（$3$ 分）：菊花，保证 $\\forall i\\in [2, n]\\cap \\mathbb{Z}$，满足 $1$ 和 $i$ 有边；\n\nsubtask 6（$6$ 分）：保证树随机；\n\nsubtask 7（$16$ 分）：$a_i\\le 5$；\n\nsubtask 8（$22$ 分）：$n\\le 5\\times 10^4$；\n\nsubtask 9（$16$ 分）：$n\\le 10^5$；\n\nsubtask 10（$11$ 分）：$n\\le 2\\times 10^5$；\n\nsubtask 11（$5$ 分）：$n\\le 3\\times 10^5$；\n\nsubtask 12（$1$ 分）：无。\n\n这里说明随机树的生成方式：对于结点 $i\\in [2,n]$，在 $[1,i-1]$ 内等概率随机一个点 $p$，将 $i,p$ 连一条边。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Ynoi Hard Round 2025] 《十字神名的预言者》理解（色彩）", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/ivkgc3xh.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h5h2nanp.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2ur90co.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bv38t9mw.png)", "description": "给定一棵 $n$ 个结点的树，第 $i$ 个结点有 $b_i$ 个棋子，且最多能放 $a_i$ 个棋子。现在有一个结点 $k$ 是根。每次操作你可以选择一个结点，将它的一个棋子，移到它的父亲上，需要满足它父亲的棋子数没有超过限制，然后需要最小化所有棋子到 $k$ 的距离和。\n\n对 $k = 1, 2, \\cdots, n$ 都求出答案。", "inputFormat": "第一行包含一个正整数 $n$ 表示树的结点数量。\n\n第二行包含 $n$ 个正整数，第 $i$ 个正整数表示第 $i$ 个结点上最多能放 $a_i$ 个棋子。\n\n第三行包含 $n$ 个正整数，第 $i$ 个正整数表示第 $i$ 个结点上初始放了 $b_i$ 个棋子。\n\n接下来 $n-1$ 行，每行两个数 $u,v$，表示树上的一条边。\n", "outputFormat": "一行 $n$ 个整数，第 $i$ 个整数表示 $i$ 作为根时的答案。", "hint": "Idea：zhaohaikun，Solution：zhaohaikun，Code：zhaohaikun，Data：zhaohaikun。\n\n对于所有数据满足：$1\\le n\\le 5\\times 10^5$，$0 \\le b_i \\le a_i$，$1\\le a_i\\le 10^7$，为了避免答案爆 long long，将 $a_i$ 的范围开小了一点。\n\nsubtask 1（$1$ 分）：$b_i=0$；\n\nsubtask 2（$5$ 分）：$n\\le 2000$；\n\nsubtask 3（$11$ 分）：$n\\le 8000$；\n\nsubtask 4（$3$ 分）：链，保证 $\\forall i\\in [1, n-1]\\cap \\mathbb{Z}$，满足 $i$ 和 $i+1$ 有边；\n\nsubtask 5（$3$ 分）：菊花，保证 $\\forall i\\in [2, n]\\cap \\mathbb{Z}$，满足 $1$ 和 $i$ 有边；\n\nsubtask 6（$6$ 分）：保证树随机；\n\nsubtask 7（$16$ 分）：$a_i\\le 5$；\n\nsubtask 8（$22$ 分）：$n\\le 5\\times 10^4$；\n\nsubtask 9（$16$ 分）：$n\\le 10^5$；\n\nsubtask 10（$11$ 分）：$n\\le 2\\times 10^5$；\n\nsubtask 11（$5$ 分）：$n\\le 3\\times 10^5$；\n\nsubtask 12（$1$ 分）：无。\n\n这里说明随机树的生成方式：对于结点 $i\\in [2,n]$，在 $[1,i-1]$ 内等概率随机一个点 $p$，将 $i,p$ 连一条边。", "locale": "zh-CN"}}}
{"pid": "P11691", "type": "P", "difficulty": 7, "samples": [], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "交互题", "O2优化", "Ynoi"], "title": "[Ynoi Hard Round 2025] 《十字神名的预言者》慈悲（色彩）", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/ivkgc3xh.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g6x68pxy.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/77aede4h.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5q0pv4jf.png)", "description": "本地测试需 #include <data.h>\n\n提交时请采用以下模板，而不 include data.h，具体方法就是直接把这个模板放在自己代码里面。\n\n以下说明均为对本地测试的说明，提交时请注意上面的说明。\n\n```cpp\nclass Data{\n\tfriend int main();\n  private:\n\tunsigned short x1,x2,x3,x4;\n  public:\n\tvoid add(const Data &a,const Data &b);\n\tvoid sub(const Data &a,const Data &b);\n\tvoid clr();\n};\nvoid solve(\n\tint n,\n\tint xy[][2],\n\tData d[],\n\tint m,\n\tint abc[][3],\n\tint q,\n\tint lr[][2],\n\tData ans[]);\n```\n\n这是一道交互题，你需要借助 `Data` 类实现 `solve()` 函数。你可以使用 `Data` 类的成员函数 `add()`、`sub()`、`clr()`，以及 C++ 编译器自动合成的函数（包括构造函数和赋值运算符）。\n\n设所有 `Data` 类型的元素组成的集合为 $D$。\n\n对任意 $a,b,c\\in D$，有以下性质：\n\n  - $a+b, a-b \\in D$\n  - $(a+b)+c=a+(b+c)$\n  - $a+b=b+a$\n\n存在单位元 $e \\in D$，使得对任意 $a,b\\in D$，有以下性质：\n\n  - $a+e=e+a=a$\n  - $a+(e-a)=(e-a)+a=e$\n  - $a-b=a+(e-b)$\n\n上述性质也可以表述为：$(D,+,-,e)$ 构成一个交换群。\n\n给定 $n$ 个点，第 $i$ 个点有坐标 $(x_i,y_i)$ 和 `Data` 类的权值 $d_i$，$i=1,2,\\dots,n$；\n\n给定 $m$ 个半平面 $(A_i,B_i,C_i)$，$i=1,2,\\dots,m$；\n\n共有 $q$ 次询问 $l_i,r_i$，$i=1,2,\\dots,q$；\n\n第 $i$ 次询问中，你需要回答一个区间中的半平面的交的点权和，具体来说：\n\n设集合 $S_i = \\{ k \\mid \\forall l_i \\le j \\le r_i, A_jx_k + B_jy_k \\ge C_j \\}$，求 $\\sum\\limits_{k \\in S_i} d_k$。", "inputFormat": "", "outputFormat": "", "hint": "Idea：nzhtl1477，Solution：nzhtl1477&ccz181078，Code：ccz181078，Data：ccz181078\n\n### 接口说明\n\n使用 `a.clr()` 函数可以将 $a$ 设为单位元 $e$。\n\n使用 `a.add(b,c)` 函数可以将 $a$ 设为 $b+c$。\n\n使用 `a.sub(b,c)` 函数可以将 $a$ 设为 $b-c$。\n\n使用 `a=b` 可以将 $a$ 设为 $b$。\n\n### 评测说明\n\n你需要实现的函数 `solve` 的接口信息如下：\n\n```cpp\nvoid solve(\n\tint n,\n\tint xy[][2],\n\tData d[],\n\tint m,\n\tint abc[][3],\n\tint q,\n\tint lr[][2],\n\tData ans[]);\n```\n\n评测时，交互库会恰好调用 `solve` 一次。\n\n在 `solve` 函数的参数中，$x_i$ 对应 `xy[i][0]`，$y_i$ 对应 `xy[i][1]`，$d_i$ 对应 `d[i]`；\n\n$A_i,B_i,C_i$ 对应 `abc[i][0],abc[i][1],abc[i][2]`；\n\n$l_i,r_i$ 对应 `lr[i][0],lr[i][1]`，第 $i$ 次询问的答案需要被保存在 `ans[i]`；\n\n$n,m,q$ 对应 `n,m,q`。\n\n你可以进行任意次对元素的赋值、拷贝或者 `clr()` 函数的调用，但调用 `add()` 和 `sub()` 的次数之和不能超过 $4\\times 10^7$。\n\n对 `C++` 语言选手，请确保你的程序开头有\n\n```cpp\n#include \"data.h\"\n```\n\n试题目录下的 `grader.cpp` 是我们提供的交互库参考实现，最终测试时所用的交互库实现与该参考实现有所不同，因此选手的解法不应该依赖交互库实现。\n\n对 `C++` 语言的选手：\n\n你需要将本题提交代码命名为 `chesed.cpp`，并在本题目录下使用如下命令编译得到可执行程序：\n\n```\ng++ grader.cpp chesed.cpp -o chesed -O2 -lm\n```\n\n对于编译得到的可执行程序：\n\n先从该测试点的输入数据中读入数据。\n\n读入完成之后，交互库将调用恰好一次函数 `solve`，用输入数据测试你的函数。\n\n你的函数正确返回后，交互库会根据你返回的结果向输出文件中输出每次询问的答案，如果你输出的答案和对应测试点的输出文件除行末空格外完全一致，则判定你通过该测试数据。\n\n### 限制与约定\n\n对于 $25\\%$ 的数据，满足 $n,m,q\\le 100$；\n\n对于另外 $25\\%$ 的数据，满足 $q\\le 100$；\n\n对于另外 $25\\%$ 的数据，满足 $l_i=r_i$，$x_i,y_i$ 独立地在数据范围内均匀随机选取；\n\n对 $100\\%$ 的数据，满足 $1\\le n\\le 2\\times 10^5$，$1\\le m\\le 10^4$，$1\\le q\\le 10^5$，$|A_j|,|B_j|\\le 10^4$，$|x_i|,|y_i|,|C_j|\\le 10^5$，$B_j>0$，$C_j<0$，$-10^6\\le C_j<0$，$1\\le l_i\\le r_i\\le m$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Ynoi Hard Round 2025] 《十字神名的预言者》慈悲（色彩）", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/ivkgc3xh.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g6x68pxy.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/77aede4h.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5q0pv4jf.png)", "description": "本地测试需 #include <data.h>\n\n提交时请采用以下模板，而不 include data.h，具体方法就是直接把这个模板放在自己代码里面。\n\n以下说明均为对本地测试的说明，提交时请注意上面的说明。\n\n```cpp\nclass Data{\n\tfriend int main();\n  private:\n\tunsigned short x1,x2,x3,x4;\n  public:\n\tvoid add(const Data &a,const Data &b);\n\tvoid sub(const Data &a,const Data &b);\n\tvoid clr();\n};\nvoid solve(\n\tint n,\n\tint xy[][2],\n\tData d[],\n\tint m,\n\tint abc[][3],\n\tint q,\n\tint lr[][2],\n\tData ans[]);\n```\n\n这是一道交互题，你需要借助 `Data` 类实现 `solve()` 函数。你可以使用 `Data` 类的成员函数 `add()`、`sub()`、`clr()`，以及 C++ 编译器自动合成的函数（包括构造函数和赋值运算符）。\n\n设所有 `Data` 类型的元素组成的集合为 $D$。\n\n对任意 $a,b,c\\in D$，有以下性质：\n\n  - $a+b, a-b \\in D$\n  - $(a+b)+c=a+(b+c)$\n  - $a+b=b+a$\n\n存在单位元 $e \\in D$，使得对任意 $a,b\\in D$，有以下性质：\n\n  - $a+e=e+a=a$\n  - $a+(e-a)=(e-a)+a=e$\n  - $a-b=a+(e-b)$\n\n上述性质也可以表述为：$(D,+,-,e)$ 构成一个交换群。\n\n给定 $n$ 个点，第 $i$ 个点有坐标 $(x_i,y_i)$ 和 `Data` 类的权值 $d_i$，$i=1,2,\\dots,n$；\n\n给定 $m$ 个半平面 $(A_i,B_i,C_i)$，$i=1,2,\\dots,m$；\n\n共有 $q$ 次询问 $l_i,r_i$，$i=1,2,\\dots,q$；\n\n第 $i$ 次询问中，你需要回答一个区间中的半平面的交的点权和，具体来说：\n\n设集合 $S_i = \\{ k \\mid \\forall l_i \\le j \\le r_i, A_jx_k + B_jy_k \\ge C_j \\}$，求 $\\sum\\limits_{k \\in S_i} d_k$。", "inputFormat": "", "outputFormat": "", "hint": "Idea：nzhtl1477，Solution：nzhtl1477&ccz181078，Code：ccz181078，Data：ccz181078\n\n### 接口说明\n\n使用 `a.clr()` 函数可以将 $a$ 设为单位元 $e$。\n\n使用 `a.add(b,c)` 函数可以将 $a$ 设为 $b+c$。\n\n使用 `a.sub(b,c)` 函数可以将 $a$ 设为 $b-c$。\n\n使用 `a=b` 可以将 $a$ 设为 $b$。\n\n### 评测说明\n\n你需要实现的函数 `solve` 的接口信息如下：\n\n```cpp\nvoid solve(\n\tint n,\n\tint xy[][2],\n\tData d[],\n\tint m,\n\tint abc[][3],\n\tint q,\n\tint lr[][2],\n\tData ans[]);\n```\n\n评测时，交互库会恰好调用 `solve` 一次。\n\n在 `solve` 函数的参数中，$x_i$ 对应 `xy[i][0]`，$y_i$ 对应 `xy[i][1]`，$d_i$ 对应 `d[i]`；\n\n$A_i,B_i,C_i$ 对应 `abc[i][0],abc[i][1],abc[i][2]`；\n\n$l_i,r_i$ 对应 `lr[i][0],lr[i][1]`，第 $i$ 次询问的答案需要被保存在 `ans[i]`；\n\n$n,m,q$ 对应 `n,m,q`。\n\n你可以进行任意次对元素的赋值、拷贝或者 `clr()` 函数的调用，但调用 `add()` 和 `sub()` 的次数之和不能超过 $4\\times 10^7$。\n\n对 `C++` 语言选手，请确保你的程序开头有\n\n```cpp\n#include \"data.h\"\n```\n\n试题目录下的 `grader.cpp` 是我们提供的交互库参考实现，最终测试时所用的交互库实现与该参考实现有所不同，因此选手的解法不应该依赖交互库实现。\n\n对 `C++` 语言的选手：\n\n你需要将本题提交代码命名为 `chesed.cpp`，并在本题目录下使用如下命令编译得到可执行程序：\n\n```\ng++ grader.cpp chesed.cpp -o chesed -O2 -lm\n```\n\n对于编译得到的可执行程序：\n\n先从该测试点的输入数据中读入数据。\n\n读入完成之后，交互库将调用恰好一次函数 `solve`，用输入数据测试你的函数。\n\n你的函数正确返回后，交互库会根据你返回的结果向输出文件中输出每次询问的答案，如果你输出的答案和对应测试点的输出文件除行末空格外完全一致，则判定你通过该测试数据。\n\n### 限制与约定\n\n对于 $25\\%$ 的数据，满足 $n,m,q\\le 100$；\n\n对于另外 $25\\%$ 的数据，满足 $q\\le 100$；\n\n对于另外 $25\\%$ 的数据，满足 $l_i=r_i$，$x_i,y_i$ 独立地在数据范围内均匀随机选取；\n\n对 $100\\%$ 的数据，满足 $1\\le n\\le 2\\times 10^5$，$1\\le m\\le 10^4$，$1\\le q\\le 10^5$，$|A_j|,|B_j|\\le 10^4$，$|x_i|,|y_i|,|C_j|\\le 10^5$，$B_j>0$，$C_j<0$，$-10^6\\le C_j<0$，$1\\le l_i\\le r_i\\le m$。\n\n", "locale": "zh-CN"}}}
{"pid": "P11692", "type": "P", "difficulty": 7, "samples": [["10 10\n2 2 2 2\n1 2 0 1\n1 1 0 1\n0 0 0 1\n2 2 0 1\n3 3 0 1\n22 22 18 14\n5 5 1 4\n1 1 0 1\n1 1 0 1\n2 10 73\n3 9 70\n1 9 71\n1 5 71\n1 10 8\n1 10 67\n1 10 5\n5 14 93\n3 10 14\n3 10 88", "0\n0\n0\n0\n0\n0\n4\n0\n0\n0"], ["20 20\n1 1 0 1\n18 23 8 11\n5 9 4 4\n1 2 1 1\n37 38 18 19\n3 3 2 1\n14 18 5 9\n1 1 0 1\n2 3 2 1\n2 2 1 1\n1 1 0 1\n1 1 1 1\n3 3 1 1\n1 1 0 1\n15 15 8 7\n1 1 0 1\n1 1 0 1\n1 2 1 1\n1 2 1 1\n33 65 3 32\n1 15 18\n1 20 79\n1 19 8\n13 16 39\n4 24 56\n2 20 75\n4 10 1\n8 13 40\n2 20 87\n1 20 93\n1 2 69\n2 19 84\n1 20 35\n15 30 4\n10 16 70\n2 20 1\n1 16 57\n2 20 54\n14 31 50\n6 20 53", "0\n0\n4\n32\n0\n0\n0\n0\n0\n0\n0\n0\n32\n0\n0\n0\n0\n32\n0\n32"]], "limits": {"time": [12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2025", "O2优化", "Ynoi"], "title": "[Ynoi Hard Round 2025] 《十字神名的预言者》宏伟（色彩）", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/ivkgc3xh.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xfn0dj8k.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/975nxvty.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8q5ouprz.png)", "description": "十字神名的电脑里有 $n$ 个程序，每个程序的作用都是输入一个数，输出一个数。具体如下：\n\n第 $i$ 个程序的输出是输入 $x$ 的函数 $f_i(x)$，具体地：\n\n$$\nf_i(x)=\n\\begin{cases}\n(x-d_i)\\bmod a_i & x\\in [l_i,r_i] \\\\\nx & x\\notin [l_i,r_i]\\\\\n\\end{cases}\n$$\n\n可以看出，程序由四个参数 $l_i,r_i,d_i,a_i$ 决定，保证 $0 \\le d_i \\le l_i \\le r_i$ 且都是整数。程序的输入和输出也都是非负整数。\n\n电脑里有一个校验码，初始为 $0$。\n\n第 $i$ 个程序被调用的时候，如果输入的 $x$ 满足 $x \\in [l_i,r_i]$ 且 $x-d_i \\ge a_i$，也就是减法和取模都“发生”了，则这个程序会给电脑里的校验码**按位异或**上这个程序的 $a_i$。\n\n十字神名想要知道，如果她有一个初始值为 $x$ 的变量 $\\mathbf{v}$，先把电脑的校验码置 $0$，然后依次对 $i=L,L+1,\\dots ,R$ 执行 $\\mathbf{v}\\gets f_i(\\mathbf{v})$（每一步会调用一次程序 $i$ 来计算），最后电脑的校验码会是多少。\n\n她有 $m$ 次询问，每次会分别给出 $x,L,R$，请你帮她计算。\n\n询问是按强制在线顺序给出的，你必须得出前一次询问的答案才能知道下一次询问的参数。", "inputFormat": "第一行两个数 $n,m$，分别表示程序个数和询问个数。\n\n之后 $n$ 行，第 $i$ 行是四个数 $l_i,r_i,d_i,a_i$，含义如上述。 \n\n之后 $m$ 行，每行三个数 $L\\oplus (z\\bmod n),\\;R\\oplus (z\\bmod n),\\;x\\oplus z$ 表示一次询问，其中 $z$ 是上次询问的答案（特别地，在第一次询问时，$z=0$），$\\oplus$ 是按位异或。", "outputFormat": "对每个询问，输出一行一个数表示答案。", "hint": "Idea：nzhtl1477&yzy4090，Solution：nzhtl1477&ccz181078，Code：ccz181078，Data：ccz181078&nzhtl1477\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le m\\le 5\\times 10^5$，$0 \\le d_i \\le l_i \\le r_i \\le 10^{18}$，$1 \\le x,a_i \\le 10^{18}$，$1\\le L\\le R\\le n$。\n\n注意输入的询问参数是 $L\\oplus (z\\bmod n),\\;R\\oplus (z\\bmod n),\\;x\\oplus z$，其中 $z$ 是上次询问的答案（特别地，在第一次询问时，$z=0$），$\\oplus$ 是按位异或。这个异或结果有可能超出 $L,R,z$ 本身的范围。数据范围内的 $L,R$ 范围指的是解除异或后实际询问的 $L,R$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Ynoi Hard Round 2025] 《十字神名的预言者》宏伟（色彩）", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/ivkgc3xh.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xfn0dj8k.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/975nxvty.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8q5ouprz.png)", "description": "十字神名的电脑里有 $n$ 个程序，每个程序的作用都是输入一个数，输出一个数。具体如下：\n\n第 $i$ 个程序的输出是输入 $x$ 的函数 $f_i(x)$，具体地：\n\n$$\nf_i(x)=\n\\begin{cases}\n(x-d_i)\\bmod a_i & x\\in [l_i,r_i] \\\\\nx & x\\notin [l_i,r_i]\\\\\n\\end{cases}\n$$\n\n可以看出，程序由四个参数 $l_i,r_i,d_i,a_i$ 决定，保证 $0 \\le d_i \\le l_i \\le r_i$ 且都是整数。程序的输入和输出也都是非负整数。\n\n电脑里有一个校验码，初始为 $0$。\n\n第 $i$ 个程序被调用的时候，如果输入的 $x$ 满足 $x \\in [l_i,r_i]$ 且 $x-d_i \\ge a_i$，也就是减法和取模都“发生”了，则这个程序会给电脑里的校验码**按位异或**上这个程序的 $a_i$。\n\n十字神名想要知道，如果她有一个初始值为 $x$ 的变量 $\\mathbf{v}$，先把电脑的校验码置 $0$，然后依次对 $i=L,L+1,\\dots ,R$ 执行 $\\mathbf{v}\\gets f_i(\\mathbf{v})$（每一步会调用一次程序 $i$ 来计算），最后电脑的校验码会是多少。\n\n她有 $m$ 次询问，每次会分别给出 $x,L,R$，请你帮她计算。\n\n询问是按强制在线顺序给出的，你必须得出前一次询问的答案才能知道下一次询问的参数。", "inputFormat": "第一行两个数 $n,m$，分别表示程序个数和询问个数。\n\n之后 $n$ 行，第 $i$ 行是四个数 $l_i,r_i,d_i,a_i$，含义如上述。 \n\n之后 $m$ 行，每行三个数 $L\\oplus (z\\bmod n),\\;R\\oplus (z\\bmod n),\\;x\\oplus z$ 表示一次询问，其中 $z$ 是上次询问的答案（特别地，在第一次询问时，$z=0$），$\\oplus$ 是按位异或。", "outputFormat": "对每个询问，输出一行一个数表示答案。", "hint": "Idea：nzhtl1477&yzy4090，Solution：nzhtl1477&ccz181078，Code：ccz181078，Data：ccz181078&nzhtl1477\n\n对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^5$，$1\\le m\\le 5\\times 10^5$，$0 \\le d_i \\le l_i \\le r_i \\le 10^{18}$，$1 \\le x,a_i \\le 10^{18}$，$1\\le L\\le R\\le n$。\n\n注意输入的询问参数是 $L\\oplus (z\\bmod n),\\;R\\oplus (z\\bmod n),\\;x\\oplus z$，其中 $z$ 是上次询问的答案（特别地，在第一次询问时，$z=0$），$\\oplus$ 是按位异或。这个异或结果有可能超出 $L,R,z$ 本身的范围。数据范围内的 $L,R$ 范围指的是解除异或后实际询问的 $L,R$。\n", "locale": "zh-CN"}}}
{"pid": "P11693", "type": "P", "difficulty": 4, "samples": [["5 5 5\n1 2\n1 4\n2 3\n2 5\n3 4\n1 2\n4 1\n5 3\n1 5\n2 2", "4\n3\n4\n4\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2025", "洛谷原创", "O2优化"], "title": "[JRKSJ ExR] 构造字符串使得", "background": "", "description": "给你一张 $n$ 个点 $m$ 条边的无向图。现在有一枚棋子初始在点 $x$。双人博弈，先后手轮流移动棋子，每次可以将棋子移动到图上**任意一个**「与当前棋子所在结点有边直接相连」的结点。**保证每个结点都有至少一条边与之相连**。\n\n有一初值为 $0$ 的变量 $v$，**每次移动过后**，记当前棋子所在结点编号为 $t$，则将 $v$ 赋值为 $\\max(v,t)$。也就是说，$v$ 的值是棋子移动到过的结点编号最大值且**棋子的初始位置 $x$ 一开始并不计算在内**。\n\n现在先后手**总共移动 $k$ 次棋子**，先手希望最终 $v$ 尽可能大，后手希望最终 $v$ 尽可能小。\n\n共有 $q$ 次询问，每次询问给出 $x,k$，询问假如从 $x$ 开始一次共 $k$ 步的博弈，若双方均采用最优策略，那么最终 $v$ 的值为多少。", "inputFormat": "第一行三个整数 $n,m,q$。\n\n接下来 $m$ 行每行两个整数表示图中的边。\n\n接下来 $q$ 行，每行两个整数 $x,k$。", "outputFormat": "共 $q$ 行，每行一个整数表示此轮博弈中最终 $v$ 的值。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/as3pdnqp.png)\n\n样例中的图如上。\n\n对于第一个询问，显然先手无法迫使后手移动到 $5$，所以答案 $\\le 4$，先手第一步移动到 $4$ 即可达成。\n\n对于第二个询问，先手一步能到达的编号最大的点是 $3$，所以答案是 $3$。\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | $n\\le$ | $q\\le$|特殊性质| 分数 |\n|:--:|:--:|:--:|:--:|:--:\n| $1$ | $5$ |$5$|  | $7$ |\n| $2$ | $80$ | $80$ || $14$ |\n| $3$ | $700$ | $700$ || $17$ |\n| $4$ | $2\\times 10^5$ |$50$|| $20$ |\n| $5$ | $2\\times 10^5$ | $2\\times 10^5$ | $✓$ | $5$ |\n| $6$ | $2\\times 10^5$ | $2\\times 10^5$ | | $37$ |\n\n特殊性质：保证图的形态为一条链。\n\n对于所有数据，保证 $2\\le n\\le 2\\times 10^5$，$1\\le m\\le 5\\times 10^5$，$1\\le q\\le 2\\times 10^5$，$1\\le x,k\\le n$。\n\n保证给出的图无重边、无自环，保证对于任意点 $u$ 至少存在一个点 $v$ 使得 $u,v$ 之间存在一条边。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ ExR] 构造字符串使得", "background": "", "description": "给你一张 $n$ 个点 $m$ 条边的无向图。现在有一枚棋子初始在点 $x$。双人博弈，先后手轮流移动棋子，每次可以将棋子移动到图上**任意一个**「与当前棋子所在结点有边直接相连」的结点。**保证每个结点都有至少一条边与之相连**。\n\n有一初值为 $0$ 的变量 $v$，**每次移动过后**，记当前棋子所在结点编号为 $t$，则将 $v$ 赋值为 $\\max(v,t)$。也就是说，$v$ 的值是棋子移动到过的结点编号最大值且**棋子的初始位置 $x$ 一开始并不计算在内**。\n\n现在先后手**总共移动 $k$ 次棋子**，先手希望最终 $v$ 尽可能大，后手希望最终 $v$ 尽可能小。\n\n共有 $q$ 次询问，每次询问给出 $x,k$，询问假如从 $x$ 开始一次共 $k$ 步的博弈，若双方均采用最优策略，那么最终 $v$ 的值为多少。", "inputFormat": "第一行三个整数 $n,m,q$。\n\n接下来 $m$ 行每行两个整数表示图中的边。\n\n接下来 $q$ 行，每行两个整数 $x,k$。", "outputFormat": "共 $q$ 行，每行一个整数表示此轮博弈中最终 $v$ 的值。", "hint": "### 样例解释\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/as3pdnqp.png)\n\n样例中的图如上。\n\n对于第一个询问，显然先手无法迫使后手移动到 $5$，所以答案 $\\le 4$，先手第一步移动到 $4$ 即可达成。\n\n对于第二个询问，先手一步能到达的编号最大的点是 $3$，所以答案是 $3$。\n\n### 数据范围\n\n**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | $n\\le$ | $q\\le$|特殊性质| 分数 |\n|:--:|:--:|:--:|:--:|:--:\n| $1$ | $5$ |$5$|  | $7$ |\n| $2$ | $80$ | $80$ || $14$ |\n| $3$ | $700$ | $700$ || $17$ |\n| $4$ | $2\\times 10^5$ |$50$|| $20$ |\n| $5$ | $2\\times 10^5$ | $2\\times 10^5$ | $✓$ | $5$ |\n| $6$ | $2\\times 10^5$ | $2\\times 10^5$ | | $37$ |\n\n特殊性质：保证图的形态为一条链。\n\n对于所有数据，保证 $2\\le n\\le 2\\times 10^5$，$1\\le m\\le 5\\times 10^5$，$1\\le q\\le 2\\times 10^5$，$1\\le x,k\\le n$。\n\n保证给出的图无重边、无自环，保证对于任意点 $u$ 至少存在一个点 $v$ 使得 $u,v$ 之间存在一条边。", "locale": "zh-CN"}}}
{"pid": "P11694", "type": "P", "difficulty": 6, "samples": [["3\n4\n1 2 3 4\n5\n3 3 4 5 5\n6\n4 6 12 13 26 39", "0\n2\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2025", "数论", "洛谷原创", "O2优化"], "title": "[JRKSJ ExR] 淇宝的划分", "background": "题目中人名纯属虚构，如有雷同纯属巧合。", "description": "淇宝有一个由正整数构成的大小为 $n$ 的可重集 $A$，他想把这个可重集划分成两部分 $S,T$。具体地，非空可重集 $S,T$ 满足任意正整数 $v$ 在 $S,T$ 中的出现次数之和等于其在 $A$ 中的出现次数。\n\n淇宝作为举世闻名的全世界最年轻获得 LGM（LCM and GCD Master）的选手，计算出了 $\\gcd_{v\\in S}v$ 和 $\\operatorname{lcm}_{v\\in T}v$。\n\n现在他希望你求出所有划分方案中，$\\lvert(\\gcd_{v\\in S}v)-(\\operatorname{lcm}_{v\\in T}v)\\rvert$ 的最小值。", "inputFormat": "**本题包含多组测试数据。**\n\n第一行一个正整数 $T$ 表示测试数据组数。\n\n对于每组测试数据：\n\n第一行一个正整数 $n$，表示可重集的大小。\n\n第二行 $n$ 个正整数 $a_{1\\sim n}$ 表示可重集 $A$ 内的元素。保证 $a_1\\leq a_2\\leq\\dots\\leq a_n$。", "outputFormat": "对于每组测试数据，输出一行，一个非负整数，表示 $\\lvert(\\gcd_{v\\in S}v)-(\\operatorname{lcm}_{v\\in T}v)\\rvert$ 的最小值。", "hint": "### 样例解释\n\n第一组数据的最优解 $S=\\{2,3,4\\},T=\\{1\\}$。\n\n第二组数据存在一组最优解 $S=\\{4,5,5\\},T=\\{3,3\\}$。\n\n第三组数据的最优解 $S=\\{13,26,39\\},T=\\{4,6,12\\}$。\n\n### 数据规模与约定\n**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | $n\\leq$ | $\\sum n\\leq$ | $a_i\\leq$ | 分数 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $16$ | $100$ | $10^{18}$ | $6$ |\n| $2$ | $300$ | $3\\times10^3$ | $100$ | $19$ |\n| $3$ | $2\\times10^4$ | $2\\times10^5$ | $10^6$ | $13$ |\n| $4$ | $2\\times10^4$ | $2\\times10^5$ | $10^9$ | $15$ |\n| $5$ | $2\\times10^5$ | $2\\times10^6$ | $10^9$ | $22$ |\n| $6$ | $10^6$ | $5\\times10^6$ | $10^{18}$ | $25$ |\n\n对于所有数据，$1\\leq T\\leq10^4$，$2\\leq n\\leq10^6$，$\\sum n\\leq5\\times10^6$，$1\\leq a_i\\leq10^{18}$，$a_1\\leq \\dots\\leq a_n$。\n\n**部分数据点输入数据较大，请使用较为快速的读入方式。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ ExR] 淇宝的划分", "background": "题目中人名纯属虚构，如有雷同纯属巧合。", "description": "淇宝有一个由正整数构成的大小为 $n$ 的可重集 $A$，他想把这个可重集划分成两部分 $S,T$。具体地，非空可重集 $S,T$ 满足任意正整数 $v$ 在 $S,T$ 中的出现次数之和等于其在 $A$ 中的出现次数。\n\n淇宝作为举世闻名的全世界最年轻获得 LGM（LCM and GCD Master）的选手，计算出了 $\\gcd_{v\\in S}v$ 和 $\\operatorname{lcm}_{v\\in T}v$。\n\n现在他希望你求出所有划分方案中，$\\lvert(\\gcd_{v\\in S}v)-(\\operatorname{lcm}_{v\\in T}v)\\rvert$ 的最小值。", "inputFormat": "**本题包含多组测试数据。**\n\n第一行一个正整数 $T$ 表示测试数据组数。\n\n对于每组测试数据：\n\n第一行一个正整数 $n$，表示可重集的大小。\n\n第二行 $n$ 个正整数 $a_{1\\sim n}$ 表示可重集 $A$ 内的元素。保证 $a_1\\leq a_2\\leq\\dots\\leq a_n$。", "outputFormat": "对于每组测试数据，输出一行，一个非负整数，表示 $\\lvert(\\gcd_{v\\in S}v)-(\\operatorname{lcm}_{v\\in T}v)\\rvert$ 的最小值。", "hint": "### 样例解释\n\n第一组数据的最优解 $S=\\{2,3,4\\},T=\\{1\\}$。\n\n第二组数据存在一组最优解 $S=\\{4,5,5\\},T=\\{3,3\\}$。\n\n第三组数据的最优解 $S=\\{13,26,39\\},T=\\{4,6,12\\}$。\n\n### 数据规模与约定\n**本题采用捆绑测试。**\n\n| $\\text{Subtask}$ | $n\\leq$ | $\\sum n\\leq$ | $a_i\\leq$ | 分数 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1$ | $16$ | $100$ | $10^{18}$ | $6$ |\n| $2$ | $300$ | $3\\times10^3$ | $100$ | $19$ |\n| $3$ | $2\\times10^4$ | $2\\times10^5$ | $10^6$ | $13$ |\n| $4$ | $2\\times10^4$ | $2\\times10^5$ | $10^9$ | $15$ |\n| $5$ | $2\\times10^5$ | $2\\times10^6$ | $10^9$ | $22$ |\n| $6$ | $10^6$ | $5\\times10^6$ | $10^{18}$ | $25$ |\n\n对于所有数据，$1\\leq T\\leq10^4$，$2\\leq n\\leq10^6$，$\\sum n\\leq5\\times10^6$，$1\\leq a_i\\leq10^{18}$，$a_1\\leq \\dots\\leq a_n$。\n\n**部分数据点输入数据较大，请使用较为快速的读入方式。**", "locale": "zh-CN"}}}
{"pid": "P11695", "type": "P", "difficulty": 7, "samples": [["5 5\n1 1 3\n1 2 4\n3 1 4\n2 1\n3 1 4", "Y\nN"], ["9 17\n1 6 9\n1 1 8\n1 5 7\n1 6 8\n1 8 9\n3 4 5\n3 1 7\n3 8 9\n1 4 9\n3 1 8\n3 1 7\n1 6 9\n3 2 6\n2 2\n1 1 3\n3 1 2\n1 4 6", "N\nN\nY\nY\nN\nN\nN"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2025", "洛谷原创", "O2优化"], "title": "[JRKSJ ExR] 昼寝", "background": "![安静的午后](https://cdn.luogu.com.cn/upload/image_hosting/7i2traxd.png)", "description": "给定 $n,m$，你需要维护一个 $[1,n)$ 的数轴上区间的初始为空的**可重集合**，支持三种操作共 $m$ 次：\n\n1. 插入一个区间 $[l,r)$。\n2. 删除第 $t$ 次操作插入的区间。\n3. 给出一个区间 $[l,r)$，判断当前可重集合中是否存在一个子集，使得子集中所有区间的并恰好是 $[l,r)$。", "inputFormat": "第一行两个整数 $n,m$。\n\n下面 $m$ 行，每行若干个整数描述一次操作，可能是 `1 l r`、`2 t` 或 `3 l r`。", "outputFormat": "对于每个询问，输出一行一个大写字母 `Y` 或 `N`。`Y` 表示存在这样的子集，`N` 反之。", "hint": "### 样例解释\n\n对于样例 $1$，第一次询问时的可重集合为 $\\{[1,3),[2,4)\\}$，$[1,3)\\cup [2,4)=[1,4)$。\n\n第二次询问时的可重集合为 $\\{[2,4)\\}$，显然不存在满足条件的子集。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n| $\\mathrm{Subtask}$ | $n\\le$ | $m\\le$ | 特殊性质 |分数 | \n| :-----: | :-----: | :-----: | :-----: | :-----: | \n| $1$ | $10^3$ | $10^3$ | |$10$ | \n| $2$ | $10^6$ | $5\\times 10^5$ |$\\text A$ |$15$ | \n| $3$ | $10^6$ | $5\\times 10^5$ | $\\text B$|$30$ | \n| $4$ | $2\\times 10^5$ | $2\\times 10^5$ | |$10$ | \n| $5$ | $10^6$ | $5\\times 10^5$ | |$35$ |\n\n特殊性质 $\\text A$：保证不存在 $2$ 操作，且所有 $1$ 操作在所有 $3$ 操作之前。\n\n特殊性质 $\\text B$：保证不存在 $2$ 操作。\n\n对于所有数据，保证 $2\\le n\\le 10^6$，$1\\le m\\le 5\\times 10^5$，$1\\le l<r\\le n$。\n\n保证所有操作 $2$ 对应的 $t$ 都是此前的操作 $1$ 且所有 $t$ 互不相同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ ExR] 昼寝", "background": "![安静的午后](https://cdn.luogu.com.cn/upload/image_hosting/7i2traxd.png)", "description": "给定 $n,m$，你需要维护一个 $[1,n)$ 的数轴上区间的初始为空的**可重集合**，支持三种操作共 $m$ 次：\n\n1. 插入一个区间 $[l,r)$。\n2. 删除第 $t$ 次操作插入的区间。\n3. 给出一个区间 $[l,r)$，判断当前可重集合中是否存在一个子集，使得子集中所有区间的并恰好是 $[l,r)$。", "inputFormat": "第一行两个整数 $n,m$。\n\n下面 $m$ 行，每行若干个整数描述一次操作，可能是 `1 l r`、`2 t` 或 `3 l r`。", "outputFormat": "对于每个询问，输出一行一个大写字母 `Y` 或 `N`。`Y` 表示存在这样的子集，`N` 反之。", "hint": "### 样例解释\n\n对于样例 $1$，第一次询问时的可重集合为 $\\{[1,3),[2,4)\\}$，$[1,3)\\cup [2,4)=[1,4)$。\n\n第二次询问时的可重集合为 $\\{[2,4)\\}$，显然不存在满足条件的子集。\n\n### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n| $\\mathrm{Subtask}$ | $n\\le$ | $m\\le$ | 特殊性质 |分数 | \n| :-----: | :-----: | :-----: | :-----: | :-----: | \n| $1$ | $10^3$ | $10^3$ | |$10$ | \n| $2$ | $10^6$ | $5\\times 10^5$ |$\\text A$ |$15$ | \n| $3$ | $10^6$ | $5\\times 10^5$ | $\\text B$|$30$ | \n| $4$ | $2\\times 10^5$ | $2\\times 10^5$ | |$10$ | \n| $5$ | $10^6$ | $5\\times 10^5$ | |$35$ |\n\n特殊性质 $\\text A$：保证不存在 $2$ 操作，且所有 $1$ 操作在所有 $3$ 操作之前。\n\n特殊性质 $\\text B$：保证不存在 $2$ 操作。\n\n对于所有数据，保证 $2\\le n\\le 10^6$，$1\\le m\\le 5\\times 10^5$，$1\\le l<r\\le n$。\n\n保证所有操作 $2$ 对应的 $t$ 都是此前的操作 $1$ 且所有 $t$ 互不相同。", "locale": "zh-CN"}}}
{"pid": "P11696", "type": "P", "difficulty": 7, "samples": [["6 6\n1 1 4 5 1 4\n1 10\n1 5\n3 6\n4 7\n3 9\n2 5", "19\n13\n16\n16\n16\n13"], ["10 10\n765 523 255 781 647 98 451 636 109 771\n394 405\n128 161\n332 565\n996 1003\n3 116\n403 486\n255 582\n744 861\n399 408\n528 996", "58\n59\n69\n68\n66\n62\n69\n75\n58\n75"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 5000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2025", "洛谷原创", "O2优化"], "title": "[JRKSJ ExR] 七影蝶", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/n7wkxyof.png)", "description": "久岛鸥给了你一个长度为 $n$ 的非负整数序列 $a_{1\\sim n}$。\n\n接下来有 $q$ 次询问，每次询问给出非负整数 $L,R$，求\n\n$$\\max_{x=L}^R\\left(\\sum_{i=1}^n\\mathrm{popcount}(a_i+x)\\right)$$\n\n其中 $\\mathrm{popcount}(x)$ 表示 $x$ 在二进制形式下数位 $1$ 的出现次数。", "inputFormat": "第一行，两个整数 $n,q$。  \n第二行给出 $n$ 个整数代表序列 $a_{1\\sim n}$。  \n随后 $q$ 行，每行两个整数 $L,R$，代表一次询问。", "outputFormat": "输出 $q$ 行，第 $i$ 行一个整数代表第 $i$ 次询问的答案。", "hint": "### 样例解释\n\n对于样例 $1$，第一组询问取 $x=10$ 时达到最大值，即 $\\mathrm{popcount}(11)\\times 3+\\mathrm{popcount}(14)\\times 2+\\mathrm{popcount}(15)=3\\times 3+2\\times 3+4=19$。\n\n容易验证 $x$ 取范围内其他值都不能使答案更大。\n\n### 数据范围\n**本题开启捆绑测试。**\n\n令 $V$ 为数组中元素与询问区间端点的最大值。\n\n::cute-table\n| $\\text{Subtask}$ | $n\\le$ | $q\\le$ | $V\\le$ |$\\text{Score}$ |\n| :-----------: | :-----------: | :-----------: | :---------: | :----------: |\n|$1$ | $10$| $10$ | $10$ | $5$ | $2$\n|$2$ | $10^5$| $5\\times 10^5$ | $10^3$ | $5$ | $2$\n|$3$ | ^| $10^5$ | $10^5$ | $15$ | $2$\n|$4$ | $10^4$| $10^4$ | $10^9$ | $10$ | $2$\n|$5$ | $10^5$| $1$ | ^ | $15$ | $2$\n|$6$ | ^| $5\\times 10^5$ | ^ | $20$ |  $5$\n| $7$ | $5\\times 10^5$ | $10^5$ | ^ | $20$ | $5$\n| $8$ | ^ | $5\\times 10^5$ | ^ | $10$ | $2$ |\n| $9$ | ^ | ^ | $10^{11}$ | $0$ |\n\n对于所有数据，保证 $1\\le n,q\\le 5\\times 10^5$，$0\\le L\\le R\\le 10^{11}$，$0\\le a_i\\le 10^{11}$。\n\n子任务 $6,7,9$ 的时间限制为 $5$ 秒，其余子任务均为 $3$ 秒。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ ExR] 七影蝶", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/n7wkxyof.png)", "description": "久岛鸥给了你一个长度为 $n$ 的非负整数序列 $a_{1\\sim n}$。\n\n接下来有 $q$ 次询问，每次询问给出非负整数 $L,R$，求\n\n$$\\max_{x=L}^R\\left(\\sum_{i=1}^n\\mathrm{popcount}(a_i+x)\\right)$$\n\n其中 $\\mathrm{popcount}(x)$ 表示 $x$ 在二进制形式下数位 $1$ 的出现次数。", "inputFormat": "第一行，两个整数 $n,q$。  \n第二行给出 $n$ 个整数代表序列 $a_{1\\sim n}$。  \n随后 $q$ 行，每行两个整数 $L,R$，代表一次询问。", "outputFormat": "输出 $q$ 行，第 $i$ 行一个整数代表第 $i$ 次询问的答案。", "hint": "### 样例解释\n\n对于样例 $1$，第一组询问取 $x=10$ 时达到最大值，即 $\\mathrm{popcount}(11)\\times 3+\\mathrm{popcount}(14)\\times 2+\\mathrm{popcount}(15)=3\\times 3+2\\times 3+4=19$。\n\n容易验证 $x$ 取范围内其他值都不能使答案更大。\n\n### 数据范围\n**本题开启捆绑测试。**\n\n令 $V$ 为数组中元素与询问区间端点的最大值。\n\n::cute-table\n| $\\text{Subtask}$ | $n\\le$ | $q\\le$ | $V\\le$ |$\\text{Score}$ |\n| :-----------: | :-----------: | :-----------: | :---------: | :----------: |\n|$1$ | $10$| $10$ | $10$ | $5$ | $2$\n|$2$ | $10^5$| $5\\times 10^5$ | $10^3$ | $5$ | $2$\n|$3$ | ^| $10^5$ | $10^5$ | $15$ | $2$\n|$4$ | $10^4$| $10^4$ | $10^9$ | $10$ | $2$\n|$5$ | $10^5$| $1$ | ^ | $15$ | $2$\n|$6$ | ^| $5\\times 10^5$ | ^ | $20$ |  $5$\n| $7$ | $5\\times 10^5$ | $10^5$ | ^ | $20$ | $5$\n| $8$ | ^ | $5\\times 10^5$ | ^ | $10$ | $2$ |\n| $9$ | ^ | ^ | $10^{11}$ | $0$ |\n\n对于所有数据，保证 $1\\le n,q\\le 5\\times 10^5$，$0\\le L\\le R\\le 10^{11}$，$0\\le a_i\\le 10^{11}$。\n\n子任务 $6,7,9$ 的时间限制为 $5$ 秒，其余子任务均为 $3$ 秒。", "locale": "zh-CN"}}}
{"pid": "P11697", "type": "P", "difficulty": 2, "samples": [["9 8 5", "3"], ["2 2 1", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2025", "Special Judge", "ROIR（俄罗斯）"], "title": "[ROIR 2025] 二维蚱蜢", "background": "翻译自 [ROIR 2025 D1T1](https://neerc.ifmo.ru/school/archive/2024-2025/ru-olymp-regional-2025-day1.pdf)。", "description": "在一个大小为 $n \\times m$ 的矩形网格的左下角位置有一只蚱蜢。每次蚱蜢可以向右、向上或者向右上方对角线方向跳跃，且每次跳跃的距离最多为 $k$ 个格子。\n\n对于 $k = 3$ 的情况，蚱蜢的可移动方向如下所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/iwp2m1ds.png)\n\n问：最少需要多少次跳跃，才能使蚱蜢从左下角的格子 $(1, 1)$ 移动到右上角的格子 $(n, m)$？", "inputFormat": "第一行包含三个整数 $n$, $m$, 和 $k$，分别表示网格的行数、列数和蚱蜢每次最多能跳跃的格子数（$1 \\leq n, m, k \\leq 10^9$）。", "outputFormat": "输出一个整数，表示将蚱蜢从格子 $(1, 1)$ 移动到格子 $(n, m)$ 所需的最少跳跃次数。", "hint": "本题使用 Subtask 捆绑测试。数据中 Subtask 0 是样例。\n\n| 子任务 | 分数  | 特殊性质  |\n|:------------:|:-------:|:-----------:|\n| $1 $         | $15  $  | $n, m \\leq 10$，$k = 1$ | 这个是 GPT 的机翻懒得删了 |\n| $2$          | $16  $  | $n, m, k \\leq 10$ | 第一错误 |\n| $3 $         | $17 $   | $n, m \\leq 10^9$，$k = 1$ | 第一错误 |\n| $4  $        | $18 $   | 保证答案为 $1$ 或 $2$ | 第一错误 |\n| $5  $        | $34$    | 无 | - |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ROIR 2025] 二维蚱蜢", "background": "翻译自 [ROIR 2025 D1T1](https://neerc.ifmo.ru/school/archive/2024-2025/ru-olymp-regional-2025-day1.pdf)。", "description": "在一个大小为 $n \\times m$ 的矩形网格的左下角位置有一只蚱蜢。每次蚱蜢可以向右、向上或者向右上方对角线方向跳跃，且每次跳跃的距离最多为 $k$ 个格子。\n\n对于 $k = 3$ 的情况，蚱蜢的可移动方向如下所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/iwp2m1ds.png)\n\n问：最少需要多少次跳跃，才能使蚱蜢从左下角的格子 $(1, 1)$ 移动到右上角的格子 $(n, m)$？", "inputFormat": "第一行包含三个整数 $n$, $m$, 和 $k$，分别表示网格的行数、列数和蚱蜢每次最多能跳跃的格子数（$1 \\leq n, m, k \\leq 10^9$）。", "outputFormat": "输出一个整数，表示将蚱蜢从格子 $(1, 1)$ 移动到格子 $(n, m)$ 所需的最少跳跃次数。", "hint": "本题使用 Subtask 捆绑测试。数据中 Subtask 0 是样例。\n\n| 子任务 | 分数  | 特殊性质  |\n|:------------:|:-------:|:-----------:|\n| $1 $         | $15  $  | $n, m \\leq 10$，$k = 1$ | 这个是 GPT 的机翻懒得删了 |\n| $2$          | $16  $  | $n, m, k \\leq 10$ | 第一错误 |\n| $3 $         | $17 $   | $n, m \\leq 10^9$，$k = 1$ | 第一错误 |\n| $4  $        | $18 $   | 保证答案为 $1$ 或 $2$ | 第一错误 |\n| $5  $        | $34$    | 无 | - |", "locale": "zh-CN"}}}
