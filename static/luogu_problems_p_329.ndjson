{"pid": "P7663", "type": "P", "difficulty": 4, "samples": [["3 3\nx..\n...\n...\n3\n1 3\n1 1\n3 2", "4\n0\n5"], ["5 5\n..x..\n....x\n.....\n.....\n.....\n4\n3 1\n5 3\n4 5\n3 5", "8\n8\n4\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #5] JABUKE", "background": "", "description": "给你一个 $n \\times m$ 的矩阵，其中苹果树用 `x` 表示，空地用 `.` 表示。\n\n有 $g$ 年，每年都会从天而降一个苹果，落在坐标 $(x_i,y_i)$ 上，要求出**这个苹果离最近一棵苹果树的距离的平方**。当然，一年后这个苹果会长成新的一颗苹果树，并参与一年后落下的那个苹果的计算。", "inputFormat": "第一行两个正整数 $n,m$，表示矩阵的长，宽。\n\n接下来 $n$ 行，每行 $m$ 个字符，字符仅含 `x` 和 `.`，表示该矩阵。\n\n接下来一个正整数 $g$，表示年份。\n\n接下来 $g$ 行每行两个正整数 $x_i,y_i$，表示每年苹果下落的位置。", "outputFormat": "一共 $g$ 行，每行一个整数，表示每个苹果下落时离最近一棵苹果树的距离的平方。", "hint": "对于 $30\\%$ 的数据，$1 \\leq g \\leq 500$。\n\n对于 $100\\%$ 的数据，$1\\leq n,m \\leq 500,1 \\leq g \\leq 10^5$，保证初始矩阵至少包含一棵苹果树。\n\n距离计算公式：$d((x_1,y_1),(x_2,y_2))=\\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$。\n\n译自 [COCI 2014/2015 CONTEST #5](https://hsin.hr/coci/archive/2014_2015/contest5_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #5] JABUKE", "background": "", "description": "给你一个 $n \\times m$ 的矩阵，其中苹果树用 `x` 表示，空地用 `.` 表示。\n\n有 $g$ 年，每年都会从天而降一个苹果，落在坐标 $(x_i,y_i)$ 上，要求出**这个苹果离最近一棵苹果树的距离的平方**。当然，一年后这个苹果会长成新的一颗苹果树，并参与一年后落下的那个苹果的计算。", "inputFormat": "第一行两个正整数 $n,m$，表示矩阵的长，宽。\n\n接下来 $n$ 行，每行 $m$ 个字符，字符仅含 `x` 和 `.`，表示该矩阵。\n\n接下来一个正整数 $g$，表示年份。\n\n接下来 $g$ 行每行两个正整数 $x_i,y_i$，表示每年苹果下落的位置。", "outputFormat": "一共 $g$ 行，每行一个整数，表示每个苹果下落时离最近一棵苹果树的距离的平方。", "hint": "对于 $30\\%$ 的数据，$1 \\leq g \\leq 500$。\n\n对于 $100\\%$ 的数据，$1\\leq n,m \\leq 500,1 \\leq g \\leq 10^5$，保证初始矩阵至少包含一棵苹果树。\n\n距离计算公式：$d((x_1,y_1),(x_2,y_2))=\\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$。\n\n译自 [COCI 2014/2015 CONTEST #5](https://hsin.hr/coci/archive/2014_2015/contest5_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7666", "type": "P", "difficulty": 2, "samples": [["3 2\n1\n3\n6", "4"], ["3 1\n1\n2\n6", "6"], ["3 3\n1\n3\n6", "3"], ["10 5\n1\n2\n5\n6\n8\n11\n13\n15\n16\n20", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2018", "排序", "JOI（日本）"], "title": "[JOI 2018 Final] 寒冬暖炉 / Stove", "background": "", "description": "JOI 君的房间里有一个炉子。因为 JOI 君已经习惯了寒冷的温度，所以当他一个人在房间里时，他不需要打开炉子。但是，有客人时，他需要打开炉子。有一天，$N$ 位客人将拜访 JOI 君。第 $i$ 个客人 ($1 \\leq i \\leq N$) 将在时间 $T_i$ 到达，并在时间 $T_i+1$ 离开。任何时间最多有一个客人访问  JOI 君。JOI 君可以随时开火或关火。JOI 君用火柴打开炉子。JOI 君只有 $K$ 根火柴。 因此他最多可以打开炉子 $K$ 次。在一天的开始，炉子是关闭的。当炉子打开时，它需要燃料。因此，JOI 君控制着他何时打开或关闭炉子，他想尽量减少炉子的总运行时间。  \n现给定访问 JOI 君的客人数据和 JOI 君拥有的火柴数，请编写一个程序来计算炉子总运行时间的最小值。", "inputFormat": "第一行包含两个空格分隔的整数 $N$，$K$。 这意味着 $N$ 位客人将访问 JOI 君，而 JOI 君 有 $K$ 根火柴。接下来的下 $N$ 行的第 $i$ 行包含整数 $T_i$。这意味着第 $i$ 个客人将在时间 $T_i$ 到达，并在时间 $T_i+1$ 离开。", "outputFormat": "唯一的一行应包含一个整数为炉子总运行时间的最小值。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq N \\leq 10^5$，$1 \\leq K \\leq N$，$1 \\leq T_i \\leq 10^9$（$1 \\leq i \\leq N$），$T_i < T_{i+1}$（$1 \\leq i \\leq N-1$）。  \n- Subtask $1$（$20$ points）：$N \\leq 20$。  \n- Subtask $2$（$30$ points）：$N \\leq 5000$。  \n- Subtask $3$（$50$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：三位客人将访问 JOI 君。如果他按以下方式打开和关闭炉子，那么当客人来访时打开炉子，他打开炉子两次，炉子的总运行时间为 $(4-1)+(7-6)=4$。  \n- 当第一位客人到来时，他在时间 1 打开炉子。  \n- 当第二位客人离开时，他在时间 4 关掉炉子。  \n- 当第三位客人到来时，他在时间 6 打开炉子。  \n- 当第三位客人离开时，他在时间 7 关掉炉子。  \n\n由于炉子的总运行时间不能小于 $4$，输出 $4$。  \n**对于样例 $2$**：JOI 君只能打开一次炉子。因此，他在第一个客人来的时间 $1$ 打开炉子，当第三位客人离开时他在时间 $7$ 关掉炉子。  \n请注意，客人离开的时间可以与下一位客人到来的时间相同。  \n**对于样例 $3$**：JOI 君在每位客人到来时打开炉子，并在每位客人离开时关掉炉子。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T1：Stove](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t1-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2018 Final] 寒冬暖炉 / Stove", "background": "", "description": "JOI 君的房间里有一个炉子。因为 JOI 君已经习惯了寒冷的温度，所以当他一个人在房间里时，他不需要打开炉子。但是，有客人时，他需要打开炉子。有一天，$N$ 位客人将拜访 JOI 君。第 $i$ 个客人 ($1 \\leq i \\leq N$) 将在时间 $T_i$ 到达，并在时间 $T_i+1$ 离开。任何时间最多有一个客人访问  JOI 君。JOI 君可以随时开火或关火。JOI 君用火柴打开炉子。JOI 君只有 $K$ 根火柴。 因此他最多可以打开炉子 $K$ 次。在一天的开始，炉子是关闭的。当炉子打开时，它需要燃料。因此，JOI 君控制着他何时打开或关闭炉子，他想尽量减少炉子的总运行时间。  \n现给定访问 JOI 君的客人数据和 JOI 君拥有的火柴数，请编写一个程序来计算炉子总运行时间的最小值。", "inputFormat": "第一行包含两个空格分隔的整数 $N$，$K$。 这意味着 $N$ 位客人将访问 JOI 君，而 JOI 君 有 $K$ 根火柴。接下来的下 $N$ 行的第 $i$ 行包含整数 $T_i$。这意味着第 $i$ 个客人将在时间 $T_i$ 到达，并在时间 $T_i+1$ 离开。", "outputFormat": "唯一的一行应包含一个整数为炉子总运行时间的最小值。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq N \\leq 10^5$，$1 \\leq K \\leq N$，$1 \\leq T_i \\leq 10^9$（$1 \\leq i \\leq N$），$T_i < T_{i+1}$（$1 \\leq i \\leq N-1$）。  \n- Subtask $1$（$20$ points）：$N \\leq 20$。  \n- Subtask $2$（$30$ points）：$N \\leq 5000$。  \n- Subtask $3$（$50$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：三位客人将访问 JOI 君。如果他按以下方式打开和关闭炉子，那么当客人来访时打开炉子，他打开炉子两次，炉子的总运行时间为 $(4-1)+(7-6)=4$。  \n- 当第一位客人到来时，他在时间 1 打开炉子。  \n- 当第二位客人离开时，他在时间 4 关掉炉子。  \n- 当第三位客人到来时，他在时间 6 打开炉子。  \n- 当第三位客人离开时，他在时间 7 关掉炉子。  \n\n由于炉子的总运行时间不能小于 $4$，输出 $4$。  \n**对于样例 $2$**：JOI 君只能打开一次炉子。因此，他在第一个客人来的时间 $1$ 打开炉子，当第三位客人离开时他在时间 $7$ 关掉炉子。  \n请注意，客人离开的时间可以与下一位客人到来的时间相同。  \n**对于样例 $3$**：JOI 君在每位客人到来时打开炉子，并在每位客人离开时关掉炉子。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T1：Stove](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t1-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7667", "type": "P", "difficulty": 3, "samples": [["3\n2 3\n11 2\n4 5", "6"], ["6\n4 1\n1 5\n10 3\n9 1\n4 2\n5 3", "7"], ["15 \n1543361732 260774320\n2089759661 257198921\n1555665663 389548466\n4133306295 296394520\n2596448427 301103944\n1701413087 274491541\n2347488426 912791996\n2133012079 444074242\n2659886224 656957044\n1345396764 259870638\n2671164286 233246973\n2791812672 585862344\n2996614635 91065315\n971304780 488995617\n1523452673 988137562", "4232545716"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2018", "JOI（日本）"], "title": "[JOI 2018 Final] 美术展览 / Art Exhibition", "background": "JOI 共和国将举行一个艺术展。许多来自全国各地的艺术作品将在艺术展中展出。", "description": "有 $N$ 件艺术品是展览的候选作品。艺术品编号从 $1$ 到  $N$。每件艺术品都定义了两个整数：尺寸和价值。艺术品 $i$（$1 \\leq i \\leq N$）的尺寸为 $A_i$，艺术品 $i$ 的价值为 $B_i$。  \n在艺术展中，至少会选择并展示一件艺术品。由于展厅足够大，可以将 $N$ 件作品全部展示。但是，由于 JOI 共和国人的审美意识，我们希望展览选择的艺术品，使展出的艺术品尺寸之间的差异不会太大。另一方面，我们想展示许多具有高价值的艺术品。我们决定按照以下规则选择展览的艺术品：  \n- 在选择的展览作品中，$A_{max}$ 为所选作品中最大的尺寸，$A_{min}$ 为所选作品中最小的尺寸。设 $S$ 为所选艺术品的总价值。  \n- 然后，我们想要最大化 $S−(A_{max}−A_{min})$。  \n现给定展览的艺术品候选数量，以及每件艺术品的尺寸和价值，请编写一个程序来计算 $S−(A_{max}−A_{min})$ 的最大值。", "inputFormat": "第一行包含一个整数 $N$，即展览艺术品的候选数量。接下来的 $N$ 行的第 $i$ 行包含两个空格分隔的整数 $A_i$、$B_i$，这意味着艺术品 $i$ 的尺寸是 $A_i$，价值是 $B_i$。", "outputFormat": "唯一的一行包含一个整数为 $S−(A_{max}−A_{min})$ 的最大值。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$2 \\leq N \\leq 5×10^5$，$1 \\leq A_i \\leq 10^{15}$（$1 \\leq i \\leq N$），$1 \\leq B_i \\leq 10^9$（$1 \\leq i \\leq N$）。  \n- Subtask $1$（$10$ points）：$N \\leq 16$。  \n- Subtask $1$（$20$ points）：$N \\leq 300$。  \n- Subtask $2$（$20$ points）：$N \\leq 5000$。  \n- Subtask $3$（$50$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：本次展览共有 $3$ 幅作品候选。每件艺术品的尺寸和价值如下：  \n- 艺术品 $1$ 的尺寸为 $2$，价值为 $3$。  \n- 艺术品 $2$ 的尺寸为 $11$，价值为 $2$。  \n- 艺术品 $3$ 的尺寸为 $4$，价值为 $5$。  \n\n在这种情况下，如果我们为展览选择艺术品 $1$ 和艺术品 $3$，我们有 $S−(A_{max}−A_{min})$  如下：  \n- 在选择的艺术品中，艺术品 $3$ 的尺寸最大。因此，$A_{max} = 4$。  \n- 在所选的艺术品中，艺术品 $1$ 的尺寸最小。因此，$A_{min} = 2$。  \n- 所选艺术品的总价值为 $3+5=8$。因此，$S=8$。  \n由于 $S−(A_{max}−A_{min})$ 不能大于 $7$，因此输出 $6$。\n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T2：Art Exhibition](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t2-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2018 Final] 美术展览 / Art Exhibition", "background": "JOI 共和国将举行一个艺术展。许多来自全国各地的艺术作品将在艺术展中展出。", "description": "有 $N$ 件艺术品是展览的候选作品。艺术品编号从 $1$ 到  $N$。每件艺术品都定义了两个整数：尺寸和价值。艺术品 $i$（$1 \\leq i \\leq N$）的尺寸为 $A_i$，艺术品 $i$ 的价值为 $B_i$。  \n在艺术展中，至少会选择并展示一件艺术品。由于展厅足够大，可以将 $N$ 件作品全部展示。但是，由于 JOI 共和国人的审美意识，我们希望展览选择的艺术品，使展出的艺术品尺寸之间的差异不会太大。另一方面，我们想展示许多具有高价值的艺术品。我们决定按照以下规则选择展览的艺术品：  \n- 在选择的展览作品中，$A_{max}$ 为所选作品中最大的尺寸，$A_{min}$ 为所选作品中最小的尺寸。设 $S$ 为所选艺术品的总价值。  \n- 然后，我们想要最大化 $S−(A_{max}−A_{min})$。  \n现给定展览的艺术品候选数量，以及每件艺术品的尺寸和价值，请编写一个程序来计算 $S−(A_{max}−A_{min})$ 的最大值。", "inputFormat": "第一行包含一个整数 $N$，即展览艺术品的候选数量。接下来的 $N$ 行的第 $i$ 行包含两个空格分隔的整数 $A_i$、$B_i$，这意味着艺术品 $i$ 的尺寸是 $A_i$，价值是 $B_i$。", "outputFormat": "唯一的一行包含一个整数为 $S−(A_{max}−A_{min})$ 的最大值。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$2 \\leq N \\leq 5×10^5$，$1 \\leq A_i \\leq 10^{15}$（$1 \\leq i \\leq N$），$1 \\leq B_i \\leq 10^9$（$1 \\leq i \\leq N$）。  \n- Subtask $1$（$10$ points）：$N \\leq 16$。  \n- Subtask $1$（$20$ points）：$N \\leq 300$。  \n- Subtask $2$（$20$ points）：$N \\leq 5000$。  \n- Subtask $3$（$50$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：本次展览共有 $3$ 幅作品候选。每件艺术品的尺寸和价值如下：  \n- 艺术品 $1$ 的尺寸为 $2$，价值为 $3$。  \n- 艺术品 $2$ 的尺寸为 $11$，价值为 $2$。  \n- 艺术品 $3$ 的尺寸为 $4$，价值为 $5$。  \n\n在这种情况下，如果我们为展览选择艺术品 $1$ 和艺术品 $3$，我们有 $S−(A_{max}−A_{min})$  如下：  \n- 在选择的艺术品中，艺术品 $3$ 的尺寸最大。因此，$A_{max} = 4$。  \n- 在所选的艺术品中，艺术品 $1$ 的尺寸最小。因此，$A_{min} = 2$。  \n- 所选艺术品的总价值为 $3+5=8$。因此，$S=8$。  \n由于 $S−(A_{max}−A_{min})$ 不能大于 $7$，因此输出 $6$。\n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T2：Art Exhibition](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t2-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7668", "type": "P", "difficulty": 5, "samples": [["3 4\nRGWR\nGRGG\nRGWW", "3"], ["4 4\nRGWR\nGRRG\nWGGW\nWWWR", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2018", "JOI（日本）"], "title": "[JOI 2018 Final] 团子制作 / Dango Maker", "background": "你是一名专业的糕点师，制作团子，日本甜饺子。现在，你要串饺子了。", "description": "饺子被放置在具有 $N$ 行和 $M$ 列的单元格网格上。每个单元格包含一个饺子。每个饺子的颜色是红色（$\\texttt{R}$）、绿色（$\\texttt{G}$）或 白色（$\\texttt{W}$）。  \n您将从单元格中选择三个连续的饺子，并将它们串成一根棍子。所选的三个连续饺子的方向必须是从左到右，或从上到下。  \n现在，您要按此顺序制作颜色为红色、绿色、白色的饺子串。你想做尽可能多的饺子串。串到棍子上的饺子的顺序必须与从单元格中选择的饺子的顺序相同。一个饺子上不能串多根棍子。 \n你能做多少串饺子？  \n现给定放置在单元格上的饺子的颜色，请编写一个程序来计算您可以制作的饺子的最大数量。颜色必须按此顺序为红色、绿色、白色。", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $M$。接下来的 $N$ 行的第 $i$ 行包含大小为 $M$ 的字符串，由 $\\texttt{R}$、$\\texttt{G}$ 或 $\\texttt{W}$ 组成。该字符串的第 $j$ 个字符是从上数第 $i$ 行、从左数第 $j$ 列的饺子的颜色。", "outputFormat": "输出一个整数饺子串的最大数量。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq N \\leq 3000$，$1 \\leq M \\leq 3000$，$1 \\leq i \\leq N$，$1 \\leq j \\leq M$。  \n- Subtask $1$（$13$ points）：$N \\leq 4$，$M \\leq 4$。  \n- Subtask $2$（$20$ points）：$N \\leq 10$，$M \\leq 10$。  \n- Subtask $3$（$67$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：你能制作 $3$ 串饺子。 \n- 您从顶部的第一行和左侧的第一列中选择三个连续的饺子。方向是从左到右。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第一行和左数第 $4$ 列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第三行和左数第一列中选择三个连续的饺子。方向是从左到右。然后，你按照这个顺序把它们串成一串。  \n\n因为你不能做 $4$ 串，所以输出 $3$。  \n**对于样例 $2$**：你能制作 $4$ 串饺子。 \n- 您从顶部的第一行和左侧的第一列中选择三个连续的饺子。方向是从左到右。然后，你按照这个顺序把它们串成一串。  \n- 您从顶部的第一行和左侧的第 4 列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第二行和左数第二列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第二行和左数第三列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n\n因为你不能做 $5$ 串，所以输出 $4$。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T3：Dango Maker](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t3-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2018 Final] 团子制作 / Dango Maker", "background": "你是一名专业的糕点师，制作团子，日本甜饺子。现在，你要串饺子了。", "description": "饺子被放置在具有 $N$ 行和 $M$ 列的单元格网格上。每个单元格包含一个饺子。每个饺子的颜色是红色（$\\texttt{R}$）、绿色（$\\texttt{G}$）或 白色（$\\texttt{W}$）。  \n您将从单元格中选择三个连续的饺子，并将它们串成一根棍子。所选的三个连续饺子的方向必须是从左到右，或从上到下。  \n现在，您要按此顺序制作颜色为红色、绿色、白色的饺子串。你想做尽可能多的饺子串。串到棍子上的饺子的顺序必须与从单元格中选择的饺子的顺序相同。一个饺子上不能串多根棍子。 \n你能做多少串饺子？  \n现给定放置在单元格上的饺子的颜色，请编写一个程序来计算您可以制作的饺子的最大数量。颜色必须按此顺序为红色、绿色、白色。", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $M$。接下来的 $N$ 行的第 $i$ 行包含大小为 $M$ 的字符串，由 $\\texttt{R}$、$\\texttt{G}$ 或 $\\texttt{W}$ 组成。该字符串的第 $j$ 个字符是从上数第 $i$ 行、从左数第 $j$ 列的饺子的颜色。", "outputFormat": "输出一个整数饺子串的最大数量。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq N \\leq 3000$，$1 \\leq M \\leq 3000$，$1 \\leq i \\leq N$，$1 \\leq j \\leq M$。  \n- Subtask $1$（$13$ points）：$N \\leq 4$，$M \\leq 4$。  \n- Subtask $2$（$20$ points）：$N \\leq 10$，$M \\leq 10$。  \n- Subtask $3$（$67$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：你能制作 $3$ 串饺子。 \n- 您从顶部的第一行和左侧的第一列中选择三个连续的饺子。方向是从左到右。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第一行和左数第 $4$ 列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第三行和左数第一列中选择三个连续的饺子。方向是从左到右。然后，你按照这个顺序把它们串成一串。  \n\n因为你不能做 $4$ 串，所以输出 $3$。  \n**对于样例 $2$**：你能制作 $4$ 串饺子。 \n- 您从顶部的第一行和左侧的第一列中选择三个连续的饺子。方向是从左到右。然后，你按照这个顺序把它们串成一串。  \n- 您从顶部的第一行和左侧的第 4 列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第二行和左数第二列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n- 您从上数第二行和左数第三列中选择三个连续的饺子。方向是从上到下。然后，你按照这个顺序把它们串成一串。  \n\n因为你不能做 $5$ 串，所以输出 $4$。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T3：Dango Maker](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t3-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7669", "type": "P", "difficulty": 6, "samples": [["6 6\n1 6\n1 4\n1 2 1\n2 3 1\n3 5 1\n2 4 3\n4 5 2\n5 6 1", "2"], ["6 5\n1 2\n3 6\n1 2 1000000000 \n2 3 1000000000\n3 4 1000000000\n4 5 1000000000\n5 6 1000000000", "3000000000"], ["8 8\n5 7\n6 8\n1 2 2\n2 3 3\n3 4 4\n1 4 1\n1 5 5\n2 6 6\n3 7 7\n4 8 8", "15"], ["5 5\n1 5\n2 3\n1 2 1\n2 3 10\n2 4 10\n3 5 10\n4 5 10", "0"], ["10 15\n6 8\n7 9\n2 7 12\n8 10 17\n1 3 1\n3 8 14\n5 7 15\n2 3 7\n1 10 14\n3 6 12\n1 5 10\n8 9 1\n2 9 7\n1 4 1  \n1 8 1\n2 4 7\n5 6 16", "19"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "拓扑排序", "最短路", "JOI（日本）"], "title": "[JOI 2018 Final] 月票购买 / Commuter Pass", "background": "", "description": "JOI 君住在一个有 $N$ 个车站的城市。车站编号为 $1$ 至$N$。编号为 $1$ 至 $M$ 的有 $M$ 条铁路。铁路 $i$（$1 \\leq i \\leq M$）双向连接 $A_i$ 站和 $B_i$ 站，票价为 $C_i$ 日元。  \nJOI 君住在 $S$ 站附近，去 $T$ 站附近的 IOI 高中。他打算买一张连接这两个站的通勤票。当他购买通勤票时，他需要选择一条成本最低的 $S$ 站和 $T$ 站之间的路线。使用此通勤票，他可以沿任何方向乘坐所选路线中包含的任何铁路，而无需额外费用。  \nJOI 君经常去 $U$ 站和 $V$ 站附近的书店。因此，他想买一张通勤票，这样从 $U$ 站到 $V$ 站的费用可以降到最低。  \n当他从 $U$ 站移动到 $V$ 站时，他首先选择了一条从 $U$ 站到 $V$ 站的路线，那么他需要支付的车费是：  \n- $0$ 日元：如果铁路 $i$ 包含在他购买的通勤票时选择的路线中，或者，  \n- $C_i$ 日元：如果铁路 $i$ 不包含在他购买通勤票时选择的路线中。  \n\n上述票价的总和就是从 $U$ 站到 $V$ 站的成本。  \n他想知道如果他在购买通勤票时选择合适的路线，从 $U$ 站到 $V$ 站的最低成本。", "inputFormat": "第一行包含两个空格分隔的整数 $N$，$M$。这意味着 JOI 君居住的城市有 $N$ 个车站和 $M$ 条铁路。第二行包含两个空格分隔的整数 $S$，$T$。这意味着 JOI 君计划购买从 $S$ 站到 $T$ 站的通勤票。第三行包含两个空格分隔的整数 $U$，$V$。这意味着 JOI 君想要最小化从站 $U$ 到站 $V$ 的成本。接下来的 $M$ 行的第 $i$ 行包含三个空格分隔的整数 $A_i$，$B_i$，$C_i$。铁路 $i$ 双向连接 $A_i$ 站和 $B_i$ 站，票价为 $C_i$ 日元。", "outputFormat": "如果他在购买通勤票时选择了适当的路线，则输出应包含一个整数为从站 $U$ 到站 $V$ 的最小成本。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，  \n$2 \\leq N \\leq 10^5$，$1 \\leq M \\leq 2×10^5$，$1 \\leq S \\leq N$，$1 \\leq T \\leq N$，$1 \\leq U \\leq N$，$1 \\leq V \\leq N$，$S {=}\\mathllap{/\\,} T$，$U {=}\\mathllap{/\\,} V$，$ S{=}\\mathllap{/\\,} U$ 或 $T {=}\\mathllap{/\\,} V$，$1 \\leq A_i \\leq B_i \\leq N$（$1 \\leq i \\leq M$）。对于每 $1 \\leq i < j \\leq M$，$A_i {=}\\mathllap{/\\,} A_j$ 或 $B_i {=}\\mathllap{/\\,} B_j$，$1 \\leq C_i \\leq 10^9$（$1 \\leq i \\leq M$）。JOI 君可以从任何车站移动到任何其他车站乘坐铁路。  \n- Subtask $1$（$16$ points）：$S=U$。  \n- Subtask $2$（$15$ points）：从 $S$ 站到 $T$ 站有一条成本最低的唯一路线。  \n- Subtask $3$（$24$ points）：$N \\leq 300$。  \n- Subtask $4$（$45$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：JOI 君在购买通勤票时只能选择一条路线：$1$ 号站 → $2$ 号站 →$3$ 号站 → $5$ 号站 → $6$ 号站。为了尽量减少从 $1$ 号站到 $4$ 号站的成本 ，他选择以下路线：$1$ 站 → $2$ 站 → $3$ 站 → $5$ 站 → $4$ 站。选择这条路线时，他需要支付的车费为。  \n- $2$ 日元用于车站 $4$ 和车站 $5$ 的铁路 $5$，以及，  \n- $0$ 日元：其他铁路。  \n  \n**对于样例 $2$**：JOI 君从 $3$ 号站移动到 $6$ 号站时，不使用通勤票。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T4：Commuter Pass](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t4-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \n#### Hack 说明  \n[@gaojunqing](https://www.luogu.com.cn/user/536005) 于 2021 年 11 月 6 日向供题人提供一组 hack 数据，经过多次检验后于 2021 年 11 月 7 日加入到本题测试数据中。  \n出于对该 JOI 原题的尊重与体验考虑，一律所加入的 hack 数据均不做分值改变，即满分依然为 100 分，新增 hack 数据单独放置在 Subtask #5 ，且分数为 0 分。即如通过原所有测试数据而未通过 hack 数据，将获得 100 分但不能 AC，当且仅当通过全部测试数据方可 AC。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2018 Final] 月票购买 / Commuter Pass", "background": "", "description": "JOI 君住在一个有 $N$ 个车站的城市。车站编号为 $1$ 至$N$。编号为 $1$ 至 $M$ 的有 $M$ 条铁路。铁路 $i$（$1 \\leq i \\leq M$）双向连接 $A_i$ 站和 $B_i$ 站，票价为 $C_i$ 日元。  \nJOI 君住在 $S$ 站附近，去 $T$ 站附近的 IOI 高中。他打算买一张连接这两个站的通勤票。当他购买通勤票时，他需要选择一条成本最低的 $S$ 站和 $T$ 站之间的路线。使用此通勤票，他可以沿任何方向乘坐所选路线中包含的任何铁路，而无需额外费用。  \nJOI 君经常去 $U$ 站和 $V$ 站附近的书店。因此，他想买一张通勤票，这样从 $U$ 站到 $V$ 站的费用可以降到最低。  \n当他从 $U$ 站移动到 $V$ 站时，他首先选择了一条从 $U$ 站到 $V$ 站的路线，那么他需要支付的车费是：  \n- $0$ 日元：如果铁路 $i$ 包含在他购买的通勤票时选择的路线中，或者，  \n- $C_i$ 日元：如果铁路 $i$ 不包含在他购买通勤票时选择的路线中。  \n\n上述票价的总和就是从 $U$ 站到 $V$ 站的成本。  \n他想知道如果他在购买通勤票时选择合适的路线，从 $U$ 站到 $V$ 站的最低成本。", "inputFormat": "第一行包含两个空格分隔的整数 $N$，$M$。这意味着 JOI 君居住的城市有 $N$ 个车站和 $M$ 条铁路。第二行包含两个空格分隔的整数 $S$，$T$。这意味着 JOI 君计划购买从 $S$ 站到 $T$ 站的通勤票。第三行包含两个空格分隔的整数 $U$，$V$。这意味着 JOI 君想要最小化从站 $U$ 到站 $V$ 的成本。接下来的 $M$ 行的第 $i$ 行包含三个空格分隔的整数 $A_i$，$B_i$，$C_i$。铁路 $i$ 双向连接 $A_i$ 站和 $B_i$ 站，票价为 $C_i$ 日元。", "outputFormat": "如果他在购买通勤票时选择了适当的路线，则输出应包含一个整数为从站 $U$ 到站 $V$ 的最小成本。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，  \n$2 \\leq N \\leq 10^5$，$1 \\leq M \\leq 2×10^5$，$1 \\leq S \\leq N$，$1 \\leq T \\leq N$，$1 \\leq U \\leq N$，$1 \\leq V \\leq N$，$S {=}\\mathllap{/\\,} T$，$U {=}\\mathllap{/\\,} V$，$ S{=}\\mathllap{/\\,} U$ 或 $T {=}\\mathllap{/\\,} V$，$1 \\leq A_i \\leq B_i \\leq N$（$1 \\leq i \\leq M$）。对于每 $1 \\leq i < j \\leq M$，$A_i {=}\\mathllap{/\\,} A_j$ 或 $B_i {=}\\mathllap{/\\,} B_j$，$1 \\leq C_i \\leq 10^9$（$1 \\leq i \\leq M$）。JOI 君可以从任何车站移动到任何其他车站乘坐铁路。  \n- Subtask $1$（$16$ points）：$S=U$。  \n- Subtask $2$（$15$ points）：从 $S$ 站到 $T$ 站有一条成本最低的唯一路线。  \n- Subtask $3$（$24$ points）：$N \\leq 300$。  \n- Subtask $4$（$45$ points）：没有额外的限制。  \n#### 样例说明  \n**对于样例 $1$**：JOI 君在购买通勤票时只能选择一条路线：$1$ 号站 → $2$ 号站 →$3$ 号站 → $5$ 号站 → $6$ 号站。为了尽量减少从 $1$ 号站到 $4$ 号站的成本 ，他选择以下路线：$1$ 站 → $2$ 站 → $3$ 站 → $5$ 站 → $4$ 站。选择这条路线时，他需要支付的车费为。  \n- $2$ 日元用于车站 $4$ 和车站 $5$ 的铁路 $5$，以及，  \n- $0$ 日元：其他铁路。  \n  \n**对于样例 $2$**：JOI 君从 $3$ 号站移动到 $6$ 号站时，不使用通勤票。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T4：Commuter Pass](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t4-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \n#### Hack 说明  \n[@gaojunqing](https://www.luogu.com.cn/user/536005) 于 2021 年 11 月 6 日向供题人提供一组 hack 数据，经过多次检验后于 2021 年 11 月 7 日加入到本题测试数据中。  \n出于对该 JOI 原题的尊重与体验考虑，一律所加入的 hack 数据均不做分值改变，即满分依然为 100 分，新增 hack 数据单独放置在 Subtask #5 ，且分数为 0 分。即如通过原所有测试数据而未通过 hack 数据，将获得 100 分但不能 AC，当且仅当通过全部测试数据方可 AC。", "locale": "zh-CN"}}}
{"pid": "P7670", "type": "P", "difficulty": 6, "samples": [["3 5\n12345678\n000\n0??\n1?0\n?11\n???", "1\n10\n12\n12\n36"], ["4 8\n3141592653589793\n0101\n?01?\n??1?\n?0??\n1?00\n01?1\n??10\n????", "9\n18\n38\n30\n14\n15\n20\n80"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2018", "JOI（日本）"], "title": "[JOI 2018 Final] 毒蛇越狱 / Snake Escaping", "background": "**请注意本题特殊的内存限制。**", "description": "JOI 实验室有 $2^L$ 条毒蛇。蛇的编号为  $0,1,\\cdots,2^L−1$。每条蛇从头到尾分为  $L$ 个部分。每个部分的颜色是蓝色或红色。 对于毒蛇 $i$，令 $i = \\sum_{k=1}^{L} c_k2^{L-k}$（$0 \\leq c_k \\leq 1$）为 $i$ 的二进制表达式。那么，  \n- 如果 $c_k=0$，毒蛇 $i$ 从头开始的第 $k$ 部分的颜色是蓝色，  \n- 如果 $c_k=1$，毒蛇 $i$ 从头开始的第 $k$ 部分的颜色是红色。  \n\n每条毒蛇都有一个 $0$ 到 $9$ 之间的整数，包括 $0$ 和 $9$，为毒性。给出一个由 $\\texttt{0,1,2,3,4,5,6,7,8,9}$ 组成的长度为  $2^L$ 的字符串 $S$。第 $i$ 个字符（$1 \\leq i \\leq 2^L$）是毒蛇 $i−1$ 的毒性。由于毒蛇行动迅速，所以经常从 JOI 实验室逃走。住在实验室附近的人向 JOI 实验室投诉，他们看到毒蛇从实验室逃逸。您将收到 $Q$ 天的投诉清单。 第 $d$ 天的投诉（$1 \\leq d \\leq Q$）是一个长度为 $L$ 的字符串 $T_d$，由 $\\texttt{0,1,?}$ 组成。  \n- 如果 $T_d$ 的第 $j$ 个字符（$1 \\leq j ≤ L$）为 $\\texttt{0}$，这意味着第 $d$ 天从实验室逃出的每条毒蛇的第 $j$ 个部分是蓝色的，  \n- 如果 $T_d$ 的第 $j$ 个字符（$1 \\leq j \\leq L$）为 $\\texttt{1}$，这意味着第 $d$ 天从实验室逃出的每条毒蛇的第 $j$ 部分是红色的，并且  \n- 如果 $T_d$ 的第 $j$ 个字符（$1 \\leq j \\leq L$）为 $\\texttt{?}$，这意味着人们没有提供关于第 $d$ 天从实验室逃逸的毒蛇的第 $j$ 部分的信息。  \n\n所有的投诉都是准确的信息。所有从实验室逃逸的毒蛇都在同一天被 JOI 实验室的工作人员收留。可能发生同一条蛇在不同的日子逃脱。  \nJOI 实验室执行主任 K 教授为了估计毒蛇逃逸的风险，想知道可能逃出实验室的毒蛇的毒性总和。 你的任务是编写一个程序，根据 $Q$ 天的投诉列表，计算每天可能从实验室逃逸的蛇的毒性总和。  \n现给定描述毒蛇毒性的字符串 $S$ 和 $Q$ 天的投诉列表，请编写一个程序来计算每天可能从实验室逃逸的蛇的毒性总和。  \n", "inputFormat": "第一行包含两个空格分隔的整数 $L$，$Q$，分别是每条毒蛇的部位数和投诉天数。第二行包含长度为 $2^L$ 的字符串 $S$，描述了毒蛇的毒性。后面 $Q$ 行的第 $d$ 行包含一个长度为 $L$ 的字符串 $T_d$，为第 $d$ 天的投诉。", "outputFormat": "共 $Q$ 行，第 $d$ 行应包含一个整数，即第 $d$ 天可能从实验室逃逸的蛇的毒性总和。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq L \\leq 20$，$1 \\leq Q \\leq 10^6$，$S$ 是长度为 $2^L$ 的字符串，字符串 $S$ 由 $\\texttt{0,1,2,3,4,5,6,7,8,9}$ 组成，$T_d$ 是长度为 $L$（$1 \\leq d \\leq Q$）的字符串，字符串 $T_d$ 由 $\\texttt{0,1,?}$（$1 \\leq d \\leq Q$）组成。  \n- Subtask $1$（$5$ points）：$L \\leq 10$，$Q \\leq 1000$。  \n- Subtask $2$（$7$ points）：$L \\leq 10$。  \n- Subtask $3$（$10$ points）：$L \\leq 13$。  \n- Subtask $4$（$53$ points）：$Q \\leq 5000$。  \n- Subtask $5$（$25$ points）：没有额外的限制。  \n\n#### 样例说明  \n**对于样例 $1$**：$L=3$，共 $2^3=8$条毒蛇，它们中的每一条都分为 $3$ 个部分。 投诉时间为 $5$ 天。  \n- 第一天，可能逃出实验室的毒蛇只有毒蛇 $0$。毒性总和为 $1$。  \n- 第二天，可能从实验室逃逸的毒蛇是毒蛇 $0,1,2,3$。毒性总和为 $10$。  \n- 第三天，可能从实验室逃逸的毒蛇是毒蛇  $4,6$。毒性总和为 $12$。  \n- 第四天，可能从实验室逃逸的毒蛇是毒蛇 $3,7$。毒性总和是 $12$。  \n- 第五天，可能从实验室逃逸的毒蛇是毒蛇 $0,1,2,3,4,5,6,7$。毒性总和为 $36$。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T5：Snake Escaping](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t5-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2018 Final] 毒蛇越狱 / Snake Escaping", "background": "**请注意本题特殊的内存限制。**", "description": "JOI 实验室有 $2^L$ 条毒蛇。蛇的编号为  $0,1,\\cdots,2^L−1$。每条蛇从头到尾分为  $L$ 个部分。每个部分的颜色是蓝色或红色。 对于毒蛇 $i$，令 $i = \\sum_{k=1}^{L} c_k2^{L-k}$（$0 \\leq c_k \\leq 1$）为 $i$ 的二进制表达式。那么，  \n- 如果 $c_k=0$，毒蛇 $i$ 从头开始的第 $k$ 部分的颜色是蓝色，  \n- 如果 $c_k=1$，毒蛇 $i$ 从头开始的第 $k$ 部分的颜色是红色。  \n\n每条毒蛇都有一个 $0$ 到 $9$ 之间的整数，包括 $0$ 和 $9$，为毒性。给出一个由 $\\texttt{0,1,2,3,4,5,6,7,8,9}$ 组成的长度为  $2^L$ 的字符串 $S$。第 $i$ 个字符（$1 \\leq i \\leq 2^L$）是毒蛇 $i−1$ 的毒性。由于毒蛇行动迅速，所以经常从 JOI 实验室逃走。住在实验室附近的人向 JOI 实验室投诉，他们看到毒蛇从实验室逃逸。您将收到 $Q$ 天的投诉清单。 第 $d$ 天的投诉（$1 \\leq d \\leq Q$）是一个长度为 $L$ 的字符串 $T_d$，由 $\\texttt{0,1,?}$ 组成。  \n- 如果 $T_d$ 的第 $j$ 个字符（$1 \\leq j ≤ L$）为 $\\texttt{0}$，这意味着第 $d$ 天从实验室逃出的每条毒蛇的第 $j$ 个部分是蓝色的，  \n- 如果 $T_d$ 的第 $j$ 个字符（$1 \\leq j \\leq L$）为 $\\texttt{1}$，这意味着第 $d$ 天从实验室逃出的每条毒蛇的第 $j$ 部分是红色的，并且  \n- 如果 $T_d$ 的第 $j$ 个字符（$1 \\leq j \\leq L$）为 $\\texttt{?}$，这意味着人们没有提供关于第 $d$ 天从实验室逃逸的毒蛇的第 $j$ 部分的信息。  \n\n所有的投诉都是准确的信息。所有从实验室逃逸的毒蛇都在同一天被 JOI 实验室的工作人员收留。可能发生同一条蛇在不同的日子逃脱。  \nJOI 实验室执行主任 K 教授为了估计毒蛇逃逸的风险，想知道可能逃出实验室的毒蛇的毒性总和。 你的任务是编写一个程序，根据 $Q$ 天的投诉列表，计算每天可能从实验室逃逸的蛇的毒性总和。  \n现给定描述毒蛇毒性的字符串 $S$ 和 $Q$ 天的投诉列表，请编写一个程序来计算每天可能从实验室逃逸的蛇的毒性总和。  \n", "inputFormat": "第一行包含两个空格分隔的整数 $L$，$Q$，分别是每条毒蛇的部位数和投诉天数。第二行包含长度为 $2^L$ 的字符串 $S$，描述了毒蛇的毒性。后面 $Q$ 行的第 $d$ 行包含一个长度为 $L$ 的字符串 $T_d$，为第 $d$ 天的投诉。", "outputFormat": "共 $Q$ 行，第 $d$ 行应包含一个整数，即第 $d$ 天可能从实验室逃逸的蛇的毒性总和。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq L \\leq 20$，$1 \\leq Q \\leq 10^6$，$S$ 是长度为 $2^L$ 的字符串，字符串 $S$ 由 $\\texttt{0,1,2,3,4,5,6,7,8,9}$ 组成，$T_d$ 是长度为 $L$（$1 \\leq d \\leq Q$）的字符串，字符串 $T_d$ 由 $\\texttt{0,1,?}$（$1 \\leq d \\leq Q$）组成。  \n- Subtask $1$（$5$ points）：$L \\leq 10$，$Q \\leq 1000$。  \n- Subtask $2$（$7$ points）：$L \\leq 10$。  \n- Subtask $3$（$10$ points）：$L \\leq 13$。  \n- Subtask $4$（$53$ points）：$Q \\leq 5000$。  \n- Subtask $5$（$25$ points）：没有额外的限制。  \n\n#### 样例说明  \n**对于样例 $1$**：$L=3$，共 $2^3=8$条毒蛇，它们中的每一条都分为 $3$ 个部分。 投诉时间为 $5$ 天。  \n- 第一天，可能逃出实验室的毒蛇只有毒蛇 $0$。毒性总和为 $1$。  \n- 第二天，可能从实验室逃逸的毒蛇是毒蛇 $0,1,2,3$。毒性总和为 $10$。  \n- 第三天，可能从实验室逃逸的毒蛇是毒蛇  $4,6$。毒性总和为 $12$。  \n- 第四天，可能从实验室逃逸的毒蛇是毒蛇 $3,7$。毒性总和是 $12$。  \n- 第五天，可能从实验室逃逸的毒蛇是毒蛇 $0,1,2,3,4,5,6,7$。毒性总和为 $36$。  \n#### 题目说明：  \n来源于 The 17th Japanese Olympiad in Informatics (JOI 2017/2018) Final Round 的 [T5：Snake Escaping](https://www.ioi-jp.org/joi/2017/2018-ho/2018-ho-t5-en.pdf)。  \n由 @[求学的企鹅](/user/271784) 翻译整理。", "locale": "zh-CN"}}}
{"pid": "P7671", "type": "P", "difficulty": 7, "samples": [["5 6\n1 2\n2 3\n3 4\n4 5\n1 2 3 4 5\n1 1 5 2\n3 0\n1 1 3 2\n1 3 4 2\n3 2\n2 1 5", "73"], ["5 4\n1 2\n1 3\n2 4\n3 5\n1 1 1 2 2\n1 1 4 2\n2 1 4\n3 12\n2 13 8", "12\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2016", "各省省选", "广东", "树链剖分", "可持久化线段树"], "title": "[GDOI2016] 疯狂动物城", "background": "原题空间限制 512MB。\n\n---\n\nNick 是只在动物城以坑蒙拐骗为生的狐狸，儿时受到偏见的伤害，放弃了自己的理想。他被兔子 Judy 设下圈套，被迫与她合作查案，而卷入意想不到的阴谋，历尽艰险后成为搭档。他们识破了绵羊副市长 Bellwether 的计划，发现是 Bellwether 陷害食肉动物，用毒药让食肉动物发狂。Bellwether 被抓到了监狱里面， Nick 和 Judy 过上了一段平静的日子。\n\n然而，故事并没有这样结束，之前在车管所帮他们查车牌号的憨厚的树懒 Flash，才是陷害食肉动物事件的幕后主使。Flash 批量制作了大量让食肉动物发狂的药剂，投放到了食肉动物群中。现在，大量的食肉动物被感染，动物城陷入了一片混乱。警察局的牛局长 Bogo 找到了 Nick，希望他能帮忙。幸运的是，动物城联邦安全局非常有先见之明，他们在每个州都秘密放置了一台机器，机器能生产能量石，这些能量石能让食肉动物恢复正常。现在 Nick 和 Judy 需要去启动这些机器。", "description": "**提示：我们在文末提供了一份形式化题意。**\n\n动物城是一个有 $N$ 个州的联邦，该联邦是一个树的形状，即 $N$ 个州共有 $N-1$ 条双向道路连接它们，且 $N$ 个州是相互连通的。$N$ 个州的编号依次为 $1,2,3,\\dots,N$。每个州都有且仅有一台机器。一台机器启动后的下一个时刻，就会开始生产能量石，每个单位时间生产一个。能量石从被生产的时刻开始即生效，每一个单位时间能救一定数量的食肉动物。每个州的解毒机器制造出的能量石的品种可能是不同，第 $i$ 个州的机器生产的能量石每个单位时间能救 $a_i$ 只食肉动物。\n   \n   Nick 和 Judy 剩下的时间不多了，他们决定分工合作。 Nick 从 $X$ 州出发，目的地为 $Y$ 州，路径为 $X$ 到 $Y$ 的最短路径。 Nick 从 $X$ 州出发的时刻为 $0$，每隔一个单位时间移动一个州。每到一个州，Nick 就会启动这个州的机器。 Nick 想知道他从 $X$ 州出发到达 $Y$ 州的这段时间里，一共有多少食肉动物被拯救。Nick 在纠结他的路线选择，因此，他会给你若干的询问，希望比他更聪明的你能帮助他。\n\n   在他给你询问的过程中，动物城的局势也在发生着一些变化。动物城联邦安全局可以执行一个修改操作 $X,Y,\\Delta$，会对 $X$ 州到 $Y$ 州的最短路径上的州（包括 $X,Y$ 州）的机器进行升级，这样，这些机器生产出来的能量石，每个单位时间能救的食肉动物的数量会增加 $\\Delta$。\n   \n   树懒 Flash 当然也不会坐以待毙，他有一台监控仪，会监控每个州的机器的情况，每当有机器被升级，监控仪就会保存下当前所有州的机器的属性 $a_i$。Flash 可以用一种神秘的武器执行一个读取操作 $X$，把当前各个州的机器恢复到第 $X$ 次保存的状态（$X=0$ 表示未进行过升级时的初始状态）。注意，只有修改操作执行的时后会进行保存。\n\n   现在，依次给出 $M$ 个操作，若该操作为一个询问，请你输出 Nick 在当前局面下，他从 $X$ 州出发到达 $Y$ 州的这段时间里，一共有多少食肉动物被拯救，由于这个答案可能很大，你只需要输出答案模 $20160501$ 后的值。请注意，$M$ 个操作都是被加密过的。\n   \n****\n\n**形式化题意**：\n\n给你一棵 $N$ 个点的树，接下来有三种操作共 $M$ 次：\n\n- `1 x y w`，表示将 $x$ 到 $y$ 的路径上的所有点的点权加上 $w$。\n- `2 x y`，表示一次询问。记 $x$ 到 $y$ 的路径上的点集为 $S(x,y)$，点 $p,q$ 之间的路径长度为 $\\text{dis}(p,q)$，求出 $\\sum_{i\\in S(x,y)}\\sum_{j\\le \\text{dis}(i,y)}a_i\\cdot j$ 的值。将答案对 $20160501$ 取模。\n- `3 x`，表示将这棵树的所有点权恢复到第 $x$ 次 `1` 操作之后的状态。\n\n强制在线。", "inputFormat": "第一行 $2$ 个整数 $N,M$ 表示节点个数和操作次数。\n\n接下来 $N-1$ 每行 $2$ 个整数 $u,v$ 表示了这棵树中 $u$ 和 $v$ 这 $2$ 个州间有边相连。\n\n接下来一行 $N$ 个整数, 表示这 $N$ 个州的机器制造的能量 $a_i$ 的初始值。\n\n接下来 $M$ 行每行先有一个数字表示了操作的类型：\n\n- 类型 1，代表一个修改操作，接下来有 $3$ 个整数 $X',Y',\\Delta$。\n- 类型 2，代表一个询问操作，接下来有 $2$ 个整数 $X',Y'$。\n- 类型 3，代表一次读取操作，接下来 $1$ 个整数 $X'$。\n   \n其中 $X',Y'$ 表示加密后的数字。正确的 $X=X' \\text{xor lastans} ,Y=Y' \\text{xor lastans}$。其中 $\\text{lastans}$ 为上次 `2` 操作取模后的答案，如果之前没有 `2` 操作过那么其值等于 $0$。", "outputFormat": " 对于每个操作 `2`，输出一行，每行一个数，为所询问的答案模 $20160501$ 后的值。", "hint": "对于所有数据，保证 $1\\le n,m\\le 10^5$，$1\\le a_i,\\Delta\\le 10^5$，$1\\le x,y\\le n$。\n\n对于其中 $20\\%$ 的数据，保证 $n,m\\le 2000$。\n\n对于另外 $20\\%$ 的数据，保证树为一条链，且不含有操作 `3`。\n\n对于另外 $40\\%$ 的数据，保证树为一条链。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[GDOI2016] 疯狂动物城", "background": "原题空间限制 512MB。\n\n---\n\nNick 是只在动物城以坑蒙拐骗为生的狐狸，儿时受到偏见的伤害，放弃了自己的理想。他被兔子 Judy 设下圈套，被迫与她合作查案，而卷入意想不到的阴谋，历尽艰险后成为搭档。他们识破了绵羊副市长 Bellwether 的计划，发现是 Bellwether 陷害食肉动物，用毒药让食肉动物发狂。Bellwether 被抓到了监狱里面， Nick 和 Judy 过上了一段平静的日子。\n\n然而，故事并没有这样结束，之前在车管所帮他们查车牌号的憨厚的树懒 Flash，才是陷害食肉动物事件的幕后主使。Flash 批量制作了大量让食肉动物发狂的药剂，投放到了食肉动物群中。现在，大量的食肉动物被感染，动物城陷入了一片混乱。警察局的牛局长 Bogo 找到了 Nick，希望他能帮忙。幸运的是，动物城联邦安全局非常有先见之明，他们在每个州都秘密放置了一台机器，机器能生产能量石，这些能量石能让食肉动物恢复正常。现在 Nick 和 Judy 需要去启动这些机器。", "description": "**提示：我们在文末提供了一份形式化题意。**\n\n动物城是一个有 $N$ 个州的联邦，该联邦是一个树的形状，即 $N$ 个州共有 $N-1$ 条双向道路连接它们，且 $N$ 个州是相互连通的。$N$ 个州的编号依次为 $1,2,3,\\dots,N$。每个州都有且仅有一台机器。一台机器启动后的下一个时刻，就会开始生产能量石，每个单位时间生产一个。能量石从被生产的时刻开始即生效，每一个单位时间能救一定数量的食肉动物。每个州的解毒机器制造出的能量石的品种可能是不同，第 $i$ 个州的机器生产的能量石每个单位时间能救 $a_i$ 只食肉动物。\n   \n   Nick 和 Judy 剩下的时间不多了，他们决定分工合作。 Nick 从 $X$ 州出发，目的地为 $Y$ 州，路径为 $X$ 到 $Y$ 的最短路径。 Nick 从 $X$ 州出发的时刻为 $0$，每隔一个单位时间移动一个州。每到一个州，Nick 就会启动这个州的机器。 Nick 想知道他从 $X$ 州出发到达 $Y$ 州的这段时间里，一共有多少食肉动物被拯救。Nick 在纠结他的路线选择，因此，他会给你若干的询问，希望比他更聪明的你能帮助他。\n\n   在他给你询问的过程中，动物城的局势也在发生着一些变化。动物城联邦安全局可以执行一个修改操作 $X,Y,\\Delta$，会对 $X$ 州到 $Y$ 州的最短路径上的州（包括 $X,Y$ 州）的机器进行升级，这样，这些机器生产出来的能量石，每个单位时间能救的食肉动物的数量会增加 $\\Delta$。\n   \n   树懒 Flash 当然也不会坐以待毙，他有一台监控仪，会监控每个州的机器的情况，每当有机器被升级，监控仪就会保存下当前所有州的机器的属性 $a_i$。Flash 可以用一种神秘的武器执行一个读取操作 $X$，把当前各个州的机器恢复到第 $X$ 次保存的状态（$X=0$ 表示未进行过升级时的初始状态）。注意，只有修改操作执行的时后会进行保存。\n\n   现在，依次给出 $M$ 个操作，若该操作为一个询问，请你输出 Nick 在当前局面下，他从 $X$ 州出发到达 $Y$ 州的这段时间里，一共有多少食肉动物被拯救，由于这个答案可能很大，你只需要输出答案模 $20160501$ 后的值。请注意，$M$ 个操作都是被加密过的。\n   \n****\n\n**形式化题意**：\n\n给你一棵 $N$ 个点的树，接下来有三种操作共 $M$ 次：\n\n- `1 x y w`，表示将 $x$ 到 $y$ 的路径上的所有点的点权加上 $w$。\n- `2 x y`，表示一次询问。记 $x$ 到 $y$ 的路径上的点集为 $S(x,y)$，点 $p,q$ 之间的路径长度为 $\\text{dis}(p,q)$，求出 $\\sum_{i\\in S(x,y)}\\sum_{j\\le \\text{dis}(i,y)}a_i\\cdot j$ 的值。将答案对 $20160501$ 取模。\n- `3 x`，表示将这棵树的所有点权恢复到第 $x$ 次 `1` 操作之后的状态。\n\n强制在线。", "inputFormat": "第一行 $2$ 个整数 $N,M$ 表示节点个数和操作次数。\n\n接下来 $N-1$ 每行 $2$ 个整数 $u,v$ 表示了这棵树中 $u$ 和 $v$ 这 $2$ 个州间有边相连。\n\n接下来一行 $N$ 个整数, 表示这 $N$ 个州的机器制造的能量 $a_i$ 的初始值。\n\n接下来 $M$ 行每行先有一个数字表示了操作的类型：\n\n- 类型 1，代表一个修改操作，接下来有 $3$ 个整数 $X',Y',\\Delta$。\n- 类型 2，代表一个询问操作，接下来有 $2$ 个整数 $X',Y'$。\n- 类型 3，代表一次读取操作，接下来 $1$ 个整数 $X'$。\n   \n其中 $X',Y'$ 表示加密后的数字。正确的 $X=X' \\text{xor lastans} ,Y=Y' \\text{xor lastans}$。其中 $\\text{lastans}$ 为上次 `2` 操作取模后的答案，如果之前没有 `2` 操作过那么其值等于 $0$。", "outputFormat": " 对于每个操作 `2`，输出一行，每行一个数，为所询问的答案模 $20160501$ 后的值。", "hint": "对于所有数据，保证 $1\\le n,m\\le 10^5$，$1\\le a_i,\\Delta\\le 10^5$，$1\\le x,y\\le n$。\n\n对于其中 $20\\%$ 的数据，保证 $n,m\\le 2000$。\n\n对于另外 $20\\%$ 的数据，保证树为一条链，且不含有操作 `3`。\n\n对于另外 $40\\%$ 的数据，保证树为一条链。\n", "locale": "zh-CN"}}}
{"pid": "P7672", "type": "P", "difficulty": 2, "samples": [["4\nlas\ngod\npsala\nsal ", "3 a"], ["4\nkisik\nptq\ntttrp\ntulipan", "5 s"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #5] LOZINKA", "background": "", "description": "给出一些长度为奇数的字符串，请你找出一个字符串，且它反转后的字符串也在给出的字符串中。\n\n例如：字符串 `abcca`，如果满足条件，则字符串 `accba` 也必须出现在输入的字符串中。\n\n输出这个字符串的长度和它处于最中间的字符。", "inputFormat": "输入共 $n+1$ 行：\n\n第 $1$ 行，一个整数 $n$，表示给出的字符串的个数；\n\n第 $2$ 至 $n+1$ 行，每行一个字符串。 ", "outputFormat": "输出共 $1$ 行，一个整数和一个字符，用空格隔开，分别表示符合要求的字符串的长度和它处于字符串中间的字符。", "hint": "**【样例解释 #1】**\n\n`las` 和 `sal` 是符合要求的字符串对，长度为 $3$，中间的字符为 `a`。\n\n**【样例解释 #2】**\n\n`kisik` 是回文串，翻转后的字符串仍是 `kisik`，满足要求。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$，$3\\le $ 字符串长度 $\\le 13$，所有字符串均由小写字母组成，保证答案是唯一的。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T1 LOZINKA**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #5] LOZINKA", "background": "", "description": "给出一些长度为奇数的字符串，请你找出一个字符串，且它反转后的字符串也在给出的字符串中。\n\n例如：字符串 `abcca`，如果满足条件，则字符串 `accba` 也必须出现在输入的字符串中。\n\n输出这个字符串的长度和它处于最中间的字符。", "inputFormat": "输入共 $n+1$ 行：\n\n第 $1$ 行，一个整数 $n$，表示给出的字符串的个数；\n\n第 $2$ 至 $n+1$ 行，每行一个字符串。 ", "outputFormat": "输出共 $1$ 行，一个整数和一个字符，用空格隔开，分别表示符合要求的字符串的长度和它处于字符串中间的字符。", "hint": "**【样例解释 #1】**\n\n`las` 和 `sal` 是符合要求的字符串对，长度为 $3$，中间的字符为 `a`。\n\n**【样例解释 #2】**\n\n`kisik` 是回文串，翻转后的字符串仍是 `kisik`，满足要求。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le n\\le 100$，$3\\le $ 字符串长度 $\\le 13$，所有字符串均由小写字母组成，保证答案是唯一的。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $50$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T1 LOZINKA**_", "locale": "zh-CN"}}}
{"pid": "P7673", "type": "P", "difficulty": 3, "samples": [["2\n2 1 3 ", "1\n2 3 "], ["3\n1 6 4 3 5 2 7", "3\n6 2\n1 4 5 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #5] OBILAZAK", "background": "", "description": "给出一棵有 $2^K-1$ 个节点的完全二叉树，遍历这棵树的规律如下：\n\n- 起点是二叉树第一层的唯一一个节点。\n\n- 如果当前节点的左孩子还没有记录到，那么就记录左孩子的编号并移动到左孩子处。\n\n- 如果当前节点没有左孩子或者左孩子已经记录过，就记录当前节点的编号。\n\n- 如果当前节点已经记录过，那么就记录右孩子的编号并移动到右孩子处。\n\n- 如果当前节点及此节点的左右孩子都已经记录过，那么就移动到当前节点的父节点处。\n\n现在给出从第一层的节点出发记录下的编号顺序，请你求出原本的完全二叉树。", "inputFormat": "第一行，一个整数 $K$，表示这个完全二叉树有 $2^K-1$ 个节点；\n\n第二行，$2^K-1$ 个整数，表示从第一层的节点出发记录下的编号顺序。", "outputFormat": "输出共 $K$ 行，为原本的完全二叉树。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wk4ai6vq.png)\n\n先移动到节点 $1$，发现左孩子没有记录，移动到节点 $2$ 并记录节点 $2$；发现节点 $2$ 没有孩子，返回节点 $1$ ，发现此节点没有记录，记录节点 $1$；发现右孩子没有记录，移动到节点 $3$ 并记录节点 $3$。\n\n**【样例解释 #2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e8txnko0.png)\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le K\\le 10$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $80$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T2 OBILAZAK**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #5] OBILAZAK", "background": "", "description": "给出一棵有 $2^K-1$ 个节点的完全二叉树，遍历这棵树的规律如下：\n\n- 起点是二叉树第一层的唯一一个节点。\n\n- 如果当前节点的左孩子还没有记录到，那么就记录左孩子的编号并移动到左孩子处。\n\n- 如果当前节点没有左孩子或者左孩子已经记录过，就记录当前节点的编号。\n\n- 如果当前节点已经记录过，那么就记录右孩子的编号并移动到右孩子处。\n\n- 如果当前节点及此节点的左右孩子都已经记录过，那么就移动到当前节点的父节点处。\n\n现在给出从第一层的节点出发记录下的编号顺序，请你求出原本的完全二叉树。", "inputFormat": "第一行，一个整数 $K$，表示这个完全二叉树有 $2^K-1$ 个节点；\n\n第二行，$2^K-1$ 个整数，表示从第一层的节点出发记录下的编号顺序。", "outputFormat": "输出共 $K$ 行，为原本的完全二叉树。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wk4ai6vq.png)\n\n先移动到节点 $1$，发现左孩子没有记录，移动到节点 $2$ 并记录节点 $2$；发现节点 $2$ 没有孩子，返回节点 $1$ ，发现此节点没有记录，记录节点 $1$；发现右孩子没有记录，移动到节点 $3$ 并记录节点 $3$。\n\n**【样例解释 #2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e8txnko0.png)\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le K\\le 10$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $80$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T2 OBILAZAK**_", "locale": "zh-CN"}}}
{"pid": "P7674", "type": "P", "difficulty": 3, "samples": [["mirkovC4nizCC44\nC4 ", "mirkovniz"], ["12ab112ab2ab\n12ab", "FRULA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #5]  EKSPLOZIJA", "background": "", "description": "给出一个字符串和一个目标字符串，在给出的字符串中找到所有的目标字符串并删除。\n\n将剩下的小字符串按照原来的顺序拼接，再继续在剩下的字符串中持续这种操作，直到没有更多的目标字符串出现为止。\n\n请打印出剩下的字符串。如果没有剩下的字符串，输出 `FRULA`。", "inputFormat": "第一行，一个字符串，表示原字符串；\n\n第二行，一个字符串，表示目标字符串。", "outputFormat": "一行，一个字符串，表示剩下的字符串。", "hint": "**【样例解释 #1】**\n\n第一次删除，原字符串变为 `mirkov**nizC**4` （`*` 表示被删除的字符），即 `mirkovnizC4`。\n\n第二次删除，字符串变为 `mirkovniz**`，即 `mirkovniz`。\n\n**【样例解释 #2】**\n\n第一次删除，原字符串变为 `****1****2ab` （`*` 表示被删除的字符），即 `12ab`。\n\n第二次删除，字符串变为 `****`。故输出 `FRULA`。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1\\le $ 原字符串长度 $\\le 3000$；\n\n对于 $100\\%$ 的数据，$1\\le $ 原字符串长度 $\\le 10^6$，$1\\le $ 目标字符串长度 $\\le 36$，所有字符串均由大写字母、小写字母和数字 $0,1...9$ 组成，保证目标字符串中没有重复的字符。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T3 EKSPLOZIJA**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #5]  EKSPLOZIJA", "background": "", "description": "给出一个字符串和一个目标字符串，在给出的字符串中找到所有的目标字符串并删除。\n\n将剩下的小字符串按照原来的顺序拼接，再继续在剩下的字符串中持续这种操作，直到没有更多的目标字符串出现为止。\n\n请打印出剩下的字符串。如果没有剩下的字符串，输出 `FRULA`。", "inputFormat": "第一行，一个字符串，表示原字符串；\n\n第二行，一个字符串，表示目标字符串。", "outputFormat": "一行，一个字符串，表示剩下的字符串。", "hint": "**【样例解释 #1】**\n\n第一次删除，原字符串变为 `mirkov**nizC**4` （`*` 表示被删除的字符），即 `mirkovnizC4`。\n\n第二次删除，字符串变为 `mirkovniz**`，即 `mirkovniz`。\n\n**【样例解释 #2】**\n\n第一次删除，原字符串变为 `****1****2ab` （`*` 表示被删除的字符），即 `12ab`。\n\n第二次删除，字符串变为 `****`。故输出 `FRULA`。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1\\le $ 原字符串长度 $\\le 3000$；\n\n对于 $100\\%$ 的数据，$1\\le $ 原字符串长度 $\\le 10^6$，$1\\le $ 目标字符串长度 $\\le 36$，所有字符串均由大写字母、小写字母和数字 $0,1...9$ 组成，保证目标字符串中没有重复的字符。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $100$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T3 EKSPLOZIJA**_", "locale": "zh-CN"}}}
{"pid": "P7675", "type": "P", "difficulty": 4, "samples": [["5 3\n2 1 -1\n1 3 2\n0 2 3\n2 1 1\n3 3 0 ", "16 "], ["2 2\n0 4 1\n3 5 1 ", "13"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #5] DOMINE", "background": "", "description": "给出一个 $N\\times 3$ 的棋盘，上面写有数字。给你 $K$ 块 $1\\times 2$ 的多米诺骨牌，请你求出用这 $K$ 块骨牌能覆盖的棋盘上的数字之和的最大值。", "inputFormat": "第一行，两个整数 $N$ 和 $K$，分别表示棋盘的行数和骨牌块数；\n\n接下来 $N$ 行，每行 $3$ 个整数，表示棋盘上的数字。", "outputFormat": "输出一个整数，表示这 $K$ 块骨牌能覆盖的棋盘上的数字之和的最大值。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r38fixsz.png)\n\n如图，总和为 $3+2+2+3+3+3=16$，可以证明这是最大的。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N,K\\le 1000$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $120$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T4  DOMINE**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #5] DOMINE", "background": "", "description": "给出一个 $N\\times 3$ 的棋盘，上面写有数字。给你 $K$ 块 $1\\times 2$ 的多米诺骨牌，请你求出用这 $K$ 块骨牌能覆盖的棋盘上的数字之和的最大值。", "inputFormat": "第一行，两个整数 $N$ 和 $K$，分别表示棋盘的行数和骨牌块数；\n\n接下来 $N$ 行，每行 $3$ 个整数，表示棋盘上的数字。", "outputFormat": "输出一个整数，表示这 $K$ 块骨牌能覆盖的棋盘上的数字之和的最大值。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r38fixsz.png)\n\n如图，总和为 $3+2+2+3+3+3=16$，可以证明这是最大的。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N,K\\le 1000$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $120$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T4  DOMINE**_", "locale": "zh-CN"}}}
{"pid": "P7676", "type": "P", "difficulty": 4, "samples": [["6\n0 1 0\n-5 3 0\n-5 -2 25\n0 1 -3\n0 1 -2\n-4 -5 29 ", "10"], ["5\n-5 3 0\n-5 -3 -30\n0 1 0\n3 7 35\n1 -2 -1 ", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #5] TROKUTI", "background": "", "description": "给定 $N$ 条在平面直角坐标系内的直线，这些直线上的点满足 $A_ix+B_iy+C_i=0$。\n\n请你求出这些直线围出的三角形个数，答案对 $10^9+7$ 取模。\n\n保证没有三线共点。", "inputFormat": "第一行，一个整数 $N$，表示直线条数；\n\n接下来 $N$ 行，每行 $3$ 个 $A_i,B_i,C_i$，表示直线 $i$ 满足的条件。", "outputFormat": "一个整数，表示这些直线围出的三角形对 $10^9+7$ 取模后的个数。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rrp71ksq.png)\n\n上图即为所有直线在平面直角坐标系上的位置，共围出了 $10$ 个三角形。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 3\\times 10^5$，$|A_i|,|B_i|,|C_i|\\le 10^9$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $140$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T5 TROKUTI*_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #5] TROKUTI", "background": "", "description": "给定 $N$ 条在平面直角坐标系内的直线，这些直线上的点满足 $A_ix+B_iy+C_i=0$。\n\n请你求出这些直线围出的三角形个数，答案对 $10^9+7$ 取模。\n\n保证没有三线共点。", "inputFormat": "第一行，一个整数 $N$，表示直线条数；\n\n接下来 $N$ 行，每行 $3$ 个 $A_i,B_i,C_i$，表示直线 $i$ 满足的条件。", "outputFormat": "一个整数，表示这些直线围出的三角形对 $10^9+7$ 取模后的个数。", "hint": "**【样例解释 #1】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rrp71ksq.png)\n\n上图即为所有直线在平面直角坐标系上的位置，共围出了 $10$ 个三角形。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 3\\times 10^5$，$|A_i|,|B_i|,|C_i|\\le 10^9$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $140$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T5 TROKUTI*_", "locale": "zh-CN"}}}
{"pid": "P7677", "type": "P", "difficulty": 4, "samples": [["5 3\n1 2\n1 3\n1 2\n1 3\n1 2 ", "LADICA\nLADICA\nLADICA\nSMECE\nSMECE "], ["9 10\n1 2\n3 4\n5 6\n7 8\n9 10\n2 3\n1 5\n8 2\n7 9 ", "LADICA\nLADICA\nLADICA\nLADICA\nLADICA\nLADICA\nLADICA\nLADICA\nLADICA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2013", "COCI（克罗地亚）"], "title": "[COCI 2013/2014 #5] LADICE", "background": null, "description": "有 $N$ 个物品，$L$ 个抽屉，每个抽屉只能放 $1$ 个物品，每个物品都能被放进抽屉 $A_i$ 或 $B_i$ 中。\n\n放物品的规则如下（按照顺序执行，即满足条件 $1$ 时就立刻执行，不会执行条件 $2$；不满足条件 $1$ 时就判断条件 $2$）：\n\n- $1.$ 如果抽屉 $A_i$ 是空的，就把这个物品放进抽屉 $A_i$ 中；\n\n- $2$ 如果抽屉 $B_i$ 是空的，就把这个物品放进抽屉 $B_i$ 中；\n\n- $3.$ 把抽屉 $A_i$ 中的物品移到它的另一个抽屉里；如果这个抽屉也满了，就把这个抽屉里的物品放到它的另一个抽屉里，直到你成功或回到之前遇到过的抽屉为止。如果成功了，就把这个物品放进这个抽屉中；\n\n- $4.$ 把抽屉 $B_i$ 中的物品移到它的另一个抽屉里；如果这个抽屉也满了，就把这个抽屉里的物品放到它的另一个抽屉里，直到你成功或回到之前遇到过的抽屉为止。如果成功了，就把这个物品放进这个抽屉中；\n\n- $5.$ 扔掉此物品。\n\n对于给定的每件物品，请你求出哪些物品将被保存，哪些将被扔掉。", "inputFormat": "第一行，两个整数 $N$ 和 $L$，分别表示物品个数和抽屉个数；\n\n接下来的 $N$ 行，每行两个整数 $A_i$ 和 $B_i$，表示物品 $i$ 能被储存的两个抽屉。", "outputFormat": "输出共 $N$ 行，每行一个字符串：\n\n如果该物品成功被保存，输出 `LADICA`；\n\n如果该物品被扔掉，输出 `SMECE`。", "hint": "**【样例解释 #1】**\n\n物品 $1$ 放入抽屉 $1$，物品 $2$ 放入抽屉 $3$，物品 $3$ 放入抽屉 $2$，物品 $4$ 和物品 $5$ 没有地方放。\n\n**【样例解释 #2】**\n\n物品 $1$ 放入抽屉 $1$，物品 $2$ 放入抽屉 $3$，物品 $3$ 放入抽屉 $5$，物品 $4$ 放入抽屉 $7$，物品 $5$ 放入抽屉 $9$，物品 $6$ 放入抽屉 $2$，物品 $8$ 放入抽屉 $8$。\n\n物品 $7$ 的两个抽屉都满了，将抽屉 $1$ 里的物品 $1$ 移到抽屉 $2$ 里，将抽屉 $2$ 里的物品 $6$ 移到抽屉 $3$ 里，将抽屉 $3$ 里的物品 $2$ 移到抽屉 $4$ 里，抽屉 $4$ 是空的，成功放入。\n\n物品 $9$ 的两个抽屉都满了，将抽屉 $7$ 里的物品 $4$ 移到抽屉 $8$ 里，将抽屉 $8$ 里的物品 $8$ 移到抽屉 $2$ 里，将抽屉 $2$ 里的物品 $1$ 移到抽屉 $1$ 里，将抽屉 $1$ 里的物品 $7$ 移到抽屉 $5$ 里，将抽屉 $5$ 里的物品 $3$ 移到抽屉 $6$ 里，抽屉 $6$ 是空的，成功放入。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1\\le N,L\\le 2000$；\n\n对于 $100\\%$ 的数据，$1\\le N,L\\le 3\\times 10^5$，$1\\le A_i,B_i\\le L$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $160$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T6  LADICE**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2013/2014 #5] LADICE", "background": null, "description": "有 $N$ 个物品，$L$ 个抽屉，每个抽屉只能放 $1$ 个物品，每个物品都能被放进抽屉 $A_i$ 或 $B_i$ 中。\n\n放物品的规则如下（按照顺序执行，即满足条件 $1$ 时就立刻执行，不会执行条件 $2$；不满足条件 $1$ 时就判断条件 $2$）：\n\n- $1.$ 如果抽屉 $A_i$ 是空的，就把这个物品放进抽屉 $A_i$ 中；\n\n- $2$ 如果抽屉 $B_i$ 是空的，就把这个物品放进抽屉 $B_i$ 中；\n\n- $3.$ 把抽屉 $A_i$ 中的物品移到它的另一个抽屉里；如果这个抽屉也满了，就把这个抽屉里的物品放到它的另一个抽屉里，直到你成功或回到之前遇到过的抽屉为止。如果成功了，就把这个物品放进这个抽屉中；\n\n- $4.$ 把抽屉 $B_i$ 中的物品移到它的另一个抽屉里；如果这个抽屉也满了，就把这个抽屉里的物品放到它的另一个抽屉里，直到你成功或回到之前遇到过的抽屉为止。如果成功了，就把这个物品放进这个抽屉中；\n\n- $5.$ 扔掉此物品。\n\n对于给定的每件物品，请你求出哪些物品将被保存，哪些将被扔掉。", "inputFormat": "第一行，两个整数 $N$ 和 $L$，分别表示物品个数和抽屉个数；\n\n接下来的 $N$ 行，每行两个整数 $A_i$ 和 $B_i$，表示物品 $i$ 能被储存的两个抽屉。", "outputFormat": "输出共 $N$ 行，每行一个字符串：\n\n如果该物品成功被保存，输出 `LADICA`；\n\n如果该物品被扔掉，输出 `SMECE`。", "hint": "**【样例解释 #1】**\n\n物品 $1$ 放入抽屉 $1$，物品 $2$ 放入抽屉 $3$，物品 $3$ 放入抽屉 $2$，物品 $4$ 和物品 $5$ 没有地方放。\n\n**【样例解释 #2】**\n\n物品 $1$ 放入抽屉 $1$，物品 $2$ 放入抽屉 $3$，物品 $3$ 放入抽屉 $5$，物品 $4$ 放入抽屉 $7$，物品 $5$ 放入抽屉 $9$，物品 $6$ 放入抽屉 $2$，物品 $8$ 放入抽屉 $8$。\n\n物品 $7$ 的两个抽屉都满了，将抽屉 $1$ 里的物品 $1$ 移到抽屉 $2$ 里，将抽屉 $2$ 里的物品 $6$ 移到抽屉 $3$ 里，将抽屉 $3$ 里的物品 $2$ 移到抽屉 $4$ 里，抽屉 $4$ 是空的，成功放入。\n\n物品 $9$ 的两个抽屉都满了，将抽屉 $7$ 里的物品 $4$ 移到抽屉 $8$ 里，将抽屉 $8$ 里的物品 $8$ 移到抽屉 $2$ 里，将抽屉 $2$ 里的物品 $1$ 移到抽屉 $1$ 里，将抽屉 $1$ 里的物品 $7$ 移到抽屉 $5$ 里，将抽屉 $5$ 里的物品 $3$ 移到抽屉 $6$ 里，抽屉 $6$ 是空的，成功放入。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，$1\\le N,L\\le 2000$；\n\n对于 $100\\%$ 的数据，$1\\le N,L\\le 3\\times 10^5$，$1\\le A_i,B_i\\le L$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $160$。\n\n题目译自[COCI2013_2014](https://hsin.hr/coci/archive/2013_2014/) [CONTEST #5](https://hsin.hr/coci/archive/2013_2014/contest5_tasks.pdf) _**T6  LADICE**_", "locale": "zh-CN"}}}
{"pid": "P7678", "type": "P", "difficulty": 1, "samples": [["dz=ak", "3"], ["ljes=njak", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #5] LJESNJAK", "background": "", "description": "不久以前，在操作系统还未像今天如此发达的时候，计算机无法处理克罗地亚字母表中的某些字母，于是程序员被允许用二到三个计算机能够显示的字符替换这个不能显示的字母，如下表：\n\n| 不能显示的字母 | 用来替换的字符 |\n| :----------: | :----------: |\n| `č` | `c=` |\n| `ć` | `c-` |\n| `dž` | `dz=` |\n| `ñ` | `d-` |\n| `lj` | `lj` |\n| `nj` | `nj` |\n| `š` | `s=` |\n| `ž` | `z=` |\n\n例如说，`ljes=njak` 这一个字符串可以用来表示克罗地亚字母表中的六个字母：`lj`、`e`、`š`、`nj`、`a`、`k`。\n\n现在给出一个字符串，请你求出解码后这一个字符串里面包含多少个克罗地亚字母表中的字母。字母的匹配是贪心的，尽可能长的匹配当前字母，例如 `lj` 不应该被认为是两个英文字母 `l` 和 `j`。\n\n克罗地亚字母表中的字母除了有上表中的几个字母外，还有英语中的 `a`~`z` 这 26 个字母。", "inputFormat": "输入仅一行，一个字符串，表示一个按上述方式编码的字符串。", "outputFormat": "输出仅一行，表示解码之后的字符串包含的克罗地亚字母表中的字母个数。", "hint": "**【数据范围】**\n\n对于所有数据，满足字符串的长度不超过 $100$，且仅包含小写字母和 `-`、`=` 字符。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T1 LJESNJAK_**，按照原题数据配置，满分 $30$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #5] LJESNJAK", "background": "", "description": "不久以前，在操作系统还未像今天如此发达的时候，计算机无法处理克罗地亚字母表中的某些字母，于是程序员被允许用二到三个计算机能够显示的字符替换这个不能显示的字母，如下表：\n\n| 不能显示的字母 | 用来替换的字符 |\n| :----------: | :----------: |\n| `č` | `c=` |\n| `ć` | `c-` |\n| `dž` | `dz=` |\n| `ñ` | `d-` |\n| `lj` | `lj` |\n| `nj` | `nj` |\n| `š` | `s=` |\n| `ž` | `z=` |\n\n例如说，`ljes=njak` 这一个字符串可以用来表示克罗地亚字母表中的六个字母：`lj`、`e`、`š`、`nj`、`a`、`k`。\n\n现在给出一个字符串，请你求出解码后这一个字符串里面包含多少个克罗地亚字母表中的字母。字母的匹配是贪心的，尽可能长的匹配当前字母，例如 `lj` 不应该被认为是两个英文字母 `l` 和 `j`。\n\n克罗地亚字母表中的字母除了有上表中的几个字母外，还有英语中的 `a`~`z` 这 26 个字母。", "inputFormat": "输入仅一行，一个字符串，表示一个按上述方式编码的字符串。", "outputFormat": "输出仅一行，表示解码之后的字符串包含的克罗地亚字母表中的字母个数。", "hint": "**【数据范围】**\n\n对于所有数据，满足字符串的长度不超过 $100$，且仅包含小写字母和 `-`、`=` 字符。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T1 LJESNJAK_**，按照原题数据配置，满分 $30$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7679", "type": "P", "difficulty": 2, "samples": [["4 8", "1 4 8\n2 2 4\n4 1 2"], ["15 12", "1 15 12\n3 5 4"], ["42 105", "1 42 105\n3 14 35\n7 6 15\n21 2 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #5] JABUKA", "background": "", "description": "Mirko 拥有 $R$ 个红苹果和 $G$ 个绿苹果，他想把他分给若干个朋友，使得所有朋友分得的红苹果个数和绿苹果个数都一样。由于 Mirko 自己不喜欢苹果，所以他不会给自己留苹果。\n\n例如，假设 Mirko 有 $4$ 个红苹果和 $8$ 个绿苹果，则以下是分配苹果的所有方案：\n\n- 分给一个朋友，即将 $4$ 个红苹果和 $8$ 个绿苹果全部分给这个朋友。\n- 分给两个朋友，每个朋友分得 $2$ 个红苹果和 $4$ 个绿苹果。 \n- 分给四个朋友，每个朋友分得 $1$ 个红苹果和 $2$ 个绿苹果。\n\n现给定 $R,G$，请你帮助 Mirko 找到所有的分配苹果的方案。可以证明一定存在分配苹果的方案。", "inputFormat": "输入仅一行，两个整数 $R,G$，分别表示红苹果的个数和绿苹果的个数。 ", "outputFormat": "输出若干行，每行三个整数，分别表示分给的朋友数，每个朋友分得的红苹果个数和绿苹果个数。\n\n如果有多种方案，请按照**朋友的个数升序排列**输出。\n\n数据保证不会超出输出限制。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant R,G\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T2 JABUKA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #5] JABUKA", "background": "", "description": "Mirko 拥有 $R$ 个红苹果和 $G$ 个绿苹果，他想把他分给若干个朋友，使得所有朋友分得的红苹果个数和绿苹果个数都一样。由于 Mirko 自己不喜欢苹果，所以他不会给自己留苹果。\n\n例如，假设 Mirko 有 $4$ 个红苹果和 $8$ 个绿苹果，则以下是分配苹果的所有方案：\n\n- 分给一个朋友，即将 $4$ 个红苹果和 $8$ 个绿苹果全部分给这个朋友。\n- 分给两个朋友，每个朋友分得 $2$ 个红苹果和 $4$ 个绿苹果。 \n- 分给四个朋友，每个朋友分得 $1$ 个红苹果和 $2$ 个绿苹果。\n\n现给定 $R,G$，请你帮助 Mirko 找到所有的分配苹果的方案。可以证明一定存在分配苹果的方案。", "inputFormat": "输入仅一行，两个整数 $R,G$，分别表示红苹果的个数和绿苹果的个数。 ", "outputFormat": "输出若干行，每行三个整数，分别表示分给的朋友数，每个朋友分得的红苹果个数和绿苹果个数。\n\n如果有多种方案，请按照**朋友的个数升序排列**输出。\n\n数据保证不会超出输出限制。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant R,G\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T2 JABUKA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7680", "type": "P", "difficulty": 2, "samples": [["11 3\n6 5\n3 1\n11 1", "4\n1\n6"], ["16 3\n2 2\n12 3\n6 11", "2\n7\n3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #5] JAGODA", "background": "", "description": "Slavko 养了 $n$ 只兔子，他每天用各种水果和蔬菜喂兔子。然而，兔子最喜欢草莓。草莓在隆冬时节很难找到，而且很贵，所以 Slavko 只给部分兔子吃草莓。Slavko 把兔子编号为 $1\\sim n$。为了帮助追踪每只兔子得到多少草莓，他决定采用以下草莓分配程序。\n\nSlavko 每天都会买 $S$ 个草莓，然后选一个兔子 $A$ ，然后给它第一个草莓。之后，兔子 $A+1$ 会得到第二个草莓，兔子 $A+2$ 会得到第三个，以此类推。\n\n给每只兔子分配一个最初为空的火柴盒，然后把这 $n$ 个火柴盒排成一排。设 $k$ 为使得 $k^2\\leqslant n$ 的最大整数。这样就可以把兔子分成 $\\left\\lceil\\dfrac{n}{k}\\right\\rceil$组，每组 $k$ 个火柴盒（从第一个开始，最后一组有可能不足 $k$ 个），每组火柴盒旁边也会有一个杯子。我们说 $k$ 个连续的火柴盒和它们的杯子形成一组。\n\n在给兔子草莓之后，Slavko 会把一根火柴放进每个得到草莓的兔子的火柴盒里，**除非**他把火柴放进一组里所有的火柴盒里。此时他不会把火柴放在一组的所有火柴盒里，而是把一根火柴放在这一组所在的杯子里。通过这种方式，兔子收到的草莓总数可以用火柴盒里的火柴数加上杯子里的火柴数来计算。例如，假设 Slavko 有 $11$ 只兔子，即 $n=11$。数字 $3$ 是使得 $k^2\\leqslant n$ 的最大整数 $k$，因此 $k=3$。因此这些兔子将会被分成四组（最后一组只有两只兔子和两个火柴盒），自然就会有四个杯子，如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/taccw9un.png)\n\n如果 Slavko 买了 $6$ 个草莓，把第一个送给兔子 $5$，杯子和火柴盒里的状态将变为如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2tfy24vf.png)\n\n现在，请你编写一个程序，给定兔子的数量 $n$、天数 $m$ 以及 $m$ 天中的每一天购买的草莓数量 $S$ 和得到第一个草莓的兔子编号 $A$。对于每一天，输出 Slavko 当天使用的所有火柴盒和杯子中的火柴总数。", "inputFormat": "输入共 $m+1$ 行。\n\n第一行两个整数 $n,m$，分别表示兔子的总数（也是火柴盒数）和天数。  \n随后 $m$ 行，第 $i$ 行两个整数 $S,A$，分别表示第 $i$ 天购买的草莓数量和得到第一个草莓的兔子编号。", "outputFormat": "输出共 $m$ 行，第 $i$ 行一个整数，表示 Slavko 第 $i$ 天使用的所有火柴盒和杯子中的火柴总数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，兔子、火柴盒和杯子摆放的情况即为题面中所给出的例子。\n\n第一天即为题面中所给出的例子，因此 Slavko 第一天放入 $4$ 根火柴。\n\n第二天 Slavko 买了 $3$ 个草莓，并将第一个草莓给了 $1$ 号兔子，这样的话，$1$、$2$、$3$ 号兔子都得到草莓，由于它们三个兔子都在一组里面，所以 Slavko 只需要在第 $1$ 个杯子里面放入一根火柴。因此 Slavko 第一天放入 $1$ 根火柴。\n\n第三天，Slavko 可以给他所有的兔子送草莓，所以需要在每个杯子里放一根火柴。总共是把 $4$ 根火柴放到杯子里，他在这天使用的杯子里（就是所有杯子）在他放置后一共有 $6$ 根火柴，所以输出 $6$。\n\n**【数据范围】**\n\n对于所有数据。$1\\leqslant n,m\\leqslant 10^5$，$1\\leqslant A\\leqslant n$，$1\\leqslant A+S-1\\leqslant n$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T3 JAGODA_**，按照原题数据配置，满分 $70$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #5] JAGODA", "background": "", "description": "Slavko 养了 $n$ 只兔子，他每天用各种水果和蔬菜喂兔子。然而，兔子最喜欢草莓。草莓在隆冬时节很难找到，而且很贵，所以 Slavko 只给部分兔子吃草莓。Slavko 把兔子编号为 $1\\sim n$。为了帮助追踪每只兔子得到多少草莓，他决定采用以下草莓分配程序。\n\nSlavko 每天都会买 $S$ 个草莓，然后选一个兔子 $A$ ，然后给它第一个草莓。之后，兔子 $A+1$ 会得到第二个草莓，兔子 $A+2$ 会得到第三个，以此类推。\n\n给每只兔子分配一个最初为空的火柴盒，然后把这 $n$ 个火柴盒排成一排。设 $k$ 为使得 $k^2\\leqslant n$ 的最大整数。这样就可以把兔子分成 $\\left\\lceil\\dfrac{n}{k}\\right\\rceil$组，每组 $k$ 个火柴盒（从第一个开始，最后一组有可能不足 $k$ 个），每组火柴盒旁边也会有一个杯子。我们说 $k$ 个连续的火柴盒和它们的杯子形成一组。\n\n在给兔子草莓之后，Slavko 会把一根火柴放进每个得到草莓的兔子的火柴盒里，**除非**他把火柴放进一组里所有的火柴盒里。此时他不会把火柴放在一组的所有火柴盒里，而是把一根火柴放在这一组所在的杯子里。通过这种方式，兔子收到的草莓总数可以用火柴盒里的火柴数加上杯子里的火柴数来计算。例如，假设 Slavko 有 $11$ 只兔子，即 $n=11$。数字 $3$ 是使得 $k^2\\leqslant n$ 的最大整数 $k$，因此 $k=3$。因此这些兔子将会被分成四组（最后一组只有两只兔子和两个火柴盒），自然就会有四个杯子，如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/taccw9un.png)\n\n如果 Slavko 买了 $6$ 个草莓，把第一个送给兔子 $5$，杯子和火柴盒里的状态将变为如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2tfy24vf.png)\n\n现在，请你编写一个程序，给定兔子的数量 $n$、天数 $m$ 以及 $m$ 天中的每一天购买的草莓数量 $S$ 和得到第一个草莓的兔子编号 $A$。对于每一天，输出 Slavko 当天使用的所有火柴盒和杯子中的火柴总数。", "inputFormat": "输入共 $m+1$ 行。\n\n第一行两个整数 $n,m$，分别表示兔子的总数（也是火柴盒数）和天数。  \n随后 $m$ 行，第 $i$ 行两个整数 $S,A$，分别表示第 $i$ 天购买的草莓数量和得到第一个草莓的兔子编号。", "outputFormat": "输出共 $m$ 行，第 $i$ 行一个整数，表示 Slavko 第 $i$ 天使用的所有火柴盒和杯子中的火柴总数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，兔子、火柴盒和杯子摆放的情况即为题面中所给出的例子。\n\n第一天即为题面中所给出的例子，因此 Slavko 第一天放入 $4$ 根火柴。\n\n第二天 Slavko 买了 $3$ 个草莓，并将第一个草莓给了 $1$ 号兔子，这样的话，$1$、$2$、$3$ 号兔子都得到草莓，由于它们三个兔子都在一组里面，所以 Slavko 只需要在第 $1$ 个杯子里面放入一根火柴。因此 Slavko 第一天放入 $1$ 根火柴。\n\n第三天，Slavko 可以给他所有的兔子送草莓，所以需要在每个杯子里放一根火柴。总共是把 $4$ 根火柴放到杯子里，他在这天使用的杯子里（就是所有杯子）在他放置后一共有 $6$ 根火柴，所以输出 $6$。\n\n**【数据范围】**\n\n对于所有数据。$1\\leqslant n,m\\leqslant 10^5$，$1\\leqslant A\\leqslant n$，$1\\leqslant A+S-1\\leqslant n$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T3 JAGODA_**，按照原题数据配置，满分 $70$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7681", "type": "P", "difficulty": 3, "samples": [["4 1\n0110\n1001\n1001\n0110", "2"], ["4 2\n0110\n1001\n1001\n0110", "14"], ["5 3\n01000\n10110\n01000\n01001\n00010 ", "26"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #5] LUBENICA", "background": "", "description": "一个班有 $n$ 个孩子，他们上课时并没有认真听课，而是在玩 Facebook 社交网页上的扔西瓜游戏。\n\n第一节课上，Goran 向他的每个朋友扔了一个西瓜，**随后几节课**，孩子们都会按照以下方式采取行动：\n\n- 如果上节课一个人被奇数个西瓜扔中，那么这节课他会向所有他的朋友各扔一个西瓜。\n- 如果上节课一个人被偶数（**包括 $0$**）个西瓜扔中，那么这节课他会向所有他的朋友各扔两个西瓜。\n\n孩子们按照 $1\\sim n$ 编号，其中 Goran 的编号为 $1$。\n\n现在，给定孩子的个数 $n$ 和他们所有人的朋友关系，请求出 $h$ 节课之后，孩子们一共扔了多少个西瓜。", "inputFormat": "输入共 $n+1$ 行。\n\n第一行，两个整数 $n,h$，分别表示孩子的个数和课程的节数。  \n随后 $n$ 行，每行 $n$ 个整数（**不用空格隔开**），形成一个矩阵。第 $i$ 行描述第 $i$ 个孩子的朋友关系，具体地，如果第 $i$ 行第 $j$ 个元素是 $1$，则表示第 $i$ 个孩子和第 $j$ 个孩子是朋友，否则不是。\n\n输入矩阵是对称的（即 $A$ 如果是 $B$ 的朋友，那么 $B$ 也会是 $A$ 的朋友），并且保证不会出现一个孩子和自己成为朋友的情况。", "outputFormat": "输出仅一行，一个整数，表示 $h$ 节课之后孩子们扔出的西瓜总数。", "hint": "**【样例 1/2 解释】**\n\n对于样例 $1/2$，首先，Goran 在第一节课上向第 $2$、$3$ 号孩子扔出一个西瓜，并且没有其他孩子扔出西瓜。因此，样例 $1$ 的答案为 $2$。  \n第二节课上，第 $2$、$3$ 号孩子都向第 $1$、$4$ 号孩子各扔出一个西瓜，同时第 $1$、$4$ 号孩子由于在上一节课没有被西瓜扔中，因此他们都向第 $2$、$3$ 号孩子各扔出 $2$ 个西瓜。因此第二节课上一共扔出了 $2\\times 2\\times 1+2\\times 2\\times 2=12$ 个西瓜。\n\n因此，前两节课一共扔出了 $2+12=14$ 个西瓜，而这就是样例 $2$ 的答案。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，满足 $h\\leqslant 1000$。  \n对于所有数据，$1\\leqslant n\\leqslant 20$，$1\\leqslant h\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T4 LUBENICA_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #5] LUBENICA", "background": "", "description": "一个班有 $n$ 个孩子，他们上课时并没有认真听课，而是在玩 Facebook 社交网页上的扔西瓜游戏。\n\n第一节课上，Goran 向他的每个朋友扔了一个西瓜，**随后几节课**，孩子们都会按照以下方式采取行动：\n\n- 如果上节课一个人被奇数个西瓜扔中，那么这节课他会向所有他的朋友各扔一个西瓜。\n- 如果上节课一个人被偶数（**包括 $0$**）个西瓜扔中，那么这节课他会向所有他的朋友各扔两个西瓜。\n\n孩子们按照 $1\\sim n$ 编号，其中 Goran 的编号为 $1$。\n\n现在，给定孩子的个数 $n$ 和他们所有人的朋友关系，请求出 $h$ 节课之后，孩子们一共扔了多少个西瓜。", "inputFormat": "输入共 $n+1$ 行。\n\n第一行，两个整数 $n,h$，分别表示孩子的个数和课程的节数。  \n随后 $n$ 行，每行 $n$ 个整数（**不用空格隔开**），形成一个矩阵。第 $i$ 行描述第 $i$ 个孩子的朋友关系，具体地，如果第 $i$ 行第 $j$ 个元素是 $1$，则表示第 $i$ 个孩子和第 $j$ 个孩子是朋友，否则不是。\n\n输入矩阵是对称的（即 $A$ 如果是 $B$ 的朋友，那么 $B$ 也会是 $A$ 的朋友），并且保证不会出现一个孩子和自己成为朋友的情况。", "outputFormat": "输出仅一行，一个整数，表示 $h$ 节课之后孩子们扔出的西瓜总数。", "hint": "**【样例 1/2 解释】**\n\n对于样例 $1/2$，首先，Goran 在第一节课上向第 $2$、$3$ 号孩子扔出一个西瓜，并且没有其他孩子扔出西瓜。因此，样例 $1$ 的答案为 $2$。  \n第二节课上，第 $2$、$3$ 号孩子都向第 $1$、$4$ 号孩子各扔出一个西瓜，同时第 $1$、$4$ 号孩子由于在上一节课没有被西瓜扔中，因此他们都向第 $2$、$3$ 号孩子各扔出 $2$ 个西瓜。因此第二节课上一共扔出了 $2\\times 2\\times 1+2\\times 2\\times 2=12$ 个西瓜。\n\n因此，前两节课一共扔出了 $2+12=14$ 个西瓜，而这就是样例 $2$ 的答案。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，满足 $h\\leqslant 1000$。  \n对于所有数据，$1\\leqslant n\\leqslant 20$，$1\\leqslant h\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T4 LUBENICA_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7682", "type": "P", "difficulty": 4, "samples": [["1 9", "45"], ["100 111", "68"], ["7774407 7774407", "86"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #5] TRESNJA", "background": "", "description": "Lana 住在一个快乐的小村庄里。主街旁边有一排樱桃树。Lana 注意到每棵树用从 $1$ 开始的连续整数编号。经过大量研究，Lana 注意到树的编号唯一地决定了树的樱桃数量。对于一棵树，考虑将树编号中的连续数字组拆分出来。对于每组数字，将这一组中唯一的数字乘以该组数字长度的平方。把这些数字加在一起就得到了树上的樱桃总数。例如，在编号为 $77744007$ 的树中，我们将编号中的连续数字组拆分出来，得到 $4$ 组数：$777$、$44$、$00$ 和 $7$。所以编号为 $77744007$ 的树中樱桃的数量为 $7\\times 3^2+4\\times 2^2+0\\times2^2+7\\times1^2=86$ 个。\n\n到了摘樱桃的时候了，村民们同意把编号在区间 $[a,b]$ 中的树上的樱桃都摘下来。现在请你编写一个程序来计算采摘樱桃的总量。", "inputFormat": "输入仅一行，两个整数 $a,b$，代表能够采摘樱桃的树的起始点和终止点。", "outputFormat": "输出仅一行，一个整数，代表能够采摘的樱桃总量。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant a\\leqslant b\\leqslant 10^{15}$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T5 TRESNJA_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #5] TRESNJA", "background": "", "description": "Lana 住在一个快乐的小村庄里。主街旁边有一排樱桃树。Lana 注意到每棵树用从 $1$ 开始的连续整数编号。经过大量研究，Lana 注意到树的编号唯一地决定了树的樱桃数量。对于一棵树，考虑将树编号中的连续数字组拆分出来。对于每组数字，将这一组中唯一的数字乘以该组数字长度的平方。把这些数字加在一起就得到了树上的樱桃总数。例如，在编号为 $77744007$ 的树中，我们将编号中的连续数字组拆分出来，得到 $4$ 组数：$777$、$44$、$00$ 和 $7$。所以编号为 $77744007$ 的树中樱桃的数量为 $7\\times 3^2+4\\times 2^2+0\\times2^2+7\\times1^2=86$ 个。\n\n到了摘樱桃的时候了，村民们同意把编号在区间 $[a,b]$ 中的树上的樱桃都摘下来。现在请你编写一个程序来计算采摘樱桃的总量。", "inputFormat": "输入仅一行，两个整数 $a,b$，代表能够采摘樱桃的树的起始点和终止点。", "outputFormat": "输出仅一行，一个整数，代表能够采摘的樱桃总量。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant a\\leqslant b\\leqslant 10^{15}$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T5 TRESNJA_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7683", "type": "P", "difficulty": 4, "samples": [["3 1\n0", "2"], ["5 2\n2\n1 3 RRSRRRR\n1 5 RRRRLRR", "4"], ["5 5\n3\n1 3 SSRSSSS\n3 3 SSSLSSS\n4 3 SSRSSLS", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2008", "COCI（克罗地亚）"], "title": "[COCI 2008/2009 #5] KRUSKA", "background": "Aladdin 已经厌倦了宫殿里的生活。他有一份稳定的工作，他的妻子 Jasmine 和孩子们都在路上，生活变得单调。在这一切的驱使下，他决定在安顿下来之前再进行一次冒险。他决定找到 Golden Pear，这是一件极为珍贵的传奇文物，至今无人能找到。", "description": "Aladdin 正在寻找的沙漠可以被看作是一个 $n×n$ 的网格。行和列从上到下、从左到右编号为 $1$ 到 $n$。沙漠中的网格里一共有 $m$ 个巫师，他们以一种不同寻常的方式帮助 Aladdin 完成任务。\n\nAladdin 星期一在沙漠的左上角 $(1,1)$ 开始他的任务并面朝右。他的动作包括重复这些步骤：\n\n1. 如果当前的网格里有一个醒着的巫师，那么 Aladdin 会根据巫师说的话向左或向右转 $90$ 度。\n2. 如果向前走会把 Aladdin 带出沙漠，他会转过 $180$ 度。\n3. Aladdin 向前移动了一格，这将花费他一天的时间。\n\n对于每个巫师，我们都知道他的位置和一周中每一天的活动计划。每个巫师的日程表是一个由七个字母（仅包含`L`、`R` 或 `S`）组成的字符串，每个字符告诉我们巫师在一周中的某一天（从**星期一**开始）做什么。字母 `L` 表示 Aladdin 将在这一天被告知向左转，`R` 表示 Aladdin 将在这一天被告知向右转，而 `S` 表示巫师那天正在睡觉。\n\n一个古老的预言说，在改变 $k$ 次方向（通过**步骤 $1$ 和步骤 $2$**）后，Aladdin 会找到 Golden Pear。根据古老的预言，写一个程序来计算冒险将持续多少天。", "inputFormat": "输入共 $m+2$ 行。\n\n第一行，两个整数 $n,k$，分别表示沙漠的边长和古老的预言中所说的要改变方向的次数。  \n第二行，一个整数 $m$，表示巫师的个数。  \n随后 $m$ 行，第 $i$ 行两个整数和一个字符串，分别表示巫师所在的横坐标，纵坐标和一个星期内的行动（从**星期一**开始）。\n\n数据保证不存在在 $(1,1)$ 处的巫师、两个在同一网格的巫师或者在沙漠外的巫师。", "outputFormat": "输出仅一行，一个整数，代表冒险持续的天数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，Aladdin 移动了两格之后到达沙漠的边缘，随后他转过 $180$ 度，找到了 Golden Pear。所以冒险将持续 $2$ 天。\n\n**【样例 2 解释】**\n\n对于样例 $2$，Aladdin 在走了两天之后找到了第一个巫师，但是这个巫师此时正在睡觉，所以 Aladdin 继续走了两天，然后他在第 $4$ 天找到了第二个巫师，这个巫师告诉他要向左转，Aladdin 这么做了，然后他来到了沙漠的边缘，转过 $180$ 度，找到了 Golden Pear。所以冒险将持续 $4$ 天。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，保证 $k\\leqslant 1000$。  \n对于所有数据，$2\\leqslant n\\leqslant 200$，$1\\leqslant k\\leqslant 10^9$，$0\\leqslant m\\leqslant 10^4$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T6 KRUSKA_**，按照原题数据配置，满分 $130$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2008/2009 #5] KRUSKA", "background": "Aladdin 已经厌倦了宫殿里的生活。他有一份稳定的工作，他的妻子 Jasmine 和孩子们都在路上，生活变得单调。在这一切的驱使下，他决定在安顿下来之前再进行一次冒险。他决定找到 Golden Pear，这是一件极为珍贵的传奇文物，至今无人能找到。", "description": "Aladdin 正在寻找的沙漠可以被看作是一个 $n×n$ 的网格。行和列从上到下、从左到右编号为 $1$ 到 $n$。沙漠中的网格里一共有 $m$ 个巫师，他们以一种不同寻常的方式帮助 Aladdin 完成任务。\n\nAladdin 星期一在沙漠的左上角 $(1,1)$ 开始他的任务并面朝右。他的动作包括重复这些步骤：\n\n1. 如果当前的网格里有一个醒着的巫师，那么 Aladdin 会根据巫师说的话向左或向右转 $90$ 度。\n2. 如果向前走会把 Aladdin 带出沙漠，他会转过 $180$ 度。\n3. Aladdin 向前移动了一格，这将花费他一天的时间。\n\n对于每个巫师，我们都知道他的位置和一周中每一天的活动计划。每个巫师的日程表是一个由七个字母（仅包含`L`、`R` 或 `S`）组成的字符串，每个字符告诉我们巫师在一周中的某一天（从**星期一**开始）做什么。字母 `L` 表示 Aladdin 将在这一天被告知向左转，`R` 表示 Aladdin 将在这一天被告知向右转，而 `S` 表示巫师那天正在睡觉。\n\n一个古老的预言说，在改变 $k$ 次方向（通过**步骤 $1$ 和步骤 $2$**）后，Aladdin 会找到 Golden Pear。根据古老的预言，写一个程序来计算冒险将持续多少天。", "inputFormat": "输入共 $m+2$ 行。\n\n第一行，两个整数 $n,k$，分别表示沙漠的边长和古老的预言中所说的要改变方向的次数。  \n第二行，一个整数 $m$，表示巫师的个数。  \n随后 $m$ 行，第 $i$ 行两个整数和一个字符串，分别表示巫师所在的横坐标，纵坐标和一个星期内的行动（从**星期一**开始）。\n\n数据保证不存在在 $(1,1)$ 处的巫师、两个在同一网格的巫师或者在沙漠外的巫师。", "outputFormat": "输出仅一行，一个整数，代表冒险持续的天数。", "hint": "**【样例 1 解释】**\n\n对于样例 $1$，Aladdin 移动了两格之后到达沙漠的边缘，随后他转过 $180$ 度，找到了 Golden Pear。所以冒险将持续 $2$ 天。\n\n**【样例 2 解释】**\n\n对于样例 $2$，Aladdin 在走了两天之后找到了第一个巫师，但是这个巫师此时正在睡觉，所以 Aladdin 继续走了两天，然后他在第 $4$ 天找到了第二个巫师，这个巫师告诉他要向左转，Aladdin 这么做了，然后他来到了沙漠的边缘，转过 $180$ 度，找到了 Golden Pear。所以冒险将持续 $4$ 天。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，保证 $k\\leqslant 1000$。  \n对于所有数据，$2\\leqslant n\\leqslant 200$，$1\\leqslant k\\leqslant 10^9$，$0\\leqslant m\\leqslant 10^4$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2008-2009](https://hsin.hr/coci/archive/2008_2009/) [CONTEST 5](https://hsin.hr/coci/archive/2008_2009/contest5_tasks.pdf) T6 KRUSKA_**，按照原题数据配置，满分 $130$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7684", "type": "P", "difficulty": 6, "samples": [["5  6\n4 1 3 1 6 5 2 3 2 3 5 6 2 1 4 5 6 4 1 3 2 4 5 5 1 2 3 4 6 6", "8\n9 31\n18 9\n10 18 \n4 10\n31 4\n30 31\n24 30\n31 24"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["图论", "2005", "Special Judge", "CEOI（中欧）", "欧拉回路", "二分图", "构造"], "title": "[CEOI 2005] Depot Rearrangement", "background": "", "description": "一家公司经营着 $N$ 个店铺，每个店铺都销售 $M$ 种不同的产品。该公司有一个大型仓库，产品在运送到商店之前在都会那里进行包装。每家商店将会收到相同数量的每种产品。因此，该公司将一定数量的相应产品分别包装到一个集装箱中，并用产品标识符标记该集装箱。产品由 $1$ 到 $M$ 的数字标识。因此，在包装结束后，仓库中将会有 $N×M$ 个集装箱，并且正好 $N$ 个集装箱贴有每个产品的对应标签。由于该仓库位于一个狭窄的建筑物内，所以集装箱排成了一排。但为了加快配送速度，仓库经理想要重新排列集装箱。由于将产品配送到商店是通过向每个商店发出一辆卡车来实现的，并且每辆卡车运载每种产品的一个集装箱，其合适的安排如下。该行最前部分 $M$ 个集装箱必须贴有不同的产品标签，该行的第二部分 $M$ 个集装箱必须贴有不同的产品标签，依此类推。不幸的是，在这一行的尽头只有一个空闲的地方可以放置一个集装箱。因此，必须通过依次拿起集装箱并将其移动到空闲位置来进行重新排列。重新排列后，空闲位置也必须在行的末尾。  \n目标是通过最少的移动以实现所需的重新排列。  \n现请您编写一个程序来计算需要最少移动多少次使得达成目标重排。", "inputFormat": "第一行包含两个整数 $N$ 和 $M$。$N$ 是商店的数量，$M$ 是产品的数量。第二行包含 $N×M$ 个整数，即按初始顺序排列的集装箱标签。每个产品标识符 $x$ 在行中恰好出现 $N$ 次。", "outputFormat": "第一行包含一个整数 $S$，这是达成集装箱所需排列所需的最小移动次数。以下 $S$ 行描述了重新排列。每行包含一对整数 $x$，$y$。一对 $x$，$y$ 描述了一个移动：位于 $x$ 位置的集装箱将移动到位置 $y$。位置由从 $1$ 到 $N×M+1$ 的数字标识；最初位置 $N×M+1$ 是空闲的（没有集装箱）。只有在移动之前位置 $y$ 是空闲的，从 $x$ 到 $y$ 的移动才是合法的。从 $x$ 移动到 $y$ 后，位置 $x$ 将是空闲的。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq N \\leq 400$，$1 \\leq M \\leq 400$，$1 \\leq x \\leq M$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Depot Rearrangement。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \nSpecial Judge 感谢 @[abruce](/user/104324)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2005] Depot Rearrangement", "background": "", "description": "一家公司经营着 $N$ 个店铺，每个店铺都销售 $M$ 种不同的产品。该公司有一个大型仓库，产品在运送到商店之前在都会那里进行包装。每家商店将会收到相同数量的每种产品。因此，该公司将一定数量的相应产品分别包装到一个集装箱中，并用产品标识符标记该集装箱。产品由 $1$ 到 $M$ 的数字标识。因此，在包装结束后，仓库中将会有 $N×M$ 个集装箱，并且正好 $N$ 个集装箱贴有每个产品的对应标签。由于该仓库位于一个狭窄的建筑物内，所以集装箱排成了一排。但为了加快配送速度，仓库经理想要重新排列集装箱。由于将产品配送到商店是通过向每个商店发出一辆卡车来实现的，并且每辆卡车运载每种产品的一个集装箱，其合适的安排如下。该行最前部分 $M$ 个集装箱必须贴有不同的产品标签，该行的第二部分 $M$ 个集装箱必须贴有不同的产品标签，依此类推。不幸的是，在这一行的尽头只有一个空闲的地方可以放置一个集装箱。因此，必须通过依次拿起集装箱并将其移动到空闲位置来进行重新排列。重新排列后，空闲位置也必须在行的末尾。  \n目标是通过最少的移动以实现所需的重新排列。  \n现请您编写一个程序来计算需要最少移动多少次使得达成目标重排。", "inputFormat": "第一行包含两个整数 $N$ 和 $M$。$N$ 是商店的数量，$M$ 是产品的数量。第二行包含 $N×M$ 个整数，即按初始顺序排列的集装箱标签。每个产品标识符 $x$ 在行中恰好出现 $N$ 次。", "outputFormat": "第一行包含一个整数 $S$，这是达成集装箱所需排列所需的最小移动次数。以下 $S$ 行描述了重新排列。每行包含一对整数 $x$，$y$。一对 $x$，$y$ 描述了一个移动：位于 $x$ 位置的集装箱将移动到位置 $y$。位置由从 $1$ 到 $N×M+1$ 的数字标识；最初位置 $N×M+1$ 是空闲的（没有集装箱）。只有在移动之前位置 $y$ 是空闲的，从 $x$ 到 $y$ 的移动才是合法的。从 $x$ 移动到 $y$ 后，位置 $x$ 将是空闲的。", "hint": "#### 数据规模与约定  \n对于 $100 \\%$ 的数据，$1 \\leq N \\leq 400$，$1 \\leq M \\leq 400$，$1 \\leq x \\leq M$。  \n#### 题目说明  \n来源于 CENTRAL-EUROPEAN OLYMPIAD IN INFORMATICS 2005 的 Depot Rearrangement。  \n由 @[求学的企鹅](/user/271784) 翻译整理。  \nSpecial Judge 感谢 @[abruce](/user/104324)。", "locale": "zh-CN"}}}
