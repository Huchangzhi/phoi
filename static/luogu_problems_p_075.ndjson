{"pid": "P2517", "type": "P", "difficulty": 6, "samples": [["3 1 1000\r\n2 4 8\r\n1 2 4 ", "34"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2010", "河南", "各省省选", "费用流"], "title": "[HAOI2010] 订货", "background": "", "description": "某公司估计市场在第 $i$ 个月对某产品的需求量为 $U_i$，已知在第 $i$ 月该产品的订货单价为 $d_i$，上个月月底未销完的单位产品要付存贮费用 $m$，假定第一月月初的库存量为 $0$，第 $n$ 月月底的库存量也为 $0$，问如何安排这 $n$ 个月订购计划，才能使成本最低？每月月初订购，订购后产品立即到货，进库并供应市场，于当月被售掉则不必付存贮费。假设仓库容量为 $S$。", "inputFormat": "第 $1$ 行：$n, m, S \\ (0\\le n\\le50, 0\\le m\\le10, 0\\le S\\le10000)$。\n\n第 $2$ 行：$U_1 , U_2 , \\cdots , U_n \\ (0\\le U_i\\le10000)$。\n\n第 $3$ 行：$d_1, d_2, \\cdots ,d_n \\ (0\\le d_i\\le100)$。", "outputFormat": "只有 $1$ 行，一个整数，代表最低成本。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2010] Ordering", "background": "", "description": "A company estimates that in month $i$ the market demand for a certain product is $U_i$. It is known that the unit purchase price in month $i$ is $d_i$. For each unit of product that remains unsold at the end of a month and is carried over to the next month, a storage fee of $m$ must be paid. Assume the initial inventory at the beginning of month $1$ is $0$, and the inventory at the end of month $n$ is also $0$. How should the ordering plan for these $n$ months be arranged to minimize the total cost?\n\nOrders are placed at the beginning of each month. After ordering, products arrive immediately, enter the warehouse, and supply the market. If a unit is sold within the same month, no storage fee is charged for it. Assume the warehouse capacity is $S$.", "inputFormat": "Line $1$: $n, m, S \\ (0\\le n\\le50, 0\\le m\\le10, 0\\le S\\le10000)$.\n\nLine $2$: $U_1 , U_2 , \\cdots , U_n \\ (0\\le U_i\\le10000)$.\n\nLine $3$: $d_1, d_2, \\cdots ,d_n \\ (0\\le d_i\\le100)$.", "outputFormat": "Only $1$ line, an integer representing the minimum cost.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2010] 订货", "background": "", "description": "某公司估计市场在第 $i$ 个月对某产品的需求量为 $U_i$，已知在第 $i$ 月该产品的订货单价为 $d_i$，上个月月底未销完的单位产品要付存贮费用 $m$，假定第一月月初的库存量为 $0$，第 $n$ 月月底的库存量也为 $0$，问如何安排这 $n$ 个月订购计划，才能使成本最低？每月月初订购，订购后产品立即到货，进库并供应市场，于当月被售掉则不必付存贮费。假设仓库容量为 $S$。", "inputFormat": "第 $1$ 行：$n, m, S \\ (0\\le n\\le50, 0\\le m\\le10, 0\\le S\\le10000)$。\n\n第 $2$ 行：$U_1 , U_2 , \\cdots , U_n \\ (0\\le U_i\\le10000)$。\n\n第 $3$ 行：$d_1, d_2, \\cdots ,d_n \\ (0\\le d_i\\le100)$。", "outputFormat": "只有 $1$ 行，一个整数，代表最低成本。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2518", "type": "P", "difficulty": 5, "samples": [["1020", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "数学", "2010", "河南", "各省省选", "数位 DP"], "title": "[HAOI2010] 计数", "background": null, "description": "现在给定一个数，你可以删掉这个数中的任意多个数位 $0$（或不删）并将其他的数位任意重新排序。请求出能产生出多少个不同的比这个数小的数（注意这个数不会有前导 0）。", "inputFormat": "只有一行，为一个整数 $n$。", "outputFormat": "一行一个整数，表示答案。", "hint": "$n$ 的长度不超过 $50$，答案不超过 $2^{63}-1$。\n\n样例解释：$12,21,102,120,201,210,1002$。", "locale": "zh-CN", "translations": {"en": {"title": "{{[HAOI2010] Counting}}", "background": "{{}}", "description": "{{You are given a number. You may delete any number of digit 0s (or none) from this number, and arbitrarily reorder the remaining digits. Count how many distinct numbers smaller than the original number can be produced in this way. Note that such a number must not have a leading zero.}}", "inputFormat": "{{Only one line, an integer $n$.}}", "outputFormat": "{{Output a single integer, the answer.}}", "hint": "{{$n$ has length at most 50, and the answer does not exceed $2^{63}-1$.\n\nSample explanation: $12,21,102,120,201,210,1002$.}}\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2010] 计数", "background": null, "description": "现在给定一个数，你可以删掉这个数中的任意多个数位 $0$（或不删）并将其他的数位任意重新排序。请求出能产生出多少个不同的比这个数小的数（注意这个数不会有前导 0）。", "inputFormat": "只有一行，为一个整数 $n$。", "outputFormat": "一行一个整数，表示答案。", "hint": "$n$ 的长度不超过 $50$，答案不超过 $2^{63}-1$。\n\n样例解释：$12,21,102,120,201,210,1002$。", "locale": "zh-CN"}}}
{"pid": "P2519", "type": "P", "difficulty": 5, "samples": [["3\n2 0\n0 2\n2 2", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "递推", "2011", "河南", "各省省选"], "title": "[HAOI2011] problem a", "background": "", "description": "一次考试共有 $n$ 个人参加，可能出现多个人成绩相同的情况。第 $i$ 个人说：“有 $a_i$ 个人成绩比我高，$b_i$ 个人成绩比我低。”\n\n请求出最少有几个人没有说真话。", "inputFormat": "输入的第一行是一个整数，代表参加考试的人数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行两个用空格隔开的整数，第 $(i + 1)$ 行的两个整数分别代表比第 $i$ 个人成绩高的人数 $a_i$ 和比第 $i$ 个人成绩低的人数 $b_i$。", "outputFormat": "输出一行一个整数，代表最少有几个人没有说真话。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$0 \\leq a_i, b_i \\leq n$。", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2011] problem a", "background": "", "description": "An exam has $n$ participants, and multiple people may have the same score. The $i$-th person says: \"There are $a_i$ people who scored higher than me, and $b_i$ people who scored lower than me.\"\n\nFind the minimum number of people who did not tell the truth.", "inputFormat": "The first line contains an integer $n$, the number of participants.\n\nLines $2$ to $(n + 1)$ each contain two space-separated integers. On the $(i + 1)$-th line, the two integers represent the number of people scoring higher than the $i$-th person $a_i$ and the number of people scoring lower than the $i$-th person $b_i$.", "outputFormat": "Output a single integer, the minimum number of people who did not tell the truth.", "hint": "For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^5$, $0 \\leq a_i, b_i \\leq n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2011] problem a", "background": "", "description": "一次考试共有 $n$ 个人参加，可能出现多个人成绩相同的情况。第 $i$ 个人说：“有 $a_i$ 个人成绩比我高，$b_i$ 个人成绩比我低。”\n\n请求出最少有几个人没有说真话。", "inputFormat": "输入的第一行是一个整数，代表参加考试的人数 $n$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行两个用空格隔开的整数，第 $(i + 1)$ 行的两个整数分别代表比第 $i$ 个人成绩高的人数 $a_i$ 和比第 $i$ 个人成绩低的人数 $b_i$。", "outputFormat": "输出一行一个整数，代表最少有几个人没有说真话。", "hint": "对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^5$，$0 \\leq a_i, b_i \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P2520", "type": "P", "difficulty": 5, "samples": [["3\r\n2 1 3 3\r\n1 1 0 1\r\n1 0 -2 3", "Y\r\nN\r\nY"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2011", "河南", "各省省选", "最大公约数 gcd", "向量"], "title": "[HAOI2011] 向量", "background": "", "description": "给你一对数 $(a,b)$，你可以任意使用 $(a,b), (a,-b), (-a,b), (-a,-b), (b,a), (b,-a), (-b,a), (-b,-a)$ 这些向量，问你能不能拼出另一个向量 $(x,y)$。\n\n说明：这里的拼就是使得你选出的向量之和为 $(x,y)$。", "inputFormat": "第一行数组组数 $t(t\\leq50000)$。\n\n接下来 $t$ 行，每行四个整数 $a,b,x,y(-2\\times10^9\\leq a,b,x,y\\leq2\\times10^9)$。", "outputFormat": "$t$ 行，每行为 `Y` 或者为 `N`，分别表示可以拼出来，不能拼出来。", "hint": "### 样例解释\n\n第一组：$(2,1)+(1,2)=(3,3)$。\n\n第三组：$(-1,0)+(-1,0)+(0,1)+(0,1)+(0,1)=(-2,3)$。", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2011] Vectors", "background": "", "description": "Given a pair of numbers $(a,b)$, you may use any of the vectors $(a,b)$, $(a,-b)$, $(-a,b)$, $(-a,-b)$, $(b,a)$, $(b,-a)$, $(-b,a)$, $(-b,-a)$ in arbitrary quantities. Determine whether you can form another vector $(x,y)$.\n\nNote: Here, “form” means that the sum of the vectors you choose equals $(x,y)$.", "inputFormat": "The first line contains the number of test cases $t$ ($t \\le 50000$).\n\nThe next $t$ lines each contain four integers $a, b, x, y$ ($-2\\times 10^9 \\le a, b, x, y \\le 2\\times 10^9$).", "outputFormat": "Output $t$ lines. Each line is `Y` if it is possible, or `N` if it is not.", "hint": "### Sample Explanation\n\nGroup 1: $(2,1) + (1,2) = (3,3)$.\n\nGroup 3: $(-1,0) + (-1,0) + (0,1) + (0,1) + (0,1) = (-2,3)$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2011] 向量", "background": "", "description": "给你一对数 $(a,b)$，你可以任意使用 $(a,b), (a,-b), (-a,b), (-a,-b), (b,a), (b,-a), (-b,a), (-b,-a)$ 这些向量，问你能不能拼出另一个向量 $(x,y)$。\n\n说明：这里的拼就是使得你选出的向量之和为 $(x,y)$。", "inputFormat": "第一行数组组数 $t(t\\leq50000)$。\n\n接下来 $t$ 行，每行四个整数 $a,b,x,y(-2\\times10^9\\leq a,b,x,y\\leq2\\times10^9)$。", "outputFormat": "$t$ 行，每行为 `Y` 或者为 `N`，分别表示可以拼出来，不能拼出来。", "hint": "### 样例解释\n\n第一组：$(2,1)+(1,2)=(3,3)$。\n\n第三组：$(-1,0)+(-1,0)+(0,1)+(0,1)+(0,1)=(-2,3)$。", "locale": "zh-CN"}}}
{"pid": "P2521", "type": "P", "difficulty": 6, "samples": [["4 2 1                                \n2                                 \n1 2                               \n3 2                               \n5                                 \n2\n1 1\n2\n1 2\n2", "6.47\n5.84\n4.47"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2011", "河南", "各省省选", "平衡树", "凸包"], "title": "[HAOI2011] 防线修建", "background": "", "description": "近来A国和B国的矛盾激化，为了预防不测，A 国准备修建一条长长的防线，当然修建防线的话，肯定要把需要保护的城市修在防线内部了。  \n\n可是A国上层现在还犹豫不决，到底该把哪些城市作为保护对象呢？又由于 A 国的经费有限，所以希望你能帮忙完成如下的一个任务：\n\n1、给出你所有的 A 国城市坐标\n\n2、A国上层经过讨论，考虑到经济问题，决定取消对 $u$ 城市的保护，也就是说 $u$ 城市不需要在防线内了\n\n3、A国上层询问对于剩下要保护的城市，修建防线的总经费最少是多少\n\n你需要对每次询问作出回答。注意单位长度的防线花费为 $1$。\n\nA 国的地形是这样的，形如下图，$x$ 轴是一条河流，相当于一条天然防线，不需要你再修建。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rkaw5kay.png)\n\nA 国总是有两个城市在河边，一个点是 $(0,0)$，一个点是 $(n,0)$，其余所有点的横坐标均在 $(0,n)$ 范围内，纵坐标均大于0。  \nA国有一个不在 $(0,0)$ 和 $(n,0)$ 的首都。$(0,0),(n,0)$ 和首都这三个城市是一定需要保护的。\n\n上图中，A,B,C,D,E 点为 A 国城市，且目前都要保护，那么修建的防线就会是 A-B-C-D，花费也就是线段 AB 的长度+线段 BC 的长度+线段 CD 的长度,如果，这个时候撤销 B 点的保护，那么防线变成下图\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cd7dpmcj.png)\n", "inputFormat": "第一行三个整数 $n,x,y$ 分别表示河边城市和首都是 $(0,0),(n,0),(x,y)$。\n\n第二行一个整数 $m$。\n\n接下来 $m$ 行，每行两个整数 $a,b$ 表示 A 国的一个非首都非河边城市的坐标为 $(a,b)$。\n\n再接下来一个整数 $q$，表示修改和询问总数。\n\n\n接下来 $q$ 行每行要么形如 `1 u`，要么形如 `2`，分别表示撤销第 $u$ 个城市的保护和询问。\n", "outputFormat": "对于每个询问输出一行一个实数 $v$，表示修建防线的花费，保留两位小数。\n", "hint": "【数据范围】   \n对于 $30\\%$ 的数据，$1\\le m,q \\le 1000$；   \n对于 $100\\%$ 的数据，$1\\le m \\le 10^5$，$1\\le q \\le 2 \\times 10^5$，$1 < n \\le 10^4$。\n\n所有点的坐标范围均在 $10^4$ 以内, 数据保证没有重点。\n\n---\n\n~~$\\text{upd 2022.7.21}$：新增加一组 Hack 数据。~~ 该数据有误，已经被移除。", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2011] Building the Defense Line", "background": "", "description": "Recently, tensions between Country A and Country B have escalated. To guard against the unexpected, Country A plans to build a long defense line. Of course, if a defense line is built, the cities that need protection must lie inside the line.\n\nHowever, the leadership of Country A is still hesitant about which cities should be protected. Because the budget is limited, they want you to help with the following task:\n\n1. You are given the coordinates of all cities in Country A.\n2. After discussion, considering economic issues, the leadership decides to cancel protection for city $u$, meaning city $u$ no longer needs to be inside the defense line.\n3. The leadership asks: for the remaining cities that still need protection, what is the minimal total cost to build the defense line?\n\nYou need to answer each query. Note that the cost per unit length of the defense line is $1$.\n\nThe terrain of Country A is as follows. As shown in the figure, the $x$-axis is a river, which serves as a natural defense line and does not need to be built.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rkaw5kay.png)\n\nCountry A always has two cities on the riverbank: one at $(0, 0)$ and one at $(n, 0)$. The $x$-coordinates of all other points lie in $(0, n)$, and the $y$-coordinates are greater than $0$.  \nCountry A has a capital that is not at $(0, 0)$ or $(n, 0)$. The three cities $(0, 0)$, $(n, 0)$, and the capital must always be protected.\n\nIn the figure above, points A, B, C, D, E are cities of Country A, and all currently need protection. Then the defense line will be A-B-C-D, and the cost is the length of segment AB plus the length of segment BC plus the length of segment CD. If, at this moment, the protection of point B is canceled, then the defense line becomes the one shown below.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cd7dpmcj.png)", "inputFormat": "The first line contains three integers $n, x, y$, indicating that the riverbank cities and the capital are $(0, 0)$, $(n, 0)$, and $(x, y)$.\n\nThe second line contains an integer $m$.\n\nThe next $m$ lines each contain two integers $a, b$, indicating that the coordinates of a non-capital, non-river city are $(a, b)$.\n\nThen an integer $q$ follows, representing the total number of updates and queries.\n\nEach of the next $q$ lines is either of the form `1 u` or `2`, representing canceling the protection of the $u$-th city and an inquiry, respectively.", "outputFormat": "For each inquiry, output a real number $v$ on one line, representing the cost to build the defense line, with two decimal places.", "hint": "Constraints  \nFor $30\\%$ of the testdata, $1 \\le m, q \\le 1000$.  \nFor $100\\%$ of the testdata, $1 \\le m \\le 10^5$, $1 \\le q \\le 2 \\times 10^5$, $1 < n \\le 10^4$.\n\nAll coordinates are within $10^4$. The testdata guarantees there are no coincident points.\n\n---\n\n~~$\\text{upd 2022.7.21}$: A new hack testdata was added.~~ This testdata was invalid and has been removed.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2011] 防线修建", "background": "", "description": "近来A国和B国的矛盾激化，为了预防不测，A 国准备修建一条长长的防线，当然修建防线的话，肯定要把需要保护的城市修在防线内部了。  \n\n可是A国上层现在还犹豫不决，到底该把哪些城市作为保护对象呢？又由于 A 国的经费有限，所以希望你能帮忙完成如下的一个任务：\n\n1、给出你所有的 A 国城市坐标\n\n2、A国上层经过讨论，考虑到经济问题，决定取消对 $u$ 城市的保护，也就是说 $u$ 城市不需要在防线内了\n\n3、A国上层询问对于剩下要保护的城市，修建防线的总经费最少是多少\n\n你需要对每次询问作出回答。注意单位长度的防线花费为 $1$。\n\nA 国的地形是这样的，形如下图，$x$ 轴是一条河流，相当于一条天然防线，不需要你再修建。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rkaw5kay.png)\n\nA 国总是有两个城市在河边，一个点是 $(0,0)$，一个点是 $(n,0)$，其余所有点的横坐标均在 $(0,n)$ 范围内，纵坐标均大于0。  \nA国有一个不在 $(0,0)$ 和 $(n,0)$ 的首都。$(0,0),(n,0)$ 和首都这三个城市是一定需要保护的。\n\n上图中，A,B,C,D,E 点为 A 国城市，且目前都要保护，那么修建的防线就会是 A-B-C-D，花费也就是线段 AB 的长度+线段 BC 的长度+线段 CD 的长度,如果，这个时候撤销 B 点的保护，那么防线变成下图\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cd7dpmcj.png)\n", "inputFormat": "第一行三个整数 $n,x,y$ 分别表示河边城市和首都是 $(0,0),(n,0),(x,y)$。\n\n第二行一个整数 $m$。\n\n接下来 $m$ 行，每行两个整数 $a,b$ 表示 A 国的一个非首都非河边城市的坐标为 $(a,b)$。\n\n再接下来一个整数 $q$，表示修改和询问总数。\n\n\n接下来 $q$ 行每行要么形如 `1 u`，要么形如 `2`，分别表示撤销第 $u$ 个城市的保护和询问。\n", "outputFormat": "对于每个询问输出一行一个实数 $v$，表示修建防线的花费，保留两位小数。\n", "hint": "【数据范围】   \n对于 $30\\%$ 的数据，$1\\le m,q \\le 1000$；   \n对于 $100\\%$ 的数据，$1\\le m \\le 10^5$，$1\\le q \\le 2 \\times 10^5$，$1 < n \\le 10^4$。\n\n所有点的坐标范围均在 $10^4$ 以内, 数据保证没有重点。\n\n---\n\n~~$\\text{upd 2022.7.21}$：新增加一组 Hack 数据。~~ 该数据有误，已经被移除。", "locale": "zh-CN"}}}
{"pid": "P2522", "type": "P", "difficulty": 5, "samples": [["2\n2 5 1 5 1\n1 5 1 5 2", "14\n3"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2011", "河南", "各省省选", "最大公约数 gcd", "莫比乌斯反演", "容斥原理", "整除分块"], "title": "[HAOI2011] Problem b", "background": "", "description": "对于给出的 $n$ 个询问，每次求有多少个数对 $(x,y)$，满足 $a \\le x \\le b$，$c \\le y \\le d$，且 $\\gcd(x,y) = k$，$\\gcd(x,y)$ 函数为 $x$ 和 $y$ 的最大公约数。", "inputFormat": "第一行一个整数 $n$，接下来 $n$ 行每行五个整数，分别表示 $a,b,c,d,k$。", "outputFormat": "共 $n$ 行，每行一个整数表示满足要求的数对 $(x,y)$ 的个数。", "hint": "对于 $100\\%$ 的数据满足：$1 \\le n,k \\le 5 \\times 10^4$，$1 \\le a \\le b \\le 5 \\times 10^4$，$1 \\le c \\le d \\le 5 \\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2011] Problem b", "background": "", "description": "For each of the given $n$ queries, count the number of pairs $(x,y)$ such that $a \\le x \\le b$, $c \\le y \\le d$, and $\\gcd(x,y) = k$. The function $\\gcd(x,y)$ denotes the greatest common divisor of $x$ and $y$.", "inputFormat": "The first line contains an integer $n$. Each of the next $n$ lines contains five integers, denoting $a, b, c, d, k$.", "outputFormat": "Output $n$ lines, each containing one integer representing the number of pairs $(x,y)$ that satisfy the conditions.", "hint": "Constraints: For $100\\%$ of the testdata, the following holds: $1 \\le n,k \\le 5 \\times 10^4$, $1 \\le a \\le b \\le 5 \\times 10^4$, $1 \\le c \\le d \\le 5 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2011] Problem b", "background": "", "description": "对于给出的 $n$ 个询问，每次求有多少个数对 $(x,y)$，满足 $a \\le x \\le b$，$c \\le y \\le d$，且 $\\gcd(x,y) = k$，$\\gcd(x,y)$ 函数为 $x$ 和 $y$ 的最大公约数。", "inputFormat": "第一行一个整数 $n$，接下来 $n$ 行每行五个整数，分别表示 $a,b,c,d,k$。", "outputFormat": "共 $n$ 行，每行一个整数表示满足要求的数对 $(x,y)$ 的个数。", "hint": "对于 $100\\%$ 的数据满足：$1 \\le n,k \\le 5 \\times 10^4$，$1 \\le a \\le b \\le 5 \\times 10^4$，$1 \\le c \\le d \\le 5 \\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2523", "type": "P", "difficulty": 5, "samples": [["2\n4 3 10\n1 2 2 1 3 1\n10 3 8882\n7 9 2 9 5 10", "YES 4\nNO"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2011", "河南", "各省省选", "组合数学"], "title": "[HAOI2011] Problem c", "background": "", "description": "给 $n$ 个人安排座位，先给每个人一个 $1\\thicksim n$ 的编号，设第 $i$ 个人的编号为 $a_i$（不同人的编号可以相同）。\n\n接着从第一个人开始，大家依次入座，第 $i$ 个人来了以后尝试坐到 $a_i$，如果 $a_i$ 被占据了，就尝试 $a_i+1$，$a_i+1$ 也被占据了的话就尝试 $a_i+2$……，如果一直尝试到第 $n$ 个都不行，该安排方案就不合法。\n\n然而有 $m$ 个人的编号已经确定（他们或许贿赂了你的上司...），你只能安排剩下的人的编号，求有多少种合法的安排方案。\n\n由于答案可能很大，只需输出其除以 $M$ 后的余数即可。", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行有三个整数，分别表示 $n$、$m$、$M$。\n\n若 $m$ 不为 $0$，则接下来一行有 $m$ 对整数，$p_1$、$q_1$，$p_2$、$q_2$，...， $p_m$、$q_m$，其中第 $i$ 对整数 $p_i$、$q_i$ 表示第 $p_i$ 个人的编号必须为 $q_i$。", "outputFormat": "对于每组数据输出一行，若是有解则输出 `YES`，后跟一个整数表示方案数 $\\bmod M$，注意，`YES` 和数之间只有一个空格，否则输出 `NO`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证\n- $1 \\leq T \\leq 10$。\n- $1 \\leq n \\leq 300$， $0 \\leq m \\leq n$， $2 \\leq M \\leq 10^9$。\n- $1 \\leq p_i$、$q_i \\leq n$。\n- $p_i$ 互不相同。 ", "locale": "zh-CN", "translations": {"en": {"title": "[HAOI2011] Problem c", "background": "", "description": "Arrange seats for $n$ people. First, assign each person a label in $1\\thicksim n$. Let the label of the $i$-th person be $a_i$ (different people may share the same label).\n\nThen, starting from the first person, they take seats in order. When the $i$-th person arrives, they try to sit at $a_i$. If $a_i$ is occupied, they try $a_i+1$. If $a_i+1$ is also occupied, they try $a_i+2$, and so on. If all attempts up to seat $n$ fail, the arrangement is invalid.\n\nHowever, the labels of $m$ people have already been fixed (they may have bribed your boss...), and you can only assign labels to the remaining people. Find the number of valid assignment schemes.\n\nSince the answer may be large, output its remainder modulo $M$.", "inputFormat": "The first line contains an integer $T$, denoting the number of test cases.\n\nFor each test case, the first line contains three integers, $n$, $m$, and $M$.\n\nIf $m \\neq 0$, then the next line contains $m$ pairs of integers, $p_1$, $q_1$, $p_2$, $q_2$, ..., $p_m$, $q_m$, where the $i$-th pair $p_i$, $q_i$ means that the label of the $p_i$-th person must be $q_i$.", "outputFormat": "For each test case, output one line. If there is a solution, output `YES` followed by an integer representing the number of schemes $\\bmod M`. Note that there is exactly one space between `YES` and the number. Otherwise, output `NO`.", "hint": "#### Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that\n- $1 \\leq T \\leq 10$.\n- $1 \\leq n \\leq 300$, $0 \\leq m \\leq n$, $2 \\leq M \\leq 10^9$.\n- $1 \\leq p_i, q_i \\leq n$.\n- All $p_i$ are distinct.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HAOI2011] Problem c", "background": "", "description": "给 $n$ 个人安排座位，先给每个人一个 $1\\thicksim n$ 的编号，设第 $i$ 个人的编号为 $a_i$（不同人的编号可以相同）。\n\n接着从第一个人开始，大家依次入座，第 $i$ 个人来了以后尝试坐到 $a_i$，如果 $a_i$ 被占据了，就尝试 $a_i+1$，$a_i+1$ 也被占据了的话就尝试 $a_i+2$……，如果一直尝试到第 $n$ 个都不行，该安排方案就不合法。\n\n然而有 $m$ 个人的编号已经确定（他们或许贿赂了你的上司...），你只能安排剩下的人的编号，求有多少种合法的安排方案。\n\n由于答案可能很大，只需输出其除以 $M$ 后的余数即可。", "inputFormat": "第一行一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行有三个整数，分别表示 $n$、$m$、$M$。\n\n若 $m$ 不为 $0$，则接下来一行有 $m$ 对整数，$p_1$、$q_1$，$p_2$、$q_2$，...， $p_m$、$q_m$，其中第 $i$ 对整数 $p_i$、$q_i$ 表示第 $p_i$ 个人的编号必须为 $q_i$。", "outputFormat": "对于每组数据输出一行，若是有解则输出 `YES`，后跟一个整数表示方案数 $\\bmod M$，注意，`YES` 和数之间只有一个空格，否则输出 `NO`。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证\n- $1 \\leq T \\leq 10$。\n- $1 \\leq n \\leq 300$， $0 \\leq m \\leq n$， $2 \\leq M \\leq 10^9$。\n- $1 \\leq p_i$、$q_i \\leq n$。\n- $p_i$ 互不相同。 ", "locale": "zh-CN"}}}
{"pid": "P2524", "type": "P", "difficulty": 1, "samples": [["3\n231", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "2015", "洛谷原创", "康托展开", "洛谷月赛"], "title": "Uim的情人节礼物·其之弐", "background": null, "description": "前传：详见洛谷 P2525\n\nUim 成功地按照顺序将礼物送到了 $N$ 个妹子的手里并维持她们的和谐。\n\n现在 Uim 想知道，他最终选择的顺序是所有给 $N$ 个妹子送礼顺序中，字典序第几小的。送礼顺序可以看作 $1,2,\\cdots,N$ 的一个排列。", "inputFormat": "第一行一个整数 $N$，表示有 $N$ 个数。\n\n第二行一个整数 $X$，表示给出的排列。", "outputFormat": "一个整数，表示是第几小的字典序。", "hint": "$1\\le N \\le 9$。\n\n请注意输入的排列没有空格。", "locale": "zh-CN", "translations": {"en": {"title": "Uim's Valentine's Gift · Part II", "background": "", "description": "Prequel: see Luogu P2525.\n\nUim successfully delivered gifts to $N$ girls in some order and maintained their harmony.\n\nNow Uim wants to know the lexicographic rank of the final order he chose among all gift-giving orders for $N$ girls. The order can be viewed as a permutation of $1,2,\\cdots,N$.", "inputFormat": "The first line contains an integer $N$.\n\nThe second line contains an integer $X$, representing the given permutation.", "outputFormat": "Output a single integer, indicating its position in lexicographic order.", "hint": "$1\\le N \\le 9$.\n\nPlease note that the permutation in the input has no spaces.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Uim的情人节礼物·其之弐", "background": null, "description": "前传：详见洛谷 P2525\n\nUim 成功地按照顺序将礼物送到了 $N$ 个妹子的手里并维持她们的和谐。\n\n现在 Uim 想知道，他最终选择的顺序是所有给 $N$ 个妹子送礼顺序中，字典序第几小的。送礼顺序可以看作 $1,2,\\cdots,N$ 的一个排列。", "inputFormat": "第一行一个整数 $N$，表示有 $N$ 个数。\n\n第二行一个整数 $X$，表示给出的排列。", "outputFormat": "一个整数，表示是第几小的字典序。", "hint": "$1\\le N \\le 9$。\n\n请注意输入的排列没有空格。", "locale": "zh-CN"}}}
{"pid": "P2525", "type": "P", "difficulty": 2, "samples": [["3\n1 3 2", "1 2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "2015", "洛谷原创", "康托展开", "洛谷月赛"], "title": "Uim的情人节礼物·其之壱", "background": "", "description": "情人节到了，Uim打算给他的后宫们准备情人节礼物。UIm 一共有$N$（$1\\le N\\le 9$）个后宫妹子（现充去死挫骨扬灰!）。\n\n为了维护他的后宫的稳定。他通过编程，得出了一个送礼物的最佳顺序。这个我们管不着。\n\n然而他认为，如果什么事情做得太圆满不是什么好事。于是他希望得到原定顺序的前一个字典序的序列。\n", "inputFormat": "第一行一个整数 $N$。\n\n第二行 $N$ 个整数，表示原定排列。\n", "outputFormat": "输出 $N$ 个数，表示给定排列的前一个排列。特别地，若当前排列已经是第一个，则输出 `ERROR`。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Uim's Valentine's Day Gift · Part I", "background": "", "description": "Valentine's Day has arrived, and Uim plans to prepare Valentine's Day gifts for the members of his harem. Uim has a total of $N$ ($1\\le N\\le 9$) girls in his harem (normies go die and be ground to ashes!).\n\nTo maintain the stability of his harem, he wrote a program and obtained an optimal order for giving the gifts. That's not our concern.\n\nHowever, he believes that making things too perfect is not necessarily a good thing. Therefore, he wants to obtain the sequence that is immediately previous to the original order in lexicographic order.", "inputFormat": "The first line contains an integer $N$.\n\nThe second line contains $N$ integers, representing the original permutation.", "outputFormat": "Output $N$ numbers, representing the previous permutation of the given permutation. Specifically, if the current permutation is already the first in lexicographic order, output `ERROR`.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Uim的情人节礼物·其之壱", "background": "", "description": "情人节到了，Uim打算给他的后宫们准备情人节礼物。UIm 一共有$N$（$1\\le N\\le 9$）个后宫妹子（现充去死挫骨扬灰!）。\n\n为了维护他的后宫的稳定。他通过编程，得出了一个送礼物的最佳顺序。这个我们管不着。\n\n然而他认为，如果什么事情做得太圆满不是什么好事。于是他希望得到原定顺序的前一个字典序的序列。\n", "inputFormat": "第一行一个整数 $N$。\n\n第二行 $N$ 个整数，表示原定排列。\n", "outputFormat": "输出 $N$ 个数，表示给定排列的前一个排列。特别地，若当前排列已经是第一个，则输出 `ERROR`。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2526", "type": "P", "difficulty": 4, "samples": [["4 5\n1 4 5 7 5 2 -2 4\n-4 -2 3 9 1 2 -1 3 8 -3\n", "6\n1 4 3 9 5 7 5 2 1 2 -2 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2001", "各省省选", "上海", "Special Judge", "二分图"], "title": "[SHOI2001] 小狗散步", "background": null, "description": "Grant 喜欢带着他的小狗 Pandog 散步。Grant 以一定的速度沿着固定路线走，该路线可能自交。Pandog 喜欢游览沿途的景点，不过会在给定的  $N$ 个点和主人相遇。小狗和主人同时从  $(X_1,Y_1)$ 点出发，并同时在  $(X_n,Y_n)$ 点汇合。小狗的速度最快是 Grant 的两倍。当主人从一个点以直线走向另一个点时，Pandog 跑向一个它感兴趣的景点。Pandog 每次与主人相遇之前最多只去一个景点。\n\n你现在的任务是：为 Pandog 寻找一条路线（有可能与主人的路线部分相同），使它能够游览最多的景点，并能够准时与主人在给定地点相遇或者汇合。", "inputFormat": "第一行是两个整数  $N$ 和  $M$。\n\n第二行的  $N$ 个整数坐标给出了 Grant 的散步路线，即 Pandog 和主人相遇地点。\n\n第三行的  $M$ 个整数坐标给出了所有 Pandog 感兴趣的景点。", "outputFormat": "输出小狗的移动路线。\n\n第一行是经过的点数，第二行依次为经过的点的二维坐标。", "hint": "对于所有数据，有  $1\\le N,M\\le 100$，所有输入的坐标均不相同，且绝对值不超过  $10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2001] Puppy Walk", "background": "", "description": "Grant likes to take his puppy, Pandog, for walks. Grant moves at a constant speed along a fixed route, which may self‑intersect. Pandog enjoys visiting points of interest along the way, but will meet the owner at the given $N$ points. The puppy and the owner start simultaneously from $(X_1, Y_1)$ and finish together at $(X_N, Y_N)$. The puppy’s maximum speed is twice Grant’s speed. While the owner walks in a straight line from one meeting point to the next, Pandog may run to a point of interest. Before each meeting with the owner, Pandog visits at most one point of interest.\n\nYour task is to find a route for Pandog (which may partially coincide with the owner’s route) so that it can visit as many points of interest as possible, while still meeting the owner on time at each specified meeting point and at the final rendezvous.", "inputFormat": "The first line contains two integers $N$ and $M$.\n\nThe second line contains $N$ 2D integer coordinates, giving Grant’s walking route in order, i.e., the meeting points with Pandog.\n\nThe third line contains $M$ 2D integer coordinates, giving all points of interest that Pandog is interested in.", "outputFormat": "Output the puppy’s movement route.\n\nThe first line contains the number of points visited. The second line contains the 2D coordinates of the visited points in order.", "hint": "For all testdata, $1 \\le N, M \\le 100$, all input coordinates are distinct, and their absolute values do not exceed $10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2001] 小狗散步", "background": null, "description": "Grant 喜欢带着他的小狗 Pandog 散步。Grant 以一定的速度沿着固定路线走，该路线可能自交。Pandog 喜欢游览沿途的景点，不过会在给定的  $N$ 个点和主人相遇。小狗和主人同时从  $(X_1,Y_1)$ 点出发，并同时在  $(X_n,Y_n)$ 点汇合。小狗的速度最快是 Grant 的两倍。当主人从一个点以直线走向另一个点时，Pandog 跑向一个它感兴趣的景点。Pandog 每次与主人相遇之前最多只去一个景点。\n\n你现在的任务是：为 Pandog 寻找一条路线（有可能与主人的路线部分相同），使它能够游览最多的景点，并能够准时与主人在给定地点相遇或者汇合。", "inputFormat": "第一行是两个整数  $N$ 和  $M$。\n\n第二行的  $N$ 个整数坐标给出了 Grant 的散步路线，即 Pandog 和主人相遇地点。\n\n第三行的  $M$ 个整数坐标给出了所有 Pandog 感兴趣的景点。", "outputFormat": "输出小狗的移动路线。\n\n第一行是经过的点数，第二行依次为经过的点的二维坐标。", "hint": "对于所有数据，有  $1\\le N,M\\le 100$，所有输入的坐标均不相同，且绝对值不超过  $10^3$。", "locale": "zh-CN"}}}
{"pid": "P2527", "type": "P", "difficulty": 4, "samples": [["2 7\n3 5", "45\n\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2001", "各省省选", "离散化", "上海"], "title": "[SHOI2001] Panda的烦恼", "background": null, "description": "panda 是个数学怪人，他非常喜欢研究跟别人相反的事情。最近他正在研究筛法，众所周知，对一个范围内的整数，经过筛法处理以后，剩下的全部都是质数，不过 panda 对这些不感兴趣，他只对被筛掉的数感兴趣，他觉得在这些被筛掉的数中一定隐藏着重要的宇宙秘密，只是人们还没有发现罢了。\n\npanda 还觉得如果只是单纯地从小到大筛的话，还不足够发现其中的奥秘，于是他决定对至多只包含某些质因数的数进行研究（比如说至多只包含质因数  $2,3$ 的数有  $2,3,4,6,8,9,\\ldots$），他需要得到这些数中第 $k$ 小的数（$k$ 是 panda 认为的宇宙系数），请你编个程序，帮助他找到这个数。", "inputFormat": "第一行有两个整数 $n,k$，$n$ 代表质因数的个数，$k$ 代表那个宇宙系数。\n\n第二行有 $n$ 个整数，代表这 $n$ 个质因数，设这些质因数组成的序列为 $p$。", "outputFormat": "仅一行，即至多只包含这 $n$ 个质因数的数中第 $k$ 小的正整数，设这个答案为 $ans$。", "hint": "#### 样例解释\n\n前六个数分别是  $3,5,9,15,25,27$。\n\n#### 数据范围及限制\n\n对于所有数据，有:\n- $1\\le n\\le 100$\n- $1\\le k\\le 10^5$\n- $\\forall 1 \\le i < j \\le n,p_i \\ne p_j \\ \\text{且} \\ p_i \\in \\mathbb{P}$\n- $1\\le ans\\le 2\\times 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2001] Panda's Trouble", "background": "", "description": "panda is a math geek who loves studying things that go against the grain. Recently, he has been looking into sieve methods. As is well known, after applying a sieve to integers in a range, the remaining numbers are all primes. But panda is not interested in those; he is only interested in the numbers that get crossed out. He believes that important cosmic secrets are hidden among these eliminated numbers, which people just have not discovered yet.\n\npanda also thinks that simply sieving in ascending order is not enough to reveal the mystery, so he decides to study numbers that contain at most certain prime factors (for example, the numbers that contain at most the prime factors $2,3$ are $2,3,4,6,8,9,\\ldots$). He needs to obtain the $k$-th smallest among such numbers ($k$ is what panda calls the cosmic coefficient). Please write a program to help him find this number.", "inputFormat": "The first line contains two integers $n,k$, where $n$ is the number of prime factors, and $k$ is that cosmic coefficient.\n\nThe second line contains $n$ integers, representing these $n$ prime factors. Let the sequence formed by these primes be $p$.", "outputFormat": "Output a single line: the $k$-th smallest positive integer that contains at most these $n$ prime factors. Denote this answer by $ans$.", "hint": "#### Sample explanation\n\nThe first six numbers are $3,5,9,15,25,27$.\n\n#### Constraints\n\nFor all testdata, $1\\le n\\le 100$, $1\\le k\\le 10^5$, $p_i\\in\\text{prime}$, $p_i\\le 10^3$, $p_i\\not=p_j(i\\not=j)$, $1\\le ans\\le 2\\times 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2001] Panda的烦恼", "background": null, "description": "panda 是个数学怪人，他非常喜欢研究跟别人相反的事情。最近他正在研究筛法，众所周知，对一个范围内的整数，经过筛法处理以后，剩下的全部都是质数，不过 panda 对这些不感兴趣，他只对被筛掉的数感兴趣，他觉得在这些被筛掉的数中一定隐藏着重要的宇宙秘密，只是人们还没有发现罢了。\n\npanda 还觉得如果只是单纯地从小到大筛的话，还不足够发现其中的奥秘，于是他决定对至多只包含某些质因数的数进行研究（比如说至多只包含质因数  $2,3$ 的数有  $2,3,4,6,8,9,\\ldots$），他需要得到这些数中第 $k$ 小的数（$k$ 是 panda 认为的宇宙系数），请你编个程序，帮助他找到这个数。", "inputFormat": "第一行有两个整数 $n,k$，$n$ 代表质因数的个数，$k$ 代表那个宇宙系数。\n\n第二行有 $n$ 个整数，代表这 $n$ 个质因数，设这些质因数组成的序列为 $p$。", "outputFormat": "仅一行，即至多只包含这 $n$ 个质因数的数中第 $k$ 小的正整数，设这个答案为 $ans$。", "hint": "#### 样例解释\n\n前六个数分别是  $3,5,9,15,25,27$。\n\n#### 数据范围及限制\n\n对于所有数据，有:\n- $1\\le n\\le 100$\n- $1\\le k\\le 10^5$\n- $\\forall 1 \\le i < j \\le n,p_i \\ne p_j \\ \\text{且} \\ p_i \\in \\mathbb{P}$\n- $1\\le ans\\le 2\\times 10^9$。", "locale": "zh-CN"}}}
{"pid": "P2528", "type": "P", "difficulty": 4, "samples": [["4 3", "6\n1 4 3 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2001", "各省省选", "上海"], "title": "[SHOI2001] 排序工作量之新任务", "background": "", "description": "假设我们将序列中第 $i$ 件物品的参数定义为 $A_i$，那么排序就是指将 $A_1, \\cdots ,A_n$ 从小到大排序。若 $i<j$ 且 $A_i>A_j$ ，则 $(i,j)$ 就为一个“逆序对”。SORT 公司是一个专门为用户提供排序服务的公司，他们的收费标准就是被要求排序物品的“逆序对”的个数，简称“逆序数”。\n\nGrant 是这家公司的排序员，他想知道对于 $n$ 个参数都不同的物品组成的序列集合中，逆序对数为 $t$ 的物品有多少个，并试给出其中一个最小的物品序列。所谓最小，即若有两个物品序列 $(A_1,A_2,\\cdots ,A_n)$，$(B_1,B_2,\\cdots ,B_n)$，存在 $1 \\le i \\le n$，使得 $(A_1,A_2,\\cdots ,A_{i-1})=(B_1,B_2,\\cdots,B_{i-1})$ 且$A_i<B_i$。\n", "inputFormat": "即两个整数 $n$和 $t(1 \\le n \\le 20,0 \\le t \\le \\dfrac{n\\cdot (n-1)}{2})$。\n", "outputFormat": "第一行表示 $n$ 个参数都不通的物品组成的序列集合中，逆序数为 $t$ 的序列个数；\n\n第二行是所求物品参数序列。假设 $n$ 个物品分别为 $1$ 到 $n$。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2001] New Task on Sorting Workload", "background": "", "description": "Suppose we define the parameter of the $i$-th item as $A_i$. Sorting means arranging $A_1, \\cdots ,A_n$ in ascending order. If $i < j$ and $A_i > A_j$, then $(i, j)$ is an “inversion pair.” The SORT company specializes in providing sorting services. Their pricing is based on the number of inversion pairs among the items to be sorted, called the “inversion count.”\n\nGrant is a sorter at this company. He wants to know, among all sequences of $n$ items with distinct parameters, how many have inversion count $t$, and to also provide one lexicographically smallest such sequence. “Smallest” means: for two sequences $(A_1,A_2,\\cdots ,A_n)$ and $(B_1,B_2,\\cdots ,B_n)$, if there exists $1 \\le i \\le n$ such that $(A_1,A_2,\\cdots ,A_{i-1})=(B_1,B_2,\\cdots ,B_{i-1})$ and $A_i < B_i$.", "inputFormat": "Two integers $n$ and $t$ ($1 \\le n \\le 20$, $0 \\le t \\le \\dfrac{n\\cdot (n-1)}{2}$).", "outputFormat": "- The first line contains the number of sequences of $n$ distinct items whose inversion count is $t$.\n- The second line is the requested sequence of item parameters. Assume the $n$ items are labeled $1$ to $n$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2001] 排序工作量之新任务", "background": "", "description": "假设我们将序列中第 $i$ 件物品的参数定义为 $A_i$，那么排序就是指将 $A_1, \\cdots ,A_n$ 从小到大排序。若 $i<j$ 且 $A_i>A_j$ ，则 $(i,j)$ 就为一个“逆序对”。SORT 公司是一个专门为用户提供排序服务的公司，他们的收费标准就是被要求排序物品的“逆序对”的个数，简称“逆序数”。\n\nGrant 是这家公司的排序员，他想知道对于 $n$ 个参数都不同的物品组成的序列集合中，逆序对数为 $t$ 的物品有多少个，并试给出其中一个最小的物品序列。所谓最小，即若有两个物品序列 $(A_1,A_2,\\cdots ,A_n)$，$(B_1,B_2,\\cdots ,B_n)$，存在 $1 \\le i \\le n$，使得 $(A_1,A_2,\\cdots ,A_{i-1})=(B_1,B_2,\\cdots,B_{i-1})$ 且$A_i<B_i$。\n", "inputFormat": "即两个整数 $n$和 $t(1 \\le n \\le 20,0 \\le t \\le \\dfrac{n\\cdot (n-1)}{2})$。\n", "outputFormat": "第一行表示 $n$ 个参数都不通的物品组成的序列集合中，逆序数为 $t$ 的序列个数；\n\n第二行是所求物品参数序列。假设 $n$ 个物品分别为 $1$ 到 $n$。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2529", "type": "P", "difficulty": 4, "samples": [["11\n12\n13\n14\n15\n", "8\n6\n8\n2\n8\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["高精度", "2001", "各省省选", "递归", "上海"], "title": "[SHOI2001] 击鼓传花", "background": "", "description": "HC(Happy Child)小朋友最近经常在教室里跟同学一起玩击鼓传花的游戏，规则是第 $n$ 个拿到花的小朋友必须说出 $n!$ 最后一位非 0 的数字，如此循环游戏，如果谁讲错了就得罚唱一支歌曲。\n\n经过几次游戏，HC 小朋友认为只要把前一个小朋友说得数字去乘以 $n$，说出得到的数的最后一位非 $0$ 的数字就可以了，可惜 HC 小朋友这次轮到了第 $15$ 个，结果被罚了唱歌(应该是 $8$，但是HC小朋友却说了$3$)。\n\nHC 小朋友不希望这样的事情再次发生，所以希望你能编写一个程序，能够计算出 $n!$ 的最后一位非 $0$ 的数字。\n", "inputFormat": "输入有 $5$ 行，第 $i$ ($1\\le i\\le 5$) 行是一个 $n$ ($1\\le n\\le10^{100}$)。\n", "outputFormat": "输出有 $5$ 行。\n\n第 $i$ 行对应输入中第 $i$ 行的 $n$ 的阶乘的最后一位非 $0$ 的数字。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2001] Passing the Flower", "background": "", "description": "HC (Happy Child) and classmates often play a game called \"passing the flower\" in the classroom. The rule is that the child who gets the flower for the $n$-th time must say the last non-zero digit of $n!$. The game proceeds in cycles, and anyone who answers incorrectly has to sing a song as a penalty.\n\nAfter a few rounds, HC believed that one could simply multiply the previous child's number by $n$ and then say the last non-zero digit of the resulting number. Unfortunately, when it was HC's turn at $n = 15$, HC answered $3$ and was penalized, while the correct answer should have been $8$.\n\nHC does not want this to happen again, so you are asked to write a program that computes the last non-zero digit of $n!$.", "inputFormat": "There are $5$ lines of input. The $i$-th ($1 \\le i \\le 5$) line contains an $n$ ($1 \\le n \\le 10^{100}$).", "outputFormat": "Output $5$ lines.\n\nThe $i$-th line should be the last non-zero digit of the factorial of the $n$ on the $i$-th input line.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2001] 击鼓传花", "background": "", "description": "HC(Happy Child)小朋友最近经常在教室里跟同学一起玩击鼓传花的游戏，规则是第 $n$ 个拿到花的小朋友必须说出 $n!$ 最后一位非 0 的数字，如此循环游戏，如果谁讲错了就得罚唱一支歌曲。\n\n经过几次游戏，HC 小朋友认为只要把前一个小朋友说得数字去乘以 $n$，说出得到的数的最后一位非 $0$ 的数字就可以了，可惜 HC 小朋友这次轮到了第 $15$ 个，结果被罚了唱歌(应该是 $8$，但是HC小朋友却说了$3$)。\n\nHC 小朋友不希望这样的事情再次发生，所以希望你能编写一个程序，能够计算出 $n!$ 的最后一位非 $0$ 的数字。\n", "inputFormat": "输入有 $5$ 行，第 $i$ ($1\\le i\\le 5$) 行是一个 $n$ ($1\\le n\\le10^{100}$)。\n", "outputFormat": "输出有 $5$ 行。\n\n第 $i$ 行对应输入中第 $i$ 行的 $n$ 的阶乘的最后一位非 $0$ 的数字。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2530", "type": "P", "difficulty": 4, "samples": [["11\nA\nB\nC\nA\nB\nC\nA\nB\nC\nA\nB\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2001", "各省省选", "上海", "枚举"], "title": "[SHOI2001] 化工厂装箱员", "background": "", "description": "118 号工厂是世界唯一秘密提炼锎的化工厂，由于提炼锎的难度非常高，技术不是十分完善，所以工厂生产的锎成品可能会有 $3$ 种不同的纯度，$A$：$100\\%$，$B$：$1\\%$，$C$：$0.01\\%$，为了出售方便，必须把不同纯度的成品分开装箱，装箱员 grant 第 $1$ 次顺序从流水线上取 $10$ 个成品（如果一共不足 $10$ 个，则全部取出），以后每一次把手中某种纯度的成品放进相应的箱子，然后再从流水线上顺序取一些成品，使手中保持 $10$ 个成品（如果把剩下的全部取出不足 $10$ 个，则全部取出），如果所有的成品都装进了箱子，那么 grant 的任务就完成了。\n\n由于装箱是件非常累的事情，grant 希望他能够以最少的装箱次数来完成他的任务，现在他请你编个程序帮助他。\n", "inputFormat": "第 $1$ 行为 $n$（$1\\le n\\le 100$），为成品的数量。\n\n以后 $n$ 行，每行为一个大写字母 $\\texttt A$，$\\texttt B$ 或 $\\texttt C$，表示成品的纯度。\n", "outputFormat": "仅一行，为 grant 需要的最少的装箱次数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2001] Chemical Plant Packer", "background": "", "description": "Factory No. 118 is the world’s only secret chemical plant that refines californium. Because refining californium is very difficult and the technology is not very mature, the finished products may have $3$ different purities: $A$: $100\\%$, $B$: $1\\%$, $C$: $0.01\\%$. For convenient sale, products of different purities must be boxed separately. The packer Grant first takes $10$ products from the assembly line in order (if there are fewer than $10$ in total, he takes all of them). After that, each time he puts all products of one purity in his hand into the corresponding box, and then takes products from the assembly line in order so that he again holds $10$ products (if taking all the remaining ones still makes fewer than $10$, he takes all of them). If all the products have been boxed, then Grant’s task is finished.\n\nSince boxing is very tiring, Grant hopes he can finish his task with the fewest number of boxing operations. Now he asks you to write a program to help him.", "inputFormat": "The first line is $n$ ( $1\\le n\\le 100$ ), the number of products.\n\nThen $n$ lines follow, each containing one uppercase letter $\\texttt A$, $\\texttt B$ or $\\texttt C$, indicating the product’s purity.", "outputFormat": "A single line containing the minimum number of boxing operations Grant needs.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2001] 化工厂装箱员", "background": "", "description": "118 号工厂是世界唯一秘密提炼锎的化工厂，由于提炼锎的难度非常高，技术不是十分完善，所以工厂生产的锎成品可能会有 $3$ 种不同的纯度，$A$：$100\\%$，$B$：$1\\%$，$C$：$0.01\\%$，为了出售方便，必须把不同纯度的成品分开装箱，装箱员 grant 第 $1$ 次顺序从流水线上取 $10$ 个成品（如果一共不足 $10$ 个，则全部取出），以后每一次把手中某种纯度的成品放进相应的箱子，然后再从流水线上顺序取一些成品，使手中保持 $10$ 个成品（如果把剩下的全部取出不足 $10$ 个，则全部取出），如果所有的成品都装进了箱子，那么 grant 的任务就完成了。\n\n由于装箱是件非常累的事情，grant 希望他能够以最少的装箱次数来完成他的任务，现在他请你编个程序帮助他。\n", "inputFormat": "第 $1$ 行为 $n$（$1\\le n\\le 100$），为成品的数量。\n\n以后 $n$ 行，每行为一个大写字母 $\\texttt A$，$\\texttt B$ 或 $\\texttt C$，表示成品的纯度。\n", "outputFormat": "仅一行，为 grant 需要的最少的装箱次数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2531", "type": "P", "difficulty": 5, "samples": [["5\n0.902 0.540 0.862 0.283 0.498 0.597 0.900 0.076 0.750 0.539 \n0.342 0.574 0.743 0.442 0.579 0.502 0.755 0.649 0.835 0.278 \n0.105 0.704 0.274 0.733 0.725 0.861 0.007 0.314 0.099 0.542 \n0.785 0.754 0.541 0.331 0.430 0.426 0.928 0.385 0.314 0.892 \n0.349 0.354 0.408 0.353 0.333 0.180 0.715 0.013 0.563 0.386 \n0.131 0.564 0.265 0.700 0.033 \n0.293 0.688 0.140 0.130 0.550 \n0.346 0.915 0.385 0.536 0.946 \n0.739 0.051 0.682 0.166 0.436 \n0.122 0.065 0.724 0.934 0.736\n", "0.529237"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2001", "各省省选", "上海"], "title": "[SHOI2001] 三国围棋对抗赛", "background": "中国邀请韩国，日本围棋队来参加三国围棋对抗赛，韩国，日本应邀各派了 $5$ 位超一流高手来参赛，中国围棋队希望能赢得这场比赛，但是这 $10$ 位高手实力不俗。不过中国队作为东道主，可以在对方选手安排好出场顺序后再决定队员的组成以及出场顺序，以得到最大的获胜概率。", "description": "比赛规则如下：先抽签决定第 $1$ 轮轮空的队，由不轮空的 $2$ 支队的 $1$ 号队员进行比赛，失利的队员被淘汰，以后每次由前一轮获胜的队员与前一轮轮空的队剩下的队员中序号最小的队员进行比赛，直到只剩下一个国家的队员为止，这个国家就获得了比赛的胜利。\n\n>注：当场上只有两支队伍有队员没被淘汰时忽略轮空，即每次都是这两支队伍中序号分别最小的两个队员进行比赛，输的淘汰。", "inputFormat": "第 $1$ 行为一个数 $n~(5\\le n\\le15)$，中国队的候选人数。\n\n接下来是 $n$ 行，每行有 $10$ 个数。\n\n第 $i+1~(1\\le i\\le n)$ 行的 $10$ 个数依次表示第 $i$ 位中国选手对韩国 $1\\sim5$ 号，日本 $1\\sim5$ 号的胜率，胜率 $k~(0\\le k\\le1)$。\n\n再接下来是 $5$ 行，每行有 $5$ 个数。\n\n第 $i+n+1~(1\\le i\\le n)$ 行的第 $j$ 个数表示韩国 $i$ 号选手对日本 $j$ 号选手的胜率。", "outputFormat": "仅 $1$ 行，为中国队的最大的获胜概率，保留 $6$ 位小数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2001] Three-Nation Go Team Competition", "background": "China invited the Korean and Japanese Go teams to a three-nation team competition. Korea and Japan each sent 5 top-tier players. Team China hopes to win the match, but those 10 players are very strong. However, as the host, after the other two teams have fixed their rosters and playing orders, Team China may decide its own roster and playing order to maximize its winning probability.", "description": "The rules are as follows: first, a draw determines the team that has a bye in round $1$. Then the No. $1$ players of the two non-bye teams play; the loser is eliminated. Thereafter, in each round, the previous winner plays against the smallest-index remaining player from the team that had the bye in the previous round. This continues until only one country still has players remaining; that country wins.\n\n> Note: When only two teams still have players not eliminated, ignore byes. In each round, the two smallest-index players from those two teams play, and the loser is eliminated.", "inputFormat": "The first line contains a number $n$ $(5 \\le n \\le 15)$, the number of candidates for Team China.\n\nThen follow $n$ lines, each containing $10$ numbers.\n\nIn line $i+1$ $(1 \\le i \\le n)$, the $10$ numbers are the win probabilities of Chinese candidate $i$ against Korea No. $1 \\sim 5$ and Japan No. $1 \\sim 5$, respectively; each probability is $k$ $(0 \\le k \\le 1)$.\n\nNext are $5$ lines, each containing $5$ numbers.\n\nIn line $n+i+1$ $(1 \\le i \\le 5)$, the $j$-th number is the win probability that Korea player $i$ defeats Japan player $j$.", "outputFormat": "Output a single line: the maximum winning probability for Team China, to $6$ decimal places.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2001] 三国围棋对抗赛", "background": "中国邀请韩国，日本围棋队来参加三国围棋对抗赛，韩国，日本应邀各派了 $5$ 位超一流高手来参赛，中国围棋队希望能赢得这场比赛，但是这 $10$ 位高手实力不俗。不过中国队作为东道主，可以在对方选手安排好出场顺序后再决定队员的组成以及出场顺序，以得到最大的获胜概率。", "description": "比赛规则如下：先抽签决定第 $1$ 轮轮空的队，由不轮空的 $2$ 支队的 $1$ 号队员进行比赛，失利的队员被淘汰，以后每次由前一轮获胜的队员与前一轮轮空的队剩下的队员中序号最小的队员进行比赛，直到只剩下一个国家的队员为止，这个国家就获得了比赛的胜利。\n\n>注：当场上只有两支队伍有队员没被淘汰时忽略轮空，即每次都是这两支队伍中序号分别最小的两个队员进行比赛，输的淘汰。", "inputFormat": "第 $1$ 行为一个数 $n~(5\\le n\\le15)$，中国队的候选人数。\n\n接下来是 $n$ 行，每行有 $10$ 个数。\n\n第 $i+1~(1\\le i\\le n)$ 行的 $10$ 个数依次表示第 $i$ 位中国选手对韩国 $1\\sim5$ 号，日本 $1\\sim5$ 号的胜率，胜率 $k~(0\\le k\\le1)$。\n\n再接下来是 $5$ 行，每行有 $5$ 个数。\n\n第 $i+n+1~(1\\le i\\le n)$ 行的第 $j$ 个数表示韩国 $i$ 号选手对日本 $j$ 号选手的胜率。", "outputFormat": "仅 $1$ 行，为中国队的最大的获胜概率，保留 $6$ 位小数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2532", "type": "P", "difficulty": 4, "samples": [["3", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "高精度", "2012", "各省省选", "安徽", "Catalan 数"], "title": "[AHOI2012] 树屋阶梯", "background": "", "description": " ![](https://cdn.luogu.com.cn/upload/pic/1630.png) \n\n ![](https://cdn.luogu.com.cn/upload/pic/1631.png) \n\n", "inputFormat": "一个正整数 $N$，表示阶梯的高度。\n", "outputFormat": "一个正整数，表示搭建方法的个数。**注**：搭建方法的个数可能很大。\n", "hint": "- 对于 $40\\%$ 的数据，满足 $1\\le N\\le 20$。\n- 对于 $80\\%$ 的数据，满足 $1\\le N\\le 300$。\n- 对于 $100\\%$ 的数据，满足 $1\\le N\\le 500$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2012] Treehouse Staircase", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/pic/1630.png) \n\n ![](https://cdn.luogu.com.cn/upload/pic/1631.png)", "inputFormat": "A positive integer $N$, representing the height of the staircase.", "outputFormat": "A positive integer, representing the number of ways to build it. **Note**: The number of ways may be very large.", "hint": "- For $40\\%$ of the testdata, $1 \\le N \\le 20$.\n- For $80\\%$ of the testdata, $1 \\le N \\le 300$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2012] 树屋阶梯", "background": "", "description": " ![](https://cdn.luogu.com.cn/upload/pic/1630.png) \n\n ![](https://cdn.luogu.com.cn/upload/pic/1631.png) \n\n", "inputFormat": "一个正整数 $N$，表示阶梯的高度。\n", "outputFormat": "一个正整数，表示搭建方法的个数。**注**：搭建方法的个数可能很大。\n", "hint": "- 对于 $40\\%$ 的数据，满足 $1\\le N\\le 20$。\n- 对于 $80\\%$ 的数据，满足 $1\\le N\\le 300$。\n- 对于 $100\\%$ 的数据，满足 $1\\le N\\le 500$。\n", "locale": "zh-CN"}}}
{"pid": "P2533", "type": "P", "difficulty": 6, "samples": [["5\n1.200 1.200\n2.400 2.400\n3.800 4.500\n2.500 3.100\n3.900 1.300", "2.50 2.85 2.10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "2012", "各省省选", "安徽", "随机化"], "title": "[AHOI2012] 信号塔", "background": "", "description": "在野外训练中，为了确保每位参加集训的成员安全，实时的掌握和收集周边环境和队员信息非常重要，集训队采用的方式是在训练所在地散布 $N$ 个小型传感器来收集并传递信息，这些传感器只与设在集训地中的信号塔进行通信，信号塔接收信号的覆盖范围是圆形，可以接收到所有分布在该集训区域内所有 $N$ 个小型传感器（包括在该圆形的边上）发出的信号。信号塔的功率与信号塔接收范围半径的大小成正比，因为是野外训练，只能使用事先储备好的蓄电设备，因此在可以收集所有传感器信息的基础上，还应使得信号塔的功率最小。小龙帮助教官确定了一种信号塔设置的方案，既可以收集到所有 $N$ 个传感器的信号，又可以保证这个信号塔的功率是最小的。同学们，你们知道，这个信号塔的信号收集半径有多大，它应该设置在何处吗?", "inputFormat": "共 $N+1$ 行，第一行为正整数 $N$，表示队员个数。接下来 $N$ 行，每行两个实数用空格分开，分别是第 $i$ 个队员的坐标 $x_i$ 和 $y_i$ （$x_i,y_i$ 不超过双精度范围）。", "outputFormat": "一行，共三个实数（中间用空格隔开），分别是信号塔的坐标，和信号塔覆盖的半径。", "hint": "队员是否在边界上的判断应该符合他到圆心的距离与信号塔接受半径的差的绝对值小于 $10^{-6}$，最终结果保留 $2$ 位小数。\n\n对于 $30\\%$ 的数据，满足 $1\\le N \\le 10^4$  \n对于 $70\\%$ 的数据，满足 $1\\le N \\le 2\\times10^4$  \n对于 $100\\%$ 的数据，满足 $1\\le N \\le 10^6$\n\n本题存在 hack 数据，计 0 分。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2012] Signal Tower", "background": "", "description": "During field training, to ensure the safety of every participant, it is very important to monitor and collect information about the surrounding environment and team members in real time. The training team deploys $N$ small sensors around the training site to collect and transmit information. These sensors communicate only with a signal tower set up within the training area. The signal tower’s reception coverage is circular; it can receive signals from all $N$ sensors distributed in the area, including those on the circle’s boundary. The tower’s power is proportional to the radius of its reception range. Because this is field training and only pre-stored battery equipment can be used, under the condition that all sensor information can be collected, the tower’s power should be minimized. Xiaolong has helped the instructor determine a placement scheme that both collects all $N$ sensors’ signals and minimizes the tower’s power. Students, can you determine how large the tower’s signal collection radius should be, and where it should be placed?", "inputFormat": "There are $N + 1$ lines. The first line contains a positive integer $N$, the number of sensors. The next $N$ lines each contain two real numbers separated by a space, which are the coordinates $x_i$ and $y_i$ of the $i$-th sensor ($x_i, y_i$ are within the range of double precision).", "outputFormat": "One line containing three real numbers separated by spaces: the coordinates of the signal tower and the tower’s coverage radius.", "hint": "- Determine that a sensor lies on the boundary if the absolute value of the difference between its distance to the circle center and the tower’s reception radius is less than $10^{-6}$. Keep the final result to $2$ decimal places.\n- Constraints:\n  - For $30\\%$ of the testdata, $1 \\le N \\le 10^4$.\n  - For $70\\%$ of the testdata, $1 \\le N \\le 2 \\times 10^4$.\n  - For $100\\%$ of the testdata, $1 \\le N \\le 10^6$.\n- This problem contains hack testdata and is scored as $0$ points.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2012] 信号塔", "background": "", "description": "在野外训练中，为了确保每位参加集训的成员安全，实时的掌握和收集周边环境和队员信息非常重要，集训队采用的方式是在训练所在地散布 $N$ 个小型传感器来收集并传递信息，这些传感器只与设在集训地中的信号塔进行通信，信号塔接收信号的覆盖范围是圆形，可以接收到所有分布在该集训区域内所有 $N$ 个小型传感器（包括在该圆形的边上）发出的信号。信号塔的功率与信号塔接收范围半径的大小成正比，因为是野外训练，只能使用事先储备好的蓄电设备，因此在可以收集所有传感器信息的基础上，还应使得信号塔的功率最小。小龙帮助教官确定了一种信号塔设置的方案，既可以收集到所有 $N$ 个传感器的信号，又可以保证这个信号塔的功率是最小的。同学们，你们知道，这个信号塔的信号收集半径有多大，它应该设置在何处吗?", "inputFormat": "共 $N+1$ 行，第一行为正整数 $N$，表示队员个数。接下来 $N$ 行，每行两个实数用空格分开，分别是第 $i$ 个队员的坐标 $x_i$ 和 $y_i$ （$x_i,y_i$ 不超过双精度范围）。", "outputFormat": "一行，共三个实数（中间用空格隔开），分别是信号塔的坐标，和信号塔覆盖的半径。", "hint": "队员是否在边界上的判断应该符合他到圆心的距离与信号塔接受半径的差的绝对值小于 $10^{-6}$，最终结果保留 $2$ 位小数。\n\n对于 $30\\%$ 的数据，满足 $1\\le N \\le 10^4$  \n对于 $70\\%$ 的数据，满足 $1\\le N \\le 2\\times10^4$  \n对于 $100\\%$ 的数据，满足 $1\\le N \\le 10^6$\n\n本题存在 hack 数据，计 0 分。", "locale": "zh-CN"}}}
{"pid": "P2534", "type": "P", "difficulty": 5, "samples": [["5\n2 4 3 5 1", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2012", "各省省选", "安徽", "排序", "剪枝", "启发式迭代加深搜索 IDA*", "A*  算法"], "title": "[AHOI2012] 铁盘整理", "background": "", "description": "在训练中，一些臂力训练器材是少不了的，小龙在练习的时候发现举重器械上的铁盘放置的非常混乱，并没有按照从轻到重的顺序摆放，这样非常不利于循序渐进的锻炼。他打算利用一个非常省力气的办法来整理这些铁盘，即每次都拿起最上面的若干个圆盘并利用器械的力量上下翻转，这样翻转若干次以后，铁盘将会按照从小到大的顺序排列好。那么你能不能帮小龙确定，最少翻转几次就可以使铁盘按从小到大排序呢？\n\n例如：下面的铁盘经过如图所示的以下几个步骤的翻转后变为从小到大排列。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xtpst1lw.png)", "inputFormat": "共两行。第一行为铁盘个数 $N$（$1 \\leq N \\leq 16$），第二行为 $N$ 个不同的正整数，分别为从上到下的铁盘的半径 $R$（$1 \\leq R \\leq 100$）。\n", "outputFormat": "一个正整数，表示使铁盘从小到大有序需要的最少翻转次数。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2012] Iron Plate Sorting", "background": "", "description": "During training, some arm-strength equipment is indispensable. When Xiaolong was practicing, he found that the iron plates on the weightlifting machine were placed in a very chaotic order, not arranged from light to heavy, which is not conducive to gradual training. He plans to use a very effortless method to organize these plates: each time, he picks up the top several plates and uses the machine’s force to flip them as a block. After flipping several times, the plates will be arranged from small to large. Can you help Xiaolong determine the minimum number of flips needed to sort the plates from smallest to largest?\n\nFor example: the plates below become sorted from small to large after the flips shown in the figure.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xtpst1lw.png)", "inputFormat": "There are two lines.  \nThe first line contains the number of plates $N$ ($1 \\leq N \\leq 16$).  \nThe second line contains $N$ distinct positive integers, which are the radii $R$ of the plates from top to bottom ($1 \\leq R \\leq 100$).", "outputFormat": "Output a single positive integer, the minimum number of flips required to make the plates ordered from small to large.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2012] 铁盘整理", "background": "", "description": "在训练中，一些臂力训练器材是少不了的，小龙在练习的时候发现举重器械上的铁盘放置的非常混乱，并没有按照从轻到重的顺序摆放，这样非常不利于循序渐进的锻炼。他打算利用一个非常省力气的办法来整理这些铁盘，即每次都拿起最上面的若干个圆盘并利用器械的力量上下翻转，这样翻转若干次以后，铁盘将会按照从小到大的顺序排列好。那么你能不能帮小龙确定，最少翻转几次就可以使铁盘按从小到大排序呢？\n\n例如：下面的铁盘经过如图所示的以下几个步骤的翻转后变为从小到大排列。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xtpst1lw.png)", "inputFormat": "共两行。第一行为铁盘个数 $N$（$1 \\leq N \\leq 16$），第二行为 $N$ 个不同的正整数，分别为从上到下的铁盘的半径 $R$（$1 \\leq R \\leq 100$）。\n", "outputFormat": "一个正整数，表示使铁盘从小到大有序需要的最少翻转次数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2535", "type": "P", "difficulty": 6, "samples": [["8 8 10\n1 1 3\n2 2 4\n3 3 5\n3 4 3\n4 3 2\n4 4 6\n5 5 7\n6 6 8", "28"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2012", "各省省选", "安徽"], "title": "[AHOI2012] 收集资源", "background": "", "description": " ![](https://cdn.luogu.com.cn/upload/pic/1637.png) \n\n ![](https://cdn.luogu.com.cn/upload/pic/1638.png) \n\n", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1639.png)\n", "outputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1640.png)\n", "hint": "数据：\n\n50%: 1<=N,M,T<=100\n\n100%: 1<=N,M,T<=200\n", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2012] Collect Resources", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/pic/1637.png)\n![](https://cdn.luogu.com.cn/upload/pic/1638.png)", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1639.png)", "outputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1640.png)", "hint": "Constraints:\n- 50%: $1 \\le N, M, T \\le 100$.\n- 100%: $1 \\le N, M, T \\le 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2012] 收集资源", "background": "", "description": " ![](https://cdn.luogu.com.cn/upload/pic/1637.png) \n\n ![](https://cdn.luogu.com.cn/upload/pic/1638.png) \n\n", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1639.png)\n", "outputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1640.png)\n", "hint": "数据：\n\n50%: 1<=N,M,T<=100\n\n100%: 1<=N,M,T<=200\n", "locale": "zh-CN"}}}
{"pid": "P2536", "type": "P", "difficulty": 4, "samples": [["A*G?C\n3\nAGTC\nAGTGTC\nAGTGC", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "动态规划 DP", "搜索", "2005", "各省省选", "安徽", "字典树 Trie", "AC 自动机"], "title": "[AHOI2005] 病毒检测", "background": null, "description": "科学家们在 Samuel 星球上的探险仍在继续。非常幸运的，在 Samuel 星球的南极附近，探险机器人发现了一个巨大的冰湖！机器人在这个冰湖中搜集到了许多 DNA 片段运回了实验基地。\n\n科学家们经过几个昼夜的研究，发现这些 DNA 片段中有许多是未知的病毒！\n\n每个 DNA 片段都是由 `A`、`C`、`T`、`G` 组成的序列。科学家们也总结出了 Samuel 星球上的“病毒模版片段”。一个模版片段是由 `A`、`C`、`T`、`G` 的序列加上通配符 `*` 和 `?` 来表示。其中 `*` 的意思是可以匹配上 $0$ 个或任意多个字符，而 `?` 的意思是匹配上任意一个字母。\n\n如果一个 DNA 片段能够和“病毒模版片段”相匹配，那么这个 DNA 片段就是未知的病毒。\n\n例如，假设 “病毒模版片段”为 `A*G?C`。DNA 片段：`AGTC`，`AGTGTC` 都是未知的病毒，而 DNA 片段 `AGTGC` 则不是病毒。\n\n由于，机器人搜集的这些 DNA 片段中除去病毒的其他部分都具有非常高的研究价值。所以科学家们希望能够分辨出其中哪些 DNA 片段不是病毒，并将不是病毒的 DNA 片段运回宇宙空间站继续进行研究。\n\n科学家将这项任务交给了小联。现在请你为小联编写程序统计哪些 DNA 片段不是病毒。", "inputFormat": "共 $N+2$ 行输入。\n\n第一行有一个字符串，由 `A`、`C`、`T`、`G`、`*`、`?` 组成，表示“病毒模版片段”。“病毒模版片段”的长度不超过 $1000$。\n\n第二行有一个整数 $N$，表示机器人搜集到的 DNA 片段的数目。\n\n随后的 $N$ 行，每一行有一个字符串，由 `A`、`C`、`T`、`G` 组成，表示一个 DNA 片段。", "outputFormat": "只有一行输出，为整数 $M$，即不是病毒的 DNA 片段的数目。", "hint": "输入中的 DNA 片段 `AGTGC` 不是病毒。\n\n对于所有数据，$0 < N < 500$。\n\n特别的：\n\n- 每个 DNA 片段的长度不超过 $500$；\n- “病毒模版片段”和 DNA 片段的长度都至少为 $1$。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2005] Virus Detection", "background": "", "description": "The exploration on Planet Samuel continues. Very fortunately, near the south pole of Planet Samuel, the exploration robot discovered a huge ice lake! The robot collected many DNA fragments from this ice lake and sent them back to the research base.\n\nAfter several days and nights of research, scientists found that many of these DNA fragments belong to unknown viruses!\n\nEach DNA fragment is a sequence composed of `A`, `C`, `T`, and `G`. Scientists also summarized the \"virus template fragment\" on Planet Samuel. A template fragment is represented by a sequence of `A`, `C`, `T`, `G` plus wildcards `*` and `?`. Here, `*` means it can match $0$ or any number of characters, and `?` means it can match any single letter.\n\nIf a DNA fragment can match the \"virus template fragment\", then that DNA fragment is an unknown virus.\n\nFor example, suppose the \"virus template fragment\" is `A*G?C`. The DNA fragments `AGTC` and `AGTGTC` are viruses, while the DNA fragment `AGTGC` is not a virus.\n\nSince the non-virus parts among the DNA fragments collected by the robot are of very high research value, scientists want to identify which DNA fragments are not viruses and send those non-virus DNA fragments back to the space station for further research.\n\nThis task is assigned to Xiaolian (pinyin: Xiaolian). Please write a program to count which DNA fragments are not viruses.", "inputFormat": "There are $N+2$ lines of input.\n\nThe first line contains a string composed of `A`, `C`, `T`, `G`, `*`, and `?`, representing the \"virus template fragment\". The length of the \"virus template fragment\" does not exceed $1000$.\n\nThe second line contains an integer $N$, representing the number of DNA fragments collected by the robot.\n\nEach of the following $N$ lines contains a string composed of `A`, `C`, `T`, and `G`, representing a DNA fragment.", "outputFormat": "Output a single line with an integer $M$, which is the number of DNA fragments that are not viruses.", "hint": "The DNA fragment `AGTGC` in the input is not a virus.\n\nFor all testdata, $0 < N < 500$.\n\nIn particular:\n- The length of each DNA fragment does not exceed $500$.\n- The lengths of the \"virus template fragment\" and each DNA fragment are at least $1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2005] 病毒检测", "background": null, "description": "科学家们在 Samuel 星球上的探险仍在继续。非常幸运的，在 Samuel 星球的南极附近，探险机器人发现了一个巨大的冰湖！机器人在这个冰湖中搜集到了许多 DNA 片段运回了实验基地。\n\n科学家们经过几个昼夜的研究，发现这些 DNA 片段中有许多是未知的病毒！\n\n每个 DNA 片段都是由 `A`、`C`、`T`、`G` 组成的序列。科学家们也总结出了 Samuel 星球上的“病毒模版片段”。一个模版片段是由 `A`、`C`、`T`、`G` 的序列加上通配符 `*` 和 `?` 来表示。其中 `*` 的意思是可以匹配上 $0$ 个或任意多个字符，而 `?` 的意思是匹配上任意一个字母。\n\n如果一个 DNA 片段能够和“病毒模版片段”相匹配，那么这个 DNA 片段就是未知的病毒。\n\n例如，假设 “病毒模版片段”为 `A*G?C`。DNA 片段：`AGTC`，`AGTGTC` 都是未知的病毒，而 DNA 片段 `AGTGC` 则不是病毒。\n\n由于，机器人搜集的这些 DNA 片段中除去病毒的其他部分都具有非常高的研究价值。所以科学家们希望能够分辨出其中哪些 DNA 片段不是病毒，并将不是病毒的 DNA 片段运回宇宙空间站继续进行研究。\n\n科学家将这项任务交给了小联。现在请你为小联编写程序统计哪些 DNA 片段不是病毒。", "inputFormat": "共 $N+2$ 行输入。\n\n第一行有一个字符串，由 `A`、`C`、`T`、`G`、`*`、`?` 组成，表示“病毒模版片段”。“病毒模版片段”的长度不超过 $1000$。\n\n第二行有一个整数 $N$，表示机器人搜集到的 DNA 片段的数目。\n\n随后的 $N$ 行，每一行有一个字符串，由 `A`、`C`、`T`、`G` 组成，表示一个 DNA 片段。", "outputFormat": "只有一行输出，为整数 $M$，即不是病毒的 DNA 片段的数目。", "hint": "输入中的 DNA 片段 `AGTGC` 不是病毒。\n\n对于所有数据，$0 < N < 500$。\n\n特别的：\n\n- 每个 DNA 片段的长度不超过 $500$；\n- “病毒模版片段”和 DNA 片段的长度都至少为 $1$。", "locale": "zh-CN"}}}
