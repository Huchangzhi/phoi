{"pid": "P4399", "type": "P", "difficulty": 5, "samples": [["1 2 3 4 5 6", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "各省省选", "江苏"], "title": "[JSOI2008] Blue Mary的职员分配", "background": null, "description": "由于 Blue Mary 呕心沥血的管理，Blue Mary 的网络公司蒸蒸日上。现在一共拥有了 $n$ 名职员，可惜没有任何的金钱和声誉。平均每名每天职员都可以给公司带来 $x$ 单位金钱或者 $y$ 单位声誉（名利不能双全）。并且可以花费 $z$ 单位的金钱在人才交易市场发布广告招聘职员，每次发布广告三天以后就会招聘到一名职员，并且必须在发布广告并且招聘到职员的那一天才能发布下一次广告。 \n\nBlue Mary 计划以最快的时间获得至少 $A$ 单位金钱和至少 $B$ 单位声誉，请你计算一下他至少需要多少时间才能达到他的目标。", "inputFormat": "输入有且仅有一行，包含六个整数 $n,x,y,z,A$ 和 $B$，意义如题目描述所述。", "outputFormat": "要求输出一行，包含一个整数，表示 Blue Mary 至少需要多少时间才能达到他的目标。", "hint": "提示：\n\n$1 \\le n,x,y,z,A,B \\le 20$。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2008] Blue Mary's Staff Allocation", "background": "", "description": "Thanks to Blue Mary’s dedicated management, Blue Mary’s Internet company is thriving. It currently has $n$ employees, but no money or reputation. On average, each employee can bring the company $x$ units of money or $y$ units of reputation per day (they cannot produce both at the same time). You can spend $z$ units of money to post a recruitment advertisement on the talent market; exactly three days after posting, one employee will be hired. Moreover, you may post the next advertisement only on the day when the hired employee arrives (i.e., exactly three days after a previous ad).\n\nBlue Mary plans to obtain at least $A$ units of money and at least $B$ units of reputation in the shortest possible time. Please compute the minimum time she needs to reach this goal.", "inputFormat": "The input contains exactly one line with six integers $n, x, y, z, A$ and $B$, as described above.", "outputFormat": "Output one line with a single integer, the minimum time Blue Mary needs to achieve the goal.", "hint": "Constraints: $1 \\le n, x, y, z, A, B \\le 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2008] Blue Mary的职员分配", "background": null, "description": "由于 Blue Mary 呕心沥血的管理，Blue Mary 的网络公司蒸蒸日上。现在一共拥有了 $n$ 名职员，可惜没有任何的金钱和声誉。平均每名每天职员都可以给公司带来 $x$ 单位金钱或者 $y$ 单位声誉（名利不能双全）。并且可以花费 $z$ 单位的金钱在人才交易市场发布广告招聘职员，每次发布广告三天以后就会招聘到一名职员，并且必须在发布广告并且招聘到职员的那一天才能发布下一次广告。 \n\nBlue Mary 计划以最快的时间获得至少 $A$ 单位金钱和至少 $B$ 单位声誉，请你计算一下他至少需要多少时间才能达到他的目标。", "inputFormat": "输入有且仅有一行，包含六个整数 $n,x,y,z,A$ 和 $B$，意义如题目描述所述。", "outputFormat": "要求输出一行，包含一个整数，表示 Blue Mary 至少需要多少时间才能达到他的目标。", "hint": "提示：\n\n$1 \\le n,x,y,z,A,B \\le 20$。", "locale": "zh-CN"}}}
{"pid": "P4400", "type": "P", "difficulty": 6, "samples": [["3 3 5\n1 2 1\n2 3 5\n3 1 4\n", "6\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "各省省选", "江苏"], "title": "[JSOI2008] Blue Mary的旅行", "background": "", "description": "在一段时间之后，网络公司终于有了一定的知名度，也开始收到一些订单，其中最大的一宗来自 B 市。\n\nBlue Mary 决定亲自去签下这份订单。为了节省旅行经费，他的某个金融顾问建议只购买 U 航空公司的机票。 U 航空公司的所有航班每天都只有一班，并且都是上午出发当天下午到达的，所以他们每人每天只能坐一班飞机。\n\n经过调查，他们得到了 U 航空公司经营的所有航班的详细信息，这包括每一航班的出发地，目的地以及最多能买到的某一天出发的票数。(注意: 对于一个确定的航班，无论是哪一天，他们最多能买到的那一天出发的票数都是相同的）。\n\nBlue Mary 注意到他们一定可以只乘坐 U 航空公司的航班就从 A 市到达 B 市，但是，由于每一航班能买到的票的数量的限制，他们所有人可能不能在同一天到达 B 市。\n\n所以现在 Blue Mary 需要你的帮助，设计一个旅行方案使得最后到达B市的人的到达时间最早。", "inputFormat": "第一行包含 $3$ 个正整数 $N$，$M$ 和 $T$。  \n题目中会出现的所有城市分别编号为 $1,2,\\dots,N$，其中城市 A 编号一定为 $1$，城市 B 编号一定为 $N$。  \nU 公司一共有 $M$ 条（单向）航班。而连 Blue Mary 在内，公司一共有 $T$ 个人要从 A 市前往 B 市。\n\n以下 $M$ 行，每行包含3个正整数 $x,y,z,$ 表示 U 公司的每一条航班的出发地，目的地以及 Blue Mary 最多能够买到的这一航班某一天出发的票数。(即：无论是哪一天，Blue Mary 最多只能买到 $z$ 张 U 航空公司的从城市 $x$ 出发到城市 $y$ 的机票)。\n\n输入保证从一个城市到另一个城市的单向航班最多只有一个。", "outputFormat": "仅有一行，包含一个正整数，表示最后到达 B 市的人的最早到达时间。假设他们第一次乘飞机的那一天是第一天。", "hint": "对于 $100\\%$ 的数据，$2\\le N\\le 50,1\\le M\\le 2450,1\\le T,z\\le 50,1\\le x,y\\le N,x\\neq y$。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2008] Blue Mary's Trip", "background": "", "description": "After some time, the network company finally gained some recognition and started receiving orders, the biggest of which came from city B.\n\nBlue Mary decided to personally go and sign this order. To save travel expenses, one of his financial advisors suggested buying tickets only from U Airlines. All flights of U Airlines operate once per day, departing in the morning and arriving in the afternoon of the same day, so each person can take at most one flight per day.\n\nAfter investigation, they obtained detailed information on all flights operated by U Airlines, including each flight’s origin, destination, and the maximum number of tickets that can be bought for departures on any single day. (Note: For a given flight, the maximum number of tickets they can buy for departures on any day is the same across all days.)\n\nBlue Mary noticed that they can indeed travel from city A to city B using only U Airlines’ flights. However, due to the ticket limits on each flight, it may be impossible for all of them to arrive in city B on the same day.\n\nTherefore, Blue Mary needs your help to design a travel plan that makes the arrival day of the last person to reach city B as early as possible.", "inputFormat": "The first line contains $3$ positive integers $N$, $M$ and $T$.  \nAll cities that appear in the problem are numbered $1, 2, \\dots, N$, where city A is numbered $1$, and city B is numbered $N$.  \nU Airlines has $M$ directed flights in total. Including Blue Mary, the company has $T$ people who need to travel from city A to city B.\n\nThe following $M$ lines each contain $3$ positive integers $x, y, z$, indicating the origin, destination, and the maximum number of tickets that Blue Mary can buy for that flight on any given day. (That is, regardless of the day, Blue Mary can buy at most $z$ tickets for the U Airlines flight from city $x$ to city $y$.)\n\nIt is guaranteed that between any ordered pair of cities, there is at most one directed flight.", "outputFormat": "Output a single line with one positive integer, the earliest possible day on which the last person arrives in city B. Assume the first day they take a flight is day $1$.", "hint": "For $100\\%$ of the testdata, $2 \\le N \\le 50$, $1 \\le M \\le 2450$, $1 \\le T, z \\le 50$, $1 \\le x, y \\le N$, $x \\ne y$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2008] Blue Mary的旅行", "background": "", "description": "在一段时间之后，网络公司终于有了一定的知名度，也开始收到一些订单，其中最大的一宗来自 B 市。\n\nBlue Mary 决定亲自去签下这份订单。为了节省旅行经费，他的某个金融顾问建议只购买 U 航空公司的机票。 U 航空公司的所有航班每天都只有一班，并且都是上午出发当天下午到达的，所以他们每人每天只能坐一班飞机。\n\n经过调查，他们得到了 U 航空公司经营的所有航班的详细信息，这包括每一航班的出发地，目的地以及最多能买到的某一天出发的票数。(注意: 对于一个确定的航班，无论是哪一天，他们最多能买到的那一天出发的票数都是相同的）。\n\nBlue Mary 注意到他们一定可以只乘坐 U 航空公司的航班就从 A 市到达 B 市，但是，由于每一航班能买到的票的数量的限制，他们所有人可能不能在同一天到达 B 市。\n\n所以现在 Blue Mary 需要你的帮助，设计一个旅行方案使得最后到达B市的人的到达时间最早。", "inputFormat": "第一行包含 $3$ 个正整数 $N$，$M$ 和 $T$。  \n题目中会出现的所有城市分别编号为 $1,2,\\dots,N$，其中城市 A 编号一定为 $1$，城市 B 编号一定为 $N$。  \nU 公司一共有 $M$ 条（单向）航班。而连 Blue Mary 在内，公司一共有 $T$ 个人要从 A 市前往 B 市。\n\n以下 $M$ 行，每行包含3个正整数 $x,y,z,$ 表示 U 公司的每一条航班的出发地，目的地以及 Blue Mary 最多能够买到的这一航班某一天出发的票数。(即：无论是哪一天，Blue Mary 最多只能买到 $z$ 张 U 航空公司的从城市 $x$ 出发到城市 $y$ 的机票)。\n\n输入保证从一个城市到另一个城市的单向航班最多只有一个。", "outputFormat": "仅有一行，包含一个正整数，表示最后到达 B 市的人的最早到达时间。假设他们第一次乘飞机的那一天是第一天。", "hint": "对于 $100\\%$ 的数据，$2\\le N\\le 50,1\\le M\\le 2450,1\\le T,z\\le 50,1\\le x,y\\le N,x\\neq y$。", "locale": "zh-CN"}}}
{"pid": "P4401", "type": "P", "difficulty": 4, "samples": [["6\nMBMFFB", "12"], ["16\nMMBMBBBBMMMMMBMB", "29"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [18000, 18000, 18000, 18000, 18000, 18000, 18000, 18000, 18000, 18000, 18000, 18000]}, "tags": ["动态规划 DP", "2007", "IOI"], "title": "[IOI 2007] Miners 矿工配餐", "background": "", "description": "现有两个煤矿，每个煤矿都雇用一组矿工。采煤工作很辛苦，所以矿工们需要良好饮食。每当一辆食品车到达煤矿时，矿工们便会产出一定数量的煤。\n\n有三种类型的食品车：肉车，鱼车和面包车。\n矿工们喜欢变化的食谱。如果提供的食品能够不断变化，他们的产煤量将会增加。每当一个新的食品车到达煤矿时，矿工们就会比较这种新的食品和前两次（或者少于两次，如果前面运送食品的次数不足两次）的食品，并且：\n\n- 如果这几次食品车都是同一类型的食品，则矿工们产出一个单位的煤。\n- 如果这几次食品车中有两种不同类型的食品，则矿工们产出两个单位的煤。\n- 如果这几次食品车中有三种不同类型的食品，则矿工们产出三个单位的煤。\n\n预先已知食品车的类型及其被配送的顺序。通过确定哪车食品送到哪个煤矿可以影响产煤量。食品车不能被拆分，每个食品车必须被全部送到一个或另一个煤矿。两个煤矿也并不要求接收相同数量的食品车（事实上，也允许将所有食品车都送到一个煤矿）。\n\n给出食品车的类型及其被配送的顺序，要求你写一个程序，确定哪个食品车应被送到煤矿 $1$，哪个食品车应被送到煤矿 $2$，以使得两个煤矿的产煤量的总和最大。", "inputFormat": "输入的第一行包含一个整数 $N (1 ≤ N ≤ 100 000)$,  表示食品车的数目。\n\n第二行包含一个由 $N$ 个字符组成的字符串，按照配送顺序依次表示食品车配送的食品的类型。每个字符是以下三个大写字母之一：`M`（表示肉类），`F`（表示鱼类）或 `B`（表示面包）。", "outputFormat": "输出一个整数，表示最大的总产煤量。", "hint": "在样例 $1$ 中，可以按照如下的顺序运送食品车：煤矿 $1$，煤矿 $1$，煤矿 $2$，煤矿 $2$，煤矿 $1$，煤矿 $2$，依次产生的产煤量为 $1, 2, 1, 2, 3$ 和 $3$ 个单位，一共是 $12$ 个单位。\n\n还有其它运送方式也能产生上述最大总和的产煤量。", "locale": "zh-CN", "translations": {"en": {"title": "[IOI 2007] Miners - Meal Assignment", "background": "", "description": "There are two coal mines, each employing a group of miners. Mining is hard work, so the miners need good meals. Whenever a food truck arrives at a mine, the miners produce some amount of coal.\n\nThere are three types of food trucks: meat truck, fish truck, and bread truck. Miners like variety in their meals. If the food keeps changing, their coal output increases. Whenever a new food truck arrives at a mine, the miners compare this new food type with the previous two (or fewer if fewer than two deliveries have occurred at that mine), and:\n\n- If these deliveries are all the same food type, the miners produce $1$ unit of coal.\n- If there are exactly two different food types among these deliveries, the miners produce $2$ units of coal.\n- If there are three different food types among these deliveries, the miners produce $3$ units of coal.\n\nThe types of food trucks and their delivery order are known in advance. By deciding which truck goes to which mine, you can influence the coal output. A food truck cannot be split; each truck must be sent entirely to one mine or the other. The two mines do not need to receive the same number of trucks (indeed, it is allowed to send all trucks to a single mine).\n\nGiven the types of food trucks and their delivery order, write a program to decide which truck should be sent to mine $1$ and which to mine $2$ so that the total coal output of the two mines is maximized.", "inputFormat": "The first line contains an integer $N$ $(1 \\le N \\le 100000)$, the number of food trucks.\n\nThe second line contains a string of $N$ characters, in delivery order, representing the type of food carried by each truck. Each character is one of the following three uppercase letters: `M` (meat), `F` (fish), or `B` (bread).", "outputFormat": "Output a single integer: the maximum total coal output.", "hint": "In sample $1$, you can deliver the trucks in the following sequence: mine $1$, mine $1$, mine $2$, mine $2$, mine $1$, mine $2$, producing $1, 2, 1, 2, 3$, and $3$ units respectively, for a total of $12$ units.\n\nOther delivery plans can also achieve this maximum total.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[IOI 2007] Miners 矿工配餐", "background": "", "description": "现有两个煤矿，每个煤矿都雇用一组矿工。采煤工作很辛苦，所以矿工们需要良好饮食。每当一辆食品车到达煤矿时，矿工们便会产出一定数量的煤。\n\n有三种类型的食品车：肉车，鱼车和面包车。\n矿工们喜欢变化的食谱。如果提供的食品能够不断变化，他们的产煤量将会增加。每当一个新的食品车到达煤矿时，矿工们就会比较这种新的食品和前两次（或者少于两次，如果前面运送食品的次数不足两次）的食品，并且：\n\n- 如果这几次食品车都是同一类型的食品，则矿工们产出一个单位的煤。\n- 如果这几次食品车中有两种不同类型的食品，则矿工们产出两个单位的煤。\n- 如果这几次食品车中有三种不同类型的食品，则矿工们产出三个单位的煤。\n\n预先已知食品车的类型及其被配送的顺序。通过确定哪车食品送到哪个煤矿可以影响产煤量。食品车不能被拆分，每个食品车必须被全部送到一个或另一个煤矿。两个煤矿也并不要求接收相同数量的食品车（事实上，也允许将所有食品车都送到一个煤矿）。\n\n给出食品车的类型及其被配送的顺序，要求你写一个程序，确定哪个食品车应被送到煤矿 $1$，哪个食品车应被送到煤矿 $2$，以使得两个煤矿的产煤量的总和最大。", "inputFormat": "输入的第一行包含一个整数 $N (1 ≤ N ≤ 100 000)$,  表示食品车的数目。\n\n第二行包含一个由 $N$ 个字符组成的字符串，按照配送顺序依次表示食品车配送的食品的类型。每个字符是以下三个大写字母之一：`M`（表示肉类），`F`（表示鱼类）或 `B`（表示面包）。", "outputFormat": "输出一个整数，表示最大的总产煤量。", "hint": "在样例 $1$ 中，可以按照如下的顺序运送食品车：煤矿 $1$，煤矿 $1$，煤矿 $2$，煤矿 $2$，煤矿 $1$，煤矿 $2$，依次产生的产煤量为 $1, 2, 1, 2, 3$ 和 $3$ 个单位，一共是 $12$ 个单位。\n\n还有其它运送方式也能产生上述最大总和的产煤量。", "locale": "zh-CN"}}}
{"pid": "P4402", "type": "P", "difficulty": 6, "samples": [["6\n3 4 5 1 6 2", "4 6 4 5 6 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "平衡树", "ICPC", "CERC"], "title": "[CERC2007] robotic sort 机械排序", "background": "", "description": "SORT 公司是一个专门为人们提供排序服务的公司，该公司的宗旨是：“顺序是最美丽的”。他们的工作是通过一系列移动，将某些物品按顺序摆好。他们的工作规定只能使用如下方法排序：\n\n![](https://cdn.luogu.com.cn/upload/pic/17272.png)\n\n先找到编号最小的物品的位置 $P_1$，将区间 $[1,P_1]$ 反转，再找到编号第二小的物品的位置 $P_2$，将区间 $[2,P_2]$ 反转.........\n\n上图是有 $6$ 个物品的例子，编号最小的一个是在第 $4$ 个位置。因此，最开始把前面 $4$ 个物品反转，第二小的物品在最后一个位置，所以下一个操作是把 $2\\sim 6$ 的物品反转，第三步操作是把 $3\\sim 4$ 的物品进行反转……\n\n在数据中可能存在有相同的编号，如果有多个相同的编号，则按输入的原始次序操作。", "inputFormat": "输入共两行，第一行为一个整数 $N(1\\leq N\\leq 10^5)$，表示物品的个数。\n\n第二行为 $N$ 个用空格隔开的整数，表示 $N$ 个物品最初排列的编号 $A_i(0\\leq A_i\\leq 10^7)$。", "outputFormat": "输出共一行，$N$ 个用空格隔开的正整数 $P_1,P_2,P_3\\cdots,P_n$，$P_i$ 表示第 $i$ 次操作前第 $i$ 小的物品所在的位置。\n\n注意：如果第 $i$ 次操作前，第 $i$ 小的物品己经在正确的位置 $P_i$ 上，我们将区间 $[P_i,P_i]$ 反转（单个物品）。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[CERC2007] Robotic Sort", "background": "", "description": "SORT is a company that provides sorting services with the motto: \"Order is the most beautiful.\" Their job is to arrange certain items in order through a sequence of moves. The work rule allows only the following method to sort:\n\n![](https://cdn.luogu.com.cn/upload/pic/17272.png)\n\nFirst find the position of the smallest-labeled item, denoted $P_1$, then reverse the segment $[1, P_1]$. Next find the position of the second smallest item, denoted $P_2$, and reverse the segment $[2, P_2]$... and so on.\n\nThe figure shows an example with $6$ items. The smallest item is at position $4$. Therefore, we first reverse the first $4$ items. The second smallest item is at the last position, so the next operation is to reverse items $2 \\sim 6$. The third step is to reverse items $3 \\sim 4$...\n\nThere may be duplicate labels in the input. If multiple items have the same label, operate on them according to their original input order.", "inputFormat": "The input has two lines. The first line contains an integer $N (1 \\leq N \\leq 10^5)$, the number of items.\n\nThe second line contains $N$ space-separated integers, the initial labels $A_i (0 \\leq A_i \\leq 10^7)$ of the $N$ items.", "outputFormat": "Output a single line with $N$ space-separated positive integers $P_1, P_2, P_3 \\cdots, P_N$, where $P_i$ is the position of the $i$-th smallest item before the $i$-th operation.\n\nNote: If before the $i$-th operation the $i$-th smallest item is already at the correct position $P_i$, we reverse the segment $[P_i, P_i]$ (a single item).", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CERC2007] robotic sort 机械排序", "background": "", "description": "SORT 公司是一个专门为人们提供排序服务的公司，该公司的宗旨是：“顺序是最美丽的”。他们的工作是通过一系列移动，将某些物品按顺序摆好。他们的工作规定只能使用如下方法排序：\n\n![](https://cdn.luogu.com.cn/upload/pic/17272.png)\n\n先找到编号最小的物品的位置 $P_1$，将区间 $[1,P_1]$ 反转，再找到编号第二小的物品的位置 $P_2$，将区间 $[2,P_2]$ 反转.........\n\n上图是有 $6$ 个物品的例子，编号最小的一个是在第 $4$ 个位置。因此，最开始把前面 $4$ 个物品反转，第二小的物品在最后一个位置，所以下一个操作是把 $2\\sim 6$ 的物品反转，第三步操作是把 $3\\sim 4$ 的物品进行反转……\n\n在数据中可能存在有相同的编号，如果有多个相同的编号，则按输入的原始次序操作。", "inputFormat": "输入共两行，第一行为一个整数 $N(1\\leq N\\leq 10^5)$，表示物品的个数。\n\n第二行为 $N$ 个用空格隔开的整数，表示 $N$ 个物品最初排列的编号 $A_i(0\\leq A_i\\leq 10^7)$。", "outputFormat": "输出共一行，$N$ 个用空格隔开的正整数 $P_1,P_2,P_3\\cdots,P_n$，$P_i$ 表示第 $i$ 次操作前第 $i$ 小的物品所在的位置。\n\n注意：如果第 $i$ 次操作前，第 $i$ 小的物品己经在正确的位置 $P_i$ 上，我们将区间 $[P_i,P_i]$ 反转（单个物品）。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4403", "type": "P", "difficulty": 3, "samples": [["3 \n2 \n1 10 1 \n2 10 1 \n2 \n1 10 1 \n1 10 1 \n4 \n1 10 1 \n4 4 1 \n1 5 1 \n6 10 1 ", "1 1 \nPoor QIN Teng:( \n4 3 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "倍增", "二分", "北京"], "title": "[BJWC2008] 秦腾与教学评估", "background": null, "description": "在秦腾进入北京大学学习的第一个学期，就不幸遇到了前所未有的教学评估。\n\n在教学评估期间，同学们被要求八点起床，十一点回宿舍睡觉，不准旷课，上课不准迟到，上课不准睡觉……甚至连著名的北大三角地也在教学评估期间被以影响校容的理由被拆除。这些“变态”规定令习惯了自由自在随性生活学习的北大同学叫苦不迭。\n\n这一天又到了星期五，一大早就是秦腾最不喜欢的高等代数课。可是因为是教学评估时期，不能迟到，于是他在八点五分的时候挣扎着爬出了宿舍，希望能赶快混进在八点钟已经上课了的教室。\n\n可是，刚一出宿舍楼门他就傻眼了：从宿舍到教学楼的路上已经站满了教学评估团的成员。他们的目的就是抓住像他这样迟到的学生，扣除学校的分数。\n\n秦腾当然不能让评估团得逞。他经过观察发现，整个评估团分成了 $N$ 个小组，每个小组的成员都分布在从宿舍楼到教学楼的路上的某一段，并且同一小组的成员间的距离是相等的。于是，我们可以用三个整数 $S,E,D$ 来描述评估团的小组：既该小组的成员在从宿舍到教学楼的路上的 $:S,S+D,S+2D,\\ldots,S+KD(K \\in \\mathbb Z,S+KD\\le E,S+(K+1)D>E)$ 位置。\n\n观察到了教学评估团的这一特点，又经过了认真的思考，秦腾想出了对策 $:$ 如果在路上的某一位置有奇数个教学评估团成员，他就可以运用调虎离山，声东击西，隔山打牛，暗度陈仓等方法，以这一地点为突破口到达教学楼。\n\n但是由于教学评估团的成员的十分狡猾，成员位置安排的设计极其精妙，导致在整条路上几乎没有这样的位置出现。即使由于安排不慎重出现了这样的位置，最多也仅有一个。\n\n现在秦腾观察出了所有小组的安排，但是由于整个教学评估团的人数太多，他实在看不出这样的位置是否存在。\n\n现在，你的任务是写一个程序，帮助他做出判断。", "inputFormat": "输入文件的第一行为一个整数 $T$。\n\n接下来输入 $T$ 组相互独立的测试数据。\n\n每组测试数据的第一行包含一个整数，代表 $N$。\n\n接下来的 $N$ 行，每行三个整数 $S_i,E_i,D_i$，代表第 $i$ 个小组对应的三个参数。", "outputFormat": "对于每个测试数据，如果题目中所求的位置不存在，既任意位置都有偶数个教学评估团的成员存在，在输出文件的中打印一行:`Poor QIN Teng:(`。\n\n否则打印两个整数 $\\text{Posi},\\text{Count}$，代表在唯一的位置 $\\text{Posi}$，有 $\\text{Count}$ 个教学评估团的成员。\n\n根据题意，$\\text{Count}$ 应为奇数。", "hint": "数据范围：\n\n- 教学评估团的总人数不大于 $10^8$；\n- $S_i\\le E_i$；\n- $1\\le T\\le 5$；\n- $N\\le 2 \\times 10^5$；\n- $0\\le S_i,E_i,D_i\\le 2^{31}-1$；\n- 输入文件的大小不大于 2048 KB。", "locale": "zh-CN", "translations": {"en": {"title": "[BJWC2008] Qin Teng and the Teaching Evaluation", "background": "", "description": "In his first semester at Peking University, Qin Teng unfortunately encountered an unprecedented teaching evaluation.\n\nDuring the evaluation, students were required to get up at 8 a.m., return to the dormitory at 11 p.m., were not allowed to skip classes, not allowed to be late, not allowed to sleep in class... Even the famous Triangle Area of PKU was demolished during the evaluation on the grounds that it affected the campus appearance. These \"absurd\" rules made students who were used to a free and easy life miserable.\n\nIt was Friday again, and early in the morning was Qin Teng’s least favorite Advanced Algebra class. But since it was the evaluation period, he could not be late, so at 8:05 he struggled out of the dorm, hoping to slip into the classroom that had already started at 8:00.\n\nHowever, as soon as he left the dormitory building, he was stunned: the road from the dormitory to the teaching building was already lined with members of the evaluation team. Their goal was to catch late students like him and deduct points from the university.\n\nOf course, Qin Teng could not let them succeed. He observed that the entire evaluation team was divided into $N$ groups. The members of each group were distributed on some segment of the road from the dormitory to the teaching building, and the distances between members of the same group were equal. Thus, we can describe a group with three integers $S,E,D$: the members of this group are located at $:S,S+D,S+2D,\\ldots,S+KD(K \\in \\mathbb Z,S+KD\\le E,S+(K+1)D>E)$ along the road.\n\nSeeing this pattern and thinking carefully, Qin Teng came up with a countermeasure: if there is a position on the road with an odd number of evaluation team members, he can use tricks such as \"diaohu lishan\", \"shengdong xixi\", \"geshan daniu\", and \"andu chencang\" to break through at that spot and reach the teaching building.\n\nBut the members were very cunning, and their arrangement was extremely clever, so that such a position hardly appeared on the whole road. Even if, by accident, such a position did appear, there would be at most one.\n\nNow that Qin Teng has observed all the groups’ arrangements, he still cannot tell whether such a position exists because there are too many people.\n\nYour task is to write a program to help him decide.", "inputFormat": "The first line contains an integer $T$.\n\nThen $T$ independent testdata follow.\n\nFor each piece of testdata, the first line contains an integer $N$.\n\nEach of the next $N$ lines contains three integers $S_i,E_i,D_i$, representing the three parameters of the $i$-th group.", "outputFormat": "For each testdata, if the required position does not exist, i.e., every position has an even number of evaluation team members, print one line: `Poor QIN Teng:(`.\n\nOtherwise, print two integers $\\text{Posi},\\text{Count}$, meaning that at the unique position $\\text{Posi}$ there are $\\text{Count}$ evaluation team members.\n\nAccording to the statement, $\\text{Count}$ should be odd.", "hint": "Constraints:\n\n- The total number of evaluation team members is not greater than $10^8$.\n- $S_i \\le E_i$.\n- $1 \\le T \\le 5$.\n- $N \\le 2 \\times 10^5$.\n- $0 \\le S_i,E_i,D_i \\le 2^{31}-1$.\n- The size of the input file is not greater than 2048 KB.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[BJWC2008] 秦腾与教学评估", "background": null, "description": "在秦腾进入北京大学学习的第一个学期，就不幸遇到了前所未有的教学评估。\n\n在教学评估期间，同学们被要求八点起床，十一点回宿舍睡觉，不准旷课，上课不准迟到，上课不准睡觉……甚至连著名的北大三角地也在教学评估期间被以影响校容的理由被拆除。这些“变态”规定令习惯了自由自在随性生活学习的北大同学叫苦不迭。\n\n这一天又到了星期五，一大早就是秦腾最不喜欢的高等代数课。可是因为是教学评估时期，不能迟到，于是他在八点五分的时候挣扎着爬出了宿舍，希望能赶快混进在八点钟已经上课了的教室。\n\n可是，刚一出宿舍楼门他就傻眼了：从宿舍到教学楼的路上已经站满了教学评估团的成员。他们的目的就是抓住像他这样迟到的学生，扣除学校的分数。\n\n秦腾当然不能让评估团得逞。他经过观察发现，整个评估团分成了 $N$ 个小组，每个小组的成员都分布在从宿舍楼到教学楼的路上的某一段，并且同一小组的成员间的距离是相等的。于是，我们可以用三个整数 $S,E,D$ 来描述评估团的小组：既该小组的成员在从宿舍到教学楼的路上的 $:S,S+D,S+2D,\\ldots,S+KD(K \\in \\mathbb Z,S+KD\\le E,S+(K+1)D>E)$ 位置。\n\n观察到了教学评估团的这一特点，又经过了认真的思考，秦腾想出了对策 $:$ 如果在路上的某一位置有奇数个教学评估团成员，他就可以运用调虎离山，声东击西，隔山打牛，暗度陈仓等方法，以这一地点为突破口到达教学楼。\n\n但是由于教学评估团的成员的十分狡猾，成员位置安排的设计极其精妙，导致在整条路上几乎没有这样的位置出现。即使由于安排不慎重出现了这样的位置，最多也仅有一个。\n\n现在秦腾观察出了所有小组的安排，但是由于整个教学评估团的人数太多，他实在看不出这样的位置是否存在。\n\n现在，你的任务是写一个程序，帮助他做出判断。", "inputFormat": "输入文件的第一行为一个整数 $T$。\n\n接下来输入 $T$ 组相互独立的测试数据。\n\n每组测试数据的第一行包含一个整数，代表 $N$。\n\n接下来的 $N$ 行，每行三个整数 $S_i,E_i,D_i$，代表第 $i$ 个小组对应的三个参数。", "outputFormat": "对于每个测试数据，如果题目中所求的位置不存在，既任意位置都有偶数个教学评估团的成员存在，在输出文件的中打印一行:`Poor QIN Teng:(`。\n\n否则打印两个整数 $\\text{Posi},\\text{Count}$，代表在唯一的位置 $\\text{Posi}$，有 $\\text{Count}$ 个教学评估团的成员。\n\n根据题意，$\\text{Count}$ 应为奇数。", "hint": "数据范围：\n\n- 教学评估团的总人数不大于 $10^8$；\n- $S_i\\le E_i$；\n- $1\\le T\\le 5$；\n- $N\\le 2 \\times 10^5$；\n- $0\\le S_i,E_i,D_i\\le 2^{31}-1$；\n- 输入文件的大小不大于 2048 KB。", "locale": "zh-CN"}}}
{"pid": "P4404", "type": "P", "difficulty": 6, "samples": [["6 2\n1 2 3 1 2 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2010", "各省省选", "离散化", "江苏", "优先队列"], "title": "[JSOI2010] 缓存交换", "background": "感谢 @ACdreamer 贡献数据", "description": "在计算机中，CPU 只能和高速缓存 Cache 直接交换数据。当所需的内存单元不在 Cache 中时，则需要从主存里把数据调入 Cache。此时，如果 Cache 容量已满，则必须先从中删除一个。 \n\n例如，当前 Cache 容量为 $3$，且已经有编号为 $10$ 和 $20$ 的主存单元。 \n此时，CPU 访问编号为 $10$ 的主存单元，Cache 命中。 \n\n接着，CPU访问编号为 $21$ 的主存单元，那么只需将该主存单元移入 Cache 中，造成一次缺失（Cache Miss）。 \n\n接着，CPU访问编号为 $31$ 的主存单元，则必须从 Cache 中换出一块，才能将编号为 $31$ 的主存单元移入 Cache，假设我们移出了编号为 $10$ 的主存单元。 \n\n接着，CPU再次访问编号为 $10$ 的主存单元，则又引起了一次缺失。我们看到，如果在上一次删除时，删除其他的单元，则可以避免本次访问的缺失。 \n\n在现代计算机中，往往采用 LRU（最近最少使用）的算法来进行 Cache 调度——可是，从上一个例子就能看出，这并不是最优的算法。 \n对于一个固定容量的空 Cache 和连续的若干主存访问请求，聪聪想知道如何在每次 Cache 缺失时换出正确的主存单元，以达到最少的 Cache 缺失次数。", "inputFormat": "输入文件第一行包含两个整数 $N$ 和 $M$ （$1 \\le M \\le N \\le 10^5$），分别代表了主存访问的次数和 Cache 的容量。 \n\n第二行包含了N个空格分开的正整数，按访问请求先后顺序给出了每个主存块的编号（不超过 $10^9$）。", "outputFormat": "输出一行，为 Cache 缺失次数的最小值。", "hint": "在第 $4$ 次缺失时将 $3$ 号单元换出 Cache。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2010] Cache Replacement", "background": "Thanks to @ACdreamer for contributing the testdata.", "description": "In a computer, the CPU can exchange data directly only with the Cache. When the required main memory block is not in the Cache, the data must be brought in from main memory. If the Cache is already full at that time, one block must be removed first.\n\nFor example, suppose the Cache capacity is $3$, and it currently holds main memory blocks numbered $10$ and $20$.  \nNow, the CPU accesses block $10$, which is a cache hit.\n\nNext, the CPU accesses block $21$, so we just bring that block into the Cache, causing one cache miss.\n\nThen, the CPU accesses block $31$, so one block must be evicted from the Cache before bringing block $31$ in. Suppose we evict block $10$.\n\nAfter that, the CPU accesses block $10$ again, which causes another miss. We can see that if we had evicted a different block the previous time, we could have avoided this miss.\n\nModern computers often use the LRU (Least Recently Used) algorithm for Cache management—but as the example shows, it is not optimal.  \nGiven an empty Cache with fixed capacity and a sequence of main memory access requests, Congcong wants to know which block to evict on each cache miss to minimize the total number of cache misses.", "inputFormat": "The first line contains two integers $N$ and $M$ ($1 \\le M \\le N \\le 10^5$), representing the number of main memory accesses and the capacity of the Cache.\n\nThe second line contains $N$ space-separated positive integers, giving the ID of each main memory block in access order (each does not exceed $10^9$).", "outputFormat": "Output one line: the minimum possible number of cache misses.", "hint": "On the $4$-th miss, evict block number $3$ from the Cache.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2010] 缓存交换", "background": "感谢 @ACdreamer 贡献数据", "description": "在计算机中，CPU 只能和高速缓存 Cache 直接交换数据。当所需的内存单元不在 Cache 中时，则需要从主存里把数据调入 Cache。此时，如果 Cache 容量已满，则必须先从中删除一个。 \n\n例如，当前 Cache 容量为 $3$，且已经有编号为 $10$ 和 $20$ 的主存单元。 \n此时，CPU 访问编号为 $10$ 的主存单元，Cache 命中。 \n\n接着，CPU访问编号为 $21$ 的主存单元，那么只需将该主存单元移入 Cache 中，造成一次缺失（Cache Miss）。 \n\n接着，CPU访问编号为 $31$ 的主存单元，则必须从 Cache 中换出一块，才能将编号为 $31$ 的主存单元移入 Cache，假设我们移出了编号为 $10$ 的主存单元。 \n\n接着，CPU再次访问编号为 $10$ 的主存单元，则又引起了一次缺失。我们看到，如果在上一次删除时，删除其他的单元，则可以避免本次访问的缺失。 \n\n在现代计算机中，往往采用 LRU（最近最少使用）的算法来进行 Cache 调度——可是，从上一个例子就能看出，这并不是最优的算法。 \n对于一个固定容量的空 Cache 和连续的若干主存访问请求，聪聪想知道如何在每次 Cache 缺失时换出正确的主存单元，以达到最少的 Cache 缺失次数。", "inputFormat": "输入文件第一行包含两个整数 $N$ 和 $M$ （$1 \\le M \\le N \\le 10^5$），分别代表了主存访问的次数和 Cache 的容量。 \n\n第二行包含了N个空格分开的正整数，按访问请求先后顺序给出了每个主存块的编号（不超过 $10^9$）。", "outputFormat": "输出一行，为 Cache 缺失次数的最小值。", "hint": "在第 $4$ 次缺失时将 $3$ 号单元换出 Cache。", "locale": "zh-CN"}}}
{"pid": "P4405", "type": "P", "difficulty": 6, "samples": [["10 5\n2 2 2 1 1 1 1 1 1 2", "0 1 0 1 0 1 0 1 0 2 0 1 0 2 0 1 0 1 0 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2009", "各省省选", "浙江"], "title": "[ZJOI2009] 硬币游戏", "background": "", "description": "Orez很喜欢玩游戏，他最近发明了一款硬币游戏。他在桌子的边缘上划分出2*n个位置并按顺时针把它们标号为1，2，……，2n，然后把n个硬币放在标号为奇数的位置上。\n\n接下来每次按如下操作：在任意两个硬币之间放上一个硬币，然后将原来的硬币拿走；所放硬币的正反面由它两边的两个硬币决定，若两个硬币均为正面朝上或反面朝上，则所放硬币为正面朝上，否则为反面朝上。 那么操作T次之后桌子边缘上硬币的情况会是怎样的呢？", "inputFormat": "文件的第一行包含两个整数n和T。\n\n 接下的一行包含n个整数，表示最开始桌面边缘的硬币摆放情况，第i个整数ai表示第i个硬币摆放在2*i-1个位置上，ai=1表示正面朝上，ai=2表示反面朝上。\n", "outputFormat": "文件仅包含一行，为2n个整数，其中第i个整数bi桌面边缘的第i个位置上硬币的情况，bi=1表示正面朝上，bi=2表示反面朝上，bi=0表示没有硬币。\n", "hint": "30%的数据 n≤1000 T≤1000\n\n100%的数据 n≤100000 T≤2^60\n\n样例解释\n```\n20202010101010101020\n01010201010101010201\n10102020101010102020\n01020102010101020102\n20202020201010202020\n01010101020102010101\n```", "locale": "zh-CN", "translations": {"en": {"title": "[ZJOI2009] Coin Game", "background": "", "description": "Orez likes playing games, and he recently invented a coin game. He divides the edge of a table into $2n$ positions and labels them clockwise as $1, 2, \\ldots, 2n$, then places $n$ coins on the positions with odd labels.\n\nEach operation is as follows: place one coin between any two coins, and then remove those two original coins. The side of the newly placed coin is determined by the two coins on its sides. If both coins are heads up or both are tails up, the new coin is heads up; otherwise, it is tails up. After performing the operation $T$ times, what will the configuration of coins along the edge of the table be.", "inputFormat": "The first line contains two integers $n$ and $T$.\n\nThe next line contains $n$ integers, describing the initial arrangement of coins along the edge. The $i$-th integer $a_i$ gives the state of the coin placed at position $2i-1$, where $a_i = 1$ means heads up and $a_i = 2$ means tails up.", "outputFormat": "Output a single line with $2n$ integers. The $i$-th integer $b_i$ is the state at position $i$ along the edge of the table, where $b_i = 1$ means heads up, $b_i = 2$ means tails up, and $b_i = 0$ means there is no coin.", "hint": "30% of the testdata: $n \\le 1000$, $T \\le 1000$.\n\n100% of the testdata: $n \\le 100000$, $T \\le 2^{60}$.\n\nSample explanation.\n```\n20202010101010101020\n01010201010101010201\n10102020101010102020\n01020102010101020102\n20202020201010202020\n01010101020102010101\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[ZJOI2009] 硬币游戏", "background": "", "description": "Orez很喜欢玩游戏，他最近发明了一款硬币游戏。他在桌子的边缘上划分出2*n个位置并按顺时针把它们标号为1，2，……，2n，然后把n个硬币放在标号为奇数的位置上。\n\n接下来每次按如下操作：在任意两个硬币之间放上一个硬币，然后将原来的硬币拿走；所放硬币的正反面由它两边的两个硬币决定，若两个硬币均为正面朝上或反面朝上，则所放硬币为正面朝上，否则为反面朝上。 那么操作T次之后桌子边缘上硬币的情况会是怎样的呢？", "inputFormat": "文件的第一行包含两个整数n和T。\n\n 接下的一行包含n个整数，表示最开始桌面边缘的硬币摆放情况，第i个整数ai表示第i个硬币摆放在2*i-1个位置上，ai=1表示正面朝上，ai=2表示反面朝上。\n", "outputFormat": "文件仅包含一行，为2n个整数，其中第i个整数bi桌面边缘的第i个位置上硬币的情况，bi=1表示正面朝上，bi=2表示反面朝上，bi=0表示没有硬币。\n", "hint": "30%的数据 n≤1000 T≤1000\n\n100%的数据 n≤100000 T≤2^60\n\n样例解释\n```\n20202010101010101020\n01010201010101010201\n10102020101010102020\n01020102010101020102\n20202020201010202020\n01010101020102010101\n```", "locale": "zh-CN"}}}
{"pid": "P4406", "type": "P", "difficulty": 6, "samples": [["2\n0.0 0.0 2.0 0.0 1.0 1.0\n1.0 0.0 3.0 0.0 2.0 1.0", "1.75"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2005", "重庆", "各省省选", "枚举", "排序", "扫描线"], "title": "[CQOI2005] 三角形面积并", "background": "[加强版链接](https://www.luogu.com.cn/problem/P13338)", "description": "给出 $n$ 个三角形，求它们并的面积。", "inputFormat": "第一行为 $n(n \\leq 100)$， 即三角形的个数。\n\n以下 $n$ 行，每行 $6$ 个实数 $x_1$, $y_1$, $x_2$, $y_2$, $x_3$, $y_3$，代表三角形的顶点坐标。坐标均为不超过 $10^6$ 的实数，输入数据保留 $1$ 位小数。", "outputFormat": "输出并的面积 $u$, 保留两位小数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[CQOI2005] Union Area of Triangles", "background": "[Link to the enhanced version](https://www.luogu.com.cn/problem/P13338).", "description": "Given $n$ triangles, compute the area of their union.", "inputFormat": "The first line contains $n$ ($n \\leq 100$), the number of triangles.\nEach of the next $n$ lines contains $6$ real numbers $x_1$, $y_1$, $x_2$, $y_2$, $x_3$, $y_3$, representing the coordinates of the triangle's vertices. All coordinates are real numbers not exceeding $10^6$, and the input numbers are given with $1$ decimal place.", "outputFormat": "Output the union area $u$, to two decimal places.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CQOI2005] 三角形面积并", "background": "[加强版链接](https://www.luogu.com.cn/problem/P13338)", "description": "给出 $n$ 个三角形，求它们并的面积。", "inputFormat": "第一行为 $n(n \\leq 100)$， 即三角形的个数。\n\n以下 $n$ 行，每行 $6$ 个实数 $x_1$, $y_1$, $x_2$, $y_2$, $x_3$, $y_3$，代表三角形的顶点坐标。坐标均为不超过 $10^6$ 的实数，输入数据保留 $1$ 位小数。", "outputFormat": "输出并的面积 $u$, 保留两位小数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4407", "type": "P", "difficulty": 5, "samples": [["4 3\nabcd\nabcde\naabc\nabced\nabcd\nabc\nabcdd", "-1\n2\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "2009", "各省省选", "江苏", "枚举", "深度优先搜索 DFS", "字典树 Trie"], "title": "[JSOI2009] 电子字典", "background": "", "description": "\n人们在英文字典中查找某个单词的时候可能不知道该单词的完整拼法，而只知道该单词的一个错误的近似拼法，这时人们可能陷入困境，为了查找一个单词而浪费大量的时间。带有模糊查询功能的电子字典能够从一定程度上解决这一问题：用户只要输入一个字符串，电子字典就返回与该单词编辑距离最小的几个单词供用户选择。\n\n字符串 $a$ 与字符串 $b$ 的编辑距离是指：允许对 $a$ 或 $b$ 串进行下列“编辑”操作，将 $a$ 变为 $b$ 或 $b$ 变为 $a$，最少“编辑”次数即为距离。\n\n1. 删除串中某个位置的字母；\n2. 添加一个字母到串中某个位置；\n3. 替换串中某一位置的一个字母为另一个字母。\n\nJSOI 团队正在开发一款电子字典，你需要帮助团队实现一个用于模糊查询功能的计数部件：对于一个待查询字符串，如果它是单词，则返回 $-1$；如果它不是单词，则返回字典中有多少个单词与它的编辑距离为 $1$。", "inputFormat": "第一行包含两个正整数 $N$ 和 $M$。\n\n接下来的 $N$ 行，每行一个字符串，第 $i+1$ 行为单词 $W_i$，单词长度在 $1$ 至 $20$ 之间。\n\n再接下来 $M$ 行，每行一个字符串，第 $i+N+1$ 表示一个待查字符串 $Q_i$。待查字符串长度在 $1$ 至 $20$ 之间。$W_i$ 和 $Q_i$ 均由小写字母构成，文件中不包含多余空格。", "outputFormat": "输出应包括 $M$ 行，第 $i$ 行为一个整数 $X_i$：\n\n- $X_i = -1$ 表示 $Q_i$ 为字典中的单词；\n\n- 否则 $X_i$ 表示与 $Q_i$ 编辑距离为 $1$ 的单词的个数。", "hint": "### 样例解释\n\n- `abcd` 在单词表中出现过；\n- `abc` 与单词 `abcd`、`aabc` 的编辑距离都是 $1$；\n- `abcdd` 与单词 `abcd`、`abcde`、`abced` 的编辑距离都是 $1$。\n\n### 数据范围与约定\n\n- 所有单词互不相同，但是查询字符串可能有重复；\n- 对 $50\\%$ 的数据范围，$N,M\\le 10^3$；\n- 对 $100\\%$ 的数据范围，$N,M\\le 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2009] Electronic Dictionary", "background": "", "description": "When looking up a word in an English dictionary, people may not know the exact spelling and only know an incorrect approximate spelling. This can be frustrating and waste a lot of time. An electronic dictionary with fuzzy search can help: the user enters a string, and the dictionary returns a few words with the minimum edit distance to that string for the user to choose from.\n\nThe edit distance between string $a$ and string $b$ is defined as the minimum number of the following editing operations needed to transform $a$ into $b$ or $b$ into $a$:\n\n1. Delete a letter at some position in the string.\n2. Insert a letter at some position in the string.\n3. Replace the letter at some position in the string with another letter.\n\nThe JSOI team is developing an electronic dictionary. You need to help implement a counting module for the fuzzy search function: for a query string, if it is a word, return $-1$; if it is not a word, return how many words in the dictionary have edit distance $1$ from it.", "inputFormat": "The first line contains two positive integers $N$ and $M$.\n\nThe next $N$ lines each contain one string; the $(i+1)$-th line is the word $W_i$, with length from $1$ to $20$.\n\nThen the next $M$ lines each contain one string; the $(i+N+1)$-th line is the query string $Q_i$. The length of each query string is from $1$ to $20$. Each of $W_i$ and $Q_i$ consists of lowercase letters. There are no extra spaces in the input.", "outputFormat": "Output $M$ lines. The $i$-th line contains an integer $X_i$:\n- $X_i = -1$ means $Q_i$ is a word in the dictionary.\n- Otherwise, $X_i$ is the number of dictionary words whose edit distance from $Q_i$ is $1$.", "hint": "Sample explanation:\n- `abcd` appears in the word list.\n- The edit distance between `abc` and each of `abcd` and `aabc` is $1$.\n- The edit distance between `abcdd` and each of `abcd`, `abcde`, and `abced` is $1$.\n\nConstraints and Notes:\n- All words are distinct, but query strings may repeat.\n- For $50\\%$ of the constraints, $N, M \\le 10^3$.\n- For $100\\%$ of the constraints, $N, M \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2009] 电子字典", "background": "", "description": "\n人们在英文字典中查找某个单词的时候可能不知道该单词的完整拼法，而只知道该单词的一个错误的近似拼法，这时人们可能陷入困境，为了查找一个单词而浪费大量的时间。带有模糊查询功能的电子字典能够从一定程度上解决这一问题：用户只要输入一个字符串，电子字典就返回与该单词编辑距离最小的几个单词供用户选择。\n\n字符串 $a$ 与字符串 $b$ 的编辑距离是指：允许对 $a$ 或 $b$ 串进行下列“编辑”操作，将 $a$ 变为 $b$ 或 $b$ 变为 $a$，最少“编辑”次数即为距离。\n\n1. 删除串中某个位置的字母；\n2. 添加一个字母到串中某个位置；\n3. 替换串中某一位置的一个字母为另一个字母。\n\nJSOI 团队正在开发一款电子字典，你需要帮助团队实现一个用于模糊查询功能的计数部件：对于一个待查询字符串，如果它是单词，则返回 $-1$；如果它不是单词，则返回字典中有多少个单词与它的编辑距离为 $1$。", "inputFormat": "第一行包含两个正整数 $N$ 和 $M$。\n\n接下来的 $N$ 行，每行一个字符串，第 $i+1$ 行为单词 $W_i$，单词长度在 $1$ 至 $20$ 之间。\n\n再接下来 $M$ 行，每行一个字符串，第 $i+N+1$ 表示一个待查字符串 $Q_i$。待查字符串长度在 $1$ 至 $20$ 之间。$W_i$ 和 $Q_i$ 均由小写字母构成，文件中不包含多余空格。", "outputFormat": "输出应包括 $M$ 行，第 $i$ 行为一个整数 $X_i$：\n\n- $X_i = -1$ 表示 $Q_i$ 为字典中的单词；\n\n- 否则 $X_i$ 表示与 $Q_i$ 编辑距离为 $1$ 的单词的个数。", "hint": "### 样例解释\n\n- `abcd` 在单词表中出现过；\n- `abc` 与单词 `abcd`、`aabc` 的编辑距离都是 $1$；\n- `abcdd` 与单词 `abcd`、`abcde`、`abced` 的编辑距离都是 $1$。\n\n### 数据范围与约定\n\n- 所有单词互不相同，但是查询字符串可能有重复；\n- 对 $50\\%$ 的数据范围，$N,M\\le 10^3$；\n- 对 $100\\%$ 的数据范围，$N,M\\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P4408", "type": "P", "difficulty": 5, "samples": [["4 3\n1 2 1\n2 3 1\n3 4 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "2003", "NOI", "枚举", "树的直径"], "title": "[NOI2003] 逃学的小孩 / 数据生成器", "background": null, "description": "Chris 家的电话铃响起了，里面传出了 Chris 的老师焦急的声音：“喂，是 Chris 的家长吗？你们的孩子又没来上课，不想参加考试了吗？”一听说要考试，Chris 的父母就心急如焚，他们决定在尽量短的时间内找到 Chris。他们告诉 Chris 的老师：“根据以往的经验，Chris 现在必然躲在朋友 Shermie 或 Yashiro 家里偷玩《拳皇》游戏。现在，我们就从家出发去找 Chris，一旦找到，我们立刻给您打电话。”说完砰的一声把电话挂了。\n\nChris 居住的城市由 $N$ 个居住点和若干条连接居住点的双向街道组成，经过街道 $x$ 需花费 $T_{x}$ 分钟。可以保证，任意两个居住点间有且仅有一条通路。Chris 家在点 $C$，Shermie 和 Yashiro 分别住在点 $A$ 和点 $B$。Chris 的老师和 Chris 的父母都有城市地图，但 Chris 的父母知道点 $A$、$B$、$C$ 的具体位置而 Chris 的老师不知。\n\n为了尽快找到 Chris，Chris 的父母会遵守以下两条规则：\n\n1. 如果 $A$ 距离 $C$ 比 $B$ 距离 $C$ 近，那么 Chris 的父母先去 Shermie 家寻找 Chris，如果找不到，Chris 的父母再去 Yashiro 家；反之亦然。\n2. Chris 的父母总沿着两点间唯一的通路行走。\n\n显然，Chris 的老师知道 Chris 的父母在寻找 Chris 的过程中会遵守以上两条规则，但由于他并不知道 $A$、$B$、$C$ 的具体位置，所以现在他希望你告诉他，最坏情况下 Chris的父母要耗费多长时间才能找到 Chris？", "inputFormat": "输入文件第一行是两个整数 $N$ 和 $M$，分别表示居住点总数和街道总数。\n\n以下 $M$ 行，每行给出一条街道的信息。第 $i+1$ 行包含整数 $U_{i}$、$V_{i}$、$T_{i}$，表示街道 $i$ 连接居住点 $U_{i}$ 和 $V_{i}$，并且经过街道 $i$ 需花费 $T_{i}$ 分钟。街道信息不会重复给出。", "outputFormat": "输出文件仅包含整数 $T$，即最坏情况下 Chris 的父母需要花费 $T$ 分钟才能找到 Chris。", "hint": "对于 $100\\%$ 的数据，$3 \\le N \\le 2\\times 10^5$，$1 \\le U_{i},V_{i} \\le N$，$0 \\le T_{i} \\le 10^{9}$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2003] Truant Child / Data Generator", "background": "", "description": "The phone at Chris's home rang, and Chris's teacher spoke anxiously: \"Hello, is this Chris's parent? Your child skipped class again. Does he not want to take the exam?\" Hearing about an exam, Chris's parents became very worried. They decided to find Chris in the shortest possible time. They told the teacher: \"Based on past experience, Chris must be hiding at his friend Shermie or Yashiro's home, secretly playing The King of Fighters. Now, we'll set out from home to find Chris. As soon as we find him, we'll call you.\" With a bang, they hung up.\n\nChris's city consists of $N$ residential points and several undirected streets connecting them. It takes $T_{x}$ minutes to traverse street $x$. It is guaranteed that between any two residential points there is exactly one path. Chris's home is at point $C$, and Shermie and Yashiro live at points $A$ and $B$, respectively. Both the teacher and Chris's parents have the city map, but only Chris's parents know the exact locations of $A$, $B$, and $C$; the teacher does not.\n\nTo find Chris as quickly as possible, Chris's parents will follow these two rules:\n\n1. If the distance from $A$ to $C$ is shorter than the distance from $B$ to $C$, then Chris's parents will first go to Shermie's home to look for Chris. If he is not there, they will then go to Yashiro's home; and vice versa.\n2. Chris's parents always walk along the unique path between two points.\n\nClearly, the teacher knows that Chris's parents will follow the above two rules during their search. However, since he does not know the exact locations of $A$, $B$, and $C$, he would like you to tell him: in the worst case, how long will it take Chris's parents to find Chris?", "inputFormat": "The first line of the input contains two integers $N$ and $M$, representing the total number of residential points and the total number of streets, respectively.\n\nEach of the next $M$ lines describes one street. Line $i+1$ contains integers $U_{i}$, $V_{i}$, and $T_{i}$, indicating that street $i$ connects residential points $U_{i}$ and $V_{i}$, and it takes $T_{i}$ minutes to traverse street $i$. No street information is given more than once.", "outputFormat": "Output a single integer $T$, the number of minutes Chris's parents will need in the worst case to find Chris.", "hint": "For $100\\%$ of the testdata, $3 \\le N \\le 2\\times 10^5$, $1 \\le U_{i},V_{i} \\le N$, $0 \\le T_{i} \\le 10^{9}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2003] 逃学的小孩 / 数据生成器", "background": null, "description": "Chris 家的电话铃响起了，里面传出了 Chris 的老师焦急的声音：“喂，是 Chris 的家长吗？你们的孩子又没来上课，不想参加考试了吗？”一听说要考试，Chris 的父母就心急如焚，他们决定在尽量短的时间内找到 Chris。他们告诉 Chris 的老师：“根据以往的经验，Chris 现在必然躲在朋友 Shermie 或 Yashiro 家里偷玩《拳皇》游戏。现在，我们就从家出发去找 Chris，一旦找到，我们立刻给您打电话。”说完砰的一声把电话挂了。\n\nChris 居住的城市由 $N$ 个居住点和若干条连接居住点的双向街道组成，经过街道 $x$ 需花费 $T_{x}$ 分钟。可以保证，任意两个居住点间有且仅有一条通路。Chris 家在点 $C$，Shermie 和 Yashiro 分别住在点 $A$ 和点 $B$。Chris 的老师和 Chris 的父母都有城市地图，但 Chris 的父母知道点 $A$、$B$、$C$ 的具体位置而 Chris 的老师不知。\n\n为了尽快找到 Chris，Chris 的父母会遵守以下两条规则：\n\n1. 如果 $A$ 距离 $C$ 比 $B$ 距离 $C$ 近，那么 Chris 的父母先去 Shermie 家寻找 Chris，如果找不到，Chris 的父母再去 Yashiro 家；反之亦然。\n2. Chris 的父母总沿着两点间唯一的通路行走。\n\n显然，Chris 的老师知道 Chris 的父母在寻找 Chris 的过程中会遵守以上两条规则，但由于他并不知道 $A$、$B$、$C$ 的具体位置，所以现在他希望你告诉他，最坏情况下 Chris的父母要耗费多长时间才能找到 Chris？", "inputFormat": "输入文件第一行是两个整数 $N$ 和 $M$，分别表示居住点总数和街道总数。\n\n以下 $M$ 行，每行给出一条街道的信息。第 $i+1$ 行包含整数 $U_{i}$、$V_{i}$、$T_{i}$，表示街道 $i$ 连接居住点 $U_{i}$ 和 $V_{i}$，并且经过街道 $i$ 需花费 $T_{i}$ 分钟。街道信息不会重复给出。", "outputFormat": "输出文件仅包含整数 $T$，即最坏情况下 Chris 的父母需要花费 $T$ 分钟才能找到 Chris。", "hint": "对于 $100\\%$ 的数据，$3 \\le N \\le 2\\times 10^5$，$1 \\le U_{i},V_{i} \\le N$，$0 \\le T_{i} \\le 10^{9}$。", "locale": "zh-CN"}}}
{"pid": "P4409", "type": "P", "difficulty": 5, "samples": [["4\n2\n2\n1\n1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "贪心", "递推", "2006", "二分", "各省省选", "浙江"], "title": "[ZJOI2006] 皇帝的烦恼", "background": null, "description": "经过多年的杀戮，秦皇终于统一了中国。为了抵御外来的侵略，他准备在国土边境安置 $n$ 名将军。\n\n不幸的是这 $n$ 名将军羽翼渐丰，开始展露他们的狼子野心了。他们拒绝述职、拒绝接受皇帝的圣旨。秦皇已经准备好了秘密处决这些无礼的边防大将。不过为防兵变，他决定先授予这些将军一些勋章，为自己赢得战略时间。\n\n将军们听说他们即将被授予勋章都很开心，他们纷纷上书表示感谢。第 $i$ 个将军要求得到 $a_i$ 枚不同颜色的勋章。但是这些将军都很傲气，如果两个相邻的将军拥有颜色相同的勋章他们就会认为皇帝不尊重他们，会立即造反（编号为 $i$ 的将军和编号为 $i+1$ 的将军相邻；因为他们驻扎的边境可以类似看成一个圆形，所以编号 $1$ 和编号 $n$ 的将军也相邻）。\n\n皇帝不得不满足每个将军的要求，但对他们的飞扬跋扈感到很气愤。于是皇帝决定铸造尽量少种类的勋章来满足这些狂妄者的要求。请问他至少要铸造多少种颜色的勋章？", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行每行一个整数 $a_i$，表示第 $i$ 个将军要求得到多少种勋章。", "outputFormat": "输出一个整数，即最少需要多少种勋章。", "hint": "$1 \\leq n \\leq 2 \\times 10^4$，$1 \\leq a_i  \\leq 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[ZJOI2006] The Emperor's Trouble", "background": "", "description": "After years of warfare, the First Emperor of Qin finally unified China. To defend against foreign invasions, he plans to station $n$ generals along the borders.\n\nUnfortunately, these $n$ generals have grown powerful and begun to reveal their ambitions. They refuse to report for duty or accept imperial edicts. The emperor has prepared to secretly execute these insolent frontier commanders. However, to prevent a mutiny, he decides to first award them some medals to buy time.\n\nThe generals are delighted to hear they will be awarded medals and each sends a letter of thanks. The $i$-th general requests $a_i$ medals of different colors. However, the generals are proud: if two adjacent generals possess medals of the same color, they will consider it disrespectful and immediately rebel (generals numbered $i$ and $i+1$ are adjacent; because their border garrisons can be regarded as forming a circle, generals $1$ and $n$ are also adjacent).\n\nThe emperor must satisfy each general’s request, but he is furious at their arrogance. He decides to cast as few colors of medals as possible to meet their demands. What is the minimum number of medal colors he needs to cast?", "inputFormat": "The first line contains an integer $n$.\n\nThe next $n$ lines each contain an integer $a_i$, the number of different colors of medals requested by the $i$-th general.", "outputFormat": "Output a single integer, the minimum number of colors required.", "hint": "$1 \\leq n \\leq 2 \\times 10^4$, $1 \\leq a_i \\leq 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[ZJOI2006] 皇帝的烦恼", "background": null, "description": "经过多年的杀戮，秦皇终于统一了中国。为了抵御外来的侵略，他准备在国土边境安置 $n$ 名将军。\n\n不幸的是这 $n$ 名将军羽翼渐丰，开始展露他们的狼子野心了。他们拒绝述职、拒绝接受皇帝的圣旨。秦皇已经准备好了秘密处决这些无礼的边防大将。不过为防兵变，他决定先授予这些将军一些勋章，为自己赢得战略时间。\n\n将军们听说他们即将被授予勋章都很开心，他们纷纷上书表示感谢。第 $i$ 个将军要求得到 $a_i$ 枚不同颜色的勋章。但是这些将军都很傲气，如果两个相邻的将军拥有颜色相同的勋章他们就会认为皇帝不尊重他们，会立即造反（编号为 $i$ 的将军和编号为 $i+1$ 的将军相邻；因为他们驻扎的边境可以类似看成一个圆形，所以编号 $1$ 和编号 $n$ 的将军也相邻）。\n\n皇帝不得不满足每个将军的要求，但对他们的飞扬跋扈感到很气愤。于是皇帝决定铸造尽量少种类的勋章来满足这些狂妄者的要求。请问他至少要铸造多少种颜色的勋章？", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行每行一个整数 $a_i$，表示第 $i$ 个将军要求得到多少种勋章。", "outputFormat": "输出一个整数，即最少需要多少种勋章。", "hint": "$1 \\leq n \\leq 2 \\times 10^4$，$1 \\leq a_i  \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P4410", "type": "P", "difficulty": 6, "samples": [["6 7\n1 2\n2 3\n3 4\n4 1\n3 6\n3 5\n5 6\n20 10 30 15 20 10", "50"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2009", "各省省选", "湖南", "Tarjan", "仙人掌", "基环树", "圆方树"], "title": "[HNOI2009] 无归岛", "background": "", "description": "Neverland 是个神奇的地方，它由一些岛屿环形排列组成，每个岛上都生活着之中与众不同的物种。\n\n但是这些物种都有一个共同的生活习性：对于同一个岛上的任意两个生物，他们有且仅有一个公共朋友，即对同一岛上的任意两个生物 a 和 b 有且仅有一个生物 c 既是 a 的朋友也是 b 的朋友，当然某些岛上也可能会只有一个生物孤单地生活着。\n\n这一习性有一个明显的好处，当两个生物发生矛盾的时候，他们可以请那个唯一的公共朋友来裁决谁对谁错。 另外，岛与岛之间也有交流，具体来说，每个岛都会挑选出一个最聪明的生物做代表，然后这个生物与他相邻的两个岛的代表成为朋友。 \n\n不幸运的是，A 世界准备入侵 Neverland，作为 Neverland 的守护者，Lostmonkey 想知道在一种比较坏的情况下 Neverland 的战斗力。因为和朋友并肩作战，能力会得到提升，所以 Lostmonkey 想知道在不选出一对朋友的情况下Neverland的最大战斗力。即选出一些生物，且没有一对生物是朋友，并且要求它们的战斗力之和最大。", "inputFormat": "第一行包含用空格隔开的两个整数 $n$ 和 $m$，分别表示 Neverland 的生物种数和朋友对数。\n\n接下来的 $m$ 行描述所有朋友对，具体来说，每行包含用空格隔开的两个整数 $a$ 和 $b$，表示生物 $a$ 和生物 $b$ 是朋友（每对朋友只出现一次）。第 $m+2$ 行包含用空格隔开的 $n$ 个整数，其中第 $i$ 个整数表示生物 $i$ 的战斗力 $A_i$。", "outputFormat": "仅包含一个整数，表示满足条件的最大战斗力。", "hint": "**【样例说明】**\n\n有四个岛，生物 $1$ 在 $1$ 号岛，生物 $2$ 在 $2$ 号岛，生物 $3$、$5$、$6$ 在 $3$ 号岛，生物 $4$ 在 $4$ 号岛。\n\n输入数据保证 $4≤n≤100000$，$1 \\le a,b \\le n$，$1 \\le m \\le 200000$，$-1000 \\le A_i \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[HNOI2009] No-Return Island", "background": "", "description": "Neverland is a magical place made up of several islands arranged in a ring. Each island is home to a distinct species, and creatures live on these islands.\n\nAll these species share a common social habit: for any two creatures on the same island, they have exactly one common friend. That is, for any two creatures $a$ and $b$ on the same island, there exists exactly one creature $c$ who is a friend of both $a$ and $b$. Of course, some islands may have only one creature living alone.\n\nThere is also communication between islands. Specifically, each island chooses the smartest creature as its representative, and this representative becomes friends with the representatives of its two neighboring islands.\n\nUnfortunately, World A plans to invade Neverland. As its guardian, Lostmonkey wants to know Neverland’s fighting power in a relatively unfavorable situation. Fighting alongside friends increases ability, so Lostmonkey wants to know the maximum fighting power without selecting any pair of friends. In other words, select some creatures such that no two selected creatures are friends, and maximize the sum of their battle power.", "inputFormat": "The first line contains two integers $n$ and $m$ separated by a space, denoting the number of creatures in Neverland and the number of friend pairs.\n\nEach of the next $m$ lines describes a friend pair. Specifically, each line contains two integers $a$ and $b$ separated by a space, indicating that creature $a$ and creature $b$ are friends (each friend pair appears exactly once). The $(m+2)$-th line contains $n$ integers separated by spaces, where the $i$-th integer denotes the battle power $A_i$ of creature $i$.", "outputFormat": "Output a single integer, the maximum total battle power satisfying the condition.", "hint": "Sample explanation:\nThere are four islands. Creature $1$ is on island $1$, creature $2$ is on island $2$, creatures $3$, $5$, $6$ are on island $3$, and creature $4$ is on island $4$.\n\nConstraints:\n$4 \\le n \\le 100000$, $1 \\le a, b \\le n$, $1 \\le m \\le 200000$, $-1000 \\le A_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HNOI2009] 无归岛", "background": "", "description": "Neverland 是个神奇的地方，它由一些岛屿环形排列组成，每个岛上都生活着之中与众不同的物种。\n\n但是这些物种都有一个共同的生活习性：对于同一个岛上的任意两个生物，他们有且仅有一个公共朋友，即对同一岛上的任意两个生物 a 和 b 有且仅有一个生物 c 既是 a 的朋友也是 b 的朋友，当然某些岛上也可能会只有一个生物孤单地生活着。\n\n这一习性有一个明显的好处，当两个生物发生矛盾的时候，他们可以请那个唯一的公共朋友来裁决谁对谁错。 另外，岛与岛之间也有交流，具体来说，每个岛都会挑选出一个最聪明的生物做代表，然后这个生物与他相邻的两个岛的代表成为朋友。 \n\n不幸运的是，A 世界准备入侵 Neverland，作为 Neverland 的守护者，Lostmonkey 想知道在一种比较坏的情况下 Neverland 的战斗力。因为和朋友并肩作战，能力会得到提升，所以 Lostmonkey 想知道在不选出一对朋友的情况下Neverland的最大战斗力。即选出一些生物，且没有一对生物是朋友，并且要求它们的战斗力之和最大。", "inputFormat": "第一行包含用空格隔开的两个整数 $n$ 和 $m$，分别表示 Neverland 的生物种数和朋友对数。\n\n接下来的 $m$ 行描述所有朋友对，具体来说，每行包含用空格隔开的两个整数 $a$ 和 $b$，表示生物 $a$ 和生物 $b$ 是朋友（每对朋友只出现一次）。第 $m+2$ 行包含用空格隔开的 $n$ 个整数，其中第 $i$ 个整数表示生物 $i$ 的战斗力 $A_i$。", "outputFormat": "仅包含一个整数，表示满足条件的最大战斗力。", "hint": "**【样例说明】**\n\n有四个岛，生物 $1$ 在 $1$ 号岛，生物 $2$ 在 $2$ 号岛，生物 $3$、$5$、$6$ 在 $3$ 号岛，生物 $4$ 在 $4$ 号岛。\n\n输入数据保证 $4≤n≤100000$，$1 \\le a,b \\le n$，$1 \\le m \\le 200000$，$-1000 \\le A_i \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P4411", "type": "P", "difficulty": 5, "samples": [["5 6 \n7 16 9 24 6", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000, 64000]}, "tags": ["2010", "北京"], "title": "[BJWC2010] 取数游戏", "background": "", "description": "小 C 刚学了辗转相除法，正不亦乐乎，这小 P 又出来捣乱，给小 C 留了个 难题。 给 $N$ 个数，用 $a_1,a_2, \\cdots ,a_n$来表示。现在小 P 让小 C 依次取数，第一个数可以 随意取。假使目前取得 $a_j$，下一个数取$a_k(k>j)$，则$a_k$必须满足$\\mathrm{gcd}(a_j,a_k)≥L$。 \n\n到底要取多少个数呢？自然是越多越好！ 不用多说，这不仅是给小 C 的难题，也是给你的难题。", "inputFormat": "第一行包含两个数$N$ 和 $L$。 接下来一行，有 $N$ 个数用空格隔开，依次是 $a_1,a_2,\\cdots ,a_n$。", "outputFormat": "仅包含一行一个数，表示按上述取法，最多可以取的数的个数。", "hint": "### 样例解释\n\n选取 $3$个数$16,24,6$。$\\mathrm{gcd}(16,24)=8$，$\\mathrm{gcd}(6,24)=6$。 \n\n### 数据范围\n\n30% 的数据$N≤1000$；   \n100% 的数据 $N≤50 000,2≤L≤a_i≤1 000 000$。", "locale": "zh-CN", "translations": {"en": {"title": "[BJWC2010] Number Picking Game", "background": "", "description": "Xiao C has just learned the Euclidean algorithm and is enjoying it, but Xiao P comes to make trouble and leaves Xiao C with a hard problem. You are given $N$ numbers, denoted by $a_1, a_2, \\cdots, a_n$. Now Xiao P asks Xiao C to pick numbers one by one in order. The first number can be chosen arbitrarily. Suppose the current number is $a_j$. To pick the next number $a_k$ with $k > j$, the number $a_k$ must satisfy $\\mathrm{gcd}(a_j, a_k) \\ge L$.\n\nHow many numbers should be picked? Naturally, as many as possible. Needless to say, this is not only a challenge for Xiao C, but also for you.", "inputFormat": "The first line contains two numbers $N$ and $L$.  \nThe second line contains $N$ numbers separated by spaces: $a_1, a_2, \\cdots, a_n$.", "outputFormat": "Output a single line with one number, the maximum count of numbers that can be picked according to the rule.", "hint": "### Sample Explanation\nPick $3$ numbers: $16, 24, 6$. $\\mathrm{gcd}(16, 24) = 8$, $\\mathrm{gcd}(6, 24) = 6$.\n\n### Constraints\nFor 30% of the testdata, $N \\le 1000$.  \nFor 100% of the testdata, $N \\le 50\\,000$, $2 \\le L \\le a_i \\le 1\\,000\\,000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[BJWC2010] 取数游戏", "background": "", "description": "小 C 刚学了辗转相除法，正不亦乐乎，这小 P 又出来捣乱，给小 C 留了个 难题。 给 $N$ 个数，用 $a_1,a_2, \\cdots ,a_n$来表示。现在小 P 让小 C 依次取数，第一个数可以 随意取。假使目前取得 $a_j$，下一个数取$a_k(k>j)$，则$a_k$必须满足$\\mathrm{gcd}(a_j,a_k)≥L$。 \n\n到底要取多少个数呢？自然是越多越好！ 不用多说，这不仅是给小 C 的难题，也是给你的难题。", "inputFormat": "第一行包含两个数$N$ 和 $L$。 接下来一行，有 $N$ 个数用空格隔开，依次是 $a_1,a_2,\\cdots ,a_n$。", "outputFormat": "仅包含一行一个数，表示按上述取法，最多可以取的数的个数。", "hint": "### 样例解释\n\n选取 $3$个数$16,24,6$。$\\mathrm{gcd}(16,24)=8$，$\\mathrm{gcd}(6,24)=6$。 \n\n### 数据范围\n\n30% 的数据$N≤1000$；   \n100% 的数据 $N≤50 000,2≤L≤a_i≤1 000 000$。", "locale": "zh-CN"}}}
{"pid": "P4412", "type": "P", "difficulty": 6, "samples": [["6 9\n1 2 2\n1 3 2\n2 3 3\n3 4 3\n1 5 1\n2 6 3\n4 5 4\n4 6 7\n5 6 6\n1 3\n2 3\n3 4\n4 5\n4 6", "8\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2004", "各省省选", "上海"], "title": "[SHOI2004] 最小生成树", "background": null, "description": "给定一个简单图 $G=\\langle V.E.W\\rangle$，$V$ 为顶点集合，$E$ 为边的集合（无重边，即任意两个顶点之间至多只有一条边)，$W$ 为定义在 $E$ 上的权函数（值为整数)。给出其上的一棵生成树 $T$，现在要求用最小的代价修改 $W$，使得 $T$ 是 $G$ 上的一棵最小生成树（一个图可以有多棵最小生成树，只要 $T$ 的边权和最小即可)。对于任意一条边 $e \\in E$ 修改方法为：\n\n- 增加 $e$ 的权值，即令 $W'(e)=W(e)+\\Delta(e)$，则修改该边的代价为 $\\Delta(e)$\n- 减小 $e$ 的权值，即令 $W'(e)=W(e)-\\Delta(e)$，则修改该边的代价为 $\\Delta(e)$\n- 不改变 $e$ 的权，即 $W'(e)=W(e)$，修改代价为 $\\Delta(e)=0$。\n\n请注意：修改后的权函数 $W'$ 的值域也为整数。\n\n总的修改代价记为 $S=\\sum\\limits_{e \\in E} \\Delta(e)$。", "inputFormat": "第一行为 $N,M$，其中 $N$ 表示顶点的数目，$M$ 表示边的数目。顶点的编号为 $1,2,3,\\cdots,N-1,N$。\n\n接下来的 $M$ 行，每行三个整数 $U_i,V_i,W_i$，表示顶点 $U_i$ 与 $V_i$ 之间有一条边，其权值为 $W_i$。\n\n所有的边在输入中会且仅会出现一次。再接着 $N-1$ 行，每行两个整数 $X_i,Y_i$，表示顶点 $X_i$ 与 $Y_i$ 之间的边是 $T$ 的一条边。", "outputFormat": "输出最小的 $S$。", "hint": "边 $(4,6)$ 的权由 $7$ 修改为 $3$，代价为 $4$；  \n边 $(1,2)$ 的权由 $2$ 修改为 $3$，代价为 $1$；  \n边 $(1,5)$ 的权由 $1$ 修改为 $4$，代价为 $3$；  \n\n所以总代价为 $4+1+3=8$。\n\n$1 \\le N \\le 50,1 \\le M \\le 1500,1 \\le W_i \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[SHOI2004] Minimum Spanning Tree", "background": "", "description": "Given a simple graph $G=\\langle V, E, W \\rangle$, where $V$ is the set of vertices, $E$ is the set of edges (no multiple edges; i.e., there is at most one edge between any two vertices), and $W$ is an integer-valued weight function defined on $E$. A spanning tree $T$ on $G$ is given. Modify $W$ with the minimum total cost so that $T$ becomes a minimum spanning tree on $G$ (a graph may have multiple minimum spanning trees; it suffices that the sum of edge weights of $T$ is minimum). For any edge $e \\in E$, the modification rules are:\n\n- Increase the weight of $e$: set $W'(e) = W(e) + \\Delta(e)$, and the cost to modify this edge is $\\Delta(e)$.\n- Decrease the weight of $e$: set $W'(e) = W(e) - \\Delta(e)$, and the cost to modify this edge is $\\Delta(e)$.\n- Do not change the weight of $e$: set $W'(e) = W(e)$, with modification cost $\\Delta(e)=0$.\n\nNote: The modified weight function $W'$ also takes integer values.\n\nThe total modification cost is $S = \\sum\\limits_{e \\in E} \\Delta(e)$.", "inputFormat": "The first line contains $N, M$, where $N$ is the number of vertices and $M$ is the number of edges. Vertices are numbered $1, 2, 3, \\dots, N-1, N$.\n\nThe next $M$ lines each contain three integers $U_i, V_i, W_i$, indicating there is an edge between vertices $U_i$ and $V_i$ with weight $W_i$.\n\nEach edge appears exactly once in the input. Then, the next $N-1$ lines each contain two integers $X_i, Y_i$, indicating that the edge between $X_i$ and $Y_i$ is an edge of $T$.", "outputFormat": "Output the minimum $S$.", "hint": "Edge $(4,6)$ has its weight changed from $7$ to $3$, with cost $4$;  \nedge $(1,2)$ has its weight changed from $2$ to $3$, with cost $1$;  \nedge $(1,5)$ has its weight changed from $1$ to $4$, with cost $3$.\n\nTherefore, the total cost is $4+1+3=8$.\n\nConstraints: $1 \\le N \\le 50$, $1 \\le M \\le 1500$, $1 \\le W_i \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SHOI2004] 最小生成树", "background": null, "description": "给定一个简单图 $G=\\langle V.E.W\\rangle$，$V$ 为顶点集合，$E$ 为边的集合（无重边，即任意两个顶点之间至多只有一条边)，$W$ 为定义在 $E$ 上的权函数（值为整数)。给出其上的一棵生成树 $T$，现在要求用最小的代价修改 $W$，使得 $T$ 是 $G$ 上的一棵最小生成树（一个图可以有多棵最小生成树，只要 $T$ 的边权和最小即可)。对于任意一条边 $e \\in E$ 修改方法为：\n\n- 增加 $e$ 的权值，即令 $W'(e)=W(e)+\\Delta(e)$，则修改该边的代价为 $\\Delta(e)$\n- 减小 $e$ 的权值，即令 $W'(e)=W(e)-\\Delta(e)$，则修改该边的代价为 $\\Delta(e)$\n- 不改变 $e$ 的权，即 $W'(e)=W(e)$，修改代价为 $\\Delta(e)=0$。\n\n请注意：修改后的权函数 $W'$ 的值域也为整数。\n\n总的修改代价记为 $S=\\sum\\limits_{e \\in E} \\Delta(e)$。", "inputFormat": "第一行为 $N,M$，其中 $N$ 表示顶点的数目，$M$ 表示边的数目。顶点的编号为 $1,2,3,\\cdots,N-1,N$。\n\n接下来的 $M$ 行，每行三个整数 $U_i,V_i,W_i$，表示顶点 $U_i$ 与 $V_i$ 之间有一条边，其权值为 $W_i$。\n\n所有的边在输入中会且仅会出现一次。再接着 $N-1$ 行，每行两个整数 $X_i,Y_i$，表示顶点 $X_i$ 与 $Y_i$ 之间的边是 $T$ 的一条边。", "outputFormat": "输出最小的 $S$。", "hint": "边 $(4,6)$ 的权由 $7$ 修改为 $3$，代价为 $4$；  \n边 $(1,2)$ 的权由 $2$ 修改为 $3$，代价为 $1$；  \n边 $(1,5)$ 的权由 $1$ 修改为 $4$，代价为 $3$；  \n\n所以总代价为 $4+1+3=8$。\n\n$1 \\le N \\le 50,1 \\le M \\le 1500,1 \\le W_i \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P4413", "type": "P", "difficulty": 1, "samples": [["11 15", "19"], ["4 3", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #2] R2", "background": "", "description": "The number S is called the mean of two numbers R1 and R2 if S is equal to (R1+R2)/2. Mirko's birthday present for Slavko was two integers R1 and R2. Slavko promptly calculated their mean which also happened to be an integer but then lost R2! Help Slavko restore R2.", "inputFormat": "The first and only line of input contains two integers R1 and S, both between -1000 and 1000.", "outputFormat": "Output R2 on a single line.", "hint": "", "locale": "en", "translations": {"en": {"title": "[COCI 2006/2007 #2] R2", "background": "", "description": "The number S is called the mean of two numbers R1 and R2 if S is equal to (R1+R2)/2. Mirko's birthday present for Slavko was two integers R1 and R2. Slavko promptly calculated their mean which also happened to be an integer but then lost R2! Help Slavko restore R2.", "inputFormat": "The first and only line of input contains two integers R1 and S, both between -1000 and 1000.", "outputFormat": "Output R2 on a single line.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #2] R2", "background": "", "description": "如果数 S 等于 $(R1 + R2) / 2$，那么 S 就被称为两个数 R1 和 R2 的平均数。Mirko 送给 Slavko 的生日礼物是两个整数 R1 和 R2。Slavko 迅速计算了它们的平均数，这个平均数恰好也是一个整数，但随后他丢失了 R2！请帮助 Slavko 恢复 R2。", "inputFormat": "输入的第一行包含两个整数 R1 和 S，范围均为 -1000 到 1000。", "outputFormat": "输出 R2，单独占一行。", "hint": "题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P4414", "type": "P", "difficulty": 1, "samples": [["1 5 3\nABC", "1 3 5"], ["6 4 2\nCAB", "6 2 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2006", "排序", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #2] ABC", "background": "", "description": "You will be given three integers A, B and C. The numbers will not be given in that exact order, but we do know that A is less than B and B less than C.\nIn order to make for a more pleasant viewing, we want to rearrange them in the given order.", "inputFormat": "The first line contains three positive integers A, B and C, not necessarily in that order. All three numbers will be less than or equal to 100.\nThe second line contains three uppercase letters 'A', 'B' and 'C' (with no spaces between them) representing the desired order.", "outputFormat": "Output the A, B and C in the desired order on a single line, separated by single spaces.", "hint": "", "locale": "en", "translations": {"en": {"title": "[COCI 2006/2007 #2] ABC", "background": "", "description": "You will be given three integers A, B and C. The numbers will not be given in that exact order, but we do know that A is less than B and B less than C.\nIn order to make for a more pleasant viewing, we want to rearrange them in the given order.", "inputFormat": "The first line contains three positive integers A, B and C, not necessarily in that order. All three numbers will be less than or equal to 100.\nThe second line contains three uppercase letters 'A', 'B' and 'C' (with no spaces between them) representing the desired order.", "outputFormat": "Output the A, B and C in the desired order on a single line, separated by single spaces.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #2] ABC", "background": null, "description": "三个整数分别为 $A,B,C$。这三个数字不会按照这样的顺序给你，但它们始终满足条件：$A < B < C$。为了看起来更加简洁明了，我们希望你可以按照给定的顺序重新排列它们。", "inputFormat": "第一行包含三个正整数 $A,B,C$，不一定是按这个顺序。这三个数字都小于或等于 $100$。第二行包含三个大写字母 $A$、$B$ 和 $C$（它们之间**没有**空格）表示所需的顺序。", "outputFormat": "在一行中输出 $A$，$B$ 和 $C$，用一个 ` `（空格）隔开。\n\n感谢 @smartzzh 提供的翻译", "hint": "注意此题数据的换行符为 `\\r\\n`。", "locale": "zh-CN"}}}
{"pid": "P4415", "type": "P", "difficulty": 2, "samples": [["3 3\nABC\nDEF\n0", "CBADEF"], ["3 3\nABC\nDEF\n2", "CDBEAF"], ["3 4\nJLA\nCRUO\n3", "CARLUJO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2006", "枚举", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #2] KOLONE", "background": "", "description": "When moving, ants form rows so that each ant except the first is behind another ant. It is not widely known what happens when two rows of ants moving in opposite directions run into each other in a passage too narrow for both rows to pass through. One theory says that, in that situation, ants will jump over each other.\nFrom the moment the rows meet, each second every ant jumps over (or gets jumped over, as they agree upon) the ant in front of himself so that the two ants swap places, but only if the other ant is moving in the opposite direction. Find the order of the ants after T seconds.", "inputFormat": "The first line contains two integers N1 and N2, the numbers of ants in the first and second rows, respectively.\nThe next two rows contain the orders of ants in the first and second row (first to last). Each ant is uniquely determined by an uppercase letter of the English alphabet (this letter is unique between both rows).\nThe last line of input contains the integer T (0 ≤ T ≤ 50).", "outputFormat": "Output the order of the ants after T seconds on a single line. Our viewpoint is such that the first row of ants comes from our left side and the other one from our right side.", "hint": "", "locale": "en", "translations": {"en": {"title": "[COCI 2006/2007 #2] KOLONE", "background": "", "description": "When moving, ants form rows so that each ant except the first is behind another ant. It is not widely known what happens when two rows of ants moving in opposite directions run into each other in a passage too narrow for both rows to pass through. One theory says that, in that situation, ants will jump over each other.\nFrom the moment the rows meet, each second every ant jumps over (or gets jumped over, as they agree upon) the ant in front of himself so that the two ants swap places, but only if the other ant is moving in the opposite direction. Find the order of the ants after T seconds.", "inputFormat": "The first line contains two integers N1 and N2, the numbers of ants in the first and second rows, respectively.\nThe next two rows contain the orders of ants in the first and second row (first to last). Each ant is uniquely determined by an uppercase letter of the English alphabet (this letter is unique between both rows).\nThe last line of input contains the integer T (0 ≤ T ≤ 50).", "outputFormat": "Output the order of the ants after T seconds on a single line. Our viewpoint is such that the first row of ants comes from our left side and the other one from our right side.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #2] KOLONE", "background": "", "description": "当蚂蚁移动时，蚂蚁排成一行，每个蚂蚁除了第一个蚂蚁都在另一个蚂蚁后面。众所周知，当两排蚂蚁在相反的方向上移动时，在一条太窄的通道中，两排都不能通过。一种理论认为，在这种情况下，蚂蚁会跳过对方。每隔一段时间，每一个蚂蚁都会跳过（或跳过去，就像他们同意的一样）蚂蚁在自己前面，这样两个蚂蚁交换位置，但是只有当另一只蚂蚁朝相反的方向移动时。在T秒后找到蚂蚁的顺序。", "inputFormat": "第一行包含两个整数N1和N2，分别在第一行和第二行中的蚂蚁的数量。接下来的两行包含第一行和第二行中的蚂蚁顺序（第一到最后一行）。每一个蚂蚁都是由一个大写字母（英文字母）唯一决定的（这两个字母在两行之间是唯一的）。输入的最后一行包含整数T(T小于50）。", "outputFormat": "在一条线上输出T秒后蚂蚁的顺序。我们的观点是，第一排蚂蚁来自我们的左侧，另一个来自我们的右侧。\n\n感谢@心之所爱 提供的翻译", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4416", "type": "P", "difficulty": 6, "samples": [["2 2\n1 1 3 3\n5 6 10 10\n3 3 1\n5 1 2\n", "1\n0"], ["3 3\n1 1 7 7\n2 2 6 6\n3 3 5 5\n4 4 1\n2 6 2\n4 7 3\n", "3\n2\n1"], ["1 3\n1 1 7 7\n2 6 2\n4 7 3\n4 4 1\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2017", "线段树", "COCI（克罗地亚）"], "title": "[COCI 2017/2018 #1] Plahte", "background": "", "description": "Little Donald decided to wash all N of his white sheets one day. After washing them, he put them to dry on the ground in his backyard. Donald placed the sheets so that ** none of them touch on the tips or the sides and that none of their sides intersect​**, but it is possible that he placed smaller sheets on top of bigger ones, or that a sheet is completely covering another sheet. After doing this, Donald went to bed.\n\nDonald’s friend Kim somehow got the information that Donald is drying his sheets and\ndecided to mess with him. He found a paintball gun from his father in the attic. Along with the\ngun, there were M paintball balls in different colours, but it is possible that there were more\nballs having the same colour. As soon as Donald fell asleep, Kim walked into his backyard\nand started shooting the sheets with his paintball gun. We all know that sheets bleed, so\nwhen Kim shoots the topmost sheet, that sheet would bleed the color of the ball down to all\nof the sheets beneath it. After Kim used all the balls, he happily left Donald’s backyard.\n\nWhen Donald woke up and went to get his sheets, shock ensued. On most of Donald’s\nsheets, there was a number of new colours. Since Donald is very interested in correct data,\nand he’s in shock and not able to think, he is asking you to tell him the number of new\ncolours on each sheet.\n\nWe can represent Donald’s backyard as an infinite coordinate system, and the sheets as\nrectangles parallel to the coordinate axes. Kim’s shots can be represented as points in that\nsystem.\n\nPlease note: it is possible that Kim’s shot missed all the sheets, but coordinates of each shot\nare unique.\n", "inputFormat": "The first line of input contains the positive integers N (1 ≤ N ≤ 80 000), the number of sheets,\nand M (1 ≤ M ≤ 80 000), the number of paintball balls.\n\nThe $i^{th}$ of the following N lines contains four numbers: the coordinates of the lower left corner $A_i$, $B_i$ (1 ≤ $A_i$, $B_i$ ≤ $10^9$) and the upper right corner $C_i$, $D_i$, (1 ≤ $C_i$, $D_i$ ≤ $10^9$) of the $i^{th}$ sheet.\n\nThe $j^{th}$ of the following M lines contains the coordinates where Kim’s $j^{th}$ shot landed $X_j$, $Y_j$ (1 ≤$X_j$, $Y_j$ ≤ $10^9$), and $K_j$(1 ≤ $K_j$ ≤ $10^9$), the colour label of the $j^{th}$ ball.\n", "outputFormat": "The $i^{th}$ of N lines must contain the number of new colours on the $i^{th}$ sheet.", "hint": "![](https://cdn.luogu.com.cn/upload/pic/17380.png)", "locale": "en", "translations": {"en": {"title": "[COCI 2017/2018 #1] Plahte", "background": "", "description": "Little Donald decided to wash all N of his white sheets one day. After washing them, he put them to dry on the ground in his backyard. Donald placed the sheets so that ** none of them touch on the tips or the sides and that none of their sides intersect​**, but it is possible that he placed smaller sheets on top of bigger ones, or that a sheet is completely covering another sheet. After doing this, Donald went to bed.\n\nDonald’s friend Kim somehow got the information that Donald is drying his sheets and\ndecided to mess with him. He found a paintball gun from his father in the attic. Along with the\ngun, there were M paintball balls in different colours, but it is possible that there were more\nballs having the same colour. As soon as Donald fell asleep, Kim walked into his backyard\nand started shooting the sheets with his paintball gun. We all know that sheets bleed, so\nwhen Kim shoots the topmost sheet, that sheet would bleed the color of the ball down to all\nof the sheets beneath it. After Kim used all the balls, he happily left Donald’s backyard.\n\nWhen Donald woke up and went to get his sheets, shock ensued. On most of Donald’s\nsheets, there was a number of new colours. Since Donald is very interested in correct data,\nand he’s in shock and not able to think, he is asking you to tell him the number of new\ncolours on each sheet.\n\nWe can represent Donald’s backyard as an infinite coordinate system, and the sheets as\nrectangles parallel to the coordinate axes. Kim’s shots can be represented as points in that\nsystem.\n\nPlease note: it is possible that Kim’s shot missed all the sheets, but coordinates of each shot\nare unique.\n", "inputFormat": "The first line of input contains the positive integers N (1 ≤ N ≤ 80 000), the number of sheets,\nand M (1 ≤ M ≤ 80 000), the number of paintball balls.\n\nThe $i^{th}$ of the following N lines contains four numbers: the coordinates of the lower left corner $A_i$, $B_i$ (1 ≤ $A_i$, $B_i$ ≤ $10^9$) and the upper right corner $C_i$, $D_i$, (1 ≤ $C_i$, $D_i$ ≤ $10^9$) of the $i^{th}$ sheet.\n\nThe $j^{th}$ of the following M lines contains the coordinates where Kim’s $j^{th}$ shot landed $X_j$, $Y_j$ (1 ≤$X_j$, $Y_j$ ≤ $10^9$), and $K_j$(1 ≤ $K_j$ ≤ $10^9$), the colour label of the $j^{th}$ ball.\n", "outputFormat": "The $i^{th}$ of N lines must contain the number of new colours on the $i^{th}$ sheet.", "hint": "![](https://cdn.luogu.com.cn/upload/pic/17380.png)", "locale": "en"}, "zh-CN": {"title": "[COCI 2017/2018 #1] Plahte", "background": "", "description": "小唐纳德决定有一天清洗他所有的 N 张白色床单。洗完后，他把它们放在后院的地上晾干。唐纳德放置床单的方式是**它们的边缘或角落都不接触，且没有边缘相交**，但可能会有小床单放在大床单上，或者一张床单完全覆盖另一张床单。做完这些后，唐纳德就去睡觉了。\n\n唐纳德的朋友金姆不知怎么得知唐纳德正在晾床单，决定捉弄他。他从阁楼上找到了父亲的一个彩弹枪。和枪一起的，还有 M 颗不同颜色的彩弹球，但可能有多个球是相同颜色的。唐纳德一睡着，金姆就走进他的后院，开始用彩弹枪射击床单。我们都知道床单会渗色，所以当金姆射击最上面的床单时，那张床单会将彩弹的颜色渗透到下面所有的床单上。金姆用完所有的球后，开心地离开了唐纳德的后院。\n\n当唐纳德醒来去收床单时，他大吃一惊。唐纳德的许多床单上都有一些新的颜色。由于唐纳德对准确的数据非常感兴趣，而他被惊吓得无法思考，他请求你告诉他每张床单上的新颜色数量。\n\n我们可以将唐纳德的后院表示为一个无限的坐标系，床单表示为与坐标轴平行的矩形。金姆的射击可以表示为该坐标系中的点。\n\n请注意：金姆的射击可能会错过所有床单，但每次射击的坐标是唯一的。", "inputFormat": "输入的第一行包含正整数 N（1 ≤ N ≤ 80 000），表示床单的数量，和 M（1 ≤ M ≤ 80 000），表示彩弹球的数量。\n\n接下来的 N 行中的第 $i$ 行包含四个数字：第 $i$ 张床单的左下角坐标 $A_i$，$B_i$（1 ≤ $A_i$，$B_i$ ≤ $10^9$）和右上角坐标 $C_i$，$D_i$（1 ≤ $C_i$，$D_i$ ≤ $10^9$）。\n\n接下来的 M 行中的第 $j$ 行包含金姆的第 $j$ 次射击落点的坐标 $X_j$，$Y_j$（1 ≤ $X_j$，$Y_j$ ≤ $10^9$），以及第 $j$ 颗球的颜色标记 $K_j$（1 ≤ $K_j$ ≤ $10^9$）。", "outputFormat": "输出的第 $i$ 行必须包含第 $i$ 张床单上的新颜色数量。", "hint": "![](https://cdn.luogu.com.cn/upload/pic/17380.png)\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P4417", "type": "P", "difficulty": 4, "samples": [["2 2\n..\n..", "7"], ["4 4\nX.XX\nX..X\n..X.\n..XX", "9"], ["3 3\nX.X\n.X.\nX.X", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2006", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #2] STOL", "background": "", "description": "Mirko has bought an apartment and wants to invite to dinner as many people as possible to celebrate with him. For this he needs a large rectangular wooden table for which he will sit down with his guests. The number of people a table can accommodate is equal to its perimeter (the sum of the lengths of all four sides). Mirko wants to buy a table such that it fits in his apartment and that as many people as possible can sit down with him for dinner. The table must be placed so that its edges are parallel to the edges of the apartment.\nGiven the layout of the apartment, find the number of people Mirko can invite to dinner.", "inputFormat": "The first line contains two integers R and C (1 ≤ R, S ≤ 400), the dimensions of the apartment.\nEach of the following R rows contains exactly S characters (without spaces), whether a square is free ('.') or blocked ('X').\nMirko can put his table only in free squares.", "outputFormat": "Output the number of guests Mirko can invite to dinner after he buys his table on a single line.", "hint": "", "locale": "en", "translations": {"en": {"title": "[COCI 2006/2007 #2] STOL", "background": "", "description": "Mirko has bought an apartment and wants to invite to dinner as many people as possible to celebrate with him. For this he needs a large rectangular wooden table for which he will sit down with his guests. The number of people a table can accommodate is equal to its perimeter (the sum of the lengths of all four sides). Mirko wants to buy a table such that it fits in his apartment and that as many people as possible can sit down with him for dinner. The table must be placed so that its edges are parallel to the edges of the apartment.\nGiven the layout of the apartment, find the number of people Mirko can invite to dinner.", "inputFormat": "The first line contains two integers R and C (1 ≤ R, S ≤ 400), the dimensions of the apartment.\nEach of the following R rows contains exactly S characters (without spaces), whether a square is free ('.') or blocked ('X').\nMirko can put his table only in free squares.", "outputFormat": "Output the number of guests Mirko can invite to dinner after he buys his table on a single line.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #2] STOL", "background": "", "description": "米尔科买了一套别墅，他想要邀请尽量多的人和他一起庆祝。他需要一张大的木质矩形桌子来让他和他的嘉宾坐下。每张桌子可容纳的人数等于它的周长（四边长度的总和）。米尔科想要买一张即可在他的公寓里放下，也可以坐下尽量多的人和他一起享用晚餐的桌子。桌子必须放置成四条边都与公寓的墙平行的样子。题目给出公寓内部的布局，请问米尔科最多可以邀请多少人吃晚餐。", "inputFormat": "第一行包含两个整数R和S（1<=R,S<=400),代表公寓的尺寸（R为宽，S为长），以下的R行中每一行都包含了S个准确的字符（没有空格），代表这个正方形区域是没有东西的('.') ，还是有东西的('X')，米尔科只等把桌子发在没有东西的正方形区域里。", "outputFormat": "输出米尔科在放下他的桌子后能够邀请来吃晚餐的人数\n\n感谢@marcoolmap 提供的翻译", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4418", "type": "P", "difficulty": 5, "samples": [["6\n0 0 1 0\n0 0 0 1\n1 0 1 1\n0 1 1 1\n0 0 1 1\n1 0 0 1", "8"], ["4\n5 1 7 1\n1 1 5 1\n4 0 4 4\n7 0 3 4", "1"], ["3\n2 2 3 2\n3 2 3 3\n3 3 2 3", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何", "2006", "叉积", "COCI（克罗地亚）"], "title": "[COCI 2006/2007 #2] STRAZA", "background": "", "description": "Near a military base there is a system of trenches, modeled as line segments on a plane. During nighttime, when most soldiers are fast asleep, three guards stand watch of the trenches. Two guards can see each other if there is a trench (or a row of trenches) along the entire straight line segment between them and there is no third guard on that line segment.\nFor security reasons, the guards must be placed so that each guard sees the other two. How many ways can they be placed?", "inputFormat": "The first line contains the integer N (1 ≤ N ≤ 20), the number of trenches. Each of the next N lines contains the description of one trench: four positive integers X1, Y1, X2, Y2 (all less than or equal to 1000), where X1 and Y1 are coordinates of one end, while X2 and Y2 are coordinates of the other end of the trench.\nTrenches in the input may overlap and share endpoints.", "outputFormat": "Output the number of ways the guards can be placed on a single line.", "hint": "", "locale": "en", "translations": {"en": {"title": "[COCI 2006/2007 #2] STRAZA", "background": "", "description": "Near a military base there is a system of trenches, modeled as line segments on a plane. During nighttime, when most soldiers are fast asleep, three guards stand watch of the trenches. Two guards can see each other if there is a trench (or a row of trenches) along the entire straight line segment between them and there is no third guard on that line segment.\nFor security reasons, the guards must be placed so that each guard sees the other two. How many ways can they be placed?", "inputFormat": "The first line contains the integer N (1 ≤ N ≤ 20), the number of trenches. Each of the next N lines contains the description of one trench: four positive integers X1, Y1, X2, Y2 (all less than or equal to 1000), where X1 and Y1 are coordinates of one end, while X2 and Y2 are coordinates of the other end of the trench.\nTrenches in the input may overlap and share endpoints.", "outputFormat": "Output the number of ways the guards can be placed on a single line.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[COCI 2006/2007 #2] STRAZA", "background": "", "description": "在军事基地附近有一个战壕场，其中的战壕以平面上的线段为模型。在夜间，当大多数士兵熟睡的时候，三个警卫站在战壕旁边。如果在它们之间的整个直线段上有一条战壕（或一排战壕），且该直线段上没有第三警卫，那么两个警卫可以看到彼此。出于安全原因，必须安排警卫，以便每名警卫看到另外两名警卫。它们有多少种被安排的方式？", "inputFormat": "第一行包含整数n（1≤n≤20），战壕的数目。接下来的n行中的每一行都包含一个战壕的描述：四个正整数X1,Y1,X2,Y2（都小于或等于1000），其中X1和Y1是一端的坐标，而X2和Y2是战壕另一端的坐标。输入中的战壕可能重叠并共享端点。", "outputFormat": "在这一行中，有多少种安排警卫的方式。", "hint": "", "locale": "zh-CN"}}}
