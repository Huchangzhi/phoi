{"pid": "P13916", "type": "P", "difficulty": 3, "samples": [["2 10 5\n1 2\n4 6", "2"], ["4 10 7\n0 2\n3 4\n5 6\n9 10", "3"], ["0 1000000000 1000000000", "1000000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "2024", "PO（瑞典）"], "title": "[PO Final 2024] 瓦萨滑雪节 / Vasaloppet", "background": "", "description": "\n查洛特正在电视上看瓦萨滑雪节。节目从第 $0$ 秒开始，到第 $T$ 秒结束。不幸的是，节目中还有 $N$ 段广告，持续 $N$ 个不重叠的秒级时间段，介于第 $0$ 秒和第 $T$ 秒之间。查洛特看到起跑线上的选手们后深受启发，想在比赛期间自己也去滑雪。滑雪之旅需要 $S$ 秒，她必须在第 $T$ 秒前回来（以便看到谁是赢家）。\n\n查洛特希望选择一个时间去滑雪，以便尽可能少地错过瓦萨滑雪节。你的任务是计算查洛特在最佳选择滑雪时间的情况下，最少会错过多少秒的瓦萨滑雪节。错过的秒数是指查洛特外出滑雪期间，没有广告播放的秒数。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/59rvh5ii.png)\n\n上图描述了样例 $1$。红色矩形表示广告时段。如果查洛特在第一个广告时段开始时出发滑雪，并在第二个广告时段结束时回家，她将只错过 $2$ 秒的瓦萨滑雪节。\n", "inputFormat": "\n\n输入的第一行包含三个整数 $N, T,S$ ($0 \\leq N \\leq 10^5$, $1 \\leq S \\leq T \\leq 10^9$)。$N$ 是广告时段的数量，$T$ 是节目持续的秒数，$S$ 是滑雪之旅的持续秒数。\n\n接下来 $N$ 行，每行包含两个整数 $l_ i, r_ i$ ($0 \\leq l_ i < r_ i \\leq T$)，表示第 $i$ 个广告时段从第 $l_ i$ 秒持续到第 $r_ i$ 秒。\n广告时段按其出现顺序给出，并且所有时段互不重叠且已排序，这意味着对于 $i < N$，有 $r_ i < l_{i+1}$。", "outputFormat": "\n\n输出一个整数，表示查洛特在最佳选择滑雪时间的情况下，滑雪期间最少会错过多少秒的瓦萨滑雪节。请注意，滑雪之旅可以恰好在第 $T$ 秒结束。例如，如果 $S=3$ 且 $T=3$，滑雪之旅可以覆盖瓦萨滑雪节的整个持续时间。", "hint": "\n### 子任务\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $10$ | $N=1$ |\n| $2$ | $25$ | $N \\leq 1000$ |\n| $3$ | $30$ | $T \\leq 10^6$ |\n| $4$ | $35$ | 无额外限制 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PO Final 2024] 瓦萨滑雪节 / Vasaloppet", "background": "", "description": "\n查洛特正在电视上看瓦萨滑雪节。节目从第 $0$ 秒开始，到第 $T$ 秒结束。不幸的是，节目中还有 $N$ 段广告，持续 $N$ 个不重叠的秒级时间段，介于第 $0$ 秒和第 $T$ 秒之间。查洛特看到起跑线上的选手们后深受启发，想在比赛期间自己也去滑雪。滑雪之旅需要 $S$ 秒，她必须在第 $T$ 秒前回来（以便看到谁是赢家）。\n\n查洛特希望选择一个时间去滑雪，以便尽可能少地错过瓦萨滑雪节。你的任务是计算查洛特在最佳选择滑雪时间的情况下，最少会错过多少秒的瓦萨滑雪节。错过的秒数是指查洛特外出滑雪期间，没有广告播放的秒数。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/59rvh5ii.png)\n\n上图描述了样例 $1$。红色矩形表示广告时段。如果查洛特在第一个广告时段开始时出发滑雪，并在第二个广告时段结束时回家，她将只错过 $2$ 秒的瓦萨滑雪节。\n", "inputFormat": "\n\n输入的第一行包含三个整数 $N, T,S$ ($0 \\leq N \\leq 10^5$, $1 \\leq S \\leq T \\leq 10^9$)。$N$ 是广告时段的数量，$T$ 是节目持续的秒数，$S$ 是滑雪之旅的持续秒数。\n\n接下来 $N$ 行，每行包含两个整数 $l_ i, r_ i$ ($0 \\leq l_ i < r_ i \\leq T$)，表示第 $i$ 个广告时段从第 $l_ i$ 秒持续到第 $r_ i$ 秒。\n广告时段按其出现顺序给出，并且所有时段互不重叠且已排序，这意味着对于 $i < N$，有 $r_ i < l_{i+1}$。", "outputFormat": "\n\n输出一个整数，表示查洛特在最佳选择滑雪时间的情况下，滑雪期间最少会错过多少秒的瓦萨滑雪节。请注意，滑雪之旅可以恰好在第 $T$ 秒结束。例如，如果 $S=3$ 且 $T=3$，滑雪之旅可以覆盖瓦萨滑雪节的整个持续时间。", "hint": "\n### 子任务\n\n**本题采用捆绑测试。**\n\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $10$ | $N=1$ |\n| $2$ | $25$ | $N \\leq 1000$ |\n| $3$ | $30$ | $T \\leq 10^6$ |\n| $4$ | $35$ | 无额外限制 |\n\n", "locale": "zh-CN"}}}
{"pid": "P13917", "type": "P", "difficulty": 3, "samples": [["14\n>v<v>v>^^^>>v<\n1 2", "8"], ["1\n>\n100000 100000", "-1"], ["4\n>><<\n0 0", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "二分", "2024", "PO（瑞典）"], "title": "[PO Final 2024] 测面积 / Floor Area", "background": "", "description": "你即将出售你的房子，但首先你需要确定房屋的建筑面积。这听起来可能很简单，但你有一个未使用的储藏室，你弄丢了钥匙，而且你不知道这个储藏室有多大。储藏室里唯一的东西是一个机器人吸尘器。如果你启动吸尘器并观察它最终停在哪里，也许你就能算出储藏室的大小？\n\n储藏室由一个 $N \\times M$ 的网格组成，其中 $N$ 和 $M$ 是未知的正整数。行从上到下编号为 $0$ 到 $N-1$，列从左到右编号为 $0$ 到 $M-1$。机器人有一系列指令 $s$。指令由一个包含字符 `<`、`>`、`^` 和 `v` 的字符串描述。机器人启动后，它会读取这些指令，并根据每条指令向相应方向移动一步。如果机器人试图移出网格，它会撞到墙壁，什么也不会发生。机器人从左上角开始，即第 $0$ 行第 $0$ 列。\n\n你会得到字符串 $s$ 以及机器人执行指令后最终所在的行和列。计算与此信息一致的 $N \\cdot M$ 的最小可能值。", "inputFormat": "\n第一行包含一个整数 $K$ ($1 \\leq K \\leq 3 \\cdot 10^5$)，表示字符串 $s$ 的长度。\n第二行包含字符串 $s$。\n第三行包含两个整数 $r$ 和 $c$ ($0 \\leq r,c < 3 \\cdot 10^5$)，其中 $r$ 是机器人最终所在的行， $c$ 是机器人最终所在的列。", "outputFormat": "\n输出一个整数，即 $N \\cdot M$ 的最小可能值。如果没有与测试数据信息一致的 $N$ 和 $M$ 的选择，则输出 $-1$。", "hint": "### 样例解释\n\n#### 样例 $1$ 解释 \n![](https://cdn.luogu.com.cn/upload/image_hosting/jlqg2t9r.png)\n\n上图展示了样例 $1$ 中最小可能的网格。机器人沿黑色曲线移动。深色方块是机器人最终的位置。\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $15$ | 机器人只向下和向右移动。 |\n| $2$ | $30$ | $K \\le 100 $|\n| $3$ | $20$ | $K \\le 5000$ |\n| $4$ | $35$ | 无额外约束。 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PO Final 2024] 测面积 / Floor Area", "background": "", "description": "你即将出售你的房子，但首先你需要确定房屋的建筑面积。这听起来可能很简单，但你有一个未使用的储藏室，你弄丢了钥匙，而且你不知道这个储藏室有多大。储藏室里唯一的东西是一个机器人吸尘器。如果你启动吸尘器并观察它最终停在哪里，也许你就能算出储藏室的大小？\n\n储藏室由一个 $N \\times M$ 的网格组成，其中 $N$ 和 $M$ 是未知的正整数。行从上到下编号为 $0$ 到 $N-1$，列从左到右编号为 $0$ 到 $M-1$。机器人有一系列指令 $s$。指令由一个包含字符 `<`、`>`、`^` 和 `v` 的字符串描述。机器人启动后，它会读取这些指令，并根据每条指令向相应方向移动一步。如果机器人试图移出网格，它会撞到墙壁，什么也不会发生。机器人从左上角开始，即第 $0$ 行第 $0$ 列。\n\n你会得到字符串 $s$ 以及机器人执行指令后最终所在的行和列。计算与此信息一致的 $N \\cdot M$ 的最小可能值。", "inputFormat": "\n第一行包含一个整数 $K$ ($1 \\leq K \\leq 3 \\cdot 10^5$)，表示字符串 $s$ 的长度。\n第二行包含字符串 $s$。\n第三行包含两个整数 $r$ 和 $c$ ($0 \\leq r,c < 3 \\cdot 10^5$)，其中 $r$ 是机器人最终所在的行， $c$ 是机器人最终所在的列。", "outputFormat": "\n输出一个整数，即 $N \\cdot M$ 的最小可能值。如果没有与测试数据信息一致的 $N$ 和 $M$ 的选择，则输出 $-1$。", "hint": "### 样例解释\n\n#### 样例 $1$ 解释 \n![](https://cdn.luogu.com.cn/upload/image_hosting/jlqg2t9r.png)\n\n上图展示了样例 $1$ 中最小可能的网格。机器人沿黑色曲线移动。深色方块是机器人最终的位置。\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $15$ | 机器人只向下和向右移动。 |\n| $2$ | $30$ | $K \\le 100 $|\n| $3$ | $20$ | $K \\le 5000$ |\n| $4$ | $35$ | 无额外约束。 |", "locale": "zh-CN"}}}
{"pid": "P13918", "type": "P", "difficulty": 4, "samples": [["5 2\n1 2 1 1", "1"], ["7 1\n1 1 2 2 3 3", "3"], ["7 2\n1 2 2 4 1 6", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "二分", "2024", "PO（瑞典）"], "title": "[PO Final 2024] 雪崩 / Avalanche", "background": "", "description": "约书亚识破亚历山大伪造雪花照片的企图后，亚历山大变得心怀怨恨并对雪痴迷不已。他想出了一个邪恶的宏伟计划，这可能让约书亚陷入绝境，第一步就是邀请约书亚去滑雪。\n\n他们现在身处一个大型滑雪系统，其中有 $N$ 个滑雪村庄，编号从 $1$ 到 $N$。村庄之间由 $(N-1)$ 条单向滑雪坡道连接。滑雪系统的顶部是村庄 $1$，从那里可以通过一条或多条滑雪坡道到达其他所有村庄。其余村庄都只有一条坡道通向它们。\n\n亚历山大邪恶宏伟计划的第二步是在滑雪系统中引发雪崩。他计划通过在一个村庄制造巨大噪音来实现这一点。该村庄的雪将沿着所有源自该村庄的坡道向下崩塌。雪将尽可能地向所有方向持续向下崩塌。雪崩的破坏程度是受影响村庄的数量。\n\n约书亚注意到亚历山大似乎心智不正常，已经看穿了他的邪恶宏伟计划。众所周知，约书亚心灵手巧，可以选择一些村庄建造围墙。在一个村庄建造围墙可以阻止雪崩到达该村庄。亚历山大不能从有围墙的滑雪村庄引发雪崩。\n\n但时间紧迫，在警告其他滑雪者即将发生的事情后，约书亚只来得及在 $K$ 个不同的村庄建造围墙。约书亚不知道亚历山大将在哪个村庄制造噪音，但他希望将受影响的村庄数量降到最低。\n\n首先，约书亚将建造 $K$ 道围墙，以使亚历山大能造成的最大破坏最小化。然后亚历山大将在造成最大可能破坏的村庄制造噪音。你的任务是计算破坏程度，即受雪崩影响的村庄数量。\n", "inputFormat": "\n输入的第一行包含两个数字 $N$ 和 $K$（$1 \\le K < N \\le 10^5$），分别表示滑雪系统中的村庄数量和约书亚可以建造的围墙数量。\n\n接下来有一行包含 $N-1$ 个数字 $a_1, a_2, ..., a_{N-1}$，其中 $1 \\le a_i \\le i$。对于每个 $i = 1, 2, ..., N-1$，都有一条滑雪坡道从编号为 $a_i$ 的村庄通往编号为 $i+1$ 的村庄。", "outputFormat": "输出一个数字：在约书亚最优地建造围墙的情况下，亚历山大能造成的最大破坏。\n", "hint": "### 子任务\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $10$ | 对于所有 $1 \\le i \\le N-1$，有 $a_i = i$。 |\n| $2$ | $10$ | $K = 1, N \\le 1000$ |\n| $3$ | $10$ | $N \\le 20$ |\n| $4$ | $15$ | $K = 1$ |\n| $5$ | $25$ | $N \\le 1000$ |\n| $6$ | $30$ | 无额外约束。 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PO Final 2024] 雪崩 / Avalanche", "background": "", "description": "约书亚识破亚历山大伪造雪花照片的企图后，亚历山大变得心怀怨恨并对雪痴迷不已。他想出了一个邪恶的宏伟计划，这可能让约书亚陷入绝境，第一步就是邀请约书亚去滑雪。\n\n他们现在身处一个大型滑雪系统，其中有 $N$ 个滑雪村庄，编号从 $1$ 到 $N$。村庄之间由 $(N-1)$ 条单向滑雪坡道连接。滑雪系统的顶部是村庄 $1$，从那里可以通过一条或多条滑雪坡道到达其他所有村庄。其余村庄都只有一条坡道通向它们。\n\n亚历山大邪恶宏伟计划的第二步是在滑雪系统中引发雪崩。他计划通过在一个村庄制造巨大噪音来实现这一点。该村庄的雪将沿着所有源自该村庄的坡道向下崩塌。雪将尽可能地向所有方向持续向下崩塌。雪崩的破坏程度是受影响村庄的数量。\n\n约书亚注意到亚历山大似乎心智不正常，已经看穿了他的邪恶宏伟计划。众所周知，约书亚心灵手巧，可以选择一些村庄建造围墙。在一个村庄建造围墙可以阻止雪崩到达该村庄。亚历山大不能从有围墙的滑雪村庄引发雪崩。\n\n但时间紧迫，在警告其他滑雪者即将发生的事情后，约书亚只来得及在 $K$ 个不同的村庄建造围墙。约书亚不知道亚历山大将在哪个村庄制造噪音，但他希望将受影响的村庄数量降到最低。\n\n首先，约书亚将建造 $K$ 道围墙，以使亚历山大能造成的最大破坏最小化。然后亚历山大将在造成最大可能破坏的村庄制造噪音。你的任务是计算破坏程度，即受雪崩影响的村庄数量。\n", "inputFormat": "\n输入的第一行包含两个数字 $N$ 和 $K$（$1 \\le K < N \\le 10^5$），分别表示滑雪系统中的村庄数量和约书亚可以建造的围墙数量。\n\n接下来有一行包含 $N-1$ 个数字 $a_1, a_2, ..., a_{N-1}$，其中 $1 \\le a_i \\le i$。对于每个 $i = 1, 2, ..., N-1$，都有一条滑雪坡道从编号为 $a_i$ 的村庄通往编号为 $i+1$ 的村庄。", "outputFormat": "输出一个数字：在约书亚最优地建造围墙的情况下，亚历山大能造成的最大破坏。\n", "hint": "### 子任务\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $10$ | 对于所有 $1 \\le i \\le N-1$，有 $a_i = i$。 |\n| $2$ | $10$ | $K = 1, N \\le 1000$ |\n| $3$ | $10$ | $N \\le 20$ |\n| $4$ | $15$ | $K = 1$ |\n| $5$ | $25$ | $N \\le 1000$ |\n| $6$ | $30$ | 无额外约束。 |", "locale": "zh-CN"}}}
{"pid": "P13919", "type": "P", "difficulty": 7, "samples": [["11110\n\n4\n\n11110\n\n10101\n\n2\n\n10010\n\n10000\n\n0", "\napp\n\nup\n\nright\n\napp\n\ndownright\n\ndownleft\n\napp\n\nhere"], ["10001\n\n6\n\n10111\n\n4\n\n11111\n\n11111\n\n11110\n\n11001", "\napp\n\nup\n\napp\n\nleft\n\nleft\n\nleft\n\ndownright\n\nhere"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "交互题", "Special Judge", "PO（瑞典）"], "title": "[PO Final 2024] 黑暗密室 / The Dark Chambers of Chalmers", "background": "", "description": "\n你正在前往瑞典信息学奥林匹克竞赛的决赛，该决赛在查尔姆斯理工大学举行。然而，你却在大学的地下室迷路了。你的方向感不佳，更糟糕的是地下室的设计非常奇怪。\n\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m9i0qdec.png)\n\n图 1：查尔姆斯的黑暗密室\n\n\n地下室共有 $2 \\le N \\le 1000$ 层。在地面层，只有一个大房间。对于所有其他房间，其正上方都存在一个房间。每向下一层，房间的大小都会减半。在每个房间 $i$ 的下方，最多有两个房间 $l_i$ 和 $r_i$，每个房间的大小都恰好是房间 $i$ 的一半。$l_i$ 和 $r_i$ 可能只存在一个，或者两者都存在，或者两者都不存在。如果两个房间直接相邻，你可以通过门在它们之间移动；如果一个房间在另一个房间的正上方，你可以通过楼梯移动。你目前在地下室的某个房间里，并且你知道决赛也在地下室的某个地方举行。\n\n路径是指一系列通往相邻房间的步骤。对于从你当前所在房间到决赛所在房间的某条路径 $v$，令 $A_v$ 为你穿过门的次数，令 $B_v$ 为你上下楼梯的次数。路径的长度定义为 $L_v = A_v + B_v$。你现在想去参加决赛。为了帮助你，你下载了“校园地图”应用。“校园地图”应用的程序设计目标是找到前往目的地的路径长度，其中需要上下楼梯的次数最少。在所有通往决赛所在房间的可能路径 $v$ 中，应用会找出所有使 $B_v$ 值最小的路径。在这些路径中，它会选择使 $L_v$ 值最小的那一条。然后，它会给出这条路径的长度 $L_v$ 值。\n\n由于应用运行缓慢，你最多只能查询它 500 次。你也没有时间移动到其他房间超过 5000 次。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0j0nv2ew.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vtsgd6ci.png)\n\n图 2：示例情况 1 和 2 中的地下室。蓝色圆圈是你的起始位置，绿色圆圈显示决赛所在的房间。在两张图中，“校园地图”应用找到的路径都用紫色表示。在示例情况 1 中，这条路径经过三个楼梯和一个门。在示例情况 2 中，这条路径经过零个楼梯和六个门。\n\n### 交互格式\n\n首先，你会获得当前所在房间的信息。这会以一个长度为五的二进制字符串给出，其中每个字符为“1”表示你可以朝某个方向移动，否则为“0”。字符的顺序依次表示你是否可以向上、向右、向右下、向左下、向左移动。因此，字符串 01001 意味着你可以向右和向左移动，但不能向其他方向移动。\n\n然后，你可以选择移动到相邻房间，或者使用“校园地图”应用。要移动到相邻房间，你需要写入“up”、“right”、“downright”、“downleft”或“left”中的任意一个字符串。然后，你会获得新房间的信息，格式与上述相同。\n\n要使用该应用，你需要写入“app”。该应用会计算从你当前位置到目标的最短路径长度，该路径使用的楼梯数量尽可能少。由于该应用对整数溢出非常敏感，如果路径长度超过 $10^9$，它将崩溃。在这种情况下，应用会写入 -1。否则，会写入到目标的路径长度。\n\n当你到达目的地时，你应该打印“here”，然后你的程序应该终止。\n\n请确保在每次查询后刷新输出，否则你可能会遇到“时间限制超出”。在 C++ 中可以使用 `cout << flush;` 或 `fflush(stdout);` 完成；在 Python 中使用 `stdout.flush()`；在 Java 中使用 `System.out.flush()`。\n", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $5 $| $N = 2$ |\n| $2$ | $10$ | $N \\le 10$ \n| $3$ | $10$ | $N \\le 250$ |\n| $4$ | $16$ | 不在最底层的所有房间下方都有两个房间。 |\n| $5$ | $13$ | $N \\le 500$ |\n| $6$ | $21$ | $N \\le 950$ |\n| $7$ | $25$ | $N \\le 1000$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PO Final 2024] 黑暗密室 / The Dark Chambers of Chalmers", "background": "", "description": "\n你正在前往瑞典信息学奥林匹克竞赛的决赛，该决赛在查尔姆斯理工大学举行。然而，你却在大学的地下室迷路了。你的方向感不佳，更糟糕的是地下室的设计非常奇怪。\n\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m9i0qdec.png)\n\n图 1：查尔姆斯的黑暗密室\n\n\n地下室共有 $2 \\le N \\le 1000$ 层。在地面层，只有一个大房间。对于所有其他房间，其正上方都存在一个房间。每向下一层，房间的大小都会减半。在每个房间 $i$ 的下方，最多有两个房间 $l_i$ 和 $r_i$，每个房间的大小都恰好是房间 $i$ 的一半。$l_i$ 和 $r_i$ 可能只存在一个，或者两者都存在，或者两者都不存在。如果两个房间直接相邻，你可以通过门在它们之间移动；如果一个房间在另一个房间的正上方，你可以通过楼梯移动。你目前在地下室的某个房间里，并且你知道决赛也在地下室的某个地方举行。\n\n路径是指一系列通往相邻房间的步骤。对于从你当前所在房间到决赛所在房间的某条路径 $v$，令 $A_v$ 为你穿过门的次数，令 $B_v$ 为你上下楼梯的次数。路径的长度定义为 $L_v = A_v + B_v$。你现在想去参加决赛。为了帮助你，你下载了“校园地图”应用。“校园地图”应用的程序设计目标是找到前往目的地的路径长度，其中需要上下楼梯的次数最少。在所有通往决赛所在房间的可能路径 $v$ 中，应用会找出所有使 $B_v$ 值最小的路径。在这些路径中，它会选择使 $L_v$ 值最小的那一条。然后，它会给出这条路径的长度 $L_v$ 值。\n\n由于应用运行缓慢，你最多只能查询它 500 次。你也没有时间移动到其他房间超过 5000 次。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0j0nv2ew.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vtsgd6ci.png)\n\n图 2：示例情况 1 和 2 中的地下室。蓝色圆圈是你的起始位置，绿色圆圈显示决赛所在的房间。在两张图中，“校园地图”应用找到的路径都用紫色表示。在示例情况 1 中，这条路径经过三个楼梯和一个门。在示例情况 2 中，这条路径经过零个楼梯和六个门。\n\n### 交互格式\n\n首先，你会获得当前所在房间的信息。这会以一个长度为五的二进制字符串给出，其中每个字符为“1”表示你可以朝某个方向移动，否则为“0”。字符的顺序依次表示你是否可以向上、向右、向右下、向左下、向左移动。因此，字符串 01001 意味着你可以向右和向左移动，但不能向其他方向移动。\n\n然后，你可以选择移动到相邻房间，或者使用“校园地图”应用。要移动到相邻房间，你需要写入“up”、“right”、“downright”、“downleft”或“left”中的任意一个字符串。然后，你会获得新房间的信息，格式与上述相同。\n\n要使用该应用，你需要写入“app”。该应用会计算从你当前位置到目标的最短路径长度，该路径使用的楼梯数量尽可能少。由于该应用对整数溢出非常敏感，如果路径长度超过 $10^9$，它将崩溃。在这种情况下，应用会写入 -1。否则，会写入到目标的路径长度。\n\n当你到达目的地时，你应该打印“here”，然后你的程序应该终止。\n\n请确保在每次查询后刷新输出，否则你可能会遇到“时间限制超出”。在 C++ 中可以使用 `cout << flush;` 或 `fflush(stdout);` 完成；在 Python 中使用 `stdout.flush()`；在 Java 中使用 `System.out.flush()`。\n", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $5 $| $N = 2$ |\n| $2$ | $10$ | $N \\le 10$ \n| $3$ | $10$ | $N \\le 250$ |\n| $4$ | $16$ | 不在最底层的所有房间下方都有两个房间。 |\n| $5$ | $13$ | $N \\le 500$ |\n| $6$ | $21$ | $N \\le 950$ |\n| $7$ | $25$ | $N \\le 1000$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P13920", "type": "P", "difficulty": 6, "samples": [["3 3 0\nS.X\n...\nX.X", "8\n>v^<><v^\n"], ["2 2 0\nS.\n.X", "-1"], ["2 2 0\nSX\nX.", "3\n><v"], ["2 2 1\nSX\nX.", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "Special Judge", "PO（瑞典）"], "title": "[PO Final 2024] 冰场之舞 / The Ice Puzzle", "background": "", "description": "\n 奥勒讨厌叉。它们让他想起在 OI 比赛的时候看到满屏的「Wrong Answer」。当他到达瓦尔哈姆拉冰场，看到冰上有 $K$ 个叉（$2 \\le K \\le 20000$）时，他比一头暴怒的公牛还要生气。\n\n作为一名问题解决者，奥勒想出了一个计划来解决这个灾难性的局面。他打算把所有的叉都变成圆。冰场可以表示为一个 $N \\times M$ 的网格，其中 $K$ 个方格有叉，其余 $N \\cdot M - K$ 个方格为空。网格的行从上到下编号为 $0$ 到 $N-1$，列从左到右编号为 $0$ 到 $M-1$。当奥勒完成时，所有最初有叉的方格都应该变成圆。\n\n最初，他在标有 `S` 的方格处。这个方格也包含一个叉。在一次移动中，他可以开始向上、向下、向右或向左四个方向之一移动，不能转弯。他将沿同一方向继续移动，直到到达一个叉或圆并停在该方格上。如果奥勒移动的方向上没有叉或圆，他将撞到墙壁，受到足以迫使他放弃计划的严重伤害。每次他到达一个叉，他都会完全停下来，并将其从叉变为圆。如果他到达一个圆，他也会完全停下来，并在盛怒之下将其变回叉。由于他时间有限，他想找到一个最多包含 $10^5$ 次移动的序列，将所有叉都变成圆。\n\n为了额外的风格分，他还希望在开始的同一个方格结束，**但并非所有子任务都要求做到这一点**。", "inputFormat": "\n输入的第一行包含三个整数 $N, M$ 和 $R$（$2 \\le N \\cdot M \\le 10^6$, $R \\in \\{0,1\\}$）。$N$ 和 $M$ 的值表示构成网格的行数和列数，$R$ 表示你是否必须返回起始方格。如果 $R=1$，你必须返回起始位置；如果 $R=0$，你可以在任何方格结束移动序列。\n\n接下来 $N$ 行，每行包含一个长度为 $M$ 的字符串，其中第 $i$ 行（$i=0,1,\\dots,N-1$）描述了冰场第 $i$ 行的样子。每个字符是 `.`、`S` 或 `X` 之一。保证只有一个方格包含 `S`，并且 `X` 的数量等于 $K-1$（因为起始方格也是一个叉）。\n", "outputFormat": "\n如果存在一个将所有叉转换为圆的移动序列，首先输出该序列的长度。长度最多为 $10^5$。\n\n在下一行，输出该序列。它应该由字符 `v`、`<`、`^` 和 `>` 组成。`v` 表示奥勒向下移动，`^` 向上移动，`<` 向左移动，`>` 向右移动。如果 $R=1$，奥勒还必须在开始的同一个方格结束。\n\n如果没有有效的移动序列，则输出 `-1`，不再输出其他内容。请注意，有效序列的存在可能取决于 $R=0$ 还是 $R=1$。", "hint": "\n### 样例解释\n\n#### 样例 $1$ 解释\n\n最初，奥勒位于左上角的叉号处，网格如下所示：\n\n```\nX.X\n...\nX.X\n```\n\n在执行了移动 >、v 和 ^ 之后，奥勒位于网格的右上角单元格，网格如下所示：\n\n```\nX.X\n...\nX.O\n```\n\n在执行了移动 < 和 > 之后，他仍然位于网格的右上角单元格，网格如下所示：\n\n```\nO.O\n...\nX.O\n```\n\n最后，他将执行移动 <、v、^ 来创建一个没有叉号的冰场，并且他也会在起始位置结束（这不是此测试用例的要求，因为 $ R = 0 $）：\n\n```\nO.O\n...\nO.O\n```\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ |$ 20$ | $ R = 0, K \\le 100 $ |\n| $2$ |$ 5 $| $ R = 0, K \\le 5000 $ |\n| $3$ |$ 15$ | $ R = 0 $ |\n| $4$ |$ 10$ | $ R = 1, K \\le 100 $ |\n| $5$ |$ 30$ | $ R = 1, K \\le 10000 $ |\n| $6$ |$ 20$ | $ R = 1 $ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PO Final 2024] 冰场之舞 / The Ice Puzzle", "background": "", "description": "\n 奥勒讨厌叉。它们让他想起在 OI 比赛的时候看到满屏的「Wrong Answer」。当他到达瓦尔哈姆拉冰场，看到冰上有 $K$ 个叉（$2 \\le K \\le 20000$）时，他比一头暴怒的公牛还要生气。\n\n作为一名问题解决者，奥勒想出了一个计划来解决这个灾难性的局面。他打算把所有的叉都变成圆。冰场可以表示为一个 $N \\times M$ 的网格，其中 $K$ 个方格有叉，其余 $N \\cdot M - K$ 个方格为空。网格的行从上到下编号为 $0$ 到 $N-1$，列从左到右编号为 $0$ 到 $M-1$。当奥勒完成时，所有最初有叉的方格都应该变成圆。\n\n最初，他在标有 `S` 的方格处。这个方格也包含一个叉。在一次移动中，他可以开始向上、向下、向右或向左四个方向之一移动，不能转弯。他将沿同一方向继续移动，直到到达一个叉或圆并停在该方格上。如果奥勒移动的方向上没有叉或圆，他将撞到墙壁，受到足以迫使他放弃计划的严重伤害。每次他到达一个叉，他都会完全停下来，并将其从叉变为圆。如果他到达一个圆，他也会完全停下来，并在盛怒之下将其变回叉。由于他时间有限，他想找到一个最多包含 $10^5$ 次移动的序列，将所有叉都变成圆。\n\n为了额外的风格分，他还希望在开始的同一个方格结束，**但并非所有子任务都要求做到这一点**。", "inputFormat": "\n输入的第一行包含三个整数 $N, M$ 和 $R$（$2 \\le N \\cdot M \\le 10^6$, $R \\in \\{0,1\\}$）。$N$ 和 $M$ 的值表示构成网格的行数和列数，$R$ 表示你是否必须返回起始方格。如果 $R=1$，你必须返回起始位置；如果 $R=0$，你可以在任何方格结束移动序列。\n\n接下来 $N$ 行，每行包含一个长度为 $M$ 的字符串，其中第 $i$ 行（$i=0,1,\\dots,N-1$）描述了冰场第 $i$ 行的样子。每个字符是 `.`、`S` 或 `X` 之一。保证只有一个方格包含 `S`，并且 `X` 的数量等于 $K-1$（因为起始方格也是一个叉）。\n", "outputFormat": "\n如果存在一个将所有叉转换为圆的移动序列，首先输出该序列的长度。长度最多为 $10^5$。\n\n在下一行，输出该序列。它应该由字符 `v`、`<`、`^` 和 `>` 组成。`v` 表示奥勒向下移动，`^` 向上移动，`<` 向左移动，`>` 向右移动。如果 $R=1$，奥勒还必须在开始的同一个方格结束。\n\n如果没有有效的移动序列，则输出 `-1`，不再输出其他内容。请注意，有效序列的存在可能取决于 $R=0$ 还是 $R=1$。", "hint": "\n### 样例解释\n\n#### 样例 $1$ 解释\n\n最初，奥勒位于左上角的叉号处，网格如下所示：\n\n```\nX.X\n...\nX.X\n```\n\n在执行了移动 >、v 和 ^ 之后，奥勒位于网格的右上角单元格，网格如下所示：\n\n```\nX.X\n...\nX.O\n```\n\n在执行了移动 < 和 > 之后，他仍然位于网格的右上角单元格，网格如下所示：\n\n```\nO.O\n...\nX.O\n```\n\n最后，他将执行移动 <、v、^ 来创建一个没有叉号的冰场，并且他也会在起始位置结束（这不是此测试用例的要求，因为 $ R = 0 $）：\n\n```\nO.O\n...\nO.O\n```\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ |$ 20$ | $ R = 0, K \\le 100 $ |\n| $2$ |$ 5 $| $ R = 0, K \\le 5000 $ |\n| $3$ |$ 15$ | $ R = 0 $ |\n| $4$ |$ 10$ | $ R = 1, K \\le 100 $ |\n| $5$ |$ 30$ | $ R = 1, K \\le 10000 $ |\n| $6$ |$ 20$ | $ R = 1 $ |", "locale": "zh-CN"}}}
{"pid": "P13921", "type": "P", "difficulty": 6, "samples": [["5 4\n1 2\n2 3\n2 4\n4 5\n5 3\n4 3\n3 2\n1 3", "Yes\n3 4 2 1"], ["4 2\n1 2\n2 3\n3 4\n2 4\n3 1", "No\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "Special Judge", "PO（瑞典）"], "title": "[PO Final 2024] 回家 / Trafikverket's Mistake", "background": "", "description": "不可思议的事情发生了！交通部门制定的计划出了岔子。就在人们即将下班离开小镇隆恩雪平时，一场可怕的暴风雪导致镇上所有互联网中断。由于互联网中断，他们无法获取交通部门计划的最新信息，因此无法在不冒撞车风险的情况下开车回家。\n\n现在你的任务是找到一种方法，让所有人都能安全回家，避免任何碰撞。隆恩雪平的道路网络由 $ N $ 座房屋和 $ N - 1 $ 条道路组成。每条道路直接连接两座房屋。如果你在某座房屋，可以通过道路前往与当前房屋相连的所有房屋。该网络还被构建成，可以通过一条或多条道路在任意两座房屋之间通行。\n\n多亏了交通部门计划制定前的数据收集，你清楚每个人身在何处（他们都在工作，你知道他们的工作地点），以及他们想回哪个家。现在，每个人都坐在工作地点外的车里，挡住了其他车辆通过该房屋的道路。为了让所有人安全回家，你将使用一架无人机，它会飞来飞去，告诉人们“开车回家”。他们会沿着工作地点和家之间最短的路径开车回家，中途不停。一旦到家，他们会将车停入车库，不再阻碍任何道路。由于天气寒冷，无人机速度非常慢，你可以假设每个人都有足够的时间开车回家并停车，然后无人机才会到达下一个人那里。\n\n如果一辆车开始回家，而路上有另一辆车挡道，由于路面湿滑，它们会发生碰撞。判断是否存在一个让所有汽车都能完全避免碰撞地开回家的顺序。如果存在，请找出它。", "inputFormat": "\n输入的第一行包含两个整数 $ N $ 和 $ C $ ($ 1 \\le C \\le N \\le 2 \\cdot 10^5 $)，分别表示隆恩雪平道路网络中的房屋数量和想要回家的人数。\n\n接下来 $ N - 1 $ 行，每行包含两个整数 $ a $ 和 $ b $ ($ 1 \\le a, b \\le N, a \\neq b $)，表示房屋 $ a $ 和房屋 $ b $ 之间有一条道路。保证可以通过一条或多条道路在任意两座房屋之间通行。\n\n之后有 $ C $ 行，每行包含两个整数 $ W_i $ 和 $ H_i $ ($ 1 \\le W_i, H_i \\le N $)，分别表示第 $ i $ 个人工作所在的房屋和他们居住的房屋。保证每座房屋最多只有一个人出发（对于任意 $ 1 \\le i, j \\le N, i \\neq j $，都有 $ W_i \\neq W_j $）。", "outputFormat": "\n如果存在一个居民可以无碰撞地开车回家的顺序，则首先输出 $\\texttt{Yes}$。然后，打印出居民应该回家的顺序。输入中第一个居民对应顺序中的 1，第二个对应 2，依此类推。\n\n如果不存在无碰撞的顺序，则输出 $\\texttt{No}$。", "hint": "\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| 1 | 5 | $ C \\le 8, N \\le 100 $ |\n| 2 | 10 | $ N \\le 100 $ |\n| 3 | 10 | $ N \\le 4000 $，最长路径的长度小于 50。 |\n| 4 | 25 | $ N \\le 4000 $ |\n| 5 | 50 | 无额外约束。 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PO Final 2024] 回家 / Trafikverket's Mistake", "background": "", "description": "不可思议的事情发生了！交通部门制定的计划出了岔子。就在人们即将下班离开小镇隆恩雪平时，一场可怕的暴风雪导致镇上所有互联网中断。由于互联网中断，他们无法获取交通部门计划的最新信息，因此无法在不冒撞车风险的情况下开车回家。\n\n现在你的任务是找到一种方法，让所有人都能安全回家，避免任何碰撞。隆恩雪平的道路网络由 $ N $ 座房屋和 $ N - 1 $ 条道路组成。每条道路直接连接两座房屋。如果你在某座房屋，可以通过道路前往与当前房屋相连的所有房屋。该网络还被构建成，可以通过一条或多条道路在任意两座房屋之间通行。\n\n多亏了交通部门计划制定前的数据收集，你清楚每个人身在何处（他们都在工作，你知道他们的工作地点），以及他们想回哪个家。现在，每个人都坐在工作地点外的车里，挡住了其他车辆通过该房屋的道路。为了让所有人安全回家，你将使用一架无人机，它会飞来飞去，告诉人们“开车回家”。他们会沿着工作地点和家之间最短的路径开车回家，中途不停。一旦到家，他们会将车停入车库，不再阻碍任何道路。由于天气寒冷，无人机速度非常慢，你可以假设每个人都有足够的时间开车回家并停车，然后无人机才会到达下一个人那里。\n\n如果一辆车开始回家，而路上有另一辆车挡道，由于路面湿滑，它们会发生碰撞。判断是否存在一个让所有汽车都能完全避免碰撞地开回家的顺序。如果存在，请找出它。", "inputFormat": "\n输入的第一行包含两个整数 $ N $ 和 $ C $ ($ 1 \\le C \\le N \\le 2 \\cdot 10^5 $)，分别表示隆恩雪平道路网络中的房屋数量和想要回家的人数。\n\n接下来 $ N - 1 $ 行，每行包含两个整数 $ a $ 和 $ b $ ($ 1 \\le a, b \\le N, a \\neq b $)，表示房屋 $ a $ 和房屋 $ b $ 之间有一条道路。保证可以通过一条或多条道路在任意两座房屋之间通行。\n\n之后有 $ C $ 行，每行包含两个整数 $ W_i $ 和 $ H_i $ ($ 1 \\le W_i, H_i \\le N $)，分别表示第 $ i $ 个人工作所在的房屋和他们居住的房屋。保证每座房屋最多只有一个人出发（对于任意 $ 1 \\le i, j \\le N, i \\neq j $，都有 $ W_i \\neq W_j $）。", "outputFormat": "\n如果存在一个居民可以无碰撞地开车回家的顺序，则首先输出 $\\texttt{Yes}$。然后，打印出居民应该回家的顺序。输入中第一个居民对应顺序中的 1，第二个对应 2，依此类推。\n\n如果不存在无碰撞的顺序，则输出 $\\texttt{No}$。", "hint": "\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| 1 | 5 | $ C \\le 8, N \\le 100 $ |\n| 2 | 10 | $ N \\le 100 $ |\n| 3 | 10 | $ N \\le 4000 $，最长路径的长度小于 50。 |\n| 4 | 25 | $ N \\le 4000 $ |\n| 5 | 50 | 无额外约束。 |", "locale": "zh-CN"}}}
{"pid": "P13922", "type": "P", "difficulty": 0, "samples": [["1 4\n4\n2 3 1 1", "4"], ["4 5\n5 4 3 2\n2 3 4 5 1", "17 16 15 14 "], ["3 4\n1 4 1\n2 3 2 4", "-1"], ["2 2\n1 2\n1 2", "2 2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PO（瑞典）"], "title": "[POCamp 2024] 魔影舞尽处 / Hårgalåten", "background": null, "description": "Hårgalåten 是一首瑞典民歌，讲述了魔鬼让一群年轻人跳舞直至死亡的故事。汤姆 喜欢 Hårgalåten，因此为他的管弦乐队编写了一段编曲。为了符合歌词的主题，汤姆以一种特殊的方式编排了这段音乐，使得任何人在错误的地方开始演奏都会永远被困住。\n\n管弦乐队由 $ N $ 名乐手组成，他们围成一圈，其中乐手 1 位于乐手 2 的左侧，乐手 2 位于乐手 3 的左侧，以此类推。请注意，乐手 $ N $ 右侧的乐手是乐手 1。该编曲包含从 1 到 $ M $ 编号的 $ M $ 个小节。最初，有一个整数列表 $ X_1, X_2, \\dots, X_N $，其中 $ X_i $ 表示乐手 $ i $ 应该开始演奏的小节。演奏一个小节需要一秒钟，并且所有乐手同时演奏。乐手 $ i $ 演奏完小节 $ X_i $ 后，他们会查看其右侧乐手演奏的小节（即 $ X_{i+1} $）。然后，乐手 $ i $ 演奏小节 $ f(X_{i+1}) $，其中 $ f(1), f(2), \\dots, f(M) $ 是一个给定的函数。这个过程会反复进行。\n\n换句话说，如果乐手 $ i $ 在 $ t $ 秒时演奏了小节 $ x $，并且其右侧的乐手在 $ t $ 秒时演奏了小节 $ y $，那么乐手 $ i $ 将在 $ t + 1 $ 秒时演奏小节 $ f(y) $。\n\n当所有乐手都至少演奏过所有小节一次时，歌曲结束。你的任务是确定，对于每个乐手，他们何时至少演奏过歌曲中的所有不同小节一次。有些乐手可能永远无法演奏所有小节，在这种情况下，管弦乐队将不得不无限期地演奏下去。", "inputFormat": "输入的第一行包含整数 $ N $ 和 $ M $（$ 1 \\le N, M \\le 3 \\cdot 10^5 $），分别表示乐手数量和小节数量。\n\n第二行包含 $N$ 个整数 $X_1,X_2,\\dots ,X_N$，其中 $X_i$ 表示乐手 $i$ 应该开始演奏的小节。\n\n第三行包含 $ M $ 个整数 $ f(1), f(2), \\dots, f(M) $ ($ 1 \\le f(i) \\le M $)，这个函数用于确定乐手应该演奏哪个小节。", "outputFormat": "如果某个乐手永远无法演奏所有小节，则输出 $ -1 $。否则，输出 $ N $ 个整数 $ t_1, t_2, \\dots, t_N $，其中 $ t_i $ 是乐手 $ i $ 至少演奏过每个小节一次所需的时间（秒数）。", "hint": "### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $10$  | $ N = 1 $ |\n| $2$ | $17$  | 对于所有 $ 1 \\le i \\le M $，$ f(i) = i $。 |\n| $3$ | $16$  | $ N, M \\le 300 $ |\n| $4$ | $22$  | $ N, M \\le 3000 $ 且如果 $ i \\ne j $ 则 $ f(i) \\ne f(j) $。 |\n| $5$ | $9 $ | $ N, M \\le 3000 $ |\n| $6$ | $26$  | 无额外约束。 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POCamp 2024] 魔影舞尽处 / Hårgalåten", "background": null, "description": "Hårgalåten 是一首瑞典民歌，讲述了魔鬼让一群年轻人跳舞直至死亡的故事。汤姆 喜欢 Hårgalåten，因此为他的管弦乐队编写了一段编曲。为了符合歌词的主题，汤姆以一种特殊的方式编排了这段音乐，使得任何人在错误的地方开始演奏都会永远被困住。\n\n管弦乐队由 $ N $ 名乐手组成，他们围成一圈，其中乐手 1 位于乐手 2 的左侧，乐手 2 位于乐手 3 的左侧，以此类推。请注意，乐手 $ N $ 右侧的乐手是乐手 1。该编曲包含从 1 到 $ M $ 编号的 $ M $ 个小节。最初，有一个整数列表 $ X_1, X_2, \\dots, X_N $，其中 $ X_i $ 表示乐手 $ i $ 应该开始演奏的小节。演奏一个小节需要一秒钟，并且所有乐手同时演奏。乐手 $ i $ 演奏完小节 $ X_i $ 后，他们会查看其右侧乐手演奏的小节（即 $ X_{i+1} $）。然后，乐手 $ i $ 演奏小节 $ f(X_{i+1}) $，其中 $ f(1), f(2), \\dots, f(M) $ 是一个给定的函数。这个过程会反复进行。\n\n换句话说，如果乐手 $ i $ 在 $ t $ 秒时演奏了小节 $ x $，并且其右侧的乐手在 $ t $ 秒时演奏了小节 $ y $，那么乐手 $ i $ 将在 $ t + 1 $ 秒时演奏小节 $ f(y) $。\n\n当所有乐手都至少演奏过所有小节一次时，歌曲结束。你的任务是确定，对于每个乐手，他们何时至少演奏过歌曲中的所有不同小节一次。有些乐手可能永远无法演奏所有小节，在这种情况下，管弦乐队将不得不无限期地演奏下去。", "inputFormat": "输入的第一行包含整数 $ N $ 和 $ M $（$ 1 \\le N, M \\le 3 \\cdot 10^5 $），分别表示乐手数量和小节数量。\n\n第二行包含 $N$ 个整数 $X_1,X_2,\\dots ,X_N$，其中 $X_i$ 表示乐手 $i$ 应该开始演奏的小节。\n\n第三行包含 $ M $ 个整数 $ f(1), f(2), \\dots, f(M) $ ($ 1 \\le f(i) \\le M $)，这个函数用于确定乐手应该演奏哪个小节。", "outputFormat": "如果某个乐手永远无法演奏所有小节，则输出 $ -1 $。否则，输出 $ N $ 个整数 $ t_1, t_2, \\dots, t_N $，其中 $ t_i $ 是乐手 $ i $ 至少演奏过每个小节一次所需的时间（秒数）。", "hint": "### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $10$  | $ N = 1 $ |\n| $2$ | $17$  | 对于所有 $ 1 \\le i \\le M $，$ f(i) = i $。 |\n| $3$ | $16$  | $ N, M \\le 300 $ |\n| $4$ | $22$  | $ N, M \\le 3000 $ 且如果 $ i \\ne j $ 则 $ f(i) \\ne f(j) $。 |\n| $5$ | $9 $ | $ N, M \\le 3000 $ |\n| $6$ | $26$  | 无额外约束。 |", "locale": "zh-CN"}}}
{"pid": "P13923", "type": "P", "difficulty": 0, "samples": [["3 15\n8 6 10\n10 8 6", "8 16 10"], ["2 2\n1 2\n1 2", "1 2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PO（瑞典）"], "title": "[POCamp 2024] 买糖 / Buying Fika", "background": "", "description": "\n自从小 Kalle 赢得了一张刮刮乐的免费洗车券后，他开始以不同的方式看待生活。他开始注意到自己在日常生活中拥有巨大的好运。他最近经历的一些非凡事件包括：因为睡过头而赢得了城市年度懒惰比赛；尽管乘坐最后一班公交车，每天仍能按时到校；以及通过随机选择答案在大学入学考试中获得了 2 分中的 1.4 分。\n\n他现在打算利用他巨大的好运来帮助议会：他计划解决一个臭名昭著的背包问题实例。议会有 $C$ 瑞典克朗的 fika 预算，他们的 fika 供应商有 $N$ 种不同的糖果袋可供选择。每个糖果袋 $i$ 都有一个美味度 $s_i$ 和一个价格 $c_i$ 瑞典克朗。每个糖果袋只能购买一次。目标是购买所有糖果袋的一个子集，使得总花费不超过 $C$，同时最大化总美味度。一般来说，这是一个非常难以解决的问题，但他希望通过利用他的好运来快速解决它。\n\n他的想法如下：首先，取出所有糖果袋并将它们随机排列。然后，忽略前 $K$ 个糖果袋。之后，他将按顺序考虑每个糖果袋，如果买得起就购买，否则就跳过并继续。他会继续这个过程，直到他考虑完所有 $N - K$ 个糖果袋。\n\n如果他选择的顺序足够幸运，某个 $K$ 值将给出最优解。经过大量努力，Kalle 已经改变了所有糖果袋的顺序，他现在请求你帮助他为每个 $K = 0, 1, \\dots, N - 1$ 执行他的算法。", "inputFormat": "\n\n输入的第一行包含两个整数 $N$ 和 $C$ ($1 \\le N \\le 2 \\cdot 10^5$, $1 \\le C \\le 10^9$)，分别表示糖果袋的数量和议会的 fika 预算（瑞典克朗）。\n\n输入的第二行包含 $N$ 个整数 $s_1, s_2, \\dots, s_N$ ($1 \\le s_i \\le 10^9$)，表示糖果袋 $i$ 的美味度。\n\n第三行包含 $N$ 个整数 $c_1, c_2, \\dots, c_N$ ($1 \\le c_i \\le 10^9$)，表示糖果袋 $i$ 的价格（瑞典克朗）。\n\n**请注意，糖果袋的顺序并非均匀随机选择**。", "outputFormat": "\n\n输出 $N$ 个以空格分隔的整数，表示 Kalle 的算法找到的糖果袋子集的总美味度，对应于 $K = 0, 1, \\dots, N - 1$ 的顺序。", "hint": "\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $9 $| $N \\le 1000$ |\n| $2$ | $12$ | $C \\le 50$ |\n| $3$ | $11$ | 对于所有 $i = 1, 2, \\dots, N - 1$，都有 $c_i \\le c_{i+1}$。 |\n| $4$ | $17$ | $c_i$ 在 1 和 $C$ 之间均匀随机选择。 |\n| $5$ | $51$ | 没有额外限制。 |\n\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POCamp 2024] 买糖 / Buying Fika", "background": "", "description": "\n自从小 Kalle 赢得了一张刮刮乐的免费洗车券后，他开始以不同的方式看待生活。他开始注意到自己在日常生活中拥有巨大的好运。他最近经历的一些非凡事件包括：因为睡过头而赢得了城市年度懒惰比赛；尽管乘坐最后一班公交车，每天仍能按时到校；以及通过随机选择答案在大学入学考试中获得了 2 分中的 1.4 分。\n\n他现在打算利用他巨大的好运来帮助议会：他计划解决一个臭名昭著的背包问题实例。议会有 $C$ 瑞典克朗的 fika 预算，他们的 fika 供应商有 $N$ 种不同的糖果袋可供选择。每个糖果袋 $i$ 都有一个美味度 $s_i$ 和一个价格 $c_i$ 瑞典克朗。每个糖果袋只能购买一次。目标是购买所有糖果袋的一个子集，使得总花费不超过 $C$，同时最大化总美味度。一般来说，这是一个非常难以解决的问题，但他希望通过利用他的好运来快速解决它。\n\n他的想法如下：首先，取出所有糖果袋并将它们随机排列。然后，忽略前 $K$ 个糖果袋。之后，他将按顺序考虑每个糖果袋，如果买得起就购买，否则就跳过并继续。他会继续这个过程，直到他考虑完所有 $N - K$ 个糖果袋。\n\n如果他选择的顺序足够幸运，某个 $K$ 值将给出最优解。经过大量努力，Kalle 已经改变了所有糖果袋的顺序，他现在请求你帮助他为每个 $K = 0, 1, \\dots, N - 1$ 执行他的算法。", "inputFormat": "\n\n输入的第一行包含两个整数 $N$ 和 $C$ ($1 \\le N \\le 2 \\cdot 10^5$, $1 \\le C \\le 10^9$)，分别表示糖果袋的数量和议会的 fika 预算（瑞典克朗）。\n\n输入的第二行包含 $N$ 个整数 $s_1, s_2, \\dots, s_N$ ($1 \\le s_i \\le 10^9$)，表示糖果袋 $i$ 的美味度。\n\n第三行包含 $N$ 个整数 $c_1, c_2, \\dots, c_N$ ($1 \\le c_i \\le 10^9$)，表示糖果袋 $i$ 的价格（瑞典克朗）。\n\n**请注意，糖果袋的顺序并非均匀随机选择**。", "outputFormat": "\n\n输出 $N$ 个以空格分隔的整数，表示 Kalle 的算法找到的糖果袋子集的总美味度，对应于 $K = 0, 1, \\dots, N - 1$ 的顺序。", "hint": "\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $9 $| $N \\le 1000$ |\n| $2$ | $12$ | $C \\le 50$ |\n| $3$ | $11$ | 对于所有 $i = 1, 2, \\dots, N - 1$，都有 $c_i \\le c_{i+1}$。 |\n| $4$ | $17$ | $c_i$ 在 1 和 $C$ 之间均匀随机选择。 |\n| $5$ | $51$ | 没有额外限制。 |\n\n\n\n", "locale": "zh-CN"}}}
{"pid": "P13924", "type": "P", "difficulty": 6, "samples": [["3 2\n5 11 21\n4 4 3\n3 3 5 5\n-3 3 -2 2\n3 6 7 8\n8 -2 4 -4\n6 7 8\n-7 5 -4", "37"], ["1 1\n1000\n4\n10 5 8 6\n2 3 -4 -5", "14"], ["2 2\n1 2\n1 2\n1\n-1\n1 2\n1 2", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2024", "动态规划优化", "凸完全单调性（wqs 二分）", "PO（瑞典）"], "title": "[POCamp 2024] 枝上雪栖 / Upplegå", "background": "> 圣诞之景，已然铺展，\\\n> 君之所行，处处皆欢。", "description": "只有当雪落在你家外面街道上所有 $N$ 棵树的树枝上时，才算是真正的冬天。街道上的所有树木可以用一个任意大的网格来表示。沿着街道，这 $N$ 棵树排成一排。每棵树 $i$ 的树干位于位置 $pos_i$，并由一个宽度为 1 的矩形描述，占据整个列 $pos_i$。此外，每棵树 $i$ 有 $s_i$ 根树枝。每根树枝都由一个高度为 1 的矩形描述，它从树干伸出，宽度为整数单位。保证每根树枝所占据的方格不包含任何其他树枝或树干。还保证没有树枝会延伸到另一棵树之外，甚至不会延伸到另一棵树之上。\n\n在一个下雪的傍晚之后，Upplegå 已经覆盖了所有的树木。Upplegå 是瑞典语中指积聚在树枝上的雪。每根树枝的每个单位长度上都有 1 单位的雪。雪非常小，以至于它不占据一个方格。换句话说，高度可以忽略不计。\n\n你是一个真正的冬季爱好者，热爱圣诞歌曲、舒适的寒冷天气，最重要的是，热爱所有的 Upplegå。根据天气预报，很快将有一场大风暴，会剧烈摇晃所有的树木。当一棵树被摇晃时，其树枝上的雪将开始垂直落下，直到雪安全地落在属于一棵未被摇晃的树的树枝上，或者落在地上。\n\n尽管风暴即将来临，你仍有时间通过固定 $K$ 棵树来保护它们免受摇晃。由于你如此热爱雪，你希望计算通过精确固定 $K$ 棵树，可以防止多少单位的雪落到地面。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1uccmawb.png)\n图 1：图片显示了示例 1。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $K$ ($1 \\le K \\le N \\le 10^5$)，表示街道上的树木数量以及你有时间保护免受摇晃的树木数量。\n\n第二行包含 $N$ 个整数 $pos_1, pos_2, \\dots, pos_N$ ($0 \\le pos_i \\le 10^9$)，其中 $pos_i$ 是从街道起点到树 $i$ 的长度单位数。树木将按排序顺序给出，并且保证没有两棵树占据相同的位置。形式上，这意味着对于所有 $i < j$，都满足 $pos_i < pos_j$。\n\n第三行包含 $N$ 个整数 $s_1, s_2, \\dots, s_N$ ($1 \\le s_i \\le 10$)，其中 $s_i$ 是树 $i$ 上的树枝数量。\n\n最后是 $2N$ 行，每棵树有 2 行，描述其树枝：\n\n*   第一行包含 $s_i$ 个整数 $h_{i,1}, h_{i,2}, \\dots, h_{i,s_i}$ ($1 \\le h_{i,j} \\le 10^9$)，其中 $h_{i,j}$ 是属于树 $i$ 的第 $j$ 根树枝的高度。\n*   第二行包含 $s_i$ 个整数 $l_{i,1}, l_{i,2}, \\dots, l_{i,s_i}$ ($-10^9 \\le l_{i,j} \\le 10^9$, $l_{i,j} \\neq 0$)。每个 $l_{i,j}$ 描述了树 $i$ 的第 $j$ 根树枝的长度和方向。如果 $l_{i,j}$ 为正，则表示第 $j$ 根树枝向右延伸，长度为 $l_{i,j}$ 单位。如果 $l_{i,j}$ 为负，则表示树枝向左延伸，长度为 $|l_{i,j}|$ 单位。\n\n没有树枝会超出位于 0 的街道起点，或超出街道起点 $10^9$ 长度单位。", "outputFormat": "输出通过精确固定 $K$ 棵树，可以防止落到地面的最大雪单位数量。", "hint": "### 样例解释\n\n#### 样例 1 解释\n\n通过选择拯救第一棵和第二棵树，我们阻止了 10 单位的雪从树 1 落下，18 单位的雪从树 2 落下，以及 9 单位的雪从树 3 落下，总计 $10 + 18 + 9 = 37$。\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$    | $5 $   | 所有分支都指向右侧。形式上，对于所有 $i, j$，都有 $l_{i,j} > 0$。                                    |\n| $2$    | $5 $   | $K = 1$                                                                                            |\n| $3$    | $7 $   | $N \\le 15$                                                                                         |\n| $4$    | $11$   | $N \\le 2000$，对于所有 $i, j$，都有 $\\vert l_{i,j}\\vert  \\le 2 \\cdot 10^5, pos_i \\le 2 \\cdot 10^5$。           |\n| $5$    | $23$   | $N \\le 2000$    |                       \n| $6$    | $31$   | 对于所有 $i, j$，都有 $\\vert l_{i,j}\\vert  \\le 2 \\cdot 10^5, pos_i \\le 2 \\cdot 10^5$。                       |\n| $7$    | $18$   | 无额外约束。                                                                                       |\n\n子任务 4 和 6 额外保证所有树木和分支的位置都在 0 到 $4 \\cdot 10^5$ 之间。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POCamp 2024] 枝上雪栖 / Upplegå", "background": "> 圣诞之景，已然铺展，\\\n> 君之所行，处处皆欢。", "description": "只有当雪落在你家外面街道上所有 $N$ 棵树的树枝上时，才算是真正的冬天。街道上的所有树木可以用一个任意大的网格来表示。沿着街道，这 $N$ 棵树排成一排。每棵树 $i$ 的树干位于位置 $pos_i$，并由一个宽度为 1 的矩形描述，占据整个列 $pos_i$。此外，每棵树 $i$ 有 $s_i$ 根树枝。每根树枝都由一个高度为 1 的矩形描述，它从树干伸出，宽度为整数单位。保证每根树枝所占据的方格不包含任何其他树枝或树干。还保证没有树枝会延伸到另一棵树之外，甚至不会延伸到另一棵树之上。\n\n在一个下雪的傍晚之后，Upplegå 已经覆盖了所有的树木。Upplegå 是瑞典语中指积聚在树枝上的雪。每根树枝的每个单位长度上都有 1 单位的雪。雪非常小，以至于它不占据一个方格。换句话说，高度可以忽略不计。\n\n你是一个真正的冬季爱好者，热爱圣诞歌曲、舒适的寒冷天气，最重要的是，热爱所有的 Upplegå。根据天气预报，很快将有一场大风暴，会剧烈摇晃所有的树木。当一棵树被摇晃时，其树枝上的雪将开始垂直落下，直到雪安全地落在属于一棵未被摇晃的树的树枝上，或者落在地上。\n\n尽管风暴即将来临，你仍有时间通过固定 $K$ 棵树来保护它们免受摇晃。由于你如此热爱雪，你希望计算通过精确固定 $K$ 棵树，可以防止多少单位的雪落到地面。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1uccmawb.png)\n图 1：图片显示了示例 1。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $K$ ($1 \\le K \\le N \\le 10^5$)，表示街道上的树木数量以及你有时间保护免受摇晃的树木数量。\n\n第二行包含 $N$ 个整数 $pos_1, pos_2, \\dots, pos_N$ ($0 \\le pos_i \\le 10^9$)，其中 $pos_i$ 是从街道起点到树 $i$ 的长度单位数。树木将按排序顺序给出，并且保证没有两棵树占据相同的位置。形式上，这意味着对于所有 $i < j$，都满足 $pos_i < pos_j$。\n\n第三行包含 $N$ 个整数 $s_1, s_2, \\dots, s_N$ ($1 \\le s_i \\le 10$)，其中 $s_i$ 是树 $i$ 上的树枝数量。\n\n最后是 $2N$ 行，每棵树有 2 行，描述其树枝：\n\n*   第一行包含 $s_i$ 个整数 $h_{i,1}, h_{i,2}, \\dots, h_{i,s_i}$ ($1 \\le h_{i,j} \\le 10^9$)，其中 $h_{i,j}$ 是属于树 $i$ 的第 $j$ 根树枝的高度。\n*   第二行包含 $s_i$ 个整数 $l_{i,1}, l_{i,2}, \\dots, l_{i,s_i}$ ($-10^9 \\le l_{i,j} \\le 10^9$, $l_{i,j} \\neq 0$)。每个 $l_{i,j}$ 描述了树 $i$ 的第 $j$ 根树枝的长度和方向。如果 $l_{i,j}$ 为正，则表示第 $j$ 根树枝向右延伸，长度为 $l_{i,j}$ 单位。如果 $l_{i,j}$ 为负，则表示树枝向左延伸，长度为 $|l_{i,j}|$ 单位。\n\n没有树枝会超出位于 0 的街道起点，或超出街道起点 $10^9$ 长度单位。", "outputFormat": "输出通过精确固定 $K$ 棵树，可以防止落到地面的最大雪单位数量。", "hint": "### 样例解释\n\n#### 样例 1 解释\n\n通过选择拯救第一棵和第二棵树，我们阻止了 10 单位的雪从树 1 落下，18 单位的雪从树 2 落下，以及 9 单位的雪从树 3 落下，总计 $10 + 18 + 9 = 37$。\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$    | $5 $   | 所有分支都指向右侧。形式上，对于所有 $i, j$，都有 $l_{i,j} > 0$。                                    |\n| $2$    | $5 $   | $K = 1$                                                                                            |\n| $3$    | $7 $   | $N \\le 15$                                                                                         |\n| $4$    | $11$   | $N \\le 2000$，对于所有 $i, j$，都有 $\\vert l_{i,j}\\vert  \\le 2 \\cdot 10^5, pos_i \\le 2 \\cdot 10^5$。           |\n| $5$    | $23$   | $N \\le 2000$    |                       \n| $6$    | $31$   | 对于所有 $i, j$，都有 $\\vert l_{i,j}\\vert  \\le 2 \\cdot 10^5, pos_i \\le 2 \\cdot 10^5$。                       |\n| $7$    | $18$   | 无额外约束。                                                                                       |\n\n子任务 4 和 6 额外保证所有树木和分支的位置都在 0 到 $4 \\cdot 10^5$ 之间。", "locale": "zh-CN"}}}
{"pid": "P13925", "type": "P", "difficulty": 5, "samples": [["5\n2 2 3 3 3", "1"], ["4\n1 3 3 7", "3"], ["12\n3 3 3 3 3 4 9 7 7 8 3 3", "5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "2024", "PO（瑞典）"], "title": "[POKATT 2024] 联合猫国 / The Paw-litical Game", "background": null, "description": "Gattekatt 这个国家形状非常奇特，极其狭长，这导致它的 $N$ 个城市各自占据了国家的一段区间。\n这些城市从左到右依次编号为 1 到 $N$。每个城市都有一群猫。有趣的是，猫的数量总是 $2$ 的正整数幂。 （Gattekatt 有很多很多猫）。\n\n为了让国家为潜在的老鼠入侵做好准备，大家希望尽可能多的城市能够联合起来。\n不幸的是，这些城市对于愿意和谁合作非常挑剔。对于两个城市 $a$ 和 $b$ 来说，要合并必须满足以下条件：\n\n- 城市 $a$ 和城市 $b$ 是相邻的。\n- 城市 $a$ 和城市 $b$ 的猫的数量完全相同。这是因为城市的猫数量与该城市的政治影响力直接相关，一个城市不会考虑与它认为政治影响力较低的城市合作。\n\n当两个相邻的城市 $a$ 和 $b$（每个城市都有 $2^k$ 只猫）决定合并时，它们会形成一个拥有 $2^{k+1}$ 只猫的新城市。\n这个新城市可以继续与原城市 $a$ 左边的城市或原城市 $b$ 右边的城市进行合并。\n\nGattekatt 的居民们现在希望你帮助计算，如果以最优的顺序进行合并，最终可以剩下的最少城市数量是多少。", "inputFormat": "输入的第一行包含一个整数 $N$（$1 \\leq N \\leq 10^6$）。\n\n输入的第二行包含 $N$ 个整数 $k_1, k_2, \\dots, k_N$ ($0 \\leq k_i \\leq 10^9$)。\n每个 $k_i$ 表示第 $i$ 个城市有 $2^{k_i}$ 只猫作为居民。", "outputFormat": "输出一个整数：如果城市以最优顺序合并，最终可以剩下的最少城市数量。", "hint": "### 样例 1 解释\n\n首先，我们计算每个城市的猫的数量（$2^{k_i}$）。\n```\n4 4 8 8 8\n```\n这里，我们展示一个最优的城市合并序列。\n最右边的两个城市合并成一个拥有 16 只猫的城市：\n```\n4 4 8 16\n```\n之后，两个 4 合并成一个拥有 8 只猫的城市：\n```\n8 8 16\n```\n之后，两个 8 合并成一个拥有 16 只猫的城市：\n```\n16 16\n```\n最后，我们可以将两个 16 合并成一个拥有 32 只猫的城市：\n```\n32\n```\n\n因为最后只剩下一个城市，所以答案是 1。\n\n\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $7 $| $N \\leq 10, k_i \\leq 30$ |\n| $2$ | $14$ | $N \\leq 200, k_i \\leq 30$ |\n| $3$ | $15$ | $N \\leq 2000, k_i \\leq 30$ |\n| $4$ | $9 $| $N \\leq 2000$ |\n| $5$ | $37$ | $k_i \\leq 30$ |\n| $6$ | $18$ | 无额外约束。 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POKATT 2024] 联合猫国 / The Paw-litical Game", "background": null, "description": "Gattekatt 这个国家形状非常奇特，极其狭长，这导致它的 $N$ 个城市各自占据了国家的一段区间。\n这些城市从左到右依次编号为 1 到 $N$。每个城市都有一群猫。有趣的是，猫的数量总是 $2$ 的正整数幂。 （Gattekatt 有很多很多猫）。\n\n为了让国家为潜在的老鼠入侵做好准备，大家希望尽可能多的城市能够联合起来。\n不幸的是，这些城市对于愿意和谁合作非常挑剔。对于两个城市 $a$ 和 $b$ 来说，要合并必须满足以下条件：\n\n- 城市 $a$ 和城市 $b$ 是相邻的。\n- 城市 $a$ 和城市 $b$ 的猫的数量完全相同。这是因为城市的猫数量与该城市的政治影响力直接相关，一个城市不会考虑与它认为政治影响力较低的城市合作。\n\n当两个相邻的城市 $a$ 和 $b$（每个城市都有 $2^k$ 只猫）决定合并时，它们会形成一个拥有 $2^{k+1}$ 只猫的新城市。\n这个新城市可以继续与原城市 $a$ 左边的城市或原城市 $b$ 右边的城市进行合并。\n\nGattekatt 的居民们现在希望你帮助计算，如果以最优的顺序进行合并，最终可以剩下的最少城市数量是多少。", "inputFormat": "输入的第一行包含一个整数 $N$（$1 \\leq N \\leq 10^6$）。\n\n输入的第二行包含 $N$ 个整数 $k_1, k_2, \\dots, k_N$ ($0 \\leq k_i \\leq 10^9$)。\n每个 $k_i$ 表示第 $i$ 个城市有 $2^{k_i}$ 只猫作为居民。", "outputFormat": "输出一个整数：如果城市以最优顺序合并，最终可以剩下的最少城市数量。", "hint": "### 样例 1 解释\n\n首先，我们计算每个城市的猫的数量（$2^{k_i}$）。\n```\n4 4 8 8 8\n```\n这里，我们展示一个最优的城市合并序列。\n最右边的两个城市合并成一个拥有 16 只猫的城市：\n```\n4 4 8 16\n```\n之后，两个 4 合并成一个拥有 8 只猫的城市：\n```\n8 8 16\n```\n之后，两个 8 合并成一个拥有 16 只猫的城市：\n```\n16 16\n```\n最后，我们可以将两个 16 合并成一个拥有 32 只猫的城市：\n```\n32\n```\n\n因为最后只剩下一个城市，所以答案是 1。\n\n\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $7 $| $N \\leq 10, k_i \\leq 30$ |\n| $2$ | $14$ | $N \\leq 200, k_i \\leq 30$ |\n| $3$ | $15$ | $N \\leq 2000, k_i \\leq 30$ |\n| $4$ | $9 $| $N \\leq 2000$ |\n| $5$ | $37$ | $k_i \\leq 30$ |\n| $6$ | $18$ | 无额外约束。 |", "locale": "zh-CN"}}}
{"pid": "P13926", "type": "P", "difficulty": 0, "samples": [["3 1\n1\n3\n\n2\n\n3\n", "\n\n\n1 1\n\n1 1\n\nactivate!"], ["5 2\n4 5\n1 2\n\n3 5\n\n2 3\n\n1 2\n", "\n\n\n2 4 5\n\n1 5\n\n1 5\n\nactivate!"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "交互题", "Special Judge", "PO（瑞典）"], "title": "[POKATT 2024] 猫和老鼠 / KATT:s and rats ", "background": "", "description": "\n**这是一道交互题**。本题中，交互库是非自适应的。\n\n一种特殊的变异巨鼠占领了哥德堡的下水道，城市管理部门请求你帮助解决这个问题。\n\n下水道系统由 $N$ 个沙井（编号从 $1$ 到 $N$）和 $N-1$ 条连接沙井的管道组成。每条管道连接两个沙井，并且下水道的设计保证了任意两个沙井之间都可以通过一系列管道相连通。为了节约成本，哥德堡所有的下水道开发人员都已被解雇，导致整个下水道系统完全没有文档记录。这意味着没有人知道哪些沙井之间有管道直接相连。\n\n下水道中总共有 $K$ 只变异巨鼠，它们位于不同的沙井中。由于这些老鼠体型巨大且极具攻击性，同一个沙井里永远不会有两只老鼠。你已经在不同的沙井里放置了 $K$ 个 KATT（动能激活绊倒陷阱）。这些陷阱可以通过一个按钮同时激活，而你现在的目标就是想办法让老鼠们移动到有 KATT 的沙井里。但是，这些老鼠非常聪明，如果不是所有 KATT 同时被激活，它们会学会利用 KATT 来对付你。\n\n为了让老鼠移动，你有大量的 OWL（全向声波发射器），它们可以播放对这种变异巨鼠特别刺激的歌曲和噪音。你可以分多轮选择一部分沙井，在每个选定的沙井中放置一个 OWL。在每一轮中，你放置一些 OWL，然后一些老鼠可能会为了躲避烦人的声音而穿过管道。具体来说，每只老鼠都有机会逃跑，并且根据物理定律，老鼠们会按照它们当前所在沙井的编号从小到大的顺序行动。也就是说，如果沙井 $1$ 和沙井 $2$ 中都有老鼠，那么沙井 $1$ 中的老鼠会先尝试逃跑。当这只老鼠完成逃跑后，沙井 $2$ 中的老鼠才会开始它的逃跑。\n\n老鼠们希望最大化与最近的 OWL 之间的距离。一只老鼠会考虑移动到与它当前位置相距一条管道之遥的所有没有其他老鼠的沙井。如果这些沙井中没有一个到最近 OWL 的距离严格大于当前位置的距离，那么这只老鼠会停在原地。否则，它会移动到那个能提供到最近 OWL 的最大距离的相邻沙井。如果有多个这样的沙井，它会选择其中编号最小的那个。两个沙井之间的距离是指连接它们所需经过的最少管道数。\n\n你从哥德堡市获得了大量的 OWL，但在变异巨鼠的繁殖季节开始之前（这会带来灾难性的后果！），你最多只能进行 $25000$ 轮 OWL 的放置。\n\n### 实现细节\n\n首先，你的程序应该读取一行中的两个数字 $N$ ($2 \\leq N \\leq 100$) 和 $K$ ($1 \\leq K < N$)。\n接下来一行是 $K$ 个不同的数字 $1 \\leq r_1 < ... < r_K \\leq N$，描述了老鼠的初始位置所在的沙井编号。\n然后一行是 $K$ 个不同的数字 $1 \\leq t_1 < ... < t_K \\leq N$，描述了放置了 KATT 的沙井编号。\n\n当你想进行一轮 OWL 放置时，你应该首先输出一个数字 $M$，表示你本轮放置的 OWL 数量。然后在同一行上，输出 $M$ 个数字 $1 \\leq s_1 < ... < s_M \\leq N$，表示你希望放置 OWL 的沙井编号。无论沙井中是否有老鼠，都可以放置 OWL。\n然后，你的程序应该读取一行包含 $K$ 个数字 $1 \\leq r_1 < ... < r_K \\leq N$，表示在所有老鼠尝试逃离声音之后，它们所在的新位置。\n\n当你成功地将所有老鼠移动到有 KATT 的沙井时，你应该输出一行 “`activate!`”。\n然后你的程序应该终止。\n\n**请务必在每次查询后刷新输出**，否则你可能会得到 *Time Limit Exceeded* 的判决。\n在 C++ 中，可以使用 `cout << flush;` 或 `fflush(stdout);`，\n在 Python 中，可以使用 `stdout.flush()`，\n在 Java 中，可以使用 `System.out.flush();`。\n\n下水道的结构不一定是随机生成的。然而，可以保证**老鼠的初始位置和 KATT 的放置位置是均匀随机选择的**。\n\n**交互库不是适应性的**，这意味着下水道的结构是预先确定的。\n\n为了方便测试你的解决方案，我们在附件中提供了一个简单的工具供你下载。使用说明在文件头的注释中。", "inputFormat": "见「实现细节」。\n\n注意：保证**老鼠的初始位置和 KATT 的放置位置是均匀随机选择的**。但是下水道的结构不一定是随机生成的。\n", "outputFormat": "见「实现细节」。", "hint": "\n\n### 样例解释\n\n\n#### 样例 $2$ 解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/pcua8l5e.png)\n\n**图 1：** 样例 2 中的下水道布局。请注意，你的程序不会知道管道的布局。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/37ghfkp7.png)\n\n**图 2：** 当你在沙井 4 和 5 放置 OWL 时，老鼠们会非常不安。首先，由于 $4 < 5$，沙井 4 中的老鼠会尝试逃跑。这只老鼠会移动到沙井 3。之后，沙井 5 中的老鼠尝试逃跑，但没有可用的沙井可以去。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bgt3w8og.png)\n\n**图 3：** 当你在沙井 5 放置一个 OWL 时，首先沙井 3 中的老鼠逃到沙井 2，然后沙井 5 中的老鼠逃到沙井 3。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zjveutg2.png)\n\n**图 4：** 当你再次在沙井 5 放置一个 OWL 时，首先沙井 2 中的老鼠逃到沙井 1，然后沙井 3 中的老鼠逃到沙井 2。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9l2yd4mg.png)\n\n**图 5：** 现在所有老鼠都位于有 KATT 的沙井中，因此你可以激活 KATT。\n\n\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $5 $| $N = 2$ |\n| $2$ | $5 $| $N \\leq 3$ |\n| $3$ | $9 $| $N \\leq 10$ |\n| $4$ | $20$ | $K = 1$ |\n| $5$ | $15$ | 对于所有 $1 \\leq i < N$，沙井 $i$ 和沙井 $i+1$ 之间有一条管道。 |\n| $6$ | $21$ | $N \\leq 50$ |\n| $7$ | $25$ | 无额外限制。 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POKATT 2024] 猫和老鼠 / KATT:s and rats ", "background": "", "description": "\n**这是一道交互题**。本题中，交互库是非自适应的。\n\n一种特殊的变异巨鼠占领了哥德堡的下水道，城市管理部门请求你帮助解决这个问题。\n\n下水道系统由 $N$ 个沙井（编号从 $1$ 到 $N$）和 $N-1$ 条连接沙井的管道组成。每条管道连接两个沙井，并且下水道的设计保证了任意两个沙井之间都可以通过一系列管道相连通。为了节约成本，哥德堡所有的下水道开发人员都已被解雇，导致整个下水道系统完全没有文档记录。这意味着没有人知道哪些沙井之间有管道直接相连。\n\n下水道中总共有 $K$ 只变异巨鼠，它们位于不同的沙井中。由于这些老鼠体型巨大且极具攻击性，同一个沙井里永远不会有两只老鼠。你已经在不同的沙井里放置了 $K$ 个 KATT（动能激活绊倒陷阱）。这些陷阱可以通过一个按钮同时激活，而你现在的目标就是想办法让老鼠们移动到有 KATT 的沙井里。但是，这些老鼠非常聪明，如果不是所有 KATT 同时被激活，它们会学会利用 KATT 来对付你。\n\n为了让老鼠移动，你有大量的 OWL（全向声波发射器），它们可以播放对这种变异巨鼠特别刺激的歌曲和噪音。你可以分多轮选择一部分沙井，在每个选定的沙井中放置一个 OWL。在每一轮中，你放置一些 OWL，然后一些老鼠可能会为了躲避烦人的声音而穿过管道。具体来说，每只老鼠都有机会逃跑，并且根据物理定律，老鼠们会按照它们当前所在沙井的编号从小到大的顺序行动。也就是说，如果沙井 $1$ 和沙井 $2$ 中都有老鼠，那么沙井 $1$ 中的老鼠会先尝试逃跑。当这只老鼠完成逃跑后，沙井 $2$ 中的老鼠才会开始它的逃跑。\n\n老鼠们希望最大化与最近的 OWL 之间的距离。一只老鼠会考虑移动到与它当前位置相距一条管道之遥的所有没有其他老鼠的沙井。如果这些沙井中没有一个到最近 OWL 的距离严格大于当前位置的距离，那么这只老鼠会停在原地。否则，它会移动到那个能提供到最近 OWL 的最大距离的相邻沙井。如果有多个这样的沙井，它会选择其中编号最小的那个。两个沙井之间的距离是指连接它们所需经过的最少管道数。\n\n你从哥德堡市获得了大量的 OWL，但在变异巨鼠的繁殖季节开始之前（这会带来灾难性的后果！），你最多只能进行 $25000$ 轮 OWL 的放置。\n\n### 实现细节\n\n首先，你的程序应该读取一行中的两个数字 $N$ ($2 \\leq N \\leq 100$) 和 $K$ ($1 \\leq K < N$)。\n接下来一行是 $K$ 个不同的数字 $1 \\leq r_1 < ... < r_K \\leq N$，描述了老鼠的初始位置所在的沙井编号。\n然后一行是 $K$ 个不同的数字 $1 \\leq t_1 < ... < t_K \\leq N$，描述了放置了 KATT 的沙井编号。\n\n当你想进行一轮 OWL 放置时，你应该首先输出一个数字 $M$，表示你本轮放置的 OWL 数量。然后在同一行上，输出 $M$ 个数字 $1 \\leq s_1 < ... < s_M \\leq N$，表示你希望放置 OWL 的沙井编号。无论沙井中是否有老鼠，都可以放置 OWL。\n然后，你的程序应该读取一行包含 $K$ 个数字 $1 \\leq r_1 < ... < r_K \\leq N$，表示在所有老鼠尝试逃离声音之后，它们所在的新位置。\n\n当你成功地将所有老鼠移动到有 KATT 的沙井时，你应该输出一行 “`activate!`”。\n然后你的程序应该终止。\n\n**请务必在每次查询后刷新输出**，否则你可能会得到 *Time Limit Exceeded* 的判决。\n在 C++ 中，可以使用 `cout << flush;` 或 `fflush(stdout);`，\n在 Python 中，可以使用 `stdout.flush()`，\n在 Java 中，可以使用 `System.out.flush();`。\n\n下水道的结构不一定是随机生成的。然而，可以保证**老鼠的初始位置和 KATT 的放置位置是均匀随机选择的**。\n\n**交互库不是适应性的**，这意味着下水道的结构是预先确定的。\n\n为了方便测试你的解决方案，我们在附件中提供了一个简单的工具供你下载。使用说明在文件头的注释中。", "inputFormat": "见「实现细节」。\n\n注意：保证**老鼠的初始位置和 KATT 的放置位置是均匀随机选择的**。但是下水道的结构不一定是随机生成的。\n", "outputFormat": "见「实现细节」。", "hint": "\n\n### 样例解释\n\n\n#### 样例 $2$ 解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/pcua8l5e.png)\n\n**图 1：** 样例 2 中的下水道布局。请注意，你的程序不会知道管道的布局。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/37ghfkp7.png)\n\n**图 2：** 当你在沙井 4 和 5 放置 OWL 时，老鼠们会非常不安。首先，由于 $4 < 5$，沙井 4 中的老鼠会尝试逃跑。这只老鼠会移动到沙井 3。之后，沙井 5 中的老鼠尝试逃跑，但没有可用的沙井可以去。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bgt3w8og.png)\n\n**图 3：** 当你在沙井 5 放置一个 OWL 时，首先沙井 3 中的老鼠逃到沙井 2，然后沙井 5 中的老鼠逃到沙井 3。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zjveutg2.png)\n\n**图 4：** 当你再次在沙井 5 放置一个 OWL 时，首先沙井 2 中的老鼠逃到沙井 1，然后沙井 3 中的老鼠逃到沙井 2。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9l2yd4mg.png)\n\n**图 5：** 现在所有老鼠都位于有 KATT 的沙井中，因此你可以激活 KATT。\n\n\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $5 $| $N = 2$ |\n| $2$ | $5 $| $N \\leq 3$ |\n| $3$ | $9 $| $N \\leq 10$ |\n| $4$ | $20$ | $K = 1$ |\n| $5$ | $15$ | 对于所有 $1 \\leq i < N$，沙井 $i$ 和沙井 $i+1$ 之间有一条管道。 |\n| $6$ | $21$ | $N \\leq 50$ |\n| $7$ | $25$ | 无额外限制。 |\n", "locale": "zh-CN"}}}
{"pid": "P13927", "type": "P", "difficulty": 0, "samples": [["3 2\n2 2\n2 3\n3 2", "2\n2 1"], ["5 1\n17\n12\n2\n8\n20", "5\n5 1 2 4 3"], ["5 2\n1 10\n3 10\n5 10\n7 10\n9 10", "1\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "Special Judge", "PO（瑞典）"], "title": "[POKATT 2024] 路牌 / Signs", "background": "", "description": "\n在听说了哥德堡下水道里有变异巨鼠的传闻后，你最亲密的朋友们决定逃往美妙的斯德哥尔摩。\n在逃亡途中，你的朋友们注意到，通往斯德哥尔摩的路上奇怪地有很多路牌，指向隆德附近的各个小村庄。此外，路牌上的数字似乎很可疑，因为一些路牌上的信息与其他路牌相矛盾。\n\n在你的朋友们经过的 $N$ 个路牌上，每个路牌都标有到隆德所有 $M$ 个村庄的距离。\n这些距离被取整为整数，因为实际距离不一定是整数。\n由于你的好朋友们碰巧拥有过目不忘的记忆力，他们清楚地记得路牌上标明的具体距离。\n然而，你的朋友们不记得他们是在何时或以何种顺序看到这 $N$ 个路牌的。\n\n你可以假设斯德哥尔摩、哥德堡和隆德的小村庄都位于一条直线上。\n此外，你可以假设所有的城市、村庄和路牌都非常小，可以表示为这条直线上的点。\n你还可以假设，隆德的村庄都不会位于两个路牌之间。\n换句话说，隆德的村庄和路牌位于哥德堡的两侧。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6v8dekro.png)\n\n上图说明了隆德的村庄和路牌如何位于哥德堡的不同侧。\n\n给定你的朋友们看到的这 $N$ 个路牌，请问最多能选出多少个路牌，使得它们上面给出的距离信息互不矛盾？\n最后，你还可以假设，至少有 $20\\%$ 的路牌是完全正确的，并且它们之间不会产生任何矛盾。\n", "inputFormat": "\n\n第一行包含两个整数 $N$ 和 $M$（$1 \\leq N \\leq 1000$, $1 \\leq M \\leq 200$），分别代表你的朋友们看到的路牌数量和隆德的村庄数量。\n\n接下来的 $N$ 行输入，每行包含 $M$ 个整数。第 $i$ 行包含整数 $d_{i,1}, d_{i,2}, \\ldots, d_{i,M}$（$1 \\leq d_{i,j} \\leq 10^6$），描述了第 $i$ 个路牌上写的 $M$ 个距离。\n也就是说，在第 $i$ 个路牌上，它标明了从路牌 $i$ 到村庄 $j$ 的距离向下取整后是 $d_{i,j}$，对于所有 $1 \\leq j \\leq M$ 均成立。", "outputFormat": "\n\n首先，在单行上输出一个整数 $t$，表示最多能选出的互不矛盾的路牌数量。\n\n在第二行，输出 $t$ 个整数，代表这些路牌的索引。输出的索引顺序必须满足：第一个索引对应的路牌离哥德堡和所有隆德村庄最远，最后一个索引对应的路牌离哥德堡和所有隆德村庄最近。\n\n由于人们在处理 0-indexed 的事物时会感到困惑，我们希望路牌是 1-indexed 的。因此，输入中的第一个路牌索引为 1，最后一个路牌索引为 $N$。\n\n如果存在多个有效的解决方案，你的程序可以输出其中任意一个。", "hint": "\n### 样例解释\n#### 样例 1 解释\n\n想象一条 $x$ 轴数轴。\n第二个路牌可以放在位置 $x = 1$ 处，第一个路牌在 $x = 1.5$ 处，第一个村庄在 $x = 3.5$ 处，第二个村庄在 $x = 4$ 处。\n\n同样，也可以为 1 号和 3 号路牌找到一种符合题意的构造。\n\n很明显，1 号和 2 号路牌是相互矛盾的，这意味着不存在一种构造能同时使用所有 3 个路牌。\n\n#### 样例 2 注释\n\n请注意，尽管所有路牌都指向同一个村庄，但它们将距离向下取整到了不同的数值。\n\n#### 样例 3 注释\n\n请注意，任意一对路牌都会导致矛盾；在这种情况下，任何单个路牌都是一个正确的答案。\n\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $21$ | $N \\leq 15, M \\leq 50$ |\n| $2$ | $31$ | $N \\leq 100, M \\leq 50$ |\n| $3$ | $18$ | $N \\leq 500, M \\leq 50$ |\n| $4$ | $30$ | 无额外约束 |\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POKATT 2024] 路牌 / Signs", "background": "", "description": "\n在听说了哥德堡下水道里有变异巨鼠的传闻后，你最亲密的朋友们决定逃往美妙的斯德哥尔摩。\n在逃亡途中，你的朋友们注意到，通往斯德哥尔摩的路上奇怪地有很多路牌，指向隆德附近的各个小村庄。此外，路牌上的数字似乎很可疑，因为一些路牌上的信息与其他路牌相矛盾。\n\n在你的朋友们经过的 $N$ 个路牌上，每个路牌都标有到隆德所有 $M$ 个村庄的距离。\n这些距离被取整为整数，因为实际距离不一定是整数。\n由于你的好朋友们碰巧拥有过目不忘的记忆力，他们清楚地记得路牌上标明的具体距离。\n然而，你的朋友们不记得他们是在何时或以何种顺序看到这 $N$ 个路牌的。\n\n你可以假设斯德哥尔摩、哥德堡和隆德的小村庄都位于一条直线上。\n此外，你可以假设所有的城市、村庄和路牌都非常小，可以表示为这条直线上的点。\n你还可以假设，隆德的村庄都不会位于两个路牌之间。\n换句话说，隆德的村庄和路牌位于哥德堡的两侧。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6v8dekro.png)\n\n上图说明了隆德的村庄和路牌如何位于哥德堡的不同侧。\n\n给定你的朋友们看到的这 $N$ 个路牌，请问最多能选出多少个路牌，使得它们上面给出的距离信息互不矛盾？\n最后，你还可以假设，至少有 $20\\%$ 的路牌是完全正确的，并且它们之间不会产生任何矛盾。\n", "inputFormat": "\n\n第一行包含两个整数 $N$ 和 $M$（$1 \\leq N \\leq 1000$, $1 \\leq M \\leq 200$），分别代表你的朋友们看到的路牌数量和隆德的村庄数量。\n\n接下来的 $N$ 行输入，每行包含 $M$ 个整数。第 $i$ 行包含整数 $d_{i,1}, d_{i,2}, \\ldots, d_{i,M}$（$1 \\leq d_{i,j} \\leq 10^6$），描述了第 $i$ 个路牌上写的 $M$ 个距离。\n也就是说，在第 $i$ 个路牌上，它标明了从路牌 $i$ 到村庄 $j$ 的距离向下取整后是 $d_{i,j}$，对于所有 $1 \\leq j \\leq M$ 均成立。", "outputFormat": "\n\n首先，在单行上输出一个整数 $t$，表示最多能选出的互不矛盾的路牌数量。\n\n在第二行，输出 $t$ 个整数，代表这些路牌的索引。输出的索引顺序必须满足：第一个索引对应的路牌离哥德堡和所有隆德村庄最远，最后一个索引对应的路牌离哥德堡和所有隆德村庄最近。\n\n由于人们在处理 0-indexed 的事物时会感到困惑，我们希望路牌是 1-indexed 的。因此，输入中的第一个路牌索引为 1，最后一个路牌索引为 $N$。\n\n如果存在多个有效的解决方案，你的程序可以输出其中任意一个。", "hint": "\n### 样例解释\n#### 样例 1 解释\n\n想象一条 $x$ 轴数轴。\n第二个路牌可以放在位置 $x = 1$ 处，第一个路牌在 $x = 1.5$ 处，第一个村庄在 $x = 3.5$ 处，第二个村庄在 $x = 4$ 处。\n\n同样，也可以为 1 号和 3 号路牌找到一种符合题意的构造。\n\n很明显，1 号和 2 号路牌是相互矛盾的，这意味着不存在一种构造能同时使用所有 3 个路牌。\n\n#### 样例 2 注释\n\n请注意，尽管所有路牌都指向同一个村庄，但它们将距离向下取整到了不同的数值。\n\n#### 样例 3 注释\n\n请注意，任意一对路牌都会导致矛盾；在这种情况下，任何单个路牌都是一个正确的答案。\n\n\n### 子任务\n\n**本题采用捆绑测试。**\n| 子任务编号 | 得分 | 限制 |\n|:-:|:-:|---|\n| $1$ | $21$ | $N \\leq 15, M \\leq 50$ |\n| $2$ | $31$ | $N \\leq 100, M \\leq 50$ |\n| $3$ | $18$ | $N \\leq 500, M \\leq 50$ |\n| $4$ | $30$ | 无额外约束 |\n", "locale": "zh-CN"}}}
{"pid": "P13928", "type": "P", "difficulty": 2, "samples": [["", ""]], "limits": {"time": [1000], "memory": [524288]}, "tags": ["数学", "2022", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 星期计算", "background": "", "description": "已知今天是星期六，请问 $20^{22}$ 天后是星期几？\n\n注意用数字 1 到 7 表示星期一到星期日。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只输出这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 星期计算", "background": "", "description": "已知今天是星期六，请问 $20^{22}$ 天后是星期几？\n\n注意用数字 1 到 7 表示星期一到星期日。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只输出这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P13929", "type": "P", "difficulty": 2, "samples": [["", ""]], "limits": {"time": [1000], "memory": [524288]}, "tags": ["2022", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 山", "background": "", "description": "这天小明正在学数数。\n\n他突然发现有些正整数的形状像一座“山”，比如 $123565321$、$145541$，它们左右对称（回文）且数位上的数字先单调不减，后单调不增。\n\n小明数了很久也没有数完，他想让你告诉他在区间 $[2022, 2022222022]$ 中有多少个数的形状像一座“山”。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 山", "background": "", "description": "这天小明正在学数数。\n\n他突然发现有些正整数的形状像一座“山”，比如 $123565321$、$145541$，它们左右对称（回文）且数位上的数字先单调不减，后单调不增。\n\n小明数了很久也没有数完，他想让你告诉他在区间 $[2022, 2022222022]$ 中有多少个数的形状像一座“山”。", "inputFormat": "", "outputFormat": "这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P13930", "type": "P", "difficulty": 2, "samples": [["BABBACAC", "AB"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "排序", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 字符统计", "background": "", "description": "给定一个只包含大写字母的字符串 $S$，请你输出其中出现次数最多的字母。\n\n如果有多个字母均出现了最多次，按字母表顺序依次输出所有这些字母。", "inputFormat": "一个只包含大写字母的字符串 $S$.", "outputFormat": "若干个大写字母，代表答案。", "hint": "对于 $100\\%$ 的评测用例，$1 \\leq |S| \\leq 10^6$.", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 字符统计", "background": "", "description": "给定一个只包含大写字母的字符串 $S$，请你输出其中出现次数最多的字母。\n\n如果有多个字母均出现了最多次，按字母表顺序依次输出所有这些字母。", "inputFormat": "一个只包含大写字母的字符串 $S$.", "outputFormat": "若干个大写字母，代表答案。", "hint": "对于 $100\\%$ 的评测用例，$1 \\leq |S| \\leq 10^6$.", "locale": "zh-CN"}}}
{"pid": "P13931", "type": "P", "difficulty": 3, "samples": [["5\n12 10 15 20 6", "0 3 0 0 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "2022", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 最少刷题数", "background": "", "description": "小蓝老师教的编程课有 $N$ 名学生，编号依次是 $1 \\ldots N$。第 $i$ 号学生这学期刷题的数量是 $A_i$。\n\n对于每一名学生，请你计算他至少还要再刷多少道题，才能使得全班刷题比他多的学生数不超过刷题比他少的学生数。", "inputFormat": "第一行包含一个正整数 $N$。\n\n第二行包含 $N$ 个整数：$A_1, A_2, A_3, \\ldots, A_N$.", "outputFormat": "输出 $N$ 个整数，依次表示第 $1 \\ldots N$ 号学生分别至少还要再刷多少道题。", "hint": "**【评测用例规模与约定】**\n\n对于 $30\\%$ 的数据，$1 \\leq N \\leq 1000, 0 \\leq A_i \\leq 1000$.\n\n对于 $100\\%$ 的数据，$1 \\leq N \\leq 100000, 0 \\leq A_i \\leq 100000$.", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 最少刷题数", "background": "", "description": "小蓝老师教的编程课有 $N$ 名学生，编号依次是 $1 \\ldots N$。第 $i$ 号学生这学期刷题的数量是 $A_i$。\n\n对于每一名学生，请你计算他至少还要再刷多少道题，才能使得全班刷题比他多的学生数不超过刷题比他少的学生数。", "inputFormat": "第一行包含一个正整数 $N$。\n\n第二行包含 $N$ 个整数：$A_1, A_2, A_3, \\ldots, A_N$.", "outputFormat": "输出 $N$ 个整数，依次表示第 $1 \\ldots N$ 号学生分别至少还要再刷多少道题。", "hint": "**【评测用例规模与约定】**\n\n对于 $30\\%$ 的数据，$1 \\leq N \\leq 1000, 0 \\leq A_i \\leq 1000$.\n\n对于 $100\\%$ 的数据，$1 \\leq N \\leq 100000, 0 \\leq A_i \\leq 100000$.", "locale": "zh-CN"}}}
{"pid": "P13932", "type": "P", "difficulty": 3, "samples": [["2", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "二分", "2022", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 求阶乘", "background": "", "description": "满足 $N!$ 的末尾恰好有 $K$ 个 $0$ 的最小的 $N$ 是多少？\n\n如果这样的 $N$ 不存在输出 $-1$。", "inputFormat": "一个整数 $K$。", "outputFormat": "一个整数代表答案。", "hint": "**【评测用例规模与约定】**\n\n对于 $30\\%$ 的数据，$1 \\leq K \\leq 10^6$.\n\n对于 $100\\%$ 的数据，$1 \\leq K \\leq 10^{18}$.", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 求阶乘", "background": "", "description": "满足 $N!$ 的末尾恰好有 $K$ 个 $0$ 的最小的 $N$ 是多少？\n\n如果这样的 $N$ 不存在输出 $-1$。", "inputFormat": "一个整数 $K$。", "outputFormat": "一个整数代表答案。", "hint": "**【评测用例规模与约定】**\n\n对于 $30\\%$ 的数据，$1 \\leq K \\leq 10^6$.\n\n对于 $100\\%$ 的数据，$1 \\leq K \\leq 10^{18}$.", "locale": "zh-CN"}}}
{"pid": "P13933", "type": "P", "difficulty": 4, "samples": [["3 4\n2 0 7 9\n0 6 9 7\n8 4 6 4\n8", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["单调队列", "2022", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 最大子矩阵", "background": "", "description": "小明有一个大小为 $N \\times M$ 的矩阵，可以理解为一个 $N$ 行 $M$ 列的二维数组。\n\n我们定义一个矩阵 $m$ 的稳定度 $f(m)$ 为 $f(m) = \\max(m) - \\min(m)$，其中 $\\max(m)$ 表示矩阵 $m$ 中的最大值，$\\min(m)$ 表示矩阵 $m$ 中的最小值。现在小明想要从这个矩阵中找到一个稳定度不大于 $limit$ 的子矩阵，同时他还希望这个子矩阵的面积越大越好（面积可以理解为矩阵中元素个数）。\n\n子矩阵定义如下：从原矩阵中选择一组连续的行和一组连续的列，这些行列交点上的元素组成的矩阵即为一个子矩阵。", "inputFormat": "第一行输入两个整数 $N$，$M$，表示矩阵的大小。\n\n接下来 $N$ 行，每行输入 $M$ 个整数，表示这个矩阵。\n\n最后一行输入一个整数 $limit$，表示限制。", "outputFormat": "输出一个整数，分别表示小明选择的子矩阵的最大面积。", "hint": "**【样例说明】**\n\n满足稳定度不大于 $8$ 的且面积最大的子矩阵总共有三个，他们的面积都是 $6$（粗体表示子矩阵元素）:\n\n$$\\begin{array}{llll}\\bf2 & \\bf0 & 7 & 9 \\\\\\bf0 & \\bf6 & 9 & 7 \\\\\\bf8 & \\bf4 & 6 & 4\\end{array}$$\n\n$$\\begin{array}{llll}2 & 0 & \\bf7 & \\bf9 \\\\0 & 6 & \\bf9 & \\bf7 \\\\8 & 4 & \\bf6 & \\bf4\\end{array}$$\n\n$$\\begin{array}{llll}2 & 0 & 7 & 9 \\\\0 & \\bf6 & \\bf9 & \\bf7 \\\\8 & \\bf4 & \\bf6 & \\bf4\\end{array}$$\n\n**【评测用例规模与约定】**\n\n| 评测用例编号 | $N$ | $M$ |\n| :-: | :-: | :-: |\n| $1, 2$ | $1 \\leq N \\leq 10$ | $1 \\leq M \\leq 10$ |\n| $3, 4$ | $N = 1$ | $M \\leq 100000$ |\n| $5 \\sim 12$ | $1 \\leq N \\leq 10$ | $M \\leq 10000$ |\n| $13 \\sim 20$ | $1 \\leq N \\leq 80$ | $1 \\leq M \\leq 80$ |\n\n对于所有评测用例，$0 \\leq$ 矩阵元素值, $limit \\leq 10^5$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 最大子矩阵", "background": "", "description": "小明有一个大小为 $N \\times M$ 的矩阵，可以理解为一个 $N$ 行 $M$ 列的二维数组。\n\n我们定义一个矩阵 $m$ 的稳定度 $f(m)$ 为 $f(m) = \\max(m) - \\min(m)$，其中 $\\max(m)$ 表示矩阵 $m$ 中的最大值，$\\min(m)$ 表示矩阵 $m$ 中的最小值。现在小明想要从这个矩阵中找到一个稳定度不大于 $limit$ 的子矩阵，同时他还希望这个子矩阵的面积越大越好（面积可以理解为矩阵中元素个数）。\n\n子矩阵定义如下：从原矩阵中选择一组连续的行和一组连续的列，这些行列交点上的元素组成的矩阵即为一个子矩阵。", "inputFormat": "第一行输入两个整数 $N$，$M$，表示矩阵的大小。\n\n接下来 $N$ 行，每行输入 $M$ 个整数，表示这个矩阵。\n\n最后一行输入一个整数 $limit$，表示限制。", "outputFormat": "输出一个整数，分别表示小明选择的子矩阵的最大面积。", "hint": "**【样例说明】**\n\n满足稳定度不大于 $8$ 的且面积最大的子矩阵总共有三个，他们的面积都是 $6$（粗体表示子矩阵元素）:\n\n$$\\begin{array}{llll}\\bf2 & \\bf0 & 7 & 9 \\\\\\bf0 & \\bf6 & 9 & 7 \\\\\\bf8 & \\bf4 & 6 & 4\\end{array}$$\n\n$$\\begin{array}{llll}2 & 0 & \\bf7 & \\bf9 \\\\0 & 6 & \\bf9 & \\bf7 \\\\8 & 4 & \\bf6 & \\bf4\\end{array}$$\n\n$$\\begin{array}{llll}2 & 0 & 7 & 9 \\\\0 & \\bf6 & \\bf9 & \\bf7 \\\\8 & \\bf4 & \\bf6 & \\bf4\\end{array}$$\n\n**【评测用例规模与约定】**\n\n| 评测用例编号 | $N$ | $M$ |\n| :-: | :-: | :-: |\n| $1, 2$ | $1 \\leq N \\leq 10$ | $1 \\leq M \\leq 10$ |\n| $3, 4$ | $N = 1$ | $M \\leq 100000$ |\n| $5 \\sim 12$ | $1 \\leq N \\leq 10$ | $M \\leq 10000$ |\n| $13 \\sim 20$ | $1 \\leq N \\leq 80$ | $1 \\leq M \\leq 80$ |\n\n对于所有评测用例，$0 \\leq$ 矩阵元素值, $limit \\leq 10^5$。\n", "locale": "zh-CN"}}}
{"pid": "P13934", "type": "P", "difficulty": 3, "samples": [["4\n1 3 2 4", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2022", "ST 表", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 数组切分", "background": "", "description": "已知一个长度为 $N$ 的数组：$A_1, A_2, A_3, \\ldots, A_N$ 恰好是 $1 \\sim N$ 的一个排列。现在要求你将 $A$ 数组切分成若干个（最少一个，最多 $N$ 个）连续的子数组，并且每个子数组中包含的整数恰好可以组成一段连续的自然数。\n\n例如对于 $A = \\{1, 3, 2, 4\\}$，一共有 $5$ 种切分方法：\n\n- $\\{1\\}\\{3\\}\\{2\\}\\{4\\}$：每个单独的数显然是（长度为 $1$ 的）**一段连续的自然数**。\n- $\\{1\\}\\{3, 2\\}\\{4\\}$：$\\{3, 2\\}$ 包含 $2$ 到 $3$，是**一段连续的自然数**，另外 $\\{1\\}$ 和 $\\{4\\}$ 显然也是。\n- $\\{1\\}\\{3, 2, 4\\}$：$\\{3, 2, 4\\}$ 包含 $2$ 到 $4$，是**一段连续的自然数**，另外 $\\{1\\}$ 显然也是。\n- $\\{1, 3, 2\\}\\{4\\}$：$\\{1, 3, 2\\}$ 包含 $1$ 到 $3$，是**一段连续的自然数**，另外 $\\{4\\}$ 显然也是。\n- $\\{1, 3, 2, 4\\}$：只有一个子数组，包含 $1$ 到 $4$，是**一段连续的自然数**。", "inputFormat": "第一行包含一个整数 $N$。第二行包含 $N$ 个整数，代表 $A$ 数组。", "outputFormat": "输出一个整数表示答案。由于答案可能很大，所以输出其对 $10^9+7$ 取模后的值。", "hint": "**【评测用例规模与约定】**\n\n对于 $30\\%$ 评测用例，$1 \\leq N \\leq 20$.\n\n对于 $100\\%$ 评测用例，$1 \\leq N \\leq 10000$.", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 数组切分", "background": "", "description": "已知一个长度为 $N$ 的数组：$A_1, A_2, A_3, \\ldots, A_N$ 恰好是 $1 \\sim N$ 的一个排列。现在要求你将 $A$ 数组切分成若干个（最少一个，最多 $N$ 个）连续的子数组，并且每个子数组中包含的整数恰好可以组成一段连续的自然数。\n\n例如对于 $A = \\{1, 3, 2, 4\\}$，一共有 $5$ 种切分方法：\n\n- $\\{1\\}\\{3\\}\\{2\\}\\{4\\}$：每个单独的数显然是（长度为 $1$ 的）**一段连续的自然数**。\n- $\\{1\\}\\{3, 2\\}\\{4\\}$：$\\{3, 2\\}$ 包含 $2$ 到 $3$，是**一段连续的自然数**，另外 $\\{1\\}$ 和 $\\{4\\}$ 显然也是。\n- $\\{1\\}\\{3, 2, 4\\}$：$\\{3, 2, 4\\}$ 包含 $2$ 到 $4$，是**一段连续的自然数**，另外 $\\{1\\}$ 显然也是。\n- $\\{1, 3, 2\\}\\{4\\}$：$\\{1, 3, 2\\}$ 包含 $1$ 到 $3$，是**一段连续的自然数**，另外 $\\{4\\}$ 显然也是。\n- $\\{1, 3, 2, 4\\}$：只有一个子数组，包含 $1$ 到 $4$，是**一段连续的自然数**。", "inputFormat": "第一行包含一个整数 $N$。第二行包含 $N$ 个整数，代表 $A$ 数组。", "outputFormat": "输出一个整数表示答案。由于答案可能很大，所以输出其对 $10^9+7$ 取模后的值。", "hint": "**【评测用例规模与约定】**\n\n对于 $30\\%$ 评测用例，$1 \\leq N \\leq 20$.\n\n对于 $100\\%$ 评测用例，$1 \\leq N \\leq 10000$.", "locale": "zh-CN"}}}
{"pid": "P13935", "type": "P", "difficulty": 4, "samples": [["17\nUUUULLLLDDDDRRRRU", " *****\n*     *\n* *** *\n* *** *\n* *** *\n*     *\n *****"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2022", "蓝桥杯省赛"], "title": "[蓝桥杯 2022 省 Java B] 回忆迷宫", "background": "", "description": "爱丽丝刚从一处地下迷宫中探险归来，你能根据她对于自己行动路径的回忆，帮她画出迷宫地图吗？\n\n迷宫地图是基于二维网格的。爱丽丝会告诉你一系列她在迷宫中的移动步骤，每个移动步骤可能是上下左右四个方向中的一种，表示爱丽丝往这个方向走了一格。你需要根据这些移动步骤给出一个迷宫地图，并满足以下条件：\n\n1. 爱丽丝能在迷宫内的某个空地开始，顺利的走完她回忆的所有移动步骤。\n2. 迷宫内不存在爱丽丝没有走过的空地。\n3. 迷宫是封闭的，即可通过墙分隔迷宫内与迷宫外。任意方向的无穷远处视为迷宫外，所有不与迷宫外联通的空地都视为是迷宫内。（迷宫地图为四联通，即只有上下左右视为联通）\n4. 在满足前面三点的前提下，迷宫的墙的数量要尽可能少。", "inputFormat": "第一行一个正整数 $N$，表示爱丽丝回忆的步骤数量。\n\n接下来一行 $N$ 个英文字符，仅包含 UDLR 四种字符，分别表示上（Up）、下（Down）、左（Left）、右（Right）。", "outputFormat": "请通过字符画的形式输出迷宫地图。迷宫地图可能包含许多行，用字符 '*' 表示墙，用 ' '（空格）表示非墙。\n\n你的输出需要保证以下条件：\n\n1. 至少有一行第一个字符为 '*'。\n2. 第一行至少有一个字符为 '*'。", "hint": "**【样例说明】**\n\n爱丽丝可以把第六行第六个字符作为起点。\n\n:::align{center}\n外墙墙墙墙墙外    \n墙内内内内内墙    \n墙内墙墙墙内墙    \n墙内墙墙墙内墙    \n墙内墙墙墙内墙    \n墙内内内内内墙    \n外墙墙墙墙墙外    \n::::\n\n**【评测用例规模与约定】**\n\n对于所有数据，$0 < N \\leq 100$.", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2022 省 Java B] 回忆迷宫", "background": "", "description": "爱丽丝刚从一处地下迷宫中探险归来，你能根据她对于自己行动路径的回忆，帮她画出迷宫地图吗？\n\n迷宫地图是基于二维网格的。爱丽丝会告诉你一系列她在迷宫中的移动步骤，每个移动步骤可能是上下左右四个方向中的一种，表示爱丽丝往这个方向走了一格。你需要根据这些移动步骤给出一个迷宫地图，并满足以下条件：\n\n1. 爱丽丝能在迷宫内的某个空地开始，顺利的走完她回忆的所有移动步骤。\n2. 迷宫内不存在爱丽丝没有走过的空地。\n3. 迷宫是封闭的，即可通过墙分隔迷宫内与迷宫外。任意方向的无穷远处视为迷宫外，所有不与迷宫外联通的空地都视为是迷宫内。（迷宫地图为四联通，即只有上下左右视为联通）\n4. 在满足前面三点的前提下，迷宫的墙的数量要尽可能少。", "inputFormat": "第一行一个正整数 $N$，表示爱丽丝回忆的步骤数量。\n\n接下来一行 $N$ 个英文字符，仅包含 UDLR 四种字符，分别表示上（Up）、下（Down）、左（Left）、右（Right）。", "outputFormat": "请通过字符画的形式输出迷宫地图。迷宫地图可能包含许多行，用字符 '*' 表示墙，用 ' '（空格）表示非墙。\n\n你的输出需要保证以下条件：\n\n1. 至少有一行第一个字符为 '*'。\n2. 第一行至少有一个字符为 '*'。", "hint": "**【样例说明】**\n\n爱丽丝可以把第六行第六个字符作为起点。\n\n:::align{center}\n外墙墙墙墙墙外    \n墙内内内内内墙    \n墙内墙墙墙内墙    \n墙内墙墙墙内墙    \n墙内墙墙墙内墙    \n墙内内内内内墙    \n外墙墙墙墙墙外    \n::::\n\n**【评测用例规模与约定】**\n\n对于所有数据，$0 < N \\leq 100$.", "locale": "zh-CN"}}}
