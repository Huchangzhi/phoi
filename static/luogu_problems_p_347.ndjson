{"pid": "P8031", "type": "P", "difficulty": 5, "samples": [["1\n5 5", "1"], ["3\n-1 -1\n1 -1\n0 1", "12"], ["5\n0 0\n-1 0\n2 -1\n3 2\n0 3", "83"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #3] Kućice", "background": "", "description": "圣诞集市中有 $n$ 个摊位。每个摊位可以抽象为平面直角坐标系中的一个点，其坐标为 $x_i,y_i$。\n\n现在每个摊位均有 $50\\%$ 的概率违规。所有违规的摊位会被一个栅栏圈住，其中栅栏的形状为所有违规摊位对应的点组成的凸包的边界。当然，一些没有违规的无辜摊位也有可能被圈住。当违规摊位数量小于 $3$ 时，凸包显然会退化为线段、点或空集。\n\n求被圈住摊位的期望数量。可以证明答案可以被表示成 $\\frac{m}{2^n}$，其中 $m$ 为正整数。因此只需要输出 $m$ 对 $10^9+7$ 取模后的值即可。", "inputFormat": "第一行，一个正整数 $n$，表示摊位的数量。\n\n接下来的 $n$ 行，每行两个整数 $x_i,y_i$，表示摊位的坐标。数据保证不存在坐标相同的摊位且任意三个摊位都不共线。", "outputFormat": "输出 $m$ 对 $10^9+7$ 取模后的值。", "hint": "**【样例 1 解释】**\n\n唯一的摊位违规的概率为 $50\\%$，故期望值为 $\\frac{1}{2}$。\n\n**【样例 2 解释】**\n\n违规的情况共有 $8$ 种，而每种情况下被圈住的摊位数分别为 $0,1,1,1,2,2,2,3$。故期望值为 $\\frac{1}{8}(0+1+1+1+2+2+2+3)=\\frac{12}{8}$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：每个点都在由所有点组成的凸包的边界上，同时 $n \\ge 3$。\n- Subtask 2（30 pts）：除了第一个点外，每个点都在由所有点组成的凸包的边界上，同时 $n \\ge 4$，$x_1=y_1=0$。\n- Subtask 3（10 pts）：$1 \\le n \\le 15$。\n- Subtask 4（30 pts）：$1 \\le n \\le 100$。\n- Subtask 5（30 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$|x_i|,|y_i| \\le 10^6$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 5 Kućice_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #3] Kućice", "background": "", "description": "圣诞集市中有 $n$ 个摊位。每个摊位可以抽象为平面直角坐标系中的一个点，其坐标为 $x_i,y_i$。\n\n现在每个摊位均有 $50\\%$ 的概率违规。所有违规的摊位会被一个栅栏圈住，其中栅栏的形状为所有违规摊位对应的点组成的凸包的边界。当然，一些没有违规的无辜摊位也有可能被圈住。当违规摊位数量小于 $3$ 时，凸包显然会退化为线段、点或空集。\n\n求被圈住摊位的期望数量。可以证明答案可以被表示成 $\\frac{m}{2^n}$，其中 $m$ 为正整数。因此只需要输出 $m$ 对 $10^9+7$ 取模后的值即可。", "inputFormat": "第一行，一个正整数 $n$，表示摊位的数量。\n\n接下来的 $n$ 行，每行两个整数 $x_i,y_i$，表示摊位的坐标。数据保证不存在坐标相同的摊位且任意三个摊位都不共线。", "outputFormat": "输出 $m$ 对 $10^9+7$ 取模后的值。", "hint": "**【样例 1 解释】**\n\n唯一的摊位违规的概率为 $50\\%$，故期望值为 $\\frac{1}{2}$。\n\n**【样例 2 解释】**\n\n违规的情况共有 $8$ 种，而每种情况下被圈住的摊位数分别为 $0,1,1,1,2,2,2,3$。故期望值为 $\\frac{1}{8}(0+1+1+1+2+2+2+3)=\\frac{12}{8}$。\n\n**【数据规模与约定】**\n\n**本题采用子任务捆绑测试。**\n\n- Subtask 1（10 pts）：每个点都在由所有点组成的凸包的边界上，同时 $n \\ge 3$。\n- Subtask 2（30 pts）：除了第一个点外，每个点都在由所有点组成的凸包的边界上，同时 $n \\ge 4$，$x_1=y_1=0$。\n- Subtask 3（10 pts）：$1 \\le n \\le 15$。\n- Subtask 4（30 pts）：$1 \\le n \\le 100$。\n- Subtask 5（30 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$|x_i|,|y_i| \\le 10^6$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2021-2022](https://hsin.hr/coci/) [CONTEST #3](https://hsin.hr/coci/contest3_tasks.pdf) _Task 5 Kućice_。**\n\n**本题分值按 COCI 原题设置，满分 $110$。**", "locale": "zh-CN"}}}
{"pid": "P8032", "type": "P", "difficulty": 2, "samples": [["{abc,ono,sto}", "{\n  abc,\n  ono,\n  sto\n}"], ["{}", "{\n}"], ["{znakovi}", "{\n  znakovi\n}"], ["{a,b,{c,d},e,{}}", "{\n  a,\n  b,\n  {\n    c,\n    d\n  },\n  e,\n  {\n  }\n}"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #7] Nizovi", "background": "", "description": "一种编程语言中的数组按如下方式定义：\n\n- 数组的开头和结尾分别用大括号（$\\texttt \\{$ 和 $\\texttt \\}$）表示。\n- 每组大括号内有若干个（可能为 $0$）用逗号分隔开来的**元素**（每个数组的最后一个元素后面没有逗号）。\n- 每个元素可以是一个**单词**（由小写字母组成的字符串）或一个数组。\n- 一些合法的数组：$\\texttt {\\{\\}}, \\texttt{\\{a,b,c\\}}, \\texttt{\\{abc,znj,\\{novi,niz\\},pozz\\}}$。\n\n你需要采用下列码风使得程序更加美观：\n\n- 遇到单词或大括号时另起一行。\n- 逗号应直接放置于一个数组元素的后面。\n- 每遇到一个 $\\texttt{\\{}$，增加 $2$ 个空格的缩进。\n- 每遇到一个 $\\texttt{\\}}$，减少 $2$ 个空格的缩进。\n\n现给定一个数组，输出上述码风下该数组的样式。", "inputFormat": "一个字符串 $S$，表示给定的数组。", "outputFormat": "给定码风下的数组。", "hint": "**【数据规模与约定】**\n\n- 对于 $50\\%$ 的数据，元素只包含单词。\n- 对于 $100\\%$ 的数据，$1 \\le |S| \\le 1500$。\n\n**【提示与说明】**\n\nChecker 选自 [Testlib 库](https://github.com/MikeMirzayanov/testlib/blob/master/checkers/fcmp.cpp)，见附件。\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 1 Nizovi_。**\n\n**本题分值按 COCI 原题设置，满分 $50$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #7] Nizovi", "background": "", "description": "一种编程语言中的数组按如下方式定义：\n\n- 数组的开头和结尾分别用大括号（$\\texttt \\{$ 和 $\\texttt \\}$）表示。\n- 每组大括号内有若干个（可能为 $0$）用逗号分隔开来的**元素**（每个数组的最后一个元素后面没有逗号）。\n- 每个元素可以是一个**单词**（由小写字母组成的字符串）或一个数组。\n- 一些合法的数组：$\\texttt {\\{\\}}, \\texttt{\\{a,b,c\\}}, \\texttt{\\{abc,znj,\\{novi,niz\\},pozz\\}}$。\n\n你需要采用下列码风使得程序更加美观：\n\n- 遇到单词或大括号时另起一行。\n- 逗号应直接放置于一个数组元素的后面。\n- 每遇到一个 $\\texttt{\\{}$，增加 $2$ 个空格的缩进。\n- 每遇到一个 $\\texttt{\\}}$，减少 $2$ 个空格的缩进。\n\n现给定一个数组，输出上述码风下该数组的样式。", "inputFormat": "一个字符串 $S$，表示给定的数组。", "outputFormat": "给定码风下的数组。", "hint": "**【数据规模与约定】**\n\n- 对于 $50\\%$ 的数据，元素只包含单词。\n- 对于 $100\\%$ 的数据，$1 \\le |S| \\le 1500$。\n\n**【提示与说明】**\n\nChecker 选自 [Testlib 库](https://github.com/MikeMirzayanov/testlib/blob/master/checkers/fcmp.cpp)，见附件。\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 1 Nizovi_。**\n\n**本题分值按 COCI 原题设置，满分 $50$。**", "locale": "zh-CN"}}}
{"pid": "P8033", "type": "P", "difficulty": 3, "samples": [["3 5 3\n.....\n.*.*.\n.....", "1\n+-+..\n|*|*.\n+-+.."], ["7 6 4\n......\n.*.*.*\n......\n.*.*..\n..*...\n..*...\n*....*", "2\n......\n.*.*.*\n+--+..\n|*.|..\n|.*|..\n+--+..\n*....*"], ["9 9 6\n***......\n......*.*\n.*....*..\n..*...*..\n..*.*....\n..*....*.\n.....*...\n.*...***.\n.........", "6\n***......\n......*.*\n.*....*..\n..*+----+\n..*|*...|\n..*|...*|\n...|.*..|\n.*.|.***|\n...+----+"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #7] Prozor", "background": "", "description": "一扇规模为 $R \\times S$ 的窗户上有若干只苍蝇。现有一把苍蝇拍，它可以消灭 $K \\times K$ 矩形区域内（不含边界）的所有苍蝇。\n\n请选择一种苍蝇拍的放置位置，使得被消灭的苍蝇数量最多。输出消灭的苍蝇的最大值和该方案。如果有多种符合的方案，请输出任意一种。", "inputFormat": "第一行，三个整数 $R,S,K$。\n\n接下来的 $R$ 行，每行 $S$ 个字符 $\\texttt *$（表示苍蝇）或 $\\texttt .$（表示空白区域）。数据保证至少能消灭一只苍蝇。", "outputFormat": "第一行，输出能消灭苍蝇数量的最大值。当程序只答对该值时，可以获得 $50\\%$ 的分数。\n\n接下来的 $R$ 行，每行 $S$ 个字符。在输入的字符矩阵的基础上，将所选定的 $K \\times K$ 矩形的四个角改为 $\\texttt +$、横向边改为 $\\texttt -$、纵向边改为 $\\texttt |$ 即可。选定的矩形区域必须完全在整个矩阵内部。\n\n**注：如果只想获得 $\\mathbf{50\\%}$ 的部分分，请只输出一个整数，即消灭苍蝇数量的最大值。此时，** $\\red {\\mathbf{请不要输出任何多余的字符（包括但不限于空格和换行符），否则会被判错。}}$", "hint": "**【数据规模与约定】**\n\n- 对于 $100\\%$ 的数据，$3 \\le K \\le R,S \\le 100$。\n\n**【提示与说明】**\n\n欢迎大家通过私信或发帖对自行编写的 [Special Judge](https://www.luogu.com.cn/paste/luaa2ic5) 进行 hack。\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 2 Prozor_。**\n\n**本题分值按 COCI 原题设置，满分 $80$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #7] Prozor", "background": "", "description": "一扇规模为 $R \\times S$ 的窗户上有若干只苍蝇。现有一把苍蝇拍，它可以消灭 $K \\times K$ 矩形区域内（不含边界）的所有苍蝇。\n\n请选择一种苍蝇拍的放置位置，使得被消灭的苍蝇数量最多。输出消灭的苍蝇的最大值和该方案。如果有多种符合的方案，请输出任意一种。", "inputFormat": "第一行，三个整数 $R,S,K$。\n\n接下来的 $R$ 行，每行 $S$ 个字符 $\\texttt *$（表示苍蝇）或 $\\texttt .$（表示空白区域）。数据保证至少能消灭一只苍蝇。", "outputFormat": "第一行，输出能消灭苍蝇数量的最大值。当程序只答对该值时，可以获得 $50\\%$ 的分数。\n\n接下来的 $R$ 行，每行 $S$ 个字符。在输入的字符矩阵的基础上，将所选定的 $K \\times K$ 矩形的四个角改为 $\\texttt +$、横向边改为 $\\texttt -$、纵向边改为 $\\texttt |$ 即可。选定的矩形区域必须完全在整个矩阵内部。\n\n**注：如果只想获得 $\\mathbf{50\\%}$ 的部分分，请只输出一个整数，即消灭苍蝇数量的最大值。此时，** $\\red {\\mathbf{请不要输出任何多余的字符（包括但不限于空格和换行符），否则会被判错。}}$", "hint": "**【数据规模与约定】**\n\n- 对于 $100\\%$ 的数据，$3 \\le K \\le R,S \\le 100$。\n\n**【提示与说明】**\n\n欢迎大家通过私信或发帖对自行编写的 [Special Judge](https://www.luogu.com.cn/paste/luaa2ic5) 进行 hack。\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 2 Prozor_。**\n\n**本题分值按 COCI 原题设置，满分 $80$。**", "locale": "zh-CN"}}}
{"pid": "P8034", "type": "P", "difficulty": 2, "samples": [["4\n1 3 5 7\n3\n2 2\n2 5\n1 5", "3\n1\n0"], ["5\n3 3 4 3 2\n4\n1 2\n1 3\n5 6\n7 9", "0\n4\n7\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #7] Ozljeda", "background": "", "description": "给定一个元素个数为 $K$ 的数列 $\\{a\\}$。现规定一个无穷数列 $\\{x\\}$ 如下：\n\n$$x_n=\\begin{cases}\na_n, & 1 \\le n \\le K, \\cr\n\\bigoplus_{i=n-1}^{n-K} x_i, & n > K\n\\end{cases}$$\n\n给定 $Q$ 组询问 $l_i,r_i$，求 $\\bigoplus_{i=l}^r x_i$ 的值。", "inputFormat": "第一行，一个整数 $K$。\n\n第二行，$K$ 个整数 $a_i$。\n\n第三行，一个整数 $Q$。\n\n接下来的 $Q$ 行，每行两个整数 $l_i,r_i$。", "outputFormat": "输出 $Q$ 行，每行对应一次询问的答案。", "hint": "**【数据规模与约定】**\n\n- 对于 $100\\%$ 的数据，$1 \\le K \\le 10^5$，$0 \\le a_i \\lt 10^{18}$，$1 \\le Q \\le 10^6$，$1 \\le l_i \\le r_i \\le 10^{18}$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 3 Ozljeda_。**\n\n**本题分值按 COCI 原题设置，满分 $100$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #7] Ozljeda", "background": "", "description": "给定一个元素个数为 $K$ 的数列 $\\{a\\}$。现规定一个无穷数列 $\\{x\\}$ 如下：\n\n$$x_n=\\begin{cases}\na_n, & 1 \\le n \\le K, \\cr\n\\bigoplus_{i=n-1}^{n-K} x_i, & n > K\n\\end{cases}$$\n\n给定 $Q$ 组询问 $l_i,r_i$，求 $\\bigoplus_{i=l}^r x_i$ 的值。", "inputFormat": "第一行，一个整数 $K$。\n\n第二行，$K$ 个整数 $a_i$。\n\n第三行，一个整数 $Q$。\n\n接下来的 $Q$ 行，每行两个整数 $l_i,r_i$。", "outputFormat": "输出 $Q$ 行，每行对应一次询问的答案。", "hint": "**【数据规模与约定】**\n\n- 对于 $100\\%$ 的数据，$1 \\le K \\le 10^5$，$0 \\le a_i \\lt 10^{18}$，$1 \\le Q \\le 10^6$，$1 \\le l_i \\le r_i \\le 10^{18}$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 3 Ozljeda_。**\n\n**本题分值按 COCI 原题设置，满分 $100$。**", "locale": "zh-CN"}}}
{"pid": "P8035", "type": "P", "difficulty": 3, "samples": [["3\n2 3 6\n(R1-R2-R3)", "11.00000"], ["3\n2 3 6\n(R1|R2|R3)", "1.00000"], ["5\n5.0 5.0 5.0 5.0 5.0\n((R1-(R2|R3)-(R4|R5))|(R1-(R2|R3)-(R4|R5)))", "5.00000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #7] Otpor", "background": "", "description": "众所周知，电阻的连接包括串联和并联两种。而一条电路的所有电阻可以视为这条电路的等效电阻 $R_{ekv}$。当电阻串联时，可以这样表示：\n\n$$\\text{(R1-R2-R3-...-RK)}$$\n\n同时满足公式：\n\n$$R_{ekv}=\\sum_{i=1}^K R_i$$\n\n并联时可以这样表示：\n\n$$\\text{(R1|R2|R3|...|RK)}$$\n\n同时满足公式：\n\n$$R_{ekv}=\\frac{1}{\\sum_{i=1}^K \\frac{1}{R_i}}$$\n\n现有一个包含 $N$ 种阻值为 $R_i$ 的电阻和足够多的导线。给定这些电阻的连接方式，求整条电路的等效电阻值。", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个实数 $R_i$。\n\n第三行，一个字符串 $S$，表示电路。字符串只包含 $\\texttt R$、$\\texttt 1 \\sim \\texttt 9$、$\\texttt ($、$\\texttt )$、$\\texttt -$ 和 $\\texttt |$。数据保证不会有括号不匹配或不合法的现象，同时括号的数量将会最小化。任何一对括号内都不会同时出现 $\\texttt -$ 和 $\\texttt |$。电路只包含给定的 $N$ 种电阻，且可能出现任意（包括 $0$）次。", "outputFormat": "输出整条电路的等效电阻值。输出与标准答案相差不超过 $10^{-5}$ 则视为正确。", "hint": "**【数据规模与约定】**\n\n- 对于 $20\\%$ 的数据，$N=3$ 且电路恰好包含这三种电阻。\n- 对于 $40\\%$ 的数据，$S$ 中只包含一对括号。\n- 对于 $100\\%$ 的数据，$1 \\le N \\le 9$，$0 \\lt R_i \\lt 100$，$1 \\le |S| \\le 10^5$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 4 Otpor_。**\n\n**本题分值按 COCI 原题设置，满分 $120$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #7] Otpor", "background": "", "description": "众所周知，电阻的连接包括串联和并联两种。而一条电路的所有电阻可以视为这条电路的等效电阻 $R_{ekv}$。当电阻串联时，可以这样表示：\n\n$$\\text{(R1-R2-R3-...-RK)}$$\n\n同时满足公式：\n\n$$R_{ekv}=\\sum_{i=1}^K R_i$$\n\n并联时可以这样表示：\n\n$$\\text{(R1|R2|R3|...|RK)}$$\n\n同时满足公式：\n\n$$R_{ekv}=\\frac{1}{\\sum_{i=1}^K \\frac{1}{R_i}}$$\n\n现有一个包含 $N$ 种阻值为 $R_i$ 的电阻和足够多的导线。给定这些电阻的连接方式，求整条电路的等效电阻值。", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个实数 $R_i$。\n\n第三行，一个字符串 $S$，表示电路。字符串只包含 $\\texttt R$、$\\texttt 1 \\sim \\texttt 9$、$\\texttt ($、$\\texttt )$、$\\texttt -$ 和 $\\texttt |$。数据保证不会有括号不匹配或不合法的现象，同时括号的数量将会最小化。任何一对括号内都不会同时出现 $\\texttt -$ 和 $\\texttt |$。电路只包含给定的 $N$ 种电阻，且可能出现任意（包括 $0$）次。", "outputFormat": "输出整条电路的等效电阻值。输出与标准答案相差不超过 $10^{-5}$ 则视为正确。", "hint": "**【数据规模与约定】**\n\n- 对于 $20\\%$ 的数据，$N=3$ 且电路恰好包含这三种电阻。\n- 对于 $40\\%$ 的数据，$S$ 中只包含一对括号。\n- 对于 $100\\%$ 的数据，$1 \\le N \\le 9$，$0 \\lt R_i \\lt 100$，$1 \\le |S| \\le 10^5$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 4 Otpor_。**\n\n**本题分值按 COCI 原题设置，满分 $120$。**", "locale": "zh-CN"}}}
{"pid": "P8036", "type": "P", "difficulty": 4, "samples": [["3\n1 1 1\n2 0 2\n3 1 1", "1\n8\n4"], ["3\n4 1 1\n5 2 3\n5 0 3", "6\n4\n24"], ["4\n7 2 5\n6 1 1\n10 4 5\n6 2 2", "6\n20\n5\n4"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #7] Prosti", "background": "", "description": "现有 $Q$ 组询问，每次给出正整数 $K,L,M$。定义全体高兴数的集合为 $\\{x|x \\le M$ 或 $x$ 为质数$\\}$。\n\n对于每次询问，求一个正整数 $i$，使得 $[i,i+K-1]$ 内恰好有 $L$ 个高兴数。如果不大于 $10^7$ 的 $i$ 值不存在，输出 $-1$。", "inputFormat": "第一行，一个整数 $Q$。\n\n接下来的 $Q$ 行，每行三个整数 $K_i,L_i,M_i$。", "outputFormat": "输出 $Q$ 行，每行对应一次询问的答案。", "hint": "**【数据规模与约定】**\n\n- 对于 $100\\%$ 的数据，$1 \\le Q \\le 10^5$，$1 \\le K_i,M_i \\le 150$，$0 \\le L_i \\le K_i$。\n\n**【提示与说明】**\n\n欢迎大家通过私信或发帖对自行编写的 [Special Judge](https://www.luogu.com.cn/paste/rj308p4r) 进行 hack。\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 5 Prosti_。**\n\n**本题分值按 COCI 原题设置，满分 $140$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #7] Prosti", "background": "", "description": "现有 $Q$ 组询问，每次给出正整数 $K,L,M$。定义全体高兴数的集合为 $\\{x|x \\le M$ 或 $x$ 为质数$\\}$。\n\n对于每次询问，求一个正整数 $i$，使得 $[i,i+K-1]$ 内恰好有 $L$ 个高兴数。如果不大于 $10^7$ 的 $i$ 值不存在，输出 $-1$。", "inputFormat": "第一行，一个整数 $Q$。\n\n接下来的 $Q$ 行，每行三个整数 $K_i,L_i,M_i$。", "outputFormat": "输出 $Q$ 行，每行对应一次询问的答案。", "hint": "**【数据规模与约定】**\n\n- 对于 $100\\%$ 的数据，$1 \\le Q \\le 10^5$，$1 \\le K_i,M_i \\le 150$，$0 \\le L_i \\le K_i$。\n\n**【提示与说明】**\n\n欢迎大家通过私信或发帖对自行编写的 [Special Judge](https://www.luogu.com.cn/paste/rj308p4r) 进行 hack。\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 5 Prosti_。**\n\n**本题分值按 COCI 原题设置，满分 $140$。**", "locale": "zh-CN"}}}
{"pid": "P8037", "type": "P", "difficulty": 6, "samples": [["5\n5 4 3 3 2\n3\n1 2\n1 1\n2 4", "2\n1\n3"], ["6\n6 6 5 1 6 2\n3\n4 5\n4 6\n1 4", "2\n2\n4"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #7] Prokletnik", "background": "", "description": "定义魔法序列为满足所有元素的大小均在第一个元素和最后一个元素之间的序列。\n\n现有一个元素个数为 $N$ 的数组 $a$。给出 $Q$ 次询问 $L,R$，求 $a$ 中下标在 $[L,R]$ 之间的最长的子魔法区间。", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个整数 $a_i$。\n\n第三行，一个整数 $Q$。\n\n接下来的 $Q$ 行，每行两个整数 $L,R$。", "outputFormat": "输出 $Q$ 行，每行对应一次询问的答案。", "hint": "**【数据规模与约定】**\n\n- 对于 $50\\%$ 的数据，$N,Q \\le 3 \\times 10^4$。\n- 对于 $100\\%$ 的数据，$1 \\le N,Q \\le 5 \\times 10^5$，$1 \\le a_i \\le 10^9$，$1 \\le L \\le R \\le N$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 6 Prokletnik_。**\n\n**本题分值按 COCI 原题设置，满分 $160$。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #7] Prokletnik", "background": "", "description": "定义魔法序列为满足所有元素的大小均在第一个元素和最后一个元素之间的序列。\n\n现有一个元素个数为 $N$ 的数组 $a$。给出 $Q$ 次询问 $L,R$，求 $a$ 中下标在 $[L,R]$ 之间的最长的子魔法区间。", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个整数 $a_i$。\n\n第三行，一个整数 $Q$。\n\n接下来的 $Q$ 行，每行两个整数 $L,R$。", "outputFormat": "输出 $Q$ 行，每行对应一次询问的答案。", "hint": "**【数据规模与约定】**\n\n- 对于 $50\\%$ 的数据，$N,Q \\le 3 \\times 10^4$。\n- 对于 $100\\%$ 的数据，$1 \\le N,Q \\le 5 \\times 10^5$，$1 \\le a_i \\le 10^9$，$1 \\le L \\le R \\le N$。\n\n**【提示与说明】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [#7](https://hsin.hr/coci/archive/2015_2016/contest7_tasks.pdf) _Task 6 Prokletnik_。**\n\n**本题分值按 COCI 原题设置，满分 $160$。**", "locale": "zh-CN"}}}
{"pid": "P8038", "type": "P", "difficulty": 1, "samples": [["4 3\n1 5 2\n2 3 4\n4 3 2\n5 4 6\n3\n-1 -1 2\n-1 3 2\n-1 -1 -1", "2\n1\n4"], ["3 8\n6 5 97 99 82 50 95 1\n85 62 11 64 94 84 88 19\n43 99 11 64 94 84 31 19\n3\n-1 -1 11 64 94 84 -1 19\n-1 -1 -1 99 -1 -1 -1 1\n95 -1 -1 -1 -1 80 -1 -1", "2\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #7] BAZA", "background": "", "description": "Mirko 在一家大型的 IT 公司获得了暑期实习的机会。这家公司建造了一个大型数据库，包含 $N$ 行 $M$ 列，第 $i$ 行第 $j$ 列上的整数是 $A_{i,j}$。\n\n在他实习的第一天，他收到了 $Q$ 次询问，每一次询问包含 $M$ 个整数 $B_1,B_2,\\dots,B_M$。但不幸的是，有些数在传输的过程中丢失了，数据库将它们替换为 $-1$。Mirko 需要回答数据库中有多少行和询问中的所有数匹配。形式化的说，Mirko 需要回答在范围 $[1,N]$ 内有多少个整数 $i$，满足 $\\forall j\\in[1,M]$，$B_j=-1$ 或 $B_j=A_{i,j}$。例如，如果 $M=3$，某一次询问为 $-1~3~2$，那么 Mirko 需要找到所有满足第一列为任意整数，第二列为 $3$，第三列为 $2$ 的行数。\n\nMirko 毕竟是刚开始实习的新人，因此他希望能够得到你的帮助。现在，请你帮助他回答这些询问！", "inputFormat": "第一行输入两个整数 $N,M$，分别表示数据库的行数和列数。  \n随后 $N$ 行，每行输入 $M$ 个整数，描述这个数据库。  \n随后一行输入一个整数 $Q$，表示询问次数。  \n随后 $Q$ 行，每行输入 $M$ 个整数，描述一次询问。\n", "outputFormat": "对于每次询问，输出一行一个整数，表示满足要求的行数。", "hint": "**【样例 1 解释】**\n\n对于第一次询问，第一行和第三行满足询问中第三列是 $2$ 的要求。  \n对于第二次询问，只有第三行满足询问中第二列是 $3$，第三列是 $2$ 的要求。  \n对于第三次询问，由于并没有对每一列上的数作出要求，因此所有行都满足要求。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant N,M\\leqslant 10^3$，$1\\leqslant Q\\leqslant 50$，$1\\leqslant A_{i,j}\\leqslant 10^6$，$B_j=-1$ 或 $1\\leqslant B_j\\leqslant 10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T1 BAZA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #7] BAZA", "background": "", "description": "Mirko 在一家大型的 IT 公司获得了暑期实习的机会。这家公司建造了一个大型数据库，包含 $N$ 行 $M$ 列，第 $i$ 行第 $j$ 列上的整数是 $A_{i,j}$。\n\n在他实习的第一天，他收到了 $Q$ 次询问，每一次询问包含 $M$ 个整数 $B_1,B_2,\\dots,B_M$。但不幸的是，有些数在传输的过程中丢失了，数据库将它们替换为 $-1$。Mirko 需要回答数据库中有多少行和询问中的所有数匹配。形式化的说，Mirko 需要回答在范围 $[1,N]$ 内有多少个整数 $i$，满足 $\\forall j\\in[1,M]$，$B_j=-1$ 或 $B_j=A_{i,j}$。例如，如果 $M=3$，某一次询问为 $-1~3~2$，那么 Mirko 需要找到所有满足第一列为任意整数，第二列为 $3$，第三列为 $2$ 的行数。\n\nMirko 毕竟是刚开始实习的新人，因此他希望能够得到你的帮助。现在，请你帮助他回答这些询问！", "inputFormat": "第一行输入两个整数 $N,M$，分别表示数据库的行数和列数。  \n随后 $N$ 行，每行输入 $M$ 个整数，描述这个数据库。  \n随后一行输入一个整数 $Q$，表示询问次数。  \n随后 $Q$ 行，每行输入 $M$ 个整数，描述一次询问。\n", "outputFormat": "对于每次询问，输出一行一个整数，表示满足要求的行数。", "hint": "**【样例 1 解释】**\n\n对于第一次询问，第一行和第三行满足询问中第三列是 $2$ 的要求。  \n对于第二次询问，只有第三行满足询问中第二列是 $3$，第三列是 $2$ 的要求。  \n对于第三次询问，由于并没有对每一列上的数作出要求，因此所有行都满足要求。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant N,M\\leqslant 10^3$，$1\\leqslant Q\\leqslant 50$，$1\\leqslant A_{i,j}\\leqslant 10^6$，$B_j=-1$ 或 $1\\leqslant B_j\\leqslant 10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T1 BAZA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8039", "type": "P", "difficulty": 2, "samples": [["10", "1 4"], ["27", "13 14\n8 10\n2 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #7] UZASTOPNI", "background": "**本题和 [P1147](https://www.luogu.com.cn/problem/P1147) 的区别仅在于连续自然数和的数据范围和输出格式。**", "description": "求出所有的和为 $N$ 的长度 $\\geqslant 2$ 的连续自然数段。", "inputFormat": "输入仅一行一个整数 $N$，表示连续自然数段的和。", "outputFormat": "输出若干行，每行两个整数，表示满足条件的连续自然数段中的第一个数和最后一个数，**按第一个数的值降序排列**。\n\n对于给定的输入数据，保证至少有一个解。", "hint": "**【样例 1 解释】**\n\n$10=1+2+3+4$，可以发现和为 $10$ 的满足要求的连续自然数段有且仅有一个。\n\n**【数据范围】**\n\n对于所有数据，$3\\leqslant N\\leqslant 10^{10}$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T2 UZASTOPNI_**，按照原题数据配置，满分 $80$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #7] UZASTOPNI", "background": "**本题和 [P1147](https://www.luogu.com.cn/problem/P1147) 的区别仅在于连续自然数和的数据范围和输出格式。**", "description": "求出所有的和为 $N$ 的长度 $\\geqslant 2$ 的连续自然数段。", "inputFormat": "输入仅一行一个整数 $N$，表示连续自然数段的和。", "outputFormat": "输出若干行，每行两个整数，表示满足条件的连续自然数段中的第一个数和最后一个数，**按第一个数的值降序排列**。\n\n对于给定的输入数据，保证至少有一个解。", "hint": "**【样例 1 解释】**\n\n$10=1+2+3+4$，可以发现和为 $10$ 的满足要求的连续自然数段有且仅有一个。\n\n**【数据范围】**\n\n对于所有数据，$3\\leqslant N\\leqslant 10^{10}$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T2 UZASTOPNI_**，按照原题数据配置，满分 $80$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8040", "type": "P", "difficulty": 2, "samples": [["3\nabc\nabc", "bca"], ["4\nbaba\nbaab", "abba"], ["5\naaabc\nabcba", "baaac"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #7] IGRA", "background": "Mirko 和 Slavko 对他们的滑雪旅行感到十分厌烦，于是他们开始玩一个新游戏。", "description": "首先，Mirko 指定了一个整数 $N$，然后 Slavko 写下了 $N$ 个字母，Mirko 写下了一个长度为 $N$ 的单词。Slavko 需要他写下的 $N$ 个字母组成一个单词，并且他的单词中没有一个位置上的字母与 Mirko 写下的单词中相同位置的字母相同。为了使得这个游戏具有挑战性，Mirko 还要求 Slavko 写下的单词是所有满足要求的单词中字典序最小的。这个单词**必定会存在**。介于 Mirko 和 Slavko 还很年轻，他们只知道 `a`、`b`、`c` 三个字母，因此他们写下的单词也都只会包含这三个字母。\n\n请帮助 Slavko 找到这样的单词。", "inputFormat": "第一行输入一个整数 $N$，表示 Mirko 和 Slavko 写下的单词包含的字母数。  \n第二行输入一个长度为 $N$ 的字符串，表示 Slavko 写下的单词中包含的所有字母。  \n第三行输入一个长度为 $N$ 的字符串，表示 Mirko 写下的单词。", "outputFormat": "输出一行一个长度为 $N$ 的字符串，表示满足要求的字典序最小的字符串。\n\n对于两个长度为 $N$ 的字符串 $a,b$，当且仅当存在一个整数 $p\\in[1,N]$，使得 $\\forall i\\in[1,p)$，$a_i=b_i$，且 $a_p<b_p$ 时，$a$ 的字典序小于 $b$。", "hint": "**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $1\\leqslant N\\leqslant 20$。  \n对于所有数据，$1\\leqslant N\\leqslant 5000$，所有字符串仅可能包含字母 `a`、`b`、`c`。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T3 IGRA_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #7] IGRA", "background": "Mirko 和 Slavko 对他们的滑雪旅行感到十分厌烦，于是他们开始玩一个新游戏。", "description": "首先，Mirko 指定了一个整数 $N$，然后 Slavko 写下了 $N$ 个字母，Mirko 写下了一个长度为 $N$ 的单词。Slavko 需要他写下的 $N$ 个字母组成一个单词，并且他的单词中没有一个位置上的字母与 Mirko 写下的单词中相同位置的字母相同。为了使得这个游戏具有挑战性，Mirko 还要求 Slavko 写下的单词是所有满足要求的单词中字典序最小的。这个单词**必定会存在**。介于 Mirko 和 Slavko 还很年轻，他们只知道 `a`、`b`、`c` 三个字母，因此他们写下的单词也都只会包含这三个字母。\n\n请帮助 Slavko 找到这样的单词。", "inputFormat": "第一行输入一个整数 $N$，表示 Mirko 和 Slavko 写下的单词包含的字母数。  \n第二行输入一个长度为 $N$ 的字符串，表示 Slavko 写下的单词中包含的所有字母。  \n第三行输入一个长度为 $N$ 的字符串，表示 Mirko 写下的单词。", "outputFormat": "输出一行一个长度为 $N$ 的字符串，表示满足要求的字典序最小的字符串。\n\n对于两个长度为 $N$ 的字符串 $a,b$，当且仅当存在一个整数 $p\\in[1,N]$，使得 $\\forall i\\in[1,p)$，$a_i=b_i$，且 $a_p<b_p$ 时，$a$ 的字典序小于 $b$。", "hint": "**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $1\\leqslant N\\leqslant 20$。  \n对于所有数据，$1\\leqslant N\\leqslant 5000$，所有字符串仅可能包含字母 `a`、`b`、`c`。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T3 IGRA_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8041", "type": "P", "difficulty": 3, "samples": [["2\n2 -10\n-4 -3", "10100"], ["4\n2 3\n-9 4\n-2 -13\n-1 -7", "111000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #7] POKLON", "background": "", "description": "今天，Kile 在庆祝他的生日。他最好的朋友 Ivan 决定送给他一个特殊的天平。这种天平的特点是它是递归的，即在每个梁的末端，要么有一个砝码，要么有一个新的天平，要么什么都没有。当然，如果天平左梁上的总质量大于右梁上的总质量，则天平会向左倾斜。类似地，如果右侧梁上的质量较大，则天平向右倾斜。否则，我们说天平是平衡的。注意这里和我们平常所了解的天平的平衡条件是不同的。下图是一个该类天平的例子。 \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vupj9ham.png)\n\nKile 真的很喜欢这份礼物，作为一名真正的计算机科学家，他立即尝试使用总质量尽可能小的新的砝码来平衡这份礼物。新砝码的重量应该是**正实数**。如果某一个天平本身是平衡的，并且它的所有子天平都是平衡的，那么我们说这个天平是平衡的。\n\n成功平衡天平后，Kile 决定在胸前纹上天平上砝码的总质量，以二进制表示，不带前导零。可以证明总质量必然是一个**正整数**。我们想知道 Kile 在胸前纹的的号码是多少，即以质量尽可能小的新的砝码来平衡这个天平之后，天平上所有砝码的总质量的二进制表示。", "inputFormat": "第一行输入一个整数 $N$，表示天平里面包含的子天平数量。根天平的编号为 $1$。  \n随后 $N$ 行，第 $i$ 行两个整数 $a,b$，其中，如果 $a$ 是正数，那么就表示 $i$ 号天平左端是一个天平，否则表示 $i$ 号天平左端是一个质量为 $-a$ 的砝码；如果 $b$ 是正数，那么就表示 $i$ 号天平右端是一个天平，否则表示 $i$ 号天平右端是一个质量为 $-b$ 的砝码。", "outputFormat": "输出仅一行，表示以质量尽可能小的新的砝码来平衡这个天平之后，天平上所有砝码的总质量的二进制表示。**不包含前导零**。", "hint": "**【样例 1 解释】**\n\n天平的初始状态见题目描述中的图片。Kile 将会在 $2$ 号天平的左侧放一个质量为 $1$ 的砝码，右侧放一个质量为 $2$ 的砝码。此时，两个天平都处于平衡状态，可以证明这种方案增加的新的砝码的质量是最小的。此时，天平上所有砝码的总质量是 $5+5+10=20$，其二进制表示为 $10100$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant N\\leqslant 10^6$，$-10^9\\leqslant a,b\\leqslant N$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T4 POKLON_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #7] POKLON", "background": "", "description": "今天，Kile 在庆祝他的生日。他最好的朋友 Ivan 决定送给他一个特殊的天平。这种天平的特点是它是递归的，即在每个梁的末端，要么有一个砝码，要么有一个新的天平，要么什么都没有。当然，如果天平左梁上的总质量大于右梁上的总质量，则天平会向左倾斜。类似地，如果右侧梁上的质量较大，则天平向右倾斜。否则，我们说天平是平衡的。注意这里和我们平常所了解的天平的平衡条件是不同的。下图是一个该类天平的例子。 \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vupj9ham.png)\n\nKile 真的很喜欢这份礼物，作为一名真正的计算机科学家，他立即尝试使用总质量尽可能小的新的砝码来平衡这份礼物。新砝码的重量应该是**正实数**。如果某一个天平本身是平衡的，并且它的所有子天平都是平衡的，那么我们说这个天平是平衡的。\n\n成功平衡天平后，Kile 决定在胸前纹上天平上砝码的总质量，以二进制表示，不带前导零。可以证明总质量必然是一个**正整数**。我们想知道 Kile 在胸前纹的的号码是多少，即以质量尽可能小的新的砝码来平衡这个天平之后，天平上所有砝码的总质量的二进制表示。", "inputFormat": "第一行输入一个整数 $N$，表示天平里面包含的子天平数量。根天平的编号为 $1$。  \n随后 $N$ 行，第 $i$ 行两个整数 $a,b$，其中，如果 $a$ 是正数，那么就表示 $i$ 号天平左端是一个天平，否则表示 $i$ 号天平左端是一个质量为 $-a$ 的砝码；如果 $b$ 是正数，那么就表示 $i$ 号天平右端是一个天平，否则表示 $i$ 号天平右端是一个质量为 $-b$ 的砝码。", "outputFormat": "输出仅一行，表示以质量尽可能小的新的砝码来平衡这个天平之后，天平上所有砝码的总质量的二进制表示。**不包含前导零**。", "hint": "**【样例 1 解释】**\n\n天平的初始状态见题目描述中的图片。Kile 将会在 $2$ 号天平的左侧放一个质量为 $1$ 的砝码，右侧放一个质量为 $2$ 的砝码。此时，两个天平都处于平衡状态，可以证明这种方案增加的新的砝码的质量是最小的。此时，天平上所有砝码的总质量是 $5+5+10=20$，其二进制表示为 $10100$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant N\\leqslant 10^6$，$-10^9\\leqslant a,b\\leqslant N$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T4 POKLON_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8042", "type": "P", "difficulty": 0, "samples": [["3\n0 0\n4 0\n3 -1", "1\n1 2 3"], ["4\n5 0\n0 5\n-2 -2\n-3 2", "2\n1 2 3\n1 2 4"], ["3\n-1 -1\n-2 -2\n-3 -3", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #7] PARALELOGRAMI", "background": "", "description": "最近，一个叫 _Parallelograms_ 的游戏迅速在网络上流行。游戏一开始有 $N$ 个点，每个点的坐标**互不相同**。每次操作你可以选择三个**不共线**的点 $A,B,C$，然后，画出点 $D$，使得四边形 $ACBD$ 是以 $AB$ 为对角线的平行四边形，然后把点 $C$ 移动到点 $D$。注意这样的点 $D$ 有且仅有一个。\n\n虽然在一开始所有点的坐标都互不相同，但是，你可以通过若干次操作使得某些点的坐标相同。与此同时，所有点的坐标的绝对值不能超过 $10^9$。\n\n现在，请你通过最多 $2500$ 次操作，使得最终所有点都在第一象限，或者报告不存在操作方案。请注意，**你并不需要求出操作次数最少的操作方案**，你只需要求出操作次数不超过 $2500$ 且满足题目要求的方案即可。", "inputFormat": "第一行输入一个整数 $N$，表示点的个数。  \n随后 $N$ 行，每行两个整数 $X_i,Y_i$，分别表示第 $i$ 个点的横坐标和纵坐标。", "outputFormat": "如果无解，输出一行 `-1`。\n\n否则，第一行输出一个整数 $M$，表示操作次数。  \n随后 $M$ 行，每行三个整数 $A,B,C$，表示一次操作中选择的三个点的编号。点 $C$ 按照题目描述部分所述规则变换，而点 $A,B$ 不做任何变换。", "hint": "**【数据范围】**\n\n对于所有数据，$3\\leqslant N\\leqslant 400$，$-10\\leqslant X_i,Y_i\\leqslant 10$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T5 PARALELOGRAMI_**，按照原题数据配置，满分 $140$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。\n\n感谢 [mutton](https://www.luogu.com.cn/user/137367) 提供本题的 [SPJ](https://www.luogu.com.cn/paste/ck8tv23j)，如有 hack 数据，请直接私信给 mutton。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #7] PARALELOGRAMI", "background": "", "description": "最近，一个叫 _Parallelograms_ 的游戏迅速在网络上流行。游戏一开始有 $N$ 个点，每个点的坐标**互不相同**。每次操作你可以选择三个**不共线**的点 $A,B,C$，然后，画出点 $D$，使得四边形 $ACBD$ 是以 $AB$ 为对角线的平行四边形，然后把点 $C$ 移动到点 $D$。注意这样的点 $D$ 有且仅有一个。\n\n虽然在一开始所有点的坐标都互不相同，但是，你可以通过若干次操作使得某些点的坐标相同。与此同时，所有点的坐标的绝对值不能超过 $10^9$。\n\n现在，请你通过最多 $2500$ 次操作，使得最终所有点都在第一象限，或者报告不存在操作方案。请注意，**你并不需要求出操作次数最少的操作方案**，你只需要求出操作次数不超过 $2500$ 且满足题目要求的方案即可。", "inputFormat": "第一行输入一个整数 $N$，表示点的个数。  \n随后 $N$ 行，每行两个整数 $X_i,Y_i$，分别表示第 $i$ 个点的横坐标和纵坐标。", "outputFormat": "如果无解，输出一行 `-1`。\n\n否则，第一行输出一个整数 $M$，表示操作次数。  \n随后 $M$ 行，每行三个整数 $A,B,C$，表示一次操作中选择的三个点的编号。点 $C$ 按照题目描述部分所述规则变换，而点 $A,B$ 不做任何变换。", "hint": "**【数据范围】**\n\n对于所有数据，$3\\leqslant N\\leqslant 400$，$-10\\leqslant X_i,Y_i\\leqslant 10$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T5 PARALELOGRAMI_**，按照原题数据配置，满分 $140$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。\n\n感谢 [mutton](https://www.luogu.com.cn/user/137367) 提供本题的 [SPJ](https://www.luogu.com.cn/paste/ck8tv23j)，如有 hack 数据，请直接私信给 mutton。", "locale": "zh-CN"}}}
{"pid": "P8043", "type": "P", "difficulty": 7, "samples": [["2\n2\n1 2", "2\n4"], ["2\n2\n1 1", "2\n6"], ["3\n3\n1 2 3", "3\n9\n27"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2016", "期望", "KMP 算法", "COCI（克罗地亚）", "概率生成函数"], "title": "[COCI 2016/2017 #7] KLAVIR", "background": null, "description": "年轻的 Alisa 喜欢只用一根手指弹钢琴。但是，由于 Alisa 从来都没学过弹钢琴，因此她的弹琴过程完全是随机的。更准确地说，她会**等概率**选择钢琴的 $N$ 个音调上的任意一个，并且**独立于之前所有选择的音调**。\n\nAlisa 的好朋友 Mirta 想要听一个连续的包含 $M$ 个音调 $A_1,A_2,\\dots,A_M$ 的曲子，但由于 Alisa 弹琴过程是完全随机的，Mirta 只想知道，对于所有的 $1\\leqslant i\\leqslant M$，Alisa 选择音调使 Mirta 第一次听到连续的音调 $A_1,A_2,\\dots,A_i$ 的**期望次数**。为了防止精度丢失，**答案对 $\\bf 10^9+7$ 取模**。", "inputFormat": "第一行输入一个整数 $N$，表示音调个数。  \n第二行输入一个整数 $M$，表示 Mirta 想要听的曲子包含的音调个数。  \n第三行输入 $M$ 个整数 $A_i$，表示曲子的第 $i$ 个音调。", "outputFormat": "输出 $M$ 行，每行一个正整数，第 $i$ 行表示 Alisa 选择音调使 Mirta 第一次听到连续的音调 $A_1,A_2,\\dots,A_i$ 的期望次数对 $\\bf 10^9+7$ 取模之后的结果。", "hint": "**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $1\\leqslant M\\leqslant 200$。  \n对于所有数据，$1\\leqslant N\\leqslant 100$，$1\\leqslant M\\leqslant 10^6$，$1\\leqslant A_i\\leqslant N$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T6 KLAVIR_**，按照原题数据配置，满分 $160$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #7] KLAVIR", "background": null, "description": "年轻的 Alisa 喜欢只用一根手指弹钢琴。但是，由于 Alisa 从来都没学过弹钢琴，因此她的弹琴过程完全是随机的。更准确地说，她会**等概率**选择钢琴的 $N$ 个音调上的任意一个，并且**独立于之前所有选择的音调**。\n\nAlisa 的好朋友 Mirta 想要听一个连续的包含 $M$ 个音调 $A_1,A_2,\\dots,A_M$ 的曲子，但由于 Alisa 弹琴过程是完全随机的，Mirta 只想知道，对于所有的 $1\\leqslant i\\leqslant M$，Alisa 选择音调使 Mirta 第一次听到连续的音调 $A_1,A_2,\\dots,A_i$ 的**期望次数**。为了防止精度丢失，**答案对 $\\bf 10^9+7$ 取模**。", "inputFormat": "第一行输入一个整数 $N$，表示音调个数。  \n第二行输入一个整数 $M$，表示 Mirta 想要听的曲子包含的音调个数。  \n第三行输入 $M$ 个整数 $A_i$，表示曲子的第 $i$ 个音调。", "outputFormat": "输出 $M$ 行，每行一个正整数，第 $i$ 行表示 Alisa 选择音调使 Mirta 第一次听到连续的音调 $A_1,A_2,\\dots,A_i$ 的期望次数对 $\\bf 10^9+7$ 取模之后的结果。", "hint": "**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $1\\leqslant M\\leqslant 200$。  \n对于所有数据，$1\\leqslant N\\leqslant 100$，$1\\leqslant M\\leqslant 10^6$，$1\\leqslant A_i\\leqslant N$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2016-2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST 7](https://hsin.hr/coci/archive/2016_2017/contest7_tasks.pdf) T6 KLAVIR_**，按照原题数据配置，满分 $160$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8044", "type": "P", "difficulty": 1, "samples": [["300\n500", "0\n500"], ["65743\n9651", "673\n95"], ["2341\n6785", "YODA\n6785"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #4] YODA", "background": "很久很久以前，在一个遥远的星系里，一个巨大的整数碰撞正在发生。", "description": "当两个整数碰撞时会发生什么？先将数位较少的数前不断添加前导 $0$ 直到和数位较高的数的数位数量相同为止。然后，从两个数的最低位开始，每次将两个数的对应数位进行比较，并删去较小的那个数位（如果这两个数位相等则**不执行任何操作**），不断向高数位执行上述操作，直到最高位为止。此时，将这两个数中没有删去的数位按顺序依次拼接，可以得到两个新数。\n\n例如，对于 $456328$ 和 $284315$ 这两个数，这两个的碰撞过程如下所示：\n\n| $4$ | $\\sout{~5~}$ | $6$ | $3$ | $2$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $\\sout{~2~}$ | $8$ | $\\sout{~4~}$ | $3$ | $\\sout{~1~}$ | $\\sout{~5~}$ |\n\n不难看出，碰撞之后得到的两个新数为 $46328$ 和 $83$。\n\n现在给定两个数 $n,m$，请求出这两个数进行碰撞之后分别得到的新数。如果某个数在进行碰撞之后，其数位都已经被删空了，则在输出中输出一行字符串 `YODA`。具体见『输出格式』部分。", "inputFormat": "第一行输入一个整数 $n$，表示要进行碰撞的第一个数。  \n第二行输入一个整数 $m$，表示要进行碰撞的第二个数。", "outputFormat": "输出共两行。\n\n第一行中，如果 $n$ 的数位已经删空，则输出一个字符串 `YODA`，否则输出一个整数，表示 $n$ 进行碰撞后得到的新数。  \n第二行中，如果 $m$ 的数位已经删空，则输出一个字符串 `YODA`，否则输出一个整数，表示 $m$ 进行碰撞后得到的新数。  ", "hint": "**【样例解释 2】**\n\n对于样例 $2$，这两个数碰撞的过程如下所示：\n\n| $6$ | $\\sout{~5~}$ | $7$ | $\\sout{~4~}$ | $3$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $\\sout{~0~}$ | $9$ | $\\sout{~6~}$ | $5$ | $\\sout{~1~}$ |\n\n因此，碰撞之后得到的两个新数分别是 $673$ 和 $95$。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，保证 $n$ 和 $m$ 由三位数字组成。  \n对于所有数据，$1\\leqslant n,m\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T1 YODA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #4] YODA", "background": "很久很久以前，在一个遥远的星系里，一个巨大的整数碰撞正在发生。", "description": "当两个整数碰撞时会发生什么？先将数位较少的数前不断添加前导 $0$ 直到和数位较高的数的数位数量相同为止。然后，从两个数的最低位开始，每次将两个数的对应数位进行比较，并删去较小的那个数位（如果这两个数位相等则**不执行任何操作**），不断向高数位执行上述操作，直到最高位为止。此时，将这两个数中没有删去的数位按顺序依次拼接，可以得到两个新数。\n\n例如，对于 $456328$ 和 $284315$ 这两个数，这两个的碰撞过程如下所示：\n\n| $4$ | $\\sout{~5~}$ | $6$ | $3$ | $2$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $\\sout{~2~}$ | $8$ | $\\sout{~4~}$ | $3$ | $\\sout{~1~}$ | $\\sout{~5~}$ |\n\n不难看出，碰撞之后得到的两个新数为 $46328$ 和 $83$。\n\n现在给定两个数 $n,m$，请求出这两个数进行碰撞之后分别得到的新数。如果某个数在进行碰撞之后，其数位都已经被删空了，则在输出中输出一行字符串 `YODA`。具体见『输出格式』部分。", "inputFormat": "第一行输入一个整数 $n$，表示要进行碰撞的第一个数。  \n第二行输入一个整数 $m$，表示要进行碰撞的第二个数。", "outputFormat": "输出共两行。\n\n第一行中，如果 $n$ 的数位已经删空，则输出一个字符串 `YODA`，否则输出一个整数，表示 $n$ 进行碰撞后得到的新数。  \n第二行中，如果 $m$ 的数位已经删空，则输出一个字符串 `YODA`，否则输出一个整数，表示 $m$ 进行碰撞后得到的新数。  ", "hint": "**【样例解释 2】**\n\n对于样例 $2$，这两个数碰撞的过程如下所示：\n\n| $6$ | $\\sout{~5~}$ | $7$ | $\\sout{~4~}$ | $3$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $\\sout{~0~}$ | $9$ | $\\sout{~6~}$ | $5$ | $\\sout{~1~}$ |\n\n因此，碰撞之后得到的两个新数分别是 $673$ 和 $95$。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，保证 $n$ 和 $m$ 由三位数字组成。  \n对于所有数据，$1\\leqslant n,m\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T1 YODA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8045", "type": "P", "difficulty": 2, "samples": [["5\nUPIT 1 b\nUPIT 3 b\nSMJER 4\nUPIT 7 a\nUPIT 10 z", "0\n1\n2\n1"], ["5\nSMJER 1\nSMJER 2\nSMJER 3\nUPIT 5 a\nUPIT 7 w", "2\n1"], ["4\nUPIT 100 a\nUPIT 200 c\nUPIT 300 a\nUPIT 400 b", "4\n8\n12\n16"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #4] HAN", "background": "Han 不想单独学习，所以他邀请他的朋友 Dominik 过来。他们一起学习了一个晚上之后，Dominik 回家了。令他吃惊的是，一名警察拦住了他，认为他**喝醉了**。众所周知，在这种情况下，通过解决一系列精心设计的任务，测试一个人的认知能力，可以证明他是否清醒。如果我们能相信 Dominik，对话将会是这样的——\n\n> 警察：从简单点的问题开始吧……冒泡排序的复杂度是多少？  \nDominik：太简单了，$\\mathcal O(n^2)$。  \n警察：很好，下一题。请倒着念英文字母表。  \nDominik：太无聊了，$\\texttt{zyxwvutsrqponmlkjihgfedcba}$。  \n警察：你这显然是背的，不算数。再来考你一题吧。想象一下，英文字母表中的从 $\\texttt{a}$ 到 $\\texttt{z}$ 的所有字母以顺时针顺次排列成一个环。初始时，你从字母 $\\texttt{a}$ 开始，顺时针念字母。每念完一个字母，我可以告诉你按照相反方向念字母，或者询问你到目前为止某个字母你念了多少次。准备好了吗？开始！  \nDominik：唔……$\\texttt{a}$、$\\texttt{b}$、$\\texttt{c}$……\n\n警察的最后一个问题显然难倒了 Dominik。现在，请你帮助 Dominik 回答这些问题。", "description": "具体地，警察在接下来将会发出 $q$ 次命令，每次命令为以下两种命令中的一种：\n\n- $\\bf SMJER~n$：在 Dominik 说完第 $n$ 个字母之后，他必须开始按照与当前方向相反的方向念字母。\n- $\\bf UPIT~n~x$：Dominik 需要回答在他念的前 $n$ 个字母中，字母 $x$ 出现了多少次。\n\n你需要对于每次 $\\bf UPIT~n~x$ 命令输出答案。", "inputFormat": "第一行一个整数 $q$，表示警察发出的命令数。  \n随后 $q$ 行，描述 $q$ 次命令。每行先输入一个字符串 $s$ 和一个整数 $n$。如果 $s$ 是 $\\bf UPIT$，则在输入完一个整数 $n$ 之后还需要输入一个字符 $x$。\n\n数据保证对于所有 $q$ 次命令，$n$ 严格递增。形式化地说，$\\forall i\\in [1,q)$，$n_i<n_{i+1}$。", "outputFormat": "对于每次 $\\bf UPIT~n~x$ 命令，输出一行一个整数，表示在 Dominik 说的前 $n$ 个字母中，字符 $x$ 出现的次数。", "hint": "**【样例 1 解释】**\n\nDominik 说的前 $10$ 个字母依次是：$\\texttt{a}$，$\\texttt{b}$，$\\texttt{c}$，$\\texttt{d}$，$\\texttt{c}$，$\\texttt{b}$，$\\texttt{a}$，$\\texttt{z}$，$\\texttt{y}$，$\\texttt{x}$。  \n\n**【样例 2 解释】**\n\nDominik 说的前 $7$ 个字母依次是：$\\texttt{a}$，$\\texttt{z}$，$\\texttt{a}$，$\\texttt{z}$，$\\texttt{y}$，$\\texttt{x}$，$\\texttt{w}$。\n\n**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $n\\leqslant 1000$。  \n对于 $60\\%$ 的数据，保证 $n\\leqslant 10^5$。  \n对于所有数据，$1\\leqslant q\\leqslant 10^5$，$1\\leqslant n\\leqslant 10^9$，$x$ 仅包含小写字母。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T2 HAN_**，按照原题数据配置，满分 $80$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #4] HAN", "background": "Han 不想单独学习，所以他邀请他的朋友 Dominik 过来。他们一起学习了一个晚上之后，Dominik 回家了。令他吃惊的是，一名警察拦住了他，认为他**喝醉了**。众所周知，在这种情况下，通过解决一系列精心设计的任务，测试一个人的认知能力，可以证明他是否清醒。如果我们能相信 Dominik，对话将会是这样的——\n\n> 警察：从简单点的问题开始吧……冒泡排序的复杂度是多少？  \nDominik：太简单了，$\\mathcal O(n^2)$。  \n警察：很好，下一题。请倒着念英文字母表。  \nDominik：太无聊了，$\\texttt{zyxwvutsrqponmlkjihgfedcba}$。  \n警察：你这显然是背的，不算数。再来考你一题吧。想象一下，英文字母表中的从 $\\texttt{a}$ 到 $\\texttt{z}$ 的所有字母以顺时针顺次排列成一个环。初始时，你从字母 $\\texttt{a}$ 开始，顺时针念字母。每念完一个字母，我可以告诉你按照相反方向念字母，或者询问你到目前为止某个字母你念了多少次。准备好了吗？开始！  \nDominik：唔……$\\texttt{a}$、$\\texttt{b}$、$\\texttt{c}$……\n\n警察的最后一个问题显然难倒了 Dominik。现在，请你帮助 Dominik 回答这些问题。", "description": "具体地，警察在接下来将会发出 $q$ 次命令，每次命令为以下两种命令中的一种：\n\n- $\\bf SMJER~n$：在 Dominik 说完第 $n$ 个字母之后，他必须开始按照与当前方向相反的方向念字母。\n- $\\bf UPIT~n~x$：Dominik 需要回答在他念的前 $n$ 个字母中，字母 $x$ 出现了多少次。\n\n你需要对于每次 $\\bf UPIT~n~x$ 命令输出答案。", "inputFormat": "第一行一个整数 $q$，表示警察发出的命令数。  \n随后 $q$ 行，描述 $q$ 次命令。每行先输入一个字符串 $s$ 和一个整数 $n$。如果 $s$ 是 $\\bf UPIT$，则在输入完一个整数 $n$ 之后还需要输入一个字符 $x$。\n\n数据保证对于所有 $q$ 次命令，$n$ 严格递增。形式化地说，$\\forall i\\in [1,q)$，$n_i<n_{i+1}$。", "outputFormat": "对于每次 $\\bf UPIT~n~x$ 命令，输出一行一个整数，表示在 Dominik 说的前 $n$ 个字母中，字符 $x$ 出现的次数。", "hint": "**【样例 1 解释】**\n\nDominik 说的前 $10$ 个字母依次是：$\\texttt{a}$，$\\texttt{b}$，$\\texttt{c}$，$\\texttt{d}$，$\\texttt{c}$，$\\texttt{b}$，$\\texttt{a}$，$\\texttt{z}$，$\\texttt{y}$，$\\texttt{x}$。  \n\n**【样例 2 解释】**\n\nDominik 说的前 $7$ 个字母依次是：$\\texttt{a}$，$\\texttt{z}$，$\\texttt{a}$，$\\texttt{z}$，$\\texttt{y}$，$\\texttt{x}$，$\\texttt{w}$。\n\n**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $n\\leqslant 1000$。  \n对于 $60\\%$ 的数据，保证 $n\\leqslant 10^5$。  \n对于所有数据，$1\\leqslant q\\leqslant 10^5$，$1\\leqslant n\\leqslant 10^9$，$x$ 仅包含小写字母。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T2 HAN_**，按照原题数据配置，满分 $80$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8046", "type": "P", "difficulty": 3, "samples": [["7 2 3\n1 2\n2 1\n4 7", "1\n1\n4"], ["9 3 3\n8 9\n5 7\n8 4", "2\n2\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #4] CHEWBACCA", "background": "**本套赛题 T3 为 [P8053](https://www.luogu.com.cn/problem/P8053)。**", "description": "一棵 $n$ 个节点的 $k$ 级树是按照如下方式构造出来的：\n\n- 首先，新建根节点，并将其编号为 $1$。\n- 随后重复如下步骤直至节点总数恰好为 $n$：\n  - 设上一个新增节点的编号为 $x$。\n  - 在上一层中从左往右找到第一个儿子个数 $<k$ 的节点。\n    - 如果该节点上没有儿子，则在该节点下新增一个儿子节点，编号为 $x+1$，并在点 $x+1$ 和我们找到的该父亲节点之间连一条长度为 $1$ 的边。\n    - 否则，在该节点最近添加的儿子节点的右边新增一个儿子节点，编号为 $x+1$，并在点 $x+1$ 和我们找到的该父亲节点之间连一条长度为 $1$ 的边。\n  - 如果在当前层没有找到儿子个数 $<k$ 的节点，则跳到下一层。\n\n例如，下图为按照如上方法构造出来的包含 $9$ 个节点的 $3$ 级树：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ex7c671v.png)\n\n现在，你得到了这棵包含 $n$ 个节点的 $k$ 级树，你需要回答 $q$ 次询问。每次询问给定两个整数 $x,y$，你需要回答在该树中节点 $x$ 到节点 $y$ 的最短路径长度。", "inputFormat": "第一行输入三个整数 $n,k,q$，分别表示树的节点数、级数和询问次数。  \n随后 $q$ 行，每行输入两个整数 $x,y$，表示本次询问的两个节点。", "outputFormat": "输出 $q$ 行，每行一个整数，表示节点 $x$ 到节点 $y$ 的最短路径长度。", "hint": "**【样例 1 解释】**\n\n下图是样例 1 中构造出来的树：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v7semhvp.png)\n\n不难发现，对于第 $1$、$2$ 次询问，由于节点 $2$ 是节点 $1$ 的儿子节点，因此这两个点之间的最短路径长度恰好为 $1$。而对于第 $3$ 次询问，一条最短路径是 $4\\rightarrow 2\\rightarrow 1\\rightarrow 3\\rightarrow 7$。因此其最短路径长度为 $4$。\n\n**【样例 2 解释】**\n\n样例 2 构造出来的树见『题目描述』部分。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，保证 $1\\leqslant n,q\\leqslant 1000$。  \n对于 $50\\%$ 的数据，保证 $1\\leqslant n\\leqslant 10^5$。  \n对于所有数据，$1\\leqslant n\\leqslant 10^{15}$，$1\\leqslant k\\leqslant 1000$，$1\\leqslant q\\leqslant 10^5$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T4 CHEWBACCA_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #4] CHEWBACCA", "background": "**本套赛题 T3 为 [P8053](https://www.luogu.com.cn/problem/P8053)。**", "description": "一棵 $n$ 个节点的 $k$ 级树是按照如下方式构造出来的：\n\n- 首先，新建根节点，并将其编号为 $1$。\n- 随后重复如下步骤直至节点总数恰好为 $n$：\n  - 设上一个新增节点的编号为 $x$。\n  - 在上一层中从左往右找到第一个儿子个数 $<k$ 的节点。\n    - 如果该节点上没有儿子，则在该节点下新增一个儿子节点，编号为 $x+1$，并在点 $x+1$ 和我们找到的该父亲节点之间连一条长度为 $1$ 的边。\n    - 否则，在该节点最近添加的儿子节点的右边新增一个儿子节点，编号为 $x+1$，并在点 $x+1$ 和我们找到的该父亲节点之间连一条长度为 $1$ 的边。\n  - 如果在当前层没有找到儿子个数 $<k$ 的节点，则跳到下一层。\n\n例如，下图为按照如上方法构造出来的包含 $9$ 个节点的 $3$ 级树：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ex7c671v.png)\n\n现在，你得到了这棵包含 $n$ 个节点的 $k$ 级树，你需要回答 $q$ 次询问。每次询问给定两个整数 $x,y$，你需要回答在该树中节点 $x$ 到节点 $y$ 的最短路径长度。", "inputFormat": "第一行输入三个整数 $n,k,q$，分别表示树的节点数、级数和询问次数。  \n随后 $q$ 行，每行输入两个整数 $x,y$，表示本次询问的两个节点。", "outputFormat": "输出 $q$ 行，每行一个整数，表示节点 $x$ 到节点 $y$ 的最短路径长度。", "hint": "**【样例 1 解释】**\n\n下图是样例 1 中构造出来的树：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v7semhvp.png)\n\n不难发现，对于第 $1$、$2$ 次询问，由于节点 $2$ 是节点 $1$ 的儿子节点，因此这两个点之间的最短路径长度恰好为 $1$。而对于第 $3$ 次询问，一条最短路径是 $4\\rightarrow 2\\rightarrow 1\\rightarrow 3\\rightarrow 7$。因此其最短路径长度为 $4$。\n\n**【样例 2 解释】**\n\n样例 2 构造出来的树见『题目描述』部分。\n\n**【数据范围】**\n\n对于 $20\\%$ 的数据，保证 $1\\leqslant n,q\\leqslant 1000$。  \n对于 $50\\%$ 的数据，保证 $1\\leqslant n\\leqslant 10^5$。  \n对于所有数据，$1\\leqslant n\\leqslant 10^{15}$，$1\\leqslant k\\leqslant 1000$，$1\\leqslant q\\leqslant 10^5$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T4 CHEWBACCA_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8047", "type": "P", "difficulty": 5, "samples": [["2\n1 2 0\n1", "1\n0"], ["3\n1 2 4\n2 3 4\n1 2", "1\n0\n0"], ["4\n1 2 0\n2 3 0\n2 4 0\n3 1 2", "6\n3\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #4] GALAKSIJA", "background": "", "description": "很久以前，在一个很远很远的星系里，有 $n$ 颗行星和 $n−1$ 条连接所有行星的边。换句话说，行星和边形成了一棵树。此外，每条边上都有一个权值。\n\n行星对 $(A,B)$ 是**无聊的**，当且仅当如下条件成立：\n\n- $A\\neq B$。\n- 行星 $A,B$ 可以互相到达。\n- 行星 $A,B$ 之间的路径上的所有边的权值的**异或和**等于 $0$。\n\n现在，由于不可控力，该星系的所有边会**按一定顺序**摧毁。请求出初始时和每次摧毁一条边之后**无聊的**行星对数量。", "inputFormat": "第一行输入一个整数 $n$，表示行星的数量。  \n随后 $n-1$ 行，每行三个整数 $a_i,b_i,z_i$，分别表示第 $i$ 条边连接的两个点的编号和第 $i$ 条边的权值。  \n随后一行输入 $n-1$ 个整数，第 $i$ 个整数 $p_i$ 表示第 $i$ 次摧毁的边的编号。", "outputFormat": "输出 $n$ 行，每行一个整数，其中第 $i$ 个整数表示在按顺序摧毁了 $i-1$ 条边后**无聊的**行星对数量。", "hint": "**【样例 1 解释】**\n\n初始时，只有行星对 $(1,2)$ 是无聊的。在毁坏了唯一的一条边之后，就不再存在无聊的行星对了。\n\n**【样例 2 解释】**\n\n初始时，只有行星对 $(1,3)$ 是无聊的。在破坏了 $1$ 号边之后，由于行星 $1,3$ 之间不能互相到达，因此之后不再存在无聊的行星对了。\n\n**【样例 3 解释】**\n\n初始时，所有的行星对都是无聊的，因为所有行星对中的两个行星之间的路径上的所有边的权值的异或和是 $0$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 10^5$，$1\\leqslant a_i,b_i\\leqslant n$，$0\\leqslant z_i\\leqslant 10^9$。\n\n本题一共 $10$ 个测试点，每个测试点的数据范围如下：\n\n| 测试点 | $n\\leqslant $ | 特殊性质 A |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1000$ | $\\surd$ |\n| $2$ | $1000$ | $\\times$ |\n| $3\\sim 4$ | $10^5$ | $\\surd$ |\n| $5\\sim 10$ | $10^5$ | $\\times$ |\n\n特殊性质 A：每条边的权值为 $0$。换句话说，$\\forall i\\in[1,n)$，$z_i=0$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T5 GALAKSIJA_**，按照原题数据配置，满分 $140$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #4] GALAKSIJA", "background": "", "description": "很久以前，在一个很远很远的星系里，有 $n$ 颗行星和 $n−1$ 条连接所有行星的边。换句话说，行星和边形成了一棵树。此外，每条边上都有一个权值。\n\n行星对 $(A,B)$ 是**无聊的**，当且仅当如下条件成立：\n\n- $A\\neq B$。\n- 行星 $A,B$ 可以互相到达。\n- 行星 $A,B$ 之间的路径上的所有边的权值的**异或和**等于 $0$。\n\n现在，由于不可控力，该星系的所有边会**按一定顺序**摧毁。请求出初始时和每次摧毁一条边之后**无聊的**行星对数量。", "inputFormat": "第一行输入一个整数 $n$，表示行星的数量。  \n随后 $n-1$ 行，每行三个整数 $a_i,b_i,z_i$，分别表示第 $i$ 条边连接的两个点的编号和第 $i$ 条边的权值。  \n随后一行输入 $n-1$ 个整数，第 $i$ 个整数 $p_i$ 表示第 $i$ 次摧毁的边的编号。", "outputFormat": "输出 $n$ 行，每行一个整数，其中第 $i$ 个整数表示在按顺序摧毁了 $i-1$ 条边后**无聊的**行星对数量。", "hint": "**【样例 1 解释】**\n\n初始时，只有行星对 $(1,2)$ 是无聊的。在毁坏了唯一的一条边之后，就不再存在无聊的行星对了。\n\n**【样例 2 解释】**\n\n初始时，只有行星对 $(1,3)$ 是无聊的。在破坏了 $1$ 号边之后，由于行星 $1,3$ 之间不能互相到达，因此之后不再存在无聊的行星对了。\n\n**【样例 3 解释】**\n\n初始时，所有的行星对都是无聊的，因为所有行星对中的两个行星之间的路径上的所有边的权值的异或和是 $0$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 10^5$，$1\\leqslant a_i,b_i\\leqslant n$，$0\\leqslant z_i\\leqslant 10^9$。\n\n本题一共 $10$ 个测试点，每个测试点的数据范围如下：\n\n| 测试点 | $n\\leqslant $ | 特殊性质 A |\n| :-----------: | :-----------: | :-----------: |\n| $1$ | $1000$ | $\\surd$ |\n| $2$ | $1000$ | $\\times$ |\n| $3\\sim 4$ | $10^5$ | $\\surd$ |\n| $5\\sim 10$ | $10^5$ | $\\times$ |\n\n特殊性质 A：每条边的权值为 $0$。换句话说，$\\forall i\\in[1,n)$，$z_i=0$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T5 GALAKSIJA_**，按照原题数据配置，满分 $140$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8048", "type": "P", "difficulty": 4, "samples": [["2 3 10\n0 0 D\n10 1 L", "10.0\n10.0\n0.0"], ["4 3 7\n1 0 D\n3 0 D\n4 1 L\n6 2 D", "10.0\n4.0\n1.0"], ["4 4 5\n1 1 D\n3 3 L\n4 2 D\n5 0 L", "2.5\n4.0\n2.5\n4.0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #4] ENDOR", "background": "", "description": "如果我们相信《吉尼斯世界纪录大全》的话，在布满森林的 Endor 卫星上，有一根全银河系最长的棍子。在那根 $L$ 米长的棍子上有 $n$ 只欢快的变色龙。每只变色龙以 $1$ 米/秒的恒定速度沿着棍子在两个可能的方向（左或右）中的一个方向上移动，并以可能的 $k$ 种颜色之一着色。\n\n众所周知，Endor 卫星上的变色龙崇拜古老的蚂蚁法则，该法则规定变色龙必须沿着棍子行走直到走到棍子的末端，并且当与另一只变色龙发生碰撞时，该变色龙必须转过 $180$ 度，继续朝相反的方向行走。此外，在向左移动着色为 $a$ 的变色龙与向右移动的着色为 $b$ 的变色龙发生碰撞后，碰撞前向左移动的变色龙采用碰撞前向右移动的变色龙的颜色 $b$，而在碰撞前向右移动的变色龙会采用新的颜色 $(a+b)\\bmod k$。\n\n如果给你所有变色龙的初始位置、颜色和运动方向，对于每种颜色，确定采用该种颜色的变色龙在离开棍子之前的总行程。", "inputFormat": "第一行输入三个整数 $n,k,L$，分别表示变色龙的只数，颜色的种数和棍子的长度。  \n随后 $n$ 行，每行两个整数 $d_i,b_i$ 和一个字符 `L` 或 `D`，其中 $d_i,b_i$ 分别表示第 $i$ 只变色龙到棍子**左端**的距离和第 $i$ 只变色龙的颜色，字符如果是 `L`，则表示第 $i$ 只变色龙初始时面朝左边，否则表示第 $i$ 只变色龙初始时面朝右边。保证 $d_i$ 两两不同且按升序给出。", "outputFormat": "输出 $k$ 行，第 $i$ 行输出一个实数，表示采用第 $i-1$ 种颜色的变色龙离开棍子之前的总行程，**保留一位小数**。可以证明，答案要么是整数，要么是形如 $\\texttt{x.5}$ 的一位小数。", "hint": "**【样例 1 解释】**\n\n两只变色龙在行走了 $5$ 米之后发生碰撞。在此之后，$1$ 号变色龙的颜色变为 $0$，$2$ 号变色龙的颜色变为 $1$，然后它们各又继续走了 $5$ 米然后离开棍子。因此，采用第 $0$ 种颜色和第 $1$ 种颜色的变色龙各走了 $10$ 米，在此过程中不存在采用第 $2$ 种颜色的变色龙。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，保证 $1\\leqslant n\\leqslant 3000$。  \n对于所有数据，$1\\leqslant n\\leqslant 10^5$，$1\\leqslant k\\leqslant 40$，$1\\leqslant L\\leqslant 10^6$，$0\\leqslant d_i\\leqslant L$，$0\\leqslant b_i<k$，$d_{i-1}<d_i$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T6 ENDOR_**，按照原题数据配置，满分 $160$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #4] ENDOR", "background": "", "description": "如果我们相信《吉尼斯世界纪录大全》的话，在布满森林的 Endor 卫星上，有一根全银河系最长的棍子。在那根 $L$ 米长的棍子上有 $n$ 只欢快的变色龙。每只变色龙以 $1$ 米/秒的恒定速度沿着棍子在两个可能的方向（左或右）中的一个方向上移动，并以可能的 $k$ 种颜色之一着色。\n\n众所周知，Endor 卫星上的变色龙崇拜古老的蚂蚁法则，该法则规定变色龙必须沿着棍子行走直到走到棍子的末端，并且当与另一只变色龙发生碰撞时，该变色龙必须转过 $180$ 度，继续朝相反的方向行走。此外，在向左移动着色为 $a$ 的变色龙与向右移动的着色为 $b$ 的变色龙发生碰撞后，碰撞前向左移动的变色龙采用碰撞前向右移动的变色龙的颜色 $b$，而在碰撞前向右移动的变色龙会采用新的颜色 $(a+b)\\bmod k$。\n\n如果给你所有变色龙的初始位置、颜色和运动方向，对于每种颜色，确定采用该种颜色的变色龙在离开棍子之前的总行程。", "inputFormat": "第一行输入三个整数 $n,k,L$，分别表示变色龙的只数，颜色的种数和棍子的长度。  \n随后 $n$ 行，每行两个整数 $d_i,b_i$ 和一个字符 `L` 或 `D`，其中 $d_i,b_i$ 分别表示第 $i$ 只变色龙到棍子**左端**的距离和第 $i$ 只变色龙的颜色，字符如果是 `L`，则表示第 $i$ 只变色龙初始时面朝左边，否则表示第 $i$ 只变色龙初始时面朝右边。保证 $d_i$ 两两不同且按升序给出。", "outputFormat": "输出 $k$ 行，第 $i$ 行输出一个实数，表示采用第 $i-1$ 种颜色的变色龙离开棍子之前的总行程，**保留一位小数**。可以证明，答案要么是整数，要么是形如 $\\texttt{x.5}$ 的一位小数。", "hint": "**【样例 1 解释】**\n\n两只变色龙在行走了 $5$ 米之后发生碰撞。在此之后，$1$ 号变色龙的颜色变为 $0$，$2$ 号变色龙的颜色变为 $1$，然后它们各又继续走了 $5$ 米然后离开棍子。因此，采用第 $0$ 种颜色和第 $1$ 种颜色的变色龙各走了 $10$ 米，在此过程中不存在采用第 $2$ 种颜色的变色龙。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，保证 $1\\leqslant n\\leqslant 3000$。  \n对于所有数据，$1\\leqslant n\\leqslant 10^5$，$1\\leqslant k\\leqslant 40$，$1\\leqslant L\\leqslant 10^6$，$0\\leqslant d_i\\leqslant L$，$0\\leqslant b_i<k$，$d_{i-1}<d_i$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST 4](https://hsin.hr/coci/archive/2015_2016/contest4_tasks.pdf) T6 ENDOR_**，按照原题数据配置，满分 $160$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P8049", "type": "P", "difficulty": 4, "samples": [["5 10000\n1\n1\n1\n1\n1 ", "4\n4\n2\n2\n0 "], ["5 9\n1\n1\n10\n1\n9 ", "2\n0\n0\n2\n0 "], ["8 3\n1\n1\n1\n1\n1\n1\n1\n1 ", "6\n6\n6\n4\n4\n2\n2\n0 "]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2010", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2010/2011 #5] DVONIZ（加强版）", "background": "题面与[原题P7635 [COCI2010-2011#5] DVONIZ](https://www.luogu.com.cn/problem/P7635)无异，仅有数据范围，时空限制与分值不同。", "description": "当前 $K$ 个元素的和或最后 $K$ 个元素的和都不大于 $S$ 时，我们说这个 $2\\times K$ 个元素的序列是有趣的。\n\n给出一个长度为 $N$ 的序列 $A$。对于每个元素，输出从该元素开始的最长的有趣的子段。", "inputFormat": "第一行包含整数 $N$ 和 $S$。\n\n下面的 $N$ 行，每行包含序列 $A$ 中的一个整数 $A_i$。这些整数都是正的且它们的和不超过 $2\\times 10^9$。", "outputFormat": "输出共 $N$ 行。第 $i$ 行包含一个整数，表示从第 $i$ 元素开始的最长的有趣的子段的长度。\n\n如果当前位置上没有有趣的子段，输出 `0`。", "hint": "**【样例解释#1】**\n\n对于样例 $1$ 的第一个位置，一共有 $4$ 个子段，且都满足条件，故取最长的长度为 $4$ 的子段。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，$2\\le N \\le 200$。\n\n对于 $50\\%$ 的数据，$2\\le N \\le 5 \\times 10^3$。\n\n对于 $70\\%$ 的数据，$2 \\le N \\le 2 \\times 10^5$。\n\n对于 $100\\%$ 的数据，$2\\le N \\le 3 \\times 10^6$，$1\\le S \\le 10^9$，$1\\le A_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2010/2011 #5] DVONIZ（加强版）", "background": "题面与[原题P7635 [COCI2010-2011#5] DVONIZ](https://www.luogu.com.cn/problem/P7635)无异，仅有数据范围，时空限制与分值不同。", "description": "当前 $K$ 个元素的和或最后 $K$ 个元素的和都不大于 $S$ 时，我们说这个 $2\\times K$ 个元素的序列是有趣的。\n\n给出一个长度为 $N$ 的序列 $A$。对于每个元素，输出从该元素开始的最长的有趣的子段。", "inputFormat": "第一行包含整数 $N$ 和 $S$。\n\n下面的 $N$ 行，每行包含序列 $A$ 中的一个整数 $A_i$。这些整数都是正的且它们的和不超过 $2\\times 10^9$。", "outputFormat": "输出共 $N$ 行。第 $i$ 行包含一个整数，表示从第 $i$ 元素开始的最长的有趣的子段的长度。\n\n如果当前位置上没有有趣的子段，输出 `0`。", "hint": "**【样例解释#1】**\n\n对于样例 $1$ 的第一个位置，一共有 $4$ 个子段，且都满足条件，故取最长的长度为 $4$ 的子段。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，$2\\le N \\le 200$。\n\n对于 $50\\%$ 的数据，$2\\le N \\le 5 \\times 10^3$。\n\n对于 $70\\%$ 的数据，$2 \\le N \\le 2 \\times 10^5$。\n\n对于 $100\\%$ 的数据，$2\\le N \\le 3 \\times 10^6$，$1\\le S \\le 10^9$，$1\\le A_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P8050", "type": "P", "difficulty": 3, "samples": [["2 2 3 4 0\n0 0\n1 0\n2 1 1 0\n0 1 999999 0\n0 0 0 0", "2"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["模拟", "数学"], "title": "[ZYOI Round1] Chessboard game/棋盘游戏", "background": "子衿有一个游戏棋盘，此时准备拿出来玩玩。", "description": "她的棋盘是 L 字形的，由上面一个 $n_1 \\times m_1$ 的小长方形和下面一个 $n_2 \\times m_2$ 的大长方形组成。棋盘初始状态所有格子上的数都为 $k$。\n\n比如，当 $n_1 = 2$，$m_1 = 2$，$n_2 = 3$，$m_2 = 4$，$k = 0$ 时，棋盘初始是这样的：\n\n```\n0 0\n0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n```\n\n现在她要进行若干次操作：将相邻的两个格子中的数同时加 $1$ 或减 $1$。操作完成后她会记住这些格子上的数。\n\n可是她有一次不小心，经过若干次操作后忘掉了其中某一个数是多少了，于是在上面打了一个 $999999$。请你通过编程求出被打上 $999999$ 的数应该是多少。保证有且仅有一个格子被打上了 $999999$。", "inputFormat": "第一行输入五个整数 $n_1,m_1,n_2,m_2,k$，分别表示组成 L 字形棋盘小长方形的行数和列数，大长方形的行数和列数，以及初始格子上的数。\n\n接下来 $n_1$ 行，每行输入 $m_1$ 个整数，表示操作后的棋盘小长方形中每个格子中的数。\n\n接下来 $n_2$ 行，每行输入 $m_2$ 个整数，表示操作后的棋盘大长方形中每个格子中的数。\n\n未知的数以 $999999$ 代替。", "outputFormat": "一行，一个整数，表示被打上 $999999$ 的数原本的值。\n\n数据保证有解。", "hint": "对于 $40\\%$ 的数据，$n_1 = m_1 = 0$。\n\n对于 $100\\%$ 的数据，$m_1 < m_2$，$0 \\le n_1,m_1,k \\le 100$，$1 \\le n_2,m_2 \\le 100$，每个格子中的数 $\\ge -1000$ 且 $\\le 1000$，除前 $40\\%$ 的数据外剩下的 $60\\%$ 的数据保证 $n_1,m_1 > 0$。\n\n**【样例说明】**\n\n一开始棋盘是这样的：\n\n```\n0 0\n0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n```\n\n下面给出一种可行的操作方案：\n\n先将第 $2$ 行第 $1$ 个数与第 $3$ 行第 $1$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n1 0 0 0\n0 0 0 0\n0 0 0 0\n```\n\n再将第 $3$ 行第 $1$ 个数与第 $3$ 行第 $2$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n2 1 0 0\n0 0 0 0\n0 0 0 0\n```\n\n再将第 $3$ 行第 $3$ 个数与第 $4$ 行第 $3$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n2 1 1 0\n0 0 1 0\n0 0 0 0\n```\n\n最后将第 $4$ 行第 $2$ 个数与第 $4$ 行第 $3$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n2 1 1 0\n0 1 2 0\n0 0 0 0\n```\n\n可以得出被打上 $999999$ 的数（第 $4$ 行第 $3$ 个数）为 $2$。\n\n操作方案可能不唯一，但可以证明答案是唯一的。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZYOI Round1] Chessboard game/棋盘游戏", "background": "子衿有一个游戏棋盘，此时准备拿出来玩玩。", "description": "她的棋盘是 L 字形的，由上面一个 $n_1 \\times m_1$ 的小长方形和下面一个 $n_2 \\times m_2$ 的大长方形组成。棋盘初始状态所有格子上的数都为 $k$。\n\n比如，当 $n_1 = 2$，$m_1 = 2$，$n_2 = 3$，$m_2 = 4$，$k = 0$ 时，棋盘初始是这样的：\n\n```\n0 0\n0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n```\n\n现在她要进行若干次操作：将相邻的两个格子中的数同时加 $1$ 或减 $1$。操作完成后她会记住这些格子上的数。\n\n可是她有一次不小心，经过若干次操作后忘掉了其中某一个数是多少了，于是在上面打了一个 $999999$。请你通过编程求出被打上 $999999$ 的数应该是多少。保证有且仅有一个格子被打上了 $999999$。", "inputFormat": "第一行输入五个整数 $n_1,m_1,n_2,m_2,k$，分别表示组成 L 字形棋盘小长方形的行数和列数，大长方形的行数和列数，以及初始格子上的数。\n\n接下来 $n_1$ 行，每行输入 $m_1$ 个整数，表示操作后的棋盘小长方形中每个格子中的数。\n\n接下来 $n_2$ 行，每行输入 $m_2$ 个整数，表示操作后的棋盘大长方形中每个格子中的数。\n\n未知的数以 $999999$ 代替。", "outputFormat": "一行，一个整数，表示被打上 $999999$ 的数原本的值。\n\n数据保证有解。", "hint": "对于 $40\\%$ 的数据，$n_1 = m_1 = 0$。\n\n对于 $100\\%$ 的数据，$m_1 < m_2$，$0 \\le n_1,m_1,k \\le 100$，$1 \\le n_2,m_2 \\le 100$，每个格子中的数 $\\ge -1000$ 且 $\\le 1000$，除前 $40\\%$ 的数据外剩下的 $60\\%$ 的数据保证 $n_1,m_1 > 0$。\n\n**【样例说明】**\n\n一开始棋盘是这样的：\n\n```\n0 0\n0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n```\n\n下面给出一种可行的操作方案：\n\n先将第 $2$ 行第 $1$ 个数与第 $3$ 行第 $1$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n1 0 0 0\n0 0 0 0\n0 0 0 0\n```\n\n再将第 $3$ 行第 $1$ 个数与第 $3$ 行第 $2$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n2 1 0 0\n0 0 0 0\n0 0 0 0\n```\n\n再将第 $3$ 行第 $3$ 个数与第 $4$ 行第 $3$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n2 1 1 0\n0 0 1 0\n0 0 0 0\n```\n\n最后将第 $4$ 行第 $2$ 个数与第 $4$ 行第 $3$ 个数同时加 $1$：\n\n```\n0 0\n1 0\n2 1 1 0\n0 1 2 0\n0 0 0 0\n```\n\n可以得出被打上 $999999$ 的数（第 $4$ 行第 $3$ 个数）为 $2$。\n\n操作方案可能不唯一，但可以证明答案是唯一的。", "locale": "zh-CN"}}}
