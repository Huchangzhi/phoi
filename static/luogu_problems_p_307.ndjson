{"pid": "P7211", "type": "P", "difficulty": 7, "samples": [["4\n1 0 1 0 0 1 1 0\n4 4 1 2 1 2 3 3\n4 3 8 7 6 5 2 1", ""]], "limits": {"time": [1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998, 1998], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "交互题", "Special Judge", "O2优化", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] カメレオンの恋", "background": "您可以在如下的代码模板中编写程序：\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nextern \"C\" int Query(const std::vector<int> &p);\nextern \"C\" void Answer(int a, int b);\nextern \"C\" void Solve(int N) {\n\t\n}\n```", "description": "在 JOI 动物园中，有 $2\\times N$ 只变色龙，有 $N$ 只的性别为 $\\rm X$，另外 $N$ 只的性别为 $\\rm Y$。\n\n每一只变色龙均有其原始颜色，其约束如下：\n- $\\rm X$ 性别的变色龙颜色两两不同。\n- 对于每一只 $\\rm X$ 性别的变色龙，都有一只 $\\rm Y$ 性别的变色龙颜色与之相同。\n\n现在每一只变色龙都爱另一只变色龙了，具体规则如下：\n- 每一只变色龙只爱异性变色龙。\n- 每只变色龙与其喜欢的变色龙有不同的初始颜色。\n- 不会存在两只变色龙爱一只变色龙。\n\n现在您可以组织一些变色龙开会，对于每一只在会议中的变色龙 $s$，设 $s$ 爱的变色龙为 $t$。\n\n- 若 $t$ 参加会议，则 $s$ 的皮肤颜色为 $t$ 的原始颜色。\n- 否则，$s$ 的皮肤颜色为 $s$ 的原始颜色。\n\n对于您组织的每次会议，您可以统计不同的肤色数量。\n\n通过召开不超过 $2\\times 10^4$ 次会议，您要确定初始颜色相同的每一对变色龙。\n\n#### 交互细节\n您需要在程序前声明两个函数：\n- `int Query(const std::vector<int> &p)`。\n- `void Answer(int a, int b)`。\n\n您需要实现一个函数：`void Solve(int N)`。\n- 每个测试样例仅调用一次。\n- $N$ 的意义如题。\n\n你的程序可以调用如下函数：\n- `int Query(const std::vector<int> &p)`\n   - 您可以调用此函数来组织变色龙会议。\n       - $p$ 是参加会议的变色龙名单。\n       - 这会返回参加会议的变色龙颜色的种数。\n       - 所有 $p$ 内的数必须在 $1$ 到 $2\\times N$ 之间，不然会返回 `Wrong Answer [1]`。\n       - 所有 $p$ 内的数必须是两两不同的，不然会返回 `Wrong Answer [2]`。\n       - 您只能调用此函数 $2\\times 10^4$ 次，若超过，会返回 `Wrong Answer [3]`。\n     \n- `void Answer(int a, int b)`\n   - 调用这个函数来提交一对原始颜色相同的变色龙。\n       - 参数 $a$ 和 $b$ 表示变色龙 $a$ 和 $b$ 具有相同的初始颜色。\n       - 您需要保证 $1\\le a,b\\le 2\\times N$，否则会返回 `Wrong Answer [4]`。\n       - 您需要保证每一次提交的变色龙不同，否则会返回 `Wrong Answer [5]`。\n       - 如果您提交的 $a$ 和 $b$ 的初始颜色不同，会返回 `Wrong Answer [6]`。\n       - 您需要调用 $N$ 次该函数，否则会返回 `Wrong Answer [7]`。\n       \n如果您在交互过程中均未违反限制，恭喜您 AC 了。", "inputFormat": "交互库输入格式如下：\n\n第一行为一个整数 $N$。\n\n第二行为 $2\\times N$ 个整数 $Y_i$，表示变色龙的性别，$Y_i=0$，则性别为 $\\rm X$，$Y_i=1$，则性别为 $\\rm Y$。\n\n第三行为 $2\\times N$ 个整数 $C_i$，$C_i$ 表示变色龙 $i$ 的颜色。\n\n第四行为 $2\\times N$ 个整数 $L_i$，$L_i$ 表示变色龙 $i$  稀饭变色龙 $L_i$。", "outputFormat": "交互库输出格式如下：\n\n若您 AC 了，则输出一行 `Accepted: x`，$x$ 是您调用 `int Query(const std::vector<int> &p)` 的次数。\n\n若您 WA 了，则输出一行 `Wrong Answer [type]`，$type$ 是您 WA 的原因，可参照交互细节。", "hint": "#### 样例解释\n样例调用如下：\n| 交互库调用 | 你的调用 | 返回值 |\n| :-: | :-: | :-:|\n| `Solve(4)` |  |  |\n|  | `Query([])` | $0$ |\n|  | `Query([6, 2])` | $2$ |\n|  | `Query([8, 1, 6])` | $2$ |\n|  | `Query([7, 1, 3, 5, 6, 8])` | $4$  |\n|  | `Query([8, 6, 4, 1, 5])` | $3$ | \n|  | `Answer(6, 4)` |  |\n|  | `Answer(7, 8)` |  |\n|  | `Answer(2, 1)` |  |\n|  | `Answer(3, 5)` |  |\n\n`sample-02.txt` 符合 Subtask 1 的限制，`sample-03.txt` 符合 Subtask 4 的限制。\n#### 子任务\n对于 $100\\%$ 的数据，保证 $2\\le N\\le 500$，$0\\le Y_i\\le 1$，$1\\le C_i\\le N$，$1\\le L_i\\le 2\\times N$，$Y_i\\not=Y_{L_i}$，$C_i\\not=C_{L_i}$，$L$ 两两不同。\n\n| 子任务 | 特殊性质 | 分数 |\n| :-: | :-: | :-: |\n| $1$ | $L_{L_i}=i (1\\le i\\le 2\\times N)$ | $4$ |\n| $2$ | $N\\le 7$ | $20$ |\n| $3$ | $N\\le 50$ | $20$ |\n| $4$ | $Y_i=0 (1\\le i\\le N)$ | $20$ |\n| $5$ | 无 | $36$ |\n#### 说明\n本题译自 [第 19 回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day 2 [T1 カメレオンの恋](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day2/chameleon-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] カメレオンの恋", "background": "您可以在如下的代码模板中编写程序：\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nextern \"C\" int Query(const std::vector<int> &p);\nextern \"C\" void Answer(int a, int b);\nextern \"C\" void Solve(int N) {\n\t\n}\n```", "description": "在 JOI 动物园中，有 $2\\times N$ 只变色龙，有 $N$ 只的性别为 $\\rm X$，另外 $N$ 只的性别为 $\\rm Y$。\n\n每一只变色龙均有其原始颜色，其约束如下：\n- $\\rm X$ 性别的变色龙颜色两两不同。\n- 对于每一只 $\\rm X$ 性别的变色龙，都有一只 $\\rm Y$ 性别的变色龙颜色与之相同。\n\n现在每一只变色龙都爱另一只变色龙了，具体规则如下：\n- 每一只变色龙只爱异性变色龙。\n- 每只变色龙与其喜欢的变色龙有不同的初始颜色。\n- 不会存在两只变色龙爱一只变色龙。\n\n现在您可以组织一些变色龙开会，对于每一只在会议中的变色龙 $s$，设 $s$ 爱的变色龙为 $t$。\n\n- 若 $t$ 参加会议，则 $s$ 的皮肤颜色为 $t$ 的原始颜色。\n- 否则，$s$ 的皮肤颜色为 $s$ 的原始颜色。\n\n对于您组织的每次会议，您可以统计不同的肤色数量。\n\n通过召开不超过 $2\\times 10^4$ 次会议，您要确定初始颜色相同的每一对变色龙。\n\n#### 交互细节\n您需要在程序前声明两个函数：\n- `int Query(const std::vector<int> &p)`。\n- `void Answer(int a, int b)`。\n\n您需要实现一个函数：`void Solve(int N)`。\n- 每个测试样例仅调用一次。\n- $N$ 的意义如题。\n\n你的程序可以调用如下函数：\n- `int Query(const std::vector<int> &p)`\n   - 您可以调用此函数来组织变色龙会议。\n       - $p$ 是参加会议的变色龙名单。\n       - 这会返回参加会议的变色龙颜色的种数。\n       - 所有 $p$ 内的数必须在 $1$ 到 $2\\times N$ 之间，不然会返回 `Wrong Answer [1]`。\n       - 所有 $p$ 内的数必须是两两不同的，不然会返回 `Wrong Answer [2]`。\n       - 您只能调用此函数 $2\\times 10^4$ 次，若超过，会返回 `Wrong Answer [3]`。\n     \n- `void Answer(int a, int b)`\n   - 调用这个函数来提交一对原始颜色相同的变色龙。\n       - 参数 $a$ 和 $b$ 表示变色龙 $a$ 和 $b$ 具有相同的初始颜色。\n       - 您需要保证 $1\\le a,b\\le 2\\times N$，否则会返回 `Wrong Answer [4]`。\n       - 您需要保证每一次提交的变色龙不同，否则会返回 `Wrong Answer [5]`。\n       - 如果您提交的 $a$ 和 $b$ 的初始颜色不同，会返回 `Wrong Answer [6]`。\n       - 您需要调用 $N$ 次该函数，否则会返回 `Wrong Answer [7]`。\n       \n如果您在交互过程中均未违反限制，恭喜您 AC 了。", "inputFormat": "交互库输入格式如下：\n\n第一行为一个整数 $N$。\n\n第二行为 $2\\times N$ 个整数 $Y_i$，表示变色龙的性别，$Y_i=0$，则性别为 $\\rm X$，$Y_i=1$，则性别为 $\\rm Y$。\n\n第三行为 $2\\times N$ 个整数 $C_i$，$C_i$ 表示变色龙 $i$ 的颜色。\n\n第四行为 $2\\times N$ 个整数 $L_i$，$L_i$ 表示变色龙 $i$  稀饭变色龙 $L_i$。", "outputFormat": "交互库输出格式如下：\n\n若您 AC 了，则输出一行 `Accepted: x`，$x$ 是您调用 `int Query(const std::vector<int> &p)` 的次数。\n\n若您 WA 了，则输出一行 `Wrong Answer [type]`，$type$ 是您 WA 的原因，可参照交互细节。", "hint": "#### 样例解释\n样例调用如下：\n| 交互库调用 | 你的调用 | 返回值 |\n| :-: | :-: | :-:|\n| `Solve(4)` |  |  |\n|  | `Query([])` | $0$ |\n|  | `Query([6, 2])` | $2$ |\n|  | `Query([8, 1, 6])` | $2$ |\n|  | `Query([7, 1, 3, 5, 6, 8])` | $4$  |\n|  | `Query([8, 6, 4, 1, 5])` | $3$ | \n|  | `Answer(6, 4)` |  |\n|  | `Answer(7, 8)` |  |\n|  | `Answer(2, 1)` |  |\n|  | `Answer(3, 5)` |  |\n\n`sample-02.txt` 符合 Subtask 1 的限制，`sample-03.txt` 符合 Subtask 4 的限制。\n#### 子任务\n对于 $100\\%$ 的数据，保证 $2\\le N\\le 500$，$0\\le Y_i\\le 1$，$1\\le C_i\\le N$，$1\\le L_i\\le 2\\times N$，$Y_i\\not=Y_{L_i}$，$C_i\\not=C_{L_i}$，$L$ 两两不同。\n\n| 子任务 | 特殊性质 | 分数 |\n| :-: | :-: | :-: |\n| $1$ | $L_{L_i}=i (1\\le i\\le 2\\times N)$ | $4$ |\n| $2$ | $N\\le 7$ | $20$ |\n| $3$ | $N\\le 50$ | $20$ |\n| $4$ | $Y_i=0 (1\\le i\\le N)$ | $20$ |\n| $5$ | 无 | $36$ |\n#### 说明\n本题译自 [第 19 回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day 2 [T1 カメレオンの恋](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day2/chameleon-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7212", "type": "P", "difficulty": 6, "samples": [["4 6\n1 2\n2 3\n3 2\n1 3\n3 4\n4 3", "1\n2\n4\n4\n5\n9"], ["6 10\n1 2\n2 3\n3 4\n4 5\n5 6\n6 5\n5 4\n4 3\n3 2\n2 1", "1\n2\n3\n4\n5\n7\n11\n17\n25\n30"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2020", "O2优化", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] ジョイッターで友だちをつくろう", "background": "Joitter 是一款交友软件。", "description": "在 Joitter 你可以关注他人，但你不可以关注自己和关注他人两次，即如果关注他人多次只会算作一次。\n\n共有 $N$ 名新用户，$M$ 天。\n\n在第 $i$ 天，用户 $A_i$ 会关注用户 $B_i$。\n\n同时在关注之后，会举办一场交友活动，活动内容如下：\n\n1. 选择一个用户 $x$。\n2. 选择一个被用户 $x$ 关注的用户 $y$。\n3. 选择一个用户 $z$，要求 $z\\not=x$，$x$ 未关注 $z$ 且 $y$ 和 $z$ 互关。\n4. 让 $x$ 关注 $z$。\n5. 重复 $1,2,3,4$，直到选不出合适的三元组 $(x,y,z)$。\n\n您需要求出，对于每一个 $i$，第 $i$ 天过后的所有关注总数。", "inputFormat": "第一行为两个整数 $N,M$。\n\n接下来 $M$ 行，一行两个整数 $A_i,B_i$。", "outputFormat": "输出共 $M$ 行，每一行一个数，第 $i$ 行表示经过第 $i$ 天之后的关注总数。", "hint": "#### 子任务\n对于 $100\\%$ 的数据，保证 $2\\le N\\le 10^5$，$1\\le M\\le 3\\times 10^5$，$1\\le A_i,B_i\\le N$，$A_i\\not=B_i$，$(A_i,B_i)\\not=(A_j,B_j)$。\n\n| 子任务编号 | $N\\le $ | 分值 |\n|:-:|:-:|:-:\n| $1$ | $50$ | $1$ |\n| $2$ | $2\\times 10^3$ | $16$ |\n| $3$ | 无 | $83$ |\n\n#### 说明\n本题译自 [第 19 回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day 2 [T2 ジョイッターで友だちをつくろう](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day2/joitter2-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] ジョイッターで友だちをつくろう", "background": "Joitter 是一款交友软件。", "description": "在 Joitter 你可以关注他人，但你不可以关注自己和关注他人两次，即如果关注他人多次只会算作一次。\n\n共有 $N$ 名新用户，$M$ 天。\n\n在第 $i$ 天，用户 $A_i$ 会关注用户 $B_i$。\n\n同时在关注之后，会举办一场交友活动，活动内容如下：\n\n1. 选择一个用户 $x$。\n2. 选择一个被用户 $x$ 关注的用户 $y$。\n3. 选择一个用户 $z$，要求 $z\\not=x$，$x$ 未关注 $z$ 且 $y$ 和 $z$ 互关。\n4. 让 $x$ 关注 $z$。\n5. 重复 $1,2,3,4$，直到选不出合适的三元组 $(x,y,z)$。\n\n您需要求出，对于每一个 $i$，第 $i$ 天过后的所有关注总数。", "inputFormat": "第一行为两个整数 $N,M$。\n\n接下来 $M$ 行，一行两个整数 $A_i,B_i$。", "outputFormat": "输出共 $M$ 行，每一行一个数，第 $i$ 行表示经过第 $i$ 天之后的关注总数。", "hint": "#### 子任务\n对于 $100\\%$ 的数据，保证 $2\\le N\\le 10^5$，$1\\le M\\le 3\\times 10^5$，$1\\le A_i,B_i\\le N$，$A_i\\not=B_i$，$(A_i,B_i)\\not=(A_j,B_j)$。\n\n| 子任务编号 | $N\\le $ | 分值 |\n|:-:|:-:|:-:\n| $1$ | $50$ | $1$ |\n| $2$ | $2\\times 10^3$ | $16$ |\n| $3$ | 无 | $83$ |\n\n#### 说明\n本题译自 [第 19 回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day 2 [T2 ジョイッターで友だちをつくろう](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day2/joitter2-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7213", "type": "P", "difficulty": 7, "samples": [["3\n3 4 6", "5"], ["1\n1", "0"], ["10\n5 8 9 13 15 16 17 18 19 20", "147003663"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "O2优化", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 最古の遺跡 3", "background": "JOI 教授是一名研究 IOI 王国的历史学家。", "description": "他发现了一行古代石柱的废墟及一份古代文献。\n\n古代文献上的记载如下：\n- 刚建造完成的时候，有 $2\\times N$ 个石柱，对于 $1\\le k\\le N$ 均有两个石柱高度为 $k$，同时记第 $i$ 个石柱的高度为 $h_i$。\n- 会发生 $N$ 次地震，每次地震会使一些石柱的高度 $-1$，其他石柱高度不变。\n- 石柱 $i$ 地震时高度不变，当且仅当 $h_i\\ge 1$ 并且对于 $j>i$ 都要有 $h_i\\not=h_j$\n- $N$ 次地震后，恰好只剩下了 $N$ 个石柱。\n\n现在 JOI 教授找出了仅存的 $N$ 个石柱的位置 $A_1,A_2,\\ldots,A_N$，他想让你求出，最初 $2\\times N$ 个石柱高度的修建方案数 $\\bmod~10^9+7$ 的值。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来一行 $N$ 个数，表示 $A_1,A_2,\\ldots,A_N$。", "outputFormat": "仅一行一个整数，表示最初 $2\\times N$ 个石柱高度的建造方案数 $\\bmod~10^9+7$ 的值。", "hint": "#### 样例解释\n#### 样例 1 解释\n一种可行的解为 $(2,2,3,3,1,1)$。\n- 第一次地震后，变为 $(1,2,2,3,0,1)$。\n- 第二次地震后，变为 $(0,1,2,3,0,1)$。\n- 第三次地震后，变为 $(0,0,2,3,0,1)$。\n\n另外四种解如下：\n- $(2,3,2,3,1,1)$。\n- $(2,3,3,2,1,1)$。\n- $(3,2,2,3,1,1)$.\n- $(3,2,3,2,1,1)$。\n#### 样例 2 解释\n对于 $N=1$ 的情况，显然只有 $(1,1)$ 一种修建方案，在一次地震后，会变为 $(0,1)$，$1$ 号位置不可能有石柱。\n#### 样例 3 解释\n共有 $111147004440$ 种可能的修建方案，$111147004440 \\bmod 10^9+7=147003663$。\n#### 子任务\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 600$，$1\\le A_i\\le 2\\times N$，$A_i< A_{i+1}$。\n| Subtask 编号 | $N\\le$ | 分数 |\n| :-: |:-: | :-: |\n| $1$ | $13$ | $6$\n| $2$| $60$ | $52$\n| $3$ | 无 | $42$\n#### 说明\n本题译自 [第 19 回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day 2 [T3 最古の遺跡 3](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day2/ruins3-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 最古の遺跡 3", "background": "JOI 教授是一名研究 IOI 王国的历史学家。", "description": "他发现了一行古代石柱的废墟及一份古代文献。\n\n古代文献上的记载如下：\n- 刚建造完成的时候，有 $2\\times N$ 个石柱，对于 $1\\le k\\le N$ 均有两个石柱高度为 $k$，同时记第 $i$ 个石柱的高度为 $h_i$。\n- 会发生 $N$ 次地震，每次地震会使一些石柱的高度 $-1$，其他石柱高度不变。\n- 石柱 $i$ 地震时高度不变，当且仅当 $h_i\\ge 1$ 并且对于 $j>i$ 都要有 $h_i\\not=h_j$\n- $N$ 次地震后，恰好只剩下了 $N$ 个石柱。\n\n现在 JOI 教授找出了仅存的 $N$ 个石柱的位置 $A_1,A_2,\\ldots,A_N$，他想让你求出，最初 $2\\times N$ 个石柱高度的修建方案数 $\\bmod~10^9+7$ 的值。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来一行 $N$ 个数，表示 $A_1,A_2,\\ldots,A_N$。", "outputFormat": "仅一行一个整数，表示最初 $2\\times N$ 个石柱高度的建造方案数 $\\bmod~10^9+7$ 的值。", "hint": "#### 样例解释\n#### 样例 1 解释\n一种可行的解为 $(2,2,3,3,1,1)$。\n- 第一次地震后，变为 $(1,2,2,3,0,1)$。\n- 第二次地震后，变为 $(0,1,2,3,0,1)$。\n- 第三次地震后，变为 $(0,0,2,3,0,1)$。\n\n另外四种解如下：\n- $(2,3,2,3,1,1)$。\n- $(2,3,3,2,1,1)$。\n- $(3,2,2,3,1,1)$.\n- $(3,2,3,2,1,1)$。\n#### 样例 2 解释\n对于 $N=1$ 的情况，显然只有 $(1,1)$ 一种修建方案，在一次地震后，会变为 $(0,1)$，$1$ 号位置不可能有石柱。\n#### 样例 3 解释\n共有 $111147004440$ 种可能的修建方案，$111147004440 \\bmod 10^9+7=147003663$。\n#### 子任务\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 600$，$1\\le A_i\\le 2\\times N$，$A_i< A_{i+1}$。\n| Subtask 编号 | $N\\le$ | 分数 |\n| :-: |:-: | :-: |\n| $1$ | $13$ | $6$\n| $2$| $60$ | $52$\n| $3$ | 无 | $42$\n#### 说明\n本题译自 [第 19 回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day 2 [T3 最古の遺跡 3](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day2/ruins3-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7214", "type": "P", "difficulty": 7, "samples": [["10 5\n2 5 10 3\n1 1 6 5\n5 2 8 3\n7 6 10 4\n4 1 3 1", "7"], ["10 5\n2 6 10 3\n1 1 5 5\n5 2 7 3\n8 6 10 4\n4 1 3 1", "-1"], ["10 5\n1 5 10 4\n1 1 6 5\n1 4 8 3\n1 6 10 3\n1 1 3 1", "7"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "线段树", "最短路", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 治療計画", "background": "JOI 村庄的村民们最近发生了 COVILLAGE-19 疫情！", "description": "JOI 村庄有 $N$ 个房屋，编号为 $1$ 到 $N$，每个房屋住有一个村民，第 $i$ 个房屋居住编号为村民 $i$。\n\n现在，这 $N$ 个房屋里的村民全部感染 COVILLAGE-19 病毒，有 $M$ 个治疗方案被提出，第 $i$ 个治疗方案描述为，在第 $T_i$ 天的晚上，编号在 $[L_i,R_i]$ 区间内的村民被治愈。\n\nCOVILLAGE-19 病毒还会继续传播，在某天早上，如果村民 $i$ 被感染，那么村民 $i+1$ 和村民 $i-1$ 也会被感染，因为病毒威力巨大，所以被治愈的村民有可能再次被感染。\n\n您是 JOI 国的总理，您要选择一些方案使得 JOI 村庄所有村民全部被治愈，一天可以进行很多方案。\n\n第 $i$ 个方案要花费 $C_i$，求最小花费。", "inputFormat": "第一行两个整数 $N,M$ 代表村民数和方案数。  \n接下来 $M$ 行每行四个整数 $T_i,L_i,R_i,C_i$ 代表一个治疗方案。", "outputFormat": "一行一个整数代表最小花费。         \n如果无法全部治愈，输出 $-1$。", "hint": "#### 样例 1 解释\n\n执行过程如下（红色为被病毒感染，绿色为治愈）：\n\n1. 在第二天晚上，执行第 $1$ 个方案，情况如下：\n\n$$\\color{Red}1\\ 2\\ 3\\ 4\\color{Green}\\ 5\\ 6\\ 7\\ 8\\ 9\\ 10$$\n\n2. 在第三天早上，村民 $5$ 被感染，情况如下：\n\n$$\\color{Red}1\\ 2\\ 3\\ 4\\ 5\\color{Green}\\ 6\\ 7\\ 8\\ 9\\ 10$$\n\n3. 在第四天早上，村民 $6$ 被感染，情况如下：\n\n$$\\color{Red}1\\ 2\\ 3\\ 4\\ 5\\ 6\\color{Green}\\ 7\\ 8\\ 9\\ 10$$\n\n4. 在第四天晚上，执行第 $5$ 个方案，情况如下：\n\n$$\\color{Green}1\\ 2\\ 3\\color{Red}\\ 4\\ 5\\ 6\\color{Green}\\ 7\\ 8\\ 9\\ 10$$\n\n5. 第五天早上，村民 $3,7$ 被感染，情况如下：\n\n$$\\color{Green}1\\ 2\\color{Red}\\ 3\\ 4\\ 5\\ 6\\ 7\\color{Green}\\ 8\\ 9\\ 10$$\n\n6. 在第五天晚上，执行第 $3$ 个方案，情况如下：\n\n$$\\color{Green}1\\ 2\\ 3\\ 4\\ 5\\ 6\\ 7\\ 8\\ 9\\ 10$$\n\n全部治愈，这三个方案花费为 $7$，为最小花费。\n\n#### 样例 2 解释\n\n无法使得所有村民全部治愈。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$T_i=1$|$4$|\n|$2$|$M \\le 16$|$5$|\n|$3$|$M \\le 5000$|$30$|\n|$4$|无|$61$|\n\n对于 $100\\%$ 的数据，$1 \\le N,T_i,C_i \\le 10^9$，$1 \\le M \\le 10^5$，$1 \\le L_i \\le R_i \\le N$。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 C 治療計画](https://www2.ioi-jp.org/camp/2020/2020-sp-tasks/day4/treatment.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 治療計画", "background": "JOI 村庄的村民们最近发生了 COVILLAGE-19 疫情！", "description": "JOI 村庄有 $N$ 个房屋，编号为 $1$ 到 $N$，每个房屋住有一个村民，第 $i$ 个房屋居住编号为村民 $i$。\n\n现在，这 $N$ 个房屋里的村民全部感染 COVILLAGE-19 病毒，有 $M$ 个治疗方案被提出，第 $i$ 个治疗方案描述为，在第 $T_i$ 天的晚上，编号在 $[L_i,R_i]$ 区间内的村民被治愈。\n\nCOVILLAGE-19 病毒还会继续传播，在某天早上，如果村民 $i$ 被感染，那么村民 $i+1$ 和村民 $i-1$ 也会被感染，因为病毒威力巨大，所以被治愈的村民有可能再次被感染。\n\n您是 JOI 国的总理，您要选择一些方案使得 JOI 村庄所有村民全部被治愈，一天可以进行很多方案。\n\n第 $i$ 个方案要花费 $C_i$，求最小花费。", "inputFormat": "第一行两个整数 $N,M$ 代表村民数和方案数。  \n接下来 $M$ 行每行四个整数 $T_i,L_i,R_i,C_i$ 代表一个治疗方案。", "outputFormat": "一行一个整数代表最小花费。         \n如果无法全部治愈，输出 $-1$。", "hint": "#### 样例 1 解释\n\n执行过程如下（红色为被病毒感染，绿色为治愈）：\n\n1. 在第二天晚上，执行第 $1$ 个方案，情况如下：\n\n$$\\color{Red}1\\ 2\\ 3\\ 4\\color{Green}\\ 5\\ 6\\ 7\\ 8\\ 9\\ 10$$\n\n2. 在第三天早上，村民 $5$ 被感染，情况如下：\n\n$$\\color{Red}1\\ 2\\ 3\\ 4\\ 5\\color{Green}\\ 6\\ 7\\ 8\\ 9\\ 10$$\n\n3. 在第四天早上，村民 $6$ 被感染，情况如下：\n\n$$\\color{Red}1\\ 2\\ 3\\ 4\\ 5\\ 6\\color{Green}\\ 7\\ 8\\ 9\\ 10$$\n\n4. 在第四天晚上，执行第 $5$ 个方案，情况如下：\n\n$$\\color{Green}1\\ 2\\ 3\\color{Red}\\ 4\\ 5\\ 6\\color{Green}\\ 7\\ 8\\ 9\\ 10$$\n\n5. 第五天早上，村民 $3,7$ 被感染，情况如下：\n\n$$\\color{Green}1\\ 2\\color{Red}\\ 3\\ 4\\ 5\\ 6\\ 7\\color{Green}\\ 8\\ 9\\ 10$$\n\n6. 在第五天晚上，执行第 $3$ 个方案，情况如下：\n\n$$\\color{Green}1\\ 2\\ 3\\ 4\\ 5\\ 6\\ 7\\ 8\\ 9\\ 10$$\n\n全部治愈，这三个方案花费为 $7$，为最小花费。\n\n#### 样例 2 解释\n\n无法使得所有村民全部治愈。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$T_i=1$|$4$|\n|$2$|$M \\le 16$|$5$|\n|$3$|$M \\le 5000$|$30$|\n|$4$|无|$61$|\n\n对于 $100\\%$ 的数据，$1 \\le N,T_i,C_i \\le 10^9$，$1 \\le M \\le 10^5$，$1 \\le L_i \\le R_i \\le N$。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 C 治療計画](https://www2.ioi-jp.org/camp/2020/2020-sp-tasks/day4/treatment.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7215", "type": "P", "difficulty": 6, "samples": [["6 3\n2 1\n3 5\n6 2\n3 4\n2 3\n1\n3\n1\n2\n3\n2", "1"], ["8 4\n4 1\n1 3\n3 6\n6 7\n7 2\n2 5\n5 8\n2\n4\n3\n1\n1\n2\n3\n4", "1"], ["12 4\n7 9\n1 3\n4 6\n2 4\n10 12\n1 2\n2 10\n11 1\n2 8\n5 3\n6 7\n3\n1\n1\n2\n4\n3\n3\n2\n2\n3\n4\n4", "2"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000, 500000]}, "tags": ["2020", "倍增", "点分治", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 首都", "background": "JOI 国是一个庞大的国度。", "description": "JOI 国拥有 $N$ 个城镇，编号为 $1$ 到 $N$，这些城镇由 $N-1$ 条双向道路连接。\n\nJOI 国还拥有 $K$ 个城市，编号为 $1$ 到 $K$，第 $i$ 个城镇属于第 $C_i$ 个城市。\n\n现在 JOI 国的总理 JOI 君 114514 世要挑选一个城市作为首都。作为首都的城市需要满足：从首都中的任一个城镇到达另一个首都中的城镇可以只经过首都中的城镇。但不一定有满足条件的城市。\n\n所以 JOI 君 114514 世要进行合并城市，合并城市 $x$ 和城市 $y$ 就会把城市 $y$ 里的所有小镇归为城市 $x$。\n\n求能找到首都的最小合并次数。", "inputFormat": "第一行两个整数 $N,K$ 代表城镇数和城市数。    \n接下来 $N-1$ 行每行两个整数 $u,v$ 代表一条双向边。   \n接下来 $N$ 行第 $i$ 行一个整数 $C_i$ 代表第 $i$ 个城镇属于第 $C_i$ 个城市。", "outputFormat": "一行一个整数代表最小的合并次数。", "hint": "#### 样例 1 解释\n\n可以将城市 $1$ 和 $3$ 合并，然后选择城市 $1$ 作为首都。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$N \\le 20$|$1$|\n|$2$|$N \\le 2000$|$10$|\n|$3$|每个城镇最多与两个城镇相连|$30$|\n|$4$|无|$59$|\n\n对于 $100\\%$ 的数据，$1 \\le K,u,v \\le N \\le 2 \\times 10^5$，保证从任何一个城镇出发都能到达其他城镇，$1 \\le C_i \\le K$。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 A 首都](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day4/capital_city.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 首都", "background": "JOI 国是一个庞大的国度。", "description": "JOI 国拥有 $N$ 个城镇，编号为 $1$ 到 $N$，这些城镇由 $N-1$ 条双向道路连接。\n\nJOI 国还拥有 $K$ 个城市，编号为 $1$ 到 $K$，第 $i$ 个城镇属于第 $C_i$ 个城市。\n\n现在 JOI 国的总理 JOI 君 114514 世要挑选一个城市作为首都。作为首都的城市需要满足：从首都中的任一个城镇到达另一个首都中的城镇可以只经过首都中的城镇。但不一定有满足条件的城市。\n\n所以 JOI 君 114514 世要进行合并城市，合并城市 $x$ 和城市 $y$ 就会把城市 $y$ 里的所有小镇归为城市 $x$。\n\n求能找到首都的最小合并次数。", "inputFormat": "第一行两个整数 $N,K$ 代表城镇数和城市数。    \n接下来 $N-1$ 行每行两个整数 $u,v$ 代表一条双向边。   \n接下来 $N$ 行第 $i$ 行一个整数 $C_i$ 代表第 $i$ 个城镇属于第 $C_i$ 个城市。", "outputFormat": "一行一个整数代表最小的合并次数。", "hint": "#### 样例 1 解释\n\n可以将城市 $1$ 和 $3$ 合并，然后选择城市 $1$ 作为首都。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$N \\le 20$|$1$|\n|$2$|$N \\le 2000$|$10$|\n|$3$|每个城镇最多与两个城镇相连|$30$|\n|$4$|无|$59$|\n\n对于 $100\\%$ 的数据，$1 \\le K,u,v \\le N \\le 2 \\times 10^5$，保证从任何一个城镇出发都能到达其他城镇，$1 \\le C_i \\le K$。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 A 首都](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day4/capital_city.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7216", "type": "P", "difficulty": 7, "samples": [["4 2\n2 1 3 3 \n1 2 4 3 \n6 1 7 4\n5 3 7 5", "2 2\n7 4"], ["3 3\n1 1 1 1\n1 2 1 2\n1 3 1 3", "1 1\n1 2\n1 3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "Special Judge", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 美味しい美味しいハンバーグ", "background": "JOISC2020 Day 1 T2", "description": "有一个 $10^9\\times 10^9$ 的金属网格，其中 $(x,y)$ 表示从左往右第 $x$ 列，从上往下第 $y$ 行的格子。（$1\\leq x,y\\leq 10^9$）。在这些网格上放了 $N$ 块汉堡肉，依次编号为 $1,\\cdots,N$，其中第 $i$ 块汉堡肉放在以 $(L_i,D_i)$ 为左下角，$(R_i,U_i)$ 为右上角的矩形区域内，并且汉堡肉可以重叠。\n\n你需要检查所有的汉堡肉是否煮熟。你可以选择金属网上的 $K$ 个格子，并且垂直地在这个格子中间插一根竹签。对于每一块汉堡肉来说，你可以通过在它所处的格子中插一根竹签来确认这块汉堡肉是否煮熟。当然，你也可以在一个格子里面插多根竹签或者是在没有汉堡肉的格子插竹签，尽管这很不必要。\n\n形式上说，你需要找到 $K$ 组 $(x_1,y_1),\\cdots,(x_k,y_k)$，满足以下条件：\n\n- 对于所有 $i$，存在一个 $j$ 满足 $L_i\\leq x_j\\leq R_i,D_i\\leq y_j\\leq U_i$。\n\n- 对于所有 $j$，$1\\leq x_j,y_j\\leq 10^9$。\n\n你需要写一个程序来找出这 $K$ 组 $(x_j,y_j)$，数据保证有解。", "inputFormat": "第一行两个的整数 $N,K$，含义见题面描述。\n\n接下来 $n$ 行，每行四个整数 $L_i,D_i,R_i,U_i$，描述一块汉堡肉。", "outputFormat": "$K$ 行，每行两个整数 $x_j$ 和 $y_j$。\n\n如果有多解，输出任意一个均可。", "hint": "#### 样例 1 解释\n\n在 $(2,2)$ 处插一根竹签，可以确定前两块汉堡肉是否煮熟，在 $(7,4)$ 处插一根竹签，可以确定后两块汉堡肉是否煮熟。\n\n另一种可行方案是，在 $(3,3)$ 和 $(6,4)$ 处分别插一根竹签。\n\n#### 子任务\n\n| 子任务编号 | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: |\n| $1$ | $N\\leq 2000,K=1$ | $1$ |\n| $2$ | $N\\leq 2000,K=2$ | $1$ |\n| $3$ | $N\\leq 2000,K=3$ | $3$ |\n| $4$ | $N\\leq 2000,K=4$ | $6$ |\n| $5$ | $K=1$ | $1$ |\n| $6$ | $K=2$ | $3$ |\n| $7$ | $K=3$ | $6$ |\n| $8$ | $K=4$ | $79$ |\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 2\\times 10^5,1\\leq k\\leq 4,1\\leq L_i\\leq R_i\\leq 10^9,1\\leq D_i\\leq U_i\\leq 10^9$，数据保证有解。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 美味しい美味しいハンバーグ", "background": "JOISC2020 Day 1 T2", "description": "有一个 $10^9\\times 10^9$ 的金属网格，其中 $(x,y)$ 表示从左往右第 $x$ 列，从上往下第 $y$ 行的格子。（$1\\leq x,y\\leq 10^9$）。在这些网格上放了 $N$ 块汉堡肉，依次编号为 $1,\\cdots,N$，其中第 $i$ 块汉堡肉放在以 $(L_i,D_i)$ 为左下角，$(R_i,U_i)$ 为右上角的矩形区域内，并且汉堡肉可以重叠。\n\n你需要检查所有的汉堡肉是否煮熟。你可以选择金属网上的 $K$ 个格子，并且垂直地在这个格子中间插一根竹签。对于每一块汉堡肉来说，你可以通过在它所处的格子中插一根竹签来确认这块汉堡肉是否煮熟。当然，你也可以在一个格子里面插多根竹签或者是在没有汉堡肉的格子插竹签，尽管这很不必要。\n\n形式上说，你需要找到 $K$ 组 $(x_1,y_1),\\cdots,(x_k,y_k)$，满足以下条件：\n\n- 对于所有 $i$，存在一个 $j$ 满足 $L_i\\leq x_j\\leq R_i,D_i\\leq y_j\\leq U_i$。\n\n- 对于所有 $j$，$1\\leq x_j,y_j\\leq 10^9$。\n\n你需要写一个程序来找出这 $K$ 组 $(x_j,y_j)$，数据保证有解。", "inputFormat": "第一行两个的整数 $N,K$，含义见题面描述。\n\n接下来 $n$ 行，每行四个整数 $L_i,D_i,R_i,U_i$，描述一块汉堡肉。", "outputFormat": "$K$ 行，每行两个整数 $x_j$ 和 $y_j$。\n\n如果有多解，输出任意一个均可。", "hint": "#### 样例 1 解释\n\n在 $(2,2)$ 处插一根竹签，可以确定前两块汉堡肉是否煮熟，在 $(7,4)$ 处插一根竹签，可以确定后两块汉堡肉是否煮熟。\n\n另一种可行方案是，在 $(3,3)$ 和 $(6,4)$ 处分别插一根竹签。\n\n#### 子任务\n\n| 子任务编号 | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: |\n| $1$ | $N\\leq 2000,K=1$ | $1$ |\n| $2$ | $N\\leq 2000,K=2$ | $1$ |\n| $3$ | $N\\leq 2000,K=3$ | $3$ |\n| $4$ | $N\\leq 2000,K=4$ | $6$ |\n| $5$ | $K=1$ | $1$ |\n| $6$ | $K=2$ | $3$ |\n| $7$ | $K=3$ | $6$ |\n| $8$ | $K=4$ | $79$ |\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 2\\times 10^5,1\\leq k\\leq 4,1\\leq L_i\\leq R_i\\leq 10^9,1\\leq D_i\\leq U_i\\leq 10^9$，数据保证有解。\n\n", "locale": "zh-CN"}}}
{"pid": "P7217", "type": "P", "difficulty": 7, "samples": [["3 2 7 3\n1 4 6\n0 5\n3\n1 7\n2 3\n3 8", "2\n1\n1"], ["5 3 20 6\n0 4 8 12 16\n2 11 14\n9\n4 1932\n2 93787\n1 89\n5 98124798\n1 2684\n1 137598\n3 2\n3 8375\n4 237", "146\n7035\n7\n7359360\n202\n10320\n0\n628\n18"], ["8 15 217 33608\n0 12 71 96 111 128 152 206\n4 34 42 67 76 81 85 104 110 117 122 148 166 170 212\n14\n2 223544052420046341\n3 86357593875941375\n4 892813012303440034\n1 517156961659770735\n7 415536186438473633\n6 322175014520330760\n7 557706040951533058\n6 640041274241532527\n5 286263974600593111\n8 349405886653104871\n1 987277313830536091\n5 989137777159975413\n2 50689028127994215\n7 445686748471896881", "33230868503053\n3\n5\n1\n123542793648997\n8\n165811220737767\n8\n7\n1\n1\n7\n7535161012043\n132506837660717"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["树形数据结构", "2020", "树状数组", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 収穫", "background": "JOI 君是 IOI 庄园的庄园主。", "description": "现在 IOI 庄园有 $N$ 名员工，在周长为 $L$ 的湖的湖岸边有 $M$ 棵苹果树。\n\n第 $i$ 名员工从湖的最北点顺时针走了 $A_i$ 米，第 $i$ 棵苹果树长在从湖的最北点顺时针的 $B_i$ 米。\n\n因为特殊原因，每棵苹果树上最多长一个苹果，初始时刻每棵苹果树上都有 $1$ 个苹果，如果一棵树上的苹果被摘掉了，在恰好 $C$ s 后会长出一个苹果。\n\n每名员工在初始时刻都在自己原本的位置，每过一个时刻就会顺时针走 $1$ 米，遇到有成熟苹果的苹果树就会把苹果摘下来。\n\n现在 JOI 君给定了 $Q$ 个询问，第 $i$ 个询问为：\n\n- 询问第 $V_i$ 个员工在时刻 $T_i$ 结束后收获到几个苹果。", "inputFormat": "第一行四个整数 $N,M,L,C$ 代表员工数，苹果树数，湖的周长，苹果每隔一定时间成熟。      \n第二行 $N$ 个整数 $A_i$ 如题目所示。   \n第三行 $M$ 个整数 $B_i$ 去题目所示。    \n第四行一个整数 $Q$ 代表询问次数。    \n接下来 $Q$ 行每行两个整数 $V_i,T_i$ 代表一个询问。", "outputFormat": "$Q$ 行每行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n- 在时刻 $1$：\n\t- 员工 $2$ 到达第 $2$ 棵苹果树，并采摘了成熟的苹果\n    - 员工 $3$ 到达第 $1$ 棵苹果树，并采摘了成熟的苹果\n- 在时刻 $3$：\n\t- 员工 $2$ 到达第 $1$ 棵苹果树，但没有成熟的苹果\n\n到时刻 $3$ 结束后，员工 $2$ 共采摘了 $1$ 个苹果，对应样例 $1$ 的第 $2$ 个询问。\n\n- 在时刻 $4$：\n\t- 员工 $1$ 到达第 $2$ 棵苹果树，并采摘了成熟的苹果\n- 在时刻 $6$：\n\t - 员工 $1$ 到达第 $1$ 棵苹果树，并采摘了成熟的苹果\n     - 员工 $3$ 到达第 $2$ 棵苹果树，但没有成熟的苹果\n\n到时刻 $7$ 结束后，员工 $1$ 共采摘了 $2$ 个苹果，对应样例 $1$ 的第 $1$ 个询问。\n\n- 在时刻 $8$：\n\t- 员工 $2$ 到达第 $2$ 棵苹果树，并采摘了成熟的苹果\n    - 员工 $3$ 到达第 $1$ 棵苹果树，但没有成熟的苹果\n\n到时刻 $8$ 结束后，员工 $3$ 共采摘了 $1$ 个苹果，对应样例 $1$ 的第 $3$ 个询问。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$N,M,Q \\le 3000$|$5$|\n|$2$|$T_i \\ge 10^{15}$|$20$|\n|$3$|无|$75$|\n\n对于 $100\\%$ 的数据，$1 \\le N,M,Q \\le 2 \\times 10^5$，$N+M \\le L$，$1 \\le C,L \\le 10^9$，$0 \\le A_i,B_i < L$，$A_i<A_{i+1}$，$B_i<B_{i+1}$，$A_i \\ne B_i$，$1 \\le V_i \\le N$，$1 \\le T_i \\le 10^{18}$。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day3 B 収穫](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day3/harvest.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 収穫", "background": "JOI 君是 IOI 庄园的庄园主。", "description": "现在 IOI 庄园有 $N$ 名员工，在周长为 $L$ 的湖的湖岸边有 $M$ 棵苹果树。\n\n第 $i$ 名员工从湖的最北点顺时针走了 $A_i$ 米，第 $i$ 棵苹果树长在从湖的最北点顺时针的 $B_i$ 米。\n\n因为特殊原因，每棵苹果树上最多长一个苹果，初始时刻每棵苹果树上都有 $1$ 个苹果，如果一棵树上的苹果被摘掉了，在恰好 $C$ s 后会长出一个苹果。\n\n每名员工在初始时刻都在自己原本的位置，每过一个时刻就会顺时针走 $1$ 米，遇到有成熟苹果的苹果树就会把苹果摘下来。\n\n现在 JOI 君给定了 $Q$ 个询问，第 $i$ 个询问为：\n\n- 询问第 $V_i$ 个员工在时刻 $T_i$ 结束后收获到几个苹果。", "inputFormat": "第一行四个整数 $N,M,L,C$ 代表员工数，苹果树数，湖的周长，苹果每隔一定时间成熟。      \n第二行 $N$ 个整数 $A_i$ 如题目所示。   \n第三行 $M$ 个整数 $B_i$ 去题目所示。    \n第四行一个整数 $Q$ 代表询问次数。    \n接下来 $Q$ 行每行两个整数 $V_i,T_i$ 代表一个询问。", "outputFormat": "$Q$ 行每行一个整数代表答案。", "hint": "#### 样例 1 解释\n\n- 在时刻 $1$：\n\t- 员工 $2$ 到达第 $2$ 棵苹果树，并采摘了成熟的苹果\n    - 员工 $3$ 到达第 $1$ 棵苹果树，并采摘了成熟的苹果\n- 在时刻 $3$：\n\t- 员工 $2$ 到达第 $1$ 棵苹果树，但没有成熟的苹果\n\n到时刻 $3$ 结束后，员工 $2$ 共采摘了 $1$ 个苹果，对应样例 $1$ 的第 $2$ 个询问。\n\n- 在时刻 $4$：\n\t- 员工 $1$ 到达第 $2$ 棵苹果树，并采摘了成熟的苹果\n- 在时刻 $6$：\n\t - 员工 $1$ 到达第 $1$ 棵苹果树，并采摘了成熟的苹果\n     - 员工 $3$ 到达第 $2$ 棵苹果树，但没有成熟的苹果\n\n到时刻 $7$ 结束后，员工 $1$ 共采摘了 $2$ 个苹果，对应样例 $1$ 的第 $1$ 个询问。\n\n- 在时刻 $8$：\n\t- 员工 $2$ 到达第 $2$ 棵苹果树，并采摘了成熟的苹果\n    - 员工 $3$ 到达第 $1$ 棵苹果树，但没有成熟的苹果\n\n到时刻 $8$ 结束后，员工 $3$ 共采摘了 $1$ 个苹果，对应样例 $1$ 的第 $3$ 个询问。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$N,M,Q \\le 3000$|$5$|\n|$2$|$T_i \\ge 10^{15}$|$20$|\n|$3$|无|$75$|\n\n对于 $100\\%$ 的数据，$1 \\le N,M,Q \\le 2 \\times 10^5$，$N+M \\le L$，$1 \\le C,L \\le 10^9$，$0 \\le A_i,B_i < L$，$A_i<A_{i+1}$，$B_i<B_{i+1}$，$A_i \\ne B_i$，$1 \\le V_i \\le N$，$1 \\le T_i \\le 10^{18}$。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day3 B 収穫](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day3/harvest.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7218", "type": "P", "difficulty": 6, "samples": [["3 4\nPWGP\nWGPW\nGWPG", "P-GP\nWGP|\nG-PG"], ["3 4\nPWWP\nWWWW\nPGGP", "PWWP\nW\\/W\nPGGP"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "提交答案", "Special Judge", "模拟退火", "随机化", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 伝説の団子職人", "background": "您是做团子带师，您太强了。", "description": "您面前有一个 $R \\times C$ 的网格，每一个格子里有一个团子，您可以横向，竖向，斜向地将三个连续的团子按顺序串起来，按顺序指可以串上中下，下中上之类的，但是不能串中下上，上下中之类的。\n\n如果一串团子的颜色为绿，白，粉或者粉，白，绿，那么称这串团子叫 AK IOI 串。\n\n求串最多 AK IOI 串的方法（我坚信做了几个 AK IOI 串就会 AK 几次 IOI）。", "inputFormat": "第一行两个整数 $R,C$ 代表网格大小。    \n接下来 $R$ 行每行 $C$ 个字符代表网格：\n\n- `P` 代表粉色团子\n- `W` 代表白色团子\n- `G` 代表绿色团子", "outputFormat": "$R$ 行每行 $C$ 个字符代表串好的网格：\n\n- 可以为 `-`，`|`，`/`，`\\`，代表一个团子串\n- 如果不是以上四种线，那么原样输出\n\n输出文件应为 `01.ans` ~ `06.ans`。", "hint": "#### 样例 1 解释\n\n您做了 $3$ 个 AK IOI 串。\n\n#### 样例 2 解释\n\n您做了 $2$ 个 AK IOI 串。\n\n#### 数据规模与约定\n\n**本题为提交答案题。**\n\n**本题使用 Special Judge。**\n\n一共有 $6$ 组数据，保证 $3 \\le R,C \\le 500$，输入文件可在附加文件中得到，具体数据表格如下：\n\n|数据点|分数 $S$|及格线 $X$|良好线 $Y$|优秀线 $Z$|\n|:-:|:-:|:-:|:-:|:-:|\n|$1$|$15$|$44000$|$47000$|$47220$|\n|$2$|$15$|$39000$|$41700$|$41980$|\n|$3$|$15$|$45000$|$51000$|$51390$|\n|$4$|$15$|$18000$|$19000$|$19120$|\n|$5$|$20$|$43000$|$48200$|$48620$|\n|$6$|$20$|$44000$|$46000$|$46500$|\n\n假设 $N$ 为得到的 AK IOI 串个数，那么评分标准为（四舍五入）：\n\n- $N<X$，$0$ 分\n- $X \\le N <Y$，$\\dfrac{N-X}{2(Y-X)} \\times S$ 分\n- $Y \\le N < Z$，$\\left(\\dfrac{1}{2}+\\dfrac{N-Y}{2(Z-Y)}\\right) \\times S$ 分\n- $Z \\le N$，$S$ 分\n\n如果输出格式有误或输出无效，判 $0$ 分。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 B 伝説の団子職人 ](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day4/dango2.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 伝説の団子職人", "background": "您是做团子带师，您太强了。", "description": "您面前有一个 $R \\times C$ 的网格，每一个格子里有一个团子，您可以横向，竖向，斜向地将三个连续的团子按顺序串起来，按顺序指可以串上中下，下中上之类的，但是不能串中下上，上下中之类的。\n\n如果一串团子的颜色为绿，白，粉或者粉，白，绿，那么称这串团子叫 AK IOI 串。\n\n求串最多 AK IOI 串的方法（我坚信做了几个 AK IOI 串就会 AK 几次 IOI）。", "inputFormat": "第一行两个整数 $R,C$ 代表网格大小。    \n接下来 $R$ 行每行 $C$ 个字符代表网格：\n\n- `P` 代表粉色团子\n- `W` 代表白色团子\n- `G` 代表绿色团子", "outputFormat": "$R$ 行每行 $C$ 个字符代表串好的网格：\n\n- 可以为 `-`，`|`，`/`，`\\`，代表一个团子串\n- 如果不是以上四种线，那么原样输出\n\n输出文件应为 `01.ans` ~ `06.ans`。", "hint": "#### 样例 1 解释\n\n您做了 $3$ 个 AK IOI 串。\n\n#### 样例 2 解释\n\n您做了 $2$ 个 AK IOI 串。\n\n#### 数据规模与约定\n\n**本题为提交答案题。**\n\n**本题使用 Special Judge。**\n\n一共有 $6$ 组数据，保证 $3 \\le R,C \\le 500$，输入文件可在附加文件中得到，具体数据表格如下：\n\n|数据点|分数 $S$|及格线 $X$|良好线 $Y$|优秀线 $Z$|\n|:-:|:-:|:-:|:-:|:-:|\n|$1$|$15$|$44000$|$47000$|$47220$|\n|$2$|$15$|$39000$|$41700$|$41980$|\n|$3$|$15$|$45000$|$51000$|$51390$|\n|$4$|$15$|$18000$|$19000$|$19120$|\n|$5$|$20$|$43000$|$48200$|$48620$|\n|$6$|$20$|$44000$|$46000$|$46500$|\n\n假设 $N$ 为得到的 AK IOI 串个数，那么评分标准为（四舍五入）：\n\n- $N<X$，$0$ 分\n- $X \\le N <Y$，$\\dfrac{N-X}{2(Y-X)} \\times S$ 分\n- $Y \\le N < Z$，$\\left(\\dfrac{1}{2}+\\dfrac{N-Y}{2(Z-Y)}\\right) \\times S$ 分\n- $Z \\le N$，$S$ 分\n\n如果输出格式有误或输出无效，判 $0$ 分。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day4 B 伝説の団子職人 ](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day4/dango2.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7219", "type": "P", "difficulty": 6, "samples": [["5\n1 3 4 2 3\n3\n1 5 3\n4 3 2\n2 4 2", "2"], ["7\n5 6 2 3 6 7 6\n5\n7 7 5\n3 3 7\n3 7 10\n1 7 6\n4 7 8", "16"], ["8\n6 8 5 7 3 4 2 1\n10\n8 2 9\n6 6 7\n8 3 18\n5 8 17\n8 5 3\n5 5 3\n5 4 8\n1 8 13\n1 7 5\n7 4 13", "44"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2020", "线段树", "JOISC/JOIST（日本）", "反悔贪心"], "title": "[JOISC 2020] 星座 3", "background": "> 蓝蓝的天空银河里       \n有只小白船      \n船上有棵桂花树      \n白兔在游玩      \n桨儿桨儿看不见      \n船上也没帆        \n飘呀飘呀飘向西天      \n渡过那条银河水       \n走向云彩国         \n走过那个云彩国      \n再向哪儿去         \n在那遥远的地方        \n闪着金光         \n晨星是灯塔          \n照呀照得亮      \n晨星是灯塔         \n照呀照得亮 \n\n**本题被卡空间的可以尝试使用 C++14 通过**", "description": "JOI 君去拍照，拍了一张大小为 $N \\times N$ 的图片，第 $i$ 列第 $j$ 行的格子称为格子 $(i,j)$。\n\n图里有白色的小白船，黄色的星星（天知道为啥星星是黄色的），黑色的空格（天知道这空格是啥），第 $i$ 列自下往上数到第 $A_i$ 行的格子里都是小白船，另外有 $M$ 颗星星，第 $i$ 颗星星在格子 $(X_i,Y_i)$，除了小白船和星星，其他格子都是空格。\n\n现在 JOI 君定义满足下面的一个矩阵为星座：\n\n1. 不包含小白船\n2. 至少包含 $2$ 颗星星\n\nJOI 君已经看星座看了 114514 年了，他厌烦了，所以他要把图片中的一些星星涂黑变成黑色空格，涂黑第 $i$ 颗星星会让图片增加 $C_i$ 的不自然度。求不存在星座的最小不自然度。", "inputFormat": "第一行一个整数 $N$ 代表图片的大小。      \n第二行 $N$ 个整数第 $i$ 个整数 $A_i$ 代表小白船的位置。   \n第三行一个整数 $M$ 代表星星的个数。     \n接下来 $M$ 行每行三个整数 $X_i,Y_i,C_i$ 代表一颗星星。", "outputFormat": "一行一个整数代表不存在星座的最小不自然度。", "hint": "#### 样例 1 解释\n\n把第三颗星星涂黑即可。\n\n#### 样例 2 解释\n\n把第三颗和第四颗星星涂黑即可。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$N,M \\le 300$|$14$|\n|$2$|$N,M \\le 2000$|$21$|\n|$3$|无|$65$|\n\n对于 $100\\%$ 的数据，$1 \\le N,M \\le 2 \\times 10^5$，$1 \\le A_i,X_i,Y_i \\le N$，$1 \\le C_i \\le 10^9$，$A_{X_i}<Y_i$，没有相同位置的星星。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day3 A 星座3](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day3/constellation3.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 星座 3", "background": "> 蓝蓝的天空银河里       \n有只小白船      \n船上有棵桂花树      \n白兔在游玩      \n桨儿桨儿看不见      \n船上也没帆        \n飘呀飘呀飘向西天      \n渡过那条银河水       \n走向云彩国         \n走过那个云彩国      \n再向哪儿去         \n在那遥远的地方        \n闪着金光         \n晨星是灯塔          \n照呀照得亮      \n晨星是灯塔         \n照呀照得亮 \n\n**本题被卡空间的可以尝试使用 C++14 通过**", "description": "JOI 君去拍照，拍了一张大小为 $N \\times N$ 的图片，第 $i$ 列第 $j$ 行的格子称为格子 $(i,j)$。\n\n图里有白色的小白船，黄色的星星（天知道为啥星星是黄色的），黑色的空格（天知道这空格是啥），第 $i$ 列自下往上数到第 $A_i$ 行的格子里都是小白船，另外有 $M$ 颗星星，第 $i$ 颗星星在格子 $(X_i,Y_i)$，除了小白船和星星，其他格子都是空格。\n\n现在 JOI 君定义满足下面的一个矩阵为星座：\n\n1. 不包含小白船\n2. 至少包含 $2$ 颗星星\n\nJOI 君已经看星座看了 114514 年了，他厌烦了，所以他要把图片中的一些星星涂黑变成黑色空格，涂黑第 $i$ 颗星星会让图片增加 $C_i$ 的不自然度。求不存在星座的最小不自然度。", "inputFormat": "第一行一个整数 $N$ 代表图片的大小。      \n第二行 $N$ 个整数第 $i$ 个整数 $A_i$ 代表小白船的位置。   \n第三行一个整数 $M$ 代表星星的个数。     \n接下来 $M$ 行每行三个整数 $X_i,Y_i,C_i$ 代表一颗星星。", "outputFormat": "一行一个整数代表不存在星座的最小不自然度。", "hint": "#### 样例 1 解释\n\n把第三颗星星涂黑即可。\n\n#### 样例 2 解释\n\n把第三颗和第四颗星星涂黑即可。\n\n#### 子任务\n\n|子任务|特殊性质|分数|\n|:-:|:-:|:-:|\n|$1$|$N,M \\le 300$|$14$|\n|$2$|$N,M \\le 2000$|$21$|\n|$3$|无|$65$|\n\n对于 $100\\%$ 的数据，$1 \\le N,M \\le 2 \\times 10^5$，$1 \\le A_i,X_i,Y_i \\le N$，$1 \\le C_i \\le 10^9$，$A_{X_i}<Y_i$，没有相同位置的星星。\n\n#### 说明\n\n翻译自 [第１９回日本情報オリンピック　春季トレーニング合宿](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) [Day3 A 星座3](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day3/constellation3.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7220", "type": "P", "difficulty": 7, "samples": [["6 2 10\n1 1\n4 0\n4 2 3\n3 3\n1 1\n4 1 2\n2 3\n2 0\n1 4\n3 2\n1 3\n1 2", "1 3\n3 2\n3 3\n6 0"], ["9 4 8\n2 3\n3 1\n1 6\n4 3\n2 6\n1 3\n2 2\n1 4\n2 3\n1 2\n2 4\n1 1", "3 6\n4 3\n7 1\n6 3"], ["8 1 8\n1 5\n4 4 1\n2 6\n1 2\n2 3\n4 2 2\n2 5\n1 1\n1 3", "4 1\n3 5\n3 2"], ["7 4 9\n1 5\n2 2\n4 2\n5 0\n2 6\n2 3\n1 2\n3 6\n1 4\n3 1\n1 1\n2 2\n1 3", "4 2\n5 1\n1 6\n5 2"], ["20 5 25\n10 6\n0 4\n2 1\n1 0\n2 3\n2 18\n3 9\n4 1 5\n4 0 2\n3 10\n4 3 3\n3 3\n2 9\n4 9 1\n3 12\n1 4\n3 19\n1 3\n1 9\n2 1\n1 7\n1 6\n4 3 3\n1 10\n1 1\n1 5\n2 0\n1 2\n2 2\n1 7", "2 17\n2 17\n9 8\n0 17\n1 17\n3 3\n10 10\n2 17\n2 17\n0 17"]], "limits": {"time": [11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000, 11000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2020", "线段树", "平衡树", "线段树分治", "JOISC/JOIST（日本）"], "title": "[JOISC 2020] 掃除", "background": "JOISC2020 Day 1 T3\n\n如果洛谷自带的下载功能无法下载错误测试点，可以在[这里](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day1/sweeping-data.zip)自行下载数据。由于测试数据过大，评测本题时，评测机可能会需要 30 秒的时间加载数据。\n\n请注意本题不同寻常的时空限制。", "description": "由于 Bitaro AK 了 IOI，所以 IOI 主办方送了他一套房子，为一个边长为 $N$ 的等腰直角三角形。房间内一点用坐标 $(x,y)$ 表示，其中 $0\\leq x+y\\leq N$。直角顶点为原点，三角形两腰分别为 $x$ 轴与 $y$ 轴。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3m2wdn4u.png)\n\n一天，Bitaro 发现自己已经 AK 了 1919810 届 IOI 闲的没事做准备打扫房间里的灰尘。这些灰尘一开始一共有 $M$ 堆，其中第 $i$ 堆位于 $(X_i,Y_i)$。同时，可能存在多堆灰尘位于同一个位置上的情况。\n\n现在 Bitaro 准备用扫帚打扫房间。我们认为扫帚是放置在房间里的一条线段，并且将这条线段的长度称为扫帚的宽度。由于 Bitaro 很有条理，所以他只会用以下的两种方式打扫房间：\n\n- Bitaro 将扫帚平行于 $y$ 轴放置，一端位于原点。然后他会垂直向右移动扫帚，直到不能移动为止。如果扫帚的宽度为 $l$，那么原来一堆满足 $x<N-l,y\\leq l$ 的灰尘 $(x,y)$ 将会被移动到 $(N-l,y)$。（这个位置可能会存在多堆灰尘）我们称这个过程为过程 H。\n\n- Bitaro 将扫帚平行于 $x$ 轴放置，一端位于原点。然后他会水平向上移动扫帚，直到不能移动为止。如果扫帚的宽度为 $l$，那么原来一堆满足 $x\\leq l,y<N-l$ 的灰尘 $(x,y)$ 将会被移动到 $(x,N-l)$。（这个位置可能会存在多堆灰尘）我们称这个过程为过程 V。\n\n在 Bitaro 的房间里，依次会发生 $Q$ 个事件。第 $i$ 个事件形如以下 $4$ 种：\n\n- Bitaro 想要计算第 $P_i$ 堆灰尘的位置坐标；\n\n- Bitaro 使用宽度为 $L_i$ 的扫帚，进行了过程 H；\n\n- Bitaro 使用宽度为 $L_i$ 的扫帚，进行了过程 V；\n\n- 有一堆新的灰尘出现在点 $(A_i,B_i)$ 处。如果在这个事件之前一共有 $c$ 堆灰尘，那么这堆灰尘就是房间中的第 $c+1$ 堆灰尘。\n\n由于 Bitaro 已经 AK 了 IOI，啥都不想干，所以你需要写一个程序，给出房间的腰长，每一堆灰尘的位置坐标和每个事件的细节，求出要求的某堆灰尘的位置坐标。", "inputFormat": "第一行三个整数，分别为 $N,M,Q$。\n\n接下来 $m$ 行，每行两个整数 $X_i,Y_i$，表示第 $i$ 堆灰尘一开始的位置。\n\n接下来 $Q$ 行，每行两到三个整数，表示一个事件。设 $T_i$ 为第一个整数，每行含义如下：\n\n- 如果 $T_i=1$，则这行有两个整数 $T_i,P_i$，表示 Bitaro 要计算第 $P_i$ 堆灰尘的坐标；\n\n- 如果 $T_i=2$，则这行有两个整数 $T_i,L_i$，表示 Bitaro 用宽度为 $L_i$ 的扫帚进行了过程 H；\n\n- 如果 $T_i=3$，则这行有两个整数 $T_i,L_i$，表示 Bitaro 用宽度为 $L_i$ 的扫帚进行了过程 V；\n\n- 如果 $T_i=4$，则这行有三个整数 $T_i,A_i,B_i$，表示一堆新的灰尘出现在 $(A_i,B_i)$ 位置。", "outputFormat": "对于每个 $T_i=1$ 的事件，输出一行两个整数，表示事件 $i$ 发生时第 $P_i$ 堆灰尘的位置坐标。", "hint": "### 样例 1 解释\n\n一开始第一堆灰尘位于 $(1,1)$，第二堆灰尘位于 $(4,0)$。图一描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8e305ll6.png)\n\n在第一个事件中，添加了 $(2,3)$ 位置上的第三堆灰尘。图二描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wili6lmg.png)\n\n在第二个事件中，Bitaro 用宽度为 $3$ 的扫帚进行了过程 V。之后，第一堆灰尘移动到了 $(1,3)$，图三描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x5x5nsvb.png)\n\n在第三个事件中，Bitaro 计算了第一堆灰尘的坐标 $(1,3)$。\n\n在第四个事件中，添加 $(1,2)$ 位置上的第四堆灰尘。图四描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sxqf521x.png)\n\n在第五个事件中，Bitaro 用宽度为 $3$ 的扫帚进行了过程 H，第一堆灰尘移到了 $(3,3)$，第三堆灰尘移到了 $(3,3)$，第四堆灰尘移到了 $(3,2)$。图五描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0lt0inff.png)\n\n在第六个事件中，Bitaro 用宽度为 $0$ 的扫帚进行了过程 H，第二堆灰尘移到了 $(6,0)$。图六描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wnv1lqz7.png)\n\n在第七个事件中，Bitaro 计算了第四堆灰尘的坐标 $(3,2)$。\n\n在第八个事件中，Bitaro 用宽度为 $2$ 的扫帚进行了过程 V，然而什么都没有发生。图七描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s4rebol9.png)\n\n在第九个事件中，Bitaro 计算了第三堆灰尘的坐标 $(3,3)$。\n\n在第十个事件中，Bitaro 计算了第二堆灰尘的坐标 $(6,0)$。\n\n这组样例满足子任务 1 和子任务 5 的限制。\n\n#### 样例 2~5 解释\n\n第二组样例满足子任务 1,2,4,5 的限制。\n\n第三组样例满足子任务 1,2,5 的限制。\n\n第四组样例满足子任务 1,3,4,5 的限制。\n\n第五组样例满足子任务 1,5 的限制。\n\n#### 子任务\n\n| 子任务编号 | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: |\n| Subtask 1 | $m\\leq 2\\times 10^3,Q\\leq 5\\times 10^3$ | $1$ |\n| Subtask 2 | $T\\in\\{1,2,4\\}$ | $10$ |\n| Subtask 3 | $T\\in\\{1,2,3\\},X_i\\leq X_{i+1},Y_i\\geq Y_{i+1}(1\\leq i\\leq m-1)$ | $11$ |\n| Subtask 4 | $T\\in\\{1,2,3\\}$ | $53$ |\n| Subtask 5 | 无 | $25$ | \n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^9,1\\leq m\\leq 5\\times 10^5,1\\leq Q\\leq 10^6$。保证：\n\n- $0\\leq X_i,Y_i\\leq N,X_i+Y_i\\leq N(1\\leq i\\leq m)$；\n\n- $1\\leq P_i\\leq M^\\prime(1\\leq i\\leq Q)$，其中 $M^\\prime$ 表示事件 $i$ 发生时灰尘的堆数；\n\n- $0\\leq L_i\\leq n-1(1\\leq i\\leq Q)$；\n\n- $0\\leq A_i,B_i\\leq n,A_i+B_i\\leq n(1\\leq i\\leq Q)$；\n\n- 至少存在一个 $T_i=1$ 的事件。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOISC 2020] 掃除", "background": "JOISC2020 Day 1 T3\n\n如果洛谷自带的下载功能无法下载错误测试点，可以在[这里](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day1/sweeping-data.zip)自行下载数据。由于测试数据过大，评测本题时，评测机可能会需要 30 秒的时间加载数据。\n\n请注意本题不同寻常的时空限制。", "description": "由于 Bitaro AK 了 IOI，所以 IOI 主办方送了他一套房子，为一个边长为 $N$ 的等腰直角三角形。房间内一点用坐标 $(x,y)$ 表示，其中 $0\\leq x+y\\leq N$。直角顶点为原点，三角形两腰分别为 $x$ 轴与 $y$ 轴。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3m2wdn4u.png)\n\n一天，Bitaro 发现自己已经 AK 了 1919810 届 IOI 闲的没事做准备打扫房间里的灰尘。这些灰尘一开始一共有 $M$ 堆，其中第 $i$ 堆位于 $(X_i,Y_i)$。同时，可能存在多堆灰尘位于同一个位置上的情况。\n\n现在 Bitaro 准备用扫帚打扫房间。我们认为扫帚是放置在房间里的一条线段，并且将这条线段的长度称为扫帚的宽度。由于 Bitaro 很有条理，所以他只会用以下的两种方式打扫房间：\n\n- Bitaro 将扫帚平行于 $y$ 轴放置，一端位于原点。然后他会垂直向右移动扫帚，直到不能移动为止。如果扫帚的宽度为 $l$，那么原来一堆满足 $x<N-l,y\\leq l$ 的灰尘 $(x,y)$ 将会被移动到 $(N-l,y)$。（这个位置可能会存在多堆灰尘）我们称这个过程为过程 H。\n\n- Bitaro 将扫帚平行于 $x$ 轴放置，一端位于原点。然后他会水平向上移动扫帚，直到不能移动为止。如果扫帚的宽度为 $l$，那么原来一堆满足 $x\\leq l,y<N-l$ 的灰尘 $(x,y)$ 将会被移动到 $(x,N-l)$。（这个位置可能会存在多堆灰尘）我们称这个过程为过程 V。\n\n在 Bitaro 的房间里，依次会发生 $Q$ 个事件。第 $i$ 个事件形如以下 $4$ 种：\n\n- Bitaro 想要计算第 $P_i$ 堆灰尘的位置坐标；\n\n- Bitaro 使用宽度为 $L_i$ 的扫帚，进行了过程 H；\n\n- Bitaro 使用宽度为 $L_i$ 的扫帚，进行了过程 V；\n\n- 有一堆新的灰尘出现在点 $(A_i,B_i)$ 处。如果在这个事件之前一共有 $c$ 堆灰尘，那么这堆灰尘就是房间中的第 $c+1$ 堆灰尘。\n\n由于 Bitaro 已经 AK 了 IOI，啥都不想干，所以你需要写一个程序，给出房间的腰长，每一堆灰尘的位置坐标和每个事件的细节，求出要求的某堆灰尘的位置坐标。", "inputFormat": "第一行三个整数，分别为 $N,M,Q$。\n\n接下来 $m$ 行，每行两个整数 $X_i,Y_i$，表示第 $i$ 堆灰尘一开始的位置。\n\n接下来 $Q$ 行，每行两到三个整数，表示一个事件。设 $T_i$ 为第一个整数，每行含义如下：\n\n- 如果 $T_i=1$，则这行有两个整数 $T_i,P_i$，表示 Bitaro 要计算第 $P_i$ 堆灰尘的坐标；\n\n- 如果 $T_i=2$，则这行有两个整数 $T_i,L_i$，表示 Bitaro 用宽度为 $L_i$ 的扫帚进行了过程 H；\n\n- 如果 $T_i=3$，则这行有两个整数 $T_i,L_i$，表示 Bitaro 用宽度为 $L_i$ 的扫帚进行了过程 V；\n\n- 如果 $T_i=4$，则这行有三个整数 $T_i,A_i,B_i$，表示一堆新的灰尘出现在 $(A_i,B_i)$ 位置。", "outputFormat": "对于每个 $T_i=1$ 的事件，输出一行两个整数，表示事件 $i$ 发生时第 $P_i$ 堆灰尘的位置坐标。", "hint": "### 样例 1 解释\n\n一开始第一堆灰尘位于 $(1,1)$，第二堆灰尘位于 $(4,0)$。图一描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8e305ll6.png)\n\n在第一个事件中，添加了 $(2,3)$ 位置上的第三堆灰尘。图二描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wili6lmg.png)\n\n在第二个事件中，Bitaro 用宽度为 $3$ 的扫帚进行了过程 V。之后，第一堆灰尘移动到了 $(1,3)$，图三描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x5x5nsvb.png)\n\n在第三个事件中，Bitaro 计算了第一堆灰尘的坐标 $(1,3)$。\n\n在第四个事件中，添加 $(1,2)$ 位置上的第四堆灰尘。图四描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/sxqf521x.png)\n\n在第五个事件中，Bitaro 用宽度为 $3$ 的扫帚进行了过程 H，第一堆灰尘移到了 $(3,3)$，第三堆灰尘移到了 $(3,3)$，第四堆灰尘移到了 $(3,2)$。图五描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0lt0inff.png)\n\n在第六个事件中，Bitaro 用宽度为 $0$ 的扫帚进行了过程 H，第二堆灰尘移到了 $(6,0)$。图六描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wnv1lqz7.png)\n\n在第七个事件中，Bitaro 计算了第四堆灰尘的坐标 $(3,2)$。\n\n在第八个事件中，Bitaro 用宽度为 $2$ 的扫帚进行了过程 V，然而什么都没有发生。图七描述了房间现在的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s4rebol9.png)\n\n在第九个事件中，Bitaro 计算了第三堆灰尘的坐标 $(3,3)$。\n\n在第十个事件中，Bitaro 计算了第二堆灰尘的坐标 $(6,0)$。\n\n这组样例满足子任务 1 和子任务 5 的限制。\n\n#### 样例 2~5 解释\n\n第二组样例满足子任务 1,2,4,5 的限制。\n\n第三组样例满足子任务 1,2,5 的限制。\n\n第四组样例满足子任务 1,3,4,5 的限制。\n\n第五组样例满足子任务 1,5 的限制。\n\n#### 子任务\n\n| 子任务编号 | 特殊性质 | 分值 |\n| :----------: | :----------: | :----------: |\n| Subtask 1 | $m\\leq 2\\times 10^3,Q\\leq 5\\times 10^3$ | $1$ |\n| Subtask 2 | $T\\in\\{1,2,4\\}$ | $10$ |\n| Subtask 3 | $T\\in\\{1,2,3\\},X_i\\leq X_{i+1},Y_i\\geq Y_{i+1}(1\\leq i\\leq m-1)$ | $11$ |\n| Subtask 4 | $T\\in\\{1,2,3\\}$ | $53$ |\n| Subtask 5 | 无 | $25$ | \n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^9,1\\leq m\\leq 5\\times 10^5,1\\leq Q\\leq 10^6$。保证：\n\n- $0\\leq X_i,Y_i\\leq N,X_i+Y_i\\leq N(1\\leq i\\leq m)$；\n\n- $1\\leq P_i\\leq M^\\prime(1\\leq i\\leq Q)$，其中 $M^\\prime$ 表示事件 $i$ 发生时灰尘的堆数；\n\n- $0\\leq L_i\\leq n-1(1\\leq i\\leq Q)$；\n\n- $0\\leq A_i,B_i\\leq n,A_i+B_i\\leq n(1\\leq i\\leq Q)$；\n\n- 至少存在一个 $T_i=1$ 的事件。\n", "locale": "zh-CN"}}}
{"pid": "P7221", "type": "P", "difficulty": 6, "samples": [["5\n-1 3\n1 2\n1 1\n3 2\n3 2\n5\n-1 3\n1 2\n1 1\n3 2\n3 3\n0", "13\n+inf\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "各省省选", "江苏"], "title": "[JSOI2010] 蔬菜庆典", "background": "", "description": "JYY 在火星上找到一片埋有宝藏的岛，并且带走了一些宝藏。之后 JYY 被火星人发现偷宝藏，抓了起来。火星人打算吃掉 JYY，除非 JYY 能在火星年度蔬菜庆典的游戏中赢得足够多的火星币来支付他带走宝藏的费用。\n\n游戏在蔬菜广场上进行。首先放进广场的是一个巨大的转基因南瓜，接着各种其他巨大的蔬菜被陆续拖进广场，连同大南瓜一共 $n$ 个，第 $i$ 个放入的蔬菜会用一根绳子和先前放入的某个蔬菜连接起来。按照火星人的说法，蔬菜 $i$ 是蔬菜 $p_i$ 的 Dlihc，蔬菜 $p_i$ 是蔬菜 $i$ 的 Tnerap。JYY 立即看出，一开始的大南瓜没有 Tnerap，后来的每个蔬菜都恰好有一个 Tnerap；每个蔬菜可能有一个或多个的 Dlihc，也可能没有。$n$ 个蔬菜全部在广场上安置好后，火星人在每个蔬菜上贴一张纸条，蔬菜 $i$ 的纸条上写着一个整数 $v_i$，表示这个蔬菜的价钱。\n\n游戏一个接一个地进行着。在整个晚会将要结束时，JYY 终于等到了适合自己的那一个。（你不能指望有恐高症的 JYY 会在蔬菜间玩走钢丝，尽管那样能有丰厚的报酬）。游戏规则是：游戏者（也就是 JYY）每次可以选择任意一个既有 Dlihc 又有 Tnerap 的蔬菜 $i$，将它的价钱 $v_i$ 改成 $v_p+v_c-v_i$，其中 $p$ 代表蔬菜 $i$ 的 Tnerap 的编号，$c$ 代表蔬菜 $i$ 的任意一个 Dlihc 的编号。火星人给的时间比较宽裕，足够 JYY 进行任意多次操作。当 JYY 决定不再操作时，游戏结束。之后所有巨型蔬菜将被火星政府按蔬菜上的标价收购。买菜所得的钱归 JYY 所有，用以支付他的债务。\n\nJYY 想知道，他最多能把这些蔬菜卖出多少钱，或者他能通过一系列操作使得蔬菜的总价无限制地增大。请你帮助 JYY 解决这个问题。", "inputFormat": "输入文件有多组数据，每组数据的格式为：\n\n第一行一个整数 $n$ 表示广场上蔬菜的个数。\n\n接下来 $n$ 行，每行两个整数 $p_i,v_i$，第 $i$ 行中的整数代表蔬菜 $i$ 的 Tnerap 的编号和蔬菜 $i$ 的价格。\n\n当 $n=0$ 时表示输入结束。", "outputFormat": "对于每组数据，输出一行。若蔬菜的总价能无限制增大，输出 `+inf`。否则输出一个整数，表示所有蔬菜的最大总价。", "hint": "### 样例解释 1\n\n共有两组数据。\n\n对于第一组数据，我们只能对蔬菜 $3$ 进行操作，它的值只能是 $1$ 或 $4$，所以答案为 $3+2+4+2+2=13$。\n\n对于第二组数据，可以按照如下方法使得所有蔬菜的价钱无限制地增大：\n\n$$\\begin{matrix}1\\to 3+3-1=5\\\\5\\to 3+2-5=0\\\\0\\to 3+3-0=6\\\\6\\to 3+2-6=-1\\\\-1\\to 3+3-(-1)=7\\\\\\cdots\\end{matrix}$$\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$n\\leq 2\\times 10^5,-10^7\\leq v_i\\leq 10^7$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2010] 蔬菜庆典", "background": "", "description": "JYY 在火星上找到一片埋有宝藏的岛，并且带走了一些宝藏。之后 JYY 被火星人发现偷宝藏，抓了起来。火星人打算吃掉 JYY，除非 JYY 能在火星年度蔬菜庆典的游戏中赢得足够多的火星币来支付他带走宝藏的费用。\n\n游戏在蔬菜广场上进行。首先放进广场的是一个巨大的转基因南瓜，接着各种其他巨大的蔬菜被陆续拖进广场，连同大南瓜一共 $n$ 个，第 $i$ 个放入的蔬菜会用一根绳子和先前放入的某个蔬菜连接起来。按照火星人的说法，蔬菜 $i$ 是蔬菜 $p_i$ 的 Dlihc，蔬菜 $p_i$ 是蔬菜 $i$ 的 Tnerap。JYY 立即看出，一开始的大南瓜没有 Tnerap，后来的每个蔬菜都恰好有一个 Tnerap；每个蔬菜可能有一个或多个的 Dlihc，也可能没有。$n$ 个蔬菜全部在广场上安置好后，火星人在每个蔬菜上贴一张纸条，蔬菜 $i$ 的纸条上写着一个整数 $v_i$，表示这个蔬菜的价钱。\n\n游戏一个接一个地进行着。在整个晚会将要结束时，JYY 终于等到了适合自己的那一个。（你不能指望有恐高症的 JYY 会在蔬菜间玩走钢丝，尽管那样能有丰厚的报酬）。游戏规则是：游戏者（也就是 JYY）每次可以选择任意一个既有 Dlihc 又有 Tnerap 的蔬菜 $i$，将它的价钱 $v_i$ 改成 $v_p+v_c-v_i$，其中 $p$ 代表蔬菜 $i$ 的 Tnerap 的编号，$c$ 代表蔬菜 $i$ 的任意一个 Dlihc 的编号。火星人给的时间比较宽裕，足够 JYY 进行任意多次操作。当 JYY 决定不再操作时，游戏结束。之后所有巨型蔬菜将被火星政府按蔬菜上的标价收购。买菜所得的钱归 JYY 所有，用以支付他的债务。\n\nJYY 想知道，他最多能把这些蔬菜卖出多少钱，或者他能通过一系列操作使得蔬菜的总价无限制地增大。请你帮助 JYY 解决这个问题。", "inputFormat": "输入文件有多组数据，每组数据的格式为：\n\n第一行一个整数 $n$ 表示广场上蔬菜的个数。\n\n接下来 $n$ 行，每行两个整数 $p_i,v_i$，第 $i$ 行中的整数代表蔬菜 $i$ 的 Tnerap 的编号和蔬菜 $i$ 的价格。\n\n当 $n=0$ 时表示输入结束。", "outputFormat": "对于每组数据，输出一行。若蔬菜的总价能无限制增大，输出 `+inf`。否则输出一个整数，表示所有蔬菜的最大总价。", "hint": "### 样例解释 1\n\n共有两组数据。\n\n对于第一组数据，我们只能对蔬菜 $3$ 进行操作，它的值只能是 $1$ 或 $4$，所以答案为 $3+2+4+2+2=13$。\n\n对于第二组数据，可以按照如下方法使得所有蔬菜的价钱无限制地增大：\n\n$$\\begin{matrix}1\\to 3+3-1=5\\\\5\\to 3+2-5=0\\\\0\\to 3+3-0=6\\\\6\\to 3+2-6=-1\\\\-1\\to 3+3-(-1)=7\\\\\\cdots\\end{matrix}$$\n\n### 数据范围\n\n对于 $100\\%$ 的数据，$n\\leq 2\\times 10^5,-10^7\\leq v_i\\leq 10^7$。", "locale": "zh-CN"}}}
{"pid": "P7222", "type": "P", "difficulty": 1, "samples": [["100", "-10"]], "limits": {"time": [1000, 1000], "memory": [128000, 128000]}, "tags": [], "title": "[RC-04] 信息学竞赛", "background": "", "description": "小 R 今天学习了余角有关的数学知识，请你帮帮他计算一个角的余角吧！\n\n一个角的余角的计算公式如下：\n\n$$\\angle B=90\\degree -\\angle A$$\n\n其中 A 是给出的角，B 是你要计算的角。", "inputFormat": "一行一个整数 $x$，表示 $\\angle A=x\\degree$。", "outputFormat": "一行一个整数 $y$，表示 $\\angle B=y\\degree$。你需要严格按照公式计算。", "hint": "对于 $100\\%$ 的数据，$x$ 在 C++ 语言的 `int` 范围内。即，$x\\in[-2^{31},2^{31}-1]$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-04] 信息学竞赛", "background": "", "description": "小 R 今天学习了余角有关的数学知识，请你帮帮他计算一个角的余角吧！\n\n一个角的余角的计算公式如下：\n\n$$\\angle B=90\\degree -\\angle A$$\n\n其中 A 是给出的角，B 是你要计算的角。", "inputFormat": "一行一个整数 $x$，表示 $\\angle A=x\\degree$。", "outputFormat": "一行一个整数 $y$，表示 $\\angle B=y\\degree$。你需要严格按照公式计算。", "hint": "对于 $100\\%$ 的数据，$x$ 在 C++ 语言的 `int` 范围内。即，$x\\in[-2^{31},2^{31}-1]$。", "locale": "zh-CN"}}}
{"pid": "P7223", "type": "P", "difficulty": 3, "samples": [["2 2\n1 4", "51"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["背包 DP"], "title": "[RC-04] 01 背包", "background": "", "description": "有一个容积为 $+\\infty $ 的背包，你要往里面放物品。\n\n你有 $n$ 个物品，第 $i$ 个体积为 $a_i$。\n\n你有一个幸运数字 $p$，若放入的物品体积和为 $k$，你会得到 $p^k$ 的收益。**特别地，$0^0=1$。**\n\n求所有 $2^n$ 种放入物品的方案的收益和。答案很大，因此请输出它对 $998244353$ 取模的值。", "inputFormat": "第一行两个整数 $n,p$。\n\n接下来一行 $n$ 个正整数 $a_1\\sim a_n$，描述这 $n$ 个物品的体积。", "outputFormat": "输出一个整数，为所有 $2^n$ 种方案的收益和对 $998244353$ 取模的值。", "hint": "【样例解释】\n\n答案为 $2^0+2^1+2^4+2^5=51$。\n\n【数据范围】\n\n对于所有数据，$1\\le n\\le 10^6$，$0\\le p,a_i<998244353$。\n\n详细数据范围如下表：\n\n| 测试点编号 | $n$ | $p$ | $\\sum_{i=1}^na_i$ | 每测试点分数 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ |  | $=0$ |  | $2$ |\n| $2\\sim 5$ | $\\le 22$ |  |  | $6$ |\n| $6\\sim 9$ | $\\le 1000$ |  | $\\le 1000$ | $6$ |\n| $10\\sim 14$ | $\\le 100000$ |  | $\\le 100000$ | $5$ |\n| $15$ |  |  |  | $25$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-04] 01 背包", "background": "", "description": "有一个容积为 $+\\infty $ 的背包，你要往里面放物品。\n\n你有 $n$ 个物品，第 $i$ 个体积为 $a_i$。\n\n你有一个幸运数字 $p$，若放入的物品体积和为 $k$，你会得到 $p^k$ 的收益。**特别地，$0^0=1$。**\n\n求所有 $2^n$ 种放入物品的方案的收益和。答案很大，因此请输出它对 $998244353$ 取模的值。", "inputFormat": "第一行两个整数 $n,p$。\n\n接下来一行 $n$ 个正整数 $a_1\\sim a_n$，描述这 $n$ 个物品的体积。", "outputFormat": "输出一个整数，为所有 $2^n$ 种方案的收益和对 $998244353$ 取模的值。", "hint": "【样例解释】\n\n答案为 $2^0+2^1+2^4+2^5=51$。\n\n【数据范围】\n\n对于所有数据，$1\\le n\\le 10^6$，$0\\le p,a_i<998244353$。\n\n详细数据范围如下表：\n\n| 测试点编号 | $n$ | $p$ | $\\sum_{i=1}^na_i$ | 每测试点分数 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ |  | $=0$ |  | $2$ |\n| $2\\sim 5$ | $\\le 22$ |  |  | $6$ |\n| $6\\sim 9$ | $\\le 1000$ |  | $\\le 1000$ | $6$ |\n| $10\\sim 14$ | $\\le 100000$ |  | $\\le 100000$ | $5$ |\n| $15$ |  |  |  | $25$ |", "locale": "zh-CN"}}}
{"pid": "P7224", "type": "P", "difficulty": 4, "samples": [["4 4\n1 1 2 3", "4"], ["20 123456\n1 5 12 24 189893 233333 2 22 134 3284 28456 261 50 10 1 2 2 2 2 22", "1036360"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "O2优化", "背包 DP"], "title": "[RC-04] 子集积", "background": "", "description": "给出 $n$ 个整数 $a_1\\sim a_n$，它们构成的多重集中，有几个子集的元素积大于 $m$？（空集的元素积等于 $1$）\n\n两个子集不同，当且仅当它们中包含元素的 **下标** 不同。\n\n答案很大，因此请输出它对 $998244353$ 取模的值。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来一行 $n$ 个正整数 $a_1\\sim a_n$，描述这个多重集。", "outputFormat": "一行一个整数，为答案对 $998244353$ 取模的值。", "hint": "【样例 $1$ 解释】\n\n以下子集符合要求：$\\{a_3,a_4\\}$，$\\{a_1,a_3,a_4\\}$，$\\{a_2,a_3,a_4\\}$，$\\{a_1,a_2,a_3,a_4\\}$。\n\n【数据范围】\n\n对于所有数据，$0\\le n,m\\le 10^6$，$1\\le a_i\\le 10^6$。\n\n详细数据范围如下表：\n\n| 测试点编号 | $n$ | $m$ | $a_i$ | 每测试点分数 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $=0$ |  |  | $1$ |\n| $2$ |  | $=0$ |  | $1$ |\n| $3\\sim 6$ | $\\le 22$ |  |  | $4$ |\n| $7\\sim 10$ | $\\le 1000$ | $\\le 1000$ |  | $4$ |\n| $11\\sim 14$ |  |  | 互不相同 | $4$ |\n| $15\\sim 19$ | $\\le 2\\times 10^5$ | $\\le 2\\times 10^5$ |  | $5$ |\n| $20\\sim 24$ |  |  |  | $5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-04] 子集积", "background": "", "description": "给出 $n$ 个整数 $a_1\\sim a_n$，它们构成的多重集中，有几个子集的元素积大于 $m$？（空集的元素积等于 $1$）\n\n两个子集不同，当且仅当它们中包含元素的 **下标** 不同。\n\n答案很大，因此请输出它对 $998244353$ 取模的值。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来一行 $n$ 个正整数 $a_1\\sim a_n$，描述这个多重集。", "outputFormat": "一行一个整数，为答案对 $998244353$ 取模的值。", "hint": "【样例 $1$ 解释】\n\n以下子集符合要求：$\\{a_3,a_4\\}$，$\\{a_1,a_3,a_4\\}$，$\\{a_2,a_3,a_4\\}$，$\\{a_1,a_2,a_3,a_4\\}$。\n\n【数据范围】\n\n对于所有数据，$0\\le n,m\\le 10^6$，$1\\le a_i\\le 10^6$。\n\n详细数据范围如下表：\n\n| 测试点编号 | $n$ | $m$ | $a_i$ | 每测试点分数 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $=0$ |  |  | $1$ |\n| $2$ |  | $=0$ |  | $1$ |\n| $3\\sim 6$ | $\\le 22$ |  |  | $4$ |\n| $7\\sim 10$ | $\\le 1000$ | $\\le 1000$ |  | $4$ |\n| $11\\sim 14$ |  |  | 互不相同 | $4$ |\n| $15\\sim 19$ | $\\le 2\\times 10^5$ | $\\le 2\\times 10^5$ |  | $5$ |\n| $20\\sim 24$ |  |  |  | $5$ |", "locale": "zh-CN"}}}
{"pid": "P7225", "type": "P", "difficulty": 3, "samples": [], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["交互题", "Special Judge"], "title": "[RC-04] 走迷宫", "background": "**这是一道交互题。** \n\n请确保您提交前认真阅读过 <https://www.luogu.com.cn/blog/luogu/interactive-problems>，并且熟知 P1947 的写法。\n\n您可以直接在以下样例程序中编辑：\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nextern \"C\" bool move_to(char position);\nextern \"C\" string find_out_map(int X,int Y,int N){\n\treturn \"233\";\n}\n```\n\n同时本题不支持 Pascal，祝愿 Pascal 党早日转 C++。", "description": "### 题目描述\n\n**这是一道交互题。** \n\n你被困在一个迷宫内，你需要求出这个迷宫的地图。\n\n迷宫是 $n\\times n$ 的网格，每个位置上要么是障碍，要么是路。障碍用 `1` 表示，路用 `0` 表示。坐标按照从上到下，从左到右编号，第 $i$ 行第 $j$ 列坐标为 $(i,j)$。\n\n定义两个格子连通当且仅当他们有公共边（四连通）。保证恰好存在一个 `0` 构成的连通块，并且你的出生点在这个连通块中。\n\n### 实现细节\n\n你需实现一个函数：\n\n`string find_out_map(int x,int y,int n)`\n\n参数为三个整数 $x,y,n$，返回值为一个字符串。其中 $x,y$ 表示你的坐标为 $(x,y)$（$1<x,y<n$），$n$ 为地图大小。\n\n你返回的字符串的第 $i$ 位（$0\\le i<n\\times n$）为 `1` 表示地图的第 $\\lfloor\\dfrac{i}{n}\\rfloor+1$ 行，第 $i+1-n\\lfloor \\dfrac{i}{n}\\rfloor$ 列是障碍；反之为路。\n\n你可以调用以下函数以找出答案：\n\n`bool move_to(char position)`\n\n其中 `position` 为 `WASD` 中任一个，分别表示试图向上，左，下，右（分别为横坐标减一，纵坐标减一，横坐标加一，纵坐标加一）移动。若这个函数返回 `1`，说明你成功向这个方向移动一格；否则说明这个方向上有障碍物，移动失败。注意除了最开始，你都不能从交互器获得当前坐标。假如 `position` 不合法，交互器的行为是未定义的。\n\n保证地图开始时已确定，不会动态构造。保证第一列，第一行，第 $n$ 列，第 $n$ 行都是障碍。\n\n**你的函数可能会被调用多次，请注意初始化。**", "inputFormat": "这部分你无法读取，其中包含 $n$ 与地图。输入文件以加密形式给出，并且交互器中也不会解密存储。", "outputFormat": "没有输出。", "hint": "### 交互过程范例\n\n假设地图为\n\n```\n1111\n1011\n1001\n1111\n```\n\n最初传进来的参数为 $(2,2,4)$。\n\n下面是一种合法的交互过程：\n\n| 选手调用 | 交互器返回 |\n| :----------: | :----------: |\n| `move_to('S')` | 1 |\n| `move_to('D')` | 1 |\n| `move_to('W')` | 0 |\n| 返回 `1111101110011111` | Accepted |\n\n### 数据范围与限制\n\n**本题时间限制 $2$ 秒，空间限制 $512\\text{MB}$，且保证交互库最坏情况下所用时间小于 $0.5$ 秒、空间小于 $15\\text{MB}$。**\n\n首先交互题会受到和常规题相同的限制，如超时/超空间会导致整个测试点得零分。\n\n在此基础上，当且仅当你报告的迷宫地图完全正确时你得分。设你调用函数最多的一次次数为 $W$，则你得到该测试点的满分，当且仅当 $W\\le 5\\times 10^5$。\n\n对于 $100\\%$ 的数据，$5\\le n\\le 500$。设调用你的函数的次数为 $x$（相当于有多组数据，你需要初始化），则 $1\\le x\\le 50$。详细数据范围如下，$(T)$ 表示这个测试点分数为 $T$ 分。\n\n- 测试点 $1\\ (8)$：$n=5,x\\le 50$。\n- 测试点 $2\\ (8)$：$n=7,x\\le 50$。\n- 测试点 $3\\ (20)$：$n\\le 10,x\\le 50$。\n- 测试点 $4\\ (10)$：$n\\le 500,x\\le 7$。保证仅存在恰好一个 `1` 构成的连通块。\n- 测试点 $5\\ (10)$：$n\\le 20,x\\le 20$。\n- 测试点 $6\\ (10)$：$n\\le 50,x\\le 20$。\n- 测试点 $7\\ (9)$：$n\\le 100,x\\le 10$。\n- 测试点 $8\\ (10)$：$n\\le 200,x\\le 7$。\n- 测试点 $9\\ (15)$：$n\\le 500,x\\le 7$。\n\n### 交互题怎么调试\n\n本题交互过程太过简单，因此本题不提供交互器。请选手自行编写。\n\n假如你不知道怎么做：只需编写一个程序，读入地图，并且实现 `move_to` 函数，然后把你的答案函数放于其中即可运行。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[RC-04] 走迷宫", "background": "**这是一道交互题。** \n\n请确保您提交前认真阅读过 <https://www.luogu.com.cn/blog/luogu/interactive-problems>，并且熟知 P1947 的写法。\n\n您可以直接在以下样例程序中编辑：\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nextern \"C\" bool move_to(char position);\nextern \"C\" string find_out_map(int X,int Y,int N){\n\treturn \"233\";\n}\n```\n\n同时本题不支持 Pascal，祝愿 Pascal 党早日转 C++。", "description": "### 题目描述\n\n**这是一道交互题。** \n\n你被困在一个迷宫内，你需要求出这个迷宫的地图。\n\n迷宫是 $n\\times n$ 的网格，每个位置上要么是障碍，要么是路。障碍用 `1` 表示，路用 `0` 表示。坐标按照从上到下，从左到右编号，第 $i$ 行第 $j$ 列坐标为 $(i,j)$。\n\n定义两个格子连通当且仅当他们有公共边（四连通）。保证恰好存在一个 `0` 构成的连通块，并且你的出生点在这个连通块中。\n\n### 实现细节\n\n你需实现一个函数：\n\n`string find_out_map(int x,int y,int n)`\n\n参数为三个整数 $x,y,n$，返回值为一个字符串。其中 $x,y$ 表示你的坐标为 $(x,y)$（$1<x,y<n$），$n$ 为地图大小。\n\n你返回的字符串的第 $i$ 位（$0\\le i<n\\times n$）为 `1` 表示地图的第 $\\lfloor\\dfrac{i}{n}\\rfloor+1$ 行，第 $i+1-n\\lfloor \\dfrac{i}{n}\\rfloor$ 列是障碍；反之为路。\n\n你可以调用以下函数以找出答案：\n\n`bool move_to(char position)`\n\n其中 `position` 为 `WASD` 中任一个，分别表示试图向上，左，下，右（分别为横坐标减一，纵坐标减一，横坐标加一，纵坐标加一）移动。若这个函数返回 `1`，说明你成功向这个方向移动一格；否则说明这个方向上有障碍物，移动失败。注意除了最开始，你都不能从交互器获得当前坐标。假如 `position` 不合法，交互器的行为是未定义的。\n\n保证地图开始时已确定，不会动态构造。保证第一列，第一行，第 $n$ 列，第 $n$ 行都是障碍。\n\n**你的函数可能会被调用多次，请注意初始化。**", "inputFormat": "这部分你无法读取，其中包含 $n$ 与地图。输入文件以加密形式给出，并且交互器中也不会解密存储。", "outputFormat": "没有输出。", "hint": "### 交互过程范例\n\n假设地图为\n\n```\n1111\n1011\n1001\n1111\n```\n\n最初传进来的参数为 $(2,2,4)$。\n\n下面是一种合法的交互过程：\n\n| 选手调用 | 交互器返回 |\n| :----------: | :----------: |\n| `move_to('S')` | 1 |\n| `move_to('D')` | 1 |\n| `move_to('W')` | 0 |\n| 返回 `1111101110011111` | Accepted |\n\n### 数据范围与限制\n\n**本题时间限制 $2$ 秒，空间限制 $512\\text{MB}$，且保证交互库最坏情况下所用时间小于 $0.5$ 秒、空间小于 $15\\text{MB}$。**\n\n首先交互题会受到和常规题相同的限制，如超时/超空间会导致整个测试点得零分。\n\n在此基础上，当且仅当你报告的迷宫地图完全正确时你得分。设你调用函数最多的一次次数为 $W$，则你得到该测试点的满分，当且仅当 $W\\le 5\\times 10^5$。\n\n对于 $100\\%$ 的数据，$5\\le n\\le 500$。设调用你的函数的次数为 $x$（相当于有多组数据，你需要初始化），则 $1\\le x\\le 50$。详细数据范围如下，$(T)$ 表示这个测试点分数为 $T$ 分。\n\n- 测试点 $1\\ (8)$：$n=5,x\\le 50$。\n- 测试点 $2\\ (8)$：$n=7,x\\le 50$。\n- 测试点 $3\\ (20)$：$n\\le 10,x\\le 50$。\n- 测试点 $4\\ (10)$：$n\\le 500,x\\le 7$。保证仅存在恰好一个 `1` 构成的连通块。\n- 测试点 $5\\ (10)$：$n\\le 20,x\\le 20$。\n- 测试点 $6\\ (10)$：$n\\le 50,x\\le 20$。\n- 测试点 $7\\ (9)$：$n\\le 100,x\\le 10$。\n- 测试点 $8\\ (10)$：$n\\le 200,x\\le 7$。\n- 测试点 $9\\ (15)$：$n\\le 500,x\\le 7$。\n\n### 交互题怎么调试\n\n本题交互过程太过简单，因此本题不提供交互器。请选手自行编写。\n\n假如你不知道怎么做：只需编写一个程序，读入地图，并且实现 `move_to` 函数，然后把你的答案函数放于其中即可运行。", "locale": "zh-CN"}}}
{"pid": "P7226", "type": "P", "difficulty": 1, "samples": [["2\n212\n1253\n", "1953566"], ["5\n23\n17\n43\n52\n22\n", "102"], ["3\n213\n102\n45\n", "10385"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "数学", "2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #3] POT", "background": null, "description": "老师给同学们发了一封电子邮件，任务如下。\n\n> 写一个程序，给你 $n$ 个数，输出 $X$。      \n> $$X = num_1^{p_1} + num_2^{p_2} + \\cdots + num_n^{p_n}$$         \n> $num_1$，$num_2$，$\\cdots$，$num_n$ 都是整数，$p_1$，$p_2$，$\\cdots$，$p_n$ 都是一位数。    \n\n但是出现了一些玄学错误，使得 $X$ 变成了：\n$$X = q_1 + q_2 +... + q_n$$\n\n注：$q_i = num_i \\times 10 + p_i$。\n\n例如，原来的 $X$ 为 $21^2+125^3$，但现在变成了 $212+1253$。请帮助老师编写一个程序，输出原来 $X$ 的值。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，每行一个整数 $q_i$。", "outputFormat": "仅一行一个整数，$X$ 的值。", "hint": "#### 数据规模及约定\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10$，$10 \\le q_i \\le 9.999 \\times 10 ^ 3$，$1 \\leq X \\leq 10 ^ 9$。\n\n#### 说明\n翻译自 [COCI 2015-2016 #3 A POT](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 50。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #3] POT", "background": null, "description": "老师给同学们发了一封电子邮件，任务如下。\n\n> 写一个程序，给你 $n$ 个数，输出 $X$。      \n> $$X = num_1^{p_1} + num_2^{p_2} + \\cdots + num_n^{p_n}$$         \n> $num_1$，$num_2$，$\\cdots$，$num_n$ 都是整数，$p_1$，$p_2$，$\\cdots$，$p_n$ 都是一位数。    \n\n但是出现了一些玄学错误，使得 $X$ 变成了：\n$$X = q_1 + q_2 +... + q_n$$\n\n注：$q_i = num_i \\times 10 + p_i$。\n\n例如，原来的 $X$ 为 $21^2+125^3$，但现在变成了 $212+1253$。请帮助老师编写一个程序，输出原来 $X$ 的值。", "inputFormat": "第一行，一个正整数 $n$。\n\n接下来 $n$ 行，每行一个整数 $q_i$。", "outputFormat": "仅一行一个整数，$X$ 的值。", "hint": "#### 数据规模及约定\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 10$，$10 \\le q_i \\le 9.999 \\times 10 ^ 3$，$1 \\leq X \\leq 10 ^ 9$。\n\n#### 说明\n翻译自 [COCI 2015-2016 #3 A POT](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 50。", "locale": "zh-CN"}}}
{"pid": "P7227", "type": "P", "difficulty": 2, "samples": [["2 7\n", "this shakespeare fella is good"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "Special Judge", "随机化", "构造", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #3] ESEJ", "background": "", "description": "小 M 要写一篇文章。\n\n- 这篇文章至少 $a$ 个词，最多 $b$ 个词，\n- 每个单词至少 $1$ 个字母，最多 $15$ 个字母。\n- 文章至少包含 $\\dfrac{b}{2}$ 个不同的单词。\n\n小 M 昨晚熬夜打 Codeforces，所以请你帮他写作文。\n\n作文只能有一段（只有一行），只能使用英文字母的小写字母和空格。\n\n**注：作文的句意可以不通顺，语法也可以不正确，只要符合要求的作文，均可以 $\\color{green}\\texttt{AC}$。**", "inputFormat": "第一行两个正整数 $a, b$。", "outputFormat": "一行，一篇作文。", "hint": "#### 数据规模及约定\n\n对于 $100\\%$ 的数据，$1\\le a, b \\le 10^5$。\n\n#### 说明\n- 样例 #2 和样例 #3 由于输出过长放置在了这里：[样例 #2 与样例 #3](https://www.luogu.com.cn/paste/we9k25k1)。\n- 翻译自 [COCI 2015-2016 #3 B ESEJ](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 80。\n- 感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的 checker.cpp。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #3] ESEJ", "background": "", "description": "小 M 要写一篇文章。\n\n- 这篇文章至少 $a$ 个词，最多 $b$ 个词，\n- 每个单词至少 $1$ 个字母，最多 $15$ 个字母。\n- 文章至少包含 $\\dfrac{b}{2}$ 个不同的单词。\n\n小 M 昨晚熬夜打 Codeforces，所以请你帮他写作文。\n\n作文只能有一段（只有一行），只能使用英文字母的小写字母和空格。\n\n**注：作文的句意可以不通顺，语法也可以不正确，只要符合要求的作文，均可以 $\\color{green}\\texttt{AC}$。**", "inputFormat": "第一行两个正整数 $a, b$。", "outputFormat": "一行，一篇作文。", "hint": "#### 数据规模及约定\n\n对于 $100\\%$ 的数据，$1\\le a, b \\le 10^5$。\n\n#### 说明\n- 样例 #2 和样例 #3 由于输出过长放置在了这里：[样例 #2 与样例 #3](https://www.luogu.com.cn/paste/we9k25k1)。\n- 翻译自 [COCI 2015-2016 #3 B ESEJ](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 80。\n- 感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的 checker.cpp。", "locale": "zh-CN"}}}
{"pid": "P7228", "type": "P", "difficulty": 3, "samples": [["3\n1 2\n2 3", "1\n0"], ["4\n2 1\n1 3\n4 1", "0\n1\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "Special Judge", "深度优先搜索 DFS", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #3] MOLEKULE", "background": "", "description": "有 $N$ 个点和 $N-1$ 条无向边，定义一张有向图的代价为一条在这张有向图上的最长通路长度。\n\n现在把这 $N-1$ 条无向边指定方向，使得形成的有向图代价最小。\n\n求一种指定方向的方案。", "inputFormat": "第一行一个整数 $N$ 代表点数。      \n接下来 $N-1$ 行每行两个整数 $a_i,b_i$ 代表一条边。", "outputFormat": "$N-1$ 行每行一个整数 $r$：\n\n- 如果 $r=1$ 代表从 $a_i$ 连向 $b_i$。\n- 如果 $r=0$ 代表从 $b_i$ 连向 $a_i$。", "hint": "#### 样例 1 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f1q6jgtu.png)\n\n这张图的代价为 $1$，注意 $0\\ 1$ 也是一组最优解。\n\n#### 样例 2 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/96aku20f.png)\n\n#### 数据规模与约定\n\n对于 $30\\%$ 的数据，$N \\le 20$。       \n对于 $100\\%$ 的数据，$2 \\le N \\le 10^5$，$1 \\le a_i,b_i\\le N$。\n\n**本题采用 Special Judge。**        \n你只需要输出任意一种合法方案。\n\n#### 说明\n\n翻译自 [COCI 2015-2016 #3 C MOLEKULE](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #3] MOLEKULE", "background": "", "description": "有 $N$ 个点和 $N-1$ 条无向边，定义一张有向图的代价为一条在这张有向图上的最长通路长度。\n\n现在把这 $N-1$ 条无向边指定方向，使得形成的有向图代价最小。\n\n求一种指定方向的方案。", "inputFormat": "第一行一个整数 $N$ 代表点数。      \n接下来 $N-1$ 行每行两个整数 $a_i,b_i$ 代表一条边。", "outputFormat": "$N-1$ 行每行一个整数 $r$：\n\n- 如果 $r=1$ 代表从 $a_i$ 连向 $b_i$。\n- 如果 $r=0$ 代表从 $b_i$ 连向 $a_i$。", "hint": "#### 样例 1 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f1q6jgtu.png)\n\n这张图的代价为 $1$，注意 $0\\ 1$ 也是一组最优解。\n\n#### 样例 2 解释\n\n如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/96aku20f.png)\n\n#### 数据规模与约定\n\n对于 $30\\%$ 的数据，$N \\le 20$。       \n对于 $100\\%$ 的数据，$2 \\le N \\le 10^5$，$1 \\le a_i,b_i\\le N$。\n\n**本题采用 Special Judge。**        \n你只需要输出任意一种合法方案。\n\n#### 说明\n\n翻译自 [COCI 2015-2016 #3 C MOLEKULE](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7229", "type": "P", "difficulty": 4, "samples": [["5+3+x\n9 10\n", "1"], ["20+3+x\n0 5\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2015", "数论", "栈", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #3] SLON", "background": "", "description": "小 Q 在学校里非常调皮。\n\n他上课时总是很无聊，他总是把课堂弄得一团糟。老师希望让他冷静下来，所以给他出了一道很难的数学题。\n\n老师给小 Q 一个算术表达式 $A$、整数 $P$ 和 $M$，小 Q 要回答的是以下问题：\n\n> 求最小非负整数  $x$，使含  $x$ 的表达式  $A$ 除以  $M$ 余数等于  $P$。\n\n注意每一个运算符均会连接两个数或是变量。每一个乘号都不会省略且不允许连接两个含有 $x$ 的表达式。括号均合法，可能存在括号内容仅有一个数或变量的情况。\n\n题目保证原表达式化简后一定能写成一个形如 $kx+b$ 的一元一次式。", "inputFormat": "第一行，一行表达式 $A$。\n\n第二行，两个正整数 $P, M$。", "outputFormat": "第一行，一个正整数 $x$。", "hint": "#### 数据规模及约定\n\n对于 $100\\%$ 的数据：\n- 令 $|A|$ 为字符串 $A$ 的长度，那么 $1 \\le |A| \\le 10 ^ 5$。\n- 表达式 $A$ 中仅会有 $\\texttt{+}$，$\\texttt{-}$，$\\texttt{*}$，$\\texttt{(}$，$\\texttt{)}$，$\\texttt{x}$，和 $\\texttt{0}$ $\\sim$ $\\texttt{9}$。\n- $0 \\le P \\le M - 1$。\n- $1 \\le M \\le 10 ^ 6$。\n\n#### 说明\n翻译自 [COCI 2015-2016 #3 D SLON](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 120。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #3] SLON", "background": "", "description": "小 Q 在学校里非常调皮。\n\n他上课时总是很无聊，他总是把课堂弄得一团糟。老师希望让他冷静下来，所以给他出了一道很难的数学题。\n\n老师给小 Q 一个算术表达式 $A$、整数 $P$ 和 $M$，小 Q 要回答的是以下问题：\n\n> 求最小非负整数  $x$，使含  $x$ 的表达式  $A$ 除以  $M$ 余数等于  $P$。\n\n注意每一个运算符均会连接两个数或是变量。每一个乘号都不会省略且不允许连接两个含有 $x$ 的表达式。括号均合法，可能存在括号内容仅有一个数或变量的情况。\n\n题目保证原表达式化简后一定能写成一个形如 $kx+b$ 的一元一次式。", "inputFormat": "第一行，一行表达式 $A$。\n\n第二行，两个正整数 $P, M$。", "outputFormat": "第一行，一个正整数 $x$。", "hint": "#### 数据规模及约定\n\n对于 $100\\%$ 的数据：\n- 令 $|A|$ 为字符串 $A$ 的长度，那么 $1 \\le |A| \\le 10 ^ 5$。\n- 表达式 $A$ 中仅会有 $\\texttt{+}$，$\\texttt{-}$，$\\texttt{*}$，$\\texttt{(}$，$\\texttt{)}$，$\\texttt{x}$，和 $\\texttt{0}$ $\\sim$ $\\texttt{9}$。\n- $0 \\le P \\le M - 1$。\n- $1 \\le M \\le 10 ^ 6$。\n\n#### 说明\n翻译自 [COCI 2015-2016 #3 D SLON](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 120。", "locale": "zh-CN"}}}
{"pid": "P7230", "type": "P", "difficulty": 6, "samples": [["4 3 5\n2 3 1 2\n2\n1 3 3\n2\n1 1 1\n2\n", "3\n-1\n4\n"], ["6 3 6\n1 2 3 2 1 1\n2\n1 2 1\n2\n1 4 1\n1 6 2\n2", "3\n3\n4\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712, 499712]}, "tags": ["2015", "线段树", "COCI（克罗地亚）", "双指针 two-pointer", "线段树分治"], "title": "[COCI 2015/2016 #3] NEKAMELEONI", "background": "> 「嘿，亲爱的！我要去给 $11$ 月 $28$ 日的 Croatian Open Competition In Informatics 出 T5。」      \n> 「去吧，去吧……」 　　                       \n> 「…」\n> _____\n> 「这题怎么样？」          \n> 「唔……这太难了……会把那些小可爱难住的，换个简单些的吧……」           \n> 于是可爱的出题人便出了这道题。\n> ______\n> 嘿！我会 $O(n^6)$ 的做法，$ n$ 的范围是什么？？", "description": "给你一个 $n$ 个元素的数组。你需要处理 $q$ 个查询。\n\n- 第一种查询需要你将数组中的第 $p$ 个数字改为 $v$。\n- 第二种查询需要你确定当前数组中最短的连续子数组的长度，这个子数组必须要包含从 $1$ 到 $k$ 的所有数字。\n", "inputFormat": "第一行，三个正整数 $n, k, m$。\n\n第二行，$n$ 个正整数，用空格隔开，表示数组中的数。\n\n接着，$m$ 行，表示 $m$ 个查询，每个查询有以下两种形式。\n- $\\texttt{1 p v}$：将数组中的第 $p$ 个数字改为 $v$。\n- $\\texttt{2}$：确定并输出当前数组中最短的连续子数组的长度，这个子数组必须要包含从 $1$ 到 $k$ 的所有数字。", "outputFormat": "仅查询 $2$ 有输出。\n\n对于每个查询 $2$，输出当前数组中最短的连续子数组的长度（这个子数组必须要包含从 $1$ 到 $k$ 的所有数字），若没有输出 $\\texttt{-1}$。", "hint": "#### 数据范围及约定\n- 对于 $30\\%$ 的数据，$1\\le n, m \\le 5 \\times 10 ^ 3$。\n- 对于 $100\\%$ 的数据，$1 \\le n, m \\le 10^5$，$1\\le k \\le 50$，$1 \\le p \\le n$，$1\\le v \\le k$。\n\n#### 说明\n翻译自 [COCI 2015-2016 #3 E NEKAMELEONI](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 140。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #3] NEKAMELEONI", "background": "> 「嘿，亲爱的！我要去给 $11$ 月 $28$ 日的 Croatian Open Competition In Informatics 出 T5。」      \n> 「去吧，去吧……」 　　                       \n> 「…」\n> _____\n> 「这题怎么样？」          \n> 「唔……这太难了……会把那些小可爱难住的，换个简单些的吧……」           \n> 于是可爱的出题人便出了这道题。\n> ______\n> 嘿！我会 $O(n^6)$ 的做法，$ n$ 的范围是什么？？", "description": "给你一个 $n$ 个元素的数组。你需要处理 $q$ 个查询。\n\n- 第一种查询需要你将数组中的第 $p$ 个数字改为 $v$。\n- 第二种查询需要你确定当前数组中最短的连续子数组的长度，这个子数组必须要包含从 $1$ 到 $k$ 的所有数字。\n", "inputFormat": "第一行，三个正整数 $n, k, m$。\n\n第二行，$n$ 个正整数，用空格隔开，表示数组中的数。\n\n接着，$m$ 行，表示 $m$ 个查询，每个查询有以下两种形式。\n- $\\texttt{1 p v}$：将数组中的第 $p$ 个数字改为 $v$。\n- $\\texttt{2}$：确定并输出当前数组中最短的连续子数组的长度，这个子数组必须要包含从 $1$ 到 $k$ 的所有数字。", "outputFormat": "仅查询 $2$ 有输出。\n\n对于每个查询 $2$，输出当前数组中最短的连续子数组的长度（这个子数组必须要包含从 $1$ 到 $k$ 的所有数字），若没有输出 $\\texttt{-1}$。", "hint": "#### 数据范围及约定\n- 对于 $30\\%$ 的数据，$1\\le n, m \\le 5 \\times 10 ^ 3$。\n- 对于 $100\\%$ 的数据，$1 \\le n, m \\le 10^5$，$1\\le k \\le 50$，$1 \\le p \\le n$，$1\\le v \\le k$。\n\n#### 说明\n翻译自 [COCI 2015-2016 #3 E NEKAMELEONI](https://hsin.hr/coci/archive/2015_2016/contest3_tasks.pdf)，满分 140。\n\n", "locale": "zh-CN"}}}
