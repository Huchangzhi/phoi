{"pid": "P10835", "type": "P", "difficulty": 2, "samples": [["4\n3 3\n2 5\n0 3\n1 4\n", "Yes\nYes\nNo\nNo\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "洛谷原创", "O2优化", "位运算", "洛谷月赛"], "title": "『FLA - I』冲云霄", "background": "住在呼和浩特的小 R 很久以前就学会了异或。异或使用符号 $\\oplus$ 表示，在 C++ 中可用符号 `^` 表示。非负整数 $x$ 和 $y$ 的异或是指对它们二进制表示中的每一位进行如下运算得到的结果：\n\n- 若 $x$ 和 $y$ 的第 $k$ 个二进制位相同，结果的第 $k$ 个二进制位为 $0$；\n- 若 $x$ 和 $y$ 的第 $k$ 个二进制位不同，结果的第 $k$ 个二进制位为 $1$。\n\n使用 $(X)_{10}$ 表示十进制数 $X$，$(Y)_2$ 表示二进制数 $Y$，因为 $(12)_{10}=(1100)_2$，$(10)_{10}=(1010)_2$，所以 $(12)_{10} \\oplus (10)_{10}=(1100)_2 \\oplus (1010)_2=(0110)_2=(6)_{10}$。\n\n住在银川的小 F 想用这道题难倒小 R 但失败了，现在小 F 又想用这道题为难你，不能让他的阴谋得逞！", "description": "给定**整数** $n$ 和 $m$，判断是否存在满足下列条件的数列 $a$。本题中数列元素的下标从 $1$ 开始。\n\n- 数列 $a$ 的长度为 $m$，数列 $a$ 的每一项都为**正整数**。\n\n- $a_1 \\oplus a_2 \\oplus \\cdots \\oplus a_m = n$，即数列 $a$ 的所有项异或得到的结果等于 $n$。\n\n- 数列 $a$ 中所有元素的值都相同。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据，输入一行两个整数 $n,m$。", "outputFormat": "对于每组测试数据，输出一行一个字符串。如果存在满足条件的数列 $a$，输出 `Yes`；否则输出 `No`。", "hint": "**「样例解释 #1」**\n\n对于第一组测试数据，数列 $a$ 可以是 $[3,3,3]$，此时 $a_1 \\oplus a_2 \\oplus a_3 = 3 \\oplus 3 \\oplus 3 = 3$。\n\n对于第二组测试数据，数列 $a$ 可以是 $[2,2,2,2,2]$，此时 $a_1 \\oplus a_2 \\oplus a_3 \\oplus a_4 \\oplus a_5 = 2 \\oplus 2 \\oplus 2 \\oplus 2 \\oplus 2 = 2$。\n\n对于第三组和第四组测试数据，可以证明不存在满足条件的数列。\n\n**「数据范围」**\n\n|测试点编号|$T \\leq$|$n \\leq$|$m \\leq$|\n|:-:|:-:|:-:|:-:|\n|$1 \\sim 2$|$5$|$0$|$10^9$|\n|$3 \\sim 4$|$5$|$10^9$|$3$|\n|$5$|$10^5$|$10^9$|$10^9$|\n\n对于所有测试数据，$1 \\leq T \\leq 10^5$，$0 \\leq n \\leq 10^9$，$2 \\leq m \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "『FLA - I』Up to the Clouds", "background": "It has been a long time since Ryan, who lives in Hohhot, learned the operation XOR. Denote by $\\oplus$ the Bitwise XOR operation. In C++, it is denoted by `^`. The XOR of non-negative integers $x$ and $y$ is the result of performing the following operation on each bit of their binary representation:\n\n- When $x$ and $y$ are different on this bit, the result is $1$ on this bit.\n- When $x$ and $y$ are the same on this bit, this result is $0$ on this bit.\n\nDenote by $(X)_{10}$ the decimal representation of $X$, and denote by $(Y)_2$ the binary representation of $Y$. For example, $(12)_{10}=(1100)_2$, $(10)_{10}=(1010)_2$, and then $(12)_{10} \\oplus (10)_{10}=(1100)_2 \\oplus (1010)_2=(0110)_2=(6)_{10}$.\n\nFlanksy, who lives in Yinchuan, tried to stump Ryan using this problem but failed. Now Flanksy wants to use this problem to stump you. Don't let his conspiracy succeed!", "description": "Given **integers** $n$ and $m$, determine whether there is a sequence $a$ that satisfying the following constraints. The indices of the sequence elements in this question start from $1$.\n\n- The length of the sequence $a$ is $m$, and each entry of the sequence $a$ is a **positive integer**.\n\n- $a_1 \\oplus a_2 \\oplus \\cdots \\oplus a_m = n$, that is, the result of XORing all entries of the sequence $a$ is equal to $n$.\n\n- All the entries in $a$ are the same.", "inputFormat": "**Each test consists of multiple test cases.**\n\nThe first line contains an integer $T$ — the number of test cases. Then follows the description of the test cases.\n\nEach test case consists of one line. The only line of each test case contains two integers $n$ and $m$.", "outputFormat": "For each test case, if there is a sequence $a$ that satisfies the restrictions, print `Yes`; otherwise, print `No`.\n", "hint": "**「Sample Explanation #1」**\n\nFor the first test case, the sequence $a$ can be $[3,3,3]$, in which case $a_1 \\oplus a_2 \\oplus a_3 = 3 \\oplus 3 \\oplus 3 = 3$.\n\nFor the second test case, the sequence $a$ can be $[2,2,2,2,2]$, in which case $a_1 \\oplus a_2 \\oplus a_3 \\oplus a_4 \\oplus a_5 = 2 \\oplus 2 \\oplus 2 \\oplus 2 \\oplus 2 = 2$.\n\nFor the third and fourth test cases, it can be proved that there is no sequence that satisfies the restrictions.\n\n**「Constraints」**\n\n|Test Id|$T \\leq$|$n \\leq$|$m \\leq$|\n|:-:|:-:|:-:|:-:|\n|$1 \\sim 2$|$5$|$0$|$10^9$|\n|$3 \\sim 4$|$5$|$10^9$|$3$|\n|$5$|$10^5$|$10^9$|$10^9$|\n\nEach test is worth $20$ points.\n\nFor all tests, $1 \\leq T \\leq 10^5$, $0 \\leq n \\leq 10^9$, $2 \\leq m \\leq 10^9$.", "locale": "en"}, "zh-CN": {"title": "『FLA - I』冲云霄", "background": "住在呼和浩特的小 R 很久以前就学会了异或。异或使用符号 $\\oplus$ 表示，在 C++ 中可用符号 `^` 表示。非负整数 $x$ 和 $y$ 的异或是指对它们二进制表示中的每一位进行如下运算得到的结果：\n\n- 若 $x$ 和 $y$ 的第 $k$ 个二进制位相同，结果的第 $k$ 个二进制位为 $0$；\n- 若 $x$ 和 $y$ 的第 $k$ 个二进制位不同，结果的第 $k$ 个二进制位为 $1$。\n\n使用 $(X)_{10}$ 表示十进制数 $X$，$(Y)_2$ 表示二进制数 $Y$，因为 $(12)_{10}=(1100)_2$，$(10)_{10}=(1010)_2$，所以 $(12)_{10} \\oplus (10)_{10}=(1100)_2 \\oplus (1010)_2=(0110)_2=(6)_{10}$。\n\n住在银川的小 F 想用这道题难倒小 R 但失败了，现在小 F 又想用这道题为难你，不能让他的阴谋得逞！", "description": "给定**整数** $n$ 和 $m$，判断是否存在满足下列条件的数列 $a$。本题中数列元素的下标从 $1$ 开始。\n\n- 数列 $a$ 的长度为 $m$，数列 $a$ 的每一项都为**正整数**。\n\n- $a_1 \\oplus a_2 \\oplus \\cdots \\oplus a_m = n$，即数列 $a$ 的所有项异或得到的结果等于 $n$。\n\n- 数列 $a$ 中所有元素的值都相同。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据，输入一行两个整数 $n,m$。", "outputFormat": "对于每组测试数据，输出一行一个字符串。如果存在满足条件的数列 $a$，输出 `Yes`；否则输出 `No`。", "hint": "**「样例解释 #1」**\n\n对于第一组测试数据，数列 $a$ 可以是 $[3,3,3]$，此时 $a_1 \\oplus a_2 \\oplus a_3 = 3 \\oplus 3 \\oplus 3 = 3$。\n\n对于第二组测试数据，数列 $a$ 可以是 $[2,2,2,2,2]$，此时 $a_1 \\oplus a_2 \\oplus a_3 \\oplus a_4 \\oplus a_5 = 2 \\oplus 2 \\oplus 2 \\oplus 2 \\oplus 2 = 2$。\n\n对于第三组和第四组测试数据，可以证明不存在满足条件的数列。\n\n**「数据范围」**\n\n|测试点编号|$T \\leq$|$n \\leq$|$m \\leq$|\n|:-:|:-:|:-:|:-:|\n|$1 \\sim 2$|$5$|$0$|$10^9$|\n|$3 \\sim 4$|$5$|$10^9$|$3$|\n|$5$|$10^5$|$10^9$|$10^9$|\n\n对于所有测试数据，$1 \\leq T \\leq 10^5$，$0 \\leq n \\leq 10^9$，$2 \\leq m \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10836", "type": "P", "difficulty": 2, "samples": [["8 2\nth#nkyou\n#estwish\n", "thankyou\n"], ["16 5\n##soluteradian#e\nyour#awnwillcom#\n", "absoluteradiance\n"], ["40 45\nhhuj#pzr#k#mmd#z##y#o####m##j##tga#k#t#g\nm########be#######vf##a#j###ypuf###pr###\n", "hhujapzrakbmmdczdeyfoghijmkljmntgaokptqg\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "贪心", "洛谷原创", "O2优化", "洛谷月赛"], "title": "『FLA - I』歌静河", "background": "> You can cry\n>\n> Drinking your eyes\n>\n> Do you miss the sadness when it's gone\n>\n> And you let the river run wild\n>\n> And you let the river run wild\n\n— _The River_ by _AURORA_", "description": "秋有两个长度为 $n$ 且仅包含 `#` 和小写字母的字符串 $a,b$。\n\n这两个字符串总共包含 $m$ 个 `#`，秋打算执行 $m$ 次操作，用小写字母把两个字符串中所有的 `#` 都替换掉。对于第 $i$ 次操作，他要在 $a,b$ 中选择一个字符串，将这个字符串中从左向右数第一个 `#` 替换为第 $(i-1) \\bmod 26 +1$ 个小写字母。**他不能选择不包含 `#` 的字符串。**\n\n秋有一位热爱艺术的好友，他想最小化执行完 $m$ 次操作后的字符串 $a$ 的字典序。秋想，编程也是一种艺术，这样的话，他们的心也会更近一些。", "inputFormat": "第一行输入两个正整数 $n,m$。\n\n第二行输入一个长度为 $n$ 的字符串 $a$。\n\n第三行输入一个长度为 $n$ 的字符串 $b$。", "outputFormat": "输出一行一个字符串，表示执行 $m$ 次操作后能够得到的字典序最小的 $a$。", "hint": "**「样例解释 #1」**\n\n第一次操作选择字符串 $a$，将 $a$ 中的 `#` 替换为第 $(1-1) \\bmod 26+1=1$ 个小写字母，即 `a`；第二次操作选择字符串 $b$，将 $b$ 中的 `#` 替换为第 $(2-1) \\bmod 26+1=2$ 个小写字母，即 `b`。最终的字符串 $a$ 即为 `thankyou`，可以证明这是执行 $m$ 次操作后能得到的字典序最小的 $a$。\n\n**「数据范围」**\n\n|测试点编号|$n \\leq$|特殊性质|\n|:-:|:-:|:-:|\n|$1 \\sim 3$|$10$|无|\n|$4 \\sim 6$|$10^5$|有|\n|$7 \\sim 10$|$10^5$|无|\n\n- 特殊性质：保证 $a,b$ 中存在一个不包含 `#` 的字符串。\n\n对于所有测试数据，$1 \\leq n \\leq 10^5$，$1 \\leq m \\leq 2n$，字符串 $a,b$ 仅包含字符 `#` 和小写字母。\n\n2024 年 8 月 4 日：添加了 1 组 hack 数据置于 Subtask #1。", "locale": "zh-CN", "translations": {"en": {"title": "『FLA - I』Song of Silent River", "background": "> You can cry\n>\n> Drinking your eyes\n>\n> Do you miss the sadness when it's gone\n>\n> And you let the river run wild\n>\n> And you let the river run wild\n\n— _The River_ by _AURORA_", "description": "Qiu has two strings $a,b$ of length $n$ that only contain `#` and lowercase letters.\n\nThese two strings contain $m$ `#`s in total. Qiu intends to perform $m$ operations to replace all `#`s in the two strings with lowercase letters. For the $i$-th operation, he has to choose a string from $a,b$ and replace the first `#` in this string from left to right with the $(i-1) \\bmod 26 +1$-th lowercase letter. **He cannot choose a string that does not contain `#`.**\n\nQiu has a friend who loves art. He wants to minimize the lexicographic order of the string $a$ after performing $m$ operations. Qiu thought that programming is also a kind of art, and in this way, their hearts will be closer.", "inputFormat": "The first line contains two positive integers $n, m$.\n\nThe second line contains a string $a$ of length $n$.\n\nThe last line contains a string $b$ of length $n$.", "outputFormat": "Output one line of one string, indicating the minimum $a$ in lexicographic order that can be obtained after executing $m$ operations.", "hint": "**「Sample Explanation #1」**\n\nIn the first operation, Qiu selects the string $a$ and replaces the `#` into $a$ with the $(1-1) \\bmod 26+1=1$-st lowercase letter, i.e. `a`; In the second operation, Qiu selects the string $b$ and replaces the `#` in $b$ with the $(2-1) \\bmod 26+1=2$-nd lowercase letter, i.e. `b`. The final string $a$ is `thankyou`, which can be proved to be the smallest $a$ in lexicographic order after executing $m$ operations.\n\n**「Constraints」**\n\n|Test Id|$n \\leq$|Special Property|\n|:-:|:-:|:-:|\n|$1 \\sim 3$|$10$|No|\n|$4 \\sim 6$|$10^5$|Yes|\n|$7 \\sim 10$|$10^5$|No|\n\n- Special Property: It is guaranteed that there is a string in $a,b$ that does not contain `#`.\n\nEach test is worth $10$ points.\n\nFor all tests, $1 \\leq n \\leq 10^5$, $1 \\leq m \\leq 2n$, the string $a,b$ contains only the character `#` and lowercase letters.", "locale": "en"}, "zh-CN": {"title": "『FLA - I』歌静河", "background": "> You can cry\n>\n> Drinking your eyes\n>\n> Do you miss the sadness when it's gone\n>\n> And you let the river run wild\n>\n> And you let the river run wild\n\n— _The River_ by _AURORA_", "description": "秋有两个长度为 $n$ 且仅包含 `#` 和小写字母的字符串 $a,b$。\n\n这两个字符串总共包含 $m$ 个 `#`，秋打算执行 $m$ 次操作，用小写字母把两个字符串中所有的 `#` 都替换掉。对于第 $i$ 次操作，他要在 $a,b$ 中选择一个字符串，将这个字符串中从左向右数第一个 `#` 替换为第 $(i-1) \\bmod 26 +1$ 个小写字母。**他不能选择不包含 `#` 的字符串。**\n\n秋有一位热爱艺术的好友，他想最小化执行完 $m$ 次操作后的字符串 $a$ 的字典序。秋想，编程也是一种艺术，这样的话，他们的心也会更近一些。", "inputFormat": "第一行输入两个正整数 $n,m$。\n\n第二行输入一个长度为 $n$ 的字符串 $a$。\n\n第三行输入一个长度为 $n$ 的字符串 $b$。", "outputFormat": "输出一行一个字符串，表示执行 $m$ 次操作后能够得到的字典序最小的 $a$。", "hint": "**「样例解释 #1」**\n\n第一次操作选择字符串 $a$，将 $a$ 中的 `#` 替换为第 $(1-1) \\bmod 26+1=1$ 个小写字母，即 `a`；第二次操作选择字符串 $b$，将 $b$ 中的 `#` 替换为第 $(2-1) \\bmod 26+1=2$ 个小写字母，即 `b`。最终的字符串 $a$ 即为 `thankyou`，可以证明这是执行 $m$ 次操作后能得到的字典序最小的 $a$。\n\n**「数据范围」**\n\n|测试点编号|$n \\leq$|特殊性质|\n|:-:|:-:|:-:|\n|$1 \\sim 3$|$10$|无|\n|$4 \\sim 6$|$10^5$|有|\n|$7 \\sim 10$|$10^5$|无|\n\n- 特殊性质：保证 $a,b$ 中存在一个不包含 `#` 的字符串。\n\n对于所有测试数据，$1 \\leq n \\leq 10^5$，$1 \\leq m \\leq 2n$，字符串 $a,b$ 仅包含字符 `#` 和小写字母。\n\n2024 年 8 月 4 日：添加了 1 组 hack 数据置于 Subtask #1。", "locale": "zh-CN"}}}
{"pid": "P10837", "type": "P", "difficulty": 4, "samples": [["5 4\n11 9 1 3 12\n", "14\n"], ["13 7\n6 42 58 41 20 60 2 61 45 28 45 28 12\n", "38\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "离散化", "洛谷原创", "O2优化", "排序", "前缀和", "队列", "差分", "洛谷月赛"], "title": "『FLA - I』云音泛", "background": "“……这些年来，过得可好？”\n\n“……无所谓好或不好，人生一场空虚大梦，韶华白首，不过转瞬。惟有天道恒在，往复循环，不曾更改...”", "description": "在梦中，秋种下了 $n$ 朵凋零玫瑰。他记得，第 $i$ 朵玫瑰是在时刻 $t_i$ 种植的。\n\n凋零玫瑰在被种下的那个时刻就立即开放，但每一株玫瑰只会开放 $m$ 个时刻（在时刻 $T$ 种植的玫瑰会且仅会在从时刻 $T$ 到时刻 $T+m-1$ 的 $m$ 个时刻开放），在 $m$ 个时刻后便化作再也无法挽留的灰尘，飘散在凛冽的寒风中。\n\n他问你，假如他可以改变不超过一朵玫瑰的种植时间（选定一个 $t_i$ 并将其修改为任意正整数），那么最多有多少个时刻有且仅有一株凋零玫瑰开放？", "inputFormat": "第一行输入两个正整数 $n,m$。\n\n第二行输入 $n$ 个正整数，第 $i$ 个正整数为 $t_i$。", "outputFormat": "输出一行一个正整数表示答案。", "hint": "**「样例解释 #1」**\n\n如图，使用金色标记有且仅有一株凋零玫瑰开放的时刻，使用黑色和红色标记每朵凋零玫瑰开放的时刻。\n\n![example1](https://cdn.luogu.com.cn/upload/image_hosting/1u42cn1k.png)\n\n将使用红色标记的玫瑰的种植时刻改为 $17$（将 $t_1$ 的值修改为 $17$，如下图）后有 $14$ 个时刻有且仅有一株凋零玫瑰开放。可以证明不存在能够使有且仅有一株凋零玫瑰开放的时刻数量大于 $14$ 的修改方案。\n\n![example2](https://cdn.luogu.com.cn/upload/image_hosting/ig0pgy5w.png)\n\n**「数据范围」**\n\n|测试点编号|$n \\leq$|$m \\leq$|$t_i \\leq$|\n|:-:|:-:|:-:|:-:|\n|$1 \\sim 6$|$5000$|$5000$|$5000$|\n|$7 \\sim 12$|$2 \\times 10^5$|$2 \\times 10^5$|$2 \\times 10^5$|\n|$13 \\sim 14$|$2 \\times 10^5$|$1$|$10^9$|\n|$15 \\sim 20$|$2 \\times10^5$|$10^9$|$10^9$|\n\n对于所有测试数据，$1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq m,t_i \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "『FLA - I』Drifting Clouds' Rhythm", "background": "\"... How is it going these years?\"\n\n\"... There's no such thing as good or bad. Life is a dream of emptiness, the glorious youth and the hoary head, are nothing but an instant. Only the law of natural repeats, never changing ...\"", "description": "In his dream, Qiu planted $n$ roses. He remembered that the $i$-th rose was planted at the moment $t_i$.\n\nA rose comes out as soon as it is planted. However, each rose will bloom for exactly $m$ moments (the rose planted at the moment $T$ will bloom from the moment $T$ to the moment $T+m-1$). After $m$ moments, the rose turns into unretained dust, fading away in the cold wind. \n\nQiu asks you, if he can change the planting moment of at most one rose (that is, select an $t_i$ and modify it to an arbitrary positive integer), for how many moments at most will there be exactly one rose blooming? ", "inputFormat": "The first line of input contains two integers $n$ and $m$ — the number of roses and the blooming time of each rose.\n\nThe second line of input contains $n$ integers $t_1,t_2,\\dots, t_n$ — the planting moment of each rose.", "outputFormat": "Output a single line containing an integer denoting the answer.", "hint": "**「Sample Explanation #1」**\n\nAs the figure below, use golden stripes to mark the moments when exactly one rose is blooming, and use black and red stripes to mark the periods when each rose comes out.\n\n![example1](https://cdn.luogu.com.cn/upload/image_hosting/1u42cn1k.png)\n\nIf we modify the planting moment of the rose with red mark to $17$ (i.e. we modify $t_1$ to $17$, as the figure below), the number of golden moments becomes $14$. It can be proven that there is no other scheme that makes the answer greater than $14$, therefore we should output $14$.\n\n![example2](https://cdn.luogu.com.cn/upload/image_hosting/ig0pgy5w.png)\n\n**「Constraints」**\n\n| Test Id | $n \\leq$ | $m \\leq$ | $t_i \\leq$ |\n| :----------: | :------: | :------: | :--------: |\n| $1 \\sim 6$ | $5000$ | $5000$ | $5000$ |\n| $7 \\sim 12$ | $2 \\times 10^5$ | $2 \\times 10^5$ | $2 \\times 10^5$ |\n| $13 \\sim 14$ | $2 \\times 10^5$ | $1$ | $10^9$ |\n| $15 \\sim 20$ | $2 \\times 10^5$ | $10^9$ | $10^9$ |\n\nEach test is worth $5$ points.\n\nFor all tests, it is guaranteed that $1 \\leq n \\leq 2 \\times 10^5$, $1 \\leq m,t_i \\leq 10^9$.", "locale": "en"}, "zh-CN": {"title": "『FLA - I』云音泛", "background": "“……这些年来，过得可好？”\n\n“……无所谓好或不好，人生一场空虚大梦，韶华白首，不过转瞬。惟有天道恒在，往复循环，不曾更改...”", "description": "在梦中，秋种下了 $n$ 朵凋零玫瑰。他记得，第 $i$ 朵玫瑰是在时刻 $t_i$ 种植的。\n\n凋零玫瑰在被种下的那个时刻就立即开放，但每一株玫瑰只会开放 $m$ 个时刻（在时刻 $T$ 种植的玫瑰会且仅会在从时刻 $T$ 到时刻 $T+m-1$ 的 $m$ 个时刻开放），在 $m$ 个时刻后便化作再也无法挽留的灰尘，飘散在凛冽的寒风中。\n\n他问你，假如他可以改变不超过一朵玫瑰的种植时间（选定一个 $t_i$ 并将其修改为任意正整数），那么最多有多少个时刻有且仅有一株凋零玫瑰开放？", "inputFormat": "第一行输入两个正整数 $n,m$。\n\n第二行输入 $n$ 个正整数，第 $i$ 个正整数为 $t_i$。", "outputFormat": "输出一行一个正整数表示答案。", "hint": "**「样例解释 #1」**\n\n如图，使用金色标记有且仅有一株凋零玫瑰开放的时刻，使用黑色和红色标记每朵凋零玫瑰开放的时刻。\n\n![example1](https://cdn.luogu.com.cn/upload/image_hosting/1u42cn1k.png)\n\n将使用红色标记的玫瑰的种植时刻改为 $17$（将 $t_1$ 的值修改为 $17$，如下图）后有 $14$ 个时刻有且仅有一株凋零玫瑰开放。可以证明不存在能够使有且仅有一株凋零玫瑰开放的时刻数量大于 $14$ 的修改方案。\n\n![example2](https://cdn.luogu.com.cn/upload/image_hosting/ig0pgy5w.png)\n\n**「数据范围」**\n\n|测试点编号|$n \\leq$|$m \\leq$|$t_i \\leq$|\n|:-:|:-:|:-:|:-:|\n|$1 \\sim 6$|$5000$|$5000$|$5000$|\n|$7 \\sim 12$|$2 \\times 10^5$|$2 \\times 10^5$|$2 \\times 10^5$|\n|$13 \\sim 14$|$2 \\times 10^5$|$1$|$10^9$|\n|$15 \\sim 20$|$2 \\times10^5$|$10^9$|$10^9$|\n\n对于所有测试数据，$1 \\leq n \\leq 2 \\times 10^5$，$1 \\leq m,t_i \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10838", "type": "P", "difficulty": 4, "samples": [["4 2 2 1 2\n2 3 6\n4 1 6\n3 1 8\n", "14\n"], ["9 7 4 1 6\n3 8 7\n6 8 6\n6 7 4\n2 5 3\n3 2 2\n3 9 12\n2 1 2\n8 4 11\n", "12\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["图论", "贪心", "二分", "洛谷原创", "O2优化", "树论", "洛谷月赛"], "title": "『FLA - I』庭中有奇树", "background": "![zuzong](https://cdn.luogu.com.cn/upload/image_hosting/6zbja7sn.png)\n\n某天晚上小 G 和小 Y 本打算激情 CF 但过掉两题就下班了，然后他们准备玩一个游戏。", "description": "给定一棵有 $n$ 个节点的无根树，边带权，树上有一个起始节点 $S$ 和一个终止节点 $T$。\n\n有一枚可以沿着边在节点之间移动的棋子，它每次移动花费的硬币数量等于经过的边的权值。\n\n如果当前棋子所在节点为 $u$ 且节点 $v$ 与节点 $u$ 之间连有一条权值为 $w$ 的边，小 G 就能花费 $w$ 个硬币把棋子移动到节点 $v$。游戏开始时棋子位于节点 $S$，我们的小 G 要控制棋子移动到节点 $T$。\n\n由于曾经有人告诉小 G 玩某游戏不开挂等于没玩，小 G 决定开挂。他的外挂可以花费 $k$ 个硬币把棋子从当前节点传送到任意一个**没有和当前节点连边**的节点，小 G 只能用这个外挂至多一次。\n\n正义的小 Y 不能坐视不管，在小 G 开始行动之前，小 Y 可以封锁至多 $m$ 条可能的传送路线。假设小 Y 封锁了从节点 $x$ 向节点 $y$ 的传送路线，小 G 把棋子从节点 $x$ 传送到节点 $y$ 花费的硬币数量就会变成 $10^9$。由于外挂功能强大，小 G 知道小 Y 都封锁了哪些路线。**请注意传送路线是单向的，封锁节点 $x$ 向节点 $y$ 的传送路线不影响小 G 从节点 $y$ 向节点 $x$ 传送。**\n\n有趣的是，游戏中小 G 不仅负责控制棋子移动到节点 $T$，还想**最小化**花费的硬币数量；而小 Y 想要**最大化**小  G 花费的硬币数量。\n\n如果两人都采取最优策略，小 G 总共会花掉多少硬币？", "inputFormat": "第一行输入五个整数 $n,m,k,S,T$。\n\n接下来 $n-1$ 行，第 $i$ 行输入三个正整数 $u_i,v_i,w_i$ 表示节点 $u_i$ 和节点 $v_i$ 之间有一条边权为 $w_i$ 的边。", "outputFormat": "输出一行一个整数，表示在两人都采取最优策略的情况下小 G 花费的硬币数量。", "hint": "**「样例解释 #1」**\n\n![example](https://cdn.luogu.com.cn/upload/image_hosting/1u16xc9r.png)\n\n给出一种可能发生的情况：小 Y 封锁节点 $1$ 向节点 $2$ 的传送路线和节点 $4$ 向节点 $2$ 的传送路线。\n\n小 G 控制棋子从初始节点到达节点 $4$，从节点 $4$ 传送到节点 $3$ 后再到达终止节点，总共花费 $14$ 个硬币。\n\n**「数据范围」**\n\n**本题采用捆绑测试。**\n\n|Subtask|$n\\leq$|$m \\leq$|特殊性质|分值|\n|:---:|:---:|:---:|:---:|:---:|\n|**#1**|$1000$|$10^5$|无|$10$|\n|**#2**|$10^5$|$0$|无|$10$|\n|**#3**|$10^5$|$10^5$|无|$10$|\n|**#4**|$10^5$|$10^9$|A|$15$|\n|**#5**|$10^5$|$10^9$|B|$15$|\n|**#6**|$10^5$|$10^9$|无|$40$|\n\n- 特殊性质 A：保证 $k=10^9$。\n- 特殊性质 B：保证 $k=0$。\n\n对于所有测试数据，$2 \\leq n \\leq 10^5$，$0 \\leq m,k \\leq 10^9$，$1 \\leq S,T,u_i,v_i \\leq n$，$1 \\leq w_i \\leq 10^9$，$S \\neq T$，$u_i \\neq v_i$。节点的编号是从 $1$ 到 $n$ 的整数。\n\n2024 年 8 月 4 日：将样例置于 Subtask #0。", "locale": "zh-CN", "translations": {"en": {"title": "『FLA - I』Magical Tree in the Courtyard", "background": "![zuzong](https://cdn.luogu.com.cn/upload/image_hosting/6zbja7sn.png)\n\n> Glz: The upper bound is 4e10\\\n> Ycy: Wow\\\n> Ycy: Ancestor\n\nOne night, Glz and Ycy participated in a Codeforces contest. However, they only solved two problems, and after that they decided to play a game.", "description": "In the game, Glz is given an unrooted tree with $n$ nodes, with a starting node $S$ and a destination node $T$. Each of the edges has an integer weight.\n\nThere is a piece that can be moved between nodes along the edges, with each move costing a number of coins equal to the weight of the edge it passes through.\n\nThat is, if there exists an edge connecting nodes $x$ and $y$ with an edge of weight $w$, then Glz can choose to move the piece from $x$ to $y$, paying $w$ coins. At the beginning of the game the piece is at node $S$. Glz needs to make the piece at node $T$ eventually after some moves.\n\nSince Glz was once told that playing a game without using a plug-in is the same as not playing, Glz decides to use a plug-in. Using this plug-in he can spend $k$ coins on moving a piece from the current node to any node **not adjacent** to the current node. However, Glz can only use this plug-in at most once.\n\nThe righteous Ycy cannot sit idly by. Before Glz makes his move, Ycy can block up to $m$ possible teleportation routes. If Ycy blocks the teleportation route from node $x$ to node $y$, the number of coins that it takes for Glz to teleport a piece from node $x$ to node $y$ becomes exactly $10^9$ coins. Due to the power of the plug-in, Glz knows which routes Ycy has blocked after his moving process begins. **Note that the blocking procedure is unidirectional, that is, blocking the teleportation route from node $x$ to node $y$ does not affect Glz's teleportation from node $y$ to node $x$.**\n\nInterestingly, during the game, Glz wants to **minimize** the number of coins spent, while Ycy is trying to **maximize** the number of coins spent.\n\nIf both of them adopt their optimal strategy, how many coins will Glz spend in total?", "inputFormat": "The first line of input contains five integers $n$, $m$, $k$, $S$ and $T$ — the number of nodes on the tree, the maximum teleportation routes that can be blocked, the coins that using the plug-in costs, the index of the starting node and the index of the destination node.\n\nThen $n - 1$ lines follow, each line contains three integers $u_i$, $v_i$, $w_i$, representing an edge on the tree connecting nodes $u_i$ and $v_i$, with a weight of $w_i$.", "outputFormat": "Output a single line containing an integer, which denotes the coins that Glz would spend, in the case where both of them adopt their optimal strategy.", "hint": "**「Sample Explanation #1」**\n\n![example](https://cdn.luogu.com.cn/upload/image_hosting/1u16xc9r.png)\n\nIn a possible scenario, Ycy blocks the teleportation routes from node $1$ to node $2$ and from node $4$ to node $2$.\n\nGlz moves the piece from node $1$ to node $4$, and from node $4$ he teleports to node $3$, and then moving to node $2$, spending a total of $14$ coins.\n\n**「Constraints」**\n\n**Subtasks are used in this problem.**\n\n| Subtask Id | $n \\leq$ | $m \\leq$ | Special Properties | Score |\n| :--------: | :------: | :------: | :--------------: | :---: |\n| **#1** | $1000$ | $10^5$| No | $10$ |\n| **#2** | $10^5$ | $0$ | No | $10$ |\n| **#3** | $10^5$ | $10^5$ | No | $10$ |\n| **#4** | $10^5$ | $10^9$ | A | $15$ |\n| **#5** | $10^5$ | $10^9$ | B | $15$ |\n| **#6** | $10^5$ | $10^9$ | No | $40$ |\n\n- Special Property A: $k = 10^9$.\n- Special Property B: $k = 0$.\n\nFor all tests, it is guaranteed that $2 \\leq n \\leq 10^5$, $0 \\leq m,k \\leq 10^9$, $1 \\leq S,T,u_i,v_i \\leq n$, $1 \\leq w_i \\leq 10^9$, $S \\neq T$, $u_i \\neq v_i$. Nodes are numbered from $1$ to $n$.", "locale": "en"}, "zh-CN": {"title": "『FLA - I』庭中有奇树", "background": "![zuzong](https://cdn.luogu.com.cn/upload/image_hosting/6zbja7sn.png)\n\n某天晚上小 G 和小 Y 本打算激情 CF 但过掉两题就下班了，然后他们准备玩一个游戏。", "description": "给定一棵有 $n$ 个节点的无根树，边带权，树上有一个起始节点 $S$ 和一个终止节点 $T$。\n\n有一枚可以沿着边在节点之间移动的棋子，它每次移动花费的硬币数量等于经过的边的权值。\n\n如果当前棋子所在节点为 $u$ 且节点 $v$ 与节点 $u$ 之间连有一条权值为 $w$ 的边，小 G 就能花费 $w$ 个硬币把棋子移动到节点 $v$。游戏开始时棋子位于节点 $S$，我们的小 G 要控制棋子移动到节点 $T$。\n\n由于曾经有人告诉小 G 玩某游戏不开挂等于没玩，小 G 决定开挂。他的外挂可以花费 $k$ 个硬币把棋子从当前节点传送到任意一个**没有和当前节点连边**的节点，小 G 只能用这个外挂至多一次。\n\n正义的小 Y 不能坐视不管，在小 G 开始行动之前，小 Y 可以封锁至多 $m$ 条可能的传送路线。假设小 Y 封锁了从节点 $x$ 向节点 $y$ 的传送路线，小 G 把棋子从节点 $x$ 传送到节点 $y$ 花费的硬币数量就会变成 $10^9$。由于外挂功能强大，小 G 知道小 Y 都封锁了哪些路线。**请注意传送路线是单向的，封锁节点 $x$ 向节点 $y$ 的传送路线不影响小 G 从节点 $y$ 向节点 $x$ 传送。**\n\n有趣的是，游戏中小 G 不仅负责控制棋子移动到节点 $T$，还想**最小化**花费的硬币数量；而小 Y 想要**最大化**小  G 花费的硬币数量。\n\n如果两人都采取最优策略，小 G 总共会花掉多少硬币？", "inputFormat": "第一行输入五个整数 $n,m,k,S,T$。\n\n接下来 $n-1$ 行，第 $i$ 行输入三个正整数 $u_i,v_i,w_i$ 表示节点 $u_i$ 和节点 $v_i$ 之间有一条边权为 $w_i$ 的边。", "outputFormat": "输出一行一个整数，表示在两人都采取最优策略的情况下小 G 花费的硬币数量。", "hint": "**「样例解释 #1」**\n\n![example](https://cdn.luogu.com.cn/upload/image_hosting/1u16xc9r.png)\n\n给出一种可能发生的情况：小 Y 封锁节点 $1$ 向节点 $2$ 的传送路线和节点 $4$ 向节点 $2$ 的传送路线。\n\n小 G 控制棋子从初始节点到达节点 $4$，从节点 $4$ 传送到节点 $3$ 后再到达终止节点，总共花费 $14$ 个硬币。\n\n**「数据范围」**\n\n**本题采用捆绑测试。**\n\n|Subtask|$n\\leq$|$m \\leq$|特殊性质|分值|\n|:---:|:---:|:---:|:---:|:---:|\n|**#1**|$1000$|$10^5$|无|$10$|\n|**#2**|$10^5$|$0$|无|$10$|\n|**#3**|$10^5$|$10^5$|无|$10$|\n|**#4**|$10^5$|$10^9$|A|$15$|\n|**#5**|$10^5$|$10^9$|B|$15$|\n|**#6**|$10^5$|$10^9$|无|$40$|\n\n- 特殊性质 A：保证 $k=10^9$。\n- 特殊性质 B：保证 $k=0$。\n\n对于所有测试数据，$2 \\leq n \\leq 10^5$，$0 \\leq m,k \\leq 10^9$，$1 \\leq S,T,u_i,v_i \\leq n$，$1 \\leq w_i \\leq 10^9$，$S \\neq T$，$u_i \\neq v_i$。节点的编号是从 $1$ 到 $n$ 的整数。\n\n2024 年 8 月 4 日：将样例置于 Subtask #0。", "locale": "zh-CN"}}}
{"pid": "P10839", "type": "P", "difficulty": 1, "samples": [["1 1 1 3", "Yes"], ["5 2 9 27", "Yes"], ["1 1 4 514", "No"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "O2优化", "枚举", "梦熊比赛"], "title": "【MX-J2-T0】Turtle and Equations", "background": "原题链接：<https://oier.team/problems/J2A>。", "description": "给你四个正整数 $a, b, c, d$。\n\n现在你有一条算式 $(a\\ \\Box\\ b)\\ \\Box\\ c$。你需要判断能否在两个方框内分别填入三种运算符 $+, -, \\times$ 之一（运算符可以重复使用），使得算式运算的结果等于 $d$。", "inputFormat": "第一行包含四个正整数 $a, b, c, d$。", "outputFormat": "如果能使得运算结果等于 $d$，输出 `Yes`，否则输出 `No`。", "hint": "#### 【样例解释 #1】\n\n因为 $(1 + 1) + 1 = 3$，可以在第一个方框内填入 $+$，第二个方框内填入 $+$。\n\n#### 【样例解释 #2】\n\n因为 $(5 - 2) \\times 9 = 27$，可以在第一个方框内填入 $-$，第二个方框内填入 $\\times$。\n\n#### 【样例解释 #3】\n\n无论填什么运算符都不能使得算式的结果为 $514$。\n\n#### 【数据范围】\n\n对于所有数据，满足 $1 \\le a, b, c \\le 10$，$1 \\le d \\le 1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J2-T0】Turtle and Equations", "background": "原题链接：<https://oier.team/problems/J2A>。", "description": "给你四个正整数 $a, b, c, d$。\n\n现在你有一条算式 $(a\\ \\Box\\ b)\\ \\Box\\ c$。你需要判断能否在两个方框内分别填入三种运算符 $+, -, \\times$ 之一（运算符可以重复使用），使得算式运算的结果等于 $d$。", "inputFormat": "第一行包含四个正整数 $a, b, c, d$。", "outputFormat": "如果能使得运算结果等于 $d$，输出 `Yes`，否则输出 `No`。", "hint": "#### 【样例解释 #1】\n\n因为 $(1 + 1) + 1 = 3$，可以在第一个方框内填入 $+$，第二个方框内填入 $+$。\n\n#### 【样例解释 #2】\n\n因为 $(5 - 2) \\times 9 = 27$，可以在第一个方框内填入 $-$，第二个方框内填入 $\\times$。\n\n#### 【样例解释 #3】\n\n无论填什么运算符都不能使得算式的结果为 $514$。\n\n#### 【数据范围】\n\n对于所有数据，满足 $1 \\le a, b, c \\le 10$，$1 \\le d \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P10840", "type": "P", "difficulty": 2, "samples": [["2\n1 2\n", "1\n"], ["3\n1 1 1\n", "0\n"], ["4\n1 1 45 14\n", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-J2-T1】Turtle and Sequences", "background": "原题链接：<https://oier.team/problems/J2B>。", "description": "给你一个序列 $a_1, a_2, \\ldots, a_n$。你可以对这个序列进行若干次操作。\n\n设一次操作前序列长度为 $m$，那么这次操作你可以选择一个整数 $i$ 使得 $1 \\le i \\le m - 1$ 且 $a_i \\ne a_{i + 1}$，删除 $a_{i + 1}$ 并把 $a_i$ 的值设成**任意整数**。\n\n求你最多能进行多少次操作。", "inputFormat": "第一行包含一个正整数 $n$，表示序列的初始长度。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\ldots, a_n$。", "outputFormat": "一行一个非负整数，表示最多能进行的操作次数。", "hint": "#### 【样例解释 #1】\n\n可以选择 $i = 1$，删除 $a_2$ 后把 $a_1$ 的值设成 $3$。此时 $a = [3]$，无法再进行任何操作。所以答案是 $1$。\n\n#### 【样例解释 #2】\n\n无法进行任何操作，所以答案是 $0$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | 特殊性质 | 子任务依赖 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $34$ | $2$ | 无 | 无 |\n| $2$ | $19$ | $10^5$ | $a_1 = a_2 = \\cdots = a_n$ | 无 |\n| $3$ | $47$ | $10^5$ | 无 | $1, 2$ |\n\n对于所有数据，满足 $1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J2-T1】Turtle and Sequences", "background": "原题链接：<https://oier.team/problems/J2B>。", "description": "给你一个序列 $a_1, a_2, \\ldots, a_n$。你可以对这个序列进行若干次操作。\n\n设一次操作前序列长度为 $m$，那么这次操作你可以选择一个整数 $i$ 使得 $1 \\le i \\le m - 1$ 且 $a_i \\ne a_{i + 1}$，删除 $a_{i + 1}$ 并把 $a_i$ 的值设成**任意整数**。\n\n求你最多能进行多少次操作。", "inputFormat": "第一行包含一个正整数 $n$，表示序列的初始长度。\n\n第二行包含 $n$ 个正整数 $a_1, a_2, \\ldots, a_n$。", "outputFormat": "一行一个非负整数，表示最多能进行的操作次数。", "hint": "#### 【样例解释 #1】\n\n可以选择 $i = 1$，删除 $a_2$ 后把 $a_1$ 的值设成 $3$。此时 $a = [3]$，无法再进行任何操作。所以答案是 $1$。\n\n#### 【样例解释 #2】\n\n无法进行任何操作，所以答案是 $0$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | 特殊性质 | 子任务依赖 |\n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $34$ | $2$ | 无 | 无 |\n| $2$ | $19$ | $10^5$ | $a_1 = a_2 = \\cdots = a_n$ | 无 |\n| $3$ | $47$ | $10^5$ | 无 | $1, 2$ |\n\n对于所有数据，满足 $1 \\le n \\le 10^5$，$1 \\le a_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P10841", "type": "P", "difficulty": 2, "samples": [["4\n3\nabc\n5\naabbb\n6\naaaaaa\n10\npppqqppppq\n", "3\n3\n4\n7\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "O2优化", "梦熊比赛"], "title": "【MX-J2-T2】Turtle and Strings", "background": "原题链接：<https://oier.team/problems/J2C>。", "description": "给你一个仅由小写字母组成的字符串 $s$。\n\n一个字符串序列 $t_1, t_2, \\ldots, t_k$ 是合法的当且仅当：\n\n- $s = t_1 + t_2 + \\cdots + t_k$，此处 $+$ 为字符串拼接；\n- $\\forall 1 \\le i \\le k - 1, t_i \\ne t_{i + 1}$。\n\n求合法的字符串序列的长度的最大值。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含一个正整数 $n$，表示字符串的长度。\n\n第二行包含一个长度为 $n$ 的仅由小写字母组成的字符串 $s$。", "outputFormat": "对于每组数据，输出一行一个整数，表示合法的字符串序列的长度的最大值。", "hint": "#### 【样例解释】\n\n在第一组数据中，一个合法且长度最大的字符串序列为 $[\\texttt{a}, \\texttt{b}, \\texttt{c}]$。\n\n在第二组数据中，一个合法且长度最大的字符串序列为 $[\\texttt{a}, \\texttt{abb}, \\texttt{b}]$。\n\n在第三组数据中，一个合法且长度最大的字符串序列为 $[\\texttt{a}, \\texttt{aa}, \\texttt{a}, \\texttt{aa}]$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $18$ | $9$ | $10^4$ | 无 | 无 |\n| $2$ | $21$ | $50$ | $10^3$ | 无 | $1$ |\n| $3$ | $12$ | $10^6$ | $10^6$ | $s_1 = s_2 = \\cdots = s_n$ | 无 |\n| $4$ | $23$ | $10^6$ | $10^6$ | **恰好**存在一个位置 $1 \\le i \\le n - 1$ 使得 $s_i \\ne s_{i + 1}$ | 无 |\n| $5$ | $26$ | $10^6$ | $10^6$ | 无 | $1, 2, 3, 4$ |\n\n对于所有数据，满足 $1 \\le T \\le 10^5$，$1 \\le n, \\sum n \\le 10^6$，$s$ 仅由小写字母组成。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J2-T2】Turtle and Strings", "background": "原题链接：<https://oier.team/problems/J2C>。", "description": "给你一个仅由小写字母组成的字符串 $s$。\n\n一个字符串序列 $t_1, t_2, \\ldots, t_k$ 是合法的当且仅当：\n\n- $s = t_1 + t_2 + \\cdots + t_k$，此处 $+$ 为字符串拼接；\n- $\\forall 1 \\le i \\le k - 1, t_i \\ne t_{i + 1}$。\n\n求合法的字符串序列的长度的最大值。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含一个正整数 $n$，表示字符串的长度。\n\n第二行包含一个长度为 $n$ 的仅由小写字母组成的字符串 $s$。", "outputFormat": "对于每组数据，输出一行一个整数，表示合法的字符串序列的长度的最大值。", "hint": "#### 【样例解释】\n\n在第一组数据中，一个合法且长度最大的字符串序列为 $[\\texttt{a}, \\texttt{b}, \\texttt{c}]$。\n\n在第二组数据中，一个合法且长度最大的字符串序列为 $[\\texttt{a}, \\texttt{abb}, \\texttt{b}]$。\n\n在第三组数据中，一个合法且长度最大的字符串序列为 $[\\texttt{a}, \\texttt{aa}, \\texttt{a}, \\texttt{aa}]$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $18$ | $9$ | $10^4$ | 无 | 无 |\n| $2$ | $21$ | $50$ | $10^3$ | 无 | $1$ |\n| $3$ | $12$ | $10^6$ | $10^6$ | $s_1 = s_2 = \\cdots = s_n$ | 无 |\n| $4$ | $23$ | $10^6$ | $10^6$ | **恰好**存在一个位置 $1 \\le i \\le n - 1$ 使得 $s_i \\ne s_{i + 1}$ | 无 |\n| $5$ | $26$ | $10^6$ | $10^6$ | 无 | $1, 2, 3, 4$ |\n\n对于所有数据，满足 $1 \\le T \\le 10^5$，$1 \\le n, \\sum n \\le 10^6$，$s$ 仅由小写字母组成。", "locale": "zh-CN"}}}
{"pid": "P10842", "type": "P", "difficulty": 4, "samples": [["4\n1 2\n1 3\n1 4\n", "9\n"], ["6\n1 2\n2 3\n3 4\n4 5\n5 6\n", "70\n"], ["10\n1 2\n1 3\n1 4\n2 5\n3 6\n2 7\n4 8\n8 9\n9 10\n", "536\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "梦熊比赛"], "title": "【MX-J2-T3】Piggy and Trees", "background": "原题链接：<https://oier.team/problems/J2D>。", "description": "给你一棵 $n$ 个结点的树。\n\n定义 $f(u, v, i)$ 为，在所有满足 $^\\dagger\\text{dis}(u, x) + \\text{dis}(v, x) = \\text{dis}(u, v)$ 的点 $x$ 中，$\\text{dis}(x, i)$ 的最小值。\n\n求 $\\sum\\limits_{u = 1}^n \\sum\\limits_{v = u + 1}^n \\sum\\limits_{i = 1}^n f(u, v, i)$ 对 $10^9 + 7$ 取模的值。\n\n$^\\dagger\\text{dis}(u, v)$ 为树上 $u, v$ 两点的路径长度。特别地，$\\text{dis}(u, u) = 0$。", "inputFormat": "第一行包含一个整数 $n$，表示树的结点数。\n\n之后的 $n - 1$ 行中的第 $i$ 行包含两个整数 $u_i, v_i$，表示树上的一条边。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "#### 【样例解释】\n\n在样例 $1$ 中，所有非 $0$ 的 $f(u, v, i)$ 的值为：\n\n- $f(1, 2, 3) = 1$；\n- $f(1, 2, 4) = 1$；\n- $f(1, 3, 2) = 1$；\n- $f(1, 3, 4) = 1$；\n- $f(1, 4, 2) = 1$；\n- $f(1, 4, 3) = 1$；\n- $f(2, 3, 4) = 1$；\n- $f(2, 4, 3) = 1$；\n- $f(3, 4, 2) = 1$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | 特殊性质 | 子任务依赖 | \n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $8$ | $50$ | 无 | 无 |\n| $2$ | $15$ | $400$ | 无 | $1$ |\n| $3$ | $24$ | $3000$ | 无 | $1, 2$ |\n| $4$ | $17$ | $2 \\cdot 10^5$ | $u_i = i, v_i = i + 1$ | 无 |\n| $5$ | $36$ | $2 \\cdot 10^5$ | 无 | $1, 2, 3, 4$ |\n\n对于所有数据，满足 $2 \\le n \\le 2 \\cdot 10^5$，输入的图是一棵树。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J2-T3】Piggy and Trees", "background": "原题链接：<https://oier.team/problems/J2D>。", "description": "给你一棵 $n$ 个结点的树。\n\n定义 $f(u, v, i)$ 为，在所有满足 $^\\dagger\\text{dis}(u, x) + \\text{dis}(v, x) = \\text{dis}(u, v)$ 的点 $x$ 中，$\\text{dis}(x, i)$ 的最小值。\n\n求 $\\sum\\limits_{u = 1}^n \\sum\\limits_{v = u + 1}^n \\sum\\limits_{i = 1}^n f(u, v, i)$ 对 $10^9 + 7$ 取模的值。\n\n$^\\dagger\\text{dis}(u, v)$ 为树上 $u, v$ 两点的路径长度。特别地，$\\text{dis}(u, u) = 0$。", "inputFormat": "第一行包含一个整数 $n$，表示树的结点数。\n\n之后的 $n - 1$ 行中的第 $i$ 行包含两个整数 $u_i, v_i$，表示树上的一条边。", "outputFormat": "输出一行一个整数，表示答案。", "hint": "#### 【样例解释】\n\n在样例 $1$ 中，所有非 $0$ 的 $f(u, v, i)$ 的值为：\n\n- $f(1, 2, 3) = 1$；\n- $f(1, 2, 4) = 1$；\n- $f(1, 3, 2) = 1$；\n- $f(1, 3, 4) = 1$；\n- $f(1, 4, 2) = 1$；\n- $f(1, 4, 3) = 1$；\n- $f(2, 3, 4) = 1$；\n- $f(2, 4, 3) = 1$；\n- $f(3, 4, 2) = 1$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | 特殊性质 | 子任务依赖 | \n| :-: | :-: | :-: | :-: | :-: |\n| $1$ | $8$ | $50$ | 无 | 无 |\n| $2$ | $15$ | $400$ | 无 | $1$ |\n| $3$ | $24$ | $3000$ | 无 | $1, 2$ |\n| $4$ | $17$ | $2 \\cdot 10^5$ | $u_i = i, v_i = i + 1$ | 无 |\n| $5$ | $36$ | $2 \\cdot 10^5$ | 无 | $1, 2, 3, 4$ |\n\n对于所有数据，满足 $2 \\le n \\le 2 \\cdot 10^5$，输入的图是一棵树。", "locale": "zh-CN"}}}
{"pid": "P10843", "type": "P", "difficulty": 5, "samples": [["3\n2\n1 0\n5\n2 3 0 4 1\n10\n0 5 9 7 3 1 6 4 8 2\n", "0\n1\n5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "O2优化", "前缀和", "差分", "双指针 two-pointer", "梦熊比赛"], "title": "【MX-J2-T4】Turtle and Cycles", "background": "原题链接：<https://oier.team/problems/J2E>。", "description": "给你一个环形的 $0 \\sim n - 1$ 的**排列** $a_0, a_1, \\ldots, a_{n - 1}$。\n\n一次操作你可以选择一个整数 $i \\in [0, n - 1]$，把 $a_i$ 赋值成 $a_{(i - 1) \\bmod n} + a_{(i + 1) \\bmod n} - a_i$。\n\n一个位置 $i \\in [0, n - 1]$ 是好的当且仅当 $a_{(i - 1) \\bmod n} < a_i$ 且 $a_{(i + 1) \\bmod n} < a_i$。\n\n环形序列 $a$ 是好的当且仅当存在**恰好**一个位置 $i \\in [0, n - 1]$ 使得位置 $i$ 是好的。\n\n求至少要进行多少次操作能让 $a$ 变成好的。可以证明一定有解。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个非负整数 $a_0, a_1, \\ldots, a_{n - 1}$。", "outputFormat": "对于每组数据，输出一行一个整数，表示最少要进行的操作次数。", "hint": "#### 【样例解释】\n\n在第一组数据中，初始序列恰好存在一个好的位置 $i = 0$，所以答案为 $0$。\n\n在第二组数据中，可以选择 $i = 2$ 操作，操作后序列变为 $a = [2, 3, 7, 4, 1]$。此时序列恰好存在一个好的位置 $i = 2$，所以答案为 $1$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $19$ | $6$ | $10^4$ | 无 | 无 |\n| $2$ | $14$ | $12$ | $10^4$ | 无 | $1$ |\n| $3$ | $27$ | $2 \\cdot 10^3$ | $10^4$ | 无 | $1, 2$ |\n| $4$ | $2$ | $2 \\cdot 10^5$ | $2 \\cdot 10^5$ | $a_i = i$ | 无 |\n| $5$ | $38$ | $2 \\cdot 10^5$ | $2 \\cdot 10^5$ | 无 | $1, 2, 3, 4$ |\n\n对于所有数据，满足 $1 \\le T \\le 10^4$，$2 \\le n, \\sum n \\le 2 \\cdot 10^5$，$0 \\le a_i \\le n - 1$，$a$ 是一个 $0 \\sim n - 1$ 的排列。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-J2-T4】Turtle and Cycles", "background": "原题链接：<https://oier.team/problems/J2E>。", "description": "给你一个环形的 $0 \\sim n - 1$ 的**排列** $a_0, a_1, \\ldots, a_{n - 1}$。\n\n一次操作你可以选择一个整数 $i \\in [0, n - 1]$，把 $a_i$ 赋值成 $a_{(i - 1) \\bmod n} + a_{(i + 1) \\bmod n} - a_i$。\n\n一个位置 $i \\in [0, n - 1]$ 是好的当且仅当 $a_{(i - 1) \\bmod n} < a_i$ 且 $a_{(i + 1) \\bmod n} < a_i$。\n\n环形序列 $a$ 是好的当且仅当存在**恰好**一个位置 $i \\in [0, n - 1]$ 使得位置 $i$ 是好的。\n\n求至少要进行多少次操作能让 $a$ 变成好的。可以证明一定有解。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个正整数 $T$，表示测试数据组数。\n\n对于每组测试数据：\n\n第一行包含一个正整数 $n$。\n\n第二行包含 $n$ 个非负整数 $a_0, a_1, \\ldots, a_{n - 1}$。", "outputFormat": "对于每组数据，输出一行一个整数，表示最少要进行的操作次数。", "hint": "#### 【样例解释】\n\n在第一组数据中，初始序列恰好存在一个好的位置 $i = 0$，所以答案为 $0$。\n\n在第二组数据中，可以选择 $i = 2$ 操作，操作后序列变为 $a = [2, 3, 7, 4, 1]$。此时序列恰好存在一个好的位置 $i = 2$，所以答案为 $1$。\n\n#### 【数据范围】\n\n**本题采用捆绑测试且开启子任务依赖。**\n\n| 子任务编号 | 分值 | $n \\le$ | $\\sum n \\le$ | 特殊性质 | 子任务依赖 |\n| :-: | :-: | :-: | :-: | :-: | :-: |\n| $1$ | $19$ | $6$ | $10^4$ | 无 | 无 |\n| $2$ | $14$ | $12$ | $10^4$ | 无 | $1$ |\n| $3$ | $27$ | $2 \\cdot 10^3$ | $10^4$ | 无 | $1, 2$ |\n| $4$ | $2$ | $2 \\cdot 10^5$ | $2 \\cdot 10^5$ | $a_i = i$ | 无 |\n| $5$ | $38$ | $2 \\cdot 10^5$ | $2 \\cdot 10^5$ | 无 | $1, 2, 3, 4$ |\n\n对于所有数据，满足 $1 \\le T \\le 10^4$，$2 \\le n, \\sum n \\le 2 \\cdot 10^5$，$0 \\le a_i \\le n - 1$，$a$ 是一个 $0 \\sim n - 1$ 的排列。", "locale": "zh-CN"}}}
{"pid": "P10844", "type": "P", "difficulty": 3, "samples": [["4\n5\n-2\n2\n1\n-3\n2\n", "1"], ["2\n4\n1\n1\n1\n1", "3"], ["2\n5\n1\n-1\n1\n-1\n-1\n", "0"], ["200000\n7\n199999\n199999\n1\n199999\n55\n199999\n55", "3"], ["3\n6\n1\n2\n2\n2\n1\n1\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Infinite Race / 无限赛跑", "background": "Day 1 Problem A.\n\n题面译自 [EGOI2024 infiniterace](https://wiki.egoi2024.nl/tasks/infiniterace/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "每年在埃因霍温都会举行一场马拉松。今年，组织者们想出了一个特别的点子，比赛不再在 42 公里后结束，而是无限进行下去！为了简化组织工作，比赛在埃因霍温大学的一个跑道上进行，参赛者在跑道上无限循环。\n\nAnika 很高兴成为 $N$ 名参赛者之一，编号从 $0$ 到 $N - 1$。她很快报名，因此她是参赛者 $0$。她在终点线后起跑，其他参赛者都在她前面。Anika 无法记住她跑了多少圈，但她记得何时超越了某人或何时被某人超越。她至少需要多少次越过终点线？没有人会后退，也不会在终点线上发生超车。此外，参赛者的速度不一定是恒定的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w7djguwq.png)", "inputFormat": "输入的第一行包含一个整数 $N$，表示参赛者的数量。\n\n第二行包含一个整数 $Q$，表示事件的数量。\n\n接下来的 $Q$ 行按比赛过程中发生的顺序描述事件。第 $i$ 行包含一个整数 $x_i$。\n\n- 如果 $x_i > 0$，表示 Anika 超越了参赛者 $x_i$。\n- 如果 $x_i < 0$，表示参赛者 $-x_i$ 超越了 Anika。\n", "outputFormat": "输出一个整数，表示 Anika 至少穿过终点线的次数。\n", "hint": "**样例解释**\n\n在第一个样例中，有 $N = 4$ 名参赛者和 $Q = 5$ 个事件。Anika 首先被参赛者 $2$ 超越，后者现在比她快一整圈。然后她反超 $2$，接着超越 $1$，随后被 $3$ 超越。在此时，Anika 仍然可以在她的第一圈。最后，她再次超越 $2$，为了实现这一点，意味着她至少穿过了终点线一次。\n\n在第二个样例中，除了 Anika 之外只有一个参赛者。Anika 四次超越了另一个参赛者，这意味着 Anika 至少穿过终点线三次。\n\n---\n\n**数据范围**\n\n对于全部数据，$2 \\le N \\le 2\\times 10^5$，$1 \\le Q \\le 2\\times 10^5$，$1 \\le x \\le N - 1$ 或 $-(N - 1) \\le x \\le -1$。\n\n- 子任务一（$29$ 分）：$N=2$。\n- 子任务二（$34$ 分）：$x_i > 0$。\n- 子任务三（$22$ 分）：$N,Q\\le 100$。\n- 子任务四（$15$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Infinite Race / 无限赛跑", "background": "Day 1 Problem A.\n\n题面译自 [EGOI2024 infiniterace](https://wiki.egoi2024.nl/tasks/infiniterace/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "每年在埃因霍温都会举行一场马拉松。今年，组织者们想出了一个特别的点子，比赛不再在 42 公里后结束，而是无限进行下去！为了简化组织工作，比赛在埃因霍温大学的一个跑道上进行，参赛者在跑道上无限循环。\n\nAnika 很高兴成为 $N$ 名参赛者之一，编号从 $0$ 到 $N - 1$。她很快报名，因此她是参赛者 $0$。她在终点线后起跑，其他参赛者都在她前面。Anika 无法记住她跑了多少圈，但她记得何时超越了某人或何时被某人超越。她至少需要多少次越过终点线？没有人会后退，也不会在终点线上发生超车。此外，参赛者的速度不一定是恒定的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w7djguwq.png)", "inputFormat": "输入的第一行包含一个整数 $N$，表示参赛者的数量。\n\n第二行包含一个整数 $Q$，表示事件的数量。\n\n接下来的 $Q$ 行按比赛过程中发生的顺序描述事件。第 $i$ 行包含一个整数 $x_i$。\n\n- 如果 $x_i > 0$，表示 Anika 超越了参赛者 $x_i$。\n- 如果 $x_i < 0$，表示参赛者 $-x_i$ 超越了 Anika。\n", "outputFormat": "输出一个整数，表示 Anika 至少穿过终点线的次数。\n", "hint": "**样例解释**\n\n在第一个样例中，有 $N = 4$ 名参赛者和 $Q = 5$ 个事件。Anika 首先被参赛者 $2$ 超越，后者现在比她快一整圈。然后她反超 $2$，接着超越 $1$，随后被 $3$ 超越。在此时，Anika 仍然可以在她的第一圈。最后，她再次超越 $2$，为了实现这一点，意味着她至少穿过了终点线一次。\n\n在第二个样例中，除了 Anika 之外只有一个参赛者。Anika 四次超越了另一个参赛者，这意味着 Anika 至少穿过终点线三次。\n\n---\n\n**数据范围**\n\n对于全部数据，$2 \\le N \\le 2\\times 10^5$，$1 \\le Q \\le 2\\times 10^5$，$1 \\le x \\le N - 1$ 或 $-(N - 1) \\le x \\le -1$。\n\n- 子任务一（$29$ 分）：$N=2$。\n- 子任务二（$34$ 分）：$x_i > 0$。\n- 子任务三（$22$ 分）：$N,Q\\le 100$。\n- 子任务四（$15$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN"}}}
{"pid": "P10845", "type": "P", "difficulty": 4, "samples": [["3\n0 3\n1 0\n1 0", "1"], ["5\n0 3\n1 0\n0 1\n2 0\n1 0\n", "3"], ["7\n0 0\n0 0\n1 0\n1 0\n2 0\n3 0\n2 0", "4"], ["6\n2 2\n2 2\n2 2\n2 2\n2 2\n2 2", "2"], ["7\n0 2\n2 0\n1 1\n2 2\n0 0\n0 1\n0 1", "3"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Bouquet / 花束制作", "background": "Day 1 Problem B.\n\n题面译自 [EGOI2024 bouquet](https://wiki.egoi2024.nl/tasks/bouquet/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "参观了世界上最大的花园之一库肯霍夫后，Lieke 非常喜欢花，因此她决定收集一些路边生长的郁金香来制作一个漂亮的花束。然而，在收集花朵时，她必须遵守荷兰严格的郁金香保护法的一些规定。\n\n沿着道路从左到右有 $N$ 株郁金香，编号从 $0$ 到 $N - 1$。郁金香保护法为郁金香 $i$ 分配了两个整数，$l_i$ 和 $r_i$。如果郁金香 $i$ 被包含在花束中，则郁金香 $i$ 左边紧邻的 $l_i$ 株郁金香和右边紧邻的 $r_i$ 株郁金香不能包含在花束中。注意，如果郁金香 $i$ 左边的郁金香少于 $l_i$ 株，或者右边的郁金香少于 $r_i$ 株，那么该侧所有的郁金香仍然不能包含在花束中（允许溢出）。\n\nLieke 想知道如果她最佳地选择花朵，最多能摘取多少株郁金香。帮她找到这个问题的答案，制作一个漂亮的花束吧！", "inputFormat": "输入的第一行包含一个整数 $N$，表示沿路生长的郁金香数量。\n\n接下来的 $N$ 行描述了郁金香保护法的信息：第 $i$ 行包含两个整数 $l_i$ 和 $r_i$，表示郁金香 $i$ 的保护限制。\n", "outputFormat": "输出一个整数，表示 Lieke 在遵守保护法的情况下可以摘取的最大郁金香数量。\n", "hint": "**样例解释**\n\n在第一个样例中，如果 Lieke 摘取郁金香 $0$，她不能摘取右边的两朵郁金香。摘取郁金香 $1$ 并不禁止她摘取郁金香 $2$，但郁金香 $2$ 禁止她摘取郁金香 $1$，因此她不能同时摘取它们。所以，Lieke 可以摘取的最大花朵数量是 $1$。\n\n在第二个样例中，Lieke 可以摘取的郁金香数量最多是 $3$，获得此结果的方式如图所示。其他摘取郁金香的方式会导致更小的答案。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/94f6sv0n.png)\n\n在第三个样例中，通过摘取郁金香 $0, 1, 3$ 和 $6$ 可以获得最多的 $4$ 朵郁金香。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le N\\le 2\\times 10^5$，$0\\le l_i,r_i\\le N$。\n\n- 子任务一（$8$ 分）：对于任意 $(i,j)$，$l_i=r_i=l_j=r_j$。\n- 子任务二（$16$ 分）：$r_i=0$。\n- 子任务三（$28$ 分）：$N\\le 1000$。\n- 子任务四（$18$ 分）：$l_i,r_i\\le 2$。\n- 子任务五（$30$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Bouquet / 花束制作", "background": "Day 1 Problem B.\n\n题面译自 [EGOI2024 bouquet](https://wiki.egoi2024.nl/tasks/bouquet/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "参观了世界上最大的花园之一库肯霍夫后，Lieke 非常喜欢花，因此她决定收集一些路边生长的郁金香来制作一个漂亮的花束。然而，在收集花朵时，她必须遵守荷兰严格的郁金香保护法的一些规定。\n\n沿着道路从左到右有 $N$ 株郁金香，编号从 $0$ 到 $N - 1$。郁金香保护法为郁金香 $i$ 分配了两个整数，$l_i$ 和 $r_i$。如果郁金香 $i$ 被包含在花束中，则郁金香 $i$ 左边紧邻的 $l_i$ 株郁金香和右边紧邻的 $r_i$ 株郁金香不能包含在花束中。注意，如果郁金香 $i$ 左边的郁金香少于 $l_i$ 株，或者右边的郁金香少于 $r_i$ 株，那么该侧所有的郁金香仍然不能包含在花束中（允许溢出）。\n\nLieke 想知道如果她最佳地选择花朵，最多能摘取多少株郁金香。帮她找到这个问题的答案，制作一个漂亮的花束吧！", "inputFormat": "输入的第一行包含一个整数 $N$，表示沿路生长的郁金香数量。\n\n接下来的 $N$ 行描述了郁金香保护法的信息：第 $i$ 行包含两个整数 $l_i$ 和 $r_i$，表示郁金香 $i$ 的保护限制。\n", "outputFormat": "输出一个整数，表示 Lieke 在遵守保护法的情况下可以摘取的最大郁金香数量。\n", "hint": "**样例解释**\n\n在第一个样例中，如果 Lieke 摘取郁金香 $0$，她不能摘取右边的两朵郁金香。摘取郁金香 $1$ 并不禁止她摘取郁金香 $2$，但郁金香 $2$ 禁止她摘取郁金香 $1$，因此她不能同时摘取它们。所以，Lieke 可以摘取的最大花朵数量是 $1$。\n\n在第二个样例中，Lieke 可以摘取的郁金香数量最多是 $3$，获得此结果的方式如图所示。其他摘取郁金香的方式会导致更小的答案。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/94f6sv0n.png)\n\n在第三个样例中，通过摘取郁金香 $0, 1, 3$ 和 $6$ 可以获得最多的 $4$ 朵郁金香。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le N\\le 2\\times 10^5$，$0\\le l_i,r_i\\le N$。\n\n- 子任务一（$8$ 分）：对于任意 $(i,j)$，$l_i=r_i=l_j=r_j$。\n- 子任务二（$16$ 分）：$r_i=0$。\n- 子任务三（$28$ 分）：$N\\le 1000$。\n- 子任务四（$18$ 分）：$l_i,r_i\\le 2$。\n- 子任务五（$30$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN"}}}
{"pid": "P10846", "type": "P", "difficulty": 6, "samples": [["5 3\n0 1 2 2 1\n0\n1\n2\n3", "2 0"], ["4 2\n0 1 0 0\n0\n0\n1", "3 0"], ["9 3\n0 0 2 1 2 0 2 1 2\n4\n8\n1\n0\n4\n1\n0\n7\n", "4 2"], ["8 3\n0 2 1 2 2 1 1 1\n6\n3\n0\n6\n3\n0\n3", "3 2"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Team Coding / 团队编程", "background": "Day 1 Problem C.\n\n题面译自 [EGOI2024 teamcoding](https://wiki.egoi2024.nl/tasks/teamcoding/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "埃因霍温巨型开源研究所（Eindhoven Gigantic Open-Source Institute，EGOI）公司有着非常严格的层级结构。除了 CEO Anneke，公司里的其他 $N - 1$ 名员工每人都有一个唯一的上司，并且层级结构中没有循环。你可以将公司的层级结构看作是以 Anneke 为根的树。由于这是一个多元化的公司，员工使用 $K$ 种不同的编程语言，但每位员工都有一种首选的编程语言。\n\nAnneke 为公司团队准备了一个大型的新项目，她希望能投入尽可能多的资源。为了决定哪个团队来负责这个项目，她执行以下操作：\n\n1. 选择一个人来领导团队。这也将确定项目使用的编程语言。每个在该团队领导下的子树中的员工且首选编程语言与团队领导相同的员工将参与这个项目。\n2. 通过将首选编程语言与团队领导相同的员工调入她的团队来增加参与项目的员工数量。\n\n    为了最大化参与项目的员工数量，她可以多次执行以下调换操作：\n    1. 她选择两名员工：\n        - 一名当前在团队领导的子树中且首选编程语言与团队领导不同的员工。\n        - 一名当前不在此子树中且首选编程语言与团队领导相同的员工。此外，这名员工需要与另一名被选中的员工处于相同的层级，即他们在向 Anneke 报告的链中有相同数量的上司。如果你将公司层级结构看作一棵树，那么这两名员工处于树的同一层级。\n    2. 这两名员工（且**仅**他们）交换公司层级结构中的位置。注意，报告给这两名员工的员工保持不变，只是更改了他们报告的对象。在下面的例子中，选择员工 $4$ 作为团队领导时，我们可以交换员工 $3$ 和 $2$，但不能交换员工 $1$ 和 $8$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k1l3gctp.png)\n\n找出能够参与新项目的最大员工数量，以及实现这一目标所需的最少调换次数。\n", "inputFormat": "输入的第一行包含两个整数，$N$ 和 $K$，分别表示 EGOI 的员工数量和员工可能使用的编程语言的数量。\n\nEGOI 的员工编号从 $0$ 到 $N - 1$，CEO Anneke 的编号为 $0$。下一行包含 $N$ 个整数 $l_i$，其中 $0 \\le l_i < K$，表示员工的首选编程语言。\n\n接下来的 $N - 1$ 行包含公司的结构。第 $i$ 行包含一个整数 $b_i$，其中 $0 \\le b_i < N$，表示第 $i$ 号员工的直接上司。注意，$i$ 的取值范围是 $1$ 到 $N - 1$（包含两端），因为 CEO Anneke 没有上司。\n", "outputFormat": "输出一行包含两个整数，$P$ 和 $S$，表示通过任意次数的调换能够达到的最大参与项目的员工数量（包括团队领导）和实现这一目标所需的**最少**调换次数。\n", "hint": "**样例解释**\n\n在前两个样例中，公司结构如下所示，其中模式编码了编程语言（0 = “条纹”，1 = “点状”，2 = “纯色”）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gzcdvyla.png)\n\n在样例 1 中，我们可以选择员工 $1$ 作为团队负责人，员工 $4$ 喜欢相同的编程语言，并且没有可能的交换来改善这一点。在样例 2 中，整个公司有 $3$ 名员工喜欢语言 $0$，这也是 Anneke 喜欢的语言，所以选择 Anneke 作为团队负责人会形成一个大小为 $3$ 的团队，不需要进行交换。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/te28oaxx.png)\n\n在样例 3 中，我们选择员工 $4$ 作为团队负责人，然后可以让员工 $1$ 和 $8$ 以及 $2$ 和 $3$ 交换团队，从而得到总共 $4$ 名员工喜欢与 $4$ 相同的语言，即语言 $2$（纯色）。在样例 4 中，选择员工 $6$ 作为团队负责人，并交换员工 $4$ 和 $7$ 以及 $1$ 和 $5$ 可以获得最大分数。注意，我们不能在选择团队负责人之前交换员工 $6$ 和 $3$ 以获得分数 $4$，因为我们必须首先确定团队负责人。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le N\\le 10^5$，$1\\le K\\le N$。\n\n- 子任务一（$12$ 分）：第 $i$ 名员工的上司是 $i - 1$。\n- 子任务二（$19$ 分）：$K\\le 2$。\n- 子任务三（$27$ 分）：对于每种编程语言，最多有 $10$ 名员工首选它。\n- 子任务四（$23$ 分）：$N\\le 2000$。\n- 子任务五（$19$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Team Coding / 团队编程", "background": "Day 1 Problem C.\n\n题面译自 [EGOI2024 teamcoding](https://wiki.egoi2024.nl/tasks/teamcoding/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "埃因霍温巨型开源研究所（Eindhoven Gigantic Open-Source Institute，EGOI）公司有着非常严格的层级结构。除了 CEO Anneke，公司里的其他 $N - 1$ 名员工每人都有一个唯一的上司，并且层级结构中没有循环。你可以将公司的层级结构看作是以 Anneke 为根的树。由于这是一个多元化的公司，员工使用 $K$ 种不同的编程语言，但每位员工都有一种首选的编程语言。\n\nAnneke 为公司团队准备了一个大型的新项目，她希望能投入尽可能多的资源。为了决定哪个团队来负责这个项目，她执行以下操作：\n\n1. 选择一个人来领导团队。这也将确定项目使用的编程语言。每个在该团队领导下的子树中的员工且首选编程语言与团队领导相同的员工将参与这个项目。\n2. 通过将首选编程语言与团队领导相同的员工调入她的团队来增加参与项目的员工数量。\n\n    为了最大化参与项目的员工数量，她可以多次执行以下调换操作：\n    1. 她选择两名员工：\n        - 一名当前在团队领导的子树中且首选编程语言与团队领导不同的员工。\n        - 一名当前不在此子树中且首选编程语言与团队领导相同的员工。此外，这名员工需要与另一名被选中的员工处于相同的层级，即他们在向 Anneke 报告的链中有相同数量的上司。如果你将公司层级结构看作一棵树，那么这两名员工处于树的同一层级。\n    2. 这两名员工（且**仅**他们）交换公司层级结构中的位置。注意，报告给这两名员工的员工保持不变，只是更改了他们报告的对象。在下面的例子中，选择员工 $4$ 作为团队领导时，我们可以交换员工 $3$ 和 $2$，但不能交换员工 $1$ 和 $8$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k1l3gctp.png)\n\n找出能够参与新项目的最大员工数量，以及实现这一目标所需的最少调换次数。\n", "inputFormat": "输入的第一行包含两个整数，$N$ 和 $K$，分别表示 EGOI 的员工数量和员工可能使用的编程语言的数量。\n\nEGOI 的员工编号从 $0$ 到 $N - 1$，CEO Anneke 的编号为 $0$。下一行包含 $N$ 个整数 $l_i$，其中 $0 \\le l_i < K$，表示员工的首选编程语言。\n\n接下来的 $N - 1$ 行包含公司的结构。第 $i$ 行包含一个整数 $b_i$，其中 $0 \\le b_i < N$，表示第 $i$ 号员工的直接上司。注意，$i$ 的取值范围是 $1$ 到 $N - 1$（包含两端），因为 CEO Anneke 没有上司。\n", "outputFormat": "输出一行包含两个整数，$P$ 和 $S$，表示通过任意次数的调换能够达到的最大参与项目的员工数量（包括团队领导）和实现这一目标所需的**最少**调换次数。\n", "hint": "**样例解释**\n\n在前两个样例中，公司结构如下所示，其中模式编码了编程语言（0 = “条纹”，1 = “点状”，2 = “纯色”）：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gzcdvyla.png)\n\n在样例 1 中，我们可以选择员工 $1$ 作为团队负责人，员工 $4$ 喜欢相同的编程语言，并且没有可能的交换来改善这一点。在样例 2 中，整个公司有 $3$ 名员工喜欢语言 $0$，这也是 Anneke 喜欢的语言，所以选择 Anneke 作为团队负责人会形成一个大小为 $3$ 的团队，不需要进行交换。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/te28oaxx.png)\n\n在样例 3 中，我们选择员工 $4$ 作为团队负责人，然后可以让员工 $1$ 和 $8$ 以及 $2$ 和 $3$ 交换团队，从而得到总共 $4$ 名员工喜欢与 $4$ 相同的语言，即语言 $2$（纯色）。在样例 4 中，选择员工 $6$ 作为团队负责人，并交换员工 $4$ 和 $7$ 以及 $1$ 和 $5$ 可以获得最大分数。注意，我们不能在选择团队负责人之前交换员工 $6$ 和 $3$ 以获得分数 $4$，因为我们必须首先确定团队负责人。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le N\\le 10^5$，$1\\le K\\le N$。\n\n- 子任务一（$12$ 分）：第 $i$ 名员工的上司是 $i - 1$。\n- 子任务二（$19$ 分）：$K\\le 2$。\n- 子任务三（$27$ 分）：对于每种编程语言，最多有 $10$ 名员工首选它。\n- 子任务四（$23$ 分）：$N\\le 2000$。\n- 子任务五（$19$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN"}}}
{"pid": "P10848", "type": "P", "difficulty": 3, "samples": [["4 1 5\n1\n1 4\n1 5\n1 7\n1 2\n1 6\n", "2\n1\n2\n1\n2"], ["6 1 3\n5\n5 7\n5 1\n5 11", "2\n3\n1"], ["4 2 4\n2 3\n0 2\n0 3\n0 6\n0 7", "2\n2\n2\n1"], ["5 2 5\n0 4\n0 9\n1 8\n8 3\n1 6\n3 9", "1\n3\n3\n3\n2"], ["500000000 4 3\n543234 1234566 2300001 249999999\n2334445 123567\n6578996 12455726\n3 269979899", "2210878\n5876730\n231106567"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Circle Passing / 传球游戏", "background": "Day 2 Problem A.\n\n题面译自 [EGOI2024 circlepassing](https://wiki.egoi2024.nl/tasks/circlepassing/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "这是 Anouk 高中的第一天；作为热身活动，她的体育老师让班级玩记忆名字的游戏。班上有 $2N$ 名学生。他们中的大多数人彼此不认识，但有 $M$ 对最好的朋友，他们一起做任何事情。每个学生最多有一个最好的朋友。\n\n老师把所有学生安排成一个圆圈，连续给每个学生分配一个从 $0$ 到 $2N - 1$ 的编号。更具体地，对于每个 $0 \\le i < 2N - 1$，学生 $i$ 和 $i + 1$ 站在一起。此外，学生 $0$ 和 $2N - 1$ 也站在一起。\n\n由于老师希望每个人都能结识新同学，所以最好的朋友必须尽可能远离彼此，即相对而站。也就是说，形成第 $i$ 对好朋友的学生分别站在位置 $k_i$ 和 $k_i + N$，其中 $0 \\le k_i < N$。\n\n老师选择了两个学生 $x$ 和 $y$ 并将一个球交给学生 $x$。目标是将球传给学生 $y$，但每个学生只能将球传给另一个他们已经知道名字的学生。当然，最好的朋友彼此知道对方的名字。在老师解释规则期间，每个学生都认识了直接站在他们旁边的两个学生的名字。除此之外，没有人知道其他人的名字。\n\n游戏玩了 $Q$ 次；每次老师选择两个学生。由于学生们没有注意，他们在游戏过程中不会学到任何新名字。在每场游戏中，从学生 $x$ 到学生 $y$ 需要的最少传球次数是多少？", "inputFormat": "输入的第一行包含三个整数，$N, M$ 和 $Q$，其中 $2N$ 是 Anouk 班上的学生数，$M$ 是最好朋友的对数，$Q$ 是进行的游戏次数。\n\n第二行包含 $M$ 个整数 $k_0 ,\\cdots, k_{M-1}$，其中 $k_i$ 描述了第 $i$ 对好朋友。对于每个 $i$，最好朋友分别站在位置 $k$ 和 $k + N$。每个学生最多有一个最好的朋友。\n\n接下来的 $Q$ 行每行包含两个整数，$x_i$ 和 $y_i$，即第 $i$ 场游戏中选择的两个学生。", "outputFormat": "输出 $Q$ 行，第 $i$ 行包含一个整数，即第 $i$ 场游戏中所需的最少传球次数。", "hint": "**样例解释**\n\n以下两图描述了第一个样例和第四个样例中的排列情况。如果两个学生彼此认识，他们之间就有一条边连接。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ypxfh72b.png)\n\n在第一个样例的第一个游戏中，球被传给学生 $1$。学生 $1$ 将球传给他们的好朋友学生 $5$。球在学生 $5$ 传给学生 $4$ 后到达学生 $4$，总共需要两次传球。\n\n---\n\n**数据范围**\n\n对于全部数据，$2\\le N\\le 5\\times 10^8$，$1\\le M\\le 5\\times 10^5$ 且 $M\\le N$，$1\\le Q\\le 2\\times 10^4$，$0\\le k_0<k_1<\\cdots<k_{M-1}<N$，$0\\le x_i,y_i < 2N$ 且 $x_i\\ne y_i$。\n\n- 子任务一（$14$ 分）：$M=1$ 且 $x_i=k_0$。换句话说，仅有一对最好的朋友，且在每局游戏中，最开始有球的人有一个最好的朋友。\n- 子任务二（$20$ 分）：$N,M,Q\\le 1000$。\n- 子任务三（$22$ 分）：$N\\le 10^7$ 且 $M,Q\\le 1000$。\n- 子任务四（$17$ 分）：$x_i=0$。\n- 子任务五（$27$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Circle Passing / 传球游戏", "background": "Day 2 Problem A.\n\n题面译自 [EGOI2024 circlepassing](https://wiki.egoi2024.nl/tasks/circlepassing/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "这是 Anouk 高中的第一天；作为热身活动，她的体育老师让班级玩记忆名字的游戏。班上有 $2N$ 名学生。他们中的大多数人彼此不认识，但有 $M$ 对最好的朋友，他们一起做任何事情。每个学生最多有一个最好的朋友。\n\n老师把所有学生安排成一个圆圈，连续给每个学生分配一个从 $0$ 到 $2N - 1$ 的编号。更具体地，对于每个 $0 \\le i < 2N - 1$，学生 $i$ 和 $i + 1$ 站在一起。此外，学生 $0$ 和 $2N - 1$ 也站在一起。\n\n由于老师希望每个人都能结识新同学，所以最好的朋友必须尽可能远离彼此，即相对而站。也就是说，形成第 $i$ 对好朋友的学生分别站在位置 $k_i$ 和 $k_i + N$，其中 $0 \\le k_i < N$。\n\n老师选择了两个学生 $x$ 和 $y$ 并将一个球交给学生 $x$。目标是将球传给学生 $y$，但每个学生只能将球传给另一个他们已经知道名字的学生。当然，最好的朋友彼此知道对方的名字。在老师解释规则期间，每个学生都认识了直接站在他们旁边的两个学生的名字。除此之外，没有人知道其他人的名字。\n\n游戏玩了 $Q$ 次；每次老师选择两个学生。由于学生们没有注意，他们在游戏过程中不会学到任何新名字。在每场游戏中，从学生 $x$ 到学生 $y$ 需要的最少传球次数是多少？", "inputFormat": "输入的第一行包含三个整数，$N, M$ 和 $Q$，其中 $2N$ 是 Anouk 班上的学生数，$M$ 是最好朋友的对数，$Q$ 是进行的游戏次数。\n\n第二行包含 $M$ 个整数 $k_0 ,\\cdots, k_{M-1}$，其中 $k_i$ 描述了第 $i$ 对好朋友。对于每个 $i$，最好朋友分别站在位置 $k$ 和 $k + N$。每个学生最多有一个最好的朋友。\n\n接下来的 $Q$ 行每行包含两个整数，$x_i$ 和 $y_i$，即第 $i$ 场游戏中选择的两个学生。", "outputFormat": "输出 $Q$ 行，第 $i$ 行包含一个整数，即第 $i$ 场游戏中所需的最少传球次数。", "hint": "**样例解释**\n\n以下两图描述了第一个样例和第四个样例中的排列情况。如果两个学生彼此认识，他们之间就有一条边连接。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ypxfh72b.png)\n\n在第一个样例的第一个游戏中，球被传给学生 $1$。学生 $1$ 将球传给他们的好朋友学生 $5$。球在学生 $5$ 传给学生 $4$ 后到达学生 $4$，总共需要两次传球。\n\n---\n\n**数据范围**\n\n对于全部数据，$2\\le N\\le 5\\times 10^8$，$1\\le M\\le 5\\times 10^5$ 且 $M\\le N$，$1\\le Q\\le 2\\times 10^4$，$0\\le k_0<k_1<\\cdots<k_{M-1}<N$，$0\\le x_i,y_i < 2N$ 且 $x_i\\ne y_i$。\n\n- 子任务一（$14$ 分）：$M=1$ 且 $x_i=k_0$。换句话说，仅有一对最好的朋友，且在每局游戏中，最开始有球的人有一个最好的朋友。\n- 子任务二（$20$ 分）：$N,M,Q\\le 1000$。\n- 子任务三（$22$ 分）：$N\\le 10^7$ 且 $M,Q\\le 1000$。\n- 子任务四（$17$ 分）：$x_i=0$。\n- 子任务五（$27$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN"}}}
{"pid": "P10849", "type": "P", "difficulty": 4, "samples": [["2\n3 3\n1 3", "2"], ["3\n1 1 1\n1 1 1", "1"], ["6\n1 0 1 1 0 1\n1 1 0 0 1 0", "1"], ["4\n2 1 1 8\n0 4 4 0", "-1"], ["1\n1000000000\n1000000000", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "2024", "O2优化", "栈", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Bike Parking / 车位分配", "background": "Day 2 Problem B.\n\n题面译自 [EGOI2024 bikeparking](https://wiki.egoi2024.nl/tasks/bikeparking/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "Sanne 最近想出了一个有利可图的商业点子：在埃因霍温火车站出租高级自行车停车位。为了最大化她的利润，她将自行车停车位分成了 $N$ 个不同的级别，编号从 $0$ 到 $N - 1$。级别 $0$ 是高级级别，位置非常靠近火车站台。编号越高的级别停车位越差。级别 $t$ 的停车位数量为 $x_t$。\n\n用户通过一个应用程序来分配他们的停车位。每个用户都有一个订阅等级，并期望在相应的级别获得一个停车位。然而，服务条款并不保证用户在他们的相应级别获得一个停车位。\n\n如果订阅等级为 $s$ 的用户被分配到级别 $t$ 的停车位，那么会发生以下三种情况之一：\n\n1. 如果 $t < s$，用户会感到高兴，并会为应用点赞。\n2. 如果 $t = s$，用户会感到满意，不会有任何反应。\n3. 如果 $t > s$，用户会感到生气，并会给应用差评。\n\n今天，Sanne 的应用有 $y_0 + y_1 + \\cdots + y_{N-1}$ 名用户，其中 $y_s$ 是订阅等级为 $s$ 的用户数量。她需要你的帮助来将用户分配到停车位。每个用户应该得到一个停车位。不能将一个停车位分配给多个用户，但可以有一些停车位不分配给任何用户。此外，用户总数不超过可用停车位总数。\n\nSanne 希望最大化她的应用评分。设 $U$ 为点赞数，$D$ 为差评数。你的任务是通过最佳分配用户到停车位来最大化 $U - D$。", "inputFormat": "第一行包含一个整数 $N$，表示级别或订阅等级的数量。\n\n第二行包含 $N$ 个整数 $x_0,x_1,\\cdots,x_{N-1}$，表示不同级别的停车位数量。\n\n第三行包含 $N$ 个整数 $y_0,y_1,\\cdots,y_{N-1}$，表示每个订阅等级的用户数量。\n", "outputFormat": "输出一个整数，表示通过最佳分配用户到停车位所能得到的最大可能值 $U - D$。\n", "hint": "**样例解释**\n\n在第一个样例中，你可以将订阅级别为 $0$ 的用户分配到 $0$ 级停车位，将两个级别为 $1$ 的用户分配到 $0$ 级停车位（获得 2 次赞），并将剩余的级别为 $1$ 的用户分配到 $1$ 级停车位。这导致评分为 $2$。\n\n在第二个样例中，你可以将级别 $1$ 的用户分配到 $0$ 级停车位，将级别 $2$ 的用户分配到 $1$ 级停车位，并将级别 $0$ 的用户分配到 $2$ 级停车位。这将导致 2 次赞和 1 次踩，评分为 $1$。\n\n在第三个样例中，你可以将级别 $1$ 的用户分配到 $0$ 级停车位，将级别 $0$ 的用户分配到 $2$ 级停车位，并将级别 $4$ 的用户分配到 $3$ 级停车位。这将再次导致 2 次赞和 1 次踩，评分为 $1$。\n\n第四个样例如下图所示。你可以将级别 $1$ 的用户分配到 $0, 0, 3, 3$ 级停车位，导致 2 次赞和 2 次踩。接下来，将级别 $2$ 的用户分配到 $1, 2, 3, 3$ 级停车位，导致 1 次赞和 2 次踩。这相当于 3 次赞和 4 次踩，评分为 $-1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/92be79ja.png)\n\n在第五个样例中，你可以将每个人分配到匹配其自身订阅级别的停车位，因此评分为 $0$。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le N\\le 3\\times 10^5$，$0\\le x_i,y_i\\le 10^9$，$y_0+y_1+\\cdots+y_{N-1}\\le x_0+x_1+\\cdots+x_{N-1}\\le 10^9$。\n\n- 子任务一（$16$ 分）：$N=2$，$x_i\\le 100$，$y_i\\le 100$。\n- 子任务二（$9$ 分）：对于任意 $(i,j)$，$x_i=x_j=y_i=y_j$。\n- 子任务三（$19$ 分）：$x_i,y_i\\le 1$。\n- 子任务四（$24$ 分）：$N,x_i,y_i\\le 100$。\n- 子任务五（$32$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Bike Parking / 车位分配", "background": "Day 2 Problem B.\n\n题面译自 [EGOI2024 bikeparking](https://wiki.egoi2024.nl/tasks/bikeparking/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。", "description": "Sanne 最近想出了一个有利可图的商业点子：在埃因霍温火车站出租高级自行车停车位。为了最大化她的利润，她将自行车停车位分成了 $N$ 个不同的级别，编号从 $0$ 到 $N - 1$。级别 $0$ 是高级级别，位置非常靠近火车站台。编号越高的级别停车位越差。级别 $t$ 的停车位数量为 $x_t$。\n\n用户通过一个应用程序来分配他们的停车位。每个用户都有一个订阅等级，并期望在相应的级别获得一个停车位。然而，服务条款并不保证用户在他们的相应级别获得一个停车位。\n\n如果订阅等级为 $s$ 的用户被分配到级别 $t$ 的停车位，那么会发生以下三种情况之一：\n\n1. 如果 $t < s$，用户会感到高兴，并会为应用点赞。\n2. 如果 $t = s$，用户会感到满意，不会有任何反应。\n3. 如果 $t > s$，用户会感到生气，并会给应用差评。\n\n今天，Sanne 的应用有 $y_0 + y_1 + \\cdots + y_{N-1}$ 名用户，其中 $y_s$ 是订阅等级为 $s$ 的用户数量。她需要你的帮助来将用户分配到停车位。每个用户应该得到一个停车位。不能将一个停车位分配给多个用户，但可以有一些停车位不分配给任何用户。此外，用户总数不超过可用停车位总数。\n\nSanne 希望最大化她的应用评分。设 $U$ 为点赞数，$D$ 为差评数。你的任务是通过最佳分配用户到停车位来最大化 $U - D$。", "inputFormat": "第一行包含一个整数 $N$，表示级别或订阅等级的数量。\n\n第二行包含 $N$ 个整数 $x_0,x_1,\\cdots,x_{N-1}$，表示不同级别的停车位数量。\n\n第三行包含 $N$ 个整数 $y_0,y_1,\\cdots,y_{N-1}$，表示每个订阅等级的用户数量。\n", "outputFormat": "输出一个整数，表示通过最佳分配用户到停车位所能得到的最大可能值 $U - D$。\n", "hint": "**样例解释**\n\n在第一个样例中，你可以将订阅级别为 $0$ 的用户分配到 $0$ 级停车位，将两个级别为 $1$ 的用户分配到 $0$ 级停车位（获得 2 次赞），并将剩余的级别为 $1$ 的用户分配到 $1$ 级停车位。这导致评分为 $2$。\n\n在第二个样例中，你可以将级别 $1$ 的用户分配到 $0$ 级停车位，将级别 $2$ 的用户分配到 $1$ 级停车位，并将级别 $0$ 的用户分配到 $2$ 级停车位。这将导致 2 次赞和 1 次踩，评分为 $1$。\n\n在第三个样例中，你可以将级别 $1$ 的用户分配到 $0$ 级停车位，将级别 $0$ 的用户分配到 $2$ 级停车位，并将级别 $4$ 的用户分配到 $3$ 级停车位。这将再次导致 2 次赞和 1 次踩，评分为 $1$。\n\n第四个样例如下图所示。你可以将级别 $1$ 的用户分配到 $0, 0, 3, 3$ 级停车位，导致 2 次赞和 2 次踩。接下来，将级别 $2$ 的用户分配到 $1, 2, 3, 3$ 级停车位，导致 1 次赞和 2 次踩。这相当于 3 次赞和 4 次踩，评分为 $-1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/92be79ja.png)\n\n在第五个样例中，你可以将每个人分配到匹配其自身订阅级别的停车位，因此评分为 $0$。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le N\\le 3\\times 10^5$，$0\\le x_i,y_i\\le 10^9$，$y_0+y_1+\\cdots+y_{N-1}\\le x_0+x_1+\\cdots+x_{N-1}\\le 10^9$。\n\n- 子任务一（$16$ 分）：$N=2$，$x_i\\le 100$，$y_i\\le 100$。\n- 子任务二（$9$ 分）：对于任意 $(i,j)$，$x_i=x_j=y_i=y_j$。\n- 子任务三（$19$ 分）：$x_i,y_i\\le 1$。\n- 子任务四（$24$ 分）：$N,x_i,y_i\\le 100$。\n- 子任务五（$32$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。", "locale": "zh-CN"}}}
{"pid": "P10850", "type": "P", "difficulty": 7, "samples": [["5\n\n\n\n\n\n\n10\n\n\n\n\n\n\n13", "\n?\n11000\n00000\n00000\n00000\n00000\n\n?\n01000\n01000\n01000\n00100\n00000\n\n!\n00100\n00010\n01000\n00001\n01000"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "交互题", "Special Judge", "O2优化", "信息论", "随机化", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Light Bulbs / 灯泡安装", "background": "Day 2 Problem C.\n\n题面译自 [EGOI2024 lightbulbs](https://wiki.egoi2024.nl/tasks/lightbulbs/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。\n\n**本题是一道交互题。**", "description": "在 1891 年在埃因霍温创立他的灯泡公司后不久，Frederik Philips 取得了一个伟大的发现：可以在水平方向或垂直方向上点亮无限射线的灯泡。凭借这一新发现，他希望革新现代家庭的室内设计。\n\n他和他的儿子 Gerard 计划进行一个复杂的安装。他们在一个房间内的 $N \\times N$ 网格中安装了 $N^2$ 个灯泡。他们希望尽可能少地打开灯泡来点亮整个房间，以节省电力。每个灯泡要么是垂直的，意味着它点亮其列中的所有格子，要么是水平的，意味着它点亮其行中的所有格子。\n\n下图显示了一个垂直灯（左）和一个水平灯（右）的示例。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0aok3e6q.png)\n\n不幸的是，他们在安装灯泡时没有注意，不记得哪些灯泡是水平点亮的，哪些是垂直点亮的。相反，他们进行了些实验来弄清楚使用哪些灯泡可以点亮整个房间。Gerard 留在有灯泡的房间里，而 Frederik 在另一个房间操作开关。\n\n在每次实验中，Frederik 会打开或关闭每个灯泡，而 Gerard 会报告点亮了多少个格子；由两个或更多独立灯泡点亮的格子只算作一次。实验期间打开多少灯泡并不重要，但他们时间紧迫，理想情况下希望尽可能少地进行实验。\n\n帮助他们找到一种使用最少灯泡点亮整个房间的安排。他们最多可以进行 $2000$ 次实验。然而，如果他们使用更少的实验次数，你将获得更高的分数。\n\n---\n\n**交互方式**\n\n本题是一道交互题。\n\n- 你的程序应首先读取一个整数 $N$，即网格的高度和宽度。\n- 然后，程序应与评测系统进行交互。进行实验时，你应首先打印一行问号 `?`。在接下来的 $N$ 行中，输出一个 $N \\times N$ 的网格，指定哪些灯泡被点亮。具体来说，在每行中，输出一个长度为 $N$ 的字符串，由 $0$（关闭）和 $1$（打开）组成。然后，程序应读取一个整数 $l$（$0 \\le l \\le N^2$），表示通过指定的灯泡点亮的格子数量。\n- 当你想要回答时，打印一行感叹号 `!`，后跟 $N$ 行，格式与上面相同。在你的回答被接受前，**灯泡必须点亮整个网格，且打开的灯泡数量必须最少**。\n\n之后，你的程序应退出。\n\n评测系统是非自适应的，这意味着灯泡网格在交互开始前已经确定。\n\n每次进行实验后，请确保刷新标准输出；否则，程序可能会被判定为 TLE。在 Python 中，只要使用 `input()` 读取行，就会自动刷新。在 C++ 中，`cout << endl;` 除了打印换行符外还会刷新；如果使用 `printf`，请使用 `fflush(stdout)`。", "inputFormat": "见【交互方式】部分。", "outputFormat": "见【交互方式】部分。", "hint": "**样例解释**\n\n在样例交互中，程序首先读取网格大小 $N = 5$。下图展示了隐藏的网格（程序不知道）和众多可能答案之一，使用五盏灯点亮整个网格。标记的灯是打开的，较暗的方块是被照亮的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ys5gxvwm.png)\n\n程序进行了如下所示的两个实验。在第一个实验中，使用左上角的两个垂直灯照亮了总共 10 个方块。第二个实验照亮了总共 13 个方块。最后，程序写出了它的答案（如上图所示）并退出。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bftfq9cf.png)\n\n---\n\n**数据范围**\n\n对于全部数据，$3\\le N\\le 100$。你最多可以进行 $2000$ 次实验（输出最终答案不计入实验次数）。如果你超过了限制，程序会被判定为 WA。\n\n- 子任务一（$11$ 分）：$N=3$。\n- 子任务二（$11$ 分）：$N\\le 10$。\n- 子任务三（至多 $78$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。\n\n---\n\n**评分方式**\n\n在子任务三中，你按照下面的公式**根据进行实验的次数得分**：\n\n$$\n\\textrm{score}=\n\\begin{cases}\n(2000-Q)\\cdot 29/900&\\text{if }200\\le Q\\le 2000\\\\\n58+(200-Q)\\cdot 4/23&\\text{if }85\\le Q\\le 200\\\\\n78&\\text{if }Q\\le 85\\\\\n\\end{cases}\n$$\n\n其中 $Q$ 是这个子任务的所有测试点中最多的实验次数。你的得分将被取整到最接近的整数。\n\n下面是总分关于子任务三中 $Q$ 的函数图象。要想得到满分，你需要进行不超过 $85$ 次实验解决子任务三中的每个测试点。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/iaq5i0md.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Light Bulbs / 灯泡安装", "background": "Day 2 Problem C.\n\n题面译自 [EGOI2024 lightbulbs](https://wiki.egoi2024.nl/tasks/lightbulbs/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。\n\n**本题是一道交互题。**", "description": "在 1891 年在埃因霍温创立他的灯泡公司后不久，Frederik Philips 取得了一个伟大的发现：可以在水平方向或垂直方向上点亮无限射线的灯泡。凭借这一新发现，他希望革新现代家庭的室内设计。\n\n他和他的儿子 Gerard 计划进行一个复杂的安装。他们在一个房间内的 $N \\times N$ 网格中安装了 $N^2$ 个灯泡。他们希望尽可能少地打开灯泡来点亮整个房间，以节省电力。每个灯泡要么是垂直的，意味着它点亮其列中的所有格子，要么是水平的，意味着它点亮其行中的所有格子。\n\n下图显示了一个垂直灯（左）和一个水平灯（右）的示例。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0aok3e6q.png)\n\n不幸的是，他们在安装灯泡时没有注意，不记得哪些灯泡是水平点亮的，哪些是垂直点亮的。相反，他们进行了些实验来弄清楚使用哪些灯泡可以点亮整个房间。Gerard 留在有灯泡的房间里，而 Frederik 在另一个房间操作开关。\n\n在每次实验中，Frederik 会打开或关闭每个灯泡，而 Gerard 会报告点亮了多少个格子；由两个或更多独立灯泡点亮的格子只算作一次。实验期间打开多少灯泡并不重要，但他们时间紧迫，理想情况下希望尽可能少地进行实验。\n\n帮助他们找到一种使用最少灯泡点亮整个房间的安排。他们最多可以进行 $2000$ 次实验。然而，如果他们使用更少的实验次数，你将获得更高的分数。\n\n---\n\n**交互方式**\n\n本题是一道交互题。\n\n- 你的程序应首先读取一个整数 $N$，即网格的高度和宽度。\n- 然后，程序应与评测系统进行交互。进行实验时，你应首先打印一行问号 `?`。在接下来的 $N$ 行中，输出一个 $N \\times N$ 的网格，指定哪些灯泡被点亮。具体来说，在每行中，输出一个长度为 $N$ 的字符串，由 $0$（关闭）和 $1$（打开）组成。然后，程序应读取一个整数 $l$（$0 \\le l \\le N^2$），表示通过指定的灯泡点亮的格子数量。\n- 当你想要回答时，打印一行感叹号 `!`，后跟 $N$ 行，格式与上面相同。在你的回答被接受前，**灯泡必须点亮整个网格，且打开的灯泡数量必须最少**。\n\n之后，你的程序应退出。\n\n评测系统是非自适应的，这意味着灯泡网格在交互开始前已经确定。\n\n每次进行实验后，请确保刷新标准输出；否则，程序可能会被判定为 TLE。在 Python 中，只要使用 `input()` 读取行，就会自动刷新。在 C++ 中，`cout << endl;` 除了打印换行符外还会刷新；如果使用 `printf`，请使用 `fflush(stdout)`。", "inputFormat": "见【交互方式】部分。", "outputFormat": "见【交互方式】部分。", "hint": "**样例解释**\n\n在样例交互中，程序首先读取网格大小 $N = 5$。下图展示了隐藏的网格（程序不知道）和众多可能答案之一，使用五盏灯点亮整个网格。标记的灯是打开的，较暗的方块是被照亮的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ys5gxvwm.png)\n\n程序进行了如下所示的两个实验。在第一个实验中，使用左上角的两个垂直灯照亮了总共 10 个方块。第二个实验照亮了总共 13 个方块。最后，程序写出了它的答案（如上图所示）并退出。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bftfq9cf.png)\n\n---\n\n**数据范围**\n\n对于全部数据，$3\\le N\\le 100$。你最多可以进行 $2000$ 次实验（输出最终答案不计入实验次数）。如果你超过了限制，程序会被判定为 WA。\n\n- 子任务一（$11$ 分）：$N=3$。\n- 子任务二（$11$ 分）：$N\\le 10$。\n- 子任务三（至多 $78$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。\n\n---\n\n**评分方式**\n\n在子任务三中，你按照下面的公式**根据进行实验的次数得分**：\n\n$$\n\\textrm{score}=\n\\begin{cases}\n(2000-Q)\\cdot 29/900&\\text{if }200\\le Q\\le 2000\\\\\n58+(200-Q)\\cdot 4/23&\\text{if }85\\le Q\\le 200\\\\\n78&\\text{if }Q\\le 85\\\\\n\\end{cases}\n$$\n\n其中 $Q$ 是这个子任务的所有测试点中最多的实验次数。你的得分将被取整到最接近的整数。\n\n下面是总分关于子任务三中 $Q$ 的函数图象。要想得到满分，你需要进行不超过 $85$ 次实验解决子任务三中的每个测试点。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/iaq5i0md.png)", "locale": "zh-CN"}}}
{"pid": "P10851", "type": "P", "difficulty": 7, "samples": [["3 2\n0 1\n1 2", "5\n2 2 2\n2 2 3\n2 2 3\n1 2 2\n1 2 2"]], "limits": {"time": [9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000, 9000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "Special Judge", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2024] Make Them Meet / 活动面基", "background": "Day 2 Problem D.\n\n题面译自 [EGOI2024 makethemmeet](https://wiki.egoi2024.nl/tasks/makethemmeet/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。\n\n**警告：滥用本题评测将会封号。**", "description": "Mila 和 Laura 在网上已经是很长时间的朋友了；但她们从未在现实中见过面。现在，她们都参加了同一个现场活动，这意味着她们肯定会见面。然而，她们所住的酒店非常大且复杂。因此，经过几天后，她们仍未碰面。\n\n酒店由 $N$ 个房间组成，编号从 $0$ 到 $N - 1$。每个房间都有一个可以更换颜色的灯。你找到了酒店的电力服务房，允许你改变灯的颜色。你的目标是使用这些灯引导 Mila 和 Laura 最终见面。\n\n酒店可以表示为一个有 $N$ 个顶点（房间）和 $M$ 条边（连接房间的走廊）的图。Mila 和 Laura 最初在两个不同的房间开始，但你不知道是哪些房间。你可以进行若干次移动。每次移动包括打印一个包含 $N$ 个整数的列表 $c_0,c_1,\\cdots,c_{N-1}$，表示房间 $i$ 的灯变为颜色 $c_i$，其中 $i = 0, 1,\\cdots, N - 1$。然后，Mila 和 Laura 会查看她们当前所在房间的灯的颜色，并走向相邻房间中灯颜色相同的房间。如果没有这样的相邻房间，她们将留在原地。如果有多个这样的相邻房间，她们将任意选择一个。\n\n如果在你的移动过程中，Mila 和 Laura 在同一个房间或同时使用同一个走廊，那么你就成功地让她们见面了。你最多可以进行 $2\\times 10^4$ 次移动，但如果你使用更少的移动次数，你的得分会更高。\n\n注意，你不知道 Mila 和 Laura 最初在哪个房间，也不知道如果她们有多个相同颜色的房间可以选择时会如何走。**你的解决方案必须在无论她们的起始房间是哪些或如何走动的情况下都是正确的。**", "inputFormat": "第一行包含两个整数 $N$ 和 $M$，分别表示酒店的房间数和走廊数。\n\n接下来的 $M$ 行每行包含两个整数 $u_i$ 和 $v_i$，表示房间 $u_i$ 和 $v_i$ 由一个走廊连接。\n", "outputFormat": "输出一行一个整数 $K$，表示移动次数。\n\n在接下来的 $K$ 行中，每行输出 $N$ 个整数 $c_0,c_1,\\cdots,c_{N-1}$，其中对所有的 $i$ 都有 $0 \\le c_i \\le N$。这 $K$ 行代表按时间顺序的你的移动。\n", "hint": "**样例解释**\n\n样例情况是一个长度为 $3$ 的路径，因此它可能属于测试组 $3, 4$ 或 $5$。如果房间的灯根据样例输出进行着色，那么 Mila 和 Laura 总会见面。\n\n例如，假设 Mila 开始在房间 $0$，Laura 开始在房间 $1$：\n\n- 第一步：Mila 必须走到房间 $1$。如果 Laura 走到房间 $0$，那么她们将在 $0$ 和 $1$ 之间的走廊上相遇。假设 Laura 走到房间 $2$。\n- 第二步：Mila 走回房间 $0$，Laura 留在房间 $2$。\n- 第三步：Mila 再次走到房间 $1$，Laura 留在房间 $2$。\n- 第四步：Mila 走到房间 $2$，Laura 走到房间 $1$。于是她们将在房间 $1$ 和 $2$ 之间的走廊上相遇。\n- 第五步：Mila 和 Laura 交换位置并再次相遇（但这并不重要，因为她们已经见面了）。\n\n下图显示了样例的前四步。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/836n7qi6.png)\n\n注意，这仅仅是朋友从房间 $0$ 和 $1$ 开始的情况。可以验证，无论她们从哪里开始以及如何行走，相同的移动顺序都能确保她们见面。\n\n---\n\n**数据范围**\n\n对于全部数据，$2\\le N\\le 100$，$N-1\\le M\\le \\frac{N(N-1)}{2}$，$0\\le u_i,v_i\\le N-1$ 且 $u_i\\ne v_i$。保证你可以从每个房间到达所有房间，且没有走廊连接一个房间和它自己，也没有多个走廊连接相同的两个房间。你最多可以使用 $2\\times 10^4$ 步（即 $K\\le 2\\times 10^4$）。\n\n- 子任务一（至多 $10$ 分）：$M=N-1$ 且走廊是 $(0,1),(0,2),(0,3),\\cdots,(0,N-1)$。也就是说，图为菊花图。\n- 子任务二（至多 $13$ 分）：$M=\\frac{N(N-1)}{2}$，即任意两个房间之间都有一条走廊。也就是说，图为完全图。\n- 子任务三（至多 $11$ 分）：$M=N-1$ 且走廊是 $(0,1),(1,2),(2,3),\\cdots,(N-2,N-1)$。也就是说，图为一条链。\n- 子任务四（至多 $36$ 分）：$M=N-1$。也就是说，图为一棵树。\n- 子任务五（至多 $30$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。\n\n---\n\n**评分方式**\n\n对于每个你的程序正确解决的子任务，你会根据以下公式获得分数：\n\n$$\n\\textrm{score}=\\left\\lfloor S_g\\cdot\\min\\left(1,\\frac{2000}{K_g+1900}+\\frac{1}{5}\\right)\\right\\rfloor\n$$\n\n其中 $S_g$ 是这个子任务的满分，$K_g$ 是你的程序在这个子任务的所有测试点中使用的最大步数。这意味着要想得到满分，你需要用不超过 $600$ 步解决每个测试点。下面是得分关于 $K_g$ 的函数图象。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bnzkmp36.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2024] Make Them Meet / 活动面基", "background": "Day 2 Problem D.\n\n题面译自 [EGOI2024 makethemmeet](https://wiki.egoi2024.nl/tasks/makethemmeet/statement-isc.pdf)。翻译来自于 [ChatGPT](https://chatgpt.com/) 并进行人工校对，若有误请联系 [rui_er](https://www.luogu.com.cn/user/122461)。\n\n**警告：滥用本题评测将会封号。**", "description": "Mila 和 Laura 在网上已经是很长时间的朋友了；但她们从未在现实中见过面。现在，她们都参加了同一个现场活动，这意味着她们肯定会见面。然而，她们所住的酒店非常大且复杂。因此，经过几天后，她们仍未碰面。\n\n酒店由 $N$ 个房间组成，编号从 $0$ 到 $N - 1$。每个房间都有一个可以更换颜色的灯。你找到了酒店的电力服务房，允许你改变灯的颜色。你的目标是使用这些灯引导 Mila 和 Laura 最终见面。\n\n酒店可以表示为一个有 $N$ 个顶点（房间）和 $M$ 条边（连接房间的走廊）的图。Mila 和 Laura 最初在两个不同的房间开始，但你不知道是哪些房间。你可以进行若干次移动。每次移动包括打印一个包含 $N$ 个整数的列表 $c_0,c_1,\\cdots,c_{N-1}$，表示房间 $i$ 的灯变为颜色 $c_i$，其中 $i = 0, 1,\\cdots, N - 1$。然后，Mila 和 Laura 会查看她们当前所在房间的灯的颜色，并走向相邻房间中灯颜色相同的房间。如果没有这样的相邻房间，她们将留在原地。如果有多个这样的相邻房间，她们将任意选择一个。\n\n如果在你的移动过程中，Mila 和 Laura 在同一个房间或同时使用同一个走廊，那么你就成功地让她们见面了。你最多可以进行 $2\\times 10^4$ 次移动，但如果你使用更少的移动次数，你的得分会更高。\n\n注意，你不知道 Mila 和 Laura 最初在哪个房间，也不知道如果她们有多个相同颜色的房间可以选择时会如何走。**你的解决方案必须在无论她们的起始房间是哪些或如何走动的情况下都是正确的。**", "inputFormat": "第一行包含两个整数 $N$ 和 $M$，分别表示酒店的房间数和走廊数。\n\n接下来的 $M$ 行每行包含两个整数 $u_i$ 和 $v_i$，表示房间 $u_i$ 和 $v_i$ 由一个走廊连接。\n", "outputFormat": "输出一行一个整数 $K$，表示移动次数。\n\n在接下来的 $K$ 行中，每行输出 $N$ 个整数 $c_0,c_1,\\cdots,c_{N-1}$，其中对所有的 $i$ 都有 $0 \\le c_i \\le N$。这 $K$ 行代表按时间顺序的你的移动。\n", "hint": "**样例解释**\n\n样例情况是一个长度为 $3$ 的路径，因此它可能属于测试组 $3, 4$ 或 $5$。如果房间的灯根据样例输出进行着色，那么 Mila 和 Laura 总会见面。\n\n例如，假设 Mila 开始在房间 $0$，Laura 开始在房间 $1$：\n\n- 第一步：Mila 必须走到房间 $1$。如果 Laura 走到房间 $0$，那么她们将在 $0$ 和 $1$ 之间的走廊上相遇。假设 Laura 走到房间 $2$。\n- 第二步：Mila 走回房间 $0$，Laura 留在房间 $2$。\n- 第三步：Mila 再次走到房间 $1$，Laura 留在房间 $2$。\n- 第四步：Mila 走到房间 $2$，Laura 走到房间 $1$。于是她们将在房间 $1$ 和 $2$ 之间的走廊上相遇。\n- 第五步：Mila 和 Laura 交换位置并再次相遇（但这并不重要，因为她们已经见面了）。\n\n下图显示了样例的前四步。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/836n7qi6.png)\n\n注意，这仅仅是朋友从房间 $0$ 和 $1$ 开始的情况。可以验证，无论她们从哪里开始以及如何行走，相同的移动顺序都能确保她们见面。\n\n---\n\n**数据范围**\n\n对于全部数据，$2\\le N\\le 100$，$N-1\\le M\\le \\frac{N(N-1)}{2}$，$0\\le u_i,v_i\\le N-1$ 且 $u_i\\ne v_i$。保证你可以从每个房间到达所有房间，且没有走廊连接一个房间和它自己，也没有多个走廊连接相同的两个房间。你最多可以使用 $2\\times 10^4$ 步（即 $K\\le 2\\times 10^4$）。\n\n- 子任务一（至多 $10$ 分）：$M=N-1$ 且走廊是 $(0,1),(0,2),(0,3),\\cdots,(0,N-1)$。也就是说，图为菊花图。\n- 子任务二（至多 $13$ 分）：$M=\\frac{N(N-1)}{2}$，即任意两个房间之间都有一条走廊。也就是说，图为完全图。\n- 子任务三（至多 $11$ 分）：$M=N-1$ 且走廊是 $(0,1),(1,2),(2,3),\\cdots,(N-2,N-1)$。也就是说，图为一条链。\n- 子任务四（至多 $36$ 分）：$M=N-1$。也就是说，图为一棵树。\n- 子任务五（至多 $30$ 分）：无特殊限制。\n\n注：部分测试点在 EGOI 中被放在多个子任务中。为节省评测资源及整理数据的工作量，这些测试点被放在包含它的所有子任务中编号最小的一个。这可能导致一份代码得到比预期更高的分数，但是无法过题。\n\n---\n\n**评分方式**\n\n对于每个你的程序正确解决的子任务，你会根据以下公式获得分数：\n\n$$\n\\textrm{score}=\\left\\lfloor S_g\\cdot\\min\\left(1,\\frac{2000}{K_g+1900}+\\frac{1}{5}\\right)\\right\\rfloor\n$$\n\n其中 $S_g$ 是这个子任务的满分，$K_g$ 是你的程序在这个子任务的所有测试点中使用的最大步数。这意味着要想得到满分，你需要用不超过 $600$ 步解决每个测试点。下面是得分关于 $K_g$ 的函数图象。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bnzkmp36.png)", "locale": "zh-CN"}}}
{"pid": "P10852", "type": "P", "difficulty": 2, "samples": [["3\n5 3\n1 1\n4 4\n5 5\n6 6\n1 1\n3 7\n2 4\n5 5\n4 1\n6 4\n5 0", "Yes\nNo\nYes"], ["1\n5 2\n1 -2\n5 -10", "Yes"], ["2\n9 6\n1 -856675560\n8 479857596\n5 -92942328\n4 -283875636\n3 -474808944\n9 670790904\n10 7\n4 -32297373\n10 -633066970\n9 831032854\n5 -43726758\n2 -699796467\n1 -918486370\n8 612342951", "Yes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "Special Judge", "O2优化", "构造", "梦熊比赛"], "title": "【MX-X2-T1】「Cfz Round 4」Awaken", "background": "原题链接：<https://oier.team/problems/X2A>。\n\n---\n\n能否等到梦醒了的时候。\n\n![图片与题目做法无关，图片来源网络，侵删。QWQ。](https://cdn.luogu.com.cn/upload/image_hosting/wksp5b48.png?x-oss-process=image/resize,m_lfit,h_500,w_500)\n", "description": "月做了一个梦。在梦中，她拿到了一个长度为 $n$ 的**整数**序列 $a_1, \\ldots, a_n$，**其中 $\\bm{n \\ge 5}$**。\n\n梦醒了。月忘记了这个序列中的一部分元素，留下了空白。所幸，月还记得 $m$ 个非空白的位置。月希望将空白的位置填上，还原整个序列。\n\n月还记得梦中的序列有性质：对于所有满足 $x_2+x_3=x_1+x_4$ 的互异下标 $x_1,x_2,x_3,x_4$，总有 $a_{x_2}+a_{x_3}=a_{x_1}+a_{x_4}$ 成立。\n\n月想知道是否可以还原出一个满足性质的序列（如果不能的话，就是她记错了）。若可以，输出 ```Yes```；否则输出 ```No```。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行两个整数 $n,m$，其中 $n \\ge 5$，$m$ 表示 $a_i$ 中不为空的位置的个数。\n- 接下来 $m$ 行，每行两个整数 $p_i,x_i$，表示 $a_{p_i}$ 不为空，且 $a_{{p_i}}=x_i$。保证 $p_i$ 两两不同。", "outputFormat": "对于每组测试数据，输出一个字符串 `Yes` 或 `No`，表示原序列是否存在。\n\n本题中字符串大小写不敏感，即 `yes`、`yeS`、`yEs`、`Yes`、`YEs`、`YeS`、`yES`、`YES` 都被认为是 `Yes`，`No` 同理。", "hint": "**【样例解释 #1】**\n\n对于第 $1$ 组测试数据，当前序列为 $[1,?,?,4,5]$。可以构造出原序列 $[1,2,3,4,5]$，你可以检查此序列满足性质。\n\n对于第 $2$ 组测试数据，当前序列为 $[1,4,7,1,5,4]$。可以证明不存在满足性质的原序列。这组样例提醒你，**$\\bm p$ 不一定升序给出**。\n\n对于第 $3$ 组测试数据，当前序列为 $[?,?,?,?,?]$。可以构造出原序列 $[0,0,0,0,0]$，当然 $[-1,-1,-1,-1,-1]$ 也可以。这组样例提醒你，$m$ 可以等于 $0$，以及原序列可以含有负数或 $0$。\n\n\n**【数据范围】**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有测试数据，$1 \\le T\\le 4\\times10^4$，$5\\le n\\le2\\times 10^5$，$\\sum n\\le 2\\times10^5$，$0\\le m\\le n$，$1\\le p_i\\le n$，$-10^{9} \\le x_i \\le 10^{9}$。保证在同一组数据内 $p_i$ 两两不同。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 points）：$n\\le2000$ 且 $m=n$。\n- Subtask 2（30 points）：$n\\leq 6$，$|x|\\le7$。\n- Subtask 3（20 points）：$m=2$。\n- Subtask 4（30 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X2-T1】「Cfz Round 4」Awaken", "background": "原题链接：<https://oier.team/problems/X2A>。\n\n---\n\n能否等到梦醒了的时候。\n\n![图片与题目做法无关，图片来源网络，侵删。QWQ。](https://cdn.luogu.com.cn/upload/image_hosting/wksp5b48.png?x-oss-process=image/resize,m_lfit,h_500,w_500)\n", "description": "月做了一个梦。在梦中，她拿到了一个长度为 $n$ 的**整数**序列 $a_1, \\ldots, a_n$，**其中 $\\bm{n \\ge 5}$**。\n\n梦醒了。月忘记了这个序列中的一部分元素，留下了空白。所幸，月还记得 $m$ 个非空白的位置。月希望将空白的位置填上，还原整个序列。\n\n月还记得梦中的序列有性质：对于所有满足 $x_2+x_3=x_1+x_4$ 的互异下标 $x_1,x_2,x_3,x_4$，总有 $a_{x_2}+a_{x_3}=a_{x_1}+a_{x_4}$ 成立。\n\n月想知道是否可以还原出一个满足性质的序列（如果不能的话，就是她记错了）。若可以，输出 ```Yes```；否则输出 ```No```。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行两个整数 $n,m$，其中 $n \\ge 5$，$m$ 表示 $a_i$ 中不为空的位置的个数。\n- 接下来 $m$ 行，每行两个整数 $p_i,x_i$，表示 $a_{p_i}$ 不为空，且 $a_{{p_i}}=x_i$。保证 $p_i$ 两两不同。", "outputFormat": "对于每组测试数据，输出一个字符串 `Yes` 或 `No`，表示原序列是否存在。\n\n本题中字符串大小写不敏感，即 `yes`、`yeS`、`yEs`、`Yes`、`YEs`、`YeS`、`yES`、`YES` 都被认为是 `Yes`，`No` 同理。", "hint": "**【样例解释 #1】**\n\n对于第 $1$ 组测试数据，当前序列为 $[1,?,?,4,5]$。可以构造出原序列 $[1,2,3,4,5]$，你可以检查此序列满足性质。\n\n对于第 $2$ 组测试数据，当前序列为 $[1,4,7,1,5,4]$。可以证明不存在满足性质的原序列。这组样例提醒你，**$\\bm p$ 不一定升序给出**。\n\n对于第 $3$ 组测试数据，当前序列为 $[?,?,?,?,?]$。可以构造出原序列 $[0,0,0,0,0]$，当然 $[-1,-1,-1,-1,-1]$ 也可以。这组样例提醒你，$m$ 可以等于 $0$，以及原序列可以含有负数或 $0$。\n\n\n**【数据范围】**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有测试数据，$1 \\le T\\le 4\\times10^4$，$5\\le n\\le2\\times 10^5$，$\\sum n\\le 2\\times10^5$，$0\\le m\\le n$，$1\\le p_i\\le n$，$-10^{9} \\le x_i \\le 10^{9}$。保证在同一组数据内 $p_i$ 两两不同。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 points）：$n\\le2000$ 且 $m=n$。\n- Subtask 2（30 points）：$n\\leq 6$，$|x|\\le7$。\n- Subtask 3（20 points）：$m=2$。\n- Subtask 4（30 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P10853", "type": "P", "difficulty": 3, "samples": [["7\n4\n3 0 1 3\n5\n0 1 2 3 4\n1\n6\n1\n0\n6\n1 1 4 5 1 4\n10\n10 32 43 28 19 83 10 10 83 23\n15\n132 256 852 31 1 0 12 13 12 0 0 255 143 23 32", "6\n6\n0\n1\n3\n12\n65"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "位运算", "梦熊比赛"], "title": "【MX-X2-T2】「Cfz Round 4」Xor Counting", "background": "原题链接：<https://oier.team/problems/X2B>。\n\n---\n\n生きてもいいような　気がして  \n或者　就这样活着也不错吧  \n\n繰返し笑い合うんだ　居たくなる旅  \n想要有一段充满欢笑的旅程啊", "description": "给定一个长度为 $n$ 的**非负整数**序列 $a_1, \\ldots, a_n$。\n\n请你求出满足 $a_i \\le (a_i \\oplus a_j) \\le a_j$ 的下标对 $(i, j)$ 的数量。其中 $\\oplus$ 表示**按位异或**，即 C++ 中的 `^`。\n", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个整数 $n$。\n- 第二行 $n$ 个整数 $a_1, \\ldots, a_n$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示满足条件的下标对 $(x,y)$ 的数量。", "hint": "**【样例解释】**\n\n对于第 $1$ 组测试数据，满足条件的下标对有 $(2,1),(2,2),(2,3),(2,4),(3,1),(3,4)$。\n\n**【数据范围】**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有测试数据，$1 \\le T \\le 1000$，$1 \\le n \\le 5\\times10^5$，$0 \\le a_i \\lt 2^{30}$，$\\sum n \\le 5\\times10^5$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（30 points）：$\\sum n \\le 1000$。\n- Subtask 2（30 points）：$a_i \\ge 1$。\n- Subtask 3（40 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X2-T2】「Cfz Round 4」Xor Counting", "background": "原题链接：<https://oier.team/problems/X2B>。\n\n---\n\n生きてもいいような　気がして  \n或者　就这样活着也不错吧  \n\n繰返し笑い合うんだ　居たくなる旅  \n想要有一段充满欢笑的旅程啊", "description": "给定一个长度为 $n$ 的**非负整数**序列 $a_1, \\ldots, a_n$。\n\n请你求出满足 $a_i \\le (a_i \\oplus a_j) \\le a_j$ 的下标对 $(i, j)$ 的数量。其中 $\\oplus$ 表示**按位异或**，即 C++ 中的 `^`。\n", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据：\n\n- 第一行一个整数 $n$。\n- 第二行 $n$ 个整数 $a_1, \\ldots, a_n$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示满足条件的下标对 $(x,y)$ 的数量。", "hint": "**【样例解释】**\n\n对于第 $1$ 组测试数据，满足条件的下标对有 $(2,1),(2,2),(2,3),(2,4),(3,1),(3,4)$。\n\n**【数据范围】**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n对于所有测试数据，$1 \\le T \\le 1000$，$1 \\le n \\le 5\\times10^5$，$0 \\le a_i \\lt 2^{30}$，$\\sum n \\le 5\\times10^5$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（30 points）：$\\sum n \\le 1000$。\n- Subtask 2（30 points）：$a_i \\ge 1$。\n- Subtask 3（40 points）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P10854", "type": "P", "difficulty": 4, "samples": [["4 1000000\n0 0 1 0\n", "3\n2 4 1\n"], ["5 1000000\n1 1 1 1 1\n", "0\n\n"], ["10 1000000\n0 1 0 0 1 1 0 0 1 0\n", "18\n1 2 10 1 9 4 10 4 7 4 7 3 7 8 9 2 10 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化", "构造", "折半搜索 meet in the middle", "梦熊比赛"], "title": "【MX-X2-T3】「Cfz Round 4」Ninelie", "background": "原题链接：<https://oier.team/problems/X2C>。\n\n---\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3g0aruaq.png)\n\n沿着单侧无尽响彻的旋律 流经眼前的街道 伴随着落幕的爱 渐行渐远  \n那无法传达的理想构图日渐扭曲沉寂的抵抗在此刻觉醒 冲动也在此刻姗姗来迟  \n支离破碎的哭喊和美梦 理想只剩下装饰的门面  \n哪怕城市乐于被喧嚣嘈杂所淹没  \n我也会继续高歌舍弃那掌控我的一切  \n所以只愿那静谧 再度响彻  \n> 无需畏惧 黎明已然降临", "description": "给定一个长为 $n$ 的 $01$ 序列 $a_1, \\ldots, a_n$ 以及一个正整数 $r$。\n\n你可以对序列 $a$ 进行操作。每次操作需选定一个下标 $p$，满足 $p$ 为 $1$ 或 $n$ 或 $a_{p-1}\\neq a_{p+1}$，然后将 $a_p$ 翻转（即将 $0$ 变为 $1$，将 $1$ 变为 $0$）。\n\n请你在 $r$ 次操作内将序列 $a$ 变成全 $0$ 或全 $1$。**你不需要最小化操作次数**。如果无法完成，你需要报告无解。\n\n**数据保证 $\\bm{r = 2 \\times 10^6}$ 或 $\\bm{10^6}$，具体细节请参见【数据范围】一节。**", "inputFormat": "第一行两个正整数 $n,r$。\n\n第二行 $n$ 个整数 $a_1, \\ldots, a_n$。", "outputFormat": "若无法在 $r$ 次操作内将序列 $a$ 变成全 $0$ 或全 $1$，则输出一行一个整数 $-1$。\n\n若存在一种构造方案，则输出两行：\n\n- 第一行包含一个非负整数 $m$，表示你的操作次数；你需要保证 $m\\le r$，**你不需要最小化 $\\bm m$**；\n- 第二行包含 $m$ 个正整数，依次表示每次操作的下标 $p$。", "hint": "**【样例解释 #1】**\n\n每次操作后的序列 $a$ 分别为：\n\n- $[0,1,1,0]$；\n- $[0,1,1,1]$；\n- $[1,1,1,1]$。\n\n此时序列 $a$ 中的全部元素均相同。\n\n**【数据范围】**\n\n对于所有测试数据，$2\\le n\\le 2\\times 10^3$，$a_i\\in\\{0,1\\}$，$r = 2 \\times 10^6$ 或 $10^6$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 points）：$n\\le 10$，$r=2\\times 10^6$。\n- Subtask 2（30 points）：$r=2\\times 10^6$。\n- Subtask 3（50 points）：$r=10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X2-T3】「Cfz Round 4」Ninelie", "background": "原题链接：<https://oier.team/problems/X2C>。\n\n---\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3g0aruaq.png)\n\n沿着单侧无尽响彻的旋律 流经眼前的街道 伴随着落幕的爱 渐行渐远  \n那无法传达的理想构图日渐扭曲沉寂的抵抗在此刻觉醒 冲动也在此刻姗姗来迟  \n支离破碎的哭喊和美梦 理想只剩下装饰的门面  \n哪怕城市乐于被喧嚣嘈杂所淹没  \n我也会继续高歌舍弃那掌控我的一切  \n所以只愿那静谧 再度响彻  \n> 无需畏惧 黎明已然降临", "description": "给定一个长为 $n$ 的 $01$ 序列 $a_1, \\ldots, a_n$ 以及一个正整数 $r$。\n\n你可以对序列 $a$ 进行操作。每次操作需选定一个下标 $p$，满足 $p$ 为 $1$ 或 $n$ 或 $a_{p-1}\\neq a_{p+1}$，然后将 $a_p$ 翻转（即将 $0$ 变为 $1$，将 $1$ 变为 $0$）。\n\n请你在 $r$ 次操作内将序列 $a$ 变成全 $0$ 或全 $1$。**你不需要最小化操作次数**。如果无法完成，你需要报告无解。\n\n**数据保证 $\\bm{r = 2 \\times 10^6}$ 或 $\\bm{10^6}$，具体细节请参见【数据范围】一节。**", "inputFormat": "第一行两个正整数 $n,r$。\n\n第二行 $n$ 个整数 $a_1, \\ldots, a_n$。", "outputFormat": "若无法在 $r$ 次操作内将序列 $a$ 变成全 $0$ 或全 $1$，则输出一行一个整数 $-1$。\n\n若存在一种构造方案，则输出两行：\n\n- 第一行包含一个非负整数 $m$，表示你的操作次数；你需要保证 $m\\le r$，**你不需要最小化 $\\bm m$**；\n- 第二行包含 $m$ 个正整数，依次表示每次操作的下标 $p$。", "hint": "**【样例解释 #1】**\n\n每次操作后的序列 $a$ 分别为：\n\n- $[0,1,1,0]$；\n- $[0,1,1,1]$；\n- $[1,1,1,1]$。\n\n此时序列 $a$ 中的全部元素均相同。\n\n**【数据范围】**\n\n对于所有测试数据，$2\\le n\\le 2\\times 10^3$，$a_i\\in\\{0,1\\}$，$r = 2 \\times 10^6$ 或 $10^6$。\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 points）：$n\\le 10$，$r=2\\times 10^6$。\n- Subtask 2（30 points）：$r=2\\times 10^6$。\n- Subtask 3（50 points）：$r=10^6$。", "locale": "zh-CN"}}}
{"pid": "P10855", "type": "P", "difficulty": 6, "samples": [["5\n3 2\n10 1\n261 261\n2333 2333\n124218 998244353", "17\n134\n28873779\n470507314\n428587718\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "数论", "O2优化", "莫比乌斯反演", "容斥原理", "字典树 Trie", "梦熊比赛"], "title": "【MX-X2-T4】「Cfz Round 4」Gcd with Xor", "background": "原题链接：<https://oier.team/problems/X2D>。\n\n---\n\nねえ もしも全て投げ捨てられたら  \n呐 若然能将一切舍弃的话\n\n笑って生きることが楽になるの  \n笑着活下去这样的事就会变的轻松吗", "description": "给定两个正整数 $n,k$。\n\n定义 $\\displaystyle f(x)=\\sum_{i=1}^x \\gcd(i,i\\oplus x)^k$。计算 $\\displaystyle \\sum_{i=1}^n f(i)$。其中 $\\gcd(a,b)$ 表示 $a$ 和 $b$ 的最大公因数，$\\oplus$ 表示**按位异或**，即 C++ 中的 `^`。\n\n由于答案可能很大，所以你只需要输出答案对 $10^9+7$ 取模的结果。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据，输入一行两个正整数 $n,k$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示答案对 $10^9+7$ 取模的结果。", "hint": "**【样例解释】**\n\n对于第 $1$ 组测试数据：\n\n$f(1)=\\gcd(1,0)^2=1$。\n\n$f(2)=\\gcd(1,3)^2+\\gcd(2,0)^2=5$。\n\n$f(3)=\\gcd(1,2)^2+\\gcd(2,1)^2+\\gcd(3,0)^2=11$。\n\n$f(1)+f(2)+f(3)=17$。\n\n**【数据范围】**\n\n对于所有测试数据，$1\\le T\\le 1000$，$1\\le n\\le 2\\times 10^5$，$\\sum n\\le 2\\times 10^5$，$1\\le k\\le 10^9$。\n\n**本题采用捆绑测试。**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n- Subtask 1（10 points）：$\\sum n\\le 2000$。\n- Subtask 2（12 points）：$\\sum n\\le 10^4$。\n- Subtask 3（15 points）：$k=1$。\n- Subtask 4（45 points）：$\\sum n\\le 10^5$。\n- Subtask 5（18 points）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【MX-X2-T4】「Cfz Round 4」Gcd with Xor", "background": "原题链接：<https://oier.team/problems/X2D>。\n\n---\n\nねえ もしも全て投げ捨てられたら  \n呐 若然能将一切舍弃的话\n\n笑って生きることが楽になるの  \n笑着活下去这样的事就会变的轻松吗", "description": "给定两个正整数 $n,k$。\n\n定义 $\\displaystyle f(x)=\\sum_{i=1}^x \\gcd(i,i\\oplus x)^k$。计算 $\\displaystyle \\sum_{i=1}^n f(i)$。其中 $\\gcd(a,b)$ 表示 $a$ 和 $b$ 的最大公因数，$\\oplus$ 表示**按位异或**，即 C++ 中的 `^`。\n\n由于答案可能很大，所以你只需要输出答案对 $10^9+7$ 取模的结果。", "inputFormat": "**本题有多组测试数据。**\n\n输入的第一行包含一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据。对于每组测试数据，输入一行两个正整数 $n,k$。", "outputFormat": "对于每组测试数据，输出一行一个整数，表示答案对 $10^9+7$ 取模的结果。", "hint": "**【样例解释】**\n\n对于第 $1$ 组测试数据：\n\n$f(1)=\\gcd(1,0)^2=1$。\n\n$f(2)=\\gcd(1,3)^2+\\gcd(2,0)^2=5$。\n\n$f(3)=\\gcd(1,2)^2+\\gcd(2,1)^2+\\gcd(3,0)^2=11$。\n\n$f(1)+f(2)+f(3)=17$。\n\n**【数据范围】**\n\n对于所有测试数据，$1\\le T\\le 1000$，$1\\le n\\le 2\\times 10^5$，$\\sum n\\le 2\\times 10^5$，$1\\le k\\le 10^9$。\n\n**本题采用捆绑测试。**\n\n设 $\\sum n$ 表示单个测试点中 $n$ 的和。\n\n- Subtask 1（10 points）：$\\sum n\\le 2000$。\n- Subtask 2（12 points）：$\\sum n\\le 10^4$。\n- Subtask 3（15 points）：$k=1$。\n- Subtask 4（45 points）：$\\sum n\\le 10^5$。\n- Subtask 5（18 points）：无特殊限制。", "locale": "zh-CN"}}}
