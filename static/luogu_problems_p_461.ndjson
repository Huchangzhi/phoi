{"pid": "P10350", "type": "P", "difficulty": 5, "samples": [["5 11\n? 1\n+ 1 2\n+ 2 3\n? 2\n+ 3 1\n- 2\n? 1\n? 2\n? 3\n+ 2 2\n? 2\n", "0?1011\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["并查集", "2024", "PA（波兰）"], "title": "[PA 2024] Modernizacja Bajtocji", "background": "PA 2024 1A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 1 [Modernizacja Bajtocji](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/mod/)**\n\nByteland 正在走向现代化。最新的政府项目旨在为那些没有电脑的村镇居民提供电脑。Byteasar 正在监督该计划中的一个村庄——Bytetown——的现代化进程，目前那里没有一个居民拥有电脑。\n\nBytetown 有 $n$ 个居民，为了简单起见，Byteasar 将他们用 $1$ 到 $n$ 的整数编号。最初没有一个居民拥有电脑。Byteasar 的任务是处理三种形式的事件：\n\n- $\\texttt{+}\\ a_i\\ b_i$：将一台电脑送给 Bytetown 的居民。然而，Byteasar 并不知道电脑是送给了编号为 $a_i$ 还是 $b_i$ 的居民。可能会出现 $a_i = b_i$ 的情况——在这种情况下，电脑肯定送给了编号为 $a_i$ 的居民。可以确定的是，电脑被送到了目前还没有电脑的居民手中。\n- $\\texttt{-}\\ c_i$：编号为 $c_i$ 的居民的电脑坏了。可以肯定的是，该居民曾经拥有一台电脑（但现在不再拥有，因此将来可能会收到一台新电脑）。\n- $\\texttt{?}\\ d_i$：Byteasar 需要（利用**迄今为止**获得的所有信息）确定编号为 $d_i$ 的居民：肯定有电脑，肯定没有电脑，还是不确定他是否有电脑。\n\n请编写一个程序，帮助 Byteasar 回答所提出的问题！\n\n注：在居民的电脑坏掉的前一刻，Byteasar 不一定可以确定这个居民是否有电脑。换句话说，在某居民电脑坏掉之前，不一定可以从之前的事件中确定他是否有电脑。", "inputFormat": "第一行包含两个整数 $n$ 和 $q\\ (1\\le n\\le 300\\, 000, 1\\le q\\le 1\\,000\\,000)$，分别表示 Bytetown 的居民人数和 Byteasar 需要处理的事件数量。\n\n接下来的 $q$ 行描述了题目中的连续发生的事件。在所有事件中，$1 \\le a_i,b_i,c_i,d_i \\le n$。\n\n保证 Byteasar 至少会被问及一次他知道的内容，即输入中至少包含一个 `?`，还保证至少有一次电脑送出过程，在这个过程中，电脑总会给一个目前不拥有电脑的人，且保证对于电脑坏掉事件中的居民，电脑坏掉时总会拥有一台电脑。", "outputFormat": "输出一个字符串，其长度等于 `?` 事件的个数。如果在第 $i$ 次查询时，该居民肯定有电脑，则该字符串中的第 $i$ 个字符为 `1`。如果该居民肯定没有电脑，则该字符串中的第 $i$ 个字符应为 `0`。如果不能确定该居民是否拥有电脑，则该序列中的第 $i$ 个字符应为 `?`。", "hint": "最初没有人有电脑，所以第一个询问的答案为「否」，输出的第一个字符是 `0`。然后送出了两台电脑，我们又被问到另一位居民是否有电脑。有可能迄今为止送出的两台电脑中有一台是送给他的，但也有可能电脑是分别送给第一位和第三位居民的。因此，我们无法最终确定第二位居民是否有电脑，所以答案是 `?`。需要注意的是，在下一次送出之后，第二位居民肯定已经拥有了一台电脑，但在询问 Byteasar 时，他并不知道这一点。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Modernizacja Bajtocji", "background": "PA 2024 1A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 1 [Modernizacja Bajtocji](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/mod/)**\n\nByteland 正在走向现代化。最新的政府项目旨在为那些没有电脑的村镇居民提供电脑。Byteasar 正在监督该计划中的一个村庄——Bytetown——的现代化进程，目前那里没有一个居民拥有电脑。\n\nBytetown 有 $n$ 个居民，为了简单起见，Byteasar 将他们用 $1$ 到 $n$ 的整数编号。最初没有一个居民拥有电脑。Byteasar 的任务是处理三种形式的事件：\n\n- $\\texttt{+}\\ a_i\\ b_i$：将一台电脑送给 Bytetown 的居民。然而，Byteasar 并不知道电脑是送给了编号为 $a_i$ 还是 $b_i$ 的居民。可能会出现 $a_i = b_i$ 的情况——在这种情况下，电脑肯定送给了编号为 $a_i$ 的居民。可以确定的是，电脑被送到了目前还没有电脑的居民手中。\n- $\\texttt{-}\\ c_i$：编号为 $c_i$ 的居民的电脑坏了。可以肯定的是，该居民曾经拥有一台电脑（但现在不再拥有，因此将来可能会收到一台新电脑）。\n- $\\texttt{?}\\ d_i$：Byteasar 需要（利用**迄今为止**获得的所有信息）确定编号为 $d_i$ 的居民：肯定有电脑，肯定没有电脑，还是不确定他是否有电脑。\n\n请编写一个程序，帮助 Byteasar 回答所提出的问题！\n\n注：在居民的电脑坏掉的前一刻，Byteasar 不一定可以确定这个居民是否有电脑。换句话说，在某居民电脑坏掉之前，不一定可以从之前的事件中确定他是否有电脑。", "inputFormat": "第一行包含两个整数 $n$ 和 $q\\ (1\\le n\\le 300\\, 000, 1\\le q\\le 1\\,000\\,000)$，分别表示 Bytetown 的居民人数和 Byteasar 需要处理的事件数量。\n\n接下来的 $q$ 行描述了题目中的连续发生的事件。在所有事件中，$1 \\le a_i,b_i,c_i,d_i \\le n$。\n\n保证 Byteasar 至少会被问及一次他知道的内容，即输入中至少包含一个 `?`，还保证至少有一次电脑送出过程，在这个过程中，电脑总会给一个目前不拥有电脑的人，且保证对于电脑坏掉事件中的居民，电脑坏掉时总会拥有一台电脑。", "outputFormat": "输出一个字符串，其长度等于 `?` 事件的个数。如果在第 $i$ 次查询时，该居民肯定有电脑，则该字符串中的第 $i$ 个字符为 `1`。如果该居民肯定没有电脑，则该字符串中的第 $i$ 个字符应为 `0`。如果不能确定该居民是否拥有电脑，则该序列中的第 $i$ 个字符应为 `?`。", "hint": "最初没有人有电脑，所以第一个询问的答案为「否」，输出的第一个字符是 `0`。然后送出了两台电脑，我们又被问到另一位居民是否有电脑。有可能迄今为止送出的两台电脑中有一台是送给他的，但也有可能电脑是分别送给第一位和第三位居民的。因此，我们无法最终确定第二位居民是否有电脑，所以答案是 `?`。需要注意的是，在下一次送出之后，第二位居民肯定已经拥有了一台电脑，但在询问 Byteasar 时，他并不知道这一点。", "locale": "zh-CN"}}}
{"pid": "P10351", "type": "P", "difficulty": 2, "samples": [["5\n1 2 3 1 2\n", "2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Liderzy", "background": "PA 2024 1B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 1 [Liderzy](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/lid/)**\n\n根据 PWN 字典（一本波兰语字典），「*lider*」是指「政党、工会或其他社会组织的领导人」。另一方面，在算法中，序列中出现次数严格大于序列长度一半的元素被称为序列的领导元素。例如，序列 $[7, 2, 5, 7, 7]$ 的领导元素是数字 $7$，而序列 $[2, 3, 2, 3]$ 则没有领导元素。\n\n在本题中，我们将重点讨论「*lider*」一词的后一种含义。给定一个数列，你的任务是将它分成最小数目的数列（不一定连续），满足每个数列都有一个领导元素，并输出这个最小数目。可以证明这样的划分总是可能的。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 5\\times 10^5)$，表示序列的长度。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n\\ (1\\le a_i\\le n)$，表示这个序列。", "outputFormat": "输出一行一个整数表示答案。", "hint": "输入的序列可以划分为 $[1,3,1]$ 和 $[2,2]$，这样划分后的两个序列就都有领导元素了（分别为 $1$ 和 $2$）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Liderzy", "background": "PA 2024 1B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 1 [Liderzy](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/lid/)**\n\n根据 PWN 字典（一本波兰语字典），「*lider*」是指「政党、工会或其他社会组织的领导人」。另一方面，在算法中，序列中出现次数严格大于序列长度一半的元素被称为序列的领导元素。例如，序列 $[7, 2, 5, 7, 7]$ 的领导元素是数字 $7$，而序列 $[2, 3, 2, 3]$ 则没有领导元素。\n\n在本题中，我们将重点讨论「*lider*」一词的后一种含义。给定一个数列，你的任务是将它分成最小数目的数列（不一定连续），满足每个数列都有一个领导元素，并输出这个最小数目。可以证明这样的划分总是可能的。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 5\\times 10^5)$，表示序列的长度。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n\\ (1\\le a_i\\le n)$，表示这个序列。", "outputFormat": "输出一行一个整数表示答案。", "hint": "输入的序列可以划分为 $[1,3,1]$ 和 $[2,2]$，这样划分后的两个序列就都有领导元素了（分别为 $1$ 和 $2$）。", "locale": "zh-CN"}}}
{"pid": "P10352", "type": "P", "difficulty": 1, "samples": [["10 10 7 10 10 10 10 10 10 10 10 10 0 10 4 10 10 10\n10 10 10 10 10 10 10 10 10 10 10 10 4 3 4 10 10 10\n", "Algosia\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Kto wygrał?", "background": "PA 2024 1C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 1 [Kto wygrał?](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/kto/)**\n\nAlgosia 和 Bytie 喜欢在 PA 中一较高下。在线上比赛中，有 $18$ 道题需要解决，每道题可获得 $0$ 到 $10$ 分。参赛者按总得分排序。如果积分相同，则在更多题中获得 $10$ 分的选手排名靠前。如果再次出现同分情况，则在更多题中获得 $9$ 分的选手排名靠前，依此类推。如果无法通过这种方式区分选手，则宣布他们之间打成平手。\n\nAlgosia 和 Bajtek 还记得上届比赛所有任务的得分，但他们不记得……谁赢了。你能帮他们编写一个程序，读取他们的成绩，并告诉他们谁的名次更高吗？", "inputFormat": "第一行包含区间 $[0, 10]$ 内的 $18$ 个整数，表示 Algosia 在每道题上的得分。\n\n第二行也包含区间 $[0, 10]$ 内的 $18$ 个整数，表示 Bajtek 在每道题上的得分。", "outputFormat": "输出一行一个单词——`Algosia` 或 `Bajtek`，表示获胜者的名字。如果出现平局，则输出 `remis`（波兰语中平局的意思）。", "hint": "虽然 Algosia 和 Bytie 的得分都是 $161$ 分，但根据 PA 规则，Algosia 的排名更高。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Kto wygrał?", "background": "PA 2024 1C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 1 [Kto wygrał?](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/kto/)**\n\nAlgosia 和 Bytie 喜欢在 PA 中一较高下。在线上比赛中，有 $18$ 道题需要解决，每道题可获得 $0$ 到 $10$ 分。参赛者按总得分排序。如果积分相同，则在更多题中获得 $10$ 分的选手排名靠前。如果再次出现同分情况，则在更多题中获得 $9$ 分的选手排名靠前，依此类推。如果无法通过这种方式区分选手，则宣布他们之间打成平手。\n\nAlgosia 和 Bajtek 还记得上届比赛所有任务的得分，但他们不记得……谁赢了。你能帮他们编写一个程序，读取他们的成绩，并告诉他们谁的名次更高吗？", "inputFormat": "第一行包含区间 $[0, 10]$ 内的 $18$ 个整数，表示 Algosia 在每道题上的得分。\n\n第二行也包含区间 $[0, 10]$ 内的 $18$ 个整数，表示 Bajtek 在每道题上的得分。", "outputFormat": "输出一行一个单词——`Algosia` 或 `Bajtek`，表示获胜者的名字。如果出现平局，则输出 `remis`（波兰语中平局的意思）。", "hint": "虽然 Algosia 和 Bytie 的得分都是 $161$ 分，但根据 PA 规则，Algosia 的排名更高。", "locale": "zh-CN"}}}
{"pid": "P10353", "type": "P", "difficulty": 7, "samples": [["3 1\n2 3 1\n", "333333337\n"], ["5 2\n2 1 3 4 5\n2 3 4 5 1\n", "5"]], "limits": {"time": [15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "群论", "置换", "期望", "随机化", "PA（波兰）"], "title": "[PA 2024] Grupa permutacji", "background": "PA 2024 2A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 2 [Grupa permutacji](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/gru/)**\n\n在本题中，我们将处理 $n$ 个元素的排列。$n$ 个元素的排列是由 $1$ 到 $n$（包含两端）的 $n$ 个不同的自然数组成的序列。将排列 $a_1,a_2,\\ldots,a_n$ 和排列 $b_1,b_2,\\ldots,b_n$ 复合起来，会得到排列 $a_{b_1},a_{b_2},\\ldots,a_{b_n}$。我们称任意满足 $i<j$ 且 $p_i>p_j$ 的数对 $(i,j)$ 为排列 $p_1,p_2,\\ldots,p_n$ 的逆序对。\n\nBytie 是 $n$ 个元素的排列的忠实粉丝。他非常喜欢它们，并且其中有一些是他最喜欢的。他决定开始在一张纸上写下通过复合他最喜欢的排列（以任何顺序，也许多次使用其中一些排列）能得到的所有排列，并小心翼翼地保证不写出任何排列超过一次。\n\n毫无疑问，他很快就用完了纸张。然后 Bytie 有一个问题：如果他列出所有可能的排列，它们平均会有多少个逆序对？\n\n帮他写一个程序来计算这个值。更具体地说，输出答案对 $10^9+7$ 取模后的值（详见「输出格式」部分）。", "inputFormat": "第一行包含两个整数 $n$ 和 $k\\ (1\\le n,k\\le 3\\,000)$，分别表示排列的长度和 Bytie 最喜欢的排列个数。\n\n接下来 $k$ 行，第 $i$ 行包含 $n$ 个互不相同的整数 $a_{i,1},a_{i,2},\\ldots,a_{i,n}\\ (1\\le a_{i,j}\\le n)$，表示 Bytie 第 $i$ 个最喜欢的排列。", "outputFormat": "输出一行一个整数，表示 Bytie 可能写下的所有排列中逆序对数的平均值模 $10^9+7$ 后的结果。\n\n形式化地说，令结果为 $\\frac{p}{q}$，其中 $q\\neq 0$ 且 $\\gcd(p,q)=1$。则输出 $p\\cdot q^{-1}\\pmod{10^9+7}$，其中 $q^{-1}$ 表示在 $1,2,\\ldots,10^9+6$ 中唯一满足 $q\\cdot q^{-1}\\equiv 1\\pmod{10^9+7}$ 的整数。\n\n可以证明，对于所有满足条件的测试数据，其结果是一个有理数，其不可约形式的分母不能被 $10^9+7$ 整除。", "hint": "在第一组样例中，Bytie 会写下排列 $\\{1,2,3\\}$（有 $0$ 个逆序对），排列 $\\{2,3,1\\}$（有 $2$ 个逆序对）和排列 $\\{3,1,2\\}$（有 $2$ 个逆序对）。因此平均逆序对个数为 $\\frac{4}{3}$。且 $3^{-1}\\equiv 333333336\\pmod{10^9+7}$，因此答案为 $333333336\\cdot 4\\equiv 1333333344\\equiv 333333337\\pmod{10^9+7}$。\n\n在第二组样例中，Bytie 会写下 $5$ 个元素的所有排列。容易证明它们平均有 $5$ 个逆序对。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Grupa permutacji", "background": "PA 2024 2A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 2 [Grupa permutacji](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/gru/)**\n\n在本题中，我们将处理 $n$ 个元素的排列。$n$ 个元素的排列是由 $1$ 到 $n$（包含两端）的 $n$ 个不同的自然数组成的序列。将排列 $a_1,a_2,\\ldots,a_n$ 和排列 $b_1,b_2,\\ldots,b_n$ 复合起来，会得到排列 $a_{b_1},a_{b_2},\\ldots,a_{b_n}$。我们称任意满足 $i<j$ 且 $p_i>p_j$ 的数对 $(i,j)$ 为排列 $p_1,p_2,\\ldots,p_n$ 的逆序对。\n\nBytie 是 $n$ 个元素的排列的忠实粉丝。他非常喜欢它们，并且其中有一些是他最喜欢的。他决定开始在一张纸上写下通过复合他最喜欢的排列（以任何顺序，也许多次使用其中一些排列）能得到的所有排列，并小心翼翼地保证不写出任何排列超过一次。\n\n毫无疑问，他很快就用完了纸张。然后 Bytie 有一个问题：如果他列出所有可能的排列，它们平均会有多少个逆序对？\n\n帮他写一个程序来计算这个值。更具体地说，输出答案对 $10^9+7$ 取模后的值（详见「输出格式」部分）。", "inputFormat": "第一行包含两个整数 $n$ 和 $k\\ (1\\le n,k\\le 3\\,000)$，分别表示排列的长度和 Bytie 最喜欢的排列个数。\n\n接下来 $k$ 行，第 $i$ 行包含 $n$ 个互不相同的整数 $a_{i,1},a_{i,2},\\ldots,a_{i,n}\\ (1\\le a_{i,j}\\le n)$，表示 Bytie 第 $i$ 个最喜欢的排列。", "outputFormat": "输出一行一个整数，表示 Bytie 可能写下的所有排列中逆序对数的平均值模 $10^9+7$ 后的结果。\n\n形式化地说，令结果为 $\\frac{p}{q}$，其中 $q\\neq 0$ 且 $\\gcd(p,q)=1$。则输出 $p\\cdot q^{-1}\\pmod{10^9+7}$，其中 $q^{-1}$ 表示在 $1,2,\\ldots,10^9+6$ 中唯一满足 $q\\cdot q^{-1}\\equiv 1\\pmod{10^9+7}$ 的整数。\n\n可以证明，对于所有满足条件的测试数据，其结果是一个有理数，其不可约形式的分母不能被 $10^9+7$ 整除。", "hint": "在第一组样例中，Bytie 会写下排列 $\\{1,2,3\\}$（有 $0$ 个逆序对），排列 $\\{2,3,1\\}$（有 $2$ 个逆序对）和排列 $\\{3,1,2\\}$（有 $2$ 个逆序对）。因此平均逆序对个数为 $\\frac{4}{3}$。且 $3^{-1}\\equiv 333333336\\pmod{10^9+7}$，因此答案为 $333333336\\cdot 4\\equiv 1333333344\\equiv 333333337\\pmod{10^9+7}$。\n\n在第二组样例中，Bytie 会写下 $5$ 个元素的所有排列。容易证明它们平均有 $5$ 个逆序对。", "locale": "zh-CN"}}}
{"pid": "P10354", "type": "P", "difficulty": 4, "samples": [["4\n3\n1 2\n3 4\n3 2\n4\n1 4\n1 2\n2 3\n3 4\n", "3\n+ 1 3\n+ 1 4\n- 3 1\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "Special Judge", "PA（波兰）"], "title": "[PA 2024] Alchemik Bajtazar", "background": "PA 2024 2B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 2 [Alchemik Bajtazar](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/alc/)**\n\nByteasar 是一位著名的炼金术士，为了解决材料的嬗变问题，他暂时放下了制造贤者石的尝试。具体来说，Byteasar 想把一种分子转化成另一种。Byteasar 所拥有的分子由 $n$ 个 bytonium 原子组成（在 Byteotia，bytonium 是最常用的化学元素之一，主要用于生产食品和隐形眼镜），这些原子从 $1$ 到 $n$ 编号。某些原子对之间可能存在键，但每对原子之间最多只有一个键。这些分子形成了一个连贯的整体——从每个原子出发，通过一个或多个键就可以到达其他任何原子。\n\nByteasar 描述了他希望得到的 $n$ 个原子的分子中的键——对于每一对原子，他都知道是否希望它们最终由键连接。目标分子满足同样的条件——它形成一个连贯的整体，每对原子最多由一个键连接。不幸的是，Byteasar 的分子可能与目标分子不同。为了解决这个问题，他可以使用自己的炼金术能力。他可以随时进行两种可能的操作之一：\n\n- Byteasar 可以选择没有键连接的两个不同原子 $a$ 和 $b$，并在它们之间形成键。由于 bytonium 的高度不稳定性，只有当前存在与 $a$ 和 $b$ 都成键的原子 $c$（不同于 $a$ 和 $b$），他才可以这样做。\n- Byteasar 可以选择通过键连接的两个不同原子 $a$ 和 $b$，并移除连接它们的键。出于类似的原因，只有当前存在与 $a$ 和 $b$ 都成键的原子 $c$（不同于 $a$ 和 $b$），他才可以这样做。\n\nByteasar 不想在转化上花费太多时间。请编写一个程序，帮助他将自己的分子转化为目标分子，并在最多 $200\\, 000$ 次操作中完成。\n\n注意：原子两两不同，可以区分。", "inputFormat": "第一行一个整数 $n\\ (2\\le n\\le 30\\,000)$，表示 Byteasar 拥有的分子和目标分子中原子的个数。\n\n第二行一个整数 $m_s\\ (n-1 \\le m_s \\le 50\\, 000)$，表示 Byteasar 拥有的分子中的键数。\n\n接下来 $m_s$ 行，每行两个整数。其中第 $i$ 行的整数 $a_i$ 和 $b_i\\ (1 \\le a_i , b_i \\le n, a_i \\neq b_i)$ 表示通过键连接的原子编号。可以保证 Byteasar 的分子是一个连贯的整体，并且每两个原子最多只通过一个键相连。\n\n接下来一行一个整数 $m_d\\ (n-1\\le m_d\\le 50\\,000)$，表示目标分子中的键数。\n\n接下来 $m_d$ 行包含对这些键的描述，格式与目前已拥有的分子相同。", "outputFormat": "输出第一行包含总操作数 $r$。必须保证 $0\\le r\\le 200\\,000$。\n\n接下来每行包含对操作的描述。 如果你想在第 $i$ 次移动中连接原子 $x_i$ 和 $y_i$，第 $i$ 行应该以 `+` 号开头，在一个空格之后输出编号 $x_i$ 和 $y_i$，也用一个空格分隔。 相反，如果想删除连接 $x_i$ 和 $y_i$ 原子的键，则该行应以 `-` 开头，然后类似地，输出编号 $x_i$ 和 $y_i$。\n\n输出的操作序列必须满足题目描述中给出的条件——当选择原子 $x_i$ 和 $y_i$ 时，必须有另一个原子与它们连接。执行一系列动作后，最终的分子必须与目标分子相同，即对于每对原子 $i, j\\ (1 \\le i < j \\le n)$，如果编号为 $i$ 和 $j$ 的原子在目标分子中被一条键连接，最终状态中这对原子也应该被一条键连接。\n\n注意，你不必最小化移动次数，你只需要最多进行 $200\\,000$ 次操作即可。可以证明，总可以进行不超过 $200\\,000$ 次操作来实现转化。", "hint": "请注意，Byteasar 无法立即连接第一个原子与第四个原子，因为当时没有原子与它们两个相连。通过在第一个和第三个原子之间建立临时键，Byteasar 就使该原子成为了第三个原子。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Alchemik Bajtazar", "background": "PA 2024 2B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 2 [Alchemik Bajtazar](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/alc/)**\n\nByteasar 是一位著名的炼金术士，为了解决材料的嬗变问题，他暂时放下了制造贤者石的尝试。具体来说，Byteasar 想把一种分子转化成另一种。Byteasar 所拥有的分子由 $n$ 个 bytonium 原子组成（在 Byteotia，bytonium 是最常用的化学元素之一，主要用于生产食品和隐形眼镜），这些原子从 $1$ 到 $n$ 编号。某些原子对之间可能存在键，但每对原子之间最多只有一个键。这些分子形成了一个连贯的整体——从每个原子出发，通过一个或多个键就可以到达其他任何原子。\n\nByteasar 描述了他希望得到的 $n$ 个原子的分子中的键——对于每一对原子，他都知道是否希望它们最终由键连接。目标分子满足同样的条件——它形成一个连贯的整体，每对原子最多由一个键连接。不幸的是，Byteasar 的分子可能与目标分子不同。为了解决这个问题，他可以使用自己的炼金术能力。他可以随时进行两种可能的操作之一：\n\n- Byteasar 可以选择没有键连接的两个不同原子 $a$ 和 $b$，并在它们之间形成键。由于 bytonium 的高度不稳定性，只有当前存在与 $a$ 和 $b$ 都成键的原子 $c$（不同于 $a$ 和 $b$），他才可以这样做。\n- Byteasar 可以选择通过键连接的两个不同原子 $a$ 和 $b$，并移除连接它们的键。出于类似的原因，只有当前存在与 $a$ 和 $b$ 都成键的原子 $c$（不同于 $a$ 和 $b$），他才可以这样做。\n\nByteasar 不想在转化上花费太多时间。请编写一个程序，帮助他将自己的分子转化为目标分子，并在最多 $200\\, 000$ 次操作中完成。\n\n注意：原子两两不同，可以区分。", "inputFormat": "第一行一个整数 $n\\ (2\\le n\\le 30\\,000)$，表示 Byteasar 拥有的分子和目标分子中原子的个数。\n\n第二行一个整数 $m_s\\ (n-1 \\le m_s \\le 50\\, 000)$，表示 Byteasar 拥有的分子中的键数。\n\n接下来 $m_s$ 行，每行两个整数。其中第 $i$ 行的整数 $a_i$ 和 $b_i\\ (1 \\le a_i , b_i \\le n, a_i \\neq b_i)$ 表示通过键连接的原子编号。可以保证 Byteasar 的分子是一个连贯的整体，并且每两个原子最多只通过一个键相连。\n\n接下来一行一个整数 $m_d\\ (n-1\\le m_d\\le 50\\,000)$，表示目标分子中的键数。\n\n接下来 $m_d$ 行包含对这些键的描述，格式与目前已拥有的分子相同。", "outputFormat": "输出第一行包含总操作数 $r$。必须保证 $0\\le r\\le 200\\,000$。\n\n接下来每行包含对操作的描述。 如果你想在第 $i$ 次移动中连接原子 $x_i$ 和 $y_i$，第 $i$ 行应该以 `+` 号开头，在一个空格之后输出编号 $x_i$ 和 $y_i$，也用一个空格分隔。 相反，如果想删除连接 $x_i$ 和 $y_i$ 原子的键，则该行应以 `-` 开头，然后类似地，输出编号 $x_i$ 和 $y_i$。\n\n输出的操作序列必须满足题目描述中给出的条件——当选择原子 $x_i$ 和 $y_i$ 时，必须有另一个原子与它们连接。执行一系列动作后，最终的分子必须与目标分子相同，即对于每对原子 $i, j\\ (1 \\le i < j \\le n)$，如果编号为 $i$ 和 $j$ 的原子在目标分子中被一条键连接，最终状态中这对原子也应该被一条键连接。\n\n注意，你不必最小化移动次数，你只需要最多进行 $200\\,000$ 次操作即可。可以证明，总可以进行不超过 $200\\,000$ 次操作来实现转化。", "hint": "请注意，Byteasar 无法立即连接第一个原子与第四个原子，因为当时没有原子与它们两个相连。通过在第一个和第三个原子之间建立临时键，Byteasar 就使该原子成为了第三个原子。", "locale": "zh-CN"}}}
{"pid": "P10355", "type": "P", "difficulty": 2, "samples": [["9\n1 1 777 42 777 1 42 1 777\n", "9 8 6 4 0 0 0 0 0\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Znaczki pocztowe", "background": "PA 2024 2C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 2 [Znaczki pocztowe](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/zna/)**\n\nByteasar 曾经收集了大量邮票。然而，他对邮票的兴趣已不如年轻时，因此他决定将自己的邮集赠送给更年轻的集邮爱好者。不过，他希望尽可能公平地完成这项工作，为此他需要你的帮助。\n\nBytesar 的邮集由 $n$ 张邮票组成，其中第 $i$ 张来自城市 $a_i$。为简单起见，我们用整数表示这些城市。Byteasar 打算在报纸上刊登一则公告，宣布他计划赠送自己的收藏的邮票。如果有 $k$ 个人愿意接收，他将在如下条件下向每个人赠送一个邮票的子集：每个人都必须收到相同的邮票多重集。这就意味着，对于每两个申请人和每个城市，两个申请人都必须从该城市获得相同数量的邮票。特别地，这可能意味着 Byteasar 将不发放任何邮票。\n\nByteasar 不知道会有多少人前来接收。因此，对于 $1$ 到 $n$ 范围内的每个数 $k$，你需要找出如果有 $k$ 个人愿意接收，Byteasar 最多可以分发多少张邮票。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 300\\,000)$，表示 Byteasar 收藏的邮票数量。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n\\ (1\\le a_i\\le 10^9)$，表示 Byteasar 的邮票所来自城市的编号。", "outputFormat": "输出一行 $n$ 个整数，第 $k$ 个整数表示如果有 $k$ 个人愿意接收 Byteasar 的邮票，Byteasar 最多能分发多少张邮票。", "hint": "如果有一个人愿意接收，Byteasar 可以把所有邮票都给他。\n\n如果有两个人，Byteasar 可以给他们每人两张 $1$ 号城镇的邮票、一张 $42$ 号城镇的邮票和一张 $777$ 号城镇的邮票，即总共 $8$ 张邮票。\n\n如果有四个人，Byteasar 可以给他们每人一张 $1$ 号城市的邮票。\n\n如果愿意接收的人数超过四人，Byteasar 将无法送出任何邮票。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Znaczki pocztowe", "background": "PA 2024 2C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 2 [Znaczki pocztowe](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/zna/)**\n\nByteasar 曾经收集了大量邮票。然而，他对邮票的兴趣已不如年轻时，因此他决定将自己的邮集赠送给更年轻的集邮爱好者。不过，他希望尽可能公平地完成这项工作，为此他需要你的帮助。\n\nBytesar 的邮集由 $n$ 张邮票组成，其中第 $i$ 张来自城市 $a_i$。为简单起见，我们用整数表示这些城市。Byteasar 打算在报纸上刊登一则公告，宣布他计划赠送自己的收藏的邮票。如果有 $k$ 个人愿意接收，他将在如下条件下向每个人赠送一个邮票的子集：每个人都必须收到相同的邮票多重集。这就意味着，对于每两个申请人和每个城市，两个申请人都必须从该城市获得相同数量的邮票。特别地，这可能意味着 Byteasar 将不发放任何邮票。\n\nByteasar 不知道会有多少人前来接收。因此，对于 $1$ 到 $n$ 范围内的每个数 $k$，你需要找出如果有 $k$ 个人愿意接收，Byteasar 最多可以分发多少张邮票。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 300\\,000)$，表示 Byteasar 收藏的邮票数量。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n\\ (1\\le a_i\\le 10^9)$，表示 Byteasar 的邮票所来自城市的编号。", "outputFormat": "输出一行 $n$ 个整数，第 $k$ 个整数表示如果有 $k$ 个人愿意接收 Byteasar 的邮票，Byteasar 最多能分发多少张邮票。", "hint": "如果有一个人愿意接收，Byteasar 可以把所有邮票都给他。\n\n如果有两个人，Byteasar 可以给他们每人两张 $1$ 号城镇的邮票、一张 $42$ 号城镇的邮票和一张 $777$ 号城镇的邮票，即总共 $8$ 张邮票。\n\n如果有四个人，Byteasar 可以给他们每人一张 $1$ 号城市的邮票。\n\n如果愿意接收的人数超过四人，Byteasar 将无法送出任何邮票。", "locale": "zh-CN"}}}
{"pid": "P10356", "type": "P", "difficulty": 7, "samples": [["5 3\n1 2 5 7 4\n8 3 6\n", "0 84 6 0 0 0 0 0\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Splatanie ciągów", "background": "PA 2024 3A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 3 [Splatanie ciągów](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/spl/)，感谢 Macaronlin 提供翻译**\n\n定义一个数组的稳定性是最长严格单调递增或递减的连续子区间的长度。如数组 $[8,6,1,3,5,7,4,2]$ 的稳定性为 $4$，因为有一个连续递增子区间 $[1,3,5,7]$，并且没有比其更长的严格单调的连续子区间了。\n\n定义 $A\\ \\text{i}\\ B$ 是 $A$ 和 $B$ 按某个方式归并形成的新数组（即新数组可以划分为两个不交叉子序列，且分别是 $A$ 和 $B$），如 $A=[1,2,3],B=[4,5]$，则 $A\\ \\text{i}\\ B$ 可以是 $ [1, 4, 2, 5, 3], [4, 5, 1, 2, 3]$ 或者 $[4, 1, 5, 2, 3]$，但不可能是 $[1,2,3,4,3]$ 或 $[1,2,3,5,4]$。\n\n令 $f(A,B)$ 表示 $A\\ \\text{i}\\ B$ 的最小稳定性。\n\n给你一个长度为 $n$ 的数组 $A$ 和长度为 $m$ 的数组 $B$。令 $A'$ 是 $A$ 的非空子区间，$B'$ 是 $B$ 的非空子区间。对于所有在区间 $[1,n+m]$ 的整数 $x$，求有多少对 $(A',B')$ 满足 $f(A', B')=x$。答案对 $10^9+7$ 取模。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (1\\le n,m\\le 300\\,000)$，分别表示 $A$ 数组和 $B$ 数组的长度。\n\n第二行 $n$ 个整数 $A_1,A_2,\\ldots,A_n\\ (1\\le A_i\\le n+m)$，表示 $A$ 数组。\n\n第三行 $m$ 个整数 $B_1,B_2,\\ldots,B_m\\ (1\\le B_i\\le n+m)$，表示 $B$ 数组。\n\n保证 $A$ 数组和 $B$ 数组中所有整数两两不同。也就是说 $A\\ \\text{i}\\ B$ 一定是 $1$ 到 $n+m$ 的整数的一个排列。", "outputFormat": "输出一行 $n+m$ 个整数，第 $i$ 个整数表示 满足 $f(A', B')=i$ 的 $(A',B')$ 对数，对 $10^9+7$ 取模。", "hint": "对于整个区间 $f([1,2,5,7,4],[8,3,6])=2$，如 $[1, 8, 2, 5, 3, 7, 4, 6]$ 的稳定性为 $2$，并且无法找出更小的了。\n\n考虑区间 $[1,2,5,7]$ 和 $[3]$，有 $f([1,2,5,7],[3])=3$，如 $[1,2,5,3,7]$。可以证明对于 $([1,2,5,7],[3])$ 没有比 $3$ 更小稳定性的组合方式了。\n\n考虑区间 $[4]$ 和 $[6]$，有 $f([4],[6])=2$，这两个区间只有两种拼接方式：$[4,6]$ 或 $[6,4]$，并且它们的稳定性都是 $2$。\n\n样例中所有子区间组合的稳定性都不大于 $3$，所以对于 $x\\ge 4$ 的情况答案均为 $0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Splatanie ciągów", "background": "PA 2024 3A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 3 [Splatanie ciągów](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/spl/)，感谢 Macaronlin 提供翻译**\n\n定义一个数组的稳定性是最长严格单调递增或递减的连续子区间的长度。如数组 $[8,6,1,3,5,7,4,2]$ 的稳定性为 $4$，因为有一个连续递增子区间 $[1,3,5,7]$，并且没有比其更长的严格单调的连续子区间了。\n\n定义 $A\\ \\text{i}\\ B$ 是 $A$ 和 $B$ 按某个方式归并形成的新数组（即新数组可以划分为两个不交叉子序列，且分别是 $A$ 和 $B$），如 $A=[1,2,3],B=[4,5]$，则 $A\\ \\text{i}\\ B$ 可以是 $ [1, 4, 2, 5, 3], [4, 5, 1, 2, 3]$ 或者 $[4, 1, 5, 2, 3]$，但不可能是 $[1,2,3,4,3]$ 或 $[1,2,3,5,4]$。\n\n令 $f(A,B)$ 表示 $A\\ \\text{i}\\ B$ 的最小稳定性。\n\n给你一个长度为 $n$ 的数组 $A$ 和长度为 $m$ 的数组 $B$。令 $A'$ 是 $A$ 的非空子区间，$B'$ 是 $B$ 的非空子区间。对于所有在区间 $[1,n+m]$ 的整数 $x$，求有多少对 $(A',B')$ 满足 $f(A', B')=x$。答案对 $10^9+7$ 取模。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (1\\le n,m\\le 300\\,000)$，分别表示 $A$ 数组和 $B$ 数组的长度。\n\n第二行 $n$ 个整数 $A_1,A_2,\\ldots,A_n\\ (1\\le A_i\\le n+m)$，表示 $A$ 数组。\n\n第三行 $m$ 个整数 $B_1,B_2,\\ldots,B_m\\ (1\\le B_i\\le n+m)$，表示 $B$ 数组。\n\n保证 $A$ 数组和 $B$ 数组中所有整数两两不同。也就是说 $A\\ \\text{i}\\ B$ 一定是 $1$ 到 $n+m$ 的整数的一个排列。", "outputFormat": "输出一行 $n+m$ 个整数，第 $i$ 个整数表示 满足 $f(A', B')=i$ 的 $(A',B')$ 对数，对 $10^9+7$ 取模。", "hint": "对于整个区间 $f([1,2,5,7,4],[8,3,6])=2$，如 $[1, 8, 2, 5, 3, 7, 4, 6]$ 的稳定性为 $2$，并且无法找出更小的了。\n\n考虑区间 $[1,2,5,7]$ 和 $[3]$，有 $f([1,2,5,7],[3])=3$，如 $[1,2,5,3,7]$。可以证明对于 $([1,2,5,7],[3])$ 没有比 $3$ 更小稳定性的组合方式了。\n\n考虑区间 $[4]$ 和 $[6]$，有 $f([4],[6])=2$，这两个区间只有两种拼接方式：$[4,6]$ 或 $[6,4]$，并且它们的稳定性都是 $2$。\n\n样例中所有子区间组合的稳定性都不大于 $3$，所以对于 $x\\ge 4$ 的情况答案均为 $0$。", "locale": "zh-CN"}}}
{"pid": "P10357", "type": "P", "difficulty": 5, "samples": [["3 2 6\n1 2 1\n2 2 2\n1 1 5\n", "0\n10\n6\n7\n3\n13\n"], ["2 3 3\n1 1 1\n3 1 1\n", "0\n-1\n-1\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Żelki", "background": "PA 2024 3B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 3 [Żelki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/zel/)，感谢 Macaronlin 提供翻译**\n\n共有 $n$ 种糖豆，有 $k$ 种颜色，第 $i$ 种糖豆颜色是 $k_i$，重量是 $m_i$，价格 $c_i$。现在要去购买糖豆，购买的糖豆需要包含所有 $k$ 种颜色，且每种颜色购买的数量相同。\n\n问对于在区间 $[0,m-1]$ 的每个整数 $r$，满足购买的糖豆总重量对 $m$ 取模为 $r$ 的购买方案中最小花费是多少？如果不存在满足条件的购买方案，则输出 $-1$。", "inputFormat": "第一行三个整数 $n,k$ 和 $m\\ (1\\le n,k,m\\le 7\\,000)$，分别表示糖豆种类数，颜色数和参数。\n\n接下来 $n$ 行，每行三个整数 $k_i,m_i$ 和 $c_i\\ (1\\le k_i\\le k,1\\le m_i\\le m,1\\le c_i\\le 10^9)$，分别表示第 $i$ 种糖豆的颜色，重量和价格。", "outputFormat": "输出 $m$ 行，第 $i$ 行表示满足购买的所有糖豆总重量对 $m$ 取模为 $i-1$ 的情况中花费的最小值。如果不存在这样的情况，输出 $-1$。", "hint": "在第一组样例中：\n\n- 为了使糖豆的总重量能被 $m = 6$ 整除，可以不买任何糖豆，这样就不用花钱了。\n- 为了使糖豆的总重量除以 $6$ 的余数为 $1$，应购买一颗第一种糖豆，两颗第二种糖豆，一颗第三种糖豆。这样花费为 $10$，得到两种颜色各两颗的糖豆，总重量等于 $7$。\n- 为了使糖豆总重量除以 $6$ 的余数等于 $5$，应该买两颗第一种糖豆、三颗第二种糖豆和一颗第三种糖豆。\n\n第二个样例中没有第二种颜色的糖豆，所以唯一可行的方案是不买任何糖豆。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Żelki", "background": "PA 2024 3B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 3 [Żelki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/zel/)，感谢 Macaronlin 提供翻译**\n\n共有 $n$ 种糖豆，有 $k$ 种颜色，第 $i$ 种糖豆颜色是 $k_i$，重量是 $m_i$，价格 $c_i$。现在要去购买糖豆，购买的糖豆需要包含所有 $k$ 种颜色，且每种颜色购买的数量相同。\n\n问对于在区间 $[0,m-1]$ 的每个整数 $r$，满足购买的糖豆总重量对 $m$ 取模为 $r$ 的购买方案中最小花费是多少？如果不存在满足条件的购买方案，则输出 $-1$。", "inputFormat": "第一行三个整数 $n,k$ 和 $m\\ (1\\le n,k,m\\le 7\\,000)$，分别表示糖豆种类数，颜色数和参数。\n\n接下来 $n$ 行，每行三个整数 $k_i,m_i$ 和 $c_i\\ (1\\le k_i\\le k,1\\le m_i\\le m,1\\le c_i\\le 10^9)$，分别表示第 $i$ 种糖豆的颜色，重量和价格。", "outputFormat": "输出 $m$ 行，第 $i$ 行表示满足购买的所有糖豆总重量对 $m$ 取模为 $i-1$ 的情况中花费的最小值。如果不存在这样的情况，输出 $-1$。", "hint": "在第一组样例中：\n\n- 为了使糖豆的总重量能被 $m = 6$ 整除，可以不买任何糖豆，这样就不用花钱了。\n- 为了使糖豆的总重量除以 $6$ 的余数为 $1$，应购买一颗第一种糖豆，两颗第二种糖豆，一颗第三种糖豆。这样花费为 $10$，得到两种颜色各两颗的糖豆，总重量等于 $7$。\n- 为了使糖豆总重量除以 $6$ 的余数等于 $5$，应该买两颗第一种糖豆、三颗第二种糖豆和一颗第三种糖豆。\n\n第二个样例中没有第二种颜色的糖豆，所以唯一可行的方案是不买任何糖豆。", "locale": "zh-CN"}}}
{"pid": "P10358", "type": "P", "difficulty": 3, "samples": [["6 10\n3\n1 3 6\n", "9\n"], ["3 3\n1\n2\n", "-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "贪心", "2024", "PA（波兰）"], "title": "[PA 2024] Obrazy", "background": "PA 2024 3C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 3 [Obrazy](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/obr/)，感谢 Macaronlin 提供翻译**\n\n给定尺寸为 $h\\times w$ 的矩形墙面，以及 $n$ 种尺寸的正方形画框，每种尺寸画框都有无穷多个。对于任意两种不同尺寸的画框，其中一个尺寸的边长总能整除另一个尺寸的边长。\n\n现用这些画框完全覆盖墙面，而且画框之间不能重叠，只能边缘相接，请求出最少需要购买多少个画框？如果不可能完全覆盖墙面，则程序应输出 $-1$。", "inputFormat": "第一行两个整数 $h$ 和 $w\\ (1\\le h,w\\le 10^9)$，表示墙面大小。\n\n第二行一个整数 $n\\ (1\\le n\\le 30)$，表示画框个数。\n\n第三行 $n$ 个整数 $d_1,d_2,\\ldots,d_n\\ (1\\le d_i\\le 10^9,d_i<d_{i+1})$，表示每个正方形画框的大小，保证 $d_{i+1}$ 能被 $d_i$ 整除。", "outputFormat": "输出一行一个整数，如果可以完全覆盖墙面，输出最少要购买多少画框，否则输出 $-1$。", "hint": "在第一个样例中，Byteasar 可以用九个画框（六个 $1\\times 1$、两个 $3\\times 3$ 和一个 $6\\times 6$）覆盖一面墙，具体如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/t6g3zuws.png)\n\n在第二个样例中，无法完全覆盖墙面。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Obrazy", "background": "PA 2024 3C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 3 [Obrazy](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/obr/)，感谢 Macaronlin 提供翻译**\n\n给定尺寸为 $h\\times w$ 的矩形墙面，以及 $n$ 种尺寸的正方形画框，每种尺寸画框都有无穷多个。对于任意两种不同尺寸的画框，其中一个尺寸的边长总能整除另一个尺寸的边长。\n\n现用这些画框完全覆盖墙面，而且画框之间不能重叠，只能边缘相接，请求出最少需要购买多少个画框？如果不可能完全覆盖墙面，则程序应输出 $-1$。", "inputFormat": "第一行两个整数 $h$ 和 $w\\ (1\\le h,w\\le 10^9)$，表示墙面大小。\n\n第二行一个整数 $n\\ (1\\le n\\le 30)$，表示画框个数。\n\n第三行 $n$ 个整数 $d_1,d_2,\\ldots,d_n\\ (1\\le d_i\\le 10^9,d_i<d_{i+1})$，表示每个正方形画框的大小，保证 $d_{i+1}$ 能被 $d_i$ 整除。", "outputFormat": "输出一行一个整数，如果可以完全覆盖墙面，输出最少要购买多少画框，否则输出 $-1$。", "hint": "在第一个样例中，Byteasar 可以用九个画框（六个 $1\\times 1$、两个 $3\\times 3$ 和一个 $6\\times 6$）覆盖一面墙，具体如下：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/t6g3zuws.png)\n\n在第二个样例中，无法完全覆盖墙面。", "locale": "zh-CN"}}}
{"pid": "P10359", "type": "P", "difficulty": 7, "samples": [["4 2 9\n1 2 2\n3 2 5\n4 2\n3 2 2 5\n4 1\n3 2 4 3\n4 1\n4 3\n2 2 1\n1 1 4 1\n4 4\n", "0\n5\n3\n0\n0\n"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Kolorowy las", "background": "PA 2024 4A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 4 [Kolorowy las](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/kol/)，感谢 Macaronlin 提供翻译**\n\n给定 $n$ 个点的森林（无向无环图），点从 $1$ 到 $n$ 编号，有正整数边权，每个点有颜色，初始所有点颜色为 $0$。\n\n有 $4$ 种共 $q$ 个操作：\n\n- $1\\ a_i\\ b_i\\ d_i$：在 $a_i$ 和 $b_i$ 之间添加一条边权为 $d_i$ 的边（保证添加之后图中仍无环）；\n- $2\\ a_i\\ b_i$：删除 $a_i$ 和 $b_i$ 之间的边；\n- $3\\ v_i\\ z_i\\ k_i$：把所有可以到达 $v_i$ 且到 $v_i$ 的距离小于等于 $z_i$ 的顶点染色为 $k_i$；\n- $4\\ u_i$：查询点 $u_i$ 的颜色。", "inputFormat": "第一行三个整数 $n,m,q\\ (2\\le n\\le 200\\,000,0\\le m\\le n-1,1\\le q\\le 200\\,000)$，分别表示点数，边数和操作数。\n\n接下来 $m$ 行，每行三个整数 $a_i,b_i,d_i\\ (1\\le a_i,b_i\\le n,1\\le d_i\\le 10^9)$，表示点 $a_i$ 和 $b_i$ 之间有一条长度为 $d_i$ 的边。\n\n接下来 $q$ 行描述操作，格式如题目描述。保证 $1\\le a_i,b_i,v_i,u_i\\le n$，$1\\le d_i\\le 10^9$，$0\\le z_i\\le 10^{15}$，$1\\le k_i\\le 10^9$。\n\n保证给定的 $m$ 条边形成一个合法的森林，图在经过修改后仍然形成一个合法的森林，并且保证不会删除图中不存在的边。\n\n此外，还保证至少存在一个操作 $4$。", "outputFormat": "对于每一个操作 $4$ 输出一行一个整数，表示答案。", "hint": "- 在某些子任务中，不存在操作 $1$ 和 $2$，且 $m=n-1$；\n- 在某些子任务中，操作 $3$ 中均有 $z_i=10^{15}$。\n\n对于上述每种附加限制，都至少有一个子任务能满足。满足两种附加限制的子任务集合可能相交，也可能不相交。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Kolorowy las", "background": "PA 2024 4A", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 4 [Kolorowy las](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/kol/)，感谢 Macaronlin 提供翻译**\n\n给定 $n$ 个点的森林（无向无环图），点从 $1$ 到 $n$ 编号，有正整数边权，每个点有颜色，初始所有点颜色为 $0$。\n\n有 $4$ 种共 $q$ 个操作：\n\n- $1\\ a_i\\ b_i\\ d_i$：在 $a_i$ 和 $b_i$ 之间添加一条边权为 $d_i$ 的边（保证添加之后图中仍无环）；\n- $2\\ a_i\\ b_i$：删除 $a_i$ 和 $b_i$ 之间的边；\n- $3\\ v_i\\ z_i\\ k_i$：把所有可以到达 $v_i$ 且到 $v_i$ 的距离小于等于 $z_i$ 的顶点染色为 $k_i$；\n- $4\\ u_i$：查询点 $u_i$ 的颜色。", "inputFormat": "第一行三个整数 $n,m,q\\ (2\\le n\\le 200\\,000,0\\le m\\le n-1,1\\le q\\le 200\\,000)$，分别表示点数，边数和操作数。\n\n接下来 $m$ 行，每行三个整数 $a_i,b_i,d_i\\ (1\\le a_i,b_i\\le n,1\\le d_i\\le 10^9)$，表示点 $a_i$ 和 $b_i$ 之间有一条长度为 $d_i$ 的边。\n\n接下来 $q$ 行描述操作，格式如题目描述。保证 $1\\le a_i,b_i,v_i,u_i\\le n$，$1\\le d_i\\le 10^9$，$0\\le z_i\\le 10^{15}$，$1\\le k_i\\le 10^9$。\n\n保证给定的 $m$ 条边形成一个合法的森林，图在经过修改后仍然形成一个合法的森林，并且保证不会删除图中不存在的边。\n\n此外，还保证至少存在一个操作 $4$。", "outputFormat": "对于每一个操作 $4$ 输出一行一个整数，表示答案。", "hint": "- 在某些子任务中，不存在操作 $1$ 和 $2$，且 $m=n-1$；\n- 在某些子任务中，操作 $3$ 中均有 $z_i=10^{15}$。\n\n对于上述每种附加限制，都至少有一个子任务能满足。满足两种附加限制的子任务集合可能相交，也可能不相交。", "locale": "zh-CN"}}}
{"pid": "P10360", "type": "P", "difficulty": 6, "samples": [["4 4\n4 1\n1 2\n3 4\n1 4\n", "0 0 1 1\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Desant 3", "background": "PA 2024 4B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 4 [Desant 3](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/des/)，感谢 Macaronlin 提供翻译**\n\n$n$ 个士兵，从左到右编号为 $1$ 到 $n$。每个士兵有两种状态：准备好和未准备好。现对这些士兵下发 $m$ 条命令，第 $i$ 条命令会使得在 $a_i$ 位置和 $b_i$ 位置的士兵交换位置，但只有 $a_i$ 位置的士兵准备好并且 $b_i$ 位置的士兵没有准备好时才能交换，否则无效。\n\n问对于 $1$ 到 $n$ 中的每个整数 $k$，考虑 $\\binom{n}{k}$ 种士兵的初始准备情况，其中有 $k$ 个士兵已准备好，求有多少种准备情况可以在进行 $m$ 条命令后，满足所有准备好的士兵形成一段连续区间。你只需要输出种类数对 $2$ 取模后的值即可。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (2\\le n\\le 35,1\\le m\\le 1\\,000)$，分别表示士兵数和命令数。\n\n接下来 $m$ 行，每行两个整数 $a_i$ 和 $b_i\\ (1\\le a_i,b_i\\le n,a_i\\neq b_i)$，描述一条命令。", "outputFormat": "输出一行 $n$ 个整数，其中第 $k$ 个整数表示有 $k$ 个士兵准备好的所有初始情况中，可以在进行 $m$ 条命令后使得所有准备好的士兵形成一段连续区间的情况数。输出对 $2$ 取模。", "hint": "如果一开始只有一名士兵准备好，那么无论如何操作，最终准备好的士兵一定形成一个连续的区间。\n\n考虑这样一种情况：除了队列中的第二名士兵外，其他士兵都已准备好。第一个命令不会影响士兵的位置。第二道命令下达后，由于队列中的第一名士兵已准备好，而第二名士兵尚未准备好，他们将交换位置。第三道命令同样没有影响。由于现在队列中的第一名士兵还没有准备好，而队列中的第四名士兵已经准备好，因此他们不会因为最后一道命令而交换位置。最终只有排在第一位的士兵没有准备好。这是 $k = 3$ 时唯一一种满足条件的初始情况。\n\n未取模前的答案为 $[4,0,1,1]$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Desant 3", "background": "PA 2024 4B", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 4 [Desant 3](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/des/)，感谢 Macaronlin 提供翻译**\n\n$n$ 个士兵，从左到右编号为 $1$ 到 $n$。每个士兵有两种状态：准备好和未准备好。现对这些士兵下发 $m$ 条命令，第 $i$ 条命令会使得在 $a_i$ 位置和 $b_i$ 位置的士兵交换位置，但只有 $a_i$ 位置的士兵准备好并且 $b_i$ 位置的士兵没有准备好时才能交换，否则无效。\n\n问对于 $1$ 到 $n$ 中的每个整数 $k$，考虑 $\\binom{n}{k}$ 种士兵的初始准备情况，其中有 $k$ 个士兵已准备好，求有多少种准备情况可以在进行 $m$ 条命令后，满足所有准备好的士兵形成一段连续区间。你只需要输出种类数对 $2$ 取模后的值即可。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (2\\le n\\le 35,1\\le m\\le 1\\,000)$，分别表示士兵数和命令数。\n\n接下来 $m$ 行，每行两个整数 $a_i$ 和 $b_i\\ (1\\le a_i,b_i\\le n,a_i\\neq b_i)$，描述一条命令。", "outputFormat": "输出一行 $n$ 个整数，其中第 $k$ 个整数表示有 $k$ 个士兵准备好的所有初始情况中，可以在进行 $m$ 条命令后使得所有准备好的士兵形成一段连续区间的情况数。输出对 $2$ 取模。", "hint": "如果一开始只有一名士兵准备好，那么无论如何操作，最终准备好的士兵一定形成一个连续的区间。\n\n考虑这样一种情况：除了队列中的第二名士兵外，其他士兵都已准备好。第一个命令不会影响士兵的位置。第二道命令下达后，由于队列中的第一名士兵已准备好，而第二名士兵尚未准备好，他们将交换位置。第三道命令同样没有影响。由于现在队列中的第一名士兵还没有准备好，而队列中的第四名士兵已经准备好，因此他们不会因为最后一道命令而交换位置。最终只有排在第一位的士兵没有准备好。这是 $k = 3$ 时唯一一种满足条件的初始情况。\n\n未取模前的答案为 $[4,0,1,1]$。", "locale": "zh-CN"}}}
{"pid": "P10361", "type": "P", "difficulty": 4, "samples": [["5 5\nAAPAA\nAPPAA\nAAPAA\nAAPAA\nAPPPA\n", "10\nR 1 Z\nK 4 A\nK 2 P\nR 5 P\nR 4 A\nR 3 A\nR 1 A\nK 5 A\nK 3 P\nK 1 A\n"], ["2 3\nAAA\nPPP\n", "2\nR 2 P\nR 1 A\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "Special Judge", "PA（波兰）"], "title": "[PA 2024] Łamigłówka 3", "background": "PA 2024 4C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 4 [Łamigłówka 3](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/lam/)**\n\nBytie 喜欢玩手机游戏。然而让他感到恼火的是游戏中经常有其他游戏的广告，并且其中玩游戏的人表现得非常糟糕，广告这样做的目的是让看广告的人感到沮丧，从而产生玩下去的欲望。Bytie 对其中一个广告印象尤为深刻（你可能也看过）。\n\n![lam1.png](https://img.loj.ac.cn/2024/03/24/d2a22d1aa2488.png)\n\n由于可以从任何事物中汲取灵感，Bytie 决定在上述游戏的基础上出道题。他将选择一块大小为 $n\\times m$ 的目标图案，游戏在一块 $n\\times m$ 的网格上进行，其中没有任何区域被染色。在一次操作中，他可以选择一行或一列，并将这一行（或列）中的**所有方格**（注意，这比上面图片中的游戏更自由，因为在上面的游戏中，重复涂色同一单元格时颜色会混合）重新涂成自己选择的颜色。为了使题目更形式化，他还用大写英文字母标注了所有颜色。你能帮他写一个程序，对于他给出的每个网格，给出正确得到目标图案的操作顺序吗？你可以假设输入中最多可以用 $n+m$ 步操作得到目标图案。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (1\\le n,m\\le 2\\,000)$，分别表示网格的行数和列数。\n\n接下来 $n$ 行，每行一个长为 $m$ 的字符串。字符串由大写字母组成，第 $i$ 个字符串的第 $j$ 个字符表示目标图案中第 $i$ 行第 $j$ 列单元格的颜色。\n\n保证给定的目标图案可以通过最多 $n+m$ 次染色操作得到。", "outputFormat": "输出第一行包含一个整数 $r\\ (1\\le r\\le n+m)$，表示要进行的操作次数。接下来 $r$ 行描述操作。\n\n为了描述一次操作，首先应输出 `R` 或者 `K`，表示你希望对某行还是某列重新涂色（`R` 表示对某行重新涂色，`K` 表示对某列重新涂色）。接下来空一格，输出你希望重新涂色的行或列的编号，行按从上到下的顺序从 $1$ 到 $n$ 编号，列按从左到右的顺序从 $1$ 到 $m$ 编号。然后再空一格，输出一个大写英文字母，表示你希望对这行或这列重新涂成的颜色。\n\n注意你不需要最小化操作次数——只需要最多操作 $n+m$ 次即可。", "hint": "假设 `P` 代表绿色，`A` 代表黄色，`Z` 代表蓝色。样例 1 中的操作序列如下图所示：\n\n![lam2.png](https://img.loj.ac.cn/2024/03/24/7f9371fee9091.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Łamigłówka 3", "background": "PA 2024 4C", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 4 [Łamigłówka 3](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/lam/)**\n\nBytie 喜欢玩手机游戏。然而让他感到恼火的是游戏中经常有其他游戏的广告，并且其中玩游戏的人表现得非常糟糕，广告这样做的目的是让看广告的人感到沮丧，从而产生玩下去的欲望。Bytie 对其中一个广告印象尤为深刻（你可能也看过）。\n\n![lam1.png](https://img.loj.ac.cn/2024/03/24/d2a22d1aa2488.png)\n\n由于可以从任何事物中汲取灵感，Bytie 决定在上述游戏的基础上出道题。他将选择一块大小为 $n\\times m$ 的目标图案，游戏在一块 $n\\times m$ 的网格上进行，其中没有任何区域被染色。在一次操作中，他可以选择一行或一列，并将这一行（或列）中的**所有方格**（注意，这比上面图片中的游戏更自由，因为在上面的游戏中，重复涂色同一单元格时颜色会混合）重新涂成自己选择的颜色。为了使题目更形式化，他还用大写英文字母标注了所有颜色。你能帮他写一个程序，对于他给出的每个网格，给出正确得到目标图案的操作顺序吗？你可以假设输入中最多可以用 $n+m$ 步操作得到目标图案。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (1\\le n,m\\le 2\\,000)$，分别表示网格的行数和列数。\n\n接下来 $n$ 行，每行一个长为 $m$ 的字符串。字符串由大写字母组成，第 $i$ 个字符串的第 $j$ 个字符表示目标图案中第 $i$ 行第 $j$ 列单元格的颜色。\n\n保证给定的目标图案可以通过最多 $n+m$ 次染色操作得到。", "outputFormat": "输出第一行包含一个整数 $r\\ (1\\le r\\le n+m)$，表示要进行的操作次数。接下来 $r$ 行描述操作。\n\n为了描述一次操作，首先应输出 `R` 或者 `K`，表示你希望对某行还是某列重新涂色（`R` 表示对某行重新涂色，`K` 表示对某列重新涂色）。接下来空一格，输出你希望重新涂色的行或列的编号，行按从上到下的顺序从 $1$ 到 $n$ 编号，列按从左到右的顺序从 $1$ 到 $m$ 编号。然后再空一格，输出一个大写英文字母，表示你希望对这行或这列重新涂成的颜色。\n\n注意你不需要最小化操作次数——只需要最多操作 $n+m$ 次即可。", "hint": "假设 `P` 代表绿色，`A` 代表黄色，`Z` 代表蓝色。样例 1 中的操作序列如下图所示：\n\n![lam2.png](https://img.loj.ac.cn/2024/03/24/7f9371fee9091.png)", "locale": "zh-CN"}}}
{"pid": "P10362", "type": "P", "difficulty": 7, "samples": [["3 6 1\n-1 0 4 0 -3 0\n-4 1 5 2 -5 2\n-5 2 3 0 -2 2\n", "3\n0 0 0\n0 1 0\n0 0 0\n"], ["5 7 0\n0 0 0 8 0 0 0\n0 7 6 5 9 7 0\n0 0 0 5 9 6 0\n9 4 0 4 4 7 0\n0 0 0 9 8 6 0\n", "3"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Autostrada 2", "background": "PA 2024 5A1\n（缺 SPJ）", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Autostrada 2](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/aut/)**\n\n经过多年毫无意义的战争之后，Byteotia 和 Bitotia 终于签署了和平条约。作为最终协议的标志，两国首府之间修建了一条高速公路。而你则被任命为这条高速公路从 Byteotia 到 Bitotia 方向的管理者（至于从 Bitotia 到 Byteotia 方向，你并不感兴趣，它由~~不~~友好国家的管理者管理）。\n\n高速公路上目前有 $m$ 个收费站，编号为 $1$ 到 $m$。在一天的不同时段，通过某个收费站的费用会有所不同。一天分为 $n$ 个小时，编号为 $1$ 到 $n$。目前，在第 $i$ 个小时通过第 $j$ 个收费站的花费为 $c_{i,j}$ bytealerts。其中一些成本可能为 $0$（此时收费站免费），甚至为负（此时司机通过收费站会获得 $-c_{i,j}$ bytealerts）。\n\n整条高速公路很短，一小时就能走完。当然，你也不必如此匆忙，你可以在行驶过程中随意停车。不过，你不能在高速公路上过夜，必须在当天通过所有收费站。\n\n当然，司机希望以尽可能低的花费通过高速公路。对于 $1 \\le i \\le j \\le n$，我们用 $f(i,j)$ 表示司机在第 $i$ 小时通过第一个收费站，并在第 $j$ 小时通过最后一个收费站的情况下，通过整条高速公路的最小可能花费。所有 $f(i,j)$ 都是被两国政府的和平条约提前设置好的，作为高速公路管理者你不能更改他们。\n\n但是，只要保证保留第一个和最后一个收费站，$f(i, j)$ 的值保持不变，并且设置的所有费用都是 $1$ bytealert 的整数倍的情况下，你可以自由修改通过各个收费站的花费，甚至取消某些收费站。\n\n为了最小化高速公路维护的费用，你希望取消尽可能多的收费站。确定为了满足条约内容，最少需要保留多少收费站。\n\n收费计划重组项目将分为两个阶段。在第一阶段，即初步设计阶段，只需找到最佳的收费站数量即可。但在第二阶段，即项目实施阶段，你还需要提供一份完整的收费站价格表计划。", "inputFormat": "第一行三个整数 $n,m,q\\ (2\\le n,m\\le 30\\,000,n\\cdot m\\le 300\\,000,q\\in \\{0,1\\})$，分别表示一天中的小时数，收费站数和描述项目阶段的一位。$q=0$ 表示项目处于第一阶段（初步设计），$q=1$ 表示项目处于第二阶段（实施阶段）。\n\n接下来 $n$ 行描述目前的收费情况，第 $i$ 行包含 $m$ 个整数 $c_{i,1},c_{i,2},\\ldots,c_{i,m}\\ (-10^6\\le c_{i,j}\\le 10^6)$，意义如题目描述。", "outputFormat": "第一行输出一个整数 $k\\ (2\\le k\\le m)$，表示最少需要保留多少收费站，才能满足没有 $f(i,j)$ 改变。如果 $q=0$，输出仅包含这一行一个整数。\n\n如果 $q=1$，接下来 $n$ 行输出满足题目条件的最优价格计划。第 $i$ 行包含 $k$ 个整数 $d_{i,1},d_{i,2},\\ldots,d_{i,k}\\ (-10^{12}\\le d_{i,j}\\le 10^{12})$。$d_{i,j}$ 表示在第 $i$ 小时通过第 $j$ 个收费站的新花费。\n\n可以从题目限制知道，总可以确定一个绝对值不超过 $10^{12}$ 且花费均为整数的计划。", "hint": "第一个样例中，$f(i,j)$ 如下：\n$$f(1, 1) = (-1) + 0 + 4 + 0 + (-3) + 0 = 0$$\n$$f(1, 2) = (-1) + 0 + 4 + 0 + (-5) + 2 = 0$$\n$$f(1, 3) = (-1) + 0 + 4 + 0 + (-5) + 2 = 0$$\n$$f(2, 2) = (-4) + 1 + 5 + 2 + (-5) + 2 = 1$$\n$$f(2, 3) = (-4) + 1 + 3 + 0 + (-2) + 2 = 0$$\n$$f(3, 3) = (-5) + 2 + 3 + 0 + (-2) + 2 = 0$$\n\n两个收费站无法实现相同的花费。请注意，第一个和最后一个收费站是不能取消的，尽管根据输出的 $d_{i,j}$ 费用，这两个收费站是不收费的。\n\n在第二个样例中，由于收费计划重组草案仅处于初步阶段，因此输出不包含新价目表的计划。\n\n**数据范围与提示**\n\n- 有一半的子任务满足 $q=0$。\n- 另一半子任务满足 $q=1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Autostrada 2", "background": "PA 2024 5A1\n（缺 SPJ）", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Autostrada 2](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/aut/)**\n\n经过多年毫无意义的战争之后，Byteotia 和 Bitotia 终于签署了和平条约。作为最终协议的标志，两国首府之间修建了一条高速公路。而你则被任命为这条高速公路从 Byteotia 到 Bitotia 方向的管理者（至于从 Bitotia 到 Byteotia 方向，你并不感兴趣，它由~~不~~友好国家的管理者管理）。\n\n高速公路上目前有 $m$ 个收费站，编号为 $1$ 到 $m$。在一天的不同时段，通过某个收费站的费用会有所不同。一天分为 $n$ 个小时，编号为 $1$ 到 $n$。目前，在第 $i$ 个小时通过第 $j$ 个收费站的花费为 $c_{i,j}$ bytealerts。其中一些成本可能为 $0$（此时收费站免费），甚至为负（此时司机通过收费站会获得 $-c_{i,j}$ bytealerts）。\n\n整条高速公路很短，一小时就能走完。当然，你也不必如此匆忙，你可以在行驶过程中随意停车。不过，你不能在高速公路上过夜，必须在当天通过所有收费站。\n\n当然，司机希望以尽可能低的花费通过高速公路。对于 $1 \\le i \\le j \\le n$，我们用 $f(i,j)$ 表示司机在第 $i$ 小时通过第一个收费站，并在第 $j$ 小时通过最后一个收费站的情况下，通过整条高速公路的最小可能花费。所有 $f(i,j)$ 都是被两国政府的和平条约提前设置好的，作为高速公路管理者你不能更改他们。\n\n但是，只要保证保留第一个和最后一个收费站，$f(i, j)$ 的值保持不变，并且设置的所有费用都是 $1$ bytealert 的整数倍的情况下，你可以自由修改通过各个收费站的花费，甚至取消某些收费站。\n\n为了最小化高速公路维护的费用，你希望取消尽可能多的收费站。确定为了满足条约内容，最少需要保留多少收费站。\n\n收费计划重组项目将分为两个阶段。在第一阶段，即初步设计阶段，只需找到最佳的收费站数量即可。但在第二阶段，即项目实施阶段，你还需要提供一份完整的收费站价格表计划。", "inputFormat": "第一行三个整数 $n,m,q\\ (2\\le n,m\\le 30\\,000,n\\cdot m\\le 300\\,000,q\\in \\{0,1\\})$，分别表示一天中的小时数，收费站数和描述项目阶段的一位。$q=0$ 表示项目处于第一阶段（初步设计），$q=1$ 表示项目处于第二阶段（实施阶段）。\n\n接下来 $n$ 行描述目前的收费情况，第 $i$ 行包含 $m$ 个整数 $c_{i,1},c_{i,2},\\ldots,c_{i,m}\\ (-10^6\\le c_{i,j}\\le 10^6)$，意义如题目描述。", "outputFormat": "第一行输出一个整数 $k\\ (2\\le k\\le m)$，表示最少需要保留多少收费站，才能满足没有 $f(i,j)$ 改变。如果 $q=0$，输出仅包含这一行一个整数。\n\n如果 $q=1$，接下来 $n$ 行输出满足题目条件的最优价格计划。第 $i$ 行包含 $k$ 个整数 $d_{i,1},d_{i,2},\\ldots,d_{i,k}\\ (-10^{12}\\le d_{i,j}\\le 10^{12})$。$d_{i,j}$ 表示在第 $i$ 小时通过第 $j$ 个收费站的新花费。\n\n可以从题目限制知道，总可以确定一个绝对值不超过 $10^{12}$ 且花费均为整数的计划。", "hint": "第一个样例中，$f(i,j)$ 如下：\n$$f(1, 1) = (-1) + 0 + 4 + 0 + (-3) + 0 = 0$$\n$$f(1, 2) = (-1) + 0 + 4 + 0 + (-5) + 2 = 0$$\n$$f(1, 3) = (-1) + 0 + 4 + 0 + (-5) + 2 = 0$$\n$$f(2, 2) = (-4) + 1 + 5 + 2 + (-5) + 2 = 1$$\n$$f(2, 3) = (-4) + 1 + 3 + 0 + (-2) + 2 = 0$$\n$$f(3, 3) = (-5) + 2 + 3 + 0 + (-2) + 2 = 0$$\n\n两个收费站无法实现相同的花费。请注意，第一个和最后一个收费站是不能取消的，尽管根据输出的 $d_{i,j}$ 费用，这两个收费站是不收费的。\n\n在第二个样例中，由于收费计划重组草案仅处于初步阶段，因此输出不包含新价目表的计划。\n\n**数据范围与提示**\n\n- 有一半的子任务满足 $q=0$。\n- 另一半子任务满足 $q=1$。", "locale": "zh-CN"}}}
{"pid": "P10363", "type": "P", "difficulty": 7, "samples": [["3 3 1\nCCN\n", "0 1 3\n"], ["2 1 0\n", "1 0 2\n"], ["4 2 4\nCN\nNC\nCC\nNN\n", "1\n"]], "limits": {"time": [12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000, 12000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Monety", "background": "PA 2024 5A2", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Monety](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/mon/)**\n\nNatalia 和 Cezary 喜欢玩游戏，尤其是他们自己发明的游戏。他们决定在自己面前放置一些堆硬币，硬币从上到下排成类似栈的样子，每堆有 $m$ 枚硬币，每枚硬币要么是蓝色的，要么是红色的。轮到 Natalia 时，她可以选择一枚蓝色硬币，并将其连同其上方的所有硬币一起从硬币堆中移除。同样，在轮到 Cezary 时，他可以选择一枚红色硬币，并将其连同其上方的所有硬币一起从硬币堆中移除。 玩家将轮流操作，不能采取合法操作的玩家就输了——也就是说，当一位玩家操作的所有硬币都已被移除时。\n\n现在他们知道了规则，他们必须确定游戏的初始状态——$d$ 堆硬币，每堆恰好包含 $m$ 个硬币。Natalia 和 Cezary 都不希望拥有不公平的优势，因此他们一致认为硬币的顺序应该是公平的。假设 Natalia 和 Cezary 都采取最优策略，后手赢得游戏，则称初始状态是公平的。因此，如果 Natalia 先手，则采用最优策略的 Cezary 将获胜，反之亦然：如果 Cezary 先手，Natalia 将获胜。\n\n两人已经摆好了前 $k$ 堆 $m$ 个硬币。现在他们正在思考如何完成这一系列硬币堆。他们已经得出结论，游戏中拥有超过 $n$ 堆硬币是没有意义的。\n\n帮助他们，对于区间 $[k, n]$ 中的每个整数 $d$，告诉他们有多少种不同的由 $d$ 堆 $m$ 枚硬币组成的公平初始状态，这些初始状态从他们已经摆好的硬币堆开始。如果存在 $i\\in [1, d]$ 和 $j\\in [1, m]$，当第 $i$ 堆中的第 $j$ 个硬币在一种排列方式中为蓝色，在另一种为红色，则认为这两个初始排列方式是不同的。\n\n由于答案可能很大，输出答案对 $10^9+7$ 取模后的值即可。", "inputFormat": "第一行三个整数 $n,m$ 和 $k\\ (1\\le n\\le 32,1\\le m\\le 24,0\\le k\\le n)$，分别表示硬币堆的最大值，每堆中硬币个数和已经摆好的硬币堆数。\n\n接下来 $k$ 行描述已经摆好的硬币堆，第 $i$ 行包含一个仅由 `N` 和 `C` 组成且长度为 $m$ 的字符串，表示从底部起第 $i$ 堆硬币的摆放方式。如果第 $j$ 个字符为 `N`，则第 $i$ 堆硬币自底向上数第 $j$ 个硬币为蓝色，否则，这个字符为 `C`，表示硬币为红色。", "outputFormat": "输出一行 $n-k+1$ 个整数，第 $i$ 个整数表示再摆 $i-1$ 堆硬币，以满足最终摆放方式是公平的最终摆放方式数。输出对 $10^9+7$ 取模。", "hint": "对于第一组样例，如果我们不添加任何硬币堆，则最初局面不是公平的。然而，我们可以加一堆排列为 `NNC` 的硬币——这样两堆硬币的初始状态就是公平的了。我们可以以三种方式添加两堆硬币：`[CCN, NNN]`，`[NNN, CCN]` 和 `[NCN, NCN]`。\n\n**数据范围与提示**\n\n- 在某些子任务中，满足 $k=n$。\n- 在某些子任务中，满足 $n\\le 8,m\\le 8$​。\n- 在某些子任务中，满足 $n\\le 12,m\\le 13$。\n- 在某些子任务中，满足 $n\\le 16,m\\le 19$​。\n\n上述每个子任务至少描述了之前子任务中没有出现的一组。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Monety", "background": "PA 2024 5A2", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Monety](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/mon/)**\n\nNatalia 和 Cezary 喜欢玩游戏，尤其是他们自己发明的游戏。他们决定在自己面前放置一些堆硬币，硬币从上到下排成类似栈的样子，每堆有 $m$ 枚硬币，每枚硬币要么是蓝色的，要么是红色的。轮到 Natalia 时，她可以选择一枚蓝色硬币，并将其连同其上方的所有硬币一起从硬币堆中移除。同样，在轮到 Cezary 时，他可以选择一枚红色硬币，并将其连同其上方的所有硬币一起从硬币堆中移除。 玩家将轮流操作，不能采取合法操作的玩家就输了——也就是说，当一位玩家操作的所有硬币都已被移除时。\n\n现在他们知道了规则，他们必须确定游戏的初始状态——$d$ 堆硬币，每堆恰好包含 $m$ 个硬币。Natalia 和 Cezary 都不希望拥有不公平的优势，因此他们一致认为硬币的顺序应该是公平的。假设 Natalia 和 Cezary 都采取最优策略，后手赢得游戏，则称初始状态是公平的。因此，如果 Natalia 先手，则采用最优策略的 Cezary 将获胜，反之亦然：如果 Cezary 先手，Natalia 将获胜。\n\n两人已经摆好了前 $k$ 堆 $m$ 个硬币。现在他们正在思考如何完成这一系列硬币堆。他们已经得出结论，游戏中拥有超过 $n$ 堆硬币是没有意义的。\n\n帮助他们，对于区间 $[k, n]$ 中的每个整数 $d$，告诉他们有多少种不同的由 $d$ 堆 $m$ 枚硬币组成的公平初始状态，这些初始状态从他们已经摆好的硬币堆开始。如果存在 $i\\in [1, d]$ 和 $j\\in [1, m]$，当第 $i$ 堆中的第 $j$ 个硬币在一种排列方式中为蓝色，在另一种为红色，则认为这两个初始排列方式是不同的。\n\n由于答案可能很大，输出答案对 $10^9+7$ 取模后的值即可。", "inputFormat": "第一行三个整数 $n,m$ 和 $k\\ (1\\le n\\le 32,1\\le m\\le 24,0\\le k\\le n)$，分别表示硬币堆的最大值，每堆中硬币个数和已经摆好的硬币堆数。\n\n接下来 $k$ 行描述已经摆好的硬币堆，第 $i$ 行包含一个仅由 `N` 和 `C` 组成且长度为 $m$ 的字符串，表示从底部起第 $i$ 堆硬币的摆放方式。如果第 $j$ 个字符为 `N`，则第 $i$ 堆硬币自底向上数第 $j$ 个硬币为蓝色，否则，这个字符为 `C`，表示硬币为红色。", "outputFormat": "输出一行 $n-k+1$ 个整数，第 $i$ 个整数表示再摆 $i-1$ 堆硬币，以满足最终摆放方式是公平的最终摆放方式数。输出对 $10^9+7$ 取模。", "hint": "对于第一组样例，如果我们不添加任何硬币堆，则最初局面不是公平的。然而，我们可以加一堆排列为 `NNC` 的硬币——这样两堆硬币的初始状态就是公平的了。我们可以以三种方式添加两堆硬币：`[CCN, NNN]`，`[NNN, CCN]` 和 `[NCN, NCN]`。\n\n**数据范围与提示**\n\n- 在某些子任务中，满足 $k=n$。\n- 在某些子任务中，满足 $n\\le 8,m\\le 8$​。\n- 在某些子任务中，满足 $n\\le 12,m\\le 13$。\n- 在某些子任务中，满足 $n\\le 16,m\\le 19$​。\n\n上述每个子任务至少描述了之前子任务中没有出现的一组。", "locale": "zh-CN"}}}
{"pid": "P10364", "type": "P", "difficulty": 7, "samples": [], "limits": {"time": [15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "交互题", "Special Judge", "PA（波兰）"], "title": "[PA 2024] Dzielniki", "background": "PA 2024 5B1", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Dzielniki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/dzi/)**\n\n我们从区间 $[1,n]$ 中选取了一个整数 $x$，你的任务是猜这些数。你不必盲目地猜，可以问一些问题。每个问题你可以询问区间 $[0,c]$ 中的某个整数 $y$，我们会告诉你 $x+y$ 的因子个数。\n\n为了让题目稍微困难一些，你需要在一次运行中解决 $t$ 个用例。询问总数被限制在 $q$ 次。", "inputFormat": "在程序的开头你**不应该**使用 `#include \"dzilib.h\"` 引入交互库。\n\n你需要实现如下函数来完成本题。\n\n- `void Solve()`：程序只会调用此函数一次，在这个函数中，你需要实现猜测 $t$ 个用例的所有程序逻辑。\n\n你可以调用如下函数。\n\n- `int GetT()`：返回 $t$ 的值。\n- `long long GetN()`：返回 $n$ 的值。\n- `int GetQ()`：返回 $q$ 的值。\n- `long long GetC()`：返回 $c$ 的值。\n- `int Ask(long long y)`：返回要猜的数 $x$ 与 $y$ 的和的因子个数。你需要保证 $0\\le y\\le c$。\n- `void Answer(long long x)`：做出一次回答。此函数无返回值。\n\n如果你调用 `Ask()` 函数的总次数超过 $q$，则你的程序会被判为 `Wrong Answer`。如果存在一次调用 `Answer()` 函数，你猜测的数与答案不同，你的程序也会被判为 `Wrong Answer`。", "outputFormat": null, "hint": "#### 数据范围\n\n| 子任务编号  |  $t$ | $n$  | $q$  | $c$  |\n|:-:|:-:|:-:|:-:|:-:|\n| $1$  | $50$  | $10^5$   | $50000$  | $10^{12}$  |\n| $2$  | $50$  | $10^6$   | $5000$  | $10^{12}$  |\n| $3$  | $10$  | $10^9$   | $50000$  | $10^{12}$  |\n| $4$  | $10$  | $10^{14}$  | $5000$ | $10^{17}$  |\n| $5$  | $10$  | $10^{14}$  | $2000$  | $10^{17}$ |\n| $6$  | $10$  | $10^{14}$  | $1300$  | $10^{17}$ |\n| $7$  | $10$  | $10^{14}$  | $950$  | $10^{17}$ |\n| $8$  | $10$  | $10^{14}$  | $820$  | $10^{17}$ |\n| $9$  | $10$  | $10^{14}$  | $750$  | $10^{17}$ |\n| $10$ | $10$  | $10^{14}$  | $720$  | $10^{17}$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Dzielniki", "background": "PA 2024 5B1", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Dzielniki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/dzi/)**\n\n我们从区间 $[1,n]$ 中选取了一个整数 $x$，你的任务是猜这些数。你不必盲目地猜，可以问一些问题。每个问题你可以询问区间 $[0,c]$ 中的某个整数 $y$，我们会告诉你 $x+y$ 的因子个数。\n\n为了让题目稍微困难一些，你需要在一次运行中解决 $t$ 个用例。询问总数被限制在 $q$ 次。", "inputFormat": "在程序的开头你**不应该**使用 `#include \"dzilib.h\"` 引入交互库。\n\n你需要实现如下函数来完成本题。\n\n- `void Solve()`：程序只会调用此函数一次，在这个函数中，你需要实现猜测 $t$ 个用例的所有程序逻辑。\n\n你可以调用如下函数。\n\n- `int GetT()`：返回 $t$ 的值。\n- `long long GetN()`：返回 $n$ 的值。\n- `int GetQ()`：返回 $q$ 的值。\n- `long long GetC()`：返回 $c$ 的值。\n- `int Ask(long long y)`：返回要猜的数 $x$ 与 $y$ 的和的因子个数。你需要保证 $0\\le y\\le c$。\n- `void Answer(long long x)`：做出一次回答。此函数无返回值。\n\n如果你调用 `Ask()` 函数的总次数超过 $q$，则你的程序会被判为 `Wrong Answer`。如果存在一次调用 `Answer()` 函数，你猜测的数与答案不同，你的程序也会被判为 `Wrong Answer`。", "outputFormat": null, "hint": "#### 数据范围\n\n| 子任务编号  |  $t$ | $n$  | $q$  | $c$  |\n|:-:|:-:|:-:|:-:|:-:|\n| $1$  | $50$  | $10^5$   | $50000$  | $10^{12}$  |\n| $2$  | $50$  | $10^6$   | $5000$  | $10^{12}$  |\n| $3$  | $10$  | $10^9$   | $50000$  | $10^{12}$  |\n| $4$  | $10$  | $10^{14}$  | $5000$ | $10^{17}$  |\n| $5$  | $10$  | $10^{14}$  | $2000$  | $10^{17}$ |\n| $6$  | $10$  | $10^{14}$  | $1300$  | $10^{17}$ |\n| $7$  | $10$  | $10^{14}$  | $950$  | $10^{17}$ |\n| $8$  | $10$  | $10^{14}$  | $820$  | $10^{17}$ |\n| $9$  | $10$  | $10^{14}$  | $750$  | $10^{17}$ |\n| $10$ | $10$  | $10^{14}$  | $720$  | $10^{17}$ |", "locale": "zh-CN"}}}
{"pid": "P10365", "type": "P", "difficulty": 6, "samples": [["3\n4 6\n1 3\n2 5\n", "2"], ["5\n2 9\n3 4\n1 8\n6 10\n5 7\n", "233333338\n"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Kraniki", "background": "PA 2024 5B2", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Kraniki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/kra/)**\n\n*Radek and Friends* 公司的负责人 Radek 试图淹没竞争对手 *Mati and Company* 公司的所有货架。为了进行完美的破坏，他让他的朋友，水管工 Janusz 在每个架子都上安装了小水龙头。\n\n为简单起见，*Mati and Company* 公司中的货架可以用平面上的线段来表示。每个货架都是一对点 $(l_i,h_i)$ 和 $(r_i,h_i)$ 之间的线段。水管工安装的水龙头是坐标为 $(\\frac{l_i+r_i}{2}, h_i + 0.5)$ 的点。这个房间的地面用 $OX$ 轴表示。\n\n只要打开第 $i$ 个货架上方的水龙头，该货架就会被水淹没。之后水会自然开始从货架的两端垂直向下滴落，并有可能淹没更多的货架，或自然滴落到地面上。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uwllkpr7.png)\n\n在第二组样例中，当打开一个水龙头时，水流的可视化效果.\n\nRadek 会按某个确定的顺序看水龙头的情况。当他看到第 $i$ 个水龙头时，当且仅当第 $i$ 个货架没被水淹，他才会打开这个水龙头。\n\nRadek 还没确定他看水龙头的顺序。它会从 $n!$ 种顺序中均匀随机选择一种。Radek 想知道他平均会打开多少个水龙头。\n\n你的任务是回答 Radek 的问题，给出答案对 $10^9+7$ 取模后的值。形式化地，令答案为 $\\frac{p}{q}$，其中 $q\\neq 0$ 且 $\\gcd(p,q)=1$。你需要输出 $p\\cdot q^{-1}\\pmod{10^9+7}$，其中 $q^{-1}$ 是集合 $1,2,\\ldots,10^9+6$ 中唯一满足 $q\\cdot q^{-1}\\equiv 1\\pmod{10^9+7}$ 的整数。\n\n可以证明对于所有满足题目条件的数据，结果是有理数，且分母不会被 $10^9+7$ 整除。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 500\\,000)$，表示 Mati 公司的货架数。\n\n接下来 $n$ 行，第 $i$ 行有两个整数 $l_i,r_i\\ (1\\le l_i<r_i\\le 2\\cdot n)$，表示第 $i$ 个货架。为了简单，我们假设 $h_i=i$。\n\n你可以假设所有 $l_i,r_i$ 两两不同——整数 $l_i,r_i$ 形成了一个 $1$ 到 $2\\cdot n$ 的排列。", "outputFormat": "输出一行一个整数，表示 Radek 平均需要打开多少水龙头。答案对 $10^9+7$ 取模后输出。", "hint": "**样例解释 1**\n\n让我们考虑在第一个样例中 Radek 看水龙头的所有顺序：\n\n- 按 $1,2,3$ 的顺序，他会打开所有 $3$ 个水龙头。\n- 按 $1,3,2$ 的顺序，他会先打开水龙头 $1$ 和 $3$。当他准备打开水龙头 $2$ 时，水已经淹了第 $2$ 个货架，所以他不需要打开水龙头 $2$ 了。\n- 按 $2,1,3$ 的顺序，他会打开所有 $3$​ 个水龙头。\n- 按 $2,3,1$ 的顺序，他会先打开水龙头 $2$ 和 $3$。当他准备打开水龙头 $1$ 时，水已经淹了第 $1$ 个货架，所以他不需要打开水龙头 $1$ 了。\n- 按 $3,1,2$ 或 $3,2,1$ 的顺序，由于打开水龙头 $3$ 后，所有货架都会被淹，因此就不需要再打开剩下的两个水龙头了。\n\nRadek 平均需要打开 $\\frac{1}{6}\\cdot(3+2+3+2+1+1)=2$ 个水龙头。\n\n**样例解释 2**\n\n第二组样例中 Radek 平均要打开 $\\frac{91}{30}$ 个水龙头，由于 $30^{-1}\\equiv 233333335\\pmod{10^9+7}$，所以输出 $91\\cdot 233333335\\equiv 21233333485\\equiv 233333338\\pmod{10^9+7}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Kraniki", "background": "PA 2024 5B2", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Kraniki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/kra/)**\n\n*Radek and Friends* 公司的负责人 Radek 试图淹没竞争对手 *Mati and Company* 公司的所有货架。为了进行完美的破坏，他让他的朋友，水管工 Janusz 在每个架子都上安装了小水龙头。\n\n为简单起见，*Mati and Company* 公司中的货架可以用平面上的线段来表示。每个货架都是一对点 $(l_i,h_i)$ 和 $(r_i,h_i)$ 之间的线段。水管工安装的水龙头是坐标为 $(\\frac{l_i+r_i}{2}, h_i + 0.5)$ 的点。这个房间的地面用 $OX$ 轴表示。\n\n只要打开第 $i$ 个货架上方的水龙头，该货架就会被水淹没。之后水会自然开始从货架的两端垂直向下滴落，并有可能淹没更多的货架，或自然滴落到地面上。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/uwllkpr7.png)\n\n在第二组样例中，当打开一个水龙头时，水流的可视化效果.\n\nRadek 会按某个确定的顺序看水龙头的情况。当他看到第 $i$ 个水龙头时，当且仅当第 $i$ 个货架没被水淹，他才会打开这个水龙头。\n\nRadek 还没确定他看水龙头的顺序。它会从 $n!$ 种顺序中均匀随机选择一种。Radek 想知道他平均会打开多少个水龙头。\n\n你的任务是回答 Radek 的问题，给出答案对 $10^9+7$ 取模后的值。形式化地，令答案为 $\\frac{p}{q}$，其中 $q\\neq 0$ 且 $\\gcd(p,q)=1$。你需要输出 $p\\cdot q^{-1}\\pmod{10^9+7}$，其中 $q^{-1}$ 是集合 $1,2,\\ldots,10^9+6$ 中唯一满足 $q\\cdot q^{-1}\\equiv 1\\pmod{10^9+7}$ 的整数。\n\n可以证明对于所有满足题目条件的数据，结果是有理数，且分母不会被 $10^9+7$ 整除。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 500\\,000)$，表示 Mati 公司的货架数。\n\n接下来 $n$ 行，第 $i$ 行有两个整数 $l_i,r_i\\ (1\\le l_i<r_i\\le 2\\cdot n)$，表示第 $i$ 个货架。为了简单，我们假设 $h_i=i$。\n\n你可以假设所有 $l_i,r_i$ 两两不同——整数 $l_i,r_i$ 形成了一个 $1$ 到 $2\\cdot n$ 的排列。", "outputFormat": "输出一行一个整数，表示 Radek 平均需要打开多少水龙头。答案对 $10^9+7$ 取模后输出。", "hint": "**样例解释 1**\n\n让我们考虑在第一个样例中 Radek 看水龙头的所有顺序：\n\n- 按 $1,2,3$ 的顺序，他会打开所有 $3$ 个水龙头。\n- 按 $1,3,2$ 的顺序，他会先打开水龙头 $1$ 和 $3$。当他准备打开水龙头 $2$ 时，水已经淹了第 $2$ 个货架，所以他不需要打开水龙头 $2$ 了。\n- 按 $2,1,3$ 的顺序，他会打开所有 $3$​ 个水龙头。\n- 按 $2,3,1$ 的顺序，他会先打开水龙头 $2$ 和 $3$。当他准备打开水龙头 $1$ 时，水已经淹了第 $1$ 个货架，所以他不需要打开水龙头 $1$ 了。\n- 按 $3,1,2$ 或 $3,2,1$ 的顺序，由于打开水龙头 $3$ 后，所有货架都会被淹，因此就不需要再打开剩下的两个水龙头了。\n\nRadek 平均需要打开 $\\frac{1}{6}\\cdot(3+2+3+2+1+1)=2$ 个水龙头。\n\n**样例解释 2**\n\n第二组样例中 Radek 平均要打开 $\\frac{91}{30}$ 个水龙头，由于 $30^{-1}\\equiv 233333335\\pmod{10^9+7}$，所以输出 $91\\cdot 233333335\\equiv 21233333485\\equiv 233333338\\pmod{10^9+7}$。", "locale": "zh-CN"}}}
{"pid": "P10366", "type": "P", "difficulty": 5, "samples": [["3\n7 -4 -2\n", "1\n"], ["10\n0 0 0 0 0 0 0 0 0 0\n", "26235"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "PA（波兰）"], "title": "[PA 2024] Bardzo Ulubiony Ciąg", "background": "PA 2024 5C1", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Bardzo Ulubiony Ciąg](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/buc/)，感谢 Macaronlin 提供翻译**\n\n给定长度为 $n$ 的整数数组 $a$，$a$ 的所有子区间和形成长度为 $\\frac{n(n+1)}{2}$ 的数组 $b$，子区间和按区间开始下标的递增顺序排列，如果区间开始下标相同，则按区间结束递增顺序排列。\n\n对于新形成的数组 $b$，求满足 $b_i+b_j+b_k=0\\ (i<j<k)$ 的 $(i,j,k)$ 对数。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 500)$，表示数组 $a$ 的长度。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n\\ (|a_i|\\le 20\\,000)$，表示数组 $a$。", "outputFormat": "一行一个整数，表示数组 $b$ 中满足 $b_i+b_j+b_k=0\\ (i<j<k)$ 的 $(i,j,k)$ 对数。", "hint": "**样例解释 1**\n\n数组 $b$ 为 $[7,3,1,-4,-6,-2]$，只有 $3,1,-4$ 这三个不同元素满足，所以答案为 $1$。\n\n**样例解释 2**\n\n数组 $b$ 为 $55$ 个 $0$，任选三个 $i<j<k$ 都满足和为 $0$，因此答案为 $26235$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Bardzo Ulubiony Ciąg", "background": "PA 2024 5C1", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Bardzo Ulubiony Ciąg](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/buc/)，感谢 Macaronlin 提供翻译**\n\n给定长度为 $n$ 的整数数组 $a$，$a$ 的所有子区间和形成长度为 $\\frac{n(n+1)}{2}$ 的数组 $b$，子区间和按区间开始下标的递增顺序排列，如果区间开始下标相同，则按区间结束递增顺序排列。\n\n对于新形成的数组 $b$，求满足 $b_i+b_j+b_k=0\\ (i<j<k)$ 的 $(i,j,k)$ 对数。", "inputFormat": "第一行一个整数 $n\\ (1\\le n\\le 500)$，表示数组 $a$ 的长度。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n\\ (|a_i|\\le 20\\,000)$，表示数组 $a$。", "outputFormat": "一行一个整数，表示数组 $b$ 中满足 $b_i+b_j+b_k=0\\ (i<j<k)$ 的 $(i,j,k)$ 对数。", "hint": "**样例解释 1**\n\n数组 $b$ 为 $[7,3,1,-4,-6,-2]$，只有 $3,1,-4$ 这三个不同元素满足，所以答案为 $1$。\n\n**样例解释 2**\n\n数组 $b$ 为 $55$ 个 $0$，任选三个 $i<j<k$ 都满足和为 $0$，因此答案为 $26235$。", "locale": "zh-CN"}}}
{"pid": "P10367", "type": "P", "difficulty": 6, "samples": [["5 4\n1 0 1 1 0\n1 3\n5 3\n4 2\n1 5\n", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "图论", "2024", "图论建模", "二分图", "组合数学", "PA（波兰）"], "title": "[PA 2024] Żarówki", "background": "PA 2024 5C2", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Żarówki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/zar/)，感谢 Macaronlin 提供翻译**\n\n有 $n$ 个灯泡，每个灯泡有两种状态：开和关，初始状态是给定的。有 $m$ 个开关，每个开关控制两个灯泡，按下开关可以使这两个灯泡变为与目前状态相反的状态，只有在两个灯泡有相同状态时才起作用，否则不起作用。\n\n你可以随意安排开关的使用顺序和使用次数，问利用这些开关可以实现多少种配置方案。灯泡在一种配置中打开而在另一种配置中关闭，则两种配置被视为不同。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (1\\le n\\le 200\\,000,0\\le m\\le 400\\,000)$，表示灯泡和开关的个数。\n\n第二行 $n$ 个整数 $c_i\\ (c_i\\in \\{0,1\\})$，如果 $c_i=1$，则初始时第 $i$ 个灯泡是打开的，如果 $c_i=0$，则初始时第 $i$ 个灯泡是关闭的。\n\n接下来 $m$ 行，每行两个整数 $a_i,b_i\\ (1\\le a_i,b_i\\le n,a_i\\neq b_i)$，描述一个开关。\n\n保证开关会影响不同的无序灯泡对。形式化地，$\\forall i,j \\in \\{1,2,\\ldots,m\\},i\\neq j$，都有 $(a_i,b_i)\\neq (a_j,b_j)$ 且 $(a_i,b_i)\\neq (b_j,a_j)$。", "outputFormat": "输出一行一个整数，表示利用这些开关可以实现多少种配置方案。输出对 $10^9+7$ 取模。", "hint": "所有可以实现的配置方案为：`10110`，`00010`，`00111` 和 `10011`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2024] Żarówki", "background": "PA 2024 5C2", "description": "**题目译自 [PA 2024](https://sio2.mimuw.edu.pl/c/pa-2024-1/dashboard/) Runda 5 [Żarówki](https://sio2.mimuw.edu.pl/c/pa-2024-1/p/zar/)，感谢 Macaronlin 提供翻译**\n\n有 $n$ 个灯泡，每个灯泡有两种状态：开和关，初始状态是给定的。有 $m$ 个开关，每个开关控制两个灯泡，按下开关可以使这两个灯泡变为与目前状态相反的状态，只有在两个灯泡有相同状态时才起作用，否则不起作用。\n\n你可以随意安排开关的使用顺序和使用次数，问利用这些开关可以实现多少种配置方案。灯泡在一种配置中打开而在另一种配置中关闭，则两种配置被视为不同。", "inputFormat": "第一行两个整数 $n$ 和 $m\\ (1\\le n\\le 200\\,000,0\\le m\\le 400\\,000)$，表示灯泡和开关的个数。\n\n第二行 $n$ 个整数 $c_i\\ (c_i\\in \\{0,1\\})$，如果 $c_i=1$，则初始时第 $i$ 个灯泡是打开的，如果 $c_i=0$，则初始时第 $i$ 个灯泡是关闭的。\n\n接下来 $m$ 行，每行两个整数 $a_i,b_i\\ (1\\le a_i,b_i\\le n,a_i\\neq b_i)$，描述一个开关。\n\n保证开关会影响不同的无序灯泡对。形式化地，$\\forall i,j \\in \\{1,2,\\ldots,m\\},i\\neq j$，都有 $(a_i,b_i)\\neq (a_j,b_j)$ 且 $(a_i,b_i)\\neq (b_j,a_j)$。", "outputFormat": "输出一行一个整数，表示利用这些开关可以实现多少种配置方案。输出对 $10^9+7$ 取模。", "hint": "所有可以实现的配置方案为：`10110`，`00010`，`00111` 和 `10011`。", "locale": "zh-CN"}}}
{"pid": "P10368", "type": "P", "difficulty": 3, "samples": [["3 0\n3 1\naba\n5 2\nacaca\n3 0\nabc", "aa\naa\nabc"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化", "洛谷比赛"], "title": "「LAOI-4」Colors", "background": "做这个题：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6053fe2y.png)", "description": "给定长度为 $n$ 的字符串 $A$。  \n- 若 $A_{i-1}=A_{i+1}$，则称 $A_i$ 为 「可消除的」。\n\n定义一次操作为：消除 $A$ 中所有「可消除的」字符。\n\n请你输出操作 $k$ 次后的 $A$。", "inputFormat": "第一行两个正整数 $T,id$，表示数据组数和子任务编号。\n\n对于每组数据，第一行一个正整数 $n$ 和一个整数 $k$。\n\n接下来一行是一个长为 $n$ 的字符串。\n", "outputFormat": "对于每组数据，输出一行一个字符串表示答案。", "hint": "样例解释：\n\n- 对于第 $1$ 组数据，字符串为 $\\text{aba}$，一次操作后为 $\\text{aa}$。\n- 对于第 $2$ 组数据，字符串为 $\\text{acaca}$，一次操作后为 $\\text{aa}$，两次操作后为 $\\text{aa}$。\n- 对于第 $3$ 组数据，字符串为 $\\text{abc}$，零次操作后为 $\\text{abc}$。\n\n**「本题采用捆绑测试」**\n\n| $\\text{Subtask}$ | $\\sum n \\le$|  特殊性质 | 子任务依赖| 总分值 |\n| :--------------: | :-----: |:-----:|:--: | :--------: |\n|       $1$        |  $10^6$ |    $\\text{A}$    |无| $5$ |\n$2$        | $300$  | $k\\le 300$ |无| $10$ |\n$3$        | $10^3$  | 无| $2$| $15$ |\n|       $4$        | $10^6$  | $\\text{B}$ |无| $10$ |\n|       $5$        | $10^6$ | $\\text{C}$ |$4$| $20$ |\n|       $6$        | $10^7$ |     无     |$1\\sim5 $| $40$ |\n\n\n对于 $100\\%$ 的数据，$1  \\le \\sum n \\le 10^7$，$1 \\le  T \\le 10^5$，$0\\le k\\le 10^{18}$，字符串均由小写字母组成。\n\n特殊性质 $\\text{A}$：$A$ 是一个 $\\text{a}\\sim\\text{z}$ 的排列。\n\n特殊性质 $\\text{B}$：$\\forall i\\in[1,n-2], A_i= A_{i+2}$。\n\n特殊性质 $\\text{C}$：保证 $A_i$ 只可能有两种取值。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「LAOI-4」Colors", "background": "做这个题：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6053fe2y.png)", "description": "给定长度为 $n$ 的字符串 $A$。  \n- 若 $A_{i-1}=A_{i+1}$，则称 $A_i$ 为 「可消除的」。\n\n定义一次操作为：消除 $A$ 中所有「可消除的」字符。\n\n请你输出操作 $k$ 次后的 $A$。", "inputFormat": "第一行两个正整数 $T,id$，表示数据组数和子任务编号。\n\n对于每组数据，第一行一个正整数 $n$ 和一个整数 $k$。\n\n接下来一行是一个长为 $n$ 的字符串。\n", "outputFormat": "对于每组数据，输出一行一个字符串表示答案。", "hint": "样例解释：\n\n- 对于第 $1$ 组数据，字符串为 $\\text{aba}$，一次操作后为 $\\text{aa}$。\n- 对于第 $2$ 组数据，字符串为 $\\text{acaca}$，一次操作后为 $\\text{aa}$，两次操作后为 $\\text{aa}$。\n- 对于第 $3$ 组数据，字符串为 $\\text{abc}$，零次操作后为 $\\text{abc}$。\n\n**「本题采用捆绑测试」**\n\n| $\\text{Subtask}$ | $\\sum n \\le$|  特殊性质 | 子任务依赖| 总分值 |\n| :--------------: | :-----: |:-----:|:--: | :--------: |\n|       $1$        |  $10^6$ |    $\\text{A}$    |无| $5$ |\n$2$        | $300$  | $k\\le 300$ |无| $10$ |\n$3$        | $10^3$  | 无| $2$| $15$ |\n|       $4$        | $10^6$  | $\\text{B}$ |无| $10$ |\n|       $5$        | $10^6$ | $\\text{C}$ |$4$| $20$ |\n|       $6$        | $10^7$ |     无     |$1\\sim5 $| $40$ |\n\n\n对于 $100\\%$ 的数据，$1  \\le \\sum n \\le 10^7$，$1 \\le  T \\le 10^5$，$0\\le k\\le 10^{18}$，字符串均由小写字母组成。\n\n特殊性质 $\\text{A}$：$A$ 是一个 $\\text{a}\\sim\\text{z}$ 的排列。\n\n特殊性质 $\\text{B}$：$\\forall i\\in[1,n-2], A_i= A_{i+2}$。\n\n特殊性质 $\\text{C}$：保证 $A_i$ 只可能有两种取值。\n", "locale": "zh-CN"}}}
{"pid": "P10369", "type": "P", "difficulty": 4, "samples": [["3\n2\n5\n7", "0 1\n3 1 5 0 1\n0 7 9 4 0 0 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["Special Judge", "O2优化", "构造", "洛谷比赛"], "title": "「LAOI-4」Mex Tower (Easy ver.)", "background": "**本题与 Hard Version 的区别为本题需给出一个合法的方案。**", "description": "定义 $\\operatorname{mex}(x, y)$ 表示在集合 $\\{x, y\\}$ 中最小的未出现的 **自然数**。例如，$\\operatorname{mex}(1, 5) = 0$，$\\operatorname{mex}(3, 0) = 1$。\n\n继而，我们定义对自然数序列 $a_1\\dots a_n$ 的一次操作，是将序列 $a$ 替换为 **长度为 $\\bm{n - 1}$ 的** 序列 $b_1\\dots b_{n-1}$，其中 $b_i = \\operatorname{mex}(a_i, a_{i+1})$。\n\n你需要构造一个长度为 $n$ 的自然数序列 $a_1\\dots a_n$，满足 $0 \\leq a_i \\leq 10^9$；然后对它进行 $n - 1$ 次操作。显然最终序列 $a$ 只会剩下一个数，你需要最大化这个数的值。\n\n如果有多种可能的数列，可以输出任何一种合法方案。", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据，仅一行，一个正整数 $n$。", "outputFormat": "对于每组数据，输出一行 $n$ 个整数，表示你构造的 $a_1\\dots a_n$。", "hint": "### 样例解释\n\n对于 $n = 2$，我们对 $[0, 1]$ 进行操作后显然会得到 $[2]$。可以证明，这是我们能得到的最大的答案。  \n其它合法的输出如 $[1, 0]$ 等也可以通过。\n\n对于 $n = 5$ 和 $n = 7$，暂时不能给你一个明确的答复。\n\n### 数据规模与约定\n\n**「本题采用捆绑测试」**\n\n| $\\text{Subtask}$ | $\\sum n \\le$|  特殊性质  | 总分值 |\n| :--------------: | :-----: |:-----: | :--------: |\n|       $1$        |  $10$ | 无| $5$ |\n$2$        | $10^5$  | $\\text{A}$ | $15$ |\n|       $3$        | $10^5$  | $\\text{B}$ | $15$ |\n|       $4$        | $50$ | $n\\le 25$ | $10$ |\n|       $5$        | $10^3$ | 无 | $20$ |\n|       $6$        | $10^6$ |     无     | $35$ |\n\n特殊性质 $\\text{A}$：保证 $n\\equiv 3\\pmod 4$。\n\n特殊性质 $\\text{B}$：保证 $n\\equiv 2\\pmod 4$。\n\n对于所有数据，保证 $1 \\leq T \\leq 10^4$，$n > 1$，$\\sum n \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「LAOI-4」Mex Tower (Easy ver.)", "background": "**本题与 Hard Version 的区别为本题需给出一个合法的方案。**", "description": "定义 $\\operatorname{mex}(x, y)$ 表示在集合 $\\{x, y\\}$ 中最小的未出现的 **自然数**。例如，$\\operatorname{mex}(1, 5) = 0$，$\\operatorname{mex}(3, 0) = 1$。\n\n继而，我们定义对自然数序列 $a_1\\dots a_n$ 的一次操作，是将序列 $a$ 替换为 **长度为 $\\bm{n - 1}$ 的** 序列 $b_1\\dots b_{n-1}$，其中 $b_i = \\operatorname{mex}(a_i, a_{i+1})$。\n\n你需要构造一个长度为 $n$ 的自然数序列 $a_1\\dots a_n$，满足 $0 \\leq a_i \\leq 10^9$；然后对它进行 $n - 1$ 次操作。显然最终序列 $a$ 只会剩下一个数，你需要最大化这个数的值。\n\n如果有多种可能的数列，可以输出任何一种合法方案。", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$，表示数据组数。\n\n对于每组数据，仅一行，一个正整数 $n$。", "outputFormat": "对于每组数据，输出一行 $n$ 个整数，表示你构造的 $a_1\\dots a_n$。", "hint": "### 样例解释\n\n对于 $n = 2$，我们对 $[0, 1]$ 进行操作后显然会得到 $[2]$。可以证明，这是我们能得到的最大的答案。  \n其它合法的输出如 $[1, 0]$ 等也可以通过。\n\n对于 $n = 5$ 和 $n = 7$，暂时不能给你一个明确的答复。\n\n### 数据规模与约定\n\n**「本题采用捆绑测试」**\n\n| $\\text{Subtask}$ | $\\sum n \\le$|  特殊性质  | 总分值 |\n| :--------------: | :-----: |:-----: | :--------: |\n|       $1$        |  $10$ | 无| $5$ |\n$2$        | $10^5$  | $\\text{A}$ | $15$ |\n|       $3$        | $10^5$  | $\\text{B}$ | $15$ |\n|       $4$        | $50$ | $n\\le 25$ | $10$ |\n|       $5$        | $10^3$ | 无 | $20$ |\n|       $6$        | $10^6$ |     无     | $35$ |\n\n特殊性质 $\\text{A}$：保证 $n\\equiv 3\\pmod 4$。\n\n特殊性质 $\\text{B}$：保证 $n\\equiv 2\\pmod 4$。\n\n对于所有数据，保证 $1 \\leq T \\leq 10^4$，$n > 1$，$\\sum n \\leq 10^6$。", "locale": "zh-CN"}}}
