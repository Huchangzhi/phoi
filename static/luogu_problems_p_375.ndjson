{"pid": "P8606", "type": "P", "difficulty": 5, "samples": [["1 5 9", "1 4"], ["1 5 8 10", "1 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["博弈论", "2013", "蓝桥杯国赛"], "title": "[蓝桥杯 2013 国 B] 高僧斗法", "background": "", "description": "古时丧葬活动中经常请高僧做法事。仪式结束后，有时会有“高僧斗法”的趣味节目，以舒缓压抑的气氛。\n\n节目大略步骤为：先用粮食（一般是稻米）在地上“画”出若干级台阶（表示 $N$ 级浮屠）。又有若干小和尚随机地“站”在某个台阶上。最高一级台阶必须站人，其它任意。（如图 $1$ 所示 )。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vnuni82v.png)\n\n两位参加游戏的法师分别指挥某个小和尚向上走任意多级的台阶，但会被站在高级台阶上的小和尚阻挡，不能越过。两个小和尚也不能站在同一台阶，也不能向低级台阶移动。\n\n两法师轮流发出指令，最后所有小和尚必然会都挤在高段台阶，再也不能向上移动。轮到哪个法师指挥时无法继续移动，则游戏结束，该法师认输。\n\n对于已知的台阶数和小和尚的分布位置，请你计算先发指令的法师该如何决策才能保证胜出。", "inputFormat": "输入数据为一行用空格分开的 $N$ 个整数，表示小和尚的位置。台阶序号从 $1$ 算起，所以最后一个小和尚的位置即是台阶的总数。（$N<100,$ 台阶总数 $<1000$）", "outputFormat": "输出为一行用空格分开的两个整数 ：$A,B$， 表示把 $A$ 位置的小和尚移动到 $B$ 位置。若有多个解，输出 $A$ 值较小的解，若无解则输出 $-1$。", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2013 国 B] 高僧斗法", "background": "", "description": "古时丧葬活动中经常请高僧做法事。仪式结束后，有时会有“高僧斗法”的趣味节目，以舒缓压抑的气氛。\n\n节目大略步骤为：先用粮食（一般是稻米）在地上“画”出若干级台阶（表示 $N$ 级浮屠）。又有若干小和尚随机地“站”在某个台阶上。最高一级台阶必须站人，其它任意。（如图 $1$ 所示 )。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vnuni82v.png)\n\n两位参加游戏的法师分别指挥某个小和尚向上走任意多级的台阶，但会被站在高级台阶上的小和尚阻挡，不能越过。两个小和尚也不能站在同一台阶，也不能向低级台阶移动。\n\n两法师轮流发出指令，最后所有小和尚必然会都挤在高段台阶，再也不能向上移动。轮到哪个法师指挥时无法继续移动，则游戏结束，该法师认输。\n\n对于已知的台阶数和小和尚的分布位置，请你计算先发指令的法师该如何决策才能保证胜出。", "inputFormat": "输入数据为一行用空格分开的 $N$ 个整数，表示小和尚的位置。台阶序号从 $1$ 算起，所以最后一个小和尚的位置即是台阶的总数。（$N<100,$ 台阶总数 $<1000$）", "outputFormat": "输出为一行用空格分开的两个整数 ：$A,B$， 表示把 $A$ 位置的小和尚移动到 $B$ 位置。若有多个解，输出 $A$ 值较小的解，若无解则输出 $-1$。", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN"}}}
{"pid": "P8607", "type": "P", "difficulty": 3, "samples": [["2", "24"], ["3", "96"], ["22", "359635897"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["递推", "2013", "蓝桥杯国赛"], "title": "[蓝桥杯 2013 国 B] 格子刷油漆", "background": "", "description": "X 国的一段古城墙的顶端可以看成 $2 \\times N$ 个格子组成的矩形（如图 $1$ 所示），现需要把这些格子刷上保护漆。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k52ovrzc.png)\n\n你可以从任意一个格子刷起，刷完一格，可以移动到和它相邻的格子（对角相邻也算数），但不能移动到较远的格子（因为油漆未干不能踩！）\n\n比如：`adbcef` 就是合格的刷漆顺序。\n\n`cefdab` 是另一种合适的方案。\n\n当已知 $N$ 时，求总的方案数。当 $N$ 较大时，结果会迅速增大，请把结果对 $1000000007(10^9+7)$ 取模。", "inputFormat": "输入数据为一个正整数 $N$（不大于 $1000$）。", "outputFormat": "输出数据为一个正整数。", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2013 国 B] 格子刷油漆", "background": "", "description": "X 国的一段古城墙的顶端可以看成 $2 \\times N$ 个格子组成的矩形（如图 $1$ 所示），现需要把这些格子刷上保护漆。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/k52ovrzc.png)\n\n你可以从任意一个格子刷起，刷完一格，可以移动到和它相邻的格子（对角相邻也算数），但不能移动到较远的格子（因为油漆未干不能踩！）\n\n比如：`adbcef` 就是合格的刷漆顺序。\n\n`cefdab` 是另一种合适的方案。\n\n当已知 $N$ 时，求总的方案数。当 $N$ 较大时，结果会迅速增大，请把结果对 $1000000007(10^9+7)$ 取模。", "inputFormat": "输入数据为一个正整数 $N$（不大于 $1000$）。", "outputFormat": "输出数据为一个正整数。", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN"}}}
{"pid": "P8608", "type": "P", "difficulty": 5, "samples": [["10 10\n90.0\n1\n5 5 10 5", "21.46"], ["8 8\n90.0\n1\n4 4 10 5", "1.81\n"], ["20 10\n45.0\n2\n5 0 5 5\n8 6 14 6", "130.15"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["计算几何", "2013", "蓝桥杯国赛"], "title": "[蓝桥杯 2013 国 B] 农场阳光", "background": "", "description": "X 星球十分特殊，它的自转速度与公转速度相同，所以阳光总是以固定的角度照射。\n\n最近，X 星球为发展星际旅游业，把空间位置出租给 Y 国游客来晒太阳。每个租位是漂浮在空中的圆盘形彩云（圆盘与地面平行）。当然，这会遮挡住部分阳光，被遮挡的土地植物无法生长。\n\n本题的任务是计算某个农场宜于作物生长的土地面积有多大。", "inputFormat": "输入数据的第一行包含两个整数 $a,b$，表示某农场的长和宽分别是 $a$ 和 $b$，此时，该农场的范围是由坐标 $(0,0,0),(a,0,0),(a,b,0),(0,b,0)$ 围成的矩形区域。\n\n第二行包含一个实数 $g$，表示阳光照射的角度。简单起见，我们假设阳光光线是垂直于农场的宽的，此时正好和农场的长的夹角是 $g$ 度，此时，空间中的一点 $(x,y,z)$ 在地面的投影点应该是 $(x+z \\times \\ctg(g),y,0)$，其中 $\\ctg(g)$ 表示 $g$ 度对应的余切值。\n\n第三行包含一个非负整数 $n$，表示空中租位个数。\n\n接下来 $n$ 行，描述每个租位。其中第 $i$ 行包含 $4$ 个整数 $x_i,y_i,z_i,r_i$，表示第 $i$ 个租位彩云的圆心在 $(x_i,y_i,z_i)$ 位置，圆半径为 $r_i$。", "outputFormat": "要求输出一个实数，四舍五入保留两位有效数字，表示农场里能长庄稼的土地的面积。", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2013 国 B] 农场阳光", "background": "", "description": "X 星球十分特殊，它的自转速度与公转速度相同，所以阳光总是以固定的角度照射。\n\n最近，X 星球为发展星际旅游业，把空间位置出租给 Y 国游客来晒太阳。每个租位是漂浮在空中的圆盘形彩云（圆盘与地面平行）。当然，这会遮挡住部分阳光，被遮挡的土地植物无法生长。\n\n本题的任务是计算某个农场宜于作物生长的土地面积有多大。", "inputFormat": "输入数据的第一行包含两个整数 $a,b$，表示某农场的长和宽分别是 $a$ 和 $b$，此时，该农场的范围是由坐标 $(0,0,0),(a,0,0),(a,b,0),(0,b,0)$ 围成的矩形区域。\n\n第二行包含一个实数 $g$，表示阳光照射的角度。简单起见，我们假设阳光光线是垂直于农场的宽的，此时正好和农场的长的夹角是 $g$ 度，此时，空间中的一点 $(x,y,z)$ 在地面的投影点应该是 $(x+z \\times \\ctg(g),y,0)$，其中 $\\ctg(g)$ 表示 $g$ 度对应的余切值。\n\n第三行包含一个非负整数 $n$，表示空中租位个数。\n\n接下来 $n$ 行，描述每个租位。其中第 $i$ 行包含 $4$ 个整数 $x_i,y_i,z_i,r_i$，表示第 $i$ 个租位彩云的圆心在 $(x_i,y_i,z_i)$ 位置，圆半径为 $r_i$。", "outputFormat": "要求输出一个实数，四舍五入保留两位有效数字，表示农场里能长庄稼的土地的面积。", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN"}}}
{"pid": "P8609", "type": "P", "difficulty": 4, "samples": [["2 3 6\n3 6", "3"], ["1 2 2 3 3 4 5\n3 4 5", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2013", "数论", "深度优先搜索 DFS", "蓝桥杯国赛"], "title": "[蓝桥杯 2013 国 A] 约数倍数选卡片", "background": "", "description": "闲暇时，福尔摩斯和华生玩一个游戏：\n\n在 $N$ 张卡片上写有 $N$ 个整数。两人轮流拿走一张卡片。要求下一个人拿的数字一定是前一个人拿的数字的约数或倍数。例如，某次福尔摩斯拿走的卡片上写着数字“ $6$ ”，则接下来华生可以拿的数字包括：\n\n$1$，$2$，$3$，$6$，$12$，$18$，$24 \\cdots $。\n\n当轮到某一方拿卡片时，没有满足要求的卡片可选，则该方为输方。\n\n请你利用计算机的优势计算一下，在已知所有卡片上的数字和可选哪些数字的条件下，怎样选择才能保证必胜！\n\n当选多个数字都可以必胜时，输出其中最小的数字。如果无论如何都会输，则输出 $-1$。", "inputFormat": "输入数据为 $2$ 行。第一行是若干空格分开的整数（每个整数介于 $1 \\sim 100$ 间），表示当前剩余的所有卡片。\n\n第二行也是若干空格分开的整数，表示可以选的数字。当然，第二行的数字必须完全包含在第一行的数字中。", "outputFormat": "程序则输出必胜的招法！！", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2013 国 A] 约数倍数选卡片", "background": "", "description": "闲暇时，福尔摩斯和华生玩一个游戏：\n\n在 $N$ 张卡片上写有 $N$ 个整数。两人轮流拿走一张卡片。要求下一个人拿的数字一定是前一个人拿的数字的约数或倍数。例如，某次福尔摩斯拿走的卡片上写着数字“ $6$ ”，则接下来华生可以拿的数字包括：\n\n$1$，$2$，$3$，$6$，$12$，$18$，$24 \\cdots $。\n\n当轮到某一方拿卡片时，没有满足要求的卡片可选，则该方为输方。\n\n请你利用计算机的优势计算一下，在已知所有卡片上的数字和可选哪些数字的条件下，怎样选择才能保证必胜！\n\n当选多个数字都可以必胜时，输出其中最小的数字。如果无论如何都会输，则输出 $-1$。", "inputFormat": "输入数据为 $2$ 行。第一行是若干空格分开的整数（每个整数介于 $1 \\sim 100$ 间），表示当前剩余的所有卡片。\n\n第二行也是若干空格分开的整数，表示可以选的数字。当然，第二行的数字必须完全包含在第一行的数字中。", "outputFormat": "程序则输出必胜的招法！！", "hint": "时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN"}}}
{"pid": "P8610", "type": "P", "difficulty": 6, "samples": [["4 1.50\n0.00 0.00\n2.00 0.00\n4.00 -1.00\n6.00 -1.00", "6.22"], ["6 1.00\n0.00 0.00\n3.00 0.00\n5.00 -3.00\n6.00 2.00\n7.00 -1.00\n10.00 -1.00", "15.20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "2013", "蓝桥杯国赛"], "title": "[蓝桥杯 2013 国 A] 车轮轴迹", "background": "", "description": "栋栋每天骑自行车回家需要经过一条狭长的林荫道。道路由于年久失修，变得非常不平整。虽然栋栋每次都很颠簸，但他仍把骑车经过林荫道当成一种乐趣。\n\n由于颠簸，栋栋骑车回家的路径是一条上下起伏的曲线，栋栋想知道，他回家的这条曲线的长度究竟是多长呢？更准确的，栋栋想知道从林荫道的起点到林荫道的终点，他的车前轮的轴（圆心）经过的路径的长度。\n\n栋栋对路面进行了测量。他把道路简化成一条条长短不等的直线段，这些直线段首尾相连，且位于同一平面内。并在该平面内建立了一个直角坐标系，把所有线段的端点坐标都计算好。\n\n假设栋栋的自行车在行进的过程中前轮一直是贴着路面前进的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1vb89irr.png)\n\n图 $1$ 给出了一个简单的路面的例子，其中蓝色实线为路面，红色虚线为车轮轴经过的路径。在这个例子中，栋栋的前轮轴从 $A$ 点出发，水平走到 $B$ 点，然后绕着地面的 $F$ 点到 $C$ 点（绕出一个圆弧），再沿直线下坡到 $D$ 点，最后水平走到 $E$ 点，在这个图中地面的坐标依次为：$(0,0),(2,0),(4,-1),(6,-1)$，前轮半径为 $1.50$，前轮轴前进的距离依次为：\n\n$AB=2.0000$；弧长 $BC=0.6955$；$CD=1.8820$；$DE=1.6459$。\n\n总长度为 $6.2233$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z166vjw7.png)\n\n图 $2$ 给出了一个较为复杂的路面的例子，在这个例子中，车轮在第一个下坡还没下完时（$D$ 点）就开始上坡了，之后在坡的顶点要从 $E$ 绕一个较大的圆弧到 $F$ 点。这个图中前轮的半径为 $1$，每一段的长度依次为：\n\n$AB=3.0000$；弧长 $BC=0.9828$；$CD=1.1913$；$DE=2.6848$；弧长 $EF=2.6224$；$FG=2.4415$；$GH=2.2792$。\n\n总长度为 $15.2021$。\n\n现在给出了车轮的半径和路面的描述，请求出车轮轴轨迹的总长度。", "inputFormat": "输入的第一行包含一个整数 $n$ 和一个实数 $r$，用一个空格分隔，表示描述路面的坐标点数和车轮的半径。\n\n接下来 $n$ 行，每个包含两个实数，其中第 $i$ 行的两个实数 $x_i,y_i$ 表示描述路面的第 $i$ 个点的坐标。\n\n路面定义为所有路面坐标点顺次连接起来的折线。给定的路面的一定满足以下性质：\n\n* 第一个坐标点一定是 $(0,0)$；\n* 第一个点和第二个点的纵坐标相同；\n* 倒数第一个点和倒数第二个点的纵坐标相同；\n* 第一个点和第二个点的距离不少于车轮半径；\n* 倒数第一个点和倒数第二个点的的距离不少于车轮半径；\n* 后一个坐标点的横坐标大于前一个坐标点的横坐标，即对于所有的 $i$，$x_{i+1}>x_i$。", "outputFormat": "输出一个实数，四舍五入保留两个小数，表示车轮轴经过的总长度。\n\n你的结果必须和参考答案一模一样才能得分。数据保证答案精确值的小数点后第三位不是 $4$ 或 $5$。", "hint": "对于 $20\\%$ 的数据，$n=4$；\n\n对于 $40\\%$ 的数据，$n \\le 10$；\n\n对于 $100\\%$ 的数据，$4 \\le n \\le 100$，$0.5 \\le r \\le 20.0$，$x_i \\le 2000.0$，$-2000.0 \\le y_i \\le 2000.0$。\n\n时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2013 国 A] 车轮轴迹", "background": "", "description": "栋栋每天骑自行车回家需要经过一条狭长的林荫道。道路由于年久失修，变得非常不平整。虽然栋栋每次都很颠簸，但他仍把骑车经过林荫道当成一种乐趣。\n\n由于颠簸，栋栋骑车回家的路径是一条上下起伏的曲线，栋栋想知道，他回家的这条曲线的长度究竟是多长呢？更准确的，栋栋想知道从林荫道的起点到林荫道的终点，他的车前轮的轴（圆心）经过的路径的长度。\n\n栋栋对路面进行了测量。他把道路简化成一条条长短不等的直线段，这些直线段首尾相连，且位于同一平面内。并在该平面内建立了一个直角坐标系，把所有线段的端点坐标都计算好。\n\n假设栋栋的自行车在行进的过程中前轮一直是贴着路面前进的。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1vb89irr.png)\n\n图 $1$ 给出了一个简单的路面的例子，其中蓝色实线为路面，红色虚线为车轮轴经过的路径。在这个例子中，栋栋的前轮轴从 $A$ 点出发，水平走到 $B$ 点，然后绕着地面的 $F$ 点到 $C$ 点（绕出一个圆弧），再沿直线下坡到 $D$ 点，最后水平走到 $E$ 点，在这个图中地面的坐标依次为：$(0,0),(2,0),(4,-1),(6,-1)$，前轮半径为 $1.50$，前轮轴前进的距离依次为：\n\n$AB=2.0000$；弧长 $BC=0.6955$；$CD=1.8820$；$DE=1.6459$。\n\n总长度为 $6.2233$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z166vjw7.png)\n\n图 $2$ 给出了一个较为复杂的路面的例子，在这个例子中，车轮在第一个下坡还没下完时（$D$ 点）就开始上坡了，之后在坡的顶点要从 $E$ 绕一个较大的圆弧到 $F$ 点。这个图中前轮的半径为 $1$，每一段的长度依次为：\n\n$AB=3.0000$；弧长 $BC=0.9828$；$CD=1.1913$；$DE=2.6848$；弧长 $EF=2.6224$；$FG=2.4415$；$GH=2.2792$。\n\n总长度为 $15.2021$。\n\n现在给出了车轮的半径和路面的描述，请求出车轮轴轨迹的总长度。", "inputFormat": "输入的第一行包含一个整数 $n$ 和一个实数 $r$，用一个空格分隔，表示描述路面的坐标点数和车轮的半径。\n\n接下来 $n$ 行，每个包含两个实数，其中第 $i$ 行的两个实数 $x_i,y_i$ 表示描述路面的第 $i$ 个点的坐标。\n\n路面定义为所有路面坐标点顺次连接起来的折线。给定的路面的一定满足以下性质：\n\n* 第一个坐标点一定是 $(0,0)$；\n* 第一个点和第二个点的纵坐标相同；\n* 倒数第一个点和倒数第二个点的纵坐标相同；\n* 第一个点和第二个点的距离不少于车轮半径；\n* 倒数第一个点和倒数第二个点的的距离不少于车轮半径；\n* 后一个坐标点的横坐标大于前一个坐标点的横坐标，即对于所有的 $i$，$x_{i+1}>x_i$。", "outputFormat": "输出一个实数，四舍五入保留两个小数，表示车轮轴经过的总长度。\n\n你的结果必须和参考答案一模一样才能得分。数据保证答案精确值的小数点后第三位不是 $4$ 或 $5$。", "hint": "对于 $20\\%$ 的数据，$n=4$；\n\n对于 $40\\%$ 的数据，$n \\le 10$；\n\n对于 $100\\%$ 的数据，$4 \\le n \\le 100$，$0.5 \\le r \\le 20.0$，$x_i \\le 2000.0$，$-2000.0 \\le y_i \\le 2000.0$。\n\n时限 1 秒, 64M。蓝桥杯 2013 年第四届国赛", "locale": "zh-CN"}}}
{"pid": "P8611", "type": "P", "difficulty": 3, "samples": [["3\n5 -2 8", "1"], ["5\n-10 8 -20 12 25", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯省赛"], "title": "[蓝桥杯 2014 省 AB] 蚂蚁感冒", "background": "", "description": "长 $100$ 厘米的细长直杆子上有 $n$ 只蚂蚁。它们的头有的朝左，有的朝右。\n\n每只蚂蚁都只能沿着杆子向前爬，速度是 $1$ 厘米 / 秒。\n\n当两只蚂蚁碰面时，它们会同时掉头往相反的方向爬行。\n\n这些蚂蚁中，有 $1$ 只蚂蚁感冒了。并且在和其它蚂蚁碰面时，会把感冒传染给碰到的蚂蚁。\n\n请你计算，当所有蚂蚁都爬离杆子时，有多少只蚂蚁患上了感冒。", "inputFormat": "第一行输入一个整数 $n(1<n<50)$ 表示蚂蚁的总数。\n\n接着的一行是 $n$ 个用空格分开的整数 $X_i(-100<X_i<100)$，$X_i$ 的绝对值，表示蚂蚁离开杆子左边端点的距离。正值表示头朝右，负值表示头朝左，数据中不会出现 $0$ 值，也不会出现两只蚂蚁占用同一位置。其中，第一个数据代表的蚂蚁感冒了。\n\n", "outputFormat": "要求输出 $1$ 个整数，表示最后感冒蚂蚁的数目。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 省 AB] 蚂蚁感冒", "background": "", "description": "长 $100$ 厘米的细长直杆子上有 $n$ 只蚂蚁。它们的头有的朝左，有的朝右。\n\n每只蚂蚁都只能沿着杆子向前爬，速度是 $1$ 厘米 / 秒。\n\n当两只蚂蚁碰面时，它们会同时掉头往相反的方向爬行。\n\n这些蚂蚁中，有 $1$ 只蚂蚁感冒了。并且在和其它蚂蚁碰面时，会把感冒传染给碰到的蚂蚁。\n\n请你计算，当所有蚂蚁都爬离杆子时，有多少只蚂蚁患上了感冒。", "inputFormat": "第一行输入一个整数 $n(1<n<50)$ 表示蚂蚁的总数。\n\n接着的一行是 $n$ 个用空格分开的整数 $X_i(-100<X_i<100)$，$X_i$ 的绝对值，表示蚂蚁离开杆子左边端点的距离。正值表示头朝右，负值表示头朝左，数据中不会出现 $0$ 值，也不会出现两只蚂蚁占用同一位置。其中，第一个数据代表的蚂蚁感冒了。\n\n", "outputFormat": "要求输出 $1$ 个整数，表示最后感冒蚂蚁的数目。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8612", "type": "P", "difficulty": 3, "samples": [["2 2 2\n1 2\n2 1", "2"], ["2 3 2\n1 2 3\n2 1 5", "14"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯省赛"], "title": "[蓝桥杯 2014 省 AB] 地宫取宝", "background": "", "description": "X 国王有一个地宫宝库。是 $n \\times m$ 个格子的矩阵。每个格子放一件宝贝。每个宝贝贴着价值标签。\n\n地宫的入口在左上角，出口在右下角。\n\n小明被带到地宫的入口，国王要求他只能向右或向下行走。\n\n走过某个格子时，如果那个格子中的宝贝价值比小明手中任意宝贝价值都大，小明就可以拿起它（当然，也可以不拿）。\n\n当小明走到出口时，如果他手中的宝贝恰好是 $k$ 件，则这些宝贝就可以送给小明。\n\n请你帮小明算一算，在给定的局面下，他有多少种不同的行动方案能获得这 $k$ 件宝贝。", "inputFormat": "输入一行 $3$ 个整数，用空格分开：$n$，$m$，$k(1 \\le n,m \\le 50,1 \\le k \\le 12)$。\n\n接下来有 $n$ 行数据，每行有 $m$ 个整数 $C_i(0 \\le C_i \\le 12)$ 代表这个格子上的宝物的价值。\n\n", "outputFormat": "要求输出一个整数，表示正好取 $k$ 个宝贝的行动方案数。该数字可能很大，输出它对 $1000000007(10^9+7)$ 取模的结果。", "hint": "时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 省 AB] 地宫取宝", "background": "", "description": "X 国王有一个地宫宝库。是 $n \\times m$ 个格子的矩阵。每个格子放一件宝贝。每个宝贝贴着价值标签。\n\n地宫的入口在左上角，出口在右下角。\n\n小明被带到地宫的入口，国王要求他只能向右或向下行走。\n\n走过某个格子时，如果那个格子中的宝贝价值比小明手中任意宝贝价值都大，小明就可以拿起它（当然，也可以不拿）。\n\n当小明走到出口时，如果他手中的宝贝恰好是 $k$ 件，则这些宝贝就可以送给小明。\n\n请你帮小明算一算，在给定的局面下，他有多少种不同的行动方案能获得这 $k$ 件宝贝。", "inputFormat": "输入一行 $3$ 个整数，用空格分开：$n$，$m$，$k(1 \\le n,m \\le 50,1 \\le k \\le 12)$。\n\n接下来有 $n$ 行数据，每行有 $m$ 个整数 $C_i(0 \\le C_i \\le 12)$ 代表这个格子上的宝物的价值。\n\n", "outputFormat": "要求输出一个整数，表示正好取 $k$ 个宝贝的行动方案数。该数字可能很大，输出它对 $1000000007(10^9+7)$ 取模的结果。", "hint": "时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛", "locale": "zh-CN"}}}
{"pid": "P8613", "type": "P", "difficulty": 4, "samples": [["3\n3 2 1", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯省赛"], "title": "[蓝桥杯 2014 省 B] 小朋友排队", "background": "", "description": "$n$ 个小朋友站成一排。现在要把他们按身高从低到高的顺序排列，但是每次只能交换位置相邻的两个小朋友。\n\n每个小朋友都有一个不高兴的程度。开始的时候，所有小朋友的不高兴程度都是 $0$。\n\n如果某个小朋友第一次被要求交换，则他的不高兴程度增加 $1$，如果第二次要求他交换，则他的不高兴程度增加 $2$（即不高兴程度为 $3$），依次类推。当要求某个小朋友第 $k$ 次交换时，他的不高兴程度增加 $k$。\n\n请问，要让所有小朋友按从低到高排队，他们的不高兴程度之和最小是多少。\n\n如果有两个小朋友身高一样，则他们谁站在谁前面是没有关系的。", "inputFormat": "输入的第一行包含一个整数 $n$，表示小朋友的个数。\n\n第二行包含 $n$ 个整数 $H_1,H_2 \\cdots H_n$，分别表示每个小朋友的身高。", "outputFormat": "输出一行，包含一个整数，表示小朋友的不高兴程度和的最小值。", "hint": "【样例说明】\n\n首先交换身高为 $3$ 和 $2$ 的小朋友，再交换身高为 $3$ 和 $1$ 的小朋友，再交换身高为 $2$ 和 $1$ 的小朋友，每个小朋友的不高兴程度都是 $3$，总和为 $9$。\n\n【数据规模与约定】\n\n对于 $10\\%$ 的数据，$1 \\le n \\le 10$；\n\n对于 $30\\%$ 的数据，$1 \\le n \\le 1000$；\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 10000$；\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 100000$，$0 \\le H_i \\le 1000000$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 省 B] 小朋友排队", "background": "", "description": "$n$ 个小朋友站成一排。现在要把他们按身高从低到高的顺序排列，但是每次只能交换位置相邻的两个小朋友。\n\n每个小朋友都有一个不高兴的程度。开始的时候，所有小朋友的不高兴程度都是 $0$。\n\n如果某个小朋友第一次被要求交换，则他的不高兴程度增加 $1$，如果第二次要求他交换，则他的不高兴程度增加 $2$（即不高兴程度为 $3$），依次类推。当要求某个小朋友第 $k$ 次交换时，他的不高兴程度增加 $k$。\n\n请问，要让所有小朋友按从低到高排队，他们的不高兴程度之和最小是多少。\n\n如果有两个小朋友身高一样，则他们谁站在谁前面是没有关系的。", "inputFormat": "输入的第一行包含一个整数 $n$，表示小朋友的个数。\n\n第二行包含 $n$ 个整数 $H_1,H_2 \\cdots H_n$，分别表示每个小朋友的身高。", "outputFormat": "输出一行，包含一个整数，表示小朋友的不高兴程度和的最小值。", "hint": "【样例说明】\n\n首先交换身高为 $3$ 和 $2$ 的小朋友，再交换身高为 $3$ 和 $1$ 的小朋友，再交换身高为 $2$ 和 $1$ 的小朋友，每个小朋友的不高兴程度都是 $3$，总和为 $9$。\n\n【数据规模与约定】\n\n对于 $10\\%$ 的数据，$1 \\le n \\le 10$；\n\n对于 $30\\%$ 的数据，$1 \\le n \\le 1000$；\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 10000$；\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 100000$，$0 \\le H_i \\le 1000000$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛", "locale": "zh-CN"}}}
{"pid": "P8614", "type": "P", "difficulty": 3, "samples": [["4 10 2 3", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2014", "蓝桥杯省赛"], "title": "[蓝桥杯 2014 省 A] 波动数列", "background": "", "description": "观察这个数列：\n\n$1,3,0,2,-1,1,-2, \\cdots $。\n\n这个数列中后一项总是比前一项增加 $2$ 或者减少 $3$。\n\n栋栋对这种数列很好奇，他想知道长度为 $n$ 和为 $s$ 而且后一项总是比前一项增加 $a$ 或者减少 $b$ 的整数数列可能有多少种呢？", "inputFormat": "输入的第一行包含四个整数 $n,s,a,b$，含义如前面说述。", "outputFormat": "输出一行，包含一个整数，表示满足条件的方案数。由于这个数很大，请输出方案数除以 $100000007$ 的余数。", "hint": "【样例说明】\n\n这两个数列分别是 2 4 1 3 和 7 4 1 -2。\n\n【数据规模与约定】\n\n对于 $10\\%$ 的数据，$1 \\le n \\le 5$，$0 \\le s \\le 5$，$1 \\le a,b \\le 5$；\n\n对于 $30\\%$ 的数据，$1 \\le n \\le 30$，$0 \\le s \\le 30$，$1 \\le a,b \\le 30$；\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 50$，$0 \\le s \\le 50$，$1 \\le a,b \\le 50$；\n\n对于 $70\\%$ 的数据，$1 \\le n \\le 100$，$0 \\le s \\le 500$，$1 \\le a,b \\le 50$；\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$-10^9 \\le s \\le 10^9$，$1 \\le a,b \\le 10^6$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 省 A] 波动数列", "background": "", "description": "观察这个数列：\n\n$1,3,0,2,-1,1,-2, \\cdots $。\n\n这个数列中后一项总是比前一项增加 $2$ 或者减少 $3$。\n\n栋栋对这种数列很好奇，他想知道长度为 $n$ 和为 $s$ 而且后一项总是比前一项增加 $a$ 或者减少 $b$ 的整数数列可能有多少种呢？", "inputFormat": "输入的第一行包含四个整数 $n,s,a,b$，含义如前面说述。", "outputFormat": "输出一行，包含一个整数，表示满足条件的方案数。由于这个数很大，请输出方案数除以 $100000007$ 的余数。", "hint": "【样例说明】\n\n这两个数列分别是 2 4 1 3 和 7 4 1 -2。\n\n【数据规模与约定】\n\n对于 $10\\%$ 的数据，$1 \\le n \\le 5$，$0 \\le s \\le 5$，$1 \\le a,b \\le 5$；\n\n对于 $30\\%$ 的数据，$1 \\le n \\le 30$，$0 \\le s \\le 30$，$1 \\le a,b \\le 30$；\n\n对于 $50\\%$ 的数据，$1 \\le n \\le 50$，$0 \\le s \\le 50$，$1 \\le a,b \\le 50$；\n\n对于 $70\\%$ 的数据，$1 \\le n \\le 100$，$0 \\le s \\le 500$，$1 \\le a,b \\le 50$；\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 1000$，$-10^9 \\le s \\le 10^9$，$1 \\le a,b \\le 10^6$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届省赛", "locale": "zh-CN"}}}
{"pid": "P8615", "type": "P", "difficulty": 2, "samples": [["169 10000", "169\n361\n1225\n1444\n1681\n3249\n4225\n4900\n9025"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 C] 拼接平方数", "background": "", "description": "小明发现 $49$ 很有趣，首先，它是个平方数。它可以拆分为 $4$ 和 $9$，拆分出来的部分也是平方数。$169$ 也有这个性质，我们权且称它们为：拼接平方数。\n\n$100$ 可拆分 $1,00$，这有点勉强，我们规定，$0,00,000$ 等都不算平方数。\n\n小明想：还有哪些数字是这样的呢？\n\n你的任务出现了：找到某个区间的所有拼接平方数。", "inputFormat": "两个正整数 $a,b(a<b<10^6)$。", "outputFormat": "若干行，每行一个正整数。表示所有的区间 $[a,b]$ 中的拼接平方数，从小到大输出。", "hint": "时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 C] 拼接平方数", "background": "", "description": "小明发现 $49$ 很有趣，首先，它是个平方数。它可以拆分为 $4$ 和 $9$，拆分出来的部分也是平方数。$169$ 也有这个性质，我们权且称它们为：拼接平方数。\n\n$100$ 可拆分 $1,00$，这有点勉强，我们规定，$0,00,000$ 等都不算平方数。\n\n小明想：还有哪些数字是这样的呢？\n\n你的任务出现了：找到某个区间的所有拼接平方数。", "inputFormat": "两个正整数 $a,b(a<b<10^6)$。", "outputFormat": "若干行，每行一个正整数。表示所有的区间 $[a,b]$ 中的拼接平方数，从小到大输出。", "hint": "时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN"}}}
{"pid": "P8616", "type": "P", "difficulty": 5, "samples": [["5 5\n5 3\n5 4\n3 2\n3 1\nQ 1\nQ 4\nP 2\nQ 1\nQ 4", "2\n1\n2\n0\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 C] 套娃", "background": null, "description": "作为 drd 送的生日礼物，atm 最近得到了一个俄罗斯娃娃。他对这个俄罗斯娃娃的构造很感兴趣。\n\n俄罗斯娃娃是一层一层套起来的。假设：一个大小为 $x$ 的俄罗斯娃娃里面可能会放任意多个大小小于 $x$ 的俄罗斯娃娃（而市场上的套娃一般大娃里只能放一个小娃）。\n\ndrd 告诉 atm，这个俄罗斯娃娃是由 $n$ 个小娃娃组成的，它们的大小各不相同。我们把这些小娃娃的大小从小到大依次记为 $1$ 到 $n$。\n\n如果 atm 想观赏大小为 $k$ 的小娃娃，他会先看这个小娃娃是否已经在桌子上了。如果已经在桌子上，那么他就可以观赏了。否则他就打开桌子上某一个俄罗斯娃娃，将它套住的所有的小娃娃拿出来，摆在桌子上。\n\n一开始桌子上只有 drd 送的大小为 $n$ 的娃娃。注意，他只会将其中所有小娃娃拿出来，如果小娃娃里面还套着另外的小娃娃，他是不会将这些更里层的这些小娃娃拿出来的。\n\n而且 atm 天生具有最优化的强迫症。他会最小化他所需要打开的娃娃的数目。\n\natm 是一个怪人。有时候他只想知道观看大小为 $x$ 的娃娃时需要打开多少个娃娃（但并不去打开）；有时候听 drd 说某个娃娃特别漂亮，于是他会打开看。现在请你输出他每次需要打开多少个娃娃。", "inputFormat": "第一行两个数 $n,m$，表示娃娃的数目以及 atm 想看的娃娃的数目。\n\n接下来 $n-1$ 行，每行两个数 $u,v$，表示大小为 $u$ 的娃娃里面套着一个大小为 $v$ 的娃娃。保证 $u>v$。\n\n接下来 $m$ 行，每行形如：\n\n- `P x`：表示 atm 一定要看到大小为 $x$ 的娃娃（这会打开 $x$ 且打开的 $x$ 不计入答案总数）；\n\n- `Q x`：表示 atm 只想知道为了看大小为 $x$ 的娃娃，他需要打开多少个娃娃，但实际上并不打开他们。", "outputFormat": "输出 $m$ 行。对应输入中 $P$ 操作或 $Q$ 操作需要打开（或假想打开）多少个俄罗斯娃娃。", "hint": "对于 $30\\%$ 的数据：$n,m \\le 1000$。\n\n对于 $100\\%$ 的数据：$n,m \\le 100000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 C] 套娃", "background": null, "description": "作为 drd 送的生日礼物，atm 最近得到了一个俄罗斯娃娃。他对这个俄罗斯娃娃的构造很感兴趣。\n\n俄罗斯娃娃是一层一层套起来的。假设：一个大小为 $x$ 的俄罗斯娃娃里面可能会放任意多个大小小于 $x$ 的俄罗斯娃娃（而市场上的套娃一般大娃里只能放一个小娃）。\n\ndrd 告诉 atm，这个俄罗斯娃娃是由 $n$ 个小娃娃组成的，它们的大小各不相同。我们把这些小娃娃的大小从小到大依次记为 $1$ 到 $n$。\n\n如果 atm 想观赏大小为 $k$ 的小娃娃，他会先看这个小娃娃是否已经在桌子上了。如果已经在桌子上，那么他就可以观赏了。否则他就打开桌子上某一个俄罗斯娃娃，将它套住的所有的小娃娃拿出来，摆在桌子上。\n\n一开始桌子上只有 drd 送的大小为 $n$ 的娃娃。注意，他只会将其中所有小娃娃拿出来，如果小娃娃里面还套着另外的小娃娃，他是不会将这些更里层的这些小娃娃拿出来的。\n\n而且 atm 天生具有最优化的强迫症。他会最小化他所需要打开的娃娃的数目。\n\natm 是一个怪人。有时候他只想知道观看大小为 $x$ 的娃娃时需要打开多少个娃娃（但并不去打开）；有时候听 drd 说某个娃娃特别漂亮，于是他会打开看。现在请你输出他每次需要打开多少个娃娃。", "inputFormat": "第一行两个数 $n,m$，表示娃娃的数目以及 atm 想看的娃娃的数目。\n\n接下来 $n-1$ 行，每行两个数 $u,v$，表示大小为 $u$ 的娃娃里面套着一个大小为 $v$ 的娃娃。保证 $u>v$。\n\n接下来 $m$ 行，每行形如：\n\n- `P x`：表示 atm 一定要看到大小为 $x$ 的娃娃（这会打开 $x$ 且打开的 $x$ 不计入答案总数）；\n\n- `Q x`：表示 atm 只想知道为了看大小为 $x$ 的娃娃，他需要打开多少个娃娃，但实际上并不打开他们。", "outputFormat": "输出 $m$ 行。对应输入中 $P$ 操作或 $Q$ 操作需要打开（或假想打开）多少个俄罗斯娃娃。", "hint": "对于 $30\\%$ 的数据：$n,m \\le 1000$。\n\n对于 $100\\%$ 的数据：$n,m \\le 100000$。", "locale": "zh-CN"}}}
{"pid": "P8617", "type": "P", "difficulty": 6, "samples": [["ababa", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2014", "后缀自动机 SAM", "后缀数组 SA", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 AC] 重复模式", "background": "", "description": "作为 drd 的好朋友，技术男 atm 在 drd 生日时送给他一个超长字符串 $S$。atm 要 drd 在其中找出一个最长的字符串 $T$，使得 $T$ 在 $S$ 中至少出现了两次，而他想说的秘密就藏在 $T$ 中。\n\n由于字符串实在是太长了，drd 总是找不到合适的 $T$。于是 drd 请你帮他找到这个 $T$ 的长度。", "inputFormat": "一行。一个字符串，即题目中说的 $S$。", "outputFormat": "一行。一个整数，表示最长的 $T$ 的长度。", "hint": "对于 $30\\%$ 的数据，$S$ 长度 $ \\le 100$。\n\n对于 $60\\%$ 的数据，$S$ 长度 $ \\le 8000$。\n\n对于 $100\\%$ 的数据，$S$ 长度 $ \\le 500000$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 AC] 重复模式", "background": "", "description": "作为 drd 的好朋友，技术男 atm 在 drd 生日时送给他一个超长字符串 $S$。atm 要 drd 在其中找出一个最长的字符串 $T$，使得 $T$ 在 $S$ 中至少出现了两次，而他想说的秘密就藏在 $T$ 中。\n\n由于字符串实在是太长了，drd 总是找不到合适的 $T$。于是 drd 请你帮他找到这个 $T$ 的长度。", "inputFormat": "一行。一个字符串，即题目中说的 $S$。", "outputFormat": "一行。一个整数，表示最长的 $T$ 的长度。", "hint": "对于 $30\\%$ 的数据，$S$ 长度 $ \\le 100$。\n\n对于 $60\\%$ 的数据，$S$ 长度 $ \\le 8000$。\n\n对于 $100\\%$ 的数据，$S$ 长度 $ \\le 500000$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN"}}}
{"pid": "P8618", "type": "P", "difficulty": 4, "samples": [["3 3\n5 6 4\n1 2\n2 3\n1 3", "10\n8\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 B] Log 大侠", "background": "", "description": "atm 参加了速算训练班，经过刻苦修炼，对以 $2$ 为底的对数算得飞快，人称 Log 大侠。\n\n一天，Log 大侠的好友 drd 有一些整数序列需要变换，Log 大侠正好施展法力。\n\n变换的规则是：对其某个子序列的每个整数变为 $[\\log_2(x)+1]$ 其中 [] 表示向下取整，就是对每个数字求以 $2$ 为底的对数，然后取下整。\n\n例如对序列 $3,4,2$ 操作一次后，这个序列会变成 $2,3,2$。\n\ndrd 需要知道，每次这样操作后，序列的和是多少。", "inputFormat": "第一行两个正整数 $n,m$。\n\n第二行 $n$ 个数，表示整数序列，都是正数。\n\n接下来 $m$ 行，每行两个数 $L$，$R$ 表示 atm 这次操作的是区间 $[L,R]$，数列序号从 $1$ 开始。", "outputFormat": "输出 $m$ 行，依次表示 atm 每做完一个操作后，整个序列的和。", "hint": "对于 $30\\%$ 的数据，$n,m \\le 10^3$。\n\n对于 $100\\%$ 的数据，$n,m \\le 10^5$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛\n\n官方数据似乎有错。重造数据按照 $1 \\leq a_i \\leq 10^9$ 设计。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 B] Log 大侠", "background": "", "description": "atm 参加了速算训练班，经过刻苦修炼，对以 $2$ 为底的对数算得飞快，人称 Log 大侠。\n\n一天，Log 大侠的好友 drd 有一些整数序列需要变换，Log 大侠正好施展法力。\n\n变换的规则是：对其某个子序列的每个整数变为 $[\\log_2(x)+1]$ 其中 [] 表示向下取整，就是对每个数字求以 $2$ 为底的对数，然后取下整。\n\n例如对序列 $3,4,2$ 操作一次后，这个序列会变成 $2,3,2$。\n\ndrd 需要知道，每次这样操作后，序列的和是多少。", "inputFormat": "第一行两个正整数 $n,m$。\n\n第二行 $n$ 个数，表示整数序列，都是正数。\n\n接下来 $m$ 行，每行两个数 $L$，$R$ 表示 atm 这次操作的是区间 $[L,R]$，数列序号从 $1$ 开始。", "outputFormat": "输出 $m$ 行，依次表示 atm 每做完一个操作后，整个序列的和。", "hint": "对于 $30\\%$ 的数据，$n,m \\le 10^3$。\n\n对于 $100\\%$ 的数据，$n,m \\le 10^5$。\n\n时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛\n\n官方数据似乎有错。重造数据按照 $1 \\leq a_i \\leq 10^9$ 设计。", "locale": "zh-CN"}}}
{"pid": "P8619", "type": "P", "difficulty": 0, "samples": [["3 3\n65 -6 -11\n15 65 32\n-8 5 66\n4 1 6\n7 3 11\n23 21 22\n5 25 22\n26 1 1 13\n16 3 3 4\n6 3 1 2", "123"], ["6 6\n72 2 -7 1 43 -12\n74 74 -14 35 5 3\n31 71 -12 70 38 66\n40 -6 8 52 3 78\n50 11 62 20 -6 61\n76 55 67 28 -19 68\n25 4 5 8 30 5\n9 20 29 20 6 18\n3 19 20 11 5 15\n10 3 19 23 6 24\n27 8 16 10 5 22\n28 14 1 5 1 24\n2 13 15 17 23 28\n24 11 27 16 12 13 27\n19 15 21 6 21 11 5\n2 3 1 11 10 20 9\n8 28 1 21 9 5 7\n16 20 26 2 22 5 12\n30 27 16 26 9 6 23", "870"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 B] 殖民地", "background": "", "description": "带着殖民扩张的野心，Pear 和他的星际舰队登上 X 星球的某平原。为了评估这块土地的潜在价值，Pear 把它划分成了 $M \\times N$ 格，每个格子上用一个整数（可正可负）表示它的价值。\n\nPear 要做的事很简单——选择一些格子，占领这些土地，通过建立围栏把它们和其它土地隔开。对于 $M \\times N$ 的格子，一共有 $(M+1) \\times N+M \\times (N+1)$ 条围栏，即每个格子都有上下左右四个围栏；不在边界上的围栏被相邻的两个格子公用。大概如下图 $1$ 所示。\n\n图中，蓝色的一段是围栏，属于格子 $1$ 和 $2$；红色的一段是围栏，属于格子 $3$ 和 $4$。\n\n每个格子有一个可正可负的收益，而建围栏的代价则一定是正的。\n\n你需要选择一些格子，然后选择一些围栏把它们围起来，使得所有选择的格子和所有没被选的格子严格的被隔开。选择的格子可以不连通，也可以有“洞”，即一个连通块中间有一些格子没选。注意，若中间有“洞”，那么根据定义，“洞”和连通块也必须被隔开。\n\nPear 的目标很明确，花最小的代价，获得最大的收益。", "inputFormat": "输入第一行两个正整数 $M,N$，表示行数和列数。\n\n接下来 $M$ 行，每行 $N$ 个整数，构成矩阵 $A$，$A_{i,j}$ 表示第 $i$ 行第 $j$ 列格子的价值。\n\n接下来 $M+1$ 行，每行 $N$ 个整数，构成矩阵 $B$，$B_{i,j}$ 表示第 $i$ 行第 $j$ 列上方的围栏建立代价。\n\n特别的，$B_{M+1,j}$ 表示第 $M$ 行第 $j$ 列下方的围栏建立代价。\n\n接下来 $M$ 行，每行 $N+1$ 个整数，构成矩阵 $C$，$C_{i,j}$ 表示第 $i$ 行第 $j$ 列左方的围栏建立代价。\n\n特别的，$C_{i,N+1}$ 表示第 $i$ 行第 $N$ 列右方的围栏建立代价。", "outputFormat": "一行。只有一个正整数，表示最大收益。", "hint": "对于 $20\\%$ 的数据，$M,N \\le 4$。\n\n对于 $50\\%$ 的数据，$M,N \\le 15$。\n\n对于 $100\\%$ 的数据，$M,N \\le 200$。\n\n$A,B,C$ 数组（所有的涉及到的格子、围栏输入数据）绝对值均不超过 $1000$。根据题意，$A$ 数组可正可负，$B,C$ 数组均为正整数。\n\n时限 3 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 B] 殖民地", "background": "", "description": "带着殖民扩张的野心，Pear 和他的星际舰队登上 X 星球的某平原。为了评估这块土地的潜在价值，Pear 把它划分成了 $M \\times N$ 格，每个格子上用一个整数（可正可负）表示它的价值。\n\nPear 要做的事很简单——选择一些格子，占领这些土地，通过建立围栏把它们和其它土地隔开。对于 $M \\times N$ 的格子，一共有 $(M+1) \\times N+M \\times (N+1)$ 条围栏，即每个格子都有上下左右四个围栏；不在边界上的围栏被相邻的两个格子公用。大概如下图 $1$ 所示。\n\n图中，蓝色的一段是围栏，属于格子 $1$ 和 $2$；红色的一段是围栏，属于格子 $3$ 和 $4$。\n\n每个格子有一个可正可负的收益，而建围栏的代价则一定是正的。\n\n你需要选择一些格子，然后选择一些围栏把它们围起来，使得所有选择的格子和所有没被选的格子严格的被隔开。选择的格子可以不连通，也可以有“洞”，即一个连通块中间有一些格子没选。注意，若中间有“洞”，那么根据定义，“洞”和连通块也必须被隔开。\n\nPear 的目标很明确，花最小的代价，获得最大的收益。", "inputFormat": "输入第一行两个正整数 $M,N$，表示行数和列数。\n\n接下来 $M$ 行，每行 $N$ 个整数，构成矩阵 $A$，$A_{i,j}$ 表示第 $i$ 行第 $j$ 列格子的价值。\n\n接下来 $M+1$ 行，每行 $N$ 个整数，构成矩阵 $B$，$B_{i,j}$ 表示第 $i$ 行第 $j$ 列上方的围栏建立代价。\n\n特别的，$B_{M+1,j}$ 表示第 $M$ 行第 $j$ 列下方的围栏建立代价。\n\n接下来 $M$ 行，每行 $N+1$ 个整数，构成矩阵 $C$，$C_{i,j}$ 表示第 $i$ 行第 $j$ 列左方的围栏建立代价。\n\n特别的，$C_{i,N+1}$ 表示第 $i$ 行第 $N$ 列右方的围栏建立代价。", "outputFormat": "一行。只有一个正整数，表示最大收益。", "hint": "对于 $20\\%$ 的数据，$M,N \\le 4$。\n\n对于 $50\\%$ 的数据，$M,N \\le 15$。\n\n对于 $100\\%$ 的数据，$M,N \\le 200$。\n\n$A,B,C$ 数组（所有的涉及到的格子、围栏输入数据）绝对值均不超过 $1000$。根据题意，$A$ 数组可正可负，$B,C$ 数组均为正整数。\n\n时限 3 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN"}}}
{"pid": "P8620", "type": "P", "difficulty": 3, "samples": [["bdca", "11"], ["cedab", "70"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 A] 排列序数", "background": "", "description": "如果用 a b c d 这 $4$ 个字母组成一个串，有 $4!=24$ 种，如果把它们排个序，每个串都对应一个序号：\n\n```text\n  abcd  0\n  abdc  1\n  acbd  2\n  acdb  3\n  adbc  4\n  adcb  5\n  bacd  6\n  badc  7\n  bcad  8\n  bcda  9\n  bdac  10\n  bdca  11\n  cabd  12\n  cadb  13\n  cbad  14\n  cbda  15\n  cdab  16\n  cdba  17\n  ...\n```\n\n现在有不多于10个两两不同的小写字母，给出它们组成的串，你能求出该串在所有排列中的序号吗？\n", "inputFormat": "一行，一个串。", "outputFormat": "一行，一个整数，表示该串在其字母所有排列生成的串中的序号。注意：最小的序号是 $0$。\n", "hint": "时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 A] 排列序数", "background": "", "description": "如果用 a b c d 这 $4$ 个字母组成一个串，有 $4!=24$ 种，如果把它们排个序，每个串都对应一个序号：\n\n```text\n  abcd  0\n  abdc  1\n  acbd  2\n  acdb  3\n  adbc  4\n  adcb  5\n  bacd  6\n  badc  7\n  bcad  8\n  bcda  9\n  bdac  10\n  bdca  11\n  cabd  12\n  cadb  13\n  cbad  14\n  cbda  15\n  cdab  16\n  cdba  17\n  ...\n```\n\n现在有不多于10个两两不同的小写字母，给出它们组成的串，你能求出该串在所有排列中的序号吗？\n", "inputFormat": "一行，一个串。", "outputFormat": "一行，一个整数，表示该串在其字母所有排列生成的串中的序号。注意：最小的序号是 $0$。\n", "hint": "时限 1 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN"}}}
{"pid": "P8621", "type": "P", "difficulty": 0, "samples": [["4 3 2\n1 1 1\n3 1 0\n3 1 1", "11"], ["7 9 4\n2 3 0\n7 2 0\n6 3 1\n6 1 0\n2 1 1\n3 3 1\n5 2 0\n2 2 1\n7 1 0", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 A] 供水设施", "background": "", "description": "X 星球的居民点很多。Pear 决定修建一个浩大的水利工程，以解决他管辖的 $N$ 个居民点的供水问题。现在一共有 $N$ 个水塔，同时也有 $N$ 个居民点，居民点在北侧从 $1$ 号到 $N$ 号自西向东排成一排；水塔在南侧也从 $1$ 号到 $N$ 号自西向东排成一排。\n\n$N$ 条单向输水线（有水泵动力），将水从南侧的水塔引到北侧对应的居民点。\n\n我们不妨将居民点和水塔都看做平面上的点，居民点坐标为 $(1,K) \\sim (N,K)$，水塔为 $(1,0) \\sim (N,0)$。\n\n除了 $N$ 条纵向输水线以外，还有 $M$ 条单向的横向输水线，连接 $(X_i,Y_i)$ 和 $((X_i)+1,Y_i)$ 或者 $(X_i,Y_i)$ 和 $((X_i)-1,Y_i)$。前者被称为向右的水路，而后者是向左的。不会有两条水路重叠，即便它们方向不同。\n\n布局的示意图如所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9ih8piae.png)\n\n显然，每个水塔的水都可以到达若干个居民点（而不仅仅是对应的那个）。例如上图中，$4$ 号水塔可以到达 $3$ 、 $4$ 、 $5$ 、 $6$ 四个居民点。\n\n现在 Pear 决定在此基础上，再修建一条横向单向输水线。为了方便考虑，Pear 认为这条水路应当是自左向右的，也就是连接了一个点和它右侧的点（例如上图中连接 $5$ 和 $6$ 两个纵线的横向水路）。\n\nPear 的目标是，修建了这条水路之后，能有尽可能多对水塔和居民点之间能到达。换句话说，设修建之后第 $i$ 个水塔能到达 $A_i$ 个点，你要最大化 $A_1+A_2+ \\cdots +A_n$。\n\n根据定义，这条路必须和 X 轴平行，但 Y 坐标不一定要是整数。注意：虽然输入中没有重叠的水路，但是你的方案可以将新修的输水线路与已有的水路重叠。", "inputFormat": "输入第一行包含三个正整数 $N$，$M$，$K$，含义如题面所述：$N$ 是纵向线数，$M$ 横向线数，$K$ 是居民点纵坐标。\n\n接下来 $M$ 行，每行三个整数。前两个正整数 $X_i,Y_i$ 表示水路的起点坐标；\n\n$1 \\le X_i \\le N,0<Y_i<K$。\n\n接下来一个数 $0$ 或者 $1$，如果是 $0$ 表示这条水路向左，否则向右。\n\n保证水路都是合法的，也就是不会流向没有定义的地方。", "outputFormat": "输出一行。是一个正整数，即：题目中要求的最大化的 $A_1+A_2+ \\cdots +A_n$。", "hint": "对于 $20\\%$ 的数据，$N,K \\le 20$，$M \\le 100$。\n\n对于 $40\\%$ 的数据，$N,K \\le 100$，$M \\le 1000$。\n\n对于 $60\\%$ 的数据，$N,K \\le 1000$，$M \\le 100000$。\n\n对于 $100\\%$ 的数据，$N,K \\le 50000$，$M \\le 10^5$。\n\n时限 4 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 A] 供水设施", "background": "", "description": "X 星球的居民点很多。Pear 决定修建一个浩大的水利工程，以解决他管辖的 $N$ 个居民点的供水问题。现在一共有 $N$ 个水塔，同时也有 $N$ 个居民点，居民点在北侧从 $1$ 号到 $N$ 号自西向东排成一排；水塔在南侧也从 $1$ 号到 $N$ 号自西向东排成一排。\n\n$N$ 条单向输水线（有水泵动力），将水从南侧的水塔引到北侧对应的居民点。\n\n我们不妨将居民点和水塔都看做平面上的点，居民点坐标为 $(1,K) \\sim (N,K)$，水塔为 $(1,0) \\sim (N,0)$。\n\n除了 $N$ 条纵向输水线以外，还有 $M$ 条单向的横向输水线，连接 $(X_i,Y_i)$ 和 $((X_i)+1,Y_i)$ 或者 $(X_i,Y_i)$ 和 $((X_i)-1,Y_i)$。前者被称为向右的水路，而后者是向左的。不会有两条水路重叠，即便它们方向不同。\n\n布局的示意图如所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9ih8piae.png)\n\n显然，每个水塔的水都可以到达若干个居民点（而不仅仅是对应的那个）。例如上图中，$4$ 号水塔可以到达 $3$ 、 $4$ 、 $5$ 、 $6$ 四个居民点。\n\n现在 Pear 决定在此基础上，再修建一条横向单向输水线。为了方便考虑，Pear 认为这条水路应当是自左向右的，也就是连接了一个点和它右侧的点（例如上图中连接 $5$ 和 $6$ 两个纵线的横向水路）。\n\nPear 的目标是，修建了这条水路之后，能有尽可能多对水塔和居民点之间能到达。换句话说，设修建之后第 $i$ 个水塔能到达 $A_i$ 个点，你要最大化 $A_1+A_2+ \\cdots +A_n$。\n\n根据定义，这条路必须和 X 轴平行，但 Y 坐标不一定要是整数。注意：虽然输入中没有重叠的水路，但是你的方案可以将新修的输水线路与已有的水路重叠。", "inputFormat": "输入第一行包含三个正整数 $N$，$M$，$K$，含义如题面所述：$N$ 是纵向线数，$M$ 横向线数，$K$ 是居民点纵坐标。\n\n接下来 $M$ 行，每行三个整数。前两个正整数 $X_i,Y_i$ 表示水路的起点坐标；\n\n$1 \\le X_i \\le N,0<Y_i<K$。\n\n接下来一个数 $0$ 或者 $1$，如果是 $0$ 表示这条水路向左，否则向右。\n\n保证水路都是合法的，也就是不会流向没有定义的地方。", "outputFormat": "输出一行。是一个正整数，即：题目中要求的最大化的 $A_1+A_2+ \\cdots +A_n$。", "hint": "对于 $20\\%$ 的数据，$N,K \\le 20$，$M \\le 100$。\n\n对于 $40\\%$ 的数据，$N,K \\le 100$，$M \\le 1000$。\n\n对于 $60\\%$ 的数据，$N,K \\le 1000$，$M \\le 100000$。\n\n对于 $100\\%$ 的数据，$N,K \\le 50000$，$M \\le 10^5$。\n\n时限 4 秒, 256M。蓝桥杯 2014 年第五届国赛", "locale": "zh-CN"}}}
{"pid": "P8622", "type": "P", "difficulty": 3, "samples": [["5 2 3", "2"], ["10 3 6", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2014", "蓝桥杯国赛"], "title": "[蓝桥杯 2014 国 B] 生物芯片", "background": "", "description": "X 博士正在研究一种生物芯片，其逻辑密集度、容量都远远高于普通的半导体芯片。\n\n博士在芯片中设计了 $n$ 个微型光源，每个光源操作一次就会改变其状态，即：点亮转为关闭，或关闭转为点亮。\n\n这些光源的编号从 $1$ 到 $n$，开始的时候所有光源都是关闭的。\n\n博士计划在芯片上执行如下动作：\n\n所有编号为 $2$ 的倍数的光源操作一次，也就是把 $2,4,6,8,\\cdots$ 等序号光源打开\n\n所有编号为 $3$ 的倍数的光源操作一次, 也就是对 $3,6,9,\\cdots$ 等序号光源操作，注意此时 $6$ 号光源又关闭了。\n\n所有编号为 $4$ 的倍数的光源操作一次。\n\n…\n\n直到编号为 $n$ 的倍数的光源操作一次。\n\nX 博士想知道：经过这些操作后，某个区间中的哪些光源是点亮的。\n", "inputFormat": "3 个用空格分开的整数：$N$，$L$，$R$。 ($L < R < N < 10^{15}$)\n\n$N$ 表示光源数，$L$ 表示区间的左边界，$R$ 表示区间的右边界。", "outputFormat": "输出 $1$ 个整数，表示经过所有操作后，$[L, R]$ 区间中有多少个光源是点亮的。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2014 国 B] 生物芯片", "background": "", "description": "X 博士正在研究一种生物芯片，其逻辑密集度、容量都远远高于普通的半导体芯片。\n\n博士在芯片中设计了 $n$ 个微型光源，每个光源操作一次就会改变其状态，即：点亮转为关闭，或关闭转为点亮。\n\n这些光源的编号从 $1$ 到 $n$，开始的时候所有光源都是关闭的。\n\n博士计划在芯片上执行如下动作：\n\n所有编号为 $2$ 的倍数的光源操作一次，也就是把 $2,4,6,8,\\cdots$ 等序号光源打开\n\n所有编号为 $3$ 的倍数的光源操作一次, 也就是对 $3,6,9,\\cdots$ 等序号光源操作，注意此时 $6$ 号光源又关闭了。\n\n所有编号为 $4$ 的倍数的光源操作一次。\n\n…\n\n直到编号为 $n$ 的倍数的光源操作一次。\n\nX 博士想知道：经过这些操作后，某个区间中的哪些光源是点亮的。\n", "inputFormat": "3 个用空格分开的整数：$N$，$L$，$R$。 ($L < R < N < 10^{15}$)\n\n$N$ 表示光源数，$L$ 表示区间的左边界，$R$ 表示区间的右边界。", "outputFormat": "输出 $1$ 个整数，表示经过所有操作后，$[L, R]$ 区间中有多少个光源是点亮的。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P8623", "type": "P", "difficulty": 2, "samples": [["6 8 2", "4"], ["4 7 20", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "2015", "蓝桥杯省赛"], "title": "[蓝桥杯 2015 省 B] 移动距离", "background": "", "description": "X 星球居民小区的楼房全是一样的，并且按矩阵样式排列。其楼房的编号为 $1,2,3, \\cdots $ 。\n\n当排满一行时，从下一行相邻的楼往反方向排号。\n\n比如：当小区排号宽度为 $6$ 时，开始情形如下：\n\n```\n1  2  3  4  5  6\n12 11 10 9  8  7\n13 14 15 .....\n```\n\n我们的问题是：已知了两个楼号 $m$ 和 $n$，需要求出它们之间的最短移动距离。（不能斜线方向移动）", "inputFormat": "输入为 $3$ 个整数 $w,m,n$，空格分开，都在 $1$ 到 $10000$ 范围内。\n\n$w$ 为排号宽度，$m,n$ 为待计算的楼号。", "outputFormat": "要求输出一个整数，表示 $m$ 与 $n$ 两楼间最短移动距离。", "hint": "时限 1 秒, 256M。\n\n蓝桥杯 2015 年省赛 B 组 H 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 省 B] 移动距离", "background": "", "description": "X 星球居民小区的楼房全是一样的，并且按矩阵样式排列。其楼房的编号为 $1,2,3, \\cdots $ 。\n\n当排满一行时，从下一行相邻的楼往反方向排号。\n\n比如：当小区排号宽度为 $6$ 时，开始情形如下：\n\n```\n1  2  3  4  5  6\n12 11 10 9  8  7\n13 14 15 .....\n```\n\n我们的问题是：已知了两个楼号 $m$ 和 $n$，需要求出它们之间的最短移动距离。（不能斜线方向移动）", "inputFormat": "输入为 $3$ 个整数 $w,m,n$，空格分开，都在 $1$ 到 $10000$ 范围内。\n\n$w$ 为排号宽度，$m,n$ 为待计算的楼号。", "outputFormat": "要求输出一个整数，表示 $m$ 与 $n$ 两楼间最短移动距离。", "hint": "时限 1 秒, 256M。\n\n蓝桥杯 2015 年省赛 B 组 H 题。", "locale": "zh-CN"}}}
{"pid": "P8624", "type": "P", "difficulty": 4, "samples": [["2 1\n1 2\n", "544"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2015", "矩阵加速", "蓝桥杯省赛"], "title": "[蓝桥杯 2015 省 AB] 垒骰子", "background": "", "description": "赌圣 atm 晚年迷恋上了垒骰子，就是把骰子一个垒在另一个上边，不能歪歪扭扭，要垒成方柱体。\n\n经过长期观察，atm 发现了稳定骰子的奥秘：有些数字的面贴着会互相排斥！\n\n我们先来规范一下骰子：$1$ 的对面是 $4$，$2$ 的对面是 $5$，$3$ 的对面是 $6$。\n\n假设有 $m$ 组互斥现象，每组中的那两个数字的面紧贴在一起，骰子就不能稳定的垒起来。\n\natm 想计算一下有多少种不同的可能的垒骰子方式。\n\n两种垒骰子方式相同，当且仅当这两种方式中对应高度的骰子的对应数字的朝向都相同。\n\n由于方案数可能过多，请输出模 $10^9+7$ 的结果。\n\n不要小看了 atm 的骰子数量哦～。", "inputFormat": "第一行两个整数 $n$，$m$。\n\n$n$ 表示骰子数目。\n\n接下来 $m$ 行，每行两个整数 $a$，$b$，表示 $a$ 和 $b$ 数字不能紧贴在一起。", "outputFormat": "一行一个数，表示答案模 $10^9+7$ 的结果。", "hint": "对于 $30\\%$ 的数据：$n \\le 5$。\n\n对于 $60\\%$ 的数据：$n \\le 100$。\n\n对于 $100\\%$ 的数据：$0<n \\le 10^9,m \\le 36$。\n\n时限 2 秒, 256M\n\n蓝桥杯 2015 年省赛 AB 组 I 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 省 AB] 垒骰子", "background": "", "description": "赌圣 atm 晚年迷恋上了垒骰子，就是把骰子一个垒在另一个上边，不能歪歪扭扭，要垒成方柱体。\n\n经过长期观察，atm 发现了稳定骰子的奥秘：有些数字的面贴着会互相排斥！\n\n我们先来规范一下骰子：$1$ 的对面是 $4$，$2$ 的对面是 $5$，$3$ 的对面是 $6$。\n\n假设有 $m$ 组互斥现象，每组中的那两个数字的面紧贴在一起，骰子就不能稳定的垒起来。\n\natm 想计算一下有多少种不同的可能的垒骰子方式。\n\n两种垒骰子方式相同，当且仅当这两种方式中对应高度的骰子的对应数字的朝向都相同。\n\n由于方案数可能过多，请输出模 $10^9+7$ 的结果。\n\n不要小看了 atm 的骰子数量哦～。", "inputFormat": "第一行两个整数 $n$，$m$。\n\n$n$ 表示骰子数目。\n\n接下来 $m$ 行，每行两个整数 $a$，$b$，表示 $a$ 和 $b$ 数字不能紧贴在一起。", "outputFormat": "一行一个数，表示答案模 $10^9+7$ 的结果。", "hint": "对于 $30\\%$ 的数据：$n \\le 5$。\n\n对于 $60\\%$ 的数据：$n \\le 100$。\n\n对于 $100\\%$ 的数据：$0<n \\le 10^9,m \\le 36$。\n\n时限 2 秒, 256M\n\n蓝桥杯 2015 年省赛 AB 组 I 题。", "locale": "zh-CN"}}}
{"pid": "P8625", "type": "P", "difficulty": 3, "samples": [["5\n1 -2 -3 4 5\n4 2\n3 1\n1 2\n2 5", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2015", "树形 DP", "蓝桥杯省赛"], "title": "[蓝桥杯 2015 省 B] 生命之树", "background": "", "description": "在 X 森林里，上帝创建了生命之树。\n\n他给每棵树的每个节点（叶子也称为一个节点）上，都标了一个整数，代表这个点的和谐值。\n\n上帝要在这棵树内选出一个节点集合 $S$（允许为空集），使得对于 $S$ 中的任意两个点 $a,b$，都存在一个点列 ${a,v_1,v_2, \\cdots ,v_k,b}$ 使得这个点列中的每个点都是 $S$ 里面的元素，且序列中相邻两个点间有一条边相连。\n\n在这个前提下，上帝要使得 $S$ 中的点所对应的整数的和尽量大。\n\n这个最大的和就是上帝给生命之树的评分。\n\n经过 atm 的努力，他已经知道了上帝给每棵树上每个节点上的整数。但是由于 atm 不擅长计算，他不知道怎样有效的求评分。他需要你为他写一个程序来计算一棵树的分数。", "inputFormat": "第一行一个整数 $n$ 表示这棵树有 $n$ 个节点。\n\n第二行 $n$ 个整数，依次表示每个节点的评分。\n\n接下来 $n-1$ 行，每行 $2$ 个整数 $u,v$，表示存在一条 $u$ 到 $v$ 的边。由于这是一棵树，所以是不存在环的。\n", "outputFormat": "输出一行一个数，表示上帝给这棵树的分数。", "hint": "对于 $30\\%$ 的数据，$n \\le 10$。\n\n对于 $100\\%$ 的数据，$0<n \\le 10^5,$ 每个节点的评分的绝对值不超过 $10^6$。\n\n时限 3 秒, 256M。\n\n蓝桥杯 2015 省赛 B 组 J 题。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[蓝桥杯 2015 省 B] 生命之树", "background": "", "description": "在 X 森林里，上帝创建了生命之树。\n\n他给每棵树的每个节点（叶子也称为一个节点）上，都标了一个整数，代表这个点的和谐值。\n\n上帝要在这棵树内选出一个节点集合 $S$（允许为空集），使得对于 $S$ 中的任意两个点 $a,b$，都存在一个点列 ${a,v_1,v_2, \\cdots ,v_k,b}$ 使得这个点列中的每个点都是 $S$ 里面的元素，且序列中相邻两个点间有一条边相连。\n\n在这个前提下，上帝要使得 $S$ 中的点所对应的整数的和尽量大。\n\n这个最大的和就是上帝给生命之树的评分。\n\n经过 atm 的努力，他已经知道了上帝给每棵树上每个节点上的整数。但是由于 atm 不擅长计算，他不知道怎样有效的求评分。他需要你为他写一个程序来计算一棵树的分数。", "inputFormat": "第一行一个整数 $n$ 表示这棵树有 $n$ 个节点。\n\n第二行 $n$ 个整数，依次表示每个节点的评分。\n\n接下来 $n-1$ 行，每行 $2$ 个整数 $u,v$，表示存在一条 $u$ 到 $v$ 的边。由于这是一棵树，所以是不存在环的。\n", "outputFormat": "输出一行一个数，表示上帝给这棵树的分数。", "hint": "对于 $30\\%$ 的数据，$n \\le 10$。\n\n对于 $100\\%$ 的数据，$0<n \\le 10^5,$ 每个节点的评分的绝对值不超过 $10^6$。\n\n时限 3 秒, 256M。\n\n蓝桥杯 2015 省赛 B 组 J 题。", "locale": "zh-CN"}}}
