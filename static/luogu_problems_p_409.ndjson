{"pid": "P9295", "type": "P", "difficulty": 6, "samples": [["6 3 5\n1 2 3\n1 3 2\n3 4 3\n5 3 1\n6 4 2\nZ 5\nZ 6\nB 2 1\nZ 5\nZ 6", "2\n2\n1\n3"], ["8 4 20\n1 2 3\n8 2 4\n6 4 2\n1 6 1\n3 4 3\n4 5 2\n7 4 1\nZ 2\nZ 3\nZ 4\nZ 5\nZ 6\nZ 7\nZ 8\nB 4 4\nB 3 3\nB 7 4\nB 2 3\nZ 2\nZ 3\nZ 4\nZ 5\nZ 6\nZ 7\nZ 8\nB 3 4\nZ 7", "1\n3\n2\n2\n1\n2\n2\n1\n2\n2\n3\n1\n2\n1\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "POI（波兰）"], "title": "[POI 2020/2021 R1] Gang Biciaków / 布茨帮", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Gang Biciaków](https://sio2.mimuw.edu.pl/c/oi28-1/p/gan/)。**", "description": "Bajtazar 在一家货运公司工作，他目前的工作是将建筑材料从 Bajtocji 的首都运输到附近城镇的商店。在 Bajtocji，有 $n$ 座城市（编号从 $1$ 到 $n$），这些城市通过 $n-1$ 条道路相互连接。每条道路上都有一个加油站。\n\nBajtazar 一天的工作是这样的：他从首都（编号为 $1$ 的城市）出发，沿着最短路径到达城市 $x$，再原路返回。\n\nBajtazara 的儿子 Bitek 非常喜欢加油站里卖的玩具狗。玩具狗一共有 $m$ 种（编号从 $1$ 到 $m$），但每个加油站只提供一种玩具狗，因此收集玩具狗并非一件轻松的事情。\n\n现在给出 Bajtazara 每天前往的目的地，他想要知道他的儿子这天能够获得多少种玩具狗。麻烦的是，每个加油站里售卖的玩具狗的种类会发生变化，你能帮助他解决这个难题吗？\n", "inputFormat": "输入第一行三个整数 $n,m,z$，分别代表 Bajtocji 的城市数，玩具狗的种类数，查询的次数。\n\n接下来 $n-1$ 行，第 $i$ 行三个整数 $a_i,b_i,c_i$，代表第 $i$ 条道路连接城市 $a_i$ 和城市 $b_i$（$1 \\leq a_i,b_i \\leq n$），该道路上的加油站售卖的玩具狗种类为 $c_i$（$1 \\leq c_i \\leq m$）。\n\n接下来 $z$ 行，每行描述一个询问或修改操作，格式如下：\n\n- 询问操作：$\\texttt{Z}\\ x$ 表示 Bajtazara 想要知道，从首都出发到城市 $x$（$2 \\leq x \\leq n$），能收集到多少种玩具狗。\n- 修改操作：$\\texttt{B}\\ i\\ c$ 表示将第 $i$ 条道路上加油站售卖的玩具狗的类型改为 $c$（$1 \\leq c \\leq m$，注意如果该加油站本来就售卖 $c$ 类型玩具狗，执行该操作后将不会有任何影响）。", "outputFormat": "对于每个 $\\texttt{Z}$ 操作，输出一行一个整数，代表这一天 Bajtazara 的儿子能获得的玩具狗的种类数。", "hint": "【样例解释1】：\n\n![pp5XLWV.png](https://s1.ax1x.com/2023/04/05/pp5XLWV.png)\n\n注意该样例中存在一次修改操作，使得第二条道路上的加油站售卖的玩具狗的种类从 $2$ 变成了 $1$。\n\n【数据范围】：\n\n所有测试点均满足：$2 \\leq n \\leq 10^5$，$1 \\leq m,z \\leq 1.5 \\times 10^5$，且至少存在一个 $\\texttt{Z}$ 操作。\n\n| 子任务编号 | 约束| 分值|\n|:-:|:-:| :-: |\n| $1$| $n,m,z \\leq 100$| $7$  |\n| $2$| $n,z \\leq 2 \\times 10^3$| $9$  |\n|$3$ | 只有 $\\texttt{Z}$ 类型操作| $9 $  |\n| $4$| $m \\leq 15$|$15$|\n|$5$|道路 $i$ 连接城市 $i$ 和城市 $i+1$| $11$ |\n| $6$ | 刚开始时，每个加油站售卖的玩具狗类型都是 $1$，在后续的 $\\texttt{B}$ 类型操作中，玩具狗的类型会被更改为除 $1$ 之外的任意类型 | $13$ |\n| $7$| 无附加约束| $36$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2020/2021 R1] Gang Biciaków / 布茨帮", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Gang Biciaków](https://sio2.mimuw.edu.pl/c/oi28-1/p/gan/)。**", "description": "Bajtazar 在一家货运公司工作，他目前的工作是将建筑材料从 Bajtocji 的首都运输到附近城镇的商店。在 Bajtocji，有 $n$ 座城市（编号从 $1$ 到 $n$），这些城市通过 $n-1$ 条道路相互连接。每条道路上都有一个加油站。\n\nBajtazar 一天的工作是这样的：他从首都（编号为 $1$ 的城市）出发，沿着最短路径到达城市 $x$，再原路返回。\n\nBajtazara 的儿子 Bitek 非常喜欢加油站里卖的玩具狗。玩具狗一共有 $m$ 种（编号从 $1$ 到 $m$），但每个加油站只提供一种玩具狗，因此收集玩具狗并非一件轻松的事情。\n\n现在给出 Bajtazara 每天前往的目的地，他想要知道他的儿子这天能够获得多少种玩具狗。麻烦的是，每个加油站里售卖的玩具狗的种类会发生变化，你能帮助他解决这个难题吗？\n", "inputFormat": "输入第一行三个整数 $n,m,z$，分别代表 Bajtocji 的城市数，玩具狗的种类数，查询的次数。\n\n接下来 $n-1$ 行，第 $i$ 行三个整数 $a_i,b_i,c_i$，代表第 $i$ 条道路连接城市 $a_i$ 和城市 $b_i$（$1 \\leq a_i,b_i \\leq n$），该道路上的加油站售卖的玩具狗种类为 $c_i$（$1 \\leq c_i \\leq m$）。\n\n接下来 $z$ 行，每行描述一个询问或修改操作，格式如下：\n\n- 询问操作：$\\texttt{Z}\\ x$ 表示 Bajtazara 想要知道，从首都出发到城市 $x$（$2 \\leq x \\leq n$），能收集到多少种玩具狗。\n- 修改操作：$\\texttt{B}\\ i\\ c$ 表示将第 $i$ 条道路上加油站售卖的玩具狗的类型改为 $c$（$1 \\leq c \\leq m$，注意如果该加油站本来就售卖 $c$ 类型玩具狗，执行该操作后将不会有任何影响）。", "outputFormat": "对于每个 $\\texttt{Z}$ 操作，输出一行一个整数，代表这一天 Bajtazara 的儿子能获得的玩具狗的种类数。", "hint": "【样例解释1】：\n\n![pp5XLWV.png](https://s1.ax1x.com/2023/04/05/pp5XLWV.png)\n\n注意该样例中存在一次修改操作，使得第二条道路上的加油站售卖的玩具狗的种类从 $2$ 变成了 $1$。\n\n【数据范围】：\n\n所有测试点均满足：$2 \\leq n \\leq 10^5$，$1 \\leq m,z \\leq 1.5 \\times 10^5$，且至少存在一个 $\\texttt{Z}$ 操作。\n\n| 子任务编号 | 约束| 分值|\n|:-:|:-:| :-: |\n| $1$| $n,m,z \\leq 100$| $7$  |\n| $2$| $n,z \\leq 2 \\times 10^3$| $9$  |\n|$3$ | 只有 $\\texttt{Z}$ 类型操作| $9 $  |\n| $4$| $m \\leq 15$|$15$|\n|$5$|道路 $i$ 连接城市 $i$ 和城市 $i+1$| $11$ |\n| $6$ | 刚开始时，每个加油站售卖的玩具狗类型都是 $1$，在后续的 $\\texttt{B}$ 类型操作中，玩具狗的类型会被更改为除 $1$ 之外的任意类型 | $13$ |\n| $7$| 无附加约束| $36$ |", "locale": "zh-CN"}}}
{"pid": "P9296", "type": "P", "difficulty": 5, "samples": [["3 9 3\n1 6\n2 3 8\n2 5 7\n3\n2\n1", "1\n1\n0"], ["5 20 5\n1 16\n3 7 15 18\n3 6 9 14\n3 3 8 11\n2 2 5\n1\n2\n3\n4\n5", "0\n0\n0\n1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "POI（波兰）"], "title": "[POI 2020/2021 R1] Gra platformowa / 平台游戏", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Gra platformowa](https://sio2.mimuw.edu.pl/c/oi28-1/p/gra/)。**", "description": "Bajtazar 正在他的新电脑上玩游戏。\n\n在这个游戏里，有 $n$ 层平台，自上而下分别编号为 $1$ 至 $n$，玩家需要在这些平台之间移动。每层平台的长度为 $X$，因此可以用数对 $(i,x)$ 描述玩家当前的位置，其中 $i$ 表示玩家在第几层平台，$x$ 表示玩家在当前平台的位置（最左端为 $1$，最右端为 $X$）。\n\n玩家从某个平台的最左端开始，游戏的目标是到达任意一个平台的最右端，且玩家只能向右移动。为了增大难度，在平台的一些地方会有洞，这种情况下，玩家可以选择跳跃操作，直接跳过这个洞，也可以通过该洞前往上面或下面的平台，保证不存在两个在水平方向上或竖直方向上相邻的洞。\n\n更具体地说，假如玩家当前的位置为 $(i,x)$，玩家可以执行如下几种操作：\n\n- $\\texttt{F}$ 操作：当 $(i,x+1)$ 没有洞时，玩家将会移动到 $(i,x+1)$；否则，玩家将会移动到 $(i+1,x+1)$。\n- $\\texttt{A}$ 操作：当 $(i,x+1)$ 有洞时，玩家将会移动到 $(i,x+2)$。\n- $\\texttt{B}$ 操作：当 $(i-1,x)$ 有洞时，玩家将会移动到 $(i-1,x+1)$。\n\n现在 Bajtazar 希望执行最少的跳跃操作（即 $\\texttt{A}$ 操作和 $\\texttt{B}$ 操作）完成游戏。你能帮他完成这个任务吗？", "inputFormat": "输入第一行三个整数 $n,X,z$，表示一共有 $n$ 层平台，每层平台的长度为 $X$，询问的次数为 $z$。\n\n接下来 $n$ 行，第 $i$ 行描述第 $i$ 层平台的信息。每行开头一个整数 $k_i$，表示该层平台有 $k_i$ 个洞。接下来 $k_i$ 个递增的整数，给出该层每个洞的位置。数据保证任何一个平台的最左端和最右端不存在洞，且不存在两个在水平方向上或竖直方向上相邻的洞。\n\n接下来 $z$ 行，每行包含一个整数 $p_j$，表示在第 $j$ 组询问中，玩家需要从第 $p_j$ 层平台的最左端出发。", "outputFormat": "对于第 $j$ 组询问，请在第 $j$ 行输出一个整数，表示从 $(p_j,1)$ 出发，抵达任意一个平台的最右端需要执行的 $\\texttt{A}$ 操作和 $\\texttt{B}$ 操作的最小次数。", "hint": "【样例解释1】：\n\n![pp5jnwd.png](https://s1.ax1x.com/2023/04/05/pp5jnwd.png)\n\n上图给出了样例 $1$ 的第一个询问对应的最优方案：玩家先执行两次 $\\texttt{F}$ 操作到达 $(3,3)$，再执行一次 $\\texttt{B}$ 操作到达 $(2,4)$，再执行五次 $\\texttt{F}$ 操作到达 $(3,9)$。\n\n对于第二个询问，最优方案是执行一次 $\\texttt{F}$ 操作，再执行一次 $\\texttt{A}$ 操作，最后执行五次 $\\texttt{F}$ 操作。\n\n对于第三个询问，最优方案是连续执行八次 $\\texttt{F}$ 操作。\n\n【数据范围】：\n\n所有测试点均满足：$1 \\leq n \\leq 10^5$，$1 \\leq X \\leq 10^9$，$1 \\leq z \\leq 10^5$，$\\sum k\\le 2\\times 10^6$。\n\n| 子任务编号 | 约束 | 分值 |\n| :-: | :-: | :-: |\n|$0$|样例|$0$|\n| $1$| $z \\leq 5$，$n\\times X \\leq 10^6$ | $30$ |\n| $2$| $z \\leq 5$| $50$ |\n|$3$| 无附加约束|$20$|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2020/2021 R1] Gra platformowa / 平台游戏", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Gra platformowa](https://sio2.mimuw.edu.pl/c/oi28-1/p/gra/)。**", "description": "Bajtazar 正在他的新电脑上玩游戏。\n\n在这个游戏里，有 $n$ 层平台，自上而下分别编号为 $1$ 至 $n$，玩家需要在这些平台之间移动。每层平台的长度为 $X$，因此可以用数对 $(i,x)$ 描述玩家当前的位置，其中 $i$ 表示玩家在第几层平台，$x$ 表示玩家在当前平台的位置（最左端为 $1$，最右端为 $X$）。\n\n玩家从某个平台的最左端开始，游戏的目标是到达任意一个平台的最右端，且玩家只能向右移动。为了增大难度，在平台的一些地方会有洞，这种情况下，玩家可以选择跳跃操作，直接跳过这个洞，也可以通过该洞前往上面或下面的平台，保证不存在两个在水平方向上或竖直方向上相邻的洞。\n\n更具体地说，假如玩家当前的位置为 $(i,x)$，玩家可以执行如下几种操作：\n\n- $\\texttt{F}$ 操作：当 $(i,x+1)$ 没有洞时，玩家将会移动到 $(i,x+1)$；否则，玩家将会移动到 $(i+1,x+1)$。\n- $\\texttt{A}$ 操作：当 $(i,x+1)$ 有洞时，玩家将会移动到 $(i,x+2)$。\n- $\\texttt{B}$ 操作：当 $(i-1,x)$ 有洞时，玩家将会移动到 $(i-1,x+1)$。\n\n现在 Bajtazar 希望执行最少的跳跃操作（即 $\\texttt{A}$ 操作和 $\\texttt{B}$ 操作）完成游戏。你能帮他完成这个任务吗？", "inputFormat": "输入第一行三个整数 $n,X,z$，表示一共有 $n$ 层平台，每层平台的长度为 $X$，询问的次数为 $z$。\n\n接下来 $n$ 行，第 $i$ 行描述第 $i$ 层平台的信息。每行开头一个整数 $k_i$，表示该层平台有 $k_i$ 个洞。接下来 $k_i$ 个递增的整数，给出该层每个洞的位置。数据保证任何一个平台的最左端和最右端不存在洞，且不存在两个在水平方向上或竖直方向上相邻的洞。\n\n接下来 $z$ 行，每行包含一个整数 $p_j$，表示在第 $j$ 组询问中，玩家需要从第 $p_j$ 层平台的最左端出发。", "outputFormat": "对于第 $j$ 组询问，请在第 $j$ 行输出一个整数，表示从 $(p_j,1)$ 出发，抵达任意一个平台的最右端需要执行的 $\\texttt{A}$ 操作和 $\\texttt{B}$ 操作的最小次数。", "hint": "【样例解释1】：\n\n![pp5jnwd.png](https://s1.ax1x.com/2023/04/05/pp5jnwd.png)\n\n上图给出了样例 $1$ 的第一个询问对应的最优方案：玩家先执行两次 $\\texttt{F}$ 操作到达 $(3,3)$，再执行一次 $\\texttt{B}$ 操作到达 $(2,4)$，再执行五次 $\\texttt{F}$ 操作到达 $(3,9)$。\n\n对于第二个询问，最优方案是执行一次 $\\texttt{F}$ 操作，再执行一次 $\\texttt{A}$ 操作，最后执行五次 $\\texttt{F}$ 操作。\n\n对于第三个询问，最优方案是连续执行八次 $\\texttt{F}$ 操作。\n\n【数据范围】：\n\n所有测试点均满足：$1 \\leq n \\leq 10^5$，$1 \\leq X \\leq 10^9$，$1 \\leq z \\leq 10^5$，$\\sum k\\le 2\\times 10^6$。\n\n| 子任务编号 | 约束 | 分值 |\n| :-: | :-: | :-: |\n|$0$|样例|$0$|\n| $1$| $z \\leq 5$，$n\\times X \\leq 10^6$ | $30$ |\n| $2$| $z \\leq 5$| $50$ |\n|$3$| 无附加约束|$20$|", "locale": "zh-CN"}}}
{"pid": "P9297", "type": "P", "difficulty": 6, "samples": [["5 6\n7341\n0150\nS 3\nW 3 0\nS 3\nZ 1 9\nS 1\nS 3", "4\n1\n0\n2"], ["10 100\n627280304\n679703557\nZ 9 9\nZ 2 5\nS 3\nS 3\nW 6 2\nW 9 6\nZ 6 2\nZ 3 9\nS 7\nZ 5 9\nS 3\nS 6\nS 8\nZ 3 2\nW 5 1\nZ 4 5\nW 5 8\nS 1\nW 4 7\nW 8 7\nS 9\nZ 5 7\nS 8\nW 5 5\nS 6\nW 9 9\nW 8 0\nS 1\nS 8\nW 8 7\nS 9\nW 2 4\nW 5 7\nS 4\nZ 6 0\nZ 8 2\nW 8 2\nS 2\nW 5 7\nW 4 7\nW 1 4\nW 2 9\nS 3\nW 8 3\nW 5 2\nZ 4 2\nW 5 9\nW 8 3\nW 6 6\nS 6\nW 6 8\nZ 7 4\nS 5\nW 9 9\nW 9 6\nS 10\nW 7 8\nZ 1 5\nZ 3 4\nS 5\nS 2\nW 9 9\nW 3 0\nZ 9 4\nZ 1 1\nZ 5 9\nW 7 2\nS 3\nS 5\nW 3 6\nZ 4 7\nS 7\nZ 5 4\nS 7\nS 1\nW 2 8\nZ 1 7\nW 3 6\nW 8 4\nS 7\nZ 8 8\nZ 5 0\nW 8 9\nW 7 1\nS 2\nW 2 7\nS 2\nW 2 5\nZ 5 0\nW 9 8\nW 4 5\nZ 2 8\nS 5\nS 2\nZ 2 7\nS 1\nS 1\nW 8 1\nW 4 8\nZ 7 2", "8\n8\n6\n2\n5\n0\n1\n6\n5\n5\n1\n8\n9\n2\n0\n6\n7\n6\n1\n6\n4\n5\n8\n6\n6\n5\n6\n4\n3\n0\n4\n1\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "POI（波兰）"], "title": "[POI 2020/2021 R1] Licznik długu / 债务计数器", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Licznik długu](https://sio2.mimuw.edu.pl/c/oi28-1/p/lic/)。**", "description": "Bajterowicza 教授指出，Bajtocji 的经济形势现在不容乐观。为了警示民众，他让 Bajtazara 公司在 Bajtocji 首都的市中心安装一块大型显示屏，用来显示 Bajtocji 现在的公共债务是多少。\n\nBajtocji 的公共债务由两部分组成：国内债务和国际债务。国内债务和国际债务最多可由 $n-1$ 个十进制数组成。而在显示屏上显示的是两部分债务的总和。\n\n随着时间推移，Bajtocji 的债务状况也在不断变化。你现在需要帮助 Bajtazara 公司完成显示软件的编辑工作。\n\n这个软件需要执行如下三种操作：\n\n- 更改国内债务数值在某一位上的值。\n- 更改国际债务数值在某一位上的值。\n- 输出总公共债务在某一位上的值。", "inputFormat": "输入第一行两个整数 $n,z$，分别代表显示器能显示的数字位数和操作次数。\n\n第二行包含一个长度 $n-1$ 的数字，代表 Bajtocji 最初的国内债务的值，这个数字可能有前导零。\n\n第三行包含一个长度 $n-1$ 的数字，代表 Bajtocji 最初的国际债务的值，这个数字可能有前导零。\n\n接下来 $z$ 行，每行描述一个询问操作：\n\n- $\\texttt{W}\\ i \\ c$ 表示将国内债务的第 $i$ 位的值更改为 $c$（$1 \\leq i \\leq n-1$，$0 \\leq c \\leq 9$）。\n- $\\texttt{Z}\\ i \\ c$ 表示将国际债务的第 $i$ 位的值更改为 $c$（$1 \\leq i \\leq n-1$，$0 \\leq c \\leq 9$）。\n- $\\texttt{S}\\ i$ 表示输出总公共债务第 $i$ 位的值（$1 \\leq i \\leq n-1$）。", "outputFormat": "对于每个 $\\texttt{S}$ 操作，输出一行一个整数表示结果。", "hint": "【样例解释#1】：\n\n最初公共债务总额为 $7341+150=7491$，因此第三位上的值为 $4$。\n\n在操作 $2$ 后，公共债务总额为 $7041+150=7191$，因此第三位上的值为 $1$。\n\n在操作 $4$ 后，公共债务总额为 $7041+159=7200$，因此第一位上的值为 $0$，第三位上的值为 $2$。\n\n【数据范围】：\n\n所有测试点均满足：$2 \\leq n \\leq 10^5$，$1 \\leq z \\leq 10^5$。\n\n|子任务编号|约束|分值|\n|:-:|:-:|:-:|\n|$1$|$n,z\\leq5\\times10^3$|$30$|\n| $2$|任何时刻，国内债务和国际债务的每个位上的数字都是 $0$ 或 $5$|$20$|\n| $3$|无附加约束|$50$|\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2020/2021 R1] Licznik długu / 债务计数器", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Licznik długu](https://sio2.mimuw.edu.pl/c/oi28-1/p/lic/)。**", "description": "Bajterowicza 教授指出，Bajtocji 的经济形势现在不容乐观。为了警示民众，他让 Bajtazara 公司在 Bajtocji 首都的市中心安装一块大型显示屏，用来显示 Bajtocji 现在的公共债务是多少。\n\nBajtocji 的公共债务由两部分组成：国内债务和国际债务。国内债务和国际债务最多可由 $n-1$ 个十进制数组成。而在显示屏上显示的是两部分债务的总和。\n\n随着时间推移，Bajtocji 的债务状况也在不断变化。你现在需要帮助 Bajtazara 公司完成显示软件的编辑工作。\n\n这个软件需要执行如下三种操作：\n\n- 更改国内债务数值在某一位上的值。\n- 更改国际债务数值在某一位上的值。\n- 输出总公共债务在某一位上的值。", "inputFormat": "输入第一行两个整数 $n,z$，分别代表显示器能显示的数字位数和操作次数。\n\n第二行包含一个长度 $n-1$ 的数字，代表 Bajtocji 最初的国内债务的值，这个数字可能有前导零。\n\n第三行包含一个长度 $n-1$ 的数字，代表 Bajtocji 最初的国际债务的值，这个数字可能有前导零。\n\n接下来 $z$ 行，每行描述一个询问操作：\n\n- $\\texttt{W}\\ i \\ c$ 表示将国内债务的第 $i$ 位的值更改为 $c$（$1 \\leq i \\leq n-1$，$0 \\leq c \\leq 9$）。\n- $\\texttt{Z}\\ i \\ c$ 表示将国际债务的第 $i$ 位的值更改为 $c$（$1 \\leq i \\leq n-1$，$0 \\leq c \\leq 9$）。\n- $\\texttt{S}\\ i$ 表示输出总公共债务第 $i$ 位的值（$1 \\leq i \\leq n-1$）。", "outputFormat": "对于每个 $\\texttt{S}$ 操作，输出一行一个整数表示结果。", "hint": "【样例解释#1】：\n\n最初公共债务总额为 $7341+150=7491$，因此第三位上的值为 $4$。\n\n在操作 $2$ 后，公共债务总额为 $7041+150=7191$，因此第三位上的值为 $1$。\n\n在操作 $4$ 后，公共债务总额为 $7041+159=7200$，因此第一位上的值为 $0$，第三位上的值为 $2$。\n\n【数据范围】：\n\n所有测试点均满足：$2 \\leq n \\leq 10^5$，$1 \\leq z \\leq 10^5$。\n\n|子任务编号|约束|分值|\n|:-:|:-:|:-:|\n|$1$|$n,z\\leq5\\times10^3$|$30$|\n| $2$|任何时刻，国内债务和国际债务的每个位上的数字都是 $0$ 或 $5$|$20$|\n| $3$|无附加约束|$50$|\n\n", "locale": "zh-CN"}}}
{"pid": "P9298", "type": "P", "difficulty": 2, "samples": [["2 3 3\n1 2 2 2\n1 1 2 1\n1 2 1 3", "2\n1\n3"], ["4 4 16\n1 1 1 1\n1 2 1 2\n1 3 1 3\n1 4 1 4\n2 1 2 1\n2 2 2 2\n2 3 2 3\n2 4 2 4\n3 1 3 1\n3 2 3 2\n3 3 3 3\n3 4 3 4\n4 1 4 1\n4 2 4 2\n4 3 4 3\n4 4 4 4", "1\n1\n1\n1\n3\n3\n3\n1\n3\n3\n3\n1\n3\n3\n3\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "POI（波兰）"], "title": "[POI 2020/2021 R1] Tablica binarna / 01 矩阵", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Tablica binarna](https://sio2.mimuw.edu.pl/c/oi28-1/p/tab/)。**", "description": "矩阵 $A$ 有 $n$ 行 $m$ 列，行自上到下编号为 $1$ 至 $n$，列自左到右编号为 $1$ 到 $m$，因此可以用 $(i,j)$ 表示矩阵的第 $i$ 行第 $j$ 列的元素。且矩阵 $A$ 中每个元素的值为 $0$ 或 $1$。\n\n最初，矩阵内的所有元素的值均为 $0$。接下来可以对该矩阵执行 $q$ 次修改操作。每次操作将给出四个参数 $i_1,j_1,i_2,j_2$，表示将以 $(i_1,j_1)$ 为左上角，$(i_2,j_2)$ 为右下角的矩形内的所有元素的值翻转（从 $0$ 变成 $1$，或从 $1$ 变为 $0$）。\n\n如果一次操作中，矩形的左上角与矩阵的左上角重合（即 $i_1=j_1=1$），则称这次修改操作是**简单的**。\n\n现在你想要知道，在每次对矩阵执行修改操作后，需要执行至少多少次**简单的**修改操作，使得矩阵内所有元素的值全部变为 $0$。", "inputFormat": "输入第一行三个整数 $n,m,q$，分别代表矩阵的行数，列数，操作的次数。\n\n接下来 $q$ 行，每行四个整数 $i_1,j_1,i_2,j_2$，描述一次修改操作。保证 $1 \\leq i_1 \\leq i_2 \\leq n$，$1 \\leq j_1 \\leq j_2 \\leq m$。", "outputFormat": "输出 $q$ 行。第 $i$ 行输出一个整数，表示在第 $i$ 次修改过后，需要执行至少多少次**简单的**修改操作，使得矩阵内所有元素的值全部变为 $0$。", "hint": "【样例解释1】：\n\n![](https://s1.ax1x.com/2023/04/04/pp4jI2T.png)\n\n【数据范围】：\n\n所有测试点均满足：$1 \\leq n,m \\leq 10^3$，$1 \\leq q \\leq 10^5$。\n\n| 子任务编号 | 约束          | 分值 |\n| :----------: | :-------------: | :----: |\n| $1$        | $n,m \\leq 2$  | $14$ |\n| $2$        | $q=1$         | $16$ |\n| $3$        | $n=1$         | $21$ |\n| $4$        | $n,m \\leq 10$ | $9$  |\n| $5$        | $n,m \\leq 80$ | $10$ |\n| $6$        | 无附加约束    | $30$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[POI 2020/2021 R1] Tablica binarna / 01 矩阵", "background": "**题目译自 [XXVIII Olimpiada Informatyczna – I etap](https://sio2.mimuw.edu.pl/c/oi28-1/dashboard/) [Tablica binarna](https://sio2.mimuw.edu.pl/c/oi28-1/p/tab/)。**", "description": "矩阵 $A$ 有 $n$ 行 $m$ 列，行自上到下编号为 $1$ 至 $n$，列自左到右编号为 $1$ 到 $m$，因此可以用 $(i,j)$ 表示矩阵的第 $i$ 行第 $j$ 列的元素。且矩阵 $A$ 中每个元素的值为 $0$ 或 $1$。\n\n最初，矩阵内的所有元素的值均为 $0$。接下来可以对该矩阵执行 $q$ 次修改操作。每次操作将给出四个参数 $i_1,j_1,i_2,j_2$，表示将以 $(i_1,j_1)$ 为左上角，$(i_2,j_2)$ 为右下角的矩形内的所有元素的值翻转（从 $0$ 变成 $1$，或从 $1$ 变为 $0$）。\n\n如果一次操作中，矩形的左上角与矩阵的左上角重合（即 $i_1=j_1=1$），则称这次修改操作是**简单的**。\n\n现在你想要知道，在每次对矩阵执行修改操作后，需要执行至少多少次**简单的**修改操作，使得矩阵内所有元素的值全部变为 $0$。", "inputFormat": "输入第一行三个整数 $n,m,q$，分别代表矩阵的行数，列数，操作的次数。\n\n接下来 $q$ 行，每行四个整数 $i_1,j_1,i_2,j_2$，描述一次修改操作。保证 $1 \\leq i_1 \\leq i_2 \\leq n$，$1 \\leq j_1 \\leq j_2 \\leq m$。", "outputFormat": "输出 $q$ 行。第 $i$ 行输出一个整数，表示在第 $i$ 次修改过后，需要执行至少多少次**简单的**修改操作，使得矩阵内所有元素的值全部变为 $0$。", "hint": "【样例解释1】：\n\n![](https://s1.ax1x.com/2023/04/04/pp4jI2T.png)\n\n【数据范围】：\n\n所有测试点均满足：$1 \\leq n,m \\leq 10^3$，$1 \\leq q \\leq 10^5$。\n\n| 子任务编号 | 约束          | 分值 |\n| :----------: | :-------------: | :----: |\n| $1$        | $n,m \\leq 2$  | $14$ |\n| $2$        | $q=1$         | $16$ |\n| $3$        | $n=1$         | $21$ |\n| $4$        | $n,m \\leq 10$ | $9$  |\n| $5$        | $n,m \\leq 80$ | $10$ |\n| $6$        | 无附加约束    | $30$ |", "locale": "zh-CN"}}}
{"pid": "P9299", "type": "P", "difficulty": 1, "samples": [["5\n2", "730"], ["0\n10", "-100"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "CCC（加拿大）"], "title": "[CCC 2023 J1] Deliv-e-droid", "background": "", "description": "In the game, Deliv-e-droid, a robot droid has to deliver packages while avoiding obstacles.\n\nAt the end of the game, the final score is calculated based on the following point system:\n- Gain $50$ points for every package delivered.\n- Lose $10$ points for every collision with an obstacle.\n- Earn a bonus $500$ points if the number of packages delivered is greater than the number of collisions with obstacles.\n\nYour job is to determine the final score at the end of a game.\n", "inputFormat": "The input will consist of two lines. The first line will contain a non-negative integer $P$,representing the number of packages delivered. The second line will contain a non-negative integer $C$,representing the number of collisions with obstacles.", "outputFormat": "The output will consist of a single integer $F$,representing the final score.", "hint": "", "locale": "en", "translations": {"en": {"title": "[CCC 2023 J1] Deliv-e-droid", "background": "", "description": "In the game, Deliv-e-droid, a robot droid has to deliver packages while avoiding obstacles.\n\nAt the end of the game, the final score is calculated based on the following point system:\n- Gain $50$ points for every package delivered.\n- Lose $10$ points for every collision with an obstacle.\n- Earn a bonus $500$ points if the number of packages delivered is greater than the number of collisions with obstacles.\n\nYour job is to determine the final score at the end of a game.\n", "inputFormat": "The input will consist of two lines. The first line will contain a non-negative integer $P$,representing the number of packages delivered. The second line will contain a non-negative integer $C$,representing the number of collisions with obstacles.", "outputFormat": "The output will consist of a single integer $F$,representing the final score.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[CCC 2023 J1] Deliv-e-droid", "background": "", "description": "在游戏 Deliv-e-droid 中，一个机器人需要在避开障碍物的同时递送包裹。\n\n在游戏结束时，最终得分根据以下积分系统计算：\n- 每递送一个包裹获得 50 分。\n- 每次与障碍物碰撞扣除 10 分。\n- 如果递送的包裹数量大于与障碍物碰撞的次数，则获得额外的 500 分奖励。\n\n你的任务是确定游戏结束时的最终得分。", "inputFormat": "输入由两行组成。第一行包含一个非负整数 $P$，表示递送的包裹数量。第二行包含一个非负整数 $C$，表示与障碍物碰撞的次数。", "outputFormat": "输出由一个整数 $F$ 组成，表示最终得分。", "hint": "题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9300", "type": "P", "difficulty": 1, "samples": [["4\nPoblano\nCayenne\nThai\nPoblano", "118000"]], "limits": {"time": [3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288]}, "tags": ["2023", "CCC（加拿大）"], "title": "[CCC 2023 J2] Chili Peppers", "background": "", "description": "Ron is cooking chili using an assortment of peppers.\n\nThe spiciness of a pepper is measured in Scolville Heat Units (SHU).Ron's chili is currently not spicy at all, but each time Ron adds a pepper, the total spiciness of the chili increases by the SHU value of that pepper.\nThe SHU values of the peppers available to Ron are shown in the following table:\n\n| Pepper Name | Scolville Heat Units |\n| :----------: | :----------: |\n| Poblano | $1500$ |\n| Mirasol | $6000$ |\n| Serrano | $15500$ |\n| Cayenne | $40000$ |\n| Thai | $75000$ |\n| Habanero | $125000$ |\n\nYour job is to determine the total spiciness of Ron's chili after he has finished adding peppers.", "inputFormat": "The first line of input will contain a positive integer $N$, representing the number of peppers Ron adds to his chili. The next $N$ lines will each contain the name of a pepper Ron has added. Each pepper name will exactly match a name that appears in the table above. Note that more than one pepper of the same name can be added.", "outputFormat": "The output will consist of a positive integer $T$, representing the total spiciness of Ron's chili.", "hint": "", "locale": "en", "translations": {"en": {"title": "[CCC 2023 J2] Chili Peppers", "background": "", "description": "Ron is cooking chili using an assortment of peppers.\n\nThe spiciness of a pepper is measured in Scolville Heat Units (SHU).Ron's chili is currently not spicy at all, but each time Ron adds a pepper, the total spiciness of the chili increases by the SHU value of that pepper.\nThe SHU values of the peppers available to Ron are shown in the following table:\n\n| Pepper Name | Scolville Heat Units |\n| :----------: | :----------: |\n| Poblano | $1500$ |\n| Mirasol | $6000$ |\n| Serrano | $15500$ |\n| Cayenne | $40000$ |\n| Thai | $75000$ |\n| Habanero | $125000$ |\n\nYour job is to determine the total spiciness of Ron's chili after he has finished adding peppers.", "inputFormat": "The first line of input will contain a positive integer $N$, representing the number of peppers Ron adds to his chili. The next $N$ lines will each contain the name of a pepper Ron has added. Each pepper name will exactly match a name that appears in the table above. Note that more than one pepper of the same name can be added.", "outputFormat": "The output will consist of a positive integer $T$, representing the total spiciness of Ron's chili.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[CCC 2023 J2] Chili Peppers", "background": null, "description": "Ron 正在用各种辣椒烹饪辣椒酱。\n\n辣椒的辣度以斯科维尔辣度单位（SHU）来衡量。Ron 的辣椒酱目前一点都不辣，但每次 Ron 加入一个辣椒时，辣椒酱的总辣度就会增加该辣椒的 SHU 值。Ron 可用的辣椒的 SHU 值如下表所示：\n\n| 辣椒名称 | 斯科维尔辣度单位 |\n| :----------: | :----------: |\n| Poblano | $1500$ |\n| Mirasol | $6000$ |\n| Serrano | $15500$ |\n| Cayenne | $40000$ |\n| Thai | $75000$ |\n| Habanero | $125000$ |\n\n你的任务是确定 Ron 加完辣椒后，他的辣椒酱的总辣度。", "inputFormat": "输入的第一行包含一个正整数 $N$（$1 \\le N \\le 10$），表示 Ron 加入辣椒酱中的辣椒数量。接下来的 $N$ 行中，每行包含 Ron 加入的一个辣椒的名称。每个辣椒名称将与上表中出现的名称完全匹配。注意，可以加入多个同名的辣椒。", "outputFormat": "输出将由一个正整数 $T$ 组成，表示 Ron 的辣椒酱的总辣度。", "hint": "题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9301", "type": "P", "difficulty": 1, "samples": [["3\nYY.Y.\n...Y.\n.YYY.", "4"], ["5\nYY..Y\n.YY.Y\n.Y.Y.\n.YY.Y\nY...Y", "2,5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "CCC（加拿大）"], "title": "[CCC 2023 J3] Special Event", "background": "", "description": "You are trying to schedule a special event on one of five possible days.\n\nYour job is to determine on which day you should schedule the event, so that the largest number of interested people are able to attend.", "inputFormat": "The first line of input will contain a positive integer $N$, representing the number of people interested in attending your event. The next $N$ lines will each contain one person's availability using one character for each of Day 1, Day 2, Day 3, Day 4, and Day 5(in that order).\n\nThe character `Y` means the person is able to attend and a period (`.`) means the person is\nnot able to attend.\n\nThe following table shows how the available 15 marks are distributed:\n| Marks | Description |\n| :----------: | :----------: |\n| 6 | There will be exactly one day on which every person will be able to attend. |\n| 6 | There will be exactly one day on which the largest number of people will be able to attend. |\n| 3 | There might be more than one day on which the largest number of people will be able to attend. |\n", "outputFormat": "The output will consist of one line listing the day number(s) on which the largest number of\ninterested people are able to attend.\n\nIf there is more than one day on which the largest number of people are able to attend,output all of these day numbers in increasing order and separated by commas (without spaces).", "hint": "**本题采用捆绑测试**。\n\n- Subtask $1$（$6$ points）：有且只有一天全部人都可以开会。\n- Subtask $2$（$6$ points）：有且只有一天开会人数最多。\n- Subtask $3$（$3$ points）：有可能有多天满足条件。\n", "locale": "en", "translations": {"en": {"title": "[CCC 2023 J3] Special Event", "background": "", "description": "You are trying to schedule a special event on one of five possible days.\n\nYour job is to determine on which day you should schedule the event, so that the largest number of interested people are able to attend.", "inputFormat": "The first line of input will contain a positive integer $N$, representing the number of people interested in attending your event. The next $N$ lines will each contain one person's availability using one character for each of Day 1, Day 2, Day 3, Day 4, and Day 5(in that order).\n\nThe character `Y` means the person is able to attend and a period (`.`) means the person is\nnot able to attend.\n\nThe following table shows how the available 15 marks are distributed:\n| Marks | Description |\n| :----------: | :----------: |\n| 6 | There will be exactly one day on which every person will be able to attend. |\n| 6 | There will be exactly one day on which the largest number of people will be able to attend. |\n| 3 | There might be more than one day on which the largest number of people will be able to attend. |\n", "outputFormat": "The output will consist of one line listing the day number(s) on which the largest number of\ninterested people are able to attend.\n\nIf there is more than one day on which the largest number of people are able to attend,output all of these day numbers in increasing order and separated by commas (without spaces).", "hint": "**本题采用捆绑测试**。\n\n- Subtask $1$（$6$ points）：有且只有一天全部人都可以开会。\n- Subtask $2$（$6$ points）：有且只有一天开会人数最多。\n- Subtask $3$（$3$ points）：有可能有多天满足条件。\n", "locale": "en"}, "zh-CN": {"title": "[CCC 2023 J3] Special Event", "background": null, "description": "你正在尝试在五个可能的日子之一安排一个特别活动。你的任务是确定在哪一天安排活动，以便最多的感兴趣的人能够参加。", "inputFormat": "输入的第一行包含一个正整数 $N$，表示有兴趣参加活动的人数。接下来的 $N$ 行将分别包含一个人的可用性，使用一个字符表示第 1 天、第 2 天、第 3 天、第 4 天和第 5 天（按顺序）。字符 `Y` 表示该人可以参加，而句号（`.`）表示该人不能参加。下表显示了可用的 15 分的分配方式：\n|分数 |描述        |\n|:-:|:--------:|\n|6  |将会有且只有一天，所有人都可以参加。|\n|6  |将会有且只有一天，最多的人可以参加。|\n|3  |可能会有多天，最多的人可以参加。|", "outputFormat": "输出将由一行组成，列出最多感兴趣的人能够参加的日子编号。如果有多天最多的人能够参加，输出所有这些天的编号，按升序排列，并用逗号分隔（不加空格）。", "hint": "**本题采用捆绑测试**。\n- 子任务 $1$（$6$ 分）：有且只有一天全部人都可以开会。\n- 子任务 $2$（$6$ 分）：有且只有一天开会人数最多。\n- 子任务 $3$（$3$ 分）：有可能有多天满足条件。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9302", "type": "P", "difficulty": 2, "samples": [["5\n1 0 1 0 1\n0 0 0 0 0", "9"], ["7\n0 0 1 1 0 1 0\n0 0 1 0 1 0 0", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "CCC（加拿大）"], "title": "[CCC 2023 J4/S1] Trianglane", "background": "", "description": "Bocchi the Builder just finished constructing her latest project: a laneway consisting of two rows of white equilateral triangular tiles. However, at the last moment, disaster struck! She accidentally spilled black paint on some of the tiles. Now, some of the tiles are wet and the other tiles are dry. Bocchi must place warning tape around the perimeters of all wet areas. Can you help her determine how many metres of tape she needs?\n\nThe first triangular tile will point upwards. Each pair of adjacent tiles (that is, tiles that share a common side) will point in opposite directions. Each tile has a side length of $1$ metre.", "inputFormat": "The first line of input will consist of one positive integer $C$, representing the number of columns.\n\nThe next two lines will each consist of $C$ integers separated by spaces. Each integer represents\nthe colour of a tile along the laneway, with `1` indicating that the tile is black (wet) and `0` indicating that the tile is white (dry).\n\nThe following table shows how the available 15 marks are distributed:\n\n| Marks | Description | Bound |\n| :----------: | :---------- | :----------: |\n| 3 | The laneway is not very long, black tiles are never adjacent and the second row is fully white. | $C \\le 2 \\times 10^3$ |\n| 3 | The laneway is not very long, black tiles may be adjacent and the second row is fully white. | $C \\le 2 \\times 10^3$ |\n| 5 | The laneway is not very long, black tiles may be adjacent and may appear in the second row. | $C \\le 2 \\times 10^3$ |\n| 4 | The laneway may be very long, black tiles may be adjacent and may appear in the second row. | $C \\le 2 \\times 10^5$ |\n", "outputFormat": "Output a single integer representing the length of tape Bocchi needs,in metres.", "hint": "**本题采用捆绑测试**。\n\n- Subtask $1$（$3$ points）：$C \\leq 2 \\times 10^3$，黑色三角形不相邻，第二行全部为白色三角形。\n- Subtask $2$（$3$ points）：$C \\leq 2 \\times 10^3$，黑色三角形可能相邻，第二行全部为白色三角形。\n- Subtask $3$（$5$ points）：$C \\leq 2 \\times 10^3$，黑色三角形可能相邻，第二行可能有黑色三角形。\n- Subtask $4$（$4$ points）：$C \\leq 2 \\times 10^5$，黑色三角形可能相邻，第二行可能有黑色三角形。\n\n样例 $1$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5tfc7u5b.png)\n\n样例 $2$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4e22mx61.png)", "locale": "en", "translations": {"en": {"title": "[CCC 2023 J4/S1] Trianglane", "background": "", "description": "Bocchi the Builder just finished constructing her latest project: a laneway consisting of two rows of white equilateral triangular tiles. However, at the last moment, disaster struck! She accidentally spilled black paint on some of the tiles. Now, some of the tiles are wet and the other tiles are dry. Bocchi must place warning tape around the perimeters of all wet areas. Can you help her determine how many metres of tape she needs?\n\nThe first triangular tile will point upwards. Each pair of adjacent tiles (that is, tiles that share a common side) will point in opposite directions. Each tile has a side length of $1$ metre.", "inputFormat": "The first line of input will consist of one positive integer $C$, representing the number of columns.\n\nThe next two lines will each consist of $C$ integers separated by spaces. Each integer represents\nthe colour of a tile along the laneway, with `1` indicating that the tile is black (wet) and `0` indicating that the tile is white (dry).\n\nThe following table shows how the available 15 marks are distributed:\n\n| Marks | Description | Bound |\n| :----------: | :---------- | :----------: |\n| 3 | The laneway is not very long, black tiles are never adjacent and the second row is fully white. | $C \\le 2 \\times 10^3$ |\n| 3 | The laneway is not very long, black tiles may be adjacent and the second row is fully white. | $C \\le 2 \\times 10^3$ |\n| 5 | The laneway is not very long, black tiles may be adjacent and may appear in the second row. | $C \\le 2 \\times 10^3$ |\n| 4 | The laneway may be very long, black tiles may be adjacent and may appear in the second row. | $C \\le 2 \\times 10^5$ |\n", "outputFormat": "Output a single integer representing the length of tape Bocchi needs,in metres.", "hint": "**本题采用捆绑测试**。\n\n- Subtask $1$（$3$ points）：$C \\leq 2 \\times 10^3$，黑色三角形不相邻，第二行全部为白色三角形。\n- Subtask $2$（$3$ points）：$C \\leq 2 \\times 10^3$，黑色三角形可能相邻，第二行全部为白色三角形。\n- Subtask $3$（$5$ points）：$C \\leq 2 \\times 10^3$，黑色三角形可能相邻，第二行可能有黑色三角形。\n- Subtask $4$（$4$ points）：$C \\leq 2 \\times 10^5$，黑色三角形可能相邻，第二行可能有黑色三角形。\n\n样例 $1$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5tfc7u5b.png)\n\n样例 $2$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4e22mx61.png)", "locale": "en"}, "zh-CN": {"title": "[CCC 2023 J4/S1] Trianglane", "background": "", "description": "Bocchi the Builder 刚刚完成了她的最新项目：一条由两排白色等边三角形瓷砖组成的小巷。然而，在最后一刻，灾难降临了！她不小心把黑色油漆洒在了一些瓷砖上。现在，一些瓷砖是湿的，其他瓷砖是干的。Bocchi 必须在所有湿的区域周围放置警示胶带。你能帮她确定她需要多少米的胶带吗？\n\n第一个三角形瓷砖将指向上方。每对相邻的瓷砖（即共享一条边的瓷砖）将指向相反的方向。每块瓷砖的边长为 1 米。", "inputFormat": "输入的第一行将包含一个正整数 $C$，表示列数。\n\n接下来的两行每行将包含 $C$ 个用空格分隔的整数。每个整数表示沿小巷的一个瓷砖的颜色，`1` 表示瓷砖是黑色（湿的），`0` 表示瓷砖是白色（干的）。\n\n下表显示了可用的 15 分数是如何分配的：\n\n| Marks | Description | Bound |\n| :----------: | :---------- | :----------: |\n| 3 | 小巷不太长，黑色瓷砖从不相邻，第二行完全是白色。 | $C \\le 2 \\times 10^3$ |\n| 3 | 小巷不太长，黑色瓷砖可能相邻，第二行完全是白色。 | $C \\le 2 \\times 10^3$ |\n| 5 | 小巷不太长，黑色瓷砖可能相邻，第二行可能有黑色瓷砖。 | $C \\le 2 \\times 10^3$ |\n| 4 | 小巷可能很长，黑色瓷砖可能相邻，第二行可能有黑色瓷砖。 | $C \\le 2 \\times 10^5$ |", "outputFormat": "输出一个整数，表示 Bocchi 需要的胶带长度，以米为单位。", "hint": "**本题采用捆绑测试**。\n\n- 子任务 $1$（$3$ 分）：$C \\leq 2 \\times 10^3$，黑色三角形不相邻，第二行全部为白色三角形。\n- 子任务 $2$（$3$ 分）：$C \\leq 2 \\times 10^3$，黑色三角形可能相邻，第二行全部为白色三角形。\n- 子任务 $3$（$5$ 分）：$C \\leq 2 \\times 10^3$，黑色三角形可能相邻，第二行可能有黑色三角形。\n- 子任务 $4$（$4$ 分）：$C \\leq 2 \\times 10^5$，黑色三角形可能相邻，第二行可能有黑色三角形。\n\n样例 $1$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5tfc7u5b.png)\n\n样例 $2$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4e22mx61.png)\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9303", "type": "P", "difficulty": 3, "samples": [["MENU\n5\n7\nF T R U B L K\nP M N A X C U\nA E R C N E O\nM N E U A R M\nM U N E M N S", "3"], ["NATURE\n6\n9\nN A T S F E G Q N\nS A I B M R H F A\nC F T J C U C L T\nK B H U P T A N U\nD P R R R J D I R\nI E E K M E G B E", "4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "CCC（加拿大）"], "title": "[CCC 2023 J5] CCC Word Hunt", "background": "", "description": "In the CCC Word Hunt, words are hidden in a grid of letters. The letters of a hidden word always appear in order on horizontal, vertical, or diagonal line segments in one of two ways.One way is for the letters of a word to appear on one line segment. The other way is for the letters of a word to appear on one line segment up to some letter and then on a second line segment that forms a right angle at this letter.\n\nGiven a grid of letters and a single word to search for, your job is to determine the number of times that particular word is hidden in the grid.", "inputFormat": "The first line of input will contain a string of distinct uppercase letters $W$,representing the word you are to search for in the grid. The length of $W$ will be at least two. The second line of input will be an integer $R(1 \\le R \\le 100)$, where $R$ is the number of rows in the grid.The third line of input will be an integer $C(1 \\le C \\le 100)$, where $C$ is the number of columns in the grid.\n\nThe remaining input will provide the letters in the grid. It will consist of $R$ lines, where each line contains $C$ uppercase letters separated by single spaces.", "outputFormat": "The following table shows how the available 15 marks are distributed:\n\n| Marks | Word Placement |\n| :----------: | :---------- |\n| $2$ | On one horizontal line segment |\n| $2$ | On one horizontal or vertical line segment |\n| $2$ | On one horizontal, vertical, or diagonal line segment |\n| $9$ | On one line segment or two perpendicular line segments |\n\nThe output will consist of a single non-negative integer $H$, representing the number of times the word is hidden in the grid.", "hint": "**本题采用捆绑测试**。\n\n- Subtask $1$（$2$ points）：隐藏字符串一定在一条水平线段上。\n- Subtask $2$（$2$ points）：隐藏字符串一定在一个水平或垂直线段上。\n- Subtask $3$（$2$ points）：隐藏字符串一定在一个水平、垂直或对角线线段上。\n- Subtask $4$（$9$ points）：隐藏字符串一定在一个线段或两个互相垂直的线段上。\n\n样例 $1$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wqo2un8k.png)\n\n样例 $2$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v082p2qr.png)", "locale": "en", "translations": {"en": {"title": "[CCC 2023 J5] CCC Word Hunt", "background": "", "description": "In the CCC Word Hunt, words are hidden in a grid of letters. The letters of a hidden word always appear in order on horizontal, vertical, or diagonal line segments in one of two ways.One way is for the letters of a word to appear on one line segment. The other way is for the letters of a word to appear on one line segment up to some letter and then on a second line segment that forms a right angle at this letter.\n\nGiven a grid of letters and a single word to search for, your job is to determine the number of times that particular word is hidden in the grid.", "inputFormat": "The first line of input will contain a string of distinct uppercase letters $W$,representing the word you are to search for in the grid. The length of $W$ will be at least two. The second line of input will be an integer $R(1 \\le R \\le 100)$, where $R$ is the number of rows in the grid.The third line of input will be an integer $C(1 \\le C \\le 100)$, where $C$ is the number of columns in the grid.\n\nThe remaining input will provide the letters in the grid. It will consist of $R$ lines, where each line contains $C$ uppercase letters separated by single spaces.", "outputFormat": "The following table shows how the available 15 marks are distributed:\n\n| Marks | Word Placement |\n| :----------: | :---------- |\n| $2$ | On one horizontal line segment |\n| $2$ | On one horizontal or vertical line segment |\n| $2$ | On one horizontal, vertical, or diagonal line segment |\n| $9$ | On one line segment or two perpendicular line segments |\n\nThe output will consist of a single non-negative integer $H$, representing the number of times the word is hidden in the grid.", "hint": "**本题采用捆绑测试**。\n\n- Subtask $1$（$2$ points）：隐藏字符串一定在一条水平线段上。\n- Subtask $2$（$2$ points）：隐藏字符串一定在一个水平或垂直线段上。\n- Subtask $3$（$2$ points）：隐藏字符串一定在一个水平、垂直或对角线线段上。\n- Subtask $4$（$9$ points）：隐藏字符串一定在一个线段或两个互相垂直的线段上。\n\n样例 $1$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wqo2un8k.png)\n\n样例 $2$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v082p2qr.png)", "locale": "en"}, "zh-CN": {"title": "[CCC 2023 J5] CCC Word Hunt", "background": "", "description": "在 CCC 单词搜索游戏中，单词隐藏在一个字母网格中。隐藏单词的字母总是以顺序出现在水平、垂直或对角线段上，有两种方式。一种方式是单词的字母出现在一条线段上。另一种方式是单词的字母出现在一条线段上直到某个字母，然后在该字母处形成直角的第二条线段上。给定一个字母网格和一个要搜索的单词，你的任务是确定该特定单词在网格中隐藏的次数。", "inputFormat": "输入的第一行将包含一个由不同的大写字母组成的字符串 $W$，表示你要在网格中搜索的单词。$W$ 的长度至少为 2。输入的第二行将是一个整数 $R(1 \\le R \\le 100)$，其中 $R$ 是网格中的行数。输入的第三行将是一个整数 $C(1 \\le C \\le 100)$，其中 $C$ 是网格中的列数。剩下的输入将提供网格中的字母。它将由 $R$ 行组成，每行包含 $C$ 个用单个空格分隔的大写字母。", "outputFormat": "下表显示了可用的 15 分是如何分配的：\n\n| Marks | Word Placement |\n| :----------: | :---------- |\n| $2$ | 在一条水平线段上 |\n| $2$ | 在一条水平或垂直线段上 |\n| $2$ | 在一条水平、垂直或对角线段上 |\n| $9$ | 在一条线段或两个互相垂直的线段上 |\n\n输出将由一个非负整数 $H$ 组成，表示单词在网格中隐藏的次数。", "hint": "**本题采用捆绑测试**。\n\n- 子任务 $1$（$2$ 分）：隐藏字符串一定在一条水平线段上。\n- 子任务 $2$（$2$ 分）：隐藏字符串一定在一个水平或垂直线段上。\n- 子任务 $3$（$2$ 分）：隐藏字符串一定在一个水平、垂直或对角线段上。\n- 子任务 $4$（$9$ 分）：隐藏字符串一定在一个线段或两个互相垂直的线段上。\n\n样例 $1$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wqo2un8k.png)\n\n样例 $2$ 图解：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v082p2qr.png)\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9304", "type": "P", "difficulty": 3, "samples": [["5\n1 2\n1 3\n2 4\n2 5", "0\n1\n2\n4\n6"], ["见下发的 hope/hope2.in", "见下发的 hope/hope2.ans"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["树形数据结构", "O2优化", "深度优先搜索 DFS", "树的遍历"], "title": "「DTOI-5」3-1", "background": "——『太阳』这种东西，以前似乎是存在的。\n\n传说是这么讲的——白色的火焰发出闪耀的光芒，天空则是清澄无比的蔚蓝。\n\n据说诸神与其创造物所掀起的『大战』，使得大地化为焦土，灰烬遮蔽了苍穹。\n\n灰烬冲击到天上流动的星辰之力——精灵回廊，发出了光芒，将天空染成红色。\n\n而那样的红色，覆盖了仍然持续着互相残杀的每一块土地。\n\n或者那是这个星球本身发出的悲鸣与流出的鲜血吧……\n\n血色的天空上，只有——蓝色的灰飘然落下。\n\n~~回来吧3579，我最骄傲的信仰/ll~~", "description": "里克在视线可及的范围内发现了一颗古老的「神树」。\n\n神树是一颗树，树上有 $n$ 个含有魔法装置的位置。经过初步「考察」，有 $n - 1$ 条魔法连接，第 $i(1 \\leq i \\leq n - 1)$ 条连接 $u_i, v_i$ 两个魔法装置，保证 $u_i \\neq v_i$ 且 $1\\leq u_i,v_i\\leq n$。这两个装置可以相互**双向地**在 $1$ 单位时间内通行，保证仅由这 $n - 1$ 条连接，每个魔法装置都可以相互到达。\n\n此外，有 $n - 1$ 条特殊连接，对于每个魔法装置 $i \\in [2, n]$，可以**瞬间**传送到第 $1$ 个魔法装置，花费 $0$ 单位时间。**特殊连接总共只能使用一次**。\n\n里克初始在魔法装置 $1$ 处。现在，给出这棵「神树」的结构，里克想要在若干时间内研究尽可能多的魔法装置。我们假定，研究一个魔法装置只需要到达该装置处，并且不需要花费额外时间。\n\n里克想让你尽快计算出，对所有 $k \\in [1, n]$，如果要恰好研究 $k$ 个不同的魔法装置，**并且随之返回魔法装置 $\\bm 1$**，最少应花费多少时间。", "inputFormat": "第一行，一个整数 $n$。\n\n接下来 $n - 1$ 行，每行两个整数 $u_i, v_i$。", "outputFormat": "共 $n$ 行，第 $i$ 行一个整数表示 $k = i$ 的答案。", "hint": "**【样例解释 $\\bm 1$】**\n\n+ $k = 1$ 时，里克只需要呆在装置 $1$ 处。\n+ $k = 2$ 时，里克的路径可以是 $1 \\rightarrow 2 \\Rightarrow 1$。\n+ $k = 3$ 时，里克的路径可以是 $1 \\rightarrow 2 \\rightarrow 4 \\Rightarrow 1$。\n+ $k = 4$ 时，里克的路径可以是 $1 \\rightarrow 2 \\rightarrow 4 \\Rightarrow 1 \\rightarrow 3\\rightarrow 1$。\n+ $k = 5$ 时，里克的路径可以是 $1 \\rightarrow 3\\rightarrow 1 \\rightarrow 2 \\rightarrow 5 \\rightarrow 2 \\rightarrow 4 \\Rightarrow 1$。\n\n**【样例解释 $\\bm 2$】**\n\n这组数据满足测试点编号 $13 \\sim 20$ 的性质。\n\n**【数据规模与约定】**\n\n| 测试点编号 | 特殊限制 |\n| :--------: | :------: |\n| $1 \\sim 2$ | $n = 3$ |\n| $3 \\sim 4$ | $n = 5$ |\n| $5 \\sim 6$ | $n = 100$ |\n| $7 \\sim 8$ | $n = 1000$ |\n| $9 \\sim 10$ | $u_i = 1, v_i = i + 1$ |\n| $11 \\sim 12$ | $u_i = i, v_i = i + 1$ |\n| $13 \\sim 20$ | 无特殊限制 |\n\n对于所有数据，$1 \\leq n \\leq 10^5$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「DTOI-5」3-1", "background": "——『太阳』这种东西，以前似乎是存在的。\n\n传说是这么讲的——白色的火焰发出闪耀的光芒，天空则是清澄无比的蔚蓝。\n\n据说诸神与其创造物所掀起的『大战』，使得大地化为焦土，灰烬遮蔽了苍穹。\n\n灰烬冲击到天上流动的星辰之力——精灵回廊，发出了光芒，将天空染成红色。\n\n而那样的红色，覆盖了仍然持续着互相残杀的每一块土地。\n\n或者那是这个星球本身发出的悲鸣与流出的鲜血吧……\n\n血色的天空上，只有——蓝色的灰飘然落下。\n\n~~回来吧3579，我最骄傲的信仰/ll~~", "description": "里克在视线可及的范围内发现了一颗古老的「神树」。\n\n神树是一颗树，树上有 $n$ 个含有魔法装置的位置。经过初步「考察」，有 $n - 1$ 条魔法连接，第 $i(1 \\leq i \\leq n - 1)$ 条连接 $u_i, v_i$ 两个魔法装置，保证 $u_i \\neq v_i$ 且 $1\\leq u_i,v_i\\leq n$。这两个装置可以相互**双向地**在 $1$ 单位时间内通行，保证仅由这 $n - 1$ 条连接，每个魔法装置都可以相互到达。\n\n此外，有 $n - 1$ 条特殊连接，对于每个魔法装置 $i \\in [2, n]$，可以**瞬间**传送到第 $1$ 个魔法装置，花费 $0$ 单位时间。**特殊连接总共只能使用一次**。\n\n里克初始在魔法装置 $1$ 处。现在，给出这棵「神树」的结构，里克想要在若干时间内研究尽可能多的魔法装置。我们假定，研究一个魔法装置只需要到达该装置处，并且不需要花费额外时间。\n\n里克想让你尽快计算出，对所有 $k \\in [1, n]$，如果要恰好研究 $k$ 个不同的魔法装置，**并且随之返回魔法装置 $\\bm 1$**，最少应花费多少时间。", "inputFormat": "第一行，一个整数 $n$。\n\n接下来 $n - 1$ 行，每行两个整数 $u_i, v_i$。", "outputFormat": "共 $n$ 行，第 $i$ 行一个整数表示 $k = i$ 的答案。", "hint": "**【样例解释 $\\bm 1$】**\n\n+ $k = 1$ 时，里克只需要呆在装置 $1$ 处。\n+ $k = 2$ 时，里克的路径可以是 $1 \\rightarrow 2 \\Rightarrow 1$。\n+ $k = 3$ 时，里克的路径可以是 $1 \\rightarrow 2 \\rightarrow 4 \\Rightarrow 1$。\n+ $k = 4$ 时，里克的路径可以是 $1 \\rightarrow 2 \\rightarrow 4 \\Rightarrow 1 \\rightarrow 3\\rightarrow 1$。\n+ $k = 5$ 时，里克的路径可以是 $1 \\rightarrow 3\\rightarrow 1 \\rightarrow 2 \\rightarrow 5 \\rightarrow 2 \\rightarrow 4 \\Rightarrow 1$。\n\n**【样例解释 $\\bm 2$】**\n\n这组数据满足测试点编号 $13 \\sim 20$ 的性质。\n\n**【数据规模与约定】**\n\n| 测试点编号 | 特殊限制 |\n| :--------: | :------: |\n| $1 \\sim 2$ | $n = 3$ |\n| $3 \\sim 4$ | $n = 5$ |\n| $5 \\sim 6$ | $n = 100$ |\n| $7 \\sim 8$ | $n = 1000$ |\n| $9 \\sim 10$ | $u_i = 1, v_i = i + 1$ |\n| $11 \\sim 12$ | $u_i = i, v_i = i + 1$ |\n| $13 \\sim 20$ | 无特殊限制 |\n\n对于所有数据，$1 \\leq n \\leq 10^5$，$1 \\leq u_i, v_i \\leq n$。", "locale": "zh-CN"}}}
{"pid": "P9305", "type": "P", "difficulty": 4, "samples": [["2 1\n7\n3 3 2 2 114 4 7\n3 5 19 6 19 7 514\n0\n0\n0\n0\n0\n\n11\n5 2 4 3 9 8 1 9 7 11 10\n0\n3 4 8 5 3 7 2\n0\n1 6 6\n0\n0\n0\n1 10 5\n0\n0", "33\n2"], ["2 2\n7\n3 3 2 2 114 4 7\n3 5 19 6 19 7 514\n0\n0\n0\n0\n0\n\n11\n5 2 4 3 9 8 1 9 7 11 10\n0\n3 4 8 5 3 7 2\n0\n1 6 6\n0\n0\n0\n1 10 5\n0\n0", "33 38 0 0 0 0 0\n2 0 6 0 0 0 0 0 0 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "二分", "O2优化", "深度优先搜索 DFS"], "title": "「DTOI-5」校门外的枯树", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/6ouay5j8.png)\n\n校门内的枯树，25/02/24\n\n---\n\n某天放学，你走出了校门，发现校门外又双叒叕出现了一排树。只不过因为正值寒冬时节，树的叶子都掉光了，树们在寒风中瑟瑟发抖，让人担心它们会不会在某一时刻失去平衡，然后倒下来。", "description": "给定校门外的一排 $T$ 棵无向有根树（每棵树的根节点编号均为 $1$），每棵树的每条边有其重量 $m_i$，现在请你算出每棵树的不平衡度 **或** 该树的**每个节点的子树**的不平衡度，好让校方帮忙加固。$\\color{white}\\sout{\\text{不要问我为什么重量的字母是 }m\\text。}$\n\n注意这里的**树的边是有顺序的**，~~你总不可能把树枝掰断然后嫁接到另一个地方吧，这可是枯树啊喂~~。\n\n---\n\n对于一颗有根树，定义其不平衡度为该树被在根节点与某一叶子节点的一条最短路径分割为左右两部分（两个边集）后（两个边集均不含该最短路径中的边）两部分的边的总重之差的最小值。特别地，**单个点作为树的不平衡度为 $0$**；空边集内边的总重为 $0$。", "inputFormat": "最开始一行读入两个正整数 $T,k$，$T$ 表示数据组数（即树的总数）。在每组测试数据中，如果 $k=1$，那么你只需要算出整个树的不平衡度即可；如果 $k=2$，**你需要分别对每个节点计算出其子树的不平衡度**。\n\n对于每棵树，第一行读入一个正整数 $n$，$n$ 表示该树内的节点数。\n\n后 $n$ 行，第 $u$ 行描述一个节点，该节点编号为 $u$：\n- 第一个正整数，表示该点的儿子个数，记为 $x$。\n- 后有 $2x$ 个正整数，第 $2i-1$ 个数表示 $u$ 点**从左往右**第 $i$ 个儿子 $v$，第 $2i$ 个数表示连接 $u$ 与 $v$ 的边的重量 $m_{u\\leftrightarrow v}$。", "outputFormat": "输出 $T$ 行：\n- 如果 $k=1$，第 $i$ 行仅输出一个非负整数表示第 $i$ 棵树的不平衡度。\n- 如果 $k=2$，第 $i$ 行输出 $n$ 个非负整数，第 $j$ 个数表示第 $i$ 棵树中的第 $j$ 号节点的子树的不平衡度。", "hint": "**【数据范围】**\n\n**不捆绑测试**，同一 $\\text{Subtask}$ 内每个测试点等分。\n\n$$\n%\\def\\or{\\operatorname{or}}\n%这 arraystretch 咋老是拼错/oh\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|}\\hline\n\\textbf{Subtask}&\\sum n\\leqslant&k=&\\textbf{Special Constraints}&\\textbf{Score}\\cr\\hline\n\\sf1&2\\times10^5&1&\\bf A&1\\cr\\hline\n\\sf2&20&1&T=1&5\\cr\\hline\n\\sf3&5000&1&&5\\cr\\hline\n\\sf4&10^5&2&\\bf B&15\\cr\\hline\n\\sf5&3\\times10^5&1&&30\\cr\\hline\n\\sf6&2\\times10^5&2&\\bf A'&4\\cr\\hline\n\\sf7&3\\times10^5&2&&40\\cr\\hline\n\\end{array}\n$$\n- 特殊性质 $\\bf A$ ~~限宽 2.6m~~：保证每棵树只有一个叶子节点（$n\\geqslant2$）。\n- 特殊性质 $\\bf B$ ~~限高 4.5m~~：保证每棵树都为菊花图（根节点有 $n-1$ 个儿子）。\n- 特殊性质 $\\bf A'$：保证每棵树都是链（每个节点的度数不超过 $2$）。\n\n关于 $\\bf A$ 和 $\\bf A'$ 的区别：$\\bf A'$ 中有可能树的根的度数为 $2$，而 $\\bf A$ 中根的度数显然为 $1$。\n\n对于 $100\\%$ 的数据，$T \\leqslant 4000$，${\\color{red}\\textbf1}\\leqslant n\\leqslant 10^5$，$\\sum n\\leqslant 3\\times10^5$，$1 \\leqslant m_i \\leqslant10^4$，$1\\leqslant u, v\\leqslant n$，$k\\in\\{1,2\\}$。\n\n---\n叶子节点为没有儿子的节点，即除根节点以外在树中的度为 $1$ 的点。\n\n样例输入中为方便阅读加上了空行，实际数据中没有空行。\n\n\n**【样例 $\\bm1-\\bm1$ 解释】**\n\n\n该树如下图所示，边权即边的重量。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h5t1mz7x.png)\n\n最优解为选择 $1\\to2\\to7$ 作为分割路径，不平衡度为 ${\\large\\vert}(2+19+19)-7{\\large\\vert}=33$。\n\n如果选择 $1\\to2\\to6$ 作为分割路径，那么两部分的边的总重之差为 ${\\large\\vert}(2+19)-(7+514){\\large\\vert}=500$，不为最小值。\n\n$\\color{transparent}\\sout{注意到：\\begin{cases}114+2+19+19=154\\\\114+514+19+19=666\\end{cases}}$\n\n**【样例 $\\bm1-\\bm2$ 解释】**\n\n该树如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/14a0rhpe.png)\n\n最优解为选择 $1\\to3\\to7$ 作为分割路径，不平衡度为 ${\\large\\vert}(4+8+3+6)-(1+7+5+10){\\large\\vert}=2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「DTOI-5」校门外的枯树", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/6ouay5j8.png)\n\n校门内的枯树，25/02/24\n\n---\n\n某天放学，你走出了校门，发现校门外又双叒叕出现了一排树。只不过因为正值寒冬时节，树的叶子都掉光了，树们在寒风中瑟瑟发抖，让人担心它们会不会在某一时刻失去平衡，然后倒下来。", "description": "给定校门外的一排 $T$ 棵无向有根树（每棵树的根节点编号均为 $1$），每棵树的每条边有其重量 $m_i$，现在请你算出每棵树的不平衡度 **或** 该树的**每个节点的子树**的不平衡度，好让校方帮忙加固。$\\color{white}\\sout{\\text{不要问我为什么重量的字母是 }m\\text。}$\n\n注意这里的**树的边是有顺序的**，~~你总不可能把树枝掰断然后嫁接到另一个地方吧，这可是枯树啊喂~~。\n\n---\n\n对于一颗有根树，定义其不平衡度为该树被在根节点与某一叶子节点的一条最短路径分割为左右两部分（两个边集）后（两个边集均不含该最短路径中的边）两部分的边的总重之差的最小值。特别地，**单个点作为树的不平衡度为 $0$**；空边集内边的总重为 $0$。", "inputFormat": "最开始一行读入两个正整数 $T,k$，$T$ 表示数据组数（即树的总数）。在每组测试数据中，如果 $k=1$，那么你只需要算出整个树的不平衡度即可；如果 $k=2$，**你需要分别对每个节点计算出其子树的不平衡度**。\n\n对于每棵树，第一行读入一个正整数 $n$，$n$ 表示该树内的节点数。\n\n后 $n$ 行，第 $u$ 行描述一个节点，该节点编号为 $u$：\n- 第一个正整数，表示该点的儿子个数，记为 $x$。\n- 后有 $2x$ 个正整数，第 $2i-1$ 个数表示 $u$ 点**从左往右**第 $i$ 个儿子 $v$，第 $2i$ 个数表示连接 $u$ 与 $v$ 的边的重量 $m_{u\\leftrightarrow v}$。", "outputFormat": "输出 $T$ 行：\n- 如果 $k=1$，第 $i$ 行仅输出一个非负整数表示第 $i$ 棵树的不平衡度。\n- 如果 $k=2$，第 $i$ 行输出 $n$ 个非负整数，第 $j$ 个数表示第 $i$ 棵树中的第 $j$ 号节点的子树的不平衡度。", "hint": "**【数据范围】**\n\n**不捆绑测试**，同一 $\\text{Subtask}$ 内每个测试点等分。\n\n$$\n%\\def\\or{\\operatorname{or}}\n%这 arraystretch 咋老是拼错/oh\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|c|c|}\\hline\n\\textbf{Subtask}&\\sum n\\leqslant&k=&\\textbf{Special Constraints}&\\textbf{Score}\\cr\\hline\n\\sf1&2\\times10^5&1&\\bf A&1\\cr\\hline\n\\sf2&20&1&T=1&5\\cr\\hline\n\\sf3&5000&1&&5\\cr\\hline\n\\sf4&10^5&2&\\bf B&15\\cr\\hline\n\\sf5&3\\times10^5&1&&30\\cr\\hline\n\\sf6&2\\times10^5&2&\\bf A'&4\\cr\\hline\n\\sf7&3\\times10^5&2&&40\\cr\\hline\n\\end{array}\n$$\n- 特殊性质 $\\bf A$ ~~限宽 2.6m~~：保证每棵树只有一个叶子节点（$n\\geqslant2$）。\n- 特殊性质 $\\bf B$ ~~限高 4.5m~~：保证每棵树都为菊花图（根节点有 $n-1$ 个儿子）。\n- 特殊性质 $\\bf A'$：保证每棵树都是链（每个节点的度数不超过 $2$）。\n\n关于 $\\bf A$ 和 $\\bf A'$ 的区别：$\\bf A'$ 中有可能树的根的度数为 $2$，而 $\\bf A$ 中根的度数显然为 $1$。\n\n对于 $100\\%$ 的数据，$T \\leqslant 4000$，${\\color{red}\\textbf1}\\leqslant n\\leqslant 10^5$，$\\sum n\\leqslant 3\\times10^5$，$1 \\leqslant m_i \\leqslant10^4$，$1\\leqslant u, v\\leqslant n$，$k\\in\\{1,2\\}$。\n\n---\n叶子节点为没有儿子的节点，即除根节点以外在树中的度为 $1$ 的点。\n\n样例输入中为方便阅读加上了空行，实际数据中没有空行。\n\n\n**【样例 $\\bm1-\\bm1$ 解释】**\n\n\n该树如下图所示，边权即边的重量。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h5t1mz7x.png)\n\n最优解为选择 $1\\to2\\to7$ 作为分割路径，不平衡度为 ${\\large\\vert}(2+19+19)-7{\\large\\vert}=33$。\n\n如果选择 $1\\to2\\to6$ 作为分割路径，那么两部分的边的总重之差为 ${\\large\\vert}(2+19)-(7+514){\\large\\vert}=500$，不为最小值。\n\n$\\color{transparent}\\sout{注意到：\\begin{cases}114+2+19+19=154\\\\114+514+19+19=666\\end{cases}}$\n\n**【样例 $\\bm1-\\bm2$ 解释】**\n\n该树如下图所示。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/14a0rhpe.png)\n\n最优解为选择 $1\\to3\\to7$ 作为分割路径，不平衡度为 ${\\large\\vert}(4+8+3+6)-(1+7+5+10){\\large\\vert}=2$。", "locale": "zh-CN"}}}
{"pid": "P9306", "type": "P", "difficulty": 3, "samples": [["5\n1 5 2 4 3\n1 4 2 5 3", "3 48"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2023", "洛谷原创", "O2优化", "排列组合", "构造"], "title": "「DTOI-5」进行一个排的重 (Minimum Version)", "background": "**本题与 Maximum Version 的区别是所求最值和数据范围不同。**\n\n小 L 热衷于重排数列使之规整。", "description": "小 L 有一个长为 $n$ 的序列 $a$，其中每一项 $a_i$ 都是一个 pair $(p_i, q_i)$。\n\n为了让 $a$ 看起来规整一些，他钦定 $p, q$ 分别均为长为 $n$ 的排列。\n\n为了对 $a$ 的规整程度进行量化计算，他给出了一个权值函数 $f(a) = \\displaystyle\\sum_{i = 1}^n ([p_i > \\max_{j = 1}^{i - 1} p_j] + [q_i > \\max_{j = 1}^{i - 1} q_j])$。**注意 $i = 1$ 时两个方括号都能取到值，因为我们认为 $\\displaystyle\\max_{j = 1}^0 p_j = \\displaystyle\\max_{j = 1}^0 q_j = -\\infty$。**\n\n为了让 $a$ 看起来更加规整，他决定分别以某种方式重排 $a$ 得到 $a'$ 使得 $f(a')$ 最小。**注意重排时必须将 $a'_i = (p'_i, q'_i)$ 视为整体。**\n\n他希望你求出 $f(a')_{\\min}$ 的值，以及分别有多少个 $a'$ 可以取到 $f(a')_{\\min}$。\n\n由于方案数可能很大，你只需要求出结果对 $998244353$ 取模的值。", "inputFormat": "第一行，一个整数 $n$；\n\n第二行，$n$ 个整数 $p_1, p_2, \\cdots, p_n$；\n\n第三行，$n$ 个整数 $q_1, q_2, \\cdots, q_n$。", "outputFormat": "一行，两个整数，表示所求的值。", "hint": "**【数据范围】**\n\n$$\n\\def\\or{\\operatorname{or}}\n%\\def\\arrayscretch{1.5}\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{Subtask}&n\\le &\\textbf{Points}\\cr\\hline\n\\sf1&10&10 \\operatorname{pts}\\cr\\hline\n\\sf2&500&20 \\operatorname{pts}\\cr\\hline\n\\sf3&5\\times10^3&20 \\operatorname{pts}\\cr\\hline\n\\sf4&10^5&20 \\operatorname{pts}\\cr\\hline\n\\sf5&5\\times10^5&30 \\operatorname{pts}\\cr\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^5$，$1 \\leq p_i, q_i \\leq n$，保证 $p, q$ 均为**排列**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「DTOI-5」进行一个排的重 (Minimum Version)", "background": "**本题与 Maximum Version 的区别是所求最值和数据范围不同。**\n\n小 L 热衷于重排数列使之规整。", "description": "小 L 有一个长为 $n$ 的序列 $a$，其中每一项 $a_i$ 都是一个 pair $(p_i, q_i)$。\n\n为了让 $a$ 看起来规整一些，他钦定 $p, q$ 分别均为长为 $n$ 的排列。\n\n为了对 $a$ 的规整程度进行量化计算，他给出了一个权值函数 $f(a) = \\displaystyle\\sum_{i = 1}^n ([p_i > \\max_{j = 1}^{i - 1} p_j] + [q_i > \\max_{j = 1}^{i - 1} q_j])$。**注意 $i = 1$ 时两个方括号都能取到值，因为我们认为 $\\displaystyle\\max_{j = 1}^0 p_j = \\displaystyle\\max_{j = 1}^0 q_j = -\\infty$。**\n\n为了让 $a$ 看起来更加规整，他决定分别以某种方式重排 $a$ 得到 $a'$ 使得 $f(a')$ 最小。**注意重排时必须将 $a'_i = (p'_i, q'_i)$ 视为整体。**\n\n他希望你求出 $f(a')_{\\min}$ 的值，以及分别有多少个 $a'$ 可以取到 $f(a')_{\\min}$。\n\n由于方案数可能很大，你只需要求出结果对 $998244353$ 取模的值。", "inputFormat": "第一行，一个整数 $n$；\n\n第二行，$n$ 个整数 $p_1, p_2, \\cdots, p_n$；\n\n第三行，$n$ 个整数 $q_1, q_2, \\cdots, q_n$。", "outputFormat": "一行，两个整数，表示所求的值。", "hint": "**【数据范围】**\n\n$$\n\\def\\or{\\operatorname{or}}\n%\\def\\arrayscretch{1.5}\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{Subtask}&n\\le &\\textbf{Points}\\cr\\hline\n\\sf1&10&10 \\operatorname{pts}\\cr\\hline\n\\sf2&500&20 \\operatorname{pts}\\cr\\hline\n\\sf3&5\\times10^3&20 \\operatorname{pts}\\cr\\hline\n\\sf4&10^5&20 \\operatorname{pts}\\cr\\hline\n\\sf5&5\\times10^5&30 \\operatorname{pts}\\cr\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 5 \\times 10^5$，$1 \\leq p_i, q_i \\leq n$，保证 $p, q$ 均为**排列**。", "locale": "zh-CN"}}}
{"pid": "P9307", "type": "P", "difficulty": 5, "samples": [["5\n1 5 2 4 3\n1 4 2 5 3", "9 2"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200]}, "tags": ["动态规划 DP", "2023", "洛谷原创", "O2优化", "排列组合", "前缀和", "构造"], "title": "「DTOI-5」进行一个排的重 (Maximum Version)", "background": "**本题与 Minimum Version 的区别是所求最值和数据范围不同。**\n\n小 L 热衷于重排数列使之规整。", "description": "小 L 有一个长为 $n$ 的序列 $a$，其中每一项 $a_i$ 都是一个 pair $(p_i, q_i)$。\n\n为了让 $a$ 看起来规整一些，他钦定 $p, q$ 分别均为长为 $n$ 的排列。\n\n为了对 $a$ 的规整程度进行量化计算，他给出了一个权值函数 $f(a) = \\displaystyle\\sum_{i = 1}^n ([p_i > \\max_{j = 1}^{i - 1} p_j] + [q_i > \\max_{j = 1}^{i - 1} q_j])$。**注意 $i = 1$ 时两个方括号都能取到值，因为我们认为 $\\displaystyle\\max_{j = 1}^0 p_j = \\displaystyle\\max_{j = 1}^0 q_j = -\\infty$。**\n\n为了让 $a$ 看起来更加规整，他决定分别以某种方式重排 $a$ 得到 $a'$ 使得 $f(a')$ 最大。**注意重排时必须将 $a'_i = (p'_i, q'_i)$ 视为整体。**\n\n他希望你求出 $f(a')_{\\max}$ 的值，以及分别有多少个 $a'$ 可以取到 $f(a')_{\\max}$。\n\n由于方案数可能很大，你只需要求出结果对 $998244353$ 取模的值。", "inputFormat": "第一行，一个整数 $n$；\n\n第二行，$n$ 个整数 $p_1, p_2, \\cdots, p_n$；\n\n第三行，$n$ 个整数 $q_1, q_2, \\cdots, q_n$。", "outputFormat": "一行，两个整数，表示所求的值。", "hint": "**【数据范围】**\n\n$$\n\\def\\or{\\operatorname{or}}\n%\\def\\arrayscretch{1.5}\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{Subtask}&n\\le &\\textbf{Points}\\cr\\hline\n\\sf1&10&10 \\operatorname{pts}\\cr\\hline\n\\sf2&50&20 \\operatorname{pts}\\cr\\hline\n\\sf3&500&20 \\operatorname{pts}\\cr\\hline\n\\sf4&2\\times 10^3&20 \\operatorname{pts}\\cr\\hline\n\\sf5&/&30 \\operatorname{pts}\\cr\\hline\n\\end{array}\n$$\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^4$，$1 \\leq p_i, q_i \\leq n$，保证 $p, q$ 均为**排列**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「DTOI-5」进行一个排的重 (Maximum Version)", "background": "**本题与 Minimum Version 的区别是所求最值和数据范围不同。**\n\n小 L 热衷于重排数列使之规整。", "description": "小 L 有一个长为 $n$ 的序列 $a$，其中每一项 $a_i$ 都是一个 pair $(p_i, q_i)$。\n\n为了让 $a$ 看起来规整一些，他钦定 $p, q$ 分别均为长为 $n$ 的排列。\n\n为了对 $a$ 的规整程度进行量化计算，他给出了一个权值函数 $f(a) = \\displaystyle\\sum_{i = 1}^n ([p_i > \\max_{j = 1}^{i - 1} p_j] + [q_i > \\max_{j = 1}^{i - 1} q_j])$。**注意 $i = 1$ 时两个方括号都能取到值，因为我们认为 $\\displaystyle\\max_{j = 1}^0 p_j = \\displaystyle\\max_{j = 1}^0 q_j = -\\infty$。**\n\n为了让 $a$ 看起来更加规整，他决定分别以某种方式重排 $a$ 得到 $a'$ 使得 $f(a')$ 最大。**注意重排时必须将 $a'_i = (p'_i, q'_i)$ 视为整体。**\n\n他希望你求出 $f(a')_{\\max}$ 的值，以及分别有多少个 $a'$ 可以取到 $f(a')_{\\max}$。\n\n由于方案数可能很大，你只需要求出结果对 $998244353$ 取模的值。", "inputFormat": "第一行，一个整数 $n$；\n\n第二行，$n$ 个整数 $p_1, p_2, \\cdots, p_n$；\n\n第三行，$n$ 个整数 $q_1, q_2, \\cdots, q_n$。", "outputFormat": "一行，两个整数，表示所求的值。", "hint": "**【数据范围】**\n\n$$\n\\def\\or{\\operatorname{or}}\n%\\def\\arrayscretch{1.5}\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{Subtask}&n\\le &\\textbf{Points}\\cr\\hline\n\\sf1&10&10 \\operatorname{pts}\\cr\\hline\n\\sf2&50&20 \\operatorname{pts}\\cr\\hline\n\\sf3&500&20 \\operatorname{pts}\\cr\\hline\n\\sf4&2\\times 10^3&20 \\operatorname{pts}\\cr\\hline\n\\sf5&/&30 \\operatorname{pts}\\cr\\hline\n\\end{array}\n$$\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^4$，$1 \\leq p_i, q_i \\leq n$，保证 $p, q$ 均为**排列**。", "locale": "zh-CN"}}}
{"pid": "P9308", "type": "P", "difficulty": 6, "samples": [["10", "0 0 1 4 11 20 42 60 100 134"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["O2优化"], "title": "「DTOI-5」#1f1e33", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/9pyd7oxa.png)\n\nIn the middle of night.", "description": "定义函数 $f(n) = \\displaystyle\\sum_{i = 1}^n \\sum_{j = 1}^n \\sum_{k = 1}^n [i + j + k = n] \\operatorname{lcm}(i, \\gcd(j, k))$\n\n给定 $n$，对于所有 $1 \\leq i \\leq n$，**求出所有** $f(i) \\bmod 998244353$ 的值。", "inputFormat": "一行，一个整数 $n$。", "outputFormat": "一行，$n$ 个整数，表示所有 $f(i) \\bmod 998244353$ 的值。", "hint": "**【数据范围】**\n\n$$\n\\def\\or{\\operatorname{or}}\n%\\def\\arrayscretch{1.5}\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{测试点编号}&n= &\\textbf{Points}\\cr\\hline\n\\sf1&100&10 \\operatorname{pts}\\cr\\hline\n\\sf2&10^3&10 \\operatorname{pts}\\cr\\hline\n\\sf3&10^4&20 \\operatorname{pts}\\cr\\hline\n\\sf4&10^5&20 \\operatorname{pts}\\cr\\hline\n\\sf5&/&40 \\operatorname{pts}\\cr\\hline\n\\end{array}\n$$\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「DTOI-5」#1f1e33", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/9pyd7oxa.png)\n\nIn the middle of night.", "description": "定义函数 $f(n) = \\displaystyle\\sum_{i = 1}^n \\sum_{j = 1}^n \\sum_{k = 1}^n [i + j + k = n] \\operatorname{lcm}(i, \\gcd(j, k))$\n\n给定 $n$，对于所有 $1 \\leq i \\leq n$，**求出所有** $f(i) \\bmod 998244353$ 的值。", "inputFormat": "一行，一个整数 $n$。", "outputFormat": "一行，$n$ 个整数，表示所有 $f(i) \\bmod 998244353$ 的值。", "hint": "**【数据范围】**\n\n$$\n\\def\\or{\\operatorname{or}}\n%\\def\\arrayscretch{1.5}\n\\def\\arraystretch{1.5}\n\\begin{array}{|c|c|c|}\\hline\n\\textbf{测试点编号}&n= &\\textbf{Points}\\cr\\hline\n\\sf1&100&10 \\operatorname{pts}\\cr\\hline\n\\sf2&10^3&10 \\operatorname{pts}\\cr\\hline\n\\sf3&10^4&20 \\operatorname{pts}\\cr\\hline\n\\sf4&10^5&20 \\operatorname{pts}\\cr\\hline\n\\sf5&/&40 \\operatorname{pts}\\cr\\hline\n\\end{array}\n$$\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P9309", "type": "P", "difficulty": 3, "samples": [["1 6", "1"], ["10 11", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "2021", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2021] Number of Zeros / 零的个数", "background": "Day 1 Problem A.\n\n题面译自 [EGOI2021 zeros](https://stats.egoi.org/media/task_description/2021_zeros_en.pdf)。", "description": "圣诞老人已经在准备 $2021$ 年圣诞节。他希望买正整数个礼物，使得可以平均分给所有不淘气的孩子。然而，他不知道具体有多少不淘气的孩子，只知道数量一定在 $a$ 和 $b$ 之间。他希望买最少的正整数个礼物，使得可以被任何 $x\\in\\{a,a+1,\\ldots,b\\}$ 个孩子平分。\n\n他已经计算出这（可能很大的）礼物数量，但他不确定计算是否正确，希望你可以进行一些基本的正确性检查。你可以告诉他答案的后导零个数吗？", "inputFormat": "一行，两个整数 $a,b$。", "outputFormat": "一行，一个整数，表示答案的后导零个数。", "hint": "**样例 $1$ 解释**\n\n如果可能有 $1$ 至 $6$ 个不淘气的孩子，圣诞老人至少需要 $60$ 个礼物（这是最小的能被 $1,2,3,4,5,6$ 整除的正整数），而 $60$ 有一个后导零。\n\n---\n\n**样例 $2$ 解释**\n\n如果可能有 $10$ 或 $11$ 个不淘气的孩子，圣诞老人会买 $110$ 个礼物。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le a\\le b\\le 10^{18}$。\n\n- 子任务一（$6$ 分）：$b\\le 16$。\n- 子任务二（$7$ 分）：$b\\le 40$。\n- 子任务三（$9$ 分）：$a=1$，$b\\le 200$。\n- 子任务四（$12$ 分）：$b-a\\le 10^6$。\n- 子任务五（$17$ 分）：$a=1$。\n- 子任务六（$49$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2021] Number of Zeros / 零的个数", "background": "Day 1 Problem A.\n\n题面译自 [EGOI2021 zeros](https://stats.egoi.org/media/task_description/2021_zeros_en.pdf)。", "description": "圣诞老人已经在准备 $2021$ 年圣诞节。他希望买正整数个礼物，使得可以平均分给所有不淘气的孩子。然而，他不知道具体有多少不淘气的孩子，只知道数量一定在 $a$ 和 $b$ 之间。他希望买最少的正整数个礼物，使得可以被任何 $x\\in\\{a,a+1,\\ldots,b\\}$ 个孩子平分。\n\n他已经计算出这（可能很大的）礼物数量，但他不确定计算是否正确，希望你可以进行一些基本的正确性检查。你可以告诉他答案的后导零个数吗？", "inputFormat": "一行，两个整数 $a,b$。", "outputFormat": "一行，一个整数，表示答案的后导零个数。", "hint": "**样例 $1$ 解释**\n\n如果可能有 $1$ 至 $6$ 个不淘气的孩子，圣诞老人至少需要 $60$ 个礼物（这是最小的能被 $1,2,3,4,5,6$ 整除的正整数），而 $60$ 有一个后导零。\n\n---\n\n**样例 $2$ 解释**\n\n如果可能有 $10$ 或 $11$ 个不淘气的孩子，圣诞老人会买 $110$ 个礼物。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le a\\le b\\le 10^{18}$。\n\n- 子任务一（$6$ 分）：$b\\le 16$。\n- 子任务二（$7$ 分）：$b\\le 40$。\n- 子任务三（$9$ 分）：$a=1$，$b\\le 200$。\n- 子任务四（$12$ 分）：$b-a\\le 10^6$。\n- 子任务五（$17$ 分）：$a=1$。\n- 子任务六（$49$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9310", "type": "P", "difficulty": 5, "samples": [["3\n3 1 2 1 2 3", "4"], ["5\n5 1 2 3 2 3 1 4 5 4", "7"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "线段树", "树状数组", "2021", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2021] Luna likes Love / 卢娜爱磕 cp", "background": "Day 1 Problem B.\n\n题面译自 [EGOI2021 luna](https://stats.egoi.org/media/task_description/2021_luna_en.pdf)。", "description": "卢娜想出了一个不同寻常的点子。她让 $2n$ 个朋友排成一条长队，并给他们每人一个 $1\\sim n$ 的整数。每个整数恰好出现两次。每一对有相同数字的朋友组成一对情侣。\n\n卢娜希望让每一对情侣去一次约会。然而，并没有这么简单。为了让一对情侣去约会，双方在队伍中必须互相紧挨着，也就是说不能有任何人站在他们中间。\n\n卢娜可以进行两种操作：\n\n- 她可以让任意两个紧挨着的人交换位置。\n- 如果一对情侣互相紧挨着，卢娜可以让他们去约会。这一对情侣将从队伍中离开，后面的人会补上他们的位置。\n\n所有操作可以以任意的顺序进行。例如，她可以交换几次，然后让几对情侣去约会，再交换几次。\n\n请求出让所有人去约会的最少操作次数。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $2n$ 个整数 $a_i$，依次表示队伍中朋友拿到的数字。", "outputFormat": "一行，一个整数，表示最少操作次数。", "hint": "**样例 $1$ 解释**\n\n卢娜先让第三个人和第四个人交换位置，得到 $3,1,1,2,2,3$。\n\n然后她可以让数字 $1$ 和 $2$ 的情侣去约会。之后，数字 $3$ 的情侣会互相紧挨着，卢娜可以让他们也去约会。\n\n综上，共需要 $4$ 次操作：一次交换和三次让情侣去约会。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n\\le 5\\times 10^5$，$1\\le a_i\\le n$。\n\n- 子任务一（$7$ 分）：任意一对情侣都紧挨着，$n\\le 100$。\n- 子任务二（$8$ 分）：任意一对情侣之间至多有一个人，$n\\le 100$。\n- 子任务三（$11$ 分）：前 $n$ 个人的数字构成一个 $1\\sim n$ 的排列，$n\\le 3\\times 10^3$。\n- 子任务四（$16$ 分）：前 $n$ 个人的数字构成一个 $1\\sim n$ 的排列。\n- 子任务五（$22$ 分）：$n\\le 3\\times 10^3$。\n- 子任务六（$36$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2021] Luna likes Love / 卢娜爱磕 cp", "background": "Day 1 Problem B.\n\n题面译自 [EGOI2021 luna](https://stats.egoi.org/media/task_description/2021_luna_en.pdf)。", "description": "卢娜想出了一个不同寻常的点子。她让 $2n$ 个朋友排成一条长队，并给他们每人一个 $1\\sim n$ 的整数。每个整数恰好出现两次。每一对有相同数字的朋友组成一对情侣。\n\n卢娜希望让每一对情侣去一次约会。然而，并没有这么简单。为了让一对情侣去约会，双方在队伍中必须互相紧挨着，也就是说不能有任何人站在他们中间。\n\n卢娜可以进行两种操作：\n\n- 她可以让任意两个紧挨着的人交换位置。\n- 如果一对情侣互相紧挨着，卢娜可以让他们去约会。这一对情侣将从队伍中离开，后面的人会补上他们的位置。\n\n所有操作可以以任意的顺序进行。例如，她可以交换几次，然后让几对情侣去约会，再交换几次。\n\n请求出让所有人去约会的最少操作次数。", "inputFormat": "第一行一个整数 $n$。\n\n第二行 $2n$ 个整数 $a_i$，依次表示队伍中朋友拿到的数字。", "outputFormat": "一行，一个整数，表示最少操作次数。", "hint": "**样例 $1$ 解释**\n\n卢娜先让第三个人和第四个人交换位置，得到 $3,1,1,2,2,3$。\n\n然后她可以让数字 $1$ 和 $2$ 的情侣去约会。之后，数字 $3$ 的情侣会互相紧挨着，卢娜可以让他们也去约会。\n\n综上，共需要 $4$ 次操作：一次交换和三次让情侣去约会。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n\\le 5\\times 10^5$，$1\\le a_i\\le n$。\n\n- 子任务一（$7$ 分）：任意一对情侣都紧挨着，$n\\le 100$。\n- 子任务二（$8$ 分）：任意一对情侣之间至多有一个人，$n\\le 100$。\n- 子任务三（$11$ 分）：前 $n$ 个人的数字构成一个 $1\\sim n$ 的排列，$n\\le 3\\times 10^3$。\n- 子任务四（$16$ 分）：前 $n$ 个人的数字构成一个 $1\\sim n$ 的排列。\n- 子任务五（$22$ 分）：$n\\le 3\\times 10^3$。\n- 子任务六（$36$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9311", "type": "P", "difficulty": 4, "samples": [["1\n13\n7\n31\n12\n5\n3", "? 13\n? 7\n? 31\n? 12\n? 5\n? 3\n! 2 3\n7 13\n12 5 3"], ["2\n7\n2\n5", "? 3 7\n? 2 8\n? 1 5\n! 2 1\n2 5\n7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2021", "交互题", "Special Judge", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2021] Twin Cookies / 姐妹分饼干", "background": "Day 1 Problem C.\n\n题面译自 [EGOI2021 twincookies](https://stats.egoi.org/media/task_description/2021_twincookies_en.pdf)。\n\n本题官方没给交互库，由于交互库实现原因，数据可能较弱。如果您会写自适应交互库，可以与 rui_er 取得联系。", "description": "**本题是一道 I/O 交互题。**\n\n索菲在准备她们姐妹的生日派对。她们都喜欢饼干。这次生日，她们准备尝试一些新东西：不同饼干口味公司（UCTC）生产的饼干。\n\nUCTC 生产的每一个饼干都有一个在 $1$ 到 $10^{16}$ 之间的整数美味度。索菲姐妹会嫉妒彼此，因此她们收到的饼干的总美味度必须相同。\n\nUCTC 只接受**恰好 $n$ 个**饼干的订单。在每个订单中，顾客详细说明他们想要的每个饼干的美味度。\n\n顾名思义，不同饼干口味公司拒绝为同一个顾客生产两块美味度相同的饼干。索菲必须确保她从不订购同一种美味度两次——不管是同一个订单或者两个不同的订单。索菲以前从来没有从 UCTC 订购过，所以她可以购买每种口味的饼干最多一次。\n\n还有一件事阻碍着索菲：众所周知 UCTC 的物流服务极为糟糕。当一个顾客订购 $n$ 个饼干，只有其中一个会被送达。其余的饼干都被物流的员工偷吃了。顾客无法决定到底哪块饼干会被送达。\n\n鉴于生日临近，索菲只有时间订购至多 $101$ 次。你的任务是帮助她。\n\n具体地，你需要做的事情如下：\n\n1. 首先，订购饼干。你可以订购至多 $101$ 次，每次包含恰好 $n$ 个想要的美味度。你可以分多次订购。**在每笔订单发出后，你会立刻知道送达的饼干的美味度。**\n\n    请记住你不能多次订购同一个美味度的饼干，即使在不同订单中也不行。（特别地，如果你订购了一些美味度的饼干但没有送达，你也**不能**重复订购同一美味度的饼干。）\n\n2. 然后，分饼干。当你收到足够多饼干的时候，你应该给姐妹分配**一些**饼干。每个人应该收到至少一个饼干，并且她们收到的饼干的总美味度应该相同。**你不需要分配所有送达的饼干。**", "inputFormat": "", "outputFormat": "你的程序每次输出后，你必须**刷新输出流**。为了保证交互库立即得到你的输出，这是必须的。\n\n一些例子：\n\n- 在 C++ 语言中，有多种选择：\n    - `fflush(stdout);`\n    - `std::cout << std::flush;`\n    - `std::cout << std::endl;`（注意这会打印一个换行）\n    - 从 `std::cin` 读入也会刷新输出流。\n- 在 Java 语言中，你可以使用 `System.out.flush()`\n- 在 Python 语言中，你可以使用 `sys.stdout.flush()`\n\n---\n\n**交互方式**\n\n你的程序应该进行如下的若干操作：\n\n1. 从标准输入读入 $n$。\n2. 至多 $101$ 次：\n    1. 首先，向标准输出打印一行描述 $n$ 个饼干的一个订单。\n    2. 然后，输入送达的饼干美味度。\n    \n        保证这个数在当前订单的 $n$ 个美味度当中。\n3. 输出三行，描述一种给姐妹分配一些饼干的方式。\n\n交互库会在每一行写一个整数。\n\n为了订购饼干，输出一行，以 `?` 打头并跟着 $n$ 个整数：订购的饼干美味度。在每个整数之前输出一个空格。\n\n请记住你可以订购至多 $101$ 次，并且不被允许多次订购相同美味度的饼干。\n\n当你订购了足够多的饼干的时候，输出最后三行描述分配方式。\n\n第一行的格式是 `! m k`，其中 $m,k>0$：两个人分别分到饼干的数量。\n\n第二行包含 $m$ 个正整数，用一个空格隔开：第一个人收到的饼干美味度。\n\n第三行包含 $k$ 个正整数，用一个空格隔开：第二个人收到的饼干美味度。\n\n输出必须满足以下要求：\n\n1. 每个人至少收到一个饼干。\n2. 每个人收到饼干的总美味度相同。\n3. 你只能使用送达的饼干。\n4. 每个饼干只能分给至多一个人。\n\n任何符合要求的输出都将被判为 AC。特别地，你可以以任意顺序输出选择的饼干。\n\n在你输出完最后三行后，最后刷新一次输出流，并正常结束程序。", "hint": "**提示**\n\n样例输入输出应该一行一行阅读。你的程序交替从标准输入读一个整数以及向标准输出打印一行（或最后三行）。\n\n交互库任意地选择送达的饼干。这意味着在某些测试点中，交互库可能是自适应的；但在另一些测试点中，交互库可能随机选择。特别地，对于 $n=2$，如果你跟样例 $2$ 输出相同的订单，你可能得到不同的结果。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n\\le 5\\times 10^3$。\n\n- 子任务一（$8$ 分）：$n=1$。\n- 子任务二（$9$ 分）：$n\\le 2$。\n- 子任务三（$18$ 分）：$n\\le 25$。\n- 子任务四（$16$ 分）：$n\\le 200$。\n- 子任务五（$13$ 分）：$n\\le 10^3$。\n- 子任务六（$36$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2021] Twin Cookies / 姐妹分饼干", "background": "Day 1 Problem C.\n\n题面译自 [EGOI2021 twincookies](https://stats.egoi.org/media/task_description/2021_twincookies_en.pdf)。\n\n本题官方没给交互库，由于交互库实现原因，数据可能较弱。如果您会写自适应交互库，可以与 rui_er 取得联系。", "description": "**本题是一道 I/O 交互题。**\n\n索菲在准备她们姐妹的生日派对。她们都喜欢饼干。这次生日，她们准备尝试一些新东西：不同饼干口味公司（UCTC）生产的饼干。\n\nUCTC 生产的每一个饼干都有一个在 $1$ 到 $10^{16}$ 之间的整数美味度。索菲姐妹会嫉妒彼此，因此她们收到的饼干的总美味度必须相同。\n\nUCTC 只接受**恰好 $n$ 个**饼干的订单。在每个订单中，顾客详细说明他们想要的每个饼干的美味度。\n\n顾名思义，不同饼干口味公司拒绝为同一个顾客生产两块美味度相同的饼干。索菲必须确保她从不订购同一种美味度两次——不管是同一个订单或者两个不同的订单。索菲以前从来没有从 UCTC 订购过，所以她可以购买每种口味的饼干最多一次。\n\n还有一件事阻碍着索菲：众所周知 UCTC 的物流服务极为糟糕。当一个顾客订购 $n$ 个饼干，只有其中一个会被送达。其余的饼干都被物流的员工偷吃了。顾客无法决定到底哪块饼干会被送达。\n\n鉴于生日临近，索菲只有时间订购至多 $101$ 次。你的任务是帮助她。\n\n具体地，你需要做的事情如下：\n\n1. 首先，订购饼干。你可以订购至多 $101$ 次，每次包含恰好 $n$ 个想要的美味度。你可以分多次订购。**在每笔订单发出后，你会立刻知道送达的饼干的美味度。**\n\n    请记住你不能多次订购同一个美味度的饼干，即使在不同订单中也不行。（特别地，如果你订购了一些美味度的饼干但没有送达，你也**不能**重复订购同一美味度的饼干。）\n\n2. 然后，分饼干。当你收到足够多饼干的时候，你应该给姐妹分配**一些**饼干。每个人应该收到至少一个饼干，并且她们收到的饼干的总美味度应该相同。**你不需要分配所有送达的饼干。**", "inputFormat": "", "outputFormat": "你的程序每次输出后，你必须**刷新输出流**。为了保证交互库立即得到你的输出，这是必须的。\n\n一些例子：\n\n- 在 C++ 语言中，有多种选择：\n    - `fflush(stdout);`\n    - `std::cout << std::flush;`\n    - `std::cout << std::endl;`（注意这会打印一个换行）\n    - 从 `std::cin` 读入也会刷新输出流。\n- 在 Java 语言中，你可以使用 `System.out.flush()`\n- 在 Python 语言中，你可以使用 `sys.stdout.flush()`\n\n---\n\n**交互方式**\n\n你的程序应该进行如下的若干操作：\n\n1. 从标准输入读入 $n$。\n2. 至多 $101$ 次：\n    1. 首先，向标准输出打印一行描述 $n$ 个饼干的一个订单。\n    2. 然后，输入送达的饼干美味度。\n    \n        保证这个数在当前订单的 $n$ 个美味度当中。\n3. 输出三行，描述一种给姐妹分配一些饼干的方式。\n\n交互库会在每一行写一个整数。\n\n为了订购饼干，输出一行，以 `?` 打头并跟着 $n$ 个整数：订购的饼干美味度。在每个整数之前输出一个空格。\n\n请记住你可以订购至多 $101$ 次，并且不被允许多次订购相同美味度的饼干。\n\n当你订购了足够多的饼干的时候，输出最后三行描述分配方式。\n\n第一行的格式是 `! m k`，其中 $m,k>0$：两个人分别分到饼干的数量。\n\n第二行包含 $m$ 个正整数，用一个空格隔开：第一个人收到的饼干美味度。\n\n第三行包含 $k$ 个正整数，用一个空格隔开：第二个人收到的饼干美味度。\n\n输出必须满足以下要求：\n\n1. 每个人至少收到一个饼干。\n2. 每个人收到饼干的总美味度相同。\n3. 你只能使用送达的饼干。\n4. 每个饼干只能分给至多一个人。\n\n任何符合要求的输出都将被判为 AC。特别地，你可以以任意顺序输出选择的饼干。\n\n在你输出完最后三行后，最后刷新一次输出流，并正常结束程序。", "hint": "**提示**\n\n样例输入输出应该一行一行阅读。你的程序交替从标准输入读一个整数以及向标准输出打印一行（或最后三行）。\n\n交互库任意地选择送达的饼干。这意味着在某些测试点中，交互库可能是自适应的；但在另一些测试点中，交互库可能随机选择。特别地，对于 $n=2$，如果你跟样例 $2$ 输出相同的订单，你可能得到不同的结果。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n\\le 5\\times 10^3$。\n\n- 子任务一（$8$ 分）：$n=1$。\n- 子任务二（$9$ 分）：$n\\le 2$。\n- 子任务三（$18$ 分）：$n\\le 25$。\n- 子任务四（$16$ 分）：$n\\le 200$。\n- 子任务五（$13$ 分）：$n\\le 10^3$。\n- 子任务六（$36$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9312", "type": "P", "difficulty": 7, "samples": [["7 8\n4 2 3 1 5 6 7\n3 1 2 4\n1 2 1 3\n4 4 1 7\n6 10 1 7\n6 20 6 6\n6 30 5 5\n7 40 1 6\n7 50 7 7", "7\n-1\n4\n10\n30\n-1\n-1\n-1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2021", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2021] Lanterns / 灯笼", "background": "Day 1 Problem D.\n\n题面译自 [EGOI2021 lantern](https://stats.egoi.org/media/task_description/2021_lantern_en.pdf)。", "description": "农夫约翰带着他的奶牛群在阿尔卑斯山进行了一次徒步旅行！一段时间后，天色转暗，旅行结束了。然而，一些奶牛仍然被困在山脉的各个地方，现在约翰需要营救它们！\n\n现在牛群正在穿越的山脉用平面直角坐标系中的 $n$ 个点表示。我们称这些点为“山峰”。山峰被依次编号为 $1\\sim n$。第 $i$ 座山峰的坐标为 $(i,h_i)$。值 $h_i$ 代表第 $i$ 座山峰的**海拔高度**。保证 $h_1,h_2,\\ldots h_n$ 构成一个 $1\\sim n$ 的排列。\n\n山峰 $i$ 和山峰 $i+1$ 用一条线段相连。\n\n由于现在是晚上，约翰必须携带至少一盏正常工作的灯笼才能上山。幸运的是，有 $k$ 个灯笼可供购买。第 $j$ 个灯笼可以在山峰 $p_j$ 以 $c_j$ 法郎的价格购买。\n\n不幸的是，第 $j$ 个灯笼只有在约翰的海拔在 $[a_j,b_j]$ 时才能正常工作。换句话说，如果约翰的海拔严格低于 $a_j$ 或严格高于 $b_j$，第 $j$ 个灯笼不会正常工作。需要注意的是，灯笼在离开海拔范围时不会损坏。例如，当约翰的海拔超过 $b_j$ 时，第 $j$ 个灯笼会停止工作，但只要约翰返回到海拔 $b_j$，灯笼会重新开始工作。\n\n如果约翰现在在山峰 $p$，他可以执行以下三种操作之一：\n\n- 他可以买一个在 $p$ 处售卖的灯笼。购买灯笼后，他可以永久使用。\n- 如果 $p > 1$，他可以走到山峰 $p-1$。\n- 如果 $p < n$，他可以走到山峰 $p+1$。\n\n约翰在没有正常工作的灯笼时不能移动。他必须保证每个时刻都有至少一盏灯笼正常工作，才能在两座山峰间移动。（在行走过程中不必是同一盏灯笼。）\n\n例如，假设农夫约翰目前在海拔为 $4$ 的山峰上，希望走到高度为 $1$ 的相邻山峰。如果约翰有海拔范围为 $[1,3]$ 和 $[3,4]$ 的两盏灯笼，他可以从一个山峰走到另一个山峰。\n\n但是，如果约翰只有海拔范围为 $[1,1]$ 和 $[2,5]$ 的两盏灯笼，他无法在这两座山峰间行走：例如，他没有灯笼能在海拔 $1.47$ 处正常工作。\n\n你需要给出多个独立问题的答案。\n\n对于每个满足 $a_j\\le h_{p_j}\\le b_j$ 的 $1\\le j\\le k$，假设约翰一开始在山峰 $p_j$ 并买下第 $j$ 个灯笼。为了搜索整个山脉，他必须重复执行上面提到的三种操作。对于每个 $j$，求出约翰至少需要花几法郎，才能搜索整个山脉。（这个花费包括初始时买的第 $j$ 个灯笼。）", "inputFormat": "第一行两个整数 $n,k$——山峰个数和灯笼个数。\n\n第二行 $n$ 个整数 $h_1,h_2,\\ldots,h_n$：每座山峰的海拔。保证 $h_i$ 构成一个 $1\\sim n$ 的排列。\n\n接下来 $k$ 行，每行四个整数 $p_j,c_j,a_j,b_j$——第 $j$ 个灯笼的售卖位置、价格和海拔范围。", "outputFormat": "对于每个 $1\\le j\\le k$，输出一行：\n\n- 若 $h_{p_j}$ 不在 $[a_j,b_j]$ 内，输出 $-1$。\n- 否则，如果约翰一开始购买第 $j$ 个灯笼，无法搜索整个山脉，输出 $-1$。\n- 否则，输出此时的最少花费。", "hint": "**样例解释**\n\n如果约翰从第 $3$ 座山峰开始，购买第 $1$ 个灯笼，他可以如下操作：\n\n- 向左走两次，到达山峰 $1$。\n- 购买灯笼 $2$。\n- 向右走到山峰 $4$。\n- 购买灯笼 $3$。\n- 向右走到山峰 $7$。\n\n此时，约翰到达了每座山峰至少一次，花费了 $1+2+4=7$ 法郎。\n\n约翰不能从购买灯笼 $2,6,7$ 开始，因为它们在购买的海拔处不工作。因此，它们的答案为 $-1$。\n\n如果约翰从购买灯笼 $3,4$ 开始，他不用购买其他灯笼就可以访问每座山峰。\n\n如果约翰从购买灯笼 $5$ 开始，他必须购买灯笼 $4$。\n\n如果约翰从购买灯笼 $8$ 开始，他会被困在山峰 $7$。即使他购买了灯笼 $7$，他依然无法从山峰 $7$ 走到山峰 $6$。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n,k\\le 2\\times 10^3$，$1\\le h_i\\le n$ 且 $h_i$ 构成一个 $1\\sim n$ 的排列，$1\\le p_j\\le n$，$1\\le c_j\\le 10^6$，$1\\le a_j\\le b_j\\le n$。\n\n- 子任务一（$9$ 分）：$n\\le 20$，$k\\le 6$。\n- 子任务二（$12$ 分）：$n,k\\le 70$。\n- 子任务三（$23$ 分）：$n,k\\le 300$，$h_i=i$。\n- 子任务四（$16$ 分）：$n,k\\le 300$。\n- 子任务五（$40$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2021] Lanterns / 灯笼", "background": "Day 1 Problem D.\n\n题面译自 [EGOI2021 lantern](https://stats.egoi.org/media/task_description/2021_lantern_en.pdf)。", "description": "农夫约翰带着他的奶牛群在阿尔卑斯山进行了一次徒步旅行！一段时间后，天色转暗，旅行结束了。然而，一些奶牛仍然被困在山脉的各个地方，现在约翰需要营救它们！\n\n现在牛群正在穿越的山脉用平面直角坐标系中的 $n$ 个点表示。我们称这些点为“山峰”。山峰被依次编号为 $1\\sim n$。第 $i$ 座山峰的坐标为 $(i,h_i)$。值 $h_i$ 代表第 $i$ 座山峰的**海拔高度**。保证 $h_1,h_2,\\ldots h_n$ 构成一个 $1\\sim n$ 的排列。\n\n山峰 $i$ 和山峰 $i+1$ 用一条线段相连。\n\n由于现在是晚上，约翰必须携带至少一盏正常工作的灯笼才能上山。幸运的是，有 $k$ 个灯笼可供购买。第 $j$ 个灯笼可以在山峰 $p_j$ 以 $c_j$ 法郎的价格购买。\n\n不幸的是，第 $j$ 个灯笼只有在约翰的海拔在 $[a_j,b_j]$ 时才能正常工作。换句话说，如果约翰的海拔严格低于 $a_j$ 或严格高于 $b_j$，第 $j$ 个灯笼不会正常工作。需要注意的是，灯笼在离开海拔范围时不会损坏。例如，当约翰的海拔超过 $b_j$ 时，第 $j$ 个灯笼会停止工作，但只要约翰返回到海拔 $b_j$，灯笼会重新开始工作。\n\n如果约翰现在在山峰 $p$，他可以执行以下三种操作之一：\n\n- 他可以买一个在 $p$ 处售卖的灯笼。购买灯笼后，他可以永久使用。\n- 如果 $p > 1$，他可以走到山峰 $p-1$。\n- 如果 $p < n$，他可以走到山峰 $p+1$。\n\n约翰在没有正常工作的灯笼时不能移动。他必须保证每个时刻都有至少一盏灯笼正常工作，才能在两座山峰间移动。（在行走过程中不必是同一盏灯笼。）\n\n例如，假设农夫约翰目前在海拔为 $4$ 的山峰上，希望走到高度为 $1$ 的相邻山峰。如果约翰有海拔范围为 $[1,3]$ 和 $[3,4]$ 的两盏灯笼，他可以从一个山峰走到另一个山峰。\n\n但是，如果约翰只有海拔范围为 $[1,1]$ 和 $[2,5]$ 的两盏灯笼，他无法在这两座山峰间行走：例如，他没有灯笼能在海拔 $1.47$ 处正常工作。\n\n你需要给出多个独立问题的答案。\n\n对于每个满足 $a_j\\le h_{p_j}\\le b_j$ 的 $1\\le j\\le k$，假设约翰一开始在山峰 $p_j$ 并买下第 $j$ 个灯笼。为了搜索整个山脉，他必须重复执行上面提到的三种操作。对于每个 $j$，求出约翰至少需要花几法郎，才能搜索整个山脉。（这个花费包括初始时买的第 $j$ 个灯笼。）", "inputFormat": "第一行两个整数 $n,k$——山峰个数和灯笼个数。\n\n第二行 $n$ 个整数 $h_1,h_2,\\ldots,h_n$：每座山峰的海拔。保证 $h_i$ 构成一个 $1\\sim n$ 的排列。\n\n接下来 $k$ 行，每行四个整数 $p_j,c_j,a_j,b_j$——第 $j$ 个灯笼的售卖位置、价格和海拔范围。", "outputFormat": "对于每个 $1\\le j\\le k$，输出一行：\n\n- 若 $h_{p_j}$ 不在 $[a_j,b_j]$ 内，输出 $-1$。\n- 否则，如果约翰一开始购买第 $j$ 个灯笼，无法搜索整个山脉，输出 $-1$。\n- 否则，输出此时的最少花费。", "hint": "**样例解释**\n\n如果约翰从第 $3$ 座山峰开始，购买第 $1$ 个灯笼，他可以如下操作：\n\n- 向左走两次，到达山峰 $1$。\n- 购买灯笼 $2$。\n- 向右走到山峰 $4$。\n- 购买灯笼 $3$。\n- 向右走到山峰 $7$。\n\n此时，约翰到达了每座山峰至少一次，花费了 $1+2+4=7$ 法郎。\n\n约翰不能从购买灯笼 $2,6,7$ 开始，因为它们在购买的海拔处不工作。因此，它们的答案为 $-1$。\n\n如果约翰从购买灯笼 $3,4$ 开始，他不用购买其他灯笼就可以访问每座山峰。\n\n如果约翰从购买灯笼 $5$ 开始，他必须购买灯笼 $4$。\n\n如果约翰从购买灯笼 $8$ 开始，他会被困在山峰 $7$。即使他购买了灯笼 $7$，他依然无法从山峰 $7$ 走到山峰 $6$。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n,k\\le 2\\times 10^3$，$1\\le h_i\\le n$ 且 $h_i$ 构成一个 $1\\sim n$ 的排列，$1\\le p_j\\le n$，$1\\le c_j\\le 10^6$，$1\\le a_j\\le b_j\\le n$。\n\n- 子任务一（$9$ 分）：$n\\le 20$，$k\\le 6$。\n- 子任务二（$12$ 分）：$n,k\\le 70$。\n- 子任务三（$23$ 分）：$n,k\\le 300$，$h_i=i$。\n- 子任务四（$16$ 分）：$n,k\\le 300$。\n- 子任务五（$40$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9313", "type": "P", "difficulty": 3, "samples": [["7 10\n300 200 200 300 100 300 200", "1090"], ["3 20\n1000 500 100", "1280"], ["4 0\n200 100 300 200", "600"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2021", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2021] Shopping Fever / 购物热", "background": "Day 2 Problem A.\n\n题面译自 [EGOI2021 shoppingfever](https://stats.egoi.org/media/task_description/2021_shoppingfever_en.pdf)。", "description": "海蒂在一个大商店中。她希望购买 $n$ 个商品。\n\n今天是她的幸运日。商店正在进行促销活动：对于每笔账单，顾客获得以下两种优惠之一：\n\n1. 如果买了至少 $3$ 件商品，最便宜的一个免费。\n2. 如果买了少于 $3$ 件商品，这笔账单获得 $q\\%$ 的折扣。\n\n海蒂希望不重复地买所有 $n$ 件商品。她可以分成任意笔账单购买。对于每笔账单，将会按照对应的优惠政策打折。\n\n她买所有 $n$ 件商品至少需要多少钱？", "inputFormat": "第一行两个整数 $n,q$——商品数和买少于 $3$ 件时的折扣比例。\n\n第二行 $n$ 个整数 $p_i$——商品的价格。\n\n另外，保证商品价格可以被 $100$ 整除。因此，每笔账单折扣的价格永远为整数。", "outputFormat": "一行，一个整数——至少需要的钱数。", "hint": "**样例 $1$ 解释**\n\n海蒂先购买三个价格为 $200$ 元的商品，花费 $400$ 元（免费获得了一个商品）。再购买三个价格为 $300$ 元的商品，花费 $600$ 元（同样免费获得一个）。最后，她购买剩余的价格为 $100$ 元的商品，获得 $10\\%$ 的折扣。\n\n---\n\n**样例 $2$ 解释**\n\n如果海蒂用一笔账单购买三个商品，她获得 $100$ 元的折扣。然而，如果她分三次购买三个商品，获得的折扣变为 $(1000+500+100)\\cdot\\frac{20}{100}=320$ 元。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n\\le 10^5$，$0\\le q\\le 100$，$100\\le p_i\\le 10^5$ 且 $100\\mid p_i$。\n\n- 子任务一（$8$ 分）：$n=3$，$100\\le p_i\\le 10^3$。\n- 子任务二（$18$ 分）：$q=0$。\n- 子任务三（$16$ 分）：$q=40$。\n- 子任务四（$22$ 分）：$100\\le p_i\\le 10^3$。\n- 子任务五（$36$ 分）：无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2021] Shopping Fever / 购物热", "background": "Day 2 Problem A.\n\n题面译自 [EGOI2021 shoppingfever](https://stats.egoi.org/media/task_description/2021_shoppingfever_en.pdf)。", "description": "海蒂在一个大商店中。她希望购买 $n$ 个商品。\n\n今天是她的幸运日。商店正在进行促销活动：对于每笔账单，顾客获得以下两种优惠之一：\n\n1. 如果买了至少 $3$ 件商品，最便宜的一个免费。\n2. 如果买了少于 $3$ 件商品，这笔账单获得 $q\\%$ 的折扣。\n\n海蒂希望不重复地买所有 $n$ 件商品。她可以分成任意笔账单购买。对于每笔账单，将会按照对应的优惠政策打折。\n\n她买所有 $n$ 件商品至少需要多少钱？", "inputFormat": "第一行两个整数 $n,q$——商品数和买少于 $3$ 件时的折扣比例。\n\n第二行 $n$ 个整数 $p_i$——商品的价格。\n\n另外，保证商品价格可以被 $100$ 整除。因此，每笔账单折扣的价格永远为整数。", "outputFormat": "一行，一个整数——至少需要的钱数。", "hint": "**样例 $1$ 解释**\n\n海蒂先购买三个价格为 $200$ 元的商品，花费 $400$ 元（免费获得了一个商品）。再购买三个价格为 $300$ 元的商品，花费 $600$ 元（同样免费获得一个）。最后，她购买剩余的价格为 $100$ 元的商品，获得 $10\\%$ 的折扣。\n\n---\n\n**样例 $2$ 解释**\n\n如果海蒂用一笔账单购买三个商品，她获得 $100$ 元的折扣。然而，如果她分三次购买三个商品，获得的折扣变为 $(1000+500+100)\\cdot\\frac{20}{100}=320$ 元。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le n\\le 10^5$，$0\\le q\\le 100$，$100\\le p_i\\le 10^5$ 且 $100\\mid p_i$。\n\n- 子任务一（$8$ 分）：$n=3$，$100\\le p_i\\le 10^3$。\n- 子任务二（$18$ 分）：$q=0$。\n- 子任务三（$16$ 分）：$q=40$。\n- 子任务四（$22$ 分）：$100\\le p_i\\le 10^3$。\n- 子任务五（$36$ 分）：无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P9314", "type": "P", "difficulty": 3, "samples": [["100 2 1 4\n20 50\n30 60\n120\n30 100 200 250", "NO"], ["1000 1 1 1\n600\n700\n100\n400", "YES"], ["1000 1 1 1\n600\n700\n100\n300", "NO"], ["1000 1 1 1\n600\n700\n100\n500", "NO"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2021", "O2优化", "EGOI（欧洲/女生）"], "title": "[EGOI 2021] Railway / 瑞士铁路", "background": "Day 2 Problem B.\n\n题面译自 [EGOI2021 railway](https://stats.egoi.org/media/task_description/2021_railway_en.pdf)。", "description": "有一条连接苏黎世和卢加诺的长度为 $s$ 千米的铁路。铁路穿过了美丽的阿尔卑斯山，造就了旅程中壮观的景色。由于一些山口对铁路来说太高了，在线路上修剪了 $t$ 条隧道。第 $i$ 条隧道在距离苏黎世 $a_i$ 千米处开始，在 $b_i$ 千米处结束。（因此，第 $i$ 条隧道的长度为 $b_i-a_i$。）\n\n你有一份两地之间的列车时刻表。从苏黎世到卢加诺有 $m$ 班列车，第 $j$ 班列车在 $c_j$ 分钟发车；从卢加诺到苏黎世有 $n$ 班列车，第 $k$ 班列车在 $d_k$ 分钟发车。所有运行中的列车，无论其方向和是否在隧道内，速度均恒为 $1$ 千米每分钟。路程中没有车站，列车也不会在信号灯处停车。因此，每班列车恰好花费 $s$ 分钟到达终点站。\n\n与铁路的长度相比，列车的长度可以忽略不计，所以在本题中，**请假设每班列车是一个沿铁路移动的点**。\n\n通常情况下，铁路有两条轨道：两个方向各有一条。唯一的例外是隧道。每个隧道只有一条轨道，可以从任何方向通行。\n\n无论何时，只要两班反向运行的列车在隧道外相遇时，他们总是可以安全地经过对方。这包括列车正好在隧道的端点处相遇。但另一方面，如果两班反向运行的列车在隧道内严格$^\\dagger$相遇，就会发生碰撞。\n\n已知隧道信息和列车时刻表，请判断是否会发生碰撞。\n\n$^\\dagger$严格：原文如此（strictly）。", "inputFormat": "第一行四个整数 $s,t,m,n$——铁路长度、隧道个数、从苏黎世和卢加诺发车的列车数量。\n\n第二行 $t$ 个整数 $a_i$——每个隧道的起点。\n\n第三行 $t$ 个整数 $b_i$——每个隧道的终点。\n\n第四行 $m$ 个整数 $c_j$——从苏黎世发车的时间。\n\n第五行 $n$ 个整数 $d_k$——从卢加诺发车的时间。", "outputFormat": "一行，一个为 `YES` 或 `NO` 的字符串，代表是否会发生碰撞。", "hint": "**样例 $1$ 解释**\n\n在长度为 $100$ 千米的铁路上，有两条隧道：距离苏黎世 $20\\sim 30$ 千米处和 $50\\sim 60$ 千米处。唯一一班从苏黎世发车的列车避开了所有从卢加诺发车的列车，如下：\n\n- 与第一班车在距离苏黎世 $5$ 千米处相遇。\n- 与第二班车在两个隧道间相遇。\n- 与第三班车在距离卢加诺 $10$ 千米处相遇。\n- 第四班车在该班车到站后很久才发车。\n\n---\n\n**样例 $2$ 解释**\n\n两班列车在唯一的隧道中间相撞。\n\n---\n\n**样例 $3$ 解释**\n\n两班列车在隧道靠近苏黎世的一端相遇。\n\n---\n\n**样例 $4$ 解释**\n\n两班列车在隧道靠近卢加诺的一端相遇。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le s\\le 10^9$，$0\\le t\\le 10^5$，$0\\le m,n\\le 2\\times 10^3$，$0\\le a_i < s$，$0 < b_i\\le s$，$a_i < b_i$，$b_i < a_{i+1}$，$0\\le c_j,d_k\\le 10^9$，$c_j < c_{j+1}$，$d_k < d_{k+1}$。\n\n在前三个子任务中，保证 $s,c_j,d_k$ 均为偶数。\n\n- 子任务一（$14$ 分）：$t,m,n\\le 100$，$s\\le 5\\times 10^3$。\n- 子任务二（$16$ 分）：$t\\le 5\\times 10^3$，$s\\le 10^6$。\n- 子任务三（$41$ 分）：无特殊限制。\n- 子任务四（$29$ 分）：无特殊限制。另外，$s,c_j,d_k$ 不一定是偶数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[EGOI 2021] Railway / 瑞士铁路", "background": "Day 2 Problem B.\n\n题面译自 [EGOI2021 railway](https://stats.egoi.org/media/task_description/2021_railway_en.pdf)。", "description": "有一条连接苏黎世和卢加诺的长度为 $s$ 千米的铁路。铁路穿过了美丽的阿尔卑斯山，造就了旅程中壮观的景色。由于一些山口对铁路来说太高了，在线路上修剪了 $t$ 条隧道。第 $i$ 条隧道在距离苏黎世 $a_i$ 千米处开始，在 $b_i$ 千米处结束。（因此，第 $i$ 条隧道的长度为 $b_i-a_i$。）\n\n你有一份两地之间的列车时刻表。从苏黎世到卢加诺有 $m$ 班列车，第 $j$ 班列车在 $c_j$ 分钟发车；从卢加诺到苏黎世有 $n$ 班列车，第 $k$ 班列车在 $d_k$ 分钟发车。所有运行中的列车，无论其方向和是否在隧道内，速度均恒为 $1$ 千米每分钟。路程中没有车站，列车也不会在信号灯处停车。因此，每班列车恰好花费 $s$ 分钟到达终点站。\n\n与铁路的长度相比，列车的长度可以忽略不计，所以在本题中，**请假设每班列车是一个沿铁路移动的点**。\n\n通常情况下，铁路有两条轨道：两个方向各有一条。唯一的例外是隧道。每个隧道只有一条轨道，可以从任何方向通行。\n\n无论何时，只要两班反向运行的列车在隧道外相遇时，他们总是可以安全地经过对方。这包括列车正好在隧道的端点处相遇。但另一方面，如果两班反向运行的列车在隧道内严格$^\\dagger$相遇，就会发生碰撞。\n\n已知隧道信息和列车时刻表，请判断是否会发生碰撞。\n\n$^\\dagger$严格：原文如此（strictly）。", "inputFormat": "第一行四个整数 $s,t,m,n$——铁路长度、隧道个数、从苏黎世和卢加诺发车的列车数量。\n\n第二行 $t$ 个整数 $a_i$——每个隧道的起点。\n\n第三行 $t$ 个整数 $b_i$——每个隧道的终点。\n\n第四行 $m$ 个整数 $c_j$——从苏黎世发车的时间。\n\n第五行 $n$ 个整数 $d_k$——从卢加诺发车的时间。", "outputFormat": "一行，一个为 `YES` 或 `NO` 的字符串，代表是否会发生碰撞。", "hint": "**样例 $1$ 解释**\n\n在长度为 $100$ 千米的铁路上，有两条隧道：距离苏黎世 $20\\sim 30$ 千米处和 $50\\sim 60$ 千米处。唯一一班从苏黎世发车的列车避开了所有从卢加诺发车的列车，如下：\n\n- 与第一班车在距离苏黎世 $5$ 千米处相遇。\n- 与第二班车在两个隧道间相遇。\n- 与第三班车在距离卢加诺 $10$ 千米处相遇。\n- 第四班车在该班车到站后很久才发车。\n\n---\n\n**样例 $2$ 解释**\n\n两班列车在唯一的隧道中间相撞。\n\n---\n\n**样例 $3$ 解释**\n\n两班列车在隧道靠近苏黎世的一端相遇。\n\n---\n\n**样例 $4$ 解释**\n\n两班列车在隧道靠近卢加诺的一端相遇。\n\n---\n\n**数据范围**\n\n对于全部数据，$1\\le s\\le 10^9$，$0\\le t\\le 10^5$，$0\\le m,n\\le 2\\times 10^3$，$0\\le a_i < s$，$0 < b_i\\le s$，$a_i < b_i$，$b_i < a_{i+1}$，$0\\le c_j,d_k\\le 10^9$，$c_j < c_{j+1}$，$d_k < d_{k+1}$。\n\n在前三个子任务中，保证 $s,c_j,d_k$ 均为偶数。\n\n- 子任务一（$14$ 分）：$t,m,n\\le 100$，$s\\le 5\\times 10^3$。\n- 子任务二（$16$ 分）：$t\\le 5\\times 10^3$，$s\\le 10^6$。\n- 子任务三（$41$ 分）：无特殊限制。\n- 子任务四（$29$ 分）：无特殊限制。另外，$s,c_j,d_k$ 不一定是偶数。", "locale": "zh-CN"}}}
