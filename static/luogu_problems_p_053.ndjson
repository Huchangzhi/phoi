{"pid": "P2065", "type": "P", "difficulty": 5, "samples": [["7\n4 3\n2 6 6 15\n2 3 5\n2 3\n4 9\n8 16 32\n4 2\n4 9 11 13\n5 7\n5 5\n2 3 5 1001 1001\n7 11 13 30 30\n10 10\n2 3 5 7 9 11 13 15 17 29\n4 6 10 14 18 22 26 30 34 38\n20 20\n195 144 903 63 137 513 44 626 75 473\n876 421 568 519 755 840 374 368 570 872\n363 650 155 265 64 26 426 391 15 421\n373 984 564 54 823 477 565 866 879 638\n100 100\n195 144 903 63 137 513 44 626 75 473\n876 421 568 519 755 840 374 368 570 872\n363 650 155 265 64 26 426 391 15 421\n373 984 564 54 823 477 565 866 879 638\n117 755 835 683 52 369 302 424 513 870\n75 874 299 228 140 361 30 342 750 819\n761 123 804 325 952 405 578 517 49 457\n932 941 988 767 624 41 912 702 241 426\n351 92 300 648 318 216 785 347 556 535\n166 318 434 746 419 386 928 996 680 975\n231 390 916 220 933 319 37 846 797 54\n272 924 145 348 350 239 563 135 362 119\n446 305 213 879 51 631 43 755 405 499\n509 412 887 203 408 821 298 443 445 96\n274 715 796 417 839 147 654 402 280 17\n298 725 98 287 382 923 694 201 679 99\n699 188 288 364 389 694 185 464 138 406\n558 188 897 354 603 737 277 35 139 556\n826 213 59 922 499 217 846 193 416 525\n69 115 489 355 256 654 49 439 118 961", "3\n1\n0\n4\n9\n18\n85"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2011", "各省省选", "网络流", "二分图", "最大公约数 gcd", "天津"], "title": "[TJOI2011] 卡片", "background": null, "description": "桌子上有 $m$ 张蓝色卡片与 $n$ 张红色卡片，每张卡片上有一个大于 $1$ 的整数。现在你要从桌子上拿走一些卡片，分若干次拿。每次只能拿走一组卡片：这组卡片颜色不同，并且两张卡片上面的数字的最大公约数大于 $1$。问：最多可以从桌上拿走多少组卡片。", "inputFormat": "第一行读入一个整数 $T$，为数据组数。\n\n每组数据的格式如下：\n\n> $m\\ n$  \n> $b_1\\ b_2\\ \\ldots\\ b_m$  \n> $r_1\\ r_2\\ \\ldots\\ r_n$  \n\n第二行给出每张蓝色卡片上面的数字，第三行给出每张红色卡片上的数字。", "outputFormat": "对每组测试数据，输出最多可以拿走多少组卡片。", "hint": "对 $100 \\%$ 的数据：$1 \\le T \\le 100$，$1 \\le m, n \\le 500$，卡片上的数字大于 $1$，小于 ${10}^7$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2011] Cards", "background": "", "description": "There are $m$ blue cards and $n$ red cards on the table, each with an integer greater than $1$ on it. You will remove some cards from the table in several steps. Each time, you may remove exactly one pair of cards: the two cards have different colors, and the greatest common divisor of the two numbers on them is greater than $1$. Question: what is the maximum number of pairs you can remove from the table?", "inputFormat": "The first line contains an integer $T$, the number of test cases.\n\nThe format of each test case is as follows:\n\n> $m\\ n$  \n> $b_1\\ b_2\\ \\ldots\\ b_m$  \n> $r_1\\ r_2\\ \\ldots\\ r_n$  \n\nThe second line gives the numbers on the blue cards, and the third line gives the numbers on the red cards.", "outputFormat": "For each test case, output the maximum number of pairs of cards that can be removed.", "hint": "For $100 \\%$ of the testdata: $1 \\le T \\le 100$, $1 \\le m, n \\le 500$, and each card’s number is greater than $1$ and less than ${10}^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2011] 卡片", "background": null, "description": "桌子上有 $m$ 张蓝色卡片与 $n$ 张红色卡片，每张卡片上有一个大于 $1$ 的整数。现在你要从桌子上拿走一些卡片，分若干次拿。每次只能拿走一组卡片：这组卡片颜色不同，并且两张卡片上面的数字的最大公约数大于 $1$。问：最多可以从桌上拿走多少组卡片。", "inputFormat": "第一行读入一个整数 $T$，为数据组数。\n\n每组数据的格式如下：\n\n> $m\\ n$  \n> $b_1\\ b_2\\ \\ldots\\ b_m$  \n> $r_1\\ r_2\\ \\ldots\\ r_n$  \n\n第二行给出每张蓝色卡片上面的数字，第三行给出每张红色卡片上的数字。", "outputFormat": "对每组测试数据，输出最多可以拿走多少组卡片。", "hint": "对 $100 \\%$ 的数据：$1 \\le T \\le 100$，$1 \\le m, n \\le 500$，卡片上的数字大于 $1$，小于 ${10}^7$。", "locale": "zh-CN"}}}
{"pid": "P2066", "type": "P", "difficulty": 3, "samples": [["3 3\n30 40 50\n20 30 50\n20 25 30\n", "70\n1 1\n2 1\n3 1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "搜索", "背包 DP"], "title": "机器分配", "background": "", "description": "总公司拥有高效设备 $M$ 台，准备分给下属的 $N$ 个分公司。各分公司若获得这些设备，可以为国家提供一定的盈利。问：如何分配这 $M$ 台设备才能使国家得到的盈利最大？求出最大盈利值。其中 $M \\le 15$，$N \\le 10$。分配原则：每个公司有权获得任意数目的设备，但总台数不超过设备数 $M$。\n", "inputFormat": "第一行有两个数，第一个数是分公司数 $N$，第二个数是设备台数 $M$。\n\n接下来是一个 $N \\times M$ 的矩阵，表明了第 $i$ 个公司分配 $j$ 台机器的盈利。\n\n最大盈利值相同时，要求编号小的公司分得设备尽可能少。\n", "outputFormat": "第一行为最大盈利值。\n\n接下来 $N$ 行为第 $i$ 分公司分 $x$ 台。\n\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Machine Allocation", "background": "", "description": "The head office has $M$ high-efficiency machines to distribute to $N$ subsidiary companies. If a company receives a certain number of machines, it can generate a corresponding profit for the country. How should these $M$ machines be allocated to maximize the total profit? Find the maximum profit. Constraints: $M \\le 15$, $N \\le 10$. Allocation rule: each company may receive any number of machines, but the total number cannot exceed $M$.\n\nIf multiple allocations yield the same maximum profit, break ties by making earlier-indexed companies receive as few machines as possible, that is, minimize $x_1$; if still tied, minimize $x_2$; and so on.", "inputFormat": "The first line contains two numbers: the number of companies $N$ and the number of machines $M$.\n\nThen follows an $N \\times M$ matrix. The entry at row $i$ and column $j$ gives the profit when company $i$ is assigned $j$ machines.", "outputFormat": "The first line contains the maximum profit.\n\nThen output $N$ lines. In the $i$-th line, output the number $x$ of machines assigned to company $i$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "机器分配", "background": "", "description": "总公司拥有高效设备 $M$ 台，准备分给下属的 $N$ 个分公司。各分公司若获得这些设备，可以为国家提供一定的盈利。问：如何分配这 $M$ 台设备才能使国家得到的盈利最大？求出最大盈利值。其中 $M \\le 15$，$N \\le 10$。分配原则：每个公司有权获得任意数目的设备，但总台数不超过设备数 $M$。\n", "inputFormat": "第一行有两个数，第一个数是分公司数 $N$，第二个数是设备台数 $M$。\n\n接下来是一个 $N \\times M$ 的矩阵，表明了第 $i$ 个公司分配 $j$ 台机器的盈利。\n\n最大盈利值相同时，要求编号小的公司分得设备尽可能少。\n", "outputFormat": "第一行为最大盈利值。\n\n接下来 $N$ 行为第 $i$ 分公司分 $x$ 台。\n\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2067", "type": "P", "difficulty": 2, "samples": [["3\n010\n111\nx1x\n", "y=-1.0000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "数学", "洛谷原创"], "title": "Cytus-Holyknight", "background": "本人最初作\n\n以此纪念伟大的 ios、安卓、PSV 平台音乐游戏《Cytus》\n\n后续将不断更新。\n\n------------- Chapter V-1 -------------\n\n话说两位战士整天靠在一起好无聊啊，于是她们打算——玩游戏！（？）\n\n她们就用剑画了一个十字架，然后开始抛石子，好好玩啊（？？？）\n\n两个人每人有一个石子，当她们丢完后，正在自学数学的小蓝大叫：把他们连起来不就是一次函数吗！！\n\n于是乎，她们就连了起来，然后她们开始计算。此时她们发现一个严重的问题——没有草稿纸！（这什么破问题= =）\n\n由于脑补能力太低，她们只好让你来帮帮忙啦~", "description": "以图像形式给定一条直线上的若干个点，请以以下形式中的一个给出该直线的方程（其中 $k$ 和 $b$ 为常数）：\n\n- $y=kx+b$\n- $y=kx$\n- $y=b$\n- $x=b$", "inputFormat": "第一行，一个正整数 $n$，表示该图形大小是 $n\\times n$；\n\n接下来 $n$ 行，每行 $n$ 个字符，$1$ 表示坐标轴，$x$ 表示该整点在直线上，$0$ 表示该整点不在直线上。\n\n横行的 $1$ 是 $x$ 轴，竖列的 $1$ 是 $y$ 轴。\n\n上下两行，左右两列的距离恒为 $1$。", "outputFormat": "输出一行，表示该直线的方程。\n\n常数始终保留四位小数。", "hint": "数据保证有唯一解。\n\n对于 $100\\%$ 的数据，$3\\le n\\le16$。", "locale": "zh-CN", "translations": {"en": {"title": "Cytus-Holyknight", "background": "Originally created by me.\n\nTo commemorate the great music game Cytus on iOS, Android, and PSV.\n\nWill be continuously updated.\n\n------------- Chapter V-1 -------------\n\nThe two warriors were bored leaning together all day, so they decided to play a game!\n\nThey drew a cross with their swords and started tossing pebbles—so fun!\n\nEach of them had one pebble. After they threw them, Xiao Lan (pinyin), who was self-studying math, shouted: If you connect them, isn’t that a linear function!\n\nSo, they connected them and began to calculate. Then they discovered a serious problem—no scratch paper!\n\nWith such weak imagination, they had to ask you for help.", "description": "Given, in image form, several points on a straight line (all are integer points and none lie on the coordinate axes), output the equation of the line in one of the following forms (where $k$ and $b$ are constants):\n\n- $y=kx+b$\n- $y=kx$\n- $y=b$\n- $x=b$", "inputFormat": "The first line contains a positive integer $n$, indicating the size of the figure is $n\\times n$.\n\nThe next $n$ lines each contain $n$ characters. Character '1' marks the coordinate axes, 'x' indicates that the integer point lies on the line, and '0' indicates that the integer point does not lie on the line.\n\nThe horizontal row of '1's is the x-axis, and the vertical column of '1's is the y-axis.\n\nThe distances between adjacent rows and adjacent columns are always 1.", "outputFormat": "Output one line: the equation of the line.\n\nConstants should always be printed with 4 decimal places.", "hint": "The testdata guarantees a unique solution.\n\nConstraints: For 100% of the testdata, $3\\le n\\le16$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Cytus-Holyknight", "background": "本人最初作\n\n以此纪念伟大的 ios、安卓、PSV 平台音乐游戏《Cytus》\n\n后续将不断更新。\n\n------------- Chapter V-1 -------------\n\n话说两位战士整天靠在一起好无聊啊，于是她们打算——玩游戏！（？）\n\n她们就用剑画了一个十字架，然后开始抛石子，好好玩啊（？？？）\n\n两个人每人有一个石子，当她们丢完后，正在自学数学的小蓝大叫：把他们连起来不就是一次函数吗！！\n\n于是乎，她们就连了起来，然后她们开始计算。此时她们发现一个严重的问题——没有草稿纸！（这什么破问题= =）\n\n由于脑补能力太低，她们只好让你来帮帮忙啦~", "description": "以图像形式给定一条直线上的若干个点，请以以下形式中的一个给出该直线的方程（其中 $k$ 和 $b$ 为常数）：\n\n- $y=kx+b$\n- $y=kx$\n- $y=b$\n- $x=b$", "inputFormat": "第一行，一个正整数 $n$，表示该图形大小是 $n\\times n$；\n\n接下来 $n$ 行，每行 $n$ 个字符，$1$ 表示坐标轴，$x$ 表示该整点在直线上，$0$ 表示该整点不在直线上。\n\n横行的 $1$ 是 $x$ 轴，竖列的 $1$ 是 $y$ 轴。\n\n上下两行，左右两列的距离恒为 $1$。", "outputFormat": "输出一行，表示该直线的方程。\n\n常数始终保留四位小数。", "hint": "数据保证有唯一解。\n\n对于 $100\\%$ 的数据，$3\\le n\\le16$。", "locale": "zh-CN"}}}
{"pid": "P2068", "type": "P", "difficulty": 4, "samples": [["5\n4\nx 3 8\ny 1 3\nx 4 9\ny 3 4", "8\n17\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "树状数组"], "title": "统计和", "background": null, "description": "给定一个长度为 $n(0\\leq n\\leq 10^5)$，初始值都为 $0$ 的序列，$x(0\\leq x\\leq 10^5)$ 次的修改某些位置上的数字，每次加上一个数，并在此期间提出 $y(0\\leq y\\leq 10^5)$ 个问题，求每段区间的和。", "inputFormat": "第一行 $1$ 个整数，表示序列的长度 $n$。\n\n第二行 $1$ 个整数，表示操作的次数 $w(0\\leq w\\leq 2\\times 10^5)$。\n\n后面依次是 $w$ 行，分别表示加入和询问操作。\n\n其中，加入用 `x` 表示，询问用 `y` 表示。\n\n$x$ 的格式为 `x a b` 表示在序列上第 $a$ 个数加上 $b$。保证 $1 \\leq a \\leq n$，$1 \\leq b \\leq 10^9$。\n\n$y$ 的格式为 `y a b` 表示询问 $a$ 到 $b$ 区间的加和。保证 $1 \\leq a \\leq b \\leq n$。", "outputFormat": "每行一个正整数，分别是每次询问的结果。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Range Sum", "background": "", "description": "Given a sequence of length $n(0\\leq n\\leq 10^5)$ whose initial values are all $0$, perform $x(0\\leq x\\leq 10^5)$ modifications on some positions, adding a number each time, and during this process ask $y(0\\leq y\\leq 10^5)$ queries to find the sum of each interval.", "inputFormat": "The first line contains $1$ integer, the length of the sequence $n$.\n\nThe second line contains $1$ integer, the number of operations $w(0\\leq w\\leq 2\\times 10^5)$.\n\nThen follow $w$ lines, each representing an add or a query operation.\n\nHere, add is denoted by `x`, and query is denoted by `y`.\n\nThe format of $x$ is `x a b`, meaning add $b$ to the $a$-th number in the sequence. It is guaranteed that $1 \\leq a \\leq n$, $1 \\leq b \\leq 10^9$.\n\nThe format of $y$ is `y a b`, meaning query the sum over the interval from $a$ to $b$. It is guaranteed that $1 \\leq a \\leq b \\leq n$.", "outputFormat": "Each line contains a positive integer, which is the result of each query.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "统计和", "background": null, "description": "给定一个长度为 $n(0\\leq n\\leq 10^5)$，初始值都为 $0$ 的序列，$x(0\\leq x\\leq 10^5)$ 次的修改某些位置上的数字，每次加上一个数，并在此期间提出 $y(0\\leq y\\leq 10^5)$ 个问题，求每段区间的和。", "inputFormat": "第一行 $1$ 个整数，表示序列的长度 $n$。\n\n第二行 $1$ 个整数，表示操作的次数 $w(0\\leq w\\leq 2\\times 10^5)$。\n\n后面依次是 $w$ 行，分别表示加入和询问操作。\n\n其中，加入用 `x` 表示，询问用 `y` 表示。\n\n$x$ 的格式为 `x a b` 表示在序列上第 $a$ 个数加上 $b$。保证 $1 \\leq a \\leq n$，$1 \\leq b \\leq 10^9$。\n\n$y$ 的格式为 `y a b` 表示询问 $a$ 到 $b$ 区间的加和。保证 $1 \\leq a \\leq b \\leq n$。", "outputFormat": "每行一个正整数，分别是每次询问的结果。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2069", "type": "P", "difficulty": 2, "samples": [["10 \r\n4\r\n", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串"], "title": "松鼠吃果子", "background": "", "description": "有 $n$ 个一种松鼠喜欢吃的果子由下向上串排成一列，并标号 $1\\sim n$。一只松鼠从最下果子开始向上跳，并且第 $i$ 次跳可以一次跳过 $(i^3 \\bmod 5 + 1)$ 个果子，并把脚下的果子吃了，如果上面有果子，在重力作用下，都将向下掉下一格。如第 $1$ 次跳从第一个果子上跳过 $(1^3 \\bmod 5 + 1 = ) 2$ 个果子，可跳到第 $3$ 个果子上，并把第 $3$ 个果子吃了；第 $2$ 次从第 $4$ 个果子上(落在原来第三个果子位置)跳过 $(2^3\\bmod 5 + 1 = ) 4$ 个到第 $8$ 个果子上，并把第 $8$ 个吃了；如此反复。\n\n当然，总有一次松鼠会跳出这串果子的最前面，设为每 $k$ 次，它吃不到任何果子了。这时它回到最下面的果子上，重做它的第 $k$ 次跳，以求吃到果子。如此，问它吃的第 $m$ 只果子(即第 $m$ 跳吃到的果子)的标号是什么？", "inputFormat": "一共两行，分别为 $n$ 和 $m$（$1\\le m\\le n\\le 200$，并且满足能够跳到第 $m$ 次）。", "outputFormat": "一个数，即它吃的第 $m$ 只果子的标号。", "hint": "注：吃掉的果子依次为 $3$，$8$，$4$（回到下面重做第 $3$ 跳），$9$（回到下面重做第 $4$ 跳）。", "locale": "zh-CN", "translations": {"en": {"title": "Squirrel Eats Fruits", "background": "", "description": "There are $n$ fruits that a squirrel likes to eat, arranged in a vertical column from bottom to top and labeled $1$ to $n$. The squirrel starts from the lowest fruit and jumps upward. On the $i$-th jump, it can skip $(i^3 \\bmod 5 + 1)$ fruits at once and then eats the fruit it lands on. After it eats that fruit, if there are fruits above, all of them fall down by one position due to gravity. For example, on the 1st jump it jumps over $(1^3 \\bmod 5 + 1 = 2)$ fruits from the first fruit to the third fruit and eats the third; on the 2nd jump it starts from the fourth fruit (which has fallen to the original third position), jumps over $(2^3 \\bmod 5 + 1 = 4)$ fruits to the eighth fruit, and eats the eighth; and so on.\n\nOf course, at some point the squirrel will jump beyond the top of this chain; suppose this first happens on the $k$-th jump, so it cannot eat any fruit on that attempt. It then returns to the bottommost fruit and redoes its $k$-th jump, in order to try to eat a fruit. Repeat this process. Given this, what is the label of the $m$-th fruit it eats (i.e., the fruit eaten on the $m$-th successful jump)?", "inputFormat": "Two lines containing $n$ and $m$ respectively ($1 \\le m \\le n \\le 200$), and it is guaranteed that the $m$-th successful jump exists.", "outputFormat": "A single integer: the label of the $m$-th fruit it eats.", "hint": "Note: The eaten fruits in order are $3$, $8$, $4$ (return to the bottom and redo the 3rd jump), $9$ (return to the bottom and redo the 4th jump).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "松鼠吃果子", "background": "", "description": "有 $n$ 个一种松鼠喜欢吃的果子由下向上串排成一列，并标号 $1\\sim n$。一只松鼠从最下果子开始向上跳，并且第 $i$ 次跳可以一次跳过 $(i^3 \\bmod 5 + 1)$ 个果子，并把脚下的果子吃了，如果上面有果子，在重力作用下，都将向下掉下一格。如第 $1$ 次跳从第一个果子上跳过 $(1^3 \\bmod 5 + 1 = ) 2$ 个果子，可跳到第 $3$ 个果子上，并把第 $3$ 个果子吃了；第 $2$ 次从第 $4$ 个果子上(落在原来第三个果子位置)跳过 $(2^3\\bmod 5 + 1 = ) 4$ 个到第 $8$ 个果子上，并把第 $8$ 个吃了；如此反复。\n\n当然，总有一次松鼠会跳出这串果子的最前面，设为每 $k$ 次，它吃不到任何果子了。这时它回到最下面的果子上，重做它的第 $k$ 次跳，以求吃到果子。如此，问它吃的第 $m$ 只果子(即第 $m$ 跳吃到的果子)的标号是什么？", "inputFormat": "一共两行，分别为 $n$ 和 $m$（$1\\le m\\le n\\le 200$，并且满足能够跳到第 $m$ 次）。", "outputFormat": "一个数，即它吃的第 $m$ 只果子的标号。", "hint": "注：吃掉的果子依次为 $3$，$8$，$4$（回到下面重做第 $3$ 跳），$9$（回到下面重做第 $4$ 跳）。", "locale": "zh-CN"}}}
{"pid": "P2070", "type": "P", "difficulty": 4, "samples": [["6\r\n2 R\r\n6 L\r\n1 R\r\n8 L\r\n1 R\r\n2 R", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "2013", "线段树", "USACO", "离散化", "差分"], "title": "[USACO13JAN] 刷墙 Painting the Fence B", "background": null, "description": "Farmer John 已经设计了一种方法来装饰谷仓旁边的长栅栏（把栅栏认为是一根一维的线）。他把一只画刷绑在他最喜爱的奶牛 Bessie 身上，之后就去喝一杯冰水，而 Bessie 隔着栅栏来回走，当她走过某个地方，这里的一段栅栏就被刷上了涂料。\n\nBessie 从栅栏上的位置 $0$ 开始，并且遵循着一个 $N$ 次移动的次序（$1\\le N\\le10^5$）。例如 `10 L` 表示 Bessie 向左移动了 $10$ 个单位长度，`15 R` 表示 Bessie 向右移动了 $15$ 个单位长度。现给出 Bessie 所有移动的列表，Farmer John 想要知道哪些区域的栅栏至少涂了两层涂料（只涂一层涂料的区域可能在大雨中被洗掉）。Bessie 在她的行走中最远到达距起始点 $10^9$ 个单位长度。", "inputFormat": "第 $1$ 行：一个整型数 $N$。\n\n第 $2 \\sim N+1$ 行：每行描述了 Bessie 的 $N$ 次移动中的一次，例如 `15 L`。", "outputFormat": "$1$ 行：被至少涂了两层涂料的区域总数。", "hint": "【样例解释】\n\nBessie 从位置 $0$ 开始，向右移动 $2$ 个单位长度，向左移动 $6$ 个单位长度，向右移动 $1$ 个单位长度，向左移动 $8$ 个单位长度，最后向右移动 $3$ 个单位长度。\n\n$6$ 个单位区域至少被涂了两层涂料，是 $[-11,-8],[-4,-3],[0,2]$ 这些区域。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO13JAN] Painting the Fence S", "background": null, "description": "Farmer John has devised a brilliant method to paint the long fence next to his barn (think of the fence as a one-dimensional number line). He simply attaches a paint brush to his favorite cow Bessie, and then retires to drink a cold glass of water as Bessie walks back and forth across the fence, applying paint to any segment of the fence that she walks past.\n\nBessie starts at position 0 on the fence and follows a sequence of N moves (1 <= N <= 100,000). Example moves might be \"10 L\", meaning Bessie moves 10 units to the left, or \"15 R\", meaning Bessie moves 15 units to the right. Given a list of all of Bessie's moves, FJ would like to know what area of the fence gets painted with at least K coats of paint. Bessie will move at most 1,000,000,000 units away from the origin during her walk.", "inputFormat": null, "outputFormat": null, "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO13JAN] 刷墙 Painting the Fence B", "background": null, "description": "Farmer John 已经设计了一种方法来装饰谷仓旁边的长栅栏（把栅栏认为是一根一维的线）。他把一只画刷绑在他最喜爱的奶牛 Bessie 身上，之后就去喝一杯冰水，而 Bessie 隔着栅栏来回走，当她走过某个地方，这里的一段栅栏就被刷上了涂料。\n\nBessie 从栅栏上的位置 $0$ 开始，并且遵循着一个 $N$ 次移动的次序（$1\\le N\\le10^5$）。例如 `10 L` 表示 Bessie 向左移动了 $10$ 个单位长度，`15 R` 表示 Bessie 向右移动了 $15$ 个单位长度。现给出 Bessie 所有移动的列表，Farmer John 想要知道哪些区域的栅栏至少涂了两层涂料（只涂一层涂料的区域可能在大雨中被洗掉）。Bessie 在她的行走中最远到达距起始点 $10^9$ 个单位长度。", "inputFormat": "第 $1$ 行：一个整型数 $N$。\n\n第 $2 \\sim N+1$ 行：每行描述了 Bessie 的 $N$ 次移动中的一次，例如 `15 L`。", "outputFormat": "$1$ 行：被至少涂了两层涂料的区域总数。", "hint": "【样例解释】\n\nBessie 从位置 $0$ 开始，向右移动 $2$ 个单位长度，向左移动 $6$ 个单位长度，向右移动 $1$ 个单位长度，向左移动 $8$ 个单位长度，最后向右移动 $3$ 个单位长度。\n\n$6$ 个单位区域至少被涂了两层涂料，是 $[-11,-8],[-4,-3],[0,2]$ 这些区域。", "locale": "zh-CN"}}}
{"pid": "P2071", "type": "P", "difficulty": 4, "samples": [["4\n1 2\n1 3\n1 2\n1 3\n1 3\n2 4\n1 3\n2 3\n", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分图"], "title": "座位安排", "background": "公元二零一四年四月十七日，小明参加了省赛，在一路上，他遇到了许多问题，请你帮他解决。\n", "description": "已知车上有 $N$ 排座位，有 $2N$ 个人参加省赛，每排座位只能坐两人，且每个人都有自己想坐的排数，问最多使多少人坐到自己想坐的位置。", "inputFormat": "第一行，一个正整数 $N$。\n\n第二行至第 $2N+1$ 行，每行两个正整数 $S_{i, 1},S_{i, 2}$，为每个人想坐的排数。", "outputFormat": "一个非负整数，为最多使得多少人满意。\n", "hint": "对于 $10\\%$ 的数据，$n \\le 10$；\n\n对于 $30\\%$ 的数据，$n \\le 50$；\n\n对于 $60\\%$ 的数据，$n \\le 200$；\n\n对于 $100\\%$ 的数据，$n \\le 2000$。", "locale": "zh-CN", "translations": {"en": {"title": "Seat Arrangement", "background": "On April 17, 2014, Xiaoming participated in a provincial contest. Along the way, he encountered many problems. Please help him solve them.", "description": "There are $N$ rows of seats on the bus, and $2N$ people heading to the provincial contest. Each row can seat two people, and each person has two preferred rows they are willing to sit in. What is the maximum number of people who can be seated in one of their preferred rows?", "inputFormat": "- The first line contains a positive integer $N$.\n- From the second line to line $2N+1$, for $i = 1, 2, \\ldots, 2N$, each line contains two positive integers $S_{i, 1}, S_{i, 2}$, representing the rows the $i$-th person wants to sit in.", "outputFormat": "A non-negative integer, the maximum number of satisfied people.", "hint": "Constraints:\n- For 10% of the testdata, $N \\le 10$.\n- For 30% of the testdata, $N \\le 50$.\n- For 60% of the testdata, $N \\le 200$.\n- For 100% of the testdata, $N \\le 2000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "座位安排", "background": "公元二零一四年四月十七日，小明参加了省赛，在一路上，他遇到了许多问题，请你帮他解决。\n", "description": "已知车上有 $N$ 排座位，有 $2N$ 个人参加省赛，每排座位只能坐两人，且每个人都有自己想坐的排数，问最多使多少人坐到自己想坐的位置。", "inputFormat": "第一行，一个正整数 $N$。\n\n第二行至第 $2N+1$ 行，每行两个正整数 $S_{i, 1},S_{i, 2}$，为每个人想坐的排数。", "outputFormat": "一个非负整数，为最多使得多少人满意。\n", "hint": "对于 $10\\%$ 的数据，$n \\le 10$；\n\n对于 $30\\%$ 的数据，$n \\le 50$；\n\n对于 $60\\%$ 的数据，$n \\le 200$；\n\n对于 $100\\%$ 的数据，$n \\le 2000$。", "locale": "zh-CN"}}}
{"pid": "P2072", "type": "P", "difficulty": 3, "samples": [["10 4 3\r\n1 2 3 4 3 4 3 2 1 2\r\n", "3\r\n6\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "线性数据结构"], "title": "宗教问题", "background": "在一个地区有许多种宗教，不同信仰的教徒经常发生矛盾，作为治安管理的人需要把这些人分开，以免矛盾激化。", "description": "已知一个地方有 $M$ 种宗教（编号为 $1\\sim M$），有 $N$ 个教徒（编号为 $1\\sim N$），每个教徒信且只信一种宗教。\n\n现在要**按顺序**把这 $N$ 个教徒分成一些集体，每个集体的危险值定义为这个集体中的宗教种数，且一个集体的宗教种类不能超过 $K$ 种，否则就会无限危险。\n\n**问题：**\n\n1. 这 $N$ 个教徒至少要分为几个集体？\n2. 这些集体的危险值总和至少为多少？", "inputFormat": "第一行三个正整数 $N,M,K$，以空格隔开。\n\n第二行 $N$ 个正整数，为每个教徒信的宗教编号。", "outputFormat": "第一行一个正整数，为最少集体数。\n\n第二行一个正整数，为最小危险值。", "hint": "【样例解释】\n\n一种最优的划分方案为：\n\n$$[1,2,3]\\ \\ /\\ \\ [4,3,4,3,2]\\ \\ /\\ \\ [1,2]$$\n\n【数据范围】\n\n对于 $20\\%$ 的数据，$N \\le 20$。\n\n对于 $50\\%$ 的数据，$N \\le 100$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 1000$，$1 \\le K < M \\le 20$。", "locale": "zh-CN", "translations": {"en": {"title": "Religious Problem", "background": "In a region there are many religions. Believers of different faiths often have conflicts. As the person responsible for public security, you need to separate them to prevent escalation.", "description": "It is known that there are $M$ religions (numbered $1\\sim M$) and $N$ believers (numbered $1\\sim N$), and each believer believes in exactly one religion.\n\nNow you need to split these $N$ believers, in order, into several groups. The danger value of a group is defined as the number of distinct religions in that group, and a group may not contain more than $K$ religions; otherwise it is infinitely dangerous.\n\nProblem:\n1. Into how many groups at least must these $N$ believers be divided?\n2. What is the minimum possible sum of the danger values of these groups?", "inputFormat": "The first line contains three positive integers $N,M,K$, separated by spaces.\n\nThe second line contains $N$ positive integers, the religion number of each believer.", "outputFormat": "The first line contains one positive integer, the minimum number of groups.\n\nThe second line contains one positive integer, the minimum total danger value.", "hint": "Sample explanation:\n\nOne optimal partition is:\n$$[1,2,3]\\ \\ /\\ \\ [4,3,4,3,2]\\ \\ /\\ \\ [1,2]$$\n\nConstraints:\n\nFor $20\\%$ of the testdata, $N \\le 20$.\n\nFor $50\\%$ of the testdata, $N \\le 100$.\n\nFor $100\\%$ of the testdata, $1 \\le N \\le 1000$, $1 \\le K < M \\le 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "宗教问题", "background": "在一个地区有许多种宗教，不同信仰的教徒经常发生矛盾，作为治安管理的人需要把这些人分开，以免矛盾激化。", "description": "已知一个地方有 $M$ 种宗教（编号为 $1\\sim M$），有 $N$ 个教徒（编号为 $1\\sim N$），每个教徒信且只信一种宗教。\n\n现在要**按顺序**把这 $N$ 个教徒分成一些集体，每个集体的危险值定义为这个集体中的宗教种数，且一个集体的宗教种类不能超过 $K$ 种，否则就会无限危险。\n\n**问题：**\n\n1. 这 $N$ 个教徒至少要分为几个集体？\n2. 这些集体的危险值总和至少为多少？", "inputFormat": "第一行三个正整数 $N,M,K$，以空格隔开。\n\n第二行 $N$ 个正整数，为每个教徒信的宗教编号。", "outputFormat": "第一行一个正整数，为最少集体数。\n\n第二行一个正整数，为最小危险值。", "hint": "【样例解释】\n\n一种最优的划分方案为：\n\n$$[1,2,3]\\ \\ /\\ \\ [4,3,4,3,2]\\ \\ /\\ \\ [1,2]$$\n\n【数据范围】\n\n对于 $20\\%$ 的数据，$N \\le 20$。\n\n对于 $50\\%$ 的数据，$N \\le 100$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 1000$，$1 \\le K < M \\le 20$。", "locale": "zh-CN"}}}
{"pid": "P2073", "type": "P", "difficulty": 3, "samples": [["1 1 1\n1 2 5\n2\n1 3 3\n3\n1 5 2\n-1\n", "8 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["线段树", "平衡树"], "title": "送花", "background": "小明准备给小红送一束花，以表达他对小红的爱意。他在花店看中了一些花，准备用它们包成花束。\n", "description": "这些花都很漂亮，每朵花有一个美丽值 $W$，价格为 $C$。\n\n小明一开始有一个空的花束，他不断地向里面添加花。他有以下几种操作：\n\n- $1\\ W\\ C$：添加一朵美丽值为 $W$，价格为 $C$ 的花。  \n**如果此时花束中已经有了相等价格的花，那么这朵花不能加入花束。**\n- $2$：删除当前花束里最贵的一朵花。\n- $3$：删除当前花束里最便宜的一朵花。\n- $-1$：完成添加与删除，开始包装花束。\n\n**当花束为空时，忽略操作 $2$ 和 $3$。**\n\n请你写一个程序，计算出开始包装花束时，花束中所有花的美丽值的总和，以及小明需要为花束付出的总价格。", "inputFormat": "若干行，每行一个操作，以 $-1$ 结束。", "outputFormat": "一行，两个空格隔开的正整数表示开始包装花束时，花束中所有花的美丽值的总和。以及小明需要为花束付出的总价格。", "hint": "设操作数为 $m$。\n\n- 对于 $20\\%$ 数据，$m \\le 100$，$1\\le W,C\\le 10^3$。\n- 对于全部数据，$m \\le 10^5$，$1\\le W,C\\le 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "Sending Flowers", "background": "Xiao Ming plans to give Xiao Hong a bouquet of flowers to express his love. He picked out some flowers at the shop and intends to bundle them into a bouquet.", "description": "Each flower is beautiful, with a beauty value $W$ and a price $C$.\n\nXiao Ming starts with an empty bouquet and keeps adding flowers. He has the following operations:\n\n- $1\\ W\\ C$: Add a flower with beauty value $W$ and price $C$.  \n  If there is already a flower in the bouquet with the same price, this flower cannot be added.\n- $2$: Remove the most expensive flower currently in the bouquet.\n- $3$: Remove the cheapest flower currently in the bouquet.\n- $-1$: Finish adding and removing, and start wrapping the bouquet.\n\nWhen the bouquet is empty, ignore operations $2$ and $3$.\n\nPlease write a program to compute, at the moment wrapping starts, the sum of the beauty values of all flowers in the bouquet and the total price Xiao Ming needs to pay for the bouquet.", "inputFormat": "Multiple lines, one operation per line, ending with $-1$.", "outputFormat": "One line with two space-separated positive integers: the sum of the beauty values of all flowers in the bouquet at the moment wrapping starts, and the total price Xiao Ming needs to pay.", "hint": "Let the number of operations be $m$.\n\n- For $20\\%$ of the testdata, $m \\le 100$, $1\\le W,C\\le 10^3$.\n- For all testdata, $m \\le 10^5$, $1\\le W,C\\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "送花", "background": "小明准备给小红送一束花，以表达他对小红的爱意。他在花店看中了一些花，准备用它们包成花束。\n", "description": "这些花都很漂亮，每朵花有一个美丽值 $W$，价格为 $C$。\n\n小明一开始有一个空的花束，他不断地向里面添加花。他有以下几种操作：\n\n- $1\\ W\\ C$：添加一朵美丽值为 $W$，价格为 $C$ 的花。  \n**如果此时花束中已经有了相等价格的花，那么这朵花不能加入花束。**\n- $2$：删除当前花束里最贵的一朵花。\n- $3$：删除当前花束里最便宜的一朵花。\n- $-1$：完成添加与删除，开始包装花束。\n\n**当花束为空时，忽略操作 $2$ 和 $3$。**\n\n请你写一个程序，计算出开始包装花束时，花束中所有花的美丽值的总和，以及小明需要为花束付出的总价格。", "inputFormat": "若干行，每行一个操作，以 $-1$ 结束。", "outputFormat": "一行，两个空格隔开的正整数表示开始包装花束时，花束中所有花的美丽值的总和。以及小明需要为花束付出的总价格。", "hint": "设操作数为 $m$。\n\n- 对于 $20\\%$ 数据，$m \\le 100$，$1\\le W,C\\le 10^3$。\n- 对于全部数据，$m \\le 10^5$，$1\\le W,C\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P2074", "type": "P", "difficulty": 2, "samples": [["4 5 3 2\r\n1 2\r\n3 4\r\n4 5\r\n", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "危险区域", "background": "一个恐怖组织在一座城市中安放了定时炸弹，其威力巨大，现在这里的警长想知道最坏的情况下会有多少街区受威胁。", "description": "在一个城市有 $N \\times M$ 个街区，每个街区由坐标描述，如图所示：\n\n\n\n|  | $1$ | $2$ | $3$ | $\\cdots$ | $M$ |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $(1,1)$ | $(1,2)$ | $(1,3)$ | $\\cdots$ | $(1,M)$ |\n| $2$ | $(2,1)$ | $(2,2)$ | $(2,3)$ | $\\cdots$ | $(2,M)$ |\n| $3$ | $(3,1)$ | $(3,2)$ | $(3,3)$ | $\\cdots$ | $(3,M)$ |\n| $\\vdots$ |  |  |  | $\\ddots$ |  |\n| $N$ | $(N,1)$ | $(N,2)$ | $(N,3)$ | $\\cdots$ | $(N,M)$ |\n\n现在已知有一个恐怖组织在其中的一个街区安放了定时炸弹，其威力为 $t$，即所有到这个街区的直线距离小于等于 $t$ 的街区都会受威胁，已知有 $k$ 个可能的炸弹安放位置，现在这里的警长想知道最坏的情况下会有多少街区受威胁。\n", "inputFormat": "第一行四个正整数 $n,m,k,t$。\n\n接下来 $k$ 行每行两个正整数 $x_i,y_i$，描述每个可能安放炸弹的街区。", "outputFormat": "\n一个正整数为在最坏情况下有多少街区会受威胁。", "hint": "**数据规模与约定**\n\n对于$20\\%$的数据 $k=1$。\n\n对于 $50\\%$ 的数据 $1 \\le n,m \\le 1000$，$1 \\le k \\le 20$，$1\\le t \\le 100$。\n\n对于 $100\\%$ 的数据 $1 \\le n,m \\le 10^5$，$1 \\le k \\le 50$，$t \\le 300$。\n\nfixed by @[$\\color{#5EB95E}{\\textsf{Cppsteve}}$](https://www.luogu.com.cn/user/479296)", "locale": "zh-CN", "translations": {"en": {"title": "Danger Zone", "background": "A terrorist organization has planted a time bomb in a city, with great destructive power. The chief of police wants to know, in the worst case, how many blocks will be threatened.", "description": "In a city there are $N \\times M$ blocks, each described by coordinates, as shown below:\n\n|  | $1$ | $2$ | $3$ | $\\cdots$ | $M$ |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $(1,1)$ | $(1,2)$ | $(1,3)$ | $\\cdots$ | $(1,M)$ |\n| $2$ | $(2,1)$ | $(2,2)$ | $(2,3)$ | $\\cdots$ | $(2,M)$ |\n| $3$ | $(3,1)$ | $(3,2)$ | $(3,3)$ | $\\cdots$ | $(3,M)$ |\n| $\\vdots$ |  |  |  | $\\ddots$ |  |\n| $N$ | $(N,1)$ | $(N,2)$ | $(N,3)$ | $\\cdots$ | $(N,M)$ |\n\nIt is known that a terrorist organization has planted a time bomb in one of the blocks, with power $t$, meaning all blocks whose straight-line (Euclidean) distance to that block is less than or equal to $t$ will be threatened. There are $k$ possible bomb locations. The chief wants to know, in the worst case, how many blocks will be threatened.", "inputFormat": "The first line contains four positive integers $n, m, k, t$.\n\nThe next $k$ lines each contain two positive integers $x_i, y_i$, describing each possible block where the bomb may be placed.", "outputFormat": "Output a single positive integer: the number of blocks that will be threatened in the worst case.", "hint": "Constraints\n\nFor $20\\%$ of the testdata, $k = 1$.\n\nFor $50\\%$ of the testdata, $1 \\le n, m \\le 1000$, $1 \\le k \\le 20$, $1 \\le t \\le 100$.\n\nFor $100\\%$ of the testdata, $1 \\le n, m \\le 10^5$, $1 \\le k \\le 50$, $t \\le 300$.\n\nfixed by @[$\\color{#5EB95E}{\\textsf{Cppsteve}}$](https://www.luogu.com.cn/user/479296)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "危险区域", "background": "一个恐怖组织在一座城市中安放了定时炸弹，其威力巨大，现在这里的警长想知道最坏的情况下会有多少街区受威胁。", "description": "在一个城市有 $N \\times M$ 个街区，每个街区由坐标描述，如图所示：\n\n\n\n|  | $1$ | $2$ | $3$ | $\\cdots$ | $M$ |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $1$ | $(1,1)$ | $(1,2)$ | $(1,3)$ | $\\cdots$ | $(1,M)$ |\n| $2$ | $(2,1)$ | $(2,2)$ | $(2,3)$ | $\\cdots$ | $(2,M)$ |\n| $3$ | $(3,1)$ | $(3,2)$ | $(3,3)$ | $\\cdots$ | $(3,M)$ |\n| $\\vdots$ |  |  |  | $\\ddots$ |  |\n| $N$ | $(N,1)$ | $(N,2)$ | $(N,3)$ | $\\cdots$ | $(N,M)$ |\n\n现在已知有一个恐怖组织在其中的一个街区安放了定时炸弹，其威力为 $t$，即所有到这个街区的直线距离小于等于 $t$ 的街区都会受威胁，已知有 $k$ 个可能的炸弹安放位置，现在这里的警长想知道最坏的情况下会有多少街区受威胁。\n", "inputFormat": "第一行四个正整数 $n,m,k,t$。\n\n接下来 $k$ 行每行两个正整数 $x_i,y_i$，描述每个可能安放炸弹的街区。", "outputFormat": "\n一个正整数为在最坏情况下有多少街区会受威胁。", "hint": "**数据规模与约定**\n\n对于$20\\%$的数据 $k=1$。\n\n对于 $50\\%$ 的数据 $1 \\le n,m \\le 1000$，$1 \\le k \\le 20$，$1\\le t \\le 100$。\n\n对于 $100\\%$ 的数据 $1 \\le n,m \\le 10^5$，$1 \\le k \\le 50$，$t \\le 300$。\n\nfixed by @[$\\color{#5EB95E}{\\textsf{Cppsteve}}$](https://www.luogu.com.cn/user/479296)", "locale": "zh-CN"}}}
{"pid": "P2075", "type": "P", "difficulty": 7, "samples": [["5 3\n1 5 3 4 2\n1 5\n1 3\n3 5", "3\n2\n2"], ["10 10\n4 8 1 10 7 5 2 6 3 9\n1 10\n1 4\n1 5\n5 10\n3 9\n3 10\n3 10\n5 8\n4 5\n1 2", "4\n3\n3\n3\n3\n4\n4\n2\n1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["分块"], "title": "区间 LIS", "background": "", "description": "给定 $1\\sim n$ 的排列 $p$，$q$ 次询问，每次查询区间 $[l,r]$ 内的最长上升子序列长度。", "inputFormat": "第一行两个正整数 $n,q$。\n\n第二行 $n$ 个正整数，表示排列 $p$。\n\n之后 $q$ 行，每行两个正整数 $l,r$，表示一次询问。", "outputFormat": "对于每次询问，输出对应的答案。", "hint": "| 子任务编号 | $n$ | $q$ | 分值 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^3$ | $10^3$ | $20$ |\n| $2$ | $10^3$ | $10^5$ | $30$ |\n| $3$ | $10^5$ | $10^5$ | $50$ |\n\n对于所有数据，$1\\leq n,q\\leq10^5$，$1\\leq l\\leq r\\leq n$。", "locale": "zh-CN", "translations": {"en": {"title": "Interval LIS", "background": "", "description": "Given a permutation $p$ of $1\\sim n$, there are $q$ queries. Each query asks for the length of the longest increasing subsequence within the interval $[l,r]$.", "inputFormat": "The first line contains two positive integers $n,q$.\nThe second line contains $n$ positive integers, representing the permutation $p$.\nThen $q$ lines follow, each containing two positive integers $l,r$, representing a query.", "outputFormat": "For each query, output the corresponding answer.", "hint": "| Subtask ID | $n$ | $q$ | Score |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^3$ | $10^3$ | $20$ |\n| $2$ | $10^3$ | $10^5$ | $30$ |\n| $3$ | $10^5$ | $10^5$ | $50$ |\n\nFor all testdata, $1\\leq n,q\\leq10^5$, $1\\leq l\\leq r\\leq n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "区间 LIS", "background": "", "description": "给定 $1\\sim n$ 的排列 $p$，$q$ 次询问，每次查询区间 $[l,r]$ 内的最长上升子序列长度。", "inputFormat": "第一行两个正整数 $n,q$。\n\n第二行 $n$ 个正整数，表示排列 $p$。\n\n之后 $q$ 行，每行两个正整数 $l,r$，表示一次询问。", "outputFormat": "对于每次询问，输出对应的答案。", "hint": "| 子任务编号 | $n$ | $q$ | 分值 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10^3$ | $10^3$ | $20$ |\n| $2$ | $10^3$ | $10^5$ | $30$ |\n| $3$ | $10^5$ | $10^5$ | $50$ |\n\n对于所有数据，$1\\leq n,q\\leq10^5$，$1\\leq l\\leq r\\leq n$。", "locale": "zh-CN"}}}
{"pid": "P2076", "type": "P", "difficulty": 5, "samples": [["6\n3 8\n4 9\n2 1\n10 5\n4 9\n2 0", "21\n5 2\n6 3\n1 2\n3 1\n4 1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "树状数组", "Special Judge", "生成树"], "title": "曼哈顿距离最小生成树", "background": "题目修改自 [Library Checker](https://judge.yosupo.jp/problem/manhattanmst)，及[数据生成器 / 校验器来源](https://github.com/yosupo06/library-checker-problems/tree/master/geo/manhattanmst)。\n\n请注意原题所有下标从 $0$ 开始（$0$-indexed），本题所有下标从 $1$ 开始（$1$-indexed）。", "description": "给定平面上的 $n$ 个点 $(x_1,y_1),(x_2,y_2),\\ldots,(x_n,y_n)$。\n\n考虑一个有 $n$ 个结点的完全图，对于 $1\\le u,v\\le n(u\\ne v)$，结点 $u,v$ 之间有一条权值为 $|x_u-x_v|+|y_u-y_v|$ 的边。\n\n请求出该图的最小生成树。", "inputFormat": "第一行输入一个整数 $n$ 表示点的个数。\n\n接下来 $n$ 行，第 $i$ 行输入两个整数 $(x_i,y_i)$，表示第 $i$ 个点的坐标。", "outputFormat": "第一行包含一个整数 $x$ 表示最小生成树的边权之和。\n\n接下来 $(n-1)$ 行，第 $i$ 行包含两个整数 $(u_i,v_i)$，表示最小生成树中的一条边。\n\n**如果有多解，你可以输出任意一种。**", "hint": "对于 $20\\%$ 的数据，$1\\le n\\le 1000$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 2\\times 10^5$，$0\\le x_i,y_i\\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Manhattan Distance Minimum Spanning Tree", "background": "This problem is modified from [Library Checker](https://judge.yosupo.jp/problem/manhattanmst), and the [data generator / validator source](https://github.com/yosupo06/library-checker-problems/tree/master/geo/manhattanmst).\n\nNote that in the original problem all indices are $0$-indexed, while in this problem all indices are $1$-indexed.", "description": "Given $n$ points $(x_1,y_1),(x_2,y_2),\\ldots,(x_n,y_n)$ in the plane.\n\nConsider the complete graph with $n$ nodes. For $1 \\le u, v \\le n$ and $u \\ne v$, there is an edge between nodes $u$ and $v$ with weight $|x_u-x_v|+|y_u-y_v|$.\n\nFind a minimum spanning tree of this graph.", "inputFormat": "The first line contains an integer $n$, the number of points.\n\nThe next $n$ lines, the $i$-th line contains two integers $(x_i,y_i)$, the coordinates of the $i$-th point.", "outputFormat": "The first line contains an integer $x$, the sum of edge weights in the minimum spanning tree.\n\nThen $(n-1)$ lines follow. The $i$-th line contains two integers $(u_i,v_i)$, representing one edge in the minimum spanning tree.\n\nIf there are multiple valid answers, you may output any of them.", "hint": "For $20\\%$ of the testdata, $1 \\le n \\le 1000$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 2 \\times 10^5$, $0 \\le x_i,y_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "曼哈顿距离最小生成树", "background": "题目修改自 [Library Checker](https://judge.yosupo.jp/problem/manhattanmst)，及[数据生成器 / 校验器来源](https://github.com/yosupo06/library-checker-problems/tree/master/geo/manhattanmst)。\n\n请注意原题所有下标从 $0$ 开始（$0$-indexed），本题所有下标从 $1$ 开始（$1$-indexed）。", "description": "给定平面上的 $n$ 个点 $(x_1,y_1),(x_2,y_2),\\ldots,(x_n,y_n)$。\n\n考虑一个有 $n$ 个结点的完全图，对于 $1\\le u,v\\le n(u\\ne v)$，结点 $u,v$ 之间有一条权值为 $|x_u-x_v|+|y_u-y_v|$ 的边。\n\n请求出该图的最小生成树。", "inputFormat": "第一行输入一个整数 $n$ 表示点的个数。\n\n接下来 $n$ 行，第 $i$ 行输入两个整数 $(x_i,y_i)$，表示第 $i$ 个点的坐标。", "outputFormat": "第一行包含一个整数 $x$ 表示最小生成树的边权之和。\n\n接下来 $(n-1)$ 行，第 $i$ 行包含两个整数 $(u_i,v_i)$，表示最小生成树中的一条边。\n\n**如果有多解，你可以输出任意一种。**", "hint": "对于 $20\\%$ 的数据，$1\\le n\\le 1000$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 2\\times 10^5$，$0\\le x_i,y_i\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P2077", "type": "P", "difficulty": 2, "samples": [["5 3\n2 4 3 2\n3 4 3 4 3\n2 3 2 3 1\n", "5\n7\n11\n14\n16\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "红绿灯", "background": null, "description": "在一个城市，有一条笔直的公路，在这条公路上有 $N$ 个十字路口，每个路口都设有一个红绿灯，已知相邻的两个路口距离为 $A_i$ 千米 $(1\\le i < N)$，每个路口的红灯时间为 $R_i$，绿灯时间为 $G_i$，没有黄灯，现在有一辆车从距离 $1$ 号十字路口 $M$ 千米的位置出发，且此时所有路口的红绿灯刚好从红灯跳到绿灯，问这辆车通过每个路口的时间（不能闯红灯，这辆车的速度为 $1$ 千米每分钟）。", "inputFormat": "第一行两个正整数 $N$ 和 $M$\n\n第二行 $N-1$ 个正整数 $A_i$\n\n第三行 $N$ 个正整数 $R_i$，为红灯时间（分钟）\n\n第四行 $N$ 个正整数 $G_i$，为绿灯时间（分钟）", "outputFormat": "共 $N$ 行，每行一个正整数，为这辆车通过每个十字路口的最早时间。", "hint": "对于 $50\\%$ 的数据   $N\\le 1000$；\n\n对于 $100\\%$ 的数据   $N\\le 10^5$，$M,A_i\\le 10$，$R_i，G_i\\le 5$。", "locale": "zh-CN", "translations": {"en": {"title": "Traffic Lights", "background": "", "description": "In a city, there is a straight road with $N$ intersections, each equipped with a traffic light. The distance between two adjacent intersections is $A_i$ kilometers $(1 \\le i < N)$. At each intersection, the red light lasts $R_i$ minutes and the green light lasts $G_i$ minutes; there is no yellow light. Now, a car starts from a point $M$ kilometers away from intersection $1$, and at that moment, all traffic lights have just switched from red to green. Find the time when this car passes each intersection (the car must not run red lights; its speed is $1$ kilometer per minute).", "inputFormat": "The first line contains two positive integers $N$ and $M$.\n\nThe second line contains $N - 1$ positive integers $A_i$.\n\nThe third line contains $N$ positive integers $R_i$, the red-light durations (minutes).\n\nThe fourth line contains $N$ positive integers $G_i$, the green-light durations (minutes).", "outputFormat": "Output $N$ lines, each containing one positive integer, which is the earliest time when the car passes each intersection.", "hint": "For $50\\%$ of the testdata, $N \\le 1000$.\n\nFor $100\\%$ of the testdata, $N \\le 10^5$, $M, A_i \\le 10$, $R_i, G_i \\le 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "红绿灯", "background": null, "description": "在一个城市，有一条笔直的公路，在这条公路上有 $N$ 个十字路口，每个路口都设有一个红绿灯，已知相邻的两个路口距离为 $A_i$ 千米 $(1\\le i < N)$，每个路口的红灯时间为 $R_i$，绿灯时间为 $G_i$，没有黄灯，现在有一辆车从距离 $1$ 号十字路口 $M$ 千米的位置出发，且此时所有路口的红绿灯刚好从红灯跳到绿灯，问这辆车通过每个路口的时间（不能闯红灯，这辆车的速度为 $1$ 千米每分钟）。", "inputFormat": "第一行两个正整数 $N$ 和 $M$\n\n第二行 $N-1$ 个正整数 $A_i$\n\n第三行 $N$ 个正整数 $R_i$，为红灯时间（分钟）\n\n第四行 $N$ 个正整数 $G_i$，为绿灯时间（分钟）", "outputFormat": "共 $N$ 行，每行一个正整数，为这辆车通过每个十字路口的最早时间。", "hint": "对于 $50\\%$ 的数据   $N\\le 1000$；\n\n对于 $100\\%$ 的数据   $N\\le 10^5$，$M,A_i\\le 10$，$R_i，G_i\\le 5$。", "locale": "zh-CN"}}}
{"pid": "P2078", "type": "P", "difficulty": 3, "samples": [["4 3 4 2\n1 1\n1 2\n2 3\n1 3\n-1 -2\n-3 -3\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["并查集", "递归"], "title": "朋友", "background": "小明在 A 公司工作，小红在 B 公司工作。", "description": "这两个公司的员工有一个特点：一个公司的员工都是同性。\n\nA 公司有 $N$ 名员工，其中有 $P$ 对朋友关系。B 公司有 $M$ 名员工，其中有 $Q$ 对朋友关系。朋友的朋友一定还是朋友。\n\n每对朋友关系用两个整数 $(X_i,Y_i)$ 组成，表示朋友的编号分别为 $X_i,Y_i$。男人的编号是正数，女人的编号是负数。小明的编号是 $1$，小红的编号是 $-1$。\n\n大家都知道，小明和小红是朋友，而我们定义，**一组互为朋友的异性可以配成情侣**，那么，请你写一个程序求出两公司之间，通过小明和小红认识的人最多一共能配成多少对情侣（包括他们自己）。", "inputFormat": "输入的第一行，包含 $4$ 个空格隔开的正整数 $N,M,P,Q$。\n\n之后 $P$ 行，每行两个正整数 $X_i,Y_i$。\n\n之后 $Q$ 行，每行两个负整数 $X_i,Y_i$。", "outputFormat": "输出一行一个正整数，表示通过小明和小红认识的人最多一共能配成多少对情侣（包括他们自己）。", "hint": "对于 $30 \\%$ 的数据，$N,M \\le 100$，$P,Q \\le 200$；\n\n对于 $80 \\%$ 的数据，$N,M \\le 4 \\times 10^3$，$P,Q \\le 10^4$；\n\n对于 $100 \\%$ 的数据，$N,M \\le 10^4$，$P,Q \\le 2 \\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Friends", "background": "Xiao Ming works at company A, and Xiao Hong works at company B.", "description": "The employees of each company share one characteristic: everyone in the same company is of the same sex.\n\nCompany A has $N$ employees with $P$ friend pairs. Company B has $M$ employees with $Q$ friend pairs. Friends of friends are also friends.\n\nEach friend pair is given as two integers $(X_i, Y_i)$, indicating the IDs of the two friends are $X_i$ and $Y_i$. Male IDs are positive numbers, and female IDs are negative numbers. Xiao Ming’s ID is $1$, and Xiao Hong’s ID is $-1$.\n\nIt is known that Xiao Ming and Xiao Hong are friends. Please write a program to find the maximum total number of couples that can be formed between the two companies via people known through Xiao Ming and Xiao Hong (including themselves).", "inputFormat": "The first line contains $4$ space-separated positive integers $N,M,P,Q$.\n\nThen follow $P$ lines, each containing two positive integers $X_i, Y_i$.\n\nThen follow $Q$ lines, each containing two negative integers $X_i, Y_i$.", "outputFormat": "Output a single positive integer on one line, representing the maximum total number of couples that can be formed via people known through Xiao Ming and Xiao Hong (including themselves).", "hint": "For $30 \\%$ of the testdata, $N,M \\le 100$, $P,Q \\le 200$.\n\nFor $80 \\%$ of the testdata, $N,M \\le 4 \\times 10^3$, $P,Q \\le 10^4$.\n\nFor $100 \\%$ of the testdata, $N,M \\le 10^4$, $P,Q \\le 2 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "朋友", "background": "小明在 A 公司工作，小红在 B 公司工作。", "description": "这两个公司的员工有一个特点：一个公司的员工都是同性。\n\nA 公司有 $N$ 名员工，其中有 $P$ 对朋友关系。B 公司有 $M$ 名员工，其中有 $Q$ 对朋友关系。朋友的朋友一定还是朋友。\n\n每对朋友关系用两个整数 $(X_i,Y_i)$ 组成，表示朋友的编号分别为 $X_i,Y_i$。男人的编号是正数，女人的编号是负数。小明的编号是 $1$，小红的编号是 $-1$。\n\n大家都知道，小明和小红是朋友，而我们定义，**一组互为朋友的异性可以配成情侣**，那么，请你写一个程序求出两公司之间，通过小明和小红认识的人最多一共能配成多少对情侣（包括他们自己）。", "inputFormat": "输入的第一行，包含 $4$ 个空格隔开的正整数 $N,M,P,Q$。\n\n之后 $P$ 行，每行两个正整数 $X_i,Y_i$。\n\n之后 $Q$ 行，每行两个负整数 $X_i,Y_i$。", "outputFormat": "输出一行一个正整数，表示通过小明和小红认识的人最多一共能配成多少对情侣（包括他们自己）。", "hint": "对于 $30 \\%$ 的数据，$N,M \\le 100$，$P,Q \\le 200$；\n\n对于 $80 \\%$ 的数据，$N,M \\le 4 \\times 10^3$，$P,Q \\le 10^4$；\n\n对于 $100 \\%$ 的数据，$N,M \\le 10^4$，$P,Q \\le 2 \\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2079", "type": "P", "difficulty": 4, "samples": [["4 10\n5 -1 3\n2 2 2\n11 -5 100\n3 -3 10\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "烛光晚餐", "background": "小明准备请小红去一家咖啡厅，共进烛光晚餐。小红高兴地和他一起去了咖啡厅。", "description": "小红说：“小明，你点菜吧。”小明看到菜单上有 $N$ 道菜，每道菜的价格是 $C_i$。小明对每道菜的喜爱程度是 $X_i$，小红对每道菜的喜爱程度是 $Y_i$。（喜爱程度可能为负数）（小明：以我对她的了解，我给你的数据不会错的）\n\n小明带了 $V$ 元钱，他点的菜的总价格不能超过 $V$（小明：当然得我请客啦，显得我大方。）\n\n小明希望让小红吃得开心，所以当然要让她的总喜爱程度尽量大。当然，小明也要考虑自己的感受，点的所有菜的总喜爱程度需要大于等于 $0$。（小明：要是我吃得不好，她看见我会难过的）\n\n请你帮小明写一个程序，计算出他的总喜爱程度大于等于 $0$ 的前提下，小红的喜爱程度的最大值。（小明：你的程序一定要靠谱啊，我得给她一个好印象）\n\n", "inputFormat": "第一行，两个正整数 $N$，$V$。\n\n之后 $N$ 行，每行 $3$ 个空格隔开的正整数 $C_i$，整数 $X_i$，$Y_i$。\n", "outputFormat": "一行，一个正整数，表示他的总喜爱程度大于等于 $0$ 的前提下，小红的喜爱程度的最大值。如果这个最大值小于 $0$，输出 $-1$.\n", "hint": "\n对于 $10\\%$ 的数据，$N\\leq10$，$V\\leq50$。\n\n对于 $30\\%$ 的数据，$X_i,Y_i\\geq0$.\n\n对于 $100\\%$ 的数据，$N\\leq100$，$V\\leq500$，$|X_i|\\leq5$，$|Y_i|\\leq10^3$.\n", "locale": "zh-CN", "translations": {"en": {"title": "Candlelight Dinner", "background": "Xiaoming plans to invite Xiaohong to a café for a candlelight dinner. Xiaohong happily goes to the café with him.", "description": "Xiaohong says: “Xiaoming, you order.” Xiaoming sees $N$ dishes on the menu, with each dish priced at $C_i$. Xiaoming’s preference score for each dish is $X_i$, and Xiaohong’s preference score for each dish is $Y_i$. (Preference scores may be negative.) (Xiaoming: Based on what I know about her, the data I give you won’t be wrong.)\n\nXiaoming brought $V$ yuan, and the total price of the dishes he orders cannot exceed $V$. (Xiaoming: Of course I’m paying, it makes me look generous.)\n\nXiaoming wants to make Xiaohong happy, so he wants her total preference score to be as large as possible. Of course, he also needs to consider his own feelings: the total preference score of all ordered dishes for him must be greater than or equal to $0$. (Xiaoming: If I don’t eat well, she’ll feel bad when she sees it.)\n\nPlease help Xiaoming write a program to compute the maximum possible total preference score of Xiaohong under the condition that his own total preference score is greater than or equal to $0$. (Xiaoming: Your program must be reliable. I need to make a good impression on her.)", "inputFormat": "The first line contains two positive integers $N$, $V$.\n\nThen follow $N$ lines, each containing three space-separated numbers: a positive integer $C_i$, and integers $X_i$, $Y_i$.", "outputFormat": "One line with one integer: the maximum possible total preference score of Xiaohong under the condition that Xiaoming’s total preference score is greater than or equal to $0$. If this maximum is less than $0$, output $-1$.", "hint": "For $10\\%$ of the testdata, $N \\leq 10$, $V \\leq 50$.\n\nFor $30\\%$ of the testdata, $X_i, Y_i \\geq 0$.\n\nFor $100\\%$ of the testdata, $N \\leq 100$, $V \\leq 500$, $|X_i| \\leq 5$, $|Y_i| \\leq 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "烛光晚餐", "background": "小明准备请小红去一家咖啡厅，共进烛光晚餐。小红高兴地和他一起去了咖啡厅。", "description": "小红说：“小明，你点菜吧。”小明看到菜单上有 $N$ 道菜，每道菜的价格是 $C_i$。小明对每道菜的喜爱程度是 $X_i$，小红对每道菜的喜爱程度是 $Y_i$。（喜爱程度可能为负数）（小明：以我对她的了解，我给你的数据不会错的）\n\n小明带了 $V$ 元钱，他点的菜的总价格不能超过 $V$（小明：当然得我请客啦，显得我大方。）\n\n小明希望让小红吃得开心，所以当然要让她的总喜爱程度尽量大。当然，小明也要考虑自己的感受，点的所有菜的总喜爱程度需要大于等于 $0$。（小明：要是我吃得不好，她看见我会难过的）\n\n请你帮小明写一个程序，计算出他的总喜爱程度大于等于 $0$ 的前提下，小红的喜爱程度的最大值。（小明：你的程序一定要靠谱啊，我得给她一个好印象）\n\n", "inputFormat": "第一行，两个正整数 $N$，$V$。\n\n之后 $N$ 行，每行 $3$ 个空格隔开的正整数 $C_i$，整数 $X_i$，$Y_i$。\n", "outputFormat": "一行，一个正整数，表示他的总喜爱程度大于等于 $0$ 的前提下，小红的喜爱程度的最大值。如果这个最大值小于 $0$，输出 $-1$.\n", "hint": "\n对于 $10\\%$ 的数据，$N\\leq10$，$V\\leq50$。\n\n对于 $30\\%$ 的数据，$X_i,Y_i\\geq0$.\n\n对于 $100\\%$ 的数据，$N\\leq100$，$V\\leq500$，$|X_i|\\leq5$，$|Y_i|\\leq10^3$.\n", "locale": "zh-CN"}}}
{"pid": "P2080", "type": "P", "difficulty": 3, "samples": [["4 15\n5 6\n-1 8\n7 2\n1 0\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索"], "title": "增进感情", "background": "小明和小红的感情，是慢慢发展起来的。\n", "description": "他们对对方分别有一个好感值。定义两人的亲密程度为两人的好感值之和。\n\n如果他们的亲密程度达到 $v$，则他们将走到一起。他们以后的生活将取决于两人的好感值之差的绝对值，这个值越小，他们的生活将越幸福。\n\n现在，他们对对方的好感值都为 $0$，小明有 $n$ 件事可以干，每件事可以增加他对小红的好感 $a_i$ 点，并且增加小红对他的好感 $b_i$ 点。（可能为负数）\n\n小明可以任选一些事做，请你帮小明求出怎样才能让他们的生活更加幸福（求出两人在一起的前提下，好感值之差的最小绝对值即可）。\n", "inputFormat": "第一行，两个正整数 $n,v$。\n\n之后 $n$ 行，每行两个空格隔开的整数 $a_i,b_i$。", "outputFormat": "\n一行，一个非负整数，表示两人在一起的前提下，好感值之差的最小绝对值。如果无论如何两人也无法在一起，输出 `-1`。", "hint": "#### 数据范围与约定\n\n- 对于 $20\\%$ 数据，保证 $n  \\le 10$。\n- 对于 $100\\%$ 数据，保证 $1 \\le n \\le 30$，$1 \\le \\left\\vert a_i\\right\\vert,\\left\\vert b_i\\right\\vert \\le 100$。", "locale": "zh-CN", "translations": {"en": {"title": "Enhancing Feelings", "background": "Xiao Ming and Xiao Hong's relationship develops slowly.", "description": "They each have an affection value for the other. Define their intimacy level as the sum of their affection values.\n\nIf their intimacy level reaches at least $v$, they will get together. Their future happiness will depend on the absolute value of the difference between their affection values; the smaller this value is, the happier their life will be.\n\nCurrently, both of their affection values are $0$. Xiao Ming has $n$ tasks he can do. Each task can increase his affection for Xiao Hong by $a_i$ points and increase Xiao Hong's affection for him by $b_i$ points (possibly negative).\n\nXiao Ming may choose any subset of the tasks to do. Please help Xiao Ming find how to make their life happier (that is, under the premise that they get together, compute the minimum absolute difference between their affection values).", "inputFormat": "The first line contains two positive integers $n, v$.\n\nThen follow $n$ lines, each containing two space-separated integers $a_i, b_i$.", "outputFormat": "Output one non-negative integer, the minimum absolute difference between their affection values under the premise that they get together. If they cannot get together no matter what, output `-1`.", "hint": "#### Constraints\n\n- For $20\\%$ of the testdata, it is guaranteed that $n \\le 10$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 30$, $1 \\le \\lvert a_i \\rvert, \\lvert b_i \\rvert \\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "增进感情", "background": "小明和小红的感情，是慢慢发展起来的。\n", "description": "他们对对方分别有一个好感值。定义两人的亲密程度为两人的好感值之和。\n\n如果他们的亲密程度达到 $v$，则他们将走到一起。他们以后的生活将取决于两人的好感值之差的绝对值，这个值越小，他们的生活将越幸福。\n\n现在，他们对对方的好感值都为 $0$，小明有 $n$ 件事可以干，每件事可以增加他对小红的好感 $a_i$ 点，并且增加小红对他的好感 $b_i$ 点。（可能为负数）\n\n小明可以任选一些事做，请你帮小明求出怎样才能让他们的生活更加幸福（求出两人在一起的前提下，好感值之差的最小绝对值即可）。\n", "inputFormat": "第一行，两个正整数 $n,v$。\n\n之后 $n$ 行，每行两个空格隔开的整数 $a_i,b_i$。", "outputFormat": "\n一行，一个非负整数，表示两人在一起的前提下，好感值之差的最小绝对值。如果无论如何两人也无法在一起，输出 `-1`。", "hint": "#### 数据范围与约定\n\n- 对于 $20\\%$ 数据，保证 $n  \\le 10$。\n- 对于 $100\\%$ 数据，保证 $1 \\le n \\le 30$，$1 \\le \\left\\vert a_i\\right\\vert,\\left\\vert b_i\\right\\vert \\le 100$。", "locale": "zh-CN"}}}
{"pid": "P2081", "type": "P", "difficulty": 6, "samples": [["4 3\n1 2 3\n2 3 1\n3 4 4", "6.00000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["动态规划 DP", "图论", "递推", "2012", "NOI", "Special Judge", "期望", "基环树"], "title": "[NOI2012] 迷失游乐园", "background": null, "description": "放假了，小 Z 觉得呆在家里特别无聊，于是决定一个人去游乐园玩。\n\n进入游乐园后，小 Z 看了看游乐园的地图，发现可以将游乐园抽象成有 $n$ 个景点、$m$ 条道路的无向连通图，且该图中至多有一个环（即 $m$ 只可能等于 $n$ 或者 $n-1$）。\n\n小 Z 现在所在的大门也正好是一个景点。小 Z 不知道什么好玩，于是他决定，从当前位置出发，每次随机去一个和当前景点有道路相连的景点，并且同一个景点不去两次（包括起始景点）。贪玩的小 Z 会一直游玩，直到当前景点的相邻景点都已经访问过为止。\n\n小 Z 所有经过的景点按顺序构成一条非重复路径，他想知道这条路径的期望长度是多少？\n\n小 Z 把游乐园的抽象地图画下来带回了家，可是忘了标哪个点是大门，他只好假设每个景点都可能是大门（即每个景点作为起始点的概率是一样的）。同时，他每次在选择下一个景点时会等概率地随机选择一个还没去过的相邻景点。", "inputFormat": "第一行是两个整数 $n$ 和 $m$ ，分别表示景点数和道路数。\n\n接下来 $m$ 行，每行三个整数 $X_i, Y_i, W_i$，分别表示第 $i$ 条路径的两个景点为 $X_i, Y_i$，路径长 $W_i$。所有景点的编号从 $1$ 至 $n$，两个景点之间至多只有一条道路，不存在一条起点和终点相同的道路（保证图是简单图）。", "outputFormat": "共一行，包含一个实数，即路径的期望长度，保留五位小数。", "hint": "### 样例解释\n\n样例数据中共有 $6$ 条不同的路径：\n\n|路径|长度|概率|\n|:-:|:-:|:-:| \n|$1\\rightarrow 4$|$8$|$\\frac{1}{4}$| \n|$2\\rightarrow 1$|$3$|$\\frac{1}{8}$| \n|$2\\rightarrow 4$|$5$|$\\frac{1}{8}$|\n|$3\\rightarrow 1$|$4$|$\\frac{1}{8}$|\n|$3\\rightarrow 4$|$4$|$\\frac{1}{8}$|\n|$4\\rightarrow 1$|$8$|$\\frac{1}{4}$|\n\n因此期望长度 $= \\frac{8}{4} + \\frac{3}{8} + \\frac{5}{8} +\\frac{4}{8} + \\frac{4}{8} +\\frac{8}{4} = 6.00$\n\n### 评分方法\n\n本题没有部分分，你程序的输出只有和标准答案的差距不超过 $0.01$ 时，才能获得该测试点的满分，否则不得分。\n\n\n### 数据规模和约定\n\n对于 $100\\%$ 的数据，$1\\leq W_i\\leq 100$。\n\n|测试点编号|$n$|$m$|备注| \n|:-:|:-:|:-:|:-:|\n|$1$| $n=10$| $m = n-1$| 保证图是链状 |\n|$2$| $n=100$|  $m = n-1$|只有节点 $1$ 的度数大于 $2$| \n|$3$| $n=1000$| $m = n-1$| / | \n|$4$| $n=10^5$| $m = n-1$| / | \n|$5$| $n=10^5$|  $m = n-1$| / | \n|$6$| $n=10$| $m = n$ | / | \n|$7$| $n=100$| $m = n$| 环中节点个数 $\\leq 5$| \n|$8$| $n=1000$|$m = n$| 环中节点个数 $\\leq 10$| \n|$9$| $n=10^5$ | $m = n$| 环中节点个数 $\\leq 15$| \n|$10$| $n=10^5$|$m = n$| 环中节点个数 $\\leq 20$|", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2012] Lost Amusement Park", "background": "", "description": "It is vacation time. Xiao Z feels very bored staying at home, so he decides to go to the amusement park alone.\n\nAfter entering the park, Xiao Z looks at the map and finds that the park can be abstracted as an undirected connected graph with $n$ attractions and $m$ roads, and the graph has at most one cycle (i.e., $m$ can only be equal to $n$ or $n - 1$).\n\nThe gate where Xiao Z is currently located also happens to be an attraction. Not knowing what is fun, he decides to start from his current position and each time randomly go to a neighboring attraction connected by a road, and never visit the same attraction twice (including the starting attraction). He will keep playing until all neighboring attractions of the current attraction have already been visited.\n\nAll the attractions Xiao Z passes through form a simple path in order. He wants to know the expected length of this path.\n\nXiao Z drew the abstract map of the park and brought it home, but forgot to mark which point is the gate. He has to assume that every attraction could be the gate (i.e., each attraction is equally likely to be the starting point). At the same time, each time he chooses the next attraction, he will uniformly at random choose one unvisited neighboring attraction.", "inputFormat": "The first line contains two integers $n$ and $m$, denoting the number of attractions and the number of roads, respectively.\n\nThe next $m$ lines each contain three integers $X_i, Y_i, W_i$, indicating that the endpoints of the $i$-th road are $X_i$ and $Y_i$, and the length of this road is $W_i$. The attractions are numbered from $1$ to $n$. There is at most one road between any two attractions, and there are no self-loops (the graph is guaranteed to be simple).", "outputFormat": "Output one line containing a real number, the expected length of the path, with five digits after the decimal point.", "hint": "### Sample Explanation\n\nIn the sample, there are $6$ different paths:\n\n|路径|长度|概率|\n|:-:|:-:|:-:| \n|$1\\rightarrow 4$|$8$|$\\frac{1}{4}$| \n|$2\\rightarrow 1$|$3$|$\\frac{1}{8}$| \n|$2\\rightarrow 4$|$5$|$\\frac{1}{8}$|\n|$3\\rightarrow 1$|$4$|$\\frac{1}{8}$|\n|$3\\rightarrow 4$|$4$|$\\frac{1}{8}$|\n|$4\\rightarrow 1$|$8$|$\\frac{1}{4}$|\n\nTherefore, the expected length $= \\frac{8}{4} + \\frac{3}{8} + \\frac{5}{8} + \\frac{4}{8} + \\frac{4}{8} + \\frac{8}{4} = 6.00$.\n\n### Scoring\n\nThere are no partial scores. Your program receives full score for a test point only if the absolute error from the standard answer does not exceed $0.01$; otherwise, you receive zero for that test point.\n\n### Constraints\n\nFor $100\\%$ of the testdata, $1 \\leq W_i \\leq 100$.\n\n|测试点编号|$n$|$m$|备注| \n|:-:|:-:|:-:|:-:|\n|$1$| $n = 10$| $m = n - 1$| The graph is a path. |\n|$2$| $n = 100$| $m = n - 1$| Only node $1$ has degree greater than $2$. | \n|$3$| $n = 1000$| $m = n - 1$| / | \n|$4$| $n = 10^5$| $m = n - 1$| / | \n|$5$| $n = 10^5$| $m = n - 1$| / | \n|$6$| $n = 10$| $m = n$ | / | \n|$7$| $n = 100$| $m = n$| Number of vertices on the cycle $\\leq 5$. | \n|$8$| $n = 1000$| $m = n$| Number of vertices on the cycle $\\leq 10$. | \n|$9$| $n = 10^5$ | $m = n$| Number of vertices on the cycle $\\leq 15$. | \n|$10$| $n = 10^5$| $m = n$| Number of vertices on the cycle $\\leq 20$. |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2012] 迷失游乐园", "background": null, "description": "放假了，小 Z 觉得呆在家里特别无聊，于是决定一个人去游乐园玩。\n\n进入游乐园后，小 Z 看了看游乐园的地图，发现可以将游乐园抽象成有 $n$ 个景点、$m$ 条道路的无向连通图，且该图中至多有一个环（即 $m$ 只可能等于 $n$ 或者 $n-1$）。\n\n小 Z 现在所在的大门也正好是一个景点。小 Z 不知道什么好玩，于是他决定，从当前位置出发，每次随机去一个和当前景点有道路相连的景点，并且同一个景点不去两次（包括起始景点）。贪玩的小 Z 会一直游玩，直到当前景点的相邻景点都已经访问过为止。\n\n小 Z 所有经过的景点按顺序构成一条非重复路径，他想知道这条路径的期望长度是多少？\n\n小 Z 把游乐园的抽象地图画下来带回了家，可是忘了标哪个点是大门，他只好假设每个景点都可能是大门（即每个景点作为起始点的概率是一样的）。同时，他每次在选择下一个景点时会等概率地随机选择一个还没去过的相邻景点。", "inputFormat": "第一行是两个整数 $n$ 和 $m$ ，分别表示景点数和道路数。\n\n接下来 $m$ 行，每行三个整数 $X_i, Y_i, W_i$，分别表示第 $i$ 条路径的两个景点为 $X_i, Y_i$，路径长 $W_i$。所有景点的编号从 $1$ 至 $n$，两个景点之间至多只有一条道路，不存在一条起点和终点相同的道路（保证图是简单图）。", "outputFormat": "共一行，包含一个实数，即路径的期望长度，保留五位小数。", "hint": "### 样例解释\n\n样例数据中共有 $6$ 条不同的路径：\n\n|路径|长度|概率|\n|:-:|:-:|:-:| \n|$1\\rightarrow 4$|$8$|$\\frac{1}{4}$| \n|$2\\rightarrow 1$|$3$|$\\frac{1}{8}$| \n|$2\\rightarrow 4$|$5$|$\\frac{1}{8}$|\n|$3\\rightarrow 1$|$4$|$\\frac{1}{8}$|\n|$3\\rightarrow 4$|$4$|$\\frac{1}{8}$|\n|$4\\rightarrow 1$|$8$|$\\frac{1}{4}$|\n\n因此期望长度 $= \\frac{8}{4} + \\frac{3}{8} + \\frac{5}{8} +\\frac{4}{8} + \\frac{4}{8} +\\frac{8}{4} = 6.00$\n\n### 评分方法\n\n本题没有部分分，你程序的输出只有和标准答案的差距不超过 $0.01$ 时，才能获得该测试点的满分，否则不得分。\n\n\n### 数据规模和约定\n\n对于 $100\\%$ 的数据，$1\\leq W_i\\leq 100$。\n\n|测试点编号|$n$|$m$|备注| \n|:-:|:-:|:-:|:-:|\n|$1$| $n=10$| $m = n-1$| 保证图是链状 |\n|$2$| $n=100$|  $m = n-1$|只有节点 $1$ 的度数大于 $2$| \n|$3$| $n=1000$| $m = n-1$| / | \n|$4$| $n=10^5$| $m = n-1$| / | \n|$5$| $n=10^5$|  $m = n-1$| / | \n|$6$| $n=10$| $m = n$ | / | \n|$7$| $n=100$| $m = n$| 环中节点个数 $\\leq 5$| \n|$8$| $n=1000$|$m = n$| 环中节点个数 $\\leq 10$| \n|$9$| $n=10^5$ | $m = n$| 环中节点个数 $\\leq 15$| \n|$10$| $n=10^5$|$m = n$| 环中节点个数 $\\leq 20$|", "locale": "zh-CN"}}}
{"pid": "P2082", "type": "P", "difficulty": 3, "samples": [["3\r\n1 100000\r\n200001 1000000\r\n100000000 100000001", "900002"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学"], "title": "区间覆盖（加强版）", "background": "", "description": "已知有 $N$ 个区间，每个区间的范围是 $[s_i,t_i]$，请求出区间覆盖后的总长。", "inputFormat": "第一行一个正整数 $N$，表示区间个数。\n\n接下来 $N$ 行，每行两个正整数，表示 $s_i$ 和 $t_i$。", "outputFormat": "共一行，一个正整数，为覆盖后的区间总长。", "hint": "对于 $40 \\%$ 的数据，$N \\le 1000$，$1 \\le s_i < t_i \\le 10000$。\n\n对于 $100 \\%$ 的数据 ，$N \\le 10^5$，$1 \\le s_i < t_i \\le 10^{17}$。", "locale": "zh-CN", "translations": {"en": {"title": "Interval Coverage (Enhanced Version)", "background": "", "description": "Given $N$ intervals, each with range $[s_i, t_i]$, compute the total length of the union of these intervals.", "inputFormat": "The first line contains a positive integer $N$, representing the number of intervals.\nThen $N$ lines follow, each containing two positive integers, representing $s_i$ and $t_i$.", "outputFormat": "Output one line with a single positive integer, which is the total length of the union after covering the intervals.", "hint": "For $40 \\%$ of the testdata, $N \\le 1000$, $1 \\le s_i < t_i \\le 10000$.\nFor $100 \\%$ of the testdata, $N \\le 10^5$, $1 \\le s_i < t_i \\le 10^{17}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "区间覆盖（加强版）", "background": "", "description": "已知有 $N$ 个区间，每个区间的范围是 $[s_i,t_i]$，请求出区间覆盖后的总长。", "inputFormat": "第一行一个正整数 $N$，表示区间个数。\n\n接下来 $N$ 行，每行两个正整数，表示 $s_i$ 和 $t_i$。", "outputFormat": "共一行，一个正整数，为覆盖后的区间总长。", "hint": "对于 $40 \\%$ 的数据，$N \\le 1000$，$1 \\le s_i < t_i \\le 10000$。\n\n对于 $100 \\%$ 的数据 ，$N \\le 10^5$，$1 \\le s_i < t_i \\le 10^{17}$。", "locale": "zh-CN"}}}
{"pid": "P2083", "type": "P", "difficulty": 3, "samples": [["3 3 2 2 3\n1 3 3 3 2 1\n2 3 1 1 2 3\n1 1 1 2 2 3\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "树形数据结构", "洛谷原创"], "title": "找人", "background": "", "description": "小明要到他的同学家玩，可他只知道他住在某一单元，却不知住在哪个房间。那个单元有 $n$ 层（$1,2,\\ldots,n$），每层有 $m$（$1,2,\\ldots,m$）个房间。\n\n小明会从第一层的某个房间开始找，他找的方式也很特别，每次到了一个房间，如果不是他的同学，他就会询问这个人，然后他就会去那人告诉他的房间号，如果还不是，他就会继续按这个方法找下去，直到找到。当然，他也有可能找不到同学。他的体力也是有限的，他每爬一层楼梯就会消耗 $v$ 体力值。你的任务就是求找到同学耗费的最少体力值，如果找不到，就输出 `impossible` 。", "inputFormat": "第一行有五个整数，分别代表 $n$，$m$，$v$，$x$，$y$（$x$，$y$ 表示同学只在 $x$ 层 $y$ 房间）。\n\n$2\\sim n+1$ 行，每行 $m\\times 2$ 个数字，第 $i+1$ 行 $j\\times2-1$ 个数 $a_k$ 和第 $j\\times2$ 个数 $a_{k+1} $表示住在 $i$ 层 $j$ 房间的人提供的信息是 $a_k$ 层和 $a_{k+1}$ 房间。（同学的信息就是自己的房间号。）\n", "outputFormat": "一个数，即答案。\n", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\leq n\\le1000$，$1 \\leq m\\le100$，$1 \\leq v\\le50$。", "locale": "zh-CN", "translations": {"en": {"title": "Finding Someone", "background": "", "description": "Xiao Ming is going to visit a classmate, but he only knows the unit and not the exact room. The unit has $n$ floors ($1, 2, \\ldots, n$). Each floor has $m$ rooms ($1, 2, \\ldots, m$).\n\nXiao Ming will start searching from some room on the first floor. His search method is special: each time he arrives at a room, if the person there is not his classmate, he will ask that person, then go to the room number (a floor and a room) told by that person. If that room is still not his classmate’s, he continues in the same way until he finds the classmate. Of course, it may be impossible to find the classmate.\n\nHis stamina is limited: for each floor he climbs, he spends $v$ stamina points. Your task is to compute the minimum stamina needed to find the classmate. If it is impossible to find the classmate, output `impossible`.\n\nYou may choose any starting room on floor $1$.", "inputFormat": "The first line contains five integers $n$, $m$, $v$, $x$, $y$ (the classmate lives on floor $x$, room $y$).\n\nLines $2$ to $n+1$: each line contains $m \\times 2$ integers. In the $(i+1)$-th line, for each $j$ from $1$ to $m$, the $(j \\times 2 - 1)$-th and $(j \\times 2)$-th integers denote the floor and room given by the person living on floor $i$, room $j$. (For the classmate’s own room $(x, y)$, the information is exactly their own room number, i.e., $(x, y)$.)", "outputFormat": "Print one integer: the answer. If it is impossible to find the classmate, print `impossible`.", "hint": "Constraints\n\nFor $100\\%$ of the testdata, $1 \\leq n \\leq 1000$, $1 \\leq m \\leq 100$, $1 \\leq v \\leq 50$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "找人", "background": "", "description": "小明要到他的同学家玩，可他只知道他住在某一单元，却不知住在哪个房间。那个单元有 $n$ 层（$1,2,\\ldots,n$），每层有 $m$（$1,2,\\ldots,m$）个房间。\n\n小明会从第一层的某个房间开始找，他找的方式也很特别，每次到了一个房间，如果不是他的同学，他就会询问这个人，然后他就会去那人告诉他的房间号，如果还不是，他就会继续按这个方法找下去，直到找到。当然，他也有可能找不到同学。他的体力也是有限的，他每爬一层楼梯就会消耗 $v$ 体力值。你的任务就是求找到同学耗费的最少体力值，如果找不到，就输出 `impossible` 。", "inputFormat": "第一行有五个整数，分别代表 $n$，$m$，$v$，$x$，$y$（$x$，$y$ 表示同学只在 $x$ 层 $y$ 房间）。\n\n$2\\sim n+1$ 行，每行 $m\\times 2$ 个数字，第 $i+1$ 行 $j\\times2-1$ 个数 $a_k$ 和第 $j\\times2$ 个数 $a_{k+1} $表示住在 $i$ 层 $j$ 房间的人提供的信息是 $a_k$ 层和 $a_{k+1}$ 房间。（同学的信息就是自己的房间号。）\n", "outputFormat": "一个数，即答案。\n", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\leq n\\le1000$，$1 \\leq m\\le100$，$1 \\leq v\\le50$。", "locale": "zh-CN"}}}
{"pid": "P2084", "type": "P", "difficulty": 1, "samples": [["2 10101", "1*2^4+1*2^2+1*2^0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "线性数据结构", "洛谷原创"], "title": "进制转换", "background": "", "description": "今天小明学会了进制转换，比如 $(10101)_2$，那么它的十进制表示的式子就是 :\n\n$$1\\times 2^4+0\\times 2^3+1\\times 2^2+0\\times 2^1+1\\times 2^0$$\n\n那么请你编程实现，将一个 $M$ 进制的数 $N$ 转换成十进制表示的式子。\n\n注意：当系数为 $0$ 时，该单项式要省略。\n", "inputFormat": "两个整数，$M$ 和 $N$，中间用空格隔开。\n", "outputFormat": "共一行，一个十进制表示的式子。", "hint": "对于 $100\\%$ 的数据，$1<M<10$，$N$ 的位数不超过 $1000$ 且均为正整数。", "locale": "zh-CN", "translations": {"en": {"title": "Base Conversion", "background": "", "description": "Today, Xiao Ming learned base conversion. For example, for $(10101)_2$, its decimal representation as an expression is:\n\n$$1\\times 2^4+0\\times 2^3+1\\times 2^2+0\\times 2^1+1\\times 2^0$$\n\nPlease write a program that converts a number $N$ in base $M$ into its decimal representation as an expression.\n\nNote: When a coefficient is $0$, that term should be omitted.", "inputFormat": "Two integers, $M$ and $N$, separated by a space.", "outputFormat": "One line: the decimal representation as an expression.", "hint": "For $100\\%$ of the testdata, $1 < M < 10$, the number of digits of $N$ does not exceed $1000$, and each digit is an integer in $[0, M-1]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "进制转换", "background": "", "description": "今天小明学会了进制转换，比如 $(10101)_2$，那么它的十进制表示的式子就是 :\n\n$$1\\times 2^4+0\\times 2^3+1\\times 2^2+0\\times 2^1+1\\times 2^0$$\n\n那么请你编程实现，将一个 $M$ 进制的数 $N$ 转换成十进制表示的式子。\n\n注意：当系数为 $0$ 时，该单项式要省略。\n", "inputFormat": "两个整数，$M$ 和 $N$，中间用空格隔开。\n", "outputFormat": "共一行，一个十进制表示的式子。", "hint": "对于 $100\\%$ 的数据，$1<M<10$，$N$ 的位数不超过 $1000$ 且均为正整数。", "locale": "zh-CN"}}}
