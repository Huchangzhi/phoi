{"pid": "P8397", "type": "P", "difficulty": 0, "samples": [["3 2 5", "1 2 1"], ["5 5 14", "1 5 3 2 1"], ["5 5 50", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 S3] Good Samples", "background": "", "description": "注意：乐谱中的音符就是数字。\n\n我们把子乐谱定义为 “非空的连续音符序列”。也就是说，把一个序列排序去重之后，相邻的两个的值相差 $1$ 。\n\n比如说：\n$(3,4,2),(1,2,3,4,2),(4)$ 是 $(1,2,3,4,2)$ 的子乐谱。\n\n注意 $(1,3)$ 不是子乐谱。\n\n如果两个子乐谱在作品中开始或结束的位置不同，我们称之为“不同的子乐谱”。\n\n如果一个子乐谱中任意两个位置的数互不相同，我们称之为“好的子乐谱”。\n\n表演的演奏者非常讨厌，他们对乐谱提出了以下要求：\n\n1. 所有的音符必须低于 $m$ 。\n2. 子乐谱中有 $k$ 个好的子乐谱。\n\n现在他们找到了你，问是否能完成这些操作。", "inputFormat": "第一行输入三个整数 $n,m,k$ ，具体意义见题目描述。", "outputFormat": "一行，$n$ 个整数，表示演奏者想要的乐谱。\n\n如果有一个或多个符合要求的乐谱，请输出字典序最小的一个；如果不能组成演奏这想要的乐谱，则输出 `-1` 。", "hint": "对于 $20\\%$ 的数据：$1\\le n\\le 16,m=2,1\\le k\\le 1000$\n\n对于另外 $20\\%$ 的数据：$1\\le n\\le 10^6,m=2,1\\le k\\le 10^{18}$\n\n对于另外 $25\\%$ 的数据：$1\\le n\\le 10^6,m=n,1\\le k\\le 10^{18}$\n\n对于 $100\\%$ 的数据：$1\\le n\\le 10^6,1\\le m\\le n,1\\le k\\le 10^{18}$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 S3] Good Samples", "background": "", "description": "注意：乐谱中的音符就是数字。\n\n我们把子乐谱定义为 “非空的连续音符序列”。也就是说，把一个序列排序去重之后，相邻的两个的值相差 $1$ 。\n\n比如说：\n$(3,4,2),(1,2,3,4,2),(4)$ 是 $(1,2,3,4,2)$ 的子乐谱。\n\n注意 $(1,3)$ 不是子乐谱。\n\n如果两个子乐谱在作品中开始或结束的位置不同，我们称之为“不同的子乐谱”。\n\n如果一个子乐谱中任意两个位置的数互不相同，我们称之为“好的子乐谱”。\n\n表演的演奏者非常讨厌，他们对乐谱提出了以下要求：\n\n1. 所有的音符必须低于 $m$ 。\n2. 子乐谱中有 $k$ 个好的子乐谱。\n\n现在他们找到了你，问是否能完成这些操作。", "inputFormat": "第一行输入三个整数 $n,m,k$ ，具体意义见题目描述。", "outputFormat": "一行，$n$ 个整数，表示演奏者想要的乐谱。\n\n如果有一个或多个符合要求的乐谱，请输出字典序最小的一个；如果不能组成演奏这想要的乐谱，则输出 `-1` 。", "hint": "对于 $20\\%$ 的数据：$1\\le n\\le 16,m=2,1\\le k\\le 1000$\n\n对于另外 $20\\%$ 的数据：$1\\le n\\le 10^6,m=2,1\\le k\\le 10^{18}$\n\n对于另外 $25\\%$ 的数据：$1\\le n\\le 10^6,m=n,1\\le k\\le 10^{18}$\n\n对于 $100\\%$ 的数据：$1\\le n\\le 10^6,1\\le m\\le n,1\\le k\\le 10^{18}$", "locale": "zh-CN"}}}
{"pid": "P8398", "type": "P", "difficulty": 4, "samples": [["8 10\n0 2 5 5 6 9 0 0", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 S4] Good Triplets", "background": "", "description": "$\\rm Andrew$ 是十分好奇的学生，一天他在纸上画了一个圆，圆心在 $(0,0)$ 。设周长为 $C$ ，圆上每一个点的坐标为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x3ltbuv3.png)\n\n现在 $\\rm Andrew$ 在圆上画了 $n$ 个点，第 $i$ 的点画在 $p_i$ 上，$\\rm Andrew$ 可能在一个位置上画多个点。\n\n现在一个好的三角形 $（a,b,c)$ 的定义为：\n\n- $1\\le a<b<c\\le n$\n- 原点 $（0，0）$ 严格位于顶点在 $p_a$，$P_b$ 和 $p_c$ 的三角形内。特别注意的是，原点不在三角形的周长上。\n\n$\\rm Andrew$ 问你有多少个好的三角形。", "inputFormat": "第一行两个整数 $n,c$ ，表示点的个数和圆的周长。\n\n接下来一行，有 $n$ 个整数，具体意义见题目描述。", "outputFormat": "输出一个整数 $x$ ，表示有 $x$ 个好的三角形。", "hint": "样例 $1$ 解释：\n\n$\\rm Andrew$ 画了下面的图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o1ie0ubf.png)\n\n原点严格地位于顶点为 $p_1$、$p_2$ 和 $p_5$ 的三角形内，所以 $（1，2，5）$ 是一个好的三角形。其他五个好三联体是$（2，3，6），（2，4，6），（2，5，6），（2，5，7）$ 和$（2，5，8）$。\n\n对于 $20\\%$ 的数据：$3\\le n\\le 200,3\\le c\\le10^6$\n\n对于另外 $20\\%$ 的数据：$3\\le n\\le 10^6,3\\le c\\le6000$\n\n对于 $40\\%$ 的数据：$3\\le n\\le 10^6,3\\le c\\le10^6$ 且所有点的位置互不相同。\n\n对于 $100\\%$ 的数据：$3\\le n\\le 10^6,3\\le c\\le10^6$ ", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 S4] Good Triplets", "background": "", "description": "$\\rm Andrew$ 是十分好奇的学生，一天他在纸上画了一个圆，圆心在 $(0,0)$ 。设周长为 $C$ ，圆上每一个点的坐标为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x3ltbuv3.png)\n\n现在 $\\rm Andrew$ 在圆上画了 $n$ 个点，第 $i$ 的点画在 $p_i$ 上，$\\rm Andrew$ 可能在一个位置上画多个点。\n\n现在一个好的三角形 $（a,b,c)$ 的定义为：\n\n- $1\\le a<b<c\\le n$\n- 原点 $（0，0）$ 严格位于顶点在 $p_a$，$P_b$ 和 $p_c$ 的三角形内。特别注意的是，原点不在三角形的周长上。\n\n$\\rm Andrew$ 问你有多少个好的三角形。", "inputFormat": "第一行两个整数 $n,c$ ，表示点的个数和圆的周长。\n\n接下来一行，有 $n$ 个整数，具体意义见题目描述。", "outputFormat": "输出一个整数 $x$ ，表示有 $x$ 个好的三角形。", "hint": "样例 $1$ 解释：\n\n$\\rm Andrew$ 画了下面的图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o1ie0ubf.png)\n\n原点严格地位于顶点为 $p_1$、$p_2$ 和 $p_5$ 的三角形内，所以 $（1，2，5）$ 是一个好的三角形。其他五个好三联体是$（2，3，6），（2，4，6），（2，5，6），（2，5，7）$ 和$（2，5，8）$。\n\n对于 $20\\%$ 的数据：$3\\le n\\le 200,3\\le c\\le10^6$\n\n对于另外 $20\\%$ 的数据：$3\\le n\\le 10^6,3\\le c\\le6000$\n\n对于 $40\\%$ 的数据：$3\\le n\\le 10^6,3\\le c\\le10^6$ 且所有点的位置互不相同。\n\n对于 $100\\%$ 的数据：$3\\le n\\le 10^6,3\\le c\\le10^6$ ", "locale": "zh-CN"}}}
{"pid": "P8399", "type": "P", "difficulty": 5, "samples": [["4\n1 2\n2 3\n3 4\nYNYN\n4 3 6 2\n", "6"], ["15\n1 5\n5 2\n2 15\n15 4\n2 10\n8 3\n3 1\n1 6\n11 6\n12 6\n11 9\n11 14\n12 7\n13 7\nNNYYYNYYNNNNNNN\n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 S5] Good Influencers", "background": "", "description": "给定一棵**树**，点 $i$ 的点权是 $c_i$，上面有的点是蓝点 `Y` ，有的点是白点 `N` 。每次操作可以选定一个**蓝**点，将和这个蓝点直接相连的白点染成蓝色，代价是选定的蓝点的点权。\n\n求将整个树染成蓝色的最小代价。\n\n数据保证存在至少一个白点和至少一个蓝点。\n\n", "inputFormat": "\n第一行一个整数 $n$ 表示树的大小。\n\n接下来 $n-1$ 行每行两个整数 $a_i$,$b_i$，表示 $a_i$ 和 $b_i$ 直接相连。\n\n接下来一行 $n$ 个字符表示每个点初始颜色。\n\n接下来一行 $n$ 个整数表示每个点的点权。", "outputFormat": "一行，表示最小花费。", "hint": "\n对于 $30\\%$ 的数据：$2\\le n\\le 2000,1\\le c_i\\le1000$，且 $a_i=i,b_i=i+1$ 。\n\n对于另外 $50\\%$ 的数据：$2\\le n\\le 2000,1\\le c_i\\le1000$ 。\n\n对于 $100\\%$ 的数据：$2\\le n\\le 2\\times10^5,1\\le c_i\\le1000$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 S5] Good Influencers", "background": "", "description": "给定一棵**树**，点 $i$ 的点权是 $c_i$，上面有的点是蓝点 `Y` ，有的点是白点 `N` 。每次操作可以选定一个**蓝**点，将和这个蓝点直接相连的白点染成蓝色，代价是选定的蓝点的点权。\n\n求将整个树染成蓝色的最小代价。\n\n数据保证存在至少一个白点和至少一个蓝点。\n\n", "inputFormat": "\n第一行一个整数 $n$ 表示树的大小。\n\n接下来 $n-1$ 行每行两个整数 $a_i$,$b_i$，表示 $a_i$ 和 $b_i$ 直接相连。\n\n接下来一行 $n$ 个字符表示每个点初始颜色。\n\n接下来一行 $n$ 个整数表示每个点的点权。", "outputFormat": "一行，表示最小花费。", "hint": "\n对于 $30\\%$ 的数据：$2\\le n\\le 2000,1\\le c_i\\le1000$，且 $a_i=i,b_i=i+1$ 。\n\n对于另外 $50\\%$ 的数据：$2\\le n\\le 2000,1\\le c_i\\le1000$ 。\n\n对于 $100\\%$ 的数据：$2\\le n\\le 2\\times10^5,1\\le c_i\\le1000$。", "locale": "zh-CN"}}}
{"pid": "P8400", "type": "P", "difficulty": 1, "samples": [["2 5", "3"], ["2 4", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 J1] Cupcake Party", "background": "", "description": "幼儿园有 $28$ 个小朋友，因此需要 $28$ 个蛋糕。\n\n一个大盒子可以装 $8$ 块蛋糕，一个小盒子可以装 $3$ 块蛋糕。现在有 $n$ 个大盒子和 $m$ 个小盒子，现在给每个小朋友一块蛋糕，问能剩下几个？", "inputFormat": "一行，两个整数 $n,m$ ，具体意义见题目描述。", "outputFormat": "一行，表示剩余蛋糕的数量。", "hint": "对于全部数据：$0\\le n,m\\le100$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 J1] Cupcake Party", "background": "", "description": "幼儿园有 $28$ 个小朋友，因此需要 $28$ 个蛋糕。\n\n一个大盒子可以装 $8$ 块蛋糕，一个小盒子可以装 $3$ 块蛋糕。现在有 $n$ 个大盒子和 $m$ 个小盒子，现在给每个小朋友一块蛋糕，问能剩下几个？", "inputFormat": "一行，两个整数 $n,m$ ，具体意义见题目描述。", "outputFormat": "一行，表示剩余蛋糕的数量。", "hint": "对于全部数据：$0\\le n,m\\le100$", "locale": "zh-CN"}}}
{"pid": "P8401", "type": "P", "difficulty": 1, "samples": [["3\n12\n4\n10\n3\n9\n1", "3+"], ["2\n8\n0\n12\n1", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 J2] Fergusonball Ratings", "background": "", "description": "现在有一个球队需要你评价。\n\n球队中的第 $i$ 个人进了 $a_i$ 个球，犯规了 $b_i$ 次。\n\n所以第 $i$ 个人的分数就是 $5\\times a_i-3\\times b_i$ 。\n\n如果第 $i$ 个人的分数大于 $40$ ，那么这个人就是一个黄金球员。\n\n相对应的，如果这个球队的所有人都是黄金球员，那么这个球队就是一个黄金球队。", "inputFormat": "第一行一个整数 $n$ ，表示球队的人数。\n\n接下来 $2n$ 行，第 $2 i - 1$ 行表示 $a_i$，第 $2 i$ 行表示 $b_i$ 。", "outputFormat": "共一行，表示黄金球员的数量。如果这是一个黄金球队，请再输出一个 `+` 。", "hint": "对于全部数据：$1\\le n\\le 20,1\\le a_i,b_i\\le2000$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 J2] Fergusonball Ratings", "background": "", "description": "现在有一个球队需要你评价。\n\n球队中的第 $i$ 个人进了 $a_i$ 个球，犯规了 $b_i$ 次。\n\n所以第 $i$ 个人的分数就是 $5\\times a_i-3\\times b_i$ 。\n\n如果第 $i$ 个人的分数大于 $40$ ，那么这个人就是一个黄金球员。\n\n相对应的，如果这个球队的所有人都是黄金球员，那么这个球队就是一个黄金球队。", "inputFormat": "第一行一个整数 $n$ ，表示球队的人数。\n\n接下来 $2n$ 行，第 $2 i - 1$ 行表示 $a_i$，第 $2 i$ 行表示 $b_i$ 。", "outputFormat": "共一行，表示黄金球员的数量。如果这是一个黄金球队，请再输出一个 `+` 。", "hint": "对于全部数据：$1\\le n\\le 20,1\\le a_i,b_i\\le2000$", "locale": "zh-CN"}}}
{"pid": "P8402", "type": "P", "difficulty": 2, "samples": [["AFB+8HC-4", "AFB tighten 8\nHC loosen 4"], ["AFB+8SC-4H-2GDPE+9", "AFB tighten 8\nSC loosen 4\nH loosen 2\nGDPE tighten 9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 J3]  Harp Tuning", "background": null, "description": "现在有一个竖琴，像其他乐器一样，它可以走调。\n\n一个有音乐倾向的计算机科学学生写了一个聪明的计算机程序来帮助竖琴调音。\n\n这个程序分析了竖琴产生的声音，并提供指令来修复每根失调的弦。\n\n每条指令包括一组琴弦，它们是应该收紧还是松开，以及转多少圈。\n\n例如，单行的 $AFB+8HC-4$ 实际上包含两条调谐指令。\n\n$AFB+8$ 和 $HC-4$。\n\n第一条指令表示竖琴的 $A、F、B$ 弦应收紧 $8$ 圈。\n\n第二条指令表示，竖琴的 $H、C$ 弦应该松开 $4$ 圈。\n\n你的工作是把单行的调音指令变得更容易阅读。", "inputFormat": "一行，输入一个字符串 $s$，具体意义见题目描述。", "outputFormat": "输出若干行。\n\n对于每个指令，第一行输出琴弦的大写字母；如果原指令中是 `+`，输出 `tighten`，否则输出 `loosen`；最后输出转数 $x$（用空格间隔开）。", "hint": "对于全部数据：$1\\le s\\le 1000,1\\le x\\le 99999$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 J3]  Harp Tuning", "background": null, "description": "现在有一个竖琴，像其他乐器一样，它可以走调。\n\n一个有音乐倾向的计算机科学学生写了一个聪明的计算机程序来帮助竖琴调音。\n\n这个程序分析了竖琴产生的声音，并提供指令来修复每根失调的弦。\n\n每条指令包括一组琴弦，它们是应该收紧还是松开，以及转多少圈。\n\n例如，单行的 $AFB+8HC-4$ 实际上包含两条调谐指令。\n\n$AFB+8$ 和 $HC-4$。\n\n第一条指令表示竖琴的 $A、F、B$ 弦应收紧 $8$ 圈。\n\n第二条指令表示，竖琴的 $H、C$ 弦应该松开 $4$ 圈。\n\n你的工作是把单行的调音指令变得更容易阅读。", "inputFormat": "一行，输入一个字符串 $s$，具体意义见题目描述。", "outputFormat": "输出若干行。\n\n对于每个指令，第一行输出琴弦的大写字母；如果原指令中是 `+`，输出 `tighten`，否则输出 `loosen`；最后输出转数 $x$（用空格间隔开）。", "hint": "对于全部数据：$1\\le s\\le 1000,1\\le x\\le 99999$", "locale": "zh-CN"}}}
{"pid": "P8403", "type": "P", "difficulty": 3, "samples": [["1\nELODIE CHI\n0\n2\nDWAYNE BEN ANJALI\nCHI FRANCOIS ELODIE", "0"], ["3\nA B\nG L\nJ K\n2\nD F\nD G\n4\nA C G\nB D F\nE H I\nJ K L", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["并查集", "2022", "CCC（加拿大）", "哈希 hashing"], "title": "[CCC 2022 J4] Good Groups", "background": "请注意：这道题是 [CCO 2022 S2  Good Groups](https://www.luogu.com.cn/problem/P8396) 的弱化版\n\n管理备注：似乎没有弱化", "description": "一个班级会被分成 $g$ 个组，每个组有三个人，这种分组方式可能会违反两种规定：\n\n1. 一些学生必须在同一小组；\n2. 一些学生必须不在同一小组。\n\n现在校长找到了你，问学生一共违反了多少个规定。", "inputFormat": "第一行一个整数 $x$。紧接着 $x$ 行，每行两个学生名字 $name_1,name_2$ ，表示这两个学生必须被分配到同一个小组。\n\n接下来一个整数 $y$。紧接着 $y$ 行，每行两个学生名字 $name_1,name_2$ ，表示这两个学生必须不在同一个小组。\n\n接下来一个整数 $g$。紧接着 $g$ 行，每行三个学生名字$name_1,name_2,name_3$，表示这三个学生现在被分在一个小组。\n", "outputFormat": "输出一个整数，表示学生一共违反了多少个规定。", "hint": "### 样例2解释：\n\n1. $\\rm A$ 和 $\\rm B$ 必须在同一组，这一点违反了。\n2. $\\rm G$ 和 $\\rm L$ 必须在同一组，这一点违反了。\n3. $\\rm J$ 和 $\\rm K$ 必须在同一组，这一点没有违反。\n4. $\\rm D$ 和 $\\rm F$ 必须不在同一组，这一点违反了。\n5. $\\rm D$ 和 $\\rm G$ 必须不在同一组，这一点没有被违反。\n\n以上 $5$ 条共违反 $3$ 条，所以输出 $3$。\n\n对于 $25\\%$ 的数据：$1\\le g\\le 50 , 1\\le x\\le 50,y=0$\n\n对于另外 $60\\%$ 的数据：$1\\le g\\le 50 , 1\\le x\\le 50,1\\le\n y\\le 50$\n \n对于 $100\\%$ 的数据：$1\\le g\\le 10^5,1\\le x\\le 10^5,1\\le y\\le 10^5$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 J4] Good Groups", "background": "请注意：这道题是 [CCO 2022 S2  Good Groups](https://www.luogu.com.cn/problem/P8396) 的弱化版\n\n管理备注：似乎没有弱化", "description": "一个班级会被分成 $g$ 个组，每个组有三个人，这种分组方式可能会违反两种规定：\n\n1. 一些学生必须在同一小组；\n2. 一些学生必须不在同一小组。\n\n现在校长找到了你，问学生一共违反了多少个规定。", "inputFormat": "第一行一个整数 $x$。紧接着 $x$ 行，每行两个学生名字 $name_1,name_2$ ，表示这两个学生必须被分配到同一个小组。\n\n接下来一个整数 $y$。紧接着 $y$ 行，每行两个学生名字 $name_1,name_2$ ，表示这两个学生必须不在同一个小组。\n\n接下来一个整数 $g$。紧接着 $g$ 行，每行三个学生名字$name_1,name_2,name_3$，表示这三个学生现在被分在一个小组。\n", "outputFormat": "输出一个整数，表示学生一共违反了多少个规定。", "hint": "### 样例2解释：\n\n1. $\\rm A$ 和 $\\rm B$ 必须在同一组，这一点违反了。\n2. $\\rm G$ 和 $\\rm L$ 必须在同一组，这一点违反了。\n3. $\\rm J$ 和 $\\rm K$ 必须在同一组，这一点没有违反。\n4. $\\rm D$ 和 $\\rm F$ 必须不在同一组，这一点违反了。\n5. $\\rm D$ 和 $\\rm G$ 必须不在同一组，这一点没有被违反。\n\n以上 $5$ 条共违反 $3$ 条，所以输出 $3$。\n\n对于 $25\\%$ 的数据：$1\\le g\\le 50 , 1\\le x\\le 50,y=0$\n\n对于另外 $60\\%$ 的数据：$1\\le g\\le 50 , 1\\le x\\le 50,1\\le\n y\\le 50$\n \n对于 $100\\%$ 的数据：$1\\le g\\le 10^5,1\\le x\\le 10^5,1\\le y\\le 10^5$", "locale": "zh-CN"}}}
{"pid": "P8404", "type": "P", "difficulty": 4, "samples": [["5\n1\n2 4", "3"], ["15\n8\n4 7\n4 1\n14 11\n10 6\n13 4\n4 10\n10 3\n9 14", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "CCC（加拿大）"], "title": "[CCC 2022 J5] Square Pool", "background": "", "description": "罗恩想在他的 $n\\times n$ 的正方形院子里建一个正方形游泳池，但他的院子里有 $T$ 棵树。\n\n你的任务是确定他可以建造的最大的方形游泳池的边长。", "inputFormat": "第一行一个整数 $n$ ，具体意义见题目描述。\n\n第二行一个整数 $T$ ，具体意义见题目描述。\n\n接下来 $T$ 行，每行两个整数 $x,y$ ，表示在 $(x,y)$ 上有一棵树。", "outputFormat": "一行，表示游泳池的最大边长。", "hint": "样例 $1$ 解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2b58ek8.png)\n\n样例 $2$ 解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r7uoub7n.png)\n\n对于 $20\\%$ 的数据：$1\\le n\\le 50,T=1$\n\n对于 $35\\%$ 的数据：$1\\le n\\le 50,1\\le T\\le 10$\n\n对于 $25\\%$ 的数据：$1\\le n\\le 5\\times 10^5,1\\le T\\le 10$\n\n对于 $100\\%$ 的数据：$1\\le n\\le 5\\times 10^5,1\\le T\\le 100$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2022 J5] Square Pool", "background": "", "description": "罗恩想在他的 $n\\times n$ 的正方形院子里建一个正方形游泳池，但他的院子里有 $T$ 棵树。\n\n你的任务是确定他可以建造的最大的方形游泳池的边长。", "inputFormat": "第一行一个整数 $n$ ，具体意义见题目描述。\n\n第二行一个整数 $T$ ，具体意义见题目描述。\n\n接下来 $T$ 行，每行两个整数 $x,y$ ，表示在 $(x,y)$ 上有一棵树。", "outputFormat": "一行，表示游泳池的最大边长。", "hint": "样例 $1$ 解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c2b58ek8.png)\n\n样例 $2$ 解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/r7uoub7n.png)\n\n对于 $20\\%$ 的数据：$1\\le n\\le 50,T=1$\n\n对于 $35\\%$ 的数据：$1\\le n\\le 50,1\\le T\\le 10$\n\n对于 $25\\%$ 的数据：$1\\le n\\le 5\\times 10^5,1\\le T\\le 10$\n\n对于 $100\\%$ 的数据：$1\\le n\\le 5\\times 10^5,1\\le T\\le 100$", "locale": "zh-CN"}}}
{"pid": "P8405", "type": "P", "difficulty": 4, "samples": [["3 3\n1 2\n2 3\n1 3", "3\n2 1\n3 0\n1 1\n"], ["4 3\n1 2\n3 2\n2 4\n", "4\n2 1\n4 0\n3 1\n1 1"], ["5 10\n2 4\n3 4\n1 4\n4 5\n3 2\n2 1\n5 2\n1 3\n5 3\n1 5", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #6]  Naboj", "background": "", "description": "Šikić 先生是一位化学老师，他正在用 $n$ 个金属球和 $m$ 根铜导线做实验。他将一些对金属球用导线相连，使这些球（直接或间接地）与其他球都相连。他想要教学生关于电荷的知识，因此他将通过按顺序给金属球充电来演示它。\n\nŠikić 先生可以让每个球带上正负电荷的一种。当一个金属球带负电荷时，与这个金属球相连的所有导线中的电子都将被排斥到与该导线相连的另一个金属球上。反过来，当一个金属球带正电荷时，与这个金属球相连的所有导线中的电子都将受这个金属球的吸引。无论导线的先前状态如何，给球充电对导线的影响都相同。\n\n在刚上课的时候，所有的金属球都不带电，导线中的电子不动。对于每根导线，Šikić 先生都想让它其中电子的流向是某一个确定的方向。请帮他确定一个给金属球充电的顺序，使得最后电子的流向是他想要的。", "inputFormat": "第一行两个数 $n$ 和 $m$，意义如题目描述。\n\n接下来 $m$ 行每行两个整数 $a_i$ 和 $b_i$，表示金属球 $a_i$ 和 $b_i$ 之间有一根导线相连，并且这根导线中的电子应更靠近 $a_i$ 而不是 $b_i$。在一对金属球之间最多只有一条导线。所有的金属球都通过导线直接或间接相连。", "outputFormat": "如果不可能让最后电子的流向是 Šikić 先生想要的，输出 $-1$。否则输出 $k$，表示需要充电的金属球数量。$k$ 必须小于等于 $200000$。\n\n接下来 $k$ 行，每行输出两个整数 $c_i$ 和 $d_i(1 \\leq c_i \\leq n,0 \\leq d_i \\leq 1)$，分别表示第 $i$ 步 Šikić 先生需要充电的金属球的编号和是给这个金属球充正电荷（用 $d_i=1$ 表示）还是负电荷（用 $d_i=0$ 表示）。如果有多种方案，输出其中一种即可。", "hint": "### 样例解释 1：\n\n首先，我们给金属球 $2$ 充正电荷。金属球 $1,2$ 和金属球 $2,3$ 之间的导线中的电子现在更靠近 $2$。金属球 $1,3$ 之间的导线仍保持中性。\n\n现在我们给金属球 $3$ 充负电荷。金属球 $2,3$ 之间的导线状态不变，金属球 $1,3$ 之间的导线中的电子更靠近金属球 $1$。\n\n最后我们给金属球 $1$ 冲正电荷。金属球 $1,3$ 之间的导线状态不变，但金属球 $1,2$ 之间的导线现在将更靠近金属球 $1$，目标流向达成。\n\n### 数据范围：\n\n对于全部数据，$1 \\le n\\le 200000$，$1\\le m\\le 500000$，$1 \\le a_i,b_ i\\le n,a_i\\neq b_i$\n\n本题分值与 [COCI 2021-2022#6](https://hsin.hr/coci/contest6_tasks.pdf) 分值相同，满分 $110$ 分", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #6]  Naboj", "background": "", "description": "Šikić 先生是一位化学老师，他正在用 $n$ 个金属球和 $m$ 根铜导线做实验。他将一些对金属球用导线相连，使这些球（直接或间接地）与其他球都相连。他想要教学生关于电荷的知识，因此他将通过按顺序给金属球充电来演示它。\n\nŠikić 先生可以让每个球带上正负电荷的一种。当一个金属球带负电荷时，与这个金属球相连的所有导线中的电子都将被排斥到与该导线相连的另一个金属球上。反过来，当一个金属球带正电荷时，与这个金属球相连的所有导线中的电子都将受这个金属球的吸引。无论导线的先前状态如何，给球充电对导线的影响都相同。\n\n在刚上课的时候，所有的金属球都不带电，导线中的电子不动。对于每根导线，Šikić 先生都想让它其中电子的流向是某一个确定的方向。请帮他确定一个给金属球充电的顺序，使得最后电子的流向是他想要的。", "inputFormat": "第一行两个数 $n$ 和 $m$，意义如题目描述。\n\n接下来 $m$ 行每行两个整数 $a_i$ 和 $b_i$，表示金属球 $a_i$ 和 $b_i$ 之间有一根导线相连，并且这根导线中的电子应更靠近 $a_i$ 而不是 $b_i$。在一对金属球之间最多只有一条导线。所有的金属球都通过导线直接或间接相连。", "outputFormat": "如果不可能让最后电子的流向是 Šikić 先生想要的，输出 $-1$。否则输出 $k$，表示需要充电的金属球数量。$k$ 必须小于等于 $200000$。\n\n接下来 $k$ 行，每行输出两个整数 $c_i$ 和 $d_i(1 \\leq c_i \\leq n,0 \\leq d_i \\leq 1)$，分别表示第 $i$ 步 Šikić 先生需要充电的金属球的编号和是给这个金属球充正电荷（用 $d_i=1$ 表示）还是负电荷（用 $d_i=0$ 表示）。如果有多种方案，输出其中一种即可。", "hint": "### 样例解释 1：\n\n首先，我们给金属球 $2$ 充正电荷。金属球 $1,2$ 和金属球 $2,3$ 之间的导线中的电子现在更靠近 $2$。金属球 $1,3$ 之间的导线仍保持中性。\n\n现在我们给金属球 $3$ 充负电荷。金属球 $2,3$ 之间的导线状态不变，金属球 $1,3$ 之间的导线中的电子更靠近金属球 $1$。\n\n最后我们给金属球 $1$ 冲正电荷。金属球 $1,3$ 之间的导线状态不变，但金属球 $1,2$ 之间的导线现在将更靠近金属球 $1$，目标流向达成。\n\n### 数据范围：\n\n对于全部数据，$1 \\le n\\le 200000$，$1\\le m\\le 500000$，$1 \\le a_i,b_ i\\le n,a_i\\neq b_i$\n\n本题分值与 [COCI 2021-2022#6](https://hsin.hr/coci/contest6_tasks.pdf) 分值相同，满分 $110$ 分", "locale": "zh-CN"}}}
{"pid": "P8406", "type": "P", "difficulty": 6, "samples": [["3\n010\n1 2\n2 3", "2\n3"], ["5\n00111\n4 1\n1 5\n2 1\n3 1", "2\n3\n4\n5\n"], ["8\n10010000\n7 5\n4 2\n3 6\n1 3\n6 8\n5 3\n1 2", "2\n2\n2\n3\n4\n6\n8\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "回文自动机 PAM", "COCI（克罗地亚）"], "title": "[COCI 2021/2022 #6]  Palindromi", "background": "", "description": "给你一个长度为 $n$ 的 $\\texttt{01}$ 序列，下标为 $1,2,\\dots,n$。最初每个字符都代表了一个长度为 $1$ 的字符串。在一次连接中，需要选择两个字符串 $a$ 和 $b$，将它们删除后，换为字符串 $ab$，即在写下 $a$ 中的所有字符后写下字符串 $b$ 的所有字符。\n\n这 $n$ 个初始字符串需要用 $n-1$ 次连接操作连成一个字符串。第 $i$ 次选择的字符串用一个下标对 $(a_i,b_i)$ 描述，表示要连接的字符串是包含下标为 $a_i$ 的字符的和包含下标为 $b_i$ 的字符的。保证下标为 $a_i$ 和 $b_i$ 的字符不在同一字符串中。\n\n一些字符串 $w$ 的回文值被定义为 $w$ 中不同回文子串的个数。我们定义回文串为从左到右读和从右到左读相同的字符串。一个字符串的子串被定义为可以从字符串开头和（或）结尾开始删去一个或多个字符得到的字符串。\n\n对于每次连接操作，输出每次连成的字符串的回文值。", "inputFormat": "第一行包含一个整数 $n$，表示字符个数。\n\n第二行一个长度为 $n$ 的 $01$ 字符串，表示初始字符串。\n\n接下来 $n-1$ 行，每行两个整数 $a_i$，$b_i$，表示第 $i$ 次连接操作。", "outputFormat": "输出 $n-1$ 行，表示每次连接操作得到的字符串的回文值。", "hint": "### 样例解释3：\n在每个连接之后新创建的字符串是： $\\tt 00, 10,00, 100, 1000,001000 $ 和 $\\tt 00100010$。\n\n它们各自的回文值在样例输出中给出。例如 $\\tt 00100010$ 的回文值是 $8$，因为字符串包含$8$回文子字符串： $\\tt 0, 00, 000, 10001,0100010, 1010$ 和 $00100$。\n\n\n### 数据范围：\n\n对于 $9\\%$ 的数据：$1\\le n\\le100$\n\n对于 $18\\%$ 的数据：$1\\le n\\le1000$\n\n对于 $27\\%$ 的数据：$a_i = 1, b_i = i + 1$\n\n对于 $100\\%$ 的数据：$1\\le n\\le10^5$，$1\\le a_i, b_i\\le n$\n\n本题分值与 [COCI 2021-2022#6](https://hsin.hr/coci/contest6_tasks.pdf) 分值相同，满分 $110$ 分", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2021/2022 #6]  Palindromi", "background": "", "description": "给你一个长度为 $n$ 的 $\\texttt{01}$ 序列，下标为 $1,2,\\dots,n$。最初每个字符都代表了一个长度为 $1$ 的字符串。在一次连接中，需要选择两个字符串 $a$ 和 $b$，将它们删除后，换为字符串 $ab$，即在写下 $a$ 中的所有字符后写下字符串 $b$ 的所有字符。\n\n这 $n$ 个初始字符串需要用 $n-1$ 次连接操作连成一个字符串。第 $i$ 次选择的字符串用一个下标对 $(a_i,b_i)$ 描述，表示要连接的字符串是包含下标为 $a_i$ 的字符的和包含下标为 $b_i$ 的字符的。保证下标为 $a_i$ 和 $b_i$ 的字符不在同一字符串中。\n\n一些字符串 $w$ 的回文值被定义为 $w$ 中不同回文子串的个数。我们定义回文串为从左到右读和从右到左读相同的字符串。一个字符串的子串被定义为可以从字符串开头和（或）结尾开始删去一个或多个字符得到的字符串。\n\n对于每次连接操作，输出每次连成的字符串的回文值。", "inputFormat": "第一行包含一个整数 $n$，表示字符个数。\n\n第二行一个长度为 $n$ 的 $01$ 字符串，表示初始字符串。\n\n接下来 $n-1$ 行，每行两个整数 $a_i$，$b_i$，表示第 $i$ 次连接操作。", "outputFormat": "输出 $n-1$ 行，表示每次连接操作得到的字符串的回文值。", "hint": "### 样例解释3：\n在每个连接之后新创建的字符串是： $\\tt 00, 10,00, 100, 1000,001000 $ 和 $\\tt 00100010$。\n\n它们各自的回文值在样例输出中给出。例如 $\\tt 00100010$ 的回文值是 $8$，因为字符串包含$8$回文子字符串： $\\tt 0, 00, 000, 10001,0100010, 1010$ 和 $00100$。\n\n\n### 数据范围：\n\n对于 $9\\%$ 的数据：$1\\le n\\le100$\n\n对于 $18\\%$ 的数据：$1\\le n\\le1000$\n\n对于 $27\\%$ 的数据：$a_i = 1, b_i = i + 1$\n\n对于 $100\\%$ 的数据：$1\\le n\\le10^5$，$1\\le a_i, b_i\\le n$\n\n本题分值与 [COCI 2021-2022#6](https://hsin.hr/coci/contest6_tasks.pdf) 分值相同，满分 $110$ 分", "locale": "zh-CN"}}}
{"pid": "P8407", "type": "P", "difficulty": 6, "samples": [["1\n4\n()))((()\n1 2\n3 5\n4 6\n7 8", "0 1 0 1"], ["1\n4\n)()()()(\n1 2\n3 4\n5 6\n7 8", "1 1 0 0"], ["1\n3\n(()())\n1 6\n2 4\n3 5", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "COCI（克罗地亚）"], "title": "【征集 SPJ】[COCI 2021/2022 #6]  Superpozicija", "background": "", "description": "世界闻名的物理学家 Juraj 最近发现了一种新的基本粒子——括号子（parenthesision）。括号子可以有开 `(` 或关 `)` 两种状态。使用 Juraj 自制的粒子加速器，他创造了 $t$ 个由 $n$ 个括号子组成的叠加态序列。这 $t$ 个序列中的 $n$ 个括号子都是两个不同的位置和（不必不同的）状态的叠加态。如果序列被观测的话，括号子的波函数就将坍缩，每个括号子的位置和状态就是确定的了。Juraj 想知道这些括号子是否可以坍缩为一个合法的括号序列。\n\nJuraj M. 博士知道这些革命性的且完全有科学依据的粒子的量子物理学已经超出了 COCI 的参赛者的知识范围，所以他提供了一个正式的题面：\n\n给你 $t$ 个长度为 $2n$ 且由左右括号构成的括号序列。每个括号都恰好是一对括号中的一个。一对中的括号可以是不同的，也可以都是左括号或右括号。Juraj 想知道是否可以在每对括号中选一个，使得最后组成的括号序列是一个合法的括号序列。此外，如果是可能的，他需要你输出如何才能获得一个合法的括号序列。一个括号序列是合法的，如果它是一个空串，或者可以写成 $(A)$ 或者 $AB$，其中 $A$ 和 $B$ 是任意的合法括号序列。", "inputFormat": "第一行包含一个整数 $t$，表示括号序列数。接下来描述这 $t$ 个序列。\n\n第一行包含一个整数 $n$，表示这个序列里的括号对数。\n\n第二行包含一个长度为 $2n$ 的字符串 $z$，$z$ 只由字符 `(` 和 `)` 组成。\n\n接下来 $n$ 行，每行包含两个整数 $a_i,b_i$，数字 $1,2,\\dots,2n$ 在其中都只出现恰好一次。", "outputFormat": "输出 $t$ 行，第 $i$ 行输出一个 $01$ 序列，表示可能的括号选择方案。如果第 $i$ 个序列中，第 $j$ 对括号下标为 $a_j$ 的一个被选中，输出 $0$，如果是 $b_j$ 被选中，输出 $1$。如果没有合法的选择方案，输出 $-1$。", "hint": "### 样例解释 1：\n\n从原序列 `()))((()` 中，只有加粗的部分会留下 **(**))**)(**((**)**，即 **()()**，它是一个合法的括号序列。\n\n### 数据范围：\n\n对于 $9\\%$ 的数据：$1\\le n \\le 10$。\n\n对于 $9\\%$ 的数据：$z[a_i]=z[b_i]$。\n\n对于 $18\\%$ 的数据：$b_i=a_i+1$。\n\n对于 $100\\%$ 的数据：$1\\le t \\le 10^5,\\sum n\\le10^5,1\\le n \\le 10^5 ,1\\le a_i \\le b_i \\le 2\\times n$。\n\n本题分值与 [COCI 2021-2022#6](https://hsin.hr/coci/contest6_tasks.pdf) 分值相同，满分 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【征集 SPJ】[COCI 2021/2022 #6]  Superpozicija", "background": "", "description": "世界闻名的物理学家 Juraj 最近发现了一种新的基本粒子——括号子（parenthesision）。括号子可以有开 `(` 或关 `)` 两种状态。使用 Juraj 自制的粒子加速器，他创造了 $t$ 个由 $n$ 个括号子组成的叠加态序列。这 $t$ 个序列中的 $n$ 个括号子都是两个不同的位置和（不必不同的）状态的叠加态。如果序列被观测的话，括号子的波函数就将坍缩，每个括号子的位置和状态就是确定的了。Juraj 想知道这些括号子是否可以坍缩为一个合法的括号序列。\n\nJuraj M. 博士知道这些革命性的且完全有科学依据的粒子的量子物理学已经超出了 COCI 的参赛者的知识范围，所以他提供了一个正式的题面：\n\n给你 $t$ 个长度为 $2n$ 且由左右括号构成的括号序列。每个括号都恰好是一对括号中的一个。一对中的括号可以是不同的，也可以都是左括号或右括号。Juraj 想知道是否可以在每对括号中选一个，使得最后组成的括号序列是一个合法的括号序列。此外，如果是可能的，他需要你输出如何才能获得一个合法的括号序列。一个括号序列是合法的，如果它是一个空串，或者可以写成 $(A)$ 或者 $AB$，其中 $A$ 和 $B$ 是任意的合法括号序列。", "inputFormat": "第一行包含一个整数 $t$，表示括号序列数。接下来描述这 $t$ 个序列。\n\n第一行包含一个整数 $n$，表示这个序列里的括号对数。\n\n第二行包含一个长度为 $2n$ 的字符串 $z$，$z$ 只由字符 `(` 和 `)` 组成。\n\n接下来 $n$ 行，每行包含两个整数 $a_i,b_i$，数字 $1,2,\\dots,2n$ 在其中都只出现恰好一次。", "outputFormat": "输出 $t$ 行，第 $i$ 行输出一个 $01$ 序列，表示可能的括号选择方案。如果第 $i$ 个序列中，第 $j$ 对括号下标为 $a_j$ 的一个被选中，输出 $0$，如果是 $b_j$ 被选中，输出 $1$。如果没有合法的选择方案，输出 $-1$。", "hint": "### 样例解释 1：\n\n从原序列 `()))((()` 中，只有加粗的部分会留下 **(**))**)(**((**)**，即 **()()**，它是一个合法的括号序列。\n\n### 数据范围：\n\n对于 $9\\%$ 的数据：$1\\le n \\le 10$。\n\n对于 $9\\%$ 的数据：$z[a_i]=z[b_i]$。\n\n对于 $18\\%$ 的数据：$b_i=a_i+1$。\n\n对于 $100\\%$ 的数据：$1\\le t \\le 10^5,\\sum n\\le10^5,1\\le n \\le 10^5 ,1\\le a_i \\le b_i \\le 2\\times n$。\n\n本题分值与 [COCI 2021-2022#6](https://hsin.hr/coci/contest6_tasks.pdf) 分值相同，满分 $110$ 分。", "locale": "zh-CN"}}}
{"pid": "P8408", "type": "P", "difficulty": 5, "samples": [["1 42\n1 10\n1\n5", "2"], ["2 42\n1 10\n1\n5\n1 5\n1\n5", "3"], ["3 8\n4 5\n1 2 3 2\n1 2 1 3\n1 1\n3\n1\n2 1\n1 2\n2 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "矩阵乘法", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #6] GREMLINI", "background": null, "description": "有 $n$ 种小妖精，我们给这 $n$ 类小妖分别编号为 $1,\\dots,n$。\n\n$t$ 年前，一次事故造出了 $n$ 只小妖（视为刚出生的，而非成熟的），这些小妖的种类互不相同。\n\n第 $i$ 种小妖出生后需要 $y_i$ 年成熟，成熟后会立即产下 $k_i$ 个蛋（小妖是无性繁殖的生物）然后死亡。将它的蛋编号为 $1.\\dots,k$，其中，第 $j$ 个蛋需要 $h_{i,j}$ 年孵化，孵出的小妖的类型为 $g _ {i, j}$。\n\n请问，现在和祖先关系最远的小妖到了多少代，不考虑暂未孵出的。假设祖先是 $0$ 代，其子辈为第 $1$ 代，孙辈为第 $2$ 代，以此类推。", "inputFormat": "第一行：$n,t$。\n接下来 $3n$ 行，每三行为一组。\n\n每组的第一行：$k_i,y_i$。\n每组的第二行：$g_{ i,1},\\ldots,g_{i,k_i}$。\n每组的第三行：$h_{ i,1},\\ldots,h_{i,k_i}$。", "outputFormat": "一行，一个整数，表示现在和祖先关系最远的小妖到了多少代。", "hint": "**【样例 #1 解释】**\n\n事故发生 $10$ 年后，最开始的那只小妖（$0$ 代）产下了一个蛋，然后死亡。事故发生 $15$ 年后，蛋孵化出了新的一只小妖（$1$ 代）。事故发生 $25$ 年后，$1$ 代小妖产下了一个蛋，然后死亡。事故发生 $30$ 年后，蛋孵化出了新的一只小妖（$2$ 代）。事故发生 $40$ 年后，$2$ 代小妖产下了一个蛋，然后死亡。事故发生 $42$ 年后，这个蛋仍未孵化，因此不计。\n\n**【数据范围】**\n\n$1 \\le n \\le 100,1 \\le t \\le 10^{15},1 \\le k_i, y_i, h_{i,j} \\le 1000,1 \\le g_{i,j} \\le n$。\n\n本题分值按 COCI 原题设置，满分 $130$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #6] GREMLINI", "background": null, "description": "有 $n$ 种小妖精，我们给这 $n$ 类小妖分别编号为 $1,\\dots,n$。\n\n$t$ 年前，一次事故造出了 $n$ 只小妖（视为刚出生的，而非成熟的），这些小妖的种类互不相同。\n\n第 $i$ 种小妖出生后需要 $y_i$ 年成熟，成熟后会立即产下 $k_i$ 个蛋（小妖是无性繁殖的生物）然后死亡。将它的蛋编号为 $1.\\dots,k$，其中，第 $j$ 个蛋需要 $h_{i,j}$ 年孵化，孵出的小妖的类型为 $g _ {i, j}$。\n\n请问，现在和祖先关系最远的小妖到了多少代，不考虑暂未孵出的。假设祖先是 $0$ 代，其子辈为第 $1$ 代，孙辈为第 $2$ 代，以此类推。", "inputFormat": "第一行：$n,t$。\n接下来 $3n$ 行，每三行为一组。\n\n每组的第一行：$k_i,y_i$。\n每组的第二行：$g_{ i,1},\\ldots,g_{i,k_i}$。\n每组的第三行：$h_{ i,1},\\ldots,h_{i,k_i}$。", "outputFormat": "一行，一个整数，表示现在和祖先关系最远的小妖到了多少代。", "hint": "**【样例 #1 解释】**\n\n事故发生 $10$ 年后，最开始的那只小妖（$0$ 代）产下了一个蛋，然后死亡。事故发生 $15$ 年后，蛋孵化出了新的一只小妖（$1$ 代）。事故发生 $25$ 年后，$1$ 代小妖产下了一个蛋，然后死亡。事故发生 $30$ 年后，蛋孵化出了新的一只小妖（$2$ 代）。事故发生 $40$ 年后，$2$ 代小妖产下了一个蛋，然后死亡。事故发生 $42$ 年后，这个蛋仍未孵化，因此不计。\n\n**【数据范围】**\n\n$1 \\le n \\le 100,1 \\le t \\le 10^{15},1 \\le k_i, y_i, h_{i,j} \\le 1000,1 \\le g_{i,j} \\le n$。\n\n本题分值按 COCI 原题设置，满分 $130$。", "locale": "zh-CN"}}}
{"pid": "P8409", "type": "P", "difficulty": 6, "samples": [["3 4\n1 -2 5 200\n-8 0 -4 -10\n11 4 0 100", "345 2\nrotS 2 1\nnegR 2"], ["3 3\n8 -2 7\n1 0 -3\n-4 -8 3", "34 4\nrotR 1 1\nrotS 3 1\nnegR 2\nnegR 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "2009", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2009/2010 #5] CHUCK", "background": "", "description": "给你一个 $R$ 行 $C$ 列的矩阵 $a$，$|a_{i,j}| \\le 10^4$。请使用若干次下述操作（次数尽量少），使得矩阵中 $\\sum_i \\sum_j a_{i,j}$ 尽可能大。\n\n\n\n| 操作 | 示例 |  |\n| :---: | :---: | :---: |\n| `rotR i k` 将第 $i$ 行的元素循环右移 $k$ 位 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\operatorname{rotR} 3\\ 1}\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 9 & 7 & 8 \\\\ 10 & 11 & 12\\end{array}\\right)$ |\n| `rotS j k` 将第 $j$ 列的元素循环下移 $k$ 位 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\text { rotS } 3\\ 2}\\left(\\begin{array}{ccc}1 & 2 & 9 \\\\ 4 & 5 & 12 \\\\ 7 & 8 & 3 \\\\ 10 & 11 & 6\\end{array}\\right)$ |\n| `negR i` 将第 $i$ 行的元素全部乘以 -1 。 该操作当且仅当该行任何一个元素均未乘以 -1 时有效 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\text { negR } 2}\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ -4 & -5 & -6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ |\n| `negS j` 将第 $j$ 列的元素全部乘以 -1。 该操作当且仅当该列任何一个元素均未乘以 -1 时有效 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 0 & 0 & 0 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\text { negS } 1}\\left(\\begin{array}{ccc}-1 & 2 & 3 \\\\ 0 & 0 & 0 \\\\ -7 & 8 & 9 \\\\ -10 & 11 & 12\\end{array}\\right)$ |", "inputFormat": "第一行：$r,c$。\n接下来 $r$ 行：矩阵 $a$。", "outputFormat": "第一行包含两个整数，第一个整数为 $\\sum_i \\sum_j a_{i,j}$ 的最大值，第二个数为操作数量 $t$。\n接下来 $t$ 行，每行包含一组操作。", "hint": "$1 \\le R,C \\le 100$，$|A_{i,j}|s \\le 10^4$\n\n#### 评分标准\n若你求了个错误的最大和，或是执行的操作中有无效的，该测试点不得分，否则：\n\n若 $t \\le 5 \\cdot RC$，你将得到该点的所有分数；\n\n若 $5\\cdot RC<T<10^5$，你将得到该点 $50\\%$ 的分数；\n\n若 $t > 10^5$，你将得不到该点的任何分数。\n\n本题分值按 COCI 原题设置，满分 $130$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2009/2010 #5] CHUCK", "background": "", "description": "给你一个 $R$ 行 $C$ 列的矩阵 $a$，$|a_{i,j}| \\le 10^4$。请使用若干次下述操作（次数尽量少），使得矩阵中 $\\sum_i \\sum_j a_{i,j}$ 尽可能大。\n\n\n\n| 操作 | 示例 |  |\n| :---: | :---: | :---: |\n| `rotR i k` 将第 $i$ 行的元素循环右移 $k$ 位 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\operatorname{rotR} 3\\ 1}\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 9 & 7 & 8 \\\\ 10 & 11 & 12\\end{array}\\right)$ |\n| `rotS j k` 将第 $j$ 列的元素循环下移 $k$ 位 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\text { rotS } 3\\ 2}\\left(\\begin{array}{ccc}1 & 2 & 9 \\\\ 4 & 5 & 12 \\\\ 7 & 8 & 3 \\\\ 10 & 11 & 6\\end{array}\\right)$ |\n| `negR i` 将第 $i$ 行的元素全部乘以 -1 。 该操作当且仅当该行任何一个元素均未乘以 -1 时有效 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 4 & 5 & 6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\text { negR } 2}\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ -4 & -5 & -6 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ |\n| `negS j` 将第 $j$ 列的元素全部乘以 -1。 该操作当且仅当该列任何一个元素均未乘以 -1 时有效 | $\\left(\\begin{array}{ccc}1 & 2 & 3 \\\\ 0 & 0 & 0 \\\\ 7 & 8 & 9 \\\\ 10 & 11 & 12\\end{array}\\right)$ | $\\xrightarrow{\\text { negS } 1}\\left(\\begin{array}{ccc}-1 & 2 & 3 \\\\ 0 & 0 & 0 \\\\ -7 & 8 & 9 \\\\ -10 & 11 & 12\\end{array}\\right)$ |", "inputFormat": "第一行：$r,c$。\n接下来 $r$ 行：矩阵 $a$。", "outputFormat": "第一行包含两个整数，第一个整数为 $\\sum_i \\sum_j a_{i,j}$ 的最大值，第二个数为操作数量 $t$。\n接下来 $t$ 行，每行包含一组操作。", "hint": "$1 \\le R,C \\le 100$，$|A_{i,j}|s \\le 10^4$\n\n#### 评分标准\n若你求了个错误的最大和，或是执行的操作中有无效的，该测试点不得分，否则：\n\n若 $t \\le 5 \\cdot RC$，你将得到该点的所有分数；\n\n若 $5\\cdot RC<T<10^5$，你将得到该点 $50\\%$ 的分数；\n\n若 $t > 10^5$，你将得不到该点的任何分数。\n\n本题分值按 COCI 原题设置，满分 $130$。", "locale": "zh-CN"}}}
{"pid": "P8410", "type": "P", "difficulty": 1, "samples": [["7 1 2020\nwop:\n/yueliang\neoq:\nwop_loushang\nwop:\neoq_npy_when\neoq:\n/oh\ndek:\n/oh\nrif:\nNOI2022_rp_++\nrif:\n/hsh", "2022"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "2022", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「SvR-1」Don't Mozheng. /oh", "background": "**Problem Number:** $\\textit{58}$\n\n在 Guluo Academic 群中，大家正在魔怔。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/iphmcxwz.png)\n\n洛谷博客上的《魔怔导论》：<https://www.luogu.com.cn/blog/supervise/how-to-get-a-mz>。\n\n需要《魔怔导论》（目前更新至 v1.1.1 版本）的 PDF 请于下方「**题目附件**」处下载。", "description": "你得到了 $n$ 条信息，这些信息共有三种类型（注意 $\\texttt<\\textit{str}\\texttt>$ 描述一个名为 $str$ 的字符串，**该字符串不含空格、字符 $\\texttt:$ 与 $\\texttt/$**，不含两边的尖角括号）：\n\n1. 形如 $\\texttt<\\textit{str}\\texttt{>:}$。意为**接下来一行的一条信息**是名为 $str$ 的用户发的。\n2. 形如 $\\texttt{/<}str\\texttt>$。意为一条名称为 $str$ 的**表情信息**。\n3. 形如 $\\texttt<\\textit{str}\\texttt>$。意为一条内容为 $str$ 的文字信息。\n\n你经过长期观察，发现名称为 $\\texttt{oh}$ 和 $\\texttt{hsh}$ 的**表情信息**具有魔怔的意味。\n\n并且在一段对话中：\n\n- 一个 $\\texttt{oh}$ 表情会增加 $a$ 的魔怔值。\n- 一个 $\\texttt{hsh}$ 表情会增加 $b$ 的魔怔值。\n- **其他的任何信息都不会影响魔怔值，魔怔值初始为 $0$**。\n\n现在你需要对于这些信息，计算出总的魔怔值。", "inputFormat": "第一行三个整数 $n,a,b$，表示共有 $n$ 条信息，$a,b$ 意义如题述。\n\n接下来 $2\\times n$ 行，描述每条信息：\n\n- 第一行是第 1 类信息。\n- 第二行是第 2 类**或**第 3 类信息。", "outputFormat": "仅一行一个整数，即总的魔怔值。", "hint": "#### 样例 1 说明\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mbfgnv8i.png)\n\n如图所示。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n记 $l$ 表示输入中单行信息的最大长度。\n\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n\\le} & \\textbf{特殊性质} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & \\le 10 & - & 20 \\\\\\hline\n\\textsf{2} & \\le 100 & - & 20 \\\\\\hline\n\\textsf{3} & \\text{无特殊限制} & \\text A & 20 \\\\\\hline\n\\textsf{4} & \\text{无特殊限制} & - & 40 \\\\\\hline\\hline\n\\end{array}\n$$\n\n- 特殊性质 $\\text{A}$：输入不含有第 3 类信息。\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le 10^4$，$1\\le l\\le 50$，$1\\le a,b\\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SvR-1」Don't Mozheng. /oh", "background": "**Problem Number:** $\\textit{58}$\n\n在 Guluo Academic 群中，大家正在魔怔。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/iphmcxwz.png)\n\n洛谷博客上的《魔怔导论》：<https://www.luogu.com.cn/blog/supervise/how-to-get-a-mz>。\n\n需要《魔怔导论》（目前更新至 v1.1.1 版本）的 PDF 请于下方「**题目附件**」处下载。", "description": "你得到了 $n$ 条信息，这些信息共有三种类型（注意 $\\texttt<\\textit{str}\\texttt>$ 描述一个名为 $str$ 的字符串，**该字符串不含空格、字符 $\\texttt:$ 与 $\\texttt/$**，不含两边的尖角括号）：\n\n1. 形如 $\\texttt<\\textit{str}\\texttt{>:}$。意为**接下来一行的一条信息**是名为 $str$ 的用户发的。\n2. 形如 $\\texttt{/<}str\\texttt>$。意为一条名称为 $str$ 的**表情信息**。\n3. 形如 $\\texttt<\\textit{str}\\texttt>$。意为一条内容为 $str$ 的文字信息。\n\n你经过长期观察，发现名称为 $\\texttt{oh}$ 和 $\\texttt{hsh}$ 的**表情信息**具有魔怔的意味。\n\n并且在一段对话中：\n\n- 一个 $\\texttt{oh}$ 表情会增加 $a$ 的魔怔值。\n- 一个 $\\texttt{hsh}$ 表情会增加 $b$ 的魔怔值。\n- **其他的任何信息都不会影响魔怔值，魔怔值初始为 $0$**。\n\n现在你需要对于这些信息，计算出总的魔怔值。", "inputFormat": "第一行三个整数 $n,a,b$，表示共有 $n$ 条信息，$a,b$ 意义如题述。\n\n接下来 $2\\times n$ 行，描述每条信息：\n\n- 第一行是第 1 类信息。\n- 第二行是第 2 类**或**第 3 类信息。", "outputFormat": "仅一行一个整数，即总的魔怔值。", "hint": "#### 样例 1 说明\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mbfgnv8i.png)\n\n如图所示。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n记 $l$ 表示输入中单行信息的最大长度。\n\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n\\le} & \\textbf{特殊性质} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & \\le 10 & - & 20 \\\\\\hline\n\\textsf{2} & \\le 100 & - & 20 \\\\\\hline\n\\textsf{3} & \\text{无特殊限制} & \\text A & 20 \\\\\\hline\n\\textsf{4} & \\text{无特殊限制} & - & 40 \\\\\\hline\\hline\n\\end{array}\n$$\n\n- 特殊性质 $\\text{A}$：输入不含有第 3 类信息。\n\n对于 $100\\%$ 的数据，有 $1\\le n\\le 10^4$，$1\\le l\\le 50$，$1\\le a,b\\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P8411", "type": "P", "difficulty": 3, "samples": [["6 114514", "14907285111"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2022", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「SvR-1」Problem", "background": "小 L 打颓被 nodgd 发现，于是他开始做题了。", "description": "他的 DS 非常菜，于是他把一共 $n$ 道 DS 题加到了自己的计划题单里，其中第 $i$ 道题的有趣程度为 $a_i$。\n\n由于他并不精通 DS，他发现他在做一些题目之前需要先做另一些题目。这样的关系共有 $n - 1$ 组，他还发现每道题都出现在了这些关系中且没有重复。\n\n他发现 $\\forall 2 \\leq i \\leq n$，第 $i$ 题和第 $fa_i$ 题间存在上文所述的关系，且 $1 \\leq fa_i < i$。**他必须先做第 $fa_i$ 题后才能做第 $i$ 题**。\n\n他发现，如果他在做一道题之前高兴程度为 $k$，则他做完第 $i$ 题后，他的高兴程度便会变为 $\\min(k, a_i)$。**他做题前的高兴程度为无穷大**。\n\n他想问你**在必须先做第 $1$ 题且不能重复做某一道题**的情况下，他在做题的全过程中每做完一道题后**高兴程度之和的最大值**。", "inputFormat": "第一行，两个整数 $n, seed$；\n\n由于输入量较大，我们采用如下方式生成 $a_i, fa_i$。\n\nC++：\n\n```cpp\ntypedef unsigned int uint;\n\ninline uint get_next(uint &seed){\n\tseed ^= seed << 13;\n\tseed ^= seed >> 17;\n\tseed ^= seed << 5;\n\treturn seed;\n}\n\nint main(){\n\t// ...\n\tfor (int i = 1; i <= n; i++){\n\t\ta[i] = get_next(seed);\n\t}\n\tfor (int i = 2; i <= n; i++){\n\t\tfa[i] = get_next(seed) % (i - 1) + 1;\n\t}\n\t// ...\n\treturn 0;\n}\n```\n使用其他语言的选手请参考「**说明/提示**」中的「**伪代码参考**」。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "#### 样例 #1 解释\n在该组样例中 $a = [3398922311, 3077554952, 2933028207, 4018360144, 1263042788, 835814542]$，$fa_2 = fa_3 = fa_4 = 1$，$fa_5 = fa_6 = 2$。\n\n最优方案之一：依次做第 $1, 4, 2, 3, 5, 6$ 题，最大值为 $3398922311 + 3398922311 + 3077554952 + 2933028207 + 1263042788 + 835814542 = 14907285111$。\n#### 伪代码参考\n$$\n\\def\\b#1{ \\textbf{ #1 } }\\def\\t#1{\\text{ #1 }}\\def\\s{\\quad}\\def\\f#1{\\textsf{ #1 }}\n\\def\\l{\\underline{\\kern{300pt}}\\\\[-10pt]} \n\\def\\r{\\overline{\\underline{\\kern{300pt}}}}\n\\begin{aligned}\n&\\r\\\\&\\b{Algorithm:}\\t{Get }a_i,fa_i\\\\[-13pt]&\\l\\\\\n&\\begin{aligned}\n    \\f{1.}&\\b{function} \\b{\\color{red}unsigned int} \\t{getnext}(\\b{\\color{red}unsigned int}\\&seed): \\\\\n    \\f{2.}&\\s seed=seed\\oplus\\t{left}(seed,13)\\\\\n    \\f{3.}&\\s seed=seed\\oplus\\t{right}(seed,17)\\\\\n    \\f{4.}&\\s seed=seed\\oplus\\t{left}(seed,5) \\\\\n    \\f{5.}&\\s \\b{return} seed\\\\\n    \\f{6.}&\\b{function} \\t{main}(n):\\\\\n    \\f{7.}&\\s \\b{for} i \\b{from} 1 \\b{to} n \\b{step}1\\\\\n    \\f{8.}&\\s\\s a_i=\\t{getnext}(seed)\\\\\n    \\f{9.}&\\s \\b{end for} \\\\\n    \\f{10.}&\\s \\b{for} i \\b{from} 2 \\b{to} n \\b{step}1\\\\\n    \\f{11.}&\\s\\s fa_i=\\t{getnext}(seed)\\bmod(i-1)+1\\\\\n    \\f{12.}&\\s \\b{end for} \\\\\n    \\end{aligned}\\\\[-12pt]\n&\\r\n\\end{aligned}\n$$\n\n其中 $\\text{left}(x,d)$ 和 $\\text{right}(x,d)$ 分别表示将 $x$ 左移或右移 $d$ 位。\n#### 数据规模与约定\n**本题自动开启捆绑测试和 O2 优化。**\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n \\leq} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & 10 & 10 \\\\\\hline\n\\textsf{2} & 10^4 & 20 \\\\\\hline\n\\textsf{3} & 10^6 & 20 \\\\\\hline\n\\textsf{4} & \\text{无特殊限制} & 50 \\\\\\hline\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^7$，$0 \\leq seed < 2^{32}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SvR-1」Problem", "background": "小 L 打颓被 nodgd 发现，于是他开始做题了。", "description": "他的 DS 非常菜，于是他把一共 $n$ 道 DS 题加到了自己的计划题单里，其中第 $i$ 道题的有趣程度为 $a_i$。\n\n由于他并不精通 DS，他发现他在做一些题目之前需要先做另一些题目。这样的关系共有 $n - 1$ 组，他还发现每道题都出现在了这些关系中且没有重复。\n\n他发现 $\\forall 2 \\leq i \\leq n$，第 $i$ 题和第 $fa_i$ 题间存在上文所述的关系，且 $1 \\leq fa_i < i$。**他必须先做第 $fa_i$ 题后才能做第 $i$ 题**。\n\n他发现，如果他在做一道题之前高兴程度为 $k$，则他做完第 $i$ 题后，他的高兴程度便会变为 $\\min(k, a_i)$。**他做题前的高兴程度为无穷大**。\n\n他想问你**在必须先做第 $1$ 题且不能重复做某一道题**的情况下，他在做题的全过程中每做完一道题后**高兴程度之和的最大值**。", "inputFormat": "第一行，两个整数 $n, seed$；\n\n由于输入量较大，我们采用如下方式生成 $a_i, fa_i$。\n\nC++：\n\n```cpp\ntypedef unsigned int uint;\n\ninline uint get_next(uint &seed){\n\tseed ^= seed << 13;\n\tseed ^= seed >> 17;\n\tseed ^= seed << 5;\n\treturn seed;\n}\n\nint main(){\n\t// ...\n\tfor (int i = 1; i <= n; i++){\n\t\ta[i] = get_next(seed);\n\t}\n\tfor (int i = 2; i <= n; i++){\n\t\tfa[i] = get_next(seed) % (i - 1) + 1;\n\t}\n\t// ...\n\treturn 0;\n}\n```\n使用其他语言的选手请参考「**说明/提示**」中的「**伪代码参考**」。", "outputFormat": "一行，一个整数，表示所求的值。", "hint": "#### 样例 #1 解释\n在该组样例中 $a = [3398922311, 3077554952, 2933028207, 4018360144, 1263042788, 835814542]$，$fa_2 = fa_3 = fa_4 = 1$，$fa_5 = fa_6 = 2$。\n\n最优方案之一：依次做第 $1, 4, 2, 3, 5, 6$ 题，最大值为 $3398922311 + 3398922311 + 3077554952 + 2933028207 + 1263042788 + 835814542 = 14907285111$。\n#### 伪代码参考\n$$\n\\def\\b#1{ \\textbf{ #1 } }\\def\\t#1{\\text{ #1 }}\\def\\s{\\quad}\\def\\f#1{\\textsf{ #1 }}\n\\def\\l{\\underline{\\kern{300pt}}\\\\[-10pt]} \n\\def\\r{\\overline{\\underline{\\kern{300pt}}}}\n\\begin{aligned}\n&\\r\\\\&\\b{Algorithm:}\\t{Get }a_i,fa_i\\\\[-13pt]&\\l\\\\\n&\\begin{aligned}\n    \\f{1.}&\\b{function} \\b{\\color{red}unsigned int} \\t{getnext}(\\b{\\color{red}unsigned int}\\&seed): \\\\\n    \\f{2.}&\\s seed=seed\\oplus\\t{left}(seed,13)\\\\\n    \\f{3.}&\\s seed=seed\\oplus\\t{right}(seed,17)\\\\\n    \\f{4.}&\\s seed=seed\\oplus\\t{left}(seed,5) \\\\\n    \\f{5.}&\\s \\b{return} seed\\\\\n    \\f{6.}&\\b{function} \\t{main}(n):\\\\\n    \\f{7.}&\\s \\b{for} i \\b{from} 1 \\b{to} n \\b{step}1\\\\\n    \\f{8.}&\\s\\s a_i=\\t{getnext}(seed)\\\\\n    \\f{9.}&\\s \\b{end for} \\\\\n    \\f{10.}&\\s \\b{for} i \\b{from} 2 \\b{to} n \\b{step}1\\\\\n    \\f{11.}&\\s\\s fa_i=\\t{getnext}(seed)\\bmod(i-1)+1\\\\\n    \\f{12.}&\\s \\b{end for} \\\\\n    \\end{aligned}\\\\[-12pt]\n&\\r\n\\end{aligned}\n$$\n\n其中 $\\text{left}(x,d)$ 和 $\\text{right}(x,d)$ 分别表示将 $x$ 左移或右移 $d$ 位。\n#### 数据规模与约定\n**本题自动开启捆绑测试和 O2 优化。**\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n \\leq} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & 10 & 10 \\\\\\hline\n\\textsf{2} & 10^4 & 20 \\\\\\hline\n\\textsf{3} & 10^6 & 20 \\\\\\hline\n\\textsf{4} & \\text{无特殊限制} & 50 \\\\\\hline\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 10^7$，$0 \\leq seed < 2^{32}$。", "locale": "zh-CN"}}}
{"pid": "P8412", "type": "P", "difficulty": 5, "samples": [["3\n10 13\n10 3\n2 1", "2 3\n-1 -1\n1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2022", "洛谷原创", "Special Judge", "O2优化", "构造", "洛谷月赛"], "title": "「SvR-1」Hack Function!", "background": "**Problem Number:** $\\textit{63}$\n\n小 C 坐在 J-PSC2077 的赛场（题目可于下方「**题目附件**」处下载）上，他早已年逾七旬，但作为 Z 队选手还是成功参赛。", "description": "此时的 J-PSC 终于改成了 CF 赛制，小 C 迅速地 AK 了 Day 1，他发现 T2 function 比较好 Hack，题目的人话翻译如下：\n\n> 对于一个数 $A$，定义函数 $f(A)$ 如下：\n> \n> 1. 先把 $A$ 变成 $k$ 进制数 $B$。\n> 2. 将 $A$ 替换为 $B$ 各位之和。\n> 3. 返回执行第 1 步，直到 $B$ 是一位数为止。\n> 4. 记 $x$ 表示 $A$ 此时的值（十进制）。\n> 此时 $f(A) = x$，$f(A)$ 称作 $A$ 关于 $k$ 的**位和函数**。\n>\n> 给定 $k, l, r, p$，求出 $\\sum_{i = l}^r f(i^i) \\bmod p$ 的值。\n>\n> **特别地，当 $\\sum_{i = l}^r f(i^i) = p$ 时，输出 $\\texttt{perfect}$。**\n\n小 C 迅速秒了该题，当他翻看别人的代码时，发现他们用的全是暴力枚举。（因为机子跑得飞快）\n\n好不容易看到一个人，他的代码里竟然没有一个  $\\texttt{perfect}$！但由于数据过弱，竟然让他 pp 了。\n\n小 C 突然脑子一热，忘记了怎么构造 Hack 数据，所以他通过 Luogu 6.0 求助于你。\n\n小 C 会告诉你 $k, p$ 的值，你需要构造一组 $l, r$，**使答案输出为 $\\texttt{perfect}$**。\n\n**若无法构造，输出两个 $\\texttt{-1}$。**", "inputFormat": "**本题有多组数据。**\n\n第一行一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行两个整数 $k,p$，含义如题所述。", "outputFormat": "共 $T$ 行，对于每组数据，输出你构造的 $l,r$ 的值。\n\n若有多组解，输出任意一组。", "hint": "#### 样例 1 说明\n\n- 对于数据 $1$，在 $k = 10$ 下，有 $f(2^2) = f(4) = 4$，$f(3^3) = f(27) = 9$，显然 $l = 2, r = 3$ 时原题应该输出 $\\texttt{perfect}$。\n- 对于数据 $2$，在 $k = 10$ 下，发现不可能满足要求。\n- 对于数据 $3$，在 $k = 2$ 下，显然有 $f(1^1) = 1$，但该样例仅用于理解，根据数据规模与约定，我们保证 $k \\geq 10$。\n\n#### 数据规模与约定\n\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\textbf{说明} & \\textbf{时限} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & \\text{无解} & 1\\text{ s} & 3 \\\\\\hline\n\\textsf{2} & \\text{有解且\\textbf{\\textsf{存在}}一组解使 }1\\le l\\le r\\le 10^5 & 1\\text{ s} & 16 \\\\\\hline\n\\textsf{3} & 1\\le p\\le 10^7 & 1\\text{ s} & 34 \\\\\\hline\n\\textsf{4} & \\text{无特殊限制} & 1.5\\text{ s} & 47 \\\\\\hline\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据，$10 \\leq k \\leq 10^3$，$1 \\leq p \\leq 10^8$，$1 \\leq T \\leq 10$。\n\n保证时限在 std 用时的 $4$ 倍以上。\n\n#### 评测说明\n\n**本题开启 Special Judge 和捆绑测试。**\n\n你需要保证 $l = r = -1$ 或 $1 \\leq l \\leq r \\leq 10^{18}$ 且 $r - l \\leq 10^{15}$，否则 SPJ 会将你的答案判为 $0$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SvR-1」Hack Function!", "background": "**Problem Number:** $\\textit{63}$\n\n小 C 坐在 J-PSC2077 的赛场（题目可于下方「**题目附件**」处下载）上，他早已年逾七旬，但作为 Z 队选手还是成功参赛。", "description": "此时的 J-PSC 终于改成了 CF 赛制，小 C 迅速地 AK 了 Day 1，他发现 T2 function 比较好 Hack，题目的人话翻译如下：\n\n> 对于一个数 $A$，定义函数 $f(A)$ 如下：\n> \n> 1. 先把 $A$ 变成 $k$ 进制数 $B$。\n> 2. 将 $A$ 替换为 $B$ 各位之和。\n> 3. 返回执行第 1 步，直到 $B$ 是一位数为止。\n> 4. 记 $x$ 表示 $A$ 此时的值（十进制）。\n> 此时 $f(A) = x$，$f(A)$ 称作 $A$ 关于 $k$ 的**位和函数**。\n>\n> 给定 $k, l, r, p$，求出 $\\sum_{i = l}^r f(i^i) \\bmod p$ 的值。\n>\n> **特别地，当 $\\sum_{i = l}^r f(i^i) = p$ 时，输出 $\\texttt{perfect}$。**\n\n小 C 迅速秒了该题，当他翻看别人的代码时，发现他们用的全是暴力枚举。（因为机子跑得飞快）\n\n好不容易看到一个人，他的代码里竟然没有一个  $\\texttt{perfect}$！但由于数据过弱，竟然让他 pp 了。\n\n小 C 突然脑子一热，忘记了怎么构造 Hack 数据，所以他通过 Luogu 6.0 求助于你。\n\n小 C 会告诉你 $k, p$ 的值，你需要构造一组 $l, r$，**使答案输出为 $\\texttt{perfect}$**。\n\n**若无法构造，输出两个 $\\texttt{-1}$。**", "inputFormat": "**本题有多组数据。**\n\n第一行一个整数 $T$，表示数据组数。\n\n接下来 $T$ 行，每行两个整数 $k,p$，含义如题所述。", "outputFormat": "共 $T$ 行，对于每组数据，输出你构造的 $l,r$ 的值。\n\n若有多组解，输出任意一组。", "hint": "#### 样例 1 说明\n\n- 对于数据 $1$，在 $k = 10$ 下，有 $f(2^2) = f(4) = 4$，$f(3^3) = f(27) = 9$，显然 $l = 2, r = 3$ 时原题应该输出 $\\texttt{perfect}$。\n- 对于数据 $2$，在 $k = 10$ 下，发现不可能满足要求。\n- 对于数据 $3$，在 $k = 2$ 下，显然有 $f(1^1) = 1$，但该样例仅用于理解，根据数据规模与约定，我们保证 $k \\geq 10$。\n\n#### 数据规模与约定\n\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\textbf{说明} & \\textbf{时限} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & \\text{无解} & 1\\text{ s} & 3 \\\\\\hline\n\\textsf{2} & \\text{有解且\\textbf{\\textsf{存在}}一组解使 }1\\le l\\le r\\le 10^5 & 1\\text{ s} & 16 \\\\\\hline\n\\textsf{3} & 1\\le p\\le 10^7 & 1\\text{ s} & 34 \\\\\\hline\n\\textsf{4} & \\text{无特殊限制} & 1.5\\text{ s} & 47 \\\\\\hline\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据，$10 \\leq k \\leq 10^3$，$1 \\leq p \\leq 10^8$，$1 \\leq T \\leq 10$。\n\n保证时限在 std 用时的 $4$ 倍以上。\n\n#### 评测说明\n\n**本题开启 Special Judge 和捆绑测试。**\n\n你需要保证 $l = r = -1$ 或 $1 \\leq l \\leq r \\leq 10^{18}$ 且 $r - l \\leq 10^{15}$，否则 SPJ 会将你的答案判为 $0$ 分。", "locale": "zh-CN"}}}
{"pid": "P8413", "type": "P", "difficulty": 5, "samples": [["2 3 2\n2 0\n2 3", "3\n2"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "线段树", "树状数组", "2022", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「SvR-1」Five of Pentacles", "background": "UPD on 2023.2.5 by 出题人： 原题强制在线方式有问题，会使得一些依赖强制在线的方式通过，这并不是正解~~但是不想改了~~。", "description": "**请仔细阅读数据范围和时间限制。**\n\n有一个长度为 $m$ 的数轴，一开始，处于 $1$ 时刻的**开始**，小 Z 处于 $1$ 号点，此时数轴上每个点都有一个障碍。\n\n每个时刻，若小 Z 处于 $i$ 号点，小 Z 可以指定一个 $d \\geq 0$，然后移动到 $i + d$ 号点，并且会越过 $[i, i + d]$ 的每一个障碍。\n\n当然，一切都是在变化的，一共会有 $k$ 次变化，第 $i$ 次会发生如下变化：\n\n- $t_i$ 时刻内 $x_i$ 号点上的障碍将会消失。\n- **请注意，此变化仅作用于 $t_i$ 时刻**\n\n保证变化是**随时间倒序发生的**，也就是说 $t_i$ **单调不升**。\n\n现在，对于每个 $1\\le i\\le k$，你都需要输出**在前 $i$ 个变化发生的条件下**、在保证第 $n$ 个时刻结束时小 Z 恰好处于 $m$ 号点的基础上，小 Z 越过的最小障碍数。", "inputFormat": "**本题强制在线，同时请注意在线形式。**\n\n第一行，三个整数 $n,m,k$。\n\n接下来 $k$ 行，其中第 $i$ 行有两个数字 $t_i, p$。其中 $p$ 用于生成 $x_i$，即：$x_i = \\min(x_{i - 1} + p \\oplus (lastans \\bmod 15) + 1, m)$，其中 $lastans$ 表示上次变化的答案。\n\n**特别地，第一次变化之前 $lastans = 0$，$x_0 = 0$，且当 $x_{i - 1} = m$ 时，将 $x_{i - 1}$ 视作 $0$（注意这不会真的改变 $x_{i - 1}$ 的值）。**", "outputFormat": "$k$ 行，每行一个整数，表示所求的值。", "hint": "#### 样例解释\n\n样例解密后：\n\n```plain\n2 3 2\n2 1\n2 2\n```\n\n- 第一次变化后：小 Z 第一秒选择 $d = 0$，跨过一个障碍。第二秒选择 $d = 2$，原本跨过了 $3$ 个障碍，但是第 $2$ 秒第一个点没有障碍，所以只跨过了 $2$ 个障碍。一共 $1 + 2 = 3$ 个障碍。\n- 第二次变化后：小 Z 第一秒选择 $d = 0$，跨过一个障碍。第二秒只有第三个位置有障碍，选择 $d = 2$，所以只跨过了一个障碍。一共 $1 + 1 = 2$ 个障碍。\n\n#### 数据规模与约定\n\n**本题自动开启捆绑测试和 O2 优化。**\n\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n,m,k\\le} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & 100 & 15 \\\\\\hline\n\\textsf{2} & 2\\times10^3 & 20 \\\\\\hline\n\\textsf{3} & 5\\times10^4 & 20 \\\\\\hline\n\\textsf{4} & 10^6 & 20 \\\\\\hline\n\\textsf{5} & \\text{无特殊限制} & 25 \\\\\\hline\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据（解密后），$1 \\leq n, m, k \\leq 2 \\times 10^6$，$1 \\leq t_i \\leq n$，$0 \\leq p \\leq 15$，$t_i$ **单调不升**，若 $t_i$ 相同，按 $x_i$ **升序**，且 $\\forall 1 \\leq i < j \\leq k$，$(t_i, x_i)$ 和 $(t_j, x_j)$ 不同。\n\n本题提供读入优化方式。\n\n使用 `read(x);` 读入一个任意的整型 `x` 等价于 `scanf(\"%d\", &x);`其中可以将 `%d` 自动识别为对应类型。\n\n```cpp\n#define getchar()(p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nchar buf[1<<21],*p1=buf,*p2=buf;\ntemplate <typename T>\ninline void read(T& r) {\n\tr=0;bool w=0; char ch=getchar();\n\twhile(ch<'0'||ch>'9') w=ch=='-'?1:0,ch=getchar();\n\twhile(ch>='0'&&ch<='9') r=r*10+(ch^48), ch=getchar();\n\tr=w?-r:r;\n}\n```\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「SvR-1」Five of Pentacles", "background": "UPD on 2023.2.5 by 出题人： 原题强制在线方式有问题，会使得一些依赖强制在线的方式通过，这并不是正解~~但是不想改了~~。", "description": "**请仔细阅读数据范围和时间限制。**\n\n有一个长度为 $m$ 的数轴，一开始，处于 $1$ 时刻的**开始**，小 Z 处于 $1$ 号点，此时数轴上每个点都有一个障碍。\n\n每个时刻，若小 Z 处于 $i$ 号点，小 Z 可以指定一个 $d \\geq 0$，然后移动到 $i + d$ 号点，并且会越过 $[i, i + d]$ 的每一个障碍。\n\n当然，一切都是在变化的，一共会有 $k$ 次变化，第 $i$ 次会发生如下变化：\n\n- $t_i$ 时刻内 $x_i$ 号点上的障碍将会消失。\n- **请注意，此变化仅作用于 $t_i$ 时刻**\n\n保证变化是**随时间倒序发生的**，也就是说 $t_i$ **单调不升**。\n\n现在，对于每个 $1\\le i\\le k$，你都需要输出**在前 $i$ 个变化发生的条件下**、在保证第 $n$ 个时刻结束时小 Z 恰好处于 $m$ 号点的基础上，小 Z 越过的最小障碍数。", "inputFormat": "**本题强制在线，同时请注意在线形式。**\n\n第一行，三个整数 $n,m,k$。\n\n接下来 $k$ 行，其中第 $i$ 行有两个数字 $t_i, p$。其中 $p$ 用于生成 $x_i$，即：$x_i = \\min(x_{i - 1} + p \\oplus (lastans \\bmod 15) + 1, m)$，其中 $lastans$ 表示上次变化的答案。\n\n**特别地，第一次变化之前 $lastans = 0$，$x_0 = 0$，且当 $x_{i - 1} = m$ 时，将 $x_{i - 1}$ 视作 $0$（注意这不会真的改变 $x_{i - 1}$ 的值）。**", "outputFormat": "$k$ 行，每行一个整数，表示所求的值。", "hint": "#### 样例解释\n\n样例解密后：\n\n```plain\n2 3 2\n2 1\n2 2\n```\n\n- 第一次变化后：小 Z 第一秒选择 $d = 0$，跨过一个障碍。第二秒选择 $d = 2$，原本跨过了 $3$ 个障碍，但是第 $2$ 秒第一个点没有障碍，所以只跨过了 $2$ 个障碍。一共 $1 + 2 = 3$ 个障碍。\n- 第二次变化后：小 Z 第一秒选择 $d = 0$，跨过一个障碍。第二秒只有第三个位置有障碍，选择 $d = 2$，所以只跨过了一个障碍。一共 $1 + 1 = 2$ 个障碍。\n\n#### 数据规模与约定\n\n**本题自动开启捆绑测试和 O2 优化。**\n\n$$\n\\newcommand{\\arraystretch}{1.5}\n\\begin{array}{c|c|c}\\hline\\hline\n\\textbf{Subtask} & \\bm{n,m,k\\le} & \\textbf{分值} \\\\\\hline\n\\textsf{1} & 100 & 15 \\\\\\hline\n\\textsf{2} & 2\\times10^3 & 20 \\\\\\hline\n\\textsf{3} & 5\\times10^4 & 20 \\\\\\hline\n\\textsf{4} & 10^6 & 20 \\\\\\hline\n\\textsf{5} & \\text{无特殊限制} & 25 \\\\\\hline\\hline\n\\end{array}\n$$\n\n对于 $100\\%$ 的数据（解密后），$1 \\leq n, m, k \\leq 2 \\times 10^6$，$1 \\leq t_i \\leq n$，$0 \\leq p \\leq 15$，$t_i$ **单调不升**，若 $t_i$ 相同，按 $x_i$ **升序**，且 $\\forall 1 \\leq i < j \\leq k$，$(t_i, x_i)$ 和 $(t_j, x_j)$ 不同。\n\n本题提供读入优化方式。\n\n使用 `read(x);` 读入一个任意的整型 `x` 等价于 `scanf(\"%d\", &x);`其中可以将 `%d` 自动识别为对应类型。\n\n```cpp\n#define getchar()(p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nchar buf[1<<21],*p1=buf,*p2=buf;\ntemplate <typename T>\ninline void read(T& r) {\n\tr=0;bool w=0; char ch=getchar();\n\twhile(ch<'0'||ch>'9') w=ch=='-'?1:0,ch=getchar();\n\twhile(ch>='0'&&ch<='9') r=r*10+(ch^48), ch=getchar();\n\tr=w?-r:r;\n}\n```\n", "locale": "zh-CN"}}}
{"pid": "P8414", "type": "P", "difficulty": 5, "samples": [["S4 S6 S11 S13 H3 H4 H5 H6 H8 H10 H12 C2 C4 C5 C6 C8 C9 C11 C13 D1 D4 D5 D6 D8 D10 D12\n", "Bob\n"], ["S1 S2 S3 S4 S5 S6 S7 S8 S9 S10 S11 S12 S13 D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 D11 D12 D13\n", "Draw\n"], ["H1 H2 H3 H4 H5 H6 H7 H8 H9 H10 H11 H12 C13 D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 D11 D12 D13\n", "Alice\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "O2优化", "THUPC"], "title": "[THUPC 2022 决赛] 简单的卡牌游戏", "background": "", "description": "Alice 和 Bob 最近玩了很多复杂的游戏，于是他们想玩点简单的游戏放松一下。\n\n他们想起来有一种非常简单的游戏叫“憋七”，这种游戏只需要一副扑克牌就能玩。传统的“憋七”玩法稍微有点复杂，所以 Alice 和 Bob 打算玩一种简化版的“憋七”。\n\n在游戏中用到的扑克牌包括黑桃（Spades）、红桃（Hearts）、梅花（Clubs）和方块（Diamonds）四种花色，每种花色的 1 点至 13 点各 1 张，共计 52 张牌。\n\n简化版的游戏规则如下：\n\n1. 首先将一副 52 张的扑克牌平均分成两份，每份各 26 张，Alice 和 Bob 各拿一张；\n\n2. 拥有黑桃 7 的一方将手中的黑桃 7 置于场上；\n\n3. 接着，从另外一方开始轮流操作，每一轮玩家需要从自己持有的牌中挑选一张置于场上，可以打出的牌需要满足以下两个条件之一：\n   \n   - 这张牌的点数为 7；\n   \n   - 当前场上的牌中，有一张牌与将要打出的牌花色相同，点数恰好差 1。\n\n4. 如果当前进行操作的玩家不能按照规则打出一张牌，则判该玩家负，另一位玩家胜；否则，如果双方都打出了手上的所有牌，则判平局。\n\n由于该游戏中不同花色的接龙是独立的，游戏时玩家常常将不同花色的 7 对成一竖排列，并在 7 的两侧接龙，将同花色的牌排成一行。\n\n已知 Alice 和 Bob 都足够聪明。现在给出 Alice 和 Bob 的初始手牌，请计算当二人都按最优策略出牌时，游戏的结果。", "inputFormat": "由于可以从一个人的手牌推断出另一个人的手牌，因此输入仅包含 Alice 的所有手牌。\n\n输入仅一行，包括 26 个用空格隔开的字符串，每个字符串表示 Alice 手上的一张牌。\n\n每张牌的输入格式为 花色 + 点数。其中，花色由一个字符表示，`S` 表示黑桃，`H` 表示红桃，`C` 表示梅花，`D` 表示方块；点数由对应的一位或两位的数字表示，数字最小为 `1`，最大为 `13`，均不含前导 0。例如，黑桃 7 对应字符串 `S7`。\n", "outputFormat": "输出仅一行，包括一个字符串，表示游戏的结果。如果 Alice 能赢得这局游戏则输出 `Alice`；如果 `Bob` 能赢得这局游戏则输出 `Bob`；如果平局则输出 `Draw`。", "hint": "对于 $100\\%$ 的数据，保证输入的牌符合输入格式中描述的格式，且输入的 26 张牌各不相同。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUPC 2022 决赛] 简单的卡牌游戏", "background": "", "description": "Alice 和 Bob 最近玩了很多复杂的游戏，于是他们想玩点简单的游戏放松一下。\n\n他们想起来有一种非常简单的游戏叫“憋七”，这种游戏只需要一副扑克牌就能玩。传统的“憋七”玩法稍微有点复杂，所以 Alice 和 Bob 打算玩一种简化版的“憋七”。\n\n在游戏中用到的扑克牌包括黑桃（Spades）、红桃（Hearts）、梅花（Clubs）和方块（Diamonds）四种花色，每种花色的 1 点至 13 点各 1 张，共计 52 张牌。\n\n简化版的游戏规则如下：\n\n1. 首先将一副 52 张的扑克牌平均分成两份，每份各 26 张，Alice 和 Bob 各拿一张；\n\n2. 拥有黑桃 7 的一方将手中的黑桃 7 置于场上；\n\n3. 接着，从另外一方开始轮流操作，每一轮玩家需要从自己持有的牌中挑选一张置于场上，可以打出的牌需要满足以下两个条件之一：\n   \n   - 这张牌的点数为 7；\n   \n   - 当前场上的牌中，有一张牌与将要打出的牌花色相同，点数恰好差 1。\n\n4. 如果当前进行操作的玩家不能按照规则打出一张牌，则判该玩家负，另一位玩家胜；否则，如果双方都打出了手上的所有牌，则判平局。\n\n由于该游戏中不同花色的接龙是独立的，游戏时玩家常常将不同花色的 7 对成一竖排列，并在 7 的两侧接龙，将同花色的牌排成一行。\n\n已知 Alice 和 Bob 都足够聪明。现在给出 Alice 和 Bob 的初始手牌，请计算当二人都按最优策略出牌时，游戏的结果。", "inputFormat": "由于可以从一个人的手牌推断出另一个人的手牌，因此输入仅包含 Alice 的所有手牌。\n\n输入仅一行，包括 26 个用空格隔开的字符串，每个字符串表示 Alice 手上的一张牌。\n\n每张牌的输入格式为 花色 + 点数。其中，花色由一个字符表示，`S` 表示黑桃，`H` 表示红桃，`C` 表示梅花，`D` 表示方块；点数由对应的一位或两位的数字表示，数字最小为 `1`，最大为 `13`，均不含前导 0。例如，黑桃 7 对应字符串 `S7`。\n", "outputFormat": "输出仅一行，包括一个字符串，表示游戏的结果。如果 Alice 能赢得这局游戏则输出 `Alice`；如果 `Bob` 能赢得这局游戏则输出 `Bob`；如果平局则输出 `Draw`。", "hint": "对于 $100\\%$ 的数据，保证输入的牌符合输入格式中描述的格式，且输入的 26 张牌各不相同。\n", "locale": "zh-CN"}}}
{"pid": "P8415", "type": "P", "difficulty": 7, "samples": [["8 10\n1 4 7 3 8 2 4 7\n5 4 8 7 1 6 3 2\n2 6 6 2\n2 8 8 7\n1 4 3\n2 6 8 3\n2 4 4 3\n2 4 4 3\n2 6 8 4\n2 5 6 2\n2 1 8 1\n2 1 1 6\n", "1\n1\n0\n1\n1\n3\n2\n1\n0\n"]], "limits": {"time": [15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000, 15000], "memory": [2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152, 2097152]}, "tags": ["2022", "O2优化", "THUPC"], "title": "[THUPC 2022 决赛] pmrmscxip", "background": "", "description": "给序列 $a_1,\\dots,a_n$ 和排列 $b_1,\\dots,b_n$，共有 $m$ 次操作：\n\n修改操作：给定 $x,y$，将 $a_x$ 改为 $y$；\n\n查询操作：给定 $l,r,x$，查区间 $[l,r]$ 内最长的子区间 $[l',r']$（即满足 $l\\le l'\\le r'\\le r$），使得对 $l'\\le i<r'$ 有 $a_{i+1}=b_{a_i}$，且存在 $l'\\le i\\le r'$ 使得 $a_i=x$。需要输出满足条件的 $r'-l'+1$ 的最大值，若不存在则输出 $0$。\n", "inputFormat": "第一行两个整数 $n,m$；\n\n第二行 $n$ 个整数依次表示 $a_1,\\dots,a_n$；\n\n第三行 $n$ 个整数依次表示 $b_1,\\dots,b_n$；\n\n接下来 $m$ 行，每行 $1,x,y$ 或 $2,l,r,x$ 表示进行一次修改操作或查询操作。\n\n输入的所有数值为整数。", "outputFormat": "对每个查询操作，输出一行，表示相应的答案。", "hint": "$1\\le n,m\\le 10^6$；\n\n$1\\le a_i\\le n$；\n\n$1\\le b_i\\le n$，$b_i$ 互不相同；\n\n对修改操作，满足 $1\\le x,y\\le n$；\n\n对查询操作，满足 $1\\le l\\le r\\le n$，$1\\le x\\le n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUPC 2022 决赛] pmrmscxip", "background": "", "description": "给序列 $a_1,\\dots,a_n$ 和排列 $b_1,\\dots,b_n$，共有 $m$ 次操作：\n\n修改操作：给定 $x,y$，将 $a_x$ 改为 $y$；\n\n查询操作：给定 $l,r,x$，查区间 $[l,r]$ 内最长的子区间 $[l',r']$（即满足 $l\\le l'\\le r'\\le r$），使得对 $l'\\le i<r'$ 有 $a_{i+1}=b_{a_i}$，且存在 $l'\\le i\\le r'$ 使得 $a_i=x$。需要输出满足条件的 $r'-l'+1$ 的最大值，若不存在则输出 $0$。\n", "inputFormat": "第一行两个整数 $n,m$；\n\n第二行 $n$ 个整数依次表示 $a_1,\\dots,a_n$；\n\n第三行 $n$ 个整数依次表示 $b_1,\\dots,b_n$；\n\n接下来 $m$ 行，每行 $1,x,y$ 或 $2,l,r,x$ 表示进行一次修改操作或查询操作。\n\n输入的所有数值为整数。", "outputFormat": "对每个查询操作，输出一行，表示相应的答案。", "hint": "$1\\le n,m\\le 10^6$；\n\n$1\\le a_i\\le n$；\n\n$1\\le b_i\\le n$，$b_i$ 互不相同；\n\n对修改操作，满足 $1\\le x,y\\le n$；\n\n对查询操作，满足 $1\\le l\\le r\\le n$，$1\\le x\\le n$。", "locale": "zh-CN"}}}
{"pid": "P8416", "type": "P", "difficulty": 7, "samples": [["2\n4 2\n3 1\n", "3\n1 1 1 2\n1 2 2 2\n1 1 1 2\n"], ["2\n2 1\n3 4\n", "3\n2 1 2 2\n1 1 1 2\n2 1 2 2\n"], ["2\n3 2\n1 4\n", "2\n1 1 1 1\n1 1 2 1\n"], ["2\n1 2\n3 4\n", "0\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2022", "Special Judge", "O2优化", "构造", "THUPC"], "title": "[THUPC 2022 决赛] 拯救还是毁灭", "background": "", "description": "*有人说，它拯救了世界；也有人说，它毁灭了世界。*\n\n这个世界危在旦夕！秩序已然一片混乱。\n\n秩序可以抽象成一个 $n\\times n$ 的矩阵，矩阵中是一个 $1\\sim n^2$ 的排列。你想要拯救世界，于是请来了神，来帮忙把秩序恢复原状。然而神也不是万能的，它只能做到交换矩阵中同一行或者同一列中的两个数。而且，它并不知道要怎么交换才能复原，得听你的指导。\n\n幸好，你不一定需要在最少的交换次数之内完成复原。你只需要不比最糟糕的情况差就好。也就是说，如果你的交换次数为 $k$，且对于所有 $1\\sim n^2$ 的排列，最小交换次数的最大值为 $k_0$，你只需要满足 $k\\le k_0$。\n\n注：复原指的是将矩阵变为如下的一个矩阵：\n\n$\\begin{matrix} 1 & 2 & 3 & \\cdots & n \\\\ n+1 & n+2 & n+3 & \\cdots & 2n \\\\ 2n+1 & 2n+2 & 2n+3 & \\cdots & 3n\\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ (n-1)n+1 & (n-1)n+2 & (n-1)n+3 & \\cdots & n^2 \\end{matrix}$", "inputFormat": "接下来 $n$ 行，每行 $n$ 个正整数，表示这个 $n\\times n$ 的矩阵。保证 $1\\sim n^2$ 中的每个数恰好出现一次。", "outputFormat": "第一行一个非负整数 $k$，表示你的交换次数。\n\n接下来 $k$ 行，每行四个正整数 $x_1,y_1,x_2,y_2$，表示将第 $x_1$ 行 $y_1$ 列的数与第 $x_2$ 行 $y_2$ 列的数交换。\n\n你需要保证 $x_1=x_2$ 或 $y_1=y_2$。", "hint": "【样例 1 解释】\n\n可以证明这是交换次数最少的方案之一，显然它符合条件。\n\n【样例 2 解释】\n\n对于这个输入来说，这个样例输出的方案不是交换次数最少的方案，但是我们知道存在一个 $1\\sim n^2$ 的排列（即上一个样例）需要至少 $3$ 次的交换，所以这个方案也是可行的。\n\n【样例 3 解释】\n\n我们允许出现 $(x_1,y_1)=(x_2,y_2)$ 的情况。\n\n【样例 4 解释】\n\n注意 $k$ 可以等于 $0$。\n\n【数据范围与约定】\n\n保证 $1\\le n\\le 1000$。\n\n保证输入的矩阵中 $1\\sim n^2$ 恰好各出现一次。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[THUPC 2022 决赛] 拯救还是毁灭", "background": "", "description": "*有人说，它拯救了世界；也有人说，它毁灭了世界。*\n\n这个世界危在旦夕！秩序已然一片混乱。\n\n秩序可以抽象成一个 $n\\times n$ 的矩阵，矩阵中是一个 $1\\sim n^2$ 的排列。你想要拯救世界，于是请来了神，来帮忙把秩序恢复原状。然而神也不是万能的，它只能做到交换矩阵中同一行或者同一列中的两个数。而且，它并不知道要怎么交换才能复原，得听你的指导。\n\n幸好，你不一定需要在最少的交换次数之内完成复原。你只需要不比最糟糕的情况差就好。也就是说，如果你的交换次数为 $k$，且对于所有 $1\\sim n^2$ 的排列，最小交换次数的最大值为 $k_0$，你只需要满足 $k\\le k_0$。\n\n注：复原指的是将矩阵变为如下的一个矩阵：\n\n$\\begin{matrix} 1 & 2 & 3 & \\cdots & n \\\\ n+1 & n+2 & n+3 & \\cdots & 2n \\\\ 2n+1 & 2n+2 & 2n+3 & \\cdots & 3n\\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ (n-1)n+1 & (n-1)n+2 & (n-1)n+3 & \\cdots & n^2 \\end{matrix}$", "inputFormat": "接下来 $n$ 行，每行 $n$ 个正整数，表示这个 $n\\times n$ 的矩阵。保证 $1\\sim n^2$ 中的每个数恰好出现一次。", "outputFormat": "第一行一个非负整数 $k$，表示你的交换次数。\n\n接下来 $k$ 行，每行四个正整数 $x_1,y_1,x_2,y_2$，表示将第 $x_1$ 行 $y_1$ 列的数与第 $x_2$ 行 $y_2$ 列的数交换。\n\n你需要保证 $x_1=x_2$ 或 $y_1=y_2$。", "hint": "【样例 1 解释】\n\n可以证明这是交换次数最少的方案之一，显然它符合条件。\n\n【样例 2 解释】\n\n对于这个输入来说，这个样例输出的方案不是交换次数最少的方案，但是我们知道存在一个 $1\\sim n^2$ 的排列（即上一个样例）需要至少 $3$ 次的交换，所以这个方案也是可行的。\n\n【样例 3 解释】\n\n我们允许出现 $(x_1,y_1)=(x_2,y_2)$ 的情况。\n\n【样例 4 解释】\n\n注意 $k$ 可以等于 $0$。\n\n【数据范围与约定】\n\n保证 $1\\le n\\le 1000$。\n\n保证输入的矩阵中 $1\\sim n^2$ 恰好各出现一次。", "locale": "zh-CN"}}}
