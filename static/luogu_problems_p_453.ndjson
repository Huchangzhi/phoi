{"pid": "P10187", "type": "P", "difficulty": 2, "samples": [["3\n8\n10\n12", "B\nE\nB"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "贪心", "博弈论", "USACO", "2024", "O2优化"], "title": "[USACO24FEB] Palindrome Game B", "background": "", "description": "Bessie 和 Elsie 正在使用一堆初始时共 $S$ 个石子（$1\\le S<10^{10^5}$）进行一个游戏。两头奶牛依次行动，Bessie 先行动。当轮到一头奶牛行动时，她必须从堆中取走 $x$ 个石子，其中 $x$ 是该奶牛选定的任意正整数回文数。如果当一头奶牛的回合开始时石子堆是空的，那么这头奶牛就输了。\n\n**定义**：一个正整数如果从前向后和从后向前读相同，则该数为回文数；回文数的例子有 $1$，$121$ 和 $9009$。数不允许有前导零；例如，$990$ **不是**回文数。\n\n有 $T$（$1\\le T\\le 10$）个独立的测试用例。对于每一个测试用例，输出如果两头奶牛都采取最优策略，谁会赢得游戏。 ", "inputFormat": "输入的第一行包含 $T$，为测试用例的数量。以下 $T$ 行为测试用例，每个测试用例一行。\n\n每个测试用例均由一个整数 $S$ 指定。 ", "outputFormat": "对于每一个测试用例输出一行，如果 Bessie 在最优策略下可以从一堆 $S$ 个石子的石子堆开始赢得游戏，则输出 `B`，否则输出 `E`。", "hint": "### 样例解释\n\n对于第一个测试用例，Bessie 可以在第一次行动中取走所有石子，因为 $8$ 是回文数，使她获胜。\n\n对于第二个测试用例，$10$ 不是回文数，因此 Bessie 无法在第一次行动中取走所有石子。无论 Bessie 第一回合取走多少石子，Elsie 总能在第二回合取走所有余下的石子，使她获胜。\n\n对于第三个测试用例，可以证明在最优策略下 Bessie 可以获胜。 \n\n### 测试点性质\n\n- 测试点 $2-4$：$S<100$。\n- 测试点 $5-7$：$S<10^6$。\n- 测试点 $8-10$：$S<10^9$。\n- 测试点 $11-13$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Palindrome Game B", "background": null, "description": "Bessie and Elsie are playing a game with a pile of stones that initially contains $S$ stones ($1\\le S<10^{10^5}$). The two cows alternate turns,  with Bessie going first. When it is a cow's turn, she must remove $x$ stones from the pile, where $x$ is any positive integer palindrome of the cow's choosing. If the pile is empty when a cow's turn starts, that cow loses.  \n\n**Definition:** A positive integer is a palindrome if it reads the same forward and backward; examples of palindromes include 1, 121, and 9009. Leading zeros are not allowed; e.g., 990 is *not* a palindrome.  \n\nThere are $T$ ($1\\le T\\le 10$) independent test cases. For each test case,  print who wins the game if both cows play optimally.", "inputFormat": "The first line contains $T$, the number of test cases. The next $T$ lines describe the test cases, one line per test case.  \n\nEach test case is specified by a single integer $S$.", "outputFormat": "For each test case, output B if Bessie wins the game under optimal play starting with a pile of stones of size $S$, or E otherwise, on a new line.", "hint": "For the first test case, Bessie can remove all the stones on her first move, since $8$ is a palindrome, guaranteeing her win.  \n\nFor the second test case, $10$ is not a palindrome, so Bessie cannot remove all the stones on her first move. Regardless of how many stones  Bessie removes on her first move, Elsie can always remove all remaining stones on her second move, guaranteeing her win.  \n\nFor the third test case, it can be proven that Bessie wins under optimal play.  \n\n\n#### SCORING:\n- Inputs 2-4: $S<100$\n- Inputs 5-7: $S<10^6$\n- Inputs 8-10: $S<10^9$\n- Inputs 11-13: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Palindrome Game B", "background": "", "description": "Bessie 和 Elsie 正在使用一堆初始时共 $S$ 个石子（$1\\le S<10^{10^5}$）进行一个游戏。两头奶牛依次行动，Bessie 先行动。当轮到一头奶牛行动时，她必须从堆中取走 $x$ 个石子，其中 $x$ 是该奶牛选定的任意正整数回文数。如果当一头奶牛的回合开始时石子堆是空的，那么这头奶牛就输了。\n\n**定义**：一个正整数如果从前向后和从后向前读相同，则该数为回文数；回文数的例子有 $1$，$121$ 和 $9009$。数不允许有前导零；例如，$990$ **不是**回文数。\n\n有 $T$（$1\\le T\\le 10$）个独立的测试用例。对于每一个测试用例，输出如果两头奶牛都采取最优策略，谁会赢得游戏。 ", "inputFormat": "输入的第一行包含 $T$，为测试用例的数量。以下 $T$ 行为测试用例，每个测试用例一行。\n\n每个测试用例均由一个整数 $S$ 指定。 ", "outputFormat": "对于每一个测试用例输出一行，如果 Bessie 在最优策略下可以从一堆 $S$ 个石子的石子堆开始赢得游戏，则输出 `B`，否则输出 `E`。", "hint": "### 样例解释\n\n对于第一个测试用例，Bessie 可以在第一次行动中取走所有石子，因为 $8$ 是回文数，使她获胜。\n\n对于第二个测试用例，$10$ 不是回文数，因此 Bessie 无法在第一次行动中取走所有石子。无论 Bessie 第一回合取走多少石子，Elsie 总能在第二回合取走所有余下的石子，使她获胜。\n\n对于第三个测试用例，可以证明在最优策略下 Bessie 可以获胜。 \n\n### 测试点性质\n\n- 测试点 $2-4$：$S<100$。\n- 测试点 $5-7$：$S<10^6$。\n- 测试点 $8-10$：$S<10^9$。\n- 测试点 $11-13$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10188", "type": "P", "difficulty": 4, "samples": [["3 1\nRRL\n1 1 1", "2"], ["5 20\nLLLLL\n3 3 2 3 3", "14"], ["9 5\nRRRLRRLLR\n5 8 4 9 3 4 9 5 4", "38"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "USACO", "2024", "O2优化", "图论建模"], "title": "[USACO24FEB] Milk Exchange B", "background": "", "description": "Farmer John 的 $N$（$1\\le N\\le 2\\cdot 10^5$）头奶牛排成一圈，使得对于 $1,2,\\ldots,N−1$ 中的每个 $i$，奶牛 $i$ 右边的奶牛是奶牛 $i+1$，而奶牛 $N$ 右边的奶牛是奶牛 $1$。第 $i$ 头奶牛有一个容量为整数 $a_i$（$1\\le a_i\\le 10^9$）升的桶。所有桶初始时都是满的。\n\n每一分钟，奶牛都会根据一个字符串 $s_1s_2\\ldots s_N$\n传递牛奶，该字符串仅由字符 `L` 和 `R` 组成。当第 $i$ 头奶牛至少有 $1$ 升牛奶时，如果 $s_i=\\texttt{L}$，她会将 $1$ 升牛奶传递给她左边的奶牛，如果 $s_i=\\texttt R$ 则传递给右边的奶牛。所有交换同时发生（即，如果一头奶牛的桶是满的，送出一升牛奶，但也收到一升，则她的牛奶量保持不变）。如果此时一头奶牛的牛奶量超过 $a_i$，则多余的牛奶会损失。\n\nFJ 想要知道：经过 $M$ 分钟（$1\\le M\\le 10^9$）后，所有奶牛总共还余下多少牛奶？ ", "inputFormat": "输入的第一行包含 $N$ 和 $M$。\n\n第二行包含一个字符串 $s_1s_2\\ldots s_N$，仅由字符 `L` 或 `R` 组成，表示每头奶牛传递牛奶的方向。\n\n第三行包含整数 $a_1,a_2,\\ldots,a_N$，为每个桶的容量。 ", "outputFormat": "输出一个整数，为 $M$ 分钟后所有奶牛总共余下的牛奶量。 \n\n**注意这个问题涉及到的整数可能需要使用 64 位整数型（例如，C/C++ 中的 `long long`）。**", "hint": "### 样例解释 1\n\n奶牛 $2$ 和 $3$ 互相传递一升牛奶，因此她们的牛奶得以保留。当奶牛 $1$ 将牛奶传递给奶牛 $2$ 时，奶牛 $2$ 的桶会溢出，从而一分钟后损失了一升牛奶。 \n\n### 样例解释 2\n\n 每头奶牛都将一升牛奶传递给左边的奶牛，并从右边的奶牛那里获得一升牛奶，因此无论经过多长时间所有牛奶都会被保留下来。 \n \n### 样例解释 3\n\n初始时，共有 $51$ 升牛奶。$5$ 分钟后，奶牛 $3$，$6$ 和 $7$ 将分别损失 $5$，$3$ 和 $5$ 升牛奶。因此，总共还剩下 $38$ 升牛奶。\n\n### 测试点性质\n\n- 测试点 $4-8$：$N,M\\le 1000$。\n- 测试点 $9-16$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Milk Exchange B", "background": null, "description": "Farmer John's $N$ $(1 \\leq N \\leq 2 \\cdot 10^5)$ cows are lined up in a circle such that for each $i$ in $1,2,\\dots,N-1$, the cow to the right of cow $i$ is cow $i+1$, and the cow to the right of cow $N$ is cow $1$. The $i$th cow has a bucket with integer capacity $a_i$ $(1 \\leq a_i \\leq 10^9)$ liters. All buckets are initially full.  \n\nEvery minute, the cows exchange milk according to a string $s_1s_2\\dots s_N$  consisting solely of the characters $\\text{‘L’}$ and $\\text{‘R’}$.  if the $i$th cow has at least $1$ liter of milk, she will pass $1$ liter of milk to the cow to her left if $s_i=\\text{‘L’}$, or to the right if $s_i=\\text{‘R’}$.  All exchanges happen simultaneously (i.e., if a cow has a full bucket but gives away a liter of milk but also receives a liter, her milk is preserved). If a cow's total milk ever ends up exceeding $a_i$, then the excess milk will be lost.  \n\nFJ wants to know: after $M$ minutes $(1 \\leq M \\leq 10^9$), what is the total amount of milk left among all cows?", "inputFormat": "The first line contains $N$ and $M$.  \n\nThe second line contains a string $s_1s_2\\dots s_N$ consisting solely of the characters $\\text{‘L’}$ or $\\text{‘R’}$, denoting the direction each cow will pass their milk in.  \n\nThe third line contains integers $a_1, a_2, \\dots, a_N$, the capacities of each bucket.", "outputFormat": "Output an integer, the sum of milk among all cows after $M$ minutes.  \n\n**Note that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a \"long long\" in C/C++).**", "hint": "##### For Sample 1:\nCows $2$ and $3$ pass each other one liter of milk, so their milk is preserved. When cow $1$ passes their milk to cow $2$, cow $2$'s bucket overflows, and one liter of milk is lost after one minute.  \n\n\n##### For Sample 2:\nEach cow is passing a liter of milk to the cow on the left and gaining a liter of milk from the cow on the right, so all of the milk is preserved regardless of how much time passes.  \n\n##### For Sample 3:\nInitially, there are a total of 51 liters of milk. After 5 minutes, cows $3$, $6$, and $7$ will lose 5, 3, and 5 liters of milk respectively. Therefore, a total of 38 liters of milk remain.  \n#### SCORING:\n- Inputs 4-8: $N,M \\le 1000$\n- Inputs 9-16: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Milk Exchange B", "background": "", "description": "Farmer John 的 $N$（$1\\le N\\le 2\\cdot 10^5$）头奶牛排成一圈，使得对于 $1,2,\\ldots,N−1$ 中的每个 $i$，奶牛 $i$ 右边的奶牛是奶牛 $i+1$，而奶牛 $N$ 右边的奶牛是奶牛 $1$。第 $i$ 头奶牛有一个容量为整数 $a_i$（$1\\le a_i\\le 10^9$）升的桶。所有桶初始时都是满的。\n\n每一分钟，奶牛都会根据一个字符串 $s_1s_2\\ldots s_N$\n传递牛奶，该字符串仅由字符 `L` 和 `R` 组成。当第 $i$ 头奶牛至少有 $1$ 升牛奶时，如果 $s_i=\\texttt{L}$，她会将 $1$ 升牛奶传递给她左边的奶牛，如果 $s_i=\\texttt R$ 则传递给右边的奶牛。所有交换同时发生（即，如果一头奶牛的桶是满的，送出一升牛奶，但也收到一升，则她的牛奶量保持不变）。如果此时一头奶牛的牛奶量超过 $a_i$，则多余的牛奶会损失。\n\nFJ 想要知道：经过 $M$ 分钟（$1\\le M\\le 10^9$）后，所有奶牛总共还余下多少牛奶？ ", "inputFormat": "输入的第一行包含 $N$ 和 $M$。\n\n第二行包含一个字符串 $s_1s_2\\ldots s_N$，仅由字符 `L` 或 `R` 组成，表示每头奶牛传递牛奶的方向。\n\n第三行包含整数 $a_1,a_2,\\ldots,a_N$，为每个桶的容量。 ", "outputFormat": "输出一个整数，为 $M$ 分钟后所有奶牛总共余下的牛奶量。 \n\n**注意这个问题涉及到的整数可能需要使用 64 位整数型（例如，C/C++ 中的 `long long`）。**", "hint": "### 样例解释 1\n\n奶牛 $2$ 和 $3$ 互相传递一升牛奶，因此她们的牛奶得以保留。当奶牛 $1$ 将牛奶传递给奶牛 $2$ 时，奶牛 $2$ 的桶会溢出，从而一分钟后损失了一升牛奶。 \n\n### 样例解释 2\n\n 每头奶牛都将一升牛奶传递给左边的奶牛，并从右边的奶牛那里获得一升牛奶，因此无论经过多长时间所有牛奶都会被保留下来。 \n \n### 样例解释 3\n\n初始时，共有 $51$ 升牛奶。$5$ 分钟后，奶牛 $3$，$6$ 和 $7$ 将分别损失 $5$，$3$ 和 $5$ 升牛奶。因此，总共还剩下 $38$ 升牛奶。\n\n### 测试点性质\n\n- 测试点 $4-8$：$N,M\\le 1000$。\n- 测试点 $9-16$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10189", "type": "P", "difficulty": 2, "samples": [["5 5\n3 5 7 9 12\n4 2 3 3 8\n1 5\n1 6\n3 3\n4 2\n5 1", "YES\nNO\nYES\nYES\nNO"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["二分", "USACO", "2024", "O2优化"], "title": "[USACO24FEB] Maximizing Productivity B", "background": "", "description": "Farmer John 有 $N$（$1\\le N\\le 2\\cdot 10^5$）个农场，编号为 $1$ 到 $N$。已知 FJ 会在时刻 $c_i$ 关闭农场 $i$。Bessie 在时刻 $S$ 起床，她希望在农场关闭前访问尽可能多的农场，从而最大限度地提高她这一天的生产力。她计划在时刻 $t_i+S$ 访问农场 $i$。Bessie 必须于严格早于 Farmer John 关闭农场的时刻抵达农场才能成功进行访问。\n\nBessie 有 $Q$（$1\\le Q\\le 2\\cdot 10^5$）个询问。对于每个询问，她会给你两个整数 $S$ 和 $V$。对于每个询问，输出当 Bessie 在时刻 $S$ 起床是否可以访问至少 $V$ 个农场。", "inputFormat": "输入的第一行包含 $N$ 和 $Q$。\n\n第二行包含 $c_1,c_2,c_3\\ldots c_N$（$1\\le c_i\\le 10^6$）。\n\n第三行包含 $t_1,t_2,t_3\\ldots t_N$（$1\\le t_i\\le 10^6$）。\n\n以下 $Q$ 行，每行包含两个整数 $V$（$1\\le V\\le N$）和 $S$（$1\\le S\\le 10^6$）。 ", "outputFormat": "对 $Q$ 个询问的每一个输出一行，输出 `YES`（是）或 `NO`（否）。", "hint": "### 样例解释\n\n对于第一个询问，Bessie 将在时间 $t=[9,7,8,8,13]$ 访问农场， 因此她在 FJ 关闭农场之前能准时访问到的只有农场 $4$。\n\n对于第二个询问，Bessie 将无法准时访问到任何农场。\n\n对于第三个询问，Bessie 将可以准时访问到农场 $3,4,5$。\n\n对于第四个和第五个询问，Bessie 将能够准时访问除第一个农场之外的所有农场。\n\n### 测试点性质\n\n- 测试点 $2-4$：$N,Q\\le 10^3$。\n- 测试点 $5-9$：$c_i,t_i\\le 20$。\n- 测试点 $10-17$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Maximizing Productivity B", "background": null, "description": "Farmer John has $N$ ($1 \\leq N \\leq 2 \\cdot 10^5$) farms, numbered from $1$ to $N$. It is known that FJ closes farm $i$ at time $c_i$. Bessie wakes up at time $S$, and wants to maximize the productivity of her day by visiting as many farms as possible before they close. She plans to visit farm $i$ on time $t_i + S$. Bessie must arrive at a farm strictly before Farmer John closes it to actually visit it.  \n\nBessie has $Q$ $(1 \\leq Q \\leq 2 \\cdot 10^5)$ queries. For each query, she gives you two integers $S$ and $V$. For each query, output whether Bessie can visit at least $V$ farms if she wakes up at time $S$.", "inputFormat": "The first line consists of $N$ and $Q$.  \n\nThe second line consists of $c_1, c_2, c_3 \\dots c_N$ ($1 \\leq c_i \\leq 10^6$).  \n\nThe third line consists of $t_1, t_2, t_3 \\dots t_N$ ($1 \\leq t_i \\leq 10^6$).  \n\nThe next $Q$ lines each consist of two integers $V$ ($1 \\leq V \\leq N$) and $S$ ($1 \\leq S \\leq 10^6$).", "outputFormat": "For each of the $Q$ queries, output YES or NO on a new line.", "hint": "For the first query, Bessie will visit the farms at time $t = [9, 7, 8, 8, 13]$, so she will only get to visit farm $4$ on time before FJ closes the farm.  \n\nFor the second query, Bessie will not be able to visit any of the farms on time.  \n\nFor the third query, Bessie will visit farms $3, 4, 5$ on time.  \n\nFor the fourth and fifth queries, Bessie will be able to visit all but the first farm on time.  \n\n#### SCORING:\n- Inputs 2-4: $N,Q\\le 10^3$\n- Inputs 5-9: $c_i, t_i \\le 20$\n- Inputs 10-17: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Maximizing Productivity B", "background": "", "description": "Farmer John 有 $N$（$1\\le N\\le 2\\cdot 10^5$）个农场，编号为 $1$ 到 $N$。已知 FJ 会在时刻 $c_i$ 关闭农场 $i$。Bessie 在时刻 $S$ 起床，她希望在农场关闭前访问尽可能多的农场，从而最大限度地提高她这一天的生产力。她计划在时刻 $t_i+S$ 访问农场 $i$。Bessie 必须于严格早于 Farmer John 关闭农场的时刻抵达农场才能成功进行访问。\n\nBessie 有 $Q$（$1\\le Q\\le 2\\cdot 10^5$）个询问。对于每个询问，她会给你两个整数 $S$ 和 $V$。对于每个询问，输出当 Bessie 在时刻 $S$ 起床是否可以访问至少 $V$ 个农场。", "inputFormat": "输入的第一行包含 $N$ 和 $Q$。\n\n第二行包含 $c_1,c_2,c_3\\ldots c_N$（$1\\le c_i\\le 10^6$）。\n\n第三行包含 $t_1,t_2,t_3\\ldots t_N$（$1\\le t_i\\le 10^6$）。\n\n以下 $Q$ 行，每行包含两个整数 $V$（$1\\le V\\le N$）和 $S$（$1\\le S\\le 10^6$）。 ", "outputFormat": "对 $Q$ 个询问的每一个输出一行，输出 `YES`（是）或 `NO`（否）。", "hint": "### 样例解释\n\n对于第一个询问，Bessie 将在时间 $t=[9,7,8,8,13]$ 访问农场， 因此她在 FJ 关闭农场之前能准时访问到的只有农场 $4$。\n\n对于第二个询问，Bessie 将无法准时访问到任何农场。\n\n对于第三个询问，Bessie 将可以准时访问到农场 $3,4,5$。\n\n对于第四个和第五个询问，Bessie 将能够准时访问除第一个农场之外的所有农场。\n\n### 测试点性质\n\n- 测试点 $2-4$：$N,Q\\le 10^3$。\n- 测试点 $5-9$：$c_i,t_i\\le 20$。\n- 测试点 $10-17$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10190", "type": "P", "difficulty": 4, "samples": [["3\n2 1\n1 3 6\n4 6 3\n1 -1 2 -2 3 -3 4 -4\n2 1\n1 3 6\n4 6 3\n1 1 2 2 3 3 4 4\n2 1\n1 3 3\n4 6 3\n1 -1 2 -2 3 -3 4 -4", "17\n-1\n11"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "二分", "USACO", "2024", "O2优化"], "title": "[USACO24FEB] Target Practice II S", "background": "**注意：本题的时间限制为 2.5 秒，通常限制的 1.25 倍。**\n\n**注意：这个问题涉及到的整数可能需要使用 64 位整数型（例如，C/C++ 中的 `long long`）。**", "description": "巴黎哞运会即将来临，Farmer John 正在对他的奶牛队进行射箭训练！他在二维坐标平面上设置了以下练习。\n\n有 $N$（$1\\le N\\le 4\\cdot 10^4$）个四边与坐标轴平行的矩形箭靶和 $4N$ 头奶牛。每头牛都必须被分配一个不同的箭靶顶点。对于 $1\\le i\\le N$，在时刻 $i$：\n\n1. 箭靶 $i$ 出现。\n2. 分配其顶点的 $4$ 头奶牛向它们射箭。\n3. 如果奶牛的箭在击中所分配的顶点之前穿过箭靶内部，或未命中，则奶牛们的练习失败。\n4. 箭靶消失，为下一个箭靶腾出空间。\n\n每头牛都位于 $y$ 轴（$x=0$）上，每个箭靶都是一个矩形，其中箭靶 $i$ 的左下顶点坐标为 $(X_1,y^{(i)}_1)$，右上顶点坐标为 $(x^{(i)}_2,y^{(i)}_2)$。所有坐标满足 $1\\le X_1<x^{(i)}_2\\le 10^9$ 以及 $1\\le y^{(i)}_1<y^{(i)}_2\\le 10^9$（注意：$X_1$ 对于每个箭靶都是相同的）。\n\n此外，每头奶牛都有一个正在钻研的「瞄准」角度。因此她们在射箭时会转向特定的角度。考虑到她们的箭从她们的位置沿直线射向指定的顶点，奶牛 $i$ 的箭的轨迹可以用轨迹的斜率 $s_i$（$0<|s_i|<10^9$）来表示。\n\n为了能够仔细检查奶牛们的技术，Farmer John 希望尽量缩短最远的奶牛之间的距离。如果 Farmer John 以最佳方式给每头奶牛分配箭靶顶点并将她们放置在 $y$ 轴上，你能否帮助他求出最远奶牛之间的最小距离是多少，或者奶牛是否总是会练习失败？\n\n每个测试点包含 $T$（$1\\le T\\le 10$）个独立的测试用例。输入保证所有测试用例的 $N$ 之和不超过 $4\\cdot 10^4$。 ", "inputFormat": "输入的第一行包含 $T$（$1\\le T\\le 10$），为测试用例的数量。每个测试用例的描述如下：\n\n每个测试用例的第一行包含两个整数 $N$ 和 $X_1$，分别为箭靶的数量以及所有箭靶的左端的 $x$ 坐标。\n\n以下 $N$ 行，第 $i$ 行包含三个整数 $y^{(i)}_1$，$y^{(i)}_2$ 和 $x^{(i)}_2$，分别为第 $i$ 个箭靶的下端 $y$ 坐标，上端 $y$ 坐标和右端 $x$ 坐标。\n\n最后一行包含 $4N$ 个整数 $s_1,s_2,\\ldots,s_{4N}$，其中 $s_i$ 表示奶牛 $i$ 的射箭轨迹的斜率。", "outputFormat": "输出最远奶牛之间的最小可能距离，或如果奶牛总是练习失败时输出 $−1$。", "hint": "### 样例解释\n\n对于测试用例 $1$，一个最佳分配方案是分别为奶牛 $1-8$ 分配以下目标顶点：\n\n$$(6,1),(6,3),(3,4),(3,6),(1,4),(1,3),(1,6),(1,1)$$\n\n这得出了奶牛 $1-8$ 的 $y$ 坐标如下：\n\n$$−5,9,−2,12,1,6,2,5$$\n\n这给出了最小距离 $12−(−5)=17$。\n\n第二个测试用例的答案是不可能的原因之一是，如果箭不穿过箭靶 $1$ 的内部，不可能射中 $(6,3)$ 处的顶点（箭靶 $1$ 的右上顶点）。\n\n### 测试点性质\n\n- 测试点 $2$：对于所有的 $1\\le i\\le 4N$，$|S_i|$ 均相同。\n- 测试点 $3-9$：所有测试用例的 $N$ 之和不超过 $1000$。\n- 测试点 $10-15$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Target Practice II S", "background": "", "description": "**Note: The time limit for this problem is 2.5s, 1.25 times the default.**  \n\n**Note: The large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a \"long long\" in C/C++).**  \n\nThe Paris Moolympics are coming up and Farmer John is training his team of cows in archery! He has set up the following exercise on the 2D coordinate plane.  \n\nThere are $N (1 \\leq N \\leq 4 \\cdot 10^4)$ axis-aligned rectangular targets and $4N$ cows. Every cow must be assigned to a different target vertex. At moment $i$, for $1 \\leq i \\leq N$: \n1.  Target $i$ appears.\n1.  The $4$ cows assigned to its vertices shoot at them.\n1.  If a cow's shot passes through the interior of the target before it hits the assigned vertex or misses, the cows **fail** the exercise.\n1.  The target disappears to make space for the next one.  \n\nEach cow is located on the $y$-axis $(x = 0)$, and each target is a rectangle where target $i$ has its lower left coordinate at $(X_1, y_1^{(i)})$ and its upper right coordinate at $(x_2^{(i)}, y_2^{(i)})$. The coordinates also satisfy $1 \\leq X_1 < x_2^{(i)}\\leq 10^9$ and $1 \\leq y_1^{(i)} <  y_2^{(i)} \\leq 10^9$ (Note: $X_1$ is the same for every target).  \n\nIn addition, each cow has a \"focus\" angle they are working on. Therefore, they will turn at a specific angle when shooting. Given that their shot travels in a straight line from their position towards their assigned vertex, the trajectory of cow $i$'s arrow can be described by $s_i$ $(0 < |s_i| < 10^9)$, the slope of the trajectory.  \n\nSo that he can carefully examine the cows' technique, Farmer John wants to minimize the distance between the furthest cows. If Farmer John were to optimally assign each cow to a target vertex and place them on the $y$-axis, can you help him determine what the minimum distance between the furthest cows would be or if the cows will always fail the exercise?  \n\nEach input contains $T$ ($1 \\leq T \\leq 10$) independent test cases. The sum of $N$ across all test cases is guaranteed to not exceed $4\\cdot 10^4$.", "inputFormat": "The first line contains $T$ ($1 \\leq T \\leq 10$), the number of independent test cases. Each test case is described as follows:  \n\nThe first line of each test case contains two integers, $N$ and $X_1$, the number of targets and the left-most $x$-coordinate of the targets respectively.  \n\nThis is followed by $N$ lines with the $i$-th line consisting of three integers, $y_1^{(i)}$, $y_2^{(i)}$, and $x_2^{(i)}$, the lower $y$-coordinate, the upper $y$-coordinate, and the right $x$-coordinate of the $i$-th target respectively.  \n\nThe last line consists of $4N$ integers, $s_1, s_2, \\dots, s_{4N}$ where $s_i$ denotes the slope of cow $i$'s shot trajectory.", "outputFormat": "The minimum possible distance between the furthest cows or $-1$ if the cows will always fail the exercise.", "hint": "One optimal assignment for test case 1 is the following target vertices for cows 1-8 respectively: \n$$(6, 1), (6,3), (3,4), (3,6), (1,4), (1,3), (1,6), (1,1)$$ \nThis gives the following $y$ locations for cows 1-8 respectively: \n$$-5, 9, -2, 12, 1, 6, 2, 5$$  \n\nThis gives a minimum distance of $12-(-5) = 17$.  \n\nOne reason the second test case is impossible is because it is impossible to shoot the vertex at $(6, 3)$ (the top right vertex of target 1) without the shot passing through the interior of target 1.  \n\n\n#### SCORING:\n- Input 2: $|S_i|$ is the same for all $1 \\leq i \\leq 4N$.\n- Input 3-9: The sum of $N$ across all testcases is at most $1000$.\n- Inputs 10-15: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Target Practice II S", "background": "**注意：本题的时间限制为 2.5 秒，通常限制的 1.25 倍。**\n\n**注意：这个问题涉及到的整数可能需要使用 64 位整数型（例如，C/C++ 中的 `long long`）。**", "description": "巴黎哞运会即将来临，Farmer John 正在对他的奶牛队进行射箭训练！他在二维坐标平面上设置了以下练习。\n\n有 $N$（$1\\le N\\le 4\\cdot 10^4$）个四边与坐标轴平行的矩形箭靶和 $4N$ 头奶牛。每头牛都必须被分配一个不同的箭靶顶点。对于 $1\\le i\\le N$，在时刻 $i$：\n\n1. 箭靶 $i$ 出现。\n2. 分配其顶点的 $4$ 头奶牛向它们射箭。\n3. 如果奶牛的箭在击中所分配的顶点之前穿过箭靶内部，或未命中，则奶牛们的练习失败。\n4. 箭靶消失，为下一个箭靶腾出空间。\n\n每头牛都位于 $y$ 轴（$x=0$）上，每个箭靶都是一个矩形，其中箭靶 $i$ 的左下顶点坐标为 $(X_1,y^{(i)}_1)$，右上顶点坐标为 $(x^{(i)}_2,y^{(i)}_2)$。所有坐标满足 $1\\le X_1<x^{(i)}_2\\le 10^9$ 以及 $1\\le y^{(i)}_1<y^{(i)}_2\\le 10^9$（注意：$X_1$ 对于每个箭靶都是相同的）。\n\n此外，每头奶牛都有一个正在钻研的「瞄准」角度。因此她们在射箭时会转向特定的角度。考虑到她们的箭从她们的位置沿直线射向指定的顶点，奶牛 $i$ 的箭的轨迹可以用轨迹的斜率 $s_i$（$0<|s_i|<10^9$）来表示。\n\n为了能够仔细检查奶牛们的技术，Farmer John 希望尽量缩短最远的奶牛之间的距离。如果 Farmer John 以最佳方式给每头奶牛分配箭靶顶点并将她们放置在 $y$ 轴上，你能否帮助他求出最远奶牛之间的最小距离是多少，或者奶牛是否总是会练习失败？\n\n每个测试点包含 $T$（$1\\le T\\le 10$）个独立的测试用例。输入保证所有测试用例的 $N$ 之和不超过 $4\\cdot 10^4$。 ", "inputFormat": "输入的第一行包含 $T$（$1\\le T\\le 10$），为测试用例的数量。每个测试用例的描述如下：\n\n每个测试用例的第一行包含两个整数 $N$ 和 $X_1$，分别为箭靶的数量以及所有箭靶的左端的 $x$ 坐标。\n\n以下 $N$ 行，第 $i$ 行包含三个整数 $y^{(i)}_1$，$y^{(i)}_2$ 和 $x^{(i)}_2$，分别为第 $i$ 个箭靶的下端 $y$ 坐标，上端 $y$ 坐标和右端 $x$ 坐标。\n\n最后一行包含 $4N$ 个整数 $s_1,s_2,\\ldots,s_{4N}$，其中 $s_i$ 表示奶牛 $i$ 的射箭轨迹的斜率。", "outputFormat": "输出最远奶牛之间的最小可能距离，或如果奶牛总是练习失败时输出 $−1$。", "hint": "### 样例解释\n\n对于测试用例 $1$，一个最佳分配方案是分别为奶牛 $1-8$ 分配以下目标顶点：\n\n$$(6,1),(6,3),(3,4),(3,6),(1,4),(1,3),(1,6),(1,1)$$\n\n这得出了奶牛 $1-8$ 的 $y$ 坐标如下：\n\n$$−5,9,−2,12,1,6,2,5$$\n\n这给出了最小距离 $12−(−5)=17$。\n\n第二个测试用例的答案是不可能的原因之一是，如果箭不穿过箭靶 $1$ 的内部，不可能射中 $(6,3)$ 处的顶点（箭靶 $1$ 的右上顶点）。\n\n### 测试点性质\n\n- 测试点 $2$：对于所有的 $1\\le i\\le 4N$，$|S_i|$ 均相同。\n- 测试点 $3-9$：所有测试用例的 $N$ 之和不超过 $1000$。\n- 测试点 $10-15$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10191", "type": "P", "difficulty": 5, "samples": [["6\n4 1\n1221\n2211\n4 2\n1221\n2211\n4 3\n1221\n2211\n6 3\n222222\n111112\n4 3\n1121\n1222\n4 2\n1121\n1222", "4\n4\n1 2\n1 3\n2 1\n3 2\n4\n1 2\n1 3\n2 1\n3 2\n1\n2 1\n5\n2 3\n1 2\n1 3\n1 2\n3 1\n6\n2 3\n1 2\n1 3\n1 2\n2 1\n3 2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "贪心", "USACO", "2024", "Special Judge", "O2优化"], "title": "[USACO24FEB] Test Tubes S", "background": "", "description": "Bessie has recently gotten into chemistry. At the moment, she has two different colors $1$ and $2$ of various liquids that don't mix well with one another. She has two test tubes of infinite capacity filled with $N$ $(1 \\leq N \\leq 10^5)$ units each of some mixture of liquids of these two colors. Because the liquids don't mix,  once they settled, they divided into layers of separate colors. Because of this, the two tubes can be viewed as strings $f_1f_2\\ldots f_N$ and $s_1s_2\\ldots s_N$  where $f_i$ represents the color of the liquid that is $i$ units from the bottom of the first tube, and $s_i$ represents the color of the liquid that is $i$ units from the bottom of the second tube. It is guaranteed that there is at least one unit of each color of liquid.  \n\nBessie wants to separate these liquids so that each test tube contains all units of one color of liquid. She has a third empty beaker of infinite capacity to help her in this task. When Bessie makes a \"pour\", she moves all liquid of color $i$ at the top of one test tube or beaker into another.  \n\nDetermine the minimum number of pours to separate all the liquid into the two test tubes, and the series of moves needed to do so. It does not matter which test tube ends up with which color, but the beaker must be empty..  \n\nThere will be $T$ ($1 \\leq T \\leq 10$) test cases, with a parameter $P$ for each test case.  \n\nSuppose the minimum number of pours to separate the liquids into the original tubes is $M$.  \n\n\n- If $P=1$, you will receive credit if you print only $M$.\n- If $P=2$, you will receive credit if you print an integer $A$ such that $M \\leq A \\leq M+5$, followed by $A$ lines that construct a solution with that number of moves. Each line should contain the source and the destination tube ($1$, $2$, or $3$ for the beaker). The source tube must be nonempty before the move and a tube may not be poured into itself.\n- If $P=3$, you will receive credit if you print $M$, followed by a valid construction using that number of moves.", "inputFormat": "The first line contains $T$, the. number of test cases. For each test case, the next line contains $N$ and $P$ representing the amount each test tube is initially filled to, and the query type. The following line contains $f_1f_2f_3\\ldots f_N$ representing  the first test tube. $f_i \\in \\{ 1,2 \\}$ and $f_1$ represents the bottom of the test tube. The subsequent line contains $s_1s_2s_3\\ldots s_N$ representing the second test tube. $s_i \\in \\{ 1,2 \\}$ and $s_1$ represents the bottom of the test tube.  \n\nIt is guaranteed that there will be at least one $1$ and one $2$ across both input strings.", "outputFormat": "For each test case, you will print a single number representing the minimum pours to separate the liquid in the test tubes. Depending on the query type, you may also need to provide a valid construction.", "hint": "In the first three test cases, the minimum number of pours to separate the tubes is $4$. We can see how the following moves separate the test tubes:  \n\nInitial state: \n```\n1: 1221\n2: 2211\n3: \n```\nAfter the move \"1 2\": \n```\n1: 122\n2: 22111\n3: \n```\nAfter the move \"1 3\": \n```\n1: 1\n2: 22111\n3: 22\n```\nAfter the move \"2 1\": \n```\n1: 1111\n2: 22\n3: 22\n```\nAfter the move \"3 2\": \n```\n1: 1111\n2: 2222\n3:\n```\n\n\nIn the last test case, the minimum amount of pours is $5$. However, since $P=2$, the given construction with $6$ moves is valid since it is within $5$ pours from the optimal answer. \n#### SCORING:\n- Inputs 2-6: $P = 1$\n- Inputs 7-11: $P=2$\n- Inputs 12-21: No additional constraints.\n\nAdditionally, it is guaranteed that $T=10$ for all inputs besides the sample.", "locale": "en", "translations": {"en": {"title": "[USACO24FEB] Test Tubes S", "background": "", "description": "Bessie has recently gotten into chemistry. At the moment, she has two different colors $1$ and $2$ of various liquids that don't mix well with one another. She has two test tubes of infinite capacity filled with $N$ $(1 \\leq N \\leq 10^5)$ units each of some mixture of liquids of these two colors. Because the liquids don't mix,  once they settled, they divided into layers of separate colors. Because of this, the two tubes can be viewed as strings $f_1f_2\\ldots f_N$ and $s_1s_2\\ldots s_N$  where $f_i$ represents the color of the liquid that is $i$ units from the bottom of the first tube, and $s_i$ represents the color of the liquid that is $i$ units from the bottom of the second tube. It is guaranteed that there is at least one unit of each color of liquid.  \n\nBessie wants to separate these liquids so that each test tube contains all units of one color of liquid. She has a third empty beaker of infinite capacity to help her in this task. When Bessie makes a \"pour\", she moves all liquid of color $i$ at the top of one test tube or beaker into another.  \n\nDetermine the minimum number of pours to separate all the liquid into the two test tubes, and the series of moves needed to do so. It does not matter which test tube ends up with which color, but the beaker must be empty..  \n\nThere will be $T$ ($1 \\leq T \\leq 10$) test cases, with a parameter $P$ for each test case.  \n\nSuppose the minimum number of pours to separate the liquids into the original tubes is $M$.  \n\n\n- If $P=1$, you will receive credit if you print only $M$.\n- If $P=2$, you will receive credit if you print an integer $A$ such that $M \\leq A \\leq M+5$, followed by $A$ lines that construct a solution with that number of moves. Each line should contain the source and the destination tube ($1$, $2$, or $3$ for the beaker). The source tube must be nonempty before the move and a tube may not be poured into itself.\n- If $P=3$, you will receive credit if you print $M$, followed by a valid construction using that number of moves.", "inputFormat": "The first line contains $T$, the. number of test cases. For each test case, the next line contains $N$ and $P$ representing the amount each test tube is initially filled to, and the query type. The following line contains $f_1f_2f_3\\ldots f_N$ representing  the first test tube. $f_i \\in \\{ 1,2 \\}$ and $f_1$ represents the bottom of the test tube. The subsequent line contains $s_1s_2s_3\\ldots s_N$ representing the second test tube. $s_i \\in \\{ 1,2 \\}$ and $s_1$ represents the bottom of the test tube.  \n\nIt is guaranteed that there will be at least one $1$ and one $2$ across both input strings.", "outputFormat": "For each test case, you will print a single number representing the minimum pours to separate the liquid in the test tubes. Depending on the query type, you may also need to provide a valid construction.", "hint": "In the first three test cases, the minimum number of pours to separate the tubes is $4$. We can see how the following moves separate the test tubes:  \n\nInitial state: \n```\n1: 1221\n2: 2211\n3: \n```\nAfter the move \"1 2\": \n```\n1: 122\n2: 22111\n3: \n```\nAfter the move \"1 3\": \n```\n1: 1\n2: 22111\n3: 22\n```\nAfter the move \"2 1\": \n```\n1: 1111\n2: 22\n3: 22\n```\nAfter the move \"3 2\": \n```\n1: 1111\n2: 2222\n3:\n```\n\n\nIn the last test case, the minimum amount of pours is $5$. However, since $P=2$, the given construction with $6$ moves is valid since it is within $5$ pours from the optimal answer. \n#### SCORING:\n- Inputs 2-6: $P = 1$\n- Inputs 7-11: $P=2$\n- Inputs 12-21: No additional constraints.\n\nAdditionally, it is guaranteed that $T=10$ for all inputs besides the sample.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Test Tubes S", "background": "", "description": "Bessie 最近开始对化学感兴趣。目前，她有两种不同颜色 $1$ 和 $2$ 的液体，彼此之间无法混合。她有两个无限容量的试管，各装有 $N$（$1\\le N\\le 10^5$）单位的这两种颜色的液体混合物。由于液体无法混合，一旦沉淀，它们就会分成不同颜色的层。因此，两个试管可以被视为两个字符串 $f_1f_2\\ldots f_N$ 和 $s_1s_2\\ldots s_N$，其中 $f_i$ 表示距离第一个试管底部 $i$ 单位处的液体的颜色，$s_i$ 表示距离第二个试管底部 $i$ 单位处的液体的颜色。输入保证两种颜色的液体至少各有一个单位。\n\nBessie 想要分离这些液体，以使得每个试管包含一种颜色的液体的所有单位。她有第三个无限容量的空烧杯来帮助她完成这一任务。当 Bessie 进行一次「倾倒」时，她将一个试管或烧杯顶部的所有颜色为 $i$ 的液体移至另一个的顶部。\n\n求出将所有液体分离到两个试管中所需的最小的倾倒次数，以及所需的移动操作。两个试管最终包含的液体颜色不影响正确性，但烧杯必须是空的。\n\n有 $T$（$1\\le T\\le 10$）个测试用例，每个测试用例有一个参数 $P$。\n\n设将液体分离至试管中的最小倾倒次数为 $M$。\n\n- 若 $P=1$，当你仅输出 $M$ 时可以得到分数。\n- 若 $P=2$，当你输出 $A$，其中 $M\\le A\\le M+5$，并在以下 $A$ 行输出以该操作次数构造的一个方案时，可以得到分数。每一行包含来源试管和目标试管（$1$，$2$，或用 $3$ 表示烧杯）。操作之前，来源试管必须是非空的，并且不得将一个试管向其自身倾倒。\n- 若 $P=3$，当你输出 $M$，并输出以该操作次数构造的一个方案时，可以得到分数。", "inputFormat": "输入的第一行包含 $T$，为测试用例的数量。对于每一个测试用例，第一行包含 $N$ 和 $P$，为每个试管最初装有液体的数量以及询问类型。下一行包含 $f_1f_2f_3\\ldots f_N$，表示第一个试管。$f_i\\in \\{1,2\\}$，$f_1$ 表示试管的底部。下一行包含 $s_1s_2s_3\\ldots s_N$，表示第二个试管。$s_i\\in \\{1,2\\}$，$s_1$ 表示试管的底部。\n\n输入保证两个字符串均包含至少一个 $1$ 和一个 $2$。", "outputFormat": "对于每一个测试用例，输出一个整数，表示分离试管中液体的最少倾倒次数。根据询问类型，你可能还需要提供合法的构造方案。", "hint": "### 样例解释\n\n在前三个测试用例中，分离试管的最小倾倒次数为 $4$。我们可以看到以下操作是如何分离试管的：\n\n初始状态：\n\n```plain\n1: 1221\n2: 2211\n3: \n```\n\n在操作 `1 2` 后：\n\n```plain\n1: 122\n2: 22111\n3: \n```\n\n在操作 `1 3` 后：\n\n```plain\n1: 1\n2: 22111\n3: 22\n```\n\n在操作 `2 1` 后：\n\n```plain\n1: 1111\n2: 22\n3: 22\n```\n\n在操作 `3 2` 后：\n\n```plain\n1: 1111\n2: 2222\n3:\n```\n\n在最后一个测试用例中，最小倾倒次数为 $5$。然而，由于 $P=2$，给出的 $6$ 次操作的构造也是合法的，因为它与最优解的差在 $5$ 次倾倒之内。\n\n### 测试点性质\n\n- 测试点 $2-6$：$P=1$。\n- 测试点 $7-11$：$P=2$。\n- 测试点 $12-21$：没有额外限制。\n\n除此之外，输入保证除样例外的所有测试点均有 $T=10$。", "locale": "zh-CN"}}}
{"pid": "P10192", "type": "P", "difficulty": 4, "samples": [["2\n10 3 2\n2 5\n1 3\n1 3\n10 3 3\n2 7 5\n8 3 4\n2 5 6", "Even Even Odd\n-1"], ["1\n20 8 2\n3 5\n3 5\n3 5\n3 5\n3 5\n3 5\n3 5\n3 5", "Even Even Even Odd Even Odd Even Odd"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "贪心", "USACO", "2024", "O2优化"], "title": "[USACO24FEB] Moorbles S", "background": "", "description": "Bessie and Elsie are playing a game of Moorbles. The game works as follows: Bessie and Elsie each start out with some amount of marbles. Bessie holds out $A$ of her marbles in her hoof and Elsie guesses if $A$ is Even or Odd. If Elsie is correct, she wins the $A$ marbles from Bessie and if she guesses incorrectly, she loses $A$ of her marbles to Bessie (if Elsie has less than $A$ marbles, she loses all her marbles). A player loses when they lose all of their marbles.  \n\nAfter some amount of turns in the game, Elsie has $N$ $(1 \\leq N \\leq 10^9)$ marbles. She thinks it is hard to win, but she is playing to not lose. After being around Bessie enough, Elsie has a good read on Bessie's habits and recognizes that on turn $i$, there are only $K$ $(1 \\leq K \\leq 4)$ different amounts of marbles that Bessie may put out. There are only $M$ $(1 \\leq M \\leq 3 \\cdot 10^5)$ turns before Bessie gets bored and stops playing. Can you identify a lexicographically minimum turn sequence such that Elsie will not lose, regardless of how Bessie plays?", "inputFormat": "The first line contains a single integer $T$ ($1 \\leq T \\leq 10$) representing the number of test cases. Each test case is described as follows: \n-  First, one line containing three integers $N$, $M$, and $K$, representing the number of marbles Elsie has, the number of turns, and the number of potential moves Bessie can make respectively.\n- Then, $M$ lines where line $i$ contains $K$ distinct space separated integers $a_{i,1} \\; a_{i,2} \\ldots a_{i,K}$ ($1 \\leq a_{i, j} \\leq 10^3$) representing the possible amounts of marbles that Bessie might play on turn $i$.\n\nIt is guaranteed that the sum of $M$ over all test cases is at most $3 \\cdot 10^5$.", "outputFormat": "For each test case, output the lexicographically minimum move sequence for Elsie to guarantee not losing, or $-1$ if she will lose. The move sequence should be on a single line and consist of $M$ space-separated tokens each equal to either \"Even\" or \"Odd\".  \n\nNote: \"Even\" is lexicographically smaller than \"Odd\".", "hint": "##### For Sample 1:\nIn the first case, the only lexicographically smaller sequence of moves is \"Even Even Even\", but Bessie can make Elsie lose in that case by first playing $5$, which reduces Elsie's number of marbles from $10$ to $5$, then playing $3$, which reduces Elsie's number of marbles from $5$ to $2$, then playing $3$, which wipes out all of her marbles.  \n\nIf Elsie instead plays the correct move sequence \"Even Even Odd\", then if Bessie plays the same way, at the end when she plays $3$, Elsie will gain those $3$ marbles, increasing her number of marbles to $5$. It can further be shown that Bessie cannot play in a different way to take all of Elsie's marbles given that Elsie plays \"Even Even Odd\".  \n\nIn the second case, it can be shown that for any move sequence that Elsie could choose, Bessie can play in a way to take all of Elsie's marbles.  \n\n\n#### SCORING:\n- Input 3: $M \\leq 16$.\n- Inputs 4-6: $M \\leq 1000$.\n- Inputs 7-12: No further constraints.", "locale": "en", "translations": {"en": {"title": "[USACO24FEB] Moorbles S", "background": "", "description": "Bessie and Elsie are playing a game of Moorbles. The game works as follows: Bessie and Elsie each start out with some amount of marbles. Bessie holds out $A$ of her marbles in her hoof and Elsie guesses if $A$ is Even or Odd. If Elsie is correct, she wins the $A$ marbles from Bessie and if she guesses incorrectly, she loses $A$ of her marbles to Bessie (if Elsie has less than $A$ marbles, she loses all her marbles). A player loses when they lose all of their marbles.  \n\nAfter some amount of turns in the game, Elsie has $N$ $(1 \\leq N \\leq 10^9)$ marbles. She thinks it is hard to win, but she is playing to not lose. After being around Bessie enough, Elsie has a good read on Bessie's habits and recognizes that on turn $i$, there are only $K$ $(1 \\leq K \\leq 4)$ different amounts of marbles that Bessie may put out. There are only $M$ $(1 \\leq M \\leq 3 \\cdot 10^5)$ turns before Bessie gets bored and stops playing. Can you identify a lexicographically minimum turn sequence such that Elsie will not lose, regardless of how Bessie plays?", "inputFormat": "The first line contains a single integer $T$ ($1 \\leq T \\leq 10$) representing the number of test cases. Each test case is described as follows: \n-  First, one line containing three integers $N$, $M$, and $K$, representing the number of marbles Elsie has, the number of turns, and the number of potential moves Bessie can make respectively.\n- Then, $M$ lines where line $i$ contains $K$ distinct space separated integers $a_{i,1} \\; a_{i,2} \\ldots a_{i,K}$ ($1 \\leq a_{i, j} \\leq 10^3$) representing the possible amounts of marbles that Bessie might play on turn $i$.\n\nIt is guaranteed that the sum of $M$ over all test cases is at most $3 \\cdot 10^5$.", "outputFormat": "For each test case, output the lexicographically minimum move sequence for Elsie to guarantee not losing, or $-1$ if she will lose. The move sequence should be on a single line and consist of $M$ space-separated tokens each equal to either \"Even\" or \"Odd\".  \n\nNote: \"Even\" is lexicographically smaller than \"Odd\".", "hint": "##### For Sample 1:\nIn the first case, the only lexicographically smaller sequence of moves is \"Even Even Even\", but Bessie can make Elsie lose in that case by first playing $5$, which reduces Elsie's number of marbles from $10$ to $5$, then playing $3$, which reduces Elsie's number of marbles from $5$ to $2$, then playing $3$, which wipes out all of her marbles.  \n\nIf Elsie instead plays the correct move sequence \"Even Even Odd\", then if Bessie plays the same way, at the end when she plays $3$, Elsie will gain those $3$ marbles, increasing her number of marbles to $5$. It can further be shown that Bessie cannot play in a different way to take all of Elsie's marbles given that Elsie plays \"Even Even Odd\".  \n\nIn the second case, it can be shown that for any move sequence that Elsie could choose, Bessie can play in a way to take all of Elsie's marbles.  \n\n\n#### SCORING:\n- Input 3: $M \\leq 16$.\n- Inputs 4-6: $M \\leq 1000$.\n- Inputs 7-12: No further constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Moorbles S", "background": "", "description": "Bessie 和 Elsie 正在玩弹珠游戏。游戏的玩法如下：Bessie 和 Elsie 开始时各有一定数量的弹珠。Bessie 取出 $A$ 个弹珠放在蹄子下，Elsie 猜测 $A$ 是偶数还是奇数。如果 Elsie 猜对了，她从 Bessie 那里赢得 $A$ 个弹珠，如果她猜错了，她输给 Bessie $A$ 个弹珠（如果 Elsie 有少于 $A$ 个弹珠，她就会输掉所有弹珠）。一名玩家失去所有弹珠时即失败。\n\n游戏进行了一定回合后，Elsie 拥有 $N$（$1\\le N\\le 10^9$）个弹珠。她感觉获胜很难，但她只是想不要输。在与 Bessie 玩得足够久之后，Elsie 对 Bessie 的习惯有了很好的了解，她发现在回合 $i$，Bessie 只可能会取出 $K$（$1\\le K\\le 4$）种不同数量的弹珠。距离 Bessie 感到无聊退出游戏只有 $M$（$1\\le M\\le 3\\cdot 10^5$）个回合了。你能求出一个字典序最小的行动序列，使得无论 Bessie 如何选择，Elsie 都不会输吗？", "inputFormat": "输入的第一行包含一个整数 $T$（$1\\le T\\le 10$），为测试用例的数量。每个测试用例的描述如下：\n\n- 第一行包含三个整数 $N$，$M$ 和 $K$，分别表示 Elsie 拥有的弹珠数量，回合数及 Bessie 可能进行的选择数。\n- 以下 $M$ 行，第 $i$ 行包含 $K$ 个不同的空格分隔的整数 $a_{i,1}a_{i,2}\\ldots a_{i,K}$（$1\\le a_{i,j}\\le10^3$），表示 Bessie 在回合 $i$ 可能取出的弹珠数量。\n\n输入保证所有测试用例的 $M$ 之和不超过 $3\\cdot 10^5$。 ", "outputFormat": "对于每一个测试用例，输出 Elsie 保证不输的字典序最小的行动序列，或者如果她会输则输出 $−1$。行动序列输出在一行中，包含 $M$ 个空格分隔的单词，每个单词为 `Even`（偶）或 `Odd`（奇）。\n\n注意：`Even` 的字典序小于 `Odd`。 ", "hint": "### 样例解释 1\n\n在第一个测试用例中，唯一字典序更小的行动序列是 `Even Even Even`，但 Bessie 可以使 Elsie 输，通过先出 $5$，将 Elsie 的弹珠数量从 $10$ 减少到 $5$，然后再出 $3$，将 Elsie 的弹珠数量从 $5$ 减少到 $2$，然后出 $3$，这会输光她所有的弹珠。\n\n如果 Elsie 采用正确的行动序列 `Even Even Odd`，那么如果 Bessie 以同样的方式进行游戏，最后当她出 $3$ 时，Elsie 将获得那 $3$ 个弹珠，将她的弹珠数量增加到 $5$。可以进一步证明，只要 Elsie 操作是 `Even Even Odd`，Bessie 无法以其他的方式赢走 Elsie 的所有弹珠。\n\n在第二个测试用例中，可以证明，对于 Elsie 可以选择的任何行动顺序，Bessie 都存在一种方式可以赢走 Elsie 的所有弹珠。\n\n### 测试点性质\n\n- 测试点 $3$：$M\\le 16$。\n- 测试点 $4-6$：$M\\le 1000$。\n- 测试点 $7-12$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10193", "type": "P", "difficulty": 5, "samples": [["3 3 1 4 1\n1 2 3\n1 3 5\n2 3 2", "1\n2"], ["4 3 2 101 2\n1 2 1\n2 3 100\n1 4 10", "2\n3\n4"], ["4 3 2 100 2\n1 2 1\n2 3 100\n1 4 10", "1\n4\n"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "USACO", "2024", "O2优化", "最短路"], "title": "[USACO24FEB] Bessla Motors G", "background": "**注意：本题的时间限制为 3 秒，通常限制的 1.5 倍。本题的内存限制为 512MB，通常限制的 2 倍。**", "description": "为了推广他的贝斯拉（Bessla）电动拖拉机系列，Farmer John 希望展示贝斯拉的充电网络。他已标记了地图上 $N$（$2\\le N\\le 5\\cdot 10^4$）个编号为 $1\\ldots N$ 的兴趣点，其中前 $C$（$1\\le C<N$）个是充电站，其余为旅游目的地。这些兴趣点之间由 $M$（$1 \\le M \\le 10^5$）条双向道路连接，其中第 $i$ 条连接不同的点 $u_i$ 和 $v_i$（$1\\le u_i,v_i\\le N$）且长度为 $l_i$ 英里（$1\\le l_i\\le 10^9$）。\n\n贝斯拉一次充电最多可行驶 $2R$英里（$1\\le R\\le 10^9$），使之可以到达一个充电站 $R$ 英里范围内的任何目的地。一个目的地被称之为交通便利的，如果可以从至少 $K$（$1\\le K\\le 10$）个不同的充电站到达目的地。你的任务是帮助 Farmer John 确定交通便利的旅游目的地的集合。 ", "inputFormat": "输入的第一行包含五个空格分隔的整数 $N$，$M$，$C$，$R$ 和 $K$。以下 $M$ 行，每行包含三个空格分隔的整数 $u_i$，$v_i$ 和 $l_i$，其中 $u_i\\neq v_i$。\n\n充电站的编号为 $1,2,\\ldots,C$。其余兴趣点均为旅游目的地。 ", "outputFormat": "首先输出一行，包含交通便利的旅游目的地的数量。然后升序输出所有交通便利的旅游目的地，每个一行。", "hint": "### 样例解释 1\n\n我们在 $1$ 有一个充电站。从这个充电站出发，我们可以到达 $2$（因为它与 $1$ 的距离为 $3$），但不能到达 $3$（因为它与 $1$ 的距离为 $5$）。因此，只有点 $2$ 是交通便利的。\n\n### 样例解释 2\n\n我们在 $1$ 和 $2$ 有充电站，点 $3$ 和 $4$ 均位于 $1$ 和 $2$ 的 $101$ 距离内。因此，点 $3$ 和 $4$ 都是交通便利的。\n\n### 测试点性质\n\n- 测试点 $4-5$：$K=2$，$N\\le 500$ 且 $M\\le 1000$。\n- 测试点 $6-7$：$K=2$。\n- 测试点 $8-15$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Bessla Motors G", "background": null, "description": "****Note: The time limit for this problem is 3s, 1.5x the default. The memory limit for this problem is 512MB, twice the default.****  \n\nFarmer John would like to promote his line of Bessla electric tractors by showcasing Bessla's network of charging stations. He has identified $N$ ($2\\le N\\le 5\\cdot 10^4$) points of interest labeled $1\\dots N$, of which the first $C$ ($1\\le C < N$) are charging stations and the remainder are travel destinations. These points of interest are interconnected by $M$ ($1\\le M\\le 10^5$) bidirectional roads, the $i$-th of which connects distinct points $u_i$ and $v_i$ ($1\\le u_i, v_i\\le N$) and has length $\\ell_i$ miles ($1\\le\\ell_i\\le 10^9$).  \n\nA Bessla can travel up to $2R$ miles ($1\\le R\\le 10^9$) on a single charge, allowing it to reach any destination within $R$ miles of a charging station. A destination is deemed _well-connected_ if it is reachable from at least $K$ ($1\\le K\\le 10$) distinct charging stations. Your task is to assist Farmer John in identifying the set of well-connected travel destinations.", "inputFormat": "The first line contains five space-separated integers $N$, $M$, $C$, $R$, and $K$. Each of the following $M$ lines contains three space-separated integers $u_i$, $v_i$, and $\\ell_i$ such that $u_i\\neq v_i$.  \n\nThe charging stations are labeled $1, 2, \\ldots, C$. The remaining points of interest are all travel destinations.", "outputFormat": "First, output the number of well-connected travel destinations on a single line. Then, list all well-connected travel destinations in ascending order, each on a separate line.", "hint": "##### For Sample 1:\nWe have one charging station at $1$. From this charging station, we can reach point $2$ (since it is distance $3$ away from $1$), but not point $3$ (since it is distance $5$ away from $1$). Thus, only point $2$ is well-connected.  \n\n\n##### For Sample 2:\nWe have charging stations at $1$ and $2$, and both points $3$ and $4$ are within distance $101$ of both $1$ and $2$. Thus, both points $3$ and $4$ are well-connected.  \n\n\n#### SCORING:\n- Inputs 4 and 5: $K = 2$ and $N \\le 500$ and $M\\le 1000$.\n- Inputs 6 and 7: $K = 2$.\n- Inputs 8-15: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Bessla Motors G", "background": "**注意：本题的时间限制为 3 秒，通常限制的 1.5 倍。本题的内存限制为 512MB，通常限制的 2 倍。**", "description": "为了推广他的贝斯拉（Bessla）电动拖拉机系列，Farmer John 希望展示贝斯拉的充电网络。他已标记了地图上 $N$（$2\\le N\\le 5\\cdot 10^4$）个编号为 $1\\ldots N$ 的兴趣点，其中前 $C$（$1\\le C<N$）个是充电站，其余为旅游目的地。这些兴趣点之间由 $M$（$1 \\le M \\le 10^5$）条双向道路连接，其中第 $i$ 条连接不同的点 $u_i$ 和 $v_i$（$1\\le u_i,v_i\\le N$）且长度为 $l_i$ 英里（$1\\le l_i\\le 10^9$）。\n\n贝斯拉一次充电最多可行驶 $2R$英里（$1\\le R\\le 10^9$），使之可以到达一个充电站 $R$ 英里范围内的任何目的地。一个目的地被称之为交通便利的，如果可以从至少 $K$（$1\\le K\\le 10$）个不同的充电站到达目的地。你的任务是帮助 Farmer John 确定交通便利的旅游目的地的集合。 ", "inputFormat": "输入的第一行包含五个空格分隔的整数 $N$，$M$，$C$，$R$ 和 $K$。以下 $M$ 行，每行包含三个空格分隔的整数 $u_i$，$v_i$ 和 $l_i$，其中 $u_i\\neq v_i$。\n\n充电站的编号为 $1,2,\\ldots,C$。其余兴趣点均为旅游目的地。 ", "outputFormat": "首先输出一行，包含交通便利的旅游目的地的数量。然后升序输出所有交通便利的旅游目的地，每个一行。", "hint": "### 样例解释 1\n\n我们在 $1$ 有一个充电站。从这个充电站出发，我们可以到达 $2$（因为它与 $1$ 的距离为 $3$），但不能到达 $3$（因为它与 $1$ 的距离为 $5$）。因此，只有点 $2$ 是交通便利的。\n\n### 样例解释 2\n\n我们在 $1$ 和 $2$ 有充电站，点 $3$ 和 $4$ 均位于 $1$ 和 $2$ 的 $101$ 距离内。因此，点 $3$ 和 $4$ 都是交通便利的。\n\n### 测试点性质\n\n- 测试点 $4-5$：$K=2$，$N\\le 500$ 且 $M\\le 1000$。\n- 测试点 $6-7$：$K=2$。\n- 测试点 $8-15$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10194", "type": "P", "difficulty": 5, "samples": [["6\n2 2 2 1 2 1", "8\n7\n6\n6\n6\n6"], ["8\n3 8 6 4 8 3 8 1", "25\n20\n17\n14\n12\n10\n8\n8"], ["10\n9 9 10 10 6 8 2 1000000000 1000000000 1000000000", "2000000053\n1000000054\n56\n49\n42\n35\n28\n24\n20\n20"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2024", "O2优化", "前缀和", "差分", "单调栈"], "title": "[USACO24FEB] Milk Exchange G", "background": "", "description": "Farmer John 的 $N$（$1\\le N \\le 5\\cdot 10^5$）头奶牛排成一圈。第 $i$ 头奶牛有一个容量为整数 $a_i$（$1\\le a_i\\le 10^9$）升的桶。所有桶初始时都是满的。\n\n每一分钟，对于 $1\\le i<N$，奶牛 $i$ 会将其桶中所有牛奶传递给奶牛 $i+1$，奶牛 $N$ 将其牛奶传递给奶牛 $1$。所有交换同时发生（即，如果一头奶牛的桶是满的，送出 $x$ 升牛奶同时收到 $x$ 升，则她的牛奶量保持不变）。如果此时一头奶牛的牛奶量超过 $a_i$，则多余的牛奶会损失。\n\n在 $1,2,\\ldots,N$ 的每一分钟后，所有奶牛总共还余下多少牛奶？ ", "inputFormat": "输入的第一行包含 $N$。\n\n第二行包含 $a_1,a_2,\\ldots,a_N$。", "outputFormat": "输出 $N$ 行，其中第 $i$ 行包含 $i$ 分钟后所有奶牛总共余下的牛奶量。", "hint": "### 样例解释 1\n\n最初，每个桶中的牛奶量为 $[2,2,2,1,2,1]$。\n\n- $1$ 分钟后，每个桶中的牛奶量为 $[1,2,2,1,1,1]$，因此总牛奶量为 $8$。\n- $2$ 分钟后，每个桶中的牛奶量为 $[1,1,2,1,1,1]$，因此总牛奶量为 $7$。\n- $3$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n- $4$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n- $5$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n- $6$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n\n### 样例解释 2\n\n$1$ 分钟后，每个桶中的牛奶量为 $[1,3,6,4,4,3,3,1]$，因此总牛奶量为 $25$。\n\n### 测试点性质\n\n- 测试点 $4-5$：$N\\le 2000$。\n- 测试点 $6-8$：$a_i\\le 2$。\n- 测试点 $9-13$：所有 $a_i$ 在范围 $[1,10^9]$ 内均匀随机生成。\n- 测试点 $14-23$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Milk Exchange G", "background": null, "description": "Farmer John's $N$ $(1 \\leq N \\leq 5 \\cdot 10^5)$ cows are lined up in a circle. The $i$th cow has a bucket with integer capacity $a_i$ $(1 \\leq a_i \\leq 10^9)$ liters. All buckets are initially full.  \n\nEvery minute, cow $i$ will pass all the milk in their bucket to cow $i+1$ for $1\\le i<N$, with cow $N$ passing its milk to cow $1$. All exchanges happen simultaneously (i.e., if a cow has a full bucket but gives away $x$ liters of milk and also receives $x$ liters, her milk is preserved). If a cow's total milk ever ends up exceeding $a_i$, then the excess milk will be lost.  \n\nAfter each of $1, 2, \\dots, N$ minutes, how much total milk is left among all cows?", "inputFormat": "The first line contains $N$.   \n\nThe next line contains integers $a_1,a_2,...,a_N$.", "outputFormat": "Output $N$ lines, where the $i$-th line is the total milk left among all cows after $i$ minutes.", "hint": "##### For Sample 1:\nInitially, the amount of milk in each bucket is $[2, 2, 2, 1, 2, 1]$. \n- After $1$ minute, the amount of milk in each bucket is $[1, 2, 2, 1, 1, 1]$ so the total amount of milk is $8$.\n- After $2$ minutes, the amount of milk in each bucket is $[1, 1, 2, 1, 1, 1]$ so the total amount of milk is $7$.\n- After $3$ minutes, the amount of milk in each bucket is $[1, 1, 1, 1, 1, 1]$ so the total amount of milk is $6$.\n- After $4$ minutes, the amount of milk in each bucket is  $[1, 1, 1, 1, 1, 1]$ so the total amount of milk is $6$.\n- After $5$ minutes, the amount of milk in each bucket is $[1, 1, 1, 1, 1, 1]$ so the total amount of milk is $6$.\n- After $6$ minutes, the amount of milk in each bucket is $[1, 1, 1, 1, 1, 1]$ so the total amount of milk is $6$.  \n\n\n##### For Sample 2:\nAfter $1$ minute, the amount of milk in each bucket is $[1, 3, 6, 4, 4, 3, 3, 1]$ so the total amount of milk is $25$.  \n\n#### SCORING:\n- Inputs 4-5: $N \\le 2000$\n- Inputs 6-8: $a_i \\le 2$\n- Inputs 9-13: All $a_i$ are generated uniformly at random in the range $[1,10^9]$. \n- Inputs 14-23: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Milk Exchange G", "background": "", "description": "Farmer John 的 $N$（$1\\le N \\le 5\\cdot 10^5$）头奶牛排成一圈。第 $i$ 头奶牛有一个容量为整数 $a_i$（$1\\le a_i\\le 10^9$）升的桶。所有桶初始时都是满的。\n\n每一分钟，对于 $1\\le i<N$，奶牛 $i$ 会将其桶中所有牛奶传递给奶牛 $i+1$，奶牛 $N$ 将其牛奶传递给奶牛 $1$。所有交换同时发生（即，如果一头奶牛的桶是满的，送出 $x$ 升牛奶同时收到 $x$ 升，则她的牛奶量保持不变）。如果此时一头奶牛的牛奶量超过 $a_i$，则多余的牛奶会损失。\n\n在 $1,2,\\ldots,N$ 的每一分钟后，所有奶牛总共还余下多少牛奶？ ", "inputFormat": "输入的第一行包含 $N$。\n\n第二行包含 $a_1,a_2,\\ldots,a_N$。", "outputFormat": "输出 $N$ 行，其中第 $i$ 行包含 $i$ 分钟后所有奶牛总共余下的牛奶量。", "hint": "### 样例解释 1\n\n最初，每个桶中的牛奶量为 $[2,2,2,1,2,1]$。\n\n- $1$ 分钟后，每个桶中的牛奶量为 $[1,2,2,1,1,1]$，因此总牛奶量为 $8$。\n- $2$ 分钟后，每个桶中的牛奶量为 $[1,1,2,1,1,1]$，因此总牛奶量为 $7$。\n- $3$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n- $4$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n- $5$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n- $6$ 分钟后，每个桶中的牛奶量为 $[1,1,1,1,1,1]$，因此总牛奶量为 $6$。\n\n### 样例解释 2\n\n$1$ 分钟后，每个桶中的牛奶量为 $[1,3,6,4,4,3,3,1]$，因此总牛奶量为 $25$。\n\n### 测试点性质\n\n- 测试点 $4-5$：$N\\le 2000$。\n- 测试点 $6-8$：$a_i\\le 2$。\n- 测试点 $9-13$：所有 $a_i$ 在范围 $[1,10^9]$ 内均匀随机生成。\n- 测试点 $14-23$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10195", "type": "P", "difficulty": 4, "samples": [["4\n2\n1 11\n1 1\n2\n1 12\n1 1\n2\n1 11\n4 6\n2\n1 11\n4 5", "9 9\n11 11\n1 1\n3 3"], ["2\n4\n1 3 5 8\n1 1 1 1\n4\n1 4 5 8\n1 1 1 1", "1 1 3 3\n7 2 2 7"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "USACO", "堆", "2024", "O2优化"], "title": "[USACO24FEB] Quantum Moochanics G", "background": "", "description": "在空闲时间，Bessie 喜欢涉猎实验物理。她最近发现了一对新的亚原子粒子，命名为**哞微子**和**反哞微子**。如同标准的[物质-反物质对](https://baike.baidu.com/item/%E5%8F%8D%E7%89%A9%E8%B4%A8/115035)，哞微子和反哞微子相遇时会相互湮灭并消失。但这些粒子的独特之处在于，每当 Bessie 看向它们时它们就会改变运动方向（同时保持相同的速率）。\n\n在她最新的实验中，Bessie 将**偶数** $N$（$2\\le N\\le 2\\cdot 10^5$）个这些粒子排成一行。这一行的左端以哞微子开始，然后在两种类型的粒子之间交替，第 $i$ 个粒子位于位置 $p_i$（$0\\le p_1<\\cdots <p_N\\le 10^{18}$）。哞微子初始时**向右**运动而反哞微子初始时**向左**运动，其中第 $i$ 个粒子以每秒 $s_i$ 单位的恒定速率运动（$1\\le s_i\\le 10^9$）。\n\nBessie 在以下时刻进行观察：\n\n- 首先是实验开始后 $1$ 秒。\n- 然后是第一次观察后 $2$ 秒。\n- 然后是第二次观察后 $3$ 秒。\n- $\\ldots \\ldots$\n- 然后是第 $n$ 次观察后 $n+1$ 秒。\n\n在每次观察中，Bessie 都会记下哪些粒子消失了。\n\n这个实验可能需要非常长的时间才能完成，所以 Bessie 想要首先模拟一下它的结果。根据实验设置，请帮助 Bessie 求出她何时（即**观察次数**）会观察到各个粒子消失！可以证明，所有粒子最终都会消失。", "inputFormat": "每个测试点包含 $T$（$1\\le T\\le 10$）个独立的测试用例。\n\n每个测试用例包含三行。第一行包含 $N$，第二行包含 $p_1,\\ldots,p_N$，第三行包含 $s_1,\\ldots,s_N$。\n\n输入保证所有 $N$ 之和不超过 $2\\cdot 10^5$。 ", "outputFormat": "对于每一个测试用例，输出每个粒子消失时的观察次数，用空格分隔。 ", "hint": "### 样例解释 1\n\n对于第一个测试用例，Bessie 在前 $8$ 次观察中观察到以下情况：\n\n- 哞微子（初始时向右运动）出现在位置 $2\\to 0\\to 3\\to −1\\to 4\\to −2\\to 5\\to −3$。\n- 反哞微子（初始时向左运动）出现在位置 $10\\to 12\\to 9\\to 13\\to 8\\to 14\\to 7\\to 15$。\n\n然后恰好在观察 $9$ 时，两个粒子在位置 $6$ 相遇并相互湮灭。\n\n对于第二个测试用例，反哞微子的初始位置更靠右 $1$\n单位，从而两个粒子在观察 $11$ 之前半秒在位置 $6.5$ 相遇。\n\n注意我们只关心观察次数，不关心时刻或位置。\n\n### 样例解释 2\n\n对于第一个测试用例：\n\n- 最左边的两个粒子恰好在观察 $1$ 时在位置 $2$ 相遇。\n- 最右边的两个粒子在观察 $3$ 之前半秒在位置 $6.5$ 相遇。\n\n### 测试点性质\n\n- 测试点 $3$：$N=2$。\n- 测试点 $4$：$N\\le 2000$，且对于所有粒子，$p_i\\le 10^4$。\n- 测试点 $5-7$：$N\\le 2000$。\n- 测试点 $8-12$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Quantum Moochanics G", "background": null, "description": "In her free time, Bessie likes to dabble in experimental physics. She has recently discovered a pair of new subatomic particles, named **mootrinos** and **antimootrinos**. Like standard [matter-antimatter pairs](https://en.wikipedia.org/wiki/Antimatter'), mootrinos and antimootrinos annihilate each other and disappear when they meet. But what makes these particles unique is that they switch their direction of motion (while maintaining the same speed) whenever Bessie looks at them.  \n\nFor her latest experiment, Bessie has placed an **even number** $N$ ($2 \\leq N \\leq 2 \\cdot 10^5$) of these particles in a line. The line starts with a mootrino on the left and then alternates between the two types of particles, with the $i$-th particle located at position $p_i$ ($0 \\leq p_1 < \\cdots < p_N \\leq 10^{18}$). Mootrinos initially move **right** while antimootrinos initially move **left**, and the $i$-th particle moves with a constant speed of $s_i$ units per second ($1 \\leq s_i \\leq 10^9$).  \n\nBessie makes observations at the following times: \n- First, $1$ second after the start of the experiment.\n- Then $2$ seconds after the first observation.\n- Then $3$ seconds after the second observation.\n- ...\n- Then $n + 1$ seconds after the $n$-th observation. During each observation, Bessie notes down which particles have disappeared.  \n\nThis experiment may take an extremely long time to complete, so Bessie would like to first simulate its results. Given the experiment setup, help Bessie determine when (i.e., **the observation number**) she will observe each particle disappear! It may be shown that all particles will eventually disappear.", "inputFormat": "Each input contains $T$ ($1\\le T\\le 10$) independent test cases.  \n\nEach test case consists of three lines. The first line contains $N$, the second line contains $p_1,\\dots,p_N$, and the third line contains $s_1\\dots,s_N$.  \n\nIt is guaranteed that the sum of all $N$ does not exceed $2\\cdot 10^5$.", "outputFormat": "For each test case, output the observation number for each particle's disappearance, separated by spaces.", "hint": "##### For Sample 1:\nFor the first test, Bessie observes the following during the first $8$ observations: \n- The mootrino (initially moving **right**) appears at positions $2 \\rightarrow 0 \\rightarrow 3 \\rightarrow -1 \\rightarrow 4 \\rightarrow -2 \\rightarrow 5 \\rightarrow -3$.\n- The antimootrino (initially moving **left**) appears at positions $10 \\rightarrow 12 \\rightarrow 9 \\rightarrow 13 \\rightarrow 8 \\rightarrow 14 \\rightarrow 7 \\rightarrow 15$. Then right at observation $9$, the two particles meet at position $6$ and annihilate each other.  \n\nFor the second test, the antimootrino starts $1$ additional unit to the right, so the two particles meet at position $6.5$ half a second before observation $11$.  \n\nNote that we only care about observation numbers, not times or positions.\n\n##### For Sample 2:\nFor the first test: \n- The two leftmost particles meet at position $2$ right at observation $1$.\n- The two rightmost particles meet at position $6.5$ half a second before observation $3$.  \n\n\n#### SCORING:\n- Input 3 satisfies $N = 2$.\n- Input 4 satisfies $N \\leq 2000$ and $p_i \\leq 10^4$ for all cows.\n- Inputs 5-7 satisfy $N \\leq 2000$.\n- Inputs 8-12 satisfy no additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Quantum Moochanics G", "background": "", "description": "在空闲时间，Bessie 喜欢涉猎实验物理。她最近发现了一对新的亚原子粒子，命名为**哞微子**和**反哞微子**。如同标准的[物质-反物质对](https://baike.baidu.com/item/%E5%8F%8D%E7%89%A9%E8%B4%A8/115035)，哞微子和反哞微子相遇时会相互湮灭并消失。但这些粒子的独特之处在于，每当 Bessie 看向它们时它们就会改变运动方向（同时保持相同的速率）。\n\n在她最新的实验中，Bessie 将**偶数** $N$（$2\\le N\\le 2\\cdot 10^5$）个这些粒子排成一行。这一行的左端以哞微子开始，然后在两种类型的粒子之间交替，第 $i$ 个粒子位于位置 $p_i$（$0\\le p_1<\\cdots <p_N\\le 10^{18}$）。哞微子初始时**向右**运动而反哞微子初始时**向左**运动，其中第 $i$ 个粒子以每秒 $s_i$ 单位的恒定速率运动（$1\\le s_i\\le 10^9$）。\n\nBessie 在以下时刻进行观察：\n\n- 首先是实验开始后 $1$ 秒。\n- 然后是第一次观察后 $2$ 秒。\n- 然后是第二次观察后 $3$ 秒。\n- $\\ldots \\ldots$\n- 然后是第 $n$ 次观察后 $n+1$ 秒。\n\n在每次观察中，Bessie 都会记下哪些粒子消失了。\n\n这个实验可能需要非常长的时间才能完成，所以 Bessie 想要首先模拟一下它的结果。根据实验设置，请帮助 Bessie 求出她何时（即**观察次数**）会观察到各个粒子消失！可以证明，所有粒子最终都会消失。", "inputFormat": "每个测试点包含 $T$（$1\\le T\\le 10$）个独立的测试用例。\n\n每个测试用例包含三行。第一行包含 $N$，第二行包含 $p_1,\\ldots,p_N$，第三行包含 $s_1,\\ldots,s_N$。\n\n输入保证所有 $N$ 之和不超过 $2\\cdot 10^5$。 ", "outputFormat": "对于每一个测试用例，输出每个粒子消失时的观察次数，用空格分隔。 ", "hint": "### 样例解释 1\n\n对于第一个测试用例，Bessie 在前 $8$ 次观察中观察到以下情况：\n\n- 哞微子（初始时向右运动）出现在位置 $2\\to 0\\to 3\\to −1\\to 4\\to −2\\to 5\\to −3$。\n- 反哞微子（初始时向左运动）出现在位置 $10\\to 12\\to 9\\to 13\\to 8\\to 14\\to 7\\to 15$。\n\n然后恰好在观察 $9$ 时，两个粒子在位置 $6$ 相遇并相互湮灭。\n\n对于第二个测试用例，反哞微子的初始位置更靠右 $1$\n单位，从而两个粒子在观察 $11$ 之前半秒在位置 $6.5$ 相遇。\n\n注意我们只关心观察次数，不关心时刻或位置。\n\n### 样例解释 2\n\n对于第一个测试用例：\n\n- 最左边的两个粒子恰好在观察 $1$ 时在位置 $2$ 相遇。\n- 最右边的两个粒子在观察 $3$ 之前半秒在位置 $6.5$ 相遇。\n\n### 测试点性质\n\n- 测试点 $3$：$N=2$。\n- 测试点 $4$：$N\\le 2000$，且对于所有粒子，$p_i\\le 10^4$。\n- 测试点 $5-7$：$N\\le 2000$。\n- 测试点 $8-12$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10196", "type": "P", "difficulty": 6, "samples": [["4\n5 11\n6 10\n10 15\n10 30", "21\n21\n25\n90"], ["2\n100 5\n100 1000000000000", "5\n627323485"], ["20\n303590 482848034083\n180190 112716918480\n312298 258438719980\n671877 605558355401\n662137 440411075067\n257593 261569032231\n766172 268433874550\n8114 905639446594\n209577 11155741818\n227183 874665904430\n896141 55422874585\n728247 456681845046\n193800 632739601224\n443005 623200306681\n330325 955479269245\n377303 177279745225\n880246 22559233849\n58084 155169139314\n813702 758370488574\n929760 785245728062", "108753959\n108753959\n108753959\n148189797\n148189797\n148189797\n148189797\n32884410\n32884410\n32884410\n32884410\n32884410\n32884410\n32884410\n3883759\n3883759\n3883759\n3883759\n3883759\n3883759"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["线段树", "二分", "USACO", "2024", "O2优化", "凸包"], "title": "[USACO24FEB] Lazy Cow P", "background": "", "description": "Bessie 正在努力为美国件算机奥林匹克二月的竞赛准备测试用例。每一分钟，她可以选择不准备测试用例，不花费能量；或者对于某个正整数 $a$，花费 $3^{a−1}$ 能量准备 $a$ 个测试用例。\n\nFarmer John 有 $D$（$1\\le D\\le 2\\cdot 10^5$）个需求。对于第 $i$ 个需求，他告诉 Bessie，在前 $m_i$ 分钟内她总共需要准备至少 $b_i$ 个测试用例（$1\\le m_i\\le 10^6,1\\le b_i\\le 10^{12}$）。\n\n令 $e_i$ 为满足前 $i$ 个需求 Bessie 最小需要花费的能量。输出 $e_1,\\ldots,e_D$ 模 $10^9+7$ 的余数。 ", "inputFormat": "输入的第一行包含 $D$。以下 $D$ 行，第 $i$ 行包含两个空格分隔的整数 $m_i$ 和 $b_i$。", "outputFormat": "输出 $D$ 行，第 $i$ 行包含 $e_i \\bmod 10^9+7$。 ", "hint": "### 样例解释 1\n\n对于第一个测试用例，\n\n- $i=1$：如果 Bessie 在前 $5$ 天分别制作 $[2,3,2,2,2]$ 个测试用例，她将花费 $3^1+3^2+3^1+3^1+3^1=21$ 单位能量，并在第 $5$ 天结束时制作了 $11$ 个测试用例。\n- $i=2$：Bessie 可以遵循上面的策略，确保在第 $5$ 天结束时制作了 $11$ 个测试用例，而这将自动满足第二个需求。\n- $i=3$：如果 Bessie 在前 $10$ 天分别制作 $[2,3,2,2,2,0,1,1,1,1]$ 个测试用例，她将花费 $25$ 单位能量并满足所有需求。可以证明她无法花费更少的能量。\n- $i=4$：如果 Bessie 在前 $10$ 天每一天制作 $3$ 个测试用例，她将花费 $3^2\\cdot 10=90$ 单位能量并满足所有需求。\n\n对于每一个 $i$，可以证明 Bessie 无法花费更少的能量满足前 $i$ 个需求。\n\n### 测试点性质\n\n- 测试点 $4-5$：$D\\le 100$，且对于所有 $i$，$m_i\\le 100$。\n- 测试点 $6-8$：$D\\le 3000$。\n- 测试点 $9-20$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Lazy Cow P", "background": null, "description": "Bessie is hard at work preparing test cases for the USA Cowmputing Olympiad February contest. Each minute, she can choose to not prepare any tests, expending no energy; or expend $3^{a-1}$ energy preparing $a$ test cases, for some positive integer $a$.  \n\nFarmer John has $D$ ($1\\le D\\le 2\\cdot 10^5$) demands. For the $i$th demand, he tells Bessie that within the first $m_i$ minutes, she needs to have prepared  at least $b_i$ test cases in total ($1\\le m_i\\le 10^6, 1 \\leq b_i \\leq 10^{12}$).  \n\nLet $e_i$ be the smallest amount of energy Bessie needs to spend to satisfy the first $i$ demands. Print $e_1,\\dots,e_D$ modulo $10^9+7$.", "inputFormat": "The first line contains $D$. The $i$th of the next $D$ lines contains two space-separated integers $m_i$ and $b_i$.", "outputFormat": "Output $D$ lines, the $i$th containing $e_i \\text{ mod } 10^9+7$.", "hint": "##### For Sample 1:\nFor the first test case,  \n-  $i=1$: If Bessie creates $[2, 3, 2, 2, 2]$ test cases on the first $5$ days, respectively, she would have expended $3^1 + 3^2 + 3^1 + 3^1 + 3^1 = 21$ units of energy and created $11$ test cases by the end of day $5$. \n-  $i=2$: Bessie can follow the above strategy to ensure $11$ test cases are created by the end of day $5$, and this will automatically satisfy the second demand.\n-  $i=3$: If Bessie creates $[2, 3, 2, 2, 2, 0, 1, 1, 1, 1]$ test cases on the first $10$ days, respectively, she would have expended $25$ units of energy and satisfied all demands. It can be shown that she cannot expend less energy. \n- $i=4$: If Bessie creates 3 test cases on each of the first $10$ days she would have expended $3^{2}\\cdot 10 = 90$ units of energy and satisfied all demands.  For each $i$, it can be shown that Bessie cannot satisfy the first $i$ demands using less energy.  \n#### SCORING:\n- Inputs 4-5: $D\\le 100$ and $m_i \\le 100$ for all $i$ \n- Inputs 6-8: $D\\le 3000$\n- Inputs 9-20: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Lazy Cow P", "background": "", "description": "Bessie 正在努力为美国件算机奥林匹克二月的竞赛准备测试用例。每一分钟，她可以选择不准备测试用例，不花费能量；或者对于某个正整数 $a$，花费 $3^{a−1}$ 能量准备 $a$ 个测试用例。\n\nFarmer John 有 $D$（$1\\le D\\le 2\\cdot 10^5$）个需求。对于第 $i$ 个需求，他告诉 Bessie，在前 $m_i$ 分钟内她总共需要准备至少 $b_i$ 个测试用例（$1\\le m_i\\le 10^6,1\\le b_i\\le 10^{12}$）。\n\n令 $e_i$ 为满足前 $i$ 个需求 Bessie 最小需要花费的能量。输出 $e_1,\\ldots,e_D$ 模 $10^9+7$ 的余数。 ", "inputFormat": "输入的第一行包含 $D$。以下 $D$ 行，第 $i$ 行包含两个空格分隔的整数 $m_i$ 和 $b_i$。", "outputFormat": "输出 $D$ 行，第 $i$ 行包含 $e_i \\bmod 10^9+7$。 ", "hint": "### 样例解释 1\n\n对于第一个测试用例，\n\n- $i=1$：如果 Bessie 在前 $5$ 天分别制作 $[2,3,2,2,2]$ 个测试用例，她将花费 $3^1+3^2+3^1+3^1+3^1=21$ 单位能量，并在第 $5$ 天结束时制作了 $11$ 个测试用例。\n- $i=2$：Bessie 可以遵循上面的策略，确保在第 $5$ 天结束时制作了 $11$ 个测试用例，而这将自动满足第二个需求。\n- $i=3$：如果 Bessie 在前 $10$ 天分别制作 $[2,3,2,2,2,0,1,1,1,1]$ 个测试用例，她将花费 $25$ 单位能量并满足所有需求。可以证明她无法花费更少的能量。\n- $i=4$：如果 Bessie 在前 $10$ 天每一天制作 $3$ 个测试用例，她将花费 $3^2\\cdot 10=90$ 单位能量并满足所有需求。\n\n对于每一个 $i$，可以证明 Bessie 无法花费更少的能量满足前 $i$ 个需求。\n\n### 测试点性质\n\n- 测试点 $4-5$：$D\\le 100$，且对于所有 $i$，$m_i\\le 100$。\n- 测试点 $6-8$：$D\\le 3000$。\n- 测试点 $9-20$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10197", "type": "P", "difficulty": 7, "samples": [["3 0\n1 100 10", "110"], ["3 1\n1 100 10\n2", "200"], ["4 2\n1 3 2 4\n2 3", "9"], ["3 1\n1 100 10\n3", "110"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "USACO", "2024", "O2优化", "区间 DP"], "title": "[USACO24FEB] Minimum Sum of Maximums P", "background": "", "description": "Bessie 有一行 $N$（$2\\le N\\le 300$）块瓷砖，依次具有丑陋度 $a_1,a_2,\\ldots,a_N$（$1\\le a_i\\le 10^6$）。其中 $K$（$0\\le K\\le \\min(N,6)$）块瓷砖卡住了；具体地，索引为 $x_1,\\ldots,x_K$（$1\\le x_1<x_2<\\cdots<x_K\\le N$）的瓷砖。\n\nBessie 想要最小化瓷砖的总丑陋度，其中总丑陋度定义为每对相邻瓷砖的最大丑陋度之和；即 $\\sum\\limits^{N−1}_{i=1}\\max(a_i,a_{i+1})$。她可以任意次执行以下操作：选择两块均未卡住的瓷砖，并交换它们。\n\n求 Bessie 以最优方案执行操作可以达到的最小总丑陋度。 ", "inputFormat": "输入的第一行包含 $N$ 和 $K$。\n\n第二行包含 $a_1,\\ldots,a_N$。\n\n第三行包含 $K$ 个索引 $x_1,\\ldots,x_K$。 ", "outputFormat": "输出最小可能的总丑陋度。 ", "hint": "### 样例解释 1\n\nBessie 可以交换第二块和第三块瓷砖，使得 $a=[1,10,100]$，达到总丑陋度 $\\max(1,10)+\\max(10,100)=110$。或者，她也可以交换第一块和第二块瓷砖，使得 $a=[100,1,10]$，同样达到总丑陋度 $\\max(100,1)+\\max(1,10)=110$。\n\n### 样例解释 2\n\n瓷砖的初始总丑陋度为 $\\max(1,100)+\\max(100,10)=200$。Bessie 只允许交换第一块和第三块瓷砖，这并不能使她能够减少总丑陋度。\n\n### 测试点性质\n\n- 测试点 $5$：$K=0$。\n- 测试点 $6-7$：$K=1$。\n- 测试点 $8-12$：$N\\le 50$。\n- 测试点 $13-24$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Minimum Sum of Maximums P", "background": null, "description": "Bessie has $N$ ($2\\le N\\le 300$) tiles in a line with ugliness values  $a_1, a_2, \\dots, a_N$ in that order ($1\\le a_i\\le 10^6$). $K$ ($0\\le K\\le \\min(N,6)$) of the tiles are stuck in place; specifically, those at indices $x_1,\\dots, x_K$ ($1\\le x_1 < x_2<\\dots< x_K\\le N$).   \n\nBessie wants to minimize the total ugliness of the tiles, which is defined as the sum of the maximum ugliness over every consecutive pair of tiles; that is, $\\sum_{i=1}^{N-1}\\max(a_i,a_{i+1})$. She is allowed to perform the following operation any number of times: choose two tiles, neither of which are stuck in place, and swap them.   \n\nDetermine the minimum possible total ugliness Bessie can achieve if she performs operations optimally.", "inputFormat": "The first line contains $N$ and $K$.  \n\nThe next line contains $a_1,\\dots,a_N$.  \n\nThe next line contains the $K$ indices $x_1,\\dots,x_K$.", "outputFormat": "Output the minimum possible total ugliness.", "hint": "##### For Sample 1:\nBessie can swap the second and third tiles so that $a=[1,10,100]$, achieving total ugliness $\\max(1,10)+\\max(10,100)=110$. Alternatively, she could swap the first and second tiles so that $a=[100,1,10]$, also achieving  total ugliness $\\max(100,1)+\\max(1,10)=110$.  \n\n##### For Sample 2:\nBessie could swap the first and second tiles so that $a=[100,1,10]$, achieving  total ugliness $\\max(100,1)+\\max(1,10)=110$.  \n\n##### For Sample 3:\nThe initial total ugliness of the tiles is $\\max(1,100)+\\max(100,10)=200$. Bessie is only allowed to swap the first and third tiles, which does not allow her to reduce the total ugliness.  \n\n#### SCORING:\n- Input 5: $K=0$\n- Inputs 6-7: $K=1$\n- Inputs 8-12: $N\\le 50$\n- Inputs 13-24: No additional constraints", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Minimum Sum of Maximums P", "background": "", "description": "Bessie 有一行 $N$（$2\\le N\\le 300$）块瓷砖，依次具有丑陋度 $a_1,a_2,\\ldots,a_N$（$1\\le a_i\\le 10^6$）。其中 $K$（$0\\le K\\le \\min(N,6)$）块瓷砖卡住了；具体地，索引为 $x_1,\\ldots,x_K$（$1\\le x_1<x_2<\\cdots<x_K\\le N$）的瓷砖。\n\nBessie 想要最小化瓷砖的总丑陋度，其中总丑陋度定义为每对相邻瓷砖的最大丑陋度之和；即 $\\sum\\limits^{N−1}_{i=1}\\max(a_i,a_{i+1})$。她可以任意次执行以下操作：选择两块均未卡住的瓷砖，并交换它们。\n\n求 Bessie 以最优方案执行操作可以达到的最小总丑陋度。 ", "inputFormat": "输入的第一行包含 $N$ 和 $K$。\n\n第二行包含 $a_1,\\ldots,a_N$。\n\n第三行包含 $K$ 个索引 $x_1,\\ldots,x_K$。 ", "outputFormat": "输出最小可能的总丑陋度。 ", "hint": "### 样例解释 1\n\nBessie 可以交换第二块和第三块瓷砖，使得 $a=[1,10,100]$，达到总丑陋度 $\\max(1,10)+\\max(10,100)=110$。或者，她也可以交换第一块和第二块瓷砖，使得 $a=[100,1,10]$，同样达到总丑陋度 $\\max(100,1)+\\max(1,10)=110$。\n\n### 样例解释 2\n\n瓷砖的初始总丑陋度为 $\\max(1,100)+\\max(100,10)=200$。Bessie 只允许交换第一块和第三块瓷砖，这并不能使她能够减少总丑陋度。\n\n### 测试点性质\n\n- 测试点 $5$：$K=0$。\n- 测试点 $6-7$：$K=1$。\n- 测试点 $8-12$：$N\\le 50$。\n- 测试点 $13-24$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10198", "type": "P", "difficulty": 7, "samples": [["5 4\n1 2 1 2 8\n2\n3 4\n4\n2 3\n5 5 5 5 5 1 5 5\n2 4 3\n3 3 6\n5 3 2\n5 3 7", "2\n2\n5\n4"], ["5 5\n1 2 1 2 8\n2\n3 4\n4\n2 3\n5 5 5 5 5 1 5 5\n2 4 3\n3 2 6\n5 3 2\n5 3 7\n5 3 1000000000000000000", "2\n3\n5\n4\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["倍增", "USACO", "2024", "O2优化"], "title": "[USACO24FEB] Infinite Adventure P", "background": "**注意：本题的内存限制为 512MB，通常限制的 2 倍。**", "description": "Bessie 正在计划一次在 $N$（$1\\le N\\le 10^5$）个城市的大陆上的无尽冒险。每个城市 $i$ 都有一个传送门以及循环周期 $T_i$。所有 $T_i$ 均为 $2$ 的幂，且 $T_1+\\cdots+T_N\\le 10^5$。如果你在日期 $t$ 进入城市 $i$ 的传送门，那么你会立即从城市 $c_{i,t\\bmod T_i}$ 的传送门出来。\n\nBessie 的旅行有 $Q$（$1\\le Q\\le 5\\cdot 10^4$）个计划，每个计划由一个元组 $(v,t,\\Delta)$ 组成。在每个计划中，她将于日期 $t$ 从城市 $v$ 出发。然后，她将执行以下操作 $\\Delta$ 次：她将进入当前城市的传送门，然后等待一天。对于她的每一个计划，她想要知道她最终会在哪个城市。", "inputFormat": "输入的第一行包含两个空格分隔的整数：结点的数量 $N$，以及询问的数量 $Q$。\n\n第二行包含 $N$ 个空格分隔的整数：$T_1,T_2,\\ldots,T_N$（$1\\le T_i$，$T_i$ 是 $2$ 的幂，且 $T_1+\\cdots+T_N\\le 10^5$）。\n\n对于 $i=1,2,\\ldots,N$，第 $i+2$ 行包含 $T_i$ 个空格分隔的正整数，为 $c_{i,0},\\ldots,c_{i,T_i-1}$（$1\\le c_{i,t}\\le N$）。\n\n对于 $j=1,2,…,Q$，第 $j+N+2$ 行包含三个空格分隔的正整数 $v_j,t_j,\\Delta_j$（$1\\le v_j\\le N$，$1\\le t_j\\le 10^{18}$，且 $1\\le \\Delta_j\\le 10^{18}$），表示第 $j$ 个询问。", "outputFormat": "输出 $Q$ 行。第 $j$ 行包含第 $j$ 个询问的答案。", "hint": "### 样例解释 1\n\nBessie 的前三次冒险会如下进行：\n\n- 在第一次冒险中，她于时刻 $4$ 从城市 $2$ 出发，于时刻 $5$ 到达城市 $3$，于时刻 $6$ 到达城市 $4$，于时刻 $7$ 到达城市 $2$。\n- 在第二次冒险中，她于时刻 $3$ 从城市 $3$ 出发，于时刻 $4$ 到达城市 $4$，于时刻 $5$ 到达城市 $2$，于时刻 $6$ 到达城市 $4$，于时刻 $7$ 到达城市 $2$，于时刻 $8$ 到达城市 $4$，于时刻 $9$ 到达城市 $2$。\n- 在第三次冒险中，她于时刻 $3$ 从城市 $5$ 出发，于时刻 $4$ 到达城市 $5$，于时刻 $5$ 到达城市 $5$。\n\n### 测试点性质\n\n- 测试点 $3$：$\\Delta_j\\le 2\\cdot 10^2$。\n- 测试点 $4-5$：$N,\\sum T_j\\le 2\\cdot 10^3$。\n- 测试点 $6-8$：$N,\\sum T_j\\le 10^4$。\n- 测试点 $9-18$：没有额外限制。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO24FEB] Infinite Adventure P", "background": null, "description": "****Note: The memory limit for this problem is 512MB, twice the default.****\n\nBessie is planning an infinite adventure in a land with $N$ ($1\\leq N \\leq 10^5$) cities. In each city $i$, there is a portal, as well as a cycling time $T_i$.  All $T_i$'s are powers of $2$, and $T_1 + \\cdots + T_N \\leq 10^5$. If you enter city $i$'s portal on day $t$, then you instantly exit the portal in city $c_{i, t\\bmod{T_i}}$.\n\nBessie has $Q$ ($1\\leq Q \\leq 5\\cdot 10^4$) plans for her trip, each of which consists of a tuple $(v, t, \\Delta)$. In each plan, she will start in city $v$ on day $t$. She will then do the following $\\Delta$ times: She will follow the portal in her current city, then wait one day. For each of her plans, she wants to know what city she will end up in.", "inputFormat": "The first line contains two space-separated integers: $N$, the number of nodes, and $Q$, the number of queries.\n\nThe second line contains $N$ space-separated integers: $T_1, T_2, \\ldots, T_N$ ($1\\leq T_i$, $T_i$ is a power of $2$, and $T_1 + \\cdots + T_N \\leq 10^5$).\n\nFor $i = 1, 2, \\ldots, N$, line $i+2$ contains $T_i$ space-separated positive integers, namely $c_{i, 0}, \\ldots, c_{i, T_i-1}$ ($1\\leq c_{i, t} \\leq N$).\n\nFor $j = 1, 2, \\ldots, Q$, line $j+N+2$ contains three space-separated positive integers, $v_j, t_j, \\Delta_j$ ($1\\leq v_j \\leq N$, $1\\leq t_j \\leq 10^{18}$, and $1\\leq \\Delta_j \\leq 10^{18}$) representing the $j$th query.", "outputFormat": "Print $Q$ lines. The $j$th line must contain the answer to the $j$th query.", "hint": "##### For Sample 1:\nBessie's first three adventures proceed as follows: \n-  In the first adventure, she goes from city $2$ at time $4$ to city $3$ at time $5$, to city $4$ at time $6$, to city $2$ at time $7$. \n-  In the second adventure, she goes from city $3$ at time $3$ to city $4$ at time $4$, to city $2$ at time $5$, to city $4 $ at time $6$, to city $2$ at time $7$, to city $4$ at time $8$, to city $2$ at time $9$. \n-  In the third adventure, she goes from city $5$ at time $3$ to city $5$ at time $4$, to city $5$ at time $5$.   \n\n#### SCORING:\n\n- Input 3: $\\Delta_j \\leq 2\\cdot 10^2$.\n- Inputs 4-5: $N, \\sum T_j\\leq 2\\cdot 10^3$.\n- Inputs 6-8: $N, \\sum T_j\\leq 10^4$.\n- Inputs 9-18: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO24FEB] Infinite Adventure P", "background": "**注意：本题的内存限制为 512MB，通常限制的 2 倍。**", "description": "Bessie 正在计划一次在 $N$（$1\\le N\\le 10^5$）个城市的大陆上的无尽冒险。每个城市 $i$ 都有一个传送门以及循环周期 $T_i$。所有 $T_i$ 均为 $2$ 的幂，且 $T_1+\\cdots+T_N\\le 10^5$。如果你在日期 $t$ 进入城市 $i$ 的传送门，那么你会立即从城市 $c_{i,t\\bmod T_i}$ 的传送门出来。\n\nBessie 的旅行有 $Q$（$1\\le Q\\le 5\\cdot 10^4$）个计划，每个计划由一个元组 $(v,t,\\Delta)$ 组成。在每个计划中，她将于日期 $t$ 从城市 $v$ 出发。然后，她将执行以下操作 $\\Delta$ 次：她将进入当前城市的传送门，然后等待一天。对于她的每一个计划，她想要知道她最终会在哪个城市。", "inputFormat": "输入的第一行包含两个空格分隔的整数：结点的数量 $N$，以及询问的数量 $Q$。\n\n第二行包含 $N$ 个空格分隔的整数：$T_1,T_2,\\ldots,T_N$（$1\\le T_i$，$T_i$ 是 $2$ 的幂，且 $T_1+\\cdots+T_N\\le 10^5$）。\n\n对于 $i=1,2,\\ldots,N$，第 $i+2$ 行包含 $T_i$ 个空格分隔的正整数，为 $c_{i,0},\\ldots,c_{i,T_i-1}$（$1\\le c_{i,t}\\le N$）。\n\n对于 $j=1,2,…,Q$，第 $j+N+2$ 行包含三个空格分隔的正整数 $v_j,t_j,\\Delta_j$（$1\\le v_j\\le N$，$1\\le t_j\\le 10^{18}$，且 $1\\le \\Delta_j\\le 10^{18}$），表示第 $j$ 个询问。", "outputFormat": "输出 $Q$ 行。第 $j$ 行包含第 $j$ 个询问的答案。", "hint": "### 样例解释 1\n\nBessie 的前三次冒险会如下进行：\n\n- 在第一次冒险中，她于时刻 $4$ 从城市 $2$ 出发，于时刻 $5$ 到达城市 $3$，于时刻 $6$ 到达城市 $4$，于时刻 $7$ 到达城市 $2$。\n- 在第二次冒险中，她于时刻 $3$ 从城市 $3$ 出发，于时刻 $4$ 到达城市 $4$，于时刻 $5$ 到达城市 $2$，于时刻 $6$ 到达城市 $4$，于时刻 $7$ 到达城市 $2$，于时刻 $8$ 到达城市 $4$，于时刻 $9$ 到达城市 $2$。\n- 在第三次冒险中，她于时刻 $3$ 从城市 $5$ 出发，于时刻 $4$ 到达城市 $5$，于时刻 $5$ 到达城市 $5$。\n\n### 测试点性质\n\n- 测试点 $3$：$\\Delta_j\\le 2\\cdot 10^2$。\n- 测试点 $4-5$：$N,\\sum T_j\\le 2\\cdot 10^3$。\n- 测试点 $6-8$：$N,\\sum T_j\\le 10^4$。\n- 测试点 $9-18$：没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P10199", "type": "P", "difficulty": 5, "samples": [["4 10 1\n4 2 6 20111 6 11900\n2 4 2 10786 13 23576\n2 1 3 5274 16 13903\n2 1 2 17162 1 26120\n1 2 1 42040 11 16065\n2 1 4 23690 18 26541\n2 3 9 18977 2 26795\n4 1 4 51880 1 25060\n1 4 13 17776 3 28236\n1 4 1 19112 1 10131", "26795"], ["见选手目录下的 wind/wind2.in 与 wind/wind2.ans。", ""], ["见选手目录下的 wind/wind3.in 与 wind/wind3.ans。", ""], ["见选手目录下的 wind/wind4.in 与 wind/wind4.ans。", ""]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "湖北"], "title": "[湖北省选模拟 2024] 时与风 / wind", "background": "风带来故事的种子，时间使之神话。", "description": "你在 $N$ 个锚点间，沿着 $M$ 条有向航道，使用风之翼进行飞行。锚点依次编号为 $1,2,\\cdots,N$，有向航道依次编号为 $1,2,\\cdots,M$。第 $i$ 条航道的出发锚点为 $u_i$，到达锚点为 $v_i$。\n\n由于巴巴斯托与时间存在神秘的联系，第 $i$ 条航道将在时刻 $O_i$ 开启，在时刻 $C_i$ **后**关闭。**也就是说，对于任意的 $O_i \\le t \\le C_i$，你可以在时刻 $t$ 由锚点 $u_i$ 进入航道 $i$。**进入航道后，空间上，你将直接到达锚点 $v_i$，时间上，时间将**等概率**的变化为 $[L_i,R_i]$ 中的一个实数对应的时刻。**注意到达一个锚点后，你必须在同一时刻立刻进入下一段航道，否则你必须在此结束飞行。**\n\n你将从锚点 $S$ 出发，尝试访问锚点 $i(1\\le i\\le N)$，你需要对于锚点 $i$ 确定一条路径 $E_1,E_2,E_3,\\cdots,E_k$，其中 $E_x(1\\le x\\le k)$ 表示一条航道。要求 $E_1$ 从锚点 $S$ 出发，$E_k$ 到达锚点 $i$，且对于 $1\\le j<k$，满足 $E_j$ 的到达锚点与 $E_{j+1}$ 的出发锚点相同。一条路径是**稳定路径**，当且仅当无论每次通过航道后时间如何变化，都可以走完整条路径。一条**稳定路径的到达时间**是通过路径前往锚点 $i$ 时，**最晚的**可能到达锚点 $i$ 的时刻。访问**锚点 $i$ 的稳定到达时间 $T_i(i \\neq S)$** 是所有到达 $i$ 的稳定路径中到达时间的**最小值**。你可以在任意非负时刻出发。**如果不存在访问锚点 $i$ 的稳定路径或 $i=S$，则 $T_i=0$。**\n\n请你求出 $T_i(1\\le i\\le N)$ 的最大值。", "inputFormat": "输入共 $M+1$ 行。\n\n输入的第一行为三个整数 $N,M,S$，分别表示锚点数、航道数和起点锚点。\n\n接下来 $M$ 行，每行包含六个整数 $u_i,v_i,O_i,C_i,L_i,R_i$，描述了第 $i$ 条航道的有关信息，变量具体含义见题目描述部分。", "outputFormat": "输出一行一个整数，表示 $T_i$ 的最大值。", "hint": "### 样例解释 1\n\n对于锚点 $1$，显然有 $T_1=0$。\n\n对于锚点 $2$，沿路径 $1 \\rightarrow 2$ ，$T_2=16065$。\n\n对于锚点 $3$，沿路径 $1 \\rightarrow 2 \\rightarrow 3$ ，$T_3=26795$。\n\n对于锚点 $4$，沿路径 $1 \\rightarrow 4$ ，$T_4 = 10131$。\n\n综上所述，答案 $\\max T_i=T_3=26795$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le N,M \\le 5\\times 10^5$，$1 \\le O_i,L_i \\le 20$，$1 \\le O_i \\le C_i \\le 10^9$，$1 \\le L_i \\le R_i \\le 10^9$，$1\\le S \\le N$。\n\n| 测试点编号 | $N\\le$ | $M\\le$ | $C_i,R_i\\le$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1\\sim 4$ | $20$ | $20$ | $10^9$ | 无 |\n| $5\\sim 8$ | $10^5$ | $10^3$ | $10^9$| 无 |\n| $9\\sim 10$ | $5\\times 10^5$ | $5\\times 10^5$ | $10^9$ | A |\n| $11\\sim 12$ | $10^5$ | $10^5$ | $20$ | 无 |\n| $13\\sim 14$ | $5\\times 10^5$ | $5\\times 10^5$ | $10^3$ | 无 |\n| $15\\sim 20$ | $5\\times 10^5$ | $5\\times 10^5$ | $10^9$ | 无 |\n\n\n特殊性质 A：一个锚点连接的航道数不超过 $100$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[湖北省选模拟 2024] 时与风 / wind", "background": "风带来故事的种子，时间使之神话。", "description": "你在 $N$ 个锚点间，沿着 $M$ 条有向航道，使用风之翼进行飞行。锚点依次编号为 $1,2,\\cdots,N$，有向航道依次编号为 $1,2,\\cdots,M$。第 $i$ 条航道的出发锚点为 $u_i$，到达锚点为 $v_i$。\n\n由于巴巴斯托与时间存在神秘的联系，第 $i$ 条航道将在时刻 $O_i$ 开启，在时刻 $C_i$ **后**关闭。**也就是说，对于任意的 $O_i \\le t \\le C_i$，你可以在时刻 $t$ 由锚点 $u_i$ 进入航道 $i$。**进入航道后，空间上，你将直接到达锚点 $v_i$，时间上，时间将**等概率**的变化为 $[L_i,R_i]$ 中的一个实数对应的时刻。**注意到达一个锚点后，你必须在同一时刻立刻进入下一段航道，否则你必须在此结束飞行。**\n\n你将从锚点 $S$ 出发，尝试访问锚点 $i(1\\le i\\le N)$，你需要对于锚点 $i$ 确定一条路径 $E_1,E_2,E_3,\\cdots,E_k$，其中 $E_x(1\\le x\\le k)$ 表示一条航道。要求 $E_1$ 从锚点 $S$ 出发，$E_k$ 到达锚点 $i$，且对于 $1\\le j<k$，满足 $E_j$ 的到达锚点与 $E_{j+1}$ 的出发锚点相同。一条路径是**稳定路径**，当且仅当无论每次通过航道后时间如何变化，都可以走完整条路径。一条**稳定路径的到达时间**是通过路径前往锚点 $i$ 时，**最晚的**可能到达锚点 $i$ 的时刻。访问**锚点 $i$ 的稳定到达时间 $T_i(i \\neq S)$** 是所有到达 $i$ 的稳定路径中到达时间的**最小值**。你可以在任意非负时刻出发。**如果不存在访问锚点 $i$ 的稳定路径或 $i=S$，则 $T_i=0$。**\n\n请你求出 $T_i(1\\le i\\le N)$ 的最大值。", "inputFormat": "输入共 $M+1$ 行。\n\n输入的第一行为三个整数 $N,M,S$，分别表示锚点数、航道数和起点锚点。\n\n接下来 $M$ 行，每行包含六个整数 $u_i,v_i,O_i,C_i,L_i,R_i$，描述了第 $i$ 条航道的有关信息，变量具体含义见题目描述部分。", "outputFormat": "输出一行一个整数，表示 $T_i$ 的最大值。", "hint": "### 样例解释 1\n\n对于锚点 $1$，显然有 $T_1=0$。\n\n对于锚点 $2$，沿路径 $1 \\rightarrow 2$ ，$T_2=16065$。\n\n对于锚点 $3$，沿路径 $1 \\rightarrow 2 \\rightarrow 3$ ，$T_3=26795$。\n\n对于锚点 $4$，沿路径 $1 \\rightarrow 4$ ，$T_4 = 10131$。\n\n综上所述，答案 $\\max T_i=T_3=26795$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le N,M \\le 5\\times 10^5$，$1 \\le O_i,L_i \\le 20$，$1 \\le O_i \\le C_i \\le 10^9$，$1 \\le L_i \\le R_i \\le 10^9$，$1\\le S \\le N$。\n\n| 测试点编号 | $N\\le$ | $M\\le$ | $C_i,R_i\\le$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1\\sim 4$ | $20$ | $20$ | $10^9$ | 无 |\n| $5\\sim 8$ | $10^5$ | $10^3$ | $10^9$| 无 |\n| $9\\sim 10$ | $5\\times 10^5$ | $5\\times 10^5$ | $10^9$ | A |\n| $11\\sim 12$ | $10^5$ | $10^5$ | $20$ | 无 |\n| $13\\sim 14$ | $5\\times 10^5$ | $5\\times 10^5$ | $10^3$ | 无 |\n| $15\\sim 20$ | $5\\times 10^5$ | $5\\times 10^5$ | $10^9$ | 无 |\n\n\n特殊性质 A：一个锚点连接的航道数不超过 $100$。", "locale": "zh-CN"}}}
{"pid": "P10200", "type": "P", "difficulty": 6, "samples": [["2 10 10\n1 2", "2"], ["4 2 5\n5 3 1 4", "5"], ["见选手目录下的 sabzeruz/sabzeruz3.in 与 sabzeruz/sabzeruz3.ans。", "该样例符合测试点 9 ∼ 11 的限制。"], ["见选手目录下的 sabzeruz/sabzeruz4.in 与 sabzeruz/sabzeruz4.ans。", "该样例符合测试点 12 ∼ 15 的限制。"], ["见选手目录下的 sabzeruz/sabzeruz5.in 与 sabzeruz/sabzeruz5.ans。", ""]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "湖北"], "title": "[湖北省选模拟 2024] 花神诞日 / sabzeruz", "background": "传说，之所以这个日子会叫做「花神诞日」，其实最早是「花神祝诞」的意思。\n\n在很久很久以前，有一次树王大人过生日，她的朋友们举办了宴席为她祝寿。\n\n宴席上，几位神明大人都喝醉了，其中一位便乘兴弹奏起了乐器，于是树王大人唱歌，花神大人就跳起舞来。\n\n在花神大人起舞时，她踏过的草地上，长出了无数美丽的帕蒂沙兰……\n\n啊，若是时间能永驻此刻就好了。", "description": "你正在为花神诞日准备宴席。你一共有 $N$ 种食材，依次编号为 $1,2,\\cdots, N$，第 $i$ 种食材的味道为 $a_i$，任意两种食材的味道都不相同。你希望用这 $N$ 种食材做两道菜，每种食材必须被在**恰好**一道菜中使用。每道菜至少使用一种食材。\n\n同一道菜中不同食材的味道会**两两发生反应**。食材 $i$ 与食材 $j$ 反应，将产生 $a_i \\oplus a_j$ 的味道，其中 $\\oplus$ 表示异或运算。一道菜最终的味道为**两两反应产生的味道的最小值**。例如，一道菜使用了味道分别为 $2,3,4$ 的三种食材，食材将会两两反应产生 $1(2 \\oplus 3)$，$6(2\\oplus 4)$，$7(3\\oplus 4)$ 三种味道，这道菜的味道为 $\\min(1,6,7)=1$。\n\n本真的味道最为美味。**如果一道菜只使用了一种食材，这道菜的味道为 $+\\infty$。**\n\n你希望第一道菜的味道不低于 $k_1$，第二道菜的味道不低于 $k_2$。请问，你一共有多少种做菜的方案？\n\n**请注意：相同集合的食材，分别作为第一道菜与第二道菜是两种不同的方案。** 例如，第一道菜使用食材 $1,2,3$，第二道菜使用食材 $4,5$，与第一道菜使用食材 $4,5$，第二道菜使用食材 $1,2,3$ 是两种不同的方案。\n\n由于答案可能很大，你只需要输出答案对 $10^9+7$ 取模的值。", "inputFormat": "输入共两行。\n\n输入的第一行为三个正整数 $N,k_1,k_2$，分别表示食材的种类数、第一道菜与第二道菜要求的味道。\n\n输入的第二行包含 $N$ 个正整数 $a_1,a_2,\\cdots,a_N$，$a_i$ 表示第 $i$ 种食材的味道。", "outputFormat": "输出一行一个整数，表示做菜的方案数对 $10^9+7$ 取模的结果。", "hint": "### 样例解释 2\n\n做菜的五种方式列举如下：\n\n- 第一道菜使用食材 $1,2,3$，第二道菜使用食材 $4$。\n- 第一道菜使用食材 $1,2$，第二道菜使用食材 $3,4$。\n- 第一道菜使用食材 $1,3$，第二道菜使用食材 $2,4$。\n- 第一道菜使用食材 $2,3,4$，第二道菜使用食材 $1$。\n- 第一道菜使用食材 $3,4$，第二道菜使用食材 $1,2$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le N \\le 2\\times 10^5$，$1 \\le k_1,k_2,a_i <2^{60}$。对于任意的 $1 \\le i<j \\le N$，有 $a_i \\neq a_j$。\n\n| 测试点编号 | $N\\le$ | 特殊性质 |\n| :--:|:--:|:--:|\n| $1$ | $18$ | 无 |\n| $2\\sim 3$ | $5\\times 10^3$ | A |\n| $4\\sim 8$ | $5\\times 10^3$ | 无 |\n| $9\\sim 11$ | $2\\times 10^5$ | A |\n| $12\\sim 15$ | $2\\times 10^5$ | B |\n| $16\\sim 25$ | $2\\times 10^5$ | 无 |\n\n特殊性质 A：保证 $k_1=k_2$。\n\n特殊性质 B：保证 $k_1=1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[湖北省选模拟 2024] 花神诞日 / sabzeruz", "background": "传说，之所以这个日子会叫做「花神诞日」，其实最早是「花神祝诞」的意思。\n\n在很久很久以前，有一次树王大人过生日，她的朋友们举办了宴席为她祝寿。\n\n宴席上，几位神明大人都喝醉了，其中一位便乘兴弹奏起了乐器，于是树王大人唱歌，花神大人就跳起舞来。\n\n在花神大人起舞时，她踏过的草地上，长出了无数美丽的帕蒂沙兰……\n\n啊，若是时间能永驻此刻就好了。", "description": "你正在为花神诞日准备宴席。你一共有 $N$ 种食材，依次编号为 $1,2,\\cdots, N$，第 $i$ 种食材的味道为 $a_i$，任意两种食材的味道都不相同。你希望用这 $N$ 种食材做两道菜，每种食材必须被在**恰好**一道菜中使用。每道菜至少使用一种食材。\n\n同一道菜中不同食材的味道会**两两发生反应**。食材 $i$ 与食材 $j$ 反应，将产生 $a_i \\oplus a_j$ 的味道，其中 $\\oplus$ 表示异或运算。一道菜最终的味道为**两两反应产生的味道的最小值**。例如，一道菜使用了味道分别为 $2,3,4$ 的三种食材，食材将会两两反应产生 $1(2 \\oplus 3)$，$6(2\\oplus 4)$，$7(3\\oplus 4)$ 三种味道，这道菜的味道为 $\\min(1,6,7)=1$。\n\n本真的味道最为美味。**如果一道菜只使用了一种食材，这道菜的味道为 $+\\infty$。**\n\n你希望第一道菜的味道不低于 $k_1$，第二道菜的味道不低于 $k_2$。请问，你一共有多少种做菜的方案？\n\n**请注意：相同集合的食材，分别作为第一道菜与第二道菜是两种不同的方案。** 例如，第一道菜使用食材 $1,2,3$，第二道菜使用食材 $4,5$，与第一道菜使用食材 $4,5$，第二道菜使用食材 $1,2,3$ 是两种不同的方案。\n\n由于答案可能很大，你只需要输出答案对 $10^9+7$ 取模的值。", "inputFormat": "输入共两行。\n\n输入的第一行为三个正整数 $N,k_1,k_2$，分别表示食材的种类数、第一道菜与第二道菜要求的味道。\n\n输入的第二行包含 $N$ 个正整数 $a_1,a_2,\\cdots,a_N$，$a_i$ 表示第 $i$ 种食材的味道。", "outputFormat": "输出一行一个整数，表示做菜的方案数对 $10^9+7$ 取模的结果。", "hint": "### 样例解释 2\n\n做菜的五种方式列举如下：\n\n- 第一道菜使用食材 $1,2,3$，第二道菜使用食材 $4$。\n- 第一道菜使用食材 $1,2$，第二道菜使用食材 $3,4$。\n- 第一道菜使用食材 $1,3$，第二道菜使用食材 $2,4$。\n- 第一道菜使用食材 $2,3,4$，第二道菜使用食材 $1$。\n- 第一道菜使用食材 $3,4$，第二道菜使用食材 $1,2$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le N \\le 2\\times 10^5$，$1 \\le k_1,k_2,a_i <2^{60}$。对于任意的 $1 \\le i<j \\le N$，有 $a_i \\neq a_j$。\n\n| 测试点编号 | $N\\le$ | 特殊性质 |\n| :--:|:--:|:--:|\n| $1$ | $18$ | 无 |\n| $2\\sim 3$ | $5\\times 10^3$ | A |\n| $4\\sim 8$ | $5\\times 10^3$ | 无 |\n| $9\\sim 11$ | $2\\times 10^5$ | A |\n| $12\\sim 15$ | $2\\times 10^5$ | B |\n| $16\\sim 25$ | $2\\times 10^5$ | 无 |\n\n特殊性质 A：保证 $k_1=k_2$。\n\n特殊性质 B：保证 $k_1=1$。", "locale": "zh-CN"}}}
{"pid": "P10201", "type": "P", "difficulty": 7, "samples": [["5 5 5 0\n19999\n14519\n99949\n9999#\n999#0\n2 1 1 3 4 114514\n2 5 1 3 1 99999\n2 1 1 5 5 0\n2 5 1 1 5 557047\n2 3 1 4 4 838871", "Yes\nYes\nNo\nYes\nYes"], ["见选手目录下的 eternity/eternity2.in 与 eternity/eternity2.ans。", "该样例符合测试点 9 ∼ 11 的限制。"], ["见选手目录下的 eternity/eternity3.in 与 eternity/eternity3.ans。", ""]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "湖北", "线段树分治"], "title": "[湖北省选模拟 2024] 永恒 / eternity", "background": "总有地上的生灵，敢于直面雷霆的威光。", "description": "稻妻的地图可以被划分为 $N$ 行 $M$ 列的网格，第 $i$ 行第 $j$ 列的区域用 $(i,j)$ 表示。曾经，每一块区域中都有一位神之眼拥有者，其元素力编号为 $c_{i,j}$（$0 \\le c_{i,j} \\le 9$）。\n\n雷电将军降下雷霆的威光，收缴了一部分神之眼。神之眼被收缴的区域，被称为**雷电封锁区**，其他区域称为**非雷电封锁区**。由于你反对眼狩令而遭到通缉，你不能进入**雷电封锁区**，也无法离开稻妻地图区域。\n\n你正在积蓄力量，你可以在**相邻的非雷电封锁区**自由移动。假设你现在在 $(i,j)$，你可以移动到 $(i+1,j),(i-1,j),(i,j+1),(i,j-1)$ 四个区域中的任意一个**非雷电封锁区**。在一次移动中，你积蓄的力量为，经过的所有区域的神之眼元素力编号**依次相连**，对 $1\\ 145\\ 141$ 取模的结果。例如，你经过的区域神之眼元素力编号依次为 $3,1,0,3,3,3,2,1$，那么你积蓄的力量为 $31033321 \\bmod 1145141 = 114514$。**请注意，你的一次移动可以经过相同的非雷电封锁区。重复经过相同的非雷电封锁区将重复积蓄力量。**\n\n常道恢宏，鸣神永恒。永恒的愿望终为南柯一梦，变化的趋势岂可阻挡。稻妻会随时间发生变化。在 $1\\sim Q$ 秒，每秒发生了一个事件，事件有如下两种：\n\n- `1 x y c`：若 $c$ 为 `#`，表示 $(x,y)$ 的神之眼已经**被收缴**，$(x,y)$ 为雷电封锁区；若 $c$ 为数字字符，则表示 $(x,y)$ 的神之眼拥有者重获元素力编号为 $c$ 的神之眼，或其神之眼元素力编号变化为 $c$，$(x,y)$ 为非雷电封锁区。\n\n- `2 sx sy tx ty v`：请判断是否存在由 $(sx,sy)$ 出发，到达 $(tx,ty)$ 的移动方式，使得你积蓄了恰好为 $v$ 的力量。保证 $(sx,sy)$ 与 $(tx,ty)$ 均为非雷电封锁区。\n\n请回答全部事件 2，保证至少有一次事件 2。", "inputFormat": "输入共 $N+Q+1$ 行。\n\n第一行为四个整数 $N,M,Q,id$，其中 $id$ 表示该测试点编号。\n\n接下来 $N$ 行，每行 $M$ 个字符，描述了稻妻的地图。若第 $i$ 行第 $j$ 个字符为 `#`，则表示 $(i,j)$ 是**雷电封锁区**；若第 $i$ 行第 $j$ 个字符为数字字符，则 $(i,j)$ 为**非雷电封锁区**，该数字字符描述了 $(i,j)$ 神之眼拥有者的神之眼元素力编号。\n\n接下来 $Q$ 行，依照时间顺序描述了每一秒的事件，描述格式如题目描述所示。", "outputFormat": "输出若干行，对于每一个事件 2 输出一行：\n\n- 若存在积蓄力量为 $v$ 的移动方式，输出 `Yes`；\n- 若不存在积蓄力量为 $v$ 的移动方式，输出 `No`。", "hint": "### 样例解释 1\n\n**请注意，全部样例输入中 $id$ 均为 $0$。**\n\n对于第一组询问，$(1,1)\\to (2,1)\\to (2,2)\\to (2,3)\\to (2,4)\\to (3,4)$。\n\n对于第二组询问，$(5,1)\\to (5,2)\\to (4,2)\\to (3,2)\\to (3,1)$。\n\n对于第三组询问，有雷电封锁区阻挡，显然无法到达。\n\n对于第四组询问，$(5,1)\\to (4,1)\\to (3,1)\\to (2,1)\\to (1,1)\\to (1,2)\\to (1,3)\\to (1,4)\\to (1,5)$，权值为 $999119999 \\bmod 1145141=557047$。\n\n对于第五组询问，$(3,1)\\to (4,1)\\to (4,2)\\to (4,3)\\to (4,4)\\to (4,3)\\to (4,4)$ ，权值为 $9999999\\bmod 1145141=838871$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le n,m \\le 500$，$1 \\le Q \\le 2\\times10^5$，$1 \\le x, sx, tx \\le N$，$1 \\le y,sy,ty \\le M$，$0 \\le v < 1145141$。输入的迷宫仅包含 `#` 和数字字符。\n\n| 测试点编号 | $N,M \\le$ | 特殊性质 |\n| :--: | :--: | :--: |\n| $1\\sim 2$ | $2$ | B |\n| $3\\sim 4$ | $500$ | A |\n| $5\\sim 6$ | $500$ | B,C |\n| $7\\sim 8$ | $500$ | C |\n| $9\\sim 11$ | $500$ | B,D |\n| $12\\sim 13$ | $500$ | D |\n| $14\\sim 17$ | $500$ | B |\n| $18\\sim 20$ | $500$ | 无 |\n\n特殊性质 A：对于每一个询问，不存在合法方案，或存在不超过 $5$ 步的方案。\n\n特殊性质 B：不存在操作 $1$。\n\n特殊性质 C：任何时候所有非雷电封锁区的格子，上面的数字是 $0$。\n\n特殊性质 D：任何时候所有非雷电封锁区的格子，上面的数字相同。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[湖北省选模拟 2024] 永恒 / eternity", "background": "总有地上的生灵，敢于直面雷霆的威光。", "description": "稻妻的地图可以被划分为 $N$ 行 $M$ 列的网格，第 $i$ 行第 $j$ 列的区域用 $(i,j)$ 表示。曾经，每一块区域中都有一位神之眼拥有者，其元素力编号为 $c_{i,j}$（$0 \\le c_{i,j} \\le 9$）。\n\n雷电将军降下雷霆的威光，收缴了一部分神之眼。神之眼被收缴的区域，被称为**雷电封锁区**，其他区域称为**非雷电封锁区**。由于你反对眼狩令而遭到通缉，你不能进入**雷电封锁区**，也无法离开稻妻地图区域。\n\n你正在积蓄力量，你可以在**相邻的非雷电封锁区**自由移动。假设你现在在 $(i,j)$，你可以移动到 $(i+1,j),(i-1,j),(i,j+1),(i,j-1)$ 四个区域中的任意一个**非雷电封锁区**。在一次移动中，你积蓄的力量为，经过的所有区域的神之眼元素力编号**依次相连**，对 $1\\ 145\\ 141$ 取模的结果。例如，你经过的区域神之眼元素力编号依次为 $3,1,0,3,3,3,2,1$，那么你积蓄的力量为 $31033321 \\bmod 1145141 = 114514$。**请注意，你的一次移动可以经过相同的非雷电封锁区。重复经过相同的非雷电封锁区将重复积蓄力量。**\n\n常道恢宏，鸣神永恒。永恒的愿望终为南柯一梦，变化的趋势岂可阻挡。稻妻会随时间发生变化。在 $1\\sim Q$ 秒，每秒发生了一个事件，事件有如下两种：\n\n- `1 x y c`：若 $c$ 为 `#`，表示 $(x,y)$ 的神之眼已经**被收缴**，$(x,y)$ 为雷电封锁区；若 $c$ 为数字字符，则表示 $(x,y)$ 的神之眼拥有者重获元素力编号为 $c$ 的神之眼，或其神之眼元素力编号变化为 $c$，$(x,y)$ 为非雷电封锁区。\n\n- `2 sx sy tx ty v`：请判断是否存在由 $(sx,sy)$ 出发，到达 $(tx,ty)$ 的移动方式，使得你积蓄了恰好为 $v$ 的力量。保证 $(sx,sy)$ 与 $(tx,ty)$ 均为非雷电封锁区。\n\n请回答全部事件 2，保证至少有一次事件 2。", "inputFormat": "输入共 $N+Q+1$ 行。\n\n第一行为四个整数 $N,M,Q,id$，其中 $id$ 表示该测试点编号。\n\n接下来 $N$ 行，每行 $M$ 个字符，描述了稻妻的地图。若第 $i$ 行第 $j$ 个字符为 `#`，则表示 $(i,j)$ 是**雷电封锁区**；若第 $i$ 行第 $j$ 个字符为数字字符，则 $(i,j)$ 为**非雷电封锁区**，该数字字符描述了 $(i,j)$ 神之眼拥有者的神之眼元素力编号。\n\n接下来 $Q$ 行，依照时间顺序描述了每一秒的事件，描述格式如题目描述所示。", "outputFormat": "输出若干行，对于每一个事件 2 输出一行：\n\n- 若存在积蓄力量为 $v$ 的移动方式，输出 `Yes`；\n- 若不存在积蓄力量为 $v$ 的移动方式，输出 `No`。", "hint": "### 样例解释 1\n\n**请注意，全部样例输入中 $id$ 均为 $0$。**\n\n对于第一组询问，$(1,1)\\to (2,1)\\to (2,2)\\to (2,3)\\to (2,4)\\to (3,4)$。\n\n对于第二组询问，$(5,1)\\to (5,2)\\to (4,2)\\to (3,2)\\to (3,1)$。\n\n对于第三组询问，有雷电封锁区阻挡，显然无法到达。\n\n对于第四组询问，$(5,1)\\to (4,1)\\to (3,1)\\to (2,1)\\to (1,1)\\to (1,2)\\to (1,3)\\to (1,4)\\to (1,5)$，权值为 $999119999 \\bmod 1145141=557047$。\n\n对于第五组询问，$(3,1)\\to (4,1)\\to (4,2)\\to (4,3)\\to (4,4)\\to (4,3)\\to (4,4)$ ，权值为 $9999999\\bmod 1145141=838871$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le n,m \\le 500$，$1 \\le Q \\le 2\\times10^5$，$1 \\le x, sx, tx \\le N$，$1 \\le y,sy,ty \\le M$，$0 \\le v < 1145141$。输入的迷宫仅包含 `#` 和数字字符。\n\n| 测试点编号 | $N,M \\le$ | 特殊性质 |\n| :--: | :--: | :--: |\n| $1\\sim 2$ | $2$ | B |\n| $3\\sim 4$ | $500$ | A |\n| $5\\sim 6$ | $500$ | B,C |\n| $7\\sim 8$ | $500$ | C |\n| $9\\sim 11$ | $500$ | B,D |\n| $12\\sim 13$ | $500$ | D |\n| $14\\sim 17$ | $500$ | B |\n| $18\\sim 20$ | $500$ | 无 |\n\n特殊性质 A：对于每一个询问，不存在合法方案，或存在不超过 $5$ 步的方案。\n\n特殊性质 B：不存在操作 $1$。\n\n特殊性质 C：任何时候所有非雷电封锁区的格子，上面的数字是 $0$。\n\n特殊性质 D：任何时候所有非雷电封锁区的格子，上面的数字相同。", "locale": "zh-CN"}}}
{"pid": "P10202", "type": "P", "difficulty": 6, "samples": [["1\n1", "1"], ["3\n3 3 1", "8"], ["5\n1 2 1 2 1\n", "165"], ["见选手目录下的 jade/jade4.in 与 jade/jade4.ans。", "该样例满足测试点 5 ∼ 8 的限制。"], ["见选手目录下的 jade/jade5.in 与 jade/jade5.ans。", "该样例满足测试点 9 ∼ 12 的限制。"], ["见选手目录下的 jade/jade6.in 与 jade/jade6.ans。", "该样例满足测试点 13 ∼ 16 的限制。"], ["见选手目录下的 jade/jade7.in 与 jade/jade7.ans。", ""]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "数学", "2024", "O2优化", "区间 DP", "湖北"], "title": "[湖北省选模拟 2024] 沉玉谷 / jade", "background": "倘若天下无神，这里便是人的国度。", "description": "你将主持一场祭祀，祭祀会使用到 $N$ 块排成一列的玉石，玉石从左至右依次编号为 $1,2,\\cdots,N$。玉石 $i$ 的颜色为 $a_i$。\n\n每一轮祭祀，你需要选择一段颜色相同的玉石 $a_l \\sim a_r(1\\le l \\le r\\le N\\le 50)$，并将它们沉入水中。本次祭祀的仙力值 $K$ 将变为 $10000\\cdot K+100\\cdot l+r$，$K$ 的初始值为 $0$。\n\n一段玉石被沉入水中后，右侧的玉石会向左移动。**同时，编号也会发生变化**，从左至右依次编号为 $1,2,\\cdots$。例如，共有 $7$ 块玉石，颜色依次为 $1,1,2,2,2,3,2$。一开始，颜色为 $3$ 的玉石编号为 $6$，在 $3\\sim 5$ 号玉石被沉入水中后，其编号将变为 $3$。\n\n当所有玉石被沉入水中，祭祀完成，此时的仙力值即为本次祭祀的仙力值。请问祭祀完成后，一共可能得到多少种不同的仙力值？\n\n由于答案可能很大，你只需要输出答案对 $10^9+7$ 取模的值。", "inputFormat": "输入共两行。\n\n输入的第一行为一个正整数 $N$，表示玉石的个数。\n\n输入的第二行为 $N$ 个正整数 $a_1,a_2,\\cdots,a_N$，其中 $a_i$ 表示第 $i$ 块玉石的颜色。", "outputFormat": "输出一行一个整数，表示不同仙力值的种数对 $10^9+7$ 取模的结果。", "hint": "### 样例解释 3\n\n这里列举两种可能得到的仙力值和得到的方式：\n\n1. $(1,\\underline{2},1,2,1) \\xrightarrow{K=202} (1,1,\\underline{2},1) \\xrightarrow{K=2\\ 020\\ 303} (\\underline{1},\\underline{1},1) \\xrightarrow{K=20\\ 203\\ 030\\ 102} (\\underline{1}) \\xrightarrow{K=202\\ 030\\ 301\\ 020\\ 101} ()$，得到的仙力值 $K$ 为 $202\\ 030\\ 301\\ 020\\ 101$。\n\n2. $(1,2,\\underline{1},2,1) \\xrightarrow{K=303} (1,\\underline{2},\\underline{2},1) \\xrightarrow{K=3\\ 030\\ 203} (\\underline{1},\\underline{1}) \\xrightarrow{K=30\\ 302\\ 030\\ 102} ()$，得到的仙力值 $K$ 为 $30\\ 302\\ 030\\ 102$。\n\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le N \\le 50$，$1 \\le a_i \\le N$。\n\n| 测试点编号 | $N\\le$ | 特殊性质 |\n| :--: | :--: | :--: |\n| $1\\sim 2$ | $18$ | 无 |\n| $3$ | $50$ | A |\n| $4$ | $50$ | B |\n| $5\\sim 8$ | $50$ | C,D |\n| $9\\sim 12$ | $50$ | C |\n| $13\\sim 16$ | $50$ | D |\n| $17\\sim 25$ | $50$ | 无 |\n\n特殊性质 A：保证 $a_i=i$。\n\n特殊性质 B：保证 $a_i=1$。\n\n特殊性质 C：保证不存在 $p_1<p_2<p_3<p_4$，使得 $a_{p_1}=a_{p_3},a_{p_2}=a_{p_4},a_{p_1}\\neq a_{p_2}$。\n\n特殊性质 D：保证不存在 $p_1<p_2<p_3$，使得 $a_{p_1}=a_{p_2}=a_{p_3}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[湖北省选模拟 2024] 沉玉谷 / jade", "background": "倘若天下无神，这里便是人的国度。", "description": "你将主持一场祭祀，祭祀会使用到 $N$ 块排成一列的玉石，玉石从左至右依次编号为 $1,2,\\cdots,N$。玉石 $i$ 的颜色为 $a_i$。\n\n每一轮祭祀，你需要选择一段颜色相同的玉石 $a_l \\sim a_r(1\\le l \\le r\\le N\\le 50)$，并将它们沉入水中。本次祭祀的仙力值 $K$ 将变为 $10000\\cdot K+100\\cdot l+r$，$K$ 的初始值为 $0$。\n\n一段玉石被沉入水中后，右侧的玉石会向左移动。**同时，编号也会发生变化**，从左至右依次编号为 $1,2,\\cdots$。例如，共有 $7$ 块玉石，颜色依次为 $1,1,2,2,2,3,2$。一开始，颜色为 $3$ 的玉石编号为 $6$，在 $3\\sim 5$ 号玉石被沉入水中后，其编号将变为 $3$。\n\n当所有玉石被沉入水中，祭祀完成，此时的仙力值即为本次祭祀的仙力值。请问祭祀完成后，一共可能得到多少种不同的仙力值？\n\n由于答案可能很大，你只需要输出答案对 $10^9+7$ 取模的值。", "inputFormat": "输入共两行。\n\n输入的第一行为一个正整数 $N$，表示玉石的个数。\n\n输入的第二行为 $N$ 个正整数 $a_1,a_2,\\cdots,a_N$，其中 $a_i$ 表示第 $i$ 块玉石的颜色。", "outputFormat": "输出一行一个整数，表示不同仙力值的种数对 $10^9+7$ 取模的结果。", "hint": "### 样例解释 3\n\n这里列举两种可能得到的仙力值和得到的方式：\n\n1. $(1,\\underline{2},1,2,1) \\xrightarrow{K=202} (1,1,\\underline{2},1) \\xrightarrow{K=2\\ 020\\ 303} (\\underline{1},\\underline{1},1) \\xrightarrow{K=20\\ 203\\ 030\\ 102} (\\underline{1}) \\xrightarrow{K=202\\ 030\\ 301\\ 020\\ 101} ()$，得到的仙力值 $K$ 为 $202\\ 030\\ 301\\ 020\\ 101$。\n\n2. $(1,2,\\underline{1},2,1) \\xrightarrow{K=303} (1,\\underline{2},\\underline{2},1) \\xrightarrow{K=3\\ 030\\ 203} (\\underline{1},\\underline{1}) \\xrightarrow{K=30\\ 302\\ 030\\ 102} ()$，得到的仙力值 $K$ 为 $30\\ 302\\ 030\\ 102$。\n\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\le N \\le 50$，$1 \\le a_i \\le N$。\n\n| 测试点编号 | $N\\le$ | 特殊性质 |\n| :--: | :--: | :--: |\n| $1\\sim 2$ | $18$ | 无 |\n| $3$ | $50$ | A |\n| $4$ | $50$ | B |\n| $5\\sim 8$ | $50$ | C,D |\n| $9\\sim 12$ | $50$ | C |\n| $13\\sim 16$ | $50$ | D |\n| $17\\sim 25$ | $50$ | 无 |\n\n特殊性质 A：保证 $a_i=i$。\n\n特殊性质 B：保证 $a_i=1$。\n\n特殊性质 C：保证不存在 $p_1<p_2<p_3<p_4$，使得 $a_{p_1}=a_{p_3},a_{p_2}=a_{p_4},a_{p_1}\\neq a_{p_2}$。\n\n特殊性质 D：保证不存在 $p_1<p_2<p_3$，使得 $a_{p_1}=a_{p_2}=a_{p_3}$。", "locale": "zh-CN"}}}
{"pid": "P10203", "type": "P", "difficulty": 6, "samples": [["4 4 1\n1 2 1 2\n3 2 1 3\n3 4 1 5\n2 4 1 2\n1", "565671802"], ["9 9 5\n9 3 3 5\n9 1 1 2\n9 2 1 1\n4 7 4 5\n2 4 2 3\n6 8 1 4\n5 6 1 3\n3 5 2 5\n8 3 3 5\n1\n3\n4\n7\n5", "35936800\n46584741\n380663851\n584039500\n757135070"], ["见选手目录下的 tartaglia/tartaglia3.in 与 tartaglia/tartaglia3.ans。", "该样例满足测试点 1 ∼ 2 的限制。"], ["见选手目录下的 tartaglia/tartaglia4.in 与 tartaglia/tartaglia4.ans。", "该样例满足测试点 10 ∼ 13 的限制。"], ["见选手目录下的 tartaglia/tartaglia5.in 与 tartaglia/tartaglia5.ans。", "该样例满足测试点 14 ∼ 19 的限制。"], ["见选手目录下的 tartaglia/tartaglia6.in 与 tartaglia/tartaglia6.ans。", ""]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "O2优化", "湖北"], "title": "[湖北省选模拟 2024] 玩具销售员 / tartaglia", "background": "孩童时期的梦是最易碎的东西，哪怕放着不管，也总有一天会自己碎掉，所以，一定要有人来保护才行吧。", "description": "“独眼小宝”是托克最喜欢的玩具，作为璃月最好的玩具销售员，达达利亚共招募了 $N$ 位经销商负责分销“独眼小宝”，$N$ 位经销商依次编号为 $1,2,\\cdots,N$。\n\n$N$ 位经销商中共形成了 $M$ 对交易关系，依次编号为 $1,2,\\cdots,M$，第 $i$ 对交易关系联系起经销商 $u_i,v_i$。对于第 $i$ 对交易关系，当一方获知“独眼小宝”的生产情报时，将有 $\\dfrac{p_i}{q_i}$ 的概率告知另一方。形式化地，经销商和他们之间的交易关系构成了一张无向图，**数据保证这张无向图是连通的、无自环的和无重边的。**\n\n一些经销商 $a_1,a_2,\\cdots,a_k(k>2)$ 构成**商业集团**，**当且仅当**存在 $k$ 组不同的交易关系，使得第 $w$ 组关系联系起经销商 $a_w,a_{w \\bmod k+1}$。形式化地，一个商业集团对应 $k$ 名经销商和他们的交易关系图中的一个简单环。**一名经销商最多属于一个商业集团。**\n\n现在，达达利亚希望对这些经销商进行测试，他共进行了 $Q$ 次**独立的**测试。对于第 $i$ 次测试，达达利亚将“独眼小宝”的生产情报告知了经销商 $S_i$，请问期望条件下，共有多少名经销商会得知该情报？\n\n**可以证明，期望一定可以被表示为 $\\dfrac{p}{q}$ 的形式，你需要输出 $p\\cdot q^{-1}\\pmod {998\\ 244\\ 353}$ 的值。**", "inputFormat": "输入共 $M+Q+1$ 行。\n\n输入的第一行为三个正整数 $N,M,Q$，分别表示经销商数量、交易关系数量和测试次数。\n\n接下来 $M$ 行，每行四个正整数 $u_i,v_i,p_i,q_i$，表示第 $i$ 条交易关系联系的经销商与告知概率。\n\n接下来 $Q$ 行，每行一个整数 $S_i$，表示第 $i$ 次测试所告知的经销商。", "outputFormat": "输出 $Q$ 行。对于每组询问，输出一行一个整数，表示期望对 $998\\ 244\\ 353$ 取模的结果。", "hint": "### 样例解释 1\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ii4noq6d.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/qz2o6jfu.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/dbojsfej.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/xq08n2l2.png)\n\n上图展现了所有的 $16$ 种可能的图连通情况，从上至下，从左至右，依次编号为 $1\\sim 16$。对于节点 $1$ 的询问，我们依次计算 $16$ 种情况中节点 $1$ 能到达的节点数和该情况对应的概率：\n\n| 图编号 | 节点数 | 概率 | 期望 |\n| :--: | :--: | :--: | :--: |\n| $1$ | $4$ | $\\frac{1}{60}$ | $\\frac{1}{15}$ |\n| $2$ | $1$ | $\\frac{1}{60}$ | $\\frac{1}{60}$ |\n| $3$ | $4$ | $\\frac{1}{30}$ | $\\frac{2}{15}$ |\n| $4$ | $4$ | $\\frac{1}{15}$ | $\\frac{4}{15}$ |\n| $5$ | $4$ | $\\frac{1}{60}$ | $\\frac{1}{15}$ |\n| $6$ | $1$ | $\\frac{1}{30}$ | $\\frac{1}{30}$ |\n| $7$ | $1$ | $\\frac{1}{15}$ | $\\frac{1}{15}$ |\n| $8$ | $1$ | $\\frac{1}{60}$ | $\\frac{1}{60}$ |\n| $9$ | $3$ | $\\frac{2}{15}$ | $\\frac{2}{5}$ |\n| $10$ | $2$ | $\\frac{1}{30}$ | $\\frac{1}{15}$ |\n| $11$ | $3$ | $\\frac{1}{15}$ | $\\frac{1}{5}$ |\n| $12$ | $1$ | $\\frac{2}{15}$ | $\\frac{2}{15}$ |\n| $13$ | $1$ | $\\frac{1}{30}$ | $\\frac{1}{30}$ |\n| $14$ | $1$ | $\\frac{1}{15}$ | $\\frac{1}{15}$ |\n| $15$ | $2$ | $\\frac{2}{15}$ | $\\frac{4}{15}$ |\n| $16$ | $1$ | $\\frac{2}{15}$ | $\\frac{2}{15}$ |\n\n求和，得到 $E=\\sum E_i=\\frac{59}{30}\\equiv 565\\ 671\\ 802\\pmod{998\\ 244\\ 353}$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\leq N,M,Q \\leq 3 \\times 10^5$，$1 \\le u_i,v_i \\le N$，$u_i\\neq v_i$，$1 \\le p_i,q_i < 998\\ 244 \\ 353$，$1 \\le S_i \\le N$。\n\n| 测试点编号 | $N,M,Q\\le$ | 特殊性质 |\n| :--: | :--: | :--: |\n| $1\\sim 2$ | $17$ | 无 |\n| $3\\sim 4$ | $2\\times 10^3$ | A |\n| $5\\sim 7$ | $2\\times 10^3$ | B |\n| $8\\sim 9$ | $2\\times 10^3$ | 无 |\n| $10\\sim 13$ | $3\\times 10^5$ | A |\n| $14\\sim 19$ | $3\\times 10^5$ | B |\n| $20\\sim 25$ | $3\\times 10^5$ | 无 |\n\n特殊性质 A：不存在集团。\n\n特殊性质 B：有且只有一个集团。\n\n### 提示\n\n在本题中，你可能需要使用较大的栈空间。在最终测试时，程序可使用的栈空间内存限制与题目内存限制一致。\n\n若你使用 Linux 系统，可使用命令 `ulimit -s unlimited` 解除系统栈空间限制。若你使用 Windows 系统，可在编译命令后添加 `-Wl,--stack=1024000000`，以将系统栈空间限制修改为约 1024MiB。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[湖北省选模拟 2024] 玩具销售员 / tartaglia", "background": "孩童时期的梦是最易碎的东西，哪怕放着不管，也总有一天会自己碎掉，所以，一定要有人来保护才行吧。", "description": "“独眼小宝”是托克最喜欢的玩具，作为璃月最好的玩具销售员，达达利亚共招募了 $N$ 位经销商负责分销“独眼小宝”，$N$ 位经销商依次编号为 $1,2,\\cdots,N$。\n\n$N$ 位经销商中共形成了 $M$ 对交易关系，依次编号为 $1,2,\\cdots,M$，第 $i$ 对交易关系联系起经销商 $u_i,v_i$。对于第 $i$ 对交易关系，当一方获知“独眼小宝”的生产情报时，将有 $\\dfrac{p_i}{q_i}$ 的概率告知另一方。形式化地，经销商和他们之间的交易关系构成了一张无向图，**数据保证这张无向图是连通的、无自环的和无重边的。**\n\n一些经销商 $a_1,a_2,\\cdots,a_k(k>2)$ 构成**商业集团**，**当且仅当**存在 $k$ 组不同的交易关系，使得第 $w$ 组关系联系起经销商 $a_w,a_{w \\bmod k+1}$。形式化地，一个商业集团对应 $k$ 名经销商和他们的交易关系图中的一个简单环。**一名经销商最多属于一个商业集团。**\n\n现在，达达利亚希望对这些经销商进行测试，他共进行了 $Q$ 次**独立的**测试。对于第 $i$ 次测试，达达利亚将“独眼小宝”的生产情报告知了经销商 $S_i$，请问期望条件下，共有多少名经销商会得知该情报？\n\n**可以证明，期望一定可以被表示为 $\\dfrac{p}{q}$ 的形式，你需要输出 $p\\cdot q^{-1}\\pmod {998\\ 244\\ 353}$ 的值。**", "inputFormat": "输入共 $M+Q+1$ 行。\n\n输入的第一行为三个正整数 $N,M,Q$，分别表示经销商数量、交易关系数量和测试次数。\n\n接下来 $M$ 行，每行四个正整数 $u_i,v_i,p_i,q_i$，表示第 $i$ 条交易关系联系的经销商与告知概率。\n\n接下来 $Q$ 行，每行一个整数 $S_i$，表示第 $i$ 次测试所告知的经销商。", "outputFormat": "输出 $Q$ 行。对于每组询问，输出一行一个整数，表示期望对 $998\\ 244\\ 353$ 取模的结果。", "hint": "### 样例解释 1\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ii4noq6d.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/qz2o6jfu.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/dbojsfej.png)\n![](https://cdn.luogu.com.cn/upload/image_hosting/xq08n2l2.png)\n\n上图展现了所有的 $16$ 种可能的图连通情况，从上至下，从左至右，依次编号为 $1\\sim 16$。对于节点 $1$ 的询问，我们依次计算 $16$ 种情况中节点 $1$ 能到达的节点数和该情况对应的概率：\n\n| 图编号 | 节点数 | 概率 | 期望 |\n| :--: | :--: | :--: | :--: |\n| $1$ | $4$ | $\\frac{1}{60}$ | $\\frac{1}{15}$ |\n| $2$ | $1$ | $\\frac{1}{60}$ | $\\frac{1}{60}$ |\n| $3$ | $4$ | $\\frac{1}{30}$ | $\\frac{2}{15}$ |\n| $4$ | $4$ | $\\frac{1}{15}$ | $\\frac{4}{15}$ |\n| $5$ | $4$ | $\\frac{1}{60}$ | $\\frac{1}{15}$ |\n| $6$ | $1$ | $\\frac{1}{30}$ | $\\frac{1}{30}$ |\n| $7$ | $1$ | $\\frac{1}{15}$ | $\\frac{1}{15}$ |\n| $8$ | $1$ | $\\frac{1}{60}$ | $\\frac{1}{60}$ |\n| $9$ | $3$ | $\\frac{2}{15}$ | $\\frac{2}{5}$ |\n| $10$ | $2$ | $\\frac{1}{30}$ | $\\frac{1}{15}$ |\n| $11$ | $3$ | $\\frac{1}{15}$ | $\\frac{1}{5}$ |\n| $12$ | $1$ | $\\frac{2}{15}$ | $\\frac{2}{15}$ |\n| $13$ | $1$ | $\\frac{1}{30}$ | $\\frac{1}{30}$ |\n| $14$ | $1$ | $\\frac{1}{15}$ | $\\frac{1}{15}$ |\n| $15$ | $2$ | $\\frac{2}{15}$ | $\\frac{4}{15}$ |\n| $16$ | $1$ | $\\frac{2}{15}$ | $\\frac{2}{15}$ |\n\n求和，得到 $E=\\sum E_i=\\frac{59}{30}\\equiv 565\\ 671\\ 802\\pmod{998\\ 244\\ 353}$。\n\n### 子任务\n\n对于所有测试数据，保证 $1 \\leq N,M,Q \\leq 3 \\times 10^5$，$1 \\le u_i,v_i \\le N$，$u_i\\neq v_i$，$1 \\le p_i,q_i < 998\\ 244 \\ 353$，$1 \\le S_i \\le N$。\n\n| 测试点编号 | $N,M,Q\\le$ | 特殊性质 |\n| :--: | :--: | :--: |\n| $1\\sim 2$ | $17$ | 无 |\n| $3\\sim 4$ | $2\\times 10^3$ | A |\n| $5\\sim 7$ | $2\\times 10^3$ | B |\n| $8\\sim 9$ | $2\\times 10^3$ | 无 |\n| $10\\sim 13$ | $3\\times 10^5$ | A |\n| $14\\sim 19$ | $3\\times 10^5$ | B |\n| $20\\sim 25$ | $3\\times 10^5$ | 无 |\n\n特殊性质 A：不存在集团。\n\n特殊性质 B：有且只有一个集团。\n\n### 提示\n\n在本题中，你可能需要使用较大的栈空间。在最终测试时，程序可使用的栈空间内存限制与题目内存限制一致。\n\n若你使用 Linux 系统，可使用命令 `ulimit -s unlimited` 解除系统栈空间限制。若你使用 Windows 系统，可在编译命令后添加 `-Wl,--stack=1024000000`，以将系统栈空间限制修改为约 1024MiB。", "locale": "zh-CN"}}}
{"pid": "P10204", "type": "P", "difficulty": 7, "samples": [["4 0\n1 2 3 2", "3"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2024", "交互题", "Special Judge", "O2优化", "湖北"], "title": "[湖北省选模拟 2024] 白草净华 / buer", "background": "**由于洛谷评测环境限制，请勿使用 C++ 14 (GCC 9) 语言提交本题，否则可能会导致编译错误。**\n\n**这是一道交互题。**\n\n神明只送给人类填饱肚子的知识，人类却借此制作了工具，书写了文字，壮大了城邦，现在又放眼星辰与深渊……\n\n他们每时每刻都在创造全新的「知识」，也令我再也无法移开双眼。\n\n我自认为我擅长提问和回答问题，但我渐渐明白，有很多人是揣着明白装糊涂，问题的答案并不能帮上他们的忙。是不是随着年龄增长，大家都会失去面对质问和答案的勇气呢……", "description": "智慧之神布耶尔的知识可以用长度为 $N$ 的数列 $a_0,a_1,\\cdots,a_{N-1}$ 表示（请注意，下标从 $0$ 开始）。很遗憾，凡人难以窥探智慧之神的知识，你既不知道 $N$ 的大小，又不知道任何 $a_i$ 的值。\n\n智慧之神是善良的，纳西妲愿意告诉你关于知识的一切：\n\n- 对于任意的 $0 \\le i < N$，$a_i \\neq a_{(i+1)\\bmod N}$。\n- **有且仅有一个** $i(0 \\le i < N)$，使 $a_i>a_{(i+1)\\bmod N}$ 与 $a_i > a_{(i+N-1)\\bmod N}$ 同时成立。\n\n你可以向智慧之神提问，每次提问，你可以向纳西妲提供一个 $0\\sim10^9$ 范围内的整数 $k$，纳西妲将回答你 $a_{(d+k)\\bmod N}$ 的值。其中，$d$ 是上一次纳西妲回答的元素的下标。$d$ 的初始值设定为 $0$。例如，$N=5$，你依次向纳西妲提供了 $1,2,3$，纳西妲回答的数字依次为 $a_1,a_3,a_1$。\n\n你有 $333$ 次提问的机会，你需要求出数列 $a$ 中的最大值。\n\n你，还有质问与提问的勇气吗？\n\n### 实现细节\n\n交互库实现了如下函数，**选手需要在程序中声明这些函数，但不应该实现其函数体**：\n\n```cpp\nint ask(int k);\n```\n\n- 这个函数返回  $a_{(d+k)\\bmod N}$ 的值，并将 $d$ 的值修改为 $d+k$。\n\n```cpp\nint cheat();\n```\n\n- 这个函数返回 $N$ 的值。\n- **调用该函数，将不能得到测试点全部的分数，详见评分方式部分。**\n\n**你不需要，也不应该实现主函数。** 你需要实现函数 `buer`：\n\n```cpp\nint buer(int T);\n```\n\n- `T` 表示测试点编号。\n- 你需要在函数结束时，返回数列 $a$ 的最大值。\n\n**此外，你提交的程序不应试图从或向任何文件或标准控制流读取或写入信息，否则本题以零分计。** 你的程序需要引用全部你所需要的头文件与命名空间。\n\n最终测试时，在每个测试点，交互库会恰好调用一次 `buer` 函数，并将其返回值作为你程序的结果。\n\n下面是一个示例程序，其功能是获取 $a_1 \\sim a_9$ 并返回 $\\max(a_1,a_2)$。选手可以在此基础上继续实现本题。\n\n```cpp\n#include <vector>\nusing std::max;\nusing std::vector;\n// 引用所需头文件与命名空间中的函数\nint ask(int k);\nint cheat(); \n// 声明 ask 与 cheat 函数\nint buer(int T) {\n\tvector <int> vec;\n\tfor(int i = 1; i <= 9; i++) {\n\t\tint p = ask(1);\n\t\tvec.push_back(p);\n\t}\n\treturn max(vec[0], vec[1]);\n}\n```\n\n**保证在 `ask` 函数调用不超过 $3333$ 次的情况下，最终测试的交互库运行所需时间不超过 $0.2$ 秒，交互库本身所消耗的内存不超过 $10$ MiB。**\n\n### 测试程序方式\n\n本题目录下提供了交互库的参考实现 `grader.cpp`。最终测试时所使用的交互库实现与该实现有所不同，因此选手的解法**不应依赖交互库的具体实现**。\n\n选手实现程序 `buer.cpp` 后，将 `grader.cpp` 与 `buer.cpp` 放置在同一目录下，使用如下命令编译得到可执行程序：\n\n```plain\ng++ -c grader.cpp -O2 -std=c++14\ng++ -c buer.cpp -O2 -std=c++14\ng++ grader.o buer.o -o buer -O2 -std=c++14\n```\n\n其中第一行命令会编译 `grader.cpp` 得到目标文件 `grader.o`，第二行命令会编译 `buer.cpp` 得到目标文件 `buer.o`，第三行命令会将 `grader.o` 与 `buer.o` 链接起来，生成可执行文件 `buer`。\n\n按上述方法编译得到的可执行文件 `buer`，其运行方式如下：\n\n- 可执行文件将从 `buer.in` 读入以下格式的数据：\n\n  - 第一行为两个正整数 $N,T$，分别表示 $a$ 的长度与测试点编号。\n  - 第二行为 $N$ 个正整数 $a_0,a_1,\\ldots,a_{N-1}$，表示数列 $a$。\n\n- 若你的程序正常运行完毕，可执行文件将向 `buer.out` 写入以下内容：\n\n  - 输出一行两个整数，分别表示你的询问次数与 `buer` 函数的返回值。\n\n选手在调试时需要保证输入可执行文件 `buer` 的数据满足上述格式，否则不保证交互库正确运行。", "inputFormat": "你提交的程序不应试图从或向任何文件或标准控制流读取或写入信息。", "outputFormat": "你提交的程序不应试图从或向任何文件或标准控制流读取或写入信息。", "hint": "### 样例解释 1\n\n本题提供的样例输入中，第一行为两个整数 $N,T$，分别表示 $N$ 与测试点编号，样例测试点编号均为 $0$。第二行为 $N$ 个整数 $a_0,a_1,\\cdots,a_{N-1}$，表示数列 $a$。样例输出为一行一个正整数，表示数列 $a$ 的最大值。\n\n**请注意，你的程序不应试图从或向任何文件或标准控制流读取或写入信息。**\n\n### 评分方式\n\n最终评测**只**收取 `buer.cpp`，请不要提交选手目录下其他文件。\n\n**本题首先会受到和传统题相同的限制**，例如编译错误会导致整道题目得 $0$ 分，运行\n时错误、超过时间限制、超过空间限制等会导致相应测试点得 $0$ 分等。\n\n在上述条件以外，在一个测试点中，若程序执行了非法的函数调用或 `buer` 函数返回了错误答案，该测试点将会获得 $0$ 分。否则，假设你的程序调用了 $Q$ 次 `ask` 函数：\n\n- 若 $0 \\le Q \\le 333$，且没有调用 `cheat` 函数，该测试点得 $5$ 分。\n\n- 若 $333<Q\\le 3333$，且没有调用 `cheat` 函数，该测试点得 $3$ 分。\n\n- 若 $0\\le Q \\le 333$，但调用了 `cheat` 函数，该测试点得 $2$ 分。\n\n- 若 $333<Q\\le 3333$，但调用了 `cheat` 函数，该测试点得 $1$ 分。\n- 若 $Q>3333$，该测试点得 $0$ 分。\n\n### 子任务\n\n对于所有测试数据，保证 $2 \\le N \\le 10^6$，$1 \\le a_i \\le 10^9$。\n\n| 测试点编号 | $N\\le$ |\n| :--: | :--: |\n| $1$ | $333$ |\n| $2\\sim 20$ | $10^6$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[湖北省选模拟 2024] 白草净华 / buer", "background": "**由于洛谷评测环境限制，请勿使用 C++ 14 (GCC 9) 语言提交本题，否则可能会导致编译错误。**\n\n**这是一道交互题。**\n\n神明只送给人类填饱肚子的知识，人类却借此制作了工具，书写了文字，壮大了城邦，现在又放眼星辰与深渊……\n\n他们每时每刻都在创造全新的「知识」，也令我再也无法移开双眼。\n\n我自认为我擅长提问和回答问题，但我渐渐明白，有很多人是揣着明白装糊涂，问题的答案并不能帮上他们的忙。是不是随着年龄增长，大家都会失去面对质问和答案的勇气呢……", "description": "智慧之神布耶尔的知识可以用长度为 $N$ 的数列 $a_0,a_1,\\cdots,a_{N-1}$ 表示（请注意，下标从 $0$ 开始）。很遗憾，凡人难以窥探智慧之神的知识，你既不知道 $N$ 的大小，又不知道任何 $a_i$ 的值。\n\n智慧之神是善良的，纳西妲愿意告诉你关于知识的一切：\n\n- 对于任意的 $0 \\le i < N$，$a_i \\neq a_{(i+1)\\bmod N}$。\n- **有且仅有一个** $i(0 \\le i < N)$，使 $a_i>a_{(i+1)\\bmod N}$ 与 $a_i > a_{(i+N-1)\\bmod N}$ 同时成立。\n\n你可以向智慧之神提问，每次提问，你可以向纳西妲提供一个 $0\\sim10^9$ 范围内的整数 $k$，纳西妲将回答你 $a_{(d+k)\\bmod N}$ 的值。其中，$d$ 是上一次纳西妲回答的元素的下标。$d$ 的初始值设定为 $0$。例如，$N=5$，你依次向纳西妲提供了 $1,2,3$，纳西妲回答的数字依次为 $a_1,a_3,a_1$。\n\n你有 $333$ 次提问的机会，你需要求出数列 $a$ 中的最大值。\n\n你，还有质问与提问的勇气吗？\n\n### 实现细节\n\n交互库实现了如下函数，**选手需要在程序中声明这些函数，但不应该实现其函数体**：\n\n```cpp\nint ask(int k);\n```\n\n- 这个函数返回  $a_{(d+k)\\bmod N}$ 的值，并将 $d$ 的值修改为 $d+k$。\n\n```cpp\nint cheat();\n```\n\n- 这个函数返回 $N$ 的值。\n- **调用该函数，将不能得到测试点全部的分数，详见评分方式部分。**\n\n**你不需要，也不应该实现主函数。** 你需要实现函数 `buer`：\n\n```cpp\nint buer(int T);\n```\n\n- `T` 表示测试点编号。\n- 你需要在函数结束时，返回数列 $a$ 的最大值。\n\n**此外，你提交的程序不应试图从或向任何文件或标准控制流读取或写入信息，否则本题以零分计。** 你的程序需要引用全部你所需要的头文件与命名空间。\n\n最终测试时，在每个测试点，交互库会恰好调用一次 `buer` 函数，并将其返回值作为你程序的结果。\n\n下面是一个示例程序，其功能是获取 $a_1 \\sim a_9$ 并返回 $\\max(a_1,a_2)$。选手可以在此基础上继续实现本题。\n\n```cpp\n#include <vector>\nusing std::max;\nusing std::vector;\n// 引用所需头文件与命名空间中的函数\nint ask(int k);\nint cheat(); \n// 声明 ask 与 cheat 函数\nint buer(int T) {\n\tvector <int> vec;\n\tfor(int i = 1; i <= 9; i++) {\n\t\tint p = ask(1);\n\t\tvec.push_back(p);\n\t}\n\treturn max(vec[0], vec[1]);\n}\n```\n\n**保证在 `ask` 函数调用不超过 $3333$ 次的情况下，最终测试的交互库运行所需时间不超过 $0.2$ 秒，交互库本身所消耗的内存不超过 $10$ MiB。**\n\n### 测试程序方式\n\n本题目录下提供了交互库的参考实现 `grader.cpp`。最终测试时所使用的交互库实现与该实现有所不同，因此选手的解法**不应依赖交互库的具体实现**。\n\n选手实现程序 `buer.cpp` 后，将 `grader.cpp` 与 `buer.cpp` 放置在同一目录下，使用如下命令编译得到可执行程序：\n\n```plain\ng++ -c grader.cpp -O2 -std=c++14\ng++ -c buer.cpp -O2 -std=c++14\ng++ grader.o buer.o -o buer -O2 -std=c++14\n```\n\n其中第一行命令会编译 `grader.cpp` 得到目标文件 `grader.o`，第二行命令会编译 `buer.cpp` 得到目标文件 `buer.o`，第三行命令会将 `grader.o` 与 `buer.o` 链接起来，生成可执行文件 `buer`。\n\n按上述方法编译得到的可执行文件 `buer`，其运行方式如下：\n\n- 可执行文件将从 `buer.in` 读入以下格式的数据：\n\n  - 第一行为两个正整数 $N,T$，分别表示 $a$ 的长度与测试点编号。\n  - 第二行为 $N$ 个正整数 $a_0,a_1,\\ldots,a_{N-1}$，表示数列 $a$。\n\n- 若你的程序正常运行完毕，可执行文件将向 `buer.out` 写入以下内容：\n\n  - 输出一行两个整数，分别表示你的询问次数与 `buer` 函数的返回值。\n\n选手在调试时需要保证输入可执行文件 `buer` 的数据满足上述格式，否则不保证交互库正确运行。", "inputFormat": "你提交的程序不应试图从或向任何文件或标准控制流读取或写入信息。", "outputFormat": "你提交的程序不应试图从或向任何文件或标准控制流读取或写入信息。", "hint": "### 样例解释 1\n\n本题提供的样例输入中，第一行为两个整数 $N,T$，分别表示 $N$ 与测试点编号，样例测试点编号均为 $0$。第二行为 $N$ 个整数 $a_0,a_1,\\cdots,a_{N-1}$，表示数列 $a$。样例输出为一行一个正整数，表示数列 $a$ 的最大值。\n\n**请注意，你的程序不应试图从或向任何文件或标准控制流读取或写入信息。**\n\n### 评分方式\n\n最终评测**只**收取 `buer.cpp`，请不要提交选手目录下其他文件。\n\n**本题首先会受到和传统题相同的限制**，例如编译错误会导致整道题目得 $0$ 分，运行\n时错误、超过时间限制、超过空间限制等会导致相应测试点得 $0$ 分等。\n\n在上述条件以外，在一个测试点中，若程序执行了非法的函数调用或 `buer` 函数返回了错误答案，该测试点将会获得 $0$ 分。否则，假设你的程序调用了 $Q$ 次 `ask` 函数：\n\n- 若 $0 \\le Q \\le 333$，且没有调用 `cheat` 函数，该测试点得 $5$ 分。\n\n- 若 $333<Q\\le 3333$，且没有调用 `cheat` 函数，该测试点得 $3$ 分。\n\n- 若 $0\\le Q \\le 333$，但调用了 `cheat` 函数，该测试点得 $2$ 分。\n\n- 若 $333<Q\\le 3333$，但调用了 `cheat` 函数，该测试点得 $1$ 分。\n- 若 $Q>3333$，该测试点得 $0$ 分。\n\n### 子任务\n\n对于所有测试数据，保证 $2 \\le N \\le 10^6$，$1 \\le a_i \\le 10^9$。\n\n| 测试点编号 | $N\\le$ |\n| :--: | :--: |\n| $1$ | $333$ |\n| $2\\sim 20$ | $10^6$ |", "locale": "zh-CN"}}}
{"pid": "P10205", "type": "P", "difficulty": 3, "samples": [["2 4\n19 24", "1"], ["3 1\n21 19 23", "0"], ["6 8\n24 22 21 25 29 17", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["贪心", "2024", "JOI（日本）"], "title": "[JOI 2024 Final] 室温 / Room Temperature", "background": "", "description": "K 董事长负责调节高管们的房间的室温，他希望高管们能尽可能舒适地工作。\n\n现在房间里有 $N$ 位高管。每位高管都有一个从 $1$ 到 $N$ 的编号。不穿外套时，高管 $i\\ (1 \\leq i \\leq N)$ 的舒适温度是 $A_{i}$ 度。另外，每位高管每穿一件外套，舒适温度就会降低 $T$ 度。也就是说，高管 $i$ 如果穿了 $k$ 件外套，那么高管 $i$ 的舒适温度就是 $A_{i}-k T$ 度。\n\n如果房间的温度是 $x$ 度，某位高管的舒适温度是 $y$ 度，那么这位高管的不舒适度就是 $|x-y|$。其中，$|t|$ 表示 $t$ 的绝对值。每位高管会根据房间的温度，穿上大于等于 $0$ 件合适的外套，使得不舒适度最小。\n\nK 董事长把高管们的不舒适度的最大值称为房间的不舒适度，并决定要把房间的温度设定为使得房间的不舒适度最小的值。但是，设定的温度必须是整数。\n\n给定高管和舒适温度的信息。编写一个程序，求出房间的不舒适度可能的最小值。", "inputFormat": "第一行包含两个整数 $N,T$。\n\n第二行包含用空格分隔的 $N$ 个整数 $A_1, A_2, \\ldots, A_N$。", "outputFormat": "输出一行一个整数，表示房间的不舒适度可能的最小值。\n\n", "hint": "对于所有输入数据，满足：\n\n- $2 \\leq N \\leq 5\\times 10^5$\n- $1 \\leq T \\leq 10^{9}$\n- $1 \\leq A_{i} \\leq 10^{9}(1 \\leq i \\leq N)$\n\n详细子任务附加限制及分值如下表所示。\n\n|子任务|\t附加限制|\t分值|\n|:-:|:-:|:-:|\n|1|\t$N=2$|\t15|\n|2|\t$N \\leq 3000, T=1$|\t5|\n|3|\t$N \\leq 3000, T \\leq 2$|\t30|\n|4|\t$N \\leq 3000, T \\leq 3000$|\t35|\n|5|\t无附加限制\t|15|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2024 Final] 室温 / Room Temperature", "background": "", "description": "K 董事长负责调节高管们的房间的室温，他希望高管们能尽可能舒适地工作。\n\n现在房间里有 $N$ 位高管。每位高管都有一个从 $1$ 到 $N$ 的编号。不穿外套时，高管 $i\\ (1 \\leq i \\leq N)$ 的舒适温度是 $A_{i}$ 度。另外，每位高管每穿一件外套，舒适温度就会降低 $T$ 度。也就是说，高管 $i$ 如果穿了 $k$ 件外套，那么高管 $i$ 的舒适温度就是 $A_{i}-k T$ 度。\n\n如果房间的温度是 $x$ 度，某位高管的舒适温度是 $y$ 度，那么这位高管的不舒适度就是 $|x-y|$。其中，$|t|$ 表示 $t$ 的绝对值。每位高管会根据房间的温度，穿上大于等于 $0$ 件合适的外套，使得不舒适度最小。\n\nK 董事长把高管们的不舒适度的最大值称为房间的不舒适度，并决定要把房间的温度设定为使得房间的不舒适度最小的值。但是，设定的温度必须是整数。\n\n给定高管和舒适温度的信息。编写一个程序，求出房间的不舒适度可能的最小值。", "inputFormat": "第一行包含两个整数 $N,T$。\n\n第二行包含用空格分隔的 $N$ 个整数 $A_1, A_2, \\ldots, A_N$。", "outputFormat": "输出一行一个整数，表示房间的不舒适度可能的最小值。\n\n", "hint": "对于所有输入数据，满足：\n\n- $2 \\leq N \\leq 5\\times 10^5$\n- $1 \\leq T \\leq 10^{9}$\n- $1 \\leq A_{i} \\leq 10^{9}(1 \\leq i \\leq N)$\n\n详细子任务附加限制及分值如下表所示。\n\n|子任务|\t附加限制|\t分值|\n|:-:|:-:|:-:|\n|1|\t$N=2$|\t15|\n|2|\t$N \\leq 3000, T=1$|\t5|\n|3|\t$N \\leq 3000, T \\leq 2$|\t30|\n|4|\t$N \\leq 3000, T \\leq 3000$|\t35|\n|5|\t无附加限制\t|15|", "locale": "zh-CN"}}}
{"pid": "P10206", "type": "P", "difficulty": 4, "samples": [["7 8\n6 7 1 2\n1 2 1\n1 6 1\n2 3 1\n2 4 1\n3 5 1\n3 7 1\n4 5 1\n5 6 1", "4"], ["3 2\n1 3 1 2\n1 2 1\n2 3 1", "3"], ["6 4\n2 5 1000000000 1\n1 2 1000000000\n2 3 1000000000\n2 4 1000000000\n5 6 1000000000", "0"], ["18 21\n4 8 678730772 3000000062\n5 13 805281073\n8 17 80983648\n3 8 996533440\n10 16 514277428\n2 5 57914340\n6 11 966149890\n8 12 532734310\n2 9 188599710\n2 3 966306014\n12 16 656457780\n16 18 662633078\n1 15 698078877\n2 8 665665772\n2 6 652261981\n14 15 712798281\n7 13 571169114\n13 14 860543313\n6 7 454251187\n9 14 293590683\n6 14 959532841\n3 11 591245645", "16"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["二分", "2024", "最短路", "JOI（日本）", "双指针 two-pointer"], "title": "[JOI 2024 Final] 建设工程 2 / Construction Project 2", "background": null, "description": "JOI 国有 $N$ 个火车站，编号从 $1$ 到 $N$。另外，JOI 国有 $M$ 条双向铁路线，编号从 $1$ 到 $M$。铁路线 $i\\ (1 \\leq i \\leq M)$ 连接了火车站 $A_{i}$ 和火车站 $B_{i}$，从一个站到另一个站需要花费 $C_i$ 分钟。\n\n你是 JOI 国的部长，决定按照以下方式新建一条铁路线：\n\n选择两个整数 $u, v\\ (1 \\leq u<v \\leq N)$，在火车站 $u$ 和火车站 $v$ 之间建设一条双向铁路线，从一个站到另一个站需要花费 $L$ 分钟。注意，即使已经有一条连接火车站 $u$ 和火车站 $v$ 的铁路线也可以建设。\n\n如果你建设这条铁路线后，可以花费不超过 $K$ 分钟从火车站 $S$ 到火车站 $T$，国王就会高兴。我们不考虑换乘时间和等待时间。\n\n你有 $\\frac{N(N-1)}{2}$ 种选择两个整数 $u, v$ 的方法，你想知道其中有多少种方法会让国王高兴。\n\n给定火车站和铁路线以及国王的要求的信息，编写一个程序，求出其中有多少种选择整数的方法会让国王高兴。", "inputFormat": "第一行包含两个整数 $N,M$。\n\n第二行包含四个整数 $S,T,L,K$。\n\n接下来 $M$ 行，每行包含三个整数 $A_i, B_i, C_i$，表示第 $i$ 条双向铁路线。", "outputFormat": "输出一行一个整数，表示让国王高兴的两个整数的选择方法有多少种。", "hint": "对于所有输入数据，满足：\n\n- $2 \\leq N \\leq 2\\times 10^5$\n- $1 \\leq M \\leq 2\\times 10^5$\n- $1 \\leq S<T \\leq N$\n- $1 \\leq L \\leq 10^{9}$\n- $1 \\leq K \\leq 10^{15}$\n- $1 \\leq A_{i}<B_{i} \\leq N\\ (1 \\leq i \\leq M)$\n- $(A_{i}, B_{i}) \\neq (A_{j}, B_{j})\\ (1 \\leq i<j \\leq M)$\n- $1 \\leq C_{i} \\leq 10^{9}\\ (1 \\leq i \\leq M)$\n\n详细子任务附加限制及分值如下表所示。\n\n|子任务|\t附加限制|\t分值|\n|:-:|:-:|:-:|\n|1|\t$L=1, K=2, C_{i}=1\\ (1 \\leq i \\leq M)$|\t8\n|2|\t$N \\leq 50, M \\leq 50$|\t16\n|3|\t$N \\leq 3000, M \\leq 3000$|\t29\n|4|\t无附加限制|\t47", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI 2024 Final] 建设工程 2 / Construction Project 2", "background": null, "description": "JOI 国有 $N$ 个火车站，编号从 $1$ 到 $N$。另外，JOI 国有 $M$ 条双向铁路线，编号从 $1$ 到 $M$。铁路线 $i\\ (1 \\leq i \\leq M)$ 连接了火车站 $A_{i}$ 和火车站 $B_{i}$，从一个站到另一个站需要花费 $C_i$ 分钟。\n\n你是 JOI 国的部长，决定按照以下方式新建一条铁路线：\n\n选择两个整数 $u, v\\ (1 \\leq u<v \\leq N)$，在火车站 $u$ 和火车站 $v$ 之间建设一条双向铁路线，从一个站到另一个站需要花费 $L$ 分钟。注意，即使已经有一条连接火车站 $u$ 和火车站 $v$ 的铁路线也可以建设。\n\n如果你建设这条铁路线后，可以花费不超过 $K$ 分钟从火车站 $S$ 到火车站 $T$，国王就会高兴。我们不考虑换乘时间和等待时间。\n\n你有 $\\frac{N(N-1)}{2}$ 种选择两个整数 $u, v$ 的方法，你想知道其中有多少种方法会让国王高兴。\n\n给定火车站和铁路线以及国王的要求的信息，编写一个程序，求出其中有多少种选择整数的方法会让国王高兴。", "inputFormat": "第一行包含两个整数 $N,M$。\n\n第二行包含四个整数 $S,T,L,K$。\n\n接下来 $M$ 行，每行包含三个整数 $A_i, B_i, C_i$，表示第 $i$ 条双向铁路线。", "outputFormat": "输出一行一个整数，表示让国王高兴的两个整数的选择方法有多少种。", "hint": "对于所有输入数据，满足：\n\n- $2 \\leq N \\leq 2\\times 10^5$\n- $1 \\leq M \\leq 2\\times 10^5$\n- $1 \\leq S<T \\leq N$\n- $1 \\leq L \\leq 10^{9}$\n- $1 \\leq K \\leq 10^{15}$\n- $1 \\leq A_{i}<B_{i} \\leq N\\ (1 \\leq i \\leq M)$\n- $(A_{i}, B_{i}) \\neq (A_{j}, B_{j})\\ (1 \\leq i<j \\leq M)$\n- $1 \\leq C_{i} \\leq 10^{9}\\ (1 \\leq i \\leq M)$\n\n详细子任务附加限制及分值如下表所示。\n\n|子任务|\t附加限制|\t分值|\n|:-:|:-:|:-:|\n|1|\t$L=1, K=2, C_{i}=1\\ (1 \\leq i \\leq M)$|\t8\n|2|\t$N \\leq 50, M \\leq 50$|\t16\n|3|\t$N \\leq 3000, M \\leq 3000$|\t29\n|4|\t无附加限制|\t47", "locale": "zh-CN"}}}
