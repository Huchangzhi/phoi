{"pid": "P7789", "type": "P", "difficulty": 5, "samples": [["4\n2\n6\n3\n11 ", "1"], ["4\n1\n2\n3\n4 ", "0"], ["3\n4\n9\n15 ", "4"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200, 819200]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #6] Sirni", "background": "", "description": "有 $N$ 张卡片，每张卡片上写有一个数值 $P_i$。\n\n可以连接任意两张卡片，但需要花费 $\\min(P_a\\bmod P_b, P_b\\bmod P_a)$。\n\n请你求出连接所有卡片所需要的最小花费。", "inputFormat": "第一行，一个整数 $N$，代表有 $N$ 张卡片；\n\n接下来 $N$ 行，每行一个正整数 $P_i$，代表第 $i$ 张卡片上写的数值。", "outputFormat": "一行，一个整数，代表最小花费。", "hint": "**【样例解释 #1】**\n\n连接卡片 $1$ 和卡片 $2$，花费 $\\min(2\\bmod 6,6\\bmod 2)=0$；\n\n连接卡片 $2$ 和卡片 $3$，花费 $\\min(3\\bmod 6,6\\bmod 3)=0$；\n\n连接卡片 $1$ 和卡片 $4$，花费 $\\min(2\\bmod 11,11\\bmod 2)=1$。\n\n总共花费 $0+0+1=1$。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，$1\\le N\\le 10^3$；\n\n对于另外 $40\\%$ 的数据，$1\\le P_i\\le 10^6$；\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，$1\\le P_i\\le 10^7$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $140$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T5 SIRNI**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #6] Sirni", "background": "", "description": "有 $N$ 张卡片，每张卡片上写有一个数值 $P_i$。\n\n可以连接任意两张卡片，但需要花费 $\\min(P_a\\bmod P_b, P_b\\bmod P_a)$。\n\n请你求出连接所有卡片所需要的最小花费。", "inputFormat": "第一行，一个整数 $N$，代表有 $N$ 张卡片；\n\n接下来 $N$ 行，每行一个正整数 $P_i$，代表第 $i$ 张卡片上写的数值。", "outputFormat": "一行，一个整数，代表最小花费。", "hint": "**【样例解释 #1】**\n\n连接卡片 $1$ 和卡片 $2$，花费 $\\min(2\\bmod 6,6\\bmod 2)=0$；\n\n连接卡片 $2$ 和卡片 $3$，花费 $\\min(3\\bmod 6,6\\bmod 3)=0$；\n\n连接卡片 $1$ 和卡片 $4$，花费 $\\min(2\\bmod 11,11\\bmod 2)=1$。\n\n总共花费 $0+0+1=1$。\n\n**【数据范围】**\n\n对于 $30\\%$ 的数据，$1\\le N\\le 10^3$；\n\n对于另外 $40\\%$ 的数据，$1\\le P_i\\le 10^6$；\n\n对于 $100\\%$ 的数据，$1\\le N\\le 10^5$，$1\\le P_i\\le 10^7$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $140$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T5 SIRNI**_", "locale": "zh-CN"}}}
{"pid": "P7790", "type": "P", "difficulty": 6, "samples": [["4\n1 1 1 1\n2\n1 2\n2\n2 5\n4 10\n1\n4 2 ", "7"], ["3\n6 9 4\n2\n5 7\n3\n1 1\n7 8\n6 10\n2\n6 2\n70 68 ", "118\n-2"], ["3\n8 3 10\n2\n8 4\n3\n1 6\n5 1\n3 7\n2\n5 1\n3 1 ", "16\n66"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2016", "COCI（克罗地亚）"], "title": "[COCI 2016/2017 #6] Gauss", "background": "", "description": "给出 $K$ 个整数 $F(1),F(2),...,F(K)$，并定义 $i>K$ 的 $F(i)=0$；又给出 $T$ 个幸运整数 $X_i$ 和它的价格 $C(X_i)$，$M$ 个整数 $L_1,L_2,...,L_M$。\n\n一开始黑板上有一个整数 $A$，可以进行如下的两种操作：\n\n- 令当前黑板上的数是 $N$，则可以写下 $N$ 的因数中任意一个小于 $N$ 的因数 $M$，花费 $F(d(N\\div M))$。其中 $d(N\\div M)$ 表示正整数 $N\\div M$ 的因数个数（包括 $N/M$）。\n\n- 如果 $N$ 是一个幸运整数，可以将 $N$ 留在黑板上，花费 $C(N)$。\n\n定义 $G(A,B,L)$ 为以 $A$ 为起始的数，进行了 $L$ 次操作，最终留下 $B$ 的最小花费，请你根据给定的 $A$ 和 $B$，求出 $G(A,B,L_1)+G(A,B,L_2)+...+G(A,B,L_M)$。 ", "inputFormat": "第一行，一个正整数 $K$；\n\n第二行，$K$ 个正整数 $F(1),F(2),...,F(K)$；\n\n第三行，一个正整数 $M$；\n\n第四行，$M$ 个正整数 $L_1,L_2,...,L_M$；\n\n第五行，一个正整数 $T$；\n\n接下来 $T$ 行，每行两个正整数 $X_i$ 和 $C(X_i)$，代表 $X_i$ 是一个幸运数且它的价格为 $C(X_i)$；\n\n第 $T+5$ 行，一个正整数 $Q$，表示询问的个数；\n\n接下来 $Q$ 行，每行两个正整数 $A$ 和 $B$。", "outputFormat": "对于输入的每个询问，输出 $G(A,B,L_1)+G(A,B,L_2)+...+G(A,B,L_M)$。 ", "hint": "**【样例解释 #1】**\n\n因为 $L_1=1$，所以将 $4$ 替换成 $2$，花费 $G(4,2,1)=F(d(2))=1$；\n\n因为 $L_2=2$，所以有两种方法将 $4$ 变成 $2$：\n\n- 将 $4$ 替换成 $2$，又因为 $2$ 是幸运数字，所以第二轮留下 $2$。花费 $F(d(4\\div 2))+C(2)=1+5=6$；\n\n- 因为 $4$ 是幸运数字，所以第一轮留下 $4$，第二轮将 $4$ 替换成 $2$。花费 $C(4)+F(d(4\\div 2))=11+1=12$。\n\n第一种方案花费更少，所以选择第一种方案。\n\n所以答案是 $G(4,2,1)+G(4,2,2)=1+6=7$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le K\\le 10^4$，$1\\le F(i)\\le 10^3$，$1\\le M\\le 10^3$，$1\\le L_i\\le 10^4$，$1\\le T\\le 50$，$1\\le X_i\\le 10^6$，$1\\le C(X_i)\\le 10^3$，$1\\le Q\\le 5\\times 10^4$，$1\\le A,B\\le 10^6$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $160$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T6 GAUSS**_", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2016/2017 #6] Gauss", "background": "", "description": "给出 $K$ 个整数 $F(1),F(2),...,F(K)$，并定义 $i>K$ 的 $F(i)=0$；又给出 $T$ 个幸运整数 $X_i$ 和它的价格 $C(X_i)$，$M$ 个整数 $L_1,L_2,...,L_M$。\n\n一开始黑板上有一个整数 $A$，可以进行如下的两种操作：\n\n- 令当前黑板上的数是 $N$，则可以写下 $N$ 的因数中任意一个小于 $N$ 的因数 $M$，花费 $F(d(N\\div M))$。其中 $d(N\\div M)$ 表示正整数 $N\\div M$ 的因数个数（包括 $N/M$）。\n\n- 如果 $N$ 是一个幸运整数，可以将 $N$ 留在黑板上，花费 $C(N)$。\n\n定义 $G(A,B,L)$ 为以 $A$ 为起始的数，进行了 $L$ 次操作，最终留下 $B$ 的最小花费，请你根据给定的 $A$ 和 $B$，求出 $G(A,B,L_1)+G(A,B,L_2)+...+G(A,B,L_M)$。 ", "inputFormat": "第一行，一个正整数 $K$；\n\n第二行，$K$ 个正整数 $F(1),F(2),...,F(K)$；\n\n第三行，一个正整数 $M$；\n\n第四行，$M$ 个正整数 $L_1,L_2,...,L_M$；\n\n第五行，一个正整数 $T$；\n\n接下来 $T$ 行，每行两个正整数 $X_i$ 和 $C(X_i)$，代表 $X_i$ 是一个幸运数且它的价格为 $C(X_i)$；\n\n第 $T+5$ 行，一个正整数 $Q$，表示询问的个数；\n\n接下来 $Q$ 行，每行两个正整数 $A$ 和 $B$。", "outputFormat": "对于输入的每个询问，输出 $G(A,B,L_1)+G(A,B,L_2)+...+G(A,B,L_M)$。 ", "hint": "**【样例解释 #1】**\n\n因为 $L_1=1$，所以将 $4$ 替换成 $2$，花费 $G(4,2,1)=F(d(2))=1$；\n\n因为 $L_2=2$，所以有两种方法将 $4$ 变成 $2$：\n\n- 将 $4$ 替换成 $2$，又因为 $2$ 是幸运数字，所以第二轮留下 $2$。花费 $F(d(4\\div 2))+C(2)=1+5=6$；\n\n- 因为 $4$ 是幸运数字，所以第一轮留下 $4$，第二轮将 $4$ 替换成 $2$。花费 $C(4)+F(d(4\\div 2))=11+1=12$。\n\n第一种方案花费更少，所以选择第一种方案。\n\n所以答案是 $G(4,2,1)+G(4,2,2)=1+6=7$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le K\\le 10^4$，$1\\le F(i)\\le 10^3$，$1\\le M\\le 10^3$，$1\\le L_i\\le 10^4$，$1\\le T\\le 50$，$1\\le X_i\\le 10^6$，$1\\le C(X_i)\\le 10^3$，$1\\le Q\\le 5\\times 10^4$，$1\\le A,B\\le 10^6$。\n\n**【说明】**\n\n本题分值按 COCI 原题设置，满分 $160$。\n\n题目译自 [COCI2016_2017](https://hsin.hr/coci/archive/2016_2017/) [CONTEST #6](https://hsin.hr/coci/archive/2016_2017/contest6_tasks.pdf) _**T6 GAUSS**_", "locale": "zh-CN"}}}
{"pid": "P7791", "type": "P", "difficulty": 2, "samples": [["7\n10 6 8 9 4 5 3\n14\n1 2 3 4\n5\n1 3 4 6 7", "22"], ["6\n12 5 7 8 9 3\n14\n4 3 1 2\n5\n1 2 1 6 6", "32"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #7] TETA", "background": "你发现自己扮演的是一位在食堂担任收银员的好女士。这位女士被所有学生认为是好人的多种原因之一是，她关心你在访问食堂时尽可能少花钱。", "description": "她是如何做到这一点的呢？策略其实很简单。在食堂里可以买到各种饭菜，其价格也是众所周知的。每天都会提供一份**套餐**。一份套餐包括 $4$ 份饭菜（通常是汤、主菜、配菜和甜点），但它的价格 $x$ 小于或等于其组成部分的价格总和。当这位女士注意到，如果你拿了套餐中的个别东西，并且如果按照一整个套餐的费用会花更少的钱，那么她就**一定会这样做**，而你会满载而归，口袋里剩下比原来更多的钱。\n\n你拿着托盘站在收银台前，想知道你要付多少钱。写一个方案来确定它吧!\n\n请注意：女士可以用多个套餐向你收费，这样价格会更便宜。", "inputFormat": "输入共六行。\n\n第一行输入一个整数 $k$，表示食堂今天供应的餐品总数。  \n第二行输入 $k$ 个整数，第 $i$ 个整数 $c_i$ 表示第 $i$ 个餐品的价格。   \n第三行输入一个整数 $x$，表示套餐的价格。  \n第四行输入 $4$ 个整数 $p_1,p_2,p_3,p_4$，分别表示套餐里面包含的 $4$ 种餐品。**保证 $p_i$ 互不相同**。  \n第五行输入一个整数 $t$，表示你点的餐品的个数。  \n第六行输入 $t$ 个整数，第 $i$ 个整数 $s_i$ 表示你点的餐品的编号。**不保证 $s_i$ 互不相同**。\n", "outputFormat": "输出仅一行，一个整数，表示你今天在食堂的花费。", "hint": "**【样例 1 解释】**\n\n你点了 $1,3,4$ 这三个在套餐中的餐品，这三个餐品单点的总价为 $10+8+9=27$，大于套餐的价格 $14$，因此收银的女士会将这些餐品按照 $14$ 元收费。除此之外的 $6,7$ 两个餐品不在套餐中，因此单独收费。故总花费为 $14+5+3=22$。\n\n**【样例 2 解释】**\n\n你点了 $1,2$ 这两个在套餐中的餐品，这两个餐品单点的总价为 $12+4=16$，大于套餐的价格 $14$，因此收银的女士会将这些餐品按照 $14$ 元收费。此外还剩下一个 $1$ 号餐品和两个 $6$ 号餐品。由于一个 $1$ 号餐品的价格是 $12$，小于套餐的 $14$，而另外两个 $6$ 号餐品又不在套餐里出现，因此剩下的一个 $1$ 号餐品和两个 $6$ 号餐品都只能单独收费。因此总花费为 $14+12+3\\times 2=32$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant k,t\\leqslant 20$，$1\\leqslant c_i\\leqslant 250$，$1\\leqslant x<1000$，$1\\leqslant p_i,s_i\\leqslant k$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T1 TETA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #7] TETA", "background": "你发现自己扮演的是一位在食堂担任收银员的好女士。这位女士被所有学生认为是好人的多种原因之一是，她关心你在访问食堂时尽可能少花钱。", "description": "她是如何做到这一点的呢？策略其实很简单。在食堂里可以买到各种饭菜，其价格也是众所周知的。每天都会提供一份**套餐**。一份套餐包括 $4$ 份饭菜（通常是汤、主菜、配菜和甜点），但它的价格 $x$ 小于或等于其组成部分的价格总和。当这位女士注意到，如果你拿了套餐中的个别东西，并且如果按照一整个套餐的费用会花更少的钱，那么她就**一定会这样做**，而你会满载而归，口袋里剩下比原来更多的钱。\n\n你拿着托盘站在收银台前，想知道你要付多少钱。写一个方案来确定它吧!\n\n请注意：女士可以用多个套餐向你收费，这样价格会更便宜。", "inputFormat": "输入共六行。\n\n第一行输入一个整数 $k$，表示食堂今天供应的餐品总数。  \n第二行输入 $k$ 个整数，第 $i$ 个整数 $c_i$ 表示第 $i$ 个餐品的价格。   \n第三行输入一个整数 $x$，表示套餐的价格。  \n第四行输入 $4$ 个整数 $p_1,p_2,p_3,p_4$，分别表示套餐里面包含的 $4$ 种餐品。**保证 $p_i$ 互不相同**。  \n第五行输入一个整数 $t$，表示你点的餐品的个数。  \n第六行输入 $t$ 个整数，第 $i$ 个整数 $s_i$ 表示你点的餐品的编号。**不保证 $s_i$ 互不相同**。\n", "outputFormat": "输出仅一行，一个整数，表示你今天在食堂的花费。", "hint": "**【样例 1 解释】**\n\n你点了 $1,3,4$ 这三个在套餐中的餐品，这三个餐品单点的总价为 $10+8+9=27$，大于套餐的价格 $14$，因此收银的女士会将这些餐品按照 $14$ 元收费。除此之外的 $6,7$ 两个餐品不在套餐中，因此单独收费。故总花费为 $14+5+3=22$。\n\n**【样例 2 解释】**\n\n你点了 $1,2$ 这两个在套餐中的餐品，这两个餐品单点的总价为 $12+4=16$，大于套餐的价格 $14$，因此收银的女士会将这些餐品按照 $14$ 元收费。此外还剩下一个 $1$ 号餐品和两个 $6$ 号餐品。由于一个 $1$ 号餐品的价格是 $12$，小于套餐的 $14$，而另外两个 $6$ 号餐品又不在套餐里出现，因此剩下的一个 $1$ 号餐品和两个 $6$ 号餐品都只能单独收费。因此总花费为 $14+12+3\\times 2=32$。\n\n**【数据范围】**\n\n对于所有数据，$1\\leqslant k,t\\leqslant 20$，$1\\leqslant c_i\\leqslant 250$，$1\\leqslant x<1000$，$1\\leqslant p_i,s_i\\leqslant k$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T1 TETA_**，按照原题数据配置，满分 $50$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7792", "type": "P", "difficulty": 2, "samples": [["3 5\n1\n2\n3", "4"], ["4 6\n4\n2\n1\n3", "13"], ["10 7\n1\n3\n2\n4\n5\n7\n6\n8\n9\n10", "25"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #7] KRIZA", "background": "某国的经济状况很糟糕，冰冻灾害袭击了整个国家，人们正在失去工作。然而，Sisyphus，本题的主角，已经为自己找到了一份新工作。从下周一开始，Sisyphus 将成为一家酒店的助理锁匠。当然，他首先需要向锁匠头子展示他的开锁能力。", "description": "这就是锁匠头子给了 Sisyphus $n$ 把钥匙，放在一个大圆坠子上，蒙住他的眼睛并把他带进一个大房间的原因。这个房间里恰好有 $n$ 扇锁着的门，用 $1$ 到 $n$ 的数字表示。吊坠上的每一把钥匙都正好能打开一扇门，其中第 $i$ 把钥匙能打开第 $v_i$ 扇门。Sisyphus 的工作是将每一扇门解锁并再次上锁。他这样做的方式是沿着墙壁移动，不改变方向，直到他到达一扇门。当他走到一扇门前时，他尝试用从当前左数第一把钥匙来解锁。如果钥匙没有开锁，Sisyphus 就把它丢到最右边，并再用当前最左边的那一把钥匙再试一次，重复这个过程，直到他找到正确的钥匙为止。当他所有的门解锁时，他的工作就完成了。Sisyphus 打开的第一扇门用 $1$ 表示，下一扇用 $2$ 表示，后一扇用 $3$ 表示，以此类推......\n\nSisyphus 不知道的是，锁匠头子其实是在考验他的耐力，所以把他领到了一个圆形的房间。因此，Sisyphus 在解开并锁上最后一扇门后，会再次去解开并锁上第一扇门。因为他是一个勤奋而执着的家伙，Sisyphus 一直在做这项工作，几个小时都没有说一句话。只有在第 $k$ 次成功开锁和锁门后，他才开口说话：\"如果我知道到目前为止我把一把错误的钥匙放在门锁里有多少次就好了！\" 你的任务是回答他的问题。", "inputFormat": "输入共 $n+1$ 行。\n\n第一行输入两个整数 $n,k$，分别表示 Sisyphus 拥有的的钥匙数量和他当前为止成功开锁和锁门的次数。  \n随后 $n$ 行，每行一个整数 $v_i$，表示第 $i$ 把钥匙对应能开的门的编号。", "outputFormat": "输出仅一行，表示 Sisyphus 把一把错误的钥匙放在门锁里的次数。", "hint": "**【样例 2 解释】**\n\n以下是 Sisyphus 使用钥匙的情况，其中一个标红的数字表示他把错误的钥匙放在门锁里一次：\n\n- 对第 $1$ 扇门进行开锁和锁门操作：$\\color{Red}4~2~\\color{default}1~3$\n- 对第 $2$ 扇门进行开锁和锁门操作：$\\color{Red}1~3~4~\\color{default}2$\n- 对第 $3$ 扇门进行开锁和锁门操作：$\\color{Red}2~1~\\color{default}3~4$\n- 对第 $4$ 扇门进行开锁和锁门操作：$\\color{Red}3~\\color{default}4~2~1$\n- 对第 $1$ 扇门进行开锁和锁门操作：$\\color{Red}4~2~\\color{default}1~3$\n- 对第 $2$ 扇门进行开锁和锁门操作：$\\color{Red}1~3~4~\\color{default}2$\n\n因此他把错误的钥匙放在门锁里的次数一共是 $2+3+2+1+2+3=13$。\n\n**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $1\\leqslant n,k\\leqslant 1000$。  \n对于 $60\\%$ 的数据，保证 $1\\leqslant k\\leqslant 5\\times 10^4$。  \n对于所有数据，$1\\leqslant v_i\\leqslant n\\leqslant 10^5$，$1\\leqslant k\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T2 KRIZA_**，按照原题数据配置，满分 $80$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #7] KRIZA", "background": "某国的经济状况很糟糕，冰冻灾害袭击了整个国家，人们正在失去工作。然而，Sisyphus，本题的主角，已经为自己找到了一份新工作。从下周一开始，Sisyphus 将成为一家酒店的助理锁匠。当然，他首先需要向锁匠头子展示他的开锁能力。", "description": "这就是锁匠头子给了 Sisyphus $n$ 把钥匙，放在一个大圆坠子上，蒙住他的眼睛并把他带进一个大房间的原因。这个房间里恰好有 $n$ 扇锁着的门，用 $1$ 到 $n$ 的数字表示。吊坠上的每一把钥匙都正好能打开一扇门，其中第 $i$ 把钥匙能打开第 $v_i$ 扇门。Sisyphus 的工作是将每一扇门解锁并再次上锁。他这样做的方式是沿着墙壁移动，不改变方向，直到他到达一扇门。当他走到一扇门前时，他尝试用从当前左数第一把钥匙来解锁。如果钥匙没有开锁，Sisyphus 就把它丢到最右边，并再用当前最左边的那一把钥匙再试一次，重复这个过程，直到他找到正确的钥匙为止。当他所有的门解锁时，他的工作就完成了。Sisyphus 打开的第一扇门用 $1$ 表示，下一扇用 $2$ 表示，后一扇用 $3$ 表示，以此类推......\n\nSisyphus 不知道的是，锁匠头子其实是在考验他的耐力，所以把他领到了一个圆形的房间。因此，Sisyphus 在解开并锁上最后一扇门后，会再次去解开并锁上第一扇门。因为他是一个勤奋而执着的家伙，Sisyphus 一直在做这项工作，几个小时都没有说一句话。只有在第 $k$ 次成功开锁和锁门后，他才开口说话：\"如果我知道到目前为止我把一把错误的钥匙放在门锁里有多少次就好了！\" 你的任务是回答他的问题。", "inputFormat": "输入共 $n+1$ 行。\n\n第一行输入两个整数 $n,k$，分别表示 Sisyphus 拥有的的钥匙数量和他当前为止成功开锁和锁门的次数。  \n随后 $n$ 行，每行一个整数 $v_i$，表示第 $i$ 把钥匙对应能开的门的编号。", "outputFormat": "输出仅一行，表示 Sisyphus 把一把错误的钥匙放在门锁里的次数。", "hint": "**【样例 2 解释】**\n\n以下是 Sisyphus 使用钥匙的情况，其中一个标红的数字表示他把错误的钥匙放在门锁里一次：\n\n- 对第 $1$ 扇门进行开锁和锁门操作：$\\color{Red}4~2~\\color{default}1~3$\n- 对第 $2$ 扇门进行开锁和锁门操作：$\\color{Red}1~3~4~\\color{default}2$\n- 对第 $3$ 扇门进行开锁和锁门操作：$\\color{Red}2~1~\\color{default}3~4$\n- 对第 $4$ 扇门进行开锁和锁门操作：$\\color{Red}3~\\color{default}4~2~1$\n- 对第 $1$ 扇门进行开锁和锁门操作：$\\color{Red}4~2~\\color{default}1~3$\n- 对第 $2$ 扇门进行开锁和锁门操作：$\\color{Red}1~3~4~\\color{default}2$\n\n因此他把错误的钥匙放在门锁里的次数一共是 $2+3+2+1+2+3=13$。\n\n**【数据范围】**\n\n对于 $40\\%$ 的数据，保证 $1\\leqslant n,k\\leqslant 1000$。  \n对于 $60\\%$ 的数据，保证 $1\\leqslant k\\leqslant 5\\times 10^4$。  \n对于所有数据，$1\\leqslant v_i\\leqslant n\\leqslant 10^5$，$1\\leqslant k\\leqslant 10^9$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T2 KRIZA_**，按照原题数据配置，满分 $80$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7793", "type": "P", "difficulty": 3, "samples": [["3\n1 3 3\n1 1 1\n1 2 3", "4"], ["7\n3 3 4 1 3 4 4\n4 2 5 1 5 5 4\n5 5 1 3 4 4 4", "19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "2014", "记忆化搜索", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #7] ACM", "background": "Zagreb 大学的团队的成员 Stjepan、Ivan 和 Gustav 正在摩洛哥参加 ACM 国际大学生程序设计竞赛的世界决赛。他们的技术指导 Goran 想出了一个无敌的策略，用于解决决赛中的题目。", "description": "在一开始，每个团队成员迅速估计 $n$ 道题目中每题的难度。这些难度用 $1$ 到 $5$ 的数字描述，数字越大，难度也就越大。\n\n在这之后，他们之间将分配任务。为了简单起见，任务阵列将被分成三部分，以便每个团队成员得到一个**非空**的连续任务序列来思考。这种分配是为了使估计的难度之和最小，而只计算被分配到该任务的团队成员的估计难度值。你的任务是计算这个最小的可能总和。", "inputFormat": "输入共四行。\n\n第一行输入一个整数 $n$，表示问题的数量。  \n第二到第四行，第 $i+1$ 行 $n$ 个整数 $d_{i,1},d_{i,2},\\dots,d_{i,n}$，表示第 $i$ 号成员对于这 $n$ 道题目估计的难度。", "outputFormat": "输出仅一行，一个整数，表示最小可能的估计难度总和。", "hint": "**【样例 1 解释】**\n\n给第 $1$ 号成员分配第 $1$ 题，给第 $2$ 号成员分配第 $3$ 道题，给第 $3$ 号成员分配第 $2$ 道题。这样分配的难度总和为 $1+1+2=4$。可以证明没有难度总和更小的分配方案。\n\n**【数据范围】**\n\n对于所有数据，$3\\leqslant n\\leqslant 1.5\\times 10^5$，$1\\leqslant d_{i,j}\\leqslant 5$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T3 ACM_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #7] ACM", "background": "Zagreb 大学的团队的成员 Stjepan、Ivan 和 Gustav 正在摩洛哥参加 ACM 国际大学生程序设计竞赛的世界决赛。他们的技术指导 Goran 想出了一个无敌的策略，用于解决决赛中的题目。", "description": "在一开始，每个团队成员迅速估计 $n$ 道题目中每题的难度。这些难度用 $1$ 到 $5$ 的数字描述，数字越大，难度也就越大。\n\n在这之后，他们之间将分配任务。为了简单起见，任务阵列将被分成三部分，以便每个团队成员得到一个**非空**的连续任务序列来思考。这种分配是为了使估计的难度之和最小，而只计算被分配到该任务的团队成员的估计难度值。你的任务是计算这个最小的可能总和。", "inputFormat": "输入共四行。\n\n第一行输入一个整数 $n$，表示问题的数量。  \n第二到第四行，第 $i+1$ 行 $n$ 个整数 $d_{i,1},d_{i,2},\\dots,d_{i,n}$，表示第 $i$ 号成员对于这 $n$ 道题目估计的难度。", "outputFormat": "输出仅一行，一个整数，表示最小可能的估计难度总和。", "hint": "**【样例 1 解释】**\n\n给第 $1$ 号成员分配第 $1$ 题，给第 $2$ 号成员分配第 $3$ 道题，给第 $3$ 号成员分配第 $2$ 道题。这样分配的难度总和为 $1+1+2=4$。可以证明没有难度总和更小的分配方案。\n\n**【数据范围】**\n\n对于所有数据，$3\\leqslant n\\leqslant 1.5\\times 10^5$，$1\\leqslant d_{i,j}\\leqslant 5$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T3 ACM_**，按照原题数据配置，满分 $100$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7794", "type": "P", "difficulty": 4, "samples": [["2 2", "0"], ["5 3", "12"], ["7 3", "96"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["数学", "2014", "组合数学", "排列组合", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #7] JANJE", "background": "", "description": "年轻的 Bojan 现在是一名成功的电气工程专业学生，从小就喜欢涂色。想起童年时漫不经心的日子，他决定买一本涂色书和 $k$ 种颜色的颜料，然后开始工作。有趣的是，Bojan 不喜欢五颜六色的图片，所以他决定**每张图片最多使用三种不同的颜色着色**。此外，Bojan **永远不会用同一种颜色给两个相邻的区域上色**，如果两个区域的边缘至少有一个连接点，则被视为相邻。例如，下图用 $4$ 和 $3$ 表示的区域是相邻的，而区域 $1$ 和 $2$ 则不是。此外，下面这张图片的着色方式符合 Bojan 的所有要求。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bymq7g5t.png)\n\n在开始给一张图片上色之前，Bojan 会问自己有多少种方法可以给这张图上色，从而满足他的所有条件。鉴于 Bojan 是学电气工程的，可以理解的是，组合学不是他的强项，所以他向你寻求帮助。", "inputFormat": "输入仅一行两个整数 $n,k$，分别代表涂色书里面的图片编号和 Bojan 的颜料拥有的颜色数量。\n\n涂色书将会在附件中给出（即文件 `Happy coloring book.pdf`），涂色书里面的图片按照先后顺序依次编号为 $1$ 到 $8$。", "outputFormat": "输出仅一行一个整数，代表 Bojan 在满足自己所有要求的上色方式的个数。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 8$，$1\\leqslant k\\leqslant 1000$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T4 JANJE_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #7] JANJE", "background": "", "description": "年轻的 Bojan 现在是一名成功的电气工程专业学生，从小就喜欢涂色。想起童年时漫不经心的日子，他决定买一本涂色书和 $k$ 种颜色的颜料，然后开始工作。有趣的是，Bojan 不喜欢五颜六色的图片，所以他决定**每张图片最多使用三种不同的颜色着色**。此外，Bojan **永远不会用同一种颜色给两个相邻的区域上色**，如果两个区域的边缘至少有一个连接点，则被视为相邻。例如，下图用 $4$ 和 $3$ 表示的区域是相邻的，而区域 $1$ 和 $2$ 则不是。此外，下面这张图片的着色方式符合 Bojan 的所有要求。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bymq7g5t.png)\n\n在开始给一张图片上色之前，Bojan 会问自己有多少种方法可以给这张图上色，从而满足他的所有条件。鉴于 Bojan 是学电气工程的，可以理解的是，组合学不是他的强项，所以他向你寻求帮助。", "inputFormat": "输入仅一行两个整数 $n,k$，分别代表涂色书里面的图片编号和 Bojan 的颜料拥有的颜色数量。\n\n涂色书将会在附件中给出（即文件 `Happy coloring book.pdf`），涂色书里面的图片按照先后顺序依次编号为 $1$ 到 $8$。", "outputFormat": "输出仅一行一个整数，代表 Bojan 在满足自己所有要求的上色方式的个数。", "hint": "**【数据范围】**\n\n对于所有数据，$1\\leqslant n\\leqslant 8$，$1\\leqslant k\\leqslant 1000$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T4 JANJE_**，按照原题数据配置，满分 $120$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7795", "type": "P", "difficulty": 3, "samples": [["4 1\n1 2 3 4", "4.000000"], ["4 2\n2 4 3 4", "3.666666"], ["6 3\n7 1 2 1 3 6", "3.333333"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "二分", "单调队列", "Special Judge", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #7] PROSJEK", "background": "", "description": "给定一个有 $n$ 个整数的数列 $a$。请找出一个长度至少为 $k$ 的连续子序列，使这个子序列的所有数的平均值最大。", "inputFormat": "输入共 $2$ 行。\n\n第一行输入两个整数 $n,k$。  \n第二行输入 $n$ 个整数 $a_1,a_2,\\dots,a_n$，表示数列 $a$ 的所有数。", "outputFormat": "输出仅一行，一个实数，表示长度至少为 $k$ 的连续子序列的数的最大平均值。\n\n在每个测试点中，只要你的程序给出的答案和标准答案的相对误差不超过 $10^{-3}$，你的程序就可以通过该测试点。", "hint": "**【数据范围】**\n\n对于 $30\\%$ 的数据，保证 $n\\leqslant 5000$。  \n对于所有数据，$1\\leqslant k\\leqslant n\\leqslant 3\\times 10^5$，$1\\leqslant a_i\\leqslant 10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T5 PROSJEK_**，按照原题数据配置，满分 $140$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #7] PROSJEK", "background": "", "description": "给定一个有 $n$ 个整数的数列 $a$。请找出一个长度至少为 $k$ 的连续子序列，使这个子序列的所有数的平均值最大。", "inputFormat": "输入共 $2$ 行。\n\n第一行输入两个整数 $n,k$。  \n第二行输入 $n$ 个整数 $a_1,a_2,\\dots,a_n$，表示数列 $a$ 的所有数。", "outputFormat": "输出仅一行，一个实数，表示长度至少为 $k$ 的连续子序列的数的最大平均值。\n\n在每个测试点中，只要你的程序给出的答案和标准答案的相对误差不超过 $10^{-3}$，你的程序就可以通过该测试点。", "hint": "**【数据范围】**\n\n对于 $30\\%$ 的数据，保证 $n\\leqslant 5000$。  \n对于所有数据，$1\\leqslant k\\leqslant n\\leqslant 3\\times 10^5$，$1\\leqslant a_i\\leqslant 10^6$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T5 PROSJEK_**，按照原题数据配置，满分 $140$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7796", "type": "P", "difficulty": 5, "samples": [["2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5", "2"], ["3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8", "4"], ["2 2\n1 2\n3 4\n2 3\n4 1", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2014", "欧拉回路", "COCI（克罗地亚）"], "title": "[COCI 2014/2015 #7] POLICE", "background": "", "description": "在图书管理员 Jurica 的图书馆里有 $n$ 个书架，每个书架有 $m$ 个位置，从左往右编号为 $1$ 到 $m$，并且每个位置上都可以放一本书。Jurica 是一个好的图书管理员，所以他决定对图书馆进行清点，如果有必要，就把不在自己位置上的书放回原来的位置。具体来说，现在第 $i$ 个书架上的第 $j$ 个位置上面摆着编号为 $a_{i,j}$ 的书（如果 $a_{i,j}=0$ 说明这个位置上面现在没有书），而原来在这个位置上摆着编号为 $b_{i,j}$ 的书（如果 $b_{i,j}=0$ 说明这个位置上面原来没有书）。他以下列操作移动书籍：\n\n- 操作 $1$：如果左边或右边有空位，可以在书架上向左或向右移动图书。\n- 操作 $2$：从书架上取下一本书，放在该书架或其他书架的空位上。\n\n细心的 Jurica 如果手中有书，就不能移动书。此外，他**不能同时拿多于一本书**。\n\n自从他不得不把维基百科印刷版的所有书卷从一楼搬到二楼后，Jurica 就一直背痛。因为他的背很疼，所以现在他想把所有的书放好，尽量少搬。请告诉他需要的执行**操作 $2$ 的次数**最少是多少，或者告诉他根本不可能把这些书搬回原来的位置。", "inputFormat": "输入共 $2n+1$ 行。\n\n第一行输入两个整数 $n,m$，分别表示书架个数和每个书架上的位置个数。  \n第 $2$ 到 $n+1$ 行，每行输入 $m$ 个整数 $a_{i,j}$，描述现在书架上摆书的情况。  \n第 $n+2$ 到 $2n+1$ 行，每行输入 $m$ 个整数 $b_{i,j}$，描述原来书架上摆书的情况。\n\n**输入保证原来和现在出现的书籍完全相同。**", "outputFormat": "如果 Jurica 根本不可能把这些书搬回原来的位置，则仅输出一个整数 $-1$。\n\n否则，输出一行一个整数，表示执行**操作 $2$ 的最少次数**。", "hint": "**【样例 1 解释】**\n\n以下是 Jurica 的操作序列：\n\n1. 操作 $1$：把 $1$ 号书籍移动到它右边的位置，也就是它所在书架上的第二个位置。\n2. 操作 $2$：把 $2$ 号书籍搬到它所在书架上的第一个位置。\n3. 操作 $2$：把 $5$ 号书籍搬到它所在书架上的第二个位置。\n\n可以证明没有更少执行操作 $2$ 的方案。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，保证每本书在初始和最终状态下都会在同一个书架上。  \n对于所有数据，$1\\leqslant n,m\\leqslant 1000$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T6 POLICE_**，按照原题数据配置，满分 $160$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2014/2015 #7] POLICE", "background": "", "description": "在图书管理员 Jurica 的图书馆里有 $n$ 个书架，每个书架有 $m$ 个位置，从左往右编号为 $1$ 到 $m$，并且每个位置上都可以放一本书。Jurica 是一个好的图书管理员，所以他决定对图书馆进行清点，如果有必要，就把不在自己位置上的书放回原来的位置。具体来说，现在第 $i$ 个书架上的第 $j$ 个位置上面摆着编号为 $a_{i,j}$ 的书（如果 $a_{i,j}=0$ 说明这个位置上面现在没有书），而原来在这个位置上摆着编号为 $b_{i,j}$ 的书（如果 $b_{i,j}=0$ 说明这个位置上面原来没有书）。他以下列操作移动书籍：\n\n- 操作 $1$：如果左边或右边有空位，可以在书架上向左或向右移动图书。\n- 操作 $2$：从书架上取下一本书，放在该书架或其他书架的空位上。\n\n细心的 Jurica 如果手中有书，就不能移动书。此外，他**不能同时拿多于一本书**。\n\n自从他不得不把维基百科印刷版的所有书卷从一楼搬到二楼后，Jurica 就一直背痛。因为他的背很疼，所以现在他想把所有的书放好，尽量少搬。请告诉他需要的执行**操作 $2$ 的次数**最少是多少，或者告诉他根本不可能把这些书搬回原来的位置。", "inputFormat": "输入共 $2n+1$ 行。\n\n第一行输入两个整数 $n,m$，分别表示书架个数和每个书架上的位置个数。  \n第 $2$ 到 $n+1$ 行，每行输入 $m$ 个整数 $a_{i,j}$，描述现在书架上摆书的情况。  \n第 $n+2$ 到 $2n+1$ 行，每行输入 $m$ 个整数 $b_{i,j}$，描述原来书架上摆书的情况。\n\n**输入保证原来和现在出现的书籍完全相同。**", "outputFormat": "如果 Jurica 根本不可能把这些书搬回原来的位置，则仅输出一个整数 $-1$。\n\n否则，输出一行一个整数，表示执行**操作 $2$ 的最少次数**。", "hint": "**【样例 1 解释】**\n\n以下是 Jurica 的操作序列：\n\n1. 操作 $1$：把 $1$ 号书籍移动到它右边的位置，也就是它所在书架上的第二个位置。\n2. 操作 $2$：把 $2$ 号书籍搬到它所在书架上的第一个位置。\n3. 操作 $2$：把 $5$ 号书籍搬到它所在书架上的第二个位置。\n\n可以证明没有更少执行操作 $2$ 的方案。\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，保证每本书在初始和最终状态下都会在同一个书架上。  \n对于所有数据，$1\\leqslant n,m\\leqslant 1000$。\n\n**【题目来源】**\n\n本题来源自 **_[COCI 2014-2015](https://hsin.hr/coci/archive/2014_2015/) [CONTEST 7](https://hsin.hr/coci/archive/2014_2015/contest7_tasks.pdf) T6 POLICE_**，按照原题数据配置，满分 $160$ 分。\n\n由 [Eason_AC](https://www.luogu.com.cn/user/112917) 翻译整理提供。", "locale": "zh-CN"}}}
{"pid": "P7797", "type": "P", "difficulty": 1, "samples": [["2 S\nTH\n9C\nKS\nQS\nJS\nTD\nAD\nJH", "60"], ["4 H\nAH\nKH\nQH\nJH\nTH\n9H\n8H\n7H\nAS\nKS\nQS\nJS\nTS\n9S\n8S\n7S", "92"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #6] BELA", "background": "", "description": "有一个叫 $\\text{Belote}$ 的纸牌游戏，游戏只用到 `A`，`K`，`Q`，`J`，`T`，`9`，`8`，`7` 共八种纸牌。\n游戏规则就是将所有纸牌的值加起来，看看谁的值较大，谁就赢。每种纸牌的值都有两种，当其为**特殊牌**时有一个值，**非特殊牌**时也有一个值。每种卡牌的值见下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w1wpljth.png)\n\n现在 $\\text{Mirko}$ 有 $4\\times N$ 张纸牌，并已知特殊牌的属性为 $B$，请计算 $\\text{Mirko}$ 所有纸牌值的总和。", "inputFormat": "第一行包含整数 $N$ 和字符 $B$。\n\n接下来 $4\\times N$ 行，每行包含两个字符。第一个字符为这张纸牌的种类，第二个字符为这张纸牌的属性。若这张纸牌的属性 $=B$，则说明这张纸牌为特殊牌。", "outputFormat": "输出一个整数，为 $\\text{Mirko}$ 所有纸牌值的总和。", "hint": "**【样例 2 解释】**\n\n纸牌值总和为 $11 + 4 + 3 + 20 + 10 + 14 +\n0 + 0 + 11 + 4 + 3 + 2 + 10 + 0 + 0 + 0 = 92 $。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 100$，$B$ 和所有纸牌的属性都属于 `S`，`H`，`D`，`C` 四种字符中的一种，所有纸牌的种类都属于 `A`，`K`，`Q`，`J`，`T`，`9`，`8`，`7` 共八种纸牌中的一种。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T1 BELA**。\n\n**本题分值按 COCI 原题设置，满分 $50$**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #6] BELA", "background": "", "description": "有一个叫 $\\text{Belote}$ 的纸牌游戏，游戏只用到 `A`，`K`，`Q`，`J`，`T`，`9`，`8`，`7` 共八种纸牌。\n游戏规则就是将所有纸牌的值加起来，看看谁的值较大，谁就赢。每种纸牌的值都有两种，当其为**特殊牌**时有一个值，**非特殊牌**时也有一个值。每种卡牌的值见下表：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w1wpljth.png)\n\n现在 $\\text{Mirko}$ 有 $4\\times N$ 张纸牌，并已知特殊牌的属性为 $B$，请计算 $\\text{Mirko}$ 所有纸牌值的总和。", "inputFormat": "第一行包含整数 $N$ 和字符 $B$。\n\n接下来 $4\\times N$ 行，每行包含两个字符。第一个字符为这张纸牌的种类，第二个字符为这张纸牌的属性。若这张纸牌的属性 $=B$，则说明这张纸牌为特殊牌。", "outputFormat": "输出一个整数，为 $\\text{Mirko}$ 所有纸牌值的总和。", "hint": "**【样例 2 解释】**\n\n纸牌值总和为 $11 + 4 + 3 + 20 + 10 + 14 +\n0 + 0 + 11 + 4 + 3 + 2 + 10 + 0 + 0 + 0 = 92 $。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 100$，$B$ 和所有纸牌的属性都属于 `S`，`H`，`D`，`C` 四种字符中的一种，所有纸牌的种类都属于 `A`，`K`，`Q`，`J`，`T`，`9`，`8`，`7` 共八种纸牌中的一种。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T1 BELA**。\n\n**本题分值按 COCI 原题设置，满分 $50$**。", "locale": "zh-CN"}}}
{"pid": "P7798", "type": "P", "difficulty": 1, "samples": [["5 5\n3 1 2 1 1", "4"], ["7 5\n1 5 4 3 2 1 1", "3"], ["5 10\n3 2 5 4 3", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #6] PUTOVANJE", "background": "", "description": "$\\text{Mislav}$ 最喜欢在森林里度过时光，因为森林里有各种各样的水果，吃了每种水果都能获得一定的饱食度。但他不会使自己的总饱食度超过 $C$。\n\n现在森林里有一条小径，小径旁顺次种了 $N$ 个水果，每个水果都有一个饱食度 $w_i$。$\\text{Mislav}$ 可以选择从任意一个水果的位置开始，往第 $N$ 个水果前进。在前进的过程中，如果吃下当前位置的水果，总饱食度不会超过 $C$，他就**一定会吃下该水果**。否则，他就会**跳过该水果**，继续前进。\n\n请问 $\\text{Mislav}$ 能吃掉的水果个数最多是多少？", "inputFormat": "第一行包含两个整数 $N$ 和 $C$。\n\n第二行包含 $N$ 个整数 $w_i$，为第 $i$ 个水果的饱食度。", "outputFormat": "输出一个整数，为 $\\text{Mislav}$ 能吃掉的最多水果个数。", "hint": "**【样例 1 解释】**\n\n如果 $\\text{Mislav}$ 决定从第 $1$ 个水果开始吃，那么他可以吃到第 $1$、$2$、$4$ 个水果，一共吃了 $3$ 个。如果他从第 $2$ 种水果开始吃，那么他可以吃到第 $2$、$3$、$4$、$5$ 共 $4$ 个水果。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 1000$，$1\\le C\\le 10^6$，$1\\le w_i\\le 1000$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T2 PUTOVANJE**。\n\n**本题分值按 COCI 原题设置，满分 $80$**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #6] PUTOVANJE", "background": "", "description": "$\\text{Mislav}$ 最喜欢在森林里度过时光，因为森林里有各种各样的水果，吃了每种水果都能获得一定的饱食度。但他不会使自己的总饱食度超过 $C$。\n\n现在森林里有一条小径，小径旁顺次种了 $N$ 个水果，每个水果都有一个饱食度 $w_i$。$\\text{Mislav}$ 可以选择从任意一个水果的位置开始，往第 $N$ 个水果前进。在前进的过程中，如果吃下当前位置的水果，总饱食度不会超过 $C$，他就**一定会吃下该水果**。否则，他就会**跳过该水果**，继续前进。\n\n请问 $\\text{Mislav}$ 能吃掉的水果个数最多是多少？", "inputFormat": "第一行包含两个整数 $N$ 和 $C$。\n\n第二行包含 $N$ 个整数 $w_i$，为第 $i$ 个水果的饱食度。", "outputFormat": "输出一个整数，为 $\\text{Mislav}$ 能吃掉的最多水果个数。", "hint": "**【样例 1 解释】**\n\n如果 $\\text{Mislav}$ 决定从第 $1$ 个水果开始吃，那么他可以吃到第 $1$、$2$、$4$ 个水果，一共吃了 $3$ 个。如果他从第 $2$ 种水果开始吃，那么他可以吃到第 $2$、$3$、$4$、$5$ 共 $4$ 个水果。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 1000$，$1\\le C\\le 10^6$，$1\\le w_i\\le 1000$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T2 PUTOVANJE**。\n\n**本题分值按 COCI 原题设置，满分 $80$**。", "locale": "zh-CN"}}}
{"pid": "P7799", "type": "P", "difficulty": 3, "samples": [["5\n1 2 0 3 1", "3\n2"], ["7\n2 1 -6 -2 1 6 10", "5\n4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #6] PIANINO", "background": "", "description": "$\\text{Mirka}$ 是个业余钢琴家，她正在学习一首乐曲。但她不太能找准音，因此她会采用一种特殊的技巧。\n\n这首乐曲中有 $N$ 个音符，每个音符都有一个标准音 $a_i$。$\\text{Mirka}$ 能准确地弹出第一个音，接下来她会确定一个值 $K$。\n\n- 如果下一个音符的标准音大于当前音符的标准音，她就会将自己当前弹的音升高 $K$。\n- 如果下一个音符的标准音小于当前音符的标准音，她就会将自己当前弹的音降低 $K$。\n- 如果下一个音符的标准音等于当前音符的标准音，她不会改变当前弹的音。\n\n如果当前弹的音等于当前字符的标准音，就算 $\\text{Mirka}$ 弹准了一个音。请帮她确定一个非负整数 $K$，使得她弹准的音最多。", "inputFormat": "第一行包含一个整数 $N$。\n\n第二行包含 $N$ 个整数 $a_i$，其中 $a_i$ 为第 $i$ 个音符的标准音。", "outputFormat": "第一行输出一个整数，为 $\\text{Mirka}$ 最多能弹准的音。\n\n第二行输出一个非负整数，为 $K$ 的值。您只需输出**任意一种满足条件**的 $K$ 即可。", "hint": "**【样例 1 解释】**\n\n当 $K=2$ 时，她弹出的音为 **1**，3，1，**3**，**1**，共弹准了 $3$ 个音。\n\n注意 $K=1$ 也是一种可行的方案。\n\n**【样例 2 解释】**\n\n当 $K=4$ 时，她弹出的音为 **2**，-2，**-6**，**-2**，2，**6**，**10**，共弹准了 $5$ 个音。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le N\\le 10^6$，$-10^9\\le a_i\\le 10^9$。\n\n**【评分方式】**\n\n本题启用非官方的自行编写的 [Special Judge](https://www.luogu.com.cn/paste/i91dcbr2)，也可在附件中获取。欢迎大家 Hack（可私信或直接发帖）。Hack 数据作为测试点单独放在最后，对应测试点分数均为 0 分。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T3 PIANINO**。\n\n**本题分值按 COCI 原题设置，满分 $100$**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #6] PIANINO", "background": "", "description": "$\\text{Mirka}$ 是个业余钢琴家，她正在学习一首乐曲。但她不太能找准音，因此她会采用一种特殊的技巧。\n\n这首乐曲中有 $N$ 个音符，每个音符都有一个标准音 $a_i$。$\\text{Mirka}$ 能准确地弹出第一个音，接下来她会确定一个值 $K$。\n\n- 如果下一个音符的标准音大于当前音符的标准音，她就会将自己当前弹的音升高 $K$。\n- 如果下一个音符的标准音小于当前音符的标准音，她就会将自己当前弹的音降低 $K$。\n- 如果下一个音符的标准音等于当前音符的标准音，她不会改变当前弹的音。\n\n如果当前弹的音等于当前字符的标准音，就算 $\\text{Mirka}$ 弹准了一个音。请帮她确定一个非负整数 $K$，使得她弹准的音最多。", "inputFormat": "第一行包含一个整数 $N$。\n\n第二行包含 $N$ 个整数 $a_i$，其中 $a_i$ 为第 $i$ 个音符的标准音。", "outputFormat": "第一行输出一个整数，为 $\\text{Mirka}$ 最多能弹准的音。\n\n第二行输出一个非负整数，为 $K$ 的值。您只需输出**任意一种满足条件**的 $K$ 即可。", "hint": "**【样例 1 解释】**\n\n当 $K=2$ 时，她弹出的音为 **1**，3，1，**3**，**1**，共弹准了 $3$ 个音。\n\n注意 $K=1$ 也是一种可行的方案。\n\n**【样例 2 解释】**\n\n当 $K=4$ 时，她弹出的音为 **2**，-2，**-6**，**-2**，2，**6**，**10**，共弹准了 $5$ 个音。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$2\\le N\\le 10^6$，$-10^9\\le a_i\\le 10^9$。\n\n**【评分方式】**\n\n本题启用非官方的自行编写的 [Special Judge](https://www.luogu.com.cn/paste/i91dcbr2)，也可在附件中获取。欢迎大家 Hack（可私信或直接发帖）。Hack 数据作为测试点单独放在最后，对应测试点分数均为 0 分。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T3 PIANINO**。\n\n**本题分值按 COCI 原题设置，满分 $100$**。", "locale": "zh-CN"}}}
{"pid": "P7800", "type": "P", "difficulty": 4, "samples": [["2", "1"], ["3", "5"], ["4", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2015", "容斥原理", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #6] PAROVI", "background": null, "description": "$\\text{Mirko}$ 和 $\\text{Slavko}$ 在玩一个游戏，先由 $\\text{Mirko}$ 在 $1\\dots N$ 中选出几组互质的数（不能不选，且每组中的数不得相同）。例如当 $N=5$ 时，$\\text{Mirko}$ 可以选择 $\\big\\{\\{1,2\\},\\{3,4\\},\\{2,5\\},\\{3,5\\},\\cdots\\big\\}$ 中的几组。\n\n然后轮到 $\\text{Slavko}$。他需要找到一个 $x\\in \\big[2,N\\big]$ 使得对于每组 $\\{a,b\\}$ 都满足以下两个条件之一：\n\n- $a$，$b<x$\n\n- $a$，$b\\ge x$\n\n例如，如果 $\\text{Mirko}$ 选了 $\\big\\{\\{1,2\\},\\{3,4\\}\\big\\}$，那么 $x$ 可以等于 $3$。\n\n如果 $\\text{Slavko}$ 找不到满足条件的 $x$ 值，则表示 $\\text{Mirko}$ 获得胜利。现在请你求出 $\\text{Mirko}$ 获胜的不同情况的总数，在对 $10^9$ 取模后告诉他。", "inputFormat": "第一行包含一个整数 $N$。", "outputFormat": "第一行输出一个整数，为 $\\text{Mirko}$ 获胜的不同情况的总数对 $10^9$ 取模后的值。", "hint": "**【样例 1 解释】**\n\n$\\text{Slavko}$ 只有一种取法 $\\big\\{\\{1,2\\}\\big\\}$。\n\n**【样例 2 解释】**\n\n$\\text{Slavko}$ 的其中一种取法为 $\\big\\{\\{1,2\\},\\{1,3\\}\\big\\}$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 20$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T4 PAROVI**。\n\n**本题分值按 COCI 原题设置，满分 $120$**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #6] PAROVI", "background": null, "description": "$\\text{Mirko}$ 和 $\\text{Slavko}$ 在玩一个游戏，先由 $\\text{Mirko}$ 在 $1\\dots N$ 中选出几组互质的数（不能不选，且每组中的数不得相同）。例如当 $N=5$ 时，$\\text{Mirko}$ 可以选择 $\\big\\{\\{1,2\\},\\{3,4\\},\\{2,5\\},\\{3,5\\},\\cdots\\big\\}$ 中的几组。\n\n然后轮到 $\\text{Slavko}$。他需要找到一个 $x\\in \\big[2,N\\big]$ 使得对于每组 $\\{a,b\\}$ 都满足以下两个条件之一：\n\n- $a$，$b<x$\n\n- $a$，$b\\ge x$\n\n例如，如果 $\\text{Mirko}$ 选了 $\\big\\{\\{1,2\\},\\{3,4\\}\\big\\}$，那么 $x$ 可以等于 $3$。\n\n如果 $\\text{Slavko}$ 找不到满足条件的 $x$ 值，则表示 $\\text{Mirko}$ 获得胜利。现在请你求出 $\\text{Mirko}$ 获胜的不同情况的总数，在对 $10^9$ 取模后告诉他。", "inputFormat": "第一行包含一个整数 $N$。", "outputFormat": "第一行输出一个整数，为 $\\text{Mirko}$ 获胜的不同情况的总数对 $10^9$ 取模后的值。", "hint": "**【样例 1 解释】**\n\n$\\text{Slavko}$ 只有一种取法 $\\big\\{\\{1,2\\}\\big\\}$。\n\n**【样例 2 解释】**\n\n$\\text{Slavko}$ 的其中一种取法为 $\\big\\{\\{1,2\\},\\{1,3\\}\\big\\}$。\n\n**【数据范围】**\n\n对于 $100\\%$ 的数据，$1\\le N\\le 20$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T4 PAROVI**。\n\n**本题分值按 COCI 原题设置，满分 $120$**。", "locale": "zh-CN"}}}
{"pid": "P7801", "type": "P", "difficulty": 5, "samples": [["3 1\n3 2 1\n1 2 3", "0.556"], ["3 2\n2 2 2\n3 3 3", "2.250"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["动态规划 DP", "2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #6] KRUMPIRKO", "background": "", "description": "$\\text{Mr. Potato}$ 开了两家新店卖土豆。他买了 $N$ 袋土豆，其中第 $i$ 袋价值为 $c_i$，袋里有 $a_i$ 个土豆。他打算把这 $N$ 袋土豆整袋整袋地分在两个店里。\n\n在每家店中，土豆的平均价格等于这家店里**所有袋的土豆的总价比上土豆的个数**。（注意是个数而不是袋数！）\n\n设 $P_1$ 为第一家店的土豆平均价格，$P_2$ 为第二家店的土豆平均价格。$\\text{Mr. Potato}$ 希望在至少有一家店里土豆袋数**正好等于 $L$ 袋**的情况下，最小化 $P_1\\times P_2$ 的值。", "inputFormat": "第一行包含两个整数 $N$ 和 $L$。\n\n第二行包含 $N$ 个整数 $a_i$。\n\n第三行包含 $N$ 个整数 $c_i$。", "outputFormat": "第一行输出一个浮点数，为 $P_1\\times P_2$ 的最小值，保留到小数点后三位。", "hint": "**【数据范围】**\n\n对于 $30\\%$ 的数据，$2\\le N\\le 20$。\n\n对于 $100\\%$ 的数据，$2\\le N\\le 100$，$1\\le L< N$，$1\\le a_i\\le 100$，$1\\le c_i\\le 10^6$，$\\sum\\limits_{i=1}^{N} a_i\\le 500$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T5 KRUMPIRKO**。\n\n**本题分值按 COCI 原题设置，满分 $140$**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #6] KRUMPIRKO", "background": "", "description": "$\\text{Mr. Potato}$ 开了两家新店卖土豆。他买了 $N$ 袋土豆，其中第 $i$ 袋价值为 $c_i$，袋里有 $a_i$ 个土豆。他打算把这 $N$ 袋土豆整袋整袋地分在两个店里。\n\n在每家店中，土豆的平均价格等于这家店里**所有袋的土豆的总价比上土豆的个数**。（注意是个数而不是袋数！）\n\n设 $P_1$ 为第一家店的土豆平均价格，$P_2$ 为第二家店的土豆平均价格。$\\text{Mr. Potato}$ 希望在至少有一家店里土豆袋数**正好等于 $L$ 袋**的情况下，最小化 $P_1\\times P_2$ 的值。", "inputFormat": "第一行包含两个整数 $N$ 和 $L$。\n\n第二行包含 $N$ 个整数 $a_i$。\n\n第三行包含 $N$ 个整数 $c_i$。", "outputFormat": "第一行输出一个浮点数，为 $P_1\\times P_2$ 的最小值，保留到小数点后三位。", "hint": "**【数据范围】**\n\n对于 $30\\%$ 的数据，$2\\le N\\le 20$。\n\n对于 $100\\%$ 的数据，$2\\le N\\le 100$，$1\\le L< N$，$1\\le a_i\\le 100$，$1\\le c_i\\le 10^6$，$\\sum\\limits_{i=1}^{N} a_i\\le 500$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T5 KRUMPIRKO**。\n\n**本题分值按 COCI 原题设置，满分 $140$**。", "locale": "zh-CN"}}}
{"pid": "P7802", "type": "P", "difficulty": 6, "samples": [["2\n1 10\n5 8", "18\n8"], ["3\n17 144\n121 121\n89 98", "265\n25\n10"], ["1\n1 1000000000", "1863025563"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2015", "COCI（克罗地亚）"], "title": "[COCI 2015/2016 #6] SAN", "background": "", "description": "$\\text{Anica}$ 有一张神秘的无限表，表里有无限行和无限列。有趣的是，表中的每个数字出现的次数是有限的。\n\n定义函数 $\\mathrm{rev}(i)$，返回 $i$ 在十进制下翻转后得到的新数字。例如 $\\mathrm{rev}(213)=312$，$\\mathrm{rev}(406800)=008604=8604$。\n\n表中第 $i$ 行第 $j$ 列的数字 $A(i,j)$ 由以下方式得到：\n\n- $A(i,1)=i$\n\n- $A(i, j) = A(i, j − 1)+\\mathrm{rev}\\big(A(i,j-1)\\big)$，$j>1$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aqhn1qzp.png)\n\n现在 $\\text{Anica}$ 给出 $Q$ 个询问，每个询问给出两个整数 $L$ 和 $R$，请你求出无限表中有多少个数的大小在 $\\big[L,R\\big]$ 中。", "inputFormat": "第一行包含一个整数 $Q$。\n\n接下来 $Q$ 行，每行包含两个整数 $L$ 和 $R$。", "outputFormat": "输出包含 $Q$ 行，每行一个整数，其中第 $i$ 行为第 $i$ 个问题的答案。", "hint": "**【数据范围】**\n\n对于 $50\\%$ 的数据，保证 $1\\le L,R\\le 10^6$。\n\n对于 $100\\%$ 的数据，保证 $1\\le Q\\le 10^5$，$1\\le L,R\\le 10^{10}$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T6 SAN**。\n\n**本题分值按 COCI 原题设置，满分 $160$**。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2015/2016 #6] SAN", "background": "", "description": "$\\text{Anica}$ 有一张神秘的无限表，表里有无限行和无限列。有趣的是，表中的每个数字出现的次数是有限的。\n\n定义函数 $\\mathrm{rev}(i)$，返回 $i$ 在十进制下翻转后得到的新数字。例如 $\\mathrm{rev}(213)=312$，$\\mathrm{rev}(406800)=008604=8604$。\n\n表中第 $i$ 行第 $j$ 列的数字 $A(i,j)$ 由以下方式得到：\n\n- $A(i,1)=i$\n\n- $A(i, j) = A(i, j − 1)+\\mathrm{rev}\\big(A(i,j-1)\\big)$，$j>1$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aqhn1qzp.png)\n\n现在 $\\text{Anica}$ 给出 $Q$ 个询问，每个询问给出两个整数 $L$ 和 $R$，请你求出无限表中有多少个数的大小在 $\\big[L,R\\big]$ 中。", "inputFormat": "第一行包含一个整数 $Q$。\n\n接下来 $Q$ 行，每行包含两个整数 $L$ 和 $R$。", "outputFormat": "输出包含 $Q$ 行，每行一个整数，其中第 $i$ 行为第 $i$ 个问题的答案。", "hint": "**【数据范围】**\n\n对于 $50\\%$ 的数据，保证 $1\\le L,R\\le 10^6$。\n\n对于 $100\\%$ 的数据，保证 $1\\le Q\\le 10^5$，$1\\le L,R\\le 10^{10}$。\n\n**【题目来源】**\n\n**题目译自 [COCI 2015-2016](https://hsin.hr/coci/archive/2015_2016/) [CONTEST #6](https://hsin.hr/coci/archive/2015_2016/contest6_tasks.pdf) T6 SAN**。\n\n**本题分值按 COCI 原题设置，满分 $160$**。", "locale": "zh-CN"}}}
{"pid": "P7803", "type": "P", "difficulty": 6, "samples": [["4\nJOJO\nJJOI\nOJOO\n3\nIJOJ\n1 4 O\n2 2 J\n2 4 I", "Yes\nNo\nYes\nYes"], ["3\nJOI\nJOI\nJOI\n2\nOJI\n1 2 O\n1 1 J", "No\nNo\nYes"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "2021", "JOI（日本）"], "title": "[JOI Open 2021] 杂交 / Crossing", "background": "**警告：滥用本题评测将被封号。**", "description": "你的资源库里有 $3$ 个长度为 $N$ 的只由 `J`，`O`，`I` 组成的序列 $S_A,S_B,S_C$，你可以进行 C 操作（全名为 Cross 操作，简写为 C 操作），每一次 C 操作你可以在资源库里选择两个字符串 $C_1,C_2$，C 操作后产生的字符串为 $C_3$，则对于任意 $i \\in [1,N]$，设这三个字符串第 $i$ 个位置上的字符分别为 $c_1,c_2,c_3$，有：\n\n|$c_1$|$c_2$|$c_3$|\n|:-:|:-:|:-:|\n|J|J|J|\n|J|O|I|\n|J|I|O|\n|O|J|I|\n|O|O|O|\n|O|I|J|\n|I|J|O|\n|I|O|J|\n|I|I|I|\n\n上面这个表格的意思是 $c_1,c_2$ 为对应字符时，$c_3$ 也应该是对应的字符。\n\n进行 C 操作后将会把产生的字符串放入资源库。\n\n你被给定了一个长度为 $N$ 的只由 `J`，`O`，`I` 组成的字符串 $T_0$，和 $Q$ 个整数 $L_j,R_j$ 和 $Q$ 个字符 $C_j$，由这些形成 $Q$ 个长度为 $N$ 的字符串 $T_j$，规则为：\n\n> $T_j$ 是由 $T_{j-1}$ 的第 $L_j$ 个字符到第 $R_j$ 个字符都替换成 $C_j$ 得到的。\n\n求对于每一个字符串（包括 $T_0$），是否能由给定的资源库进行一次或多次 C 操作得来。如果该字符串与资源库的其中一个字符串一模一样，也可以称“进行 C 操作得来”，详细内容请看样例 1 的 $T_2$。\n\n第 $j$ 个字符串进行 C 操作时放入资源库的字符串将会在对第 $j+1$ 个字符串判断时清空。", "inputFormat": "第一行一个整数 $N$ 代表字符串的长度。\n\n接下来 $3$ 行 $S_A,S_B,S_C$ 代表给定的资源库里的字符串。\n\n第五行一个整数 $Q$ 代表给定的字符串个数。\n\n第六行一个字符串 $T_0$，意义如题面所述。\n\n接下来 $Q$ 行每行两个整数和一个字符 $L_j,R_j,C_j$，意义如题面所述。", "outputFormat": "$Q+1$ 行每行一个字符串 `Yes` 或 `No`，第 $j$ 行代表第 $T_{j-1}$ 个字符串是否可以由初始资源库得来。", "hint": "#### 样例 1 解释\n\n- $T_0$ 可以由 `JJOI` 和 `OJOO` 经过 C 操作而来；\n- $T_1$ 为 `OOOO`，无法从资源库经过 C 操作而来；\n- $T_2$ 为 `OJOO`，资源库中有 `OJOO`，故可以；\n- $T_3$ 为 `OIII`：\n\t1. 由 `JJOI` 和 `OJOO` 经过 C 操作产生 `IJOJ`；\n    2. 由 `JOJO` 和 `IJOJ` 经过 C 操作产生 `OIII`。\n    \n#### 样例 2 解释\n\n- $T_0$ 无法从资源库经过 C 操作而来；\n- $T_1$ 为 `OOI`，无法从资源库经过 C 操作而来；\n- $T_2$ 为 `JOI`，资源库中有 `JOI`，故可以。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（3 pts）：$S_A=S_B=S_C$，$N \\le 100$；\n- Subtask 2（23 pts）：$S_A=S_B=S_C$；\n- Subtask 3（23 pts）：$N \\le 100$；\n- Subtask 4（51 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le N \\le 2 \\times 10^5$；\n- $S_A,S_B,S_C$ 是只包含 `J`，`O`，`I` 的长度为 $N$ 的字符串；\n- $1 \\le Q \\le 2 \\times 10^5$；\n- $T_0$ 是只包含 `J`，`O`，`I` 的长度为 $N$ 的字符串；\n- $1 \\le L_j \\le R_j \\le N$；\n- $C_j \\in  \\{$`J`，`O`，`I`$\\}$。 \n\n#### 说明\n\n翻译自 [JOI 2020 / 2021 Open Contest A Crossing](http://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2021/crossing/2021-open-crossing-statement-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2021] 杂交 / Crossing", "background": "**警告：滥用本题评测将被封号。**", "description": "你的资源库里有 $3$ 个长度为 $N$ 的只由 `J`，`O`，`I` 组成的序列 $S_A,S_B,S_C$，你可以进行 C 操作（全名为 Cross 操作，简写为 C 操作），每一次 C 操作你可以在资源库里选择两个字符串 $C_1,C_2$，C 操作后产生的字符串为 $C_3$，则对于任意 $i \\in [1,N]$，设这三个字符串第 $i$ 个位置上的字符分别为 $c_1,c_2,c_3$，有：\n\n|$c_1$|$c_2$|$c_3$|\n|:-:|:-:|:-:|\n|J|J|J|\n|J|O|I|\n|J|I|O|\n|O|J|I|\n|O|O|O|\n|O|I|J|\n|I|J|O|\n|I|O|J|\n|I|I|I|\n\n上面这个表格的意思是 $c_1,c_2$ 为对应字符时，$c_3$ 也应该是对应的字符。\n\n进行 C 操作后将会把产生的字符串放入资源库。\n\n你被给定了一个长度为 $N$ 的只由 `J`，`O`，`I` 组成的字符串 $T_0$，和 $Q$ 个整数 $L_j,R_j$ 和 $Q$ 个字符 $C_j$，由这些形成 $Q$ 个长度为 $N$ 的字符串 $T_j$，规则为：\n\n> $T_j$ 是由 $T_{j-1}$ 的第 $L_j$ 个字符到第 $R_j$ 个字符都替换成 $C_j$ 得到的。\n\n求对于每一个字符串（包括 $T_0$），是否能由给定的资源库进行一次或多次 C 操作得来。如果该字符串与资源库的其中一个字符串一模一样，也可以称“进行 C 操作得来”，详细内容请看样例 1 的 $T_2$。\n\n第 $j$ 个字符串进行 C 操作时放入资源库的字符串将会在对第 $j+1$ 个字符串判断时清空。", "inputFormat": "第一行一个整数 $N$ 代表字符串的长度。\n\n接下来 $3$ 行 $S_A,S_B,S_C$ 代表给定的资源库里的字符串。\n\n第五行一个整数 $Q$ 代表给定的字符串个数。\n\n第六行一个字符串 $T_0$，意义如题面所述。\n\n接下来 $Q$ 行每行两个整数和一个字符 $L_j,R_j,C_j$，意义如题面所述。", "outputFormat": "$Q+1$ 行每行一个字符串 `Yes` 或 `No`，第 $j$ 行代表第 $T_{j-1}$ 个字符串是否可以由初始资源库得来。", "hint": "#### 样例 1 解释\n\n- $T_0$ 可以由 `JJOI` 和 `OJOO` 经过 C 操作而来；\n- $T_1$ 为 `OOOO`，无法从资源库经过 C 操作而来；\n- $T_2$ 为 `OJOO`，资源库中有 `OJOO`，故可以；\n- $T_3$ 为 `OIII`：\n\t1. 由 `JJOI` 和 `OJOO` 经过 C 操作产生 `IJOJ`；\n    2. 由 `JOJO` 和 `IJOJ` 经过 C 操作产生 `OIII`。\n    \n#### 样例 2 解释\n\n- $T_0$ 无法从资源库经过 C 操作而来；\n- $T_1$ 为 `OOI`，无法从资源库经过 C 操作而来；\n- $T_2$ 为 `JOI`，资源库中有 `JOI`，故可以。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（3 pts）：$S_A=S_B=S_C$，$N \\le 100$；\n- Subtask 2（23 pts）：$S_A=S_B=S_C$；\n- Subtask 3（23 pts）：$N \\le 100$；\n- Subtask 4（51 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le N \\le 2 \\times 10^5$；\n- $S_A,S_B,S_C$ 是只包含 `J`，`O`，`I` 的长度为 $N$ 的字符串；\n- $1 \\le Q \\le 2 \\times 10^5$；\n- $T_0$ 是只包含 `J`，`O`，`I` 的长度为 $N$ 的字符串；\n- $1 \\le L_j \\le R_j \\le N$；\n- $C_j \\in  \\{$`J`，`O`，`I`$\\}$。 \n\n#### 说明\n\n翻译自 [JOI 2020 / 2021 Open Contest A Crossing](http://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2021/crossing/2021-open-crossing-statement-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7804", "type": "P", "difficulty": 5, "samples": [["7 1\n100 600 600 200 300 500 500", "3"], ["6 6\n100 500 200 400 600 300", "4"], ["11 2\n1 4 4 2 2 4 9 5 7 0 3", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "JOI（日本）"], "title": "[JOI Open 2021] 决算报告 / Financial Report", "background": "**警告：滥用本题评测将被封号。**", "description": "有一个长度为 $N$ 的序列 $A_i$，定义函数 $f(m,p_1,p_2,\\cdots,p_m)$ 的值为满足：\n\n$$\\max\\limits_{j=1}^{i-1}\\{A_{p_j}\\} < A_{p_i}$$\n\n的 $p_i$ 的个数，当 $i=1$ 时，我们假设上面这个不等式是恒成立的。\n\n给定一个整数 $D$，求一个序列 $p_i$ 满足：\n\n- $1 \\le m \\le N$；\n- $p_m=N$；\n- $p_i<p_{i+1}$；\n- 如果 $m \\ge 2$，那么有 $p_{j+1}-p_j \\le D$；\n- $f(m,p_1,p_2,\\dots,p_m)$ 的值最大。\n\n求 $f$ 函数的最大值。", "inputFormat": "第一行两个整数 $N,D$，意义如题面所述。\n\n第二行 $N$ 个整数 $A_i$ 代表给定的序列。", "outputFormat": "一行一个整数代表 $f$ 函数的最大值。", "hint": "#### 样例 1 解释\n\n一共有 $7$ 种可能的情况：\n\n- $p_i=\\{1,2,3,4,5,6,7\\}$，$f(7,1,2,3,4,5,6,7)=2$；\n- $p_i=\\{2,3,4,5,6,7\\}$，$f(6,2,3,4,5,6,7)=1$；\n- $p_i=\\{3,4,5,6,7\\}$，$f(5,3,4,5,6,7)=1$；\n- $p_i=\\{4,5,6,7\\}$，$f(4,4,5,6,7)=3$；\n- $p_i=\\{5,6,7\\}$，$f(3,5,6,7)=2$；\n- $p_i=\\{6,7\\}$，$f(2,6,7)=1$；\n- $p_i=\\{7\\}$，$f(1,7)=1$。\n\n最大值为 $3$。\n\n#### 样例 2 解释\n\n最优的 $p_i=\\{1,3,4,5,6\\}$，对应的 $A_i=\\{100,200,400,600,300\\}$，$f$ 函数值为 $4$。\n\n#### 样例 3 解释\n\n最优的方式有多种，其中一种是 $p_i=\\{1,3,5,6,8,9,11\\}$，对应的 $A_i=\\{ 1, 4, 2, 4, 5, 7, 3\\}$，$f$ 函数值为 $4$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（14 pts）：$N \\le 20$；\n- Subtask 2（14 pts）：$N \\le 400$；\n- Subtask 3（20 pts）：$N \\le 7000$；\n- Subtask 4（12 pts）：$D=1$；\n- Subtask 5（5 pts）：$D=N$；\n- Subtask 6（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le N \\le 3 \\times 10^5$；\n- $1 \\le D \\le N$；\n- $0 \\le A_i \\le 10^9$。\n\n#### 说明\n\n翻译自 [JOI 2020 / 2021 Open Contest B Financial Report](http://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2021/financial/2021-open-financial-statement-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2021] 决算报告 / Financial Report", "background": "**警告：滥用本题评测将被封号。**", "description": "有一个长度为 $N$ 的序列 $A_i$，定义函数 $f(m,p_1,p_2,\\cdots,p_m)$ 的值为满足：\n\n$$\\max\\limits_{j=1}^{i-1}\\{A_{p_j}\\} < A_{p_i}$$\n\n的 $p_i$ 的个数，当 $i=1$ 时，我们假设上面这个不等式是恒成立的。\n\n给定一个整数 $D$，求一个序列 $p_i$ 满足：\n\n- $1 \\le m \\le N$；\n- $p_m=N$；\n- $p_i<p_{i+1}$；\n- 如果 $m \\ge 2$，那么有 $p_{j+1}-p_j \\le D$；\n- $f(m,p_1,p_2,\\dots,p_m)$ 的值最大。\n\n求 $f$ 函数的最大值。", "inputFormat": "第一行两个整数 $N,D$，意义如题面所述。\n\n第二行 $N$ 个整数 $A_i$ 代表给定的序列。", "outputFormat": "一行一个整数代表 $f$ 函数的最大值。", "hint": "#### 样例 1 解释\n\n一共有 $7$ 种可能的情况：\n\n- $p_i=\\{1,2,3,4,5,6,7\\}$，$f(7,1,2,3,4,5,6,7)=2$；\n- $p_i=\\{2,3,4,5,6,7\\}$，$f(6,2,3,4,5,6,7)=1$；\n- $p_i=\\{3,4,5,6,7\\}$，$f(5,3,4,5,6,7)=1$；\n- $p_i=\\{4,5,6,7\\}$，$f(4,4,5,6,7)=3$；\n- $p_i=\\{5,6,7\\}$，$f(3,5,6,7)=2$；\n- $p_i=\\{6,7\\}$，$f(2,6,7)=1$；\n- $p_i=\\{7\\}$，$f(1,7)=1$。\n\n最大值为 $3$。\n\n#### 样例 2 解释\n\n最优的 $p_i=\\{1,3,4,5,6\\}$，对应的 $A_i=\\{100,200,400,600,300\\}$，$f$ 函数值为 $4$。\n\n#### 样例 3 解释\n\n最优的方式有多种，其中一种是 $p_i=\\{1,3,5,6,8,9,11\\}$，对应的 $A_i=\\{ 1, 4, 2, 4, 5, 7, 3\\}$，$f$ 函数值为 $4$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（14 pts）：$N \\le 20$；\n- Subtask 2（14 pts）：$N \\le 400$；\n- Subtask 3（20 pts）：$N \\le 7000$；\n- Subtask 4（12 pts）：$D=1$；\n- Subtask 5（5 pts）：$D=N$；\n- Subtask 6（35 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $1 \\le N \\le 3 \\times 10^5$；\n- $1 \\le D \\le N$；\n- $0 \\le A_i \\le 10^9$。\n\n#### 说明\n\n翻译自 [JOI 2020 / 2021 Open Contest B Financial Report](http://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2021/financial/2021-open-financial-statement-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7805", "type": "P", "difficulty": 6, "samples": [["5\n3 1 4 2 0", ""]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2021", "交互题", "Special Judge", "JOI（日本）"], "title": "[JOI Open 2021] 怪兽游戏 / Monster Game", "background": "**本题为交互题。**\n\n交互库与 spj 提供者 @[Liking_Cpp_In_Luogu](https://www.luogu.com.cn/user/705620)，感谢他的贡献！\n\n请不要在代码中加入头文件 `monster.h`，在 Solve 函数前加上 `extern \"C\"`，开头加上 `extern \"C\" bool Query(int,int);` 即可。", "description": "你圈养了 $N$ 只书虫，这 $N$ 只书虫编号为 $0 \\sim N-1$，第 $i$ 只书虫的力量值为 $S_i$，满足 $S_i \\in [0,N-1]$，且没有两只书虫的力量值是相等的。\n\n你可以调用最多 $25000$ 次「打架事件」：\n\n- 选择两只编号不相同的书虫 $a,b$：\n\t- 如果 $|S_a-S_b|=1$，则力量值小的书虫获胜；\n    - 如果 $|S_a-S_b|>1$，则力量值大的书虫获胜。\n\n请最小化调用「打架事件」的次数，你可以得到每次「打架事件」的结果，求所有书虫的力量值。\n\n#### 交互格式\n\n你的程序需要实现以下函数：\n\n- `std::vector<int> Solve(int N)`\n\t- 对于每组数据，该函数只能被调用一次；\n    - $N$：书虫的个数；\n    - 该函数返回这 $N$ 只书虫的力量值数组 $T$；\n    - 应该满足 $|T|=N$，否则您的程序将会被判为 `Wrong\nAnswer [1]`；\n\t- 应该满足 $T_i\\in [0,N-1]$，否则您的程序将会被判为 `Wrong Answer [2]`；\n    - 应该满足 $T_i=S_i$，否则您的程序将会被判为 `Wrong Answer [3]`。\n\n你的程序可以调用以下函数：\n\n- `bool Query(int a, int b)`\n\t- 你可以用这个函数调用「打架事件」；\n    - $a,b$：书虫 $a$ 与书虫 $b$ 打架；\n    - 如果 $a$ 获胜了，则返回 `true` 否则返回 `false`；\n    - 应该满足 $a \\in [0,N-1]\\land b \\in [0,N-1]$，否则您的程序将会被判为 `Wrong Answer [4]`；\n    - 应该满足 $a \\ne b$，否则您的程序将会被判为 `Wrong Answer [5]`；\n    - 调用 `Query` 函数应该不超过 $25000$ 次。否则您的程序将会被判为 `Wrong Answer [6]`。\n    \n**特殊说明**\n\n1. 您的程序可以调用其他标准库里的函数，或者使用全局变量；\n2. 您的程序不得使用标准输入与标准输出。", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "#### 样例 1 解释\n\n样例的交互过程：\n\n|调用|返回|调用|返回|\n|:-:|:-:|:-:|:-:|\n|`Solve(5)`||||\n|||`Query(1, 0)`|`false`|\n|||`Query(4, 0)`|`false`|\n|||`Query(1, 3)`|`true`|\n||`[3, 1, 4, 2, 0]`||\n\n#### 评测程序示例（样例）\n\n评测程序示例以如下格式读取输⼊数据：\n\n第一行：$N$       \n第二行：$S_0\\ S_1\\ \\cdots\\ S_{N-1}$\n\n评测程序示例以如下格式读取输出数据：\n\n当程序成功结束运行后，样例交互器会在标准输出中输出以下内容：\n\n- 如果你的程序被判为正确，样例交互器会输出类似 `Accepted: 100` 的信息，其中 $100$ 为你的程序调用 `Query` 函数的次数；\n- 如果你的程序被判为错误，样例交互器的输出内容已在「交互格式」中描述。\n\n如果你的程序有多数错误，样例交互器只会判断其中的一种。\n\n注意，交互器在某些数据中是自适应性的，也就是实际的交互器刚开始并没有一个确定的答案，而是会随着之前 `Query` 函数的调用逐渐做出响应，能保证至少有一组答案满足交互库做出的响应。\n\n（本来原题有一个工具可以用来检测，但是找不到检测文件了，所以就咕掉了）\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$N \\le 200$；\n- Subtask 2（15 pts）：实际使用的交互库并不是自适应性的；\n- Subtask 3（75 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $4 \\le N \\le 1000$；\n- $0 \\le S_i \\le N-1$；\n- $S_i$ 保证互不相同。\n\n对于 Subtask 3，特有一套评分标准：\n\n如果你的程序通过了所有测试数据，那：\n\n- 设 $X$ 为 Subtask 3 中你的程序对每个测试点调用的 `Query` 函数的次数的最大值；\n- 你的分数将按照下面的过程计算：\t\n\t- 如果 $10^4<X \\le 2.5 \\times 10^4$，你将得到 $\\left\\lfloor75 \\times \\dfrac{2.5 \\times 10^4-X}{1.5 \\times 10^4}\\right\\rfloor$ 分；\n    - 如果 $X \\le 10^4$，你将得到 $75$ 分。\n    \n#### 说明\n\n翻译自 [JOI 2020 / 2021 Open Contest C Monster Game](http://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2021/monster/2021-open-monster-statement-en.pdf)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2021] 怪兽游戏 / Monster Game", "background": "**本题为交互题。**\n\n交互库与 spj 提供者 @[Liking_Cpp_In_Luogu](https://www.luogu.com.cn/user/705620)，感谢他的贡献！\n\n请不要在代码中加入头文件 `monster.h`，在 Solve 函数前加上 `extern \"C\"`，开头加上 `extern \"C\" bool Query(int,int);` 即可。", "description": "你圈养了 $N$ 只书虫，这 $N$ 只书虫编号为 $0 \\sim N-1$，第 $i$ 只书虫的力量值为 $S_i$，满足 $S_i \\in [0,N-1]$，且没有两只书虫的力量值是相等的。\n\n你可以调用最多 $25000$ 次「打架事件」：\n\n- 选择两只编号不相同的书虫 $a,b$：\n\t- 如果 $|S_a-S_b|=1$，则力量值小的书虫获胜；\n    - 如果 $|S_a-S_b|>1$，则力量值大的书虫获胜。\n\n请最小化调用「打架事件」的次数，你可以得到每次「打架事件」的结果，求所有书虫的力量值。\n\n#### 交互格式\n\n你的程序需要实现以下函数：\n\n- `std::vector<int> Solve(int N)`\n\t- 对于每组数据，该函数只能被调用一次；\n    - $N$：书虫的个数；\n    - 该函数返回这 $N$ 只书虫的力量值数组 $T$；\n    - 应该满足 $|T|=N$，否则您的程序将会被判为 `Wrong\nAnswer [1]`；\n\t- 应该满足 $T_i\\in [0,N-1]$，否则您的程序将会被判为 `Wrong Answer [2]`；\n    - 应该满足 $T_i=S_i$，否则您的程序将会被判为 `Wrong Answer [3]`。\n\n你的程序可以调用以下函数：\n\n- `bool Query(int a, int b)`\n\t- 你可以用这个函数调用「打架事件」；\n    - $a,b$：书虫 $a$ 与书虫 $b$ 打架；\n    - 如果 $a$ 获胜了，则返回 `true` 否则返回 `false`；\n    - 应该满足 $a \\in [0,N-1]\\land b \\in [0,N-1]$，否则您的程序将会被判为 `Wrong Answer [4]`；\n    - 应该满足 $a \\ne b$，否则您的程序将会被判为 `Wrong Answer [5]`；\n    - 调用 `Query` 函数应该不超过 $25000$ 次。否则您的程序将会被判为 `Wrong Answer [6]`。\n    \n**特殊说明**\n\n1. 您的程序可以调用其他标准库里的函数，或者使用全局变量；\n2. 您的程序不得使用标准输入与标准输出。", "inputFormat": "见「交互格式」。", "outputFormat": "见「交互格式」。", "hint": "#### 样例 1 解释\n\n样例的交互过程：\n\n|调用|返回|调用|返回|\n|:-:|:-:|:-:|:-:|\n|`Solve(5)`||||\n|||`Query(1, 0)`|`false`|\n|||`Query(4, 0)`|`false`|\n|||`Query(1, 3)`|`true`|\n||`[3, 1, 4, 2, 0]`||\n\n#### 评测程序示例（样例）\n\n评测程序示例以如下格式读取输⼊数据：\n\n第一行：$N$       \n第二行：$S_0\\ S_1\\ \\cdots\\ S_{N-1}$\n\n评测程序示例以如下格式读取输出数据：\n\n当程序成功结束运行后，样例交互器会在标准输出中输出以下内容：\n\n- 如果你的程序被判为正确，样例交互器会输出类似 `Accepted: 100` 的信息，其中 $100$ 为你的程序调用 `Query` 函数的次数；\n- 如果你的程序被判为错误，样例交互器的输出内容已在「交互格式」中描述。\n\n如果你的程序有多数错误，样例交互器只会判断其中的一种。\n\n注意，交互器在某些数据中是自适应性的，也就是实际的交互器刚开始并没有一个确定的答案，而是会随着之前 `Query` 函数的调用逐渐做出响应，能保证至少有一组答案满足交互库做出的响应。\n\n（本来原题有一个工具可以用来检测，但是找不到检测文件了，所以就咕掉了）\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（10 pts）：$N \\le 200$；\n- Subtask 2（15 pts）：实际使用的交互库并不是自适应性的；\n- Subtask 3（75 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据：\n\n- $4 \\le N \\le 1000$；\n- $0 \\le S_i \\le N-1$；\n- $S_i$ 保证互不相同。\n\n对于 Subtask 3，特有一套评分标准：\n\n如果你的程序通过了所有测试数据，那：\n\n- 设 $X$ 为 Subtask 3 中你的程序对每个测试点调用的 `Query` 函数的次数的最大值；\n- 你的分数将按照下面的过程计算：\t\n\t- 如果 $10^4<X \\le 2.5 \\times 10^4$，你将得到 $\\left\\lfloor75 \\times \\dfrac{2.5 \\times 10^4-X}{1.5 \\times 10^4}\\right\\rfloor$ 分；\n    - 如果 $X \\le 10^4$，你将得到 $75$ 分。\n    \n#### 说明\n\n翻译自 [JOI 2020 / 2021 Open Contest C Monster Game](http://s3-ap-northeast-1.amazonaws.com/data.cms.ioi-jp.org/open-2021/monster/2021-open-monster-statement-en.pdf)。", "locale": "zh-CN"}}}
{"pid": "P7806", "type": "P", "difficulty": 5, "samples": [["2 1\n2 3\n6 3", "1.20"], ["4 3\n1 6\n4 6\n4 2\n4 0", "0.97"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "洛谷原创", "O2优化"], "title": "冰魄吐息", "background": "[$\\text{加强版}\\Leftarrow$](/problem/U174529)", "description": "$N$ 个点，第 $i$ 个点坐标为 $(x_i,y_i)$。\n\n定义一束激光：$y=kx$，若点 $i$ 满足到该条直线距离 $\\le d$，认为被激光击中。\n\n求使用至多 $K$ 束激光，击毁图中所有点的最小代价 $d$。", "inputFormat": "第一行输入两个正整数 $N,K$。\n\n第 $2 \\sim N+1$ 行，每行两个非负整数 $x_i,y_i$，表示第 $i$ 个点的坐标。", "outputFormat": "第一行输出最小代价 $d$，保留到小数点后 $2$ 位。", "hint": "#### 样例说明\n\n| ![](https://cdn.luogu.com.cn/upload/image_hosting/3a8bw1ub.png) | ![](https://cdn.luogu.com.cn/upload/image_hosting/3oih7er9.png) |\n| :----------- | :----------- |\n| 样例 $\\#1$ 中两蓝色点坐标分别为 $(2,3)$ 和 $(6,3)$，到直线 $y=\\frac{3}{4}x$ 的距离均为 $\\frac{6}{5}=1.2$，因此输出 `1.20`。 | 样例 $\\#2$ 中坐标为 $(4,0),(4,2)$ 的点与斜率为 $\\frac{1}{4}$ 的直线之间距离为 $\\frac{4}{17}\\sqrt{17}\\approx0.97014\\dots$，因此输出 `0.97`。 |\n\n可以证明两个样例中的方案是最优的，因此所求的 $d$ 是最小的。\n\n#### 提示\n\n1. 可能会用到的公式：点 $(x_0,y_0)$ 到直线 $y=kx$ 的距离是 $\\dfrac{|y_0-kx_0|}{\\sqrt{k^2+1}}$。\n2. 对于 C++ 选手，**建议使用** 变量类型 `long double` 进行数值计算。  \n输出时请用形如 `printf(\"%.2Lf\",ans)` 的形式输出答案，注意 `%.2Lf` 中的 L 是大写。\n3. 本题中存在的浮点数运算可能较多，虽然已经增大时限，但仍然请注意常数因子对程序效率的影响。\n\n#### 数据范围\n\n**本题采用捆绑测试**。\n\n记 $M$ 为所有 $x_i,y_i$ 的最大值。\n\n| Subtask | Score | $M\\le$ | $K\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $30$ | $10$ | $1$ |\n| $2$ | $30$ | $1.5\\times10^4$ | $1$ |\n| $3$ | $40$ | |  |\n\n对于 $100\\%$ 的数据：$1\\le N,M,K\\le2.5\\times10^4$。\n\n所有数据均保证不存在相同的 $(x_i,y_i)$ 出现多次。\n\n---\n\n### 后记\n\n冰魄战龙我吹爆 $\\sim$\n\n如果您也热爱 ddt，请在比赛结束后找到出题人，并把他虐一顿。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/65wu5o0v.png)\n\n出题人推荐阅读题解：（优点：显然）https://www.luogu.com.cn/blog/_post/362493", "locale": "zh-CN", "translations": {"zh-CN": {"title": "冰魄吐息", "background": "[$\\text{加强版}\\Leftarrow$](/problem/U174529)", "description": "$N$ 个点，第 $i$ 个点坐标为 $(x_i,y_i)$。\n\n定义一束激光：$y=kx$，若点 $i$ 满足到该条直线距离 $\\le d$，认为被激光击中。\n\n求使用至多 $K$ 束激光，击毁图中所有点的最小代价 $d$。", "inputFormat": "第一行输入两个正整数 $N,K$。\n\n第 $2 \\sim N+1$ 行，每行两个非负整数 $x_i,y_i$，表示第 $i$ 个点的坐标。", "outputFormat": "第一行输出最小代价 $d$，保留到小数点后 $2$ 位。", "hint": "#### 样例说明\n\n| ![](https://cdn.luogu.com.cn/upload/image_hosting/3a8bw1ub.png) | ![](https://cdn.luogu.com.cn/upload/image_hosting/3oih7er9.png) |\n| :----------- | :----------- |\n| 样例 $\\#1$ 中两蓝色点坐标分别为 $(2,3)$ 和 $(6,3)$，到直线 $y=\\frac{3}{4}x$ 的距离均为 $\\frac{6}{5}=1.2$，因此输出 `1.20`。 | 样例 $\\#2$ 中坐标为 $(4,0),(4,2)$ 的点与斜率为 $\\frac{1}{4}$ 的直线之间距离为 $\\frac{4}{17}\\sqrt{17}\\approx0.97014\\dots$，因此输出 `0.97`。 |\n\n可以证明两个样例中的方案是最优的，因此所求的 $d$ 是最小的。\n\n#### 提示\n\n1. 可能会用到的公式：点 $(x_0,y_0)$ 到直线 $y=kx$ 的距离是 $\\dfrac{|y_0-kx_0|}{\\sqrt{k^2+1}}$。\n2. 对于 C++ 选手，**建议使用** 变量类型 `long double` 进行数值计算。  \n输出时请用形如 `printf(\"%.2Lf\",ans)` 的形式输出答案，注意 `%.2Lf` 中的 L 是大写。\n3. 本题中存在的浮点数运算可能较多，虽然已经增大时限，但仍然请注意常数因子对程序效率的影响。\n\n#### 数据范围\n\n**本题采用捆绑测试**。\n\n记 $M$ 为所有 $x_i,y_i$ 的最大值。\n\n| Subtask | Score | $M\\le$ | $K\\le$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $30$ | $10$ | $1$ |\n| $2$ | $30$ | $1.5\\times10^4$ | $1$ |\n| $3$ | $40$ | |  |\n\n对于 $100\\%$ 的数据：$1\\le N,M,K\\le2.5\\times10^4$。\n\n所有数据均保证不存在相同的 $(x_i,y_i)$ 出现多次。\n\n---\n\n### 后记\n\n冰魄战龙我吹爆 $\\sim$\n\n如果您也热爱 ddt，请在比赛结束后找到出题人，并把他虐一顿。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/65wu5o0v.png)\n\n出题人推荐阅读题解：（优点：显然）https://www.luogu.com.cn/blog/_post/362493", "locale": "zh-CN"}}}
{"pid": "P7807", "type": "P", "difficulty": 4, "samples": [["5 1\n1 2\n1 3\n1 4\n1 5", "1"], ["7 0\n1 2\n1 3\n1 4\n1 5\n1 6\n1 7", "3\n1 2\n1 3"], ["9 1\n1 2\n2 3\n1 4\n1 5\n2 6\n2 7\n3 8\n3 9", "3\n1 2\n2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2021", "洛谷原创", "Special Judge", "O2优化"], "title": "魔力滋生", "background": "Source：[八仙敬酒](/paste/78f1vlm0)，这是可以点的。\n\n- 吕洞宾——醉酒提壶力千钧；\n- 铁拐李——旋肘膝撞醉还真；\n- 汉钟离——跌步抱坛兜心顶；\n- **蓝采和——单提敬酒拦腰破**；\n- 张果老——醉酒抛杯踢连环；\n- 曹国舅——仙人敬酒锁喉扣；\n- 韩湘子——擒腕击胸醉吹箫；\n- 何仙姑——弹腰献酒醉荡步。", "description": "现有一个 $n$ 个点的树 $T$，满足任意一个结点的所连接的结点个数不超过 $2$。\n\n现在依次对结点 $u=1\\sim n$ 进行操作：\n\n- 随机一个整数 $x(\\ge k)$；\n- 新建 $x$ 个结点，每个结点与 $u$ 之间连一条边。\n\n显然操作完成后仍是一棵树 $T'$，其结点数为 $m=n+\\sum x$。\n\n已知操作后的树 $T'$ 及其结点数 $m$，请还原原树 $T$，若有多种方案，输出 **任意一组** 使得 $\\color{black}n$ **最大** 的。\n\n值得注意的是，我们进行还原和输出时，只关心树的形状，而不关心结点的相对编号。", "inputFormat": "第一行输入两个正整数 $m,k$，表示树 $T'$ 的结点数、随机数 $x$ 的下限。\n\n第 $2\\sim m$ 行，每行输入两个正整数 $u,v$，表示树 $T'$ 中的一条边。", "outputFormat": "第一行输出一个正整数 $n$，表示构造出树 $T$ 的结点数。\n\n第 $2\\sim n$ 行，每行输出两个正整数 $u,v$，表示树 $T$ 中的一条边。\n\n输出的 $u,v$ 必须满足：$1\\le u,v\\le n$。", "hint": "#### 样例说明\n\n样例 $\\#1$ 中，只有结点 $1$ 可能在树 $T$ 中：它对应的 $x$ 是 $4$。\n\n样例 $\\#2$ 中，结点 $1,2,3$ 在树 $T$ 中：结点 $1$ 对应的 $x$ 是 $4$，结点 $2,3$ 对应的 $x$ 是 $0$。\n\n样例 $\\#3$ 中，结点 $1,2,3$ 在树 $T$ 中：它们随机的 $x$ 均为 $2$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4mug6pzd.png)\n\n样例 $\\#3$ 给出一张示意图，图中红色结点表示树 $T$ 中的结点，图中所有结点都在树 $T'$ 上。\n\n#### 数据范围\n\n| Subtask | Score | $x=$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $30$ | $0$ |\n| $2$ | $30$ | $1$ |\n| $3$ | $40$ |  |\n| $4$ | $0$ | Hack |\n\n说明：Subtask4 为不计分 Hack 数据，只有通过全部的 Subtask $1\\sim4$ 才算 AC。\n\n对于 $100\\%$ 的数据：$1\\le m\\le10^5,k\\in[0,m)$，数据输入保证有解。\n\n---\n\n### 后记\n\n极光魔花好可爱 $\\sim$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o0gdk38a.png)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "魔力滋生", "background": "Source：[八仙敬酒](/paste/78f1vlm0)，这是可以点的。\n\n- 吕洞宾——醉酒提壶力千钧；\n- 铁拐李——旋肘膝撞醉还真；\n- 汉钟离——跌步抱坛兜心顶；\n- **蓝采和——单提敬酒拦腰破**；\n- 张果老——醉酒抛杯踢连环；\n- 曹国舅——仙人敬酒锁喉扣；\n- 韩湘子——擒腕击胸醉吹箫；\n- 何仙姑——弹腰献酒醉荡步。", "description": "现有一个 $n$ 个点的树 $T$，满足任意一个结点的所连接的结点个数不超过 $2$。\n\n现在依次对结点 $u=1\\sim n$ 进行操作：\n\n- 随机一个整数 $x(\\ge k)$；\n- 新建 $x$ 个结点，每个结点与 $u$ 之间连一条边。\n\n显然操作完成后仍是一棵树 $T'$，其结点数为 $m=n+\\sum x$。\n\n已知操作后的树 $T'$ 及其结点数 $m$，请还原原树 $T$，若有多种方案，输出 **任意一组** 使得 $\\color{black}n$ **最大** 的。\n\n值得注意的是，我们进行还原和输出时，只关心树的形状，而不关心结点的相对编号。", "inputFormat": "第一行输入两个正整数 $m,k$，表示树 $T'$ 的结点数、随机数 $x$ 的下限。\n\n第 $2\\sim m$ 行，每行输入两个正整数 $u,v$，表示树 $T'$ 中的一条边。", "outputFormat": "第一行输出一个正整数 $n$，表示构造出树 $T$ 的结点数。\n\n第 $2\\sim n$ 行，每行输出两个正整数 $u,v$，表示树 $T$ 中的一条边。\n\n输出的 $u,v$ 必须满足：$1\\le u,v\\le n$。", "hint": "#### 样例说明\n\n样例 $\\#1$ 中，只有结点 $1$ 可能在树 $T$ 中：它对应的 $x$ 是 $4$。\n\n样例 $\\#2$ 中，结点 $1,2,3$ 在树 $T$ 中：结点 $1$ 对应的 $x$ 是 $4$，结点 $2,3$ 对应的 $x$ 是 $0$。\n\n样例 $\\#3$ 中，结点 $1,2,3$ 在树 $T$ 中：它们随机的 $x$ 均为 $2$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4mug6pzd.png)\n\n样例 $\\#3$ 给出一张示意图，图中红色结点表示树 $T$ 中的结点，图中所有结点都在树 $T'$ 上。\n\n#### 数据范围\n\n| Subtask | Score | $x=$ |\n| :----------: | :----------: | :----------: |\n| $1$ | $30$ | $0$ |\n| $2$ | $30$ | $1$ |\n| $3$ | $40$ |  |\n| $4$ | $0$ | Hack |\n\n说明：Subtask4 为不计分 Hack 数据，只有通过全部的 Subtask $1\\sim4$ 才算 AC。\n\n对于 $100\\%$ 的数据：$1\\le m\\le10^5,k\\in[0,m)$，数据输入保证有解。\n\n---\n\n### 后记\n\n极光魔花好可爱 $\\sim$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o0gdk38a.png)", "locale": "zh-CN"}}}
{"pid": "P7809", "type": "P", "difficulty": 4, "samples": [["8 4\n0 1 1 0 1 0 0 1\n1 1 8\n2 1 8\n1 3 6\n2 5 6", "5\n2\n2\n1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2021", "洛谷原创", "O2优化", "ST 表"], "title": "[JRKSJ R2] 01 序列", "background": "", "description": "给你一个长度为 $n$ 的 $01$ 序列 $a_{1\\sim n}$，接下来有两种询问共 $m$ 次：\n\n- `1 l r`，表示询问 $l$ 到 $r$ 区间的最长不下降子序列的长度。\n- `2 l r`，表示询问 $l$ 到 $r$ 区间的最长上升子序列的长度。", "inputFormat": "输入 $m+2$ 行。\\\n第 $1$ 行两个正整数 $n,m$。\\\n第 $2$ 行 $n$ 个数字 $0$ 或 $1$ 代表序列 $a_{1\\sim n}$。\\\n接下来 $m$ 行每行三个正整数表示一次询问，格式如上。", "outputFormat": "输出 $m$ 行。\\\n对于每一次询问求出答案并输出。", "hint": "本题采用捆绑测试。\n\n| $\\text{Subtask}$ | $n\\le$ | $m\\le$ | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $\\text{1}$ | $10^6$ | $10^6$ | 所有 $a_i$ 均相等 | $5$ |\n| $\\text{2}$ | $10^3$ | $10^3$ | 无 | $10$ |\n| $\\text{3}$ | $10^4$ | $10^4$ | 无 | $15$ |\n| $\\text{4}$ | $10^5$ | $10^5$ | 无 | $30$ |\n| $\\text{5}$ | $10^6$ | $5\\times10^6$ | 无 | $40$ |\n| $\\text{6}$ | $10^6$ | $5\\times10^6$ | hack 数据 | $0$ |\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le m\\le 5\\times10^6$，$0\\le a_i\\le 1$。\n\n本题输入输出量极大，请使用较为快速的输入输出方法。\n\n#### 样例解释:\n对于第一个询问，满足的序列有：$\\{0,1,1,1,1\\},\\{0,0,0,0,1\\}$。\\\n对于第二个询问，满足的序列有：$\\{0,1\\}$。\\\n对于第三个询问，满足的序列有：$\\{0,0\\},\\{0,1\\},\\{1,1\\}$。\\\n对于第四个询问，满足的序列有：$\\{0\\},\\{1\\}$。\n\n$\\text{Upd 2021.8.16}$：增加两组 Hack 数据。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JRKSJ R2] 01 序列", "background": "", "description": "给你一个长度为 $n$ 的 $01$ 序列 $a_{1\\sim n}$，接下来有两种询问共 $m$ 次：\n\n- `1 l r`，表示询问 $l$ 到 $r$ 区间的最长不下降子序列的长度。\n- `2 l r`，表示询问 $l$ 到 $r$ 区间的最长上升子序列的长度。", "inputFormat": "输入 $m+2$ 行。\\\n第 $1$ 行两个正整数 $n,m$。\\\n第 $2$ 行 $n$ 个数字 $0$ 或 $1$ 代表序列 $a_{1\\sim n}$。\\\n接下来 $m$ 行每行三个正整数表示一次询问，格式如上。", "outputFormat": "输出 $m$ 行。\\\n对于每一次询问求出答案并输出。", "hint": "本题采用捆绑测试。\n\n| $\\text{Subtask}$ | $n\\le$ | $m\\le$ | 特殊性质 | 分值 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |\n| $\\text{1}$ | $10^6$ | $10^6$ | 所有 $a_i$ 均相等 | $5$ |\n| $\\text{2}$ | $10^3$ | $10^3$ | 无 | $10$ |\n| $\\text{3}$ | $10^4$ | $10^4$ | 无 | $15$ |\n| $\\text{4}$ | $10^5$ | $10^5$ | 无 | $30$ |\n| $\\text{5}$ | $10^6$ | $5\\times10^6$ | 无 | $40$ |\n| $\\text{6}$ | $10^6$ | $5\\times10^6$ | hack 数据 | $0$ |\n\n对于 $100\\%$ 的数据，$1\\le n\\le 10^6$，$1\\le m\\le 5\\times10^6$，$0\\le a_i\\le 1$。\n\n本题输入输出量极大，请使用较为快速的输入输出方法。\n\n#### 样例解释:\n对于第一个询问，满足的序列有：$\\{0,1,1,1,1\\},\\{0,0,0,0,1\\}$。\\\n对于第二个询问，满足的序列有：$\\{0,1\\}$。\\\n对于第三个询问，满足的序列有：$\\{0,0\\},\\{0,1\\},\\{1,1\\}$。\\\n对于第四个询问，满足的序列有：$\\{0\\},\\{1\\}$。\n\n$\\text{Upd 2021.8.16}$：增加两组 Hack 数据。", "locale": "zh-CN"}}}
