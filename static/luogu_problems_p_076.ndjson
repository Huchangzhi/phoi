{"pid": "P2537", "type": "P", "difficulty": 6, "samples": [["2\n1 3 3 \n2 1 4\n0 0 3 4", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2005", "各省省选", "离散化", "安徽", "广度优先搜索 BFS", "最短路"], "title": "[AHOI2005] 穿越磁场", "background": null, "description": "探险机器人在 Samuel 星球上寻找一块奇特的矿石，然而此时它陷入了一片神秘的磁场区域，动弹不得。\n\n探险空间站立刻扫描了这片区域，绘制出该区域的磁场分布平面图。这片区域中分布了 $N$ 个磁场，每个磁场呈正方形，且边与坐标轴平行。\n\n例如下图中，存在 $3$ 个磁场，白点表示机器人的位置，黑点表示矿石的位置：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1642.png) \n\n科学家们分析平面图，进一步发现：这些磁场为大小不一的正方形，可能相交，甚至覆盖，但是它们的边缘不会重合，顶点也不会重合。\n\n例如下面的两种情形是不会出现的：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1643.png) \n\n科学家们给探险机器人启动了磁力罩，这样它就可以在磁场中自由穿越了。\n\n初始时，探险机器人和所有矿石都不在任何磁场的边缘。由于技术限制，在穿越过程中机器人只能够水平或垂直移动，且不能够沿着磁场的边缘行动。\n\n由于磁力罩的能量有限，科学家们希望探险机器人穿越尽量少的磁场边缘采集到这块矿石。例如上图中，探险机器人最少需要穿越两次磁场边缘。\n\n现在小联请你编写程序，帮助科学家们设计探险机器人的路线，统计探险机器人最少需要穿越多少次磁场边缘。", "inputFormat": "第一行有一个整数 $N$，表示有 $N$ 个磁场（$1 < N < 100$）。随后有 $N$ 行，每行有三个整数 $X,Y,C$（$0 < X ,Y ,C < 10000$），表示一个磁场左下角坐标为 $(X,Y)$，边长为 $C$。接下来有一行，共有四个整数 $SX, SY, TX, TY$，表示机器人初始坐标为 $(SX,SY)$，矿石坐标为 $(TX,TY)$（其中 $1 < SX, SY, TX, TY < 10000$）。", "outputFormat": "单行输出一个整数，表示机器人最少需要穿越多少次磁场边缘。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2005] Crossing Magnetic Fields", "background": "", "description": "An exploration robot is searching for a peculiar ore on planet Samuel, but it has become trapped in a mysterious magnetic field region and cannot move.\n\nThe exploration station immediately scanned the area and drew a planar map of the magnetic field distribution. There are $N$ magnetic fields in this region. Each magnetic field is a square whose sides are parallel to the coordinate axes.\n\nFor example, in the figure below, there are $3$ magnetic fields. The white dot is the robot’s position, and the black dot is the ore’s position:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1642.png) \n\nAfter analyzing the map, scientists further found that these magnetic fields are squares of various sizes. They may intersect or even overlap, but their edges never coincide, and their vertices never coincide.\n\nFor example, the following two cases will not occur:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1643.png) \n\nScientists activated a magnetic shield for the exploration robot so that it can move freely through the magnetic fields.\n\nInitially, neither the robot nor any ore lies on any magnetic field edge. Due to technical limitations, during traversal the robot can only move horizontally or vertically, and it cannot move along the edges of magnetic fields.\n\nBecause the magnetic shield’s energy is limited, the scientists hope the robot will cross as few magnetic field edges as possible to collect the ore. In the example above, the robot needs to cross edges at least twice.\n\nNow, please write a program to help the scientists design the robot’s route and compute the minimum number of magnetic field edges the robot must cross.", "inputFormat": "The first line contains an integer $N$, meaning there are $N$ magnetic fields ($1 < N < 100$). Then follow $N$ lines, each containing three integers $X, Y, C$ ($0 < X, Y, C < 10000$), indicating a magnetic field whose lower-left corner is $(X, Y)$ and whose side length is $C$. The next line contains four integers $SX, SY, TX, TY$, indicating that the robot’s initial coordinate is $(SX, SY)$ and the ore’s coordinate is $(TX, TY)$ (where $1 < SX, SY, TX, TY < 10000$).", "outputFormat": "Output a single integer on one line, the minimum number of magnetic field edges the robot needs to cross.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2005] 穿越磁场", "background": null, "description": "探险机器人在 Samuel 星球上寻找一块奇特的矿石，然而此时它陷入了一片神秘的磁场区域，动弹不得。\n\n探险空间站立刻扫描了这片区域，绘制出该区域的磁场分布平面图。这片区域中分布了 $N$ 个磁场，每个磁场呈正方形，且边与坐标轴平行。\n\n例如下图中，存在 $3$ 个磁场，白点表示机器人的位置，黑点表示矿石的位置：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1642.png) \n\n科学家们分析平面图，进一步发现：这些磁场为大小不一的正方形，可能相交，甚至覆盖，但是它们的边缘不会重合，顶点也不会重合。\n\n例如下面的两种情形是不会出现的：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1643.png) \n\n科学家们给探险机器人启动了磁力罩，这样它就可以在磁场中自由穿越了。\n\n初始时，探险机器人和所有矿石都不在任何磁场的边缘。由于技术限制，在穿越过程中机器人只能够水平或垂直移动，且不能够沿着磁场的边缘行动。\n\n由于磁力罩的能量有限，科学家们希望探险机器人穿越尽量少的磁场边缘采集到这块矿石。例如上图中，探险机器人最少需要穿越两次磁场边缘。\n\n现在小联请你编写程序，帮助科学家们设计探险机器人的路线，统计探险机器人最少需要穿越多少次磁场边缘。", "inputFormat": "第一行有一个整数 $N$，表示有 $N$ 个磁场（$1 < N < 100$）。随后有 $N$ 行，每行有三个整数 $X,Y,C$（$0 < X ,Y ,C < 10000$），表示一个磁场左下角坐标为 $(X,Y)$，边长为 $C$。接下来有一行，共有四个整数 $SX, SY, TX, TY$，表示机器人初始坐标为 $(SX,SY)$，矿石坐标为 $(TX,TY)$（其中 $1 < SX, SY, TX, TY < 10000$）。", "outputFormat": "单行输出一个整数，表示机器人最少需要穿越多少次磁场边缘。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2538", "type": "P", "difficulty": 6, "samples": [["5 0 1\n1 2 3 4 0\n1 1 1 1 1", "2"], ["3 1 1\n1 2 0\n1 2 3\n2", "1"], ["2 1 1  \n0 1  \n1 1  \n1 ", "0"], ["10 3 3\n0 2 0 0 2 2 8 3 8 7\n10 9 1 8 1 3 7 2 8 1\n3 4 6", "3"], ["2 0 1\n1 0\n5 10", "5"]], "limits": {"time": [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "搜索", "2008", "四川", "各省省选", "基环树"], "title": "[SCOI2008] 城堡", "background": "2008NOI四川省选\n", "description": "在一个国家里，有 $n$ 个城市（编号为 $0$ 到 $n-1$）。这些城市之间有 $n$ 条双向道路相连（编号为 $0$ 到 $n-1$），其中编号为 $i$ 的道路连接了城市 $i$ 和城市 $r_i$（一条道路可以连接一个城市和它自身），长度为 $d_i$。$n$ 个城市中有 $m$ 个拥有自己城堡，可以抵御敌人侵略。如果没有城堡的城市遭受攻击，则离它最近的城堡将派兵前往救援。\n\n你的任务是在不超过 $k$ 个没有城堡的城市中建立城堡，使得所有城市中“离最近城堡的距离”的最大值尽量小。换句话说，若令 $dist(c)$ 表示城市 $c$ 的最近城堡离它的距离，则你的任务是让 $\\max\\{dist(c)\\}$ 尽量小。\n\n输入数据保证存在方案使得对于每个城市，至少有一个城堡能够到达。", "inputFormat": "输入第一行为三个正整数 $n, m, k$。第二行包含 $n$ 个整数 $r_0,r_1,\\ldots,r_{n-1}$。第三行包含 $n$ 个整数 $d_0,d_1,\\ldots,d_{n-1}$。第四行包含 $m$ 个各不相同的 $0$ 到 $n-1$ 之间的整数，分别为 $m$ 个城堡所在的城市编号。", "outputFormat": "输出仅一行，包含一个整数，即 $\\max\\{dist(c)\\}$ 的最小值。", "hint": "$100\\%$ 的数据满足: $2\\leq n\\leq 50$，$1\\leq d_i\\leq 10^6$，$0\\leq m\\leq n-k$。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2008] Castle", "background": "2008 Sichuan NOI Qualifier.", "description": "In a country, there are $n$ cities (numbered $0$ to $n-1$). They are connected by $n$ bidirectional roads (numbered $0$ to $n-1$), where road $i$ connects city $i$ and city $r_i$ (a road may connect a city to itself) and has length $d_i$. Among the $n$ cities, $m$ of them have their own castles and can resist enemy invasions. If a city without a castle is attacked, the nearest castle will send troops to rescue it.\n\nYour task is to build castles in at most $k$ cities that currently do not have castles, so that the maximum among all cities of the distance to the nearest castle is as small as possible. In other words, let $dist(c)$ be the distance from city $c$ to its nearest castle; your task is to minimize $\\max\\{dist(c)\\}$.\n\nThe input guarantees that there exists a solution such that for every city, at least one castle can reach it.", "inputFormat": "The first line contains three positive integers $n, m, k$. The second line contains $n$ integers $r_0, r_1, \\ldots, r_{n-1}$. The third line contains $n$ integers $d_0, d_1, \\ldots, d_{n-1}$. The fourth line contains $m$ distinct integers between $0$ and $n-1$, which are the indices of the cities that have castles.", "outputFormat": "Output a single line containing one integer, the minimum value of $\\max\\{dist(c)\\}$.", "hint": "$100\\%$ of the testdata satisfies: $2 \\leq n \\leq 50$, $1 \\leq d_i \\leq 10^6$, $0 \\leq m \\leq n - k$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2008] 城堡", "background": "2008NOI四川省选\n", "description": "在一个国家里，有 $n$ 个城市（编号为 $0$ 到 $n-1$）。这些城市之间有 $n$ 条双向道路相连（编号为 $0$ 到 $n-1$），其中编号为 $i$ 的道路连接了城市 $i$ 和城市 $r_i$（一条道路可以连接一个城市和它自身），长度为 $d_i$。$n$ 个城市中有 $m$ 个拥有自己城堡，可以抵御敌人侵略。如果没有城堡的城市遭受攻击，则离它最近的城堡将派兵前往救援。\n\n你的任务是在不超过 $k$ 个没有城堡的城市中建立城堡，使得所有城市中“离最近城堡的距离”的最大值尽量小。换句话说，若令 $dist(c)$ 表示城市 $c$ 的最近城堡离它的距离，则你的任务是让 $\\max\\{dist(c)\\}$ 尽量小。\n\n输入数据保证存在方案使得对于每个城市，至少有一个城堡能够到达。", "inputFormat": "输入第一行为三个正整数 $n, m, k$。第二行包含 $n$ 个整数 $r_0,r_1,\\ldots,r_{n-1}$。第三行包含 $n$ 个整数 $d_0,d_1,\\ldots,d_{n-1}$。第四行包含 $m$ 个各不相同的 $0$ 到 $n-1$ 之间的整数，分别为 $m$ 个城堡所在的城市编号。", "outputFormat": "输出仅一行，包含一个整数，即 $\\max\\{dist(c)\\}$ 的最小值。", "hint": "$100\\%$ 的数据满足: $2\\leq n\\leq 50$，$1\\leq d_i\\leq 10^6$，$0\\leq m\\leq n-k$。", "locale": "zh-CN"}}}
{"pid": "P2539", "type": "P", "difficulty": 3, "samples": [["2\n2021010210001", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2005", "各省省选", "安徽"], "title": "[AHOI2005] 矿藏编码", "background": "", "description": "探险机器人在 Samuel 星球发现了一片广阔的矿藏区。在这个矿藏区中，有高耸的山峰，也有平坦的平地。为了方便考察，整个矿藏区被划分 个格子区域。\n\n例如下图，就是一个 $K=2$ 即 $4 \\times 4$ 的矿藏区：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1646.png) \n\n其中黑色表示山峰，白色表示平地。\n\n探险空间站已经将这片矿藏区的详细信息扫描并记录下来。由于矿藏区的面积实在太大，所以科学家们采用了一种特殊的编码方式记录。\n\n- 如果这片矿藏区全部是平地，则编码为 `0`。\n- 如果这片矿藏区全部是山峰，则编码为 `1`。\n- 否则，将矿藏区均匀划分成 $4$ 份，如下 所示：\n     ![](https://cdn.luogu.com.cn/upload/pic/1647.png) \n\n依次对每份进行编码，得 $S_1,S_2,S_3,S_4$。该矿藏区的编码 $S$ 为 $2S_1S_2S_3S_4$。\n例如上图中，矿藏区的编码为：`2021010210001`。\n\n小联希望你能根据给定的编码统计出这片矿藏区一共有多少格子区域是平地。\n", "inputFormat": "第一行有一个整数K，表示有矿藏区的规模为 $K$（$1 < K < 50$）。\n\n第二行有一串编码，由  `0`、`1` 组成，长度不超过 $200$，表示该矿藏区的编码。", "outputFormat": "单行输出一个整数，表示矿藏区中一共有多少格子是平地。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2005] Mine Encoding", "background": "", "description": "An exploration robot discovered an extensive mining area on planet Samuel. In this mining area, there are towering mountains and flat plains. To facilitate survey, the entire mining area is divided into $2^K \\times 2^K$ grid cells.\n\nFor example, as shown below, when $K=2$, the mining area is a $4 \\times 4$ grid:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1646.png) \n\nBlack denotes mountains, and white denotes plains.\n\nThe exploration space station has scanned and recorded detailed information about this mining area. Because the area is extremely large, the scientists use a special encoding method to record it.\n\n- If the entire mining area is plains, the code is `0`.\n- If the entire mining area is mountains, the code is `1`.\n- Otherwise, divide the mining area evenly into 4 parts, as shown below:\n     ![](https://cdn.luogu.com.cn/upload/pic/1647.png) \n\nEncode each part in order to obtain $S_1,S_2,S_3,S_4$. The code $S$ of the mining area is $2S_1S_2S_3S_4$.\nFor example, in the figure above, the code of the mining area is: `2021010210001`.\n\nXiaolian hopes you can, based on the given code, count how many grid cells in this mining area are plains.", "inputFormat": "The first line contains an integer $K$, indicating the size parameter $K$ of the mining area ($1 < K < 50$).\n\nThe second line contains a code string composed of `0`, `1`, `2`, with length at most $200$, representing the code of the mining area.", "outputFormat": "Output a single integer, representing how many grid cells in the mining area are plains.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2005] 矿藏编码", "background": "", "description": "探险机器人在 Samuel 星球发现了一片广阔的矿藏区。在这个矿藏区中，有高耸的山峰，也有平坦的平地。为了方便考察，整个矿藏区被划分 个格子区域。\n\n例如下图，就是一个 $K=2$ 即 $4 \\times 4$ 的矿藏区：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1646.png) \n\n其中黑色表示山峰，白色表示平地。\n\n探险空间站已经将这片矿藏区的详细信息扫描并记录下来。由于矿藏区的面积实在太大，所以科学家们采用了一种特殊的编码方式记录。\n\n- 如果这片矿藏区全部是平地，则编码为 `0`。\n- 如果这片矿藏区全部是山峰，则编码为 `1`。\n- 否则，将矿藏区均匀划分成 $4$ 份，如下 所示：\n     ![](https://cdn.luogu.com.cn/upload/pic/1647.png) \n\n依次对每份进行编码，得 $S_1,S_2,S_3,S_4$。该矿藏区的编码 $S$ 为 $2S_1S_2S_3S_4$。\n例如上图中，矿藏区的编码为：`2021010210001`。\n\n小联希望你能根据给定的编码统计出这片矿藏区一共有多少格子区域是平地。\n", "inputFormat": "第一行有一个整数K，表示有矿藏区的规模为 $K$（$1 < K < 50$）。\n\n第二行有一串编码，由  `0`、`1` 组成，长度不超过 $200$，表示该矿藏区的编码。", "outputFormat": "单行输出一个整数，表示矿藏区中一共有多少格子是平地。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2540", "type": "P", "difficulty": 6, "samples": [["1 8\n7 4\n8 4\n9 1\n10 4\n11 1\n5 1\n1 4\n1 1", "3"], ["1 17\n12 3\n4 3\n2 3\n5 4\n10 2\n3 3\n12 2\n0 1\n1 3\n10 1\n6 2\n12 1\n11 3\n5 2\n12 4\n2 2\n7 2", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "2015", "NOIP 提高组", "广度优先搜索 BFS", "深度优先搜索 DFS", "剪枝", "启发式迭代加深搜索 IDA*"], "title": "[NOIP 2015 提高组] 斗地主 加强版", "background": "", "description": "牛牛最近迷上了一种叫斗地主的扑克游戏。斗地主是一种使用黑桃、红心、梅花、方片的 $A$ 到 $K$ 加上大小王的共 $54$ 张牌来进行的扑克牌游戏。在斗地主中，牌的大小关系根据牌的数码表示如下：$3<4<5<6<7<8<9<10<J<Q<K<A<2<\\text{小王}<\\text{大王}$，而花色并不对牌的大小产生影响。每一局游戏中，一副手牌由 $n$ 张牌组成。游戏者每次可以根据规定的牌型进行出牌，首先打光自己的手牌一方取得游戏的胜利。\n\n现在，牛牛只想知道，对于自己的若干组手牌，分别最少需要多少次出牌可以将它们打光。请你帮他解决这个问题。\n\n需要注意的是，本题中游戏者每次可以出手的牌型与一般的斗地主相似而略有不同。具体规则如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1827.png) \n\n**在此题中认为两个王不能组成对子牌**。\n", "inputFormat": "第一行包含用空格隔开的 $2$ 个正整数 $T,n$，表示手牌的组数以及每组手牌的张数。\n\n接下来 $T$ 组数据，每组数据 $n$ 行，每行一个非负整数对 $a_i,b_i$，表示一张牌，其中 $a_i$ 表示牌的数码，$b_i$ 表示牌的花色，中间用空格隔开。特别的，我们用 $1$ 来表示数码 $A$，$11$ 表示数码 $J$，$12$ 表示数码 $Q$，$13$ 表示数码 $K$；黑桃、红心、梅花、方片分别用 $1-4$ 来表示；小王的表示方法为 `0 1`，大王的表示方法为 `0 2`。", "outputFormat": "共 $T$ 行，每行一个整数，表示打光第 $i$ 手牌的最少次数。\n", "hint": "#### 样例 1 说明\n\n共有 $1$ 组手牌，包含 $8$ 张牌：方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$，黑桃 $5$，方片 $A$ 以及黑桃 $A$。可以通过打单顺子（方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$），单张牌（黑桃 $5$）以及对子牌（黑桃 $A$ 以及方片 $A$）在 $3$ 次内打光。\n\n#### 数据范围与提示\n\n对于前 $20$ 个测试点， 我们约定手牌组数 $T$ 与张数 $n$ 的规模如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1828.png) \n\n数据不保证所有的手牌都是随机生成的。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2015 Senior] Dou Dizhu Enhanced Version", "background": "", "description": "Niuniu has recently become obsessed with a card game called Dou Dizhu. Dou Dizhu is a poker game played with a deck of $54$ cards: $A$ through $K$ in Spades, Hearts, Clubs, and Diamonds, plus the two Jokers. In Dou Dizhu, the card ranks are ordered by their numbers as follows: $3<4<5<6<7<8<9<10<J<Q<K<A<2<\\text{小王}<\\text{大王}$, and suits do not affect card strength. In each game, a hand consists of $n$ cards. Each turn, a player may play cards according to certain allowed patterns. The side that first plays out all cards wins.\n\nNow, Niuniu only wants to know, for several of his hands, the minimum number of plays needed to play out all the cards in each hand. Please help him solve this problem.\n\nNote that in this problem, the set of playable patterns per move is similar to standard Dou Dizhu but slightly different. The specific rules are as follows:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1827.png) \n\n**In this problem, the two Jokers cannot form a pair.**", "inputFormat": "The first line contains $2$ positive integers $T, n$ separated by a space, representing the number of hands and the number of cards in each hand.\n\nThen follow $T$ groups of data. For each group, there are $n$ lines, each containing a pair of non-negative integers $a_i, b_i$, representing one card, where $a_i$ is the card rank and $b_i$ is the suit, separated by a space. Specifically, we use $1$ to represent rank $A$, $11$ for $J$, $12$ for $Q$, and $13$ for $K$; Spades, Hearts, Clubs, and Diamonds are represented by $1$–$4$ respectively; the small Joker is represented as `0 1`, and the big Joker as `0 2`.", "outputFormat": "Output $T$ lines. Each line contains one integer, the minimum number of plays needed to play out the $i$-th hand.", "hint": "#### Sample 1 Explanation\n\nThere is $1$ hand containing $8$ cards: Diamonds $7$, Diamonds $8$, Spades $9$, Diamonds $10$, Spades $J$, Spades $5$, Diamonds $A$, and Spades $A$. You can play them out in $3$ moves by playing a single straight (Diamonds $7$, Diamonds $8$, Spades $9$, Diamonds $10$, Spades $J$), a single card (Spades $5$), and a pair (Spades $A$ and Diamonds $A$).\n\n#### Constraints and Notes\n\nFor the first $20$ test points, the scales of the number of hands $T$ and the number of cards $n$ are as follows:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1828.png) \n\nThe testdata does not guarantee that all hands are randomly generated.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2015 提高组] 斗地主 加强版", "background": "", "description": "牛牛最近迷上了一种叫斗地主的扑克游戏。斗地主是一种使用黑桃、红心、梅花、方片的 $A$ 到 $K$ 加上大小王的共 $54$ 张牌来进行的扑克牌游戏。在斗地主中，牌的大小关系根据牌的数码表示如下：$3<4<5<6<7<8<9<10<J<Q<K<A<2<\\text{小王}<\\text{大王}$，而花色并不对牌的大小产生影响。每一局游戏中，一副手牌由 $n$ 张牌组成。游戏者每次可以根据规定的牌型进行出牌，首先打光自己的手牌一方取得游戏的胜利。\n\n现在，牛牛只想知道，对于自己的若干组手牌，分别最少需要多少次出牌可以将它们打光。请你帮他解决这个问题。\n\n需要注意的是，本题中游戏者每次可以出手的牌型与一般的斗地主相似而略有不同。具体规则如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1827.png) \n\n**在此题中认为两个王不能组成对子牌**。\n", "inputFormat": "第一行包含用空格隔开的 $2$ 个正整数 $T,n$，表示手牌的组数以及每组手牌的张数。\n\n接下来 $T$ 组数据，每组数据 $n$ 行，每行一个非负整数对 $a_i,b_i$，表示一张牌，其中 $a_i$ 表示牌的数码，$b_i$ 表示牌的花色，中间用空格隔开。特别的，我们用 $1$ 来表示数码 $A$，$11$ 表示数码 $J$，$12$ 表示数码 $Q$，$13$ 表示数码 $K$；黑桃、红心、梅花、方片分别用 $1-4$ 来表示；小王的表示方法为 `0 1`，大王的表示方法为 `0 2`。", "outputFormat": "共 $T$ 行，每行一个整数，表示打光第 $i$ 手牌的最少次数。\n", "hint": "#### 样例 1 说明\n\n共有 $1$ 组手牌，包含 $8$ 张牌：方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$，黑桃 $5$，方片 $A$ 以及黑桃 $A$。可以通过打单顺子（方片 $7$，方片 $8$，黑桃 $9$，方片 $10$，黑桃 $J$），单张牌（黑桃 $5$）以及对子牌（黑桃 $A$ 以及方片 $A$）在 $3$ 次内打光。\n\n#### 数据范围与提示\n\n对于前 $20$ 个测试点， 我们约定手牌组数 $T$ 与张数 $n$ 的规模如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1828.png) \n\n数据不保证所有的手牌都是随机生成的。\n", "locale": "zh-CN"}}}
{"pid": "P2541", "type": "P", "difficulty": 6, "samples": [["3 10\n4 1 5 3 10\n3 2 3 3\n5 1 3 4 6 6", "61"]], "limits": {"time": [3000, 1000, 1000, 1000, 1000, 1000, 2000, 1000, 1000, 1000, 3000, 3000, 3000, 3000, 3000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2016", "USACO", "Ad-hoc"], "title": "[USACO16DEC] Robotic Cow Herd P", "background": "", "description": "Bessie is hoping to fool Farmer John by building a herd of $K$ realistic robotic cows ($1 \\leq K \\leq 100,000$).\n\nIt turns out that building a robotic cow is somewhat complicated. There are $N$ ($1 \\leq n \\leq 100,000$) individual locations on the robot into which microcontrollers must be connected (so a single microcontroller must be connected at each location). For each of these locations, Bessie can select from a number of different models of microcontroller, each varying in cost.\n\nFor the herd of robotic cows to look convincing to Farmer John, no two robots should behave identically. Therefore, no two robots should have exactly the same set of microcontrollers. For any pair of robots, there should be at least one location at which the two robots use a different microcontroller model. It is guaranteed that there will always be enough different microcontroller models to satisfy this constraint.\n\nBessie wants to make her robotic herd as cheaply as possible. Help her determine the minimum possible cost to do this!", "inputFormat": "The first line of input contains $N$ and $K$ separated by a space.\n\nThe following $N$ lines contain a description of the different microcontroller models available for each location. The $i$th such line starts with $M_i$ ($1 \\leq M_i \\leq 10$), giving the number of models available for location $i$. This is followed by $M_i$ space separated integers $P_{i,j}$ giving the costs of these different models ($1 \\le P_{i,j} \\le 100,000,000$).", "outputFormat": "Output a single line, giving the minimum cost to construct $K$ robots.", "hint": "", "locale": "en", "translations": {"en": {"title": "[USACO16DEC] Robotic Cow Herd P", "background": "", "description": "Bessie is hoping to fool Farmer John by building a herd of $K$ realistic robotic cows ($1 \\leq K \\leq 100,000$).\n\nIt turns out that building a robotic cow is somewhat complicated. There are $N$ ($1 \\leq n \\leq 100,000$) individual locations on the robot into which microcontrollers must be connected (so a single microcontroller must be connected at each location). For each of these locations, Bessie can select from a number of different models of microcontroller, each varying in cost.\n\nFor the herd of robotic cows to look convincing to Farmer John, no two robots should behave identically. Therefore, no two robots should have exactly the same set of microcontrollers. For any pair of robots, there should be at least one location at which the two robots use a different microcontroller model. It is guaranteed that there will always be enough different microcontroller models to satisfy this constraint.\n\nBessie wants to make her robotic herd as cheaply as possible. Help her determine the minimum possible cost to do this!", "inputFormat": "The first line of input contains $N$ and $K$ separated by a space.\n\nThe following $N$ lines contain a description of the different microcontroller models available for each location. The $i$th such line starts with $M_i$ ($1 \\leq M_i \\leq 10$), giving the number of models available for location $i$. This is followed by $M_i$ space separated integers $P_{i,j}$ giving the costs of these different models ($1 \\le P_{i,j} \\le 100,000,000$).", "outputFormat": "Output a single line, giving the minimum cost to construct $K$ robots.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[USACO16DEC] Robotic Cow Herd P", "background": "", "description": "Bessie 希望通过建造 $K$ 头逼真的机器人奶牛（$1 \\leq K \\leq 100,000$）来愚弄 Farmer John。\n\n事实证明，建造一头机器人奶牛有些复杂。机器人上有 $N$ 个（$1 \\leq N \\leq 100,000$）独立的位置需要连接微控制器（因此每个位置必须连接一个微控制器）。对于每个位置，Bessie 可以从多个不同的微控制器模型中选择，每个模型的成本各不相同。\n\n为了让机器人牛群对 Farmer John 看起来逼真，任何两头机器人的行为都不应完全相同。因此，任何两头机器人都不应使用完全相同的微控制器集合。对于任意一对机器人，至少应有一个位置上的微控制器模型不同。保证始终有足够的不同微控制器模型来满足此约束。\n\nBessie 希望以尽可能低的成本建造她的机器人牛群。请帮助她确定实现这一目标的最小可能成本！", "inputFormat": "输入的第一行包含用空格分隔的 $N$ 和 $K$。\n\n接下来的 $N$ 行描述了每个位置可用的不同微控制器模型。第 $i$ 行以 $M_i$（$1 \\leq M_i \\leq 10$）开头，表示位置 $i$ 可用的模型数量。随后是 $M_i$ 个用空格分隔的整数 $P_{i,j}$，表示这些不同模型的成本（$1 \\le P_{i,j} \\le 100,000,000$）。", "outputFormat": "输出一行，表示建造 $K$ 头机器人的最小成本。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2542", "type": "P", "difficulty": 6, "samples": [["5 5\n1 2\n1 3\n3 4\n4 5\n4 2\n1 1 5\n0 4 2\n1 5 1\n-1", "1\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2005", "线段树", "各省省选", "安徽", "O2优化", "最近公共祖先 LCA", "树链剖分"], "title": "[AHOI2005] 航线规划", "background": "", "description": "对 Samuel 星球的探险已经取得了非常巨大的成就，于是科学家们将目光投向了 Samuel 星球所在的星系——一个巨大的由千百万星球构成的 Samuel 星系。\n\n星际空间站的 Samuel II 巨型计算机经过长期探测，已经锁定了 Samuel 星系中 $n$ 个星球的空间坐标，并对这些星球以 $1$ 至 $n$ 依次编号。\n\n一些先遣飞船已经出发，在星球之间开辟探险航线。\n\n探险航线是双向的，例如从 $1$ 号星球到 $3$ 号星球开辟探险航线，那么从 $3$ 号星球到 $1$ 号星球也可以使用这条航线。\n\n例如下图所示：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1644.png) \n\n在 $5$ 个星球之间，有 $5$ 条探险航线。\n\n$A,B$ 两星球之间，如果某条航线不存在，就无法从 $A$ 星球抵达 $B$ 星球，我们则称这条航线为关键航线。\n\n显然上图中，$1$ 号与 $5$ 号星球之间的关键航线有 $1$ 条：即为 $4\\leftrightarrow5$ 航线。\n\n然而，在宇宙中一些未知的磁暴和行星的冲撞，使得已有的某些航线被破坏，随着越来越多的航线被破坏，探险飞船又不能及时恢复这些航线，可见两个星球之间的关键航线会越来越多。\n\n假设在上图中，航线 $4\\leftrightarrow2$（从 $4$ 号星球到 $2$ 号星球）被破坏。此时，$1$ 号与 $5$ 号星球之间的关键航线就有 $3$ 条：$1 \\leftrightarrow 3$，$3 \\leftrightarrow 4$，$4 \\leftrightarrow 5$。\n\n小联的任务是，不断关注航线被破坏的情况，并随时给出两个星球之间的关键航线数目。现在请你帮助完成。\n", "inputFormat": "第一行有两个整数，分别表示星球个数 $n$ 和初始时的航线条数 $m$。\n\n接下来 $m$ 行，每行有两个不相同的整数 $u, v$，表示星球 $u$ 和星球 $v$ 之间存在一条航线。\n\n接下来有若干行，每行首先给出一个整数 $op$，表示一次操作的类型。\n\n- 若 $op = 1$，则后接两个整数 $u, v$，表示询问当前 $u, v$ 两星球之间有多少关键航线。\n- 若 $op = 0$，则后接两个整数 $u, v$，表示 $u, v$ 之间的航线被破坏。\n- 若 $op = -1$，则表示输入结束，后面不再存在操作。\n", "outputFormat": "对每个 $op = 1$ 的询问，输出一行一个整数表示关键航线数目。\n", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 3 \\times 10^4$，$1 \\leq m \\leq 10^5$。\n- $-1 \\leq op \\leq 1$，$1 \\leq u, v \\leq n$。\n- 无论航线如何被破坏，任意时刻任意两个星球都能够相互到达。在整个数据中，任意两个星球之间最多只可能存在一条直接的航线。\n- 对于 $op = 0$ 的操作，保证操作前航线 $u \\leftrightarrow v$ 存在。\n- 询问与破坏航线的总次数不超过 $4 \\times 10^4$。\n\nUpdate :2025.6.27 添加一组数据。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2005] Route Planning", "background": "", "description": "Exploration of planet Samuel has achieved great success, so scientists turned their attention to the galaxy where planet Samuel resides—a vast Samuel Galaxy composed of hundreds of millions of planets.\n\nAfter long-term probing, the Samuel II supercomputer of the interstellar space station has located the spatial coordinates of $n$ planets in the Samuel Galaxy and numbered these planets from $1$ to $n$.\n\nSome advance spacecraft have set out and opened exploration routes between planets.\n\nExploration routes are bidirectional. For example, if an exploration route is opened from planet $1$ to planet $3$, then the route can also be used from planet $3$ to planet $1$.\n\nFor example, see the figure below:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1644.png) \n\nAmong $5$ planets, there are $5$ exploration routes.\n\nFor two planets $A$ and $B$, if removing a certain route makes it impossible to travel from planet $A$ to planet $B$, we call that route a critical route.\n\nObviously, in the figure above, there is $1$ critical route between planets $1$ and $5$: that is, the $4 \\leftrightarrow 5$ route.\n\nHowever, due to unknown magnetic storms and planetary collisions in the universe, some existing routes are damaged. As more and more routes are destroyed and exploration ships cannot repair them in time, the number of critical routes between two planets will increase.\n\nSuppose in the figure above, the route $4 \\leftrightarrow 2$ (from planet $4$ to planet $2$) is destroyed. At this time, there are $3$ critical routes between planets $1$ and $5$: $1 \\leftrightarrow 3$, $3 \\leftrightarrow 4$, and $4 \\leftrightarrow 5$.\n\nXiao Lian’s task is to continuously monitor route destructions and report, at any time, the number of critical routes between two planets. Please help complete this task.", "inputFormat": "The first line contains two integers, representing the number of planets $n$ and the initial number of routes $m$.\n\nThe next $m$ lines each contain two distinct integers $u, v$, indicating that there is a route between planet $u$ and planet $v$.\n\nThen follow several lines. Each line first gives an integer $op$, indicating the type of an operation.\n\n- If $op = 1$, then two integers $u, v$ follow, asking how many critical routes currently exist between planets $u$ and $v$.\n- If $op = 0$, then two integers $u, v$ follow, indicating that the route between $u$ and $v$ is destroyed.\n- If $op = -1$, the input ends and no further operations follow.", "outputFormat": "For each query with $op = 1$, output one integer on a separate line indicating the number of critical routes.", "hint": "Constraints and Conventions\n\n- $1 \\leq n \\leq 3 \\times 10^4$, $1 \\leq m \\leq 10^5$.\n- $-1 \\leq op \\leq 1$, $1 \\leq u, v \\leq n$.\n- Regardless of how routes are destroyed, at any time any two planets can reach each other. In the entire testdata, between any two planets there is at most one direct route.\n- For operations with $op = 0$, it is guaranteed that the route $u \\leftrightarrow v$ exists before the operation.\n- The total number of queries and route destructions does not exceed $4 \\times 10^4$.\n\nUpdate: 2025.6.27 Added one set of testdata.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2005] 航线规划", "background": "", "description": "对 Samuel 星球的探险已经取得了非常巨大的成就，于是科学家们将目光投向了 Samuel 星球所在的星系——一个巨大的由千百万星球构成的 Samuel 星系。\n\n星际空间站的 Samuel II 巨型计算机经过长期探测，已经锁定了 Samuel 星系中 $n$ 个星球的空间坐标，并对这些星球以 $1$ 至 $n$ 依次编号。\n\n一些先遣飞船已经出发，在星球之间开辟探险航线。\n\n探险航线是双向的，例如从 $1$ 号星球到 $3$ 号星球开辟探险航线，那么从 $3$ 号星球到 $1$ 号星球也可以使用这条航线。\n\n例如下图所示：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1644.png) \n\n在 $5$ 个星球之间，有 $5$ 条探险航线。\n\n$A,B$ 两星球之间，如果某条航线不存在，就无法从 $A$ 星球抵达 $B$ 星球，我们则称这条航线为关键航线。\n\n显然上图中，$1$ 号与 $5$ 号星球之间的关键航线有 $1$ 条：即为 $4\\leftrightarrow5$ 航线。\n\n然而，在宇宙中一些未知的磁暴和行星的冲撞，使得已有的某些航线被破坏，随着越来越多的航线被破坏，探险飞船又不能及时恢复这些航线，可见两个星球之间的关键航线会越来越多。\n\n假设在上图中，航线 $4\\leftrightarrow2$（从 $4$ 号星球到 $2$ 号星球）被破坏。此时，$1$ 号与 $5$ 号星球之间的关键航线就有 $3$ 条：$1 \\leftrightarrow 3$，$3 \\leftrightarrow 4$，$4 \\leftrightarrow 5$。\n\n小联的任务是，不断关注航线被破坏的情况，并随时给出两个星球之间的关键航线数目。现在请你帮助完成。\n", "inputFormat": "第一行有两个整数，分别表示星球个数 $n$ 和初始时的航线条数 $m$。\n\n接下来 $m$ 行，每行有两个不相同的整数 $u, v$，表示星球 $u$ 和星球 $v$ 之间存在一条航线。\n\n接下来有若干行，每行首先给出一个整数 $op$，表示一次操作的类型。\n\n- 若 $op = 1$，则后接两个整数 $u, v$，表示询问当前 $u, v$ 两星球之间有多少关键航线。\n- 若 $op = 0$，则后接两个整数 $u, v$，表示 $u, v$ 之间的航线被破坏。\n- 若 $op = -1$，则表示输入结束，后面不再存在操作。\n", "outputFormat": "对每个 $op = 1$ 的询问，输出一行一个整数表示关键航线数目。\n", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 3 \\times 10^4$，$1 \\leq m \\leq 10^5$。\n- $-1 \\leq op \\leq 1$，$1 \\leq u, v \\leq n$。\n- 无论航线如何被破坏，任意时刻任意两个星球都能够相互到达。在整个数据中，任意两个星球之间最多只可能存在一条直接的航线。\n- 对于 $op = 0$ 的操作，保证操作前航线 $u \\leftrightarrow v$ 存在。\n- 询问与破坏航线的总次数不超过 $4 \\times 10^4$。\n\nUpdate :2025.6.27 添加一组数据。", "locale": "zh-CN"}}}
{"pid": "P2543", "type": "P", "difficulty": 3, "samples": [["01010101010 00000011111", "6"], ["01011 010010101111111111", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "2004", "各省省选", "安徽"], "title": "[AHOI2004] 奇怪的字符串", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/pic/1654.png)\n", "inputFormat": "输入文件中包含两个字符串X和Y。当中两字符串非0即1。序列长度均小于9999。\n", "outputFormat": "X和Y的最长公共子序列长度。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2004] Strange String", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/pic/1654.png)", "inputFormat": "The input file contains two strings X and Y. Both strings consist only of 0 and 1. The length of each string is less than 9999.", "outputFormat": "Output the length of the longest common subsequence of X and Y.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2004] 奇怪的字符串", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/pic/1654.png)\n", "inputFormat": "输入文件中包含两个字符串X和Y。当中两字符串非0即1。序列长度均小于9999。\n", "outputFormat": "X和Y的最长公共子序列长度。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2544", "type": "P", "difficulty": 6, "samples": [["1 2 99", "2"], ["9 1 999", "22"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2004", "各省省选", "递归", "安徽", "Fibonacci 数列"], "title": "[AHOI2004] 数字迷阵", "background": null, "description": "小可可参观科学博物馆时，看到一件藏品，上面有密密麻麻的数字，如下所示：\n\n```text\n\n1   2   3   5   8    13   21   34   55   89   144  …\n4   7   11  18  29   47   76   123  199  322  521  …\n6   10  16  26  42   68   110  178  288  466  754  …\n9   15  24  39  63   102  165  267  432  699  1131 …\n12  20  32  52  84   136  220  356  576  932  1508 …\n14  23  37  60  97   157  254  411  665  1076 1741 …\n17  28  45  73  118  191  309  500  809  1309 2118 …\n19  31  50  81  131  212  343  555  898  1453 2351 …\n22  36  58  94  152  246  398  644  1042 1686 2728 …\n25  41  66  107 173  280  453  733  1186 1919 3105 …\n27  44  71  115 186  301  487  788  1275 2063 3338 …\n…\n\n```\n\n仔细一分析，发现还挺有规律。\n\n原来，**第一行是 Fibonacci 数列**。即，该行中除了第一个和第二个数分别为 1 和 2 之外，其他数都是其左侧相邻的两个数之和。\n\n其后各行也类似于 Fibonacci 数列。只是第 $i$ 行的第一个数是前 $i-1$ 行中未出现的最小正整数，而其第二个数与该行第一个数以及所在行的编号 $i$ 相关，即\n\n$$\nA[i,2] = 2A[i,1] - (i - 1).\n$$\n\n如在第一行中未出现的最小正整数为 4，前三行中未出现的最小正整数为 9。故第二行以 4 和 7 开头，而第四行以 9 和 15 开头。\n\n小可可高兴地把这个发现告诉了爷爷。爷爷问道：**你能否一口报出第 $i$ 行、第 $j$ 列的那个数对 $m$ 取模的结果是多少呢？**  \n聪明的小可可通过心算就能知道答案。你是否能编写程序求解呢？", "inputFormat": "输入一行三个正整数 $i,j,m$。", "outputFormat": "输出一行一个正整数，表示对应的第 $i$ 行，第 $j$ 列的那个正整数对 $m$ 取模的结果。", "hint": "对于所有数据，$i,j\\le10^9,2\\le m\\le10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2004] Number Maze", "background": "", "description": "When Xiao Keke visited the science museum, she saw an exhibit covered with dense numbers, as shown below:\n\n```text\n\n1   2   3   5   8    13   21   34   55   89   144  …\n4   7   11  18  29   47   76   123  199  322  521  …\n6   10  16  26  42   68   110  178  288  466  754  …\n9   15  24  39  63   102  165  267  432  699  1131 …\n12  20  32  52  84   136  220  356  576  932  1508 …\n14  23  37  60  97   157  254  411  665  1076 1741 …\n17  28  45  73  118  191  309  500  809  1309 2118 …\n19  31  50  81  131  212  343  555  898  1453 2351 …\n22  36  58  94  152  246  398  644  1042 1686 2728 …\n25  41  66  107 173  280  453  733  1186 1919 3105 …\n27  44  71  115 186  301  487  788  1275 2063 3338 …\n…\n\n```\n\nAfter some analysis, she found a clear pattern.\n\nIt turns out that the first row is the Fibonacci sequence. That is, in this row, except for the first and second numbers which are 1 and 2 respectively, every other number is the sum of the two numbers immediately to its left.\n\nThe subsequent rows are also similar to the Fibonacci sequence. The first number of row $i$ is the smallest positive integer that has not appeared in the previous $i - 1$ rows, and the second number of that row is related to the first number and the row index $i$, namely\n$$\nA[i,2] = 2A[i,1] - (i - 1).\n$$\n\nFor example, the smallest positive integer not appearing in the first row is 4, and the smallest positive integer not appearing in the first three rows is 9. Therefore, the second row begins with 4 and 7, and the fourth row begins with 9 and 15.\n\nXiao Keke happily told her grandfather about this discovery. Grandpa asked: Can you immediately tell, for the number at row $i$ and column $j$, what its value modulo $m$ is?  \nClever Xiao Keke can figure it out mentally. Can you write a program to compute it?", "inputFormat": "A single line containing three positive integers $i, j, m$.", "outputFormat": "Output a single line with one positive integer: the value of the number at row $i$ and column $j$ modulo $m$.", "hint": "Constraints: For all testdata, $i, j \\le 10^9$, $2 \\le m \\le 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2004] 数字迷阵", "background": null, "description": "小可可参观科学博物馆时，看到一件藏品，上面有密密麻麻的数字，如下所示：\n\n```text\n\n1   2   3   5   8    13   21   34   55   89   144  …\n4   7   11  18  29   47   76   123  199  322  521  …\n6   10  16  26  42   68   110  178  288  466  754  …\n9   15  24  39  63   102  165  267  432  699  1131 …\n12  20  32  52  84   136  220  356  576  932  1508 …\n14  23  37  60  97   157  254  411  665  1076 1741 …\n17  28  45  73  118  191  309  500  809  1309 2118 …\n19  31  50  81  131  212  343  555  898  1453 2351 …\n22  36  58  94  152  246  398  644  1042 1686 2728 …\n25  41  66  107 173  280  453  733  1186 1919 3105 …\n27  44  71  115 186  301  487  788  1275 2063 3338 …\n…\n\n```\n\n仔细一分析，发现还挺有规律。\n\n原来，**第一行是 Fibonacci 数列**。即，该行中除了第一个和第二个数分别为 1 和 2 之外，其他数都是其左侧相邻的两个数之和。\n\n其后各行也类似于 Fibonacci 数列。只是第 $i$ 行的第一个数是前 $i-1$ 行中未出现的最小正整数，而其第二个数与该行第一个数以及所在行的编号 $i$ 相关，即\n\n$$\nA[i,2] = 2A[i,1] - (i - 1).\n$$\n\n如在第一行中未出现的最小正整数为 4，前三行中未出现的最小正整数为 9。故第二行以 4 和 7 开头，而第四行以 9 和 15 开头。\n\n小可可高兴地把这个发现告诉了爷爷。爷爷问道：**你能否一口报出第 $i$ 行、第 $j$ 列的那个数对 $m$ 取模的结果是多少呢？**  \n聪明的小可可通过心算就能知道答案。你是否能编写程序求解呢？", "inputFormat": "输入一行三个正整数 $i,j,m$。", "outputFormat": "输出一行一个正整数，表示对应的第 $i$ 行，第 $j$ 列的那个正整数对 $m$ 取模的结果。", "hint": "对于所有数据，$i,j\\le10^9,2\\le m\\le10^4$。", "locale": "zh-CN"}}}
{"pid": "P2545", "type": "P", "difficulty": 3, "samples": [["4\n-1 2 -3 4\n5 6 7 8", "31"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2004", "各省省选", "安徽"], "title": "[AHOI2004] 实验基地", "background": null, "description": "经过不懈努力，我国科学家将正式启动 Samuel 星球研究计划。目前阶段的任务是采用飞船将智能机器人运送到该星球以建立临时实验基地进行深入的科学探索实验。为了激发广大学生的科学兴趣，科学家们还在全球范围内设立学生研究组（简称 SRT）。经过层层选拔，小可可终于入选该研究组。\n\n科学家前辈们交给小可可一项简单的运筹任务：\n\n在前期的绕 Samuel 星球探测计划中，发现该星球有若干处狭长的平坦地带可以用于登陆（亦称为“登陆地带”）。科学家们计划在登陆地带上建立实验基地。但是，并不是任何登陆地带都适宜建立实验基地。\n\n为此，科学家们已将每一个登陆地带都划分成 $2 \\times N$ 个矩形。不同的登陆地带其 $N$ 值不同。在绕 Samuel 星球探测计划中，已经对各个矩形土地的适用度做了评估。例如，某 $2 \\times 9$ 登陆地带的适用度评估值如下表所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3231y0gl.png)\n\n在这些矩形土地中，适用度为正数的，其土地比较结实平坦，适合建立实验基地，正值越高，就越安全，越适合建立基地。有些矩形土地适用度为负数，这表明该片土地有危险性，负得越多，就越不适合建立实验基地。\n\n科学家希望从登陆地带中自行选取一段 $2 \\times Q$ 的区域建立实验基地。不过为了研究方便，规定在 $2 \\times Q$ 区域中的第一行选一段长度为 $P$ 的区域空出来，作为采集样品的场所——此场所将不算作实验基地。这样一来，实验基地的形状看上去就是一个“凹”字型。\n\n例如，下图就是一个选取方案。粗线条框内的区域就是实验基地，它开辟出了一个 $2\\times5$ 的区域，并且在第一行中选出了长度为 $2$ 的样品采集区，样品采集区的适用度分别为 $-4$ 和 $-5$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z0rv0vja.png)\n\n注意：$Q$ 和 $P$ 在 $N$ 的范围内可以自行任意选取，但是必须要设置样品采集区，而且样品采集区的左右两侧必须存在实验基地。故以下形状的实验基地是不允许出现的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d55jtlyn.png)\n\n科学家们将实验基地所占据的各个矩形土地其适用度之和称为该实验基地区，而且样品采集区的左右两侧必须存在实验基地。故以下形状的实验基地是不允许出现的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d55jtlyn.png)\n\n科学家们将实验基地所占据的各个矩形土地其适用度之和称为该实验基地的适用度。科学家们希望所建立的实验基地适用度能够尽可能大，并把这个实验基地的选址任务交给了小可可。现在请你为小可可编写程序进行选址。", "inputFormat": "第一行有一个整数 $N(3 < N < 2000)$，表示登陆地带的大小是 $2 \\times N$。随后的两行每一行有 $N$ 个整数（其绝对值不超过 $10^6$），表示对应的矩形土地的适用度评估值，各个整数之间用一个空格隔开。", "outputFormat": "只有一行输出，为整数 $M$，即所确定的实验基地的适用度。", "hint": "数据范围见输入格式。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2004] Experimental Base", "background": "", "description": "After unremitting efforts, scientists in our country are officially launching the research program for planet Samuel. The current task is to transport intelligent robots to the planet by spacecraft to establish a temporary experimental base for in-depth scientific exploration. To inspire students’ interest in science, scientists have also set up Student Research Teams (SRT) worldwide. After multiple rounds of selection, Xiao Keke has finally been admitted to the team.\n\nSenior scientists assigned Xiao Keke a simple operations task:\n\nIn the preliminary orbital survey of planet Samuel, it was found that the planet has several narrow flat regions suitable for landing (also called “landing zones”). Scientists plan to build an experimental base in a landing zone. However, not every landing zone is suitable for construction.\n\nTo this end, each landing zone has been divided into $2 \\times N$ rectangles. Different landing zones have different values of $N$. During the survey, the suitability of each rectangular plot was assessed. For example, the suitability values for a $2 \\times 9$ landing zone are shown below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3231y0gl.png)\n\nAmong these rectangular plots, those with positive suitability are firm and flat, suitable for building the base; the higher the positive value, the safer and more suitable it is. Some plots have negative suitability, indicating danger; the more negative it is, the less suitable it is for construction.\n\nScientists wish to choose a $2 \\times Q$ segment within a landing zone to build the experimental base. For convenience in research, it is required that within the $2 \\times Q$ segment, a contiguous segment of length $P$ in the first row is left empty as a sample collection area—this area is not counted as part of the experimental base. As a result, the base forms a “concave” shape.\n\nFor example, the figure below shows a selection scheme. The region within the bold border is the experimental base. It covers a $2 \\times 5$ area, and in the first row, a sample collection area of length $2$ is selected; its suitability values are $-4$ and $-5$ respectively.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z0rv0vja.png)\n\nNote: $Q$ and $P$ can be chosen arbitrarily within the range of $N$, but a sample collection area must be set, and there must be base cells on both the left and right sides of the sample collection area within the first row. Therefore, the following base shapes are not allowed:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d55jtlyn.png)\n\nThe sum of the suitability values of all rectangular plots occupied by the experimental base is called the suitability of the base. Scientists hope to maximize this suitability and have assigned the site selection task to Xiao Keke. Please write a program to determine the optimal base location.", "inputFormat": "The first line contains an integer $N$ ($3 < N < 2000$), indicating the size of the landing zone is $2 \\times N$. The next two lines each contain $N$ integers (each with absolute value at most $10^6$), representing the suitability values of the corresponding rectangular plots, separated by single spaces.", "outputFormat": "Output a single line with an integer $M$, the suitability of the determined experimental base.", "hint": "Constraints are given in the input format.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2004] 实验基地", "background": null, "description": "经过不懈努力，我国科学家将正式启动 Samuel 星球研究计划。目前阶段的任务是采用飞船将智能机器人运送到该星球以建立临时实验基地进行深入的科学探索实验。为了激发广大学生的科学兴趣，科学家们还在全球范围内设立学生研究组（简称 SRT）。经过层层选拔，小可可终于入选该研究组。\n\n科学家前辈们交给小可可一项简单的运筹任务：\n\n在前期的绕 Samuel 星球探测计划中，发现该星球有若干处狭长的平坦地带可以用于登陆（亦称为“登陆地带”）。科学家们计划在登陆地带上建立实验基地。但是，并不是任何登陆地带都适宜建立实验基地。\n\n为此，科学家们已将每一个登陆地带都划分成 $2 \\times N$ 个矩形。不同的登陆地带其 $N$ 值不同。在绕 Samuel 星球探测计划中，已经对各个矩形土地的适用度做了评估。例如，某 $2 \\times 9$ 登陆地带的适用度评估值如下表所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3231y0gl.png)\n\n在这些矩形土地中，适用度为正数的，其土地比较结实平坦，适合建立实验基地，正值越高，就越安全，越适合建立基地。有些矩形土地适用度为负数，这表明该片土地有危险性，负得越多，就越不适合建立实验基地。\n\n科学家希望从登陆地带中自行选取一段 $2 \\times Q$ 的区域建立实验基地。不过为了研究方便，规定在 $2 \\times Q$ 区域中的第一行选一段长度为 $P$ 的区域空出来，作为采集样品的场所——此场所将不算作实验基地。这样一来，实验基地的形状看上去就是一个“凹”字型。\n\n例如，下图就是一个选取方案。粗线条框内的区域就是实验基地，它开辟出了一个 $2\\times5$ 的区域，并且在第一行中选出了长度为 $2$ 的样品采集区，样品采集区的适用度分别为 $-4$ 和 $-5$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/z0rv0vja.png)\n\n注意：$Q$ 和 $P$ 在 $N$ 的范围内可以自行任意选取，但是必须要设置样品采集区，而且样品采集区的左右两侧必须存在实验基地。故以下形状的实验基地是不允许出现的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d55jtlyn.png)\n\n科学家们将实验基地所占据的各个矩形土地其适用度之和称为该实验基地区，而且样品采集区的左右两侧必须存在实验基地。故以下形状的实验基地是不允许出现的：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d55jtlyn.png)\n\n科学家们将实验基地所占据的各个矩形土地其适用度之和称为该实验基地的适用度。科学家们希望所建立的实验基地适用度能够尽可能大，并把这个实验基地的选址任务交给了小可可。现在请你为小可可编写程序进行选址。", "inputFormat": "第一行有一个整数 $N(3 < N < 2000)$，表示登陆地带的大小是 $2 \\times N$。随后的两行每一行有 $N$ 个整数（其绝对值不超过 $10^6$），表示对应的矩形土地的适用度评估值，各个整数之间用一个空格隔开。", "outputFormat": "只有一行输出，为整数 $M$，即所确定的实验基地的适用度。", "hint": "数据范围见输入格式。", "locale": "zh-CN"}}}
{"pid": "P2546", "type": "P", "difficulty": 5, "samples": [["10\n1 1\n3 1\n3 -2\n-3 -2\n-3 0\n-1 0\n-1 -1\n2 -1\n2 0\n1 0", "5\n10 5\n1 7\n2 9\n3 8\n4 6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "POI（波兰）", "Special Judge"], "title": "[POI 2008] SZK - Mirror trap", "background": "", "description": "King Byteasar's palace is haunted by a ghost. The spiteful claim it is the ghost of the late Byteasar's wife (who died recently in suspicious circumstances), for it takes great pleasure in looking at itself in the mirror, just as she did. No wonder that Byteasar would gladly get rid of this ghost!\n\nByteasar has decided to plant a special mirror trap in one of the palace's chambers. It is a closed, well lit room whose every interior wall is covered with mirror. Furthermore, in its every corner a laser gun or a laser detector can be set up. As soon as the ghost crosses one of the laser beams an alarm will go off, summoning Byteasar's ghost vanquishers team (as a royal team, they prefer not to be colloquially called 'ghost busters'), who will surely dispose of the ghost in no time.\n\nThe chamber, in which the mirror trap is being installed, is in the shape of a polygon whose consecutive sides are perpendicular. Moreover, the length of every side (measured in metres) is integral. Should a laser gun be installed in some corner, its beam has to be pointed along the bisector of the angle formed by the walls meeting in this corner (in a plane parallel to the floor surface). Obviously, if the laser beam encounters a mirror, it is reflected, obeying the regular reflection law: the angle which the incident ray makes with the normal is equal to the angle which the reflected ray makes to the same normal. This angle, as you may notice, is always 45 degrees due to the chamber's architecture. A beam cast along the bisector into a corner where a detector is placed, is completely absorbed by it. On the other hand, a beam cast along the bisector into corner without a detector (though possibly with a laser gun) is reflected back (by 180 degrees). In all the remaining cases the beam does not change its direction at all.\n\nA maximum number of laser guns complemented with laser detectors should be placed in the room in such a way that each laser beam is eventually absorbed by some detector, no two laser beams are absorbed by the same detector and each detector absorbs some laser beam. Also, a laser gun and a detector may not be placed in the same corner.\n\n\nAn example of a mirror trap with the laser beam going from corner 1 to corner 7:\n\nWrite a programme that:\n\nreads from the standard input the the mirror trap's shape description,\ndetermines the way of setting up the maximum possible number of laser guns and detectors satisfying the aforementioned conditions,\nwrites out the result to the standard output.\n\n\n![](https://cdn.luogu.com.cn/upload/pic/15471.png)", "inputFormat": "", "outputFormat": "", "hint": "", "locale": "en", "translations": {"en": {"title": "[POI 2008] SZK - Mirror trap", "background": "", "description": "King Byteasar's palace is haunted by a ghost. The spiteful claim it is the ghost of the late Byteasar's wife (who died recently in suspicious circumstances), for it takes great pleasure in looking at itself in the mirror, just as she did. No wonder that Byteasar would gladly get rid of this ghost!\n\nByteasar has decided to plant a special mirror trap in one of the palace's chambers. It is a closed, well lit room whose every interior wall is covered with mirror. Furthermore, in its every corner a laser gun or a laser detector can be set up. As soon as the ghost crosses one of the laser beams an alarm will go off, summoning Byteasar's ghost vanquishers team (as a royal team, they prefer not to be colloquially called 'ghost busters'), who will surely dispose of the ghost in no time.\n\nThe chamber, in which the mirror trap is being installed, is in the shape of a polygon whose consecutive sides are perpendicular. Moreover, the length of every side (measured in metres) is integral. Should a laser gun be installed in some corner, its beam has to be pointed along the bisector of the angle formed by the walls meeting in this corner (in a plane parallel to the floor surface). Obviously, if the laser beam encounters a mirror, it is reflected, obeying the regular reflection law: the angle which the incident ray makes with the normal is equal to the angle which the reflected ray makes to the same normal. This angle, as you may notice, is always 45 degrees due to the chamber's architecture. A beam cast along the bisector into a corner where a detector is placed, is completely absorbed by it. On the other hand, a beam cast along the bisector into corner without a detector (though possibly with a laser gun) is reflected back (by 180 degrees). In all the remaining cases the beam does not change its direction at all.\n\nA maximum number of laser guns complemented with laser detectors should be placed in the room in such a way that each laser beam is eventually absorbed by some detector, no two laser beams are absorbed by the same detector and each detector absorbs some laser beam. Also, a laser gun and a detector may not be placed in the same corner.\n\n\nAn example of a mirror trap with the laser beam going from corner 1 to corner 7:\n\nWrite a programme that:\n\nreads from the standard input the the mirror trap's shape description,\ndetermines the way of setting up the maximum possible number of laser guns and detectors satisfying the aforementioned conditions,\nwrites out the result to the standard output.\n\n\n![](https://cdn.luogu.com.cn/upload/pic/15471.png)", "inputFormat": "", "outputFormat": "", "hint": "", "locale": "en"}, "zh-CN": {"title": "[POI 2008] SZK - Mirror trap", "background": "", "description": "$N$ 个点的多边形相邻边垂直，边长为整数，边平行坐标轴。要在多边形的点上放一些激光发射器和接收器。满足下列要求：\n\n - 发射器和接收器不能放置在同一点；\n - 发射器发出激光可以沿壁反射，最终到达一个接收器；\n - 发射器只能沿角平分线发射激光。\n\n求：最多可放置多少对发射器和接收器？$4\\leq N\\leq 10^5$，**多边形周长不超过 $3\\times 10^5$**。", "inputFormat": "第一行给出一个数字 $N$，代表有多少个点。下面 $N$ 行,用来描述点的坐标.其值在 $[-1000000,1000000]$。", "outputFormat": "第一行一个数，最多可放置多少对发射器和接收器。接下来若干行，每行两个数，描述一对发射器和接收器。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2547", "type": "P", "difficulty": 5, "samples": [["3\nATCTACTG\nCTATACTG\nCTATGATC", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2004", "各省省选", "安徽"], "title": "[AHOI2004] DNA变异", "background": null, "description": "![](https://cdn.luogu.com.cn/upload/pic/1660.png)", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1661.png)", "outputFormat": "只有一行数字，表示 DNA 序列中的血缘序列对的总数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2004] DNA Mutation", "background": "", "description": "![](https://cdn.luogu.com.cn/upload/pic/1660.png)", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1661.png)", "outputFormat": "Only one line containing a number, representing the total number of \"血缘序列对\" in the DNA sequence.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2004] DNA变异", "background": null, "description": "![](https://cdn.luogu.com.cn/upload/pic/1660.png)", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1661.png)", "outputFormat": "只有一行数字，表示 DNA 序列中的血缘序列对的总数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2548", "type": "P", "difficulty": 2, "samples": [["4 3\nsunny plain full many\nsunny mountain full many\nsunny mountain full few", "sunny * full *"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2004", "各省省选", "安徽"], "title": "[AHOI2004] 智能探险车", "background": "", "description": "在 ***Sanuel*** 星球上的科学探险活动是由名为 ***Smart*** 的智能探险车完成的。因为 ***Sanuel*** 星球远离地球，信号往返传送一次要耗费数小时，而且存在很高的误码率。因此科学家们无法在地球上对 ***Smart*** 探险车进行实时控制，绝大部分探险活动都是由该探险车通过分析环境要素、自主决策、自主完成的。\n\n科学家们的探险车设计方案相对简单：\n\n首先，总结出影响探险车决策的各种**决策因素**，譬如：天气（weather）、地形（landform）、探险车供电情况（energy）和已采集矿石数目（mine）等。\n\n随后，将每一种**决策因素**分成两种主要**情况**。譬如，将天气分成晴朗（sunny）和大风（windy）；将探险车供电情况分成饱满（full）和匮乏（lack），等等。\n\n再后，科学家们针对各种**决策因素**，分别列出每一种行为的决策条件。譬如，若影响采集矿石的决策因素有 $N=4$ 种，而采集矿石的决策条件如下：\n\n| 决策条件 | Weather | Landform | Energy | Mine |\n| :------: | :-----: | :------: | :----: | :--: |\n|    1     |  sunny  |  Plain   |  full  | Few  |\n|    2     |  sunny  | mountain |  full  | Many |\n|    3     |  sunny  | mountain |  full  | Many |\n\n探险车的行为及其决策条件都很多，为了提高探险车的决策速度，最后需要探险车上的智能归纳模块将每一种行为的各种决策条件总结成一条“决策模板”。\n\n如上述采集矿石的各条决策条件可以总结为：\n\n| 决策模板 | sunny |  *   | full |  *   |\n| :------: | :---: | :--: | :--: | :--: |\n\n其中，“*”表示该因素不影响探险车的行为决策。\n\n显然，决策模板要能够涵盖科学家们列出的该行为的所有决策条件。同时，决策模板中也含有一些科学家们未列出的决策条件，因而探险车能够在科学家们没有给出的决策条件下也能够自动进行某种行为，因而具有一定的“智能性”。如，上述决策模板会导致探险车在以下决策条件下也会进行矿石的采集。\n\n|            | Weather | Landform | Energy | Mine |\n| :--------: | :-----: | :------: | :----: | :--: |\n| 新决策条件 |  sunny  |  Plain   |  full  | Many |\n\n但是，任何事物都存在着两个方面。如果给出的决策模板过于笼统就失去了决策意义，相当于决策不精确。如，以下决策模板虽然涵盖了科学家们列出的各种采集矿石决策条件，但是因为决策过于笼统而意义不大。\n\n| 过于笼统的决策模板 |  *   |  *   | full |  *   |\n| :----------------: | :--: | :--: | :--: | :--: |\n\n因此，要求探险车的决策模板所使用的”*“尽可能少。\n\n小可可负责领导开发探险车的智能归纳模块。请你编写程序帮助小可可完成任务。", "inputFormat": "第一行有两个用一个空格隔开的正整数 $N$ 和 $M$ ，分别表示决策因素（$N \\leq 100$）和某种行为的决策条件数目（$M \\leq 1000$）。\n\n接下来的 $M$ 行每行是由 $N$ 个单词构成的字符串，每个单词依次对应一种决策因素的情况，每行就表示一种决策条件。每行内的单词之间用一个空格隔开。\n\n注意：每行的行首与行末都不存在多余的空白字符，单词仅仅由小写英文字母构成，长度不超过 10。\n", "outputFormat": "只有一行，表示决策模板，由 $N$ 个单词或“*”构成，彼此间用一个空格隔开。要求行首与行末都不存在多余的空白字符。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2004] Intelligent Rover", "background": "", "description": "On the planet ***Sanuel***, scientific exploration is carried out by an intelligent rover named ***Smart***. Because ***Sanuel*** is far from Earth, a round-trip signal transmission takes several hours and has a high error rate. Therefore, scientists cannot control the ***Smart*** rover in real time from Earth. Most exploration tasks are autonomously completed by the rover through analyzing environmental factors and making independent decisions.\n\nThe rover’s design is relatively simple:\n\nFirst, list the various decision factors that affect the rover’s actions, such as weather, landform, energy (power supply), and mine (number of collected ores).\n\nNext, divide each decision factor into two primary situations. For example, divide weather into sunny and windy; divide the rover’s energy into full and lack, etc.\n\nThen, for each action, scientists list all decision conditions according to the decision factors. For example, suppose the decision factors that affect ore collection have $N=4$ types, and the decision conditions for collecting ore are as follows:\n\n| Decision condition | Weather | Landform | Energy | Mine |\n| :----------------: | :-----: | :------: | :----: | :--: |\n|         1          |  sunny  |  Plain   |  full  | Few  |\n|         2          |  sunny  | mountain |  full  | Many |\n|         3          |  sunny  | mountain |  full  | Many |\n\nThere are many actions and many corresponding decision conditions. To improve decision speed, the intelligent induction module on the rover needs to summarize all decision conditions of each action into a single “decision template.”\n\nFor example, the above decision conditions for ore collection can be summarized as:\n\n| Decision template | sunny |  *   | full |  *   |\n| :---------------: | :---: | :--: | :--: | :--: |\n\nHere, “*” means that the factor does not affect the action decision of the rover.\n\nObviously, the decision template must cover all listed decision conditions for that action. Meanwhile, the decision template will also include some decision conditions that scientists did not list, so the rover can act automatically under unlisted decision conditions, showing some degree of “intelligence.” For example, the above decision template will cause the rover to collect ore under the following decision condition as well.\n\n|                    | Weather | Landform | Energy | Mine |\n| :----------------: | :-----: | :------: | :----: | :--: |\n| New decision condition |  sunny  |  Plain   |  full  | Many |\n\nHowever, everything has two sides. If the decision template is too general, it loses its decision value and becomes imprecise. For example, the following decision template, although it covers all the listed ore collection decision conditions, is too general to be meaningful.\n\n| Overly general decision template |  *   |  *   | full |  *   |\n| :------------------------------: | :--: | :--: | :--: | :--: |\n\nTherefore, the number of “*” used in the decision template should be as few as possible.\n\nXiao Keke (pinyin) is in charge of developing the rover’s intelligent induction module. Please write a program to help Xiao Keke complete this task.", "inputFormat": "The first line contains two positive integers $N$ and $M$ separated by a space, representing the number of decision factors ($N \\leq 100$) and the number of decision conditions for a certain action ($M \\leq 1000$).\n\nEach of the next $M$ lines is a string consisting of $N$ words. Each word corresponds, in order, to the situation of one decision factor, and each line represents one decision condition. Words on each line are separated by a single space.\n\nNote: There are no extra whitespace characters at the beginning or end of any line. Words consist only of lowercase English letters and have a length of at most 10.", "outputFormat": "Output a single line representing the decision template, consisting of $N$ words or “*”, separated by single spaces. There should be no extra whitespace at the beginning or end of the line.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2004] 智能探险车", "background": "", "description": "在 ***Sanuel*** 星球上的科学探险活动是由名为 ***Smart*** 的智能探险车完成的。因为 ***Sanuel*** 星球远离地球，信号往返传送一次要耗费数小时，而且存在很高的误码率。因此科学家们无法在地球上对 ***Smart*** 探险车进行实时控制，绝大部分探险活动都是由该探险车通过分析环境要素、自主决策、自主完成的。\n\n科学家们的探险车设计方案相对简单：\n\n首先，总结出影响探险车决策的各种**决策因素**，譬如：天气（weather）、地形（landform）、探险车供电情况（energy）和已采集矿石数目（mine）等。\n\n随后，将每一种**决策因素**分成两种主要**情况**。譬如，将天气分成晴朗（sunny）和大风（windy）；将探险车供电情况分成饱满（full）和匮乏（lack），等等。\n\n再后，科学家们针对各种**决策因素**，分别列出每一种行为的决策条件。譬如，若影响采集矿石的决策因素有 $N=4$ 种，而采集矿石的决策条件如下：\n\n| 决策条件 | Weather | Landform | Energy | Mine |\n| :------: | :-----: | :------: | :----: | :--: |\n|    1     |  sunny  |  Plain   |  full  | Few  |\n|    2     |  sunny  | mountain |  full  | Many |\n|    3     |  sunny  | mountain |  full  | Many |\n\n探险车的行为及其决策条件都很多，为了提高探险车的决策速度，最后需要探险车上的智能归纳模块将每一种行为的各种决策条件总结成一条“决策模板”。\n\n如上述采集矿石的各条决策条件可以总结为：\n\n| 决策模板 | sunny |  *   | full |  *   |\n| :------: | :---: | :--: | :--: | :--: |\n\n其中，“*”表示该因素不影响探险车的行为决策。\n\n显然，决策模板要能够涵盖科学家们列出的该行为的所有决策条件。同时，决策模板中也含有一些科学家们未列出的决策条件，因而探险车能够在科学家们没有给出的决策条件下也能够自动进行某种行为，因而具有一定的“智能性”。如，上述决策模板会导致探险车在以下决策条件下也会进行矿石的采集。\n\n|            | Weather | Landform | Energy | Mine |\n| :--------: | :-----: | :------: | :----: | :--: |\n| 新决策条件 |  sunny  |  Plain   |  full  | Many |\n\n但是，任何事物都存在着两个方面。如果给出的决策模板过于笼统就失去了决策意义，相当于决策不精确。如，以下决策模板虽然涵盖了科学家们列出的各种采集矿石决策条件，但是因为决策过于笼统而意义不大。\n\n| 过于笼统的决策模板 |  *   |  *   | full |  *   |\n| :----------------: | :--: | :--: | :--: | :--: |\n\n因此，要求探险车的决策模板所使用的”*“尽可能少。\n\n小可可负责领导开发探险车的智能归纳模块。请你编写程序帮助小可可完成任务。", "inputFormat": "第一行有两个用一个空格隔开的正整数 $N$ 和 $M$ ，分别表示决策因素（$N \\leq 100$）和某种行为的决策条件数目（$M \\leq 1000$）。\n\n接下来的 $M$ 行每行是由 $N$ 个单词构成的字符串，每个单词依次对应一种决策因素的情况，每行就表示一种决策条件。每行内的单词之间用一个空格隔开。\n\n注意：每行的行首与行末都不存在多余的空白字符，单词仅仅由小写英文字母构成，长度不超过 10。\n", "outputFormat": "只有一行，表示决策模板，由 $N$ 个单词或“*”构成，彼此间用一个空格隔开。要求行首与行末都不存在多余的空白字符。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2549", "type": "P", "difficulty": 5, "samples": [["7\r\n4\r\nEGG\r\nODD\r\nLOBE\r\nLIBE", "9933817"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "贪心", "2015", "背包 DP", "洛谷月赛"], "title": "计算器写作文", "background": "", "description": "众所周知，计算器可以拿来干很多它本不应该干的事情，比如弹琴。\n\n小A发现了一个计算器的隐藏功能——写英语作文。\n\n他在计算器上按一些数字，这些然后旋转 $180$ 度就是作文。\n\n每个数字对应一两个字母\n\n ![](https://cdn.luogu.com.cn/upload/pic/1738.png) \n\n\n\n小 A 准备了一个单词表，选择其中的一些单词，按照一个顺序组成作文。这个作文是可以用计算器按出来的。比如单词表给 `ODD`、`EGG`，作文写成 `ODDEGG` 的话，那么要在计算器上按出 `993000`，这篇作文的得分就是 $993000$。\n\n单词表的单词不能重复使用。如果单词表出现了多个一样的单词，每个单词最多都可以各使用一次。单词不可以被截断。\n\n小 A 希望自己写出的作文得分最高。当然这个计算器是有位数限制，作文长度不能超过显示位数。\n\n计算器不能显示前导零，但是你可以添加小数点。比如作文写成 `EGGODD` 的话，就得按出 $0.00993$，这个就是作文的得分，当然这得分太小了。\n", "inputFormat": "第一行 $D$ 表示计算器位数。\n\n第二行 $N$ 表示单词数。\n\n接下来 $N$ 行，一行一个单词，保证可以转换为数字。", "outputFormat": "一行，表示最大的分值。\n", "hint": "\n\n对于 $40\\%$ 的数据，$D \\leq 20,N \\leq 10$。\n\n对于 $100\\%$ 的数据，$D \\leq 200,N \\leq 10000$，单词长度 $\\leq 32$。", "locale": "zh-CN", "translations": {"en": {"title": "Calculator Writes an Essay", "background": "", "description": "As we all know, a calculator can be used for many things it was not meant to do, like playing music.\n\nXiao A discovered a hidden feature of a calculator — writing English essays.\n\nHe presses some digits on the calculator, and after rotating the display by $180$ degrees, it becomes the essay.\n\nEach digit corresponds to one or two letters.\n\n ![](https://cdn.luogu.com.cn/upload/pic/1738.png) \n\nXiao A prepared a word list, chooses some words from it, and arranges them in an order to form an essay. This essay can be typed on the calculator. For example, if the word list contains `ODD` and `EGG`, and the essay is `ODDEGG`, then you need to press `993000` on the calculator, and the score of this essay is $993000$.\n\nWords in the list cannot be reused. If the list contains multiple identical words, each occurrence can be used at most once. Words cannot be split.\n\nXiao A wants the essay to have the highest possible score. Of course, the calculator has a digit limit, so the essay length cannot exceed the number of display digits.\n\nThe calculator cannot display leading zeros, but you may insert a decimal point. For example, if the essay is `EGGODD`, you have to type $0.00993$, which is the score of the essay, though that score is too small.", "inputFormat": "The first line contains $D$, the number of display digits of the calculator.\n\nThe second line contains $N$, the number of words.\n\nThe next $N$ lines each contain one word, guaranteed to be convertible to digits.", "outputFormat": "Output one line containing the maximum score.", "hint": "For $40\\%$ of the testdata, $D \\leq 20, N \\leq 10$.\n\nFor $100\\%$ of the testdata, $D \\leq 200, N \\leq 10000$, and the word length $\\leq 32$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "计算器写作文", "background": "", "description": "众所周知，计算器可以拿来干很多它本不应该干的事情，比如弹琴。\n\n小A发现了一个计算器的隐藏功能——写英语作文。\n\n他在计算器上按一些数字，这些然后旋转 $180$ 度就是作文。\n\n每个数字对应一两个字母\n\n ![](https://cdn.luogu.com.cn/upload/pic/1738.png) \n\n\n\n小 A 准备了一个单词表，选择其中的一些单词，按照一个顺序组成作文。这个作文是可以用计算器按出来的。比如单词表给 `ODD`、`EGG`，作文写成 `ODDEGG` 的话，那么要在计算器上按出 `993000`，这篇作文的得分就是 $993000$。\n\n单词表的单词不能重复使用。如果单词表出现了多个一样的单词，每个单词最多都可以各使用一次。单词不可以被截断。\n\n小 A 希望自己写出的作文得分最高。当然这个计算器是有位数限制，作文长度不能超过显示位数。\n\n计算器不能显示前导零，但是你可以添加小数点。比如作文写成 `EGGODD` 的话，就得按出 $0.00993$，这个就是作文的得分，当然这得分太小了。\n", "inputFormat": "第一行 $D$ 表示计算器位数。\n\n第二行 $N$ 表示单词数。\n\n接下来 $N$ 行，一行一个单词，保证可以转换为数字。", "outputFormat": "一行，表示最大的分值。\n", "hint": "\n\n对于 $40\\%$ 的数据，$D \\leq 20,N \\leq 10$。\n\n对于 $100\\%$ 的数据，$D \\leq 200,N \\leq 10000$，单词长度 $\\leq 32$。", "locale": "zh-CN"}}}
{"pid": "P2550", "type": "P", "difficulty": 1, "samples": [["2\n23 31 1 14 19 17 18\n12 8 9 23 1 16 7\n11 7 10 21 2 9 31", "0 0 0 0 0 1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2001", "各省省选", "安徽"], "title": "[AHOI2001] 彩票摇奖", "background": "", "description": "为了丰富人民群众的生活、支持某些社会公益事业，北塔市设置了一项彩票。该彩票的规则是：\n\n1. 每张彩票上印有 $7$ 个各不相同的号码，且这些号码的取值范围为 $1\\sim33$。\n2. 每次在兑奖前都会公布一个由七个各不相同的号码构成的中奖号码。\n3. 共设置 $7$ 个奖项，特等奖和一等奖至六等奖。\n\n兑奖规则如下：\n- 特等奖：要求彩票上 $7$ 个号码都出现在中奖号码中。\n- 一等奖：要求彩票上有 $6$ 个号码出现在中奖号码中。\n- 二等奖：要求彩票上有 $5$ 个号码出现在中奖号码中。\n- 三等奖：要求彩票上有 $4$ 个号码出现在中奖号码中。\n- 四等奖：要求彩票上有 $3$ 个号码出现在中奖号码中。\n- 五等奖：要求彩票上有 $2$ 个号码出现在中奖号码中。\n- 六等奖：要求彩票上有 $1$ 个号码出现在中奖号码中。\n\n注：兑奖时并不考虑彩票上的号码和中奖号码中的各个号码出现的位置。例如，中奖号码为 $23\\ 31\\ 1\\ 14\\ 19\\ 17\\ 18$，则彩票 $12\\ 8\\ 9\\ 23\\ 1\\ 16\\ 7$ 由于其中有两个号码（$23$ 和 $1$）出现在中奖号码中，所以该彩票中了五等奖。\n\n现已知中奖号码和小明买的若干张彩票的号码，请你写一个程序帮助小明判断他买的彩票的中奖情况。", "inputFormat": "输入的第一行只有一个自然数 $n$，表示小明买的彩票张数；\n\n第二行存放了 $7$ 个介于 $1$ 和 $33$ 之间的自然数，表示中奖号码；\n\n在随后的 $n$ 行中每行都有 $7$ 个介于 $1$ 和 $33$ 之间的自然数，分别表示小明所买的 $n$ 张彩票。", "outputFormat": "依次输出小明所买的彩票的中奖情况（中奖的张数），首先输出特等奖的中奖张数，然后依次输出一等奖至六等奖的中奖张数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n\\lt1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2001] Lottery Drawing", "background": "", "description": "To enrich people's lives and support certain public welfare causes, Beita City has set up a lottery. The lottery rules are:\n\n1. Each ticket has $7$ distinct numbers, each in the range $1\\sim33$.\n2. Before claiming prizes, a winning set consisting of seven distinct numbers is announced each time.\n3. There are $7$ prize levels: Special Prize, and First Prize through Sixth Prize.\n\nThe prize-claiming rules are as follows:\n- Special Prize: All $7$ numbers on the ticket appear in the winning set.\n- First Prize: $6$ numbers on the ticket appear in the winning set.\n- Second Prize: $5$ numbers on the ticket appear in the winning set.\n- Third Prize: $4$ numbers on the ticket appear in the winning set.\n- Fourth Prize: $3$ numbers on the ticket appear in the winning set.\n- Fifth Prize: $2$ numbers on the ticket appear in the winning set.\n- Sixth Prize: $1$ number on the ticket appears in the winning set.\n\nNote: The positions of numbers on the ticket and in the winning set are not considered. For example, if the winning set is $23\\ 31\\ 1\\ 14\\ 19\\ 17\\ 18$, then the ticket $12\\ 8\\ 9\\ 23\\ 1\\ 16\\ 7$ wins the Fifth Prize because two numbers ($23$ and $1$) appear in the winning set.\n\nGiven the winning set and the numbers on several tickets bought by Xiao Ming, write a program to determine the prize results of Xiao Ming's tickets.", "inputFormat": "The first line contains a single natural number $n$, the number of tickets Xiao Ming bought.\n\nThe second line contains $7$ natural numbers between $1$ and $33$, which are the winning numbers.\n\nEach of the following $n$ lines contains $7$ natural numbers between $1$ and $33$, representing each of Xiao Ming's $n$ tickets.", "outputFormat": "Output the counts of Xiao Ming's winning tickets for each prize level, in order: first the number of Special Prize winners, then the counts for First Prize through Sixth Prize.", "hint": "Constraints\n\nFor $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\lt 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2001] 彩票摇奖", "background": "", "description": "为了丰富人民群众的生活、支持某些社会公益事业，北塔市设置了一项彩票。该彩票的规则是：\n\n1. 每张彩票上印有 $7$ 个各不相同的号码，且这些号码的取值范围为 $1\\sim33$。\n2. 每次在兑奖前都会公布一个由七个各不相同的号码构成的中奖号码。\n3. 共设置 $7$ 个奖项，特等奖和一等奖至六等奖。\n\n兑奖规则如下：\n- 特等奖：要求彩票上 $7$ 个号码都出现在中奖号码中。\n- 一等奖：要求彩票上有 $6$ 个号码出现在中奖号码中。\n- 二等奖：要求彩票上有 $5$ 个号码出现在中奖号码中。\n- 三等奖：要求彩票上有 $4$ 个号码出现在中奖号码中。\n- 四等奖：要求彩票上有 $3$ 个号码出现在中奖号码中。\n- 五等奖：要求彩票上有 $2$ 个号码出现在中奖号码中。\n- 六等奖：要求彩票上有 $1$ 个号码出现在中奖号码中。\n\n注：兑奖时并不考虑彩票上的号码和中奖号码中的各个号码出现的位置。例如，中奖号码为 $23\\ 31\\ 1\\ 14\\ 19\\ 17\\ 18$，则彩票 $12\\ 8\\ 9\\ 23\\ 1\\ 16\\ 7$ 由于其中有两个号码（$23$ 和 $1$）出现在中奖号码中，所以该彩票中了五等奖。\n\n现已知中奖号码和小明买的若干张彩票的号码，请你写一个程序帮助小明判断他买的彩票的中奖情况。", "inputFormat": "输入的第一行只有一个自然数 $n$，表示小明买的彩票张数；\n\n第二行存放了 $7$ 个介于 $1$ 和 $33$ 之间的自然数，表示中奖号码；\n\n在随后的 $n$ 行中每行都有 $7$ 个介于 $1$ 和 $33$ 之间的自然数，分别表示小明所买的 $n$ 张彩票。", "outputFormat": "依次输出小明所买的彩票的中奖情况（中奖的张数），首先输出特等奖的中奖张数，然后依次输出一等奖至六等奖的中奖张数。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据，保证 $1 \\leq n\\lt1000$。", "locale": "zh-CN"}}}
{"pid": "P2551", "type": "P", "difficulty": 5, "samples": [["0 1 75000 6 15000 75000\n12 12 12 11 12 14\n11 10 8 9 10 11\n9 8 6 7 8 8\n8 7 6 6 6 5\n8 6 6 6 6 5\n11 11 11 13 15\n10 10 9 9 10\n10 9 9 10 10\n9 8 9 9 10\n7 8 8 9 9\n7 7 7 8 8\n5 4 3 3 2\n4 3 3 2 2\n3 3 2 2 2\n3 3 2 2 2", "79\nRAARRRRADDRR"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2001", "各省省选", "安徽"], "title": "[AHOI2001] 华夏60战斗机", "background": "", "description": "华夏 60 超音速战斗机是当今世界上机动性能最先进的战斗机。战斗过程中的一个关键问题是如何在最短的时间内使飞机从当前的飞行高度和速度爬升/俯冲到指定的高度并达到指定速度，以便占据有利的战斗位置。\n\n现假定只允许华夏 60 执行以下三种基本飞行动作，并且只能在完成了一个基本动作的情况下再去执行另一个基本飞行动作。这样华夏 60 的飞行可以表示成由这三种基本飞行动作组成的动作序列。\n\n(1) 维持原速做恒速爬升飞行，直至飞行高度提高 ∆h 英尺；\n\n(2) 水平加速飞直至速度提高 1 马赫(1 马赫≈1200 公里/小时)；\n\n(3) 垂直俯冲飞行 ∆h 英尺，飞行速度会提高 1 马赫。\n\n同时假定飞机的初始飞行速度和执行每个基本飞行动作初始时刻的飞行速度都是 1 马赫的整数倍，且不超过 6 马赫；初始飞行高度和执行每个基本飞行动作初始时刻的飞行高度都为 ∆h 英尺( ∆h 是整数)的整数倍。\n\n实验研究表明：在不同高度 H 和不同的初始速度V 完成上述的三种基本飞行动作所需的时间也是各不相同的。表 1~表 3 给出了 ∆ h = 15000英尺和最大飞行高度 = 75000\n\nH m 英尺时完成这三种基本飞行动作所需的时间。\n\n根据表 1~表 3 的数据，欲使华夏 60 战斗机从 H = 0 英尺、V = 1马赫的飞行状态达到 H = 75000 英尺、V = 6 马赫的飞行状态的最短飞行时间是79 秒，相应的飞行动作序列是：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1669.png) \n\n(1) 恒速爬升飞行至 H = 15000英尺，V = 1马赫状态；\n\n(2) 连续做两次水平加速飞行至 H = 15000英尺，V = 3马赫状态；\n\n(3) 连续做四次恒速爬升飞行至 H = 75000 英尺，V = 3马赫状态；\n\n\n(4) 水平加速飞行至 H = 75000 英尺，V = 4马赫状态；\n\n(5) 连续做两次垂直俯冲飞行至 H = 45000 英尺，V = 6 马赫状态；\n\n(6) 连续做两次恒速爬升飞行至 H = 75000 英尺，V = 6 马赫状态。\n\n现在小明驾驶华夏 60 战斗机以V1马赫的速度飞行于 H1英尺高度，中队长发出了让他以V2 马赫的速度飞行于 H 2 英尺高度的指令。请你编写程序帮小明决策一下如何飞行才能花费最少的时间执行完中队长下达的命令。\n", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1670.png)\n", "outputFormat": "输出信息用两行来存放。第一行存放你求出的最优方案所需的时间。\n\n第二行存放该最优方案的动作序列(以 R 表示恒速爬升飞行，A 表示\n\n水平加速飞行，D 表示垂直俯冲飞行)。第二行中不允许出现多余的\n\n字符(包括空白字符)。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2001] Huaxia 60 Fighter Jet", "background": "", "description": "The Huaxia 60 supersonic fighter jet is one of the most maneuverable fighters in the world today. A key issue in combat is how to climb/dive from the current flight altitude and speed to a designated altitude and achieve a designated speed in the shortest time to gain a superior combat position.\n\nAssume that the Huaxia 60 is allowed to perform only the following three basic maneuvers, and a new basic maneuver can only start after the previous one is completed. Thus, a flight can be represented as a sequence composed of these three basic maneuvers.\n\n(1) Maintain the current speed and perform a constant-speed climb until the flight altitude increases by $\\Delta h$ feet.\n\n(2) Perform horizontal acceleration until the speed increases by 1 Mach (1 Mach $\\approx 1200$ km/h).\n\n(3) Perform a vertical dive by $\\Delta h$ feet, during which the flight speed increases by 1 Mach.\n\nAlso assume that the initial flight speed and the speed at the beginning of each basic maneuver are integer multiples of 1 Mach and do not exceed 6 Mach; the initial flight altitude and the altitude at the beginning of each basic maneuver are integer multiples of $\\Delta h$ feet (where $\\Delta h$ is an integer).\n\nExperimental studies show that the time required to complete the above three basic maneuvers varies with different altitudes $H$ and initial speeds $V$. Tables 1–3 give the required times when $\\Delta h = 15000$ feet and the maximum flight altitude is $75000$ feet.\n\nBased on the data in Tables 1–3, the shortest time for the Huaxia 60 to reach the flight state $H=75000$ feet, $V=6$ Mach starting from $H=0$ feet, $V=1$ Mach is 79 seconds, and the corresponding sequence of maneuvers is:\n\n ![](https://cdn.luogu.com.cn/upload/pic/1669.png) \n\n(1) Constant-speed climb to $H=15000$ feet, $V=1$ Mach.\n\n(2) Perform two consecutive horizontal accelerations to $H=15000$ feet, $V=3$ Mach.\n\n(3) Perform four consecutive constant-speed climbs to $H=75000$ feet, $V=3$ Mach.\n\n(4) Horizontal acceleration to $H=75000$ feet, $V=4$ Mach.\n\n(5) Perform two consecutive vertical dives to $H=45000$ feet, $V=6$ Mach.\n\n(6) Perform two consecutive constant-speed climbs to $H=75000$ feet, $V=6$ Mach.\n\nNow Xiao Ming is flying the Huaxia 60 at $V_1$ Mach at altitude $H_1$ feet. The squadron commander orders him to fly at $V_2$ Mach at altitude $H_2$ feet. Please write a program to decide how to fly so that the order is completed in the least time.", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1670.png)", "outputFormat": "The output contains two lines.\n- The first line contains the time required by your optimal plan.\n- The second line contains the action sequence of the optimal plan (use R for constant-speed climb, A for horizontal acceleration, and D for vertical dive). No extra characters (including whitespace) are allowed on the second line.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2001] 华夏60战斗机", "background": "", "description": "华夏 60 超音速战斗机是当今世界上机动性能最先进的战斗机。战斗过程中的一个关键问题是如何在最短的时间内使飞机从当前的飞行高度和速度爬升/俯冲到指定的高度并达到指定速度，以便占据有利的战斗位置。\n\n现假定只允许华夏 60 执行以下三种基本飞行动作，并且只能在完成了一个基本动作的情况下再去执行另一个基本飞行动作。这样华夏 60 的飞行可以表示成由这三种基本飞行动作组成的动作序列。\n\n(1) 维持原速做恒速爬升飞行，直至飞行高度提高 ∆h 英尺；\n\n(2) 水平加速飞直至速度提高 1 马赫(1 马赫≈1200 公里/小时)；\n\n(3) 垂直俯冲飞行 ∆h 英尺，飞行速度会提高 1 马赫。\n\n同时假定飞机的初始飞行速度和执行每个基本飞行动作初始时刻的飞行速度都是 1 马赫的整数倍，且不超过 6 马赫；初始飞行高度和执行每个基本飞行动作初始时刻的飞行高度都为 ∆h 英尺( ∆h 是整数)的整数倍。\n\n实验研究表明：在不同高度 H 和不同的初始速度V 完成上述的三种基本飞行动作所需的时间也是各不相同的。表 1~表 3 给出了 ∆ h = 15000英尺和最大飞行高度 = 75000\n\nH m 英尺时完成这三种基本飞行动作所需的时间。\n\n根据表 1~表 3 的数据，欲使华夏 60 战斗机从 H = 0 英尺、V = 1马赫的飞行状态达到 H = 75000 英尺、V = 6 马赫的飞行状态的最短飞行时间是79 秒，相应的飞行动作序列是：\n\n ![](https://cdn.luogu.com.cn/upload/pic/1669.png) \n\n(1) 恒速爬升飞行至 H = 15000英尺，V = 1马赫状态；\n\n(2) 连续做两次水平加速飞行至 H = 15000英尺，V = 3马赫状态；\n\n(3) 连续做四次恒速爬升飞行至 H = 75000 英尺，V = 3马赫状态；\n\n\n(4) 水平加速飞行至 H = 75000 英尺，V = 4马赫状态；\n\n(5) 连续做两次垂直俯冲飞行至 H = 45000 英尺，V = 6 马赫状态；\n\n(6) 连续做两次恒速爬升飞行至 H = 75000 英尺，V = 6 马赫状态。\n\n现在小明驾驶华夏 60 战斗机以V1马赫的速度飞行于 H1英尺高度，中队长发出了让他以V2 马赫的速度飞行于 H 2 英尺高度的指令。请你编写程序帮小明决策一下如何飞行才能花费最少的时间执行完中队长下达的命令。\n", "inputFormat": "![](https://cdn.luogu.com.cn/upload/pic/1670.png)\n", "outputFormat": "输出信息用两行来存放。第一行存放你求出的最优方案所需的时间。\n\n第二行存放该最优方案的动作序列(以 R 表示恒速爬升飞行，A 表示\n\n水平加速飞行，D 表示垂直俯冲飞行)。第二行中不允许出现多余的\n\n字符(包括空白字符)。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P2552", "type": "P", "difficulty": 3, "samples": [["2\n16 1 1 6 11\n16 2 2 5 11", "2 5 1 5"]], "limits": {"time": [1000], "memory": [128000]}, "tags": ["模拟", "数学", "2001", "各省省选", "安徽"], "title": "[AHOI2001] 团体操队形", "background": null, "description": "有 $n$ 个团体操队员编号分别为 $1\\sim n$。其队形（分连续队形和梅花桩队形）可以按行排列或者按列排列，按行（列）排列时每行（列）有 $r$ 个位置。 \n\n例 1：$n=16$，$r=6$，连续队形按行排列。\n|1|2|3|4|5|6|\n|:-:|:-:|:-:|-|-|-|\n|**7**|**8**|**9**|**10**|**11**|**12**|\n|**13**|**14**|**15**|**16**|\n\n例 2：$n=16$，$r=3$，连续队形按列排列。\n|  1  |  4  |  7  |  10  |  13  |16|\n| :-: | :-: | :-: |  :-: |  :-: |- |\n|**2**|**5**|**8**|**11**|**14**|\n|**3**|**6**|**9**|**12**|**15**|\n\n例 3：$n=16$，$r=7$，梅花桩队形按行排列。\n|  1   |      |  2   |      |  3   |      |  4   |\n| :-:  | :-:  | :-:  | :-:  | :-:  | :-:  | :-:  |\n|      |**5** |      |**6** |      |**7** |      |\n|**8** |      | **9**|      |**10**|      |**11**|\n|      |**12**|      |**13**|      |**14**|      |\n|**15**|      |**16**|      |      |      |      |\n\n例 4：$n=16$，$r=5$，梅花桩队形按列排列。\n|  1  |     |  6  |      |  11  |      |16 |\n| :-: | :-: | :-: | :-:  | :-:  | :-:  |:-:|\n|     |**4**|     |**9** |      |**14**|   |\n|**2**|     |**7**|      |**12**|      |   |\n|     |**5**|     |**10**|      |**15**|   |\n|**3**|     |**8**|      |**13**|      |   |\n\n现请你编写程序指出编号为 $m$ 的团体操队员所处位置的行号和列号。", "inputFormat": "**本题有多组数据。**  \n第一行只有一个自然数 $k$ ，表明随后的 $k$ 行每行都是一组数据。  \n接下来 $k$ 行，每行都有五个整数，分别表示队伍里的人数、队形代号（$1$ 表示连续队形，而 $2$ 表示梅花桩队形）、排列方式（$1$ 表示按**行**排列，而 $2$ 表示按**列**排列）、每行（列）的位置数和询问位置的队员的编号。", "outputFormat": "输出 $2k$ 个整数，第 $i$ 对整数表示第 $i$ 组询问的行编号和列编号（不用换行）。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2001] Group Gymnastics Formation", "background": "", "description": "There are $n$ group gymnastics members labeled $1 \\sim n$. Their formation (either continuous formation or \"Meihuazhuang\" formation) can be arranged by rows or by columns. When arranged by rows (or columns), each row (or column) has $r$ positions.\n\nExample 1: $n=16$, $r=6$, continuous formation arranged by rows.\n|1|2|3|4|5|6|\n|:-:|:-:|:-:|-|-|-|\n|**7**|**8**|**9**|**10**|**11**|**12**|\n|**13**|**14**|**15**|**16**|\n\nExample 2: $n=16$, $r=3$, continuous formation arranged by columns.\n|  1  |  4  |  7  |  10  |  13  |16|\n| :-: | :-: | :-: |  :-: |  :-: |- |\n|**2**|**5**|**8**|**11**|**14**|\n|**3**|**6**|**9**|**12**|**15**|\n\nExample 3: $n=16$, $r=7$, \"Meihuazhuang\" formation arranged by rows.\n|  1   |      |  2   |      |  3   |      |  4   |\n| :-:  | :-:  | :-:  | :-:  | :-:  | :-:  | :-:  |\n|      |**5** |      |**6** |      |**7** |      |\n|**8** |      | **9**|      |**10**|      |**11**|\n|      |**12**|      |**13**|      |**14**|      |\n|**15**|      |**16**|      |      |      |      |\n\nExample 4: $n=16$, $r=5$, \"Meihuazhuang\" formation arranged by columns.\n|  1  |     |  6  |      |  11  |      |16 |\n| :-: | :-: | :-: | :-:  | :-:  | :-:  |:-:|\n|     |**4**|     |**9** |      |**14**|   |\n|**2**|     |**7**|      |**12**|      |   |\n|     |**5**|     |**10**|      |**15**|   |\n|**3**|     |**8**|      |**13**|      |   |\n\nPlease write a program to output the row index and column index of the gymnast labeled $m$.", "inputFormat": "This problem contains multiple testcases.\nThe first line has a single natural number $k$, indicating that the following $k$ lines each describe one testcase.\nEach of the next $k$ lines contains five integers, denoting respectively: the number of people in the team, the formation code ($1$ means continuous formation, and $2$ means \"Meihuazhuang\" formation), the arrangement method ($1$ means arranged by rows, and $2$ means arranged by columns), the number of positions per row (or column), and the label of the gymnast being queried.", "outputFormat": "Output $2k$ integers. The $i$-th pair of integers denotes the row index and column index for the $i$-th query (no newline).", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2001] 团体操队形", "background": null, "description": "有 $n$ 个团体操队员编号分别为 $1\\sim n$。其队形（分连续队形和梅花桩队形）可以按行排列或者按列排列，按行（列）排列时每行（列）有 $r$ 个位置。 \n\n例 1：$n=16$，$r=6$，连续队形按行排列。\n|1|2|3|4|5|6|\n|:-:|:-:|:-:|-|-|-|\n|**7**|**8**|**9**|**10**|**11**|**12**|\n|**13**|**14**|**15**|**16**|\n\n例 2：$n=16$，$r=3$，连续队形按列排列。\n|  1  |  4  |  7  |  10  |  13  |16|\n| :-: | :-: | :-: |  :-: |  :-: |- |\n|**2**|**5**|**8**|**11**|**14**|\n|**3**|**6**|**9**|**12**|**15**|\n\n例 3：$n=16$，$r=7$，梅花桩队形按行排列。\n|  1   |      |  2   |      |  3   |      |  4   |\n| :-:  | :-:  | :-:  | :-:  | :-:  | :-:  | :-:  |\n|      |**5** |      |**6** |      |**7** |      |\n|**8** |      | **9**|      |**10**|      |**11**|\n|      |**12**|      |**13**|      |**14**|      |\n|**15**|      |**16**|      |      |      |      |\n\n例 4：$n=16$，$r=5$，梅花桩队形按列排列。\n|  1  |     |  6  |      |  11  |      |16 |\n| :-: | :-: | :-: | :-:  | :-:  | :-:  |:-:|\n|     |**4**|     |**9** |      |**14**|   |\n|**2**|     |**7**|      |**12**|      |   |\n|     |**5**|     |**10**|      |**15**|   |\n|**3**|     |**8**|      |**13**|      |   |\n\n现请你编写程序指出编号为 $m$ 的团体操队员所处位置的行号和列号。", "inputFormat": "**本题有多组数据。**  \n第一行只有一个自然数 $k$ ，表明随后的 $k$ 行每行都是一组数据。  \n接下来 $k$ 行，每行都有五个整数，分别表示队伍里的人数、队形代号（$1$ 表示连续队形，而 $2$ 表示梅花桩队形）、排列方式（$1$ 表示按**行**排列，而 $2$ 表示按**列**排列）、每行（列）的位置数和询问位置的队员的编号。", "outputFormat": "输出 $2k$ 个整数，第 $i$ 对整数表示第 $i$ 组询问的行编号和列编号（不用换行）。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2553", "type": "P", "difficulty": 4, "samples": [["(5a^2+3a^1+2)*(4a^1+1)\n(5a^1+1)*(5a^1+1)", "20a^3+17a^2+11a^1+2\n25a^2+10a^1+1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "2001", "各省省选", "安徽"], "title": "[AHOI2001] 多项式乘法", "background": "", "description": "请编程序把含有乘法运算的代数多项式表达式改写成不含乘法的代数多项式。为简化计算，特做以下约定：\n\n1. 代数多项式表达式中只涉及一个代数符号 `a`；\n2. 保证输入的「含乘法运算的代数多项式」有且仅有一个「代数多项式」与「代数多项式」的乘法。形式化地讲，每一个测试点的输入数据中，一定有且仅有一行 `(...)*(...)`，其中 `...` 为不含乘法运算的代数多项式。\n3. 一个「不含乘法运算的代数多项式」会被写作 `XXXa^YYY+XXXa^YYY+XXXa^YYY+...+XXX`（代表 $\\text{XXX}a ^ \\text{YYY} + \\text{XXX}a ^ \\text{YYY} + \\text{XXX}a ^ \\text{YYY} + \\cdots + \\text{XXX}$），其中 `XXX`、`YYY` 均为正整数，且保证除第一项外每一项的 `YYY` 比上一项的 `YYY` 少 $1$。例如，一个合法的「不含乘法运算的代数多项式」为 `142a^4+9a^3+4a^2+1a^1+3`。\n\n> 对于约定 3，原题目给予了这样一个表述：常数项以外的各项都是 $xa^y$ 的形式，写作 `xa^y`，其中 $x$ 为该项的系数，而 $y$ 是该项的指数。$x = 1$ 时，不得简写成 `a^y`，应写成 `1a^y`。而 $y = 1$ 时，不得简写成 `xa`，应写成 `xa^1`。", "inputFormat": "输入仅有一行字符串，代表给定的「含乘法运算的代数多项式」。\n\n其格式为：`(...)*(...)`，其中 `...` 为不含乘法运算的代数多项式。对于「不含乘法运算的代数多项式」的约束，请参考题目描述。\n", "outputFormat": "输出一行一个字符串，代表答案。\n\n答案要求指数大的项不能出现在指数小的项之后，指数相同的项必须合并同类项。**不允许出现不必要的空白字符**。输出中不允许有括号。", "hint": "关于数据范围以及数据若干格式的说明：\n\n* 系数范围和指数范围均为 $[0,30]$。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2001] Polynomial Multiplication", "background": "", "description": "Write a program to rewrite an algebraic polynomial expression that contains a multiplication operation into an algebraic polynomial without multiplication. To simplify the task, we make the following conventions:\n\n1. The algebraic polynomial expression involves only one algebraic symbol `a`.\n2. It is guaranteed that the input “algebraic polynomial with multiplication” contains exactly one multiplication between an “algebraic polynomial” and an “algebraic polynomial”. Formally, in each test, the input has exactly one line `(...)*(...)`, where `...` is an algebraic polynomial without multiplication.\n3. An “algebraic polynomial without multiplication” is written as `XXXa^YYY+XXXa^YYY+XXXa^YYY+...+XXX` (representing $\\text{XXX}a ^ \\text{YYY} + \\text{XXX}a ^ \\text{YYY} + \\text{XXX}a ^ \\text{YYY} + \\cdots + \\text{XXX}$), where `XXX` and `YYY` are positive integers. Moreover, except for the first term, in each subsequent term the `YYY` is exactly $1$ less than that of the previous term. For example, a valid “algebraic polynomial without multiplication” is `142a^4+9a^3+4a^2+1a^1+3`.\n\n> For Convention 3, the original statement is: All non-constant terms are of the form $xa^y$, written as `xa^y`, where $x$ is the coefficient and $y$ is the exponent. When $x = 1$, it must not be abbreviated to `a^y`, and should be written as `1a^y`. When $y = 1$, it must not be abbreviated to `xa`, and should be written as `xa^1`.", "inputFormat": "The input consists of a single line string representing the given “algebraic polynomial with multiplication”.\n\nIts format is: `(...)*(...)`, where `...` is an algebraic polynomial without multiplication. For the constraints on “algebraic polynomial without multiplication,” refer to the Description.", "outputFormat": "Output a single string on one line representing the answer.\n\nTerms with larger exponents must not appear after terms with smaller exponents, and terms with the same exponent must be combined. No unnecessary whitespace characters are allowed. No parentheses are allowed in the output.", "hint": "Notes on Constraints and some format details:\n\n- The ranges of coefficients and exponents are both $[0,30]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2001] 多项式乘法", "background": "", "description": "请编程序把含有乘法运算的代数多项式表达式改写成不含乘法的代数多项式。为简化计算，特做以下约定：\n\n1. 代数多项式表达式中只涉及一个代数符号 `a`；\n2. 保证输入的「含乘法运算的代数多项式」有且仅有一个「代数多项式」与「代数多项式」的乘法。形式化地讲，每一个测试点的输入数据中，一定有且仅有一行 `(...)*(...)`，其中 `...` 为不含乘法运算的代数多项式。\n3. 一个「不含乘法运算的代数多项式」会被写作 `XXXa^YYY+XXXa^YYY+XXXa^YYY+...+XXX`（代表 $\\text{XXX}a ^ \\text{YYY} + \\text{XXX}a ^ \\text{YYY} + \\text{XXX}a ^ \\text{YYY} + \\cdots + \\text{XXX}$），其中 `XXX`、`YYY` 均为正整数，且保证除第一项外每一项的 `YYY` 比上一项的 `YYY` 少 $1$。例如，一个合法的「不含乘法运算的代数多项式」为 `142a^4+9a^3+4a^2+1a^1+3`。\n\n> 对于约定 3，原题目给予了这样一个表述：常数项以外的各项都是 $xa^y$ 的形式，写作 `xa^y`，其中 $x$ 为该项的系数，而 $y$ 是该项的指数。$x = 1$ 时，不得简写成 `a^y`，应写成 `1a^y`。而 $y = 1$ 时，不得简写成 `xa`，应写成 `xa^1`。", "inputFormat": "输入仅有一行字符串，代表给定的「含乘法运算的代数多项式」。\n\n其格式为：`(...)*(...)`，其中 `...` 为不含乘法运算的代数多项式。对于「不含乘法运算的代数多项式」的约束，请参考题目描述。\n", "outputFormat": "输出一行一个字符串，代表答案。\n\n答案要求指数大的项不能出现在指数小的项之后，指数相同的项必须合并同类项。**不允许出现不必要的空白字符**。输出中不允许有括号。", "hint": "关于数据范围以及数据若干格式的说明：\n\n* 系数范围和指数范围均为 $[0,30]$。", "locale": "zh-CN"}}}
{"pid": "P2555", "type": "P", "difficulty": 4, "samples": [["000.89", "0D89"], ["-0020030004.567", "F2Q03W04D567"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2002", "各省省选", "安徽"], "title": "[AHOI2002] 数的朗读", "background": null, "description": "春游时小可可结识了刚回国定居的 Sealock。但是 Sealock 在海外出生，回国后才开始学习汉语。数的朗读成为 Sealock 的一个难题，小可可下决心教会 Sealock 如何朗读绝对值小于 10 亿的数。\n\n小可可知道汉语中有如下的读数规则：\n\n⑴ 首先读符号位， 然后读整数部分， 整数部分之后可能出现小数点， 如果有小数部分则小数点一定出现、并且读出小数点之后读小数部分；\n\n⑵ 符号位的读法是：\n\n(2.1) 正数，不论正号“+”是否出现，都不必读出符号位；\n\n(2.2) 负数的最左边的符号是“-”， 读成“ 负” (以“ F” 来表示“负” )；\n\n⑶ 整数部分的读法是：\n\n(3.1) 如果整数部分不存在或者整数部分全是零则直接读成“零” (以“ 0”来表示“零” )；\n\n(3.2) 否则从整数部分中最左边的非零数字开始读起， 然后以十、 百、 千、 万、亿(分别以“ S”、“ B”、“ Q”、“ W”、“ Y”来表示)等数量单位来拼读整数部分；\n\n⑷ 整数部分中：\n\n(4.1) 每一个非零数字都必须结合各个相应的数量单位读出来；\n\n(4.2) 每一段连续的“零” 只能读成一个“零”， 但是某一段连续的“零”的左侧或者右侧不存在非零数字(这里只考虑整数部分)则这一段“零” 不应该读出来；\n\n⑸ 如果有小数部分，则首先读“点”(以“ D”来表示“点”)，然后从左至右顺序地读出各个小数位。 在读小数部分的时候不可以使用十、 百、 千、 万、亿等数量单位； 但是小数部分的每一个数字都需要读出来， 连续的零不可以读成一个“零”，而应该分别读出；\n\n(6) 如果数中有小数点而没有小数部分，则不应该把小数点读出来。\n\n例如， -0020030004.567 应该读成 `F2Q03W04D567`， 000.89 应该读成 `0D89`。\n\n请你编写程序帮助小可可把给定的数正确地读出来。", "inputFormat": "文件中以一行的形式存放了一个数(不超过 50 个字符)，其绝对值小于 10 亿。", "outputFormat": "以一行的形式输出这个数的正确读法。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2002] Reading Numbers", "background": "", "description": "On a spring outing, Xiao Keke met Sealock, who had just returned to settle down. But Sealock was born overseas and only started learning Chinese after coming back. Reading numbers became a challenge for Sealock, so Xiao Keke decided to teach Sealock how to read numbers whose absolute value is less than 1 billion.\n\nXiao Keke knows the following rules for reading numbers in Chinese:\n\n1) First read the sign, then read the integer part. A decimal point may appear after the integer part. If there is a fractional part, the decimal point must appear and be read out; after that, read the fractional part.\n\n2) How to read the sign:\n   (2.1) For a positive number, regardless of whether the plus sign \"+\" appears, the sign does not need to be read out.\n   (2.2) For a negative number, the leftmost sign is \"-\", read as \"Fu\" (denoted by \"F\").\n\n3) How to read the integer part:\n   (3.1) If the integer part does not exist or the integer part is all zeros, read it directly as \"ling\" (denoted by \"0\").\n   (3.2) Otherwise, start reading from the leftmost nonzero digit of the integer part, and combine digits with the quantity units shi, bai, qian, wan, yi (denoted by \"S\", \"B\", \"Q\", \"W\", \"Y\" respectively) to spell out the integer part.\n\n4) In the integer part:\n   (4.1) Every nonzero digit must be read together with its corresponding quantity unit.\n   (4.2) Each consecutive run of zeros may only be read as a single \"ling\" (\"0\"). However, if there is no nonzero digit on the left or on the right of this run of zeros (only considering the integer part), then this run of zeros should not be read.\n\n5) If there is a fractional part, first read \"dian\" (denoted by \"D\"), then read each digit of the fractional part from left to right in order. Do not use shi, bai, qian, wan, yi or other quantity units in the fractional part. Every digit in the fractional part must be read out, and consecutive zeros must not be merged; they should be read separately.\n\n6) If the number has a decimal point but no fractional part, the decimal point should not be read.\n\nFor example, -0020030004.567 should be read as `F2Q03W04D567`, and 000.89 should be read as `0D89`.\n\nPlease write a program to help Xiao Keke read the given number correctly.", "inputFormat": "A single line containing one number (no more than 50 characters), whose absolute value is less than 1 billion.", "outputFormat": "Output a single line with the correct reading of the number.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2002] 数的朗读", "background": null, "description": "春游时小可可结识了刚回国定居的 Sealock。但是 Sealock 在海外出生，回国后才开始学习汉语。数的朗读成为 Sealock 的一个难题，小可可下决心教会 Sealock 如何朗读绝对值小于 10 亿的数。\n\n小可可知道汉语中有如下的读数规则：\n\n⑴ 首先读符号位， 然后读整数部分， 整数部分之后可能出现小数点， 如果有小数部分则小数点一定出现、并且读出小数点之后读小数部分；\n\n⑵ 符号位的读法是：\n\n(2.1) 正数，不论正号“+”是否出现，都不必读出符号位；\n\n(2.2) 负数的最左边的符号是“-”， 读成“ 负” (以“ F” 来表示“负” )；\n\n⑶ 整数部分的读法是：\n\n(3.1) 如果整数部分不存在或者整数部分全是零则直接读成“零” (以“ 0”来表示“零” )；\n\n(3.2) 否则从整数部分中最左边的非零数字开始读起， 然后以十、 百、 千、 万、亿(分别以“ S”、“ B”、“ Q”、“ W”、“ Y”来表示)等数量单位来拼读整数部分；\n\n⑷ 整数部分中：\n\n(4.1) 每一个非零数字都必须结合各个相应的数量单位读出来；\n\n(4.2) 每一段连续的“零” 只能读成一个“零”， 但是某一段连续的“零”的左侧或者右侧不存在非零数字(这里只考虑整数部分)则这一段“零” 不应该读出来；\n\n⑸ 如果有小数部分，则首先读“点”(以“ D”来表示“点”)，然后从左至右顺序地读出各个小数位。 在读小数部分的时候不可以使用十、 百、 千、 万、亿等数量单位； 但是小数部分的每一个数字都需要读出来， 连续的零不可以读成一个“零”，而应该分别读出；\n\n(6) 如果数中有小数点而没有小数部分，则不应该把小数点读出来。\n\n例如， -0020030004.567 应该读成 `F2Q03W04D567`， 000.89 应该读成 `0D89`。\n\n请你编写程序帮助小可可把给定的数正确地读出来。", "inputFormat": "文件中以一行的形式存放了一个数(不超过 50 个字符)，其绝对值小于 10 亿。", "outputFormat": "以一行的形式输出这个数的正确读法。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2556", "type": "P", "difficulty": 2, "samples": [["8 0", "8"], ["24 210 0 255", "130 1 129 2 129 9 136"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2002", "各省省选", "安徽"], "title": "[AHOI2002] 黑白图像压缩", "background": "", "description": "选修基础生物基因学的时候， 小可可在家里做了一次图像学试验。 她知道：整个图像其实就是若干个图像点(称作像素)的序列，假定序列中像素的个数总是 8 的倍数， 于是每八个像素可以转换成一个叫做字节的数， 从而这个表示图像的像素序列就被转换成了字节的序列。\n\n所谓的字节就是一个八位的二进制数(当然，为了便于书写，人们经常用它的十进制形式来表示)。这八个像素从前向后依次对应于字节从高位到低位的八个位， 用 0 来表示白色像素、 1 来表示黑色像素。 这种表示方法叫做位图法。 例如字节序列 210、 0、255 表示了 8\\*3=24 个像素， 由于对应的二进制形式是 11010010、 00000000、11111111， 所以这 24 个像素的颜色依次是黑、 黑、 白、 黑、 白、 白、 黑、 白、白、白、白、白、白、白、白、白、黑、黑、黑、黑、黑、黑、黑、黑。\n\n小可可想： 其实图像中存在着很多连续的同色像素段， 也许换一种方式表达图像能够减少图像的数据量。 她的思路是： 把像素按照颜色分成若干个片段， 同一个片段中各像素颜色相同， 且连续的同色像素都在同一个片段中。同时已知每个片段的最大长度小于 128。\n\n每一个像素片段都是用一个二进制字节量来表示， 最高位表示片段中像素的颜色， 而低七位表示片段中像素的数目。注意：不存在长度为 0 的像素片段。这种表示法叫做像素片段法。\n\n例如位图表示法的字节序列 210、 0、 255 对应的像素序列可以分成七个片段，分别是： 11、 0、 1、 00、 1、 000000000、 11111111。如果用像素片段法来表示的话，二进制字节序列应该写成 10000010、 00000001、 10000001、00000010、 10000001、 00001001、 10001000， 而其对应于十进制字节序列就是 130、 1、 129、 2、 129、 9、 136。\n\n像素片段法是否能有效地减少图像的数据存储量呢？小可可不知道如何用数学的方法加以证明， 于是决心对手头上的图像做些试验， 看看该方法是否真的有效。 请你编写程序完成图像信息的转换， 以协助小可可完成这项试验。\n", "inputFormat": "文件中以一行的形式存放了一个图像的信息。第一个数是正整数 $n$ ，表明该图像有 $n$ 个像素。随后有 $\\frac{n}{8}$ 个十进制形式的字节量，表示该图像的位图信息。相邻数之间用一个空白字符隔开。", "outputFormat": "以一行的形式输出以像素片段表示法表示的图像信息，各个数都以\n\n十进制的形式出现，相邻数之间用一个空白字符隔开。\n", "hint": "$1\\leq n\\leq 8\\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2002] Black-and-White Image Compression", "background": "", "description": "While taking an elective in basic genetics, Xiao Keke did a home experiment related to image processing. She knows that an entire image is actually a sequence of image points (called pixels). Assume the number of pixels in the sequence is always a multiple of 8, so every eight pixels can be converted into a number called a byte, thereby converting the pixel sequence representing the image into a sequence of bytes.\n\nA byte is an 8-bit binary number (of course, for convenience, people often write it in decimal). The eight pixels, from earlier to later, correspond to the eight bits of the byte from the most significant bit to the least significant bit. Use 0 for a white pixel and 1 for a black pixel. This representation is called the bitmap method. For example, the byte sequence 210, 0, 255 represents $8 \\times 3 = 24$ pixels. Since their binary forms are 11010010, 00000000, 11111111, the colors of these 24 pixels in order are: black, black, white, black, white, white, black, white, white, white, white, white, white, white, white, white, black, black, black, black, black, black, black, black.\n\nXiao Keke thought: there are many runs of consecutive pixels with the same color in an image; maybe using another way to express the image could reduce the data size. Her idea is to divide the pixels into several segments by color, where all pixels in the same segment have the same color, and every consecutive run of same-color pixels belongs to a single segment. It is also known that the maximum length of each segment is less than 128.\n\nEach pixel segment is represented by one binary byte. The most significant bit indicates the color of the pixels in the segment, and the lower seven bits indicate the number of pixels in the segment. Note: segments of length 0 do not exist. This representation is called the pixel segment method.\n\nFor example, the pixel sequence corresponding to the bitmap byte sequence 210, 0, 255 can be divided into seven segments: 11, 0, 1, 00, 1, 000000000, 11111111. If represented by the pixel segment method, the binary byte sequence should be 10000010, 00000001, 10000001, 00000010, 10000001, 00001001, 10001000, and the corresponding decimal byte sequence is 130, 1, 129, 2, 129, 9, 136.\n\nCan the pixel segment method effectively reduce the amount of image data? Xiao Keke does not know how to prove it mathematically, so she decides to experiment on the images at hand to see whether this method really works. Please write a program to perform the conversion of image information to assist Xiao Keke in this experiment.", "inputFormat": "The file contains one line describing an image. The first number is a positive integer $n$, indicating that the image has $n$ pixels. It is followed by $\\frac{n}{8}$ bytes in decimal form, representing the bitmap information of the image. Adjacent numbers are separated by a single whitespace character.", "outputFormat": "Output on a single line the image information encoded by the pixel segment method. All numbers should be in decimal, and adjacent numbers should be separated by a single whitespace character.", "hint": "$1 \\le n \\le 8 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2002] 黑白图像压缩", "background": "", "description": "选修基础生物基因学的时候， 小可可在家里做了一次图像学试验。 她知道：整个图像其实就是若干个图像点(称作像素)的序列，假定序列中像素的个数总是 8 的倍数， 于是每八个像素可以转换成一个叫做字节的数， 从而这个表示图像的像素序列就被转换成了字节的序列。\n\n所谓的字节就是一个八位的二进制数(当然，为了便于书写，人们经常用它的十进制形式来表示)。这八个像素从前向后依次对应于字节从高位到低位的八个位， 用 0 来表示白色像素、 1 来表示黑色像素。 这种表示方法叫做位图法。 例如字节序列 210、 0、255 表示了 8\\*3=24 个像素， 由于对应的二进制形式是 11010010、 00000000、11111111， 所以这 24 个像素的颜色依次是黑、 黑、 白、 黑、 白、 白、 黑、 白、白、白、白、白、白、白、白、白、黑、黑、黑、黑、黑、黑、黑、黑。\n\n小可可想： 其实图像中存在着很多连续的同色像素段， 也许换一种方式表达图像能够减少图像的数据量。 她的思路是： 把像素按照颜色分成若干个片段， 同一个片段中各像素颜色相同， 且连续的同色像素都在同一个片段中。同时已知每个片段的最大长度小于 128。\n\n每一个像素片段都是用一个二进制字节量来表示， 最高位表示片段中像素的颜色， 而低七位表示片段中像素的数目。注意：不存在长度为 0 的像素片段。这种表示法叫做像素片段法。\n\n例如位图表示法的字节序列 210、 0、 255 对应的像素序列可以分成七个片段，分别是： 11、 0、 1、 00、 1、 000000000、 11111111。如果用像素片段法来表示的话，二进制字节序列应该写成 10000010、 00000001、 10000001、00000010、 10000001、 00001001、 10001000， 而其对应于十进制字节序列就是 130、 1、 129、 2、 129、 9、 136。\n\n像素片段法是否能有效地减少图像的数据存储量呢？小可可不知道如何用数学的方法加以证明， 于是决心对手头上的图像做些试验， 看看该方法是否真的有效。 请你编写程序完成图像信息的转换， 以协助小可可完成这项试验。\n", "inputFormat": "文件中以一行的形式存放了一个图像的信息。第一个数是正整数 $n$ ，表明该图像有 $n$ 个像素。随后有 $\\frac{n}{8}$ 个十进制形式的字节量，表示该图像的位图信息。相邻数之间用一个空白字符隔开。", "outputFormat": "以一行的形式输出以像素片段表示法表示的图像信息，各个数都以\n\n十进制的形式出现，相邻数之间用一个空白字符隔开。\n", "hint": "$1\\leq n\\leq 8\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2557", "type": "P", "difficulty": 4, "samples": [["1 1", "1"], ["2 2", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "2002", "各省省选", "安徽"], "title": "[AHOI2002] 芝麻开门", "background": "", "description": "周末小可可参加智力大冲浪活动，经过努力终于来到最后一关“芝麻开门”。门上的电子显示屏写着这么一段话：如果你能把 $n^k$ 的所有正整数因子的和正确地写在门上，并念一声“芝麻开门”，门就能够自由打开。\n\n例如：$n=2$，$k=3$，则 $n^k=8$，它的正因子有 $1,2,4,8$，如果小可可把它们的和 $15$ 写在门上，然后念一声“芝麻开门”，门就能够自动打开。\n\n已知门上的 $n,k$ 都是每过一段时间就会变化一次，请你编写程序协助小可可在规定的时间内求出答案，从而获得智力大冲浪的最终大奖。\n", "inputFormat": "一行两个正整数 $n,k$。\n", "outputFormat": "一行一个整数表示答案。\n", "hint": "$1\\le  n  \\le 2^{16}$，$1\\le k \\lt 20$。\n\n解的位数不超过 $100$ 位。", "locale": "zh-CN", "translations": {"en": {"title": "[AHOI2002] Open Sesame", "background": "", "description": "On the weekend, little Keke takes part in a brain-power surfing challenge and finally reaches the last level, \"Open Sesame.\" The electronic display on the door says: If you can correctly write on the door the sum of all positive integer divisors of $n^k$, and say \"Open Sesame,\" the door will open freely.\n\nFor example: $n=2$, $k=3$, then $n^k=8$. Its positive divisors are $1, 2, 4, 8$. If Keke writes their sum $15$ on the door and then says \"Open Sesame,\" the door will open automatically.\n\nIt is known that the values $n$ and $k$ on the door change from time to time. Please write a program to help Keke compute the answer within the allotted time, so as to win the final prize of the challenge.", "inputFormat": "One line with two positive integers $n$ and $k$.", "outputFormat": "One line with one integer representing the answer.", "hint": "$1\\le  n  \\le 2^{16}$, $1\\le k \\lt 20$.\n\nThe answer has at most $100$ digits.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[AHOI2002] 芝麻开门", "background": "", "description": "周末小可可参加智力大冲浪活动，经过努力终于来到最后一关“芝麻开门”。门上的电子显示屏写着这么一段话：如果你能把 $n^k$ 的所有正整数因子的和正确地写在门上，并念一声“芝麻开门”，门就能够自由打开。\n\n例如：$n=2$，$k=3$，则 $n^k=8$，它的正因子有 $1,2,4,8$，如果小可可把它们的和 $15$ 写在门上，然后念一声“芝麻开门”，门就能够自动打开。\n\n已知门上的 $n,k$ 都是每过一段时间就会变化一次，请你编写程序协助小可可在规定的时间内求出答案，从而获得智力大冲浪的最终大奖。\n", "inputFormat": "一行两个正整数 $n,k$。\n", "outputFormat": "一行一个整数表示答案。\n", "hint": "$1\\le  n  \\le 2^{16}$，$1\\le k \\lt 20$。\n\n解的位数不超过 $100$ 位。", "locale": "zh-CN"}}}
