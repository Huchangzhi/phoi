{"pid": "P1721", "type": "P", "difficulty": 7, "samples": [["3 1 3\n1 4 3", "2.666667"], ["3 2 3\n1 4 3", "3.000000"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2016", "NOI", "Special Judge", "斜率优化"], "title": "[NOI2016] 国王饮水记", "background": "", "description": "跳蚤国有 $n$ 个城市，伟大的跳蚤国王居住在跳蚤国首都中，即 $1$ 号城市中。\n\n跳蚤国最大的问题就是饮水问题，由于首都中居住的跳蚤实在太多，跳蚤国王又体恤地将分配给他的水也给跳蚤国居民饮用，这导致跳蚤国王也经常喝不上水。\n\n于是，跳蚤国在每个城市都修建了一个圆柱形水箱，这些水箱完全相同且足够高。一个雨天后，第 $i$ 个城市收集到了高度为 $h_i$ 的水。由于地理和天气因素的影响，任何两个不同城市收集到的水高度互不相同。\n\n跳蚤国王也请来蚂蚁工匠帮忙，建立了一个庞大的地下连通系统。跳蚤国王每次使用地下连通系统时，可以指定任意多的城市，将这些城市的水箱用地下连通系统连接起来足够长的时间之后，再将地下连通系统关闭。由连通器原理，这些城市的水箱中的水在这次操作后会到达同一高度，并且这一高度等于指定的各水箱高度的平均值。\n\n由于地下连通系统的复杂性，跳蚤国王至多只能使用 $k$ 次地下连通系统。\n\n跳蚤国王请你告诉他，首都 $1$ 号城市水箱中的水位最高能有多高？", "inputFormat": "输入的第一行包含三个正整数 $n,k,p$ 分别表示跳蚤国中城市的数量，跳蚤国王能使用地下连通系统的最多次数，以及你输出的答案要求的精度。$p$ 的含义将在输出格式中解释。\n\n接下来一行包含 $n$ 个正整数，描述城市的水箱在雨后的水位。其中第 $i$ 个正整数 $h_i$ 表示第 $i$ 个城市的水箱的水位。保证 $h_i$ 互不相同，$1 \\leq h_i \\leq 10^5$。", "outputFormat": "仅一行一个实数，表示 $1$ 号城市的水箱中的最高水位。\n\n这个实数只可以包含非负整数部分、小数点和小数部分。其中非负整数部分为必需部分，不加正负号。若有小数部分，则非负整数部分与小数部分之间以一个小数点隔开。若无小数部分，则不加小数点。\n\n你输出的实数在小数点后不能超过 $2p$ 位，建议保留至少 $p$ 位。数据保证参考答案与真实答案的绝对误差小于 $10^{-2p}$。\n\n你的输出被判定为正确当且仅当你的输出与参考答案的绝对误差小于 $10^{-p}$。\n\n如果你的输出与参考答案的绝对误差不小于 $10^{-p}$ 但小于 $10^{-5}$，你可以获得该测试点 $40\\%$ 的分数。", "hint": "### 样例解释 1\n\n由于至多使用一次地下连通系统，有以下五种方案：\n \n1. 不使用地下连通系统：此时 $1$ 号城市的水箱水位为 $1$。 \n2. 使用一次连通系统，连通 $1$、$2$ 号：此时 $1$ 号城市的水箱水位为 $5/2$。 \n3. 使用一次连通系统，连通 $1$、$3$ 号：此时 $1$ 号城市的水箱水位为 $2$。 \n4. 使用一次连通系统，连通 $2$、$3$ 号：此时 $1$ 号城市的水箱水位为 $1$。 \n5. 使用一次连通系统，连通 $1$、$2$、$3$ 号：此时 $1$ 号城市的水箱水位为 $8/3$。\n\n### 样例解释 2\n\n此时最优方案为使用两次连通系统，第一次连通 $1,3$ 号，第二次连通 $1,2$ 号。\n\n### 样例 3\n\n详见附加文件。\n\n### 提示\n\n为保证答案精度，我们一般需要尽可能地在运算过程中保留超过 $p$ 位小数。我们可以证明，在各个子任务的参考算法中都能保证，在任何时候始终保留 $\\frac{6}{5}p$ 位小数时，对任何输入得到的输出，与参考答案的绝对误差都小于 $10^{-p}$。\n\n为了方便选手处理高精度小数，我们提供了定点高精度小数类。选手可以根据自己的需要参考与使用该类，也可以不使用该类。其具体的使用方法请参考下发的文档 `decimal.pdf`（见附件）。\n\n### 数据范围\n\n::cute-table{tuack}\n\n| 测试点编号 | $n$ | $k$ | $p$ |\n|:-:|:-:|:-:|:-:|\n| 1 | $\\le 2$ | $\\le 5$ | $=5$ |\n| $2$ | $\\le 4$ | ^ | ^ |\n| $3$ | ^ | ^ | ^ |\n| 4 | $\\le 10$ | $=1$ | ^ |\n| $5$ | ^ | $=10^9$ | ^ |\n| $6$ | ^ | $\\le 10$ | ^ |\n| $7$ | ^ | ^ | ^ |\n| $8$ | $\\le 100$ | $=1$ | ^ |\n| $9$ | ^ | $=10^9$ | $=40$ |\n| $10$ | ^ | $\\le 10^9$ | ^ |\n| $11$ | ^ | ^ | ^ |\n| $12$ | ^ | ^ | ^ |\n| $13$ | $\\le 250$ | ^ | $=100$ |\n| $14$ | $\\le 500$ | ^ | $=200$ |\n| $15$ | $\\le 700$ | ^ | $=300$ |\n| $16$ | ^ | ^ | ^ |\n| $17$ | ^ | ^ | ^ |\n| $18$ | $\\le 2500$ | ^ | $=1000$ |\n| $19$ | $\\le 4000$ | ^ | $=1500$ |\n| $20$ | $\\le 8000$ | ^ | $=3000$ |", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2016] The King's Drinking Water", "background": "", "description": "The Flea Kingdom has $n$ cities. The great Flea King lives in the capital of the Flea Kingdom, that is, in city $1$.\n\nThe biggest problem in the Flea Kingdom is drinking water. Because too many fleas live in the capital, and the kind Flea King also gives the water allocated to him to the residents, the Flea King often cannot get water to drink.\n\nTherefore, the Flea Kingdom built a cylindrical water tank in every city. These tanks are completely identical and tall enough. After a rainy day, city $i$ collected water with height $h_i$. Due to geographic and weather factors, the water heights collected by any two different cities are all distinct.\n\nThe Flea King also invited ant craftsmen to help build a large underground connecting system. Each time the Flea King uses the underground connecting system, he can specify any number of cities, connect the tanks of these cities with the underground system for a sufficiently long time, and then turn the system off. By the principle of communicating vessels, after this operation the water in those cities’ tanks will reach the same height, and this height equals the average of the specified tanks’ heights.\n\nBecause of the complexity of the underground system, the Flea King can use it at most $k$ times.\n\nPlease tell the Flea King: how high can the water level in the capital’s tank (city $1$) be at most?", "inputFormat": "The first line contains three positive integers $n,k,p$, representing the number of cities in the Flea Kingdom, the maximum number of times the Flea King can use the underground connecting system, and the required precision of your output. The meaning of $p$ is explained in the Output Format.\n\nThe next line contains $n$ positive integers describing the water levels in the cities’ tanks after the rain. The $i$-th integer $h_i$ is the water level in city $i$’s tank. It is guaranteed that the $h_i$ are pairwise distinct, and $1 \\leq h_i \\leq 10^5$.", "outputFormat": "Output a single real number, the maximum possible water level in city $1$’s tank.\n\nThis real number may contain only a non-negative integer part, a decimal point, and a fractional part. The non-negative integer part is required and should not have a sign. If there is a fractional part, separate it from the integer part with one decimal point; if there is no fractional part, do not print a decimal point.\n\nThe number of digits after the decimal point must not exceed $2p$. It is recommended to keep at least $p$ digits. It is guaranteed that the absolute error between the reference answer and the true answer is less than $10^{-2p}$.\n\nYour output is judged correct if and only if its absolute error with the reference answer is less than $10^{-p}$.\n\nIf the absolute error of your output is not less than $10^{-p}$ but less than $10^{-5}$, you can receive $40\\%$ of the score for that test point.", "hint": "### Sample Explanation 1\n\nSince the underground connecting system can be used at most once, there are the following five options:\n \n1. Do not use the underground system: the water level in city $1$’s tank is $1$.\n2. Use the system once to connect cities $1$ and $2$: the water level in city $1$’s tank is $5/2$.\n3. Use the system once to connect cities $1$ and $3$: the water level in city $1$’s tank is $2$.\n4. Use the system once to connect cities $2$ and $3$: the water level in city $1$’s tank is $1$.\n5. Use the system once to connect cities $1,2,3$: the water level in city $1$’s tank is $8/3$.\n\n### Sample Explanation 2\n\nThe optimal plan is to use the system twice: first connect cities $1$ and $3$, then connect cities $1$ and $2$.\n\n### Sample 3\n\nSee the attached file.\n\n### Hint\n\nTo ensure precision, we generally need to keep more than $p$ decimal digits during computation. We can prove that in the reference solutions for all sub-tasks, if we always keep $\\frac{6}{5}p$ decimal digits at any time, then for any input the absolute error of the output will be less than $10^{-p}$.\n\nTo make it easier to handle high-precision decimals, we provide a fixed-point high-precision decimal class. Contestants may refer to and use this class as needed, or choose not to use it. For specific usage, please refer to the distributed document `decimal.pdf` (see the attachment).\n\n### Constraints\n\n::cute-table{tuack}\n\n| Test Point | $n$ | $k$ | $p$ |\n|:-:|:-:|:-:|:-:|\n| 1 | $\\le 2$ | $\\le 5$ | $=5$ |\n| $2$ | $\\le 4$ | ^ | ^ |\n| $3$ | ^ | ^ | ^ |\n| 4 | $\\le 10$ | $=1$ | ^ |\n| $5$ | ^ | $=10^9$ | ^ |\n| $6$ | ^ | $\\le 10$ | ^ |\n| $7$ | ^ | ^ | ^ |\n| $8$ | $\\le 100$ | $=1$ | ^ |\n| $9$ | ^ | $=10^9$ | $=40$ |\n| $10$ | ^ | $\\le 10^9$ | ^ |\n| $11$ | ^ | ^ | ^ |\n| $12$ | ^ | ^ | ^ |\n| $13$ | $\\le 250$ | ^ | $=100$ |\n| $14$ | $\\le 500$ | ^ | $=200$ |\n| $15$ | $\\le 700$ | ^ | $=300$ |\n| $16$ | ^ | ^ | ^ |\n| $17$ | ^ | ^ | ^ |\n| $18$ | $\\le 2500$ | ^ | $=1000$ |\n| $19$ | $\\le 4000$ | ^ | $=1500$ |\n| $20$ | $\\le 8000$ | ^ | $=3000$ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2016] 国王饮水记", "background": "", "description": "跳蚤国有 $n$ 个城市，伟大的跳蚤国王居住在跳蚤国首都中，即 $1$ 号城市中。\n\n跳蚤国最大的问题就是饮水问题，由于首都中居住的跳蚤实在太多，跳蚤国王又体恤地将分配给他的水也给跳蚤国居民饮用，这导致跳蚤国王也经常喝不上水。\n\n于是，跳蚤国在每个城市都修建了一个圆柱形水箱，这些水箱完全相同且足够高。一个雨天后，第 $i$ 个城市收集到了高度为 $h_i$ 的水。由于地理和天气因素的影响，任何两个不同城市收集到的水高度互不相同。\n\n跳蚤国王也请来蚂蚁工匠帮忙，建立了一个庞大的地下连通系统。跳蚤国王每次使用地下连通系统时，可以指定任意多的城市，将这些城市的水箱用地下连通系统连接起来足够长的时间之后，再将地下连通系统关闭。由连通器原理，这些城市的水箱中的水在这次操作后会到达同一高度，并且这一高度等于指定的各水箱高度的平均值。\n\n由于地下连通系统的复杂性，跳蚤国王至多只能使用 $k$ 次地下连通系统。\n\n跳蚤国王请你告诉他，首都 $1$ 号城市水箱中的水位最高能有多高？", "inputFormat": "输入的第一行包含三个正整数 $n,k,p$ 分别表示跳蚤国中城市的数量，跳蚤国王能使用地下连通系统的最多次数，以及你输出的答案要求的精度。$p$ 的含义将在输出格式中解释。\n\n接下来一行包含 $n$ 个正整数，描述城市的水箱在雨后的水位。其中第 $i$ 个正整数 $h_i$ 表示第 $i$ 个城市的水箱的水位。保证 $h_i$ 互不相同，$1 \\leq h_i \\leq 10^5$。", "outputFormat": "仅一行一个实数，表示 $1$ 号城市的水箱中的最高水位。\n\n这个实数只可以包含非负整数部分、小数点和小数部分。其中非负整数部分为必需部分，不加正负号。若有小数部分，则非负整数部分与小数部分之间以一个小数点隔开。若无小数部分，则不加小数点。\n\n你输出的实数在小数点后不能超过 $2p$ 位，建议保留至少 $p$ 位。数据保证参考答案与真实答案的绝对误差小于 $10^{-2p}$。\n\n你的输出被判定为正确当且仅当你的输出与参考答案的绝对误差小于 $10^{-p}$。\n\n如果你的输出与参考答案的绝对误差不小于 $10^{-p}$ 但小于 $10^{-5}$，你可以获得该测试点 $40\\%$ 的分数。", "hint": "### 样例解释 1\n\n由于至多使用一次地下连通系统，有以下五种方案：\n \n1. 不使用地下连通系统：此时 $1$ 号城市的水箱水位为 $1$。 \n2. 使用一次连通系统，连通 $1$、$2$ 号：此时 $1$ 号城市的水箱水位为 $5/2$。 \n3. 使用一次连通系统，连通 $1$、$3$ 号：此时 $1$ 号城市的水箱水位为 $2$。 \n4. 使用一次连通系统，连通 $2$、$3$ 号：此时 $1$ 号城市的水箱水位为 $1$。 \n5. 使用一次连通系统，连通 $1$、$2$、$3$ 号：此时 $1$ 号城市的水箱水位为 $8/3$。\n\n### 样例解释 2\n\n此时最优方案为使用两次连通系统，第一次连通 $1,3$ 号，第二次连通 $1,2$ 号。\n\n### 样例 3\n\n详见附加文件。\n\n### 提示\n\n为保证答案精度，我们一般需要尽可能地在运算过程中保留超过 $p$ 位小数。我们可以证明，在各个子任务的参考算法中都能保证，在任何时候始终保留 $\\frac{6}{5}p$ 位小数时，对任何输入得到的输出，与参考答案的绝对误差都小于 $10^{-p}$。\n\n为了方便选手处理高精度小数，我们提供了定点高精度小数类。选手可以根据自己的需要参考与使用该类，也可以不使用该类。其具体的使用方法请参考下发的文档 `decimal.pdf`（见附件）。\n\n### 数据范围\n\n::cute-table{tuack}\n\n| 测试点编号 | $n$ | $k$ | $p$ |\n|:-:|:-:|:-:|:-:|\n| 1 | $\\le 2$ | $\\le 5$ | $=5$ |\n| $2$ | $\\le 4$ | ^ | ^ |\n| $3$ | ^ | ^ | ^ |\n| 4 | $\\le 10$ | $=1$ | ^ |\n| $5$ | ^ | $=10^9$ | ^ |\n| $6$ | ^ | $\\le 10$ | ^ |\n| $7$ | ^ | ^ | ^ |\n| $8$ | $\\le 100$ | $=1$ | ^ |\n| $9$ | ^ | $=10^9$ | $=40$ |\n| $10$ | ^ | $\\le 10^9$ | ^ |\n| $11$ | ^ | ^ | ^ |\n| $12$ | ^ | ^ | ^ |\n| $13$ | $\\le 250$ | ^ | $=100$ |\n| $14$ | $\\le 500$ | ^ | $=200$ |\n| $15$ | $\\le 700$ | ^ | $=300$ |\n| $16$ | ^ | ^ | ^ |\n| $17$ | ^ | ^ | ^ |\n| $18$ | $\\le 2500$ | ^ | $=1000$ |\n| $19$ | $\\le 4000$ | ^ | $=1500$ |\n| $20$ | $\\le 8000$ | ^ | $=3000$ |", "locale": "zh-CN"}}}
{"pid": "P1722", "type": "P", "difficulty": 2, "samples": [["2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "递推", "Catalan 数"], "title": "矩阵 II", "background": "usqwedf 改编系列题。\n", "description": "\n如果你在百忙之中抽空看题，请自动跳到第六行。\n\n众所周知，在中国古代算筹中，红为正，黑为负……\n\n给定一个 $1\\times 2n$ 的矩阵（usqwedf：这不是一个 $2n$ 的队列么），现让你自由地放入红色算筹和黑色算筹，使矩阵平衡（即 $\\forall i \\in[1, 2n]$，$1\\sim i$ 格中红色算筹个数大于等于黑色算筹）。\n\n问有多少种方案满足矩阵平衡（注意红色算筹和黑色算筹的数量必须相等）。", "inputFormat": "正整数 $n$。", "outputFormat": "方案数 $t$ 对 $100$ 取模后的结果。", "hint": "样例解释： \n\n- 方案一：红，黑，红，黑\n\n- 方案二：红，红，黑，黑\n\n数据范围：\n\n$1\\le n\\le 100$", "locale": "zh-CN", "translations": {"en": {"title": "Matrix II", "background": "Adapted series by usqwedf.", "description": "If you are reading this in a rush, please jump to the sixth line.\n\nAs is well known, in ancient Chinese counting rods, red means positive and black means negative.\n\nGiven a $1 \\times 2n$ matrix (usqwedf: isn't this just a sequence of length $2n$?), you may freely place red and black counting rods so that the matrix is balanced (i.e., for all $i \\in [1, 2n]$, in positions $1$ to $i$, the number of red rods is greater than or equal to the number of black rods).\n\nHow many placements satisfy the balance condition (note that the numbers of red and black rods must be equal)?", "inputFormat": "A positive integer $n$.", "outputFormat": "The value of $t$ modulo $100$, where $t$ is the number of valid placements.", "hint": "Sample explanation:\n- Scheme 1: Red, Black, Red, Black.\n- Scheme 2: Red, Red, Black, Black.\n\nConstraints:\n\n$1 \\le n \\le 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "矩阵 II", "background": "usqwedf 改编系列题。\n", "description": "\n如果你在百忙之中抽空看题，请自动跳到第六行。\n\n众所周知，在中国古代算筹中，红为正，黑为负……\n\n给定一个 $1\\times 2n$ 的矩阵（usqwedf：这不是一个 $2n$ 的队列么），现让你自由地放入红色算筹和黑色算筹，使矩阵平衡（即 $\\forall i \\in[1, 2n]$，$1\\sim i$ 格中红色算筹个数大于等于黑色算筹）。\n\n问有多少种方案满足矩阵平衡（注意红色算筹和黑色算筹的数量必须相等）。", "inputFormat": "正整数 $n$。", "outputFormat": "方案数 $t$ 对 $100$ 取模后的结果。", "hint": "样例解释： \n\n- 方案一：红，黑，红，黑\n\n- 方案二：红，红，黑，黑\n\n数据范围：\n\n$1\\le n\\le 100$", "locale": "zh-CN"}}}
{"pid": "P1723", "type": "P", "difficulty": 5, "samples": [["1\r\naaaaa", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["字符串", "洛谷原创", "Manacher 算法"], "title": "高手过愚人节", "background": "高手组织大家过愚人节、联欢会要打出一些横幅。高手想表现得文艺一点，于是他就用一些普通人看不懂的乱码作为横幅内容。但是在这个时候，他也想让横幅更美观。\n", "description": "现在给出 $n$ 个著名的乱七八糟的乱码，高手要知道每条乱码的最美观连续子序列的长度，在高手的心目中，只有回文串才是美观的。这代表着他纯洁的爱情，又有着回环往复的美，最重要的是，对于转回了一年级的高手来说，想要求出这个太难了，因此他找到了你。（OIer 无所不能！）\n", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行每行一条乱码。", "outputFormat": "$n$ 行，每行为对应乱码的最美观子串的长度，即最长回文子串长（但是由于高手听不懂，我们不会这样说）。", "hint": "### 数据范围及约定\n\n对于全部数据，$1\\le n\\le 10$，$1\\le |s_i|\\le 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "The Expert Celebrates April Fools' Day", "background": "The expert is organizing everyone to celebrate April Fools' Day, and the party needs some banners. Wanting to be a bit artistic, he uses some gibberish that ordinary people cannot understand as the banner content. But at the same time, he also wants the banners to look more aesthetic.", "description": "Now, you are given $n$ well-known pieces of messy gibberish. The expert wants to know the length of the most aesthetic contiguous subsequence of each piece. In the expert’s view, only palindromes are aesthetic. This represents his pure love and the beauty of cycles. Most importantly, for the expert who has “gone back to grade one,” this is too hard to compute, so he turns to you for help. (An OIer can do anything!)", "inputFormat": "The first line contains an integer $n$.\n\nThen follow $n$ lines, each containing one piece of gibberish.", "outputFormat": "Output $n$ lines. For each piece of gibberish, output the length of its most aesthetic substring, that is, the length of the longest palindromic substring (but since the expert does not understand, we will not call it that).", "hint": "### Constraints and Conventions\n\nFor all testdata, $1\\le n\\le 10$, $1\\le |s_i|\\le 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "高手过愚人节", "background": "高手组织大家过愚人节、联欢会要打出一些横幅。高手想表现得文艺一点，于是他就用一些普通人看不懂的乱码作为横幅内容。但是在这个时候，他也想让横幅更美观。\n", "description": "现在给出 $n$ 个著名的乱七八糟的乱码，高手要知道每条乱码的最美观连续子序列的长度，在高手的心目中，只有回文串才是美观的。这代表着他纯洁的爱情，又有着回环往复的美，最重要的是，对于转回了一年级的高手来说，想要求出这个太难了，因此他找到了你。（OIer 无所不能！）\n", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行每行一条乱码。", "outputFormat": "$n$ 行，每行为对应乱码的最美观子串的长度，即最长回文子串长（但是由于高手听不懂，我们不会这样说）。", "hint": "### 数据范围及约定\n\n对于全部数据，$1\\le n\\le 10$，$1\\le |s_i|\\le 10^7$。", "locale": "zh-CN"}}}
{"pid": "P1724", "type": "P", "difficulty": 2, "samples": [["NSWWNSNEEWN\n12\n", "-1 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串"], "title": "东风谷早苗", "background": "", "description": "在幻想乡，东风谷早苗是以高达控闻名的高中生宅巫女。某一天，早苗终于入手了最新款的钢达姆模型。作为最新的钢达姆，当然有了与以往不同的功能了，那就是它能够自动行走，厉害吧（好吧，我自重）。早苗的新模型可以按照输入的命令进行移动，命令包含 $\\verb|E|$、$\\verb|S|$、$\\verb|W|$、$\\verb|N|$ 四种，分别对应四个不同的方向，依次为东、南、西、北。执行某个命令时，它会向着对应方向移动一个单位。作为新型机器人，自然不会只单单执行一个命令，它可以执行命令串。对于输入的命令串，每一秒它会按照命令行动一次。而执行完命令串最后一个命令后，会自动从头开始循环。在 $0$ 时刻时早苗将钢达姆放置在了 $(0,0)$ 的位置，并且输入了命令串。她想要知道 $T$ 秒后钢达姆所在的位置坐标。\n\n假设当前钢达姆的位置是 $(x,y)$。那么对于四种方向的移动，它坐标的改变分别为：\n\n- 向东移动，坐标改变改变为 $(x+1,y)$；\n- 向南移动，坐标改变改变为 $(x,y-1)$；\n- 向西移动，坐标改变改变为 $(x-1,y)$；\n- 向北移动，坐标改变改变为 $(x,y+1)$。\n\n\n", "inputFormat": "第一行共一个字符串 $S$，表示早苗输入的命令串，保证至少有 $1$ 个命令。\n\n第二行共一个正整数 $T$。\n", "outputFormat": "第一行有两个整数，表示 $T$ 秒时，钢达姆的坐标。\n", "hint": "用 $|S|$ 表示早苗输入的命令串的长度。\n\n- 对于 $60\\%$ 的数据，$T\\le 5\\times 10^5$，$|S|\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，$T \\le 2\\times 10^9$，$|S|\\le  5\\times 10^3$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Sanae Kochiya", "background": "", "description": "In Gensokyo, Sanae Kochiya is a high school otaku shrine maiden known as a Gundam superfan. One day, she finally got her hands on the latest Gundam model. As the newest Gundam, of course it has a new feature: it can walk automatically. Impressive, right (okay, I’ll behave). Sanae’s new model can move according to the input commands. The commands are $\\verb|E|$, $\\verb|S|$, $\\verb|W|$, $\\verb|N|$, corresponding to the four directions: east, south, west, and north, respectively. When executing a command, it moves one unit in the corresponding direction. As a new type of robot, it can execute a command string rather than a single command. For the input command string, it executes one command per second. After finishing the last command in the string, it automatically loops back to the beginning. At time $0$, Sanae places the Gundam at position $(0,0)$ and inputs the command string. She wants to know the coordinates of the Gundam after $T$ seconds.\n\nAssume the current position of the Gundam is $(x,y)$. For moves in the four directions, its coordinates change as follows:\n\n- Move east: the coordinates change to $(x+1,y)$.\n- Move south: the coordinates change to $(x,y-1)$.\n- Move west: the coordinates change to $(x-1,y)$.\n- Move north: the coordinates change to $(x,y+1)$.", "inputFormat": "The first line contains a string $S$, the command string Sanae inputs, which is guaranteed to contain at least $1$ command.\nThe second line contains a positive integer $T$.", "outputFormat": "Output two integers on one line, the coordinates of the Gundam at time $T$ seconds.", "hint": "Let $|S|$ denote the length of the command string Sanae inputs.\n\n- For $60\\%$ of the testdata, $T \\le 5\\times 10^5$, $|S| \\le 5\\times 10^3$.\n- For $100\\%$ of the testdata, $T \\le 2\\times 10^9$, $|S| \\le 5\\times 10^3$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "东风谷早苗", "background": "", "description": "在幻想乡，东风谷早苗是以高达控闻名的高中生宅巫女。某一天，早苗终于入手了最新款的钢达姆模型。作为最新的钢达姆，当然有了与以往不同的功能了，那就是它能够自动行走，厉害吧（好吧，我自重）。早苗的新模型可以按照输入的命令进行移动，命令包含 $\\verb|E|$、$\\verb|S|$、$\\verb|W|$、$\\verb|N|$ 四种，分别对应四个不同的方向，依次为东、南、西、北。执行某个命令时，它会向着对应方向移动一个单位。作为新型机器人，自然不会只单单执行一个命令，它可以执行命令串。对于输入的命令串，每一秒它会按照命令行动一次。而执行完命令串最后一个命令后，会自动从头开始循环。在 $0$ 时刻时早苗将钢达姆放置在了 $(0,0)$ 的位置，并且输入了命令串。她想要知道 $T$ 秒后钢达姆所在的位置坐标。\n\n假设当前钢达姆的位置是 $(x,y)$。那么对于四种方向的移动，它坐标的改变分别为：\n\n- 向东移动，坐标改变改变为 $(x+1,y)$；\n- 向南移动，坐标改变改变为 $(x,y-1)$；\n- 向西移动，坐标改变改变为 $(x-1,y)$；\n- 向北移动，坐标改变改变为 $(x,y+1)$。\n\n\n", "inputFormat": "第一行共一个字符串 $S$，表示早苗输入的命令串，保证至少有 $1$ 个命令。\n\n第二行共一个正整数 $T$。\n", "outputFormat": "第一行有两个整数，表示 $T$ 秒时，钢达姆的坐标。\n", "hint": "用 $|S|$ 表示早苗输入的命令串的长度。\n\n- 对于 $60\\%$ 的数据，$T\\le 5\\times 10^5$，$|S|\\le 5\\times 10^3$。\n- 对于 $100\\%$ 的数据，$T \\le 2\\times 10^9$，$|S|\\le  5\\times 10^3$。\n", "locale": "zh-CN"}}}
{"pid": "P1725", "type": "P", "difficulty": 4, "samples": [["5 2 3\n0 12 3 11 7 -2", "11"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "单调队列", "优先队列"], "title": "琪露诺", "background": "", "description": "在幻想乡，琪露诺是以笨蛋闻名的冰之妖精。\n\n某一天，琪露诺又在玩速冻青蛙，就是用冰把青蛙瞬间冻起来。但是这只青蛙比以往的要聪明许多，在琪露诺来之前就已经跑到了河的对岸。于是琪露诺决定到河岸去追青蛙。\n\n小河可以看作一列格子依次编号为 $0$ 到 $N$，琪露诺只能从编号小的格子移动到编号大的格子。而且琪露诺按照一种特殊的方式进行移动，当她在格子 $i$ 时，她只移动到区间 $[i+L,i+R]$ 中的任意一格。你问为什么她这么移动，这还不简单，因为她是笨蛋啊。\n\n每一个格子都有一个冰冻指数 $A_i$，编号为 $0$ 的格子冰冻指数为 $0$。当琪露诺停留在那一格时就可以得到那一格的冰冻指数 $A_i$。琪露诺希望能够在到达对岸时，获取最大的冰冻指数，这样她才能狠狠地教训那只青蛙。\n\n但是由于她实在是太笨了，所以她决定拜托你帮它决定怎样前进。\n\n开始时，琪露诺在编号 $0$ 的格子上，只要她下一步的位置编号大于 $N$ 就算到达对岸。\n", "inputFormat": "第一行三个正整数 $N, L, R$。\n\n第二行共 $N+1$ 个整数，第 $i$ 个数表示编号为 $i-1$ 的格子的冰冻指数 $A_{i-1}$。\n", "outputFormat": "一个整数，表示最大冰冻指数。\n", "hint": "对于 $60\\%$ 的数据，$N \\le 10^4$。\n\n对于 $100\\%$ 的数据，$N \\le 2\\times 10^5$，$-10^3 \\le  A_i\\le 10^3 $，$1 \\le L \\le R \\le N $。数据保证最终答案不超过 $2^{31}-1$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Cirno", "background": "", "description": "In Gensokyo, Cirno is an ice fairy known for being a fool.\n\nOne day, Cirno was once again playing at flash-freezing frogs, instantly freezing them with ice. But this frog was much smarter than usual and had already run to the other side of the river before Cirno arrived. So Cirno decided to go to the riverbank to chase the frog.\n\nThe small river can be viewed as a sequence of cells numbered from $0$ to $N$. Cirno can only move from a cell with a smaller index to one with a larger index. Moreover, she moves in a special way: when she is on cell $i$, she only moves to any cell in the interval $[i+L, i+R]$. Why does she move like this? Simple, because she is a fool.\n\nEach cell has a freeze index $A_i$, and the cell with index $0$ has a freeze index of $0$. When Cirno stays on a cell, she gains that cell’s freeze index $A_i$. Cirno hopes that by the time she reaches the opposite bank, she will have gained the maximum possible freeze index, so she can teach that frog a good lesson.\n\nHowever, since she is really too foolish, she asks you to help her decide how to move.\n\nAt the beginning, Cirno is on cell $0$. As long as the index of her next position is greater than $N$, she is considered to have reached the opposite bank.", "inputFormat": "The first line contains three positive integers $N, L, R$.\n\nThe second line contains $N+1$ integers. The $i$-th number represents the freeze index $A_{i-1}$ of the cell with index $i-1$.", "outputFormat": "Output a single integer, the maximum freeze index.", "hint": "For $60\\%$ of the testdata, $N \\le 10^4$.\n\nFor $100\\%$ of the testdata, $N \\le 2\\times 10^5$, $-10^3 \\le A_i \\le 10^3$, $1 \\le L \\le R \\le N$. The testdata guarantees that the final answer does not exceed $2^{31}-1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "琪露诺", "background": "", "description": "在幻想乡，琪露诺是以笨蛋闻名的冰之妖精。\n\n某一天，琪露诺又在玩速冻青蛙，就是用冰把青蛙瞬间冻起来。但是这只青蛙比以往的要聪明许多，在琪露诺来之前就已经跑到了河的对岸。于是琪露诺决定到河岸去追青蛙。\n\n小河可以看作一列格子依次编号为 $0$ 到 $N$，琪露诺只能从编号小的格子移动到编号大的格子。而且琪露诺按照一种特殊的方式进行移动，当她在格子 $i$ 时，她只移动到区间 $[i+L,i+R]$ 中的任意一格。你问为什么她这么移动，这还不简单，因为她是笨蛋啊。\n\n每一个格子都有一个冰冻指数 $A_i$，编号为 $0$ 的格子冰冻指数为 $0$。当琪露诺停留在那一格时就可以得到那一格的冰冻指数 $A_i$。琪露诺希望能够在到达对岸时，获取最大的冰冻指数，这样她才能狠狠地教训那只青蛙。\n\n但是由于她实在是太笨了，所以她决定拜托你帮它决定怎样前进。\n\n开始时，琪露诺在编号 $0$ 的格子上，只要她下一步的位置编号大于 $N$ 就算到达对岸。\n", "inputFormat": "第一行三个正整数 $N, L, R$。\n\n第二行共 $N+1$ 个整数，第 $i$ 个数表示编号为 $i-1$ 的格子的冰冻指数 $A_{i-1}$。\n", "outputFormat": "一个整数，表示最大冰冻指数。\n", "hint": "对于 $60\\%$ 的数据，$N \\le 10^4$。\n\n对于 $100\\%$ 的数据，$N \\le 2\\times 10^5$，$-10^3 \\le  A_i\\le 10^3 $，$1 \\le L \\le R \\le N $。数据保证最终答案不超过 $2^{31}-1$。\n", "locale": "zh-CN"}}}
{"pid": "P1726", "type": "P", "difficulty": 4, "samples": [["5 5\n1 2 1\n1 3 2\n2 4 2\n5 1 2\n3 5 1\n", "3\n1 3 5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "强连通分量", "Tarjan"], "title": "上白泽慧音", "background": "", "description": "在幻想乡，上白泽慧音是以知识渊博闻名的老师。春雪异变导致人间之里的很多道路都被大雪堵塞，使有的学生不能顺利地到达慧音所在的村庄。因此慧音决定换一个能够聚集最多人数的村庄作为新的教学地点。\n\n人间之里由 $N$ 个村庄（编号为 $1\\cdots N$）和 $M$ 条道路组成，道路分为两种一种为单向通行的，一种为双向通行的，分别用 $1$ 和 $2$ 来标记。如果存在由村庄 $A$ 到达村庄 $B$ 的通路，那么我们认为可以从村庄 $A$ 到达村庄 $B$，记为 $(A,B)$。当 $(A,B)$ 和 $(B,A)$ 同时满足时，我们认为 $A,B$ 是绝对连通的，记为 $\\langle A,B\\rangle$。绝对连通区域是指一个村庄的集合，在这个集合中任意两个村庄 $X,Y$ 都满足 $\\langle X,Y\\rangle$。现在你的任务是，找出最大的绝对连通区域，并将这个绝对连通区域的村庄按编号依次输出。若存在两个最大的，输出字典序最小的，比如当存在 $1,3,4$ 和 $2,5,6$ 这两个最大连通区域时，输出的是 $1,3,4$。\n", "inputFormat": "第一行共两个正整数 $N,M$。\n\n第 $2$ 行至第 $M+1$ 行，每行有三个正整数 $a,b,t$。若 $t = 1$ 则表示存在从村庄 $a$ 到 $b$ 的单向道路，若 $t = 2$ 表示村庄 $a,b$ 之间存在双向通行的道路。保证每条道路只出现一次。\n", "outputFormat": "第一行输出 $1$ 个整数，表示最大的绝对连通区域包含的村庄个数。\n\n第二行输出若干个整数，依次输出最大的绝对连通区域所包含的村庄编号。\n", "hint": "- 对于 $60\\%$ 的数据，$1\\le N \\le 200$，且 $0\\le M \\le 10^4$；\n- 对于 $100\\%$ 的数据，$1\\le N \\le 5\\times 10^3$，且 $0\\le M \\le 5\\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Kamishirasawa Keine", "background": "", "description": "In Gensokyo, Kamishirasawa Keine is a teacher known for her erudition. Due to the Spring Snow incident, many roads in the Human Village area have been blocked by heavy snow, preventing some students from reaching the village where Keine resides. Therefore, Keine decides to choose another village that can gather the largest number of people as the new teaching location.\n\nThe Human Village area consists of $N$ villages (numbered $1 \\cdots N$) and $M$ roads. Roads are of two types: one-way and two-way, denoted by $1$ and $2$, respectively. If there exists a path from village $A$ to village $B$, then we say $A$ can reach $B$, denoted as $(A,B)$. When both $(A,B)$ and $(B,A)$ hold, we say $A$ and $B$ are absolutely connected, denoted as $\\langle A,B\\rangle$. An absolutely connected region is a set of villages such that any two villages $X, Y$ in the set satisfy $\\langle X,Y\\rangle$. Your task is to find the largest absolutely connected region and output the villages in this region in increasing order of their indices. If there are multiple largest regions, output the lexicographically smallest one; for example, if $1,3,4$ and $2,5,6$ are two largest regions, output $1,3,4$.", "inputFormat": "The first line contains two positive integers $N, M$.\n\nFrom line $2$ to line $M+1$, each line contains three positive integers $a, b, t$. If $t = 1$, there is a one-way road from village $a$ to $b$. If $t = 2$, there is a two-way road between villages $a$ and $b$. It is guaranteed that each road appears only once.", "outputFormat": "On the first line, output $1$ integer, the number of villages in the largest absolutely connected region.\n\nOn the second line, output several integers, the indices of the villages in the largest absolutely connected region in increasing order, separated by spaces.", "hint": "- For $60\\%$ of the testdata, $1 \\le N \\le 200$, and $0 \\le M \\le 10^4$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 5\\times 10^3$, and $0 \\le M \\le 5\\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "上白泽慧音", "background": "", "description": "在幻想乡，上白泽慧音是以知识渊博闻名的老师。春雪异变导致人间之里的很多道路都被大雪堵塞，使有的学生不能顺利地到达慧音所在的村庄。因此慧音决定换一个能够聚集最多人数的村庄作为新的教学地点。\n\n人间之里由 $N$ 个村庄（编号为 $1\\cdots N$）和 $M$ 条道路组成，道路分为两种一种为单向通行的，一种为双向通行的，分别用 $1$ 和 $2$ 来标记。如果存在由村庄 $A$ 到达村庄 $B$ 的通路，那么我们认为可以从村庄 $A$ 到达村庄 $B$，记为 $(A,B)$。当 $(A,B)$ 和 $(B,A)$ 同时满足时，我们认为 $A,B$ 是绝对连通的，记为 $\\langle A,B\\rangle$。绝对连通区域是指一个村庄的集合，在这个集合中任意两个村庄 $X,Y$ 都满足 $\\langle X,Y\\rangle$。现在你的任务是，找出最大的绝对连通区域，并将这个绝对连通区域的村庄按编号依次输出。若存在两个最大的，输出字典序最小的，比如当存在 $1,3,4$ 和 $2,5,6$ 这两个最大连通区域时，输出的是 $1,3,4$。\n", "inputFormat": "第一行共两个正整数 $N,M$。\n\n第 $2$ 行至第 $M+1$ 行，每行有三个正整数 $a,b,t$。若 $t = 1$ 则表示存在从村庄 $a$ 到 $b$ 的单向道路，若 $t = 2$ 表示村庄 $a,b$ 之间存在双向通行的道路。保证每条道路只出现一次。\n", "outputFormat": "第一行输出 $1$ 个整数，表示最大的绝对连通区域包含的村庄个数。\n\n第二行输出若干个整数，依次输出最大的绝对连通区域所包含的村庄编号。\n", "hint": "- 对于 $60\\%$ 的数据，$1\\le N \\le 200$，且 $0\\le M \\le 10^4$；\n- 对于 $100\\%$ 的数据，$1\\le N \\le 5\\times 10^3$，且 $0\\le M \\le 5\\times 10^4$。", "locale": "zh-CN"}}}
{"pid": "P1727", "type": "P", "difficulty": 4, "samples": [["100", "3.\n1415926535 8979323846 2643383279 5028841971 6939937510\n5820974944 5923078164 0628620899 8628034825 3421170679"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 3000, 8000, 12000, 12000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "高精度", "洛谷原创"], "title": "计算π", "background": "《爱与愁的故事第二弹·compute》第一章。\n", "description": "中秋至，博饼声铿锵不断。爱与愁大神兴致勃勃地到学校博饼，结果抱回家的只有一秀二举。爱与愁大神十分生气，打电话给月落乌啼：“喂，帮我算出圆周率小数点后 $n(n \\le 10000)$ 位，速度……”然后就挂了电话，也不知道月落乌啼正准备去上课。月落乌啼只好请到了你，让你编一个程序求出圆周率小数点后 $n$ 位。\n", "inputFormat": "只有一行一个整数 $n$。\n", "outputFormat": "输出包含若干行。\n\n第一行一个字符串 $\\verb!3.!$；\n\n第二行开始输出圆周率的小数部分。$10$ 个数一个空格，$50$ 个数一次回车。\n", "hint": "对于 $30\\%$ 的数据，$n\\leq 10^3$。\n\n对于 $100\\%$ 的数据，$n\\leq 10^4$。\n\n时限：$1\\sim 6$ 点 $1$ 秒，$7$ 点 $3$ 秒，$8$ 点 $8$ 秒，$9\\sim 10$ 点 $12$ 秒。\n", "locale": "zh-CN", "translations": {"en": {"title": "Compute π", "background": "Chapter 1 of \"The Story of Ai Yu Chou, Part II · compute\".", "description": "As the Mid-Autumn Festival arrives, the clattering sounds of bo bing (博饼) are unceasing. Aiyuchou, excited to play bo bing at school, ends up bringing home only \"Yi Xiu\" and \"Er Ju\". Furious, Aiyuchou calls Yueluo Wuti: \"Hey, help me compute the digits of pi after the decimal point up to $n(n \\le 10000)$ places, quickly...\" and hangs up, not knowing Yueluo Wuti was about to go to class. Yueluo Wuti then turns to you, asking you to write a program to compute the digits of pi after the decimal point up to $n$ places.", "inputFormat": "One line containing an integer $n$.", "outputFormat": "The output contains multiple lines.\n\nOn the first line, print the string $\\verb!3.!$.\n\nStarting from the second line, output the fractional part of pi. Insert a space after every $10$ digits, and insert a newline after every $50$ digits.", "hint": "For $30\\%$ of the testdata, $n\\leq 10^3$.\n\nFor $100\\%$ of the testdata, $n\\leq 10^4$.\n\nTime limit: test points $1\\sim 6$: $1$ second; test point $7$: $3$ seconds; test point $8$: $8$ seconds; test points $9\\sim 10$: $12$ seconds.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "计算π", "background": "《爱与愁的故事第二弹·compute》第一章。\n", "description": "中秋至，博饼声铿锵不断。爱与愁大神兴致勃勃地到学校博饼，结果抱回家的只有一秀二举。爱与愁大神十分生气，打电话给月落乌啼：“喂，帮我算出圆周率小数点后 $n(n \\le 10000)$ 位，速度……”然后就挂了电话，也不知道月落乌啼正准备去上课。月落乌啼只好请到了你，让你编一个程序求出圆周率小数点后 $n$ 位。\n", "inputFormat": "只有一行一个整数 $n$。\n", "outputFormat": "输出包含若干行。\n\n第一行一个字符串 $\\verb!3.!$；\n\n第二行开始输出圆周率的小数部分。$10$ 个数一个空格，$50$ 个数一次回车。\n", "hint": "对于 $30\\%$ 的数据，$n\\leq 10^3$。\n\n对于 $100\\%$ 的数据，$n\\leq 10^4$。\n\n时限：$1\\sim 6$ 点 $1$ 秒，$7$ 点 $3$ 秒，$8$ 点 $8$ 秒，$9\\sim 10$ 点 $12$ 秒。\n", "locale": "zh-CN"}}}
{"pid": "P1728", "type": "P", "difficulty": 5, "samples": [["2\n3 3\n0 0 2 2\n2 1 4 3\n4 0 6 1\n0 0 2 2\n2 1 4 3\n0 2 2 3\n3 3\n0 0 2 2\n2 1 4 3\n4 0 6 1\n2 1 4 3\n0 0 2 2\n4 0 6 1", "TAK\nNIE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["2014", "PA（波兰）"], "title": "[PA 2014] Parking", "background": "", "description": "你的老板命令你将停车场里的车移动成他想要的样子。\n\n停车场是一个长条矩形，宽度为 $w$。我们以其左下角顶点为原点，坐标轴平行于矩形的边，建立直角坐标系。停车场很长，我们可以认为它一直向右边伸展到无穷远处。\n\n车都是边平行于坐标轴的矩形，大小可能不同。你可以将车任意地平移（但不能旋转），只要他们不超出停车场的边界，且不能互相碰撞，但紧挨着是允许的（即任意时刻任两辆车的重叠面积为 $0$）。\n\n你知道目前各辆车的摆放位置，以及老板心中所想的位置。你需要判断是否可以办到老板的任务。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xyv3nn7o.png)", "inputFormat": "第一行为一个整数 $t$，表示测试数据数量。\n\n对于每组测试数据，第一行两个整数 $n,w$，分别表示车的数量和停车场的宽度。\n\n接下来 $n$ 行，第 $i$ 行有四个整数 $x_1,y_1,x_2,y_2$，表示编号为 $i$ 的车的当前位置是由 $x_1,y_1,x_2,y_2$ 确定的矩形。\n\n（注意：数据有可能出现 $x_1>x_2$ 或 $y_1>y_2$）\n\n再接下来 $n$ 行，格式和意义同上，表示车的目标位置。", "outputFormat": "输出 $t$ 行，第 $i$ 行为 `TAK`（是）或 `NIE`（否），表示第 $i$ 组测试数据中能否按照要求进行移动。", "hint": "对于 $100\\%$ 的数据，$1\\le t\\le 20$，$1\\le n\\le 5\\times 10^4$，$1\\le w\\le 10^9$，$0\\le x_1,x_2\\le 10^9$，$0\\le y_1,y_2\\le w$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2014] Parking", "background": "", "description": "你的老板命令你将停车场里的车移动成他想要的样子。\n\n停车场是一个长条矩形，宽度为 $w$。我们以其左下角顶点为原点，坐标轴平行于矩形的边，建立直角坐标系。停车场很长，我们可以认为它一直向右边伸展到无穷远处。\n\n车都是边平行于坐标轴的矩形，大小可能不同。你可以将车任意地平移（但不能旋转），只要他们不超出停车场的边界，且不能互相碰撞，但紧挨着是允许的（即任意时刻任两辆车的重叠面积为 $0$）。\n\n你知道目前各辆车的摆放位置，以及老板心中所想的位置。你需要判断是否可以办到老板的任务。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xyv3nn7o.png)", "inputFormat": "第一行为一个整数 $t$，表示测试数据数量。\n\n对于每组测试数据，第一行两个整数 $n,w$，分别表示车的数量和停车场的宽度。\n\n接下来 $n$ 行，第 $i$ 行有四个整数 $x_1,y_1,x_2,y_2$，表示编号为 $i$ 的车的当前位置是由 $x_1,y_1,x_2,y_2$ 确定的矩形。\n\n（注意：数据有可能出现 $x_1>x_2$ 或 $y_1>y_2$）\n\n再接下来 $n$ 行，格式和意义同上，表示车的目标位置。", "outputFormat": "输出 $t$ 行，第 $i$ 行为 `TAK`（是）或 `NIE`（否），表示第 $i$ 组测试数据中能否按照要求进行移动。", "hint": "对于 $100\\%$ 的数据，$1\\le t\\le 20$，$1\\le n\\le 5\\times 10^4$，$1\\le w\\le 10^9$，$0\\le x_1,x_2\\le 10^9$，$0\\le y_1,y_2\\le w$。", "locale": "zh-CN"}}}
{"pid": "P1729", "type": "P", "difficulty": 4, "samples": [["100", "2.\n7182818284 5904523536 0287471352 6624977572 4709369995\n9574966967 6277240766 3035354759 4571382178 5251664274"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "高精度", "洛谷原创"], "title": "计算e", "background": "《爱与愁的故事第二弹·compute》最终章。\n\n自然对数的底数 $e$ 是一个著名的无理数，其近似值为 $2.718281828\\cdots$ 有计算 $e$ 的公式如下：\n\n$$e=\\sum_{n=0}^{\\infty}\\frac{1}{n!}$$\n\n其中 $n!$ 表示 $n$ 的阶乘，即 $n!=1\\times 2\\times 3\\times \\cdots \\times n$。\n", "description": "月落乌啼竟然这么快就回复了圆周率小数点后10000位？！不可能，他肯定求了别人。爱与愁大神再次为难月落乌啼：“帮我算一算 $e$ 后 $n(n \\le 10000)$ 位，速度！！！”月落乌啼想求别人，结果他发现由于刚才跟你通话已经用完了手机的所有电。关键时刻只能靠自己。如果现在你是他，你会怎么编这个程序？\n", "inputFormat": "只有一行：$n$\n", "outputFormat": "若干行。\n\n第一行：$2$.\n\n第二行开始：$e$ 的小数部分。$10$ 个数一个空格，$50$ 个数一次回车。\n", "hint": "$30\\%$ 数据：$n \\le 1000$  \n$100\\%$ 数据：$n \\le 10000$\n\n时限：全部1秒\n", "locale": "zh-CN", "translations": {"en": {"title": "Compute e", "background": "The final chapter of \"The Story of Love and Sorrow II · compute\".\n\nThe base of the natural logarithm $e$ is a famous irrational number, approximately $2.718281828\\cdots$. There is a formula to compute $e$:\n\n$$e=\\sum_{n=0}^{\\infty}\\frac{1}{n!}$$\n\nHere $n!$ denotes the factorial of $n$, that is, $n!=1\\times 2\\times 3\\times \\cdots \\times n$.", "description": "\"Yueluo Wuti\" actually replied with 10,000 digits after the decimal point of $\\pi$ so quickly?! Impossible—he must have asked someone. The master \"Love and Sorrow\" makes it difficult for \"Yueluo Wuti\" again: \"Help me compute the first $n$ digits after the decimal point of $e$ ($n \\le 10000$), hurry!!!\" \"Yueluo Wuti\" wants to ask someone, but he finds that talking to you just now has drained his phone battery. At this critical moment, he can only rely on himself. If you were him now, how would you write this program?", "inputFormat": "Only one line: $n$.", "outputFormat": "Multiple lines.\n\nFirst line: $2$.\n\nStarting from the second line: the fractional part of $e$. Insert a space after every 10 digits, and a newline after every 50 digits.", "hint": "30% testdata: $n \\le 1000$.  \n100% testdata: $n \\le 10000$.\n\nTime limit: 1 second.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "计算e", "background": "《爱与愁的故事第二弹·compute》最终章。\n\n自然对数的底数 $e$ 是一个著名的无理数，其近似值为 $2.718281828\\cdots$ 有计算 $e$ 的公式如下：\n\n$$e=\\sum_{n=0}^{\\infty}\\frac{1}{n!}$$\n\n其中 $n!$ 表示 $n$ 的阶乘，即 $n!=1\\times 2\\times 3\\times \\cdots \\times n$。\n", "description": "月落乌啼竟然这么快就回复了圆周率小数点后10000位？！不可能，他肯定求了别人。爱与愁大神再次为难月落乌啼：“帮我算一算 $e$ 后 $n(n \\le 10000)$ 位，速度！！！”月落乌啼想求别人，结果他发现由于刚才跟你通话已经用完了手机的所有电。关键时刻只能靠自己。如果现在你是他，你会怎么编这个程序？\n", "inputFormat": "只有一行：$n$\n", "outputFormat": "若干行。\n\n第一行：$2$.\n\n第二行开始：$e$ 的小数部分。$10$ 个数一个空格，$50$ 个数一次回车。\n", "hint": "$30\\%$ 数据：$n \\le 1000$  \n$100\\%$ 数据：$n \\le 10000$\n\n时限：全部1秒\n", "locale": "zh-CN"}}}
{"pid": "P1730", "type": "P", "difficulty": 5, "samples": [["3 3\n1 3 5\n2 1 6\n2 3 6\n2\n1 3\n2 3\n", "5.000\n5.500\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论"], "title": "最小密度路径", "background": null, "description": "给出一张有 $N$ 个点 $M$ 条边的加权有向无环图，接下来有 $Q$ 个询问，每个询问包括 $2$ 个节点 $X$ 和 $Y$，要求算出从 $X$ 到 $Y$ 的一条路径，使得密度最小（密度的定义为，路径上边的权值和除以边的数量）。", "inputFormat": "第一行包括两个整数 $N$ 和 $M$。\n\n以下 $M$ 行，每行三个数字 $A,B,W$，表示从 $A$ 到 $B$ 有一条权值为 $W$ 的有向边。\n\n再下一行有一个整数 $Q$。\n\n以下 $Q$ 行，每行一个询问 $X$ 和 $Y$，如题意所诉。", "outputFormat": "对于每个询问输出一行，表示该询问的最小密度路径的密度（保留 $3$ 位小数），如果不存在这么一条路径输出 ```OMG!```。", "hint": "**数据范围**\n\n$1 \\le N \\le 50$，$1 \\le M \\le 1000$，$1 \\le W \\le 10^5$，$1 \\le Q \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Minimum Density Path", "background": "", "description": "Given a weighted directed acyclic graph (DAG) with $N$ vertices and $M$ edges, followed by $Q$ queries. Each query consists of two vertices $X$ and $Y$. Compute a path from $X$ to $Y$ with minimum density, where density is defined as the sum of edge weights along the path divided by the number of edges.", "inputFormat": "The first line contains two integers $N$ and $M$.\nEach of the next $M$ lines contains three integers $A, B, W$, indicating there is a directed edge from $A$ to $B$ with weight $W$.\nThe next line contains an integer $Q$.\nEach of the next $Q$ lines contains a query with two vertices $X$ and $Y$, as described.", "outputFormat": "For each query, output one line containing the density of the minimum-density path, rounded to $3$ decimal places. If no such path exists, output ```OMG!```.", "hint": "Constraints\n\n$1 \\le N \\le 50$, $1 \\le M \\le 1000$, $1 \\le W \\le 10^5$, $1 \\le Q \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最小密度路径", "background": null, "description": "给出一张有 $N$ 个点 $M$ 条边的加权有向无环图，接下来有 $Q$ 个询问，每个询问包括 $2$ 个节点 $X$ 和 $Y$，要求算出从 $X$ 到 $Y$ 的一条路径，使得密度最小（密度的定义为，路径上边的权值和除以边的数量）。", "inputFormat": "第一行包括两个整数 $N$ 和 $M$。\n\n以下 $M$ 行，每行三个数字 $A,B,W$，表示从 $A$ 到 $B$ 有一条权值为 $W$ 的有向边。\n\n再下一行有一个整数 $Q$。\n\n以下 $Q$ 行，每行一个询问 $X$ 和 $Y$，如题意所诉。", "outputFormat": "对于每个询问输出一行，表示该询问的最小密度路径的密度（保留 $3$ 位小数），如果不存在这么一条路径输出 ```OMG!```。", "hint": "**数据范围**\n\n$1 \\le N \\le 50$，$1 \\le M \\le 1000$，$1 \\le W \\le 10^5$，$1 \\le Q \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1731", "type": "P", "difficulty": 4, "samples": [["100\n2\n", "68"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索", "1999", "NOI", "剪枝"], "title": "[NOI1999] 生日蛋糕", "background": "[数据加强版 link](https://www.luogu.com.cn/problem/T148457)", "description": "7 月 17 日是 Mr.W 的生日，ACM-THU 为此要制作一个体积为 $N\\pi$ 的 $M$ 层生日蛋糕，每层都是一个圆柱体。\n\n设从下往上数第 $i$（$1 \\leq i \\leq M$）层蛋糕是半径为 $R_i$，高度为 $H_i$ 的圆柱。当 $i \\lt M$ 时，要求 $R_i \\gt R_{i+1}$ 且 $H_i \\gt H_{i+1}$。\n\n由于要在蛋糕上抹奶油，为尽可能节约经费，我们希望蛋糕外表面（最下一层的下底面除外）的面积 $Q$ 最小。\n\n请编程对给出的 $N$ 和 $M$，找出蛋糕的制作方案（适当的 $R_i$ 和 $H_i$ 的值），使 $S=\\dfrac{Q}{\\pi}$ 最小。\n\n（除 $Q$ 外，以上所有数据皆为正整数）", "inputFormat": "第一行为一个整数 $N$（$N \\leq 2 \\times 10^4$），表示待制作的蛋糕的体积为 $N\\pi$。\n\n第二行为 $M$（$M \\leq 15$），表示蛋糕的层数为 $M$。", "outputFormat": "输出一个整数 $S$，若无解，输出 $0$。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[NOI1999] Birthday Cake", "background": "[Enhanced testdata link](https://www.luogu.com.cn/problem/T148457)", "description": "July 17 is Mr. W’s birthday. To celebrate, ACM-THU plans to make an $M$-layer birthday cake with volume $N\\pi$, where each layer is a cylinder.\n\nLet the $i$-th layer from bottom to top ($1 \\leq i \\leq M$) be a cylinder with radius $R_i$ and height $H_i$. For $i \\lt M$, it is required that $R_i \\gt R_{i+1}$ and $H_i \\gt H_{i+1}$.\n\nSince the cake needs to be frosted, to save cost as much as possible, we want the area $Q$ of the cake’s outer surface (excluding the bottom face of the lowest layer) to be minimized.\n\nGiven $N$ and $M$, write a program to find a construction of the cake (appropriate values of $R_i$ and $H_i$) that minimizes $S=\\dfrac{Q}{\\pi}$.\n\n(Except for $Q$, all the quantities above are positive integers.)", "inputFormat": "The first line contains an integer $N$ ($N \\leq 2 \\times 10^4$), indicating that the cake’s volume is $N\\pi$.\n\nThe second line contains $M$ ($M \\leq 15$), the number of layers of the cake.", "outputFormat": "Output an integer $S$. If there is no solution, output $0$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI1999] 生日蛋糕", "background": "[数据加强版 link](https://www.luogu.com.cn/problem/T148457)", "description": "7 月 17 日是 Mr.W 的生日，ACM-THU 为此要制作一个体积为 $N\\pi$ 的 $M$ 层生日蛋糕，每层都是一个圆柱体。\n\n设从下往上数第 $i$（$1 \\leq i \\leq M$）层蛋糕是半径为 $R_i$，高度为 $H_i$ 的圆柱。当 $i \\lt M$ 时，要求 $R_i \\gt R_{i+1}$ 且 $H_i \\gt H_{i+1}$。\n\n由于要在蛋糕上抹奶油，为尽可能节约经费，我们希望蛋糕外表面（最下一层的下底面除外）的面积 $Q$ 最小。\n\n请编程对给出的 $N$ 和 $M$，找出蛋糕的制作方案（适当的 $R_i$ 和 $H_i$ 的值），使 $S=\\dfrac{Q}{\\pi}$ 最小。\n\n（除 $Q$ 外，以上所有数据皆为正整数）", "inputFormat": "第一行为一个整数 $N$（$N \\leq 2 \\times 10^4$），表示待制作的蛋糕的体积为 $N\\pi$。\n\n第二行为 $M$（$M \\leq 15$），表示蛋糕的层数为 $M$。", "outputFormat": "输出一个整数 $S$，若无解，输出 $0$。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1732", "type": "P", "difficulty": 2, "samples": [["2\n5 1 2 3 4 5\n7 2 9 7 4 6 2 6\n", "5\n14\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2011", "各省省选", "天津"], "title": "[TJOI2011] 序列", "background": "", "description": "一数列 $A=\\{a_1,a_2,\\ldots,a_n\\}$，根据数列 $A$ 计算数列 $B=\\{b_1,b_2,\\ldots,b_n\\}$，其中：  \n\n$$\nb_i=\n\\begin{cases}\na_1 &, i=1 \\\\ \n\\min_{1 \\leq j < i}\\left|a_i-a_j\\right| &, i\\gt 1 \n\\end{cases}\n$$\n\n求 $\\sum\\limits^n_{i=1}b_i$。", "inputFormat": "第一行是一个正整数 $T$，表示测试数据的组数。接下来有 $T$ 行，每行表示一组测试数据。每行以一个正整数 $n$ 开始，表示数列 $A$ 中元素的个数；然后是 $n$ 个非负整数，依次表示 $a_1,a_2,\\ldots,a_n$ 的值。", "outputFormat": "对于每组测试数据，输出数列 $B$ 的所有的元素之和。", "hint": "$1\\le t\\le 10$，$1\\le n\\le10^5$，$0\\le a_i\\le65536$。", "locale": "zh-CN", "translations": {"en": {"title": "[TJOI2011] Sequence", "background": "", "description": "Given a sequence $A=\\{a_1,a_2,\\ldots,a_n\\}$, compute the sequence $B=\\{b_1,b_2,\\ldots,b_n\\}$ from $A$, where:\n$$\nb_i=\n\\begin{cases}\na_1 &, i=1 \\\\ \n\\min_{1 \\leq j < i}\\left|a_i-a_j\\right| &, i\\gt 1 \n\\end{cases}\n$$\nFind $\\sum\\limits^n_{i=1}b_i$.", "inputFormat": "The first line contains a positive integer $T$, the number of testdata sets. Then there are $T$ lines, each describing one set of testdata. Each line starts with a positive integer $n$, the number of elements in sequence $A$; then follow $n$ non-negative integers, which are $a_1,a_2,\\ldots,a_n$ in order.", "outputFormat": "For each testdata set, output the sum of all elements of sequence $B$.", "hint": "Constraints: $1\\le t\\le 10$, $1\\le n\\le10^5$, $0\\le a_i\\le65536$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[TJOI2011] 序列", "background": "", "description": "一数列 $A=\\{a_1,a_2,\\ldots,a_n\\}$，根据数列 $A$ 计算数列 $B=\\{b_1,b_2,\\ldots,b_n\\}$，其中：  \n\n$$\nb_i=\n\\begin{cases}\na_1 &, i=1 \\\\ \n\\min_{1 \\leq j < i}\\left|a_i-a_j\\right| &, i\\gt 1 \n\\end{cases}\n$$\n\n求 $\\sum\\limits^n_{i=1}b_i$。", "inputFormat": "第一行是一个正整数 $T$，表示测试数据的组数。接下来有 $T$ 行，每行表示一组测试数据。每行以一个正整数 $n$ 开始，表示数列 $A$ 中元素的个数；然后是 $n$ 个非负整数，依次表示 $a_1,a_2,\\ldots,a_n$ 的值。", "outputFormat": "对于每组测试数据，输出数列 $B$ 的所有的元素之和。", "hint": "$1\\le t\\le 10$，$1\\le n\\le10^5$，$0\\le a_i\\le65536$。", "locale": "zh-CN"}}}
{"pid": "P1733", "type": "P", "difficulty": 2, "samples": [], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["二分", "交互题", "Special Judge"], "title": "猜数（IO交互版）", "background": "", "description": "评测机会在区间 $[1,10^9]$ 中选择一个整数，你应该写一个代码来猜测它。你最多可以问评测机 $50$ 个问题。\n\n对于每一次询问，你可以向评测机询问区间 $[1,10^9]$ 中的一个整数，评测机会返回:\n\n - $0$，如果它为答案（即评测机所选的数字），且程序应该在此之后停止询问。\n - $-1$，如果它小于答案。\n - $1$，如果它大于答案。\n \n每次询问，你需要向**标准输出**输出一个 $[1,10^9]$ 中的整数，**然后输出一个换行并清空缓冲区**。\n\n你可以使用如下语句来清空缓冲区：\n\n- 对于 C/C++：`fflush(stdout)`；\n- 对于 C++：`std::cout << std::flush`；\n- 对于 Java：`System.out.flush()`；\n- 对于 Python：`stdout.flush()`；\n- 对于 Pascal：`flush(output)`；\n- 对于其他语言，请自行查阅对应语言的帮助文档。\n\n特别的，对于 C++ 语言，在输出换行时如果你使用 `std::endl` 而不是 `'\\n'`，也可以自动刷新缓冲区。**建议使用`std::endl`以避免忘记输出换行。**\n\n然后你需要从**标准输入**中输入一个整数，代表评测机返回的结果。", "inputFormat": "", "outputFormat": "", "hint": "#### 数据规模与约定\n\n设 $n$ 为答案。\n\n- 对于 $50\\%$ 的数据，保证 $n \\leq 51$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^9$。\n\n[本题交互库](https://www.luogu.com.cn/paste/uaece7av)。\n\n#### 提示\n\n本题参考程序：\n\n```cpp\n#include <cstdio>\n#include <iostream>\n\nint main() {\n  for (int l = 1, r = 1000000000, mid = (l + r) >> 1, res; l <= r; mid = (l + r) >> 1) {\n    std::cout << mid << std::endl;\n    std::cin >> res;\n    if (res == 0) {\n      return 0;\n    } else if (res == -1) {\n      l = mid + 1;\n    } else if (res == 1) {\n      r = mid - 1;\n    } else {\n      puts(\"OvO, I AK IOI\"); // this statement will never be executed.\n    }\n  }\n  return 0;\n}\n```", "locale": "zh-CN", "translations": {"en": {"title": "Guess the Number (Interactive I/O Version)", "background": "", "description": "The judge will choose an integer in the range $[1,10^9]$. You should write a program to guess it. You may ask at most $50$ questions.\n\nFor each query, you may ask the judge about one integer in $[1,10^9]$. The judge returns:\n- $0$, if it is the answer (i.e., the number chosen by the judge), after which the program must stop querying.\n- $-1$, if it is less than the answer.\n- $1$, if it is greater than the answer.\n\nFor each query, you must print to standard output an integer in $[1,10^9]$, then print a newline and flush the output buffer.\n\nYou can flush the buffer using:\n- For C/C++: `fflush(stdout)`.\n- For C++: `std::cout << std::flush`.\n- For Java: `System.out.flush()`.\n- For Python: `stdout.flush()`.\n- For Pascal: `flush(output)`.\n- For other languages, please refer to the corresponding documentation.\n\nIn particular, for C++, if you use `std::endl` instead of `'\\n'` when printing a newline, the buffer will also be flushed automatically. It is recommended to use `std::endl` to avoid forgetting the newline.\n\nThen you need to read an integer from standard input, which represents the judge’s response.", "inputFormat": "", "outputFormat": "# Hint\n\n#### Constraints\n\nLet $n$ be the answer.\n\n- For $50\\%$ of the testdata, it is guaranteed that $n \\leq 51$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^9$.\n\n[Interactive library for this problem](https://www.luogu.com.cn/paste/uaece7av).\n\n###", "hint": "#### Constraints\n\nLet $n$ be the answer.\n\n- For $50\\%$ of the testdata, it is guaranteed that $n \\leq 51$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n \\leq 10^9$.\n\n[Interactive library for this problem](https://www.luogu.com.cn/paste/uaece7av).\n\n#### Hint\n\nReference program for this problem:\n\n```cpp\n#include <cstdio>\n#include <iostream>\n\nint main() {\n  for (int l = 1, r = 1000000000, mid = (l + r) >> 1, res; l <= r; mid = (l + r) >> 1) {\n    std::cout << mid << std::endl;\n    std::cin >> res;\n    if (res == 0) {\n      return 0;\n    } else if (res == -1) {\n      l = mid + 1;\n    } else if (res == 1) {\n      r = mid - 1;\n    } else {\n      puts(\"OvO, I AK IOI\"); // this statement will never be executed.\n    }\n  }\n  return 0;\n}\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "猜数（IO交互版）", "background": "", "description": "评测机会在区间 $[1,10^9]$ 中选择一个整数，你应该写一个代码来猜测它。你最多可以问评测机 $50$ 个问题。\n\n对于每一次询问，你可以向评测机询问区间 $[1,10^9]$ 中的一个整数，评测机会返回:\n\n - $0$，如果它为答案（即评测机所选的数字），且程序应该在此之后停止询问。\n - $-1$，如果它小于答案。\n - $1$，如果它大于答案。\n \n每次询问，你需要向**标准输出**输出一个 $[1,10^9]$ 中的整数，**然后输出一个换行并清空缓冲区**。\n\n你可以使用如下语句来清空缓冲区：\n\n- 对于 C/C++：`fflush(stdout)`；\n- 对于 C++：`std::cout << std::flush`；\n- 对于 Java：`System.out.flush()`；\n- 对于 Python：`stdout.flush()`；\n- 对于 Pascal：`flush(output)`；\n- 对于其他语言，请自行查阅对应语言的帮助文档。\n\n特别的，对于 C++ 语言，在输出换行时如果你使用 `std::endl` 而不是 `'\\n'`，也可以自动刷新缓冲区。**建议使用`std::endl`以避免忘记输出换行。**\n\n然后你需要从**标准输入**中输入一个整数，代表评测机返回的结果。", "inputFormat": "", "outputFormat": "", "hint": "#### 数据规模与约定\n\n设 $n$ 为答案。\n\n- 对于 $50\\%$ 的数据，保证 $n \\leq 51$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 10^9$。\n\n[本题交互库](https://www.luogu.com.cn/paste/uaece7av)。\n\n#### 提示\n\n本题参考程序：\n\n```cpp\n#include <cstdio>\n#include <iostream>\n\nint main() {\n  for (int l = 1, r = 1000000000, mid = (l + r) >> 1, res; l <= r; mid = (l + r) >> 1) {\n    std::cout << mid << std::endl;\n    std::cin >> res;\n    if (res == 0) {\n      return 0;\n    } else if (res == -1) {\n      l = mid + 1;\n    } else if (res == 1) {\n      r = mid - 1;\n    } else {\n      puts(\"OvO, I AK IOI\"); // this statement will never be executed.\n    }\n  }\n  return 0;\n}\n```", "locale": "zh-CN"}}}
{"pid": "P1734", "type": "P", "difficulty": 2, "samples": [["11", "9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "背包 DP"], "title": "最大约数和", "background": "", "description": "选取和不超过 $S$ 的若干个不同的正整数，使得所有数的约数（不含它本身）之和最大。", "inputFormat": "输入一个正整数 $S$。", "outputFormat": "输出最大的约数之和。\n", "hint": "**【样例说明】**\n\n取数字 $4$ 和 $6$，可以得到最大值 $(1+2)+(1+2+3)=9$。\n\n**【数据规模】**\n\n对于 $100 \\%$ 的数据，$1 \\le S \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Maximum Sum of Divisors", "background": "", "description": "Select several distinct positive integers whose total sum does not exceed $S$, so that the sum of the proper divisors (excluding the number itself) of all selected numbers is maximized.", "inputFormat": "Input a positive integer $S$.", "outputFormat": "Output the maximum possible sum of proper divisors.", "hint": "【Sample Explanation】\n\nChoose the numbers $4$ and $6$ to obtain the maximum value $(1+2)+(1+2+3)=9$.\n\n【Constraints】\n\nFor $100\\%$ of the testdata, $1 \\le S \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最大约数和", "background": "", "description": "选取和不超过 $S$ 的若干个不同的正整数，使得所有数的约数（不含它本身）之和最大。", "inputFormat": "输入一个正整数 $S$。", "outputFormat": "输出最大的约数之和。\n", "hint": "**【样例说明】**\n\n取数字 $4$ 和 $6$，可以得到最大值 $(1+2)+(1+2+3)=9$。\n\n**【数据规模】**\n\n对于 $100 \\%$ 的数据，$1 \\le S \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1735", "type": "P", "difficulty": 3, "samples": [["3\nA*C\n*AC\nACA", "No answer"], ["3\nAAA\nCAA\nAAA", "3\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["搜索"], "title": "字母迷宫", "background": "", "description": "打败了 DIABLO，Mini 进入了迷宫。这是个奇怪的迷宫，迷宫的每一个地点要么有一个用来传送的门，要么是障碍。Mini 现在站在迷宫的原点处，但是眼看远在 $(N,N)$ 的公主就要被转移，Mini 心情焦急万分，为了能最快地到达公主处救出公主，Mini 希望能走一条最快的路径。注意，Mini 可以把迷宫的 $(1,1)$ 或 $(1,N)$ 或 $(N,1)$ 处当作原点。\n\n迷宫里，某些地点会有门，将门激活，Mini 就会被传送到某个地点，当然，魔王 Bill 只创造了三种门，所以迷宫里最多有就只有三种门，而且在这个迷宫中要到达下一个点必须通过门。。（什么逻辑 TUT。。）\n\n在迷宫中，可能会遇到的三种门分别如下：\n\n- 时空之门，Mini 可以往上下左右四个方向中的任意一个方向传送一格；\n- 海洋之门，Mini 可以往上下左右四个方向中的任意一个方向传送两格；\n- 天堂之门，Mini 需要停留一步，聚气，然后可以往左上左下右上右下四个方向中的任意一个方向传送一格。\n\n当然，使用每一个门都算作一步。\n\n当然还有障碍，如果有障碍，那么这个点没有门且这个点不能被传送到。\n\n但是，魔王 Bill 有可能创造出了一个完全无法到达 $(N,N)$ 的迷宫，所以，当从三个原点出发都无法到达 $(N,N)$ 时，请输出 `No answer`。注意，原点算作一步（Mini 一开始站在 $(1,1)$ 或 $(1,N)$ 或 $(N,1)$ 的位置，然后走一步到原点，所以原点算作一步）。\n", "inputFormat": "第一行一个数 $N$，表示迷宫的大小 $N\\times N$。\n\n以下 $N$ 行，每行 $N$ 个字符，表示迷宫的示意图。字符要么是字母 ABC，要么是障碍。\n\nA 表示时空之门，B 表示海洋之门，C 表示天堂之门，障碍用 $*$ 表示。", "outputFormat": "输出为 Mini 从原点处走到公主处的最快路径长度。无解输出 `No answer`。", "hint": "对于 $100\\%$ 的数据，$0\\le N\\le 1200$。", "locale": "zh-CN", "translations": {"en": {"title": "Letter Maze", "background": "", "description": "After defeating DIABLO, Mini enters a maze. This is a strange maze where every cell either has a teleporting door or is an obstacle. Mini now stands at the origin of the maze, but seeing that the princess far away at $(N,N)$ is about to be moved, Mini is extremely anxious and wants to take the fastest route to reach her. Note that Mini may treat $(1,1)$ or $(1,N)$ or $(N,1)$ as the origin.\n\nIn the maze, some cells have doors. When a door is activated, Mini will be teleported to another cell. Bill, the demon king, created only three kinds of doors, so there are at most three types of doors in the maze. In this maze, every move to the next cell must be made by using a door.\n\nThe three types of doors are as follows:\n- Spacetime Door: Mini can teleport one cell in any of the four directions: up, down, left, or right.\n- Ocean Door: Mini can teleport two cells in any of the four orthogonal directions.\n- Heaven Door: Mini needs to stay for one step to charge, then can teleport one cell in any of the four diagonal directions: up-left, down-left, up-right, or down-right.\n\nUsing any door counts as one step.\n\nThere are also obstacles. If a cell has an obstacle, then that cell has no door and cannot be teleported onto.\n\nHowever, Bill may have created a maze where $(N,N)$ is completely unreachable. Therefore, if starting from all three origins still cannot reach $(N,N)$, please output `No answer`. Note that the origin counts as one step (Mini starts at $(1,1)$ or $(1,N)$ or $(N,1)$, then takes one step to the origin, so the origin counts as one step).", "inputFormat": "The first line contains an integer $N$, denoting the size $N \\times N$ of the maze.\n\nThe next $N$ lines each contain $N$ characters describing the maze. Each character is either a letter among A, B, C, or an obstacle.\n\nA denotes a Spacetime Door, B denotes an Ocean Door, C denotes a Heaven Door, and an obstacle is denoted by `*`.", "outputFormat": "Output the length of the fastest path for Mini to reach the princess from the chosen origin. If there is no solution, output `No answer`.", "hint": "For $100\\%$ of the testdata, $0 \\le N \\le 1200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "字母迷宫", "background": "", "description": "打败了 DIABLO，Mini 进入了迷宫。这是个奇怪的迷宫，迷宫的每一个地点要么有一个用来传送的门，要么是障碍。Mini 现在站在迷宫的原点处，但是眼看远在 $(N,N)$ 的公主就要被转移，Mini 心情焦急万分，为了能最快地到达公主处救出公主，Mini 希望能走一条最快的路径。注意，Mini 可以把迷宫的 $(1,1)$ 或 $(1,N)$ 或 $(N,1)$ 处当作原点。\n\n迷宫里，某些地点会有门，将门激活，Mini 就会被传送到某个地点，当然，魔王 Bill 只创造了三种门，所以迷宫里最多有就只有三种门，而且在这个迷宫中要到达下一个点必须通过门。。（什么逻辑 TUT。。）\n\n在迷宫中，可能会遇到的三种门分别如下：\n\n- 时空之门，Mini 可以往上下左右四个方向中的任意一个方向传送一格；\n- 海洋之门，Mini 可以往上下左右四个方向中的任意一个方向传送两格；\n- 天堂之门，Mini 需要停留一步，聚气，然后可以往左上左下右上右下四个方向中的任意一个方向传送一格。\n\n当然，使用每一个门都算作一步。\n\n当然还有障碍，如果有障碍，那么这个点没有门且这个点不能被传送到。\n\n但是，魔王 Bill 有可能创造出了一个完全无法到达 $(N,N)$ 的迷宫，所以，当从三个原点出发都无法到达 $(N,N)$ 时，请输出 `No answer`。注意，原点算作一步（Mini 一开始站在 $(1,1)$ 或 $(1,N)$ 或 $(N,1)$ 的位置，然后走一步到原点，所以原点算作一步）。\n", "inputFormat": "第一行一个数 $N$，表示迷宫的大小 $N\\times N$。\n\n以下 $N$ 行，每行 $N$ 个字符，表示迷宫的示意图。字符要么是字母 ABC，要么是障碍。\n\nA 表示时空之门，B 表示海洋之门，C 表示天堂之门，障碍用 $*$ 表示。", "outputFormat": "输出为 Mini 从原点处走到公主处的最快路径长度。无解输出 `No answer`。", "hint": "对于 $100\\%$ 的数据，$0\\le N\\le 1200$。", "locale": "zh-CN"}}}
{"pid": "P1736", "type": "P", "difficulty": 4, "samples": [["4 6\n0 1 0 1 0 0\n0 0 1 0 1 0\n1 1 0 0 0 1\n0 1 1 0 1 0\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "搜索", "递推"], "title": "创意吃鱼法", "background": "感谢@throusea 贡献的两组数据", "description": "回到家中的猫猫把三桶鱼全部转移到了她那长方形大池子中，然后开始思考：到底要以何种方法吃鱼呢（猫猫就是这么可爱，吃鱼也要想好吃法 ^\\_\\*）。她发现，把大池子视为 $01$ 矩阵（$0$ 表示对应位置无鱼，$1$ 表示对应位置有鱼）有助于决定吃鱼策略。\n\n在代表池子的 $01$ 矩阵中，有很多的正方形子矩阵，如果某个正方形子矩阵的某条对角线上都有鱼，且此正方形子矩阵的其他地方无鱼，猫猫就可以从这个正方形子矩阵“对角线的一端”下口，只一吸，就能把对角线上的那一队鲜鱼吸入口中。\n\n猫猫是个贪婪的家伙，所以她想一口吃掉尽量多的鱼。请你帮猫猫计算一下，她一口下去，最多可以吃掉多少条鱼？\n", "inputFormat": "第一行有两个整数 $n$ 和 $m$（$n,m≥1$），描述池塘规模。接下来的 $n$ 行，每行有 $m$ 个数字（非 $0$ 即 $1$）。每两个数字之间用空格隔开。\n\n", "outputFormat": "只有一个整数——猫猫一口下去可以吃掉的鱼的数量，占一行，行末有回车。\n", "hint": "右上角的\n```\n1 0 0\n0 1 0\n0 0 1\n```\n\n### 数据范围及约定\n\n\n- 对于 $30\\%$ 的数据，有 $1\\le n,m\\le 100$；\n- 对于 $60\\%$ 的数据，有 $1\\le n,m\\le 1000$；\n- 对于 $100\\%$ 的数据，有 $1\\le n,m\\le 2500$。", "locale": "zh-CN", "translations": {"en": {"title": "Creative Way to Eat Fish", "background": "Thanks to @throusea for contributing two sets of testdata.", "description": "After returning home, the cat moved all the fish from three buckets into her large rectangular pool and began to think: what method should she use to eat the fish (the cat is so cute—she even wants to figure out a tasty way to eat fish ^_*)? She finds that viewing the big pool as a $01$ matrix ($0$ means the corresponding cell has no fish, $1$ means there is a fish) helps decide her eating strategy.\n\nIn the $01$ matrix representing the pool, there are many square submatrices. If, in some square submatrix, one of its diagonals has fish in every cell and all other cells in that submatrix have no fish, then the cat can start from one end of that diagonal and, with a single suck, pull all the fish on that diagonal into her mouth.\n\nThe cat is greedy, so she wants to eat as many fish as possible in one bite. Please help her compute the maximum number of fish she can eat in a single bite.", "inputFormat": "The first line contains two integers $n$ and $m$ ($n,m≥1$), describing the size of the pool. The next $n$ lines each contain $m$ numbers (each is either $0$ or $1$). Adjacent numbers are separated by spaces.", "outputFormat": "Output a single integer—the number of fish the cat can eat in one bite—on one line, followed by a newline.", "hint": "For example, a $3\\times 3$ square submatrix with fish only along a diagonal:\n```\n1 0 0\n0 1 0\n0 0 1\n```\n\n### Constraints\n\n- For $30\\%$ of the testdata, $1\\le n,m\\le 100$.\n- For $60\\%$ of the testdata, $1\\le n,m\\le 1000$.\n- For $100\\%$ of the testdata, $1\\le n,m\\le 2500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "创意吃鱼法", "background": "感谢@throusea 贡献的两组数据", "description": "回到家中的猫猫把三桶鱼全部转移到了她那长方形大池子中，然后开始思考：到底要以何种方法吃鱼呢（猫猫就是这么可爱，吃鱼也要想好吃法 ^\\_\\*）。她发现，把大池子视为 $01$ 矩阵（$0$ 表示对应位置无鱼，$1$ 表示对应位置有鱼）有助于决定吃鱼策略。\n\n在代表池子的 $01$ 矩阵中，有很多的正方形子矩阵，如果某个正方形子矩阵的某条对角线上都有鱼，且此正方形子矩阵的其他地方无鱼，猫猫就可以从这个正方形子矩阵“对角线的一端”下口，只一吸，就能把对角线上的那一队鲜鱼吸入口中。\n\n猫猫是个贪婪的家伙，所以她想一口吃掉尽量多的鱼。请你帮猫猫计算一下，她一口下去，最多可以吃掉多少条鱼？\n", "inputFormat": "第一行有两个整数 $n$ 和 $m$（$n,m≥1$），描述池塘规模。接下来的 $n$ 行，每行有 $m$ 个数字（非 $0$ 即 $1$）。每两个数字之间用空格隔开。\n\n", "outputFormat": "只有一个整数——猫猫一口下去可以吃掉的鱼的数量，占一行，行末有回车。\n", "hint": "右上角的\n```\n1 0 0\n0 1 0\n0 0 1\n```\n\n### 数据范围及约定\n\n\n- 对于 $30\\%$ 的数据，有 $1\\le n,m\\le 100$；\n- 对于 $60\\%$ 的数据，有 $1\\le n,m\\le 1000$；\n- 对于 $100\\%$ 的数据，有 $1\\le n,m\\le 2500$。", "locale": "zh-CN"}}}
{"pid": "P1737", "type": "P", "difficulty": 7, "samples": [["1", "I\n+ 1 1\n- 2\nI\n+ 4 4\n- 5\n+ 3 6\n- 7\n- 8\nO 9\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2016", "NOI", "提交答案", "Special Judge"], "title": "[NOI2016] 旷野大计算", "background": "**提示：若是使用“提交代码”的方式进行提交，在评测时会给程序输入一个数字（1, 2, 3, ..., 10）表示测试点编号，请在程序中直接输出对应测试点的答案。**\n", "description": "随着人类计算机技术的发展，计算机的能力不断提升，让跳蚤国王非常羡慕。\n\n终于有一天，跳蚤国王发布政令：大力发展跳蚤国的计算机产业！然而，跳蚤国尚未进行工业革命，无法制造出电子计算机所需的元器件。但是跳蚤国王想出了一个绝妙的想法：把每只跳蚤作为一个计算节点，每只跳蚤只完成一个特定的小任务。\n\n跳蚤国王带领 $n$ 只跳蚤来到了一片旷野上，把跳蚤作为计算节点在旷野上排列好，并编号为 $1$ 到 $n$。每个计算节点会把某几个（也有可能是 $0$ 个）计算节点的结果作为输入，计算得到输出。除此之外，跳蚤国王还有一个巨型的终端，可以从终端输入和输出数据，这台终端和所有计算节点组成了一台计算机。\n\n记第 $t$ 个计算节点的输出为 $x_t$，该节点的操作可分为以下几种类型：\n\n::cute-table{tuack}\n\n| 名称 | 操作符（类型） | 操作数 | 计算结果 |\n|-|-|-|-|\n| 输入节点 | `I` | 无 | 从终端读入一个实数作为 $x_t$ |\n| 输出节点 | `O` | $i$ | $x_t = x_i$，并将 $x_t$ 输出到终端 |\n| 加法节点 | `+` | $i,j$ | $x_t = x_i+x_j$ |\n| 偏移节点 | `C` | $i,c$ | $x_t=x_i+c$ |\n| 取反节点 | `-` | $i$ | $x_t=-x_i$ |\n| 左移节点 | `<` | $i,k$ | $x_t=x_i\\cdot 2^k$ |\n| 右移节点 | `>` | $i,k$ | $x_t=x_i\\cdot 2^{-k}$ |\n| S 型节点 | `S` | $i$ | $x_t=s(x_i)$ |\n| 比较节点 | `P` | $i,j$ | $x_t=\\begin{cases}-1 &x_i<x_j\\\\ 0 &x_i=x_j\\\\1 &x_i>x_j\\\\\\end{cases}$|\n| Max 节点 | `M` | $i,j$ | $x_t=\\begin{cases}x_i &x_i>x_j\\\\x_j &x_i \\leq x_j\\end{cases}$ |\n| 乘法节点 | `*` | $i,j$ | $x_t=x_i \\cdot x_j$ | \n\n其中，$s(x)$ 的定义如下：（$e$ 为自然常数,其值约为 $2.718281828459045\\ldots$）\n\n$$s\\left ( x \\right )=\\frac{1}{1+e^{-x}}$$\n\n$s(x)$ 的函数图像如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fnscfgzu.png)\n\n上述表格中的操作数 $i,j$ 均要小于当前节点的编号 $t$，这样随着跳蚤国王的一声令下，跳蚤就可以按编号从小到大的顺序，依次获得输入然后计算输出。每个跳蚤的计算能力都是有限的，他们仅可以精确到十进制小数点后 $90$ 位，超过的部分将会被四舍五入。同理，上述表格中的操作数 $c$ 的小数部分也不能超过 $90$ 位。另外，左移节点和右移节点中的操作数 $k$ 必须是非负整数，且不能超过 $10^4$。\n\n把跳蚤排列好后，野心勃勃的跳蚤国王决心测试一下这台由跳蚤组成的计算机的计算能力，于是蝈蝈大臣给跳蚤国王献上了十个计算任务。完成每个计算任务均需要从终端获取输入，进行中间计算，再用输出节点将结果输出。具体任务说明如下：\n\n::cute-table{tuack}\n\n| 编号 | 输入 | 输入限制 | 输出 |\n|-|-|-|-|\n| $1$ | $a,b$ | $\\lvert a \\rvert, \\lvert b \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $-2a-2b$ |\n| $2$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\dfrac{1}{1+e^{17a}}$ |\n| $3$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\begin{cases}-1 & a \\lt 0 \\\\ 0 & a = 0 \\\\ 1 & a \\gt 0\\end{cases}$ |\n| $4$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\lvert a \\rvert$，即 $a$ 的绝对值 |\n| $5$ | $a_1, \\dots, a_{32}$ | $a_1, \\dots, a_{32} \\in \\{0, 1\\}$ | 把 $a_1, \\dots, a_{32}$ 从左到右看成一个二进制整数，高位在左低位在右，输出该整数的值 |\n| $6$ | $a$ | $0 \\le a \\lt 2^{32}$，$a$ 为整数 | 输出 $32$ 个整数，从高位到低位输出 $a$ 的二进制表示（不足 $32$ 位的在高位补 $0$） |\n| $7$ | $a,b$ | $0 \\le a, b \\lt 2^{32}$，$a,b$ 均为整数 | $a, b$ 按位异或的结果 |\n| $8$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\dfrac{a}{10}$ |\n| $9$ | $a_1, \\dots, a_{16}$ | $\\lvert a_1 \\rvert, \\dots, \\lvert a_{16} \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | 输出 $16$ 个实数，表示 $a_1, \\dots, a_{16}$ 从小到大排序后的结果 |\n| $10$ | $a,b,m$ | $0 \\le a, b \\lt 2^{32}$，$1 \\le m \\lt 2^{32}$，$a,b,m$ 均为整数 | $a \\cdot b$ 除以 $m$ 的余数 | \n\n跳蚤国王发现自己没有足够的能力设计这样的计算机。于是他找到了来参加 NOI 的你。请你依次设计每个计算节点的类型及操作数，完成蝈蝈大臣给的这 10 个计算任务，且要求使用的计算节点数尽量少。", "inputFormat": "所有输入数据 `nodes1.in` $\\sim$ `nodes10.in`，分别对应 10 个计算任务。\n\n每组输入数据仅包含一个整数，表示需要解决的计算任务编号。\n\n因只供评测机内部使用，洛谷不提供本题输入数据的下载，若有需要请自行生成。", "outputFormat": "输出文件为 `nodes1.out` $\\sim$ `nodes10.out`，分别对应相应的输入文件。\n\n对于每组输入数据，你需要依次输出若干行，第 $i$ 行描述第 $i$ 个计算节点。\n\n描述每个计算节点时，首先一个字符表示该计算节点的类型，接下来若干个数按顺序表示该计算节点的内置参数。字符与数，数与数之间均用空格隔开。\n\n输出的行数不能超过 $10^4$ 行。", "hint": "该样例输出为第一个计算任务一个可能的构造。共用了 $10$ 个计算节点，可获得 $3$ 分。\n\n我们提供了十个评分文件 `nodes1.ans` $\\sim$ `nodes10.ans`，分别对应每个计算任务。\n\n每个评分文件共 $10$ 行，第 $i$ 行一个评分参数 $w_i$，具体意义将在下面给出。\n\n本题中，每个测试点单独进行评分，每个测试点 $10$ 分。\n\n如果选手的输出格式不合法或者参数不符合题目约定,则得 $0$ 分。\n\n否则，按照以下规则判定选手的输出是否正确：\n\n- 首先测评器会生成若干组输入数据，并将输入数据代入你构造的计算机。\n- 如果在代入某一组输入数据时：你构造的计算机的计算过程中，某个计算节点的计算结果的绝对值超过 $10^{1000}$，则得 $0$ 分；\n- 你构造的计算机的输出中的某个值与预期的输出值相差超过 $10^{-9}$，则认为你的输出不正确，得 $0$ 分。\n- 否则，我们认为你的计算机能完成给定的计算任务，并按照以下规则得分。\n\n对于每个测试点，我们设置了 $10$ 个评分参数 $w_1$,$w_2$,$w_3$,…,$w_9$,$w_{10}$。\n\n假设共使用了 $n$ 个计算节点,你的分数将会由下表给出：\n\n::cute-table{tuack}\n\n | 得分 | 条件 | 得分 | 条件 |\n| :----------: | :----------: | :----------: | :----------: |\n| 10 | $n≤w_{10}$ | 5 | $n≤w_5$ |\n| 9 | $n≤w_9$ | 4 | $n≤w_4$ |\n| 8 | $n≤w_8$ | 3 | $n≤w_3$ |\n| 7 | $n≤w_7$ | 2 | $n≤w_2$ |\n| 6 | $n≤w_6$ | 1 | $n≤w_1$ |\n\n若不符合表中所有条件，得 $0$ 分；若符合表中的多个条件，则取分数最高的。\n\n除此之外，使用**比较节点、Max 节点和乘法节点**的代价是极为**昂贵**的。因此，这三种节点**每使用一种**，就会从你这个测试点的得分中**倒扣 $4$ 分**。\n\n注意这里是按使用节点的**种类数**计算扣分，**与使用次数无关**。例如多次使用比较节点，只会扣除 $4$ 分；又如同时使用了比较节点和乘法节点，**即使各只使用了一次，也会扣除 $8$ 分**。\n\n一个测试点至多被扣到 $0$ 分，即使分数不够扣除，也不会出现负数。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2016] Grand Computation in the Wilderness", "background": "Tip: If you submit by “submit code,” the judge will give your program a single number (1, 2, 3, ..., 10) indicating the test point ID during evaluation. Please print the answer corresponding to that test point directly in your program.", "description": "With the development of human computer technology, computers keep getting more powerful, which makes the Flea King very envious.\n\nOne day, the Flea King issued a decree: vigorously develop the Flea Kingdom’s computer industry! However, the Flea Kingdom has not undergone an industrial revolution and cannot manufacture the components needed for electronic computers. But the Flea King came up with a brilliant idea: treat each flea as a computing node, and each flea only performs a specific small task.\n\nThe Flea King led $n$ fleas to a wilderness, arranged them as computing nodes, and numbered them from $1$ to $n$. Each computing node takes the results of some (possibly $0$) other computing nodes as input and computes an output. In addition, the Flea King has a giant terminal that can input and output data. This terminal and all the computing nodes together form a computer.\n\nLet the output of the $t$-th computing node be $x_t$. The operation of this node can be one of the following types:\n\n::cute-table{tuack}\n\n| Name | Operator (Type) | Operands | Result |\n|-|-|-|-|\n| Input node | `I` | None | Read a real number from the terminal as $x_t$ |\n| Output node | `O` | $i$ | $x_t = x_i$, and output $x_t$ to the terminal |\n| Addition node | `+` | $i, j$ | $x_t = x_i + x_j$ |\n| Offset node | `C` | $i, c$ | $x_t = x_i + c$ |\n| Negation node | `-` | $i$ | $x_t = -x_i$ |\n| Left shift node | `<` | $i, k$ | $x_t = x_i \\cdot 2^k$ |\n| Right shift node | `>` | $i, k$ | $x_t = x_i \\cdot 2^{-k}$ |\n| S-type node | `S` | $i$ | $x_t = s(x_i)$ |\n| Comparison node | `P` | $i, j$ | $x_t=\\begin{cases}-1 &x_i<x_j\\\\ 0 &x_i=x_j\\\\1 &x_i>x_j\\\\\\end{cases}$ |\n| Max node | `M` | $i, j$ | $x_t=\\begin{cases}x_i &x_i>x_j\\\\x_j &x_i \\leq x_j\\end{cases}$ |\n| Multiplication node | `*` | $i, j$ | $x_t = x_i \\cdot x_j$ |\n\nHere, $s(x)$ is defined as follows ($e$ is the base of the natural logarithm, approximately $2.718281828459045\\ldots$):\n\n$$s\\left ( x \\right )=\\frac{1}{1+e^{-x}}$$\n\nThe graph of $s(x)$ is shown below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fnscfgzu.png)\n\nIn the table above, the operand indices $i, j$ must both be less than the current node index $t$. Thus, when the Flea King gives the order, the fleas can obtain inputs and compute outputs in order from small index to large. Each flea’s computational precision is limited: they can only be accurate to $90$ digits after the decimal point, and any excess is rounded. Similarly, the fractional part of the operand $c$ in the table above cannot exceed $90$ digits. Moreover, in left shift and right shift nodes, the operand $k$ must be a non-negative integer and cannot exceed $10^4$.\n\nAfter arranging the fleas, the ambitious Flea King decided to test the computational capability of this flea-based computer. The Grasshopper Minister (guoguo, pinyin) presented 10 computational tasks to the Flea King. Each task requires reading input from the terminal, performing intermediate computations, and then outputting the result using an output node. The specific tasks are as follows:\n\n::cute-table{tuack}\n\n| ID | Input | Input constraints | Output |\n|-|-|-|-|\n| $1$ | $a, b$ | $\\lvert a \\rvert, \\lvert b \\rvert \\le 10^9$, fractional part no more than $9$ digits | $-2a - 2b$ |\n| $2$ | $a$ | $\\lvert a \\rvert \\le 10^9$, fractional part no more than $9$ digits | $\\dfrac{1}{1+e^{17a}}$ |\n| $3$ | $a$ | $\\lvert a \\rvert \\le 10^9$, fractional part no more than $9$ digits | $\\begin{cases}-1 & a \\lt 0 \\\\ 0 & a = 0 \\\\ 1 & a \\gt 0\\end{cases}$ |\n| $4$ | $a$ | $\\lvert a \\rvert \\le 10^9$, fractional part no more than $9$ digits | $\\lvert a \\rvert$, i.e., the absolute value of $a$ |\n| $5$ | $a_1, \\dots, a_{32}$ | $a_1, \\dots, a_{32} \\in \\{0, 1\\}$ | Read $a_1, \\dots, a_{32}$ from left to right as a binary integer, with most significant bit on the left and least significant bit on the right, and output its value |\n| $6$ | $a$ | $0 \\le a \\lt 2^{32}$, $a$ is an integer | Output $32$ integers: the binary representation of $a$ from most significant bit to least significant bit (pad with leading zeros to length $32$ if necessary) |\n| $7$ | $a, b$ | $0 \\le a, b \\lt 2^{32}$, $a, b$ are integers | The bitwise XOR of $a$ and $b$ |\n| $8$ | $a$ | $\\lvert a \\rvert \\le 10^9$, fractional part no more than $9$ digits | $\\dfrac{a}{10}$ |\n| $9$ | $a_1, \\dots, a_{16}$ | $\\lvert a_1 \\rvert, \\dots, \\lvert a_{16} \\rvert \\le 10^9$, fractional part no more than $9$ digits | Output $16$ real numbers: the result of sorting $a_1, \\dots, a_{16}$ in nondecreasing order |\n| $10$ | $a, b, m$ | $0 \\le a, b \\lt 2^{32}$, $1 \\le m \\lt 2^{32}$, $a, b, m$ are integers | The remainder of $a \\cdot b$ divided by $m$ |\n\nThe Flea King found that he did not have enough ability to design such a computer. So he turned to you, a contestant at NOI. Please design the type and operands of each computing node in order to complete the 10 tasks given by the Grasshopper Minister, while using as few computing nodes as possible.", "inputFormat": "All input testdata `nodes1.in` $\\sim$ `nodes10.in` correspond to the 10 computational tasks respectively.\n\nEach input file contains a single integer indicating the ID of the computational task to solve.\n\nSince they are only for internal judge use, Luogu does not provide downloads for the testdata of this problem. Generate them yourself if needed.", "outputFormat": "The output files are `nodes1.out` $\\sim$ `nodes10.out`, corresponding to the respective input files.\n\nFor each input file, output several lines; the $i$-th line describes the $i$-th computing node.\n\nTo describe each computing node, first output one character indicating the node type, followed by its built-in parameters in order. Use a single space between the character and numbers, and between numbers.\n\nThe number of output lines must not exceed $10^4$.", "hint": "The sample output is one possible construction for the first task. It uses $10$ computing nodes and earns $3$ points.\n\nWe provide ten scoring files `nodes1.ans` $\\sim$ `nodes10.ans`, corresponding to each computational task.\n\nEach scoring file contains $10$ lines. The $i$-th line contains one scoring parameter $w_i$, whose meaning is given below.\n\nEach test point is scored independently, with $10$ points per test point.\n\nIf your output format is invalid or parameters do not meet the problem’s requirements, you get $0$ points.\n\nOtherwise, the judge determines correctness as follows:\n- The judge will generate several groups of inputs and feed them into your constructed computer.\n- If for any input group, during computation on your constructed computer, the absolute value of some node’s result exceeds $10^{1000}$, you get $0$ points.\n- If any value in your output differs from the expected output by more than $10^{-9}$, your output is considered incorrect and you get $0$ points.\n- Otherwise, we consider your computer able to complete the given task, and your score is determined as follows.\n\nFor each test point, we set $10$ scoring parameters $w_1, w_2, w_3, \\ldots, w_9, w_{10}$.\n\nSuppose you used $n$ computing nodes. Your score is given by the table below:\n\n::cute-table{tuack}\n\n | Score | Condition | Score | Condition |\n| :----------: | :----------: | :----------: | :----------: |\n| 10 | $n \\le w_{10}$ | 5 | $n \\le w_5$ |\n| 9 | $n \\le w_9$ | 4 | $n \\le w_4$ |\n| 8 | $n \\le w_8$ | 3 | $n \\le w_3$ |\n| 7 | $n \\le w_7$ | 2 | $n \\le w_2$ |\n| 6 | $n \\le w_6$ | 1 | $n \\le w_1$ |\n\nIf none of the conditions in the table are met, you get $0$ points. If multiple conditions are met, take the highest score.\n\nIn addition, the cost of using the Comparison node, Max node, and Multiplication node is extremely expensive. Therefore, for each type among these three that you use, $4$ points will be deducted from your score on that test point.\n\nNote that the deduction is by the number of node types used, not by usage count. For example, using the Comparison node multiple times only deducts $4$ points. If you used both the Comparison node and the Multiplication node, even if each is used once, $8$ points will be deducted.\n\nA test point’s score will be deducted to at most $0$; even if the available score is insufficient, the score will not go negative.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2016] 旷野大计算", "background": "**提示：若是使用“提交代码”的方式进行提交，在评测时会给程序输入一个数字（1, 2, 3, ..., 10）表示测试点编号，请在程序中直接输出对应测试点的答案。**\n", "description": "随着人类计算机技术的发展，计算机的能力不断提升，让跳蚤国王非常羡慕。\n\n终于有一天，跳蚤国王发布政令：大力发展跳蚤国的计算机产业！然而，跳蚤国尚未进行工业革命，无法制造出电子计算机所需的元器件。但是跳蚤国王想出了一个绝妙的想法：把每只跳蚤作为一个计算节点，每只跳蚤只完成一个特定的小任务。\n\n跳蚤国王带领 $n$ 只跳蚤来到了一片旷野上，把跳蚤作为计算节点在旷野上排列好，并编号为 $1$ 到 $n$。每个计算节点会把某几个（也有可能是 $0$ 个）计算节点的结果作为输入，计算得到输出。除此之外，跳蚤国王还有一个巨型的终端，可以从终端输入和输出数据，这台终端和所有计算节点组成了一台计算机。\n\n记第 $t$ 个计算节点的输出为 $x_t$，该节点的操作可分为以下几种类型：\n\n::cute-table{tuack}\n\n| 名称 | 操作符（类型） | 操作数 | 计算结果 |\n|-|-|-|-|\n| 输入节点 | `I` | 无 | 从终端读入一个实数作为 $x_t$ |\n| 输出节点 | `O` | $i$ | $x_t = x_i$，并将 $x_t$ 输出到终端 |\n| 加法节点 | `+` | $i,j$ | $x_t = x_i+x_j$ |\n| 偏移节点 | `C` | $i,c$ | $x_t=x_i+c$ |\n| 取反节点 | `-` | $i$ | $x_t=-x_i$ |\n| 左移节点 | `<` | $i,k$ | $x_t=x_i\\cdot 2^k$ |\n| 右移节点 | `>` | $i,k$ | $x_t=x_i\\cdot 2^{-k}$ |\n| S 型节点 | `S` | $i$ | $x_t=s(x_i)$ |\n| 比较节点 | `P` | $i,j$ | $x_t=\\begin{cases}-1 &x_i<x_j\\\\ 0 &x_i=x_j\\\\1 &x_i>x_j\\\\\\end{cases}$|\n| Max 节点 | `M` | $i,j$ | $x_t=\\begin{cases}x_i &x_i>x_j\\\\x_j &x_i \\leq x_j\\end{cases}$ |\n| 乘法节点 | `*` | $i,j$ | $x_t=x_i \\cdot x_j$ | \n\n其中，$s(x)$ 的定义如下：（$e$ 为自然常数,其值约为 $2.718281828459045\\ldots$）\n\n$$s\\left ( x \\right )=\\frac{1}{1+e^{-x}}$$\n\n$s(x)$ 的函数图像如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fnscfgzu.png)\n\n上述表格中的操作数 $i,j$ 均要小于当前节点的编号 $t$，这样随着跳蚤国王的一声令下，跳蚤就可以按编号从小到大的顺序，依次获得输入然后计算输出。每个跳蚤的计算能力都是有限的，他们仅可以精确到十进制小数点后 $90$ 位，超过的部分将会被四舍五入。同理，上述表格中的操作数 $c$ 的小数部分也不能超过 $90$ 位。另外，左移节点和右移节点中的操作数 $k$ 必须是非负整数，且不能超过 $10^4$。\n\n把跳蚤排列好后，野心勃勃的跳蚤国王决心测试一下这台由跳蚤组成的计算机的计算能力，于是蝈蝈大臣给跳蚤国王献上了十个计算任务。完成每个计算任务均需要从终端获取输入，进行中间计算，再用输出节点将结果输出。具体任务说明如下：\n\n::cute-table{tuack}\n\n| 编号 | 输入 | 输入限制 | 输出 |\n|-|-|-|-|\n| $1$ | $a,b$ | $\\lvert a \\rvert, \\lvert b \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $-2a-2b$ |\n| $2$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\dfrac{1}{1+e^{17a}}$ |\n| $3$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\begin{cases}-1 & a \\lt 0 \\\\ 0 & a = 0 \\\\ 1 & a \\gt 0\\end{cases}$ |\n| $4$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\lvert a \\rvert$，即 $a$ 的绝对值 |\n| $5$ | $a_1, \\dots, a_{32}$ | $a_1, \\dots, a_{32} \\in \\{0, 1\\}$ | 把 $a_1, \\dots, a_{32}$ 从左到右看成一个二进制整数，高位在左低位在右，输出该整数的值 |\n| $6$ | $a$ | $0 \\le a \\lt 2^{32}$，$a$ 为整数 | 输出 $32$ 个整数，从高位到低位输出 $a$ 的二进制表示（不足 $32$ 位的在高位补 $0$） |\n| $7$ | $a,b$ | $0 \\le a, b \\lt 2^{32}$，$a,b$ 均为整数 | $a, b$ 按位异或的结果 |\n| $8$ | $a$ | $\\lvert a \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | $\\dfrac{a}{10}$ |\n| $9$ | $a_1, \\dots, a_{16}$ | $\\lvert a_1 \\rvert, \\dots, \\lvert a_{16} \\rvert \\le 10^9$，小数部分不超过 $9$ 位 | 输出 $16$ 个实数，表示 $a_1, \\dots, a_{16}$ 从小到大排序后的结果 |\n| $10$ | $a,b,m$ | $0 \\le a, b \\lt 2^{32}$，$1 \\le m \\lt 2^{32}$，$a,b,m$ 均为整数 | $a \\cdot b$ 除以 $m$ 的余数 | \n\n跳蚤国王发现自己没有足够的能力设计这样的计算机。于是他找到了来参加 NOI 的你。请你依次设计每个计算节点的类型及操作数，完成蝈蝈大臣给的这 10 个计算任务，且要求使用的计算节点数尽量少。", "inputFormat": "所有输入数据 `nodes1.in` $\\sim$ `nodes10.in`，分别对应 10 个计算任务。\n\n每组输入数据仅包含一个整数，表示需要解决的计算任务编号。\n\n因只供评测机内部使用，洛谷不提供本题输入数据的下载，若有需要请自行生成。", "outputFormat": "输出文件为 `nodes1.out` $\\sim$ `nodes10.out`，分别对应相应的输入文件。\n\n对于每组输入数据，你需要依次输出若干行，第 $i$ 行描述第 $i$ 个计算节点。\n\n描述每个计算节点时，首先一个字符表示该计算节点的类型，接下来若干个数按顺序表示该计算节点的内置参数。字符与数，数与数之间均用空格隔开。\n\n输出的行数不能超过 $10^4$ 行。", "hint": "该样例输出为第一个计算任务一个可能的构造。共用了 $10$ 个计算节点，可获得 $3$ 分。\n\n我们提供了十个评分文件 `nodes1.ans` $\\sim$ `nodes10.ans`，分别对应每个计算任务。\n\n每个评分文件共 $10$ 行，第 $i$ 行一个评分参数 $w_i$，具体意义将在下面给出。\n\n本题中，每个测试点单独进行评分，每个测试点 $10$ 分。\n\n如果选手的输出格式不合法或者参数不符合题目约定,则得 $0$ 分。\n\n否则，按照以下规则判定选手的输出是否正确：\n\n- 首先测评器会生成若干组输入数据，并将输入数据代入你构造的计算机。\n- 如果在代入某一组输入数据时：你构造的计算机的计算过程中，某个计算节点的计算结果的绝对值超过 $10^{1000}$，则得 $0$ 分；\n- 你构造的计算机的输出中的某个值与预期的输出值相差超过 $10^{-9}$，则认为你的输出不正确，得 $0$ 分。\n- 否则，我们认为你的计算机能完成给定的计算任务，并按照以下规则得分。\n\n对于每个测试点，我们设置了 $10$ 个评分参数 $w_1$,$w_2$,$w_3$,…,$w_9$,$w_{10}$。\n\n假设共使用了 $n$ 个计算节点,你的分数将会由下表给出：\n\n::cute-table{tuack}\n\n | 得分 | 条件 | 得分 | 条件 |\n| :----------: | :----------: | :----------: | :----------: |\n| 10 | $n≤w_{10}$ | 5 | $n≤w_5$ |\n| 9 | $n≤w_9$ | 4 | $n≤w_4$ |\n| 8 | $n≤w_8$ | 3 | $n≤w_3$ |\n| 7 | $n≤w_7$ | 2 | $n≤w_2$ |\n| 6 | $n≤w_6$ | 1 | $n≤w_1$ |\n\n若不符合表中所有条件，得 $0$ 分；若符合表中的多个条件，则取分数最高的。\n\n除此之外，使用**比较节点、Max 节点和乘法节点**的代价是极为**昂贵**的。因此，这三种节点**每使用一种**，就会从你这个测试点的得分中**倒扣 $4$ 分**。\n\n注意这里是按使用节点的**种类数**计算扣分，**与使用次数无关**。例如多次使用比较节点，只会扣除 $4$ 分；又如同时使用了比较节点和乘法节点，**即使各只使用了一次，也会扣除 $8$ 分**。\n\n一个测试点至多被扣到 $0$ 分，即使分数不够扣除，也不会出现负数。", "locale": "zh-CN"}}}
{"pid": "P1738", "type": "P", "difficulty": 3, "samples": [["2\n/luogu/application/controller\n/luogu/application/view\n", "3\n4\n"], ["3\n/chicken\n/chicken/egg\n/chicken", "1\n2\n2"], ["4\n/a\n/a/b\n/a/c\n/b/b", "1\n2\n3\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "字符串", "树形数据结构", "洛谷原创", "枚举"], "title": "洛谷的文件夹", "background": "", "description": "kkksc03 是个非凡的空想家！在短时间内他设想了大量网页，然后总是交给可怜的 lzn 去实现。\n\n洛谷的网页端，有很多文件夹，文件夹还套着文件夹。\n\n例如：$\\verb!/luogu/application/controller!$ 表示根目录下有一个名称为 $\\verb!luogu!$ 的文件夹，这个文件夹下有一个名称 $\\verb!application!$ 的文件夹，其中还有名为 $\\verb!controller!$ 的文件夹。\n\n每个路径的第 $1$ 个字符总是 $\\verb!/!$，且没有两个连续的 $\\verb!/!$，最后的字符不是 $\\verb!/!$。所有名称仅包含数字和小写字母。\n\n目前根目录是空的。kkksc03 想好了很多应该有的文件夹路径名。问题是，需要是使这些文件夹都存在，需要新建几个文件夹呢？\n", "inputFormat": "输入文件第 $1$ 行为一个正整数 $N$。\n\n接下来 $N$ 行，每行为一个描述路径的字符串，长度均不超过 $100$。", "outputFormat": "输出应包含 $N$ 行，每行 $1$ 个正整数，第 $i$ 行输出若要使第 $1$ 个路径到第 $i$ 个路径存在，最少需要新建多少个文件夹。", "hint": "### 数据范围及约定\n\n\n- 对于 $20\\%$ 数据，有 $N \\le 20$；\n- 对于 $50\\%$ 数据，有 $N \\le 200$；\n- 另有 $30\\%$ 数据，有对于所有路径最多存在两个 $\\verb!/!$（包含第 $1$ 个字符）；\n- 对于所有数据，$N \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Luogu’s Folders", "background": "", "description": "kkksc03 is an extraordinary dreamer! In a short time, he imagined a large number of web pages and always handed them to the poor lzn to implement.\n\nOn Luogu’s web frontend, there are many folders, and folders are nested inside folders.\n\nFor example: $\\verb!/luogu/application/controller!$ means that under the root directory there is a folder named $\\verb!luogu!$, inside which there is a folder named $\\verb!application!$, and inside that there is a folder named $\\verb!controller!$.\n\nIn each path, the $1$-st character is always $\\verb!/!$, there are no two consecutive $\\verb!/!$ characters, and the last character is not $\\verb!/!$. All names contain only digits and lowercase letters.\n\nCurrently, the root directory is empty. kkksc03 has thought of many folder pathnames that should exist. The question is: to make all these folders exist, how many folders need to be newly created?", "inputFormat": "The $1$-st line contains a positive integer $N$.\n\nThe next $N$ lines each contain a string describing a path, with length no more than $100$.", "outputFormat": "The output should contain $N$ lines, each with a single positive integer. On the $i$-th line, output the minimum number of folders that need to be created so that the first $1$ through $i$ paths exist.", "hint": "### Constraints\n\n- For $20\\%$ of the testdata, $N \\le 20$.\n- For $50\\%$ of the testdata, $N \\le 200$.\n- Additionally, for $30\\%$ of the testdata, every path contains at most two $\\verb!/!$ characters (counting the first character).\n- For all testdata, $N \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "洛谷的文件夹", "background": "", "description": "kkksc03 是个非凡的空想家！在短时间内他设想了大量网页，然后总是交给可怜的 lzn 去实现。\n\n洛谷的网页端，有很多文件夹，文件夹还套着文件夹。\n\n例如：$\\verb!/luogu/application/controller!$ 表示根目录下有一个名称为 $\\verb!luogu!$ 的文件夹，这个文件夹下有一个名称 $\\verb!application!$ 的文件夹，其中还有名为 $\\verb!controller!$ 的文件夹。\n\n每个路径的第 $1$ 个字符总是 $\\verb!/!$，且没有两个连续的 $\\verb!/!$，最后的字符不是 $\\verb!/!$。所有名称仅包含数字和小写字母。\n\n目前根目录是空的。kkksc03 想好了很多应该有的文件夹路径名。问题是，需要是使这些文件夹都存在，需要新建几个文件夹呢？\n", "inputFormat": "输入文件第 $1$ 行为一个正整数 $N$。\n\n接下来 $N$ 行，每行为一个描述路径的字符串，长度均不超过 $100$。", "outputFormat": "输出应包含 $N$ 行，每行 $1$ 个正整数，第 $i$ 行输出若要使第 $1$ 个路径到第 $i$ 个路径存在，最少需要新建多少个文件夹。", "hint": "### 数据范围及约定\n\n\n- 对于 $20\\%$ 数据，有 $N \\le 20$；\n- 对于 $50\\%$ 数据，有 $N \\le 200$；\n- 另有 $30\\%$ 数据，有对于所有路径最多存在两个 $\\verb!/!$（包含第 $1$ 个字符）；\n- 对于所有数据，$N \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1739", "type": "P", "difficulty": 1, "samples": [["2*(x+y)/(1-x)@\n", "YES\n"], ["(25+x)*(a*(a+b+b)@\n", "NO\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "字符串", "线性数据结构", "栈"], "title": "表达式括号匹配", "background": "", "description": "假设一个表达式有英文字母（小写）、运算符（`+`、`-`、`*`、`/`）和左右小（圆）括号构成，以 `@` 作为表达式的结束符。请编写一个程序检查表达式中的左右圆括号是否匹配，若匹配，则输出 `YES`；否则输出 `NO`。表达式长度小于 $255$，左圆括号少于 $20$ 个。\n", "inputFormat": "一行：表达式。\n", "outputFormat": "一行：`YES` 或 `NO`。\n", "hint": "表达式长度小于 $255$，左圆括号少于 $20$ 个。\n", "locale": "zh-CN", "translations": {"en": {"title": "Expression Parentheses Matching", "background": "", "description": "Assume an expression consists of lowercase English letters, operators (`+`, `-`, `*`, `/`), and left/right round parentheses, with `@` as the terminator of the expression. Write a program to check whether the left and right parentheses in the expression are matched. If they match, output `YES`; otherwise, output `NO`. The expression length is less than $255$, and there are fewer than $20$ left parentheses.", "inputFormat": "One line: the expression.", "outputFormat": "One line: `YES` or `NO`.", "hint": "The expression length is less than $255$, and there are fewer than $20$ left parentheses.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "表达式括号匹配", "background": "", "description": "假设一个表达式有英文字母（小写）、运算符（`+`、`-`、`*`、`/`）和左右小（圆）括号构成，以 `@` 作为表达式的结束符。请编写一个程序检查表达式中的左右圆括号是否匹配，若匹配，则输出 `YES`；否则输出 `NO`。表达式长度小于 $255$，左圆括号少于 $20$ 个。\n", "inputFormat": "一行：表达式。\n", "outputFormat": "一行：`YES` 或 `NO`。\n", "hint": "表达式长度小于 $255$，左圆括号少于 $20$ 个。\n", "locale": "zh-CN"}}}
{"pid": "P1740", "type": "P", "difficulty": 2, "samples": [["4\r\n   /\\   \r\n  /\\/\\  \r\n /\\  /\\ \r\n/  \\/  \\\r\n\\/\\/ / /\r\n \\/\\  / \r\n  \\ \\/  \r\n   \\/   \r\n", "4\r\n1111\r\n11101\r\n1000\r\n10111\r\n1100\r\n10101\r\n0111\r\n11101\r\n1111\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串"], "title": "Diamond A&B(1)", "background": "由于本题较难，将本题拆做两题，分别为 diamond A 以及 diamond B。本题为 Diamond A。", "description": "教主上电视了！这个消息绝对是一个爆炸性的新闻。一经传开，大街上瞬间就没人了（都回家看电视去了），商店打烊，工厂停业。大家都把电视机的音量开到最大，教主的声音回响在大街小巷。\n\n小 L 给小 X 慌乱地打开自己家的电视机，发现所有频道都播放的是教主的采访节目（-\\_-bbb）。只见电视屏幕上的教主笑意吟吟，给大家出了一道难题：\n\n一个边长为 $n$ 的大菱形被均匀地划分成了 $n\\times n$ 个边长为 $1$ 的小菱形组成的网格，但是网格中部分边被抹去了，小 $L$ 想知道，大菱形内有多少个平行四边形，这些平行四边形内不存在边（平行四边形内是空的）。\n\n教主说，如果谁写出了程序，移动用户请将程序发送到 xxxx，联通用户请将程序发送到 xxxx……如果答对这个题，将有机会参加抽奖，大奖将是教主签名的 Orz 教主 T-Shirt 一件！这个奖品太具有诱惑力了。于是你需要编一个程序完成这么一道题。", "inputFormat": "输入的第一行为一个正整数 $n$，为大菱形的边长。\n\n以下 $2n$ 行，每行 $2n$ 个字符，字符为空格，$\\verb!/!$，$\\verb!\\!$ 中的一个。\n\n前 $n$ 行，第 $i$ 行中居中有 $2i$ 个字符，这 $2i$ 个字符中位置为奇数的字符只可能为 $\\verb!/!$ 或者空格，位置为偶数的字符只可能为 $\\verb!\\!$ 或空格，若为空格表示这样一条边不存在，其余字符均为空格，描述了大菱形的上半部分。\n\n后 $n$ 行，第 $i$ 行居中有有 $2(n-i+1)$ 个字符，与上半部分类似地描述了菱形的下半部分。\n\n输入文件保证大菱形的轮廓上没有边被抹去。", "outputFormat": "第一行一个整数 $n$。\n\n以下 $2\\times n+1$ 行，代表了将该菱形逆时针旋转一个锐角，并将图形变形为矩形后各边有无，$1$ 表示有边，$0$ 表示无边。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $40\\%$ 的数据，$n \\le 60$；\n- 对于 $60\\%$ 的数据，$n \\le 200$；\n- 对于 $100\\%$ 的数据，$n \\le 888$。", "locale": "zh-CN", "translations": {"en": {"title": "Diamond A&B(1)", "background": "Because this problem is relatively hard, it is split into two parts: diamond A and diamond B. This problem is Diamond A.", "description": "The Guru is on TV! This news is absolutely explosive. As soon as it spreads, the streets instantly become empty (everyone went home to watch TV), shops close, and factories stop. Everyone turns their TV volume to the maximum, and the Guru’s voice echoes through the streets and alleys.\n\nXiao L hurriedly turns on the TV at home and finds that all channels are broadcasting the Guru’s interview program (-_-bbb). On the screen, the smiling Guru presents a difficult task:\n\nA large diamond with side length $n$ is evenly divided into an $n \\times n$ grid made of unit diamonds with side length $1$. However, some edges in the grid have been erased. Xiao L wants to know how many parallelograms are inside the large diamond whose interiors contain no edges (i.e., the interior is empty).\n\nThis task is split into two subproblems. In this subproblem (Diamond A), given the diamond-shaped grid described by slashes and backslashes below, please convert it into an axis-aligned rectangular grid and output the presence of edges as $0/1$ in the specified format. The actual counting of parallelograms is handled in Diamond B.", "inputFormat": "- The first line contains a positive integer $n$, the side length of the large diamond.\n\n- The next $2n$ lines each contain $2n$ characters. Each character is one of: a space, $\\verb!/!$, or $\\verb!\\!$.\n\n- For the first $n$ lines (the upper half of the diamond), the $i$-th line (1-indexed) has exactly $2i$ non-space positions centered in the line. Among these $2i$ positions:\n  - Characters at odd positions can only be $\\verb!/!$ or a space.\n  - Characters at even positions can only be $\\verb!\\!$ or a space.\n  A space means that the corresponding edge does not exist. All other characters outside these centered $2i$ positions are spaces. These lines describe the upper half of the diamond.\n\n- For the last $n$ lines (the lower half of the diamond), the $i$-th line (1-indexed within the lower half) has exactly $2(n - i + 1)$ non-space positions centered in the line, described in the same way as above, forming the lower half of the diamond.\n\n- It is guaranteed that no edge on the outer boundary of the large diamond is erased.", "outputFormat": "- The first line outputs the integer $n$.\n\n- Then output $2n+1$ lines that describe the edges after converting the diamond grid into an $n \\times n$ axis-aligned rectangular grid (think of rotating by $45^\\circ$ and scaling). Use $1$ for an existing edge and $0$ for a missing edge. Specifically:\n  - Lines $1$ to $n+1$: horizontal edges. Each of these lines contains exactly $n$ characters, each being $0$ or $1$. The $j$-th character on line $i$ (1-indexed) indicates whether the horizontal edge between grid points $(i-1, j-1)$ and $(i-1, j)$ exists.\n  - Lines $n+2$ to $2n+1$: vertical edges. Each of these lines contains exactly $n+1$ characters, each being $0$ or $1$. Let $r = i - (n+1)$ for line index $i$ in this range. The $j$-th character on line $i$ indicates whether the vertical edge between grid points $(r-1, j-1)$ and $(r, j-1)$ exists.", "hint": "### Constraints\n\n- For $20\\%$ of the testdata, $n \\le 10$.\n- For $40\\%$ of the testdata, $n \\le 60$.\n- For $60\\%$ of the testdata, $n \\le 200$.\n- For $100\\%$ of the testdata, $n \\le 888$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Diamond A&B(1)", "background": "由于本题较难，将本题拆做两题，分别为 diamond A 以及 diamond B。本题为 Diamond A。", "description": "教主上电视了！这个消息绝对是一个爆炸性的新闻。一经传开，大街上瞬间就没人了（都回家看电视去了），商店打烊，工厂停业。大家都把电视机的音量开到最大，教主的声音回响在大街小巷。\n\n小 L 给小 X 慌乱地打开自己家的电视机，发现所有频道都播放的是教主的采访节目（-\\_-bbb）。只见电视屏幕上的教主笑意吟吟，给大家出了一道难题：\n\n一个边长为 $n$ 的大菱形被均匀地划分成了 $n\\times n$ 个边长为 $1$ 的小菱形组成的网格，但是网格中部分边被抹去了，小 $L$ 想知道，大菱形内有多少个平行四边形，这些平行四边形内不存在边（平行四边形内是空的）。\n\n教主说，如果谁写出了程序，移动用户请将程序发送到 xxxx，联通用户请将程序发送到 xxxx……如果答对这个题，将有机会参加抽奖，大奖将是教主签名的 Orz 教主 T-Shirt 一件！这个奖品太具有诱惑力了。于是你需要编一个程序完成这么一道题。", "inputFormat": "输入的第一行为一个正整数 $n$，为大菱形的边长。\n\n以下 $2n$ 行，每行 $2n$ 个字符，字符为空格，$\\verb!/!$，$\\verb!\\!$ 中的一个。\n\n前 $n$ 行，第 $i$ 行中居中有 $2i$ 个字符，这 $2i$ 个字符中位置为奇数的字符只可能为 $\\verb!/!$ 或者空格，位置为偶数的字符只可能为 $\\verb!\\!$ 或空格，若为空格表示这样一条边不存在，其余字符均为空格，描述了大菱形的上半部分。\n\n后 $n$ 行，第 $i$ 行居中有有 $2(n-i+1)$ 个字符，与上半部分类似地描述了菱形的下半部分。\n\n输入文件保证大菱形的轮廓上没有边被抹去。", "outputFormat": "第一行一个整数 $n$。\n\n以下 $2\\times n+1$ 行，代表了将该菱形逆时针旋转一个锐角，并将图形变形为矩形后各边有无，$1$ 表示有边，$0$ 表示无边。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $40\\%$ 的数据，$n \\le 60$；\n- 对于 $60\\%$ 的数据，$n \\le 200$；\n- 对于 $100\\%$ 的数据，$n \\le 888$。", "locale": "zh-CN"}}}
