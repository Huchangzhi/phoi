{"pid": "P2825", "type": "P", "difficulty": 6, "samples": [["4 4\n#***\n*#**\n**#*\nxxx#", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "2016", "各省省选", "网络流", "河北", "连通块", "二分图", "天津"], "title": "[HEOI2016/TJOI2016] 游戏", "background": "", "description": "在 2016 年，佳媛姐姐喜欢上了一款游戏，叫做泡泡堂。\n\n简单的说，这个游戏就是在一张地图上放上若干个炸弹，看是否能炸到对手，或者躲开对手的炸弹。在玩游戏的过程中，小 H 想到了这样一个问题：当给定一张地图，在这张地图上最多能放上多少个炸弹能使得任意两个炸弹之间不会互相炸到。炸弹能炸到的范围是该炸弹所在的一行和一列，炸弹的威力可以穿透软石头，但是不能穿透硬石头。\n\n给定一张 $ n \\times m $ 的网格地图:其中 ``*`` 代表空地，炸弹的威力可以穿透，可以在空地上放置一枚炸弹。 ``x`` 代表软石头，炸弹的威力可以穿透，不能在此放置炸弹。``#`` 代表硬石头，炸弹的威力是不能穿透的，不能在此放置炸弹。例如：给出 $ 1 \\times 4 $ 的网格地图 `` *xx*``，这个地图上最多只能放置一个炸弹。给出另一个$ 1 \\times 4 $ 的网格地图 ``*x#*``，这个地图最多能放置两个炸弹。\n\n现在小 H 任意给出一张 $ n \\times m $ 的网格地图，问你最多能放置多少炸弹。", "inputFormat": "第一行输入两个正整数 $ n, m $，$ n $ 表示地图的行数，$ m $ 表示地图的列数。\n\n接下来输入 $ n $ 行 $ m $ 列个字符，代表网格地图。``*``的个数不超过 $ n \\times m $ 个。", "outputFormat": "输出一个整数 $ a $，表示最多能放置炸弹的个数。", "hint": "$1 \\leq n,m \\leq 50$", "locale": "zh-CN", "translations": {"en": {"title": "[HEOI2016/TJOI2016] Game", "background": "", "description": "In 2016, Sister Jiayuan fell in love with a game called BnB.\n\nSimply put, in this game you place several bombs on a map to see whether you can hit the opponent or avoid the opponent’s bombs. While playing, Little H thought of this question: given a map, what is the maximum number of bombs you can place so that no two bombs can hit each other? A bomb’s explosion reaches the entire row and column where it is placed. The explosion can pass through soft stones, but cannot pass through hard stones.\n\nYou are given an $ n \\times m $ grid map: the symbol ``*`` denotes an empty cell; the explosion can pass through it, and you can place a bomb on it. The symbol ``x`` denotes a soft stone; the explosion can pass through it, but you cannot place a bomb on it. The symbol ``#`` denotes a hard stone; the explosion cannot pass through it, and you cannot place a bomb on it. For example, given a $ 1 \\times 4 $ grid map ``*xx*``, you can place at most one bomb on this map. Given another $ 1 \\times 4 $ grid map ``*x#*``, you can place at most two bombs on this map.\n\nNow, given any $ n \\times m $ grid map from Little H, determine the maximum number of bombs that can be placed.", "inputFormat": "The first line contains two positive integers $ n, m $, where $ n $ is the number of rows and $ m $ is the number of columns.\n\nThen $ n $ lines follow, each containing $ m $ characters representing the grid map. The number of ``*`` does not exceed $ n \\times m $.", "outputFormat": "Output a single integer $ a $, the maximum number of bombs that can be placed.", "hint": "$1 \\leq n, m \\leq 50$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HEOI2016/TJOI2016] 游戏", "background": "", "description": "在 2016 年，佳媛姐姐喜欢上了一款游戏，叫做泡泡堂。\n\n简单的说，这个游戏就是在一张地图上放上若干个炸弹，看是否能炸到对手，或者躲开对手的炸弹。在玩游戏的过程中，小 H 想到了这样一个问题：当给定一张地图，在这张地图上最多能放上多少个炸弹能使得任意两个炸弹之间不会互相炸到。炸弹能炸到的范围是该炸弹所在的一行和一列，炸弹的威力可以穿透软石头，但是不能穿透硬石头。\n\n给定一张 $ n \\times m $ 的网格地图:其中 ``*`` 代表空地，炸弹的威力可以穿透，可以在空地上放置一枚炸弹。 ``x`` 代表软石头，炸弹的威力可以穿透，不能在此放置炸弹。``#`` 代表硬石头，炸弹的威力是不能穿透的，不能在此放置炸弹。例如：给出 $ 1 \\times 4 $ 的网格地图 `` *xx*``，这个地图上最多只能放置一个炸弹。给出另一个$ 1 \\times 4 $ 的网格地图 ``*x#*``，这个地图最多能放置两个炸弹。\n\n现在小 H 任意给出一张 $ n \\times m $ 的网格地图，问你最多能放置多少炸弹。", "inputFormat": "第一行输入两个正整数 $ n, m $，$ n $ 表示地图的行数，$ m $ 表示地图的列数。\n\n接下来输入 $ n $ 行 $ m $ 列个字符，代表网格地图。``*``的个数不超过 $ n \\times m $ 个。", "outputFormat": "输出一个整数 $ a $，表示最多能放置炸弹的个数。", "hint": "$1 \\leq n,m \\leq 50$", "locale": "zh-CN"}}}
{"pid": "P2827", "type": "P", "difficulty": 5, "samples": [["3 7 1 1 3 1\n3 3 2", "3 4 4 4 5 5 6\n6 6 6 5 5 4 4 3 2 2"], ["3 7 1 1 3 2\n3 3 2", "4 4 5\n6 5 4 3 2"], ["3 7 1 1 3 9\n3 3 2", "//空行\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2016", "堆", "NOIP 提高组", "O2优化", "队列"], "title": "[NOIP 2016 提高组] 蚯蚓", "background": "NOIP2016 提高组 D2T2", "description": "本题中，我们将用符号 $\\lfloor c \\rfloor$ 表示对 $c$ 向下取整，例如：$\\lfloor 3.0 \\rfloor = \\lfloor 3.1 \\rfloor = \\lfloor 3.9 \\rfloor = 3$。\n\n蛐蛐国最近蚯蚓成灾了！隔壁跳蚤国的跳蚤也拿蚯蚓们没办法，蛐蛐国王只好去请神刀手来帮他们消灭蚯蚓。\n\n蛐蛐国里现在共有 $n$ 只蚯蚓（$n$ 为正整数）。每只蚯蚓拥有长度，我们设第 $i$ 只蚯蚓的长度为 $a_i\\,(i=1,2,\\dots,n)$，并保证所有的长度都是非负整数（即：可能存在长度为 $0$ 的蚯蚓）。\n\n每一秒，神刀手会在所有的蚯蚓中，准确地找到最长的那一只（如有多个则任选一个）将其切成两半。神刀手切开蚯蚓的位置由常数 $p$（是满足 $0 < p < 1$ 的有理数）决定，设这只蚯蚓长度为 $x$，神刀手会将其切成两只长度分别为 $\\lfloor px \\rfloor$ 和 $x - \\lfloor px \\rfloor$ 的蚯蚓。特殊地，如果这两个数的其中一个等于 $0$，则这个长度为 $0$ 的蚯蚓也会被保留。此外，除了刚刚产生的两只新蚯蚓，其余蚯蚓的长度都会增加 $q$（是一个非负整常数）。\n\n蛐蛐国王知道这样不是长久之计，因为蚯蚓不仅会越来越多，还会越来越长。蛐蛐国王决定求助于一位有着洪荒之力的神秘人物，但是救兵还需要 $m$ 秒才能到来……（$m$ 为非负整数）\n\n蛐蛐国王希望知道这 $m$ 秒内的战况。具体来说，他希望知道：\n\n- $m$ 秒内，每一秒被切断的蚯蚓被切断前的长度（有 $m$ 个数）；\n- $m$ 秒后，所有蚯蚓的长度（有 $n + m$ 个数）。\n\n蛐蛐国王当然知道怎么做啦！但是他想考考你……", "inputFormat": "第一行包含六个整数 $n,m,q,u,v,t$，其中：$n,m,q$ 的意义见【问题描述】；$u,v,t$ 均为正整数；你需要自己计算 $p=u / v$（保证 $0 < u < v$）；$t$ 是输出参数，其含义将会在【输出格式】中解释。\n\n第二行包含 $n$ 个非负整数，为 $a_1, a_2, \\dots, a_n$，即初始时 $n$ 只蚯蚓的长度。\n\n同一行中相邻的两个数之间，恰好用一个空格隔开。\n\n保证 $1 \\leq n \\leq 10^5$，$0 \\leq m \\leq 7 \\times 10^6$，$0 < u < v \\leq 10^9$，$0 \\leq q \\leq 200$，$1 \\leq t \\leq 71$，$0 \\leq a_i \\leq 10^8$。", "outputFormat": "第一行输出 $\\left \\lfloor \\frac{m}{t} \\right \\rfloor$ 个整数，按时间顺序，依次输出第 $t$ 秒，第 $2t$ 秒，第 $3t$ 秒，……被切断蚯蚓（在被切断前）的长度。\n\n第二行输出 $\\left \\lfloor \\frac{n+m}{t} \\right \\rfloor$ 个整数，输出 $m$ 秒后蚯蚓的长度；需要按从大到小的顺序，依次输出排名第 $t$，第 $2t$，第 $3t$，……的长度。\n\n同一行中相邻的两个数之间，恰好用一个空格隔开。即使某一行没有任何数需要输出，你也应输出一个空行。\n\n请阅读样例来更好地理解这个格式。", "hint": "**样例解释 1**\n\n在神刀手到来前：$3$ 只蚯蚓的长度为 $3,3,2$。\n\n$1$ 秒后：一只长度为 $3$ 的蚯蚓被切成了两只长度分别为$1$ 和 $2$ 的蚯蚓，其余蚯蚓的长度增加了 $1$。最终 $4$ 只蚯蚓的长度分别为 $(1,2),4,3$。括号表示这个位置刚刚有一只蚯蚓被切断。\n\n$2$ 秒后：一只长度为 $4$ 的蚯蚓被切成了 $1$ 和 $3$。$5$ 只蚯蚓的长度分别为：$2,3,(1,3),4$。\n\n$3$ 秒后：一只长度为 $4$ 的蚯蚓被切断。$6$ 只蚯蚓的长度分别为：$3,4,2,4,(1,3)$。\n\n$4$ 秒后：一只长度为 $4$ 的蚯蚓被切断。$7$ 只蚯蚓的长度分别为：$4,(1,3),3,5,2,4$。\n\n$5$ 秒后：一只长度为 $5$ 的蚯蚓被切断。$8$ 只蚯蚓的长度分别为：$5,2,4,4,(1,4),3,5$。\n\n$6$ 秒后：一只长度为 $5$ 的蚯蚓被切断。$9$ 只蚯蚓的长度分别为：$(1,4),3,5,5,2,5,4,6$。\n\n$7$ 秒后：一只长度为 $6$ 的蚯蚓被切断。$10$ 只蚯蚓的长度分别为：$2,5,4,6,6,3,6,5,(2,4)$。所以，$7$ 秒内被切断的蚯蚓的长度依次为 $3,4,4,4,5,5,6$。$7$ 秒后，所有蚯蚓长度从大到小排序为 $6,6,6,5,5,4,4,3,2,2$。\n\n**样例解释 2**\n\n这个数据中只有 $t=2$ 与上个数据不同。只需在每行都改为每两个数输出一个数即可。\n\n虽然第一行最后有一个 $6$ 没有被输出，但是第二行仍然要重新从第二个数再开始输出。\n\n**样例解释 3**\n\n这个数据中只有 $t=9$ 与上个数据不同。\n\n注意第一行没有数要输出，但也要输出一个空行。\n\n\n**数据范围**\n\n::cute-table{tuack}\n| 测试点  | $n$            | $m$              | $t$   | $a_i$     | $v$       | $q$      |\n|:----:|:--------------:|:----------------:|:-----:|:---------:|:---------:|:--------:|\n| $1$  | $=1$           | $=0$             | $=1$  | $\\le10^6$ | $\\le2$    | $=0$     |\n| $2$  | $=10^3$        | ^                | ^     | ^         | ^         | ^        |\n| $3$  | $=10^5$        | ^                | ^     | ^         | ^         | ^        |\n| $4$  | $=1$           | $=10^3$          | ^     | ^         | ^         | ^        |\n| $5$  | $=10^3$        | ^                | ^     | ^         | ^         | ^        |\n| $6$  | $=1$           | ^                | ^     | ^         | ^         | $\\le200$ |\n| $7$  | $=10^3$        | ^                | ^     | ^         | ^         | ^        |\n| $8$  | $=5\\times10^4$ | $=5\\times10^4$   | ^     | ^         | ^         | $=0$     |\n| $9$  | $=10^5$        | $=10^5$          | $=2$  | ^         | ^         | ^        |\n| $10$ | ^              | $=2\\times10^6$   | $=21$ | ^         | ^         | ^        |\n| $11$ | ^              | $=2.5\\times10^6$ | $=26$ | ^         | ^         | ^        |\n| $12$ | ^              | $=3.5\\times10^6$ | $=36$ | $\\le10^7$ | ^         | ^        |\n| $13$ | ^              | $=5\\times10^6$   | $=51$ | ^         | $\\le10^9$ | ^        |\n| $14$ | ^              | $=7\\times10^6$   | $=71$ | $\\le10^8$ | ^         | ^        |\n| $15$ | $=5\\times10^4$ | $=5\\times10^4$   | $=1$  | ^         | $\\le2$    | $\\le200$ |\n| $16$ | ^              | $=1.5\\times10^5$ | $=2$  | ^         | ^         | ^        |\n| $17$ | $=10^5$        | $=10^5$          | $=3$  | ^         | $\\le10^9$ | ^        |\n| $18$ | ^              | $=3\\times10^5$   | $=4$  | ^         | ^         | ^        |\n| $19$ | ^              | $=3.5\\times10^6$ | $=36$ | ^         | ^         | ^        |\n| $20$ | ^              | $=7\\times10^6$   | $=71$ | ^         | ^         | ^        |", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2016 Senior] Earthworms", "background": "NOIP 2016 Senior D2T2.", "description": "In this problem, we use the symbol $\\lfloor c \\rfloor$ to denote the floor of $c$. For example, $\\lfloor 3.0 \\rfloor = \\lfloor 3.1 \\rfloor = \\lfloor 3.9 \\rfloor = 3$.\n\nThe Cricket Kingdom is suffering from an earthworm outbreak! Even the fleas from the neighboring Flea Kingdom can’t handle the earthworms. The Cricket King has no choice but to invite the Divine Blade Master to help eliminate them.\n\nThere are currently $n$ earthworms in the Cricket Kingdom (where $n$ is a positive integer). Each earthworm has a length. Let the length of the $i$-th earthworm be $a_i \\,(i=1,2,\\dots,n)$, and all lengths are guaranteed to be non-negative integers (i.e., earthworms with length $0$ may exist).\n\nEvery second, the Divine Blade Master will accurately find the longest earthworm among all earthworms (if there are multiple, choose any one) and cut it in half. The cutting position is determined by a constant $p$ (a rational number satisfying $0 < p < 1$). Suppose the length of this earthworm is $x$. The master will cut it into two earthworms with lengths $\\lfloor p x \\rfloor$ and $x - \\lfloor p x \\rfloor$. In particular, if either of these numbers equals $0$, that earthworm of length $0$ is also kept. In addition, except for the two newly created earthworms, the lengths of all other earthworms will increase by $q$ (a non-negative integer constant).\n\nThe Cricket King knows this is not a long-term solution, because not only will the number of earthworms increase, but they will also become longer. The king decides to seek help from a mysterious figure with great power, but the reinforcements will take $m$ seconds to arrive... (where $m$ is a non-negative integer).\n\nThe king wants to know the situation within these $m$ seconds. Specifically, he wants to know:\n- Within $m$ seconds, for each second, the length of the earthworm that is cut, measured just before it is cut (there are $m$ numbers).\n- After $m$ seconds, the lengths of all earthworms (there are $n + m$ numbers).\n\nOf course, the Cricket King knows how to do this! But he wants to test you.", "inputFormat": "The first line contains six integers $n,m,q,u,v,t$, where: the meanings of $n,m,q$ are as in [Description]; $u,v,t$ are positive integers; you need to compute $p = u / v$ yourself (guaranteed $0 < u < v$); $t$ is an output parameter, whose meaning will be explained in [Output Format].\n\nThe second line contains $n$ non-negative integers, namely $a_1, a_2, \\dots, a_n$, the initial lengths of the $n$ earthworms.\n\nBetween any two adjacent numbers on the same line, there is exactly one space.\n\nIt is guaranteed that $1 \\leq n \\leq 10^5$, $0 \\leq m \\leq 7 \\times 10^6$, $0 < u < v \\leq 10^9$, $0 \\leq q \\leq 200$, $1 \\leq t \\leq 71$, $0 \\leq a_i \\leq 10^8$.", "outputFormat": "On the first line, output $\\left\\lfloor \\frac{m}{t} \\right\\rfloor$ integers. In chronological order, output the length (just before being cut) of the earthworm cut at time $t$, $2t$, $3t$, … .\n\nOn the second line, output $\\left\\lfloor \\frac{n+m}{t} \\right\\rfloor$ integers: after $m$ seconds, output the earthworm lengths in non-increasing order, specifically the $t$-th, $2t$-th, $3t$-th, … largest lengths.\n\nBetween any two adjacent numbers on the same line, there is exactly one space. Even if a line has no numbers to output, you must still output a blank line.\n\nPlease read the samples to better understand this format.", "hint": "Sample Explanation 1\n\nBefore the Divine Blade Master arrives: the lengths of $3$ earthworms are $3, 3, 2$.\n\nAfter $1$ second: one earthworm of length $3$ is cut into two earthworms of lengths $1$ and $2$; the other earthworms increase by $1$. In the end, the $4$ earthworms have lengths $(1,2), 4, 3$. Parentheses mean an earthworm at that position has just been cut.\n\nAfter $2$ seconds: one earthworm of length $4$ is cut into $1$ and $3$. The $5$ earthworms’ lengths are: $2, 3, (1,3), 4$.\n\nAfter $3$ seconds: one earthworm of length $4$ is cut. The $6$ earthworms’ lengths are: $3, 4, 2, 4, (1,3)$.\n\nAfter $4$ seconds: one earthworm of length $4$ is cut. The $7$ earthworms’ lengths are: $4, (1,3), 3, 5, 2, 4$.\n\nAfter $5$ seconds: one earthworm of length $5$ is cut. The $8$ earthworms’ lengths are: $5, 2, 4, 4, (1,4), 3, 5$.\n\nAfter $6$ seconds: one earthworm of length $5$ is cut. The $9$ earthworms’ lengths are: $(1,4), 3, 5, 5, 2, 5, 4, 6$.\n\nAfter $7$ seconds: one earthworm of length $6$ is cut. The $10$ earthworms’ lengths are: $2, 5, 4, 6, 6, 3, 6, 5, (2,4)$. Therefore, within $7$ seconds, the lengths of the cut earthworms are $3, 4, 4, 4, 5, 5, 6$ in order. After $7$ seconds, all earthworm lengths in non-increasing order are $6, 6, 6, 5, 5, 4, 4, 3, 2, 2$.\n\nSample Explanation 2\n\nIn this testdata, only $t = 2$ differs from the previous one. You only need to output one number every two numbers on each line.\n\nAlthough the last $6$ on the first line is not output, the second line must restart counting from the second number.\n\nSample Explanation 3\n\nIn this testdata, only $t = 9$ differs from the previous one.\n\nNote that there are no numbers to output on the first line, but you must still print a blank line.\n\nConstraints\n\n![](https://cdn.luogu.com.cn/upload/pic/3458.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2016 提高组] 蚯蚓", "background": "NOIP2016 提高组 D2T2", "description": "本题中，我们将用符号 $\\lfloor c \\rfloor$ 表示对 $c$ 向下取整，例如：$\\lfloor 3.0 \\rfloor = \\lfloor 3.1 \\rfloor = \\lfloor 3.9 \\rfloor = 3$。\n\n蛐蛐国最近蚯蚓成灾了！隔壁跳蚤国的跳蚤也拿蚯蚓们没办法，蛐蛐国王只好去请神刀手来帮他们消灭蚯蚓。\n\n蛐蛐国里现在共有 $n$ 只蚯蚓（$n$ 为正整数）。每只蚯蚓拥有长度，我们设第 $i$ 只蚯蚓的长度为 $a_i\\,(i=1,2,\\dots,n)$，并保证所有的长度都是非负整数（即：可能存在长度为 $0$ 的蚯蚓）。\n\n每一秒，神刀手会在所有的蚯蚓中，准确地找到最长的那一只（如有多个则任选一个）将其切成两半。神刀手切开蚯蚓的位置由常数 $p$（是满足 $0 < p < 1$ 的有理数）决定，设这只蚯蚓长度为 $x$，神刀手会将其切成两只长度分别为 $\\lfloor px \\rfloor$ 和 $x - \\lfloor px \\rfloor$ 的蚯蚓。特殊地，如果这两个数的其中一个等于 $0$，则这个长度为 $0$ 的蚯蚓也会被保留。此外，除了刚刚产生的两只新蚯蚓，其余蚯蚓的长度都会增加 $q$（是一个非负整常数）。\n\n蛐蛐国王知道这样不是长久之计，因为蚯蚓不仅会越来越多，还会越来越长。蛐蛐国王决定求助于一位有着洪荒之力的神秘人物，但是救兵还需要 $m$ 秒才能到来……（$m$ 为非负整数）\n\n蛐蛐国王希望知道这 $m$ 秒内的战况。具体来说，他希望知道：\n\n- $m$ 秒内，每一秒被切断的蚯蚓被切断前的长度（有 $m$ 个数）；\n- $m$ 秒后，所有蚯蚓的长度（有 $n + m$ 个数）。\n\n蛐蛐国王当然知道怎么做啦！但是他想考考你……", "inputFormat": "第一行包含六个整数 $n,m,q,u,v,t$，其中：$n,m,q$ 的意义见【问题描述】；$u,v,t$ 均为正整数；你需要自己计算 $p=u / v$（保证 $0 < u < v$）；$t$ 是输出参数，其含义将会在【输出格式】中解释。\n\n第二行包含 $n$ 个非负整数，为 $a_1, a_2, \\dots, a_n$，即初始时 $n$ 只蚯蚓的长度。\n\n同一行中相邻的两个数之间，恰好用一个空格隔开。\n\n保证 $1 \\leq n \\leq 10^5$，$0 \\leq m \\leq 7 \\times 10^6$，$0 < u < v \\leq 10^9$，$0 \\leq q \\leq 200$，$1 \\leq t \\leq 71$，$0 \\leq a_i \\leq 10^8$。", "outputFormat": "第一行输出 $\\left \\lfloor \\frac{m}{t} \\right \\rfloor$ 个整数，按时间顺序，依次输出第 $t$ 秒，第 $2t$ 秒，第 $3t$ 秒，……被切断蚯蚓（在被切断前）的长度。\n\n第二行输出 $\\left \\lfloor \\frac{n+m}{t} \\right \\rfloor$ 个整数，输出 $m$ 秒后蚯蚓的长度；需要按从大到小的顺序，依次输出排名第 $t$，第 $2t$，第 $3t$，……的长度。\n\n同一行中相邻的两个数之间，恰好用一个空格隔开。即使某一行没有任何数需要输出，你也应输出一个空行。\n\n请阅读样例来更好地理解这个格式。", "hint": "**样例解释 1**\n\n在神刀手到来前：$3$ 只蚯蚓的长度为 $3,3,2$。\n\n$1$ 秒后：一只长度为 $3$ 的蚯蚓被切成了两只长度分别为$1$ 和 $2$ 的蚯蚓，其余蚯蚓的长度增加了 $1$。最终 $4$ 只蚯蚓的长度分别为 $(1,2),4,3$。括号表示这个位置刚刚有一只蚯蚓被切断。\n\n$2$ 秒后：一只长度为 $4$ 的蚯蚓被切成了 $1$ 和 $3$。$5$ 只蚯蚓的长度分别为：$2,3,(1,3),4$。\n\n$3$ 秒后：一只长度为 $4$ 的蚯蚓被切断。$6$ 只蚯蚓的长度分别为：$3,4,2,4,(1,3)$。\n\n$4$ 秒后：一只长度为 $4$ 的蚯蚓被切断。$7$ 只蚯蚓的长度分别为：$4,(1,3),3,5,2,4$。\n\n$5$ 秒后：一只长度为 $5$ 的蚯蚓被切断。$8$ 只蚯蚓的长度分别为：$5,2,4,4,(1,4),3,5$。\n\n$6$ 秒后：一只长度为 $5$ 的蚯蚓被切断。$9$ 只蚯蚓的长度分别为：$(1,4),3,5,5,2,5,4,6$。\n\n$7$ 秒后：一只长度为 $6$ 的蚯蚓被切断。$10$ 只蚯蚓的长度分别为：$2,5,4,6,6,3,6,5,(2,4)$。所以，$7$ 秒内被切断的蚯蚓的长度依次为 $3,4,4,4,5,5,6$。$7$ 秒后，所有蚯蚓长度从大到小排序为 $6,6,6,5,5,4,4,3,2,2$。\n\n**样例解释 2**\n\n这个数据中只有 $t=2$ 与上个数据不同。只需在每行都改为每两个数输出一个数即可。\n\n虽然第一行最后有一个 $6$ 没有被输出，但是第二行仍然要重新从第二个数再开始输出。\n\n**样例解释 3**\n\n这个数据中只有 $t=9$ 与上个数据不同。\n\n注意第一行没有数要输出，但也要输出一个空行。\n\n\n**数据范围**\n\n::cute-table{tuack}\n| 测试点  | $n$            | $m$              | $t$   | $a_i$     | $v$       | $q$      |\n|:----:|:--------------:|:----------------:|:-----:|:---------:|:---------:|:--------:|\n| $1$  | $=1$           | $=0$             | $=1$  | $\\le10^6$ | $\\le2$    | $=0$     |\n| $2$  | $=10^3$        | ^                | ^     | ^         | ^         | ^        |\n| $3$  | $=10^5$        | ^                | ^     | ^         | ^         | ^        |\n| $4$  | $=1$           | $=10^3$          | ^     | ^         | ^         | ^        |\n| $5$  | $=10^3$        | ^                | ^     | ^         | ^         | ^        |\n| $6$  | $=1$           | ^                | ^     | ^         | ^         | $\\le200$ |\n| $7$  | $=10^3$        | ^                | ^     | ^         | ^         | ^        |\n| $8$  | $=5\\times10^4$ | $=5\\times10^4$   | ^     | ^         | ^         | $=0$     |\n| $9$  | $=10^5$        | $=10^5$          | $=2$  | ^         | ^         | ^        |\n| $10$ | ^              | $=2\\times10^6$   | $=21$ | ^         | ^         | ^        |\n| $11$ | ^              | $=2.5\\times10^6$ | $=26$ | ^         | ^         | ^        |\n| $12$ | ^              | $=3.5\\times10^6$ | $=36$ | $\\le10^7$ | ^         | ^        |\n| $13$ | ^              | $=5\\times10^6$   | $=51$ | ^         | $\\le10^9$ | ^        |\n| $14$ | ^              | $=7\\times10^6$   | $=71$ | $\\le10^8$ | ^         | ^        |\n| $15$ | $=5\\times10^4$ | $=5\\times10^4$   | $=1$  | ^         | $\\le2$    | $\\le200$ |\n| $16$ | ^              | $=1.5\\times10^5$ | $=2$  | ^         | ^         | ^        |\n| $17$ | $=10^5$        | $=10^5$          | $=3$  | ^         | $\\le10^9$ | ^        |\n| $18$ | ^              | $=3\\times10^5$   | $=4$  | ^         | ^         | ^        |\n| $19$ | ^              | $=3.5\\times10^6$ | $=36$ | ^         | ^         | ^        |\n| $20$ | ^              | $=7\\times10^6$   | $=71$ | ^         | ^         | ^        |", "locale": "zh-CN"}}}
{"pid": "P2829", "type": "P", "difficulty": 5, "samples": [["4 4 1\n1 2 100\n2 4 200\n2 3 250\n3 4 100", "450"], ["4 4 3\n1 2 100\n2 4 200\n2 3 250\n3 4 100", "500"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "最短路"], "title": "大逃离", "background": "zrz 走进了一个奇葩的迷宫，他发现自己迷路了，想逃出来，他好不容易数完了所有的路，累的快晕了，只好叫你帮忙咯。", "description": "这是一张有 $n$ 个节点，$m$ 条双向边的图，每一条边有 $w$ 个单位距离，zrz 在 $1$ 的位置，出口在 $n$ 的位置。\n\n不过 zrz 脑子出了点 bug，不想走最短的路，想走第二短的路。第二短路径允许与最短路径有重边，也可以重复通过一些节点和边。注意，如果有多条路径都是最短路径，那么他们都不能叫第二短路径。\n\n另外，如果接下来进入的一个节点，它所直接连接的地方小于 $k$ 个（起点和终点除外），那么 zrz 就会不敢进去。", "inputFormat": "第一行三个数：$n,m,k$。\n\n接下来 $m$ 行，每行三个数 $u,v,w$，表示 $u$ 和 $v$ 之间有一条权值为 $w$ 的双向边。", "outputFormat": "一个数，表示从 $1$ 走到 $n$ 的第二短路的值，如果不存在，输出 $-1$。", "hint": "对于 $50\\%$ 的数据：$n \\leq 10$，$m \\leq 10$；\n\n对于 $90\\%$ 的数据：$n \\leq 1000$，$m \\leq 20000$；\n\n对于 $100\\%$ 的数据：$1\\leq n \\leq 5000$，$1\\leq m \\leq 100000$，$1\\leq u,v \\leq n$，$1\\leq w\\leq 10000$。\n\n另外，$k$ 比较小。\n\n样例 $2$ 最短路径是 $300$（`1-2-4`）。因为无法从 $2$ 走到 $3$（$3$ 连接到节点只有 $2$ 个），所以可以 `1-2-1-2-4`，第二短路为 $500$。", "locale": "zh-CN", "translations": {"en": {"title": "The Great Escape", "background": "zrz walked into a peculiar maze. He found himself lost and wanted to get out. After barely finishing counting all the roads, he was so tired that he almost fainted, so he asked you for help.", "description": "This is a graph with $n$ nodes and $m$ undirected edges. Each edge has a length of $w$ units. zrz is at position $1$, and the exit is at position $n$.\n\nHowever, zrz’s brain has a little bug: he does not want the shortest path; he wants the second-shortest path. The second-shortest path may share edges with the shortest path and may pass through some nodes and edges multiple times. Note that if there are multiple paths that are all shortest, none of them can be called the second-shortest path.\n\nIn addition, if the next node to enter has fewer than $k$ directly connected neighbors (excluding the start and the exit), then zrz will not dare to enter it.", "inputFormat": "The first line contains three numbers: $n, m, k$.\n\nThe next $m$ lines each contain three numbers $u, v, w$, indicating there is an undirected edge of weight $w$ between $u$ and $v$.", "outputFormat": "Output a single number: the length of the second-shortest path from $1$ to $n$. If it does not exist, output $-1$.", "hint": "Constraints:\n- For $50\\%$ of the testdata: $n \\leq 10$, $m \\leq 10$.\n- For $90\\%$ of the testdata: $n \\leq 1000$, $m \\leq 20000$.\n- For $100\\%$ of the testdata: $1 \\leq n \\leq 5000$, $1 \\leq m \\leq 100000$, $1 \\leq u, v \\leq n$, $1 \\leq w \\leq 10000$.\n\nAlso, $k$ is relatively small.\n\nIn Sample $2$, the shortest path is $300$ (`1-2-4`). Because it is impossible to go from $2$ to $3$ ($3$ is connected to only $2$ nodes), it is allowed to go `1-2-1-2-4`, and the second-shortest path is $500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "大逃离", "background": "zrz 走进了一个奇葩的迷宫，他发现自己迷路了，想逃出来，他好不容易数完了所有的路，累的快晕了，只好叫你帮忙咯。", "description": "这是一张有 $n$ 个节点，$m$ 条双向边的图，每一条边有 $w$ 个单位距离，zrz 在 $1$ 的位置，出口在 $n$ 的位置。\n\n不过 zrz 脑子出了点 bug，不想走最短的路，想走第二短的路。第二短路径允许与最短路径有重边，也可以重复通过一些节点和边。注意，如果有多条路径都是最短路径，那么他们都不能叫第二短路径。\n\n另外，如果接下来进入的一个节点，它所直接连接的地方小于 $k$ 个（起点和终点除外），那么 zrz 就会不敢进去。", "inputFormat": "第一行三个数：$n,m,k$。\n\n接下来 $m$ 行，每行三个数 $u,v,w$，表示 $u$ 和 $v$ 之间有一条权值为 $w$ 的双向边。", "outputFormat": "一个数，表示从 $1$ 走到 $n$ 的第二短路的值，如果不存在，输出 $-1$。", "hint": "对于 $50\\%$ 的数据：$n \\leq 10$，$m \\leq 10$；\n\n对于 $90\\%$ 的数据：$n \\leq 1000$，$m \\leq 20000$；\n\n对于 $100\\%$ 的数据：$1\\leq n \\leq 5000$，$1\\leq m \\leq 100000$，$1\\leq u,v \\leq n$，$1\\leq w\\leq 10000$。\n\n另外，$k$ 比较小。\n\n样例 $2$ 最短路径是 $300$（`1-2-4`）。因为无法从 $2$ 走到 $3$（$3$ 连接到节点只有 $2$ 个），所以可以 `1-2-1-2-4`，第二短路为 $500$。", "locale": "zh-CN"}}}
{"pid": "P2830", "type": "P", "difficulty": 4, "samples": [["int a[10]\na[a[0]] 2\ncout a[0]", "2"], ["int a[10]\na[0] 10\ncout a[0]\na[a[0]] 1\ncout a[0]", "10\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "写程序", "background": "zrz 在写程序，他叫你帮他看看他的程序有没有问题。", "description": "有一个若干行的程序，每一行只有一个命令，可能出现的命令有一下几种：\n\n- `int a[N]` 声明一个数组，开头一定是 `int`，不会是别的什么 `long long` 之类的，`a` 是指一个数组的名称（不一定是 `a`，也有可能是别的字母或者多个字母，总之长度不超过 $10$），后面是一个中括号和**一个数字或一个变量**，表示数组大小（从 $0$ 到 $N-1$，$N\\le100$），数组声明之后里面的数均为 $0$。\n- `a[i] h` 把 `h` 赋给 `a[i]`（也就是 `a[i]=h`），同样 $h$ 可能是**一个数字或者是一个变量**，$i$ 代表一个数字或者是一个变量。\n- `cout h` 输出 $h$，$h$ 一定是个变量。\n\n对于以下两种情况，不管是哪个命令，都要立即停止，无论下面有多少行命令都忽略，并输出 `-1`：\n\n* 在某一行发现有数组下标越界。\n\n* 定义了一个大小为 $0$ 的数组。", "inputFormat": "若干行：每行一个命令。", "outputFormat": "对于每一个输出的命令（即 `cout`），按题目要求，输出一行。", "hint": "行数不超过 $10$，变量可能嵌套，如 `a[a[b[0]]]` 等等，也有可能出现大写字母，所有的出现的数字不会超过 $10^9$，也不会是负数，更不会是小数。", "locale": "zh-CN", "translations": {"en": {"title": "Write a Program", "background": "zrz is writing a program. He asks you to check whether there are any problems with his program.", "description": "There is a program with several lines, and each line contains exactly one command. The possible commands are as follows:\n\n- `int a[N]` Declare an array. The keyword is always `int`, never something else like `long long`. `a` denotes the name of an array (not necessarily `a`; it could be another letter or multiple letters, with length no more than $10$). After that is a pair of brackets containing either a number or a variable, indicating the array size (indices range from $0$ to $N-1$, $N\\le100$). After the array is declared, all its elements are $0$.\n- `a[i] h` Assign `h` to `a[i]` (i.e., `a[i]=h`). Here $h$ can be either a number or a variable, and $i$ can be either a number or a variable.\n- `cout h` Output $h$, where $h$ must be a variable.", "inputFormat": "Several lines: one command per line.", "outputFormat": "For each output command (i.e., `cout`), print one line.\n\nIf an out-of-bounds array index is found on any line (note that only this type of error can occur; there will not be other issues such as redefinition), stop immediately regardless of how many commands remain below, ignore all remaining commands, and output `-1`.", "hint": "The number of lines does not exceed $10$. Variables may be nested, such as `a[a[b[0]]]`, etc. Uppercase letters may also appear. All numbers that appear do not exceed $10^9$, are not negative, and are not decimals.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "写程序", "background": "zrz 在写程序，他叫你帮他看看他的程序有没有问题。", "description": "有一个若干行的程序，每一行只有一个命令，可能出现的命令有一下几种：\n\n- `int a[N]` 声明一个数组，开头一定是 `int`，不会是别的什么 `long long` 之类的，`a` 是指一个数组的名称（不一定是 `a`，也有可能是别的字母或者多个字母，总之长度不超过 $10$），后面是一个中括号和**一个数字或一个变量**，表示数组大小（从 $0$ 到 $N-1$，$N\\le100$），数组声明之后里面的数均为 $0$。\n- `a[i] h` 把 `h` 赋给 `a[i]`（也就是 `a[i]=h`），同样 $h$ 可能是**一个数字或者是一个变量**，$i$ 代表一个数字或者是一个变量。\n- `cout h` 输出 $h$，$h$ 一定是个变量。\n\n对于以下两种情况，不管是哪个命令，都要立即停止，无论下面有多少行命令都忽略，并输出 `-1`：\n\n* 在某一行发现有数组下标越界。\n\n* 定义了一个大小为 $0$ 的数组。", "inputFormat": "若干行：每行一个命令。", "outputFormat": "对于每一个输出的命令（即 `cout`），按题目要求，输出一行。", "hint": "行数不超过 $10$，变量可能嵌套，如 `a[a[b[0]]]` 等等，也有可能出现大写字母，所有的出现的数字不会超过 $10^9$，也不会是负数，更不会是小数。", "locale": "zh-CN"}}}
{"pid": "P2831", "type": "P", "difficulty": 5, "samples": [["2\n2 0\n1.00 3.00\n3.00 3.00\n5 2\n1.00 5.00\n2.00 8.00\n3.00 9.00\n4.00 8.00\n5.00 5.00", "1\n1"], ["3\n2 0\n1.41 2.00\n1.73 3.00\n3 0\n1.11 1.41\n2.34 1.79\n2.98 1.49\n5 0\n2.72 2.72\n2.72 3.14\n3.14 2.72\n3.14 3.14\n5.00 5.00", "2\n2\n3\n"], ["1\n10 0\n7.16 6.28\n2.02 0.38\n8.33 7.78\n7.68 2.09\n7.46 7.86\n5.77 7.44\n8.24 6.72\n4.42 5.11\n5.42 7.79\n8.15 4.99", "6\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["搜索", "2016", "NOIP 提高组", "状压 DP"], "title": "[NOIP 2016 提高组] 愤怒的小鸟", "background": "NOIP2016 提高组 D2T3", "description": "Kiana 最近沉迷于一款神奇的游戏无法自拔。\n\n简单来说，这款游戏是在一个平面上进行的。\n\n有一架弹弓位于 $(0,0)$ 处，每次 Kiana 可以用它向第一象限发射一只红色的小鸟，小鸟们的飞行轨迹均为形如 $y=ax^2+bx$ 的曲线，其中 $a,b$ 是 Kiana 指定的参数，且必须满足 $a < 0$，$a,b$ 都是实数。\n\n当小鸟落回地面（即 $x$ 轴）时，它就会瞬间消失。\n\n在游戏的某个关卡里，平面的第一象限中有 $n$ 只绿色的小猪，其中第 $i$ 只小猪所在的坐标为 $\\left(x_i,y_i \\right)$。\n\n如果某只小鸟的飞行轨迹经过了 $\\left( x_i, y_i \\right)$，那么第 $i$ 只小猪就会被消灭掉，同时小鸟将会沿着原先的轨迹继续飞行；\n\n如果一只小鸟的飞行轨迹没有经过 $\\left( x_i, y_i \\right)$，那么这只小鸟飞行的全过程就不会对第 $i$ 只小猪产生任何影响。\n\n例如，若两只小猪分别位于 $(1,3)$ 和 $(3,3)$，Kiana 可以选择发射一只飞行轨迹为 $y=-x^2+4x$ 的小鸟，这样两只小猪就会被这只小鸟一起消灭。\n\n而这个游戏的目的，就是通过发射小鸟消灭所有的小猪。\n\n这款神奇游戏的每个关卡对 Kiana 来说都很难，所以 Kiana 还输入了一些神秘的指令，使得自己能更轻松地完成这个游戏。这些指令将在【输入格式】中详述。\n\n假设这款游戏一共有 $T$ 个关卡，现在 Kiana 想知道，对于每一个关卡，至少需要发射多少只小鸟才能消灭所有的小猪。由于她不会算，所以希望由你告诉她。", "inputFormat": "第一行包含一个正整数 $T$，表示游戏的关卡总数。\n\n下面依次输入这 $T$ 个关卡的信息。每个关卡第一行包含两个非负整数 $n,m$，分别表示该关卡中的小猪数量和 Kiana 输入的神秘指令类型。接下来的 $n$ 行中，第 $i$ 行包含两个正实数 $x_i,y_i$，表示第 $i$ 只小猪坐标为 $(x_i,y_i)$。数据保证同一个关卡中不存在两只坐标完全相同的小猪。\n\n如果 $m=0$，表示 Kiana 输入了一个没有任何作用的指令。\n\n如果 $m=1$，则这个关卡将会满足：至多用 $\\lceil n/3 + 1 \\rceil$ 只小鸟即可消灭所有小猪。\n\n如果 $m=2$，则这个关卡将会满足：一定存在一种最优解，其中有一只小鸟消灭了至少 $\\lfloor n/3 \\rfloor$ 只小猪。\n\n保证 $1\\leq n \\leq 18$，$0\\leq m \\leq 2$，$0 < x_i,y_i < 10$，输入中的实数均保留到小数点后两位。\n\n上文中，符号 $\\lceil c \\rceil$ 和 $\\lfloor c \\rfloor$ 分别表示对 $c$ 向上取整和向下取整，例如：$\\lceil 2.1 \\rceil = \\lceil 2.9 \\rceil = \\lceil 3.0 \\rceil = \\lfloor 3.0 \\rfloor = \\lfloor 3.1 \\rfloor = \\lfloor 3.9 \\rfloor = 3$。", "outputFormat": "对每个关卡依次输出一行答案。\n\n输出的每一行包含一个正整数，表示相应的关卡中，消灭所有小猪最少需要的小鸟数量。", "hint": "【样例解释1】\n\n这组数据中一共有两个关卡。\n\n第一个关卡与【问题描述】中的情形相同，$2$ 只小猪分别位于 $(1.00,3.00)$ 和 $(3.00,3.00)$，只需发射一只飞行轨迹为 $y = -x^2 + 4x$ 的小鸟即可消灭它们。\n\n第二个关卡中有 $5$ 只小猪，但经过观察我们可以发现它们的坐标都在抛物线 $y = -x^2 + 6x$上，故 Kiana 只需要发射一只小鸟即可消灭所有小猪。\n\n【数据范围】\n\n| 测试点编号 |   $n\\leqslant$ |   $m=$ |  $T\\leqslant$ |\n| :----------: | :----------: | :----------: | :----------: |\n|   $1$ |   $2$ |   $0$ |  $10$ |\n|   $2$ |   $2$ |   $0$ |  $30$ |\n|   $3$ |   $3$ |   $0$ |  $10$ |\n|   $4$ |   $3$ |   $0$ |  $30$ |\n|   $5$ |   $4$ |   $0$ |  $10$ |\n|   $6$ |   $4$ |   $0$ |  $30$ |\n|   $7$ |   $5$ |   $0$ |  $10$ |\n|   $8$ |   $6$ |   $0$ |  $10$ |\n|   $9$ |   $7$ |   $0$ |  $10$ |\n|   $10$ |   $8$ |   $0$ |  $10$ |\n|   $11$ |   $9$ |   $0$ |  $30$ |\n|   $12$ |   $10$ |   $0$ |  $30$ |\n|   $13$ |   $12$ |   $1$ |  $30$ |\n|   $14$ |   $12$ |   $2$ |  $30$ |\n|   $15$ |   $15$ |   $0$ |  $15$ |\n|   $16$ |   $15$ |   $1$ |  $15$ |\n|   $17$ |   $15$ |   $2$ |  $15$ |\n|   $18$ |   $18$ |   $0$ |  $5$ |\n|   $19$ |   $18$ |   $1$ |  $5$ |\n|   $20$ |   $18$ |   $2$ |  $5$ |", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2016 Senior] Angry Birds", "background": "NOIP 2016 Senior Day 2 Task 3.", "description": "Kiana has recently become addicted to a magical game.\n\nSimply put, this game takes place on a plane.\n\nThere is a slingshot at $ (0, 0) $. Each time, Kiana can use it to launch a red bird toward the first quadrant. The flight trajectory of a bird is a curve of the form $ y = a x^2 + b x $, where $ a, b $ are parameters chosen by Kiana and must satisfy $ a < 0 $, with $ a, b $ being real numbers.\n\nWhen a bird falls back to the ground (i.e., the $ x $-axis), it disappears instantly.\n\nIn a certain level of the game, there are $ n $ green pigs in the first quadrant of the plane. The $ i $-th pig is at coordinates $ \\left( x_i, y_i \\right) $.\n\nIf a bird’s trajectory passes through $ \\left( x_i, y_i \\right) $, then the $ i $-th pig will be eliminated, and the bird will continue along its original trajectory. If a bird’s trajectory does not pass through $ \\left( x_i, y_i \\right) $, then that bird’s entire flight has no effect on the $ i $-th pig.\n\nFor example, if two pigs are at $ (1, 3) $ and $ (3, 3) $, Kiana can choose to launch a bird with trajectory $ y = -x^2 + 4x $, and both pigs will be eliminated by this bird.\n\nThe goal of the game is to eliminate all the pigs by launching birds.\n\nEach level of this magical game is difficult for Kiana, so she also entered some mysterious commands to make it easier to complete the game. These commands are detailed in Input Format.\n\nAssume the game has $ T $ levels. Now Kiana wants to know, for each level, the minimum number of birds needed to eliminate all the pigs. Since she cannot compute it herself, she hopes you will tell her.", "inputFormat": "The first line contains a positive integer $ T $, the total number of levels in the game.\n\nThen, for each of the $ T $ levels, the first line contains two non-negative integers $ n, m $, representing the number of pigs in that level and the type of mysterious command Kiana entered, respectively. The next $ n $ lines each contain two positive real numbers $ x_i, y_i $, indicating that the $ i $-th pig is at $ (x_i, y_i) $. It is guaranteed that no two pigs in the same level share identical coordinates.\n\nIf $ m = 0 $, it means Kiana entered a command that has no effect.\n\nIf $ m = 1 $, then this level satisfies: at most $ \\lceil n / 3 + 1 \\rceil $ birds are sufficient to eliminate all pigs.\n\nIf $ m = 2 $, then this level satisfies: there is an optimal solution in which one bird eliminates at least $ \\lfloor n / 3 \\rfloor $ pigs.\n\nIt is guaranteed that $ 1 \\leq n \\leq 18 $, $ 0 \\leq m \\leq 2 $, and $ 0 < x_i, y_i < 10 $. All real numbers in the input are given to two decimal places.\n\nIn the above, the symbols $ \\lceil c \\rceil $ and $ \\lfloor c \\rfloor $ denote the ceiling and floor of $ c $, respectively. For example: $ \\lceil 2.1 \\rceil = \\lceil 2.9 \\rceil = \\lceil 3.0 \\rceil = \\lfloor 3.0 \\rfloor = \\lfloor 3.1 \\rfloor = \\lfloor 3.9 \\rfloor = 3 $.", "outputFormat": "For each level, output one line with a positive integer: the minimum number of birds needed to eliminate all pigs in that level.", "hint": "Sample Explanation 1.\n\nThere are two levels in this set of testdata.\n\nIn the first level, as in the Description, $ 2 $ pigs are at $ (1.00, 3.00) $ and $ (3.00, 3.00) $. Launching one bird with trajectory $ y = -x^2 + 4x $ is enough to eliminate them.\n\nIn the second level, there are $ 5 $ pigs, and by observation they all lie on the parabola $ y = -x^2 + 6x $, so Kiana needs to launch only one bird to eliminate all pigs.\n\nConstraints\n\n| Test point ID | $n\\leqslant$ | $m=$ | $T\\leqslant$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $2$ | $0$ | $10$ |\n| $2$ | $2$ | $0$ | $30$ |\n| $3$ | $3$ | $0$ | $10$ |\n| $4$ | $3$ | $0$ | $30$ |\n| $5$ | $4$ | $0$ | $10$ |\n| $6$ | $4$ | $0$ | $30$ |\n| $7$ | $5$ | $0$ | $10$ |\n| $8$ | $6$ | $0$ | $10$ |\n| $9$ | $7$ | $0$ | $10$ |\n| $10$ | $8$ | $0$ | $10$ |\n| $11$ | $9$ | $0$ | $30$ |\n| $12$ | $10$ | $0$ | $30$ |\n| $13$ | $12$ | $1$ | $30$ |\n| $14$ | $12$ | $2$ | $30$ |\n| $15$ | $15$ | $0$ | $15$ |\n| $16$ | $15$ | $1$ | $15$ |\n| $17$ | $15$ | $2$ | $15$ |\n| $18$ | $18$ | $0$ | $5$ |\n| $19$ | $18$ | $1$ | $5$ |\n| $20$ | $18$ | $2$ | $5$ |\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2016 提高组] 愤怒的小鸟", "background": "NOIP2016 提高组 D2T3", "description": "Kiana 最近沉迷于一款神奇的游戏无法自拔。\n\n简单来说，这款游戏是在一个平面上进行的。\n\n有一架弹弓位于 $(0,0)$ 处，每次 Kiana 可以用它向第一象限发射一只红色的小鸟，小鸟们的飞行轨迹均为形如 $y=ax^2+bx$ 的曲线，其中 $a,b$ 是 Kiana 指定的参数，且必须满足 $a < 0$，$a,b$ 都是实数。\n\n当小鸟落回地面（即 $x$ 轴）时，它就会瞬间消失。\n\n在游戏的某个关卡里，平面的第一象限中有 $n$ 只绿色的小猪，其中第 $i$ 只小猪所在的坐标为 $\\left(x_i,y_i \\right)$。\n\n如果某只小鸟的飞行轨迹经过了 $\\left( x_i, y_i \\right)$，那么第 $i$ 只小猪就会被消灭掉，同时小鸟将会沿着原先的轨迹继续飞行；\n\n如果一只小鸟的飞行轨迹没有经过 $\\left( x_i, y_i \\right)$，那么这只小鸟飞行的全过程就不会对第 $i$ 只小猪产生任何影响。\n\n例如，若两只小猪分别位于 $(1,3)$ 和 $(3,3)$，Kiana 可以选择发射一只飞行轨迹为 $y=-x^2+4x$ 的小鸟，这样两只小猪就会被这只小鸟一起消灭。\n\n而这个游戏的目的，就是通过发射小鸟消灭所有的小猪。\n\n这款神奇游戏的每个关卡对 Kiana 来说都很难，所以 Kiana 还输入了一些神秘的指令，使得自己能更轻松地完成这个游戏。这些指令将在【输入格式】中详述。\n\n假设这款游戏一共有 $T$ 个关卡，现在 Kiana 想知道，对于每一个关卡，至少需要发射多少只小鸟才能消灭所有的小猪。由于她不会算，所以希望由你告诉她。", "inputFormat": "第一行包含一个正整数 $T$，表示游戏的关卡总数。\n\n下面依次输入这 $T$ 个关卡的信息。每个关卡第一行包含两个非负整数 $n,m$，分别表示该关卡中的小猪数量和 Kiana 输入的神秘指令类型。接下来的 $n$ 行中，第 $i$ 行包含两个正实数 $x_i,y_i$，表示第 $i$ 只小猪坐标为 $(x_i,y_i)$。数据保证同一个关卡中不存在两只坐标完全相同的小猪。\n\n如果 $m=0$，表示 Kiana 输入了一个没有任何作用的指令。\n\n如果 $m=1$，则这个关卡将会满足：至多用 $\\lceil n/3 + 1 \\rceil$ 只小鸟即可消灭所有小猪。\n\n如果 $m=2$，则这个关卡将会满足：一定存在一种最优解，其中有一只小鸟消灭了至少 $\\lfloor n/3 \\rfloor$ 只小猪。\n\n保证 $1\\leq n \\leq 18$，$0\\leq m \\leq 2$，$0 < x_i,y_i < 10$，输入中的实数均保留到小数点后两位。\n\n上文中，符号 $\\lceil c \\rceil$ 和 $\\lfloor c \\rfloor$ 分别表示对 $c$ 向上取整和向下取整，例如：$\\lceil 2.1 \\rceil = \\lceil 2.9 \\rceil = \\lceil 3.0 \\rceil = \\lfloor 3.0 \\rfloor = \\lfloor 3.1 \\rfloor = \\lfloor 3.9 \\rfloor = 3$。", "outputFormat": "对每个关卡依次输出一行答案。\n\n输出的每一行包含一个正整数，表示相应的关卡中，消灭所有小猪最少需要的小鸟数量。", "hint": "【样例解释1】\n\n这组数据中一共有两个关卡。\n\n第一个关卡与【问题描述】中的情形相同，$2$ 只小猪分别位于 $(1.00,3.00)$ 和 $(3.00,3.00)$，只需发射一只飞行轨迹为 $y = -x^2 + 4x$ 的小鸟即可消灭它们。\n\n第二个关卡中有 $5$ 只小猪，但经过观察我们可以发现它们的坐标都在抛物线 $y = -x^2 + 6x$上，故 Kiana 只需要发射一只小鸟即可消灭所有小猪。\n\n【数据范围】\n\n| 测试点编号 |   $n\\leqslant$ |   $m=$ |  $T\\leqslant$ |\n| :----------: | :----------: | :----------: | :----------: |\n|   $1$ |   $2$ |   $0$ |  $10$ |\n|   $2$ |   $2$ |   $0$ |  $30$ |\n|   $3$ |   $3$ |   $0$ |  $10$ |\n|   $4$ |   $3$ |   $0$ |  $30$ |\n|   $5$ |   $4$ |   $0$ |  $10$ |\n|   $6$ |   $4$ |   $0$ |  $30$ |\n|   $7$ |   $5$ |   $0$ |  $10$ |\n|   $8$ |   $6$ |   $0$ |  $10$ |\n|   $9$ |   $7$ |   $0$ |  $10$ |\n|   $10$ |   $8$ |   $0$ |  $10$ |\n|   $11$ |   $9$ |   $0$ |  $30$ |\n|   $12$ |   $10$ |   $0$ |  $30$ |\n|   $13$ |   $12$ |   $1$ |  $30$ |\n|   $14$ |   $12$ |   $2$ |  $30$ |\n|   $15$ |   $15$ |   $0$ |  $15$ |\n|   $16$ |   $15$ |   $1$ |  $15$ |\n|   $17$ |   $15$ |   $2$ |  $15$ |\n|   $18$ |   $18$ |   $0$ |  $5$ |\n|   $19$ |   $18$ |   $1$ |  $5$ |\n|   $20$ |   $18$ |   $2$ |  $5$ |", "locale": "zh-CN"}}}
{"pid": "P2832", "type": "P", "difficulty": 5, "samples": [["5 8\n2 4 2\n5 2 1\n1 2 1\n4 3 2\n1 3 3\n4 5 2\n1 5 8\n3 5 3\n", "7\n1 3 5 \n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论"], "title": "行路难【疑似 std 复杂度有误】", "background": "小X来到了山区，领略山林之乐。在他乐以忘忧之时，他突然发现，开学迫在眉睫\n", "description": "山区有 $n$ 座山。山之间有 $m$ 条羊肠小道，每条连接两座山，只能单向通过，并会耗费小 X 一定时间。\n\n小 X 现在在 $1$ 号山，他的目的是 $n$ 号山，因为那里有火车站。\n\n然而小 X 的体力是有限的。他每通过一条羊肠小道，就会变得更疲劳，导致他通过任意一条羊肠小道的时间都增加 $1$。", "inputFormat": "第一行两个数，$n,m$。\n\n第 $2$ 行到第 $m+1$ 行，每行 $3$ 个数 $A, B, C$，表示 $A$ 、 $B$ 之间有一条羊肠小道，可以让小 X 花费 $C$ 的时间从 $A$ 移动到 $B$。", "outputFormat": "\n第一行一个数 $T$，表示小 X 需要的最短时间。\n\n第二行若干个数，用空格隔开，表示小 X 的移动路线。例如，$[1, 4, 2, 5]$ 表示小 $X$ 从 $1$ 号山开始，移动到 $4$ 号山，再到 $2$ 号山，最后到 $5$ 号山。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$n \\le 10^4$，$m \\le 2\\times 10^5$。\n\n数据保证没有多条最短路径。", "locale": "zh-CN", "translations": {"en": {"title": "Hard Road [Suspected standard solution (std) complexity is incorrect]", "background": "Xiao X came to the mountains and enjoyed the pleasures of the forest. While he was happily forgetting his worries, he suddenly realized that the new semester was imminent.", "description": "There are $n$ mountains in the mountainous area. There are $m$ narrow mountain paths between the mountains. Each path connects two mountains, is one-way, and costs Xiao X a certain amount of time.\n\nXiao X is currently at mountain $1$. His goal is mountain $n$, because there is a train station there.\n\nHowever, Xiao X’s stamina is limited. Each time he traverses a narrow mountain path, he becomes more tired, causing the time to traverse any narrow mountain path to increase by $1$.", "inputFormat": "The first line contains two integers, $n, m$.\n\nFrom line $2$ to line $m+1$, each line contains $3$ integers $A, B, C$, indicating that there is a narrow mountain path from $A$ to $B$ that allows Xiao X to move from $A$ to $B$ with a time cost of $C$.", "outputFormat": "The first line contains an integer $T$, the shortest time Xiao X needs.\n\nThe second line contains a sequence of integers separated by spaces, representing Xiao X’s route. For example, [1, 4, 2, 5] means Xiao X starts from mountain 1, moves to mountain 4, then to mountain 2, and finally to mountain 5.", "hint": "Constraints\n\nFor all testdata, $n \\le 10^4$, $m \\le 2 \\times 10^5$.\n\nThe testdata guarantees that the shortest path is unique.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "行路难【疑似 std 复杂度有误】", "background": "小X来到了山区，领略山林之乐。在他乐以忘忧之时，他突然发现，开学迫在眉睫\n", "description": "山区有 $n$ 座山。山之间有 $m$ 条羊肠小道，每条连接两座山，只能单向通过，并会耗费小 X 一定时间。\n\n小 X 现在在 $1$ 号山，他的目的是 $n$ 号山，因为那里有火车站。\n\n然而小 X 的体力是有限的。他每通过一条羊肠小道，就会变得更疲劳，导致他通过任意一条羊肠小道的时间都增加 $1$。", "inputFormat": "第一行两个数，$n,m$。\n\n第 $2$ 行到第 $m+1$ 行，每行 $3$ 个数 $A, B, C$，表示 $A$ 、 $B$ 之间有一条羊肠小道，可以让小 X 花费 $C$ 的时间从 $A$ 移动到 $B$。", "outputFormat": "\n第一行一个数 $T$，表示小 X 需要的最短时间。\n\n第二行若干个数，用空格隔开，表示小 X 的移动路线。例如，$[1, 4, 2, 5]$ 表示小 $X$ 从 $1$ 号山开始，移动到 $4$ 号山，再到 $2$ 号山，最后到 $5$ 号山。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$n \\le 10^4$，$m \\le 2\\times 10^5$。\n\n数据保证没有多条最短路径。", "locale": "zh-CN"}}}
{"pid": "P2833", "type": "P", "difficulty": 4, "samples": [["1 1 -3 0 4 0 4", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "洛谷原创"], "title": "等式", "background": "ZKC 有一天突发奇想，望着天空想出一道很好的问题，但是绞尽脑汁又不会做，所以请你来帮他解决。\n", "description": "给出 $a,b,c,x_1,x_2,y_1,y_2$，求满足 $ax+by+c=0$，且 $x\\in [x_1,x_2]$，$y\\in [y_1,y_2]$ 的整数解有多少对。\n", "inputFormat": "一行七个整数 $a,b,c,x_1,x_2,y_1,y_2$，整数间用空格隔开。\n", "outputFormat": "输出整数解有多少对。\n", "hint": "对于 $30\\%$ 的数据，$a,b,c,x_1,x_2,y_1,y_2$ 的绝对值不超过 $1000$。\n\n对于 $100\\%$ 的数据，$a,b,c,x_1,x_2,y_1,y_2$ 的绝对值不超过 $10^8$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Equation", "background": "One day, ZKC had a sudden idea. Staring at the sky, he came up with a nice problem, but after racking his brains he could not solve it, so he asks you to help him.", "description": "Given $a, b, c, x_1, x_2, y_1, y_2$, find how many pairs of integer solutions satisfy $ax + by + c = 0$, with $x \\in [x_1, x_2]$ and $y \\in [y_1, y_2]$.", "inputFormat": "A single line contains seven integers $a, b, c, x_1, x_2, y_1, y_2$, separated by spaces.", "outputFormat": "Output the number of pairs of integer solutions.", "hint": "For $30\\%$ of the testdata, the absolute values of $a, b, c, x_1, x_2, y_1, y_2$ do not exceed $1000$.\n\nFor $100\\%$ of the testdata, the absolute values of $a, b, c, x_1, x_2, y_1, y_2$ do not exceed $10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "等式", "background": "ZKC 有一天突发奇想，望着天空想出一道很好的问题，但是绞尽脑汁又不会做，所以请你来帮他解决。\n", "description": "给出 $a,b,c,x_1,x_2,y_1,y_2$，求满足 $ax+by+c=0$，且 $x\\in [x_1,x_2]$，$y\\in [y_1,y_2]$ 的整数解有多少对。\n", "inputFormat": "一行七个整数 $a,b,c,x_1,x_2,y_1,y_2$，整数间用空格隔开。\n", "outputFormat": "输出整数解有多少对。\n", "hint": "对于 $30\\%$ 的数据，$a,b,c,x_1,x_2,y_1,y_2$ 的绝对值不超过 $1000$。\n\n对于 $100\\%$ 的数据，$a,b,c,x_1,x_2,y_1,y_2$ 的绝对值不超过 $10^8$。\n", "locale": "zh-CN"}}}
{"pid": "P2834", "type": "P", "difficulty": 2, "samples": [["6 15\n1 5 10 20 50 100", "6"], ["3 15\n1 5 11", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP"], "title": "纸币问题 3", "background": "你是一个非常有钱的小朋友。\n\n**注意：** 本题和《进阶篇》的对应题目，输入格式略有差异。", "description": "你有 $n$ 种面额互不相同的纸币，第 $i$ 种纸币的面额为 $a_i$ 并且有无限张，现在你需要支付 $w$ 的金额，请问有多少种纸币组合能恰好支付金额 $w$，答案对 $10^9+7$ 取模。", "inputFormat": "第一行两个正整数 $n,w$，分别表示纸币的种数和要凑出的金额。  \n第二行一行 $n$ 个以空格隔开的正整数 $a_1, a_2, \\dots a_n$ 依次表示这 $n$ 种纸币的面额。", "outputFormat": "一行一个整数，表示能恰好凑齐面额 $w$ 的纸币组合数量。", "hint": "对于 $40\\%$ 的数据，满足 $n\\le 10$，$w\\le 100$；  \n对于 $100\\%$ 的数据，满足 $1\\le n\\le 10^3$，$1\\le a_i , w\\le 10^4$。\n\n其实小朋友并不有钱。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "纸币问题 3", "background": "你是一个非常有钱的小朋友。\n\n**注意：** 本题和《进阶篇》的对应题目，输入格式略有差异。", "description": "你有 $n$ 种面额互不相同的纸币，第 $i$ 种纸币的面额为 $a_i$ 并且有无限张，现在你需要支付 $w$ 的金额，请问有多少种纸币组合能恰好支付金额 $w$，答案对 $10^9+7$ 取模。", "inputFormat": "第一行两个正整数 $n,w$，分别表示纸币的种数和要凑出的金额。  \n第二行一行 $n$ 个以空格隔开的正整数 $a_1, a_2, \\dots a_n$ 依次表示这 $n$ 种纸币的面额。", "outputFormat": "一行一个整数，表示能恰好凑齐面额 $w$ 的纸币组合数量。", "hint": "对于 $40\\%$ 的数据，满足 $n\\le 10$，$w\\le 100$；  \n对于 $100\\%$ 的数据，满足 $1\\le n\\le 10^3$，$1\\le a_i , w\\le 10^4$。\n\n其实小朋友并不有钱。", "locale": "zh-CN"}}}
{"pid": "P2835", "type": "P", "difficulty": 4, "samples": [["5\n2 3 4 0\n4 5 0\n0\n0\n1 0", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["图论", "并查集", "强连通分量", "Floyd 算法"], "title": "刻录光盘", "background": "在 JSOI2005 夏令营快要结束的时候，很多营员提出来要把整个夏令营期间的资料刻录成一张光盘给大家，以便大家回去后继续学习。组委会觉得这个主意不错！可是组委会一时没有足够的空光盘，没法保证每个人都能拿到刻录上资料的光盘，又来不及去买了，怎么办呢？", "description": "组委会把这个难题交给了 LHC，LHC 分析了一下所有营员的地域关系，发现有些营员是一个城市的，其实他们只需要一张就可以了，因为一个人拿到光盘后，其他人可以带着 U 盘之类的东西去拷贝啊！\n\n可是，LHC 调查后发现，由于种种原因，有些营员并不是那么的合作，他们愿意某一些人到他那儿拷贝资料，也不愿意让另外一些人到他那儿拷贝资料，这与我们 JSOI 宣扬的团队合作精神格格不入！！！\n\n现在假设总共有 $N$ 个营员 $(2 \\le N \\le 200)$，每个营员的编号为 $1 \\sim N$。LHC 给每个人发了一张调查表，让每个营员填上自己愿意让哪些人到他那儿拷贝资料。当然，如果 A 愿意把资料拷贝给 B，而 B 又愿意把资料拷贝给 C，则一旦 A 获得了资料，则 B 和 C 都会获得资料。\n\n现在，请你编写一个程序，根据回收上来的调查表，帮助 LHC 计算出组委会至少要刻录多少张光盘，才能保证所有营员回去后都能得到夏令营资料？", "inputFormat": "先是一个数 $N$ 代表有 $N$ 个营员。接下来的 $N$ 行，分别表示各个营员愿意把自己获得的资料拷贝给其他哪些营员。即输入数据的第 $i+1$ 行表示第 $i$ 个营员愿意把资料拷贝给那些营员的编号，以 $0$ 结束。如果一个营员不愿意拷贝资料给任何人，则相应的行只有 $0$。一行中的数之间用一个空格隔开。", "outputFormat": "一个正整数，表示最少要刻录的光盘数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "Burning CDs", "background": "As the JSOI 2005 summer camp was about to end, many campers suggested burning all the materials from the entire camp onto a single CD for everyone, so they could continue studying after going home. The organizing committee thought this was a good idea! However, they did not have enough blank CDs at the moment to ensure that everyone could get one, and there was no time to buy more. What should they do?", "description": "The organizing committee handed this problem to LHC. After analyzing the campers’ locations, LHC found that some campers are from the same city. In fact, they only need one disc, because once one person gets the disc, others can bring a USB drive and copy the materials.\n\nHowever, after investigation, LHC discovered that, for various reasons, some campers are not very cooperative: they are willing to let certain people copy materials from them, but unwilling to let others do so. This goes against the team spirit promoted by JSOI.\n\nNow suppose there are $N$ campers $(2 \\le N \\le 200)$, numbered $1 \\sim N$. LHC gave everyone a survey form to fill in the people they are willing to let copy materials from them. Of course, if A is willing to copy to B, and B is willing to copy to C, then once A obtains the materials, both B and C will obtain them.\n\nPlease write a program that, based on the returned survey forms, helps LHC compute the minimum number of CDs the organizing committee must burn to ensure that all campers can get the summer camp materials after going home.", "inputFormat": "First is a number $N$ indicating there are $N$ campers. The next $N$ lines respectively indicate which other campers each camper is willing to copy the materials to. Specifically, the $(i+1)$-th line of the input indicates the IDs of the campers to whom the $i$-th camper is willing to copy, ending with $0$. If a camper is unwilling to copy to anyone, the corresponding line contains only $0$. Numbers on a line are separated by a single space.", "outputFormat": "A single positive integer, indicating the minimum number of CDs that must be burned.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "刻录光盘", "background": "在 JSOI2005 夏令营快要结束的时候，很多营员提出来要把整个夏令营期间的资料刻录成一张光盘给大家，以便大家回去后继续学习。组委会觉得这个主意不错！可是组委会一时没有足够的空光盘，没法保证每个人都能拿到刻录上资料的光盘，又来不及去买了，怎么办呢？", "description": "组委会把这个难题交给了 LHC，LHC 分析了一下所有营员的地域关系，发现有些营员是一个城市的，其实他们只需要一张就可以了，因为一个人拿到光盘后，其他人可以带着 U 盘之类的东西去拷贝啊！\n\n可是，LHC 调查后发现，由于种种原因，有些营员并不是那么的合作，他们愿意某一些人到他那儿拷贝资料，也不愿意让另外一些人到他那儿拷贝资料，这与我们 JSOI 宣扬的团队合作精神格格不入！！！\n\n现在假设总共有 $N$ 个营员 $(2 \\le N \\le 200)$，每个营员的编号为 $1 \\sim N$。LHC 给每个人发了一张调查表，让每个营员填上自己愿意让哪些人到他那儿拷贝资料。当然，如果 A 愿意把资料拷贝给 B，而 B 又愿意把资料拷贝给 C，则一旦 A 获得了资料，则 B 和 C 都会获得资料。\n\n现在，请你编写一个程序，根据回收上来的调查表，帮助 LHC 计算出组委会至少要刻录多少张光盘，才能保证所有营员回去后都能得到夏令营资料？", "inputFormat": "先是一个数 $N$ 代表有 $N$ 个营员。接下来的 $N$ 行，分别表示各个营员愿意把自己获得的资料拷贝给其他哪些营员。即输入数据的第 $i+1$ 行表示第 $i$ 个营员愿意把资料拷贝给那些营员的编号，以 $0$ 结束。如果一个营员不愿意拷贝资料给任何人，则相应的行只有 $0$。一行中的数之间用一个空格隔开。", "outputFormat": "一个正整数，表示最少要刻录的光盘数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P2836", "type": "P", "difficulty": 5, "samples": [["475.6\n11.9 27.4 14.98 6\n102.0 99.9\n220.0 132.9\n256.3 147.9\n275.0 102.9\n277.6 112.9\n381.8 100.9", "27.31"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "加油问题", "background": "", "description": "一个美国旅行代理商经常被要求去估计开车从一个城市旅行至另一个城市的最小费用。他有一个在通常路线上的大多数加油站的列表。列表包括了所有加油站的位置及当前每加仑汽油的价格。\n\n为了简化估计费用的过程，代理商使用了以下的简化汽车驾驶员行为的规则：\n\n- 除非汽车无法用油箱里的汽油达到下一个加油站（如果有的话）或目的地，在油箱里还有不少于最大容量一半的汽油时，驾驶员从不在加油站停下来。\n- 在每一个停下的加油站，驾驶员总是将油加满。\n- 在一个加油站停下之后，驾驶员将为旅程在快餐和糖果上花去 $2.00$ 元。\n- 在驶向加油站或目的地时，驾驶员不需要超过必须量的汽油。不需要“安全余量”。\n- 驾驶员开始旅行时油箱总是满的\n- 每个加油站付款时四舍五入到分（ $1$ 元等于 $100$ 分）。\n\n你必须写一个程序以估计驾驶员在旅程上至少要为汽油和食品付多少钱。\n", "inputFormat": "开始的 $2$ 行给出了出发地和目的地的信息。数据项的后继行代表了路线上的加油站，每个加油站用一行表示。下面是输入数据中数据项的精确格式及其含义。\n\n第一行：一个实数——从出发地到目的地的距离（英里）\n\n第二行：三个实数及一个整数\n\n- 第一个实数是汽车油箱的最大的容量（加仑）\n- 第二个实数是汽车每加仑汽油可以行驶的英里数\n- 第三个实数是汽车在出发地城市加满油箱的费用（单位：元）\n- 最后一个整数，是路线上加油站的数目 $n$。\n\n接下来的每一行有两个实数。\n\n- 第一个实数是从出发地到加油站的距离（单位：英里）\n- 第二个实数是该加油站出售的汽油每加仑的价格（单位：分）\n\n数据项中的所有数据都是正数。一条路线上的加油站根据其到出发地的距离递增排列。路线上不存在这样的加油站，它到出发点的距离大于从出发点到目的地的距离。每条路线上的加油站都被适当的安排以使得任何汽车都能从出发地开到目的地。\n", "outputFormat": "仅一行，一个实数（保留两位小数），表示最小的花费（单位：元）。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$n \\le 51$。", "locale": "zh-CN", "translations": {"en": {"title": "Refueling Problem", "background": "", "description": "A travel agent in the United States is often asked to estimate the minimum cost of driving from one city to another. He has a list of most gas stations on the usual route. The list includes the location of each station and the current price per gallon of gasoline.\n\nTo simplify the estimation, the agent uses the following simplified rules for driver behavior:\n\n- Unless the car cannot reach the next gas station (if any) or the destination with the gasoline currently in the tank, the driver will never stop at a station if the tank has at least half of its maximum capacity remaining.\n- At every stop, the driver always fills the tank to full.\n- After stopping at a gas station, the driver spends $2.00$ yuan on fast food and candy for the trip.\n- When heading to a gas station or the destination, the driver does not need to carry more gasoline than necessary. No \"safety margin\" is required.\n- The driver always starts the trip with a full tank.\n- Each payment at a gas station is rounded to the nearest cent ($1$ yuan equals $100$ cents).\n\nYou must write a program to estimate the minimum amount of money the driver will have to pay for gasoline and food on the trip.", "inputFormat": "The first $2$ lines give the information about the origin and the destination. The subsequent lines represent gas stations on the route, one per line. Below is the exact format of the input items and their meaning.\n\nFirst line: one real number — the distance from the origin to the destination (miles).\n\nSecond line: three real numbers and one integer:\n- The first real number is the maximum capacity of the car’s gas tank (gallons).\n- The second real number is the car’s fuel efficiency, in miles per gallon (mpg).\n- The third real number is the cost to fill the tank in the origin city (yuan).\n- The last integer is the number of gas stations on the route $n$.\n\nEach of the next $n$ lines contains two real numbers:\n- The first real number is the distance from the origin to the gas station (miles).\n- The second real number is the station’s price per gallon (cents).\n\nAll numbers in the input are positive. The gas stations on a route are ordered by increasing distance from the origin. There is no station whose distance from the origin exceeds the total distance to the destination. The stations on each route are arranged appropriately so that any car can drive from the origin to the destination.", "outputFormat": "A single line with one real number (rounded to two decimal places), representing the minimum total cost (yuan).", "hint": "### Constraints\n\nFor all testdata, $n \\le 51$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "加油问题", "background": "", "description": "一个美国旅行代理商经常被要求去估计开车从一个城市旅行至另一个城市的最小费用。他有一个在通常路线上的大多数加油站的列表。列表包括了所有加油站的位置及当前每加仑汽油的价格。\n\n为了简化估计费用的过程，代理商使用了以下的简化汽车驾驶员行为的规则：\n\n- 除非汽车无法用油箱里的汽油达到下一个加油站（如果有的话）或目的地，在油箱里还有不少于最大容量一半的汽油时，驾驶员从不在加油站停下来。\n- 在每一个停下的加油站，驾驶员总是将油加满。\n- 在一个加油站停下之后，驾驶员将为旅程在快餐和糖果上花去 $2.00$ 元。\n- 在驶向加油站或目的地时，驾驶员不需要超过必须量的汽油。不需要“安全余量”。\n- 驾驶员开始旅行时油箱总是满的\n- 每个加油站付款时四舍五入到分（ $1$ 元等于 $100$ 分）。\n\n你必须写一个程序以估计驾驶员在旅程上至少要为汽油和食品付多少钱。\n", "inputFormat": "开始的 $2$ 行给出了出发地和目的地的信息。数据项的后继行代表了路线上的加油站，每个加油站用一行表示。下面是输入数据中数据项的精确格式及其含义。\n\n第一行：一个实数——从出发地到目的地的距离（英里）\n\n第二行：三个实数及一个整数\n\n- 第一个实数是汽车油箱的最大的容量（加仑）\n- 第二个实数是汽车每加仑汽油可以行驶的英里数\n- 第三个实数是汽车在出发地城市加满油箱的费用（单位：元）\n- 最后一个整数，是路线上加油站的数目 $n$。\n\n接下来的每一行有两个实数。\n\n- 第一个实数是从出发地到加油站的距离（单位：英里）\n- 第二个实数是该加油站出售的汽油每加仑的价格（单位：分）\n\n数据项中的所有数据都是正数。一条路线上的加油站根据其到出发地的距离递增排列。路线上不存在这样的加油站，它到出发点的距离大于从出发点到目的地的距离。每条路线上的加油站都被适当的安排以使得任何汽车都能从出发地开到目的地。\n", "outputFormat": "仅一行，一个实数（保留两位小数），表示最小的花费（单位：元）。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$n \\le 51$。", "locale": "zh-CN"}}}
{"pid": "P2837", "type": "P", "difficulty": 2, "samples": [["7\n2\n1\n1\n1\n2\n2\n1", "2"], ["5\n2\n2\n1\n2\n2", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "2008", "USACO"], "title": "[USACO08FEB] Dining Cows B", "background": "", "description": "为了避免餐厅过分拥挤，FJ 要求奶牛们分 $2$ 批就餐。每天晚饭前，奶牛们都会在餐厅前排队入内，按 FJ 的设想，所有第 $2$ 批就餐的奶牛排在队尾，队伍的前半部分则由设定为第 $1$ 批就餐的奶牛占据。\n\n由于奶牛们不理解 FJ 的安排，晚饭前的排队成了一个大麻烦。 第 $i$ 头奶牛有一张标明她用餐批次 $D_i$ 的卡片。虽然所有 $N$ 头奶牛排成了很整齐的队伍，但谁都看得出来，卡片上的号码是完全杂乱无章的。 在若干次混乱的重新排队后，FJ 找到了一种简单些的方法：奶牛们不动，他沿着队伍从头到尾走一遍，把那些他认为排错队的奶牛卡片上的编号改掉，最终得到一个他想要的每个组中的奶牛都站在一起的队列，例如 $112222$ 或 $111122$。有的时候，FJ 会把整个队列弄得只有 $1$ 组奶牛（比方说，$1111$ 或 $222$）。 \n\n你也晓得，FJ 是个很懒的人。他想知道，如果他想达到目的，那么他最少得改多少头奶牛卡片上的编号。所有奶牛在 FJ 改卡片编号的时候，都不会挪位置。", "inputFormat": "第一行输入一个整数 $N$（$1 \\le N \\le 3 \\times 10 ^ 4$）。\n\n第 $2 \\sim N + 1$ 行，每行 $1$ 个整数，表示第 $i$ 头牛的用餐批次 $D_i$（$1 \\le D_i \\le 2$）。", "outputFormat": "输出 $1$ 个整数，为 FJ 最少要改几头奶牛卡片上的编号，才能让编号变成他设想中的样子。", "hint": "$1 \\le N \\le 3 \\times 10 ^ 4$", "locale": "zh-CN", "translations": {"en": {"title": "[USACO08FEB] Dining Cows B", "background": "", "description": "To avoid overcrowding in the dining hall, FJ requires the cows to eat in $2$ batches. Every day before dinner, the cows line up in front of the dining hall to enter. According to FJ’s plan, all cows in batch $2$ stand at the end of the line, while the front part of the line is occupied by cows designated as batch $1$.\n\nSince the cows do not understand FJ’s arrangement, lining up before dinner has become a big hassle. Cow $i$ holds a card that indicates her dining batch $D_i$. Although all $N$ cows stand in a neat line, it is obvious that the numbers on the cards are completely jumbled. After several chaotic re-lineups, FJ finds a simpler method: without moving the cows, he walks from the head to the tail of the line and changes the number on the card of any cow he believes is in the wrong batch, eventually obtaining a line in which all cows of each group stand together, for example, $112222$ or $111122$. Sometimes, FJ will even make the entire line consist of only $1$ group (for example, $1111$ or $222$).\n\nYou also know that FJ is lazy. He wants to know the minimum number of cows’ card numbers he must change to achieve his goal. None of the cows moves while FJ is changing the card numbers.", "inputFormat": "The first line contains an integer $N$ ($1 \\le N \\le 3 \\times 10 ^ 4$).\n\nLines $2$ to $N + 1$ each contain $1$ integer, the dining batch $D_i$ of the $i$-th cow ($1 \\le D_i \\le 2$).", "outputFormat": "Output $1$ integer, the minimum number of cows’ card numbers FJ must change to make the sequence match his plan.", "hint": "Constraints: $1 \\le N \\le 3 \\times 10 ^ 4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO08FEB] Dining Cows B", "background": "", "description": "为了避免餐厅过分拥挤，FJ 要求奶牛们分 $2$ 批就餐。每天晚饭前，奶牛们都会在餐厅前排队入内，按 FJ 的设想，所有第 $2$ 批就餐的奶牛排在队尾，队伍的前半部分则由设定为第 $1$ 批就餐的奶牛占据。\n\n由于奶牛们不理解 FJ 的安排，晚饭前的排队成了一个大麻烦。 第 $i$ 头奶牛有一张标明她用餐批次 $D_i$ 的卡片。虽然所有 $N$ 头奶牛排成了很整齐的队伍，但谁都看得出来，卡片上的号码是完全杂乱无章的。 在若干次混乱的重新排队后，FJ 找到了一种简单些的方法：奶牛们不动，他沿着队伍从头到尾走一遍，把那些他认为排错队的奶牛卡片上的编号改掉，最终得到一个他想要的每个组中的奶牛都站在一起的队列，例如 $112222$ 或 $111122$。有的时候，FJ 会把整个队列弄得只有 $1$ 组奶牛（比方说，$1111$ 或 $222$）。 \n\n你也晓得，FJ 是个很懒的人。他想知道，如果他想达到目的，那么他最少得改多少头奶牛卡片上的编号。所有奶牛在 FJ 改卡片编号的时候，都不会挪位置。", "inputFormat": "第一行输入一个整数 $N$（$1 \\le N \\le 3 \\times 10 ^ 4$）。\n\n第 $2 \\sim N + 1$ 行，每行 $1$ 个整数，表示第 $i$ 头牛的用餐批次 $D_i$（$1 \\le D_i \\le 2$）。", "outputFormat": "输出 $1$ 个整数，为 FJ 最少要改几头奶牛卡片上的编号，才能让编号变成他设想中的样子。", "hint": "$1 \\le N \\le 3 \\times 10 ^ 4$", "locale": "zh-CN"}}}
{"pid": "P2838", "type": "P", "difficulty": 7, "samples": [["233\n// 仅作为参考，这里应该填数据编号", "I\nC 1\nF 2\nC 233333\nT 1 3\nT 2 3\nO 3\n（这个程序可以进行x+1！是不是很厉害啊！不过程序中并不能附加任何注释）"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["洛谷原创", "提交答案", "Special Judge"], "title": "瓶子国的故事", "background": "这是一道非传统题。\n\n传说有一个国家叫瓶子国，里面有大大小小的瓶子。\n\n现在瓶子国想要学习邻居跳蚤国发展计算机，可是瓶子国没有计算机只有瓶子。\n\n于是瓶子国国王就给了你一些瓶子，让你实现一些计算任务。\n", "description": "我们用水的量来描述一个数。\n\n- 一个瓶子的容量为它最多可以装的水的数量。\n\n瓶子国国王认为瓶子可以干这些事：\n\n- $\\verb!I!$：制造一个新瓶子，它的容量和里面装的水量都为输入的数，这个瓶子的编号为 $\\textbf{当前最大编号} +1$。\n- $\\verb!F !s$；把编号为 $s$ 的瓶子里的水倒满。\n- $\\verb!E !s$：把编号为 $s$ 的瓶子里的水倒空。\n- $\\verb!C !s$：制作一个新瓶子，它的容量为 $s$，里面没装水，这个瓶子的编号为 $\\textbf{当前最大编号} +1$。注意由于瓶子容积有限，$0\\le s\\le 10^9$。\n- $\\verb!M !s$：制作一个新瓶子，它的容量为 $\\textbf{s 号瓶子里装的水的数量}$，里面没装水，这个瓶子的编号为 $\\textbf{当前最大编号}+1$。\n- $\\verb!T !a\\ b$：把 $a$ 瓶往 $b$ 瓶倒水，直到 $a$ 瓶空或者 $b$ 瓶满为止。（注意 $a\\neq b$）。\n- $\\verb!O !s$：把 $s$ 号瓶子里的水输出。\n\n还有一种昂贵的操作：\n\n- $\\verb!K !a\\ b$：制作一个新瓶子，它的容量为 $\\textbf{a 号瓶子的容量} \\times \\textbf{b 号瓶子的容量}$，这个瓶子的编号为 $\\textbf{当前最大编号}+1$。注意由于瓶子容积有限，$\\textbf{a 号瓶子的容量}\\times\\textbf{b 号瓶子的容量}$，不能超过 $10^9$。（使用这种操作要扣分，评分规则详见下方提示）\n\n现在瓶子国国王把这些操作给了你，你只要输出这些操作，瓶子国的瓶子们就会为你执行！\n\n瓶子国国王给了你一些计算任务，你只需要实现这些任务就行啦！\n\n左边是数据点编号，右边是计算任务。\n\n1. 输入 $a$ 和 $b$，计算 $a+b$。（$0\\le a,b\\le 10^5$）\n2. 输入 $a$ 和 $b$，计算 $|a-b|$。（$0\\le a,b\\le 10^5$）\n3. 输入 $a$ 和 $b$，计算 $\\max(a,b)$。（$0\\le a,b\\le 10^5$）\n4. 输入 $a$ 和 $b$，输出 $\\gcd(a,b)$。（$1\\le a,b\\le 1000$）\n5. 输入 $a$，输出 $a$ 的 $32$ 位二进制表示。（$0\\le a\\le 10^5$，例如 $5$ 输出 $\\verb!0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1!$）\n6. 输入 $a$ 和 $b$，输出 $a\\times b$。（$0\\le a,b\\le 1000$）\n7. 输入 $a$ 和 $b$，输出 $a\\oplus b$。（$0\\le a,b\\le 10^5$，$\\oplus$ 表示异或）\n8. 输入 $a$，输出 $a\\div 10$ 下取整。（$1\\le a\\le 10000$）\n9. 输入 $a$ 和 $b$，输出 $a\\times b \\bmod 262144$。（$0\\le a,b\\le 10^5$）\n10. 输入 $a$ 和 $b$，输出 $a$ 的 $b$ 次方。（$1\\le a,b\\le 1000$，$a$ 的 $b$ 次方不超过 $10^6$）\n\n瓶子国国王会生成 $30$ 组**左右**的数据对你的程序进行测试，并根据你使用的操作个数进行评分，评分规则详见下方提示。\n\n（**UPD**：如果你没有看懂题目这里有一段补充说明）\n\n你**提交到洛谷的程序**（C/C++/Pascal）需要输出一段操作，格式类似样例输出。\n\n例如第一个点，提交后洛谷上的 checker 会随机生成 $a$ 和 $b$ 作为 $\\verb!I!$ **操作的输入**来测试你的操作。\n\n对于本地 checker（下载见提示区），你可以把输出的操作保存成 `a.txt`，然后第一行输入 `a.txt`，第二行如果手玩就输 $0$，如果测试指定点就输编号。\n", "inputFormat": "输入共一行一个整数，表示数据点编号。\n", "outputFormat": "输出可以满足计算任务的操作。\n", "hint": "请注意提交的是一段**输出操作的程序**！（如果你生成答案之后把生成它的程序删了直接打表输出，可能会输出超限）\n\n灵感来自 NOI2016 旷野大计算（其实我不说你们肯定也知道啊）\n\n为了方便选手本地测试，下面是一个 C++ 的本地checker（需要注意的是，它的测试结果与洛谷上的测试结果不一定一样，洛谷上可能更严格）：\n\n- http://paste.ubuntu.com/23070332/\n\n如果需要下载 exe 的话可戳度盘：\n\n- http://pan.baidu.com/s/1o7HZ1GY 密码为 `kqhl`。\n\n### 评分规则\n\n如果你的算法输出了错误结果（多输出也算）或者发生运行错误（操作不符合要求等）或者行数超过 $5\\times 10^6$ 行或者行数太长了 checker 没能在 $1s$ 内测试完 $30$ 组数据，你将获得 $0$ 分。\n\n否则，假设 std 的步数为 $s$，你的步数为 $x$。\n\n- 如果 $x\\le s$，你的基准分为 $10$ 分。\n- 如果 $s<x\\le s+5$，你的基准分为 $9$ 分。\n- 如果 $s+5<x\\le 3s$，你的基准分为 $8$ 分。\n- 如果 $3s<x\\le 10s$，你的基准分为 $7$ 分。\n- 如果 $10s<x\\le 50s$，你的基准分为 $6$ 分。\n- 如果 $x>50s$，你的基准分为 $5$ 分。\n\n如果你使用了昂贵的 $\\verb!K!$ 操作，你会得到（基准分 $-4$）分。\n\n否则你会得到基准分。\n\n（说人话：步数越少分越高，用K操作扣4分）\n\n（**UPD2：洛谷上的checker常见错误信息**）\n\n```cpp\ntoo many lines：超过500w行（这个似乎还没有触发过）\nWTF：就是操作的第一个字符串（I/T/K/F/E/C/M/O）长度大于1\n（可能是由于上一个操作多跟了一个操作数？）\nwrong operation：操作的第一个字符串长度为1但不是I/T/K/F/E/C/M/O。\nexpected *****：希望输入一个数/字符串却没有（可能是操作数多打/少打）\nnothing to input：I操作数量大于输入的数数量\nF/E/C/M/T/O/K wrong bottle：操作的瓶子编号不在[1,当前最大编号]范围内\nC exceed [0,10^9]：字面意思\nK exceed 10^9：字面意思\nwa on test xxx：你在第xxx组随机数据狗带了\nwa on extratest xxx：你在第xxx组人工数据（手打的）狗带了\n```", "locale": "zh-CN", "translations": {"en": {"title": "The Story of Bottle Country", "background": "This is a non-traditional problem.\n\nLegend has it there is a country called Bottle Country, filled with bottles of various sizes.\n\nNow Bottle Country wants to learn from its neighbor, Flea Country, to develop computers, but Bottle Country has no computers—only bottles.\n\nSo the king of Bottle Country gives you some bottles to carry out certain computational tasks.", "description": "We use the amount of water to represent a number.\n\n- The capacity of a bottle is the maximum amount of water it can hold.\n\nThe king of Bottle Country believes bottles can do the following:\n\n- $\\verb!I!$: Create a new bottle whose capacity and current amount of water are both equal to the input number. Its index is $\\textbf{当前最大编号} +1$.\n- $\\verb!F !s$: Fill the bottle with index $s$ to its full capacity.\n- $\\verb!E !s$: Empty the bottle with index $s$.\n- $\\verb!C !s$: Create a new bottle with capacity $s$ and no water in it. Its index is $\\textbf{当前最大编号} +1$. Note that due to limited capacity, $0\\le s\\le 10^9$.\n- $\\verb!M !s$: Create a new bottle whose capacity equals $\\textbf{s 号瓶子里装的水的数量}$ and which initially contains no water. Its index is $\\textbf{当前最大编号}+1$.\n- $\\verb!T !a\\ b$: Pour water from bottle $a$ into bottle $b$ until bottle $a$ becomes empty or bottle $b$ becomes full (note $a\\neq b$).\n- $\\verb!O !s$: Output the amount of water in bottle $s$.\n\nThere is also an expensive operation:\n\n- $\\verb!K !a\\ b$: Create a new bottle whose capacity equals $\\textbf{a 号瓶子的容量} \\times \\textbf{b 号瓶子的容量}$. Its index is $\\textbf{当前最大编号}+1$. Note that due to capacity limits, $\\textbf{a 号瓶子的容量}\\times\\textbf{b 号瓶子的容量}$ must not exceed $10^9$. (Using this operation deducts points; see the scoring rules below.)\n\nThe king gives you these operations; you only need to output them, and the bottles will execute them for you!\n\nThe king of Bottle Country gives you several computational tasks. Just implement these tasks.\n\nOn the left are the data point IDs; on the right are the tasks:\n\n1. Given $a$ and $b$, compute $a+b$. ($0\\le a,b\\le 10^5$)\n2. Given $a$ and $b$, compute $|a-b|$. ($0\\le a,b\\le 10^5$)\n3. Given $a$ and $b$, compute $\\max(a,b)$. ($0\\le a,b\\le 10^5$)\n4. Given $a$ and $b$, output $\\gcd(a,b)$. ($1\\le a,b\\le 1000$)\n5. Given $a$, output the 32-bit binary representation of $a$. ($0\\le a\\le 10^5$, for example, $5$ outputs $\\verb!0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1!$)\n6. Given $a$ and $b$, output $a\\times b$. ($0\\le a,b\\le 1000$)\n7. Given $a$ and $b$, output $a\\oplus b$. ($0\\le a,b\\le 10^5$, where $\\oplus$ denotes bitwise XOR)\n8. Given $a$, output $\\lfloor a\\div 10 \\rfloor$. ($1\\le a\\le 10000$)\n9. Given $a$ and $b$, output $a\\times b \\bmod 262144$. ($0\\le a,b\\le 10^5$)\n10. Given $a$ and $b$, output $a^b$. ($1\\le a,b\\le 1000$, and $a^b$ does not exceed $10^6$)\n\nThe king will generate about $30$ groups of testdata to test your program and will score it based on the number of operations you use. See the scoring rules below.\n\n(UPD: If you did not understand the problem, here is an additional explanation.)\n\nYour program submitted to Luogu (C/C++/Pascal) must output a sequence of operations in the format similar to the sample output.\n\nFor example, for the first data point, after submission the checker on Luogu will randomly generate $a$ and $b$ as the inputs to the $\\verb!I!$ operation to test your operations.\n\nFor the local checker (see the Hint section for download), you can save your output operations to a file named `a.txt`. Then input `a.txt` on the first line. On the second line, input $0$ if playing manually, or input the specific data point ID if testing that point.", "inputFormat": "A single line containing one integer representing the data point ID.", "outputFormat": "Output a sequence of operations that satisfies the computational task.", "hint": "Please note you are submitting a program that outputs operations! (If you generate the answers and then delete the program and directly hardcode the outputs, your output might exceed limits.)\n\nInspired by NOI2016 “Wilderness Big Computation” (you probably knew that anyway).\n\nFor convenient local testing, here is a C++ local checker (note that its results may differ from Luogu’s; Luogu may be stricter):\n\n- http://paste.ubuntu.com/23070332/\n\nIf you need an executable, you can use Baidu Netdisk:\n\n- http://pan.baidu.com/s/1o7HZ1GY Password: `kqhl`.\n\nScoring Rules:\n\nIf your algorithm produces a wrong result (extra outputs also count), or a runtime error occurs (operations violate the rules, etc.), or the number of lines exceeds $5\\times 10^6$, or the lines are so many that the checker cannot finish testing $30$ groups within $1$ s, you receive $0$ points.\n\nOtherwise, suppose the standard solution uses $s$ steps and your solution uses $x$ steps.\n\n- If $x\\le s$, your base score is $10$ points.\n- If $s<x\\le s+5$, your base score is $9$ points.\n- If $s+5<x\\le 3s$, your base score is $8$ points.\n- If $3s<x\\le 10s$, your base score is $7$ points.\n- If $10s<x\\le 50s$, your base score is $6$ points.\n- If $x>50s$, your base score is $5$ points.\n\nIf you use the expensive $\\verb!K!$ operation, you will get (base score $-4$) points.\n\nOtherwise, you will receive the base score.\n\n(In plain words: fewer steps → higher score; using the K operation deducts 4 points.)\n\n(UPD2: Common checker error messages on Luogu)\n\n```cpp\ntoo many lines：超过500w行（这个似乎还没有触发过）\nWTF：就是操作的第一个字符串（I/T/K/F/E/C/M/O）长度大于1\n（可能是由于上一个操作多跟了一个操作数？）\nwrong operation：操作的第一个字符串长度为1但不是I/T/K/F/E/C/M/O。\nexpected *****：希望输入一个数/字符串却没有（可能是操作数多打/少打）\nnothing to input：I操作数量大于输入的数数量\nF/E/C/M/T/O/K wrong bottle：操作的瓶子编号不在[1,当前最大编号]范围内\nC exceed [0,10^9]：字面意思\nK exceed 10^9：字面意思\nwa on test xxx：你在第xxx组随机数据狗带了\nwa on extratest xxx：你在第xxx组人工数据（手打的）狗带了\n```\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "瓶子国的故事", "background": "这是一道非传统题。\n\n传说有一个国家叫瓶子国，里面有大大小小的瓶子。\n\n现在瓶子国想要学习邻居跳蚤国发展计算机，可是瓶子国没有计算机只有瓶子。\n\n于是瓶子国国王就给了你一些瓶子，让你实现一些计算任务。\n", "description": "我们用水的量来描述一个数。\n\n- 一个瓶子的容量为它最多可以装的水的数量。\n\n瓶子国国王认为瓶子可以干这些事：\n\n- $\\verb!I!$：制造一个新瓶子，它的容量和里面装的水量都为输入的数，这个瓶子的编号为 $\\textbf{当前最大编号} +1$。\n- $\\verb!F !s$；把编号为 $s$ 的瓶子里的水倒满。\n- $\\verb!E !s$：把编号为 $s$ 的瓶子里的水倒空。\n- $\\verb!C !s$：制作一个新瓶子，它的容量为 $s$，里面没装水，这个瓶子的编号为 $\\textbf{当前最大编号} +1$。注意由于瓶子容积有限，$0\\le s\\le 10^9$。\n- $\\verb!M !s$：制作一个新瓶子，它的容量为 $\\textbf{s 号瓶子里装的水的数量}$，里面没装水，这个瓶子的编号为 $\\textbf{当前最大编号}+1$。\n- $\\verb!T !a\\ b$：把 $a$ 瓶往 $b$ 瓶倒水，直到 $a$ 瓶空或者 $b$ 瓶满为止。（注意 $a\\neq b$）。\n- $\\verb!O !s$：把 $s$ 号瓶子里的水输出。\n\n还有一种昂贵的操作：\n\n- $\\verb!K !a\\ b$：制作一个新瓶子，它的容量为 $\\textbf{a 号瓶子的容量} \\times \\textbf{b 号瓶子的容量}$，这个瓶子的编号为 $\\textbf{当前最大编号}+1$。注意由于瓶子容积有限，$\\textbf{a 号瓶子的容量}\\times\\textbf{b 号瓶子的容量}$，不能超过 $10^9$。（使用这种操作要扣分，评分规则详见下方提示）\n\n现在瓶子国国王把这些操作给了你，你只要输出这些操作，瓶子国的瓶子们就会为你执行！\n\n瓶子国国王给了你一些计算任务，你只需要实现这些任务就行啦！\n\n左边是数据点编号，右边是计算任务。\n\n1. 输入 $a$ 和 $b$，计算 $a+b$。（$0\\le a,b\\le 10^5$）\n2. 输入 $a$ 和 $b$，计算 $|a-b|$。（$0\\le a,b\\le 10^5$）\n3. 输入 $a$ 和 $b$，计算 $\\max(a,b)$。（$0\\le a,b\\le 10^5$）\n4. 输入 $a$ 和 $b$，输出 $\\gcd(a,b)$。（$1\\le a,b\\le 1000$）\n5. 输入 $a$，输出 $a$ 的 $32$ 位二进制表示。（$0\\le a\\le 10^5$，例如 $5$ 输出 $\\verb!0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1!$）\n6. 输入 $a$ 和 $b$，输出 $a\\times b$。（$0\\le a,b\\le 1000$）\n7. 输入 $a$ 和 $b$，输出 $a\\oplus b$。（$0\\le a,b\\le 10^5$，$\\oplus$ 表示异或）\n8. 输入 $a$，输出 $a\\div 10$ 下取整。（$1\\le a\\le 10000$）\n9. 输入 $a$ 和 $b$，输出 $a\\times b \\bmod 262144$。（$0\\le a,b\\le 10^5$）\n10. 输入 $a$ 和 $b$，输出 $a$ 的 $b$ 次方。（$1\\le a,b\\le 1000$，$a$ 的 $b$ 次方不超过 $10^6$）\n\n瓶子国国王会生成 $30$ 组**左右**的数据对你的程序进行测试，并根据你使用的操作个数进行评分，评分规则详见下方提示。\n\n（**UPD**：如果你没有看懂题目这里有一段补充说明）\n\n你**提交到洛谷的程序**（C/C++/Pascal）需要输出一段操作，格式类似样例输出。\n\n例如第一个点，提交后洛谷上的 checker 会随机生成 $a$ 和 $b$ 作为 $\\verb!I!$ **操作的输入**来测试你的操作。\n\n对于本地 checker（下载见提示区），你可以把输出的操作保存成 `a.txt`，然后第一行输入 `a.txt`，第二行如果手玩就输 $0$，如果测试指定点就输编号。\n", "inputFormat": "输入共一行一个整数，表示数据点编号。\n", "outputFormat": "输出可以满足计算任务的操作。\n", "hint": "请注意提交的是一段**输出操作的程序**！（如果你生成答案之后把生成它的程序删了直接打表输出，可能会输出超限）\n\n灵感来自 NOI2016 旷野大计算（其实我不说你们肯定也知道啊）\n\n为了方便选手本地测试，下面是一个 C++ 的本地checker（需要注意的是，它的测试结果与洛谷上的测试结果不一定一样，洛谷上可能更严格）：\n\n- http://paste.ubuntu.com/23070332/\n\n如果需要下载 exe 的话可戳度盘：\n\n- http://pan.baidu.com/s/1o7HZ1GY 密码为 `kqhl`。\n\n### 评分规则\n\n如果你的算法输出了错误结果（多输出也算）或者发生运行错误（操作不符合要求等）或者行数超过 $5\\times 10^6$ 行或者行数太长了 checker 没能在 $1s$ 内测试完 $30$ 组数据，你将获得 $0$ 分。\n\n否则，假设 std 的步数为 $s$，你的步数为 $x$。\n\n- 如果 $x\\le s$，你的基准分为 $10$ 分。\n- 如果 $s<x\\le s+5$，你的基准分为 $9$ 分。\n- 如果 $s+5<x\\le 3s$，你的基准分为 $8$ 分。\n- 如果 $3s<x\\le 10s$，你的基准分为 $7$ 分。\n- 如果 $10s<x\\le 50s$，你的基准分为 $6$ 分。\n- 如果 $x>50s$，你的基准分为 $5$ 分。\n\n如果你使用了昂贵的 $\\verb!K!$ 操作，你会得到（基准分 $-4$）分。\n\n否则你会得到基准分。\n\n（说人话：步数越少分越高，用K操作扣4分）\n\n（**UPD2：洛谷上的checker常见错误信息**）\n\n```cpp\ntoo many lines：超过500w行（这个似乎还没有触发过）\nWTF：就是操作的第一个字符串（I/T/K/F/E/C/M/O）长度大于1\n（可能是由于上一个操作多跟了一个操作数？）\nwrong operation：操作的第一个字符串长度为1但不是I/T/K/F/E/C/M/O。\nexpected *****：希望输入一个数/字符串却没有（可能是操作数多打/少打）\nnothing to input：I操作数量大于输入的数数量\nF/E/C/M/T/O/K wrong bottle：操作的瓶子编号不在[1,当前最大编号]范围内\nC exceed [0,10^9]：字面意思\nK exceed 10^9：字面意思\nwa on test xxx：你在第xxx组随机数据狗带了\nwa on extratest xxx：你在第xxx组人工数据（手打的）狗带了\n```", "locale": "zh-CN"}}}
{"pid": "P2839", "type": "P", "difficulty": 6, "samples": [["5\n170337785\n271451044\n22430280\n969056313\n206452321\n3\n3 1 0 2\n2 3 1 4\n3 1 4 0", "271451044\n271451044\n969056313"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "集训队互测", "可持久化线段树"], "title": "[国家集训队] middle", "background": "", "description": "一个长度为 $n$ 的序列 $a$，设其排过序之后为 $b$，其中位数定义为 $b_{n/2}$，其中 $a,b$ 从 $0$ 开始标号，除法下取整。\n\n给你一个长度为 $n$ 的序列 $s$。\n\n回答 $Q$ 个这样的询问：$s$ 的左端点在 $[a,b]$ 之间，右端点在 $[c,d]$ 之间的子区间中，最大的中位数。\n\n其中 $a<b<c<d$。\n\n位置也从 $0$ 开始标号。\n\n我会使用一些方式强制你在线。\n", "inputFormat": "第一行序列长度 $n$。\n\n接下来 $n$ 行按顺序给出 $a$ 中的数。\n\n接下来一行 $Q$。\n\n然后 $Q$ 行每行 $a,b,c,d$，我们令上个询问的答案是 $x$（如果这是第一个询问则 $x=0$）。\n\n令数组 $q=\\{(a+x)\\bmod n,(b+x)\\bmod n,(c+x)\\bmod n,(d+x)\\bmod n\\}$。\n\n将 $q$ 从小到大排序之后，令真正的要询问的 $a=q_0$，$b=q_1$，$c=q_2$，$d=q_3$。\n\n输入保证满足条件。\n", "outputFormat": "$Q$ 行依次给出询问的答案。\n", "hint": "对于 $5\\%$ 的数据，$n,Q \\leq 100$；\n\n对于另 $25\\%$ 的数据，$n \\leq 2000$；\n\n对于 $100\\%$ 的数据，$1\\leq n \\leq 20000$，$1\\leq Q \\leq 25000$，$1\\leq a_i\\leq 10 ^ 9$。", "locale": "zh-CN", "translations": {"en": {"title": "[CTT] middle", "background": "", "description": "Given a sequence $a$ of length $n$, let $b$ be the sorted version of $a$. The median is defined as $b_{n/2}$, where $a$ and $b$ are 0-indexed and the division takes the floor.\n\nYou are given a sequence $s$ of length $n$.\n\nAnswer $Q$ queries of the following type: among all subarrays of $s$ whose left endpoint is in $[a, b]$ and right endpoint is in $[c, d]$, find the maximum possible median.\n\nHere $a < b < c < d$.\n\nPositions are also 0-indexed.\n\nI will use some method to force you to process the queries online.", "inputFormat": "The first line contains the sequence length $n$.\n\nThe next $n$ lines give the numbers of $s$ in order.\n\nThe next line contains $Q$.\n\nThen $Q$ lines follow, each containing $a, b, c, d$. Let the answer to the previous query be $x$ (if this is the first query, then $x=0$).\n\nLet the array $q=\\{(a+x)\\bmod n,(b+x)\\bmod n,(c+x)\\bmod n,(d+x)\\bmod n\\}$.\n\nAfter sorting $q$ in ascending order, let the actual query be $a=q_0$, $b=q_1$, $c=q_2$, $d=q_3$.\n\nThe input is guaranteed to satisfy the conditions.", "outputFormat": "Output $Q$ lines in order, each giving the answer to a query.", "hint": "For $5\\%$ of the testdata, $n, Q \\leq 100$.\n\nFor an additional $25\\%$ of the testdata, $n \\leq 2000$.\n\nFor $100\\%$ of the testdata, $1 \\leq n \\leq 20000$, $1 \\leq Q \\leq 25000$, $1 \\leq s_i \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[国家集训队] middle", "background": "", "description": "一个长度为 $n$ 的序列 $a$，设其排过序之后为 $b$，其中位数定义为 $b_{n/2}$，其中 $a,b$ 从 $0$ 开始标号，除法下取整。\n\n给你一个长度为 $n$ 的序列 $s$。\n\n回答 $Q$ 个这样的询问：$s$ 的左端点在 $[a,b]$ 之间，右端点在 $[c,d]$ 之间的子区间中，最大的中位数。\n\n其中 $a<b<c<d$。\n\n位置也从 $0$ 开始标号。\n\n我会使用一些方式强制你在线。\n", "inputFormat": "第一行序列长度 $n$。\n\n接下来 $n$ 行按顺序给出 $a$ 中的数。\n\n接下来一行 $Q$。\n\n然后 $Q$ 行每行 $a,b,c,d$，我们令上个询问的答案是 $x$（如果这是第一个询问则 $x=0$）。\n\n令数组 $q=\\{(a+x)\\bmod n,(b+x)\\bmod n,(c+x)\\bmod n,(d+x)\\bmod n\\}$。\n\n将 $q$ 从小到大排序之后，令真正的要询问的 $a=q_0$，$b=q_1$，$c=q_2$，$d=q_3$。\n\n输入保证满足条件。\n", "outputFormat": "$Q$ 行依次给出询问的答案。\n", "hint": "对于 $5\\%$ 的数据，$n,Q \\leq 100$；\n\n对于另 $25\\%$ 的数据，$n \\leq 2000$；\n\n对于 $100\\%$ 的数据，$1\\leq n \\leq 20000$，$1\\leq Q \\leq 25000$，$1\\leq a_i\\leq 10 ^ 9$。", "locale": "zh-CN"}}}
{"pid": "P2840", "type": "P", "difficulty": 2, "samples": [["6 15\n1 5 10 20 50 100", "42"], ["3 15\n1 5 11", "39"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP"], "title": "纸币问题 2", "background": "你是一个非常有钱的小朋友。", "description": "你有 $n$ 种面额互不相同的纸币，第 $i$ 种纸币的面额为 $a_i$ 并且有无限张，现在你需要支付 $w$ 的金额，求问有多少种方式可以支付面额 $w$，答案对 $10^9+7$ 取模。  \n注意在这里，同样的纸币组合如果支付顺序不同，会被视作不同的方式。例如支付 $3$ 元，使用一张面值 $1$ 的纸币和一张面值 $2$ 的纸币会产生两种方式（$1+2$ 和 $2+1$）。", "inputFormat": "第一行两个正整数 $n,w$，分别表示纸币的种数和要凑出的金额。  \n第二行一行 $n$ 个以空格隔开的正整数 $a_1, a_2, \\dots a_n $ 依次表示这 $n$ 种纸币的面额。", "outputFormat": "一行一个整数，表示支付方式的数量。", "hint": "对于 $40\\%$ 的数据，满足 $n\\le 10$，$w\\le 100$；  \n对于 $100\\%$ 的数据，满足 $1\\le n\\le 10^3$，$1\\le a_i , w\\le 10^4$。\n\n其实小朋友并没有那么多钱。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "纸币问题 2", "background": "你是一个非常有钱的小朋友。", "description": "你有 $n$ 种面额互不相同的纸币，第 $i$ 种纸币的面额为 $a_i$ 并且有无限张，现在你需要支付 $w$ 的金额，求问有多少种方式可以支付面额 $w$，答案对 $10^9+7$ 取模。  \n注意在这里，同样的纸币组合如果支付顺序不同，会被视作不同的方式。例如支付 $3$ 元，使用一张面值 $1$ 的纸币和一张面值 $2$ 的纸币会产生两种方式（$1+2$ 和 $2+1$）。", "inputFormat": "第一行两个正整数 $n,w$，分别表示纸币的种数和要凑出的金额。  \n第二行一行 $n$ 个以空格隔开的正整数 $a_1, a_2, \\dots a_n $ 依次表示这 $n$ 种纸币的面额。", "outputFormat": "一行一个整数，表示支付方式的数量。", "hint": "对于 $40\\%$ 的数据，满足 $n\\le 10$，$w\\le 100$；  \n对于 $100\\%$ 的数据，满足 $1\\le n\\le 10^3$，$1\\le a_i , w\\le 10^4$。\n\n其实小朋友并没有那么多钱。", "locale": "zh-CN"}}}
{"pid": "P2841", "type": "P", "difficulty": 5, "samples": [["6", "185 1110\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "高精度", "递推", "进制"], "title": "A*B Problem", "background": "", "description": "给出一个数 $A$ ，你需要给出一个最小的数 $B$ ，使得 $A\\times B$ 的结果只含有 $0$ 和 $1$ 。", "inputFormat": "一个正整数 $A$。", "outputFormat": "正整数 $B$ 和 $A\\times B$ 的结果，两数之间用一个空格隔开。", "hint": "样例说明：$6\\times 185=1110$。\n\n对于 $30\\%$ 的数据，$0<A<20$。\n\n对于 $50\\%$ 的数据，$0<A<100$。\n\n对于 $70\\%$ 的数据，$0<A<1000$。\n\n对于 $100\\%$ 的数据，$0<A<10^4$。\n", "locale": "zh-CN", "translations": {"en": {"title": "A*B Problem", "background": "", "description": "Given a number $A$, you need to output the smallest number $B$ such that the result of $A \\times B$ contains only digits 0 and 1.", "inputFormat": "A positive integer $A$.", "outputFormat": "The positive integer $B$ and the result of $A \\times B$, separated by a single space.", "hint": "Sample explanation: $6 \\times 185 = 1110$.\n\nFor 30% of the testdata, $0 < A < 20$.\nFor 50% of the testdata, $0 < A < 100$.\nFor 70% of the testdata, $0 < A < 1000$.\nFor 100% of the testdata, $0 < A < 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "A*B Problem", "background": "", "description": "给出一个数 $A$ ，你需要给出一个最小的数 $B$ ，使得 $A\\times B$ 的结果只含有 $0$ 和 $1$ 。", "inputFormat": "一个正整数 $A$。", "outputFormat": "正整数 $B$ 和 $A\\times B$ 的结果，两数之间用一个空格隔开。", "hint": "样例说明：$6\\times 185=1110$。\n\n对于 $30\\%$ 的数据，$0<A<20$。\n\n对于 $50\\%$ 的数据，$0<A<100$。\n\n对于 $70\\%$ 的数据，$0<A<1000$。\n\n对于 $100\\%$ 的数据，$0<A<10^4$。\n", "locale": "zh-CN"}}}
{"pid": "P2842", "type": "P", "difficulty": 2, "samples": [["6 15\n1 5 10 20 50 100", "2"], ["3 15\n1 5 11", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP"], "title": "纸币问题 1", "background": null, "description": "某国有 $n$ 种纸币，每种纸币面额为 $a_i$ 并且有无限张，现在要凑出 $w$ 的金额，试问最少用多少张纸币可以凑出来？（保证可以凑出对应金额）", "inputFormat": "第一行两个整数 $n,w$，分别表示纸币的种数和要凑出的金额。  \n第二行一行 $n$ 个以空格隔开的整数 $a_1, a_2, a_3, \\dots a_n$ 依次表示这 $n$ 种纸币的面额。", "outputFormat": "一行一个整数，表示最少使用的纸币张数。", "hint": "对于 $40\\%$ 的数据，满足 $n\\le 10$，$w\\le 100$；  \n对于 $100\\%$ 的数据，满足 $1\\le n\\le 10^3$，$1\\le a_i , w\\le 10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "纸币问题 1", "background": null, "description": "某国有 $n$ 种纸币，每种纸币面额为 $a_i$ 并且有无限张，现在要凑出 $w$ 的金额，试问最少用多少张纸币可以凑出来？（保证可以凑出对应金额）", "inputFormat": "第一行两个整数 $n,w$，分别表示纸币的种数和要凑出的金额。  \n第二行一行 $n$ 个以空格隔开的整数 $a_1, a_2, a_3, \\dots a_n$ 依次表示这 $n$ 种纸币的面额。", "outputFormat": "一行一个整数，表示最少使用的纸币张数。", "hint": "对于 $40\\%$ 的数据，满足 $n\\le 10$，$w\\le 100$；  \n对于 $100\\%$ 的数据，满足 $1\\le n\\le 10^3$，$1\\le a_i , w\\le 10^4$。", "locale": "zh-CN"}}}
{"pid": "P2843", "type": "P", "difficulty": 5, "samples": [["7 3\n7 6 7 2 1 4 2", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["前缀和"], "title": "暗杀", "background": "", "description": "敌方的高级将领都是有很多相同之处的。为了方便找到每名敌将的弱点，我军情报部已经找到了他们的不同点，并将其归纳为 $k$ 种特性。比如 $1$ 号特性就代表一个敌将喜欢打人，$2$ 号特性就代表一个敌将喜欢吃饭，等等。\n\n为了方便存储，我军使用特性值来描述一个敌将的特点。特性值是一个位数为 $k$ 的二进制整数，每一位都可以表示一名敌将的一个特性。$1$ 代表具有此特性，$0$ 代表没有。\n\n我军间谍打听到，不久有 $n$ 个敌方将领会举行一场宴会，而且入场时他们会排成一路纵队入场。如果有连续的 $m$ 个人的每种特性出现的次数之和是一样的，那么我军间谍就很容易暗杀这 $m$ 个人。你需要帮助我军算出，间谍最多可以暗杀多少人？\n\n因为间谍开始攻击后就可能被敌人击毙，所以间谍只能进行一次攻击。", "inputFormat": "第一行两个整数 $n$，$k$。\n\n第二行 $n$ 个整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个敌将的特性值（以十进制的形式输入）。", "outputFormat": "最多可以暗杀多少个敌将。", "hint": "- 对于 $30\\%$ 的数据，$1 \\leq N \\leq 100$；\n- 对于 $50\\%$ 的数据，$1 \\leq N \\leq 1000$；\n- 对于 $100\\%$ 的数据，$1 \\leq N \\leq 10^5$，$1 \\leq K \\leq 30$。", "locale": "zh-CN", "translations": {"en": {"title": "Assassination", "background": "", "description": "The enemy’s senior generals share many similarities. To more easily find each general’s weakness, our intelligence department has identified their differences and summarized them into $k$ types of traits. For example, trait $1$ means a general likes to fight, trait $2$ means a general likes to eat, and so on.\n\nFor storage, we use a trait value to describe a general’s characteristics. The trait value is a binary integer with $k$ bits, where each bit can represent one trait of a general. $1$ means the general has this trait, and $0$ means not.\n\nOur spy has learned that soon $n$ enemy generals will hold a banquet, and they will enter in a single file. If among some consecutive $m$ people, the number of occurrences of each trait are all the same, then our spy can easily assassinate these $m$ people. You need to help determine the maximum number $m$ that the spy can assassinate.\n\nBecause the spy may be killed right after starting the attack, the spy can attack only once.", "inputFormat": "The first line contains two integers $n$, $k$.\n\nThe second line contains $n$ integers, where the $i$-th number $a_i$ represents the $i$-th general’s trait value (given in decimal form).", "outputFormat": "Output the maximum number of enemy generals that can be assassinated.", "hint": "- For 30% of the testdata, $1 \\leq n \\leq 100$.\n- For 50% of the testdata, $1 \\leq n \\leq 1000$.\n- For 100% of the testdata, $1 \\leq n \\leq 10^5$, $1 \\leq k \\leq 30$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "暗杀", "background": "", "description": "敌方的高级将领都是有很多相同之处的。为了方便找到每名敌将的弱点，我军情报部已经找到了他们的不同点，并将其归纳为 $k$ 种特性。比如 $1$ 号特性就代表一个敌将喜欢打人，$2$ 号特性就代表一个敌将喜欢吃饭，等等。\n\n为了方便存储，我军使用特性值来描述一个敌将的特点。特性值是一个位数为 $k$ 的二进制整数，每一位都可以表示一名敌将的一个特性。$1$ 代表具有此特性，$0$ 代表没有。\n\n我军间谍打听到，不久有 $n$ 个敌方将领会举行一场宴会，而且入场时他们会排成一路纵队入场。如果有连续的 $m$ 个人的每种特性出现的次数之和是一样的，那么我军间谍就很容易暗杀这 $m$ 个人。你需要帮助我军算出，间谍最多可以暗杀多少人？\n\n因为间谍开始攻击后就可能被敌人击毙，所以间谍只能进行一次攻击。", "inputFormat": "第一行两个整数 $n$，$k$。\n\n第二行 $n$ 个整数，第 $i$ 个数 $a_i$ 表示第 $i$ 个敌将的特性值（以十进制的形式输入）。", "outputFormat": "最多可以暗杀多少个敌将。", "hint": "- 对于 $30\\%$ 的数据，$1 \\leq N \\leq 100$；\n- 对于 $50\\%$ 的数据，$1 \\leq N \\leq 1000$；\n- 对于 $100\\%$ 的数据，$1 \\leq N \\leq 10^5$，$1 \\leq K \\leq 30$。", "locale": "zh-CN"}}}
{"pid": "P2845", "type": "P", "difficulty": 4, "samples": [["3 6\n1 1 1 2\n2 1 2 2\n1 1 1 3\n2 3 3 1\n1 3 1 2\n1 3 2 1\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "2015", "USACO", "广度优先搜索 BFS", "深度优先搜索 DFS"], "title": "[USACO15DEC] Switching on the Lights S", "background": "来源：usaco-2015-dec\n\nFarm John 最近新建了一批巨大的牛棚。这些牛棚构成了一个 $N \\times N$ 的矩形网络 $(1 < N \\leq 100)$。\n\n然而 Bessie 十分怕黑，他想计算可以把多少个牛棚的灯打开。", "description": "有 $N \\times N$ 个房间，组成了一张 $N \\times N$ 的网格图，Bessie 一开始位于左上角 $(1,1)$，并且只能上下左右行走。\n\n\n一开始，只有 $(1,1)$ 这个房间的灯是亮着的，Bessie 只能在亮着灯的房间里活动。\n\n\n有另外 $M$ 条信息，每条信息包含四个数 $a,b,c,d$，表示房间 $(a,b)$ 里有房间 $(c,d)$ 的灯的开关。\n\n\n请计算出最多有多少个房间的灯可以被打开。", "inputFormat": "第一行输入两个整数 $N,M(1 < N \\leq 100,1 < M < 2 \\times 10 ^ 5)$。\n\n第 $2 \\sim M + 1$ 行，每行输入四个整数 $(x_1,y_1),(x_2,y_2)$，代表房间的坐标 $(x_1,y_1)$ 可以点亮房间的坐标 $(x_2,y_2)$。", "outputFormat": "一个数，最多可以点亮的房间数。\n", "hint": "Bessie 可以使用 $(1,1)$ 的开关打开 $(1,2),(1,3)$ 的灯，然后走到 $(1,3)$ 并打开 $(2,1)$ 的灯，走到 $(2,1)$ 并打开 $(2,2)$ 的灯。$(2,3)$ 的开关无法到达。因此可以点亮 $5$ 个房间。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO15DEC] Switching on the Lights S", "background": "Source: usaco-2015-dec.\n\nFarmer John recently built a large set of barns arranged in an $N \\times N$ rectangular grid ($1 < N \\leq 100$).\n\nHowever, Bessie is afraid of the dark and wants to know how many barns’ lights she can turn on.", "description": "There are $N \\times N$ rooms forming an $N \\times N$ grid. Bessie starts at the top-left corner $(1, 1)$ and can move only up, down, left, and right.\n\nInitially, only the room $(1, 1)$ is lit, and Bessie may only move through rooms whose lights are on.\n\nThere are $M$ additional pieces of information. Each describes that a switch in room $(a, b)$ controls the light in room $(c, d)$.\n\nCompute the maximum number of rooms whose lights can be turned on.", "inputFormat": "The first line contains two integers $N, M$ ($1 < N \\leq 100$, $1 < M < 2 \\times 10^5$).\n\nLines $2$ to $M+1$ each contain four integers $(x_1, y_1), (x_2, y_2)$, meaning the switch in room $(x_1, y_1)$ can turn on the light in room $(x_2, y_2)$.", "outputFormat": "Output a single integer, the maximum number of rooms that can be lit.", "hint": "Bessie can use the switch at $(1, 1)$ to turn on the lights in $(1, 2)$ and $(1, 3)$, then move to $(1, 3)$ and turn on $(2, 1)$, move to $(2, 1)$ and turn on $(2, 2)$. The switch at $(2, 3)$ is unreachable. Therefore, $5$ rooms can be lit.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO15DEC] Switching on the Lights S", "background": "来源：usaco-2015-dec\n\nFarm John 最近新建了一批巨大的牛棚。这些牛棚构成了一个 $N \\times N$ 的矩形网络 $(1 < N \\leq 100)$。\n\n然而 Bessie 十分怕黑，他想计算可以把多少个牛棚的灯打开。", "description": "有 $N \\times N$ 个房间，组成了一张 $N \\times N$ 的网格图，Bessie 一开始位于左上角 $(1,1)$，并且只能上下左右行走。\n\n\n一开始，只有 $(1,1)$ 这个房间的灯是亮着的，Bessie 只能在亮着灯的房间里活动。\n\n\n有另外 $M$ 条信息，每条信息包含四个数 $a,b,c,d$，表示房间 $(a,b)$ 里有房间 $(c,d)$ 的灯的开关。\n\n\n请计算出最多有多少个房间的灯可以被打开。", "inputFormat": "第一行输入两个整数 $N,M(1 < N \\leq 100,1 < M < 2 \\times 10 ^ 5)$。\n\n第 $2 \\sim M + 1$ 行，每行输入四个整数 $(x_1,y_1),(x_2,y_2)$，代表房间的坐标 $(x_1,y_1)$ 可以点亮房间的坐标 $(x_2,y_2)$。", "outputFormat": "一个数，最多可以点亮的房间数。\n", "hint": "Bessie 可以使用 $(1,1)$ 的开关打开 $(1,2),(1,3)$ 的灯，然后走到 $(1,3)$ 并打开 $(2,1)$ 的灯，走到 $(2,1)$ 并打开 $(2,2)$ 的灯。$(2,3)$ 的开关无法到达。因此可以点亮 $5$ 个房间。", "locale": "zh-CN"}}}
{"pid": "P2846", "type": "P", "difficulty": 4, "samples": [["4 5\n0 1 2\n0 2 4\n1 2 3\n0 2 4\n1 1 4", "1\n2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000, 16000]}, "tags": ["2008", "线段树", "USACO", "bitset"], "title": "[USACO08NOV] Light Switching G", "background": null, "description": "农夫约翰试图让奶牛玩智力玩具来保持它们的敏锐。谷仓里的灯是较大的玩具之一。$N (2 \\le N \\le 10^5)$ 个牛栏编号为 $1 \\ldots N$，每个牛栏上面都有一盏灯。起初所有的灯都关着。\n\n共有 $M$ 次操作，分为两种。\n1. 指定一个区间 $[S_i,E_i]$，然后改变编号在这个区间内的灯的状态（把开着的灯关上，关着的灯打开）；\n2. 指定一个区间 $[S_i,E_i]$，要求你输出这个区间内有多少盏灯是打开的。", "inputFormat": "第 $1$ 行: 用空格隔开的两个整数 $N$ 和 $M$，$N$ 是灯数。\n\n第 $2\\ldots M+1$ 行: 每行表示一个操作, 有三个用空格分开的整数: 指令号, $S_i$ 和 $E_i$。\n\n若指令号为 $0$，则表示改变 $[S_i,E_i]$ 区间内的灯的状态（把开着的灯关上，关着的灯打开）。\n\n若指令号为 $1$，则表示输出 $[S_i,E_i]$ 这个区间内有多少盏灯是打开的。", "outputFormat": null, "hint": "| 数据点编号 | $N$ | $M$ |\n| :----------: | :----------: | :----------: |\n| $1\\sim 2$ | $\\le 100$ | $\\le 100$ |\n| $3\\sim 4$ | $\\le 1000$ | $\\le 1000$ |\n| $5\\sim 6$ | $\\le 10000$ | $\\le 10000$ |\n| $7\\sim 8$ | $\\le 10^5$ | $\\le 100$ |\n| $9\\sim 10$ | $\\le 100$ | $\\le 10^5$ |\n| $11\\sim 12$ | $\\le 1000$ | $\\le 10^5$ |\n| $13\\sim 14$ | $\\le 10^5$ | $\\le 1000$ |\n| $15\\sim 16$ | $\\le 10000$ | $\\le 10000$ |\n| $17\\sim 18$ | $\\le 10$ | $\\le 10^5$ |\n| $19\\sim 20$ | $\\le 2000$ | $\\le 10^6$ |", "locale": "zh-CN", "translations": {"en": {"title": "[USACO08NOV] Light Switching G", "background": null, "description": "Farmer John tries to keep the cows sharp by letting them play with intellectual toys. One of the larger toys is the lights in the barn. Each of the $N (2 \\le N \\le 10^5)$ cow stalls conveniently numbered $1\\ldots N$ has a colorful light above it.\n\nAt the beginning of the evening, all the lights are off. The cows control the lights with a set of N pushbutton switches that toggle the lights; pushing switch i changes the state of light i from off to on or from on to off.\n\nThe cows read and execute a list of $M(1\\le M \\le 10^5)$ operations expressed as one of two integers ( $0 \\le$ operation $\\le 1$ ).\n\nThe first kind of operation (denoted by a $0$ command) includes two subsequent integers $S_i$ and $E_i (1 \\le S_i \\le E_i \\le N)$ that indicate a starting switch and ending switch. They execute the operation by pushing each pushbutton from $S_i$ through $E_i$ inclusive exactly once.\n\nThe second kind of operation (denoted by a $1$ command) asks the cows to count how many lights are on in the range given by two integers $S_i$ and $E_i (1 \\le S_i \\le E_i \\le N)$ which specify the inclusive range in which the cows should count the number of lights that are on.\n\nHelp FJ ensure the cows are getting the correct answer by processing the list and producing the proper counts.", "inputFormat": null, "outputFormat": null, "hint": null, "locale": "en"}, "zh-CN": {"title": "[USACO08NOV] Light Switching G", "background": null, "description": "农夫约翰试图让奶牛玩智力玩具来保持它们的敏锐。谷仓里的灯是较大的玩具之一。$N (2 \\le N \\le 10^5)$ 个牛栏编号为 $1 \\ldots N$，每个牛栏上面都有一盏灯。起初所有的灯都关着。\n\n共有 $M$ 次操作，分为两种。\n1. 指定一个区间 $[S_i,E_i]$，然后改变编号在这个区间内的灯的状态（把开着的灯关上，关着的灯打开）；\n2. 指定一个区间 $[S_i,E_i]$，要求你输出这个区间内有多少盏灯是打开的。", "inputFormat": "第 $1$ 行: 用空格隔开的两个整数 $N$ 和 $M$，$N$ 是灯数。\n\n第 $2\\ldots M+1$ 行: 每行表示一个操作, 有三个用空格分开的整数: 指令号, $S_i$ 和 $E_i$。\n\n若指令号为 $0$，则表示改变 $[S_i,E_i]$ 区间内的灯的状态（把开着的灯关上，关着的灯打开）。\n\n若指令号为 $1$，则表示输出 $[S_i,E_i]$ 这个区间内有多少盏灯是打开的。", "outputFormat": null, "hint": "| 数据点编号 | $N$ | $M$ |\n| :----------: | :----------: | :----------: |\n| $1\\sim 2$ | $\\le 100$ | $\\le 100$ |\n| $3\\sim 4$ | $\\le 1000$ | $\\le 1000$ |\n| $5\\sim 6$ | $\\le 10000$ | $\\le 10000$ |\n| $7\\sim 8$ | $\\le 10^5$ | $\\le 100$ |\n| $9\\sim 10$ | $\\le 100$ | $\\le 10^5$ |\n| $11\\sim 12$ | $\\le 1000$ | $\\le 10^5$ |\n| $13\\sim 14$ | $\\le 10^5$ | $\\le 1000$ |\n| $15\\sim 16$ | $\\le 10000$ | $\\le 10000$ |\n| $17\\sim 18$ | $\\le 10$ | $\\le 10^5$ |\n| $19\\sim 20$ | $\\le 2000$ | $\\le 10^6$ |", "locale": "zh-CN"}}}
{"pid": "P2847", "type": "P", "difficulty": 3, "samples": [["4\n1 3\n5 4\n7 2\n6 1", "17\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2016", "二分", "USACO", "生成树"], "title": "[USACO16DEC] Moocast G", "background": "", "description": "Farmer John's $N$ cows ($1 \\leq N \\leq 1000$) want to organize an emergency \"moo-cast\" system for broadcasting important messages among themselves.\n\nInstead of mooing at each-other over long distances, the cows decide to equip themselves with walkie-talkies, one for each cow. These walkie-talkies each have a limited transmission radius, but cows can relay messages to one-another along a path consisting of several hops, so it is not necessary for every cow to be able to transmit directly to every other cow.\n\nThe cows need to decide how much money to spend on their walkie-talkies. If they spend $X$, they will each get a walkie-talkie capable of transmitting up to a distance of $\\sqrt{X}$. That is, the squared distance between two cows must be at most $X$ for them to be able to communicate.\n\nPlease help the cows determine the minimum integer value of $X$ such that a broadcast from any cow will ultimately be able to reach every other cow.\n", "inputFormat": "The first line of input contains $N$.\n\nThe next $N$ lines each contain the $x$ and $y$ coordinates of a single cow. These are both integers in the range $0 \\ldots 25,000$.\n", "outputFormat": "Write a single line of output containing the integer $X$ giving the minimum amount the cows must spend on walkie-talkies.\n", "hint": "感谢@MrMorning 提供翻译\n", "locale": "en", "translations": {"en": {"title": "[USACO16DEC] Moocast G", "background": "", "description": "Farmer John's $N$ cows ($1 \\leq N \\leq 1000$) want to organize an emergency \"moo-cast\" system for broadcasting important messages among themselves.\n\nInstead of mooing at each-other over long distances, the cows decide to equip themselves with walkie-talkies, one for each cow. These walkie-talkies each have a limited transmission radius, but cows can relay messages to one-another along a path consisting of several hops, so it is not necessary for every cow to be able to transmit directly to every other cow.\n\nThe cows need to decide how much money to spend on their walkie-talkies. If they spend $X$, they will each get a walkie-talkie capable of transmitting up to a distance of $\\sqrt{X}$. That is, the squared distance between two cows must be at most $X$ for them to be able to communicate.\n\nPlease help the cows determine the minimum integer value of $X$ such that a broadcast from any cow will ultimately be able to reach every other cow.\n", "inputFormat": "The first line of input contains $N$.\n\nThe next $N$ lines each contain the $x$ and $y$ coordinates of a single cow. These are both integers in the range $0 \\ldots 25,000$.\n", "outputFormat": "Write a single line of output containing the integer $X$ giving the minimum amount the cows must spend on walkie-talkies.\n", "hint": "感谢@MrMorning 提供翻译\n", "locale": "en"}, "zh-CN": {"title": "[USACO16DEC] Moocast G", "background": "", "description": "Farmer John 的 $N$ 头奶牛（$1 \\leq N \\leq 1000$）希望组织一个紧急的“哞播”系统，用于在它们之间广播重要消息。\n\n为了避免在长距离上互相哞叫，奶牛们决定为自己配备对讲机，每头奶牛一个。这些对讲机每个都有一个有限的传输半径，但奶牛们可以通过多次跳跃的路径中继消息，因此并非每头奶牛都需要能够直接与其他每头奶牛通信。\n\n奶牛们需要决定在对讲机上花费多少钱。如果它们花费 $X$，每头奶牛将获得一个能够传输到 $\\sqrt{X}$ 距离的对讲机。也就是说，两头奶牛之间的平方距离必须不超过 $X$，它们才能通信。\n\n请帮助奶牛们确定 $X$ 的最小整数值，使得从任何一头奶牛发出的广播最终能够到达其他所有奶牛。", "inputFormat": "输入的第一行包含 $N$。\n\n接下来的 $N$ 行每行包含一头奶牛的 $x$ 和 $y$ 坐标。这些坐标都是 $0 \\ldots 25,000$ 范围内的整数。", "outputFormat": "输出一行，包含整数 $X$，表示奶牛们在对讲机上必须花费的最小金额。", "hint": "", "locale": "zh-CN"}}}
