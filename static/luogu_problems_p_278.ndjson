{"pid": "P6628", "type": "P", "difficulty": 6, "samples": [["4 3 1\n1 2\n4 2\n3 1", "6 7 8 7"], ["6 0 2", "1 0 1 2 3 4"], ["5 4 1\n1 2\n3 4\n4 5\n3 5", "8 7 6 7 8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2020", "并查集", "各省省选", "生成树", "欧拉回路"], "title": "[省选联考 2020 B 卷] 丁香之路", "background": "", "description": "春暖花开，万物复苏，随着疫情的逐渐过去，Yazid 带着他的 $n$ 个好朋友来到 T 大校园参观游览。方便起见，我们将他们从 $1$ 至 $n$ 编号。\n\nT 大校园的版图可以抽象成一张 $n$ 个顶点的无向图（顶点编号从 $1$ 至 $n$）。且对于任意两个不同顶点，设它们的编号分别为 $i, j(i\\neq j)$，则它们之间有一条需要花费 $|i - j|$ 单位时间通过的无向边。\n\n丁香花是 T 大的校花之一。时下正值丁香花盛开之际，校园内的 $m$ 条道路上都开有丁香花。Yazid 的朋友们对丁香花十分感兴趣，因此他们都希望遍历**所有**开有丁香花的 $m$ 条道路。\n\nYazid 的朋友们从顶点 $s$ 出发。其中，第 $i$ 个朋友希望以顶点 $i$ 为终点终止他的参观。与此同时，如上面所述，每个朋友都必须经过开着丁香花的 $m$ 条道路各至少一次。\n\nYazid 的朋友不想太过疲累，因此他们希望花尽可能少的时间来完成他们的目标。\n\n请你计算 Yazid 的朋友们分别需要花费多少单位时间完成他们的目标。", "inputFormat": "第一行 $3$ 个非负整数 $n, m, s$。保证 $1\\le s\\le n$；保证 $m\\le \\frac {n(n-1)}2$。\n\n第 $2$ 行至第 $m+1$ 行，每行 $2$ 个整数 $u, v$，描述一条开有丁香花的，连接顶点 $u, v$ 的无向边。保证 $1\\le u, v\\le n$ 且 $u\\neq v$；保证每条无向边至多被描述一次。\n\n对于输入的所有行，用单个空格将行内的多个整数隔开。", "outputFormat": "输出一行 $n$ 个用单个空格隔开的整数，其中第 $i$ 个整数描述 Yazid 的第 $i$ 个朋友完成目标所需花费的最少时间。\n", "hint": "**样例解释 1**\n\n第 $1$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $2, 4, 3$，最终回到 $1$，消耗 $|1-2|+|2-4|+|4-3|+|3-1| = 6$ 单位时间。\n\n第 $2$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $2, 4, 3, 1$，最终来到 $2$，消耗 $7$ 单位时间。\n\n第 $3$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $2, 4, 1$，最终来到 $3$，消耗 $8$ 单位时间。\n\n第 $4$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $3, 1, 2$，最终来到 $4$，消耗 $7$ 单位时间。\n\n**样例解释 2**\n\n由于 $m = 0$，没有必经之路，因此每个朋友直接通过一条边直达目的地即可。\n\n\n**数据范围与约定**\n\n| 测试点编号  |  $n=$  | 其他特殊限制 |\n| --------- | ---- | ---------- |\n|  $1\\sim 3$  |  $50$  |    $m=9$     |\n|  $4\\sim 6$  |  $50$  |    $m=15$    |\n|  $7\\sim 8$  |  $50$  |              |\n| $9\\sim 10$  | $300$  |              |\n|    $11$     | $1600$ |    $m=0$     |\n| $12\\sim 14$ | $1600$ |    $m=1$     |\n| $15\\sim 17$ | $1600$ |              |\n| $18\\sim 20$ | $2500$ |              |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[省选联考 2020 B 卷] 丁香之路", "background": "", "description": "春暖花开，万物复苏，随着疫情的逐渐过去，Yazid 带着他的 $n$ 个好朋友来到 T 大校园参观游览。方便起见，我们将他们从 $1$ 至 $n$ 编号。\n\nT 大校园的版图可以抽象成一张 $n$ 个顶点的无向图（顶点编号从 $1$ 至 $n$）。且对于任意两个不同顶点，设它们的编号分别为 $i, j(i\\neq j)$，则它们之间有一条需要花费 $|i - j|$ 单位时间通过的无向边。\n\n丁香花是 T 大的校花之一。时下正值丁香花盛开之际，校园内的 $m$ 条道路上都开有丁香花。Yazid 的朋友们对丁香花十分感兴趣，因此他们都希望遍历**所有**开有丁香花的 $m$ 条道路。\n\nYazid 的朋友们从顶点 $s$ 出发。其中，第 $i$ 个朋友希望以顶点 $i$ 为终点终止他的参观。与此同时，如上面所述，每个朋友都必须经过开着丁香花的 $m$ 条道路各至少一次。\n\nYazid 的朋友不想太过疲累，因此他们希望花尽可能少的时间来完成他们的目标。\n\n请你计算 Yazid 的朋友们分别需要花费多少单位时间完成他们的目标。", "inputFormat": "第一行 $3$ 个非负整数 $n, m, s$。保证 $1\\le s\\le n$；保证 $m\\le \\frac {n(n-1)}2$。\n\n第 $2$ 行至第 $m+1$ 行，每行 $2$ 个整数 $u, v$，描述一条开有丁香花的，连接顶点 $u, v$ 的无向边。保证 $1\\le u, v\\le n$ 且 $u\\neq v$；保证每条无向边至多被描述一次。\n\n对于输入的所有行，用单个空格将行内的多个整数隔开。", "outputFormat": "输出一行 $n$ 个用单个空格隔开的整数，其中第 $i$ 个整数描述 Yazid 的第 $i$ 个朋友完成目标所需花费的最少时间。\n", "hint": "**样例解释 1**\n\n第 $1$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $2, 4, 3$，最终回到 $1$，消耗 $|1-2|+|2-4|+|4-3|+|3-1| = 6$ 单位时间。\n\n第 $2$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $2, 4, 3, 1$，最终来到 $2$，消耗 $7$ 单位时间。\n\n第 $3$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $2, 4, 1$，最终来到 $3$，消耗 $8$ 单位时间。\n\n第 $4$ 个朋友的一种最优路线是从 $1$ 出发依次途径 $3, 1, 2$，最终来到 $4$，消耗 $7$ 单位时间。\n\n**样例解释 2**\n\n由于 $m = 0$，没有必经之路，因此每个朋友直接通过一条边直达目的地即可。\n\n\n**数据范围与约定**\n\n| 测试点编号  |  $n=$  | 其他特殊限制 |\n| --------- | ---- | ---------- |\n|  $1\\sim 3$  |  $50$  |    $m=9$     |\n|  $4\\sim 6$  |  $50$  |    $m=15$    |\n|  $7\\sim 8$  |  $50$  |              |\n| $9\\sim 10$  | $300$  |              |\n|    $11$     | $1600$ |    $m=0$     |\n| $12\\sim 14$ | $1600$ |    $m=1$     |\n| $15\\sim 17$ | $1600$ |              |\n| $18\\sim 20$ | $2500$ |              |", "locale": "zh-CN"}}}
{"pid": "P6629", "type": "P", "difficulty": 7, "samples": [["11 5\naabaabaaaab\n1 11\n1 6\n7 10\n5 5\n3 8\n", "5\n2\n2\n0\n2"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "各省省选", "浙江", "O2优化"], "title": "[ZJOI2020] 字符串", "background": "3s，512MB", "description": "Bob 喜欢字符串。\n\nBob 觉得，重复两遍的字符串是优美的，例如，`aa`，`sese`，`abcabc`，`baabaa`，`abababab`是优\n美的串，而 `ab`，`aadead`，`sesese`，`abba` 不是。更具体地说，如果一个字符串 $S$ 能够被写成两个相同的字符串前后拼接的形式，即存在字符串 $P$ 使得 $S=PP$，那么 $S$ 就是优美的。\n\nBob 有一个长度为 $n$ 的字符串 $T=T_1T_2 \\cdots T_n$。现在他想知道，给定 $T$ 的一个子串 $Q=T[l \\cdots r]$，这个子串 $Q$ 内一共包含多少种本质不同的优美的串作为子串。如果两个串相同，但是出现的位置不同，那么这两个串不是本质不同。\n\nBob 一共有 $q$ 组不同的询问，你需要快速计算出答案。", "inputFormat": "第一行输入两个整数 $n, q$。第二行输入一个只包含小写字母 $a$ 和 $b$ 的字符串 $T$。\n\n接下来 $q$ 行，每行输入两个整数 $l, r$，表示一组询问。", "outputFormat": "输出 $q$ 行，每行一个整数表示答案。\n", "hint": "样例解释 $1$：\n\n$|T|$ 有 `aa`，`aaaa`，`abaaba`，`aabaab`，`baabaa` 这些本质不同的优美的串。\n\n样例输入输出 2 见附件。\n\n对于前 $10\\%$ 的数据，$n \\leq 100$。\n\n对于前 $20\\%$ 的数据，$n \\leq 500$。\n\n对于前 $40\\%$ 的数据，$n \\leq 5000$。\n\n对于另外 $20\\%$ 的数据，保证 $T$ 中所有的优美的串的个数不超过 $10^6$，这里位置不同的串被视为不同的。\n\n对于另外 $20\\%$ 的数据，$q = 1$。\n\n对于 $100\\%$ 的数据，$1 \\leq n, q \\leq 200000,1 \\leq l \\leq r \\leq n$，$T$ 只包含小写字母 `a` 和 `b`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZJOI2020] 字符串", "background": "3s，512MB", "description": "Bob 喜欢字符串。\n\nBob 觉得，重复两遍的字符串是优美的，例如，`aa`，`sese`，`abcabc`，`baabaa`，`abababab`是优\n美的串，而 `ab`，`aadead`，`sesese`，`abba` 不是。更具体地说，如果一个字符串 $S$ 能够被写成两个相同的字符串前后拼接的形式，即存在字符串 $P$ 使得 $S=PP$，那么 $S$ 就是优美的。\n\nBob 有一个长度为 $n$ 的字符串 $T=T_1T_2 \\cdots T_n$。现在他想知道，给定 $T$ 的一个子串 $Q=T[l \\cdots r]$，这个子串 $Q$ 内一共包含多少种本质不同的优美的串作为子串。如果两个串相同，但是出现的位置不同，那么这两个串不是本质不同。\n\nBob 一共有 $q$ 组不同的询问，你需要快速计算出答案。", "inputFormat": "第一行输入两个整数 $n, q$。第二行输入一个只包含小写字母 $a$ 和 $b$ 的字符串 $T$。\n\n接下来 $q$ 行，每行输入两个整数 $l, r$，表示一组询问。", "outputFormat": "输出 $q$ 行，每行一个整数表示答案。\n", "hint": "样例解释 $1$：\n\n$|T|$ 有 `aa`，`aaaa`，`abaaba`，`aabaab`，`baabaa` 这些本质不同的优美的串。\n\n样例输入输出 2 见附件。\n\n对于前 $10\\%$ 的数据，$n \\leq 100$。\n\n对于前 $20\\%$ 的数据，$n \\leq 500$。\n\n对于前 $40\\%$ 的数据，$n \\leq 5000$。\n\n对于另外 $20\\%$ 的数据，保证 $T$ 中所有的优美的串的个数不超过 $10^6$，这里位置不同的串被视为不同的。\n\n对于另外 $20\\%$ 的数据，$q = 1$。\n\n对于 $100\\%$ 的数据，$1 \\leq n, q \\leq 200000,1 \\leq l \\leq r \\leq n$，$T$ 只包含小写字母 `a` 和 `b`。", "locale": "zh-CN"}}}
{"pid": "P6630", "type": "P", "difficulty": 6, "samples": [["3 1\n1 2\n", "166374060\n"], ["5 4\n2 1 3 4", "320443836"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "各省省选", "浙江", "O2优化"], "title": "[ZJOI2020] 传统艺能", "background": "4s，512MB", "description": "Bob 喜欢线段树。\n\n众所周知，ZJOI 的第二题有很多线段树。\n\nBob 有一棵根为 $[1, n]$ 的广义线段树。Bob 需要在这个线段树上执行 $k$ 次区间懒标记操作，每次操作会等概率地从 $[1, n]$ 的所有 $\\dfrac{n(n+1)}{2}$ 个子区间中随机选择一个。对于所有在该次操作中被访问到的非叶子节点，Bob 会将这个点上的标记下推；而对于所有叶子节点（即没有继续递归的节点），Bob 会给这个点打上标记。\n\nBob 想知道，$k$ 次操作之后，有标记的节点的期望数量是多少。\n\n【具体定义】\n\n线段树：线段树是一棵每个节点上都记录了一个线段的二叉树。根节点记录的线段是 $[1, n]$。对于每个节点，若它记录的线段是 $[l, r]$ 且 $l \\neq r$，取 $m = \\lfloor \\dfrac{l+r}{2} \\rfloor$，则它的左右儿子节点记录的线段分别是 $[l, m]$ 和 $[m + 1, r]$；若 $l = r$，则它是叶子节点。\n\n广义线段树：在广义的线段树中，$m$ 不要求恰好等于区间的中点，但是 $m$ 还是必须满足 $l \\leq m < r$ 的。不难发现在广义的线段树中，树的深度可以达到 $O(n)$ 级别。\n\n线段树的核心是懒标记，下面是一个带懒标记的广义线段树的伪代码，其中 `tag` 数组为懒标记：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3230chjw.png)\n\n注意，在处理叶子节点时，一旦他获得了一个标记，那么这个标记会一直存在。\n\n你也可以这么理解题意：有一棵广义线段树，每个节点有一个 $m$ 值。一开始 `tag` 数组均为 $0$，Bob 会执行 $k$ 次操作，每次操作等概率随机选择区间 $[l, r]$ 并执行 `MODIFY(root,1,n,l,r);`。\n最后所有 `Node` 中满足 `tag[Node]=1` 的期望数量就是需要求的值。\n", "inputFormat": "第一行输入两个整数 $n, k$。\n\n接下来输入一行包含 $n - 1$ 个整数 $a_i$：按照先序遍历的顺序，给出广义线段树上所有非叶子节点的划分位置 $m$。你也可以理解为从只有 $[1, n]$ 根节点开始，每次读入一个整数后，就将当前包含这个整数的节点做一次拆分，最后获得一棵有 $2n - 1$ 个节点的广义线段树。\n\n保证给定的 $n - 1$ 个整数是一个排列，不难发现通过这些信息就能唯一确定一棵 $[1, n]$ 上的广义线段树。\n", "outputFormat": "输出一行一个整数，代表期望数量对 $p = 998244353$ 取模后的结果。即，如果期望数量的最简分数表示为 $\\dfrac{a}{b}$，你需要输出一个整数 $c$ 满足 $c \\times b \\equiv a \\pmod p$。", "hint": "样例输入输出 $3$ 见下发文件。\n\n样例解释 $1$\n\n输入的线段树为 $[1, 3], [1, 1], [2, 3], [2, 2], [3, 3]$。\n\n若操作为 $[1, 1]/[2, 2]/[3, 3]/[2, 3]/[1, 3]$，标记个数为 $1$。若操作为 $[1, 2]$，标记个数为 $2$。故答案为 $\\dfrac{7}{6}$。\n\n| 测试点 | $n$ | $k$ | 其他约定 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $\\leq 10$ | $\\leq 4$ | 无 |\n| $2$ | $\\leq 10$ | $\\leq 100$ | 无 |\n| $3$ | $\\leq 5$ | 无 | 无 |\n| $4$ | 无 | $=1$ | 无 |\n| $5$ | $=32$ | 无 | 输入的线段树为完全二叉树 |\n| $6$ | $=64$ | 无 | 输入的线段树为完全二叉树 |\n| $7$ | $=4096$ | 无 | 输入的线段树为完全二叉树 |\n| $8$ | $\\leq 5000$ | 无 | 每个 $m$ 均在 $[l, r - 1]$ 内均匀随机 |\n| $9$ | $\\leq 100000$ | 无 | 无 |\n| $10$ | 无 | 无 | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 200000, 1 \\leq k \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZJOI2020] 传统艺能", "background": "4s，512MB", "description": "Bob 喜欢线段树。\n\n众所周知，ZJOI 的第二题有很多线段树。\n\nBob 有一棵根为 $[1, n]$ 的广义线段树。Bob 需要在这个线段树上执行 $k$ 次区间懒标记操作，每次操作会等概率地从 $[1, n]$ 的所有 $\\dfrac{n(n+1)}{2}$ 个子区间中随机选择一个。对于所有在该次操作中被访问到的非叶子节点，Bob 会将这个点上的标记下推；而对于所有叶子节点（即没有继续递归的节点），Bob 会给这个点打上标记。\n\nBob 想知道，$k$ 次操作之后，有标记的节点的期望数量是多少。\n\n【具体定义】\n\n线段树：线段树是一棵每个节点上都记录了一个线段的二叉树。根节点记录的线段是 $[1, n]$。对于每个节点，若它记录的线段是 $[l, r]$ 且 $l \\neq r$，取 $m = \\lfloor \\dfrac{l+r}{2} \\rfloor$，则它的左右儿子节点记录的线段分别是 $[l, m]$ 和 $[m + 1, r]$；若 $l = r$，则它是叶子节点。\n\n广义线段树：在广义的线段树中，$m$ 不要求恰好等于区间的中点，但是 $m$ 还是必须满足 $l \\leq m < r$ 的。不难发现在广义的线段树中，树的深度可以达到 $O(n)$ 级别。\n\n线段树的核心是懒标记，下面是一个带懒标记的广义线段树的伪代码，其中 `tag` 数组为懒标记：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3230chjw.png)\n\n注意，在处理叶子节点时，一旦他获得了一个标记，那么这个标记会一直存在。\n\n你也可以这么理解题意：有一棵广义线段树，每个节点有一个 $m$ 值。一开始 `tag` 数组均为 $0$，Bob 会执行 $k$ 次操作，每次操作等概率随机选择区间 $[l, r]$ 并执行 `MODIFY(root,1,n,l,r);`。\n最后所有 `Node` 中满足 `tag[Node]=1` 的期望数量就是需要求的值。\n", "inputFormat": "第一行输入两个整数 $n, k$。\n\n接下来输入一行包含 $n - 1$ 个整数 $a_i$：按照先序遍历的顺序，给出广义线段树上所有非叶子节点的划分位置 $m$。你也可以理解为从只有 $[1, n]$ 根节点开始，每次读入一个整数后，就将当前包含这个整数的节点做一次拆分，最后获得一棵有 $2n - 1$ 个节点的广义线段树。\n\n保证给定的 $n - 1$ 个整数是一个排列，不难发现通过这些信息就能唯一确定一棵 $[1, n]$ 上的广义线段树。\n", "outputFormat": "输出一行一个整数，代表期望数量对 $p = 998244353$ 取模后的结果。即，如果期望数量的最简分数表示为 $\\dfrac{a}{b}$，你需要输出一个整数 $c$ 满足 $c \\times b \\equiv a \\pmod p$。", "hint": "样例输入输出 $3$ 见下发文件。\n\n样例解释 $1$\n\n输入的线段树为 $[1, 3], [1, 1], [2, 3], [2, 2], [3, 3]$。\n\n若操作为 $[1, 1]/[2, 2]/[3, 3]/[2, 3]/[1, 3]$，标记个数为 $1$。若操作为 $[1, 2]$，标记个数为 $2$。故答案为 $\\dfrac{7}{6}$。\n\n| 测试点 | $n$ | $k$ | 其他约定 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $\\leq 10$ | $\\leq 4$ | 无 |\n| $2$ | $\\leq 10$ | $\\leq 100$ | 无 |\n| $3$ | $\\leq 5$ | 无 | 无 |\n| $4$ | 无 | $=1$ | 无 |\n| $5$ | $=32$ | 无 | 输入的线段树为完全二叉树 |\n| $6$ | $=64$ | 无 | 输入的线段树为完全二叉树 |\n| $7$ | $=4096$ | 无 | 输入的线段树为完全二叉树 |\n| $8$ | $\\leq 5000$ | 无 | 每个 $m$ 均在 $[l, r - 1]$ 内均匀随机 |\n| $9$ | $\\leq 100000$ | 无 | 无 |\n| $10$ | 无 | 无 | 无 |\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 200000, 1 \\leq k \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6631", "type": "P", "difficulty": 7, "samples": [["3\n5\n2 1 2 1 2\n8\n1000000000 1000000000 0 1000000000 1000000000 0 1000000000 1000000000\n13\n1 1 4 5 1 4 1 9 1 9 8 1 0", "2\n3000000000\n19"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "各省省选", "浙江", "O2优化"], "title": "[ZJOI2020] 序列", "background": "1s，512MB", "description": "Bob 喜欢序列。\n\n有一个长度为 $n$ 的非负整数序列 $a_1, a_2,\\cdots, a_n$。每一步你可以从以下三种操作中选择一种执行：\n\n- 选择一个区间 $[l, r]$，将下标在这个区间里的所有数都减 $1$。\n\n- 选择一个区间 $[l, r]$，将下标在这个区间里且下标为奇数的所有数都减 $1$。\n\n- 选择一个区间 $[l, r]$，将下标在这个区间里且下标为偶数的所有数都减 $1$。\n\n求最少需要多少步才能将序列中的所有数都变成 $0$。", "inputFormat": "第一行输入一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行输入一个整数 $n$，接下来一行输入 $n$ 个非负整数 $a_1, a_2,\\dots, a_n$。", "outputFormat": "输出 $T$ 行，对于每组测试数据，输出一行一个整数，表示答案。", "hint": "样例解释 $1$\n\n第一组数据：$21212 \\stackrel{1}{\\longrightarrow} 1111 1 \\stackrel{1}{\\longrightarrow} 00000$\n\n第三组数据：$1145141919810 \\stackrel{1}{\\longrightarrow} 0034030808700 \\stackrel{8}{\\longrightarrow} 0031000000700 \\stackrel{10}{\\longrightarrow}0000000000000$\n\n样例输入输出 $2$ 见下发文件\n\n对于前 $10\\%$ 的数据，$n \\leq 5, a_i \\leq 10$。\n\n对于前 $30\\%$ 的数据，$n \\leq 50, a_i \\leq 50$。\n\n对于前 $50\\%$ 的数据，$n \\leq 200, a_i \\leq 200$。\n\n对于前 $60\\%$ 的数据，$n \\leq 200, a_i \\leq 10^9$。\n\n对于前 $70\\%$ 的数据，$n \\leq 1000, a_i \\leq 10^9$。\n\n对于前 $90\\%$ 的数据，$n \\leq 10000, a_i \\leq 10^9$。\n\n对于 100% 的数据，$1 \\leq n \\leq 100000, 0 \\leq a_i \\leq 10^9, 1 \\leq T \\leq 10$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZJOI2020] 序列", "background": "1s，512MB", "description": "Bob 喜欢序列。\n\n有一个长度为 $n$ 的非负整数序列 $a_1, a_2,\\cdots, a_n$。每一步你可以从以下三种操作中选择一种执行：\n\n- 选择一个区间 $[l, r]$，将下标在这个区间里的所有数都减 $1$。\n\n- 选择一个区间 $[l, r]$，将下标在这个区间里且下标为奇数的所有数都减 $1$。\n\n- 选择一个区间 $[l, r]$，将下标在这个区间里且下标为偶数的所有数都减 $1$。\n\n求最少需要多少步才能将序列中的所有数都变成 $0$。", "inputFormat": "第一行输入一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行输入一个整数 $n$，接下来一行输入 $n$ 个非负整数 $a_1, a_2,\\dots, a_n$。", "outputFormat": "输出 $T$ 行，对于每组测试数据，输出一行一个整数，表示答案。", "hint": "样例解释 $1$\n\n第一组数据：$21212 \\stackrel{1}{\\longrightarrow} 1111 1 \\stackrel{1}{\\longrightarrow} 00000$\n\n第三组数据：$1145141919810 \\stackrel{1}{\\longrightarrow} 0034030808700 \\stackrel{8}{\\longrightarrow} 0031000000700 \\stackrel{10}{\\longrightarrow}0000000000000$\n\n样例输入输出 $2$ 见下发文件\n\n对于前 $10\\%$ 的数据，$n \\leq 5, a_i \\leq 10$。\n\n对于前 $30\\%$ 的数据，$n \\leq 50, a_i \\leq 50$。\n\n对于前 $50\\%$ 的数据，$n \\leq 200, a_i \\leq 200$。\n\n对于前 $60\\%$ 的数据，$n \\leq 200, a_i \\leq 10^9$。\n\n对于前 $70\\%$ 的数据，$n \\leq 1000, a_i \\leq 10^9$。\n\n对于前 $90\\%$ 的数据，$n \\leq 10000, a_i \\leq 10^9$。\n\n对于 100% 的数据，$1 \\leq n \\leq 100000, 0 \\leq a_i \\leq 10^9, 1 \\leq T \\leq 10$。", "locale": "zh-CN"}}}
{"pid": "P6632", "type": "P", "difficulty": 7, "samples": [["5\n6 5 2 2\n1 2 0 \n2 3 0 \n2 4 0 \n3 5 0 \n4 6 0 \n5 6 \n3 4 \n6 5 2 2 \n1 2 1 \n2 3 0 \n2 4 0 \n3 5 0 \n4 6 0 \n5 6 \n3 4 \n5 4 2 2 \n1 2 1 \n1 3 1 \n2 4 0 \n3 5 0\n4 5 \n2 3 \n8 8 1 2 \n1 2 2 \n2 3 1 \n3 4 0 \n4 5 0 \n5 6 0 \n6 7 0 \n7 2 1 \n5 8 0 \n8 \n3 7 \n8 8 1 2 \n1 2 3 \n2 3 0 \n3 4 0 \n4 5 0 \n5 6 0 \n6 7 0 \n7 2 0 \n5 8 0 \n8 \n3 7", "1\n0\n0\n0\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "各省省选", "浙江"], "title": "[ZJOI2020] 染色游戏", "background": "", "description": "Alice 和 Bob 在玩一个染色游戏。游戏在一张 $N$ 个点 $M(N −1 \\le M \\le N)$ 条边的连通图上进行，Bob 想要围住 Alice，而 Alice 想要逃出 Bob 的包围。\n\n游戏开始时，Alice 将 $1$ 号点涂成了黑色表示占领了 $1$ 号点，Bob 将点集 $S$ 中的所有点涂成了白色表示占领了这 $|S|$ 个点，保证 $1$ 不在 $S$ 中。接下来两个人轮流进行操作，由 Alice 先 手，每轮中轮到的玩家可以从一个被自己占领的点出发 (对于 Alice 为黑色点对于 Bob 为白色 点)，选择一个相邻且未被染色的点，占领该点并染上自己的颜色。如果不存在可以染色的点， 那么这位玩家必须跳过这个回合。当所有点都被染完色时，游戏结束。\n\nAlice 和 Bob 约定了一个图中的非空点集 $T$，如果游戏结束时 $T$ 中的点全都涂成白色，则代表 Bob 成功围住了 Alice，Bob 获胜。反之一定存在一个 $T$ 中的点被涂成黑色，那么 Alice 获胜。注意这里的 $T$ 可能会包含 $S$ 中的点和 $1$ 号点。\n\nAlice 和 Bob 都会使用最优策略。Bob 注意到，在有些局面下，Alice 优势很大，如果能让 Alice 主动跳过 Alice 的一些行动回合来获得一个更加公平的局面，这个游戏会更有可玩性。 Bob 想知道，如果 Alice 跳过前 $k$ 个回合之后自己能够获胜，那么这个 $k$ 的最小值是多少。 Alice 只会跳过 Alice 的前 $k$ 个回合，并且在剩下的回合中采用最优策略，即你可以理解为 Bob 在 Alice 的第一回合行动之前额外行动了 $k$ 个回合。注意如果 Bob 在 Alice 跳过的一个回合中 没有合法行动，那么 Bob 仍需按照规则跳过自己的回合。如果在原图上就是 Bob 获胜那么输出 $0$。如果 $k = 1000000$ 时 Bob 也不能取胜，则输出 $1000000$。\n\n由于这个图可能很大，我们用如下的方式生成。\n\n- 首先生成一个含有标号为 $1$ 到 $n$ 一共 $n$ 个点的空图。 \n- 接下来加入 $m$ 条链，第 $i$ 条链记作 $(u_i,v_i,l_i)$，其中 $1 \\le u_i,v_i \\le n$ 且 $u_i \\neq v_i$。 \n\t- 首先我们加入 $l_i$ 个点，记作 $x_1^i,x_2^i,...,x_ {l_i}^i$。 \n\t- 然后在 $(u_i,x_1^i),(x_1^i,x_2^i),(x_2^i,x_3^i),$ $...,(x_{l_i−1}^i,x_{l_i}^i),(x_{l_i}^i,v_i)$ 之间连上无向边。 \n\t- 在这次操作之后，本轮中新加入的 $l_i$ 个点不会再与其他的点之间连边，即不同的链中的 $x_1^i ... x_{l_i}^i$ 均为互不相同的点。特别地，如果 $l = 0$，那么就不添加新点，直接在 $(u_i,v_i)$ 之间连上无向边。\n    \n保证 $S$ 集合以及 $T$ 集合的点均为一开始生成的 $n$ 个点之一。", "inputFormat": "第一行输入一个整数 $C$，表示数据组数。\n对于每组数据：\n\n- 第一行输入四个整数 $n,m,|S|,|T|$,$(1 \\le|S|\\le n−1,1 \\le|T|\\le n,n−1 \\le m \\le n)$。 \n- 接下来 $m$ 行每行输入 $3$ 个非负整数 $u_i,v_i,l_i$,$(1 \\le u_i,v_i \\le n,0 \\le l_i \\le 10^6)$，表示题面中的第 $i$ 条链。\n- 接下来一行输入 $|S|$ 个数 $s_1 ... s_{|S|}$ 表示 $S$ 集合中的所有元素 ($2 \\le s_i \\le n$ 且不重复)。 \n- 接下来一行输入 $|T|$ 个数 $t_1 ... t_{|T|}$ 表示 $T$ 集合中的所有元素 ($1 \\le t_i \\le n$ 且不重复)。\n\n即每组数据按照如下格式输入：\n\n```\nn m |S||T| \nu_1 v_1 l_1 \nu_2 v_2 l_2 \n···\nu_m v_m l_m \ns_1 s_2 ··· s_|S| \nt_1 t_2 ··· t_|T|\n```\n\n保证 $u_i \\neq v_i$（即没有自环），保证没有相同的 $(u_i,v_i)$ 对（即没有重边），保证给出的图是一个连通图。", "outputFormat": "输出 $C$ 行，对于每组测试数据，输出为了让 Bob 取胜 Alice 至少要跳过的回合数 $k$。如果在原图上就是 Bob 获胜那么输出 $0$。如果 $k = 1000000$ 时 Bob 也不能取胜，则输出 $1000000$。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/ltfz1gns.png?x-oss-process=image/resize,m_lfit,w_500)\n\n对于 $100\\%$ 的数据，$m = n$ 或 $n−1$，$3 \\le n \\le 500$，$C = 10000$，$0 \\le l_i \\le 10^6$，$1 \\le|S|\\le n−1,1 \\le|T|\\le n$ 且保证图中不存在点数（只计算前 $n$ 个点的数量）大于 $100$ 的环，每个测试点中最多只有 $10$ 组数据满足 $n > 50$，最多只有 $1000$ 组数据满足 $n > 20$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZJOI2020] 染色游戏", "background": "", "description": "Alice 和 Bob 在玩一个染色游戏。游戏在一张 $N$ 个点 $M(N −1 \\le M \\le N)$ 条边的连通图上进行，Bob 想要围住 Alice，而 Alice 想要逃出 Bob 的包围。\n\n游戏开始时，Alice 将 $1$ 号点涂成了黑色表示占领了 $1$ 号点，Bob 将点集 $S$ 中的所有点涂成了白色表示占领了这 $|S|$ 个点，保证 $1$ 不在 $S$ 中。接下来两个人轮流进行操作，由 Alice 先 手，每轮中轮到的玩家可以从一个被自己占领的点出发 (对于 Alice 为黑色点对于 Bob 为白色 点)，选择一个相邻且未被染色的点，占领该点并染上自己的颜色。如果不存在可以染色的点， 那么这位玩家必须跳过这个回合。当所有点都被染完色时，游戏结束。\n\nAlice 和 Bob 约定了一个图中的非空点集 $T$，如果游戏结束时 $T$ 中的点全都涂成白色，则代表 Bob 成功围住了 Alice，Bob 获胜。反之一定存在一个 $T$ 中的点被涂成黑色，那么 Alice 获胜。注意这里的 $T$ 可能会包含 $S$ 中的点和 $1$ 号点。\n\nAlice 和 Bob 都会使用最优策略。Bob 注意到，在有些局面下，Alice 优势很大，如果能让 Alice 主动跳过 Alice 的一些行动回合来获得一个更加公平的局面，这个游戏会更有可玩性。 Bob 想知道，如果 Alice 跳过前 $k$ 个回合之后自己能够获胜，那么这个 $k$ 的最小值是多少。 Alice 只会跳过 Alice 的前 $k$ 个回合，并且在剩下的回合中采用最优策略，即你可以理解为 Bob 在 Alice 的第一回合行动之前额外行动了 $k$ 个回合。注意如果 Bob 在 Alice 跳过的一个回合中 没有合法行动，那么 Bob 仍需按照规则跳过自己的回合。如果在原图上就是 Bob 获胜那么输出 $0$。如果 $k = 1000000$ 时 Bob 也不能取胜，则输出 $1000000$。\n\n由于这个图可能很大，我们用如下的方式生成。\n\n- 首先生成一个含有标号为 $1$ 到 $n$ 一共 $n$ 个点的空图。 \n- 接下来加入 $m$ 条链，第 $i$ 条链记作 $(u_i,v_i,l_i)$，其中 $1 \\le u_i,v_i \\le n$ 且 $u_i \\neq v_i$。 \n\t- 首先我们加入 $l_i$ 个点，记作 $x_1^i,x_2^i,...,x_ {l_i}^i$。 \n\t- 然后在 $(u_i,x_1^i),(x_1^i,x_2^i),(x_2^i,x_3^i),$ $...,(x_{l_i−1}^i,x_{l_i}^i),(x_{l_i}^i,v_i)$ 之间连上无向边。 \n\t- 在这次操作之后，本轮中新加入的 $l_i$ 个点不会再与其他的点之间连边，即不同的链中的 $x_1^i ... x_{l_i}^i$ 均为互不相同的点。特别地，如果 $l = 0$，那么就不添加新点，直接在 $(u_i,v_i)$ 之间连上无向边。\n    \n保证 $S$ 集合以及 $T$ 集合的点均为一开始生成的 $n$ 个点之一。", "inputFormat": "第一行输入一个整数 $C$，表示数据组数。\n对于每组数据：\n\n- 第一行输入四个整数 $n,m,|S|,|T|$,$(1 \\le|S|\\le n−1,1 \\le|T|\\le n,n−1 \\le m \\le n)$。 \n- 接下来 $m$ 行每行输入 $3$ 个非负整数 $u_i,v_i,l_i$,$(1 \\le u_i,v_i \\le n,0 \\le l_i \\le 10^6)$，表示题面中的第 $i$ 条链。\n- 接下来一行输入 $|S|$ 个数 $s_1 ... s_{|S|}$ 表示 $S$ 集合中的所有元素 ($2 \\le s_i \\le n$ 且不重复)。 \n- 接下来一行输入 $|T|$ 个数 $t_1 ... t_{|T|}$ 表示 $T$ 集合中的所有元素 ($1 \\le t_i \\le n$ 且不重复)。\n\n即每组数据按照如下格式输入：\n\n```\nn m |S||T| \nu_1 v_1 l_1 \nu_2 v_2 l_2 \n···\nu_m v_m l_m \ns_1 s_2 ··· s_|S| \nt_1 t_2 ··· t_|T|\n```\n\n保证 $u_i \\neq v_i$（即没有自环），保证没有相同的 $(u_i,v_i)$ 对（即没有重边），保证给出的图是一个连通图。", "outputFormat": "输出 $C$ 行，对于每组测试数据，输出为了让 Bob 取胜 Alice 至少要跳过的回合数 $k$。如果在原图上就是 Bob 获胜那么输出 $0$。如果 $k = 1000000$ 时 Bob 也不能取胜，则输出 $1000000$。", "hint": "![](https://cdn.luogu.com.cn/upload/image_hosting/ltfz1gns.png?x-oss-process=image/resize,m_lfit,w_500)\n\n对于 $100\\%$ 的数据，$m = n$ 或 $n−1$，$3 \\le n \\le 500$，$C = 10000$，$0 \\le l_i \\le 10^6$，$1 \\le|S|\\le n−1,1 \\le|T|\\le n$ 且保证图中不存在点数（只计算前 $n$ 个点的数量）大于 $100$ 的环，每个测试点中最多只有 $10$ 组数据满足 $n > 50$，最多只有 $1000$ 组数据满足 $n > 20$。", "locale": "zh-CN"}}}
{"pid": "P6633", "type": "P", "difficulty": 7, "samples": [["3 2\n1 2 3", "499122180"], ["10 2\n1 2 3 4 5 7 8 9 11 12", "839792873"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "各省省选", "浙江"], "title": "[ZJOI2020] 抽卡", "background": "", "description": "Bob 喜欢抽卡。\n\nBob 最近入坑了一款叫 “主公连结” 的抽卡游戏。游戏中共有 $n$ 个不同的角色，编号为 $1 \\sim n$。当 Bob 获得其中的编号连续的 $k$ 张卡时，就可以组出理论最强阵容。\n\n当期卡池中共有 $m$ 张不同的卡，每次抽卡，Bob 都可以等概率随机获得一张卡池中的卡。如果 Bob 抽到了一张他已经拥有的卡，那么什么事都不会发生，等于 Bob 浪费了这次抽卡机会。Bob 是个谨慎的人，他想知道，如果他不停地抽卡直到抽到编号连续的 $k$ 张卡时停止抽卡，期望需要抽多少轮。", "inputFormat": "第一行输入两个整数 $m,k$。\n\n第二行输入 $m$ 个两两不同的整数 $a_1,a_2,··· ,a_m$，表示卡池中有哪些角色。\n\n题面中的 $n$ 即为最大的 $a_i$ 的值。", "outputFormat": "输出一行一个整数，代表期望轮数对 $p = 998244353$ 取模后的结果。即，如果期望轮数的最简分数表示为 $\\frac{a}{b}$，你需要输出一个整数 c 满足 $c \\times b \\equiv a \\pmod{p}$", "hint": "**样例解释 1**\n\n如果第一轮抽到的是 $2$ 号卡，那么期望需要抽 $1 + \\frac{3}{2}$ 轮；如果第一轮抽到的是 $1$ 号卡或 $3$ 号卡，那么期望需要抽 $1 + 3$ 轮。故答案为 $\\frac{1}{3}(1 + \\frac{3}{2}) + \\frac{2}{3}(1 + 3) = 3.5$\n\n**数据范围与约定**\n\n对于前 $10\\%$ 的数据，$m \\le 10$。   \n对于另外 $10\\%$ 的数据，$m \\le 500$ 且 $k = m−1$。   \n对于另外 $10\\%$ 的数据，$m \\le 500$ 且保证有且仅有一组理论最强阵容。   \n对于另外 $10\\%$ 的数据，$m \\le 500$ 且保证任意两组可抽出的理论最强阵容不交。   \n对于前 $50\\%$ 的数据，$m \\le 500$。   \n对于前 $70\\%$ 的数据，$m \\le 5000$。   \n对于另外 $10\\%$ 的数据，$k = 5$。   \n对于另外 $10\\%$ 的数据，$k = 2000$。   \n对于 $100\\%$ 的数据，$1 \\le m \\le 200000,1 \\le a_i \\le 2m,2 \\le k \\le m$，保证卡池中至少存在一组 可抽出的理论最强阵容（即编号连续的 $k$ 张卡）。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZJOI2020] 抽卡", "background": "", "description": "Bob 喜欢抽卡。\n\nBob 最近入坑了一款叫 “主公连结” 的抽卡游戏。游戏中共有 $n$ 个不同的角色，编号为 $1 \\sim n$。当 Bob 获得其中的编号连续的 $k$ 张卡时，就可以组出理论最强阵容。\n\n当期卡池中共有 $m$ 张不同的卡，每次抽卡，Bob 都可以等概率随机获得一张卡池中的卡。如果 Bob 抽到了一张他已经拥有的卡，那么什么事都不会发生，等于 Bob 浪费了这次抽卡机会。Bob 是个谨慎的人，他想知道，如果他不停地抽卡直到抽到编号连续的 $k$ 张卡时停止抽卡，期望需要抽多少轮。", "inputFormat": "第一行输入两个整数 $m,k$。\n\n第二行输入 $m$ 个两两不同的整数 $a_1,a_2,··· ,a_m$，表示卡池中有哪些角色。\n\n题面中的 $n$ 即为最大的 $a_i$ 的值。", "outputFormat": "输出一行一个整数，代表期望轮数对 $p = 998244353$ 取模后的结果。即，如果期望轮数的最简分数表示为 $\\frac{a}{b}$，你需要输出一个整数 c 满足 $c \\times b \\equiv a \\pmod{p}$", "hint": "**样例解释 1**\n\n如果第一轮抽到的是 $2$ 号卡，那么期望需要抽 $1 + \\frac{3}{2}$ 轮；如果第一轮抽到的是 $1$ 号卡或 $3$ 号卡，那么期望需要抽 $1 + 3$ 轮。故答案为 $\\frac{1}{3}(1 + \\frac{3}{2}) + \\frac{2}{3}(1 + 3) = 3.5$\n\n**数据范围与约定**\n\n对于前 $10\\%$ 的数据，$m \\le 10$。   \n对于另外 $10\\%$ 的数据，$m \\le 500$ 且 $k = m−1$。   \n对于另外 $10\\%$ 的数据，$m \\le 500$ 且保证有且仅有一组理论最强阵容。   \n对于另外 $10\\%$ 的数据，$m \\le 500$ 且保证任意两组可抽出的理论最强阵容不交。   \n对于前 $50\\%$ 的数据，$m \\le 500$。   \n对于前 $70\\%$ 的数据，$m \\le 5000$。   \n对于另外 $10\\%$ 的数据，$k = 5$。   \n对于另外 $10\\%$ 的数据，$k = 2000$。   \n对于 $100\\%$ 的数据，$1 \\le m \\le 200000,1 \\le a_i \\le 2m,2 \\le k \\le m$，保证卡池中至少存在一组 可抽出的理论最强阵容（即编号连续的 $k$ 张卡）。", "locale": "zh-CN"}}}
{"pid": "P6634", "type": "P", "difficulty": 7, "samples": [["见下发文件。该样例满足题目中提到的所有随机生成的性质。\n", ""]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "各省省选", "浙江"], "title": "[ZJOI2020] 密码", "background": null, "description": "Bob 喜欢 Alice。\n\nAlice 和 Bob 想要进行加密通信，于是他们自己设计了一套加密算法进行身份验证。你知道这个加密算法并不可靠，并截获了 Alice 和 Bob 之间的信息。现在你想要恢复出 Alice 的密钥。\n\nAlice 和 Bob 约定了一个大质数 $p$，一个随机范围值 $err$ 和一个在 $0 \\sim p - 1$ 之间均匀随机生成的整数密钥 $x$。其中 $p$ 和 $err$ 的值是公开的，而 $x$ 的值只有 Alice 和 Bob 知道。\n\n当 Bob 想要确认 Alice 的身份时，Bob 会生成 $m$ 个在 $0\\sim p-1$ 之间均匀随机生成的 $a_i$ 并发给 Alice。对于每个 $a_i$，Alice 会返回给 Bob $a_i x$ 模 $p$ 的值。为了防止窃听，Alice 会给结果加上一个在 $-\\lceil \\frac {err}2 \\rceil$ 到 $\\lceil \\frac {err}2 \\rceil$ 之间均匀随机生成的扰动。\n\n即，Alice 会返回给 Bob $m$ 组形如 $a_i x + b_i \\equiv c_i \\pmod p$ 的等式，其中 $b_i$ 为一个不公开的在 $-\\lceil \\frac {err}2 \\rceil$ 到 \n$\\lceil \\frac {err}2 \\rceil$ 之间均匀随机生成的数，$a_i$ 为随机生成的数，$a_i,p,err,c_i$ 为公开的数。\n\n你获得了 Alice 返回的这 $m$ 组等式（即 $m$ 个 $a_i$ 和 $c_i$），你需要求出 $x$ 的值。", "inputFormat": "第一行输入一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行输入三个整数 $m,p,err$。接下来 $m$ 行，每行两个整数 $a_i,c_i$。符号的含义和题面中相同。", "outputFormat": "输出 $T$ 行，  \n对于每组测试数据，输出一个 $0$ 到 $p - 1$ 之间整数表示答案。数据保证有解并且解唯一。", "hint": "对于前 $10\\%$ 的数据，满足 $err \\le 10^6$。   \n对于前 $20\\%$ 的数据，满足 $err \\le 10^8$。   \n对于前 $30\\%$ 的数据，满足 $err \\le 10^{11}$。   \n对于前 $40\\%$ 的数据，满足 $err \\le 10^{12}$。  \n对于另外 $20\\%$ 的数据，满足 $p \\le 10^{16}$，$m = 2000$。   \n对于 $100\\%$ 的数据，满足 $10^{15} \\le p \\le 10^{18}$，$50 \\le m \\le 2000$，$1 \\le err \\le 0.01p$，$1 \\le T \\le 5$，$0 \\le a_i,c_i \\le p-1$，保证 $p$ 为素数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[ZJOI2020] 密码", "background": null, "description": "Bob 喜欢 Alice。\n\nAlice 和 Bob 想要进行加密通信，于是他们自己设计了一套加密算法进行身份验证。你知道这个加密算法并不可靠，并截获了 Alice 和 Bob 之间的信息。现在你想要恢复出 Alice 的密钥。\n\nAlice 和 Bob 约定了一个大质数 $p$，一个随机范围值 $err$ 和一个在 $0 \\sim p - 1$ 之间均匀随机生成的整数密钥 $x$。其中 $p$ 和 $err$ 的值是公开的，而 $x$ 的值只有 Alice 和 Bob 知道。\n\n当 Bob 想要确认 Alice 的身份时，Bob 会生成 $m$ 个在 $0\\sim p-1$ 之间均匀随机生成的 $a_i$ 并发给 Alice。对于每个 $a_i$，Alice 会返回给 Bob $a_i x$ 模 $p$ 的值。为了防止窃听，Alice 会给结果加上一个在 $-\\lceil \\frac {err}2 \\rceil$ 到 $\\lceil \\frac {err}2 \\rceil$ 之间均匀随机生成的扰动。\n\n即，Alice 会返回给 Bob $m$ 组形如 $a_i x + b_i \\equiv c_i \\pmod p$ 的等式，其中 $b_i$ 为一个不公开的在 $-\\lceil \\frac {err}2 \\rceil$ 到 \n$\\lceil \\frac {err}2 \\rceil$ 之间均匀随机生成的数，$a_i$ 为随机生成的数，$a_i,p,err,c_i$ 为公开的数。\n\n你获得了 Alice 返回的这 $m$ 组等式（即 $m$ 个 $a_i$ 和 $c_i$），你需要求出 $x$ 的值。", "inputFormat": "第一行输入一个整数 $T$，表示数据组数。\n\n对于每组数据，第一行输入三个整数 $m,p,err$。接下来 $m$ 行，每行两个整数 $a_i,c_i$。符号的含义和题面中相同。", "outputFormat": "输出 $T$ 行，  \n对于每组测试数据，输出一个 $0$ 到 $p - 1$ 之间整数表示答案。数据保证有解并且解唯一。", "hint": "对于前 $10\\%$ 的数据，满足 $err \\le 10^6$。   \n对于前 $20\\%$ 的数据，满足 $err \\le 10^8$。   \n对于前 $30\\%$ 的数据，满足 $err \\le 10^{11}$。   \n对于前 $40\\%$ 的数据，满足 $err \\le 10^{12}$。  \n对于另外 $20\\%$ 的数据，满足 $p \\le 10^{16}$，$m = 2000$。   \n对于 $100\\%$ 的数据，满足 $10^{15} \\le p \\le 10^{18}$，$50 \\le m \\le 2000$，$1 \\le err \\le 0.01p$，$1 \\le T \\le 5$，$0 \\le a_i,c_i \\le p-1$，保证 $p$ 为素数。", "locale": "zh-CN"}}}
{"pid": "P6635", "type": "P", "difficulty": 3, "samples": [["6 7 5\n1 3\n2 1\n4 2\n4 3\n4 5\n3 6\n5 6", "0111001"], ["11 20 20091210\n2 3\n3 1\n2 5\n4 6\n7 9\n8 10\n8 1\n7 2\n2 3\n3 2\n4 5\n5 7\n7 6\n7 8\n9 7\n9 8\n10 2\n2 3\n1 3\n1 7", "10110000100110110111"]], "limits": {"time": [5000, 5000, 5000, 5000], "memory": [262144, 262144, 262144, 262144]}, "tags": ["递归", "深度优先搜索 DFS"], "title": "「JYLOI Round 1」箭头调度", "background": "", "description": "moyu_028 给了你一个有 $n$ 个点 $m$ 条边的无向图，现在要给每条边赋一个方向，现在请你求出一个赋方向的方案，使得按照这个方案能够生成一个拓扑序，且使得这个拓扑序是在所有可能的拓扑序中字典序第 $k$ 小的。\n", "inputFormat": "输入的第 1 行有 3 个正整数 $n$、$m$、$k$，含义如题所述。\n\n接下来有 $m$ 行，这 $m$ 行中的第 $i$ 行有两个正整数 $x_i$ 和 $y_i$，表示有一条从 $x_i$ 到 $y_i$ 的无向边。", "outputFormat": "输出为一行一个长度为 $m$ 的 01 串，这个 01 串中的第 $i$ 个字符表示从 $x_i$ 和 $y_i$ 之间的无向边的方向，为 0 则表示这条边是从 $x_i$ 到 $y_i$，为 1 则表示这条边是从 $y_i$ 到 $x_i$。可以证明答案唯一，且数据保证有解。", "hint": "## 提示\n\n拓扑序：在一个 DAG（有向无环图）中，我们将图中的顶点以线性方式进行排序，使得对于任何的顶点 $u$ 到 $v$ 的有向边 $(u,v)$，都可以有 $u$ 在 $v$ 的前面，则这样的序列称为拓扑序。\n\n----------\n\n## 样例解释\n\n### 样例 1 解释\n\n答案的图如下，根据图可得出答案。\n\n![](https://i.loli.net/2020/05/23/3FK2n78JAYLrGMD.png)\n\n-----------------\n\n## 数据范围\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 11, 1 \\leq m \\leq 2 \\times 10^3, 1 \\leq k \\leq 10^8，1 \\leq x_i, y_i \\leq n, x_i \\not= y_i$。\n\n对于测试点 1（10 分）：$n = 1$。\n\n对于测试点 2（30 分）：$n \\leq 11, m \\leq 20$。\n\n对于测试点 3（30 分）：$n \\leq 11, k = 1$。\n\n对于测试点 4（30 分）：无特殊限制。\n\n本题共 4 个测试点，总分为 100 分，单个测试点的时间限制为 5 秒。\n\n## 题目来源\n\n「JYLOI Round 1」 A\n\nIdea：moyu_028 & abcdeffa\n\nSolution：LiuXiangle\n\nData：abcdeffa", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JYLOI Round 1」箭头调度", "background": "", "description": "moyu_028 给了你一个有 $n$ 个点 $m$ 条边的无向图，现在要给每条边赋一个方向，现在请你求出一个赋方向的方案，使得按照这个方案能够生成一个拓扑序，且使得这个拓扑序是在所有可能的拓扑序中字典序第 $k$ 小的。\n", "inputFormat": "输入的第 1 行有 3 个正整数 $n$、$m$、$k$，含义如题所述。\n\n接下来有 $m$ 行，这 $m$ 行中的第 $i$ 行有两个正整数 $x_i$ 和 $y_i$，表示有一条从 $x_i$ 到 $y_i$ 的无向边。", "outputFormat": "输出为一行一个长度为 $m$ 的 01 串，这个 01 串中的第 $i$ 个字符表示从 $x_i$ 和 $y_i$ 之间的无向边的方向，为 0 则表示这条边是从 $x_i$ 到 $y_i$，为 1 则表示这条边是从 $y_i$ 到 $x_i$。可以证明答案唯一，且数据保证有解。", "hint": "## 提示\n\n拓扑序：在一个 DAG（有向无环图）中，我们将图中的顶点以线性方式进行排序，使得对于任何的顶点 $u$ 到 $v$ 的有向边 $(u,v)$，都可以有 $u$ 在 $v$ 的前面，则这样的序列称为拓扑序。\n\n----------\n\n## 样例解释\n\n### 样例 1 解释\n\n答案的图如下，根据图可得出答案。\n\n![](https://i.loli.net/2020/05/23/3FK2n78JAYLrGMD.png)\n\n-----------------\n\n## 数据范围\n\n对于 $100\\%$ 的数据，$1 \\leq n \\leq 11, 1 \\leq m \\leq 2 \\times 10^3, 1 \\leq k \\leq 10^8，1 \\leq x_i, y_i \\leq n, x_i \\not= y_i$。\n\n对于测试点 1（10 分）：$n = 1$。\n\n对于测试点 2（30 分）：$n \\leq 11, m \\leq 20$。\n\n对于测试点 3（30 分）：$n \\leq 11, k = 1$。\n\n对于测试点 4（30 分）：无特殊限制。\n\n本题共 4 个测试点，总分为 100 分，单个测试点的时间限制为 5 秒。\n\n## 题目来源\n\n「JYLOI Round 1」 A\n\nIdea：moyu_028 & abcdeffa\n\nSolution：LiuXiangle\n\nData：abcdeffa", "locale": "zh-CN"}}}
{"pid": "P6636", "type": "P", "difficulty": 4, "samples": [["2\n2 1 0", "415935148"], ["50\n2 1 2 1 0 0 2 2 0 0 1 2 0 0 0 2 0 0 1 2 1 1 1 1 1 0 1 1 1 0 1 2 0 1 1 0 1 1 2 0 1 0 0 1 1 1 0 1 2 1 1", "576313280"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP"], "title": "「JYLOI Round 1」性状", "background": "", "description": "小郭给你 $(n + 1)$ 个非负整数 $a_0 \\sim a_n$，对于任意 $0 \\leq i \\leq n$ 有 $a_i \\in \\{0, 1, 2\\}$，其中 $a_i$ 表示第 $i$ 个人的基因中控制双眼皮的显性基因个数，在下文中也代表着这个生物。\n\n现在对于原序列中的任意一个子序列 $b_{c_1} \\sim b_{c_m}$（其中 $1 \\leq c_i < c_{i + 1} \\leq m$，并且 $1 \\leq i < m \\leq n$），将 $a_0$ 和 $b_{c_1}$ 进行交配，得到子一代，并将子一代和 $b_{c_2}$ 交配，得到子二代，以此类推，最后将子 $(m - 1)$  代与 $b_{c_m}$ 进行交配，得到子 $m$ 代，我们定义这个子序列的价值为子 $m$ 代为双眼皮的概率。\n\n由于他很忙，于是他现在请你帮他求出所有子序列的价值的平均值在模 $998244353$ 意义下的值。\n\n**提示**：把 0、1、2 分别看作 ``aa``、``Aa``、``AA`` 三种字符串，两个生物进行交配，就是选择每个字符串间长度为 1 的子序列进行大写字母在前，小写在后的合并，其中这样的一个字符串为子代一种可能的基因组成。\n\n其中大写字母开头的为显性性状，小写字母开头为隐性性状。双眼皮为显性性状，单眼皮为隐性性状，结果 ``aa``、``Aa``、``AA`` 分别再对应回数字 0、1、2。\n\n**注意**，在本题中，我们认为眼皮的单双由位于常染色体上的一对等位基因 ``A`` 和 ``a`` 控制，其中 ``A`` 相对 ``a`` 为完全显性。且该性状的遗传遵循孟德尔的分离定律，并不考虑表观遗传、从性遗传、突变、基因表达的相互影响，所有基因型的配子和个体均无致死概率，所有个体均能产生可育配子。", "inputFormat": "输入的第 1 行有一个正整数 $n$，中间用一个空格隔开，$n$ 的含义如题所述。\n\n第二行有 $(n + 1)$ 个非负整数，这一行中的第 $i$ 个数表示 $a_i$。", "outputFormat": "输出只有一行一个非负整数，表示答案。", "hint": "## 样例 1 解释\n\n子序列 $\\{1\\}$、$\\{0\\}$、$\\{1, 0\\}$ 的价值分别为 $1$、$1$ 和 $\\dfrac{3}{4}$，平均价值为 $\\dfrac{11}{12}$，对 $998244353$ 取模后的结果为 $415935148$。\n\n## 数据范围\n\n对于 $100\\%$ 的测试数据，$1 \\leq n \\leq 5 \\times 10^6, a_i \\in \\{0, 1, 2\\}$。\n\n对于测试点 1，$n = 1$。\n\n对于测试点 2，$n = 2$。\n\n对于测试点 3~5，$n \\leq 5$。\n\n对于测试点 6~10，$n \\leq 7.5 \\times 10^3$。\n\n本题共有 20 个测试点，每个测试点 5 分，共 100 分。\n\n## 题目来源\n\n「JYLOI Round 1」 B\n\nIdea：abcdeffa & LiuXiangle\n\nSolution：LiuXiangle\n\nData：LiuXiangle", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JYLOI Round 1」性状", "background": "", "description": "小郭给你 $(n + 1)$ 个非负整数 $a_0 \\sim a_n$，对于任意 $0 \\leq i \\leq n$ 有 $a_i \\in \\{0, 1, 2\\}$，其中 $a_i$ 表示第 $i$ 个人的基因中控制双眼皮的显性基因个数，在下文中也代表着这个生物。\n\n现在对于原序列中的任意一个子序列 $b_{c_1} \\sim b_{c_m}$（其中 $1 \\leq c_i < c_{i + 1} \\leq m$，并且 $1 \\leq i < m \\leq n$），将 $a_0$ 和 $b_{c_1}$ 进行交配，得到子一代，并将子一代和 $b_{c_2}$ 交配，得到子二代，以此类推，最后将子 $(m - 1)$  代与 $b_{c_m}$ 进行交配，得到子 $m$ 代，我们定义这个子序列的价值为子 $m$ 代为双眼皮的概率。\n\n由于他很忙，于是他现在请你帮他求出所有子序列的价值的平均值在模 $998244353$ 意义下的值。\n\n**提示**：把 0、1、2 分别看作 ``aa``、``Aa``、``AA`` 三种字符串，两个生物进行交配，就是选择每个字符串间长度为 1 的子序列进行大写字母在前，小写在后的合并，其中这样的一个字符串为子代一种可能的基因组成。\n\n其中大写字母开头的为显性性状，小写字母开头为隐性性状。双眼皮为显性性状，单眼皮为隐性性状，结果 ``aa``、``Aa``、``AA`` 分别再对应回数字 0、1、2。\n\n**注意**，在本题中，我们认为眼皮的单双由位于常染色体上的一对等位基因 ``A`` 和 ``a`` 控制，其中 ``A`` 相对 ``a`` 为完全显性。且该性状的遗传遵循孟德尔的分离定律，并不考虑表观遗传、从性遗传、突变、基因表达的相互影响，所有基因型的配子和个体均无致死概率，所有个体均能产生可育配子。", "inputFormat": "输入的第 1 行有一个正整数 $n$，中间用一个空格隔开，$n$ 的含义如题所述。\n\n第二行有 $(n + 1)$ 个非负整数，这一行中的第 $i$ 个数表示 $a_i$。", "outputFormat": "输出只有一行一个非负整数，表示答案。", "hint": "## 样例 1 解释\n\n子序列 $\\{1\\}$、$\\{0\\}$、$\\{1, 0\\}$ 的价值分别为 $1$、$1$ 和 $\\dfrac{3}{4}$，平均价值为 $\\dfrac{11}{12}$，对 $998244353$ 取模后的结果为 $415935148$。\n\n## 数据范围\n\n对于 $100\\%$ 的测试数据，$1 \\leq n \\leq 5 \\times 10^6, a_i \\in \\{0, 1, 2\\}$。\n\n对于测试点 1，$n = 1$。\n\n对于测试点 2，$n = 2$。\n\n对于测试点 3~5，$n \\leq 5$。\n\n对于测试点 6~10，$n \\leq 7.5 \\times 10^3$。\n\n本题共有 20 个测试点，每个测试点 5 分，共 100 分。\n\n## 题目来源\n\n「JYLOI Round 1」 B\n\nIdea：abcdeffa & LiuXiangle\n\nSolution：LiuXiangle\n\nData：LiuXiangle", "locale": "zh-CN"}}}
{"pid": "P6638", "type": "P", "difficulty": 6, "samples": [["0\n5 10 3\n1 2 3 4 5\n1 5\n2 5\n3 5\n4 5\n5 5\n10 10\n20 30\n10 30\n1 30\n5 30", "2\n2\n2\n2\n1\n2\n18\n35\n43\n42"], ["1\n5 10 3 100\n1 2 3 4 5\n1 5\n2 5\n3 5\n4 5\n5 5\n10 10\n20 30\n10 30\n1 30\n5 30", "2\n5\n5\n3\n2\n1\n18\n35\n50\n44"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["二分", "可持久化线段树"], "title": "「JYLOI Round 1」常规", "background": "", "description": "LS 制定了 $n$ 项常规，其中第 $i$ 项常规制定的时间是 $a_i$。\n\n对于第 $i$ 项常规，从第 $i$ 项常规的制定时间 $a_i$ 后的每 $k$ 秒，他都要做一次第 $i$ 项常规，他做一次常规的时间可以忽略不计。\n\n现在 LS 想给你 $m$ 个询问，每个询问用一个区间 $[l_i, r_i]$ 来表示，问你在第 $l_i$ 到 $r_i$ 秒，他一共做了多少次常规。", "inputFormat": "输入的第一行是一个为 0 或 1 的整数 $type$，在接下来会用到。\n\n对于 $type = 0$ 的情况，接下来有一行三个正整数 $n$、$m$、$k$，含义如题所述。\n\n接下来有一行 $n$ 个正整数，这一行中的第 $i$ 个正整数表示的是 $a_i$，$a_i$ 的含义如题所述。\n\n接下来有 $m$ 行，第 $i$ 行表示的是第 $i$ 个询问是一个区间 $[l_i, r_i]$，$l_i$ 和 $r_i$ 的含义如题所述。对于 $type = 0$ 的所有询问，我们都没有进行加密。\n\n对于 $type=1$ 的情况，接下来有一行四个正整数 $n$、$m$、$k$ 和 $mod$，$n$、$m$、$k$ 的含义如题所述，其中 $mod$ 是一个会在下面用到的参数。\n\n接下来有一行 $n$ 个正整数，这一行中的第 $i$ 个正整数表示的是 $a_i$，$a_i$ 的含义如题所述。\n\n接下来有 $m$ 行，这 $m$ 行中的第 $i$ 行有两个正整数 $l_i$ 和 $r_i$，表示第 $i$ 个询问是一个区间 $[l_i, r_i]$，$l_i$ 和 $r_i$ 的含义如题所述。特别地，我们加密了第 2 至第 $m$ 个询问，对于第 $i(2 \\leq i \\leq m)$ 个询问，解密后的：\n$$l_i = \\min((l_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1, (r_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1)$$\n\n$$r_i=\\max((l_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1, (r_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1)$$\n\n其中 $\\text{lastans}$ 是第 $(i - 1)$ 个询问的答案，对于第 2 到第 $m$ 个询问，你的程序需要回答解密后的询问所对应的答案。\n\n**特别地，第一个询问没有被加密。**", "outputFormat": "输出共有 $m$ 行，对于每个解密后的询问输出一行，输出中的第 $i$ 行表示的是第 $i$ 个询问的答案。", "hint": "### 样例 2 说明\n\n解密后的询问分别为 [1, 5]、[4, 7]、[8, 10]、[9, 10]、[8, 8]、[12, 12]、[21, 31]、[28, 48]、[36, 65]、[55, 80]，因此可以得出答案。\n\n____________\n\n### 数据范围\n\n对于 $100\\%$ 的数据，满足 $type \\in \\{0, 1\\}; 1 \\leq n, m \\leq 10^5; 0 \\leq l_i \\leq r_i \\leq 10^9; 0 \\leq a_i \\leq 10^9; 1 \\leq k, mod \\leq 10^9$。\n\n子任务 1（有 10 个测试点，每个测试点 1 分，共 10 分）：$type = 0; n, m, k \\leq 10^3; r_i \\leq 10^3$。\n\n子任务 2（有 10 个测试点，每个测试点 1 分，共 10 分）：$type = 0; n, m \\leq 10^3$。\n\n子任务 3（有 2 个测试点，每个测试点 5 分，共 10 分）：$type = 0, r_i \\leq 10^5,k = 1$。\n\n子任务 4（共 20 分）：$type = 0, k \\leq 10^5, r_i \\leq 10^5$。\n\n子任务 5（共 30 分）：$type = 0$。\n\n子任务 6（共 20 分）：无特殊限制。\n\n对于子任务 4、5、6，分别捆绑计分（即你需要通过一个子任务内的所有测试点才能够拿到这个子任务的分数），本题总共 50 个测试点、100 分。\n\n## 题目来源\n\n「JYLOI Round 1」 D\n\nIdea / Solution / Data ：abcdeffa", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JYLOI Round 1」常规", "background": "", "description": "LS 制定了 $n$ 项常规，其中第 $i$ 项常规制定的时间是 $a_i$。\n\n对于第 $i$ 项常规，从第 $i$ 项常规的制定时间 $a_i$ 后的每 $k$ 秒，他都要做一次第 $i$ 项常规，他做一次常规的时间可以忽略不计。\n\n现在 LS 想给你 $m$ 个询问，每个询问用一个区间 $[l_i, r_i]$ 来表示，问你在第 $l_i$ 到 $r_i$ 秒，他一共做了多少次常规。", "inputFormat": "输入的第一行是一个为 0 或 1 的整数 $type$，在接下来会用到。\n\n对于 $type = 0$ 的情况，接下来有一行三个正整数 $n$、$m$、$k$，含义如题所述。\n\n接下来有一行 $n$ 个正整数，这一行中的第 $i$ 个正整数表示的是 $a_i$，$a_i$ 的含义如题所述。\n\n接下来有 $m$ 行，第 $i$ 行表示的是第 $i$ 个询问是一个区间 $[l_i, r_i]$，$l_i$ 和 $r_i$ 的含义如题所述。对于 $type = 0$ 的所有询问，我们都没有进行加密。\n\n对于 $type=1$ 的情况，接下来有一行四个正整数 $n$、$m$、$k$ 和 $mod$，$n$、$m$、$k$ 的含义如题所述，其中 $mod$ 是一个会在下面用到的参数。\n\n接下来有一行 $n$ 个正整数，这一行中的第 $i$ 个正整数表示的是 $a_i$，$a_i$ 的含义如题所述。\n\n接下来有 $m$ 行，这 $m$ 行中的第 $i$ 行有两个正整数 $l_i$ 和 $r_i$，表示第 $i$ 个询问是一个区间 $[l_i, r_i]$，$l_i$ 和 $r_i$ 的含义如题所述。特别地，我们加密了第 2 至第 $m$ 个询问，对于第 $i(2 \\leq i \\leq m)$ 个询问，解密后的：\n$$l_i = \\min((l_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1, (r_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1)$$\n\n$$r_i=\\max((l_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1, (r_i + \\text{lastans} - 1) \\;\\text{mod}\\; mod + 1)$$\n\n其中 $\\text{lastans}$ 是第 $(i - 1)$ 个询问的答案，对于第 2 到第 $m$ 个询问，你的程序需要回答解密后的询问所对应的答案。\n\n**特别地，第一个询问没有被加密。**", "outputFormat": "输出共有 $m$ 行，对于每个解密后的询问输出一行，输出中的第 $i$ 行表示的是第 $i$ 个询问的答案。", "hint": "### 样例 2 说明\n\n解密后的询问分别为 [1, 5]、[4, 7]、[8, 10]、[9, 10]、[8, 8]、[12, 12]、[21, 31]、[28, 48]、[36, 65]、[55, 80]，因此可以得出答案。\n\n____________\n\n### 数据范围\n\n对于 $100\\%$ 的数据，满足 $type \\in \\{0, 1\\}; 1 \\leq n, m \\leq 10^5; 0 \\leq l_i \\leq r_i \\leq 10^9; 0 \\leq a_i \\leq 10^9; 1 \\leq k, mod \\leq 10^9$。\n\n子任务 1（有 10 个测试点，每个测试点 1 分，共 10 分）：$type = 0; n, m, k \\leq 10^3; r_i \\leq 10^3$。\n\n子任务 2（有 10 个测试点，每个测试点 1 分，共 10 分）：$type = 0; n, m \\leq 10^3$。\n\n子任务 3（有 2 个测试点，每个测试点 5 分，共 10 分）：$type = 0, r_i \\leq 10^5,k = 1$。\n\n子任务 4（共 20 分）：$type = 0, k \\leq 10^5, r_i \\leq 10^5$。\n\n子任务 5（共 30 分）：$type = 0$。\n\n子任务 6（共 20 分）：无特殊限制。\n\n对于子任务 4、5、6，分别捆绑计分（即你需要通过一个子任务内的所有测试点才能够拿到这个子任务的分数），本题总共 50 个测试点、100 分。\n\n## 题目来源\n\n「JYLOI Round 1」 D\n\nIdea / Solution / Data ：abcdeffa", "locale": "zh-CN"}}}
{"pid": "P6639", "type": "P", "difficulty": 5, "samples": [["5\nchange 3\nquery 1\n2 2\nchange 4\nquery 1\n2 2\nchange 2", "01"], ["5\nchange 11\nchange 68\nquery 15\n15 16\n54 64\n49 55\n33 38\n27 52\n20 30\n45 46\n29 60\n58 64\n11 55\n17 40\n15 58\n41 63\n7 30\n15 37\nquery 14\n15 57\n13 34\n4 13\n35 43\n12 20\n16 62\n63 65\n17 29\n19 67\n48 63\n25 49\n1 8\n1 37\n44 49\nquery 14\n15 24\n6 50\n49 60\n30 53\n33 52\n4 44\n1 5\n44 59\n4 40\n45 48\n1 20\n12 27\n44 63\n21 39", "001"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["博弈论", "博弈树", "Nim 积", "SG 函数"], "title": "「JYLOI Round 1」让", "background": "", "description": "Alice 和 Bob 在玩游戏。\n\n现在有多堆石子，其中第 $k$ 堆石子有 $p_k$ 个，先后手轮流操作。取石子时，可以选任意一堆进行操作。若记 $i$ 为在这次取之前这堆石子的个数，$j$ 为这次要取的石子数，$R$ 为给定的常数，则需满足以下条件：\n\n$$1 \\leq i + j \\leq R,i \\geq j \\geq 1$$\n\n使对方无法操作者即为胜者。游戏时，双方都采用最优策略。\n\n有多次游戏，具体来说，共有 $T$ 个操作，分为两类：\n\n1. “``change x``” 表示将 $R$ 更改为 $x$。\n\n2. “``query n``” 表示进行一次游戏，接下来有 $n$ 行，这 $n$ 行中的第 $i$ 行有两个正整数 $l_i$ 和 $r_i$，表示这次游戏的石子的堆数和个数可以用这 $n$ 个区间来表示。第 $i$ 个区间表示这次游戏的石子的堆数新增了 $(r_i - l_i + 1)$ 堆，并且其中这个区间所表示的第 $j(1 \\leq j \\leq r_i - l_i + 1)$ 堆的石子个数为 $(l_i + j - 1)$。\n\n\t例如当这次游戏的 $n = 2$，并且两个区间分别为 $[1, 7]$ 和 $[2, 3]$ 的时候，这次游戏一共有 $[(7 - 1 + 1) + (3 - 2 + 1)] = 9$ 堆石子，这 $9$ 堆石子的个数分别为 $1, 2, 3, 4, 5, 6, 7, 2, 3$。\n\n由于 Bob 和 Alice 都非常聪明，而 Bob 希望不赢太多次，在适当的时候让让 Alice。因而他希望你帮他编写一个程序，对于每次游戏，如果先手有必胜策略输出“``1``”，否则输出“``0``”，你能做到吗？", "inputFormat": "第一行有一个正整数 $T$，表示操作的个数。\n\n接下来有 $T$ 个操作，格式如题所述。\n", "outputFormat": "输出共一行，为一个长度小于 $T$ 的由字符 0 和 1 组成的字符串，含义如题所述。", "hint": "### 样例 1 说明\n\n共有 $T=5$ 个操作。\n\n第 1 个操作将 $R$ 改成了 3。\n\n第 2 个操作表示进行了一次游戏，这次游戏的 $n=1$，区间为 $[2, 2]$，表示这次游戏共有 $(2 - 2 + 1) = 1$ 堆石子，这 1 堆石子的个数为 $(2 + 1 - 1) = 2$。因为 $R=3$，因此先手最多只能够取 1 个。若取 2 个则不满足 **题目描述** 中的条件 $1 \\leq i + j \\leq R$，若取 3 个及以上则不满足 **题目描述** 中的条件 $1 \\leq i + j \\leq R,i \\geq j \\geq 1$，其中 $i$、$j$、$R$ 的含义如题所述。先手取完后唯一的一堆只剩下 1 颗石子，因为后手取了 1 颗石子后使先手无法操作，所以先手落败，又因为这是唯一的一种取法，所以先手必败，因此先手无必胜策略，输出“``0``”。\n\n第 3 个操作将 $R$ 改成了 4。\n\n第 4 个操作表示进行了一次游戏，这次游戏的 $n=1$，区间为 $[2, 2]$，表示这次游戏共有 $(2 - 2 + 1) = 1$ 堆石子，这 1 堆石子的个数为 $(2 + 1 - 1) = 2$。先手最多可以取 2 颗石子，因为当先手取 3 颗或以上时，不满足 **题目描述** 中的条件 $1 \\leq i + j \\leq R,i \\geq j \\geq 1$，其中 $i$、$j$、$R$ 的含义如题所述。因为当先手选择取 2 颗石子时，先手取完了所有石子，使后手无法操作，所以先手必胜，输出“``1``”。\n\n第 5 个操作将 $R$ 改成了 2。\n\n____________\n\n### 数据范围\n\n对于 $100\\%$ 的数据，满足 $1 \\leq T \\leq 10^5, 2 \\leq R \\leq 10^{15}, 0 \\leq l_i \\leq r_i < R, 1 \\leq \\sum{n} \\leq 5 \\times 10^5$，并且第一个操作一定是第 1 类操作。\n\n对于测试点 1~2 ，满足 $T \\leq 10, l_i \\leq r_i \\leq 3$，并且在一轮游戏中石子的堆数不会超过 4。\n\n对于测试点 3~6 ，满足 $T \\leq 100, R \\leq 100, \\sum{n} \\leq 100$。\n\n对于测试点 7~10 ，满足 $T \\leq 10, R \\leq 10^5, \\sum{n} \\leq 50$。\n\n对于测试点 11~12 ，满足 $R \\leq 5 \\times 10^3, \\sum{n} \\leq 5 \\times 10^5$，并且只有一次修改操作。\n\n对于测试点 13~16 ，满足 $T \\leq 10^5,R \\leq 10^5,\\sum{n} \\leq 5 \\times 10^5$。\n\n共 20 个测试点，每个测试点 5 分。\n\n## 题目来源\n\n「JYLOI Round 1」 E\n\nIdea / Solution / Data：abcdeffa", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「JYLOI Round 1」让", "background": "", "description": "Alice 和 Bob 在玩游戏。\n\n现在有多堆石子，其中第 $k$ 堆石子有 $p_k$ 个，先后手轮流操作。取石子时，可以选任意一堆进行操作。若记 $i$ 为在这次取之前这堆石子的个数，$j$ 为这次要取的石子数，$R$ 为给定的常数，则需满足以下条件：\n\n$$1 \\leq i + j \\leq R,i \\geq j \\geq 1$$\n\n使对方无法操作者即为胜者。游戏时，双方都采用最优策略。\n\n有多次游戏，具体来说，共有 $T$ 个操作，分为两类：\n\n1. “``change x``” 表示将 $R$ 更改为 $x$。\n\n2. “``query n``” 表示进行一次游戏，接下来有 $n$ 行，这 $n$ 行中的第 $i$ 行有两个正整数 $l_i$ 和 $r_i$，表示这次游戏的石子的堆数和个数可以用这 $n$ 个区间来表示。第 $i$ 个区间表示这次游戏的石子的堆数新增了 $(r_i - l_i + 1)$ 堆，并且其中这个区间所表示的第 $j(1 \\leq j \\leq r_i - l_i + 1)$ 堆的石子个数为 $(l_i + j - 1)$。\n\n\t例如当这次游戏的 $n = 2$，并且两个区间分别为 $[1, 7]$ 和 $[2, 3]$ 的时候，这次游戏一共有 $[(7 - 1 + 1) + (3 - 2 + 1)] = 9$ 堆石子，这 $9$ 堆石子的个数分别为 $1, 2, 3, 4, 5, 6, 7, 2, 3$。\n\n由于 Bob 和 Alice 都非常聪明，而 Bob 希望不赢太多次，在适当的时候让让 Alice。因而他希望你帮他编写一个程序，对于每次游戏，如果先手有必胜策略输出“``1``”，否则输出“``0``”，你能做到吗？", "inputFormat": "第一行有一个正整数 $T$，表示操作的个数。\n\n接下来有 $T$ 个操作，格式如题所述。\n", "outputFormat": "输出共一行，为一个长度小于 $T$ 的由字符 0 和 1 组成的字符串，含义如题所述。", "hint": "### 样例 1 说明\n\n共有 $T=5$ 个操作。\n\n第 1 个操作将 $R$ 改成了 3。\n\n第 2 个操作表示进行了一次游戏，这次游戏的 $n=1$，区间为 $[2, 2]$，表示这次游戏共有 $(2 - 2 + 1) = 1$ 堆石子，这 1 堆石子的个数为 $(2 + 1 - 1) = 2$。因为 $R=3$，因此先手最多只能够取 1 个。若取 2 个则不满足 **题目描述** 中的条件 $1 \\leq i + j \\leq R$，若取 3 个及以上则不满足 **题目描述** 中的条件 $1 \\leq i + j \\leq R,i \\geq j \\geq 1$，其中 $i$、$j$、$R$ 的含义如题所述。先手取完后唯一的一堆只剩下 1 颗石子，因为后手取了 1 颗石子后使先手无法操作，所以先手落败，又因为这是唯一的一种取法，所以先手必败，因此先手无必胜策略，输出“``0``”。\n\n第 3 个操作将 $R$ 改成了 4。\n\n第 4 个操作表示进行了一次游戏，这次游戏的 $n=1$，区间为 $[2, 2]$，表示这次游戏共有 $(2 - 2 + 1) = 1$ 堆石子，这 1 堆石子的个数为 $(2 + 1 - 1) = 2$。先手最多可以取 2 颗石子，因为当先手取 3 颗或以上时，不满足 **题目描述** 中的条件 $1 \\leq i + j \\leq R,i \\geq j \\geq 1$，其中 $i$、$j$、$R$ 的含义如题所述。因为当先手选择取 2 颗石子时，先手取完了所有石子，使后手无法操作，所以先手必胜，输出“``1``”。\n\n第 5 个操作将 $R$ 改成了 2。\n\n____________\n\n### 数据范围\n\n对于 $100\\%$ 的数据，满足 $1 \\leq T \\leq 10^5, 2 \\leq R \\leq 10^{15}, 0 \\leq l_i \\leq r_i < R, 1 \\leq \\sum{n} \\leq 5 \\times 10^5$，并且第一个操作一定是第 1 类操作。\n\n对于测试点 1~2 ，满足 $T \\leq 10, l_i \\leq r_i \\leq 3$，并且在一轮游戏中石子的堆数不会超过 4。\n\n对于测试点 3~6 ，满足 $T \\leq 100, R \\leq 100, \\sum{n} \\leq 100$。\n\n对于测试点 7~10 ，满足 $T \\leq 10, R \\leq 10^5, \\sum{n} \\leq 50$。\n\n对于测试点 11~12 ，满足 $R \\leq 5 \\times 10^3, \\sum{n} \\leq 5 \\times 10^5$，并且只有一次修改操作。\n\n对于测试点 13~16 ，满足 $T \\leq 10^5,R \\leq 10^5,\\sum{n} \\leq 5 \\times 10^5$。\n\n共 20 个测试点，每个测试点 5 分。\n\n## 题目来源\n\n「JYLOI Round 1」 E\n\nIdea / Solution / Data：abcdeffa", "locale": "zh-CN"}}}
{"pid": "P6640", "type": "P", "difficulty": 6, "samples": [["aaba\naaaabbbaa\n3\n1 4\n1 3\n2 4", "3\n3\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "线段树", "二分", "各省省选", "北京", "后缀自动机 SAM", "ST 表", "扫描线", "后缀数组 SA"], "title": "[BJOI2020] 封印", "background": "注：NOI 2020 北京队选拔赛因不可抗力因素取消，改为按前一年 CSP-S 第二轮成绩选出省队。因为出现同分，为决定最终 A 队名单，举办了加试。本题即为加试题。", "description": "给出只包含小写字母 $a,b$ 的两个字符串 $s, t$，$q$ 次询问，每次询问 $s[l \\dots r]$ 和 $t$ 的最长公共子串长度。", "inputFormat": "输入共 $q+3$ 行。\n\n第一行一个字符串 $s$。\n\n第二行一个字符串 $t$。\n\n第三行一个整数 $q$。\n\n接下来的 $q$ 行，每行两个整数 $l_i, r_i(1\\le l_i \\le r_i \\le |s|)$，表示一次询问。", "outputFormat": "输出共 $q$ 行。\n\n第 $i$ 行表示 $s[l_i \\dots r_i]$ 和 $t$ 的最长公共子串长度。", "hint": "| 测试点编号 | $\\vert s\\vert , \\vert t\\vert \\le $ |     $q\\le$     |\n| :--------: | :------------: | :------------: |\n|    $1$     |      $50$      |      $50$      |\n|   $2,3$    | $2\\times 10^3$ | $2\\times 10^3$ |\n|   $4,5$    | $2\\times 10^5$ |      $10$      |\n| $6\\sim 10$ | $2\\times 10^5$ | $2\\times 10^5$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BJOI2020] 封印", "background": "注：NOI 2020 北京队选拔赛因不可抗力因素取消，改为按前一年 CSP-S 第二轮成绩选出省队。因为出现同分，为决定最终 A 队名单，举办了加试。本题即为加试题。", "description": "给出只包含小写字母 $a,b$ 的两个字符串 $s, t$，$q$ 次询问，每次询问 $s[l \\dots r]$ 和 $t$ 的最长公共子串长度。", "inputFormat": "输入共 $q+3$ 行。\n\n第一行一个字符串 $s$。\n\n第二行一个字符串 $t$。\n\n第三行一个整数 $q$。\n\n接下来的 $q$ 行，每行两个整数 $l_i, r_i(1\\le l_i \\le r_i \\le |s|)$，表示一次询问。", "outputFormat": "输出共 $q$ 行。\n\n第 $i$ 行表示 $s[l_i \\dots r_i]$ 和 $t$ 的最长公共子串长度。", "hint": "| 测试点编号 | $\\vert s\\vert , \\vert t\\vert \\le $ |     $q\\le$     |\n| :--------: | :------------: | :------------: |\n|    $1$     |      $50$      |      $50$      |\n|   $2,3$    | $2\\times 10^3$ | $2\\times 10^3$ |\n|   $4,5$    | $2\\times 10^5$ |      $10$      |\n| $6\\sim 10$ | $2\\times 10^5$ | $2\\times 10^5$ |", "locale": "zh-CN"}}}
{"pid": "P6641", "type": "P", "difficulty": 4, "samples": [["3\n-7 7 3\n0 2 3\n-4 2 1\n3 3 1", "5\n12\n15\n15"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "CCO（加拿大）"], "title": "[CCO 2020] A Game with Grundy", "background": "", "description": "**本题的所有讨论均在平面直角坐标系上进行。**\n\n有 $N$ 个人，每个人有一个视野，同时每个人在 $(x_i,0)$ 的位置上。\n\n视野可抽象为一个角。\n\n**注意，组成角的两条射线未在视野内。**\n\n现在，您可以站在 $(a,Y)$ 上，其中 $L\\le a\\le R$。\n\n请求出，对于每个 $i(0\\le i\\le N)$，您可以站在多少个位置，使得您至多在 $i$ 个人的视野内。 ", "inputFormat": "第一行为一个整数 $N$。\n\n第二行为三个整数 $L,R,Y$。\n\n接下来 $N$ 行，每行三个整数，分别为 $x_i,v_i,h_i$，其中 $v_i$ 和 $h_i$ 表示，组成角的两条射线的斜率分别为 $\\frac{v_i}{h_i},\\frac{-v_i}{h_i}$，一端的端点为 $(x_i,0)$。", "outputFormat": "共 $N+1$ 行，每行一个整数，第 $i$ 行的数表示您可以站在的位置个数，使得您至多在 $i-1$ 个人的视野内。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/ksz1n28u.png?x-oss-process=image/resize,m_lfit,h_1700,w_2250)\n#### 子任务\n**本题采用捆绑测试。**\n- Subtask 1（$60$ 分）：保证 $-10^6\\le L\\le R\\le 10^6$。\n- Subtask 2（$40$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^5$，$-10^9\\le L \\le R\\le 10^9$，$1\\le Y\\le 10^6$，$1\\le x_i\\le R$，$1\\le v_i,h_i\\le 100$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf) T1 A Game with Grundy。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2020] A Game with Grundy", "background": "", "description": "**本题的所有讨论均在平面直角坐标系上进行。**\n\n有 $N$ 个人，每个人有一个视野，同时每个人在 $(x_i,0)$ 的位置上。\n\n视野可抽象为一个角。\n\n**注意，组成角的两条射线未在视野内。**\n\n现在，您可以站在 $(a,Y)$ 上，其中 $L\\le a\\le R$。\n\n请求出，对于每个 $i(0\\le i\\le N)$，您可以站在多少个位置，使得您至多在 $i$ 个人的视野内。 ", "inputFormat": "第一行为一个整数 $N$。\n\n第二行为三个整数 $L,R,Y$。\n\n接下来 $N$ 行，每行三个整数，分别为 $x_i,v_i,h_i$，其中 $v_i$ 和 $h_i$ 表示，组成角的两条射线的斜率分别为 $\\frac{v_i}{h_i},\\frac{-v_i}{h_i}$，一端的端点为 $(x_i,0)$。", "outputFormat": "共 $N+1$ 行，每行一个整数，第 $i$ 行的数表示您可以站在的位置个数，使得您至多在 $i-1$ 个人的视野内。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/ksz1n28u.png?x-oss-process=image/resize,m_lfit,h_1700,w_2250)\n#### 子任务\n**本题采用捆绑测试。**\n- Subtask 1（$60$ 分）：保证 $-10^6\\le L\\le R\\le 10^6$。\n- Subtask 2（$40$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 10^5$，$-10^9\\le L \\le R\\le 10^9$，$1\\le Y\\le 10^6$，$1\\le x_i\\le R$，$1\\le v_i,h_i\\le 100$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf) T1 A Game with Grundy。", "locale": "zh-CN"}}}
{"pid": "P6642", "type": "P", "difficulty": 4, "samples": [["4\n4 4 3 2", "3"], ["3\n1 1 3\n", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020", "CCO（加拿大）"], "title": "[CCO 2020] Exercise Deadlines", "background": "", "description": "现在有 $N$ 个任务，第 $i$ 个任务需要在 $d_i$ 的时间前完成。\n\n完成一个任务只需要 $1$ 的时间。\n\n现在的完成顺序为 $1,2,3\\ldots N$，但很显然，这种顺序有可能无法完成全部任务。\n\n您可以交换任意**相邻**的任务序号来达到完成全部任务的结果。\n\n举个例子：$1,2,3\\ldots N\\to 1,3,2\\ldots N$。\n\n您需要在保证所有任务完成的情况下，输出最小的交换次数。\n\n如果无论如何都不能完成所有任务，请输出 `-1`。", "inputFormat": "第一行为一个整数 $N$。\n\n第二行为 $N$ 个整数 $d_i$。", "outputFormat": "仅一行一个整数，表示在保证所有任务完成的情况下，最小的交换次数。\n\n如果无论如何都不能完成所有任务，请输出 `-1`。", "hint": "#### 样例解释\n#### 样例 1 解释\n一种合法的完成顺序为 $1,4,3,2$，需要交换 $3$ 次。\n#### 样例 2 解释\n很明显，您不可能在同一时间内做完两项任务。\n\n#### 子任务\n**本题使用捆绑测试**\n- Subtask 1（$68$ 分）：$N\\le 5\\times 10^3$。\n- Subtask 1（$32$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 2\\times 10^5$，$1\\le d_i\\le N$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf) T2 Exercise Deadlines。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2020] Exercise Deadlines", "background": "", "description": "现在有 $N$ 个任务，第 $i$ 个任务需要在 $d_i$ 的时间前完成。\n\n完成一个任务只需要 $1$ 的时间。\n\n现在的完成顺序为 $1,2,3\\ldots N$，但很显然，这种顺序有可能无法完成全部任务。\n\n您可以交换任意**相邻**的任务序号来达到完成全部任务的结果。\n\n举个例子：$1,2,3\\ldots N\\to 1,3,2\\ldots N$。\n\n您需要在保证所有任务完成的情况下，输出最小的交换次数。\n\n如果无论如何都不能完成所有任务，请输出 `-1`。", "inputFormat": "第一行为一个整数 $N$。\n\n第二行为 $N$ 个整数 $d_i$。", "outputFormat": "仅一行一个整数，表示在保证所有任务完成的情况下，最小的交换次数。\n\n如果无论如何都不能完成所有任务，请输出 `-1`。", "hint": "#### 样例解释\n#### 样例 1 解释\n一种合法的完成顺序为 $1,4,3,2$，需要交换 $3$ 次。\n#### 样例 2 解释\n很明显，您不可能在同一时间内做完两项任务。\n\n#### 子任务\n**本题使用捆绑测试**\n- Subtask 1（$68$ 分）：$N\\le 5\\times 10^3$。\n- Subtask 1（$32$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 2\\times 10^5$，$1\\le d_i\\le N$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf) T2 Exercise Deadlines。\n", "locale": "zh-CN"}}}
{"pid": "P6643", "type": "P", "difficulty": 7, "samples": [["9 10\n0 1 1\n0 2 1\n0 3 1\n1 4 1\n2 5 1\n2 6 1\n3 7 1\n3 8 1\n2 4 5\n6 7 3\n", "11\n"]], "limits": {"time": [7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "CCO（加拿大）"], "title": "[CCO 2020] Mountains and Valleys", "background": null, "description": "有一个有 $N$ 个点 $M$ 条边，边有边权的无向图，图无重边、无自环，点的标号从 $0$ 开始。\n\n共有 $N-1$ 条边的边权为 $1$，其余边的边权均 $\\ge \\lceil \\frac{N}{3} \\rceil$ 且 $\\le N$，同时，如果仅考虑边权为 $1$ 的边，整个图会是一棵树。\n\n现在您要遍历每个点一遍，且使经过的边权总和最小。\n\n求最小的边权总和。\n\n**提醒：**\n- 您可以往返走一条边。\n- 您可以任选一个点出发。\n- 您只有一个人。", "inputFormat": "第一行为两个整数 $N,M$。\n\n接下来 $M$ 行，一行三个整数 $x_i,y_i,w_i$，表示有一条从 $x_i$ 到 $y_i$，边权为 $w_i$ 的边。", "outputFormat": "遍历每个点一遍，所需最小的边权总和。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/5ftpjk6m.png?x-oss-process=image/resize,m_lfit,h_1700,w_2250)\n\n最优路径为 $4\\to 1\\to 0\\to 2\\to 5\\to 2\\to 6\\to 7\\to 3\\to 8$，边权和为 $1+1+1+1+1+1+3+1+1=11$。\n\n#### 子任务\n**本题使用捆绑测试。**\n- Subtask 1（$4$ 分）：保证 $N\\le 6$，$M\\le 10$。\n- Subtask 2（$8$ 分）：保证 $N\\le 20$，$M\\le 40$。\n- Subtask 3（$8$ 分）：保证 $N\\le 5\\times 10^3$，$M\\le 10^5$，$w_i=1$ 或 $\\lceil\\frac{N}{2}\\rceil\\le w_i\\le N$。\n- Subtask 4（$24$ 分）：保证 $N\\le 100$，$M\\le 200$。\n- Subtask 5（$8$ 分）：保证 $N\\le 500$，$M\\le 10^3$。\n- Subtask 6（$12$ 分）：保证 $N\\le 5\\times 10^3$，$M\\le 10^4$。\n- Subtask 7（$20$ 分）：保证 $N\\le 8\\times 10^4$，$M\\le 1.6\\times 10^5$。\n- Subtask 8（$16$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $4\\le N\\le 5\\times 10^5$，$N-1 \\le M\\le 2\\times 10^6$，$0\\le x_i,y_i\\le N-1$，$w_i=1$ 或者 $\\lceil \\frac{N}{3}\\rceil\\le w_i\\le N$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf) T3 Mountains and Valleys。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2020] Mountains and Valleys", "background": null, "description": "有一个有 $N$ 个点 $M$ 条边，边有边权的无向图，图无重边、无自环，点的标号从 $0$ 开始。\n\n共有 $N-1$ 条边的边权为 $1$，其余边的边权均 $\\ge \\lceil \\frac{N}{3} \\rceil$ 且 $\\le N$，同时，如果仅考虑边权为 $1$ 的边，整个图会是一棵树。\n\n现在您要遍历每个点一遍，且使经过的边权总和最小。\n\n求最小的边权总和。\n\n**提醒：**\n- 您可以往返走一条边。\n- 您可以任选一个点出发。\n- 您只有一个人。", "inputFormat": "第一行为两个整数 $N,M$。\n\n接下来 $M$ 行，一行三个整数 $x_i,y_i,w_i$，表示有一条从 $x_i$ 到 $y_i$，边权为 $w_i$ 的边。", "outputFormat": "遍历每个点一遍，所需最小的边权总和。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/5ftpjk6m.png?x-oss-process=image/resize,m_lfit,h_1700,w_2250)\n\n最优路径为 $4\\to 1\\to 0\\to 2\\to 5\\to 2\\to 6\\to 7\\to 3\\to 8$，边权和为 $1+1+1+1+1+1+3+1+1=11$。\n\n#### 子任务\n**本题使用捆绑测试。**\n- Subtask 1（$4$ 分）：保证 $N\\le 6$，$M\\le 10$。\n- Subtask 2（$8$ 分）：保证 $N\\le 20$，$M\\le 40$。\n- Subtask 3（$8$ 分）：保证 $N\\le 5\\times 10^3$，$M\\le 10^5$，$w_i=1$ 或 $\\lceil\\frac{N}{2}\\rceil\\le w_i\\le N$。\n- Subtask 4（$24$ 分）：保证 $N\\le 100$，$M\\le 200$。\n- Subtask 5（$8$ 分）：保证 $N\\le 500$，$M\\le 10^3$。\n- Subtask 6（$12$ 分）：保证 $N\\le 5\\times 10^3$，$M\\le 10^4$。\n- Subtask 7（$20$ 分）：保证 $N\\le 8\\times 10^4$，$M\\le 1.6\\times 10^5$。\n- Subtask 8（$16$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $4\\le N\\le 5\\times 10^5$，$N-1 \\le M\\le 2\\times 10^6$，$0\\le x_i,y_i\\le N-1$，$w_i=1$ 或者 $\\lceil \\frac{N}{3}\\rceil\\le w_i\\le N$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) [Day 1](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf) T3 Mountains and Valleys。", "locale": "zh-CN"}}}
{"pid": "P6644", "type": "P", "difficulty": 6, "samples": [["4\nR\nRR\nBRB", "5\n1 4 2 1 3\n6\n2 3 1 2 3 4\n5\n3 1 2 3 4\n4\n4 3 1 2"]], "limits": {"time": [7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "Special Judge", "CCO（加拿大）"], "title": "[CCO 2020] Travelling Salesperson", "background": "", "description": "有一个有 $N$ 个点的完全图，边权为 $1$，边是红色或蓝色。\n\n对于每一个点，您需要构造从该点出发，经过每一个点至少一次且边权和最小的路径。\n\n为了增大难度，我们要求您从一条边走到另一条异色的边需花费一张票，并且您只有一张票。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来 $N$ 行，一行一个字符串，第 $i$ 行的字符串为 $C_i=C_{i,1},C_{i,2}\\ldots C_{i,i-1}$，如果 $C_{i,j}$ 为 `R`，说明从 $i$ 到 $j$ 的边为红色的，反之，则为蓝色。", "outputFormat": "输出共 $2\\times N$ 行。\n\n对于 $2\\times i-1(1\\le i\\le N)$ 行，您需要输出一个整数 $M_i$，表示您所构造的从 $i$ 出发的遍历每一个点的方案的长度。\n\n对于 $2\\times i (1\\le i\\le N)$ 行，您需要输出 $M_i$ 个整数，表示您的方案所遍历点的顺序。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/j79801x8.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n聪明的你一定发现了这个样例输出不是最优的。\n\n从 $3$ 出发的话，有最优方案为 $3\\to 1\\to 2\\to 4$，长度为 $4$，所以这个方案得 $\\lfloor 8+8\\times \\frac{2\\times 4-5}{4-1}\\rfloor=16$ 分。\n\n#### SPJ 计分策略\n本题的每个测试点按您设计的路线计分。\n\n对于您设计的第 $i$ 个方案，设其长度为 $M_i$，标准答案的第 $i$ 个方案长度为 $K_i$。\n\n如果 $M_i>2\\times K_i$ 或者您的方案错误，您会得 $0$ 分。\n\n如果 $M_i=K_i$ 且您的方案合法，您会得 $25$ 分。\n\n否则，如果您的方案合法，您会得 $\\lfloor 8+8\\times \\frac{2\\times K_i-M_i}{K_i-1}\\rfloor$ 分。\n\n这个测试点的分数为每个方案的得分的最小值。\n\n您的提交得分为每个测试点得分的最小值。\n\n**译者提醒：为了方便 SPJ 的编写和测试点的计分，每个测试点 $100$ 分，题目的计分策略里的所有分数会按比例计算。**\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 2\\times 10^3$，$C_{i,j}$ 为 `R` 或 `B`。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf) T1 Travelling Salesperson。\n\n感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的 SPJ。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2020] Travelling Salesperson", "background": "", "description": "有一个有 $N$ 个点的完全图，边权为 $1$，边是红色或蓝色。\n\n对于每一个点，您需要构造从该点出发，经过每一个点至少一次且边权和最小的路径。\n\n为了增大难度，我们要求您从一条边走到另一条异色的边需花费一张票，并且您只有一张票。", "inputFormat": "第一行为一个整数 $N$。\n\n接下来 $N$ 行，一行一个字符串，第 $i$ 行的字符串为 $C_i=C_{i,1},C_{i,2}\\ldots C_{i,i-1}$，如果 $C_{i,j}$ 为 `R`，说明从 $i$ 到 $j$ 的边为红色的，反之，则为蓝色。", "outputFormat": "输出共 $2\\times N$ 行。\n\n对于 $2\\times i-1(1\\le i\\le N)$ 行，您需要输出一个整数 $M_i$，表示您所构造的从 $i$ 出发的遍历每一个点的方案的长度。\n\n对于 $2\\times i (1\\le i\\le N)$ 行，您需要输出 $M_i$ 个整数，表示您的方案所遍历点的顺序。", "hint": "#### 样例解释\n![](https://cdn.luogu.com.cn/upload/image_hosting/j79801x8.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n聪明的你一定发现了这个样例输出不是最优的。\n\n从 $3$ 出发的话，有最优方案为 $3\\to 1\\to 2\\to 4$，长度为 $4$，所以这个方案得 $\\lfloor 8+8\\times \\frac{2\\times 4-5}{4-1}\\rfloor=16$ 分。\n\n#### SPJ 计分策略\n本题的每个测试点按您设计的路线计分。\n\n对于您设计的第 $i$ 个方案，设其长度为 $M_i$，标准答案的第 $i$ 个方案长度为 $K_i$。\n\n如果 $M_i>2\\times K_i$ 或者您的方案错误，您会得 $0$ 分。\n\n如果 $M_i=K_i$ 且您的方案合法，您会得 $25$ 分。\n\n否则，如果您的方案合法，您会得 $\\lfloor 8+8\\times \\frac{2\\times K_i-M_i}{K_i-1}\\rfloor$ 分。\n\n这个测试点的分数为每个方案的得分的最小值。\n\n您的提交得分为每个测试点得分的最小值。\n\n**译者提醒：为了方便 SPJ 的编写和测试点的计分，每个测试点 $100$ 分，题目的计分策略里的所有分数会按比例计算。**\n\n#### 数据范围及限制\n对于 $100\\%$ 的数据，保证 $1\\le N\\le 2\\times 10^3$，$C_{i,j}$ 为 `R` 或 `B`。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf) T1 Travelling Salesperson。\n\n感谢 @[tiger2005](https://www.luogu.com.cn/user/60864) 提供的 SPJ。", "locale": "zh-CN"}}}
{"pid": "P6645", "type": "P", "difficulty": 6, "samples": [["5\nA 1 5\nA 2 7\nA 4 6\nA 6 8\nR 4 6", "4\n6\n5\n4\n7"]], "limits": {"time": [3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "CCO（加拿大）"], "title": "[CCO 2020] Interval Collection", "background": "本题题面来自 [LOJ](https://loj.ac/p/3321)。", "description": "Altina 正进行区间收藏。一对满足 $l < r$ 的正整数 $[l, r]$ 为一个区间，我们称这样的区间的长度为 $r - l$。\n\n我们称区间 $[l, r]$ 包含区间 $[x, y]$，当且仅当 $l \\le x$ 并且 $y \\le r$。特别地，每个区间都包含自身。\n\n定义一个非空集合 $S$ 的**最大公共子区间**为被 $S$ 中每个区间都包含的区间中最长的那个，如果没有这样的区间则未定义。\n\n定义一个非空集合 $S$ 的**最小公共超区间**为包含 $S$ 中每个区间的区间中最短的那个，注意这样的区间总是存在。\n\n初始时，Altina 的收藏中没有任何区间。接下来会发生 $Q$ 个事件，对 Altina 的收藏产生改变。\n\n1. Altina 往她的收藏中添加一个区间 $[l, r]$，如果此时收藏中已有 $[l, r]$，应该被算作不同的两个区间。\n2. Altina 移除一个在收藏中已经存在的区间 $[l, r]$，如有多个只以移除恰好一个。\n\n在每个事件发生后，Altina 选择一个她的收藏中的非空子集 $S$，并且满足如下条件：\n\n- 在所有的选取方案中，她会选择最大公共子区间未定义的。如果不存在这样的方案，则她会选择最大公共子区间的长度最小的。\n- 在所有的满足上述条件的集合 $S$ 中，她会选择最小公共超区间的长度最小的。\n\n请你在每一个事件发生后，输出 Altina 会选择的集合 $S$ 的最小公共超区间的长度。", "inputFormat": "第一行一个正整数 $Q$，表示将会发生的事件的个数。  \n接下来 $Q$ 行，每行描述一个事件，格式如下：\n\n- $\\mathtt{A}\\;l\\;r$：添加一个区间 $[l, r]$ 到 Altina 的收藏中。\n- $\\mathtt{R}\\;l\\;r$：从 Altina 的收藏中移除一个区间 $[l, r]$，保证这个区间在她的收藏中存在，且移除后她的收藏非空。", "outputFormat": "输出 $Q$ 行，每行一个正整数表示每个事件发生后 Altina 会选择的集合 $S$ 的最小公共超区间的长度。", "hint": "#### 样例解释\n加入 $[1,5]$，选择 $[1,5]$ 最优，答案为 $4$。\n\n加入 $[2,7]$，选择 $[1,5],[2,7]$ 最优，答案为 $7-1=6$。\n\n加入 $[4,6]$，选择 $[1,5],[4,6]$ 最优，答案为 $6-1=5$。\n\n加入 $[6,8]$，选择 $[4,6],[6,8]$ 最优，答案为 $8-4=4$。\n\n删除 $[4,6]$，选择 $[1,5],[6,8]$ 最优，答案为 $8-1=7$。\n\n#### 子任务\n**本题使用捆绑测试**\n\n- Subtask 1（$12$ 分）：$Q\\le 500$。\n- Subtask 2（$32$ 分）：$Q\\le 1.2\\times 10^4$。\n- Subtask 3（$28$ 分）：$Q\\le 5\\times 10^4$。\n- Subtask 4（$16$ 分）：对于任两个区间 $(l_1,r_1)$ 和 $(l_2,r_2)$，保证 $r_1<l_2$ 或者 $r_2<l_1$。\n- Subtask 5（$12$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le Q\\le 5\\times 10^5$，$1\\le l,r\\le 10^6$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf) T2 Interval Collection。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2020] Interval Collection", "background": "本题题面来自 [LOJ](https://loj.ac/p/3321)。", "description": "Altina 正进行区间收藏。一对满足 $l < r$ 的正整数 $[l, r]$ 为一个区间，我们称这样的区间的长度为 $r - l$。\n\n我们称区间 $[l, r]$ 包含区间 $[x, y]$，当且仅当 $l \\le x$ 并且 $y \\le r$。特别地，每个区间都包含自身。\n\n定义一个非空集合 $S$ 的**最大公共子区间**为被 $S$ 中每个区间都包含的区间中最长的那个，如果没有这样的区间则未定义。\n\n定义一个非空集合 $S$ 的**最小公共超区间**为包含 $S$ 中每个区间的区间中最短的那个，注意这样的区间总是存在。\n\n初始时，Altina 的收藏中没有任何区间。接下来会发生 $Q$ 个事件，对 Altina 的收藏产生改变。\n\n1. Altina 往她的收藏中添加一个区间 $[l, r]$，如果此时收藏中已有 $[l, r]$，应该被算作不同的两个区间。\n2. Altina 移除一个在收藏中已经存在的区间 $[l, r]$，如有多个只以移除恰好一个。\n\n在每个事件发生后，Altina 选择一个她的收藏中的非空子集 $S$，并且满足如下条件：\n\n- 在所有的选取方案中，她会选择最大公共子区间未定义的。如果不存在这样的方案，则她会选择最大公共子区间的长度最小的。\n- 在所有的满足上述条件的集合 $S$ 中，她会选择最小公共超区间的长度最小的。\n\n请你在每一个事件发生后，输出 Altina 会选择的集合 $S$ 的最小公共超区间的长度。", "inputFormat": "第一行一个正整数 $Q$，表示将会发生的事件的个数。  \n接下来 $Q$ 行，每行描述一个事件，格式如下：\n\n- $\\mathtt{A}\\;l\\;r$：添加一个区间 $[l, r]$ 到 Altina 的收藏中。\n- $\\mathtt{R}\\;l\\;r$：从 Altina 的收藏中移除一个区间 $[l, r]$，保证这个区间在她的收藏中存在，且移除后她的收藏非空。", "outputFormat": "输出 $Q$ 行，每行一个正整数表示每个事件发生后 Altina 会选择的集合 $S$ 的最小公共超区间的长度。", "hint": "#### 样例解释\n加入 $[1,5]$，选择 $[1,5]$ 最优，答案为 $4$。\n\n加入 $[2,7]$，选择 $[1,5],[2,7]$ 最优，答案为 $7-1=6$。\n\n加入 $[4,6]$，选择 $[1,5],[4,6]$ 最优，答案为 $6-1=5$。\n\n加入 $[6,8]$，选择 $[4,6],[6,8]$ 最优，答案为 $8-4=4$。\n\n删除 $[4,6]$，选择 $[1,5],[6,8]$ 最优，答案为 $8-1=7$。\n\n#### 子任务\n**本题使用捆绑测试**\n\n- Subtask 1（$12$ 分）：$Q\\le 500$。\n- Subtask 2（$32$ 分）：$Q\\le 1.2\\times 10^4$。\n- Subtask 3（$28$ 分）：$Q\\le 5\\times 10^4$。\n- Subtask 4（$16$ 分）：对于任两个区间 $(l_1,r_1)$ 和 $(l_2,r_2)$，保证 $r_1<l_2$ 或者 $r_2<l_1$。\n- Subtask 5（$12$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le Q\\le 5\\times 10^5$，$1\\le l,r\\le 10^6$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf) T2 Interval Collection。", "locale": "zh-CN"}}}
{"pid": "P6646", "type": "P", "difficulty": 7, "samples": [["5 2 7\n1 5\n1 3\n2 3\n1 6\n2 1\n1 1\n1 1", "4\n6\n6\n7\n8\n9\n-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "堆", "CCO（加拿大）"], "title": "[CCO 2020] Shopping Plans", "background": "", "description": "有 $N$ 个商品，每个商品有个种类 $a_i$，有个价格 $c_i$。\n\n对于第 $j$ 个种类，必须购买个数位于 $[x_j,y_j]$ 的商品，即最少购买 $x_j$ 个，最多购买 $y_j$ 个该种类的商品。\n\n您需要求出前 $K$ 种便宜的方案所需的价钱，如果没有这样的方案，请输出 `-1`。\n\n特别的，如果有相同钱数，但是具体方案不相同的，算作两种方案。", "inputFormat": "第一行为三个整数 $N,M,K$。\n\n接下来 $N$ 行，一行两个整数 $a_i,c_i$。\n\n接下来 $M$ 行，一行两个整数 $x_j,y_j$。", "outputFormat": "共 $K$ 行，一行一个整数，第 $i$ 行表示第 $i$ 便宜的方案所需的价钱。", "hint": "#### 样例解释\n共有 $5$ 个商品，$2$ 种类型。\n\n类型 $1$：$\\{3,5,6\\}$，类型 $2$：$\\{1,3\\}$。\n\n类型 $1$ 与类型 $2$ 均只能选择一个商品。\n\n对于最便宜的方案，选择 $\\{1,3\\}$ 即可。\n\n以此类推。\n\n#### 子任务\n**本题使用捆绑测试**\n\n- Subtask 1（$20$ 分）：$x_j,y_j=1$，$N,M,K\\le4\\times 10^3$。\n- Subtask 2（$20$ 分）：$x_j,y_j=1$，$N,M,c_i\\le 4\\times 10^3$。\n- Subtask 3（$20$ 分）：$x_j,y_j=1$。\n- Subtask 4（$20$ 分）：$x_j=0$。\n- Subtask 5（$20$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le N,M,K\\le 2\\times 10^5$，$1\\le a_i\\le M$，$1\\le c_i\\le 10^9$，$0\\le x_j\\le y_j\\le N$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf) T3 Shopping Plans。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCO 2020] Shopping Plans", "background": "", "description": "有 $N$ 个商品，每个商品有个种类 $a_i$，有个价格 $c_i$。\n\n对于第 $j$ 个种类，必须购买个数位于 $[x_j,y_j]$ 的商品，即最少购买 $x_j$ 个，最多购买 $y_j$ 个该种类的商品。\n\n您需要求出前 $K$ 种便宜的方案所需的价钱，如果没有这样的方案，请输出 `-1`。\n\n特别的，如果有相同钱数，但是具体方案不相同的，算作两种方案。", "inputFormat": "第一行为三个整数 $N,M,K$。\n\n接下来 $N$ 行，一行两个整数 $a_i,c_i$。\n\n接下来 $M$ 行，一行两个整数 $x_j,y_j$。", "outputFormat": "共 $K$ 行，一行一个整数，第 $i$ 行表示第 $i$ 便宜的方案所需的价钱。", "hint": "#### 样例解释\n共有 $5$ 个商品，$2$ 种类型。\n\n类型 $1$：$\\{3,5,6\\}$，类型 $2$：$\\{1,3\\}$。\n\n类型 $1$ 与类型 $2$ 均只能选择一个商品。\n\n对于最便宜的方案，选择 $\\{1,3\\}$ 即可。\n\n以此类推。\n\n#### 子任务\n**本题使用捆绑测试**\n\n- Subtask 1（$20$ 分）：$x_j,y_j=1$，$N,M,K\\le4\\times 10^3$。\n- Subtask 2（$20$ 分）：$x_j,y_j=1$，$N,M,c_i\\le 4\\times 10^3$。\n- Subtask 3（$20$ 分）：$x_j,y_j=1$。\n- Subtask 4（$20$ 分）：$x_j=0$。\n- Subtask 5（$20$ 分）：无特殊限制。\n\n对于 $100\\%$ 的数据，保证 $1\\le N,M,K\\le 2\\times 10^5$，$1\\le a_i\\le M$，$1\\le c_i\\le 10^9$，$0\\le x_j\\le y_j\\le N$。\n\n#### 说明\n本题译自 [Canadian Computing Olympiad 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/) [Day 2](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf) T3 Shopping Plans。", "locale": "zh-CN"}}}
{"pid": "P6647", "type": "P", "difficulty": 6, "samples": [["5 3\n2 5 7 1 4\n", "12"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2019", "线段树", "CCC（加拿大）", "动态规划优化"], "title": "[CCC 2019] Tourism", "background": "**警告：滥用本题评测将被封号！**\n\n\nShuchong 和您正在畅玩洛谷著名景点。  \n但是他因为太菜爽约了。   \n您只好独自去游览洛谷著名景点。", "description": "您正在游览 $n$ 个景点，编号为 $1$ 到 $n$，并且因为 3k 的强硬要求，您必须按照 $1$ 到 $n$ 的顺序浏览。您一天最多可以游览 $k$ 个景点，因为剩下的时间您要用来爆切黑题，所以您想尽快浏览完这些景点。   \n每个景点对您的吸引度不同，第 $i$ 个景点对您的吸引度为 $a_i$，一天游览的这些景点的官方评分就是这天游览的景点的 $a_i$ 的最大值。最后，您需要把每天的官方评分加起来获得最后的评分。   \n因为您太着急想爆切黑题了，所以您提前计算好了浏览完所有景点最少需要多少天（假设它为 $t$），您想知道：\n\n- 用 $t$ 天浏览\n- 满足每天最多游览 $k$ 个景点\n- 能得到的最后的评分最大是多少", "inputFormat": "第一行两个整数 $n,k$ 代表景点数和最多游览景点数。   \n第二行 $n$ 个整数 $a_i$ 代表每个景点的吸引度。", "outputFormat": "一行一个整数代表\n\n- 用 $t$ 天浏览\n- 满足每天最多游览 $k$ 个景点\n- 能得到的最后的评分最大是多少\n\n（$t$ 为浏览完所有景点最少需要多少天）", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n- 我们很容易就知道至少需要 $2$ 天就可以浏览完所有景点。  \n- 但是我们不能一天内浏览完所有景点。（$n>k$）   \n- 我们把景点尽量平分，有以下两种情况：\n\t- 如果第一天浏览 $2$ 个，第二天浏览 $3$ 个，最终的评分为 $5+7=12$。\n    - 如果第二天浏览 $3$ 个，第二天浏览 $2$ 个，最终的评分为  $7+4=11$。\n- 最后的答案为 $\\max(12,11)=12$。\n\n#### 数据规定与说明\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：$2k \\ge n$。\n- Subtask 2（20 pts）：$k \\le 100$，$n \\le 10^5$。\n- Subtask 3（60 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 10^6$，$1 \\le a_i \\le 10^9$。\n\n#### 说明\n\n**翻译自 [CCC 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) Senior T4 [Tourism](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%201/seniorEF.pdf)。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2019] Tourism", "background": "**警告：滥用本题评测将被封号！**\n\n\nShuchong 和您正在畅玩洛谷著名景点。  \n但是他因为太菜爽约了。   \n您只好独自去游览洛谷著名景点。", "description": "您正在游览 $n$ 个景点，编号为 $1$ 到 $n$，并且因为 3k 的强硬要求，您必须按照 $1$ 到 $n$ 的顺序浏览。您一天最多可以游览 $k$ 个景点，因为剩下的时间您要用来爆切黑题，所以您想尽快浏览完这些景点。   \n每个景点对您的吸引度不同，第 $i$ 个景点对您的吸引度为 $a_i$，一天游览的这些景点的官方评分就是这天游览的景点的 $a_i$ 的最大值。最后，您需要把每天的官方评分加起来获得最后的评分。   \n因为您太着急想爆切黑题了，所以您提前计算好了浏览完所有景点最少需要多少天（假设它为 $t$），您想知道：\n\n- 用 $t$ 天浏览\n- 满足每天最多游览 $k$ 个景点\n- 能得到的最后的评分最大是多少", "inputFormat": "第一行两个整数 $n,k$ 代表景点数和最多游览景点数。   \n第二行 $n$ 个整数 $a_i$ 代表每个景点的吸引度。", "outputFormat": "一行一个整数代表\n\n- 用 $t$ 天浏览\n- 满足每天最多游览 $k$ 个景点\n- 能得到的最后的评分最大是多少\n\n（$t$ 为浏览完所有景点最少需要多少天）", "hint": "#### 样例说明\n\n对于样例 $1$：\n\n- 我们很容易就知道至少需要 $2$ 天就可以浏览完所有景点。  \n- 但是我们不能一天内浏览完所有景点。（$n>k$）   \n- 我们把景点尽量平分，有以下两种情况：\n\t- 如果第一天浏览 $2$ 个，第二天浏览 $3$ 个，最终的评分为 $5+7=12$。\n    - 如果第二天浏览 $3$ 个，第二天浏览 $2$ 个，最终的评分为  $7+4=11$。\n- 最后的答案为 $\\max(12,11)=12$。\n\n#### 数据规定与说明\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：$2k \\ge n$。\n- Subtask 2（20 pts）：$k \\le 100$，$n \\le 10^5$。\n- Subtask 3（60 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 10^6$，$1 \\le a_i \\le 10^9$。\n\n#### 说明\n\n**翻译自 [CCC 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) Senior T4 [Tourism](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%201/seniorEF.pdf)。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN"}}}
{"pid": "P6648", "type": "P", "difficulty": 5, "samples": [["4 2\n3\n1 2\n4 2 1\n6 1 4 2", "23"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "递推", "2019", "倍增", "CCC（加拿大）", "ST 表"], "title": "[CCC 2019] Triangle: The Data Structure", "background": "在 Shuchong 的平行宇宙里，计算机学中的最重要的数据结构就是三角形。   \n注：因为原数据包太大，故这题缩减了一些数据，具体缩减的数据点如下：\n\n- Subtask 1：1 ~ 10\n- Subtask 2：1 ~ 10\n\n所以此题拥有的测试点为：\n\n- Subtask 1：11 ~ 26\n- Subtask 2：11 ~ 24\n\n若想测试本题没有的测试点请到 [此处](https://www.luogu.com.cn/problem/U120704) 测试。", "description": "大小为 $m$ 的一个三角形由 $m$ 行组成，第 $i$ 行包含 $i$ 个元素。   \n并且，这些行必须排为等边三角形的形状。  \n比如说，以下是一个 $m=4$ 的三角形。   \n![](https://cdn.luogu.com.cn/upload/image_hosting/fdut4hrs.png)    \n每个三角形还包含子三角形。   \n比如说上面这个三角形，包含：\n- $10$ 个大小为 $1$ 的三角形。\n- $6$ 个大小为 $2$ 的三角形。\n- $3$ 个大小为 $3$ 的三角形。\n\n注意，每个三角形都是自身的子三角形。   \n现在给定一个大小为 $n$ 的三角形，求对于每个大小为 $k$ 的子三角形，子三角形内几个数的最大值的和。", "inputFormat": "第一行两个整数 $n,k$ 代表三角形的大小和要求的子三角形的大小。   \n接下来 $n$ 行第 $i$ 行有 $i$ 个整数代表这个三角形。", "outputFormat": "一行一个整数代表对于每个大小为 $k$ 的子三角形，子三角形内几个数的最大值的和。", "hint": "#### 数据规模与约定\n\n- Subtask 1（25 pts）：$n \\le 1000$。\n- Subtask 2（75 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 3000$，$0 \\le $ 三角形内每个数 $\\le 10^9$。\n\n#### 说明\n\n**翻译自 [CCC 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) Senior T5 [Triangle: The Data Structure](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%201/seniorEF.pdf)。**   \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CCC 2019] Triangle: The Data Structure", "background": "在 Shuchong 的平行宇宙里，计算机学中的最重要的数据结构就是三角形。   \n注：因为原数据包太大，故这题缩减了一些数据，具体缩减的数据点如下：\n\n- Subtask 1：1 ~ 10\n- Subtask 2：1 ~ 10\n\n所以此题拥有的测试点为：\n\n- Subtask 1：11 ~ 26\n- Subtask 2：11 ~ 24\n\n若想测试本题没有的测试点请到 [此处](https://www.luogu.com.cn/problem/U120704) 测试。", "description": "大小为 $m$ 的一个三角形由 $m$ 行组成，第 $i$ 行包含 $i$ 个元素。   \n并且，这些行必须排为等边三角形的形状。  \n比如说，以下是一个 $m=4$ 的三角形。   \n![](https://cdn.luogu.com.cn/upload/image_hosting/fdut4hrs.png)    \n每个三角形还包含子三角形。   \n比如说上面这个三角形，包含：\n- $10$ 个大小为 $1$ 的三角形。\n- $6$ 个大小为 $2$ 的三角形。\n- $3$ 个大小为 $3$ 的三角形。\n\n注意，每个三角形都是自身的子三角形。   \n现在给定一个大小为 $n$ 的三角形，求对于每个大小为 $k$ 的子三角形，子三角形内几个数的最大值的和。", "inputFormat": "第一行两个整数 $n,k$ 代表三角形的大小和要求的子三角形的大小。   \n接下来 $n$ 行第 $i$ 行有 $i$ 个整数代表这个三角形。", "outputFormat": "一行一个整数代表对于每个大小为 $k$ 的子三角形，子三角形内几个数的最大值的和。", "hint": "#### 数据规模与约定\n\n- Subtask 1（25 pts）：$n \\le 1000$。\n- Subtask 2（75 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 3000$，$0 \\le $ 三角形内每个数 $\\le 10^9$。\n\n#### 说明\n\n**翻译自 [CCC 2019](https://cemc.math.uwaterloo.ca/contests/computing/2019/index.html) Senior T5 [Triangle: The Data Structure](https://cemc.math.uwaterloo.ca/contests/computing/2019/stage%201/seniorEF.pdf)。**   \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN"}}}
