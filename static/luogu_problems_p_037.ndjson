{"pid": "P1741", "type": "P", "difficulty": 5, "samples": [["4\r\n1111\r\n11101\r\n1000\r\n10111\r\n1100\r\n10101\r\n0111\r\n11101\r\n1111\r\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串"], "title": "Diamond A&B(2)", "background": "由于本题较难，将本题拆做两题，分别为 diamond A 以及 diamond B。本题为 Diamond B。\n\n", "description": "教主上电视了！这个消息绝对是一个爆炸性的新闻。一经传开，大街上瞬间就没人了（都回家看电视去了），商店打烊，工厂停业。大家都把电视机的音量开到最大，教主的声音回响在大街小巷。\n\n小 L 给小 X 慌乱地打开自己家的电视机，发现所有频道都播放的是教主的采访节目（-\\_-bbb）。只见电视屏幕上的教主笑意吟吟，给大家出了一道难题：\n\n一个边长为 $n$ 的大菱形被均匀地划分成了 $n\\times n$ 个边长为 $1$ 的小菱形组成的网格，但是网格中部分边被抹去了，小 $L$ 想知道，大菱形内有多少个平行四边形，这些平行四边形内不存在边（平行四边形内是空的）。\n\n教主说，如果谁写出了程序，移动用户请将程序发送到 xxxx，联通用户请将程序发送到 xxxx……如果答对这个题，将有机会参加抽奖，大奖将是教主签名的 Orz 教主 T-Shirt 一件！这个奖品太具有诱惑力了。于是你需要编一个程序完成这么一道题。\n", "inputFormat": "对于 Diamond A，其输入为：\n>输入的第一行为一个正整数 $n$，为大菱形的边长。\n>\n>以下 $2n$ 行，每行 $2n$ 个字符，字符为空格，$\\verb!/!$，$\\verb!\\!$ 中的一个。\n>\n>前 $n$ 行，第 $i$ 行中居中有 $2i$ 个字符，这 $2i$ 个字符中位置为奇数的字符只可能为 $\\verb!/!$ 或者空格，位置为偶数的字符只可能为 $\\verb!\\!$ 或空格，若为空格表示这样一条边不存在，其余字符均为空格，描述了大菱形的上半部分。\n>\n>后 $n$ 行，第 $i$ 行居中有有 $2(n-i+1)$ 个字符，与上半部分类似地描述了菱形的下半部分。\n>\n>输入文件保证大菱形的轮廓上没有边被抹去。\n\nDiamond A 的输出为：\n\n第一行一个整数 $n$。\n\n以下 $2\\times n+1$ 行，代表了将该菱形逆时针旋转一个锐角，并将图形变形为矩形后各边有无，$1$ 表示有边，$0$ 表示无边。\n\n以上 Diamond A 的输出内容，即作为本题的输入格式。", "outputFormat": "输出仅包括一个整数，为满足要求的平行四边形个数。\n", "hint": "### 样例 1 解释\n\n原始输入数据为：\n\n```\n4\n   /\\   \n  /\\/\\  \n /\\  /\\ \n/  \\/  \\\n\\/\\/ / /\n \\/\\  / \n  \\ \\/  \n   \\/   \n```\n### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $40\\%$ 的数据，$n \\le 60$；\n- 对于 $60\\%$ 的数据，$n \\le 200$；\n- 对于 $100\\%$ 的数据，$n \\le 888$。", "locale": "zh-CN", "translations": {"en": {"title": "Diamond A&B(2)", "background": "Because this problem is difficult, it has been split into two problems, diamond A and diamond B. This problem is Diamond B.", "description": "Jiaozhu went on TV! This is absolutely explosive news. As soon as it spread, the streets instantly emptied (everyone went home to watch TV), shops closed, and factories halted. Everyone turned their TV volume to the maximum, and Jiaozhu’s voice echoed through every street and alley.\n\nXiao L hurriedly turned on the TV at home and found that every channel was broadcasting Jiaozhu’s interview program (-_-bbb). On the screen, Jiaozhu smiled and posed a challenge:\n\nA large diamond of side length $n$ is uniformly divided into an $n \\times n$ grid of small diamonds of side length $1$. However, some edges in the grid have been erased. Xiao L wants to know how many parallelograms are inside the large diamond such that the interior of each parallelogram contains no edges (i.e., the parallelogram’s interior is empty).\n\nJiaozhu said that whoever writes the program should, if using Mobile, send the program to xxxx; if using Unicom, send the program to xxxx… If you answer correctly, you will have a chance to enter a lottery. The grand prize is an Orz Jiaozhu T-Shirt with Jiaozhu’s signature! This prize is too tempting. Thus you need to write a program to solve this problem.", "inputFormat": "The first line contains a positive integer $n$, the side length of the large diamond.\n\nThe next $2n$ lines each contain $2n$ characters. Each character is one of: space, \\verb!/!, \\verb!\\!.\n\nFor the first $n$ lines (the upper half of the diamond), in line $i$ there is a centered block of $2i$ characters. Among these $2i$ characters, characters in odd positions can only be \\verb!/! or a space, and characters in even positions can only be \\verb!\\! or a space. A space means that such an edge does not exist. All other characters in the row (outside the centered block) are spaces, describing the upper half of the large diamond.\n\nFor the last $n$ lines (the lower half of the diamond), in the $i$-th line (counting from the top of the lower half, 1-indexed) there is a centered block of $2(n - i + 1)$ characters, described similarly to the upper half, describing the lower half of the diamond.\n\nThe input guarantees that no edge on the outline of the large diamond is erased.", "outputFormat": "Output a single integer: the number of parallelograms that satisfy the requirement.", "hint": "### Constraints\n\n- For $20\\%$ of the testdata, $n \\le 10$.\n- For $40\\%$ of the testdata, $n \\le 60$.\n- For $60\\%$ of the testdata, $n \\le 200$.\n- For $100\\%$ of the testdata, $n \\le 888$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Diamond A&B(2)", "background": "由于本题较难，将本题拆做两题，分别为 diamond A 以及 diamond B。本题为 Diamond B。\n\n", "description": "教主上电视了！这个消息绝对是一个爆炸性的新闻。一经传开，大街上瞬间就没人了（都回家看电视去了），商店打烊，工厂停业。大家都把电视机的音量开到最大，教主的声音回响在大街小巷。\n\n小 L 给小 X 慌乱地打开自己家的电视机，发现所有频道都播放的是教主的采访节目（-\\_-bbb）。只见电视屏幕上的教主笑意吟吟，给大家出了一道难题：\n\n一个边长为 $n$ 的大菱形被均匀地划分成了 $n\\times n$ 个边长为 $1$ 的小菱形组成的网格，但是网格中部分边被抹去了，小 $L$ 想知道，大菱形内有多少个平行四边形，这些平行四边形内不存在边（平行四边形内是空的）。\n\n教主说，如果谁写出了程序，移动用户请将程序发送到 xxxx，联通用户请将程序发送到 xxxx……如果答对这个题，将有机会参加抽奖，大奖将是教主签名的 Orz 教主 T-Shirt 一件！这个奖品太具有诱惑力了。于是你需要编一个程序完成这么一道题。\n", "inputFormat": "对于 Diamond A，其输入为：\n>输入的第一行为一个正整数 $n$，为大菱形的边长。\n>\n>以下 $2n$ 行，每行 $2n$ 个字符，字符为空格，$\\verb!/!$，$\\verb!\\!$ 中的一个。\n>\n>前 $n$ 行，第 $i$ 行中居中有 $2i$ 个字符，这 $2i$ 个字符中位置为奇数的字符只可能为 $\\verb!/!$ 或者空格，位置为偶数的字符只可能为 $\\verb!\\!$ 或空格，若为空格表示这样一条边不存在，其余字符均为空格，描述了大菱形的上半部分。\n>\n>后 $n$ 行，第 $i$ 行居中有有 $2(n-i+1)$ 个字符，与上半部分类似地描述了菱形的下半部分。\n>\n>输入文件保证大菱形的轮廓上没有边被抹去。\n\nDiamond A 的输出为：\n\n第一行一个整数 $n$。\n\n以下 $2\\times n+1$ 行，代表了将该菱形逆时针旋转一个锐角，并将图形变形为矩形后各边有无，$1$ 表示有边，$0$ 表示无边。\n\n以上 Diamond A 的输出内容，即作为本题的输入格式。", "outputFormat": "输出仅包括一个整数，为满足要求的平行四边形个数。\n", "hint": "### 样例 1 解释\n\n原始输入数据为：\n\n```\n4\n   /\\   \n  /\\/\\  \n /\\  /\\ \n/  \\/  \\\n\\/\\/ / /\n \\/\\  / \n  \\ \\/  \n   \\/   \n```\n### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$n \\le 10$；\n- 对于 $40\\%$ 的数据，$n \\le 60$；\n- 对于 $60\\%$ 的数据，$n \\le 200$；\n- 对于 $100\\%$ 的数据，$n \\le 888$。", "locale": "zh-CN"}}}
{"pid": "P1742", "type": "P", "difficulty": 6, "samples": [["6\n8.0 9.0\n4.0 7.5\n1.0 2.0\n5.1 8.7\n9.0 2.0\n4.5 1.0", "5.0000000000\n5.0000000000 5.0000000000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["计算几何", "Special Judge"], "title": "最小圆覆盖", "background": "", "description": "给出 $N$ 个点，让你画一个最小的包含所有点的圆。", "inputFormat": "第一行一个整数 $N$ 表示点的个数。\n\n接下来 $N$ 行每行两个实数 $x_i,y_i$ 表示点的坐标。最多两位小数。", "outputFormat": "第一行一个实数表示圆的半径。\n\n第二行两个实数表示圆心的坐标。\n\n本题开启 spj，您的答案与标准答案误差不超过 $10^{-9}$ 时，视为正确。", "hint": "对于 $100\\%$ 的数据，$1\\leq N\\leq 10^5$，$|x_i|,|y_i|\\leq 10^4$。\n\n2022.2.26 添加 spj", "locale": "zh-CN", "translations": {"en": {"title": "Minimum Enclosing Circle", "background": "", "description": "Given $N$ points, find the smallest circle that contains all the points.", "inputFormat": "The first line contains an integer $N$ representing the number of points.\nThe next $N$ lines each contain two real numbers $x_i, y_i$ representing the coordinates of a point. Each value has at most two decimal places.", "outputFormat": "The first line contains a real number representing the circle’s radius.\nThe second line contains two real numbers representing the coordinates of the circle’s center.\nThis problem uses an SPJ (special judge); your answer is considered correct if its absolute error from the standard answer does not exceed $10^{-9}$.", "hint": "For $100\\%$ of the testdata, $1 \\leq N \\leq 10^5$, $|x_i|, |y_i| \\leq 10^4$.\nSPJ added on 2022-02-26.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最小圆覆盖", "background": "", "description": "给出 $N$ 个点，让你画一个最小的包含所有点的圆。", "inputFormat": "第一行一个整数 $N$ 表示点的个数。\n\n接下来 $N$ 行每行两个实数 $x_i,y_i$ 表示点的坐标。最多两位小数。", "outputFormat": "第一行一个实数表示圆的半径。\n\n第二行两个实数表示圆心的坐标。\n\n本题开启 spj，您的答案与标准答案误差不超过 $10^{-9}$ 时，视为正确。", "hint": "对于 $100\\%$ 的数据，$1\\leq N\\leq 10^5$，$|x_i|,|y_i|\\leq 10^4$。\n\n2022.2.26 添加 spj", "locale": "zh-CN"}}}
{"pid": "P1743", "type": "P", "difficulty": 3, "samples": [["6 4", "210"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "递推"], "title": "矩阵 III", "background": "usqwedf 改编系列题。\n", "description": "给定一个 $n\\times m$ 的矩阵，问从左上角走到右下角有多少条路径，保留 $17$ 位有效数字（也就是从第 $18$ 位有效数字以后均输出 $0$）。\n", "inputFormat": "一行两个正整数 $n,m$。\n", "outputFormat": "路径数目 $t$。\n", "hint": "$1\\le n\\le 10^8,1\\le m\\le 4$。\n\n", "locale": "zh-CN", "translations": {"en": {"title": "Matrix III", "background": "Adapted series problem by usqwedf.", "description": "Given an $n \\times m$ matrix, ask how many paths there are from the top-left corner to the bottom-right corner. Retain 17 significant digits (that is, starting from the 18th significant digit, output 0).", "inputFormat": "A single line with two positive integers $n, m$.", "outputFormat": "The number of paths $t$.", "hint": "Constraints: $1 \\le n \\le 10^8, 1 \\le m \\le 4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "矩阵 III", "background": "usqwedf 改编系列题。\n", "description": "给定一个 $n\\times m$ 的矩阵，问从左上角走到右下角有多少条路径，保留 $17$ 位有效数字（也就是从第 $18$ 位有效数字以后均输出 $0$）。\n", "inputFormat": "一行两个正整数 $n,m$。\n", "outputFormat": "路径数目 $t$。\n", "hint": "$1\\le n\\le 10^8,1\\le m\\le 4$。\n\n", "locale": "zh-CN"}}}
{"pid": "P1744", "type": "P", "difficulty": 3, "samples": [["5\r\n0 0\r\n2 0\r\n2 2\r\n0 2\r\n3 1\r\n5\r\n1 2\r\n1 3\r\n1 4\r\n2 5\r\n3 5\r\n1 5", "3.41"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "最短路", "队列"], "title": "采购特价商品", "background": "《爱与愁的故事第三弹·shopping》第一章。", "description": "中山路店山店海，成了购物狂爱与愁大神的“不归之路”。中山路上有 $n$（$n \\leq 100$）家店，每家店的坐标均在 $-10000$ 至 $10000$ 之间。其中的 $m$ 家店之间有通路。若有通路，则表示可以从一家店走到另一家店，通路的距离为两点间的直线距离。现在爱与愁大神要找出从一家店到另一家店之间的最短距离。你能帮爱与愁大神算出吗？", "inputFormat": "共 $n+m+3$ 行：\n\n第一行：整数 $n$。 \n\n接下来 $n$ 行：每行两个整数 $x$ 和 $y$，描述了一家店的坐标。 \n\n接下来一行：整数 $m$。 \n\n接下来 $m$ 行：每行描述一条通路，由两个整数 $i$ 和 $j$ 组成，表示第 $i$ 家店和第 $j$ 家店之间有通路。\n\n接下来一行：两个整数 $s$ 和 $t$，分别表示原点和目标店。 ", "outputFormat": "仅一行：一个实数（保留两位小数），表示从 $s$ 到 $t$ 的最短路径长度。", "hint": "对于 $100 \\%$ 的数据：$2 \\le n \\leq 100$，$1 \\le i, j, s, t \\le n$，$1 \\le m \\leq 1000$。 ", "locale": "zh-CN", "translations": {"en": {"title": "Buying Discounted Items", "background": "\"The Story of Love and Sorrow, Part 3 · shopping,\" Chapter 1.", "description": "There are shops everywhere along Zhongshan Road, which has become a point of no return for the shopaholic guru \"Love-and-Sorrow\" (Ai Yu Chou). There are $n$ ($n \\leq 100$) shops on Zhongshan Road, and each shop’s coordinates lie between $-10000$ and $10000$. Among them, there are $m$ roads connecting pairs of shops. If there is a road, you can travel from one shop to the other, and the length of the road is the straight-line distance between the two points. Now the guru \"Love-and-Sorrow\" wants to find the shortest distance between two shops. Can you help compute it?", "inputFormat": "A total of $n+m+3$ lines:\n\nThe first line: an integer $n$.\n\nThe next $n$ lines: each line contains two integers $x$ and $y$, giving the coordinates of a shop.\n\nThe next line: an integer $m$.\n\nThe next $m$ lines: each line describes a road, consisting of two integers $i$ and $j$, indicating there is a road between shop $i$ and shop $j$.\n\nThe next line: two integers $s$ and $t$, indicating the source shop and the target shop, respectively.", "outputFormat": "A single line: a real number (rounded to two decimal places), representing the length of the shortest path from $s$ to $t$.", "hint": "Constraints: For $100 \\%$ of the testdata: $2 \\le n \\leq 100$, $1 \\le i, j, s, t \\le n$, $1 \\le m \\leq 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "采购特价商品", "background": "《爱与愁的故事第三弹·shopping》第一章。", "description": "中山路店山店海，成了购物狂爱与愁大神的“不归之路”。中山路上有 $n$（$n \\leq 100$）家店，每家店的坐标均在 $-10000$ 至 $10000$ 之间。其中的 $m$ 家店之间有通路。若有通路，则表示可以从一家店走到另一家店，通路的距离为两点间的直线距离。现在爱与愁大神要找出从一家店到另一家店之间的最短距离。你能帮爱与愁大神算出吗？", "inputFormat": "共 $n+m+3$ 行：\n\n第一行：整数 $n$。 \n\n接下来 $n$ 行：每行两个整数 $x$ 和 $y$，描述了一家店的坐标。 \n\n接下来一行：整数 $m$。 \n\n接下来 $m$ 行：每行描述一条通路，由两个整数 $i$ 和 $j$ 组成，表示第 $i$ 家店和第 $j$ 家店之间有通路。\n\n接下来一行：两个整数 $s$ 和 $t$，分别表示原点和目标店。 ", "outputFormat": "仅一行：一个实数（保留两位小数），表示从 $s$ 到 $t$ 的最短路径长度。", "hint": "对于 $100 \\%$ 的数据：$2 \\le n \\leq 100$，$1 \\le i, j, s, t \\le n$，$1 \\le m \\leq 1000$。 ", "locale": "zh-CN"}}}
{"pid": "P1745", "type": "P", "difficulty": 6, "samples": [["3\n0 0 0\n0 1 0\n1 0 0", "3\nx1 -> !x2\nx3 -> x1\nx3 -> x2"], ["4\n0 0 1 0\n1 0 0 0\n1 0 1 1", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2016", "Special Judge", "ICPC", "CERC"], "title": "[CERC2016] Lost Logic", "background": "", "description": "Gustav is reading about *2-satisfiability*, a well known problem of assigning truth values to boolean\nvariables in order to satisfy a list of *constraints* — simple logical formulas involving two variables each.\n\nWe are using $n$ variables $x_1, x_2, \\cdots , x_n$ that can take on values $0$ (false) and $1$ (true). A constraint is a\nformula of the form $a\\to b$ where both $a$ and $b$ are possibly negated variables. As usual, $\\to$ denotes\nlogical implication: $a \\to b$ is $0$ only when $a$ is $1$ and $b$ is $0$. The negation of variable $a$ is denoted by $!a$.\n\nGiven an assignment of values to variables, we say that the constraint is *satisfied* if it evaluates to $1$.\nGustav has constructed a list of constraints and correctly concluded that there are *exactly three* different\nassignments of values to variables that satisfy all the constraints. Gustav has wrote down all three\nassignments but has, unfortunately, lost the list of constraints.\nGiven three assignments of $n$ values to variables, find any list consisting of at most $500$ constrains such\nthat the three given assignments are the *only* assignments that satisfy all the constraints.\n\n", "inputFormat": "The first line contains an integer $n (2 \\leq n \\leq 50)$ — the number of variables. Three lines follow, each\ndescribing one assignment. The $k$-th line contains $n$ space-separated integers $v_1^k,v_2^k,\\cdots,v_n^k$, where each $v_i^k$ is either $0$ or $1$ and denotes the value of the variable $x_i$ in the $k$-th assignment. All three assignments will be different.", "outputFormat": "If there is no solution output a single line containing the integer $−1$.\nOtherwise, the first line should contain an integer $m$ where $1 \\leq m \\leq 500$ — the number of constraints\nin your solution. The $k$-th of the following $m$ lines should contain the $k$-th constraint. Each constraint\nshould be a string constructed according to the following rules:\n\n- A *variable* is a string of the form “$\\texttt{x}i$” where $i$ is an integer between $1$ and $n$ inclusive written\n  without leading zeros.\n- A *literal* is a string consisting of a variable possibly preceded by the “$\\texttt{!}$” character.\n- A *constraint* is a string of the form “$a\\texttt{ -> }b$” where both $a$ and $b$ are literals. The implication sign\n  consists of the “minus” character and the “greater-than” character and there is a single space\n  character both before and after the implication sign.\n\n", "hint": "", "locale": "en", "translations": {"en": {"title": "[CERC2016] Lost Logic", "background": "", "description": "Gustav is reading about *2-satisfiability*, a well known problem of assigning truth values to boolean\nvariables in order to satisfy a list of *constraints* — simple logical formulas involving two variables each.\n\nWe are using $n$ variables $x_1, x_2, \\cdots , x_n$ that can take on values $0$ (false) and $1$ (true). A constraint is a\nformula of the form $a\\to b$ where both $a$ and $b$ are possibly negated variables. As usual, $\\to$ denotes\nlogical implication: $a \\to b$ is $0$ only when $a$ is $1$ and $b$ is $0$. The negation of variable $a$ is denoted by $!a$.\n\nGiven an assignment of values to variables, we say that the constraint is *satisfied* if it evaluates to $1$.\nGustav has constructed a list of constraints and correctly concluded that there are *exactly three* different\nassignments of values to variables that satisfy all the constraints. Gustav has wrote down all three\nassignments but has, unfortunately, lost the list of constraints.\nGiven three assignments of $n$ values to variables, find any list consisting of at most $500$ constrains such\nthat the three given assignments are the *only* assignments that satisfy all the constraints.\n\n", "inputFormat": "The first line contains an integer $n (2 \\leq n \\leq 50)$ — the number of variables. Three lines follow, each\ndescribing one assignment. The $k$-th line contains $n$ space-separated integers $v_1^k,v_2^k,\\cdots,v_n^k$, where each $v_i^k$ is either $0$ or $1$ and denotes the value of the variable $x_i$ in the $k$-th assignment. All three assignments will be different.", "outputFormat": "If there is no solution output a single line containing the integer $−1$.\nOtherwise, the first line should contain an integer $m$ where $1 \\leq m \\leq 500$ — the number of constraints\nin your solution. The $k$-th of the following $m$ lines should contain the $k$-th constraint. Each constraint\nshould be a string constructed according to the following rules:\n\n- A *variable* is a string of the form “$\\texttt{x}i$” where $i$ is an integer between $1$ and $n$ inclusive written\n  without leading zeros.\n- A *literal* is a string consisting of a variable possibly preceded by the “$\\texttt{!}$” character.\n- A *constraint* is a string of the form “$a\\texttt{ -> }b$” where both $a$ and $b$ are literals. The implication sign\n  consists of the “minus” character and the “greater-than” character and there is a single space\n  character both before and after the implication sign.\n\n", "hint": "", "locale": "en"}, "zh-CN": {"title": "[CERC2016] Lost Logic", "background": "", "description": "Gustav 正在阅读关于「2-可满足性」的问题，这是一个著名的问题，涉及为布尔变量分配真值以满足一系列「约束」——每个约束是涉及两个变量的简单逻辑公式。\n\n我们使用 $n$ 个变量 $x_1, x_2, \\cdots , x_n$，这些变量可以取值 $0$（假）和 $1$（真）。一个约束是形如 $a\\to b$ 的公式，其中 $a$ 和 $b$ 都是可能被取反的变量。通常，$\\to$ 表示逻辑蕴涵：$a \\to b$ 仅在 $a$ 为 $1$ 且 $b$ 为 $0$ 时为 $0$。变量 $a$ 的取反表示为 $!a$。\n\n给定变量的一个赋值，我们称约束在其结果为 $1$ 时被「满足」。Gustav 构建了一系列约束，并正确地得出有「恰好三种」不同的变量赋值可以满足所有约束。Gustav 写下了所有三种赋值，但不幸的是，他丢失了约束列表。\n给定三个变量的 $n$ 个值的赋值，找出一个最多包含 $500$ 个约束的列表，使得这三个给定的赋值是唯一满足所有约束的赋值。\n\n", "inputFormat": "第一行包含一个整数 $n (2 \\leq n \\leq 50)$ —— 变量的数量。接下来三行，每行描述一个赋值。第 $k$ 行包含 $n$ 个用空格分隔的整数 $v_1^k,v_2^k,\\cdots,v_n^k$，其中每个 $v_i^k$ 不是 $0$ 就是 $1$，表示第 $k$ 个赋值中变量 $x_i$ 的值。所有三个赋值将是不同的。", "outputFormat": "如果没有解，输出一行包含整数 $-1$。\n否则，第一行应包含一个整数 $m$，其中 $1 \\leq m \\leq 500$ —— 你解决方案中的约束数量。接下来的 $m$ 行中的第 $k$ 行应包含第 $k$ 个约束。每个约束应根据以下规则构造一个字符串：\n\n- 一个「变量」是形如「$\\texttt{x}i$」的字符串，其中 $i$ 是一个介于 $1$ 和 $n$ 之间的整数，且不含前导零。\n- 一个「文字」是一个可能以「$\\texttt{!}$」字符开头的变量组成的字符串。\n- 一个「约束」是形如「$a\\texttt{ -> }b$」的字符串，其中 $a$ 和 $b$ 都是文字。蕴涵符号由「减号」和「大于号」字符组成，且在蕴涵符号前后各有一个空格字符。\n\n", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P1746", "type": "P", "difficulty": 2, "samples": [["3\n001\n101\n100\n1 1 3 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "广度优先搜索 BFS", "队列"], "title": "离开中山路", "background": "《爱与愁的故事第三弹·shopping》最终章。\n", "description": "爱与愁大神买完东西后，打算坐车离开中山路。现在爱与愁大神在 $x_1,y_1$ 处，车站在 $x_2,y_2$ 处。现在给出一个 $n \\times n(n \\le 1000)$ 的地图，$0$ 表示马路，$1$ 表示店铺（不能从店铺穿过），爱与愁大神只能垂直或水平着在马路上行进。爱与愁大神为了节省时间，他要求最短到达目的地距离（每两个相邻坐标间距离为 $1$）。你能帮他解决吗？\n", "inputFormat": "第 $1$ 行包含一个数 $n$。\n\n第 $2$ 行到第 $n+1$ 行：整个地图描述（$0$ 表示马路，$1$ 表示店铺，注意两个数之间没有空格）。\n\n第 $n+2$ 行：四个数 $x_1,y_1,x_2,y_2$。", "outputFormat": "\n只有 $1$ 行，即最短到达目的地距离。\n", "hint": "\n对于 $20\\%$ 数据，满足 $1\\leq n \\le 100$。\n\n对于 $100\\%$ 数据，满足 $1\\leq n \\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Leaving Zhongshan Road", "background": "The final chapter of “A Story of Love and Sorrow III · shopping”.", "description": "After shopping, Aiyuchou plans to take a bus to leave Zhongshan Road. He is at $x_1,y_1$, and the station is at $x_2,y_2$. You are given an $n \\times n(n \\le 1000)$ map, where $0$ represents road and $1$ represents shop (cannot pass through shops). Aiyuchou can move only vertically or horizontally along roads. To save time, he wants the shortest distance to the destination (the distance between two adjacent coordinates is $1$). Can you help him?", "inputFormat": "Line $1$ contains an integer $n$.\n\nLines $2$ to $n+1$: the entire map description ($0$ represents road, $1$ represents shop; note there are no spaces between numbers).\n\nLine $n+2$: four integers $x_1,y_1,x_2,y_2$.", "outputFormat": "Only $1$ line, the shortest distance to the destination.", "hint": "For $20\\%$ of the testdata, $1\\leq n \\le 100$.\n\nFor $100\\%$ of the testdata, $1\\leq n \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "离开中山路", "background": "《爱与愁的故事第三弹·shopping》最终章。\n", "description": "爱与愁大神买完东西后，打算坐车离开中山路。现在爱与愁大神在 $x_1,y_1$ 处，车站在 $x_2,y_2$ 处。现在给出一个 $n \\times n(n \\le 1000)$ 的地图，$0$ 表示马路，$1$ 表示店铺（不能从店铺穿过），爱与愁大神只能垂直或水平着在马路上行进。爱与愁大神为了节省时间，他要求最短到达目的地距离（每两个相邻坐标间距离为 $1$）。你能帮他解决吗？\n", "inputFormat": "第 $1$ 行包含一个数 $n$。\n\n第 $2$ 行到第 $n+1$ 行：整个地图描述（$0$ 表示马路，$1$ 表示店铺，注意两个数之间没有空格）。\n\n第 $n+2$ 行：四个数 $x_1,y_1,x_2,y_2$。", "outputFormat": "\n只有 $1$ 行，即最短到达目的地距离。\n", "hint": "\n对于 $20\\%$ 数据，满足 $1\\leq n \\le 100$。\n\n对于 $100\\%$ 数据，满足 $1\\leq n \\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1747", "type": "P", "difficulty": 3, "samples": [["12 16\n18 10", "8 \n9"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "广度优先搜索 BFS"], "title": "好奇怪的游戏", "background": "《爱与愁的故事第三弹·shopping》娱乐章。\n\n调调口味来道水题。\n", "description": "爱与愁大神坐在公交车上无聊，于是玩起了手机。一款奇怪的游戏进入了爱与愁大神的眼帘：\\*\\*\\*（游戏名被打上了马赛克）。这个游戏类似象棋，但是只有黑白马各一匹，在点 $x_1,y_1$ 和 $x_2,y_2$ 上。它们得从点 $x_1,y_1$ 和 $x_2,y_2$ 走到 $(1,1)$。这个游戏与普通象棋不同的地方是：马可以走“日”，也可以像象走“田”。现在爱与愁大神想知道两匹马到 $(1,1)$ 的最少步数，你能帮他解决这个问题么？\n\n注意不能走到 $x$ 或 $y$ 坐标 $\\le 0$ 的位置。满足此限制的 $(x,y)$ 均可到达。", "inputFormat": "第一行两个整数 $x_1,y_1$。\n\n第二行两个整数 $x_2,y_2$。", "outputFormat": "第一行一个整数，表示黑马到 $(1,1)$ 的步数。\n\n第二行一个整数，表示白马到 $(1,1)$ 的步数。", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 数据，$1\\le x_1,y_1,x_2,y_2 \\le 20$。", "locale": "zh-CN", "translations": {"en": {"title": "A Very Strange Game", "background": "\"The Story of Love and Sorrow III · shopping\", entertainment chapter.\n\nLet’s change the pace with an easy problem.", "description": "Aiyuchou dashen was bored on the bus and started playing on the phone. A strange game caught Aiyuchou dashen’s eye: *** (the game’s name is mosaicked). The game is similar to chess, but there is only one black knight and one white knight, located at points $x_1, y_1$ and $x_2, y_2$. They must move from $x_1, y_1$ and $x_2, y_2$ to $(1, 1)$. This game differs from ordinary chess in that a knight can move in an L shape (“ma”) and can also move like an “elephant” (“xiang”) in Chinese chess, i.e., two squares diagonally.\n\nNote that you cannot move to any position where the $x$ or $y$ coordinate satisfies $\\le 0$. Any $(x, y)$ that satisfies this constraint is reachable.", "inputFormat": "The first line contains two integers $x_1, y_1$.\n\nThe second line contains two integers $x_2, y_2$.", "outputFormat": "The first line contains one integer, the number of steps for the black knight to reach $(1, 1)$.\n\nThe second line contains one integer, the number of steps for the white knight to reach $(1, 1)$.", "hint": "### Constraints\n\nFor $100\\%$ of the testdata, $1 \\le x_1, y_1, x_2, y_2 \\le 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "好奇怪的游戏", "background": "《爱与愁的故事第三弹·shopping》娱乐章。\n\n调调口味来道水题。\n", "description": "爱与愁大神坐在公交车上无聊，于是玩起了手机。一款奇怪的游戏进入了爱与愁大神的眼帘：\\*\\*\\*（游戏名被打上了马赛克）。这个游戏类似象棋，但是只有黑白马各一匹，在点 $x_1,y_1$ 和 $x_2,y_2$ 上。它们得从点 $x_1,y_1$ 和 $x_2,y_2$ 走到 $(1,1)$。这个游戏与普通象棋不同的地方是：马可以走“日”，也可以像象走“田”。现在爱与愁大神想知道两匹马到 $(1,1)$ 的最少步数，你能帮他解决这个问题么？\n\n注意不能走到 $x$ 或 $y$ 坐标 $\\le 0$ 的位置。满足此限制的 $(x,y)$ 均可到达。", "inputFormat": "第一行两个整数 $x_1,y_1$。\n\n第二行两个整数 $x_2,y_2$。", "outputFormat": "第一行一个整数，表示黑马到 $(1,1)$ 的步数。\n\n第二行一个整数，表示白马到 $(1,1)$ 的步数。", "hint": "### 数据范围及约定\n\n对于 $100\\%$ 数据，$1\\le x_1,y_1,x_2,y_2 \\le 20$。", "locale": "zh-CN"}}}
{"pid": "P1748", "type": "P", "difficulty": 3, "samples": [["30", "49"], ["1", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "线性数据结构", "USACO"], "title": "H 数", "background": null, "description": "所谓 H 数，是指只含有 $2,3,5,7$ 这些质因数的数，如 $630$ 是 H 数，而 $22$ 不是。\n\n（特别地，$1$ 是最小的 H 数）\n\n现在要求输出第 $n$ 小的 H 数。", "inputFormat": "一个正整数 $n\\ (1 \\le n \\le 10^4)$。", "outputFormat": "一个正整数表示答案。\n\n可以证明，答案不会超过 $2^{63}-1$。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "H Number", "background": "", "description": "An H number is a number that has no prime factors other than $2, 3, 5, 7$. For example, $630$ is an H number, whereas $22$ is not. In particular, $1$ is the smallest H number. Now, output the $n$-th smallest H number.", "inputFormat": "A positive integer $n\\ (1 \\le n \\le 10^4)$.", "outputFormat": "A single positive integer representing the answer. It can be proven that the answer will not exceed $2^{63}-1$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "H 数", "background": null, "description": "所谓 H 数，是指只含有 $2,3,5,7$ 这些质因数的数，如 $630$ 是 H 数，而 $22$ 不是。\n\n（特别地，$1$ 是最小的 H 数）\n\n现在要求输出第 $n$ 小的 H 数。", "inputFormat": "一个正整数 $n\\ (1 \\le n \\le 10^4)$。", "outputFormat": "一个正整数表示答案。\n\n可以证明，答案不会超过 $2^{63}-1$。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P1749", "type": "P", "difficulty": 1, "samples": [["1\n1 1\n", "Yes\n"], ["1\n5 3\n", "No\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "O2优化", "语言月赛"], "title": "[入门赛 #19] 分饼干 II", "background": "", "description": "老师有 $N$ 块饼干，要分给 $k$ 名小朋友。\n\n每名小朋友至少拿到一块饼干，老师想让每名小朋友拿到的饼干数量都不一样多，请问老师能否实现这个目标。", "inputFormat": "**本题单个测试点内有多组测试数据。**\n\n输入共 $T + 1$ 行。\n\n输入第一行为一个整数 $T$，代表测试数据组数。  \n接下来 $T$ 行，每行两个整数，分别为 $N,k$。", "outputFormat": "输出共 $T$ 行，依次对应 $T$ 组测试数据。如果该组测试数据\n\n- 可以实现，输出 `Yes`。\n- 无法实现，输出 `No`。", "hint": "### 数据规模与约定\n\n- 对于 $50\\%$ 的测试数据 $1 \\le k \\le 1000$，$1 \\le N \\le 10^6$。\n- 对于 $100\\%$ 的测试数据，$1 \\le k,N \\le 10^9$。\n- $1 \\le T \\le 10^5$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[入门赛 #19] 分饼干 II", "background": "", "description": "老师有 $N$ 块饼干，要分给 $k$ 名小朋友。\n\n每名小朋友至少拿到一块饼干，老师想让每名小朋友拿到的饼干数量都不一样多，请问老师能否实现这个目标。", "inputFormat": "**本题单个测试点内有多组测试数据。**\n\n输入共 $T + 1$ 行。\n\n输入第一行为一个整数 $T$，代表测试数据组数。  \n接下来 $T$ 行，每行两个整数，分别为 $N,k$。", "outputFormat": "输出共 $T$ 行，依次对应 $T$ 组测试数据。如果该组测试数据\n\n- 可以实现，输出 `Yes`。\n- 无法实现，输出 `No`。", "hint": "### 数据规模与约定\n\n- 对于 $50\\%$ 的测试数据 $1 \\le k \\le 1000$，$1 \\le N \\le 10^6$。\n- 对于 $100\\%$ 的测试数据，$1 \\le k,N \\le 10^9$。\n- $1 \\le T \\le 10^5$", "locale": "zh-CN"}}}
{"pid": "P1750", "type": "P", "difficulty": 3, "samples": [["6 3\n5 2 3 8 7 4", "2 3 5 4 7 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心"], "title": "出栈序列", "background": "", "description": "给定一个由 $n$ 个元素构成的序列，你需要将其中的元素按顺序压入一个大小为 $c$ 的栈并弹出。元素按它们的出栈顺序进行排列，会得到一个新的序列。我们知道，这样的序列会有很多种，请输出所有新序列中第一个元素最小的序列（若第一个元素最小的序列有多个，则令第二个尽可能小；若仍有多个，则令第三个最小，以此类推）。\n", "inputFormat": "第一行，两个整数 $n, c$。\n\n第二行，$n$ 个数，为序列中 $n$ 个元素的值。\n", "outputFormat": "输出 $n$ 个数，为满足要求的序列。\n", "hint": "对于 $40 \\%$ 的数据，$n \\le 12$；  \n对于 $100 \\%$ 的数据，$1 \\le c \\le n \\le 10000$，元素大小均在 $[1, 2 \\times {10}^9]$ 内。\n", "locale": "zh-CN", "translations": {"en": {"title": "Stack Pop Sequence", "background": "", "description": "Given a sequence of $n$ elements, you need to push its elements in order into a stack of capacity $c$ and pop them. Arranging the elements according to their pop order yields a new sequence. There can be many such sequences; among all new sequences, output the one whose first element is the smallest (if there are multiple with the smallest first element, make the second as small as possible; if still multiple, make the third smallest, and so on).", "inputFormat": "The first line contains two integers $n, c$.\n\nThe second line contains $n$ numbers, the values of the $n$ elements in the sequence.", "outputFormat": "Output $n$ numbers, the sequence that meets the requirement.", "hint": "For $40 \\%$ of the testdata, $n \\le 12$.\nFor $100 \\%$ of the testdata, $1 \\le c \\le n \\le 10000$, and each element lies in $[1, 2 \\times {10}^9]$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "出栈序列", "background": "", "description": "给定一个由 $n$ 个元素构成的序列，你需要将其中的元素按顺序压入一个大小为 $c$ 的栈并弹出。元素按它们的出栈顺序进行排列，会得到一个新的序列。我们知道，这样的序列会有很多种，请输出所有新序列中第一个元素最小的序列（若第一个元素最小的序列有多个，则令第二个尽可能小；若仍有多个，则令第三个最小，以此类推）。\n", "inputFormat": "第一行，两个整数 $n, c$。\n\n第二行，$n$ 个数，为序列中 $n$ 个元素的值。\n", "outputFormat": "输出 $n$ 个数，为满足要求的序列。\n", "hint": "对于 $40 \\%$ 的数据，$n \\le 12$；  \n对于 $100 \\%$ 的数据，$1 \\le c \\le n \\le 10000$，元素大小均在 $[1, 2 \\times {10}^9]$ 内。\n", "locale": "zh-CN"}}}
{"pid": "P1751", "type": "P", "difficulty": 5, "samples": [["4\r\n1 2\r\n1 3\r\n2 4\r\n2\r\n1\r\n2\r\n2\r\n2\r\n4", "1 0\r\n4 2\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "搜索", "图论", "深度优先搜索 DFS"], "title": "贪吃虫", "background": "我们都知道一个很著名的游戏——贪吃蛇。它的一大特点是当前一个食物被吃掉后，后一个食物才会出现。今天我们要做的另一个游戏——贪吃虫也很类似。\n", "description": "贪吃虫有 $k$ 条，在一棵有 $n$ 个节点的树上，每只虫子都在不同的节点上。第一个食物到来时，所有的 $k$ 只虫会从它们当前的位置出发，前往食物的位置。它们的移动遵循如下规则：\n\n- 这棵树上的任何两个节点之间有且仅有一条路，所有的贪吃虫沿着唯一的路径前往食物所在的位置；\n- 如果有一只贪吃虫到达了食物所在的位置，食物马上就被吃掉了；\n- 如果有另外一只贪吃虫在某一只贪吃虫通往食物的道路上，那么距离食物较远的那只虫子会停止移动，停留在当前的节点上；\n- 如果有多只虫子尝试进入同一个节点，只有编号最小的虫子能够到达，其它的贪吃虫停留在它们当前的位置上；\n- 吃掉食物的那只虫子会停留在食物的位置上；\n- 食物被吃掉之后会出现在树上的另外一个节点上。这时所有的贪吃虫会重新出发，尝试再一次吃掉食物。为了简化过程，我们假设从一个节点移动到相邻的节点需要花费一个单位时间。\n", "inputFormat": "第 $1$ 行一个整数 $n$，表示树上的节点个数。\n\n第 $2$ 至 $N$ 行，第 $i+1$ 行包含了一个两个整数 $:A_i,B_i$，表示从节点 $A_i$ 到节点 $B_i$ 有一条边直接相连。\n\n第 $N+1$ 行有一个整数 $k$，表示树上贪吃虫的个数。\n\n第 $N+2$ 至 $N+1+k$ 行，第 $N+1+i$ 行有一个整数 $P_i$，表示第 $i$ 只贪吃虫开始时的位置，任何两只贪吃虫的初始位置不相同。\n\n第 $N+2+k$ 行：有一个整数 $h$，表示食物一共在树上出现了多少次。\n\n接下来的 $h$ 行，每行一个整数，表示食物依次出现的位置。", "outputFormat": "输出一共包含 $k$ 行，第 $i$ 行有两个整数 $C_i$ 和 $D_i$。分别表示第 $i$ 只贪吃虫最终停留的位置和这只贪吃虫吃到食物的次数。", "hint": "\n### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 5000$，$1 \\le k \\le 1000$，$k \\le n$，$1 \\le h \\le 500$。", "locale": "zh-CN", "translations": {"en": {"title": "Greedy Worms", "background": "We all know a famous game—Snake. One of its features is that the next food appears only after the current one is eaten. Today we are going to play another similar game—“Greedy Worms”.", "description": "There are $k$ worms on a tree with $n$ nodes, and each worm is on a different node. When the first food appears, all $k$ worms start from their current positions and move toward the food. Their movement follows these rules:\n\n- Between any two nodes on the tree there is exactly one path, and all worms move along the unique path toward the food.\n- As soon as a worm reaches the food’s node, the food is immediately eaten.\n- If there is another worm on a worm’s path to the food, the worm that is farther from the food stops moving and stays at its current node.\n- If multiple worms attempt to enter the same node at the same time, only the worm with the smallest index can enter; the others remain at their current nodes.\n- The worm that eats the food stays at the food’s node.\n- After the food is eaten, it will appear at another node on the tree. At that moment, all worms start again from their current positions and try to eat the food. To simplify, moving from a node to an adjacent node takes one unit of time.", "inputFormat": "- The first line contains an integer $n$, the number of nodes in the tree.\n- The next $n - 1$ lines: line $i + 1$ contains two integers $A_i, B_i$ ($1 \\le i \\le n - 1$), indicating there is an edge between nodes $A_i$ and $B_i$.\n- The next line contains an integer $k$, the number of worms on the tree.\n- The next $k$ lines: line $n + 1 + i$ contains an integer $P_i$, the initial position of the $i$-th worm; no two worms share the same initial position.\n- The next line contains an integer $h$, the number of times the food appears.\n- The next $h$ lines: each line contains one integer, the position where the food appears, in order.", "outputFormat": "Output $k$ lines. On the $i$-th line, print two integers $C_i$ and $D_i$, denoting the final position of the $i$-th worm and the number of times this worm eats the food, respectively.", "hint": "Constraints\n\nFor all testdata: $1 \\le n \\le 5000$, $1 \\le k \\le 1000$, $k \\le n$, $1 \\le h \\le 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "贪吃虫", "background": "我们都知道一个很著名的游戏——贪吃蛇。它的一大特点是当前一个食物被吃掉后，后一个食物才会出现。今天我们要做的另一个游戏——贪吃虫也很类似。\n", "description": "贪吃虫有 $k$ 条，在一棵有 $n$ 个节点的树上，每只虫子都在不同的节点上。第一个食物到来时，所有的 $k$ 只虫会从它们当前的位置出发，前往食物的位置。它们的移动遵循如下规则：\n\n- 这棵树上的任何两个节点之间有且仅有一条路，所有的贪吃虫沿着唯一的路径前往食物所在的位置；\n- 如果有一只贪吃虫到达了食物所在的位置，食物马上就被吃掉了；\n- 如果有另外一只贪吃虫在某一只贪吃虫通往食物的道路上，那么距离食物较远的那只虫子会停止移动，停留在当前的节点上；\n- 如果有多只虫子尝试进入同一个节点，只有编号最小的虫子能够到达，其它的贪吃虫停留在它们当前的位置上；\n- 吃掉食物的那只虫子会停留在食物的位置上；\n- 食物被吃掉之后会出现在树上的另外一个节点上。这时所有的贪吃虫会重新出发，尝试再一次吃掉食物。为了简化过程，我们假设从一个节点移动到相邻的节点需要花费一个单位时间。\n", "inputFormat": "第 $1$ 行一个整数 $n$，表示树上的节点个数。\n\n第 $2$ 至 $N$ 行，第 $i+1$ 行包含了一个两个整数 $:A_i,B_i$，表示从节点 $A_i$ 到节点 $B_i$ 有一条边直接相连。\n\n第 $N+1$ 行有一个整数 $k$，表示树上贪吃虫的个数。\n\n第 $N+2$ 至 $N+1+k$ 行，第 $N+1+i$ 行有一个整数 $P_i$，表示第 $i$ 只贪吃虫开始时的位置，任何两只贪吃虫的初始位置不相同。\n\n第 $N+2+k$ 行：有一个整数 $h$，表示食物一共在树上出现了多少次。\n\n接下来的 $h$ 行，每行一个整数，表示食物依次出现的位置。", "outputFormat": "输出一共包含 $k$ 行，第 $i$ 行有两个整数 $C_i$ 和 $D_i$。分别表示第 $i$ 只贪吃虫最终停留的位置和这只贪吃虫吃到食物的次数。", "hint": "\n### 数据范围及约定\n\n对于全部数据，$1 \\le n \\le 5000$，$1 \\le k \\le 1000$，$k \\le n$，$1 \\le h \\le 500$。", "locale": "zh-CN"}}}
{"pid": "P1752", "type": "P", "difficulty": 6, "samples": [["2 3 1 1\r\n5 2\r\n5 3\r\n6 4\r\n5\r\n1", "3\r\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["贪心", "二分", "堆"], "title": "点菜", "background": "", "description": "有 $n$ 个人到一家餐馆点菜。这家餐馆总共有 $m$ 道菜，每一道菜都有两个属性——美味度和价格。这 $n$ 个人每周都会来一次，每次只会点一道菜或不点。在这 $n$ 个人中，有 $p$ 个人比较挑剔，他们只能接受美味度大于等于一定值的菜；有 $q$ 个人比较贫穷，他们只能点价格小于等于一定值的菜。现在请你计算：这些人至少要来几周，才可能能把餐馆的所有的菜都点过一遍？", "inputFormat": "第 $1$ 行，四个正整数 $n,m,p,q$。\n\n第 $2 \\sim m+1$ 行，每行两个数，表示菜的美味度和价格。\n\n第 $m+2$ 行 $p$ 个数，表示 $p$ 个挑剔的人分别能接受的菜的美味度的下限。\n\n第 $m+3$ 行 $q$ 个数，表示 $q$ 个贫穷的人分别能点的菜的价格的上限。", "outputFormat": "一行一个数，即这些人最少要来的周数。若不论这些人来几周都不可能把菜点过一遍，输出 $-1$。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$m \\le 20$；\n- 对于 $40\\%$ 的数据，$m \\le 2000$；\n- 对于 $100\\%$ 的数据，$p+q \\le n \\le 50000,m \\le 200000$。", "locale": "zh-CN", "translations": {"en": {"title": "Ordering Dishes", "background": "", "description": "There are $n$ people who come to a restaurant to order dishes. The restaurant has $m$ dishes in total, and each dish has two attributes: tastiness and price. These $n$ people come once every week, and each time each person will order at most one dish or none. Among these $n$ people, $p$ people are picky; they can only accept dishes with tastiness greater than or equal to a certain value. Another $q$ people are poor; they can only order dishes with price less than or equal to a certain value. Now please compute: what is the minimum number of weeks they need to come so that it is possible to have ordered all dishes at least once?", "inputFormat": "- Line $1$: four positive integers $n, m, p, q$.\n- Lines $2 \\sim m+1$: each line contains two numbers, the tastiness and the price of a dish.\n- Line $m+2$: $p$ numbers, the lower bounds of acceptable tastiness for each of the $p$ picky people.\n- Line $m+3$: $q$ numbers, the upper bounds of acceptable price for each of the $q$ poor people.", "outputFormat": "Output a single number: the minimum number of weeks needed. If it is impossible to have all dishes ordered at least once no matter how many weeks they come, output $-1$.", "hint": "Constraints and Conventions:\n- For $20\\%$ of the testdata, $m \\le 20$.\n- For $40\\%$ of the testdata, $m \\le 2000$.\n- For $100\\%$ of the testdata, $p+q \\le n \\le 50000$, $m \\le 200000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "点菜", "background": "", "description": "有 $n$ 个人到一家餐馆点菜。这家餐馆总共有 $m$ 道菜，每一道菜都有两个属性——美味度和价格。这 $n$ 个人每周都会来一次，每次只会点一道菜或不点。在这 $n$ 个人中，有 $p$ 个人比较挑剔，他们只能接受美味度大于等于一定值的菜；有 $q$ 个人比较贫穷，他们只能点价格小于等于一定值的菜。现在请你计算：这些人至少要来几周，才可能能把餐馆的所有的菜都点过一遍？", "inputFormat": "第 $1$ 行，四个正整数 $n,m,p,q$。\n\n第 $2 \\sim m+1$ 行，每行两个数，表示菜的美味度和价格。\n\n第 $m+2$ 行 $p$ 个数，表示 $p$ 个挑剔的人分别能接受的菜的美味度的下限。\n\n第 $m+3$ 行 $q$ 个数，表示 $q$ 个贫穷的人分别能点的菜的价格的上限。", "outputFormat": "一行一个数，即这些人最少要来的周数。若不论这些人来几周都不可能把菜点过一遍，输出 $-1$。", "hint": "### 数据范围及约定\n\n- 对于 $20\\%$ 的数据，$m \\le 20$；\n- 对于 $40\\%$ 的数据，$m \\le 2000$；\n- 对于 $100\\%$ 的数据，$p+q \\le n \\le 50000,m \\le 200000$。", "locale": "zh-CN"}}}
{"pid": "P1753", "type": "P", "difficulty": 7, "samples": [["3\n5 3 2 6", "90"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "图论", "区间 DP", "图论建模", "可并堆", "Ad-hoc"], "title": "矩阵链排序问题", "background": "", "description": "给定 $n$ 个矩阵，已知第 $i$ 个矩阵 $M_i$ 的大小为 $w_i$ 行 $w_{i+1}$ 列，而我们并不关心其内容。我们考虑将其按照顺序相乘（称其为链乘积）：\n\n$$ M = M_1 \\times M_2 \\times \\cdots \\times M_n $$\n\n矩阵乘法并不满足交换律，但是其满足结合律，因此我们可以通过合理安排结合顺序，尽可能减少需要的运算次数。在此题中，我们定义将一个大小为 $a \\times b$ 的矩阵乘以一个大小为 $b \\times c$ 的矩阵需要 $abc$ 次运算。\n\n请你算出将题目所给的 $n$ 个矩阵进行链乘积所需的最少运算数。为了方便起见，你不需要构造方案。", "inputFormat": "输入的第一行为一个正整数 $n$，代表矩阵的数量。\n\n接下来的一行包含 $n+1$ 个正整数，其中第 $i$ 个整数为 $w_i$，含义参考题目描述。", "outputFormat": "输出包含一个整数，代表最小运算次数。", "hint": "样例解释：样例告诉我们有 $n = 3$ 个矩阵，其大小分别是 $5 \\times 3$，$3 \\times 2$ 和 $2 \\times 6$。分别考虑两种乘法顺序：\n\n- 先将 $M_1$ 和 $M_2$ 相乘得到一个 $5 \\times 2$ 的矩阵，然后和 $M_3$ 相乘，此时运算次数为 $5 \\times 3 \\times 2 + 5 \\times 2 \\times 6 = 90$；\n- 先将 $M_2$ 和 $M_3$ 相乘得到一个 $3 \\times 6$ 的矩阵，然后和 $M_1$ 相乘，此时运算次数为 $3 \\times 2 \\times 6 + 5 \\times 3 \\times 6 = 126$。\n\n本题要求运算次数最少，因此答案为 $90$。\n\n---\n\n对所有的数据，$1 \\leq n \\leq 2 \\times 10^6$，$1 \\leq w \\leq 10^4$。其中：\n\n- 对 $30\\%$ 的数据，满足 $n \\leq 500$；\n- 对另外 $30\\%$ 的数据，满足 $n \\leq 2 \\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "矩阵链排序问题", "background": "", "description": "给定 $n$ 个矩阵，已知第 $i$ 个矩阵 $M_i$ 的大小为 $w_i$ 行 $w_{i+1}$ 列，而我们并不关心其内容。我们考虑将其按照顺序相乘（称其为链乘积）：\n\n$$ M = M_1 \\times M_2 \\times \\cdots \\times M_n $$\n\n矩阵乘法并不满足交换律，但是其满足结合律，因此我们可以通过合理安排结合顺序，尽可能减少需要的运算次数。在此题中，我们定义将一个大小为 $a \\times b$ 的矩阵乘以一个大小为 $b \\times c$ 的矩阵需要 $abc$ 次运算。\n\n请你算出将题目所给的 $n$ 个矩阵进行链乘积所需的最少运算数。为了方便起见，你不需要构造方案。", "inputFormat": "输入的第一行为一个正整数 $n$，代表矩阵的数量。\n\n接下来的一行包含 $n+1$ 个正整数，其中第 $i$ 个整数为 $w_i$，含义参考题目描述。", "outputFormat": "输出包含一个整数，代表最小运算次数。", "hint": "样例解释：样例告诉我们有 $n = 3$ 个矩阵，其大小分别是 $5 \\times 3$，$3 \\times 2$ 和 $2 \\times 6$。分别考虑两种乘法顺序：\n\n- 先将 $M_1$ 和 $M_2$ 相乘得到一个 $5 \\times 2$ 的矩阵，然后和 $M_3$ 相乘，此时运算次数为 $5 \\times 3 \\times 2 + 5 \\times 2 \\times 6 = 90$；\n- 先将 $M_2$ 和 $M_3$ 相乘得到一个 $3 \\times 6$ 的矩阵，然后和 $M_1$ 相乘，此时运算次数为 $3 \\times 2 \\times 6 + 5 \\times 3 \\times 6 = 126$。\n\n本题要求运算次数最少，因此答案为 $90$。\n\n---\n\n对所有的数据，$1 \\leq n \\leq 2 \\times 10^6$，$1 \\leq w \\leq 10^4$。其中：\n\n- 对 $30\\%$ 的数据，满足 $n \\leq 500$；\n- 对另外 $30\\%$ 的数据，满足 $n \\leq 2 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1754", "type": "P", "difficulty": 3, "samples": [["2\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "Catalan 数"], "title": "球迷购票问题", "background": "", "description": "盛况空前的足球赛即将举行。球赛门票售票处排起了球迷购票长龙。\n\n按售票处规定，每位购票者限购一张门票，且每张票售价为 $50$ 元。在排成长龙的球迷中有 $n$ 个人手持面值 $50$ 元的钱币，另有 $n$ 个人手持面值 $100$ 元的钱币。假设售票处在开始售票时没有零钱。试问这 $2n$ 个球迷有多少种排队方式可使售票处不致出现找不出钱的尴尬局面。\n\n例如当 $n=2$ 时，用 A 表示手持 $50$ 元面值的球迷，用 $B$ 表示手持 $100$ 元钱的球迷。则最多可以得到以下两组不同的排队方式，使售票员不至于找不出钱。\n\n\n- 第一种：$\\mathtt{[A,A,B,B]}$；\n- 第二种：$\\mathtt{[A,B,A,B]}$。\n\n对于给定的 $n$，计算 $2n$ 个球迷有多少种排队方式，可以使售票处不至于找不出钱。\n", "inputFormat": "一个整数，代表 $n$ 的值。\n", "outputFormat": "一个整数，表示方案数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$0 \\le n \\le 20$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Fans Ticket Purchase Problem", "background": "", "description": "A grand football match is about to take place. A long line of fans has formed at the ticket office.\n\nAccording to the rules of the ticket office, each buyer may purchase at most one ticket, and each ticket costs $50$ yuan. In the line, there are $n$ people holding $50$-yuan bills and another $n$ people holding $100$-yuan bills. Suppose the ticket office has no change at the start of sales. How many queueing orders of these $2n$ fans will ensure the ticket office never faces the embarrassment of being unable to make change?\n\nFor example, when $n=2$, let A denote a fan holding a $50$-yuan bill and B denote a fan holding a $100$-yuan bill. Then there are at most the following two different queueing orders that ensure the clerk can always make change.\n\n- First: $\\mathtt{[A,A,B,B]}$.\n- Second: $\\mathtt{[A,B,A,B]}$.\n\nGiven $n$, compute how many queueing orders of $2n$ fans will ensure the ticket office can always make change.", "inputFormat": "A single integer representing the value of $n$.", "outputFormat": "A single integer, the number of valid queueing orders.", "hint": "### Constraints and Conventions\n\nFor all testdata, $0 \\le n \\le 20$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "球迷购票问题", "background": "", "description": "盛况空前的足球赛即将举行。球赛门票售票处排起了球迷购票长龙。\n\n按售票处规定，每位购票者限购一张门票，且每张票售价为 $50$ 元。在排成长龙的球迷中有 $n$ 个人手持面值 $50$ 元的钱币，另有 $n$ 个人手持面值 $100$ 元的钱币。假设售票处在开始售票时没有零钱。试问这 $2n$ 个球迷有多少种排队方式可使售票处不致出现找不出钱的尴尬局面。\n\n例如当 $n=2$ 时，用 A 表示手持 $50$ 元面值的球迷，用 $B$ 表示手持 $100$ 元钱的球迷。则最多可以得到以下两组不同的排队方式，使售票员不至于找不出钱。\n\n\n- 第一种：$\\mathtt{[A,A,B,B]}$；\n- 第二种：$\\mathtt{[A,B,A,B]}$。\n\n对于给定的 $n$，计算 $2n$ 个球迷有多少种排队方式，可以使售票处不至于找不出钱。\n", "inputFormat": "一个整数，代表 $n$ 的值。\n", "outputFormat": "一个整数，表示方案数。\n", "hint": "### 数据范围及约定\n\n对于全部数据，$0 \\le n \\le 20$。\n", "locale": "zh-CN"}}}
{"pid": "P1755", "type": "P", "difficulty": 2, "samples": [["1\n1\n", "1=1"], ["1\n10", "10=2+8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "数学", "洛谷原创"], "title": "斐波那契的拆分", "background": "无", "description": "已知任意一个正整数都可以拆分为若干个斐波纳契数，现在，让你求出 $n$ 的拆分方法。\n", "inputFormat": "第一行一个整数 $t$，表示有 $t$ 组数据。\n\n接下来 $t$ 行，每行一个整数 $n$（如题）。", "outputFormat": "$t$ 行，每行一个字符串，表示拆分方法（格式：$n=a_1+a_2+a_3+\\ldots+a_n$ ），要求从小到大输出。\n", "hint": "若有多组数据，以个数最小的为准，若仍有多组，输出右边尽量大的一组。\n\n对于$100\\%$的数据，$t \\leq 1000$，$1 \\leq n \\leq 10^{9}$。", "locale": "zh-CN", "translations": {"en": {"title": "Fibonacci Decomposition", "background": "", "description": "It is known that any positive integer can be decomposed into several Fibonacci numbers. Now, you are asked to find a decomposition of $n$.", "inputFormat": "The first line contains an integer $t$, the number of test cases.\n\nThen follow $t$ lines, each containing an integer $n$ (as described).", "outputFormat": "Output $t$ lines. Each line contains a string representing a decomposition in the format $n = a_1 + a_2 + a_3 + \\ldots + a_k$, and the summands must be listed from small to large.", "hint": "If there are multiple valid decompositions, choose the one with the fewest summands. If there is still more than one, output the one whose rightmost summands are as large as possible.\n\nFor $100\\%$ of the testdata, $t \\leq 1000$, $1 \\leq n \\leq 10^{9}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "斐波那契的拆分", "background": "无", "description": "已知任意一个正整数都可以拆分为若干个斐波纳契数，现在，让你求出 $n$ 的拆分方法。\n", "inputFormat": "第一行一个整数 $t$，表示有 $t$ 组数据。\n\n接下来 $t$ 行，每行一个整数 $n$（如题）。", "outputFormat": "$t$ 行，每行一个字符串，表示拆分方法（格式：$n=a_1+a_2+a_3+\\ldots+a_n$ ），要求从小到大输出。\n", "hint": "若有多组数据，以个数最小的为准，若仍有多组，输出右边尽量大的一组。\n\n对于$100\\%$的数据，$t \\leq 1000$，$1 \\leq n \\leq 10^{9}$。", "locale": "zh-CN"}}}
{"pid": "P1756", "type": "P", "difficulty": 7, "samples": [["2\n1 1\n1 2\n1\n1 2\n1\n0.00001 0.001 0.1 1\n", "5.1415927"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["计算几何", "高精度", "2009", "NOI", "提交答案", "Special Judge", "二分图"], "title": "[NOI2009] 描边", "background": "", "description": "小 Z 是一位杰出的数学家。聪明的他特别喜欢研究一些数学小问题。\n\n有一天，他在一张纸上选择了 $n$ 个点，并用铅笔将它们两两连接起来，构成 $\\dfrac{n(n-1)}{2}$ 条线段。由于铅笔很细，可以认为这些线段的宽度为 $0$。\n\n望着这些线段，小 Z 陷入了冥想中。他认为这些线段中的一部分比较重要，需要进行强调。因此小 Z 拿出了毛笔，将它们重新进行了描边。毛笔画在纸上，会形成一个半径为 $r$ 的圆。在对一条线段进行描边时，毛笔的中心（即圆心）将从线段的一个端点开始，沿着该线段描向另一个端点。下图即为在一张 $4$ 个点的图中，对其中一条线段进行描边强调后的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h92i5d69.png)\n\n现在，小 Z 非常想知道在描边之后纸面上共有多大面积的区域被强调，你能帮助他解答这个问题么？", "inputFormat": "本题是一道提交答案型试题，所有的输入文件 `path1.in` $\\sim$ `path10.in` 已在相应目录下。\n\n输入文件请点击 [这里](http://pan.baidu.com/s/1gfeLZqz) 下载。\n\n输入文件的第一行为一个正整数 $n$，表示选择的点的数目。\n\n第二行至第 $n+1$ 行，其中：第 $i+1$ 行中为两个实数 $x_i,y_i$，表示点 $i$ 的坐标为 $(x_i,y_i)$。\n\n第 $n+2$ 行为一个正整数 $m$，表示小 Z 认为比较重要的线段的条数。\n\n第 $n+3$ 行至第 $n+m+2$ 行，每行有两个正整数 $a,b$，表示一条线段。其中 $a,b$ 两个数分别表示该线段的两个端点的编号。\n\n第 $n+m+3$ 行中为一个实数 $r$，表示毛笔在纸上形成的圆的半径。\n\n第 $n+m+4$ 行中为四个实数 $p_1,p_2,p_3,p_4$，即评分使用的参数。", "outputFormat": "输出文件 `path*.out` 仅一行一个数，即为描边后被强调区域的总面积。", "hint": "每个测试点单独评分。\n\n本题设有 $4$ 个评分参数 $p_1,p_2,p_3,p_4$（$p_1 \\lt p_2 \\lt p_3 \\lt p_4$），已在输入文件中给出。\n\n你的得分将按照如下规则给出：\n\n- 若你的答案与标准答案相差不超过 $p_1$，则该测试点你将得到满分；\n- 否则，若你的答案与标准答案相差不超过 $p_2$，则你将得到该测试点 $70\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_3$，则你将得到该测试点 $40\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_4$，则你将得到该测试点 $10\\%$ 的分数；\n- 否则，该测试点你的得分为 $0$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Outline", "background": "# Description\n\nXiao Z is an outstanding mathematician. Being clever, he especially enjoys studying small mathematical problems.\n\nOne day, he chose $n$ points on a sheet of paper and connected every pair with a pencil, forming $\\dfrac{n(n-1)}{2}$ segments. Since the pencil is very thin, we can consider these segments to have width $0$.\n\nLooking at these segments, Xiao Z fell into deep thought. He believed some of these segments were more important and needed emphasis. So he took out a brush and restroked them. When the brush touches the paper, it forms a disk of radius $r$. While stroking a segment, the center of the brush (i.e., the center of the disk) starts from one endpoint and moves along the segment to the other endpoint. The figure below shows the result of emphasizing one segment in a configuration with $4$ points.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h92i5d69.png)\n\nNow, Xiao Z wants to know the total area on the paper that is emphasized after stroking. Can you help him answer this question?", "description": "", "inputFormat": "", "outputFormat": "The output file `path*.out` contains exactly one line with one number, which is the total area emphasized after stroking.", "hint": "Each test point is scored independently.\n\nThis problem has $4$ scoring parameters $p_1, p_2, p_3, p_4$ ($p_1 \\lt p_2 \\lt p_3 \\lt p_4$), which are given in the input file.\n\nYour score will be determined by the following rules:\n- If your answer differs from the standard answer by no more than $p_1$, you will receive full score for that test point.\n- Otherwise, if your answer differs from the standard answer by no more than $p_2$, you will receive $70\\%$ of the score for that test point.\n- Otherwise, if your answer differs from the standard answer by no more than $p_3$, you will receive $40\\%$ of the score for that test point.\n- Otherwise, if your answer differs from the standard answer by no more than $p_4$, you will receive $10\\%$ of the score for that test point.\n- Otherwise, your score for that test point will be $0$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 描边", "background": "", "description": "小 Z 是一位杰出的数学家。聪明的他特别喜欢研究一些数学小问题。\n\n有一天，他在一张纸上选择了 $n$ 个点，并用铅笔将它们两两连接起来，构成 $\\dfrac{n(n-1)}{2}$ 条线段。由于铅笔很细，可以认为这些线段的宽度为 $0$。\n\n望着这些线段，小 Z 陷入了冥想中。他认为这些线段中的一部分比较重要，需要进行强调。因此小 Z 拿出了毛笔，将它们重新进行了描边。毛笔画在纸上，会形成一个半径为 $r$ 的圆。在对一条线段进行描边时，毛笔的中心（即圆心）将从线段的一个端点开始，沿着该线段描向另一个端点。下图即为在一张 $4$ 个点的图中，对其中一条线段进行描边强调后的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h92i5d69.png)\n\n现在，小 Z 非常想知道在描边之后纸面上共有多大面积的区域被强调，你能帮助他解答这个问题么？", "inputFormat": "本题是一道提交答案型试题，所有的输入文件 `path1.in` $\\sim$ `path10.in` 已在相应目录下。\n\n输入文件请点击 [这里](http://pan.baidu.com/s/1gfeLZqz) 下载。\n\n输入文件的第一行为一个正整数 $n$，表示选择的点的数目。\n\n第二行至第 $n+1$ 行，其中：第 $i+1$ 行中为两个实数 $x_i,y_i$，表示点 $i$ 的坐标为 $(x_i,y_i)$。\n\n第 $n+2$ 行为一个正整数 $m$，表示小 Z 认为比较重要的线段的条数。\n\n第 $n+3$ 行至第 $n+m+2$ 行，每行有两个正整数 $a,b$，表示一条线段。其中 $a,b$ 两个数分别表示该线段的两个端点的编号。\n\n第 $n+m+3$ 行中为一个实数 $r$，表示毛笔在纸上形成的圆的半径。\n\n第 $n+m+4$ 行中为四个实数 $p_1,p_2,p_3,p_4$，即评分使用的参数。", "outputFormat": "输出文件 `path*.out` 仅一行一个数，即为描边后被强调区域的总面积。", "hint": "每个测试点单独评分。\n\n本题设有 $4$ 个评分参数 $p_1,p_2,p_3,p_4$（$p_1 \\lt p_2 \\lt p_3 \\lt p_4$），已在输入文件中给出。\n\n你的得分将按照如下规则给出：\n\n- 若你的答案与标准答案相差不超过 $p_1$，则该测试点你将得到满分；\n- 否则，若你的答案与标准答案相差不超过 $p_2$，则你将得到该测试点 $70\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_3$，则你将得到该测试点 $40\\%$ 的分数；\n- 否则，若你的答案与标准答案相差不超过 $p_4$，则你将得到该测试点 $10\\%$ 的分数；\n- 否则，该测试点你的得分为 $0$。", "locale": "zh-CN"}}}
{"pid": "P1757", "type": "P", "difficulty": 2, "samples": [["45 3\n10 10 1\n10 5 1\n50 400 2", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "背包 DP"], "title": "通天之分组背包", "background": ":::info[管理员备注]{open}\n本题数据实际满足 $a_i,b_i$ 为非负整数，且 $0\\le c_i\\le 10^4$。鉴于此题为分组背包经典例题，不会加入 $a_i,b_i,c_i$ 为负数之类的无意义的 hack 数据。\n:::\n\n直达通天路·小 A 历险记第二篇", "description": "自 $01$ 背包问世之后，小 A 对此深感兴趣。一天，小 A 去远游，却发现他的背包不同于 $01$ 背包，他的物品大致可分为 $k$ 组，每组中的物品相互冲突，现在，他想知道最大的利用价值是多少。", "inputFormat": "两个数 $m,n$，表示一共有 $n$ 件物品，背包能承受的最大重量为 $m$。\n\n接下来 $n$ 行，每行 $3$ 个数 $a_i,b_i,c_i$，表示物品的重量，利用价值，所属组数。", "outputFormat": "一个数，最大的利用价值。", "hint": "$0 \\leq m \\leq 1000$，$1 \\leq n \\leq 1000$，$1\\leq k\\leq 100$，$a_i, b_i, c_i$ 在 `int` 范围内。", "locale": "zh-CN", "translations": {"en": {"title": "Tongtian: Group Knapsack", "background": "Direct to the Skyroad · Xiao A's Adventure II.", "description": "After the $01$ knapsack came out, Xiao A became very interested. One day, Xiao A went on a trip and found that his backpack was different from the $01$ knapsack. His items can be roughly divided into $k$ groups, and items within the same group are mutually exclusive (you may choose at most one item from each group). Now he wants to know the maximum total value he can obtain.", "inputFormat": "Two integers $m,n$, indicating there are $n$ items in total, and the backpack can bear a maximum weight of $m$.\n\nThen $n$ lines follow. Each line contains 3 integers $a_i,b_i,c_i$, representing the item's weight, value, and group index.", "outputFormat": "One integer: the maximum total value.", "hint": "$0 \\leq m \\leq 1000$, $1 \\leq n \\leq 1000$, $1\\leq k\\leq 100$, $a_i, b_i, c_i$ are within the `int` range.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "通天之分组背包", "background": ":::info[管理员备注]{open}\n本题数据实际满足 $a_i,b_i$ 为非负整数，且 $0\\le c_i\\le 10^4$。鉴于此题为分组背包经典例题，不会加入 $a_i,b_i,c_i$ 为负数之类的无意义的 hack 数据。\n:::\n\n直达通天路·小 A 历险记第二篇", "description": "自 $01$ 背包问世之后，小 A 对此深感兴趣。一天，小 A 去远游，却发现他的背包不同于 $01$ 背包，他的物品大致可分为 $k$ 组，每组中的物品相互冲突，现在，他想知道最大的利用价值是多少。", "inputFormat": "两个数 $m,n$，表示一共有 $n$ 件物品，背包能承受的最大重量为 $m$。\n\n接下来 $n$ 行，每行 $3$ 个数 $a_i,b_i,c_i$，表示物品的重量，利用价值，所属组数。", "outputFormat": "一个数，最大的利用价值。", "hint": "$0 \\leq m \\leq 1000$，$1 \\leq n \\leq 1000$，$1\\leq k\\leq 100$，$a_i, b_i, c_i$ 在 `int` 范围内。", "locale": "zh-CN"}}}
{"pid": "P1758", "type": "P", "difficulty": 5, "samples": [["2 1\nAB\nB\n", "5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "2009", "NOI"], "title": "[NOI2009] 管道取珠", "background": "", "description": "管道取珠是小 X 很喜欢的一款游戏。在本题中，我们将考虑该游戏的一个简单改版。游戏画面如图 1 所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p4r2ip9.png)\n\n游戏初始时，左侧上下两个管道分别有一定数量的小球（有深色球和浅色球两种类型），而右侧输出管道为空。每一次操作，可以从左侧选择一个管道，并将该管道中最右侧的球推入右边输出管道。\n\n例如：我们首先从下管道中移一个球到输出管道中，将得到图 2 所示的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xj1kay44.png)\n\n假设上管道中有 $n$ 个球, 下管道中有 $m$ 个球，则整个游戏过程需要进行 $n+m$ 次操作，即将所有左侧管道中的球移入输出管道。最终 $n+m$ 个球在输出管道中从右到左形成输出序列。\n\n爱好数学的小 X 知道，他共有 $\\dbinom{n+m}{m}$ 种不同的操作方式，而不同的操作方式可能导致相同的输出序列。举个例子，对于图 3 所示的游戏情形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0m1t5d3h.png)\n\n我们用 A 表示浅色球，B 表示深色球。并设移动上管道右侧球的操作为 U，移动下管道右侧球的操作为 D，则共有 $\\binom{2+1}{1}=3$ 种不同的操作方式，分别为 UUD，UDU，DUU；最终在输出管道中形成的输出序列（从右到左）分别为 BAB，BBA，BBA。可以发现后两种操作方式将得到同样的输出序列。\n\n假设最终可能产生的不同种类的输出序列共有 $K$ 种，其中：第 $i$ 种输出序列的产生方式（即不同的操作方式数目）有 $a_i$ 个。聪明的小 X 早已知道，\n\n$$\n\\sum a_i=\\binom{n+m}{m}\n$$\n\n因此，小 X 希望计算得到：\n\n$$\n\\sum a_i^2\n$$\n\n你能帮助他计算这个值么？由于这个值可能很大，因此只需要输出该值对 $1024523$ 取模后的结果。\n", "inputFormat": "输入文件中的第一行为两个整数 $n,m$，分别表示上下两个管道中球的数目。\n\n第二行中为一个长度为 $n$ 的字符串，表示上管道中从左到右球的类型。其中：A 表示浅色球，B 表示深色球。\n\n第三行中为一个长度为 $m$ 的字符串，表示下管道中从左到右球的类型。\n\n保证两个字符串都只包含 A,B 两个字母。", "outputFormat": "输出一个整数，即为 $\\sum a_i^2$ 对 $1024523$ 取模的结果。\n", "hint": "### 样例解释\n\n样例对应图 3。\n\n共有两种不同的输出序列形式，序列 BAB 有 $1$ 种产生方式，而序列 BBA 有 $2$ 种产生方式，因此答案为 $5$。\n\n### 数据范围\n\n- 对于 $30\\%$ 的数据，满足 $m,n \\leq 12$；\n- 对于 $100\\%$ 的数据，满足 $1 \\leq m,n \\leq 500$。", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2009] Collecting Beads from Pipes", "background": "", "description": "Collecting beads from pipes is a game that Little X likes very much. In this problem, we consider a simplified version of the game. The game screen is shown in Figure 1:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p4r2ip9.png)\n\nInitially, the upper and lower pipes on the left each contain some balls (there are two types: dark and light), and the output pipe on the right is empty. In each operation, you can choose one of the left pipes and push the rightmost ball in that pipe into the output pipe on the right.\n\nFor example, if we first move one ball from the lower pipe to the output pipe, we get the situation shown in Figure 2.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xj1kay44.png)\n\nSuppose there are $n$ balls in the upper pipe and $m$ balls in the lower pipe. Then the entire process requires $n+m$ operations, i.e., moving all balls from the left pipes into the output pipe. Finally, the $n+m$ balls form an output sequence in the output pipe from right to left.\n\nMath-loving Little X knows that there are $\\dbinom{n+m}{m}$ different ways to operate, but different operation sequences may result in the same output sequence. For example, for the game situation shown in Figure 3:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0m1t5d3h.png)\n\nWe use A to denote light-colored balls and B to denote dark-colored balls. Let U denote moving the rightmost ball from the upper pipe, and D denote moving the rightmost ball from the lower pipe. Then there are $\\binom{2+1}{1}=3$ different operation sequences: UUD, UDU, DUU. The resulting output sequences (from right to left) in the output pipe are BAB, BBA, and BBA, respectively. We can see that the last two operation sequences produce the same output sequence.\n\nSuppose there are $K$ different output sequences in total, and the $i$-th output sequence can be produced by $a_i$ different operation sequences. Clever Little X already knows that\n$$\n\\sum a_i=\\binom{n+m}{m}\n$$\nTherefore, Little X wants to compute\n$$\n\\sum a_i^2\n$$\nCan you help him compute this value? Since the value may be large, you only need to output the result modulo $1024523$.", "inputFormat": "The first line contains two integers $n,m$, the numbers of balls in the upper and lower pipes, respectively.\n\nThe second line is a string of length $n$, representing the types of balls in the upper pipe from left to right. Here, A denotes a light-colored ball and B denotes a dark-colored ball.\n\nThe third line is a string of length $m$, representing the types of balls in the lower pipe from left to right.\n\nIt is guaranteed that both strings contain only the letters A and B.", "outputFormat": "Output a single integer, which is $\\sum a_i^2$ modulo $1024523$.", "hint": "Sample Explanation\n\nThe sample corresponds to Figure 3.\n\nThere are two different output sequences. The sequence BAB has $1$ way to produce it, and the sequence BBA has $2$ ways to produce it, so the answer is $5$.\n\nConstraints\n\n- For $30\\%$ of the testdata, $m,n \\leq 12$.\n- For $100\\%$ of the testdata, $1 \\leq m,n \\leq 500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2009] 管道取珠", "background": "", "description": "管道取珠是小 X 很喜欢的一款游戏。在本题中，我们将考虑该游戏的一个简单改版。游戏画面如图 1 所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7p4r2ip9.png)\n\n游戏初始时，左侧上下两个管道分别有一定数量的小球（有深色球和浅色球两种类型），而右侧输出管道为空。每一次操作，可以从左侧选择一个管道，并将该管道中最右侧的球推入右边输出管道。\n\n例如：我们首先从下管道中移一个球到输出管道中，将得到图 2 所示的情况。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xj1kay44.png)\n\n假设上管道中有 $n$ 个球, 下管道中有 $m$ 个球，则整个游戏过程需要进行 $n+m$ 次操作，即将所有左侧管道中的球移入输出管道。最终 $n+m$ 个球在输出管道中从右到左形成输出序列。\n\n爱好数学的小 X 知道，他共有 $\\dbinom{n+m}{m}$ 种不同的操作方式，而不同的操作方式可能导致相同的输出序列。举个例子，对于图 3 所示的游戏情形：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0m1t5d3h.png)\n\n我们用 A 表示浅色球，B 表示深色球。并设移动上管道右侧球的操作为 U，移动下管道右侧球的操作为 D，则共有 $\\binom{2+1}{1}=3$ 种不同的操作方式，分别为 UUD，UDU，DUU；最终在输出管道中形成的输出序列（从右到左）分别为 BAB，BBA，BBA。可以发现后两种操作方式将得到同样的输出序列。\n\n假设最终可能产生的不同种类的输出序列共有 $K$ 种，其中：第 $i$ 种输出序列的产生方式（即不同的操作方式数目）有 $a_i$ 个。聪明的小 X 早已知道，\n\n$$\n\\sum a_i=\\binom{n+m}{m}\n$$\n\n因此，小 X 希望计算得到：\n\n$$\n\\sum a_i^2\n$$\n\n你能帮助他计算这个值么？由于这个值可能很大，因此只需要输出该值对 $1024523$ 取模后的结果。\n", "inputFormat": "输入文件中的第一行为两个整数 $n,m$，分别表示上下两个管道中球的数目。\n\n第二行中为一个长度为 $n$ 的字符串，表示上管道中从左到右球的类型。其中：A 表示浅色球，B 表示深色球。\n\n第三行中为一个长度为 $m$ 的字符串，表示下管道中从左到右球的类型。\n\n保证两个字符串都只包含 A,B 两个字母。", "outputFormat": "输出一个整数，即为 $\\sum a_i^2$ 对 $1024523$ 取模的结果。\n", "hint": "### 样例解释\n\n样例对应图 3。\n\n共有两种不同的输出序列形式，序列 BAB 有 $1$ 种产生方式，而序列 BBA 有 $2$ 种产生方式，因此答案为 $5$。\n\n### 数据范围\n\n- 对于 $30\\%$ 的数据，满足 $m,n \\leq 12$；\n- 对于 $100\\%$ 的数据，满足 $1 \\leq m,n \\leq 500$。", "locale": "zh-CN"}}}
{"pid": "P1759", "type": "P", "difficulty": 4, "samples": [["100 100 3\n50 60 289\n40 10 116\n50 50 106\n", "405 \n1 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "洛谷原创"], "title": "通天之潜水", "background": "直达通天路·小 A 历险记第三篇\n", "description": "在猴王的帮助下，小 A 终于走出了这篇荒山，却发现一条波涛汹涌的河拦在了自己的面前。河面上并没有船，但好在小 A 有 $n$ 个潜水工具。由于他还要背重重的背包，所以他只能背 $m$ 重的工具，又因为他的力气并不是无限的，河却很宽，所以他只能背有 $v$ 阻力的工具。但是这条河下有非常重要的数据，所以他希望能够停留的时间最久。于是他找到了你，让你告诉他方案。\n", "inputFormat": "三个数 $m, v, n$ 如题目所说。\n\n接下来 $n$ 行，每行三个数 $a_i, b_i, c_i$ 分别表示所含的重力，阻力，能够支撑的时间。\n", "outputFormat": "第一行一个数，表示最长的时间。\n\n接下来一行，若干个数，表示所选的物品。\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le m, v \\le 200$，$1 \\le n \\le 100$。\n\n数据保证一定有方案。\n\n若有多种方案，输出前面尽量小的方案。\n", "locale": "zh-CN", "translations": {"en": {"title": "Diving to the Heavens", "background": "Direct-to-Heaven Road: Xiao A’s Adventure, Part III.", "description": "", "inputFormat": "", "outputFormat": "On the first line, print one integer: the maximum total time.\n\nOn the next line, print the indices of the chosen items. Items are numbered from $1$ to $n$ in input order. If multiple optimal solutions exist, output the lexicographically smallest one by item indices. Print the indices in increasing order, separated by single spaces.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le m, v \\le 200$, $1 \\le n \\le 100$.\n\nIt is guaranteed that there exists at least one feasible solution.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "通天之潜水", "background": "直达通天路·小 A 历险记第三篇\n", "description": "在猴王的帮助下，小 A 终于走出了这篇荒山，却发现一条波涛汹涌的河拦在了自己的面前。河面上并没有船，但好在小 A 有 $n$ 个潜水工具。由于他还要背重重的背包，所以他只能背 $m$ 重的工具，又因为他的力气并不是无限的，河却很宽，所以他只能背有 $v$ 阻力的工具。但是这条河下有非常重要的数据，所以他希望能够停留的时间最久。于是他找到了你，让你告诉他方案。\n", "inputFormat": "三个数 $m, v, n$ 如题目所说。\n\n接下来 $n$ 行，每行三个数 $a_i, b_i, c_i$ 分别表示所含的重力，阻力，能够支撑的时间。\n", "outputFormat": "第一行一个数，表示最长的时间。\n\n接下来一行，若干个数，表示所选的物品。\n", "hint": "对于 $100 \\%$ 的数据，$1 \\le m, v \\le 200$，$1 \\le n \\le 100$。\n\n数据保证一定有方案。\n\n若有多种方案，输出前面尽量小的方案。\n", "locale": "zh-CN"}}}
{"pid": "P1760", "type": "P", "difficulty": 2, "samples": [["31", "2147483647"], ["15", "32767"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "高精度", "递推", "递归", "洛谷原创"], "title": "通天之汉诺塔", "background": "直达通天路·小A历险记第四篇\n", "description": "在你的帮助下，小 A 成功收集到了宝贵的数据，他终于来到了传说中连接通天路的通天山。但是这距离通天路仍然有一段距离，但是小 A 突然发现他没有地图！！！但是幸运的是，他在山脚下发现了一个宝箱。根据经验判断（小 A 有经验吗？），地图应该就在其中！\n\n在宝箱上，有三根柱子以及在一根柱子上的 $n$ 个圆盘。小 A 在经过很长时间判断后，觉得这就是 hanoi 塔！（这都要琢磨）。但是移动是需要时间的，所以小 A 必须要通过制造延寿药水来完成这项任务。现在，他请你告诉他需要多少步完成，以便他造足够的延寿药水。", "inputFormat": "一个数 $n$，表示有 $n$ 个圆盘。", "outputFormat": "一个数 $s$，表示需要 $s$ 步。", "hint": "### 数据范围及约定\n\n对于所有数据，$n \\le 15000$。", "locale": "zh-CN", "translations": {"en": {"title": "The Skyward Tower of Hanoi", "background": "Direct Path to the Sky Road · Xiao A’s Adventure, Part IV.", "description": "With your help, Xiao A has collected valuable data and finally reached the legendary Sky Mountain that connects to the Sky Road. However, there is still some distance to the Sky Road, and Xiao A suddenly realizes he has no map. Fortunately, he finds a treasure chest at the foot of the mountain. Based on experience (does Xiao A even have any?), he judges that the map should be inside.\n\nOn the chest, there are three pegs and $n$ disks stacked on one peg. After a long time thinking, Xiao A concludes that this is the Tower of Hanoi. Moving takes time, so he must brew a longevity potion to complete the task. Now, he asks you to tell him how many steps are needed, so that he can brew enough potion.", "inputFormat": "A single integer $n$, the number of disks.", "outputFormat": "A single integer $s$, the number of steps required.", "hint": "Constraints\n\nFor all testdata, $n \\le 15000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "通天之汉诺塔", "background": "直达通天路·小A历险记第四篇\n", "description": "在你的帮助下，小 A 成功收集到了宝贵的数据，他终于来到了传说中连接通天路的通天山。但是这距离通天路仍然有一段距离，但是小 A 突然发现他没有地图！！！但是幸运的是，他在山脚下发现了一个宝箱。根据经验判断（小 A 有经验吗？），地图应该就在其中！\n\n在宝箱上，有三根柱子以及在一根柱子上的 $n$ 个圆盘。小 A 在经过很长时间判断后，觉得这就是 hanoi 塔！（这都要琢磨）。但是移动是需要时间的，所以小 A 必须要通过制造延寿药水来完成这项任务。现在，他请你告诉他需要多少步完成，以便他造足够的延寿药水。", "inputFormat": "一个数 $n$，表示有 $n$ 个圆盘。", "outputFormat": "一个数 $s$，表示需要 $s$ 步。", "hint": "### 数据范围及约定\n\n对于所有数据，$n \\le 15000$。", "locale": "zh-CN"}}}
