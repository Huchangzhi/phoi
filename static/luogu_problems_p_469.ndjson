{"pid": "P10512", "type": "P", "difficulty": 4, "samples": [["5 2\n2 1 2 3 1", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "洛谷原创", "O2优化", "位运算", "洛谷月赛"], "title": "序列合并", "background": "", "description": "给定一个长度为 $n$ 的非负整数序列 $\\{a_n\\}$，你可以进行 $k$ 次操作，每次操作你选择两个相邻的数，把它们合并成它们的按位或。\n\n形式化地，一次操作中，你选择一个下标 $i$（$1 \\le i < n$），然后把原序列变成 $\\{a_1,a_2,\\cdots,a_i \\operatorname{or} a_{i+1},a_{i+2},\\cdots,a_n\\}$。\n\n求 $k$ 次操作后所有数按位与的最大值。", "inputFormat": "第一行包含两个正整数 $n,k$。\n\n第二行包含 $n$ 个非负整数，其中第 $i$ 个非负整数为 $a_i$。", "outputFormat": "输出一行，包含一个正整数，代表答案。", "hint": "**【样例解释】**\n\n一种合法的方案：\n\n- 第一次操作，选择第一个数和第二个数合并，序列变为 $\\{3,2,3,1\\}$。\n- 第二次操作，选择第三个数和第四个数合并，序列变为 $\\{3,2,3\\}$。\n\n最终所有数的按位与为 $2$。可以证明不存在更优的方案。\n\n**【数据范围】**\n\n- 对于 $25\\%$ 的数据，$n \\le 20$。\n- 对于另外 $25\\%$ 的数据，$k=n-2$。\n\n对于所有数据，保证 $1 \\le k<n \\le 2 \\times 10^5$，$0 \\le a_i < 2^{30}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "序列合并", "background": "", "description": "给定一个长度为 $n$ 的非负整数序列 $\\{a_n\\}$，你可以进行 $k$ 次操作，每次操作你选择两个相邻的数，把它们合并成它们的按位或。\n\n形式化地，一次操作中，你选择一个下标 $i$（$1 \\le i < n$），然后把原序列变成 $\\{a_1,a_2,\\cdots,a_i \\operatorname{or} a_{i+1},a_{i+2},\\cdots,a_n\\}$。\n\n求 $k$ 次操作后所有数按位与的最大值。", "inputFormat": "第一行包含两个正整数 $n,k$。\n\n第二行包含 $n$ 个非负整数，其中第 $i$ 个非负整数为 $a_i$。", "outputFormat": "输出一行，包含一个正整数，代表答案。", "hint": "**【样例解释】**\n\n一种合法的方案：\n\n- 第一次操作，选择第一个数和第二个数合并，序列变为 $\\{3,2,3,1\\}$。\n- 第二次操作，选择第三个数和第四个数合并，序列变为 $\\{3,2,3\\}$。\n\n最终所有数的按位与为 $2$。可以证明不存在更优的方案。\n\n**【数据范围】**\n\n- 对于 $25\\%$ 的数据，$n \\le 20$。\n- 对于另外 $25\\%$ 的数据，$k=n-2$。\n\n对于所有数据，保证 $1 \\le k<n \\le 2 \\times 10^5$，$0 \\le a_i < 2^{30}$。", "locale": "zh-CN"}}}
{"pid": "P10513", "type": "P", "difficulty": 5, "samples": [["6\n(()())\n5\n2 2 3\n1 1 3\n2 2 3\n2 4 6\n2 3 6", "1\n0\n1\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "洛谷原创", "O2优化", "洛谷月赛"], "title": "括号", "background": "", "description": "圆给了你一个长度为 $n$ 的字符串 $S$，$S$ 仅由 ```(``` 和 ```)``` 构成。\n\n她会对其做 $m$ 次操作，操作有两种类型：\n\n1. ```1 l r```，她会翻转 $l$ 到 $r$ 的括号，即 ```(``` 变 ```)```，```)``` 变 ```(```。\n1. ```2 l r```，她想知道区间 $\\left[ l,r\\right]$ 中最长合法括号子序列的长度除以 $2$ 的答案。\n\n\n圆认为以下的括号序列是合法的：\n\n1. 空序列是一个合法序列。\n\n1. 如果 ```A``` 是一个合法序列，则 ```(A)```  也是一个合法序列。\n\n1. 如果 ```A``` 和 ```B``` 都是合法序列，则 ```AB``` 也是一个合法序列。\n\n圆认为，序列 $a$ 的子序列是满足 $1\\le i_1<i_2<···<i_k \\le n$ 的序列 $[a_{i_1},a_{i_2},...a_{i_k}]$。\n\n由于操作太多了，她算不过来，请你帮帮她吧。\n", "inputFormat": "第一行一个整数 $n$。\n\n第二行一个长度为 $n$ 的字符串 $S$，保证仅由 ```(``` 和 ```)``` 构成 。\n\n第三行一行一个整数 $m$。\n\n接下来 $m$ 行，每行三个数 $op$，$l$，$r$，对应上面的两种操作。", "outputFormat": "对于每一个 $op=2$ 的操作，输出一行一个整数，表示答案。", "hint": "**【样例解释】**\n\n- 第一次截取的字符串是 ```()```，答案为 $1$。\n- 翻转后字符串变为 ```))(())```。\n- 第二次截取的字符串是 ```)(```，答案为 $0$。\n- 第三次截取的字符串是 ```())```，答案为 $1$。\n- 第四次截取的字符串是 ```(())```，答案为 $2$。\n\n**【数据范围】**\n\n- 对于 $10\\%$ 的数据，$1 \\leq n,m \\leq 500$；\n- 对于 $20\\%$ 的数据，$1 \\leq n,m \\leq 5000$；\n- 对于 $40\\%$ 的数据，$1 \\leq n,m \\leq 2\\times 10^5$；\n- 另有 $10\\%$ 的数据，满足 $op=2$ 且数据随机生成；\n- 另有 $15\\%$ 的数据，满足 $op=2$ 但不保证数据随机生成；\n\n对于所有数据，保证 $1\\le n \\le 5\\times 10^5$，$1\\le m \\le 5 \\times 10^5$，$1 \\le l \\le r \\le n$，$op \\in \\{1,2\\}$。数据有梯度。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "括号", "background": "", "description": "圆给了你一个长度为 $n$ 的字符串 $S$，$S$ 仅由 ```(``` 和 ```)``` 构成。\n\n她会对其做 $m$ 次操作，操作有两种类型：\n\n1. ```1 l r```，她会翻转 $l$ 到 $r$ 的括号，即 ```(``` 变 ```)```，```)``` 变 ```(```。\n1. ```2 l r```，她想知道区间 $\\left[ l,r\\right]$ 中最长合法括号子序列的长度除以 $2$ 的答案。\n\n\n圆认为以下的括号序列是合法的：\n\n1. 空序列是一个合法序列。\n\n1. 如果 ```A``` 是一个合法序列，则 ```(A)```  也是一个合法序列。\n\n1. 如果 ```A``` 和 ```B``` 都是合法序列，则 ```AB``` 也是一个合法序列。\n\n圆认为，序列 $a$ 的子序列是满足 $1\\le i_1<i_2<···<i_k \\le n$ 的序列 $[a_{i_1},a_{i_2},...a_{i_k}]$。\n\n由于操作太多了，她算不过来，请你帮帮她吧。\n", "inputFormat": "第一行一个整数 $n$。\n\n第二行一个长度为 $n$ 的字符串 $S$，保证仅由 ```(``` 和 ```)``` 构成 。\n\n第三行一行一个整数 $m$。\n\n接下来 $m$ 行，每行三个数 $op$，$l$，$r$，对应上面的两种操作。", "outputFormat": "对于每一个 $op=2$ 的操作，输出一行一个整数，表示答案。", "hint": "**【样例解释】**\n\n- 第一次截取的字符串是 ```()```，答案为 $1$。\n- 翻转后字符串变为 ```))(())```。\n- 第二次截取的字符串是 ```)(```，答案为 $0$。\n- 第三次截取的字符串是 ```())```，答案为 $1$。\n- 第四次截取的字符串是 ```(())```，答案为 $2$。\n\n**【数据范围】**\n\n- 对于 $10\\%$ 的数据，$1 \\leq n,m \\leq 500$；\n- 对于 $20\\%$ 的数据，$1 \\leq n,m \\leq 5000$；\n- 对于 $40\\%$ 的数据，$1 \\leq n,m \\leq 2\\times 10^5$；\n- 另有 $10\\%$ 的数据，满足 $op=2$ 且数据随机生成；\n- 另有 $15\\%$ 的数据，满足 $op=2$ 但不保证数据随机生成；\n\n对于所有数据，保证 $1\\le n \\le 5\\times 10^5$，$1\\le m \\le 5 \\times 10^5$，$1 \\le l \\le r \\le n$，$op \\in \\{1,2\\}$。数据有梯度。", "locale": "zh-CN"}}}
{"pid": "P10514", "type": "P", "difficulty": 4, "samples": [["5 5 2\n1 2 1 2 2", "793364682"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "概率论", "洛谷月赛"], "title": "考试", "background": "人生有梦，各自精彩。", "description": "有 $n$ 名同学去参加考试，考试有 $m$ 道题。\n\n每个学生的实力是相同的，但是每道题的难度可能不同。第 $i$ 道题会有随机的 $a_i$ 名同学做错。\n\n考试结束后，随机选出 $k$ 名同学，求出这些同学全部做对的概率。答案对 $998244353$ 取模。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n第二行 $m$ 个整数，第 $i$ 个数表示 $a_i$。", "outputFormat": "一个整数，表示答案取模后的结果。", "hint": "**【样例解释】**\n\n随机选出 $2$ 名同学全部做对的概率为 $\\frac{243}{25000}$，对 $998244353$ 取模后答案为 $793364682$。\n\n可以证明答案一定为有理数。若不了解有理数取模，可以参照[【模板】有理数取余](https://www.luogu.com.cn/problem/P2613)。\n\n**【数据范围】**\n\n- 对于 $30\\%$ 的数据，$1\\leq n,m \\leq 10$；\n- 另外有 $10\\%$ 的数据，$k=0$；\n- 另外有 $20\\%$ 的数据，$1 \\leq n \\leq 1000$，$1\\leq m \\leq 10^5$；\n\n对于所有数据，保证 $1\\leq n,m\\leq 10^5$，$0\\leq k,a_i\\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "考试", "background": "人生有梦，各自精彩。", "description": "有 $n$ 名同学去参加考试，考试有 $m$ 道题。\n\n每个学生的实力是相同的，但是每道题的难度可能不同。第 $i$ 道题会有随机的 $a_i$ 名同学做错。\n\n考试结束后，随机选出 $k$ 名同学，求出这些同学全部做对的概率。答案对 $998244353$ 取模。", "inputFormat": "第一行三个整数 $n,m,k$。\n\n第二行 $m$ 个整数，第 $i$ 个数表示 $a_i$。", "outputFormat": "一个整数，表示答案取模后的结果。", "hint": "**【样例解释】**\n\n随机选出 $2$ 名同学全部做对的概率为 $\\frac{243}{25000}$，对 $998244353$ 取模后答案为 $793364682$。\n\n可以证明答案一定为有理数。若不了解有理数取模，可以参照[【模板】有理数取余](https://www.luogu.com.cn/problem/P2613)。\n\n**【数据范围】**\n\n- 对于 $30\\%$ 的数据，$1\\leq n,m \\leq 10$；\n- 另外有 $10\\%$ 的数据，$k=0$；\n- 另外有 $20\\%$ 的数据，$1 \\leq n \\leq 1000$，$1\\leq m \\leq 10^5$；\n\n对于所有数据，保证 $1\\leq n,m\\leq 10^5$，$0\\leq k,a_i\\leq n$。", "locale": "zh-CN"}}}
{"pid": "P10515", "type": "P", "difficulty": 5, "samples": [["6\n5 2\n11 10\n17 12\n23 8\n31 12\n9999901 114514", "4\n2\n4\n11\n30\n16260"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["原根", "洛谷原创", "O2优化", "洛谷月赛"], "title": "转圈", "background": "", "description": "小 $\\delta$ 喜欢转圈圈。\n\n他有一个圈，被均匀分成了 $n$ 个格子，神奇的是，$n$ 是一个质数。第 $i$ 个格子上写着一个数 $i \\times m$，他现在站在第一个格子上。\n\n接下来他会看看脚下踩着的数是多少，然后向前走这么多格。他会一直反复这么做。\n\n求最终被小 $\\delta$ 踩到过的格子的数量。由于小 $\\delta$ 有很多圈圈，所以他会问你很多次。", "inputFormat": "第一行包含一个正整数 $T$，代表询问次数。\n\n对于每组询问，输入一行两个正整数 $n,m$。", "outputFormat": "对于每次询问，输出一行一个正整数，代表被踩到的格子的数量。", "hint": "**【样例解释】**\n\n以第一次询问为例，小 $\\delta$ 依次经过的格子编号为 $1 \\to 3 \\to 4 \\to 2 \\to 1 \\to \\cdots$，因此被踩到过的格子个数为 $4$。\n\n**【数据范围】**\n\n- 对于 $20\\%$ 的数据，$n \\le 10^3$，$T \\le 2 \\times 10^3$。\n- 对于另外 $40\\%$ 的数据，$T \\le 3 \\times 10^3$。\n- 对于另外 $40\\%$ 的数据，无特殊性质。\n\n对于所有数据，$1 \\le m < n \\le 10^7$，$1 \\le T \\le 4 \\times 10^5$。保证 $n$ 是质数。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "转圈", "background": "", "description": "小 $\\delta$ 喜欢转圈圈。\n\n他有一个圈，被均匀分成了 $n$ 个格子，神奇的是，$n$ 是一个质数。第 $i$ 个格子上写着一个数 $i \\times m$，他现在站在第一个格子上。\n\n接下来他会看看脚下踩着的数是多少，然后向前走这么多格。他会一直反复这么做。\n\n求最终被小 $\\delta$ 踩到过的格子的数量。由于小 $\\delta$ 有很多圈圈，所以他会问你很多次。", "inputFormat": "第一行包含一个正整数 $T$，代表询问次数。\n\n对于每组询问，输入一行两个正整数 $n,m$。", "outputFormat": "对于每次询问，输出一行一个正整数，代表被踩到的格子的数量。", "hint": "**【样例解释】**\n\n以第一次询问为例，小 $\\delta$ 依次经过的格子编号为 $1 \\to 3 \\to 4 \\to 2 \\to 1 \\to \\cdots$，因此被踩到过的格子个数为 $4$。\n\n**【数据范围】**\n\n- 对于 $20\\%$ 的数据，$n \\le 10^3$，$T \\le 2 \\times 10^3$。\n- 对于另外 $40\\%$ 的数据，$T \\le 3 \\times 10^3$。\n- 对于另外 $40\\%$ 的数据，无特殊性质。\n\n对于所有数据，$1 \\le m < n \\le 10^7$，$1 \\le T \\le 4 \\times 10^5$。保证 $n$ 是质数。\n", "locale": "zh-CN"}}}
{"pid": "P10516", "type": "P", "difficulty": 5, "samples": [["5 5\n23 4 3 3 7\n54 29 7 1 2\n1 1 5 114 1\n2 2 7 9\n3 1 5\n3 1 2\n3 3 4", "122\n93\n18"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "洛谷原创", "O2优化", "洛谷月赛"], "title": "数据结构", "background": "小 M 很喜欢数据结构。但是很遗憾，他没有进入省队。\n\n人生有梦，各自精彩。", "description": "给定两个长度为 $n$ 的序列 $a_i$ 和 $b_i$。有以下三种操作：\n\n1. 给定区间 $[l,r]$ 以及参数 $k,t$，把区间内满足 $a_i\\times b_i\\leq k$ 的位置的 $a_i$ 和 $b_i$ 分别加上 $t$。\n2. 给定 $i$ 和 $x,y$，将 $a_i$ 改为 $x$，$b_i$ 改为 $y$。\n3. 查询区间内每个位置 $a_i+b_i$ 的和。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示该数列数字的个数和操作的总个数。\n\n第二行包含 $n$ 个用空格分隔的整数，其中第 $i$ 个数字表示 $a_i$。\n\n第三行包含 $n$ 个用空格分隔的整数，其中第 $i$ 个数字表示 $b_i$。\n\n接下来 $m$ 行每行包含 $3$ 到 $5$ 个整数，表示一个操作，具体如下：\n\n1. `1 l r k t`：将区间 $[l,r]$ 进行一操作。\n2. `2 i x y`：将 $a_i$ 改为 $x$，$b_i$ 改为 $y$。\n3. `3 l r`：输出区间 $[l,r]$ 内每个数的和。\n", "outputFormat": "若干行，每行表示操作 $3$ 的答案。", "hint": "**【样例解释】**\n\n第一次修改后，序列 $a_i$ 为：$\\left\\{23,4,4,4,8\\right\\}$；序列 $b_i$ 为 $\\left\\{54,29,8,2,3\\right\\}$。\n\n第二次修改后，序列 $a_i$ 为：$\\left\\{23,7,4,4,8\\right\\}$；序列 $b_i$ 为 $\\left\\{54,9,8,2,3\\right\\}$。\n\n**【数据范围】**\n\n- 对于 $5\\%$ 的数据，$n,m\\le 5$；\n- 对于 $10\\%$ 的数据，$n,m\\leq 100$；\n- 对于 $25\\%$ 的数据，$n,m\\leq 5000$；\n- 对于另外 $5\\%$ 的数据，没有前两种操作；\n- 对于另外 $10\\%$ 的数据，没有第一种操作；\n- 对于另外 $20\\%$ 的数据，没有第二种操作；\n\n对于所有数据，$1\\leq n,m\\leq 10^5$，$0\\leq a_i,b_i,k,t,x,y\\leq10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "数据结构", "background": "小 M 很喜欢数据结构。但是很遗憾，他没有进入省队。\n\n人生有梦，各自精彩。", "description": "给定两个长度为 $n$ 的序列 $a_i$ 和 $b_i$。有以下三种操作：\n\n1. 给定区间 $[l,r]$ 以及参数 $k,t$，把区间内满足 $a_i\\times b_i\\leq k$ 的位置的 $a_i$ 和 $b_i$ 分别加上 $t$。\n2. 给定 $i$ 和 $x,y$，将 $a_i$ 改为 $x$，$b_i$ 改为 $y$。\n3. 查询区间内每个位置 $a_i+b_i$ 的和。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示该数列数字的个数和操作的总个数。\n\n第二行包含 $n$ 个用空格分隔的整数，其中第 $i$ 个数字表示 $a_i$。\n\n第三行包含 $n$ 个用空格分隔的整数，其中第 $i$ 个数字表示 $b_i$。\n\n接下来 $m$ 行每行包含 $3$ 到 $5$ 个整数，表示一个操作，具体如下：\n\n1. `1 l r k t`：将区间 $[l,r]$ 进行一操作。\n2. `2 i x y`：将 $a_i$ 改为 $x$，$b_i$ 改为 $y$。\n3. `3 l r`：输出区间 $[l,r]$ 内每个数的和。\n", "outputFormat": "若干行，每行表示操作 $3$ 的答案。", "hint": "**【样例解释】**\n\n第一次修改后，序列 $a_i$ 为：$\\left\\{23,4,4,4,8\\right\\}$；序列 $b_i$ 为 $\\left\\{54,29,8,2,3\\right\\}$。\n\n第二次修改后，序列 $a_i$ 为：$\\left\\{23,7,4,4,8\\right\\}$；序列 $b_i$ 为 $\\left\\{54,9,8,2,3\\right\\}$。\n\n**【数据范围】**\n\n- 对于 $5\\%$ 的数据，$n,m\\le 5$；\n- 对于 $10\\%$ 的数据，$n,m\\leq 100$；\n- 对于 $25\\%$ 的数据，$n,m\\leq 5000$；\n- 对于另外 $5\\%$ 的数据，没有前两种操作；\n- 对于另外 $10\\%$ 的数据，没有第一种操作；\n- 对于另外 $20\\%$ 的数据，没有第二种操作；\n\n对于所有数据，$1\\leq n,m\\leq 10^5$，$0\\leq a_i,b_i,k,t,x,y\\leq10^5$。", "locale": "zh-CN"}}}
{"pid": "P10517", "type": "P", "difficulty": 6, "samples": [["4 4 6\n1 2\n2 3\n3 1\n3 4\n1\n3\n3\n4\n4\n1", "3\n2\n3\n1\n3\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "O2优化", "洛谷月赛", "圆方树"], "title": "国土规划", "background": "", "description": "一个国家的领土中，有 $n$ 座城市和 $m$ 条道路。这 $m$ 条道路将 $n$ 座城市连通，即任意两座城市存在道路直接或间接可达。两座城市之间可能有多条道路，但不存在一条道路两端连通同一座城市。\n\n该国家要选定一些城市，重点发展。具体而言，每个城市有一个重要值 $a_i$，其中 $a_i=0$ 表示城市不需要重点发展，如果 $a_i=1$ 表示城市需要重点发展。初始时所有 $a_i=0$。\n\n该国家有 $q$ 次规划，每次规划会选定一个城市 $x$，令 $a_x \\gets 1-a_x$。\n\n每次规划后，作为首席规划师的你要求出这样的城市 $p$ 的数量，使得 $a_p=0$，且城市 $p$ 消失（连带与城市 $p$ 直接相连的道路一起消失）后，任意满足 $a_u=a_v=1$ 的两个城市 $u,v$ 均存在道路直接或间接可达。\n\n需要注意，规划只是在纸面上假想的，并不会真的删去任何城市。", "inputFormat": "输入的第一行包含由空格隔开的三个正整数 $n,m,q$。\n\n接下来的 $m$ 行，每行包含两个正整数 $u,v$，描述一条连接 $u,v$ 两座城市的双向道路。\n\n接下来的 $q$ 行，每行包含一个正整数 $x$，描述一次规划。", "outputFormat": "输出 $q$ 行，每行包含一个非负整数，代表每次修改后问题的答案。", "hint": "**【样例解释】**\n\n以第四次规划为例，此时需要重点发展的城市为 $1$ 和 $4$，那么 $a_p=0$ 的城市只有 $2$ 和 $3$。如果城市 $2$ 消失，那么存在路径 $1-3-4$。如果城市 $3$ 消失，那么 $1$ 和 $4$ 互相不可到达。所以满足条件的城市只有 $2$，答案为 $1$。\n\n**【数据范围】**\n\n- 对于 $15\\%$ 的数据，$n,q \\le 300$，$m \\le 500$。\n- 对于另外 $15\\%$ 的数据，$m=n-1$，且对于所有道路，$v=u+1$。\n- 对于另外 $20\\%$ 的数据，$m=n-1$。\n\n对于所有数据，$2 \\le n \\le 10^5$，$n-1\\le m \\le 2 \\times 10^5$，$1 \\le q \\le 2 \\times 10^5$，$1 \\le u,v,x \\le n$，$u \\neq v$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "国土规划", "background": "", "description": "一个国家的领土中，有 $n$ 座城市和 $m$ 条道路。这 $m$ 条道路将 $n$ 座城市连通，即任意两座城市存在道路直接或间接可达。两座城市之间可能有多条道路，但不存在一条道路两端连通同一座城市。\n\n该国家要选定一些城市，重点发展。具体而言，每个城市有一个重要值 $a_i$，其中 $a_i=0$ 表示城市不需要重点发展，如果 $a_i=1$ 表示城市需要重点发展。初始时所有 $a_i=0$。\n\n该国家有 $q$ 次规划，每次规划会选定一个城市 $x$，令 $a_x \\gets 1-a_x$。\n\n每次规划后，作为首席规划师的你要求出这样的城市 $p$ 的数量，使得 $a_p=0$，且城市 $p$ 消失（连带与城市 $p$ 直接相连的道路一起消失）后，任意满足 $a_u=a_v=1$ 的两个城市 $u,v$ 均存在道路直接或间接可达。\n\n需要注意，规划只是在纸面上假想的，并不会真的删去任何城市。", "inputFormat": "输入的第一行包含由空格隔开的三个正整数 $n,m,q$。\n\n接下来的 $m$ 行，每行包含两个正整数 $u,v$，描述一条连接 $u,v$ 两座城市的双向道路。\n\n接下来的 $q$ 行，每行包含一个正整数 $x$，描述一次规划。", "outputFormat": "输出 $q$ 行，每行包含一个非负整数，代表每次修改后问题的答案。", "hint": "**【样例解释】**\n\n以第四次规划为例，此时需要重点发展的城市为 $1$ 和 $4$，那么 $a_p=0$ 的城市只有 $2$ 和 $3$。如果城市 $2$ 消失，那么存在路径 $1-3-4$。如果城市 $3$ 消失，那么 $1$ 和 $4$ 互相不可到达。所以满足条件的城市只有 $2$，答案为 $1$。\n\n**【数据范围】**\n\n- 对于 $15\\%$ 的数据，$n,q \\le 300$，$m \\le 500$。\n- 对于另外 $15\\%$ 的数据，$m=n-1$，且对于所有道路，$v=u+1$。\n- 对于另外 $20\\%$ 的数据，$m=n-1$。\n\n对于所有数据，$2 \\le n \\le 10^5$，$n-1\\le m \\le 2 \\times 10^5$，$1 \\le q \\le 2 \\times 10^5$，$1 \\le u,v,x \\le n$，$u \\neq v$。", "locale": "zh-CN"}}}
{"pid": "P10518", "type": "P", "difficulty": 1, "samples": [["27 2 15 95\n", "344\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 交小西的礼物", "background": "小西给参加这场比赛的大家都准备了精美的礼物！\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qjzqxmt1.png)", "description": "小西准备给 $a$ 名志愿者，$b$ 支单挑队，$c$ 支双人队，$d$ 支三人队的**每个人**恰好发一份奖品，她想知道一共要发几份奖品？\n", "inputFormat": "输入数据共一行四个整数 $a,b,c,d$ ($0 \\leq a, b, c, d \\leq 200$)，含义如上所述。", "outputFormat": "输出数据共一行一个整数，表示总共要发的奖品数。", "hint": "聪慧美丽善良的交小西想提升大家的参赛体验，她提示你：ABC 题都是简单题，**后面的题目是并不保证难度递增的**。当你在某一道题卡住时，不妨看看排行榜上其他队伍在做什么题，一般来说通过人数较多的题目会更简单哦～", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 交小西的礼物", "background": "小西给参加这场比赛的大家都准备了精美的礼物！\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qjzqxmt1.png)", "description": "小西准备给 $a$ 名志愿者，$b$ 支单挑队，$c$ 支双人队，$d$ 支三人队的**每个人**恰好发一份奖品，她想知道一共要发几份奖品？\n", "inputFormat": "输入数据共一行四个整数 $a,b,c,d$ ($0 \\leq a, b, c, d \\leq 200$)，含义如上所述。", "outputFormat": "输出数据共一行一个整数，表示总共要发的奖品数。", "hint": "聪慧美丽善良的交小西想提升大家的参赛体验，她提示你：ABC 题都是简单题，**后面的题目是并不保证难度递增的**。当你在某一道题卡住时，不妨看看排行榜上其他队伍在做什么题，一般来说通过人数较多的题目会更简单哦～", "locale": "zh-CN"}}}
{"pid": "P10519", "type": "P", "difficulty": 2, "samples": [["-1 0\n11\n0.5\n", "2.0000000000\n"], ["-1 0\n10\n0.5\n", "0.0000000000\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "Special Judge", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 转呀转", "background": "乐奈：灯，你听我说\n\n乐奈：洗衣机好有趣的\n\n灯：诶……洗衣机……？\n\n乐奈：衣服一直转呀转，观察那个好有意思\n\n乐奈：灯也可以去试试\n\n灯：诶……？好的……！\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3mkfdq00.png)\n\n  \"一直转呀转好有意思！\"\n", "description": "rana 和 tomorin 在观察洗衣机里的衣服的时候，发现衣服做匀速圆周运动。她们知道衣服的初始位置，观察时间以及洗衣机转速，希望你能帮她们求出初始位置到观察结束时位置的位移长度。衣服可以看成质点。\n", "inputFormat": "输入共三行。\n\n第一行两个整数 $x,y$ ($-1000 \\leq x, y \\leq 1000$)，表示衣服的初始位置**在以洗衣机中心为坐标原点的平面直角坐标系下的**坐标，单位是单位长度。\n\n第二行一个实数 $t$ ($0 \\leq t \\leq 100$)，表示观察时间，单位是单位时间。\n\n第三行一个实数 $v$ ($0 \\leq v \\leq 100$)，表示洗衣机转速，单位是**圈**每单位时间。", "outputFormat": "输出仅一行。\n\n输出一个实数表示答案，与标准答案的绝对误差或相对误差不超过 $10^{-6}$ 的答案视为正确。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 转呀转", "background": "乐奈：灯，你听我说\n\n乐奈：洗衣机好有趣的\n\n灯：诶……洗衣机……？\n\n乐奈：衣服一直转呀转，观察那个好有意思\n\n乐奈：灯也可以去试试\n\n灯：诶……？好的……！\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3mkfdq00.png)\n\n  \"一直转呀转好有意思！\"\n", "description": "rana 和 tomorin 在观察洗衣机里的衣服的时候，发现衣服做匀速圆周运动。她们知道衣服的初始位置，观察时间以及洗衣机转速，希望你能帮她们求出初始位置到观察结束时位置的位移长度。衣服可以看成质点。\n", "inputFormat": "输入共三行。\n\n第一行两个整数 $x,y$ ($-1000 \\leq x, y \\leq 1000$)，表示衣服的初始位置**在以洗衣机中心为坐标原点的平面直角坐标系下的**坐标，单位是单位长度。\n\n第二行一个实数 $t$ ($0 \\leq t \\leq 100$)，表示观察时间，单位是单位时间。\n\n第三行一个实数 $v$ ($0 \\leq v \\leq 100$)，表示洗衣机转速，单位是**圈**每单位时间。", "outputFormat": "输出仅一行。\n\n输出一个实数表示答案，与标准答案的绝对误差或相对误差不超过 $10^{-6}$ 的答案视为正确。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10520", "type": "P", "difficulty": 1, "samples": [["114 514\n", "314.000000 -346.410162"], ["0 0\n", "0.000000 0.000000"], ["1000000 -1000000\n", "0.000000 1732050.807569"], ["3 5\n", "4.000000 -1.732051"], ["-19 23\n", "2.000000 -36.373067"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "Special Judge", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 榕树之心", "background": "你说的对，但是《榕树之心》是一款由 Corycle, HCCH, MCPlayer542, Veritas, wh 在游戏设计与开发课上研发的策略性多人对战游戏，游戏发生在一个热带雨林，在这里，你将扮演一棵榕树的「核心」，与其他榕树竞争养分和生存空间……\n\n", "description": "游戏地图由若干正六边形构成，玩家可以控制榕树核心从一个六边形的**中心**移动的另一个相邻六边形的**中心**从而加固树枝、清理害虫、长出新枝条或者摧毁其他榕树。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g6dpzmiq.png)\n\n平面的正六边形网格可以看做若干立方体堆叠出的立体图形的正等轴测图（如图），每个立方体的投影都是一个正六边形，于是立方体的空间坐标可以用来表示正六边形坐标。我们规定某一立方体中心位于原点，所有正方体中心坐标 $(x,y,z)$ 都满足 $x+y+z=0$，所以可以省略一维，用 $(x,y)$ 来描述其对应正六边形的中心。这种坐标系统叫做**纵向坐标**。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4s74ssjt.png)\n\n游戏使用**纵向坐标**描绘六边形的位置，为了让玩家直观地看到核心的位置，Veritas 需要将其转化为**平面直角坐标**以便在屏幕上显示，**请你帮助他将纵向坐标转换成平面直角坐标**。\n\n纵向坐标 $(x,y)$ 到平面直角坐标 $(x^\\prime,y^\\prime)$ 的转换公式为：\n\n$$x^{\\prime} = \\frac{1}{2} x + \\frac{1}{2} y$$\n\n$$y^{\\prime} = \\frac{\\sqrt{3}}{2} x - \\frac{\\sqrt{3}}{2} y $$\n\n", "inputFormat": "仅一行，有两个用空格隔开的整数 $x,y$，表示纵向坐标 $(x,y)$ ($-10^6\\le x\\le 10^6,-10^6\\le y\\le 10^6$)。", "outputFormat": "一行两个实数 $x^{\\prime}$ 和 $y^{\\prime}$，用空格隔开，表示转换得到的平面直角坐标 $(x^\\prime,y^\\prime)$。\n\n当你输出的两个实数与答案的相对误差或者绝对误差的较小者不超过 $10^{-6}$ 时视为正确。", "hint": "《榕树之心》游戏链接（线下参赛队伍赛时无法访问该链接）：[core-of-banyan.github.io](https://core-of-banyan.github.io/)。\n\n欢迎大家（在赛后）游玩。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 榕树之心", "background": "你说的对，但是《榕树之心》是一款由 Corycle, HCCH, MCPlayer542, Veritas, wh 在游戏设计与开发课上研发的策略性多人对战游戏，游戏发生在一个热带雨林，在这里，你将扮演一棵榕树的「核心」，与其他榕树竞争养分和生存空间……\n\n", "description": "游戏地图由若干正六边形构成，玩家可以控制榕树核心从一个六边形的**中心**移动的另一个相邻六边形的**中心**从而加固树枝、清理害虫、长出新枝条或者摧毁其他榕树。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g6dpzmiq.png)\n\n平面的正六边形网格可以看做若干立方体堆叠出的立体图形的正等轴测图（如图），每个立方体的投影都是一个正六边形，于是立方体的空间坐标可以用来表示正六边形坐标。我们规定某一立方体中心位于原点，所有正方体中心坐标 $(x,y,z)$ 都满足 $x+y+z=0$，所以可以省略一维，用 $(x,y)$ 来描述其对应正六边形的中心。这种坐标系统叫做**纵向坐标**。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4s74ssjt.png)\n\n游戏使用**纵向坐标**描绘六边形的位置，为了让玩家直观地看到核心的位置，Veritas 需要将其转化为**平面直角坐标**以便在屏幕上显示，**请你帮助他将纵向坐标转换成平面直角坐标**。\n\n纵向坐标 $(x,y)$ 到平面直角坐标 $(x^\\prime,y^\\prime)$ 的转换公式为：\n\n$$x^{\\prime} = \\frac{1}{2} x + \\frac{1}{2} y$$\n\n$$y^{\\prime} = \\frac{\\sqrt{3}}{2} x - \\frac{\\sqrt{3}}{2} y $$\n\n", "inputFormat": "仅一行，有两个用空格隔开的整数 $x,y$，表示纵向坐标 $(x,y)$ ($-10^6\\le x\\le 10^6,-10^6\\le y\\le 10^6$)。", "outputFormat": "一行两个实数 $x^{\\prime}$ 和 $y^{\\prime}$，用空格隔开，表示转换得到的平面直角坐标 $(x^\\prime,y^\\prime)$。\n\n当你输出的两个实数与答案的相对误差或者绝对误差的较小者不超过 $10^{-6}$ 时视为正确。", "hint": "《榕树之心》游戏链接（线下参赛队伍赛时无法访问该链接）：[core-of-banyan.github.io](https://core-of-banyan.github.io/)。\n\n欢迎大家（在赛后）游玩。", "locale": "zh-CN"}}}
{"pid": "P10521", "type": "P", "difficulty": 2, "samples": [["5 5\n3 1\n2 3\n1 3\n2 4\n3 5\n", "2 3 0 3 3 "]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "Special Judge", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 瑟莉姆的宴会", "background": "欢迎来到瑟莉姆大人的享乐宴会！\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6kmpy10b.png)", "description": "宴会中一共有 $n$ 个访客，编号 $1\\sim n$。为了更好地控制影的力量，瑟莉姆要求有 $n-1$ 个访客都恰好受到另一个访客的支配，而剩下的那个人成为总支配者，支配其他 $n-1$ 名访客。访客间的**直接支配关系**构成了一棵有根树。\n\n对于这棵树来说，若结点 $a$ 的父结点是 $b$，那么称 $b$ 支配了 $a$，同时称 $b$ 是 $a$ 的**直接支配者**。同时，支配的关系具有**传递性**，即若 $a$ 支配 $b$，$b$ 支配 $c$，那么 $a$ 也就支配了 $c$。\n\n另外有 $m$ 个支配条件，一个支配条件是一个有序二元组 $(x,y)$ ($1 \\le x,y \\le n$，$x\\neq y$)，若访客 $x$ 支配 $y$，那么影的力量会增加 $1$ 点；若 $y$ 支配 $x$ ，那么影的力量会减少 $1$ 点。若两者互不支配，那么影的力量不变。初始的影的力量是 $0$。\n\n作为贴心仆人的松雀需要组织一场宴会，那么需要为宴会中的每个人安排支配关系。由于瑟莉姆大人不需要关心影的力量能够达到多大，只需要让影的力量保持非负，你能够帮助她构造最终的支配关系吗？\n\n若存在多个解，你只需要输出任意一个。保证对于任何合法输入，均存在解。", "inputFormat": "第一行输入两个正整数 $n,m$ ($1\\le n \\le 1\\times 10^5,\\ 1 \\le m \\le 2\\times 10^5$)，表示访客数量和支配条件数，用空格隔开。\n\n接下来 $m$ 行，每行两个用空格分隔的正整数 $x,y$ ($1 \\le x,y \\le n,\\ x\\neq y$)，表示一个支配条件的二元组 $(x,y)$。支配条件可能会重复，也可能会出现相反的支配条件，即既出现了 $(x,y)$，也出现了 $(y,x)$。支配条件两两互不影响。", "outputFormat": "输出一行 $n$ 个数，第 $i$ 个数表示编号为 $i$ 的访客的直接支配者编号。总支配者的直接支配者编号为 $0$。", "hint": "样例中最终影的力量是 $1-1-1+0+1=0$，符合非负条件。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 瑟莉姆的宴会", "background": "欢迎来到瑟莉姆大人的享乐宴会！\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6kmpy10b.png)", "description": "宴会中一共有 $n$ 个访客，编号 $1\\sim n$。为了更好地控制影的力量，瑟莉姆要求有 $n-1$ 个访客都恰好受到另一个访客的支配，而剩下的那个人成为总支配者，支配其他 $n-1$ 名访客。访客间的**直接支配关系**构成了一棵有根树。\n\n对于这棵树来说，若结点 $a$ 的父结点是 $b$，那么称 $b$ 支配了 $a$，同时称 $b$ 是 $a$ 的**直接支配者**。同时，支配的关系具有**传递性**，即若 $a$ 支配 $b$，$b$ 支配 $c$，那么 $a$ 也就支配了 $c$。\n\n另外有 $m$ 个支配条件，一个支配条件是一个有序二元组 $(x,y)$ ($1 \\le x,y \\le n$，$x\\neq y$)，若访客 $x$ 支配 $y$，那么影的力量会增加 $1$ 点；若 $y$ 支配 $x$ ，那么影的力量会减少 $1$ 点。若两者互不支配，那么影的力量不变。初始的影的力量是 $0$。\n\n作为贴心仆人的松雀需要组织一场宴会，那么需要为宴会中的每个人安排支配关系。由于瑟莉姆大人不需要关心影的力量能够达到多大，只需要让影的力量保持非负，你能够帮助她构造最终的支配关系吗？\n\n若存在多个解，你只需要输出任意一个。保证对于任何合法输入，均存在解。", "inputFormat": "第一行输入两个正整数 $n,m$ ($1\\le n \\le 1\\times 10^5,\\ 1 \\le m \\le 2\\times 10^5$)，表示访客数量和支配条件数，用空格隔开。\n\n接下来 $m$ 行，每行两个用空格分隔的正整数 $x,y$ ($1 \\le x,y \\le n,\\ x\\neq y$)，表示一个支配条件的二元组 $(x,y)$。支配条件可能会重复，也可能会出现相反的支配条件，即既出现了 $(x,y)$，也出现了 $(y,x)$。支配条件两两互不影响。", "outputFormat": "输出一行 $n$ 个数，第 $i$ 个数表示编号为 $i$ 的访客的直接支配者编号。总支配者的直接支配者编号为 $0$。", "hint": "样例中最终影的力量是 $1-1-1+0+1=0$，符合非负条件。", "locale": "zh-CN"}}}
{"pid": "P10522", "type": "P", "difficulty": 3, "samples": [["5\n0 0 0 0 2\n", "4 3 2 5 1 \n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["搜索", "图论", "2024", "O2优化", "深度优先搜索 DFS", "拓扑排序", "链表", "高校校赛"], "title": "[XJTUPC 2024] 雪中楼", "background": "", "description": "西安交通大学下雪了，所有楼顶都被积雪覆盖。\n\n在梧桐道上有 $n$ 座房子，自南向北第 $i$ 座房子的标号是 $i$，所有房子的高度互不相同。LNC 从南向北，依次登上每栋楼楼顶，然后他会回头观察他已经到达过的房子，并记录下这些房子中，比当前他所在房子矮的所有房子中，最高的房子的编号，记为 $a_i$。特殊的，当没有房子比当前房子矮的时候，$a_i=0$。\n\n现在给你所有的 $a_i$，要求你还原出所有楼的大小关系。由于高度的具体值未知，你只需要按照高度从低到高，输出房子编号。\n\n可以证明对于任何合法的输入，均存在唯一解。", "inputFormat": "输入第一行一个正整数 $n$ ($1\\le n \\le 2\\times 10^5$)，代表房子个数。\n\n接下来一行 $n$ 个非负整数 $a_i$，满足 $0\\le a_i <i$，两两之间用空格隔开。", "outputFormat": "输出一行 $n$ 个正整数构成的排列，用空格隔开，表示最终的答案。", "hint": "假设高度是一个 $1\\sim n$ 的排列，那么可以发现高度为 $5, 3, 2, 1, 4$ 是唯一的解，按照高度排名输出得到 $4, 3, 2, 5, 1$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 雪中楼", "background": "", "description": "西安交通大学下雪了，所有楼顶都被积雪覆盖。\n\n在梧桐道上有 $n$ 座房子，自南向北第 $i$ 座房子的标号是 $i$，所有房子的高度互不相同。LNC 从南向北，依次登上每栋楼楼顶，然后他会回头观察他已经到达过的房子，并记录下这些房子中，比当前他所在房子矮的所有房子中，最高的房子的编号，记为 $a_i$。特殊的，当没有房子比当前房子矮的时候，$a_i=0$。\n\n现在给你所有的 $a_i$，要求你还原出所有楼的大小关系。由于高度的具体值未知，你只需要按照高度从低到高，输出房子编号。\n\n可以证明对于任何合法的输入，均存在唯一解。", "inputFormat": "输入第一行一个正整数 $n$ ($1\\le n \\le 2\\times 10^5$)，代表房子个数。\n\n接下来一行 $n$ 个非负整数 $a_i$，满足 $0\\le a_i <i$，两两之间用空格隔开。", "outputFormat": "输出一行 $n$ 个正整数构成的排列，用空格隔开，表示最终的答案。", "hint": "假设高度是一个 $1\\sim n$ 的排列，那么可以发现高度为 $5, 3, 2, 1, 4$ 是唯一的解，按照高度排名输出得到 $4, 3, 2, 5, 1$。\n", "locale": "zh-CN"}}}
{"pid": "P10523", "type": "P", "difficulty": 2, "samples": [["9 3\n1 1 2 2 3 3 3 2 1\n1 2\n2 3\n3 1\n", "180\n270\n216\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] Everyone's ALL IN", "background": "", "description": "\n女士们，先生们。\n\n早上好，中午好，以及晚上好。\n\n欢迎来到“好得不能再好了！泰拉大师投资课”，我是你们的坎老师。\n\n不要 10000，不要 5000，只需要 999 源石锭，一对一指导，手把手教学，从入门到精通，让你：\n\n\n——**每选必赢，每投必中**，快速实现财富自由，富甲一方！\n\n今天我们来到的地点是——**卡西米尔骑士锦标赛**。\n\n本次的赛事有点不同，首先， $N$ 位骑士将自行组成骑士团，其中第 $i$ 号骑士将进入第 $a_i$ 号骑士团；\n\n然后接下来的 $M$ 天里，每天将指定两个不同的骑士团 $x$ 和 $y$ ，接下来每一位 $x$ 骑士团里的成员都和每一位 $y$ 骑士团里的成员进行一次比试。\n\n我们每一次比试将会下注，如果两位骑士的编号分别为 $a$ 和 $b$，那么如果你下注成功了，你将获得你的本金和 $a\\times b$ 的源石锭。\n\n当然了，每次下注你需要压上你的**所有本金**！\n\n那么请问，接下来的 $M$ 天里，在我的指导下你每天分别可以获得多少源石锭？\n\n**数据保证答案不超过 64 位有符号整型能表达的范围。**\n\n**赌博有风险，投资需谨慎！**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gof3mumx.png)", "inputFormat": "输入第一行两个正整数 $N$ ($1\\le N \\le 2\\times 10^5$) 和 $M$ ($1\\le M \\le 2\\times 10^5$)，由空格隔开。\n\n接下来一行有 $N$ 个由空格隔开的正整数 $a_i$ ($1\\le a_i \\le 1\\times 10^6$) ，表示编号为 $i$ 的骑士所在的骑士团的编号。\n\n接下来 $M$ 行，每行两个由空格隔开的正整数 $x_i,y_i$ ($x_i \\neq y_i$)，保证 $x_i,y_i$ 出现在 $a_1 \\sim a_n$ 中。", "outputFormat": "输出共 $M$ 行，每行一个正整数，第 $i$ 行表示第 $i$ 天可以获得的最大收益。\n\n**数据保证答案不超过 64 位有符号整型能表达的范围。**", "hint": "骑士团 $1$ 的成员有 $\\{1,2,9\\}$，骑士团 $2$ 的成员有 $\\{3,4,8\\}$，骑士团 $3$ 的成员有 $\\{5,6,7\\}$。\n\n\n第一天，骑士团 $1$ 和骑士团 $2$ 进行比赛。\n\n获得的收益为：$1\\times 3+1\\times 4+1\\times 8+2\\times 3+2\\times 4+2\\times 8+9\\times 3+9\\times 4+9\\times 8=180$。\n\n第二天，骑士团 $2$ 和骑士团 $3$ 进行比赛。\n\n获得的收益为：$3\\times 5+3\\times 6+3\\times 7+4\\times 5+4\\times 6+4\\times 7+8\\times 5+8\\times 6+8\\times 7=270$。\n\n第三天，骑士团 $1$ 和骑士团 $3$ 进行比赛。\n\n获得的收益为：$1\\times 5+1\\times 6+1\\times 7+2\\times 5+2\\times 6+2\\times 7+9\\times 5+9\\times 6+9\\times 7=216$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] Everyone's ALL IN", "background": "", "description": "\n女士们，先生们。\n\n早上好，中午好，以及晚上好。\n\n欢迎来到“好得不能再好了！泰拉大师投资课”，我是你们的坎老师。\n\n不要 10000，不要 5000，只需要 999 源石锭，一对一指导，手把手教学，从入门到精通，让你：\n\n\n——**每选必赢，每投必中**，快速实现财富自由，富甲一方！\n\n今天我们来到的地点是——**卡西米尔骑士锦标赛**。\n\n本次的赛事有点不同，首先， $N$ 位骑士将自行组成骑士团，其中第 $i$ 号骑士将进入第 $a_i$ 号骑士团；\n\n然后接下来的 $M$ 天里，每天将指定两个不同的骑士团 $x$ 和 $y$ ，接下来每一位 $x$ 骑士团里的成员都和每一位 $y$ 骑士团里的成员进行一次比试。\n\n我们每一次比试将会下注，如果两位骑士的编号分别为 $a$ 和 $b$，那么如果你下注成功了，你将获得你的本金和 $a\\times b$ 的源石锭。\n\n当然了，每次下注你需要压上你的**所有本金**！\n\n那么请问，接下来的 $M$ 天里，在我的指导下你每天分别可以获得多少源石锭？\n\n**数据保证答案不超过 64 位有符号整型能表达的范围。**\n\n**赌博有风险，投资需谨慎！**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gof3mumx.png)", "inputFormat": "输入第一行两个正整数 $N$ ($1\\le N \\le 2\\times 10^5$) 和 $M$ ($1\\le M \\le 2\\times 10^5$)，由空格隔开。\n\n接下来一行有 $N$ 个由空格隔开的正整数 $a_i$ ($1\\le a_i \\le 1\\times 10^6$) ，表示编号为 $i$ 的骑士所在的骑士团的编号。\n\n接下来 $M$ 行，每行两个由空格隔开的正整数 $x_i,y_i$ ($x_i \\neq y_i$)，保证 $x_i,y_i$ 出现在 $a_1 \\sim a_n$ 中。", "outputFormat": "输出共 $M$ 行，每行一个正整数，第 $i$ 行表示第 $i$ 天可以获得的最大收益。\n\n**数据保证答案不超过 64 位有符号整型能表达的范围。**", "hint": "骑士团 $1$ 的成员有 $\\{1,2,9\\}$，骑士团 $2$ 的成员有 $\\{3,4,8\\}$，骑士团 $3$ 的成员有 $\\{5,6,7\\}$。\n\n\n第一天，骑士团 $1$ 和骑士团 $2$ 进行比赛。\n\n获得的收益为：$1\\times 3+1\\times 4+1\\times 8+2\\times 3+2\\times 4+2\\times 8+9\\times 3+9\\times 4+9\\times 8=180$。\n\n第二天，骑士团 $2$ 和骑士团 $3$ 进行比赛。\n\n获得的收益为：$3\\times 5+3\\times 6+3\\times 7+4\\times 5+4\\times 6+4\\times 7+8\\times 5+8\\times 6+8\\times 7=270$。\n\n第三天，骑士团 $1$ 和骑士团 $3$ 进行比赛。\n\n获得的收益为：$1\\times 5+1\\times 6+1\\times 7+2\\times 5+2\\times 6+2\\times 7+9\\times 5+9\\times 6+9\\times 7=216$。", "locale": "zh-CN"}}}
{"pid": "P10524", "type": "P", "difficulty": 6, "samples": [["2\n1 3 2 2\n", "8 5 11\n"], ["4\n1 1 4 5 1 4 1 9 1 9 8 1 0 0 0 0\n", "149 41 157\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 循环移位", "background": "", "description": "给定长度为 $2^n$ 的数组 $a_i$ ($0 \\leq i < 2^n$)，你可以进行任意次循环移位。\n\n求 $\\sum_{i=0}^{2^n-1} a_i \\oplus i$， $\\sum_{i=0}^{2^n-1} a_i \\& i$，$\\sum_{i=0}^{2^n-1} a_i | i$ 的最大值。其中 $\\oplus, \\&, |$ 分别代表按位异或，按位与，按位或。\n\n对于一个长度为 $m$ 的数组 $x_i$ ($0 \\leq i < m$)，其进行循环移位的结果 $x'_i$ 为:\n\n$$x'_i = \\left\\{\n\t\\begin{array}{ll}\n\t\tx_{i - 1} & i \\neq 0 \\\\\n\t\tx_{m - 1} & i = 0\n\t\\end{array}\\right.$$", "inputFormat": "输入第一行包含一个整数 $n$ ($1 \\leq n \\leq 20$)，含义如题意所述。\n\n接下来一行包含 $2^n$ 个整数 $a_i$ ($0 \\leq a_i < 2^n$)，为给定的数组。", "outputFormat": "输出一行三个整数，由空格隔开，为 $\\sum_{i=0}^{2^n-1} a_i \\oplus i$，$\\sum_{i=0}^{2^n-1} a_i \\& i$，$\\sum_{i=0}^{2^n-1} a_i | i$ 的最大值。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 循环移位", "background": "", "description": "给定长度为 $2^n$ 的数组 $a_i$ ($0 \\leq i < 2^n$)，你可以进行任意次循环移位。\n\n求 $\\sum_{i=0}^{2^n-1} a_i \\oplus i$， $\\sum_{i=0}^{2^n-1} a_i \\& i$，$\\sum_{i=0}^{2^n-1} a_i | i$ 的最大值。其中 $\\oplus, \\&, |$ 分别代表按位异或，按位与，按位或。\n\n对于一个长度为 $m$ 的数组 $x_i$ ($0 \\leq i < m$)，其进行循环移位的结果 $x'_i$ 为:\n\n$$x'_i = \\left\\{\n\t\\begin{array}{ll}\n\t\tx_{i - 1} & i \\neq 0 \\\\\n\t\tx_{m - 1} & i = 0\n\t\\end{array}\\right.$$", "inputFormat": "输入第一行包含一个整数 $n$ ($1 \\leq n \\leq 20$)，含义如题意所述。\n\n接下来一行包含 $2^n$ 个整数 $a_i$ ($0 \\leq a_i < 2^n$)，为给定的数组。", "outputFormat": "输出一行三个整数，由空格隔开，为 $\\sum_{i=0}^{2^n-1} a_i \\oplus i$，$\\sum_{i=0}^{2^n-1} a_i \\& i$，$\\sum_{i=0}^{2^n-1} a_i | i$ 的最大值。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10525", "type": "P", "difficulty": 6, "samples": [["3 3 4\n1 2 3\n2 3 4\n1 3 5\n3 1\n3 2\n1 2\n2 3\n", "44\n36\n20\n20\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 图上操作", "background": "", "description": "你有一张 $n$ 个点 $m$ 条边的**有向图**，点的下标为 $1\\sim n$。每条边有一个正整数边权 $d_i$。特殊的，$1\\le d_i \\le 100$。\n\n现在定义点 $i$ 的瓶颈路大小为：所有从点 $1$ 到点 $i$ 的有向路径中，最小边权的最大值。特殊的，若 $i$ 不能从 $1$ 出发到达，则其瓶颈路权值为 $0$。\n\n有 $q$ 次修改，每次修改会指定一条边，将这条边的边权降低，保证降低后依然是正整数。\n\n现在要求每次修改后，输出编号为 $2\\sim n$ 的点的瓶颈路大小。注意，每次修改是在前面修改的基础上进行操作，并不是相互独立的。\n\n由于输出数据量过于巨大，设每次修改完后点 $i$ 的瓶颈路大小为 $ans_i$，你只需要输出 $(\\sum_{i=2}^n ans_i \\times 2^i)\\bmod 998244353$。", "inputFormat": "第一行三个正整数 $n,m,q$ ($2\\le n\\le 1\\times 10^5$，$1\\le m \\le 2\\times 10^5$，$1\\le q\\le 2\\times 10^5$) 由空格隔开，含义如题所述。\n\n后面 $m$ 行每行两个正整数 $s_i,t_i,d_i$ ($1\\le s_i,t_i\\le n$，$s_i\\neq t_i$，$1\\le d_i \\le 100$) 由空格隔开，表示存在一条 $s_i$ 到 $t_i$ 的有向边，边权为 $d_i$，这条边的编号为 $i$。保证无自环，但可能会有重边。\n\n再后面 $q$ 行每行两个正整数 $x,y$ ($1\\le x\\le m$，$1\\le y < d_x$) 由空格隔开，表示将编号为 $x$ 的边的权值下调 $y$，且保证下调以后大于 $0$。", "outputFormat": "输出 $q$ 行每行一个非负整数，表示你求得的答案。", "hint": "第一次修改后，$2$ 号点的瓶颈路大小为 $3$，$3$ 号点的瓶颈路大小为 $4$。\n\n第二次修改后，$2$ 号点的瓶颈路大小为 $3$，$3$ 号点的瓶颈路大小为 $3$。\n\n第三次修改后，$2$ 号点的瓶颈路大小为 $1$，$3$ 号点的瓶颈路大小为 $2$。\n\n第四次修改后，$2$ 号点的瓶颈路大小为 $1$，$3$ 号点的瓶颈路大小为 $2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 图上操作", "background": "", "description": "你有一张 $n$ 个点 $m$ 条边的**有向图**，点的下标为 $1\\sim n$。每条边有一个正整数边权 $d_i$。特殊的，$1\\le d_i \\le 100$。\n\n现在定义点 $i$ 的瓶颈路大小为：所有从点 $1$ 到点 $i$ 的有向路径中，最小边权的最大值。特殊的，若 $i$ 不能从 $1$ 出发到达，则其瓶颈路权值为 $0$。\n\n有 $q$ 次修改，每次修改会指定一条边，将这条边的边权降低，保证降低后依然是正整数。\n\n现在要求每次修改后，输出编号为 $2\\sim n$ 的点的瓶颈路大小。注意，每次修改是在前面修改的基础上进行操作，并不是相互独立的。\n\n由于输出数据量过于巨大，设每次修改完后点 $i$ 的瓶颈路大小为 $ans_i$，你只需要输出 $(\\sum_{i=2}^n ans_i \\times 2^i)\\bmod 998244353$。", "inputFormat": "第一行三个正整数 $n,m,q$ ($2\\le n\\le 1\\times 10^5$，$1\\le m \\le 2\\times 10^5$，$1\\le q\\le 2\\times 10^5$) 由空格隔开，含义如题所述。\n\n后面 $m$ 行每行两个正整数 $s_i,t_i,d_i$ ($1\\le s_i,t_i\\le n$，$s_i\\neq t_i$，$1\\le d_i \\le 100$) 由空格隔开，表示存在一条 $s_i$ 到 $t_i$ 的有向边，边权为 $d_i$，这条边的编号为 $i$。保证无自环，但可能会有重边。\n\n再后面 $q$ 行每行两个正整数 $x,y$ ($1\\le x\\le m$，$1\\le y < d_x$) 由空格隔开，表示将编号为 $x$ 的边的权值下调 $y$，且保证下调以后大于 $0$。", "outputFormat": "输出 $q$ 行每行一个非负整数，表示你求得的答案。", "hint": "第一次修改后，$2$ 号点的瓶颈路大小为 $3$，$3$ 号点的瓶颈路大小为 $4$。\n\n第二次修改后，$2$ 号点的瓶颈路大小为 $3$，$3$ 号点的瓶颈路大小为 $3$。\n\n第三次修改后，$2$ 号点的瓶颈路大小为 $1$，$3$ 号点的瓶颈路大小为 $2$。\n\n第四次修改后，$2$ 号点的瓶颈路大小为 $1$，$3$ 号点的瓶颈路大小为 $2$。", "locale": "zh-CN"}}}
{"pid": "P10526", "type": "P", "difficulty": 4, "samples": [["7 40\nkill\nkillall\nrm\nrmdir\nifconfig\nifdown\nll\nkTBlEkTaTEiTcBdTElTExjtuTExjtuBBBBBrTdTE\n", "1 2 6 7 -1 4 "]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 命令行", "background": "", "description": "有 $n$ 个两两互不相同的仅由小写字符构成的命令字符串 $t_i$ ($1 \\leq i \\leq n$)，你需要实现一个支持命令补全的命令行。\n\n你的输入区是一个字符串 $s$，他可以接受小写字母 $\\text{'a'-'z'}$ 和 $\\text{Tab}$ 键 (以 $\\text{'T'}$ 表示)，$\\text{Enter}$ 键 (以 $\\text{'E'}$ 表示)，$\\text{Backspace}$ 键 (以 $\\text{'B'}$ 表示)。规则如下所述:\n\n1. 当你接受小写字符 $c$，将把 $c$ 追加到输入区字符串 $s$ 的末尾。\n\n1. 当你接受 $\\text{Backspace}$ 键，将尝试删除最后一个字符:\n   - 如果输入区字符串 $s$ 为空，则不进行任何操作。\n   - 如果输入区字符串 $s$ 非空，则丢弃 $s$ 末尾的字符。\n1. 当你接受 $\\text{Tab}$ 键，将会对 $s$ 进行一次智能补全，补全规则如下: \n\t- 设以 $s$ 为前缀的命令字符串集合为 $T$。\n   - 如果 $T$ 为空，则不进行任何操作。\n   - 如果 $T$ 非空，则把 $s$ 置为 $\\text{lcp}(T)$。这里 $\\text{lcp}$ 代表最长公共前缀，含义是最长的，是 $T$ 中每一个字符串前缀的字符串。\n\n1. 当你接受 $\\text{Enter}$ 键，将会试图执行命令 $s$: \n\t- 如果存在命令字符串 $t_i = s$，则输出命令编号 $i$。\n   - 如果不存在命令字符串 $t_i = s$，则输出 $-1$。\n   - 无论是否执行成功，清空输入区 $s$。\n   \n给定你接受到的输入串 $p$，你需要输出每个 $\\text{Enter}$ 键执行的结果。", "inputFormat": "输入第一行为两个整数 $n$ 和 $m$ ($1 \\leq n \\leq 10^5, 1 \\leq m \\leq 5 \\times 10^6$)，为命令字符串的个数和输入串的长度，由空格隔开。\n\n接下来 $n$ 行，每行一个仅由小写字符构成的字符串 $t_i$，为命令串。保证有 $\\sum_{i=1}^{n} |t_i| \\leq 10^6$ 且命令串互不相同。\n\n最后一行为字符串 $p$ ($|p|=m$)，为输入串。保证 $p$ 仅由 $\\text{\\{'a'-'z', 'T', 'B', 'E'\\}}$ 组成。", "outputFormat": "给定你接受到的输入串 $p$，你需要输出每个 $\\text{Enter}$ 键执行的结果。", "hint": "初始时，输入区字符串$s=\"\"$。\n\n输入 $\\text{'k'}$ 后，输入区字符串$s=\"k\"$。\n\n输入 $\\text{'T'}$ 后，进行智能匹配。此时 $T=\\{\"kill\",\"killall\"\\}$，$\\text{lcp}(T)=\"kill\"$。故输入区字符串$s=\"kill\"$。\n\n输入 $\\text{'B'}$ 后，输入区字符串$s=\"kil\"$。\n\n输入 $\\text{'l'}$ 后，输入区字符串$s=\"kill\"$。\n\n输入 $\\text{'E'}$ 后，因为 $t_1=s$，所以应该输出 $1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 命令行", "background": "", "description": "有 $n$ 个两两互不相同的仅由小写字符构成的命令字符串 $t_i$ ($1 \\leq i \\leq n$)，你需要实现一个支持命令补全的命令行。\n\n你的输入区是一个字符串 $s$，他可以接受小写字母 $\\text{'a'-'z'}$ 和 $\\text{Tab}$ 键 (以 $\\text{'T'}$ 表示)，$\\text{Enter}$ 键 (以 $\\text{'E'}$ 表示)，$\\text{Backspace}$ 键 (以 $\\text{'B'}$ 表示)。规则如下所述:\n\n1. 当你接受小写字符 $c$，将把 $c$ 追加到输入区字符串 $s$ 的末尾。\n\n1. 当你接受 $\\text{Backspace}$ 键，将尝试删除最后一个字符:\n   - 如果输入区字符串 $s$ 为空，则不进行任何操作。\n   - 如果输入区字符串 $s$ 非空，则丢弃 $s$ 末尾的字符。\n1. 当你接受 $\\text{Tab}$ 键，将会对 $s$ 进行一次智能补全，补全规则如下: \n\t- 设以 $s$ 为前缀的命令字符串集合为 $T$。\n   - 如果 $T$ 为空，则不进行任何操作。\n   - 如果 $T$ 非空，则把 $s$ 置为 $\\text{lcp}(T)$。这里 $\\text{lcp}$ 代表最长公共前缀，含义是最长的，是 $T$ 中每一个字符串前缀的字符串。\n\n1. 当你接受 $\\text{Enter}$ 键，将会试图执行命令 $s$: \n\t- 如果存在命令字符串 $t_i = s$，则输出命令编号 $i$。\n   - 如果不存在命令字符串 $t_i = s$，则输出 $-1$。\n   - 无论是否执行成功，清空输入区 $s$。\n   \n给定你接受到的输入串 $p$，你需要输出每个 $\\text{Enter}$ 键执行的结果。", "inputFormat": "输入第一行为两个整数 $n$ 和 $m$ ($1 \\leq n \\leq 10^5, 1 \\leq m \\leq 5 \\times 10^6$)，为命令字符串的个数和输入串的长度，由空格隔开。\n\n接下来 $n$ 行，每行一个仅由小写字符构成的字符串 $t_i$，为命令串。保证有 $\\sum_{i=1}^{n} |t_i| \\leq 10^6$ 且命令串互不相同。\n\n最后一行为字符串 $p$ ($|p|=m$)，为输入串。保证 $p$ 仅由 $\\text{\\{'a'-'z', 'T', 'B', 'E'\\}}$ 组成。", "outputFormat": "给定你接受到的输入串 $p$，你需要输出每个 $\\text{Enter}$ 键执行的结果。", "hint": "初始时，输入区字符串$s=\"\"$。\n\n输入 $\\text{'k'}$ 后，输入区字符串$s=\"k\"$。\n\n输入 $\\text{'T'}$ 后，进行智能匹配。此时 $T=\\{\"kill\",\"killall\"\\}$，$\\text{lcp}(T)=\"kill\"$。故输入区字符串$s=\"kill\"$。\n\n输入 $\\text{'B'}$ 后，输入区字符串$s=\"kil\"$。\n\n输入 $\\text{'l'}$ 后，输入区字符串$s=\"kill\"$。\n\n输入 $\\text{'E'}$ 后，因为 $t_1=s$，所以应该输出 $1$。", "locale": "zh-CN"}}}
{"pid": "P10527", "type": "P", "difficulty": 5, "samples": [["6\n2 7 4 1 8 1\n", "1\n"], ["5\n31 26 33 21 40\n", "5\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 最后一块石头的重量", "background": "", "description": "有一堆石头，用整数数组 $a$ 表示。其中 $a_i$ 表示第 $i$ 块石头的重量。\n\n每一回合，从中选出**任意两块石头**，然后将它们一起粉碎。假设石头的重量分别为 $x$ 和 $y$，且 $x \\le y$。那么粉碎的可能结果如下：\n\n- 如果 $x = y$，那么两块石头都会被完全粉碎；\n- 如果 $x \\neq y$，那么重量为 $x$ 的石头将会完全粉碎，而重量为 $y$ 的石头新重量为 $y-x$。\n\n最后，**最多只会剩下一块**石头。输出此石头**最小的可能重量**。如果没有石头剩下，就输出 $0$。", "inputFormat": "输入数据共两行。\n\n第一行输入一个整数 $n$ ($1 \\leq n \\leq 10000$)，表示石子的数量；\n\n第二行输入 $n$ 个整数 $a_i$ ($1 \\leq a_i \\leq 5000$)，表示第 $i$ 块石头的重量。", "outputFormat": "输出数据共一行。\n\n第一行输出一个整数表示答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 最后一块石头的重量", "background": "", "description": "有一堆石头，用整数数组 $a$ 表示。其中 $a_i$ 表示第 $i$ 块石头的重量。\n\n每一回合，从中选出**任意两块石头**，然后将它们一起粉碎。假设石头的重量分别为 $x$ 和 $y$，且 $x \\le y$。那么粉碎的可能结果如下：\n\n- 如果 $x = y$，那么两块石头都会被完全粉碎；\n- 如果 $x \\neq y$，那么重量为 $x$ 的石头将会完全粉碎，而重量为 $y$ 的石头新重量为 $y-x$。\n\n最后，**最多只会剩下一块**石头。输出此石头**最小的可能重量**。如果没有石头剩下，就输出 $0$。", "inputFormat": "输入数据共两行。\n\n第一行输入一个整数 $n$ ($1 \\leq n \\leq 10000$)，表示石子的数量；\n\n第二行输入 $n$ 个整数 $a_i$ ($1 \\leq a_i \\leq 5000$)，表示第 $i$ 块石头的重量。", "outputFormat": "输出数据共一行。\n\n第一行输出一个整数表示答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10528", "type": "P", "difficulty": 4, "samples": [["12 1\n2 3 2 1\n", "1\n"], ["8 5\n2 1 1 3\n", "4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 崩坏：星穹铁道", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/7urblttd.png)\n\nCorycle 喜欢玩一个由米哈游自主研发的一款回合制战斗游戏------《崩坏：星穹铁道》。这片银河中有名为「星神」的存在，他们造就现实，抹消星辰，在无数「世界」中留下他们的痕迹。你将由此探索新的文明，结识新的伙伴，在无数光怪陆离的「世界」与「世界」之间展开新的冒险。所有你想知道的，都将在群星中找到答案。\n", "description": "在游戏《崩坏：星穹铁道》中，你的队伍里会有四名角色轮流行动，所有角色共享用于施放战技的战技点。当战斗开始时，你会获得 $k$ 个战技点，且战技点的上限为 $5$ 个。每个角色行动时可选择进行普通攻击或者施放战技，进行普通攻击时会为全队增加一个战技点，当战技点达到上限时也可以进行普通攻击，但是此时不回复战技点。角色施放战技需要消耗一个战技点，当没有战技点时只能进行普通攻击而不可释放技能。\n\nCorycle 想成为星穹铁道高手，为此他需要对自己的配队了如指掌。由于角色有多种职业，同时为了方便对角色类型进行定位，他把角色的行动模式分为了三种类型：\n\n1. 当角色行动时，只会进行普通攻击。\n\n2. 当角色行动时，若有战技点不少于 $1$ 则必定释放技能，否则进行普通攻击。\n\n3. 不对角色的行动进行限制。\n\n现在 Corycle 开始了一场战斗，他想知道当队伍中的四名角色一共行动 $n$ 次时，可能会有多少种不同的行动方案。我们称两个行动方案不同，当且仅当存在至少一个回合中，两个方案里角色行为不同。这个答案可能是一个很大的数，所以请将答案对 $998244353$ 取模。", "inputFormat": "输入第一行有两个正整数 $n$ 和 $k$ ($1\\le n\\le 1\\times 10^{18},0\\le k\\le 5$)，表示总行动次数与初始战技点数，用空格隔开。\n\n第二行有四个用空格隔开的正整数 $a_1,a_2,a_3,a_4$ ($1 \\le a_1,a_2,a_3,a_4 \\le 3$)，表示四名角色的行动模式类型。\n", "outputFormat": "输出仅一个整数，表示不同的行动方案数。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 崩坏：星穹铁道", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/7urblttd.png)\n\nCorycle 喜欢玩一个由米哈游自主研发的一款回合制战斗游戏------《崩坏：星穹铁道》。这片银河中有名为「星神」的存在，他们造就现实，抹消星辰，在无数「世界」中留下他们的痕迹。你将由此探索新的文明，结识新的伙伴，在无数光怪陆离的「世界」与「世界」之间展开新的冒险。所有你想知道的，都将在群星中找到答案。\n", "description": "在游戏《崩坏：星穹铁道》中，你的队伍里会有四名角色轮流行动，所有角色共享用于施放战技的战技点。当战斗开始时，你会获得 $k$ 个战技点，且战技点的上限为 $5$ 个。每个角色行动时可选择进行普通攻击或者施放战技，进行普通攻击时会为全队增加一个战技点，当战技点达到上限时也可以进行普通攻击，但是此时不回复战技点。角色施放战技需要消耗一个战技点，当没有战技点时只能进行普通攻击而不可释放技能。\n\nCorycle 想成为星穹铁道高手，为此他需要对自己的配队了如指掌。由于角色有多种职业，同时为了方便对角色类型进行定位，他把角色的行动模式分为了三种类型：\n\n1. 当角色行动时，只会进行普通攻击。\n\n2. 当角色行动时，若有战技点不少于 $1$ 则必定释放技能，否则进行普通攻击。\n\n3. 不对角色的行动进行限制。\n\n现在 Corycle 开始了一场战斗，他想知道当队伍中的四名角色一共行动 $n$ 次时，可能会有多少种不同的行动方案。我们称两个行动方案不同，当且仅当存在至少一个回合中，两个方案里角色行为不同。这个答案可能是一个很大的数，所以请将答案对 $998244353$ 取模。", "inputFormat": "输入第一行有两个正整数 $n$ 和 $k$ ($1\\le n\\le 1\\times 10^{18},0\\le k\\le 5$)，表示总行动次数与初始战技点数，用空格隔开。\n\n第二行有四个用空格隔开的正整数 $a_1,a_2,a_3,a_4$ ($1 \\le a_1,a_2,a_3,a_4 \\le 3$)，表示四名角色的行动模式类型。\n", "outputFormat": "输出仅一个整数，表示不同的行动方案数。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P10529", "type": "P", "difficulty": 6, "samples": [["1 25 14\n14\n12\n", "882.000000\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "Special Judge", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 勘探队", "background": "", "description": "一支勘探队从 $(0,0)$ 出发，终点是 $(0,y)$，携带着从 $1$ 号到 $n$ 号设备，每个设备的重量为 $m_i$，且必须安放在横坐标为 $x_i$ 的任意位置上（纵坐标可以是任意实数）。必须按照顺序安放所有设备，在较小编号的设备被全部放置之前，即使横坐标位置满足，也不能放置。\n\n当勘探队身上的设备总重量为 $m$ 时，其移动一单位长度的代价是 $m+M$。问勘探队完成所有设备安装并到达终点的最小代价。\n\n同一个坐标位置可以放置多台设备。", "inputFormat": "输入第一行三个正整数 $n$ ($1\\le n \\le 1\\times 10^4$)，$M$ ($0< M \\le 30$) 和 $y$ ($0<y\\le 2\\times 10^5$)，代表设备个数、移动的基本代价和最终终点的纵坐标。\n\n第二行给出 $n$ 个非负整数 $m_i$ ($0< m_i\\le 30$)，表示第 $i$ 台设备的重量。两两之间用空格隔开。\n\n第三行给出 $n$ 个整数 $x_i$ ($|x_i|\\le 1\\times 10^4$)，表示第 $i$ 台机器坐标的要求。", "outputFormat": "输出一行一个正实数代表最终代价。如果你的答案是 $a$，我们给出的标准答案是 $b$，你的答案正确当且仅当 $\\frac{|a - b|}{\\max{(1, |b|)}} \\le 10^{-6}$。", "hint": "走直线走到 $(12,5)$，距离 $13$，然后走直线走到 $(0,14)$，距离 $15$，总代价 $13\\times (25+14)+15\\times 25=882$。不存在一个比这个更优的解。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 勘探队", "background": "", "description": "一支勘探队从 $(0,0)$ 出发，终点是 $(0,y)$，携带着从 $1$ 号到 $n$ 号设备，每个设备的重量为 $m_i$，且必须安放在横坐标为 $x_i$ 的任意位置上（纵坐标可以是任意实数）。必须按照顺序安放所有设备，在较小编号的设备被全部放置之前，即使横坐标位置满足，也不能放置。\n\n当勘探队身上的设备总重量为 $m$ 时，其移动一单位长度的代价是 $m+M$。问勘探队完成所有设备安装并到达终点的最小代价。\n\n同一个坐标位置可以放置多台设备。", "inputFormat": "输入第一行三个正整数 $n$ ($1\\le n \\le 1\\times 10^4$)，$M$ ($0< M \\le 30$) 和 $y$ ($0<y\\le 2\\times 10^5$)，代表设备个数、移动的基本代价和最终终点的纵坐标。\n\n第二行给出 $n$ 个非负整数 $m_i$ ($0< m_i\\le 30$)，表示第 $i$ 台设备的重量。两两之间用空格隔开。\n\n第三行给出 $n$ 个整数 $x_i$ ($|x_i|\\le 1\\times 10^4$)，表示第 $i$ 台机器坐标的要求。", "outputFormat": "输出一行一个正实数代表最终代价。如果你的答案是 $a$，我们给出的标准答案是 $b$，你的答案正确当且仅当 $\\frac{|a - b|}{\\max{(1, |b|)}} \\le 10^{-6}$。", "hint": "走直线走到 $(12,5)$，距离 $13$，然后走直线走到 $(0,14)$，距离 $15$，总代价 $13\\times (25+14)+15\\times 25=882$。不存在一个比这个更优的解。", "locale": "zh-CN"}}}
{"pid": "P10530", "type": "P", "difficulty": 3, "samples": [["3 1\n1 2\n2 3\n", "1\n"], ["4 2\n1 2\n2 3\n3 4\n", "2\n"], ["10 3\n1 2\n2 3\n9 4\n3 5\n5 6\n6 7\n3 9\n5 8\n5 10\n", "5\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 生命游戏", "background": "在著名的生命游戏中，二维方格中每个细胞死或活的状态由它周围的八个细胞（上、下、左、右、左上、左下、右上、右下）所决定。\n\n具体规则如下：\n\n孤单死亡：如果细胞的邻居小于等于 1 个，则该细胞在下一次状态将死亡；\n\n拥挤死亡：如果细胞的邻居在 4 个及以上，则该细胞在下一次状态将死亡；\n\n稳定：如果细胞的邻居为 2 个或 3 个，则下一次状态为稳定存活；\n\n复活：如果某位置原无细胞存活，而该位置的邻居为 3 个，则该位置将复活一个细胞。\n\n在此规则下也出现了很多有趣的图形，比如说下图就是\"轻量级飞船\"连续的五个回合的情况：它的周期是 4，每 2 个回合会向右边走一格。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/28o5txyh.png)", "description": "现在我们将在树上进行简化版的生命游戏，首先将给出一棵含有 $n$ 个点，$n-1$ 条边的树和一个整数 $k$。\n\n在每回合时，当前剩余的度数为 $k$ 的点及与其连接的边会瞬间同时被删去。\n\n形式化的，每回合都将按顺序进行如下操作：\n\n   -  统计当前剩余每个点的度数（一个点的度数定义为为，这个点当前连接的边的条数）。\n   - 将所有度数**恰好**为 $k$ 的点标记。\n   - 将上一步标记的点及其连接的边全部删去。\n\n我们希望知道在无穷多回合后，这棵树将被分为多少个连通块。若最终两个点能够直接或间接的通过若干条边相连，则认为这两个点属于同一个连通块。", "inputFormat": "第一行两个整数 $n,k$ ($0\\le k < n \\le 10^6$)，用空格隔开。\n\n接下来 $n-1$ 行，每行两个用空格隔开的正整数 $u_i,v_i$ ($1\\le u_i, v_i \\le n$) 表示 $u_i$ 和 $v_i$ 之间有一条边。\n\n输入的数据量较大，建议使用快速的读入方式。", "outputFormat": "共一行一个整数，表示无穷多回合之后剩余的连通块个数。\n", "hint": "\n对于样例 1:\n\n这棵树的初始形态为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g5x6u2fx.png)\n\n其中三个点的度数依次为 $1,2,1$。\n\n在一回合过后，点 $1,3$ 被删除。\n\n这棵树变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5x6vo3it.png)\n\n容易发现之后这棵树的形态将不会变化，所以最终的连通块个数是 $1$。\n\n对于样例 2：\n\n初始形态为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hdq30nrf.png)\n\n一回合之后变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/td8lj616.png)\n\n之后保持不变，最终连通块个数为 $2$。\n\n对于样例 3：\n\n初始形态：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tfu21fc0.png)\n\n一回合之后变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3ad1bwnz.png)\n\n再过一回合之后变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2ax9h1tt.png)\n\n之后保持不变，最终连通块个数为 $5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 生命游戏", "background": "在著名的生命游戏中，二维方格中每个细胞死或活的状态由它周围的八个细胞（上、下、左、右、左上、左下、右上、右下）所决定。\n\n具体规则如下：\n\n孤单死亡：如果细胞的邻居小于等于 1 个，则该细胞在下一次状态将死亡；\n\n拥挤死亡：如果细胞的邻居在 4 个及以上，则该细胞在下一次状态将死亡；\n\n稳定：如果细胞的邻居为 2 个或 3 个，则下一次状态为稳定存活；\n\n复活：如果某位置原无细胞存活，而该位置的邻居为 3 个，则该位置将复活一个细胞。\n\n在此规则下也出现了很多有趣的图形，比如说下图就是\"轻量级飞船\"连续的五个回合的情况：它的周期是 4，每 2 个回合会向右边走一格。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/28o5txyh.png)", "description": "现在我们将在树上进行简化版的生命游戏，首先将给出一棵含有 $n$ 个点，$n-1$ 条边的树和一个整数 $k$。\n\n在每回合时，当前剩余的度数为 $k$ 的点及与其连接的边会瞬间同时被删去。\n\n形式化的，每回合都将按顺序进行如下操作：\n\n   -  统计当前剩余每个点的度数（一个点的度数定义为为，这个点当前连接的边的条数）。\n   - 将所有度数**恰好**为 $k$ 的点标记。\n   - 将上一步标记的点及其连接的边全部删去。\n\n我们希望知道在无穷多回合后，这棵树将被分为多少个连通块。若最终两个点能够直接或间接的通过若干条边相连，则认为这两个点属于同一个连通块。", "inputFormat": "第一行两个整数 $n,k$ ($0\\le k < n \\le 10^6$)，用空格隔开。\n\n接下来 $n-1$ 行，每行两个用空格隔开的正整数 $u_i,v_i$ ($1\\le u_i, v_i \\le n$) 表示 $u_i$ 和 $v_i$ 之间有一条边。\n\n输入的数据量较大，建议使用快速的读入方式。", "outputFormat": "共一行一个整数，表示无穷多回合之后剩余的连通块个数。\n", "hint": "\n对于样例 1:\n\n这棵树的初始形态为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g5x6u2fx.png)\n\n其中三个点的度数依次为 $1,2,1$。\n\n在一回合过后，点 $1,3$ 被删除。\n\n这棵树变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5x6vo3it.png)\n\n容易发现之后这棵树的形态将不会变化，所以最终的连通块个数是 $1$。\n\n对于样例 2：\n\n初始形态为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hdq30nrf.png)\n\n一回合之后变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/td8lj616.png)\n\n之后保持不变，最终连通块个数为 $2$。\n\n对于样例 3：\n\n初始形态：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tfu21fc0.png)\n\n一回合之后变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3ad1bwnz.png)\n\n再过一回合之后变为：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2ax9h1tt.png)\n\n之后保持不变，最终连通块个数为 $5$。", "locale": "zh-CN"}}}
{"pid": "P10531", "type": "P", "difficulty": 5, "samples": [["4 2\n1 2 3 4\n1 2\n1 3\n1 4\n", "1\n"], ["4 2\n1 2 3 4\n1 2\n2 3\n3 4\n", "2\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2024", "O2优化", "高校校赛"], "title": "[XJTUPC 2024] 圣诞树", "background": "", "description": "有一棵 $n$ 个点的树，点的编号为 $1\\sim n$，每个树的结点都有一个颜色，用 $col_i$ 表示。不同的 $col_i$ 代表不同的颜色。\n\n小 L 要用这棵树制作很多棵圣诞树。一棵树能够被制作成圣诞树，当且仅当它有至少 $k$ ​种不同的颜色。小 L 要把树分成若干互不相交的联通块，并且取出满足条件的联通块制作圣诞树。\n\n在给出这棵树的形态后，问最多能制作出多少棵圣诞树？", "inputFormat": "输入第一行两个正整数 $n,k$ ($1\\le k \\le n \\le 2\\times 10^5$)，用空格隔开。\n\n第二行 $n$ 个正整数 $col_i$ ($1\\le col_i \\le n$)，代表结点 $i$ 的颜色，两两之间用空格隔开。\n\n接下来 $n-1$ 行，每行两个正整数 $x,y$ ($1\\le x,y \\le n$，$x \\neq y$)，代表树上一条边的两个端点，用空格隔开。", "outputFormat": "输出一行一个整数，表示你的答案。", "hint": "", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[XJTUPC 2024] 圣诞树", "background": "", "description": "有一棵 $n$ 个点的树，点的编号为 $1\\sim n$，每个树的结点都有一个颜色，用 $col_i$ 表示。不同的 $col_i$ 代表不同的颜色。\n\n小 L 要用这棵树制作很多棵圣诞树。一棵树能够被制作成圣诞树，当且仅当它有至少 $k$ ​种不同的颜色。小 L 要把树分成若干互不相交的联通块，并且取出满足条件的联通块制作圣诞树。\n\n在给出这棵树的形态后，问最多能制作出多少棵圣诞树？", "inputFormat": "输入第一行两个正整数 $n,k$ ($1\\le k \\le n \\le 2\\times 10^5$)，用空格隔开。\n\n第二行 $n$ 个正整数 $col_i$ ($1\\le col_i \\le n$)，代表结点 $i$ 的颜色，两两之间用空格隔开。\n\n接下来 $n-1$ 行，每行两个正整数 $x,y$ ($1\\le x,y \\le n$，$x \\neq y$)，代表树上一条边的两个端点，用空格隔开。", "outputFormat": "输出一行一个整数，表示你的答案。", "hint": "", "locale": "zh-CN"}}}
