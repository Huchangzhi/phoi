{"pid": "P6565", "type": "P", "difficulty": 1, "samples": [["2\nadam\nineedhelpsosineedhelpsos\nmark\nineedmorehelpsoshelpmesossoshelpme", "mark\n3"], ["3\nsusan\nsosososososos\njack\nsossossossos\nallen\nsoshelpsossossossossos", "susan allen\n6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2020", "NOI Online"], "title": "[NOI Online #3 入门组] 最急救助", "background": "", "description": "救助中心每天都要收到很多求救信号。收到求救信号后，救助中心会分析求救信号，找出最紧急的求救者给予救助。\n\n求救信号是一个由小写英文字母组成的字符串，字符串中连续三个字符依次组成`sos`的情况越多（即包含子串`sos`的数目越多），代表着求救者情况越紧急。\n\n现在请你帮助救助中心找出最紧急的求救者。注意字符串中包含的`sos`可以有重叠，例如`sosos`算作包含 $2$ 个`sos`。", "inputFormat": "从标准输入读入数据。\n\n第一行一个整数 $n$，表示求救者的数目。\n\n接下来有 $2\\times n$ 行，每行一个由小写英文字母组成的字符串。这 $2\\times n$ 行中，第 $2\\times i-1$（$1\\le i\\le n$）行的字符串表示第 $i$ 个求救者的名字，第 $2\\times i$ 行的字符串表示第 $i$ 个求救者的求救信号。", "outputFormat": "输出到标准输出。\n\n输出共两行，第一行是最紧急求救者的名字。如果最紧急求救者有多个，则按照输入的顺序将他们的名字依次输出，相邻两个名字间用空格分隔。\n\n第二行一个整数，表示最紧急求救者的求救信号中包含有多少个`sos`子串。", "hint": "#### 数据规模与约定\n\n- 对于 $10\\%$ 的数据，$n=1$。\n- 对于所有数据，$1 \\leq n\\le 100$，求救者名字长度不超过 $20$，求救信号长度不超过 $200$。\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #3 入门组] 最急救助", "background": "", "description": "救助中心每天都要收到很多求救信号。收到求救信号后，救助中心会分析求救信号，找出最紧急的求救者给予救助。\n\n求救信号是一个由小写英文字母组成的字符串，字符串中连续三个字符依次组成`sos`的情况越多（即包含子串`sos`的数目越多），代表着求救者情况越紧急。\n\n现在请你帮助救助中心找出最紧急的求救者。注意字符串中包含的`sos`可以有重叠，例如`sosos`算作包含 $2$ 个`sos`。", "inputFormat": "从标准输入读入数据。\n\n第一行一个整数 $n$，表示求救者的数目。\n\n接下来有 $2\\times n$ 行，每行一个由小写英文字母组成的字符串。这 $2\\times n$ 行中，第 $2\\times i-1$（$1\\le i\\le n$）行的字符串表示第 $i$ 个求救者的名字，第 $2\\times i$ 行的字符串表示第 $i$ 个求救者的求救信号。", "outputFormat": "输出到标准输出。\n\n输出共两行，第一行是最紧急求救者的名字。如果最紧急求救者有多个，则按照输入的顺序将他们的名字依次输出，相邻两个名字间用空格分隔。\n\n第二行一个整数，表示最紧急求救者的求救信号中包含有多少个`sos`子串。", "hint": "#### 数据规模与约定\n\n- 对于 $10\\%$ 的数据，$n=1$。\n- 对于所有数据，$1 \\leq n\\le 100$，求救者名字长度不超过 $20$，求救信号长度不超过 $200$。\n\n", "locale": "zh-CN"}}}
{"pid": "P6566", "type": "P", "difficulty": 2, "samples": [["5 7\n*......\n..**..*\n.*...*.\n...*...\n....*..", "3 4"], ["10 10\n**..**.**.\n***....*..\n*...**.**.\n...*..*...\n..........\n**...**.*.\n..*.*....*\n..........\n***..*.*..\n.***..*...", "4 12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["搜索", "2020", "广度优先搜索 BFS", "深度优先搜索 DFS", "NOI Online"], "title": "[NOI Online #3 入门组] 观星", "background": "脚造数据一组，欢迎hack", "description": "Jimmy 和 Symbol 约好一起看星星，浩瀚的星空可视为一个长为 $N$、宽为 $M$ 的矩阵，矩阵中共有 $N\\times M$ 个位置，一个位置可以用坐标 $(i,j)$（$1\\le i\\le N$，$1\\le j\\le M$）来表示。每个位置上可能是空的，也可能有一个星星。\n\n对于一个位置 $(i,j)$，与其相邻的位置有左边、左上、上面、右上、右边、右下、下面、左下 8 个位置。相邻位置上的星星被视为同一个星座，这种关系有传递性，例如若 $(1,1),(1,2),(1,3)$ 三个\n位置上都有星星，那么这三个星星视为同一个星座。包含的星星数量相同的星座被视为一个星系（一个星系中的星座不一定相邻），星系的大小为星系中包含的所有星星数量。\n\n由于 Symbol 太喜欢星系了，他就想考一考 Jimmy，让 Jimmy 求出星空中有多少个星系，他还想知道，最大的星系有多大。", "inputFormat": "第一行两个整数 $N,M$ 表示矩阵的长宽。\n\n接下来 $N$ 行每行 $M$ 个字符，每个字符只可能是`.`或`*`。这 $N$ 行中第 $i$ 行的第 $j$ 个字符是`*`表示位置 $(i,j)$ 上有一个星星，否则表示它是空的。", "outputFormat": "仅一行两个整数，用空格分隔开，分别表示星系的数量与最大星系的大小。", "hint": "对于 $20\\%$ 的数据，$N,M\\le 20$，最大星系大小不超过 200。\n\n对于 $50\\%$ 的数据，$N,M\\le 400$。\n\n对于 $70\\%$ 的数据，$N,M\\le 1100$。\n\n对于 $100\\%$ 的数据，$2\\le N,M\\le 1500$，最大星系大小不超过 100000。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #3 入门组] 观星", "background": "脚造数据一组，欢迎hack", "description": "Jimmy 和 Symbol 约好一起看星星，浩瀚的星空可视为一个长为 $N$、宽为 $M$ 的矩阵，矩阵中共有 $N\\times M$ 个位置，一个位置可以用坐标 $(i,j)$（$1\\le i\\le N$，$1\\le j\\le M$）来表示。每个位置上可能是空的，也可能有一个星星。\n\n对于一个位置 $(i,j)$，与其相邻的位置有左边、左上、上面、右上、右边、右下、下面、左下 8 个位置。相邻位置上的星星被视为同一个星座，这种关系有传递性，例如若 $(1,1),(1,2),(1,3)$ 三个\n位置上都有星星，那么这三个星星视为同一个星座。包含的星星数量相同的星座被视为一个星系（一个星系中的星座不一定相邻），星系的大小为星系中包含的所有星星数量。\n\n由于 Symbol 太喜欢星系了，他就想考一考 Jimmy，让 Jimmy 求出星空中有多少个星系，他还想知道，最大的星系有多大。", "inputFormat": "第一行两个整数 $N,M$ 表示矩阵的长宽。\n\n接下来 $N$ 行每行 $M$ 个字符，每个字符只可能是`.`或`*`。这 $N$ 行中第 $i$ 行的第 $j$ 个字符是`*`表示位置 $(i,j)$ 上有一个星星，否则表示它是空的。", "outputFormat": "仅一行两个整数，用空格分隔开，分别表示星系的数量与最大星系的大小。", "hint": "对于 $20\\%$ 的数据，$N,M\\le 20$，最大星系大小不超过 200。\n\n对于 $50\\%$ 的数据，$N,M\\le 400$。\n\n对于 $70\\%$ 的数据，$N,M\\le 1100$。\n\n对于 $100\\%$ 的数据，$2\\le N,M\\le 1500$，最大星系大小不超过 100000。", "locale": "zh-CN"}}}
{"pid": "P6567", "type": "P", "difficulty": 3, "samples": [["3 5\n1 2\n5 1\n6 3\n3 19 21 1 7", "No\nYes\nNo\nYes\nYes\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["动态规划 DP", "2020", "NOI Online"], "title": "[NOI Online #3 入门组] 买表", "background": "", "description": "Jimmy 到 Symbol 的手表店买手表，Jimmy 只带了 $n$ 种钱币，第 $i$ 种钱币的面额为 $k_i$ 元，张数为 $a_i$ 张。Symbol 的店里一共有 $m$ 块手表，第 $i$ 块手表的价格为 $t_i$ 元。\n\nSymbol 的手表店不能找零，所以 Jimmy 只能在凑出恰好的钱数时才能购买一块手表。现在对于店里的每块手表，Jimmy 想知道他能不能凑出恰好的钱数进行购买。\n", "inputFormat": "第一行两个空格分隔的整数 $n$ 和 $m$ 表示钱币数与手表数。\n\n接下来 $n$ 行每行两个空格分隔的整数 $k_i$ 和 $a_i$ 表示钱币的面额和张数。\n\n第 $n+2$ 行，共 $m$ 个用空格分隔的整数 $t_i$，表示每块手表的价格。\n", "outputFormat": "一共 $m$ 行，对于第 $i$ 行，如果能凑出恰好的钱数购买第 $i$ 块手表则输出 `Yes` 否则输出 `No`，注意只有首字母大写。", "hint": "#### 样例 1 解释\n\n- 第二块手表 $19=6 \\times 3+1=6 \\times 2+5+1 \\times 2$，可以恰好凑出。\n- 第四块手表 $1=1 \\times 1$，可以恰好凑出。\n- 第五块手表 $7=5+2\\times 1=6 \\times 1+1$，可以恰好凑出。\n\n#### 数据规模与约定\n- 对于 $50\\%$ 的数据，保证 $n\\leq 10$，$m \\leq 60$，$a_i \\leq 20$，$k_i \\leq 5000$，$t_i \\leq 250$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 200$，$1 \\leq m \\leq 10^5$，$1 \\leq a_i \\leq 1000$，$1 \\leq k_i \\leq 500000$，$0 \\leq t_i \\leq 500000$。\n\n#### 说明\n\ndata provider：@皎月半洒花。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #3 入门组] 买表", "background": "", "description": "Jimmy 到 Symbol 的手表店买手表，Jimmy 只带了 $n$ 种钱币，第 $i$ 种钱币的面额为 $k_i$ 元，张数为 $a_i$ 张。Symbol 的店里一共有 $m$ 块手表，第 $i$ 块手表的价格为 $t_i$ 元。\n\nSymbol 的手表店不能找零，所以 Jimmy 只能在凑出恰好的钱数时才能购买一块手表。现在对于店里的每块手表，Jimmy 想知道他能不能凑出恰好的钱数进行购买。\n", "inputFormat": "第一行两个空格分隔的整数 $n$ 和 $m$ 表示钱币数与手表数。\n\n接下来 $n$ 行每行两个空格分隔的整数 $k_i$ 和 $a_i$ 表示钱币的面额和张数。\n\n第 $n+2$ 行，共 $m$ 个用空格分隔的整数 $t_i$，表示每块手表的价格。\n", "outputFormat": "一共 $m$ 行，对于第 $i$ 行，如果能凑出恰好的钱数购买第 $i$ 块手表则输出 `Yes` 否则输出 `No`，注意只有首字母大写。", "hint": "#### 样例 1 解释\n\n- 第二块手表 $19=6 \\times 3+1=6 \\times 2+5+1 \\times 2$，可以恰好凑出。\n- 第四块手表 $1=1 \\times 1$，可以恰好凑出。\n- 第五块手表 $7=5+2\\times 1=6 \\times 1+1$，可以恰好凑出。\n\n#### 数据规模与约定\n- 对于 $50\\%$ 的数据，保证 $n\\leq 10$，$m \\leq 60$，$a_i \\leq 20$，$k_i \\leq 5000$，$t_i \\leq 250$。\n- 对于 $100\\%$ 的数据，保证 $1 \\leq n \\leq 200$，$1 \\leq m \\leq 10^5$，$1 \\leq a_i \\leq 1000$，$1 \\leq k_i \\leq 500000$，$0 \\leq t_i \\leq 500000$。\n\n#### 说明\n\ndata provider：@皎月半洒花。", "locale": "zh-CN"}}}
{"pid": "P6568", "type": "P", "difficulty": 2, "samples": [["10\n5\n890 965 256 419 296 987 45 676 976 742\n", "3813"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "2020", "前缀和", "NOI Online"], "title": "[NOI Online #3 提高组] 水壶", "background": "", "description": "有 $n$ 个容量无穷大的水壶，它们从 $1\\sim n$ 编号，初始时 $i$ 号水壶中装有 $A_i$ 单位的水。\n\n你可以进行不超过 $k$ 次操作，每次操作需要选择一个满足 $1\\le x\\le n-1$ 的编号 $x$，然后把 $x$ 号水壶中的水全部倒入 $x+1$ 号水壶中。\n\n最后你可以任意选择恰好一个水壶，并喝掉水壶中所有的水。现在请你求出，你最多能喝到多少单位的水。", "inputFormat": "第一行一个正整数 $n$，表示水壶的个数。\n\n第二行一个非负整数 $k$，表示操作次数上限。\n\n第三行 $n$ 个非负整数，相邻两个数用空格隔开，表示水壶的初始装水量 $A_1$, $A_2$, $\\cdots$, $A_n$。", "outputFormat": "一行，仅一个非负整数，表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $10\\%$ 的数据，保证 $n \\leq 10$。\n- 对于 $30\\%$ 的数据，保证 $n \\leq 100$。\n- 对于 $50\\%$ 的数据，保证 $n \\leq 10^3$。\n- 对于 $70\\%$ 的数据，保证 $n \\leq 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\leq n\\leq 10^6$，$0\\leq k \\leq n-1$，$0\\le A_i\\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #3 提高组] 水壶", "background": "", "description": "有 $n$ 个容量无穷大的水壶，它们从 $1\\sim n$ 编号，初始时 $i$ 号水壶中装有 $A_i$ 单位的水。\n\n你可以进行不超过 $k$ 次操作，每次操作需要选择一个满足 $1\\le x\\le n-1$ 的编号 $x$，然后把 $x$ 号水壶中的水全部倒入 $x+1$ 号水壶中。\n\n最后你可以任意选择恰好一个水壶，并喝掉水壶中所有的水。现在请你求出，你最多能喝到多少单位的水。", "inputFormat": "第一行一个正整数 $n$，表示水壶的个数。\n\n第二行一个非负整数 $k$，表示操作次数上限。\n\n第三行 $n$ 个非负整数，相邻两个数用空格隔开，表示水壶的初始装水量 $A_1$, $A_2$, $\\cdots$, $A_n$。", "outputFormat": "一行，仅一个非负整数，表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $10\\%$ 的数据，保证 $n \\leq 10$。\n- 对于 $30\\%$ 的数据，保证 $n \\leq 100$。\n- 对于 $50\\%$ 的数据，保证 $n \\leq 10^3$。\n- 对于 $70\\%$ 的数据，保证 $n \\leq 10^5$。\n- 对于 $100\\%$ 的数据，保证 $1\\leq n\\leq 10^6$，$0\\leq k \\leq n-1$，$0\\le A_i\\le 10^3$。", "locale": "zh-CN"}}}
{"pid": "P6569", "type": "P", "difficulty": 5, "samples": [["3 3 1\n0 0 1\n1 2\n1 3\n2 3\n1\n", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2020", "倍增", "矩阵运算", "NOI Online"], "title": "[NOI Online #3 提高组] 魔法值", "background": null, "description": "H 国的交通由 $n$ 座城市与 $m$ 条道路构成，城市与道路都从 $1$ 开始编号，其中 $1$ 号城市是 H 国的首都。H 国中一条道路将把两个不同城市直接相连，且任意两个城市间至多有一条道路。\n\nH 国是一个信奉魔法的国家，在第 $j$ 天，$i$ 号城市的魔法值为 $f_{i,j}$。H 国的魔法师已观测到第 0 天时所有城市的魔法值 $f_{i,0}$，且他们还发现，之后的每一天每个城市的魔法值，都将会变为所有与该城市直接相连的城市的前一天魔法值的异或值，即\n\n$$\nf_{x,j}=f_{v_1,j-1}\\oplus f_{v_2,j-1}\\oplus \\cdots\\oplus f_{v_k,j-1}\n$$\n\n其中 $j\\ge 1$，$v_1,v_2,\\cdots,v_k$ 是所有与 $x$ 号城市直接相连的城市，$\\oplus$ 为异或运算。\n\n现在 H 国的国王问了你 $q$ 个问题，对于第 $i$（$1\\le i\\le q$）个问题你需要回答：第 $a_i$ 天时首都的魔法值是多少。", "inputFormat": "第一行三个用空格分隔的整数 $n,m,q$，表示城市数、道路数与问题数。\n\n第二行 $n$ 个用空格分隔的整数，第 $i$ 个整数表示 $f_{i, 0}$。\n\n接下来 $m$ 行，每行两个用空格分隔的正整数 $u,v$，表示一条连接 $u$ 号城市与 $v$ 号城市的道路。\n\n接下来 $q$ 行每行一个整数，第 $i$ 行的整数表示 $a_i$。", "outputFormat": "按顺序输出 $q$ 行每行一个整数，表示对应问题的答案。", "hint": "#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，满足 $a_i \\leq 100$。\n- 对于 $40\\%$ 的数据，满足 $n \\leq 20$。\n- 另有 $30\\%$ 的数据，满足 $m=\\frac{n(n-1)}{2}$。\n- 对于 $100\\%$ 的数据，满足 $1 \\leq n,q \\leq 100$，$1 \\leq m \\leq \\frac{n(n-1)}{2}$，$1\\leq a_i < 2^{32}$，$0\\leq f_{i,0} < 2^{32}$。\n\n#### 说明\n\ndata provider ：@一扶苏一，数据有锅请联系她。如果被朴素的快速幂水过去了也请联系她。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #3 提高组] 魔法值", "background": null, "description": "H 国的交通由 $n$ 座城市与 $m$ 条道路构成，城市与道路都从 $1$ 开始编号，其中 $1$ 号城市是 H 国的首都。H 国中一条道路将把两个不同城市直接相连，且任意两个城市间至多有一条道路。\n\nH 国是一个信奉魔法的国家，在第 $j$ 天，$i$ 号城市的魔法值为 $f_{i,j}$。H 国的魔法师已观测到第 0 天时所有城市的魔法值 $f_{i,0}$，且他们还发现，之后的每一天每个城市的魔法值，都将会变为所有与该城市直接相连的城市的前一天魔法值的异或值，即\n\n$$\nf_{x,j}=f_{v_1,j-1}\\oplus f_{v_2,j-1}\\oplus \\cdots\\oplus f_{v_k,j-1}\n$$\n\n其中 $j\\ge 1$，$v_1,v_2,\\cdots,v_k$ 是所有与 $x$ 号城市直接相连的城市，$\\oplus$ 为异或运算。\n\n现在 H 国的国王问了你 $q$ 个问题，对于第 $i$（$1\\le i\\le q$）个问题你需要回答：第 $a_i$ 天时首都的魔法值是多少。", "inputFormat": "第一行三个用空格分隔的整数 $n,m,q$，表示城市数、道路数与问题数。\n\n第二行 $n$ 个用空格分隔的整数，第 $i$ 个整数表示 $f_{i, 0}$。\n\n接下来 $m$ 行，每行两个用空格分隔的正整数 $u,v$，表示一条连接 $u$ 号城市与 $v$ 号城市的道路。\n\n接下来 $q$ 行每行一个整数，第 $i$ 行的整数表示 $a_i$。", "outputFormat": "按顺序输出 $q$ 行每行一个整数，表示对应问题的答案。", "hint": "#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，满足 $a_i \\leq 100$。\n- 对于 $40\\%$ 的数据，满足 $n \\leq 20$。\n- 另有 $30\\%$ 的数据，满足 $m=\\frac{n(n-1)}{2}$。\n- 对于 $100\\%$ 的数据，满足 $1 \\leq n,q \\leq 100$，$1 \\leq m \\leq \\frac{n(n-1)}{2}$，$1\\leq a_i < 2^{32}$，$0\\leq f_{i,0} < 2^{32}$。\n\n#### 说明\n\ndata provider ：@一扶苏一，数据有锅请联系她。如果被朴素的快速幂水过去了也请联系她。", "locale": "zh-CN"}}}
{"pid": "P6570", "type": "P", "difficulty": 6, "samples": [["4\n1 2 2 3", "12"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2020", "NOI Online"], "title": "[NOI Online #3 提高组] 优秀子序列", "background": "", "description": "给定一个长度为 $n$ 的非负整数序列 $A=\\{a_1,a_2,\\cdots,a_n\\}$，对于 $A$ 的一个子序列 $B=\\{a_{b_1},a_{b_2},\\cdots,a_{b_m}\\}$（$0\\le m\\le n$，$1\\le b_1<b_2<\\cdots<b_m\\le n$，下同），称 $B$ 是 $A$ 的优秀子序列当且仅当，其任意两个不同元素的按位与结果均为 $0$，即：$\\forall 1\\le i<j\\le m$，满足：$a_{b_i}~\\mathrm{and}~a_{b_j}=0$，其中 $~\\mathrm{and}~$   是按位与运算。\n\n对于子序列 $B=\\{a_{b_1},a_{b_2},\\cdots,a_{b_m}\\}$，我们定义其价值为 $\\varphi(1+\\sum_{i=1}^m a_{b_i})$，其中 $\\varphi(x)$ 表示小等于 $x$ 的正整数中与 $x$ 互质的数的个数。\n\n现在请你求出 $A$ 的所有优秀子序列的价值之和，答案对 $10^9+7$ 取模。", "inputFormat": "第一行一个正整数 $n$ 表示序列长度。\n\n第二行 $n$ 个用空格分隔的非负整数，表示 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "仅一行一个整数，表示答案对 $10^9+7$ 取模的结果。", "hint": "#### 样例 1 解释\n符合条件的子序列有：$\\emptyset$，$\\{1\\}$，$\\{2\\}$，$\\{2\\}$，$\\{3\\}$，$\\{1,2\\}$，$\\{1,2\\}$，它们价值依次为 $1$，$1$，$2$，$2$，$2$，$2$，$2$，总和为 $12$。\n\n#### 数据规模与约定\n- 对于 $10\\%$ 的数据，保证 $a_i\\le 1$。\n- 对于 $30\\%$ 的数据，保证 $a_i\\le 1000$。\n- 对于 $60\\%$ 的数据，保证 $a_i\\le 30000$。\n- 另有 $10\\%$ 的数据，保证 $n\\le 20$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^6$，$0\\le a_i\\le 2\\times 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[NOI Online #3 提高组] 优秀子序列", "background": "", "description": "给定一个长度为 $n$ 的非负整数序列 $A=\\{a_1,a_2,\\cdots,a_n\\}$，对于 $A$ 的一个子序列 $B=\\{a_{b_1},a_{b_2},\\cdots,a_{b_m}\\}$（$0\\le m\\le n$，$1\\le b_1<b_2<\\cdots<b_m\\le n$，下同），称 $B$ 是 $A$ 的优秀子序列当且仅当，其任意两个不同元素的按位与结果均为 $0$，即：$\\forall 1\\le i<j\\le m$，满足：$a_{b_i}~\\mathrm{and}~a_{b_j}=0$，其中 $~\\mathrm{and}~$   是按位与运算。\n\n对于子序列 $B=\\{a_{b_1},a_{b_2},\\cdots,a_{b_m}\\}$，我们定义其价值为 $\\varphi(1+\\sum_{i=1}^m a_{b_i})$，其中 $\\varphi(x)$ 表示小等于 $x$ 的正整数中与 $x$ 互质的数的个数。\n\n现在请你求出 $A$ 的所有优秀子序列的价值之和，答案对 $10^9+7$ 取模。", "inputFormat": "第一行一个正整数 $n$ 表示序列长度。\n\n第二行 $n$ 个用空格分隔的非负整数，表示 $a_1,a_2,\\cdots,a_n$。", "outputFormat": "仅一行一个整数，表示答案对 $10^9+7$ 取模的结果。", "hint": "#### 样例 1 解释\n符合条件的子序列有：$\\emptyset$，$\\{1\\}$，$\\{2\\}$，$\\{2\\}$，$\\{3\\}$，$\\{1,2\\}$，$\\{1,2\\}$，它们价值依次为 $1$，$1$，$2$，$2$，$2$，$2$，$2$，总和为 $12$。\n\n#### 数据规模与约定\n- 对于 $10\\%$ 的数据，保证 $a_i\\le 1$。\n- 对于 $30\\%$ 的数据，保证 $a_i\\le 1000$。\n- 对于 $60\\%$ 的数据，保证 $a_i\\le 30000$。\n- 另有 $10\\%$ 的数据，保证 $n\\le 20$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n\\le 10^6$，$0\\le a_i\\le 2\\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6571", "type": "P", "difficulty": 5, "samples": [["5 3\n2 1 2\n3 0 2 3\n3 0 1 4\n2 1 4\n2 2 3\n", "3"], ["5 3\n3 1 2 4\n1 0\n1 0\n0\n1 0\n", "2"]], "limits": {"time": [1000, 1000, 2000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "BalticOI（波罗的海）"], "title": "[BalticOI 2017] Political Development", "background": "", "description": "某个有 $n$ 个成员的政党想要发展一些全新的政策。为了做到这一点，这个政党计划为了新的政策的发展，建立一个委员会。显然，当所有委员会委员的意见都不一致，并且这个委员会尽量大的时候，政策得以最好地发展。  \n为了指出哪一对政治家的意见不一致以及哪一对意见一致，政党安排每一对可能的政治家讨论一个随机选择的话题。无论何时，如果两个政治家不能在指定的话题上达成统一意见，他们就会被记录在政党的功德册上。  \n带着这本书，你被指定去完成找出最大的委员会，使得所有的委员的意见都不一致的任务。然而，找到一个大的委员会是非常有挑战的。仔细的分析结果显示，对于任意一个由党员所组成的非空的小组，存在至少一个小组成员，使得小组中与他的意见不一致的成员严格少于 $k$ 个。那么显然委员会不能有多于 $k$ 个成员。但是能够选出一个这个大小的委员会吗？找到最大的委员会的大小，使得其中没有人的意见是一致的。\n\n---\n\n一句话题意：\n\n给一个图，满足对于任意点导出子图，存在一个节点的度数小于 $k$，求原图的最大团。", "inputFormat": "第一行包含两个整数 $n$ 和 $k$，$n$ 表示点的个数，$k$ 如上所述。  \n每个点用一个 $0$ 到 $n-1$ 之间的整数 $i$ 表示。  \n接下来的 $n$ 行，每行描述一个点 $i$，从 $i=0$ 开始。第 $i$ 行以一个整数 $d_i$ 开始，接下来是 $d_i$ 个整数，表示与第 $i$ 个点相连的点。", "outputFormat": "输出仅一行一个整数，表示原图的最大团。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（4 pts）：$k \\le 2$，$n \\le 5 \\times 10^3$。\n- Subtask 2（12 pts）：$k \\le 3$，$n \\le 5 \\times 10^3$。\n- Subtask 3（23 pts）：$d_i \\le 10$。\n- Subtask 4（38 pts）：$n \\le 5 \\times 10^3$。\n- Subtask 5（23 pts）：$ k \\le 5$。\n\n对于 $100\\%$ 的数据，$0 \\le d_i<n\\le 5 \\times 10^4$，$1 \\le k \\le 10$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D1](https://boi.cses.fi/files/boi2017_day1.pdf) T1 Political Development。**  \n翻译者：@[FZzzz](https://www.luogu.com.cn/user/174045)。   \n~~所以这题提供者为什么还是菜鸡书虫呢，小编也不知道，欢迎私下跟小编讨论吖~~", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2017] Political Development", "background": "", "description": "某个有 $n$ 个成员的政党想要发展一些全新的政策。为了做到这一点，这个政党计划为了新的政策的发展，建立一个委员会。显然，当所有委员会委员的意见都不一致，并且这个委员会尽量大的时候，政策得以最好地发展。  \n为了指出哪一对政治家的意见不一致以及哪一对意见一致，政党安排每一对可能的政治家讨论一个随机选择的话题。无论何时，如果两个政治家不能在指定的话题上达成统一意见，他们就会被记录在政党的功德册上。  \n带着这本书，你被指定去完成找出最大的委员会，使得所有的委员的意见都不一致的任务。然而，找到一个大的委员会是非常有挑战的。仔细的分析结果显示，对于任意一个由党员所组成的非空的小组，存在至少一个小组成员，使得小组中与他的意见不一致的成员严格少于 $k$ 个。那么显然委员会不能有多于 $k$ 个成员。但是能够选出一个这个大小的委员会吗？找到最大的委员会的大小，使得其中没有人的意见是一致的。\n\n---\n\n一句话题意：\n\n给一个图，满足对于任意点导出子图，存在一个节点的度数小于 $k$，求原图的最大团。", "inputFormat": "第一行包含两个整数 $n$ 和 $k$，$n$ 表示点的个数，$k$ 如上所述。  \n每个点用一个 $0$ 到 $n-1$ 之间的整数 $i$ 表示。  \n接下来的 $n$ 行，每行描述一个点 $i$，从 $i=0$ 开始。第 $i$ 行以一个整数 $d_i$ 开始，接下来是 $d_i$ 个整数，表示与第 $i$ 个点相连的点。", "outputFormat": "输出仅一行一个整数，表示原图的最大团。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（4 pts）：$k \\le 2$，$n \\le 5 \\times 10^3$。\n- Subtask 2（12 pts）：$k \\le 3$，$n \\le 5 \\times 10^3$。\n- Subtask 3（23 pts）：$d_i \\le 10$。\n- Subtask 4（38 pts）：$n \\le 5 \\times 10^3$。\n- Subtask 5（23 pts）：$ k \\le 5$。\n\n对于 $100\\%$ 的数据，$0 \\le d_i<n\\le 5 \\times 10^4$，$1 \\le k \\le 10$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D1](https://boi.cses.fi/files/boi2017_day1.pdf) T1 Political Development。**  \n翻译者：@[FZzzz](https://www.luogu.com.cn/user/174045)。   \n~~所以这题提供者为什么还是菜鸡书虫呢，小编也不知道，欢迎私下跟小编讨论吖~~", "locale": "zh-CN"}}}
{"pid": "P6572", "type": "P", "difficulty": 5, "samples": [["6 3 2\n1 3\n2 3\n3 4\n6 4\n4 5\n4 1 3 2 5\n2 6 3\n2 3 2", "2\n2 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["2017", "虚树", "差分", "BalticOI（波罗的海）"], "title": "[BalticOI 2017] Railway", "background": "Bergen 基础设施建设部在一年前就有了把所有的城市用道路连起来的想法。  \n可惜的是，过了一年了，这个计划烂尾了。  \n所以，基础设施建设部部长就准备重启这个计划，然后把它搞得简单亿点。", "description": "原定的计划是有 $n$ 个城市用 $n-1$ 个道路连起来。    \n现在有 $m$ 个副部长，每个副部长都认为有一些城市是必须连起来的。  \n比如说这个副部长想把 $a$ 和 $c$ 连起来，有两条道路 $a - b$ 和 $b - c$，那么副部长的要求等价过来就是选择这两条道路。  \n现在要找出几条道路是至少 $k$ 个副部长选择的。  \n部长就找到了您，想让您找出这几条道路。", "inputFormat": "第一行三个整数 $n,m,k$ 代表城市数，副部长数和最少需要满足多少个副部长。  \n接下来 $n-1$ 行每行两个整数 $a_i$ 和 $b_i$ 代表第 $i$ 条道路是 $a_i$ 和 $b_i$ 之间的。  \n这 $n-1$ 个道路的编号就是 $1$ 到 $n-1$。  \n接下来 $m$ 行首先一个整数 $s_i$ 代表这个副部长觉得有 $s_i$ 个城市需要相连，接下来 $s_i$ 个整数代表副部长觉得哪些城市需要相连。", "outputFormat": "第一行一个整数 $r$ 代表至少满足 $k$ 个副部长的道路有多少个。  \n第二行 $r$ 个整数代表要搭建编号为哪些的道路的升序排列。", "hint": "#### 样例说明\n\n$3$ 个副部长的要求如下：\n\n- $1-3,2-3,3-4,4-5$\n- $3-4,4-6$\n- $2-3$\n\n至少满足 $2$ 个副部长的道路为 $2$ 号和 $3$ 号。\n\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（8 pts）：$n \\le 10^4$，$\\sum s_i \\le 2 \\times 10^3$。\n- Subtask 2（15 pts）：$n \\le 10^4$，$m \\le 2 \\times 10^3$。\n- Subtask 3（7 pts）：每个城市最多是 $2$ 条道路的端点。\n- Subtask 4（29 pts）：$k=m$，$s_i=2$。\n- Subtask 5（16 pts）：$k=m$。\n- Subtask 6（25 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$2 \\le s_i \\le n \\le 10^5$，$1 \\le k \\le m \\le 5 \\times 10^4$，$\\sum s_i \\le 10^5$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D1](https://boi.cses.fi/files/boi2017_day1.pdf) T2 Railway。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2017] Railway", "background": "Bergen 基础设施建设部在一年前就有了把所有的城市用道路连起来的想法。  \n可惜的是，过了一年了，这个计划烂尾了。  \n所以，基础设施建设部部长就准备重启这个计划，然后把它搞得简单亿点。", "description": "原定的计划是有 $n$ 个城市用 $n-1$ 个道路连起来。    \n现在有 $m$ 个副部长，每个副部长都认为有一些城市是必须连起来的。  \n比如说这个副部长想把 $a$ 和 $c$ 连起来，有两条道路 $a - b$ 和 $b - c$，那么副部长的要求等价过来就是选择这两条道路。  \n现在要找出几条道路是至少 $k$ 个副部长选择的。  \n部长就找到了您，想让您找出这几条道路。", "inputFormat": "第一行三个整数 $n,m,k$ 代表城市数，副部长数和最少需要满足多少个副部长。  \n接下来 $n-1$ 行每行两个整数 $a_i$ 和 $b_i$ 代表第 $i$ 条道路是 $a_i$ 和 $b_i$ 之间的。  \n这 $n-1$ 个道路的编号就是 $1$ 到 $n-1$。  \n接下来 $m$ 行首先一个整数 $s_i$ 代表这个副部长觉得有 $s_i$ 个城市需要相连，接下来 $s_i$ 个整数代表副部长觉得哪些城市需要相连。", "outputFormat": "第一行一个整数 $r$ 代表至少满足 $k$ 个副部长的道路有多少个。  \n第二行 $r$ 个整数代表要搭建编号为哪些的道路的升序排列。", "hint": "#### 样例说明\n\n$3$ 个副部长的要求如下：\n\n- $1-3,2-3,3-4,4-5$\n- $3-4,4-6$\n- $2-3$\n\n至少满足 $2$ 个副部长的道路为 $2$ 号和 $3$ 号。\n\n#### 数据范围\n\n**本题采用捆绑测试。**\n\n- Subtask 1（8 pts）：$n \\le 10^4$，$\\sum s_i \\le 2 \\times 10^3$。\n- Subtask 2（15 pts）：$n \\le 10^4$，$m \\le 2 \\times 10^3$。\n- Subtask 3（7 pts）：每个城市最多是 $2$ 条道路的端点。\n- Subtask 4（29 pts）：$k=m$，$s_i=2$。\n- Subtask 5（16 pts）：$k=m$。\n- Subtask 6（25 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$2 \\le s_i \\le n \\le 10^5$，$1 \\le k \\le m \\le 5 \\times 10^4$，$\\sum s_i \\le 10^5$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D1](https://boi.cses.fi/files/boi2017_day1.pdf) T2 Railway。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN"}}}
{"pid": "P6573", "type": "P", "difficulty": 6, "samples": [["5 14 5 5\n0 5 9\n5 12 10\n0 7 7\n7 12 8\n4 7 10\n0 12\n0 5\n0 7\n7 12\n0 13", "15\n9\n7\n8\n-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "2017", "线段树", "矩阵运算", "O2优化", "BalticOI（波罗的海）"], "title": "[BalticOI 2017] Toll", "background": "作为一个合格的货运公司，在送达货物的同时也要让花的钱最少。", "description": "这座城市有 $n$ 个地点，这 $n$ 个地点之间有 $m$ 条边。  \n货运公司接到了 $o$ 个订单，他们要想方设法的让路途中花的钱最少。  \n对于每条路，都有三个信息：  \n- $a,b$ 代表从 $a$ 连到 $b$；\n- $t$ 代表这条路需要多少钱。  \n\n并且对于每个订单，都给出 $a$ 和 $b$ 代表要把物品从 $a$ 运到 $b$ ，求每个订单需要花的最少的钱；如果无法送达就输出 $-1$。  \n特别的，对于两个编号为 $a,b$ 的路，一定满足：\n$$\\left\\lfloor\\dfrac{b}{k}\\right\\rfloor=1+\\left\\lfloor\\dfrac{a}{k}\\right\\rfloor$$\n（$k$ 是一个给定的常数）。", "inputFormat": "第一行四个整数 $k,n,m,o$ 代表一个常数，地点的个数，边的个数，订单的个数。  \n点的编号为从 $0$ 到 $n - 1$。  \n接下来 $m$ 行每行三个整数 $a,b,t$ 代表从 $a$ 连向 $b$ 要花费 $t$，保证满足 $\\left\\lfloor\\dfrac{b}{k}\\right\\rfloor=1+\\left\\lfloor\\dfrac{a}{k}\\right\\rfloor$，并且两点之间连接的边数不超过 $1$ 条边。  \n接下来 $o$ 行每行两个整数 $a,b$ 代表要从 $a$ 运货到 $b$。", "outputFormat": "对于每个订单，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（7 pts）：$k=1$。\n- Subtask 2（10 pts）：每个订单中的 $a=0$。\n- Subtask 3（8 pts）：$o \\le 100$。\n- Subtask 4（31 pts）：$o \\le 3000$。\n- Subtask 5（44 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 50000$，$1 \\le o \\le 10000$，$1 \\le k \\le 5$，$0 \\le a < b < n$，$1 \\le t \\le 10000$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D1](https://boi.cses.fi/files/boi2017_day1.pdf) T3 Toll。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。   \n**本题强制 $O2$ 优化。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2017] Toll", "background": "作为一个合格的货运公司，在送达货物的同时也要让花的钱最少。", "description": "这座城市有 $n$ 个地点，这 $n$ 个地点之间有 $m$ 条边。  \n货运公司接到了 $o$ 个订单，他们要想方设法的让路途中花的钱最少。  \n对于每条路，都有三个信息：  \n- $a,b$ 代表从 $a$ 连到 $b$；\n- $t$ 代表这条路需要多少钱。  \n\n并且对于每个订单，都给出 $a$ 和 $b$ 代表要把物品从 $a$ 运到 $b$ ，求每个订单需要花的最少的钱；如果无法送达就输出 $-1$。  \n特别的，对于两个编号为 $a,b$ 的路，一定满足：\n$$\\left\\lfloor\\dfrac{b}{k}\\right\\rfloor=1+\\left\\lfloor\\dfrac{a}{k}\\right\\rfloor$$\n（$k$ 是一个给定的常数）。", "inputFormat": "第一行四个整数 $k,n,m,o$ 代表一个常数，地点的个数，边的个数，订单的个数。  \n点的编号为从 $0$ 到 $n - 1$。  \n接下来 $m$ 行每行三个整数 $a,b,t$ 代表从 $a$ 连向 $b$ 要花费 $t$，保证满足 $\\left\\lfloor\\dfrac{b}{k}\\right\\rfloor=1+\\left\\lfloor\\dfrac{a}{k}\\right\\rfloor$，并且两点之间连接的边数不超过 $1$ 条边。  \n接下来 $o$ 行每行两个整数 $a,b$ 代表要从 $a$ 运货到 $b$。", "outputFormat": "对于每个订单，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（7 pts）：$k=1$。\n- Subtask 2（10 pts）：每个订单中的 $a=0$。\n- Subtask 3（8 pts）：$o \\le 100$。\n- Subtask 4（31 pts）：$o \\le 3000$。\n- Subtask 5（44 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 50000$，$1 \\le o \\le 10000$，$1 \\le k \\le 5$，$0 \\le a < b < n$，$1 \\le t \\le 10000$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D1](https://boi.cses.fi/files/boi2017_day1.pdf) T3 Toll。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。   \n**本题强制 $O2$ 优化。**", "locale": "zh-CN"}}}
{"pid": "P6574", "type": "P", "difficulty": 5, "samples": [["4 3\n0\n0\n1", "2"], ["3 1000\n0\n0", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "2017", "深度优先搜索 DFS", "BalticOI（波罗的海）"], "title": "[BalticOI 2017] Cat in a tree", "background": null, "description": "小猫在一棵有 $n$ 个节点的树上，它通过标记节点来划分领地。  \n它标记的节点满足彼此距离不小于 $d$。  \n两节点之间的距离指的是两点间路径上边的个数。\n求小猫最多能标记多少个节点。", "inputFormat": "第一行两个整数代表节点数 $n$ 和标记的节点不小于的距离 $d$。\n第 $0$ 个节点就是根节点，节点的编号为从 $0$ 到 $n - 1$。  \n接下来 $n-1$ 行，第 $i$ 行代表第 $i$ 个节点与哪个节点相连，一个数 $x_i$ 代表编号为 $i$ 的节点与编号为 $x_i$ 的节点相连。", "outputFormat": "一行一个整数代表猫最多能标记多少个节点。", "hint": "#### 数据范围与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（11 pts）：$n \\le 18$。\n- Subtask 2（40 pts）：$n \\le 1500$。\n- Subtask 3（49 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,d \\le 2 \\times 10^5$，$0 \\le x_i < i$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D2](https://boi.cses.fi/files/boi2017_day2.pdf) T1 Cat in a tree。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2017] Cat in a tree", "background": null, "description": "小猫在一棵有 $n$ 个节点的树上，它通过标记节点来划分领地。  \n它标记的节点满足彼此距离不小于 $d$。  \n两节点之间的距离指的是两点间路径上边的个数。\n求小猫最多能标记多少个节点。", "inputFormat": "第一行两个整数代表节点数 $n$ 和标记的节点不小于的距离 $d$。\n第 $0$ 个节点就是根节点，节点的编号为从 $0$ 到 $n - 1$。  \n接下来 $n-1$ 行，第 $i$ 行代表第 $i$ 个节点与哪个节点相连，一个数 $x_i$ 代表编号为 $i$ 的节点与编号为 $x_i$ 的节点相连。", "outputFormat": "一行一个整数代表猫最多能标记多少个节点。", "hint": "#### 数据范围与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（11 pts）：$n \\le 18$。\n- Subtask 2（40 pts）：$n \\le 1500$。\n- Subtask 3（49 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,d \\le 2 \\times 10^5$，$0 \\le x_i < i$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D2](https://boi.cses.fi/files/boi2017_day2.pdf) T1 Cat in a tree。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN"}}}
{"pid": "P6575", "type": "P", "difficulty": 6, "samples": [["4 2 1\n1 1\n2 0 2\n2 1 3\n1 2\n", "home\n2\n2 0 1\n2 2 3"], ["5 2 1\n1 1\n2 0 2\n2 1 3\n2 2 4\n1 3\n", "detention"], ["3 3 3\n2 1 2\n2 0 2\n1 0\n", "detention"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "Special Judge", "BalticOI（波罗的海）"], "title": "[BalticOI 2017] Friends", "background": "高中就是要交最棒的朋友！  \n乌姆里奇校长要调查霍格沃茨学校的交友情况了！", "description": "学校里有 $n$ 个同学，他们的交友情况满足以下的条件：\n\n- 如果 $a$ 与 $b$ 是朋友那么 $b$ 与 $a$ 也是朋友；\n- 同学们可以分成组，每个同学都恰好只在一个组里面，且：\n\t- 每个组的人数至少 $1$ 个最多 $p$ 个；\n    - 每组都有这样最多 $q$ 对朋友满足一个人在这个组，另一个人在别的组。\n    \n在同一个组里的两个同学不一定必须是朋友。   \n现在她来问您，想让您说出这些学生撒没撒谎。  \n如果没有撒谎的话，她想让您给出一个合理的分组模式。", "inputFormat": "第一行三个整数 $n,p,q$ 代表学生数，组别内学生的限制，和组别内不同组别朋友的限制。  \n学生的编号为从 $0$ 到 $n - 1$。   \n接下来 $n$ 行，从第 $0$ 个学生开始，首先一个整数 $m_i$ 代表这个学生与多少个学生为朋友，接下来 $m_i$ 个整数代表有哪些朋友。", "outputFormat": "如果这些学生撒谎了，输出 `detention` 并结束程序。  \n如果这些学生没撒谎，首先输出 `home`。  \n然后一个整数 $G$ 代表这些学生可以分成 $G$ 组。  \n接下来 $G$ 行每行首先一个整数 $G'$ 代表这一组有几个学生，然后 $G'$ 个整数 $g_i$ 代表这一组学生的编号。  \n**任意输出一种方式即可。**", "hint": "**数据规模与约定**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：$n \\le 16$。\n- Subtask 2（37 pts）：$n \\le 250$，$q \\le 2$。\n- Subtask 3（12 pts）：$q \\le 2$。\n- Subtask 4（31 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 2500$，$p+q \\le 15$，$\\sum m_i \\le 30000$，同学们不以自己为朋友。\n\n**本题使用 Special Judge。**\n\n**说明**\n\n**翻译自 [BOI 2017 D2](https://boi.cses.fi/files/boi2017_day2.pdf) T2 Friends。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。\n\nspj 提示信息说明：\n- `Accepted`：答案正确。\n- `Wrong Answer[0]`：判断错误。\n- `Wrong Answer[1]`：某些组的大小不符合要求。\n- `Wrong Answer[2]`：组里含有编号不在 $0$ 到 $n-1$ 内的人。\n- `Wrong Answer[3]`：某些人属于多个组。\n- `Wrong Answer[4]`：某些人不属于任何组。\n- `Wrong Answer[5]`：分组不满足要求。\n\nspj 作者：@[FZzzz](https://www.luogu.com.cn/user/174045)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2017] Friends", "background": "高中就是要交最棒的朋友！  \n乌姆里奇校长要调查霍格沃茨学校的交友情况了！", "description": "学校里有 $n$ 个同学，他们的交友情况满足以下的条件：\n\n- 如果 $a$ 与 $b$ 是朋友那么 $b$ 与 $a$ 也是朋友；\n- 同学们可以分成组，每个同学都恰好只在一个组里面，且：\n\t- 每个组的人数至少 $1$ 个最多 $p$ 个；\n    - 每组都有这样最多 $q$ 对朋友满足一个人在这个组，另一个人在别的组。\n    \n在同一个组里的两个同学不一定必须是朋友。   \n现在她来问您，想让您说出这些学生撒没撒谎。  \n如果没有撒谎的话，她想让您给出一个合理的分组模式。", "inputFormat": "第一行三个整数 $n,p,q$ 代表学生数，组别内学生的限制，和组别内不同组别朋友的限制。  \n学生的编号为从 $0$ 到 $n - 1$。   \n接下来 $n$ 行，从第 $0$ 个学生开始，首先一个整数 $m_i$ 代表这个学生与多少个学生为朋友，接下来 $m_i$ 个整数代表有哪些朋友。", "outputFormat": "如果这些学生撒谎了，输出 `detention` 并结束程序。  \n如果这些学生没撒谎，首先输出 `home`。  \n然后一个整数 $G$ 代表这些学生可以分成 $G$ 组。  \n接下来 $G$ 行每行首先一个整数 $G'$ 代表这一组有几个学生，然后 $G'$ 个整数 $g_i$ 代表这一组学生的编号。  \n**任意输出一种方式即可。**", "hint": "**数据规模与约定**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（20 pts）：$n \\le 16$。\n- Subtask 2（37 pts）：$n \\le 250$，$q \\le 2$。\n- Subtask 3（12 pts）：$q \\le 2$。\n- Subtask 4（31 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 2500$，$p+q \\le 15$，$\\sum m_i \\le 30000$，同学们不以自己为朋友。\n\n**本题使用 Special Judge。**\n\n**说明**\n\n**翻译自 [BOI 2017 D2](https://boi.cses.fi/files/boi2017_day2.pdf) T2 Friends。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。\n\nspj 提示信息说明：\n- `Accepted`：答案正确。\n- `Wrong Answer[0]`：判断错误。\n- `Wrong Answer[1]`：某些组的大小不符合要求。\n- `Wrong Answer[2]`：组里含有编号不在 $0$ 到 $n-1$ 内的人。\n- `Wrong Answer[3]`：某些人属于多个组。\n- `Wrong Answer[4]`：某些人不属于任何组。\n- `Wrong Answer[5]`：分组不满足要求。\n\nspj 作者：@[FZzzz](https://www.luogu.com.cn/user/174045)。", "locale": "zh-CN"}}}
{"pid": "P6576", "type": "P", "difficulty": 5, "samples": [["2 4 4\n+ 1 1\n- 1 2\n+ 1 3\n- 1 4", "2"], ["3 3 3\n- 2 1\n+ 2 3\n+ 3 3", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2017", "容斥原理", "BalticOI（波罗的海）"], "title": "[BalticOI 2017] Plus Minus", "background": "物理学家马修正在研究硅基矩形微芯片的量子电动力学。", "description": "这一块芯片的大小为 $n \\times m$ ，可以分成 $n \\times m$ 个电子。  \n我们都知道电子的状态只有正电 `+` 和负电 `-`。  \n所以，每一个电子都只有一个状态，`+` 或者 `-`。  \n马修不知道每个电子的状态，但他可以进行 $k$ 次测量。  \n第 $i$ 次测量他可以得到 $(y_i,x_i)$ 这个电子的状态 $s_i$。  \n（$s_i$ 是 `+` 或者 `-`）  \n马修还知道，在任意一个 $2\\times2$ 的大小的电子块中，拥有 `+` 的电子和拥有 `-` 的电子数量相等。  \n然后他找到了您，想让您给出有多少种电子排列的形式满足测量的结果和上述要求。  \n答案对 $10^9+7$ 取模。", "inputFormat": "第一行三个整数 $n,m,k$ 代表芯片的大小和测量次数。  \n接下来 $k$ 行每行一个字符 $s_i$ 代表这次测量得到的状态和 $y_i,x_i$ 代表测量的位置。", "outputFormat": "一行一个整数代表有多少种电子排布的形式。  \n答案对 $10^9+7$ 取模。", "hint": "#### 样例说明\n\n对于样例 $1$，有以下 $2$ 种情况：\n```\n+-+-\n+-+-\n```\n和\n```\n+-+-\n-+-+\n```\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（12 pts）：$n,m \\le 5$。\n- Subtask 2（42 pts）：$n,m \\le 1000$。\n- Subtask 3（46 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 10^9$，$0 \\le k \\le 10^5$，$1 \\le y_i \\le n$，$1 \\le x_i \\le m$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D2](https://boi.cses.fi/files/boi2017_day2.pdf) T3 Plus Minus。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[BalticOI 2017] Plus Minus", "background": "物理学家马修正在研究硅基矩形微芯片的量子电动力学。", "description": "这一块芯片的大小为 $n \\times m$ ，可以分成 $n \\times m$ 个电子。  \n我们都知道电子的状态只有正电 `+` 和负电 `-`。  \n所以，每一个电子都只有一个状态，`+` 或者 `-`。  \n马修不知道每个电子的状态，但他可以进行 $k$ 次测量。  \n第 $i$ 次测量他可以得到 $(y_i,x_i)$ 这个电子的状态 $s_i$。  \n（$s_i$ 是 `+` 或者 `-`）  \n马修还知道，在任意一个 $2\\times2$ 的大小的电子块中，拥有 `+` 的电子和拥有 `-` 的电子数量相等。  \n然后他找到了您，想让您给出有多少种电子排列的形式满足测量的结果和上述要求。  \n答案对 $10^9+7$ 取模。", "inputFormat": "第一行三个整数 $n,m,k$ 代表芯片的大小和测量次数。  \n接下来 $k$ 行每行一个字符 $s_i$ 代表这次测量得到的状态和 $y_i,x_i$ 代表测量的位置。", "outputFormat": "一行一个整数代表有多少种电子排布的形式。  \n答案对 $10^9+7$ 取模。", "hint": "#### 样例说明\n\n对于样例 $1$，有以下 $2$ 种情况：\n```\n+-+-\n+-+-\n```\n和\n```\n+-+-\n-+-+\n```\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（12 pts）：$n,m \\le 5$。\n- Subtask 2（42 pts）：$n,m \\le 1000$。\n- Subtask 3（46 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 10^9$，$0 \\le k \\le 10^5$，$1 \\le y_i \\le n$，$1 \\le x_i \\le m$。\n\n#### 说明\n\n**翻译自 [BOI 2017 D2](https://boi.cses.fi/files/boi2017_day2.pdf) T3 Plus Minus。**  \n翻译者：@[一只书虫仔](https://www.luogu.com.cn/user/114914)。", "locale": "zh-CN"}}}
{"pid": "P6577", "type": "P", "difficulty": 6, "samples": [["5 7\n5 1 19980600\n4 2 19980587\n1 3 19980635\n3 4 19980559\n2 5 19980626\n1 2 -15484297\n4 5 -17558732\n", "99903007\n5 4 1 3 2 \n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化", "﻿基础算法", "广度优先搜索 BFS", "二分图", "其它技巧", "模板题"], "title": "【模板】二分图最大权完美匹配", "background": "> $\\rm Love ~of ~my ~life$\n>\n> $\\rm U~are~far~from~me$\n> \n> $\\rm U've ~ turned ~ me ~ on$\n> \n> $\\rm and ~ now ~ I ~ try ~ to ~ catch ~ up ~ with ~ you$\n>\n> $\\rm Love ~ of ~ my ~ life ~ can't ~ you ~ see$\n>\n> $\\rm I'll ~ always ~ try, ~ always ~ try$\n>\n> $\\rm U ~ are ~ the ~ brightest ~ star ~ to ~ me$\n> \n> $\\rm No ~ matter ~ others ~ don't ~ know$\n>\n> $\\rm what ~ it ~ means ~ to ~ me$\n>\n> ——  An adaptation of _Love of My Life_ by Queen\n\n\n这是一道夹带私货的模板题。", "description": "给定一张二分图，左右部均有 $n$ 个点，共有 $m$ 条带权边，且保证有完美匹配。\n\n求一种完美匹配的方案，使得最终匹配边的边权之和最大。", "inputFormat": "第一行两个整数 $n,m$，含义见题目描述。\n\n第 $2\\sim m+1$ 行，每行三个整数 $y,c,h$ 描述了图中的一条从左部的 $y$ 号结点到右部的 $c$ 号节点，边权为 $h$ 的边。", "outputFormat": "**本题存在 Special Judge**。\n\n第一行一个整数 $ans$ 表示答案。\n\n第二行共 $n$ 个整数 $a_1,a_2,a_3\\cdots a_n$，其中 $a_i$ 表示完美匹配下与**右部**第 $i$ 个点相匹配的左部点的编号。如果存在多种方案，请输出任意一种。", "hint": "#### 数据规模与约定\n- 对于 $10\\%$ 的数据，满足 $n\\leq 10$。\n- 对于 $30\\%$ 的数据，满足 $n\\leq 100$。\n- 对于 $60\\%$ 的数据，满足 $n\\leq 500$，且保证数据随机 。\n- 对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 500$，$1\\leq m\\leq n^2$，$-19980731\\leq h \\leq 19980731$ 。且保证没有重边。\n\n数据由善于出锅的出题人耗时好久制造完成。\n\n善良的杨村花提醒你，别忘了仔细观察一下边权范围哦~\n\n善良的杨村花又提醒你，你的复杂度可能只是「看起来」很对哦~", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【模板】二分图最大权完美匹配", "background": "> $\\rm Love ~of ~my ~life$\n>\n> $\\rm U~are~far~from~me$\n> \n> $\\rm U've ~ turned ~ me ~ on$\n> \n> $\\rm and ~ now ~ I ~ try ~ to ~ catch ~ up ~ with ~ you$\n>\n> $\\rm Love ~ of ~ my ~ life ~ can't ~ you ~ see$\n>\n> $\\rm I'll ~ always ~ try, ~ always ~ try$\n>\n> $\\rm U ~ are ~ the ~ brightest ~ star ~ to ~ me$\n> \n> $\\rm No ~ matter ~ others ~ don't ~ know$\n>\n> $\\rm what ~ it ~ means ~ to ~ me$\n>\n> ——  An adaptation of _Love of My Life_ by Queen\n\n\n这是一道夹带私货的模板题。", "description": "给定一张二分图，左右部均有 $n$ 个点，共有 $m$ 条带权边，且保证有完美匹配。\n\n求一种完美匹配的方案，使得最终匹配边的边权之和最大。", "inputFormat": "第一行两个整数 $n,m$，含义见题目描述。\n\n第 $2\\sim m+1$ 行，每行三个整数 $y,c,h$ 描述了图中的一条从左部的 $y$ 号结点到右部的 $c$ 号节点，边权为 $h$ 的边。", "outputFormat": "**本题存在 Special Judge**。\n\n第一行一个整数 $ans$ 表示答案。\n\n第二行共 $n$ 个整数 $a_1,a_2,a_3\\cdots a_n$，其中 $a_i$ 表示完美匹配下与**右部**第 $i$ 个点相匹配的左部点的编号。如果存在多种方案，请输出任意一种。", "hint": "#### 数据规模与约定\n- 对于 $10\\%$ 的数据，满足 $n\\leq 10$。\n- 对于 $30\\%$ 的数据，满足 $n\\leq 100$。\n- 对于 $60\\%$ 的数据，满足 $n\\leq 500$，且保证数据随机 。\n- 对于 $100\\%$ 的数据，满足 $1\\leq n\\leq 500$，$1\\leq m\\leq n^2$，$-19980731\\leq h \\leq 19980731$ 。且保证没有重边。\n\n数据由善于出锅的出题人耗时好久制造完成。\n\n善良的杨村花提醒你，别忘了仔细观察一下边权范围哦~\n\n善良的杨村花又提醒你，你的复杂度可能只是「看起来」很对哦~", "locale": "zh-CN"}}}
{"pid": "P6578", "type": "P", "difficulty": 7, "samples": [["6 6\n1 1 4 5 1 4\n1 1 4\n2 1 4 2\n2 1 1 4\n2 1 5 4\n1 5 4 \n2 3 3 3", "1\n1\n7\n0"]], "limits": {"time": [3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2019", "O2优化", "分块", "Ynoi"], "title": "[Ynoi2019] 魔法少女网站", "background": "我每天都在想着死去\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l47w8gf1.png)\n\n干脆死了算了吧\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1r56c7q2.png)\n\n魔法少女网站？这是什么？\n\n“真是不幸啊 真是不幸”\n\n“给予这样的你——”\n\n“魔法的力量吧”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x6llyktk.png)\n\n雨谷小雨\n\n唉，自我介绍真麻烦\n\n你因为使用魔杖过度而倒下了，之后就一直没有意识\n\n所以我治好了你\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rxxe90qn.png)\n\n在未来的8月11日19时23分\n\n在那一天，tempest将袭来——\n\nTempest将为这腐朽的世界带来终焉，打开通往新世界的大门\n但在这过程中，大多数的人类估计都会死亡\n\nTempest的到来是不可避免的，但仅有一种方法可以获得救赎——\n\n那就是填饱王的肚子\n\n王以人类的负能量为食，只要献上这种能量，就能规避tempest带来的死亡\n\n通过使用魔法少女网站给予的魔杖，就能够将负能量储存至魔杖中\n\n只有尽可能多地使用魔杖，比其他魔法少女献上更多的负能量，这样才能成为tempest的赦免对象\n\n如果想活下去，就将充斥着负能量的魔杖，在tempest那天交给我们魔法少女网站吧\n\n最后祝你们迎来美好的终焉\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tu991ylc.png)\n\n去掉人类一切的负面情绪\n\nTempest必将席卷世界\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s72vowwk.png)\n", "description": "雨谷小雨给你一个长为 $n$ 的序列，定义区间 $[l,r]$ 的子区间为所有形如 $[l',r']$ 的区间，满足 $l',r'$ 为整数，且 $l \\le l' \\le r' \\le r$。\n\n有 $m$ 次操作：\n\n`1 x y`：将 $x$ 位置的值修改为 $y$。\n\n`2 l r x`：查询区间 $[l,r]$ 中有多少子区间的最大值小于或等于 $x$。", "inputFormat": "第一行有两个整数 $n,m$，第二行有 $n$ 个整数表示这个序列。\n\n接下来 $m$ 行，每行形如 `1 x y` 或者 `2 l r x` 表示每次操作。", "outputFormat": "对于每个 $2$ 操作，输出一行一个数表示答案。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：ccz181078，Data：ccz181078\n\n\n对于 $100\\%$ 的数据，$n,m \\le 3 \\times 10^5$，$1 \\le l \\le  r \\le n$，$1 \\le x, y \\le n$，序列中每个元素都在 $[1,n]$ 中，所有数均为整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Ynoi2019] 魔法少女网站", "background": "我每天都在想着死去\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l47w8gf1.png)\n\n干脆死了算了吧\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1r56c7q2.png)\n\n魔法少女网站？这是什么？\n\n“真是不幸啊 真是不幸”\n\n“给予这样的你——”\n\n“魔法的力量吧”\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x6llyktk.png)\n\n雨谷小雨\n\n唉，自我介绍真麻烦\n\n你因为使用魔杖过度而倒下了，之后就一直没有意识\n\n所以我治好了你\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rxxe90qn.png)\n\n在未来的8月11日19时23分\n\n在那一天，tempest将袭来——\n\nTempest将为这腐朽的世界带来终焉，打开通往新世界的大门\n但在这过程中，大多数的人类估计都会死亡\n\nTempest的到来是不可避免的，但仅有一种方法可以获得救赎——\n\n那就是填饱王的肚子\n\n王以人类的负能量为食，只要献上这种能量，就能规避tempest带来的死亡\n\n通过使用魔法少女网站给予的魔杖，就能够将负能量储存至魔杖中\n\n只有尽可能多地使用魔杖，比其他魔法少女献上更多的负能量，这样才能成为tempest的赦免对象\n\n如果想活下去，就将充斥着负能量的魔杖，在tempest那天交给我们魔法少女网站吧\n\n最后祝你们迎来美好的终焉\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tu991ylc.png)\n\n去掉人类一切的负面情绪\n\nTempest必将席卷世界\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s72vowwk.png)\n", "description": "雨谷小雨给你一个长为 $n$ 的序列，定义区间 $[l,r]$ 的子区间为所有形如 $[l',r']$ 的区间，满足 $l',r'$ 为整数，且 $l \\le l' \\le r' \\le r$。\n\n有 $m$ 次操作：\n\n`1 x y`：将 $x$ 位置的值修改为 $y$。\n\n`2 l r x`：查询区间 $[l,r]$ 中有多少子区间的最大值小于或等于 $x$。", "inputFormat": "第一行有两个整数 $n,m$，第二行有 $n$ 个整数表示这个序列。\n\n接下来 $m$ 行，每行形如 `1 x y` 或者 `2 l r x` 表示每次操作。", "outputFormat": "对于每个 $2$ 操作，输出一行一个数表示答案。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：ccz181078，Data：ccz181078\n\n\n对于 $100\\%$ 的数据，$n,m \\le 3 \\times 10^5$，$1 \\le l \\le  r \\le n$，$1 \\le x, y \\le n$，序列中每个元素都在 $[1,n]$ 中，所有数均为整数。", "locale": "zh-CN"}}}
{"pid": "P6579", "type": "P", "difficulty": 7, "samples": [["9 9\n9 8 7 6 2 4 5 3 1\n4 9 3 6\n2 9 1 8\n3 8 2 4\n3 9 2 7\n2 8 1 6\n1 9 1 9\n1 3 5 7\n2 3 3 3\n6 6 6 6", "1\n4\n2\n4\n4\n4\n0\n0\n0"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2019", "O2优化", "分块", "Ynoi"], "title": "[Ynoi2019] Happy Sugar Life", "background": "我不曾明白——\n\n所谓温暖是什么样的感觉？\n\n所谓温柔的是什么？\n\n所谓的怜爱是什么？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nob8pmsq.png)\n\n更重要的是……\n\n我不能理解什么是“爱”\n\n但是，现在我明白了——\n\n我终于明白了爱的真正含义\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ed92uuh.png)\n\n——这份闪闪发光的感情，就是爱吧\n\n我发誓——\n\n无论疾病还是健康\n\n无论高兴还是悲伤\n\n无论富有还是贫穷\n\n直到死亡为止\n\n我将砂糖视为最爱，至死分离\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rtqkoufl.png)\n \n我从前没有爱过人\n\n被人咬耳朵告白这种事——\n\n倒是发生过许多次\n\n但是，无论是甜言蜜语\n\n还是做了什么事情\n\n我都无法感受到\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3x4mpqh5.png)\n\n砂糖酱，痛吗\n\n——我没事，不过……不能前往新的城堡了\n\n——对不起\n\n没事\n\n果然我还是和砂糖酱在一起的时候最幸福了\n\n——小盐……\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ymxjeje5.png)\n\n呐，砂糖酱，我思考过——\n\n那个时候，被妈妈抛弃的时候\n\n我大概是死掉的状态\n\n又悲伤，又痛苦\n\n觉得一切都无所谓，世界一片空白——\n\n但是砂糖酱出现了\n\n遇到砂糖，一起生活，过得很幸福\n\n——我也是哦，小盐\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nql2dmab.png)\n\n所以，我想要和砂糖酱在一起\n\n想要和砂糖一起幸福到最后\n\n所以，我们一起死吧，砂糖！\n\n——小盐……\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/83k9rf7e.png)\n\n我原本都不知道\n\n温暖是何种感受\n\n温柔是何物\n\n慈爱又是什么\n\n最重要的是\n\n我曾无法理解“爱”是什么\n\n这多亏了小盐\n\n因为那时小盐抓住了我的手\n\n因为小盐为我指引道路\n\n我才明白有生以来从未感受过的幸福的意义\n\n我一直都不明白\n\n原来教会我什么是爱的\n\n也是小盐\n\n小盐，转世之后也要对我告白哦\n\n对不起\n\n谢谢你\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hsgby4jy.png)\n\n这就是我的\n\n$\\texttt {Happy Sugar Life}$", "description": "砂糖和盐给你一个二维平面，记平面上两个点 $(x_1,y_1),(x_2,y_2)$ 构成支配对（记为$(x_1,y_1)\\le (x_2,y_2)$）当且仅当 $x_1\\le x_2,\\;y_1\\le y_2$。\n平面上初始给定 $n$ 个不同的点 $\\{(x_i,y_i)\\}_{i=1}^n$。\n\n你需要回答 $m$ 次询问，每次询问给出两个点 $(x,y),(x',y')$，问有多少二元组 $(i,j)$ 满足 $(x,y)\\le (x_i,y_i)\\le (x_j,y_j)\\le (x',y')$ 且 $i \\neq j$。", "inputFormat": "第一行两个数 $n,m$。\n\n第二行 $n$ 个数，其中第 $i$ 个数 $p_i$ 表示平面上初始给定的第 $i$ 个点 $(i,p_i)$，保证 $p_i$ 为一个 $1$ 到 $n$ 的排列。\n\n之后 $m$ 行，每行用四个空格隔开的数，分别表示 $x,x',y,y'$，表示一次询问，保证 $(x,y)\\le (x',y')$。\n", "outputFormat": "输出 $m$ 行，第 $i$ 行输出一行一个整数，表示第 $i$ 次询问的答案。", "hint": "Idea：ccz181078&nzhtl1477，Solution：ccz181078，Code：ccz181078，Data：nzhtl1477&ccz181078\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le m \\le 2 \\times 10^5$。\n\n#### 样例解释\n\n对于第一次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(4,6),(6,4),(7,5),(8,3)$，支配对有 $(6,4),(7,5)$，所对应的二元组为 $(6,7)$。\n\n对于第二次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(2,8),(3,7),(4,6),(5,2),(6,4),(7,5),(8,3),(9,1)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第三次询问，可以发现满足$(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(5,2),(6,4),(8,3)$，支配对有 $(5,2),(6,4)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(5,8)$。\n\n对于第四次询问，可以发现满足$(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(4,6),(5,2),(6,4),(7,5),(8,3)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第五次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(4,6),(5,2),(6,4),(7,5),(8,3)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第六次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(1,9),(2,8),(3,7),(4,6),(5,2),(6,4),(7,5),(8,3),(9,1)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第七次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(3,7)$，无支配对。\n\n对于第八次询问，可以发现无满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$，无支配对。\n\n对于第九次询问，可以发现无满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$，无支配对。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Ynoi2019] Happy Sugar Life", "background": "我不曾明白——\n\n所谓温暖是什么样的感觉？\n\n所谓温柔的是什么？\n\n所谓的怜爱是什么？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nob8pmsq.png)\n\n更重要的是……\n\n我不能理解什么是“爱”\n\n但是，现在我明白了——\n\n我终于明白了爱的真正含义\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ed92uuh.png)\n\n——这份闪闪发光的感情，就是爱吧\n\n我发誓——\n\n无论疾病还是健康\n\n无论高兴还是悲伤\n\n无论富有还是贫穷\n\n直到死亡为止\n\n我将砂糖视为最爱，至死分离\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rtqkoufl.png)\n \n我从前没有爱过人\n\n被人咬耳朵告白这种事——\n\n倒是发生过许多次\n\n但是，无论是甜言蜜语\n\n还是做了什么事情\n\n我都无法感受到\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3x4mpqh5.png)\n\n砂糖酱，痛吗\n\n——我没事，不过……不能前往新的城堡了\n\n——对不起\n\n没事\n\n果然我还是和砂糖酱在一起的时候最幸福了\n\n——小盐……\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ymxjeje5.png)\n\n呐，砂糖酱，我思考过——\n\n那个时候，被妈妈抛弃的时候\n\n我大概是死掉的状态\n\n又悲伤，又痛苦\n\n觉得一切都无所谓，世界一片空白——\n\n但是砂糖酱出现了\n\n遇到砂糖，一起生活，过得很幸福\n\n——我也是哦，小盐\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nql2dmab.png)\n\n所以，我想要和砂糖酱在一起\n\n想要和砂糖一起幸福到最后\n\n所以，我们一起死吧，砂糖！\n\n——小盐……\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/83k9rf7e.png)\n\n我原本都不知道\n\n温暖是何种感受\n\n温柔是何物\n\n慈爱又是什么\n\n最重要的是\n\n我曾无法理解“爱”是什么\n\n这多亏了小盐\n\n因为那时小盐抓住了我的手\n\n因为小盐为我指引道路\n\n我才明白有生以来从未感受过的幸福的意义\n\n我一直都不明白\n\n原来教会我什么是爱的\n\n也是小盐\n\n小盐，转世之后也要对我告白哦\n\n对不起\n\n谢谢你\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hsgby4jy.png)\n\n这就是我的\n\n$\\texttt {Happy Sugar Life}$", "description": "砂糖和盐给你一个二维平面，记平面上两个点 $(x_1,y_1),(x_2,y_2)$ 构成支配对（记为$(x_1,y_1)\\le (x_2,y_2)$）当且仅当 $x_1\\le x_2,\\;y_1\\le y_2$。\n平面上初始给定 $n$ 个不同的点 $\\{(x_i,y_i)\\}_{i=1}^n$。\n\n你需要回答 $m$ 次询问，每次询问给出两个点 $(x,y),(x',y')$，问有多少二元组 $(i,j)$ 满足 $(x,y)\\le (x_i,y_i)\\le (x_j,y_j)\\le (x',y')$ 且 $i \\neq j$。", "inputFormat": "第一行两个数 $n,m$。\n\n第二行 $n$ 个数，其中第 $i$ 个数 $p_i$ 表示平面上初始给定的第 $i$ 个点 $(i,p_i)$，保证 $p_i$ 为一个 $1$ 到 $n$ 的排列。\n\n之后 $m$ 行，每行用四个空格隔开的数，分别表示 $x,x',y,y'$，表示一次询问，保证 $(x,y)\\le (x',y')$。\n", "outputFormat": "输出 $m$ 行，第 $i$ 行输出一行一个整数，表示第 $i$ 次询问的答案。", "hint": "Idea：ccz181078&nzhtl1477，Solution：ccz181078，Code：ccz181078，Data：nzhtl1477&ccz181078\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 10^5$，$1 \\le m \\le 2 \\times 10^5$。\n\n#### 样例解释\n\n对于第一次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(4,6),(6,4),(7,5),(8,3)$，支配对有 $(6,4),(7,5)$，所对应的二元组为 $(6,7)$。\n\n对于第二次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(2,8),(3,7),(4,6),(5,2),(6,4),(7,5),(8,3),(9,1)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第三次询问，可以发现满足$(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(5,2),(6,4),(8,3)$，支配对有 $(5,2),(6,4)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(5,8)$。\n\n对于第四次询问，可以发现满足$(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(4,6),(5,2),(6,4),(7,5),(8,3)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第五次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(4,6),(5,2),(6,4),(7,5),(8,3)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第六次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(1,9),(2,8),(3,7),(4,6),(5,2),(6,4),(7,5),(8,3),(9,1)$，支配对有 $(5,2),(6,4)$ 和 $(6,4),(7,5)$ 和 $(5,2),(7,5)$ 和 $(5,2),(8,3)$，所对应的二元组为 $(5,6),(6,7),(5,7),(5,8)$。\n\n对于第七次询问，可以发现满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$ 有 $(3,7)$，无支配对。\n\n对于第八次询问，可以发现无满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$，无支配对。\n\n对于第九次询问，可以发现无满足 $(x,y)\\le (x_i,y_i)\\le (x',y')$ 的 $(x_i,y_i)$，无支配对。", "locale": "zh-CN"}}}
{"pid": "P6580", "type": "P", "difficulty": 7, "samples": [["6 3 5\n1 1 4 5 1 4\n1 2\n2 3\n3 4\n4 5\n5 6\n1 1 4 5 1 4\n1 1\n4 5\n1 4", "1\n4\n4"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2019", "O2优化", "分块", "洛谷月赛", "Ynoi"], "title": "[Ynoi2019] 美好的每一天~ 不连续的存在", "background": "3.0321\n\n虽然外面能在空间上表现一个违反物理规律的事态\n\n但是外面不能在空间上表现一个违反几何规律的事态。\n\nLudwig Josef Johann Wittgenstein【逻辑哲学论】\n\n![](https://cdn.luogu.com.cn/upload/pic/53829.png)\n\n……\n\n透明的…\n\n透明的白色？\n\n…不…不对\n\n这不是什么透明的白色…\n\n是白色的话就不是透明……那么…这是半透明的…\n\n但是…这也…并不是半透明…\n\n如果…要找个唯一能表达的词语的话…\n\n那就是…\n\n透明的白色…\n\n这是…那个啥…这是\n\n“光”\n\n【光】\n\n光？\n\n这是\n\n单纯的光\n\n是的……就是这样……\n\n这是——\n\n——光\n\n蝉的叫声……\n\n这里是…屋顶？\n\n环顾四周…那是司空见惯的风景…是A栋的屋顶\n\n为什么…为什么会在这里…\n\n间宫皆守为了保护羽咲跳了下去…然后…，\n\n然后…，\n\n然后发生了什么？\n\n今天是几号？那个，现在是…\n\n我确认了下手表，日期是2012年7月20日。\n\n从那时起…整整一天…\n\n到底发生了什么…\n\n梦……据说即使是明晰梦也少有能感觉到疼痛的……\n\n捏脸蛋能感觉到疼的话，就说明这里的景色是现实吗……\n \n音无彩名…同学\n\n“好久不见”\n\n“怎么了？”\n\n因为啊…离我们最后一次见面不是才只过了一天吗…\n\n“…这样啊”\n\n…我说\n\n“怎么？”\n\n间宫皆守怎么样了？\n\n“为什么…要问那种事？”\n\n那，那当然是因为很在意啊…而且说到底我也只是他创造出来的人格罢了…\n\n“那么他不就是还活着吗？”\n\n你说…什么\n\n“假设1…如果你…是间宫皆守创造出来的人格之一的话，你存在的这件事本身，就是间宫皆守的肉体还存在着的理由了…”\n\n但，但是…这样很奇怪对吧\n\n“哪里奇怪？”\n\n因为啊…他都受了那么重的伤了啊。才过一天怎么可能能跑到这种地方来\n\n“这样啊…”\n\n我即使出现，也是应该是在医院的床上的\n\n“那么假设2…你的存在不是因为解离性同一障碍而引起的…”\n\n“你的存在正是过去实际存在过的人物，水上由岐的灵魂。如果这个灵魂是寄宿\n在间宫皆守身上的…你存在于这里的理由换言之即…”\n\n“意味着间宫皆守的死…”\n\n怎，怎么会…\n\n“还有假设3…如果这里只是你做的梦的话…”\n\n“你眼前的我…也只是梦的产物…这个假设具有充分的说服力…”\n\n“那么…水上由岐小姐喜欢将其中哪一种作为现状说明呢？”\n\n喜欢哪种…我觉得更不是这种问题吧…\n\n“假设4…你只是我所看见的幻觉…是我创造出来的幻影…也就是说你并不存在”\n\n啊哈哈哈…那么，现在正在思考的我又成了什么呢？\n\n不是有正在思考的我存在吗\n\n“只不过是将我的大脑活动…的其中一部分，作为别的人格在认知而已…”\n\n“也就是说“你正在思考”这件事，并不能证明你存在…”\n\n“根本不能否定现在存在与此的水上由岐…是我创造出来的另一种人格的可能\n性”\n\n“这件事，在一具肉体里创造出三个人格的你应该是最能理解的…”\n\n“自己正在思考这件事…并不能成为自己存在的证明…”\n\n我说啊…我想知道的是\n\n“什么？”\n\n所以说，是在那之后怎么样了？\n\n“你想要知道的话就确认一下吧…打开屋顶的门，跑到外面的世界去就可以了…\n仅仅只需要这样而已”\n\n![](https://cdn.luogu.com.cn/upload/pic/53830.png) \n\n…\n\n正如音无彩名所言。\n\n要是真的那么在意的话…我只要从这里离开就好了。\n\n从这片屋顶上跑开，去看看外面的世界就行了。\n\n这样做的话，应该就能如我所愿地…得知一切的结果了。\n\n但是…\n\n只要出去就行…吗\n\n“嗯”\n\n虽然这也是一种方法…但能让我问个问题吗？\n\n“问什么？”\n\n今天是几号？\n\n“2012年7月20日…”\n\n也就是说…从明天开始就是暑假了？\n\n“对…从明天开始就是暑假…”\n\n昨天…应该是发生了集体自杀。\n\n根本不是还能安心地照常放暑假的那种小事。\n\n尽管如此…从屋顶看到的风景却…\n\n是一如既往的日常…\n\n走在走廊上的学生。\n\n在教室里谈话的学生。\n\n喊学生来找他的老师。\n\n这是毫无变化的日常。\n\n实在是看不出像是刚发生了那种事件…\n\n“怎么了吗”\n\n…彩名同学的假设…就这么多了吗？\n\n“假设…你还想要吗？”\n\n“说明的话你想要听多少都行…对这个世界的注释…人们想要多少就可以增加到\n多少”\n\n“如果那是你的愿望的话…无论多少…”\n\n卓司君说说的“终之空”是什么？\n\n那个啊…是不管是琴美的预言还是白莲华协会的预言里都不存在的词语哦…\n\n“终之空…就是字面上的”终结的天空””\n\n那个名字…是谁在什么时候起的呢…\n\n“记忆…”\n\n记忆？\n\n“幽灵房间…终之空…”\n\n唔\n\n“呵呵…你还记得”\n\n不是记得…那应该是我记错了吧…\n\n“是这样吗？”\n\n因，因为，那个…很奇怪对吧？\n\n“哪里奇怪？”\n\n因为啊…那个…是我被卷入高岛同学的自杀时做的梦吧？\n\n所以不是很奇怪吗\n\n“有什么奇怪的吗？”\n\n因为啊…如果那是，我已经被卷入高岛的自杀的话…时间轴就完全乱套了啊…因\n为在那之后我又一次体验了高岛同学的自杀\n\n“假设5…直到现在，你还没有从那个梦中醒来…”\n\n那个梦？\n\n“被卷入高岛柘榴自杀的水上由岐…现在这个瞬间正是她所做的梦的延续”\n\n梦，梦？你说现在？不…不过怎么想，说这是梦也太…\n\n“是吗…那么假设6…”幽灵房间…终之空”的记忆是错误的记忆…”\n\n“只是反复进行人格替换缩引起的记忆的混乱让你做了这样的梦…”\n\n“跳楼的高岛柘榴并没有撞上水上由岐，只是单纯的记忆混乱”\n\n那，那么，为什么卓司君会使用只在我梦中出现过的“终之空”这个词啊！\n\n“因为两者共享一个大脑，这样没有什么不可思议的…”\n\n那，那样的话…\n\n“你很在意最后看到的风景…那片天空的存在吗？”\n\n咕\n\n最后看见的…那片天空…\n\n间宫卓司君在跳楼的一刹那看到的那种风景。\n\n我不知为何觉得那种风景似曾相识…\n\n“不断重复的世界…从某个地点开始…”\n\n唔\n\n“可以确认一下吗？”\n\n什，什么？\n\n“称呼你，水上由岐同学…可以吗？”\n\n事，事到如今怎么这样问…你不是一直都这么叫我的吗…\n\n“由岐同学…水上由岐同学是谁？”\n\n哎？\n\n“由岐同学…是过去实际存在的人物，为了救间宫羽咲而死亡…在那之后，又作\n为间宫皆守所产生的人格而存在…”\n\n“那样的话…现在存在与此的由岐同学是谁？是已经死去的由岐同学？还是作为\n间宫皆守创造出来的人格的由岐同学？”\n\n就，就算你这么问…我也不知道…\n\n“正因为你不知道…才会问我…”\n\n“最后的注释…”\n\n“向由岐同学提问…”\n\n“这个世界上存在着多少个由岐同学呢？”\n\n哎？\n\n“一个，是在泽衣村出生…并在泽衣村死去的水上由岐…另一个是作为间宫皆守\n创造出来的人格的水上由岐…以及现在正在与我对话的存在与此的水上由岐”\n\n“那么请听题…请问你是第几位水上由岐小姐呢？”\n\n那，那种事我怎么知道…而且我就是我，才没有那么多人\n\n“在泽衣村死去的由岐同学，在皆守体内的由岐同学，还有现在在此的由岐同学\n是一样的…”\n\n“那么，其他还有可能存在的由岐小姐呢？”\n\n其他还有可能存在的我？\n\n“对…其他人格所产生的由岐同学…那也是由岐同学吗？”\n\n那种事我怎么知道…再说了要是有那么多我怎么受得了\n\n“但是事实上你并不是一个人…”\n\n“被卷入高岛柘榴的自杀的由岐同学，在泽衣村死去的由岐同学，皆守君制造出\n的由岐同学…以及现在存在于此的由岐同学…”\n\n那，那种事情我才不管…我就是我…\n\n“在“幽灵房间…终之空”中看到的景色…那是什么时候的景色？”\n\n景色？\n\n唔\n\n这时不知为何…我想起了那个游乐设备里的薯片袋子上的保质期…\n\n想起了挂在那的挂历上的日期…\n\n虽然完全不清楚那到底是什么…\n\n不知为何…想起了那个时候的事情。\n\n虽然不知道那句话到底有没有意义。\n\n只是，想起了那个日期…\n\n“最后附加上的注释”\n\n“假设7…所有的存在都是由一个灵魂所产生的…”\n\n ![](https://cdn.luogu.com.cn/upload/pic/53831.png) \n\n天空，到底延伸到哪里呢...\n\n大概，\n\n是和全世界的天空连在一起的吧... \n\n那样的话...这天空和——\n\n——终之空\n\n是没有连在一起的\n\n要问为什么的话，\n\n那是因为，\n\n那是不可以存在的东西——\n\n但是——\n\n这又是真的吗？ \n\n“————”\n\n某处传来呼唤我的声音。\n\n呼唤我的同班同学的声音……\n\n所以我回过头去……\n\n![](https://cdn.luogu.com.cn/upload/pic/53829.png)", "description": "音无彩名给你一个数组 $A$，以及一棵 $n$ 个节点的树，每个点有一个颜色，颜色为 $1$ 到 $x$ 的整数。\n\n有 $m$ 次查询，每次查询树上只保留 $[l,r]$ 内的所有节点，设一个极大连通块中出现奇数次数的颜色个数为 $t$，则其对答案的贡献为 $A_t$ ，即答案是所有连通块贡献的和，询问间互相独立。", "inputFormat": "第一行三个用空格隔开的数 $n,m,x$。\n\n第二行 $n$ 个数表示每个点的颜色。\n\n之后 $n-1$ 行每行两个用空格隔开的数 $x,y$ 表示一条边。\n\n之后一行 $x+1$ 个数表示 $A_0$ 到 $A_x$ 。\n\n之后 $m$ 行，每行两个用空格隔开的数 $l,r$ 表示一次询问。", "outputFormat": "输出 $m$ 行，每行一个数表示这次询问的答案。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：nzhtl1477，Data：nzhtl1477\n\n注意：本题采用**捆绑测试**，只有当你通过一个 subtask 中的所有测试点后，你才能拿到这个 subtask 的分数。\n\n对于其中 $1\\%$ 的数据，为样例 1。\n\n对于另外 $9\\%$ 的数据，$n,m\\leq 200$。\n\n对于另外 $19\\%$ 的数据，$n,m\\leq 2000$。\n\n对于另外 $19\\%$ 的数据，$x\\leq 10$。\n\n对于 $100\\%$ 的数据，$1\\leq n,m\\leq 10^5$，$1\\leq x,A_i \\leq 10^4$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[Ynoi2019] 美好的每一天~ 不连续的存在", "background": "3.0321\n\n虽然外面能在空间上表现一个违反物理规律的事态\n\n但是外面不能在空间上表现一个违反几何规律的事态。\n\nLudwig Josef Johann Wittgenstein【逻辑哲学论】\n\n![](https://cdn.luogu.com.cn/upload/pic/53829.png)\n\n……\n\n透明的…\n\n透明的白色？\n\n…不…不对\n\n这不是什么透明的白色…\n\n是白色的话就不是透明……那么…这是半透明的…\n\n但是…这也…并不是半透明…\n\n如果…要找个唯一能表达的词语的话…\n\n那就是…\n\n透明的白色…\n\n这是…那个啥…这是\n\n“光”\n\n【光】\n\n光？\n\n这是\n\n单纯的光\n\n是的……就是这样……\n\n这是——\n\n——光\n\n蝉的叫声……\n\n这里是…屋顶？\n\n环顾四周…那是司空见惯的风景…是A栋的屋顶\n\n为什么…为什么会在这里…\n\n间宫皆守为了保护羽咲跳了下去…然后…，\n\n然后…，\n\n然后发生了什么？\n\n今天是几号？那个，现在是…\n\n我确认了下手表，日期是2012年7月20日。\n\n从那时起…整整一天…\n\n到底发生了什么…\n\n梦……据说即使是明晰梦也少有能感觉到疼痛的……\n\n捏脸蛋能感觉到疼的话，就说明这里的景色是现实吗……\n \n音无彩名…同学\n\n“好久不见”\n\n“怎么了？”\n\n因为啊…离我们最后一次见面不是才只过了一天吗…\n\n“…这样啊”\n\n…我说\n\n“怎么？”\n\n间宫皆守怎么样了？\n\n“为什么…要问那种事？”\n\n那，那当然是因为很在意啊…而且说到底我也只是他创造出来的人格罢了…\n\n“那么他不就是还活着吗？”\n\n你说…什么\n\n“假设1…如果你…是间宫皆守创造出来的人格之一的话，你存在的这件事本身，就是间宫皆守的肉体还存在着的理由了…”\n\n但，但是…这样很奇怪对吧\n\n“哪里奇怪？”\n\n因为啊…他都受了那么重的伤了啊。才过一天怎么可能能跑到这种地方来\n\n“这样啊…”\n\n我即使出现，也是应该是在医院的床上的\n\n“那么假设2…你的存在不是因为解离性同一障碍而引起的…”\n\n“你的存在正是过去实际存在过的人物，水上由岐的灵魂。如果这个灵魂是寄宿\n在间宫皆守身上的…你存在于这里的理由换言之即…”\n\n“意味着间宫皆守的死…”\n\n怎，怎么会…\n\n“还有假设3…如果这里只是你做的梦的话…”\n\n“你眼前的我…也只是梦的产物…这个假设具有充分的说服力…”\n\n“那么…水上由岐小姐喜欢将其中哪一种作为现状说明呢？”\n\n喜欢哪种…我觉得更不是这种问题吧…\n\n“假设4…你只是我所看见的幻觉…是我创造出来的幻影…也就是说你并不存在”\n\n啊哈哈哈…那么，现在正在思考的我又成了什么呢？\n\n不是有正在思考的我存在吗\n\n“只不过是将我的大脑活动…的其中一部分，作为别的人格在认知而已…”\n\n“也就是说“你正在思考”这件事，并不能证明你存在…”\n\n“根本不能否定现在存在与此的水上由岐…是我创造出来的另一种人格的可能\n性”\n\n“这件事，在一具肉体里创造出三个人格的你应该是最能理解的…”\n\n“自己正在思考这件事…并不能成为自己存在的证明…”\n\n我说啊…我想知道的是\n\n“什么？”\n\n所以说，是在那之后怎么样了？\n\n“你想要知道的话就确认一下吧…打开屋顶的门，跑到外面的世界去就可以了…\n仅仅只需要这样而已”\n\n![](https://cdn.luogu.com.cn/upload/pic/53830.png) \n\n…\n\n正如音无彩名所言。\n\n要是真的那么在意的话…我只要从这里离开就好了。\n\n从这片屋顶上跑开，去看看外面的世界就行了。\n\n这样做的话，应该就能如我所愿地…得知一切的结果了。\n\n但是…\n\n只要出去就行…吗\n\n“嗯”\n\n虽然这也是一种方法…但能让我问个问题吗？\n\n“问什么？”\n\n今天是几号？\n\n“2012年7月20日…”\n\n也就是说…从明天开始就是暑假了？\n\n“对…从明天开始就是暑假…”\n\n昨天…应该是发生了集体自杀。\n\n根本不是还能安心地照常放暑假的那种小事。\n\n尽管如此…从屋顶看到的风景却…\n\n是一如既往的日常…\n\n走在走廊上的学生。\n\n在教室里谈话的学生。\n\n喊学生来找他的老师。\n\n这是毫无变化的日常。\n\n实在是看不出像是刚发生了那种事件…\n\n“怎么了吗”\n\n…彩名同学的假设…就这么多了吗？\n\n“假设…你还想要吗？”\n\n“说明的话你想要听多少都行…对这个世界的注释…人们想要多少就可以增加到\n多少”\n\n“如果那是你的愿望的话…无论多少…”\n\n卓司君说说的“终之空”是什么？\n\n那个啊…是不管是琴美的预言还是白莲华协会的预言里都不存在的词语哦…\n\n“终之空…就是字面上的”终结的天空””\n\n那个名字…是谁在什么时候起的呢…\n\n“记忆…”\n\n记忆？\n\n“幽灵房间…终之空…”\n\n唔\n\n“呵呵…你还记得”\n\n不是记得…那应该是我记错了吧…\n\n“是这样吗？”\n\n因，因为，那个…很奇怪对吧？\n\n“哪里奇怪？”\n\n因为啊…那个…是我被卷入高岛同学的自杀时做的梦吧？\n\n所以不是很奇怪吗\n\n“有什么奇怪的吗？”\n\n因为啊…如果那是，我已经被卷入高岛的自杀的话…时间轴就完全乱套了啊…因\n为在那之后我又一次体验了高岛同学的自杀\n\n“假设5…直到现在，你还没有从那个梦中醒来…”\n\n那个梦？\n\n“被卷入高岛柘榴自杀的水上由岐…现在这个瞬间正是她所做的梦的延续”\n\n梦，梦？你说现在？不…不过怎么想，说这是梦也太…\n\n“是吗…那么假设6…”幽灵房间…终之空”的记忆是错误的记忆…”\n\n“只是反复进行人格替换缩引起的记忆的混乱让你做了这样的梦…”\n\n“跳楼的高岛柘榴并没有撞上水上由岐，只是单纯的记忆混乱”\n\n那，那么，为什么卓司君会使用只在我梦中出现过的“终之空”这个词啊！\n\n“因为两者共享一个大脑，这样没有什么不可思议的…”\n\n那，那样的话…\n\n“你很在意最后看到的风景…那片天空的存在吗？”\n\n咕\n\n最后看见的…那片天空…\n\n间宫卓司君在跳楼的一刹那看到的那种风景。\n\n我不知为何觉得那种风景似曾相识…\n\n“不断重复的世界…从某个地点开始…”\n\n唔\n\n“可以确认一下吗？”\n\n什，什么？\n\n“称呼你，水上由岐同学…可以吗？”\n\n事，事到如今怎么这样问…你不是一直都这么叫我的吗…\n\n“由岐同学…水上由岐同学是谁？”\n\n哎？\n\n“由岐同学…是过去实际存在的人物，为了救间宫羽咲而死亡…在那之后，又作\n为间宫皆守所产生的人格而存在…”\n\n“那样的话…现在存在与此的由岐同学是谁？是已经死去的由岐同学？还是作为\n间宫皆守创造出来的人格的由岐同学？”\n\n就，就算你这么问…我也不知道…\n\n“正因为你不知道…才会问我…”\n\n“最后的注释…”\n\n“向由岐同学提问…”\n\n“这个世界上存在着多少个由岐同学呢？”\n\n哎？\n\n“一个，是在泽衣村出生…并在泽衣村死去的水上由岐…另一个是作为间宫皆守\n创造出来的人格的水上由岐…以及现在正在与我对话的存在与此的水上由岐”\n\n“那么请听题…请问你是第几位水上由岐小姐呢？”\n\n那，那种事我怎么知道…而且我就是我，才没有那么多人\n\n“在泽衣村死去的由岐同学，在皆守体内的由岐同学，还有现在在此的由岐同学\n是一样的…”\n\n“那么，其他还有可能存在的由岐小姐呢？”\n\n其他还有可能存在的我？\n\n“对…其他人格所产生的由岐同学…那也是由岐同学吗？”\n\n那种事我怎么知道…再说了要是有那么多我怎么受得了\n\n“但是事实上你并不是一个人…”\n\n“被卷入高岛柘榴的自杀的由岐同学，在泽衣村死去的由岐同学，皆守君制造出\n的由岐同学…以及现在存在于此的由岐同学…”\n\n那，那种事情我才不管…我就是我…\n\n“在“幽灵房间…终之空”中看到的景色…那是什么时候的景色？”\n\n景色？\n\n唔\n\n这时不知为何…我想起了那个游乐设备里的薯片袋子上的保质期…\n\n想起了挂在那的挂历上的日期…\n\n虽然完全不清楚那到底是什么…\n\n不知为何…想起了那个时候的事情。\n\n虽然不知道那句话到底有没有意义。\n\n只是，想起了那个日期…\n\n“最后附加上的注释”\n\n“假设7…所有的存在都是由一个灵魂所产生的…”\n\n ![](https://cdn.luogu.com.cn/upload/pic/53831.png) \n\n天空，到底延伸到哪里呢...\n\n大概，\n\n是和全世界的天空连在一起的吧... \n\n那样的话...这天空和——\n\n——终之空\n\n是没有连在一起的\n\n要问为什么的话，\n\n那是因为，\n\n那是不可以存在的东西——\n\n但是——\n\n这又是真的吗？ \n\n“————”\n\n某处传来呼唤我的声音。\n\n呼唤我的同班同学的声音……\n\n所以我回过头去……\n\n![](https://cdn.luogu.com.cn/upload/pic/53829.png)", "description": "音无彩名给你一个数组 $A$，以及一棵 $n$ 个节点的树，每个点有一个颜色，颜色为 $1$ 到 $x$ 的整数。\n\n有 $m$ 次查询，每次查询树上只保留 $[l,r]$ 内的所有节点，设一个极大连通块中出现奇数次数的颜色个数为 $t$，则其对答案的贡献为 $A_t$ ，即答案是所有连通块贡献的和，询问间互相独立。", "inputFormat": "第一行三个用空格隔开的数 $n,m,x$。\n\n第二行 $n$ 个数表示每个点的颜色。\n\n之后 $n-1$ 行每行两个用空格隔开的数 $x,y$ 表示一条边。\n\n之后一行 $x+1$ 个数表示 $A_0$ 到 $A_x$ 。\n\n之后 $m$ 行，每行两个用空格隔开的数 $l,r$ 表示一次询问。", "outputFormat": "输出 $m$ 行，每行一个数表示这次询问的答案。", "hint": "Idea：nzhtl1477，Solution：nzhtl1477，Code：nzhtl1477，Data：nzhtl1477\n\n注意：本题采用**捆绑测试**，只有当你通过一个 subtask 中的所有测试点后，你才能拿到这个 subtask 的分数。\n\n对于其中 $1\\%$ 的数据，为样例 1。\n\n对于另外 $9\\%$ 的数据，$n,m\\leq 200$。\n\n对于另外 $19\\%$ 的数据，$n,m\\leq 2000$。\n\n对于另外 $19\\%$ 的数据，$x\\leq 10$。\n\n对于 $100\\%$ 的数据，$1\\leq n,m\\leq 10^5$，$1\\leq x,A_i \\leq 10^4$。\n", "locale": "zh-CN"}}}
{"pid": "P6581", "type": "P", "difficulty": 1, "samples": [["3", "5"], ["1145141919810", "2290283839619"], ["12345", "24689"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["洛谷月赛"], "title": "远大目标", "background": "众所周知，一个 OIer 的最远大的目标，就是要 AK IOI。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/81f0x6hi.png)\n\n（图片来自[《深入浅出 程序设计竞赛 基础册》](https://class.luogu.com.cn/course/lgbook1)）\n\n\n做为一名 OIer，小 Z 也想 AK IOI。但他还是太菜了，连说一句 `I AK IOI` 都会遭到大神的鄙视。\n\n所以，小 Z 只好说 `|A|<|O|` 来勉励自己。\n\n但是，Youyou 大佬看到了，很不屑，说：就你这水平还想 AK IOI？算了，你说了 `|A|<|O|`，就给你一道题目做做吧。\n\n可怜的小 Z 实在是太菜了，连这题都不会，所以只好求助于你——未来的 IOI AKer。 ", "description": "给你 $O$，求出满足 $|A|<O$ 且 $A$ 为整数的 $A$ 的个数。 \n\n由于小 Z 太菜了，于是连 `|A|<|O|` 都不敢说了，只好来研究这 `|A|<O` 的问题。", "inputFormat": "一行一个整数 $O$。 ", "outputFormat": "一行一个整数，满足条件的整数 $A$ 的个数。 ", "hint": "**样例 1 解释**\n\n$A$ 的取值可以是 $-1, 0$ 和 $1$。\n\n**数据规模和约定**\n\n* Subtask 1（30 分）：$0 \\le |O| \\le 2^{10}-1$；\n* Subtask 2（60 分）：$0 \\le |O| \\le 2^{31}-1$；\n* Subtask 3（10 分）：$0 \\le |O| \\le 2^{63}-1$。\n\n$|O|$ 表示 $O$ 的绝对值。\n\n**提示**\n\n如果您不了解绝对值是什么，可以理解为：\n\n$$|x| = \\begin{cases} x & (x > 0) \\\\ 0 & (x = 0) \\\\ -x & (x < 0)\\end{cases}$$\n\n原idea: [Meatherm](https://www.luogu.com.cn/user/108949)", "locale": "zh-CN", "translations": {"zh-CN": {"title": "远大目标", "background": "众所周知，一个 OIer 的最远大的目标，就是要 AK IOI。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/81f0x6hi.png)\n\n（图片来自[《深入浅出 程序设计竞赛 基础册》](https://class.luogu.com.cn/course/lgbook1)）\n\n\n做为一名 OIer，小 Z 也想 AK IOI。但他还是太菜了，连说一句 `I AK IOI` 都会遭到大神的鄙视。\n\n所以，小 Z 只好说 `|A|<|O|` 来勉励自己。\n\n但是，Youyou 大佬看到了，很不屑，说：就你这水平还想 AK IOI？算了，你说了 `|A|<|O|`，就给你一道题目做做吧。\n\n可怜的小 Z 实在是太菜了，连这题都不会，所以只好求助于你——未来的 IOI AKer。 ", "description": "给你 $O$，求出满足 $|A|<O$ 且 $A$ 为整数的 $A$ 的个数。 \n\n由于小 Z 太菜了，于是连 `|A|<|O|` 都不敢说了，只好来研究这 `|A|<O` 的问题。", "inputFormat": "一行一个整数 $O$。 ", "outputFormat": "一行一个整数，满足条件的整数 $A$ 的个数。 ", "hint": "**样例 1 解释**\n\n$A$ 的取值可以是 $-1, 0$ 和 $1$。\n\n**数据规模和约定**\n\n* Subtask 1（30 分）：$0 \\le |O| \\le 2^{10}-1$；\n* Subtask 2（60 分）：$0 \\le |O| \\le 2^{31}-1$；\n* Subtask 3（10 分）：$0 \\le |O| \\le 2^{63}-1$。\n\n$|O|$ 表示 $O$ 的绝对值。\n\n**提示**\n\n如果您不了解绝对值是什么，可以理解为：\n\n$$|x| = \\begin{cases} x & (x > 0) \\\\ 0 & (x = 0) \\\\ -x & (x < 0)\\end{cases}$$\n\n原idea: [Meatherm](https://www.luogu.com.cn/user/108949)", "locale": "zh-CN"}}}
{"pid": "P6582", "type": "P", "difficulty": 3, "samples": [["2 3 2\nOOX\nXXO", "4"], ["2 3 3\nXOX\nXOO", "12"], ["2 3 4\nXOO\nXOO", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["洛谷月赛"], "title": "座位调查", "background": "ION 2048 结束了，但 ℲƆƆ 发现，一个机房里发生了性质恶劣的作弊事件。", "description": "Youyou 奉命来到该机房进行调查。已知该机房是一个 $n \\times m$ 的矩阵，每个位置是 `O` 或 `X`，其中 `O` 表示该位置是座位，`X` 表示该位置是空地。**每个座位上都必须坐有学生**，当然，至少有一个座位。\n\n要想查明作弊的学生，Youyou 必须知道这个机房中的考生有多少种座位的可能。ION 2048 有来自 $k$ 个学校的考生参加，且座位满足以下要求：\n\n* 考场中的座位是由若干长条形组成的，这样方便管理；\n* 任意考生不可能和来自同学校的考生座位相邻，可以避免交流。\n\n两个座位是相邻的当且仅当它们有一条**公共边**。\n\n条形定义为除了两个端点只有一个相邻的座位外，每个座位都恰好有两个相邻座位，当然，一个座位也属于条形的。\n\n例如，下面的都**是**「条形的座位」。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g7ew1c6c.png)\n\n下面的都**不是**「条形的座位」。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x7z4d6yx.png)\n\n注：方格中的数字表示与其相邻的座位的个数。\n\n试求出合法的座位方案总数，由于结果可能很大，请输出结果对质数 $998244353$ 取模的结果。如果这个机房本身就不可能是 ION 2048 的考试机房，答案应当是 $0$。", "inputFormat": "第一行三个正整数，$n,m$ 和 $k$。\n\n接下来 $n$ 行，每行 $m$ 个字符，表示机房的情况。保证只有 `O`，`X` 两种字符，且 `O` 至少出现一次。", "outputFormat": "一行一个整数，表示结果对质数 $998244353$ 取模的结果。", "hint": "**样例 1 解释**\n\n可能有以下 $4$ 种情况，红色代表学校 $1$ 的学生，蓝色代表学校 $2$ 的学生：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d6riqiby.png)\n\n**样例 2 解释**\n\n可能有以下 $12$ 种情况，红色代表学校 $1$ 的学生，蓝色代表学校 $2$ 的学生，黄色代表学校 $3$ 的学生：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ni46qzf.png)\n\n**样例 3 解释**\n\n机房不是条形安排的，所以答案为 $0$。\n\n**数据规模与约定**\n\n* Subtask 1（10 分）：$n = 1$，$k = 2$；\n* Subtask 2（15 分）：$n = 1$，$2 \\le m,k \\le 8$；\n* Subtask 3（15 分）：$n = 1$；\n* Subtask 4（20 分）：保证座位设置是条形的，$k = 2$；\n* Subtask 5（20 分）：保证座位设置是条形的；\n* Subtask 6（20 分）：无特殊限制。\n\n对于全部的数据，$1 \\le n, m \\le 10^3$，$2 \\le k \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "座位调查", "background": "ION 2048 结束了，但 ℲƆƆ 发现，一个机房里发生了性质恶劣的作弊事件。", "description": "Youyou 奉命来到该机房进行调查。已知该机房是一个 $n \\times m$ 的矩阵，每个位置是 `O` 或 `X`，其中 `O` 表示该位置是座位，`X` 表示该位置是空地。**每个座位上都必须坐有学生**，当然，至少有一个座位。\n\n要想查明作弊的学生，Youyou 必须知道这个机房中的考生有多少种座位的可能。ION 2048 有来自 $k$ 个学校的考生参加，且座位满足以下要求：\n\n* 考场中的座位是由若干长条形组成的，这样方便管理；\n* 任意考生不可能和来自同学校的考生座位相邻，可以避免交流。\n\n两个座位是相邻的当且仅当它们有一条**公共边**。\n\n条形定义为除了两个端点只有一个相邻的座位外，每个座位都恰好有两个相邻座位，当然，一个座位也属于条形的。\n\n例如，下面的都**是**「条形的座位」。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g7ew1c6c.png)\n\n下面的都**不是**「条形的座位」。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/x7z4d6yx.png)\n\n注：方格中的数字表示与其相邻的座位的个数。\n\n试求出合法的座位方案总数，由于结果可能很大，请输出结果对质数 $998244353$ 取模的结果。如果这个机房本身就不可能是 ION 2048 的考试机房，答案应当是 $0$。", "inputFormat": "第一行三个正整数，$n,m$ 和 $k$。\n\n接下来 $n$ 行，每行 $m$ 个字符，表示机房的情况。保证只有 `O`，`X` 两种字符，且 `O` 至少出现一次。", "outputFormat": "一行一个整数，表示结果对质数 $998244353$ 取模的结果。", "hint": "**样例 1 解释**\n\n可能有以下 $4$ 种情况，红色代表学校 $1$ 的学生，蓝色代表学校 $2$ 的学生：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d6riqiby.png)\n\n**样例 2 解释**\n\n可能有以下 $12$ 种情况，红色代表学校 $1$ 的学生，蓝色代表学校 $2$ 的学生，黄色代表学校 $3$ 的学生：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ni46qzf.png)\n\n**样例 3 解释**\n\n机房不是条形安排的，所以答案为 $0$。\n\n**数据规模与约定**\n\n* Subtask 1（10 分）：$n = 1$，$k = 2$；\n* Subtask 2（15 分）：$n = 1$，$2 \\le m,k \\le 8$；\n* Subtask 3（15 分）：$n = 1$；\n* Subtask 4（20 分）：保证座位设置是条形的，$k = 2$；\n* Subtask 5（20 分）：保证座位设置是条形的；\n* Subtask 6（20 分）：无特殊限制。\n\n对于全部的数据，$1 \\le n, m \\le 10^3$，$2 \\le k \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P6583", "type": "P", "difficulty": 5, "samples": [["3", "7"], ["5", "21"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数论", "洛谷月赛", "整除分块"], "title": "回首过去", "background": ">明天你是否会想起\n>\n>昨天未调完的题\n>\n>明天你是否还惦记\n>\n>考场写挂的暴力\n\n[OEIS 入口](http://oeis.org/)", "description": "在小学时，小 Z 就已经开始学\n OI 了。\n\n有一次，在数学课上，老师问了这样一个问题：\n求出有序整数对 $(x,y)$ 的个数，满足 $1\\le x,y\\le 5$ 且 $\\frac{x}{y}$ 可以表示为十进制有限小数。\n\n当然，小 Z 很快就算了出来。\n\n但因为他是学了 OI 的，所以他就推广了一下：\n\n**给定正整数 $n$，求出有序整数对 $(x,y)$ 的个数，满足 $1\\le x,y\\le n$ 且 $\\frac{x}{y}$ 可以表示为十进制有限小数。**\n\n当时，他还是一个菜鸡，只会\n $O(n^2)$ 的暴力。\n\n过了几年，他偶然又翻到了这道题。现在他会了一种更好的方法，于是就把这题出了出来，给你来做做。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个整数表示答案。", "hint": "**样例 1 解释**\n\n$\\frac{1}{1}$，$\\frac{1}{2}$，$\\frac{2}{1}$，$\\frac{2}{2}$，$\\frac{3}{1}$，$\\frac{3}{2}$，$\\frac{3}{3}$ 都可以表示为十进制有限小数。\n\n**数据规模与约定**\n\n* Subtask 1（40 分），$1 \\le n \\le 10^3$；\n* Subtask 2（40 分），$1 \\le n \\le 10^7$；\n* Subtask 3（20 分），$1 \\le n \\le 10^{12}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "回首过去", "background": ">明天你是否会想起\n>\n>昨天未调完的题\n>\n>明天你是否还惦记\n>\n>考场写挂的暴力\n\n[OEIS 入口](http://oeis.org/)", "description": "在小学时，小 Z 就已经开始学\n OI 了。\n\n有一次，在数学课上，老师问了这样一个问题：\n求出有序整数对 $(x,y)$ 的个数，满足 $1\\le x,y\\le 5$ 且 $\\frac{x}{y}$ 可以表示为十进制有限小数。\n\n当然，小 Z 很快就算了出来。\n\n但因为他是学了 OI 的，所以他就推广了一下：\n\n**给定正整数 $n$，求出有序整数对 $(x,y)$ 的个数，满足 $1\\le x,y\\le n$ 且 $\\frac{x}{y}$ 可以表示为十进制有限小数。**\n\n当时，他还是一个菜鸡，只会\n $O(n^2)$ 的暴力。\n\n过了几年，他偶然又翻到了这道题。现在他会了一种更好的方法，于是就把这题出了出来，给你来做做。", "inputFormat": "一行一个正整数 $n$。", "outputFormat": "一行一个整数表示答案。", "hint": "**样例 1 解释**\n\n$\\frac{1}{1}$，$\\frac{1}{2}$，$\\frac{2}{1}$，$\\frac{2}{2}$，$\\frac{3}{1}$，$\\frac{3}{2}$，$\\frac{3}{3}$ 都可以表示为十进制有限小数。\n\n**数据规模与约定**\n\n* Subtask 1（40 分），$1 \\le n \\le 10^3$；\n* Subtask 2（40 分），$1 \\le n \\le 10^7$；\n* Subtask 3（20 分），$1 \\le n \\le 10^{12}$。", "locale": "zh-CN"}}}
{"pid": "P6584", "type": "P", "difficulty": 5, "samples": [["5\n1 2\n2 3\n3 4\n4 5\n5\n1 2 3 4 5\n0 3", "3"], ["5\n1 2\n1 3\n2 4\n2 5\n4\n1 1 2 2\n1 5", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化", "洛谷月赛"], "title": "重拳出击", "background": "", "description": "小 Z 和 $m$ 个 Youyou 在一棵树上相遇了！\n\n这棵树上，每条边的长度都是 $1$。\n\n初始时，小 Z 在 $x$ 号节点上，并且有一把射程为 $k$ 的枪。\n\n因为小 Z 技术精湛，所以 Youyou 一打就死，而小 Z 永远不会死掉。\n\n小 Z 和 Youyou 都按回合行动，在每一回合中，按照下面的顺序行动：\n\n1. 回合计数器 $+1$（初始为 $0$）。\n\n2. 小 Z 可以用枪射死与小 Z 树上距离小于等于 $k$ 的所有 Youyou。\n\n3. 如果所有 Youyou 都被消灭了，游戏结束，这时回合计数器的值就是小 Z 用的回合数。\n\n4. 小 Z 可以选择沿着一条边，移动到任意相邻节点，也可以选择不动。\n\n5. 所有 Youyou 都会沿着他和小 Z 的简单路径向小 Z 移动一条边的距离。如果此时他们在同一个节点，则不动。\n\n小 Z 需要求出消灭所有敌人需要的最小回合数。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n-1$ 行每行两个正整数，表示这棵树上的一条边。\n\n接下来一行一个正整数 $m$。\n\n接下来一行 $m$ 个正整数，第 $i$ 个数表示第 $i$ 个 Youyou 的初始所在节点。\n\n最后一行两个整数，$k$ 和小 Z 自己的初始所在节点号 $x$。", "outputFormat": "一行一个正整数，最小回合数。", "hint": "**样例 2 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/75xvvplh.png)\n\n小 Z 可以在第一回合射死后两个 Youyou，然后从节点 $5$ 移动到节点 $2$。剩余的两个 Youyou 也会移动到节点  $2$。第二回合小 Z 可以消灭所有 Youyou。可以证明这就是最优方案。\n\n**数据规模与约定**\n\n* Subtask 1（10 分）：$1 \\le n,m \\le 20$；\n* Subtask 2（15 分）：$1 \\le n,m \\le 2\\times 10^3$；\n* Subtask 3（30 分）：$1 \\le n,m \\le 4\\times 10^4$；\n* Subtask 4（45 分）：$1 \\le n,m \\le 4\\times 10^5$。\n\n对于全部的数据，$1 \\le n,m \\le 4\\times 10^5$，$0 \\le k \\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "重拳出击", "background": "", "description": "小 Z 和 $m$ 个 Youyou 在一棵树上相遇了！\n\n这棵树上，每条边的长度都是 $1$。\n\n初始时，小 Z 在 $x$ 号节点上，并且有一把射程为 $k$ 的枪。\n\n因为小 Z 技术精湛，所以 Youyou 一打就死，而小 Z 永远不会死掉。\n\n小 Z 和 Youyou 都按回合行动，在每一回合中，按照下面的顺序行动：\n\n1. 回合计数器 $+1$（初始为 $0$）。\n\n2. 小 Z 可以用枪射死与小 Z 树上距离小于等于 $k$ 的所有 Youyou。\n\n3. 如果所有 Youyou 都被消灭了，游戏结束，这时回合计数器的值就是小 Z 用的回合数。\n\n4. 小 Z 可以选择沿着一条边，移动到任意相邻节点，也可以选择不动。\n\n5. 所有 Youyou 都会沿着他和小 Z 的简单路径向小 Z 移动一条边的距离。如果此时他们在同一个节点，则不动。\n\n小 Z 需要求出消灭所有敌人需要的最小回合数。", "inputFormat": "第一行一个正整数 $n$。\n\n接下来 $n-1$ 行每行两个正整数，表示这棵树上的一条边。\n\n接下来一行一个正整数 $m$。\n\n接下来一行 $m$ 个正整数，第 $i$ 个数表示第 $i$ 个 Youyou 的初始所在节点。\n\n最后一行两个整数，$k$ 和小 Z 自己的初始所在节点号 $x$。", "outputFormat": "一行一个正整数，最小回合数。", "hint": "**样例 2 解释**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/75xvvplh.png)\n\n小 Z 可以在第一回合射死后两个 Youyou，然后从节点 $5$ 移动到节点 $2$。剩余的两个 Youyou 也会移动到节点  $2$。第二回合小 Z 可以消灭所有 Youyou。可以证明这就是最优方案。\n\n**数据规模与约定**\n\n* Subtask 1（10 分）：$1 \\le n,m \\le 20$；\n* Subtask 2（15 分）：$1 \\le n,m \\le 2\\times 10^3$；\n* Subtask 3（30 分）：$1 \\le n,m \\le 4\\times 10^4$；\n* Subtask 4（45 分）：$1 \\le n,m \\le 4\\times 10^5$。\n\n对于全部的数据，$1 \\le n,m \\le 4\\times 10^5$，$0 \\le k \\le 10^6$。", "locale": "zh-CN"}}}
