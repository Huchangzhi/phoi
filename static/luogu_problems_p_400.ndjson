{"pid": "P9113", "type": "P", "difficulty": 6, "samples": [["4 100\n5 1000\n10 100\n8 10\n20 1\n", "2\n2\n3\n"], ["3 4\n1 2\n1 3\n1 3\n", "3\n1\n2\n3"]], "limits": {"time": [1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500, 1500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2009", "IOI", "Special Judge", "O2优化"], "title": "[IOI 2009] Hiring", "background": "IOI2009 D1T2", "description": "你需要为一个建设项目雇佣一些工人。现在有 $N$ 位候选工人，标号为 $1\\sim N$。第 $k$ 个工人要求如果自己被雇佣，则必须得到至少 $S_k$ 美元的工资。每个工人有能力值 $Q_k$。建筑业监管局规定，你必须按工人们的能力值的比例分配他们的工资。例如，如果 $Q_A = 3Q_B$，则你付给 $A$ 的工资必须恰为 $B$ 的三倍。你可以付给你的工人们任意非负实数金额的工资。\n\n你的手上有 $W$ 美元，你想用这些钱雇佣最大数量的工人。你可以决定选用哪些工人以及付给他们的工资，但必须满足每个工人的最低工资要求以及监管局的分配规定，并保证工资总额不超过 $W$。\n\n工人们的能力值和你的项目无关，因此你只想最大化雇佣工人的数量，而不关心他们的能力值。尽管如此，你仍希望最小化你的支出，即如果存在多种方案，则你需要选择支付给工人们的工资总额最小的那一个。如果仍存在多种方案，任意一个都是满足要求的。\n\n**任务**：编写一个程序，给定每个工人的工资要求和能力值，以及你拥有的资金，计算出具体雇佣哪些工人。你必须在最大化工人的数量的前提下最小化支出，并满足上文提到的监管局的要求。", "inputFormat": "第一行包含两个由空格隔开的整数 $N, W$，分别表示候选工人数和你拥有的资金。\n\n接下来 $N$ 行，每行描述一个候选工人。其中第 $k$ 行描述第 $k$ 个候选工人，包含两个由空格隔开的整数 $S_k, Q_k$。", "outputFormat": "第一行一个整数 $H$，表示你雇佣的工人数量。\n\n接下来 $H$ 行，每行一个整数，表示你雇佣的所有工人的编号（互不相同），以任意顺序排列。", "hint": "### 样例解释\n\n- 样例 1：选择工人 $2$ 和 $3$ 是唯一符合所有要求且雇佣了两个工人的方案。你可以分别付给他们 $80$ 美元和 $8$ 美元，满足 $100$ 美元的预算。\n\n- 样例 2：你可以雇佣三个工人。你可以分别付给他们 $1$ 美元，$1.5$ 美元和 $1.5$ 美元。\n\n### 数据范围与约定\n\n对于任意测试点，如果你的方案满足了所有要求和你的目标，你将获得该测试点的满分。**否则**，如果你的第一行是正确的，即你输出了正确的工人数量 $H$，无论你接下来的输出是否符合格式，你都将获得该测试点 $50\\%$ 的分数。\n\n注意，在实际评测中，只有你的输出符合格式，才能获得测试点 $50\\%$ 或 $100\\%$ 的分数。\n\n- 对于 $50\\%$ 的数据，$N\\leq 5000$。\n- 对于 $100\\%$ 的数据，$1\\leq N\\leq 5\\times 10 ^ 5$，$1\\leq S_k, Q_k\\leq 2\\times 10 ^ 4$，$1\\leq W\\leq 10 ^ {10}$。\n\n注意，$W$ 超出了 $32$ 位整形变量的存储范围。你需要使用 $64$ 位整型变量存储 $W$，例如 C/C++ 中的 `long long` 或 Pascal 中的 `int64`。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2009] Hiring", "background": "IOI2009 D1T2", "description": "你需要为一个建设项目雇佣一些工人。现在有 $N$ 位候选工人，标号为 $1\\sim N$。第 $k$ 个工人要求如果自己被雇佣，则必须得到至少 $S_k$ 美元的工资。每个工人有能力值 $Q_k$。建筑业监管局规定，你必须按工人们的能力值的比例分配他们的工资。例如，如果 $Q_A = 3Q_B$，则你付给 $A$ 的工资必须恰为 $B$ 的三倍。你可以付给你的工人们任意非负实数金额的工资。\n\n你的手上有 $W$ 美元，你想用这些钱雇佣最大数量的工人。你可以决定选用哪些工人以及付给他们的工资，但必须满足每个工人的最低工资要求以及监管局的分配规定，并保证工资总额不超过 $W$。\n\n工人们的能力值和你的项目无关，因此你只想最大化雇佣工人的数量，而不关心他们的能力值。尽管如此，你仍希望最小化你的支出，即如果存在多种方案，则你需要选择支付给工人们的工资总额最小的那一个。如果仍存在多种方案，任意一个都是满足要求的。\n\n**任务**：编写一个程序，给定每个工人的工资要求和能力值，以及你拥有的资金，计算出具体雇佣哪些工人。你必须在最大化工人的数量的前提下最小化支出，并满足上文提到的监管局的要求。", "inputFormat": "第一行包含两个由空格隔开的整数 $N, W$，分别表示候选工人数和你拥有的资金。\n\n接下来 $N$ 行，每行描述一个候选工人。其中第 $k$ 行描述第 $k$ 个候选工人，包含两个由空格隔开的整数 $S_k, Q_k$。", "outputFormat": "第一行一个整数 $H$，表示你雇佣的工人数量。\n\n接下来 $H$ 行，每行一个整数，表示你雇佣的所有工人的编号（互不相同），以任意顺序排列。", "hint": "### 样例解释\n\n- 样例 1：选择工人 $2$ 和 $3$ 是唯一符合所有要求且雇佣了两个工人的方案。你可以分别付给他们 $80$ 美元和 $8$ 美元，满足 $100$ 美元的预算。\n\n- 样例 2：你可以雇佣三个工人。你可以分别付给他们 $1$ 美元，$1.5$ 美元和 $1.5$ 美元。\n\n### 数据范围与约定\n\n对于任意测试点，如果你的方案满足了所有要求和你的目标，你将获得该测试点的满分。**否则**，如果你的第一行是正确的，即你输出了正确的工人数量 $H$，无论你接下来的输出是否符合格式，你都将获得该测试点 $50\\%$ 的分数。\n\n注意，在实际评测中，只有你的输出符合格式，才能获得测试点 $50\\%$ 或 $100\\%$ 的分数。\n\n- 对于 $50\\%$ 的数据，$N\\leq 5000$。\n- 对于 $100\\%$ 的数据，$1\\leq N\\leq 5\\times 10 ^ 5$，$1\\leq S_k, Q_k\\leq 2\\times 10 ^ 4$，$1\\leq W\\leq 10 ^ {10}$。\n\n注意，$W$ 超出了 $32$ 位整形变量的存储范围。你需要使用 $64$ 位整型变量存储 $W$，例如 C/C++ 中的 `long long` 或 Pascal 中的 `int64`。", "locale": "zh-CN"}}}
{"pid": "P9114", "type": "P", "difficulty": 2, "samples": [["5 3 2\n0 0 1\n1 1 0\n1 0 0\n1 1 0\n1 1 0\n", "3 2\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2009", "IOI", "O2优化"], "title": "[IOI 2009] POI", "background": "IOI2009 D1T3", "description": "普罗夫迪夫信息学奥林匹克竞赛（Plovdiv Olympiad in Informatics, POI）正在举行。有 $N$ 个选手和 $T$ 道题目。每道题目只有一组测试数据，因此对于每个选手和每道题目，要么这个选手解决了这道题目，要么没有解决。没有部分分。\n\n比赛结束后，每道题目的分数为没有解决这道题目的选手数量。每个选手的得分为他解决的每道题目的得分之和。\n\nPhilip 参加了这场比赛，但他被复杂的计分规则搞糊涂了。他看着比赛结果，无法计算出他的最终排名。写一个程序帮助 Philip 计算他的分数和排名。\n\n在比赛开始之前，每个选手从 $1$ 到 $N$ 编号。Philip 的编号为 $P$。最终的排行榜将所有选手按分数降序列出。为避免平局，在得分相同的选手中，按解决题目数量降序排序（解决题目数量多的选手排在解决数量题目少的选手之前）。如果仍存在平局，则按编号升序排序。\n\n**任务**：编写一个程序，给定每个选手的解题情况，计算出 Philip 的分数和他在最终排行榜上的排名。", "inputFormat": "第一行包含三个整数 $N, T, P$，分别由一个空格隔开，分别表示选手数，题目数和 Philip 的编号。\n\n接下来 $N$ 行描述了每名选手的解题情况。其中第 $k$ 行描述了编号为 $k$ 的选手的解题情况，包含 $T$ 个由空格隔开的 $0$ 或 $1$。第 $i$ 个数字描述了编号为 $k$ 的选手是（对应 $1$）否（对应 $0$）解决了第 $i$ 道题。", "outputFormat": "输出一行两个由空格隔开的整数，分别表示 Philip 在 POI 竞赛中的得分和他在最终排行榜上的排名。排名用 $1\\sim N$ 的整数描述，其中 $1$ 表示选手排在排行榜顶部，$N$ 表示选手排在排行榜底部。", "hint": "### 样例解释\n\n第一道题目只有一个选手没有解决，所以它值 $1$ 分。第二道题目有两个选手没有解决，所以它值 $2$ 分。第三道题目有四个选手没有解决，所以它值 $4$ 分。因此编号为 $1$ 的选手得 $4$ 分，编号为 $2, 4, 5$ 的选手得 $3$ 分，编号为 $3$ 的选手得 $1$ 分。根据平局规则，编号为 $2$ 的选手（Philip）排在编号为 $4, 5$ 的选手之前，因此 Philip 的最终排名为 $2$，仅在编号为 $1$ 的选手下面。\n\n### 数据范围与约定\n\n- 对于 $35\\%$ 的数据，没有选手得分和 Philip 相同。\n- 对于 $100\\%$ 的数据，$1\\leq N, T\\leq 2000$，$1\\leq P\\leq N$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2009] POI", "background": "IOI2009 D1T3", "description": "普罗夫迪夫信息学奥林匹克竞赛（Plovdiv Olympiad in Informatics, POI）正在举行。有 $N$ 个选手和 $T$ 道题目。每道题目只有一组测试数据，因此对于每个选手和每道题目，要么这个选手解决了这道题目，要么没有解决。没有部分分。\n\n比赛结束后，每道题目的分数为没有解决这道题目的选手数量。每个选手的得分为他解决的每道题目的得分之和。\n\nPhilip 参加了这场比赛，但他被复杂的计分规则搞糊涂了。他看着比赛结果，无法计算出他的最终排名。写一个程序帮助 Philip 计算他的分数和排名。\n\n在比赛开始之前，每个选手从 $1$ 到 $N$ 编号。Philip 的编号为 $P$。最终的排行榜将所有选手按分数降序列出。为避免平局，在得分相同的选手中，按解决题目数量降序排序（解决题目数量多的选手排在解决数量题目少的选手之前）。如果仍存在平局，则按编号升序排序。\n\n**任务**：编写一个程序，给定每个选手的解题情况，计算出 Philip 的分数和他在最终排行榜上的排名。", "inputFormat": "第一行包含三个整数 $N, T, P$，分别由一个空格隔开，分别表示选手数，题目数和 Philip 的编号。\n\n接下来 $N$ 行描述了每名选手的解题情况。其中第 $k$ 行描述了编号为 $k$ 的选手的解题情况，包含 $T$ 个由空格隔开的 $0$ 或 $1$。第 $i$ 个数字描述了编号为 $k$ 的选手是（对应 $1$）否（对应 $0$）解决了第 $i$ 道题。", "outputFormat": "输出一行两个由空格隔开的整数，分别表示 Philip 在 POI 竞赛中的得分和他在最终排行榜上的排名。排名用 $1\\sim N$ 的整数描述，其中 $1$ 表示选手排在排行榜顶部，$N$ 表示选手排在排行榜底部。", "hint": "### 样例解释\n\n第一道题目只有一个选手没有解决，所以它值 $1$ 分。第二道题目有两个选手没有解决，所以它值 $2$ 分。第三道题目有四个选手没有解决，所以它值 $4$ 分。因此编号为 $1$ 的选手得 $4$ 分，编号为 $2, 4, 5$ 的选手得 $3$ 分，编号为 $3$ 的选手得 $1$ 分。根据平局规则，编号为 $2$ 的选手（Philip）排在编号为 $4, 5$ 的选手之前，因此 Philip 的最终排名为 $2$，仅在编号为 $1$ 的选手下面。\n\n### 数据范围与约定\n\n- 对于 $35\\%$ 的数据，没有选手得分和 Philip 相同。\n- 对于 $100\\%$ 的数据，$1\\leq N, T\\leq 2000$，$1\\leq P\\leq N$。", "locale": "zh-CN"}}}
{"pid": "P9115", "type": "P", "difficulty": 3, "samples": [["3 4\n2\n3\n5\n200\n100\n300\n800\n3\n2\n-3\n1\n4\n-4\n-2\n-1\n", "5300\n"], ["2 4\n5\n2\n100\n500\n1000\n2000\n3\n1\n2\n4\n-1\n-3\n-2\n-4\n", "16200"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["2009", "IOI", "O2优化"], "title": "[IOI 2009] Garage", "background": "IOI2009 D2T1", "description": "一个停车场有 $N$ 个停车位，依次编号为 $1$ 到 $N$。每天早上，停车场的所有停车位都是空的。当一辆车到达停车场时，服务员检查是否有空的停车位。如果没有，则这辆车将在入口处等待，直到有新的停车位。如果有，则这辆车将停在编号最小的空的停车位上。如果多辆车在入口处等待，则它们会按照到达的顺序排成队列，当出现空的停车位时，队列中的第一辆车（最早到达的车辆）将停在该停车位上。\n\n每辆车的停车费是它的重量乘以对应停车位的特定比率，和它在停车场停了多久无关。\n\n停车场管理员得知今天将有 $M$ 辆车前来停车，以及它们到达和离开的顺序。帮他计算今天的收入。\n\n**任务**：编写一个程序，给定每个停车位的特定比率，每辆车的重量和所有车辆到达和离开的顺序，求出车库的总收入。", "inputFormat": "第一行包含两个由空格隔开的整数 $N, M$，分别表示停车位数和车辆数。\n\n接下来 $N$ 行描述了停车位的收费率。其中第 $s$ 行包含一个整数 $R_s$，表示编号为 $s$ 的停车位每千克收费的价格。\n\n接下来 $M$ 行描述了车辆的重量。车辆从 $1$ 到 $M$ 编号，其中第 $k$ 行包含一个整数 $W_k$，表示编号为 $k$ 的车辆的重量，单位千克。\n\n接下来 $2M$ 行描述了所有车辆到达和离开的时间顺序。一个正数 $i$ 表示编号为 $i$ 的车辆到达停车场。一个负数 $-i$ 表示编号为 $i$ 的车离开停车场。没有车辆会在到达之前离开停车场，且 $1\\sim M$ 每辆车会在序列中出现恰好两次，一次到达，一次离开。此外，没有车辆会在停入停车场之前离开，也就是说，不会有队列中的车辆离开。", "outputFormat": "一行一个整数，表示停车场管理员今天的收入。", "hint": "### 样例解释\n\n- 样例 1：\n  - 车辆 $3$ 停在车位 $1$，支付 $300\\times 2 = 600$ 美元。\n  - 车辆 $2$ 停在车位 $2$，支付 $100\\times 3 = 300$ 美元。\n  - 车辆 $1$ 停在车位 $1$（车辆 $3$ 空出的停车位），支付 $200\\times 2 = 400$ 美元。\n  - 车辆 $4$ 停在车位 $3$，支付 $800\\times 5 = 4000$ 美元。\n\n- 样例 2：\n  - 车辆 $3$ 停在车位 $1$，支付 $1000\\times 5 = 5000$ 美元。\n  - 车辆 $1$ 停在车位 $2$，支付 $100\\times 2 = 200$ 美元。\n  - 车辆 $2$ 到达并在入口处等待。\n  - 车辆 $4$ 到达并在入口处等待，排在车辆 $2$ 之后。\n  - 当车辆 $1$ 离开时，车辆 $2$ 停在空出的车位 $2$，支付 $500\\times 2 = 1000$ 美元。\n  - 当车辆 $3$ 离开时，车辆 $4$ 停在空出的车位 $1$，支付 $2000\\times 5 = 10000$ 美元。\n\n### 数据范围与约定\n\n- 对于 $40\\%$ 的数据，没有车辆会在停车场等待。\n- 对于 $100\\%$ 的数据，$1\\leq N\\leq 100$，$1\\leq M\\leq 2000$，$1\\leq R_s\\leq 100$，$1\\leq W_k\\leq 10 ^ 4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2009] Garage", "background": "IOI2009 D2T1", "description": "一个停车场有 $N$ 个停车位，依次编号为 $1$ 到 $N$。每天早上，停车场的所有停车位都是空的。当一辆车到达停车场时，服务员检查是否有空的停车位。如果没有，则这辆车将在入口处等待，直到有新的停车位。如果有，则这辆车将停在编号最小的空的停车位上。如果多辆车在入口处等待，则它们会按照到达的顺序排成队列，当出现空的停车位时，队列中的第一辆车（最早到达的车辆）将停在该停车位上。\n\n每辆车的停车费是它的重量乘以对应停车位的特定比率，和它在停车场停了多久无关。\n\n停车场管理员得知今天将有 $M$ 辆车前来停车，以及它们到达和离开的顺序。帮他计算今天的收入。\n\n**任务**：编写一个程序，给定每个停车位的特定比率，每辆车的重量和所有车辆到达和离开的顺序，求出车库的总收入。", "inputFormat": "第一行包含两个由空格隔开的整数 $N, M$，分别表示停车位数和车辆数。\n\n接下来 $N$ 行描述了停车位的收费率。其中第 $s$ 行包含一个整数 $R_s$，表示编号为 $s$ 的停车位每千克收费的价格。\n\n接下来 $M$ 行描述了车辆的重量。车辆从 $1$ 到 $M$ 编号，其中第 $k$ 行包含一个整数 $W_k$，表示编号为 $k$ 的车辆的重量，单位千克。\n\n接下来 $2M$ 行描述了所有车辆到达和离开的时间顺序。一个正数 $i$ 表示编号为 $i$ 的车辆到达停车场。一个负数 $-i$ 表示编号为 $i$ 的车离开停车场。没有车辆会在到达之前离开停车场，且 $1\\sim M$ 每辆车会在序列中出现恰好两次，一次到达，一次离开。此外，没有车辆会在停入停车场之前离开，也就是说，不会有队列中的车辆离开。", "outputFormat": "一行一个整数，表示停车场管理员今天的收入。", "hint": "### 样例解释\n\n- 样例 1：\n  - 车辆 $3$ 停在车位 $1$，支付 $300\\times 2 = 600$ 美元。\n  - 车辆 $2$ 停在车位 $2$，支付 $100\\times 3 = 300$ 美元。\n  - 车辆 $1$ 停在车位 $1$（车辆 $3$ 空出的停车位），支付 $200\\times 2 = 400$ 美元。\n  - 车辆 $4$ 停在车位 $3$，支付 $800\\times 5 = 4000$ 美元。\n\n- 样例 2：\n  - 车辆 $3$ 停在车位 $1$，支付 $1000\\times 5 = 5000$ 美元。\n  - 车辆 $1$ 停在车位 $2$，支付 $100\\times 2 = 200$ 美元。\n  - 车辆 $2$ 到达并在入口处等待。\n  - 车辆 $4$ 到达并在入口处等待，排在车辆 $2$ 之后。\n  - 当车辆 $1$ 离开时，车辆 $2$ 停在空出的车位 $2$，支付 $500\\times 2 = 1000$ 美元。\n  - 当车辆 $3$ 离开时，车辆 $4$ 停在空出的车位 $1$，支付 $2000\\times 5 = 10000$ 美元。\n\n### 数据范围与约定\n\n- 对于 $40\\%$ 的数据，没有车辆会在停车场等待。\n- 对于 $100\\%$ 的数据，$1\\leq N\\leq 100$，$1\\leq M\\leq 2000$，$1\\leq R_s\\leq 100$，$1\\leq W_k\\leq 10 ^ 4$。", "locale": "zh-CN"}}}
{"pid": "P9116", "type": "P", "difficulty": 5, "samples": [["7 3\nTTTTTTT\nTGGGGGT\nTGGGGGT\nMGGGGGD\nTGGGGGT\nTGGGGGT\nTHHHHHT\n", "1\n"], ["7 3\nTTTTTTT\nTGGGGGT\nTGGGGGT\nMGGGGGD\nTGGGGGT\nTGGGGGT\nTGHHGGT\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536, 65536]}, "tags": ["2009", "IOI", "O2优化"], "title": "[IOI 2009] Mecho", "background": "IOI2009 D2T2", "description": "小熊 Mecho 发现了一个宝藏 —— 蜜蜂的秘密蜜罐，里面装满了蜂蜜！他高兴地吃着他的新发现的宝藏，直到突然有一只蜜蜂看到了他，并发出了警报。他知道就在这个时刻，成群的蜜蜂会从蜂巢里出来，开始四处蔓延，试图抓住他。他知道他必须离开蜜罐，尽快回家，但蜂蜜太甜了， Mecho 不想太早离开。帮 Mecho 确定他最晚什么时候可以离开。\n\nMecho 所在的森林是 $N\\times N$ 的正方形网格，其两侧平行于南北和东西方向。每个格子由一棵树、一小块草、一个蜂巢或 Mecho 的家占据。如果两个格子中的一个与另一个的北、南、东或西相邻（但不在对角线上），则认为这两个格子相邻。Mecho 是一只笨拙的熊，所以每次它走一步，都只能移动至相邻的格子。Mecho 只能在草地上行走，不能穿过树木或蜂巢，而且他每分钟最多能走 $S$ 步。\n\n当蜜蜂警报响起的那一刻， Mecho 在装有蜜罐的草格子里，而蜜蜂则在每个包含蜂巢的格子里（森林里可能有不止一个蜂巢）。接下来的每一分钟内，以下事件按顺序发生:\n\n1. 如果 Mecho 还在吃蜂蜜，他会决定是继续吃还是离开。如果它继续吃东西，就会一动不动。否则，他会立即离开，并像上面描述的那样移动至多 $S$ 步。 Mecho 不能带任何蜂蜜，所以一旦他移动了，他就不能再吃蜂蜜了。\n\n2. 当 Mecho 吃完或移动了整整一分钟后，蜜蜂在网格中进一步扩散了一个单位，只移动到草格子中。具体地，蜂群扩散到每一个与任何已经有蜜蜂的格子相邻的草格子。此外，一旦一个格子有蜜蜂，它将永远有蜜蜂（也就是说，蜂群不移动，但它生长）。\n\n换句话说，蜜蜂的分布如下：当蜜蜂警报响起时，蜜蜂只占据蜂巢所在的格子。在第一分钟结束时，它们占据了蜂巢附近所有长满草的格子（以及原本的所有蜂巢）。在第二分钟结束时，它们又占据了和 “与蜂巢相邻的草格子” 相邻的草格子，以此类推。只要有足够的时间，这些蜜蜂就会同时占据森林中它们能到达的所有草格子。\n\nMecho 和蜜蜂都不能走出森林。另外，根据上面的规则，Mecho 总是吃整数分钟的蜂蜜。\n\n如果 Mecho 发现自己在一个被蜜蜂占据的格子里，蜜蜂就会抓住 Mecho。\n\n**任务**：编写一个程序，给定一张森林地图，计算出  Mecho 可以在最初的位置继续吃蜂蜜的最长时间，同时还能在任何蜜蜂抓到他之前回到他的家。", "inputFormat": "第一行包含两个由空格隔开的整数 $N, S$，分别表示地图大小和 Mecho 每分钟最多移动的步数。\n\n接下来 $N$ 行描述了森林地图。其中每一行包含 $N$ 个字符，每个字符表示一个格子。可能的字符及其含义如下: \n\n- `T` 表示树。\n- `G` 表示草格子。\n- `M` 表示 Mecho 的初始位置，也是蜜罐的位置。这是一个草格子，蜜蜂可以进入。\n- `D` 表示 Mecho 的家。Mecho 可以进入这个格子，但蜜蜂不可以。\n- `H` 表示蜂巢。\n\n**注意**：保证地图恰好包含一个字母 `M`，恰好一个字母 `D` 和至少一个字母 `H`。保证存在相邻的字母 `G` 形成的路径连接 Mecho 和它的家，以及相邻的字母 `G` 形成的路径连接蜜罐（即 Mecho 最初的位置）和至少一个蜂巢。这些序列可能长度为零，如 Mecho 的家或蜂巢和 Mecho 的初始位置相邻。另外，蜜蜂不能通过或飞过 Mecho 的家。对它们来说，Mecho 的家就像一棵树。", "outputFormat": "输出一行一个整数，表示 Mecho 最多还能在初始位置吃多少分钟蜂蜜，并安全地回家。\n\n如果 Mecho 不可能在蜜蜂抓住它之前回家，输出 $-1$。", "hint": "### 样例解释\n\n- 样例 1：吃了一分钟蜂蜜后，Mecho 可以沿着最短的路径直接往右走，再过两分钟他就可以安全到家了。\n\n- 样例 2：吃了两分钟蜂蜜后，Mecho 可以在第三分钟向右，向上，向右走；在第四分钟向右走三步；在第五分钟向下，向右走。\n\n### 数据范围与约定\n\n- 对于 $40\\%$ 的数据，$N\\leq 60$。\n- 对于 $100\\%$ 的数据，$1\\leq N\\leq 800$，$1\\leq S\\leq 1000$。\n\n注意在实际评测中，部分分和以上描述有出入。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[IOI 2009] Mecho", "background": "IOI2009 D2T2", "description": "小熊 Mecho 发现了一个宝藏 —— 蜜蜂的秘密蜜罐，里面装满了蜂蜜！他高兴地吃着他的新发现的宝藏，直到突然有一只蜜蜂看到了他，并发出了警报。他知道就在这个时刻，成群的蜜蜂会从蜂巢里出来，开始四处蔓延，试图抓住他。他知道他必须离开蜜罐，尽快回家，但蜂蜜太甜了， Mecho 不想太早离开。帮 Mecho 确定他最晚什么时候可以离开。\n\nMecho 所在的森林是 $N\\times N$ 的正方形网格，其两侧平行于南北和东西方向。每个格子由一棵树、一小块草、一个蜂巢或 Mecho 的家占据。如果两个格子中的一个与另一个的北、南、东或西相邻（但不在对角线上），则认为这两个格子相邻。Mecho 是一只笨拙的熊，所以每次它走一步，都只能移动至相邻的格子。Mecho 只能在草地上行走，不能穿过树木或蜂巢，而且他每分钟最多能走 $S$ 步。\n\n当蜜蜂警报响起的那一刻， Mecho 在装有蜜罐的草格子里，而蜜蜂则在每个包含蜂巢的格子里（森林里可能有不止一个蜂巢）。接下来的每一分钟内，以下事件按顺序发生:\n\n1. 如果 Mecho 还在吃蜂蜜，他会决定是继续吃还是离开。如果它继续吃东西，就会一动不动。否则，他会立即离开，并像上面描述的那样移动至多 $S$ 步。 Mecho 不能带任何蜂蜜，所以一旦他移动了，他就不能再吃蜂蜜了。\n\n2. 当 Mecho 吃完或移动了整整一分钟后，蜜蜂在网格中进一步扩散了一个单位，只移动到草格子中。具体地，蜂群扩散到每一个与任何已经有蜜蜂的格子相邻的草格子。此外，一旦一个格子有蜜蜂，它将永远有蜜蜂（也就是说，蜂群不移动，但它生长）。\n\n换句话说，蜜蜂的分布如下：当蜜蜂警报响起时，蜜蜂只占据蜂巢所在的格子。在第一分钟结束时，它们占据了蜂巢附近所有长满草的格子（以及原本的所有蜂巢）。在第二分钟结束时，它们又占据了和 “与蜂巢相邻的草格子” 相邻的草格子，以此类推。只要有足够的时间，这些蜜蜂就会同时占据森林中它们能到达的所有草格子。\n\nMecho 和蜜蜂都不能走出森林。另外，根据上面的规则，Mecho 总是吃整数分钟的蜂蜜。\n\n如果 Mecho 发现自己在一个被蜜蜂占据的格子里，蜜蜂就会抓住 Mecho。\n\n**任务**：编写一个程序，给定一张森林地图，计算出  Mecho 可以在最初的位置继续吃蜂蜜的最长时间，同时还能在任何蜜蜂抓到他之前回到他的家。", "inputFormat": "第一行包含两个由空格隔开的整数 $N, S$，分别表示地图大小和 Mecho 每分钟最多移动的步数。\n\n接下来 $N$ 行描述了森林地图。其中每一行包含 $N$ 个字符，每个字符表示一个格子。可能的字符及其含义如下: \n\n- `T` 表示树。\n- `G` 表示草格子。\n- `M` 表示 Mecho 的初始位置，也是蜜罐的位置。这是一个草格子，蜜蜂可以进入。\n- `D` 表示 Mecho 的家。Mecho 可以进入这个格子，但蜜蜂不可以。\n- `H` 表示蜂巢。\n\n**注意**：保证地图恰好包含一个字母 `M`，恰好一个字母 `D` 和至少一个字母 `H`。保证存在相邻的字母 `G` 形成的路径连接 Mecho 和它的家，以及相邻的字母 `G` 形成的路径连接蜜罐（即 Mecho 最初的位置）和至少一个蜂巢。这些序列可能长度为零，如 Mecho 的家或蜂巢和 Mecho 的初始位置相邻。另外，蜜蜂不能通过或飞过 Mecho 的家。对它们来说，Mecho 的家就像一棵树。", "outputFormat": "输出一行一个整数，表示 Mecho 最多还能在初始位置吃多少分钟蜂蜜，并安全地回家。\n\n如果 Mecho 不可能在蜜蜂抓住它之前回家，输出 $-1$。", "hint": "### 样例解释\n\n- 样例 1：吃了一分钟蜂蜜后，Mecho 可以沿着最短的路径直接往右走，再过两分钟他就可以安全到家了。\n\n- 样例 2：吃了两分钟蜂蜜后，Mecho 可以在第三分钟向右，向上，向右走；在第四分钟向右走三步；在第五分钟向下，向右走。\n\n### 数据范围与约定\n\n- 对于 $40\\%$ 的数据，$N\\leq 60$。\n- 对于 $100\\%$ 的数据，$1\\leq N\\leq 800$，$1\\leq S\\leq 1000$。\n\n注意在实际评测中，部分分和以上描述有出入。", "locale": "zh-CN"}}}
{"pid": "P9117", "type": "P", "difficulty": 2, "samples": [["2\n5 5 9\n1 5 1\n0 4 0\n1 4 1\n0 3 0\n1 3 1\n0 2 0\n1 2 1\n0 1 0\n1 1 1\n3 3 3\n0 1 2\n0 3 1\n1 1 3", "1 0 0 0 0\n1 1 0 0 0\n1 1 1 0 0\n1 1 1 1 0\n1 1 1 1 1\n3 2 2\n3 0 0\n3 1 1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2023", "NOIP 提高组", "O2优化"], "title": "[春季测试 2023] 涂色游戏", "background": "", "description": "有一天，小 D 在刷朋友圈时看到了一段游戏视频。\n\n这个游戏的名字叫涂色游戏，视频中的游戏界面是一个 $n$ 行 $m$ 列的网格，初始时每一个格子都是白色（用数字 $0$ 表示）。其中每一行的左侧、每一列的上方都有一把带颜色的刷子。玩家点击某个刷子后，这个刷子会将其右侧（或下方）的一整行（或一整列）涂上同一种颜色，**该行（或该列）格子原有的颜色都会被覆盖成新涂上的颜色。**\n\n下图展示的情况可以通过先将第一列涂成红色，然后将第一行涂成蓝色得到，若此时选择将第三列涂成绿色，则图中绿色方框中的格子都会变成绿色。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dc71alkw.png)\n\n小 D 想用他自己编写的程序来进行视频中的游戏。在编程的过程中，小 D 在涂色逻辑的实现上却遇到了一些困难，于是他向你求助，希望你能帮他完成实现涂色逻辑部分的代码。\n\n首先，小 D 会给你网格的行数和列数 $n, m$，然后给出 $q$ 次操作，每次操作用三个整数 $opt_i, x_i, c_i$ 表示：\n\n- 如果 $opt_i=0$，那么这次操作会将第 $x_i$ **行**涂成颜色 $c_i$。\n- 如果 $opt_i=1$，那么这次操作会将第 $x_i$ **列**涂成颜色 $c_i$。\n\n在所有涂色操作结束以后，你需要输出网格中每个位置的颜色是什么。", "inputFormat": "**本题有多组测试数据。**\n\n第一行包含一个正整数 $T$，表示数据组数。\n\n接下来一共 $T$ 组数据，每组数据格式如下：\n\n第一行包含三个整数 $n, m, q$，分别表示涂色板的行数、列数，以及小 D 进行涂色操作的次数。\n\n接下来 $q$ 行，每行包含三个整数 $opt_i, x_i, c_i$，表示一次操作。\n\n", "outputFormat": "对于每组数据，输出 $n$ 行，每行 $m$ 个由单个空格隔开的整数。\n\n其中第 $i$ 行第 $j$ 个整数表示涂色完成后网格中第 $i$ 行第 $j$ 列的方格是什么颜色。", "hint": "**【样例 1 解释】**\n\n注意当一个格子没有被涂色时，其颜色为白色，用数字 $0$ 表示。\n\n**【样例 2】**\n\n见选手目录下的 paint/paint2.in 与 paint/paint2.ans。\n\n**【数据范围】**\n\n对于所有数据，保证：\n\n- $1 \\leq T \\leq 10$，$1 \\leq n,m \\leq 10^5$，$0 \\leq q \\leq 10^5$，$0 \\leq c_i \\leq 10^9$。\n- 若 $opt_i=0$，则 $1 \\leq x_i \\leq n$；若 $opt_i=1$，则 $1 \\leq x_i \\leq m$。\n- 单个测试点中所有数据的 $n \\cdot m$ 的总和不超过 $10^6$，$q$ 的总和不超过 $10^6$。\n\n|测试点|$n \\le$|$m \\le$|$q \\le$|性质 A|性质 B|\n|:-:|:-:|:-:|:-:|:-:|:-:|\n|1|$1$|$1$|$0$|√|√|\n|2|$1$|$1$|$1$|√|√|\n|3|$1$|$10$|$20$|√|√|\n|4|$1$|$10^5$|$10^5$|×|√|\n|5|$1$|$10^5$|$10^5$|×|√|\n|6|$1$|$10^5$|$10^5$|×|×|\n|7|$10$|$10$|$20$|√|√|\n|8|$50$|$50$|$100$|√|√|\n|9|$50$|$50$|$100$|√|×|\n|10|$1000$|$1000$|$2000$|×|√|\n|11|$1000$|$1000$|$2000$|×|×|\n|12|$1000$|$1000$|$2000$|×|×|\n|13|$1000$|$1000$|$10^5$|×|×|\n|14|$1000$|$1000$|$10^5$|×|×|\n|15|$10^5$|$10^5$|$10^5$|√|√|\n|16|$10^5$|$10^5$|$10^5$|√|√|\n|17|$10^5$|$10^5$|$10^5$|√|×|\n|18|$10^5$|$10^5$|$10^5$|√|×|\n|19|$10^5$|$10^5$|$10^5$|×|×|\n|20|$10^5$|$10^5$|$10^5$|×|×|\n\n特殊性质 A：保证测试点中所有的 $q \\cdot \\max(n, m)$ 之和不超过 $10^7$。\n\n特殊性质 B：保证 $opt_i = 1$。\n\n**【提示】**\n\n数据千万条，清空第一条。多测不清空，爆零两行泪。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[春季测试 2023] 涂色游戏", "background": "", "description": "有一天，小 D 在刷朋友圈时看到了一段游戏视频。\n\n这个游戏的名字叫涂色游戏，视频中的游戏界面是一个 $n$ 行 $m$ 列的网格，初始时每一个格子都是白色（用数字 $0$ 表示）。其中每一行的左侧、每一列的上方都有一把带颜色的刷子。玩家点击某个刷子后，这个刷子会将其右侧（或下方）的一整行（或一整列）涂上同一种颜色，**该行（或该列）格子原有的颜色都会被覆盖成新涂上的颜色。**\n\n下图展示的情况可以通过先将第一列涂成红色，然后将第一行涂成蓝色得到，若此时选择将第三列涂成绿色，则图中绿色方框中的格子都会变成绿色。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dc71alkw.png)\n\n小 D 想用他自己编写的程序来进行视频中的游戏。在编程的过程中，小 D 在涂色逻辑的实现上却遇到了一些困难，于是他向你求助，希望你能帮他完成实现涂色逻辑部分的代码。\n\n首先，小 D 会给你网格的行数和列数 $n, m$，然后给出 $q$ 次操作，每次操作用三个整数 $opt_i, x_i, c_i$ 表示：\n\n- 如果 $opt_i=0$，那么这次操作会将第 $x_i$ **行**涂成颜色 $c_i$。\n- 如果 $opt_i=1$，那么这次操作会将第 $x_i$ **列**涂成颜色 $c_i$。\n\n在所有涂色操作结束以后，你需要输出网格中每个位置的颜色是什么。", "inputFormat": "**本题有多组测试数据。**\n\n第一行包含一个正整数 $T$，表示数据组数。\n\n接下来一共 $T$ 组数据，每组数据格式如下：\n\n第一行包含三个整数 $n, m, q$，分别表示涂色板的行数、列数，以及小 D 进行涂色操作的次数。\n\n接下来 $q$ 行，每行包含三个整数 $opt_i, x_i, c_i$，表示一次操作。\n\n", "outputFormat": "对于每组数据，输出 $n$ 行，每行 $m$ 个由单个空格隔开的整数。\n\n其中第 $i$ 行第 $j$ 个整数表示涂色完成后网格中第 $i$ 行第 $j$ 列的方格是什么颜色。", "hint": "**【样例 1 解释】**\n\n注意当一个格子没有被涂色时，其颜色为白色，用数字 $0$ 表示。\n\n**【样例 2】**\n\n见选手目录下的 paint/paint2.in 与 paint/paint2.ans。\n\n**【数据范围】**\n\n对于所有数据，保证：\n\n- $1 \\leq T \\leq 10$，$1 \\leq n,m \\leq 10^5$，$0 \\leq q \\leq 10^5$，$0 \\leq c_i \\leq 10^9$。\n- 若 $opt_i=0$，则 $1 \\leq x_i \\leq n$；若 $opt_i=1$，则 $1 \\leq x_i \\leq m$。\n- 单个测试点中所有数据的 $n \\cdot m$ 的总和不超过 $10^6$，$q$ 的总和不超过 $10^6$。\n\n|测试点|$n \\le$|$m \\le$|$q \\le$|性质 A|性质 B|\n|:-:|:-:|:-:|:-:|:-:|:-:|\n|1|$1$|$1$|$0$|√|√|\n|2|$1$|$1$|$1$|√|√|\n|3|$1$|$10$|$20$|√|√|\n|4|$1$|$10^5$|$10^5$|×|√|\n|5|$1$|$10^5$|$10^5$|×|√|\n|6|$1$|$10^5$|$10^5$|×|×|\n|7|$10$|$10$|$20$|√|√|\n|8|$50$|$50$|$100$|√|√|\n|9|$50$|$50$|$100$|√|×|\n|10|$1000$|$1000$|$2000$|×|√|\n|11|$1000$|$1000$|$2000$|×|×|\n|12|$1000$|$1000$|$2000$|×|×|\n|13|$1000$|$1000$|$10^5$|×|×|\n|14|$1000$|$1000$|$10^5$|×|×|\n|15|$10^5$|$10^5$|$10^5$|√|√|\n|16|$10^5$|$10^5$|$10^5$|√|√|\n|17|$10^5$|$10^5$|$10^5$|√|×|\n|18|$10^5$|$10^5$|$10^5$|√|×|\n|19|$10^5$|$10^5$|$10^5$|×|×|\n|20|$10^5$|$10^5$|$10^5$|×|×|\n\n特殊性质 A：保证测试点中所有的 $q \\cdot \\max(n, m)$ 之和不超过 $10^7$。\n\n特殊性质 B：保证 $opt_i = 1$。\n\n**【提示】**\n\n数据千万条，清空第一条。多测不清空，爆零两行泪。\n", "locale": "zh-CN"}}}
{"pid": "P9118", "type": "P", "difficulty": 4, "samples": [["99 1", "99"], ["99 3", "7"], ["99 2", "12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["数学", "2023", "NOIP 提高组", "O2优化", "枚举", "容斥原理"], "title": "[春季测试 2023] 幂次", "background": null, "description": "小 Ω 在小学数学课上学到了“幂次”的概念：$\\forall a, b \\in \\N^+$，定义 $a^b$ 为 $b$ 个 $a$ 相乘。\n\n她很好奇有多少正整数可以被表示为上述 $a^b$ 的形式？由于所有正整数 $m \\in \\N^+$ 总是可以被表示为 $m^1$ 的形式，因此她要求上述的表示中，必须有 $b \\geq k$，其中 $k$ 是她事先选取好的一个正整数。\n\n因此她想知道在 $1$ 到 $n$ 中，有多少正整数 $x$ 可以被表示为 $x = a^b$ 的形式，其中 $a, b$ 都是正整数，且 $b \\geq k$？", "inputFormat": "第一行包含两个正整数 $n, k$，意义如上所述。", "outputFormat": "输出一行包含一个非负整数表示对应的答案。", "hint": "**【样例 2 解释】**\n\n以下是全部 $7$ 组符合题意的正整数及对应的一种合法的表示方法。\n\n$1 = 1^3, 8 = 2^3, 16 = 2^4, 27 = 3^3, 32 = 2^5, 64 = 4^3, 81 = 3^4$。\n\n注意某些正整数可能有多种合法的表示方法，例如 $64$ 还可以表示为 $64 = 2^6$。\n\n但根据题意，同一个数的不同的合法表示方法只会被计入一次。\n\n**【样例 3 解释】**\n\n以下是全部 $12$ 组符合题意的正整数及对应的一种合法的表示方法。\n\n$1 = 1^2, 4 = 2^2, 8 = 2^3, 9 = 3^2, 16 = 4^2, 25 = 5^2, 27 = 3^3, 32 = 2^5, 36 = 6^2, 49 = 7^2, 64 = 8^2, 81 = 9^2$。\n\n**【样例 4】**\n\n见选手目录下的 power/power4.in 与 power/power4.ans。\n\n**【样例 5】**\n\n见选手目录下的 power/power5.in 与 power/power5.ans。\n\n**【样例 6】**\n\n见选手目录下的 power/power6.in 与 power/power6.ans。\n\n\n**【数据范围】**\n\n对于所有数据，保证 $1 \\leq n \\leq 10^{18}$，$1 \\leq k \\leq 100$。\n\n|测试点编号|$n \\le$|$k$|\n|:-:|:-:|:-:|\n|1|$10^2$|$=1$|\n|2|$10^2$|$\\ge 2$|\n|3|$10^4$|$\\ge 3$|\n|4|$10^4$|$\\ge 2$|\n|5|$10^6$|$\\ge 3$|\n|6|$10^6$|$\\ge 2$|\n|7|$10^8$|$\\ge 3$|\n|8|$10^8$|$\\ge 2$|\n|9|$10^{10}$|$\\ge 3$|\n|10|$10^{10}$|$\\ge 2$|\n|11|$10^{12}$|$\\ge 3$|\n|12|$10^{12}$|$\\ge 2$|\n|13|$10^{14}$|$\\ge 3$|\n|14|$10^{14}$|$\\ge 2$|\n|15|$10^{16}$|$\\ge 3$|\n|16|$10^{16}$|$\\ge 2$|\n|17|$10^{18}$|$\\ge 3$|\n|18|$10^{18}$|$\\ge 2$|\n|19|$10^{18}$|$\\ge 2$|\n|20|$10^{18}$|$\\ge 2$|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[春季测试 2023] 幂次", "background": null, "description": "小 Ω 在小学数学课上学到了“幂次”的概念：$\\forall a, b \\in \\N^+$，定义 $a^b$ 为 $b$ 个 $a$ 相乘。\n\n她很好奇有多少正整数可以被表示为上述 $a^b$ 的形式？由于所有正整数 $m \\in \\N^+$ 总是可以被表示为 $m^1$ 的形式，因此她要求上述的表示中，必须有 $b \\geq k$，其中 $k$ 是她事先选取好的一个正整数。\n\n因此她想知道在 $1$ 到 $n$ 中，有多少正整数 $x$ 可以被表示为 $x = a^b$ 的形式，其中 $a, b$ 都是正整数，且 $b \\geq k$？", "inputFormat": "第一行包含两个正整数 $n, k$，意义如上所述。", "outputFormat": "输出一行包含一个非负整数表示对应的答案。", "hint": "**【样例 2 解释】**\n\n以下是全部 $7$ 组符合题意的正整数及对应的一种合法的表示方法。\n\n$1 = 1^3, 8 = 2^3, 16 = 2^4, 27 = 3^3, 32 = 2^5, 64 = 4^3, 81 = 3^4$。\n\n注意某些正整数可能有多种合法的表示方法，例如 $64$ 还可以表示为 $64 = 2^6$。\n\n但根据题意，同一个数的不同的合法表示方法只会被计入一次。\n\n**【样例 3 解释】**\n\n以下是全部 $12$ 组符合题意的正整数及对应的一种合法的表示方法。\n\n$1 = 1^2, 4 = 2^2, 8 = 2^3, 9 = 3^2, 16 = 4^2, 25 = 5^2, 27 = 3^3, 32 = 2^5, 36 = 6^2, 49 = 7^2, 64 = 8^2, 81 = 9^2$。\n\n**【样例 4】**\n\n见选手目录下的 power/power4.in 与 power/power4.ans。\n\n**【样例 5】**\n\n见选手目录下的 power/power5.in 与 power/power5.ans。\n\n**【样例 6】**\n\n见选手目录下的 power/power6.in 与 power/power6.ans。\n\n\n**【数据范围】**\n\n对于所有数据，保证 $1 \\leq n \\leq 10^{18}$，$1 \\leq k \\leq 100$。\n\n|测试点编号|$n \\le$|$k$|\n|:-:|:-:|:-:|\n|1|$10^2$|$=1$|\n|2|$10^2$|$\\ge 2$|\n|3|$10^4$|$\\ge 3$|\n|4|$10^4$|$\\ge 2$|\n|5|$10^6$|$\\ge 3$|\n|6|$10^6$|$\\ge 2$|\n|7|$10^8$|$\\ge 3$|\n|8|$10^8$|$\\ge 2$|\n|9|$10^{10}$|$\\ge 3$|\n|10|$10^{10}$|$\\ge 2$|\n|11|$10^{12}$|$\\ge 3$|\n|12|$10^{12}$|$\\ge 2$|\n|13|$10^{14}$|$\\ge 3$|\n|14|$10^{14}$|$\\ge 2$|\n|15|$10^{16}$|$\\ge 3$|\n|16|$10^{16}$|$\\ge 2$|\n|17|$10^{18}$|$\\ge 3$|\n|18|$10^{18}$|$\\ge 2$|\n|19|$10^{18}$|$\\ge 2$|\n|20|$10^{18}$|$\\ge 2$|", "locale": "zh-CN"}}}
{"pid": "P9119", "type": "P", "difficulty": 5, "samples": [["3\n0.000000000 0.000000000\n3.000000000 0.000000000\n1.000000000 1.000000000\n", "3 1 2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["动态规划 DP", "贪心", "2023", "NOIP 提高组", "Special Judge", "O2优化", "区间 DP"], "title": "[春季测试 2023] 圣诞树", "background": "", "description": "众所周知，3202 年的圣诞节快要到了，因此小 Ω 买了一棵圣诞树和一根挂满了彩灯的电线，并打算把这根电线缠绕在圣诞树上。\n\n圣诞树可以视作一个二维平面上有 $n$ 个顶点的**凸多边形**。这 $n$ 个顶点可以用于固定电线，且按**逆时针顺序**依次编号为 $1, \\ldots, n$。其中第 $i$ 个顶点的坐标为 $(x_i, y_i)$，记其中 **$y$ 坐标最大**的顶点的编号为 $k$（若有多个满足条件的顶点，则取**编号最小**的）。不保证编号为 $1$ 的顶点的 $x$ 坐标最小。\n\n下图左侧展示了一棵圣诞树的轮廓，其中 **$y$ 坐标最大**的顶点的编号为 $k = 5$。\n\n![图 2：一棵圣诞树及一种可能的挂电线的方案](https://cdn.luogu.com.cn/upload/image_hosting/ayjegrhj.png)\n\n小 Ω 希望用挂满了彩灯的电线装饰这棵圣诞树。出于美观性考虑，她希望这根电线**经过所有顶点恰好一次**；为了连接电源，这根电线需要**从 $(x_k, y_k)$ 出发**。形式化地，她需要决定一个 $1, \\cdots, n$ 的**排列** $p_1, \\cdots, p_n$，满足 $p_1 = k$，随后这根电线从 $(x_{p_1}, y_{p_1})$ 出发，依次经过 $(x_{p_2}, y_{p_2}), \\cdots, (x_{p_n}, y_{p_n})$。此时，电线长度为 $\\sum_{i=1}^{n-1}{\\operatorname{d}((x_{p_i}, y_{p_i}), (x_{p_{i+1}}, y_{p_{i+1}}))}$。\n\n- 其中 $\\operatorname{d}$ 为平面上的**欧几里得距离**，即 $\\operatorname{d}((x, y), (x', y')) = \\sqrt{(x - x')^2 + (y - y')^2}$。\n\n上图右侧展示了一种可能的方案，此时对应的排列为 $5, 4, 8, 6, 3, 9, 1, 7, 2$。\n\n为了节省成本，她希望你能在所有可能的方案中，给出一种使电线长度**最短**的方案。如果使电线长度最短的方案不唯一，你只需要求出其中**任意**一种。\n\n**考虑到浮点数产生的误差，你输出的方案与最优方案的线段长度的相对误差或绝对误差不超过 $10^{-10}$ 时即认为答案正确**。\n", "inputFormat": "第一行包含一个正整数 $n$，表示圣诞树的顶点数。\n\n接下来 $n$ 行，其中第 $i$ 行包含两个精确到小数点后 $9$ 位的实数 $x_i, y_i$ 表示编号为 $i$ 的顶点的坐标。\n\n数据保证这 $n$ 个点**两两不同**，并且依次连接 $(x_1, y_1), (x_2, y_2), \\cdots, (x_n, y_n)$ 将形成一个**凸多边形**。\n", "outputFormat": "输出一行包含 $n$ 个由单个空格隔开的正整数 $p_1, p_2, \\cdots, p_n$，表示一个 $1, \\cdots, n$ 的排列，满足 $p_1 = k$，且电线的长度 $\\sum_{i=1}^{n-1}{\\operatorname{d}((x_{p_i}, y_{p_i}), (x_{p_{i+1}}, y_{p_{i+1}}))}$ 在所有可能的方案中**最短**。如果这样的方案不唯一，请输出其中任意一种方案。\n", "hint": "**【样例 1 解释】**\n\n这一样例中只有下图所示的两种方案，对应排列分别为 $3, 1, 2$ 或 $3, 2, 1$，电线长度分别为 $3 + \\sqrt{2}$ 和 $3 + \\sqrt{5}$，而 $3 + \\sqrt{2} < 3 + \\sqrt{5}$。\n\n因此答案对应的排列为 $3, 1, 2$。\n\n![图 3：样例 1 的全部两种可能的方案](https://cdn.luogu.com.cn/upload/image_hosting/tcwvp72y.png)\n\n**【数据范围】**\n\n对于所有数据，保证 $3 \\le n \\le 1000$；$|x_i|, |y_i| \\le 10^7$。\n\n|测试点编号|$n \\le$|特殊性质|\n|:-:|:-:|:-:|\n|1, 2|$4$|无|\n|3, 4, 5, 6|$9$|无|\n|7, 8, 9, 10, 11, 12|$18$|无|\n|13, 14|$10^3$|A|\n|15, 16|$10^3$|B|\n|17, 18, 19, 20|$10^3$|无|\n\n特殊性质 A：保证存在正整数 $m \\ge n$，使得输入的 $n$ 个顶点对应正 $m$ 边形中连续的一段顶点。\n\n特殊性质 B：保证 $x_1 < x_2 < \\cdots < x_n$，且 $y_1 > y_2 > \\cdots > y_n$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[春季测试 2023] 圣诞树", "background": "", "description": "众所周知，3202 年的圣诞节快要到了，因此小 Ω 买了一棵圣诞树和一根挂满了彩灯的电线，并打算把这根电线缠绕在圣诞树上。\n\n圣诞树可以视作一个二维平面上有 $n$ 个顶点的**凸多边形**。这 $n$ 个顶点可以用于固定电线，且按**逆时针顺序**依次编号为 $1, \\ldots, n$。其中第 $i$ 个顶点的坐标为 $(x_i, y_i)$，记其中 **$y$ 坐标最大**的顶点的编号为 $k$（若有多个满足条件的顶点，则取**编号最小**的）。不保证编号为 $1$ 的顶点的 $x$ 坐标最小。\n\n下图左侧展示了一棵圣诞树的轮廓，其中 **$y$ 坐标最大**的顶点的编号为 $k = 5$。\n\n![图 2：一棵圣诞树及一种可能的挂电线的方案](https://cdn.luogu.com.cn/upload/image_hosting/ayjegrhj.png)\n\n小 Ω 希望用挂满了彩灯的电线装饰这棵圣诞树。出于美观性考虑，她希望这根电线**经过所有顶点恰好一次**；为了连接电源，这根电线需要**从 $(x_k, y_k)$ 出发**。形式化地，她需要决定一个 $1, \\cdots, n$ 的**排列** $p_1, \\cdots, p_n$，满足 $p_1 = k$，随后这根电线从 $(x_{p_1}, y_{p_1})$ 出发，依次经过 $(x_{p_2}, y_{p_2}), \\cdots, (x_{p_n}, y_{p_n})$。此时，电线长度为 $\\sum_{i=1}^{n-1}{\\operatorname{d}((x_{p_i}, y_{p_i}), (x_{p_{i+1}}, y_{p_{i+1}}))}$。\n\n- 其中 $\\operatorname{d}$ 为平面上的**欧几里得距离**，即 $\\operatorname{d}((x, y), (x', y')) = \\sqrt{(x - x')^2 + (y - y')^2}$。\n\n上图右侧展示了一种可能的方案，此时对应的排列为 $5, 4, 8, 6, 3, 9, 1, 7, 2$。\n\n为了节省成本，她希望你能在所有可能的方案中，给出一种使电线长度**最短**的方案。如果使电线长度最短的方案不唯一，你只需要求出其中**任意**一种。\n\n**考虑到浮点数产生的误差，你输出的方案与最优方案的线段长度的相对误差或绝对误差不超过 $10^{-10}$ 时即认为答案正确**。\n", "inputFormat": "第一行包含一个正整数 $n$，表示圣诞树的顶点数。\n\n接下来 $n$ 行，其中第 $i$ 行包含两个精确到小数点后 $9$ 位的实数 $x_i, y_i$ 表示编号为 $i$ 的顶点的坐标。\n\n数据保证这 $n$ 个点**两两不同**，并且依次连接 $(x_1, y_1), (x_2, y_2), \\cdots, (x_n, y_n)$ 将形成一个**凸多边形**。\n", "outputFormat": "输出一行包含 $n$ 个由单个空格隔开的正整数 $p_1, p_2, \\cdots, p_n$，表示一个 $1, \\cdots, n$ 的排列，满足 $p_1 = k$，且电线的长度 $\\sum_{i=1}^{n-1}{\\operatorname{d}((x_{p_i}, y_{p_i}), (x_{p_{i+1}}, y_{p_{i+1}}))}$ 在所有可能的方案中**最短**。如果这样的方案不唯一，请输出其中任意一种方案。\n", "hint": "**【样例 1 解释】**\n\n这一样例中只有下图所示的两种方案，对应排列分别为 $3, 1, 2$ 或 $3, 2, 1$，电线长度分别为 $3 + \\sqrt{2}$ 和 $3 + \\sqrt{5}$，而 $3 + \\sqrt{2} < 3 + \\sqrt{5}$。\n\n因此答案对应的排列为 $3, 1, 2$。\n\n![图 3：样例 1 的全部两种可能的方案](https://cdn.luogu.com.cn/upload/image_hosting/tcwvp72y.png)\n\n**【数据范围】**\n\n对于所有数据，保证 $3 \\le n \\le 1000$；$|x_i|, |y_i| \\le 10^7$。\n\n|测试点编号|$n \\le$|特殊性质|\n|:-:|:-:|:-:|\n|1, 2|$4$|无|\n|3, 4, 5, 6|$9$|无|\n|7, 8, 9, 10, 11, 12|$18$|无|\n|13, 14|$10^3$|A|\n|15, 16|$10^3$|B|\n|17, 18, 19, 20|$10^3$|无|\n\n特殊性质 A：保证存在正整数 $m \\ge n$，使得输入的 $n$ 个顶点对应正 $m$ 边形中连续的一段顶点。\n\n特殊性质 B：保证 $x_1 < x_2 < \\cdots < x_n$，且 $y_1 > y_2 > \\cdots > y_n$。\n", "locale": "zh-CN"}}}
{"pid": "P9120", "type": "P", "difficulty": 6, "samples": [["2 3\n3\n1 2 1\n2 3 2\n3 1 3\n2\n1 2\n2 1\n1 2", "0\n1"], ["见选手目录下的 lock/lock2.in。", "见选手目录下的 lock/lock2.ans。"], ["见选手目录下的 lock/lock3.in。", "见选手目录下的 lock/lock3.ans。"], ["见选手目录下的 lock/lock4.in。", "见选手目录下的 lock/lock4.ans。"], ["见选手目录下的 lock/lock5.in。", "见选手目录下的 lock/lock5.ans。"]], "limits": {"time": [2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "二分", "并查集", "2023", "NOIP 提高组", "O2优化"], "title": "[春季测试 2023] 密码锁", "background": "", "description": "寒假过后，小 I 回到学校，发现自己忘记了自行车锁的密码，于是请你帮忙。\n\n小 I 自行车上的密码锁有 $n$ 个拨圈，每个拨圈有 $k$（$k \\leq 4$）格。密码锁上的每一格都包含一个正整数，其中第 $j$ 个拨圈的第 $i$ 格上的正整数为 $a _ {i, j}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0owivo0l.png)\n\n（一个锁的例子，其中 $k = n = 3$，每列表示一个拨圈，拨圈的格子从上往下编号。）\n\n你可以对每个拨圈拨若干次（也可以不拨），每拨一次拨圈，它的格子就会进行一次轮换。形式化地，拨第 $j$ 个拨圈一次，则会让第 $j$ 个拨圈上第 $i$ 格的数字移动到第 $((i \\bmod k) + 1)$ 格，其他拨圈不动。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9d3g6b74.png)\n\n（一个拨动拨圈的例子，对左侧的锁拨一次第二个拨圈得到右侧的锁。）\n\n为了方便记忆，小 I 设定密码时要求同一行上的数字尽可能靠近。\n形式化地，对于 $1 \\leq i \\leq k$，定义密码锁第 $i$ 行的松散度为\n\n$$\nc(i) = \\max \\limits _ {j = 1} ^ n a _ {i, j} - \\min \\limits _ {j = 1} ^ n a _ {i, j} \n$$\n\n同时定义整个密码锁的松散度为\n\n$$\nC = \\max \\limits _ {1 \\leq i \\leq k} c(i)\n$$\n\n因为能开锁的状态满足 $C$ 尽可能小，因此小 I 希望你找出最小的 $C$ 值。", "inputFormat": "**本题有多组测试数据，题目保证一个测试点中所有测试数据的 $k$ 相同。**\n\n第一行包含两个正整数 $T, k$，分别表示测试数据组数和密码锁拨圈上的格数。\n\n接下来一共 $T$ 组数据，每组数据格式如下：\n\n第一行包含一个正整数 $n$，表示拨圈数。\n\n接下来 $k$ 行，每行包含 $n$ 个正整数，其中第 $i$ 行第 $j$ 个整数 $a _ {i,j}$ 表示密码锁第 $j$ 个拨圈上第 $i$ 格对应的数字。\n\n**注意输入的矩阵中每一列对应一个拨圈，而非每一行对应一个拨圈。**", "outputFormat": "对于每组数据，输出一行包含一个整数，表示所有方案中 $C$ 的最小值。", "hint": "**【样例 1 解释】**\n\n第一组样例对应题目描述中的例子。\n在拨第二个拨圈一次后，每个拨圈都是 $\\{1, 2, 3\\}$，此时松散度为 $0$。\n容易证明无论如何松散度都不可能小于 $0$，因此输出 $0$。\n\n以下四个样例分别对应 $k = 1, 2, 3, 4$ 的情况，且样例中 $n$ 的取值有一定梯度。\n\n**【数据范围】**\n\n设 $\\sum n$ 为一个测试点中所有测试数据的 $n$ 的和。\n\n对于所有数据，保证 $1 \\leq T$，$1 \\leq k \\leq 4$，$1 \\leq a _ {i ,j} \\leq  3 \\times 10 ^ 4$。\n\n\n本题分为两类测试点。\n\n\n第一类测试点共有十二个，保证 $k \\leq 3$，$n \\leq 5 \\times 10 ^ 4$，$\\sum n \\leq 1.5 \\times 10 ^ 5$。\n\n| 测试点编号 | $n \\leq$ | $\\sum n \\leq $ | $k = $ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $20$ | $100$ | $1$ |\n| $2$ | $5 \\times 10 ^ 4$ | $1.5 \\times 10 ^ 5$ | $1$ |\n| $3$ | $20$ | $100$ | $2$ |\n| $4$ | $100$ | $1000$ | $2$ |\n| $5$ | $2000$ | $10 ^ 4$ | $2$ |\n| $6$ | $5 \\times 10 ^ 4$ | $1.5 \\times 10 ^ 5$ | $2$ |\n| $7$ | $10$ | $50$ | $3$ |\n| $8$ | $50$ | $500$ | $3$ |\n| $9$ | $300$ | $3000$ | $3$ |\n| $10$ | $3000$ | $2 \\times 10 ^ 4$ | $3$ |\n| $11$ | $3 \\times 10 ^ 4$ | $1.2 \\times 10 ^ 5$ | $3$ |\n| $12$ | $5 \\times 10 ^ 4$ | $1.5 \\times 10 ^ 5$ | $3$ |\n\n第二类测试点共有八个，保证 $k = 4$，$n \\leq 10 ^ 4$，\n$\\sum n \\leq 3 \\times 10 ^ 4$。\n\n| 测试点编号 | $n \\leq$ | $\\sum n \\leq $ | $k = $ |\n| :----------: | :----------: | :----------: | :----------: |\n| $13$ | $10$ | $50$ | $4$ |\n| $14$ | $50$ | $500$ | $4$ |\n| $15$ | $200$ | $2000$ | $4$ |\n| $16$ | $500$ | $4000$ | $4$ |\n| $17$ | $2500$ | $10 ^ 4$ | $4$ |\n| $18$ | $5000$ | $2 \\times 10 ^ 4$ | $4$ |\n| $19$ | $10 ^ 4$ | $3 \\times 10 ^ 4$ | $4$ |\n| $20$ | $10 ^ 4$ | $3 \\times 10 ^ 4$ | $4$ |\n\n**【后记】**\n\n你花了九牛二虎之力算出 $C$ 的值之后，小 I 却告诉你他已经找开锁师傅用锤子暴力破解了。在你的百般劝说下，小 I 承诺以后锁车不用有大于等于一万个拨圈的密码锁。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[春季测试 2023] 密码锁", "background": "", "description": "寒假过后，小 I 回到学校，发现自己忘记了自行车锁的密码，于是请你帮忙。\n\n小 I 自行车上的密码锁有 $n$ 个拨圈，每个拨圈有 $k$（$k \\leq 4$）格。密码锁上的每一格都包含一个正整数，其中第 $j$ 个拨圈的第 $i$ 格上的正整数为 $a _ {i, j}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0owivo0l.png)\n\n（一个锁的例子，其中 $k = n = 3$，每列表示一个拨圈，拨圈的格子从上往下编号。）\n\n你可以对每个拨圈拨若干次（也可以不拨），每拨一次拨圈，它的格子就会进行一次轮换。形式化地，拨第 $j$ 个拨圈一次，则会让第 $j$ 个拨圈上第 $i$ 格的数字移动到第 $((i \\bmod k) + 1)$ 格，其他拨圈不动。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9d3g6b74.png)\n\n（一个拨动拨圈的例子，对左侧的锁拨一次第二个拨圈得到右侧的锁。）\n\n为了方便记忆，小 I 设定密码时要求同一行上的数字尽可能靠近。\n形式化地，对于 $1 \\leq i \\leq k$，定义密码锁第 $i$ 行的松散度为\n\n$$\nc(i) = \\max \\limits _ {j = 1} ^ n a _ {i, j} - \\min \\limits _ {j = 1} ^ n a _ {i, j} \n$$\n\n同时定义整个密码锁的松散度为\n\n$$\nC = \\max \\limits _ {1 \\leq i \\leq k} c(i)\n$$\n\n因为能开锁的状态满足 $C$ 尽可能小，因此小 I 希望你找出最小的 $C$ 值。", "inputFormat": "**本题有多组测试数据，题目保证一个测试点中所有测试数据的 $k$ 相同。**\n\n第一行包含两个正整数 $T, k$，分别表示测试数据组数和密码锁拨圈上的格数。\n\n接下来一共 $T$ 组数据，每组数据格式如下：\n\n第一行包含一个正整数 $n$，表示拨圈数。\n\n接下来 $k$ 行，每行包含 $n$ 个正整数，其中第 $i$ 行第 $j$ 个整数 $a _ {i,j}$ 表示密码锁第 $j$ 个拨圈上第 $i$ 格对应的数字。\n\n**注意输入的矩阵中每一列对应一个拨圈，而非每一行对应一个拨圈。**", "outputFormat": "对于每组数据，输出一行包含一个整数，表示所有方案中 $C$ 的最小值。", "hint": "**【样例 1 解释】**\n\n第一组样例对应题目描述中的例子。\n在拨第二个拨圈一次后，每个拨圈都是 $\\{1, 2, 3\\}$，此时松散度为 $0$。\n容易证明无论如何松散度都不可能小于 $0$，因此输出 $0$。\n\n以下四个样例分别对应 $k = 1, 2, 3, 4$ 的情况，且样例中 $n$ 的取值有一定梯度。\n\n**【数据范围】**\n\n设 $\\sum n$ 为一个测试点中所有测试数据的 $n$ 的和。\n\n对于所有数据，保证 $1 \\leq T$，$1 \\leq k \\leq 4$，$1 \\leq a _ {i ,j} \\leq  3 \\times 10 ^ 4$。\n\n\n本题分为两类测试点。\n\n\n第一类测试点共有十二个，保证 $k \\leq 3$，$n \\leq 5 \\times 10 ^ 4$，$\\sum n \\leq 1.5 \\times 10 ^ 5$。\n\n| 测试点编号 | $n \\leq$ | $\\sum n \\leq $ | $k = $ |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $20$ | $100$ | $1$ |\n| $2$ | $5 \\times 10 ^ 4$ | $1.5 \\times 10 ^ 5$ | $1$ |\n| $3$ | $20$ | $100$ | $2$ |\n| $4$ | $100$ | $1000$ | $2$ |\n| $5$ | $2000$ | $10 ^ 4$ | $2$ |\n| $6$ | $5 \\times 10 ^ 4$ | $1.5 \\times 10 ^ 5$ | $2$ |\n| $7$ | $10$ | $50$ | $3$ |\n| $8$ | $50$ | $500$ | $3$ |\n| $9$ | $300$ | $3000$ | $3$ |\n| $10$ | $3000$ | $2 \\times 10 ^ 4$ | $3$ |\n| $11$ | $3 \\times 10 ^ 4$ | $1.2 \\times 10 ^ 5$ | $3$ |\n| $12$ | $5 \\times 10 ^ 4$ | $1.5 \\times 10 ^ 5$ | $3$ |\n\n第二类测试点共有八个，保证 $k = 4$，$n \\leq 10 ^ 4$，\n$\\sum n \\leq 3 \\times 10 ^ 4$。\n\n| 测试点编号 | $n \\leq$ | $\\sum n \\leq $ | $k = $ |\n| :----------: | :----------: | :----------: | :----------: |\n| $13$ | $10$ | $50$ | $4$ |\n| $14$ | $50$ | $500$ | $4$ |\n| $15$ | $200$ | $2000$ | $4$ |\n| $16$ | $500$ | $4000$ | $4$ |\n| $17$ | $2500$ | $10 ^ 4$ | $4$ |\n| $18$ | $5000$ | $2 \\times 10 ^ 4$ | $4$ |\n| $19$ | $10 ^ 4$ | $3 \\times 10 ^ 4$ | $4$ |\n| $20$ | $10 ^ 4$ | $3 \\times 10 ^ 4$ | $4$ |\n\n**【后记】**\n\n你花了九牛二虎之力算出 $C$ 的值之后，小 I 却告诉你他已经找开锁师傅用锤子暴力破解了。在你的百般劝说下，小 I 承诺以后锁车不用有大于等于一万个拨圈的密码锁。", "locale": "zh-CN"}}}
{"pid": "P9121", "type": "P", "difficulty": 2, "samples": [["1 5\n1 2", "2"], ["2 5\n1 2\n5 10", "3"], ["2 5\n1 10\n5 10", "5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "贪心", "USACO", "2023"], "title": "[USACO23FEB] Hungry Cow B", "background": "", "description": "Bessie is a hungry cow. Each day, for dinner, if there is a haybale in the barn, she will eat one haybale. Farmer John does not want Bessie to starve, so some days he sends a delivery of haybales, which arrive in the morning (before dinner). In particular, on day $d_i$, Farmer John sends a delivery of $b_i$ haybales $(1 \\le d_i \\le 10^{14}, 1 \\le b_i \\le 10^9)$.\n\nCompute the total number of haybales Bessie will eat during the first $T$ days.", "inputFormat": "The first line contains $N$ and $T$ $(1 \\le N \\le 10^5, 1 \\le T \\le 10^{14})$.\n\nThe next $N$ lines each contain $d_i$ and $b_i$. It is additionally guaranteed that $1 \\le d_1<d_2<\\cdots <d_N \\le T$. ", "outputFormat": "Output the number of haybales that Bessie will eat during the first $T$ days.\n\nNote that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a \"long long\" in C/C++). ", "hint": "### Explanation for Sample 1\n\nTwo haybales arrive on the morning of day $1$. Bessie eats one haybale for dinner on day $1$ and another haybale on day $2$. On days $3 \\cdots 5$, there are no more haybales for Bessie to eat. In total, Bessie eats $2$ haybales during the first $5$ days. \n\n### Explanation for Sample 2\n\nTwo haybales arrive on the morning of day $1$. Bessie eats one haybale on days $1$ and $2$. There are no haybales for Bessie to eat on days $3$ and $4$. On the morning of day $5$, $10$ haybales arrive. Bessie eats one haybale for dinner on day $5$. In total, Bessie eats $3$ haybales during the first $5$ days.\n\n### Explanation for Sample 3\n\n10 haybales arrive on the morning of day $1$. Bessie eats one haybale on days $1 \\cdots 4$. On the morning of day $5$, another $10$ haybales arrive, meaning there are $16$ haybales in the barn. For dinner on day $5$, Bessie eats another haybale. In total, Bessie eats $5$ haybales during the first $5$ days. \n\n### SCORING\n\n - Inputs $4-7$: $T \\le 10^5$\n - Inputs $8-13$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Hungry Cow B", "background": "", "description": "Bessie is a hungry cow. Each day, for dinner, if there is a haybale in the barn, she will eat one haybale. Farmer John does not want Bessie to starve, so some days he sends a delivery of haybales, which arrive in the morning (before dinner). In particular, on day $d_i$, Farmer John sends a delivery of $b_i$ haybales $(1 \\le d_i \\le 10^{14}, 1 \\le b_i \\le 10^9)$.\n\nCompute the total number of haybales Bessie will eat during the first $T$ days.", "inputFormat": "The first line contains $N$ and $T$ $(1 \\le N \\le 10^5, 1 \\le T \\le 10^{14})$.\n\nThe next $N$ lines each contain $d_i$ and $b_i$. It is additionally guaranteed that $1 \\le d_1<d_2<\\cdots <d_N \\le T$. ", "outputFormat": "Output the number of haybales that Bessie will eat during the first $T$ days.\n\nNote that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a \"long long\" in C/C++). ", "hint": "### Explanation for Sample 1\n\nTwo haybales arrive on the morning of day $1$. Bessie eats one haybale for dinner on day $1$ and another haybale on day $2$. On days $3 \\cdots 5$, there are no more haybales for Bessie to eat. In total, Bessie eats $2$ haybales during the first $5$ days. \n\n### Explanation for Sample 2\n\nTwo haybales arrive on the morning of day $1$. Bessie eats one haybale on days $1$ and $2$. There are no haybales for Bessie to eat on days $3$ and $4$. On the morning of day $5$, $10$ haybales arrive. Bessie eats one haybale for dinner on day $5$. In total, Bessie eats $3$ haybales during the first $5$ days.\n\n### Explanation for Sample 3\n\n10 haybales arrive on the morning of day $1$. Bessie eats one haybale on days $1 \\cdots 4$. On the morning of day $5$, another $10$ haybales arrive, meaning there are $16$ haybales in the barn. For dinner on day $5$, Bessie eats another haybale. In total, Bessie eats $5$ haybales during the first $5$ days. \n\n### SCORING\n\n - Inputs $4-7$: $T \\le 10^5$\n - Inputs $8-13$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Hungry Cow B", "background": "", "description": "Bessie 是一头饥饿的奶牛。每天晚餐时，如果谷仓中有干草，她会吃掉一捆干草。为了防止 Bessie 挨饿，有些天 Farmer John 会在早晨（晚餐之前）送来一些干草。具体地说，在第 $d_i$ 天，Farmer John 送来了 $b_i$ 捆干草（$1 \\leq d_i \\leq 10^{14}, 1 \\leq b_i \\leq 10^9$）。\n\n请计算 Bessie 在前 $T$ 天内共吃掉了多少捆干草。", "inputFormat": "第一行包含两个整数 $N$ 和 $T$（$1 \\leq N \\leq 10^5, 1 \\leq T \\leq 10^{14}$）。\n\n接下来的 $N$ 行每行包含两个整数 $d_i$ 和 $b_i$。保证 $1 \\leq d_1 < d_2 < \\cdots < d_N \\leq T$。", "outputFormat": "输出 Bessie 在前 $T$ 天内吃掉的干草总数。\n\n注意，本题中涉及的整数可能非常大，可能需要使用 64 位整数类型（例如 C/C++ 中的 \"long long\"）。\n\n### 样例 1 的解释\n\n第 $1$ 天早晨到达 $2$ 捆干草。Bessie 在第 $1$ 天晚餐时吃掉 $1$ 捆，在第 $2$ 天晚餐时吃掉 $1$ 捆。在第 $3 \\cdots 5$ 天，没有干草供 Bessie 吃。在前 $5$ 天中，Bessie 共吃掉 $2$ 捆干草。\n\n### 样例 2 的解释\n\n第 $1$ 天早晨到达 $2$ 捆干草。Bessie 在第 $1$ 天和第 $2$ 天各吃掉 $1$ 捆。在第 $3$ 天和第 $4$ 天，没有干草供 Bessie 吃。第 $5$ 天早晨到达 $10$ 捆干草。Bessie 在第 $5$ 天晚餐时吃掉 $1$ 捆。在前 $5$ 天中，Bessie 共吃掉 $3$ 捆干草。\n\n### 样例 3 的解释\n\n第 $1$ 天早晨到达 $10$ 捆干草。Bessie 在第 $1 \\cdots 4$ 天各吃掉 $1$ 捆。第 $5$ 天早晨又到达 $10$ 捆干草，此时谷仓中共有 $16$ 捆干草。Bessie 在第 $5$ 天晚餐时再吃掉 $1$ 捆。在前 $5$ 天中，Bessie 共吃掉 $5$ 捆干草。\n\n### 评分\n\n- 输入 $4-7$：$T \\leq 10^5$\n- 输入 $8-13$：无额外限制。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9122", "type": "P", "difficulty": 2, "samples": [["4\n\n2\n**\n*.\n1\n*\n\n3\n.**\n.**\n***\n2\n.*\n**\n\n3\n...\n.*.\n...\n3\n.*.\n...\n...\n\n3\n**.\n.**\n..*\n2\n.*\n*.", "YES\nYES\nNO\nYES"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "USACO", "2023"], "title": "[USACO23FEB] Stamp Grid B", "background": "", "description": "A **stamp painting** is a black and white painting on an $N \\times N$ canvas, where certain cells are inked while others are blank. It can be described by an $N \\times N$ array of characters $(1 \\le N \\le 20)$. The $i$-th entry of the $j$-th column of the array is equal to `*` if the canvas contains ink at that square and `.` otherwise.\n\nBessie has a stamp painting that she would like to create, so Farmer John has lent her a single $K \\times K(1 \\le K \\le N)$ stamp to do this and an empty $N \\times N$ canvas. Bessie can repeatedly rotate the stamp clockwise by $90^{\\circ}$ and stamp anywhere on the grid as long as the stamp is entirely inside the grid. Formally, to stamp, Bessie chooses integers $i,j$ such that $i \\in [1,N−K+1]$ and $j \\in [1,N−K+1]$; for each $(i^{\\prime},j^{\\prime})$ such that $1 \\le i^{\\prime},j^{\\prime} \\le K$, canvas cell $(i+i^{\\prime}−1,j+j^{\\prime}−1)$ is painted black if the stamp has ink at $(i^{\\prime},j^{\\prime})$. Bessie can rotate the stamp at any time between stampings. Once a canvas cell is painted black, it remains black.\n\nFarmer John is wondering whether it's possible for Bessie to create her desired stamp painting with his stamp. For each of $T(1 \\le T \\le 100)$ test cases, help Farmer John answer this question. ", "inputFormat": "The first line of input contains $T$, the number of test cases.\n\nEach test case starts with an integer $N$ followed by $N$ lines, each containing a string of `*`s and `.`s, representing Bessie's desired stamp painting. The next line contains $K$ and is followed by $K$ lines, each containing a string of `*`s and `.`s, representing Farmer John's stamp.\n\nConsecutive test cases are separated by newlines. ", "outputFormat": "For each test case, output `YES` or `NO` on separate lines. ", "hint": "### Explanation for Sample 1\n\nIn the first test case, Bessie can perform the following sequence of stampings:\n\n1. Stamp at $(1,1)$\n2. Stamp at $(1,2)$\n3. Stamp at $(2,1)$\n\nIn the second test case, Bessie can perform the following sequence of stampings:\n\n1. Stamp at $(2,2)$\n2. Stamp at $(2,1)$\n3. Rotate $90^{\\circ}$\n4. Rotate $90^{\\circ}$\n5. Stamp at $(1,2)$\n\nIn the third test case, it is impossible to paint the middle cell.\n\nIn the fourth test case, Bessie can perform the following sequence of stampings:\n\n1. Rotate $90^{\\circ}$\n2. Stamp at $(1,1)$\n3. Stamp at $(1,2)$\n4. Stamp at $(2,2)$", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Stamp Grid B", "background": "", "description": "A **stamp painting** is a black and white painting on an $N \\times N$ canvas, where certain cells are inked while others are blank. It can be described by an $N \\times N$ array of characters $(1 \\le N \\le 20)$. The $i$-th entry of the $j$-th column of the array is equal to `*` if the canvas contains ink at that square and `.` otherwise.\n\nBessie has a stamp painting that she would like to create, so Farmer John has lent her a single $K \\times K(1 \\le K \\le N)$ stamp to do this and an empty $N \\times N$ canvas. Bessie can repeatedly rotate the stamp clockwise by $90^{\\circ}$ and stamp anywhere on the grid as long as the stamp is entirely inside the grid. Formally, to stamp, Bessie chooses integers $i,j$ such that $i \\in [1,N−K+1]$ and $j \\in [1,N−K+1]$; for each $(i^{\\prime},j^{\\prime})$ such that $1 \\le i^{\\prime},j^{\\prime} \\le K$, canvas cell $(i+i^{\\prime}−1,j+j^{\\prime}−1)$ is painted black if the stamp has ink at $(i^{\\prime},j^{\\prime})$. Bessie can rotate the stamp at any time between stampings. Once a canvas cell is painted black, it remains black.\n\nFarmer John is wondering whether it's possible for Bessie to create her desired stamp painting with his stamp. For each of $T(1 \\le T \\le 100)$ test cases, help Farmer John answer this question. ", "inputFormat": "The first line of input contains $T$, the number of test cases.\n\nEach test case starts with an integer $N$ followed by $N$ lines, each containing a string of `*`s and `.`s, representing Bessie's desired stamp painting. The next line contains $K$ and is followed by $K$ lines, each containing a string of `*`s and `.`s, representing Farmer John's stamp.\n\nConsecutive test cases are separated by newlines. ", "outputFormat": "For each test case, output `YES` or `NO` on separate lines. ", "hint": "### Explanation for Sample 1\n\nIn the first test case, Bessie can perform the following sequence of stampings:\n\n1. Stamp at $(1,1)$\n2. Stamp at $(1,2)$\n3. Stamp at $(2,1)$\n\nIn the second test case, Bessie can perform the following sequence of stampings:\n\n1. Stamp at $(2,2)$\n2. Stamp at $(2,1)$\n3. Rotate $90^{\\circ}$\n4. Rotate $90^{\\circ}$\n5. Stamp at $(1,2)$\n\nIn the third test case, it is impossible to paint the middle cell.\n\nIn the fourth test case, Bessie can perform the following sequence of stampings:\n\n1. Rotate $90^{\\circ}$\n2. Stamp at $(1,1)$\n3. Stamp at $(1,2)$\n4. Stamp at $(2,2)$", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Stamp Grid B", "background": "", "description": "盖章绘画是一幅黑白画，绘制在一个 $N \\times N$ 的画布上，其中某些格子被涂黑，而其他格子为空白。它可以用一个 $N \\times N$ 的字符数组表示（$1 \\leq N \\leq 20$）。如果数组的第 $i$ 行第 $j$ 列的值为 `*`，说明该格子被涂黑；如果为 `.`，则说明该格子为空白。\n\nBessie 想要完成一幅盖章绘画，因此 Farmer John 借给了她一块 $K \\times K$（$1 \\leq K \\leq N$）的盖章，以及一块空的 $N \\times N$ 画布。Bessie 可以将盖章顺时针旋转 $90^\\circ$，并在画布上的任意位置盖章，只要盖章完全在画布范围内即可。形式化地说，盖章时，Bessie 选择整数 $i,j$，满足 $i \\in [1,N-K+1]$ 且 $j \\in [1,N-K+1]$；对于每个 $(i',j')$，其中 $1 \\leq i',j' \\leq K$，画布上的格子 $(i+i'-1,j+j'-1)$ 会被涂黑，如果盖章在 $(i',j')$ 处有墨迹。Bessie 可以在每次盖章之前旋转盖章。一旦画布上的某个格子被涂黑，就会保持涂黑状态。\n\nFarmer John 想知道，Bessie 是否可以用他的盖章完成她想要的盖章绘画。对于每个 $T$（$1 \\leq T \\leq 100$）个测试用例，帮助 Farmer John 回答这个问题。", "inputFormat": "第一行包含一个整数 $T$，表示测试用例的数量。\n\n每个测试用例以一个整数 $N$ 开始，接下来是 $N$ 行，每行包含由 `*` 和 `.` 构成的字符串，表示 Bessie 想要的盖章绘画。接下来的行包含一个整数 $K$，随后是 $K$ 行，每行包含由 `*` 和 `.` 构成的字符串，表示 Farmer John 的盖章。\n\n相邻的测试用例之间用空行分隔。", "outputFormat": "对于每个测试用例，输出一行 `YES` 或 `NO`。\n\n### 样例 1 的解释\n\n在第一个测试用例中，Bessie 可以按以下顺序完成盖章：\n\n1. 在 $(1,1)$ 处盖章  \n2. 在 $(1,2)$ 处盖章  \n3. 在 $(2,1)$ 处盖章  \n\n在第二个测试用例中，Bessie 可以按以下顺序完成盖章：\n\n1. 在 $(2,2)$ 处盖章  \n2. 在 $(2,1)$ 处盖章  \n3. 顺时针旋转 $90^\\circ$  \n4. 顺时针旋转 $90^\\circ$  \n5. 在 $(1,2)$ 处盖章  \n\n在第三个测试用例中，无法涂黑中间格子，因此无法完成绘画。\n\n在第四个测试用例中，Bessie 可以按以下顺序完成盖章：\n\n1. 顺时针旋转 $90^\\circ$  \n2. 在 $(1,1)$ 处盖章  \n3. 在 $(1,2)$ 处盖章  \n4. 在 $(2,2)$ 处盖章", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9123", "type": "P", "difficulty": 2, "samples": [["2 4\n7 9", "7"], ["2 3\n1 10", "8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["贪心", "USACO", "2023"], "title": "[USACO23FEB] Watching Mooloo B", "background": "", "description": "Bessie likes to watch shows on Mooloo. Because Bessie is a busy cow, she has planned a schedule for the next $N (1 \\le N \\le 10^5)$ days that she will watch Mooloo. Because Mooloo is a paid subscription service, she now needs to decide how to minimize the amount of money she needs to pay.\n\nMooloo has an interesting subscription system: it costs $d+K(1 \\le K \\le 10^9)$ moonies to subscribe to Mooloo for d consecutive days. You can start a subscription at any time, and you can start a new subscription as many times as you desire if your current subscription expires. Given this, figure out the minimum amount of moonies Bessie needs to pay to fulfill her schedule. ", "inputFormat": "The first line contains integers $N$ and $K$.\n\nThe second line contains $N$ integers describing the days Bessie will watch Mooloo: $1 \\le d_1<d_2< \\cdots <d_N \\le 10^{14}$. ", "outputFormat": "**Note that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a \"long long\" in C/C++).**", "hint": "### Explanation for Sample 1\n\nBessie buys a three-day subscription on day $7$, spending $d+K=3+4=7$ moonies.\n\n### Explanation for Sample 2\n\nBessie first buys a one-day subscription on day $1$, spending $d+K=1+3=4$ moonies. Bessie also buys a one-day subscription on day $10$, spending $d+K=1+3=4$ moonies. In total, Bessie spends $8$ moonies.\n\n### SCORING\n\n - Inputs $3-5$: $N \\le 10$\n - Inputs $6-12$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Watching Mooloo B", "background": "", "description": "Bessie likes to watch shows on Mooloo. Because Bessie is a busy cow, she has planned a schedule for the next $N (1 \\le N \\le 10^5)$ days that she will watch Mooloo. Because Mooloo is a paid subscription service, she now needs to decide how to minimize the amount of money she needs to pay.\n\nMooloo has an interesting subscription system: it costs $d+K(1 \\le K \\le 10^9)$ moonies to subscribe to Mooloo for d consecutive days. You can start a subscription at any time, and you can start a new subscription as many times as you desire if your current subscription expires. Given this, figure out the minimum amount of moonies Bessie needs to pay to fulfill her schedule. ", "inputFormat": "The first line contains integers $N$ and $K$.\n\nThe second line contains $N$ integers describing the days Bessie will watch Mooloo: $1 \\le d_1<d_2< \\cdots <d_N \\le 10^{14}$. ", "outputFormat": "**Note that the large size of integers involved in this problem may require the use of 64-bit integer data types (e.g., a \"long long\" in C/C++).**", "hint": "### Explanation for Sample 1\n\nBessie buys a three-day subscription on day $7$, spending $d+K=3+4=7$ moonies.\n\n### Explanation for Sample 2\n\nBessie first buys a one-day subscription on day $1$, spending $d+K=1+3=4$ moonies. Bessie also buys a one-day subscription on day $10$, spending $d+K=1+3=4$ moonies. In total, Bessie spends $8$ moonies.\n\n### SCORING\n\n - Inputs $3-5$: $N \\le 10$\n - Inputs $6-12$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Watching Mooloo B", "background": "", "description": "贝茜喜欢看 Mooloo 的演出。因为她是一只忙碌的奶牛，她计划在接下来的 $N (1 \\le N \\le 10^5)$ 天去看演出。因为 Mooloo 提供了订阅服务，她想要使她花费的钱最少。\n\nMooloo 有一个有趣的订阅服务系统：若要在此之后的连续 $d$ 天看演出，则在订阅时需要花费 $d+K(1 \\le K \\le 10^9)$ 个单位价格。你可以随时订阅；若本次订阅已经过期，你可以根据需要订阅多次。基于以上条件，请计算出贝茜最少要花费多少个单位价格，才能完成她的计划。", "inputFormat": "第一行输入两个正整数 $N$ 和 $K$。\n\n第二行输入 $N$ 个正整数，表示在这些天里，贝茜会看 Mooloo 的演出：$1 \\le d_1<d_2<\\cdots<d_N \\le 10^{14}$。", "outputFormat": "**请注意，此问题中可能需要使用 64 位整数数据类型（如 C 或 C++ 中的 long long）。**\n\n### 样例 #1 解释\n\n贝茜在第 $7$ 天时，购买了 $3$ 天的订阅，共花费 $d+K=3+4=7$ 个单位价格。\n\n### 样例 #2 解释\n\n贝茜在第 $1$ 天时，购买了 $1$ 天的订阅，花费 $d+K=1+3=4$ 个单位价格；在第 $10$ 天时，也购买了 $1$ 天的订阅，花费 $d+K=1+3=4$ 个单位价格。贝茜一共花费了 $8$ 个单位价格。\n\ntranslated by [liyuanchen2021](https://www.luogu.com.cn/user/557680)", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9124", "type": "P", "difficulty": 4, "samples": [["2\n\n3 7 9\n4 3 18\n2 4 19\n1 1 6\n\n5 7 3\n5 9 45\n5 2 31\n6 4 28\n4 1 8\n5 2 22", "11\n6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "二分", "USACO", "2023"], "title": "[USACO23FEB] Bakery S", "background": "", "description": "Bessie has opened a bakery!\n\nIn her bakery, Bessie has an oven that can produce a cookie in $t_C$\n units of time or a muffin in $t_M$\n units of time $(1\\le t_C,t_M\\le 10^9)$. Due to space constraints, Bessie can only produce one pastry at a time, so to produce $A$ cookies and $B$ muffins, it takes $A \\cdot t_C+B \\cdot t_M$ units of time.\n\nBessie's $N (1\\le N\\le 100)$ friends would each like to visit the bakery one by one. The $i$-th friend will order $a_i(1 \\le a_i \\le 10^9)$ cookies and $b_i(1 \\le b_i \\le 10^9)$ muffins immediately upon entering. Bessie doesn't have space to store pastries, so she only starts making pastries upon receiving an order. Furthermore, Bessie's friends are very busy, so the $i$-th friend is only willing to wait $c_i(a_i+b_i \\le c_i \\le 2 \\cdot 10^{18})$ units of time before getting sad and leaving.\n\nBessie really does not want her friends to be sad. With one mooney, she can upgrade her oven so that it takes one less unit of time to produce a cookie or one less unit of time to produce a muffin. She can't upgrade her oven a fractional amount of times, but she can choose to upgrade her oven as many times as she needs before her friends arrive, as long as the time needed to produce a cookie and to produce a muffin both remain strictly positive.\n\nFor each of $T(1 \\le T \\le 100)$ test cases, please help Bessie find out the minimum amount of moonies that Bessie must spend so that her bakery can satisfy all of her friends.", "inputFormat": "The first line contains $T$, the number of test cases.\n\nEach test case starts with one line containing $N$\n, $t_C$, $t_M$. Then, the next $N$ lines each contain three integers $a_i,b_i,c_i$.\n\nConsecutive test cases are separated by newlines. ", "outputFormat": "The minimum amount of moonies that Bessie needs to spend for each test case, on separate lines. ", "hint": "### Explanation for Sample 1\n\nIn the first test case, Bessie can pay $11$ moonies to decrease the time required to produce a cookie by $4$ and a muffin by $7$, so that her oven produces cookies in $3$ units of time and muffins in $2$ units of time. Then she can satisfy the first friend in $18$ units of time, the second friend in $14$ units of time, and the third friend in $5$ units of time, so none of them will get sad and leave.\n\nIn the second test case, Bessie should decrease the time required to produce a cookie by $6$ and a muffin by $0$. \n\n### SCORING\n\n - Inputs $2-4$: $N \\le 10,t_C,t_M \\le 1000$\n - Inputs $5-11$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Bakery S", "background": "", "description": "Bessie has opened a bakery!\n\nIn her bakery, Bessie has an oven that can produce a cookie in $t_C$\n units of time or a muffin in $t_M$\n units of time $(1\\le t_C,t_M\\le 10^9)$. Due to space constraints, Bessie can only produce one pastry at a time, so to produce $A$ cookies and $B$ muffins, it takes $A \\cdot t_C+B \\cdot t_M$ units of time.\n\nBessie's $N (1\\le N\\le 100)$ friends would each like to visit the bakery one by one. The $i$-th friend will order $a_i(1 \\le a_i \\le 10^9)$ cookies and $b_i(1 \\le b_i \\le 10^9)$ muffins immediately upon entering. Bessie doesn't have space to store pastries, so she only starts making pastries upon receiving an order. Furthermore, Bessie's friends are very busy, so the $i$-th friend is only willing to wait $c_i(a_i+b_i \\le c_i \\le 2 \\cdot 10^{18})$ units of time before getting sad and leaving.\n\nBessie really does not want her friends to be sad. With one mooney, she can upgrade her oven so that it takes one less unit of time to produce a cookie or one less unit of time to produce a muffin. She can't upgrade her oven a fractional amount of times, but she can choose to upgrade her oven as many times as she needs before her friends arrive, as long as the time needed to produce a cookie and to produce a muffin both remain strictly positive.\n\nFor each of $T(1 \\le T \\le 100)$ test cases, please help Bessie find out the minimum amount of moonies that Bessie must spend so that her bakery can satisfy all of her friends.", "inputFormat": "The first line contains $T$, the number of test cases.\n\nEach test case starts with one line containing $N$\n, $t_C$, $t_M$. Then, the next $N$ lines each contain three integers $a_i,b_i,c_i$.\n\nConsecutive test cases are separated by newlines. ", "outputFormat": "The minimum amount of moonies that Bessie needs to spend for each test case, on separate lines. ", "hint": "### Explanation for Sample 1\n\nIn the first test case, Bessie can pay $11$ moonies to decrease the time required to produce a cookie by $4$ and a muffin by $7$, so that her oven produces cookies in $3$ units of time and muffins in $2$ units of time. Then she can satisfy the first friend in $18$ units of time, the second friend in $14$ units of time, and the third friend in $5$ units of time, so none of them will get sad and leave.\n\nIn the second test case, Bessie should decrease the time required to produce a cookie by $6$ and a muffin by $0$. \n\n### SCORING\n\n - Inputs $2-4$: $N \\le 10,t_C,t_M \\le 1000$\n - Inputs $5-11$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Bakery S", "background": "", "description": "Bessie 开了一家面包店!\n\n在她的面包店里，Bessie 有一个烤箱，可以在 $t_C$ 的时间内生产一块饼干或在 $t_M$ 单位时间内生产一块松糕。\n$(1 \\le t_C,t_M \\le 10^9)$。由于空间限制，Bessie 一次只能生产一种糕点，所以要生产 $A$ 块饼干和 $B$ 块松饼，需要 $A\\cdot t_C+B\\cdot t_M$ 单位的时间。\n\nBessie的 $N (1\\le N\\le 100)$ 朋友都想一个一个地去面包店。第 $i$ 个朋友一进门就会点 $a_i(1 \\le a_i \\le 10^9)$ 块饼干和 $b_i(1 \\le b_i \\le 10^9)$ 块松饼。Bessie 没有空间来储存糕点，所以她只有在接到订单后才开始制作糕点。此外，Bessie 的朋友都很忙，所以第 $i$ 个朋友只愿意等 $c_i(a_i+b_i \\le c_i \\le 2 \\cdot 10^{18})$ 个单位的时间，然后就伤心地离开。\n\nBessie 真的不希望她的朋友们伤心，她可以用一块钱升级她的烤箱，让它少花一个单位的时间来生产一块饼干或少花一个单位的时间来生产一个松饼。她不能将她的烤箱升级到花费小于等于 $0$ 的时间，但她可以选择在她的朋友到来之前将她的烤箱升级多少次，只要生产一块饼干和生产一个松饼所需的时间都严格保持为正数。\n\n对于每一个 $T(1\\le T\\le 100)$ 的测试案例，请帮助 Bessie 找出她必须花费的最小的钱数量，以便她的面包店能够满足所有的朋友。", "inputFormat": "第一行包含 $T$，测试案例的数量。\n\n每个测试用例都以一行开始，包含 $N$\n,$t_C$,$t_M$。然后，接下来的 $N$ 行各包含三个整数 $a_i,b_i,c_i$。\n\n测试案例用换行符隔开。", "outputFormat": "Bessie 需要为每个测试案例花费的最少钱数，每行一个。\n\n### 样例解释 1\n\n在第一个测试案例中，贝西可以支付 $11$ 元来减少 $4$ 单位生产一块饼干所需的 时间和 $7$ 单位生产一块松饼所需的时间，从而使她的烤箱在 $3$ 单位的时间内生产饼干，在 $2$ 单位的时间内生产松饼。那么她可以在 $18$ 单位的时间内满足第一个朋友，在 $14$ 单位的时间内满足第二个朋友，在 $5$ 单位的时间内满足第三个朋友，所以他们都不会伤心而离开。\n\n在第二个测试案例中，贝西应该把生产一块饼干的时间减少 $6$ 单位，把生产一块松饼的时间减少 $0$ 单位。\n\n### 数据规模与约定\n\n - 输入 $2-4$：$N\\le 10,t_C,t_M \\le 1000$\n - 输入 $5-11$，没有额外的约束。\n \n翻译 @ \\_\\_11jiang08\\_\\_", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9125", "type": "P", "difficulty": 3, "samples": [["2 4\n0 0 100\n50 0 200\n0 50 50\n1000 1000 0\n50 0 200\n10 0 170", "2"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["二分", "USACO", "2023"], "title": "[USACO23FEB] Cow-libi S", "background": "", "description": "**Note: The time limit for this problem is 4s, two times the default.**\n\nSomebody has been grazing in Farmer John's $G(1 \\le G \\le 10^5)$ private gardens! Using his expert forensic knowledge, FJ has been able to determine the precise time each garden was grazed. He has also determined that there was a single cow that was responsible for every grazing incident. \n\nIn response to these crimes each of FJ's $N(1 \\le N \\le 10^5)$ cows have provided an alibi that proves the cow was in a specific location at a specific time. Help FJ test whether each of these alibis demonstrates the cow's innocence. \n\nA cow can be determined to be innocent if it is impossible for her to have travelled between all of the grazings and her alibi. Cows travel at a rate of $1$ unit distance per unit time. ", "inputFormat": "The first line of input will contain $G$ and $N$ separated by a space.\n\nThe next $G$ lines contain the integers $x, y$, and $t (−10^9 \\le x,y \\le 10^9;0 \\le t \\le 10^9)$\n\nseparated by a space describing the location and time of the grazing. It will always be possible for a single cow to travel between all grazings.\n\nThe next $N$ lines contain $x$, $y$, and $t(−10^9 \\le x,y \\le 10^9;0 \\le t \\le 10^9)$ separated by a space describing the location and time of each cow's alibi. ", "outputFormat": "Output a single integer: the number of cows with alibis that prove their innocence. ", "hint": "### Explanation for Sample 1\n\nThere were two grazings; the first at $(0,0)$ at time 100 and the second at $(50,0)$ at time $200$.\n\nThe first cow's alibi does not prove her innocence. She has just enough time to arrive at the first grazing.\n\nThe second cow's alibi does prove her innocence. She is nowhere near any of the grazings.\n\nUnfortunately for the third cow, being at the scene of the crime does not prove innocence.\n\nFinally, the fourth cow is innocent because it's impossible to make it from her alibi to the final grazing in time. \n\n### SCORING\n\n - Inputs $2-4$: $1 \\le G,N \\le 10^3$. Also, for both the fields and alibis, $−10^6 \\le x,y \\le 10^6$ and $0 \\le t \\le 10^6$.\n - Inputs $5-11$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Cow-libi S", "background": "", "description": "**Note: The time limit for this problem is 4s, two times the default.**\n\nSomebody has been grazing in Farmer John's $G(1 \\le G \\le 10^5)$ private gardens! Using his expert forensic knowledge, FJ has been able to determine the precise time each garden was grazed. He has also determined that there was a single cow that was responsible for every grazing incident. \n\nIn response to these crimes each of FJ's $N(1 \\le N \\le 10^5)$ cows have provided an alibi that proves the cow was in a specific location at a specific time. Help FJ test whether each of these alibis demonstrates the cow's innocence. \n\nA cow can be determined to be innocent if it is impossible for her to have travelled between all of the grazings and her alibi. Cows travel at a rate of $1$ unit distance per unit time. ", "inputFormat": "The first line of input will contain $G$ and $N$ separated by a space.\n\nThe next $G$ lines contain the integers $x, y$, and $t (−10^9 \\le x,y \\le 10^9;0 \\le t \\le 10^9)$\n\nseparated by a space describing the location and time of the grazing. It will always be possible for a single cow to travel between all grazings.\n\nThe next $N$ lines contain $x$, $y$, and $t(−10^9 \\le x,y \\le 10^9;0 \\le t \\le 10^9)$ separated by a space describing the location and time of each cow's alibi. ", "outputFormat": "Output a single integer: the number of cows with alibis that prove their innocence. ", "hint": "### Explanation for Sample 1\n\nThere were two grazings; the first at $(0,0)$ at time 100 and the second at $(50,0)$ at time $200$.\n\nThe first cow's alibi does not prove her innocence. She has just enough time to arrive at the first grazing.\n\nThe second cow's alibi does prove her innocence. She is nowhere near any of the grazings.\n\nUnfortunately for the third cow, being at the scene of the crime does not prove innocence.\n\nFinally, the fourth cow is innocent because it's impossible to make it from her alibi to the final grazing in time. \n\n### SCORING\n\n - Inputs $2-4$: $1 \\le G,N \\le 10^3$. Also, for both the fields and alibis, $−10^6 \\le x,y \\le 10^6$ and $0 \\le t \\le 10^6$.\n - Inputs $5-11$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Cow-libi S", "background": "", "description": "注意：本题的时间限制为 4 秒，是默认限制的两倍。\n\n有人在 Farmer John 的 $G(1 \\leq G \\leq 10^5)$ 个私人花园里偷吃了庄稼！通过他的专业法医知识，Farmer John 确定了每个花园被偷吃的具体时间。他还发现，这些事件的罪魁祸首是一头单独的奶牛。\n\n为了回应这些犯罪行为，Farmer John 的 $N(1 \\leq N \\leq 10^5)$ 头奶牛每头都提供了一个不在作案现场的证明（即“不在场证明”），表明奶牛在特定时间出现在特定位置。请帮助 Farmer John 判断这些“不在场证明”中哪些能够证明奶牛的清白。\n\n如果一头奶牛无法在她的“不在场证明”位置与所有被偷吃地点之间往返，则可以确定这头奶牛是清白的。奶牛的移动速度为每单位时间 $1$ 单位距离。本题中提到的距离均为欧几里得距离。", "inputFormat": "第一行包含两个用空格分隔的整数 $G$ 和 $N$。\n\n接下来的 $G$ 行，每行包含三个用空格分隔的整数 $x, y, t$（$-10^9 \\leq x, y \\leq 10^9; 0 \\leq t \\leq 10^9$），描述某次偷吃事件的地点和时间。可以保证单独一头奶牛可以在所有被偷吃地点之间往返。\n\n接下来的 $N$ 行，每行包含 $x, y, t$（$-10^9 \\leq x, y \\leq 10^9; 0 \\leq t \\leq 10^9$），描述某头奶牛的“不在场证明”中提到的位置和时间。", "outputFormat": "输出一个整数，表示能够证明清白的奶牛的数量。\n\n### 样例 1 的解释\n\n共有两次偷吃事件，第一次发生在 $(0,0)$，时间为 $100$；第二次发生在 $(50,0)$，时间为 $200$。\n\n- 第一头奶牛的“不在场证明”无法证明她的清白。她刚好有足够的时间到达第一次偷吃事件的地点。\n- 第二头奶牛的“不在场证明”能够证明她的清白。她远离任何偷吃事件的地点。\n- 不幸的是，第三头奶牛在偷吃事件的现场，这并不能证明她的清白。\n- 最后，第四头奶牛是清白的，因为她不可能在时间限制内从她的“不在场证明”地点赶到最后一次偷吃事件的地点。\n\n### 评分标准\n\n- 测试点 $2-4$：$1 \\leq G, N \\leq 10^3$。此外，对于偷吃地点和“不在场证明”，$-10^6 \\leq x, y \\leq 10^6$ 且 $0 \\leq t \\leq 10^6$。\n- 测试点 $5-11$：无额外限制。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9126", "type": "P", "difficulty": 4, "samples": [["3 3\n1 0 2 10\n2 11 2 0\n2 1 3 20\n10 1 10", "0\n0\n20"], ["3 3\n1 0 2 10\n2 10 2 0\n2 1 3 20\n10 1 10", "0\n10\n-1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["图论", "USACO", "2023", "图论建模", "最短路"], "title": "[USACO23FEB] Moo Route II S", "background": "", "description": "**Note: The time limit for this problem is 4s, twice the default.**\n\nBessie is on vacation! Due to some recent technological advances, Bessie will travel via technologically sophisticated flights, which can even time travel. Furthermore, there are no issues if two \"parallel\" versions of Bessie ever meet.\n\nIn the country there are $N$ airports numbered $1,2,\\cdots ,N$ and $M$ time-traveling flights $(1 \\le N,M \\le 200000)$. Flight $j$ leaves airport $c_j$ at time $r_j$, and arrives in airport $d_j$ at time $s_j (0 \\le rj,sj \\le 10^9$, $s_j<r_j$ is possible$)$. In addition, she must leave $a_i$ time for a layover at airport $i (1 \\le a_i \\le 10^9)$. (That is to say, if Bessie takes a flight arriving in airport $i$ at time $s$, she can then transfer to a flight leaving the airport at time $r$ if $r \\ge s+a_i$. The layovers do not affect when Bessie arrives at an airport.)\n\nBessie starts at city $1$ at time $0$. For each airport from $1$ to $N$, what is the earliest time when Bessie can get to at it? ", "inputFormat": "The first line of input contains $N$ and $M$.\n\nThe next $M$ lines describe flights. The $j$-th of these lines contains $c_j, r_j, d_j, s_j$ in that order. $(1 \\le c_j,d_j \\le N, 0 \\le r_j,s_j \\le 10^9)$\n\nThe next line describes airports. It contains $N$\nspace separated integers, $a_1, \\cdots ,a_N$. ", "outputFormat": "There are $N$ lines of output. Line $i$ contains the earliest time when Bessie can get to airport $i$, or $-1$ if it is not possible for Bessie to get to that airport. ", "hint": "### Explanation for Sample 1\n\nBessie can take the $3$ flights in the listed order, which allows her to arrive at airports $1$ and $2$ at time $0$, and airport $3$ at time $20$.\n\nNote that this route passes through airport $2$ twice, first from time $10-11$ and then from time $0-1$.\n\n### Explanation for Sample 2\n\nIn this case, Bessie can take flight $1$, arriving at airport $2$ at time $10$. However, she does not arrive in time to also take flight $2$, since the departure time is $10$ and she cannot make a $1$ time-unit layover. \n\n### SCORING\n\n - Inputs $3-5$: $r_j<s_j$ for all $j$, i.e. all flights arrive after they depart.\n - Inputs $6-10$: $N,M \\le 5000$\n - Inputs $11-20$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Moo Route II S", "background": "", "description": "**Note: The time limit for this problem is 4s, twice the default.**\n\nBessie is on vacation! Due to some recent technological advances, Bessie will travel via technologically sophisticated flights, which can even time travel. Furthermore, there are no issues if two \"parallel\" versions of Bessie ever meet.\n\nIn the country there are $N$ airports numbered $1,2,\\cdots ,N$ and $M$ time-traveling flights $(1 \\le N,M \\le 200000)$. Flight $j$ leaves airport $c_j$ at time $r_j$, and arrives in airport $d_j$ at time $s_j (0 \\le rj,sj \\le 10^9$, $s_j<r_j$ is possible$)$. In addition, she must leave $a_i$ time for a layover at airport $i (1 \\le a_i \\le 10^9)$. (That is to say, if Bessie takes a flight arriving in airport $i$ at time $s$, she can then transfer to a flight leaving the airport at time $r$ if $r \\ge s+a_i$. The layovers do not affect when Bessie arrives at an airport.)\n\nBessie starts at city $1$ at time $0$. For each airport from $1$ to $N$, what is the earliest time when Bessie can get to at it? ", "inputFormat": "The first line of input contains $N$ and $M$.\n\nThe next $M$ lines describe flights. The $j$-th of these lines contains $c_j, r_j, d_j, s_j$ in that order. $(1 \\le c_j,d_j \\le N, 0 \\le r_j,s_j \\le 10^9)$\n\nThe next line describes airports. It contains $N$\nspace separated integers, $a_1, \\cdots ,a_N$. ", "outputFormat": "There are $N$ lines of output. Line $i$ contains the earliest time when Bessie can get to airport $i$, or $-1$ if it is not possible for Bessie to get to that airport. ", "hint": "### Explanation for Sample 1\n\nBessie can take the $3$ flights in the listed order, which allows her to arrive at airports $1$ and $2$ at time $0$, and airport $3$ at time $20$.\n\nNote that this route passes through airport $2$ twice, first from time $10-11$ and then from time $0-1$.\n\n### Explanation for Sample 2\n\nIn this case, Bessie can take flight $1$, arriving at airport $2$ at time $10$. However, she does not arrive in time to also take flight $2$, since the departure time is $10$ and she cannot make a $1$ time-unit layover. \n\n### SCORING\n\n - Inputs $3-5$: $r_j<s_j$ for all $j$, i.e. all flights arrive after they depart.\n - Inputs $6-10$: $N,M \\le 5000$\n - Inputs $11-20$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Moo Route II S", "background": "", "description": "注意：本题的时间限制为 4 秒，是默认限制的两倍。\n\nBessie 正在度假！由于最近的技术进步，Bessie 可以通过先进的航班旅行，这些航班甚至可以进行时间旅行。此外，即使存在多个“平行”的 Bessie 同时出现也不会有任何问题。\n\n在这个国家，有 $N$ 个机场，编号为 $1,2,\\cdots,N$，以及 $M$ 条时间旅行航班（$1 \\leq N,M \\leq 200000$）。第 $j$ 条航班从机场 $c_j$ 在时间 $r_j$ 起飞，并在时间 $s_j$ 抵达机场 $d_j$（$0 \\leq r_j,s_j \\leq 10^9$，$s_j < r_j$ 是可能的）。此外，Bessie 在机场 $i$ 需要停留 $a_i$ 时间（$1 \\leq a_i \\leq 10^9$）。也就是说，如果 Bessie 乘坐一趟航班在时间 $s$ 抵达机场 $i$，她可以转乘一趟从该机场出发的航班，只要该航班的起飞时间 $r \\geq s + a_i$。需要注意的是，停留时间不会影响 Bessie 抵达某机场的实际时间。\n\nBessie 从城市 $1$ 出发，起始时间为 $0$。对于从 $1$ 到 $N$ 的每个机场，求出 Bessie 最早可以到达该机场的时间。", "inputFormat": "第一行输入包含两个整数 $N$ 和 $M$。\n\n接下来的 $M$ 行描述航班信息。其中第 $j$ 行包含 $c_j, r_j, d_j, s_j$，依次表示航班的起飞机场、起飞时间、降落机场和降落时间。$(1 \\leq c_j,d_j \\leq N, 0 \\leq r_j,s_j \\leq 10^9)$\n\n接下来的 $1$ 行描述每个机场的停留时间。该行包含 $N$ 个用空格分隔的整数，分别为 $a_1,\\cdots,a_N$。", "outputFormat": "输出共 $N$ 行。第 $i$ 行输出 Bessie 最早到达机场 $i$ 的时间；如果无法到达该机场，输出 $-1$。\n\n### 样例 1 的解释\n\nBessie 可以按照给定的顺序乘坐第 $3$ 班航班，这使她可以在时间 $0$ 到达机场 $1$ 和机场 $2$，以及在时间 $20$ 到达机场 $3$。\n\n\n注意，这条路线会两次经过机场 $2$，第一次是在时间 $10-11$，第二次是在时间 $0-1$。\n\n### 样例 2 的解释\n\n在这个例子中，Bessie 可以乘坐第 $1$ 班航班，在时间 $10$ 抵达机场 $2$。但是，她无法及时赶上第 $2$ 班航班，因为该航班的起飞时间为 $10$，而她需要至少 $1$ 个时间单位来完成停留。\n\n### 评分标准\n\n - 测试点 $3-5$：对于每个 $j$，$r_j < s_j$，也就是说所有航班的到达时间晚于起飞时间。\n - 测试点 $6-10$：$N,M \\leq 5000$\n - 测试点 $11-20$：无额外限制。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9127", "type": "P", "difficulty": 4, "samples": [["2\n2 -3", "2\n3"], ["3\n3 -10 4", "1\n6\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "排序", "线性递推"], "title": "[USACO23FEB] Equal Sum Subarrays G", "background": "", "description": "**Note: The time limit for this problem is 3s, 1.5x the default.** \n\nFJ gave Bessie an array $a$ of length $N(2 \\le N \\le 500,−10^{15} \\le a_i \\le 10^{15})$ with all $\\dfrac{N(N+1)}{2}$ contiguous subarray sums distinct. For each index $i \\in [1,N]$, help Bessie compute the minimum amount it suffices to change ai by so that there are two different contiguous subarrays of a with equal sum. ", "inputFormat": "The first line contains $N$.\n\nThe next line contains $a_1, \\cdots ,a_N$\n(the elements of $a$, in order). ", "outputFormat": "One line for each index $i \\in [1,N]$. ", "hint": "### Explanation for Sample 1\n\nDecreasing $a_1$ by $2$ would result in $a_1+a_2=a_2$. Similarly, increasing $a_2$ by $3$ would result in $a_1+a_2=a_1$. \n\n### Explanation for Sample 2\n\nIncreasing a1 or decreasing $a_3$ by $1$ would result in $a_1=a_3$. Increasing $a_2$ by $6$ would result in $a_1=a_1+a_2+a_3$. \n\n### SCORING\n\n - Input $3$: $N \\le 40$\n - Input $4$: $N \\le 80$\n - Inputs $5-7$: $N \\le 200$\n - Inputs 8-16: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Equal Sum Subarrays G", "background": "", "description": "**Note: The time limit for this problem is 3s, 1.5x the default.** \n\nFJ gave Bessie an array $a$ of length $N(2 \\le N \\le 500,−10^{15} \\le a_i \\le 10^{15})$ with all $\\dfrac{N(N+1)}{2}$ contiguous subarray sums distinct. For each index $i \\in [1,N]$, help Bessie compute the minimum amount it suffices to change ai by so that there are two different contiguous subarrays of a with equal sum. ", "inputFormat": "The first line contains $N$.\n\nThe next line contains $a_1, \\cdots ,a_N$\n(the elements of $a$, in order). ", "outputFormat": "One line for each index $i \\in [1,N]$. ", "hint": "### Explanation for Sample 1\n\nDecreasing $a_1$ by $2$ would result in $a_1+a_2=a_2$. Similarly, increasing $a_2$ by $3$ would result in $a_1+a_2=a_1$. \n\n### Explanation for Sample 2\n\nIncreasing a1 or decreasing $a_3$ by $1$ would result in $a_1=a_3$. Increasing $a_2$ by $6$ would result in $a_1=a_1+a_2+a_3$. \n\n### SCORING\n\n - Input $3$: $N \\le 40$\n - Input $4$: $N \\le 80$\n - Inputs $5-7$: $N \\le 200$\n - Inputs 8-16: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Equal Sum Subarrays G", "background": "", "description": "注意：本题的时间限制为 3 秒，为默认时间的 1.5 倍。\n\nFJ 给了 Bessie 一个长度为 $N$ 的数组 $a$（$2 \\leq N \\leq 500, -10^{15} \\leq a_i \\leq 10^{15}$），其中所有 $\\dfrac{N(N+1)}{2}$ 个连续子数组的和都是不同的。对于每个下标 $i \\in [1,N]$，帮助 Bessie 计算最小的改变量，使得数组中存在两个不同的连续子数组的和相等。", "inputFormat": "第一行包含一个整数 $N$，表示数组的长度。\n\n第二行包含 $a_1,\\cdots,a_N$，即数组 $a$ 的元素，按顺序给出。", "outputFormat": "对于每个下标 $i \\in [1,N]$，输出一行一个整数，表示改变 $a_i$ 的最小改变量。\n\n### 样例 1 的解释\n\n将 $a_1$ 减少 $2$，可以使得 $a_1+a_2=a_2$。类似地，将 $a_2$ 增加 $3$，可以使得 $a_1+a_2=a_1$。\n\n### 样例 2 的解释\n\n将 $a_1$ 增加 $1$ 或将 $a_3$ 减少 $1$，可以使得 $a_1=a_3$。将 $a_2$ 增加 $6$，可以使得 $a_1=a_1+a_2+a_3$。\n\n### 评分标准\n\n- 测试点 $3$：$N \\leq 40$\n- 测试点 $4$：$N \\leq 80$\n- 测试点 $5-7$：$N \\leq 200$\n- 测试点 $8-16$：无额外限制。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9128", "type": "P", "difficulty": 6, "samples": [["5 0\n1 1\n1 2\n3 1\n3 4", "8 21"], ["5 1\n1 1\n1 2\n3 1\n3 4", "6 29"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "贪心", "USACO", "2023", "排序"], "title": "[USACO23FEB] Fertilizing Pastures G", "background": "", "description": "There are $N$ pastures $(2 \\le N \\le 2 \\cdot 10^5)$, connected by $N−1$ roads, such that they form a tree. Every road takes $1$ second to cross. Each pasture starts out with $0$ grass, and the ith pasture's grass grows at a rate of $a_i (1 \\le a_i \\le 10^8)$ units per second. Farmer John is in pasture $1$ at the start, and needs to drive around and fertilize the grass in every pasture. If he visits a pasture with $x$ units of grass, it will need $x$ amount of fertilizer. A pasture only needs to be fertilized the first time it is visited, and fertilizing a pasture takes $0$ time.\n\nThe input contains an additional parameter $T \\in \\{0,1\\}$.\n\n - If $T=0$, Farmer John must end at pasture $1$.\n - If $T=1$, Farmer John may end at any pasture.\n\nCompute the minimum amount of time it will take to fertilize every pasture and the minimum amount of fertilizer needed to finish in that amount of time. ", "inputFormat": "The first line contains $N$ and $T$.\n\nThen for each $i$ from $2$ to $N$, there is a line containing $p_i$ and $a_i$, meaning that there is a road connecting pastures $p_i$ and $i$. It is guaranteed that $1 \\le p_i<i$. ", "outputFormat": " The minimum amount of time and the minimum amount of fertilizer, separated by spaces. ", "hint": "### Explanation for Sample 1\n\nThe optimal route for Farmer John is as follows: \n\n - At time $1$, move to node $3$, which now has $1 \\cdot 2=2$ grass and so needs $2$ fertilizer.\n - At time $2$, move to node $5$, which now has $2 \\cdot 4=8$ grass and so needs $8$ fertilizer.\n - At time $3$, move back to node $3$, which we already fertilized and so don't need to fertilize again.\n - At time $4$, move to node $4$, which now has $4 \\cdot 1=4$ grass and so needs $4$ fertilizer.\n - At time $5$, move back to node $3$, which we already fertilized.\n - At time $6$, move back to node $1$.\n - At time $7$, move to node $2$, which now has $7 \\cdot 1=7$ grass and so needs $7$ fertilizer.\n - At time $8$, return to node $1$. \n\nThis route takes $8$ time and uses $2+8+4+7=21$ fertilizer. It can be shown that $8$ is the least possible amount of time for any route that returns to node $1$ at the end and $21$ is the least possible fertilizer used for any route that returns to node $1$ and takes $8$ time.\n\n### Explanation for Sample 2\n\nThe optimal route for Farmer John is as follows:\n\n - At time $1$, move to node $2$, which now has $1 \\cdot 1=1$ grass and so needs $1$ fertilizer.\n - At time $2$, move back to node $1$.\n - At time $3$, move to node $3$, which now has $3 \\cdot 2=6$ grass and so needs $6$ fertilizer.\n - At time $4$, move to node $5$, which now has $4 \\cdot 4=16$ grass and so needs $16$ fertilizer.\n - At time $5$, move back to node $3$, which we already fertilized and so don't need to fertilize again.\n - At time $6$, move to node $4$, which now has $6 \\cdot 1=6$ grass and so needs $6$ fertilizer.\n\nThis route takes $6$ time and uses $1+6+16+6=29$ fertilizer. It can be shown that $6$ is the least possible amount of time for any route and $29$ is the least possible fertilizer used for any route that takes $6$ time.\n\n### SCORING\n\n - Inputs $3-10$: $T=0$\n - Inputs $11-22$: $T=1$\n - Inputs $3-6$ and $11-14$: No pasture is adjacent to more than three roads.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Fertilizing Pastures G", "background": "", "description": "There are $N$ pastures $(2 \\le N \\le 2 \\cdot 10^5)$, connected by $N−1$ roads, such that they form a tree. Every road takes $1$ second to cross. Each pasture starts out with $0$ grass, and the ith pasture's grass grows at a rate of $a_i (1 \\le a_i \\le 10^8)$ units per second. Farmer John is in pasture $1$ at the start, and needs to drive around and fertilize the grass in every pasture. If he visits a pasture with $x$ units of grass, it will need $x$ amount of fertilizer. A pasture only needs to be fertilized the first time it is visited, and fertilizing a pasture takes $0$ time.\n\nThe input contains an additional parameter $T \\in \\{0,1\\}$.\n\n - If $T=0$, Farmer John must end at pasture $1$.\n - If $T=1$, Farmer John may end at any pasture.\n\nCompute the minimum amount of time it will take to fertilize every pasture and the minimum amount of fertilizer needed to finish in that amount of time. ", "inputFormat": "The first line contains $N$ and $T$.\n\nThen for each $i$ from $2$ to $N$, there is a line containing $p_i$ and $a_i$, meaning that there is a road connecting pastures $p_i$ and $i$. It is guaranteed that $1 \\le p_i<i$. ", "outputFormat": " The minimum amount of time and the minimum amount of fertilizer, separated by spaces. ", "hint": "### Explanation for Sample 1\n\nThe optimal route for Farmer John is as follows: \n\n - At time $1$, move to node $3$, which now has $1 \\cdot 2=2$ grass and so needs $2$ fertilizer.\n - At time $2$, move to node $5$, which now has $2 \\cdot 4=8$ grass and so needs $8$ fertilizer.\n - At time $3$, move back to node $3$, which we already fertilized and so don't need to fertilize again.\n - At time $4$, move to node $4$, which now has $4 \\cdot 1=4$ grass and so needs $4$ fertilizer.\n - At time $5$, move back to node $3$, which we already fertilized.\n - At time $6$, move back to node $1$.\n - At time $7$, move to node $2$, which now has $7 \\cdot 1=7$ grass and so needs $7$ fertilizer.\n - At time $8$, return to node $1$. \n\nThis route takes $8$ time and uses $2+8+4+7=21$ fertilizer. It can be shown that $8$ is the least possible amount of time for any route that returns to node $1$ at the end and $21$ is the least possible fertilizer used for any route that returns to node $1$ and takes $8$ time.\n\n### Explanation for Sample 2\n\nThe optimal route for Farmer John is as follows:\n\n - At time $1$, move to node $2$, which now has $1 \\cdot 1=1$ grass and so needs $1$ fertilizer.\n - At time $2$, move back to node $1$.\n - At time $3$, move to node $3$, which now has $3 \\cdot 2=6$ grass and so needs $6$ fertilizer.\n - At time $4$, move to node $5$, which now has $4 \\cdot 4=16$ grass and so needs $16$ fertilizer.\n - At time $5$, move back to node $3$, which we already fertilized and so don't need to fertilize again.\n - At time $6$, move to node $4$, which now has $6 \\cdot 1=6$ grass and so needs $6$ fertilizer.\n\nThis route takes $6$ time and uses $1+6+16+6=29$ fertilizer. It can be shown that $6$ is the least possible amount of time for any route and $29$ is the least possible fertilizer used for any route that takes $6$ time.\n\n### SCORING\n\n - Inputs $3-10$: $T=0$\n - Inputs $11-22$: $T=1$\n - Inputs $3-6$ and $11-14$: No pasture is adjacent to more than three roads.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Fertilizing Pastures G", "background": "", "description": "有 $N$ 个顶点的树，经过节点之间的每一条边都需要 $1s$。每个顶点一开始的权值均为 $0$，第 $i$ 个点的权值的增长速率为 $a_i/s$。FJ 从 $1$ 号顶点出发遍历整棵树。当 FJ 走到某个节点时，若该节点的权值为 $x$，则需要支出大小为 $x$ 的费用。（当然，只需在第一次经过该节点时需要支出。）\n\n给出一个参数 $T$:\n\n+ **若 $T=0$，FJ 必须回到 $1$ 号节点**。\n\n+ **若 $T=1$，FJ 可以在任意节点结束他的遍历**。\n\n求遍历所有节点的最小时间和此时需要付出的最小的费用。", "inputFormat": "第一行包括 $N$ 和 $T$。\n\n第 $2$ 行到第 $N$ 行，包含两个整数 $p_i$ 和 $a_i$,$a_i$ 的含义见上文。$p_i$ 则表示节点 $i$ 和 $p_i$ 之间有一条边相连。", "outputFormat": "两个整数：遍历所有节点的最小时间和此时需要付出的最小的费用。\n\n$2 \\le N \\le 2 \\times 10^5,T \\in \\{0,1\\},1 \\le a_i \\le 10^8, 1 \\le p_i < i$。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P9129", "type": "P", "difficulty": 6, "samples": [["5 13 327\n1 2 3 4 5\n3\n1 2\n1 3\n2 5", "2\n18\n34"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "数位 DP", "区间 DP"], "title": "[USACO23FEB] Piling Papers G", "background": "", "description": "Farmer John wrote down $N (1 \\le N \\le 300)$ digits on pieces of paper. For each $i \\in [1,N]$, the ith piece of paper contains digit $a_i (1 \\le a_i \\le 9)$.\n\nThe cows have two favorite integers $A$ and $B(1 \\le A \\le B<10^{18})$, and would like you to answer $Q (1 \\le Q \\le 5⋅10^4)$ queries. For the $i$-th query, the cows will move left to right across papers $l_i \\cdots r_i (1 \\le l_i \\le r_i \\le N)$, maintaining an initially empty pile of papers. For each paper, they will either add it to the top of the pile, to the bottom of the pile, or neither. In the end, they will read the papers in the pile from top to bottom, forming an integer. Over all $3 ^ {r_i−l_i+1}$ ways for the cows to make choices during this process, count the number of ways that result in the cows reading an integer in $[A,B]$ inclusive, and output this number modulo $10^9+7$. ", "inputFormat": "The first line contains three space-separated integers $N, A$, and $B$.\n\nThe second line contains $N$ space-separated digits $a_1,a_2, \\cdots ,a_N$.\n\nThe third line contains an integer $Q$, the number of queries.\n\nThe next $Q$ lines each contain two space-separated integers $l_i$ and $r_i$. ", "outputFormat": "For each query, a single line containing the answer. ", "hint": "### Explanation for Sample 1\n\nFor the first query, there are nine ways Bessie can stack papers when reading the interval $[1,2]$:\n\n - Bessie can ignore $1$ then ignore $2$, getting $0$.\n - Bessie can ignore $1$ then add $2$ to the top of the stack, getting $2$.\n - Bessie can ignore $1$ then add $2$ to the bottom of the stack, getting $2$.\n - Bessie can add $1$ to the top of the stack then ignore $2$, getting $1$.\n - Bessie can add $1$ to the top of the stack then add $2$ to the top of the stack, getting $21$.\n - Bessie can add $1$ to the top of the stack then add $2$ to the bottom of the stack, getting $12$.\n - Bessie can add $1$ to the bottom of the stack then ignore $2$, getting $1$.\n - Bessie can add $1$ to the bottom of the stack then add $2$ to the top of the stack, getting $21$.\n - Bessie can add $1$ to the bottom of the stack then add $2$ to the bottom of the stack, getting $12$. \n\nOnly the $2$ ways that give $21$ yield a number between $13$ and $327$, so the answer is $2$.\n\n### SCORING\n\n - Inputs $2-3$: $B<100$\n - Inputs $4-5$: $A=B$\n - Inputs $6-13$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Piling Papers G", "background": "", "description": "Farmer John wrote down $N (1 \\le N \\le 300)$ digits on pieces of paper. For each $i \\in [1,N]$, the ith piece of paper contains digit $a_i (1 \\le a_i \\le 9)$.\n\nThe cows have two favorite integers $A$ and $B(1 \\le A \\le B<10^{18})$, and would like you to answer $Q (1 \\le Q \\le 5⋅10^4)$ queries. For the $i$-th query, the cows will move left to right across papers $l_i \\cdots r_i (1 \\le l_i \\le r_i \\le N)$, maintaining an initially empty pile of papers. For each paper, they will either add it to the top of the pile, to the bottom of the pile, or neither. In the end, they will read the papers in the pile from top to bottom, forming an integer. Over all $3 ^ {r_i−l_i+1}$ ways for the cows to make choices during this process, count the number of ways that result in the cows reading an integer in $[A,B]$ inclusive, and output this number modulo $10^9+7$. ", "inputFormat": "The first line contains three space-separated integers $N, A$, and $B$.\n\nThe second line contains $N$ space-separated digits $a_1,a_2, \\cdots ,a_N$.\n\nThe third line contains an integer $Q$, the number of queries.\n\nThe next $Q$ lines each contain two space-separated integers $l_i$ and $r_i$. ", "outputFormat": "For each query, a single line containing the answer. ", "hint": "### Explanation for Sample 1\n\nFor the first query, there are nine ways Bessie can stack papers when reading the interval $[1,2]$:\n\n - Bessie can ignore $1$ then ignore $2$, getting $0$.\n - Bessie can ignore $1$ then add $2$ to the top of the stack, getting $2$.\n - Bessie can ignore $1$ then add $2$ to the bottom of the stack, getting $2$.\n - Bessie can add $1$ to the top of the stack then ignore $2$, getting $1$.\n - Bessie can add $1$ to the top of the stack then add $2$ to the top of the stack, getting $21$.\n - Bessie can add $1$ to the top of the stack then add $2$ to the bottom of the stack, getting $12$.\n - Bessie can add $1$ to the bottom of the stack then ignore $2$, getting $1$.\n - Bessie can add $1$ to the bottom of the stack then add $2$ to the top of the stack, getting $21$.\n - Bessie can add $1$ to the bottom of the stack then add $2$ to the bottom of the stack, getting $12$. \n\nOnly the $2$ ways that give $21$ yield a number between $13$ and $327$, so the answer is $2$.\n\n### SCORING\n\n - Inputs $2-3$: $B<100$\n - Inputs $4-5$: $A=B$\n - Inputs $6-13$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Piling Papers G", "background": "", "description": "农夫约翰在纸片上写下了 $N (1 \\le N \\le 300)$ 个数字。对于每个 $i \\in [1,N]$，第 $i$ 张纸片上写着数字 $a_i (1 \\le a_i \\le 9)$。\n\n奶牛们有两个最喜欢的整数 $A$ 和 $B(1 \\le A \\le B<10^{18})$，希望你回答 $Q (1 \\le Q \\le 5 \\times 10^4)$ 个查询。对于第 $i$ 个查询，奶牛们将从左到右移动穿过纸片 $l_i \\cdots r_i (1 \\le l_i \\le r_i \\le N)$，保持一个最初为空的纸片堆。对于每张纸片，它们可以选择将其添加到堆的顶部、底部，或者不添加。最后，它们将从顶部到底部读取堆中的纸片，形成一个整数。在奶牛们在此过程中做选择的所有 $3 ^ {r_i-l_i+1}$ 种方式中，计算出结果在 $[A,B]$ 范围内的方式数量，并输出这个数量对 $10^9+7$ 取模的结果。", "inputFormat": "第一行包含三个用空格分隔的整数 $N, A$ 和 $B$。\n\n第二行包含 $N$ 个用空格分隔的数字 $a_1,a_2, \\cdots ,a_N$。\n\n第三行包含一个整数 $Q$，表示查询的数量。\n\n接下来的 $Q$ 行每行包含两个用空格分隔的整数 $l_i$ 和 $r_i$。", "outputFormat": "对于每个查询，输出一个单独的答案。", "hint": "### 示例 1 的解释\n\n对于第一个查询，Bessie 在读取区间 $[1,2]$ 时有九种方式堆叠纸片：\n\n- Bessie 可以忽略 $1$ 然后忽略 $2$，得到 $0$。\n- Bessie 可以忽略 $1$ 然后将 $2$ 添加到堆的顶部，得到 $2$。\n- Bessie 可以忽略 $1$ 然后将 $2$ 添加到堆的底部，得到 $2$。\n- Bessie 可以将 $1$ 添加到堆的顶部然后忽略 $2$，得到 $1$。\n- Bessie 可以将 $1$ 添加到堆的顶部然后将 $2$ 添加到堆的顶部，得到 $21$。\n- Bessie 可以将 $1$ 添加到堆的顶部然后将 $2$ 添加到堆的底部，得到 $12$。\n- Bessie 可以将 $1$ 添加到堆的底部然后忽略 $2$，得到 $1$。\n- Bessie 可以将 $1$ 添加到堆的底部然后将 $2$ 添加到堆的顶部，得到 $21$。\n- Bessie 可以将 $1$ 添加到堆的底部然后将 $2$ 添加到堆的底部，得到 $12$。\n\n只有 $2$ 种方式得到的数字在 $13$ 和 $327$ 之间，所以答案是 $2$。\n\n### 评分\n\n- 输入 $2-3$：$B<100$\n- 输入 $4-5$：$A=B$\n- 输入 $6-13$：无额外约束。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9130", "type": "P", "difficulty": 6, "samples": [["3\n4 3\n1 5\n1 2", "15\n36\n18"], ["9\n1 89\n30 7\n101 26\n1 24\n5 1\n60 4\n5 10\n101 0\n1 200", "4005\n4656\n7607\n3482\n3507\n3753\n4058\n1107\n24531"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "USACO", "2023", "分治"], "title": "[USACO23FEB] Hungry Cow P", "background": "", "description": "**Note: The time limit for this problem is 6s, three times the default. The memory limit for this problem is 512MB, twice the default.** \n\nBessie is a hungry cow. Each day, for dinner, if there is a haybale in the barn, she will eat one haybale. Farmer John does not want Bessie to starve, so some days he sends a delivery of haybales, which arrive in the morning (before dinner). In particular, on day $d_i$, Farmer John sends a delivery of $b_i$ haybales $(1 \\le d_i \\le 10^{14}, 0 \\le b_i \\le 10^9)$.\n\nProcess $U(1 \\le U \\le 10^5)$ updates as follows: Given a pair $(d,b)$, update the number of haybales arriving on day $d$ to $b$. After each update, output the sum of all days on which Bessie eats haybales modulo $10^9+7$. ", "inputFormat": "$U$, followed by $U$ lines containing the updates. ", "outputFormat": "The sum after each update modulo $10^9+7$. ", "hint": "### Explanation for Sample 1\n\nAnswers after each update:\n\n$4+5+6=15$  \n$1+2+3+4+5+6+7+8=36$  \n$1+2+4+5+6=18$\n\n### SCORING\n\n - Input $3$: $U \\le 5000$\n - Inputs $4-10$: Updates only increase the number of haybales arriving on day $d$.\n - Inputs 11-22: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Hungry Cow P", "background": "", "description": "**Note: The time limit for this problem is 6s, three times the default. The memory limit for this problem is 512MB, twice the default.** \n\nBessie is a hungry cow. Each day, for dinner, if there is a haybale in the barn, she will eat one haybale. Farmer John does not want Bessie to starve, so some days he sends a delivery of haybales, which arrive in the morning (before dinner). In particular, on day $d_i$, Farmer John sends a delivery of $b_i$ haybales $(1 \\le d_i \\le 10^{14}, 0 \\le b_i \\le 10^9)$.\n\nProcess $U(1 \\le U \\le 10^5)$ updates as follows: Given a pair $(d,b)$, update the number of haybales arriving on day $d$ to $b$. After each update, output the sum of all days on which Bessie eats haybales modulo $10^9+7$. ", "inputFormat": "$U$, followed by $U$ lines containing the updates. ", "outputFormat": "The sum after each update modulo $10^9+7$. ", "hint": "### Explanation for Sample 1\n\nAnswers after each update:\n\n$4+5+6=15$  \n$1+2+3+4+5+6+7+8=36$  \n$1+2+4+5+6=18$\n\n### SCORING\n\n - Input $3$: $U \\le 5000$\n - Inputs $4-10$: Updates only increase the number of haybales arriving on day $d$.\n - Inputs 11-22: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Hungry Cow P", "background": "", "description": "**注意：本题的时间限制为 6 秒，是默认的三倍。内存限制为 512MB，是默认的两倍。**\n\nBessie 是一头饥饿的奶牛。每天晚餐时，如果谷仓里有干草，她就会吃掉一捆干草。农夫 John 不想让 Bessie 挨饿，所以有些天他会送来干草，这些干草会在早上（晚餐前）到达。特别地，在第 $d_i$ 天，农夫 John 会送来 $b_i$ 捆干草 $(1 \\le d_i \\le 10^{14}, 0 \\le b_i \\le 10^9)$。\n\n处理 $U(1 \\le U \\le 10^5)$ 次更新如下：给定一对 $(d,b)$，更新第 $d$ 天到达的干草数量为 $b$。每次更新后，输出 Bessie 吃干草的所有天数之和，结果对 $10^9+7$ 取模。", "inputFormat": "$U$，接下来是 $U$ 行，包含更新。", "outputFormat": "每次更新后的和，对 $10^9+7$ 取模。", "hint": "### 示例 1 的解释\n\n每次更新后的答案：\n\n$4+5+6=15$  \n$1+2+3+4+5+6+7+8=36$  \n$1+2+4+5+6=18$\n\n### 评分\n\n- 输入 3：$U \\le 5000$\n- 输入 4-10：更新只会增加第 $d$ 天到达的干草数量。\n- 输入 11-22：无额外约束。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9131", "type": "P", "difficulty": 6, "samples": [["3 1\nEHE", "9"], ["10 6\nEHEEEHHEEH\nEHHHEEHHHE\nEHEHEHEEHH\nHEHEEEHEEE\nHHEEHEEEHE\nEHHEEEEEHE", "33"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["USACO", "2023", "快速沃尔什变换 FWT", "状压 DP"], "title": "[USACO23FEB] Problem Setting P", "background": "", "description": "**Note: The memory limit for this problem is 512MB, twice the default.**\n\nFarmer John created $N(1 \\le N \\le 10^5)$ problems. He then recruited $M (1 \\le M \\le 20)$ test-solvers, each of which rated every problem as \"easy\" or \"hard.\"\n\nHis goal is now to create a problemset arranged in increasing order of difficulty, consisting of some subset of his $N$ problems arranged in some order. There must exist no pair of problems such that some test-solver thinks the problem later in the order is easy but the problem earlier in the order is hard.\n\nCount the number of distinct nonempty problemsets he can form, modulo $10^9+7$. ", "inputFormat": "The first line contains $N$ and $M$.\n\nThe next $M$ lines each contain a string of length $N$. The $i$-th character of this string is `E` if the test-solver thinks the ith problem is easy, or `H` otherwise. ", "outputFormat": "The number of distinct problemsets FJ can form, modulo $10^9+7$. ", "hint": "### Explanation for Sample 1\n\nThe nine possible problemsets are as follows:\n\n$[1]$  \n$[1,2]$  \n$[1,3]$  \n$[1,3,2]$  \n$[2]$  \n$[3]$  \n$[3,1]$  \n$[3,2]$  \n$[3,1,2]$  \n\nNote that the order of the problems within the problemset matters. \n\n### SCORING\n\n - Inputs $3-4$: $M=1$\n - Inputs $5-14$: $M \\le 16$\n - Inputs $15-22$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Problem Setting P", "background": "", "description": "**Note: The memory limit for this problem is 512MB, twice the default.**\n\nFarmer John created $N(1 \\le N \\le 10^5)$ problems. He then recruited $M (1 \\le M \\le 20)$ test-solvers, each of which rated every problem as \"easy\" or \"hard.\"\n\nHis goal is now to create a problemset arranged in increasing order of difficulty, consisting of some subset of his $N$ problems arranged in some order. There must exist no pair of problems such that some test-solver thinks the problem later in the order is easy but the problem earlier in the order is hard.\n\nCount the number of distinct nonempty problemsets he can form, modulo $10^9+7$. ", "inputFormat": "The first line contains $N$ and $M$.\n\nThe next $M$ lines each contain a string of length $N$. The $i$-th character of this string is `E` if the test-solver thinks the ith problem is easy, or `H` otherwise. ", "outputFormat": "The number of distinct problemsets FJ can form, modulo $10^9+7$. ", "hint": "### Explanation for Sample 1\n\nThe nine possible problemsets are as follows:\n\n$[1]$  \n$[1,2]$  \n$[1,3]$  \n$[1,3,2]$  \n$[2]$  \n$[3]$  \n$[3,1]$  \n$[3,2]$  \n$[3,1,2]$  \n\nNote that the order of the problems within the problemset matters. \n\n### SCORING\n\n - Inputs $3-4$: $M=1$\n - Inputs $5-14$: $M \\le 16$\n - Inputs $15-22$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Problem Setting P", "background": "", "description": "**注意：本题的内存限制为 512MB，是默认值的两倍。**\n\n农夫约翰创建了 $N(1 \\le N \\le 10^5)$ 个问题。然后他招募了 $M (1 \\le M \\le 20)$ 个测试解答者，每个解答者将每个问题评为“简单”或“困难”。\n\n他的目标是创建一个按难度递增顺序排列的问题集，该问题集由他的 $N$ 个问题的某个子集按某种顺序排列而成。必须不存在这样的一对问题，使得某个测试解答者认为顺序中后面的那个问题简单，而前面的那个问题困难。\n\n计算他可以形成的不同非空问题集的数量，结果对 $10^9+7$ 取模。", "inputFormat": "第一行包含 $N$ 和 $M$。\n\n接下来的 $M$ 行每行包含一个长度为 $N$ 的字符串。如果测试解答者认为第 $i$ 个问题简单，则该字符串的第 $i$ 个字符为 `E`，否则为 `H`。", "outputFormat": "FJ 可以形成的不同问题集的数量，对 $10^9+7$ 取模。", "hint": "### 样例 1 的解释\n\n九个可能的问题集如下：\n\n$[1]$  \n$[1,2]$  \n$[1,3]$  \n$[1,3,2]$  \n$[2]$  \n$[3]$  \n$[3,1]$  \n$[3,2]$  \n$[3,1,2]$  \n\n注意问题集内问题的顺序很重要。\n\n### 评分\n\n- 输入 $3-4$：$M=1$\n- 输入 $5-14$：$M \\le 16$\n- 输入 $15-22$：无额外限制。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
{"pid": "P9132", "type": "P", "difficulty": 6, "samples": [["5\n10001\n1 2\n2 3\n3 4\n4 5", "4\n6\n8\n9\n10"], ["7\n0001010\n7 4\n5 6\n7 2\n5 1\n6 3\n2 5", "4\n6\n8\n9\n10\n11\n12"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["USACO", "2023", "树形 DP", "虚树", "根号分治"], "title": "[USACO23FEB] Watching Cowflix P", "background": "", "description": "**Note: The time limit for this problem is 3s, 1.5x the default.**\n\nBessie likes to watch shows on Cowflix, and she watches them in different places. Farmer John's farm can be represented as a tree with $N(2 \\le N \\le 2 \\cdot 10^5)$ nodes, and for each node, either Bessie watches Cowflix there or she doesn't. It is guaranteed that Bessie watches Cowflix in at least one node.\n\nUnfortunately, Cowflix is introducing a new subscription model to combat password sharing. In their new model, you can choose a connected component of size $d$ in the farm, and then you need to pay $d+k$ moonies for an account that you can use in that connected component. Formally, you need to choose a set of disjoint connected components $c_1,c_2, \\cdots ,c_C$ so that every node where Bessie watches Cowflix must be contained within some $c_i$. The cost of the set of components is $\\sum\\limits^{C}_{i=1}(|c_i|+k)$, where $|c_i|$ is the number of nodes in component $c_i$. Nodes where Bessie does not watch Cowflix do not have to be in any $c_i$.\n\nBessie is worried that the new subscription model may be too expensive for her given all the places she visits and is thinking of switching to Mooloo. To aid her decision-making, calculate the minimum amount she would need to pay to Cowflix to maintain her viewing habits. Because Cowflix has not announced the value of $k$, calculate it for all integer values of $k$ from $1$ to $N$. ", "inputFormat": "The first line contains $N$.\n\nThe second line contains a bit string $s_1s_2s_3\\cdots s_N$ where $s_i=1$ if Bessie watches Cowflix at node $i$.\n\nThen $N - 1$ lines follow, each containing two integers $a$ and $b (1 \\le a,b \\le N)$, which denotes an edge between $a$ and $b$ in the tree.", "outputFormat": "The answers for each $k$ from $1$ to $N$ on separate lines. ", "hint": "### Explanation for Sample 1\n\nFor $k \\le 3$, it's optimal to have two accounts: $c_1=\\{1\\},c_2=\\{5\\}$. For $k \\ge 3$, it's optimal to have one account: $c_1=\\{1,2,3,4,5\\}$.\n\n### SCORING\n\n - Inputs $3-5$: $N \\le 5000$\n - Inputs $6-8$: $i$ is connected to $i+1$ for all $i \\in [1,N)$.\n - Inputs $9-19$: $N \\le 10^5$\n - Inputs $20-24$: No additional constraints.", "locale": "en", "translations": {"en": {"title": "[USACO23FEB] Watching Cowflix P", "background": "", "description": "**Note: The time limit for this problem is 3s, 1.5x the default.**\n\nBessie likes to watch shows on Cowflix, and she watches them in different places. Farmer John's farm can be represented as a tree with $N(2 \\le N \\le 2 \\cdot 10^5)$ nodes, and for each node, either Bessie watches Cowflix there or she doesn't. It is guaranteed that Bessie watches Cowflix in at least one node.\n\nUnfortunately, Cowflix is introducing a new subscription model to combat password sharing. In their new model, you can choose a connected component of size $d$ in the farm, and then you need to pay $d+k$ moonies for an account that you can use in that connected component. Formally, you need to choose a set of disjoint connected components $c_1,c_2, \\cdots ,c_C$ so that every node where Bessie watches Cowflix must be contained within some $c_i$. The cost of the set of components is $\\sum\\limits^{C}_{i=1}(|c_i|+k)$, where $|c_i|$ is the number of nodes in component $c_i$. Nodes where Bessie does not watch Cowflix do not have to be in any $c_i$.\n\nBessie is worried that the new subscription model may be too expensive for her given all the places she visits and is thinking of switching to Mooloo. To aid her decision-making, calculate the minimum amount she would need to pay to Cowflix to maintain her viewing habits. Because Cowflix has not announced the value of $k$, calculate it for all integer values of $k$ from $1$ to $N$. ", "inputFormat": "The first line contains $N$.\n\nThe second line contains a bit string $s_1s_2s_3\\cdots s_N$ where $s_i=1$ if Bessie watches Cowflix at node $i$.\n\nThen $N - 1$ lines follow, each containing two integers $a$ and $b (1 \\le a,b \\le N)$, which denotes an edge between $a$ and $b$ in the tree.", "outputFormat": "The answers for each $k$ from $1$ to $N$ on separate lines. ", "hint": "### Explanation for Sample 1\n\nFor $k \\le 3$, it's optimal to have two accounts: $c_1=\\{1\\},c_2=\\{5\\}$. For $k \\ge 3$, it's optimal to have one account: $c_1=\\{1,2,3,4,5\\}$.\n\n### SCORING\n\n - Inputs $3-5$: $N \\le 5000$\n - Inputs $6-8$: $i$ is connected to $i+1$ for all $i \\in [1,N)$.\n - Inputs $9-19$: $N \\le 10^5$\n - Inputs $20-24$: No additional constraints.", "locale": "en"}, "zh-CN": {"title": "[USACO23FEB] Watching Cowflix P", "background": "", "description": "**注意：本题的时间限制为 3 秒，是默认时间的 1.5 倍。**\n\nBessie 喜欢在 Cowflix 上观看节目，并且她在不同的地方观看。Farmer John's 农场可以表示为一个有 $N(2 \\le N \\le 2 \\cdot 10^5)$ 个节点的树，对于每个节点，Bessie 要么在该节点观看 Cowflix，要么不观看。保证 Bessie 至少在一个节点上观看 Cowflix。\n\n不幸的是，Cowflix 正在引入一种新的订阅模式以打击密码共享。在他们的新模式中，你可以在农场中选择一个大小为 $d$ 的连通分量，然后你需要支付 $d+k$ moonies 来获得一个可以在该连通分量中使用的账户。正式地，你需要选择一组不相交的连通分量 $c_1,c_2, \\cdots ,c_C$，使得每个 Bessie 观看 Cowflix 的节点必须包含在某个 $c_i$ 中。组件集的成本为 $\\sum\\limits^{C}_{i=1}(|c_i|+k)$，其中 $|c_i|$ 是组件 $c_i$ 中的节点数。Bessie 不观看 Cowflix 的节点不必包含在任何 $c_i$ 中。\n\nBessie 担心新的订阅模式可能对她来说太贵，因为她访问的地方很多，因此她考虑转向 Mooloo。为了帮助她做出决定，计算她需要支付给 Cowflix 的最低金额以维持她的观看习惯。因为 Cowflix 尚未公布 $k$ 的值，所以计算从 $1$ 到 $N$ 的所有整数值的 $k$。", "inputFormat": "第一行包含 $N$。\n\n第二行包含一个位字符串 $s_1s_2s_3\\cdots s_N$，其中 $s_i=1$ 表示 Bessie 在节点 $i$ 观看 Cowflix。\n\n接下来有 $N - 1$ 行，每行包含两个整数 $a$ 和 $b (1 \\le a,b \\le N)$，表示树中 $a$ 和 $b$ 之间的一条边。", "outputFormat": "对于每个从 $1$ 到 $N$ 的 $k$，在单独的行中输出答案。", "hint": "### 示例 1 的解释\n\n对于 $k \\le 3$，最优方案是拥有两个账户：$c_1=\\{1\\},c_2=\\{5\\}$。对于 $k \\ge 3$，最优方案是拥有一个账户：$c_1=\\{1,2,3,4,5\\}$。\n\n### 评分\n\n- 输入 $3-5$：$N \\le 5000$\n- 输入 $6-8$：$i$ 与 $i+1$ 连接，对于所有 $i \\in [1,N)$。\n- 输入 $9-19$：$N \\le 10^5$\n- 输入 $20-24$：无额外限制。\n\n题面翻译由 ChatGPT-4o 提供。", "locale": "zh-CN"}}}
