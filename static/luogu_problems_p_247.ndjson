{"pid": "P5995", "type": "P", "difficulty": 3, "samples": [["3\n3\n2 3 3 5\n1 4 2 6\n1 3 4 6\n3\n1 5 1 3\n2 4 1 3\n3 4 2 5\n4\n1 2 1 10\n1 2 3 8\n2 2 7 10\n1 2 1 10", "TAK\nNIE\nTAK"]], "limits": {"time": [1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000]}, "tags": ["2014", "PA（波兰）"], "title": "[PA 2014] Lustra", "background": "", "description": "Byteasar 公司专门外包生产带有镜子的衣柜。\n\n刚刚举行的招标会上，有 $n$ 个工厂参加竞标。所有镜子都是长方形的，每个工厂能够制造的镜子都有其各自的最大、最小宽度和最大、最小高度。镜子不可以旋转。\n\n如果存在某家工厂满足这样的条件：其他所有工厂能够制造的镜子，它都能够制造。那么这家工厂显然会胜出。若不存在，评判工作将会遇到麻烦。\n\nByteasar 想知道，是否存在某家工厂符合上述条件。", "inputFormat": "第一行有一个整数 $t$，表示测试数据数量。\n\n对于每一组测试数据，第一行有一个整数 $n$。\n\n接下来 $n$行，每行有四个整数 $w1,w2,h1,h2$，表示这家工厂能够制造的镜子的宽度 $w$、高度 $h$ 需要满足 $w_1\\le w\\le w_2,h_1\\le h\\le h_2$。", "outputFormat": "输出共有 $t$ 行，每行为 `TAK` (是)或 `NIE` (否)，表示是否存在某家工厂符合条件。", "hint": "对于 $100\\%$ 的数据，$1\\le t\\le 10$，$2\\le n\\le 10^5$，$1\\le w_1\\le w_2\\le 10^9$，$1\\le h_1\\le h_2\\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2014] Lustra", "background": "", "description": "Byteasar 公司专门外包生产带有镜子的衣柜。\n\n刚刚举行的招标会上，有 $n$ 个工厂参加竞标。所有镜子都是长方形的，每个工厂能够制造的镜子都有其各自的最大、最小宽度和最大、最小高度。镜子不可以旋转。\n\n如果存在某家工厂满足这样的条件：其他所有工厂能够制造的镜子，它都能够制造。那么这家工厂显然会胜出。若不存在，评判工作将会遇到麻烦。\n\nByteasar 想知道，是否存在某家工厂符合上述条件。", "inputFormat": "第一行有一个整数 $t$，表示测试数据数量。\n\n对于每一组测试数据，第一行有一个整数 $n$。\n\n接下来 $n$行，每行有四个整数 $w1,w2,h1,h2$，表示这家工厂能够制造的镜子的宽度 $w$、高度 $h$ 需要满足 $w_1\\le w\\le w_2,h_1\\le h\\le h_2$。", "outputFormat": "输出共有 $t$ 行，每行为 `TAK` (是)或 `NIE` (否)，表示是否存在某家工厂符合条件。", "hint": "对于 $100\\%$ 的数据，$1\\le t\\le 10$，$2\\le n\\le 10^5$，$1\\le w_1\\le w_2\\le 10^9$，$1\\le h_1\\le h_2\\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P5996", "type": "P", "difficulty": 6, "samples": [["5 3\n2 3\n2 6 2\n5 1 3\n5 5 8\n7 3 4\n8 6 1\n3 8 3\n4 3 5\n5 7 6", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2014", "PA（波兰）"], "title": "[PA 2014] Muzeum", "background": "", "description": "吉丽的漫展有 $n$ 件手办和 $m$ 名警卫。\n\n现在我们对其建立平面直角坐标系，每个手办和警卫都可以看做一个点。警卫们的目光都朝着 $y$ 轴负方向，且都有相同大小的视角。警卫可以看见自己视角内（包括边界上的点）的所有手办，不用考虑视线的遮挡。\n\n你打算抢劫吉丽的漫展，但不想被警卫发现。为了实施这次抢劫计划，你可以事先贿赂某些警卫，让他们闭上眼睛。只要某件手办不在任何睁着眼睛的警卫的视野内，你就可以偷走它。你知道每件手办的价格，以及每位警卫需要接受多少钱的贿赂。你想知道自己的最大收益是多少。", "inputFormat": "第一行两个整数 $n,m$，分别表示手办的数量和警卫的数量。\n\n第二行两个整数 $w,h$，表示每个警卫的视角的一半的正切值是 $\\dfrac{w}{h}$。（见配图）\n\n接下来 $n$ 行，每行三个整数 $x_i,y_i,v_i$，表示手办的坐标为 $(x_i,y_i)$，价格为 $v_i$。\n\n接下来 $m$ 行，格式同上，表示警卫的坐标为 $(x_i,y_i)$，需接受贿赂的金额为 $v_i$。\n\n**保证每个点最多只有一个手办或一个警卫。**", "outputFormat": "输出仅一行表示最大收益。", "hint": "对于 $100\\%$ 的数据，$1\\le n,m\\le 2\\times 10^5$，$1\\le w,h\\le 10^9$，$-10^9\\le x_i,y_i\\le 10^9$，$1\\le v_i\\le 10^9$。\n\n\n----\n\n### 样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zxt0if8b.png)\n\n贿赂 售价为 $3+6=9$ 元的两个警卫，偷走 价值共$2+8+4+1=15$ 元的 $4$ 个手办，收益 $15-9=6$ 元。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2014] Muzeum", "background": "", "description": "吉丽的漫展有 $n$ 件手办和 $m$ 名警卫。\n\n现在我们对其建立平面直角坐标系，每个手办和警卫都可以看做一个点。警卫们的目光都朝着 $y$ 轴负方向，且都有相同大小的视角。警卫可以看见自己视角内（包括边界上的点）的所有手办，不用考虑视线的遮挡。\n\n你打算抢劫吉丽的漫展，但不想被警卫发现。为了实施这次抢劫计划，你可以事先贿赂某些警卫，让他们闭上眼睛。只要某件手办不在任何睁着眼睛的警卫的视野内，你就可以偷走它。你知道每件手办的价格，以及每位警卫需要接受多少钱的贿赂。你想知道自己的最大收益是多少。", "inputFormat": "第一行两个整数 $n,m$，分别表示手办的数量和警卫的数量。\n\n第二行两个整数 $w,h$，表示每个警卫的视角的一半的正切值是 $\\dfrac{w}{h}$。（见配图）\n\n接下来 $n$ 行，每行三个整数 $x_i,y_i,v_i$，表示手办的坐标为 $(x_i,y_i)$，价格为 $v_i$。\n\n接下来 $m$ 行，格式同上，表示警卫的坐标为 $(x_i,y_i)$，需接受贿赂的金额为 $v_i$。\n\n**保证每个点最多只有一个手办或一个警卫。**", "outputFormat": "输出仅一行表示最大收益。", "hint": "对于 $100\\%$ 的数据，$1\\le n,m\\le 2\\times 10^5$，$1\\le w,h\\le 10^9$，$-10^9\\le x_i,y_i\\le 10^9$，$1\\le v_i\\le 10^9$。\n\n\n----\n\n### 样例解释：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zxt0if8b.png)\n\n贿赂 售价为 $3+6=9$ 元的两个警卫，偷走 价值共$2+8+4+1=15$ 元的 $4$ 个手办，收益 $15-9=6$ 元。\n", "locale": "zh-CN"}}}
{"pid": "P5997", "type": "P", "difficulty": 5, "samples": [["4 3\n4 2 10 3\n11 18 9", "2"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2014", "PA（波兰）"], "title": "[PA 2014] Pakowanie", "background": "", "description": "你有 $n$ 个物品和 $m$ 个包。物品有重量，且不可被分割；包也有各自的容量。要把所有物品装入包中，至少需要几个包？", "inputFormat": "第一行两个整数 $n,m$，表示物品和包的数量。\n\n第二行有 $n$ 个整数 $a_1,a_2,…,a_n$，分别表示物品的重量。\n\n第三行有 $m$个整数 $c_1,c_2,…,c_m$，分别表示包的容量。", "outputFormat": "如果能够装下，输出一个整数表示最少使用包的数目。\n\n若不能全部装下，则输出 `NIE`。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 24$，$1\\le m\\le 100$，$1\\le a_i\\le 10^8$，$1\\le c_i\\le 10^8$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2014] Pakowanie", "background": "", "description": "你有 $n$ 个物品和 $m$ 个包。物品有重量，且不可被分割；包也有各自的容量。要把所有物品装入包中，至少需要几个包？", "inputFormat": "第一行两个整数 $n,m$，表示物品和包的数量。\n\n第二行有 $n$ 个整数 $a_1,a_2,…,a_n$，分别表示物品的重量。\n\n第三行有 $m$个整数 $c_1,c_2,…,c_m$，分别表示包的容量。", "outputFormat": "如果能够装下，输出一个整数表示最少使用包的数目。\n\n若不能全部装下，则输出 `NIE`。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 24$，$1\\le m\\le 100$，$1\\le a_i\\le 10^8$，$1\\le c_i\\le 10^8$。", "locale": "zh-CN"}}}
{"pid": "P5998", "type": "P", "difficulty": 6, "samples": [["5\n7 8 1 4\n1 5 2 3\n4 5 2 7\n2 3 5 9\n4 6 8 9", "2\n1 6 2 9\n7 8 1 4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2014", "PA（波兰）"], "title": "[PA 2014] Plemiona", "background": "", "description": "远古时代，在吉丽王国的版图上分布着 $n$ 个部落。建立平面直角坐标系后，每个部落都是一个边平行于坐标轴的矩形。有些地盘可能同时属于多个部落。随着时间推移，部落之间会发生融合。具体来说，若两个部落的公共面积严格大于零，它们会合并成一个新的部落，新部落的形状是包含原来两个部落的最小矩形（边平行于坐标轴）。\n\n数百万年后，部落之间终于达到了稳定状态（任两个部落都不能再合并了），然而吉丽也已经老了。他想知道最终还剩下几个部落，以及各个部落的位置。你能替他完成遗业吗？", "inputFormat": "第一行一个整数 $n$，表示远古时代的部落数量。\n\n接下来 $n$ 行，每行四个整数 $x_1,x_2,y_1,y_2$，表示部落的坐标。", "outputFormat": "第一行输出一个整数 $m$，表示稳定后还剩下的部落数量。\n接下来 $m$ 行，每行四个整数 $x_1,x_2,y_1,y_2$，表示部落的坐标。\n\n请按照字典序（先比较 $x_1$，若 $x_1$ 相等则比较 $x_2$，以此类推）从小到大输出。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$0\\le x1<x2\\le 10^6$，$0\\le y1<y2\\le 10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[PA 2014] Plemiona", "background": "", "description": "远古时代，在吉丽王国的版图上分布着 $n$ 个部落。建立平面直角坐标系后，每个部落都是一个边平行于坐标轴的矩形。有些地盘可能同时属于多个部落。随着时间推移，部落之间会发生融合。具体来说，若两个部落的公共面积严格大于零，它们会合并成一个新的部落，新部落的形状是包含原来两个部落的最小矩形（边平行于坐标轴）。\n\n数百万年后，部落之间终于达到了稳定状态（任两个部落都不能再合并了），然而吉丽也已经老了。他想知道最终还剩下几个部落，以及各个部落的位置。你能替他完成遗业吗？", "inputFormat": "第一行一个整数 $n$，表示远古时代的部落数量。\n\n接下来 $n$ 行，每行四个整数 $x_1,x_2,y_1,y_2$，表示部落的坐标。", "outputFormat": "第一行输出一个整数 $m$，表示稳定后还剩下的部落数量。\n接下来 $m$ 行，每行四个整数 $x_1,x_2,y_1,y_2$，表示部落的坐标。\n\n请按照字典序（先比较 $x_1$，若 $x_1$ 相等则比较 $x_2$，以此类推）从小到大输出。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 10^5$，$0\\le x1<x2\\le 10^6$，$0\\le y1<y2\\le 10^6$。", "locale": "zh-CN"}}}
{"pid": "P5999", "type": "P", "difficulty": 6, "samples": [["4 2 3", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2016", "CEOI（中欧）", "组合数学"], "title": "[CEOI 2016] kangaroo", "background": "", "description": "有一个园子，里面有 $n$ 个草丛排成一排，标号 $1\\sim n$，有一个袋鼠，从 $s$ 出发，每次跳一步跳到一个其他的草丛，经过每个草丛恰好一次，最终到达 $t$。显然他会跳跃 $n-1$ 次。为了不被人类发现，袋鼠每次跳跃的方向必须与前一次不同。\n\n具体地，如果他现在在 $now$，他是从 $prev $ 跳跃一次到达 $now$ 的，然后他跳跃一次到达 $next$：\n\n- 那么如果 $prev<now$，就必须有 $next<now$；\n\n- 如果 $now<prev$，就必须有 $now<next$。\n\n问从 $s$ 到 $t$ 的方案数模 $10^9+7$ 的结果。\n\n两个路线不同，当且仅当草丛被访问的顺序不同。\n\n保证至少有一种方案。\n\n初始时可以往任意方向跳。", "inputFormat": " 一行三个整数 $n,s,t$。\n\n", "outputFormat": " 一行一个整数，代表答案。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 2\\times 10^3$，$1\\le s,t\\le n$", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2016] kangaroo", "background": "", "description": "有一个园子，里面有 $n$ 个草丛排成一排，标号 $1\\sim n$，有一个袋鼠，从 $s$ 出发，每次跳一步跳到一个其他的草丛，经过每个草丛恰好一次，最终到达 $t$。显然他会跳跃 $n-1$ 次。为了不被人类发现，袋鼠每次跳跃的方向必须与前一次不同。\n\n具体地，如果他现在在 $now$，他是从 $prev $ 跳跃一次到达 $now$ 的，然后他跳跃一次到达 $next$：\n\n- 那么如果 $prev<now$，就必须有 $next<now$；\n\n- 如果 $now<prev$，就必须有 $now<next$。\n\n问从 $s$ 到 $t$ 的方案数模 $10^9+7$ 的结果。\n\n两个路线不同，当且仅当草丛被访问的顺序不同。\n\n保证至少有一种方案。\n\n初始时可以往任意方向跳。", "inputFormat": " 一行三个整数 $n,s,t$。\n\n", "outputFormat": " 一行一个整数，代表答案。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 2\\times 10^3$，$1\\le s,t\\le n$", "locale": "zh-CN"}}}
{"pid": "P6000", "type": "P", "difficulty": 6, "samples": [["abbaaa", "(()())"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2016", "CEOI（中欧）"], "title": "[CEOI 2016] match", "background": "", "description": "给你一个由小写字母组成的字符串 $s$，要你构造一个字典序最小的（认为左括号的字典序比右括号小）合法的括号序列与这个字符串匹配。\n\n字符串和括号序列匹配定义为：首先长度必须相等，其次对于一对匹配的左括号和右括号 $i,j$，必须有 $s_i=s_j$。\n\n\n无解输出 `-1`。", "inputFormat": "一行一个字符串 $s$。", "outputFormat": "一行一个括号序列或者 `-1`。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2016] match", "background": "", "description": "给你一个由小写字母组成的字符串 $s$，要你构造一个字典序最小的（认为左括号的字典序比右括号小）合法的括号序列与这个字符串匹配。\n\n字符串和括号序列匹配定义为：首先长度必须相等，其次对于一对匹配的左括号和右括号 $i,j$，必须有 $s_i=s_j$。\n\n\n无解输出 `-1`。", "inputFormat": "一行一个字符串 $s$。", "outputFormat": "一行一个括号序列或者 `-1`。", "hint": "对于 $100\\%$ 的数据，$2\\le n\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P6001", "type": "P", "difficulty": 6, "samples": [["2 3 3\n4 3 5\n101\n110", "0\n8\n16"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2016", "CEOI（中欧）"], "title": "[CEOI 2016] popeala", "background": "", "description": "你办了一场比赛，有 $n$ 个人参加，只有一道题，有 $m$ 个数据点，标号为 $1\\sim m$，每个测试点都有一个分数 $a_i$。\n\n现在所有选手已经提交了程序并且测评完了，你知道每个人都能通过哪些测试点。\n\n你现在要安排捆绑测试的方式，把数据点划分为若干个连续的区间，每个区间至少有一个测试点。每个区间只要有一个测试点错误就不会得分，如果所有\n点都正确得分为所有测试点的分数的和。\n\n**你的目的是最小化所有人的得分和**。你需要对 $1\\le i\\le S$，输出当把所有测试点划分为 $i$ 组时，最小的所有人分数和。", "inputFormat": "第一行三个整数 $n,m,S$。\n\n接下来一行 $m$ 个整数，代表 $a_i$。\n\n接下来 $n$ 行每行一个长度为 $m$ 的 $01$ 串，代表第 $i$ 个人是否通过了第 $j$ 个测试点。", "outputFormat": "$S$ 行，每行一个整数，代表当划分为 $i$ 个捆绑测试点时所有人分数和的最小值。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 50$，$1\\le m\\le 2\\times 10^4$，$S\\le \\min(50,m)，1\\le a_i \\le 10^4$，$\\Sigma a_i\\times n\\le 2\\times10^9$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CEOI 2016] popeala", "background": "", "description": "你办了一场比赛，有 $n$ 个人参加，只有一道题，有 $m$ 个数据点，标号为 $1\\sim m$，每个测试点都有一个分数 $a_i$。\n\n现在所有选手已经提交了程序并且测评完了，你知道每个人都能通过哪些测试点。\n\n你现在要安排捆绑测试的方式，把数据点划分为若干个连续的区间，每个区间至少有一个测试点。每个区间只要有一个测试点错误就不会得分，如果所有\n点都正确得分为所有测试点的分数的和。\n\n**你的目的是最小化所有人的得分和**。你需要对 $1\\le i\\le S$，输出当把所有测试点划分为 $i$ 组时，最小的所有人分数和。", "inputFormat": "第一行三个整数 $n,m,S$。\n\n接下来一行 $m$ 个整数，代表 $a_i$。\n\n接下来 $n$ 行每行一个长度为 $m$ 的 $01$ 串，代表第 $i$ 个人是否通过了第 $j$ 个测试点。", "outputFormat": "$S$ 行，每行一个整数，代表当划分为 $i$ 个捆绑测试点时所有人分数和的最小值。", "hint": "对于 $100\\%$ 的数据，$1\\le n\\le 50$，$1\\le m\\le 2\\times 10^4$，$S\\le \\min(50,m)，1\\le a_i \\le 10^4$，$\\Sigma a_i\\times n\\le 2\\times10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P6002", "type": "P", "difficulty": 3, "samples": [["5 4\n3 6 8 4 2", "8"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "USACO", "枚举"], "title": "[USACO20JAN] Berry Picking S", "background": "", "description": "Bessie 和她的妹妹 Elsie 正在 Farmer John 的浆果园里采浆果。Farmer John 的浆果园里有 $N$ 棵浆果树（$1 \\leq N \\leq 1000$）；树 $i$ 上有 $B_i$ 个浆果（$1 \\leq B_i \\leq 1000$）。Bessie 有 $K$ 个篮子（$1 \\leq K \\leq 1000$，$K$ 为偶数）。每个篮子里可以装同一棵树上采下的任意多个浆果，但是不能装来自于不同的树上的浆果，因为它们的口味可能不同。篮子里也可以不装浆果。\n\nBessie 想要使得她得到的浆果数量最大。但是，Farmer John 希望 Bessie 与她的妹妹一同分享，所以 Bessie 必须将浆果数量较多的 $K/2$ 个篮子给 Elsie。这表示 Elsie 很有可能最后比 Bessie 得到更多的浆果，这十分不公平，然而姐妹之间往往就是这样。\n\n帮助 Bessie 求出她最多可以得到的浆果数量。", "inputFormat": "输入的第一行包含空格分隔的整数 $N$ 和 $K$。\n\n第二行包含 $N$ 个空格分隔的整数 $B_1,B_2,\\ldots,B_N$。", "outputFormat": "输出一行答案。", "hint": "### 样例解释\n\n如果 Bessie 在\n\n- 一个篮子里装树 2 的 6 个浆果\n- 两个篮子里每个装树 3 的 4 个浆果\n- 一个篮子里装树 4 的 4 个浆果\n\n那么她能够得到两个各装有 4 个浆果的篮子，总共 8 个浆果。\n\n### 子任务\n\n- 测试点 $1 \\sim 4$ 满足 $K \\leq 10$。\n- 测试点 $5 \\sim 11$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Berry Picking S", "background": "", "description": "Bessie 和她的妹妹 Elsie 正在 Farmer John 的浆果园里采浆果。Farmer John 的浆果园里有 $N$ 棵浆果树（$1 \\leq N \\leq 1000$）；树 $i$ 上有 $B_i$ 个浆果（$1 \\leq B_i \\leq 1000$）。Bessie 有 $K$ 个篮子（$1 \\leq K \\leq 1000$，$K$ 为偶数）。每个篮子里可以装同一棵树上采下的任意多个浆果，但是不能装来自于不同的树上的浆果，因为它们的口味可能不同。篮子里也可以不装浆果。\n\nBessie 想要使得她得到的浆果数量最大。但是，Farmer John 希望 Bessie 与她的妹妹一同分享，所以 Bessie 必须将浆果数量较多的 $K/2$ 个篮子给 Elsie。这表示 Elsie 很有可能最后比 Bessie 得到更多的浆果，这十分不公平，然而姐妹之间往往就是这样。\n\n帮助 Bessie 求出她最多可以得到的浆果数量。", "inputFormat": "输入的第一行包含空格分隔的整数 $N$ 和 $K$。\n\n第二行包含 $N$ 个空格分隔的整数 $B_1,B_2,\\ldots,B_N$。", "outputFormat": "输出一行答案。", "hint": "### 样例解释\n\n如果 Bessie 在\n\n- 一个篮子里装树 2 的 6 个浆果\n- 两个篮子里每个装树 3 的 4 个浆果\n- 一个篮子里装树 4 的 4 个浆果\n\n那么她能够得到两个各装有 4 个浆果的篮子，总共 8 个浆果。\n\n### 子任务\n\n- 测试点 $1 \\sim 4$ 满足 $K \\leq 10$。\n- 测试点 $5 \\sim 11$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6003", "type": "P", "difficulty": 5, "samples": [["10 3 3", "2"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "二分", "USACO", "整除分块"], "title": "[USACO20JAN] Loan Repayment S", "background": "", "description": "Farmer John 欠了 Bessie $N$ 加仑牛奶（$1 \\leq N \\leq 10^{12}$）。他必须在 $K$ 天内将牛奶给 Bessie。但是，他不想将牛奶太早拿出手。另一方面，他不得不在还债上有所进展，所以他必须每天给 Bessie 至少 $M$ 加仑牛奶（$1 \\leq M \\leq 10^{12}$）。\n\n以下是 Farmer John 决定偿还 Bessie 的方式。首先他选择一个正整数 $X$。然后他每天都重复以下过程：\n\n1. 假设 Farmer John 已经给了 Bessie $G$ 加仑，计算 $\\frac{N-G}{X}$ 向下取整。令这个数为 $Y$。\n2. 如果 $Y$ 小于 $M$，令 $Y$ 等于 $M$。\n3. 给 Bessie $Y$ 加仑牛奶。\n\n求 $X$ 的最大值，使得 Farmer John 按照上述过程能够在 $K$ 天后给 Bessie 至少 $N$ 加仑牛奶 （$1 \\leq K \\leq 10^{12}$）。", "inputFormat": "输入仅有一行，包含三个空格分隔的正整数 $N,K,M$，满足 $K \\times M<N$。", "outputFormat": "输出最大的正整数 $X$，使得按照上述过程 Farmer John 会给 Bessie 至少 $N$ 加仑牛奶。", "hint": "### 样例解释\n\n在这个测试用例中，当 $X=2$ 时 Farmer John 第一天给 Bessie $5$ 加仑，后两天每天给 Bessie $M=3$ 加仑。\n\n### 子任务\n\n- 测试点 $2 \\sim 4$ 满足 $K \\leq 10^5$。\n- 测试点 $5 \\sim 11$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Loan Repayment S", "background": "", "description": "Farmer John 欠了 Bessie $N$ 加仑牛奶（$1 \\leq N \\leq 10^{12}$）。他必须在 $K$ 天内将牛奶给 Bessie。但是，他不想将牛奶太早拿出手。另一方面，他不得不在还债上有所进展，所以他必须每天给 Bessie 至少 $M$ 加仑牛奶（$1 \\leq M \\leq 10^{12}$）。\n\n以下是 Farmer John 决定偿还 Bessie 的方式。首先他选择一个正整数 $X$。然后他每天都重复以下过程：\n\n1. 假设 Farmer John 已经给了 Bessie $G$ 加仑，计算 $\\frac{N-G}{X}$ 向下取整。令这个数为 $Y$。\n2. 如果 $Y$ 小于 $M$，令 $Y$ 等于 $M$。\n3. 给 Bessie $Y$ 加仑牛奶。\n\n求 $X$ 的最大值，使得 Farmer John 按照上述过程能够在 $K$ 天后给 Bessie 至少 $N$ 加仑牛奶 （$1 \\leq K \\leq 10^{12}$）。", "inputFormat": "输入仅有一行，包含三个空格分隔的正整数 $N,K,M$，满足 $K \\times M<N$。", "outputFormat": "输出最大的正整数 $X$，使得按照上述过程 Farmer John 会给 Bessie 至少 $N$ 加仑牛奶。", "hint": "### 样例解释\n\n在这个测试用例中，当 $X=2$ 时 Farmer John 第一天给 Bessie $5$ 加仑，后两天每天给 Bessie $M=3$ 加仑。\n\n### 子任务\n\n- 测试点 $2 \\sim 4$ 满足 $K \\leq 10^5$。\n- 测试点 $5 \\sim 11$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6004", "type": "P", "difficulty": 4, "samples": [["4 4\n3 2 1 4\n1 2 9\n1 3 7\n2 3 10\n2 4 3", "9"], ["4 1\n1 2 3 4\n4 2 13", "-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "二分", "USACO", "并查集"], "title": "[USACO20JAN] Wormhole Sort S", "background": "", "description": "Farmer John 的奶牛们已经厌倦了他对她们每天早上排好序离开牛棚的要求。她们刚刚完成了量子物理学的博士学位，准备将这一过程搞快点。\n\n今天早上，如同往常一样，Farmer John 的 $N$ 头编号为 $1 \\ldots N$ 的奶牛（$1 \\leq N \\leq 10^5$），分散在牛棚中 $N$ 个编号为 $1 \\ldots N$ 的不同位置，奶牛 $i$ 位于位置 $p_i$。但是今天早上还出现了 $M$ 个编号为 $1 \\ldots M$ 的虫洞（$1 \\leq M \\leq 10^5$），其中虫洞 $i$ 双向连接了位置 $a_i$ 和 $b_i$，宽度为 $w_i$（$1\\le a_i,b_i\\le N, a_i\\neq b_i, 1\\le w_i\\le 10^9$）。\n\n在任何时刻，两头位于一个虫洞两端的奶牛可以选择通过虫洞交换位置。奶牛们需要反复进行这样的交换，直到对于 $1 \\leq i \\leq N$，奶牛 $i$ 位于位置 $i$。\n\n奶牛们不想被虫洞挤坏。帮助她们最大化被她们用来排序的虫洞宽度的最小值。保证奶牛们有可能排好序。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $M$。\n\n第二行包含 $N$ 个整数 $p_1,p_2,\\ldots ,p_N$。保证 $p$ 是 $1 \\ldots N$ 的一个排列。\n\n对于 $1$ 到 $M$ 之间的每一个 $i$，第 $i+2$ 行包含整数 $a_i,b_i,w_i$。", "outputFormat": "输出一个整数，为在排序过程中奶牛必须挤进的虫洞的最小宽度的最大值。如果奶牛们不需要用任何虫洞来排序，输出 $-1$。", "hint": "### 样例解释 1\n\n以下是一个仅用宽度至少为 9 的虫洞给奶牛排序的可能方案：\n\n- 奶牛 1 和奶牛 2 使用第三个虫洞交换位置。\n- 奶牛 1 和奶牛 3 使用第一个虫洞交换位置。\n- 奶牛 2 和奶牛 3 使用第三个虫洞交换位置。\n\n### 子任务\n\n- 测试点 $3 \\sim 5$ 满足 $N,M \\leq 1000$。\n- 测试点 $6 \\sim 10$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Wormhole Sort S", "background": "", "description": "Farmer John 的奶牛们已经厌倦了他对她们每天早上排好序离开牛棚的要求。她们刚刚完成了量子物理学的博士学位，准备将这一过程搞快点。\n\n今天早上，如同往常一样，Farmer John 的 $N$ 头编号为 $1 \\ldots N$ 的奶牛（$1 \\leq N \\leq 10^5$），分散在牛棚中 $N$ 个编号为 $1 \\ldots N$ 的不同位置，奶牛 $i$ 位于位置 $p_i$。但是今天早上还出现了 $M$ 个编号为 $1 \\ldots M$ 的虫洞（$1 \\leq M \\leq 10^5$），其中虫洞 $i$ 双向连接了位置 $a_i$ 和 $b_i$，宽度为 $w_i$（$1\\le a_i,b_i\\le N, a_i\\neq b_i, 1\\le w_i\\le 10^9$）。\n\n在任何时刻，两头位于一个虫洞两端的奶牛可以选择通过虫洞交换位置。奶牛们需要反复进行这样的交换，直到对于 $1 \\leq i \\leq N$，奶牛 $i$ 位于位置 $i$。\n\n奶牛们不想被虫洞挤坏。帮助她们最大化被她们用来排序的虫洞宽度的最小值。保证奶牛们有可能排好序。", "inputFormat": "输入的第一行包含两个整数 $N$ 和 $M$。\n\n第二行包含 $N$ 个整数 $p_1,p_2,\\ldots ,p_N$。保证 $p$ 是 $1 \\ldots N$ 的一个排列。\n\n对于 $1$ 到 $M$ 之间的每一个 $i$，第 $i+2$ 行包含整数 $a_i,b_i,w_i$。", "outputFormat": "输出一个整数，为在排序过程中奶牛必须挤进的虫洞的最小宽度的最大值。如果奶牛们不需要用任何虫洞来排序，输出 $-1$。", "hint": "### 样例解释 1\n\n以下是一个仅用宽度至少为 9 的虫洞给奶牛排序的可能方案：\n\n- 奶牛 1 和奶牛 2 使用第三个虫洞交换位置。\n- 奶牛 1 和奶牛 3 使用第一个虫洞交换位置。\n- 奶牛 2 和奶牛 3 使用第三个虫洞交换位置。\n\n### 子任务\n\n- 测试点 $3 \\sim 5$ 满足 $N,M \\leq 1000$。\n- 测试点 $6 \\sim 10$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6005", "type": "P", "difficulty": 4, "samples": [["3 3 1\n0 10 20\n1 2\n2 3\n3 1", "24"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020", "USACO", "最短路"], "title": "[USACO20JAN] Time is Mooney G", "background": "", "description": "Bessie 正在安排前往牛尼亚的一次出差，那里有 $N$（$2 \\leq N \\leq 1000$）个编号为 $1 \\ldots N$ 的城市，由 $M$（$1 \\leq M \\leq 2000$）条单向的道路连接。Bessie 每次访问城市 $i$ 都可以赚到 $m_i$ 哞尼（$0 \\leq m_i \\leq 1000$）。从城市 $1$ 出发，Bessie 想要赚到尽可能多的哞尼，最后回到城市 $1$。为了避免争议，$m_1=0$。\n\n沿着两个城市之间的道路移动需要消耗一天。出差的准备工作十分费钱；旅行 $T$ 天需要花费 $C \\times T^2$ 哞尼（$1 \\leq C \\leq 1000$）。\n\nBessie 在一次出差中最多可以赚到多少哞尼？注意有可能最优方案是 Bessie 不访问城市 $1$ 之外的任何城市，在这种情况下结果应当为 $0$。", "inputFormat": "输入的第一行包含三个整数 $N$、$M$ 和 $C$。\n\n第二行包含 $N$ 个整数 $m_1,m_2,\\ldots, m_N$。\n\n以下 $M$ 行每行包含两个空格分隔的整数 $a$ 和 $b$（$a \\neq b$），表示从城市 $a$ 到城市 $b$ 的一条单向道路。", "outputFormat": "输出一行，包含所求的答案。", "hint": "最优的旅行方案是 $1 \\to 2 \\to 3 \\to 1 \\to 2 \\to 3 \\to1$。Bessie 总共赚到了 $10+20+10+20-1 \\times 6^2=24$ 哞尼。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Time is Mooney G", "background": "", "description": "Bessie 正在安排前往牛尼亚的一次出差，那里有 $N$（$2 \\leq N \\leq 1000$）个编号为 $1 \\ldots N$ 的城市，由 $M$（$1 \\leq M \\leq 2000$）条单向的道路连接。Bessie 每次访问城市 $i$ 都可以赚到 $m_i$ 哞尼（$0 \\leq m_i \\leq 1000$）。从城市 $1$ 出发，Bessie 想要赚到尽可能多的哞尼，最后回到城市 $1$。为了避免争议，$m_1=0$。\n\n沿着两个城市之间的道路移动需要消耗一天。出差的准备工作十分费钱；旅行 $T$ 天需要花费 $C \\times T^2$ 哞尼（$1 \\leq C \\leq 1000$）。\n\nBessie 在一次出差中最多可以赚到多少哞尼？注意有可能最优方案是 Bessie 不访问城市 $1$ 之外的任何城市，在这种情况下结果应当为 $0$。", "inputFormat": "输入的第一行包含三个整数 $N$、$M$ 和 $C$。\n\n第二行包含 $N$ 个整数 $m_1,m_2,\\ldots, m_N$。\n\n以下 $M$ 行每行包含两个空格分隔的整数 $a$ 和 $b$（$a \\neq b$），表示从城市 $a$ 到城市 $b$ 的一条单向道路。", "outputFormat": "输出一行，包含所求的答案。", "hint": "最优的旅行方案是 $1 \\to 2 \\to 3 \\to 1 \\to 2 \\to 3 \\to1$。Bessie 总共赚到了 $10+20+10+20-1 \\times 6^2=24$ 哞尼。", "locale": "zh-CN"}}}
{"pid": "P6006", "type": "P", "difficulty": 5, "samples": [["7 3\n2 0 -1 1 -2 3 3\n1 5\n2 4\n1 7", "2\n1\n4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["2020", "USACO", "区间 DP", "前缀和"], "title": "[USACO20JAN] Farmer John Solves 3SUM G", "background": "", "description": "Farmer John 相信他在算法设计上实现了一个重大突破：他声称他发现了一个 3SUM 问题的近似线性时间算法，这是一个有名的算法问题，尚未发现比运行速度比平方时间明显更优的解法。3SUM 问题的一个形式是：给定一个整数数组 $s_1,\\ldots,s_m$，计算不同索引组成的无序不重三元对 $i,j,k$ 的数量，使得 $s_i+s_j+s_k=0$（$i, j, k$ 互不相同）。\n\n为了测试 Farmer John 的断言，Bessie 提供了一个 $N$ 个整数组成的数组 $A$（$1 \\leq N \\leq 5000$）。Bessie 还会进行 $Q$ 次询问（$1 \\leq Q \\leq 10^5$），每个询问由两个索引 $1 \\leq a_i \\leq b_i \\leq N$ 组成。对于每个询问，Farmer John 必须在子数组 $A[a_i \\ldots b_i]$ 上求解 3SUM 问题。\n\n不幸的是，Farmer John 刚刚发现了他的算法中的一个错误。他很自信他能修复这个算法，但同时，他请你帮他先通过 Bessie 的测试！", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $Q$。\n\n第二行包含空格分隔的数组 $A$ 的元素 $A_1,\\ldots ,A_N$。\n\n以下 $Q$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，表示一个询问。\n\n保证对于每个数组元素 $A_i$ 有 $-10^6 \\leq A_i \\leq 10^6$。", "outputFormat": "输出包含 $Q$ 行，第 $i$ 行包含一个整数，为第 $i$ 个询问的结果。**注意你需要使用 64 位整数型来避免溢出。**", "hint": "### 样例解释\n\n对于第一个询问，所有的三元对为 $(A_1,A_2,A_5)$ 和 $(A_2,A_3,A_4)$。\n\n### 子任务\n\n- 测试点 $2 \\sim 4$ 满足 $N \\leq 500$。\n- 测试点 $5 \\sim 7$ 满足 $N \\leq 2000$。\n- 测试点 $8 \\sim 15$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Farmer John Solves 3SUM G", "background": "", "description": "Farmer John 相信他在算法设计上实现了一个重大突破：他声称他发现了一个 3SUM 问题的近似线性时间算法，这是一个有名的算法问题，尚未发现比运行速度比平方时间明显更优的解法。3SUM 问题的一个形式是：给定一个整数数组 $s_1,\\ldots,s_m$，计算不同索引组成的无序不重三元对 $i,j,k$ 的数量，使得 $s_i+s_j+s_k=0$（$i, j, k$ 互不相同）。\n\n为了测试 Farmer John 的断言，Bessie 提供了一个 $N$ 个整数组成的数组 $A$（$1 \\leq N \\leq 5000$）。Bessie 还会进行 $Q$ 次询问（$1 \\leq Q \\leq 10^5$），每个询问由两个索引 $1 \\leq a_i \\leq b_i \\leq N$ 组成。对于每个询问，Farmer John 必须在子数组 $A[a_i \\ldots b_i]$ 上求解 3SUM 问题。\n\n不幸的是，Farmer John 刚刚发现了他的算法中的一个错误。他很自信他能修复这个算法，但同时，他请你帮他先通过 Bessie 的测试！", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $Q$。\n\n第二行包含空格分隔的数组 $A$ 的元素 $A_1,\\ldots ,A_N$。\n\n以下 $Q$ 行每行包含两个空格分隔的整数 $a_i$ 和 $b_i$，表示一个询问。\n\n保证对于每个数组元素 $A_i$ 有 $-10^6 \\leq A_i \\leq 10^6$。", "outputFormat": "输出包含 $Q$ 行，第 $i$ 行包含一个整数，为第 $i$ 个询问的结果。**注意你需要使用 64 位整数型来避免溢出。**", "hint": "### 样例解释\n\n对于第一个询问，所有的三元对为 $(A_1,A_2,A_5)$ 和 $(A_2,A_3,A_4)$。\n\n### 子任务\n\n- 测试点 $2 \\sim 4$ 满足 $N \\leq 500$。\n- 测试点 $5 \\sim 7$ 满足 $N \\leq 2000$。\n- 测试点 $8 \\sim 15$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6007", "type": "P", "difficulty": 5, "samples": [["3 2\n0 1 0 2\n1 2 2 3", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020", "USACO", "树状数组", "动态规划优化"], "title": "[USACO20JAN] Springboards G", "background": "", "description": "Bessie 在一个仅允许沿平行于坐标轴方向移动的二维方阵中。她从点 $(0,0)$ 出发，想要到达 $(N,N)$（$1 \\leq N \\leq 10^9$）。为了帮助她达到目的，在方阵中有 $P$（$1 \\leq P \\leq 10^5$）个跳板。每个跳板都有其固定的位置 $(x_1,y_1)$，如果 Bessie 使用它，会落到点 $(x_2,y_2)$。\n\nBessie 是一个过程导向的奶牛，所以她仅允许她自己向上或向右行走，从不向左或向下。类似地，每个跳板也设置为不向左或向下。Bessie 需要行走的距离至少是多少？", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $P$。\n\n以下 $P$ 行每行包含四个整数 $x_1,y_1,x_2,y_2$，其中 $x_1 \\leq x_2$ 且 $y_1 \\leq y_2$。\n\n所有跳板的位置和目标位置均不相同。", "outputFormat": "输出一个整数，为 Bessie 到达点 $(N,N)$ 需要行走的最小距离。", "hint": "### 样例解释\n\nBessie 的最佳路线为：\n\n- Bessie 从 (0,0) 走到 (0,1)（1 单位距离）。\n- Bessie 跳到 (0,2)。\n- Bessie 从 (0,2) 走到 (1,2)（1 单位距离）。\n- Bessie 跳到 (2,3)。\n- Bessie 从 (2,3) 走到 (3,3)（1 单位距离）。\n\nBessie 总共走过的路程为 3 单位距离。\n\n### 子任务\n\n- 测试点 $2 \\sim 5$ 满足 $P \\leq 1000$。\n- 测试点 $6 \\sim 15$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Springboards G", "background": "", "description": "Bessie 在一个仅允许沿平行于坐标轴方向移动的二维方阵中。她从点 $(0,0)$ 出发，想要到达 $(N,N)$（$1 \\leq N \\leq 10^9$）。为了帮助她达到目的，在方阵中有 $P$（$1 \\leq P \\leq 10^5$）个跳板。每个跳板都有其固定的位置 $(x_1,y_1)$，如果 Bessie 使用它，会落到点 $(x_2,y_2)$。\n\nBessie 是一个过程导向的奶牛，所以她仅允许她自己向上或向右行走，从不向左或向下。类似地，每个跳板也设置为不向左或向下。Bessie 需要行走的距离至少是多少？", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $P$。\n\n以下 $P$ 行每行包含四个整数 $x_1,y_1,x_2,y_2$，其中 $x_1 \\leq x_2$ 且 $y_1 \\leq y_2$。\n\n所有跳板的位置和目标位置均不相同。", "outputFormat": "输出一个整数，为 Bessie 到达点 $(N,N)$ 需要行走的最小距离。", "hint": "### 样例解释\n\nBessie 的最佳路线为：\n\n- Bessie 从 (0,0) 走到 (0,1)（1 单位距离）。\n- Bessie 跳到 (0,2)。\n- Bessie 从 (0,2) 走到 (1,2)（1 单位距离）。\n- Bessie 跳到 (2,3)。\n- Bessie 从 (2,3) 走到 (3,3)（1 单位距离）。\n\nBessie 总共走过的路程为 3 单位距离。\n\n### 子任务\n\n- 测试点 $2 \\sim 5$ 满足 $P \\leq 1000$。\n- 测试点 $6 \\sim 15$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6008", "type": "P", "difficulty": 5, "samples": [["4 9\n#########\n#...#...#\n#.#...#.#\n#########", "9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020", "USACO", "并查集"], "title": "[USACO20JAN] Cave Paintings P", "background": "", "description": "Bessie 成为了一名艺术家，正在创作壁画！她现在正在创作的作品是一个高为 $N$ 的方阵，方阵的每行都由 $M$ 个方格组成（$1\\le N,M\\le 1000$）。每个方格是空的，画了石头，或者画了水。Bessie 已经画上了包含石头的方格，包括整幅画作的边界。她现在想要将某些空的方格画上水，使得如果这幅画是真实的，其中应当不存在水的净移动。定义从上到下第 $i$ 行的方格的高度为 $N+1-i$。Bessie 想要她的画作满足以下限制：\n\n假设方格 $a$ 画的是水。那么如果存在一条从 $a$ 到方格 $b$ 的路径，由高度不超过 $a$ 的空的方格或是有水的方格组成，路径中每相邻两个方格都有一条公共边，那么 $b$ 画的也是水。\n\n求 Bessie 可以创作的不同作品的数量模 $10^9+7$ 的余数。Bessie 可以将任意数量的空格画上水，包括不画以及全画。", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $M$。\n\n以下 $N$ 行每行包含 $M$ 个字符。每个字符均为 `.` 或 `#`，分别表示一个空的方格和一个画有石头的方格。第一行和最后一行、第一列和最后一列仅包含 `#`。", "outputFormat": "输出一个整数，为满足限制的作品的数量模 $10^9+7$ 的余数。", "hint": "### 样例解释\n\n如果第二行中的任意一个方格被画上水，那么所有空的方格必须都被画上水。否则，假设没有这样的方格画有水。那么 Bessie 可以选择画上第三行的空格组成的三个连续区域的任意子集。所以，画作的总数等于 $1+2^3=9$。\n\n### 子任务\n\n- 测试点 $1 \\sim 5$ 满足 $N,M \\leq 10$。\n- 测试点 $ 6 \\sim 15$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Cave Paintings P", "background": "", "description": "Bessie 成为了一名艺术家，正在创作壁画！她现在正在创作的作品是一个高为 $N$ 的方阵，方阵的每行都由 $M$ 个方格组成（$1\\le N,M\\le 1000$）。每个方格是空的，画了石头，或者画了水。Bessie 已经画上了包含石头的方格，包括整幅画作的边界。她现在想要将某些空的方格画上水，使得如果这幅画是真实的，其中应当不存在水的净移动。定义从上到下第 $i$ 行的方格的高度为 $N+1-i$。Bessie 想要她的画作满足以下限制：\n\n假设方格 $a$ 画的是水。那么如果存在一条从 $a$ 到方格 $b$ 的路径，由高度不超过 $a$ 的空的方格或是有水的方格组成，路径中每相邻两个方格都有一条公共边，那么 $b$ 画的也是水。\n\n求 Bessie 可以创作的不同作品的数量模 $10^9+7$ 的余数。Bessie 可以将任意数量的空格画上水，包括不画以及全画。", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $M$。\n\n以下 $N$ 行每行包含 $M$ 个字符。每个字符均为 `.` 或 `#`，分别表示一个空的方格和一个画有石头的方格。第一行和最后一行、第一列和最后一列仅包含 `#`。", "outputFormat": "输出一个整数，为满足限制的作品的数量模 $10^9+7$ 的余数。", "hint": "### 样例解释\n\n如果第二行中的任意一个方格被画上水，那么所有空的方格必须都被画上水。否则，假设没有这样的方格画有水。那么 Bessie 可以选择画上第三行的空格组成的三个连续区域的任意子集。所以，画作的总数等于 $1+2^3=9$。\n\n### 子任务\n\n- 测试点 $1 \\sim 5$ 满足 $N,M \\leq 10$。\n- 测试点 $ 6 \\sim 15$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6009", "type": "P", "difficulty": 6, "samples": [["5 2\n1 2 1 1 2\n3\n2 3\n4 5\n1 5", "3\n4\n20"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["动态规划 DP", "2020", "USACO", "矩阵运算", "分治"], "title": "[USACO20JAN] Non-Decreasing Subsequences P", "background": "", "description": "Bessie 最近参加了一场 USACO 竞赛，遇到了以下问题。当然 Bessie 知道怎么做。那你呢？\n\n考虑一个仅由范围在 $1 \\ldots K$（$1 \\leq K \\leq 20$）之间的整数组成的长为 $N$ 的序列 $A_1,A_2, \\ldots ,A_N$（$1 \\leq N \\leq 5 \\times 10^4$）。给定 $Q$（ $1 \\leq Q \\leq 2 \\times 10^5$ ）个形式为 $[L_i,R_i]$（$1 \\leq L_i \\leq R_i \\leq N$）的询问。对于每个询问，计算 $A_{L_i},A_{L_i+1}, \\ldots ,A_{R_i}$ 中不下降子序列的数量模 $10^9+7$ 的余数。\n\n$A_L,\\ldots ,A_R$ 的一个不下降子序列是一组索引 （$j_1,j_2, \\ldots ,j_x$），满足 $L\\le j_1<j_2<\\ldots<j_x\\le R$ 以及 $A_{j_1}\\le A_{j_2}\\le \\ldots \\le A_{j_x}$。确保你考虑了空子序列！", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $K$。\n\n第二行包含 $N$ 个空格分隔的整数 $A_1,A_2, \\ldots ,A_N$。\n\n第三行包含一个整数 $Q$。\n\n以下 $Q$ 行每行包含两个空格分隔的整数 $L_i$ 和 $R_i$。", "outputFormat": "对于每个询问 $[L_i,R_i]$，你应当在新的一行内输出 $A_{L_i},A_{L_i+1},\\ldots, A_{R_i}$ 的不下降子序列的数量模 $10^9+7$ 的余数。", "hint": "### 样例解释\n\n对于第一个询问，不下降子序列为 $()$、$(2)$ 和 $(3)$。$(2,3)$ 不是一个不下降子序列，因为 $A_2\\not \\le A_3$。\n\n对于第二个询问，不下降子序列为 $()$、$(4)$、$(5)$ 和 $(4,5)$。\n\n### 子任务\n\n- 测试点 $2 \\sim 3$ 满足 $N \\leq 1000$。\n- 测试点 $4 \\sim 6$ 满足 $K \\leq 5$。\n- 测试点 $7 \\sim 9$ 满足 $Q \\leq 10^5$。\n- 测试点 $10 \\sim 12$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Non-Decreasing Subsequences P", "background": "", "description": "Bessie 最近参加了一场 USACO 竞赛，遇到了以下问题。当然 Bessie 知道怎么做。那你呢？\n\n考虑一个仅由范围在 $1 \\ldots K$（$1 \\leq K \\leq 20$）之间的整数组成的长为 $N$ 的序列 $A_1,A_2, \\ldots ,A_N$（$1 \\leq N \\leq 5 \\times 10^4$）。给定 $Q$（ $1 \\leq Q \\leq 2 \\times 10^5$ ）个形式为 $[L_i,R_i]$（$1 \\leq L_i \\leq R_i \\leq N$）的询问。对于每个询问，计算 $A_{L_i},A_{L_i+1}, \\ldots ,A_{R_i}$ 中不下降子序列的数量模 $10^9+7$ 的余数。\n\n$A_L,\\ldots ,A_R$ 的一个不下降子序列是一组索引 （$j_1,j_2, \\ldots ,j_x$），满足 $L\\le j_1<j_2<\\ldots<j_x\\le R$ 以及 $A_{j_1}\\le A_{j_2}\\le \\ldots \\le A_{j_x}$。确保你考虑了空子序列！", "inputFormat": "输入的第一行包含两个空格分隔的整数 $N$ 和 $K$。\n\n第二行包含 $N$ 个空格分隔的整数 $A_1,A_2, \\ldots ,A_N$。\n\n第三行包含一个整数 $Q$。\n\n以下 $Q$ 行每行包含两个空格分隔的整数 $L_i$ 和 $R_i$。", "outputFormat": "对于每个询问 $[L_i,R_i]$，你应当在新的一行内输出 $A_{L_i},A_{L_i+1},\\ldots, A_{R_i}$ 的不下降子序列的数量模 $10^9+7$ 的余数。", "hint": "### 样例解释\n\n对于第一个询问，不下降子序列为 $()$、$(2)$ 和 $(3)$。$(2,3)$ 不是一个不下降子序列，因为 $A_2\\not \\le A_3$。\n\n对于第二个询问，不下降子序列为 $()$、$(4)$、$(5)$ 和 $(4,5)$。\n\n### 子任务\n\n- 测试点 $2 \\sim 3$ 满足 $N \\leq 1000$。\n- 测试点 $4 \\sim 6$ 满足 $K \\leq 5$。\n- 测试点 $7 \\sim 9$ 满足 $Q \\leq 10^5$。\n- 测试点 $10 \\sim 12$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6010", "type": "P", "difficulty": 6, "samples": [["4\n3 5 10 2\n3 3 2 1", "7/2\n7/2\n5/1\n-1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["贪心", "2020", "倍增", "二分", "USACO", "凸包"], "title": "[USACO20JAN] Falling Portals P", "background": "", "description": "有 $N$（$2 \\leq N \\leq 2 \\times 10^5$）个世界，每个世界有一个传送门。初始时，世界 $i$（对于 $1 \\leq i \\leq N$）位于 $x$ 坐标 $i$，$y$ 坐标 $A_i$（$1 \\leq A_i \\leq 10^9$）。每个世界里还有一头奶牛。在时刻 $0$，所有的 $y$ 坐标各不相同，然后这些世界开始坠落：世界 $i$ 沿着 $y$ 轴负方向以 $i$ 单位每秒的速度移动。\n\n在任意时刻，如果两个世界在某一时刻 $y$ 坐标相同（可能是非整数时刻），传送门之间就会“同步”，使得其中一个世界的奶牛可以选择瞬间传送到另一个世界。\n\n对于每一个 $i$，在世界 $i$ 的奶牛想要去往世界 $Q_i$（$Q_i \\neq i$）。帮助每头奶牛求出如果她以最优方案移动需要多少时间。\n\n每个询问的输出是一个分数 $a/b$，其中 $a$ 和 $b$ 为互质的正整数，或者 $-1$，如果不可能到达。", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n下一行包含 $N$ 个空格分隔的整数 $A_1,A_2,\\ldots,A_N$。\n\n下一行包含 $N$ 个空格分隔的整数 $Q_1,Q_2,\\ldots,Q_N$。", "outputFormat": "输出 $N$ 行，第 $i$ 行包含奶牛 $i$ 的旅程的时间。", "hint": "### 样例解释\n\n考虑原先在世界 $2$ 的奶牛的答案。在时刻 $2$ 世界 $1$ 和世界 $2$ 同步，所以奶牛可以前往世界 $1$。在时刻 $\\frac{7}{2}$ 世界 $1$ 和世界 $3$ 同步，所以奶牛可以前往世界 $3$。\n\n### 子任务\n\n- 测试点 $2 \\sim 3$ 满足 $N \\leq 100$。\n- 测试点 $4 \\sim 5$ 满足 $N \\leq 2000$。\n- 测试点 $6 \\sim 14$ 没有额外限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[USACO20JAN] Falling Portals P", "background": "", "description": "有 $N$（$2 \\leq N \\leq 2 \\times 10^5$）个世界，每个世界有一个传送门。初始时，世界 $i$（对于 $1 \\leq i \\leq N$）位于 $x$ 坐标 $i$，$y$ 坐标 $A_i$（$1 \\leq A_i \\leq 10^9$）。每个世界里还有一头奶牛。在时刻 $0$，所有的 $y$ 坐标各不相同，然后这些世界开始坠落：世界 $i$ 沿着 $y$ 轴负方向以 $i$ 单位每秒的速度移动。\n\n在任意时刻，如果两个世界在某一时刻 $y$ 坐标相同（可能是非整数时刻），传送门之间就会“同步”，使得其中一个世界的奶牛可以选择瞬间传送到另一个世界。\n\n对于每一个 $i$，在世界 $i$ 的奶牛想要去往世界 $Q_i$（$Q_i \\neq i$）。帮助每头奶牛求出如果她以最优方案移动需要多少时间。\n\n每个询问的输出是一个分数 $a/b$，其中 $a$ 和 $b$ 为互质的正整数，或者 $-1$，如果不可能到达。", "inputFormat": "输入的第一行包含一个整数 $N$。\n\n下一行包含 $N$ 个空格分隔的整数 $A_1,A_2,\\ldots,A_N$。\n\n下一行包含 $N$ 个空格分隔的整数 $Q_1,Q_2,\\ldots,Q_N$。", "outputFormat": "输出 $N$ 行，第 $i$ 行包含奶牛 $i$ 的旅程的时间。", "hint": "### 样例解释\n\n考虑原先在世界 $2$ 的奶牛的答案。在时刻 $2$ 世界 $1$ 和世界 $2$ 同步，所以奶牛可以前往世界 $1$。在时刻 $\\frac{7}{2}$ 世界 $1$ 和世界 $3$ 同步，所以奶牛可以前往世界 $3$。\n\n### 子任务\n\n- 测试点 $2 \\sim 3$ 满足 $N \\leq 100$。\n- 测试点 $4 \\sim 5$ 满足 $N \\leq 2000$。\n- 测试点 $6 \\sim 14$ 没有额外限制。", "locale": "zh-CN"}}}
{"pid": "P6011", "type": "P", "difficulty": 5, "samples": [["10 4\n1 5 2 6 7 4 9 3 1 5\n2 2 8\n1 3\n1 6\n2 2 8", "2 9\n1 7"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2006", "四川", "各省省选"], "title": "[SCOI2006] 动态最值", "background": "", "description": "有一个包含 $n$ 个元素的数组，要求实现以下操作：\n\n- `DELETE k`：删除位置 $k$ 上的数。右边的数往左移一个位置。\n- `QUERY i j`：查询位置 $i\\sim j$ 上所有数的最小值和最大值。\n\n例如有 $10$ 个元素：\n\n| 位置 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $\t10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | \n| 元素 | $1$ | $5$ | $2$ | $6$ | $7$ | $4$ | $9$ | $3$ | $1$ | $5$ |\n\n`QUERY 2 8` 的结果为 `2 9`。依次执行 `DELETE 3` 和 `DELETE 6`（注意这时删除的是原始数组的元素 $7$）后数组变为：\n\n| 位置 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | \n| 元素 | $1$ | $5$ | $6$ | $7$ | $4$ | $3$ | $1$ | $5$ |\n\n`QUERY 2 8` 的结果为 `1 7`。\n", "inputFormat": "第一行包含两个数 $n,m$，表示原始数组的元素个数和操作的个数。  \n第二行包括 $n$ 个数，表示原始数组。  \n以下 $m$ 行，每行格式为 `1 k` 或者 `2 i j`，其中第一个数为 $1$ 表示删除操作，为 $2$ 表示询问操作。", "outputFormat": "对每个询问操作输出一行，包括两个数，表示该范围内的最小值和最大值。", "hint": "对于 $50\\%$ 的数据，$1 \\le n, m \\le {10}^4$，删除操作不超过 $100$ 个。  \n对于 $100\\%$ 的数据，$1 \\le n, m \\le {10}^6$，数组中的元素绝对值均不超过 ${10}^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[SCOI2006] 动态最值", "background": "", "description": "有一个包含 $n$ 个元素的数组，要求实现以下操作：\n\n- `DELETE k`：删除位置 $k$ 上的数。右边的数往左移一个位置。\n- `QUERY i j`：查询位置 $i\\sim j$ 上所有数的最小值和最大值。\n\n例如有 $10$ 个元素：\n\n| 位置 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $\t10$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | \n| 元素 | $1$ | $5$ | $2$ | $6$ | $7$ | $4$ | $9$ | $3$ | $1$ | $5$ |\n\n`QUERY 2 8` 的结果为 `2 9`。依次执行 `DELETE 3` 和 `DELETE 6`（注意这时删除的是原始数组的元素 $7$）后数组变为：\n\n| 位置 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ |\n| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | \n| 元素 | $1$ | $5$ | $6$ | $7$ | $4$ | $3$ | $1$ | $5$ |\n\n`QUERY 2 8` 的结果为 `1 7`。\n", "inputFormat": "第一行包含两个数 $n,m$，表示原始数组的元素个数和操作的个数。  \n第二行包括 $n$ 个数，表示原始数组。  \n以下 $m$ 行，每行格式为 `1 k` 或者 `2 i j`，其中第一个数为 $1$ 表示删除操作，为 $2$ 表示询问操作。", "outputFormat": "对每个询问操作输出一行，包括两个数，表示该范围内的最小值和最大值。", "hint": "对于 $50\\%$ 的数据，$1 \\le n, m \\le {10}^4$，删除操作不超过 $100$ 个。  \n对于 $100\\%$ 的数据，$1 \\le n, m \\le {10}^6$，数组中的元素绝对值均不超过 ${10}^9$。", "locale": "zh-CN"}}}
{"pid": "P6012", "type": "P", "difficulty": 6, "samples": [["3 3\n1 1 1", "1"], ["4 3\n1 1 1 2", "7"], ["10 7\n11 45 14 19 19 8 10 8 17 23", "693404716"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学", "快速傅里叶变换 FFT"], "title": "[P5087] 数学 加强版", "background": "[原题链接](https://www.luogu.com.cn/problem/P5087)", "description": "小奔热衷于乘法，他最喜欢做的事情是：从一个有 $n$ 个元素的可重集中选出 $k$ 个数，并把这 $k$ 个数的乘积作为这个组合的分数。\n\n小奔想试遍所有的这些组合，然后算出所有这些组合的分数之和。但是他还要出模拟赛虐爆我们这些蒟蒻，所以他只好把这个任务交给了你。\n\n作为不良心的出题人，这题你还要将答案对 $10^9 + 7$ 取模。\n", "inputFormat": "第一行两个正整数 $n,k$。  \n第二行 $n$ 个正整数 $a_i$，表示可重集中的元素。", "outputFormat": "输出一行一个整数表示答案。", "hint": "【样例二解释】  \n有四种选择方案，一种是 $\\{1,1,1\\}$ 和三种都是 $\\{1,1,2\\}$，分数之和为 $7$。\n\n【数据范围】  \n对于 $100\\%$ 的数据，$1\\le k \\le n \\le 1.2\\times 10^5$，$1\\le a_i \\le 10^8$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[P5087] 数学 加强版", "background": "[原题链接](https://www.luogu.com.cn/problem/P5087)", "description": "小奔热衷于乘法，他最喜欢做的事情是：从一个有 $n$ 个元素的可重集中选出 $k$ 个数，并把这 $k$ 个数的乘积作为这个组合的分数。\n\n小奔想试遍所有的这些组合，然后算出所有这些组合的分数之和。但是他还要出模拟赛虐爆我们这些蒟蒻，所以他只好把这个任务交给了你。\n\n作为不良心的出题人，这题你还要将答案对 $10^9 + 7$ 取模。\n", "inputFormat": "第一行两个正整数 $n,k$。  \n第二行 $n$ 个正整数 $a_i$，表示可重集中的元素。", "outputFormat": "输出一行一个整数表示答案。", "hint": "【样例二解释】  \n有四种选择方案，一种是 $\\{1,1,1\\}$ 和三种都是 $\\{1,1,2\\}$，分数之和为 $7$。\n\n【数据范围】  \n对于 $100\\%$ 的数据，$1\\le k \\le n \\le 1.2\\times 10^5$，$1\\le a_i \\le 10^8$。", "locale": "zh-CN"}}}
{"pid": "P6013", "type": "P", "difficulty": 2, "samples": [["3\n1 10\n2 20\n2 10", "1"], ["5\n1 10\n3 5 5\n2 10\n1 10\n2 20", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷月赛"], "title": "[CSGRound3] 压岁钱", "background": "祝大家庚子鼠年快乐！Best wishes! \n\n也愿肺炎早日得到控制吧，中国加油！\n\n新年到了，小 Z 总是能收到很多的压岁钱。\n\n小 Z 是个非常喜欢氪金的玩家，所以时不时都会把压岁钱花掉一部分用来买皮肤和石头。\n\n但是小 Z 又十分担心压岁钱没过几天就都被自己花完了。为此，小 Z 有封印大法，能够暂时的把自己的一部分钱封印起来（即无法花费），直到某一天解除封印后才能使用。", "description": "一共存在有 $m$ 个事件，且事件分为以下的 $3$ 种类型。\n\n1. 小 Z 得到了 $a$ 元压岁钱。\n2. 小 Z 花掉了 $a$ 元压岁钱用于买皮肤。\n3. 小 Z 把自己的 $a$ 元钱封印了起来，只有当第 $b$ 个事件发生前 $1$ 秒才会解除封印，并保证每次小 Z 现有的钱大于等于封印的钱。\n\n当小 Z 的钱在某个事件不够花时，小 Z 会感到不开心，同时钱不够花时小 Z 便不会花钱。\n\n请告诉小 Z ，他的钱在几个事件中会不够花。", "inputFormat": "第一行一个整数 $m$，用于表示事件发生的总数。\n\n接下来的 $m$ 行，首先一个整数 $t$，表示事件的类型。\n\n如果 $t=1$ 或 $t=2$，则接下来一个整数 $a$。\n\n如果 $t=3$，则接下来两个整数 $a,b$。", "outputFormat": "一行一个整数，表示**钱不够花**的事件数。", "hint": "**【样例 1 解释】**\n\n第一天：收入 $10$ 元，余额 $10$ 元。\n\n第二天：不够支出 $20$ 元，余额 $10$ 元。\n\n第三天：支出 $10$ 元，余额 $0$ 元。\n\n总计：$1$ 天。\n\n**【样例 2 解释】**\n\n第一天：收入 $10$ 元，余额 $10$ 元。\n\n第二天：封印 $5$ 元，余额 $5$ 元。\n\n第三天：不够支出 $10$ 元，余额 $5$ 元。\n\n第四天：收入 $10$ 元，余额 $15$ 元。\n\n第五天：封印解开，支出 $20$ 元，余额 $0$ 元。\n\n总计：$1$ 天。\n\n---\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，满足 $m,a \\leq 5\\times 10^3$。\n\n对于 $70\\%$ 的数据，$t \\ne 3$。\n\n对于 $100\\%$ 的数据，满足 $ 1 \\leq b \\le m \\leq 10^6$，$1 \\le t \\le 3$，$1 \\leq a \\leq 10^7$。", "locale": "zh-CN", "translations": {"en": {"title": "[CSGRound3] Lucky Money", "background": "Wishing everyone a happy Year of the Rat in the Gengzi year! Best wishes!\n\nMay the pneumonia outbreak be brought under control as soon as possible. Stay strong, China!\n\nWhen the New Year comes, Xiao Z can always receive a lot of lucky money.\n\nXiao Z is a player who really likes spending money in games, so from time to time he will spend part of his lucky money to buy skins and gems.\n\nBut Xiao Z is also very worried that he will spend all his lucky money in just a few days. To deal with this, Xiao Z has a sealing technique that can temporarily seal away part of his money (meaning it cannot be spent). It can only be used after the seal is lifted on some day.", "description": "There are $m$ events in total, and the events are divided into the following $3$ types.\n\n1. Xiao Z receives $a$ yuan of lucky money.\n2. Xiao Z spends $a$ yuan of lucky money to buy skins.\n3. Xiao Z seals $a$ yuan of his money. The seal will be lifted $1$ second before event $b$ happens. It is guaranteed that each time, the money Xiao Z currently has is greater than or equal to the amount being sealed.\n\nIf Xiao Z does not have enough money to spend on some event, Xiao Z will feel unhappy. At the same time, when he does not have enough money, Xiao Z will not spend the money.\n\nPlease tell Xiao Z in how many events he will not have enough money to spend.", "inputFormat": "The first line contains an integer $m$, which indicates the total number of events.\n\nThe next $m$ lines each start with an integer $t$, indicating the type of the event.\n\nIf $t=1$ or $t=2$, then it is followed by an integer $a$.\n\nIf $t=3$, then it is followed by two integers $a,b$.", "outputFormat": "Output one line with one integer, indicating the number of events in which **there is not enough money to spend**.", "hint": "**[Sample 1 Explanation]**\n\nDay 1: Income $10$ yuan, balance $10$ yuan.\n\nDay 2: Not enough to spend $20$ yuan, balance $10$ yuan.\n\nDay 3: Spend $10$ yuan, balance $0$ yuan.\n\nTotal: $1$ day.\n\n**[Sample 2 Explanation]**\n\nDay 1: Income $10$ yuan, balance $10$ yuan.\n\nDay 2: Seal $5$ yuan, balance $5$ yuan.\n\nDay 3: Not enough to spend $10$ yuan, balance $5$ yuan.\n\nDay 4: Income $10$ yuan, balance $15$ yuan.\n\nDay 5: The seal is lifted, spend $20$ yuan, balance $0$ yuan.\n\nTotal: $1$ day.\n\n---\n\n**[Constraints]**\n\nFor $50\\%$ of the testdata, $m,a \\leq 5\\times 10^3$.\n\nFor $70\\%$ of the testdata, $t \\ne 3$.\n\nFor $100\\%$ of the testdata, $ 1 \\leq b \\le m \\leq 10^6$, $1 \\le t \\le 3$, $1 \\leq a \\leq 10^7$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CSGRound3] 压岁钱", "background": "祝大家庚子鼠年快乐！Best wishes! \n\n也愿肺炎早日得到控制吧，中国加油！\n\n新年到了，小 Z 总是能收到很多的压岁钱。\n\n小 Z 是个非常喜欢氪金的玩家，所以时不时都会把压岁钱花掉一部分用来买皮肤和石头。\n\n但是小 Z 又十分担心压岁钱没过几天就都被自己花完了。为此，小 Z 有封印大法，能够暂时的把自己的一部分钱封印起来（即无法花费），直到某一天解除封印后才能使用。", "description": "一共存在有 $m$ 个事件，且事件分为以下的 $3$ 种类型。\n\n1. 小 Z 得到了 $a$ 元压岁钱。\n2. 小 Z 花掉了 $a$ 元压岁钱用于买皮肤。\n3. 小 Z 把自己的 $a$ 元钱封印了起来，只有当第 $b$ 个事件发生前 $1$ 秒才会解除封印，并保证每次小 Z 现有的钱大于等于封印的钱。\n\n当小 Z 的钱在某个事件不够花时，小 Z 会感到不开心，同时钱不够花时小 Z 便不会花钱。\n\n请告诉小 Z ，他的钱在几个事件中会不够花。", "inputFormat": "第一行一个整数 $m$，用于表示事件发生的总数。\n\n接下来的 $m$ 行，首先一个整数 $t$，表示事件的类型。\n\n如果 $t=1$ 或 $t=2$，则接下来一个整数 $a$。\n\n如果 $t=3$，则接下来两个整数 $a,b$。", "outputFormat": "一行一个整数，表示**钱不够花**的事件数。", "hint": "**【样例 1 解释】**\n\n第一天：收入 $10$ 元，余额 $10$ 元。\n\n第二天：不够支出 $20$ 元，余额 $10$ 元。\n\n第三天：支出 $10$ 元，余额 $0$ 元。\n\n总计：$1$ 天。\n\n**【样例 2 解释】**\n\n第一天：收入 $10$ 元，余额 $10$ 元。\n\n第二天：封印 $5$ 元，余额 $5$ 元。\n\n第三天：不够支出 $10$ 元，余额 $5$ 元。\n\n第四天：收入 $10$ 元，余额 $15$ 元。\n\n第五天：封印解开，支出 $20$ 元，余额 $0$ 元。\n\n总计：$1$ 天。\n\n---\n\n**【数据范围】**\n\n对于 $50\\%$ 的数据，满足 $m,a \\leq 5\\times 10^3$。\n\n对于 $70\\%$ 的数据，$t \\ne 3$。\n\n对于 $100\\%$ 的数据，满足 $ 1 \\leq b \\le m \\leq 10^6$，$1 \\le t \\le 3$，$1 \\leq a \\leq 10^7$。", "locale": "zh-CN"}}}
{"pid": "P6014", "type": "P", "difficulty": 3, "samples": [["5\n10 10 10 2 3", "5"], ["5\n3 4 5 6 7", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "贪心", "洛谷月赛"], "title": "[CSGRound3] 斗牛", "background": "又是一年过去了。小 Z 在春节期间可以好好的放松放松，于是小 Z 和小伙伴们玩起了牛哄哄（斗牛）。\n\n游戏规则是这样的：\n\n给定 $5$ 张牌，分别从 $1 \\sim 10$。你需要挑选其中的三张牌加起来是 $10$ 的倍数，另外两张牌的和的个位数则为你最后获得的点数，特别的，如果这两张牌的和是 $10$ 的倍数，则点数为 $10$，也叫做牛哄哄。如果不能构成 $10$ 的倍数，则点数为 $0$，也叫做牛不拢。\n\n如 $5$ $3$ $2$ $3$ $4$ 的点数是 $7$，又叫做牛七。\n\n小 Z 觉得玩的不过瘾，于是对上述规则进行了一些改变。", "description": "给定 $n$ 张牌，牌的大小为 $1 \\sim 10$。你需要挑选其中的 $n-2$ 张牌加起来是 $10$ 的倍数，另外两张牌和的个位数即为你所获得的点数。特别地，如果这两张牌的和是 $10$ 的倍数，则点数为 $10$，也叫做牛哄哄。如果任意 $n-2$ 张牌不能构成 $10$ 的倍数，则点数为 $0$，也叫做牛不拢。\n\n由于小 Z 想要更开心的玩耍，所以需要你来完成这个程序来帮助小 Z 在 $1$ 秒内知道点数。", "inputFormat": "第一行一个整数 $n$，表示一共有 $n$ 张牌。\n\n第二行 $n$ 个整数，表示这 $n$ 张牌的大小。", "outputFormat": "一行一个整数，表示这局牌的点数，点数的范围是 $0 \\sim 10$。", "hint": "**【样例 1 解释】**\n\n$10$ $10$ $10$ 三张牌凑成 $10$ 的倍数，$2+3=5$。\n\n**【样例 2 解释】**\n\n任意三张牌都不能凑成 $10$ 的倍数。\n\n---\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（50 points）：$n = 5$。\n- Subtask 2（30 points）：$n \\le 5 \\times 10^3$。\n- Subtask 3（20 points）：无特殊限制。\n\n对于 $100\\%$ 的数据，$5 \\le n \\le 10^6$。\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[CSGRound3] Bullfighting", "background": "Another year has passed. During the Spring Festival, Little Z can relax well, so Little Z and friends started playing “Niu Honghong” (Bullfighting).\n\nThe rules are as follows:\n\nGiven $5$ cards, each with a value from $1 \\sim 10$. You need to choose three of them such that their sum is a multiple of $10$. The last two cards’ sum’s ones digit is the score you get. In particular, if the sum of these two cards is a multiple of $10$, then the score is $10$, which is also called “Niu Honghong”. If no such multiple of $10$ can be formed, then the score is $0$, which is also called “Niu Bu Long”.\n\nFor example, the hand $5$ $3$ $2$ $3$ $4$ scores $7$, also called “Niu Qi”.\n\nLittle Z felt it was not exciting enough, so some changes were made to the rules above.", "description": "Given $n$ cards, each with a value from $1 \\sim 10$. You need to choose $n-2$ of them such that their sum is a multiple of $10$. The ones digit of the sum of the remaining two cards is the score you obtain. In particular, if the sum of these two cards is a multiple of $10$, then the score is $10$, which is also called “Niu Honghong”. If no choice of $n-2$ cards can make a multiple of $10$, then the score is $0$, which is also called “Niu Bu Long”.\n\nSince Little Z wants to play more happily, you need to write a program to help Little Z know the score within $1$ second.", "inputFormat": "The first line contains an integer $n$, indicating there are $n$ cards in total.\n\nThe second line contains $n$ integers, representing the values of these $n$ cards.", "outputFormat": "Output one integer in a single line, representing the score of this hand. The score ranges from $0 \\sim 10$.", "hint": "**Sample 1 Explanation**\n\n$10$ $10$ $10$ (three cards) can form a multiple of $10$, and $2+3=5$.\n\n**Sample 2 Explanation**\n\nAny three cards cannot form a multiple of $10$.\n\n---\n\n**Constraints**\n\n**This problem uses bundled tests.**\n\n- Subtask 1 (50 points): $n = 5$.\n- Subtask 2 (30 points): $n \\le 5 \\times 10^3$.\n- Subtask 3 (20 points): no special constraints.\n\nFor $100\\%$ of the testdata, $5 \\le n \\le 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CSGRound3] 斗牛", "background": "又是一年过去了。小 Z 在春节期间可以好好的放松放松，于是小 Z 和小伙伴们玩起了牛哄哄（斗牛）。\n\n游戏规则是这样的：\n\n给定 $5$ 张牌，分别从 $1 \\sim 10$。你需要挑选其中的三张牌加起来是 $10$ 的倍数，另外两张牌的和的个位数则为你最后获得的点数，特别的，如果这两张牌的和是 $10$ 的倍数，则点数为 $10$，也叫做牛哄哄。如果不能构成 $10$ 的倍数，则点数为 $0$，也叫做牛不拢。\n\n如 $5$ $3$ $2$ $3$ $4$ 的点数是 $7$，又叫做牛七。\n\n小 Z 觉得玩的不过瘾，于是对上述规则进行了一些改变。", "description": "给定 $n$ 张牌，牌的大小为 $1 \\sim 10$。你需要挑选其中的 $n-2$ 张牌加起来是 $10$ 的倍数，另外两张牌和的个位数即为你所获得的点数。特别地，如果这两张牌的和是 $10$ 的倍数，则点数为 $10$，也叫做牛哄哄。如果任意 $n-2$ 张牌不能构成 $10$ 的倍数，则点数为 $0$，也叫做牛不拢。\n\n由于小 Z 想要更开心的玩耍，所以需要你来完成这个程序来帮助小 Z 在 $1$ 秒内知道点数。", "inputFormat": "第一行一个整数 $n$，表示一共有 $n$ 张牌。\n\n第二行 $n$ 个整数，表示这 $n$ 张牌的大小。", "outputFormat": "一行一个整数，表示这局牌的点数，点数的范围是 $0 \\sim 10$。", "hint": "**【样例 1 解释】**\n\n$10$ $10$ $10$ 三张牌凑成 $10$ 的倍数，$2+3=5$。\n\n**【样例 2 解释】**\n\n任意三张牌都不能凑成 $10$ 的倍数。\n\n---\n\n**【数据范围】**\n\n**本题采用捆绑测试。**\n\n- Subtask 1（50 points）：$n = 5$。\n- Subtask 2（30 points）：$n \\le 5 \\times 10^3$。\n- Subtask 3（20 points）：无特殊限制。\n\n对于 $100\\%$ 的数据，$5 \\le n \\le 10^6$。\n\n", "locale": "zh-CN"}}}
