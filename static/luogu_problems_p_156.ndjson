{"pid": "P4158", "type": "P", "difficulty": 5, "samples": [["3 6 3\n111111\n000000\n001100", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "递推", "2009", "四川", "各省省选", "枚举", "背包 DP"], "title": "[SCOI2009] 粉刷匠", "background": "", "description": "windy 有 $N$ 条木板需要被粉刷。 每条木板被分为 $M$ 个格子。 每个格子要被刷成红色或蓝色。\n\nwindy 每次粉刷，只能选择一条木板上一段连续的格子，然后涂上一种颜色。 每个格子最多只能被粉刷一次。\n\n如果 windy 只能粉刷 $T$ 次，他最多能正确粉刷多少格子？\n\n一个格子如果未被粉刷或者被粉刷错颜色，就算错误粉刷。\n\n", "inputFormat": "第一行包含三个整数，$N,M,T$。\n\n接下来有 $N$ 行，每行一个长度为 $M$ 的字符串，``0`` 表示红色，`1` 表示蓝色。\n", "outputFormat": "包含一个整数，最多能正确粉刷的格子数。\n", "hint": "$30\\%$ 的数据，满足 $1 \\le N,M \\le 10,0 \\le T \\le 100$ 。\n\n$100\\%$ 的数据，满足 $1 \\le N,M \\le 50,0 \\le T \\le 2500$ ", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2009] Painter", "background": "", "description": "windy has $N$ wooden boards that need to be painted. Each board is divided into $M$ cells. Each cell should be painted red or blue.\n\nIn each painting operation, windy can choose a contiguous segment of cells on a single board and paint it with one color. Each cell can be painted at most once.\n\nIf windy can paint at most $T$ times, what is the maximum number of cells he can paint correctly?\n\nA cell is considered incorrect if it is left unpainted or painted with the wrong color.", "inputFormat": "The first line contains three integers, $N$, $M$, $T$.\n\nThen there are $N$ lines, each containing a string of length $M$, where `0` denotes red and `1` denotes blue.", "outputFormat": "Output a single integer: the maximum number of cells that can be painted correctly.", "hint": "For $30\\%$ of the testdata, $1 \\le N, M \\le 10$, $0 \\le T \\le 100$.\n\nFor $100\\%$ of the testdata, $1 \\le N, M \\le 50$, $0 \\le T \\le 2500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2009] 粉刷匠", "background": "", "description": "windy 有 $N$ 条木板需要被粉刷。 每条木板被分为 $M$ 个格子。 每个格子要被刷成红色或蓝色。\n\nwindy 每次粉刷，只能选择一条木板上一段连续的格子，然后涂上一种颜色。 每个格子最多只能被粉刷一次。\n\n如果 windy 只能粉刷 $T$ 次，他最多能正确粉刷多少格子？\n\n一个格子如果未被粉刷或者被粉刷错颜色，就算错误粉刷。\n\n", "inputFormat": "第一行包含三个整数，$N,M,T$。\n\n接下来有 $N$ 行，每行一个长度为 $M$ 的字符串，``0`` 表示红色，`1` 表示蓝色。\n", "outputFormat": "包含一个整数，最多能正确粉刷的格子数。\n", "hint": "$30\\%$ 的数据，满足 $1 \\le N,M \\le 10,0 \\le T \\le 100$ 。\n\n$100\\%$ 的数据，满足 $1 \\le N,M \\le 50,0 \\le T \\le 2500$ ", "locale": "zh-CN"}}}
{"pid": "P4159", "type": "P", "difficulty": 5, "samples": [["2 2\n11\n00", "1\n\n"], ["5 30\n12045\n07105\n47805\n12024\n12345\n", "852"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2009", "四川", "各省省选", "矩阵加速", "矩阵乘法"], "title": "[SCOI2009] 迷路", "background": "windy 在有向图中迷路了。", "description": "该有向图有 $n$ 个节点，节点从 $1$ 至 $n$ 编号，windy 从节点 $1$ 出发，他必须恰好在 $t$ 时刻到达节点 $n$。\n\n现在给出该有向图，你能告诉 windy 总共有多少种不同的路径吗？ \n\n答案对 $2009$ 取模。\n\n注意：windy 不能在某个节点逗留，且通过某有向边的时间严格为给定的时间。\n\n\n", "inputFormat": "第一行包含两个整数，分别代表 $n$ 和 $t$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个长度为 $n$ 的字符串，第 $(i + 1)$ 行的第 $j$ 个字符 $c_{i, j}$ 是一个数字字符，若为 $0$，则代表节点 $i$ 到节点 $j$ 无边，否则代表节点 $i$ 到节点 $j$ 的边的长度为 $c_{i, j}$。", "outputFormat": "输出一行一个整数代表答案对 $2009$ 取模的结果。", "hint": "#### 样例输入输出 1 解释\n\n路径为 $1 \\to 1 \\to 2$。\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n \\leq 5$，$t \\leq 30$。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 10$，$1 \\leq t \\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2009] Lost", "background": "windy got lost in a directed graph.", "description": "The directed graph has $n$ nodes, numbered from $1$ to $n$. windy starts from node $1$ and must arrive at node $n$ exactly at time $t$.\n\nGiven the directed graph, can you tell windy how many different paths there are?\n\nThe answer is taken modulo $2009$.\n\nNote: windy cannot wait at any node, and the time to traverse any directed edge is exactly the specified time.", "inputFormat": "The first line contains two integers, $n$ and $t$.\n\nLines $2$ to $n+1$ each contain a string of length $n$. In line $(i+1)$, the $j$-th character $c_{i,j}$ is a digit. If it is $0$, there is no edge from node $i$ to node $j$; otherwise, the length of the edge from node $i$ to node $j$ is $c_{i,j}$.", "outputFormat": "Output a single integer: the answer modulo $2009$.", "hint": "- Explanation for Sample Input/Output 1  \n  The path is $1 \\to 1 \\to 2$.\n\n- Constraints\n  - For $30\\%$ of the testdata, $n \\leq 5$, $t \\leq 30$.\n  - For $100\\%$ of the testdata, $2 \\leq n \\leq 10$, $1 \\leq t \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2009] 迷路", "background": "windy 在有向图中迷路了。", "description": "该有向图有 $n$ 个节点，节点从 $1$ 至 $n$ 编号，windy 从节点 $1$ 出发，他必须恰好在 $t$ 时刻到达节点 $n$。\n\n现在给出该有向图，你能告诉 windy 总共有多少种不同的路径吗？ \n\n答案对 $2009$ 取模。\n\n注意：windy 不能在某个节点逗留，且通过某有向边的时间严格为给定的时间。\n\n\n", "inputFormat": "第一行包含两个整数，分别代表 $n$ 和 $t$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个长度为 $n$ 的字符串，第 $(i + 1)$ 行的第 $j$ 个字符 $c_{i, j}$ 是一个数字字符，若为 $0$，则代表节点 $i$ 到节点 $j$ 无边，否则代表节点 $i$ 到节点 $j$ 的边的长度为 $c_{i, j}$。", "outputFormat": "输出一行一个整数代表答案对 $2009$ 取模的结果。", "hint": "#### 样例输入输出 1 解释\n\n路径为 $1 \\to 1 \\to 2$。\n\n#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n \\leq 5$，$t \\leq 30$。\n- 对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 10$，$1 \\leq t \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P4160", "type": "P", "difficulty": 4, "samples": [["5 5 5", "1.800000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2009", "四川", "各省省选", "深度优先搜索 DFS"], "title": "[SCOI2009] 生日快乐", "background": "", "description": "windy 的生日到了，为了庆祝生日，他的朋友们帮他买了一个边长分别为 $X$ 和 $Y$ 的矩形蛋糕。\n\n现在包括 windy，一共有 $N$ 个人来分这块大蛋糕，要求每个人必须获得相同面积的蛋糕。\n\nwindy 主刀，每一切只能平行于一块蛋糕的一边（任意一边），并且必须把这块蛋糕切成两块。\n\n这样，要切成 $N$ 块蛋糕，windy 必须切 $N-1$ 次。\n\n为了使得每块蛋糕看起来漂亮，我们要求 $N$ 块蛋糕的长边与短边的比值的最大值最小。\n\n你能帮助 windy 求出这个比值么？\n", "inputFormat": "一行三个整数 $X,Y,N$。\n", "outputFormat": "一行一个浮点数，保留 $6$ 位小数。\n", "hint": "对于 $100\\%$ 的数据，满足 $1 \\le X,Y \\le 10^4$，$1\\le N\\le 10$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2009] Happy Birthday", "background": "", "description": "windy's birthday has arrived. To celebrate, his friends bought a rectangular cake with side lengths $X$ and $Y$.\n\nNow, including windy, there are $N$ people to share this big cake, and each person must receive the same area.\n\nwindy makes the cuts. Each cut must be parallel to one of the cake's sides (either side), and it must split the piece being cut into two pieces.\n\nThus, to obtain $N$ pieces, windy must make $N-1$ cuts.\n\nTo make each piece look nice, we want to minimize the maximum ratio of the long side to the short side among the $N$ pieces.\n\nCan you help windy find this ratio?", "inputFormat": "One line with three integers $X$, $Y$, $N$.", "outputFormat": "One line with a floating-point number, rounded to 6 decimal places.", "hint": "For $100\\%$ of the testdata, it holds that $1 \\le X, Y \\le 10^4$, $1 \\le N \\le 10$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2009] 生日快乐", "background": "", "description": "windy 的生日到了，为了庆祝生日，他的朋友们帮他买了一个边长分别为 $X$ 和 $Y$ 的矩形蛋糕。\n\n现在包括 windy，一共有 $N$ 个人来分这块大蛋糕，要求每个人必须获得相同面积的蛋糕。\n\nwindy 主刀，每一切只能平行于一块蛋糕的一边（任意一边），并且必须把这块蛋糕切成两块。\n\n这样，要切成 $N$ 块蛋糕，windy 必须切 $N-1$ 次。\n\n为了使得每块蛋糕看起来漂亮，我们要求 $N$ 块蛋糕的长边与短边的比值的最大值最小。\n\n你能帮助 windy 求出这个比值么？\n", "inputFormat": "一行三个整数 $X,Y,N$。\n", "outputFormat": "一行一个浮点数，保留 $6$ 位小数。\n", "hint": "对于 $100\\%$ 的数据，满足 $1 \\le X,Y \\le 10^4$，$1\\le N\\le 10$。\n", "locale": "zh-CN"}}}
{"pid": "P4161", "type": "P", "difficulty": 5, "samples": [["3", "3"], ["10", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "2009", "四川", "各省省选", "素数判断,质数,筛法"], "title": "[SCOI2009] 游戏", "background": null, "description": "windy 学会了一种游戏。\n\n对于 $1$ 到 $N$ 这 $N$ 个数字，都有唯一且不同的 $1$ 到 $N$ 的数字与之对应。\n\n最开始 windy 把数字按顺序 $1,2,3,\\cdots,N$ 写一排在纸上。\n\n然后再在这一排下面写上它们对应的数字。\n\n然后又在新的一排下面写上它们对应的数字。\n\n如此反复，直到序列再次变为 $1,2,3,\\cdots,N$。\n\n如：$1\\ 2\\ 3\\ 4\\ 5\\ 6$\n\n对应的关系为：$1\\to 2$，$2\\to 3$，$3\\to 1$，$4\\to 5$，$5\\to 4$，$6\\to 6$。\n\nwindy 的操作如下：\n\n`1 2 3 4 5 6`\n\n`2 3 1 5 4 6`\n\n`3 1 2 4 5 6`\n\n`1 2 3 5 4 6`\n\n`2 3 1 4 5 6`\n\n`3 1 2 5 4 6`\n\n`1 2 3 4 5 6`\n\n这时，我们就有若干排 $1$ 到 $N$ 的排列，上例中有 $7$ 排。\n\n现在 windy 想知道，对于所有可能的对应关系，有多少种可能的排数。", "inputFormat": "一个整数，$N$。", "outputFormat": "一个整数，可能的排数。", "hint": "$30\\%$ 的数据，满足 $1 \\le n\\le 10$。\n\n$100\\%$ 的数据，满足 $1 \\le n\\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2009] Game", "background": "", "description": "windy has learned a game.\n\nFor the $N$ numbers from $1$ to $N$, each number is mapped to a unique and different number from $1$ to $N$ (i.e., a permutation).\n\nAt the beginning, windy writes the numbers in order $1, 2, 3, \\cdots, N$ in a row on paper.\n\nThen, underneath this row, he writes their corresponding numbers.\n\nNext, underneath the new row, he writes the numbers corresponding to that row.\n\nHe repeats this process until the sequence becomes $1, 2, 3, \\cdots, N$ again.\n\nFor example: $1\\ 2\\ 3\\ 4\\ 5\\ 6$.\n\nThe correspondence is: $1\\to 2$, $2\\to 3$, $3\\to 1$, $4\\to 5$, $5\\to 4$, $6\\to 6$.\n\nwindy operates as follows:\n`1 2 3 4 5 6`\n`2 3 1 5 4 6`\n`3 1 2 4 5 6`\n`1 2 3 5 4 6`\n`2 3 1 4 5 6`\n`3 1 2 5 4 6`\n`1 2 3 4 5 6`\n\nAt this point, we have several rows of permutations of $1$ to $N$; in the example there are $7$ rows.\n\nNow windy wants to know: over all possible correspondences, how many different possible numbers of rows are there.", "inputFormat": "A single integer, $N$.", "outputFormat": "A single integer, the number of possible row counts.", "hint": "For $30\\%$ of the testdata, $1 \\le N \\le 10$.\n\nFor $100\\%$ of the testdata, $1 \\le N \\le 1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2009] 游戏", "background": null, "description": "windy 学会了一种游戏。\n\n对于 $1$ 到 $N$ 这 $N$ 个数字，都有唯一且不同的 $1$ 到 $N$ 的数字与之对应。\n\n最开始 windy 把数字按顺序 $1,2,3,\\cdots,N$ 写一排在纸上。\n\n然后再在这一排下面写上它们对应的数字。\n\n然后又在新的一排下面写上它们对应的数字。\n\n如此反复，直到序列再次变为 $1,2,3,\\cdots,N$。\n\n如：$1\\ 2\\ 3\\ 4\\ 5\\ 6$\n\n对应的关系为：$1\\to 2$，$2\\to 3$，$3\\to 1$，$4\\to 5$，$5\\to 4$，$6\\to 6$。\n\nwindy 的操作如下：\n\n`1 2 3 4 5 6`\n\n`2 3 1 5 4 6`\n\n`3 1 2 4 5 6`\n\n`1 2 3 5 4 6`\n\n`2 3 1 4 5 6`\n\n`3 1 2 5 4 6`\n\n`1 2 3 4 5 6`\n\n这时，我们就有若干排 $1$ 到 $N$ 的排列，上例中有 $7$ 排。\n\n现在 windy 想知道，对于所有可能的对应关系，有多少种可能的排数。", "inputFormat": "一个整数，$N$。", "outputFormat": "一个整数，可能的排数。", "hint": "$30\\%$ 的数据，满足 $1 \\le n\\le 10$。\n\n$100\\%$ 的数据，满足 $1 \\le n\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P4162", "type": "P", "difficulty": 4, "samples": [["3 3 0\n001\n001\n110", "1.414214"], ["4 3 0\n001\n001\n011\n000", "3.605551"], ["3 3 1\n001\n001\n001", "2.828427"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2009", "四川", "各省省选", "剪枝", "最短路"], "title": "[SCOI2009] 最长距离", "background": "", "description": "windy 有一块矩形土地，被分为 $N\\times M$ 块 $1\\times 1$ 的小格子。 有的格子含有障碍物。 如果从格子 A 可以走到格子 B，那么两个格子的距离就为两个格子中心的欧几里德距离。 如果从格子 A 不可以走到格子 B，就没有距离。如果格子 X 和格子 Y 有公共边，并且 X 和 Y 均不含有障碍物，就可以从 X 走到 Y。 如果 windy 可以移走 $T$ 块障碍物，求所有格子间的最大距离。保证移走 $T$ 块障碍物以后，至少有一个格子不含有障碍物。\n", "inputFormat": "第一行包含三个整数，$N,M,T$。 接下来有 $N$ 行，每行一个长度为 $M$ 的字符串，`0` 表示空格子，`1` 表示该格子含有障碍物。\n", "outputFormat": "包含一个浮点数，保留 $6$ 位小数。\n", "hint": "- $20\\%$ 的数据，满足  $1 \\le N,M \\le 30 $，$ 0 \\le T \\le 0 $。\n- $40\\%$ 的数据，满足  $1 \\le N,M \\le 30 $，$ 0 \\le T \\le 2 $。\n- $100\\%$ 的数据，满足 $1 \\le N,M \\le 30 $，$ 0 \\le T \\le 30$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2009] Longest Distance", "background": "", "description": "windy has a rectangular piece of land divided into $N\\times M$ small $1\\times 1$ cells. Some cells contain obstacles. If cell A can reach cell B, then the distance between them is defined as the Euclidean distance between their centers. If cell A cannot reach cell B, then there is no distance between them. If cells X and Y share a common edge and both X and Y contain no obstacles, you can move from X to Y. If windy can remove $T$ obstacles, find the maximum distance over all pairs of cells (considering only pairs where one can reach the other). It is guaranteed that after removing $T$ obstacles, at least one cell contains no obstacle.", "inputFormat": "The first line contains three integers, $N,M,T$. Then there are $N$ lines, each containing a string of length $M$, where `0` denotes an empty cell and `1` denotes a cell containing an obstacle.", "outputFormat": "Output a single floating-point number, with $6$ digits after the decimal point.", "hint": "- For $20\\%$ of the testdata, $1 \\le N,M \\le 30 $ and $ 0 \\le T \\le 0 $.\n- For $40\\%$ of the testdata, $1 \\le N,M \\le 30 $ and $ 0 \\le T \\le 2 $.\n- For $100\\%$ of the testdata, $1 \\le N,M \\le 30 $ and $ 0 \\le T \\le 30$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2009] 最长距离", "background": "", "description": "windy 有一块矩形土地，被分为 $N\\times M$ 块 $1\\times 1$ 的小格子。 有的格子含有障碍物。 如果从格子 A 可以走到格子 B，那么两个格子的距离就为两个格子中心的欧几里德距离。 如果从格子 A 不可以走到格子 B，就没有距离。如果格子 X 和格子 Y 有公共边，并且 X 和 Y 均不含有障碍物，就可以从 X 走到 Y。 如果 windy 可以移走 $T$ 块障碍物，求所有格子间的最大距离。保证移走 $T$ 块障碍物以后，至少有一个格子不含有障碍物。\n", "inputFormat": "第一行包含三个整数，$N,M,T$。 接下来有 $N$ 行，每行一个长度为 $M$ 的字符串，`0` 表示空格子，`1` 表示该格子含有障碍物。\n", "outputFormat": "包含一个浮点数，保留 $6$ 位小数。\n", "hint": "- $20\\%$ 的数据，满足  $1 \\le N,M \\le 30 $，$ 0 \\le T \\le 0 $。\n- $40\\%$ 的数据，满足  $1 \\le N,M \\le 30 $，$ 0 \\le T \\le 2 $。\n- $100\\%$ 的数据，满足 $1 \\le N,M \\le 30 $，$ 0 \\le T \\le 30$。\n", "locale": "zh-CN"}}}
{"pid": "P4163", "type": "P", "difficulty": 5, "samples": [["7\n000 1\n001 1\n1234567890 1\n123434 2\n1234 7\n12345 17\n12345678 29", "1\n3\n3628800\n90\n3\n6\n1398\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "2007", "四川", "各省省选", "剪枝", "排列组合", "状压 DP"], "title": "[SCOI2007] 排列", "background": "", "description": "给一个数字串 $s$ 和正整数 $d$, 统计 $s$ 有多少种不同的排列能被 $d$ 整除（可以有前导 $0$）。例如 $123434$ 有 $90$ 种排列能被 $2$ 整除，其中末位为 $2$ 的有 $30$ 种，末位为 $4$ 的有  $60$ 种。", "inputFormat": "输入第一行是一个整数 $T$，表示测试数据的个数，以下每行一组 $s$ 和 $d$，中间用空格隔开。$s$ 保证只包含数字 $0,1,2,3,4,5,6,7,8,9$。", "outputFormat": "每个数据仅一行，表示能被 $d$ 整除的排列的个数。", "hint": "$100\\%$ 的数据满足：$s$ 的长度不超过 $10$，$1\\le d\\le 1000$，$1\\le T\\le 15$。\n\n在前三个例子中，排列分别有 $1,3,3628800$ 种，它们都是 $1$ 的倍数。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2007] Permutation", "background": "", "description": "Given a digit string $s$ and a positive integer $d$, count how many distinct permutations of $s$ are divisible by $d$ (leading $0$ is allowed). For example, $123434$ has $90$ permutations divisible by $2$, among which $30$ end with $2$ and $60$ end with $4$.", "inputFormat": "The first line contains an integer $T$, the number of testdata. Each of the following lines contains $s$ and $d$, separated by a space. String $s$ contains only digits $0,1,2,3,4,5,6,7,8,9$.", "outputFormat": "For each testdata, output one line containing the number of permutations divisible by $d$.", "hint": "Constraints: For $100\\%$ of the testdata, the length of $s$ does not exceed $10$, $1 \\le d \\le 1000$, $1 \\le T \\le 15$.\n\nIn the first three examples, the numbers of permutations are $1, 3, 3628800$, and they are all multiples of $1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2007] 排列", "background": "", "description": "给一个数字串 $s$ 和正整数 $d$, 统计 $s$ 有多少种不同的排列能被 $d$ 整除（可以有前导 $0$）。例如 $123434$ 有 $90$ 种排列能被 $2$ 整除，其中末位为 $2$ 的有 $30$ 种，末位为 $4$ 的有  $60$ 种。", "inputFormat": "输入第一行是一个整数 $T$，表示测试数据的个数，以下每行一组 $s$ 和 $d$，中间用空格隔开。$s$ 保证只包含数字 $0,1,2,3,4,5,6,7,8,9$。", "outputFormat": "每个数据仅一行，表示能被 $d$ 整除的排列的个数。", "hint": "$100\\%$ 的数据满足：$s$ 的长度不超过 $10$，$1\\le d\\le 1000$，$1\\le T\\le 15$。\n\n在前三个例子中，排列分别有 $1,3,3628800$ 种，它们都是 $1$ 的倍数。", "locale": "zh-CN"}}}
{"pid": "P4164", "type": "P", "difficulty": 6, "samples": [["5\n1 -1 2\n0 -1 2\n4 -1 1\n3 -1 2\n2 -1 2", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "各省省选", "江苏"], "title": "[JSOI2010] 挖宝藏", "background": "", "description": "JP 不好好训练，又喜欢上了另一个游戏——寻宝。\n\n游戏里有 $n$ 处宝藏，它们被埋在一个无限大的二维网格中。每个宝藏都有价值 $P_i$，位置是 $(x_i,y_i)$。\n\n如果网格 $(x,y)$ 满足下面两个条件之一，则它是可挖掘的：\n\n- $y=-1$。\n\n- $(x-1,y+1),(x,y+1),(x+1,y+1)$ 这三个方格都已经被挖掘了。\n\n挖掘一个方格的代价为 $1$。当一个宝藏被挖掘出来时，就认为已经获得了它的价值。请你帮 JP 求出所能得到的最大利润，也即价值减代价。（可能一个宝藏也不挖，利润为 $0$）\n", "inputFormat": "第一行为 $n$，表示宝藏数量。\n\n接下来 $n$ 行，每行三个整数 $x_i,y_i,P_i$ 表示宝藏的位置和价值。", "outputFormat": "一行一个整数，表示最大利润。", "hint": "### 样例解释 1\n\n挖 $1,2,4,5$ 号宝藏，价值为 $8$，花费代价为 $4$，所以利润为 $4$。可以证明没有更优的方案。\n\n### 数据范围\n\n对于 $30\\%$ 的数据，$n\\leq 15$。\n\n对于 $50\\%$ 的数据，$-10^3\\leq y_i\\leq 0$。\n\n对于 $100\\%$ 的数据，$n\\leq 10^3,-10^4\\leq x_i\\leq 10^4,-10^4\\leq y_i<0,1\\leq P_i\\leq 10^6$。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JSOI2010] 挖宝藏", "background": "", "description": "JP 不好好训练，又喜欢上了另一个游戏——寻宝。\n\n游戏里有 $n$ 处宝藏，它们被埋在一个无限大的二维网格中。每个宝藏都有价值 $P_i$，位置是 $(x_i,y_i)$。\n\n如果网格 $(x,y)$ 满足下面两个条件之一，则它是可挖掘的：\n\n- $y=-1$。\n\n- $(x-1,y+1),(x,y+1),(x+1,y+1)$ 这三个方格都已经被挖掘了。\n\n挖掘一个方格的代价为 $1$。当一个宝藏被挖掘出来时，就认为已经获得了它的价值。请你帮 JP 求出所能得到的最大利润，也即价值减代价。（可能一个宝藏也不挖，利润为 $0$）\n", "inputFormat": "第一行为 $n$，表示宝藏数量。\n\n接下来 $n$ 行，每行三个整数 $x_i,y_i,P_i$ 表示宝藏的位置和价值。", "outputFormat": "一行一个整数，表示最大利润。", "hint": "### 样例解释 1\n\n挖 $1,2,4,5$ 号宝藏，价值为 $8$，花费代价为 $4$，所以利润为 $4$。可以证明没有更优的方案。\n\n### 数据范围\n\n对于 $30\\%$ 的数据，$n\\leq 15$。\n\n对于 $50\\%$ 的数据，$-10^3\\leq y_i\\leq 0$。\n\n对于 $100\\%$ 的数据，$n\\leq 10^3,-10^4\\leq x_i\\leq 10^4,-10^4\\leq y_i<0,1\\leq P_i\\leq 10^6$。\n", "locale": "zh-CN"}}}
{"pid": "P4165", "type": "P", "difficulty": 4, "samples": [["4 1 2 10\n5 1\n3 2\n2 3\n2 1", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2007", "四川", "各省省选", "枚举", "排序"], "title": "[SCOI2007] 组队", "background": null, "description": "NBA 每年都有球员选秀环节。通常用速度和身高两项数据来衡量一个篮球运动员的基本素质。假如一支球队里速度最慢的球员速度为 $minV$，身高最矮的球员高度为 $minH$，那么这支球队的所有队员都应该满足: $A\\times(height-minH)+B\\times( speed-minV)\\le C$ 其中 $A,B,C$ 为给定的经验值。这个式子很容易理解，如果一个球队的球员速度和身高差距太大，会造成配合的不协调。\n\n请问作为球队管理层的你，在 $N$ 名选秀球员中，最多能有多少名符合条件的候选球员。", "inputFormat": "第一行四个数 $N,A,B,C$ 下接 $N$行每行两个数描述一个球员的 $height$ 和 $speed$。", "outputFormat": "最多候选球员数目。", "hint": "数据范围：$N\\le5000,height,speed\\le10000$，$A,B,C$ 在长整型以内。", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2007] Team Formation", "background": "", "description": "The NBA holds a player draft every year. A basketball player’s basic ability is usually measured by two pieces of data: speed and height. Suppose in a team, the slowest player’s speed is $minV$ and the shortest player’s height is $minH$. Then all players on this team should satisfy: $A\\times(height-minH)+B\\times( speed-minV)\\le C$, where $A, B, C$ are given empirical values. This formula is easy to understand: if the players in a team differ too much in speed and height, it will cause poor coordination.\n\nAs the team management, among $N$ draft players, what is the maximum number of candidate players that meet the condition?", "inputFormat": "The first line contains four integers $N, A, B, C$. Then $N$ lines follow; each line contains two integers describing one player’s $height$ and $speed$.", "outputFormat": "Output the maximum number of candidate players.", "hint": "Constraints: $N \\le 5000$, $height, speed \\le 10000$; $A, B, C$ fit in a long integer.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2007] 组队", "background": null, "description": "NBA 每年都有球员选秀环节。通常用速度和身高两项数据来衡量一个篮球运动员的基本素质。假如一支球队里速度最慢的球员速度为 $minV$，身高最矮的球员高度为 $minH$，那么这支球队的所有队员都应该满足: $A\\times(height-minH)+B\\times( speed-minV)\\le C$ 其中 $A,B,C$ 为给定的经验值。这个式子很容易理解，如果一个球队的球员速度和身高差距太大，会造成配合的不协调。\n\n请问作为球队管理层的你，在 $N$ 名选秀球员中，最多能有多少名符合条件的候选球员。", "inputFormat": "第一行四个数 $N,A,B,C$ 下接 $N$行每行两个数描述一个球员的 $height$ 和 $speed$。", "outputFormat": "最多候选球员数目。", "hint": "数据范围：$N\\le5000,height,speed\\le10000$，$A,B,C$ 在长整型以内。", "locale": "zh-CN"}}}
{"pid": "P4166", "type": "P", "difficulty": 6, "samples": [["5\n0 0\n1 0\n1 1\n0 1\n0.5 0.5", "1.000"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2007", "四川", "各省省选", "枚举", "向量", "凸包", "叉积"], "title": "[SCOI2007] 最大土地面积", "background": null, "description": "在某块平面土地上有 $N$ 个点，你可以选择其中的任意四个点，将这片土地围起来，当然，你希望这四个点围成的多边形面积最大。", "inputFormat": "第 $1$ 行一个正整数 $N$，接下来 $N$ 行，每行 $2$ 个数 $x,y$，表示该点的横坐标和纵坐标。", "outputFormat": "最大的多边形面积，答案精确到小数点后 $3$ 位。", "hint": "$5\\le N\\le 2000, 0\\le |x|,|y|\\le 100000$", "locale": "zh-CN", "translations": {"en": {"title": "[SCOI2007] Maximum Land Area", "background": "", "description": "On a piece of planar land, there are $N$ points. You may choose any four of them to enclose the land. Of course, you want the polygon formed by these four points to have the maximum area.", "inputFormat": "The first line contains a positive integer $N$. The next $N$ lines each contain $2$ numbers $x, y$, representing the $x$-coordinate and $y$-coordinate of the point.", "outputFormat": "Output the maximum polygon area, rounded to $3$ decimal places.", "hint": "$5\\le N\\le 2000, 0\\le |x|,|y|\\le 100000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[SCOI2007] 最大土地面积", "background": null, "description": "在某块平面土地上有 $N$ 个点，你可以选择其中的任意四个点，将这片土地围起来，当然，你希望这四个点围成的多边形面积最大。", "inputFormat": "第 $1$ 行一个正整数 $N$，接下来 $N$ 行，每行 $2$ 个数 $x,y$，表示该点的横坐标和纵坐标。", "outputFormat": "最大的多边形面积，答案精确到小数点后 $3$ 位。", "hint": "$5\\le N\\le 2000, 0\\le |x|,|y|\\le 100000$", "locale": "zh-CN"}}}
{"pid": "P4168", "type": "P", "difficulty": 6, "samples": [["6 3 \n1 2 3 2 1 2 \n1 5 \n3 6 \n1 5\n", "1 \n2 \n1\n"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["离散化", "O2优化", "枚举", "分块"], "title": "[Violet] 蒲公英", "background": "亲爱的哥哥：\n\n你在那个城市里面过得好吗？\n\n我在家里面最近很开心呢。昨天晚上奶奶给我讲了那个叫「绝望」的大坏蛋的故事的说！它把人们的房子和田地搞坏，还有好多小朋友也被它杀掉了。我觉得把那么可怕的怪物召唤出来的那个坏蛋也很坏呢。不过奶奶说他是很难受的时候才做出这样的事的……\n\n最近村子里长出了一大片一大片的蒲公英。一刮风，这些蒲公英就能飘到好远的地方了呢。我觉得要是它们能飘到那个城市里面，让哥哥看看就好了呢！\n\n哥哥你要快点回来哦！\n\n爱你的妹妹 Violet\n\nAzure 读完这封信之后微笑了一下。\n\n“蒲公英吗……”\n", "description": "在乡下的小路旁种着许多蒲公英，而我们的问题正是与这些蒲公英有关。\n\n为了简化起见，我们把所有的蒲公英看成一个长度为 $n$ 的序列 $\\{a_1,a_2..a_n\\}$，其中 $a_i$ 为一个正整数，表示第 $i$ 棵蒲公英的种类编号。\n\n而每次询问一个区间 $[l, r]$，你需要回答区间里出现次数最多的是哪种蒲公英，如果有若干种蒲公英出现次数相同，则输出种类编号最小的那个。\n\n**注意，你的算法必须是在线的**。\n", "inputFormat": "第一行有两个整数，分别表示蒲公英的数量 $n$ 和询问次数 $m$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示第 $i$ 棵蒲公英的种类 $a_i$。\n\n接下来 $m$ 行，每行两个整数 $l_0, r_0$，表示一次询问。输入是加密的，解密方法如下：\n\n令上次询问的结果为 $x$（如果这是第一次询问，则 $x = 0$），设 $l=((l_0+x-1)\\bmod n) + 1,r=((r_0+x-1) \\bmod n) + 1$。如果 $l > r$，则交换 $l, r$。  \n最终的询问区间为计算后的 $[l, r]$。\n", "outputFormat": "对于每次询问，输出一行一个整数表示答案。\n", "hint": "#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n,m \\le 3000$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 40000$，$1\\le m \\le 50000$，$1\\le a_i \\le 10^9$，$1 \\leq l_0, r_0 \\leq n$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[Violet] Dandelion", "background": "Dear Brother:\n\nHow are you doing in that city?\n\nI’ve been very happy at home lately. Last night Grandma told me the story about that big villain called \"Despair\"! It ruined people’s houses and fields, and many children were killed by it, too. I think the bad guy who summoned such a scary monster is also very bad. But Grandma said he only did that when he was in great pain...\n\nRecently, lots and lots of dandelions have grown all over the village. When the wind blows, these dandelions can float far, far away. I think if they could float into that city and let you see them, that would be wonderful!\n\nBrother, please come back soon!\n\nLove, your sister Violet\n\nAzure smiled after reading this letter.\n\n\"Dandelions, huh...\"", "description": "There are many dandelions planted along a country path, and our problem is about these dandelions.\n\nTo simplify, we treat all the dandelions as a sequence of length $n$, $\\{a_1,a_2..a_n\\}$, where $a_i$ is a positive integer representing the type ID of the $i$-th dandelion.\n\nFor each query on an interval $[l, r]$, you need to report which type appears most frequently in the interval. If several types are tied, output the smallest type ID among them.\n\n**Note: your algorithm must be online.**", "inputFormat": "The first line contains two integers, representing the number of dandelions $n$ and the number of queries $m$.\n\nThe second line contains $n$ integers. The $i$-th integer is the type $a_i$ of the $i$-th dandelion.\n\nThen follow $m$ lines. Each line contains two integers $l_0, r_0$, representing one query. The input is encrypted; the decryption is as follows:\n\nLet the previous query’s result be $x$ (if this is the first query, then $x = 0$), and set $l=((l_0+x-1)\\bmod n) + 1, r=((r_0+x-1) \\bmod n) + 1$. If $l > r$, swap $l, r$.  \nThe final query interval is the computed $[l, r]$.", "outputFormat": "For each query, output one integer on its own line representing the answer.", "hint": "#### Constraints\n\n- For $20\\%$ of the testdata, it is guaranteed that $n, m \\le 3000$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 40000$, $1 \\le m \\le 50000$, $1 \\le a_i \\le 10^9$, $1 \\leq l_0, r_0 \\leq n$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[Violet] 蒲公英", "background": "亲爱的哥哥：\n\n你在那个城市里面过得好吗？\n\n我在家里面最近很开心呢。昨天晚上奶奶给我讲了那个叫「绝望」的大坏蛋的故事的说！它把人们的房子和田地搞坏，还有好多小朋友也被它杀掉了。我觉得把那么可怕的怪物召唤出来的那个坏蛋也很坏呢。不过奶奶说他是很难受的时候才做出这样的事的……\n\n最近村子里长出了一大片一大片的蒲公英。一刮风，这些蒲公英就能飘到好远的地方了呢。我觉得要是它们能飘到那个城市里面，让哥哥看看就好了呢！\n\n哥哥你要快点回来哦！\n\n爱你的妹妹 Violet\n\nAzure 读完这封信之后微笑了一下。\n\n“蒲公英吗……”\n", "description": "在乡下的小路旁种着许多蒲公英，而我们的问题正是与这些蒲公英有关。\n\n为了简化起见，我们把所有的蒲公英看成一个长度为 $n$ 的序列 $\\{a_1,a_2..a_n\\}$，其中 $a_i$ 为一个正整数，表示第 $i$ 棵蒲公英的种类编号。\n\n而每次询问一个区间 $[l, r]$，你需要回答区间里出现次数最多的是哪种蒲公英，如果有若干种蒲公英出现次数相同，则输出种类编号最小的那个。\n\n**注意，你的算法必须是在线的**。\n", "inputFormat": "第一行有两个整数，分别表示蒲公英的数量 $n$ 和询问次数 $m$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示第 $i$ 棵蒲公英的种类 $a_i$。\n\n接下来 $m$ 行，每行两个整数 $l_0, r_0$，表示一次询问。输入是加密的，解密方法如下：\n\n令上次询问的结果为 $x$（如果这是第一次询问，则 $x = 0$），设 $l=((l_0+x-1)\\bmod n) + 1,r=((r_0+x-1) \\bmod n) + 1$。如果 $l > r$，则交换 $l, r$。  \n最终的询问区间为计算后的 $[l, r]$。\n", "outputFormat": "对于每次询问，输出一行一个整数表示答案。\n", "hint": "#### 数据规模与约定\n\n- 对于 $20\\%$ 的数据，保证 $n,m \\le 3000$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n \\le 40000$，$1\\le m \\le 50000$，$1\\le a_i \\le 10^9$，$1 \\leq l_0, r_0 \\leq n$。\n", "locale": "zh-CN"}}}
{"pid": "P4169", "type": "P", "difficulty": 6, "samples": [["2 3 \n1 1 \n2 3 \n2 1 2 \n1 3 3 \n2 4 2", "1 \n2"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树状数组", "cdq 分治", "分治", "剪枝"], "title": "[Violet] 天使玩偶/SJY摆棋子", "background": "", "description": "\nAyu 在七年前曾经收到过一个天使玩偶，当时她把它当作时间囊埋在了地下。而七年后 的今天，Ayu 却忘了她把天使玩偶埋在了哪里，所以她决定仅凭一点模糊的记忆来寻找它。\n\n我们把 Ayu 生活的小镇看作一个二维平面坐标系，而 Ayu 会不定时地记起可能在某个点 $(x, y)$ 埋下了天使玩偶；或者 Ayu 会询问你，假如她在 $(x,y)$，那么她离近的天使玩偶可能埋下的地方有多远。\n\n因为 Ayu 只会沿着平行坐标轴的方向来行动，所以在这个问题里我们定义两个点之间的距离为 $\\operatorname{dist}(A,B)=|A_x-B_x|+|A_y-B_y|$。其中 $A_x$ 表示点 $A$ 的横坐标，其余类似。\n", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，在刚开始时，Ayu 已经知道有 $n$ 个点可能埋着天使玩偶， 接下来 Ayu 要进行 $m$ 次操作。\n\n接下来 $n$ 行，每行两个非负整数 $(x_i,y_i)$，表示初始 $n$ 个点的坐标。\n\n再接下来 $m$ 行，每行三个非负整数 $t,x_i,y_i$。\n\n* 如果 $t=1$，则表示 Ayu 又回忆起了一个可能埋着玩偶的点 $(x_i,y_i)$。\n* 如果 $t=2$，则表示 Ayu 询问如果她在点 $(x_i,y_i)$，那么在已经回忆出来的点里，离她近的那个点有多远", "outputFormat": "对于每个 $t=2$ 的询问，在单独的一行内输出该询问的结果。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据 保证 $1 \\leq n,m\\leq 3 \\times 10^5$，$0 \\leq x_i,y_i \\leq 10^6$。", "locale": "zh-CN", "translations": {"en": {"title": "[Violet] Angel Doll / SJY Placing Chess Pieces", "background": "", "description": "Seven years ago, Ayu received an angel doll. She buried it underground as a time capsule. But today, seven years later, Ayu has forgotten where she buried it, so she decides to look for it based only on some vague memories.\n\nWe treat the town where Ayu lives as a 2D Cartesian coordinate plane. From time to time, Ayu will recall that the doll might have been buried at some point $(x, y)$; or she will ask you: if she is at $(x, y)$, how far is it to the nearest location where the angel doll might have been buried.\n\nBecause Ayu only moves along directions parallel to the coordinate axes, in this problem we define the distance between two points as $\\operatorname{dist}(A, B) = |A_x - B_x| + |A_y - B_y|$. Here $A_x$ denotes the $x$-coordinate of point $A$, and similarly for the others.", "inputFormat": "The first line contains two integers $n$ and $m$. At the start, Ayu already knows $n$ points where the doll might be buried, and then she will perform $m$ operations.\n\nThe next $n$ lines each contain two non-negative integers $(x_i, y_i)$, denoting the coordinates of the initial $n$ points.\n\nThen the next $m$ lines each contain three non-negative integers $t, x_i, y_i$.\n- If $t = 1$, Ayu recalls another point $(x_i, y_i)$ where the doll might be buried.\n- If $t = 2$, Ayu asks: if she is at $(x_i, y_i)$, among the points recalled so far, how far is the nearest point to her.", "outputFormat": "For each query with $t = 2$, output the result on a separate line.", "hint": "Constraints: For $100\\%$ of the testdata, it is guaranteed that $1 \\leq n, m \\leq 3 \\times 10^5$ and $0 \\leq x_i, y_i \\leq 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[Violet] 天使玩偶/SJY摆棋子", "background": "", "description": "\nAyu 在七年前曾经收到过一个天使玩偶，当时她把它当作时间囊埋在了地下。而七年后 的今天，Ayu 却忘了她把天使玩偶埋在了哪里，所以她决定仅凭一点模糊的记忆来寻找它。\n\n我们把 Ayu 生活的小镇看作一个二维平面坐标系，而 Ayu 会不定时地记起可能在某个点 $(x, y)$ 埋下了天使玩偶；或者 Ayu 会询问你，假如她在 $(x,y)$，那么她离近的天使玩偶可能埋下的地方有多远。\n\n因为 Ayu 只会沿着平行坐标轴的方向来行动，所以在这个问题里我们定义两个点之间的距离为 $\\operatorname{dist}(A,B)=|A_x-B_x|+|A_y-B_y|$。其中 $A_x$ 表示点 $A$ 的横坐标，其余类似。\n", "inputFormat": "第一行包含两个整数 $n$ 和 $m$，在刚开始时，Ayu 已经知道有 $n$ 个点可能埋着天使玩偶， 接下来 Ayu 要进行 $m$ 次操作。\n\n接下来 $n$ 行，每行两个非负整数 $(x_i,y_i)$，表示初始 $n$ 个点的坐标。\n\n再接下来 $m$ 行，每行三个非负整数 $t,x_i,y_i$。\n\n* 如果 $t=1$，则表示 Ayu 又回忆起了一个可能埋着玩偶的点 $(x_i,y_i)$。\n* 如果 $t=2$，则表示 Ayu 询问如果她在点 $(x_i,y_i)$，那么在已经回忆出来的点里，离她近的那个点有多远", "outputFormat": "对于每个 $t=2$ 的询问，在单独的一行内输出该询问的结果。", "hint": "#### 数据规模与约定\n\n对于 $100\\%$ 的数据 保证 $1 \\leq n,m\\leq 3 \\times 10^5$，$0 \\leq x_i,y_i \\leq 10^6$。", "locale": "zh-CN"}}}
{"pid": "P4170", "type": "P", "difficulty": 5, "samples": [["AAAAA", "1"], ["RGBGR", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "2007", "重庆", "各省省选", "枚举", "区间 DP"], "title": "[CQOI2007] 涂色", "background": "", "description": "假设你有一条长度为 $5$ 的木板，初始时没有涂过任何颜色。你希望把它的 $5$ 个单位长度分别涂上红、绿、蓝、绿、红色，用一个长度为 $5$ 的字符串表示这个目标：$\\texttt{RGBGR}$。\n\n每次你可以把一段连续的木板涂成一个给定的颜色，后涂的颜色覆盖先涂的颜色。例如第一次把木板涂成 $\\texttt{RRRRR}$，第二次涂成 $\\texttt{RGGGR}$，第三次涂成 $\\texttt{RGBGR}$，达到目标。\n\n用尽量少的涂色次数达到目标。\n", "inputFormat": "输入仅一行，包含一个长度为 $n$ 的字符串，即涂色目标。字符串中的每个字符都是一个大写字母，不同的字母代表不同颜色，相同的字母代表相同颜色。\n", "outputFormat": "仅一行，包含一个数，即最少的涂色次数。\n", "hint": "$40\\%$ 的数据满足 $1\\le n\\le 10$。\n\n$100\\%$ 的数据满足 $1\\le n\\le 50$。\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[CQOI2007] Coloring", "background": "", "description": "Suppose you have a wooden board of length $5$, initially unpainted. You want to paint its $5$ unit segments red, green, blue, green, and red, respectively, represented by a length-$5$ string: $\\texttt{RGBGR}$.\n\nEach time, you may paint a consecutive segment of the board with a given color, and later paint covers earlier paint. For example, first paint $\\texttt{RRRRR}$, then paint $\\texttt{RGGGR}$, and finally paint $\\texttt{RGBGR}$ to reach the target.\n\nUse as few painting operations as possible to reach the target.", "inputFormat": "The input contains a single line with a string of length $n$, which is the painting target. Every character is an uppercase letter; different letters denote different colors, and the same letters denote the same color.", "outputFormat": "Output a single line with one number: the minimum number of painting operations.", "hint": "$40\\%$ of the testdata satisfies $1 \\le n \\le 10$.\n\n$100\\%$ of the testdata satisfies $1 \\le n \\le 50$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CQOI2007] 涂色", "background": "", "description": "假设你有一条长度为 $5$ 的木板，初始时没有涂过任何颜色。你希望把它的 $5$ 个单位长度分别涂上红、绿、蓝、绿、红色，用一个长度为 $5$ 的字符串表示这个目标：$\\texttt{RGBGR}$。\n\n每次你可以把一段连续的木板涂成一个给定的颜色，后涂的颜色覆盖先涂的颜色。例如第一次把木板涂成 $\\texttt{RRRRR}$，第二次涂成 $\\texttt{RGGGR}$，第三次涂成 $\\texttt{RGBGR}$，达到目标。\n\n用尽量少的涂色次数达到目标。\n", "inputFormat": "输入仅一行，包含一个长度为 $n$ 的字符串，即涂色目标。字符串中的每个字符都是一个大写字母，不同的字母代表不同颜色，相同的字母代表相同颜色。\n", "outputFormat": "仅一行，包含一个数，即最少的涂色次数。\n", "hint": "$40\\%$ 的数据满足 $1\\le n\\le 10$。\n\n$100\\%$ 的数据满足 $1\\le n\\le 50$。\n\n", "locale": "zh-CN"}}}
{"pid": "P4171", "type": "P", "difficulty": 5, "samples": [["2\n3 4\nm3 h1\nm1 m2\nh1 h3\nh3 m2\n2 4\nh1 m2\nm2 m1\nh1 h2\nm1 h2", "GOOD\nBAD"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["2010", "各省省选", "江苏", "图论建模", "2-SAT"], "title": "[JSOI2010] 满汉全席", "background": null, "description": "满汉全席是中国最丰盛的宴客菜肴，有许多种不同的材料透过满族或是汉族的料理方式，呈现在数量繁多的菜色之中。由于菜色众多而繁杂，只有极少数博学多闻技艺高超的厨师能够做出满汉全席，而能够烹饪出经过专家认证的满汉全席，也是中国厨师最大的荣誉之一。世界满汉全席协会是由能够料理满汉全席的专家厨师们所组成，而他们之间还细分为许多不同等级的厨师。\n\n为了招收新进的厨师进入世界满汉全席协会，将于近日举办满汉全席大赛，协会派遣许多会员当作评审员，为的就是要在参赛的厨师之中，找到满汉界的明日之星。\n\n大会的规则如下：每位参赛的选手可以得到 $n$ 种材料，选手可以自由选择用满式或是汉式料理将材料做成菜肴。\n\n大会的评审制度是：共有 $m$ 位评审员分别把关。每一位评审员对于满汉全席有各自独特的见解，但基本见解是，要有两样菜色作为满汉全席的标志。如某评审认为，如果没有汉式东坡肉跟满式的涮羊肉锅，就不能算是满汉全席。但避免过于有主见的审核，大会规定一个评审员除非是在认为必备的两样菜色都没有做出来的状况下，才能淘汰一位选手，否则不能淘汰一位选手。\n\n换句话说，只要参赛者能在这两种材料的做法中，其中一个符合评审的喜好即可通过该评审的审查。如材料有猪肉，羊肉和牛肉时，有四位评审员的喜好如下表： \n\n```\n评审一 评审二 评审三 评审四 \n满式牛肉 满式猪肉 汉式牛肉 汉式牛肉 \n汉式猪肉 满式羊肉 汉式猪肉 满式羊肉 \n```\n\n如参赛者甲做出满式猪肉，满式羊肉和满式牛肉料理，他将无法满足评审三的要求，无法通过评审。而参赛者乙做出汉式猪肉，满式羊肉和满式牛肉料理，就可以满足所有评审的要求。\n\n但大会后来发现，在这样的制度下如果材料选择跟派出的评审员没有特别安排好的话，所有的参赛者最多只能通过部分评审员的审查而不是全部，所以可能会发生没有人通过考核的情形。\n\n如有四个评审员喜好如下表时，则不论参赛者采取什么样的做法，都不可能通过所有评审的考核： \n\n```\n评审一 评审二 评审三 评审四 \n满式羊肉 满式猪肉 汉式羊肉 汉式羊肉 \n汉式猪肉 满式羊肉 汉式猪肉 满式猪肉 \n```\n\n所以大会希望有人能写一个程序来判断，所选出的 $m$ 位评审，会不会发生没有人能通过考核的窘境，以便协会组织合适的评审团。", "inputFormat": "第一行包含一个数字 $K$（$1\\le K \\le 50$），代表测试文件包含了 $K$ 组数据。\n\n每一组测试数据的第一行包含两个数字 $n$ 跟 $m$（$n≤100$，$m≤1000$），代表有 $n$ 种材料，$m$ 位评审员。\n\n为方便起见，舍弃做法的中文名称而给予编号，编号分别从 $1$ 到 $n$。\n\n接下来的 $m$ 行，每行都代表对应的评审员所拥有的两个喜好，每个喜好由一个英文字母跟一个数字代表，如 $m1$ 代表这个评审喜欢第 $1$ 个材料透过满式料理做出来的菜，而 $h2$ 代表这个评审员喜欢第 $2$ 个材料透过汉式料理做出来的菜。", "outputFormat": "每组测试数据输出一行，如果不会发生没有人能通过考核的窘境，输出 ```GOOD```；否则输出 ```BAD```（均为大写字母）。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "[JSOI2010] Manchu-Han Banquet", "background": "", "description": "The Manchu-Han Banquet is the most lavish Chinese banquet. Many different ingredients, cooked in either Manchu or Han style, appear as a large variety of dishes. Because it is so complex, only a few highly skilled and knowledgeable chefs can make a Manchu-Han Banquet. Being able to cook a Manchu-Han Banquet certified by experts is one of the greatest honors for a Chinese chef. The World Manchu-Han Banquet Association consists of expert chefs capable of cooking this banquet, and they are further divided into different ranks.\n\nTo recruit new chefs into the association, a Manchu-Han Banquet competition will be held soon. The association will send many members to serve as judges, aiming to find the rising star among the contestants.\n\nThe rules are as follows: each contestant receives $n$ types of ingredients and can freely choose to cook each ingredient in Manchu style or Han style.\n\nThe judging system is: there are $m$ judges in total. Each judge has a unique view of the banquet, but the basic idea is that there are two hallmark dishes. For example, a judge may think that without Han-style braised pork (Dongpo pork) and Manchu-style mutton hotpot, it cannot be called a Manchu-Han Banquet. To avoid overly subjective judging, the contest rules state that a judge can eliminate a contestant only if both of their required dishes are missing; otherwise, the judge may not eliminate the contestant.\n\nIn other words, as long as the contestant’s choice for at least one of the two specified ingredients matches the judge’s preference, the contestant passes that judge. For example, if the ingredients are pork, mutton, and beef, and four judges have the following preferences: \n\n```\n评审一 评审二 评审三 评审四 \n满式牛肉 满式猪肉 汉式牛肉 汉式牛肉 \n汉式猪肉 满式羊肉 汉式猪肉 满式羊肉 \n```\n\nIf contestant A cooks Manchu-style pork, Manchu-style mutton, and Manchu-style beef, they cannot satisfy judge three and thus fail that judge. If contestant B cooks Han-style pork, Manchu-style mutton, and Manchu-style beef, they satisfy all judges.\n\nHowever, the organizers later found that under such a system, if the choice of ingredients and the set of judges are not suitably arranged, all contestants might pass at most part of the judges rather than all of them, so no one could pass the entire evaluation.\n\nFor example, if four judges have the following preferences, then no matter what choices a contestant makes, it is impossible to satisfy all judges: \n\n```\n评审一 评审二 评审三 评审四 \n满式羊肉 满式猪肉 汉式羊肉 汉式羊肉 \n汉式猪肉 满式羊肉 汉式猪肉 满式猪肉 \n```\n\nTherefore, the organizers hope for a program to determine whether the selected $m$ judges will lead to the awkward situation where no one can pass the evaluation, so that the association can form a suitable judging panel.", "inputFormat": "The first line contains an integer $K$ ($1\\le K \\le 50$), meaning the test file contains $K$ test cases.\n\nFor each test case, the first line contains two integers $n$ and $m$ ($n≤100$, $m≤1000$), meaning there are $n$ types of ingredients and $m$ judges.\n\nFor convenience, we discard the Chinese names and assign IDs from $1$ to $n$.\n\nThe next $m$ lines each describe the two preferences of a judge. Each preference is represented by an English letter and a number. For example, $m1$ means this judge likes ingredient $1$ cooked in Manchu style, and $h2$ means this judge likes ingredient $2$ cooked in Han style.", "outputFormat": "For each test case, output one line. If it will not happen that nobody can pass the evaluation, output ```GOOD```; otherwise output ```BAD``` (uppercase letters).", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[JSOI2010] 满汉全席", "background": null, "description": "满汉全席是中国最丰盛的宴客菜肴，有许多种不同的材料透过满族或是汉族的料理方式，呈现在数量繁多的菜色之中。由于菜色众多而繁杂，只有极少数博学多闻技艺高超的厨师能够做出满汉全席，而能够烹饪出经过专家认证的满汉全席，也是中国厨师最大的荣誉之一。世界满汉全席协会是由能够料理满汉全席的专家厨师们所组成，而他们之间还细分为许多不同等级的厨师。\n\n为了招收新进的厨师进入世界满汉全席协会，将于近日举办满汉全席大赛，协会派遣许多会员当作评审员，为的就是要在参赛的厨师之中，找到满汉界的明日之星。\n\n大会的规则如下：每位参赛的选手可以得到 $n$ 种材料，选手可以自由选择用满式或是汉式料理将材料做成菜肴。\n\n大会的评审制度是：共有 $m$ 位评审员分别把关。每一位评审员对于满汉全席有各自独特的见解，但基本见解是，要有两样菜色作为满汉全席的标志。如某评审认为，如果没有汉式东坡肉跟满式的涮羊肉锅，就不能算是满汉全席。但避免过于有主见的审核，大会规定一个评审员除非是在认为必备的两样菜色都没有做出来的状况下，才能淘汰一位选手，否则不能淘汰一位选手。\n\n换句话说，只要参赛者能在这两种材料的做法中，其中一个符合评审的喜好即可通过该评审的审查。如材料有猪肉，羊肉和牛肉时，有四位评审员的喜好如下表： \n\n```\n评审一 评审二 评审三 评审四 \n满式牛肉 满式猪肉 汉式牛肉 汉式牛肉 \n汉式猪肉 满式羊肉 汉式猪肉 满式羊肉 \n```\n\n如参赛者甲做出满式猪肉，满式羊肉和满式牛肉料理，他将无法满足评审三的要求，无法通过评审。而参赛者乙做出汉式猪肉，满式羊肉和满式牛肉料理，就可以满足所有评审的要求。\n\n但大会后来发现，在这样的制度下如果材料选择跟派出的评审员没有特别安排好的话，所有的参赛者最多只能通过部分评审员的审查而不是全部，所以可能会发生没有人通过考核的情形。\n\n如有四个评审员喜好如下表时，则不论参赛者采取什么样的做法，都不可能通过所有评审的考核： \n\n```\n评审一 评审二 评审三 评审四 \n满式羊肉 满式猪肉 汉式羊肉 汉式羊肉 \n汉式猪肉 满式羊肉 汉式猪肉 满式猪肉 \n```\n\n所以大会希望有人能写一个程序来判断，所选出的 $m$ 位评审，会不会发生没有人能通过考核的窘境，以便协会组织合适的评审团。", "inputFormat": "第一行包含一个数字 $K$（$1\\le K \\le 50$），代表测试文件包含了 $K$ 组数据。\n\n每一组测试数据的第一行包含两个数字 $n$ 跟 $m$（$n≤100$，$m≤1000$），代表有 $n$ 种材料，$m$ 位评审员。\n\n为方便起见，舍弃做法的中文名称而给予编号，编号分别从 $1$ 到 $n$。\n\n接下来的 $m$ 行，每行都代表对应的评审员所拥有的两个喜好，每个喜好由一个英文字母跟一个数字代表，如 $m1$ 代表这个评审喜欢第 $1$ 个材料透过满式料理做出来的菜，而 $h2$ 代表这个评审员喜欢第 $2$ 个材料透过汉式料理做出来的菜。", "outputFormat": "每组测试数据输出一行，如果不会发生没有人能通过考核的窘境，输出 ```GOOD```；否则输出 ```BAD```（均为大写字母）。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P4172", "type": "P", "difficulty": 6, "samples": [["4 4 3\n1 2 2\n2 3 3\n3 4 2\n1 4 2\n1 1 4\n2 1 4\n1 1 4\n", "2\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "2006", "平衡树", "O2优化", "生成树", "最近公共祖先 LCA", "动态树 LCT", "WC"], "title": "[WC2006] 水管局长", "background": "SC 省 MY 市有着庞大的地下水管网络，嘟嘟是 MY 市的水管局长（就是管水管的啦）。", "description": "每天供水公司可能要将一定量的水从 $u$ 处送往 $v$ 处，嘟嘟需要为供水公司找到一条从 $u$ 至 $v$ 的水管的路径，接着通过信息化的控制中心通知路径上的水管进入准备送水状态，等到路径上每一条水管都准备好了，供水公司就可以开始送水了。嘟嘟一次只能处理一项送水任务，等到当前的送水任务完成了，才能处理下一项。\n\n在处理每项送水任务之前，路径上的水管都要进行一系列的准备操作，如清洗、消毒等等。嘟嘟在控制中心一声令下，这些水管的准备操作同时开始，但由于各条管道的长度、内径不同，进行准备操作需要的时间可能不同。\n\n供水公司总是希望嘟嘟能找到这样一条送水路径，路径上的所有管道全都准备就绪所需要的时间尽量短。嘟嘟希望你能帮助他完成这样的一个选择路径的系统，以满足供水公司的要求。另外，由于 MY 市的水管年代久远，一些水管会不时出现故障导致不能使用，你的程序必须考虑到这一点。\n\n不妨将 MY 市的水管网络看作一幅简单无向图（即没有自环或重边）：水管是图中的边，水管的连接处为图中的结点。整张图共有 $n$ 个节点和 $m$ 条边，节点从 $1$ 至 $n$ 编号。\n", "inputFormat": "第一行有三个整数，分别表示管道连接处（结点）的数目 $n$，目前水管（无向边）的数目 $m$，以及你的程序需要处理的任务数目（包括寻找一条满足要求的路径和接受某条水管坏掉的事实）$q$。\n\n以下 $m$ 行，每行三个整数 $u, v, t$，表示存在一条连接 $(u, v)$ 的水管，准备时间为 $t$。\n\n以下 $q$ 行，每行三个整数 $k, u, v$，描述一项任务。其中 $k$ 表示任务类型：\n\n- 若 $k = 1$，则表示你需要为供水公司寻找一条满足要求的从 $u$ 到 $v$ 的水管路径，满足准备时间最短；\n- 若 $k = 2$，则表示直接连接 $u$ 和 $v$ 的水管宣布报废。\n", "outputFormat": "对于每个 $k = 1$ 的任务，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 10^3$，$1 \\leq m, q \\leq 10^5$。\n- $1 \\leq k \\leq 2$，$1 \\leq u, v \\leq n$，$1 \\leq t \\leq 10^9$。\n- 给出的图无重边无自环，保证在宣布一条水管报废之前，该水管一定存在于图上且没有报废，\n- 宣布报废的水管不超过 $5 \\times 10^3$ 条，且在任意时刻，图一定是联通的。\n\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[WC2006] Waterworks Director", "background": "MY City in SC Province has a huge underground water pipe network. Dudu is the waterworks director of MY City (that is, the person in charge of the pipes).", "description": "Each day, the water supply company may need to deliver a certain amount of water from $u$ to $v$. Dudu must find a path of pipes from $u$ to $v$ for the company. Then, through an information control center, he instructs the pipes on the path to enter a ready-to-deliver state. Once every pipe on the path is ready, the company can start delivering water. Dudu can handle only one delivery task at a time; he can process the next task only after the current delivery is completed.\n\nBefore each delivery task, every pipe on the chosen path must undergo a series of preparation operations, such as cleaning and disinfection. At Dudu’s command, these preparations start simultaneously on all pipes of the path. However, due to differences in length and inner diameter, the required preparation time may vary from pipe to pipe.\n\nThe water supply company always hopes Dudu can find a delivery path such that the time until all pipes on the path are ready is as short as possible. Dudu wants you to help him build a system that selects such a path to meet the company’s requirement. In addition, since the water pipes in MY City are old, some pipes may occasionally fail and become unusable; your program must take this into account.\n\nWe model the water pipe network of MY City as a simple undirected graph (i.e., without self-loops or multiple edges): pipes are edges, and junctions are nodes. The entire graph has $n$ nodes and $m$ edges, with nodes numbered from $1$ to $n$.", "inputFormat": "The first line contains three integers, representing the number of junctions (nodes) $n$, the current number of pipes (undirected edges) $m$, and the number of tasks your program needs to process (including both finding a path that meets the requirement and accepting that some pipe has broken) $q$.\n\nEach of the next $m$ lines contains three integers $u, v, t$, indicating there is a pipe connecting $(u, v)$ with preparation time $t$.\n\nEach of the next $q$ lines contains three integers $k, u, v$, describing a task. Here $k$ indicates the task type:\n- If $k = 1$, you need to find a path of pipes from $u$ to $v$ that meets the requirement, i.e., the preparation time is minimized.\n- If $k = 2$, it means the pipe directly connecting $u$ and $v$ is declared scrapped.", "outputFormat": "For each task with $k = 1$, output a single integer on one line indicating the answer.", "hint": "#### Constraints\n\nFor all test points, it is guaranteed that:\n- $1 \\leq n \\leq 10^3$, $1 \\leq m, q \\leq 10^5$.\n- $1 \\leq k \\leq 2$, $1 \\leq u, v \\leq n$, $1 \\leq t \\leq 10^9$.\n- The given graph has no multiple edges and no self-loops. Before a pipe is declared scrapped, it is guaranteed that the pipe exists in the graph and has not been scrapped.\n- The number of scrapped pipes does not exceed $5 \\times 10^3$, and at any time the graph is guaranteed to remain connected.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[WC2006] 水管局长", "background": "SC 省 MY 市有着庞大的地下水管网络，嘟嘟是 MY 市的水管局长（就是管水管的啦）。", "description": "每天供水公司可能要将一定量的水从 $u$ 处送往 $v$ 处，嘟嘟需要为供水公司找到一条从 $u$ 至 $v$ 的水管的路径，接着通过信息化的控制中心通知路径上的水管进入准备送水状态，等到路径上每一条水管都准备好了，供水公司就可以开始送水了。嘟嘟一次只能处理一项送水任务，等到当前的送水任务完成了，才能处理下一项。\n\n在处理每项送水任务之前，路径上的水管都要进行一系列的准备操作，如清洗、消毒等等。嘟嘟在控制中心一声令下，这些水管的准备操作同时开始，但由于各条管道的长度、内径不同，进行准备操作需要的时间可能不同。\n\n供水公司总是希望嘟嘟能找到这样一条送水路径，路径上的所有管道全都准备就绪所需要的时间尽量短。嘟嘟希望你能帮助他完成这样的一个选择路径的系统，以满足供水公司的要求。另外，由于 MY 市的水管年代久远，一些水管会不时出现故障导致不能使用，你的程序必须考虑到这一点。\n\n不妨将 MY 市的水管网络看作一幅简单无向图（即没有自环或重边）：水管是图中的边，水管的连接处为图中的结点。整张图共有 $n$ 个节点和 $m$ 条边，节点从 $1$ 至 $n$ 编号。\n", "inputFormat": "第一行有三个整数，分别表示管道连接处（结点）的数目 $n$，目前水管（无向边）的数目 $m$，以及你的程序需要处理的任务数目（包括寻找一条满足要求的路径和接受某条水管坏掉的事实）$q$。\n\n以下 $m$ 行，每行三个整数 $u, v, t$，表示存在一条连接 $(u, v)$ 的水管，准备时间为 $t$。\n\n以下 $q$ 行，每行三个整数 $k, u, v$，描述一项任务。其中 $k$ 表示任务类型：\n\n- 若 $k = 1$，则表示你需要为供水公司寻找一条满足要求的从 $u$ 到 $v$ 的水管路径，满足准备时间最短；\n- 若 $k = 2$，则表示直接连接 $u$ 和 $v$ 的水管宣布报废。\n", "outputFormat": "对于每个 $k = 1$ 的任务，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n对于全部的测试点，保证：\n\n- $1 \\leq n \\leq 10^3$，$1 \\leq m, q \\leq 10^5$。\n- $1 \\leq k \\leq 2$，$1 \\leq u, v \\leq n$，$1 \\leq t \\leq 10^9$。\n- 给出的图无重边无自环，保证在宣布一条水管报废之前，该水管一定存在于图上且没有报废，\n- 宣布报废的水管不超过 $5 \\times 10^3$ 条，且在任意时刻，图一定是联通的。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P4173", "type": "P", "difficulty": 6, "samples": [["3 7\na*b\naebr*ob", "2\n1 5"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["字符串", "数学", "快速傅里叶变换 FFT"], "title": "残缺的字符串", "background": null, "description": "很久很久以前，在你刚刚学习字符串匹配的时候，有两个仅包含小写字母的字符串 $A$ 和 $B$，其中 $A$ 串长度为 $m$，$B$ 串长度为 $n$。可当你现在再次碰到这两个串时，这两个串已经老化了，每个串都有不同程度的残缺。\n\n你想对这两个串重新进行匹配，其中 $A$ 为模板串，那么现在问题来了，请回答，对于 $B$ 的每一个位置 $i$，从这个位置开始连续 $m$ 个字符形成的子串是否可能与 $A$ 串完全匹配？", "inputFormat": "第一行包含两个正整数 $m,n$，分别表示 $A$ 串和 $B$ 串的长度。\n\n第二行为一个长度为 $m$ 的字符串 $A$。\n\n第三行为一个长度为 $n$ 的字符串 $B$。\n\n两个串均仅由小写字母和 $\\texttt *$ 组成，其中 $\\texttt *$ 表示相应位置已经残缺，每个 $\\texttt *$ 都可以匹配任意单个小写字母。", "outputFormat": "第一行包含一个整数 $k$，表示 $B$ 串中可以完全匹配 $A$ 串的位置个数。\n\n若 $k>0$，则第二行输出 $k$ 个正整数，从小到大依次输出每个可以匹配的开头位置（下标从 $1$ 开始）。", "hint": "$100\\%$ 的数据满足 $1 \\le m \\le n \\le 3 \\times 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Incomplete Strings", "background": "", "description": "Long ago, when you had just learned string matching, there were two strings $A$ and $B$ containing only lowercase letters, with lengths $m$ and $n$ respectively. Now, when you encounter these two strings again, they have aged; each string has become partially damaged.\n\nYou want to match the two strings again, taking $A$ as the pattern. For every position $i$ in $B$, determine whether the length-$m$ substring starting at this position could exactly match string $A$.", "inputFormat": "The first line contains two positive integers $m, n$, representing the lengths of strings $A$ and $B$ respectively.\n\nThe second line contains a string $A$ of length $m$.\n\nThe third line contains a string $B$ of length $n$.\n\nBoth strings consist only of lowercase letters and $\\texttt *$, where $\\texttt *$ indicates that the corresponding position is damaged and each $\\texttt *$ can match any single lowercase letter.", "outputFormat": "The first line contains an integer $k$, the number of starting positions in $B$ where $A$ can exactly match.\n\nIf $k > 0$, then on the second line output $k$ positive integers in increasing order, each being a valid starting position (indices start from $1$).", "hint": "For $100\\%$ of the testdata, $1 \\le m \\le n \\le 3 \\times 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "残缺的字符串", "background": null, "description": "很久很久以前，在你刚刚学习字符串匹配的时候，有两个仅包含小写字母的字符串 $A$ 和 $B$，其中 $A$ 串长度为 $m$，$B$ 串长度为 $n$。可当你现在再次碰到这两个串时，这两个串已经老化了，每个串都有不同程度的残缺。\n\n你想对这两个串重新进行匹配，其中 $A$ 为模板串，那么现在问题来了，请回答，对于 $B$ 的每一个位置 $i$，从这个位置开始连续 $m$ 个字符形成的子串是否可能与 $A$ 串完全匹配？", "inputFormat": "第一行包含两个正整数 $m,n$，分别表示 $A$ 串和 $B$ 串的长度。\n\n第二行为一个长度为 $m$ 的字符串 $A$。\n\n第三行为一个长度为 $n$ 的字符串 $B$。\n\n两个串均仅由小写字母和 $\\texttt *$ 组成，其中 $\\texttt *$ 表示相应位置已经残缺，每个 $\\texttt *$ 都可以匹配任意单个小写字母。", "outputFormat": "第一行包含一个整数 $k$，表示 $B$ 串中可以完全匹配 $A$ 串的位置个数。\n\n若 $k>0$，则第二行输出 $k$ 个正整数，从小到大依次输出每个可以匹配的开头位置（下标从 $1$ 开始）。", "hint": "$100\\%$ 的数据满足 $1 \\le m \\le n \\le 3 \\times 10^5$。", "locale": "zh-CN"}}}
{"pid": "P4174", "type": "P", "difficulty": 6, "samples": [["5 5\n1 2 3 4 5\n1 2 3\n2 3 4\n1 3 3\n1 4 2\n4 5 3", "4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2006", "NOI", "网络流", "广度优先搜索 BFS", "深度优先搜索 DFS"], "title": "[NOI2006] 最大获利", "background": "", "description": "新的技术正冲击着手机通讯市场，对于各大运营商来说，这既是机遇，更是挑战。THU 集团旗下的 CS&T 通讯公司在新一代通讯技术血战的前夜，需要做太多的准备工作，仅就站址选择一项，就需要完成前期市场研究、站址勘测、最优化等项目。\n\n在前期市场调查和站址勘测之后，公司得到了一共 $N$ 个可以作为通讯信号中转站的地址，而由于这些地址的地理位置差异，在不同的地方建造通讯中转站需要投入的成本也是不一样的，所幸在前期调查之后这些都是已知数据：建立第 $i$ 个通讯中转站需要的成本为 $P_i$（$1 \\leq i \\leq N$）。\n\n另外公司调查得出了所有期望中的用户群，一共 $M$ 个。关于第 $i$ 个用户群的信息概括为 $A_i$，$B_i$ 和 $C_i$ ：这些用户会使用中转站 $A_i$ 和中转站 $B_i$ 进行通讯，公司可以获益 $C_i$。（$1 \\leq i \\leq M$，$1 \\leq A_i, B_i \\leq N$）\n\nTHU 集团的 CS&T 公司可以有选择的建立一些中转站（投入成本），为一些用户提供服务并获得收益（获益之和）。那么如何选择最终建立的中转站才能让公司的净获利最大呢？（净获利 = 获益之和 – 投入成本之和）\n", "inputFormat": "输入文件中第一行有两个正整数 $N$ 和 $M$。\n\n第二行中有 $N$ 个整数描述每一个通讯中转站的建立成本，依次为 $P_1 , P_2 , …,P_N$。\n\n以下 $M$ 行，第 $i + 2$ 行的三个数 $A_i , B_i$ 和 $C_i$ 描述第 $i$ 个用户群的信息。\n\n所有变量的含义可以参见题目描述。\n", "outputFormat": "你的程序只要向输出文件输出一个整数，表示公司可以得到的最大净获利。\n", "hint": "样例：选择建立 $1,2,3$ 号中转站，则需要投入成本 $6$，获利为 $10$，因此得到最大收益 $4$。\n\n$100\\%$ 的数据中：$N \\leq 5\\,000$，$M \\leq50\\,000$，$0 \\leq C_i \\leq 100$，$0 \\leq P_i  \\leq 100$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[NOI2006] Maximum Profit", "background": "", "description": "New technologies are impacting the mobile communications market. For major operators, this is both an opportunity and a challenge. On the eve of the battle over next-generation communication technologies, the CS&T Communications company under the THU Group has a lot to prepare. Even for site selection alone, they need to complete preliminary market research, site surveys, and optimization.\n\nAfter the preliminary market research and site surveys, the company has identified a total of $N$ candidate locations for communication relay stations. Due to geographical differences, the cost of building a relay station varies by location. Fortunately, after the preliminary investigation, these data are known: the cost to build the $i$-th relay station is $P_i$ ($1 \\leq i \\leq N$).\n\nIn addition, the company has identified all target user groups, a total of $M$. The information for the $i$-th user group is summarized by $A_i$, $B_i$, and $C_i$: these users will use relay station $A_i$ and relay station $B_i$ to communicate, and the company can gain a profit of $C_i$ ($1 \\leq i \\leq M$, $1 \\leq A_i, B_i \\leq N$).\n\nThe CS&T company under THU can choose to build some relay stations (incurring costs), serve some user groups, and obtain revenue (the sum of gains). How should the company choose which relay stations to build to maximize net profit? (Net profit = sum of gains − sum of costs.)", "inputFormat": "The first line of the input contains two positive integers $N$ and $M$.\n\nThe second line contains $N$ integers describing the construction cost of each relay station, in order: $P_1 , P_2 , …,P_N$.\n\nThe following $M$ lines: the $(i + 2)$-th line contains three numbers $A_i$, $B_i$, and $C_i$ describing the information of the $i$-th user group.\n\nAll variables have the meanings described in the problem statement.", "outputFormat": "Output a single integer, representing the maximum net profit the company can obtain.", "hint": "Example: choose to build relay stations $1, 2, 3$. The total cost is $6$, and the total gain is $10$, so the maximum profit is $4$.\n\nFor $100\\%$ of the testdata: $N \\leq 5\\,000$, $M \\leq 50\\,000$, $0 \\leq C_i \\leq 100$, $0 \\leq P_i \\leq 100$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOI2006] 最大获利", "background": "", "description": "新的技术正冲击着手机通讯市场，对于各大运营商来说，这既是机遇，更是挑战。THU 集团旗下的 CS&T 通讯公司在新一代通讯技术血战的前夜，需要做太多的准备工作，仅就站址选择一项，就需要完成前期市场研究、站址勘测、最优化等项目。\n\n在前期市场调查和站址勘测之后，公司得到了一共 $N$ 个可以作为通讯信号中转站的地址，而由于这些地址的地理位置差异，在不同的地方建造通讯中转站需要投入的成本也是不一样的，所幸在前期调查之后这些都是已知数据：建立第 $i$ 个通讯中转站需要的成本为 $P_i$（$1 \\leq i \\leq N$）。\n\n另外公司调查得出了所有期望中的用户群，一共 $M$ 个。关于第 $i$ 个用户群的信息概括为 $A_i$，$B_i$ 和 $C_i$ ：这些用户会使用中转站 $A_i$ 和中转站 $B_i$ 进行通讯，公司可以获益 $C_i$。（$1 \\leq i \\leq M$，$1 \\leq A_i, B_i \\leq N$）\n\nTHU 集团的 CS&T 公司可以有选择的建立一些中转站（投入成本），为一些用户提供服务并获得收益（获益之和）。那么如何选择最终建立的中转站才能让公司的净获利最大呢？（净获利 = 获益之和 – 投入成本之和）\n", "inputFormat": "输入文件中第一行有两个正整数 $N$ 和 $M$。\n\n第二行中有 $N$ 个整数描述每一个通讯中转站的建立成本，依次为 $P_1 , P_2 , …,P_N$。\n\n以下 $M$ 行，第 $i + 2$ 行的三个数 $A_i , B_i$ 和 $C_i$ 描述第 $i$ 个用户群的信息。\n\n所有变量的含义可以参见题目描述。\n", "outputFormat": "你的程序只要向输出文件输出一个整数，表示公司可以得到的最大净获利。\n", "hint": "样例：选择建立 $1,2,3$ 号中转站，则需要投入成本 $6$，获利为 $10$，因此得到最大收益 $4$。\n\n$100\\%$ 的数据中：$N \\leq 5\\,000$，$M \\leq50\\,000$，$0 \\leq C_i \\leq 100$，$0 \\leq P_i  \\leq 100$。\n", "locale": "zh-CN"}}}
{"pid": "P4175", "type": "P", "difficulty": 6, "samples": [["5 5\n5 1 2 3 4\n3 1\n2 1\n4 3\n5 3\n2 4 5\n0 1 2\n2 2 3\n2 1 4\n3 3 5", "3\n2\n2\ninvalid request!"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2008", "莫队", "线段树", "平衡树", "树状数组", "树链剖分", "树套树", "可持久化线段树", "分块", "整体二分", "CTSC/CTS"], "title": "[CTSC2008] 网络管理", "background": "", "description": "M 公司是一个非常庞大的跨国公司，在许多国家都设有它的下属分支机构或部门。为了让分布在世界各地的 $n$ 个部门之间协同工作，公司搭建了一个连接整个公司的通信网络。  \n\n该网络的结构由 $n$ 个路由器和 $n-1$ 条高速光缆组成。每个部门都有一个专属的路由器，部门局域网内的所有机器都联向这个路由器，然后再通过这个通信子网与其他部门进行通信联络。该网络结构保证网络中的任意两个路由器之间都存在一条直接或间接路径以进行通信。   \n\n高速光缆的数据传输速度非常快，以至于利用光缆传输的延迟时间可以忽略。但是由于路由器老化，在这些路由器上进行数据交换会带来很大的延迟。而两个路由器之间的通信延迟时间则与这两个路由器通信路径上所有路由器中最大的交换延迟时间有关。  \n\n作为 M 公司网络部门的一名实习员工，现在要求你编写一个简单的程序来监视公司的网络状况。该程序能够随时更新网络状况的变化信息（路由器数据交换延迟时间的变化），并且根据询问给出两个路由器通信路径上延迟第 $k$ 大的路由器的延迟时间。\n****\n【任务】   \n你的程序从输入文件中读入 $n$ 个路由器和 $n-1$ 条光缆的连接信息，每个路由器初始的数据交换延迟时间 $t_i$，以及 $q$ 条询问（或状态改变）的信息。并依次处理这 $q$ 条询问信息，它们可能是：\n\n1. 由于更新了设备，或者设备出现新的故障，使得某个路由器的数据交换延迟时间发生了变化。\n\n2. 查询某两个路由器 $a$ 和 $v$ 之间的路径上延迟第 $k$ 大的路由器的延迟时间。\n", "inputFormat": "第一行为两个整数 $n$ 和 $q$，分别表示路由器总数和询问的总数。\n\n第二行有 $n$ 个整数，第 $i$ 个数表示编号为i的路由器初始的数据延迟时间 $t_i$。\n\n紧接着 $n-1$ 行，每行包含两个整数 $x$ 和 $y$。表示有一条光缆连接路由器 $x$ 和路由器 $y$。\n\n紧接着是 $q$ 行，每行三个整数 $k,a,b$。\n\n如果 $k=0$，则表示路由器 $a$ 的状态发生了变化，它的数据交换延迟时间由 $t_a$ 变为 $b$。\n\n如果 $k>0$，则表示询问 $a$ 到 $b$ 的路径上所经过的所有路由器（包括 $a$ 和 $b$）中延迟第 $k$ 大的路由器的延迟时间。注意 $a$ 可以等于 $b$，此时路径上只有一个路由器。\n", "outputFormat": "对于每一个第二种询问（即 $k>0$ ），输出一行。  \n包含一个整数为相应的延迟时间。如果路径上的路由器不足 $k$ 个，则输出信息 `invalid request!`。\n", "hint": "【数据范围】  \n对于 $100\\%$ 的数据，$1\\le n,q \\le 80000$，$0 \\le k \\le n$，任意一个路由器在任何时刻都满足延迟时间小于 $10^8$。\n\n", "locale": "zh-CN", "translations": {"en": {"title": "[CTSC2008] Network Management", "background": "", "description": "Company M is a very large multinational with branches or departments in many countries. To let the $n$ departments distributed around the world work together, the company built a communication network that connects the entire company.\n\nThe network consists of $n$ routers and $n-1$ high-speed fiber-optic cables. Each department has a dedicated router; all machines in the department’s local area network connect to this router, and then communicate with other departments through this communication subnet. The network structure guarantees that between any two routers there exists a direct or indirect path for communication.\n\nThe fiber-optic cables transmit data so fast that the latency on the cables can be ignored. However, due to router aging, exchanging data on the routers introduces significant delay. The communication delay between two routers is determined by the maximum exchange delay among all routers on the communication path between the two routers.\n\nAs an intern in Company M’s network division, you are asked to write a simple program to monitor the company’s network status. The program must be able to update the network status at any time (changes in routers’ data exchange delay), and, upon queries, report the delay of the $k$-th largest-delay router on the path between two routers.\n\nTask: Your program reads from the input file the connectivity of the $n$ routers and $n-1$ fiber-optic cables, the initial data exchange delay $t_i$ of each router, and $q$ queries (or state changes). Process the $q$ queries in order; each is one of:\n1. Due to an upgrade or a new fault, a router’s data exchange delay changes.\n2. Query the delay of the $k$-th largest-delay router on the path between routers $a$ and $b$.", "inputFormat": "The first line contains two integers $n$ and $q$, the total number of routers and the total number of queries.\n\nThe second line contains $n$ integers; the $i$-th number is the initial data exchange delay $t_i$ of router $i$.\n\nThe next $n-1$ lines each contain two integers $x$ and $y$, indicating there is a fiber-optic cable connecting router $x$ and router $y$.\n\nThen follow $q$ lines, each containing three integers $k, a, b$.\n\nIf $k=0$, router $a$ changes state: its data exchange delay changes from $t_a$ to $b$.\n\nIf $k>0$, query the $k$-th largest delay among all routers on the path from $a$ to $b$ (including $a$ and $b$). Note that $a$ can be equal to $b$; in this case, the path contains only one router.", "outputFormat": "For each query of the second type (i.e., $k>0$), output one line containing a single integer, the corresponding delay. If the routers on the path are fewer than $k$, output `invalid request!`.", "hint": "Constraints  \nFor $100\\%$ of the testdata, $1 \\le n, q \\le 80000$, $0 \\le k \\le n$, and at any time the delay of any router is less than $10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CTSC2008] 网络管理", "background": "", "description": "M 公司是一个非常庞大的跨国公司，在许多国家都设有它的下属分支机构或部门。为了让分布在世界各地的 $n$ 个部门之间协同工作，公司搭建了一个连接整个公司的通信网络。  \n\n该网络的结构由 $n$ 个路由器和 $n-1$ 条高速光缆组成。每个部门都有一个专属的路由器，部门局域网内的所有机器都联向这个路由器，然后再通过这个通信子网与其他部门进行通信联络。该网络结构保证网络中的任意两个路由器之间都存在一条直接或间接路径以进行通信。   \n\n高速光缆的数据传输速度非常快，以至于利用光缆传输的延迟时间可以忽略。但是由于路由器老化，在这些路由器上进行数据交换会带来很大的延迟。而两个路由器之间的通信延迟时间则与这两个路由器通信路径上所有路由器中最大的交换延迟时间有关。  \n\n作为 M 公司网络部门的一名实习员工，现在要求你编写一个简单的程序来监视公司的网络状况。该程序能够随时更新网络状况的变化信息（路由器数据交换延迟时间的变化），并且根据询问给出两个路由器通信路径上延迟第 $k$ 大的路由器的延迟时间。\n****\n【任务】   \n你的程序从输入文件中读入 $n$ 个路由器和 $n-1$ 条光缆的连接信息，每个路由器初始的数据交换延迟时间 $t_i$，以及 $q$ 条询问（或状态改变）的信息。并依次处理这 $q$ 条询问信息，它们可能是：\n\n1. 由于更新了设备，或者设备出现新的故障，使得某个路由器的数据交换延迟时间发生了变化。\n\n2. 查询某两个路由器 $a$ 和 $v$ 之间的路径上延迟第 $k$ 大的路由器的延迟时间。\n", "inputFormat": "第一行为两个整数 $n$ 和 $q$，分别表示路由器总数和询问的总数。\n\n第二行有 $n$ 个整数，第 $i$ 个数表示编号为i的路由器初始的数据延迟时间 $t_i$。\n\n紧接着 $n-1$ 行，每行包含两个整数 $x$ 和 $y$。表示有一条光缆连接路由器 $x$ 和路由器 $y$。\n\n紧接着是 $q$ 行，每行三个整数 $k,a,b$。\n\n如果 $k=0$，则表示路由器 $a$ 的状态发生了变化，它的数据交换延迟时间由 $t_a$ 变为 $b$。\n\n如果 $k>0$，则表示询问 $a$ 到 $b$ 的路径上所经过的所有路由器（包括 $a$ 和 $b$）中延迟第 $k$ 大的路由器的延迟时间。注意 $a$ 可以等于 $b$，此时路径上只有一个路由器。\n", "outputFormat": "对于每一个第二种询问（即 $k>0$ ），输出一行。  \n包含一个整数为相应的延迟时间。如果路径上的路由器不足 $k$ 个，则输出信息 `invalid request!`。\n", "hint": "【数据范围】  \n对于 $100\\%$ 的数据，$1\\le n,q \\le 80000$，$0 \\le k \\le n$，任意一个路由器在任何时刻都满足延迟时间小于 $10^8$。\n\n", "locale": "zh-CN"}}}
{"pid": "P4176", "type": "P", "difficulty": 6, "samples": [["3 1", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2006", "各省省选", "湖南"], "title": "[HNOI2006] 花仙子的魔法", "background": "", "description": "相传，在天地初成的远古时代，世界上只有一种叫做“元”的花。接下来，出现了一位拥有魔法的花仙子，她能给花附加属性，从此，“元”便不断变异，产生了大千世界千奇百怪的各种各样的花。据说，花仙子既可存在于二维空间（平面），又可存在于三维空间（立体），还可存在于 $n$ 维空间（想象）。二维空间的点可用向量 $\\left(x_1,x_2\\right)$ 表示，三维空间的点可用向量 $\\left(x_1,x_2,x_3\\right)$ 表示，一般来说，$n$ 维空间的点可用向量 $\\left(x_1,x_2,\\cdots,x_n\\right)$ 表示。而 $n$ 维空间中两点 $\\left(x_1,x_2,\\cdots,x_n\\right)$ 与 $\\left(w_1,w_2,\\cdots,w_n\\right)$ 之间的距离定义为$\\sqrt{\\sum_{i=1}^{n}(X_i-W_i)^2}$。 在 $n$ 维空间中，花仙子每实施魔法就要选择一个参考点 $\\left(w_1,w_2,\\cdots,w_n\\right)$ 和一个作用半径 $r$，并且参考点的位置和作用半径的大小可以任意选择。这时，$n$ 维空间中所有与参考点 $\\left(w_1,w_2,\\cdots,w_n\\right)$ 之间的距离小于作用半径 $r$ 的花都会受到这次魔法的影响。每次魔法都会给受到影响的花带来不同的属性，且的效 果可以叠加。一般来说，若花仙子总共实施了 $m$ 次魔法，则 $n$ 维空间中处于某点的花所具有的属性可用长度为 $m$ 的二进制串 $\\left(a_1,a_2,\\cdots,a_n\\right)$ 来描述，其中对 $1\\le i\\le m$，若该花受到第 $i$ 次魔法的影响，则 $a_i$ 的值为 $1$,否则为 $0$。显然，不同的属性对应不同的花。 现在的问题是：花仙子在 $n$ 维空间中实施了 $m$ 次魔法后，最多能得到多少种不同的花？\n", "inputFormat": "包含两个整数，并用一个空格隔开，第一个整数表示实施魔法的次数 $m$，第二个整数表示空间的维数 $n$。其中，$1\\le m\\le 100$，$1 \\le n \\le 15$。\n", "outputFormat": "输出一行一个整数表示答案。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[HNOI2006] The Flower Fairy’s Magic", "background": "", "description": "Legend says that in the primordial era when heaven and earth first formed, there was only one kind of flower in the world, called “Yuan” (yuan). Later, a Flower Fairy with magic appeared. She could add attributes to flowers, and from then on “Yuan” kept mutating, giving rise to countless diverse flowers. It is said that the Flower Fairy can exist in two-dimensional space (plane), three-dimensional space (solid), and even $n$-dimensional space (imagination). A point in two-dimensional space can be represented by the vector $\\left(x_1,x_2\\right)$, a point in three-dimensional space by $\\left(x_1,x_2,x_3\\right)$, and in general, a point in $n$-dimensional space by $\\left(x_1,x_2,\\cdots,x_n\\right)$. The distance between two points $\\left(x_1,x_2,\\cdots,x_n\\right)$ and $\\left(w_1,w_2,\\cdots,w_n\\right)$ in $n$-dimensional space is defined as $\\sqrt{\\sum_{i=1}^{n}(X_i-W_i)^2}$.\n\nIn $n$-dimensional space, every time the Flower Fairy performs magic, she chooses a reference point $\\left(w_1,w_2,\\cdots,w_n\\right)$ and an action radius $r$, and both the position of the reference point and the size of the radius can be chosen arbitrarily. At this time, all flowers in $n$-dimensional space whose distance to the reference point $\\left(w_1,w_2,\\cdots,w_n\\right)$ is less than $r$ will be affected by this spell. Each spell gives different attributes to the affected flowers, and the effects can be stacked.\n\nIn general, if the Flower Fairy performs $m$ spells in total, then the attributes of the flower located at any point in $n$-dimensional space can be described by a binary string of length $m$, $\\left(a_1,a_2,\\cdots,a_n\\right)$. For $1 \\le i \\le m$, if the flower is affected by the $i$-th spell, then $a_i$ is $1$; otherwise $a_i$ is $0$. Obviously, different attributes correspond to different kinds of flowers. The problem is: after the Flower Fairy performs $m$ spells in $n$-dimensional space, what is the maximum number of different kinds of flowers she can obtain?", "inputFormat": "Contains two integers separated by a space. The first integer $m$ is the number of spells performed, and the second integer $n$ is the dimension of the space. Constraints: $1 \\le m \\le 100$, $1 \\le n \\le 15$.", "outputFormat": "Output one line with a single integer representing the answer.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[HNOI2006] 花仙子的魔法", "background": "", "description": "相传，在天地初成的远古时代，世界上只有一种叫做“元”的花。接下来，出现了一位拥有魔法的花仙子，她能给花附加属性，从此，“元”便不断变异，产生了大千世界千奇百怪的各种各样的花。据说，花仙子既可存在于二维空间（平面），又可存在于三维空间（立体），还可存在于 $n$ 维空间（想象）。二维空间的点可用向量 $\\left(x_1,x_2\\right)$ 表示，三维空间的点可用向量 $\\left(x_1,x_2,x_3\\right)$ 表示，一般来说，$n$ 维空间的点可用向量 $\\left(x_1,x_2,\\cdots,x_n\\right)$ 表示。而 $n$ 维空间中两点 $\\left(x_1,x_2,\\cdots,x_n\\right)$ 与 $\\left(w_1,w_2,\\cdots,w_n\\right)$ 之间的距离定义为$\\sqrt{\\sum_{i=1}^{n}(X_i-W_i)^2}$。 在 $n$ 维空间中，花仙子每实施魔法就要选择一个参考点 $\\left(w_1,w_2,\\cdots,w_n\\right)$ 和一个作用半径 $r$，并且参考点的位置和作用半径的大小可以任意选择。这时，$n$ 维空间中所有与参考点 $\\left(w_1,w_2,\\cdots,w_n\\right)$ 之间的距离小于作用半径 $r$ 的花都会受到这次魔法的影响。每次魔法都会给受到影响的花带来不同的属性，且的效 果可以叠加。一般来说，若花仙子总共实施了 $m$ 次魔法，则 $n$ 维空间中处于某点的花所具有的属性可用长度为 $m$ 的二进制串 $\\left(a_1,a_2,\\cdots,a_n\\right)$ 来描述，其中对 $1\\le i\\le m$，若该花受到第 $i$ 次魔法的影响，则 $a_i$ 的值为 $1$,否则为 $0$。显然，不同的属性对应不同的花。 现在的问题是：花仙子在 $n$ 维空间中实施了 $m$ 次魔法后，最多能得到多少种不同的花？\n", "inputFormat": "包含两个整数，并用一个空格隔开，第一个整数表示实施魔法的次数 $m$，第二个整数表示空间的维数 $n$。其中，$1\\le m\\le 100$，$1 \\le n \\le 15$。\n", "outputFormat": "输出一行一个整数表示答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4177", "type": "P", "difficulty": 6, "samples": [["2 3\n100 2\n1 30\n2 20\n100 2\n1 40\n3 80\n50\n80\n110", "50"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["2008", "CEOI（中欧）", "最小割"], "title": "[CEOI 2008] order", "background": "", "description": "有 $N$ 个工作，$M$ 种机器，每种机器可以租或者买。每个工作包括若干道工序，每道工序需要某种机器来完成。\n\n你需要最大化利益。", "inputFormat": "第一行给出 $N,M$。\n\n接下来若干行描述一个工作，对于每个工作，第一行给定 $x_i$ 和 $t_i$，分别表示此工作的收入和工序数。\n\n后面 $t_i$ 行，每行两个整数 $a_{ij}$ 和 $b_{ij}$，分别表示此工序需要的机器和此工作租用此机器的费用。\n\n最后 $M$ 行，每行一个正整数表示购买机器的费用 $y_i$。", "outputFormat": "最大利润\n", "hint": "对于 $100\\%$ 的数据满足 $1\\le N,M\\le 1200，1\\le x_i\\le 5000，b_{ij},y_i\\le 20000$。", "locale": "zh-CN", "translations": {"en": {"title": "[CEOI 2008] order", "background": "", "description": "There are $N$ jobs and $M$ types of machines. Each type of machine can either be rented or purchased. Each job consists of several operations, and each operation requires a certain type of machine to complete.\n\nYou need to maximize the profit.", "inputFormat": "The first line gives $N, M$.\n\nThen, for each of the $N$ jobs:\n- The first line gives $x_i$ and $t_i$, denoting the revenue of this job and the number of operations, respectively.\n- The next $t_i$ lines each contain two integers $a_{ij}$ and $b_{ij}$, denoting the machine required for this operation and the cost of renting this machine for this job, respectively.\n\nFinally, the last $M$ lines each contain a positive integer $y_i$, denoting the cost of purchasing machine $i$.", "outputFormat": "The maximum profit.", "hint": "Constraints: For $100\\%$ of the testdata, $1 \\le N, M \\le 1200$, $1 \\le x_i \\le 5000$, $b_{ij}, y_i \\le 20000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[CEOI 2008] order", "background": "", "description": "有 $N$ 个工作，$M$ 种机器，每种机器可以租或者买。每个工作包括若干道工序，每道工序需要某种机器来完成。\n\n你需要最大化利益。", "inputFormat": "第一行给出 $N,M$。\n\n接下来若干行描述一个工作，对于每个工作，第一行给定 $x_i$ 和 $t_i$，分别表示此工作的收入和工序数。\n\n后面 $t_i$ 行，每行两个整数 $a_{ij}$ 和 $b_{ij}$，分别表示此工序需要的机器和此工作租用此机器的费用。\n\n最后 $M$ 行，每行一个正整数表示购买机器的费用 $y_i$。", "outputFormat": "最大利润\n", "hint": "对于 $100\\%$ 的数据满足 $1\\le N,M\\le 1200，1\\le x_i\\le 5000，b_{ij},y_i\\le 20000$。", "locale": "zh-CN"}}}
{"pid": "P4178", "type": "P", "difficulty": 5, "samples": [["7\n1 6 13 \n6 3 9 \n3 5 7 \n4 1 3 \n2 4 20 \n4 7 2 \n10", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["线段树", "点分治", "树状数组", "树上启发式合并", "分治", "容斥原理"], "title": "Tree", "background": "", "description": "给定一棵 $n$ 个节点的树，每条边有边权，求出树上两点距离小于等于 $k$ 的点对数量。  ", "inputFormat": "第一行输入一个整数 $n$，表示节点个数。  \n\n第二行到第 $n$ 行每行输入三个整数 $u,v,w$ ，表示 $u$ 与 $v$ 有一条边，边权是 $w$。  \n\n第 $n+1$ 行一个整数 $k$ 。 ", "outputFormat": "一行一个整数，表示答案。  ", "hint": "**数据规模与约定**\n\n对于全部的测试点，保证：  \n\n- $1\\leq n\\leq 4\\times 10^4$。\n- $1\\leq u,v\\leq n$。\n- $0\\leq w\\leq 10^3$。\n- $0\\leq k\\leq 2\\times 10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Tree", "background": "", "description": "Given a tree with $n$ nodes where each edge has a weight, find the number of pairs of nodes whose distance on the tree is less than or equal to $k$.", "inputFormat": "The first line contains an integer $n$, the number of nodes.\n\nLines $2$ to $n$ each contain three integers $u, v, w$, indicating there is an edge between $u$ and $v$ with weight $w$.\n\nLine $n+1$ contains an integer $k$.", "outputFormat": "Output a single integer on one line, the answer.", "hint": "Constraints\n\nFor all test points, it is guaranteed that:\n- $1 \\le n \\le 4 \\times 10^4$.\n- $1 \\le u, v \\le n$.\n- $0 \\le w \\le 10^3$.\n- $0 \\le k \\le 2 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Tree", "background": "", "description": "给定一棵 $n$ 个节点的树，每条边有边权，求出树上两点距离小于等于 $k$ 的点对数量。  ", "inputFormat": "第一行输入一个整数 $n$，表示节点个数。  \n\n第二行到第 $n$ 行每行输入三个整数 $u,v,w$ ，表示 $u$ 与 $v$ 有一条边，边权是 $w$。  \n\n第 $n+1$ 行一个整数 $k$ 。 ", "outputFormat": "一行一个整数，表示答案。  ", "hint": "**数据规模与约定**\n\n对于全部的测试点，保证：  \n\n- $1\\leq n\\leq 4\\times 10^4$。\n- $1\\leq u,v\\leq n$。\n- $0\\leq w\\leq 10^3$。\n- $0\\leq k\\leq 2\\times 10^4$。", "locale": "zh-CN"}}}
