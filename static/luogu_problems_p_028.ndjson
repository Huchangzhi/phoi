{"pid": "P1561", "type": "P", "difficulty": 6, "samples": [["3\n6 4\n8 1\n2 3", "17"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["贪心", "2012", "USACO"], "title": "[USACO12JAN] Mountain Climbing S", "background": "", "description": "Farmer John has discovered that his cows produce higher quality milk when they are subject to strenuous exercise.  He therefore decides to send his N cows (1 <= N <= 25,000) to climb up and then back down a nearby mountain!\n\nCow i takes U(i) time to climb up the mountain and then D(i) time to climb down the mountain.  Being domesticated cows, each cow needs the help of a farmer for each leg of the climb, but due to the poor economy, there are only two farmers available, Farmer John and his cousin Farmer Don.  FJ plans to guide cows for the upward climb, and FD will then guide the cows for the downward climb.  Since every cow needs a guide, and there is only one farmer for each part of the voyage, at most one cow may be climbing upward at any point in time (assisted by FJ), and at most one cow may be climbing down at any point in time (assisted by FD).  A group of cows may temporarily accumulate at the top of the mountain if they climb up and then need to wait for FD's assistance before climbing down.  Cows may climb down in a different order than they climbed up.\n\nPlease determine the least possible amount of time for all N cows to make the entire journey.\n", "inputFormat": "Line 1: The number of cows, N.\nLines 2..1+N: Line i+1 contains two space-separated integers: U(i) and D(i). (1 <= U(i), D(i) <= 50,000).", "outputFormat": "Line 1: A single integer representing the least amount of time for all the cows to cross the mountain.", "hint": "", "locale": "en", "translations": {"en": {"title": "[USACO12JAN] Mountain Climbing S", "background": "", "description": "Farmer John has discovered that his cows produce higher quality milk when they are subject to strenuous exercise.  He therefore decides to send his N cows (1 <= N <= 25,000) to climb up and then back down a nearby mountain!\n\nCow i takes U(i) time to climb up the mountain and then D(i) time to climb down the mountain.  Being domesticated cows, each cow needs the help of a farmer for each leg of the climb, but due to the poor economy, there are only two farmers available, Farmer John and his cousin Farmer Don.  FJ plans to guide cows for the upward climb, and FD will then guide the cows for the downward climb.  Since every cow needs a guide, and there is only one farmer for each part of the voyage, at most one cow may be climbing upward at any point in time (assisted by FJ), and at most one cow may be climbing down at any point in time (assisted by FD).  A group of cows may temporarily accumulate at the top of the mountain if they climb up and then need to wait for FD's assistance before climbing down.  Cows may climb down in a different order than they climbed up.\n\nPlease determine the least possible amount of time for all N cows to make the entire journey.\n", "inputFormat": "Line 1: The number of cows, N.\nLines 2..1+N: Line i+1 contains two space-separated integers: U(i) and D(i). (1 <= U(i), D(i) <= 50,000).", "outputFormat": "Line 1: A single integer representing the least amount of time for all the cows to cross the mountain.", "hint": "", "locale": "en"}, "zh-CN": {"title": "[USACO12JAN] Mountain Climbing S", "background": "", "description": "约翰农夫发现他的奶牛在进行剧烈运动时会产出更高质量的牛奶。因此，他决定让他的 $N$ 头奶牛（$1 \\le N \\le 25,000$）去爬一座附近的山，然后再下来！\n\n第 $i$ 头奶牛需要 $U(i)$ 的时间爬上山，然后需要 $D(i)$ 的时间爬下山。由于奶牛是家养的，每头奶牛在爬山的每一段路程中都需要农夫的帮助，但由于经济不景气，只有两位农夫可用，即约翰农夫和他的表弟唐农夫。约翰农夫计划指导奶牛上山，而唐农夫将指导奶牛下山。由于每头奶牛都需要一个向导，并且每段旅程中只有一位农夫，因此在任何时间点，最多只有一头奶牛可以在约翰农夫的帮助下爬上山，最多只有一头奶牛可以在唐农夫的帮助下爬下山。奶牛可能会在山顶暂时聚集，如果它们爬上山后需要等待唐农夫的帮助才能下山。奶牛下山的顺序可以与上山的顺序不同。\n\n请确定所有 $N$ 头奶牛完成整个旅程所需的最短时间。\n", "inputFormat": "第一行，一个整数 $N$。\n\n第 $2$ 到第 $N+1$ 行，每行两个用空格隔开的整数 $U(i)$ 和 $D(i)$。\n\n$(1 \\le U(i),D(i) \\le 50,000)$。", "outputFormat": "一行一个整数，表示所有 $N$ 头奶牛完成旅程的最短时间。", "hint": "（由 ChatGPT 4o 翻译）", "locale": "zh-CN"}}}
{"pid": "P1562", "type": "P", "difficulty": 3, "samples": [["4\n**.*\n****\n****\n****", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "进制", "位运算"], "title": "还是 N 皇后", "background": "正如题目所说，这题是著名的 $N$ 皇后问题。", "description": "一个 $ N×N $ 的跳棋棋盘，有 $ N $ 个皇后棋子被放置在棋盘上，使得每行、每列有且只有一个皇后棋子，每条对角线（包括两条主对角线的所有平行线）上至多有一个皇后棋子。棋盘上一部分格子可以放置棋子，而另一部分则不可以。\n\n求放置棋子的方案总数。", "inputFormat": "第一行有一个 $N$。接下来有 $N$ 行 $N$ 列描述一个棋盘，`*` 表示可放，`.` 表示不可放。", "outputFormat": "输出方案总数。", "hint": "$0< n\\le14$", "locale": "zh-CN", "translations": {"en": {"title": "Still N-Queens", "background": "", "description": "As the title says, this is the famous $N$-Queens problem.", "inputFormat": "The first line contains an integer $N$. Then follow $N$ lines, each with $N$ characters, describing a board; `*` means placeable, `.` means not placeable.", "outputFormat": "Output the total number of solutions.", "hint": "$0 < N \\le 14$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "还是 N 皇后", "background": "正如题目所说，这题是著名的 $N$ 皇后问题。", "description": "一个 $ N×N $ 的跳棋棋盘，有 $ N $ 个皇后棋子被放置在棋盘上，使得每行、每列有且只有一个皇后棋子，每条对角线（包括两条主对角线的所有平行线）上至多有一个皇后棋子。棋盘上一部分格子可以放置棋子，而另一部分则不可以。\n\n求放置棋子的方案总数。", "inputFormat": "第一行有一个 $N$。接下来有 $N$ 行 $N$ 列描述一个棋盘，`*` 表示可放，`.` 表示不可放。", "outputFormat": "输出方案总数。", "hint": "$0< n\\le14$", "locale": "zh-CN"}}}
{"pid": "P1563", "type": "P", "difficulty": 2, "samples": [["7 3\n0 singer\n0 reader\n0 mengbier \n1 thinker\n1 archer\n0 writer\n1 mogician \n0 3\n1 1\n0 2", "writer"], ["10 10\n1 C\n0 r\n0 P\n1 d\n1 e\n1 m\n1 t\n1 y\n1 u\n0 V\n1 7\n1 1\n1 4\n0 5\n0 3\n0 1\n1 6\n1 2\n0 8\n0 4", "y"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["模拟", "2016", "NOIP 提高组"], "title": "[NOIP 2016 提高组] 玩具谜题", "background": "NOIP2016 提高组 D1T1", "description": "小南有一套可爱的玩具小人，它们各有不同的职业。\n\n有一天，这些玩具小人把小南的眼镜藏了起来。小南发现玩具小人们围成了一个圈，它们有的面朝圈内，有的面朝圈外。如下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0u7em9pi.png) \n\n这时 singer 告诉小南一个谜题：“眼镜藏在我左数第 $3$ 个玩具小人的右数第 $1$ 个玩具小人的左数第 $2$ 个玩具小人那里。”\n\n小南发现，这个谜题中玩具小人的朝向非常关键，因为朝内和朝外的玩具小人的左右方向是相反的：面朝圈内的玩具小人，它的左边是顺时针方向，右边是逆时针方向；而面向圈外的玩具小人，它的左边是逆时针方向，右边是顺时针方向。\n\n小南一边艰难地辨认着玩具小人，一边数着:\n\nsinger 朝内，左数第 $3$ 个是 archer。\n\narcher 朝外，右数第 $1$ 个是 thinker。\n\nthinker 朝外，左数第 $2$ 个是 writer。\n\n所以眼镜藏在 writer 这里！\n\n虽然成功找回了眼镜，但小南并没有放心。如果下次有更多的玩具小人藏他的眼镜，或是谜题的长度更长，他可能就无法找到眼镜了。所以小南希望你写程序帮他解决类似的谜题。这样的谜题具体可以描述为：\n\n有 $n$ 个玩具小人围成一圈，已知它们的职业和朝向。现在第 $1$ 个玩具小人告诉小南一个包含 $m$ 条指令的谜题，其中第 $z$ 条指令形如“向左数/右数第 $s$ 个玩具小人”。你需要输出依次数完这些指令后，到达的玩具小人的职业。", "inputFormat": "输入的第一行包含两个正整数 $n,m$，表示玩具小人的个数和指令的条数。\n\n接下来 $n$ 行，每行包含一个整数和一个字符串，以逆时针为顺序给出每个玩具小人的朝向和职业。其中 $0$ 表示朝向圈内，$1$ 表示朝向圈外。保证不会出现其他的数。字符串长度不超过 $10$ 且仅由英文字母构成，字符串不为空，并且字符串两两不同。整数和字符串之间用一个空格隔开。\n\n接下来 $m$ 行，其中第 $i$ 行包含两个整数 $a_i,s_i$，表示第 $i$ 条指令。若 $a_i=0$，表示向左数 $s_i$ 个人；若 $a_i=1$，表示向右数 $s_i$ 个人。 保证 $a_i$ 不会出现其他的数，$1 \\le s_i < n$。", "outputFormat": "输出一个字符串，表示从第一个读入的小人开始，依次数完 $m$ 条指令后到达的小人的职业。", "hint": "**样例 1 说明**\n\n这组数据就是【题目描述】中提到的例子。\n\n\n**子任务**\n\n子任务会给出部分测试数据的特点。如果你在解决题目中遇到了困难，可以尝试只解决一部分测试数据。\n\n每个测试点的数据规模及特点如下表:\n\n::cute-table{tuack}\n\n| 测试点 | $n$ | $m$ | 全朝内 | 全左数 | $s_i=1$ | 职业长度为 $1$ |\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n| $1$ | $20$ | $1000$ | $\\surd$ | $\\surd$ | $\\surd$ | $\\surd$ |\n| $2$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $3$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $4$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $5$ | ^ | ^ | $\\surd$ | $\\surd$ | $\\times$ | ^ |\n| $6$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $7$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $8$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $9$ | ^ | ^ | $\\surd$ | $\\surd$ | $\\surd$ | $\\times$ |\n| $10$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $11$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $12$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $13$ | ^ | ^ | $\\surd$ | $\\surd$ | $\\times$ | ^ |\n| $14$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $15$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $16$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $17$ | $10^5$ | $10^5$ | $\\surd$ | $\\surd$ | ^ | ^ |\n| $18$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $19$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $20$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n\n其中一些简写的列意义如下:\n\n- 全朝内：若为 $\\surd$，表示该测试点保证所有的玩具小人都朝向圈内；\n\n- 全左数：若为 $\\surd$，表示该测试点保证所有的指令都向左数，即对任意的 $1\\leq z\\leq m, a_i=0$；\n\n- $s=1$：若为 $\\surd$，表示该测试点保证所有的指令都只数 $1$ 个，即对任意的 $1\\leq z\\leq m,s_i=1$；\n\n职业长度为 $1$：若为 $\\surd$，表示该测试点保证所有玩具小人的职业一定是一个长度为 $1$ 的字符串。", "locale": "zh-CN", "translations": {"en": {"title": "[NOIP 2016 Senior] Toy Riddle", "background": "NOIP 2016 Senior D1T1", "description": "Xiao Nan has a set of cute toy figures, each with a different profession.\n\nOne day, these toy figures hid Xiao Nan’s glasses. Xiao Nan found that the toy figures stood in a circle; some were facing inward, and some were facing outward. As shown in the figure:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0u7em9pi.png)\n\nAt this moment, singer told Xiao Nan a riddle: “The glasses are with the toy figure reached by: counting $3$ to the left from me, then $1$ to the right, then $2$ to the left.”\n\nXiao Nan found that the orientation of the toy figures is crucial in this riddle, because the notions of left and right are opposite for inward- and outward-facing figures: for a toy figure facing inward, its left is the clockwise direction and its right is the counterclockwise direction; for a toy figure facing outward, its left is the counterclockwise direction and its right is the clockwise direction.\n\nWhile struggling to recognize the toy figures, Xiao Nan counted:\n\nsinger is facing inward; the $3$rd to the left is archer.\n\narcher is facing outward; the $1$st to the right is thinker.\n\nthinker is facing outward; the $2$nd to the left is writer.\n\nSo the glasses are with writer!\n\nAlthough he found his glasses, Xiao Nan was still worried. If next time there are more toy figures hiding his glasses, or the riddle is longer, he might not be able to find them. So Xiao Nan hopes you can write a program to solve similar riddles. Specifically:\n\nThere are $n$ toy figures standing in a circle, and their professions and orientations are known. Now the $1$st toy figure gives Xiao Nan a riddle consisting of $m$ instructions, where the $z$-th instruction is of the form “count $s$ toy figures to the left/right.” You need to output the profession of the toy figure you end up at after performing these instructions in order.", "inputFormat": "The first line contains two positive integers $n,m$, the number of toy figures and the number of instructions.\n\nThe next $n$ lines each contain an integer and a string, giving each toy figure’s orientation and profession in counterclockwise order. Here $0$ indicates facing inward, and $1$ indicates facing outward. No other numbers will appear. The string length is at most $10$, consists only of English letters, is non-empty, and all strings are pairwise distinct. There is exactly one space between the integer and the string.\n\nThe next $m$ lines each contain two integers $a_i,s_i$, describing the $i$-th instruction. If $a_i=0$, count $s_i$ people to the left; if $a_i=1$, count $s_i$ people to the right. It is guaranteed that no other numbers appear for $a_i$, and $1 \\le s_i < n$.", "outputFormat": "Output a single string: starting from the first toy figure read, the profession of the toy figure reached after performing all $m$ instructions in order.", "hint": "Sample 1 explanation\n\nThis set of testdata is exactly the example mentioned in the Description.\n\nSubtasks\n\nSubtasks specify characteristics of some testdata. If you have difficulty solving the full problem, you can try to solve only part of the testdata.\n\nThe scale and characteristics for each test point are shown in the table below:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7su06u3r.png)\n\nSome abbreviated columns mean:\n\n- All facing inward: If $\\surd$, this test point guarantees all toy figures face inward.\n- All count to the left: If $\\surd$, this test point guarantees all instructions count to the left, i.e., for any $1\\leq z\\leq m, a_i=0$.\n- $s=1$: If $\\surd$, this test point guarantees all instructions count exactly $1$ person, i.e., for any $1\\leq z\\leq m,s_i=1$.\n- Profession length is $1$: If $\\surd$, this test point guarantees every toy figure’s profession is a string of length $1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[NOIP 2016 提高组] 玩具谜题", "background": "NOIP2016 提高组 D1T1", "description": "小南有一套可爱的玩具小人，它们各有不同的职业。\n\n有一天，这些玩具小人把小南的眼镜藏了起来。小南发现玩具小人们围成了一个圈，它们有的面朝圈内，有的面朝圈外。如下图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0u7em9pi.png) \n\n这时 singer 告诉小南一个谜题：“眼镜藏在我左数第 $3$ 个玩具小人的右数第 $1$ 个玩具小人的左数第 $2$ 个玩具小人那里。”\n\n小南发现，这个谜题中玩具小人的朝向非常关键，因为朝内和朝外的玩具小人的左右方向是相反的：面朝圈内的玩具小人，它的左边是顺时针方向，右边是逆时针方向；而面向圈外的玩具小人，它的左边是逆时针方向，右边是顺时针方向。\n\n小南一边艰难地辨认着玩具小人，一边数着:\n\nsinger 朝内，左数第 $3$ 个是 archer。\n\narcher 朝外，右数第 $1$ 个是 thinker。\n\nthinker 朝外，左数第 $2$ 个是 writer。\n\n所以眼镜藏在 writer 这里！\n\n虽然成功找回了眼镜，但小南并没有放心。如果下次有更多的玩具小人藏他的眼镜，或是谜题的长度更长，他可能就无法找到眼镜了。所以小南希望你写程序帮他解决类似的谜题。这样的谜题具体可以描述为：\n\n有 $n$ 个玩具小人围成一圈，已知它们的职业和朝向。现在第 $1$ 个玩具小人告诉小南一个包含 $m$ 条指令的谜题，其中第 $z$ 条指令形如“向左数/右数第 $s$ 个玩具小人”。你需要输出依次数完这些指令后，到达的玩具小人的职业。", "inputFormat": "输入的第一行包含两个正整数 $n,m$，表示玩具小人的个数和指令的条数。\n\n接下来 $n$ 行，每行包含一个整数和一个字符串，以逆时针为顺序给出每个玩具小人的朝向和职业。其中 $0$ 表示朝向圈内，$1$ 表示朝向圈外。保证不会出现其他的数。字符串长度不超过 $10$ 且仅由英文字母构成，字符串不为空，并且字符串两两不同。整数和字符串之间用一个空格隔开。\n\n接下来 $m$ 行，其中第 $i$ 行包含两个整数 $a_i,s_i$，表示第 $i$ 条指令。若 $a_i=0$，表示向左数 $s_i$ 个人；若 $a_i=1$，表示向右数 $s_i$ 个人。 保证 $a_i$ 不会出现其他的数，$1 \\le s_i < n$。", "outputFormat": "输出一个字符串，表示从第一个读入的小人开始，依次数完 $m$ 条指令后到达的小人的职业。", "hint": "**样例 1 说明**\n\n这组数据就是【题目描述】中提到的例子。\n\n\n**子任务**\n\n子任务会给出部分测试数据的特点。如果你在解决题目中遇到了困难，可以尝试只解决一部分测试数据。\n\n每个测试点的数据规模及特点如下表:\n\n::cute-table{tuack}\n\n| 测试点 | $n$ | $m$ | 全朝内 | 全左数 | $s_i=1$ | 职业长度为 $1$ |\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n| $1$ | $20$ | $1000$ | $\\surd$ | $\\surd$ | $\\surd$ | $\\surd$ |\n| $2$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $3$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $4$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $5$ | ^ | ^ | $\\surd$ | $\\surd$ | $\\times$ | ^ |\n| $6$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $7$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $8$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $9$ | ^ | ^ | $\\surd$ | $\\surd$ | $\\surd$ | $\\times$ |\n| $10$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $11$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $12$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $13$ | ^ | ^ | $\\surd$ | $\\surd$ | $\\times$ | ^ |\n| $14$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $15$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $16$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $17$ | $10^5$ | $10^5$ | $\\surd$ | $\\surd$ | ^ | ^ |\n| $18$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n| $19$ | ^ | ^ | $\\surd$ | $\\times$ | ^ | ^ |\n| $20$ | ^ | ^ | $\\times$ | ^ | ^ | ^ |\n\n其中一些简写的列意义如下:\n\n- 全朝内：若为 $\\surd$，表示该测试点保证所有的玩具小人都朝向圈内；\n\n- 全左数：若为 $\\surd$，表示该测试点保证所有的指令都向左数，即对任意的 $1\\leq z\\leq m, a_i=0$；\n\n- $s=1$：若为 $\\surd$，表示该测试点保证所有的指令都只数 $1$ 个，即对任意的 $1\\leq z\\leq m,s_i=1$；\n\n职业长度为 $1$：若为 $\\surd$，表示该测试点保证所有玩具小人的职业一定是一个长度为 $1$ 的字符串。", "locale": "zh-CN"}}}
{"pid": "P1564", "type": "P", "difficulty": 3, "samples": [["5 1\n2\n2\n1\n2\n2", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "前缀和"], "title": "膜拜", "background": "", "description": "神牛有很多…当然…每个同学都有自己衷心膜拜的神牛。\n\n某学校有两位神牛，神牛甲和神牛乙。新入学的 $n$ 位同学们早已耳闻他们的神话。\n\n所以，已经衷心地膜拜其中一位了。现在，老师要给他们分机房。但是，要么保证整个机房都是同一位神牛的膜拜者，或者两个神牛的膜拜者人数差不超过 $m$。另外，现在 $n$ 位同学排成一排，老师只会把连续一段的同学分进一个机房。老师想知道，至少需要多少个机房。", "inputFormat": "输入文件第一行包含两个整数 $n$ 和 $m$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个非 $1$ 即 $2$ 的整数，第 $(i + 1)$ 行的整数表示第 $i$ 个同学崇拜的对象，$1$ 表示甲，$2$ 表示乙。", "outputFormat": "输出一个整数，表示最小需要机房的数量。\n", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $1 \\le n \\le 50$，$0 \\le m \\le 50$。\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 2500$，$0 \\le m \\le 2500$。", "locale": "zh-CN", "translations": {"en": {"title": "Worship", "background": "", "description": "There are many top students… of course… each student has someone they sincerely admire.\n\nAt a certain school there are two top students, A and B. The newly enrolled $n$ students have already heard of their legends, so each student already sincerely worships one of them. Now the teacher needs to assign them to computer labs. For each lab, either everyone in that lab worships the same top student, or the absolute difference between the counts of the two worshippers does not exceed $m$.\n\nThe $n$ students stand in a line, and the teacher will only assign a contiguous segment of students to the same lab. The teacher wants to know the minimum number of labs needed.", "inputFormat": "The first line contains two integers $n$ and $m$.\n\nLines $2$ through $(n + 1)$ each contain an integer, either $1$ or $2$. The integer on line $(i + 1)$ indicates whom the $i$-th student worships: $1$ means A, $2$ means B.", "outputFormat": "Output a single integer, the minimum number of labs required.", "hint": "Constraints\n\n- For $30\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 50$, $0 \\le m \\le 50$.\n- For $100\\%$ of the testdata, it is guaranteed that $1 \\le n \\le 2500$, $0 \\le m \\le 2500$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "膜拜", "background": "", "description": "神牛有很多…当然…每个同学都有自己衷心膜拜的神牛。\n\n某学校有两位神牛，神牛甲和神牛乙。新入学的 $n$ 位同学们早已耳闻他们的神话。\n\n所以，已经衷心地膜拜其中一位了。现在，老师要给他们分机房。但是，要么保证整个机房都是同一位神牛的膜拜者，或者两个神牛的膜拜者人数差不超过 $m$。另外，现在 $n$ 位同学排成一排，老师只会把连续一段的同学分进一个机房。老师想知道，至少需要多少个机房。", "inputFormat": "输入文件第一行包含两个整数 $n$ 和 $m$。\n\n第 $2$ 到第 $(n + 1)$ 行，每行一个非 $1$ 即 $2$ 的整数，第 $(i + 1)$ 行的整数表示第 $i$ 个同学崇拜的对象，$1$ 表示甲，$2$ 表示乙。", "outputFormat": "输出一个整数，表示最小需要机房的数量。\n", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $1 \\le n \\le 50$，$0 \\le m \\le 50$。\n- 对于 $100\\%$ 的数据，保证 $1 \\le n \\le 2500$，$0 \\le m \\le 2500$。", "locale": "zh-CN"}}}
{"pid": "P1565", "type": "P", "difficulty": 5, "samples": [["3 2\n4 0\n-10 8\n-2 -2\n", "4\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "二分", "前缀和", "单调栈"], "title": "牛宫", "background": "", "description": "AP 神牛准备给自己盖一座很华丽的矩形宫殿。于是，他看中了一块 $N \\times M$ 的矩形空地。\n\n空地中每个格子都有自己的海拔高度 $a_{i,j}$。AP 想让他的宫殿的平均海拔在海平面之上（假设海平面的高度是 0，平均数都会算吧？）。而且，AP 希望他的宫殿尽量大，能够容纳更多的人来膜拜他。请问 AP 的宫殿最后会有多大？\n", "inputFormat": "第一行为 $N$ 和 $M$。之后 $N$ 行，每行 $M$ 个数，描述的空地的海拔 $a_{i,j}$。\n", "outputFormat": "输出宫殿最大面积。\n", "hint": "对于 $50\\%$ 的数据，$N,M \\le 100$；\n\n对于 $100 \\%$ 的数据，$1 \\le N,M \\le 200$，$-2\\times10^9 \\le a_{i,j} \\le 16315$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Cow Palace", "background": "", "description": "AP \"Shenniu\" plans to build a gorgeous rectangular palace on an $N \\times M$ rectangular vacant lot.\n\nEach cell of the lot has an elevation $a_{i,j}$. AP wants the average elevation of his palace to be above sea level (assume sea level has height $0$). He also wants the palace to be as large as possible to accommodate more people to worship him. The palace must occupy a contiguous axis-aligned rectangle of cells. What is the maximum possible area of the palace?", "inputFormat": "The first line contains $N$ and $M$. Then follow $N$ lines, each containing $M$ numbers, describing the elevations $a_{i,j}$.", "outputFormat": "Output the maximum area of the palace.", "hint": "For $50\\%$ of the testdata, $N,M \\le 100$.\n\nFor $100\\%$ of the testdata, $1 \\le N,M \\le 200$, $-2\\times10^9 \\le a_{i,j} \\le 16315$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "牛宫", "background": "", "description": "AP 神牛准备给自己盖一座很华丽的矩形宫殿。于是，他看中了一块 $N \\times M$ 的矩形空地。\n\n空地中每个格子都有自己的海拔高度 $a_{i,j}$。AP 想让他的宫殿的平均海拔在海平面之上（假设海平面的高度是 0，平均数都会算吧？）。而且，AP 希望他的宫殿尽量大，能够容纳更多的人来膜拜他。请问 AP 的宫殿最后会有多大？\n", "inputFormat": "第一行为 $N$ 和 $M$。之后 $N$ 行，每行 $M$ 个数，描述的空地的海拔 $a_{i,j}$。\n", "outputFormat": "输出宫殿最大面积。\n", "hint": "对于 $50\\%$ 的数据，$N,M \\le 100$；\n\n对于 $100 \\%$ 的数据，$1 \\le N,M \\le 200$，$-2\\times10^9 \\le a_{i,j} \\le 16315$。\n", "locale": "zh-CN"}}}
{"pid": "P1566", "type": "P", "difficulty": 3, "samples": [["3\n3 1 2 3\n3 1 2 5\n6 1 2 3 5 4 6", "1\n0\n7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP"], "title": "加等式", "background": "", "description": "对于一个整数集合，我们定义“加等式”如下：集合中的某一个元素可以表示成集合内其他元素之和。如集合 ${1,2,3}$ 中就有一个加等式：$3=1+2$。而且 $3=1+2$ 和 $3=2+1$ 是相同的加等式，也是这个集合唯一的加等式。给定一个整数集合，编程找出其加等式的个数。", "inputFormat": "第一行为 $t$，表示测试数据组数。\n\n接下来 $t$ 行，每行表示一组测试数据。其中第一个数 $m$，表示集合元素的个数，接下来 $m$ 个不同的整数 $x_i$，表示集合元素。", "outputFormat": "对于每个输入数据，输出一个整数，表示其中加等式的个数。", "hint": "$1\\le t\\le 10$，$1\\le m \\le 30$，$1\\le x\\le 1000$。", "locale": "zh-CN", "translations": {"en": {"title": "Addition Equation", "background": "", "description": "For an integer set, we define an \"addition equation\" as follows: some element of the set can be expressed as the sum of other elements in the set. For example, in the set ${1,2,3}$, there is one addition equation: $3=1+2$. Moreover, $3=1+2$ and $3=2+1$ are the same addition equation, and it is the only addition equation of this set. Given an integer set, write a program to find the number of its addition equations.", "inputFormat": "The first line contains $t$, indicating the number of test cases.\n\nThe next $t$ lines each describe one test case. Each line starts with an integer $m$, the number of elements in the set, followed by $m$ distinct integers $x_i$, which are the elements of the set.", "outputFormat": "For each test case, output one integer, the number of addition equations in the set.", "hint": "$1\\le t\\le 10$，$1\\le m \\le 30$，$1\\le x\\le 1000$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "加等式", "background": "", "description": "对于一个整数集合，我们定义“加等式”如下：集合中的某一个元素可以表示成集合内其他元素之和。如集合 ${1,2,3}$ 中就有一个加等式：$3=1+2$。而且 $3=1+2$ 和 $3=2+1$ 是相同的加等式，也是这个集合唯一的加等式。给定一个整数集合，编程找出其加等式的个数。", "inputFormat": "第一行为 $t$，表示测试数据组数。\n\n接下来 $t$ 行，每行表示一组测试数据。其中第一个数 $m$，表示集合元素的个数，接下来 $m$ 个不同的整数 $x_i$，表示集合元素。", "outputFormat": "对于每个输入数据，输出一个整数，表示其中加等式的个数。", "hint": "$1\\le t\\le 10$，$1\\le m \\le 30$，$1\\le x\\le 1000$。", "locale": "zh-CN"}}}
{"pid": "P1567", "type": "P", "difficulty": 1, "samples": [["10\n1 2 3 2 4 5 6 8 5 9\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "统计天数", "background": "", "description": "炎热的夏日，KC 非常的不爽。他宁可忍受北极的寒冷，也不愿忍受厦门的夏天。最近，他开始研究天气的变化。他希望用研究的结果预测未来的天气。\n\n\n经历千辛万苦，他收集了连续 $N(1 \\leq N \\leq 10^6)$ 天的最高气温数据。\n\n现在，他想知道最高气温一直上升的最长连续天数。\n", "inputFormat": "第 1 行：一个整数 $N$ 。$1 \\leq N \\leq 10^6$\n\n第 2 行：$N$个空格隔开的整数，表示连续 $N$ 天的最高气温。$0 \\leq$ 最高气温 $\\leq 10^9$ 。\n", "outputFormat": "1 行：一个整数，表示最高气温一直上升的最长连续天数。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Counting Days", "background": "", "description": "On a hot summer day, KC is very uncomfortable. He would rather endure the cold of the Arctic than the summer in Xiamen. Recently, he started studying weather changes. He hopes to use the results of his research to predict future weather.\n\nAfter much effort, he collected the highest temperatures for $N(1 \\leq N \\leq 10^6)$ consecutive days.\n\nNow he wants to know the length of the longest consecutive period during which the maximum temperature is strictly increasing.", "inputFormat": "Line 1: an integer $N$. $1 \\leq N \\leq 10^6$.\n\nLine 2: $N$ space-separated integers, representing the maximum temperatures for $N$ consecutive days. $0 \\leq$ maximum temperature $\\leq 10^9$.", "outputFormat": "1 line: an integer, the length of the longest consecutive period during which the maximum temperature is strictly increasing.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "统计天数", "background": "", "description": "炎热的夏日，KC 非常的不爽。他宁可忍受北极的寒冷，也不愿忍受厦门的夏天。最近，他开始研究天气的变化。他希望用研究的结果预测未来的天气。\n\n\n经历千辛万苦，他收集了连续 $N(1 \\leq N \\leq 10^6)$ 天的最高气温数据。\n\n现在，他想知道最高气温一直上升的最长连续天数。\n", "inputFormat": "第 1 行：一个整数 $N$ 。$1 \\leq N \\leq 10^6$\n\n第 2 行：$N$个空格隔开的整数，表示连续 $N$ 天的最高气温。$0 \\leq$ 最高气温 $\\leq 10^9$ 。\n", "outputFormat": "1 行：一个整数，表示最高气温一直上升的最长连续天数。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1568", "type": "P", "difficulty": 2, "samples": [["4 3\n1 2\n4 1\n1 1\n2 10\n2 3\n1 2\n3 9\n", "2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "洛谷原创"], "title": "赛跑", "background": null, "description": "SH 的跑步成绩一直不太理想。\n\n为了帮助 SH 提高成绩，KC 决定和他进行一次赛跑。\n\n比赛的起点设在农场主的屋前，他们同时出发，沿着同一方向，直到跑到终点——农场远处的一棵树下。\n\n他们的跑步速度在一些时间段内是恒定的。比如：SH 在前 $3$ 个时间段速度是 $5$，接着 $6$ 个时间段内速度是 $10$。\n\n他们的比赛总时间相同。\n\n他们希望能统计出在整个比赛过程中领先顺序的变化次数。\n\n举个例子，某个时刻 SH 领先，下个时刻 KC 领先，这就是一次领先顺序的变化；如果某个时刻 SH 领先，接下来一段时间 KC 赶上来并和 SH 齐头并进，但最终还是超过了 SH，这也是一次领先顺序的变化。", "inputFormat": "第 $1$ 行：两个整数 $N,M$。\n\n接下来的 $N$ 行：每行两个整数，描述 SH 跑步的一段，分别表示该段 SH 跑步的速度和持续这种速度的时间。\n\n再接下来的 $M$ 行：每行两个整数，描述 KC 跑步的一段，分别表示该段 KC 跑步的速度和持续这种速度的时间。\n\n保证输入的所有数字均为不大于 $1000$ 的正整数。", "outputFormat": "一行：整个比赛过程中领先顺序的变化次数。", "hint": "样例解释：\n\nSH 在前 $2$ 个单位时间内速度是 $1$，接着 $1$ 个单位时间内速度是 $4$，接着 $1$ 个单位时间内速度是 $1$，最后 $10$ 个单位时间内速度是 $2$。KC 在前 $3$ 个个单位时间内速度是 $2$，接着 $2$ 个单位时间内速度是 $2$，最后 $9$ 个单位时间内速度是 $3$。\n\n输比赛开始后 KC 领先，直到第 $5$ 个单位时间 SH 超过 KC（第一次领先顺序变化），接着第 $7$ 个单位时间时，KC 又反超 SH，变成领先（第二次领先顺序变化）。", "locale": "zh-CN", "translations": {"en": {"title": "Race", "background": "", "description": "SH's running performance has not been ideal.\n\nTo help SH improve, KC decides to have a race with him.\n\nThe starting point is set in front of the farmer's house. They start at the same time, run in the same direction, and finish under a tree far away on the farm.\n\nTheir running speeds are constant over some time segments. For example, SH runs at speed $5$ for the first $3$ time segments, then at speed $10$ for the next $6$ time segments.\n\nTheir total race time is the same.\n\nThey want to count how many times the leading order changes over the entire race.\n\nFor example, if at some moment SH is leading, and at the next moment KC is leading, that counts as one change in the leading order; if at some moment SH is leading, then over a period KC catches up and runs neck and neck and eventually overtakes SH, that also counts as one change.", "inputFormat": "Line $1$: two integers $N, M$.\n\nThe next $N$ lines: each line has two integers describing one segment of SH's run, representing SH's speed in that segment and the duration of maintaining that speed.\n\nThe next $M$ lines: each line has two integers describing one segment of KC's run, representing KC's speed in that segment and the duration of maintaining that speed.\n\nAll input numbers are positive integers not greater than $1000$.", "outputFormat": "One line: the number of changes in the leading order during the entire race.", "hint": "Sample explanation:\n\nSH runs at speed $1$ for the first $2$ time units, then at speed $4$ for $1$ time unit, then at speed $1$ for $1$ time unit, and finally at speed $2$ for $10$ time units. KC runs at speed $2$ for the first $3$ time units, then at speed $2$ for $2$ time units, and finally at speed $3$ for $9$ time units.\n\nAfter the race starts, KC leads until the $5$th time unit, when SH overtakes KC (the first change in the leading order). Then at the $7$th time unit, KC overtakes SH and becomes the leader again (the second change in the leading order).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "赛跑", "background": null, "description": "SH 的跑步成绩一直不太理想。\n\n为了帮助 SH 提高成绩，KC 决定和他进行一次赛跑。\n\n比赛的起点设在农场主的屋前，他们同时出发，沿着同一方向，直到跑到终点——农场远处的一棵树下。\n\n他们的跑步速度在一些时间段内是恒定的。比如：SH 在前 $3$ 个时间段速度是 $5$，接着 $6$ 个时间段内速度是 $10$。\n\n他们的比赛总时间相同。\n\n他们希望能统计出在整个比赛过程中领先顺序的变化次数。\n\n举个例子，某个时刻 SH 领先，下个时刻 KC 领先，这就是一次领先顺序的变化；如果某个时刻 SH 领先，接下来一段时间 KC 赶上来并和 SH 齐头并进，但最终还是超过了 SH，这也是一次领先顺序的变化。", "inputFormat": "第 $1$ 行：两个整数 $N,M$。\n\n接下来的 $N$ 行：每行两个整数，描述 SH 跑步的一段，分别表示该段 SH 跑步的速度和持续这种速度的时间。\n\n再接下来的 $M$ 行：每行两个整数，描述 KC 跑步的一段，分别表示该段 KC 跑步的速度和持续这种速度的时间。\n\n保证输入的所有数字均为不大于 $1000$ 的正整数。", "outputFormat": "一行：整个比赛过程中领先顺序的变化次数。", "hint": "样例解释：\n\nSH 在前 $2$ 个单位时间内速度是 $1$，接着 $1$ 个单位时间内速度是 $4$，接着 $1$ 个单位时间内速度是 $1$，最后 $10$ 个单位时间内速度是 $2$。KC 在前 $3$ 个个单位时间内速度是 $2$，接着 $2$ 个单位时间内速度是 $2$，最后 $9$ 个单位时间内速度是 $3$。\n\n输比赛开始后 KC 领先，直到第 $5$ 个单位时间 SH 超过 KC（第一次领先顺序变化），接着第 $7$ 个单位时间时，KC 又反超 SH，变成领先（第二次领先顺序变化）。", "locale": "zh-CN"}}}
{"pid": "P1569", "type": "P", "difficulty": 2, "samples": [["4\n2\n3\n-3\n1\n", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "USACO", "前缀和"], "title": "[USACO ?] Generic Cow Protests【来源请求】", "background": null, "description": "约翰家的 $n$ 头奶牛聚集在一起，排成一列，正在进行一项抗议活动。第 $i$ 头奶牛的理智度为 $a_i$。\n\n约翰希望奶牛在抗议时保持理性，为此，他打算将所有的奶牛隔离成若干个小组，每个小组内的奶牛的理智度总和都要不小于零。\n\n由于奶牛是按直线排列的，所以一个小组内的奶牛位置必须是连续的。请帮助约翰计算一下，最多分成几组。", "inputFormat": "第一行一个正整数 $n$，表示牛的数目。\n\n接下来 $n$ 行，每行一个整数，表示每个牛的理智度。", "outputFormat": "若存在合法分组方案，输出一行一个整数表示答案；否则输出 `Impossible`。", "hint": "### 数据规模和约定\n\n对于 $30\\%$ 的数据，$1\\le n\\le 20$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 1000$，$|a_i|\\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "[USACO ?] Generic Cow Protests [Source Request]", "background": "", "description": "Farmer John’s $n$ cows gather and line up in a row to stage a protest. The $i$-th cow has a rationality value $a_i$.\n\nHe wants the cows to remain rational; to that end, he plans to partition all the cows into several groups such that within each group the sum of rationality values is at least zero.\n\nSince the cows are arranged in a straight line, each group must be a contiguous segment. Please help John compute the maximum number of groups.", "inputFormat": "The first line contains a positive integer $n$, the number of cows.\n\nThe next $n$ lines each contain one integer, the rationality value of each cow.", "outputFormat": "If a valid partition exists, output one line with a single integer, the answer; otherwise output `Impossible`.", "hint": "Constraints\n\n- For 30% of the testdata, $1 \\le n \\le 20$.\n- For 100% of the testdata, $1 \\le n \\le 1000$, $|a_i| \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[USACO ?] Generic Cow Protests【来源请求】", "background": null, "description": "约翰家的 $n$ 头奶牛聚集在一起，排成一列，正在进行一项抗议活动。第 $i$ 头奶牛的理智度为 $a_i$。\n\n约翰希望奶牛在抗议时保持理性，为此，他打算将所有的奶牛隔离成若干个小组，每个小组内的奶牛的理智度总和都要不小于零。\n\n由于奶牛是按直线排列的，所以一个小组内的奶牛位置必须是连续的。请帮助约翰计算一下，最多分成几组。", "inputFormat": "第一行一个正整数 $n$，表示牛的数目。\n\n接下来 $n$ 行，每行一个整数，表示每个牛的理智度。", "outputFormat": "若存在合法分组方案，输出一行一个整数表示答案；否则输出 `Impossible`。", "hint": "### 数据规模和约定\n\n对于 $30\\%$ 的数据，$1\\le n\\le 20$。\n\n对于 $100\\%$ 的数据，$1\\le n\\le 1000$，$|a_i|\\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P1570", "type": "P", "difficulty": 3, "samples": [["3 2\n1 2 3\n3 2 1\n", "1.667\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["二分", "洛谷原创", "分数规划"], "title": "KC 喝咖啡", "background": "", "description": "话说 KC 和 SH 在福州的时候常常跑去 85°C 喝咖啡或者其他的一些什么东西。\n\n这天，KC 想要喝一杯咖啡，服务员告诉他，现在有 $n$ 种调料，这杯咖啡只可以加入其中的 $m$ 种（当然 KC 一定会加入 $m$ 种，不会加入少于 $m$ 种的调料），根据加入的调料不同，制成这杯咖啡要用的时间也不同，得到的咖啡的美味度也不同。\n\nKC 在得知所有的 $n$ 种调料后，作为曾经的化竞之神的他，马上就知道了所有调料消耗的时间 $c _ i$ 以及调料的美味度 $v _ i$。由于 KC 急着回去刷题，所以他想尽快喝到这杯咖啡，但他又想喝到美味的咖啡，所以他想出了一个办法，他要喝到 $\\dfrac{\\sum v _ i}{\\sum c _ i}$ 最大的咖啡，也就是单位时间的美味度最大的咖啡。\n\n现在，KC 把调料信息告诉了 SH，要 SH 帮他算出喝到的咖啡的 $\\dfrac{\\sum v _ i}{\\sum c _ i}$，但 SH 不想帮 KC 算这东西，于是 KC 就只能拜托你来算了。\n\n注释：$\\sum$ 表示求和，所以 $\\dfrac{\\sum v _ i}{\\sum c _ i}$ 表示美味度的总和除以消耗时间的总和。\n", "inputFormat": "输入数据共三行。\n\n第一行为一个整数 $n, m$，表示调料种数和能加入的调料数。\n\n接下来两行，每行为 $n$ 个数，第一行第 $i$ 个整数表示调料 $i$ 的美味度 $v _ i$，第二行第 $i$ 个整数表示调料 $i$ 消耗的时间 $c _ i$。\n", "outputFormat": "一个实数 $T$，表示 KC 喝的咖啡的最大 $\\dfrac{\\sum v _ i}{\\sum c _ i}$，保留三位小数。\n", "hint": "**样例 1 解释**：\n\nKC 选 $2$ 号和 $3$ 号调料，$\\dfrac{\\sum v _ i}{\\sum c _ i} = \\dfrac{2 + 3}{2 + 1} = 1.667$。\n\n可以验证不存在更优的选择。\n\n**数据范围**：\n\n对 $20 \\%$ 的数据：$1 \\leq n \\leq 5$。\n\n对 $50 \\%$ 的数据：$1 \\leq n \\leq 10$。\n\n对 $80 \\%$ 的数据：$1 \\leq n \\leq 50$。\n\n对 $100 \\%$ 的数据：$1 \\leq n \\leq 200, 1 \\leq m \\leq n, 1 \\leq c[i], v[i] \\leq 1 \\times 10 ^ 4$。\n\n数据保证答案不超过 $1000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "KC Drinks Coffee", "background": "", "description": "KC and SH often went to 85°C in Fuzhou to drink coffee or something else.\n\nOne day, KC wanted a cup of coffee. The waiter told him there are $n$ kinds of seasonings, and exactly $m$ of them can be added to this cup of coffee (KC will add exactly $m$ kinds, not fewer). Depending on which seasonings are added, the time needed to make the coffee and the resulting deliciousness will differ.\n\nAfter learning all $n$ seasonings, as a former chemistry contest ace, KC immediately knows the time cost $c _ i$ and the deliciousness $v _ i$ of each seasoning. Since KC is in a hurry to get back to solving problems, he wants to drink the coffee as soon as possible, but he also wants it to be delicious. So he came up with a plan: he wants to drink the coffee that maximizes $\\dfrac{\\sum v _ i}{\\sum c _ i}$, that is, the deliciousness per unit time.\n\nNow KC tells SH the information about the seasonings and asks SH to compute the $\\dfrac{\\sum v _ i}{\\sum c _ i}$ of the coffee he will drink. But SH does not want to help, so KC turns to you.\n\nNote: $\\sum$ denotes summation, so $\\dfrac{\\sum v _ i}{\\sum c _ i}$ means the total deliciousness divided by the total time cost.", "inputFormat": "The input consists of three lines.\n\n- The first line contains two integers $n, m$, the number of seasonings and the number to add.\n- The next two lines each contain $n$ integers. In these two lines, the $i$-th integer of the first line is the deliciousness $v _ i$ of seasoning $i$, and the $i$-th integer of the second line is the time cost $c _ i$ of seasoning $i$.", "outputFormat": "Output a real number $T$, the maximum value of $\\dfrac{\\sum v _ i}{\\sum c _ i}$ for KC’s coffee, rounded to three decimal places.", "hint": "Explanation for Sample 1:\n\nKC chooses seasonings $2$ and $3$, $\\dfrac{\\sum v _ i}{\\sum c _ i} = \\dfrac{2 + 3}{2 + 1} = 1.667$.\n\nIt can be verified that there is no better choice.\n\nConstraints:\n\nFor $20 \\%$ of the testdata: $1 \\leq n \\leq 5$.\n\nFor $50 \\%$ of the testdata: $1 \\leq n \\leq 10$.\n\nFor $80 \\%$ of the testdata: $1 \\leq n \\leq 50$.\n\nFor $100 \\%$ of the testdata: $1 \\leq n \\leq 200, 1 \\leq m \\leq n, 1 \\leq c[i], v[i] \\leq 1 \\times 10 ^ 4$.\n\nThe testdata guarantees that the answer does not exceed $1000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "KC 喝咖啡", "background": "", "description": "话说 KC 和 SH 在福州的时候常常跑去 85°C 喝咖啡或者其他的一些什么东西。\n\n这天，KC 想要喝一杯咖啡，服务员告诉他，现在有 $n$ 种调料，这杯咖啡只可以加入其中的 $m$ 种（当然 KC 一定会加入 $m$ 种，不会加入少于 $m$ 种的调料），根据加入的调料不同，制成这杯咖啡要用的时间也不同，得到的咖啡的美味度也不同。\n\nKC 在得知所有的 $n$ 种调料后，作为曾经的化竞之神的他，马上就知道了所有调料消耗的时间 $c _ i$ 以及调料的美味度 $v _ i$。由于 KC 急着回去刷题，所以他想尽快喝到这杯咖啡，但他又想喝到美味的咖啡，所以他想出了一个办法，他要喝到 $\\dfrac{\\sum v _ i}{\\sum c _ i}$ 最大的咖啡，也就是单位时间的美味度最大的咖啡。\n\n现在，KC 把调料信息告诉了 SH，要 SH 帮他算出喝到的咖啡的 $\\dfrac{\\sum v _ i}{\\sum c _ i}$，但 SH 不想帮 KC 算这东西，于是 KC 就只能拜托你来算了。\n\n注释：$\\sum$ 表示求和，所以 $\\dfrac{\\sum v _ i}{\\sum c _ i}$ 表示美味度的总和除以消耗时间的总和。\n", "inputFormat": "输入数据共三行。\n\n第一行为一个整数 $n, m$，表示调料种数和能加入的调料数。\n\n接下来两行，每行为 $n$ 个数，第一行第 $i$ 个整数表示调料 $i$ 的美味度 $v _ i$，第二行第 $i$ 个整数表示调料 $i$ 消耗的时间 $c _ i$。\n", "outputFormat": "一个实数 $T$，表示 KC 喝的咖啡的最大 $\\dfrac{\\sum v _ i}{\\sum c _ i}$，保留三位小数。\n", "hint": "**样例 1 解释**：\n\nKC 选 $2$ 号和 $3$ 号调料，$\\dfrac{\\sum v _ i}{\\sum c _ i} = \\dfrac{2 + 3}{2 + 1} = 1.667$。\n\n可以验证不存在更优的选择。\n\n**数据范围**：\n\n对 $20 \\%$ 的数据：$1 \\leq n \\leq 5$。\n\n对 $50 \\%$ 的数据：$1 \\leq n \\leq 10$。\n\n对 $80 \\%$ 的数据：$1 \\leq n \\leq 50$。\n\n对 $100 \\%$ 的数据：$1 \\leq n \\leq 200, 1 \\leq m \\leq n, 1 \\leq c[i], v[i] \\leq 1 \\times 10 ^ 4$。\n\n数据保证答案不超过 $1000$。\n", "locale": "zh-CN"}}}
{"pid": "P1571", "type": "P", "difficulty": 2, "samples": [["4 3\n2 15 6 8\n8 9 2\n", "2 8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "二分", "洛谷原创", "排序"], "title": "眼红的Medusa", "background": "", "description": "虽然 Miss Medusa 到了北京，领了科技创新奖，但是她还是觉得不满意。原因是：她发现很多人都和她一样获了科技创新奖，特别是其中的某些人，还获得了另一个奖项——特殊贡献奖。而越多的人获得了两个奖项，Miss Medusa 就会越眼红。于是她决定统计有哪些人获得了两个奖项，来知道自己有多眼红。", "inputFormat": "第一行两个整数 $n, m$，表示有 $n$ 个人获得科技创新奖，$m$ 个人获得特殊贡献奖。\n\n第二行 $n$ 个正整数，表示获得科技创新奖的人的编号。\n\n第三行 $m$ 个正整数，表示获得特殊贡献奖的人的编号。", "outputFormat": "输出一行，为获得两个奖项的人的编号，按在科技创新奖获奖名单中的先后次序输出。", "hint": "对于 $60\\%$ 的数据，$0 \\leq n, m \\leq 1000$，获得奖项的人的编号 $\\lt 2 \\times 10^9$；\n\n对于 $100\\%$ 的数据，$0 \\leq n, m \\leq 10^5$，获得奖项的人的编号 $\\lt 2 \\times 10^9$。\n\n输入数据保证第二行任意两个数不同，第三行任意两个数不同。", "locale": "zh-CN", "translations": {"en": {"title": "Envious Medusa", "background": "", "description": "Although Miss Medusa has arrived in Beijing and received the Science and Technology Innovation Award, she is still not satisfied. The reason is that she found many people also received the Science and Technology Innovation Award, and some of them even received another award — the Special Contribution Award. The more people receive both awards, the more envious Miss Medusa becomes. So she decides to count who received both awards to know how envious she is.", "inputFormat": "The first line contains two integers $n, m$, meaning there are $n$ people who received the Science and Technology Innovation Award and $m$ people who received the Special Contribution Award.\n\nThe second line contains $n$ positive integers, the IDs of the people who received the Science and Technology Innovation Award.\n\nThe third line contains $m$ positive integers, the IDs of the people who received the Special Contribution Award.", "outputFormat": "Output one line: the IDs of the people who received both awards, in the same order as in the Science and Technology Innovation Award winners list.", "hint": "For $60\\%$ of the testdata, $0 \\leq n, m \\leq 1000$, and each award recipient’s ID is $\\lt 2 \\times 10^9$.\n\nFor $100\\%$ of the testdata, $0 \\leq n, m \\leq 10^5$, and each award recipient’s ID is $\\lt 2 \\times 10^9$.\n\nIt is guaranteed that all numbers on the second line are pairwise distinct, and all numbers on the third line are pairwise distinct.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "眼红的Medusa", "background": "", "description": "虽然 Miss Medusa 到了北京，领了科技创新奖，但是她还是觉得不满意。原因是：她发现很多人都和她一样获了科技创新奖，特别是其中的某些人，还获得了另一个奖项——特殊贡献奖。而越多的人获得了两个奖项，Miss Medusa 就会越眼红。于是她决定统计有哪些人获得了两个奖项，来知道自己有多眼红。", "inputFormat": "第一行两个整数 $n, m$，表示有 $n$ 个人获得科技创新奖，$m$ 个人获得特殊贡献奖。\n\n第二行 $n$ 个正整数，表示获得科技创新奖的人的编号。\n\n第三行 $m$ 个正整数，表示获得特殊贡献奖的人的编号。", "outputFormat": "输出一行，为获得两个奖项的人的编号，按在科技创新奖获奖名单中的先后次序输出。", "hint": "对于 $60\\%$ 的数据，$0 \\leq n, m \\leq 1000$，获得奖项的人的编号 $\\lt 2 \\times 10^9$；\n\n对于 $100\\%$ 的数据，$0 \\leq n, m \\leq 10^5$，获得奖项的人的编号 $\\lt 2 \\times 10^9$。\n\n输入数据保证第二行任意两个数不同，第三行任意两个数不同。", "locale": "zh-CN"}}}
{"pid": "P1572", "type": "P", "difficulty": 2, "samples": [["2/1+1/3-1/4", "25/12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "字符串", "洛谷原创"], "title": "计算分数", "background": "", "description": "Csh 被老妈关在家里做分数计算题，但显然他不愿意做这么多复杂的计算。况且在家门口还有 Xxq 在等着他去一起看电影。为了尽快地能去陪 Xxq 看电影，他把剩下的计算题交给了你，你能帮他解决问题吗？\n", "inputFormat": "输入一行，为一个分数计算式。\n\n计算式中只包含数字、`+`、`-`、`/`。其中 `/` 为分数线，分数线左边为分子，右边为分母。输入数据保证不会出现繁分数。如果输入计算式的第一项为正，不会有前缀 `+` 号；若为负，会有前缀 `-` 号。\n\n所有整数均以分数形式出现。", "outputFormat": "输出一行，为最后的计算结果（用为整数则用整数表示，否则用最简分数表示）。\n\n保证答案内出现的所有数（如果答案是分数即为分子和分母）均在 $32$ 位带符号整数的表示范围之内。\n", "hint": "### 数据范围及约定\n\n对于所有测试点，输入计算式长度在 $100$ 以内，分子、分母在 $1000$ 以内。同时保证，直接从前往后直接计算分数的和或者差，然后立刻化简，这么做的中间结果不会超过 int 的范围。\n\n注意输入的分数不一定是最简分数。\n\n\n------------\n2024/2/13 添加 2 组 hack 数据。", "locale": "zh-CN", "translations": {"en": {"title": "Compute Fractions", "background": "", "description": "Csh was locked at home by his mom to do fraction exercises, but he clearly does not want to do so many complicated calculations. Besides, Xxq is waiting for him at the door to go watch a movie together. To join Xxq for the movie as soon as possible, he hands the remaining exercises to you. Can you help him solve the problem?", "inputFormat": "The input consists of a single line: a fraction expression.\n\nThe expression contains only digits, `+`, `-`, and `/`. Here `/` is the fraction bar: the numerator is on the left and the denominator is on the right. The input is guaranteed to contain no complex (nested) fractions. If the first term of the expression is positive, there is no leading `+`; if it is negative, there is a leading `-`.\n\nAll integers appear in fraction form.", "outputFormat": "Output one line: the final result. If the result is an integer, print it as an integer; otherwise, print it as a fraction in lowest terms.\n\nIt is guaranteed that all numbers in the answer (if the answer is a fraction, that is, the numerator and denominator) are within the range of $32$-bit signed integers.", "hint": "### Constraints and Conventions\n\nFor all test points, the length of the input expression is within 100, and the numerator and denominator are within 1000. It is also guaranteed that if you evaluate the sum or difference of the fractions from left to right and reduce immediately, the intermediate results will not exceed the range of int.\n\nNote that the input fractions are not necessarily in lowest terms.\n\n------------\n2024/2/13: Added 2 sets of hack testdata.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "计算分数", "background": "", "description": "Csh 被老妈关在家里做分数计算题，但显然他不愿意做这么多复杂的计算。况且在家门口还有 Xxq 在等着他去一起看电影。为了尽快地能去陪 Xxq 看电影，他把剩下的计算题交给了你，你能帮他解决问题吗？\n", "inputFormat": "输入一行，为一个分数计算式。\n\n计算式中只包含数字、`+`、`-`、`/`。其中 `/` 为分数线，分数线左边为分子，右边为分母。输入数据保证不会出现繁分数。如果输入计算式的第一项为正，不会有前缀 `+` 号；若为负，会有前缀 `-` 号。\n\n所有整数均以分数形式出现。", "outputFormat": "输出一行，为最后的计算结果（用为整数则用整数表示，否则用最简分数表示）。\n\n保证答案内出现的所有数（如果答案是分数即为分子和分母）均在 $32$ 位带符号整数的表示范围之内。\n", "hint": "### 数据范围及约定\n\n对于所有测试点，输入计算式长度在 $100$ 以内，分子、分母在 $1000$ 以内。同时保证，直接从前往后直接计算分数的和或者差，然后立刻化简，这么做的中间结果不会超过 int 的范围。\n\n注意输入的分数不一定是最简分数。\n\n\n------------\n2024/2/13 添加 2 组 hack 数据。", "locale": "zh-CN"}}}
{"pid": "P1573", "type": "P", "difficulty": 0, "samples": [["2", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "递推", "洛谷原创"], "title": "栈的操作", "background": "管理备注：本题因证明难度极高，做题难度低，故评为灰题", "description": "现在有四个栈，其中前三个为空，第四个栈从栈顶到栈底分别为 $1,2,3,\\cdots ,n$。每一个栈只支持一种操作：弹出并压入。它指的是把其中一个栈 A 的栈顶元素 $x$ 弹出，并马上压入任意一个栈 B 中。但是这样的操作必须符合一定的规则才能进行。\n\n- 规则 $1$：A 栈不能为空。\n- 规则 $2$：B 栈为空或 $x$ 比 B 栈栈顶要小。\n\n对于给定的 $n$，请你求出把第四个栈的 $n$ 个元素全部移到第一个栈的最少操作次数。\n\n由于最少操作次数可能很多，请你把答案对 $10^6+7$ 取模。\n", "inputFormat": "一行，一个整数 $n$。\n", "outputFormat": "一行，一个正整数，为把最少操作次数 $\\bmod (10^6+7)$ 的值。", "hint": "- 对于 $30\\%$ 的数据，$n\\le 8$。\n- 对于 $60\\%$ 的数据，$n\\le 60$。\n- 对于 $100\\%$ 的数据，$n\\le 2\\times 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Stack Operations", "background": "Manager’s note: Since the proof is extremely difficult but the problem itself is easy to solve, this problem is rated as a gray problem.", "description": "There are four stacks. The first three are empty, and the fourth stack contains, from top to bottom, $1,2,3,\\cdots ,n$. Each stack supports only one operation: pop and push. This means popping the top element $x$ from some stack A and immediately pushing it onto any stack B. However, such an operation is allowed only if the following rules are satisfied.\n\n- Rule $1$: Stack A must be non-empty.\n- Rule $2$: Stack B is empty, or $x$ is smaller than the top of stack B.\n\nGiven $n$, find the minimal number of operations needed to move all $n$ elements from the fourth stack to the first stack.\n\nSince the minimal number of operations can be very large, output the answer modulo $10^6+7$.", "inputFormat": "One line containing an integer $n$.", "outputFormat": "One line containing a positive integer, the value of the minimal number of operations $\\bmod (10^6+7)$.", "hint": "- For 30% of the testdata, $n \\le 8$.\n- For 60% of the testdata, $n \\le 60$.\n- For 100% of the testdata, $n \\le 2 \\times 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "栈的操作", "background": "管理备注：本题因证明难度极高，做题难度低，故评为灰题", "description": "现在有四个栈，其中前三个为空，第四个栈从栈顶到栈底分别为 $1,2,3,\\cdots ,n$。每一个栈只支持一种操作：弹出并压入。它指的是把其中一个栈 A 的栈顶元素 $x$ 弹出，并马上压入任意一个栈 B 中。但是这样的操作必须符合一定的规则才能进行。\n\n- 规则 $1$：A 栈不能为空。\n- 规则 $2$：B 栈为空或 $x$ 比 B 栈栈顶要小。\n\n对于给定的 $n$，请你求出把第四个栈的 $n$ 个元素全部移到第一个栈的最少操作次数。\n\n由于最少操作次数可能很多，请你把答案对 $10^6+7$ 取模。\n", "inputFormat": "一行，一个整数 $n$。\n", "outputFormat": "一行，一个正整数，为把最少操作次数 $\\bmod (10^6+7)$ 的值。", "hint": "- 对于 $30\\%$ 的数据，$n\\le 8$。\n- 对于 $60\\%$ 的数据，$n\\le 60$。\n- 对于 $100\\%$ 的数据，$n\\le 2\\times 10^9$。", "locale": "zh-CN"}}}
{"pid": "P1574", "type": "P", "difficulty": 5, "samples": [["2\n8\n13", "6\n12"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "洛谷原创"], "title": "超级数", "background": "", "description": "设x的约数个数为 $f(x)$，若 $\\forall i\\in [1,n)\\cap \\mathbb{Z^+},f(n)>f(i)$，就把 $n$ 称作 `supernumber`。\n\n给出 $m$ 个数 $a_1,a_2,\\ldots,a_m$，请分别输出不大于 $a_1$，不大于 $a_2$，...，不大于 $a_m$ 的最大 `supernumber`。", "inputFormat": "第一行有一个整数，代表 $m$。\n\n第 $2$  到第 $(m+1)$ 行，每行一个整数，其中第  $(i+1)$ 行的整数为 $a_i$。", "outputFormat": "共 $m$ 行，每行一个整数，其中第 $i$ 行为不大于 $a_i$ 的最大`supernumber`。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，$m=1$。\n- 对于 $50\\%$ 的数据，$a_i\\le1000$。\n- 对于 $70\\%$ 的数据，$a_i\\le 2\\times10^7$。\n- 对于 $100\\%$ 的数据，$m\\le10^5$，$a_i\\le10^{17}$。", "locale": "zh-CN", "translations": {"en": {"title": "Supernumber", "background": "", "description": "Let the number of divisors of $x$ be $f(x)$. If $\\forall i\\in [1,n)\\cap \\mathbb{Z^+}, f(n)>f(i)$, then we call $n$ a `supernumber`.\n\nGiven $m$ numbers $a_1, a_2, \\ldots, a_m$, for each $a_i$, output the largest `supernumber` not exceeding $a_i$.", "inputFormat": "The first line has one integer representing $m$.\n\nFrom line $2$ to line $(m+1)$, each line contains one integer, where the integer on line $(i+1)$ is $a_i$.", "outputFormat": "Output $m$ lines, one integer per line, where the $i$-th line is the largest `supernumber` not exceeding $a_i$.", "hint": "Constraints\n\n- For 40% of the testdata, $m=1$.\n- For 50% of the testdata, $a_i\\le 1000$.\n- For 70% of the testdata, $a_i\\le 2\\times 10^7$.\n- For 100% of the testdata, $m\\le 10^5$, $a_i\\le 10^{17}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "超级数", "background": "", "description": "设x的约数个数为 $f(x)$，若 $\\forall i\\in [1,n)\\cap \\mathbb{Z^+},f(n)>f(i)$，就把 $n$ 称作 `supernumber`。\n\n给出 $m$ 个数 $a_1,a_2,\\ldots,a_m$，请分别输出不大于 $a_1$，不大于 $a_2$，...，不大于 $a_m$ 的最大 `supernumber`。", "inputFormat": "第一行有一个整数，代表 $m$。\n\n第 $2$  到第 $(m+1)$ 行，每行一个整数，其中第  $(i+1)$ 行的整数为 $a_i$。", "outputFormat": "共 $m$ 行，每行一个整数，其中第 $i$ 行为不大于 $a_i$ 的最大`supernumber`。", "hint": "#### 数据规模与约定\n\n- 对于 $40\\%$ 的数据，$m=1$。\n- 对于 $50\\%$ 的数据，$a_i\\le1000$。\n- 对于 $70\\%$ 的数据，$a_i\\le 2\\times10^7$。\n- 对于 $100\\%$ 的数据，$m\\le10^5$，$a_i\\le10^{17}$。", "locale": "zh-CN"}}}
{"pid": "P1575", "type": "P", "difficulty": 4, "samples": [["true or false and false", "true"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["线性数据结构", "栈"], "title": "正误问题", "background": null, "description": "小 bobo 迷上了逻辑值运算。但小 bobo 算的头都晕了，也没算出个所以然。他只好找到你，让你帮他解决这个问题。", "inputFormat": "一个字符串表达逻辑式子，只包含 `true`，`false`，`or`，`and`，`not` 和空格（不包含括号和 `xor`）。\n\n运算优先级同 Pascal（从高到低依次为 `not`，`and`，`or`)，同级左边先算）。\n\n如果逻辑式有误则输出 `error`。", "outputFormat": "输出一行表示运算结果：`true` 或者 `false`，如果无法得到结果的输出 `error`。", "hint": "对于全部数据，保证输入数据串长小于 $255$。\n\n本题结果为 `true`，`false`，`error` 各占 $\\dfrac{1}{3}$，允许“骗分”，但不值得，因为是“水题”。\n\n---\n\n- $\\text{upd 2022.7.21}$：新增加 $5$ 组 [Hack 数据](https://www.luogu.com.cn/discuss/459823)。", "locale": "zh-CN", "translations": {"en": {"title": "True-or-False Problem", "background": "", "description": "Xiao bobo became obsessed with Boolean operations. But after calculating until he got dizzy, he still could not figure it out. He turned to you for help to solve this problem.", "inputFormat": "A string representing a logical expression, containing only `true`, `false`, `or`, `and`, `not`, and spaces (no parentheses and no `xor`). Operator precedence follows Pascal (from high to low: `not`, `and`, `or`), and within the same level evaluate from left to right. If the logical expression is invalid, output `error`.", "outputFormat": "Output one line with the result: `true` or `false`. If the result cannot be determined, output `error`.", "hint": "For all testdata, the input string length is less than $255$.\n\nFor this problem, the results `true`, `false`, and `error` each account for $\\dfrac{1}{3}$; \"cheating for points\" is allowed, but it is not worth it because this is an \"easy problem\".\n\n---\n\n- $\\text{upd 2022.7.21}$: Added $5$ groups of [Hack testdata](https://www.luogu.com.cn/discuss/459823).\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "正误问题", "background": null, "description": "小 bobo 迷上了逻辑值运算。但小 bobo 算的头都晕了，也没算出个所以然。他只好找到你，让你帮他解决这个问题。", "inputFormat": "一个字符串表达逻辑式子，只包含 `true`，`false`，`or`，`and`，`not` 和空格（不包含括号和 `xor`）。\n\n运算优先级同 Pascal（从高到低依次为 `not`，`and`，`or`)，同级左边先算）。\n\n如果逻辑式有误则输出 `error`。", "outputFormat": "输出一行表示运算结果：`true` 或者 `false`，如果无法得到结果的输出 `error`。", "hint": "对于全部数据，保证输入数据串长小于 $255$。\n\n本题结果为 `true`，`false`，`error` 各占 $\\dfrac{1}{3}$，允许“骗分”，但不值得，因为是“水题”。\n\n---\n\n- $\\text{upd 2022.7.21}$：新增加 $5$ 组 [Hack 数据](https://www.luogu.com.cn/discuss/459823)。", "locale": "zh-CN"}}}
{"pid": "P1576", "type": "P", "difficulty": 3, "samples": [["3 3                                     \n1 2 1\n2 3 2\n1 3 3\n1 3\n", "103.07153164"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "最短路"], "title": "最小花费", "background": null, "description": "在 $n$ 个人中，某些人的银行账号之间可以互相转账。这些人之间转账的手续费各不相同。给定这些人之间转账时需要从转账金额里扣除百分之几的手续费，请问 $A$ 最少需要多少钱使得转账后 $B$ 收到 $100$ 元。", "inputFormat": "第一行输入两个正整数 $n,m$，分别表示总人数和可以互相转账的人的对数。\n\n以下 $m$ 行每行输入三个正整数 $x,y,z$，表示标号为 $x$ 的人和标号为 $y$ 的人之间互相转账需要扣除 $z\\%$ 的手续费 $(z<100)$。\n\n最后一行输入两个正整数 $A,B$。数据保证 $A$ 与 $B$ 之间可以直接或间接地转账。", "outputFormat": "输出 $A$ 使得 $B$ 到账 $100$ 元最少需要的总费用。精确到小数点后 $8$ 位。", "hint": "$1\\le n \\le 2000,m\\le 100000$。\n\n保证答案不超过 $10^4$。", "locale": "zh-CN", "translations": {"en": {"title": "Minimum Cost", "background": "", "description": "Among $n$ people, certain pairs can transfer money between their bank accounts. The transfer fee between these people can differ from pair to pair. Given, for each such pair, the percentage fee that will be deducted from the transferred amount, determine the minimum amount $A$ must have so that after the transfers $B$ receives $100$ yuan.", "inputFormat": "The first line contains two positive integers $n,m$, representing the total number of people and the number of pairs who can transfer money to each other.\n\nEach of the following $m$ lines contains three positive integers $x,y,z$, meaning that transferring money between person $x$ and person $y$ incurs a fee of $z\\%$ deducted from the transferred amount $(z<100)$.\n\nThe last line contains two positive integers $A,B$. The testdata guarantees that $A$ and $B$ can transfer money directly or indirectly.", "outputFormat": "Output the minimum total amount that $A$ needs so that $B$ receives $100$ yuan. Print to 8 digits after the decimal point.", "hint": "$1\\le n \\le 2000,m\\le 100000$.\n\nIt is guaranteed that the answer does not exceed $10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最小花费", "background": null, "description": "在 $n$ 个人中，某些人的银行账号之间可以互相转账。这些人之间转账的手续费各不相同。给定这些人之间转账时需要从转账金额里扣除百分之几的手续费，请问 $A$ 最少需要多少钱使得转账后 $B$ 收到 $100$ 元。", "inputFormat": "第一行输入两个正整数 $n,m$，分别表示总人数和可以互相转账的人的对数。\n\n以下 $m$ 行每行输入三个正整数 $x,y,z$，表示标号为 $x$ 的人和标号为 $y$ 的人之间互相转账需要扣除 $z\\%$ 的手续费 $(z<100)$。\n\n最后一行输入两个正整数 $A,B$。数据保证 $A$ 与 $B$ 之间可以直接或间接地转账。", "outputFormat": "输出 $A$ 使得 $B$ 到账 $100$ 元最少需要的总费用。精确到小数点后 $8$ 位。", "hint": "$1\\le n \\le 2000,m\\le 100000$。\n\n保证答案不超过 $10^4$。", "locale": "zh-CN"}}}
{"pid": "P1577", "type": "P", "difficulty": 3, "samples": [["4 11\n8.02\n7.43\n4.57\n5.39", "2.00"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["二分", "Special Judge"], "title": "切绳子", "background": "", "description": "有 $N$ 条绳子，它们的长度分别为 $L_i$。如果从它们中切割出 $K$ 条长度相同的绳子，这 $K$ 条绳子每条最长能有多长？答案保留到小数点后 $2$ 位(直接舍掉 $2$ 位后的小数)。\n", "inputFormat": "第一行两个整数 $N$ 和 $K$，接下来 $N$ 行，描述了每条绳子的长度 $L_i$ 。\n", "outputFormat": "切割后每条绳子的最大长度。答案与标准答案误差不超过 $0.01$ 或者相对误差不超过 $1\\%$ 即可通过。", "hint": "对于 $100\\%$ 的数据 $0<L_i\\leq 100000.00,0<n\\leq 10000,0<k\\leq 10000$\n", "locale": "zh-CN", "translations": {"en": {"title": "Cutting Ropes", "background": "", "description": "There are $N$ ropes with lengths $L_i$. If we cut from them $K$ ropes of equal length, determine the maximum possible length of each of these $K$ ropes. Keep the answer to two decimal places (truncate after the second decimal digit).", "inputFormat": "The first line contains two integers $N$ and $K$.  \nEach of the next $N$ lines describes the length $L_i$ of a rope.", "outputFormat": "Output the maximum length of each rope after cutting. The answer will be accepted if the absolute error does not exceed $0.01$ or the relative error does not exceed $1\\%$.", "hint": "Constraints: For $100\\%$ of the testdata, $0 < L_i \\leq 100000.00$, $0 < N \\leq 10000$, $0 < K \\leq 10000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "切绳子", "background": "", "description": "有 $N$ 条绳子，它们的长度分别为 $L_i$。如果从它们中切割出 $K$ 条长度相同的绳子，这 $K$ 条绳子每条最长能有多长？答案保留到小数点后 $2$ 位(直接舍掉 $2$ 位后的小数)。\n", "inputFormat": "第一行两个整数 $N$ 和 $K$，接下来 $N$ 行，描述了每条绳子的长度 $L_i$ 。\n", "outputFormat": "切割后每条绳子的最大长度。答案与标准答案误差不超过 $0.01$ 或者相对误差不超过 $1\\%$ 即可通过。", "hint": "对于 $100\\%$ 的数据 $0<L_i\\leq 100000.00,0<n\\leq 10000,0<k\\leq 10000$\n", "locale": "zh-CN"}}}
{"pid": "P1578", "type": "P", "difficulty": 5, "samples": [["10 10\n4\n1 1\n9 1\n1 9\n9 9", "80"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "2002", "WC"], "title": "[WC2002] 奶牛浴场", "background": null, "description": "由于 John 建造了牛场围栏，激起了奶牛的愤怒，奶牛的产奶量急剧减少。为了讨好奶牛，John 决定在牛场中建造一个大型浴场。但是 John 的奶牛有一个奇怪的习惯，每头奶牛都必须在牛场中的一个固定的位置产奶，而奶牛显然不能在浴场中产奶，于是，John 希望所建造的浴场不覆盖这些产奶点。这回，他又要求助于 Clevow 了。你还能帮助 Clevow 吗？\n\nJohn 的牛场和规划的浴场都是矩形。浴场要完全位于牛场之内，并且浴场的轮廓要与牛场的轮廓平行或者重合。浴场不能覆盖任何产奶点，但是产奶点可以位于浴场的轮廓上。\n\nClevow 当然希望浴场的面积尽可能大了，所以你的任务就是帮她计算浴场的最大面积。", "inputFormat": "输入文件的第一行包含两个整数 $L$ 和 $W$，分别表示牛场的长和宽。\n\n文件的第二行包含一个整数 $n$，表示产奶点的数量。\n\n以下 $n$ 行每行包含两个整数 $x$ 和 $y$，表示一个产奶点的坐标。", "outputFormat": "输出文件仅一行，包含一个整数 $S$，表示浴场的最大面积。", "hint": "对于所有数据，$0 \\le n \\le 5 \\times 10^3$，$1 \\le L,W \\le 3 \\times 10^4$。所有产奶点都位于牛场内，即：$0 \\le x \\le L$，$0 \\le y \\le W$。\n\n感谢 @凯瑟琳98 提供了 4 组 hack 数据。", "locale": "zh-CN", "translations": {"en": {"title": "[WC2002] Cow Bath", "background": "", "description": "Because John built a fence around the cow field, the cows became angry and their milk yield dropped sharply. To appease them, John decided to build a large bath inside the field. However, John’s cows have a strange habit: each cow must produce milk at a fixed position in the field, and cows obviously cannot produce milk in the bath. Therefore, John wants the bath not to cover these milking points. Once again, he turns to Clevow for help. Can you help Clevow?\n\nJohn’s field and the planned bath are both rectangles. The bath must lie completely inside the field, and its sides must be parallel to, or coincide with, the sides of the field. The bath must not cover any milking point, but milking points may lie on the boundary of the bath.\n\nClevow of course wants the bath to have the largest possible area, so your task is to compute the maximum possible area of the bath.", "inputFormat": "The first line contains two integers $L$ and $W$, denoting the length and width of the field.\n\nThe second line contains an integer $n$, denoting the number of milking points.\n\nEach of the following $n$ lines contains two integers $x$ and $y$, denoting the coordinates of a milking point.", "outputFormat": "Output a single line containing an integer $S$, the maximum area of the bath.", "hint": "For all testdata, $0 \\le n \\le 5 \\times 10^3$, $1 \\le L, W \\le 3 \\times 10^4$. All milking points lie within the field, i.e., $0 \\le x \\le L$, $0 \\le y \\le W$.\n\nThanks to @凯瑟琳98 for providing 4 sets of hack testdata.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[WC2002] 奶牛浴场", "background": null, "description": "由于 John 建造了牛场围栏，激起了奶牛的愤怒，奶牛的产奶量急剧减少。为了讨好奶牛，John 决定在牛场中建造一个大型浴场。但是 John 的奶牛有一个奇怪的习惯，每头奶牛都必须在牛场中的一个固定的位置产奶，而奶牛显然不能在浴场中产奶，于是，John 希望所建造的浴场不覆盖这些产奶点。这回，他又要求助于 Clevow 了。你还能帮助 Clevow 吗？\n\nJohn 的牛场和规划的浴场都是矩形。浴场要完全位于牛场之内，并且浴场的轮廓要与牛场的轮廓平行或者重合。浴场不能覆盖任何产奶点，但是产奶点可以位于浴场的轮廓上。\n\nClevow 当然希望浴场的面积尽可能大了，所以你的任务就是帮她计算浴场的最大面积。", "inputFormat": "输入文件的第一行包含两个整数 $L$ 和 $W$，分别表示牛场的长和宽。\n\n文件的第二行包含一个整数 $n$，表示产奶点的数量。\n\n以下 $n$ 行每行包含两个整数 $x$ 和 $y$，表示一个产奶点的坐标。", "outputFormat": "输出文件仅一行，包含一个整数 $S$，表示浴场的最大面积。", "hint": "对于所有数据，$0 \\le n \\le 5 \\times 10^3$，$1 \\le L,W \\le 3 \\times 10^4$。所有产奶点都位于牛场内，即：$0 \\le x \\le L$，$0 \\le y \\le W$。\n\n感谢 @凯瑟琳98 提供了 4 组 hack 数据。", "locale": "zh-CN"}}}
{"pid": "P1579", "type": "P", "difficulty": 2, "samples": [["2009", "3 3 2003"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "枚举", "素数判断,质数,筛法"], "title": "哥德巴赫猜想（升级版）", "background": "1742 年 6 月 7 日，哥德巴赫写信给当时的大数学家欧拉，正式提出了以下的猜想：任何一个大于 $9$ 的奇数都可以表示成 $3$ 个质数之和。质数是指除了 $1$ 和本身之外没有其他约数的数，如 $2$ 和 $11$ 都是质数，而 $6$ 不是质数，因为 $6$ 除了约数 $1$ 和 $6$ 之外还有约数 $2$ 和 $3$。**需要特别说明的是 $1$ 不是质数。**\n\n这就是哥德巴赫猜想。欧拉在回信中说，他相信这个猜想是正确的，但他不能证明。\n\n从此，这道数学难题引起了几乎所有数学家的注意。哥德巴赫猜想由此成为数学皇冠上一颗可望不可及的“明珠”。", "description": "现在请你编一个程序验证哥德巴赫猜想。\n\n先给出一个奇数 $n$，要求输出 $3$ 个质数，这 $3$ 个质数之和等于输入的奇数。", "inputFormat": "仅有一行，包含一个正奇数 $n$，其中 $9 < n < 20000$。", "outputFormat": "仅有一行，输出 $3$ 个质数，这 $3$ 个质数之和等于输入的奇数。相邻两个质数之间用一个空格隔开，最后一个质数后面没有空格。如果表示方法不唯一，请输出第一个质数最小的方案，如果第一个质数最小的方案不唯一，请输出第一个质数最小的同时，第二个质数最小的方案。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Goldbach's Conjecture (Upgraded Version)", "background": "On June 7, 1742, Goldbach wrote to the great mathematician Euler, formally proposing the following conjecture: any odd number greater than $9$ can be expressed as the sum of $3$ primes. A prime is a number that has no divisors other than $1$ and itself; for example, $2$ and $11$ are primes, while $6$ is not, because besides $1$ and $6$, it also has divisors $2$ and $3$. **Note in particular that 1 is not a prime.**\n\nThis is Goldbach's conjecture. In his reply, Euler said he believed the conjecture was correct, but he could not prove it.\n\nSince then, this mathematical challenge has attracted the attention of almost all mathematicians. Goldbach's conjecture has thus become an unattainable “jewel” in the crown of mathematics.", "description": "Now please write a program to verify Goldbach's conjecture.\n\nGiven an odd number $n$, output $3$ primes whose sum equals the input odd number.", "inputFormat": "Only one line, containing a positive odd integer $n$, where $9 < n < 20000$.", "outputFormat": "Only one line, output $3$ primes whose sum equals the input odd number. Adjacent primes are separated by a single space, and there is no space after the last prime. If the representation is not unique, output the scheme with the smallest first prime. If there are multiple such schemes, output the one that also has the smallest second prime.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "哥德巴赫猜想（升级版）", "background": "1742 年 6 月 7 日，哥德巴赫写信给当时的大数学家欧拉，正式提出了以下的猜想：任何一个大于 $9$ 的奇数都可以表示成 $3$ 个质数之和。质数是指除了 $1$ 和本身之外没有其他约数的数，如 $2$ 和 $11$ 都是质数，而 $6$ 不是质数，因为 $6$ 除了约数 $1$ 和 $6$ 之外还有约数 $2$ 和 $3$。**需要特别说明的是 $1$ 不是质数。**\n\n这就是哥德巴赫猜想。欧拉在回信中说，他相信这个猜想是正确的，但他不能证明。\n\n从此，这道数学难题引起了几乎所有数学家的注意。哥德巴赫猜想由此成为数学皇冠上一颗可望不可及的“明珠”。", "description": "现在请你编一个程序验证哥德巴赫猜想。\n\n先给出一个奇数 $n$，要求输出 $3$ 个质数，这 $3$ 个质数之和等于输入的奇数。", "inputFormat": "仅有一行，包含一个正奇数 $n$，其中 $9 < n < 20000$。", "outputFormat": "仅有一行，输出 $3$ 个质数，这 $3$ 个质数之和等于输入的奇数。相邻两个质数之间用一个空格隔开，最后一个质数后面没有空格。如果表示方法不唯一，请输出第一个质数最小的方案，如果第一个质数最小的方案不唯一，请输出第一个质数最小的同时，第二个质数最小的方案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P1580", "type": "P", "difficulty": 3, "samples": [["yyy loves OI : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Maths : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Chemistry : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Microelectronic : ni men wu liao me \nyyy loves OI : @yyy loves Physics wo pei fu ni de chu ti xiao lv\n\n", "Unsuccessful @yyy loves Physics attempt\n4\nyyy loves Microelectronic\n"], ["yyy loves OI : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Maths : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Chemistry : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves OI : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Maths : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Chemistry : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves OI : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Maths : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Chemistry : @yyy loves Physics wo pei fu ni de chu ti xiao lv\nyyy loves Physics : ni men gou le \n\n", "Successful @yyy loves Physics attempt\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "洛谷原创", "队列"], "title": "yyy loves Easter_Egg I", "background": "Soha 的出题效率着实让人大吃一惊。OI，数学，化学的题目都出好了，物理的题还没有一道。于是，Huntfire，absi2011，redbag 对 soha 进行轮番炸，准备炸到 soha 出来，不料，人群中冲出了个 kkksc03……", "description": "![](https://cdn.luogu.com.cn/upload/pic/1456.png)\n\n![](https://cdn.luogu.com.cn/upload/pic/1455.png)\n\nyyy loves OI（Huntfire），yyy loves Maths（redbag），yyy loves Chemistry（absi2011）对 yyy loves Physics（soha）进行轮番炸，轰炸按照顺序进行，顺序为 Huntfire，redbag，absi2011。\n\n现在这一题中，我们不考虑太复杂的队形形式。我们认为只要这一句内含有且恰好含有一次@，@的人和上一句话一样就算为队形。\n\n比如以下也视为队形：\n\n- `yyy loves OI : @yyy loves Microelectronic`\n- `yyy loves Maths : @yyy loves Microelectronic 我佩服soha的出题效率`\n- `yyy loves OI : @yyy loves Microelectronic +1`\n- `yyy loves Chemistry : +1 @yyy loves Microelectronic`\n\n若 @ 的人与第一个人不同，就算队形被打破。若这个人在队形被打破之前出来发言了，或者就是他打破队形了，就算（油）炸成功了。\n\n若（油）炸成功，输出 `Successful @某某某 attempt`，若队形被破坏先输出 `Unsuccessful @某某某 attempt`，再输出队形第一次被破坏的行数与第一次破坏队形的人的 $\\text{id}$。\n\n如果队形一直没被打破，就先输出 `Unsuccessful @某某某 attempt`，再输出队形的长度，最后输出 `Good Queue Shape`。\n\n~~p.s.yyy loves Microelectronic 是 kkksc03~~\n\n", "inputFormat": "$N$ 行，为轰炸开始后的一段消息记录，每行一条消息。消息格式：「消息发送者+`:`+消息内容」，每行消息长度不超过 $1000$。（中文用拼音代替）\n\n", "outputFormat": "若（油）炸成功，输出 `Successful @某某某 attempt`，若队形被破坏第一行输出 `Unsuccessful @某某某 attempt`，接下来一行输出队形第一次被破坏的行数，第三行输出第一次破坏队形的人的 $\\text{id}$。\n如果队形一直没被打破，就先输出 `Unsuccessful @某某某 attempt`，再输出队形的长度，最后输出 `Good Queue Shape`。", "hint": "**@yyy loves Physics 我佩服你的出题效率**\n\n此题仅吐槽 soha，纪念出题者的队形，此队形长达 $91$ 行。\n\n对于 $100\\%$ 的数据,每行消息长度 $\\le$ $10^3$。 \n\n- 保证行数不超过 $5\\times 10^4$；\n- 保证输入文件大小不超过 $4\\text{MB}$；\n- 保证第一个说话的一定在 @ 某人；\n- 保证大家的名字都是 $\\text{yyy loves ***}$ 的格式；\n- 保证每个人说的话中没有 `:`；\n- 保证第一个说话的一定艾特了一个人且只 @ 了一个人；\n- 保证第一个说话的一定不会艾特自己；\n- 保证文件结束一定有一行空行，方便你判定文件结束；\n- 并不保证后面说话的艾特了几个人 然而艾特人数不为一个人视为破坏队形；\n- 并不保证后面说话是否会反复艾特同一个人；\n- 并不保证被炸的人一定破坏队形；\n- 并不保证这一题是或不是压轴题；\n- 并不保证这一套比赛存在压轴题；\n- 并不保证下一套比赛和这一套比赛一样水；\n- 并不保证群里除了这 $4$ 个人和 kkksc03 以外没有别人了；\n- 并不保证你没 AC 这题的情况下吐槽 soha 不会出事儿；\n- AC 了可以吐槽 soha 一句，soha 不会介意。", "locale": "zh-CN", "translations": {"en": {"title": "yyy loves Easter_Egg I", "background": "Soha’s problem-setting efficiency is truly astonishing. The OI, math, and chemistry problems are all ready, but not a single physics problem. So, Huntfire, absi2011, and redbag take turns bombing soha, planning to keep bombing until soha shows up. Unexpectedly, kkksc03 rushes out from the crowd...", "description": "![](https://cdn.luogu.com.cn/upload/pic/1456.png)\n\n![](https://cdn.luogu.com.cn/upload/pic/1455.png)\n\nyyy loves OI (Huntfire), yyy loves Maths (redbag), and yyy loves Chemistry (absi2011) take turns bombing yyy loves Physics (soha), in the order Huntfire, redbag, absi2011.\n\nIn this problem, we do not consider complicated queue shapes. We consider the queue shape to be maintained if and only if a line contains exactly one @, and the person being @-mentioned is the same as in the previous line.\n\nFor example, the following are also considered to maintain the queue shape:\n- `yyy loves OI : @yyy loves Microelectronic`\n- `yyy loves Maths : @yyy loves Microelectronic 我佩服soha的出题效率`\n- `yyy loves OI : @yyy loves Microelectronic +1`\n- `yyy loves Chemistry : +1 @yyy loves Microelectronic`\n\nIf the person being @-mentioned is different from the one in the first line, the queue shape is considered broken. If the bombed person appears to speak before the queue shape is broken, or they are the one who breaks the queue shape, the frying is considered successful.\n\nIf the frying is successful, output `Successful @someone attempt`. If the queue shape is broken first, output `Unsuccessful @someone attempt`, then output the line number where the queue shape is first broken, and the $\\text{id}$ of the person who first broke the queue shape.\n\nIf the queue shape is never broken, first output `Unsuccessful @someone attempt`, then output the length of the queue shape, and finally output `Good Queue Shape`.\n\n~~p.s.yyy loves Microelectronic 是 kkksc03~~", "inputFormat": "$N$ lines of message logs after the bombing starts, one message per line. Message format: “sender + `:` + content”. Each line’s length does not exceed $1000$. (Chinese is replaced by pinyin.)", "outputFormat": "If the frying is successful, output `Successful @someone attempt`.\n\nIf the queue shape is broken first, output three lines:\n- First line: `Unsuccessful @someone attempt`.\n- Second line: the line number where the queue shape is first broken.\n- Third line: the $\\text{id}$ of the person who first broke the queue shape.\n\nIf the queue shape is never broken, output three lines:\n- First line: `Unsuccessful @someone attempt`.\n- Second line: the length of the queue shape.\n- Third line: `Good Queue Shape`.", "hint": "**@yyy loves Physics 我佩服你的出题效率**\n\nThis problem merely pokes fun at soha and commemorates the author’s queue shape, which lasted $91$ lines.\n\nFor $100\\%$ of the testdata, each line length $\\le 10^3$.\n\n- The number of lines does not exceed $5\\times 10^4$.\n- The input file size does not exceed $4\\text{MB}$.\n- The first speaker is guaranteed to @ someone.\n- Everyone’s name is guaranteed to follow the format $\\text{yyy loves ***}$.\n- It is guaranteed that nobody’s message contains `:`.\n- The first speaker is guaranteed to @ exactly one person.\n- The first speaker is guaranteed not to @ themselves.\n- There is guaranteed to be an empty line at the end of the file to help you detect EOF.\n- It is not guaranteed how many people later speakers will @; however, if the number is not exactly one, it is considered breaking the queue shape.\n- It is not guaranteed whether later speakers will repeatedly @ the same person.\n- It is not guaranteed that the bombed person will break the queue shape.\n- It is not guaranteed whether this problem is or is not the final problem.\n- It is not guaranteed that this contest set even has a final problem.\n- It is not guaranteed that the next contest set will be as easy as this one.\n- It is not guaranteed that there are no others in the group besides these $4$ people and kkksc03.\n- It is not guaranteed that mocking soha without ACing this problem won’t cause trouble.\n- If you AC it, you may mock soha once; soha won’t mind.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "yyy loves Easter_Egg I", "background": "Soha 的出题效率着实让人大吃一惊。OI，数学，化学的题目都出好了，物理的题还没有一道。于是，Huntfire，absi2011，redbag 对 soha 进行轮番炸，准备炸到 soha 出来，不料，人群中冲出了个 kkksc03……", "description": "![](https://cdn.luogu.com.cn/upload/pic/1456.png)\n\n![](https://cdn.luogu.com.cn/upload/pic/1455.png)\n\nyyy loves OI（Huntfire），yyy loves Maths（redbag），yyy loves Chemistry（absi2011）对 yyy loves Physics（soha）进行轮番炸，轰炸按照顺序进行，顺序为 Huntfire，redbag，absi2011。\n\n现在这一题中，我们不考虑太复杂的队形形式。我们认为只要这一句内含有且恰好含有一次@，@的人和上一句话一样就算为队形。\n\n比如以下也视为队形：\n\n- `yyy loves OI : @yyy loves Microelectronic`\n- `yyy loves Maths : @yyy loves Microelectronic 我佩服soha的出题效率`\n- `yyy loves OI : @yyy loves Microelectronic +1`\n- `yyy loves Chemistry : +1 @yyy loves Microelectronic`\n\n若 @ 的人与第一个人不同，就算队形被打破。若这个人在队形被打破之前出来发言了，或者就是他打破队形了，就算（油）炸成功了。\n\n若（油）炸成功，输出 `Successful @某某某 attempt`，若队形被破坏先输出 `Unsuccessful @某某某 attempt`，再输出队形第一次被破坏的行数与第一次破坏队形的人的 $\\text{id}$。\n\n如果队形一直没被打破，就先输出 `Unsuccessful @某某某 attempt`，再输出队形的长度，最后输出 `Good Queue Shape`。\n\n~~p.s.yyy loves Microelectronic 是 kkksc03~~\n\n", "inputFormat": "$N$ 行，为轰炸开始后的一段消息记录，每行一条消息。消息格式：「消息发送者+`:`+消息内容」，每行消息长度不超过 $1000$。（中文用拼音代替）\n\n", "outputFormat": "若（油）炸成功，输出 `Successful @某某某 attempt`，若队形被破坏第一行输出 `Unsuccessful @某某某 attempt`，接下来一行输出队形第一次被破坏的行数，第三行输出第一次破坏队形的人的 $\\text{id}$。\n如果队形一直没被打破，就先输出 `Unsuccessful @某某某 attempt`，再输出队形的长度，最后输出 `Good Queue Shape`。", "hint": "**@yyy loves Physics 我佩服你的出题效率**\n\n此题仅吐槽 soha，纪念出题者的队形，此队形长达 $91$ 行。\n\n对于 $100\\%$ 的数据,每行消息长度 $\\le$ $10^3$。 \n\n- 保证行数不超过 $5\\times 10^4$；\n- 保证输入文件大小不超过 $4\\text{MB}$；\n- 保证第一个说话的一定在 @ 某人；\n- 保证大家的名字都是 $\\text{yyy loves ***}$ 的格式；\n- 保证每个人说的话中没有 `:`；\n- 保证第一个说话的一定艾特了一个人且只 @ 了一个人；\n- 保证第一个说话的一定不会艾特自己；\n- 保证文件结束一定有一行空行，方便你判定文件结束；\n- 并不保证后面说话的艾特了几个人 然而艾特人数不为一个人视为破坏队形；\n- 并不保证后面说话是否会反复艾特同一个人；\n- 并不保证被炸的人一定破坏队形；\n- 并不保证这一题是或不是压轴题；\n- 并不保证这一套比赛存在压轴题；\n- 并不保证下一套比赛和这一套比赛一样水；\n- 并不保证群里除了这 $4$ 个人和 kkksc03 以外没有别人了；\n- 并不保证你没 AC 这题的情况下吐槽 soha 不会出事儿；\n- AC 了可以吐槽 soha 一句，soha 不会介意。", "locale": "zh-CN"}}}
