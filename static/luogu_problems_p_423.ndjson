{"pid": "P9579", "type": "P", "difficulty": 4, "samples": [["2\n3 2\n2 5", "7"], ["4\n4 7\n10 8\n9 11\n4 2", "18"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "线段树", "树状数组", "洛谷原创", "O2优化", "排序", "洛谷月赛"], "title": "「Cfz Round 1」Elevator", "background": "电梯是一个可以让人充分思考的空间。", "description": "给定两个长度为 $n$ 的数组 $a,b$。我们称序列 $p$ 是满足条件的，设 $p$ 的长度为 $m$，当且仅当：\n\n- $p_1=1$；  \n- 对于所有的 $1\\le i<m$，都有 $|p_i-p_{i+1}|=1$；  \n- 对于所有的 $1\\le k\\le n$，都存在一个有序数对 $(i,j)$，满足 $1 \\le i < j \\le m$ 且 $p_i=a_k$，$p_j=b_k$。\n\n你需要输出所有满足条件的序列 $p$ 中，$p$ 的长度的最小值。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $a_i,b_i$。", "outputFormat": "一个整数，表示所有满足条件的序列 $p$ 中，$p$ 的长度的最小值。", "hint": "#### 【样例解释 #1】\n\n序列 $p$ 的长度的最小值为 $7$，此时的序列 $p$ 为 $\\{1,2,3,2,3,4,5\\}$。\n\n#### 【数据范围】\n\n对于所有数据，$1 \\le n \\le 5\\times10^5$，$1 \\le a_i,b_i \\le 10^9$，保证 $a_i \\neq b_i$。\n\n**本题采用捆绑测试。**\n\n|子任务编号|分值|$n \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1$|$9$|$1$|无|\n|$2$|$9$|$5\\times10^5$|保证 $a_i < b_i$|\n|$3$|$21$|$5\\times10^5$| $a_i,b_i$ 在 $[1,10^9]$ 内随机生成|\n|$4$|$27$|$2000$|无|\n|$5$|$34$|$5\\times10^5$|无|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 1」Elevator", "background": "电梯是一个可以让人充分思考的空间。", "description": "给定两个长度为 $n$ 的数组 $a,b$。我们称序列 $p$ 是满足条件的，设 $p$ 的长度为 $m$，当且仅当：\n\n- $p_1=1$；  \n- 对于所有的 $1\\le i<m$，都有 $|p_i-p_{i+1}|=1$；  \n- 对于所有的 $1\\le k\\le n$，都存在一个有序数对 $(i,j)$，满足 $1 \\le i < j \\le m$ 且 $p_i=a_k$，$p_j=b_k$。\n\n你需要输出所有满足条件的序列 $p$ 中，$p$ 的长度的最小值。", "inputFormat": "第一行一个整数 $n$。\n\n接下来 $n$ 行，第 $i$ 行两个整数 $a_i,b_i$。", "outputFormat": "一个整数，表示所有满足条件的序列 $p$ 中，$p$ 的长度的最小值。", "hint": "#### 【样例解释 #1】\n\n序列 $p$ 的长度的最小值为 $7$，此时的序列 $p$ 为 $\\{1,2,3,2,3,4,5\\}$。\n\n#### 【数据范围】\n\n对于所有数据，$1 \\le n \\le 5\\times10^5$，$1 \\le a_i,b_i \\le 10^9$，保证 $a_i \\neq b_i$。\n\n**本题采用捆绑测试。**\n\n|子任务编号|分值|$n \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1$|$9$|$1$|无|\n|$2$|$9$|$5\\times10^5$|保证 $a_i < b_i$|\n|$3$|$21$|$5\\times10^5$| $a_i,b_i$ 在 $[1,10^9]$ 内随机生成|\n|$4$|$27$|$2000$|无|\n|$5$|$34$|$5\\times10^5$|无|", "locale": "zh-CN"}}}
{"pid": "P9580", "type": "P", "difficulty": 6, "samples": [["3 2 0\n100\n3 1 2\n1 3\n2 3", "2\n0"], ["5 2 0\n10100\n2 7 6 3 5\n1 5\n2 4", "8\n4"], ["20 100 8551679995685981130\n11001000000000000000", "1673"]], "limits": {"time": [1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200, 1200], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["树状数组", "洛谷原创", "O2优化", "线性基", "洛谷月赛", "单调栈"], "title": "「Cfz Round 1」Wqs Game", "background": "『博』和『奕』喜欢博弈，尤其喜欢 wqs 带权博弈。", "description": "wqs 带权博弈在一个数列 $\\{a_i\\}$ 上进行，对应有一个 $01$ 串 $\\{b_i\\}$。\n\n1. 若 $b_i=0$，则 $a_i$ 这个数字是属于『博』的；\n2. 若 $b_i=1$，则 $a_i$ 这个数字是属于『奕』的。\n\n游戏规则是，每次给定一个区间 $[l,r]$，从 $a_l$ 到 $a_r$，拥有这个数的人**依次**决定选该数或者不选，两个人都会采用**最优策略**。\n\n因为『博』很强大，她会让着『奕』，于是博弈的规则是，如果最后两个人选的数**按位异或和不为零**，则『奕』获胜，否则『博』获胜。\n\n注意每个人**能看到**对方的选数情况，可以选**多个**数（只要这个数是自己的），最后计算两个人选数的总**异或**和。\n\n对于任意区间 $[l,r]$，若『奕』获胜，则 $w(l,r)=1$，否则 $w(l,r)=0$。\n\n每次查询 $\\sum\\limits_{l=L}^R\\sum\\limits_{r=l}^Rw(l,r)$ 的值，对 $2^{32}$ 取模。\n\n由于输入输出量过大，对于 $tp\\ne 0$ 的测试点，选手需要自行生成数列 $a_i$ 和询问区间 $[L,R]$，并用特殊方式输出答案。\n\n注意正解**不依赖**特殊的输入输出方式。", "inputFormat": "第一行三个正整数 $n,q,tp$，表示数列长度，天数以及每天局数，以及读入方式。\n\n第二行一个长度为 $n$ 的字符串，表示 $01$ 串 $\\{b_i\\}$；\n\n若 $tp=0$，则第三行 $n$ 个正整数，表示数列 $\\{a_i\\}$，接下来 $q$ 行，每行两个正整数 $L,R$，表示询问  $\\sum\\limits_{l=L}^R\\sum\\limits_{r=l}^Rw(l,r)$ 对 $2^{32}$ 取模的值。\n\n否则，令 `Sd` 初值为 $tp$，`Cnt` 初值为 $0$，先使用函数 `GetA` 依次生成 $a_i$，再使用函数 `GetLR` 依次生成 $L,R$，具体方式以代码形式后附。", "outputFormat": "若 $tp=0$ 则输出 $q$ 行，每行一个正整数，表示该询问的答案。\n\n否则，令 $ans_i$ 为第 $i$ 次询问的答案，你需要输出 $(ans_i\\times i)\\bmod 2^{32}$ 的**按位异或和**。", "hint": "#### 【样例解释 #1】\n\n只有 $w(1,1)=w(1,2)=1$。\n\n对于区间 $[1,3]$，如果『奕』选第一个数，则『博』选后两个数，否则『博』不选，于是『博』获胜。\n\n注意是从左往右依次选取，『博』在选后两个数之前能够知道『奕』是否选了第一个数。\n\n#### 【样例解释 #2】\n\n只有 $w(1,1)=w(1,2)=w(1,3)=w(1,4)=w(2,3)=w(2,4)=w(3,3)=w(3,4)=1$。\n\n#### 【样例解释 #3】\n\n由于本样例 $tp\\ne 0$，所以你需要使用特殊方式输入输出。\n\n#### 【数据范围】\n\n对于所有数据，$1\\le n\\le5\\times10^5,1\\le q\\le 1.5\\times10^6,0<a_i<2^{60},1\\le L\\le R\\le n,0\\le tp<2^{64}$。\n\n| 子任务编号 | 分值 |    $n\\le$     |     $q\\le$      |  $tp$  |  $a_i<$  | 特殊性质 |\n| :--------: | :--: | :-----------: | :-------------: | :----: | :------: | :------: |\n|    $1$     | $6$  |     $20$      |      $100$      |  $=0$  | $2^{60}$ |    有    |\n|    $2$     | $7$  |     $100$     |     $10^3$      |  $=0$  | $2^{10}$ |    有    |\n|    $3$     | $8$  |     $700$     |     $10^3$      |  $=0$  | $2^{10}$ |    无    |\n|    $4$     | $9$  |    $3000$     |     $10^5$      |  $=0$  | $2^{60}$ |    无    |\n|    $5$     | $14$ | $3\\times10^4$ |     $10^5$      |  $=0$  | $2^{20}$ |    无    |\n|    $6$     | $17$ | $2\\times10^5$ | $1.5\\times10^6$ | $\\ge1$ | $2^{60}$ |    有    |\n|    $7$     | $19$ | $5\\times10^5$ | $1.5\\times10^6$ | $\\ge1$ | $2^{60}$ |    有    |\n|    $8$     | $20$ | $5\\times10^5$ | $1.5\\times10^6$ | $\\ge1$ | $2^{60}$ |    无    |\n\n特殊性质：序列 $b_i$ 中最多有 $10$ 个 $0$。\n\n#### 【备注】\n\n数据生成方式：\n\n```cpp\nusing ul=unsigned long long;\nusing ui=unsigned int;\nui Ans,ans;\nul Sd,Cnt;\nul Rd(){Sd^=Sd<<19,Sd^=Sd>>12,Sd^=Sd<<29;return Sd^=++Cnt;}\nvoid GetA(ul &a){a=Rd()%((1ull<<60)-2)+1;}\nvoid GetLR(int &l,int &r){\n    l=Rd()%n+1,r=Rd()%n+1;\n    if(l>r)swap(l,r);\n}\nint main(){\n    //read n,q,tp,b[i]\n    if(tp){\n        Sd=tp,Cnt=0;\n        for(int i=1;i<=n;++i)GetA(a[i]);\n        for(int qi=1;qi<=q;++qi){\n            GetLR(l,r);\n            //sol\n            Ans^=ans*qi;\n        }\n        printf(\"%u\\n\",Ans);\n\t}\n}\n```", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Cfz Round 1」Wqs Game", "background": "『博』和『奕』喜欢博弈，尤其喜欢 wqs 带权博弈。", "description": "wqs 带权博弈在一个数列 $\\{a_i\\}$ 上进行，对应有一个 $01$ 串 $\\{b_i\\}$。\n\n1. 若 $b_i=0$，则 $a_i$ 这个数字是属于『博』的；\n2. 若 $b_i=1$，则 $a_i$ 这个数字是属于『奕』的。\n\n游戏规则是，每次给定一个区间 $[l,r]$，从 $a_l$ 到 $a_r$，拥有这个数的人**依次**决定选该数或者不选，两个人都会采用**最优策略**。\n\n因为『博』很强大，她会让着『奕』，于是博弈的规则是，如果最后两个人选的数**按位异或和不为零**，则『奕』获胜，否则『博』获胜。\n\n注意每个人**能看到**对方的选数情况，可以选**多个**数（只要这个数是自己的），最后计算两个人选数的总**异或**和。\n\n对于任意区间 $[l,r]$，若『奕』获胜，则 $w(l,r)=1$，否则 $w(l,r)=0$。\n\n每次查询 $\\sum\\limits_{l=L}^R\\sum\\limits_{r=l}^Rw(l,r)$ 的值，对 $2^{32}$ 取模。\n\n由于输入输出量过大，对于 $tp\\ne 0$ 的测试点，选手需要自行生成数列 $a_i$ 和询问区间 $[L,R]$，并用特殊方式输出答案。\n\n注意正解**不依赖**特殊的输入输出方式。", "inputFormat": "第一行三个正整数 $n,q,tp$，表示数列长度，天数以及每天局数，以及读入方式。\n\n第二行一个长度为 $n$ 的字符串，表示 $01$ 串 $\\{b_i\\}$；\n\n若 $tp=0$，则第三行 $n$ 个正整数，表示数列 $\\{a_i\\}$，接下来 $q$ 行，每行两个正整数 $L,R$，表示询问  $\\sum\\limits_{l=L}^R\\sum\\limits_{r=l}^Rw(l,r)$ 对 $2^{32}$ 取模的值。\n\n否则，令 `Sd` 初值为 $tp$，`Cnt` 初值为 $0$，先使用函数 `GetA` 依次生成 $a_i$，再使用函数 `GetLR` 依次生成 $L,R$，具体方式以代码形式后附。", "outputFormat": "若 $tp=0$ 则输出 $q$ 行，每行一个正整数，表示该询问的答案。\n\n否则，令 $ans_i$ 为第 $i$ 次询问的答案，你需要输出 $(ans_i\\times i)\\bmod 2^{32}$ 的**按位异或和**。", "hint": "#### 【样例解释 #1】\n\n只有 $w(1,1)=w(1,2)=1$。\n\n对于区间 $[1,3]$，如果『奕』选第一个数，则『博』选后两个数，否则『博』不选，于是『博』获胜。\n\n注意是从左往右依次选取，『博』在选后两个数之前能够知道『奕』是否选了第一个数。\n\n#### 【样例解释 #2】\n\n只有 $w(1,1)=w(1,2)=w(1,3)=w(1,4)=w(2,3)=w(2,4)=w(3,3)=w(3,4)=1$。\n\n#### 【样例解释 #3】\n\n由于本样例 $tp\\ne 0$，所以你需要使用特殊方式输入输出。\n\n#### 【数据范围】\n\n对于所有数据，$1\\le n\\le5\\times10^5,1\\le q\\le 1.5\\times10^6,0<a_i<2^{60},1\\le L\\le R\\le n,0\\le tp<2^{64}$。\n\n| 子任务编号 | 分值 |    $n\\le$     |     $q\\le$      |  $tp$  |  $a_i<$  | 特殊性质 |\n| :--------: | :--: | :-----------: | :-------------: | :----: | :------: | :------: |\n|    $1$     | $6$  |     $20$      |      $100$      |  $=0$  | $2^{60}$ |    有    |\n|    $2$     | $7$  |     $100$     |     $10^3$      |  $=0$  | $2^{10}$ |    有    |\n|    $3$     | $8$  |     $700$     |     $10^3$      |  $=0$  | $2^{10}$ |    无    |\n|    $4$     | $9$  |    $3000$     |     $10^5$      |  $=0$  | $2^{60}$ |    无    |\n|    $5$     | $14$ | $3\\times10^4$ |     $10^5$      |  $=0$  | $2^{20}$ |    无    |\n|    $6$     | $17$ | $2\\times10^5$ | $1.5\\times10^6$ | $\\ge1$ | $2^{60}$ |    有    |\n|    $7$     | $19$ | $5\\times10^5$ | $1.5\\times10^6$ | $\\ge1$ | $2^{60}$ |    有    |\n|    $8$     | $20$ | $5\\times10^5$ | $1.5\\times10^6$ | $\\ge1$ | $2^{60}$ |    无    |\n\n特殊性质：序列 $b_i$ 中最多有 $10$ 个 $0$。\n\n#### 【备注】\n\n数据生成方式：\n\n```cpp\nusing ul=unsigned long long;\nusing ui=unsigned int;\nui Ans,ans;\nul Sd,Cnt;\nul Rd(){Sd^=Sd<<19,Sd^=Sd>>12,Sd^=Sd<<29;return Sd^=++Cnt;}\nvoid GetA(ul &a){a=Rd()%((1ull<<60)-2)+1;}\nvoid GetLR(int &l,int &r){\n    l=Rd()%n+1,r=Rd()%n+1;\n    if(l>r)swap(l,r);\n}\nint main(){\n    //read n,q,tp,b[i]\n    if(tp){\n        Sd=tp,Cnt=0;\n        for(int i=1;i<=n;++i)GetA(a[i]);\n        for(int qi=1;qi<=q;++qi){\n            GetLR(l,r);\n            //sol\n            Ans^=ans*qi;\n        }\n        printf(\"%u\\n\",Ans);\n\t}\n}\n```", "locale": "zh-CN"}}}
{"pid": "P9581", "type": "P", "difficulty": 1, "samples": [["1 -1", "3"], ["-5 0", "5"], ["51 -154", "256"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「MXOI Round 1」宝箱", "background": "", "description": "小 C 喜欢在一款叫做渊深的游戏中收集宝箱。\n\n现在，小 C 在一条数轴上，他在数轴的原点处。\n\n同时，在这条数轴上还有两个宝箱，它们的坐标分别为 $a$ 和 $b$。\n\n只要小 C 移动到某个宝箱的位置，就认为小 C 收集到了这个宝箱。特殊地，如果小 C 初始时就在某个宝箱的位置，那么他可以直接收集到这个宝箱；如果两个宝箱在同一个位置，那么他可以同时收集这两个宝箱。\n\n小 C 每次可以沿着这条数轴的正方向或负方向移动一个单位长度。小 C 想知道，收集到这两个宝箱至少需要移动多少次？", "inputFormat": "两个整数 $a,b$。", "outputFormat": "一个整数，表示小 C 收集到这两个宝箱所至少需要的移动次数。", "hint": "#### 【样例解释 #1】\n\n小 C 可以先沿着数轴的负方向移动 $1$ 次，再沿着数轴的正方向移动 $2$ 次。\n\n可以证明小 C 至少需要移动 $3$ 次。\n\n#### 【样例解释 #2】\n\n小 C 可以直接沿着数轴的负方向移动 $5$ 次。\n\n可以证明小 C 至少需要移动 $5$ 次。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$\\vert a\\vert,\\vert b\\vert \\le 200$。\n\n|测试点编号|特殊性质|\n|:---:|:---:|\n|$1\\sim3$|保证 $\\vert a\\vert,\\vert b\\vert \\le 1$|\n|$4\\sim6$|保证 $ab=0$|\n|$7\\sim10$|无|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 1」宝箱", "background": "", "description": "小 C 喜欢在一款叫做渊深的游戏中收集宝箱。\n\n现在，小 C 在一条数轴上，他在数轴的原点处。\n\n同时，在这条数轴上还有两个宝箱，它们的坐标分别为 $a$ 和 $b$。\n\n只要小 C 移动到某个宝箱的位置，就认为小 C 收集到了这个宝箱。特殊地，如果小 C 初始时就在某个宝箱的位置，那么他可以直接收集到这个宝箱；如果两个宝箱在同一个位置，那么他可以同时收集这两个宝箱。\n\n小 C 每次可以沿着这条数轴的正方向或负方向移动一个单位长度。小 C 想知道，收集到这两个宝箱至少需要移动多少次？", "inputFormat": "两个整数 $a,b$。", "outputFormat": "一个整数，表示小 C 收集到这两个宝箱所至少需要的移动次数。", "hint": "#### 【样例解释 #1】\n\n小 C 可以先沿着数轴的负方向移动 $1$ 次，再沿着数轴的正方向移动 $2$ 次。\n\n可以证明小 C 至少需要移动 $3$ 次。\n\n#### 【样例解释 #2】\n\n小 C 可以直接沿着数轴的负方向移动 $5$ 次。\n\n可以证明小 C 至少需要移动 $5$ 次。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$\\vert a\\vert,\\vert b\\vert \\le 200$。\n\n|测试点编号|特殊性质|\n|:---:|:---:|\n|$1\\sim3$|保证 $\\vert a\\vert,\\vert b\\vert \\le 1$|\n|$4\\sim6$|保证 $ab=0$|\n|$7\\sim10$|无|", "locale": "zh-CN"}}}
{"pid": "P9582", "type": "P", "difficulty": 2, "samples": [["3 4\n1 1 4 5\n2 1 2 3\n3 1 4 1", "20"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "排序", "洛谷月赛"], "title": "「MXOI Round 1」方格", "background": "", "description": "小 C 和方格是好朋友。\n\n小 C 有一个 $n$ 行 $m$ 列的方格图，每个方格中都有一个数字，其中第 $i$ 行第 $j$ 列的方格中的数字为 $a_{i,j}$。\n\n我们定义，在这个方格图中，两个不同的方格不相邻，当且仅当这两个方格**没有公共边**。\n\n小 C 认为，两个不同的方格互为好朋友，当且仅当这两个方格**不相邻**且**这两个方格中的数字相同**。\n\n小 C 想让你帮忙求出，所有方格的好朋友的数量之和是多少。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，每行 $m$ 个整数，其中第 $i$ 行的第 $j$ 个整数表示 $a_{i,j}$。", "outputFormat": "一个整数，表示所有方格的好朋友的数量之和。", "hint": "#### 【样例解释 #1】\n\n第 $1$ 行第 $1$ 列的方格共有 $3$ 个好朋友，第 $1$ 行第 $2$ 列的方格共有 $2$ 个好朋友，第 $1$ 行第 $3$ 列的方格共有 $1$ 个好朋友，第 $1$ 行第 $4$ 列的方格共有 $0$ 个好朋友；\n\n第 $2$ 行第 $1$ 列的方格共有 $1$ 个好朋友，第 $2$ 行第 $2$ 列的方格共有 $2$ 个好朋友，第 $2$ 行第 $3$ 列的方格共有 $1$ 个好朋友，第 $2$ 行第 $4$ 列的方格共有 $1$ 个好朋友；\n\n第 $3$ 行第 $1$ 列的方格共有 $1$ 个好朋友，第 $3$ 行第 $2$ 列的方格共有 $3$ 个好朋友，第 $3$ 行第 $3$ 列的方格共有 $1$ 个好朋友，第 $3$ 行第 $4$ 列的方格共有 $4$ 个好朋友；\n\n所有方格的好朋友数量之和为 $20$。\n\n#### 【样例 #2】\n\n见附加文件中的 `square/square2.in` 与 `square/square2.ans`。\n\n该样例满足测试点 $1$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `square/square3.in` 与 `square/square3.ans`。\n\n该样例满足测试点 $4$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `square/square4.in` 与 `square/square4.ans`。\n\n该样例满足测试点 $6$ 的限制。\n\n#### 【样例 #5】\n\n见附加文件中的 `square/square5.in` 与 `square/square5.ans`。\n\n该样例满足测试点 $10$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 2000$，$1 \\le a_{i,j} \\le 9$。\n\n|测试点编号|$n,m \\le$|$a_{i,j} \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim3$|$80$|$9$|否|\n|$4\\sim5$|$2000$|$1$|否|\n|$6\\sim7$|$2000$|$9$|是|\n|$8\\sim10$|$2000$|$9$|否|\n\n特殊性质：保证任意两个相邻的方格中的数不相等。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 1」方格", "background": "", "description": "小 C 和方格是好朋友。\n\n小 C 有一个 $n$ 行 $m$ 列的方格图，每个方格中都有一个数字，其中第 $i$ 行第 $j$ 列的方格中的数字为 $a_{i,j}$。\n\n我们定义，在这个方格图中，两个不同的方格不相邻，当且仅当这两个方格**没有公共边**。\n\n小 C 认为，两个不同的方格互为好朋友，当且仅当这两个方格**不相邻**且**这两个方格中的数字相同**。\n\n小 C 想让你帮忙求出，所有方格的好朋友的数量之和是多少。", "inputFormat": "第一行两个整数 $n,m$。\n\n接下来 $n$ 行，每行 $m$ 个整数，其中第 $i$ 行的第 $j$ 个整数表示 $a_{i,j}$。", "outputFormat": "一个整数，表示所有方格的好朋友的数量之和。", "hint": "#### 【样例解释 #1】\n\n第 $1$ 行第 $1$ 列的方格共有 $3$ 个好朋友，第 $1$ 行第 $2$ 列的方格共有 $2$ 个好朋友，第 $1$ 行第 $3$ 列的方格共有 $1$ 个好朋友，第 $1$ 行第 $4$ 列的方格共有 $0$ 个好朋友；\n\n第 $2$ 行第 $1$ 列的方格共有 $1$ 个好朋友，第 $2$ 行第 $2$ 列的方格共有 $2$ 个好朋友，第 $2$ 行第 $3$ 列的方格共有 $1$ 个好朋友，第 $2$ 行第 $4$ 列的方格共有 $1$ 个好朋友；\n\n第 $3$ 行第 $1$ 列的方格共有 $1$ 个好朋友，第 $3$ 行第 $2$ 列的方格共有 $3$ 个好朋友，第 $3$ 行第 $3$ 列的方格共有 $1$ 个好朋友，第 $3$ 行第 $4$ 列的方格共有 $4$ 个好朋友；\n\n所有方格的好朋友数量之和为 $20$。\n\n#### 【样例 #2】\n\n见附加文件中的 `square/square2.in` 与 `square/square2.ans`。\n\n该样例满足测试点 $1$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `square/square3.in` 与 `square/square3.ans`。\n\n该样例满足测试点 $4$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `square/square4.in` 与 `square/square4.ans`。\n\n该样例满足测试点 $6$ 的限制。\n\n#### 【样例 #5】\n\n见附加文件中的 `square/square5.in` 与 `square/square5.ans`。\n\n该样例满足测试点 $10$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 2000$，$1 \\le a_{i,j} \\le 9$。\n\n|测试点编号|$n,m \\le$|$a_{i,j} \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim3$|$80$|$9$|否|\n|$4\\sim5$|$2000$|$1$|否|\n|$6\\sim7$|$2000$|$9$|是|\n|$8\\sim10$|$2000$|$9$|否|\n\n特殊性质：保证任意两个相邻的方格中的数不相等。", "locale": "zh-CN"}}}
{"pid": "P9583", "type": "P", "difficulty": 3, "samples": [["3 4 5 3\n1 3\n2 4\n1 2\n1 3\n2 2", "8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "洛谷原创", "O2优化", "排序", "差分", "洛谷月赛"], "title": "「MXOI Round 1」涂色", "background": null, "description": "小 C 正在用彩铅给一张 $n$ 行 $m$ 列的方格纸涂色。初始时，所有方格都是空白的。\n\n他一共要进行 $q$ 次涂色，每次涂色会选取一行或一列，给这一行或这一列的所有方格都添加 $1$ 层颜色。\n\n小 C 喜欢浅色，所以他会在每次涂色结束后，把所有被涂上 $k$ 层颜色的方格的颜色都擦掉，让这些方格都变成空白的。\n\n小 C 想知道，在最终共有多少方格被涂上了颜色。", "inputFormat": "第一行四个整数 $n,m,q,k$。\n\n接下来 $q$ 行，每行两个整数 $op,x$。\n\n- 若 $op=1$，则表示给第 $x$ 行的所有方格都添加 $1$ 层颜色；  \n- 若 $op=2$，则表示给第 $x$ 列的所有方格都添加 $1$ 层颜色。", "outputFormat": "一个整数，表示在最终共有多少方格被涂上了颜色。", "hint": "#### 【样例解释 #1】\n\n第 $1$ 行第 $1$ 列的方格没有被涂上颜色，第 $1$ 行第 $2$ 列的方格被涂上了 $1$ 层颜色，第 $1$ 行第 $3$ 列的方格没有被涂上颜色，第 $1$ 行第 $4$ 列的方格被涂上了 $1$ 层颜色；\n\n第 $2$ 行第 $1$ 列的方格被涂上了 $1$ 层颜色，第 $2$ 行第 $2$ 列的方格被涂上了 $2$ 层颜色，第 $2$ 行第 $3$ 列的方格被涂上了 $1$ 层颜色，第 $2$ 行第 $4$ 列的方格被涂上了 $2$ 层颜色；\n\n第 $3$ 行第 $1$ 列的方格被涂上了 $2$ 层颜色，第 $3$ 行第 $2$ 列的方格的颜色被擦掉了，第 $3$ 行第 $3$ 列的方格被涂上了 $2$ 层颜色，第 $3$ 行第 $4$ 列的方格的颜色也被擦掉了；\n\n最终，共有 $8$ 个方格被涂上了颜色。\n\n#### 【样例 #2】\n\n见附加文件中的 `paint/paint2.in` 与 `paint/paint2.ans`。\n\n该样例满足测试点 $1$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `paint/paint3.in` 与 `paint/paint3.ans`。\n\n该样例满足测试点 $5$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `paint/paint4.in` 与 `paint/paint4.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 2\\times 10^5$，$1 \\le k \\le q \\le 5 \\times 10^5$，$op \\in \\{1,2\\}$，保证当 $op=1$ 时 $1 \\le x \\le n$，当 $op=2$ 时 $1 \\le x \\le m$。\n\n|测试点编号|$n,m \\le$|$q \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim4$|$3000$|$3000$|无|\n|$5\\sim9$|$3000$|$5\\times10^5$|无|\n|$10\\sim12$|$2\\times10^5$|$5\\times10^5$|A|\n|$13\\sim16$|$2\\times10^5$|$5\\times10^5$|B|\n|$17\\sim20$|$2\\times10^5$|$5\\times10^5$|无|\n\n特殊性质 A：保证 $op=1$。\n\n特殊性质 B：保证 $k=2$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 1」涂色", "background": null, "description": "小 C 正在用彩铅给一张 $n$ 行 $m$ 列的方格纸涂色。初始时，所有方格都是空白的。\n\n他一共要进行 $q$ 次涂色，每次涂色会选取一行或一列，给这一行或这一列的所有方格都添加 $1$ 层颜色。\n\n小 C 喜欢浅色，所以他会在每次涂色结束后，把所有被涂上 $k$ 层颜色的方格的颜色都擦掉，让这些方格都变成空白的。\n\n小 C 想知道，在最终共有多少方格被涂上了颜色。", "inputFormat": "第一行四个整数 $n,m,q,k$。\n\n接下来 $q$ 行，每行两个整数 $op,x$。\n\n- 若 $op=1$，则表示给第 $x$ 行的所有方格都添加 $1$ 层颜色；  \n- 若 $op=2$，则表示给第 $x$ 列的所有方格都添加 $1$ 层颜色。", "outputFormat": "一个整数，表示在最终共有多少方格被涂上了颜色。", "hint": "#### 【样例解释 #1】\n\n第 $1$ 行第 $1$ 列的方格没有被涂上颜色，第 $1$ 行第 $2$ 列的方格被涂上了 $1$ 层颜色，第 $1$ 行第 $3$ 列的方格没有被涂上颜色，第 $1$ 行第 $4$ 列的方格被涂上了 $1$ 层颜色；\n\n第 $2$ 行第 $1$ 列的方格被涂上了 $1$ 层颜色，第 $2$ 行第 $2$ 列的方格被涂上了 $2$ 层颜色，第 $2$ 行第 $3$ 列的方格被涂上了 $1$ 层颜色，第 $2$ 行第 $4$ 列的方格被涂上了 $2$ 层颜色；\n\n第 $3$ 行第 $1$ 列的方格被涂上了 $2$ 层颜色，第 $3$ 行第 $2$ 列的方格的颜色被擦掉了，第 $3$ 行第 $3$ 列的方格被涂上了 $2$ 层颜色，第 $3$ 行第 $4$ 列的方格的颜色也被擦掉了；\n\n最终，共有 $8$ 个方格被涂上了颜色。\n\n#### 【样例 #2】\n\n见附加文件中的 `paint/paint2.in` 与 `paint/paint2.ans`。\n\n该样例满足测试点 $1$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `paint/paint3.in` 与 `paint/paint3.ans`。\n\n该样例满足测试点 $5$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `paint/paint4.in` 与 `paint/paint4.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n,m \\le 2\\times 10^5$，$1 \\le k \\le q \\le 5 \\times 10^5$，$op \\in \\{1,2\\}$，保证当 $op=1$ 时 $1 \\le x \\le n$，当 $op=2$ 时 $1 \\le x \\le m$。\n\n|测试点编号|$n,m \\le$|$q \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim4$|$3000$|$3000$|无|\n|$5\\sim9$|$3000$|$5\\times10^5$|无|\n|$10\\sim12$|$2\\times10^5$|$5\\times10^5$|A|\n|$13\\sim16$|$2\\times10^5$|$5\\times10^5$|B|\n|$17\\sim20$|$2\\times10^5$|$5\\times10^5$|无|\n\n特殊性质 A：保证 $op=1$。\n\n特殊性质 B：保证 $k=2$。", "locale": "zh-CN"}}}
{"pid": "P9584", "type": "P", "difficulty": 4, "samples": [["4 2\n2 1 3\n3 2 2\n4 2 4\n1 2\n2 2", "100\n88"], ["9 5\n2 3 6\n6 1 4\n5 2 10\n2 4 1\n9 1 9\n2 8 3\n1 2 3\n7 4 8\n4 9\n7 3\n6 1\n9 7\n2 1\n", "1050\n1054\n970\n1148\n896"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "洛谷原创", "O2优化", "树形 DP", "前缀和", "洛谷月赛"], "title": "「MXOI Round 1」城市", "background": "", "description": "小 C 是 F 国的总统，尽管这个国家仅存在于网络游戏中，但他确实是这个国家的总统。\n\nF 国由 $n$ 个城市构成，这 $n$ 个城市之间由 $n-1$ 条双向道路互相连接。保证从任意一个城市出发，都能通过这 $n-1$ 条双向道路，到达任意一个城市。\n\n当然，通过这些双向道路是要收费的。通过第 $i$ 条双向道路，需要花费 $c_i$ 元。我们称 $c_i$ 为第 $i$ 条双向道路的费用。\n\n我们定义 $cost(x,y)$ 表示从城市 $x$ 到城市 $y$ 的简单路径上，所有经过的双向道路的费用之和。特殊地，当 $x=y$ 时，$cost(x,y)=0$。\n\n为了促进 F 国发展，小 C 新建了一个城市 $n+1$。现在他需要再新建一条双向道路，使得城市 $n+1$ 也可以通过这 $n$ 条双向道路到达任意一个城市。\n\n他共有 $q$ 个新建道路的方案，每个方案会给定两个参数 $k_i,w_i$；对于每一个方案，你需要求出在新建一条连接城市 $k_i$ 和城市 $n+1$ 且费用为 $w_i$ 的双向道路后，所有 $cost(i,j)$ 之和，即 $\\sum\\limits_{i=1}^{n+1} \\sum\\limits_{j=1}^{n+1} cost(i,j)$。\n\n由于答案可能很大，所以你只需要输出答案对 $998244353$ 取模的结果。\n\n**方案之间相互独立**，也就是说所有方案不会影响现有的道路，这些方案不会真正被施行。", "inputFormat": "第一行两个整数 $n,q$。\n\n接下来 $n-1$ 行，第 $i$ 行三个整数 $u_i,v_i,c_i$，表示存在一条连接城市 $u_i$ 和城市 $v_i$ 的双向道路，其费用为 $c_i$。\n\n接下来 $q$ 行，第 $i$ 行两个整数 $k_i,w_i$，表示一个新建道路的方案。", "outputFormat": "共 $q$ 行，每行一个整数，第 $i$ 行的整数表示在新建一条连接城市 $k_i$ 和城市 $n+1$ 且费用为 $w_i$ 的双向道路后，所有 $cost(i,j)$ 之和对 $998244353$ 取模的结果，即 $\\sum\\limits_{i=1}^{n+1} \\sum\\limits_{j=1}^{n+1} cost(i,j) \\bmod 998244353$。", "hint": "#### 【样例解释 #1】\n\n在新建一条连接城市 $1$ 和城市 $5$ 且费用为 $2$ 的双向道路后，F 国的道路如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j871257i.png)\n\n例如，此时 $cost(4,5)=9$，$cost(1,3)=5$。\n\n容易求得此时 $\\sum\\limits_{i=1}^{n+1} \\sum\\limits_{j=1}^{n+1} cost(i,j)=100$。\n\n#### 【样例 #3】\n\n见附加文件中的 `city/city3.in` 与 `city/city3.ans`。\n\n该样例满足测试点 $4$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `city/city4.in` 与 `city/city4.ans`。\n\n该样例满足测试点 $11$ 的限制。\n\n#### 【样例 #5】\n\n见附加文件中的 `city/city5.in` 与 `city/city5.ans`。\n\n该样例满足测试点 $14$ 的限制。\n\n#### 【样例 #6】\n\n见附加文件中的 `city/city6.in` 与 `city/city6.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$2 \\le n \\le 2\\times10^5$，$1 \\le q \\le 2\\times10^5$，$1 \\le u_i,v_i,k_i \\le n$，$1 \\le c_i,w_i \\le 10^6$，保证从任意一个城市出发，都能通过原本存在的 $n-1$ 条双向道路，到达任意一个城市。\n\n|测试点编号|$n \\le$|$q \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim3$|$80$|$80$|无|\n|$4\\sim7$|$5000$|$5000$|无|\n|$8\\sim10$|$5000$|$2\\times10^5$|无|\n|$11\\sim13$|$2\\times10^5$|$2\\times10^5$|A|\n|$14\\sim16$|$2\\times10^5$|$2\\times10^5$|B|\n|$17\\sim20$|$2\\times10^5$|$2\\times10^5$|无|\n\n特殊性质 A：保证对于所有的 $1 \\le i \\lt n$，都有 $u_i=i,v_i=i+1$。\n\n特殊性质 B：保证对于所有的 $1 \\le i \\le q$，都有 $k_i=1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 1」城市", "background": "", "description": "小 C 是 F 国的总统，尽管这个国家仅存在于网络游戏中，但他确实是这个国家的总统。\n\nF 国由 $n$ 个城市构成，这 $n$ 个城市之间由 $n-1$ 条双向道路互相连接。保证从任意一个城市出发，都能通过这 $n-1$ 条双向道路，到达任意一个城市。\n\n当然，通过这些双向道路是要收费的。通过第 $i$ 条双向道路，需要花费 $c_i$ 元。我们称 $c_i$ 为第 $i$ 条双向道路的费用。\n\n我们定义 $cost(x,y)$ 表示从城市 $x$ 到城市 $y$ 的简单路径上，所有经过的双向道路的费用之和。特殊地，当 $x=y$ 时，$cost(x,y)=0$。\n\n为了促进 F 国发展，小 C 新建了一个城市 $n+1$。现在他需要再新建一条双向道路，使得城市 $n+1$ 也可以通过这 $n$ 条双向道路到达任意一个城市。\n\n他共有 $q$ 个新建道路的方案，每个方案会给定两个参数 $k_i,w_i$；对于每一个方案，你需要求出在新建一条连接城市 $k_i$ 和城市 $n+1$ 且费用为 $w_i$ 的双向道路后，所有 $cost(i,j)$ 之和，即 $\\sum\\limits_{i=1}^{n+1} \\sum\\limits_{j=1}^{n+1} cost(i,j)$。\n\n由于答案可能很大，所以你只需要输出答案对 $998244353$ 取模的结果。\n\n**方案之间相互独立**，也就是说所有方案不会影响现有的道路，这些方案不会真正被施行。", "inputFormat": "第一行两个整数 $n,q$。\n\n接下来 $n-1$ 行，第 $i$ 行三个整数 $u_i,v_i,c_i$，表示存在一条连接城市 $u_i$ 和城市 $v_i$ 的双向道路，其费用为 $c_i$。\n\n接下来 $q$ 行，第 $i$ 行两个整数 $k_i,w_i$，表示一个新建道路的方案。", "outputFormat": "共 $q$ 行，每行一个整数，第 $i$ 行的整数表示在新建一条连接城市 $k_i$ 和城市 $n+1$ 且费用为 $w_i$ 的双向道路后，所有 $cost(i,j)$ 之和对 $998244353$ 取模的结果，即 $\\sum\\limits_{i=1}^{n+1} \\sum\\limits_{j=1}^{n+1} cost(i,j) \\bmod 998244353$。", "hint": "#### 【样例解释 #1】\n\n在新建一条连接城市 $1$ 和城市 $5$ 且费用为 $2$ 的双向道路后，F 国的道路如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j871257i.png)\n\n例如，此时 $cost(4,5)=9$，$cost(1,3)=5$。\n\n容易求得此时 $\\sum\\limits_{i=1}^{n+1} \\sum\\limits_{j=1}^{n+1} cost(i,j)=100$。\n\n#### 【样例 #3】\n\n见附加文件中的 `city/city3.in` 与 `city/city3.ans`。\n\n该样例满足测试点 $4$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `city/city4.in` 与 `city/city4.ans`。\n\n该样例满足测试点 $11$ 的限制。\n\n#### 【样例 #5】\n\n见附加文件中的 `city/city5.in` 与 `city/city5.ans`。\n\n该样例满足测试点 $14$ 的限制。\n\n#### 【样例 #6】\n\n见附加文件中的 `city/city6.in` 与 `city/city6.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$2 \\le n \\le 2\\times10^5$，$1 \\le q \\le 2\\times10^5$，$1 \\le u_i,v_i,k_i \\le n$，$1 \\le c_i,w_i \\le 10^6$，保证从任意一个城市出发，都能通过原本存在的 $n-1$ 条双向道路，到达任意一个城市。\n\n|测试点编号|$n \\le$|$q \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim3$|$80$|$80$|无|\n|$4\\sim7$|$5000$|$5000$|无|\n|$8\\sim10$|$5000$|$2\\times10^5$|无|\n|$11\\sim13$|$2\\times10^5$|$2\\times10^5$|A|\n|$14\\sim16$|$2\\times10^5$|$2\\times10^5$|B|\n|$17\\sim20$|$2\\times10^5$|$2\\times10^5$|无|\n\n特殊性质 A：保证对于所有的 $1 \\le i \\lt n$，都有 $u_i=i,v_i=i+1$。\n\n特殊性质 B：保证对于所有的 $1 \\le i \\le q$，都有 $k_i=1$。", "locale": "zh-CN"}}}
{"pid": "P9585", "type": "P", "difficulty": 1, "samples": [["3 5", "2"], ["1 4", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「MXOI Round 2」酒店", "background": "", "description": "小 C 开了一家酒店，叫做 CC Hotel。\n\n一天，CC Hotel 来了 $n$ 位客人。小 C 需要把他们都安排在酒店的某一层中。每个房间中只能安排一位客人。\n\n这一层共有 $m$ 间房间，这 $m$ 间房间都是空的，且这 $m$ 间房间形成了一个环形，即对于所有的 $1 \\le x \\le m$，都有第 $x$ 间房间与第 $((x \\bmod m)+1)$ 间房间相邻，第 $((x \\bmod m)+1)$ 间房间与第 $x$ 间房间相邻，其中 $x \\bmod m$ 表示 $x$ 除以 $m$ 得到的余数。\n\n这 $n$ 位客人都十分挑剔，他们希望与自己的房间相邻的房间中没有人。对于某一位客人，若与他的房间相邻的房间中，有 $k$ 间房间有人，则这位客人会产生 $k$ 点愤怒值。\n\n你需要帮助小 C 安排房间，使得所有客人的愤怒值之和最小，并输出所有客人的愤怒值之和的最小值。", "inputFormat": "两个整数 $n,m$。", "outputFormat": "一个整数，表示所有客人的愤怒值之和的最小值。", "hint": "#### 【样例解释 #1】\n\n对于这 $5$ 间房间，其中一组满足条件的安排方案为：不住人、住人、住人、不住人、住人。\n\n可以证明所有客人的愤怒值之和的最小值为 $2$。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 100$，$3 \\le m \\le 100$，保证 $n \\le m$。\n\n|测试点编号|特殊性质|\n|:---:|:---:|\n|$1\\sim3$|保证 $2n\\le m$|\n|$4\\sim6$|保证 $m=n+1$|\n|$7\\sim10$|无|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 2」酒店", "background": "", "description": "小 C 开了一家酒店，叫做 CC Hotel。\n\n一天，CC Hotel 来了 $n$ 位客人。小 C 需要把他们都安排在酒店的某一层中。每个房间中只能安排一位客人。\n\n这一层共有 $m$ 间房间，这 $m$ 间房间都是空的，且这 $m$ 间房间形成了一个环形，即对于所有的 $1 \\le x \\le m$，都有第 $x$ 间房间与第 $((x \\bmod m)+1)$ 间房间相邻，第 $((x \\bmod m)+1)$ 间房间与第 $x$ 间房间相邻，其中 $x \\bmod m$ 表示 $x$ 除以 $m$ 得到的余数。\n\n这 $n$ 位客人都十分挑剔，他们希望与自己的房间相邻的房间中没有人。对于某一位客人，若与他的房间相邻的房间中，有 $k$ 间房间有人，则这位客人会产生 $k$ 点愤怒值。\n\n你需要帮助小 C 安排房间，使得所有客人的愤怒值之和最小，并输出所有客人的愤怒值之和的最小值。", "inputFormat": "两个整数 $n,m$。", "outputFormat": "一个整数，表示所有客人的愤怒值之和的最小值。", "hint": "#### 【样例解释 #1】\n\n对于这 $5$ 间房间，其中一组满足条件的安排方案为：不住人、住人、住人、不住人、住人。\n\n可以证明所有客人的愤怒值之和的最小值为 $2$。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le n \\le 100$，$3 \\le m \\le 100$，保证 $n \\le m$。\n\n|测试点编号|特殊性质|\n|:---:|:---:|\n|$1\\sim3$|保证 $2n\\le m$|\n|$4\\sim6$|保证 $m=n+1$|\n|$7\\sim10$|无|", "locale": "zh-CN"}}}
{"pid": "P9586", "type": "P", "difficulty": 2, "samples": [["3\n3 1 4 1 5 9\n1 1 4 5 1 4\n5 2 1 2 6 3", "C\nD\nE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "贪心", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「MXOI Round 2」游戏", "background": "", "description": "小 C 和小 D 正在玩一款蒸蒸日上的游戏。\n\n这款游戏共有 $3$ 种手牌：杀、闪、斩。他们的用途分别如下：\n\n- 杀：对对方使用，对方需要使用一张**闪**，否则对方输掉游戏；**或**回应对方的**斩**；\n\n- 闪：回应对方的**杀**；\n\n- 斩：对对方使用，对方需要使用一张**杀**，否则对方输掉游戏。\n\n玩家在每使用一张牌后，都需要弃掉该使用的牌。\n\n从小 C 开始，每个回合依次属于小 C 和小 D。在玩家的回合内，该玩家可以出**任意**张**杀**和**斩**，对方需要做出对应的回应。当然，玩家也可以不出牌，直接进入对方的回合。\n\n现在，小 C 共有 $c_1$ 张杀、$c_2$ 张闪、$c_3$ 张斩，小 D 共有 $d_1$ 张杀、$d_2$ 张闪、$d_3$ 张斩，**双方都知道对方的手牌**。你需要求出，双方在都进行最优策略的情况下，游戏的结果会如何。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据，对于每组测试数据，输入一行六个整数 $c_1,c_2,c_3,d_1,d_2,d_3$。", "outputFormat": "对于每组测试数据，输出一行：\n\n- 若双方在都进行最优策略的情况下，小 C 可以获胜，则输出 `C`；\n\n- 若双方在都进行最优策略的情况下，小 D 可以获胜，则输出 `D`；\n\n- 若双方在都进行最优策略的情况下，游戏会平局，即谁也无法获胜，则输出 `E`。", "hint": "#### 【样例解释 #1】\n\n对于第一组数据，小 C 可以先出一张斩，并在小 D 回应一张杀后再出一张斩。此时小 D 的杀用完了，无法做出回应，输掉了游戏。\n\n#### 【样例 #2】\n\n见附加文件中的 `game/game2.in` 与 `game/game2.ans`。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10^5$，$0 \\le c_1,c_2,c_3,d_1,d_2,d_3 \\le 10^9$。\n\n|测试点编号|特殊性质|\n|:---:|:---:|\n|$1\\sim3$|保证 $c_3=d_3=0$|\n|$4\\sim6$|保证 $c_1=d_2$ 且 $c_2=d_1$|\n|$7\\sim10$|无|", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 2」游戏", "background": "", "description": "小 C 和小 D 正在玩一款蒸蒸日上的游戏。\n\n这款游戏共有 $3$ 种手牌：杀、闪、斩。他们的用途分别如下：\n\n- 杀：对对方使用，对方需要使用一张**闪**，否则对方输掉游戏；**或**回应对方的**斩**；\n\n- 闪：回应对方的**杀**；\n\n- 斩：对对方使用，对方需要使用一张**杀**，否则对方输掉游戏。\n\n玩家在每使用一张牌后，都需要弃掉该使用的牌。\n\n从小 C 开始，每个回合依次属于小 C 和小 D。在玩家的回合内，该玩家可以出**任意**张**杀**和**斩**，对方需要做出对应的回应。当然，玩家也可以不出牌，直接进入对方的回合。\n\n现在，小 C 共有 $c_1$ 张杀、$c_2$ 张闪、$c_3$ 张斩，小 D 共有 $d_1$ 张杀、$d_2$ 张闪、$d_3$ 张斩，**双方都知道对方的手牌**。你需要求出，双方在都进行最优策略的情况下，游戏的结果会如何。", "inputFormat": "**本题有多组测试数据。**\n\n第一行输入一个整数 $T$，表示测试数据组数。\n\n接下来依次输入每组测试数据，对于每组测试数据，输入一行六个整数 $c_1,c_2,c_3,d_1,d_2,d_3$。", "outputFormat": "对于每组测试数据，输出一行：\n\n- 若双方在都进行最优策略的情况下，小 C 可以获胜，则输出 `C`；\n\n- 若双方在都进行最优策略的情况下，小 D 可以获胜，则输出 `D`；\n\n- 若双方在都进行最优策略的情况下，游戏会平局，即谁也无法获胜，则输出 `E`。", "hint": "#### 【样例解释 #1】\n\n对于第一组数据，小 C 可以先出一张斩，并在小 D 回应一张杀后再出一张斩。此时小 D 的杀用完了，无法做出回应，输掉了游戏。\n\n#### 【样例 #2】\n\n见附加文件中的 `game/game2.in` 与 `game/game2.ans`。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 10^5$，$0 \\le c_1,c_2,c_3,d_1,d_2,d_3 \\le 10^9$。\n\n|测试点编号|特殊性质|\n|:---:|:---:|\n|$1\\sim3$|保证 $c_3=d_3=0$|\n|$4\\sim6$|保证 $c_1=d_2$ 且 $c_2=d_1$|\n|$7\\sim10$|无|", "locale": "zh-CN"}}}
{"pid": "P9587", "type": "P", "difficulty": 3, "samples": [["0 6 3\n1 1 4 5 1 4", "3\n3\n0\n2\n3\n0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "贪心", "洛谷原创", "O2优化", "排序", "前缀和", "洛谷月赛"], "title": "「MXOI Round 2」排名", "background": null, "description": "小 C 有一个长度为 $n$ 的数组 $a$。\n\n小 C 定义，$f(i)$ 为 $a_i$ 的前排名，其中 $f(i)$ 等于数组 $a$ 中大于 $a_i$ 的元素个数加 $1$。\n\n小 C 还定义，$g(i)$ 为 $a_i$ 的后排名，其中 $g(i)$ 等于数组 $a$ 中大于等于 $a_i$ 的元素个数。\n\n每次操作，小 C 需要选择一个不大于 $n$ 的正整数 $t$，并将 $a_t$ 的值增加 $1$。\n\n小 C 想知道，对于每一个 $1 \\le i \\le n$，想要使 $f(i) \\le k \\le g(i)$，最少需要进行多少次操作？\n\n可以证明一定存在至少一种操作方案使得 $f(i) \\le k \\le g(i)$。", "inputFormat": "第一行三个整数 $c,n,k$，其中 $c$ 表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行 $n$ 个整数，表示给定的数组 $a$。", "outputFormat": "共 $n$ 行，每行一个整数，其中第 $i$ 行的整数表示想要使 $f(i) \\le k \\le g(i)$ 所至少需要进行的操作数。", "hint": "#### 【样例解释 #1】\n\n当 $i=1$ 时，小 C 可以选择 $t=1$ 并进行 $3$ 次操作。此时 $f(i)=2$，$g(i)=4$，满足 $f(i) \\le k \\le g(i)$。可以证明此时小 C 至少需要进行 $3$ 次操作。\n\n当 $i=4$ 时，小 C 可以选择 $t=3$ 进行 $1$ 次操作，再选择 $t=6$ 进行 $1$ 次操作。此时 $f(i)=1$，$g(i)=3$，满足 $f(i) \\le k \\le g(i)$。可以证明此时小 C 至少需要进行 $2$ 次操作。\n\n#### 【样例 #2】\n\n见附加文件中的 `rank/rank2.in` 与 `rank/rank2.ans`。\n\n该样例满足测试点 $7$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `rank/rank3.in` 与 `rank/rank3.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 5 \\times 10^5$，$1 \\le a_i \\le 10^9$。\n\n|测试点编号|$n \\le$|$a_i \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim6$|$2000$|$10^9$|A|\n|$7\\sim10$|$2000$|$10^9$|无|\n|$11\\sim14$|$5\\times10^5$|$10^9$|B|\n|$15\\sim20$|$5\\times10^5$|$10^9$|无|\n\n特殊性质 A：保证对于所有的 $1 \\le i \\lt n$，都有 $a_i \\ge a_{i+1}$。\n\n特殊性质 B：保证 $k=1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 2」排名", "background": null, "description": "小 C 有一个长度为 $n$ 的数组 $a$。\n\n小 C 定义，$f(i)$ 为 $a_i$ 的前排名，其中 $f(i)$ 等于数组 $a$ 中大于 $a_i$ 的元素个数加 $1$。\n\n小 C 还定义，$g(i)$ 为 $a_i$ 的后排名，其中 $g(i)$ 等于数组 $a$ 中大于等于 $a_i$ 的元素个数。\n\n每次操作，小 C 需要选择一个不大于 $n$ 的正整数 $t$，并将 $a_t$ 的值增加 $1$。\n\n小 C 想知道，对于每一个 $1 \\le i \\le n$，想要使 $f(i) \\le k \\le g(i)$，最少需要进行多少次操作？\n\n可以证明一定存在至少一种操作方案使得 $f(i) \\le k \\le g(i)$。", "inputFormat": "第一行三个整数 $c,n,k$，其中 $c$ 表示测试点编号。$c=0$ 表示该测试点为样例。\n\n第二行 $n$ 个整数，表示给定的数组 $a$。", "outputFormat": "共 $n$ 行，每行一个整数，其中第 $i$ 行的整数表示想要使 $f(i) \\le k \\le g(i)$ 所至少需要进行的操作数。", "hint": "#### 【样例解释 #1】\n\n当 $i=1$ 时，小 C 可以选择 $t=1$ 并进行 $3$ 次操作。此时 $f(i)=2$，$g(i)=4$，满足 $f(i) \\le k \\le g(i)$。可以证明此时小 C 至少需要进行 $3$ 次操作。\n\n当 $i=4$ 时，小 C 可以选择 $t=3$ 进行 $1$ 次操作，再选择 $t=6$ 进行 $1$ 次操作。此时 $f(i)=1$，$g(i)=3$，满足 $f(i) \\le k \\le g(i)$。可以证明此时小 C 至少需要进行 $2$ 次操作。\n\n#### 【样例 #2】\n\n见附加文件中的 `rank/rank2.in` 与 `rank/rank2.ans`。\n\n该样例满足测试点 $7$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `rank/rank3.in` 与 `rank/rank3.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n对于 $100\\%$ 的数据，$1 \\le k \\le n \\le 5 \\times 10^5$，$1 \\le a_i \\le 10^9$。\n\n|测试点编号|$n \\le$|$a_i \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|\n|$1\\sim6$|$2000$|$10^9$|A|\n|$7\\sim10$|$2000$|$10^9$|无|\n|$11\\sim14$|$5\\times10^5$|$10^9$|B|\n|$15\\sim20$|$5\\times10^5$|$10^9$|无|\n\n特殊性质 A：保证对于所有的 $1 \\le i \\lt n$，都有 $a_i \\ge a_{i+1}$。\n\n特殊性质 B：保证 $k=1$。", "locale": "zh-CN"}}}
{"pid": "P9588", "type": "P", "difficulty": 4, "samples": [["0 9\n1 5\n1 3\n2 2\n1 4\n3 6\n3 8\n2 4\n4\n3 3", "3\n2\n4\n1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "倍增", "二分", "平衡树", "树状数组", "单调队列", "洛谷原创", "O2优化", "优先队列", "前缀和", "队列", "洛谷月赛"], "title": "「MXOI Round 2」队列", "background": "", "description": "小 C 有一个队列，他要对这个队列进行 $q$ 次操作。操作共四种，参数分别如下：\n\n$1\\ x$：这是第一种操作，表示从队尾依次插入 $1,2,3,\\cdots,x$；\n\n$2\\ y$：这是第二种操作，表示弹出队头的前 $y$ 个元素；\n\n$3\\ z$：这是第三种操作，表示查询队列中的第 $z$ 个元素；\n\n$4$：这是第四种操作，表示查询队列中所有元素的最大值。\n\n你需要帮助他维护这个队列，并对于每个第三种操作和第四种操作，输出查询的答案。", "inputFormat": "第一行两个整数 $c,q$，其中 $c$ 表示测试点编号。$c=0$ 表示该测试点为样例。\n\n接下来 $q$ 行，每行 $1 \\sim 2$ 个整数，表示一个操作，格式见【**题目描述**】。", "outputFormat": "对于每个第三种操作和第四种操作，输出一行一个整数，表示查询的答案。", "hint": "#### 【样例解释 #1】\n\n在进行第四次操作后，队列中的元素依次为 $3,4,5,1,2,3,1,2,3,4$。\n\n在进行第七次操作后，队列中的元素依次为 $2,3,1,2,3,4$。\n\n#### 【样例 #2】\n\n见附加文件中的 `queue/queue2.in` 与 `queue/queue2.ans`。\n\n该样例满足测试点 $1$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `queue/queue3.in` 与 `queue/queue3.ans`。\n\n该样例满足测试点 $4$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `queue/queue4.in` 与 `queue/queue4.ans`。\n\n该样例满足测试点 $11$ 的限制。\n\n#### 【样例 #5】\n\n见附加文件中的 `queue/queue5.in` 与 `queue/queue5.ans`。\n\n该样例满足测试点 $15$ 的限制。\n\n#### 【样例 #6】\n\n见附加文件中的 `queue/queue6.in` 与 `queue/queue6.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n设 $\\sum x$ 表示单个测试点内 $x$ 之和。\n\n对于 $100\\%$ 的数据，$1 \\le q \\le 2\\times 10^5$，$1 \\le x,y,z \\le 10^9$，$0 \\le \\sum x \\le 2\\times10^{14}$，保证在进行第二种操作前队列内元素个数不小于 $y$，在进行第三种操作前队列内元素个数不小于 $z$，在进行第四种操作前队列内元素个数大于 $0$。\n\n|测试点编号|$q \\le$|$x \\le$|$\\sum x \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|:---:|\n|$1\\sim3$|$500$|$500$|$2\\times10^5$|C|\n|$4\\sim8$|$5000$|$5000$|$2\\times10^7$|无|\n|$9\\sim10$|$2\\times10^5$|$10^9$|$2\\times10^{14}$|AB|\n|$11\\sim12$|$2\\times10^5$|$10^9$|$2\\times10^{14}$|B|\n|$13\\sim14$|$2\\times10^5$|$10^9$|$2\\times10^9$|AC|\n|$15\\sim16$|$2\\times10^5$|$10^9$|$2\\times10^9$|C|\n|$17\\sim18$|$2\\times10^5$|$500$|$2\\times10^7$|无|\n|$19$|$2\\times10^5$|$10^9$|$2\\times10^9$|无|\n|$20$|$2\\times10^5$|$10^9$|$2\\times10^{14}$|无|\n\n特殊性质 A：没有第二种操作。\n\n特殊性质 B：没有第三种操作。\n\n特殊性质 C：没有第四种操作。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MXOI Round 2」队列", "background": "", "description": "小 C 有一个队列，他要对这个队列进行 $q$ 次操作。操作共四种，参数分别如下：\n\n$1\\ x$：这是第一种操作，表示从队尾依次插入 $1,2,3,\\cdots,x$；\n\n$2\\ y$：这是第二种操作，表示弹出队头的前 $y$ 个元素；\n\n$3\\ z$：这是第三种操作，表示查询队列中的第 $z$ 个元素；\n\n$4$：这是第四种操作，表示查询队列中所有元素的最大值。\n\n你需要帮助他维护这个队列，并对于每个第三种操作和第四种操作，输出查询的答案。", "inputFormat": "第一行两个整数 $c,q$，其中 $c$ 表示测试点编号。$c=0$ 表示该测试点为样例。\n\n接下来 $q$ 行，每行 $1 \\sim 2$ 个整数，表示一个操作，格式见【**题目描述**】。", "outputFormat": "对于每个第三种操作和第四种操作，输出一行一个整数，表示查询的答案。", "hint": "#### 【样例解释 #1】\n\n在进行第四次操作后，队列中的元素依次为 $3,4,5,1,2,3,1,2,3,4$。\n\n在进行第七次操作后，队列中的元素依次为 $2,3,1,2,3,4$。\n\n#### 【样例 #2】\n\n见附加文件中的 `queue/queue2.in` 与 `queue/queue2.ans`。\n\n该样例满足测试点 $1$ 的限制。\n\n#### 【样例 #3】\n\n见附加文件中的 `queue/queue3.in` 与 `queue/queue3.ans`。\n\n该样例满足测试点 $4$ 的限制。\n\n#### 【样例 #4】\n\n见附加文件中的 `queue/queue4.in` 与 `queue/queue4.ans`。\n\n该样例满足测试点 $11$ 的限制。\n\n#### 【样例 #5】\n\n见附加文件中的 `queue/queue5.in` 与 `queue/queue5.ans`。\n\n该样例满足测试点 $15$ 的限制。\n\n#### 【样例 #6】\n\n见附加文件中的 `queue/queue6.in` 与 `queue/queue6.ans`。\n\n该样例满足测试点 $20$ 的限制。\n\n#### 【数据范围】\n\n设 $\\sum x$ 表示单个测试点内 $x$ 之和。\n\n对于 $100\\%$ 的数据，$1 \\le q \\le 2\\times 10^5$，$1 \\le x,y,z \\le 10^9$，$0 \\le \\sum x \\le 2\\times10^{14}$，保证在进行第二种操作前队列内元素个数不小于 $y$，在进行第三种操作前队列内元素个数不小于 $z$，在进行第四种操作前队列内元素个数大于 $0$。\n\n|测试点编号|$q \\le$|$x \\le$|$\\sum x \\le$|特殊性质|\n|:---:|:---:|:---:|:---:|:---:|\n|$1\\sim3$|$500$|$500$|$2\\times10^5$|C|\n|$4\\sim8$|$5000$|$5000$|$2\\times10^7$|无|\n|$9\\sim10$|$2\\times10^5$|$10^9$|$2\\times10^{14}$|AB|\n|$11\\sim12$|$2\\times10^5$|$10^9$|$2\\times10^{14}$|B|\n|$13\\sim14$|$2\\times10^5$|$10^9$|$2\\times10^9$|AC|\n|$15\\sim16$|$2\\times10^5$|$10^9$|$2\\times10^9$|C|\n|$17\\sim18$|$2\\times10^5$|$500$|$2\\times10^7$|无|\n|$19$|$2\\times10^5$|$10^9$|$2\\times10^9$|无|\n|$20$|$2\\times10^5$|$10^9$|$2\\times10^{14}$|无|\n\n特殊性质 A：没有第二种操作。\n\n特殊性质 B：没有第三种操作。\n\n特殊性质 C：没有第四种操作。", "locale": "zh-CN"}}}
{"pid": "P9589", "type": "P", "difficulty": 4, "samples": [["4 5\n16 24 28 36\n11 4 7 3 2", "6"], ["2 3\n11 13\n13 1 11", "2"], ["2 2\n2 3\n4 5", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "洛谷原创", "O2优化"], "title": "「PFLOI R1」PFL 除法", "background": "[有必要把所有比赛题的背景连在一起](https://www.luogu.com.cn/paste/enzfvjum)。\n\n就这样，新世界的大门向它们敞开了……  \n\n“喵！”一只可爱的花猫向它们问好。  \n\n“你们刚来到这？”  \n\n“嗯。”  \n\n“我带你们去转转吧，谁叫我这么可爱呢！”  \n\n“……” 花猫突然止住，打量一番手中的序列，俶尔又微笑着说：  \n\n“但你们要先答出我的问题哦。”", "description": "花猫有一个长度为 $n$ 的序列 $A$ 和另一个长度为 $m$ 的序列 $B$。你可以进行若干次以下操作：\n\n+ 选择两个整数 $i$ 和 $j$，满足 $1\\le i\\le n$，$1\\le j\\le m$ 且 $B_j \\mid A_i$，然后将 $A_i$ 变为 $\\frac{A_i}{B_j}$。\n\n**注意**：$A$ 和 $B$ 中的每个元素都可以选择并被**操作多次**。\n\n最终要使得 $A$ 中的元素都相等，请求出最少的操作次数；若无解，输出 `-1`。", "inputFormat": "第一行两个正整数 $n$ 和 $m$。\n\n第二行 $n$ 个正整数表示序列 $A$。\n\n第三行 $m$ 个正整数表示序列 $B$。", "outputFormat": "输出一个整数表示最少的操作次数；若无解，输出 `-1`。", "hint": "**本题采用捆绑测试**。\n\n| 子任务编号 | 特殊性质 | 分值 | \n| :----------: | :----------: | :-----:| \n| $1$ | $A$ 中所有元素相等 | $5$ |\n| $2$ | $n=2$ | $15$ |\n| $3$ | $n,m\\le10^3$ | $20$ | \n| $4$ | $n,m\\le10^4$ | $20$ | \n| $5$ | 无 | $40$ |\n\n对于所有数据，$1\\le n,m\\le5\\times10^5$，$1\\le A_i,B_i\\le5\\times10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PFLOI R1」PFL 除法", "background": "[有必要把所有比赛题的背景连在一起](https://www.luogu.com.cn/paste/enzfvjum)。\n\n就这样，新世界的大门向它们敞开了……  \n\n“喵！”一只可爱的花猫向它们问好。  \n\n“你们刚来到这？”  \n\n“嗯。”  \n\n“我带你们去转转吧，谁叫我这么可爱呢！”  \n\n“……” 花猫突然止住，打量一番手中的序列，俶尔又微笑着说：  \n\n“但你们要先答出我的问题哦。”", "description": "花猫有一个长度为 $n$ 的序列 $A$ 和另一个长度为 $m$ 的序列 $B$。你可以进行若干次以下操作：\n\n+ 选择两个整数 $i$ 和 $j$，满足 $1\\le i\\le n$，$1\\le j\\le m$ 且 $B_j \\mid A_i$，然后将 $A_i$ 变为 $\\frac{A_i}{B_j}$。\n\n**注意**：$A$ 和 $B$ 中的每个元素都可以选择并被**操作多次**。\n\n最终要使得 $A$ 中的元素都相等，请求出最少的操作次数；若无解，输出 `-1`。", "inputFormat": "第一行两个正整数 $n$ 和 $m$。\n\n第二行 $n$ 个正整数表示序列 $A$。\n\n第三行 $m$ 个正整数表示序列 $B$。", "outputFormat": "输出一个整数表示最少的操作次数；若无解，输出 `-1`。", "hint": "**本题采用捆绑测试**。\n\n| 子任务编号 | 特殊性质 | 分值 | \n| :----------: | :----------: | :-----:| \n| $1$ | $A$ 中所有元素相等 | $5$ |\n| $2$ | $n=2$ | $15$ |\n| $3$ | $n,m\\le10^3$ | $20$ | \n| $4$ | $n,m\\le10^4$ | $20$ | \n| $5$ | 无 | $40$ |\n\n对于所有数据，$1\\le n,m\\le5\\times10^5$，$1\\le A_i,B_i\\le5\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P9590", "type": "P", "difficulty": 5, "samples": [["1\n6\n1 1 2 1 2 1\n", "760381441"], ["2\n11 4 5 14", "686292993"]], "limits": {"time": [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["动态规划 DP", "洛谷原创", "O2优化", "矩阵加速", "期望"], "title": "「PFLOI R1」PFL 团主的 PFL 操作", "background": "比赛结束后，智力、旸麦、花猫邀来碓瑘，四人从此结交为友。\n\n--------------------\n\n实际上，不光碓瑘，智力、旸麦、花猫都曾是 OI 界中最强的存在。一次又一次 AK 一场又一场 Trash Round 后，它们厌倦了，从此销声匿迹，退出江湖。\n\n今天看到碓瑘才气不减当年，它们又念想起那些和 OI 作伴的时光……兴意，顿生心头。\n\n于是它们找到了 PFLOI 团长珺珺，请求珺珺给它们再次辉煌的机会——出一场属于自己的比赛。\n\n听完它们的事迹后，珺珺颇为感动，欣然同意。5 人就此相聚在 PFLOI。\n\n但是旸麦进入 PFLOI 后~~乱出题~~太调皮了，珺珺可不乐意了，于是：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9m9343n9.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/znp6x2ta.png)", "description": "有 $n$ 次操作，每次操作会等概率地进行以下事件中的一个：\n\n1. 将 $a_i$ 加入团队，操作后 $a_i$ 为成员。\n2. 将 $a_i$ 踢出团队。\n3. 将 $a_i$ 设置为管理员。\n4. 将 $a_i$ 设置为成员。\n\n**注意：**\n\n+ 开始时没有人在团队里。  \n+ 如果 $a_i$ 不在团队中，则 2、3、4 操作无效果。  \n+ 如果 $a_i$ 为成员，则 1、4 操作无效果。  \n+ 如果 $a_i$ 是管理员，则 1、2、3 操作无效果。  \n\n最后输出团队中管理员个数的期望，答案对 $998244353$ 取模。", "inputFormat": "第一行一个整数 $\\text{type}$。  \n如果 $\\text{type}$ 为 $1$，则采用**第一种输入方式**，否则采用**第二种输入方式**。\n\n### 第一种输入方式：\n\n第一行一个正整数 $n$。  \n第二行共 $n$ 个整数表示数组 $a$。\n\n### 第二种输入方式：\n\n共一行四个整数分别是 $n,a_0,p,q$。    \n\n**注意：第二种输入方式中，数组 $a$ 需要你计算得出，满足 $a_i=(a_{i-1}\\times p+p)\\bmod q+ 1$ $ (i \\geq 1)$。**", "outputFormat": "输出一个整数表示团队中管理员个数的期望，对 $998244353$ 取模。", "hint": "**本题采用捆绑测试**。\n\n| 子任务编号\t | $\\text{type}=$ | $n$ | $a_i$ | 分值 |\n| :---: | :---: | :---: | :---: | :---: |\n| $1$ | $1$ | $n\\le 100$ | $1\\le a_i\\le10$ | $25$ |\n| $2$ | $1$ | $n\\le 5\\times 10^5$ | $1\\le a_i\\le 10^{18}$ | $35$ |\n\n| 子任务编号\t | $\\text{type}=$ | $n$ | $a_0,p,q$ | 分值 |\n|:---------:|:------:|:---:|:-----:|:-----:|\n| $3$ | $2$ | $n\\le 10^6$ | $1\\le a_0,p<q\\le 20$ | $10$ |\n| $4$ | $2$ | $n\\le 10^{18}$ | $1\\le a_0,p<q\\le 3\\times 10^5$ | $30$ |\n\n对于所有数据，$1\\le n\\le 10^{18}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PFLOI R1」PFL 团主的 PFL 操作", "background": "比赛结束后，智力、旸麦、花猫邀来碓瑘，四人从此结交为友。\n\n--------------------\n\n实际上，不光碓瑘，智力、旸麦、花猫都曾是 OI 界中最强的存在。一次又一次 AK 一场又一场 Trash Round 后，它们厌倦了，从此销声匿迹，退出江湖。\n\n今天看到碓瑘才气不减当年，它们又念想起那些和 OI 作伴的时光……兴意，顿生心头。\n\n于是它们找到了 PFLOI 团长珺珺，请求珺珺给它们再次辉煌的机会——出一场属于自己的比赛。\n\n听完它们的事迹后，珺珺颇为感动，欣然同意。5 人就此相聚在 PFLOI。\n\n但是旸麦进入 PFLOI 后~~乱出题~~太调皮了，珺珺可不乐意了，于是：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9m9343n9.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/znp6x2ta.png)", "description": "有 $n$ 次操作，每次操作会等概率地进行以下事件中的一个：\n\n1. 将 $a_i$ 加入团队，操作后 $a_i$ 为成员。\n2. 将 $a_i$ 踢出团队。\n3. 将 $a_i$ 设置为管理员。\n4. 将 $a_i$ 设置为成员。\n\n**注意：**\n\n+ 开始时没有人在团队里。  \n+ 如果 $a_i$ 不在团队中，则 2、3、4 操作无效果。  \n+ 如果 $a_i$ 为成员，则 1、4 操作无效果。  \n+ 如果 $a_i$ 是管理员，则 1、2、3 操作无效果。  \n\n最后输出团队中管理员个数的期望，答案对 $998244353$ 取模。", "inputFormat": "第一行一个整数 $\\text{type}$。  \n如果 $\\text{type}$ 为 $1$，则采用**第一种输入方式**，否则采用**第二种输入方式**。\n\n### 第一种输入方式：\n\n第一行一个正整数 $n$。  \n第二行共 $n$ 个整数表示数组 $a$。\n\n### 第二种输入方式：\n\n共一行四个整数分别是 $n,a_0,p,q$。    \n\n**注意：第二种输入方式中，数组 $a$ 需要你计算得出，满足 $a_i=(a_{i-1}\\times p+p)\\bmod q+ 1$ $ (i \\geq 1)$。**", "outputFormat": "输出一个整数表示团队中管理员个数的期望，对 $998244353$ 取模。", "hint": "**本题采用捆绑测试**。\n\n| 子任务编号\t | $\\text{type}=$ | $n$ | $a_i$ | 分值 |\n| :---: | :---: | :---: | :---: | :---: |\n| $1$ | $1$ | $n\\le 100$ | $1\\le a_i\\le10$ | $25$ |\n| $2$ | $1$ | $n\\le 5\\times 10^5$ | $1\\le a_i\\le 10^{18}$ | $35$ |\n\n| 子任务编号\t | $\\text{type}=$ | $n$ | $a_0,p,q$ | 分值 |\n|:---------:|:------:|:---:|:-----:|:-----:|\n| $3$ | $2$ | $n\\le 10^6$ | $1\\le a_0,p<q\\le 20$ | $10$ |\n| $4$ | $2$ | $n\\le 10^{18}$ | $1\\le a_0,p<q\\le 3\\times 10^5$ | $30$ |\n\n对于所有数据，$1\\le n\\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P9591", "type": "P", "difficulty": 6, "samples": [["7\n5 2\n6 6\n7 6\n8 3\n9 3\n10 1\n7 4", "3 4\n1 6 2 4 3 5 \n1 2 3 4 5 6\n8 6 1\n8 1 6\n-1\n3 5 6 7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "Special Judge", "O2优化", "模拟退火", "构造", "Ad-hoc", "分类讨论"], "title": "「PFLOI R1」PFL 变换", "background": "五大高手云集于此，思想的火花激烈碰撞。很快，PFLOI Round 1 准备完毕。\n\n开始了……", "description": "新的征途已经开始：智力踏上了寻香蕉之旅。道路上共有 $n$ 个香蕉，编号从 $1$ 到 $n$。\n\n智力看到如此美食，非常激动。但是智力不想吃得太饱或太少，所以它会吃**刚好** $m$ 个香蕉。\n\n智力是一个挑剔的人，只有当它吃的 $m$ 个香蕉的编号的异或和**恰好为** $2^{\\lfloor\\log_2 n\\rfloor+1}-1$ 时他才会满意。请你帮忙找出他应该吃哪些香蕉，好让他满意。\n\n如果怎样都不能满足智力的需求，就请输出 `-1` 吧。\n\n------------\n\n**形式化题面**：\n\n请你从 $1$ 到 $n$ 中选出 $m$ 个数，使得它们的异或和恰好为 $2^{\\lfloor\\log_2 n\\rfloor+1}-1$。若无解输出 `-1`。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示一共有 $T$ 组测试数据。\n\n对于每组测试数据，每行两个整数 $n$ 和 $m$，含义见题面。", "outputFormat": "对于每组测试数据，若有解，输出一行共 $m$ 个整数，表示你选择的 $m$ 个数；若无解，输出 `-1`。\n\n**本题采用 Special Judge**。若有多种可能的解，任意输出一个即可。", "hint": "**本题不采用捆绑测试**。\n\n| 测试点编号 | 特殊性质 | 分值 |\n| :----------: | :----------: | :-----:| \n| $1,2$ | $n\\le15$ | $2\\times4=8$ |\n| $3\\sim11 $ | $n\\le128$ | $9\\times3=27$ |\n| $12\\sim24 $ | $\\sum n\\le10^5$ | $13\\times3=39$ |\n| $25\\sim29$ | 无特殊限制 | $5\\times4=20$ |\n| $30$ | 无特殊限制 | $1\\times6=6$ |\n\n对于所有数据，$1\\le m\\le n\\le10^6$，$1\\le\\sum n,T\\le10^6$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PFLOI R1」PFL 变换", "background": "五大高手云集于此，思想的火花激烈碰撞。很快，PFLOI Round 1 准备完毕。\n\n开始了……", "description": "新的征途已经开始：智力踏上了寻香蕉之旅。道路上共有 $n$ 个香蕉，编号从 $1$ 到 $n$。\n\n智力看到如此美食，非常激动。但是智力不想吃得太饱或太少，所以它会吃**刚好** $m$ 个香蕉。\n\n智力是一个挑剔的人，只有当它吃的 $m$ 个香蕉的编号的异或和**恰好为** $2^{\\lfloor\\log_2 n\\rfloor+1}-1$ 时他才会满意。请你帮忙找出他应该吃哪些香蕉，好让他满意。\n\n如果怎样都不能满足智力的需求，就请输出 `-1` 吧。\n\n------------\n\n**形式化题面**：\n\n请你从 $1$ 到 $n$ 中选出 $m$ 个数，使得它们的异或和恰好为 $2^{\\lfloor\\log_2 n\\rfloor+1}-1$。若无解输出 `-1`。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示一共有 $T$ 组测试数据。\n\n对于每组测试数据，每行两个整数 $n$ 和 $m$，含义见题面。", "outputFormat": "对于每组测试数据，若有解，输出一行共 $m$ 个整数，表示你选择的 $m$ 个数；若无解，输出 `-1`。\n\n**本题采用 Special Judge**。若有多种可能的解，任意输出一个即可。", "hint": "**本题不采用捆绑测试**。\n\n| 测试点编号 | 特殊性质 | 分值 |\n| :----------: | :----------: | :-----:| \n| $1,2$ | $n\\le15$ | $2\\times4=8$ |\n| $3\\sim11 $ | $n\\le128$ | $9\\times3=27$ |\n| $12\\sim24 $ | $\\sum n\\le10^5$ | $13\\times3=39$ |\n| $25\\sim29$ | 无特殊限制 | $5\\times4=20$ |\n| $30$ | 无特殊限制 | $1\\times6=6$ |\n\n对于所有数据，$1\\le m\\le n\\le10^6$，$1\\le\\sum n,T\\le10^6$。", "locale": "zh-CN"}}}
{"pid": "P9592", "type": "P", "difficulty": 3, "samples": [["3\n5 4 1\n5 6 1\n5 7 1", "YES\n1 1 1 1\nYES\n1 1 3 3\nYES\n1 2 2 2"], ["3\n5 4 2\n5 6 2\n5 7 2", "YES\n1 1 1 1\nYES\n1 1 3 3\nNO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["洛谷原创", "Special Judge", "O2优化", "构造"], "title": "「Daily OI Round 1」Tree", "background": "", "description": "给定三个正整数参数 $n,d,k$，你需要构造出一棵根节点为 $1$ 的树，满足这棵树有 $n$ 个节点，每个节点到根节点的距离和为 $d$，除了叶节点以外每个节点的**直接**儿子数量**至少** $k$ 个，且所有节点的最大深度最小。\n\n**注意事项：**\n\n- 距离：两个点之间的简单路径上的边的条数。\n- 叶子节点：没有儿子的非根节点。\n- 根节点深度为 $0$。", "inputFormat": "**本题有多组数据。**  \n\n第一行一个正整数 $T$，表示数据组数。  \n对于每组数据：共一行三个正整数 $n,d,k$，含义如题所示。", "outputFormat": "对于每次询问，如果有解，第一行输出 `YES`，然后一行 $n-1$ 个正整数，第 $i$ 个正整数 $a_i$ 表示 $a_i$ 是 $i+1$ 的父亲节点，且 $a_i\\leq i$；如果无解，输出 `NO`。\n\n如果有多组合法的答案，可以任意输出其中一组。\n\n**特别地，如果 $n=1$ 且有解，方案输出一行空行即可。**", "hint": "### **样例解释**\n\n对于第二组样例的第二组询问，$n=5,d=6,k=2$，即需要构造出含有 $5$ 个节点，各个节点到节点 $1$ 的距离和为 $6$ 且除叶节点外的节点至少有 $k$ 个儿子节点。\n\n下面是样例构造的图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wgir5yt5.png)\n\n其中编号为 $1,2,3,4,5$ 的点到根节点 $1$ 的距离分别为 $0,1,1,2,2$，和为 $6$，满足条件。而且非叶子节点 $1,3$ 都含有至少 $2$ 个儿子节点，可以证明这是所有合法构造中节点的最大深度最小的解法，在此处为 $2$。\n\n### **数据范围**\n  \n**本题开启捆绑测试。**\n\n|$\\text{Subtask}$|分值|$n \\le$|特殊性质|\n| :-----------: | :-------------:|:-----------: |:-----------: |\n|$0$|$5$|$10$|无|\n|$1$|$5$|$20$|无|\n|$2$|$5$|$10^5$|$k= n-1$|\n|$3$|$5$|$10^5$|$k= n-1$ 或 $n-2$|\n|$4$|$10$|$10^5$|$T=1$|\n|$5$|$70$|$10^5$|无|\n\n对于全部数据，保证：$1 \\le n \\le 10^5$，$1 \\le T \\le 10^5$，$1 \\le k \\le 10^5$，$\\sum n \\le 10^6$，$1 \\le d \\le 10^{10}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Daily OI Round 1」Tree", "background": "", "description": "给定三个正整数参数 $n,d,k$，你需要构造出一棵根节点为 $1$ 的树，满足这棵树有 $n$ 个节点，每个节点到根节点的距离和为 $d$，除了叶节点以外每个节点的**直接**儿子数量**至少** $k$ 个，且所有节点的最大深度最小。\n\n**注意事项：**\n\n- 距离：两个点之间的简单路径上的边的条数。\n- 叶子节点：没有儿子的非根节点。\n- 根节点深度为 $0$。", "inputFormat": "**本题有多组数据。**  \n\n第一行一个正整数 $T$，表示数据组数。  \n对于每组数据：共一行三个正整数 $n,d,k$，含义如题所示。", "outputFormat": "对于每次询问，如果有解，第一行输出 `YES`，然后一行 $n-1$ 个正整数，第 $i$ 个正整数 $a_i$ 表示 $a_i$ 是 $i+1$ 的父亲节点，且 $a_i\\leq i$；如果无解，输出 `NO`。\n\n如果有多组合法的答案，可以任意输出其中一组。\n\n**特别地，如果 $n=1$ 且有解，方案输出一行空行即可。**", "hint": "### **样例解释**\n\n对于第二组样例的第二组询问，$n=5,d=6,k=2$，即需要构造出含有 $5$ 个节点，各个节点到节点 $1$ 的距离和为 $6$ 且除叶节点外的节点至少有 $k$ 个儿子节点。\n\n下面是样例构造的图：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wgir5yt5.png)\n\n其中编号为 $1,2,3,4,5$ 的点到根节点 $1$ 的距离分别为 $0,1,1,2,2$，和为 $6$，满足条件。而且非叶子节点 $1,3$ 都含有至少 $2$ 个儿子节点，可以证明这是所有合法构造中节点的最大深度最小的解法，在此处为 $2$。\n\n### **数据范围**\n  \n**本题开启捆绑测试。**\n\n|$\\text{Subtask}$|分值|$n \\le$|特殊性质|\n| :-----------: | :-------------:|:-----------: |:-----------: |\n|$0$|$5$|$10$|无|\n|$1$|$5$|$20$|无|\n|$2$|$5$|$10^5$|$k= n-1$|\n|$3$|$5$|$10^5$|$k= n-1$ 或 $n-2$|\n|$4$|$10$|$10^5$|$T=1$|\n|$5$|$70$|$10^5$|无|\n\n对于全部数据，保证：$1 \\le n \\le 10^5$，$1 \\le T \\le 10^5$，$1 \\le k \\le 10^5$，$\\sum n \\le 10^6$，$1 \\le d \\le 10^{10}$。", "locale": "zh-CN"}}}
{"pid": "P9593", "type": "P", "difficulty": 4, "samples": [["4\n1 2 1 1\n1 2\n2 3\n2 4\n", "8"], ["6\n1 2 2 2 1 2\n5 3\n2 1\n4 5\n6 3\n3 1\n", "14"], ["16\n1 1 2 1 1 2 2 2 1 1 2 1 1 1 2 1\n12 8\n14 9\n10 8\n1 16\n7 12\n6 1\n14 8\n3 1\n12 5\n1 13\n12 2\n1 12\n15 8\n11 5\n4 12\n", "442"], ["16\n11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11\n4 14\n4 15\n12 13\n2 5\n7 15\n10 2\n15 8\n15 13\n9 11\n13 11\n3 15\n8 16\n6 13\n1 4\n10 4", "27454"], ["9\n3 3 2 3 2 4 2 3 3\n1 2\n2 3\n3 4\n4 5\n5 6\n6 7\n7 8\n8 9", "16"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "洛谷原创", "O2优化", "树形 DP"], "title": "「Daily OI Round 1」Block", "background": "", "description": "给定一棵树，节点有颜色，在树上距离为 $2$ 的点连边（仍保留原来的边），求新图中颜色相同且连通的非空点集数量。由于答案可能非常大，您只需输出答案对 $10^9+7$ 取模的值。\n\n点集连通的定义：对于图 $G(V,E)$，$V$ 的一个子集 $V'$ 是连通点集，当且仅当 $G(V',E')$ 是一个连通图，其中边集 $E'=\\{(u,v)|(u,v)\\in E\\land u \\in V'\\land v\\in V'\\}$。", "inputFormat": "第一行一个正整数 $n$，表示节点个数。\n\n接下来一行 $n$ 个正整数，第 $i$ 个正整数 $c_i$ 表示第 $i$ 个节点的颜色。\n\n接下来 $n-1$ 行每行两个正整数 $u,v$ 表示原树有一条 $u$ 到 $v$ 的边。", "outputFormat": "一行一个整数，表示答案对 $10^9+7$ 取模的值。", "hint": "样例 1 中，原树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zmgrnwkh.png)\n\n树上距离为 $2$ 的点连边后，新图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/id3xc54a.png)\n\n则 $8$ 个颜色相同且连通的非空点集分别是：$\\{1\\},\\{2\\},\\{3\\},\\{4\\},\\{1,3\\},\\{1,4\\},\\{3,4\\},\\{1,3,4\\}$。\n\n**本题开启捆绑测试。**\n\n\n\n|$\\text{Subtask}$|分值|$n \\le$| 特殊性质 | 子任务依赖 |\n| :-----------: | :-------------:|:-----------: |:-----------: |:-----------: |\n|$0$|$5$|$10^5$| A | 无 |\n|$1$|$5$|$16$| 无 | 无 |\n|$2$|$5$|$10^5$| B | 无 |\n|$3$|$15$|$10^5$| C | 无 |\n|$4$|$20$|$10^5$| D | 无 |\n|$5$|$50$|$10^5$| 无 | $0\\sim4$ |\n\n- 特殊性质 A：所有节点的颜色不相同。\n- 特殊性质 B：给出的树是菊花，具体地，第 $i$ 条边连接节点 $1$ 和节点 $i+1$。\n- 特殊性质 C：给出的树是链，具体地，第 $i$ 条边连接节点 $i$ 和节点 $i+1$。\n- 特殊性质 D：所有节点的颜色相同。\n\n\n对于全部数据，满足 $2\\leq n\\leq 10^5$，$1\\leq c_i\\leq n$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Daily OI Round 1」Block", "background": "", "description": "给定一棵树，节点有颜色，在树上距离为 $2$ 的点连边（仍保留原来的边），求新图中颜色相同且连通的非空点集数量。由于答案可能非常大，您只需输出答案对 $10^9+7$ 取模的值。\n\n点集连通的定义：对于图 $G(V,E)$，$V$ 的一个子集 $V'$ 是连通点集，当且仅当 $G(V',E')$ 是一个连通图，其中边集 $E'=\\{(u,v)|(u,v)\\in E\\land u \\in V'\\land v\\in V'\\}$。", "inputFormat": "第一行一个正整数 $n$，表示节点个数。\n\n接下来一行 $n$ 个正整数，第 $i$ 个正整数 $c_i$ 表示第 $i$ 个节点的颜色。\n\n接下来 $n-1$ 行每行两个正整数 $u,v$ 表示原树有一条 $u$ 到 $v$ 的边。", "outputFormat": "一行一个整数，表示答案对 $10^9+7$ 取模的值。", "hint": "样例 1 中，原树如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zmgrnwkh.png)\n\n树上距离为 $2$ 的点连边后，新图如下图所示：\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/id3xc54a.png)\n\n则 $8$ 个颜色相同且连通的非空点集分别是：$\\{1\\},\\{2\\},\\{3\\},\\{4\\},\\{1,3\\},\\{1,4\\},\\{3,4\\},\\{1,3,4\\}$。\n\n**本题开启捆绑测试。**\n\n\n\n|$\\text{Subtask}$|分值|$n \\le$| 特殊性质 | 子任务依赖 |\n| :-----------: | :-------------:|:-----------: |:-----------: |:-----------: |\n|$0$|$5$|$10^5$| A | 无 |\n|$1$|$5$|$16$| 无 | 无 |\n|$2$|$5$|$10^5$| B | 无 |\n|$3$|$15$|$10^5$| C | 无 |\n|$4$|$20$|$10^5$| D | 无 |\n|$5$|$50$|$10^5$| 无 | $0\\sim4$ |\n\n- 特殊性质 A：所有节点的颜色不相同。\n- 特殊性质 B：给出的树是菊花，具体地，第 $i$ 条边连接节点 $1$ 和节点 $i+1$。\n- 特殊性质 C：给出的树是链，具体地，第 $i$ 条边连接节点 $i$ 和节点 $i+1$。\n- 特殊性质 D：所有节点的颜色相同。\n\n\n对于全部数据，满足 $2\\leq n\\leq 10^5$，$1\\leq c_i\\leq n$。", "locale": "zh-CN"}}}
{"pid": "P9594", "type": "P", "difficulty": 6, "samples": [["5\n2 9 1 1\n3 9 1 10\n4 8 1 10\n5 6 3 1\n7 9 3 10", "21"], ["10\n1 2 2 8\n2 4 2 2\n6 10 3 5\n2 8 2 4\n5 9 2 7\n1 1 1 10\n2 8 2 2\n1 7 3 7\n8 9 2 4\n5 7 3 3", "29"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "线段树", "洛谷原创", "O2优化", "动态规划优化"], "title": "「Daily OI Round 1」Memory", "background": "", "description": "给定 $m$ 条线段，每条线段由四个正整数参数 $l_i,r_i,c_i,w_i$ 描述，其中 $l_i,r_i$ 是这条线段的端点，$c_i$ 是这条线段的种类，$w_i$ 是这条线段的权值。\n\n你需要选出一些线段，满足以下条件且权值总和最高。\n\n- 对于任意两条不同的线段 $i,j$，满足 $c_i = c_j$ 或 $[l_i,r_i]\\cap[l_j,r_j]=\\varnothing$。", "inputFormat": "第一行一个正整数 $m$，代表线段数量。\n\n接下来 $m$ 行，每行四个正整数 $l_i,r_i,c_i,w_i$ 描述线段的四个参数，含义如题所示。", "outputFormat": "输出一行一个整数，表示能够得到的最大权值和。", "hint": "### **样例解释**\n\n对于样例 $1$，选出的线段分别是 $1,2,3$ 号线段，它们种类都相同，且权值和为 $21$，可以证明这是最优的选法。\n\n### **数据范围**\n\n**本题开启捆绑测试。**\n\n|$\\text{Subtask}$|分值|$m \\le$|$w_i \\le$|$c_i \\le $|特殊性质|\n| :-----------: | :-------------:|:-----------: | :-----------: | :-----------: | :-----------: |\n|$0$|$5$|$16$|$10$|$10^9$|无|\n|$1$|$20$|$2 \\times 10^3$|$10^4$|$10^9$|无|\n|$2$|$20$|$10^5$|$10^4$|$2$|无|\n|$3$|$20$|$10^5$|$10^4$|$10^9$|A|\n|$4$|$35$|$10^5$|$10^4$|$10^9$|无|\n\n- 特殊性质 A：不存在互不相同的正整数 $i,j$ 使得 $l_i<l_j \\leq r_j < r_i$。\n\n对于全部数据，保证：$1\\leq m\\leq10^5$，$1\\leq l_i\\leq r_i\\leq10^9$，$1\\leq c_i\\leq 10^9$，$1\\leq w_i\\leq10^4$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Daily OI Round 1」Memory", "background": "", "description": "给定 $m$ 条线段，每条线段由四个正整数参数 $l_i,r_i,c_i,w_i$ 描述，其中 $l_i,r_i$ 是这条线段的端点，$c_i$ 是这条线段的种类，$w_i$ 是这条线段的权值。\n\n你需要选出一些线段，满足以下条件且权值总和最高。\n\n- 对于任意两条不同的线段 $i,j$，满足 $c_i = c_j$ 或 $[l_i,r_i]\\cap[l_j,r_j]=\\varnothing$。", "inputFormat": "第一行一个正整数 $m$，代表线段数量。\n\n接下来 $m$ 行，每行四个正整数 $l_i,r_i,c_i,w_i$ 描述线段的四个参数，含义如题所示。", "outputFormat": "输出一行一个整数，表示能够得到的最大权值和。", "hint": "### **样例解释**\n\n对于样例 $1$，选出的线段分别是 $1,2,3$ 号线段，它们种类都相同，且权值和为 $21$，可以证明这是最优的选法。\n\n### **数据范围**\n\n**本题开启捆绑测试。**\n\n|$\\text{Subtask}$|分值|$m \\le$|$w_i \\le$|$c_i \\le $|特殊性质|\n| :-----------: | :-------------:|:-----------: | :-----------: | :-----------: | :-----------: |\n|$0$|$5$|$16$|$10$|$10^9$|无|\n|$1$|$20$|$2 \\times 10^3$|$10^4$|$10^9$|无|\n|$2$|$20$|$10^5$|$10^4$|$2$|无|\n|$3$|$20$|$10^5$|$10^4$|$10^9$|A|\n|$4$|$35$|$10^5$|$10^4$|$10^9$|无|\n\n- 特殊性质 A：不存在互不相同的正整数 $i,j$ 使得 $l_i<l_j \\leq r_j < r_i$。\n\n对于全部数据，保证：$1\\leq m\\leq10^5$，$1\\leq l_i\\leq r_i\\leq10^9$，$1\\leq c_i\\leq 10^9$，$1\\leq w_i\\leq10^4$。", "locale": "zh-CN"}}}
{"pid": "P9595", "type": "P", "difficulty": 5, "samples": [["5 2\n1 2 3 4 5\n1\n1\n", "4\n5"], ["10 10\n5 9 8 3 5 7 10 19 5 24\n10\n56\n19\n14\n18\n53\n52\n57\n96\n1000", "2\n2\n2\n4\n2\n3\n3\n2\n2\n2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "洛谷原创", "O2优化", "分治", "位运算"], "title": "「Daily OI Round 1」Xor", "background": "", "description": "给定一个长度为 $n$ 的序列，一共有 $q$ 次询问，每次询问给定正整数 $x$，然后依次执行以下操作：\n\n- 把序列中所有数异或上 $x$。\n- 求长度最大的区间 $[l,r]$（$l,r$ 是非负整数）满足区间中的每个整数在序列中出现，区间的长度定义为 $r-l+1$。\n\n**注意，在每个询问过后序列是发生变化的。**\n\n**几个需要说明的地方：**\n\n1. “区间”指的是数的区间，比如区间 $[1,3]$ 中的整数有 $1,2,3$，与序列无关。\n2. “序列”指的是修改后的序列，同时不包括之前的序列。", "inputFormat": "第一行两个正整数 $n,q$ 表示序列长度和询问个数。\n\n第二行 $n$ 个正整数 $a_i$ 表示一开始的序列。\n\n接下来 $q$ 行，每行一个正整数 $x$ 表示一个询问。", "outputFormat": "输出 $q$ 行，一行一个整数表示每个询问的答案。", "hint": "### **样例解释**\n\n对于第一组样例，序列初始是 $\\{1,2,3,4,5\\}$，第一次询问给定 $x=1$，则异或后的序列为 $\\{0,3,2,5,4\\}$。区间 $[2,5]$ 中的每个整数 $2,3,4,5$ 都在这个序列中，这是满足条件的最大区间，所以答案为 $5-2+1=4$。\n\n### **数据范围**\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 分值 | $n,q\\leq$ | $a_i\\leq$ | $x\\leq$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | $10$ | $10^3$ | $10^3$ | $10^3$ |\n| $1$ | $20$ | $5\\times10^5$ | $10^3$ | $10^3$ |\n| $2$ | $10$ | $5\\times10^5$ | $10^3$ | $5\\times10^5$ |\n| $3$ | $60$ | $5\\times10^5$ | $5\\times10^5$ | $5\\times10^5$ |\n\n对于全部数据，保证：$1\\leq n,q,a_i,x\\leq 5\\times10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「Daily OI Round 1」Xor", "background": "", "description": "给定一个长度为 $n$ 的序列，一共有 $q$ 次询问，每次询问给定正整数 $x$，然后依次执行以下操作：\n\n- 把序列中所有数异或上 $x$。\n- 求长度最大的区间 $[l,r]$（$l,r$ 是非负整数）满足区间中的每个整数在序列中出现，区间的长度定义为 $r-l+1$。\n\n**注意，在每个询问过后序列是发生变化的。**\n\n**几个需要说明的地方：**\n\n1. “区间”指的是数的区间，比如区间 $[1,3]$ 中的整数有 $1,2,3$，与序列无关。\n2. “序列”指的是修改后的序列，同时不包括之前的序列。", "inputFormat": "第一行两个正整数 $n,q$ 表示序列长度和询问个数。\n\n第二行 $n$ 个正整数 $a_i$ 表示一开始的序列。\n\n接下来 $q$ 行，每行一个正整数 $x$ 表示一个询问。", "outputFormat": "输出 $q$ 行，一行一个整数表示每个询问的答案。", "hint": "### **样例解释**\n\n对于第一组样例，序列初始是 $\\{1,2,3,4,5\\}$，第一次询问给定 $x=1$，则异或后的序列为 $\\{0,3,2,5,4\\}$。区间 $[2,5]$ 中的每个整数 $2,3,4,5$ 都在这个序列中，这是满足条件的最大区间，所以答案为 $5-2+1=4$。\n\n### **数据范围**\n\n**本题开启捆绑测试。**\n\n| $\\text{Subtask}$ | 分值 | $n,q\\leq$ | $a_i\\leq$ | $x\\leq$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $0$ | $10$ | $10^3$ | $10^3$ | $10^3$ |\n| $1$ | $20$ | $5\\times10^5$ | $10^3$ | $10^3$ |\n| $2$ | $10$ | $5\\times10^5$ | $10^3$ | $5\\times10^5$ |\n| $3$ | $60$ | $5\\times10^5$ | $5\\times10^5$ | $5\\times10^5$ |\n\n对于全部数据，保证：$1\\leq n,q,a_i,x\\leq 5\\times10^5$。", "locale": "zh-CN"}}}
{"pid": "P9596", "type": "P", "difficulty": 6, "samples": [["4 2\n1 2 3 4\n0 3\n2 1", "1\n2"], ["11 12\n11 4 13 6 7 3 5 12 4 10 11\n8 11\n4 4\n6 20\n0 2\n7 2\n3 18\n5 9\n0 6\n8 8\n9 4\n0 8\n6 18\n", "5\n5\n5\n4\n6\n6\n6\n7\n7\n7\n7\n7"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "O2优化", "JOI（日本）"], "title": "[JOI Open 2018] 冒泡排序 2 / Bubble Sort 2", "background": "", "description": "冒泡排序是一个对序列排序的算法。现在我们要将一个长度为 $N$ 的序列 $A_0,A_1,\\ldots ,A_{N-1}$​ 按不降顺序排序。当两个相邻的数没有按正确顺序排列时，冒泡排序会交换这两个数的位置。每次扫描这个序列就进行这种交换。更确切地说，在一趟**扫描**中，对于 $i=0,1,\\ldots ,N-2$，并按这个顺序，如果 $A_i>A_{i+1}$​，那么我们就交换这两个数的位置。众所周知任何序列经过有限趟扫描后一定可以按非降顺序排好序。对于一个序列 $A$，我们定义**用冒泡排序的扫描趟数**为使用如上算法使得 $A$ 排好序的情况下所扫描的趟数。\n\nJOI 君有一个长度为 $N$ 的序列 $A$。他打算处理 $Q$ 次修改 $A$ 的值的询问。更明确地说，在第 $(j+1)\\ (0\\le j\\le Q-1)$ 次询问，$A_{X_j}$ 的值会变为 $V_j$。\n\nJOI 君想知道处理每次修改之后，用冒泡排序的扫描趟数。", "inputFormat": "LOJ 上为交互题，方便起见，这里使用传统题的方式进行评测。\n\n第一行两个整数 $N,Q$。\n\n第二行 $N$ 个整数 $A_0,A_1,\\ldots ,A_{N-1}$。\n\n接下来 $Q$ 行，每行两个整数 $X_j,V_j$。", "outputFormat": "输出 $Q$ 行，第 $(j+1)\\ (0\\le j\\le Q-1)$ 行表示处理第 $(j+1)$ 个询问后，对这个序列冒泡排序的扫描趟数。", "hint": "**【样例解释】**\n\n给定一个长度为 $N=4$ 的序列 $A=\\{1,2,3,4\\}$ 和 $Q=2$ 次询问：$X=\\{0,2\\},V=\\{3,1\\}$。\n\n1. 对于第一次询问，$A_0$ 的值变为 $3$。我们得到 $A=\\{3,2,3,4\\}$。\n2. 对于第一次询问，$A_2$ 的值变为 $1$。我们得到 $A=\\{3,2,1,4\\}$。\n\n对 $A=\\{3,2,3,4\\}$ 做冒泡排序：\n\n- $A$ 并未排好序，所以第一趟扫描开始。因为 $A_0>A_1$，所以我们交换它们，序列变为 $A=\\{2,3,3,4\\}$。因为 $A_1\\le A_2$，所以我们不交换它们。因为 $A_2\\le A_3$，所以我们也不交换它们。\n- 现在 $A$ 已经排好序了，所以冒泡排序过程结束。\n\n因此对于 $A=\\{3,2,3,4\\}$，冒泡排序的扫描趟数为 $1$。\n\n对 $A=\\{3,2,1,4\\}$ 做冒泡排序：\n\n- $A$ 并未排好序，所以第一趟扫描开始。因为 $A_0>A_1$，所以我们交换它们，序列变为 $A=\\{2,3,1,4\\}$。因为 $A_1> A_2$，所以我们交换它们，序列变为 $A=\\{2,1,3,4\\}$。因为 $A_2\\le A_3$，所以我们也不交换它们。\n- $A$ 并未排好序，所以第二趟扫描开始。因为 $A_0>A_1$，所以我们交换它们，序列变为 $A=\\{1,2,3,4\\}$。因为 $A_1\\le A_2$，所以我们不交换它们。因为 $A_2\\le A_3$，所以我们也不交换它们。\n- 现在 $A$ 已经排好序了，所以冒泡排序过程结束。\n\n因此对于 $A=\\{3,2,1,4\\}$，冒泡排序的扫描趟数为 $2$。\n\n**【数据范围】**\n\n共有四个子任务。每个子任务的分值及附加限制如下：\n\n| 子任务编号 | 分值 |         $N$          |         $Q$          |              $A,V$               |\n| :--------: | :--: | :------------------: | :------------------: | :------------------------------: |\n|    $1$     | $17$ |  $1\\le N\\le 2\\ 000$  |  $1\\le Q\\le 2\\ 000$  |      $1\\le A_i,V_j\\le 10^9$      |\n|    $2$     | $21$ |  $1\\le N\\le 8\\ 000$  |  $1\\le Q\\le 8\\ 000$  | $1\\le A_i,V_j\\le 10^9$ |\n|    $3$     | $22$ | $1\\le N\\le 50\\ 000$  | $1\\le Q\\le 50\\ 000$  |      $1\\le A_i,V_j\\le 100$       |\n|    $4$     | $40$ | $1\\le N\\le 500\\ 000$ | $1\\le Q\\le 500\\ 000$ |      $1\\le A_i,V_j\\le 10^9$      |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2018] 冒泡排序 2 / Bubble Sort 2", "background": "", "description": "冒泡排序是一个对序列排序的算法。现在我们要将一个长度为 $N$ 的序列 $A_0,A_1,\\ldots ,A_{N-1}$​ 按不降顺序排序。当两个相邻的数没有按正确顺序排列时，冒泡排序会交换这两个数的位置。每次扫描这个序列就进行这种交换。更确切地说，在一趟**扫描**中，对于 $i=0,1,\\ldots ,N-2$，并按这个顺序，如果 $A_i>A_{i+1}$​，那么我们就交换这两个数的位置。众所周知任何序列经过有限趟扫描后一定可以按非降顺序排好序。对于一个序列 $A$，我们定义**用冒泡排序的扫描趟数**为使用如上算法使得 $A$ 排好序的情况下所扫描的趟数。\n\nJOI 君有一个长度为 $N$ 的序列 $A$。他打算处理 $Q$ 次修改 $A$ 的值的询问。更明确地说，在第 $(j+1)\\ (0\\le j\\le Q-1)$ 次询问，$A_{X_j}$ 的值会变为 $V_j$。\n\nJOI 君想知道处理每次修改之后，用冒泡排序的扫描趟数。", "inputFormat": "LOJ 上为交互题，方便起见，这里使用传统题的方式进行评测。\n\n第一行两个整数 $N,Q$。\n\n第二行 $N$ 个整数 $A_0,A_1,\\ldots ,A_{N-1}$。\n\n接下来 $Q$ 行，每行两个整数 $X_j,V_j$。", "outputFormat": "输出 $Q$ 行，第 $(j+1)\\ (0\\le j\\le Q-1)$ 行表示处理第 $(j+1)$ 个询问后，对这个序列冒泡排序的扫描趟数。", "hint": "**【样例解释】**\n\n给定一个长度为 $N=4$ 的序列 $A=\\{1,2,3,4\\}$ 和 $Q=2$ 次询问：$X=\\{0,2\\},V=\\{3,1\\}$。\n\n1. 对于第一次询问，$A_0$ 的值变为 $3$。我们得到 $A=\\{3,2,3,4\\}$。\n2. 对于第一次询问，$A_2$ 的值变为 $1$。我们得到 $A=\\{3,2,1,4\\}$。\n\n对 $A=\\{3,2,3,4\\}$ 做冒泡排序：\n\n- $A$ 并未排好序，所以第一趟扫描开始。因为 $A_0>A_1$，所以我们交换它们，序列变为 $A=\\{2,3,3,4\\}$。因为 $A_1\\le A_2$，所以我们不交换它们。因为 $A_2\\le A_3$，所以我们也不交换它们。\n- 现在 $A$ 已经排好序了，所以冒泡排序过程结束。\n\n因此对于 $A=\\{3,2,3,4\\}$，冒泡排序的扫描趟数为 $1$。\n\n对 $A=\\{3,2,1,4\\}$ 做冒泡排序：\n\n- $A$ 并未排好序，所以第一趟扫描开始。因为 $A_0>A_1$，所以我们交换它们，序列变为 $A=\\{2,3,1,4\\}$。因为 $A_1> A_2$，所以我们交换它们，序列变为 $A=\\{2,1,3,4\\}$。因为 $A_2\\le A_3$，所以我们也不交换它们。\n- $A$ 并未排好序，所以第二趟扫描开始。因为 $A_0>A_1$，所以我们交换它们，序列变为 $A=\\{1,2,3,4\\}$。因为 $A_1\\le A_2$，所以我们不交换它们。因为 $A_2\\le A_3$，所以我们也不交换它们。\n- 现在 $A$ 已经排好序了，所以冒泡排序过程结束。\n\n因此对于 $A=\\{3,2,1,4\\}$，冒泡排序的扫描趟数为 $2$。\n\n**【数据范围】**\n\n共有四个子任务。每个子任务的分值及附加限制如下：\n\n| 子任务编号 | 分值 |         $N$          |         $Q$          |              $A,V$               |\n| :--------: | :--: | :------------------: | :------------------: | :------------------------------: |\n|    $1$     | $17$ |  $1\\le N\\le 2\\ 000$  |  $1\\le Q\\le 2\\ 000$  |      $1\\le A_i,V_j\\le 10^9$      |\n|    $2$     | $21$ |  $1\\le N\\le 8\\ 000$  |  $1\\le Q\\le 8\\ 000$  | $1\\le A_i,V_j\\le 10^9$ |\n|    $3$     | $22$ | $1\\le N\\le 50\\ 000$  | $1\\le Q\\le 50\\ 000$  |      $1\\le A_i,V_j\\le 100$       |\n|    $4$     | $40$ | $1\\le N\\le 500\\ 000$ | $1\\le Q\\le 500\\ 000$ |      $1\\le A_i,V_j\\le 10^9$      |\n\n", "locale": "zh-CN"}}}
{"pid": "P9597", "type": "P", "difficulty": 6, "samples": [["3\n1 2\n2 3\n4\n1 1\n1 3\n2 2\n3 2\n", "0\n0\n2\n0"], ["5\n1 2\n2 3\n2 4\n4 5\n5\n1 3\n2 5\n1 2\n2 1\n3 2", "0\n1\n1\n2\n1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "交互题", "O2优化", "JOI（日本）"], "title": "[JOI Open 2018] 猫或狗 / Cats or Dogs", "background": "**特别提醒，由于洛谷交互机制的特殊性，你不能在程序中引用 `catdog.h`，只需要实现要求的几个函数即可。**", "description": "你的儿子 JOI 君喜欢养宠物。在你家的花园里有 $N$​ 个小屋可供饲养宠物，这 $N$ 个房子从 $1$ 到 $N$ 编号。有 $N-1$ 条双向路径双向连接这 $N$ 个小屋，并且对于任意两个小屋，都可以通过某些路径在它们之间移动。每个小屋最多可以住一只宠物。\n\nJOI 君想要养猫和狗，但是他很担心宠物们可能会经常打架。对于每个小屋的如下状态：住了一只猫，住了一只狗，没有住宠物，他都按如下方式定义了花园的**危险级别**：\n\n- 对于每只猫和每只狗，为了不让他们通过未阻塞的道路相遇，需要阻塞的最小路径数。\n\n在定义危险级别后，JOI 君开始指定后 $Q$ 天使用花园的计划。初始时，所有小屋里都没有宠物。第 $i$ 天的计划是如下内容中的一个：\n\n- 在目前没有宠物的小屋 $v$​​ 中养一只猫。\n- 在目前没有宠物的小屋 $v$ 中养一只狗。\n- 将小屋 $v$ 中的宠物送给邻居，这意味着在小屋 $v$​ 中就没有宠物了。\n\n你作为家长，有责任检查你的儿子的计划是否危险。更确切地说，你需要求出这 $Q$ 天每天进行完计划后，这个花园的危险级别。\n\n---\n\n**为了在线地回答询问，本题采用交互的方式进行评测。**\n\n你需要实现四个函数 `initialize`，`cat`，`dog` 和 `neighbor`。\n\n最初，函数 `initialize` 被调用。这个函数的作用是接受花园的信息。\n\n- `initialize(N, A, B)`\n  - $N$：花园中小屋的数量。\n  - $A, B$：长度为 $N-1$ 的数组。意味着对于 $0\\le i\\le N-2$，在小屋 $A_i$ 和小屋 $B_i$ 之间存在一条路径。保证对于任意两个不同的小屋，沿某些路径可以在它们之间移动。\n\n然后，对于这 $Q$ 天的计划，按时间顺序会调用如下函数：\n\n- `cat(v)`：调用此函数，在目前没有宠物的小屋 $v$ 中养一只猫。\n- `dog(v)`：调用此函数，在目前没有宠物的小屋 $v$ 中养一只狗。\n- `neighbor(v)`：调用此函数，让小屋 $v$ 中的宠物离开。\n\n这些函数应返回在这个计划执行后花园的危险值。\n\n目前不支持对 Java 和 Pascal 语言提交的测评。\n\n", "inputFormat": "样例交互器按如下格式读取输入：\n\n第一行一个整数 $N$。\n\n接下来 $N-1$ 行，每行两个整数 $A_i,B_i$。\n\n接下来一行一个整数 $Q$。\n\n接下来 $Q$ 行，每行两个整数 $T_j,v_j$。\n\n这里，如果在第 $j$ 天的调用是 $\\texttt{cat}$，则 $T_j=1$，如果是 $\\texttt{dog}$，则 $T_j=2$，如果是 $\\texttt{neighbor}$，则 $T_j=3$。", "outputFormat": "样例交互器按如下格式输出第 $j$ 天的函数调用结果 $D_j$：\n\n第 $j$ 行输出 $D_j$。", "hint": "**【样例】**\n\n考虑有 $5$ 个小屋和 $4$ 条路径的情况。这四条路径连接小屋 $1$ 和小屋 $2$，小屋 $2$ 和小屋 $3$，小屋 $2$ 和小屋 $4$，小屋 $4$ 和小屋 $5$。\n\n1. 假设他首先在小屋 $3$ 养了一只猫，在小屋 $5$ 养了一只狗。通过阻塞小屋 $2$ 和小屋 $4$ 之间的道路，他可以避免猫和狗相遇。因此，此时的危险等级是 $1$。\n2. 假设他之后在小屋 $2$​ 养了一直新猫，在小屋 $1$​ 养了一只新狗。通过阻塞小屋 $2$​ 和小屋 $4$​ 之间的道路与小屋 $1$​ 和小屋 $2$​ 之间的道路，他可以避免猫和狗相遇。因此，此时的危险等级是 $2$。\n3. 假设他最后将小屋 $2$ 的猫给了邻居。他只需要阻塞小屋 $2$ 和小屋 $3$ 之间的道路。因此，此时的危险等级是 $1$。\n\n\n\n**【数据范围】**\n\n本题有三个子任务。每个子任务的分值与附加限制如下表所示：\n\n| 子任务编号 | 分值 |         $N$          |         $Q$          |\n| :--------: | :--: | :------------------: | :------------------: |\n|    $1$     | $8$  |    $1\\le N\\le 15$    |   $1\\le Q\\le 100$    |\n|    $2$     | $30$ |  $1\\le N\\le 1\\ 000$  |  $1\\le Q\\le 1\\ 000$  |\n|    $3$     | $62$ | $1\\le N\\le 100\\ 000$ | $1\\le Q\\le 100\\ 000$ |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2018] 猫或狗 / Cats or Dogs", "background": "**特别提醒，由于洛谷交互机制的特殊性，你不能在程序中引用 `catdog.h`，只需要实现要求的几个函数即可。**", "description": "你的儿子 JOI 君喜欢养宠物。在你家的花园里有 $N$​ 个小屋可供饲养宠物，这 $N$ 个房子从 $1$ 到 $N$ 编号。有 $N-1$ 条双向路径双向连接这 $N$ 个小屋，并且对于任意两个小屋，都可以通过某些路径在它们之间移动。每个小屋最多可以住一只宠物。\n\nJOI 君想要养猫和狗，但是他很担心宠物们可能会经常打架。对于每个小屋的如下状态：住了一只猫，住了一只狗，没有住宠物，他都按如下方式定义了花园的**危险级别**：\n\n- 对于每只猫和每只狗，为了不让他们通过未阻塞的道路相遇，需要阻塞的最小路径数。\n\n在定义危险级别后，JOI 君开始指定后 $Q$ 天使用花园的计划。初始时，所有小屋里都没有宠物。第 $i$ 天的计划是如下内容中的一个：\n\n- 在目前没有宠物的小屋 $v$​​ 中养一只猫。\n- 在目前没有宠物的小屋 $v$ 中养一只狗。\n- 将小屋 $v$ 中的宠物送给邻居，这意味着在小屋 $v$​ 中就没有宠物了。\n\n你作为家长，有责任检查你的儿子的计划是否危险。更确切地说，你需要求出这 $Q$ 天每天进行完计划后，这个花园的危险级别。\n\n---\n\n**为了在线地回答询问，本题采用交互的方式进行评测。**\n\n你需要实现四个函数 `initialize`，`cat`，`dog` 和 `neighbor`。\n\n最初，函数 `initialize` 被调用。这个函数的作用是接受花园的信息。\n\n- `initialize(N, A, B)`\n  - $N$：花园中小屋的数量。\n  - $A, B$：长度为 $N-1$ 的数组。意味着对于 $0\\le i\\le N-2$，在小屋 $A_i$ 和小屋 $B_i$ 之间存在一条路径。保证对于任意两个不同的小屋，沿某些路径可以在它们之间移动。\n\n然后，对于这 $Q$ 天的计划，按时间顺序会调用如下函数：\n\n- `cat(v)`：调用此函数，在目前没有宠物的小屋 $v$ 中养一只猫。\n- `dog(v)`：调用此函数，在目前没有宠物的小屋 $v$ 中养一只狗。\n- `neighbor(v)`：调用此函数，让小屋 $v$ 中的宠物离开。\n\n这些函数应返回在这个计划执行后花园的危险值。\n\n目前不支持对 Java 和 Pascal 语言提交的测评。\n\n", "inputFormat": "样例交互器按如下格式读取输入：\n\n第一行一个整数 $N$。\n\n接下来 $N-1$ 行，每行两个整数 $A_i,B_i$。\n\n接下来一行一个整数 $Q$。\n\n接下来 $Q$ 行，每行两个整数 $T_j,v_j$。\n\n这里，如果在第 $j$ 天的调用是 $\\texttt{cat}$，则 $T_j=1$，如果是 $\\texttt{dog}$，则 $T_j=2$，如果是 $\\texttt{neighbor}$，则 $T_j=3$。", "outputFormat": "样例交互器按如下格式输出第 $j$ 天的函数调用结果 $D_j$：\n\n第 $j$ 行输出 $D_j$。", "hint": "**【样例】**\n\n考虑有 $5$ 个小屋和 $4$ 条路径的情况。这四条路径连接小屋 $1$ 和小屋 $2$，小屋 $2$ 和小屋 $3$，小屋 $2$ 和小屋 $4$，小屋 $4$ 和小屋 $5$。\n\n1. 假设他首先在小屋 $3$ 养了一只猫，在小屋 $5$ 养了一只狗。通过阻塞小屋 $2$ 和小屋 $4$ 之间的道路，他可以避免猫和狗相遇。因此，此时的危险等级是 $1$。\n2. 假设他之后在小屋 $2$​ 养了一直新猫，在小屋 $1$​ 养了一只新狗。通过阻塞小屋 $2$​ 和小屋 $4$​ 之间的道路与小屋 $1$​ 和小屋 $2$​ 之间的道路，他可以避免猫和狗相遇。因此，此时的危险等级是 $2$。\n3. 假设他最后将小屋 $2$ 的猫给了邻居。他只需要阻塞小屋 $2$ 和小屋 $3$ 之间的道路。因此，此时的危险等级是 $1$。\n\n\n\n**【数据范围】**\n\n本题有三个子任务。每个子任务的分值与附加限制如下表所示：\n\n| 子任务编号 | 分值 |         $N$          |         $Q$          |\n| :--------: | :--: | :------------------: | :------------------: |\n|    $1$     | $8$  |    $1\\le N\\le 15$    |   $1\\le Q\\le 100$    |\n|    $2$     | $30$ |  $1\\le N\\le 1\\ 000$  |  $1\\le Q\\le 1\\ 000$  |\n|    $3$     | $62$ | $1\\le N\\le 100\\ 000$ | $1\\le Q\\le 100\\ 000$ |\n\n", "locale": "zh-CN"}}}
{"pid": "P9598", "type": "P", "difficulty": 7, "samples": [["5 8 2\n0 0 1\n0 1 3\n0 2 4\n0 4 0\n1 1 3\n0 0 3\n0 1 2\n0 4 3\n3 1\n7 3\n", "3\n2"]], "limits": {"time": [6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000, 6000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2018", "JOI（日本）"], "title": "[JOI Open 2018] 山体滑坡 / Collapse", "background": "", "description": "I 先生有一个 $C$ 天的电缆建设计划。第 $(i+1)\\ (0\\le i\\le C-1)$​ 天的计划用三个整数 $T_i,X_i,Y_i$ 表示，分别表示：\n\n- 如果 $T_i=0$，他们会架设一段连接城镇 $X_i$ 与城镇 $Y_i$ 的电缆。保证在第 $(i+1)$ 天开始的时候城镇 $X_i$ 与城镇 $Y_i$ 之间没有电缆。\n- 如果 $T_i=1$​，他们会拆除一段连接城镇 $X_i$​ 与城镇 $Y_i$​ 的电缆。保证在第 $(i+1)$​ 天开始的时候城镇 $X_i$​ 与城镇 $Y_i$​ 之间有电缆。\n\nJOI 国经常发生山体滑坡。如果在城镇 $x$ 与 $x+1\\ (0\\le x\\le N-2)$​ 之间发生山体滑坡，则只有连接两端编号均不超过 $x$ 与编号均不少于 $x+1$ 城镇的电缆可用。在 JOI 国，每当山体滑坡发生，他们就会选择一些城镇建设基站。基站应满足对于任意城镇，都可以通过一些可用的电缆与基站连通。\n\nI 先生在建设阶段就在考虑山体滑坡发生时应建设多少基站。他有 $Q$ 个问题：第 $(j+1)$ 个问题用两个整数 $W_j,P_j$ 表示，表示他想知道在 $(W_j+1)$ 天结束时，如果在城镇 $P_j$ 和 $P_j+1$ 之间发生山体滑坡，至少应该建立多少基站。\n\n你作为 I 先生的助理，负责写一个程序去回答 I 先生的问题。", "inputFormat": "LOJ 上为交互题，方便起见，这里使用传统题的方式进行评测。\n\n第一行三个整数 $N,C,Q$。\n\n接下来 $C$ 行，每行三个整数 $T_i,X_i,Y_i$。\n\n接下来 $Q$ 行，每行两个整数 $W_j,P_j$。", "outputFormat": "输出 $Q$ 行，第 $j+1$ 行输出 $D_j$ 表示对第 $(j+1)$​ 个问题的回答。", "hint": "**【样例】**\n\n考虑有 $5$ 个城镇的情况。接下来用 $(x,y)$ 代表连接城镇 $x$ 和城镇 $y$ 的电缆。\n\n- 假设当有四根电缆 $(0,1),(1,3),(2,4),(4,0)$ 时，在城镇 $1$ 和 $2$ 之间发生了滑坡。电缆 $(1,3)$ 和 $(4,0)$ 不可用了，因此可用的电缆是 $(0,1)$ 和 $(2,4)$。你需要在城镇 $0,2,3$ 建立基站。最少要建立基站数为 $3$。\n- 假设当有六根电缆 $(0, 1), (0, 3), (1, 2), (2, 4), (4, 0)$​​ 和 $(4,3)$​​ 时，在城镇 $3$​​ 和 $4$​​ 之间发生了滑坡。电缆 $(2,4),(4,0)$​​ 和 $(4,3)$​​ 不可用了，因此可用的电缆是 $(0,1),(0,3)$​​ 和 $(1,2)$​​。你需要在城镇 $0$​​ 和 $4$ 建立基站。最少要建立基站数为 $2$​​。\n\n**【数据范围】**\n\n本题有四个子任务。子任务分值及附加限制如下表所示：\n\n| 子任务编号 | 分值 |              $N$               |              $C,Q$               |              附加限制              |\n| :--------: | :--: | :----------------------------: | :------------------------------: | :--------------------------------: |\n|    $1$     | $5$  |       $2\\le N\\le 5\\ 000$       |       $1\\le C,Q\\le 5\\ 000$       |                 无                 |\n|    $2$     | $30$ |      $2\\le N\\le 100\\ 000$      |      $1\\le C,Q\\le 100\\ 000$      | 所有 $P_j\\ (0\\le j\\le Q-1)$ 都相等 |\n|    $3$     | $30$ | $2\\le N\\le 100\\ 000$ | $1\\le C,Q\\le 100\\ 000$ |      $T_i=0\\ (0\\le i\\le C-1)$      |\n|    $4$     | $35$ |      $2\\le N\\le 100\\ 000$      |      $1\\le C,Q\\le 100\\ 000$      |                 无                 |\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[JOI Open 2018] 山体滑坡 / Collapse", "background": "", "description": "I 先生有一个 $C$ 天的电缆建设计划。第 $(i+1)\\ (0\\le i\\le C-1)$​ 天的计划用三个整数 $T_i,X_i,Y_i$ 表示，分别表示：\n\n- 如果 $T_i=0$，他们会架设一段连接城镇 $X_i$ 与城镇 $Y_i$ 的电缆。保证在第 $(i+1)$ 天开始的时候城镇 $X_i$ 与城镇 $Y_i$ 之间没有电缆。\n- 如果 $T_i=1$​，他们会拆除一段连接城镇 $X_i$​ 与城镇 $Y_i$​ 的电缆。保证在第 $(i+1)$​ 天开始的时候城镇 $X_i$​ 与城镇 $Y_i$​ 之间有电缆。\n\nJOI 国经常发生山体滑坡。如果在城镇 $x$ 与 $x+1\\ (0\\le x\\le N-2)$​ 之间发生山体滑坡，则只有连接两端编号均不超过 $x$ 与编号均不少于 $x+1$ 城镇的电缆可用。在 JOI 国，每当山体滑坡发生，他们就会选择一些城镇建设基站。基站应满足对于任意城镇，都可以通过一些可用的电缆与基站连通。\n\nI 先生在建设阶段就在考虑山体滑坡发生时应建设多少基站。他有 $Q$ 个问题：第 $(j+1)$ 个问题用两个整数 $W_j,P_j$ 表示，表示他想知道在 $(W_j+1)$ 天结束时，如果在城镇 $P_j$ 和 $P_j+1$ 之间发生山体滑坡，至少应该建立多少基站。\n\n你作为 I 先生的助理，负责写一个程序去回答 I 先生的问题。", "inputFormat": "LOJ 上为交互题，方便起见，这里使用传统题的方式进行评测。\n\n第一行三个整数 $N,C,Q$。\n\n接下来 $C$ 行，每行三个整数 $T_i,X_i,Y_i$。\n\n接下来 $Q$ 行，每行两个整数 $W_j,P_j$。", "outputFormat": "输出 $Q$ 行，第 $j+1$ 行输出 $D_j$ 表示对第 $(j+1)$​ 个问题的回答。", "hint": "**【样例】**\n\n考虑有 $5$ 个城镇的情况。接下来用 $(x,y)$ 代表连接城镇 $x$ 和城镇 $y$ 的电缆。\n\n- 假设当有四根电缆 $(0,1),(1,3),(2,4),(4,0)$ 时，在城镇 $1$ 和 $2$ 之间发生了滑坡。电缆 $(1,3)$ 和 $(4,0)$ 不可用了，因此可用的电缆是 $(0,1)$ 和 $(2,4)$。你需要在城镇 $0,2,3$ 建立基站。最少要建立基站数为 $3$。\n- 假设当有六根电缆 $(0, 1), (0, 3), (1, 2), (2, 4), (4, 0)$​​ 和 $(4,3)$​​ 时，在城镇 $3$​​ 和 $4$​​ 之间发生了滑坡。电缆 $(2,4),(4,0)$​​ 和 $(4,3)$​​ 不可用了，因此可用的电缆是 $(0,1),(0,3)$​​ 和 $(1,2)$​​。你需要在城镇 $0$​​ 和 $4$ 建立基站。最少要建立基站数为 $2$​​。\n\n**【数据范围】**\n\n本题有四个子任务。子任务分值及附加限制如下表所示：\n\n| 子任务编号 | 分值 |              $N$               |              $C,Q$               |              附加限制              |\n| :--------: | :--: | :----------------------------: | :------------------------------: | :--------------------------------: |\n|    $1$     | $5$  |       $2\\le N\\le 5\\ 000$       |       $1\\le C,Q\\le 5\\ 000$       |                 无                 |\n|    $2$     | $30$ |      $2\\le N\\le 100\\ 000$      |      $1\\le C,Q\\le 100\\ 000$      | 所有 $P_j\\ (0\\le j\\le Q-1)$ 都相等 |\n|    $3$     | $30$ | $2\\le N\\le 100\\ 000$ | $1\\le C,Q\\le 100\\ 000$ |      $T_i=0\\ (0\\le i\\le C-1)$      |\n|    $4$     | $35$ |      $2\\le N\\le 100\\ 000$      |      $1\\le C,Q\\le 100\\ 000$      |                 无                 |\n\n", "locale": "zh-CN"}}}
