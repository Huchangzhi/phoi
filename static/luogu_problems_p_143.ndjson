{"pid": "P3898", "type": "P", "difficulty": 5, "samples": [["3 0.5", "2.000000"], ["123456 0.5", "98063.674346"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["湖南", "Special Judge"], "title": "[湖南集训] 大新闻", "background": "", "description": "有一个在 [0,n) 内等概率随机选择的整数，记其为 x。我们需要在 [0,n)内找到某一个整数 y，使得 x ⊕ y 达到最大值。这里 ⊕ 代表异或。\n\n问题在于，有可能对 x 进行了加密。情报显示，没有被加密的概率为 p。我们决定采取这样的策略：如果 x 没有被加密，那么我们选出使得 x ⊕ y 最大的 y；否则，我们在 [0,n) 内等概率随机选择一个整数作为 y。\n\n请求出 x ⊕ y 的期望值。\n", "inputFormat": "输入文件仅包含一行，其中有一个正整数 n 和一个实数 p，含义如问题描述中所述。 p 至多精确到小数点后六位。\n", "outputFormat": "输出一行，代表 x ⊕ y 的期望值。只有当你的输出与标准输出的相对误差不超过 $10^{-5}$ 时，你的输出才会被判为正确。建议保留至少六位小数。\n", "hint": "考虑样例一。如果 x 没有被加密，那么可能的 x 与对应的 y 的取值如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6855.png) \n\n此时的期望值为 8/3。\n\n如果大新闻被加密了，那么可能的 x 和 y 的取值如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6856.png) \n\n此时的期望值为 12/9 = 4/3。\n\n所以总的期望值为 2。\n\n\n所有测试点的数据规模如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6857.png) \n\n对于全部测试数据，$1 \\le n \\le 10^{18}$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[Hunan Training Camp] Big News", "background": "", "description": "Let x be an integer chosen uniformly at random from [0, n). We need to find an integer y in [0, n) such that x ⊕ y is maximized. Here ⊕ denotes bitwise XOR.\n\nThe problem is that x may have been encrypted. Intelligence indicates that the probability that it was not encrypted is p. We adopt the following strategy: if x is not encrypted, we choose a y that maximizes x ⊕ y; otherwise, we choose y uniformly at random from [0, n).\n\nCompute the expected value of x ⊕ y.", "inputFormat": "The input consists of a single line containing a positive integer n and a real number p, as described above. The value p is given with up to six digits after the decimal point.", "outputFormat": "Output a single line containing the expected value of x ⊕ y. Your answer will be accepted if its relative error does not exceed $10^{-5}$. It is recommended to keep at least six decimal places.", "hint": "Consider Sample 1. If x is not encrypted, the possible values of x and the corresponding y are as follows:\n\n ![](https://cdn.luogu.com.cn/upload/pic/6855.png) \n\nThe expected value in this case is 8/3.\n\nIf x is encrypted, the possible values of x and y are as follows:\n\n ![](https://cdn.luogu.com.cn/upload/pic/6856.png) \n\nThe expected value in this case is 12/9 = 4/3.\n\nTherefore, the overall expected value is 2.\n\nThe data scale for all test points is as follows:\n\n ![](https://cdn.luogu.com.cn/upload/pic/6857.png) \n\nConstraints: For all testdata, $1 \\le n \\le 10^{18}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[湖南集训] 大新闻", "background": "", "description": "有一个在 [0,n) 内等概率随机选择的整数，记其为 x。我们需要在 [0,n)内找到某一个整数 y，使得 x ⊕ y 达到最大值。这里 ⊕ 代表异或。\n\n问题在于，有可能对 x 进行了加密。情报显示，没有被加密的概率为 p。我们决定采取这样的策略：如果 x 没有被加密，那么我们选出使得 x ⊕ y 最大的 y；否则，我们在 [0,n) 内等概率随机选择一个整数作为 y。\n\n请求出 x ⊕ y 的期望值。\n", "inputFormat": "输入文件仅包含一行，其中有一个正整数 n 和一个实数 p，含义如问题描述中所述。 p 至多精确到小数点后六位。\n", "outputFormat": "输出一行，代表 x ⊕ y 的期望值。只有当你的输出与标准输出的相对误差不超过 $10^{-5}$ 时，你的输出才会被判为正确。建议保留至少六位小数。\n", "hint": "考虑样例一。如果 x 没有被加密，那么可能的 x 与对应的 y 的取值如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6855.png) \n\n此时的期望值为 8/3。\n\n如果大新闻被加密了，那么可能的 x 和 y 的取值如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6856.png) \n\n此时的期望值为 12/9 = 4/3。\n\n所以总的期望值为 2。\n\n\n所有测试点的数据规模如下：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6857.png) \n\n对于全部测试数据，$1 \\le n \\le 10^{18}$。\n", "locale": "zh-CN"}}}
{"pid": "P3899", "type": "P", "difficulty": 5, "samples": [["5 3\n1 2\n1 3\n2 4\n4 5\n2 2\n4 1\n2 3", "3\n1\n3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["线段树", "树状数组", "湖南", "深度优先搜索 DFS", "树链剖分", "可持久化线段树"], "title": "[湖南集训] 更为厉害", "background": "", "description": "设 $\\text T$ 为一棵有根树，我们做如下的定义：\n\n- 设 $a$ 和 $b$ 为 $\\text T$ 中的两个不同节点。如果 $a$ 是 $b$ 的祖先，那么称“$a$ 比 $b$ 更为厉害”。\n- 设 $a$ 和 $b$ 为 $\\text T$ 中的两个不同节点。如果 $a$ 与 $b$ 在树上的距离不超过某个给定常数 $x$，那么称“ $a$ 与 $b$ 彼此彼此”。\n\n给定一棵 $n$ 个节点的有根树 $\\text T$，节点的编号为 $1$ 到 $n$，根节点为 $1$ 号节点。\n你需要回答 $q$ 个询问，询问给定两个整数 $p$ 和 $k$，问有多少个有序三元组 $(a,b,c)$ 满足：\n\n1. $a,b,c$ 为 $\\text T$ 中三个不同的点，且 $a$ 为 $p$ 号节点；\n2. $a$ 和 $b$ 都比 $c$ 更为厉害；\n3. $a$ 和 $b$ 彼此彼此。这里彼此彼此中的常数为给定的 $k$。\n", "inputFormat": "输入文件的第一行含有两个正整数 $n$ 和 $q$，分别代表有根树的点数与询问的个数。\n\n接下来 $n - 1$ 行，每行描述一条树上的边。每行含有两个整数 $u$ 和 $v$，代表在节点 $u$ 和 $v$ 之间有一条边。\n\n接下来 $q$ 行，每行描述一个操作。第 $i$ 行含有两个整数，分别表示第 $i$ 个询问的 $p$ 和 $k$。\n", "outputFormat": "输出 $q$ 行，每行对应一个询问，代表询问的答案。\n", "hint": "样例中的树如下图所示：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6858.png) \n\n对于第一个和第三个询问，合法的三元组有 $(2,1,4)$、 $(2,1,5)$ 和 $(2,4,5)$。\n\n对于第二个询问，合法的三元组只有 $(4,2,5)$。\n\n\n所有测试点的数据规模如下（注意，洛谷并不按照以下方式评测）：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6859.png) \n\n对于全部测试数据的所有询问，$1\\le p,k \\le n$。\n\n- 2023.9.15 添加一组 hack 数据。", "locale": "zh-CN", "translations": {"en": {"title": "[Hunan Training Camp] Even More Formidable", "background": "", "description": "Let $\\text T$ be a rooted tree. We make the following definitions:\n\n- Let $a$ and $b$ be two distinct nodes in $\\text T$. If $a$ is an ancestor of $b$, then we say \"$a$ is more formidable than $b$.\"\n- Let $a$ and $b$ be two distinct nodes in $\\text T$. If the distance between $a$ and $b$ in the tree is no more than a given constant $x$, then we say \"$a$ and $b$ are about the same.\"\n\nGiven a rooted tree $\\text T$ with $n$ nodes, numbered from $1$ to $n$, where the root is node $1$. You need to answer $q$ queries. In each query, two integers $p$ and $k$ are given. Determine how many ordered triples $(a, b, c)$ satisfy:\n\n1. $a, b, c$ are three distinct nodes in $\\text T$, and $a$ is node $p$.\n2. $a$ and $b$ are both more formidable than $c$.\n3. $a$ and $b$ are about the same, where the constant in “about the same” is the given $k$.", "inputFormat": "The first line contains two positive integers $n$ and $q$, representing the number of nodes in the rooted tree and the number of queries, respectively.\n\nThe next $n - 1$ lines each describe an edge of the tree. Each line contains two integers $u$ and $v$, indicating that there is an edge between nodes $u$ and $v$.\n\nThe next $q$ lines each describe an operation. The $i$-th line contains two integers, representing $p$ and $k$ for the $i$-th query.", "outputFormat": "Output $q$ lines. Each line corresponds to a query and contains the answer to that query.", "hint": "The tree in the sample is shown below:\n\n ![](https://cdn.luogu.com.cn/upload/pic/6858.png) \n\nFor the first and third queries, the valid triples are $(2,1,4)$, $(2,1,5)$, and $(2,4,5)$.\n\nFor the second query, the only valid triple is $(4,2,5)$.\n\nThe constraints for all test points are as follows (note that Luogu does not evaluate according to the following):\n\n ![](https://cdn.luogu.com.cn/upload/pic/6859.png) \n\nFor all queries in the full testdata, $1 \\le p, k \\le n$.\n\n- On 2023.9.15, a set of hack testdata was added.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[湖南集训] 更为厉害", "background": "", "description": "设 $\\text T$ 为一棵有根树，我们做如下的定义：\n\n- 设 $a$ 和 $b$ 为 $\\text T$ 中的两个不同节点。如果 $a$ 是 $b$ 的祖先，那么称“$a$ 比 $b$ 更为厉害”。\n- 设 $a$ 和 $b$ 为 $\\text T$ 中的两个不同节点。如果 $a$ 与 $b$ 在树上的距离不超过某个给定常数 $x$，那么称“ $a$ 与 $b$ 彼此彼此”。\n\n给定一棵 $n$ 个节点的有根树 $\\text T$，节点的编号为 $1$ 到 $n$，根节点为 $1$ 号节点。\n你需要回答 $q$ 个询问，询问给定两个整数 $p$ 和 $k$，问有多少个有序三元组 $(a,b,c)$ 满足：\n\n1. $a,b,c$ 为 $\\text T$ 中三个不同的点，且 $a$ 为 $p$ 号节点；\n2. $a$ 和 $b$ 都比 $c$ 更为厉害；\n3. $a$ 和 $b$ 彼此彼此。这里彼此彼此中的常数为给定的 $k$。\n", "inputFormat": "输入文件的第一行含有两个正整数 $n$ 和 $q$，分别代表有根树的点数与询问的个数。\n\n接下来 $n - 1$ 行，每行描述一条树上的边。每行含有两个整数 $u$ 和 $v$，代表在节点 $u$ 和 $v$ 之间有一条边。\n\n接下来 $q$ 行，每行描述一个操作。第 $i$ 行含有两个整数，分别表示第 $i$ 个询问的 $p$ 和 $k$。\n", "outputFormat": "输出 $q$ 行，每行对应一个询问，代表询问的答案。\n", "hint": "样例中的树如下图所示：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6858.png) \n\n对于第一个和第三个询问，合法的三元组有 $(2,1,4)$、 $(2,1,5)$ 和 $(2,4,5)$。\n\n对于第二个询问，合法的三元组只有 $(4,2,5)$。\n\n\n所有测试点的数据规模如下（注意，洛谷并不按照以下方式评测）：\n\n ![](https://cdn.luogu.com.cn/upload/pic/6859.png) \n\n对于全部测试数据的所有询问，$1\\le p,k \\le n$。\n\n- 2023.9.15 添加一组 hack 数据。", "locale": "zh-CN"}}}
{"pid": "P3900", "type": "P", "difficulty": 7, "samples": [["3\nabc\nabacde\necab", "7"], ["1\nha", "Infinity"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["湖南", "后缀数组 SA"], "title": "[湖南集训] 图森", "background": "", "description": "有一个字符串集合 $S$，此处集合的概念与数学中的集合不同，其中可以含有重复的元素。初始时 $S$ 包含 $n$ 个字符串 $s_1, s_2, \\cdots, s_n$。有下面两种操作：\n\n- 向 $S$ 中加入一个已经存在于 $S$ 中的字符串。\n- 从 $S$ 中选出两个字符串，将这两个字符串拼接得到的字符串加入集合 $S$。\n\n现在想要知道，进行任意多次操作之后，在 $S$ 中的所有字符串中，最长的回文子串可以有多长？如果发现长度可以是无穷大，这时你需要输出 $\\text{Infinity}$。", "inputFormat": "第一行含有一个整数 $n$，代表初始时集合的大小。\n\n接下来的 $n$ 行，每行含有一个字符串。第 $i$ 行的字符串为 $s_i$。保证字符串中只含有小写英文字母。", "outputFormat": "如果最长的回文子串的长度不为无穷大，则输出一个整数，代表其长度；否则输出 $\\text{Infinity}$。", "hint": "#### 样例解释\n\n第一个样例中，将 $\\text{ecab}$ 与 $\\text{abacde}$ 拼接，得到 $\\text{e}\\underline{\\text{cababac}}\\text{de}$，其中下划线的部分就是最长的回文子串，长度为 $7$。可以证明不存在更长的回文子串。\n\n第二个样例中，可以将任意多个 $\\text{ha}$ 拼接起来，从而得到 $\\underline{\\text{h}}\\text{a},$ $\\underline{\\text{hah}}\\text{a},$ $\\underline{\\text{hahah}}\\text{a}$ 等任意奇数长度的回文子串。因此答案为无穷大，输出 $\\text{Infinity}$。\n\n#### 数据规模与约定\n![OvO](https://cdn.luogu.com.cn/upload/pic/55026.png)", "locale": "zh-CN", "translations": {"en": {"title": "[Hunan Training Camp] Tusen", "background": "", "description": "There is a collection $S$ of strings; the concept of a collection here differs from the mathematical set in that duplicate elements are allowed (i.e., it is a multiset). Initially, $S$ contains $n$ strings $s_1, s_2, \\cdots, s_n$. There are two operations:\n\n- Add to $S$ a string that already exists in $S$.\n- Select two strings from $S$, concatenate them, and add the resulting string to $S$.\n\nAfter performing any number of operations, among all strings in $S$, what is the maximum possible length of a palindromic substring? If the length can be infinite, output $\\text{Infinity}$.", "inputFormat": "The first line contains an integer $n$, the initial size of the collection.\n\nEach of the next $n$ lines contains a string. The string on the $i$-th line is $s_i$. Each string contains only lowercase English letters.", "outputFormat": "If the maximum length of a palindromic substring is not infinite, output an integer representing its length; otherwise output $\\text{Infinity}$.", "hint": "#### Sample explanation\n\nIn the first sample, concatenate $\\text{ecab}$ and $\\text{abacde}$ to get $\\text{e}\\underline{\\text{cababac}}\\text{de}$, where the underlined part is the longest palindromic substring of length $7$. It can be proven that no longer palindromic substring exists.\n\nIn the second sample, you can concatenate arbitrarily many copies of $\\text{ha}$ to obtain $\\underline{\\text{h}}\\text{a},$ $\\underline{\\text{hah}}\\text{a},$ $\\underline{\\text{hahah}}\\text{a}$ and so on, yielding palindromic substrings of any odd length. Therefore the answer is infinite, so output $\\text{Infinity}$.\n\n#### Constraints\n![OvO](https://cdn.luogu.com.cn/upload/pic/55026.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "[湖南集训] 图森", "background": "", "description": "有一个字符串集合 $S$，此处集合的概念与数学中的集合不同，其中可以含有重复的元素。初始时 $S$ 包含 $n$ 个字符串 $s_1, s_2, \\cdots, s_n$。有下面两种操作：\n\n- 向 $S$ 中加入一个已经存在于 $S$ 中的字符串。\n- 从 $S$ 中选出两个字符串，将这两个字符串拼接得到的字符串加入集合 $S$。\n\n现在想要知道，进行任意多次操作之后，在 $S$ 中的所有字符串中，最长的回文子串可以有多长？如果发现长度可以是无穷大，这时你需要输出 $\\text{Infinity}$。", "inputFormat": "第一行含有一个整数 $n$，代表初始时集合的大小。\n\n接下来的 $n$ 行，每行含有一个字符串。第 $i$ 行的字符串为 $s_i$。保证字符串中只含有小写英文字母。", "outputFormat": "如果最长的回文子串的长度不为无穷大，则输出一个整数，代表其长度；否则输出 $\\text{Infinity}$。", "hint": "#### 样例解释\n\n第一个样例中，将 $\\text{ecab}$ 与 $\\text{abacde}$ 拼接，得到 $\\text{e}\\underline{\\text{cababac}}\\text{de}$，其中下划线的部分就是最长的回文子串，长度为 $7$。可以证明不存在更长的回文子串。\n\n第二个样例中，可以将任意多个 $\\text{ha}$ 拼接起来，从而得到 $\\underline{\\text{h}}\\text{a},$ $\\underline{\\text{hah}}\\text{a},$ $\\underline{\\text{hahah}}\\text{a}$ 等任意奇数长度的回文子串。因此答案为无穷大，输出 $\\text{Infinity}$。\n\n#### 数据规模与约定\n![OvO](https://cdn.luogu.com.cn/upload/pic/55026.png)", "locale": "zh-CN"}}}
{"pid": "P3901", "type": "P", "difficulty": 4, "samples": [["4 2\n1 2 3 2\n1 3\n2 4", "Yes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "莫队", "线段树", "排序", "可持久化线段树", "进制", "ST 表"], "title": "数列找不同", "background": null, "description": "现有数列 $A_1,A_2,\\ldots,A_N$，$Q$ 个询问 $(L_i,R_i)$，询问 $A_{L_i} ,A_{L_i+1},\\ldots,A_{R_i}$ 是否互不相同。", "inputFormat": "第一行，两个整数 $N,Q$。  \n第二行，$N$ 个整数 $A_1, A_2, \\ldots , A_N$。  \n接下来 $Q$ 行，每行两个整数 $L_i,R_i$。", "outputFormat": "对每个询问输出一行，`Yes` 或 `No`。", "hint": "对于 $50\\%$ 的数据，$N,Q  \\le 10^3$。  \n对于 $100\\%$ 的数据，$1 \\le N,Q \\le 10^5$，$1 \\le A_i \\le N$，$1 \\le L_i \\le R_i \\le N$。", "locale": "zh-CN", "translations": {"en": {"title": "Distinctness in a Sequence", "background": "", "description": "Given a sequence $A_1, A_2, \\ldots, A_N$ and $Q$ queries $(L_i, R_i)$, determine whether $A_{L_i}, A_{L_i+1}, \\ldots, A_{R_i}$ are all different from each other.", "inputFormat": "The first line contains two integers $N, Q$.  \nThe second line contains $N$ integers $A_1, A_2, \\ldots, A_N$.  \nThen $Q$ lines follow, each containing two integers $L_i, R_i$.", "outputFormat": "For each query, output one line: `Yes` or `No`.", "hint": "For $50\\%$ of the testdata, $N, Q \\le 10^3$.  \nFor $100\\%$ of the testdata, $1 \\le N, Q \\le 10^5$, $1 \\le A_i \\le N$, $1 \\le L_i \\le R_i \\le N$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列找不同", "background": null, "description": "现有数列 $A_1,A_2,\\ldots,A_N$，$Q$ 个询问 $(L_i,R_i)$，询问 $A_{L_i} ,A_{L_i+1},\\ldots,A_{R_i}$ 是否互不相同。", "inputFormat": "第一行，两个整数 $N,Q$。  \n第二行，$N$ 个整数 $A_1, A_2, \\ldots , A_N$。  \n接下来 $Q$ 行，每行两个整数 $L_i,R_i$。", "outputFormat": "对每个询问输出一行，`Yes` 或 `No`。", "hint": "对于 $50\\%$ 的数据，$N,Q  \\le 10^3$。  \n对于 $100\\%$ 的数据，$1 \\le N,Q \\le 10^5$，$1 \\le A_i \\le N$，$1 \\le L_i \\le R_i \\le N$。", "locale": "zh-CN"}}}
{"pid": "P3902", "type": "P", "difficulty": 3, "samples": [["3\n1 3 2", "1"], ["8\n1 2 3 4 4 5 6 7", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "二分", "树状数组", "离散化", "线性 DP"], "title": "递增", "background": null, "description": "现有数 $A_1,A_2,\\cdots,A_n$，修改最少的数字为**实数**，使得数列严格单调递增。\n\n注：原题误表述为修改为整数，现已纠正为实数。本题数据确保按照修改为整数的做法也可以 AC。（只是不能过样例）", "inputFormat": "第一行，一个整数 $n$。\n\n第二行，$n$ 个整数 $A_1,A_2,\\cdots,A_n$。", "outputFormat": "一个整数，表示最少修改多少个数字。", "hint": "- 对于 $50\\%$ 的数据，$n \\le 10^3$。\n\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 10^5 , 1 \\le A_i \\le 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Increasing", "background": "", "description": "Given numbers $A_1, A_2, \\cdots, A_n$, modify the fewest elements (to real values) so that the sequence becomes strictly increasing.\n\nNote: The original statement mistakenly said to modify to integers; it has now been corrected to real numbers. The testdata ensures that the integer approach would also AC (it just cannot pass the sample).", "inputFormat": "The first line contains an integer $n$.\n\nThe second line contains $n$ integers $A_1, A_2, \\cdots, A_n$.", "outputFormat": "Output one integer, the minimum number of elements to modify.", "hint": "- Constraints:\n  - For 50% of the testdata, $N \\le 10^3$.\n  - For 100% of the testdata, $1 \\le N \\le 10^5$, $1 \\le A_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "递增", "background": null, "description": "现有数 $A_1,A_2,\\cdots,A_n$，修改最少的数字为**实数**，使得数列严格单调递增。\n\n注：原题误表述为修改为整数，现已纠正为实数。本题数据确保按照修改为整数的做法也可以 AC。（只是不能过样例）", "inputFormat": "第一行，一个整数 $n$。\n\n第二行，$n$ 个整数 $A_1,A_2,\\cdots,A_n$。", "outputFormat": "一个整数，表示最少修改多少个数字。", "hint": "- 对于 $50\\%$ 的数据，$n \\le 10^3$。\n\n- 对于 $100\\%$ 的数据，$1 \\le n \\le 10^5 , 1 \\le A_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P3903", "type": "P", "difficulty": 3, "samples": [["4\n5 3 2 4", "3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "导弹拦截III", "background": null, "description": "很多年以前，A 国发明了一种导弹系统用来拦截敌对势力发射的导弹。\n\n这个系统可以发射一颗导弹拦截由近到远、高度不增加的多个导弹。\n\n但是现在，科学家们发现这个防御系统还不够强大，所以他们发明了另外一套导弹系统。\n\n这个新系统可以发射一颗导弹由近到远的拦截更多的导弹。\n\n当这个系统启动，首先选择一颗敌人的导弹进行拦截，然后拦截一颗更远的高度更低的导弹进行拦截，然后拦截比第二颗更远的但高度更高的导弹……以此类推，拦截的第奇数颗导弹比前一颗导弹更远、更高，拦截的第偶数颗导弹比前一个更远、更低。\n\n现在，给你一个从近到远的导弹高度列表，计算新系统发射一颗导弹可以拦截的最多的导弹数目。", "inputFormat": "第一行是一个整数 $n$，表示敌人发射的导弹数目。接下来的一行有 $n$ 个整数，表示由近到远的。", "outputFormat": "仅一个整数，表示拦截的最多导弹的数量。", "hint": "$1\\leq n\\leq 10^3$，$1\\leq $ 导弹高度 $\\leq 10^9$。", "locale": "zh-CN", "translations": {"en": {"title": "Missile Interception III", "background": "", "description": "Many years ago, Country A invented a missile system to intercept enemy missiles.\n\nThat system can, with a single interceptor missile, shoot down multiple enemy missiles whose heights are non-increasing from near to far.\n\nNow, scientists have found that this defense system is not strong enough, so they invented another missile system.\n\nThis new system can, with a single interceptor missile, intercept more missiles from near to far.\n\nWhen this system starts, it first selects one enemy missile to intercept; then it intercepts a farther missile with a lower height; then it intercepts a missile that is farther than the second one but has a higher height; and so on. In other words, among the intercepted missiles, every odd-numbered one (3rd, 5th, …) is farther and higher than the previous intercepted missile, and every even-numbered one (2nd, 4th, …) is farther and lower than the previous intercepted missile. All comparisons are strict.\n\nGiven a list of missile heights ordered from near to far, compute the maximum number of missiles that the new system can intercept with a single interceptor missile.", "inputFormat": "The first line contains an integer $n$, the number of enemy missiles.  \nThe second line contains $n$ integers, the heights of the missiles from near to far.", "outputFormat": "Output a single integer, the maximum number of missiles that can be intercepted.", "hint": "$1 \\leq n \\leq 10^3$.  \nFor each $i$, $1 \\leq h_i \\leq 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "导弹拦截III", "background": null, "description": "很多年以前，A 国发明了一种导弹系统用来拦截敌对势力发射的导弹。\n\n这个系统可以发射一颗导弹拦截由近到远、高度不增加的多个导弹。\n\n但是现在，科学家们发现这个防御系统还不够强大，所以他们发明了另外一套导弹系统。\n\n这个新系统可以发射一颗导弹由近到远的拦截更多的导弹。\n\n当这个系统启动，首先选择一颗敌人的导弹进行拦截，然后拦截一颗更远的高度更低的导弹进行拦截，然后拦截比第二颗更远的但高度更高的导弹……以此类推，拦截的第奇数颗导弹比前一颗导弹更远、更高，拦截的第偶数颗导弹比前一个更远、更低。\n\n现在，给你一个从近到远的导弹高度列表，计算新系统发射一颗导弹可以拦截的最多的导弹数目。", "inputFormat": "第一行是一个整数 $n$，表示敌人发射的导弹数目。接下来的一行有 $n$ 个整数，表示由近到远的。", "outputFormat": "仅一个整数，表示拦截的最多导弹的数量。", "hint": "$1\\leq n\\leq 10^3$，$1\\leq $ 导弹高度 $\\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P3904", "type": "P", "difficulty": 4, "samples": [["4 2", "7"], ["6 7", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["高精度", "递推", "组合数学", "排列组合", "线性递推"], "title": "三只小猪", "background": "你听说过三只小猪的故事吗？这是一个经典的故事。很久很久以前，有三只小猪。第一只小猪用稻草建的房子，第二个小猪用木棍建的房子，第三个小猪则使用砖做为材料。一只大灰狼想吃掉它们并吹倒了稻草和木棍建的房子。但是砖盖的房子很结实，狼最终也没有破坏掉，最后小猪们战胜了大灰狼并把它尾巴烧掉了。", "description": "为了自己的安全，小猪们又建造了一个新砖房。但是现在问题出现了，怎样把三个小猪分配到两个房子里呢？第三只小猪是三只小猪中最聪明的一只，为了不浪费任何一个房子，它总共考虑了三种方案，如下图\n\n ![](https://cdn.luogu.com.cn/upload/pic/6862.png) \n\n“但是将来怎么办呢？”第三只小猪知道将来随着成员的增多，它们将会盖更多的房子。它想知道给定了房子和猪的数目后，房子的分配方案有多少，但这个问题对于它来说，很明显有点难了，你能帮小猪解决这个问题吗？", "inputFormat": "输入文件 piggy.in，仅有一行，包含两个整数 $n$ 和 $m$，分别表示小猪的数目和房间数（$1\\leq n, m \\leq 50$）。", "outputFormat": "输出文件 piggy.out，仅一个整数，表示将 $n$ 只小猪安置在 $m$ 个房间且没有房间空闲的方案数。", "hint": null, "locale": "zh-CN", "translations": {"en": {"title": "The Three Little Pigs", "background": "Have you heard the story of the Three Little Pigs? It is a classic tale. Long, long ago, there were three little pigs. The first little pig built a house of straw, the second little pig built a house of sticks, and the third little pig used bricks as the material. A big bad wolf wanted to eat them and blew down the straw house and the stick house. But the brick house was very sturdy, and the wolf failed to destroy it. In the end, the little pigs defeated the wolf and burned its tail.", "description": "For their safety, the little pigs built another new brick house. But now a problem arises: how should the three little pigs be assigned to the two houses? The third little pig is the smartest of the three. To avoid wasting any house, it considered a total of three plans, as shown below.\n\n ![](https://cdn.luogu.com.cn/upload/pic/6862.png) \n\n\"But what about the future?\" The third little pig knows that as their group grows, they will build more houses. It wants to know, given the numbers of houses and pigs, how many allocation plans there are. However, this problem is clearly a bit hard for it. Can you help the little pig solve it?", "inputFormat": "The input contains a single line with two integers $n$ and $m$, denoting the number of pigs and the number of houses ($1 \\leq n, m \\leq 50$).", "outputFormat": "Output a single integer: the number of ways to place $n$ pigs into $m$ houses such that no house is left empty.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "三只小猪", "background": "你听说过三只小猪的故事吗？这是一个经典的故事。很久很久以前，有三只小猪。第一只小猪用稻草建的房子，第二个小猪用木棍建的房子，第三个小猪则使用砖做为材料。一只大灰狼想吃掉它们并吹倒了稻草和木棍建的房子。但是砖盖的房子很结实，狼最终也没有破坏掉，最后小猪们战胜了大灰狼并把它尾巴烧掉了。", "description": "为了自己的安全，小猪们又建造了一个新砖房。但是现在问题出现了，怎样把三个小猪分配到两个房子里呢？第三只小猪是三只小猪中最聪明的一只，为了不浪费任何一个房子，它总共考虑了三种方案，如下图\n\n ![](https://cdn.luogu.com.cn/upload/pic/6862.png) \n\n“但是将来怎么办呢？”第三只小猪知道将来随着成员的增多，它们将会盖更多的房子。它想知道给定了房子和猪的数目后，房子的分配方案有多少，但这个问题对于它来说，很明显有点难了，你能帮小猪解决这个问题吗？", "inputFormat": "输入文件 piggy.in，仅有一行，包含两个整数 $n$ 和 $m$，分别表示小猪的数目和房间数（$1\\leq n, m \\leq 50$）。", "outputFormat": "输出文件 piggy.out，仅一个整数，表示将 $n$ 只小猪安置在 $m$ 个房间且没有房间空闲的方案数。", "hint": null, "locale": "zh-CN"}}}
{"pid": "P3905", "type": "P", "difficulty": 3, "samples": [["3\n2\n1 2 1\n2 3 2\n1\n1 2\n1 3", "1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "最短路", "队列"], "title": "道路重建", "background": "", "description": "从前，在一个王国中，在 $n$ 个城市间有 $m$ 条道路连接，而且任意两个城市之间至多有一条道路直接相连。在经过一次严重的战争之后，有 $d$ 条道路被破坏了。国王想要修复国家的道路系统，现在有两个重要城市 $A$ 和 $B$ 之间的交通中断，国王希望尽快的恢复两个城市之间的连接。你的任务就是修复一些道路使 $A$ 与 $B$ 之间的连接恢复，并要求修复的道路长度最小。", "inputFormat": "输入文件第一行为一个整数 $n\\ (2<n\\le 100)$，表示城市的个数。这些城市编号从 $1$ 到 $n$。\n\n第二行为一个整数 $m\\ (n-1\\le m\\le \\dfrac{1}{2}n(n-1))$，表示道路的数目。\n\n接下来的 $m$ 行，每行 $3$ 个整数 $i,j,k\\ (1 \\le i,j \\le n,i\\neq j,0<k \\le 100)$，表示城市 $i$ 与 $j$ 之间有一条长为 $k$ 的道路相连。\n\n接下来一行为一个整数 $d\\ (1\\le d\\le m)$，表示战后被破坏的道路的数目。在接下来的 $d$ 行中，每行两个整数 $i$ 和 $j$，表示城市 $i$ 与 $j$ 之间直接相连的道路被破坏。\n\n最后一行为两个整数 $A$ 和 $B$，代表需要恢复交通的两个重要城市。", "outputFormat": "输出文件仅一个整数，表示恢复 $A$ 与 $B$ 间的交通需要修复的道路总长度的最小值。\n", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Road Reconstruction", "background": "", "description": "Once, in a kingdom, there were $m$ roads connecting $n$ cities, and between any two cities there was at most one direct road. After a severe war, $d$ roads were destroyed. The king wants to repair the country's road system. Now, traffic between two important cities $A$ and $B$ is interrupted, and the king hopes to restore the connection between these two cities as soon as possible. Your task is to repair some roads to restore the connection between $A$ and $B$, while minimizing the total length of the repaired roads.", "inputFormat": "The first line contains an integer $n\\ (2<n\\le 100)$, representing the number of cities. These cities are numbered from $1$ to $n$.\n\nThe second line contains an integer $m\\ (n-1\\le m\\le \\dfrac{1}{2}n(n-1))$, representing the number of roads.\n\nEach of the next $m$ lines contains $3$ integers $i,j,k\\ (1 \\le i,j \\le n,i\\neq j,0<k \\le 100)$, indicating that there is a road of length $k$ directly connecting city $i$ and city $j$.\n\nThe next line contains an integer $d\\ (1\\le d\\le m)$, representing the number of roads that were destroyed after the war. In each of the following $d$ lines, there are two integers $i$ and $j$, indicating that the road directly connecting city $i$ and city $j$ was destroyed.\n\nThe last line contains two integers $A$ and $B$, representing the two important cities whose traffic needs to be restored.", "outputFormat": "Output a single integer, representing the minimal total length of roads that must be repaired to restore traffic between $A$ and $B$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "道路重建", "background": "", "description": "从前，在一个王国中，在 $n$ 个城市间有 $m$ 条道路连接，而且任意两个城市之间至多有一条道路直接相连。在经过一次严重的战争之后，有 $d$ 条道路被破坏了。国王想要修复国家的道路系统，现在有两个重要城市 $A$ 和 $B$ 之间的交通中断，国王希望尽快的恢复两个城市之间的连接。你的任务就是修复一些道路使 $A$ 与 $B$ 之间的连接恢复，并要求修复的道路长度最小。", "inputFormat": "输入文件第一行为一个整数 $n\\ (2<n\\le 100)$，表示城市的个数。这些城市编号从 $1$ 到 $n$。\n\n第二行为一个整数 $m\\ (n-1\\le m\\le \\dfrac{1}{2}n(n-1))$，表示道路的数目。\n\n接下来的 $m$ 行，每行 $3$ 个整数 $i,j,k\\ (1 \\le i,j \\le n,i\\neq j,0<k \\le 100)$，表示城市 $i$ 与 $j$ 之间有一条长为 $k$ 的道路相连。\n\n接下来一行为一个整数 $d\\ (1\\le d\\le m)$，表示战后被破坏的道路的数目。在接下来的 $d$ 行中，每行两个整数 $i$ 和 $j$，表示城市 $i$ 与 $j$ 之间直接相连的道路被破坏。\n\n最后一行为两个整数 $A$ 和 $B$，代表需要恢复交通的两个重要城市。", "outputFormat": "输出文件仅一个整数，表示恢复 $A$ 与 $B$ 间的交通需要修复的道路总长度的最小值。\n", "hint": "", "locale": "zh-CN"}}}
{"pid": "P3906", "type": "P", "difficulty": 3, "samples": [["5 6\n1 2\n1 3\n2 3\n2 4\n3 5\n4 5\n3\n2 5\n5 1\n2 4", "2 3 4 5\n1 3 5\n2 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["图论", "枚举", "排序", "最短路"], "title": "Geodetic集合", "background": "", "description": "图 $\\text G$ 是一个无向连通图，没有自环，并且两点之间至多只有一条边。我们定义顶点 $v,u$ 的最短路径就是从 $v$ 到 $u$ 经过边最少的路径。所有包含在 $v-u$ 的最短路径上的顶点被称为 $v-u$ 的 Geodetic 顶点，这些顶点的集合记作 $I(v,u)$。\n\n我们称集合 $I(v,u)$ 为一个 Geodetic 集合。\n\n例如下图中，$I(2,5)=\\{2,3,4,5\\}$，$I(1,5)=\\{1,3,5\\}$，$I(2,4)=\\{2,4\\}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/26c7a19d.png)\n\n给定一个图 $\\text G$ 和若干点对 $v,u$，请你分别求出 $I(v,u)$。", "inputFormat": "第一行为两个整数 $n,m$，分别表示图 $\\text G$ 的顶点数和边数（顶点编号为 $1\\sim n$）。\n\n接下来 $m$ 行，每行两个整数 $a,b$，表示 顶点 $a$ 和 $b$ 之间有一条无向边。\n\n第 $m+2$ 行有一个整数 $k$，表示给定的点对数。  \n接下来 $k$ 行，每行两个整数 $v,u$，表示每个点对的起点和终点。", "outputFormat": "共 $k$ 行，对于输入文件中每一个点对 $v,u$，按顶点顺序一行输出 $I(v,u)$ 里面的所有点的编号。", "hint": "对于所有数据，满足 $1\\leq n\\leq 40$，$1\\leq m,k\\leq \\frac{n(n-1)}2$。", "locale": "zh-CN", "translations": {"en": {"title": "Geodetic Set", "background": "", "description": "A graph $\\text G$ is an undirected connected graph with no self-loops, and there is at most one edge between any two vertices. We define the shortest path between vertices $v$ and $u$ as a path from $v$ to $u$ that uses the fewest edges. Every vertex that lies on some shortest $v$-$u$ path is called a $v$-$u$ Geodetic vertex, and the set of these vertices is denoted by $I(v,u)$.\n\nWe call the set $I(v,u)$ a Geodetic set.\n\nFor example, in the figure below, $I(2,5)=\\{2,3,4,5\\}$, $I(1,5)=\\{1,3,5\\}$, and $I(2,4)=\\{2,4\\}$.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/26c7a19d.png)\n\nGiven a graph $\\text G$ and several pairs $v, u$, please compute $I(v,u)$ for each pair.", "inputFormat": "The first line contains two integers $n, m$, representing the number of vertices and edges of $\\text G$ (vertices are numbered $1 \\sim n$).\n\nThe next $m$ lines each contain two integers $a, b$, indicating that there is an undirected edge between vertices $a$ and $b$.\n\nThe $(m+2)$-th line contains an integer $k$, representing the number of given pairs.  \nThe next $k$ lines each contain two integers $v, u$, the start and end vertices of each pair.", "outputFormat": "Output $k$ lines. For each pair $v, u$ in the input, output in one line all vertex indices in $I(v,u)$ in increasing order of vertex indices.", "hint": "For all testdata, $1 \\le n \\le 40$, $1 \\le m, k \\le \\frac{n(n-1)}{2}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "Geodetic集合", "background": "", "description": "图 $\\text G$ 是一个无向连通图，没有自环，并且两点之间至多只有一条边。我们定义顶点 $v,u$ 的最短路径就是从 $v$ 到 $u$ 经过边最少的路径。所有包含在 $v-u$ 的最短路径上的顶点被称为 $v-u$ 的 Geodetic 顶点，这些顶点的集合记作 $I(v,u)$。\n\n我们称集合 $I(v,u)$ 为一个 Geodetic 集合。\n\n例如下图中，$I(2,5)=\\{2,3,4,5\\}$，$I(1,5)=\\{1,3,5\\}$，$I(2,4)=\\{2,4\\}$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/26c7a19d.png)\n\n给定一个图 $\\text G$ 和若干点对 $v,u$，请你分别求出 $I(v,u)$。", "inputFormat": "第一行为两个整数 $n,m$，分别表示图 $\\text G$ 的顶点数和边数（顶点编号为 $1\\sim n$）。\n\n接下来 $m$ 行，每行两个整数 $a,b$，表示 顶点 $a$ 和 $b$ 之间有一条无向边。\n\n第 $m+2$ 行有一个整数 $k$，表示给定的点对数。  \n接下来 $k$ 行，每行两个整数 $v,u$，表示每个点对的起点和终点。", "outputFormat": "共 $k$ 行，对于输入文件中每一个点对 $v,u$，按顶点顺序一行输出 $I(v,u)$ 里面的所有点的编号。", "hint": "对于所有数据，满足 $1\\leq n\\leq 40$，$1\\leq m,k\\leq \\frac{n(n-1)}2$。", "locale": "zh-CN"}}}
{"pid": "P3907", "type": "P", "difficulty": 5, "samples": [["2\n3 3\n1 2 1\n2 3 2\n3 1 3\n1 1\n1 1 1", "Yes\nNo"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "图论"], "title": "环的异或", "background": null, "description": "给出无向图 G，边 $(A_i,B_i)$ 的权是 $C_i$，判断下列性质是否成立：\n\n对于任意环 C，其边权的异或和是 $0$。", "inputFormat": "第 $1$ 行，$1$ 个整数 $T$，表示数据的组数。\n\n每组数据第 $1$ 行，$2$ 个整数 $N,M$，表示图 G 点和边的数量。\n\n接下来 $M$ 行，每行 $3$ 个整数 $A_i,B_i,C_i$。", "outputFormat": "对每个数据输出一行，`Yes` 或者 `No`。", "hint": "- 对于 $50\\%$ 的数据，$N,M \\le 20$。\n\n- 对于 $100\\%$ 的数据，$1 \\le T \\le 10$，$1 \\le N,M \\le 50$，$1 \\le A_i,B_i \\le N$，$0 \\le C_i < 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "XOR of Cycles", "background": "", "description": "Given an undirected graph $G$, the weight of edge $(A_i, B_i)$ is $C_i$. Determine whether the following property holds: For any cycle $C$, the XOR of the edge weights along $C$ is $0$.", "inputFormat": "The first line contains an integer $T$, denoting the number of test cases.\nFor each test case, the first line contains two integers $N, M$, denoting the numbers of vertices and edges of graph $G$.\nThe next $M$ lines each contain three integers $A_i, B_i, C_i$.", "outputFormat": "For each test case, output one line: Yes or No.", "hint": "- For 50% of the testdata, $N, M \\le 20$.\n- For 100% of the testdata, $1 \\le T \\le 10$, $1 \\le N, M \\le 50$, $1 \\le A_i, B_i \\le N$, $0 \\le C_i < 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "环的异或", "background": null, "description": "给出无向图 G，边 $(A_i,B_i)$ 的权是 $C_i$，判断下列性质是否成立：\n\n对于任意环 C，其边权的异或和是 $0$。", "inputFormat": "第 $1$ 行，$1$ 个整数 $T$，表示数据的组数。\n\n每组数据第 $1$ 行，$2$ 个整数 $N,M$，表示图 G 点和边的数量。\n\n接下来 $M$ 行，每行 $3$ 个整数 $A_i,B_i,C_i$。", "outputFormat": "对每个数据输出一行，`Yes` 或者 `No`。", "hint": "- 对于 $50\\%$ 的数据，$N,M \\le 20$。\n\n- 对于 $100\\%$ 的数据，$1 \\le T \\le 10$，$1 \\le N,M \\le 50$，$1 \\le A_i,B_i \\le N$，$0 \\le C_i < 10^5$。", "locale": "zh-CN"}}}
{"pid": "P3908", "type": "P", "difficulty": 3, "samples": [["3", "0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "递归", "进制"], "title": "数列之异或", "background": null, "description": "求 $1 \\oplus 2 \\oplus\\cdots\\oplus N$ 的值。\n\n$A \\oplus B$ 即为 $A,B$ 按位异或后的值。", "inputFormat": "一行一个整数 $N$。", "outputFormat": "一个整数，表示所求的值。", "hint": "- 对于 $50\\%$ 的数据，$1 \\le N \\le 10^6$；\n\n- 对于 $100\\%$ 的数据，$1 \\le N \\le 10^{18}$。", "locale": "zh-CN", "translations": {"en": {"title": "XOR of a Sequence", "background": "", "description": "Find the value of $1 \\oplus 2 \\oplus\\cdots\\oplus N$.\n\n$A \\oplus B$ denotes the bitwise XOR of $A,B$.", "inputFormat": "One line with an integer $N$.", "outputFormat": "One integer, the answer.", "hint": "- For 50% of the testdata, $1 \\le N \\le 10^6$.\n- For 100% of the testdata, $1 \\le N \\le 10^{18}$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "数列之异或", "background": null, "description": "求 $1 \\oplus 2 \\oplus\\cdots\\oplus N$ 的值。\n\n$A \\oplus B$ 即为 $A,B$ 按位异或后的值。", "inputFormat": "一行一个整数 $N$。", "outputFormat": "一个整数，表示所求的值。", "hint": "- 对于 $50\\%$ 的数据，$1 \\le N \\le 10^6$；\n\n- 对于 $100\\%$ 的数据，$1 \\le N \\le 10^{18}$。", "locale": "zh-CN"}}}
{"pid": "P3909", "type": "P", "difficulty": 3, "samples": [["3\n1 2 3", "36"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "前缀和"], "title": "异或之积", "background": "", "description": "对于$A_1,A_2,A_3,\\cdots,A_N$，求\n\n$$(6\\times \\sum_{i=1}^N\\sum_{j=i+1}^N\\sum_{k=j+1}^N A_i\\times A_j\\times A_k) \\bmod (10^9+7)$$\n", "inputFormat": "第 1 行，1 个整数$N$。\n\n第 2 行，$N$ 个整数 $A_1,A_2,A_3,\\cdots,A_N$。", "outputFormat": "1 个整数，表示所求的值。\n", "hint": "- 对于 $30\\%$ 的数据，$N \\le 500$；\n- 对于 $60\\%$ 的数据，$N \\le 5000$；\n- 对于 $100\\%$ 的数据，$3 \\le N \\le 10^6$，$0 \\le A_i \\le 10^9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "XOR Product", "background": "", "description": "For $A_1, A_2, A_3, \\cdots, A_N$, compute\n$$(6\\times \\sum_{i=1}^N\\sum_{j=i+1}^N\\sum_{k=j+1}^N A_i\\times A_j\\times A_k) \\bmod (10^9+7)$$", "inputFormat": "Line 1: one integer $N$.\n\nLine 2: $N$ integers $A_1, A_2, A_3, \\cdots, A_N$.", "outputFormat": "One integer, representing the required value.", "hint": "- For 30% of the testdata, $N \\le 500$.\n- For 60% of the testdata, $N \\le 5000$.\n- For 100% of the testdata, $3 \\le N \\le 10^6$, $0 \\le A_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "异或之积", "background": "", "description": "对于$A_1,A_2,A_3,\\cdots,A_N$，求\n\n$$(6\\times \\sum_{i=1}^N\\sum_{j=i+1}^N\\sum_{k=j+1}^N A_i\\times A_j\\times A_k) \\bmod (10^9+7)$$\n", "inputFormat": "第 1 行，1 个整数$N$。\n\n第 2 行，$N$ 个整数 $A_1,A_2,A_3,\\cdots,A_N$。", "outputFormat": "1 个整数，表示所求的值。\n", "hint": "- 对于 $30\\%$ 的数据，$N \\le 500$；\n- 对于 $60\\%$ 的数据，$N \\le 5000$；\n- 对于 $100\\%$ 的数据，$3 \\le N \\le 10^6$，$0 \\le A_i \\le 10^9$。\n", "locale": "zh-CN"}}}
{"pid": "P3910", "type": "P", "difficulty": 3, "samples": [["20 15", "[1,5]\n[4,6]\n[7,8]\n[15,15]"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "枚举"], "title": "纪念邮票", "background": "", "description": "邮局最近推出了一套纪念邮票，这套邮票共有 $N$ 张，邮票面值各不相同，按编号顺序为 $1$ 分，$2$ 分，……，$N$ 分。\n\n小明是个集邮爱好者，他很喜欢这套邮票，可惜现在他身上只有 $M$ 分，并不够把全套都买下，但是他希望刚好花光所有的钱。作为一个集邮爱好者，小明也不想买的邮票编号断断续续，所以小明打算买面值 $a$ 分至 $b$ 分的 $b-a+1$ 张连续的邮票，且总价值刚好为 $M$ 分。\n\n你的任务是求出所有符合要求的方案，以 $\\left[a,b\\right]$ 的形式输出。", "inputFormat": "输入文件只有一行。包含两个整数 $N$ 和 $M$（$1\\le N,M \\le 10^9$），之间用空格隔开。", "outputFormat": "输出文件每行包含一个合法方案：$\\left[a,b\\right]$，按 $a$ 值从小到大输出。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Commemorative Stamps", "background": "", "description": "The post office has recently released a set of commemorative stamps. There are $N$ stamps in this set, each with a different face value, in order $1$ cent, $2$ cents, …, $N$ cents.\n\nXiaoming is a stamp collector. He likes this set very much, but he only has $M$ cents, which is not enough to buy the whole set. However, he wants to spend exactly all his money. As a collector, he also does not want the stamp numbers to be discontinuous, so he plans to buy $b-a+1$ consecutive stamps with values from $a$ cents to $b$ cents, and the total value is exactly $M$ cents.\n\nYour task is to find all valid plans and output them in the form $\\left[a,b\\right]$.", "inputFormat": "The input consists of a single line containing two integers $N$ and $M$ ($1 \\le N, M \\le 10^9$), separated by a space.", "outputFormat": "Output each valid plan on a separate line as $\\left[a,b\\right]$, in increasing order of $a$.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "纪念邮票", "background": "", "description": "邮局最近推出了一套纪念邮票，这套邮票共有 $N$ 张，邮票面值各不相同，按编号顺序为 $1$ 分，$2$ 分，……，$N$ 分。\n\n小明是个集邮爱好者，他很喜欢这套邮票，可惜现在他身上只有 $M$ 分，并不够把全套都买下，但是他希望刚好花光所有的钱。作为一个集邮爱好者，小明也不想买的邮票编号断断续续，所以小明打算买面值 $a$ 分至 $b$ 分的 $b-a+1$ 张连续的邮票，且总价值刚好为 $M$ 分。\n\n你的任务是求出所有符合要求的方案，以 $\\left[a,b\\right]$ 的形式输出。", "inputFormat": "输入文件只有一行。包含两个整数 $N$ 和 $M$（$1\\le N,M \\le 10^9$），之间用空格隔开。", "outputFormat": "输出文件每行包含一个合法方案：$\\left[a,b\\right]$，按 $a$ 值从小到大输出。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P3911", "type": "P", "difficulty": 6, "samples": [["2\n2 3", "17"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "莫比乌斯反演"], "title": "最小公倍数之和", "background": "", "description": "对于$A_1,A_2,\\cdots,A_N$，求\n\n$\\sum_{i=1}^N\\sum_{j=1}^N \\mathrm{lcm}(A_i,A_j)$\n\n的值。\n\n$\\mathrm{lcm}(a,b)$ 表示 $a$ 和 $b$ 的最小公倍数。\n", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个整数 $A_1,A_2,\\cdots,A_N$。\n", "outputFormat": "一行一个整数，表示所求的值。\n", "hint": "对于 $30\\%$ 的数据，$1 \\le N \\le 1000$，$1 \\le A_i \\le 5\\times 10^4$。\n\n对于另外 $30\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le A_i \\le 1000$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le A_i \\le 5\\times 10^4$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Sum of Least Common Multiples", "background": "", "description": "For $A_1, A_2, \\cdots, A_N$, compute the following value.\n\n$\\sum_{i=1}^N\\sum_{j=1}^N \\mathrm{lcm}(A_i,A_j)$\n\nHere, $\\mathrm{lcm}(a, b)$ denotes the least common multiple of $a$ and $b$.", "inputFormat": "The first line contains an integer $N$.\n\nThe second line contains $N$ integers $A_1, A_2, \\cdots, A_N$.", "outputFormat": "Output one integer in a single line, representing the required value.", "hint": "Constraints:\n- For 30% of the testdata, $1 \\le N \\le 1000$, $1 \\le A_i \\le 5 \\times 10^4$.\n- For another 30% of the testdata, $1 \\le N \\le 5 \\times 10^4$, $1 \\le A_i \\le 1000$.\n- For 100% of the testdata, $1 \\le N \\le 5 \\times 10^4$, $1 \\le A_i \\le 5 \\times 10^4$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "最小公倍数之和", "background": "", "description": "对于$A_1,A_2,\\cdots,A_N$，求\n\n$\\sum_{i=1}^N\\sum_{j=1}^N \\mathrm{lcm}(A_i,A_j)$\n\n的值。\n\n$\\mathrm{lcm}(a,b)$ 表示 $a$ 和 $b$ 的最小公倍数。\n", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$ 个整数 $A_1,A_2,\\cdots,A_N$。\n", "outputFormat": "一行一个整数，表示所求的值。\n", "hint": "对于 $30\\%$ 的数据，$1 \\le N \\le 1000$，$1 \\le A_i \\le 5\\times 10^4$。\n\n对于另外 $30\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le A_i \\le 1000$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 5\\times 10^4$，$1 \\le A_i \\le 5\\times 10^4$。\n", "locale": "zh-CN"}}}
{"pid": "P3912", "type": "P", "difficulty": 2, "samples": [["10", "4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "枚举", "素数判断,质数,筛法"], "title": "素数个数", "background": "", "description": "求 $1,2,\\cdots,N$ 中素数的个数。\n", "inputFormat": "一行一个整数 $N$。\n", "outputFormat": "一行一个整数，表示素数的个数。\n", "hint": "对于 $40\\%$ 的数据，$1 \\le N \\le 10^6$。\n\n对于 $80\\%$ 的数据，$1 \\le N \\le 10^7$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^8$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Number of Primes", "background": "", "description": "Find the number of primes among $1, 2, \\cdots, N$.", "inputFormat": "One line containing an integer $N$.", "outputFormat": "One line containing an integer, representing the number of primes.", "hint": "For $40\\%$ of the testdata, $1 \\le N \\le 10^6$.\n\nFor $80\\%$ of the testdata, $1 \\le N \\le 10^7$.\n\nFor $100\\%$ of the testdata, $1 \\le N \\le 10^8$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "素数个数", "background": "", "description": "求 $1,2,\\cdots,N$ 中素数的个数。\n", "inputFormat": "一行一个整数 $N$。\n", "outputFormat": "一行一个整数，表示素数的个数。\n", "hint": "对于 $40\\%$ 的数据，$1 \\le N \\le 10^6$。\n\n对于 $80\\%$ 的数据，$1 \\le N \\le 10^7$。\n\n对于 $100\\%$ 的数据，$1 \\le N \\le 10^8$。\n", "locale": "zh-CN"}}}
{"pid": "P3913", "type": "P", "difficulty": 2, "samples": [["3 2\n1 2\n2 2", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "排序"], "title": "车的攻击", "background": null, "description": "$N \\times N$ 的国际象棋棋盘上有 $K$ 个车，第 $i$ 个车位于第 $R_i$ 行，第 $C_i$ 列。求至少被一个车攻击的格子数量。\n\n车可以攻击所有同一行或者同一列的地方。", "inputFormat": "第 $1$ 行，$2$ 个整数 $N,K$。\n\n接下来 $K$ 行，每行 $2$ 个整数 $R_i,C_i$。", "outputFormat": "$1$ 个整数，表示被攻击的格子数量。", "hint": "• 对于 $30\\%$ 的数据，$1 \\le N \\le 10^3$，$1 \\le K \\le 10^3$；\n\n• 对于 $60\\%$ 的数据，$1 \\le N \\le 10^6$，$1 \\le K \\le 10^6$；\n\n• 对于 $100\\%$ 的数据，$1 \\le N \\le 10^9$，$1 \\le K \\le 10^6$，$1 \\le R_i , C_i \\le N$。", "locale": "zh-CN", "translations": {"en": {"title": "Rooks' Attack", "background": "", "description": "On an $N \\times N$ chessboard, there are $K$ rooks. The $i$-th rook is located at row $R_i$ and column $C_i$. Find the number of cells attacked by at least one rook.\n\nA rook can attack all cells in the same row or the same column.", "inputFormat": "The first line contains 2 integers $N, K$.\n\nThe next $K$ lines each contain 2 integers $R_i, C_i$.", "outputFormat": "Output one integer, the number of cells that are attacked.", "hint": "• For 30% of the testdata, $1 \\le N \\le 10^3; 1 \\le K \\le 10^3$.\n\n• For 60% of the testdata, $1 \\le N \\le 10^6; 1 \\le K \\le 10^6$.\n\n• For 100% of the testdata, $1 \\le N \\le 10^9; 1 \\le K \\le 10^6; 1 \\le R_i, C_i \\le N$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "车的攻击", "background": null, "description": "$N \\times N$ 的国际象棋棋盘上有 $K$ 个车，第 $i$ 个车位于第 $R_i$ 行，第 $C_i$ 列。求至少被一个车攻击的格子数量。\n\n车可以攻击所有同一行或者同一列的地方。", "inputFormat": "第 $1$ 行，$2$ 个整数 $N,K$。\n\n接下来 $K$ 行，每行 $2$ 个整数 $R_i,C_i$。", "outputFormat": "$1$ 个整数，表示被攻击的格子数量。", "hint": "• 对于 $30\\%$ 的数据，$1 \\le N \\le 10^3$，$1 \\le K \\le 10^3$；\n\n• 对于 $60\\%$ 的数据，$1 \\le N \\le 10^6$，$1 \\le K \\le 10^6$；\n\n• 对于 $100\\%$ 的数据，$1 \\le N \\le 10^9$，$1 \\le K \\le 10^6$，$1 \\le R_i , C_i \\le N$。", "locale": "zh-CN"}}}
{"pid": "P3914", "type": "P", "difficulty": 4, "samples": [["2 2\n1 1\n2 1 2\n1 2", "1"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "数学", "枚举", "深度优先搜索 DFS"], "title": "染色计数", "background": "", "description": "有一颗$N$个节点的树，节点用$1,2,\\cdots,N$编号。你要给它染色，使得相邻节点的颜色不同。有$M$种颜色，用$1,2,\\cdots,M$编号。每个节点可以染$M$种颜色中的若干种，求不同染色方案的数量除以($10^9 + 7$)的余数。\n", "inputFormat": "第1 行，2 个整数$N,M$。\n\n接下来$N$行，第$i$行表示节点$i$可以染的颜色。第1个整数$k_i$，表示可以染的颜色数量。接下来$k_i$个整数，表示可以染的颜色编号。\n\n最后$N - 1$行，每行2个整数$A_i,B_i$，表示边$(A_i,B_i)$。\n", "outputFormat": "1 个整数，表示所有的数。\n", "hint": "• 对于30% 的数据，$1 \\le N \\le 10; 1 \\le M \\le 4$；\n\n• 对于60% 的数据，$1 \\le N \\le 200; 1 \\le M \\le 200$；\n\n• 对于100% 的数据，$1 \\le N \\le 5000; 1 \\le M \\le 5000$。\n", "locale": "zh-CN", "translations": {"en": {"title": "Coloring Count", "background": "", "description": "There is a tree with $N$ nodes, numbered $1, 2, \\cdots, N$. You need to color it so that adjacent nodes have different colors. There are $M$ colors, numbered $1, 2, \\cdots, M$. Each node may be colored with a subset of the $M$ colors. Compute the number of different valid colorings modulo $10^9 + 7$.", "inputFormat": "The first line contains two integers $N, M$.\n\nThen follow $N$ lines. The $i$-th line describes the colors allowed for node $i$: the first integer $k_i$ is the number of allowed colors, followed by $k_i$ integers giving the allowed color indices.\n\nFinally, the last $N - 1$ lines each contain two integers $A_i, B_i$, indicating an edge $(A_i, B_i)$.", "outputFormat": "Output one integer, the number of valid colorings modulo $10^9 + 7$.", "hint": "• For 30% of the testdata, $1 \\le N \\le 10; 1 \\le M \\le 4$.\n\n• For 60% of the testdata, $1 \\le N \\le 200; 1 \\le M \\le 200$.\n\n• For 100% of the testdata, $1 \\le N \\le 5000; 1 \\le M \\le 5000$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "染色计数", "background": "", "description": "有一颗$N$个节点的树，节点用$1,2,\\cdots,N$编号。你要给它染色，使得相邻节点的颜色不同。有$M$种颜色，用$1,2,\\cdots,M$编号。每个节点可以染$M$种颜色中的若干种，求不同染色方案的数量除以($10^9 + 7$)的余数。\n", "inputFormat": "第1 行，2 个整数$N,M$。\n\n接下来$N$行，第$i$行表示节点$i$可以染的颜色。第1个整数$k_i$，表示可以染的颜色数量。接下来$k_i$个整数，表示可以染的颜色编号。\n\n最后$N - 1$行，每行2个整数$A_i,B_i$，表示边$(A_i,B_i)$。\n", "outputFormat": "1 个整数，表示所有的数。\n", "hint": "• 对于30% 的数据，$1 \\le N \\le 10; 1 \\le M \\le 4$；\n\n• 对于60% 的数据，$1 \\le N \\le 200; 1 \\le M \\le 200$；\n\n• 对于100% 的数据，$1 \\le N \\le 5000; 1 \\le M \\le 5000$。\n", "locale": "zh-CN"}}}
{"pid": "P3915", "type": "P", "difficulty": 3, "samples": [["2\n4 2\n1 2\n2 3\n3 4\n4 2\n1 2\n1 3\n1 4\n", "YES\nNO"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "树形数据结构", "深度优先搜索 DFS"], "title": "树的分解", "background": "", "description": "给出 $N$ 个点的树和 $K$，问能否把树划分成 $\\frac{N}{K}$ 个连通块，且每个连通块的点数都是 $K$。", "inputFormat": "第一行，一个整数 $T$，表示数据组数。接下来 $T$ 组数据，对于每组数据：\n\n第一行，两个整数 $N, K$。\n\n接下来 $N - 1$ 行，每行两个整数 $A_i, B_i$，表示边 $(A_i, B_i)$。点用 $1, 2, \\ldots, N$ 编号。", "outputFormat": "对于每组数据，输出 `YES` 或 `NO`。", "hint": "- 对于 $60 \\%$ 的数据，$1 \\le N, K \\le 10^3$；\n- 对于 $100 \\%$ 的数据，$1 \\le T \\le 10$，$1 \\le N ,K \\le 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Tree Decomposition", "background": "", "description": "Given a tree with $N$ vertices and an integer $K$, determine whether it can be partitioned into $\\frac{N}{K}$ connected components, each containing exactly $K$ vertices.", "inputFormat": "The first line contains an integer $T$, the number of test cases. Then follow $T$ test cases:\n\nThe first line of each test case contains two integers $N, K$.\n\nThe next $N - 1$ lines each contain two integers $A_i, B_i$, denoting the edge $(A_i, B_i)$. The vertices are labeled $1, 2, \\ldots, N$.", "outputFormat": "For each test case, output `YES` or `NO`.", "hint": "- For $60\\%$ of the testdata, $1 \\le N, K \\le 10^3$.\n- For $100\\%$ of the testdata, $1 \\le T \\le 10$, $1 \\le N, K \\le 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "树的分解", "background": "", "description": "给出 $N$ 个点的树和 $K$，问能否把树划分成 $\\frac{N}{K}$ 个连通块，且每个连通块的点数都是 $K$。", "inputFormat": "第一行，一个整数 $T$，表示数据组数。接下来 $T$ 组数据，对于每组数据：\n\n第一行，两个整数 $N, K$。\n\n接下来 $N - 1$ 行，每行两个整数 $A_i, B_i$，表示边 $(A_i, B_i)$。点用 $1, 2, \\ldots, N$ 编号。", "outputFormat": "对于每组数据，输出 `YES` 或 `NO`。", "hint": "- 对于 $60 \\%$ 的数据，$1 \\le N, K \\le 10^3$；\n- 对于 $100 \\%$ 的数据，$1 \\le T \\le 10$，$1 \\le N ,K \\le 10^5$。", "locale": "zh-CN"}}}
{"pid": "P3916", "type": "P", "difficulty": 3, "samples": [["4 3\n1 2\n2 4\n4 3", "4 4 3 4"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["搜索", "图论", "广度优先搜索 BFS", "深度优先搜索 DFS", "图论建模", "强连通分量"], "title": "图的遍历", "background": null, "description": "给出 $N$ 个点，$M$ 条边的有向图，对于每个点 $v$，令 $A(v)$ 表示从点 $v$ 出发，能到达的编号最大的点。现在请求出 $A(1),A(2),\\dots,A(N)$ 的值。", "inputFormat": "第 $1$ 行 $2$ 个整数 $N,M$，表示点数和边数。\n\n接下来 $M$ 行，每行 $2$ 个整数 $U_i,V_i$，表示边 $(U_i,V_i)$。点用 $1,2,\\dots,N$ 编号。", "outputFormat": "一行 $N$ 个整数 $A(1),A(2),\\dots,A(N)$。", "hint": "- 对于 $60\\%$ 的数据，$1 \\leq N,M \\leq 10^3$。\n- 对于 $100\\%$ 的数据，$1 \\leq N,M \\leq 10^5$。", "locale": "zh-CN", "translations": {"en": {"title": "Graph Traversal", "background": "", "description": "Given a directed graph with $N$ vertices and $M$ edges, for each vertex $v$, let $A(v)$ denote the reachable vertex with the largest index starting from $v$. Now compute $A(1), A(2), \\dots, A(N)$.", "inputFormat": "The first line contains two integers $N, M$, denoting the number of vertices and edges.\nThe next $M$ lines each contain two integers $U_i, V_i$, representing the edge $(U_i, V_i)$. Vertices are labeled $1, 2, \\dots, N$.", "outputFormat": "One line with $N$ integers $A(1), A(2), \\dots, A(N)$.", "hint": "- For $60\\%$ of the testdata, $1 \\leq N, M \\leq 10^3$.\n- For $100\\%$ of the testdata, $1 \\leq N, M \\leq 10^5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "图的遍历", "background": null, "description": "给出 $N$ 个点，$M$ 条边的有向图，对于每个点 $v$，令 $A(v)$ 表示从点 $v$ 出发，能到达的编号最大的点。现在请求出 $A(1),A(2),\\dots,A(N)$ 的值。", "inputFormat": "第 $1$ 行 $2$ 个整数 $N,M$，表示点数和边数。\n\n接下来 $M$ 行，每行 $2$ 个整数 $U_i,V_i$，表示边 $(U_i,V_i)$。点用 $1,2,\\dots,N$ 编号。", "outputFormat": "一行 $N$ 个整数 $A(1),A(2),\\dots,A(N)$。", "hint": "- 对于 $60\\%$ 的数据，$1 \\leq N,M \\leq 10^3$。\n- 对于 $100\\%$ 的数据，$1 \\leq N,M \\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P3917", "type": "P", "difficulty": 4, "samples": [["2\n1 2", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["数学", "枚举", "进制"], "title": "异或序列", "background": "", "description": "给出序列 $A_1,A_2,\\cdots,A_N$，求\n\n$$\\sum_{1\\le i\\le j\\le N} A_i\\oplus A_{i+1}\\oplus\\cdots\\oplus A_j$$\n\n的值。其中，$\\bigoplus$ 表示按位异或。\n", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$个整数 $A_1,A_2,\\cdots,A_N$。\n", "outputFormat": "一个数，为表达式的值。", "hint": "- 对于 $60\\%$ 的数据，$1 \\le N \\le 10^3$；\n- 对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$0 \\le A_i \\le 10^9$。\n", "locale": "zh-CN", "translations": {"en": {"title": "XOR Sequence", "background": "", "description": "Given a sequence $A_1, A_2, \\cdots, A_N$, compute\n$$\\sum_{1\\le i\\le j\\le N} A_i\\oplus A_{i+1}\\oplus\\cdots\\oplus A_j$$\nwhere $\\bigoplus$ denotes bitwise XOR.", "inputFormat": "The first line contains an integer $N$.\n\nThe second line contains $N$ integers $A_1, A_2, \\cdots, A_N$.", "outputFormat": "Output a single integer: the value of the expression.", "hint": "- For $60\\%$ of the testdata, $1 \\le N \\le 10^3$.\n- For $100\\%$ of the testdata, $1 \\le N \\le 10^5$, $0 \\le A_i \\le 10^9$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "异或序列", "background": "", "description": "给出序列 $A_1,A_2,\\cdots,A_N$，求\n\n$$\\sum_{1\\le i\\le j\\le N} A_i\\oplus A_{i+1}\\oplus\\cdots\\oplus A_j$$\n\n的值。其中，$\\bigoplus$ 表示按位异或。\n", "inputFormat": "第一行，一个整数 $N$。\n\n第二行，$N$个整数 $A_1,A_2,\\cdots,A_N$。\n", "outputFormat": "一个数，为表达式的值。", "hint": "- 对于 $60\\%$ 的数据，$1 \\le N \\le 10^3$；\n- 对于 $100\\%$ 的数据，$1 \\le N \\le 10^5$，$0 \\le A_i \\le 10^9$。\n", "locale": "zh-CN"}}}
