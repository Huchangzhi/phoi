{"pid": "P4701", "type": "P", "difficulty": 6, "samples": [["3 3 1\n5 5 5 5\n1 1\n0 1 1\n2 3 4\n2 3 4", "GG"], ["3 3 2\n5 5 5 1\n3 1\n3 3\n0 1 1\n2 3 4\n2 3 4", "6"], ["3 3 2\n1 5 5 5\n3 1\n3 3\n0 1 1\n2 3 4\n2 3 4", "6"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["O2优化", "树形 DP", "洛谷月赛"], "title": "粘骨牌", "background": "", "description": "一个 $n \\times m$ 的棋盘，除了某一个位置，其它所有位置都被 $1 \\times 2$ 的多米诺骨牌覆盖，所以一共有 $\\frac{nm - 1}{2}$ 个多米诺骨牌。\n\nAlice 可以进行任意多次移动，每次移动需要保证移动后多米诺骨牌不超出棋盘，且不能存在两个多米诺骨牌重叠。\n\n棋盘上有若干个特殊位置，一旦它们露出来，你就输了，所以你要避免 Alice 的移动使这些位置露出来。\n\n你可以选择固定任意多个多米诺骨牌，固定一个骨牌需要一定的代价，身为 Bob 的你希望用最少的代价，使得无论 Alice 怎么移动，那些特殊位置都不会露出来，求出这个最小代价。\n\n如果无论怎么固定，都不能满足，输出 \"GG\"。", "inputFormat": "第一行三个整数 $n, m, k(1 \\leq n, m \\leq 1001, 0 \\leq k \\leq n \\times m)$，分别表示棋盘的大小以及特殊位置的个数。保证 $n$ 和 $m$ 都是奇数。\n\n接下来一行 $\\frac{nm - 1}{2}$ 个数，第 $i$ 个数 $a_i(1 \\leq a_i \\leq 10^9)$表示固定第 $i$ 个骨牌需要的代价。\n\n接下来 $k$ 行，每行两个整数 $x, y(1 \\leq x \\leq n, 1 \\leq y \\leq m)$，表示$ (x, y)$ 是一个特殊位置。不保证这 $k$ 个特殊位置互不相同，如果有相同的，忽略后一个即可。\n\n接下来 $n$ 行，每行 $m$ 个数 $v_{i, j}(0 \\leq v_{i, j} \\leq \\frac{nm - 1}{2})$，表示棋盘的覆盖情况。如果 $v_{i,j} = 0$，表示该位置未被覆盖，否则表示这个位置被编号为 $v_{i, j}$ 的骨牌覆盖。", "outputFormat": "一行一个整数，表示答案。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Sticky Dominoes", "background": "", "description": "On an $n \\times m$ board, all cells except one are covered by $1 \\times 2$ dominoes, so there are $\\frac{nm - 1}{2}$ dominoes in total.\n\nAlice may make arbitrarily many moves. After each move, all dominoes must remain within the board, and no two dominoes may overlap.\n\nThere are several special cells on the board. Once any of them becomes exposed, you lose, so you must prevent Alice’s moves from exposing these cells.\n\nYou may choose to fix any number of dominoes in place. Fixing one domino costs a certain amount. As Bob, you want to pay the minimum total cost so that no matter how Alice moves, those special cells will never be exposed. Find this minimum cost.\n\nIf it is impossible no matter how you fix the dominoes, output \"GG\".", "inputFormat": "The first line contains three integers $n, m, k(1 \\leq n, m \\leq 1001, 0 \\leq k \\leq n \\times m)$, representing the size of the board and the number of special cells. It is guaranteed that $n$ and $m$ are both odd.\n\nThe next line contains $\\frac{nm - 1}{2}$ numbers. The $i$-th number $a_i(1 \\leq a_i \\leq 10^9)$ denotes the cost to fix the $i$-th domino.\n\nThe next $k$ lines each contain two integers $x, y(1 \\leq x \\leq n, 1 \\leq y \\leq m)$, indicating that $(x, y)$ is a special cell. The $k$ special cells are not guaranteed to be distinct; if duplicates occur, ignore any later occurrence.\n\nThe next $n$ lines each contain $m$ numbers $v_{i, j}(0 \\leq v_{i, j} \\leq \\frac{nm - 1}{2})$, describing the coverage of the board. If $v_{i, j} = 0$, that cell is uncovered; otherwise, it is covered by the domino numbered $v_{i, j}$.", "outputFormat": "Output a single line with the answer: either a single integer representing the minimum total cost, or GG if it is impossible.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "粘骨牌", "background": "", "description": "一个 $n \\times m$ 的棋盘，除了某一个位置，其它所有位置都被 $1 \\times 2$ 的多米诺骨牌覆盖，所以一共有 $\\frac{nm - 1}{2}$ 个多米诺骨牌。\n\nAlice 可以进行任意多次移动，每次移动需要保证移动后多米诺骨牌不超出棋盘，且不能存在两个多米诺骨牌重叠。\n\n棋盘上有若干个特殊位置，一旦它们露出来，你就输了，所以你要避免 Alice 的移动使这些位置露出来。\n\n你可以选择固定任意多个多米诺骨牌，固定一个骨牌需要一定的代价，身为 Bob 的你希望用最少的代价，使得无论 Alice 怎么移动，那些特殊位置都不会露出来，求出这个最小代价。\n\n如果无论怎么固定，都不能满足，输出 \"GG\"。", "inputFormat": "第一行三个整数 $n, m, k(1 \\leq n, m \\leq 1001, 0 \\leq k \\leq n \\times m)$，分别表示棋盘的大小以及特殊位置的个数。保证 $n$ 和 $m$ 都是奇数。\n\n接下来一行 $\\frac{nm - 1}{2}$ 个数，第 $i$ 个数 $a_i(1 \\leq a_i \\leq 10^9)$表示固定第 $i$ 个骨牌需要的代价。\n\n接下来 $k$ 行，每行两个整数 $x, y(1 \\leq x \\leq n, 1 \\leq y \\leq m)$，表示$ (x, y)$ 是一个特殊位置。不保证这 $k$ 个特殊位置互不相同，如果有相同的，忽略后一个即可。\n\n接下来 $n$ 行，每行 $m$ 个数 $v_{i, j}(0 \\leq v_{i, j} \\leq \\frac{nm - 1}{2})$，表示棋盘的覆盖情况。如果 $v_{i,j} = 0$，表示该位置未被覆盖，否则表示这个位置被编号为 $v_{i, j}$ 的骨牌覆盖。", "outputFormat": "一行一个整数，表示答案。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4702", "type": "P", "difficulty": 1, "samples": [["1\n1", "Alice"], ["1\n2", "Bob"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["博弈论", "O2优化", "进制", "前缀和", "位运算", "洛谷月赛"], "title": "取石子", "background": "", "description": "Alice 和 Bob 在玩游戏。\n\n他们有 $n$ 堆石子，第 $i$ 堆石子有 $a_i$ 个，保证初始时 $a_i \\leq a_{i + 1}(1 \\leq i < n)$。现在他们轮流对这些石子进行操作，每次操作人可以选择满足 $a_i > a_{i - 1}$（$a_0$ 视为 $0$）的一堆石子，并从中取走一个。谁最后不能取了谁输。Alice 先手，他们都使用最优策略，请判断最后谁会取得胜利。", "inputFormat": "第一行一个整数 $n(1 \\leq n \\leq 100)$，表示石子堆数。\n\n接下来一行 $n$ 个数，第 $i$ 个数为 $a_i(1 \\leq a_i \\leq 10^9)$，意义如上所述。", "outputFormat": "\"Alice\" 或 \"Bob\"，表示谁会赢。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Take Stones", "background": "", "description": "Alice and Bob are playing a game.\n\nThey have $n$ piles of stones, where the $i$-th pile has $a_i$ stones, and initially it is guaranteed that $a_i \\leq a_{i + 1}$ ($1 \\leq i < n$). They take turns operating on the piles. In each move, a player may choose a pile that satisfies $a_i > a_{i - 1}$ (with $a_0$ regarded as $0$) and remove one stone from it. The player who cannot make a move loses. Alice moves first, and they both play optimally. Determine who will win in the end.", "inputFormat": "The first line contains an integer $n (1 \\leq n \\leq 100)$, representing the number of piles.\n\nThe next line contains $n$ numbers, where the $i$-th number is $a_i (1 \\leq a_i \\leq 10^9)$, as defined above.", "outputFormat": "\"Alice\" or \"Bob\", indicating who will win.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "取石子", "background": "", "description": "Alice 和 Bob 在玩游戏。\n\n他们有 $n$ 堆石子，第 $i$ 堆石子有 $a_i$ 个，保证初始时 $a_i \\leq a_{i + 1}(1 \\leq i < n)$。现在他们轮流对这些石子进行操作，每次操作人可以选择满足 $a_i > a_{i - 1}$（$a_0$ 视为 $0$）的一堆石子，并从中取走一个。谁最后不能取了谁输。Alice 先手，他们都使用最优策略，请判断最后谁会取得胜利。", "inputFormat": "第一行一个整数 $n(1 \\leq n \\leq 100)$，表示石子堆数。\n\n接下来一行 $n$ 个数，第 $i$ 个数为 $a_i(1 \\leq a_i \\leq 10^9)$，意义如上所述。", "outputFormat": "\"Alice\" 或 \"Bob\"，表示谁会赢。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4703", "type": "P", "difficulty": 4, "samples": [["1 1\n0.000 0.000", "0.999 0.999"], ["1 2\n1.000 1.000", "GG"], ["2 2\n0.000 0.000\n2.000 2.000", "1.000 1.000"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["计算几何", "Special Judge", "O2优化", "枚举", "向量", "随机化", "洛谷月赛", "分类讨论"], "title": "偷上网", "background": "", "description": "Alice 和 Bob 生活在一个 $l \\times l$ 的正方形房子里，由于 Bob 最近沉迷隔膜，Alice 决定要限制 Bob 上网的频率。\n\nAlice 建造了 $n$ 个无线信号屏蔽器，第 $i$ 个位于 $(x_i, y_i)$，屏蔽范围为 $\\frac{l}{n}$。\n\nBob 网瘾发作按捺不住上网的冲动，找到了你，帮他找到一个位置 $(x, y)$，使得没有被 Alice 的无线信号屏蔽器覆盖。", "inputFormat": "第一行两个整数 $n, l(1 \\leq n \\leq 10, 1 \\leq l \\leq 10^5)$，分别表示无线信号屏蔽器的个数和房子的大小。\n\n接下来 $n$ 行，每行 $2$ 个数，分别是 $x_i, y_i(0 \\leq x_i, y_i \\leq l)$，意义如上所述。", "outputFormat": "如果可以找到，输出两个数 $x, y(0 \\leq x, y \\leq l)$，意义如上所述，如果有多组解，输出任意一组即可。如果你输出的解满足到任意一个屏蔽器的距离都不小于 $\\frac{l}{n} + 10^{-6}$，则视为正确。\n\n否则输出 \"GG\"。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Sneaking Online", "background": "# Description\n\nAlice and Bob live in an $l \\times l$ square house. Since Bob has recently become obsessed with \"ge mo\" (gémó), Alice decides to limit how often Bob can go online.\n\nAlice has built $n$ wireless signal jammers. The $i$-th jammer is located at $(x_i, y_i)$, with a blocking radius of $\\frac{l}{n}$.\n\nBob’s internet addiction flares up and he can’t resist going online. He comes to you to find a position $(x, y)$ that is not covered by any of Alice’s wireless signal jammers.", "description": "", "inputFormat": "", "outputFormat": "If such a position exists, output two numbers $x$, $y$ ($0 \\le x, y \\le l$), as described above. If there are multiple answers, output any one of them. If your output has distance to every jammer at least $\\frac{l}{n} + 10^{-6}$, it will be considered correct.\n\nOtherwise, output \"GG\".", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "偷上网", "background": "", "description": "Alice 和 Bob 生活在一个 $l \\times l$ 的正方形房子里，由于 Bob 最近沉迷隔膜，Alice 决定要限制 Bob 上网的频率。\n\nAlice 建造了 $n$ 个无线信号屏蔽器，第 $i$ 个位于 $(x_i, y_i)$，屏蔽范围为 $\\frac{l}{n}$。\n\nBob 网瘾发作按捺不住上网的冲动，找到了你，帮他找到一个位置 $(x, y)$，使得没有被 Alice 的无线信号屏蔽器覆盖。", "inputFormat": "第一行两个整数 $n, l(1 \\leq n \\leq 10, 1 \\leq l \\leq 10^5)$，分别表示无线信号屏蔽器的个数和房子的大小。\n\n接下来 $n$ 行，每行 $2$ 个数，分别是 $x_i, y_i(0 \\leq x_i, y_i \\leq l)$，意义如上所述。", "outputFormat": "如果可以找到，输出两个数 $x, y(0 \\leq x, y \\leq l)$，意义如上所述，如果有多组解，输出任意一组即可。如果你输出的解满足到任意一个屏蔽器的距离都不小于 $\\frac{l}{n} + 10^{-6}$，则视为正确。\n\n否则输出 \"GG\"。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4704", "type": "P", "difficulty": 7, "samples": [["2\n1 2\n3 4", "1"], ["3\n1 2\n3 4\n5 6", "2"], ["3\n1 3\n2 4\n5 6", "1"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["贪心", "O2优化", "位运算", "构造", "洛谷月赛"], "title": "太极剑", "background": "", "description": "在学习太极之后，Bob 要求 Alice 教他太极剑。Alice 告诉他首先需要通过一项基本剑术测试。测试要求 Bob 尽可能快地切断 $n$ 根绳子。\n\n所有绳子的端点两两不同，所以共有 $2n$ 个端点。这些端点被捆在一个圆上，等距离分布。我们把这些端点按顺时针方向编号为 $1$ 到 $2n$。\n\nBob 每次切割的轨迹是一条直线，可以将所有与这条直线相交的绳子切断，他想知道至少多少次可以切断所有的绳子。", "inputFormat": "第一行一个整数 $n(1 \\leq n \\leq 2 \\times 10^5)$，表示绳子的个数。\n\n接下来 $n$ 行，每行两个整数 $a_i, b_i(1 \\leq a_i, b_i \\leq 2n, a_i \\not= b_i)$，表示第 $i$ 根绳子的两个端点的编号。", "outputFormat": "一行一个整数，表示答案。", "hint": "样例一解释：![](https://cdn.luogu.com.cn/upload/pic/19179.png)\n\n样例二解释：![](https://cdn.luogu.com.cn/upload/pic/19180.png)\n\n样例三解释：![](https://cdn.luogu.com.cn/upload/pic/19181.png)", "locale": "zh-CN", "translations": {"en": {"title": "Taiji Sword", "background": "", "description": "After learning Taiji, Bob asks Alice to teach him the Taiji Sword. Alice tells him he must first pass a basic swordsmanship test. The test requires Bob to cut $n$ ropes as quickly as possible.\n\nAll rope endpoints are pairwise distinct, so there are $2n$ endpoints in total. These endpoints are tied on a circle, evenly spaced. We number these endpoints clockwise from $1$ to $2n$.\n\nEach of Bob’s cuts is a straight line, and it severs every rope that intersects this line. He wants to know the minimum number of cuts needed to cut all the ropes.", "inputFormat": "The first line contains an integer $n(1 \\leq n \\leq 2 \\times 10^5)$, representing the number of ropes.\n\nThe next $n$ lines each contain two integers $a_i, b_i(1 \\leq a_i, b_i \\leq 2n, a_i \\not= b_i)$, indicating the indices of the two endpoints of the $i$-th rope.", "outputFormat": "Output a single integer, the answer.", "hint": "Explanation for Sample 1: ![](https://cdn.luogu.com.cn/upload/pic/19179.png)\n\nExplanation for Sample 2: ![](https://cdn.luogu.com.cn/upload/pic/19180.png)\n\nExplanation for Sample 3: ![](https://cdn.luogu.com.cn/upload/pic/19181.png)\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "太极剑", "background": "", "description": "在学习太极之后，Bob 要求 Alice 教他太极剑。Alice 告诉他首先需要通过一项基本剑术测试。测试要求 Bob 尽可能快地切断 $n$ 根绳子。\n\n所有绳子的端点两两不同，所以共有 $2n$ 个端点。这些端点被捆在一个圆上，等距离分布。我们把这些端点按顺时针方向编号为 $1$ 到 $2n$。\n\nBob 每次切割的轨迹是一条直线，可以将所有与这条直线相交的绳子切断，他想知道至少多少次可以切断所有的绳子。", "inputFormat": "第一行一个整数 $n(1 \\leq n \\leq 2 \\times 10^5)$，表示绳子的个数。\n\n接下来 $n$ 行，每行两个整数 $a_i, b_i(1 \\leq a_i, b_i \\leq 2n, a_i \\not= b_i)$，表示第 $i$ 根绳子的两个端点的编号。", "outputFormat": "一行一个整数，表示答案。", "hint": "样例一解释：![](https://cdn.luogu.com.cn/upload/pic/19179.png)\n\n样例二解释：![](https://cdn.luogu.com.cn/upload/pic/19180.png)\n\n样例三解释：![](https://cdn.luogu.com.cn/upload/pic/19181.png)", "locale": "zh-CN"}}}
{"pid": "P4705", "type": "P", "difficulty": 6, "samples": [["1 1\n1\n2\n3", "3\n9\n27"], ["2 8\n764074134 743107904\n663532060 183287581 749169979 7678045 393887277 27071620 13482818 125504606\n6", "774481679\n588343913\n758339354\n233707576\n36464684\n461784746"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["数学", "O2优化", "分治", "期望", "快速傅里叶变换 FFT", "洛谷月赛"], "title": "玩游戏", "background": "### 警告：恶意提交评测将被封号。", "description": "Alice 和 Bob 又在玩游戏。\n\n对于一次游戏，首先 Alice 获得一个长度为 $n$ 的序列 $a$，Bob 获得一个长度为 $m$ 的序列 $b$。之后他们各从自己的序列里随机取出一个数，分别设为 $a_x, b_y$，定义这次游戏的 $k$ 次价值为 $(a_x + b_y)^k$。\n\n由于他们发现这个游戏实在是太无聊了，所以想让你帮忙计算对于 $i = 1, 2, \\cdots, t$，一次游戏的 $i$ 次价值的期望是多少。\n\n由于答案可能很大，只需要求出模 $998244353$ 下的结果即可。", "inputFormat": "第一行两个整数 $n, m(1 \\leq n, m \\leq 10^5)$，分别表示 Alice 和 Bob 序列的长度。\n\n接下来一行 $n$ 个数，第 $i$ 个数为 $a_i(0 \\leq a_i < 998244353)$，表示 Alice 的序列。\n\n接下来一行 $m$ 个数，第 $j$ 个数为 $b_j(0 \\leq b_j < 998244353)$，表示 Bob 的序列。\n\n接下来一行一个整数 $t(1 \\leq t \\leq 10^5)$，意义如上所述。", "outputFormat": "共 $t$ 行，第 $i$ 行表示一次游戏 $i$ 次价值的期望。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "Playing a Game", "background": "Warning: Malicious submissions will result in account bans.", "description": "Alice and Bob are playing a game again.\n\nIn one game, first Alice receives a sequence $a$ of length $n$, and Bob receives a sequence $b$ of length $m$. Then they each randomly pick one number from their own sequence, denoted $a_x, b_y$. The $k$-th value of this game is defined as $(a_x + b_y)^k$.\n\nBecause they find this game too boring, they ask you to compute, for $i = 1, 2, \\cdots, t$, the expected $i$-th value of a game.\n\nSince the answer can be large, you only need to output the result modulo $998244353$.", "inputFormat": "The first line contains two integers $n, m(1 \\leq n, m \\leq 10^5)$, representing the lengths of Alice’s and Bob’s sequences.\n\nThe next line contains $n$ numbers, where the $i$-th number is $a_i(0 \\leq a_i < 998244353)$, representing Alice’s sequence.\n\nThe next line contains $m$ numbers, where the $j$-th number is $b_j(0 \\leq b_j < 998244353)$, representing Bob’s sequence.\n\nThe next line contains one integer $t(1 \\leq t \\leq 10^5)$, as described above.", "outputFormat": "Output $t$ lines, where the $i$-th line is the expected $i$-th value of a single game.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "玩游戏", "background": "### 警告：恶意提交评测将被封号。", "description": "Alice 和 Bob 又在玩游戏。\n\n对于一次游戏，首先 Alice 获得一个长度为 $n$ 的序列 $a$，Bob 获得一个长度为 $m$ 的序列 $b$。之后他们各从自己的序列里随机取出一个数，分别设为 $a_x, b_y$，定义这次游戏的 $k$ 次价值为 $(a_x + b_y)^k$。\n\n由于他们发现这个游戏实在是太无聊了，所以想让你帮忙计算对于 $i = 1, 2, \\cdots, t$，一次游戏的 $i$ 次价值的期望是多少。\n\n由于答案可能很大，只需要求出模 $998244353$ 下的结果即可。", "inputFormat": "第一行两个整数 $n, m(1 \\leq n, m \\leq 10^5)$，分别表示 Alice 和 Bob 序列的长度。\n\n接下来一行 $n$ 个数，第 $i$ 个数为 $a_i(0 \\leq a_i < 998244353)$，表示 Alice 的序列。\n\n接下来一行 $m$ 个数，第 $j$ 个数为 $b_j(0 \\leq b_j < 998244353)$，表示 Bob 的序列。\n\n接下来一行一个整数 $t(1 \\leq t \\leq 10^5)$，意义如上所述。", "outputFormat": "共 $t$ 行，第 $i$ 行表示一次游戏 $i$ 次价值的期望。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4706", "type": "P", "difficulty": 6, "samples": [["3\n3 1 2", "332748118"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["枚举", "素数判断,质数,筛法", "概率论"], "title": "取石子", "background": "", "description": "现在 Yopilla 和 yww 要开始玩游戏！\n\n他们在一条直线上标记了 $n$ 个点，从左往右依次标号为 $1, 2, ..., n$ 。然后在每个点上放置一些棋子，其中第 $i$ 个点放置了 $a_i$ 个棋子。接下来，从 Yopilla 开始操作，双方轮流操作，谁不能操作谁输。每次的操作是：当前操作方选定一个有棋子的点 $x$ ，然后选择至少一个点 $x$ 上的棋子，然后把这些棋子全都移动到点 $x / prime$ 上，其中 $prime$ 是一个质数，且 $prime \\mid x$ 。\n\nYopilla 最初一次操作的策略是随机的：随机找到一个有棋子的点 $x$ ，随机选择正整数个棋子 $y$ ，随机转移到一个能转移到的点 $z$ 。所有棋子可以看作是一样的，换句话说：两种操作不同，当且仅当三元组 $(x, y, z)$ 不同。之后双方都按照最优策略来操作。\n\nYopilla 想要预测，他能够获胜的概率是多少，答案对 $998244353$ 取模。", "inputFormat": "第一行一个数 $n$ 。\n\n第二行 $n$ 个数 $a_1, a_2, ..., a_n$ 。", "outputFormat": "输出 $m$ 行，表示 Yopilla 能够获胜的概率对 $998244353$ 取模。", "hint": "样例解释：\n\n$1$ 号点有 $3$ 个棋子，$2$ 号点有 $1$ 个棋子，$3$ 号点有 $2$ 个棋子。第一次操作的时候，能进行的有三种可能：将 $2$ 号点的 $1$ 个棋子移到 $1$ 号点，将 $3$ 号点的 $1$ 个棋子移到 $1$ 号点，将 $3$ 号点的 $2$ 个棋子移到一号点。而其中只有一种情况能使得 Yopilla 有必胜策略。所以答案为\n$$\\frac{1}{3} \\equiv 332748118 \\pmod {998244353}$$\n\n对于 $20 \\%$ 的数据，只有一个石子。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le {10} ^ 6, 0 \\le a_i \\le {10} ^ 9$ ，保证至少有一个不在一号点的石子。", "locale": "zh-CN", "translations": {"en": {"title": "Taking Stones", "background": "", "description": "Now Yopilla and yww are going to play a game.\n\nThey mark $n$ points on a straight line, numbered from left to right as $1, 2, ..., n$. Then they place some stones on each point: point $i$ has $a_i$ stones. Next, starting from Yopilla, the two players take turns. Whoever cannot make a move loses. Each move is:\n\nThe current player chooses a point $x$ that has stones, then chooses at least one stone from point $x$, and moves all chosen stones to point $x / prime$, where $prime$ is a prime number and $prime \\mid x$.\n\nYopilla's strategy for the very first move is random: he randomly picks a point $x$ that has stones, randomly chooses a positive integer number of stones $y$, and randomly moves them to a reachable point $z$. All stones are considered identical. In other words, two moves are different if and only if the triple $(x, y, z)$ is different. After that, both players play with optimal strategies.\n\nYopilla wants to predict the probability that he can win. Output the answer modulo $998244353$.", "inputFormat": "The first line contains one integer $n$.\n\nThe second line contains $n$ integers $a_1, a_2, ..., a_n$.", "outputFormat": "Output one line, representing the probability that Yopilla can win modulo $998244353$.", "hint": "Explanation of the sample:\n\nPoint $1$ has $3$ stones, point $2$ has $1$ stone, and point $3$ has $2$ stones. On the first move, there are three possible moves: move the $1$ stone at point $2$ to point $1$; move $1$ stone at point $3$ to point $1$; move $2$ stones at point $3$ to point $1$. Among these, only one case allows Yopilla to have a winning strategy. So the answer is\n$$\\frac{1}{3} \\equiv 332748118 \\pmod {998244353}$$\n\nFor $20\\%$ of the testdata, there is only one stone.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le {10} ^ 6$, $0 \\le a_i \\le {10} ^ 9$. It is guaranteed that there is at least one stone not at point $1$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "取石子", "background": "", "description": "现在 Yopilla 和 yww 要开始玩游戏！\n\n他们在一条直线上标记了 $n$ 个点，从左往右依次标号为 $1, 2, ..., n$ 。然后在每个点上放置一些棋子，其中第 $i$ 个点放置了 $a_i$ 个棋子。接下来，从 Yopilla 开始操作，双方轮流操作，谁不能操作谁输。每次的操作是：当前操作方选定一个有棋子的点 $x$ ，然后选择至少一个点 $x$ 上的棋子，然后把这些棋子全都移动到点 $x / prime$ 上，其中 $prime$ 是一个质数，且 $prime \\mid x$ 。\n\nYopilla 最初一次操作的策略是随机的：随机找到一个有棋子的点 $x$ ，随机选择正整数个棋子 $y$ ，随机转移到一个能转移到的点 $z$ 。所有棋子可以看作是一样的，换句话说：两种操作不同，当且仅当三元组 $(x, y, z)$ 不同。之后双方都按照最优策略来操作。\n\nYopilla 想要预测，他能够获胜的概率是多少，答案对 $998244353$ 取模。", "inputFormat": "第一行一个数 $n$ 。\n\n第二行 $n$ 个数 $a_1, a_2, ..., a_n$ 。", "outputFormat": "输出 $m$ 行，表示 Yopilla 能够获胜的概率对 $998244353$ 取模。", "hint": "样例解释：\n\n$1$ 号点有 $3$ 个棋子，$2$ 号点有 $1$ 个棋子，$3$ 号点有 $2$ 个棋子。第一次操作的时候，能进行的有三种可能：将 $2$ 号点的 $1$ 个棋子移到 $1$ 号点，将 $3$ 号点的 $1$ 个棋子移到 $1$ 号点，将 $3$ 号点的 $2$ 个棋子移到一号点。而其中只有一种情况能使得 Yopilla 有必胜策略。所以答案为\n$$\\frac{1}{3} \\equiv 332748118 \\pmod {998244353}$$\n\n对于 $20 \\%$ 的数据，只有一个石子。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le {10} ^ 6, 0 \\le a_i \\le {10} ^ 9$ ，保证至少有一个不在一号点的石子。", "locale": "zh-CN"}}}
{"pid": "P4707", "type": "P", "difficulty": 7, "samples": [["3 3 3\n1 1 1\n", "499122182\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["动态规划 DP", "数学", "容斥原理", "期望"], "title": "重返现世", "background": "", "description": "为了打开返回现世的大门，Yopilla 需要制作开启大门的钥匙。Yopilla 所在的迷失大陆有 $n$ 种原料，只需要集齐任意 $k$ 种，就可以开始制作。\n\nYopilla 来到了迷失大陆的核心地域。每个单位时间，这片地域就会随机生成一种原料。每种原料被生成的概率是不同的，第 $i$ 种原料被生成的概率是 $\\frac{p_i}{m}$ 。如果 Yopilla 没有这种原料，那么就可以进行收集。\n\nYopilla 急于知道，他收集到任意 $k$ 种原料的期望时间，答案对 $998244353$ 取模。", "inputFormat": "第一行三个数 $n, k, m$ 。\n\n第二行 $n$ 个数 $p_1, p_2, ..., p_n$ 。", "outputFormat": "输出一行。", "hint": "对于 $10 \\%$ 的数据，$p_1 = p_2 = ... = p_m$ 。\n\n对于另外 $10 \\%$ 的数据，$k = n$ 。\n\n对于 $70 \\%$ 的数据，$n \\le 100$ 。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 1000$ ，$1 \\le k \\le n,  n - k  \\le 10$ ，$1 \\le p_i \\le m, \\sum p = m, 1 \\le m \\le 10000$ 。", "locale": "zh-CN", "translations": {"en": {"title": "Return to the Real World", "background": "", "description": "To open the gate back to the real world, Yopilla needs to craft the key that unlocks it. On the Lost Continent where Yopilla is, there are $n$ kinds of materials. As long as he gathers any $k$ kinds, he can start crafting.\n\nYopilla arrives at the core area of the Lost Continent. In each unit of time, this area will randomly generate one kind of material. The probability of generating the $i$-th kind of material is $\\frac{p_i}{m}$. If Yopilla does not have this material, then he can collect it.\n\nYopilla urgently wants to know the expected time for him to collect any $k$ kinds of materials. Output the answer modulo $998244353$.", "inputFormat": "The first line contains three integers $n, k, m$.\n\nThe second line contains $n$ integers $p_1, p_2, ..., p_n$.", "outputFormat": "Output one line.", "hint": "For $10\\%$ of the testdata, $p_1 = p_2 = ... = p_m$.\n\nFor another $10\\%$ of the testdata, $k = n$.\n\nFor $70\\%$ of the testdata, $n \\le 100$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 1000$, $1 \\le k \\le n$, $n - k \\le 10$, $1 \\le p_i \\le m$, $\\sum p = m$, $1 \\le m \\le 10000$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "重返现世", "background": "", "description": "为了打开返回现世的大门，Yopilla 需要制作开启大门的钥匙。Yopilla 所在的迷失大陆有 $n$ 种原料，只需要集齐任意 $k$ 种，就可以开始制作。\n\nYopilla 来到了迷失大陆的核心地域。每个单位时间，这片地域就会随机生成一种原料。每种原料被生成的概率是不同的，第 $i$ 种原料被生成的概率是 $\\frac{p_i}{m}$ 。如果 Yopilla 没有这种原料，那么就可以进行收集。\n\nYopilla 急于知道，他收集到任意 $k$ 种原料的期望时间，答案对 $998244353$ 取模。", "inputFormat": "第一行三个数 $n, k, m$ 。\n\n第二行 $n$ 个数 $p_1, p_2, ..., p_n$ 。", "outputFormat": "输出一行。", "hint": "对于 $10 \\%$ 的数据，$p_1 = p_2 = ... = p_m$ 。\n\n对于另外 $10 \\%$ 的数据，$k = n$ 。\n\n对于 $70 \\%$ 的数据，$n \\le 100$ 。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 1000$ ，$1 \\le k \\le n,  n - k  \\le 10$ ，$1 \\le p_i \\le m, \\sum p = m, 1 \\le m \\le 10000$ 。", "locale": "zh-CN"}}}
{"pid": "P4708", "type": "P", "difficulty": 7, "samples": [["4", "3"], ["5", "7"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["欧拉回路", "置换", "Pólya 定理"], "title": "画画", "background": null, "description": "yww 要开始画画了！\n\n地上有一张纸，纸上有 $n$ 个点。\n\nyww 要在结点之间连边。yww 的连边是非常有规律的。每次他会拿好笔，选定一个点，从这个点 $x$ 向其他点 $y$ 连边，再从 $y$ 向其他点 $z$ 连边，依次类推，直到连回点 $x$。yww 会进行若干次这样的连边。并且，自始至终，yww 都不会在两个结点之间连超过一条边。\n\nyww 想知道，他一共能画出多少种本质不同的图。两个图本质相同，当且仅当存在一个点到点的置换，使得对于原图和在置换作用下的新图，任意两点之间要么都没有连边，要么都有连边。你只需要将答案对 $998244353$ 取模。\n\n一句话题意，$n$ 个点的无标号的每个连通块有欧拉回路的图的个数。", "inputFormat": "第一行一个数 $n$。", "outputFormat": "输出一个数。", "hint": "对于 $10 \\%$ 的数据，$n \\le 5$。\n\n对于 $40 \\%$ 的数据，$n \\le 10$。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 50$。", "locale": "zh-CN", "translations": {"en": {"title": "Drawing", "background": "", "description": "yww is going to start drawing.\n\nThere is a sheet of paper on the ground, and there are $n$ points on it.\n\nyww wants to draw edges between the points. His way of drawing edges is very regular. Each time, he will hold the pen, choose a point, and draw an edge from this point $x$ to another point $y$, then draw an edge from $y$ to another point $z$, and so on, until he finally returns to point $x$. yww will do this process several times. Also, from start to finish, yww will never draw more than one edge between the same two points.\n\nyww wants to know how many essentially different graphs he can draw in total. Two graphs are essentially the same if and only if there exists a permutation of the points such that, for the original graph and the new graph after applying the permutation, for any two points, either both graphs have no edge between them, or both graphs have an edge between them. You only need to output the answer modulo $998244353$.\n\nIn one sentence: the number of unlabeled graphs on $n$ vertices such that every connected component has an Euler circuit.", "inputFormat": "The first line contains an integer $n$.", "outputFormat": "Output one integer.", "hint": "For $10\\%$ of the testdata, $n \\le 5$.\n\nFor $40\\%$ of the testdata, $n \\le 10$.\n\nFor $100\\%$ of the testdata, $1 \\le n \\le 50$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "画画", "background": null, "description": "yww 要开始画画了！\n\n地上有一张纸，纸上有 $n$ 个点。\n\nyww 要在结点之间连边。yww 的连边是非常有规律的。每次他会拿好笔，选定一个点，从这个点 $x$ 向其他点 $y$ 连边，再从 $y$ 向其他点 $z$ 连边，依次类推，直到连回点 $x$。yww 会进行若干次这样的连边。并且，自始至终，yww 都不会在两个结点之间连超过一条边。\n\nyww 想知道，他一共能画出多少种本质不同的图。两个图本质相同，当且仅当存在一个点到点的置换，使得对于原图和在置换作用下的新图，任意两点之间要么都没有连边，要么都有连边。你只需要将答案对 $998244353$ 取模。\n\n一句话题意，$n$ 个点的无标号的每个连通块有欧拉回路的图的个数。", "inputFormat": "第一行一个数 $n$。", "outputFormat": "输出一个数。", "hint": "对于 $10 \\%$ 的数据，$n \\le 5$。\n\n对于 $40 \\%$ 的数据，$n \\le 10$。\n\n对于 $100 \\%$ 的数据，$1 \\le n \\le 50$。", "locale": "zh-CN"}}}
{"pid": "P4709", "type": "P", "difficulty": 7, "samples": [["3\n2 1 3", "1"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": [], "title": "信息传递", "background": "", "description": "给定置换\n$$\nf = \\begin{pmatrix} 1 & 2 & ... & n \\\\\\ a_1 & a_2 & ... & a_n \\end{pmatrix}\n$$\n求有多少个置换 $g$ ，满足\n$$\ng ^ n = f\n$$\n答案对 $998244353$ 取模。", "inputFormat": "第一行一个数 $n$ 。\n\n第二行 $n$ 个数 $a_1, a_2, ..., a_n$ 。", "outputFormat": "输出答案。", "hint": "样例解释：\n\n有且仅有 $a_1 = 2, a_2 = 1, a_3 = 3$ 满足\n$$\n{\\begin{pmatrix} 1 & 2 & 3 \\\\ 2 & 1 & 3 \\end{pmatrix}} ^ 3 = \\begin{pmatrix} 1 & 2 & 3 \\\\ 2 & 1 & 3 \\end{pmatrix}\n$$\n\n对于 $20 \\%$ 的数据，$n \\le 10$。\n\n对于 $60 \\%$ 的数据，$n \\le 1000$。\n\n对于 $100 \\%$ 的数据，$n \\le {10} ^ 5$。", "locale": "zh-CN", "translations": {"en": {"title": "Information Transmission", "background": "", "description": "Given a permutation\n$$\nf = \\begin{pmatrix} 1 & 2 & ... & n \\\\\\ a_1 & a_2 & ... & a_n \\end{pmatrix}\n$$\nfind how many permutations $g$ satisfy\n$$\ng ^ n = f\n$$\nOutput the answer modulo $998244353$.", "inputFormat": "The first line contains an integer $n$.\n\nThe second line contains $n$ integers $a_1, a_2, ..., a_n$.", "outputFormat": "Output the answer.", "hint": "Sample explanation:\n\nThere is only one permutation with $a_1 = 2, a_2 = 1, a_3 = 3$ that satisfies\n$$\n{\\begin{pmatrix} 1 & 2 & 3 \\\\ 2 & 1 & 3 \\end{pmatrix}} ^ 3 = \\begin{pmatrix} 1 & 2 & 3 \\\\ 2 & 1 & 3 \\end{pmatrix}\n$$\n\nConstraints:\n\nFor $20\\%$ of the testdata, $n \\le 10$.\n\nFor $60\\%$ of the testdata, $n \\le 1000$.\n\nFor $100\\%$ of the testdata, $n \\le {10} ^ 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "信息传递", "background": "", "description": "给定置换\n$$\nf = \\begin{pmatrix} 1 & 2 & ... & n \\\\\\ a_1 & a_2 & ... & a_n \\end{pmatrix}\n$$\n求有多少个置换 $g$ ，满足\n$$\ng ^ n = f\n$$\n答案对 $998244353$ 取模。", "inputFormat": "第一行一个数 $n$ 。\n\n第二行 $n$ 个数 $a_1, a_2, ..., a_n$ 。", "outputFormat": "输出答案。", "hint": "样例解释：\n\n有且仅有 $a_1 = 2, a_2 = 1, a_3 = 3$ 满足\n$$\n{\\begin{pmatrix} 1 & 2 & 3 \\\\ 2 & 1 & 3 \\end{pmatrix}} ^ 3 = \\begin{pmatrix} 1 & 2 & 3 \\\\ 2 & 1 & 3 \\end{pmatrix}\n$$\n\n对于 $20 \\%$ 的数据，$n \\le 10$。\n\n对于 $60 \\%$ 的数据，$n \\le 1000$。\n\n对于 $100 \\%$ 的数据，$n \\le {10} ^ 5$。", "locale": "zh-CN"}}}
{"pid": "P4710", "type": "P", "difficulty": 2, "samples": [["14.142136 0.785398", "10 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "Special Judge", "O2优化", "洛谷月赛"], "title": "「物理」平抛运动", "background": "", "description": "> 小 F 回到班上，面对自己 28 / 110 的物理，感觉非常凉凉。他准备从最基础的力学学起。\n\n如图，一个可以视为质点的小球在点 $A(x_0, y_0)$ 沿 $x$ 轴负方向以某速度抛出，无视除重力外的所有阻力，最后恰好以速度 $v$ 砸到 $B(0, 0)$ 点。\n\n![A1](https://cdn.luogu.com.cn/upload/pic/17884.png)\n\n给定 $v$ 的大小与方向，你的任务是求出 $(x_0,y_0)$。\n\n给定的速度单位为 $m \\cdot s ^ {-1}$，重力加速度 $g = 10 \\ (m \\cdot s ^ {-2})$，请输出以 $m$ 为单位的答案。\n\n如果你没有学过相关内容也没有关系，你可以从样例和提示里理解该题所求内容。", "inputFormat": "输入一行，为两个最多 $6$ 位的小数 $v, \\theta(1 \\leq v \\leq 100, 15 ^ \\circ \\leq \\theta \\leq 75 ^ \\circ )$，即速度与图中所标角在弧度制下的大小。", "outputFormat": "输出一行，两个最多 $15$ 位的小数 $x_0, y_0$，为你的答案。\n\n你的答案与参考答案的相对误差或者绝对误差小于 $10 ^ {-3}$ 即视为正确。", "hint": "### 样例解释\n\n如图。\n\n![A2](https://cdn.luogu.com.cn/upload/pic/17887.png )\n\n$14.142136 \\approx 10 \\sqrt 2, 0.785398 \\approx \\frac \\pi 4 = 45 ^ \\circ .$\n\n小球从 $(10, 5)$ 以速度 $(-10, 0)$ 抛出，即可在 $t = 1s$ 时以 $(-10, -10)$ 砸在 $(0, 0)$。\n\n### 提示\n\n如果你没有学习过相关内容，下面的内容可能有帮助：\n\n> zcy 教你学物理\n\n首先，由于单位均为标准单位，所以所有结果均可以直接数字运算；视为质点意味着没有体积。\n\n我们可以将小球速度分解，如图：\n\n![A3](https://cdn.luogu.com.cn/upload/pic/17886.png )\n\n其中水平方向上的速度 $v_x$ 即为抛出速度，运动过程中一直为 $v \\sin \\theta$；\n\n垂直方向上的速度 $v_y$ 受重力加速，由 $0$ 变化至 $v \\cos \\theta$。\n\n从抛出时开始计时，当时间为 $t$ 时，设此时水平、垂直方向上速度的大小分别为 $v_{xt}, v_{yt}$，水平、垂直方向上位移的大小分别为 $x_{xt}, x_{yt}$，有：\n\n$v_{xt} = v \\sin \\theta$\n\n$v_{yt} = gt$\n\n$x_{xt} = v_{xt}t$\n\n$x_{yt} = \\frac 1 2 g t ^ 2 = \\frac 1 2{v_{yt}t}$\n\n当 $t$ 恰好是落地时间时，$x_{xt}, x_{yt}$ 即为答案。\n\n---\n\n关于弧度制：\n\n$\\pi = 180 ^{\\circ}$\n\n也就是说：$\\frac \\pi 2 = 90 ^{\\circ}, \\frac \\pi 3 = 60 ^{\\circ}, \\ \\cdots $\n\n---\n\n关于三角函数：\n\n如果你是 C/C++ 选手，你可以使用 `math.h` /  `cmath` 里的 `sin()` `cos()` 进行计算；\n\n如果你是 Pascal 选手，你可以使用 `math` 库（在 `begin` 前添加 `uses math;`）里的 `sin()` `cos()` 进行计算。\n \n如果你是 Python 选手，你可以使用 `math` 库里的 `math.sin()` `math.cos()` 进行计算。\n\n如果你是其他语言的选手，请参考相应文档。\n", "locale": "zh-CN", "translations": {"en": {"title": "“Physics” Horizontal Projectile Motion", "background": "# Description\n\n> After returning to class and seeing his 28/110 in physics, little F felt utterly defeated. He decides to start learning mechanics from the very basics.\n\nAs shown in the figure, a small ball that can be treated as a point mass is thrown from point $A(x_0, y_0)$ along the negative direction of the $x$-axis with some speed, ignoring all resistance except gravity, and finally hits point $B(0, 0)$ exactly with speed $v$.\n\n![A1](https://cdn.luogu.com.cn/upload/pic/17884.png)\n\nGiven the magnitude and direction of $v$, your task is to find $(x_0, y_0)$.\n\nThe unit of the given speed is $m \\cdot s ^ {-1}$, and the gravitational acceleration is $g = 10 \\ (m \\cdot s ^ {-2})$. Please output the answer in meters.\n\nIf you have not learned the related content, it is okay; you can understand what is required from the samples and the hints.", "description": "", "inputFormat": "", "outputFormat": "Output one line with two real numbers $x_0, y_0$ (each with at most $15$ decimal places), which are your answers.\n\nYour answer is considered correct if the absolute or relative error is less than $10 ^ {-3}$.", "hint": "### Sample Explanation\n\nAs shown.\n\n![A2](https://cdn.luogu.com.cn/upload/pic/17887.png )\n\n$14.142136 \\approx 10 \\sqrt 2, 0.785398 \\approx \\frac \\pi 4 = 45 ^ \\circ.$\n\nIf the ball is thrown from $(10, 5)$ with velocity $(-10, 0)$, then at $t = 1 s$ it hits $(0, 0)$ with velocity $(-10, -10)$.\n\n### Hint\n\nIf you have not studied the related content, the following may help:\n\n> zcy teaches you physics\n\nFirst, since all units are standard, all results can be computed directly with numbers; treating the object as a point mass means it has no volume.\n\nWe can decompose the velocity of the ball as shown:\n\n![A3](https://cdn.luogu.com.cn/upload/pic/17886.png )\n\nThe horizontal component of the velocity $v_x$ is the initial throw speed and remains $v \\sin \\theta$ during the motion.\n\nThe vertical component of the velocity $v_y$ is accelerated by gravity, changing from $0$ to $v \\cos \\theta$.\n\nStarting timing from the moment of release, when the time is $t$, let the magnitudes of the horizontal and vertical velocities at this moment be $v_{xt}, v_{yt}$, and the magnitudes of the horizontal and vertical displacements be $x_{xt}, x_{yt}$, respectively. Then:\n\n$v_{xt} = v \\sin \\theta$\n\n$v_{yt} = gt$\n\n$x_{xt} = v_{xt}t$\n\n$x_{yt} = \\frac 1 2 g t ^ 2 = \\frac 1 2{v_{yt}t}$\n\nWhen $t$ is exactly the landing time, $x_{xt}, x_{yt}$ are the answers.\n\n---\n\nAbout radians:\n\n$\\pi = 180 ^{\\circ}$\n\nThat is: $\\frac \\pi 2 = 90 ^{\\circ}, \\frac \\pi 3 = 60 ^{\\circ}, \\ \\cdots $\n\n---\n\nAbout trigonometric functions:\n\nIf you use C/C++, you can use `sin()` and `cos()` from `math.h` / `cmath`.\n\nIf you use Pascal, you can use `sin()` and `cos()` from the `math` library (add `uses math;` before `begin`).\n\nIf you use Python, you can use `math.sin()` and `math.cos()` from the `math` library.\n\nIf you use other languages, please refer to the corresponding documentation.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「物理」平抛运动", "background": "", "description": "> 小 F 回到班上，面对自己 28 / 110 的物理，感觉非常凉凉。他准备从最基础的力学学起。\n\n如图，一个可以视为质点的小球在点 $A(x_0, y_0)$ 沿 $x$ 轴负方向以某速度抛出，无视除重力外的所有阻力，最后恰好以速度 $v$ 砸到 $B(0, 0)$ 点。\n\n![A1](https://cdn.luogu.com.cn/upload/pic/17884.png)\n\n给定 $v$ 的大小与方向，你的任务是求出 $(x_0,y_0)$。\n\n给定的速度单位为 $m \\cdot s ^ {-1}$，重力加速度 $g = 10 \\ (m \\cdot s ^ {-2})$，请输出以 $m$ 为单位的答案。\n\n如果你没有学过相关内容也没有关系，你可以从样例和提示里理解该题所求内容。", "inputFormat": "输入一行，为两个最多 $6$ 位的小数 $v, \\theta(1 \\leq v \\leq 100, 15 ^ \\circ \\leq \\theta \\leq 75 ^ \\circ )$，即速度与图中所标角在弧度制下的大小。", "outputFormat": "输出一行，两个最多 $15$ 位的小数 $x_0, y_0$，为你的答案。\n\n你的答案与参考答案的相对误差或者绝对误差小于 $10 ^ {-3}$ 即视为正确。", "hint": "### 样例解释\n\n如图。\n\n![A2](https://cdn.luogu.com.cn/upload/pic/17887.png )\n\n$14.142136 \\approx 10 \\sqrt 2, 0.785398 \\approx \\frac \\pi 4 = 45 ^ \\circ .$\n\n小球从 $(10, 5)$ 以速度 $(-10, 0)$ 抛出，即可在 $t = 1s$ 时以 $(-10, -10)$ 砸在 $(0, 0)$。\n\n### 提示\n\n如果你没有学习过相关内容，下面的内容可能有帮助：\n\n> zcy 教你学物理\n\n首先，由于单位均为标准单位，所以所有结果均可以直接数字运算；视为质点意味着没有体积。\n\n我们可以将小球速度分解，如图：\n\n![A3](https://cdn.luogu.com.cn/upload/pic/17886.png )\n\n其中水平方向上的速度 $v_x$ 即为抛出速度，运动过程中一直为 $v \\sin \\theta$；\n\n垂直方向上的速度 $v_y$ 受重力加速，由 $0$ 变化至 $v \\cos \\theta$。\n\n从抛出时开始计时，当时间为 $t$ 时，设此时水平、垂直方向上速度的大小分别为 $v_{xt}, v_{yt}$，水平、垂直方向上位移的大小分别为 $x_{xt}, x_{yt}$，有：\n\n$v_{xt} = v \\sin \\theta$\n\n$v_{yt} = gt$\n\n$x_{xt} = v_{xt}t$\n\n$x_{yt} = \\frac 1 2 g t ^ 2 = \\frac 1 2{v_{yt}t}$\n\n当 $t$ 恰好是落地时间时，$x_{xt}, x_{yt}$ 即为答案。\n\n---\n\n关于弧度制：\n\n$\\pi = 180 ^{\\circ}$\n\n也就是说：$\\frac \\pi 2 = 90 ^{\\circ}, \\frac \\pi 3 = 60 ^{\\circ}, \\ \\cdots $\n\n---\n\n关于三角函数：\n\n如果你是 C/C++ 选手，你可以使用 `math.h` /  `cmath` 里的 `sin()` `cos()` 进行计算；\n\n如果你是 Pascal 选手，你可以使用 `math` 库（在 `begin` 前添加 `uses math;`）里的 `sin()` `cos()` 进行计算。\n \n如果你是 Python 选手，你可以使用 `math` 库里的 `math.sin()` `math.cos()` 进行计算。\n\n如果你是其他语言的选手，请参考相应文档。\n", "locale": "zh-CN"}}}
{"pid": "P4711", "type": "P", "difficulty": 4, "samples": [["Au", "197"], ["HfO_{2}", "210.5"], ["Ca(OH)_{2}", "74"], ["CuSO_{4}~5H_{2}O", "250"], ["KAl(SO_{4})_{2}~12H_{2}O", "474"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟", "字符串", "递归", "Special Judge", "O2优化", "洛谷月赛"], "title": "「化学」相对分子质量", "background": null, "description": "做化学题时，小 F 总是里算错相对分子质量，这让他非常苦恼。\n\n小 F 找到了你，请你来帮他算一算给定物质的相对分子质量。\n\n如果你没有学过相关内容也没有关系，你可以从样例和提示里理解该题所求内容。", "inputFormat": "输入一行，为一个长度为 $L$ $(L\\leq 100)$ 的不含空格的字符串，表示给定物质的化学式。\n\n化学式仅包括以下内容:\n\n* 元素：如 `Au`(金)，`Hf`(铪)，**出现的所有元素及其相对原子质量以附表为准**。\n* 下标 `_{}` ：表示某个原子、离子或者原子团的个数，如 `H_{2}O` 表示 $\\text{H}_2\\text{O}$ (水)，`C_{60}` 表示 $\\text{C}_{60}$ (足球烯)。\n* 括号 `()`：表示一个原子团，下标对团内物质生效。如 `Ca(OH)_{2}` 表示 $\\text{Ca(OH)}_2$ (熟石灰)。\n* 水合物 `~`：如 `CuSO_{4}~5H_{2}O` 表示 $\\text{CuSO}_4 \\cdot 5\\text{H}_2\\text{O}$（胆矾）。水之前如果存在数字，保证一定是大于 $2$ 的正整数，如果省略该部分则默认为 $1$ 。如上述胆矾中，表示水的个数的 `5`。\n\n形式化地讲，你处理的化学式满足以下规则：\n\n> 分子`~`数量`H_{2}O` \n\n其中数量或水合部分可省。\n\n对于分子，满足：\n\n> 部分`_{`数量`}`部分`_{`数量`}`...部分`_{`数量`}`\n\n其中数量可省。\n\n对于每个“部分”（原子，原子团，离子……），满足：\n\n> 元素\n\n或\n\n> `(`元素`_{` 数量 `}`元素`_{` 数量`}`... 元素`_{`数量`})`\n\n其中数量可省。\n\n请注意，满足上述条件的化学式不会出现括号嵌套；上文中出现的 “数量” 所指代的数字不超过 $10000$。", "outputFormat": "输出一行，包含一个整数或者小数部分为 `.5` 的实数，为你的计算结果。\n\n保证结果不超过 $10000$。", "hint": "### 样例解释\n金 $\\text{Au} : 197$\n\n二氧化铪 $\\text{HfO}_2: 178.5 + 2 \\times 16= 210.5$\n\n氢氧化钙（熟石灰）$\\text{Ca(OH)}_2 : 40 + (1 + 16) \\times 2 = 74$\n\n五水硫酸铜（胆矾）$\\text{CuSO}_4 \\cdot 5\\text{H}_2\\text{O}: 64 + 32 + 16 \\times 4 + 5 \\times (1 \\times 2 + 16) = 250$\n\n十二水合硫酸铝钾（明矾）$\\text{KAl(SO}_4)_2 \\cdot 12\\text{H}_2\\text{O}$ （嗯 用心感受 $474$ 是对的）\n\n### 附表：可能用到的相对原子质量\n\n|元素|相对原子质量|\n|:-:|:-:|\n|$\\text{H}$|$1$|\n|$\\text{C}$|$12$|\n|$\\text{N}$|$14$|\n|$\\text{O}$|$16$|\n|$\\text{F}$|$19$|\n|$\\text{Na}$|$23$|\n|$\\text{Mg}$|$24$|\n|$\\text{Al}$|$27$|\n|$\\text{Si}$|$28$|\n|$\\text{P}$|$31$|\n|$\\text{S}$|$32$|\n|$\\text{Cl}$|$35.5$|\n|$\\text{K}$|$39$|\n|$\\text{Ca}$|$40$|\n|$\\text{Mn}$|$55$|\n|$\\text{Fe}$|$56$|\n|$\\text{Cu}$|$64$|\n|$\\text{Zn}$|$65$|\n|$\\text{Ag}$|$108$|\n|$\\text{I}$|$127$|\n|$\\text{Ba}$|$137$|\n|$\\text{Hf}$|$178.5$|\n|$\\text{Pt}$|$195$|\n|$\\text{Au}$|$197$|\n|$\\text{Hg}$|$201$|\n\n### 提示\n\n如果你没有学习过相关内容，下面的内容可能有帮助：\n\n> zcy 教你算相对分子质量\n\n1. 每个元素以大写开头；\n2. 计算分子质量的方法就是对每个原子出现的次数乘对应的相对原子质量求和；\n3. ~( $\\cdot$ ) 相当于加；\n4. 下标相当于乘。", "locale": "zh-CN", "translations": {"en": {"title": "Chemistry: Relative Molecular Mass", "background": "", "description": "When doing chemistry problems, Xiao F always miscalculates the relative molecular mass, which makes him very distressed.\n\nXiao F came to you for help. Please compute the relative molecular mass of the given substance.\n\nIf you have not studied the related content, that is fine. You can understand what is required from the samples and the hints.", "inputFormat": "Input consists of one line: a string of length $L$ $(L \\leq 100)$ without spaces, representing the chemical formula of the given substance.\n\nThe chemical formula includes only the following:\n\n- Elements: such as `Au` (gold), `Hf` (hafnium). All occurring elements and their relative atomic masses are given in the appendix.\n- Subscript `_{}`: indicates the count of some atom, ion, or group. For example, `H_{2}O` means $\\text{H}_2\\text{O}$ (water), and `C_{60}` means $\\text{C}_{60}$ (buckminsterfullerene).\n- Parentheses `()`: indicate a group, and a subscript applies to the content inside the group. For example, `Ca(OH)_{2}` means $\\text{Ca(OH)}_2$ (slaked lime).\n- Hydrate `~`: for example, `CuSO_{4}~5H_{2}O` means $\\text{CuSO}_4 \\cdot 5\\text{H}_2\\text{O}$ (chalcanthite). If there is a number before water, it is guaranteed to be a positive integer greater than $2$. If this part is omitted, it defaults to $1$. In the example above, the `5` indicates the number of water molecules.\n\nFormally, the chemical formula you process satisfies the following rules:\n\n> Molecule `~` Count `H_{2}O`\n\nThe count or the hydrate part may be omitted.\n\nFor the molecule, it satisfies:\n\n> Part `_{` Count `}` Part `_{` Count `}` ... Part `_{` Count `}`\n\nThe count may be omitted.\n\nFor each “Part” (atom, group, ion, etc.), it satisfies:\n\n> Element\n\nor\n\n> `(` Element `_{` Count `}` Element `_{` Count `}` ... Element `_{` Count `})`\n\nThe count may be omitted.\n\nPlease note that chemical formulas satisfying the above conditions will not contain nested parentheses. The number referred to as “Count” above does not exceed $10000$.", "outputFormat": "Output one line containing either an integer or a real number whose fractional part is `.5`, which is your computed result.\n\nIt is guaranteed that the result does not exceed $10000$.", "hint": "### Sample explanations\nGold $\\text{Au} : 197$.\n\nHafnium dioxide $\\text{HfO}_2: 178.5 + 2 \\times 16 = 210.5$.\n\nCalcium hydroxide (slaked lime) $\\text{Ca(OH)}_2 : 40 + (1 + 16) \\times 2 = 74$.\n\nCopper(II) sulfate pentahydrate (chalcanthite) $\\text{CuSO}_4 \\cdot 5\\text{H}_2\\text{O}: 64 + 32 + 16 \\times 4 + 5 \\times (1 \\times 2 + 16) = 250$.\n\nPotassium aluminum sulfate dodecahydrate (alum) $\\text{KAl(SO}_4)_2 \\cdot 12\\text{H}_2\\text{O}$ (Indeed, $474$ is correct.).\n\n### Appendix: Possible relative atomic masses\n\n|元素|相对原子质量|\n|:-:|:-:|\n|$\\text{H}$|$1$|\n|$\\text{C}$|$12$|\n|$\\text{N}$|$14$|\n|$\\text{O}$|$16$|\n|$\\text{F}$|$19$|\n|$\\text{Na}$|$23$|\n|$\\text{Mg}$|$24$|\n|$\\text{Al}$|$27$|\n|$\\text{Si}$|$28$|\n|$\\text{P}$|$31$|\n|$\\text{S}$|$32$|\n|$\\text{Cl}$|$35.5$|\n|$\\text{K}$|$39$|\n|$\\text{Ca}$|$40$|\n|$\\text{Mn}$|$55$|\n|$\\text{Fe}$|$56$|\n|$\\text{Cu}$|$64$|\n|$\\text{Zn}$|$65$|\n|$\\text{Ag}$|$108$|\n|$\\text{I}$|$127$|\n|$\\text{Ba}$|$137$|\n|$\\text{Hf}$|$178.5$|\n|$\\text{Pt}$|$195$|\n|$\\text{Au}$|$197$|\n|$\\text{Hg}$|$201$|\n\n### Tips\n\nIf you have not studied the related content, the following may help:\n\n> zcy teaches you how to compute relative molecular mass\n\n1. Each element starts with an uppercase letter.\n2. To compute the molecular mass, multiply the number of occurrences of each atom by its relative atomic mass and sum them up.\n3. ~( $\\cdot$ ) is equivalent to addition.\n4. A subscript is equivalent to multiplication.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「化学」相对分子质量", "background": null, "description": "做化学题时，小 F 总是里算错相对分子质量，这让他非常苦恼。\n\n小 F 找到了你，请你来帮他算一算给定物质的相对分子质量。\n\n如果你没有学过相关内容也没有关系，你可以从样例和提示里理解该题所求内容。", "inputFormat": "输入一行，为一个长度为 $L$ $(L\\leq 100)$ 的不含空格的字符串，表示给定物质的化学式。\n\n化学式仅包括以下内容:\n\n* 元素：如 `Au`(金)，`Hf`(铪)，**出现的所有元素及其相对原子质量以附表为准**。\n* 下标 `_{}` ：表示某个原子、离子或者原子团的个数，如 `H_{2}O` 表示 $\\text{H}_2\\text{O}$ (水)，`C_{60}` 表示 $\\text{C}_{60}$ (足球烯)。\n* 括号 `()`：表示一个原子团，下标对团内物质生效。如 `Ca(OH)_{2}` 表示 $\\text{Ca(OH)}_2$ (熟石灰)。\n* 水合物 `~`：如 `CuSO_{4}~5H_{2}O` 表示 $\\text{CuSO}_4 \\cdot 5\\text{H}_2\\text{O}$（胆矾）。水之前如果存在数字，保证一定是大于 $2$ 的正整数，如果省略该部分则默认为 $1$ 。如上述胆矾中，表示水的个数的 `5`。\n\n形式化地讲，你处理的化学式满足以下规则：\n\n> 分子`~`数量`H_{2}O` \n\n其中数量或水合部分可省。\n\n对于分子，满足：\n\n> 部分`_{`数量`}`部分`_{`数量`}`...部分`_{`数量`}`\n\n其中数量可省。\n\n对于每个“部分”（原子，原子团，离子……），满足：\n\n> 元素\n\n或\n\n> `(`元素`_{` 数量 `}`元素`_{` 数量`}`... 元素`_{`数量`})`\n\n其中数量可省。\n\n请注意，满足上述条件的化学式不会出现括号嵌套；上文中出现的 “数量” 所指代的数字不超过 $10000$。", "outputFormat": "输出一行，包含一个整数或者小数部分为 `.5` 的实数，为你的计算结果。\n\n保证结果不超过 $10000$。", "hint": "### 样例解释\n金 $\\text{Au} : 197$\n\n二氧化铪 $\\text{HfO}_2: 178.5 + 2 \\times 16= 210.5$\n\n氢氧化钙（熟石灰）$\\text{Ca(OH)}_2 : 40 + (1 + 16) \\times 2 = 74$\n\n五水硫酸铜（胆矾）$\\text{CuSO}_4 \\cdot 5\\text{H}_2\\text{O}: 64 + 32 + 16 \\times 4 + 5 \\times (1 \\times 2 + 16) = 250$\n\n十二水合硫酸铝钾（明矾）$\\text{KAl(SO}_4)_2 \\cdot 12\\text{H}_2\\text{O}$ （嗯 用心感受 $474$ 是对的）\n\n### 附表：可能用到的相对原子质量\n\n|元素|相对原子质量|\n|:-:|:-:|\n|$\\text{H}$|$1$|\n|$\\text{C}$|$12$|\n|$\\text{N}$|$14$|\n|$\\text{O}$|$16$|\n|$\\text{F}$|$19$|\n|$\\text{Na}$|$23$|\n|$\\text{Mg}$|$24$|\n|$\\text{Al}$|$27$|\n|$\\text{Si}$|$28$|\n|$\\text{P}$|$31$|\n|$\\text{S}$|$32$|\n|$\\text{Cl}$|$35.5$|\n|$\\text{K}$|$39$|\n|$\\text{Ca}$|$40$|\n|$\\text{Mn}$|$55$|\n|$\\text{Fe}$|$56$|\n|$\\text{Cu}$|$64$|\n|$\\text{Zn}$|$65$|\n|$\\text{Ag}$|$108$|\n|$\\text{I}$|$127$|\n|$\\text{Ba}$|$137$|\n|$\\text{Hf}$|$178.5$|\n|$\\text{Pt}$|$195$|\n|$\\text{Au}$|$197$|\n|$\\text{Hg}$|$201$|\n\n### 提示\n\n如果你没有学习过相关内容，下面的内容可能有帮助：\n\n> zcy 教你算相对分子质量\n\n1. 每个元素以大写开头；\n2. 计算分子质量的方法就是对每个原子出现的次数乘对应的相对原子质量求和；\n3. ~( $\\cdot$ ) 相当于加；\n4. 下标相当于乘。", "locale": "zh-CN"}}}
{"pid": "P4712", "type": "P", "difficulty": 4, "samples": [["2 9\n1 0\n1 1", "0.2000000"], ["2 9\n1 0\n1 0", "-1"], ["2 10\n1 0\n1 0", "0.4000000"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "Special Judge", "O2优化", "枚举", "前缀和", "洛谷月赛"], "title": "「生物」能量流动", "background": "", "description": "生物课上，小 F 学习到了食物链、食物网的相关内容。\n\n他学到，能量是逐级递减的。比如在食物链上，两个链接起来的生物 $A \\rightarrow B$（意思是 $B$ 吃 $A$）之间的能量传递效率最多只有 $\\frac 1 5$；而研究种间关系，能够使能量流向对人类最有益的部分。\n\n现在，小 F 想研究一下能量流动的关系，于是他在脑海里创造了一个生态的系统。\n\n在这个生态的系统里，有 $n+2$ 种生物，其中 $0$ 是生产者，整个生态系统所流经的能量由它固定；你是贪婪的顶级掠食者 $n + 1$，可以捕食所有生物；其他的掠食者 $[1, n]$ 各有各的喜好，只会捕食编号在 $[0, r_i]$ 的生物。由于天然形成的强弱顺序，上述关系满足 $r_i \\leq r_{i + 1}(1 \\leq i < n),$ $r_i < i(1 \\leq i \\leq n)$。\n\n每种动物需要摄取至少 $a_i$ 单位能量才能存活；一个生物摄取到的能量可以传递给捕食者，但传递效率都不超过 $\\frac 1 5$。也就是说，假设该动物捕获了 $b_i$ 单位的能量，所有捕食它的掠食者得到的能量总和 $c_i$，那么有：\n* $b_i \\geq a_i$\n* $c_i \\leq \\frac 1 5 b_i$\n\n你希望知道，在所有生物都存活的情况下，在最优情况下你能获取到的最大能量是多少。", "inputFormat": "输入第一行两个整数 $n, a_0(1 \\leq n \\leq 10 ^ 5, 1 \\leq a_0 \\leq 10 ^ 9)$。$a_0$ 是生产者固定的能量值。 \n\n接下来 $n$ 行，每行 $2$ 个正整数，表示 $a_i, r_i(1 \\leq a_i \\leq 10 ^ 9)$。\n\n数据保证，$0\\leq r_i < i, r_i \\leq r_{i + 1}$。", "outputFormat": "输出一行一个浮点数，表示你——顶级掠食者——能得到的最大能量。如果不能使得所有生物存活（包括你自己），请输出 $-1$。\n\n你的答案与参考答案的相对误差或者绝对误差不超过 $10 ^ {-8}$ 即被认为是正确的。如果你的程序是正确的，可以不用考虑精度问题。", "hint": "### 样例 1 解释\n\n最优情况下：\n* 1 号掠食者捕食生产者 0，捕食 5 点能量，传递效率为 $\\frac 1 5$，得到 1 点能量。\n* 2 号掠食者捕食生产者 0，捕食 4 点能量，传递效率为 $\\frac 1 5$，得到 0.8 点能量。\n* 2 号掠食者捕食掠食者 1，捕食 1 点能量，传递效率为 $\\frac 1 5$，得到 0.2 点能量。\n\n可怜的你只能捕获 2 号掠食者的能量，捕食 1 点能量，得到 0.2 点能量。\n\n### 样例 2, 3 解释\n\n由于 2 号掠食者开始减肥不吃肉了（也有可能是打不过 1 了），所以所需的生产者能量从 9 点变成了 10 点。\n\n### 子任务\n\n子任务 $1(21 \\mathrm{pts}) : n \\leq 100$；\n\n子任务 $2(89 \\mathrm{pts}) : n \\leq 10 ^ 5$。", "locale": "zh-CN", "translations": {"en": {"title": "\"Biology\" Energy Flow", "background": "", "description": "In biology class, little F learned about food chains and food webs.\n\nHe learned that energy decreases step by step. For example, on a food chain, between two linked organisms $A \\rightarrow B$ (meaning $B$ eats $A$), the energy transfer efficiency is at most $\\frac 1 5$; and by studying interspecific relationships, one can guide energy to flow toward the parts most beneficial to humans.\n\nNow, little F wants to study energy flow, so he creates an ecological system in his mind.\n\nIn this ecological system, there are $n+2$ species, where $0$ is the producer and the total energy flowing through the entire ecosystem is fixed by it; you are the greedy apex predator $n + 1$, and you can prey on all species; the other predators $[1, n]$ each have their own preferences and will only prey on species with indices in $[0, r_i]$. Due to a naturally formed hierarchy of strength, these relationships satisfy $r_i \\leq r_{i + 1}(1 \\leq i < n),$ $r_i < i(1 \\leq i \\leq n)$.\n\nEach animal needs to ingest at least $a_i$ units of energy to survive; the energy ingested by one organism can be passed to its predators, but the transfer efficiency never exceeds $\\frac 1 5$. That is, suppose that organism $i$ captures $b_i$ units of energy, and the total energy $c_i$ obtained by all predators that prey on it satisfies:\n- $b_i \\geq a_i$;\n- $c_i \\leq \\frac 1 5 b_i$.\n\nYou want to know, under the constraint that all organisms survive, what is the maximum energy you can obtain in the optimal arrangement.", "inputFormat": "The first line contains two integers $n, a_0(1 \\leq n \\leq 10 ^ 5, 1 \\leq a_0 \\leq 10 ^ 9)$, where $a_0$ is the fixed energy of the producer.\n\nThen follow $n$ lines, each with $2$ positive integers, representing $a_i, r_i(1 \\leq a_i \\leq 10 ^ 9)$.\n\nIt is guaranteed that $0\\leq r_i < i, r_i \\leq r_{i + 1}$.", "outputFormat": "Output one floating-point number on a single line, representing the maximum energy you—the apex predator—can obtain. If it is impossible to make all organisms survive (including yourself), output $-1$.\n\nYour answer will be considered correct if the relative or absolute error does not exceed $10 ^ {-8}$. If your program is correct, you do not need to worry about precision issues.", "hint": "Sample 1 explanation:\n\nIn the optimal arrangement:\n- Predator 1 preys on producer 0, captures 5 units of energy, with transfer efficiency $\\frac 1 5$, and obtains 1 unit of energy.\n- Predator 2 preys on producer 0, captures 4 units of energy, with transfer efficiency $\\frac 1 5$, and obtains 0.8 units of energy.\n- Predator 2 preys on predator 1, captures 1 unit of energy, with transfer efficiency $\\frac 1 5$, and obtains 0.2 units of energy.\n\nUnfortunately, you can only prey on predator 2, capture 1 unit of energy, and obtain 0.2 units of energy.\n\nSample 2 and 3 explanation:\n\nSince predator 2 goes on a diet and stops eating meat (or perhaps cannot defeat 1), the required energy from the producer changes from 9 units to 10 units.\n\nSubtasks:\n- Subtask $1(21 \\mathrm{pts}) : n \\leq 100$;\n- Subtask $2(89 \\mathrm{pts}) : n \\leq 10 ^ 5$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「生物」能量流动", "background": "", "description": "生物课上，小 F 学习到了食物链、食物网的相关内容。\n\n他学到，能量是逐级递减的。比如在食物链上，两个链接起来的生物 $A \\rightarrow B$（意思是 $B$ 吃 $A$）之间的能量传递效率最多只有 $\\frac 1 5$；而研究种间关系，能够使能量流向对人类最有益的部分。\n\n现在，小 F 想研究一下能量流动的关系，于是他在脑海里创造了一个生态的系统。\n\n在这个生态的系统里，有 $n+2$ 种生物，其中 $0$ 是生产者，整个生态系统所流经的能量由它固定；你是贪婪的顶级掠食者 $n + 1$，可以捕食所有生物；其他的掠食者 $[1, n]$ 各有各的喜好，只会捕食编号在 $[0, r_i]$ 的生物。由于天然形成的强弱顺序，上述关系满足 $r_i \\leq r_{i + 1}(1 \\leq i < n),$ $r_i < i(1 \\leq i \\leq n)$。\n\n每种动物需要摄取至少 $a_i$ 单位能量才能存活；一个生物摄取到的能量可以传递给捕食者，但传递效率都不超过 $\\frac 1 5$。也就是说，假设该动物捕获了 $b_i$ 单位的能量，所有捕食它的掠食者得到的能量总和 $c_i$，那么有：\n* $b_i \\geq a_i$\n* $c_i \\leq \\frac 1 5 b_i$\n\n你希望知道，在所有生物都存活的情况下，在最优情况下你能获取到的最大能量是多少。", "inputFormat": "输入第一行两个整数 $n, a_0(1 \\leq n \\leq 10 ^ 5, 1 \\leq a_0 \\leq 10 ^ 9)$。$a_0$ 是生产者固定的能量值。 \n\n接下来 $n$ 行，每行 $2$ 个正整数，表示 $a_i, r_i(1 \\leq a_i \\leq 10 ^ 9)$。\n\n数据保证，$0\\leq r_i < i, r_i \\leq r_{i + 1}$。", "outputFormat": "输出一行一个浮点数，表示你——顶级掠食者——能得到的最大能量。如果不能使得所有生物存活（包括你自己），请输出 $-1$。\n\n你的答案与参考答案的相对误差或者绝对误差不超过 $10 ^ {-8}$ 即被认为是正确的。如果你的程序是正确的，可以不用考虑精度问题。", "hint": "### 样例 1 解释\n\n最优情况下：\n* 1 号掠食者捕食生产者 0，捕食 5 点能量，传递效率为 $\\frac 1 5$，得到 1 点能量。\n* 2 号掠食者捕食生产者 0，捕食 4 点能量，传递效率为 $\\frac 1 5$，得到 0.8 点能量。\n* 2 号掠食者捕食掠食者 1，捕食 1 点能量，传递效率为 $\\frac 1 5$，得到 0.2 点能量。\n\n可怜的你只能捕获 2 号掠食者的能量，捕食 1 点能量，得到 0.2 点能量。\n\n### 样例 2, 3 解释\n\n由于 2 号掠食者开始减肥不吃肉了（也有可能是打不过 1 了），所以所需的生产者能量从 9 点变成了 10 点。\n\n### 子任务\n\n子任务 $1(21 \\mathrm{pts}) : n \\leq 100$；\n\n子任务 $2(89 \\mathrm{pts}) : n \\leq 10 ^ 5$。", "locale": "zh-CN"}}}
{"pid": "P4713", "type": "P", "difficulty": 6, "samples": [["4 4 12 2 10 5\n5 5 10 4\n2 -1\n0 0\n1 1", "18"], ["2 2 10 1 10 1\n1 1\n2", "9"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "O2优化", "枚举", "洛谷月赛"], "title": "「语文」凑字数", "background": " 数据的锅修好了！", "description": "时间在一秒一秒地减少着，然而小 F 仍对着作文题冥思苦想。看起来，他又写不完作文了。\n\n然而，小 F 有一种特殊的凑字数技巧——不停换行。这是因为，作文纸每行 $L$ 个字，而最低字数限制是以行数来计算的。\n\n也就是说，只要写到了 $M$ 行（不含标题）即认为时满足要求，写到意味着这一行上有字。注意，由于作文格式要求，每段首行会**有两个字符的缩进空格**。\n\n现在，他已经构思好了 $N$ 句话，每句话有着自己的长度 $a_i$ ——包括标点符号，不考虑因句号等在最后一格之外而不换行的情况。这几句话的关联或强或弱，关联强的更适合放在一段，关联弱的更适合分段，然而因为凑字数小 F 可以对任意两句话之间进行换行以分段。\n\n关联关系会用一种特殊的方式来表示。我们知道，作文改卷时会将作文的得分点划分为几个主要部分，比如全国卷分为基础，表达，发展三个部分；每个部分拥有着相同的总分，比如对于全国卷来说是 $20$ 分；每个部分的最低均为 $0$ 分，也就是说哪怕扣到 $0$ 以下也算 $0$ 分。在这里，我们的评分标准有 $K$ 个部分，每个部分有 $S$ 分的满分。根据方面的不同，小 F 将两句话的关联关系用一个 $K$ 元组 $s_i = (s_{i,1}, s_{i, 2}, \\cdots, s_{i, K})$ 表示，其中每个数都是整数，第 $j$ 个数 $s_{i, j}$ 表示：\n* 如果是正数，那么表示拆开 $i, i + 1$ 这两句话会导致第 $j$ 部分得分扣 $s_{i, j}$ 分 。\n* 如果是负数，那么表示**不**拆开这两句话第 $j$ 部分得分扣 $-s_{i, j}$ 分。\n* 如果为 0，那么表示是否拆开这两句话对得分没有影响。\n\n从满分开始，在计算完上面的扣分之后可以得到一个初步的总分。在这之后，最低字数线上每空一行，会扣 $C$ 分字数分，总分扣至 0 为止。\n\n如果能够拿到高分作文，小 F 就可以得到老师的大拇指！所以，请你帮小 F 设计出一种方案以最大化得分。", "inputFormat": "输入第一行为 $6$ 个整数，$N, M, L, K, S, C$，对应题目描述里的内容。\n\n输入第二行为 $N$ 个整数，第 $i$ 个为 $a_i$，即每句话的长度。 \n\n接下来 $N - 1$ 行，每行 $K$ 个整数，第 $i$ 行第 $j$ 个表示 $s_{i, j}$。", "outputFormat": "输出一行一个非负整数，表示你所求得的最大得分。\n\n", "hint": "### 样例 1 解释\n\n这是样例 1 不分段的情况：\n\n![](https://cdn.luogu.com.cn/upload/pic/21276.png )\n\n这样做，得分是 $10 + 9 - 5 = 14$ 分。\n\n我们发现，字数分太痛了，于是我们一定要去避免它。\n\n最优解如下：\n\n![](https://cdn.luogu.com.cn/upload/pic/21277.png)\n\n这样做，得分是 $8 + 10 - 0 = 18$ 分。\n\n### 样例 2 解释\n\n即使换行可以避免一分字数扣分，但是相应地会扣掉两分，所以不如不换。\n\n\n### 子任务\n\n子任务 $1(21 \\mathrm{pts}) : N \\leq 10$；\n\n子任务 $2(21 \\mathrm{pts}) : K = 1$；\n\n子任务 $3(31 \\mathrm{pts}) : N \\times a_i \\leq 800$；\n\n子任务 $4(77 \\mathrm{pts}) :$\n* $1 \\leq N, M, a_i \\leq 200$\n* $3 \\leq L \\leq 200$\n* $1 \\leq K \\leq 5$\n* $0 \\leq S, C, |s_{i, j}| \\leq 200$", "locale": "zh-CN", "translations": {"en": {"title": "\"Chinese\" Padding the Word Count", "background": "The issue with the testdata has been fixed.", "description": "Time is ticking away second by second, yet Xiao F is still staring at the essay prompt, racking his brain. It looks like he will not finish the essay again.\n\nHowever, Xiao F has a special trick to pad the word count: keep starting new lines. This is because the essay paper allows $L$ characters per line, and the minimum word count requirement is measured by the number of lines.\n\nThat is, as long as he reaches $M$ lines (excluding the title), the requirement is considered met; “reaches” means that the line contains at least one character. Note that due to formatting requirements, the first line of each paragraph has an indentation of two spaces.\n\nNow, he has planned $N$ sentences, and each sentence has its own length $a_i$—including punctuation. We do not consider cases where, for example, a final period would be beyond the last cell and thus avoid wrapping. The connections between these sentences vary in strength: more strongly related sentences are more suitable to be in the same paragraph, while weakly related ones are more suitable to be split into different paragraphs. However, for padding the word count, Xiao F may insert a paragraph break between any two consecutive sentences.\n\nThe association between sentences is represented in a special way. We know that when grading, the score is divided into several main parts; for example, the national paper has “Basic,” “Expression,” and “Development,” each with the same total score (e.g., $20$ points). The minimum for each part is $0$ points, meaning that even if a part would go below $0$, it is counted as $0$. Here, our rubric has $K$ parts, each with a full score of $S$. Depending on the aspect, Xiao F uses a $K$-tuple $s_i = (s_{i,1}, s_{i, 2}, \\cdots, s_{i, K})$ to describe the relation between sentence $i$ and sentence $i + 1$, where each number is an integer. The $j$-th number $s_{i, j}$ means:\n- If it is positive, then splitting sentences $i$ and $i + 1$ will deduct $s_{i, j}$ points from part $j$.\n- If it is negative, then not splitting these two sentences will deduct $-s_{i, j}$ points from part $j$.\n- If it is $0$, then whether to split has no effect on the score for that part.\n\nStarting from full marks for each part (i.e., $S$ per part), after applying the above deductions, each part is floored at $0$, and summing over parts yields a preliminary total score. After that, if the number of written lines is below the minimum line count, each missing line deducts $C$ points from the word-count score, and the overall total is floored at $0$.\n\nIf he can get a high-scoring essay, Xiao F will receive a thumbs-up from the teacher. So, please help Xiao F design a plan to maximize the score.", "inputFormat": "- The first line contains $6$ integers: $N, M, L, K, S, C$, as described above.\n- The second line contains $N$ integers, where the $i$-th is $a_i$, the length of sentence $i$.\n- The next $N - 1$ lines each contain $K$ integers; on the $i$-th of these lines, the $j$-th integer is $s_{i, j}$.", "outputFormat": "Output one non-negative integer on a single line, representing the maximum score you can obtain.", "hint": "### Explanation for Sample 1\n\nThis is the “no paragraph break” arrangement for Sample 1:\n\n![](https://cdn.luogu.com.cn/upload/pic/21276.png )\n\nWith this arrangement, the score is $10 + 9 - 5 = 14$ points.\n\nWe notice the word-count penalty is too heavy, so we must avoid it.\n\nThe optimal solution is as follows:\n\n![](https://cdn.luogu.com.cn/upload/pic/21277.png)\n\nWith this arrangement, the score is $8 + 10 - 0 = 18$ points.\n\n### Explanation for Sample 2\n\nEven though inserting a break avoids a one-point word-count penalty, it causes a two-point deduction elsewhere, so it is better not to insert a break.\n\n### Subtasks\n\nSubtask $1(21 \\mathrm{pts})$: $N \\leq 10$.\n\nSubtask $2(21 \\mathrm{pts})$: $K = 1$.\n\nSubtask $3(31 \\mathrm{pts})$: $N \\times a_i \\leq 800$.\n\nSubtask $4(77 \\mathrm{pts})$:\n- $1 \\leq N, M, a_i \\leq 200$.\n- $3 \\leq L \\leq 200$.\n- $1 \\leq K \\leq 5$.\n- $0 \\leq S, C, |s_{i, j}| \\leq 200$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「语文」凑字数", "background": " 数据的锅修好了！", "description": "时间在一秒一秒地减少着，然而小 F 仍对着作文题冥思苦想。看起来，他又写不完作文了。\n\n然而，小 F 有一种特殊的凑字数技巧——不停换行。这是因为，作文纸每行 $L$ 个字，而最低字数限制是以行数来计算的。\n\n也就是说，只要写到了 $M$ 行（不含标题）即认为时满足要求，写到意味着这一行上有字。注意，由于作文格式要求，每段首行会**有两个字符的缩进空格**。\n\n现在，他已经构思好了 $N$ 句话，每句话有着自己的长度 $a_i$ ——包括标点符号，不考虑因句号等在最后一格之外而不换行的情况。这几句话的关联或强或弱，关联强的更适合放在一段，关联弱的更适合分段，然而因为凑字数小 F 可以对任意两句话之间进行换行以分段。\n\n关联关系会用一种特殊的方式来表示。我们知道，作文改卷时会将作文的得分点划分为几个主要部分，比如全国卷分为基础，表达，发展三个部分；每个部分拥有着相同的总分，比如对于全国卷来说是 $20$ 分；每个部分的最低均为 $0$ 分，也就是说哪怕扣到 $0$ 以下也算 $0$ 分。在这里，我们的评分标准有 $K$ 个部分，每个部分有 $S$ 分的满分。根据方面的不同，小 F 将两句话的关联关系用一个 $K$ 元组 $s_i = (s_{i,1}, s_{i, 2}, \\cdots, s_{i, K})$ 表示，其中每个数都是整数，第 $j$ 个数 $s_{i, j}$ 表示：\n* 如果是正数，那么表示拆开 $i, i + 1$ 这两句话会导致第 $j$ 部分得分扣 $s_{i, j}$ 分 。\n* 如果是负数，那么表示**不**拆开这两句话第 $j$ 部分得分扣 $-s_{i, j}$ 分。\n* 如果为 0，那么表示是否拆开这两句话对得分没有影响。\n\n从满分开始，在计算完上面的扣分之后可以得到一个初步的总分。在这之后，最低字数线上每空一行，会扣 $C$ 分字数分，总分扣至 0 为止。\n\n如果能够拿到高分作文，小 F 就可以得到老师的大拇指！所以，请你帮小 F 设计出一种方案以最大化得分。", "inputFormat": "输入第一行为 $6$ 个整数，$N, M, L, K, S, C$，对应题目描述里的内容。\n\n输入第二行为 $N$ 个整数，第 $i$ 个为 $a_i$，即每句话的长度。 \n\n接下来 $N - 1$ 行，每行 $K$ 个整数，第 $i$ 行第 $j$ 个表示 $s_{i, j}$。", "outputFormat": "输出一行一个非负整数，表示你所求得的最大得分。\n\n", "hint": "### 样例 1 解释\n\n这是样例 1 不分段的情况：\n\n![](https://cdn.luogu.com.cn/upload/pic/21276.png )\n\n这样做，得分是 $10 + 9 - 5 = 14$ 分。\n\n我们发现，字数分太痛了，于是我们一定要去避免它。\n\n最优解如下：\n\n![](https://cdn.luogu.com.cn/upload/pic/21277.png)\n\n这样做，得分是 $8 + 10 - 0 = 18$ 分。\n\n### 样例 2 解释\n\n即使换行可以避免一分字数扣分，但是相应地会扣掉两分，所以不如不换。\n\n\n### 子任务\n\n子任务 $1(21 \\mathrm{pts}) : N \\leq 10$；\n\n子任务 $2(21 \\mathrm{pts}) : K = 1$；\n\n子任务 $3(31 \\mathrm{pts}) : N \\times a_i \\leq 800$；\n\n子任务 $4(77 \\mathrm{pts}) :$\n* $1 \\leq N, M, a_i \\leq 200$\n* $3 \\leq L \\leq 200$\n* $1 \\leq K \\leq 5$\n* $0 \\leq S, C, |s_{i, j}| \\leq 200$", "locale": "zh-CN"}}}
{"pid": "P4714", "type": "P", "difficulty": 6, "samples": [["4 0", "3"], ["4 1", "6"], ["4 2", "10"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["递推", "洛谷原创", "素数判断,质数,筛法", "前缀和", "洛谷月赛"], "title": "「数学」约数个数和", "background": "", "description": "小 F 在数学课上与同学闲聊。\n\n> 给你一个正整数，计算他的约数个数。\n\n「你们竞赛就学这个啊？太简单了吧。」\n\n「……」\n\n> 给你一个正整数，计算他的所有约数的约数个数和。\n\n「我想想……嗯，还是不难的。诶，你们竞赛还能报名吗？」\n\n「……」\n\n> 给你一个正整数，计算他的所有约数的所有约数的约数个数和。\n\n「哎呀反正你们电脑总是能爆算出来的嘛，快给我说在哪报名。」\n\n「……」\n\n> 给你一个正整数，计算他的所有约数的所有约数的所有约数的约数个数和。\n\n「有完没完了？」\n\n「……」\n\n\n被嘲讽的小 F 将这个问题交给了你，请展示你的爆算实力。\n\n给你一个正整数 $N$，请计算 $N$ 的 $($所有约数的$)\\times K$ 约数个数和。\n\n答案可能很大，请输出对 $998244353$ 取模的结果。\n", "inputFormat": "输入一行两个整数 $N, K(1 \\leq N \\leq 10 ^ {18}, 0 \\leq K \\leq 10^{18})$。\n", "outputFormat": "输出一行一个非负整数，表示所求的答案对 $998244353$ 取模的结果。", "hint": "### 样例 1, 2, 3 解释\n\n$4,\\ 0:$ $4$ 的约数 $\\ 1\\ 2\\ 4$\n\n$4,\\ 1:$ $4$ 的所有约数的约数 $\\ (1)\\ (1\\ 2)\\ (1\\ 2\\ 4)$\n\n$4,\\ 2:$ $4$ 的所有约数的所有约数的约数 $((1))\\ ((1)\\ (1\\ 2))\\ ((1)\\ (1\\ 2)\\ (1\\ 2\\ 4))$\n\n### 子任务\n\n子任务 $1(11 \\mathrm{pts}) : N, K \\leq 10 ^ 4$\n\n子任务 $2(31 \\mathrm{pts}) : N \\leq 10 ^ 4$\n\n子任务 $3(41 \\mathrm{pts}) : N \\leq 10 ^ 9$\n\n子任务 $4(67 \\mathrm{pts}) : 1 \\leq N \\leq 10 ^ {18}, 0 \\leq K \\leq 10^{18} $。", "locale": "zh-CN", "translations": {"en": {"title": "\"Mathematics\" Sum of Divisor Counts", "background": "", "description": "Little F is chatting with classmates in math class.\n\n> Given a positive integer, compute the number of its divisors.\n\n“You guys in competitions just study this? Too easy.”\n\n“...”\n\n> Given a positive integer, compute the sum of the number of divisors of all its divisors.\n\n“Let me think... Hmm, still not hard. Hey, can you still sign up for your competitions?”\n\n“...”\n\n> Given a positive integer, compute the sum of the number of divisors of all the divisors of all its divisors.\n\n“Anyway your computers can always brute-force it, right? Hurry up and tell me where to sign up.”\n\n“...”\n\n> Given a positive integer, compute the sum of the number of divisors of all the divisors of all the divisors of all its divisors.\n\n“Will this ever end?”\n\n“...”\n\nMocked, Little F hands this problem to you. Please show your brute-forcing power.\n\nGiven a positive integer $N$, compute the sum of divisor counts over the multiset obtained by applying the operation “take all divisors” to $N$ exactly $K$ times.\n\nThe answer may be large; output it modulo $998244353$.", "inputFormat": "One line with two integers $N, K(1 \\leq N \\leq 10 ^ {18}, 0 \\leq K \\leq 10^{18})$.", "outputFormat": "Output a single non-negative integer: the required answer modulo $998244353$.", "hint": "### Explanations for Samples 1, 2, 3\n\n$4,\\ 0:$ $4$ 的约数 $\\ 1\\ 2\\ 4$\n\n$4,\\ 1:$ $4$ 的所有约数的约数 $\\ (1)\\ (1\\ 2)\\ (1\\ 2\\ 4)$\n\n$4,\\ 2:$ $4$ 的所有约数的所有约数的约数 $((1))\\ ((1)\\ (1\\ 2))\\ ((1)\\ (1\\ 2)\\ (1\\ 2\\ 4))$\n\n### Subtasks\n\n子任务 $1(11 \\mathrm{pts}) : N, K \\leq 10 ^ 4$\n\n子任务 $2(31 \\mathrm{pts}) : N \\leq 10 ^ 4$\n\n子任务 $3(41 \\mathrm{pts}) : N \\leq 10 ^ 9$\n\n子任务 $4(67 \\mathrm{pts}) : 1 \\leq N \\leq 10 ^ {18}, 0 \\leq K \\leq 10^{18} $。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "「数学」约数个数和", "background": "", "description": "小 F 在数学课上与同学闲聊。\n\n> 给你一个正整数，计算他的约数个数。\n\n「你们竞赛就学这个啊？太简单了吧。」\n\n「……」\n\n> 给你一个正整数，计算他的所有约数的约数个数和。\n\n「我想想……嗯，还是不难的。诶，你们竞赛还能报名吗？」\n\n「……」\n\n> 给你一个正整数，计算他的所有约数的所有约数的约数个数和。\n\n「哎呀反正你们电脑总是能爆算出来的嘛，快给我说在哪报名。」\n\n「……」\n\n> 给你一个正整数，计算他的所有约数的所有约数的所有约数的约数个数和。\n\n「有完没完了？」\n\n「……」\n\n\n被嘲讽的小 F 将这个问题交给了你，请展示你的爆算实力。\n\n给你一个正整数 $N$，请计算 $N$ 的 $($所有约数的$)\\times K$ 约数个数和。\n\n答案可能很大，请输出对 $998244353$ 取模的结果。\n", "inputFormat": "输入一行两个整数 $N, K(1 \\leq N \\leq 10 ^ {18}, 0 \\leq K \\leq 10^{18})$。\n", "outputFormat": "输出一行一个非负整数，表示所求的答案对 $998244353$ 取模的结果。", "hint": "### 样例 1, 2, 3 解释\n\n$4,\\ 0:$ $4$ 的约数 $\\ 1\\ 2\\ 4$\n\n$4,\\ 1:$ $4$ 的所有约数的约数 $\\ (1)\\ (1\\ 2)\\ (1\\ 2\\ 4)$\n\n$4,\\ 2:$ $4$ 的所有约数的所有约数的约数 $((1))\\ ((1)\\ (1\\ 2))\\ ((1)\\ (1\\ 2)\\ (1\\ 2\\ 4))$\n\n### 子任务\n\n子任务 $1(11 \\mathrm{pts}) : N, K \\leq 10 ^ 4$\n\n子任务 $2(31 \\mathrm{pts}) : N \\leq 10 ^ 4$\n\n子任务 $3(41 \\mathrm{pts}) : N \\leq 10 ^ 9$\n\n子任务 $4(67 \\mathrm{pts}) : 1 \\leq N \\leq 10 ^ {18}, 0 \\leq K \\leq 10^{18} $。", "locale": "zh-CN"}}}
{"pid": "P4715", "type": "P", "difficulty": 2, "samples": [["3\n4 2 3 1 10 5 9 7\n", "1\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000], "memory": [128000, 128000, 128000, 128000, 128000]}, "tags": ["模拟"], "title": "【深基16.例1】淘汰赛", "background": "", "description": "有 $2^n$（$n\\le7$）个国家参加世界杯决赛圈且进入淘汰赛环节。已经知道各个国家的能力值，且都不相等。能力值高的国家和能力值低的国家踢比赛时高者获胜。1 号国家和 2 号国家踢一场比赛，胜者晋级。3 号国家和 4 号国家也踢一场，胜者晋级……晋级后的国家用相同的方法继续完成赛程，直到决出冠军。给出各个国家的能力值，请问亚军是哪个国家？", "inputFormat": "第一行一个整数 $n$，表示一共 $2^n$ 个国家参赛。\n\n第二行 $2^n$ 个整数，第 $i$ 个整数表示编号为 $i$ 的国家的能力值（$1\\leq i \\leq 2^n$，能力值在 int 范围内）。\n\n数据保证不存在平局。", "outputFormat": "仅一个整数，表示亚军国家的编号。", "hint": "", "locale": "zh-CN", "translations": {"en": {"title": "[Deep Base 16. Example 1] Knockout Tournament", "background": "", "description": "There are $2^n$ ($n \\le 7$) countries participating in the World Cup finals and entering the knockout stage. The strength value of each country is known, and all values are different. When a country with a higher strength value plays against a country with a lower strength value, the stronger one wins. Country 1 plays a match against Country 2, and the winner advances. Country 3 plays against Country 4, and the winner advances... The advanced countries continue the tournament in the same way until the champion is decided. Given the strength values of all countries, which country is the runner-up?", "inputFormat": "The first line contains an integer $n$, meaning there are $2^n$ countries in total.\n\nThe second line contains $2^n$ integers. The $i$-th integer represents the strength value of country $i$ ($1 \\leq i \\leq 2^n$, and the strength values are within the int range).\n\nThe testdata guarantees that there are no draws.", "outputFormat": "Only one integer, representing the number of the runner-up country.", "hint": "\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【深基16.例1】淘汰赛", "background": "", "description": "有 $2^n$（$n\\le7$）个国家参加世界杯决赛圈且进入淘汰赛环节。已经知道各个国家的能力值，且都不相等。能力值高的国家和能力值低的国家踢比赛时高者获胜。1 号国家和 2 号国家踢一场比赛，胜者晋级。3 号国家和 4 号国家也踢一场，胜者晋级……晋级后的国家用相同的方法继续完成赛程，直到决出冠军。给出各个国家的能力值，请问亚军是哪个国家？", "inputFormat": "第一行一个整数 $n$，表示一共 $2^n$ 个国家参赛。\n\n第二行 $2^n$ 个整数，第 $i$ 个整数表示编号为 $i$ 的国家的能力值（$1\\leq i \\leq 2^n$，能力值在 int 范围内）。\n\n数据保证不存在平局。", "outputFormat": "仅一个整数，表示亚军国家的编号。", "hint": "", "locale": "zh-CN"}}}
{"pid": "P4716", "type": "P", "difficulty": 6, "samples": [["4 6 1\n1 2 3\n1 3 1\n4 1 2\n4 2 2\n3 2 1\n3 4 1", "3"], ["4 6 3\n1 2 3\n1 3 1\n4 1 2\n4 2 2\n3 2 1\n3 4 1", "4"], ["4 6 2\n1 2 3\n1 3 1\n4 1 2\n4 2 2\n3 2 1\n3 4 1", "-1"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["图论", "贪心", "强连通分量", "模板题"], "title": "【模板】最小树形图", "background": "这是一道模板题。", "description": "给定包含 $n$ 个结点， $m$ 条有向边的一个图。试求一棵以结点 $r$ 为根的最小树形图，并输出最小树形图每条边的权值之和，如果没有以 $r$ 为根的最小树形图，输出 $-1$。", "inputFormat": "第一行包含三个整数 $n,m,r$，意义同题目所述。\n\n接下来 $m$ 行，每行包含三个整数 $u,v,w$，表示图中存在一条从 $u$ 指向 $v$ 的权值为 $w$ 的有向边。\n", "outputFormat": "如果原图中存在以 $r$ 为根的最小树形图，就输出最小树形图每条边的权值之和，否则输出 $-1$。", "hint": "**样例 $1$ 解释**\n\n最小树形图中包含第 $2$， $5$， $6$ 三条边，总权值为 $1 + 1 + 1 = 3$\n\n**样例 $2$ 解释**\n\n最小树形图中包含第 $3$， $5$， $6$ 三条边，总权值为 $2 + 1 + 1 = 4$\n\n**样例 $3$ 解释**\n\n无法构成最小树形图，故输出 $-1$ 。\n\n**数据范围**\n\n对于所有数据，$1 \\leq u, v \\leq n \\leq 100$, $1 \\leq m \\leq 10^4$​​, $1 \\leq w \\leq 10^6$​​。", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Minimum Arborescence", "background": "This is a template problem.", "description": "Given a directed graph with $n$ nodes and $m$ directed edges. Find a minimum arborescence rooted at node $r$, and output the sum of the weights of all edges in the minimum arborescence. If there is no minimum arborescence rooted at $r$, output $-1$.", "inputFormat": "The first line contains three integers $n, m, r$, with the same meanings as described in the statement.\n\nThe next $m$ lines each contain three integers $u, v, w$, indicating that there is a directed edge from $u$ to $v$ with weight $w$.", "outputFormat": "If the original graph has a minimum arborescence rooted at $r$, output the sum of the weights of all edges in the minimum arborescence; otherwise output $-1$.", "hint": "**Sample $1$ Explanation**\n\nThe minimum arborescence contains edges $2$, $5$, and $6$, with total weight $1 + 1 + 1 = 3$.\n\n**Sample $2$ Explanation**\n\nThe minimum arborescence contains edges $3$, $5$, and $6$, with total weight $2 + 1 + 1 = 4$.\n\n**Sample $3$ Explanation**\n\nA minimum arborescence cannot be formed, so output $-1$.\n\n**Constraints**\n\nFor all testdata, $1 \\leq u, v \\leq n \\leq 100$, $1 \\leq m \\leq 10^4$, $1 \\leq w \\leq 10^6$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】最小树形图", "background": "这是一道模板题。", "description": "给定包含 $n$ 个结点， $m$ 条有向边的一个图。试求一棵以结点 $r$ 为根的最小树形图，并输出最小树形图每条边的权值之和，如果没有以 $r$ 为根的最小树形图，输出 $-1$。", "inputFormat": "第一行包含三个整数 $n,m,r$，意义同题目所述。\n\n接下来 $m$ 行，每行包含三个整数 $u,v,w$，表示图中存在一条从 $u$ 指向 $v$ 的权值为 $w$ 的有向边。\n", "outputFormat": "如果原图中存在以 $r$ 为根的最小树形图，就输出最小树形图每条边的权值之和，否则输出 $-1$。", "hint": "**样例 $1$ 解释**\n\n最小树形图中包含第 $2$， $5$， $6$ 三条边，总权值为 $1 + 1 + 1 = 3$\n\n**样例 $2$ 解释**\n\n最小树形图中包含第 $3$， $5$， $6$ 三条边，总权值为 $2 + 1 + 1 = 4$\n\n**样例 $3$ 解释**\n\n无法构成最小树形图，故输出 $-1$ 。\n\n**数据范围**\n\n对于所有数据，$1 \\leq u, v \\leq n \\leq 100$, $1 \\leq m \\leq 10^4$​​, $1 \\leq w \\leq 10^6$​​。", "locale": "zh-CN"}}}
{"pid": "P4717", "type": "P", "difficulty": 6, "samples": [["2\n2 4 6 8\n1 3 5 7\n", "2 22 46 250\n88 64 112 56\n100 92 68 60\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["快速沃尔什变换 FWT", "快速莫比乌斯变换 FMT", "模板题"], "title": "【模板】快速莫比乌斯 / 沃尔什变换 (FMT / FWT)", "background": "", "description": "给定长度为 $2^n$ 两个序列 $A,B$，设 \n\n$$C_i=\\sum_{j\\oplus k = i}A_j \\times B_k$$\n\n分别当 $\\oplus$ 是 or, and, xor 时求出 $C$。", "inputFormat": "第一行，一个整数 $n$。  \n第二行，$2^n$ 个数 $A_0, A_1, \\ldots, A_{2^n-1}$。  \n第三行，$2^n$ 个数 $B_0, B_1, \\ldots, B_{2^n-1}$。\n", "outputFormat": "三行，每行 $2^n$ 个数，分别代表 $\\oplus$ 是 or, and, xor 时 $C_0, C_1, \\ldots, C_{2^n-1}$ 的值 $\\bmod\\ 998244353$。\n", "hint": "$1 \\le n \\le 17$。", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Fast Möbius / Walsh Transform (FMT / FWT).", "background": "", "description": "Given two sequences $A$ and $B$ of length $2^n$, define\n\n$$C_i=\\sum_{j\\oplus k = i}A_j \\times B_k$$\n\nCompute $C$ respectively when $\\oplus$ is OR, AND, and XOR.", "inputFormat": "The first line contains an integer $n$.  \nThe second line contains $2^n$ numbers $A_0, A_1, \\ldots, A_{2^n-1}$.  \nThe third line contains $2^n$ numbers $B_0, B_1, \\ldots, A_{2^n-1}$.", "outputFormat": "Output three lines. Each line contains $2^n$ numbers, representing the values of $C_0, C_1, \\ldots, C_{2^n-1}$ when $\\oplus$ is OR, AND, and XOR, respectively, taken $\\bmod\\ 998244353$.", "hint": "$1 \\le n \\le 17$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】快速莫比乌斯 / 沃尔什变换 (FMT / FWT)", "background": "", "description": "给定长度为 $2^n$ 两个序列 $A,B$，设 \n\n$$C_i=\\sum_{j\\oplus k = i}A_j \\times B_k$$\n\n分别当 $\\oplus$ 是 or, and, xor 时求出 $C$。", "inputFormat": "第一行，一个整数 $n$。  \n第二行，$2^n$ 个数 $A_0, A_1, \\ldots, A_{2^n-1}$。  \n第三行，$2^n$ 个数 $B_0, B_1, \\ldots, B_{2^n-1}$。\n", "outputFormat": "三行，每行 $2^n$ 个数，分别代表 $\\oplus$ 是 or, and, xor 时 $C_0, C_1, \\ldots, C_{2^n-1}$ 的值 $\\bmod\\ 998244353$。\n", "hint": "$1 \\le n \\le 17$。", "locale": "zh-CN"}}}
{"pid": "P4718", "type": "P", "difficulty": 6, "samples": [["6\n2\n13\n134\n8897\n1234567654321\n1000000000000", "Prime\nPrime\n67\n41\n4649\n5"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768, 32768]}, "tags": ["数学", "递归", "素数判断,质数,筛法", "模板题"], "title": "【模板】Pollard-Rho", "background": "", "description": "Miller Rabin 算法是一种高效的质数判断方法。虽然是一种不确定的质数判断法，但是在选择多种底数的情况下，正确率是可以接受的。\n\nPollard rho 是一个非常玄学的方式，用于在 $O(n^{1/4})$ 的期望时间复杂度内计算合数 $n$ 的某个非平凡因子。事实上算法导论给出的是 $O(\\sqrt p)$，$p$ 是 $n$ 的某个最小因子，满足 $p$ 与 $n/p$ 互质。但是这些都是期望，未必符合实际。但事实上 Pollard rho 算法在实际环境中运行的相当不错。\n\n这里我们要写一个程序，对于每个数字检验是否是质数，是质数就输出 `Prime`；如果不是质数，输出它最大的质因子是哪个。", "inputFormat": "第一行，$T$ 代表数据组数（不大于 $350$）\n\n以下 $T$ 行，每行一个整数 $n$，保证 $2 \\le n \\le {10}^{18}$。", "outputFormat": "输出 $T$ 行。\n\n对于每组测试数据输出结果。", "hint": "2018.8.14 新加数据两组，时限加大到 2s，感谢 @whzzt\n\n2022.12.22 加入新的数据，感谢 @ftt2333 和 Library Checker\n\nby @will7101", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Pollard-Rho", "background": "", "description": "The Miller Rabin algorithm is an efficient method for primality testing. Although it is a probabilistic primality test, when multiple bases are chosen, the accuracy is acceptable.\n\nPollard rho is a rather “mystical” method used to find a non-trivial factor of a composite number $n$ in expected time complexity $O(n^{1/4})$. In fact, *Introduction to Algorithms* gives $O(\\sqrt p)$, where $p$ is the smallest factor of $n$, and $p$ is coprime with $n/p$. However, these are all expected results and may not match reality. In practice, the Pollard rho algorithm runs quite well.\n\nHere you need to write a program: for each number, check whether it is prime. If it is prime, output `Prime`; otherwise, output its largest prime factor.", "inputFormat": "The first line contains $T$, the number of test cases (not greater than $350$).\n\nThe next $T$ lines each contain an integer $n$, where $2 \\le n \\le {10}^{18}$ is guaranteed.", "outputFormat": "Output $T$ lines.\n\nFor each test case, output the result.", "hint": "On 2018.8.14, two new groups of testdata were added, and the time limit was increased to 2 s. Thanks to @whzzt.\n\nOn 2022.12.22, new testdata were added. Thanks to @ftt2333 and Library Checker.\n\nby @will7101.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】Pollard-Rho", "background": "", "description": "Miller Rabin 算法是一种高效的质数判断方法。虽然是一种不确定的质数判断法，但是在选择多种底数的情况下，正确率是可以接受的。\n\nPollard rho 是一个非常玄学的方式，用于在 $O(n^{1/4})$ 的期望时间复杂度内计算合数 $n$ 的某个非平凡因子。事实上算法导论给出的是 $O(\\sqrt p)$，$p$ 是 $n$ 的某个最小因子，满足 $p$ 与 $n/p$ 互质。但是这些都是期望，未必符合实际。但事实上 Pollard rho 算法在实际环境中运行的相当不错。\n\n这里我们要写一个程序，对于每个数字检验是否是质数，是质数就输出 `Prime`；如果不是质数，输出它最大的质因子是哪个。", "inputFormat": "第一行，$T$ 代表数据组数（不大于 $350$）\n\n以下 $T$ 行，每行一个整数 $n$，保证 $2 \\le n \\le {10}^{18}$。", "outputFormat": "输出 $T$ 行。\n\n对于每组测试数据输出结果。", "hint": "2018.8.14 新加数据两组，时限加大到 2s，感谢 @whzzt\n\n2022.12.22 加入新的数据，感谢 @ftt2333 和 Library Checker\n\nby @will7101", "locale": "zh-CN"}}}
{"pid": "P4719", "type": "P", "difficulty": 6, "samples": [["10 10\n-11 80 -99 -76 56 38 92 -51 -34 47 \n2 1\n3 1\n4 3\n5 2\n6 2\n7 1\n8 2\n9 4\n10 7\n9 -44\n2 -17\n2 98\n7 -58\n8 48\n3 99\n8 -61\n9 76\n9 14\n10 93\n", "186\n186\n190\n145\n189\n288\n244\n320\n258\n304"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["线段树", "O2优化", "树链剖分", "矩阵乘法", "动态 DP", "模板题"], "title": "【模板】动态 DP", "background": "", "description": "给定一棵 $n$ 个点的树，点带点权。\n\n有 $m$ 次操作，每次操作给定 $x,y$，表示修改点 $x$ 的权值为 $y$。\n\n你需要在每次操作之后求出这棵树的最大权独立集的权值大小。", "inputFormat": "第一行有两个整数，分别表示结点个数 $n$ 和操作个数 $m$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示节点 $i$ 的权值  $a_i$。\n\n接下来 $(n - 1)$ 行，每行两个整数 $u, v$，表示存在一条连接 $u$ 与 $v$ 的边。\n\n接下来 $m$ 行，每行两个整数 $x,y$，表示一次操作，修改点 $x$ 的权值为 $y$。", "outputFormat": "对于每次操作，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n,m\\le 10$。\n- 对于 $60\\%$ 的数据，保证 $n,m\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m\\le 10^5$，$1 \\leq u, v , x \\leq n$，$-10^2 \\leq a_i, y \\leq 10^2$。\n", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Dynamic DP", "background": "", "description": "Given a tree with $n$ nodes, each node has a weight.\n\nThere are $m$ operations. In each operation, you are given $x, y$, which means changing the weight of node $x$ to $y$.\n\nAfter each operation, you need to output the total weight of the maximum weight independent set of this tree.", "inputFormat": "The first line contains two integers, representing the number of nodes $n$ and the number of operations $m$.\n\nThe second line contains $n$ integers. The $i$-th integer is the weight $a_i$ of node $i$.\n\nIn the next $(n - 1)$ lines, each line contains two integers $u, v$, indicating that there is an edge connecting $u$ and $v$.\n\nIn the next $m$ lines, each line contains two integers $x, y$, indicating an operation that changes the weight of node $x$ to $y$.", "outputFormat": "For each operation, output one line with one integer representing the answer.", "hint": "#### Constraints\n\n- For $30\\%$ of the testdata, $n, m \\le 10$.\n- For $60\\%$ of the testdata, $n, m \\le 10^3$.\n- For $100\\%$ of the testdata, $1 \\le n, m \\le 10^5$, $1 \\leq u, v, x \\leq n$, and $-10^2 \\leq a_i, y \\leq 10^2$.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】动态 DP", "background": "", "description": "给定一棵 $n$ 个点的树，点带点权。\n\n有 $m$ 次操作，每次操作给定 $x,y$，表示修改点 $x$ 的权值为 $y$。\n\n你需要在每次操作之后求出这棵树的最大权独立集的权值大小。", "inputFormat": "第一行有两个整数，分别表示结点个数 $n$ 和操作个数 $m$。\n\n第二行有 $n$ 个整数，第 $i$ 个整数表示节点 $i$ 的权值  $a_i$。\n\n接下来 $(n - 1)$ 行，每行两个整数 $u, v$，表示存在一条连接 $u$ 与 $v$ 的边。\n\n接下来 $m$ 行，每行两个整数 $x,y$，表示一次操作，修改点 $x$ 的权值为 $y$。", "outputFormat": "对于每次操作，输出一行一个整数表示答案。", "hint": "#### 数据规模与约定\n\n- 对于 $30\\%$ 的数据，保证 $n,m\\le 10$。\n- 对于 $60\\%$ 的数据，保证 $n,m\\le 10^3$。\n- 对于 $100\\%$ 的数据，保证 $1\\le n,m\\le 10^5$，$1 \\leq u, v , x \\leq n$，$-10^2 \\leq a_i, y \\leq 10^2$。\n", "locale": "zh-CN"}}}
{"pid": "P4720", "type": "P", "difficulty": 6, "samples": [["5 3 3", "1"], ["666 233 123456", "61728"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["中国剩余定理 CRT", "逆元", "Lucas 定理", "模板题"], "title": "【模板】扩展卢卡斯定理 / exLucas", "background": "这是一道模板题。", "description": "求\n\n$${\\mathrm{C}}_n^m \\bmod{p}$$\n\n其中 $\\mathrm{C}$ 为组合数。", "inputFormat": "一行三个整数 $n,m,p$ ，含义由题所述。", "outputFormat": "一行一个整数，表示答案。", "hint": "对于 $100 \\%$ 的数据，$1 \\le m \\le n \\le {10}^{18}$，$2 \\le p \\le {10}^6$，**不保证** $p$ 是质数。", "locale": "zh-CN", "translations": {"en": {"title": "[Template] Extended Lucas Theorem / exLucas", "background": "This is a template problem.", "description": "Compute\n\n$${\\mathrm{C}}_n^m \\bmod{p}$$\n\nwhere $\\mathrm{C}$ is the binomial coefficient.", "inputFormat": "One line with three integers $n, m, p$, with meanings as described in the statement.", "outputFormat": "Output one integer in one line, representing the answer.", "hint": "For $100\\%$ of the testdata, $1 \\le m \\le n \\le {10}^{18}$, $2 \\le p \\le {10}^6$, and it is **not guaranteed** that $p$ is a prime number.\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "【模板】扩展卢卡斯定理 / exLucas", "background": "这是一道模板题。", "description": "求\n\n$${\\mathrm{C}}_n^m \\bmod{p}$$\n\n其中 $\\mathrm{C}$ 为组合数。", "inputFormat": "一行三个整数 $n,m,p$ ，含义由题所述。", "outputFormat": "一行一个整数，表示答案。", "hint": "对于 $100 \\%$ 的数据，$1 \\le m \\le n \\le {10}^{18}$，$2 \\le p \\le {10}^6$，**不保证** $p$ 是质数。", "locale": "zh-CN"}}}
