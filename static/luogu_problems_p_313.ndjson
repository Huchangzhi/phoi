{"pid": "P7337", "type": "P", "difficulty": 1, "samples": [["3 1 3\n1 0 1\n0 1 1\n", "3\n"], ["3 1 3\n1 1 1\n0 1 1\n", "2\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["模拟", "O2优化", "﻿基础算法", "枚举", "洛谷月赛"], "title": "『MdOI R4』Fun", "background": "去 NOIP 考场时有两个优良传统：打狼和喝快乐水。这两项活动都能给同学们带来快乐。", "description": "VG 的学校有 $n$ 个人要去考 NOIP。\n\n每个人有一个交通方式，第 $i$ 个人的交通方式为 $t_i$，$t_i=1$ 表示这个人坐学校大巴，$t_i=0$ 表示这个人自己去考场。\n\n每个人有一个颓废值，第 $i$ 个人的颓废值为 $q_i$，$q_i=1$ 表示这个人愿意打狼，$q_i=0$ 表示这个人不愿意打狼。\n\n每个人去考场时会买一瓶快乐水，但如果坐大巴且愿意打狼的人数（即满足 $t_i=1$ 且 $q_i=1$ 的 $i$ 个数）$k$ 不小于 $m$，则这 $k$ 个人只需要买 $m$ 瓶快乐水。\n\n现在，VG 统计出了所有人的交通方式和颓废值，他请你帮他求出最终所有人买快乐水的总瓶数。", "inputFormat": "第一行三个整数 $n,m,type$。其中 $type$ 表示特殊限制编号，具体意义见数据范围。它可能可以帮助你获得部分分，但正解不依赖于此。\n\n第二行 $n$ 个整数，第 $i$ 个整数为 $t_i$。\n\n第三行 $n$ 个整数，第 $i$ 个整数为 $q_i$。", "outputFormat": "一行一个整数，表示所有人最终买的快乐水总瓶数。", "hint": "【样例解释 #1】\n\n三个人的情况如下：\n\n- 第 $1$ 个人乘坐大巴但不打狼；\n\n- 第 $2$ 个人打狼但不乘坐大巴；\n\n- 第 $3$ 个人乘坐大巴而且打狼。\n\n所以，只有 $1$ 个人既乘车又打狼，满足不小于 $m$ 的条件，故对于这 $1$ 个人需要购买 $m$ 瓶快乐水，剩下 $2$ 个人购买 $2$ 瓶快乐水，总共须购买 $3$ 瓶快乐水。\n\n【数据规模与约定】\n\n**本题不采用捆绑测试**\n\n| 测试点编号 |   $n,m$    | $type$ |   $t_i$    |   $q_i$    |\n| :------: | :--------: | :----: | :--------: | :--------: |\n|   $1$    |  $\\le 30$  |  $=0$  |    $=0$    |    $=0$    |\n|   $2$    |  $\\le 70$  |  $=0$  |    $=0$    |    $=0$    |\n|   $3$    |  $\\le 30$  |  $=1$  |    $=1$    |    $=1$    |\n|   $4$    |  $\\le 70$  |  $=1$  |    $=1$    |    $=1$    |\n|   $5$    |   $n=m$    |  $=2$  | 无特殊限制 | 无特殊限制 |\n|   $6$    |   $n=m$    |  $=2$  | 无特殊限制 | 无特殊限制 |\n|   $7$    |   $n=m$    |  $=2$  | 无特殊限制 | 无特殊限制 |\n|   $8$    | 无特殊限制 |  $=3$  | 无特殊限制 | 无特殊限制 |\n|   $9$    | 无特殊限制 |  $=3$  | 无特殊限制 | 无特殊限制 |\n|   $10$   | 无特殊限制 |  $=3$  | 无特殊限制 | 无特殊限制 |\n\n对于 $100\\%$ 的数据，$1 \\le m \\le n \\le 100$，$t_i,q_i \\in \\{0,1\\}$，$type \\in \\{0,1,2,3\\}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R4』Fun", "background": "去 NOIP 考场时有两个优良传统：打狼和喝快乐水。这两项活动都能给同学们带来快乐。", "description": "VG 的学校有 $n$ 个人要去考 NOIP。\n\n每个人有一个交通方式，第 $i$ 个人的交通方式为 $t_i$，$t_i=1$ 表示这个人坐学校大巴，$t_i=0$ 表示这个人自己去考场。\n\n每个人有一个颓废值，第 $i$ 个人的颓废值为 $q_i$，$q_i=1$ 表示这个人愿意打狼，$q_i=0$ 表示这个人不愿意打狼。\n\n每个人去考场时会买一瓶快乐水，但如果坐大巴且愿意打狼的人数（即满足 $t_i=1$ 且 $q_i=1$ 的 $i$ 个数）$k$ 不小于 $m$，则这 $k$ 个人只需要买 $m$ 瓶快乐水。\n\n现在，VG 统计出了所有人的交通方式和颓废值，他请你帮他求出最终所有人买快乐水的总瓶数。", "inputFormat": "第一行三个整数 $n,m,type$。其中 $type$ 表示特殊限制编号，具体意义见数据范围。它可能可以帮助你获得部分分，但正解不依赖于此。\n\n第二行 $n$ 个整数，第 $i$ 个整数为 $t_i$。\n\n第三行 $n$ 个整数，第 $i$ 个整数为 $q_i$。", "outputFormat": "一行一个整数，表示所有人最终买的快乐水总瓶数。", "hint": "【样例解释 #1】\n\n三个人的情况如下：\n\n- 第 $1$ 个人乘坐大巴但不打狼；\n\n- 第 $2$ 个人打狼但不乘坐大巴；\n\n- 第 $3$ 个人乘坐大巴而且打狼。\n\n所以，只有 $1$ 个人既乘车又打狼，满足不小于 $m$ 的条件，故对于这 $1$ 个人需要购买 $m$ 瓶快乐水，剩下 $2$ 个人购买 $2$ 瓶快乐水，总共须购买 $3$ 瓶快乐水。\n\n【数据规模与约定】\n\n**本题不采用捆绑测试**\n\n| 测试点编号 |   $n,m$    | $type$ |   $t_i$    |   $q_i$    |\n| :------: | :--------: | :----: | :--------: | :--------: |\n|   $1$    |  $\\le 30$  |  $=0$  |    $=0$    |    $=0$    |\n|   $2$    |  $\\le 70$  |  $=0$  |    $=0$    |    $=0$    |\n|   $3$    |  $\\le 30$  |  $=1$  |    $=1$    |    $=1$    |\n|   $4$    |  $\\le 70$  |  $=1$  |    $=1$    |    $=1$    |\n|   $5$    |   $n=m$    |  $=2$  | 无特殊限制 | 无特殊限制 |\n|   $6$    |   $n=m$    |  $=2$  | 无特殊限制 | 无特殊限制 |\n|   $7$    |   $n=m$    |  $=2$  | 无特殊限制 | 无特殊限制 |\n|   $8$    | 无特殊限制 |  $=3$  | 无特殊限制 | 无特殊限制 |\n|   $9$    | 无特殊限制 |  $=3$  | 无特殊限制 | 无特殊限制 |\n|   $10$   | 无特殊限制 |  $=3$  | 无特殊限制 | 无特殊限制 |\n\n对于 $100\\%$ 的数据，$1 \\le m \\le n \\le 100$，$t_i,q_i \\in \\{0,1\\}$，$type \\in \\{0,1,2,3\\}$。", "locale": "zh-CN"}}}
{"pid": "P7338", "type": "P", "difficulty": 3, "samples": [["3\n5\n01110\n10010\n5\n11000\n01100\n5\n00101\n10100\n", "RP\n++\nRP"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["贪心", "洛谷原创", "洛谷月赛"], "title": "『MdOI R4』Color", "background": "", "description": "小 M 同学有一张 $2$ 行 $n$ 列的方格纸，一开始所有格子都是白色的。\n\n她决定对一些格子染色，具体地，每次她会选择两个**相邻的（四联通的，也就是有公共边的）白色**格子，其中一个染成红色，另一个染成蓝色。\n\n她的目标是通过**任意次操作**让指定的一些格子变成红色，**对其他格子没有要求**。请你帮她判断一下，能否通过上述操作达成目标呢？", "inputFormat": "**本题包含多组数据。** 第一行有一个正整数 $T$ 表示数据组数。\n\n接下来 $T$ 组数据，每组数据三行，包括：\n- 第一行，一个正整数 $n$ 表示方格纸列数。\n- 第二行，一个 $01$ 串 $p_{1\\ldots n}$，其中 $p_i=1$ 表示第 $1$ 行第 $i$ 列必须是红色，否则不作要求。\n- 第三行，一个 $01$ 串 $q_{1\\ldots n}$，其中 $q_i=1$ 表示第 $2$ 行第 $i$ 列必须是红色，否则不作要求。", "outputFormat": "$T$ 行，每行对应一组数据。\n\n对于每组数据，如果可以做到输出 `RP`，否则输出 `++`。", "hint": "【样例解释】\n\n![temp.png](https://i.loli.net/2020/09/27/oCRpYnPAlFk7GuS.png)\n\n上图中左侧为第一组测试数据的一种方案，右侧为第三组测试数据的一种方案，对于第二组测试数据，并没有满足要求的方案。\n\n【数据规模与约定】 \n\n**本题采用捆绑测试**\n\n|子任务编号|$n\\le$|特殊性质|$T\\le$|分值|\n|:-|:-|:-|:-|:-|\n|$1$|$3$|无特殊限制|$10$|$10$|\n|$2$|$10$|无特殊限制|$10$|$20$|\n|$3$|无特殊限制|所有 $1$ 都在同一行|$10$|$1$|\n|$4$|无特殊限制|$1$ 不超过 $4$ 个|$10$|$13$|\n|$5$|$10^3$|无特殊限制|$10$|$25$|\n|$6$|无特殊限制|无特殊限制|$10$|$30$|\n|$7$|$16$|无特殊限制|$65536$|$1$|\n\n对于所有数据，满足 $1\\le n\\le 10^5$，$\\sum n\\le 2^{20}$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R4』Color", "background": "", "description": "小 M 同学有一张 $2$ 行 $n$ 列的方格纸，一开始所有格子都是白色的。\n\n她决定对一些格子染色，具体地，每次她会选择两个**相邻的（四联通的，也就是有公共边的）白色**格子，其中一个染成红色，另一个染成蓝色。\n\n她的目标是通过**任意次操作**让指定的一些格子变成红色，**对其他格子没有要求**。请你帮她判断一下，能否通过上述操作达成目标呢？", "inputFormat": "**本题包含多组数据。** 第一行有一个正整数 $T$ 表示数据组数。\n\n接下来 $T$ 组数据，每组数据三行，包括：\n- 第一行，一个正整数 $n$ 表示方格纸列数。\n- 第二行，一个 $01$ 串 $p_{1\\ldots n}$，其中 $p_i=1$ 表示第 $1$ 行第 $i$ 列必须是红色，否则不作要求。\n- 第三行，一个 $01$ 串 $q_{1\\ldots n}$，其中 $q_i=1$ 表示第 $2$ 行第 $i$ 列必须是红色，否则不作要求。", "outputFormat": "$T$ 行，每行对应一组数据。\n\n对于每组数据，如果可以做到输出 `RP`，否则输出 `++`。", "hint": "【样例解释】\n\n![temp.png](https://i.loli.net/2020/09/27/oCRpYnPAlFk7GuS.png)\n\n上图中左侧为第一组测试数据的一种方案，右侧为第三组测试数据的一种方案，对于第二组测试数据，并没有满足要求的方案。\n\n【数据规模与约定】 \n\n**本题采用捆绑测试**\n\n|子任务编号|$n\\le$|特殊性质|$T\\le$|分值|\n|:-|:-|:-|:-|:-|\n|$1$|$3$|无特殊限制|$10$|$10$|\n|$2$|$10$|无特殊限制|$10$|$20$|\n|$3$|无特殊限制|所有 $1$ 都在同一行|$10$|$1$|\n|$4$|无特殊限制|$1$ 不超过 $4$ 个|$10$|$13$|\n|$5$|$10^3$|无特殊限制|$10$|$25$|\n|$6$|无特殊限制|无特殊限制|$10$|$30$|\n|$7$|$16$|无特殊限制|$65536$|$1$|\n\n对于所有数据，满足 $1\\le n\\le 10^5$，$\\sum n\\le 2^{20}$。", "locale": "zh-CN"}}}
{"pid": "P7339", "type": "P", "difficulty": 4, "samples": [["3\n3 6\n2 0 0 5 0 9 0 9\n3 6\n2 0 5 0 0 5 0 9\n2 6\n2 0 0 5\n", "Yoshino\nKotori\nKotori\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["洛谷月赛"], "title": "『MdOI R4』Kotori", "background": "『「因为」？所以呢？』\n\n『因为我是你的妹妹，所以你要叫我别阻止你胡来么？』\n\n『因为我是你的妹妹，所以你要叫我看着你赴死么？』\n\n『因为我是你的妹妹，所以你要叫我默默看着你可能被杀死么？』\n\n『不要开玩笑了，这算什么啊！还以为好不容易和平下来了，还以为士道终于不用再受伤了。』\n\n『我——我不希望士道死掉，不想再看到士道受伤了，已经受不了再让士道感到痛苦了啊……』\n\n『因为我——』\n\n『喜欢士道呀——』\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s0f5nxk0.png)", "description": "一年一度的世界最萌大会开始了。作为曾经的「萌王」，Kotori 自然无需参赛。但她希望帮助自己的哥哥  Shido 获得「燃王」的头衔。\n\n本届 ISML 共有 $n=2^k$ 名参赛选手，编号为 $1,2\\ldots n$，其中 Shido 的编号是 $1$，赛制为淘汰赛。每一轮比赛之后剩余选手中编号最小的两人为对手，编号第 $3,4$ 小的两人为对手，依次类推。每场比赛的胜负取决于粉丝的投票数，获得票数较多的一方晋级下一轮比赛，票数较少的一方淘汰。\n\n例如共有 $4$ 名选手，则第一轮编号为 $1,2$ 的选手进行一场比赛，编号 $3,4$ 的选手进行一场比赛，然后两场比赛的胜者进行一场比赛，争夺总冠军。获得总冠军的选手将获得「燃王」头衔。\n\n每个角色有一个厨团，$i$ 号选手的厨团人数为 $a_i$。每轮投票时，所有厨团的成员**会且仅会**为对应的选手投票。\n\n此外，Kotori 拥有一个人数为 $m$ 人的团队，他们会永远跟随 Kotori 投票。也就是说，每场比赛 Kotori 都可以为对战双方的任意一者增加 $m$ 张得票。注意在一轮比赛中可能有多场比赛，每场比赛一定只有两名选手。\n\n另外，Kotori 还拥有一项特权：当某场比赛双方的票数相同时，作为萌王的她可以决定这场比赛的胜者。\n\n现在，Kotori 希望知道，她是否有能力帮助哥哥成为冠军，获得「燃王」的头衔。", "inputFormat": "**本题包含多组数据。** 第一行有一个正整数 $T$ 表示数据组数。\n\n接下来 $T$ 组数据，每组数据两行，包括：\n\n- 第一行两个整数，表示 $k,m$。\n- 第二行 $2^k$ 个整数，第 $i$ 个表示 $a_i$。", "outputFormat": "$T$ 行，每行对应一组数据。\n\n对于每组数据，如果可以做到输出 `Kotori`，否则输出 `Yoshino`。", "hint": "【样例解释 #1】\n\n对于 $1$ 组数据，并不存在让 Shido 成为燃王的方案。\n\n对于第 $2$ 组数据，考虑以下方案：\n\n第 $1$ 轮：\n- $1$ 号和 $2$ 号比赛，把票给 $1$ 号，$2$ 号淘汰。\n- $3$ 号和 $4$ 号比赛，把票给 $3$ 号，$4$ 号淘汰。\n- $5$ 号和 $6$ 号比赛，把票给 $6$ 号，$5$ 号淘汰。\n- $7$ 号和 $8$ 号比赛，把票给 $7$ 号，$7$ 号淘汰。\n\n第 $2$ 轮：\n- $1$ 号和 $3$ 号比赛，把票给 $1$ 号，$3$ 号淘汰。\n- $6$ 号和 $8$ 号比赛，把票给 $6$ 号，$8$ 号淘汰。\n\n第 $3$ 轮：\n- $1$ 号和 $6$ 号比赛，把票给 $1$ 号，$6$ 号淘汰。\n\n【数据规模与约定】\n\n**本题采用捆绑测试**\n\n| 子任务编号 | $k\\le$    |$\\sum n\\le$ | $m\\le $    | 分值  |\n| -----|------ | ---------- | ---------- | ----- |\n| $1$        | $0$  |$1$      | 无特殊限制 | $1$   |\n| $2$        | $1$     |$2^{11}$   | 无特殊限制 | $9$   |\n| $3$        | $4$  |$2^{14} $     | 无特殊限制 | $15$  |\n| $4$        | 无特殊限制 |$2^{20}$| $0$        | $10 $ |\n| $5$        | $9$   |   $2^{11}$| 无特殊限制 | $20$  |\n| $6$        | $15$   |$2^{17}$    | 无特殊限制 | $20$  |\n| $7$        | $18$   |$2^{20} $   | 无特殊限制 | $25$  |\n\n对于 $100\\%$ 的数据，$\\sum n\\le 2^{20}$，$0\\le k\\le 18$，$0\\le m,a_i\\le 10^9$。\n\n【提示与帮助】\n\n本题读入量较大，请选手选择较快的读入方式。\n\n本题中的“世界最萌大会”与真正的“世界最萌大会”有所不同，在本题中请以本题为准。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R4』Kotori", "background": "『「因为」？所以呢？』\n\n『因为我是你的妹妹，所以你要叫我别阻止你胡来么？』\n\n『因为我是你的妹妹，所以你要叫我看着你赴死么？』\n\n『因为我是你的妹妹，所以你要叫我默默看着你可能被杀死么？』\n\n『不要开玩笑了，这算什么啊！还以为好不容易和平下来了，还以为士道终于不用再受伤了。』\n\n『我——我不希望士道死掉，不想再看到士道受伤了，已经受不了再让士道感到痛苦了啊……』\n\n『因为我——』\n\n『喜欢士道呀——』\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s0f5nxk0.png)", "description": "一年一度的世界最萌大会开始了。作为曾经的「萌王」，Kotori 自然无需参赛。但她希望帮助自己的哥哥  Shido 获得「燃王」的头衔。\n\n本届 ISML 共有 $n=2^k$ 名参赛选手，编号为 $1,2\\ldots n$，其中 Shido 的编号是 $1$，赛制为淘汰赛。每一轮比赛之后剩余选手中编号最小的两人为对手，编号第 $3,4$ 小的两人为对手，依次类推。每场比赛的胜负取决于粉丝的投票数，获得票数较多的一方晋级下一轮比赛，票数较少的一方淘汰。\n\n例如共有 $4$ 名选手，则第一轮编号为 $1,2$ 的选手进行一场比赛，编号 $3,4$ 的选手进行一场比赛，然后两场比赛的胜者进行一场比赛，争夺总冠军。获得总冠军的选手将获得「燃王」头衔。\n\n每个角色有一个厨团，$i$ 号选手的厨团人数为 $a_i$。每轮投票时，所有厨团的成员**会且仅会**为对应的选手投票。\n\n此外，Kotori 拥有一个人数为 $m$ 人的团队，他们会永远跟随 Kotori 投票。也就是说，每场比赛 Kotori 都可以为对战双方的任意一者增加 $m$ 张得票。注意在一轮比赛中可能有多场比赛，每场比赛一定只有两名选手。\n\n另外，Kotori 还拥有一项特权：当某场比赛双方的票数相同时，作为萌王的她可以决定这场比赛的胜者。\n\n现在，Kotori 希望知道，她是否有能力帮助哥哥成为冠军，获得「燃王」的头衔。", "inputFormat": "**本题包含多组数据。** 第一行有一个正整数 $T$ 表示数据组数。\n\n接下来 $T$ 组数据，每组数据两行，包括：\n\n- 第一行两个整数，表示 $k,m$。\n- 第二行 $2^k$ 个整数，第 $i$ 个表示 $a_i$。", "outputFormat": "$T$ 行，每行对应一组数据。\n\n对于每组数据，如果可以做到输出 `Kotori`，否则输出 `Yoshino`。", "hint": "【样例解释 #1】\n\n对于 $1$ 组数据，并不存在让 Shido 成为燃王的方案。\n\n对于第 $2$ 组数据，考虑以下方案：\n\n第 $1$ 轮：\n- $1$ 号和 $2$ 号比赛，把票给 $1$ 号，$2$ 号淘汰。\n- $3$ 号和 $4$ 号比赛，把票给 $3$ 号，$4$ 号淘汰。\n- $5$ 号和 $6$ 号比赛，把票给 $6$ 号，$5$ 号淘汰。\n- $7$ 号和 $8$ 号比赛，把票给 $7$ 号，$7$ 号淘汰。\n\n第 $2$ 轮：\n- $1$ 号和 $3$ 号比赛，把票给 $1$ 号，$3$ 号淘汰。\n- $6$ 号和 $8$ 号比赛，把票给 $6$ 号，$8$ 号淘汰。\n\n第 $3$ 轮：\n- $1$ 号和 $6$ 号比赛，把票给 $1$ 号，$6$ 号淘汰。\n\n【数据规模与约定】\n\n**本题采用捆绑测试**\n\n| 子任务编号 | $k\\le$    |$\\sum n\\le$ | $m\\le $    | 分值  |\n| -----|------ | ---------- | ---------- | ----- |\n| $1$        | $0$  |$1$      | 无特殊限制 | $1$   |\n| $2$        | $1$     |$2^{11}$   | 无特殊限制 | $9$   |\n| $3$        | $4$  |$2^{14} $     | 无特殊限制 | $15$  |\n| $4$        | 无特殊限制 |$2^{20}$| $0$        | $10 $ |\n| $5$        | $9$   |   $2^{11}$| 无特殊限制 | $20$  |\n| $6$        | $15$   |$2^{17}$    | 无特殊限制 | $20$  |\n| $7$        | $18$   |$2^{20} $   | 无特殊限制 | $25$  |\n\n对于 $100\\%$ 的数据，$\\sum n\\le 2^{20}$，$0\\le k\\le 18$，$0\\le m,a_i\\le 10^9$。\n\n【提示与帮助】\n\n本题读入量较大，请选手选择较快的读入方式。\n\n本题中的“世界最萌大会”与真正的“世界最萌大会”有所不同，在本题中请以本题为准。", "locale": "zh-CN"}}}
{"pid": "P7340", "type": "P", "difficulty": 6, "samples": [["1\n3 3 2\n2 4 1 4\n10 4 3 4\n1 3 1 3\n", "1 3\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["数学", "二分", "Special Judge", "O2优化", "洛谷月赛"], "title": "『MdOI R4』Balance", "background": "可怜的 $\\rm\\textcolor {grey}{JohnVictor}$ 玩的卡组在平衡性调整中被削弱了，现在他掉了很多杯，他想知道什么样的一个世界才是真正平衡的。\n\n于是就有了这题。", "description": "给定长度为 $n$ 的，由整数构成的数组 $a,b,p,q$，并定义函数 $f(i,j)=\\dfrac{a_i+b_j}{p_i+q_j}(1\\le i,j\\le n)$。\n\n再给定两个整数 $x,y$，你需要求出一对 $(i,j)$，使得 $f(i,j)$ 在所有 $f(i,t)(t=1,2,\\cdots,n)$ 中是第 $x$ 小的，在所有 $f(s,j)(s=1,2,\\cdots,n)$ 中是第 $y$ 小的。 \n\n在本题中，我们称一个数 $x$ 在序列 $c_{1\\ldots n}$ 中是第 $k$ 小的，当且仅当在 $c$ 中有且仅有 $\\alpha$ 个数 $y$ 满足 $y<x$，且有且仅有 $\\beta$ 个数 $y$ 满足 $y\\le x$，同时 $\\alpha<k\\le \\beta$。\n\n如果不存在这样的 $(i,j)$，请输出 `0 0`。\n\n如果有多组这样的 $(i,j)$，输出任意一组即可。\n\n由于平衡性的问题不是一次就能问清楚的，所以出题人会问你多次。", "inputFormat": "**本题有多组数据。**\n\n第一行一个整数 $T$ 表示数据组数，对于每组数据：\n\n第一行三个正整数 $n,x,y$。\n\n接下来 $n$ 行，每行 $4$ 个整数。第 $i$ 行的四个整数为 $a_i,b_i,p_i,q_i$。", "outputFormat": "$T$行，每一行两个整数，表示你找出的 $(i,j)$。", "hint": "【样例解释 #1】\n- $f(1,1)=1.2;f(1,2)=1.2;f(1,3)=1.25$。\n- $f(2,1)=2;f(2,2)=2;f(2,3)=2\\frac{1}{6}$。\n- $f(3,1)=1;f(3,2)=1;f(3,3)=1$。\n\n$f(1,3)$ 在 $f(1,1),f(1,2),f(1,3)$ 中是第 $3$ 小的，$f(1,3)$ 在 $f(1,3),f(2,3),f(3,3)$ 中是第 $2$ 小的。\n\n【数据规模与约定】\n\n**本题采用捆绑测试**\n\n| 子任务编号 | $\\sum n\\le$         | $\\vert a_i\\vert ,\\vert b_i\\vert ,p_i,q_i\\le$ | $(x,y)= $  | 分值  |\n| ---------- | -------------- | -------------------- | ---------- | ----- |\n| $1$        | $5\\times 10^3$ | 无特殊限制           | 无特殊限制 | $10$  |\n| $2$        | 无特殊限制     | $3$                  | 无特殊限制 | $10$  |\n| $3$        | $10^5$         | 无特殊限制           | $(1,n)$        | $30 $ |\n| $4$        | $10^5$         | 无特殊限制           | 无特殊限制 | $20$  |\n| $5$        | 无特殊限制     | 无特殊限制           | 无特殊限制 | $30$  |\n\n对于 $100\\%$ 的数据，$1 \\le x,y \\le n \\le 5 \\times 10^5$，$\\sum n \\le 5 \\times 10^5$，$|a_i|,|b_i|\\le 10^9$，$0<p_i,q_i\\le 10^9$，其中 $\\sum n $ 表示所有数据中 $n$ 的和。\n\n【提示与帮助】\n\n本题读入量较大，请选手选择较快的读入方式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R4』Balance", "background": "可怜的 $\\rm\\textcolor {grey}{JohnVictor}$ 玩的卡组在平衡性调整中被削弱了，现在他掉了很多杯，他想知道什么样的一个世界才是真正平衡的。\n\n于是就有了这题。", "description": "给定长度为 $n$ 的，由整数构成的数组 $a,b,p,q$，并定义函数 $f(i,j)=\\dfrac{a_i+b_j}{p_i+q_j}(1\\le i,j\\le n)$。\n\n再给定两个整数 $x,y$，你需要求出一对 $(i,j)$，使得 $f(i,j)$ 在所有 $f(i,t)(t=1,2,\\cdots,n)$ 中是第 $x$ 小的，在所有 $f(s,j)(s=1,2,\\cdots,n)$ 中是第 $y$ 小的。 \n\n在本题中，我们称一个数 $x$ 在序列 $c_{1\\ldots n}$ 中是第 $k$ 小的，当且仅当在 $c$ 中有且仅有 $\\alpha$ 个数 $y$ 满足 $y<x$，且有且仅有 $\\beta$ 个数 $y$ 满足 $y\\le x$，同时 $\\alpha<k\\le \\beta$。\n\n如果不存在这样的 $(i,j)$，请输出 `0 0`。\n\n如果有多组这样的 $(i,j)$，输出任意一组即可。\n\n由于平衡性的问题不是一次就能问清楚的，所以出题人会问你多次。", "inputFormat": "**本题有多组数据。**\n\n第一行一个整数 $T$ 表示数据组数，对于每组数据：\n\n第一行三个正整数 $n,x,y$。\n\n接下来 $n$ 行，每行 $4$ 个整数。第 $i$ 行的四个整数为 $a_i,b_i,p_i,q_i$。", "outputFormat": "$T$行，每一行两个整数，表示你找出的 $(i,j)$。", "hint": "【样例解释 #1】\n- $f(1,1)=1.2;f(1,2)=1.2;f(1,3)=1.25$。\n- $f(2,1)=2;f(2,2)=2;f(2,3)=2\\frac{1}{6}$。\n- $f(3,1)=1;f(3,2)=1;f(3,3)=1$。\n\n$f(1,3)$ 在 $f(1,1),f(1,2),f(1,3)$ 中是第 $3$ 小的，$f(1,3)$ 在 $f(1,3),f(2,3),f(3,3)$ 中是第 $2$ 小的。\n\n【数据规模与约定】\n\n**本题采用捆绑测试**\n\n| 子任务编号 | $\\sum n\\le$         | $\\vert a_i\\vert ,\\vert b_i\\vert ,p_i,q_i\\le$ | $(x,y)= $  | 分值  |\n| ---------- | -------------- | -------------------- | ---------- | ----- |\n| $1$        | $5\\times 10^3$ | 无特殊限制           | 无特殊限制 | $10$  |\n| $2$        | 无特殊限制     | $3$                  | 无特殊限制 | $10$  |\n| $3$        | $10^5$         | 无特殊限制           | $(1,n)$        | $30 $ |\n| $4$        | $10^5$         | 无特殊限制           | 无特殊限制 | $20$  |\n| $5$        | 无特殊限制     | 无特殊限制           | 无特殊限制 | $30$  |\n\n对于 $100\\%$ 的数据，$1 \\le x,y \\le n \\le 5 \\times 10^5$，$\\sum n \\le 5 \\times 10^5$，$|a_i|,|b_i|\\le 10^9$，$0<p_i,q_i\\le 10^9$，其中 $\\sum n $ 表示所有数据中 $n$ 的和。\n\n【提示与帮助】\n\n本题读入量较大，请选手选择较快的读入方式。", "locale": "zh-CN"}}}
{"pid": "P7341", "type": "P", "difficulty": 7, "samples": [["1\n3 3\n1 3 7", "4"], ["2\n5 9\n2 30 98 386 482\n4 2 \n1 3 3 1", "12\n12"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["洛谷月赛"], "title": "『MdOI R4』Phoenix", "background": "这是 $6$ 题中唯一一道没有题目背景的题。", "description": "给定 $n$ 个**不可重**集合 $s_1\\dots s_n$，集合中的数都是 $[1,m]$ 的范围内的整数。\n\n现在请你求出有多少种 $1\\sim n$ 的排列 $p$，使得\n\n$(\\sum\\limits_{i=1}^n |s_i|)-(\\sum\\limits_{i=1}^{n-1} |s_{p_i}\\bigcap s_{p_{i+1}}|)=|\\bigcup\\limits_{i=1}^n s_i|$\n\n成立。\n\n答案对 $998244353$ 取模。保证取模前的真实答案大于 $0$。", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$ 表示数据组数，对于每组数据：\n\n第一行两个正整数 $n,m$。\n\n第二行 $n$ 个正整数 $a_1,a_2,\\cdots,a_n$，每个正整数代表一个状态压缩下的集合，若 $a_i$ 在二进制下从低位往高位的第 $k$ 位是 $1$，则 $s_i$ 包含 $k$，否则 $s_i$ 不包含 $k$。", "outputFormat": "$T$ 行，每行对应一组测试数据。\n\n对于每组数据，一行一个整数表示答案。", "hint": "【样例解释 #1】\n\n三个集合分别为 $\\{1\\},\\{1,2\\},\\{1,2,3\\}$。\n\n\n共有四个排列符合条件，分别是 $(1,2,3),(1,3,2),(2,3,1),(3,2,1)$。\n\n【数据规模与约定】\n\n**本题采用捆绑测试**\n|子任务编号|$n\\le$|$m\\le$|特殊性质|分值|\n|:-|:-|:-|:-|:-|\n|$1$|$10$|$20$|无特殊限制|$10$|\n|$2$|$30$|无特殊限制|$a_i=2^i$|$10$|\n|$3$|无特殊限制|无特殊限制|$a_i\\operatorname{or}a_j=\\max(a_i,a_j)$|$10$|\n|$4$|无特殊限制|无特殊限制|每个集合恰好包含两个元素|$20$|\n|$5$|无特殊限制|$20$|无特殊限制|$20$|\n|$6$|无特殊限制|无特殊限制|无特殊限制|$30$|\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 50$，$1\\le \\sum n\\le  10^5$，$1\\le m\\le 60$，$0 \\le a_i \\le 2^m-1$，其中 $\\sum n$  表示所有测试数据中 $n$ 的和。\n\n【提示与帮助】\n\n本题读入量较大，请选手选择较快的读入方式。\n\n感谢 $\\rm\\textcolor{black}{J}\\textcolor{red}{ohnVictor}$ 对此题的贡献。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R4』Phoenix", "background": "这是 $6$ 题中唯一一道没有题目背景的题。", "description": "给定 $n$ 个**不可重**集合 $s_1\\dots s_n$，集合中的数都是 $[1,m]$ 的范围内的整数。\n\n现在请你求出有多少种 $1\\sim n$ 的排列 $p$，使得\n\n$(\\sum\\limits_{i=1}^n |s_i|)-(\\sum\\limits_{i=1}^{n-1} |s_{p_i}\\bigcap s_{p_{i+1}}|)=|\\bigcup\\limits_{i=1}^n s_i|$\n\n成立。\n\n答案对 $998244353$ 取模。保证取模前的真实答案大于 $0$。", "inputFormat": "**本题有多组数据。**\n\n第一行一个正整数 $T$ 表示数据组数，对于每组数据：\n\n第一行两个正整数 $n,m$。\n\n第二行 $n$ 个正整数 $a_1,a_2,\\cdots,a_n$，每个正整数代表一个状态压缩下的集合，若 $a_i$ 在二进制下从低位往高位的第 $k$ 位是 $1$，则 $s_i$ 包含 $k$，否则 $s_i$ 不包含 $k$。", "outputFormat": "$T$ 行，每行对应一组测试数据。\n\n对于每组数据，一行一个整数表示答案。", "hint": "【样例解释 #1】\n\n三个集合分别为 $\\{1\\},\\{1,2\\},\\{1,2,3\\}$。\n\n\n共有四个排列符合条件，分别是 $(1,2,3),(1,3,2),(2,3,1),(3,2,1)$。\n\n【数据规模与约定】\n\n**本题采用捆绑测试**\n|子任务编号|$n\\le$|$m\\le$|特殊性质|分值|\n|:-|:-|:-|:-|:-|\n|$1$|$10$|$20$|无特殊限制|$10$|\n|$2$|$30$|无特殊限制|$a_i=2^i$|$10$|\n|$3$|无特殊限制|无特殊限制|$a_i\\operatorname{or}a_j=\\max(a_i,a_j)$|$10$|\n|$4$|无特殊限制|无特殊限制|每个集合恰好包含两个元素|$20$|\n|$5$|无特殊限制|$20$|无特殊限制|$20$|\n|$6$|无特殊限制|无特殊限制|无特殊限制|$30$|\n\n对于 $100\\%$ 的数据，$1 \\le T \\le 50$，$1\\le \\sum n\\le  10^5$，$1\\le m\\le 60$，$0 \\le a_i \\le 2^m-1$，其中 $\\sum n$  表示所有测试数据中 $n$ 的和。\n\n【提示与帮助】\n\n本题读入量较大，请选手选择较快的读入方式。\n\n感谢 $\\rm\\textcolor{black}{J}\\textcolor{red}{ohnVictor}$ 对此题的贡献。", "locale": "zh-CN"}}}
{"pid": "P7342", "type": "P", "difficulty": 7, "samples": [["4 3\n3 4 6\n", "104\n"], ["10 10\n2 5 3 8 4 5 2 19 3 6\n", "219856\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["O2优化", "洛谷月赛"], "title": "『MdOI R4』Destiny", "background": "T5 的第一句话是假的。", "description": "注意，本题中下标从 $0$ 开始。\n\n一个长度为 $n$ 的序列 $\\{a_i\\}$ 的权值 $v(a)$ 定义为：\n- $n=1$ 时为 $v(a)=a_0$。\n- $n>1$ 时为它所有子区间的权值之和，也就是 $v(a_0,a_1,\\ldots,a_{n-1})=\\sum\\limits_{i=0}^{n-2}\\sum\\limits_{j=0}^{n-i-1}v(a_j,a_{j+1},\\ldots,a_{j+i})$. \n\n给定一个序列，求出它的的权值，答案对 $998244353$ 取模。\n\n这个序列是这样生成的：输入序列 $b_0,b_1,\\cdots,b_{k-1}$，然后 $a_i=b_{i\\bmod k}$。", "inputFormat": "第一行为 $n,k$，表示序列 $a$ 的长和序列 $b$ 的长。\n\n第二行为 $b_0,b_1,\\cdots,b_{k-1}$，含义见题目描述。", "outputFormat": "一行一个整数，表示序列 $a$ 的权值对 $998244353$ 取余的结果。", "hint": "【样例解释 #1】\n\n生成序列 $a=[3,4,6,3]$，然后：\n- $v(3,4)=v(3)+v(4)=7$\n- $v(4,6)=v(4)+v(6)=10$\n- $v(6,3)=v(6)+v(3)=9$\n- $v(3,4,6)=v(3)+v(4)+v(6)+v(3,4)+v(4,6)=30$\n- $v(4,6,3)=v(4)+v(6)+v(3)+v(4,6)+v(6,3)=32$\n- $v(3,4,6,3)=v(3)+v(4)+v(6)+v(3)+v(3,4)+v(4,6)+v(6,3)+v(3,4,6)+v(4,6,3)=104$\n\n【数据规模与约定】\n\n**本题不使用捆绑测试。**\n\n本题共 $25$ 个测试点，每个测试点 $4$ 分。\n\n|测试点编号|$n\\le$|$k$|\n|:-|:-|:-|\n|$1\\sim 3$|$5000$|无特殊限制|\n|$4\\sim 10$|$10^5$|无特殊限制|\n|$11\\sim 15$|无特殊限制|$=60928$|\n|$16\\sim 25$|无特殊限制|无特殊限制|\n\n对于 $100\\%$ 的数据 : $1\\le n\\le 10^9$，$1 \\le k \\le 10^5$，$0\\le a_i\\le 998244352$。\n\n感谢 $\\rm\\textcolor{black}{J}\\textcolor{red}{ohnVictor}$ 对此题的贡献。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "『MdOI R4』Destiny", "background": "T5 的第一句话是假的。", "description": "注意，本题中下标从 $0$ 开始。\n\n一个长度为 $n$ 的序列 $\\{a_i\\}$ 的权值 $v(a)$ 定义为：\n- $n=1$ 时为 $v(a)=a_0$。\n- $n>1$ 时为它所有子区间的权值之和，也就是 $v(a_0,a_1,\\ldots,a_{n-1})=\\sum\\limits_{i=0}^{n-2}\\sum\\limits_{j=0}^{n-i-1}v(a_j,a_{j+1},\\ldots,a_{j+i})$. \n\n给定一个序列，求出它的的权值，答案对 $998244353$ 取模。\n\n这个序列是这样生成的：输入序列 $b_0,b_1,\\cdots,b_{k-1}$，然后 $a_i=b_{i\\bmod k}$。", "inputFormat": "第一行为 $n,k$，表示序列 $a$ 的长和序列 $b$ 的长。\n\n第二行为 $b_0,b_1,\\cdots,b_{k-1}$，含义见题目描述。", "outputFormat": "一行一个整数，表示序列 $a$ 的权值对 $998244353$ 取余的结果。", "hint": "【样例解释 #1】\n\n生成序列 $a=[3,4,6,3]$，然后：\n- $v(3,4)=v(3)+v(4)=7$\n- $v(4,6)=v(4)+v(6)=10$\n- $v(6,3)=v(6)+v(3)=9$\n- $v(3,4,6)=v(3)+v(4)+v(6)+v(3,4)+v(4,6)=30$\n- $v(4,6,3)=v(4)+v(6)+v(3)+v(4,6)+v(6,3)=32$\n- $v(3,4,6,3)=v(3)+v(4)+v(6)+v(3)+v(3,4)+v(4,6)+v(6,3)+v(3,4,6)+v(4,6,3)=104$\n\n【数据规模与约定】\n\n**本题不使用捆绑测试。**\n\n本题共 $25$ 个测试点，每个测试点 $4$ 分。\n\n|测试点编号|$n\\le$|$k$|\n|:-|:-|:-|\n|$1\\sim 3$|$5000$|无特殊限制|\n|$4\\sim 10$|$10^5$|无特殊限制|\n|$11\\sim 15$|无特殊限制|$=60928$|\n|$16\\sim 25$|无特殊限制|无特殊限制|\n\n对于 $100\\%$ 的数据 : $1\\le n\\le 10^9$，$1 \\le k \\le 10^5$，$0\\le a_i\\le 998244352$。\n\n感谢 $\\rm\\textcolor{black}{J}\\textcolor{red}{ohnVictor}$ 对此题的贡献。", "locale": "zh-CN"}}}
{"pid": "P7343", "type": "P", "difficulty": 2, "samples": [["3 0\n3 2 1", "1 2 3"], ["7 2\n1 3 1 4 5 2 1\n2 4", "1 3 1 4 1 2 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": [], "title": "【DSOI 2021】电子跃迁", "background": "\n> “如果能证明大统一理论，这个世界将焕然一新。”\\\n“量子……量子……就差一点……”\\\n“嘶……哦。**我想我明白了**。”", "description": "在你的视野下，出现了一排电子，他们分别拥有不同的能量。你需要做的是通过**将相邻电子互换**的方法，将电子排的有序。**有序**是指：能量最小的电子放到最靠近原子核的左边，将第二小的电子放在第二……将能量最大的电子放在最右边。\\\n可是，你发现电子轨道之间忽然出现了 $m$ 个奇怪的力，使位于第 $x_i$ 个位置的电子和位于第 $x_i+1$ 个位置的电子无法进行交换。\n\n你深信这个力将会颠覆当下的物理理论。你需要做的是将现在的一排电子排得**尽量有序**以发现其中规律。\n\n**尽量有序**是指：**在条件下**，能量最小的电子尽量放到左边直至出现屏障，以此类推。\n", "inputFormat": "第一行输入两个整数 $n,m$ ，分别表示电子数量和力的数量。\\\n第二行输入 $n$ 个整数，表示初始电子排列，其中第 $i$ 个数 $a_i$ 代表第 $i$ 个电子拥有的能量。\\\n第三行包含 $m$ 个整数。其中第 $i$ 个整数 $x_i$ 表示位于第 $x_i$ 个位置的电子和位于第 $x_i+1$ 个位置的电子无法进行交换的。\n", "outputFormat": "输出一行 $n$ 个整数，表示在这种情况下尽量有序的排列结果。", "hint": "对于 $10\\%$ 的数据，满足 $m=0$；\\\n对于另 $20\\%$ 的数据，满足 $n \\le 1000,m \\le 100$；\\\n对于 $100\\%$ 的数据，满足 $0 \\le n,m \\le 5 \\times 10^5,1 \\le x_i \\le n-1,1 \\le a_i \\le 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【DSOI 2021】电子跃迁", "background": "\n> “如果能证明大统一理论，这个世界将焕然一新。”\\\n“量子……量子……就差一点……”\\\n“嘶……哦。**我想我明白了**。”", "description": "在你的视野下，出现了一排电子，他们分别拥有不同的能量。你需要做的是通过**将相邻电子互换**的方法，将电子排的有序。**有序**是指：能量最小的电子放到最靠近原子核的左边，将第二小的电子放在第二……将能量最大的电子放在最右边。\\\n可是，你发现电子轨道之间忽然出现了 $m$ 个奇怪的力，使位于第 $x_i$ 个位置的电子和位于第 $x_i+1$ 个位置的电子无法进行交换。\n\n你深信这个力将会颠覆当下的物理理论。你需要做的是将现在的一排电子排得**尽量有序**以发现其中规律。\n\n**尽量有序**是指：**在条件下**，能量最小的电子尽量放到左边直至出现屏障，以此类推。\n", "inputFormat": "第一行输入两个整数 $n,m$ ，分别表示电子数量和力的数量。\\\n第二行输入 $n$ 个整数，表示初始电子排列，其中第 $i$ 个数 $a_i$ 代表第 $i$ 个电子拥有的能量。\\\n第三行包含 $m$ 个整数。其中第 $i$ 个整数 $x_i$ 表示位于第 $x_i$ 个位置的电子和位于第 $x_i+1$ 个位置的电子无法进行交换的。\n", "outputFormat": "输出一行 $n$ 个整数，表示在这种情况下尽量有序的排列结果。", "hint": "对于 $10\\%$ 的数据，满足 $m=0$；\\\n对于另 $20\\%$ 的数据，满足 $n \\le 1000,m \\le 100$；\\\n对于 $100\\%$ 的数据，满足 $0 \\le n,m \\le 5 \\times 10^5,1 \\le x_i \\le n-1,1 \\le a_i \\le 10^9$。", "locale": "zh-CN"}}}
{"pid": "P7344", "type": "P", "difficulty": 5, "samples": [["2\n3 2\n1 2 1\n2 2\n2 2\n-1 2\n2 2", "3\n5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "【DSOI 2021】积木", "background": "\"你听说过死亡游戏吗？就是将你关在一个暗无天日的房间里，给你一些琢磨不透的线索，倘若你不能解决问题，就给予你死亡的馈赠。\n\n“嗯？慌什么，你现在仅仅是在这个不透风的房间里，我所要你回答的，也仅仅是个简单的问题而已。\n\n“有意见吗？那好的，游戏开始。”", "description": "“现在，你所拥有的是若干个棱长均为 $1$ 的正方体积木。而我，游戏的所有者，将会告诉你最终搭成的立体图形的主视图和左视图。你以为要你搭成这样的图形？别慌，游戏还远远没有这么简单。我将在这个图形中将主视图的其中几列给隐藏掉，如此一来，你就无法观察到他们的高度了。\n\n“为了让这个游戏变得更有意思，我规定这些你无法观察到的数列的高度是任意的——这可以由你来决定。\n\n“想必我亲爱的玩家，你小学时便知道，仅有主视图和左视图是无法确定一个图形的形状的，何况还有一部分被我隐藏了。因此，我们记 $k$ 为能够搭出我给出的图形的积木数，请你告诉我，最多有多少个整数 $k$ 能够满足我的要求呢？ ”（即，请你**先自行决定好未知数列的取值**，**再根据这一取值来求出** $k$，你需要先决定高度使 $k$ 能取的值最多）", "inputFormat": "**本题有多组数据。**\\\n第一行输入一个整数 $T$，表示数据组数。\\\n对于每一组数据：\\\n第一行输入两个整数 $n,m$，表示最终积木形状的长和宽。\\\n第二行包含 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示主视图从左至右第 $i$ 列所看到的方块的高度。特别的，若 $a_i=-1$，则表示这一列的高度是任意的。\\\n第三行包含 $m$ 个整数，第 $i$ 个整数 $b_i$ 表示左视图从后至前第 $i$ 列所看到的方块的高度。保证不存在高度未知的列。", "outputFormat": "对于每一组数据，输出一行一个整数，表示最多的能够满足要求的整数 $k$ 的数量。特别的，如果没有满足条件的整数 $k$，输出 $0$。", "hint": "**【样例解释】**\\\n对于第一组数据：\\\n可行的 $k$ 值分别为：$6,7,8$。\n对于每一个 $k$ 值，给出一种可能的构造如下（给出俯视图，数字表示该格的高度）：\n![](https://cdn.luogu.com.cn/upload/image_hosting/t968uvlx.png)\\\n对于第二组数据：\\\n当未知列的高度取 $2$ 时，满足要求的 $k$ 的数量最多，共有 $5$ 个，分别为：$4,5,6,7,8$。\n\n**【数据范围和限制】**\\\n**本题采用捆绑测试。** 你必须通过 Subtask 中所有的测试点才能获得该 Subtask 的分数。\n\n| Subtask | 分值  | $n,m,a_i,b_i \\le$ |               特殊性质                |\n| :-----: | :---: | :---------------: | :-----------------------------------: |\n|    1    | 7pts  |        $3$        |                  无                   |\n|    2    | 8pts  |       $10$        | 保证数列 $a$ 中 $-1$ 的数量不大于 $4$ |\n|    3    | 8pts  |      $1000$       |           保证 $a_i \\ne -1$           |\n|    4    | 12pts |   $2\\times10^4$   |           保证 $a_i \\ne -1$           |\n|    5    | 7pts  |      $1000$       |          保证所有 $b_i$ 相等          |\n|    6    | 8pts  |   $2\\times10^4$   |          保证所有 $b_i$ 相等          |\n|    7    | 15pts |      $1000$       |                  无                   |\n|    8    | 35pts |   $2\\times10^4$   |                  无                   |\n\n对于 $100\\%$ 的数据，满足 $1 \\le n,m \\le 2\\times10^4,-1 \\le a_i \\le 2\\times10^4,0 \\le b_i \\le 2\\times10^4,0 \\le T \\le 100$。\n\n本题读入数据量较大，请用**较快的读入方式**。\n\n\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【DSOI 2021】积木", "background": "\"你听说过死亡游戏吗？就是将你关在一个暗无天日的房间里，给你一些琢磨不透的线索，倘若你不能解决问题，就给予你死亡的馈赠。\n\n“嗯？慌什么，你现在仅仅是在这个不透风的房间里，我所要你回答的，也仅仅是个简单的问题而已。\n\n“有意见吗？那好的，游戏开始。”", "description": "“现在，你所拥有的是若干个棱长均为 $1$ 的正方体积木。而我，游戏的所有者，将会告诉你最终搭成的立体图形的主视图和左视图。你以为要你搭成这样的图形？别慌，游戏还远远没有这么简单。我将在这个图形中将主视图的其中几列给隐藏掉，如此一来，你就无法观察到他们的高度了。\n\n“为了让这个游戏变得更有意思，我规定这些你无法观察到的数列的高度是任意的——这可以由你来决定。\n\n“想必我亲爱的玩家，你小学时便知道，仅有主视图和左视图是无法确定一个图形的形状的，何况还有一部分被我隐藏了。因此，我们记 $k$ 为能够搭出我给出的图形的积木数，请你告诉我，最多有多少个整数 $k$ 能够满足我的要求呢？ ”（即，请你**先自行决定好未知数列的取值**，**再根据这一取值来求出** $k$，你需要先决定高度使 $k$ 能取的值最多）", "inputFormat": "**本题有多组数据。**\\\n第一行输入一个整数 $T$，表示数据组数。\\\n对于每一组数据：\\\n第一行输入两个整数 $n,m$，表示最终积木形状的长和宽。\\\n第二行包含 $n$ 个整数，第 $i$ 个整数 $a_i$ 表示主视图从左至右第 $i$ 列所看到的方块的高度。特别的，若 $a_i=-1$，则表示这一列的高度是任意的。\\\n第三行包含 $m$ 个整数，第 $i$ 个整数 $b_i$ 表示左视图从后至前第 $i$ 列所看到的方块的高度。保证不存在高度未知的列。", "outputFormat": "对于每一组数据，输出一行一个整数，表示最多的能够满足要求的整数 $k$ 的数量。特别的，如果没有满足条件的整数 $k$，输出 $0$。", "hint": "**【样例解释】**\\\n对于第一组数据：\\\n可行的 $k$ 值分别为：$6,7,8$。\n对于每一个 $k$ 值，给出一种可能的构造如下（给出俯视图，数字表示该格的高度）：\n![](https://cdn.luogu.com.cn/upload/image_hosting/t968uvlx.png)\\\n对于第二组数据：\\\n当未知列的高度取 $2$ 时，满足要求的 $k$ 的数量最多，共有 $5$ 个，分别为：$4,5,6,7,8$。\n\n**【数据范围和限制】**\\\n**本题采用捆绑测试。** 你必须通过 Subtask 中所有的测试点才能获得该 Subtask 的分数。\n\n| Subtask | 分值  | $n,m,a_i,b_i \\le$ |               特殊性质                |\n| :-----: | :---: | :---------------: | :-----------------------------------: |\n|    1    | 7pts  |        $3$        |                  无                   |\n|    2    | 8pts  |       $10$        | 保证数列 $a$ 中 $-1$ 的数量不大于 $4$ |\n|    3    | 8pts  |      $1000$       |           保证 $a_i \\ne -1$           |\n|    4    | 12pts |   $2\\times10^4$   |           保证 $a_i \\ne -1$           |\n|    5    | 7pts  |      $1000$       |          保证所有 $b_i$ 相等          |\n|    6    | 8pts  |   $2\\times10^4$   |          保证所有 $b_i$ 相等          |\n|    7    | 15pts |      $1000$       |                  无                   |\n|    8    | 35pts |   $2\\times10^4$   |                  无                   |\n\n对于 $100\\%$ 的数据，满足 $1 \\le n,m \\le 2\\times10^4,-1 \\le a_i \\le 2\\times10^4,0 \\le b_i \\le 2\\times10^4,0 \\le T \\le 100$。\n\n本题读入数据量较大，请用**较快的读入方式**。\n\n\n", "locale": "zh-CN"}}}
{"pid": "P7345", "type": "P", "difficulty": 5, "samples": [["2\n1 1 0 100\n\n0\n\n0\n\n1\n\n2 1 1 10000\n\n1\n\n1\n\n1\n\n1", "\n\n0 1 1\n\n0 1 -1\n\n0 0 1\n\n1 0 0\n\n0 2 0\n\n0 0 2\n\n0 -2 0\n\n0 0 -2\n\n1 0 0"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["交互题", "Special Judge", "O2优化", "分治"], "title": "【DSOI 2021】吟唱的金色花海", "background": "\n**这是一道 IO 交互题。**\n\n在很久很久以前，有一片开满了白色郁金香的花海。某一天，绽放了一朵金色郁金香，从此，这片花海开始了它永生的吟唱……\n\n>   _(Dutch) $\\textit{\\textcolor{blue}{Het\\ universum\\ zingt\\ voor\\ mij!}}$_\n\n", "description": "在某一时刻，在某处出现了一朵金色郁金香。然后接下来每一秒，每朵金色郁金香会向其上下左右四个点中所有白色郁金香吟唱，使其变为金色郁金香。\n\n现在告诉你一个点 $(x_0,y_0)$，以及它自第一朵金色郁金香出现起，刚变成金色郁金香的那一秒 $t$，你需要找出最初出现的金色郁金香的位置。\n\n每次你可以输出一行 `0 x y`,然后程序会返回一个值 $0$ 或 $1$，$0$ 表示 $(x,y)$ 在第 $t$ 秒是白色郁金香， $1$ 表示 $(x,y)$ 在第 $t$ 秒是金色郁金香。\n你可以输出一行 `1 x y` 告知程序最初出现最初出现的金色郁金香的位置为 $(x,y)$ 以结束程序。", "inputFormat": "**本题有多组数据。**\\\n第一行输入一个正整数 $Q$ ,表示有 $Q$ 组数据。\\\n对于每组数据，输入四个整数 $t,x_0,y_0,k$ 开始交互。数据用单个空格隔开，代表第 $t$ 秒时位于 $(x_0,y_0)$ 处的郁金香刚变成了金色。你最多可以询问的次数为 $k$。", "outputFormat": "对于每一组数据，在你确定答案之后，输出一行 `1 x y` 以结束本组数据，代表你判断 $(x,y)$ 是金色郁金香最开始出现的地方。\n\n### 交互格式\n\n交互过程中，用 `0 x y` 的形式输出一行以执行一次操作。然后你应输入一个布尔值，即操作的返回值 $x$。若 $x=0$ ，表示 $(x,y)$ 在第 $t$ 秒是白色郁金香；若 $x=1$ ，表示 $(x,y)$ 在第 $t$ 秒是金色郁金香。\n\n上述的所有输入都应从**标准输入**中读入，所有输出都应向**标准输出**中输出。输出一行后必须**清空缓冲区** ，否则你的评测有可能被判为**Time Limit Exceeded**。清空缓冲区方式如下：\n\n* 在 C++ 中，使用 `fflush(stdout)` 或 `cout.flush()`。\n* 在 Pascal 中，使用 `flush(output)`。\n* 其他语言请自行查阅文档。", "hint": "| 测试点编号 |     $k =$      | $t \\le$ |  $Q=$  |\n| :--------: | :------------: | :-----: | :----: |\n|     1      |    $10000$     |   $1$   | $100$  |\n|    2~3     |    $10000$     |   $5$   | $100$  |\n|    4~6     |      $4t$      |  $100$  | $100$  |\n|    7~10    | $2 \\times MAX$ |  $100$  | $100$  |\n|   11~14    |    $MAX+1$     | $10^4$  | $5000$ |\n|   15~20    |     $MAX$      | $10^4$  | $5000$ |\n\n\n每个测试点的分值均为 $5$ 分。\n\n记:在最劣情况下询问 $MAX=\\lceil\\log_2(t+1)\\rceil+2$ 次一定能得出答案。保证 $1 \\le t \\le 10^4$，$1 \\le Q \\le 5000$ 且得出的结果的 $x,y$ 的绝对值不大于 $10^5$。\n\n***\n\n提示：由于交互题的特性，若你的算法错误，评测结果为 **TLE** 属于正常现象，请将鼠标放在测试点上查看你的具体错误原因。具体的：\n- 若你输出的结果错误，会返回 **You made a mistake in data i!**\n- 若你询问了过多的次数，会返回 **You ask too many times in data i!**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【DSOI 2021】吟唱的金色花海", "background": "\n**这是一道 IO 交互题。**\n\n在很久很久以前，有一片开满了白色郁金香的花海。某一天，绽放了一朵金色郁金香，从此，这片花海开始了它永生的吟唱……\n\n>   _(Dutch) $\\textit{\\textcolor{blue}{Het\\ universum\\ zingt\\ voor\\ mij!}}$_\n\n", "description": "在某一时刻，在某处出现了一朵金色郁金香。然后接下来每一秒，每朵金色郁金香会向其上下左右四个点中所有白色郁金香吟唱，使其变为金色郁金香。\n\n现在告诉你一个点 $(x_0,y_0)$，以及它自第一朵金色郁金香出现起，刚变成金色郁金香的那一秒 $t$，你需要找出最初出现的金色郁金香的位置。\n\n每次你可以输出一行 `0 x y`,然后程序会返回一个值 $0$ 或 $1$，$0$ 表示 $(x,y)$ 在第 $t$ 秒是白色郁金香， $1$ 表示 $(x,y)$ 在第 $t$ 秒是金色郁金香。\n你可以输出一行 `1 x y` 告知程序最初出现最初出现的金色郁金香的位置为 $(x,y)$ 以结束程序。", "inputFormat": "**本题有多组数据。**\\\n第一行输入一个正整数 $Q$ ,表示有 $Q$ 组数据。\\\n对于每组数据，输入四个整数 $t,x_0,y_0,k$ 开始交互。数据用单个空格隔开，代表第 $t$ 秒时位于 $(x_0,y_0)$ 处的郁金香刚变成了金色。你最多可以询问的次数为 $k$。", "outputFormat": "对于每一组数据，在你确定答案之后，输出一行 `1 x y` 以结束本组数据，代表你判断 $(x,y)$ 是金色郁金香最开始出现的地方。\n\n### 交互格式\n\n交互过程中，用 `0 x y` 的形式输出一行以执行一次操作。然后你应输入一个布尔值，即操作的返回值 $x$。若 $x=0$ ，表示 $(x,y)$ 在第 $t$ 秒是白色郁金香；若 $x=1$ ，表示 $(x,y)$ 在第 $t$ 秒是金色郁金香。\n\n上述的所有输入都应从**标准输入**中读入，所有输出都应向**标准输出**中输出。输出一行后必须**清空缓冲区** ，否则你的评测有可能被判为**Time Limit Exceeded**。清空缓冲区方式如下：\n\n* 在 C++ 中，使用 `fflush(stdout)` 或 `cout.flush()`。\n* 在 Pascal 中，使用 `flush(output)`。\n* 其他语言请自行查阅文档。", "hint": "| 测试点编号 |     $k =$      | $t \\le$ |  $Q=$  |\n| :--------: | :------------: | :-----: | :----: |\n|     1      |    $10000$     |   $1$   | $100$  |\n|    2~3     |    $10000$     |   $5$   | $100$  |\n|    4~6     |      $4t$      |  $100$  | $100$  |\n|    7~10    | $2 \\times MAX$ |  $100$  | $100$  |\n|   11~14    |    $MAX+1$     | $10^4$  | $5000$ |\n|   15~20    |     $MAX$      | $10^4$  | $5000$ |\n\n\n每个测试点的分值均为 $5$ 分。\n\n记:在最劣情况下询问 $MAX=\\lceil\\log_2(t+1)\\rceil+2$ 次一定能得出答案。保证 $1 \\le t \\le 10^4$，$1 \\le Q \\le 5000$ 且得出的结果的 $x,y$ 的绝对值不大于 $10^5$。\n\n***\n\n提示：由于交互题的特性，若你的算法错误，评测结果为 **TLE** 属于正常现象，请将鼠标放在测试点上查看你的具体错误原因。具体的：\n- 若你输出的结果错误，会返回 **You made a mistake in data i!**\n- 若你询问了过多的次数，会返回 **You ask too many times in data i!**", "locale": "zh-CN"}}}
{"pid": "P7346", "type": "P", "difficulty": 5, "samples": [["6 10\n1 1 4 5 1 4\n1 1 6\n1 2 8\n4 2\n4 3\n4 4\n4 5 \n4 6\n2 1\n2 3\n2 4", "7\n2\n3"], ["6 10\n2 3 7 1 9 0\n1 1 2\n3 4 10 1 1\n1 3 3\n4 3\n2 5\n2 6\n1 2 8\n4 5\n4 8\n2 6", "9\n0\n9\n9\n8"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500, 2500], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["O2优化"], "title": "【DSOI 2021】归零", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/i6v3cc0k.png)\n\n能和强欲魔女谈话的机会，对其他人来说是不可多得的 。\n\n进行问答只需要彼此而已，多余的闲功夫就省了吧 ，只有言语就够了 。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j1octfbj.png)\n\n你的求知欲、好奇心、强欲，我都给予肯定 。\n\n说吧，你想问什么 ？\n\n是关于为振救苍生免于饥饿，违背天命而创造出的野兽 $\\left \\lceil \\right. $ 暴食魔女 $\\left. \\right \\rfloor$ 达芙妮的事吗 ？\n\n是那个打算用爱填满世界，而赐予非人之物情感 $\\left \\lceil \\right. $ 色欲魔女 $\\left. \\right \\rfloor$ 卡蜜拉的事吗？\n\n是一边哀叹着世界充满争斗，却用暴力治愈所有人 $\\left \\lceil \\right. $ 愤怒魔女 $\\left. \\right \\rfloor$ 密涅瓦的事吗？\n\n是仅仅为了追求安稳，就把龙赶到大瀑布彼端 $\\left \\lceil \\right. $ 怠惰魔女 $\\left. \\right \\rfloor$ 塞赫麦特的事吗？\n\n是仗着年幼天真，却毫无慈悲地制裁世人 $\\left \\lceil \\right. $ 傲慢魔女 $\\left. \\right \\rfloor$ 缇丰的事吗？\n\n是为了渴求世上一切智慧，就连死后的世界都舍不得放弃 那位知识欲望的化身 $\\left \\lceil \\right. $ 强欲魔女 $\\left. \\right \\rfloor$ 艾姬多娜的事吗？\n\n还是说，是消灭所有魔女做自己的食粮，并与世界为敌的 $\\left \\lceil \\right. $ 嫉妒魔女 $\\left. \\right \\rfloor$ 那位令人忌讳的 $\\left \\lceil \\right. $ 她 $\\left. \\right \\rfloor$？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/40odfi8o.png)", "description": "#### （ **若觉得题意不清，请造访 “输入格式” 查看简明化题意。**）\n\n#### （ **请查看题目保证以确保能 solve the problem .**）\n\n我想问的只有 ....\n\n如果我有一串长度为 $n$ 的序列 $a$ ，编号从 $1\\rightarrow n $ , $a_i$ 表示第 $i$ 个数.\n\n我共将进行 $m$ 次四种类型的操作，其编号为给出的顺序 ：\n\n$\\left \\lceil \\right. $ 如果我有 $x$ 、$y$ 两值，我会用阴魔法将序列中所有下标 $i \\equiv 0 \\pmod{x} $ 的 $a_i$  异或上 $y$ 。$\\left. \\right \\rfloor$\n\n$\\left \\lceil \\right. $ 同时我也会三省自身，问问自己序列中 $a_x$ 的值 。$\\left. \\right \\rfloor$\n\n$\\left \\lceil \\right. $ 多次轮回让我明白，只有完美把握住每一次机遇，我才可以占据更大的有利因素。因而我将估量 $a_x$ 和我的预期 $y$ ，如果 $a_x \\le y$ ，我将轮回并执行编号为 $u \\rightarrow v$ 的操作中的 **阴魔法操作** 。$\\left. \\right \\rfloor$\n\n$\\left \\lceil \\right. $ 另外，为了防止遗忘，我还会轮回执行编号为 $x$ 的操作。$\\left. \\right \\rfloor$\n\n你也知道，轮回的存档点是不能交错的，所以我的轮回是不会相交的。\n\n请问你，能否帮我，回答我心中的问答？", "inputFormat": "第一行两个数 $n$ ，$m$ ，表示序列长度和操作数。\\\n第二行 $n$ 个数 $a_i$ ，表示初始序列。\\\n接下来有 $m$ 行，有若干数字，第 $i + 2$ 行表示编号为 $i$ 的操作，第一个数 $op$ 为 $1 \\rightarrow$ 4 的一个 :\n- $op = 1$ : 读入 3 个数 $1$ , $x$ , $y$ , 对 $\\forall$ $i \\equiv 0 \\pmod{x} $（ 也就是 $x$ , $2x$ … $kx $，$k \\in  Z^+ $ 且 $k \\times x \\le n$ ）, $a_i = a_i \\oplus y$（$\\oplus$ 表示异或）。\n- $op = 2$ : 读入 2 个数 $2$ , $x$ ，输出 $a_x$ 。\n- $op = 3$ : 读入 5 个数 $3$ , $x$ , $y$ , $u$ , $v$  , 若 $a_x \\le y$，执行编号为 $u \\rightarrow v$  内所有 $op = 1$ 的操作，否则无视此操作。保证 $u \\le v < i$ 。\n- $op = 4$ : 读入 2 个数 $4$ , $x$ ， 执行编号为 $x$ 的操作。保证 $x < i$ 。\n \n 因为轮回不交错：题目保证，若 $op_i = 3$，**则编号为 $u\\rightarrow i-1$ 的操作，类型一定不为 $3$ or $4$ ；** 同时，若 $op_i = 4$ ，**则编号为 $x+1\\rightarrow i-1$ 的操作，类型一定不为 $3$ or $4$ （ 但是 $x$ 位置可为 $3$ 、 $4$ 类型操作，即可以调用 ）。** \n \n 用数学语言就是：**若 $op_i = 3$ ，则 $[u , i)$ 一定没有 $3$ or $4$ 操作 ; 若 $op_i = 4$ , 则 $(x, i)$ 一定没有 $3$ or $4$ 操作。**", "outputFormat": "输出若干行。\\\n每一行为 $op=2$ 类型操作的询问结果或 $op = 4$ 类型操作调用的询问操作的询问结果。", "hint": "**【对于样例 2，下面给出其每个操作过程中序列的值】**\n\n|操作| $a_1$ | $a_2$ | $a_3$ | $a_4$ | $a_5$ | $a_6$ | 说明 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |:----------:|\n| 无 | 2 | 3 | 7 | 1 | 9 | 0 | 读入 |\n| $1_{st}$ | 0 | 1 | 5 | 3 | 11 |  2  | $1\\rightarrow6$ 都 $xor$ $2$|\n| $2_{nd}$ | 2 | 3 | 7 | 1 | 9 | 0  | $a_4 = 3 \\le 10$ ，进行 $1$ 操作|\n| $3_{rd} $ | 2 | 3 | 4 | 1 | 9 | 3  |$3 $ $/$ $6$ 都 $xor$ 3|\n| $4_{th} $ | 2 | 3 | 7 | 1 | 9 | 0  |$3 $ $/$ $6$ 都 $xor$ 3|\n| $5_{th} $ | 2 | 3 | 7 | 1 | 9 | 0 | 输出 $a_5$|\n| $6_{th} $ | 2 | 3 | 7 | 1 | 9 | 0 | 输出 $a_5$ |\n| $7_{th} $ | 2 | 11 | 7 | 9 | 9 | 8  | $2$ $/$ $4$ $/$ $6$ 都 $xor$ $8$|\n| $8_{th} $ | 2 | 11 | 7 | 9 | 9 | 8  | 输出 $a_5$ |\n| $9_{th} $ | 2 | 11 | 7 | 9 | 9 | 8 | 输出 $a_5$|\n| $10_{th} $ | 2 | 11 | 7 | 9 | 9 | 8 | 输出 $a_6$ |\n\n------------\n\n**【关于“保证”的说明】**\n\n例如一串操作类型为 $op_1  = 1$、$op_2 = 4$、$op_3 = 2$、$op_4 = 3$、$op_5 = 1$、$op_6=4$。那么 $op_4$ 所对应的 $u$、 $v$ 只能为 $u = 3$ 、$v = 3$ ，因为 $u \\le 2$ 会导致其范围内包含 $4$ 操作；而 $op_6$ 所对应的  $x$ 可以是 $4$ 或 $5$ ，因为这样子 $x$ 的右边到编号 $6$ 的左边都没有 $3$ 、$4$ 操作。\n\n------------\n\n **【数据范围】**\\\n**本题采用捆绑测试。** 你必须通过 Subtask 中所有的测试点才能获得该 Subtask 的分数。\n| Subtask | 特殊性质 | 分值 |\n| :----------: | :----------: |:--------:|\n| 1 | 为样例 $2$ | 2 pts|\n| 2 | $n \\le 10$ , $m \\le 10$ | 8 pts |\n| 3 | $n \\le 1000$ , $m \\le 1000 $ | 10 pts |\n| 4 | $n \\le 10^4$ , $m \\le 10^4$ | 10 pts |\n| 5 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$ , 无操作 $4$ | 10 pts |\n| 6 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$ , 无操作 $3$ | 10 pts |\n| 7 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$ , 数据随机 | 18 pts |\n| 8 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$| 32 pts |\n对于 $100\\%$ 的数据，保证 $1 \\le n \\le 10^5 $ , $m \\le 5 \\times 10^5$，保证过程及结果的所有值都在 int 范围内。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "【DSOI 2021】归零", "background": "![](https://cdn.luogu.com.cn/upload/image_hosting/i6v3cc0k.png)\n\n能和强欲魔女谈话的机会，对其他人来说是不可多得的 。\n\n进行问答只需要彼此而已，多余的闲功夫就省了吧 ，只有言语就够了 。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j1octfbj.png)\n\n你的求知欲、好奇心、强欲，我都给予肯定 。\n\n说吧，你想问什么 ？\n\n是关于为振救苍生免于饥饿，违背天命而创造出的野兽 $\\left \\lceil \\right. $ 暴食魔女 $\\left. \\right \\rfloor$ 达芙妮的事吗 ？\n\n是那个打算用爱填满世界，而赐予非人之物情感 $\\left \\lceil \\right. $ 色欲魔女 $\\left. \\right \\rfloor$ 卡蜜拉的事吗？\n\n是一边哀叹着世界充满争斗，却用暴力治愈所有人 $\\left \\lceil \\right. $ 愤怒魔女 $\\left. \\right \\rfloor$ 密涅瓦的事吗？\n\n是仅仅为了追求安稳，就把龙赶到大瀑布彼端 $\\left \\lceil \\right. $ 怠惰魔女 $\\left. \\right \\rfloor$ 塞赫麦特的事吗？\n\n是仗着年幼天真，却毫无慈悲地制裁世人 $\\left \\lceil \\right. $ 傲慢魔女 $\\left. \\right \\rfloor$ 缇丰的事吗？\n\n是为了渴求世上一切智慧，就连死后的世界都舍不得放弃 那位知识欲望的化身 $\\left \\lceil \\right. $ 强欲魔女 $\\left. \\right \\rfloor$ 艾姬多娜的事吗？\n\n还是说，是消灭所有魔女做自己的食粮，并与世界为敌的 $\\left \\lceil \\right. $ 嫉妒魔女 $\\left. \\right \\rfloor$ 那位令人忌讳的 $\\left \\lceil \\right. $ 她 $\\left. \\right \\rfloor$？\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/40odfi8o.png)", "description": "#### （ **若觉得题意不清，请造访 “输入格式” 查看简明化题意。**）\n\n#### （ **请查看题目保证以确保能 solve the problem .**）\n\n我想问的只有 ....\n\n如果我有一串长度为 $n$ 的序列 $a$ ，编号从 $1\\rightarrow n $ , $a_i$ 表示第 $i$ 个数.\n\n我共将进行 $m$ 次四种类型的操作，其编号为给出的顺序 ：\n\n$\\left \\lceil \\right. $ 如果我有 $x$ 、$y$ 两值，我会用阴魔法将序列中所有下标 $i \\equiv 0 \\pmod{x} $ 的 $a_i$  异或上 $y$ 。$\\left. \\right \\rfloor$\n\n$\\left \\lceil \\right. $ 同时我也会三省自身，问问自己序列中 $a_x$ 的值 。$\\left. \\right \\rfloor$\n\n$\\left \\lceil \\right. $ 多次轮回让我明白，只有完美把握住每一次机遇，我才可以占据更大的有利因素。因而我将估量 $a_x$ 和我的预期 $y$ ，如果 $a_x \\le y$ ，我将轮回并执行编号为 $u \\rightarrow v$ 的操作中的 **阴魔法操作** 。$\\left. \\right \\rfloor$\n\n$\\left \\lceil \\right. $ 另外，为了防止遗忘，我还会轮回执行编号为 $x$ 的操作。$\\left. \\right \\rfloor$\n\n你也知道，轮回的存档点是不能交错的，所以我的轮回是不会相交的。\n\n请问你，能否帮我，回答我心中的问答？", "inputFormat": "第一行两个数 $n$ ，$m$ ，表示序列长度和操作数。\\\n第二行 $n$ 个数 $a_i$ ，表示初始序列。\\\n接下来有 $m$ 行，有若干数字，第 $i + 2$ 行表示编号为 $i$ 的操作，第一个数 $op$ 为 $1 \\rightarrow$ 4 的一个 :\n- $op = 1$ : 读入 3 个数 $1$ , $x$ , $y$ , 对 $\\forall$ $i \\equiv 0 \\pmod{x} $（ 也就是 $x$ , $2x$ … $kx $，$k \\in  Z^+ $ 且 $k \\times x \\le n$ ）, $a_i = a_i \\oplus y$（$\\oplus$ 表示异或）。\n- $op = 2$ : 读入 2 个数 $2$ , $x$ ，输出 $a_x$ 。\n- $op = 3$ : 读入 5 个数 $3$ , $x$ , $y$ , $u$ , $v$  , 若 $a_x \\le y$，执行编号为 $u \\rightarrow v$  内所有 $op = 1$ 的操作，否则无视此操作。保证 $u \\le v < i$ 。\n- $op = 4$ : 读入 2 个数 $4$ , $x$ ， 执行编号为 $x$ 的操作。保证 $x < i$ 。\n \n 因为轮回不交错：题目保证，若 $op_i = 3$，**则编号为 $u\\rightarrow i-1$ 的操作，类型一定不为 $3$ or $4$ ；** 同时，若 $op_i = 4$ ，**则编号为 $x+1\\rightarrow i-1$ 的操作，类型一定不为 $3$ or $4$ （ 但是 $x$ 位置可为 $3$ 、 $4$ 类型操作，即可以调用 ）。** \n \n 用数学语言就是：**若 $op_i = 3$ ，则 $[u , i)$ 一定没有 $3$ or $4$ 操作 ; 若 $op_i = 4$ , 则 $(x, i)$ 一定没有 $3$ or $4$ 操作。**", "outputFormat": "输出若干行。\\\n每一行为 $op=2$ 类型操作的询问结果或 $op = 4$ 类型操作调用的询问操作的询问结果。", "hint": "**【对于样例 2，下面给出其每个操作过程中序列的值】**\n\n|操作| $a_1$ | $a_2$ | $a_3$ | $a_4$ | $a_5$ | $a_6$ | 说明 |\n| :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------: |:----------:|\n| 无 | 2 | 3 | 7 | 1 | 9 | 0 | 读入 |\n| $1_{st}$ | 0 | 1 | 5 | 3 | 11 |  2  | $1\\rightarrow6$ 都 $xor$ $2$|\n| $2_{nd}$ | 2 | 3 | 7 | 1 | 9 | 0  | $a_4 = 3 \\le 10$ ，进行 $1$ 操作|\n| $3_{rd} $ | 2 | 3 | 4 | 1 | 9 | 3  |$3 $ $/$ $6$ 都 $xor$ 3|\n| $4_{th} $ | 2 | 3 | 7 | 1 | 9 | 0  |$3 $ $/$ $6$ 都 $xor$ 3|\n| $5_{th} $ | 2 | 3 | 7 | 1 | 9 | 0 | 输出 $a_5$|\n| $6_{th} $ | 2 | 3 | 7 | 1 | 9 | 0 | 输出 $a_5$ |\n| $7_{th} $ | 2 | 11 | 7 | 9 | 9 | 8  | $2$ $/$ $4$ $/$ $6$ 都 $xor$ $8$|\n| $8_{th} $ | 2 | 11 | 7 | 9 | 9 | 8  | 输出 $a_5$ |\n| $9_{th} $ | 2 | 11 | 7 | 9 | 9 | 8 | 输出 $a_5$|\n| $10_{th} $ | 2 | 11 | 7 | 9 | 9 | 8 | 输出 $a_6$ |\n\n------------\n\n**【关于“保证”的说明】**\n\n例如一串操作类型为 $op_1  = 1$、$op_2 = 4$、$op_3 = 2$、$op_4 = 3$、$op_5 = 1$、$op_6=4$。那么 $op_4$ 所对应的 $u$、 $v$ 只能为 $u = 3$ 、$v = 3$ ，因为 $u \\le 2$ 会导致其范围内包含 $4$ 操作；而 $op_6$ 所对应的  $x$ 可以是 $4$ 或 $5$ ，因为这样子 $x$ 的右边到编号 $6$ 的左边都没有 $3$ 、$4$ 操作。\n\n------------\n\n **【数据范围】**\\\n**本题采用捆绑测试。** 你必须通过 Subtask 中所有的测试点才能获得该 Subtask 的分数。\n| Subtask | 特殊性质 | 分值 |\n| :----------: | :----------: |:--------:|\n| 1 | 为样例 $2$ | 2 pts|\n| 2 | $n \\le 10$ , $m \\le 10$ | 8 pts |\n| 3 | $n \\le 1000$ , $m \\le 1000 $ | 10 pts |\n| 4 | $n \\le 10^4$ , $m \\le 10^4$ | 10 pts |\n| 5 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$ , 无操作 $4$ | 10 pts |\n| 6 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$ , 无操作 $3$ | 10 pts |\n| 7 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$ , 数据随机 | 18 pts |\n| 8 | $n \\le 10^5 $ , $m \\le 5 \\times 10^5$| 32 pts |\n对于 $100\\%$ 的数据，保证 $1 \\le n \\le 10^5 $ , $m \\le 5 \\times 10^5$，保证过程及结果的所有值都在 int 范围内。", "locale": "zh-CN"}}}
{"pid": "P7347", "type": "P", "difficulty": 6, "samples": [["2 1 2\n0 1", "14"], ["5 7 100\n0 1\n1 2\n2 3\n3 4\n0 4\n0 3\n0 2", "969766107"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840, 163840]}, "tags": ["O2优化"], "title": "「MCOI-04」纯水精灵", "background": "轻策的净水之主——「纯水精灵」洛蒂娅是一个掉水元素角色突破材料的 BOSS。今天你想刷点材料，所以……", "description": "洛蒂娅所在的水面上有 $n$ 块平台，初始时均未沉没。有 $m$ 对不同的平台彼此相连。洛蒂娅与敌人战斗了 $k$ 个回合。每一回合，她可以选择一些未沉没的平台，让这些平台沉没（可以不选，但不可以让全部平台沉没）。然后她会选择最多的平台，满足任意两块选择的平台之间都相连，在每块平台上召唤一种不同的水之幻形。$k$ 回合结束后，洛蒂娅对敌人的伤害就是每回合召唤的水之幻形数量之和。洛蒂娅想知道，对于她的所有不同选择方案，伤害的总和是多少。两种方案被视为不同当且仅当存在一回合，使得两种方案在这一回合沉没的平台不同，而与召唤水之幻形的平台无关。由于答案可能很大，你需要输出它对 $10^9+7$ 取模的结果。\n\n简要题意：给定无自环无重边的无向图，$k$ 回合中每回合可以删去现有点集的任意真子集，求所有方案中每回合后剩下的图最大团大小之和模 $10^9+7$。", "inputFormat": "第一行输入三个整数 $n,m,k$，分别表示平台数，相连的平台对数，回合数。\n\n接下来 $m$ 行每行两个整数 $x,y$，表示 $x$ 号平台和 $y$ 号平台相连。平台从 $0$ 到 $n-1$ 编号。保证没有自环和重边。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例解释\n\n有五种不同的方案：\n\n- 第一回合让 $0$ 号平台沉没，第二回合不选，伤害是 $1+1=2$。\n- 第一回合让 $1$ 号平台沉没，第二回合不选，伤害是 $1+1=2$。\n- 第一回合不选，第二回合让 $0$ 号平台沉没，伤害是 $2+1=3$。\n- 第一回合不选，第二回合让 $1$ 号平台沉没，伤害是 $2+1=3$。\n- 两回合都不选，伤害是 $2+2=4$。\n\n五种方案的总伤害是 $2+2+3+3+4=14$。\n\n#### 数据范围\n\n本题采用捆绑测试，数据范围符合下表：\n\n| 测试点编号 | $n\\le$ | $k\\le$ | 得分 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $1$ | $10$ |\n| $2$ | $16$ | $100$ | $10$ |\n| $3$ | $20$ | $100$ | $20$ |\n| $4$ | $26$ | $1$ | $20$ |\n| $5$ | $26$ | $10^9$ | $20$ |\n| $6$ | $28$ | $10^9$ | $20$ |\n\n对于全部数据，$2\\le n\\le 28$，$1\\le m\\le\\frac{n(n-1)}{2}$，$1\\le k\\le 10^9$。\n\n#### 提示\n\n请注意时空限制。\n\n#### 说明\n \n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) A         \nidea & solution：鏡音リン check：namespace_std\t", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-04」纯水精灵", "background": "轻策的净水之主——「纯水精灵」洛蒂娅是一个掉水元素角色突破材料的 BOSS。今天你想刷点材料，所以……", "description": "洛蒂娅所在的水面上有 $n$ 块平台，初始时均未沉没。有 $m$ 对不同的平台彼此相连。洛蒂娅与敌人战斗了 $k$ 个回合。每一回合，她可以选择一些未沉没的平台，让这些平台沉没（可以不选，但不可以让全部平台沉没）。然后她会选择最多的平台，满足任意两块选择的平台之间都相连，在每块平台上召唤一种不同的水之幻形。$k$ 回合结束后，洛蒂娅对敌人的伤害就是每回合召唤的水之幻形数量之和。洛蒂娅想知道，对于她的所有不同选择方案，伤害的总和是多少。两种方案被视为不同当且仅当存在一回合，使得两种方案在这一回合沉没的平台不同，而与召唤水之幻形的平台无关。由于答案可能很大，你需要输出它对 $10^9+7$ 取模的结果。\n\n简要题意：给定无自环无重边的无向图，$k$ 回合中每回合可以删去现有点集的任意真子集，求所有方案中每回合后剩下的图最大团大小之和模 $10^9+7$。", "inputFormat": "第一行输入三个整数 $n,m,k$，分别表示平台数，相连的平台对数，回合数。\n\n接下来 $m$ 行每行两个整数 $x,y$，表示 $x$ 号平台和 $y$ 号平台相连。平台从 $0$ 到 $n-1$ 编号。保证没有自环和重边。", "outputFormat": "输出一行一个整数表示答案。", "hint": "#### 样例解释\n\n有五种不同的方案：\n\n- 第一回合让 $0$ 号平台沉没，第二回合不选，伤害是 $1+1=2$。\n- 第一回合让 $1$ 号平台沉没，第二回合不选，伤害是 $1+1=2$。\n- 第一回合不选，第二回合让 $0$ 号平台沉没，伤害是 $2+1=3$。\n- 第一回合不选，第二回合让 $1$ 号平台沉没，伤害是 $2+1=3$。\n- 两回合都不选，伤害是 $2+2=4$。\n\n五种方案的总伤害是 $2+2+3+3+4=14$。\n\n#### 数据范围\n\n本题采用捆绑测试，数据范围符合下表：\n\n| 测试点编号 | $n\\le$ | $k\\le$ | 得分 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $10$ | $1$ | $10$ |\n| $2$ | $16$ | $100$ | $10$ |\n| $3$ | $20$ | $100$ | $20$ |\n| $4$ | $26$ | $1$ | $20$ |\n| $5$ | $26$ | $10^9$ | $20$ |\n| $6$ | $28$ | $10^9$ | $20$ |\n\n对于全部数据，$2\\le n\\le 28$，$1\\le m\\le\\frac{n(n-1)}{2}$，$1\\le k\\le 10^9$。\n\n#### 提示\n\n请注意时空限制。\n\n#### 说明\n \n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) A         \nidea & solution：鏡音リン check：namespace_std\t", "locale": "zh-CN"}}}
{"pid": "P7348", "type": "P", "difficulty": 7, "samples": [["9 4 -1\n1 1 2 2 2 3 7 7\n4 7\n7 2\n5 2\n4 8", "1\n0\n0\n1"], ["30 1 -1\n1 2 3 4 5 6 7 7 9 9 11 11 12 13 13 14 17 18 19 20 21 19 23 22 22 25 25 28 29 \n6 30", "2"], ["30 10000 20051130\n1 2 3 4 5 6 7 7 9 9 11 11 12 13 13 14 17 18 19 20 21 19 23 22 22 25 25 28 29", "2 6362"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "O2优化", "树链剖分", "分块"], "title": "「MCOI-04」重型管制巡航机", "background": "这是一个作战部署命令。\n\n我们已经从国家安全局获得了有关敌方重型指挥巡洋舰的部分机密情报。\n\n敌方巡航机的正式名称已被确认为 P-1112 Aigaion。\n\n空中舰队中包含一种 Kottos 中型巡航机负责电子支援，还有一种 Gyges 中型巡航机负责近程防空。\n\nAigaion，作为指挥机，负责一切与巡航导弹相关的事务。\n\n在获得这些情报之后，我们可以草拟一个摧毁 Aigaion 的计划。\n\n仔细听好了。\n\nAigaion 只能在机体前部接受空中加油。\n\n多架加油机必须同时处在 Aigaion 前方才能进行加油作业。\n\n当加油机在 Aigaion 前部进行加油时，Aigaion 的雷达探测能力会暂时削弱。\n\n这里就是关键点了。\n\nAigaion 在进行加油时，其雷达基本完全无法探测在其前方飞行的物体。\n\n如果你们能维持在一个固定航线并在一个特定高度上飞行，你们就能在不被敌军发现的情况下，从空中接近 Aigaion。\n\n所以我们解决掉这只怪物的最佳时机就是它进行空中加油的时候。\n\nAigaion 的预定航线图也包含在这份情报中。\n\n简报结束后，我们将在机库再次检查航线图。\n\n快去准备吧。\n\n…………\n\nGaruda 队，交战！\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 09} \\\\\\Large\\text{Heavy Command Cruiser}\\\\\\tiny -\\ The\\ Dead\\ Sea\\ -$$", "description": "在平面上给定一棵有根树，树根为 $1$，根的深度为 $0$。\n\n对于深度为 $x$ 的节点，其 **纵坐标** 为 $n-x+1$。\n\n对于一个节点的所有子节点，**从左到右按照编号升序排列**。每条边都是一条 **连接两个点的线段**。\n\n每一个叶子节点都有一条 **平行于 $y$ 轴且向 $y$ 轴负方向无限延伸的射线**，根节点有一条 **平行于 $y$ 轴且向 $y$ 轴正方向无限延伸的射线**。\n\n**任意两条线段或射线只在树的节点处相交。**\n\n如果你不理解这个树是怎么画的，可以阅读样例 1 解释。\n\n给定 $q$ 组 $u,v$，你现在要从点 $u$ 开始在平面上自由移动，但是你不能经过除 $u,v$ 以外的任何一个点，且每经过一条线段或射线就会产生 $1$ 的代价。\n\n你的目标是移动到点 $v$，你需要求出移动过程产生的最小代价。", "inputFormat": "由于直接输入会造成巨大的输入量，所以本题采用特殊的输入方式。\n\n给定如下随机数生成器：\n\n```cpp\nnamespace GenHelper\n{\n    unsigned z1,z2,z3,z4,b;\n    unsigned rand_()\n    {\n    b=((z1<<6)^z1)>>13;\n    z1=((z1&4294967294U)<<18)^b;\n    b=((z2<<2)^z2)>>27;\n    z2=((z2&4294967288U)<<2)^b;\n    b=((z3<<13)^z3)>>21;\n    z3=((z3&4294967280U)<<7)^b;\n    b=((z4<<3)^z4)>>12;\n    z4=((z4&4294967168U)<<13)^b;\n    return (z1^z2^z3^z4);\n    }\n}\nvoid srand(unsigned x)\n{using namespace GenHelper;\nz1=x; z2=(~x)^0x233333333U; z3=x^0x1234598766U; z4=(~x)+51;}\nint read()\n{\n    using namespace GenHelper;\n    int a=rand_()&32767;\n    int b=rand_()&32767;\n    return a*32768+b;\n}\n```\n\n第一行三个整数 $n,q,s$。\n\n接下来一行 $n-1$ 个整数描述树的结构。第 $i$ 个数代表 $i+1$ 号节点的父亲的编号 $f_i$。\n\n接下来，如果 $s=-1$，则标准输入中的接下来 $q$ 行每行会有两个空格分隔的整数，代表询问的 $u'$ 和 $v'$；设上一次询问的答案为 $\\text{lastans}$，你真正要处理的询问是 $u=u'\\oplus \\text{lastans}$ 和 $v=v'\\oplus \\text{lastans}$，其中 $\\oplus$ 表示异或运算。如果这是第一次询问，则 $\\text{lastans}=0$。\n\n否则，你需要先调用一次 $(\\text{read}()\\oplus \\text{lastans})\\bmod n+1$ 得到询问的 $u$，再调用一次 $(\\text{read}()\\oplus \\text{lastans})\\bmod n+1$ 得到询问的 $v$。\n\n", "outputFormat": "如果 $s=-1$，则输出 $q$ 行，每行是对应询问的答案。\n\n如果 $s\\geq 0$，则输出两个空格分隔的整数，分别表示所有答案的异或和和所有答案的和。", "hint": "**For the enhanced version, see [P7434](https://www.luogu.com.cn/problem/P7434).**\n\n#### 样例 1 解释\n\n第二次实际是询问 $u=6,v=3$，其他询问都满足 $u'=u,v'=v$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/a98cor2o.png)\n\n- 可以看出，从 $4$ 到 $7$ 需要经过一条线；\n- 从 $6$ 到 $3$ 不需要经过直线；\n- 从 $5$ 到 $2$ 不需要经过直线；\n- 从 $4$ 到 $8$ 需要经过一条线；\n- 故答案分别为 $1,0,0,1$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（1 pts）：$f_i=i-1$，$s=-1$。\n- Subtask 2（9 pts）：$f_i=1$，$s=-1$。\n- Subtask 3（10 pts）：$n,q\\leq 2\\times 10^3$，$s=-1$。\n- Subtask 4（20 pts）：$f_i=\\left\\lfloor\\dfrac{i}{2}\\right\\rfloor$，$s=-1$。\n- Subtask 5（59 pts）：$s=-1$。\n- Subtask 6（1 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 5\\times 10^5$，$1\\leq q\\leq 5\\times 10^6$，$1\\leq u,v\\leq n$，$1\\leq f_i<i$，$-1\\leq s\\leq 10^9$，且 $s=-1$ 时 $q\\leq 5\\times 10^5$。\n\n**对于 $99\\%$ 的数据，保证 $s=-1$。**\n\n**IO 量可能很大，请选择合适的读入输出方式。**\n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) B         \nidea：ClCN solution：ClCN & \\_Guoyh\\_ check：\\_Guoyh\\_\n\n---\n\n你问为什么 MCOI 里面混入了 AC6？  \n很简单，因为 ClCN 不玩 MC。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-04」重型管制巡航机", "background": "这是一个作战部署命令。\n\n我们已经从国家安全局获得了有关敌方重型指挥巡洋舰的部分机密情报。\n\n敌方巡航机的正式名称已被确认为 P-1112 Aigaion。\n\n空中舰队中包含一种 Kottos 中型巡航机负责电子支援，还有一种 Gyges 中型巡航机负责近程防空。\n\nAigaion，作为指挥机，负责一切与巡航导弹相关的事务。\n\n在获得这些情报之后，我们可以草拟一个摧毁 Aigaion 的计划。\n\n仔细听好了。\n\nAigaion 只能在机体前部接受空中加油。\n\n多架加油机必须同时处在 Aigaion 前方才能进行加油作业。\n\n当加油机在 Aigaion 前部进行加油时，Aigaion 的雷达探测能力会暂时削弱。\n\n这里就是关键点了。\n\nAigaion 在进行加油时，其雷达基本完全无法探测在其前方飞行的物体。\n\n如果你们能维持在一个固定航线并在一个特定高度上飞行，你们就能在不被敌军发现的情况下，从空中接近 Aigaion。\n\n所以我们解决掉这只怪物的最佳时机就是它进行空中加油的时候。\n\nAigaion 的预定航线图也包含在这份情报中。\n\n简报结束后，我们将在机库再次检查航线图。\n\n快去准备吧。\n\n…………\n\nGaruda 队，交战！\n\n$$_{{\\frac{\\large\\text{ACE COMBAT }\\Large6}{\\tiny{\\text{F i r e s\\quad O f\\quad L i b e r a t i o n}}}}}\\\\ \\text{Mission 09} \\\\\\Large\\text{Heavy Command Cruiser}\\\\\\tiny -\\ The\\ Dead\\ Sea\\ -$$", "description": "在平面上给定一棵有根树，树根为 $1$，根的深度为 $0$。\n\n对于深度为 $x$ 的节点，其 **纵坐标** 为 $n-x+1$。\n\n对于一个节点的所有子节点，**从左到右按照编号升序排列**。每条边都是一条 **连接两个点的线段**。\n\n每一个叶子节点都有一条 **平行于 $y$ 轴且向 $y$ 轴负方向无限延伸的射线**，根节点有一条 **平行于 $y$ 轴且向 $y$ 轴正方向无限延伸的射线**。\n\n**任意两条线段或射线只在树的节点处相交。**\n\n如果你不理解这个树是怎么画的，可以阅读样例 1 解释。\n\n给定 $q$ 组 $u,v$，你现在要从点 $u$ 开始在平面上自由移动，但是你不能经过除 $u,v$ 以外的任何一个点，且每经过一条线段或射线就会产生 $1$ 的代价。\n\n你的目标是移动到点 $v$，你需要求出移动过程产生的最小代价。", "inputFormat": "由于直接输入会造成巨大的输入量，所以本题采用特殊的输入方式。\n\n给定如下随机数生成器：\n\n```cpp\nnamespace GenHelper\n{\n    unsigned z1,z2,z3,z4,b;\n    unsigned rand_()\n    {\n    b=((z1<<6)^z1)>>13;\n    z1=((z1&4294967294U)<<18)^b;\n    b=((z2<<2)^z2)>>27;\n    z2=((z2&4294967288U)<<2)^b;\n    b=((z3<<13)^z3)>>21;\n    z3=((z3&4294967280U)<<7)^b;\n    b=((z4<<3)^z4)>>12;\n    z4=((z4&4294967168U)<<13)^b;\n    return (z1^z2^z3^z4);\n    }\n}\nvoid srand(unsigned x)\n{using namespace GenHelper;\nz1=x; z2=(~x)^0x233333333U; z3=x^0x1234598766U; z4=(~x)+51;}\nint read()\n{\n    using namespace GenHelper;\n    int a=rand_()&32767;\n    int b=rand_()&32767;\n    return a*32768+b;\n}\n```\n\n第一行三个整数 $n,q,s$。\n\n接下来一行 $n-1$ 个整数描述树的结构。第 $i$ 个数代表 $i+1$ 号节点的父亲的编号 $f_i$。\n\n接下来，如果 $s=-1$，则标准输入中的接下来 $q$ 行每行会有两个空格分隔的整数，代表询问的 $u'$ 和 $v'$；设上一次询问的答案为 $\\text{lastans}$，你真正要处理的询问是 $u=u'\\oplus \\text{lastans}$ 和 $v=v'\\oplus \\text{lastans}$，其中 $\\oplus$ 表示异或运算。如果这是第一次询问，则 $\\text{lastans}=0$。\n\n否则，你需要先调用一次 $(\\text{read}()\\oplus \\text{lastans})\\bmod n+1$ 得到询问的 $u$，再调用一次 $(\\text{read}()\\oplus \\text{lastans})\\bmod n+1$ 得到询问的 $v$。\n\n", "outputFormat": "如果 $s=-1$，则输出 $q$ 行，每行是对应询问的答案。\n\n如果 $s\\geq 0$，则输出两个空格分隔的整数，分别表示所有答案的异或和和所有答案的和。", "hint": "**For the enhanced version, see [P7434](https://www.luogu.com.cn/problem/P7434).**\n\n#### 样例 1 解释\n\n第二次实际是询问 $u=6,v=3$，其他询问都满足 $u'=u,v'=v$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/a98cor2o.png)\n\n- 可以看出，从 $4$ 到 $7$ 需要经过一条线；\n- 从 $6$ 到 $3$ 不需要经过直线；\n- 从 $5$ 到 $2$ 不需要经过直线；\n- 从 $4$ 到 $8$ 需要经过一条线；\n- 故答案分别为 $1,0,0,1$。\n\n#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n- Subtask 1（1 pts）：$f_i=i-1$，$s=-1$。\n- Subtask 2（9 pts）：$f_i=1$，$s=-1$。\n- Subtask 3（10 pts）：$n,q\\leq 2\\times 10^3$，$s=-1$。\n- Subtask 4（20 pts）：$f_i=\\left\\lfloor\\dfrac{i}{2}\\right\\rfloor$，$s=-1$。\n- Subtask 5（59 pts）：$s=-1$。\n- Subtask 6（1 pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\leq n\\leq 5\\times 10^5$，$1\\leq q\\leq 5\\times 10^6$，$1\\leq u,v\\leq n$，$1\\leq f_i<i$，$-1\\leq s\\leq 10^9$，且 $s=-1$ 时 $q\\leq 5\\times 10^5$。\n\n**对于 $99\\%$ 的数据，保证 $s=-1$。**\n\n**IO 量可能很大，请选择合适的读入输出方式。**\n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) B         \nidea：ClCN solution：ClCN & \\_Guoyh\\_ check：\\_Guoyh\\_\n\n---\n\n你问为什么 MCOI 里面混入了 AC6？  \n很简单，因为 ClCN 不玩 MC。", "locale": "zh-CN"}}}
{"pid": "P7349", "type": "P", "difficulty": 7, "samples": [["2 2\n1\n1 2\n1 2\n1\n1 2", "3"]], "limits": {"time": [8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000], "memory": [256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000, 256000]}, "tags": ["O2优化"], "title": "「MCOI-04」Dream and the Multiverse", "background": "[Link](https://youtu.be/tylNqtyj0gs?t=2388)\n\n*I have gone over the scenarios in my head,*\n\n*and there are 6.96969 billion outcomes, and only one of them -*\n\n*- do I win.*", "description": "Dream 将时空抽象为一颗 $n$ 节点有向有根树，其中树根为节点 $1$ 并且所有边的方向都为浅往深。  \nDream 用他的超能力在这颗树上额外添加 $m$ 条有向边，但最终的图仍然是无环图。  \nDream 进而将一个事件抽象为图上的一个节点，将一个时代抽象为图上的一个简单路径。  \nDream 认为一对事件 $(i,j)$ **可行** 当且仅当存在一个时代，使得时代的首事件是 $i$，末事件是 $j$。  \nDream 现在有 $q$ 组询问。第 $i$ 组询问用两个正整数 $l_i$ 与 $r_i$ 表示，其中 $l_i\\le r_i$。  \nDream 想知道，对每一组询问，有多少对 **可行** 事件 $(i,j)$，使得 $i,j\\in[l,r]$。", "inputFormat": "第一行两个整数 $n,m$。    \n接下来一行 $n-1$ 个正整数描述树的结构。第 $i$ 个数代表 $i+1$ 号节点的父亲的编号 $f_i$，也就是说存在一个 $f_i$ 往 $i$ 的一条边。  \n接下来 $m$ 行，每行两个正整数 $u,v$，表示一条 $u$ 往 $v$ 额外添加的边。  \n接下来一个正整数 $q$。  \n接下来 $q$ 行，每行两个正整数 $l,r$，表示一组询问。", "outputFormat": "输出 $q$ 行，每行一个整数，表示对应组询问的答案。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n - Subtask 1（1 pts）：树形成一条链。\n - Subtask 2（11 pts）：$n,q,m\\le1000$。  \n - Subtask 3（7 pts）：$m\\le 5$。\n - Subtask 4（23 pts）：$n,q,m\\le5\\times10^4$。\n - Subtask 5（17 pts）：$q\\le 10^5$。\n - Subtask 6（41 pts）：没有特殊限制。\n\n对于 $100\\%$ 的数据，$2\\le n\\le 10^5$，$0\\le m\\le10^5$，$1\\le q\\le 10^6$。    \n**保证** 额外添加的边不会形成环，给定的 $f_i$ 形成一颗根为 $1$ 的树。  \n**保证** $l\\le r$。  \n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) C      \nidea & solution：w33z8kqrqk8zzzx33 check：ClCN", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-04」Dream and the Multiverse", "background": "[Link](https://youtu.be/tylNqtyj0gs?t=2388)\n\n*I have gone over the scenarios in my head,*\n\n*and there are 6.96969 billion outcomes, and only one of them -*\n\n*- do I win.*", "description": "Dream 将时空抽象为一颗 $n$ 节点有向有根树，其中树根为节点 $1$ 并且所有边的方向都为浅往深。  \nDream 用他的超能力在这颗树上额外添加 $m$ 条有向边，但最终的图仍然是无环图。  \nDream 进而将一个事件抽象为图上的一个节点，将一个时代抽象为图上的一个简单路径。  \nDream 认为一对事件 $(i,j)$ **可行** 当且仅当存在一个时代，使得时代的首事件是 $i$，末事件是 $j$。  \nDream 现在有 $q$ 组询问。第 $i$ 组询问用两个正整数 $l_i$ 与 $r_i$ 表示，其中 $l_i\\le r_i$。  \nDream 想知道，对每一组询问，有多少对 **可行** 事件 $(i,j)$，使得 $i,j\\in[l,r]$。", "inputFormat": "第一行两个整数 $n,m$。    \n接下来一行 $n-1$ 个正整数描述树的结构。第 $i$ 个数代表 $i+1$ 号节点的父亲的编号 $f_i$，也就是说存在一个 $f_i$ 往 $i$ 的一条边。  \n接下来 $m$ 行，每行两个正整数 $u,v$，表示一条 $u$ 往 $v$ 额外添加的边。  \n接下来一个正整数 $q$。  \n接下来 $q$ 行，每行两个正整数 $l,r$，表示一组询问。", "outputFormat": "输出 $q$ 行，每行一个整数，表示对应组询问的答案。", "hint": "#### 数据规模与约定\n\n**本题采用捆绑测试。**\n\n - Subtask 1（1 pts）：树形成一条链。\n - Subtask 2（11 pts）：$n,q,m\\le1000$。  \n - Subtask 3（7 pts）：$m\\le 5$。\n - Subtask 4（23 pts）：$n,q,m\\le5\\times10^4$。\n - Subtask 5（17 pts）：$q\\le 10^5$。\n - Subtask 6（41 pts）：没有特殊限制。\n\n对于 $100\\%$ 的数据，$2\\le n\\le 10^5$，$0\\le m\\le10^5$，$1\\le q\\le 10^6$。    \n**保证** 额外添加的边不会形成环，给定的 $f_i$ 形成一颗根为 $1$ 的树。  \n**保证** $l\\le r$。  \n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) C      \nidea & solution：w33z8kqrqk8zzzx33 check：ClCN", "locale": "zh-CN"}}}
{"pid": "P7350", "type": "P", "difficulty": 6, "samples": [["257 997\naabdccbabdcdcadbcabcabaabdbbddbaabcadabcbcdacbbaac", "lmzaeccihyailccmzzaxshssgbvjvhthllyofzudraatifnzxy"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["Special Judge", "O2优化"], "title": "「MCOI-04」Dream and Strings", "background": "", "description": "Tommy 的加密系统用了如下的字符串哈希算法：\n\n```cpp\nint Hash(std::string s, int base, int mod) {\n  int result = 0;\n  for(int i=0; i<s.length(); i++)\n    result = (1ll * result * base + s[i]) % mod;\n  return result;\n}\n```\n\n其中 $\\texttt{base}$ 和 $\\texttt{mod}$ 是给定参数，满足 $257\\le\\texttt{base}\\le\\texttt{mod}\\le10^9+9$，并且 $\\texttt{mod}$ 是一个质数。\n\n现在 Dream 要破解 Tommy 的密文，先需要找到一个适合的哈希碰撞。给定 $\\texttt{base}$，$\\texttt{mod}$，和一个字符串 $S$，请找一个一样长度的字符串 $T$ 使得 $|S|=|T|$，$\\texttt{hash(S)=hash(T)}$，但是 $S$ 和 $T$ 有至少一个位置不同。\n\n如果有多个合法的 $T$，输出任意一个即可。", "inputFormat": "第一行，两个正整数 $\\texttt{base}$ 和 $\\texttt{mod}$。  \n第二行，一个由小写字母组成的字符串 $S$。", "outputFormat": "一行，一个由小写字母组成的字符串 $T$，表示答案。", "hint": "#### 数据规模与约定\n\n如果 $S$ 是一个字符串，$|S|$ 是它的长度。 \n\n对于前 $10\\%$ 的数据，$\\texttt{mod}=997$。  \n对于前 $40\\%$ 的数据，$|S|=2\\times10^5$ 并且 $S$ 随机。  \n对于 $100\\%$ 的数据，$50\\le|S|\\le2\\times10^5$，$257\\le\\texttt{base}<\\texttt{mod}\\le10^9+9$，$\\texttt{mod}$ 是一个质数。\n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) D          \nidea & solution：w33z8kqrqk8zzzx33 check：MatKave", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-04」Dream and Strings", "background": "", "description": "Tommy 的加密系统用了如下的字符串哈希算法：\n\n```cpp\nint Hash(std::string s, int base, int mod) {\n  int result = 0;\n  for(int i=0; i<s.length(); i++)\n    result = (1ll * result * base + s[i]) % mod;\n  return result;\n}\n```\n\n其中 $\\texttt{base}$ 和 $\\texttt{mod}$ 是给定参数，满足 $257\\le\\texttt{base}\\le\\texttt{mod}\\le10^9+9$，并且 $\\texttt{mod}$ 是一个质数。\n\n现在 Dream 要破解 Tommy 的密文，先需要找到一个适合的哈希碰撞。给定 $\\texttt{base}$，$\\texttt{mod}$，和一个字符串 $S$，请找一个一样长度的字符串 $T$ 使得 $|S|=|T|$，$\\texttt{hash(S)=hash(T)}$，但是 $S$ 和 $T$ 有至少一个位置不同。\n\n如果有多个合法的 $T$，输出任意一个即可。", "inputFormat": "第一行，两个正整数 $\\texttt{base}$ 和 $\\texttt{mod}$。  \n第二行，一个由小写字母组成的字符串 $S$。", "outputFormat": "一行，一个由小写字母组成的字符串 $T$，表示答案。", "hint": "#### 数据规模与约定\n\n如果 $S$ 是一个字符串，$|S|$ 是它的长度。 \n\n对于前 $10\\%$ 的数据，$\\texttt{mod}=997$。  \n对于前 $40\\%$ 的数据，$|S|=2\\times10^5$ 并且 $S$ 随机。  \n对于 $100\\%$ 的数据，$50\\le|S|\\le2\\times10^5$，$257\\le\\texttt{base}<\\texttt{mod}\\le10^9+9$，$\\texttt{mod}$ 是一个质数。\n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) D          \nidea & solution：w33z8kqrqk8zzzx33 check：MatKave", "locale": "zh-CN"}}}
{"pid": "P7351", "type": "P", "difficulty": 7, "samples": [["5 600\n0 5 1 4\n2 3 2 2\n0 4 0 4\n1 7 4 7\n4 6 1 3\n4 2 2 4\n2 3 0 7\n0 3 2 1\n4 4 2 1\n2 3 0 6\n4 5 0 3\n1 2 4 6\n2 0 1 4\n1 6 2 3\n2 2 0 6\n4 3 1 7\n3 6 2 5\n3 0 2 6\n3 7 1 7\n1 2 2 2\n1 7 3 7\n2 6 4 2\n3 0 2 3\n1 1 2 0\n2 1 2 3\n0 5 3 3\n4 0 1 1\n0 5 3 7\n2 6 0 4\n3 1 4 3\n1 1 2 5\n3 6 0 2\n0 4 3 1\n1 7 2 4\n3 4 3 3\n1 0 3 7\n3 5 0 2\n0 4 0 1\n3 0 3 6\n4 2 0 5\n3 3 1 7\n1 5 2 3\n4 5 0 0\n3 0 1 5\n1 5 0 3\n2 0 2 1\n2 6 3 6\n2 4 3 2\n1 2 2 5\n2 1 0 5\n1 2 4 1\n2 7 4 6\n0 5 0 6\n3 6 2 2\n1 7 1 7\n0 1 4 4\n1 6 0 2\n1 6 1 0\n1 4 0 7\n0 7 4 5\n0 4 2 1\n3 7 0 7\n3 0 2 1\n3 3 3 6\n0 2 1 0\n0 6 2 2\n4 1 2 0\n2 7 1 6\n1 0 2 1\n4 3 3 0\n0 7 3 5\n1 3 3 5\n3 0 4 0\n4 6 1 4\n2 3 2 7\n1 0 3 2\n0 3 3 7\n0 2 1 2\n3 1 0 6\n0 1 2 7\n3 4 3 0\n4 7 3 6\n2 5 4 3\n3 4 0 7\n2 0 0 2\n1 4 1 6\n0 7 0 3\n2 4 2 4\n2 2 2 1\n4 2 0 4\n2 7 3 4\n4 6 0 6\n2 4 0 4\n2 2 1 1\n4 7 0 1\n4 0 1 0\n1 1 1 1\n3 4 2 4\n0 4 1 0\n0 0 0 3\n3 3 2 5\n1 0 4 0\n3 3 2 1\n3 7 4 6\n0 1 1 2\n3 4 0 3\n1 1 2 7\n2 7 1 7\n1 5 4 4\n4 4 3 0\n2 2 0 3\n0 1 0 6\n1 2 2 0\n0 4 0 5\n3 0 0 2\n3 6 2 7\n1 4 2 1\n1 6 3 7\n3 1 2 5\n2 0 1 3\n1 6 3 6\n2 1 0 4\n4 5 3 5\n4 4 3 2\n2 5 2 1\n3 6 1 0\n4 4 0 3\n2 0 0 7\n2 4 1 4\n3 4 2 0\n3 6 0 7\n0 5 1 5\n0 3 0 1\n1 2 3 0\n0 1 2 4\n4 5 2 7\n1 5 4 0\n0 4 2 3\n0 7 3 1\n2 5 0 1\n3 1 2 3\n2 6 2 5\n2 1 3 2\n3 1 2 6\n0 2 4 5\n2 7 4 1\n0 0 4 7\n1 6 1 7\n4 4 3 7\n1 5 3 7\n2 3 0 5\n3 0 1 4\n3 0 4 6\n2 5 4 2\n2 7 2 3\n0 1 2 6\n1 7 0 2\n1 1 4 6\n3 0 0 4\n2 5 3 0\n4 6 0 0\n2 4 2 3\n0 3 4 1\n4 5 4 5\n1 5 4 3\n0 5 4 1\n0 3 0 4\n4 5 3 0\n3 2 1 4\n2 6 2 2\n0 6 3 6\n4 2 1 0\n2 1 2 0\n3 4 4 7\n2 1 2 1\n0 5 2 4\n2 7 4 3\n4 7 1 6\n3 6 0 3\n0 1 3 4\n2 6 2 4\n2 2 2 3\n4 5 1 5\n1 4 0 6\n2 6 4 1\n2 0 2 7\n4 5 2 4\n2 7 4 4\n3 7 3 2\n2 5 1 2\n0 2 4 1\n4 7 3 4\n0 1 1 3\n4 1 1 6\n1 1 1 4\n2 7 1 2\n1 4 0 0\n2 0 4 2\n0 3 2 7\n2 5 2 6\n0 5 4 4\n4 0 2 3\n2 4 0 3\n4 5 2 1\n4 4 4 0\n2 5 3 6\n3 1 4 5\n1 6 4 7\n0 2 3 4\n0 1 4 7\n1 5 3 4\n0 6 1 0\n2 7 2 2\n0 4 2 4\n4 2 2 7\n4 5 2 3\n0 3 1 1\n0 3 4 0\n0 4 2 7\n0 3 2 0\n3 0 1 7\n0 1 1 1\n3 4 0 4\n2 3 1 6\n4 4 0 2\n4 2 2 5\n4 4 4 5\n1 1 2 4\n1 1 0 1\n0 7 2 5\n0 5 1 3\n3 2 4 6\n4 0 0 4\n3 1 3 2\n2 3 1 2\n0 1 1 5\n4 5 3 7\n2 0 3 3\n0 2 0 3\n1 5 3 1\n1 4 2 4\n1 5 1 1\n1 0 1 4\n0 7 2 1\n0 5 0 2\n3 4 1 3\n1 7 3 0\n3 3 4 5\n3 5 4 2\n3 4 3 6\n3 4 3 7\n3 4 3 4\n1 7 2 3\n4 4 4 2\n1 7 4 4\n1 3 1 6\n4 3 4 2\n1 5 2 1\n1 5 2 2\n2 5 4 5\n1 5 2 4\n3 6 0 5\n3 2 0 6\n4 4 1 4\n4 0 4 0\n0 4 4 3\n2 4 3 5\n4 1 3 6\n2 4 4 3\n4 3 2 0\n3 5 3 1\n1 7 0 6\n0 2 4 7\n3 0 0 3\n1 4 0 2\n4 5 1 7\n3 1 0 4\n0 1 0 2\n4 1 1 3\n0 3 3 3\n2 2 4 2\n4 3 4 1\n4 5 2 0\n1 6 2 6\n1 1 2 1\n4 6 2 2\n1 7 2 0\n0 4 3 0\n0 3 2 5\n2 2 3 0\n3 6 2 3\n0 7 3 3\n0 5 0 4\n3 7 1 5\n4 5 0 5\n4 1 0 4\n1 7 0 7\n3 4 1 7\n0 0 2 5\n1 3 3 0\n2 1 3 0\n2 6 0 3\n0 5 1 7\n0 6 1 6\n1 1 0 5\n2 7 2 5\n0 3 4 5\n4 0 3 1\n3 2 1 0\n2 6 0 2\n1 4 3 7\n1 6 2 5\n1 4 4 4\n3 5 4 4\n1 1 4 3\n2 1 1 3\n4 2 1 7\n4 6 1 0\n1 0 3 4\n1 1 3 1\n1 6 0 6\n3 7 1 1\n0 0 2 4\n4 0 1 5\n0 2 2 2\n2 0 1 5\n1 0 4 5\n3 0 1 2\n0 1 0 1\n0 3 0 2\n4 7 3 2\n4 4 3 3\n1 5 4 7\n2 2 0 2\n2 4 0 7\n4 1 1 4\n4 5 4 2\n4 4 1 1\n1 7 1 2\n3 2 3 5\n3 6 1 7\n4 1 2 2\n1 1 3 5\n3 1 2 4\n3 1 4 0\n4 6 0 5\n1 5 3 5\n3 1 2 1\n3 0 3 4\n4 4 4 4\n1 5 1 0\n4 0 4 3\n1 4 3 3\n4 7 4 0\n4 5 4 1\n1 5 3 2\n0 6 0 1\n0 6 3 7\n1 3 1 4\n4 0 1 4\n2 1 3 3\n4 1 2 6\n1 0 1 3\n4 7 0 4\n0 0 0 0\n2 5 1 0\n2 3 0 0\n1 6 1 2\n0 2 0 5\n3 7 4 5\n2 3 1 4\n2 3 3 1\n0 2 3 1\n4 7 3 0\n4 5 4 0\n3 3 4 7\n3 4 0 2\n2 7 4 2\n3 0 4 7\n3 0 0 0\n0 4 4 7\n1 4 3 5\n1 1 4 2\n2 3 1 0\n1 0 0 2\n1 1 1 0\n3 5 4 3\n0 6 4 3\n4 4 0 5\n4 4 1 0\n4 3 1 2\n2 4 4 0\n0 5 4 0\n0 0 4 1\n4 2 3 7\n4 5 2 5\n3 7 1 4\n2 1 0 6\n3 1 0 5\n1 3 2 7\n1 3 4 7\n1 4 2 5\n4 4 1 7\n1 1 4 0\n0 5 4 2\n3 3 1 6\n3 1 0 3\n1 3 4 1\n1 2 3 1\n2 1 3 5\n0 0 1 7\n3 4 2 2\n3 6 1 5\n2 7 2 7\n3 5 1 5\n0 4 0 6\n3 2 4 7\n0 6 1 4\n1 0 0 7\n3 1 2 0\n2 3 4 0\n3 1 0 1\n3 3 2 0\n3 5 4 0\n4 7 0 2\n1 2 1 0\n1 6 2 0\n4 2 1 1\n0 0 1 1\n1 0 1 1\n3 7 3 6\n2 4 0 1\n1 2 2 7\n4 3 4 5\n4 2 4 6\n3 7 3 7\n0 7 3 7\n4 5 3 3\n2 6 1 5\n0 3 0 6\n4 7 4 7\n4 0 4 5\n3 4 1 5\n0 2 0 7\n4 1 3 5\n0 5 3 0\n0 5 4 5\n1 0 2 6\n0 4 2 5\n1 3 0 3\n1 5 0 2\n0 0 4 5\n3 3 0 5\n3 2 3 1\n4 1 1 0\n2 4 4 1\n0 6 4 1\n1 1 2 3\n4 6 4 3\n0 5 0 0\n0 4 0 2\n2 3 0 4\n4 7 1 5\n1 6 0 5\n1 7 4 2\n0 2 0 4\n3 5 3 0\n4 6 4 1\n4 6 3 1\n0 0 1 6\n4 2 1 6\n3 1 1 4\n4 7 1 3\n1 6 4 0\n2 5 2 3\n0 2 2 1\n3 7 2 0\n1 0 4 7\n3 5 3 4\n0 0 4 6\n1 7 1 1\n3 5 4 5\n3 3 3 7\n2 2 2 7\n4 2 4 3\n3 6 4 0\n3 5 3 6\n4 6 1 5\n2 7 0 3\n3 3 4 4\n4 2 3 4\n3 1 1 3\n2 0 4 0\n2 3 2 1\n1 7 4 0\n2 3 2 4\n0 4 1 2\n1 7 1 4\n2 6 3 4\n1 3 2 4\n1 4 2 3\n1 4 1 2\n2 0 2 5\n0 7 1 0\n2 7 0 1\n4 1 3 0\n4 1 1 5\n3 1 3 6\n4 4 2 3\n3 0 0 1\n2 4 4 5\n3 1 1 2\n4 3 1 6\n4 0 3 5\n2 4 1 0\n1 3 4 4\n1 1 1 2\n2 6 4 0\n0 6 4 4\n1 0 4 4\n0 4 3 4\n4 5 1 2\n1 1 4 7\n3 2 2 5\n4 7 1 2\n3 7 0 0\n4 4 4 1\n2 7 1 3\n1 0 0 1\n2 1 4 7\n2 0 0 5\n4 6 2 3\n2 5 0 7\n1 6 3 3\n2 6 1 7\n0 1 2 1\n0 7 0 0\n2 1 0 3\n3 0 3 5\n4 3 0 4\n4 3 3 7\n2 6 2 1\n2 4 1 1\n2 3 4 5\n4 3 0 1\n2 2 0 4\n3 0 1 3\n1 2 1 3\n1 7 0 3\n3 3 0 0\n0 6 0 7\n3 1 3 0\n3 6 2 6\n1 1 1 3\n0 5 2 7\n0 0 2 3\n4 0 2 0\n0 1 1 4\n0 4 1 6\n2 2 2 4\n2 0 3 6\n0 5 1 0\n4 1 1 1\n3 6 3 4\n4 3 3 2\n2 3 2 5\n3 1 2 2\n4 0 3 0\n1 3 0 4\n0 7 1 6\n0 1 1 0\n2 6 1 0\n4 2 4 7\n0 0 4 0\n2 5 0 6\n3 5 2 7\n3 2 3 6\n0 0 3 5\n1 2 0 2\n1 0 4 6\n1 4 4 0\n3 4 1 0\n0 5 2 1\n1 3 2 1\n4 7 0 6\n4 3 1 1\n0 6 1 1\n2 2 3 1\n2 2 1 0\n0 2 3 7\n2 0 2 4\n4 4 4 6\n3 4 2 6\n1 0 0 5\n4 0 1 3\n3 4 1 2\n2 1 2 4\n1 3 3 7\n2 1 1 1\n0 0 2 6", "23333"]], "limits": {"time": [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["提交答案", "Special Judge", "O2优化"], "title": "「MCOI-04」Dream SMP", "background": "**本题为提交答案题。**\n\n链接：https://pan.baidu.com/s/1D3ytb0626EKZ_emw3gLwVQ          \n提取码：inbj ", "description": "Dream SMP 可以看做 $n$ 个编号为 $0,1,\\dots,n-1$ 的地区。  \nDream 希望将这 $n$ 个地区划分为 $8$ 个编号为 $0,1,\\dots,7$ 的国家。每一个地区都所在恰好一个国家，但国家可以不包含任何地区。  \n地区提出 $m$ 组对划分方案的条件，其中第 $i$ 组条件用四个参数 $(u_i,a_i,v_i,b_i)$ 表示。某个划分方案合法当且仅当对所有条件，$u_i$ 号地区不属于 $a_i$ 号国家 **或者** $v_i$ 号地区不属于 $b_i$ 号国家。这里 **或者** 是逻辑或。  \nDream 保证存在至少一个合法划分方案，请你构造一个合法划分方案。", "inputFormat": "第一行两个正整数 $n$ 和 $m$。  \n接下来 $m$ 行，每行四个正整数 $u_i,a_i,v_i,b_i$。", "outputFormat": "输出一个长度为 $n$ 的字符串。  \n字符串的第 $i$ 位为 $i$ 号地区所属的国家。", "hint": "#### 样例 1 解释\n\n23322，23332，23333 均是合法方案。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le n\\le10^5$，$1 \\le m\\le10^6$。  \n具体特性请自行参考输入数据。\n\n[点击下载输入数据。](https://gitee.com/w33z8kqrqk8zzzx33/dream-oi-extra/raw/master/down.zip)\n\n如果上面这个下载不了看下面这个：\n\n链接：https://pan.baidu.com/s/1D3ytb0626EKZ_emw3gLwVQ          \n提取码：inbj \n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) Extra         \nidea & solution：w33z8kqrqk8zzzx33 check：tiger2005", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「MCOI-04」Dream SMP", "background": "**本题为提交答案题。**\n\n链接：https://pan.baidu.com/s/1D3ytb0626EKZ_emw3gLwVQ          \n提取码：inbj ", "description": "Dream SMP 可以看做 $n$ 个编号为 $0,1,\\dots,n-1$ 的地区。  \nDream 希望将这 $n$ 个地区划分为 $8$ 个编号为 $0,1,\\dots,7$ 的国家。每一个地区都所在恰好一个国家，但国家可以不包含任何地区。  \n地区提出 $m$ 组对划分方案的条件，其中第 $i$ 组条件用四个参数 $(u_i,a_i,v_i,b_i)$ 表示。某个划分方案合法当且仅当对所有条件，$u_i$ 号地区不属于 $a_i$ 号国家 **或者** $v_i$ 号地区不属于 $b_i$ 号国家。这里 **或者** 是逻辑或。  \nDream 保证存在至少一个合法划分方案，请你构造一个合法划分方案。", "inputFormat": "第一行两个正整数 $n$ 和 $m$。  \n接下来 $m$ 行，每行四个正整数 $u_i,a_i,v_i,b_i$。", "outputFormat": "输出一个长度为 $n$ 的字符串。  \n字符串的第 $i$ 位为 $i$ 号地区所属的国家。", "hint": "#### 样例 1 解释\n\n23322，23332，23333 均是合法方案。\n\n#### 数据规模与约定\n\n对于 $100\\%$ 的数据，$1 \\le n\\le10^5$，$1 \\le m\\le10^6$。  \n具体特性请自行参考输入数据。\n\n[点击下载输入数据。](https://gitee.com/w33z8kqrqk8zzzx33/dream-oi-extra/raw/master/down.zip)\n\n如果上面这个下载不了看下面这个：\n\n链接：https://pan.baidu.com/s/1D3ytb0626EKZ_emw3gLwVQ          \n提取码：inbj \n\n#### 说明\n\n[Minecraft OI Round 4](https://www.luogu.com.cn/contest/33344) Extra         \nidea & solution：w33z8kqrqk8zzzx33 check：tiger2005", "locale": "zh-CN"}}}
{"pid": "P7352", "type": "P", "difficulty": 6, "samples": [["3 2\n1 1 0\n2\n2 0 2 1\n1 1 1\n0", "2 2 1"], ["3 2\n1 1 1\n1\n3 0 1 2 1\n0", "2 2 2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384, 16384]}, "tags": [], "title": "炉心融解", "background": "2020-2021 国家集训队自选题", "description": "你叫了 $n$ 个人来玩游戏。$n$ 个人从 $0$ 到 $n-1$ 编号，按顺序坐成一圈，$0$ 号与 $n-1$ 号相邻。\n\n你给这 $n$ 个人每人发了一张写着数字 $\\texttt{0}$ 或 $\\texttt{1}$ 的卡片。每个人都可以看到**除了相邻的两个人以外**所有人的卡片数字，也可以看到自己的。\n\n游戏共进行 $m$ 回合。第 $i$ 回合你会向所有人公布 $k_i$ 条信息，信息的格式都是“某个集合里存在某种数字的卡片”。公布完之后：\n\n- 如果某个人手里的卡片写着 $\\texttt 0$，且他可以通过推断确定相邻的两个人卡片数字**逻辑或**的值，他就必须大喊“Meltdown！”。\n- 如果某个人手里的卡片写着 $\\texttt 1$，且他可以通过推断确定相邻的两个人卡片数字**逻辑异或**的值，他就必须大喊“Meltdown！”。\n\n所有人都清楚游戏规则，且都有极强的推断能力，只要依据他已有的信息能够推断出来他就必须要喊。喊话是所有人同时喊，不可以听别人喊完了再继续推断。然后本回合结束，进入下一回合。\n\n除此之外这 $n$ 个人没有任何信息交流。现在给出每个人的卡片数字和你公布的所有信息，求每个人第一次喊出“Meltdown！”是在第几回合。", "inputFormat": "输入的第一行包括两个正整数 $n,m$，表示人数和回合数。第二行 $n$ 个整数，分别表示编号 $0$ 到 $n-1$ 的人的卡片上的数字。接下来包括 $m$ 个部分，第 $i$ 部分描述了第 $i$ 回合你公布的信息。\n\n第 $i$ 部分的第一行包括一个非负整数 $k_i$，表示第 $i$ 回合公布的信息条数。接下来 $k_i$ 行，每行第一个正整数 $p$，表示集合的人数，接下来 $p$ 个互不相同的整数表示集合里所有人的编号。最后一个整数 $c$，表示这个集合里存在数字为 $c$ 的卡片。数据保证这些信息是正确的。", "outputFormat": "输出包括一行 $n$ 个整数，分别表示编号 $0$ 到 $n-1$ 的人第一次喊出“Meltdown！”时的回合数。如果他自始自终都没有喊“Meltdown！”，这个数输出 $-1$。", "hint": "对于 $100\\%$ 的数据，$3\\le n\\le 16$，$\\ 1\\le m\\le 100$，$0\\le \\sum k\\le 2\\times 10^3$。", "locale": "zh-CN", "translations": {"en": {"title": "Core Meltdown", "background": "2020-2021 CTT optional problem.", "description": "You invited $n$ people to play a game. The $n$ people are numbered from $0$ to $n-1$, and they sit in a circle in order, where person $0$ is adjacent to person $n-1$.\n\nYou give each of these $n$ people a card with a number $\\texttt{0}$ or $\\texttt{1}$ written on it. Everyone can see the numbers on all cards **except those of the two adjacent people**, and they can also see their own card.\n\nThe game lasts for $m$ rounds. In round $i$, you announce $k_i$ pieces of information to everyone. Each piece of information is in the form: “In a certain set, there exists a card with some number.” After the announcements:\n\n- If someone holds a card with $\\texttt 0$, and they can deduce the value of the **logical OR** of the two adjacent people’s card numbers, then they must shout “Meltdown!”.\n- If someone holds a card with $\\texttt 1$, and they can deduce the value of the **logical XOR** of the two adjacent people’s card numbers, then they must shout “Meltdown!”.\n\nEveryone knows the rules, and everyone has extremely strong reasoning ability: as long as they can deduce it from the information they already have, they must shout. Shouting happens simultaneously; they cannot wait to hear others shout and then continue reasoning. Then this round ends and the next round begins.\n\nOther than this, these $n$ people have no communication at all. Now you are given everyone’s card numbers and all the information you announced. Find in which round each person shouts “Meltdown!” for the first time.", "inputFormat": "The first line contains two positive integers $n,m$, representing the number of people and the number of rounds. The second line contains $n$ integers, representing the card numbers of people numbered $0$ to $n-1$. Then there are $m$ parts; part $i$ describes the information you announce in round $i$.\n\nThe first line of part $i$ contains a non-negative integer $k_i$, representing the number of pieces of information announced in round $i$. The next $k_i$ lines each start with a positive integer $p$, representing the size of the set, followed by $p$ distinct integers representing the IDs of all people in the set. The last integer is $c$, meaning that within this set, there exists a card whose number is $c$. The data guarantees that this information is correct.", "outputFormat": "Output one line with $n$ integers, where the $i$-th integer represents the round number when person $i$ shouts “Meltdown!” for the first time. If they never shout “Meltdown!” throughout the whole game, output $-1$ for that person.", "hint": "For $100\\%$ of the data, $3\\le n\\le 16$，$\\ 1\\le m\\le 100$，$0\\le \\sum k\\le 2\\times 10^3$。\n\nTranslated by ChatGPT 5", "locale": "en"}, "zh-CN": {"title": "炉心融解", "background": "2020-2021 国家集训队自选题", "description": "你叫了 $n$ 个人来玩游戏。$n$ 个人从 $0$ 到 $n-1$ 编号，按顺序坐成一圈，$0$ 号与 $n-1$ 号相邻。\n\n你给这 $n$ 个人每人发了一张写着数字 $\\texttt{0}$ 或 $\\texttt{1}$ 的卡片。每个人都可以看到**除了相邻的两个人以外**所有人的卡片数字，也可以看到自己的。\n\n游戏共进行 $m$ 回合。第 $i$ 回合你会向所有人公布 $k_i$ 条信息，信息的格式都是“某个集合里存在某种数字的卡片”。公布完之后：\n\n- 如果某个人手里的卡片写着 $\\texttt 0$，且他可以通过推断确定相邻的两个人卡片数字**逻辑或**的值，他就必须大喊“Meltdown！”。\n- 如果某个人手里的卡片写着 $\\texttt 1$，且他可以通过推断确定相邻的两个人卡片数字**逻辑异或**的值，他就必须大喊“Meltdown！”。\n\n所有人都清楚游戏规则，且都有极强的推断能力，只要依据他已有的信息能够推断出来他就必须要喊。喊话是所有人同时喊，不可以听别人喊完了再继续推断。然后本回合结束，进入下一回合。\n\n除此之外这 $n$ 个人没有任何信息交流。现在给出每个人的卡片数字和你公布的所有信息，求每个人第一次喊出“Meltdown！”是在第几回合。", "inputFormat": "输入的第一行包括两个正整数 $n,m$，表示人数和回合数。第二行 $n$ 个整数，分别表示编号 $0$ 到 $n-1$ 的人的卡片上的数字。接下来包括 $m$ 个部分，第 $i$ 部分描述了第 $i$ 回合你公布的信息。\n\n第 $i$ 部分的第一行包括一个非负整数 $k_i$，表示第 $i$ 回合公布的信息条数。接下来 $k_i$ 行，每行第一个正整数 $p$，表示集合的人数，接下来 $p$ 个互不相同的整数表示集合里所有人的编号。最后一个整数 $c$，表示这个集合里存在数字为 $c$ 的卡片。数据保证这些信息是正确的。", "outputFormat": "输出包括一行 $n$ 个整数，分别表示编号 $0$ 到 $n-1$ 的人第一次喊出“Meltdown！”时的回合数。如果他自始自终都没有喊“Meltdown！”，这个数输出 $-1$。", "hint": "对于 $100\\%$ 的数据，$3\\le n\\le 16$，$\\ 1\\le m\\le 100$，$0\\le \\sum k\\le 2\\times 10^3$。", "locale": "zh-CN"}}}
{"pid": "P7353", "type": "P", "difficulty": 7, "samples": [["8 10 3\n1 2\n2 3\n3 4\n4 1\n6 4\n5 6\n6 7\n8 7\n8 5\n8 6\n6 4\n4 5\n5 7\n", "No\nYes\nNo\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["2020"], "title": "[2020-2021 集训队作业] Tom & Jerry", "background": "自选题 by ix35\n\n2025/10/15：添加一组 [hack 数据](https://www.luogu.com.cn/ticket/BTVX280196)，位于 Subtask 0。", "description": "给定一张包含 $n$ 个顶点和 $m$ 条边的 **无向连通图**，Tom 和 Jerry 在图上进行了 $q$ 次追逐游戏。\n\n在第 $i$ 次游戏中，Tom 一开始位于顶点 $a_i$，而 Jerry 一开始位于顶点 $b_i$（双方任何时候都知道自己和对方的位置），追逐规则如下：\n\n- Jerry 和 Tom 交替行动，Jerry 先行动。\n\n- Jerry 每次行动可以通过无向图中的 **任意多条边**（可以选择不移动），但是在移动过程中不能经过 Tom 当前所在的结点，否则就会被抓住。\n\n- Tom 每次行动只能通过无向图中的 **至多一条边**（可以选择不移动）。\n\n- 如果 Tom 在一次行动后到达了 Jerry 的位置，那么 Tom 胜利。\n\nTom 尽量想要胜利，而 Jerry 会尽量阻止 Tom 胜利。\n\n现在你需要对于每一局游戏，求出 Tom 是否一定能在有限次行动内获胜。", "inputFormat": "第 $1$ 行：三个整数 $n,m,q$，分别表示无向连通图的点数，边数以及游戏的次数。\n\n接下来 $m$ 行：每行两个整数 $x,y$，描述图中的一条无向边。\n\n接下来 $q$ 行：每行两个整数 $a,b$，表示一局游戏中双方的初始位置。", "outputFormat": "共 $q$ 行：对于每局游戏，如果 Tom 可以在有限个回合内获胜则输出 `Yes`，否则输出 `No`。", "hint": "【样例解释】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gg8gk6fw.png)\n\n第一组询问中，$a_1=6,\\ b_1=4$，则 Jerry 先走到 $2$ 处，此后每一回合，若 Tom 行动完后与 Jerry 相邻，Jerry 只需要移动到环 $[1,2,3,4]$ 中与 Tom 不相邻的那个点，可保证 Tom 不胜。\n\n第二组询问中，$a_2=4,\\ b_2=5$，无论 Jerry 如何行动，Tom 只需走到 $6$ 处，此后 Jerry 可能在 $\\{5,7,8\\}$，无论如何 Tom 都可以一步追到。\n\n第三组询问中，$a_3=5,\\ b_3=7$，则 Jerry 按照第一组询问中的策略即可使得 Tom 无法获胜。\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据，$1\\leq n,m,q\\leq 10^5$，$1\\leq x,y,a,b\\leq n$，$a_i\\ne b_i$。\n\n保证给出的无向图连通，且不含重边和自环。\n\n$\\text{Subtask 1}\\ (10\\%)$： $n,m,q\\leq 10$。\n\n$\\text{Subtask 2}\\ (16\\%)$： $n,m,q\\leq 100$。\n\n$\\text{Subtask 3}\\ (24\\%)$： $n,m,q\\leq 1000$。\n\n$\\text{Subtask 4}\\ (16\\%)$： $m=n$。\n\n$\\text{Subtask 5}\\ (34\\%)$： 无特殊限制。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[2020-2021 集训队作业] Tom & Jerry", "background": "自选题 by ix35\n\n2025/10/15：添加一组 [hack 数据](https://www.luogu.com.cn/ticket/BTVX280196)，位于 Subtask 0。", "description": "给定一张包含 $n$ 个顶点和 $m$ 条边的 **无向连通图**，Tom 和 Jerry 在图上进行了 $q$ 次追逐游戏。\n\n在第 $i$ 次游戏中，Tom 一开始位于顶点 $a_i$，而 Jerry 一开始位于顶点 $b_i$（双方任何时候都知道自己和对方的位置），追逐规则如下：\n\n- Jerry 和 Tom 交替行动，Jerry 先行动。\n\n- Jerry 每次行动可以通过无向图中的 **任意多条边**（可以选择不移动），但是在移动过程中不能经过 Tom 当前所在的结点，否则就会被抓住。\n\n- Tom 每次行动只能通过无向图中的 **至多一条边**（可以选择不移动）。\n\n- 如果 Tom 在一次行动后到达了 Jerry 的位置，那么 Tom 胜利。\n\nTom 尽量想要胜利，而 Jerry 会尽量阻止 Tom 胜利。\n\n现在你需要对于每一局游戏，求出 Tom 是否一定能在有限次行动内获胜。", "inputFormat": "第 $1$ 行：三个整数 $n,m,q$，分别表示无向连通图的点数，边数以及游戏的次数。\n\n接下来 $m$ 行：每行两个整数 $x,y$，描述图中的一条无向边。\n\n接下来 $q$ 行：每行两个整数 $a,b$，表示一局游戏中双方的初始位置。", "outputFormat": "共 $q$ 行：对于每局游戏，如果 Tom 可以在有限个回合内获胜则输出 `Yes`，否则输出 `No`。", "hint": "【样例解释】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gg8gk6fw.png)\n\n第一组询问中，$a_1=6,\\ b_1=4$，则 Jerry 先走到 $2$ 处，此后每一回合，若 Tom 行动完后与 Jerry 相邻，Jerry 只需要移动到环 $[1,2,3,4]$ 中与 Tom 不相邻的那个点，可保证 Tom 不胜。\n\n第二组询问中，$a_2=4,\\ b_2=5$，无论 Jerry 如何行动，Tom 只需走到 $6$ 处，此后 Jerry 可能在 $\\{5,7,8\\}$，无论如何 Tom 都可以一步追到。\n\n第三组询问中，$a_3=5,\\ b_3=7$，则 Jerry 按照第一组询问中的策略即可使得 Tom 无法获胜。\n\n【数据范围】\n\n**本题采用捆绑测试。**\n\n对于 $100\\%$ 的数据，$1\\leq n,m,q\\leq 10^5$，$1\\leq x,y,a,b\\leq n$，$a_i\\ne b_i$。\n\n保证给出的无向图连通，且不含重边和自环。\n\n$\\text{Subtask 1}\\ (10\\%)$： $n,m,q\\leq 10$。\n\n$\\text{Subtask 2}\\ (16\\%)$： $n,m,q\\leq 100$。\n\n$\\text{Subtask 3}\\ (24\\%)$： $n,m,q\\leq 1000$。\n\n$\\text{Subtask 4}\\ (16\\%)$： $m=n$。\n\n$\\text{Subtask 5}\\ (34\\%)$： 无特殊限制。", "locale": "zh-CN"}}}
{"pid": "P7354", "type": "P", "difficulty": 2, "samples": [["1\n8 8 1 1", "2"], ["2\n10 9 1 9\n999 999 999 2", "2\n3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072, 131072]}, "tags": ["模拟", "数学"], "title": "「PMOI-1」立方骑士", "background": "lhm 最近迷上了国际象棋，他对里面的骑士最感兴趣，于是就开辟了下面这个玩法。", "description": "lhm 现在建立了一个大小为 $n \\times m$ 的国际象棋棋盘，你作为白方要与黑方作战。棋盘上黑方只有一个国王，**国王位置不会移动**，而 lhm 有无穷无尽的骑士。现在你需要解出，最少派出几个骑士才能将死黑方国王，定义将死的标准为**黑方国王在不被吃掉的情况下不能移动为止**。\n\n更形式化地讲：一个 $n\\times m$ 的棋盘上有一个国王，你需要摆放尽可能少的骑士在棋盘上，使得对于每一个国王能走**正好一步**达到的且不在棋盘外的位置，都存在至少一个骑士能走**正好一步**达到。\n\n棋子的移动方法：\n\n国王每一步能向上、下、左、右、左上、右上、左下、右下八个方向移动一格。\n\n骑士与国际象棋规则相同，每次可以走日字（即 $2\\times3$ 长方形的对角线，详见样例）。**注意没有蹩马腿规则，也就是只要不走出棋盘且按照日字格行走，其他没有限制。**\n\nlhm 太菜了，只好请聪明的你来帮他完成这个任务。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据组数。\n\n对于每组数据，一行四个整数 $n,m,x,y$，表示棋盘大小和黑方国王的坐标。", "outputFormat": "输出共 $T$ 行，每行一个整数，表示最少派出骑士的个数。", "hint": "【样例1解释】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c5d055nl.png)\n\n一个类似上图的棋盘，$\\text{K}$ 表示黑方国王，$\\text{N}$ 表示白方骑士，$\\color{red}{\\times}$ 表示骑士可以到达的地方（其中 $(3,3)$ 的 $\\text{N}$ 封住了 $(1,2)$ 和 $(2,1)$，$(1,4)$ 的 $\\text{N}$ 封住了 $(2,2)$\n，形如上图，$\\text{K}$ 已经被封死了，所以两个骑士足矣。可以证明两个骑士是最小个数。\n\n【数据范围】\n\n- 对于 $30\\%$ 的数据，保证国王的初始位置一定在棋盘最外面一圈。\n\n- 对于 $100\\%$ 的数据满足，$1 \\leq t \\leq 10$，$1 \\leq x,y \\leq 10^9$，$8 \\leq n,m \\leq 10^9$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PMOI-1」立方骑士", "background": "lhm 最近迷上了国际象棋，他对里面的骑士最感兴趣，于是就开辟了下面这个玩法。", "description": "lhm 现在建立了一个大小为 $n \\times m$ 的国际象棋棋盘，你作为白方要与黑方作战。棋盘上黑方只有一个国王，**国王位置不会移动**，而 lhm 有无穷无尽的骑士。现在你需要解出，最少派出几个骑士才能将死黑方国王，定义将死的标准为**黑方国王在不被吃掉的情况下不能移动为止**。\n\n更形式化地讲：一个 $n\\times m$ 的棋盘上有一个国王，你需要摆放尽可能少的骑士在棋盘上，使得对于每一个国王能走**正好一步**达到的且不在棋盘外的位置，都存在至少一个骑士能走**正好一步**达到。\n\n棋子的移动方法：\n\n国王每一步能向上、下、左、右、左上、右上、左下、右下八个方向移动一格。\n\n骑士与国际象棋规则相同，每次可以走日字（即 $2\\times3$ 长方形的对角线，详见样例）。**注意没有蹩马腿规则，也就是只要不走出棋盘且按照日字格行走，其他没有限制。**\n\nlhm 太菜了，只好请聪明的你来帮他完成这个任务。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，表示数据组数。\n\n对于每组数据，一行四个整数 $n,m,x,y$，表示棋盘大小和黑方国王的坐标。", "outputFormat": "输出共 $T$ 行，每行一个整数，表示最少派出骑士的个数。", "hint": "【样例1解释】\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c5d055nl.png)\n\n一个类似上图的棋盘，$\\text{K}$ 表示黑方国王，$\\text{N}$ 表示白方骑士，$\\color{red}{\\times}$ 表示骑士可以到达的地方（其中 $(3,3)$ 的 $\\text{N}$ 封住了 $(1,2)$ 和 $(2,1)$，$(1,4)$ 的 $\\text{N}$ 封住了 $(2,2)$\n，形如上图，$\\text{K}$ 已经被封死了，所以两个骑士足矣。可以证明两个骑士是最小个数。\n\n【数据范围】\n\n- 对于 $30\\%$ 的数据，保证国王的初始位置一定在棋盘最外面一圈。\n\n- 对于 $100\\%$ 的数据满足，$1 \\leq t \\leq 10$，$1 \\leq x,y \\leq 10^9$，$8 \\leq n,m \\leq 10^9$。", "locale": "zh-CN"}}}
{"pid": "P7355", "type": "P", "difficulty": 4, "samples": [["5\n2 1\n2 2\n3 3\n114 514\n1919810 7872754", "5\n15\n115\n338602801\n30498159"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["数学"], "title": "「PMOI-1」抽奖", "background": "", "description": "活动奖池中共有 $n$ 种道具，dead_X 有 $m$ 张兑奖券。一张兑奖券可以兑换成一次抽奖机会或 $114514$ 金币。\n\ndead_X 决定将一部分兑奖券拿来抽奖，并将剩下的兑奖券兑换成金币。\n\n在一次抽奖机会中，dead_X 会等概率得到所有奖池中一款道具的 $1919810$ 秒**体验卡**。\n\n由于 dead_X 在活动中买了 VIP 卡，他可以在所有抽奖结束后选择一款**抽奖得到**的体验卡，将所有这种类型的体验卡上交，并得到对应种类的**永久道具**。\n\n注意，dead_X 可以不使用这个功能，但是不可以使用多于一次。\n\n有选择困难症的 dead_X 想知道，有多少种可能的**活动结果**。\n\n两种活动结果不同，当且仅当 dead_X 获得的金币不同，或者在任何一次抽奖中获得的体验卡不同（即抽到体验卡形成的序列不同），或者获得的永久道具不同。\n\n注意，抽奖中获得的都是体验卡，最后选择的永久道具和体验卡在哪一次抽出没有关系。\n\n------------\n\nUpdate 2023.11.16：出题人看自己好几年前写的题面绷不住了，补一份形式化题面。\n\n定义一个序列的权值是其不同元素个数 $+1$，例如 $[1,9,2,6,8,1,7]$ 的权值是 $7$。\n\n对于所有长度 $\\in[0,m]$，每个数 $\\in [1,n]$ 的整数序列，求其权值和对 $10^9+7$ 取模的值。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，代表数据组数。\n\n对于每组数据，输入两个正整数 $n,m$，分别表示道具的种数和兑奖券的张数。", "outputFormat": "输出共 $T$ 行，每行输出一个正整数，代表方案数对 $10^9+7$ 取模的值。", "hint": "【样例解释】\n\n以下为第二组测试数据所有可能的方案：\n\n假设两种物品分别为 $A$ 和 $B$。\n\n1. 兑换 $229028$ 金币。\n1. 兑换 $114514$ 金币，获得 $A$ 体验卡。\n1. 兑换 $114514$ 金币，获得 $B$ 体验卡。\n1. 兑换 $114514$ 金币，获得 $A$ 永久道具。\n1. 兑换 $114514$ 金币，获得 $B$ 永久道具。\n1. 第一次获得 $A$ 体验卡，第二次获得 $A$ 体验卡。\n1. 第一次获得 $A$ 体验卡，第二次获得 $B$ 体验卡。\n1. 第一次获得 $B$ 体验卡，第二次获得 $A$ 体验卡。\n1. 第一次获得 $B$ 体验卡，第二次获得 $B$ 体验卡。\n1. 第一次获得 $A$ 体验卡，第二次获得 $A$ 体验卡，指定 $A$ 为永久道具。\n1. 第一次获得 $A$ 体验卡，第二次获得 $B$ 体验卡，指定 $A$ 为永久道具。\n1. 第一次获得 $B$ 体验卡，第二次获得 $A$ 体验卡，指定 $A$ 为永久道具。\n1. 第一次获得 $A$ 体验卡，第二次获得 $B$ 体验卡，指定 $B$ 为永久道具。\n1. 第一次获得 $B$ 体验卡，第二次获得 $A$ 体验卡，指定 $B$ 为永久道具。\n1. 第一次获得 $B$ 体验卡，第二次获得 $B$ 体验卡，指定 $B$ 为永久道具。\n\n【数据范围】\n- Subtask1（10pts）：$n,m\\leq5,T\\le25$；\n- Subtask2（10pts）：$n=1$；\n- Subtask3（10pts）：$m=1$；\n- Subtask4（20pts）：$n,m\\leq1000,T\\leq 5$；\n- Subtask5（20pts）：$\\sum m\\leq10^6$；\n- Subtask6（30pts）：无特殊限制。\n\n对于 $100\\%$ 的数据满足，$1\\le n,m\\leq 10^9$，$1\\le T\\leq 10^5$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PMOI-1」抽奖", "background": "", "description": "活动奖池中共有 $n$ 种道具，dead_X 有 $m$ 张兑奖券。一张兑奖券可以兑换成一次抽奖机会或 $114514$ 金币。\n\ndead_X 决定将一部分兑奖券拿来抽奖，并将剩下的兑奖券兑换成金币。\n\n在一次抽奖机会中，dead_X 会等概率得到所有奖池中一款道具的 $1919810$ 秒**体验卡**。\n\n由于 dead_X 在活动中买了 VIP 卡，他可以在所有抽奖结束后选择一款**抽奖得到**的体验卡，将所有这种类型的体验卡上交，并得到对应种类的**永久道具**。\n\n注意，dead_X 可以不使用这个功能，但是不可以使用多于一次。\n\n有选择困难症的 dead_X 想知道，有多少种可能的**活动结果**。\n\n两种活动结果不同，当且仅当 dead_X 获得的金币不同，或者在任何一次抽奖中获得的体验卡不同（即抽到体验卡形成的序列不同），或者获得的永久道具不同。\n\n注意，抽奖中获得的都是体验卡，最后选择的永久道具和体验卡在哪一次抽出没有关系。\n\n------------\n\nUpdate 2023.11.16：出题人看自己好几年前写的题面绷不住了，补一份形式化题面。\n\n定义一个序列的权值是其不同元素个数 $+1$，例如 $[1,9,2,6,8,1,7]$ 的权值是 $7$。\n\n对于所有长度 $\\in[0,m]$，每个数 $\\in [1,n]$ 的整数序列，求其权值和对 $10^9+7$ 取模的值。", "inputFormat": "**本题有多组数据**。\n\n第一行一个整数 $T$，代表数据组数。\n\n对于每组数据，输入两个正整数 $n,m$，分别表示道具的种数和兑奖券的张数。", "outputFormat": "输出共 $T$ 行，每行输出一个正整数，代表方案数对 $10^9+7$ 取模的值。", "hint": "【样例解释】\n\n以下为第二组测试数据所有可能的方案：\n\n假设两种物品分别为 $A$ 和 $B$。\n\n1. 兑换 $229028$ 金币。\n1. 兑换 $114514$ 金币，获得 $A$ 体验卡。\n1. 兑换 $114514$ 金币，获得 $B$ 体验卡。\n1. 兑换 $114514$ 金币，获得 $A$ 永久道具。\n1. 兑换 $114514$ 金币，获得 $B$ 永久道具。\n1. 第一次获得 $A$ 体验卡，第二次获得 $A$ 体验卡。\n1. 第一次获得 $A$ 体验卡，第二次获得 $B$ 体验卡。\n1. 第一次获得 $B$ 体验卡，第二次获得 $A$ 体验卡。\n1. 第一次获得 $B$ 体验卡，第二次获得 $B$ 体验卡。\n1. 第一次获得 $A$ 体验卡，第二次获得 $A$ 体验卡，指定 $A$ 为永久道具。\n1. 第一次获得 $A$ 体验卡，第二次获得 $B$ 体验卡，指定 $A$ 为永久道具。\n1. 第一次获得 $B$ 体验卡，第二次获得 $A$ 体验卡，指定 $A$ 为永久道具。\n1. 第一次获得 $A$ 体验卡，第二次获得 $B$ 体验卡，指定 $B$ 为永久道具。\n1. 第一次获得 $B$ 体验卡，第二次获得 $A$ 体验卡，指定 $B$ 为永久道具。\n1. 第一次获得 $B$ 体验卡，第二次获得 $B$ 体验卡，指定 $B$ 为永久道具。\n\n【数据范围】\n- Subtask1（10pts）：$n,m\\leq5,T\\le25$；\n- Subtask2（10pts）：$n=1$；\n- Subtask3（10pts）：$m=1$；\n- Subtask4（20pts）：$n,m\\leq1000,T\\leq 5$；\n- Subtask5（20pts）：$\\sum m\\leq10^6$；\n- Subtask6（30pts）：无特殊限制。\n\n对于 $100\\%$ 的数据满足，$1\\le n,m\\leq 10^9$，$1\\le T\\leq 10^5$。", "locale": "zh-CN"}}}
{"pid": "P7356", "type": "P", "difficulty": 5, "samples": [["1\n\n0 0\n\n0 0", "\n0 1\n\n0 2\n\n0 3"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144, 262144]}, "tags": ["博弈论", "2021", "交互题", "Special Judge", "O2优化", "构造", "Ad-hoc"], "title": "「PMOI-1」游戏", "background": "> 大眼观察乃交互题第一要义\n\n——command_block 《考前小贴士》\n\ndjy 的同桌和 djy 玩五子棋玩腻了，就发明了一个~~更无聊的~~新游戏，因为 djy 太菜了，所以你要帮这个蒟蒻想出必胜策略。", "description": "**这是一个 IO 交互题。**\n\n这个游戏在一个平面直角坐标系的**原点，$x,y$ 正半轴**和**第一象限**中进行。\n\n交互程序黑棋，你白棋，黑棋先开始，**保证交互库第一步下 $(0,0)$**。**黑白棋都只能下在 $x,y$ 坐标都为自然数的点**。\n\n若出现**横竖斜任意一个方向**有连续的 `黑白白白`，则白棋赢，若你用了 $x$ 步胜利，且 $x\\le 13$，你得到 $\\frac{\\min(14-x,10)}{10}$ 占比的分数。\n\n### 交互方式\n\n先输入一个整数 $T$ 表示进行 $T$ 次游戏。\n\n接下来的 $T$ 次游戏，执行以下过程：\n\n**第一步交互库走的 $(0,0)$ 无需输入。**\n\n然后重复执行以下两步直到你下了 $14$ 步棋或者你获胜：\n\n1.你输出一行两个数 `x y`，表示你下的棋的坐标是 $(x,y)$。\n\n2.你读入一行两个数 `x y`，表示交互库下的棋的坐标是 $(x,y)$。**若你在走完上一步就已经获胜，则不会读入这两个数，而是直接进入下一局游戏。**\n\n**特殊地，为了方便交互，你所有下的棋的坐标必须在 $100$ 以内，否则会直接判你 $14$ 步，立即结束这局游戏。同时交互库所有下棋的坐标也保证在 $100$ 以内。同时，如果下在已有棋子上**，则视为你这次下到了一个很远的地方，**即放弃这次下棋的机会。如果想主动放弃，也可以采用这种方式。请注意交互库也可能选择放弃某次下棋的机会。**\n\n你的得分比为 $T$ 次游戏的得分比**最小值**。", "inputFormat": "上述的所有输入都应从标准输入中读入，所有输出都应向标准输出中输出。输出一行后必须清空缓冲区，否则你的评测将被判为 Time Limit Exceeded。清空缓冲区方式如下：\n\n- 在 C++ 中，使用 `fflush(stdout)` 或 `cout.flush()`。\n- 在 Pascal 中，使用 `flush(output)`。\n- 在 Python 中，使用 `stdout.flush()`。\n- 其他语言请自行查阅文档。", "outputFormat": "如题目描述。$T$ 组交互结束后不应有任何多余的输出。", "hint": "【样例解释】\n\n黑棋一直选择放弃，白棋下了 $(0,1),(0,2),(0,3)$ ，与黑棋的 $(0,0)$ 在竖着的方向形成了``黑白白白``。从而白棋胜利。\n\n**本题采用捆绑测试。**\n\n- Subtask1（10pts）：保证交互库随机下在一个点上。\n- Subtask2（10pts）：保证交互库除了在你下一步必胜时，均选择放弃下棋。\n- Subtask3（20pts）：$T=5$。\n- Subtask4（60pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10^3$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「PMOI-1」游戏", "background": "> 大眼观察乃交互题第一要义\n\n——command_block 《考前小贴士》\n\ndjy 的同桌和 djy 玩五子棋玩腻了，就发明了一个~~更无聊的~~新游戏，因为 djy 太菜了，所以你要帮这个蒟蒻想出必胜策略。", "description": "**这是一个 IO 交互题。**\n\n这个游戏在一个平面直角坐标系的**原点，$x,y$ 正半轴**和**第一象限**中进行。\n\n交互程序黑棋，你白棋，黑棋先开始，**保证交互库第一步下 $(0,0)$**。**黑白棋都只能下在 $x,y$ 坐标都为自然数的点**。\n\n若出现**横竖斜任意一个方向**有连续的 `黑白白白`，则白棋赢，若你用了 $x$ 步胜利，且 $x\\le 13$，你得到 $\\frac{\\min(14-x,10)}{10}$ 占比的分数。\n\n### 交互方式\n\n先输入一个整数 $T$ 表示进行 $T$ 次游戏。\n\n接下来的 $T$ 次游戏，执行以下过程：\n\n**第一步交互库走的 $(0,0)$ 无需输入。**\n\n然后重复执行以下两步直到你下了 $14$ 步棋或者你获胜：\n\n1.你输出一行两个数 `x y`，表示你下的棋的坐标是 $(x,y)$。\n\n2.你读入一行两个数 `x y`，表示交互库下的棋的坐标是 $(x,y)$。**若你在走完上一步就已经获胜，则不会读入这两个数，而是直接进入下一局游戏。**\n\n**特殊地，为了方便交互，你所有下的棋的坐标必须在 $100$ 以内，否则会直接判你 $14$ 步，立即结束这局游戏。同时交互库所有下棋的坐标也保证在 $100$ 以内。同时，如果下在已有棋子上**，则视为你这次下到了一个很远的地方，**即放弃这次下棋的机会。如果想主动放弃，也可以采用这种方式。请注意交互库也可能选择放弃某次下棋的机会。**\n\n你的得分比为 $T$ 次游戏的得分比**最小值**。", "inputFormat": "上述的所有输入都应从标准输入中读入，所有输出都应向标准输出中输出。输出一行后必须清空缓冲区，否则你的评测将被判为 Time Limit Exceeded。清空缓冲区方式如下：\n\n- 在 C++ 中，使用 `fflush(stdout)` 或 `cout.flush()`。\n- 在 Pascal 中，使用 `flush(output)`。\n- 在 Python 中，使用 `stdout.flush()`。\n- 其他语言请自行查阅文档。", "outputFormat": "如题目描述。$T$ 组交互结束后不应有任何多余的输出。", "hint": "【样例解释】\n\n黑棋一直选择放弃，白棋下了 $(0,1),(0,2),(0,3)$ ，与黑棋的 $(0,0)$ 在竖着的方向形成了``黑白白白``。从而白棋胜利。\n\n**本题采用捆绑测试。**\n\n- Subtask1（10pts）：保证交互库随机下在一个点上。\n- Subtask2（10pts）：保证交互库除了在你下一步必胜时，均选择放弃下棋。\n- Subtask3（20pts）：$T=5$。\n- Subtask4（60pts）：无特殊限制。\n\n对于 $100\\%$ 的数据，$1\\le T\\le 10^3$。", "locale": "zh-CN"}}}
