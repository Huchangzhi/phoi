{"pid": "P9740", "type": "P", "difficulty": 1, "samples": [["7\n100 100\n20 20\n25 23\n25 10\n20 14\n25 11\n20 0\n447", "NaN\nNaN\n1\n1\n1\n1\n1"], ["7\n100 100\n20 20\n25 23\n25 10\n20 14\n25 11\n20 0\n446", "Already Au."], ["7\n100 100\n20 20\n20 10\n25 13\n20 20\n25 16\n20 6\n509", "NaN\nNaN\n3\n4\nNaN\n4\n3"], ["7\n100 100\n20 19\n20 20\n25 11\n20 20\n25 25\n20 6\n509", "Already Au."]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["数学", "2023", "洛谷原创", "O2优化", "枚举", "洛谷月赛"], "title": "「KDOI-06-J」ION 比赛", "background": "", "description": "在 ION 比赛中，总共有 $n$ 道题目。每道题目的满分均为 $100$ 分。\n\n第 $i$ 道题有 $a_i$ 个测试点，且该题的所有测试点分值相等，因此 $a_i$ 一定是 $100$ 的因数。每通过一个测试点，你将会得到与该测试点分值相等的分数。\n\n通过一些技术手段，你了解到 ION 比赛今年的 Au 分数线是 $t$ 分。\n\n现在，你在第 $i$ 道题中已经通过了 $b_i$ 个测试点。作为一名策略选手，你想知道：对于任意 $1\\le j\\le n$，如果你在比赛剩下的时间内死磕第 $j$ 题（不做其他题目），需要至少再多通过几个测试点以获得 Au，也就是说，使你的总分 $\\ge t$。\n\n当然，你有可能无法通过死磕某一道题目翻盘（获得 Au），此时你需要输出 `NaN`。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示题目总数。\n\n接下来 $n$ 行，一行两个非负整数 $a_i,b_i$，表示第 $i$ 题的测试点个数和你已经通过的测试点个数。保证 $a_i$ 是 $100$ 的因数且 $b_i\\le a_i$。\n\n最后一行一个整数 $t$，表示 Au 分数线。", "outputFormat": "输出到标准输出。\n\n如果你的分数已经达到 Au 线，请输出一行一个字符串 `Already Au.`。\n\n否则，输出 $n$ 行。在第 $i$ 行中你应该输出以下两种格式之一：\n\n+ 一个正整数 $c_i$，表示在第 $i$ 道题目中你需要至少再通过多少个测试点才可以获得 Au。\n+ 一个字符串 `NaN`，表示你无法通过这题翻盘（获得 Au）。", "hint": "**【样例解释 #1】**\n\n容易发现目前的分数是 $100+100+92+40+70+44=446$，而分数线为 $447$，故在任何一道没有拿到满分的题中多通过一个测试点即可。\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq n\\leq 7$，$0\\leq b_i\\leq a_i$，$1\\leq a_i\\leq 100$ 且 $a_i$ 为 $100$ 的因数，$0\\leq t\\leq 100n$。\n\n| 测试点编号 | $n$ | $a_i$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $\\leq7$ | $\\leq100$ | 保证目前分数大于等于 $t$ |\n| $2\\sim3$ | $=1$ | $\\leq100$ | 无 |\n| $4\\sim5$ | $\\leq7$ | $=100$ | 无 |\n| $6\\sim10$ | $\\leq7$ | $\\leq100$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-J」ION 比赛", "background": "", "description": "在 ION 比赛中，总共有 $n$ 道题目。每道题目的满分均为 $100$ 分。\n\n第 $i$ 道题有 $a_i$ 个测试点，且该题的所有测试点分值相等，因此 $a_i$ 一定是 $100$ 的因数。每通过一个测试点，你将会得到与该测试点分值相等的分数。\n\n通过一些技术手段，你了解到 ION 比赛今年的 Au 分数线是 $t$ 分。\n\n现在，你在第 $i$ 道题中已经通过了 $b_i$ 个测试点。作为一名策略选手，你想知道：对于任意 $1\\le j\\le n$，如果你在比赛剩下的时间内死磕第 $j$ 题（不做其他题目），需要至少再多通过几个测试点以获得 Au，也就是说，使你的总分 $\\ge t$。\n\n当然，你有可能无法通过死磕某一道题目翻盘（获得 Au），此时你需要输出 `NaN`。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示题目总数。\n\n接下来 $n$ 行，一行两个非负整数 $a_i,b_i$，表示第 $i$ 题的测试点个数和你已经通过的测试点个数。保证 $a_i$ 是 $100$ 的因数且 $b_i\\le a_i$。\n\n最后一行一个整数 $t$，表示 Au 分数线。", "outputFormat": "输出到标准输出。\n\n如果你的分数已经达到 Au 线，请输出一行一个字符串 `Already Au.`。\n\n否则，输出 $n$ 行。在第 $i$ 行中你应该输出以下两种格式之一：\n\n+ 一个正整数 $c_i$，表示在第 $i$ 道题目中你需要至少再通过多少个测试点才可以获得 Au。\n+ 一个字符串 `NaN`，表示你无法通过这题翻盘（获得 Au）。", "hint": "**【样例解释 #1】**\n\n容易发现目前的分数是 $100+100+92+40+70+44=446$，而分数线为 $447$，故在任何一道没有拿到满分的题中多通过一个测试点即可。\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq n\\leq 7$，$0\\leq b_i\\leq a_i$，$1\\leq a_i\\leq 100$ 且 $a_i$ 为 $100$ 的因数，$0\\leq t\\leq 100n$。\n\n| 测试点编号 | $n$ | $a_i$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $\\leq7$ | $\\leq100$ | 保证目前分数大于等于 $t$ |\n| $2\\sim3$ | $=1$ | $\\leq100$ | 无 |\n| $4\\sim5$ | $\\leq7$ | $=100$ | 无 |\n| $6\\sim10$ | $\\leq7$ | $\\leq100$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P9741", "type": "P", "difficulty": 2, "samples": [["3\n1 1 1\n", "0 0 1 \n"], ["8\n1 0 1 1 1 0 0 1\n", "0 1 0 1 1 1 1 0 \n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "2023", "洛谷原创", "O2优化", "洛谷月赛", "分类讨论"], "title": "「KDOI-06-J」翻转与反转", "background": "", "description": "小 W 有一个长度为 $n$ 的 $01$ 序列 $a_1,a_2,\\ldots,a_n$，他将对这个序列按顺序进行 $n$ 次操作。\n\n在第 $i$ 次操作中（$1\\le i\\le n$），小 W 将按顺序执行以下**两种**变换：\n\n1. 将区间 $[1,i]$ 中的数按下标翻转。形式化地说，在这次变换之后，序列 $a$ 将变为 $a_i,a_{i-1},\\ldots,a_{1},a_{i+1},a_{i+2},\\ldots,a_n$。\n2. 将区间 $[1,i]$ 中的数按值翻转。形式化地说，在这次变换之后，对于任意 $1\\le j\\le i$，若 $a_j=0$，则 $a_j$ 将变为 $1$，否则 $a_j$ 将变为 $0$。\n\n小 W 想要知道，在全部 $n$ 次操作结束后，序列 $a$ 中每个元素的值。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示序列长度。\n\n接下来一行 $n$ 个整数，表示序列 $a_1,a_2,\\ldots, a_n$。保证 $a_i=0$ 或 $1$。", "outputFormat": "输出到标准输出。\n\n输出包含一行 $n$ 个整数，表示操作结束后序列 $a$ 中每个元素的值。", "hint": "**【样例解释 #1】**\n\n序列 $a$ 的变化如下表所示：\n\n| 操作次数 | 序列 $a$ 的变化 |\n| :--: | :--: |\n| $1$ | $[1,1,1]\\to [1,1,1]\\to[0,1,1]$ |\n| $2$ | $[0,1,1]\\to [1,0,1]\\to[0,1,1]$ |\n| $3$ | $[0,1,1]\\to [1,1,0]\\to[0,0,1]$ |\n\n**【样例解释 #2】**\n\n序列 $a$ 的变化如下表所示：\n\n| 操作次数 | 操作后的序列 $a$ |\n| :--: | :--: |\n| - | $[1,0,1,1,1,0,0,1]$ |\n| $1$ | $[0,0,1,1,1,0,0,1]$ |\n| $2$ | $[1,1,1,1,1,0,0,1]$ |\n| $3$ | $[0,0,0,1,1,0,0,1]$ |\n| $4$ | $[0,1,1,1,1,0,0,1]$ |\n| $5$ | $[0,0,0,0,1,0,0,1]$ |\n| $6$ | $[1,0,1,1,1,1,0,1]$ |\n| $7$ | $[1,0,0,0,0,1,0,1]$ |\n| $8$ | $[0,1,0,1,1,1,1,0]$ |\n\n**【样例 #3】**\n\n见选手文件中的 `revflip/revflip3.in` 与 `revflip/revflip3.ans`。\n\n**【样例 #4】**\n\n见选手文件中的 `revflip/revflip4.in` 与 `revflip/revflip4.ans`。\n\n\n**【数据范围】**\n\n对于所有数据保证：$1\\le n\\le 2\\times 10^6$，且对于任意 $1\\le i\\le n$，$a_i=0$ 或 $1$。\n\n| 测试点编号 | $n\\le$ |  特殊性质 |\n| :-----------: | :-----------: | :----------: |\n| $1\\sim 3$ | $10^3$ | 无 |\n| $4\\sim 5$ | $10^5$ | 无 |\n| $6 \\sim 7$ | $2\\times 10^6$ | $a_i=0$ |\n| $8\\sim 10$ | $2\\times 10^6$ | 无 | \n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-J」翻转与反转", "background": "", "description": "小 W 有一个长度为 $n$ 的 $01$ 序列 $a_1,a_2,\\ldots,a_n$，他将对这个序列按顺序进行 $n$ 次操作。\n\n在第 $i$ 次操作中（$1\\le i\\le n$），小 W 将按顺序执行以下**两种**变换：\n\n1. 将区间 $[1,i]$ 中的数按下标翻转。形式化地说，在这次变换之后，序列 $a$ 将变为 $a_i,a_{i-1},\\ldots,a_{1},a_{i+1},a_{i+2},\\ldots,a_n$。\n2. 将区间 $[1,i]$ 中的数按值翻转。形式化地说，在这次变换之后，对于任意 $1\\le j\\le i$，若 $a_j=0$，则 $a_j$ 将变为 $1$，否则 $a_j$ 将变为 $0$。\n\n小 W 想要知道，在全部 $n$ 次操作结束后，序列 $a$ 中每个元素的值。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示序列长度。\n\n接下来一行 $n$ 个整数，表示序列 $a_1,a_2,\\ldots, a_n$。保证 $a_i=0$ 或 $1$。", "outputFormat": "输出到标准输出。\n\n输出包含一行 $n$ 个整数，表示操作结束后序列 $a$ 中每个元素的值。", "hint": "**【样例解释 #1】**\n\n序列 $a$ 的变化如下表所示：\n\n| 操作次数 | 序列 $a$ 的变化 |\n| :--: | :--: |\n| $1$ | $[1,1,1]\\to [1,1,1]\\to[0,1,1]$ |\n| $2$ | $[0,1,1]\\to [1,0,1]\\to[0,1,1]$ |\n| $3$ | $[0,1,1]\\to [1,1,0]\\to[0,0,1]$ |\n\n**【样例解释 #2】**\n\n序列 $a$ 的变化如下表所示：\n\n| 操作次数 | 操作后的序列 $a$ |\n| :--: | :--: |\n| - | $[1,0,1,1,1,0,0,1]$ |\n| $1$ | $[0,0,1,1,1,0,0,1]$ |\n| $2$ | $[1,1,1,1,1,0,0,1]$ |\n| $3$ | $[0,0,0,1,1,0,0,1]$ |\n| $4$ | $[0,1,1,1,1,0,0,1]$ |\n| $5$ | $[0,0,0,0,1,0,0,1]$ |\n| $6$ | $[1,0,1,1,1,1,0,1]$ |\n| $7$ | $[1,0,0,0,0,1,0,1]$ |\n| $8$ | $[0,1,0,1,1,1,1,0]$ |\n\n**【样例 #3】**\n\n见选手文件中的 `revflip/revflip3.in` 与 `revflip/revflip3.ans`。\n\n**【样例 #4】**\n\n见选手文件中的 `revflip/revflip4.in` 与 `revflip/revflip4.ans`。\n\n\n**【数据范围】**\n\n对于所有数据保证：$1\\le n\\le 2\\times 10^6$，且对于任意 $1\\le i\\le n$，$a_i=0$ 或 $1$。\n\n| 测试点编号 | $n\\le$ |  特殊性质 |\n| :-----------: | :-----------: | :----------: |\n| $1\\sim 3$ | $10^3$ | 无 |\n| $4\\sim 5$ | $10^5$ | 无 |\n| $6 \\sim 7$ | $2\\times 10^6$ | $a_i=0$ |\n| $8\\sim 10$ | $2\\times 10^6$ | 无 | \n", "locale": "zh-CN"}}}
{"pid": "P9742", "type": "P", "difficulty": 4, "samples": [["3\n5\n3816 3738 3726 3621 3582\n111 109 -50 -22 208\n8\n8 7 6 5 4 3 2 1\n128 1 0 0 0 0 1 0\n10\n10 9 8 7 6 5 4 3 2 1\n1 1 4 5 1 4 1 9 1 9\n", "280\n1\n34\n"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "2023", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「KDOI-06-J」贡献系统", "background": "", "description": "洛谷贡献系统上线了！\n\n现在有 $n$ 个人即将参加一场洛谷月赛，每个人的等级分**互不相同**。第 $i$ 个人的等级分是 $r_i$，贡献值是 $c_i$。\n\n假设第 $i$ 个人的等级分在这 $n$ 个人中的排名是 $a_i$（排名按等级分从大到小排序），且在月赛中的排名是 $b_i$，没有两个人的排名相同。也就是说，$a$ 和 $b$ 都是 $1$ 到 $n$ 的排列。比赛结束后，每个人都会执行以下操作：\n\n+ 若 $a_i=b_i$，则第 $i$ 个人的等级分不会发生任何变化，因此第 $i$ 个人不会进行任何操作；\n+ 若 $a_i>b_i$，则第 $i$ 个人的等级分会上升，因此第 $i$ 个人会给出题人点赞，导致出题人的贡献值上升 $c_i$（$c_i$ 可能是负数，此时会导致出题人的贡献值下降）；\n+ 若 $a_i<b_i$，则第 $i$ 个人的等级分会下降，因此第 $i$ 个人会给出题人点踩，导致出题人的贡献值下降 $c_i$（$c_i$ 可能是负数，此时会导致出题人的贡献值上升）。\n\n作为这场月赛唯一的出题人，初始时你的贡献值为 $0$。你想知道，对于所有可能的排列 $b$（显然，排列 $a$ 在比赛前已经被确定），在比赛结束后你的贡献值最大是多少。", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示数据组数。\n\n对于每组测试数据，第一行一个正整数 $n$，表示参赛选手人数。\n\n第二行包含 $n$ 个非负整数 $r_1,r_2,\\ldots,r_n$，表示参赛选手的等级分。保证对于任意 $1\\le i< n$，$r_i>r_{i+1}$。\n\n第三行包含 $n$ 个整数 $c_1,c_2,\\ldots,c_n$，表示参赛选手的贡献值。 ", "outputFormat": "输出到标准输出。\n\n对于每组测试数据，输出一行一个整数，表示最大的贡献值。", "hint": "**【样例解释 #1】**\n\n对于第一组测试数据，设五个人按输入顺序分别为 A，B，C，D，E，则当月赛中的排名顺序为 ABECD 时贡献值最大，为 $0+0-(-50)-(-22)+208=280$。可以证明，这是唯一能使贡献值达到最大的排名顺序。\n\n对于第二组测试数据，设八个人按输入顺序分别为 A，B，C，D，E，F，G，H，则当月赛中的排名顺序为 ABCDEGFH 时可以使贡献值达到最大值 $1$，注意此时有多种可能的使贡献值最大的排名顺序。\n\n**【样例 #2】**\n\n见选手目录下的 `contrib/contrib2.in` 与 `contrib/contrib2.ans`。\n\n**【样例 #3】**\n\n见选手目录下的 `contrib/contrib3.in` 与 `contrib/contrib3.ans`。\n\n\n\n***\n\n**【数据范围】**\n\n对于所有数据保证：$1\\le T\\le 5$，$1\\le n\\le 2\\times 10^5$，$0\\le r_i\\le 10^9$，$-10^9\\le c_i\\le 10^9$，且对于任意 $1\\le i<n$，$r_i>r_{i+1}$。\n\n| 测试点编号  |    $n\\le $     | 特殊限制 |\n| :---------: | :------------: | :------: |\n|  $1\\sim3$   |      $8$       |    无    |\n|     $4$     |     $100$      |   ABC    |\n|     $5$     |     $100$      |    C     |\n|  $6\\sim 7$  |     $100$      |    无    |\n|  $8\\sim 9$  | $5\\times 10^3$ |    AB    |\n| $10\\sim 11$ | $5\\times 10^3$ |    C     |\n| $12\\sim 14$ | $5\\times 10^3$ |    无    |\n|    $15$     | $2\\times10^5$  |    AB    |\n| $16\\sim 18$ | $2\\times10^5$  |    B     |\n| $19\\sim 21$ | $2\\times10^5$  |    C     |\n| $22\\sim 25$ | $2\\times 10^5$ |    无    |\n\n+ 特殊性质 A：对于任意 $1\\le i<n$，保证 $c_i=c_{i+1}$；\n+ 特殊性质 B：对于任意 $1\\le i<n$，保证 $c_i\\le c_{i+1}$；\n+ 特殊性质 C：对于任意 $1\\le i\\le n$，保证 $c_i\\ge 0$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-J」贡献系统", "background": "", "description": "洛谷贡献系统上线了！\n\n现在有 $n$ 个人即将参加一场洛谷月赛，每个人的等级分**互不相同**。第 $i$ 个人的等级分是 $r_i$，贡献值是 $c_i$。\n\n假设第 $i$ 个人的等级分在这 $n$ 个人中的排名是 $a_i$（排名按等级分从大到小排序），且在月赛中的排名是 $b_i$，没有两个人的排名相同。也就是说，$a$ 和 $b$ 都是 $1$ 到 $n$ 的排列。比赛结束后，每个人都会执行以下操作：\n\n+ 若 $a_i=b_i$，则第 $i$ 个人的等级分不会发生任何变化，因此第 $i$ 个人不会进行任何操作；\n+ 若 $a_i>b_i$，则第 $i$ 个人的等级分会上升，因此第 $i$ 个人会给出题人点赞，导致出题人的贡献值上升 $c_i$（$c_i$ 可能是负数，此时会导致出题人的贡献值下降）；\n+ 若 $a_i<b_i$，则第 $i$ 个人的等级分会下降，因此第 $i$ 个人会给出题人点踩，导致出题人的贡献值下降 $c_i$（$c_i$ 可能是负数，此时会导致出题人的贡献值上升）。\n\n作为这场月赛唯一的出题人，初始时你的贡献值为 $0$。你想知道，对于所有可能的排列 $b$（显然，排列 $a$ 在比赛前已经被确定），在比赛结束后你的贡献值最大是多少。", "inputFormat": "从标准输入读入数据。\n\n**本题有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示数据组数。\n\n对于每组测试数据，第一行一个正整数 $n$，表示参赛选手人数。\n\n第二行包含 $n$ 个非负整数 $r_1,r_2,\\ldots,r_n$，表示参赛选手的等级分。保证对于任意 $1\\le i< n$，$r_i>r_{i+1}$。\n\n第三行包含 $n$ 个整数 $c_1,c_2,\\ldots,c_n$，表示参赛选手的贡献值。 ", "outputFormat": "输出到标准输出。\n\n对于每组测试数据，输出一行一个整数，表示最大的贡献值。", "hint": "**【样例解释 #1】**\n\n对于第一组测试数据，设五个人按输入顺序分别为 A，B，C，D，E，则当月赛中的排名顺序为 ABECD 时贡献值最大，为 $0+0-(-50)-(-22)+208=280$。可以证明，这是唯一能使贡献值达到最大的排名顺序。\n\n对于第二组测试数据，设八个人按输入顺序分别为 A，B，C，D，E，F，G，H，则当月赛中的排名顺序为 ABCDEGFH 时可以使贡献值达到最大值 $1$，注意此时有多种可能的使贡献值最大的排名顺序。\n\n**【样例 #2】**\n\n见选手目录下的 `contrib/contrib2.in` 与 `contrib/contrib2.ans`。\n\n**【样例 #3】**\n\n见选手目录下的 `contrib/contrib3.in` 与 `contrib/contrib3.ans`。\n\n\n\n***\n\n**【数据范围】**\n\n对于所有数据保证：$1\\le T\\le 5$，$1\\le n\\le 2\\times 10^5$，$0\\le r_i\\le 10^9$，$-10^9\\le c_i\\le 10^9$，且对于任意 $1\\le i<n$，$r_i>r_{i+1}$。\n\n| 测试点编号  |    $n\\le $     | 特殊限制 |\n| :---------: | :------------: | :------: |\n|  $1\\sim3$   |      $8$       |    无    |\n|     $4$     |     $100$      |   ABC    |\n|     $5$     |     $100$      |    C     |\n|  $6\\sim 7$  |     $100$      |    无    |\n|  $8\\sim 9$  | $5\\times 10^3$ |    AB    |\n| $10\\sim 11$ | $5\\times 10^3$ |    C     |\n| $12\\sim 14$ | $5\\times 10^3$ |    无    |\n|    $15$     | $2\\times10^5$  |    AB    |\n| $16\\sim 18$ | $2\\times10^5$  |    B     |\n| $19\\sim 21$ | $2\\times10^5$  |    C     |\n| $22\\sim 25$ | $2\\times 10^5$ |    无    |\n\n+ 特殊性质 A：对于任意 $1\\le i<n$，保证 $c_i=c_{i+1}$；\n+ 特殊性质 B：对于任意 $1\\le i<n$，保证 $c_i\\le c_{i+1}$；\n+ 特殊性质 C：对于任意 $1\\le i\\le n$，保证 $c_i\\ge 0$。", "locale": "zh-CN"}}}
{"pid": "P9743", "type": "P", "difficulty": 4, "samples": [["3 3 5\n3 2 1\n2 1 3\n1 3 2\n1 2 3\n2 3 1\n3 1 2", "0 0 0\n0 1 5\n1 3 5"]], "limits": {"time": [3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000, 3000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2023", "洛谷原创", "O2优化", "前缀和", "洛谷月赛"], "title": "「KDOI-06-J」旅行", "background": "", "description": "小 C 在 C 国旅行。\n\nC 国有 $n\\times m$ 个城市，可以看做 $n\\times m$ 的网格。定义 $(i,j)$ 表示在网格中第 $i$ 行第 $j$ 列的城市。\n\n该国有 $2$ 种交通系统：\n\n* 对于所有 $1\\leq i<n,1\\leq j\\leq m$，$(i,j)$ 到 $(i+1,j)$ 有一段由 L 公司修的单向铁路；\n* 对于所有 $1\\leq i\\leq n,1\\leq j<m$，$(i,j)$ 到 $(i,j+1)$ 有一段由 Z 公司修的单向铁路；\n\n在每一个城市有一个售票口，$(i,j)$ 城市的售票口可以用 $a_{i,j}$ 元购买一张 L 公司的铁路票，$b_{i,j}$ 元购买一张 Z 公司的铁路票。当你拥有一个公司的一张铁路票时，你可以乘坐这个公司的任意一段铁路，并消耗掉这张铁路票。注意，一张铁路票可以且仅可以使用一次。\n\n小 C 原来在城市 $(1,1)$。他想要在 C 国旅游，但是他不想浪费任何的钱（即，当他旅游完毕时手上不应该有多余的车票）。对于所有 $1\\leq x\\leq n,1\\leq y\\leq m$，求他花 $k$ 元钱并在城市 $(x,y)$ 结束旅行的方案数，对 $998\\ 244\\ 353$ 取模。\n\n两种旅行方案不同，当且仅当小 C 经过的城市不同，或他在某一个城市购买的某家公司的铁路票数量不同。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含三个正整数 $n,m,k$，表示网格的大小和钱的数目。\n\n接下来 $n$ 行，每行 $m$ 个正整数，第 $i$ 行第 $j$ 个正整数表示 $a_{i,j}$。\n\n接下来 $n$ 行，每行 $m$ 个正整数，第 $i$ 行第 $j$ 个正整数表示 $b_{i,j}$。", "outputFormat": "输出到标准输出。\n\n输出一共 $n$ 行，每行 $m$ 个整数，表示到每个点钱恰好花完并结束旅行的方案数，对 $998\\ 244\\ 353$ 取模。", "hint": "**【样例解释 #1】**\n\n到 $(3,1)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(2,1)$；在 $(2,1)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(3,1)$。\n\n到 $(2,2)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(2,1)$；在 $(2,1)$ 购买 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(2,2)$。\n\n到 $(3,2)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(1,2)$；在 $(1,2)$ 购买 $2$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(2,2)$；乘坐 L 公司的铁路到 $(3,2)$。\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票和 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(1,2)$；乘坐 L 公司的铁路到 $(2,2)$；在 $(2,2)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(3,2)$。\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票和 $1$ 张 Z 公司的铁路票；乘坐 L 公司的铁路到 $(2,1)$；乘坐 Z 公司的铁路到 $(2,2)$；在 $(2,2)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(3,2)$。\n\n到 $(2,3)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票和 $2$ 张 Z 公司的铁路票。在此之后，有 $3$ 种方案可以从 $(1,1)$ 乘坐两公司的铁路到 $(2,3)$。\n* 在 $(1,1)$ 购买 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(1,2)$；在 $(1,2)$ 购买 $1$ 张 L 公司的铁路票和 $1$ 张 Z 公司的铁路票。在此之后，有 $2$ 种方案可以从 $(1,2)$ 乘坐两公司的铁路到 $(2,3)$。\n\n**【样例 #2】**\n\n见选手目录下的 `travel/travel2.in` 与 `travel/travel2.ans`。这个样例满足测试点 $7\\sim 8$ 的条件限制。\n\n**【样例 #3】**\n\n见选手目录下的 `travel/travel3.in` 与 `travel/travel3.ans`。这个样例满足测试点 $11$ 的条件限制。\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq n,m\\leq45$，$1\\leq k,a_{i,j},b_{i,j}\\leq90$。\n\n| 测试点编号 | $n,m$ | $k$ | $a_{i,j}$ | $b_{i,j}$ |\n|:--:|:--:|:--:|:--:|:--:|\n| $1\\sim3$ | $\\leq3$ | $\\leq5$ | $=1$ | $=1$ |\n| $4\\sim6$ | $\\leq10$ | $\\leq10$ | $=1$ | $=40$ |\n| $7\\sim8$ | $\\leq40$ | $\\leq30$ | $=1$ | $=45$ |\n| $9\\sim10$ | $\\leq15$ | $\\leq15$ | $\\leq15$ | $\\leq15$ |\n| $11$ | $\\leq15$ | $\\leq30$ | $\\leq30$ | $\\leq30$ |\n| $12$ | $\\leq20$ | $\\leq40$ | $\\leq40$ | $\\leq40$ |\n| $13\\sim15$ | $\\leq25$ | $\\leq50$ | $\\leq50$ | $\\leq50$ |\n| $16$ | $\\leq30$ | $\\leq60$ | $\\leq60$ | $\\leq60$ |\n| $17$ | $\\leq35$ | $\\leq70$ | $\\leq70$ | $\\leq70$ |\n| $18\\sim19$ | $\\leq40$ | $\\leq80$ | $\\leq80$ | $\\leq80$ |\n| $20$ | $\\leq45$ | $\\leq90$ | $\\leq90$ | $\\leq90$ |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-J」旅行", "background": "", "description": "小 C 在 C 国旅行。\n\nC 国有 $n\\times m$ 个城市，可以看做 $n\\times m$ 的网格。定义 $(i,j)$ 表示在网格中第 $i$ 行第 $j$ 列的城市。\n\n该国有 $2$ 种交通系统：\n\n* 对于所有 $1\\leq i<n,1\\leq j\\leq m$，$(i,j)$ 到 $(i+1,j)$ 有一段由 L 公司修的单向铁路；\n* 对于所有 $1\\leq i\\leq n,1\\leq j<m$，$(i,j)$ 到 $(i,j+1)$ 有一段由 Z 公司修的单向铁路；\n\n在每一个城市有一个售票口，$(i,j)$ 城市的售票口可以用 $a_{i,j}$ 元购买一张 L 公司的铁路票，$b_{i,j}$ 元购买一张 Z 公司的铁路票。当你拥有一个公司的一张铁路票时，你可以乘坐这个公司的任意一段铁路，并消耗掉这张铁路票。注意，一张铁路票可以且仅可以使用一次。\n\n小 C 原来在城市 $(1,1)$。他想要在 C 国旅游，但是他不想浪费任何的钱（即，当他旅游完毕时手上不应该有多余的车票）。对于所有 $1\\leq x\\leq n,1\\leq y\\leq m$，求他花 $k$ 元钱并在城市 $(x,y)$ 结束旅行的方案数，对 $998\\ 244\\ 353$ 取模。\n\n两种旅行方案不同，当且仅当小 C 经过的城市不同，或他在某一个城市购买的某家公司的铁路票数量不同。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含三个正整数 $n,m,k$，表示网格的大小和钱的数目。\n\n接下来 $n$ 行，每行 $m$ 个正整数，第 $i$ 行第 $j$ 个正整数表示 $a_{i,j}$。\n\n接下来 $n$ 行，每行 $m$ 个正整数，第 $i$ 行第 $j$ 个正整数表示 $b_{i,j}$。", "outputFormat": "输出到标准输出。\n\n输出一共 $n$ 行，每行 $m$ 个整数，表示到每个点钱恰好花完并结束旅行的方案数，对 $998\\ 244\\ 353$ 取模。", "hint": "**【样例解释 #1】**\n\n到 $(3,1)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(2,1)$；在 $(2,1)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(3,1)$。\n\n到 $(2,2)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(2,1)$；在 $(2,1)$ 购买 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(2,2)$。\n\n到 $(3,2)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(1,2)$；在 $(1,2)$ 购买 $2$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(2,2)$；乘坐 L 公司的铁路到 $(3,2)$。\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票和 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(1,2)$；乘坐 L 公司的铁路到 $(2,2)$；在 $(2,2)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(3,2)$。\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票和 $1$ 张 Z 公司的铁路票；乘坐 L 公司的铁路到 $(2,1)$；乘坐 Z 公司的铁路到 $(2,2)$；在 $(2,2)$ 购买 $1$ 张 L 公司的铁路票；乘坐 L 公司的铁路到 $(3,2)$。\n\n到 $(2,3)$ 的方案有：\n\n* 在 $(1,1)$ 购买 $1$ 张 L 公司的铁路票和 $2$ 张 Z 公司的铁路票。在此之后，有 $3$ 种方案可以从 $(1,1)$ 乘坐两公司的铁路到 $(2,3)$。\n* 在 $(1,1)$ 购买 $1$ 张 Z 公司的铁路票；乘坐 Z 公司的铁路到 $(1,2)$；在 $(1,2)$ 购买 $1$ 张 L 公司的铁路票和 $1$ 张 Z 公司的铁路票。在此之后，有 $2$ 种方案可以从 $(1,2)$ 乘坐两公司的铁路到 $(2,3)$。\n\n**【样例 #2】**\n\n见选手目录下的 `travel/travel2.in` 与 `travel/travel2.ans`。这个样例满足测试点 $7\\sim 8$ 的条件限制。\n\n**【样例 #3】**\n\n见选手目录下的 `travel/travel3.in` 与 `travel/travel3.ans`。这个样例满足测试点 $11$ 的条件限制。\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq n,m\\leq45$，$1\\leq k,a_{i,j},b_{i,j}\\leq90$。\n\n| 测试点编号 | $n,m$ | $k$ | $a_{i,j}$ | $b_{i,j}$ |\n|:--:|:--:|:--:|:--:|:--:|\n| $1\\sim3$ | $\\leq3$ | $\\leq5$ | $=1$ | $=1$ |\n| $4\\sim6$ | $\\leq10$ | $\\leq10$ | $=1$ | $=40$ |\n| $7\\sim8$ | $\\leq40$ | $\\leq30$ | $=1$ | $=45$ |\n| $9\\sim10$ | $\\leq15$ | $\\leq15$ | $\\leq15$ | $\\leq15$ |\n| $11$ | $\\leq15$ | $\\leq30$ | $\\leq30$ | $\\leq30$ |\n| $12$ | $\\leq20$ | $\\leq40$ | $\\leq40$ | $\\leq40$ |\n| $13\\sim15$ | $\\leq25$ | $\\leq50$ | $\\leq50$ | $\\leq50$ |\n| $16$ | $\\leq30$ | $\\leq60$ | $\\leq60$ | $\\leq60$ |\n| $17$ | $\\leq35$ | $\\leq70$ | $\\leq70$ | $\\leq70$ |\n| $18\\sim19$ | $\\leq40$ | $\\leq80$ | $\\leq80$ | $\\leq80$ |\n| $20$ | $\\leq45$ | $\\leq90$ | $\\leq90$ | $\\leq90$ |", "locale": "zh-CN"}}}
{"pid": "P9744", "type": "P", "difficulty": 4, "samples": [["5\n1 13 6 0 6\n2 4 1 0 5\n3 4 1 2 1\n7\n1 4\n2 1 5\n1 4\n2 2 3\n5 1 2 3 4 5\n1 5\n2 3 4", "7\n3\n7\n6\n0\n0\n8"], ["7\n10 1 6 9 4 2 4 \n0 5 2 3 0 1 4 \n4 1 4 1 5 3 5 \n6\n3 1 3 6 \n2 2 6 \n4 3 4 5 7 \n1 4 \n2 3 7 \n3 3 5 6", "12\n8\n2\n5\n5\n8"], ["10\n6 10 7 2 8 4 6 4 8 7\n4 0 6 7 8 4 8 2 10 5\n4 10 6 1 4 7 5 3 8 7\n1\n0", "7"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["递推", "2023", "洛谷原创", "O2优化", "前缀和", "洛谷月赛"], "title": "「KDOI-06-S」消除序列", "background": "", "description": "小 M 有一个长度为 $n$ 的序列 $v_1,v_2,\\ldots,v_n$，初始时，所有元素的值均为 $1$。\n\n你有 $3$ 种作用在这个序列上的操作：\n\n1. 选择一个下标 $i$（$1\\le i\\le n$），并且将 $v_1,v_2,\\ldots,v_i$ 的值全部设为 $0$，这种操作的代价是 $a_i$；\n2. 选择一个下标 $i$（$1\\le i\\le n$），并且将 $v_i$ 的值设为 $0$，这种操作的代价是 $b_i$；\n3. 选择一个下标 $i$（$1\\le i\\le n$），并且将 $v_i$ 的值设为 $1$，这种操作的代价是 $c_i$。\n\n现在有 $q$ 次询问，每次询问中给定一个集合 $P$，你希望进行若干次操作（可能为 $0$），使得：序列 $v$ 中下标位于该集合的元素的值为 $1$，其余位置的值为 $0$。**形式化地说，对于任意 $\\bm{1\\le i\\le n}$，若 $\\bm{i\\in P}$，则 $\\bm{v_i=1}$，否则 $\\bm{v_i=0}$。** 并且，你需要最小化这次询问中所有操作的总代价。\n\n注意，询问是相互独立的，也就是说，每次询问结束后，序列 $v$ 将会回到初始状态，即所有元素的值全都变为 $1$。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示序列 $v$ 的长度。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,\\ldots,a_n$，表示第一种操作的代价。\n\n第三行包含 $n$ 个非负整数 $b_1,b_2,\\ldots,b_n$，表示第二种操作的代价。\n\n第四行包含 $n$ 个非负整数 $c_1,c_2,\\ldots,c_n$，表示第三种操作的代价。\n\n第五行包含一个正整数 $q$，表示询问次数。\n\n接下来的 $q$ 行中，第 $i$ 行包含以下内容：\n\n+ 开头一个非负整数 $m$，表示第 $i$ 次询问中集合 $P$ 的大小；\n+ 接下来有 $m$ 个正整数 $p_1,p_2,\\ldots,p_m$，依次表示集合 $P$ 中每个元素的值，保证对于任意 $1\\le i<m$，都有 $p_i<p_{i+1}$。", "outputFormat": "输出到标准输出。\n\n输出共 $q$ 行，第 $i$ 行包含一个非负整数，表示第 $i$ 次询问中操作总代价的最小值。", "hint": "**【样例解释 #1】**\n\n对于第一次询问，可以按顺序执行如下操作：\n\n+ 在 $i=4$ 处执行操作 $1$，在这之后，序列 $v$ 变为 $[0,0,0,0,1]$，代价为 $0$；\n+ 在 $i=4$ 处执行操作 $3$，在这之后，序列 $v$ 变为 $[0,0,0,1,1]$，代价为 $2$；\n+ 在 $i=5$ 处执行操作 $2$，在这之后，序列 $v$ 变为 $[0,0,0,1,0]$，代价为 $5$。\n\n所以总代价为 $0+2+5=7$，可以证明，不存在更小的总代价。\n\n**【样例解释 #3】**\n\n对于这个样例中的唯一一次询问，可以选择在 $i=10$ 处执行操作 $1$，总代价为 $a_{10}=7$。\n\n**【样例 #4】**\n\n见选手目录下的 `reserve/reserve4.in` 与 `reserve/reserve4.ans`。\n\n**【样例 #5】**\n\n见选手目录下的 `reserve/reserve5.in` 与 `reserve/reserve5.ans`。\n\n这个样例满足测试点 $8\\sim 11$ 的条件限制。\n\n**【样例 #6】**\n\n见选手目录下的 `reserve/reserve6.in` 与 `reserve/reserve6.ans`。\n\n这个样例满足测试点 $14\\sim 15$ 的条件限制。\n\n**【样例 #7】**\n\n见选手目录下的 `reserve/reserve7.in` 与 `reserve/reserve7.ans`。\n\n这个样例满足测试点 $16$ 的条件限制。\n\n**【样例 #8】**\n\n见选手目录下的 `reserve/reserve8.in` 与 `reserve/reserve8.ans`。\n\n这个样例满足测试点 $17\\sim 20$ 的条件限制。\n\n***\n\n**【数据范围】**\n\n记 $\\sum m$ 为单测试点内所有询问 $m$ 的值之和。\n\n对于所有数据保证：$1 \\leq n \\leq 5\\times 10^5$，$0\\le m \\le n$，$0 \\leq \\sum m \\leq 5 \\times 10^5$，$1\\le q\\le \\max(n,\\sum m)$，$0 \\le a_i, b_i, c_i \\le 10^9$，$1\\le p_i \\le n$。\n\n| 测试点编号 | $n \\le$ | $m \\le$ | $\\sum m \\le$| 是否有特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1 \\sim 2$ | $5 \\times 10^5$ | $0$ | $0$ | 否 |\n| $3 \\sim 4$ | $7$ | $7$ | $15$ | 否 |\n| $5 \\sim 6$ | $2 \\times 10^3$ | $1$ | $2 \\times 10^3$ | 否 |\n| $7$ | $2 \\times 10^3$ | $2 \\times 10^3$ | $2 \\times 10^3$ | 是 |\n| $8 \\sim 11$ | $2 \\times 10^3$ | $2\\times 10^3$ | $2 \\times 10^3$ | 否 |\n| $12 \\sim 13$ | $5 \\times 10^4$ | $5 \\times 10^4$ | $5 \\times 10^4$ | 否 |\n| $14 \\sim 15$ | $5 \\times 10^5$ | $1$ | $5 \\times 10^5$ | 否 |\n| $16$ | $5 \\times 10^5$ | $5 \\times 10^5$ | $5 \\times 10^5$ | 是 |\n| $17 \\sim 20$ | $5 \\times 10^5$ | $5 \\times 10^5$ | $5 \\times 10^5$ | 否 |\n\n特殊性质：对于任意 $1\\le i\\le n$，保证 $c_i = 0$。\n\n**【提示】**\n\n本题输入输出量较大，请使用适当的 I/O 方式。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-S」消除序列", "background": "", "description": "小 M 有一个长度为 $n$ 的序列 $v_1,v_2,\\ldots,v_n$，初始时，所有元素的值均为 $1$。\n\n你有 $3$ 种作用在这个序列上的操作：\n\n1. 选择一个下标 $i$（$1\\le i\\le n$），并且将 $v_1,v_2,\\ldots,v_i$ 的值全部设为 $0$，这种操作的代价是 $a_i$；\n2. 选择一个下标 $i$（$1\\le i\\le n$），并且将 $v_i$ 的值设为 $0$，这种操作的代价是 $b_i$；\n3. 选择一个下标 $i$（$1\\le i\\le n$），并且将 $v_i$ 的值设为 $1$，这种操作的代价是 $c_i$。\n\n现在有 $q$ 次询问，每次询问中给定一个集合 $P$，你希望进行若干次操作（可能为 $0$），使得：序列 $v$ 中下标位于该集合的元素的值为 $1$，其余位置的值为 $0$。**形式化地说，对于任意 $\\bm{1\\le i\\le n}$，若 $\\bm{i\\in P}$，则 $\\bm{v_i=1}$，否则 $\\bm{v_i=0}$。** 并且，你需要最小化这次询问中所有操作的总代价。\n\n注意，询问是相互独立的，也就是说，每次询问结束后，序列 $v$ 将会回到初始状态，即所有元素的值全都变为 $1$。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示序列 $v$ 的长度。\n\n第二行包含 $n$ 个非负整数 $a_1,a_2,\\ldots,a_n$，表示第一种操作的代价。\n\n第三行包含 $n$ 个非负整数 $b_1,b_2,\\ldots,b_n$，表示第二种操作的代价。\n\n第四行包含 $n$ 个非负整数 $c_1,c_2,\\ldots,c_n$，表示第三种操作的代价。\n\n第五行包含一个正整数 $q$，表示询问次数。\n\n接下来的 $q$ 行中，第 $i$ 行包含以下内容：\n\n+ 开头一个非负整数 $m$，表示第 $i$ 次询问中集合 $P$ 的大小；\n+ 接下来有 $m$ 个正整数 $p_1,p_2,\\ldots,p_m$，依次表示集合 $P$ 中每个元素的值，保证对于任意 $1\\le i<m$，都有 $p_i<p_{i+1}$。", "outputFormat": "输出到标准输出。\n\n输出共 $q$ 行，第 $i$ 行包含一个非负整数，表示第 $i$ 次询问中操作总代价的最小值。", "hint": "**【样例解释 #1】**\n\n对于第一次询问，可以按顺序执行如下操作：\n\n+ 在 $i=4$ 处执行操作 $1$，在这之后，序列 $v$ 变为 $[0,0,0,0,1]$，代价为 $0$；\n+ 在 $i=4$ 处执行操作 $3$，在这之后，序列 $v$ 变为 $[0,0,0,1,1]$，代价为 $2$；\n+ 在 $i=5$ 处执行操作 $2$，在这之后，序列 $v$ 变为 $[0,0,0,1,0]$，代价为 $5$。\n\n所以总代价为 $0+2+5=7$，可以证明，不存在更小的总代价。\n\n**【样例解释 #3】**\n\n对于这个样例中的唯一一次询问，可以选择在 $i=10$ 处执行操作 $1$，总代价为 $a_{10}=7$。\n\n**【样例 #4】**\n\n见选手目录下的 `reserve/reserve4.in` 与 `reserve/reserve4.ans`。\n\n**【样例 #5】**\n\n见选手目录下的 `reserve/reserve5.in` 与 `reserve/reserve5.ans`。\n\n这个样例满足测试点 $8\\sim 11$ 的条件限制。\n\n**【样例 #6】**\n\n见选手目录下的 `reserve/reserve6.in` 与 `reserve/reserve6.ans`。\n\n这个样例满足测试点 $14\\sim 15$ 的条件限制。\n\n**【样例 #7】**\n\n见选手目录下的 `reserve/reserve7.in` 与 `reserve/reserve7.ans`。\n\n这个样例满足测试点 $16$ 的条件限制。\n\n**【样例 #8】**\n\n见选手目录下的 `reserve/reserve8.in` 与 `reserve/reserve8.ans`。\n\n这个样例满足测试点 $17\\sim 20$ 的条件限制。\n\n***\n\n**【数据范围】**\n\n记 $\\sum m$ 为单测试点内所有询问 $m$ 的值之和。\n\n对于所有数据保证：$1 \\leq n \\leq 5\\times 10^5$，$0\\le m \\le n$，$0 \\leq \\sum m \\leq 5 \\times 10^5$，$1\\le q\\le \\max(n,\\sum m)$，$0 \\le a_i, b_i, c_i \\le 10^9$，$1\\le p_i \\le n$。\n\n| 测试点编号 | $n \\le$ | $m \\le$ | $\\sum m \\le$| 是否有特殊性质 |\n|:--:|:--:|:--:|:--:|:--:|\n| $1 \\sim 2$ | $5 \\times 10^5$ | $0$ | $0$ | 否 |\n| $3 \\sim 4$ | $7$ | $7$ | $15$ | 否 |\n| $5 \\sim 6$ | $2 \\times 10^3$ | $1$ | $2 \\times 10^3$ | 否 |\n| $7$ | $2 \\times 10^3$ | $2 \\times 10^3$ | $2 \\times 10^3$ | 是 |\n| $8 \\sim 11$ | $2 \\times 10^3$ | $2\\times 10^3$ | $2 \\times 10^3$ | 否 |\n| $12 \\sim 13$ | $5 \\times 10^4$ | $5 \\times 10^4$ | $5 \\times 10^4$ | 否 |\n| $14 \\sim 15$ | $5 \\times 10^5$ | $1$ | $5 \\times 10^5$ | 否 |\n| $16$ | $5 \\times 10^5$ | $5 \\times 10^5$ | $5 \\times 10^5$ | 是 |\n| $17 \\sim 20$ | $5 \\times 10^5$ | $5 \\times 10^5$ | $5 \\times 10^5$ | 否 |\n\n特殊性质：对于任意 $1\\le i\\le n$，保证 $c_i = 0$。\n\n**【提示】**\n\n本题输入输出量较大，请使用适当的 I/O 方式。", "locale": "zh-CN"}}}
{"pid": "P9745", "type": "P", "difficulty": 5, "samples": [["3\n1 2 3\n1 1", "19"], ["5\n3 4 5 6 7\n1 1 2 2", "5985"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2023", "洛谷原创", "O2优化", "树形 DP", "位运算", "洛谷月赛"], "title": "「KDOI-06-S」树上异或", "background": "", "description": "给定一棵包含 $n$ 个节点的树，第 $i$ 个点有一个点权 $x_i$。\n\n对于树上的 $n-1$ 条边，每条边选择删除或不删除，有 $2^{n-1}$ 种选择是否删除每条边的方案。\n\n对于每种删除边的方案，设删除后的图包含 $k$ 个连通块，定义这个方案的权值为图中连通块点权异或和的乘积。形式化地说，若这张图包含连通块 $C_1,C_2,\\ldots,C_k$，其中 $C_i$ 是第 $i$ 个连通块的顶点集合，设 $v_i=\\bigoplus_{u\\in C_i} x_u$，则这个方案的权值为 $v_1\\times v_2\\times \\cdots\\times v_k$。\n\n求这 $2^{n-1}$ 种删除边的方案的**权值**之和，答案对 $998~244~353$ 取模。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示树的节点个数。\n\n第二行 $n$ 个非负整数 $x_1,x_2,\\ldots,x_n$，表示每个点的点权。\n\n第三行 $n-1$ 个正整数 $f_2,f_3,\\ldots,f_n$，表示节点 $i$ 与 $f_{i}$ 之间有一条无向边。", "outputFormat": "输出到标准输出。\n\n输出包含一行一个整数，表示所有 $2^{n-1}$ 种删除边的方案的**权值**之和，答案对 $998~244~353$ 取模。", "hint": "**【样例解释 #1】**\n\n有四种删除边的方案：\n\n* 不删除边：图有且仅有一个连通块，权值为 $1\\oplus2\\oplus3=0$。\n* 删除 $(1,2)$ 一条边：图包含两个连通块，权值为 $(1\\oplus3)\\times2=4$。\n* 删除 $(1,3)$ 一条边：图包含两个连通块，权值为 $(1\\oplus2)\\times3=9$。\n* 删除 $(1,2)$，$(1,3)$ 两条边：图包含三个连通块，权值为 $1\\times2\\times3=6$。\n\n所有方案权值的总和为 $0+4+9+6=19$。\n\n**【样例 #3】**\n\n见选手目录下的 `xor/xor3.in` 与 `xor/xor3.ans`。\n\n这个样例满足测试点 $6\\sim7$ 的条件限制。\n\n**【样例 #4】**\n\n见选手目录下的 `xor/xor4.in` 与 `xor/xor4.ans`。\n\n这个样例满足测试点 $8$ 的条件限制。\n\n**【样例 #5】**\n\n见选手目录下的 `xor/xor5.in` 与 `xor/xor5.ans`。\n\n这个样例满足测试点 $9$ 的条件限制。\n\n**【样例 #6】**\n\n见选手目录下的 `xor/xor6.in` 与 `xor/xor6.ans`。\n\n这个样例满足测试点 $19\\sim21$ 的条件限制。\n\n***\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq n\\leq5\\times10^5$，$0\\leq x_i\\leq10^{18}$，$1\\leq f_i<i$。\n\n| 测试点编号 | $n\\leq$ | $x_i$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1\\sim2$ | $12$ | $\\leq10^9$ | 无 |\n| $3$ | $2000$ | $=1$ | 无 |\n| $4$ | $10^5$ | $=1$ | A |\n| $5$ | $10^5$ | $=1$ | B |\n| $6\\sim7$ | $10^5$ | $=1$ | 无 |\n| $8$ | $10^5$ | $\\leq7$ | A |\n| $9$ | $10^5$ | $\\leq7$ | B |\n| $10\\sim11$ | $10^5$ | $\\leq7$ | 无 |\n| $12\\sim16$ | $200$ | $\\leq8191$ | 无 |\n| $17$ | $10^5$ | $\\leq10^9$ | A |\n| $18$ | $10^5$ | $\\leq10^9$ | B |\n| $19\\sim21$ | $10^5$ | $\\leq10^9$ | 无 |\n| $22\\sim25$ | $5\\times10^5$ | $\\leq10^{18}$ | 无 |\n\n* 特殊性质 A：保证对于任意 $1< i\\le n$，$f_i=i-1$。\n* 特殊性质 B：保证对于任意 $1< i\\le n$，$f_i=1$。\n\n***\n\n**【提示】**\n\n$\\oplus$ 表示按位异或运算。\n\n本题输入输出量较大，请使用适当的 I/O 方式。\n\n**请注意常数因子对程序运行效率产生的影响。**\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-S」树上异或", "background": "", "description": "给定一棵包含 $n$ 个节点的树，第 $i$ 个点有一个点权 $x_i$。\n\n对于树上的 $n-1$ 条边，每条边选择删除或不删除，有 $2^{n-1}$ 种选择是否删除每条边的方案。\n\n对于每种删除边的方案，设删除后的图包含 $k$ 个连通块，定义这个方案的权值为图中连通块点权异或和的乘积。形式化地说，若这张图包含连通块 $C_1,C_2,\\ldots,C_k$，其中 $C_i$ 是第 $i$ 个连通块的顶点集合，设 $v_i=\\bigoplus_{u\\in C_i} x_u$，则这个方案的权值为 $v_1\\times v_2\\times \\cdots\\times v_k$。\n\n求这 $2^{n-1}$ 种删除边的方案的**权值**之和，答案对 $998~244~353$ 取模。", "inputFormat": "从标准输入读入数据。\n\n输入的第一行包含一个正整数 $n$，表示树的节点个数。\n\n第二行 $n$ 个非负整数 $x_1,x_2,\\ldots,x_n$，表示每个点的点权。\n\n第三行 $n-1$ 个正整数 $f_2,f_3,\\ldots,f_n$，表示节点 $i$ 与 $f_{i}$ 之间有一条无向边。", "outputFormat": "输出到标准输出。\n\n输出包含一行一个整数，表示所有 $2^{n-1}$ 种删除边的方案的**权值**之和，答案对 $998~244~353$ 取模。", "hint": "**【样例解释 #1】**\n\n有四种删除边的方案：\n\n* 不删除边：图有且仅有一个连通块，权值为 $1\\oplus2\\oplus3=0$。\n* 删除 $(1,2)$ 一条边：图包含两个连通块，权值为 $(1\\oplus3)\\times2=4$。\n* 删除 $(1,3)$ 一条边：图包含两个连通块，权值为 $(1\\oplus2)\\times3=9$。\n* 删除 $(1,2)$，$(1,3)$ 两条边：图包含三个连通块，权值为 $1\\times2\\times3=6$。\n\n所有方案权值的总和为 $0+4+9+6=19$。\n\n**【样例 #3】**\n\n见选手目录下的 `xor/xor3.in` 与 `xor/xor3.ans`。\n\n这个样例满足测试点 $6\\sim7$ 的条件限制。\n\n**【样例 #4】**\n\n见选手目录下的 `xor/xor4.in` 与 `xor/xor4.ans`。\n\n这个样例满足测试点 $8$ 的条件限制。\n\n**【样例 #5】**\n\n见选手目录下的 `xor/xor5.in` 与 `xor/xor5.ans`。\n\n这个样例满足测试点 $9$ 的条件限制。\n\n**【样例 #6】**\n\n见选手目录下的 `xor/xor6.in` 与 `xor/xor6.ans`。\n\n这个样例满足测试点 $19\\sim21$ 的条件限制。\n\n***\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq n\\leq5\\times10^5$，$0\\leq x_i\\leq10^{18}$，$1\\leq f_i<i$。\n\n| 测试点编号 | $n\\leq$ | $x_i$ | 特殊性质 |\n|:--:|:--:|:--:|:--:|\n| $1\\sim2$ | $12$ | $\\leq10^9$ | 无 |\n| $3$ | $2000$ | $=1$ | 无 |\n| $4$ | $10^5$ | $=1$ | A |\n| $5$ | $10^5$ | $=1$ | B |\n| $6\\sim7$ | $10^5$ | $=1$ | 无 |\n| $8$ | $10^5$ | $\\leq7$ | A |\n| $9$ | $10^5$ | $\\leq7$ | B |\n| $10\\sim11$ | $10^5$ | $\\leq7$ | 无 |\n| $12\\sim16$ | $200$ | $\\leq8191$ | 无 |\n| $17$ | $10^5$ | $\\leq10^9$ | A |\n| $18$ | $10^5$ | $\\leq10^9$ | B |\n| $19\\sim21$ | $10^5$ | $\\leq10^9$ | 无 |\n| $22\\sim25$ | $5\\times10^5$ | $\\leq10^{18}$ | 无 |\n\n* 特殊性质 A：保证对于任意 $1< i\\le n$，$f_i=i-1$。\n* 特殊性质 B：保证对于任意 $1< i\\le n$，$f_i=1$。\n\n***\n\n**【提示】**\n\n$\\oplus$ 表示按位异或运算。\n\n本题输入输出量较大，请使用适当的 I/O 方式。\n\n**请注意常数因子对程序运行效率产生的影响。**\n", "locale": "zh-CN"}}}
{"pid": "P9746", "type": "P", "difficulty": 6, "samples": [["2\n5\n3 3 1 4 5\n9\n3 4 6 5 4 5 1 2 4", "Huoyu\n2\n3 4 5\n1 2 3\nHuoyu\n3\n1 3 4\n2 3 4\n1 2 4"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2023", "洛谷原创", "Special Judge", "O2优化", "区间 DP", "位运算", "洛谷月赛"], "title": "「KDOI-06-S」合并序列", "background": "", "description": "给定一个长度为 $n$ 的序列 $a_1,a_2,\\ldots a_n$。\n\n你可以对这个序列进行若干（可能为 $0$）次操作。在每次操作中，你将会：\n\n* 选择三个正整数 $i<j<k$，满足 $a_i\\oplus a_j\\oplus a_k=0$ 且 $k$ 的值不超过此时序列的长度。记 $s=a_i\\oplus a_{i+1}\\oplus \\cdots\\oplus a_k$。\n* 然后，删除 $a_i\\sim a_k$，并在原来这 $k-i+1$ 个数所在的位置插入 $s$。注意，此时序列 $a$ 的长度将会减少 $(k-i)$。\n\n请你判断是否能够使得序列 $a$ 仅剩一个数，也就是说，在所有操作结束后 $a$ 的长度为 $1$。若可以，你还需要给出一种操作方案。", "inputFormat": "从标准输入读入数据。\n\n**本题含有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示数据组数。\n\n对于每组测试数据，第一行一个正整数 $n$，表示初始序列长度。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n$，表示初始序列中每个元素的值。", "outputFormat": "对于每组测试数据：\n\n+ 若存在一种方案使得序列 $a$ 仅剩一个数，请在输出的第一行输出 `Huoyu`。\n  + 接下来，在第二行你应该输出一个非负整数 $t$，表示你的操作次数。你需要保证 $0\\le t\\le n$。\n  + 接下来 $t$ 行，每行输出三个正整数 $i,j,k$，表示你在这次操作中选择的三个数的值。你需要保证 $i<j<k$ 且 $k$ 的值不超过此时序列的长度。\n+ 否则，请输出一行一个字符串 `Shuiniao`。", "hint": "**【样例解释 #1】**\n\n对于第一组测试数据：\n\n* 第一次操作中，$a_3\\oplus a_4\\oplus a_5=1\\oplus4\\oplus5=0$，操作后的序列为 $[3,3,0]$；\n* 第二次操作中，$a_1\\oplus a_2\\oplus a_3=3\\oplus3\\oplus0=0$，操作后的序列为 $[0]$。\n\n于是，序列 $a$ 在两次操作后仅剩一个数。\n\n对于第二组测试数据：\n\n* 第一次操作，$a_1\\oplus a_3\\oplus a_4=3\\oplus6\\oplus5=0$，$s=4$，操作后的序列为 $[4,4,5,1,2,4]$。\n* 第二次操作，$a_2\\oplus a_3\\oplus a_4=4\\oplus5\\oplus1=0$，操作后的序列为 $[4,0,2,4]$。\n* 第三次操作，$a_1\\oplus a_2\\oplus a_4=4\\oplus0\\oplus4=0$，$s=2$，操作后的序列为 $[2]$。\n\n于是，序列 $a$ 在三次操作后仅剩一个数。\n\n**【样例 #2】**\n\n见选手目录下的 `merge/merge2.in` 与 `merge/merge2.ans`。\n\n这个样例满足测试点 $6\\sim7$ 的条件限制。\n\n**【样例 #3】**\n\n见选手目录下的 `merge/merge3.in` 与 `merge/merge3.ans`。\n\n这个样例满足测试点 $12\\sim13$ 的条件限制。\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq T\\leq20$，$1\\leq n\\leq500$，$0\\leq a_i<512$。\n\n| 测试点编号 | $n$ | $\\sum n\\leq$ | $a_i<$ |\n|:--:|:--:|:--:|:--:|\n| $1$ | $=1$ | $20$ | $512$ |\n| $2$ | $=2$ | $40$ | $512$ |\n| $3$ | $=3$ | $60$ | $512$ |\n| $4$ | $=4$ | $80$ | $512$ |\n| $5$ | $=5$ | $100$ | $512$ |\n| $6\\sim7$ | $\\leq40$ | $800$ | $512$ |\n| $8\\sim9$ | $\\leq70$ | $1~400$ | $512$ |\n| $10\\sim11$ | $\\leq130$ | $2~600$ | $512$ |\n| $12\\sim13$ | $\\leq300$ | $6~000$ | $128$ |\n| $14\\sim15$ | $\\leq500$ | $3~000$ | $64$ |\n| $16\\sim17$ | $\\leq500$ | $3~000$ | $128$ |\n| $18\\sim20$ | $\\leq500$ | $10~000$ | $512$ |\n\n**【提示】**\n\n$\\oplus$ 表示按位异或运算。\n\n**请对程序的常数以及效率给予充分的信任。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-S」合并序列", "background": "", "description": "给定一个长度为 $n$ 的序列 $a_1,a_2,\\ldots a_n$。\n\n你可以对这个序列进行若干（可能为 $0$）次操作。在每次操作中，你将会：\n\n* 选择三个正整数 $i<j<k$，满足 $a_i\\oplus a_j\\oplus a_k=0$ 且 $k$ 的值不超过此时序列的长度。记 $s=a_i\\oplus a_{i+1}\\oplus \\cdots\\oplus a_k$。\n* 然后，删除 $a_i\\sim a_k$，并在原来这 $k-i+1$ 个数所在的位置插入 $s$。注意，此时序列 $a$ 的长度将会减少 $(k-i)$。\n\n请你判断是否能够使得序列 $a$ 仅剩一个数，也就是说，在所有操作结束后 $a$ 的长度为 $1$。若可以，你还需要给出一种操作方案。", "inputFormat": "从标准输入读入数据。\n\n**本题含有多组测试数据。**\n\n输入的第一行包含一个正整数 $T$，表示数据组数。\n\n对于每组测试数据，第一行一个正整数 $n$，表示初始序列长度。\n\n第二行 $n$ 个整数 $a_1,a_2,\\ldots,a_n$，表示初始序列中每个元素的值。", "outputFormat": "对于每组测试数据：\n\n+ 若存在一种方案使得序列 $a$ 仅剩一个数，请在输出的第一行输出 `Huoyu`。\n  + 接下来，在第二行你应该输出一个非负整数 $t$，表示你的操作次数。你需要保证 $0\\le t\\le n$。\n  + 接下来 $t$ 行，每行输出三个正整数 $i,j,k$，表示你在这次操作中选择的三个数的值。你需要保证 $i<j<k$ 且 $k$ 的值不超过此时序列的长度。\n+ 否则，请输出一行一个字符串 `Shuiniao`。", "hint": "**【样例解释 #1】**\n\n对于第一组测试数据：\n\n* 第一次操作中，$a_3\\oplus a_4\\oplus a_5=1\\oplus4\\oplus5=0$，操作后的序列为 $[3,3,0]$；\n* 第二次操作中，$a_1\\oplus a_2\\oplus a_3=3\\oplus3\\oplus0=0$，操作后的序列为 $[0]$。\n\n于是，序列 $a$ 在两次操作后仅剩一个数。\n\n对于第二组测试数据：\n\n* 第一次操作，$a_1\\oplus a_3\\oplus a_4=3\\oplus6\\oplus5=0$，$s=4$，操作后的序列为 $[4,4,5,1,2,4]$。\n* 第二次操作，$a_2\\oplus a_3\\oplus a_4=4\\oplus5\\oplus1=0$，操作后的序列为 $[4,0,2,4]$。\n* 第三次操作，$a_1\\oplus a_2\\oplus a_4=4\\oplus0\\oplus4=0$，$s=2$，操作后的序列为 $[2]$。\n\n于是，序列 $a$ 在三次操作后仅剩一个数。\n\n**【样例 #2】**\n\n见选手目录下的 `merge/merge2.in` 与 `merge/merge2.ans`。\n\n这个样例满足测试点 $6\\sim7$ 的条件限制。\n\n**【样例 #3】**\n\n见选手目录下的 `merge/merge3.in` 与 `merge/merge3.ans`。\n\n这个样例满足测试点 $12\\sim13$ 的条件限制。\n\n**【数据范围】**\n\n对于所有数据保证：$1\\leq T\\leq20$，$1\\leq n\\leq500$，$0\\leq a_i<512$。\n\n| 测试点编号 | $n$ | $\\sum n\\leq$ | $a_i<$ |\n|:--:|:--:|:--:|:--:|\n| $1$ | $=1$ | $20$ | $512$ |\n| $2$ | $=2$ | $40$ | $512$ |\n| $3$ | $=3$ | $60$ | $512$ |\n| $4$ | $=4$ | $80$ | $512$ |\n| $5$ | $=5$ | $100$ | $512$ |\n| $6\\sim7$ | $\\leq40$ | $800$ | $512$ |\n| $8\\sim9$ | $\\leq70$ | $1~400$ | $512$ |\n| $10\\sim11$ | $\\leq130$ | $2~600$ | $512$ |\n| $12\\sim13$ | $\\leq300$ | $6~000$ | $128$ |\n| $14\\sim15$ | $\\leq500$ | $3~000$ | $64$ |\n| $16\\sim17$ | $\\leq500$ | $3~000$ | $128$ |\n| $18\\sim20$ | $\\leq500$ | $10~000$ | $512$ |\n\n**【提示】**\n\n$\\oplus$ 表示按位异或运算。\n\n**请对程序的常数以及效率给予充分的信任。**", "locale": "zh-CN"}}}
{"pid": "P9747", "type": "P", "difficulty": 6, "samples": [["2 0\n7 2\n0 4 2 6 0 6 6\n1 7\n2 3\n3 1\n1 2 3\n1 3", "7\n1\n3"]], "limits": {"time": [7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000], "memory": [1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576]}, "tags": ["2023", "洛谷原创", "O2优化", "洛谷月赛"], "title": "「KDOI-06-S」签到题", "background": "你正在追番，突然家长进来了，于是你假装在写一道数据结构题。\n\n", "description": "定义一个长度为 $m$ 的数组 $v$ 是合法的，当且仅当经过若干次以下操作可以使 $v$ 中的所有元素相等：\n\n* 选择四个整数 $a,b,c,d$（$1\\leq a\\leq b\\leq m$，$1\\leq c\\leq d\\leq m$）满足 $b-a+1=d-c+1$，且 $v_a\\operatorname{~or~}v_{a+1}\\operatorname{~or~}\\cdots\\operatorname{~or~}v_b=v_c\\operatorname{~or~}v_{c+1}\\operatorname{~or~}\\cdots\\operatorname{~or~}v_d$，其中 $\\operatorname{or}$ 表示按位或运算。接下来，将区间 $[a,b]$ 的数**复制下来再覆盖**到区间 $[c,d]$。**注意：区间 $\\bm{[a,b]}$ 和 $\\bm{[c,d]}$ 可能会相交。**\n\n给出一个长度为 $n$ 的序列 $a_1,a_2,\\ldots,a_n$ 以及 $q$ 次询问，每次询问给定两个正整数 $l,r$，你需要回答区间 $[l,r]$ 内的最长合法子区间的长度。", "inputFormat": "从标准输入读入数据。\n\n**本题含有多组测试数据。**\n\n输入的第一行包含两个整数 $T,id$，表示数据组数和测试点编号（样例的测试点编号为 $0$）。\n\n对于每组测试数据数据，第一行两个正整数 $n,q$，表示序列长度与询问次数。\n\n第二行 $n$ 个正整数 $a_1,a_2,\\ldots,a_n$，表示序列 $a$ 中每个元素的值。\n\n接下来 $q$ 行，每行两个正整数 $l,r$，表示询问的区间。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据的每次询问，输出一行一个整数，表示区间 $[l,r]$ 内的最长合法子区间的长度。", "hint": "**【样例解释 #1】**\n\n对于第一组数据的第一个询问，最长的合法子区间为 $[1,7]$，以下是一种可能的操作序列：\n\n1. 选择区间 $[1,4]$ 和 $[2,5]$，将区间 $[1,4]$ 中的数**先复制**下来，再覆盖到 $[2,5]$ 上，此时序列变为 $[0,0,4,2,6,6,6]$。\n\n2. 选择区间 $[5,6]$ 和 $[3,4]$，此时序列变为 $[0,0,6,6,6,6,6]$。\n\n3. 选择区间 $[4,7]$ 和 $[1,4]$，此时序列变为 $[6,6,6,6,6,6,6]$。\n\n注意，操作**并不会**真正的修改原序列中的值。\n\n对于第一组数据的第二个询问，最长的合法子区间为 $[2,2]$ 和 $[3,3]$。\n\n**【样例 #2】**\n\n见选手目录下的 `binary/binary2.in` 与 `binary/binary2.ans`。\n\n这个样例满足测试点 $5\\sim 8$ 的条件限制。\n\n**【样例 #3】**\n\n见选手目录下的 `binary/binary3.in` 与 `binary/binary3.ans`。\n\n这个样例满足测试点 $25\\sim 31$ 的条件限制。\n\n**【样例 #4】**\n\n见选手目录下的 `binary/binary4.in` 与 `binary/binary4.ans`。\n\n这个样例满足测试点 $46\\sim 50$ 的条件限制。\n\n***\n\n**【数据范围】**\n\n对于所有数据保证：$1\\le T\\le 2\\times 10^5$，$1\\le n,q,\\sum n,\\sum q\\le 2\\times 10^6$，$0\\le a_i < 2^{30}$。\n\n| 测试点编号 | $\\sum n\\le$ | $\\sum q\\le$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $5$ | $5$ | 无 |\n| $2\\sim 4$ | $100$ | $100$ | 无 |\n| $5\\sim 8$ | $1000$ | $1000$ | 无 |\n| $9\\sim 14$ | $1000$ | $10^6$ | 无 |\n| $15\\sim 19$ | $6000$ | $10^6$ | 无 |\n| $20\\sim 24$ | $50000$ | $10$ | 无 |\n| $25\\sim 31$ | $10^5$ | $10^5$ | B |\n| $32\\sim 36$ | $2\\times 10^5$ | $2\\times 10^5$ | 无 |\n| $37\\sim 41$ | $5\\times 10^5$ | $10^6$ | B |\n| $42\\sim 44$ | $5\\times 10^5$ | $5\\times 10^5$ | 无 |\n| $45$ | $2\\times 10^6$ | $2\\times 10^6$ | A |\n| $46\\sim 50$ | $2\\times 10^6$ | $2\\times 10^6$ | 无 |\n\n+ 特殊性质 A：保证序列 $a$ 中的每个数均在 $[0,2^{30})$ 之间均匀随机生成。\n+ 特殊性质 B：保证对于任意 $1\\le i\\le n$，$a_i\\le 3$。\n\n***\n\n**【提示】**\n\n本题输入输出量较大，请使用适当的 I/O 方式。\n\n**请注意常数因子对程序运行效率产生的影响。**\n\nKDOI 出题组温馨提示：**多测不清空，爆零两行泪。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "「KDOI-06-S」签到题", "background": "你正在追番，突然家长进来了，于是你假装在写一道数据结构题。\n\n", "description": "定义一个长度为 $m$ 的数组 $v$ 是合法的，当且仅当经过若干次以下操作可以使 $v$ 中的所有元素相等：\n\n* 选择四个整数 $a,b,c,d$（$1\\leq a\\leq b\\leq m$，$1\\leq c\\leq d\\leq m$）满足 $b-a+1=d-c+1$，且 $v_a\\operatorname{~or~}v_{a+1}\\operatorname{~or~}\\cdots\\operatorname{~or~}v_b=v_c\\operatorname{~or~}v_{c+1}\\operatorname{~or~}\\cdots\\operatorname{~or~}v_d$，其中 $\\operatorname{or}$ 表示按位或运算。接下来，将区间 $[a,b]$ 的数**复制下来再覆盖**到区间 $[c,d]$。**注意：区间 $\\bm{[a,b]}$ 和 $\\bm{[c,d]}$ 可能会相交。**\n\n给出一个长度为 $n$ 的序列 $a_1,a_2,\\ldots,a_n$ 以及 $q$ 次询问，每次询问给定两个正整数 $l,r$，你需要回答区间 $[l,r]$ 内的最长合法子区间的长度。", "inputFormat": "从标准输入读入数据。\n\n**本题含有多组测试数据。**\n\n输入的第一行包含两个整数 $T,id$，表示数据组数和测试点编号（样例的测试点编号为 $0$）。\n\n对于每组测试数据数据，第一行两个正整数 $n,q$，表示序列长度与询问次数。\n\n第二行 $n$ 个正整数 $a_1,a_2,\\ldots,a_n$，表示序列 $a$ 中每个元素的值。\n\n接下来 $q$ 行，每行两个正整数 $l,r$，表示询问的区间。", "outputFormat": "输出到标准输出。\n\n对于每组测试数据的每次询问，输出一行一个整数，表示区间 $[l,r]$ 内的最长合法子区间的长度。", "hint": "**【样例解释 #1】**\n\n对于第一组数据的第一个询问，最长的合法子区间为 $[1,7]$，以下是一种可能的操作序列：\n\n1. 选择区间 $[1,4]$ 和 $[2,5]$，将区间 $[1,4]$ 中的数**先复制**下来，再覆盖到 $[2,5]$ 上，此时序列变为 $[0,0,4,2,6,6,6]$。\n\n2. 选择区间 $[5,6]$ 和 $[3,4]$，此时序列变为 $[0,0,6,6,6,6,6]$。\n\n3. 选择区间 $[4,7]$ 和 $[1,4]$，此时序列变为 $[6,6,6,6,6,6,6]$。\n\n注意，操作**并不会**真正的修改原序列中的值。\n\n对于第一组数据的第二个询问，最长的合法子区间为 $[2,2]$ 和 $[3,3]$。\n\n**【样例 #2】**\n\n见选手目录下的 `binary/binary2.in` 与 `binary/binary2.ans`。\n\n这个样例满足测试点 $5\\sim 8$ 的条件限制。\n\n**【样例 #3】**\n\n见选手目录下的 `binary/binary3.in` 与 `binary/binary3.ans`。\n\n这个样例满足测试点 $25\\sim 31$ 的条件限制。\n\n**【样例 #4】**\n\n见选手目录下的 `binary/binary4.in` 与 `binary/binary4.ans`。\n\n这个样例满足测试点 $46\\sim 50$ 的条件限制。\n\n***\n\n**【数据范围】**\n\n对于所有数据保证：$1\\le T\\le 2\\times 10^5$，$1\\le n,q,\\sum n,\\sum q\\le 2\\times 10^6$，$0\\le a_i < 2^{30}$。\n\n| 测试点编号 | $\\sum n\\le$ | $\\sum q\\le$ | 特殊性质 |\n| :----------: | :----------: | :----------: | :----------: |\n| $1$ | $5$ | $5$ | 无 |\n| $2\\sim 4$ | $100$ | $100$ | 无 |\n| $5\\sim 8$ | $1000$ | $1000$ | 无 |\n| $9\\sim 14$ | $1000$ | $10^6$ | 无 |\n| $15\\sim 19$ | $6000$ | $10^6$ | 无 |\n| $20\\sim 24$ | $50000$ | $10$ | 无 |\n| $25\\sim 31$ | $10^5$ | $10^5$ | B |\n| $32\\sim 36$ | $2\\times 10^5$ | $2\\times 10^5$ | 无 |\n| $37\\sim 41$ | $5\\times 10^5$ | $10^6$ | B |\n| $42\\sim 44$ | $5\\times 10^5$ | $5\\times 10^5$ | 无 |\n| $45$ | $2\\times 10^6$ | $2\\times 10^6$ | A |\n| $46\\sim 50$ | $2\\times 10^6$ | $2\\times 10^6$ | 无 |\n\n+ 特殊性质 A：保证序列 $a$ 中的每个数均在 $[0,2^{30})$ 之间均匀随机生成。\n+ 特殊性质 B：保证对于任意 $1\\le i\\le n$，$a_i\\le 3$。\n\n***\n\n**【提示】**\n\n本题输入输出量较大，请使用适当的 I/O 方式。\n\n**请注意常数因子对程序运行效率产生的影响。**\n\nKDOI 出题组温馨提示：**多测不清空，爆零两行泪。**", "locale": "zh-CN"}}}
{"pid": "P9748", "type": "P", "difficulty": 2, "samples": [["8", "5 5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "2023", "O2优化", "CSP-J 入门级"], "title": "[CSP-J 2023] 小苹果", "background": "", "description": "小 Y 的桌子上放着 $n$ 个苹果从左到右排成一列，编号为从 $1$ 到 $n$。\n\n小苞是小 Y 的好朋友，每天她都会从中拿走一些苹果。\n\n每天在拿的时候，小苞都是从左侧第 $1$ 个苹果开始、每隔 $2$ 个苹果拿走 $1$ 个苹果。随后小苞会将剩下的苹果按原先的顺序重新排成一列。\n\n小苞想知道，多少天能拿完所有的苹果，而编号为 $n$ 的苹果是在第几天被拿走的？", "inputFormat": "输入的第一行包含一个正整数 $n$，表示苹果的总数。", "outputFormat": "输出一行包含两个正整数，两个整数之间由一个空格隔开，分别表示小苞拿走所有苹果所需的天数以及拿走编号为 $n$ 的苹果是在第几天。", "hint": "**【样例 $1$ 解释】**\n\n小苞的桌上一共放了 $8$ 个苹果。  \n小苞第一天拿走了编号为 $1$、$4$、$7$ 的苹果。  \n小苞第二天拿走了编号为 $2$、$6$ 的苹果。  \n小苞第三天拿走了编号为 $3$ 的苹果。  \n小苞第四天拿走了编号为 $5$ 的苹果。  \n小苞第五天拿走了编号为 $8$ 的苹果。  \n\n**【样例 $2$】**\n\n见选手目录下的 apple/apple2.in 与 apple/apple2.ans。\n\n**【数据范围】**\n\n对于所有测试数据有：$1\\leq n\\leq 10^9$。\n\n| 测试点 | $n\\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 2$ | $10$ | 无 |\n| $3\\sim 5$ | $10^3$ | 无 |\n| $6\\sim 7$ | $10^6$ | 有 |\n| $8\\sim 9$ | $10^6$ | 无 |\n| $10$ | $10^9$ | 无 |\n\n特殊性质：小苞第一天就取走编号为 $n$ 的苹果。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-J 2023] 小苹果", "background": "", "description": "小 Y 的桌子上放着 $n$ 个苹果从左到右排成一列，编号为从 $1$ 到 $n$。\n\n小苞是小 Y 的好朋友，每天她都会从中拿走一些苹果。\n\n每天在拿的时候，小苞都是从左侧第 $1$ 个苹果开始、每隔 $2$ 个苹果拿走 $1$ 个苹果。随后小苞会将剩下的苹果按原先的顺序重新排成一列。\n\n小苞想知道，多少天能拿完所有的苹果，而编号为 $n$ 的苹果是在第几天被拿走的？", "inputFormat": "输入的第一行包含一个正整数 $n$，表示苹果的总数。", "outputFormat": "输出一行包含两个正整数，两个整数之间由一个空格隔开，分别表示小苞拿走所有苹果所需的天数以及拿走编号为 $n$ 的苹果是在第几天。", "hint": "**【样例 $1$ 解释】**\n\n小苞的桌上一共放了 $8$ 个苹果。  \n小苞第一天拿走了编号为 $1$、$4$、$7$ 的苹果。  \n小苞第二天拿走了编号为 $2$、$6$ 的苹果。  \n小苞第三天拿走了编号为 $3$ 的苹果。  \n小苞第四天拿走了编号为 $5$ 的苹果。  \n小苞第五天拿走了编号为 $8$ 的苹果。  \n\n**【样例 $2$】**\n\n见选手目录下的 apple/apple2.in 与 apple/apple2.ans。\n\n**【数据范围】**\n\n对于所有测试数据有：$1\\leq n\\leq 10^9$。\n\n| 测试点 | $n\\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 2$ | $10$ | 无 |\n| $3\\sim 5$ | $10^3$ | 无 |\n| $6\\sim 7$ | $10^6$ | 有 |\n| $8\\sim 9$ | $10^6$ | 无 |\n| $10$ | $10^9$ | 无 |\n\n特殊性质：小苞第一天就取走编号为 $n$ 的苹果。", "locale": "zh-CN"}}}
{"pid": "P9749", "type": "P", "difficulty": 2, "samples": [["5 4\n10 10 10 10\n9 8 9 6 5", "79"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "贪心", "2023", "O2优化", "前缀和", "CSP-J 入门级", "反悔贪心"], "title": "[CSP-J 2023] 公路", "background": "", "description": "小苞准备开着车沿着公路自驾。\n\n公路上一共有 $n$ 个站点，编号为从 $1$ 到 $n$。其中站点 $i$ 与站点 $i + 1$ 的距离为 $v_i$ 公里。\n\n公路上每个站点都可以加油，编号为 $i$ 的站点一升油的价格为 $a_i$ 元，且每个站点只出售整数升的油。\n\n小苞想从站点 $1$ 开车到站点 $n$，一开始小苞在站点 $1$ 且车的油箱是空的。已知车的油箱足够大，可以装下任意多的油，且每升油可以让车前进 $d$ 公里。问小苞从站点 $1$ 开到站点 $n$，至少要花多少钱加油？", "inputFormat": "输入的第一行包含两个正整数 $n$ 和 $d$，分别表示公路上站点的数量和车每升油可以前进的距离。\n\n输入的第二行包含 $n - 1$ 个正整数 $v_1, v_2\\dots v_{n-1}$，分别表示站点间的距离。\n\n输入的第三行包含 $n$ 个正整数 $a_1, a_2 \\dots a_n$，分别表示在不同站点加油的价格。", "outputFormat": "输出一行，仅包含一个正整数，表示从站点 $1$ 开到站点 $n$，小苞至少要花多少钱加油。", "hint": "**【样例 1 解释】**\n\n最优方案下：小苞在站点 $1$ 买了 $3$ 升油，在站点 $2$ 购买了 $5$ 升油，在站点 $4$ 购买了 $2$ 升油。\n\n**【样例 2】**\n\n见选手目录下的 `road/road2.in` 与 `road/road2.ans`。\n\n**【数据范围】**\n\n对于所有测试数据保证：$1 \\leq n \\leq 10^5$，$1 \\leq d \\leq 10^5$，$1 \\leq v_i \\leq 10^5$，$1 \\leq a_i \\leq 10^5$。\n\n::cute-table{tuack}\n\n| 测试点 | $n \\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 5$ | $8$ | 无 |\n| $6\\sim 10$ | $10^3$ | ^ |\n| $11\\sim 13$ | $10^5$ | A |\n| $14\\sim 16$ | ^ | B |\n| $17\\sim 20$ | ^ | 无 |\n\n- 特殊性质 A：站点 $1$ 的油价最低。\n- 特殊性质 B：对于所有 $1 \\leq i < n$，$v_i$ 为 $d$ 的倍数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-J 2023] 公路", "background": "", "description": "小苞准备开着车沿着公路自驾。\n\n公路上一共有 $n$ 个站点，编号为从 $1$ 到 $n$。其中站点 $i$ 与站点 $i + 1$ 的距离为 $v_i$ 公里。\n\n公路上每个站点都可以加油，编号为 $i$ 的站点一升油的价格为 $a_i$ 元，且每个站点只出售整数升的油。\n\n小苞想从站点 $1$ 开车到站点 $n$，一开始小苞在站点 $1$ 且车的油箱是空的。已知车的油箱足够大，可以装下任意多的油，且每升油可以让车前进 $d$ 公里。问小苞从站点 $1$ 开到站点 $n$，至少要花多少钱加油？", "inputFormat": "输入的第一行包含两个正整数 $n$ 和 $d$，分别表示公路上站点的数量和车每升油可以前进的距离。\n\n输入的第二行包含 $n - 1$ 个正整数 $v_1, v_2\\dots v_{n-1}$，分别表示站点间的距离。\n\n输入的第三行包含 $n$ 个正整数 $a_1, a_2 \\dots a_n$，分别表示在不同站点加油的价格。", "outputFormat": "输出一行，仅包含一个正整数，表示从站点 $1$ 开到站点 $n$，小苞至少要花多少钱加油。", "hint": "**【样例 1 解释】**\n\n最优方案下：小苞在站点 $1$ 买了 $3$ 升油，在站点 $2$ 购买了 $5$ 升油，在站点 $4$ 购买了 $2$ 升油。\n\n**【样例 2】**\n\n见选手目录下的 `road/road2.in` 与 `road/road2.ans`。\n\n**【数据范围】**\n\n对于所有测试数据保证：$1 \\leq n \\leq 10^5$，$1 \\leq d \\leq 10^5$，$1 \\leq v_i \\leq 10^5$，$1 \\leq a_i \\leq 10^5$。\n\n::cute-table{tuack}\n\n| 测试点 | $n \\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 5$ | $8$ | 无 |\n| $6\\sim 10$ | $10^3$ | ^ |\n| $11\\sim 13$ | $10^5$ | A |\n| $14\\sim 16$ | ^ | B |\n| $17\\sim 20$ | ^ | 无 |\n\n- 特殊性质 A：站点 $1$ 的油价最低。\n- 特殊性质 B：对于所有 $1 \\leq i < n$，$v_i$ 为 $d$ 的倍数。", "locale": "zh-CN"}}}
{"pid": "P9750", "type": "P", "difficulty": 3, "samples": [["9 1000\n1 -1 0\n-1 -1 -1\n1 -2 1\n1 5 4\n4 4 1\n1 0 -432\n1 -3 1\n2 -4 1\n1 7 1", "1\nNO\n1\n-1\n-1/2\n12*sqrt(3)\n3/2+sqrt(5)/2\n1+sqrt(2)/2\n-7/2+3*sqrt(5)/2"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "数学", "2023", "O2优化", "CSP-J 入门级"], "title": "[CSP-J 2023] 一元二次方程", "background": "众所周知，对一元二次方程 $ax ^ 2 + bx + c = 0(a \\neq 0)$，可以用以下方式求实数解：\n\n- 计算 $\\Delta = b ^ 2 - 4ac$，则:\n\t1. 若 $\\Delta < 0$，则该一元二次方程无实数解。\n  \t2. 否则 $\\Delta \\geq 0$，此时该一元二次方程有两个实数解 $x _ {1, 2} = \\frac{-b \\pm \\sqrt \\Delta}{2a}$。\n \n例如：\n\n- $x ^ 2 + x + 1 = 0$ 无实数解，因为 $\\Delta = 1 ^ 2 - 4 \\times 1 \\times 1 = -3 < 0$。\n- $x ^ 2 - 2x + 1 = 0$ 有两相等实数解 $x _ {1, 2} = 1$。\n- $x ^ 2 - 3x + 2 = 0$ 有两互异实数解 $x _ 1 = 1, x _ 2 = 2$。\n\n在题面描述中 $a$ 和 $b$ 的最大公因数使用 $\\gcd(a, b)$ 表示。例如 $12$ 和 $18$ 的最大公因数是 $6$，即 $\\gcd(12, 18) = 6$。", "description": "现在给定一个一元二次方程的系数 $a, b, c$，其中 $a, b, c$ **均为整数且 $a \\neq 0$**。你需要判断一元二次方程 $a x ^ 2 + bx + c = 0$ 是否有实数解，并按要求的格式输出。\n\n**在本题中输出有理数 $v$ 时须遵循以下规则：**\n\n- 由有理数的定义，存在唯一的两个整数 $p$ 和 $q$，满足 $q > 0$，$\\gcd(p, q) = 1$ 且 $v = \\frac pq$。\n- 若 $q = 1$，**则输出 `{p}`，否则输出 `{p}/{q}`**，其中 `{n}` 代表整数 $n$ 的值；\n- 例如：\n\n\t- 当 $v = -0.5$ 时，$p$ 和 $q$ 的值分别为 $-1$ 和 $2$，则应输出 `-1/2`；\n   - 当 $v = 0$ 时，$p$ 和 $q$ 的值分别为 $0$ 和 $1$，则应输出 `0`。\n   \n**对于方程的求解，分两种情况讨论：**\n\n1. 若 $\\Delta = b ^ 2 - 4ac < 0$，则表明方程无实数解，此时你应当输出 `NO`；\n2. 否则 $\\Delta \\geq 0$，此时方程有两解（可能相等），记其中较大者为 $x$，则：\n\t1. 若 $x$ 为有理数，则按有理数的格式输出 $x$。\n   2. 否则根据上文公式，$x$ 可以被**唯一**表示为 $x = q _ 1 + q _ 2 \\sqrt r$ 的形式，其中：\n   \n   \t\t- $q _ 1, q _ 2$ 为有理数，且 $q _ 2 > 0$；\n      - $r$ 为正整数且 $r > 1$，且不存在正整数 $d > 1$ 使 $d ^ 2 \\mid r$（即 $r$ 不应是 $d ^ 2$ 的倍数）；\n   \n   此时：\n   \n   1. 若 $q _ 1 \\neq 0$，则按有理数的格式输出 $q _ 1$，并再输出一个加号 `+`；\n   2. 否则跳过这一步输出；\n   \n   随后：\n   \n   1. 若 $q _ 2 = 1$，则输出 `sqrt({r})`；\n   2. 否则若 $q _ 2$ 为整数，则输出 `{q2}*sqrt({r})`；\n   3. 否则若 $q _ 3 = \\frac 1{q _ 2}$ 为整数，则输出 `sqrt({r})/{q3}`；\n   4. 否则可以证明存在唯一整数 $c, d$ 满足 $c, d > 1, \\gcd(c, d) = 1$ 且 $q _ 2 = \\frac cd$，此时输出 `{c}*sqrt({r})/{d}`；\n   \n   上述表示中 `{n}` 代表整数 `{n}` 的值，详见样例。\n   \n   如果方程有实数解，则按要求的格式输出两个实数解中的较大者。否则若方程没有实数解，则输出 `NO`。", "inputFormat": "输入的第一行包含两个正整数 $T, M$，分别表示方程数和系数的绝对值上限。\n\n接下来 $T$ 行，每行包含三个整数 $a, b, c$。", "outputFormat": "输出 $T$ 行，每行包含一个字符串，表示对应询问的答案，格式如题面所述。\n\n**每行输出的字符串中间不应包含任何空格**。", "hint": "**【样例 #2】**\n\n见附件中的 `uqe/uqe2.in` 与 `uqe/uqe2.ans`。\n\n**【数据范围】**\n\n对于所有数据有：$1 \\leq T \\leq 5000$，$1 \\leq M \\leq 10 ^ 3$，$|a|,|b|,|c| \\leq M$，$a \\neq 0$。\n\n| 测试点编号 | $M \\leq$ | 特殊性质 A | 特殊性质 B | 特殊性质 C |\n| :-: | :-: | :-: | :-:| :-:|\n| $1$ | $1$ | 是 | 是 | 是 |\n| $2$ | $20$ | 否 | 否 | 否 |\n| $3$ | $10 ^ 3$ | 是 | 否 | 是 |\n| $4$ | $10 ^ 3$  | 是 | 否 | 否 |\n| $5$ | $10 ^ 3$  | 否 | 是 | 是 |\n| $6$ | $10 ^ 3$  | 否 | 是 | 否 |\n| $7, 8$ | $10 ^ 3$  | 否 | 否 | 是 |\n| $9, 10$ | $10 ^ 3$  | 否 | 否 | 否 |\n\n其中：\n\n- 特殊性质 A：保证 $b = 0$；\n- 特殊性质 B：保证 $c = 0$；\n- 特殊性质 C：如果方程有解，那么方程的两个解都是整数。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-J 2023] 一元二次方程", "background": "众所周知，对一元二次方程 $ax ^ 2 + bx + c = 0(a \\neq 0)$，可以用以下方式求实数解：\n\n- 计算 $\\Delta = b ^ 2 - 4ac$，则:\n\t1. 若 $\\Delta < 0$，则该一元二次方程无实数解。\n  \t2. 否则 $\\Delta \\geq 0$，此时该一元二次方程有两个实数解 $x _ {1, 2} = \\frac{-b \\pm \\sqrt \\Delta}{2a}$。\n \n例如：\n\n- $x ^ 2 + x + 1 = 0$ 无实数解，因为 $\\Delta = 1 ^ 2 - 4 \\times 1 \\times 1 = -3 < 0$。\n- $x ^ 2 - 2x + 1 = 0$ 有两相等实数解 $x _ {1, 2} = 1$。\n- $x ^ 2 - 3x + 2 = 0$ 有两互异实数解 $x _ 1 = 1, x _ 2 = 2$。\n\n在题面描述中 $a$ 和 $b$ 的最大公因数使用 $\\gcd(a, b)$ 表示。例如 $12$ 和 $18$ 的最大公因数是 $6$，即 $\\gcd(12, 18) = 6$。", "description": "现在给定一个一元二次方程的系数 $a, b, c$，其中 $a, b, c$ **均为整数且 $a \\neq 0$**。你需要判断一元二次方程 $a x ^ 2 + bx + c = 0$ 是否有实数解，并按要求的格式输出。\n\n**在本题中输出有理数 $v$ 时须遵循以下规则：**\n\n- 由有理数的定义，存在唯一的两个整数 $p$ 和 $q$，满足 $q > 0$，$\\gcd(p, q) = 1$ 且 $v = \\frac pq$。\n- 若 $q = 1$，**则输出 `{p}`，否则输出 `{p}/{q}`**，其中 `{n}` 代表整数 $n$ 的值；\n- 例如：\n\n\t- 当 $v = -0.5$ 时，$p$ 和 $q$ 的值分别为 $-1$ 和 $2$，则应输出 `-1/2`；\n   - 当 $v = 0$ 时，$p$ 和 $q$ 的值分别为 $0$ 和 $1$，则应输出 `0`。\n   \n**对于方程的求解，分两种情况讨论：**\n\n1. 若 $\\Delta = b ^ 2 - 4ac < 0$，则表明方程无实数解，此时你应当输出 `NO`；\n2. 否则 $\\Delta \\geq 0$，此时方程有两解（可能相等），记其中较大者为 $x$，则：\n\t1. 若 $x$ 为有理数，则按有理数的格式输出 $x$。\n   2. 否则根据上文公式，$x$ 可以被**唯一**表示为 $x = q _ 1 + q _ 2 \\sqrt r$ 的形式，其中：\n   \n   \t\t- $q _ 1, q _ 2$ 为有理数，且 $q _ 2 > 0$；\n      - $r$ 为正整数且 $r > 1$，且不存在正整数 $d > 1$ 使 $d ^ 2 \\mid r$（即 $r$ 不应是 $d ^ 2$ 的倍数）；\n   \n   此时：\n   \n   1. 若 $q _ 1 \\neq 0$，则按有理数的格式输出 $q _ 1$，并再输出一个加号 `+`；\n   2. 否则跳过这一步输出；\n   \n   随后：\n   \n   1. 若 $q _ 2 = 1$，则输出 `sqrt({r})`；\n   2. 否则若 $q _ 2$ 为整数，则输出 `{q2}*sqrt({r})`；\n   3. 否则若 $q _ 3 = \\frac 1{q _ 2}$ 为整数，则输出 `sqrt({r})/{q3}`；\n   4. 否则可以证明存在唯一整数 $c, d$ 满足 $c, d > 1, \\gcd(c, d) = 1$ 且 $q _ 2 = \\frac cd$，此时输出 `{c}*sqrt({r})/{d}`；\n   \n   上述表示中 `{n}` 代表整数 `{n}` 的值，详见样例。\n   \n   如果方程有实数解，则按要求的格式输出两个实数解中的较大者。否则若方程没有实数解，则输出 `NO`。", "inputFormat": "输入的第一行包含两个正整数 $T, M$，分别表示方程数和系数的绝对值上限。\n\n接下来 $T$ 行，每行包含三个整数 $a, b, c$。", "outputFormat": "输出 $T$ 行，每行包含一个字符串，表示对应询问的答案，格式如题面所述。\n\n**每行输出的字符串中间不应包含任何空格**。", "hint": "**【样例 #2】**\n\n见附件中的 `uqe/uqe2.in` 与 `uqe/uqe2.ans`。\n\n**【数据范围】**\n\n对于所有数据有：$1 \\leq T \\leq 5000$，$1 \\leq M \\leq 10 ^ 3$，$|a|,|b|,|c| \\leq M$，$a \\neq 0$。\n\n| 测试点编号 | $M \\leq$ | 特殊性质 A | 特殊性质 B | 特殊性质 C |\n| :-: | :-: | :-: | :-:| :-:|\n| $1$ | $1$ | 是 | 是 | 是 |\n| $2$ | $20$ | 否 | 否 | 否 |\n| $3$ | $10 ^ 3$ | 是 | 否 | 是 |\n| $4$ | $10 ^ 3$  | 是 | 否 | 否 |\n| $5$ | $10 ^ 3$  | 否 | 是 | 是 |\n| $6$ | $10 ^ 3$  | 否 | 是 | 否 |\n| $7, 8$ | $10 ^ 3$  | 否 | 否 | 是 |\n| $9, 10$ | $10 ^ 3$  | 否 | 否 | 否 |\n\n其中：\n\n- 特殊性质 A：保证 $b = 0$；\n- 特殊性质 B：保证 $c = 0$；\n- 特殊性质 C：如果方程有解，那么方程的两个解都是整数。", "locale": "zh-CN"}}}
{"pid": "P9751", "type": "P", "difficulty": 4, "samples": [["5 5 3\n1 2 0\n2 5 1\n1 3 0\n3 4 3\n4 5 1", "6"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000, 512000]}, "tags": ["图论", "二分", "2023", "O2优化", "广度优先搜索 BFS", "图论建模", "最短路", "CSP-J 入门级"], "title": "[CSP-J 2023] 旅游巴士", "background": null, "description": "小 Z 打算在国庆假期期间搭乘旅游巴士去一处他向往已久的景点旅游。\n\n旅游景点的地图共有 $n$ 处地点，在这些地点之间连有 $m$ 条道路。其中 $1$ 号地点为景区入口，$n$ 号地点为景区出口。我们把一天当中景区开门营业的时间记为 $0$ 时刻，则从 $0$ 时刻起，每间隔 $k$ 单位时间便有一辆旅游巴士到达景区入口，同时有一辆旅游巴士从景区出口驶离景区。\n\n所有道路均只能**单向通行**。对于每条道路，游客步行通过的用时均为恰好 $1$ 单位时间。\n\n小 Z 希望乘坐旅游巴士到达景区入口，并沿着自己选择的任意路径走到景区出口，再乘坐旅游巴士离开，这意味着他到达和离开景区的时间都必须是 **$k$ 的非负整数倍**。由于节假日客流众多，**小 Z 在旅游巴士离开景区前只想一直沿着景区道路移动，而不想在任何地点（包括景区入口和出口）或者道路上停留**。\n\n出发前，小 Z 忽然得知：景区采取了限制客流的方法，对于每条道路均设置了一个\n“开放时间”$a _ i$，游客只有**不早于 $a _ i$ 时刻**才能通过这条道路。\n\n请帮助小 Z 设计一个旅游方案，使得他乘坐旅游巴士离开景区的时间尽量地早。", "inputFormat": "输入的第一行包含 $3$ 个正整数 $n, m, k$，表示旅游景点的地点数、道路数，以及旅游巴士的发车间隔。\n\n输入的接下来 $m$ 行，每行包含 $3$ 个非负整数 $u _ i, v _ i, a_ i$，表示第 $i$ 条道路从地点 $u _ i$ 出发，到达地点 $v _ i$，道路的“开放时间”为 $a _ i$。", "outputFormat": "输出一行，仅包含一个整数，表示小 Z 最早乘坐旅游巴士离开景区的时刻。如果不存在符合要求的旅游方案，输出 `-1`。", "hint": "**【样例 #1 解释】**\n\n小 Z 可以在 $3$ 时刻到达景区入口，沿 $1 \\to 3 \\to 4 \\to 5$ 的顺序走到景区出口，并在 $6$ 时刻离开。\n\n**【样例 #2】**\n\n见附件中的 `bus/bus2.in` 与 `bus/bus2.ans`。\n\n**【数据范围】**\n\n对于所有测试数据有：$2 \\leq n \\leq 10 ^ 4$，$1 \\leq m \\leq 2 \\times 10 ^ 4$，$1 \\leq k \\leq 100$，$1 \\leq u _ i, v _ i \\leq n$，$0 \\leq a _ i \\leq 10 ^ 6$。\n\n| 测试点编号 | $n \\leq$ | $m \\leq$ | $k \\leq$ | 特殊性质 |\n|:-:|:-:|:-:|:-:|:-:|\n| $1 \\sim 2$ | $10$ |$15$ | $100$ | $a _ i = 0$ |\n| $3 \\sim 5$ | $10$ | $15$ | $100$ | 无 |\n| $6 \\sim 7$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $1$ | $a _ i = 0$ |\n| $8 \\sim 10$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $1$ | 无 |\n| $11 \\sim 13$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $100$ | $a _ i = 0$ |\n| $14 \\sim 15$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $100$ | $u _ i \\leq v _ i$ |\n| $16 \\sim 20$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $100$ | 无 |", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-J 2023] 旅游巴士", "background": null, "description": "小 Z 打算在国庆假期期间搭乘旅游巴士去一处他向往已久的景点旅游。\n\n旅游景点的地图共有 $n$ 处地点，在这些地点之间连有 $m$ 条道路。其中 $1$ 号地点为景区入口，$n$ 号地点为景区出口。我们把一天当中景区开门营业的时间记为 $0$ 时刻，则从 $0$ 时刻起，每间隔 $k$ 单位时间便有一辆旅游巴士到达景区入口，同时有一辆旅游巴士从景区出口驶离景区。\n\n所有道路均只能**单向通行**。对于每条道路，游客步行通过的用时均为恰好 $1$ 单位时间。\n\n小 Z 希望乘坐旅游巴士到达景区入口，并沿着自己选择的任意路径走到景区出口，再乘坐旅游巴士离开，这意味着他到达和离开景区的时间都必须是 **$k$ 的非负整数倍**。由于节假日客流众多，**小 Z 在旅游巴士离开景区前只想一直沿着景区道路移动，而不想在任何地点（包括景区入口和出口）或者道路上停留**。\n\n出发前，小 Z 忽然得知：景区采取了限制客流的方法，对于每条道路均设置了一个\n“开放时间”$a _ i$，游客只有**不早于 $a _ i$ 时刻**才能通过这条道路。\n\n请帮助小 Z 设计一个旅游方案，使得他乘坐旅游巴士离开景区的时间尽量地早。", "inputFormat": "输入的第一行包含 $3$ 个正整数 $n, m, k$，表示旅游景点的地点数、道路数，以及旅游巴士的发车间隔。\n\n输入的接下来 $m$ 行，每行包含 $3$ 个非负整数 $u _ i, v _ i, a_ i$，表示第 $i$ 条道路从地点 $u _ i$ 出发，到达地点 $v _ i$，道路的“开放时间”为 $a _ i$。", "outputFormat": "输出一行，仅包含一个整数，表示小 Z 最早乘坐旅游巴士离开景区的时刻。如果不存在符合要求的旅游方案，输出 `-1`。", "hint": "**【样例 #1 解释】**\n\n小 Z 可以在 $3$ 时刻到达景区入口，沿 $1 \\to 3 \\to 4 \\to 5$ 的顺序走到景区出口，并在 $6$ 时刻离开。\n\n**【样例 #2】**\n\n见附件中的 `bus/bus2.in` 与 `bus/bus2.ans`。\n\n**【数据范围】**\n\n对于所有测试数据有：$2 \\leq n \\leq 10 ^ 4$，$1 \\leq m \\leq 2 \\times 10 ^ 4$，$1 \\leq k \\leq 100$，$1 \\leq u _ i, v _ i \\leq n$，$0 \\leq a _ i \\leq 10 ^ 6$。\n\n| 测试点编号 | $n \\leq$ | $m \\leq$ | $k \\leq$ | 特殊性质 |\n|:-:|:-:|:-:|:-:|:-:|\n| $1 \\sim 2$ | $10$ |$15$ | $100$ | $a _ i = 0$ |\n| $3 \\sim 5$ | $10$ | $15$ | $100$ | 无 |\n| $6 \\sim 7$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $1$ | $a _ i = 0$ |\n| $8 \\sim 10$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $1$ | 无 |\n| $11 \\sim 13$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $100$ | $a _ i = 0$ |\n| $14 \\sim 15$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $100$ | $u _ i \\leq v _ i$ |\n| $16 \\sim 20$ | $10 ^ 4$ | $2 \\times 10 ^ 4$ | $100$ | 无 |", "locale": "zh-CN"}}}
{"pid": "P9752", "type": "P", "difficulty": 2, "samples": [["1\n0 0 1 1 5", "81"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2023", "O2优化", "枚举", "CSP-S 提高级"], "title": "[CSP-S 2023] 密码锁", "background": "", "description": "小 Y 有一把五个拨圈的密码锁。如图所示，每个拨圈上是从 $0$ 到 $9$ 的数字。每个拨圈都是从 $0$ 到 $9$ 的循环，即 $9$ 拨动一个位置后可以变成 $0$ 或 $8$，\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aku4duog.png)\n\n因为校园里比较安全，小 Y 采用的锁车方式是：从正确密码开始，随机转动密码锁仅一次；每次都是以某个幅度仅转动一个拨圈或者同时转动两个相邻的拨圈。\n\n当小 Y 选择同时转动两个相邻拨圈时，两个拨圈转动的幅度相同，即小 Y 可以将密码锁从 $\\tt{0\\;0\\;1\\;1\\;5}$ 转成 $\\tt{1\\;1\\;1\\;1\\;5}$，但不会转成 $\\tt{1\\;2\\;1\\;1\\;5}$。\n\n时间久了，小 Y 也担心这么锁车的安全性，所以小 Y 记下了自己锁车后密码锁的 $n$ 个状态，注意这 $n$ 个状态都不是正确密码。\n\n为了检验这么锁车的安全性，小 Y 有多少种可能的正确密码，使得每个正确密码都能够按照他所采用的锁车方式产生锁车后密码锁的全部 $n$ 个状态。", "inputFormat": "输入的第一行包含一个正整数 $n$，表示锁车后密码锁的状态数。\n\n接下来 $n$ 行每行包含五个整数，表示一个密码锁的状态。", "outputFormat": "输出一行包含一个整数，表示密码锁的这 $n$ 个状态按照给定的锁车方式能对应多少种正确密码。", "hint": "**【样例 1 解释】**\n\n一共有 $81$ 种可能的方案。\n\n其中转动一个拨圈的方案有 $45$ 种，转动两个拨圈的方案有 $36$ 种。\n\n**【样例 2】**\n\n见选手目录下的 lock/lock2.in 与 lock/lock2.ans。\n\n**【数据范围】**\n\n对于所有测试数据有：$1 \\leq n \\leq 8$。\n\n| 测试点 | $n\\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 3$ | $1$ | 无 |\n| $4\\sim 5$ | $2$ | 无 |\n| $6\\sim 8$ | $8$ | A |\n| $9\\sim 10$ | $8$ | 无 |\n\n特殊性质 A：保证所有正确密码都可以通过仅转动一个拨圈得到测试数据给出的 $n$ 个状态。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-S 2023] 密码锁", "background": "", "description": "小 Y 有一把五个拨圈的密码锁。如图所示，每个拨圈上是从 $0$ 到 $9$ 的数字。每个拨圈都是从 $0$ 到 $9$ 的循环，即 $9$ 拨动一个位置后可以变成 $0$ 或 $8$，\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/aku4duog.png)\n\n因为校园里比较安全，小 Y 采用的锁车方式是：从正确密码开始，随机转动密码锁仅一次；每次都是以某个幅度仅转动一个拨圈或者同时转动两个相邻的拨圈。\n\n当小 Y 选择同时转动两个相邻拨圈时，两个拨圈转动的幅度相同，即小 Y 可以将密码锁从 $\\tt{0\\;0\\;1\\;1\\;5}$ 转成 $\\tt{1\\;1\\;1\\;1\\;5}$，但不会转成 $\\tt{1\\;2\\;1\\;1\\;5}$。\n\n时间久了，小 Y 也担心这么锁车的安全性，所以小 Y 记下了自己锁车后密码锁的 $n$ 个状态，注意这 $n$ 个状态都不是正确密码。\n\n为了检验这么锁车的安全性，小 Y 有多少种可能的正确密码，使得每个正确密码都能够按照他所采用的锁车方式产生锁车后密码锁的全部 $n$ 个状态。", "inputFormat": "输入的第一行包含一个正整数 $n$，表示锁车后密码锁的状态数。\n\n接下来 $n$ 行每行包含五个整数，表示一个密码锁的状态。", "outputFormat": "输出一行包含一个整数，表示密码锁的这 $n$ 个状态按照给定的锁车方式能对应多少种正确密码。", "hint": "**【样例 1 解释】**\n\n一共有 $81$ 种可能的方案。\n\n其中转动一个拨圈的方案有 $45$ 种，转动两个拨圈的方案有 $36$ 种。\n\n**【样例 2】**\n\n见选手目录下的 lock/lock2.in 与 lock/lock2.ans。\n\n**【数据范围】**\n\n对于所有测试数据有：$1 \\leq n \\leq 8$。\n\n| 测试点 | $n\\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 3$ | $1$ | 无 |\n| $4\\sim 5$ | $2$ | 无 |\n| $6\\sim 8$ | $8$ | A |\n| $9\\sim 10$ | $8$ | 无 |\n\n特殊性质 A：保证所有正确密码都可以通过仅转动一个拨圈得到测试数据给出的 $n$ 个状态。", "locale": "zh-CN"}}}
{"pid": "P9753", "type": "P", "difficulty": 5, "samples": [["8\naccabccb\n", "5"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["动态规划 DP", "2023", "O2优化", "哈希 hashing", "栈", "CSP-S 提高级"], "title": "[CSP-S 2023] 消消乐", "background": "", "description": "小 L 现在在玩一个低配版本的消消乐，该版本的游戏是一维的，一次也只能消除两个相邻的元素。\n\n现在，他有一个长度为 $n$ 且仅由小写字母构成的字符串。我们称一个字符串是可消除的，当且仅当可以对这个字符串进行若干次操作，使之成为一个空字符串。\n\n其中每次操作可以从字符串中删除两个相邻的相同字符，操作后剩余字符串会拼接在一起。\n\n小 L 想知道，这个字符串的所有非空连续子串中，有多少个是可消除的。", "inputFormat": "输入的第一行包含一个正整数 $n$，表示字符串的长度。\n\n输入的第二行包含一个长度为 $n$ 且仅由小写字母构成的的字符串，表示题目中询问的字符串。", "outputFormat": "输出一行包含一个整数，表示题目询问的答案。", "hint": "**【样例 1 解释】**\n\n一共有 $5$ 个可消除的连续子串，分别是 `cc`、`acca`、`cc`、`bccb`、`accabccb`。\n\n**【样例 2】**\n\n见选手目录下的 `game/game2.in` 与 `game/game2.ans`。\n\n**【样例 3】**\n\n见选手目录下的 `game/game3.in` 与 `game/game3.ans`。\n\n**【样例 4】**\n\n见选手目录下的 `game/game4.in` 与 `game/game4.ans`。\n\n**【数据范围】**\n\n对于所有测试数据有：$1 \\le n \\le 2 \\times 10^6$，且询问的字符串仅由小写字母构成。\n\n| 测试点 | $n\\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 5$ | $10$ | 无 |\n| $6\\sim 7$ | $800$ | 无 |\n| $8\\sim 10$ | $8000$ | 无 |\n| $11\\sim 12$ | $2\\times 10^5$ | A |\n| $13\\sim 14$ | $2\\times 10^5$ | B |\n| $15\\sim 17$ | $2\\times 10^5$ | 无 |\n| $18\\sim 20$ | $2\\times 10^6$ | 无 |\n\n特殊性质 A：字符串中的每个字符独立等概率地从字符集中选择。\n\n特殊性质 B：字符串仅由 `a` 和 `b` 构成。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-S 2023] 消消乐", "background": "", "description": "小 L 现在在玩一个低配版本的消消乐，该版本的游戏是一维的，一次也只能消除两个相邻的元素。\n\n现在，他有一个长度为 $n$ 且仅由小写字母构成的字符串。我们称一个字符串是可消除的，当且仅当可以对这个字符串进行若干次操作，使之成为一个空字符串。\n\n其中每次操作可以从字符串中删除两个相邻的相同字符，操作后剩余字符串会拼接在一起。\n\n小 L 想知道，这个字符串的所有非空连续子串中，有多少个是可消除的。", "inputFormat": "输入的第一行包含一个正整数 $n$，表示字符串的长度。\n\n输入的第二行包含一个长度为 $n$ 且仅由小写字母构成的的字符串，表示题目中询问的字符串。", "outputFormat": "输出一行包含一个整数，表示题目询问的答案。", "hint": "**【样例 1 解释】**\n\n一共有 $5$ 个可消除的连续子串，分别是 `cc`、`acca`、`cc`、`bccb`、`accabccb`。\n\n**【样例 2】**\n\n见选手目录下的 `game/game2.in` 与 `game/game2.ans`。\n\n**【样例 3】**\n\n见选手目录下的 `game/game3.in` 与 `game/game3.ans`。\n\n**【样例 4】**\n\n见选手目录下的 `game/game4.in` 与 `game/game4.ans`。\n\n**【数据范围】**\n\n对于所有测试数据有：$1 \\le n \\le 2 \\times 10^6$，且询问的字符串仅由小写字母构成。\n\n| 测试点 | $n\\leq$ | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1\\sim 5$ | $10$ | 无 |\n| $6\\sim 7$ | $800$ | 无 |\n| $8\\sim 10$ | $8000$ | 无 |\n| $11\\sim 12$ | $2\\times 10^5$ | A |\n| $13\\sim 14$ | $2\\times 10^5$ | B |\n| $15\\sim 17$ | $2\\times 10^5$ | 无 |\n| $18\\sim 20$ | $2\\times 10^6$ | 无 |\n\n特殊性质 A：字符串中的每个字符独立等概率地从字符集中选择。\n\n特殊性质 B：字符串仅由 `a` 和 `b` 构成。", "locale": "zh-CN"}}}
{"pid": "P9754", "type": "P", "difficulty": 5, "samples": [["5\n1 a 2\nshort aa\nint ab\n1 b 2\na ba\nlong bb\n2 b x\n3 x.ba.ab\n4 10", "8 4\n16 8\n0\n4\nx.bb"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["模拟", "2023", "O2优化", "CSP-S 提高级"], "title": "[CSP-S 2023] 结构体", "background": "在 C++ 等高级语言中，除了 int 和 float 等基本类型外，通常还可以自定义结构体类型。在本题当中，你需要模拟一种类似 C++ 的高级语言的结构体定义方式，并计算出相应的内存占用等信息。", "description": "在这种语言中，基本类型共有 $4$ 种：`byte`、`short`、`int`、`long`，分别占据 $1$、$2$、$4$、$8$ 字节的空间。\n\n定义一个结构体**类型**时，需要给出**类型名**和**成员**，其中每个成员需要按顺序给出**类型**和**名称**。类型可以为基本类型，也可以为**先前定义过**的结构体类型。注意，定义结构体**类型**时不会定义具体元素，即不占用内存。\n\n定义一个**元素**时，需要给出元素的**类型**和**名称**。元素将按照以下规则占据内存：\n\n- 元素内的所有成员将按照**定义时给出的顺序**在内存中排布，对于类型为结构体的成员同理。\n- 为了保证内存访问的效率，元素的地址占用需要满足**对齐规则**，即任何类型的**大小**和该类型元素在内存中的**起始地址**均应对齐到该类型对齐要求的**整数倍**。具体而言：\n  - 对于基本类型：对齐要求等于其占据空间大小，如 `int` 类型需要对齐到 $4$ 字节，其余同理。\n  - 对于结构体类型：对齐要求等于其成员的对齐要求的**最大值**，如一个含有 `int` 和 `short` 的结构体类型需要对齐到 $4$ 字节。\n\n以下是一个例子（以 C++ 语言的格式书写）：\n\n```cpp\nstruct d {\n    short a;\n    int b;\n    short c;\n};\nd e;\n```\n\n该代码定义了结构体类型 `d` 与元素 `e`。元素 `e` 包含三个成员 `e.a`、`e.b`、`e.c`，分别占据第 $0 \\sim 1$、$4 \\sim 7$、$8 \\sim 9$ 字节的地址。由于类型 `d` 需要对齐到 $4$ 字节，因此 `e` 占据了第 $0 \\sim 11$ 字节的地址，大小为 $12$ 字节。\n\n你需要处理 $n$ 次操作，每次操作为以下四种之一：\n\n1. 定义一个结构体类型。具体而言，给定正整数 $k$ 与字符串 $s, t_1, n_1, \\dots, t_k, n_k$，其中 $k$ 表示该类型的成员数量，$s$ 表示该类型的类型名，$t_1, t_2, \\dots, t_k$ 按顺序分别表示每个成员的类型，$n_1, n_2, \\dots, n_k$ 按顺序分别表示每个成员的名称。你需要输出该结构体类型的大小和对齐要求，用一个空格分隔。\n\n2. 定义一个元素，具体而言，给定字符串 $t, n$ 分别表示该元素的类型与名称。所有被定义的元素将按顺序，从内存地址为 $0$ 开始依次排开，并需要满足地址对齐规则。你需要输出新定义的元素的起始地址。\n\n3. 访问某个元素。具体而言，给定字符串 $s$，表示所访问的元素。与 C++ 等语言相同，采用 `.` 来访问结构体类型的成员。如 `a.b.c`，表示 `a` 是一个已定义的元素，它是一个结构体类型，有一个名称为 `b` 的成员，它也是一个结构体类型，有一个名称为 `c` 的成员。你需要输出如上被访问的**最内层**元素的起始地址。\n\n4. 访问某个内存地址。具体而言，给定非负整数 $addr$，表示所访问的地址，你需要判断是否存在一个**基本类型**的元素占据了该地址。若是，则按操作 3 中的访问元素格式输出该元素；否则输出 `ERR`。", "inputFormat": "第 $1$ 行：一个正整数 $n$，表示操作的数量。\n\n接下来若干行，依次描述每个操作，每行第一个正整数 $op$ 表示操作类型：\n\n- 若 $op = 1$，首先输入一个字符串 $s$ 与一个正整数 $k$，表示类型名与成员数量，接下来 $k$ 行每行输入两个字符串 $t_i, n_i$，依次表示每个成员的类型与名称。\n\n- 若 $op = 2$，输入两个字符串 $t, n$，表示该元素的类型与名称。\n\n- 若 $op = 3$，输入一个字符串 $s$，表示所访问的元素。\n\n- 若 $op = 4$，输入一个非负整数 $addr$，表示所访问的地址。", "outputFormat": "输出 $n$ 行，依次表示每个操作的输出结果，输出要求如题目描述中所述。", "hint": "#### 【样例 1 解释】\n\n结构体类型 `a` 中，`short` 类型的成员 `aa` 占据第 $0 \\sim 1$ 字节地址，`int` 类型的成员 `ab` 占据第 $4 \\sim 7$ 字节地址。又由于其对齐要求为 $4$ 字节，可得其大小为 $8$ 字节。由此可同理计算出结构体类型 `b` 的大小为 $16$ 字节，对齐要求为 $8$ 字节。\n\n#### 【样例 2】\n\n见选手目录下的 struct/struct2.in 与 struct/struct2.ans。\n\n#### 【样例 2 解释】\n第二个操作 4 中，访问的内存地址恰好在为了地址对齐而留下的 “洞” 里，因此没有基本类型元素占据它。\n\n#### 【样例 3】\n见选手目录下的 struct/struct3.in 与 struct/struct3.ans。\n\n#### 【数据范围】\n对于全部数据，满足 $1 \\le n \\le 100$，$1 \\le k \\le 100$，$0 \\le addr \\le 10^{18}$。\n\n所有定义的结构体类型名、成员名称和定义的元素名称均由不超过 $10$ 个字符的小写字母组成，且都不是 `byte,short,int,long`（即不与基本类型重名）。\n\n所有定义的结构体类型名和元素名称互不相同，同一结构体内成员名称互不相同。但不同的结构体可能有相同的成员名称，某结构体内的成员名称也可能与定义的结构体或元素名称相同。\n\n保证所有操作均符合题目所述的规范和要求，即结构体的定义不会包含不存在的类型、不会访问不存在的元素或成员等。\n\n保证任意结构体大小及定义的元素占据的最高内存地址均不超过 $10^{18}$。\n\n| 测试点 | 特殊性质 |\n| :----------: | :----------: |\n| $1$ | A、D |\n| $2\\sim 3$ | A |\n| $4\\sim 5$ | B、D |\n| $6\\sim 8$  | B |\n| $9\\sim 10$ | C、D|\n| $11\\sim 13$ | C|\n| $14\\sim 16$ |D|\n|$17\\sim 20$| 无|\n\n特殊性质 A：没有操作 $1$；\n\n特殊性质 B：只有一个操作 $1$；\n\n特殊性质 C：所有操作 $1$ 中给出的成员类型均为基本类型；\n\n特殊性质 D：基本类型只有 `long`。\n\n#### 【提示】\n\n对于结构体类型的对齐要求和大小，形式化的定义方式如下：\n\n- 设该结构体内有 $k$ 个成员，其大小分别为 $s_1,...,s_k$，对齐要求分别为 $a_1,...,a_k$;\n- 则该结构体的对齐要求为 $a=\\max\\{a_1,...,a_k\\}$；\n- 再设这些成员排布时的**地址偏移量**分别为 $o_1,...,o_k$，则：\n  - $o_1 = 0$;\n  - 对于 $i=2,...,k$，$o_i$ 为满足 $o_{i-1}+s_{i-1}\\le o_i$ 且 $a_i$ 整除 $o_i$ 的最小值；\n  - 则该结构体的大小 $s$ 为满足 $o_k+s_k\\le s$ 且 $a$ 整除 $s$ 的最小值；\n\n对于定义元素时的内存排布，形式化的定义方式如下：\n\n- 设第 $i$ 个被定义的元素大小为 $s_i$，对齐要求为 $a_i$，起始地址为 $b_i$;\n- 则 $b_1 = 0$，对于 $2\\le i$， $b_i$ 为满足 $b_{i-1} + s_{i-1}\\le b_i$ 且 $a_i$ 整除 $b_i$ 的最小值。\n", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-S 2023] 结构体", "background": "在 C++ 等高级语言中，除了 int 和 float 等基本类型外，通常还可以自定义结构体类型。在本题当中，你需要模拟一种类似 C++ 的高级语言的结构体定义方式，并计算出相应的内存占用等信息。", "description": "在这种语言中，基本类型共有 $4$ 种：`byte`、`short`、`int`、`long`，分别占据 $1$、$2$、$4$、$8$ 字节的空间。\n\n定义一个结构体**类型**时，需要给出**类型名**和**成员**，其中每个成员需要按顺序给出**类型**和**名称**。类型可以为基本类型，也可以为**先前定义过**的结构体类型。注意，定义结构体**类型**时不会定义具体元素，即不占用内存。\n\n定义一个**元素**时，需要给出元素的**类型**和**名称**。元素将按照以下规则占据内存：\n\n- 元素内的所有成员将按照**定义时给出的顺序**在内存中排布，对于类型为结构体的成员同理。\n- 为了保证内存访问的效率，元素的地址占用需要满足**对齐规则**，即任何类型的**大小**和该类型元素在内存中的**起始地址**均应对齐到该类型对齐要求的**整数倍**。具体而言：\n  - 对于基本类型：对齐要求等于其占据空间大小，如 `int` 类型需要对齐到 $4$ 字节，其余同理。\n  - 对于结构体类型：对齐要求等于其成员的对齐要求的**最大值**，如一个含有 `int` 和 `short` 的结构体类型需要对齐到 $4$ 字节。\n\n以下是一个例子（以 C++ 语言的格式书写）：\n\n```cpp\nstruct d {\n    short a;\n    int b;\n    short c;\n};\nd e;\n```\n\n该代码定义了结构体类型 `d` 与元素 `e`。元素 `e` 包含三个成员 `e.a`、`e.b`、`e.c`，分别占据第 $0 \\sim 1$、$4 \\sim 7$、$8 \\sim 9$ 字节的地址。由于类型 `d` 需要对齐到 $4$ 字节，因此 `e` 占据了第 $0 \\sim 11$ 字节的地址，大小为 $12$ 字节。\n\n你需要处理 $n$ 次操作，每次操作为以下四种之一：\n\n1. 定义一个结构体类型。具体而言，给定正整数 $k$ 与字符串 $s, t_1, n_1, \\dots, t_k, n_k$，其中 $k$ 表示该类型的成员数量，$s$ 表示该类型的类型名，$t_1, t_2, \\dots, t_k$ 按顺序分别表示每个成员的类型，$n_1, n_2, \\dots, n_k$ 按顺序分别表示每个成员的名称。你需要输出该结构体类型的大小和对齐要求，用一个空格分隔。\n\n2. 定义一个元素，具体而言，给定字符串 $t, n$ 分别表示该元素的类型与名称。所有被定义的元素将按顺序，从内存地址为 $0$ 开始依次排开，并需要满足地址对齐规则。你需要输出新定义的元素的起始地址。\n\n3. 访问某个元素。具体而言，给定字符串 $s$，表示所访问的元素。与 C++ 等语言相同，采用 `.` 来访问结构体类型的成员。如 `a.b.c`，表示 `a` 是一个已定义的元素，它是一个结构体类型，有一个名称为 `b` 的成员，它也是一个结构体类型，有一个名称为 `c` 的成员。你需要输出如上被访问的**最内层**元素的起始地址。\n\n4. 访问某个内存地址。具体而言，给定非负整数 $addr$，表示所访问的地址，你需要判断是否存在一个**基本类型**的元素占据了该地址。若是，则按操作 3 中的访问元素格式输出该元素；否则输出 `ERR`。", "inputFormat": "第 $1$ 行：一个正整数 $n$，表示操作的数量。\n\n接下来若干行，依次描述每个操作，每行第一个正整数 $op$ 表示操作类型：\n\n- 若 $op = 1$，首先输入一个字符串 $s$ 与一个正整数 $k$，表示类型名与成员数量，接下来 $k$ 行每行输入两个字符串 $t_i, n_i$，依次表示每个成员的类型与名称。\n\n- 若 $op = 2$，输入两个字符串 $t, n$，表示该元素的类型与名称。\n\n- 若 $op = 3$，输入一个字符串 $s$，表示所访问的元素。\n\n- 若 $op = 4$，输入一个非负整数 $addr$，表示所访问的地址。", "outputFormat": "输出 $n$ 行，依次表示每个操作的输出结果，输出要求如题目描述中所述。", "hint": "#### 【样例 1 解释】\n\n结构体类型 `a` 中，`short` 类型的成员 `aa` 占据第 $0 \\sim 1$ 字节地址，`int` 类型的成员 `ab` 占据第 $4 \\sim 7$ 字节地址。又由于其对齐要求为 $4$ 字节，可得其大小为 $8$ 字节。由此可同理计算出结构体类型 `b` 的大小为 $16$ 字节，对齐要求为 $8$ 字节。\n\n#### 【样例 2】\n\n见选手目录下的 struct/struct2.in 与 struct/struct2.ans。\n\n#### 【样例 2 解释】\n第二个操作 4 中，访问的内存地址恰好在为了地址对齐而留下的 “洞” 里，因此没有基本类型元素占据它。\n\n#### 【样例 3】\n见选手目录下的 struct/struct3.in 与 struct/struct3.ans。\n\n#### 【数据范围】\n对于全部数据，满足 $1 \\le n \\le 100$，$1 \\le k \\le 100$，$0 \\le addr \\le 10^{18}$。\n\n所有定义的结构体类型名、成员名称和定义的元素名称均由不超过 $10$ 个字符的小写字母组成，且都不是 `byte,short,int,long`（即不与基本类型重名）。\n\n所有定义的结构体类型名和元素名称互不相同，同一结构体内成员名称互不相同。但不同的结构体可能有相同的成员名称，某结构体内的成员名称也可能与定义的结构体或元素名称相同。\n\n保证所有操作均符合题目所述的规范和要求，即结构体的定义不会包含不存在的类型、不会访问不存在的元素或成员等。\n\n保证任意结构体大小及定义的元素占据的最高内存地址均不超过 $10^{18}$。\n\n| 测试点 | 特殊性质 |\n| :----------: | :----------: |\n| $1$ | A、D |\n| $2\\sim 3$ | A |\n| $4\\sim 5$ | B、D |\n| $6\\sim 8$  | B |\n| $9\\sim 10$ | C、D|\n| $11\\sim 13$ | C|\n| $14\\sim 16$ |D|\n|$17\\sim 20$| 无|\n\n特殊性质 A：没有操作 $1$；\n\n特殊性质 B：只有一个操作 $1$；\n\n特殊性质 C：所有操作 $1$ 中给出的成员类型均为基本类型；\n\n特殊性质 D：基本类型只有 `long`。\n\n#### 【提示】\n\n对于结构体类型的对齐要求和大小，形式化的定义方式如下：\n\n- 设该结构体内有 $k$ 个成员，其大小分别为 $s_1,...,s_k$，对齐要求分别为 $a_1,...,a_k$;\n- 则该结构体的对齐要求为 $a=\\max\\{a_1,...,a_k\\}$；\n- 再设这些成员排布时的**地址偏移量**分别为 $o_1,...,o_k$，则：\n  - $o_1 = 0$;\n  - 对于 $i=2,...,k$，$o_i$ 为满足 $o_{i-1}+s_{i-1}\\le o_i$ 且 $a_i$ 整除 $o_i$ 的最小值；\n  - 则该结构体的大小 $s$ 为满足 $o_k+s_k\\le s$ 且 $a$ 整除 $s$ 的最小值；\n\n对于定义元素时的内存排布，形式化的定义方式如下：\n\n- 设第 $i$ 个被定义的元素大小为 $s_i$，对齐要求为 $a_i$，起始地址为 $b_i$;\n- 则 $b_1 = 0$，对于 $2\\le i$， $b_i$ 为满足 $b_{i-1} + s_{i-1}\\le b_i$ 且 $a_i$ 整除 $b_i$ 的最小值。\n", "locale": "zh-CN"}}}
{"pid": "P9755", "type": "P", "difficulty": 5, "samples": [["4\n12 1 1\n2 4 -1\n10 3 0\n7 10 -2\n1 2\n1 3\n3 4", "5\n"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["贪心", "二分", "2023", "O2优化", "CSP-S 提高级"], "title": "[CSP-S 2023] 种树", "background": null, "description": "你是一个森林养护员，有一天，你接到了一个任务：在一片森林内的地块上种树，并养护至树木长到指定的高度。\n\n森林的地图有 $n$ 片地块，其中 $1$ 号地块连接森林的入口。共有 $n-1$ 条道路连接这些地块，使得每片地块都能通过道路互相到达。最开始，每片地块上都没有树木。\n\n你的目标是：在每片地块上均种植一棵树木，并使得 $i$ 号地块上的树的高度生长到不低于 $a_i$ 米。\n\n你每天可以选择一个未种树且**与某个已种树的地块直接邻接**（**即通过单条道路相连**）的地块，种一棵高度为 $0$ 米的树。如果所有地块均已种过树，则你当天不进行任何操作。特别地，第 $1$ 天你只能在 $1$ 号空地种树。\n\n对每个地块而言，从该地块被种下树的当天开始，该地块上的树每天都会生长一定的高度。由于气候和土壤条件不同，在第 $x$ 天，$i$ 号地块上的树会长高 $\\max(b_i + x \\times c_i, 1)$ 米。注意这里的 $x$ 是从整个任务的第一天，而非种下这棵树的第一天开始计算。\n\n你想知道：最少需要多少天能够完成你的任务？", "inputFormat": "输入的第一行包含一个正整数 $n$，表示森林的地块数量。\n\n接下来 $n$ 行：每行包含三个整数 $a_i, b_i, c_i$，分别描述一片地块，含义如题目描述中所述。\n\n接下来 $n-1$ 行：每行包含两个正整数 $u_i, v_i$，表示一条连接地块 $u_i$ 和 $v_i$ 的道路。", "outputFormat": "输出一行仅包含一个正整数，表示完成任务所需的最少天数。", "hint": "**【样例 1 解释】**\n\n第 $1$ 天：在地块 $1$ 种树，地块 $1$ 的树木长高至 $2$ 米。\n\n第 $2$ 天：在地块 $3$ 种树，地块 $1, 3$ 的树木分别长高至 $5, 3$ 米。\n\n第 $3$ 天：在地块 $4$ 种树，地块 $1, 3, 4$ 的树木分别长高至 $9, 6, 4$ 米。\n\n第 $4$ 天：在地块 $2$ 种树，地块 $1, 2, 3, 4$ 的树木分别长高至 $14, 1, 9, 6$ 米。\n\n第 $5$ 天：地块 $1, 2, 3, 4$ 的树木分别长高至 $20, 2, 12, 7$ 米。\n\n**【样例 2】**\n\n见选手目录下的 `tree/tree2.in` 与 `tree/tree2.ans`。\n\n**【样例 3】**\n\n见选手目录下的 `tree/tree3.in` 与 `tree/tree3.ans`。\n\n**【样例 4】**\n\n见选手目录下的 `tree/tree4.in` 与 `tree/tree4.ans`。\n\n**【数据范围】**\n\n对于所有测试数据有：$1 \\le n \\le 10^5,1 \\le a_i \\le 10^{18}, 1 \\le b_i \\le 10^9,0 \\le |c_i| \\le 10^9, 1 \\le u_i, v_i \\le n$。保证存在方案能在 $10^9$ 天内完成任务。\n\n::cute-table{tuack}\n\n| 测试点编号 | $n \\leq$ | 特殊性质 |\n| :-: | :-: | :-: |\n| $1$ | $20$ | $\\text A$ |\n| $2\\sim4$ | ^ | 无 |\n| $5\\sim6$ | $500$ | $\\text A$ |\n| $7\\sim8$ | $10^5$ | ^ |\n| $9\\sim10$ | ^ | $\\text B$ |\n| $11\\sim13$ | ^ | $\\text C$ |\n| $14\\sim16$ | ^ | $\\text D$ |\n| $17\\sim20$ | ^ | 无 |\n\n特殊性质 $\\text A$：对于所有 $1 ≤ i ≤ n$，均有 $c_i = 0$；\n\n特殊性质 $\\text B$：对于所有 $1 ≤ i < n$，均有 $u_i = i,v_i = i + 1$；\n\n特殊性质 $\\text C$：与任何地块直接相连的道路均不超过 $2$ 条；\n\n特殊性质 $\\text D$：对于所有 $1 ≤ i < n$，均有 $u_i = 1$。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[CSP-S 2023] 种树", "background": null, "description": "你是一个森林养护员，有一天，你接到了一个任务：在一片森林内的地块上种树，并养护至树木长到指定的高度。\n\n森林的地图有 $n$ 片地块，其中 $1$ 号地块连接森林的入口。共有 $n-1$ 条道路连接这些地块，使得每片地块都能通过道路互相到达。最开始，每片地块上都没有树木。\n\n你的目标是：在每片地块上均种植一棵树木，并使得 $i$ 号地块上的树的高度生长到不低于 $a_i$ 米。\n\n你每天可以选择一个未种树且**与某个已种树的地块直接邻接**（**即通过单条道路相连**）的地块，种一棵高度为 $0$ 米的树。如果所有地块均已种过树，则你当天不进行任何操作。特别地，第 $1$ 天你只能在 $1$ 号空地种树。\n\n对每个地块而言，从该地块被种下树的当天开始，该地块上的树每天都会生长一定的高度。由于气候和土壤条件不同，在第 $x$ 天，$i$ 号地块上的树会长高 $\\max(b_i + x \\times c_i, 1)$ 米。注意这里的 $x$ 是从整个任务的第一天，而非种下这棵树的第一天开始计算。\n\n你想知道：最少需要多少天能够完成你的任务？", "inputFormat": "输入的第一行包含一个正整数 $n$，表示森林的地块数量。\n\n接下来 $n$ 行：每行包含三个整数 $a_i, b_i, c_i$，分别描述一片地块，含义如题目描述中所述。\n\n接下来 $n-1$ 行：每行包含两个正整数 $u_i, v_i$，表示一条连接地块 $u_i$ 和 $v_i$ 的道路。", "outputFormat": "输出一行仅包含一个正整数，表示完成任务所需的最少天数。", "hint": "**【样例 1 解释】**\n\n第 $1$ 天：在地块 $1$ 种树，地块 $1$ 的树木长高至 $2$ 米。\n\n第 $2$ 天：在地块 $3$ 种树，地块 $1, 3$ 的树木分别长高至 $5, 3$ 米。\n\n第 $3$ 天：在地块 $4$ 种树，地块 $1, 3, 4$ 的树木分别长高至 $9, 6, 4$ 米。\n\n第 $4$ 天：在地块 $2$ 种树，地块 $1, 2, 3, 4$ 的树木分别长高至 $14, 1, 9, 6$ 米。\n\n第 $5$ 天：地块 $1, 2, 3, 4$ 的树木分别长高至 $20, 2, 12, 7$ 米。\n\n**【样例 2】**\n\n见选手目录下的 `tree/tree2.in` 与 `tree/tree2.ans`。\n\n**【样例 3】**\n\n见选手目录下的 `tree/tree3.in` 与 `tree/tree3.ans`。\n\n**【样例 4】**\n\n见选手目录下的 `tree/tree4.in` 与 `tree/tree4.ans`。\n\n**【数据范围】**\n\n对于所有测试数据有：$1 \\le n \\le 10^5,1 \\le a_i \\le 10^{18}, 1 \\le b_i \\le 10^9,0 \\le |c_i| \\le 10^9, 1 \\le u_i, v_i \\le n$。保证存在方案能在 $10^9$ 天内完成任务。\n\n::cute-table{tuack}\n\n| 测试点编号 | $n \\leq$ | 特殊性质 |\n| :-: | :-: | :-: |\n| $1$ | $20$ | $\\text A$ |\n| $2\\sim4$ | ^ | 无 |\n| $5\\sim6$ | $500$ | $\\text A$ |\n| $7\\sim8$ | $10^5$ | ^ |\n| $9\\sim10$ | ^ | $\\text B$ |\n| $11\\sim13$ | ^ | $\\text C$ |\n| $14\\sim16$ | ^ | $\\text D$ |\n| $17\\sim20$ | ^ | 无 |\n\n特殊性质 $\\text A$：对于所有 $1 ≤ i ≤ n$，均有 $c_i = 0$；\n\n特殊性质 $\\text B$：对于所有 $1 ≤ i < n$，均有 $u_i = i,v_i = i + 1$；\n\n特殊性质 $\\text C$：与任何地块直接相连的道路均不超过 $2$ 条；\n\n特殊性质 $\\text D$：对于所有 $1 ≤ i < n$，均有 $u_i = 1$。", "locale": "zh-CN"}}}
{"pid": "P9756", "type": "P", "difficulty": 2, "samples": [["7 3\n5 21 9", "DA"], ["5 4\n8 5 10 3", "NE"], ["6 5\n5 5 5 5 5", "NE"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #3] Estimathon", "background": "Paula 和 Domagoj 正要组织一场激动人心的名为 Estimathon 的团队比赛。他们已经准备好了问题，现在为此布置房间。", "description": "眨眼间，Domagoj 已经在屋里放置了 $n$ 张桌子。现在他们需要增置椅子。他们有五颜六色的椅子。一共有 $m$ 种颜色并且第 $i$ 种颜色的椅子有 $a_i$ 把。参赛每队由**四**人组成。因此对于每张桌子来说，Paula 和 Domagoj 需要增置 $4$ 把椅子。他们想把房间布置地尽可能好。为此，他们约定以下条件：\n- 每张桌子的椅子颜色需要相同\n- 每种颜色的椅子至少有一张桌子用到了\n\n由于过分关心房间的完美程度，他们突然发现考核其实已然开始了。请你帮他们寻找是否有一种可能的安排方式。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示桌子的数量和椅子的颜色数。\n\n第二行包含 $m$ 个整数 $a_i$，第 $i$ 个数表示第 $i$ 种颜色的椅子的数量。", "outputFormat": "一行一个字符串。\n\n如果可以找到满足条件的方案，输出 `DA`；\n\n否则输出 `NE`。", "hint": "**【样例解释 #2】**\n\n我们可以有 $5$ 张分别拥有相同颜色椅子的桌子，但是我们没法使得一张桌子有第四种颜色，所以第二个条件没法满足。\n\n**【数据范围】**\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$11$|$a_1=... =a_m=4$\n|$2$|$39$|无特殊限制|\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,m \\leq 100,1\\le a_i\\le 100$。\n\n**本题满分 $50$ 分。**", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #3] Estimathon", "background": "Paula 和 Domagoj 正要组织一场激动人心的名为 Estimathon 的团队比赛。他们已经准备好了问题，现在为此布置房间。", "description": "眨眼间，Domagoj 已经在屋里放置了 $n$ 张桌子。现在他们需要增置椅子。他们有五颜六色的椅子。一共有 $m$ 种颜色并且第 $i$ 种颜色的椅子有 $a_i$ 把。参赛每队由**四**人组成。因此对于每张桌子来说，Paula 和 Domagoj 需要增置 $4$ 把椅子。他们想把房间布置地尽可能好。为此，他们约定以下条件：\n- 每张桌子的椅子颜色需要相同\n- 每种颜色的椅子至少有一张桌子用到了\n\n由于过分关心房间的完美程度，他们突然发现考核其实已然开始了。请你帮他们寻找是否有一种可能的安排方式。", "inputFormat": "第一行包含两个整数 $n,m$，分别表示桌子的数量和椅子的颜色数。\n\n第二行包含 $m$ 个整数 $a_i$，第 $i$ 个数表示第 $i$ 种颜色的椅子的数量。", "outputFormat": "一行一个字符串。\n\n如果可以找到满足条件的方案，输出 `DA`；\n\n否则输出 `NE`。", "hint": "**【样例解释 #2】**\n\n我们可以有 $5$ 张分别拥有相同颜色椅子的桌子，但是我们没法使得一张桌子有第四种颜色，所以第二个条件没法满足。\n\n**【数据范围】**\n\n|$\\text{Subtask}$|分值|特殊性质|\n|:-:|:-:|:-:|\n|$1$|$11$|$a_1=... =a_m=4$\n|$2$|$39$|无特殊限制|\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,m \\leq 100,1\\le a_i\\le 100$。\n\n**本题满分 $50$ 分。**", "locale": "zh-CN"}}}
{"pid": "P9757", "type": "P", "difficulty": 3, "samples": [["5 2\n2 3 4 5 1\n1 3\n3 1", "NE\nDA"], ["4 2\n2 3 1 4\n4 2\n3 4", "NE\nDA"], ["6 5\n2 1 5 6 3 4\n3 1\n3 4\n3 2\n4 5\n5 4", "NE\nNE\nDA\nNE\nDA"]], "limits": {"time": [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #3] Dirigent", "background": "", "description": "信息学冬令营以一场传统舞蹈结营。一共有 $n$ 名学生参与。他们每个人都有分别有一个 $1\\sim n$ 之间的编号。\n\n一开始，指挥者 Kreso 要求学生们围成一个圈，使得每个学生都与另外两个学生拉着手。\n\nAlenka 想知道是否有可能通过将且仅将一对相邻同学分开手，使得这样形成的同学序列按照编号排序。例如，如果他们的顺序是 `3 4 1 2`，那么圈可以从 `4` `1` 两个同学间断开；但是如果顺序是 `2 1 4 3`，那么没有一种合理的方式。\n\n在这一晚，Kreso 准备下达 $q$ 条指令。在每条指令中，他会要求两个学生交换位置。在每一次交换之后你需要帮助 Alenka 回答他的问题。\n", "inputFormat": "第一行包含两个整数 $n,q$，表示学生的数量和交换数。\n\n第二行包含 $n$ 个整数 $a_i$，描述第 $i$ 个位置的学生编号。\n\n在接下来的 $q$ 行中，每行两个整数 $x_i,y_i$，描述 Kreso 的第 $i$ 条指令，即标号 $x_i$ 的学生和标号 $y_i$ 的学生交换位置。", "outputFormat": "共 $q$ 行。\n\n在第 $i$ 行输出在第 $i$ 次交换后 Alenka 的问题的答案。\n\n如果答案是肯定的，输出 `DA`，否则输出 `NE`。", "hint": "**【样例解释 #2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/382d6t5r.png)\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n,q \\leq 500$ |\n| $2$ | $20$ | $n,q \\leq 5000$ |\n| $3$ | $35$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,q \\leq 3\\times10^5,1\\le a_i\\le n, 1\\le x_i,y_i\\le n,x_i\\neq y_i$。\n\n本题满分 $70$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #3] Dirigent", "background": "", "description": "信息学冬令营以一场传统舞蹈结营。一共有 $n$ 名学生参与。他们每个人都有分别有一个 $1\\sim n$ 之间的编号。\n\n一开始，指挥者 Kreso 要求学生们围成一个圈，使得每个学生都与另外两个学生拉着手。\n\nAlenka 想知道是否有可能通过将且仅将一对相邻同学分开手，使得这样形成的同学序列按照编号排序。例如，如果他们的顺序是 `3 4 1 2`，那么圈可以从 `4` `1` 两个同学间断开；但是如果顺序是 `2 1 4 3`，那么没有一种合理的方式。\n\n在这一晚，Kreso 准备下达 $q$ 条指令。在每条指令中，他会要求两个学生交换位置。在每一次交换之后你需要帮助 Alenka 回答他的问题。\n", "inputFormat": "第一行包含两个整数 $n,q$，表示学生的数量和交换数。\n\n第二行包含 $n$ 个整数 $a_i$，描述第 $i$ 个位置的学生编号。\n\n在接下来的 $q$ 行中，每行两个整数 $x_i,y_i$，描述 Kreso 的第 $i$ 条指令，即标号 $x_i$ 的学生和标号 $y_i$ 的学生交换位置。", "outputFormat": "共 $q$ 行。\n\n在第 $i$ 行输出在第 $i$ 次交换后 Alenka 的问题的答案。\n\n如果答案是肯定的，输出 `DA`，否则输出 `NE`。", "hint": "**【样例解释 #2】**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/382d6t5r.png)\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n,q \\leq 500$ |\n| $2$ | $20$ | $n,q \\leq 5000$ |\n| $3$ | $35$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\leq n,q \\leq 3\\times10^5,1\\le a_i\\le n, 1\\le x_i,y_i\\le n,x_i\\neq y_i$。\n\n本题满分 $70$ 分。", "locale": "zh-CN"}}}
{"pid": "P9758", "type": "P", "difficulty": 6, "samples": [["3\n6 6\n1 2 2\n1 3 2\n2 4 2\n3 5 2\n4 5 1\n5 6 2\n6 6\n1 2 2\n1 3 2\n2 4 2\n3 5 2\n4 5 3\n5 6 2\n6 7\n1 2 2\n1 3 2\n2 4 2\n3 5 2\n4 5 1\n5 6 2\n1 6 7", "2\n2 4\n0\n\n3\n2 4 6"]], "limits": {"time": [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "O2优化", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #3] Baltazar", "background": "", "description": "Baltazar 准备去度假。他现在在 Baltazargrad，正想去 Primosten 旅游。为了抵达那里，他需要穿过许多个城市。一共有 $n$ 个城市，被 $m$ 条双向道路所联接。Baltazargrad 编号为 $1$，Primosten 编号为 $n$。\n\nBaltazar 不确定从 Baltazargrad 去 Primosten 的路线，所以他将会使用 GPS，这会指引他以最短路线抵达。\n\n但 Blatazar 真的很爱旅游，而且他可以将魔法药水使用在任何一条路上（即使他没有经过），从而将路的长度增长 $2$ 千米。但他仅能使用一次药水。\n\n不久他意识到，他必须在中午之前在 Primosten 的 Zora 旅馆入住。所以他不能过分增加最短路的总长度。他现在想知道，一共有多少条路可以让他使用药水，使得最短路的长度恰好增加 $1$ 千米。", "inputFormat": "多组数据。\n\n第一行一个整数 $t$，表示数据组数。\n\n接下来对于每组数据，第一行两个整数 $n,m$，分别表示城市的数量和城市之间道路的数量。\n\n接下来的 $m$ 行，每行三个整数 $a_i,b_i,w_i$，表示一条连接城市 $a_i,b_i$ 且长度为 $w_i$ 的道路。两个城市间最多只有一条道路。\n\n保证所有城市是相互联通的。也就是说，任何一对城市，都有一条相互可达的路径，但不一定是直接相连。\n\n保证所有数据的 $n, m$ 各自之和均不超过 $300000$。\n\n", "outputFormat": "第一行输出一个整数 $c$，表示 Baltazar 可以使用魔法药水的道路数量。\n\n接下来一行 $c$ 个整数，以编号升序输出所有满足条件的道路。", "hint": "**【样例解释】**\n\n城市和道路如图所示。如果 Baltazar 把他的魔法药水使用在第二条道路上（连接城市 $3$ 和 $5$ 的），那么城市 $1$ 和 $n$ 之间最短的距离将会增加 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jeaidgpn.png)\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n,m \\leq 1000$ |\n| $2$ | $30$ | 有一条在起点终点之间的道路，这条道路的长度满足恰好比两个城市之间的最短路线长 $1$ 千米。 |\n| $3$ | $65$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\le t \\le 10000,2\\leq n \\leq 3\\times10^5,1\\le m\\le \\min(3\\times 10^5,\\dfrac{n\\times (n-1)}{2}), 1\\le a_i,b_i\\le n,a_i\\neq b_i,1\\le w_i\\le 10^9$。\n\n本题满分 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #3] Baltazar", "background": "", "description": "Baltazar 准备去度假。他现在在 Baltazargrad，正想去 Primosten 旅游。为了抵达那里，他需要穿过许多个城市。一共有 $n$ 个城市，被 $m$ 条双向道路所联接。Baltazargrad 编号为 $1$，Primosten 编号为 $n$。\n\nBaltazar 不确定从 Baltazargrad 去 Primosten 的路线，所以他将会使用 GPS，这会指引他以最短路线抵达。\n\n但 Blatazar 真的很爱旅游，而且他可以将魔法药水使用在任何一条路上（即使他没有经过），从而将路的长度增长 $2$ 千米。但他仅能使用一次药水。\n\n不久他意识到，他必须在中午之前在 Primosten 的 Zora 旅馆入住。所以他不能过分增加最短路的总长度。他现在想知道，一共有多少条路可以让他使用药水，使得最短路的长度恰好增加 $1$ 千米。", "inputFormat": "多组数据。\n\n第一行一个整数 $t$，表示数据组数。\n\n接下来对于每组数据，第一行两个整数 $n,m$，分别表示城市的数量和城市之间道路的数量。\n\n接下来的 $m$ 行，每行三个整数 $a_i,b_i,w_i$，表示一条连接城市 $a_i,b_i$ 且长度为 $w_i$ 的道路。两个城市间最多只有一条道路。\n\n保证所有城市是相互联通的。也就是说，任何一对城市，都有一条相互可达的路径，但不一定是直接相连。\n\n保证所有数据的 $n, m$ 各自之和均不超过 $300000$。\n\n", "outputFormat": "第一行输出一个整数 $c$，表示 Baltazar 可以使用魔法药水的道路数量。\n\n接下来一行 $c$ 个整数，以编号升序输出所有满足条件的道路。", "hint": "**【样例解释】**\n\n城市和道路如图所示。如果 Baltazar 把他的魔法药水使用在第二条道路上（连接城市 $3$ 和 $5$ 的），那么城市 $1$ 和 $n$ 之间最短的距离将会增加 $1$。\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jeaidgpn.png)\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $15$ | $n,m \\leq 1000$ |\n| $2$ | $30$ | 有一条在起点终点之间的道路，这条道路的长度满足恰好比两个城市之间的最短路线长 $1$ 千米。 |\n| $3$ | $65$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\le t \\le 10000,2\\leq n \\leq 3\\times10^5,1\\le m\\le \\min(3\\times 10^5,\\dfrac{n\\times (n-1)}{2}), 1\\le a_i,b_i\\le n,a_i\\neq b_i,1\\le w_i\\le 10^9$。\n\n本题满分 $110$ 分。", "locale": "zh-CN"}}}
{"pid": "P9759", "type": "P", "difficulty": 4, "samples": [["2 2\n3 2\n1 4", "2"], ["3 6\n5 2 -1\n7 3 6\n-1 3 1", "3"]], "limits": {"time": [2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000], "memory": [524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288, 524288]}, "tags": ["2022", "COCI（克罗地亚）"], "title": "[COCI 2022/2023 #3] Bomboni", "background": "", "description": "Iva 是一个狂热的糖果迷！在她面前是一块填满糖果和障碍的 $n\\times n$ 的土地。Iva 目前在左上角。通过向右或向下移动，她要前往右下角。Iva 目前所在的格子没有障碍。\n\n在每个格子中写了一个数字表示此地为糖果或障碍。Iva 会吃掉所有经过的糖果（包括起点和终点的糖果）并且将糖果对应的数字相乘。Iva 知道她自己最喜欢的数字是 $k$，所以她希望这个乘积结果能被 $k$ 整除。她想知道一共有多少条这样的路径。由于答案可能很大，她只想知道答案模 $998244353$ 的结果。", "inputFormat": "第一行两个整数 $n,k$，表示土地的边长和 Iva 的最喜欢的数字。\n\n在接下来的 $n$ 行中，每一行 $n$ 个数字，描述这片土地。如果 $a_{i,j}=-1$，那么这块土地就是障碍物，否则满足这块土地包含一个 $1\\le a_{i,j}\\le 10^6$ 的数。", "outputFormat": "一行一个整数表示结果。", "hint": "**【样例解释 #2】**\n\n共有三条这样的路线：\n- 5-2-3-3-1\n- 5-2-3-6-1\n- 5-7-3-6-1\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $13$ | $n,k,a_{i,j} \\leq 20$ |\n| $2$ | $17$ | $n,k \\leq 20$ |\n| $3$ | $33$ | $k\\le 20$ |\n| $4$ | $47$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\leq n \\leq 500,1\\le k\\le 10^6, -1\\le a_{i,j}\\le 10^6$。\n\n本题满分 $110$ 分。", "locale": "zh-CN", "translations": {"zh-CN": {"title": "[COCI 2022/2023 #3] Bomboni", "background": "", "description": "Iva 是一个狂热的糖果迷！在她面前是一块填满糖果和障碍的 $n\\times n$ 的土地。Iva 目前在左上角。通过向右或向下移动，她要前往右下角。Iva 目前所在的格子没有障碍。\n\n在每个格子中写了一个数字表示此地为糖果或障碍。Iva 会吃掉所有经过的糖果（包括起点和终点的糖果）并且将糖果对应的数字相乘。Iva 知道她自己最喜欢的数字是 $k$，所以她希望这个乘积结果能被 $k$ 整除。她想知道一共有多少条这样的路径。由于答案可能很大，她只想知道答案模 $998244353$ 的结果。", "inputFormat": "第一行两个整数 $n,k$，表示土地的边长和 Iva 的最喜欢的数字。\n\n在接下来的 $n$ 行中，每一行 $n$ 个数字，描述这片土地。如果 $a_{i,j}=-1$，那么这块土地就是障碍物，否则满足这块土地包含一个 $1\\le a_{i,j}\\le 10^6$ 的数。", "outputFormat": "一行一个整数表示结果。", "hint": "**【样例解释 #2】**\n\n共有三条这样的路线：\n- 5-2-3-3-1\n- 5-2-3-6-1\n- 5-7-3-6-1\n\n**【数据范围】**\n\n| 子任务 | 分值 | 特殊性质 |\n| :----------: | :----------: | :----------: |\n| $1$ | $13$ | $n,k,a_{i,j} \\leq 20$ |\n| $2$ | $17$ | $n,k \\leq 20$ |\n| $3$ | $33$ | $k\\le 20$ |\n| $4$ | $47$ | 无特殊性质 |\n\n对于 $100\\%$ 的数据，满足 $1\\leq n \\leq 500,1\\le k\\le 10^6, -1\\le a_{i,j}\\le 10^6$。\n\n本题满分 $110$ 分。", "locale": "zh-CN"}}}
